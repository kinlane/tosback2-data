
var USER_FIRST_NAME="FNAME";var USER_LAST_NAME="LNAME";var USER_EMAIL="EMAIL";var USER_USERNAME="USERNAME";var USER_REMEMBER_ME="REMEMBER";var SUBSCRIPTION_RETURN_VALUE="http://www.ft.com/";var SUBSCRIPTION_NAME_INPUT_ID="username";var SUBSCRIPTION_PASSWORD_INPUT_ID="password";var SUBSCRIPTION_REMEMBER_ME_INPUT_ID="rememberme";var SUBSCRIPTION_LOCATION_INPUT_ID="location";var SUBSCRIPTION_SIGN_UP_NOW_URL="https://registration.ft.com/registration/subscription-service/signup?segid=70009&segsrc=fthome";var SUBSCRIPTION_MANAGE_ACCOUNT_URL="http://registration.ft.com/registration/selfcare/";var SUBSCRIPTION_REMEMBER_ME_HELP_URL="http://www.ft.com/servicestools/rememberme";var SUBSCRIPTION_ABOUT_SUBSCRIPTION_URL="http://www.ftlatest.com/subs-guide/";var TAKE_A_TOUR_URL="http://media.ft.com/subs-guide";var OVERSIZED="oversized";var CONTENT="content";var CONT="cont";var PAGE_HEADER="page-header";var PAGE_CONTENT="page-content";var PAGE_FOOTER="page-footer";var AD_PLACEHOLDER="ad-placeholder";var AD_CONTAINER="ad-container";var TRUNC="trunc";var STRING_USERNAME="Username";var STRING_ENTER_USERNAME="";var STRING_PASSWORD="Password";var STRING_ENTER_PASSWORD="";var STRING_REMEMBER_ME="Remember me";var STRING_LOG_IN="Log in";var STRING_LOG_OUT="Log out";var STRING_YOUR_ACCOUNT="Your account";var STRING_YOUR_ACCOUNT_TITLE="Click to change your details";var STRING_ABOUT_SUBSCRIPTION="About subscription";var STRING_YOUR_DETAILS="Your details";var STRING_SUBSCRIBE="Subscribe";var DIV="div";var SPAN="span";var UL="ul";var IMG="img";var ANC="a";var H3="h3";var TR="tr";var CLASS=is.ie?"className":"class";var INPUT="input";var SELECT="select";var TEXTAREA="textarea";var OBJECT="object";var TYPE="type";var TEXT="text";var PASSWORD="password";var IFRAME="iframe";var UNDEFINED="undefined";var VISIBLE="visible";var HIDDEN="hidden";var ABSOLUTE="absolute";var BLOCK="block";var INLINE="inline";var NONE="none";var MOUSEOVER="mouseover";var MOUSEOUT="mouseout";var CLICK="click";var FOCUS="focus";var BLUR="blur";var FULL_SUPPORT=0;var PARTIAL_SUPPORT=1;var UNKNOWN_SUPPORT=2;var browserSupportLevel;var osSupportLevel;if(is.ie5_5up||is.fx||is.nav7up||is.opera7up){browserSupportLevel=FULL_SUPPORT;}else if(is.ie5||is.opera6){browserSupportLevel=PARTIAL_SUPPORT;}else{browserSupportLevel=UNKNOWN_SUPPORT;}
if(is.win){osSupportLevel=FULL_SUPPORT;}else if(is.mac||is.unix){osSupportLevel=PARTIAL_SUPPORT;}else{osSupportLevel=UNKNOWN_SUPPORT;}
function initPage(){if(document.getElementsByTagName){var divArr=document.getElementsByTagName(DIV);for(var i=0;i<divArr.length;i++){var div=divArr[i];if(div.getAttribute(CLASS)&&(div.getAttribute(CLASS).indexOf(AD_PLACEHOLDER)>=0||div.getAttribute(CLASS).indexOf(AD_CONTAINER)>=0)){if(typeof adsMouseoverHandler!="undefined"&&typeof adsMouseoutHandler!="undefined"){elListener(div,MOUSEOVER,adsMouseoverHandler);elListener(div,MOUSEOUT,adsMouseoutHandler);}}}}
if(is.opera6||is.ie5&&!is.ie5_5){var contEl=document.getElementById(CONTENT);if(contEl){addElementsToHideToCache(contEl);}}
adjustPageWidth();}
function adjustPageWidth(){var bdyEl=document.getElementsByTagName("body")[0];if(bdyEl.getAttribute(CLASS)&&bdyEl.getAttribute(CLASS).indexOf(OVERSIZED)>=0){var content=document.getElementById(CONTENT);var cont=document.getElementById(CONT);var pageHeader=document.getElementById(PAGE_HEADER);var pageContent=document.getElementById(PAGE_CONTENT);var pageFooter=document.getElementById(PAGE_FOOTER);content.style.width="auto";var realContentWidth=content.offsetWidth+150;if(realContentWidth<783){realContentWidth=783;}
pageHeader.style.width=realContentWidth+"px";pageContent.style.width=realContentWidth+"px";pageFooter.style.width=realContentWidth+"px";content.style.width="100%";}}
var refreshTimer=null;var refreshDelay=240000;var doRefreshTimer=false;function startRefreshTimer(delay,masterStart){if(masterStart){doRefreshTimer=true;}
if(delay){refreshDelay=delay;}
if(doRefreshTimer&&!refreshTimer){refreshTimer=setTimeout("window.location.reload(false)",refreshDelay);}}
function stopRefreshTimer(){clearTimeout(refreshTimer);refreshTimer=null;}
var currentTime;function setCurrentTime(millis){currentTime=millis;}
function writeDate(publishDate,dateStyle,dateFormat,expireTime){if(parseInt(currentTime)&&(currentTime-publishDate)<expireTime){document.write('<span class="'+dateStyle+'"> - '+dateFormat+'</span>');}}
function formatDate(publicationDate){var dateToFormat=new Date(publicationDate);if(publicationDate==null||isNaN(dateToFormat.getTime())){return"";}
var month=dateToFormat.getMonth()+1;var hours=dateToFormat.getHours();var minutes=dateToFormat.getMinutes();var seconds=dateToFormat.getSeconds();if(month<10){month="0"+month;}
if(hours<10){hours="0"+hours;}
if(minutes<10){minutes="0"+minutes;}
if(seconds<10){seconds="0"+seconds;}
var dateFormatted=dateToFormat.getFullYear()
+"-"
+month
+"-"
+dateToFormat.getDate()
+" "
+hours
+":"
+minutes
+":"
+seconds;return dateFormatted;}
function writeHeaderDate(){var d=new Date();var weekday=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday");var monthname=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec");var htmlStr=weekday[d.getDay()]+" "+monthname[d.getMonth()]+" "+d.getDate()+" "+d.getFullYear();document.write(htmlStr);}
function isLoggedIn(){var lName=getCookieValueSubs(USER_LAST_NAME,null);var ckExists=getCookieValueSubs(USER_REMEMBER_ME,null);if(lName==null){ckExists=null;}
return(ckExists)?true:false;}
function writeSubscriberInfo(){var isLoggedIn=document.cookie.match(/FT_User/)||document.cookie.match(/FT_Remember/);var eMail=document.cookie.match(/EMAIL=([^;:]+)/)?RegExp.$1:"Please update";var encodedPageURI=encodeURIComponent(thisPage.thisLoc);var resourceLocation="http://media.ft.com/";if(window.location.protocol.indexOf("https")==0){resourceLocation="https://registration.ft.com/";}
var htmlStr="";if(!isLoggedIn){htmlStr=''+'<form id="loginForm" method="post" action="https://registration.ft.com/registration/barrier/login/" name="loginForm">'+'<div class="login-head">'+'<h2>Log in</h2>'+'<ul>'+'<li><a title="Tour" class="text3" href="'+TAKE_A_TOUR_URL+'">Tour</a></li>'+'<li><a title="Sign up" class="text3" href="'+SUBSCRIPTION_SIGN_UP_NOW_URL+'">Sign up</a></li>'+'</ul> '+'<br clear="all"/> '+'</div>  '+'<fieldset> '+'<label>Username'+'<input type="text" value="'+STRING_ENTER_USERNAME+'" class="text" name="'+SUBSCRIPTION_NAME_INPUT_ID+'" id="'+SUBSCRIPTION_NAME_INPUT_ID+'"/> '+'</label>   '+'<div class="fieldset">'+'<label class="password">Password'+'<input id="'+SUBSCRIPTION_PASSWORD_INPUT_ID+'" name="'+SUBSCRIPTION_PASSWORD_INPUT_ID+'" class="text" value="'+STRING_ENTER_PASSWORD+'" type="password" />     '+'</label>  '+'<input type="image" alt="Log in" src="'+resourceLocation+'login.gif" class="login"/> '+'</div>'+'</fieldset> '+'<label class="rememberme"><input checked="checked" type="checkbox" name="'+SUBSCRIPTION_REMEMBER_ME_INPUT_ID+'" id="'+SUBSCRIPTION_REMEMBER_ME_INPUT_ID+'"/><a href="'+SUBSCRIPTION_REMEMBER_ME_HELP_URL+'">Remember me</a></label> '+'<input type="hidden" value="'+encodedPageURI+'" name="'+SUBSCRIPTION_LOCATION_INPUT_ID+'" id="'+SUBSCRIPTION_LOCATION_INPUT_ID+'"/>  '+'</form>';}else{var displayEmail=(eMail.length>19)?eMail.substr(0,16)+"...":eMail;htmlStr='<div class="subscribe signedin">'+'<h1><span>'+STRING_YOUR_DETAILS+'</span></h1>'+' <p id="int_subsemail">'+unescape(displayEmail)+'</p>'+' <ul>'+' <li><a href="'+SUBSCRIPTION_MANAGE_ACCOUNT_URL+'">'+STRING_YOUR_ACCOUNT+'</a></li>'+' <li><a href="'+TAKE_A_TOUR_URL+'">'+STRING_ABOUT_SUBSCRIPTION+'</a></li>'+' <li><a href="https://registration.ft.com/registration/login/logout?location=http://www.ft.com">'+STRING_LOG_OUT+'</a></li>'+' </ul>'+' </div>';}
document.write(htmlStr);}
function writeSubscriberInfoFalcon(){var isLoggedIn=document.cookie.match(/FT_User/)||document.cookie.match(/FT_Remember/);var eMail=document.cookie.match(/EMAIL=([^;:]+)/)?RegExp.$1:"Please update";var encodedPageURI=encodeURIComponent(thisPage.thisLoc);var resourceLocation="http://media.ft.com/";if(window.location.protocol.indexOf("https")==0){resourceLocation="https://registration.ft.com/";}
var htmlStr="";if(!isLoggedIn){htmlStr=''+'<form id="loginForm" method="post" action="https://registration.ft.com/registration/barrier/login/" name="loginForm">'+'<div class="login-head">'+'<h2>Log in</h2>'+'<ul><li><a title="Take a Tour" href="'+TAKE_A_TOUR_URL+'">Tour</a>   <a title="Sign up" href="'+SUBSCRIPTION_SIGN_UP_NOW_URL+'">Sign up</a></li></ul>'+'<br clear="all"/>'+'</div>'+'<fieldset>'+'<label for="'+SUBSCRIPTION_NAME_INPUT_ID+'">Username</label><br/>'+'<input type="text" value="'+STRING_ENTER_USERNAME+'" class="text" name="'+SUBSCRIPTION_NAME_INPUT_ID+'" id="'+SUBSCRIPTION_NAME_INPUT_ID+'"/>'+'</fieldset>'+'<fieldset>'+'<label for="password">Password</label><br/>'+'<input id="'+SUBSCRIPTION_PASSWORD_INPUT_ID+'" name="'+SUBSCRIPTION_PASSWORD_INPUT_ID+'" class="txt" value="'+STRING_ENTER_PASSWORD+'" type="password" /> <input type="image" alt="Log in" src="'+resourceLocation+'login.gif" class="login"/> '+'</fieldset>'+'<fieldset class="remember">'+'<input type="checkbox" checked="checked" name="'+SUBSCRIPTION_REMEMBER_ME_INPUT_ID+'" id="'+SUBSCRIPTION_REMEMBER_ME_INPUT_ID+'"/>'+'<label for="enablepersist"><a href="'+SUBSCRIPTION_REMEMBER_ME_HELP_URL+'">Remember me</a></label>'+'</fieldset>'+'<input type="hidden" value="'+encodedPageURI+'" name="'+SUBSCRIPTION_LOCATION_INPUT_ID+'" id="'+SUBSCRIPTION_LOCATION_INPUT_ID+'"/>  '+'</form>';}else{var displayEmail=(eMail.length>19)?eMail.substr(0,16)+"...":eMail;htmlStr='<div class="subscribe signedin">'+'<h2><span>Your details</span></h2>'+'<p id="int_subsemail" style="visibility: visible;">'+eMail+'</p>'+'<ul>'+'<li><a title="Click to change your details" href="'+SUBSCRIPTION_MANAGE_ACCOUNT_URL+'">'+STRING_YOUR_ACCOUNT+'</a></li>'+'<li><a href="'+TAKE_A_TOUR_URL+'">'+STRING_ABOUT_SUBSCRIPTION+'</a></li>'+'<li><a href="https://registration.ft.com/registration/login/logout?location=http://www.ft.com">'+STRING_LOG_OUT+'</a></li>'+'</ul>'+'</div>'}
document.write(htmlStr);}
var TRIPLET="triplet";var FIRST_THIRD="first-third";var SECOND_THIRD="second-third";var THIRD_THIRD="third-third";function setTripletHeights(){var divArr=document.getElementsByTagName(DIV);for(var d=0;d<divArr.length;d++){var theDiv=divArr[d];var className=theDiv.getAttribute(CLASS);var firstDivContent;var secondDivContent;var thirdDivContent;if(className&&className.indexOf(TRIPLET)>=0){var thirdDivs=theDiv.getElementsByTagName(DIV);for(var t=0;t<thirdDivs.length;t++){var tDiv=thirdDivs[t];var tClassName=tDiv.getAttribute(CLASS);if(tClassName){if(tClassName.indexOf(FIRST_THIRD)>=0){firstDivContent=tDiv;}else if(tClassName.indexOf(SECOND_THIRD)>=0){secondDivContent=tDiv;}else if(tClassName.indexOf(THIRD_THIRD)>=0){thirdDivContent=tDiv;}}}
var height1=firstDivContent.clientHeight>0?firstDivContent.clientHeight:firstDivContent.scrollHeight;var height2=secondDivContent.clientHeight>0?secondDivContent.clientHeight:secondDivContent.scrollHeight;var height3=thirdDivContent.clientHeight>0?thirdDivContent.clientHeight:thirdDivContent.scrollHeight;var max1=Math.max(height1,height2);var max2=Math.max(height1,height3);var max3=Math.max(height2,height3);if(height1!=height2||height1!=height3||height2!=height3){var finalMax=Math.max(max1,max2);if(is.ie5||is.ie5_5){finalMax+=3;}
finalMax-=3;finalMax+="px";firstDivContent.style.height=finalMax;secondDivContent.style.height=finalMax;thirdDivContent.style.height=finalMax;if(!is.ie){firstDivContent.style.height="auto";secondDivContent.style.height="auto";thirdDivContent.style.height="auto";firstDivContent.style.minHeight=finalMax;secondDivContent.style.minHeight=finalMax;thirdDivContent.style.minHeight=finalMax;}}
var h3s=theDiv.getElementsByTagName(H3);var h3MaxHeight=0;for(var h=0;h<h3s.length;h++){var hEl=h3s[h];h3MaxHeight=Math.max(h3MaxHeight,hEl.offsetHeight);}
for(var xy=0;xy<h3s.length;xy++){var hEln=h3s[xy];while(hEln.offsetHeight!=h3MaxHeight){hEln.insertBefore(document.createElement("br"),hEln.firstChild);}}}}}
function highlightItem(elsToLoopThrough,classToApply,highlightMatch1,highlightMatch2){if(elsToLoopThrough){for(var i=0;i<elsToLoopThrough.length;i++){var el=elsToLoopThrough[i];if(el.id==highlightMatch1||el.id==highlightMatch2){el.setAttribute(CLASS,(el.getAttribute(CLASS)!=null?el.getAttribute(CLASS)+" ":"")+classToApply);break;}}}}
function truncateStrToOneLine(str,el){if(el&&str){el.style.visibility="hidden";var strLen=str.length;var height=el.offsetHeight;el.innerHTML=str.wrap();var newHeight=el.offsetHeight;while(newHeight>height){el.innerHTML=str.substring(0,strLen--).wrap()+"...";newHeight=el.offsetHeight;}
el.style.visibility="visible";}}
String.prototype.wrap=function(){return this.split("").join("<wbr />");}
function getValue(key,defaultVal){var value=defaultVal;var ck=typeof location.search!='undefined'?location.search.toString():'';var begin;var str;if(key&&key.length>0&&ck&&ck.length>0){key+='=';begin=ck.indexOf(key)>-1?ck.indexOf(key)+key.length:-1;if(begin>-1){str=ck.substr(begin,ck.length);value=str.substr(0,str.indexOf('&')>0?str.indexOf('&'):str.length);}}
return(value);}
function getValueFromStr(key,defaultVal,inStr,sep,keySep){var value=defaultVal;var begin;var str;if(key&&key.length>0){key+=arguments.length>=5?keySep:'=';begin=inStr.indexOf(key)>-1?inStr.indexOf(key)+key.length:-1;if(begin>-1){str=inStr.substr(begin,inStr.length);value=str.substr(0,str.indexOf(sep)>=0?str.indexOf(sep):str.length);}}
return value;}
function getCookieValueSubs(key,defaultVal){return(getValueFromStr(key,defaultVal,document.cookie,':'));}
function elListener(obj,eventName,handlerFunc){var targetObj=(obj&&(typeof obj=="string"))?document.getElementById(obj):obj;if(targetObj){if(document.addEventListener){targetObj.addEventListener(eventName,handlerFunc,false);}else if(document.attachEvent){targetObj.attachEvent("on"+eventName,handlerFunc);}else{eval("targetObj.on"+eventName+" = handlerFunc");}}}
function elUnListener(obj,eventName,handlerFunc){var targetObj=(obj&&(typeof obj=="string"))?document.getElementById(obj):obj;if(targetObj){if(document.removeEventListener){targetObj.removeEventListener(eventName,handlerFunc,false);}else if(document.removeEvent){targetObj.removeEvent("on"+eventName,handlerFunc);}else{}}}
function showElement(){var el;for(var i=0;i<arguments.length;i++){el=(typeof arguments[i]=="string")?document.getElementById(arguments[i]):arguments[i];if(el&&el.style.visibility!=VISIBLE){el.style.visibility=VISIBLE;}
if(is.ie5_5up){showIframeMask(el);}}}
function hideElement(){var el;for(var i=0;i<arguments.length;i++){el=(typeof arguments[i]=="string")?document.getElementById(arguments[i]):arguments[i];if(el&&el.style.visibility!=HIDDEN){el.style.visibility=HIDDEN;}
if(is.ie5_5up){hideIframeMask(el);}}}
function getElementLeft(el){var leftPos=el.offsetLeft;var parentEl=el.offsetParent;while(parentEl!=null){leftPos+=parentEl.offsetLeft;parentEl=parentEl.offsetParent;}
return leftPos;}
function getElementTop(el){var topPos=el.offsetTop;var parentEl=el.offsetParent;while(parentEl!=null){topPos+=parentEl.offsetTop;parentEl=parentEl.offsetParent;}
return topPos;}
function swapClass(el,fromClassRe,toClass,dontSetOrigClass){var classStr=el.getAttribute(CLASS);if(classStr){if(!el.origClass&&!dontSetOrigClass){el.origClass=classStr;}
el.setAttribute(CLASS,classStr.replace(fromClassRe,toClass));}}
function unswapClass(el){el.setAttribute(CLASS,el.origClass);}
var HELPWIN="helpWin";var DEFAULTPOPUPWIN="defaultPopUpWin";function openWindow(url,name,features){var defaultFeatures;switch(name){case"HELP":defaultFeatures="scrollbars,toolbar=yes,location=no,nonresizable,width=515,height=527,left=0,top=0";break;default:defaultFeatures="scrollbars,toolbar=yes,location=no,nonresizable,width=515,height=527,left=0,top=0";}
if(features){defaultFeatures+=","+features;}
return window.open(url,name,defaultFeatures);}
function setWindowStatus(msg,e){if(msg){msg=msg.replace(/<.*>/ig,"").replace(/&amp;/,"&");if(is.nav6){setTimeout(function(){window.status=msg;},1);}else{window.status=msg;}
if(e&&e.preventDefault){e.preventDefault();}}}
function getBrowserWidth(){return getBrowserHeightOrWidth(true);}
function getBrowserHeight(){return getBrowserHeightOrWidth();}
function getBrowserHeightOrWidth(returnWidth){var myWidth=0;var myHeight=0;if(typeof(window.innerWidth)=='number'){myWidth=window.innerWidth;myHeight=window.innerHeight;}else if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){myWidth=document.documentElement.clientWidth;myHeight=document.documentElement.clientHeight;}else if(document.body&&(document.body.clientWidth||document.body.clientHeight)){myWidth=document.body.clientWidth;myHeight=document.body.clientHeight;}
return returnWidth?myWidth:myHeight;}
function attachOnload(codeToAttach){var currOnload=window.onload?window.onload:function(){void(0);};window.onload=function(){currOnload();eval(codeToAttach)};}
function ifrmParams(id,isOnload){if(id=='ftsubscribe'){}
else{if(is.mac&&is.ie&&!isOnload){attachOnload("ifrmParams('"+id+"',true)");}else{var ifrm=document.getElementById(id);var newParams=location.search;if(newParams.match(/ifrmLoc=([^&]*)/)||document.cookie.match(/ifrmLoc=([^;]*)/)){var newSrc=unescape(RegExp.$1);newSrc+=((newSrc.indexOf("?")>-1)?"&":"?")+(ifrm.src.match(/\?(.*)/)?RegExp.$1:"");ifrm.src=newSrc;}else{if(typeof(ifrm.src.split("?")[1])!="undefined"){newParams+=(newParams.length>0?"&":"?")+ifrm.src.split("?")[1];}
ifrm.src=ifrm.src.split("?")[0]+newParams;}}
document.cookie="ifrmLoc=; expires="+new Date().toGMTString()+"; path=/; domain=ft.com";}}
var defaultIframeHeightSet=false;function ifrmSize(id){var ifrm=document.getElementById(id);var realIfrmHeight;if(top.document.body.ifrmHeight){realIfrmHeight=top.document.body.ifrmHeight;if(!defaultIframeHeightSet){ifrm.style.height="2000px";defaultIframeHeightSet=true;}
if(realIfrmHeight){ifrm.style.height=realIfrmHeight+50+"px";var contHeight=document.getElementById("content-top").offsetHeight-document.getElementById("content-top").offsetTop;ifrm.style.height=Math.max(realIfrmHeight,contHeight)+50+"px";}}else if(ifrm&&ifrm.src.match(/ftH=([^&]*)/)){realIfrmHeight=RegExp.$1;ifrm.style.height=realIfrmHeight+"em";}else{ifrm.style.height="2000px";}}
function goToAnchor(anchorname)
{var pathinfo=location.pathname;var pos=pathinfo.indexOf("#");if(pos>=0){pathinfo=pathinfo.substring(0,pos-1);}
window.location=pathinfo+"#"+anchorname;}
isShowEllipsis=false;function showEllipsis(numLines){doShowEllipsis(numLines);}
function doShowEllipsis(numLines){if(document.getElementById(CONTENT)){var contentWell=document.getElementById(CONTENT);}else{var contentWell=document.getElementById(CONT);}
var elArr=(document.all)?document.all:contentWell.getElementsByTagName("*");var elHeight;var truncArr=new Array();for(var ix=0;ix<elArr.length;ix++){var el=elArr[ix];if(el.getAttribute(CLASS)&&el.getAttribute(CLASS).indexOf(TRUNC)>-1){truncArr[truncArr.length]=el;el.setAttribute(CLASS,el.getAttribute(CLASS).replace(/trunc/,""));}}
for(var i=0;i<truncArr.length;i++){var el=truncArr[i];var htmlStr=el.innerHTML;var wordArr=htmlStr.split(" ").reverse();var blanks="&nbsp;";if(numLines){for(var j=1;j<numLines;j++){blanks+="<br />&nbsp;";}}
el.innerHTML=blanks;elHeight=el.offsetHeight;el.innerHTML=htmlStr;if(el.offsetHeight>elHeight){var tit=el.getAttribute("title");el.setAttribute("title",unescape(el.innerHTML).replace(/&amp;/,"&")+((tit&&tit.length>0)?" - "+tit:""));el.innerHTML=wordArr.pop();while(el.offsetHeight<=elHeight){el.innerHTML+=" "+wordArr.pop();}
el.innerHTML=el.innerHTML.replace(/(\W[^\s]*)$/,"");while(el.offsetHeight<=elHeight){el.innerHTML+=".";}
el.innerHTML=el.innerHTML.replace(/\..$/,"");if(!el.innerHTML.match(/\.{3}$/)){var loopCount=0;el.innerHTML=el.innerHTML.replace(/(\W[^\s]*)$/,"");while(el.offsetHeight<=elHeight){el.innerHTML+=".";++loopCount;if(loopCount>40){break;}}
el.innerHTML=el.innerHTML.replace(/\.$/,"");}}}}
function tabShowHide(tabToShow,tabToHide,tabToHideTwo){if(document.getElementById){document.getElementById(tabToHide).style.visibility='hidden';document.getElementById(tabToHide).style.display='none';document.getElementById(tabToShow).style.display='block';document.getElementById(tabToShow).style.visibility='visible';}
if(!tabToHideTwo==0){document.getElementById(tabToHideTwo).style.visibility='hidden';document.getElementById(tabToHideTwo).style.display='none';}}
function selectAll(func){try{doSaFunction(func);}
catch(errorObject)
{msg="An error has occured.\n\n";msg+="Please manually enter your alert preferences\n";msg+="Click OK to continue.\n\n";msg+="Error number: "+
(errorObject.number&0xffff)+"\n";msg+="Description: "+
errorObject.description+"\n\n";alert(msg);}}
function doSaFunction(func){var radCount=document.editAlerts.getElementsByTagName("input").length;radCount-=2;radCount/=3;for(var i=0;i<radCount;i++){var el=document.getElementById(func+(i+1));if(el){el.checked=true;}}}
function setNidHeights(){var targetDiv=document.getElementById("nid-img");if(targetDiv){var imageHeight=(targetDiv.childNodes[0].offsetHeight)-2;if(imageHeight>20){var nidWinger=null;if(document.getElementById("nid-menu")){nidWinger=document.getElementById("nid-menu");}else if(document.getElementById("nid-briefing")){nidWinger=document.getElementById("nid-briefing");}
if(nidWinger){if(is.ie){if(!is.ie6up){imageHeight+=2;nidWinger.style.height=imageHeight+"px";}else if(!is.ie6){nidWinger.style.height=null;nidWinger.style.minHeight=imageHeight+"px";}else{nidWinger.style.height=imageHeight+"px";}}
else{nidWinger.style.minHeight=imageHeight+"px";}}}
var wdeskyContainer=document.getElementById("ad-container-wdesky");var wdeskPlaceholder=document.getElementById("ad-placeholder-wdesky");if(wdeskyContainer&&wdeskPlaceholder){var divvy=wdeskPlaceholder.getElementsByTagName("div")[0];if(divvy){wdeskyContainer.style.top=getElementTop(divvy)+"px";}}}}
function setFeaturedJobHeight(){for(var loop=0,maxcount=(divCollection=document.getElementsByTagName('div')).length;loop<maxcount;loop++){if(divCollection[loop].className.indexOf('j-row')>-1){var leftHeight=rightHeight=-1;var leftDiv=rightDiv=null;for(var loop2=0,maxcount2=(divRow=divCollection[loop].getElementsByTagName('div')).length;loop2<maxcount2;loop2++){if(divRow[loop2].className.indexOf('jbox-left')>-1)leftHeight=(leftDiv=divRow[loop2+1]).offsetHeight;if(divRow[loop2].className.indexOf('jbox-right')>-1)rightHeight=(rightDiv=divRow[loop2+1]).offsetHeight;}
if(leftHeight!=rightHeight){var variance=27;if(is.ie&&!is.ie6up)variance=0;if(leftHeight>rightHeight)rightDiv.style.height=leftHeight-variance+'px';if(leftHeight<rightHeight)leftDiv.style.height=rightHeight-variance+'px';}}}}
function tabShowHidePoll(tabToShow,tabToHide,ancToSelect,ancToDeselect){if(document.getElementById){document.getElementById(tabToHide).style.visibility='hidden';document.getElementById(tabToHide).style.display='none';document.getElementById(tabToShow).style.display='block';document.getElementById(tabToShow).style.visibility='visible';}}
function getSelectedRadio(buttonGroup){if(buttonGroup[0]){for(var i=0;i<buttonGroup.length;i++){if(buttonGroup[i].checked){return i;}}}else{if(buttonGroup.checked){return 0;}}
return-1;}
function getSelectedRadioValue(buttonGroup){var i=getSelectedRadio(buttonGroup);if(i==-1){return"";}else{if(buttonGroup[i]){return buttonGroup[i].value;}else{return buttonGroup.value;}}}
function submitPoll()
{var val=getSelectedRadioValue(document.forms["frmPoll"].answer);var newImage=new Image;var pollName=document.forms["frmPoll"].poll_name.value;newImage.src="http://specials.ft.com/cgi-bin/Specials/Common/nph-Poll.cgi?answer="+val+"&poll_name="+pollName+"&results_url=http://www.ft.com/comment/pollresults";tabShowHidePoll('ftpollresults','ftpoll');return false;}
function getUUIDFromString(stringForExtractingUUID){var safeStringForMatch=stringForExtractingUUID.toString();var articleId=safeStringForMatch.match(/[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}/);if(articleId){return articleId.toString();}
return null;}
function DirMCountry(){var categoryArr=new Array();this.addCategory=function(category){categoryArr[categoryArr.length]=category;}
this.getCategories=function(){return categoryArr;}
this.getCategory=function(idx){return categoryArr[idx];}
this.addCategoryAndRegions=function(){var category=arguments[0];this.addCategory(category);for(var i=1;i<arguments.length;i++){category.addRegion(arguments[i]);}}
this.hasOnlyOneRegionPerCategory=function(){var hasOnlyOne=true;for(i in categoryArr){if(categoryArr[i].getRegions().length>1){hasOnlyOne=false;}}
return hasOnlyOne;}}
function DirMCategory(nameM){var strName=nameM;var regionArr=new Array();this.addRegion=function(region){regionArr[regionArr.length]=region;}
this.getName=function(){return strName;}
this.getRegion=function(val){return regionArr[val];}
this.getRegions=function(){return regionArr;}}
function DirMRegion(nameD,uri){var strNameD=nameD;var uri=uri;this.setName=function(val){name=val;}
this.getName=function(){return strNameD;}
this.setUri=function(val){uri=val;}
this.getUri=function(){return uri;}}
function processDirMClick(countryM,categoryIdx){var strCountry=eval(countryM);var categories=strCountry.getCategories();var sel=document.getElementById("dirMSelect");var lbl=document.getElementById("dirMRegionCategoryLabel");if(sel){sel.options.length=null;var onlyOneRegion=strCountry.hasOnlyOneRegionPerCategory();if(categoryIdx&&categoryIdx!=-1){var regions=strCountry.getCategory(categoryIdx).getRegions();sel.options[sel.options.length]=new Option("[back to categories]",-1);for(r in regions){sel.options[sel.options.length]=new Option(regions[r].getName(),regions[r].getUri());}
if(lbl){lbl.innerHTML="Select region";}}else{for(c in categories){sel.options[sel.options.length]=new Option(categories[c].getName(),onlyOneRegion?categories[c].getRegion(0).getUri():c);}
var wholething=document.getElementById("regionmultiselector").innerHTML;if(wholething){wholething=wholething.replace(/>Private Client/," class='hilight' >Private Client");wholething=wholething.replace(/>Trading:  Financial/," class='hilight' >Trading:  Financial");wholething=wholething.replace(/>Trading: Futures/," class='hilight' >Trading: Futures");wholething=wholething.replace(/>CFD Trading/," class='hilight' >CFD Trading");document.getElementById("regionmultiselector").innerHTML=wholething;}
if(lbl){lbl.innerHTML="Select category";}}}}
function dirMProcessForm(){var sel=document.getElementById("dirMSelect");if(sel&&sel.selectedIndex>-1){var optValue=sel[sel.selectedIndex].value;if(!isNaN(optValue)){var countryRadio=document.getElementById("dirMCountryUK");var country=countryRadio.checked?"uk":"us";processDirMClick(country,optValue);}else{document.location.href=optValue;}}
return false;}
function dirMInit(){document.getElementById("frm_directoryM").style.display='block';document.getElementById("frm_directoryM").style.visibility='visible';processDirMClick(document.getElementById("dirMCountryUK").checked?"uk":"us");}
var uk=new DirMCountry();var us=new DirMCountry();function divShow(divID){if(document.getElementById){document.getElementById(divID).style.visibility='visible';document.getElementById(divID).style.display='block';}}
function divHide(divID){if(document.getElementById){document.getElementById(divID).style.visibility='hidden';document.getElementById(divID).style.display='none';}}
function hiLight(elem){document.getElementById(elem).style.backgroundColor="#990000";document.getElementById(elem).style.color="#FFFFFF";}
function loLight(elem){document.getElementById(elem).style.backgroundColor="#FFFFFF";document.getElementById(elem).style.color="#999999";}
function showHideSection(_data){loLight(visible_section);hiLight(_data.id);_data=_data.href;if(visible_section!='')divHide('g-section-'+visible_section);visible_section=_data.substring(_data.lastIndexOf('#')+1,_data.length);if(visible_section!='')divShow('g-section-'+visible_section);}
var tDoc=null;function openPopUpImage(location,width,height,title,maximise,x,y){var winProps;winProps='toolbar=0,location=0,directories=0,status=0,menubar=0,scrollbars=1,resizable=1,';if(maximise=='maximised'){winProps+="top=0,left=0,";winProps+="width="+window.screen.width+",";winProps+="height="+window.screen.height;}else{winProps+=(y!==null)?"top="+y+",":"top=50,";winProps+=(x!==null)?"left="+y+",":"left=50,";winProps+="width="+width+",";winProps+="height="+height;}
var objWin=window.open(location,'INFORMATION_BOX',winProps);objWin.focus();SiTrackLink(location);}