(function($){window.ProactiveChat={cookieName:"provars",validKeys:["Brand","Make","Model","Year","Browse Top Level (1)","Browse Part Name Cat (2)","Browse Part Name SubCat (3)","Browse Part Name (4)","SalesValue","ProdValue","NullResult","SrchNum","PageName","NumberOfFormErrors","PageNameFormError","MostRecentItemAdded","SKUPartNumber","MostRecentItemRemoved","ItemAddedToCart","ItemRemovedFromCart","CustomerSignedIn","SearchResultPageVisitCount","NoSearchResultPageVisitCount","ProdPageVisitCount","PaymentPageVisitCount","OrderId","OrderSubTotal"],validCounterKeys:["NullResult","SrchNum","SearchResultPageVisitCount","NoSearchResultPageVisitCount","ProdPageVisitCount","PaymentPageVisitCount"],validStickyKeys:["MostRecentItemAdded","MostRecentItemRemoved","SKUPartNumber","SalesValue","OrderSubTotal"],negatingStickyKeys:{"MostRecentItemAdded":"MostRecentItemRemoved","MostRecentItemRemoved":"MostRecentItemAdded"},useBasketSticky:true,basketVars:["OrderSubTotal","SKUPartNumber","SalesValue"],delimiter:"#:Prop!",pageVars:{},counterVars:{},stickyVars:{},negatingStickyVars:{},errorCountVars:{},init:function(a,b,c){this.initCookieVars();if(typeof a!=="undefined"&&a){this.initPageVars(a,b,c)}if(typeof b!=="undefined"&&b){this.initCounterVars(b)}if(typeof c!=="undefined"&&c){this.initStickyVars(c)}if(typeof componentsContents=="object"&&typeof componentsContents["component"]!="undefined"&&typeof componentsContents["component"].Proactive!='undefined'&&typeof componentsContents["component"].Proactive.CustomerSignedIn!="undefined"){var d=componentsContents["component"].Proactive.CustomerSignedIn;if(d=="true"){this.pageVars["CustomerSignedIn"]="true"}}this.clearNegatingVars(c);this.initErrorCountVars();return this},initPageVars:function(a,b,c){if(a){for(var i in a){if($.inArray(i,this.validKeys)!=-1){this.pageVars[i]=a[i];if($.inArray(i,this.validStickyKeys)!=-1&&$.inArray(i,c)!=-1){this.setStickyVar(i,a[i]);if($.inArray(a[i],this.negatingStickyKeys)){this.negatingStickyVars[i]=a[i]}}}}}},initCookieVars:function(){var c=getCookie(this.cookieName);if(!c){return}try{var a=JSON.parse(c);if(a){if(a.hasOwnProperty("c")){this.counterVars=a.c}if(a.hasOwnProperty("s")){this.stickyVars=a.s}if(a.hasOwnProperty("f")){this.initFlashVars(a.f)}if(a.hasOwnProperty("e")){this.errorCountVars=a.e}}}catch(err){}},initFlashVars:function(a){for(var i in a){this.pageVars[i]=a[i]}},initCounterVars:function(a){if(a){for(var i in a){this.setCounterVar(a[i])}}},initStickyVars:function(a){if(a){for(var i in a){var k=a[i];if(this.useBasketSticky==false&&$.inArray(k,this.basketVars)!==-1){if(!this.pageVars.hasOwnProperty(k)||!this.pageVars[k]){if(this.stickyVars.hasOwnProperty(k)){delete this.stickyVars[k]}}}else{if(this.stickyVars.hasOwnProperty(k)){this.pageVars[k]=this.stickyVars[k]}}}}},initErrorCountVars:function(){var a=null;var b=null;if(this.pageVars.hasOwnProperty("PageNameFormError")&&this.pageVars.PageNameFormError){b=this.pageVars.PageNameFormError}if(typeof this.errorCountVars!="undefined"&&this.errorCountVars){if(this.errorCountVars.hasOwnProperty("NumberOfFormErrors")){a=this.errorCountVars.NumberOfFormErrors}}if(a&&a.length>0&&b){var c=false;for(var i in a){var d=a[i]+"";var e=d.split("~~~");if(e.length==2){if(e[0]==b){c=true;var n=parseInt(e[1]);if(isNaN(n)){n=0}n++;a[i]=e[0]+"~~~"+n;this.pageVars["NumberOfFormErrors"]=n}}}if(!c){a.push(b+"~~~1");this.pageVars["NumberOfFormErrors"]=1}}else if(b){a=[b+"~~~1"];this.pageVars["NumberOfFormErrors"]=1}this.errorCountVars.NumberOfFormErrors=a},setVar:function(a,b){if($.inArray(a,this.validKeys)!=-1){this.pageVars[a]=b}return this},setCounterVar:function(a){if(this.counterVars.hasOwnProperty(a)){this.counterVars[a]=parseInt(this.counterVars[a])+1}else{this.counterVars[a]=1}this.pageVars[a]=this.counterVars[a];return this},setStickyVar:function(a,b){if(typeof b=="undefined"){if(this.stickyVars.hasOwnProperty(a)){this.pageVars[a]=this.stickyVars[a]}}else{this.stickyVars[a]=b;this.pageVars[a]=b}return this},clearNegatingVars:function(a){for(var i in this.negatingStickyVars){var b=this.negatingStickyKeys[i];var c=this.negatingStickyVars[i];if(this.pageVars.hasOwnProperty(b)&&this.pageVars[b]==c){delete this.pageVars[b]}if(this.stickyVars.hasOwnProperty(b)&&this.stickyVars[b]==c){delete this.stickyVars[b]}}if($.inArray("MostRecentItemAdded",a)!==-1){if(!this.pageVars.hasOwnProperty("MostRecentItemAdded")&&this.pageVars.hasOwnProperty("SKUPartNumber")){var d=this.pageVars.SKUPartNumber+"";var d=d.split(",");if(d.length>0&&typeof d[0]!=="undefined"){this.pageVars.MostRecentItemAdded=d[0];this.stickyVars.MostRecentItemAdded=d[0]}}if(!this.pageVars.hasOwnProperty("SKUPartNumber")&&this.pageVars.hasOwnProperty("MostRecentItemRemoved")){this.pageVars.MostRecentItemAdded=this.pageVars.MostRecentItemRemoved;this.stickyVars.MostRecentItemAdded=this.pageVars.MostRecentItemRemoved}}return this},generateParams:function(){var a=[];for(var i in this.pageVars){if(this.pageVars[i]){a.push(i+"="+this.pageVars[i])}}return a.join(this.delimiter)},writeCookie:function(){var a={"c":this.counterVars,"s":this.stickyVars,"e":this.errorCountVars};this.setCookie(this.cookieName,escape(JSON.stringify(a)));return this},setCookie:function(a,b,c){if(typeof c=="undefined"){document.cookie=a+"="+b+"; path=/"}else{var d=new Date();d.setTime(d.getTime()+(c*1000));var e="; expires="+d.toGMTString();document.cookie=a+"="+b+e+"; path=/"}},writeTag:function(){var a=document.createElement("script");a.type="text/javascript";a.text='var talCustProp = "'+this.generateParams()+'";';document.body.appendChild(a);return this},writeMoxieLib:function(){var a=document.createElement("script");a.type="text/javascript";a.src="https://autochatpa2.ehosts.net/netagent/proactive/proactive.aspx";a.defer="defer";document.body.appendChild(a);return this},writeKairosTag:function(){var a=document.createElement("script");a.type="text/javascript";a.text='var talCustProp = "PageName=Kairos Page";';document.body.appendChild(a);return this}}})(jQuery);