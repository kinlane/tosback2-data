(function(E,B){function ka(a,b,d){if(d===B&&a.nodeType===1){d=a.getAttribute("data-"+b);if(typeof d==="string"){try{d=d==="true"?true:d==="false"?false:d==="null"?null:!c.isNaN(d)?parseFloat(d):Ja.test(d)?c.parseJSON(d):d}catch(e){}c.data(a,b,d)}else d=B}return d}function U(){return false}function ca(){return true}function la(a,b,d){d[0].type=a;return c.event.handle.apply(b,d)}function Ka(a){var b,d,e,f,h,l,k,o,x,r,A,C=[];f=[];h=c.data(this,this.nodeType?"events":"__events__");if(typeof h==="function")h=h.events;if(!(a.liveFired===this||!h||!h.live||a.button&&a.type==="click")){if(a.namespace)A=RegExp("(^|\\.)"+a.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)");a.liveFired=this;var J=h.live.slice(0);for(k=0;k<J.length;k++){h=J[k];h.origType.replace(X,"")===a.type?f.push(h.selector):J.splice(k--,1)}f=c(a.target).closest(f,a.currentTarget);o=0;for(x=f.length;o<x;o++){r=f[o];for(k=0;k<J.length;k++){h=J[k];if(r.selector===h.selector&&(!A||A.test(h.namespace))){l=r.elem;e=null;if(h.preType==="mouseenter"||h.preType==="mouseleave"){a.type=h.preType;e=c(a.relatedTarget).closest(h.selector)[0]}if(!e||e!==l)C.push({elem:l,handleObj:h,level:r.level})}}}o=0;for(x=C.length;o<x;o++){f=C[o];if(d&&f.level>d)break;a.currentTarget=f.elem;a.data=f.handleObj.data;a.handleObj=f.handleObj;A=f.handleObj.origHandler.apply(f.elem,arguments);if(A===false||a.isPropagationStopped()){d=f.level;if(A===false)b=false;if(a.isImmediatePropagationStopped())break}}return b}}function Y(a,b){return(a&&a!=="*"?a+".":"")+b.replace(La,"`").replace(Ma,"&")}function ma(a,b,d){if(c.isFunction(b))return c.grep(a,function(f,h){return!!b.call(f,h,f)===d});else if(b.nodeType)return c.grep(a,function(f){return f===b===d});else if(typeof b==="string"){var e=c.grep(a,function(f){return f.nodeType===1});if(Na.test(b))return c.filter(b,e,!d);else b=c.filter(b,e)}return c.grep(a,function(f){return c.inArray(f,b)>=0===d})}function na(a,b){var d=0;b.each(function(){if(this.nodeName===(a[d]&&a[d].nodeName)){var e=c.data(a[d++]),f=c.data(this,e);if(e=e&&e.events){delete f.handle;f.events={};for(var h in e)for(var l in e[h])c.event.add(this,h,e[h][l],e[h][l].data)}}})}function Oa(a,b){b.src?c.ajax({url:b.src,async:false,dataType:"script"}):c.globalEval(b.text||b.textContent||b.innerHTML||"");b.parentNode&&b.parentNode.removeChild(b)}function oa(a,b,d){var e=b==="width"?a.offsetWidth:a.offsetHeight;if(d==="border")return e;c.each(b==="width"?Pa:Qa,function(){d||(e-=parseFloat(c.css(a,"padding"+this))||0);if(d==="margin")e+=parseFloat(c.css(a,"margin"+this))||0;else e-=parseFloat(c.css(a,"border"+this+"Width"))||0});return e}function da(a,b,d,e){if(c.isArray(b)&&b.length)c.each(b,function(f,h){d||Ra.test(a)?e(a,h):da(a+"["+(typeof h==="object"||c.isArray(h)?f:"")+"]",h,d,e)});else if(!d&&b!=null&&typeof b==="object")c.isEmptyObject(b)?e(a,""):c.each(b,function(f,h){da(a+"["+f+"]",h,d,e)});else e(a,b)}function S(a,b){var d={};c.each(pa.concat.apply([],pa.slice(0,b)),function(){d[this]=a});return d}function qa(a){if(!ea[a]){var b=c("<"+a+">").appendTo("body"),d=b.css("display");b.remove();if(d==="none"||d==="")d="block";ea[a]=d}return ea[a]}function fa(a){return c.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:false}var t=E.document,c=function(){function a(){if(!b.isReady){try{t.documentElement.doScroll("left")}catch(j){setTimeout(a,1);return}b.ready()}}var b=function(j,s){return new b.fn.init(j,s)},d=E.jQuery,e=E.$,f,h=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]+)$)/,l=/\S/,k=/^\s+/,o=/\s+$/,x=/\W/,r=/\d/,A=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,C=/^[\],:{}\s]*$/,J=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,w=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,I=/(?:^|:|,)(?:\s*\[)+/g,L=/(webkit)[ \/]([\w.]+)/,g=/(opera)(?:.*version)?[ \/]([\w.]+)/,i=/(msie)([\w.]+)/,n=/(mozilla)(?:.*? rv:([\w.]+))?/,m=navigator.userAgent,p=false,q=[],u,y=Object.prototype.toString,F=Object.prototype.hasOwnProperty,M=Array.prototype.push,N=Array.prototype.slice,O=String.prototype.trim,D=Array.prototype.indexOf,R={};b.fn=b.prototype={init:function(j,s){var v,z,H;if(!j)return this;if(j.nodeType){this.context=this[0]=j;this.length=1;return this}if(j==="body"&&!s&&t.body){this.context=t;this[0]=t.body;this.selector="body";this.length=1;return this}if(typeof j==="string")if((v=h.exec(j))&&(v[1]||!s))if(v[1]){H=s?s.ownerDocument||s:t;if(z=A.exec(j))if(b.isPlainObject(s)){j=[t.createElement(z[1])];b.fn.attr.call(j,s,true)}else j=[H.createElement(z[1])];else{z=b.buildFragment([v[1]],[H]);j=(z.cacheable?z.fragment.cloneNode(true):z.fragment).childNodes}return b.merge(this,j)}else{if((z=t.getElementById(v[2]))&&z.parentNode){if(z.id!==v[2])return f.find(j);this.length=1;this[0]=z}this.context=t;this.selector=j;return this}else if(!s&&!x.test(j)){this.selector=j;this.context=t;j=t.getElementsByTagName(j);return b.merge(this,j)}else return!s||s.jquery?(s||f).find(j):b(s).find(j);else if(b.isFunction(j))return f.ready(j);if(j.selector!==B){this.selector=j.selector;this.context=j.context}return b.makeArray(j,this)},selector:"",jquery:"1.4.4",length:0,size:function(){return this.length},toArray:function(){return N.call(this,0)},get:function(j){return j==null?this.toArray():j<0?this.slice(j)[0]:this[j]},pushStack:function(j,s,v){var z=b();b.isArray(j)?M.apply(z,j):b.merge(z,j);z.prevObject=this;z.context=this.context;if(s==="find")z.selector=this.selector+(this.selector?" ":"")+v;else if(s)z.selector=this.selector+"."+s+"("+v+")";return z},each:function(j,s){return b.each(this,j,s)},ready:function(j){b.bindReady();if(b.isReady)j.call(t,b);else q&&q.push(j);return this},eq:function(j){return j===-1?this.slice(j):this.slice(j,+j+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(N.apply(this,arguments),"slice",N.call(arguments).join(","))},map:function(j){return this.pushStack(b.map(this,function(s,v){return j.call(s,v,s)}))},end:function(){return this.prevObject||b(null)},push:M,sort:[].sort,splice:[].splice};b.fn.init.prototype=b.fn;b.extend=b.fn.extend=function(){var j,s,v,z,H,G=arguments[0]||{},K=1,Q=arguments.length,ga=false;if(typeof G==="boolean"){ga=G;G=arguments[1]||{};K=2}if(typeof G!=="object"&&!b.isFunction(G))G={};if(Q===K){G=this;--K}for(;K<Q;K++)if((j=arguments[K])!=null)for(s in j){v=G[s];z=j[s];if(G!==z)if(ga&&z&&(b.isPlainObject(z)||(H=b.isArray(z)))){if(H){H=false;v=v&&b.isArray(v)?v:[]}else v=v&&b.isPlainObject(v)?v:{};G[s]=b.extend(ga,v,z)}else if(z!==B)G[s]=z}return G};b.extend({noConflict:function(j){E.$=e;if(j)E.jQuery=d;return b},isReady:false,readyWait:1,ready:function(j){j===true&&b.readyWait--;if(!b.readyWait||j!==true&&!b.isReady){if(!t.body)return setTimeout(b.ready,1);b.isReady=true;if(!(j!==true&&--b.readyWait>0))if(q){var s=0,v=q;for(q=null;j=v[s++];)j.call(t,b);b.fn.trigger&&b(t).trigger("ready").unbind("ready")}}},bindReady:function(){if(!p){p=true;if(t.readyState==="complete")return setTimeout(b.ready,1);if(t.addEventListener){t.addEventListener("DOMContentLoaded",u,false);E.addEventListener("load",b.ready,false)}else if(t.attachEvent){t.attachEvent("onreadystatechange",u);E.attachEvent("onload",b.ready);var j=false;try{j=E.frameElement==null}catch(s){}t.documentElement.doScroll&&j&&a()}}},isFunction:function(j){return b.type(j)==="function"},isArray:Array.isArray||function(j){return b.type(j)==="array"},isWindow:function(j){return j&&typeof j==="object"&&"setInterval"in j},isNaN:function(j){return j==null||!r.test(j)||isNaN(j)},type:function(j){return j==null?String(j):R[y.call(j)]||"object"},isPlainObject:function(j){if(!j||b.type(j)!=="object"||j.nodeType||b.isWindow(j))return false;if(j.constructor&&!F.call(j,"constructor")&&!F.call(j.constructor.prototype,"isPrototypeOf"))return false;for(var s in j);return s===B||F.call(j,s)},isEmptyObject:function(j){for(var s in j)return false;return true},error:function(j){throw j;},parseJSON:function(j){if(typeof j!=="string"||!j)return null;j=b.trim(j);if(C.test(j.replace(J,"@").replace(w,"]").replace(I,"")))return E.JSON&&E.JSON.parse?E.JSON.parse(j):(new Function("return "+j))();else b.error("Invalid JSON: "+j)},noop:function(){},globalEval:function(j){if(j&&l.test(j)){var s=t.getElementsByTagName("head")[0]||t.documentElement,v=t.createElement("script");v.type="text/javascript";if(b.support.scriptEval)v.appendChild(t.createTextNode(j));else v.text=j;s.insertBefore(v,s.firstChild);s.removeChild(v)}},nodeName:function(j,s){return j.nodeName&&j.nodeName.toUpperCase()===s.toUpperCase()},each:function(j,s,v){var z,H=0,G=j.length,K=G===B||b.isFunction(j);if(v)if(K)for(z in j){if(s.apply(j[z],v)===false)break}else for(;H<G;){if(s.apply(j[H++],v)===false)break}else if(K)for(z in j){if(s.call(j[z],z,j[z])===false)break}else for(v=j[0];H<G&&s.call(v,H,v)!==false;v=j[++H]);return j},trim:O?function(j){return j==null?"":O.call(j)}:function(j){return j==null?"":j.toString().replace(k,"").replace(o,"")},makeArray:function(j,s){var v=s||[];if(j!=null){var z=b.type(j);j.length==null||z==="string"||z==="function"||z==="regexp"||b.isWindow(j)?M.call(v,j):b.merge(v,j)}return v},inArray:function(j,s){if(s.indexOf)return s.indexOf(j);for(var v=0,z=s.length;v<z;v++)if(s[v]===j)return v;return-1},merge:function(j,s){var v=j.length,z=0;if(typeof s.length==="number")for(var H=s.length;z<H;z++)j[v++]=s[z];else for(;s[z]!==B;)j[v++]=s[z++];j.length=v;return j},grep:function(j,s,v){var z=[],H;v=!!v;for(var G=0,K=j.length;G<K;G++){H=!!s(j[G],G);v!==H&&z.push(j[G])}return z},map:function(j,s,v){for(var z=[],H,G=0,K=j.length;G<K;G++){H=s(j[G],G,v);if(H!=null)z[z.length]=H}return z.concat.apply([],z)},guid:1,proxy:function(j,s,v){if(arguments.length===2)if(typeof s==="string"){v=j;j=v[s];s=B}else if(s&&!b.isFunction(s)){v=s;s=B}if(!s&&j)s=function(){return j.apply(v||this,arguments)};if(j)s.guid=j.guid=j.guid||s.guid||b.guid++;return s},access:function(j,s,v,z,H,G){var K=j.length;if(typeof s==="object"){for(var Q in s)b.access(j,Q,s[Q],z,H,v);return j}if(v!==B){z=!G&&z&&b.isFunction(v);for(Q=0;Q<K;Q++)H(j[Q],s,z?v.call(j[Q],Q,H(j[Q],s)):v,G);return j}return K?H(j[0],s):B},now:function(){return(new Date).getTime()},uaMatch:function(j){j=j.toLowerCase();j=L.exec(j)||g.exec(j)||i.exec(j)||j.indexOf("compatible")<0&&n.exec(j)||[];return{browser:j[1]||"",version:j[2]||"0"}},browser:{}});b.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(j,s){R["[object "+s+"]"]=s.toLowerCase()});m=b.uaMatch(m);if(m.browser){b.browser[m.browser]=true;b.browser.version=m.version}if(b.browser.webkit)b.browser.safari=true;if(D)b.inArray=function(j,s){return D.call(s,j)};if(!/\s/.test("\u00a0")){k=/^[\s\xA0]+/;o=/[\s\xA0]+$/}f=b(t);if(t.addEventListener)u=function(){t.removeEventListener("DOMContentLoaded",u,false);b.ready()};else if(t.attachEvent)u=function(){if(t.readyState==="complete"){t.detachEvent("onreadystatechange",u);b.ready()}};return E.jQuery=E.$=b}();(function(){c.support={};var a=t.documentElement,b=t.createElement("script"),d=t.createElement("div"),e="script"+c.now();d.style.display="none";d.innerHTML=" <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var f=d.getElementsByTagName("*"),h=d.getElementsByTagName("a")[0],l=t.createElement("select"),k=l.appendChild(t.createElement("option"));if(!(!f||!f.length||!h)){c.support={leadingWhitespace:d.firstChild.nodeType===3,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/red/.test(h.getAttribute("style")),hrefNormalized:h.getAttribute("href")==="/a",opacity:/^0.55$/.test(h.style.opacity),cssFloat:!!h.style.cssFloat,checkOn:d.getElementsByTagName("input")[0].value==="on",optSelected:k.selected,deleteExpando:true,optDisabled:false,checkClone:false,scriptEval:false,noCloneEvent:true,boxModel:null,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableHiddenOffsets:true};l.disabled=true;c.support.optDisabled=!k.disabled;b.type="text/javascript";try{b.appendChild(t.createTextNode("window."+e+"=1;"))}catch(o){}a.insertBefore(b,a.firstChild);if(E[e]){c.support.scriptEval=true;delete E[e]}try{delete b.test}catch(x){c.support.deleteExpando=false}a.removeChild(b);if(d.attachEvent&&d.fireEvent){d.attachEvent("onclick",function r(){c.support.noCloneEvent=false;d.detachEvent("onclick",r)});d.cloneNode(true).fireEvent("onclick")}d=t.createElement("div");d.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";a=t.createDocumentFragment();a.appendChild(d.firstChild);c.support.checkClone=a.cloneNode(true).cloneNode(true).lastChild.checked;c(function(){var r=t.createElement("div");r.style.width=r.style.paddingLeft="1px";t.body.appendChild(r);c.boxModel=c.support.boxModel=r.offsetWidth===2;if("zoom"in r.style){r.style.display="inline";r.style.zoom=1;c.support.inlineBlockNeedsLayout=r.offsetWidth===2;r.style.display="";r.innerHTML="<div style='width:4px;'></div>";c.support.shrinkWrapBlocks=r.offsetWidth!==2}r.innerHTML="<table><tr><td style='padding:0;display:none'></td><td>t</td></tr></table>";var A=r.getElementsByTagName("td");c.support.reliableHiddenOffsets=A[0].offsetHeight===0;A[0].style.display="";A[1].style.display="none";c.support.reliableHiddenOffsets=c.support.reliableHiddenOffsets&&A[0].offsetHeight===0;r.innerHTML="";t.body.removeChild(r).style.display="none"});a=function(r){var A=t.createElement("div");r="on"+r;var C=r in A;if(!C){A.setAttribute(r,"return;");C=typeof A[r]==="function"}return C};c.support.submitBubbles=a("submit");c.support.changeBubbles=a("change");a=b=d=f=h=null}})();var ra={},Ja=/^(?:\{.*\}|\[.*\])$/;c.extend({cache:{},uuid:0,expando:"jQuery"+c.now(),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},data:function(a,b,d){if(c.acceptData(a)){a=a==E?ra:a;var e=a.nodeType,f=e?a[c.expando]:null,h=c.cache;if(!(e&&!f&&typeof b==="string"&&d===B)){if(e)f||(a[c.expando]=f=++c.uuid);else h=a;if(typeof b==="object")if(e)h[f]=c.extend(h[f],b);else c.extend(h,b);else if(e&&!h[f])h[f]={};a=e?h[f]:h;if(d!==B)a[b]=d;return typeof b==="string"?a[b]:a}}},removeData:function(a,b){if(c.acceptData(a)){a=a==E?ra:a;var d=a.nodeType,e=d?a[c.expando]:a,f=c.cache,h=d?f[e]:e;if(b){if(h){delete h[b];d&&c.isEmptyObject(h)&&c.removeData(a)}}else if(d&&c.support.deleteExpando)delete a[c.expando];else if(a.removeAttribute)a.removeAttribute(c.expando);else if(d)delete f[e];else for(var l in a)delete a[l]}},acceptData:function(a){if(a.nodeName){var b=c.noData[a.nodeName.toLowerCase()];if(b)return!(b===true||a.getAttribute("classid")!==b)}return true}});c.fn.extend({data:function(a,b){var d=null;if(typeof a==="undefined"){if(this.length){var e=this[0].attributes,f;d=c.data(this[0]);for(var h=0,l=e.length;h<l;h++){f=e[h].name;if(f.indexOf("data-")===0){f=f.substr(5);ka(this[0],f,d[f])}}}return d}else if(typeof a==="object")return this.each(function(){c.data(this,a)});var k=a.split(".");k[1]=k[1]?"."+k[1]:"";if(b===B){d=this.triggerHandler("getData"+k[1]+"!",[k[0]]);if(d===B&&this.length){d=c.data(this[0],a);d=ka(this[0],a,d)}return d===B&&k[1]?this.data(k[0]):d}else return this.each(function(){var o=c(this),x=[k[0],b];o.triggerHandler("setData"+k[1]+"!",x);c.data(this,a,b);o.triggerHandler("changeData"+k[1]+"!",x)})},removeData:function(a){return this.each(function(){c.removeData(this,a)})}});c.extend({queue:function(a,b,d){if(a){b=(b||"fx")+"queue";var e=c.data(a,b);if(!d)return e||[];if(!e||c.isArray(d))e=c.data(a,b,c.makeArray(d));else e.push(d);return e}},dequeue:function(a,b){b=b||"fx";var d=c.queue(a,b),e=d.shift();if(e==="inprogress")e=d.shift();if(e){b==="fx"&&d.unshift("inprogress");e.call(a,function(){c.dequeue(a,b)})}}});c.fn.extend({queue:function(a,b){if(typeof a!=="string"){b=a;a="fx"}if(b===B)return c.queue(this[0],a);return this.each(function(){var d=c.queue(this,a,b);a==="fx"&&d[0]!=="inprogress"&&c.dequeue(this,a)})},dequeue:function(a){return this.each(function(){c.dequeue(this,a)})},delay:function(a,b){a=c.fx?c.fx.speeds[a]||a:a;b=b||"fx";return this.queue(b,function(){var d=this;setTimeout(function(){c.dequeue(d,b)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])}});var sa=/[\n\t]/g,ha=/\s+/,Sa=/\r/g,Ta=/^(?:href|src|style)$/,Ua=/^(?:button|input)$/i,Va=/^(?:button|input|object|select|textarea)$/i,Wa=/^a(?:rea)?$/i,ta=/^(?:radio|checkbox)$/i;c.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};c.fn.extend({attr:function(a,b){return c.access(this,a,b,true,c.attr)},removeAttr:function(a){return this.each(function(){c.attr(this,a,"");this.nodeType===1&&this.removeAttribute(a)})},addClass:function(a){if(c.isFunction(a))return this.each(function(x){var r=c(this);r.addClass(a.call(this,x,r.attr("class")))});if(a&&typeof a==="string")for(var b=(a||"").split(ha),d=0,e=this.length;d<e;d++){var f=this[d];if(f.nodeType===1)if(f.className){for(var h=" "+f.className+" ",l=f.className,k=0,o=b.length;k<o;k++)if(h.indexOf(" "+b[k]+" ")<0)l+=" "+b[k];f.className=c.trim(l)}else f.className=a}return this},removeClass:function(a){if(c.isFunction(a))return this.each(function(o){var x=c(this);x.removeClass(a.call(this,o,x.attr("class")))});if(a&&typeof a==="string"||a===B)for(var b=(a||"").split(ha),d=0,e=this.length;d<e;d++){var f=this[d];if(f.nodeType===1&&f.className)if(a){for(var h=(" "+f.className+" ").replace(sa," "),l=0,k=b.length;l<k;l++)h=h.replace(" "+b[l]+" "," ");f.className=c.trim(h)}else f.className=""}return this},toggleClass:function(a,b){var d=typeof a,e=typeof b==="boolean";if(c.isFunction(a))return this.each(function(f){var h=c(this);h.toggleClass(a.call(this,f,h.attr("class"),b),b)});return this.each(function(){if(d==="string")for(var f,h=0,l=c(this),k=b,o=a.split(ha);f=o[h++];){k=e?k:!l.hasClass(f);l[k?"addClass":"removeClass"](f)}else if(d==="undefined"||d==="boolean"){this.className&&c.data(this,"__className__",this.className);this.className=this.className||a===false?"":c.data(this,"__className__")||""}})},hasClass:function(a){a=" "+a+" ";for(var b=0,d=this.length;b<d;b++)if((" "+this[b].className+" ").replace(sa," ").indexOf(a)>-1)return true;return false},val:function(a){if(!arguments.length){var b=this[0];if(b){if(c.nodeName(b,"option")){var d=b.attributes.value;return!d||d.specified?b.value:b.text}if(c.nodeName(b,"select")){var e=b.selectedIndex;d=[];var f=b.options;b=b.type==="select-one";if(e<0)return null;var h=b?e:0;for(e=b?e+1:f.length;h<e;h++){var l=f[h];if(l.selected&&(c.support.optDisabled?!l.disabled:l.getAttribute("disabled")===null)&&(!l.parentNode.disabled||!c.nodeName(l.parentNode,"optgroup"))){a=c(l).val();if(b)return a;d.push(a)}}return d}if(ta.test(b.type)&&!c.support.checkOn)return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(Sa,"")}return B}var k=c.isFunction(a);return this.each(function(o){var x=c(this),r=a;if(this.nodeType===1){if(k)r=a.call(this,o,x.val());if(r==null)r="";else if(typeof r==="number")r+="";else if(c.isArray(r))r=c.map(r,function(C){return C==null?"":C+""});if(c.isArray(r)&&ta.test(this.type))this.checked=c.inArray(x.val(),r)>=0;else if(c.nodeName(this,"select")){var A=c.makeArray(r);c("option",this).each(function(){this.selected=c.inArray(c(this).val(),A)>=0});if(!A.length)this.selectedIndex=-1}else this.value=r}})}});c.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(a,b,d,e){if(!a||a.nodeType===3||a.nodeType===8)return B;if(e&&b in c.attrFn)return c(a)[b](d);e=a.nodeType!==1||!c.isXMLDoc(a);var f=d!==B;b=e&&c.props[b]||b;var h=Ta.test(b);if((b in a||a[b]!==B)&&e&&!h){if(f){b==="type"&&Ua.test(a.nodeName)&&a.parentNode&&c.error("type property can't be changed");if(d===null)a.nodeType===1&&a.removeAttribute(b);else a[b]=d}if(c.nodeName(a,"form")&&a.getAttributeNode(b))return a.getAttributeNode(b).nodeValue;if(b==="tabIndex")return(b=a.getAttributeNode("tabIndex"))&&b.specified?b.value:Va.test(a.nodeName)||Wa.test(a.nodeName)&&a.href?0:B;return a[b]}if(!c.support.style&&e&&b==="style"){if(f)a.style.cssText=""+d;return a.style.cssText}f&&a.setAttribute(b,""+d);if(!a.attributes[b]&&a.hasAttribute&&!a.hasAttribute(b))return B;a=!c.support.hrefNormalized&&e&&h?a.getAttribute(b,2):a.getAttribute(b);return a===null?B:a}});var X=/\.(.*)$/,ia=/^(?:textarea|input|select)$/i,La=/\./g,Ma=/ /g,Xa=/[^\w\s.|`]/g,Ya=function(a){return a.replace(Xa,"\\$&")},ua={focusin:0,focusout:0};c.event={add:function(a,b,d,e){if(!(a.nodeType===3||a.nodeType===8)){if(c.isWindow(a)&&a!==E&&!a.frameElement)a=E;if(d===false)d=U;else if(!d)return;var f,h;if(d.handler){f=d;d=f.handler}if(!d.guid)d.guid=c.guid++;if(h=c.data(a)){var l=a.nodeType?"events":"__events__",k=h[l],o=h.handle;if(typeof k==="function"){o=k.handle;k=k.events}else if(!k){a.nodeType||(h[l]=h=function(){});h.events=k={}}if(!o)h.handle=o=function(){return typeof c!=="undefined"&&!c.event.triggered?c.event.handle.apply(o.elem,arguments):B};o.elem=a;b=b.split(" ");for(var x=0,r;l=b[x++];){h=f?c.extend({},f):{handler:d,data:e};if(l.indexOf(".")>-1){r=l.split(".");l=r.shift();h.namespace=r.slice(0).sort().join(".")}else{r=[];h.namespace=""}h.type=l;if(!h.guid)h.guid=d.guid;var A=k[l],C=c.event.special[l]||{};if(!A){A=k[l]=[];if(!C.setup||C.setup.call(a,e,r,o)===false)if(a.addEventListener)a.addEventListener(l,o,false);else a.attachEvent&&a.attachEvent("on"+l,o)}if(C.add){C.add.call(a,h);if(!h.handler.guid)h.handler.guid=d.guid}A.push(h);c.event.global[l]=true}a=null}}},global:{},remove:function(a,b,d,e){if(!(a.nodeType===3||a.nodeType===8)){if(d===false)d=U;var f,h,l=0,k,o,x,r,A,C,J=a.nodeType?"events":"__events__",w=c.data(a),I=w&&w[J];if(w&&I){if(typeof I==="function"){w=I;I=I.events}if(b&&b.type){d=b.handler;b=b.type}if(!b||typeof b==="string"&&b.charAt(0)==="."){b=b||"";for(f in I)c.event.remove(a,f+b)}else{for(b=b.split(" ");f=b[l++];){r=f;k=f.indexOf(".")<0;o=[];if(!k){o=f.split(".");f=o.shift();x=RegExp("(^|\\.)"+c.map(o.slice(0).sort(),Ya).join("\\.(?:.*\\.)?")+"(\\.|$)")}if(A=I[f])if(d){r=c.event.special[f]||{};for(h=e||0;h<A.length;h++){C=A[h];if(d.guid===C.guid){if(k||x.test(C.namespace)){e==null&&A.splice(h--,1);r.remove&&r.remove.call(a,C)}if(e!=null)break}}if(A.length===0||e!=null&&A.length===1){if(!r.teardown||r.teardown.call(a,o)===false)c.removeEvent(a,f,w.handle);delete I[f]}}else for(h=0;h<A.length;h++){C=A[h];if(k||x.test(C.namespace)){c.event.remove(a,r,C.handler,h);A.splice(h--,1)}}}if(c.isEmptyObject(I)){if(b=w.handle)b.elem=null;delete w.events;delete w.handle;if(typeof w==="function")c.removeData(a,J);else c.isEmptyObject(w)&&c.removeData(a)}}}}},trigger:function(a,b,d,e){var f=a.type||a;if(!e){a=typeof a==="object"?a[c.expando]?a:c.extend(c.Event(f),a):c.Event(f);if(f.indexOf("!")>=0){a.type=f=f.slice(0,-1);a.exclusive=true}if(!d){a.stopPropagation();c.event.global[f]&&c.each(c.cache,function(){this.events&&this.events[f]&&c.event.trigger(a,b,this.handle.elem)})}if(!d||d.nodeType===3||d.nodeType===8)return B;a.result=B;a.target=d;b=c.makeArray(b);b.unshift(a)}a.currentTarget=d;(e=d.nodeType?c.data(d,"handle"):(c.data(d,"__events__")||{}).handle)&&e.apply(d,b);e=d.parentNode||d.ownerDocument;try{if(!(d&&d.nodeName&&c.noData[d.nodeName.toLowerCase()]))if(d["on"+f]&&d["on"+f].apply(d,b)===false){a.result=false;a.preventDefault()}}catch(h){}if(!a.isPropagationStopped()&&e)c.event.trigger(a,b,e,true);else if(!a.isDefaultPrevented()){var l;e=a.target;var k=f.replace(X,""),o=c.nodeName(e,"a")&&k==="click",x=c.event.special[k]||{};if((!x._default||x._default.call(d,a)===false)&&!o&&!(e&&e.nodeName&&c.noData[e.nodeName.toLowerCase()])){try{if(e[k]){if(l=e["on"+k])e["on"+k]=null;c.event.triggered=true;e[k]()}}catch(r){}if(l)e["on"+k]=l;c.event.triggered=false}}},handle:function(a){var b,d,e,f;d=[];var h=c.makeArray(arguments);a=h[0]=c.event.fix(a||E.event);a.currentTarget=this;b=a.type.indexOf(".")<0&&!a.exclusive;if(!b){e=a.type.split(".");a.type=e.shift();d=e.slice(0).sort();e=RegExp("(^|\\.)"+d.join("\\.(?:.*\\.)?")+"(\\.|$)")}a.namespace=a.namespace||d.join(".");f=c.data(this,this.nodeType?"events":"__events__");if(typeof f==="function")f=f.events;d=(f||{})[a.type];if(f&&d){d=d.slice(0);f=0;for(var l=d.length;f<l;f++){var k=d[f];if(b||e.test(k.namespace)){a.handler=k.handler;a.data=k.data;a.handleObj=k;k=k.handler.apply(this,h);if(k!==B){a.result=k;if(k===false){a.preventDefault();a.stopPropagation()}}if(a.isImmediatePropagationStopped())break}}}return a.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(a){if(a[c.expando])return a;var b=a;a=c.Event(b);for(var d=this.props.length,e;d;){e=this.props[--d];a[e]=b[e]}if(!a.target)a.target=a.srcElement||t;if(a.target.nodeType===3)a.target=a.target.parentNode;if(!a.relatedTarget&&a.fromElement)a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement;if(a.pageX==null&&a.clientX!=null){b=t.documentElement;d=t.body;a.pageX=a.clientX+(b&&b.scrollLeft||d&&d.scrollLeft||0)-(b&&b.clientLeft||d&&d.clientLeft||0);a.pageY=a.clientY+(b&&b.scrollTop||d&&d.scrollTop||0)-(b&&b.clientTop||d&&d.clientTop||0)}if(a.which==null&&(a.charCode!=null||a.keyCode!=null))a.which=a.charCode!=null?a.charCode:a.keyCode;if(!a.metaKey&&a.ctrlKey)a.metaKey=a.ctrlKey;if(!a.which&&a.button!==B)a.which=a.button&1?1:a.button&2?3:a.button&4?2:0;return a},guid:1E8,proxy:c.proxy,special:{ready:{setup:c.bindReady,teardown:c.noop},live:{add:function(a){c.event.add(this,Y(a.origType,a.selector),c.extend({},a,{handler:Ka,guid:a.handler.guid}))},remove:function(a){c.event.remove(this,Y(a.origType,a.selector),a)}},beforeunload:{setup:function(a,b,d){if(c.isWindow(this))this.onbeforeunload=d},teardown:function(a,b){if(this.onbeforeunload===b)this.onbeforeunload=null}}}};c.removeEvent=t.removeEventListener?function(a,b,d){a.removeEventListener&&a.removeEventListener(b,d,false)}:function(a,b,d){a.detachEvent&&a.detachEvent("on"+b,d)};c.Event=function(a){if(!this.preventDefault)return new c.Event(a);if(a&&a.type){this.originalEvent=a;this.type=a.type}else this.type=a;this.timeStamp=c.now();this[c.expando]=true};c.Event.prototype={preventDefault:function(){this.isDefaultPrevented=ca;var a=this.originalEvent;if(a)if(a.preventDefault)a.preventDefault();else a.returnValue=false},stopPropagation:function(){this.isPropagationStopped=ca;var a=this.originalEvent;if(a){a.stopPropagation&&a.stopPropagation();a.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ca;this.stopPropagation()},isDefaultPrevented:U,isPropagationStopped:U,isImmediatePropagationStopped:U};var va=function(a){var b=a.relatedTarget;try{for(;b&&b!==this;)b=b.parentNode;if(b!==this){a.type=a.data;c.event.handle.apply(this,arguments)}}catch(d){}},wa=function(a){a.type=a.data;c.event.handle.apply(this,arguments)};c.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){c.event.special[a]={setup:function(d){c.event.add(this,b,d&&d.selector?wa:va,a)},teardown:function(d){c.event.remove(this,b,d&&d.selector?wa:va)}}});if(!c.support.submitBubbles)c.event.special.submit={setup:function(){if(this.nodeName.toLowerCase()!=="form"){c.event.add(this,"click.specialSubmit",function(a){var b=a.target,d=b.type;if((d==="submit"||d==="image")&&c(b).closest("form").length){a.liveFired=B;return la("submit",this,arguments)}});c.event.add(this,"keypress.specialSubmit",function(a){var b=a.target,d=b.type;if((d==="text"||d==="password")&&c(b).closest("form").length&&a.keyCode===13){a.liveFired=B;return la("submit",this,arguments)}})}else return false},teardown:function(){c.event.remove(this,".specialSubmit")}};if(!c.support.changeBubbles){var V,xa=function(a){var b=a.type,d=a.value;if(b==="radio"||b==="checkbox")d=a.checked;else if(b==="select-multiple")d=a.selectedIndex>-1?c.map(a.options,function(e){return e.selected}).join("-"):"";else if(a.nodeName.toLowerCase()==="select")d=a.selectedIndex;return d},Z=function(a,b){var d=a.target,e,f;if(!(!ia.test(d.nodeName)||d.readOnly)){e=c.data(d,"_change_data");f=xa(d);if(a.type!=="focusout"||d.type!=="radio")c.data(d,"_change_data",f);if(!(e===B||f===e))if(e!=null||f){a.type="change";a.liveFired=B;return c.event.trigger(a,b,d)}}};c.event.special.change={filters:{focusout:Z,beforedeactivate:Z,click:function(a){var b=a.target,d=b.type;if(d==="radio"||d==="checkbox"||b.nodeName.toLowerCase()==="select")return Z.call(this,a)},keydown:function(a){var b=a.target,d=b.type;if(a.keyCode===13&&b.nodeName.toLowerCase()!=="textarea"||a.keyCode===32&&(d==="checkbox"||d==="radio")||d==="select-multiple")return Z.call(this,a)},beforeactivate:function(a){a=a.target;c.data(a,"_change_data",xa(a))}},setup:function(){if(this.type==="file")return false;for(var a in V)c.event.add(this,a+".specialChange",V[a]);return ia.test(this.nodeName)},teardown:function(){c.event.remove(this,".specialChange");return ia.test(this.nodeName)}};V=c.event.special.change.filters;V.focus=V.beforeactivate}t.addEventListener&&c.each({focus:"focusin",blur:"focusout"},function(a,b){function d(e){e=c.event.fix(e);e.type=b;return c.event.trigger(e,null,e.target)}c.event.special[b]={setup:function(){ua[b]++===0&&t.addEventListener(a,d,true)},teardown:function(){--ua[b]===0&&t.removeEventListener(a,d,true)}}});c.each(["bind","one"],function(a,b){c.fn[b]=function(d,e,f){if(typeof d==="object"){for(var h in d)this[b](h,e,d[h],f);return this}if(c.isFunction(e)||e===false){f=e;e=B}var l=b==="one"?c.proxy(f,function(o){c(this).unbind(o,l);return f.apply(this,arguments)}):f;if(d==="unload"&&b!=="one")this.one(d,e,f);else{h=0;for(var k=this.length;h<k;h++)c.event.add(this[h],d,l,e)}return this}});c.fn.extend({unbind:function(a,b){if(typeof a==="object"&&!a.preventDefault)for(var d in a)this.unbind(d,a[d]);else{d=0;for(var e=this.length;d<e;d++)c.event.remove(this[d],a,b)}return this},delegate:function(a,b,d,e){return this.live(b,d,e,a)},undelegate:function(a,b,d){return arguments.length===0?this.unbind("live"):this.die(b,null,d,a)},trigger:function(a,b){return this.each(function(){c.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0]){var d=c.Event(a);d.preventDefault();d.stopPropagation();c.event.trigger(d,b,this[0]);return d.result}},toggle:function(a){for(var b=arguments,d=1;d<b.length;)c.proxy(a,b[d++]);return this.click(c.proxy(a,function(e){var f=(c.data(this,"lastToggle"+a.guid)||0)%d;c.data(this,"lastToggle"+a.guid,f+1);e.preventDefault();return b[f].apply(this,arguments)||false}))},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var ya={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};c.each(["live","die"],function(a,b){c.fn[b]=function(d,e,f,h){var l,k=0,o,x,r=h||this.selector;h=h?this:c(this.context);if(typeof d==="object"&&!d.preventDefault){for(l in d)h[b](l,e,d[l],r);return this}if(c.isFunction(e)){f=e;e=B}for(d=(d||"").split(" ");(l=d[k++])!=null;){o=X.exec(l);x="";if(o){x=o[0];l=l.replace(X,"")}if(l==="hover")d.push("mouseenter"+x,"mouseleave"+x);else{o=l;if(l==="focus"||l==="blur"){d.push(ya[l]+x);l+=x}else l=(ya[l]||l)+x;if(b==="live"){x=0;for(var A=h.length;x<A;x++)c.event.add(h[x],"live."+Y(l,r),{data:e,selector:r,handler:f,origType:l,origHandler:f,preType:o})}else h.unbind("live."+Y(l,r),f)}}return this}});c.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,b){c.fn[b]=function(d,e){if(e==null){e=d;d=null}return arguments.length>0?this.bind(b,d,e):this.trigger(b)};if(c.attrFn)c.attrFn[b]=true});E.attachEvent&&!E.addEventListener&&c(E).bind("unload",function(){for(var a in c.cache)if(c.cache[a].handle)try{c.event.remove(c.cache[a].handle.elem)}catch(b){}});(function(){function a(g,i,n,m,p,q){p=0;for(var u=m.length;p<u;p++){var y=m[p];if(y){var F=false;for(y=y[g];y;){if(y.sizcache===n){F=m[y.sizset];break}if(y.nodeType===1&&!q){y.sizcache=n;y.sizset=p}if(y.nodeName.toLowerCase()===i){F=y;break}y=y[g]}m[p]=F}}}function b(g,i,n,m,p,q){p=0;for(var u=m.length;p<u;p++){var y=m[p];if(y){var F=false;for(y=y[g];y;){if(y.sizcache===n){F=m[y.sizset];break}if(y.nodeType===1){if(!q){y.sizcache=n;y.sizset=p}if(typeof i!=="string"){if(y===i){F=true;break}}else if(k.filter(i,[y]).length>0){F=y;break}}y=y[g]}m[p]=F}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e=0,f=Object.prototype.toString,h=false,l=true;[0,0].sort(function(){l=false;return 0});var k=function(g,i,n,m){n=n||[];var p=i=i||t;if(i.nodeType!==1&&i.nodeType!==9)return[];if(!g||typeof g!=="string")return n;var q,u,y,F,M,N=true,O=k.isXML(i),D=[],R=g;do{d.exec("");if(q=d.exec(R)){R=q[3];D.push(q[1]);if(q[2]){F=q[3];break}}}while(q);if(D.length>1&&x.exec(g))if(D.length===2&&o.relative[D[0]])u=L(D[0]+D[1],i);else for(u=o.relative[D[0]]?[i]:k(D.shift(),i);D.length;){g=D.shift();if(o.relative[g])g+=D.shift();u=L(g,u)}else{if(!m&&D.length>1&&i.nodeType===9&&!O&&o.match.ID.test(D[0])&&!o.match.ID.test(D[D.length-1])){q=k.find(D.shift(),i,O);i=q.expr?k.filter(q.expr,q.set)[0]:q.set[0]}if(i){q=m?{expr:D.pop(),set:C(m)}:k.find(D.pop(),D.length===1&&(D[0]==="~"||D[0]==="+")&&i.parentNode?i.parentNode:i,O);u=q.expr?k.filter(q.expr,q.set):q.set;if(D.length>0)y=C(u);else N=false;for(;D.length;){q=M=D.pop();if(o.relative[M])q=D.pop();else M="";if(q==null)q=i;o.relative[M](y,q,O)}}else y=[]}y||(y=u);y||k.error(M||g);if(f.call(y)==="[object Array]")if(N)if(i&&i.nodeType===1)for(g=0;y[g]!=null;g++){if(y[g]&&(y[g]===true||y[g].nodeType===1&&k.contains(i,y[g])))n.push(u[g])}else for(g=0;y[g]!=null;g++)y[g]&&y[g].nodeType===1&&n.push(u[g]);else n.push.apply(n,y);else C(y,n);if(F){k(F,p,n,m);k.uniqueSort(n)}return n};k.uniqueSort=function(g){if(w){h=l;g.sort(w);if(h)for(var i=1;i<g.length;i++)g[i]===g[i-1]&&g.splice(i--,1)}return g};k.matches=function(g,i){return k(g,null,null,i)};k.matchesSelector=function(g,i){return k(i,null,null,[g]).length>0};k.find=function(g,i,n){var m;if(!g)return[];for(var p=0,q=o.order.length;p<q;p++){var u,y=o.order[p];if(u=o.leftMatch[y].exec(g)){var F=u[1];u.splice(1,1);if(F.substr(F.length-1)!=="\\"){u[1]=(u[1]||"").replace(/\\/g,"");m=o.find[y](u,i,n);if(m!=null){g=g.replace(o.match[y],"");break}}}}m||(m=i.getElementsByTagName("*"));return{set:m,expr:g}};k.filter=function(g,i,n,m){for(var p,q,u=g,y=[],F=i,M=i&&i[0]&&k.isXML(i[0]);g&&i.length;){for(var N in o.filter)if((p=o.leftMatch[N].exec(g))!=null&&p[2]){var O,D,R=o.filter[N];D=p[1];q=false;p.splice(1,1);if(D.substr(D.length-1)!=="\\"){if(F===y)y=[];if(o.preFilter[N])if(p=o.preFilter[N](p,F,n,y,m,M)){if(p===true)continue}else q=O=true;if(p)for(var j=0;(D=F[j])!=null;j++)if(D){O=R(D,p,j,F);var s=m^!!O;if(n&&O!=null)if(s)q=true;else F[j]=false;else if(s){y.push(D);q=true}}if(O!==B){n||(F=y);g=g.replace(o.match[N],"");if(!q)return[];break}}}if(g===u)if(q==null)k.error(g);else break;u=g}return F};k.error=function(g){throw"Syntax error,unrecognized expression: "+g;};var o=k.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(g){return g.getAttribute("href")}},relative:{"+":function(g,i){var n=typeof i==="string",m=n&&!/\W/.test(i);n=n&&!m;if(m)i=i.toLowerCase();m=0;for(var p=g.length,q;m<p;m++)if(q=g[m]){for(;(q=q.previousSibling)&&q.nodeType!==1;);g[m]=n||q&&q.nodeName.toLowerCase()===i?q||false:q===i}n&&k.filter(i,g,true)},">":function(g,i){var n,m=typeof i==="string",p=0,q=g.length;if(m&&!/\W/.test(i))for(i=i.toLowerCase();p<q;p++){if(n=g[p]){n=n.parentNode;g[p]=n.nodeName.toLowerCase()===i?n:false}}else{for(;p<q;p++)if(n=g[p])g[p]=m?n.parentNode:n.parentNode===i;m&&k.filter(i,g,true)}},"":function(g,i,n){var m,p=e++,q=b;if(typeof i==="string"&&!/\W/.test(i)){m=i=i.toLowerCase();q=a}q("parentNode",i,p,g,m,n)},"~":function(g,i,n){var m,p=e++,q=b;if(typeof i==="string"&&!/\W/.test(i)){m=i=i.toLowerCase();q=a}q("previousSibling",i,p,g,m,n)}},find:{ID:function(g,i,n){if(typeof i.getElementById!=="undefined"&&!n)return(g=i.getElementById(g[1]))&&g.parentNode?[g]:[]},NAME:function(g,i){if(typeof i.getElementsByName!=="undefined"){for(var n=[],m=i.getElementsByName(g[1]),p=0,q=m.length;p<q;p++)m[p].getAttribute("name")===g[1]&&n.push(m[p]);return n.length===0?null:n}},TAG:function(g,i){return i.getElementsByTagName(g[1])}},preFilter:{CLASS:function(g,i,n,m,p,q){g=" "+g[1].replace(/\\/g,"")+" ";if(q)return g;q=0;for(var u;(u=i[q])!=null;q++)if(u)if(p^(u.className&&(" "+u.className+" ").replace(/[\t\n]/g," ").indexOf(g)>=0))n||m.push(u);else if(n)i[q]=false;return false},ID:function(g){return g[1].replace(/\\/g,"")},TAG:function(g){return g[1].toLowerCase()},CHILD:function(g){if(g[1]==="nth"){var i=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(g[2]==="even"&&"2n"||g[2]==="odd"&&"2n+1"||!/\D/.test(g[2])&&"0n+"+g[2]||g[2]);g[2]=i[1]+(i[2]||1)-0;g[3]=i[3]-0}g[0]=e++;return g},ATTR:function(g,i,n,m,p,q){i=g[1].replace(/\\/g,"");if(!q&&o.attrMap[i])g[1]=o.attrMap[i];if(g[2]==="~=")g[4]=" "+g[4]+" ";return g},PSEUDO:function(g,i,n,m,p){if(g[1]==="not")if((d.exec(g[3])||"").length>1||/^\w/.test(g[3]))g[3]=k(g[3],null,null,i);else{g=k.filter(g[3],i,n,true^p);n||m.push.apply(m,g);return false}else if(o.match.POS.test(g[0])||o.match.CHILD.test(g[0]))return true;return g},POS:function(g){g.unshift(true);return g}},filters:{enabled:function(g){return g.disabled===false&&g.type!=="hidden"},disabled:function(g){return g.disabled===true},checked:function(g){return g.checked===true},selected:function(g){return g.selected===true},parent:function(g){return!!g.firstChild},empty:function(g){return!g.firstChild},has:function(g,i,n){return!!k(n[3],g).length},header:function(g){return/h\d/i.test(g.nodeName)},text:function(g){return"text"===g.type},radio:function(g){return"radio"===g.type},checkbox:function(g){return"checkbox"===g.type},file:function(g){return"file"===g.type},password:function(g){return"password"===g.type},submit:function(g){return"submit"===g.type},image:function(g){return"image"===g.type},reset:function(g){return"reset"===g.type},button:function(g){return"button"===g.type||g.nodeName.toLowerCase()==="button"},input:function(g){return/input|select|textarea|button/i.test(g.nodeName)}},setFilters:{first:function(g,i){return i===0},last:function(g,i,n,m){return i===m.length-1},even:function(g,i){return i%2===0},odd:function(g,i){return i%2===1},lt:function(g,i,n){return i<n[3]-0},gt:function(g,i,n){return i>n[3]-0},nth:function(g,i,n){return n[3]-0===i},eq:function(g,i,n){return n[3]-0===i}},filter:{PSEUDO:function(g,i,n,m){var p=i[1],q=o.filters[p];if(q)return q(g,n,i,m);else if(p==="contains")return(g.textContent||g.innerText||k.getText([g])||"").indexOf(i[3])>=0;else if(p==="not"){i=i[3];n=0;for(m=i.length;n<m;n++)if(i[n]===g)return false;return true}else k.error("Syntax error,unrecognized expression: "+p)},CHILD:function(g,i){var n=i[1],m=g;switch(n){case "only":case "first":for(;m=m.previousSibling;)if(m.nodeType===1)return false;if(n==="first")return true;m=g;case "last":for(;m=m.nextSibling;)if(m.nodeType===1)return false;return true;case "nth":n=i[2];var p=i[3];if(n===1&&p===0)return true;var q=i[0],u=g.parentNode;if(u&&(u.sizcache!==q||!g.nodeIndex)){var y=0;for(m=u.firstChild;m;m=m.nextSibling)if(m.nodeType===1)m.nodeIndex=++y;u.sizcache=q}m=g.nodeIndex-p;return n===0?m===0:m%n===0&&m/n>=0}},ID:function(g,i){return g.nodeType===1&&g.getAttribute("id")===i},TAG:function(g,i){return i==="*"&&g.nodeType===1||g.nodeName.toLowerCase()===i},CLASS:function(g,i){return(" "+(g.className||g.getAttribute("class"))+" ").indexOf(i)>-1},ATTR:function(g,i){var n=i[1];n=o.attrHandle[n]?o.attrHandle[n](g):g[n]!=null?g[n]:g.getAttribute(n);var m=n+"",p=i[2],q=i[4];return n==null?p==="!=":p==="="?m===q:p==="*="?m.indexOf(q)>=0:p==="~="?(" "+m+" ").indexOf(q)>=0:!q?m&&n!==false:p==="!="?m!==q:p==="^="?m.indexOf(q)===0:p==="$="?m.substr(m.length-q.length)===q:p==="|="?m===q||m.substr(0,q.length+1)===q+"-":false},POS:function(g,i,n,m){var p=o.setFilters[i[2]];if(p)return p(g,n,i,m)}}},x=o.match.POS,r=function(g,i){return"\\"+(i-0+1)},A;for(A in o.match){o.match[A]=RegExp(o.match[A].source+/(?![^\[]*\])(?![^\(]*\))/.source);o.leftMatch[A]=RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[A].source.replace(/\\(\d+)/g,r))}var C=function(g,i){g=Array.prototype.slice.call(g,0);if(i){i.push.apply(i,g);return i}return g};try{Array.prototype.slice.call(t.documentElement.childNodes,0)}catch(J){C=function(g,i){var n=0,m=i||[];if(f.call(g)==="[object Array]")Array.prototype.push.apply(m,g);else if(typeof g.length==="number")for(var p=g.length;n<p;n++)m.push(g[n]);else for(;g[n];n++)m.push(g[n]);return m}}var w,I;if(t.documentElement.compareDocumentPosition)w=function(g,i){if(g===i){h=true;return 0}if(!g.compareDocumentPosition||!i.compareDocumentPosition)return g.compareDocumentPosition?-1:1;return g.compareDocumentPosition(i)&4?-1:1};else{w=function(g,i){var n,m,p=[],q=[];n=g.parentNode;m=i.parentNode;var u=n;if(g===i){h=true;return 0}else if(n===m)return I(g,i);else if(n){if(!m)return 1}else return-1;for(;u;){p.unshift(u);u=u.parentNode}for(u=m;u;){q.unshift(u);u=u.parentNode}n=p.length;m=q.length;for(u=0;u<n&&u<m;u++)if(p[u]!==q[u])return I(p[u],q[u]);return u===n?I(g,q[u],-1):I(p[u],i,1)};I=function(g,i,n){if(g===i)return n;for(g=g.nextSibling;g;){if(g===i)return-1;g=g.nextSibling}return 1}}k.getText=function(g){for(var i="",n,m=0;g[m];m++){n=g[m];if(n.nodeType===3||n.nodeType===4)i+=n.nodeValue;else if(n.nodeType!==8)i+=k.getText(n.childNodes)}return i};(function(){var g=t.createElement("div"),i="script"+(new Date).getTime(),n=t.documentElement;g.innerHTML="<a name='"+i+"'/>";n.insertBefore(g,n.firstChild);if(t.getElementById(i)){o.find.ID=function(m,p,q){if(typeof p.getElementById!=="undefined"&&!q)return(p=p.getElementById(m[1]))?p.id===m[1]||typeof p.getAttributeNode!=="undefined"&&p.getAttributeNode("id").nodeValue===m[1]?[p]:B:[]};o.filter.ID=function(m,p){var q=typeof m.getAttributeNode!=="undefined"&&m.getAttributeNode("id");return m.nodeType===1&&q&&q.nodeValue===p}}n.removeChild(g);n=g=null})();(function(){var g=t.createElement("div");g.appendChild(t.createComment(""));if(g.getElementsByTagName("*").length>0)o.find.TAG=function(i,n){var m=n.getElementsByTagName(i[1]);if(i[1]==="*"){for(var p=[],q=0;m[q];q++)m[q].nodeType===1&&p.push(m[q]);m=p}return m};g.innerHTML="<a href='#'></a>";if(g.firstChild&&typeof g.firstChild.getAttribute!=="undefined"&&g.firstChild.getAttribute("href")!=="#")o.attrHandle.href=function(i){return i.getAttribute("href",2)};g=null})();t.querySelectorAll&&function(){var g=k,i=t.createElement("div");i.innerHTML="<p class='TEST'></p>";if(!(i.querySelectorAll&&i.querySelectorAll(".TEST").length===0)){k=function(m,p,q,u){p=p||t;m=m.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!u&&!k.isXML(p))if(p.nodeType===9)try{return C(p.querySelectorAll(m),q)}catch(y){}else if(p.nodeType===1&&p.nodeName.toLowerCase()!=="object"){var F=p.getAttribute("id"),M=F||"__sizzle__";F||p.setAttribute("id",M);try{return C(p.querySelectorAll("#"+M+" "+m),q)}catch(N){}finally{F||p.removeAttribute("id")}}return g(m,p,q,u)};for(var n in g)k[n]=g[n];i=null}}();(function(){var g=t.documentElement,i=g.matchesSelector||g.mozMatchesSelector||g.webkitMatchesSelector||g.msMatchesSelector,n=false;try{i.call(t.documentElement,"[test!='']:sizzle")}catch(m){n=true}if(i)k.matchesSelector=function(p,q){q=q.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!k.isXML(p))try{if(n||!o.match.PSEUDO.test(q)&&!/!=/.test(q))return i.call(p,q)}catch(u){}return k(q,null,null,[p]).length>0}})();(function(){var g=t.createElement("div");g.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!g.getElementsByClassName||g.getElementsByClassName("e").length===0)){g.lastChild.className="e";if(g.getElementsByClassName("e").length!==1){o.order.splice(1,0,"CLASS");o.find.CLASS=function(i,n,m){if(typeof n.getElementsByClassName!=="undefined"&&!m)return n.getElementsByClassName(i[1])};g=null}}})();k.contains=t.documentElement.contains?function(g,i){return g!==i&&(g.contains?g.contains(i):true)}:t.documentElement.compareDocumentPosition? function(g,i){return!!(g.compareDocumentPosition(i)&16)}:function(){return false};k.isXML=function(g){return(g=(g?g.ownerDocument||g:0).documentElement)?g.nodeName!=="HTML":false};var L=function(g,i){for(var n,m=[],p="",q=i.nodeType?[i]:i;n=o.match.PSEUDO.exec(g);){p+=n[0];g=g.replace(o.match.PSEUDO,"")}g=o.relative[g]?g+"*":g;n=0;for(var u=q.length;n<u;n++)k(g,q[n],m);return k.filter(p,m)};c.find=k;c.expr=k.selectors;c.expr[":"]=c.expr.filters;c.unique=k.uniqueSort;c.text=k.getText;c.isXMLDoc=k.isXML;c.contains=k.contains})();var Za=/Until$/,$a=/^(?:parents|prevUntil|prevAll)/,ab=/,/,Na=/^.[^:#\[\.,]*$/,bb=Array.prototype.slice,cb=c.expr.match.POS;c.fn.extend({find:function(a){for(var b=this.pushStack("","find",a),d=0,e=0,f=this.length;e<f;e++){d=b.length;c.find(a,this[e],b);if(e>0)for(var h=d;h<b.length;h++)for(var l=0;l<d;l++)if(b[l]===b[h]){b.splice(h--,1);break}}return b},has:function(a){var b=c(a);return this.filter(function(){for(var d=0,e=b.length;d<e;d++)if(c.contains(this,b[d]))return true})},not:function(a){return this.pushStack(ma(this,a,false),"not",a)},filter:function(a){return this.pushStack(ma(this,a,true),"filter",a)},is:function(a){return!!a&&c.filter(a,this).length>0},closest:function(a,b){var d=[],e,f,h=this[0];if(c.isArray(a)){var l,k={},o=1;if(h&&a.length){e=0;for(f=a.length;e<f;e++){l=a[e];k[l]||(k[l]=c.expr.match.POS.test(l)?c(l,b||this.context):l)}for(;h&&h.ownerDocument&&h!==b;){for(l in k){e=k[l];if(e.jquery?e.index(h)>-1:c(h).is(e))d.push({selector:l,elem:h,level:o})}h=h.parentNode;o++}}return d}l=cb.test(a)?c(a,b||this.context):null;e=0;for(f=this.length;e<f;e++)for(h=this[e];h;)if(l?l.index(h)>-1:c.find.matchesSelector(h,a)){d.push(h);break}else{h=h.parentNode;if(!h||!h.ownerDocument||h===b)break}d=d.length>1?c.unique(d):d;return this.pushStack(d,"closest",a)},index:function(a){if(!a||typeof a==="string")return c.inArray(this[0],a?c(a):this.parent().children());return c.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var d=typeof a==="string"?c(a,b||this.context): c.makeArray(a),e=c.merge(this.get(),d);return this.pushStack(!d[0]||!d[0].parentNode||d[0].parentNode.nodeType===11||!e[0]||!e[0].parentNode||e[0].parentNode.nodeType===11?e:c.unique(e))},andSelf:function(){return this.add(this.prevObject)}});c.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return c.dir(a,"parentNode")},parentsUntil:function(a,b,d){return c.dir(a,"parentNode",d)},next:function(a){return c.nth(a,2,"nextSibling")},prev:function(a){return c.nth(a,2,"previousSibling")},nextAll:function(a){return c.dir(a,"nextSibling")},prevAll:function(a){return c.dir(a,"previousSibling")},nextUntil:function(a,b,d){return c.dir(a,"nextSibling",d)},prevUntil:function(a,b,d){return c.dir(a,"previousSibling",d)},siblings:function(a){return c.sibling(a.parentNode.firstChild,a)},children:function(a){return c.sibling(a.firstChild)},contents:function(a){return c.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:c.makeArray(a.childNodes)}},function(a,b){c.fn[a]=function(d,e){var f=c.map(this,b,d);Za.test(a)||(e=d);if(e&&typeof e==="string")f=c.filter(e,f);f=this.length>1?c.unique(f):f;if((this.length>1||ab.test(e))&&$a.test(a))f=f.reverse();return this.pushStack(f,a,bb.call(arguments).join(","))}});c.extend({filter:function(a,b,d){if(d)a=":not("+a+")";return b.length===1?c.find.matchesSelector(b[0],a)?[b[0]]:[]:c.find.matches(a,b)},dir:function(a,b,d){var e=[];for(a=a[b];a&&a.nodeType!==9&&(d===B||a.nodeType!==1||!c(a).is(d));){a.nodeType===1&&e.push(a);a=a[b]}return e},nth:function(a,b,d){b=b||1;for(var e=0;a;a=a[d])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){for(var d=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&d.push(a);return d}});var za=/ jQuery\d+="(?:\d+|null)"/g,$=/^\s+/,Aa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Ba=/<([\w:]+)/,db=/<tbody/i,eb=/<|&#?\w+;/,Ca=/<(?:script|object|embed|option|style)/i,Da=/checked\s*(?:[^=]|=\s*.checked.)/i,fb=/\=([^="'>\s]+\/)>/g,P={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};P.optgroup=P.option;P.tbody=P.tfoot=P.colgroup=P.caption=P.thead;P.th=P.td;if(!c.support.htmlSerialize)P._default=[1,"div<div>","</div>"];c.fn.extend({text:function(a){if(c.isFunction(a))return this.each(function(b){var d=c(this);d.text(a.call(this,b,d.text()))});if(typeof a!=="object"&&a!==B)return this.empty().append((this[0]&&this[0].ownerDocument||t).createTextNode(a));return c.text(this)},wrapAll:function(a){if(c.isFunction(a))return this.each(function(d){c(this).wrapAll(a.call(this,d))});if(this[0]){var b=c(a,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var d=this;d.firstChild&&d.firstChild.nodeType===1;)d=d.firstChild;return d}).append(this)}return this},wrapInner:function(a){if(c.isFunction(a))return this.each(function(b){c(this).wrapInner(a.call(this,b))});return this.each(function(){var b=c(this),d=b.contents();d.length?d.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){c(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){c.nodeName(this,"body")||c(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,this)});else if(arguments.length){var a=c(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,this.nextSibling)});else if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,c(arguments[0]).toArray());return a}},remove:function(a,b){for(var d=0,e;(e=this[d])!=null;d++)if(!a||c.filter(a,[e]).length){if(!b&&e.nodeType===1){c.cleanData(e.getElementsByTagName("*"));c.cleanData([e])}e.parentNode&&e.parentNode.removeChild(e)}return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++)for(b.nodeType===1&&c.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a){var b=this.map(function(){if(!c.support.noCloneEvent&&!c.isXMLDoc(this)){var d=this.outerHTML,e=this.ownerDocument;if(!d){d=e.createElement("div");d.appendChild(this.cloneNode(true));d=d.innerHTML}return c.clean([d.replace(za,"").replace(fb,'="$1">').replace($,"")],e)[0]}else return this.cloneNode(true)});if(a===true){na(this,b);na(this.find("*"),b.find("*"))}return b},html:function(a){if(a===B)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(za,""):null;else if(typeof a==="string"&&!Ca.test(a)&&(c.support.leadingWhitespace||!$.test(a))&&!P[(Ba.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Aa,"<$1></$2>");try{for(var b=0,d=this.length;b<d;b++)if(this[b].nodeType===1){c.cleanData(this[b].getElementsByTagName("*"));this[b].innerHTML=a}}catch(e){this.empty().append(a)}}else c.isFunction(a)?this.each(function(f){var h=c(this);h.html(a.call(this,f,h.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(c.isFunction(a))return this.each(function(b){var d=c(this),e=d.html();d.replaceWith(a.call(this,b,e))});if(typeof a!=="string")a=c(a).detach();return this.each(function(){var b=this.nextSibling,d=this.parentNode;c(this).remove();b?c(b).before(a):c(d).append(a)})}else return this.pushStack(c(c.isFunction(a)?a():a),"replaceWith",a)},detach:function(a){return this.remove(a,true)},domManip:function(a,b,d){var e,f,h,l=a[0],k=[];if(!c.support.checkClone&&arguments.length===3&&typeof l==="string"&&Da.test(l))return this.each(function(){c(this).domManip(a,b,d,true)});if(c.isFunction(l))return this.each(function(x){var r=c(this);a[0]=l.call(this,x,b?r.html():B);r.domManip(a,b,d)});if(this[0]){e=l&&l.parentNode;e=c.support.parentNode&&e&&e.nodeType===11&&e.childNodes.length===this.length?{fragment:e}:c.buildFragment(a,this,k);h=e.fragment;if(f=h.childNodes.length===1?h=h.firstChild:h.firstChild){b=b&&c.nodeName(f,"tr");f=0;for(var o=this.length;f<o;f++)d.call(b?c.nodeName(this[f],"table")?this[f].getElementsByTagName("tbody")[0]||this[f].appendChild(this[f].ownerDocument.createElement("tbody")): this[f]:this[f],f>0||e.cacheable||this.length>1?h.cloneNode(true):h)}k.length&&c.each(k,Oa)}return this}});c.buildFragment=function(a,b,d){var e,f,h;b=b&&b[0]?b[0].ownerDocument||b[0]:t;if(a.length===1&&typeof a[0]==="string"&&a[0].length<512&&b===t&&!Ca.test(a[0])&&(c.support.checkClone||!Da.test(a[0]))){f=true;if(h=c.fragments[a[0]])if(h!==1)e=h}if(!e){e=b.createDocumentFragment();c.clean(a,b,e,d)}if(f)c.fragments[a[0]]=h?e:1;return{fragment:e,cacheable:f}};c.fragments={};c.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){c.fn[a]=function(d){var e=[];d=c(d);var f=this.length===1&&this[0].parentNode;if(f&&f.nodeType===11&&f.childNodes.length===1&&d.length===1){d[b](this[0]);return this}else{f=0;for(var h=d.length;f<h;f++){var l=(f>0?this.clone(true):this).get();c(d[f])[b](l);e=e.concat(l)}return this.pushStack(e,a,d.selector)}}});c.extend({clean:function(a,b,d,e){b=b||t;if(typeof b.createElement==="undefined")b=b.ownerDocument||b[0]&&b[0].ownerDocument||t;for(var f=[],h=0,l;(l=a[h])!=null;h++){if(typeof l==="number")l+="";if(l){if(typeof l==="string"&&!eb.test(l))l=b.createTextNode(l);else if(typeof l==="string"){l=l.replace(Aa,"<$1></$2>");var k=(Ba.exec(l)||["",""])[1].toLowerCase(),o=P[k]||P._default,x=o[0],r=b.createElement("div");for(r.innerHTML=o[1]+l+o[2];x--;)r=r.lastChild;if(!c.support.tbody){x=db.test(l);k=k==="table"&&!x?r.firstChild&&r.firstChild.childNodes:o[1]==="<table>"&&!x?r.childNodes:[];for(o=k.length-1;o>=0;--o)c.nodeName(k[o],"tbody")&&!k[o].childNodes.length&&k[o].parentNode.removeChild(k[o])}!c.support.leadingWhitespace&&$.test(l)&&r.insertBefore(b.createTextNode($.exec(l)[0]),r.firstChild);l=r.childNodes}if(l.nodeType)f.push(l);else f=c.merge(f,l)}}if(d)for(h=0;f[h];h++)if(e&&c.nodeName(f[h],"script")&&(!f[h].type||f[h].type.toLowerCase()==="text/javascript"))e.push(f[h].parentNode?f[h].parentNode.removeChild(f[h]):f[h]);else{f[h].nodeType===1&&f.splice.apply(f,[h+1,0].concat(c.makeArray(f[h].getElementsByTagName("script"))));d.appendChild(f[h])}return f},cleanData:function(a){for(var b,d,e=c.cache,f=c.event.special,h=c.support.deleteExpando,l=0,k;(k=a[l])!=null;l++)if(!(k.nodeName&&c.noData[k.nodeName.toLowerCase()]))if(d=k[c.expando]){if((b=e[d])&&b.events)for(var o in b.events)f[o]?c.event.remove(k,o):c.removeEvent(k,o,b.handle);if(h)delete k[c.expando];else k.removeAttribute&&k.removeAttribute(c.expando);delete e[d]}}});var Ea=/alpha\([^)]*\)/i,gb=/opacity=([^)]*)/,hb=/-([a-z])/ig,ib=/([A-Z])/g,Fa=/^-?\d+(?:px)?$/i,jb=/^-?\d/,kb={position:"absolute",visibility:"hidden",display:"block"},Pa=["Left","Right"],Qa=["Top","Bottom"],W,Ga,aa,lb=function(a,b){return b.toUpperCase()};c.fn.css=function(a,b){if(arguments.length===2&&b===B)return this;return c.access(this,a,b,true,function(d,e,f){return f!==B?c.style(d,e,f):c.css(d,e)})};c.extend({cssHooks:{opacity:{get:function(a,b){if(b){var d=W(a,"opacity","opacity");return d===""?"1":d}else return a.style.opacity}}},cssNumber:{zIndex:true,fontWeight:true,opacity:true,zoom:true,lineHeight:true},cssProps:{"float":c.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,d,e){if(!(!a||a.nodeType===3||a.nodeType===8||!a.style)){var f,h=c.camelCase(b),l=a.style,k=c.cssHooks[h];b=c.cssProps[h]||h;if(d!==B){if(!(typeof d==="number"&&isNaN(d)||d==null)){if(typeof d==="number"&&!c.cssNumber[h])d+="px";if(!k||!("set"in k)||(d=k.set(a,d))!==B)try{l[b]=d}catch(o){}}}else{if(k&&"get"in k&&(f=k.get(a,false,e))!==B)return f;return l[b]}}},css:function(a,b,d){var e,f=c.camelCase(b),h=c.cssHooks[f];b=c.cssProps[f]||f;if(h&&"get"in h&&(e=h.get(a,true,d))!==B)return e;else if(W)return W(a,b,f)},swap:function(a,b,d){var e={},f;for(f in b){e[f]=a.style[f];a.style[f]=b[f]}d.call(a);for(f in b)a.style[f]=e[f]},camelCase:function(a){return a.replace(hb,lb)}});c.curCSS=c.css;c.each(["height","width"],function(a,b){c.cssHooks[b]={get:function(d,e,f){var h;if(e){if(d.offsetWidth!==0)h=oa(d,b,f);else c.swap(d,kb,function(){h=oa(d,b,f)});if(h<=0){h=W(d,b,b);if(h==="0px"&&aa)h=aa(d,b,b);if(h!=null)return h===""||h==="auto"?"0px":h}if(h<0||h==null){h=d.style[b];return h===""||h==="auto"?"0px":h}return typeof h==="string"?h:h+"px"}},set:function(d,e){if(Fa.test(e)){e=parseFloat(e);if(e>=0)return e+"px"}else return e}}});if(!c.support.opacity)c.cssHooks.opacity={get:function(a,b){return gb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var d=a.style;d.zoom=1;var e=c.isNaN(b)?"":"alpha(opacity="+b*100+")",f=d.filter||"";d.filter=Ea.test(f)?f.replace(Ea,e):d.filter+" "+e}};if(t.defaultView&&t.defaultView.getComputedStyle)Ga=function(a,b,d){var e;d=d.replace(ib,"-$1").toLowerCase();if(!(b=a.ownerDocument.defaultView))return B;if(b=b.getComputedStyle(a,null)){e=b.getPropertyValue(d);if(e===""&&!c.contains(a.ownerDocument.documentElement,a))e=c.style(a,d)}return e};if(t.documentElement.currentStyle)aa=function(a,b){var d,e,f=a.currentStyle&&a.currentStyle[b],h=a.style;if(!Fa.test(f)&&jb.test(f)){d=h.left;e=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;h.left=b==="fontSize"?"1em":f||0;f=h.pixelLeft+"px";h.left=d;a.runtimeStyle.left=e}return f===""?"auto":f};W=Ga||aa;if(c.expr&&c.expr.filters){c.expr.filters.hidden=function(a){var b=a.offsetHeight;return a.offsetWidth===0&&b===0||!c.support.reliableHiddenOffsets&&(a.style.display||c.css(a,"display"))==="none"};c.expr.filters.visible=function(a){return!c.expr.filters.hidden(a)}}var mb=c.now(),nb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,ob=/^(?:select|textarea)/i,pb=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,qb=/^(?:GET|HEAD)$/,Ra=/\[\]$/,T=/\=\?(&|$)/,ja=/\?/,rb=/([?&])_=[^&]*/,sb=/^(\w+:)?\/\/([^\/?#]+)/,tb=/%20/g,ub=/#.*$/,Ha=c.fn.load;c.fn.extend({load:function(a,b,d){if(typeof a!=="string"&&Ha)return Ha.apply(this,arguments);else if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var f=a.slice(e,a.length);a=a.slice(0,e)}e="GET";if(b)if(c.isFunction(b)){d=b;b=null}else if(typeof b==="object"){b=c.param(b,c.ajaxSettings.traditional);e="POST"}var h=this;c.ajax({url:a,type:e,dataType:"html",data:b,complete:function(l,k){if(k==="success"||k==="notmodified")h.html(f?c("<div>").append(l.responseText.replace(nb,"")).find(f):l.responseText);d&&h.each(d,[l.responseText,k,l])}});return this},serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?c.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||ob.test(this.nodeName)||pb.test(this.type))}).map(function(a,b){var d=c(this).val();return d==null?null:c.isArray(d)?c.map(d,function(e){return{name:b.name,value:e}}):{name:b.name,value:d}}).get()}});c.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){c.fn[b]=function(d){return this.bind(b,d)}});c.extend({get:function(a,b,d,e){if(c.isFunction(b)){e=e||d;d=b;b=null}return c.ajax({type:"GET",url:a,data:b,success:d,dataType:e})},getScript:function(a,b){return c.get(a,null,b,"script")},getJSON:function(a,b,d){return c.get(a,b,d,"json")},post:function(a,b,d,e){if(c.isFunction(b)){e=e||d;d=b;b={}}return c.ajax({type:"POST",url:a,data:b,success:d,dataType:e})},ajaxSetup:function(a){c.extend(c.ajaxSettings,a)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:function(){return new E.XMLHttpRequest},accepts:{xml:"application/xml,text/xml",html:"text/html",script:"text/javascript,application/javascript",json:"application/json,text/javascript",text:"text/plain",_default:"*/*"}},ajax:function(a){var b=c.extend(true,{},c.ajaxSettings,a),d,e,f,h=b.type.toUpperCase(),l=qb.test(h);b.url=b.url.replace(ub,"");b.context=a&&a.context!=null?a.context:b;if(b.data&&b.processData&&typeof b.data!=="string")b.data=c.param(b.data,b.traditional);if(b.dataType==="jsonp"){if(h==="GET")T.test(b.url)||(b.url+=(ja.test(b.url)?"&":"?")+(b.jsonp||"callback")+"=?");else if(!b.data||!T.test(b.data))b.data=(b.data?b.data+"&":"")+(b.jsonp||"callback")+"=?";b.dataType="json"}if(b.dataType==="json"&&(b.data&&T.test(b.data)||T.test(b.url))){d=b.jsonpCallback||"jsonp"+mb++;if(b.data)b.data=(b.data+"").replace(T,"="+d+"$1");b.url=b.url.replace(T,"="+d+"$1");b.dataType="script";var k=E[d];E[d]=function(m){if(c.isFunction(k))k(m);else{E[d]=B;try{delete E[d]}catch(p){}}f=m;c.handleSuccess(b,w,e,f);c.handleComplete(b,w,e,f);r&&r.removeChild(A)}}if(b.dataType==="script"&&b.cache===null)b.cache=false;if(b.cache===false&&l){var o=c.now(),x=b.url.replace(rb,"$1_="+o);b.url=x+(x===b.url?(ja.test(b.url)?"&":"?")+"_="+o:"")}if(b.data&&l)b.url+=(ja.test(b.url)?"&":"?")+b.data;b.global&&c.active++===0&&c.event.trigger("ajaxStart");o=(o=sb.exec(b.url))&&(o[1]&&o[1].toLowerCase()!==location.protocol||o[2].toLowerCase()!==location.host);if(b.dataType==="script"&&h==="GET"&&o){var r=t.getElementsByTagName("head")[0]||t.documentElement,A=t.createElement("script");if(b.scriptCharset)A.charset=b.scriptCharset;A.src=b.url;if(!d){var C=false;A.onload=A.onreadystatechange=function(){if(!C&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){C=true;c.handleSuccess(b,w,e,f);c.handleComplete(b,w,e,f);A.onload=A.onreadystatechange=null;r&&A.parentNode&&r.removeChild(A)}}}r.insertBefore(A,r.firstChild);return B}var J=false,w=b.xhr();if(w){b.username?w.open(h,b.url,b.async,b.username,b.password):w.open(h,b.url,b.async);try{if(b.data!=null&&!l||a&&a.contentType)w.setRequestHeader("Content-Type",b.contentType);if(b.ifModified){c.lastModified[b.url]&&w.setRequestHeader("If-Modified-Since",c.lastModified[b.url]);c.etag[b.url]&&w.setRequestHeader("If-None-Match",c.etag[b.url])}o||w.setRequestHeader("X-Requested-With","XMLHttpRequest");w.setRequestHeader("Accept",b.dataType&&b.accepts[b.dataType]?b.accepts[b.dataType]+",*/*;q=0.01":b.accepts._default)}catch(I){}if(b.beforeSend&&b.beforeSend.call(b.context,w,b)===false){b.global&&c.active--===1&&c.event.trigger("ajaxStop");w.abort();return false}b.global&&c.triggerGlobal(b,"ajaxSend",[w,b]);var L=w.onreadystatechange=function(m){if(!w||w.readyState===0||m==="abort"){J||c.handleComplete(b,w,e,f);J=true;if(w)w.onreadystatechange=c.noop}else if(!J&&w&&(w.readyState===4||m==="timeout")){J=true;w.onreadystatechange=c.noop;e=m==="timeout"?"timeout":!c.httpSuccess(w)?"error":b.ifModified&&c.httpNotModified(w,b.url)?"notmodified":"success";var p;if(e==="success")try{f=c.httpData(w,b.dataType,b)}catch(q){e="parsererror";p=q}if(e==="success"||e==="notmodified")d||c.handleSuccess(b,w,e,f);else c.handleError(b,w,e,p);d||c.handleComplete(b,w,e,f);m==="timeout"&&w.abort();if(b.async)w=null}};try{var g=w.abort;w.abort=function(){w&&Function.prototype.call.call(g,w);L("abort")}}catch(i){}b.async&&b.timeout>0&&setTimeout(function(){w&&!J&&L("timeout")},b.timeout);try{w.send(l||b.data==null?null:b.data)}catch(n){c.handleError(b,w,null,n);c.handleComplete(b,w,e,f)}b.async||L();return w}},param:function(a,b){var d=[],e=function(h,l){l=c.isFunction(l)?l():l;d[d.length]=encodeURIComponent(h)+"="+encodeURIComponent(l)};if(b===B)b=c.ajaxSettings.traditional;if(c.isArray(a)||a.jquery)c.each(a,function(){e(this.name,this.value)});else for(var f in a)da(f,a[f],b,e);return d.join("&").replace(tb,"+")}});c.extend({active:0,lastModified:{},etag:{},handleError:function(a,b,d,e){a.error&&a.error.call(a.context,b,d,e);a.global&&c.triggerGlobal(a,"ajaxError",[b,a,e])},handleSuccess:function(a,b,d,e){a.success&&a.success.call(a.context,e,d,b);a.global&&c.triggerGlobal(a,"ajaxSuccess",[b,a])},handleComplete:function(a,b,d){a.complete&&a.complete.call(a.context,b,d);a.global&&c.triggerGlobal(a,"ajaxComplete",[b,a]);a.global&&c.active--===1&&c.event.trigger("ajaxStop")},triggerGlobal:function(a,b,d){(a.context&&a.context.url==null?c(a.context):c.event).trigger(b,d)},httpSuccess:function(a){try{return!a.status&&location.protocol==="file:"||a.status>=200&&a.status<300||a.status===304||a.status===1223}catch(b){}return false},httpNotModified:function(a,b){var d=a.getResponseHeader("Last-Modified"),e=a.getResponseHeader("Etag");if(d)c.lastModified[b]=d;if(e)c.etag[b]=e;return a.status===304},httpData:function(a,b,d){var e=a.getResponseHeader("content-type")||"",f=b==="xml"||!b&&e.indexOf("xml")>=0;a=f?a.responseXML:a.responseText;f&&a.documentElement.nodeName==="parsererror"&&c.error("parsererror");if(d&&d.dataFilter)a=d.dataFilter(a,b);if(typeof a==="string")if(b==="json"||!b&&e.indexOf("json")>=0)a=c.parseJSON(a);else if(b==="script"||!b&&e.indexOf("javascript")>=0)c.globalEval(a);return a}});if(E.ActiveXObject)c.ajaxSettings.xhr=function(){if(E.location.protocol!=="file:")try{return new E.XMLHttpRequest}catch(a){}try{return new E.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}};c.support.ajax=!!c.ajaxSettings.xhr();var ea={},vb=/^(?:toggle|show|hide)$/,wb=/^([+\-]=)?([\d+.\-]+)(.*)$/,ba,pa=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];c.fn.extend({show:function(a,b,d){if(a||a===0)return this.animate(S("show",3),a,b,d);else{d=0;for(var e=this.length;d<e;d++){a=this[d];b=a.style.display;if(!c.data(a,"olddisplay")&&b==="none")b=a.style.display="";b===""&&c.css(a,"display")==="none"&&c.data(a,"olddisplay",qa(a.nodeName))}for(d=0;d<e;d++){a=this[d];b=a.style.display;if(b===""||b==="none")a.style.display=c.data(a,"olddisplay")||""}return this}},hide:function(a,b,d){if(a||a===0)return this.animate(S("hide",3),a,b,d);else{a=0;for(b=this.length;a<b;a++){d=c.css(this[a],"display");d!=="none"&&c.data(this[a],"olddisplay",d)}for(a=0;a<b;a++)this[a].style.display="none";return this}},_toggle:c.fn.toggle,toggle:function(a,b,d){var e=typeof a==="boolean";if(c.isFunction(a)&&c.isFunction(b))this._toggle.apply(this,arguments);else a==null||e?this.each(function(){var f=e?a:c(this).is(":hidden");c(this)[f?"show":"hide"]()}):this.animate(S("toggle",3),a,b,d);return this},fadeTo:function(a,b,d,e){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,d,e)},animate:function(a,b,d,e){var f=c.speed(b,d,e);if(c.isEmptyObject(a))return this.each(f.complete);return this[f.queue===false?"each":"queue"](function(){var h=c.extend({},f),l,k=this.nodeType===1,o=k&&c(this).is(":hidden"),x=this;for(l in a){var r=c.camelCase(l);if(l!==r){a[r]=a[l];delete a[l];l=r}if(a[l]==="hide"&&o||a[l]==="show"&&!o)return h.complete.call(this);if(k&&(l==="height"||l==="width")){h.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(c.css(this,"display")==="inline"&&c.css(this,"float")==="none")if(c.support.inlineBlockNeedsLayout)if(qa(this.nodeName)==="inline")this.style.display="inline-block";else{this.style.display="inline";this.style.zoom=1}else this.style.display="inline-block"}if(c.isArray(a[l])){(h.specialEasing=h.specialEasing||{})[l]=a[l][1];a[l]=a[l][0]}}if(h.overflow!=null)this.style.overflow="hidden";h.curAnim=c.extend({},a);c.each(a,function(A,C){var J=new c.fx(x,h,A);if(vb.test(C))J[C==="toggle"?o?"show":"hide":C](a);else{var w=wb.exec(C),I=J.cur()||0;if(w){var L=parseFloat(w[2]),g=w[3]||"px";if(g!=="px"){c.style(x,A,(L||1)+g);I=(L||1)/J.cur()*I;c.style(x,A,I+g)}if(w[1])L=(w[1]==="-="?-1:1)*L+I;J.custom(I,L,g)}else J.custom(I,C,"")}});return true})},stop:function(a,b){var d=c.timers;a&&this.queue([]);this.each(function(){for(var e=d.length-1;e>=0;e--)if(d[e].elem===this){b&&d[e](true);d.splice(e,1)}});b||this.dequeue();return this}});c.each({slideDown:S("show",1),slideUp:S("hide",1),slideToggle:S("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){c.fn[a]=function(d,e,f){return this.animate(b,d,e,f)}});c.extend({speed:function(a,b,d){var e=a&&typeof a==="object"?c.extend({},a):{complete:d||!d&&b||c.isFunction(a)&&a,duration:a,easing:d&&b||b&&!c.isFunction(b)&&b};e.duration=c.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in c.fx.speeds?c.fx.speeds[e.duration]:c.fx.speeds._default;e.old=e.complete;e.complete=function(){e.queue!==false&&c(this).dequeue();c.isFunction(e.old)&&e.old.call(this)};return e},easing:{linear:function(a,b,d,e){return d+e*a},swing:function(a,b,d,e){return(-Math.cos(a*Math.PI)/2+0.5)*e+d}},timers:[],fx:function(a,b,d){this.options=b;this.elem=a;this.prop=d;if(!b.orig)b.orig={}}});c.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(c.fx.step[this.prop]||c.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a=parseFloat(c.css(this.elem,this.prop));return a&&a>-1E4?a:0},custom:function(a,b,d){function e(l){return f.step(l)}var f=this,h=c.fx;this.startTime=c.now();this.start=a;this.end=b;this.unit=d||this.unit||"px";this.now=this.start;this.pos=this.state=0;e.elem=this.elem;if(e()&&c.timers.push(e)&&!ba)ba=setInterval(h.tick,h.interval)},show:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());c(this.elem).show()},hide:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(a){var b=c.now(),d=true;if(a||b>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var e in this.options.curAnim)if(this.options.curAnim[e]!==true)d=false;if(d){if(this.options.overflow!=null&&!c.support.shrinkWrapBlocks){var f=this.elem,h=this.options;c.each(["","X","Y"],function(k,o){f.style["overflow"+o]=h.overflow[k]})}this.options.hide&&c(this.elem).hide();if(this.options.hide||this.options.show)for(var l in this.options.curAnim)c.style(this.elem,l,this.options.orig[l]);this.options.complete.call(this.elem)}return false}else{a=b-this.startTime;this.state=a/this.options.duration;b=this.options.easing||(c.easing.swing?"swing":"linear");this.pos=c.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||b](this.state,a,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update()}return true}};c.extend(c.fx,{tick:function(){for(var a=c.timers,b=0;b<a.length;b++)a[b]()||a.splice(b--,1);a.length||c.fx.stop()},interval:13,stop:function(){clearInterval(ba);ba=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){c.style(a.elem,"opacity",a.now)},_default:function(a){if(a.elem.style&&a.elem.style[a.prop]!=null)a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit;else a.elem[a.prop]=a.now}}});if(c.expr&&c.expr.filters)c.expr.filters.animated=function(a){return c.grep(c.timers,function(b){return a===b.elem}).length};var xb=/^t(?:able|d|h)$/i,Ia=/^(?:body|html)$/i;c.fn.offset="getBoundingClientRect"in t.documentElement?function(a){var b=this[0],d;if(a)return this.each(function(l){c.offset.setOffset(this,a,l)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return c.offset.bodyOffset(b);try{d=b.getBoundingClientRect()}catch(e){}var f=b.ownerDocument,h=f.documentElement;if(!d||!c.contains(h,b))return d||{top:0,left:0};b=f.body;f=fa(f);return{top:d.top+(f.pageYOffset||c.support.boxModel&&h.scrollTop||b.scrollTop)-(h.clientTop||b.clientTop||0),left:d.left+(f.pageXOffset||c.support.boxModel&&h.scrollLeft||b.scrollLeft)-(h.clientLeft||b.clientLeft||0)}}:function(a){var b=this[0];if(a)return this.each(function(x){c.offset.setOffset(this,a,x)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return c.offset.bodyOffset(b);c.offset.initialize();var d,e=b.offsetParent,f=b.ownerDocument,h=f.documentElement,l=f.body;d=(f=f.defaultView)?f.getComputedStyle(b,null):b.currentStyle;for(var k=b.offsetTop,o=b.offsetLeft;(b=b.parentNode)&&b!==l&&b!==h;){if(c.offset.supportsFixedPosition&&d.position==="fixed")break;d=f?f.getComputedStyle(b,null):b.currentStyle;k-=b.scrollTop;o-=b.scrollLeft;if(b===e){k+=b.offsetTop;o+=b.offsetLeft;if(c.offset.doesNotAddBorder&&!(c.offset.doesAddBorderForTableAndCells&&xb.test(b.nodeName))){k+=parseFloat(d.borderTopWidth)||0;o+=parseFloat(d.borderLeftWidth)||0}e=b.offsetParent}if(c.offset.subtractsBorderForOverflowNotVisible&&d.overflow!=="visible"){k+=parseFloat(d.borderTopWidth)||0;o+=parseFloat(d.borderLeftWidth)||0}d=d}if(d.position==="relative"||d.position==="static"){k+=l.offsetTop;o+=l.offsetLeft}if(c.offset.supportsFixedPosition&&d.position==="fixed"){k+=Math.max(h.scrollTop,l.scrollTop);o+=Math.max(h.scrollLeft,l.scrollLeft)}return{top:k,left:o}};c.offset={initialize:function(){var a=t.body,b=t.createElement("div"),d,e,f,h=parseFloat(c.css(a,"marginTop"))||0;c.extend(b.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});b.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";a.insertBefore(b,a.firstChild);d=b.firstChild;e=d.firstChild;f=d.nextSibling.firstChild.firstChild;this.doesNotAddBorder=e.offsetTop!==5;this.doesAddBorderForTableAndCells=f.offsetTop===5;e.style.position="fixed";e.style.top="20px";this.supportsFixedPosition=e.offsetTop===20||e.offsetTop===15;e.style.position=e.style.top="";d.style.overflow="hidden";d.style.position="relative";this.subtractsBorderForOverflowNotVisible=e.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==h;a.removeChild(b);c.offset.initialize=c.noop},bodyOffset:function(a){var b=a.offsetTop,d=a.offsetLeft;c.offset.initialize();if(c.offset.doesNotIncludeMarginInBodyOffset){b+=parseFloat(c.css(a,"marginTop"))||0;d+=parseFloat(c.css(a,"marginLeft"))||0}return{top:b,left:d}},setOffset:function(a,b,d){var e=c.css(a,"position");if(e==="static")a.style.position="relative";var f=c(a),h=f.offset(),l=c.css(a,"top"),k=c.css(a,"left"),o=e==="absolute"&&c.inArray("auto",[l,k])>-1;e={};var x={};if(o)x=f.position();l=o?x.top:parseInt(l,10)||0;k=o?x.left:parseInt(k,10)||0;if(c.isFunction(b))b=b.call(a,d,h);if(b.top!=null)e.top=b.top-h.top+l;if(b.left!=null)e.left=b.left-h.left+k;"using"in b?b.using.call(a,e):f.css(e)}};c.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),d=this.offset(),e=Ia.test(b[0].nodeName)?{top:0,left:0}:b.offset();d.top-=parseFloat(c.css(a,"marginTop"))||0;d.left-=parseFloat(c.css(a,"marginLeft"))||0;e.top+=parseFloat(c.css(b[0],"borderTopWidth"))||0;e.left+=parseFloat(c.css(b[0],"borderLeftWidth"))||0;return{top:d.top-e.top,left:d.left-e.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||t.body;a&&!Ia.test(a.nodeName)&&c.css(a,"position")==="static";)a=a.offsetParent;return a})}});c.each(["Left","Top"],function(a,b){var d="scroll"+b;c.fn[d]=function(e){var f=this[0],h;if(!f)return null;if(e!==B)return this.each(function(){if(h=fa(this))h.scrollTo(!a?e:c(h).scrollLeft(),a?e:c(h).scrollTop());else this[d]=e});else return(h=fa(f))?"pageXOffset"in h?h[a?"pageYOffset":"pageXOffset"]:c.support.boxModel&&h.document.documentElement[d]||h.document.body[d]:f[d]}});c.each(["Height","Width"],function(a,b){var d=b.toLowerCase();c.fn["inner"+b]=function(){return this[0]?parseFloat(c.css(this[0],d,"padding")):null};c.fn["outer"+b]=function(e){return this[0]?parseFloat(c.css(this[0],d,e?"margin":"border")):null};c.fn[d]=function(e){var f=this[0];if(!f)return e==null?null:this;if(c.isFunction(e))return this.each(function(l){var k=c(this);k[d](e.call(this,l,k[d]()))});if(c.isWindow(f))return f.document.compatMode==="CSS1Compat"&&f.document.documentElement["client"+b]||f.document.body["client"+b];else if(f.nodeType===9)return Math.max(f.documentElement["client"+b],f.body["scroll"+b],f.documentElement["scroll"+b],f.body["offset"+b],f.documentElement["offset"+b]);else if(e===B){f=c.css(f,d);var h=parseFloat(f);return c.isNaN(h)?f:h}else return this.css(d,typeof e==="string"?e:e+"px")}})})(window);
function serviceProxy(serviceUrl){var _I=this;this.serviceUrl=serviceUrl;this.invoke=function(method,data,callback,error,bare,sync){var json=JSON.stringify(data);var url=_I.serviceUrl+method;var async=true;if(sync){async=false;}$.ajax({url: url,data: json,type: "POST",processData: false,contentType: "application/json",async: async,timeout: 10000,dataType: "text",success: function(res){if(!callback)return;var result=JSON.parse(res);if(bare){callback(result);return;}for(var property in result){callback(result[property]);break;}},error: function(xhr){if(!error)return;if(xhr.responseText){var err=JSON.parse(xhr.responseText);if(err)error(err);else error({Message: "Unknown server error."})}return;}});}}
jQuery.subcookie=function(name,part,value,options){var helper={set: function(name,part,value,options){options=options||{};if(value===null){value='';if(!part){options.expires=-1;}}if(part){var full={};var existing=this.get(name);if(existing){full=this.parseCookieHash(existing);}full[part]=value;value=this.createCookieHashString(full);}var expires='';if(options.expires&&(typeof options.expires=='number'||options.expires.toUTCString)){var date;if(typeof options.expires=='number'){date=new Date();date.setTime(date.getTime()+(options.expires*24*60*60*1000));}else{date=options.expires;}expires=';expires='+date.toUTCString();}var path=options.path ? ';path='+options.path : '';var domain=options.domain ? ';domain='+options.domain : '';var secure=options.secure ? ';secure' : '';document.cookie=[name,'=',value,expires,path,domain,secure].join('');},get: function(name,part){var cookieValue=null;if(document.cookie&&document.cookie!=''){var cookies=document.cookie.split(';');for(var i=0;i < cookies.length;i++){var cookie=jQuery.trim(cookies[i]);if(cookie.substring(0,name.length+1)==(name+'=')){var temp=cookie.substring(name.length+1);if(!part){cookieValue=temp;}else{var cookieElements=this.parseCookieHash(temp);cookieValue=cookieElements[part];}break;}}}return cookieValue;},parseCookieHash: function(text){var hashParts=text.split("&"),hashPart=null,hash={};if(text.length > 0){for(var i=0,len=hashParts.length;i < len;i++){hashPart=hashParts[i].split("=");hash[decodeURIComponent(hashPart[0])]=decodeURIComponent(hashPart[1]);}}return hash;},createCookieHashString: function(hash){var text=[];for(var key in hash){text.push(key+"="+String(hash[key]));}return text.join("&");}};if(typeof value!='undefined'){helper.set(name,part,value,options);}else{return helper.get(name,part);}};
if(!this.JSON){this.JSON={};}(function(){function f(n){return n < 10 ? '0'+n : n;}if(typeof Date.prototype.toJSON!=='function'){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())? this.getUTCFullYear()+'-'+f(this.getUTCMonth()+1)+'-'+f(this.getUTCDate())+'T'+f(this.getUTCHours())+':'+f(this.getUTCMinutes())+':'+f(this.getUTCSeconds())+'Z' : null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={'\b': '\\b','\t': '\\t','\n': '\\n','\f': '\\f','\r': '\\r','"' : '\\"','\\': '\\\\'},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)? '"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==='string' ? c : '\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"' : '"'+string+'"';}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==='object'&&typeof value.toJSON==='function'){value=value.toJSON(key);}if(typeof rep==='function'){value=rep.call(holder,key,value);}switch(typeof value){case 'string': return quote(value);case 'number': return isFinite(value)? String(value): 'null';case 'boolean': case 'null': return String(value);case 'object': if(!value){return 'null';}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==='[object Array]'){length=value.length;for(i=0;i < length;i+=1){partial[i]=str(i,value)||'null';}v=partial.length===0 ? '[]' : gap ? '[\n'+gap+partial.join(',\n'+gap)+'\n'+mind+']' : '['+partial.join(',')+']';gap=mind;return v;}if(rep&&typeof rep==='object'){length=rep.length;for(i=0;i < length;i+=1){k=rep[i];if(typeof k==='string'){v=str(k,value);if(v){partial.push(quote(k)+(gap ? ': ' : ':')+v);}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap ? ': ' : ':')+v);}}}}v=partial.length===0 ? '{}' : gap ? '{\n'+gap+partial.join(',\n'+gap)+'\n'+mind+'}' : '{'+partial.join(',')+'}';gap=mind;return v;}}if(typeof JSON.stringify!=='function'){JSON.stringify=function(value,replacer,space){var i;gap='';indent='';if(typeof space==='number'){for(i=0;i < space;i+=1){indent+=' ';}}else if(typeof space==='string'){indent=space;}rep=replacer;if(replacer&&typeof replacer!=='function'&&(typeof replacer!=='object'||typeof replacer.length!=='number')){throw new Error('JSON.stringify');}return str('',{'': value});};}if(typeof JSON.parse!=='function'){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==='object'){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return reviver.call(holder,key,value);}cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return '\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);});}if(/^[\],:{}\s]*$/. test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@'). replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']'). replace(/(?:^|:|,)(?:\s*\[)+/g,''))){j=eval('('+text+')');return typeof reviver==='function' ? walk({'': j},''): j;}throw new SyntaxError('JSON.parse');};}}());
var tvgPageStatus=200;var isIE=document.all?true:false;var isFF=(navigator.userAgent.toLowerCase().indexOf("firefox")>=0);var isSafari=(navigator.userAgent.toLowerCase().indexOf("safari")>=0);var isOpera=(navigator.userAgent.toLowerCase().indexOf("opera")>=0);var isAppleMobile=(navigator.userAgent.toLowerCase().indexOf("ipad")>=0)||(navigator.userAgent.toLowerCase().indexOf("iphone")>=0);var isiPad=(navigator.userAgent.toLowerCase().indexOf("ipad")>=0);function photocreditcontainer(){this.PhotoCredits=new Array();this.AddCredit=function(credit){this.PhotoCredits[this.PhotoCredits.length]=credit;};this.RenderCredits=function(){if(this.PhotoCredits.length!==0){document.write('Photo Credits: ');for(var i=0;i<this.PhotoCredits.length;i++){if(this.PhotoCredits[i]!==''){if(i!==0)document.write(';');document.write(this.PhotoCredits[i]);}}}};}function getObjectIDFromURL(str){try{var m=str.match(/\/(\d+)$/);if(m){return parseInt(m[1],10);}}catch(e){}return 0;}function getBrowserVersionNumber(){var verno=0.0;if(/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)){verno=new Number(RegExp.$1);}else if(/MSIE\s+(\d+\.\d+)/.test(navigator.userAgent)){verno=new Number(RegExp.$1);}else if(/Version\/(\d+\.\d+)\.*\d*\s+Safari/.test(navigator.userAgent)){verno=new Number(RegExp.$1);}else if(/Chrome\/(\d+\.\d+)/.test(navigator.userAgent)){verno=new Number(RegExp.$1);}else if(navigator.userAgent.indexOf("Opera")>=0){if(/Version\/(\d+\.\d+)/.test(navigator.userAgent)){verno=new Number(RegExp.$1);}}return verno;}function drawLocalizeLink(){document.write("<a rel='localize' href='/listings/setup/localizeus.aspx?RedirectUrl="+document.location.pathname+"' style='color:#CC0000;font-weight:bold;font-size:11px;'>&nbsp;change location/provider</a>");}function drawHomepageGridFrame(iWidth,iHeight){var strGridIFrameServer="http://www.tvguide.com";if(strHostName.indexOf("dtepper")>=0){strGridIFrameServer="";}else if(strHostName.indexOf("qa")>=0){strGridIFrameServer="";}else if(strHostName.indexOf("devint")>=0){strGridIFrameServer="";}document.write("<iframe style='width:"+iWidth+"px;height:"+iHeight+"px;overflow:hidden;' src='"+strGridIFrameServer+"/PartnerGrid/Grids/iframe.aspx?w="+iWidth+"&h="+iHeight+"&partnerid=0&profileid=1' frameborder='0' scrolling='no'></iframe>");}function drawListingsHiddenFrame(){if(!(navigator.userAgent.toLowerCase().indexOf("safari")>=0)){var strDataServer="tvlistings.tvguide.com";var strHost=document.location.hostname.toLowerCase().split('.');var strPort=document.location.port;switch(strHost[0]){case 'qa': strDataServer="tul1oltlws1.tvguide.com:2012";break;case 'qa-test': strDataServer="tul1oltlws1.tvguide.com:2012";break;case 'localhost': strDataServer="tul1oltlws1.tvguide.com:2012";break;case 'dtepper': strDataServer="dtepper.tvguide.com";break;default: break;}if((strPort=="")||(strPort==80)){document.write("<iframe style='height:1px;width:1px;display:none;visibility: hidden;' src='http://"+strDataServer+"/ListingsWeb/listings/ajaxwrap.htm' id='ajaxwrap' name='ajaxwrap'></iframe>");}}}var PhotoCredits=new photocreditcontainer();var strServiceProvider="";var strSearchKey="";var strTvObjectName="";var strTvObjectType="";var iTvObjectID=0;var iGridAds=0;var bHDTVOnlyFilter=false;var optionGenreFilter=0;var strRealURL="";var qs=document.location.search;var mt=qs.match(/keyword=([^\&]+)/i);if(mt){strSearchKey=mt[1];}function setDocDomain(){var domParts=document.domain.split('.');switch(domParts.length){case 0: break;case 1: break;default: document.domain=domParts[domParts.length-2]+'.'+domParts[domParts.length-1];break;}}try{setDocDomain();}catch(err){}function commentCount(iContentID){var icnt=parseInt(Math.random()*100,10);document.write("<div class='cmt-cnt'>"+icnt+" comments...</div>");}function fmtNum(i){if(parseInt(i,10)<10){return "0"+i;}return i;}function cmtdt(iContentID,Yr,Mo,Dy,Hr,Mn){var maxHrs=12;var stmp="";var cdt=new Date(Yr,Mo,Dy,Hr,Mn,0,0);var icnt=parseInt(Math.random()*100,10);var msecs=tvgServerTimeUTC.getTime()-cdt.getTime();var cmsecs=maxHrs*60*60*1000;if(msecs < cmsecs){var ihrs=parseInt((msecs/(60*60*1000)),10);var imns=parseInt((msecs-(ihrs*60*60*1000))/(60*1000),10);switch(ihrs){case 0: stmp=imns+" minutes ago";break;case 1: stmp=ihrs+"hour "+imns+" minutes ago";break;default: stmp=ihrs+"hours "+imns+" minutes ago";break;}}else{stmp=cdt.getFullYear()+"."+fmtNum(cdt.getMonth()+1)+"."+fmtNum(cdt.getDay());stmp+=" "+fmtNum(cdt.getHours())+":"+fmtNum(cdt.getMinutes())+" GMT";}document.write("<div class='cmt-cnt'>"+stmp+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+icnt+" comments...</div>");}function modifyShareDate(dt){var formattedDt=dt.toDateString();var formattedTimeString=formatTime(dt);var formattedDtWoYear=removeYearFromDateString(formattedDt);var formattedStringDt=formattedDtWoYear+" "+formattedTimeString;return formattedStringDt;}function removeYearFromDateString(formattedDt){var temp=formattedDt.split(" ");var newString=temp[0]+","+temp[1]+" "+temp[2]+" ";return newString;}function setCookie(strName,strValue,iDays){var strCookie=strName+"="+strValue+";";if(iDays!==0){var date=new Date();date.setTime(date.getTime()+(iDays*24*60*60*1000));strCookie+="expires="+date.toGMTString()+";";}var dom=document.domain;var tvg=".tvguide.com";if(dom.indexOf(tvg)==dom.length-tvg.length){strCookie+="domain="+tvg+";";}else{if(dom.indexOf("tvgol.local")!=-1)strCookie+="domain=.tvgol.local";}strCookie+="path=/";document.cookie=strCookie;}function readCookie(strName){var name=strName+"=";var ca=document.cookie.split(';');for(var i=0;i < ca.length;i++){var c=ca[i];while(c.charAt(0)==' '){c=c.substring(1,c.length);}if(c.indexOf(name)===0){return c.substring(name.length,c.length);}}return null;}function deleteCookie(strName){setCookie(strName,"",-1);}function GetXmlHttpObject(handler){var objXmlHttp=null;if(window.XMLHttpRequest){objXmlHttp=new XMLHttpRequest();}else if(window.ActiveXObject){objXmlHttp=new ActiveXObject("Microsoft.XMLHTTP");}if(objXmlHttp){objXmlHttp.onreadystatechange=handler;}return objXmlHttp;}function ajaxRequest(url,elementid,callbackfunc){var objXmlHttp=null;if(window.XMLHttpRequest){objXmlHttp=new XMLHttpRequest();}else if(window.ActiveXObject){try{objXmlHttp=new ActiveXObject("Microsoft.XMLHTTP");}catch(e){}}if(objXmlHttp!==null){objXmlHttp.onreadystatechange=function updateElem(){if(objXmlHttp.readyState==4||objXmlHttp.readyState=="complete"){var elem=document.getElementById(elementid);if(elem)elem.innerHTML=objXmlHttp.responseText;}if(typeof callbackfunc!="undefined"){callbackfunc();}};objXmlHttp.open("GET",url,true);objXmlHttp.send(null);}}var strHostName=document.location.hostname.toLowerCase();var strTvgHost=strHostName;var strTvgServer="";if(strHostName.indexOf("-qa")> 0){strTvgHost="qa.tvguide.com";}else if(strHostName.indexOf("-stg")> 0){strTvgHost="staging.tvguide.com";}else if(strHostName.indexOf("-devint")> 0){strTvgHost="devint.tvguide.com";}else strTvgHost="www.tvguide.com";if(strHostName!=strTvgHost){strTvgServer="http://"+strTvgHost;}function submitOVGSearch(){var OVGSearchBox=document.getElementById("txtOVGSearch");var searchString;if(OVGSearchBox){searchString=OVGSearchBox.value;if(searchString){doOVGSearch(searchString);}else alert("Please enter some search text");}}function doOVGSearch(searchString){var submitURL="http://video.tvguide.com/results.aspx?primary=SEARCH&searchvalue=";if(searchString){searchString=EncodeCrossBrowser(searchString);submitURL+=searchString;window.location=submitURL;}}function EncodeCrossBrowser(stringToEncode){if(typeof encodeURIComponent=="function"){return encodeURIComponent(stringToEncode);}return escape(stringToEncode);}function urchinTracker(strURL){}function HideContent(d){if(d.length < 1){return;}document.getElementById(d).style.display="none";}function ShowContent(d){if(d.length < 1){return;}document.getElementById(d).style.display="block";}function ReverseContentDisplay(d){if(d.length < 1){return;}if(document.getElementById(d).style.display=="none"){document.getElementById(d).style.display="block";}else{document.getElementById(d).style.display="none";}}function CheckIfCookiesEnabled(){setCookie('itester','yes',1);if(readCookie('itester')){deleteCookie('itester');return true;}return false;}if(typeof prestitial_active!='undefined'){if(prestitial_active){var current_datetime=new Date();var dt_prestitial_start=new Date(prestitial_start);var dt_prestitial_end=new Date(prestitial_end);if(CheckIfCookiesEnabled()&&current_datetime > dt_prestitial_start&&current_datetime < dt_prestitial_end){if(readCookie(prestitial_name)!='t'){setCookie(prestitial_name,'t',30);if(readCookie(prestitial_name)=='t'){document.location.href=prestitial_url+"?o_url="+EncodeCrossBrowser(document.location.href);}}}}}$(document).ready(function(){if($("#breakingnews-alert-w").length > 0){var bnanum="0";if($("#breakingnews-alert-w em").length > 0){bnanum=$("#breakingnews-alert-w em").attr("title");}if(readCookie('show_message')!=bnanum){$('#breakingnews-alert-w').show("fast");}$('#breakingnews-alert-close').click(function(){$('#breakingnews-alert-w').hide("slow");setCookie('show_message',bnanum,1);});}});function tvgMeeboPrep(){return;}function tvgMeeboPrepare(){if(document.location.hostname=="localhost"){return;}window.Meebo||function(b){function p(){return ["<",i,' onload="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='//",b.stage ? "stage-" : "","cim.meebo.com/cim?iv=",a.v,"&",q,"=",b[q],b[l] ? "&"+l+"="+b[l] : "",b[e] ? "&"+e+"="+b[e] : "","'\"></",i,">"].join("")}var f=window,a=f.Meebo=f.Meebo||function(){(a._=a._||[]).push(arguments)},d=document,i="body",m=d[i],r;if(!m){r=arguments.callee;return setTimeout(function(){r(b)},100)}a.$={0:+new Date};a.T=function(u){a.$[u]=new Date-a.$[0]};a.v=4;var j="appendChild",h="createElement",k="src",l="lang",q="network",e="domain",n=d[h]("div"),v=n[j](d[h]("m")),c=d[h]("iframe"),g="document",o,s=function(){a.T("load");a("load")};f.addEventListener ? f.addEventListener("load",s,false): f.attachEvent("onload",s);n.style.display="none";m.insertBefore(n,m.firstChild).id="meebo";c.frameBorder="0";c.id="meebo-iframe";c.allowTransparency="true";v[j](c);try{c.contentWindow[g].open()}catch(w){b[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";c[k]=o+"void(0);"}try{var t=c.contentWindow[g];t.write(p());t.close()}catch(x){c[k]=o+'d.write("'+p().replace(/"/g,'\\"')+'");d.close();'}a.T(1)}({network: "tvguide"});}function tvgMeeboReady(){getFullDARTad('meebo');return;}function tvgMeeboGo(){Meebo('domReady');$(".news-article .img-container").each(function(i){Meebo("makeImagesSharable",{element: this,minWidth: 100,minHeight: 100});});$(".pge-photo-w").each(function(i){Meebo("makeImagesSharable",{element: this,minWidth: 100,minHeight: 100});});$(".pgo-main-w").each(function(i){Meebo("makeImagesSharable",{element: this,minWidth: 100,minHeight: 100});});}function grid_getQueryParam(strName){var queryString=document.location.search.replace("?","");var params=queryString.split("&");for(i=0;i < params.length;i++){var param=params[i].split("=");if(param[0]==strName){return param[1];}}}
var traxAdCount=0;var dartTile=1;var gridTile=1;try{if(!bTopRowGridAd){gridTile=2;}}catch(e){gridTile=1;}var tvgtoday=new Date();var dartOrd=tvgtoday.getTime();var adsIsIE=(navigator.userAgent.toLowerCase().indexOf("msie")>=0);var adsIsSafari=(navigator.userAgent.toLowerCase().indexOf("safari")>=0);var adsIsChrome=(navigator.userAgent.toLowerCase().indexOf("chrome")>=0);var framePrefix="adframe_";var frameArray=new Array();var useIFrames=false;var bDelayLoad=false;var strRelativePath=document.location.pathname.toLowerCase();function isEmptyString(str){if(str===null){return true;}if(str===""){return true;}if(str.length<=0){return true;}return false;}function isAdPositionEnabled(position){try{if((strRelativePath=='\/home.aspx')||(strRelativePath=='\/')){switch(position){case "banner_top_0": return(slot_banner_top_HP===0);case "banner_top_1": return(slot_banner_top_HP==1);case "box_300x250_0": return(slot_box_300x250_HP===0);case "box_300x250_1": return(slot_box_300x250_HP==1);case "wallpaper": case "wallpaperhead": case "wallpaperfoot": return bEnableWallpaperAds_HP;case "richmedia": return bEnableRichmediaAds_HP;default: break;}}else if(strRelativePath.indexOf('\/new-tonight')===0){switch(position){case "banner_top_0": return(slot_banner_top_NT===0);case "banner_top_1": return(slot_banner_top_NT==1);case "box_300x250_0": return(slot_box_300x250_NT===0);case "box_300x250_1": return(slot_box_300x250_NT==1);default: break;}}else if(strRelativePath.indexOf('\/listings')===0){switch(position){case "banner_top_0": return(slot_banner_top_LST===0);case "banner_top_1": return(slot_banner_top_LST==1);case "wallpaper": case "wallpaperhead": case "wallpaperfoot": return bEnableWallpaperAds_LST;case "richmedia": return bEnableRichmediaAds_LST;default: break;}}else{switch(position){case "banner_top_0": return(slot_banner_top===0);case "banner_top_1": return(slot_banner_top==1);case "box_300x250_0": return(slot_box_300x250===0);case "box_300x250_1": return(slot_box_300x250==1);case "wallpaper": case "wallpaperhead": case "wallpaperfoot": return bEnableWallpaperAds;case "richmedia": return bEnableRichmediaAds;default: break;}}}catch(err){}return true;}function getGoogleAdTag(gaWd,gaHt){if(!bypassAds()){document.write("<scr"+"ipt language='javascript' src='http:\/\/pagead2.googlesyndication.com/pagead/show_ads.js'>"+"<\/scr"+"ipt>");}else{document.write("<table align='center' style='width:"+gaWd+"px;height:"+gaHt+"px;display:block;background-color:#AAAAAA;'><tr><td style='text-align:center;vertical-align:middle;'><center>Google Ads<br>"+gaWd+"x"+gaHt+"<\/center><\/td><\/tr><\/table>");}}function drawMoveableDartTag(position,divID){var urlDART=getDARTag(position);var obj=document.getElementById(divID);if(urlDART.length <=0){obj.style.display="none";return;}obj.style.display="block";if(bypassAds()){document.write(urlDART);}else{if(urlDART.indexOf("iframe")>=0){document.write(urlDART);}else{document.write("<scr"+"ipt type='text/javascript' language='javascript' src='"+urlDART+"'></scr"+"ipt>");if((position=="wallpaperhead")&&((adsIsSafari)||(adsIsChrome))){document.write("<scr"+"ipt type='text/javascript' language='javascript' src='"+urlDART+"'></scr"+"ipt>");}traxAdCount++;}}}function drawDartTagWithDiv(position,styleID,styleClass){var urlDART=getDARTag(position);if(urlDART.length<=0){return;}document.write("<div id='"+styleID+"' class='"+styleClass+"'>");if(bypassAds()){document.write(urlDART);}else{if(urlDART.indexOf("iframe")>=0){document.write(urlDART);}else{document.write("<scr"+"ipt type='text/javascript' language='javascript' src='"+urlDART+"'></scr"+"ipt>");if((position=="wallpaperhead")&&((adsIsSafari)||(adsIsChrome))){document.write("<scr"+"ipt type='text/javascript' language='javascript' src='"+urlDART+"'></scr"+"ipt>");}}}document.write("</div>");}function getFullDARTad(position){var urlDART=getDARTag(position);if(position==="meebo"){TVGOL.services.Meebo.ad=urlDART;return;}if(bypassAds()){document.write(urlDART);}else{if(urlDART.length>0){if(urlDART.indexOf("iframe")>=0){document.write(urlDART);}else{document.write("<scr"+"ipt type='text/javascript' language='javascript' src='"+urlDART+"'></scr"+"ipt>");if((position=="wallpaperhead")&&((adsIsSafari)||(adsIsChrome))){document.write("<scr"+"ipt type='text/javascript' language='javascript' src='"+urlDART+"'></scr"+"ipt>");}traxAdCount++;}}}}function refreshAllAds(){var frm=null;if(adsIsIE){dartTile=1;}else{dartTile=2;}gridTile=1;if(!bTopRowGridAd){gridTile=2;}tvgtoday=new Date();dartOrd=tvgtoday.getTime();for(var x=0;x<frameArray.length;x++){var strID=frameArray[x];frm=document.getElementById(strID);if(frm){strID=strID.replace(framePrefix,"");strID=strID.replace(/^\d+\_/,"");frm.src=getDARTagEX(strID,true);}}}function refreshAllAdsEx(bOnlyEmptyFrames){var frm=null;if(adsIsIE){dartTile=1;}else{dartTile=2;}gridTile=1;if(!bTopRowGridAd){gridTile=2;}tvgtoday=new Date();dartOrd=tvgtoday.getTime();for(var x=0;x<frameArray.length;x++){var strID=frameArray[x];frm=document.getElementById(strID);if(frm){if((!bOnlyEmptyFrames)||((bOnlyEmptyFrames)&&(isEmptyString(frm.src)))){strID=strID.replace(framePrefix,"");strID=strID.replace(/^\d+\_/,"");frm.src=getDARTagEX(strID,true);}}}}function getDARTImageTag(position){var urlDART=getDARTag(position);var tagImg=urlDART.replace('/adj/','/ad/');var tagURL=urlDART.replace('/adj/','/jump/');var strImageAd="<div><a href=\""+tagURL+"\"><img src=\""+tagImg+"\" alt=\"\"></a></div>";return strImageAd;}function getDARTag(position){return getDARTagEX(position,false);}function getDARTagEX(position,rawframe){var url=document.location.pathname;var site="";var baseSite="root";var s1="";var s2="";var pos="";var size="";var iHt=0;var iWd=0;var bDetail=false;var bSubSpecial=false;var bAllowIFrame=true;if(!isAdPositionEnabled(position)){return "";}url=url.replace("'","");url=url.replace("\"","");url=url.toLowerCase();position=position.toLowerCase();try{if(strRealURL){if(strRealURL.length>0){url=strRealURL;}}}catch(err){}switch(position){case "banner_top" : case "banner_top_0" : case "banner_top_1" : size="728x90";pos="top";iWd=728;iHt=90;break;case "banner_bottom" : size="728x90";pos="bottom";iWd=728;iHt=90;break;case "mid_banner" : size="728x90";pos="ingrid";iWd=728;iHt=90;break;case "box_300x250" : case "box_300x250_0" : case "box_300x250_1" : size="300x250";pos="right";iWd=300;iHt=250;break;case "mag_300x250": size="300x250";pos="right";iWd=300;iHt=250;break;case "sky_160x600": size="160x600";pos="right";iWd=160;iHt=600;break;case "inline": size="300x250";pos="right";iWd=300;iHt=250;break;case "header_320x55": size="320x55";pos="head";iWd=320;iHt=55;break;case "photo_gallery": size="300x250";pos="photo_gallery";iWd=300;iHt=250;break;case "promo_320x95": size="320x95";pos="right1";iWd=320;iHt=95;break;case "richmedia": size="1x1";pos="richmedia";iWd=1;iHt=1;bAllowIFrame=false;break;case "listings_right": size="160x600";pos="listings_right";iWd=160;iHt=600;break;case "listingstop": size="220x50";pos="listingstop";iWd=220;iHt=50;break;case "wallpaper": size="2x2";pos="wallpaper";iWd=2;iHt=2;bAllowIFrame=false;break;case "hpvideo": size="160x30";pos="hpvideo";iWd=160;iHt=30;break;case "hpfullepisodes": size="160x30";pos="hpvideo";iWd=160;iHt=30;break;case "hphotlist": size="160x30";pos="hphotlist";iWd=160;iHt=30;break;case "hpspotlight": size="160x30";pos="hpspotlight";iWd=160;iHt=30;break;case "hpbreaking": size="160x30";pos="hpbreaking";iWd=160;iHt=30;break;case "ovghead": size="295x35";pos="ovghead";iWd=295;iHt=35;break;case "halfpage": size="300x600";pos="halfpage";iWd=300;iHt=600;break;case "wallpaperhead": if(adsIsIE){return "";}size="2x2";pos="wallpaper";iWd=2;iHt=2;bAllowIFrame=false;break;case "wallpaperfoot": if(!(adsIsIE)){return "";}size="2x2";pos="wallpaper";iWd=2;iHt=2;bAllowIFrame=false;break;case "textlink": size="5x5";pos="textlink";iWd=5;iHt=5;break;case "objlistings": size="160x30";pos="objlistings";iWd=160;iHt=30;break;case "quiz": size="160x30";pos="quiz";iWd=160;iHt=30;break;case "ovgfly": size="162x33";pos="ovgfly";iWd=162;iHt=33;break;case "hptonights": size="160x30";pos="hptonights";iWd=160;iHt=30;break;case "hplastnights": size="160x30";pos="hplastnights";iWd=160;iHt=30;break;case "hpbna": size="160x30";pos="hpbna";iWd=160;iHt=30;break;case "hpfeatureddvd": size="160x30";pos="hpfeatureddvd";iWd=160;iHt=30;break;case "hphotornot": size="160x30";pos="hphotornot";iWd=160;iHt=30;break;case "onebyone": size="1x1";pos="onebyone";iWd=1;iHt=1;bAllowIFrame=false;break;case "tvglogo": size="110x81";pos="tvglogo";iWd=110;iHt=81;bAllowIFrame=false;break;case "prestitial": size="800x500";pos="prestitial";iWd=800;iHt=500;bAllowIFrame=false;break;case "closeup": size="468x60";pos="closeup";iWd=468;iHt=60;break;case "sponsorbar": size="160x30";pos="sponsorbar";iWd=160;iHt=30;break;case "networkhome": size="620x299";pos="networkhome";iWd=620;iHt=299;break;case "networkstamp": size="620x299";pos="networkstamp";iWd=620;iHt=299;break;case "ipad_sky_160x600": size="160x600";pos="ipad_right";iWd=160;iHt=600;break;case "ipad_banner_bottom" : size="728x90";pos="ipad_bottom";iWd=728;iHt=90;break;case "curb_object" : size="620x210";pos="curb_object";iWd=620;iHt=210;break;case "magazine_620x80" : size="620x80";pos="magazine_620x80";iWd=620;iHt=80;break;case "meebo": size="1x1";pos="meebo";iWd=1;iHt=1;bAllowIFrame=false;break;case "chksponsortracker": size="1x1";pos="chksponsortracker";iWd=1;iHt=1;break;case "chkprogtracker": size="1x1";pos="chkprogtracker";iWd=1;iHt=1;break;case "chksponlow": size="160x30";pos="chksponlow";iWd=160;iHt=30;break;case "spontopvideo": size="160x30";pos="spontopvideo";iWd=160;iHt=30;break;case "hprankingslogo": size="160x30";pos="hprankingslogo";iWd=160;iHt=30;break;case "ecomlogo": size="160x30";pos="ecomlogo";iWd=160;iHt=30;break;case "watchlistbar": size="1x1";pos="watchlistbar";iWd=1;iHt=1;break;default: return "";}if(bypassAds()){if((iWd>2)&&(iHt>2)){if(pos!="ingrid"){var strType="script";if((bAllowIFrame)&&(useIFrames)){strType="iframe";}return "<table align='center' style='height:"+iHt+"px;width:"+iWd+"px;background-color:#AAAAAA;'><tr><td style='text-align:center;vertical-align:middle;font-size:11px;font-family:Arial,Helvetica,Sans;'>AD "+iWd+"x"+iHt+"<br>pos="+pos+"&nbsp;&nbsp;("+strType+")</td></tr></table>";}else{return "http://www.tvguide.com/images/space.gif";}}else{return "";}}try{if(parseInt(iTvObjectID,10)>0){switch(strTvObjectType){case "tvshow": url="/detail/tvshow/id_"+iTvObjectID;s1="tvshow";s2=iTvObjectID;bDetail=true;break;case "celebrity": url="/detail/celebrity/id_"+iTvObjectID;s1="celebrity";s2=iTvObjectID;bDetail=true;break;case "movie": url="/detail/movie/id_"+iTvObjectID;s1="movie";s2=iTvObjectID;bDetail=true;break;default: break;}}}catch(err){}url=url.replace(/home\.aspx/i,"");url=url.replace(/default\.aspx/i,"");url=url.replace(/betagrid\.aspx/i,"");url=url.replace(".aspx","");url=url.replace(/\/$/,"");var urlparam=url.replace(/\//g,"_");urlparam=urlparam.replace(/^_/g,'');url=url.replace(/-/g,"");var secs=url.split('/');switch(strHostname){case "video.tvguide.com" : case "video-qa.tvguide.com" : case "video-stg.tvguide.com" : case "bbp-pilot.tvguide.com" : case "rad1onlsps1.tvguide.com" : baseSite="bbportal";break;case "sports.tvguide.com" : case "sports-qa.tvguide.com" : baseSite="sports";break;default: break;}switch(secs.length){case 0: site=baseSite;if(site=="root"){s1="home";}break;case 1: site=baseSite;if(site=="root"){s1="home";}break;case 2: site=secs[1];if(site=="keywords"||site=="authors"||site=="episoderecaps"||site=="news"||site=="americanidol"||site=="dancingstars"||site=="asks"||site=="celebrityblogs"||site=="cheersjeers"||site=="roush"||site=="biz"){site="newsviews";s1=secs[1];bSubSpecial=true;break;}if(site=="fashion"){site="newsviews";s1=secs[1];bSubSpecial=true;break;}if(site=="toptvshows"){site="top/tv";bSubSpecial=true;break;}if(site.indexOf("soap")>=0){site="soaps";break;}if(site=="sports"){site="sports";bSubSpecial=true;break;}if(site=="moviesdvd"){site="dvds/movie";bSubSpecial=true;break;}if(site=="moviestv"){site="movies/tv";bSubSpecial=true;break;}if(site=="movienews"){site="movies/news";bSubSpecial=true;break;}if(site=="dvdnews"){site="newsviews/dvd";bSubSpecial=true;break;}if(site=="moviestrailers"){site="movies/trailers";bSubSpecial=true;break;}if(site=="social"){site="social";bSubSpecial=true;break;}break;case 3: site=secs[1];if(site=="keywords"||site=="authors"||site=="episoderecaps"||site=="news"||site=="americanidol"||site=="dancingstars"||site=="asks"||site=="celebrityblogs"||site=="cheersjeers"||site=="roush"||site=="biz"||site=="fashion"){site="newsviews";s1=secs[1];s2=secs[2];if(s2==="moviescoop"){site="movies";}bSubSpecial=true;break;}if(site=="newsviews"&&secs[2]=="dvdsales"){site="dvds";s1="tv";s2=secs[2];bSubSpecial=true;break;}if(site.indexOf("soap")>=0){site="soaps";s1="updates";s2=secs[2];bSubSpecial=true;break;}if(site=="dvdnews"){site="news";s1="dvd";s2=secs[2];bSubSpecial=true;break;}if(site=="movienews"){site="movies";s1="news";s2=secs[2];bSubSpecial=true;break;}if(site=="moviestrailers"){site="movies";s1="trailers";s2=secs[2];bSubSpecial=true;break;}if(site=="social"){site="social";s2=secs[2];bSubSpecial=true;break;}if(!bDetail){s1=secs[2];}break;case 4: site=secs[1];if(site=="keywords"||site=="authors"||site=="episoderecaps"||site=="news"||site=="americanidol"||site=="dancingstars"||site=="asks"||site=="celebrityblogs"||site=="cheersjeers"||site=="roush"||site=="biz"||site=="fashion"){site="newsviews";s1=secs[1];s2=secs[2];bSubSpecial=true;break;}if(!bDetail){s1=secs[2];s2=secs[3];}break;case 5: case 6: site=secs[1];if(!bDetail){switch(site){case "sports": s1=secs[2];s2=secs[3];break;default: s1=secs[3];s2=secs[4];break;}}default: site=secs[1];s1=secs[2];s2=secs[3];break;}var strAdPath=site;if(site!="photogallery"){if(s1.length > 0){strAdPath+="/"+s1;}}if(bSubSpecial!==true){if(s2.length > 0){strAdPath+="/"+s2;}}if(bDetail){strAdPath+="/id_"+iTvObjectID;}var strAd="http://ad.doubleclick.net/N4313/adj/tvg.";if(position=="meebo"){strAd="http://ad.doubleclick.net/N4313/pfadx/tvg.";}var locOrd=dartOrd;if(((useIFrames)&&(bAllowIFrame))||(pos=="ingrid")||(pos=="closeup")){strAd="http://ad.doubleclick.net/N4313/adi/tvg.";if(pos=="ingrid"){locOrd+=dartTile;}}strAd+=strAdPath+";s1="+s1+";s2="+s2+";url="+urlparam+";tvg=ad;pos="+pos+";tile="+dartTile+";";if(site=="special"&&s2=="photogallery"){fullurl=document.location.pathname;lastpart=fullurl.substring(fullurl.lastIndexOf('/')+1);strAd+="s3="+lastpart+";";}if(position=="mag_300x250"){strAd+="s3=magazine;";}if(position=="banner_top"||position=="banner_top_0"||position=="banner_top_1"){strAd+="dcopt=ist;";}else{strAd+="dcopt=;";}if(pos=="ingrid"){strAd+="gridtile="+gridTile+";";gridTile++;}if(position=="meebo"){strAd+="dcmt=text/html;";}var tagtest=ad_getQueryParam("tagtest");if(tagtest.length>0){strAd+="tagtest="+tagtest+";";}strAd+=getKeywords();strAd+="promo=;"+strRsiSegments+"sz="+size+";ord="+locOrd+"?";dartTile++;if((bAllowIFrame)&&(useIFrames)&&(!rawframe)){frameArray.push(framePrefix+position);if(bDelayLoad){return "<iframe id='"+frameArray[frameArray.length-1]+"' frameborder='0' scrolling='no' style='width:"+iWd+"px;height:"+iHt+"px;' allowtransparency='true'></iframe>";}else{return "<iframe id='"+frameArray[frameArray.length-1]+"' src='"+strAd+"' frameborder='0' scrolling='no' style='width:"+iWd+"px;height:"+iHt+"px;' allowtransparency='true'></iframe>";}}return strAd;}function bypassAds(){ac=ad_getQueryParam("nads");if(ac.length>0){if(ac=="no"){ad_writeCookie("nads","",-1);return false;}else{ad_writeCookie("nads","8086",0);return true;}}var ac=ad_readCookie("nads");if(ac){if(ac.length>0){return true;}}if((document.location.port=="80")||(document.location.port==="")){return false;}return true;}function ad_writeCookie(strName,strValue,iDays){var strCookie=strName+"="+strValue+";";if(iDays!==0){var date=new Date();date.setTime(date.getTime()+(iDays*24*60*60*1000));strCookie+="expires="+date.toGMTString()+";";}var dom=document.domain;var tvg=".tvguide.com";if(dom.match(/tvguide.com$/i)){strCookie+="domain="+tvg+";";}strCookie+="path=/";document.cookie=strCookie;}function ad_readCookie(strName){var name=strName+"=";var ca=document.cookie.split(';');for(var i=0;i < ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(name)===0)return c.substring(name.length,c.length);}return null;}function ad_getQueryParam(strName){var u,i;u=document.location.search+"";i=u.indexOf(strName+"=",0);if(i>=0){i+=strName.length+1;var n=u.indexOf('&',i);if(n>i){return unescape(u.substring(i,n));}else if(i<u.length){return unescape(u.substring(i));}}return "";}function getKeywords(){var strkys="";try{if(strTvObjectName.length>0){var tobj=strTvObjectName.replace("'","");tobj=escape(tobj).replace(/%20/g,"+");strkys+="kw="+tobj+";";}}catch(err){}try{if(strTvObjectType.length>0){strkys+="kw="+escape(strTvObjectType)+";";}}catch(err){}try{if(strSearchKey .length>0){strkys+="kw="+escape(strSearchKey)+";";}}catch(err){}if(typeof(optionGenreFilter)!="undefined"){switch(optionGenreFilter){case 2: strkys+="filter=movies;";break;case 3: strkys+="filter=sports;";break;case 4: strkys+="filter=family;";break;case 5: strkys+="filter=ppv;";break;case 6: strkys+="filter=news;";break;default: break;}}if(typeof(bHDTVOnlyFilter)!="undefined"){if(bHDTVOnlyFilter){strkys+="filter=hd;";}}var provider=ad_readCookie("Provider");if(provider!==null){strkys+="provider="+provider+";";try{var strProvider=provider.toLowerCase();if((strProvider.indexOf("directv")>=0)||(strProvider.indexOf("dish")>=0)){strkys+="service=satellite;";}else if(strProvider.indexOf("national")>=0){strkys+="service=national;";}else{strkys+="service=cable;";}}catch(err){}}try{if(strHostname.indexOf("qa")>=0){strkys+="srvr=qa;";}}catch(err){}return strkys;}function getNewRsiStringForDART(){var DMSegCookie=ad_readCookie("rsi_segs");if(DMSegCookie===null){return "";}var segs=DMSegCookie.split('|');var sbRSI="";for(var i=0;i < segs.length;i++){var seg=segs[i].split('_');if(seg.length==2){sbRSI+="segs="+seg[1]+";";}}return sbRSI;}function getRsiStringForDART(){var sbRSI=getNewRsiStringForDART();if(sbRSI.length>0){return sbRSI;}sbRSI="";var DMSegCookie=ad_readCookie("DMSEG");if(DMSegCookie===null){return "";}var DMSegCnt=0;var DMSegArray=DMSegCookie.split('&');if(DMSegArray.length >=5){try{DMSegCnt=parseInt(DMSegArray[4],10);}catch(err){return "";}if(DMSegCnt > 0){var DMSegIDs=DMSegArray[5].split(',');if(DMSegIDs.length > 0){for(var dm=0;dm<DMSegIDs.length;dm++){sbRSI+="segs="+DMSegIDs[dm]+";";}}}}return sbRSI;}var strHostname=document.location.hostname;strHostname=strHostname.toLowerCase();if(strHostname){strHostname=strHostname.toLowerCase();if(strHostname.indexOf("akamai-origin")>=0){strHostname="www.tvguide.com";}}var strPathname=document.location.pathname;strPathname=strPathname.toLowerCase();if((strPathname.match(/\/photos\/\d+/))||(strPathname.match(/\/cast\/\d+/))||(strPathname.match(/photogallery/))){useIFrames=true;}if((bEnableDelayedAds)&&(strPathname.match(/\/listings/i))){useIFrames=true;bDelayLoad=true;}if(strPathname.match(/\/listings\/setup/i)){useIFrames=false;bDelayLoad=false;}function drawAdCalls(nIndex){var idelay=750;var adCell=null;var strPageURL=document.location.pathname;strPageURL=escape(strPageURL.toLowerCase());if(strPageURL.indexOf("celebrities")>=0){strPageURL=escape("/detail/celebrity/");}var strAdCallURL="/TVGOL/tvgas.ashx";if(strPageURL.indexOf('/redesign/')===0){strAdCallURL="/redesign"+strAdCallURL;}strAdCallURL+="?rnd="+dartOrd;var strAdURL="";strAdCallURL+="&srchKey="+escape(strSearchKey);strAdCallURL+="&objName="+escape(strTvObjectName);strAdCallURL+="&objType="+escape(strTvObjectType);try{switch(optionGenreFilter){case 2: strAdCallURL+="&grdflt=movies";break;case 3: strAdCallURL+="&grdflt=sports";break;case 4: strAdCallURL+="&grdflt=family";break;case 5: strAdCallURL+="&grdflt=ppv";break;default: break;}}catch(err){}try{if(bHDTVOnlyFilter){strAdCallURL+="&hdflt=true";}}catch(err){}switch(nIndex){case 0:{dartTile++;adCell=document.getElementById("TvgoIFrameStore");if(adCell){strAdURL=strAdCallURL+"&tile="+dartTile+"&plcmnt=header_320x55&bgcolor=b00506&pageURL="+strPageURL;adCell.src=strAdURL;}setTimeout("drawAdCalls(1)",idelay);break;}case 1:{adCell=document.getElementById("TvgoIFrameTop");if(adCell){dartTile++;strAdURL=strAdCallURL+"&tile="+dartTile+"&plcmnt=banner_top&bgcolor=44443a&pageURL="+strPageURL;adCell.src=strAdURL;}setTimeout("drawAdCalls(2)",idelay);break;}case 2:{adCell=document.getElementById("TvgoIFrameBoxAd");if(adCell){dartTile++;strAdURL=strAdCallURL+"&tile="+dartTile+"&plcmnt=box_300x250&bgcolor=FFFFFF&pageURL="+strPageURL;adCell.src=strAdURL;}setTimeout("drawAdCalls(3)",idelay);break;}case 3:{adCell=document.getElementById("TvgoIFrameBot");if(adCell){dartTile++;strAdURL=strAdCallURL+"&tile="+dartTile+"&plcmnt=banner_bottom&bgcolor=DDDDDD&pageURL="+strPageURL;adCell.src=strAdURL;}setTimeout("drawAdCalls(4)",idelay);break;}case 4:{adCell=document.getElementById("TvgoIFramePromo");if(adCell){dartTile++;strAdURL=strAdCallURL+"&tile="+dartTile+"&plcmnt=promo_320x95&bgcolor=FFFFFF&pageURL="+strPageURL;adCell.src=strAdURL;}setTimeout("drawAdCalls(5)",idelay);break;}case 5:{for(var n=0;n<iGridAds;n++){adCell=document.getElementById("inGridAdCell"+n);if(adCell){if(bEnableDelayedAds){adCell.src=getDARTagEX("mid_banner",false);}else{adCell.src=getDARTagEX("mid_banner",true);}}}break;}default: break;}}var strRsiSegments="";var strTvgAdKeywords=getKeywords();
var strWebtrendsSite="Redesign2006";var strCustomWTParams="";var strMainSection="";var strSubSection="";var str3rdLevel="";var strTvgServerName="";var gImages=new Array;var gIndex=0;var DCS=new Object();var WT=new Object();var DCSext=new Object();var gDomain="sdc.tvguide.com";var gDcsId="";var strSiteHostName=document.location.hostname.toLowerCase();try{switch(navigator.appName.toLowerCase()){case "netscape" : break;default: setDocDomain();break;}}catch(err){}function setDocDomain(){var domParts=document.domain.split('.');switch(domParts.length){case 0: break;case 1: break;default: document.domain=domParts[domParts.length-2]+'.'+domParts[domParts.length-1];break;}}function collectWebtrendsData(){}function dcsVar(){}function makeNVP(N,V){}function dcsEscape(S){}function dcsCreateImage(dcsSrc){}function dcsTag(){}function getWebtrendsBase(){}function executeGridCounter(strDcsImgUrl){}function countHPGridClick(strLocation){}function countGridAction(strAction,strValue){try{countOmniGridAction(strAction,strValue);}catch(e){}}function countFlyover(strCat,strSubCat,strTitle,iProgramID,iSeriesID,strAction){try{countOmniFlyover(strCat,strSubCat,strTitle,iProgramID,iSeriesID,strAction);}catch(e){}srCountGridEvent(strCat,strSubCat,strTitle,iProgramID,iSeriesID,strAction);}function countFlyoverEx(strCat,strSubCat,strTitle,iProgramID,iSeriesID,strAction,iObjectID){try{countOmniFlyover(strCat,strSubCat,strTitle,iProgramID,iSeriesID,strAction);}catch(e){}countTRAXCloseupView(strTitle,iObjectID,iProgramID);srCountGridEvent(strCat,strSubCat,strTitle,iProgramID,iSeriesID,strAction);}function countGridPrefs(strPrefs){try{countOmniGridPrefs(strPrefs);}catch(e){}}function countGridView(strViewType,strFilter){}function countListingsSetup(strPageDesc){}function countDetailPage(strObjName,strObjType){}function countGridViewEx(strViewType,strFilter,strProviderType,nChannels,nMinutes,iAjaxLoadTime,iAjaxRender,iAjaxBytes){try{countOmniGridViewEx(strViewType,strFilter,strProviderType,nChannels,nMinutes,iAjaxLoadTime,iAjaxRender,iAjaxBytes);}catch(e){}if(isErrorPage()){countTraxErrorPage();return;}collectTraxSL2GridView();nChannels=parseInt(nChannels,10);var strChans="";if(nChannels<=20){strChans="1-20";}else if(nChannels<=50){strChans="21-50";}else if(nChannels<=100){strChans="51-100";}else if(nChannels<=150){strChans="101-150";}else if(nChannels<=200){strChans="151-200";}else if(nChannels<=250){strChans="201-250";}else if(nChannels<=300){strChans="251-300";}else if(nChannels<=400){strChans="301-400";}else if(nChannels<=500){strChans="401-500";}else if(nChannels<=1000){strChans="501-1000";}else{strChans="1001-xxxx";}var strTrax=getTraxUrlBase('listings');strTrax+="&gdt="+escape(getGridTime());strTrax+="&gmn="+iGridSpanMinutes;strTrax+="&chs="+nChannels;strTrax+="&prg="+objRawData.length;strTrax+="&byt="+iResponseBytes;strTrax+="&mil="+iAjaxMillisecs;strTrax+="&srv="+strDataServer;strTrax+="&cb="+parseInt(Math.random()*10000000,10);loadImageURL(strTrax);}function isErrorPage(){try{var str=document.title;if(str.match(/page not found/i)!=null){return true;}}catch(e){}try{if(typeof(tvgPageStatus)!="undefined"){tvgPageStatus=parseInt(tvgPageStatus,10);switch(tvgPageStatus){case 404: return true;case 500: return true;}}}catch(e){}return false;}function countTraxPage(){if(isErrorPage()){countTraxErrorPage();return;}var traxSection=getTraxSection();if(traxSection.length<=0){return;}var strTrax=getTraxUrlBase(traxSection);strTrax+=getTraxContentParams();strTrax+=getTraxObjectParams();strTrax+=getTraxReferrer();loadImageURL(strTrax);}function countTraxCheckIn(iObjID,iProgID){if(isErrorPage()){countTraxErrorPage();return;}var strTrax=getTraxUrlBase("");strTrax=strTrax.replace("trax.gif","checkin.gif");strTrax+="&chkinObjID="+iObjID;strTrax+="&chkinProgID="+iProgID;loadImageURL(strTrax);}function countTraxErrorPage(){var strTrax="http://trax.tvguide.com/error.gif";strTrax+="?uid="+readCookie("TVGID");strTrax+="&sect="+getTraxSection();var tmp=readCookie("ServiceID");if(tmp===null){tmp="";}strTrax+="&sid="+tmp;tmp=readCookie("zip");if(tmp===null){tmp="";}strTrax+="&zip="+tmp;try{strTrax+="&error="+tvgPageStatus;}catch(e){strTrax+="&error=n/a";}strTrax+="&badpage="+document.location.pathname;loadImageURL(strTrax);}function getTraxUrlBase(strSection){var strTrax="http://trax.tvguide.com/trax.gif";strTrax+="?uid="+readCookie("TVGID");strTrax+="&sect="+strSection;var strID=readCookie("ServiceID");if(strID===null){strID=80001;}strTrax+="&sid="+strID+"&zip="+readCookie("zip");if(readCookie("MAPCookie")){strTrax+="&login=1";}else{strTrax+="&login=0";}try{strTrax+="&ads="+traxAdCount;}catch(e){}return strTrax;}function getTraxSection(){if(strSiteHostName.indexOf('sports')>=0){return "sports";}if(strSiteHostName.indexOf('movies')>=0){return "movies";}if(strSiteHostName.indexOf('video')>=0){return "video";}var strRelativePath=document.location.pathname.toLowerCase();if((strRelativePath=='\/home.aspx')||(strRelativePath=='\/')){return "homepage";}var str=strRelativePath.match(/^\/([^\/]+)/);if(str.length>=2){return str[1];}return "other";}function getTraxObjectParams(){try{var strTrax="&objid="+iTvObjectID;strTrax+="&obtyp="+strTvObjectType;return strTrax;}catch(e){}return "";}function getTraxReferrer(){try{var strRefer=document.referrer;if(strRefer.length>1){strRefer=strRefer.toLowerCase().replace(/^http\:\/\//i,"");var i=strRefer.indexOf("/");if(i > 0){return "&refer="+strRefer.substring(0,i);}return "&refer="+strRefer;}}catch(e){}return "";}function getTraxContentParams(){var strRelativePath=document.location.pathname;var rgx=/\-(\d+)\/(\d+)\.aspx$/i;var mth=rgx.exec(strRelativePath);if(mth){return("&cid="+mth[1]+"&idx="+mth[2]);}rgx=/(\d+)\.aspx$/i;mth=rgx.exec(strRelativePath);if(mth){return("&cid="+mth[1]);}return "";}function collectTraxSL2GridView(){var strID=readCookie("ServiceID");if(strID===null){strID=80001;}var query="http://trax.tvguide.com/syndicated.gif";query+="?partner=0&profile=0&width=760&height=1050";query+="&srvid="+strID;query+="&uid="+readCookie("TVGID");query+="&doc="+document.location.pathname;try{query+="&refer="+document.referrer;}catch(e){}var img=new Image();img.src=query;var dmy=img.width+img.height;}function countTRAXCloseupView(strProgTitle,piObjectID,piProgramID){var query="http://trax.tvguide.com/closeup.gif";query+="?partner=0";query+="&profile=0";query+="&objid="+piObjectID;query+="&progid="+piProgramID;query+="&cutype=inline";query+="&uid="+readCookie("TVGID");query+="&title="+escape(strProgTitle);var img=new Image();img.src=query;var dmy=img.width+img.height;}function getGridTime(){var strDate=dtGridLocalStartTime.getFullYear();if(dtGridLocalStartTime.getMonth()<9){strDate+="0";}strDate+=(dtGridLocalStartTime.getMonth()+1);if(dtGridLocalStartTime.getDate()<10){strDate+="0";}strDate+=dtGridLocalStartTime.getDate();if(dtGridLocalStartTime.getHours()<10){strDate+="0";}strDate+=dtGridLocalStartTime.getHours();if(dtGridLocalStartTime.getMinutes()<10){strDate+="0";}strDate+=dtGridLocalStartTime.getMinutes();return strDate;}function getFavChannels(){var fvch="";try{if(arSelectedChannels){if(arSelectedChannels.length>0){for(var fv=0;fv<arSelectedChannels.length;fv++){if(fv>0){fvch+=";";}fvch+=arSelectedChannels[fv];}fvch="&GRID.favchan="+fvch;}}}catch(e){return "";}return fvch;}var srImage;function getSmartRecUrlBase(){var srURL="http://trax.tvguide.com/clickstream.gif?UserID=";srURL+=readCookie("TVGID");return srURL;}function srCountGridEvent(strCat,strSubCat,strTitle,iProgramID,iSeriesID,strUsageType){var srURL=getSmartRecUrlBase();var strSID=readCookie("ServiceID");if(strSID){srURL+=("&ServiceID="+strSID);}else{srURL+="&ServiceID=0";}srURL+="&SeriesID="+iSeriesID;srURL+="&ProgramID="+iProgramID;srURL+="&UsageDataType="+strUsageType;srURL+="&Locale=en_us";callSmartRecs(srURL);}function srAddFav(strRetURL,strUsageType){var srURL=getSmartRecUrlBase();if(strTvObjectName.length>0){if(strTvObjectType!="celebrity"){srURL+="&TvObjectID="+iTvObjectID;srURL+="&TvObjectType="+escape(strTvObjectType);srURL+="&TvObjectName="+escape(strTvObjectName);srURL+="&UsageDataType="+strUsageType;callSmartRecs(srURL);}}document.location=strRetURL;}function loadImageURL(srURL){srImage=new Image();srImage.src=srURL;var xS=srImage.width;var yS=srImage.height;}function callSmartRecs(srURL){srImage=new Image();srImage.src=srURL;var xS=srImage.width;var yS=srImage.height;}function executeSiteCounter(strDcsImgUrl,strSite,strProfile){}function countSportsGuidePage(strSport,strLeague,strKeyword,strHdFilter,strEventFilter){omni_countSportsGuidePage(strSport,strLeague,strKeyword,strHdFilter,strEventFilter);}
var queryField;var globalDiv;var searchHiddenControl;var queryField1;var globalDiv1;var searchHiddenControl1;var queryFieldActive;var searchHiddenControlActive;var divName="querydiv";var ifName="queryiframe";var searchHiddenControlID="txtSearchAutoCompleteHidden";var txtSearchAutoCompleteID="txtSearchAutoComplete";var quit=false;var lastVal="";var val="";var cache=new Object();var cache1=new Object();var divFormatted=false;var divFormatted1=false;var DIV_BG_COLOR="#ffffff";var DIV_HIGHLIGHT_COLOR="#CCCCCC";var bInitQueryCodeComplete=false;var bInitQueryCodeComplete1=false;var TimerID=null;var UserStartedTyping=false;var IsVideoSearch=false;var isVersionEx=false;function txtSearchAutoCompleteOnFocusHandler1(){if(bInitQueryCodeComplete1){if(TimerID===null)TimerID=setInterval("mainLoop()",100);searchHiddenControlActive=searchHiddenControl1;queryFieldActive=queryField1;divName="querydiv1";ifName="queryiframe1";isVersionEx=true;}}function txtSearchAutoCompleteOnFocusHandler(){if(bInitQueryCodeComplete){if(TimerID===null)TimerID=setInterval("mainLoop()",100);searchHiddenControlActive=searchHiddenControl;queryFieldActive=queryField;divName="querydiv";ifName="queryiframe";isVersionEx=false;}}function InitQueryCode(isInstance2){if(isInstance2){searchHiddenControl1=document.getElementById(searchHiddenControlID+"1");queryField1=document.getElementById(txtSearchAutoCompleteID+"1");if(searchHiddenControl1&&queryField1){queryField1.onblur=hideDiv;queryField1.onkeydown=keypressHandler;bInitQueryCodeComplete1=true;}}else{searchHiddenControl=document.getElementById(searchHiddenControlID);queryField=document.getElementById(txtSearchAutoCompleteID);searchHiddenControlActive=searchHiddenControl;queryFieldActive=queryField;if(searchHiddenControl&&queryField){queryField.onblur=hideDiv;queryField.onkeydown=keypressHandler;addToCache("",new Array());bInitQueryCodeComplete=true;if((TimerID===null)&&UserStartedTyping)TimerID=setInterval("mainLoop()",100);}}}function addToCache(queryString,resultArray1){if(queryString.length > 0){if(resultArray1.length===0)return;}if(isVersionEx)cache1[queryString.toLowerCase()]=new Array(resultArray1);else cache[queryString.toLowerCase()]=new Array(resultArray1);}mainLoop=function(){if(quit===false){val=escape(queryFieldActive.value);val=unescape(queryFieldActive.value);if(val.length===0){showDiv(false);lastVal=val;return true;}if(lastVal!=val){var cacheResult;if(isVersionEx)cacheResult=cache1[val.toLowerCase()];else cacheResult=cache[val.toLowerCase()];if(cacheResult){showQueryDiv(val,cacheResult[0]);}else{Query(val);}lastVal=val;queryFieldActive.focus();}return true;}};function getDiv(divID){var x,y,parent,newNode;if(isVersionEx){if(!globalDiv1){if(!document.getElementById(divID)){newNode=document.createElement("div");newNode.setAttribute("id",divID);document.body.appendChild(newNode);}globalDiv1=document.getElementById(divID);x=queryFieldActive.offsetLeft;y=queryFieldActive.offsetTop+queryFieldActive.offsetHeight;parent=queryFieldActive;while(parent.offsetParent){parent=parent.offsetParent;x+=parent.offsetLeft;y+=parent.offsetTop;}if(!divFormatted1){globalDiv1.style.backgroundColor=DIV_BG_COLOR;globalDiv1.style.border="1px solid #666666";globalDiv1.className="AC_SearchDiv";globalDiv1.style.position="absolute";globalDiv1.style.left=x+"px";globalDiv1.style.top=y+"px";globalDiv1.style.visibility="hidden";globalDiv1.style.zIndex=10000;divFormatted1=true;}}return globalDiv1;}else{if(!globalDiv){if(!document.getElementById(divID)){newNode=document.createElement("div");newNode.setAttribute("id",divID);document.body.appendChild(newNode);}globalDiv=document.getElementById(divID);x=queryFieldActive.offsetLeft;y=queryFieldActive.offsetTop+queryFieldActive.offsetHeight;parent=queryFieldActive;while(parent.offsetParent){parent=parent.offsetParent;x+=parent.offsetLeft;y+=parent.offsetTop;}if(!divFormatted){globalDiv.style.backgroundColor=DIV_BG_COLOR;globalDiv.style.border="1px solid #666666";globalDiv.className="AC_SearchDiv";globalDiv.style.position="absolute";globalDiv.style.left=x+"px";globalDiv.style.top=y+"px";globalDiv.style.visibility="hidden";globalDiv.style.zIndex=10000;divFormatted=true;}}return globalDiv;}}function showQueryDiv(queryString,resultArray1){var div=getDiv(divName);while(div.childNodes.length > 0)div.removeChild(div.childNodes[0]);for(var i=0;i < resultArray1.length;i++){var result=document.createElement("div");result.style.cursor="pointer";result.style.padding="3px 0px 3px 0px";_unhighlightResult(result);result.onmousedown=selectResult;result.onmouseover=highlightResult;result.onmouseout=unhighlightResult;var resArray=resultArray1[i].split("~");var result1=document.createElement("span");result1.className="AC_left";result1.innerHTML=resArray[0];var result2=document.createElement("span");result2.className="AC_right";var object_code=resArray[1];var object_type;switch(object_code){case "c": object_type="Celebrity";break;case "m": object_type="Movie";break;case "s": object_type="TV Show";break;default: object_type=object_code;break;}if(resArray[3]===''){result2.innerHTML="("+object_type+")";}else{result2.innerHTML="("+object_type+"-"+resArray[3]+")";}if(object_code.length > 1)object_code="g";var result3=document.createElement("span");result3.className="AC_hidden";result3.style.visibility="hidden";result3.innerHTML=object_code+resArray[2];result.appendChild(result1);result.appendChild(result2);result.appendChild(result3);div.appendChild(result);}var isCached;if(isVersionEx)isCached=cache1[queryString.toLowerCase()];else isCached=cache[queryString.toLowerCase()];if(!isCached)addToCache(queryString,resultArray1);if(resultArray1.length > 0)showDiv(true);else showDiv(false);}function selectResult(){_selectResult(this,true);}function _selectResult(item,bDoSubmit){var spans=item.getElementsByTagName("span");if(spans){queryFieldActive.value=unescapeHTML(spans[0].innerHTML);searchHiddenControlActive.value=spans[2].innerHTML;if(isVersionEx)document.getElementById("btnAutocAddFav").disabled="";lastVal=val=queryFieldActive.value;showDiv(false);quit=true;if(bDoSubmit)submitForm();return;}}function highlightResult(){_highlightResult(this);}function _highlightResult(item){item.style.backgroundColor=DIV_HIGHLIGHT_COLOR;}function unhighlightResult(){_unhighlightResult(this);}function _unhighlightResult(item){item.style.backgroundColor=DIV_BG_COLOR;}function showDiv(show){var div=getDiv(divName);if(show){div.style.visibility="visible";}else{div.style.visibility="hidden";}adjustiFrame();}function hideDiv(){showDiv(false);}function adjustiFrame(){if(!document.getElementById(ifName)){var newNode=document.createElement("iFrame");newNode.setAttribute("id",ifName);newNode.setAttribute("src","javascript:false;");newNode.setAttribute("scrolling","no");newNode.setAttribute("frameborder","0");document.body.appendChild(newNode);}iFrameDiv=document.getElementById(ifName);var div=getDiv(divName);try{iFrameDiv.style.position="absolute";iFrameDiv.style.width=div.offsetWidth+'px';iFrameDiv.style.height=div.offsetHeight+'px';iFrameDiv.style.top=div.style.top;iFrameDiv.style.left=div.style.left;iFrameDiv.style.zIndex=div.style.zIndex-1;iFrameDiv.style.visibility=div.style.visibility;}catch(e){}}function keypressHandler(evt){quit=false;UserStartedTyping=true;if(bInitQueryCodeComplete&&(TimerID===null))TimerID=setInterval("mainLoop()",100);var div=getDiv(divName);if(!evt&&window.event){evt=window.event;}var key=evt.keyCode;var KEYUP=38;var KEYDOWN=40;var KEYENTER=13;var KEYTAB=9;if((key!=KEYUP)&&(key!=KEYDOWN)&&(key!=KEYENTER)&&(key!=KEYTAB)){searchHiddenControlActive.value="";if(isVersionEx)document.getElementById("btnAutocAddFav").disabled="disabled";return true;}var selNum=getSelectedSpanNum(div);var selSpan=setSelectedSpan(div,selNum);if(key==KEYENTER){if(selSpan)_selectResult(selSpan,false);submitForm();evt.cancelBubble=false;return false;}else if(key==KEYTAB){if(selSpan)_selectResult(selSpan,false);evt.cancelBubble=false;return true;}else{if(key==KEYUP){selSpan=setSelectedSpan(div,selNum-1);}if(key==KEYDOWN){selSpan=setSelectedSpan(div,selNum+1);}if(selSpan){_highlightResult(selSpan);}}showDiv(true);return true;}function getSelectedSpanNum(div){var count=-1;var spans=div.getElementsByTagName("div");if(spans){for(var i=0;i < spans.length;i++){count++;if(spans[i].style.backgroundColor!=div.style.backgroundColor)return count;}}return-1;}function setSelectedSpan(div,spanNum){var count=-1;var thisSpan;var spans=div.getElementsByTagName("div");if(spans){for(var i=0;i < spans.length;i++){count++;if(count==spanNum){_highlightResult(spans[i]);thisSpan=spans[i];}else{_unhighlightResult(spans[i]);}}}return thisSpan;}function unescapeHTML(text){var div=document.createElement('div');div.innerHTML=stripTags(text);return div.childNodes[0] ? div.childNodes[0].nodeValue : '';}function stripTags(text){return text.replace(/<\/?[^>]+>/gi,'');}var xmlHttpAC=null;function Query(q){q=escape(q);var strUrl="/Script/ajax_callbacks/autocomplete.ashx?q="+q;if(isVersionEx)strUrl+="&t=s|g|c|m&c=5";xmlHttpAC=GetXmlHttpObject(ACEvent);if(xmlHttpAC){xmlHttpAC.open("GET",strUrl,true);xmlHttpAC.send(null);}}function ACEvent(){if(xmlHttpAC.readyState==4||xmlHttpAC.readyState=="complete"){var strText=xmlHttpAC.responseText;var resultArr;if(strText!==null){resultArr=strText.split("|");var q=resultArr[0];resultArr.shift();showQueryDiv(q,resultArr);}return;}}function submitForm(){var submitPage="";var gSearchUri=WWWBaseUrl+"/search/index.aspx?keyword=";var gCelebUri=WWWBaseUrl+"/detail/celebrity.aspx?tvobjectid={0}";var gMovieUri=WWWBaseUrl+"/detail/movie.aspx?tvobjectid={0}";var gTVShowUri=WWWBaseUrl+"/detail/tv-show.aspx?tvobjectid={0}";var gSportsUri=WWWBaseUrl+"/tvobjectpages/team.aspx?tvobjectid={0}";var queryFieldVal=queryFieldActive.value;var objectID;if(isVersionEx){return false;}var OmnitureText="searchbox:autocomplete-click:"+queryFieldVal;queryFieldVal=EncodeCrossBrowser(queryFieldVal);if(IsVideoSearch)submitPage=OvgBaseUrl+"/results.aspx?primary=SEARCH&searchvalue="+queryFieldVal;else if(searchHiddenControl&&searchHiddenControl.value){var objectType=searchHiddenControl.value.substr(0,1);objectID=searchHiddenControl.value.substr(1);switch(objectType){case "c": submitPage=gCelebUri.replace("{0}",objectID);break;case "m": submitPage=gMovieUri.replace("{0}",objectID);break;case "s": submitPage=gTVShowUri.replace("{0}",objectID);break;case "g": submitPage=gSportsUri.replace("{0}",objectID);break;default: submitPage=gSearchUri+queryFieldVal;OmnitureText="searchbox:search";break;}}else{submitPage=gSearchUri+queryFieldVal;OmnitureText="searchbox:search";}try{om_collect_link("www",OmnitureText);}catch(e){}window.location=submitPage;return false;}if(window.attachEvent){window.attachEvent("onload",function(){InitQueryCode(0);});}else{window.addEventListener("load",function(){InitQueryCode(0);},false);}
var Bookmarks={title: '',description: '',url: '',links: [],display: function(className,url,title,description){this.url=(typeof url!='undefined')? url : document.location.href;this.title=(typeof title!='undefined')? title : document.title;this.description=(typeof description!='undefined')? description : this._parseDescription();this.links=[];this._addEmail();this._addBuzz();this._addFacebook();this._addDigg();this._addDelicious();this._addStumbleUpon();var output='';for(var i in this.links){output+='\t<li>'+this.links[i]+'</li>\n';}if(output!==''){if(typeof className!='undefined'){output='\n<ul class="'+className+'">\n'+output+'</ul>';}else{output='\n<ul>\n'+output+'</ul>';}document.writeln(output);}},_parseDescription: function(){var description='';var metas=document.getElementsByTagName('META');for(var i=0;i < metas.length;i++){if(metas[i].getAttribute('NAME')=='Description'){description=metas[i].getAttribute('CONTENT');break;}}return description;},_addEmail: function(){this.links[this.links.length]='<a href="#" onclick="return(ET());" onmouseover="return(ETMouseOver());" onmouseout="return(ETMouseOut());"><img src="/images/global/email.gif" border="0"> email</a>';},_addBuzz: function(){this.links[this.links.length]='<scr'+'ipt showbranding="0" src="http://d.yimg.com/ds/badge.js" badgetype="small">tv_guide_onli242:'+this.url+'</scr'+'ipt>';},_addFacebook: function(){this.links[this.links.length]="<scr"+"ipt>function fbs_click(){window.open('http://www.facebook.com/sharer.php?u="+encodeURIComponent(this.url)+"&t="+encodeURIComponent(this._escapeSingleQuotes(this.title))+"','sharer','toolbar=0,status=0,width=626,height=436');return false;}</scr"+"ipt><a onmouseup=\"om_FBC_share('Facebook');\" href=\"http://www.facebook.com/share.php?u="+encodeURIComponent(this.url)+"&t="+encodeURIComponent(this._escapeSingleQuotes(this.title))+"\" onclick=\"return fbs_click()\" target=\"_blank\"><img src=\"http://static.ak.fbcdn.net/images/share/facebook_share_icon.gif\" alt=\"Facebook\" border=\"0\" /></a>";},_addDigg: function(){this.links[this.links.length]="<scr"+"ipt type=\"text/javascript\">digg_url='"+this.url+"';digg_title='"+this._escapeSingleQuotes(this.title)+"';digg_bodytext='"+this._escapeSingleQuotes(this.description)+"';digg_skin='icon';digg_media='news';digg_topic='television';</scr"+"ipt><scr"+"ipt src=\"http://digg.com/tools/diggthis.js\" type=\"text/javascript\"></scr"+"ipt>";},_addDelicious: function(){this.links[this.links.length]="<a href=\"http://delicious.com/post\" onclick=\"window.open('http://delicious.com/post?v=5&noui&jump=close&url="+encodeURIComponent(this.url)+"&title="+encodeURIComponent(this._escapeSingleQuotes(this.title))+",'delicious','toolbar=no,width=550,height=550');return false;\" target=\"_blank\"><img src=\"http://images.del.icio.us/static/img/delicious.small.gif\" alt=\"del.icio.us\" border=\"0\" /></a>";},_addStumbleUpon: function(){this.links[this.links.length]='<a href="http://www.stumbleupon.com/submit?url='+encodeURIComponent(this.url)+'&title='+encodeURIComponent(this.title)+'" target=\"_blank\"><img src="http://www.stumbleupon.com/images/16x16_su_3d.gif" border="0" alt=""></a>';},_escapeSingleQuotes: function(str){return str.split("'").join("\\'");}};
if(typeof Array.prototype.slice==='undefined'){Array.prototype.slice=function(a,c){var i,l=this.length,r=[];if(!c){c=l;}if(c<0){c=l+c;}if(a<0){a=l-a;}if(c<a){i=a;a=c;c=i;}for(i=0;i < c-a;i++){r[i]=this[a+i];}return r;};}if(typeof Array.prototype.concat==='undefined'){Array.prototype.concat=function(a){for(var i=0,b=this.copy();i<a.length;i++){b[b.length]=a[i];}return b;};}function ParamCallBack(funcPtr,firstArg){var Args=arguments;return function(){var SliceArray=Array.prototype.slice.call(arguments);funcPtr.apply(null,SliceArray.concat(Array.prototype.slice.call(Args,1)));};}function disableAnchor(obj,disable){if(disable){var href=obj.getAttribute("href");if(href&&href!==""&&href!==null){obj.setAttribute('href_bak',href);}obj.removeAttribute('href');obj.style.color="gray";}else{obj.setAttribute('href',obj.attributes['href_bak'].nodeValue);obj.style.color="blue";}}function RetweetModule(){window.RetweetJS={prefix: " by @tvguide",link_text: "<img src=\"/images/global/socialbookmark_twitter.gif\" alt=\"Tweet This!\" border=\"0\" />",bitservice : "/handler/bitlyhandler.ashx?longurl="};this._windowNumber=1;this.GetXmlHttpObject1=function(){var xmlHttp=null;try{xmlHttp=new XMLHttpRequest();}catch(e){try{xmlHttp=new ActiveXObject("Msxml2.XMLHTTP");}catch(e){xmlHttp=new ActiveXObject("Microsoft.XMLHTTP");}}return xmlHttp;};this.AddEventToElem=function(elem,eventName,func){if(window.attachEvent){elem.attachEvent(eventName,func);}else{elem.setAttribute(eventName,func);}};this.popwin=function(url,name){var IE6=false;if(IE6){name+=(_windowNumber++).toString();}var tweetwindow=window.open(url,name);};this.clickhandler=function(){var indexStart=0;if(arguments[indexStart].toString().indexOf("http:")==-1)indexStart++;var longurl=arguments[indexStart];var mesg=arguments[indexStart+1];var elem=arguments[indexStart+2];var that=arguments[indexStart+3];var xmlHttp=that.GetXmlHttpObject1();if(xmlHttp){xmlHttp.open("GET",window.RetweetJS.bitservice+encodeURIComponent(longurl),false);xmlHttp.send(null);var url=xmlHttp.responseText;var sUrl="http://twitter.com/home?status="+encodeURIComponent(mesg+" "+url+" "+window.RetweetJS.prefix);that.disableAnchor(elem,false);elem.onclick="return true";elem.href=sUrl;return true;}return false;};this.init=function(){var i,elems=[],urlElem={},hashURL={};if(document.getElementsByClassName){elems=document.getElementsByClassName("retweet");}else{var tmp=document.getElementsByTagName("a");for(i=0;i < tmp.length;i++){if(/(^|\s)retweet(\s|$)/.test(tmp[i].className)){elems.push(tmp[i]);}}}for(i=0;i < elems.length;i++){var elem=elems[i];var origText=elem.title||elem.textContent||elem.innerText;if(origText){if(elem.href.indexOf("bit.ly")!=-1){var sUrl="http://twitter.com/home?status="+encodeURIComponent(origText+" "+elem.href.toString()+" "+window.RetweetJS.prefix);elem.href=sUrl;elem.onclick="return true;";}else{var regex=/(^|\s)self(\s|$)/;if(regex.test(elem.className)){elem.href=window.location;elem.title=document.title;}var href=elem.href;if(elem.ohref){href=elem.ohref;}origText=origText.substr(0,82);elem.innerHTML="<span>"+window.RetweetJS.link_text+"</span>";elem.title="";AddEventToElem(elem,"onclick",ParamCallBack(this.clickhandler,href,origText,elem,this));elem.onclick=ParamCallBack(this.clickhandler,href,origText,elem,this);elem.style.cursor="pointer";this.disableAnchor(elem,true);}}}};this.init();return this;}$(document).ready(function(){window.RetweetModule=RetweetModule();});
(function($){$.facebox=function(data,klass){$.facebox.loading();if(data.ajax)fillFaceboxFromAjax(data.ajax);else if(data.image)fillFaceboxFromImage(data.image);else if(data.div)fillFaceboxFromHref(data.div);else if($.isFunction(data))data.call($);else $.facebox.reveal(data,klass);};$.extend($.facebox,{settings:{opacity : 0,overlay : true,loadingImage : '/facebox/loading.gif',closeImage : '/facebox/closelabel.gif',imageTypes : [ 'png','jpg','jpeg','gif' ],faceboxHtml : ' <div id="facebox" style="display:none;"> <div class="popup"> <table> <tbody> <tr> <td class="tl"/><td class="b"/><td class="tr"/> </tr> <tr> <td class="b"/> <td class="body"> <div class="content"> </div> <div class="footer"> <a href="#" class="close"> <img src="/facebox/closelabel.gif" title="close" class="close_image" /> </a> </div> </td> <td class="b"/> </tr> <tr> <td class="bl"/><td class="b"/><td class="br"/> </tr> </tbody> </table> </div> </div>'},loading: function(){init();if($('#facebox .loading').length==1)return true;showOverlay();$('#facebox .content').empty();$('#facebox .body').children().hide().end(). append('<div class="loading"><img src="'+$.facebox.settings.loadingImage+'"/></div>');$('#facebox').css({top: getPageScroll()[1]+(getPageHeight()/ 10),left:($(window).width()-$('#facebox').width())/ 2}).show();$(document).bind('keydown.facebox',function(e){if(e.keyCode==27)$.facebox.close();return true;});$(document).trigger('loading.facebox');return true;},reveal: function(data,klass){$(document).trigger('beforeReveal.facebox');if(klass)$('#facebox .content').addClass(klass);$('#facebox .content').append(data);$('#facebox .loading').remove();$('#facebox .body').children().fadeIn('normal');$('#facebox').css('left',$(window).width()/ 2-($('#facebox table').width()/ 2));$(document).trigger('reveal.facebox').trigger('afterReveal.facebox');},close: function(){$(document).trigger('close.facebox');return false;}});$.fn.facebox=function(settings){init(settings);function clickHandler(){$.facebox.loading(true);var klass=this.rel.match(/facebox\[?\.(\w+)\]?/);if(klass)klass=klass[1];fillFaceboxFromHref(this.href,klass);return false;}return this.click(clickHandler);};function init(settings){if($.facebox.settings.inited)return true;else $.facebox.settings.inited=true;$(document).trigger('init.facebox');makeCompatible();var imageTypes=$.facebox.settings.imageTypes.join('|');$.facebox.settings.imageTypesRegexp=new RegExp('\.'+imageTypes+'$','i');if(settings)$.extend($.facebox.settings,settings);$('body').append($.facebox.settings.faceboxHtml);var preload=[ new Image(),new Image()];preload[0].src=$.facebox.settings.closeImage;preload[1].src=$.facebox.settings.loadingImage;$('#facebox').find('.b:first,.bl,.br,.tl,.tr').each(function(){preload.push(new Image());preload.slice(-1).src=$(this).css('background-image').replace(/url\((.+)\)/,'$1');});$('#facebox .close').click($.facebox.close);$('#facebox .close_image').attr('src',$.facebox.settings.closeImage);return true;}function getPageScroll(){var xScroll,yScroll;if(self.pageYOffset){yScroll=self.pageYOffset;xScroll=self.pageXOffset;}else if(document.documentElement&&document.documentElement.scrollTop){yScroll=document.documentElement.scrollTop;xScroll=document.documentElement.scrollLeft;}else if(document.body){yScroll=document.body.scrollTop;xScroll=document.body.scrollLeft;}return new Array(xScroll,yScroll);}function getPageHeight(){var windowHeight;if(self.innerHeight){windowHeight=self.innerHeight;}else if(document.documentElement&&document.documentElement.clientHeight){windowHeight=document.documentElement.clientHeight;}else if(document.body){windowHeight=document.body.clientHeight;}return windowHeight;}function makeCompatible(){var $s=$.facebox.settings;$s.loadingImage=$s.loading_image||$s.loadingImage;$s.closeImage=$s.close_image||$s.closeImage;$s.imageTypes=$s.image_types||$s.imageTypes;$s.faceboxHtml=$s.facebox_html||$s.faceboxHtml;}function fillFaceboxFromHref(href,klass){if(href.match(/#/)){var url=window.location.href.split('#')[0];var target=href.replace(url,'');$.facebox.reveal($(target).clone().show(),klass);}else if(href.match($.facebox.settings.imageTypesRegexp)){fillFaceboxFromImage(href,klass);}else{fillFaceboxFromAjax(href,klass);}}function fillFaceboxFromImage(href,klass){var image=new Image();image.onload=function(){$.facebox.reveal('<div class="image"><img src="'+image.src+'" /></div>',klass);};image.src=href;}function fillFaceboxFromAjax(href,klass){$.get(href,function(data){$.facebox.reveal(data,klass);});}function skipOverlay(){return $.facebox.settings.overlay===false||$.facebox.settings.opacity===null;}function showOverlay(){if(skipOverlay())return false;if($('facebox_overlay').length===0)$("body").append('<div id="facebox_overlay" class="facebox_hide"></div>');$('#facebox_overlay').hide().addClass("facebox_overlayBG").css('opacity',$.facebox.settings.opacity).click(function(){$(document).trigger('close.facebox');}).fadeIn(200);return false;}function hideOverlay(){if(skipOverlay())return false;$('#facebox_overlay').fadeOut(200,function(){$("#facebox_overlay").removeClass("facebox_overlayBG");$("#facebox_overlay").addClass("facebox_hide");$("#facebox_overlay").remove();});return false;}$(document).bind('close.facebox',function(){$(document).unbind('keydown.facebox');$('#facebox').fadeOut(function(){$('#facebox .content').removeClass().addClass('content');hideOverlay();$('#facebox .loading').remove();});});})(jQuery);
$.extend({URLEncode:function(c){var o='';var x=0;c=c.toString();var r=/(^[a-zA-Z0-9_.]*)/;while(x<c.length){var m=r.exec(c.substr(x));if(m&&m.length>1&&m[1]!==''){o+=m[1];x+=m[1].length;}else{if(c[x]==' ')o+='+';else{var d=c.charCodeAt(x);var h=d.toString(16);o+='%'+(h.length<2?'0':'')+h.toUpperCase();}x++;}}return o;},URLDecode:function(s){var o=s;var binVal,t;var r=/(%[^%]{2})/;while((m=r.exec(o))&&m.length>1&&m[1]!==''){b=parseInt(m[1].substr(1),16);t=String.fromCharCode(b);o=o.replace(m[1],t);}return o;}});
var loc_pathG=document.location.pathname.toLowerCase();var s_account="tvgdevelopment";var tvg_doc_host=document.location.hostname.toLowerCase();if(tvg_doc_host=="qa.tvguide.com"||tvg_doc_host=="staging.tvguide.com"||tvg_doc_host=="sports-qa.tvguide.com"||tvg_doc_host=="movies-qa.tvguide.com"||tvg_doc_host=="video-qa.tvguide.com")s_account="tvgqa";var s=s_gi(s_account);try{if(navigator.appName.toLowerCase()!="netscape")setDocDomain();}catch(err){}function setDocDomain(){var domParts=document.domain.split('.');if(domParts.length > 1)document.domain=domParts[domParts.length-2]+'.'+domParts[domParts.length-1];}function om_FBC(tag){var pageOn="";if(tag=="0")pageOn="Connect with Facebook: Header";else if(tag=="2")pageOn="Connect with Facebook: My TV Guide";s.prop47=pageOn;om_collect("www");}function om_FBC_notify(page){s.prop47=page;om_collect("www");}function om_FBC_share(page){s.prop47="Social Buttons: "+page+":"+s.prop6+":"+cleanPageName(loc_pathG);om_collect("www");}function pdfPrintOmni(code){s.prop28="PDF Print:"+code;om_collect("www");}function omni_countSportsGuidePage(strSport,strLeague,strKeyword,strHdFilter,strEventFilter){var CurrentTime=null;var cTime=null;try{CurrentTime=iCurrentHour;}catch(e){}if((loc_pathG.indexOf("sports")>=0)||(tvg_doc_host.indexOf("sports")>=0)){if(CurrentTime!=null){if(CurrentTime > 12){cTime=CurrentTime-12+":00 PM";}else if(CurrentTime==12){cTime="Noon";}else if(CurrentTime==0){cTime="All Day";}else{cTime=CurrentTime+":00 AM";}}s.pageName="SportsGuide";s.prop6="SportsGuide";s.prop7="SportsGuide";s.prop8="SportsGuide";s.prop18="SportsGuide:Time Select: "+cTime;s.hier1="SportsGuide";s.prop38="SportsGuide: "+strSport+":"+strLeague;s.prop39="SportsGuide: "+strEventFilter;s.prop40="SportsGuide: HDTV: "+strHdFilter;om_collect("www");}}function countOmniGridAction(strAction,strValue){var strTracker=strAction;om_collect_action("www","grid2.0 action:"+strAction,strValue);}function countOmniFlyover(strTitle,strCat,strSubCat){if((tvg_doc_host.indexOf("sports")>=0)||(loc_pathG.indexOf("sports")>=0)){s.pageName="SportsGuide";s.prop6="SportsGuide";s.prop7="SportsGuide:closeup";s.hier1="SportsGuide,closeup";s.prop37="SportsGuide:closeup";}else if(loc_pathG.indexOf("ipad")>=0){s.pageName="ipad-grid-closeup";s.prop6="ipad";s.prop7="ipad:grid";s.prop8="ipad:grid:closeup";s.hier1="ipad,grid,closeup";s.prop37="ipad grid:"+strTitle;s.prop38="ipad grid:"+strCat;}else{s.pageName="listings2.0 closeup";s.prop6="listings2.0 grid";s.prop7="listings2.0 grid:closeup";s.prop8="listings2.0 grid:closeup";s.hier1="listings2.0 grid,closeup";s.prop37="listings2.0 grid:"+strTitle;s.prop38="listings2.0 grid:"+strCat;}om_collect("www");}var gridFirstTime=true;function countOmniGridViewEx(strViewType,strFilter,strProviderType,nChannels,nMinutes,iAjaxLoadTime,iAjaxRender,iAjaxBytes){if(loc_pathG=="/movies-tv"){return;}var prov=readCookie("Provider");if(prov!=null)s.prop21="Provider: "+prov;else s.prop21="Provider:none";if(loc_pathG=="/ipad/"||loc_pathG=="/ipad/default.aspx"){s.pageName="ipad-grid";s.prop6="ipad";s.prop7="ipad:grid";s.prop8="ipad:grid:main";s.hier1="ipad,grid,main";s.prop17="ipad grid Provider: "+strProviderType;}else{s.pageName="listings2.0 grid";s.prop6="listings2.0 grid";s.prop7="listings2.0 grid:main";if(gridFirstTime){s.prop8="listings2.0 grid:main:landing";s.hier1="listings2.0 grid,main,landing";}else{s.prop8="listings2.0 grid:main:in-grid";s.hier1="listings2.0 grid,main,in-grid";}s.prop17="grid 2.0 Provider: "+strProviderType;gridFirstTime=false;}om_collect("www");}function countOmniGridPrefs(strPrefs){om_collect_link("www","grid2.0 prefernces:"+strPrefs);}function om_clear(){s.pageName="";s.prop1="";s.prop2="";s.prop3="";s.prop4="";s.prop5="";s.prop6="";s.eVar7="";s.prop8="";s.prop9="";s.prop10="";s.prop11="";s.prop12="";s.prop13="";s.prop14="";s.prop15="";s.prop16="";s.prop17="";s.prop18="";s.prop19="";s.prop20="";s.prop21="";s.prop22="";s.prop23="";s.prop24="";s.prop25="";s.prop26="";s.prop27="";s.prop28="";s.prop29="";s.prop30="";s.prop31="";s.prop32="";s.prop33="";s.prop34="";s.prop35="";s.prop36="";s.prop37="";s.prop38="";s.prop39="";s.prop40="";s.prop41="";s.prop42="";s.prop43="";s.prop44="";s.prop45="";s.prop46="";s.prop47="";s.prop48="";s.prop49="";s.prop50="";s.eVar1="";s.eVar2="";s.eVar3="";s.eVar4="";s.eVar5="";s.eVar6="";s.eVar7="";s.eVar8="";s.eVar9="";s.eVar10="";s.eVar11="";s.eVar12="";s.eVar13="";s.eVar14="";s.eVar15="";s.eVar16="";s.eVar17="";s.eVar18="";s.eVar19="";s.eVar20="";}function om_collect(site){var site_prefix="";var loc_path=document.location.pathname;if(site&&site!="www")site_prefix=site+":";setSiteProps(site);setLoginStatusProp();if(!s.pageName){if(site=="ovg"&&loc_path.substr(1,6)=="search")s.pageName=site_prefix+"search";else s.pageName=site_prefix+cleanPageName(loc_path);}var s_code=s.t();if(s_code)document.write(s_code);}function cleanPageName(mypathname){var cleanedPath=mypathname.toLowerCase();cleanedPath=cleanedPath.replace(/%2d/g,"-");if(cleanedPath.length <=1||cleanedPath=="/default.aspx")cleanedPath="homepage";else{cleanedPath=cleanedPath.replace(/\//g,":");cleanedPath=cleanedPath.substr(1);if(/:$/.test(cleanedPath))cleanedPath=cleanedPath.replace(/:$/,":default");}cleanedPath=cleanedPath.replace("default.aspx","default");cleanedPath=cleanedPath.replace(".aspx","");var qstring=window.location.search.substring(1);if(qstring=="omniture"){var myhostname=document.location.hostname.toLowerCase();var pageNameDemo;if(myhostname!="")pageNameDemo=("URL : "+document.URL+'<br>'+"hostname: "+myhostname+'<br>'+"page name: "+cleanedPath);document.write("<div id='omniture' style='color:white;text-align:left;padding:5px;z-index:111;position:absolute;border:1px grey solid;background:green;width:auto;'>"+pageNameDemo+"</div>");}return cleanedPath;}function DVRLink(linkName){s.prop23="OVG DVR: "+linkName;om_collect("ovg");}function om_collect_ovg_new(){if(typeof omniture_search_term!="undefined"){if(omniture_search_term)s.prop2=omniture_search_term.toLowerCase();}if(typeof ovg_play!="undefined"){if(ovg_play=="true")s.prop22="detail page-video played";else s.prop22="detail page-no video played";s.prop23=ovg_title;s.prop24=ovg_genre;s.prop25=ovg_network;s.prop26=ovg_price;s.prop27=ovg_video_id;s.pageName="ovg:video_detail";}s.prop45="UniqueVisitors";om_collect("ovg");}function ovgDvr_addShow(showName){s.prop23="OVGDVR: Add Shows: "+showName;om_collect("ovg");}function ovgDvr_options(optionName){s.prop26="OVGDVR: Show Options: "+optionName;om_collect("ovg");}function ovgDvr_Container(optionName){s.prop26="OVGDVR: "+s.prop6+" : Container: "+optionName;om_collect("ovg");}function SynConRef(partnerID,profileID,url){s.prop31="Containers-Partner Referrals:"+partnerID;s.prop32="Containers-Profile Referrals:"+profileID;om_collect("igoogle");}function om_ad_igoogle(){s.prop46="iGoogle Promo Ad";om_collect("www");}function om_collect_igoogle(view,tab){s.pageName="igoogle:"+tab+":"+view;s.prop29=view;s.prop30=tab;om_collect("igoogle");}function om_collect_containers(partner,relationship,feedAndViewType,feedName,tvobject){if(feedAndViewType=="nodescr")s.pageName="containers:"+feedName;else s.pageName="containers:"+feedAndViewType;if(tvobject&&tvobject!="-1")s.pageName+=":"+tvobject;s.prop31=partner;s.prop32=partner+":"+relationship;if(feedAndViewType=="nodescr")s.prop33=partner+":"+relationship;else s.prop33=partner+":"+relationship;s.prop34=partner+":"+relationship+":"+feedName;s.prop35=tvobject;om_collect("containers");}function countL2GoGridView(partner,profile,provider,strProviderType){s.referrer="";s.prop9=partner;s.prop10=partner+":"+profile;s.prop17="listings2go Provider: "+strProviderType;s.eVar18=partner;if(provider)s.prop21="L2GO Provider: "+provider;else{provider=readCookie("Provider");if(prov!=null)s.prop21="L2GO Provider: "+provider;else s.prop21="L2GO Provider:none";}om_collect("l2go");}function countL2GoCloseup(partnerid,partner,profile,strTitle){s.referrer="";s.prop9=partner;s.prop10=partner+":"+profile;s.prop37="L2GO:"+strTitle;s.eVar18=partner;eVar21=partner;event15=profile;if(!s.prop36){s.prop36=partnerid;var t_pref=s.getValOnce(s.prop36,'ev21',0);if(t_pref){s.events=s.apl(s.events,"event15",",",2);}}om_collect("l2go");}function om_collect_l2go(partner,profile,serviceID){s.referrer="";s.prop9=partner;s.prop10=partner+":"+profile;s.eVar18=partner;if(document.location.pathname=='/PartnerGrid/Grids/closerlook.aspx'){eVar21=partner;event15=profile;if(!s.prop36){s.prop36=s.getQueryParam('PartnerID');var t_pref=s.getValOnce(s.prop36,'ev21',0);if(t_pref){s.events=s.apl(s.events,"event15",",",2);}}}om_collect("l2go");}function om_collect_l2go_pageview(partner,profile,serviceID,url){om_collect_pageview("l2go",url);}function om_collect_pageview(site,url,leave_props){var site_prefix="";if(!leave_props){om_clear();}if(site&&site!="www")site_prefix=site+":";setSiteProps(site);setLoginStatusProp();url=cleanPageName(url);s.pageName=site_prefix+url;void(s.t());}function om_collect_link(site,linkname){var site_prefix="";om_clear();s.linkTrackVars="prop1,eVar1,events";s.linkTrackEvents="event1";if(site&&site!="www")site_prefix=site+":";setSiteProps(site);s.tl(this,'o',site_prefix+linkname);}function om_collect_nav(navname){s.tl(this,'o','menu'+navname+'-'+s.prop6);}function om_collect_action(site,linkname,value){var site_prefix="";om_clear();s.linkTrackVars="prop40,eVar1,events";s.linkTrackEvents="event1";s.prop40=linkname+":"+value;if(site&&site!="www")site_prefix=site+":";setSiteProps(site);s.tl(this,'o',site_prefix+linkname);}function om_collect_flyoverValue(site,showTitle,Cat){var site_prefix="";om_clear("om_collect_flyoverValue");s.linkTrackVars="prop37,prop38,prop39,eVar1,events";s.linkTrackEvents="event1";s.prop37="listings_other:"+showTitle;s.prop38=Cat;if(site&&site!="www")site_prefix=site+":";setSiteProps(site);s.tl(this,'o',site_prefix+"flyover:_other");}function setLoginStatusProp(){if(typeof isLoggedInX=="undefined")s.prop14="na";else s.prop14=isLoggedInX.toString();}function setSiteProps(site){switch(site){case "ovg": s.prop6="ovg";s.prop7="ovg";s.prop8="ovg";break;case "l2go": s.prop6="syndication";s.prop7="syndication:listings2go";s.prop8="syndication:listings2go";break;case "igoogle": s.prop6="igoogle";s.prop7="igoogle";s.prop8="igoogle";break;case "containers": s.prop6="syndication";s.prop7="syndication:containers";s.prop8="syndication:containers";break;}}/**************************CONFIG SECTION**************************/ /*You may add or alter any code config here.*/ /*Conversion Config*/ s.currencyCode="USD";/*Link Tracking Config*/ s.trackDownloadLinks=true;s.trackExternalLinks=true;s.trackInlineStats=true;s.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx";s.linkInternalFilters="javascript:,tvguide.com";s.linkLeaveQueryString=false;s.linkTrackVars="None";s.linkTrackEvents="None";/*Plugin Config*/ s.usePlugins=true;function s_doPlugins(s){/*Add calls to plugins here*/ if(typeof s.prop50=="undefined"){s.prop50="tvguide.com";if(tvg_doc_host=="listings2go.tvguide.com"||tvg_doc_host=="widgets.tvguide.com"||tvg_doc_host.indexOf('ig.gmodules.com')>-1||tvg_doc_host=="widgetsqa.tvguide.com"||tvg_doc_host.indexOf('googleusercontent.com')>-1)s.prop50="syndication";}s.eVar50=s.prop50;/*Plugin Example: getValOnce v0.2*/ s.campaign=s.getValOnce(s.campaign,"s_campaign",0);/*Internal Search Function*/ if(s.prop1){s.eVar1=s.prop1;var t_search=s.getValOnce(s.eVar1,'ev1',0);if(t_search)s.events=s.apl(s.events,"event1",",",2);}/*Set Page View Event*/ s.events=s.apl(s.events,'event2',',',2);/*Set Time Parting Variables*/ s.eVar11=s.prop11=s.getTimeParting('h','-5');s.eVar12=s.prop12=s.getTimeParting('d','-5');s.eVar13=s.prop13=s.getTimeParting('w','-5');s.eVar2=s.pageName;s.eVar17=s.prop2;s.eVar3=s.prop3;s.eVar4=s.prop4;s.eVar5=s.prop5;s.eVar6=s.prop6;s.eVar7=s.prop7;s.eVar8=s.prop8;s.eVar9=s.prop9;s.eVar10=s.prop10;s.eVar14=s.prop14;var kr=document.referrer,kk=s.getQueryParam("q","",kr),ks=s.getQueryParam("esrc","",kr);if(kr.indexOf("www.google.com")&&!kk&&ks=="s"){var ksr=kr.split("q="),kq="q=Google%20Secure%20Search";s.referrer=ksr[0]+kq+ksr[1]};}/*To understand which page is getting what value s.prop62=s.getPreviousValue(s.prop53,"s_pv");s.prop63=s.getPreviousValue(s.prop55,"s_pv");if(s.prop62){s.prop61=s.getPercentPageViewed();}*/ /*To send the hit on an exit link var url=s.exitLinkHandler();if(url){s.prop62=s.getPreviousValue(s.prop53,"s_pv");if(s.prop62){s.linkTrackVars='prop62,prop63';s.prop61=s.getPercentPageViewed();}}*/ s.doPlugins=s_doPlugins;/**************************PLUGINS SECTION*************************/ /*You may insert any plugins you wish to use here.*/ /**Plugin: getQueryParam 2.3*/ s.getQueryParam=new Function("p","d","u",""+"var s=this,v='',i,t;d=d?d:'';u=u?u:(s.pageURL?s.pageURL:s.wd.locati"+"on);if(u=='f')u=s.gtfs().location;while(p){i=p.indexOf(',');i=i<0?p"+".length:i;t=s.p_gpv(p.substring(0,i),u+'');if(t){t=t.indexOf('#')>-"+"1?t.substring(0,t.indexOf('#')):t;}if(t)v+=v?d+t:t;p=p.substring(i="+"=p.length?i:i+1)}return v");s.p_gpv=new Function("k","u",""+"var s=this,v='',i=u.indexOf('?'),q;if(k&&i>-1){q=u.substring(i+1);v"+"=s.pt(q,'&','p_gvf',k)}return v");s.p_gvf=new Function("t","k",""+"if(t){var s=this,i=t.indexOf('='),p=i<0?t:t.substring(0,i),v=i<0?'T"+"rue':t.substring(i+1);if(p.toLowerCase()==k.toLowerCase())return s."+"epa(v)}return ''");/**Utility Function: split v1.5-split a string(JS 1.0 compatible)*/ s.split=new Function("l","d",""+"var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x"+"++]=l.substring(0,i);l=l.substring(i+d.length);}return a");/**Plugin Utility: apl v1.1*/ s.apl=new Function("L","v","d","u",""+"var s=this,m=0;if(!L)L='';if(u){var i,n,a=s.split(L,d);for(i=0;i<a."+"length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCas"+"e()));}}if(!m)L=L?L+d+v:v;return L");/*Plugin: getValOnce 0.2-get a value once per session or number of days*/ s.getValOnce=new Function("v","c","e",""+"var s=this,k=s.c_r(c),a=new Date;e=e?e:0;if(v){a.setTime(a.getTime("+")+e*86400000);s.c_w(c,v,e?a:0);}return v==k?'':v");/**Plugin: getTimeParting 2.0*/ s.getTimeParting=new Function("t","z","y","l",""+"var s=this,d,A,U,X,Z,W,B,C,D,Y;d=new Date();A=d.getFullYear();Y=U=S"+"tring(A);if(s.dstStart&&s.dstEnd){B=s.dstStart;C=s.dstEnd}else{;U=U"+".substring(2,4);X='090801|101407|111306|121104|131003|140902|150801"+"|161306|171205|181104|191003';X=s.split(X,'|');for(W=0;W<=10;W++){Z"+"=X[W].substring(0,2);if(U==Z){B=X[W].substring(2,4);C=X[W].substrin"+"g(4,6)}}if(!B||!C){B='08';C='01'}B='03/'+B+'/'+A;C='11/'+C+'/'+A;}D"+"=new Date('1/1/2000');if(D.getDay()!=6||D.getMonth()!=0){return'Dat"+"a Not Available'}else{z=z?z:'0';z=parseFloat(z);B=new Date(B);C=new"+" Date(C);W=new Date();if(W>B&&W<C&&l!='0'){z=z+1}W=W.getTime()+(W.g"+"etTimezoneOffset()*60000);W=new Date(W+(3600000*z));X=['Sunday','Mo"+"nday','Tuesday','Wednesday','Thursday','Friday','Saturday'];B=W.get"+"Hours();C=W.getMinutes();D=W.getDay();Z=X[D];U='AM';A='Weekday';X='"+"00';if(C>30){X='30'}if(B>=12){U='PM';B=B-12};if(B==0){B=12};if(D==6"+"||D==0){A='Weekend'}W=B+':'+X+U;if(y&&y!=Y){return'Data Not Availab"+"le'}else{if(t){if(t=='h'){return W}if(t=='d'){return Z}if(t=='w'){r"+"eturn A}}else{return Z+','+W}}}");/**Plugin: getPercentPageViewed v1.2*/ s.getPercentPageViewed=new Function("",""+"var s=this;if(typeof(s.linkType)=='undefined'||s.linkType=='e'){var"+" v=s.c_r('s_ppv');s.c_w('s_ppv',0);return v;}");s.getPPVCalc=new Function("",""+"var s=s_c_il["+s._in+"],dh=Math.max(Math.max(s.d.body.scrollHeight,"+"s.d.documentElement.scrollHeight),Math.max(s.d.body.offsetHeight,s."+"d.documentElement.offsetHeight),Math.max(s.d.body.clientHeight,s.d."+"documentElement.clientHeight)),vph=s.wd.innerHeight||(s.d.documentE"+"lement.clientHeight||s.d.body.clientHeight),st=s.wd.pageYOffset||(s"+".wd.document.documentElement.scrollTop||s.wd.document.body.scrollTo"+"p),vh=st+vph,pv=Math.round(vh/dh*100),cp=s.c_r('s_ppv');if(pv>100){"+"s.c_w('s_ppv','');}else if(pv>cp){s.c_w('s_ppv',pv);}");s.getPPVSetup=new Function("",""+"var s=this;if(s.wd.addEventListener){s.wd.addEventListener('load',s"+".getPPVCalc,false);s.wd.addEventListener('scroll',s.getPPVCalc,fals"+"e);s.wd.addEventListener('resize',s.getPPVCalc,false);}else if(s.wd"+".attachEvent){s.wd.attachEvent('onload',s.getPPVCalc);s.wd.attachEv"+"ent('onscroll',s.getPPVCalc);s.wd.attachEvent('onresize',s.getPPVCa"+"lc);}");s.getPPVSetup();/**Plugin: getPreviousValue v1.0-return previous value of designated*variable(requires split utility)*/ /*s.getPreviousValue=new Function("v","c","el",""+"var s=this,t=new Date,i,j,r='';t.setTime(t.getTime()+1800000);if(el"+"){if(s.events){i=s.split(el,',');j=s.split(s.events,',');for(x in i"+"){for(y in j){if(i[x]==j[y]){if(s.c_r(c))r=s.c_r(c);v?s.c_w(c,v,t)"+":s.c_w(c,'no value',t);return r}}}}}else{if(s.c_r(c))r=s.c_r(c);v?"+"s.c_w(c,v,t):s.c_w(c,'no value',t);return r}");*/ /*WARNING: Changing any of the below variables will cause drastic changes to how your visitor data is collected. Changes should only be made when instructed to do so by your account manager.*/ s.visitorNamespace="tvguide";s.trackingServer="metrics.tvguide.com";s.dc=112;/*************DO NOT ALTER ANYTHING BELOW THIS LINE !**************/ var s_code='',s_objectID;function s_gi(un,pg,ss){var c="s.version='H.23.6';s.an=s_an;s.logDebug=function(m){var s=this,tcf=new Function('var e;try{console.log(\"'+s.rep(s.rep(m,\"\\n\",\"\\\\n\"),\""+"\\\"\",\"\\\\\\\"\")+'\");}catch(e){}');tcf()};s.cls=function(x,c){var i,y='';if(!c)c=this.an;for(i=0;i<x.length;i++){n=x.substring(i,i+1);if(c.indexOf(n)>=0)y+=n}return y};s.fl=function(x,l){retur"+"n x?(''+x).substring(0,l):x};s.co=function(o){if(!o)return o;var n=new Object,x;for(x in o)if(x.indexOf('select')<0&&x.indexOf('filter')<0)n[x]=o[x];return n};s.num=function(x){x=''+x;for(var p=0;p"+"<x.length;p++)if(('0123456789').indexOf(x.substring(p,p+1))<0)return 0;return 1};s.rep=s_rep;s.sp=s_sp;s.jn=s_jn;s.ape=function(x){var s=this,h='0123456789ABCDEF',i,c=s.charSet,n,l,e,y='';c=c?c.toU"+"pperCase():'';if(x){x=''+x;if(s.em==3)x=encodeURIComponent(x);else if(c=='AUTO'&&('').charCodeAt){for(i=0;i<x.length;i++){c=x.substring(i,i+1);n=x.charCodeAt(i);if(n>127){l=0;e='';while(n||l<4){e=h"+".substring(n%16,n%16+1)+e;n=(n-n%16)/16;l++}y+='%u'+e}else if(c=='+')y+='%2B';else y+=escape(c)}x=y}else x=escape(''+x);x=s.rep(x,'+','%2B');if(c&&c!='AUTO'&&s.em==1&&x.indexOf('%u')<0&&x.indexOf('"+"%U')<0){i=x.indexOf('%');while(i>=0){i++;if(h.substring(8).indexOf(x.substring(i,i+1).toUpperCase())>=0)return x.substring(0,i)+'u00'+x.substring(i);i=x.indexOf('%',i)}}}return x};s.epa=function(x)"+"{var s=this;if(x){x=s.rep(''+x,'+',' ');return s.em==3?decodeURIComponent(x):unescape(x)}return x};s.pt=function(x,d,f,a){var s=this,t=x,z=0,y,r;while(t){y=t.indexOf(d);y=y<0?t.length:y;t=t.substri"+"ng(0,y);r=s[f](t,a);if(r)return r;z+=y+d.length;t=x.substring(z,x.length);t=z<x.length?t:''}return ''};s.isf=function(t,a){var c=a.indexOf(':');if(c>=0)a=a.substring(0,c);c=a.indexOf('=');if(c>=0)a"+"=a.substring(0,c);if(t.substring(0,2)=='s_')t=t.substring(2);return(t!=''&&t==a)};s.fsf=function(t,a){var s=this;if(s.pt(a,',','isf',t))s.fsg+=(s.fsg!=''?',':'')+t;return 0};s.fs=function(x,f){var"+" s=this;s.fsg='';s.pt(x,',','fsf',f);return s.fsg};s.si=function(){var s=this,i,k,v,c=s_gi+'var s=s_gi(\"'+s.oun+'\");s.sa(\"'+s.un+'\");';for(i=0;i<s.va_g.length;i++){k=s.va_g[i];v=s[k];if(v!=unde"+"fined){if(typeof(v)!='number')c+='s.'+k+'=\"'+s_fe(v)+'\";';else c+='s.'+k+'='+v+';'}}c+=\"s.lnk=s.eo=s.linkName=s.linkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';\";return c};s.c_d='';"+"s.c_gdf=function(t,a){var s=this;if(!s.num(t))return 1;return 0};s.c_gd=function(){var s=this,d=s.wd.location.hostname,n=s.fpCookieDomainPeriods,p;if(!n)n=s.cookieDomainPeriods;if(d&&!s.c_d){n=n?pa"+"rseInt(n):2;n=n>2?n:2;p=d.lastIndexOf('.');if(p>=0){while(p>=0&&n>1){p=d.lastIndexOf('.',p-1);n--}s.c_d=p>0&&s.pt(d,'.','c_gdf',0)?d.substring(p):d}}return s.c_d};s.c_r=function(k){var s=this;k=s.a"+"pe(k);var c=' '+s.d.cookie,i=c.indexOf(' '+k+'='),e=i<0?i:c.indexOf(';',i),v=i<0?'':s.epa(c.substring(i+2+k.length,e<0?c.length:e));return v!='[[B]]'?v:''};s.c_w=function(k,v,e){var s=this,d=s.c_gd"+"(),l=s.cookieLifetime,t;v=''+v;l=l?(''+l).toUpperCase():'';if(e&&l!='SESSION'&&l!='NONE'){t=(v!=''?parseInt(l?l:0):-60);if(t){e=new Date;e.setTime(e.getTime()+(t*1000))}}if(k&&l!='NONE'){s.d.cookie"+"=k+'='+s.ape(v!=''?v:'[[B]]')+';path=/;'+(e&&l!='SESSION'?' expires='+e.toGMTString()+';':'')+(d?' domain='+d+';':'');return s.c_r(k)==v}return 0};s.eh=function(o,e,r,f){var s=this,b='s_'+e+'_'+s."+"_in,n=-1,l,i,x;if(!s.ehl)s.ehl=new Array;l=s.ehl;for(i=0;i<l.length&&n<0;i++){if(l[i].o==o&&l[i].e==e)n=i}if(n<0){n=i;l[n]=new Object}x=l[n];x.o=o;x.e=e;f=r?x.b:f;if(r||f){x.b=r?0:o[e];x.o[e]=f}if("+"x.b){x.o[b]=x.b;return b}return 0};s.cet=function(f,a,t,o,b){var s=this,r,tcf;if(s.apv>=5&&(!s.isopera||s.apv>=7)){tcf=new Function('s','f','a','t','var e,r;try{r=s[f](a)}catch(e){r=s[t](e)}return "+"r');r=tcf(s,f,a,t)}else{if(s.ismac&&s.u.indexOf('MSIE 4')>=0)r=s[b](a);else{s.eh(s.wd,'onerror',0,o);r=s[f](a);s.eh(s.wd,'onerror',1)}}return r};s.gtfset=function(e){var s=this;return s.tfs};s.gtfs"+"oe=new Function('e','var s=s_c_il['+s._in+'],c;s.eh(window,\"onerror\",1);s.etfs=1;c=s.t();if(c)s.d.write(c);s.etfs=0;return true');s.gtfsfb=function(a){return window};s.gtfsf=function(w){var s=thi"+"s,p=w.parent,l=w.location;s.tfs=w;if(p&&p.location!=l&&p.location.host==l.host){s.tfs=p;return s.gtfsf(s.tfs)}return s.tfs};s.gtfs=function(){var s=this;if(!s.tfs){s.tfs=s.wd;if(!s.etfs)s.tfs=s.cet"+"('gtfsf',s.tfs,'gtfset',s.gtfsoe,'gtfsfb')}return s.tfs};s.mrq=function(u){var s=this,l=s.rl[u],n,r;s.rl[u]=0;if(l)for(n=0;n<l.length;n++){r=l[n];s.mr(0,0,r.r,r.t,r.u)}};s.flushBufferedRequests=fun"+"ction(){};s.mr=function(sess,q,rs,ta,u){var s=this,dc=s.dc,t1=s.trackingServer,t2=s.trackingServerSecure,tb=s.trackingServerBase,p='.sc',ns=s.visitorNamespace,un=s.cls(u?u:(ns?ns:s.fun)),r=new Obje"+"ct,l,imn='s_i_'+(un),im,b,e;if(!rs){if(t1){if(t2&&s.ssl)t1=t2}else{if(!tb)tb='2o7.net';if(dc)dc=(''+dc).toLowerCase();else dc='d1';if(tb=='2o7.net'){if(dc=='d1')dc='112';else if(dc=='d2')dc='122';p"+"=''}t1=un+'.'+dc+'.'+p+tb}rs='http'+(s.ssl?'s':'')+'://'+t1+'/b/ss/'+s.un+'/'+(s.mobile?'5.1':'1')+'/'+s.version+(s.tcn?'T':'')+'/'+sess+'?AQB=1&ndh=1'+(q?q:'')+'&AQE=1';if(s.isie&&!s.ismac)rs=s.fl"+"(rs,2047)}if(s.d.images&&s.apv>=3&&(!s.isopera||s.apv>=7)&&(s.ns6<0||s.apv>=6.1)){if(!s.rc)s.rc=new Object;if(!s.rc[un]){s.rc[un]=1;if(!s.rl)s.rl=new Object;s.rl[un]=new Array;setTimeout('if(window"+".s_c_il)window.s_c_il['+s._in+'].mrq(\"'+un+'\")',750)}else{l=s.rl[un];if(l){r.t=ta;r.u=un;r.r=rs;l[l.length]=r;return ''}imn+='_'+s.rc[un];s.rc[un]++}im=s.wd[imn];if(!im)im=s.wd[imn]=new Image;im."+"s_l=0;im.onload=new Function('e','this.s_l=1;var wd=window,s;if(wd.s_c_il){s=wd.s_c_il['+s._in+'];s.mrq(\"'+un+'\");s.nrs--;if(!s.nrs)s.m_m(\"rr\")}');if(!s.nrs){s.nrs=1;s.m_m('rs')}else s.nrs++;if"+"(s.debugTracking){var d='AppMeasurement Debug: '+rs,dl=s.sp(rs,'&'),dln;for(dln=0;dln<dl.length;dln++)d+=\"\\n\\t\"+s.epa(dl[dln]);s.logDebug(d)}im.src=rs;if((!ta||ta=='_self'||ta=='_top'||(s.wd.na"+"me&&ta==s.wd.name))&&rs.indexOf('&pe=')>=0){b=e=new Date;while(!im.s_l&&e.getTime()-b.getTime()<500)e=new Date}return ''}return '<im'+'g sr'+'c=\"'+rs+'\" width=1 height=1 border=0 alt=\"\">'};s.gg"+"=function(v){var s=this;if(!s.wd['s_'+v])s.wd['s_'+v]='';return s.wd['s_'+v]};s.glf=function(t,a){if(t.substring(0,2)=='s_')t=t.substring(2);var s=this,v=s.gg(t);if(v)s[t]=v};s.gl=function(v){var s"+"=this;if(s.pg)s.pt(v,',','glf',0)};s.rf=function(x){var s=this,y,i,j,h,p,l=0,q,a,b='',c='',t;if(x&&x.length>255){y=''+x;i=y.indexOf('?');if(i>0){q=y.substring(i+1);y=y.substring(0,i);h=y.toLowerCas"+"e();j=0;if(h.substring(0,7)=='http://')j+=7;else if(h.substring(0,8)=='https://')j+=8;i=h.indexOf(\"/\",j);if(i>0){h=h.substring(j,i);p=y.substring(i);y=y.substring(0,i);if(h.indexOf('google')>=0)l"+"=',q,ie,start,search_key,word,kw,cd,';else if(h.indexOf('yahoo.co')>=0)l=',p,ei,';if(l&&q){a=s.sp(q,'&');if(a&&a.length>1){for(j=0;j<a.length;j++){t=a[j];i=t.indexOf('=');if(i>0&&l.indexOf(','+t.su"+"bstring(0,i)+',')>=0)b+=(b?'&':'')+t;else c+=(c?'&':'')+t}if(b&&c)q=b+'&'+c;else c=''}i=253-(q.length-c.length)-y.length;x=y+(i>0?p.substring(0,i):'')+'?'+q}}}}return x};s.s2q=function(k,v,vf,vfp,f"+"){var s=this,qs='',sk,sv,sp,ss,nke,nk,nf,nfl=0,nfn,nfm;if(k==\"contextData\")k=\"c\";if(v){for(sk in v){if((!f||sk.substring(0,f.length)==f)&&v[sk]&&(!vf||vf.indexOf(','+(vfp?vfp+'.':'')+sk+',')>="+"0)){nfm=0;if(nfl)for(nfn=0;nfn<nfl.length;nfn++)if(sk.substring(0,nfl[nfn].length)==nfl[nfn])nfm=1;if(!nfm){if(qs=='')qs+='&'+k+'.';sv=v[sk];if(f)sk=sk.substring(f.length);if(sk.length>0){nke=sk.in"+"dexOf('.');if(nke>0){nk=sk.substring(0,nke);nf=(f?f:'')+nk+'.';if(!nfl)nfl=new Array;nfl[nfl.length]=nf;qs+=s.s2q(nk,v,vf,vfp,nf)}else{if(typeof(sv)=='boolean'){if(sv)sv='true';else sv='false'}if(s"+"v){if(vfp=='retrieveLightData'&&f.indexOf('.contextData.')<0){sp=sk.substring(0,4);ss=sk.substring(4);if(sk=='transactionID')sk='xact';else if(sk=='channel')sk='ch';else if(sk=='campaign')sk='v0';e"+"lse if(s.num(ss)){if(sp=='prop')sk='c'+ss;else if(sp=='eVar')sk='v'+ss;else if(sp=='list')sk='l'+ss;else if(sp=='hier'){sk='h'+ss;sv=sv.substring(0,255)}}}qs+='&'+s.ape(sk)+'='+s.ape(sv)}}}}}}if(qs"+"!='')qs+='&.'+k}return qs};s.hav=function(){var s=this,qs='',l,fv='',fe='',mn,i,e;if(s.lightProfileID){l=s.va_m;fv=s.lightTrackVars;if(fv)fv=','+fv+','+s.vl_mr+','}else{l=s.va_t;if(s.pe||s.linkType"+"){fv=s.linkTrackVars;fe=s.linkTrackEvents;if(s.pe){mn=s.pe.substring(0,1).toUpperCase()+s.pe.substring(1);if(s[mn]){fv=s[mn].trackVars;fe=s[mn].trackEvents}}}if(fv)fv=','+fv+','+s.vl_l+','+s.vl_l2;"+"if(fe){fe=','+fe+',';if(fv)fv+=',events,'}if(s.events2)e=(e?',':'')+s.events2}for(i=0;i<l.length;i++){var k=l[i],v=s[k],b=k.substring(0,4),x=k.substring(4),n=parseInt(x),q=k;if(!v)if(k=='events'&&"+"e){v=e;e=''}if(v&&(!fv||fv.indexOf(k)>=0)&&k!='linkName'&&k!='linkType'){if(k=='timestamp')q='ts';else if(k=='dynamicVariablePrefix')q='D';else if(k=='visitorID')q='vid';else if(k=='pageURL'){q='g'"+";v=s.fl(v,255)}else if(k=='referrer'){q='r';v=s.fl(s.rf(v),255)}else if(k=='vmk'||k=='visitorMigrationKey')q='vmt';else if(k=='visitorMigrationServer'){q='vmf';if(s.ssl&&s.visitorMigrationServerSec"+"ure)v=''}else if(k=='visitorMigrationServerSecure'){q='vmf';if(!s.ssl&&s.visitorMigrationServer)v=''}else if(k=='charSet'){q='ce';if(v.toUpperCase()=='AUTO')v='ISO8859-1';else if(s.em==2||s.em==3)v"+"='UTF-8'}else if(k=='visitorNamespace')q='ns';else if(k=='cookieDomainPeriods')q='cdp';else if(k=='cookieLifetime')q='cl';else if(k=='variableProvider')q='vvp';else if(k=='currencyCode')q='cc';else"+" if(k=='channel')q='ch';else if(k=='transactionID')q='xact';else if(k=='campaign')q='v0';else if(k=='resolution')q='s';else if(k=='colorDepth')q='c';else if(k=='javascriptVersion')q='j';else if(k=="+"'javaEnabled')q='v';else if(k=='cookiesEnabled')q='k';else if(k=='browserWidth')q='bw';else if(k=='browserHeight')q='bh';else if(k=='connectionType')q='ct';else if(k=='homepage')q='hp';else if(k=='"+"plugins')q='p';else if(k=='events'){if(e)v+=(v?',':'')+e;if(fe)v=s.fs(v,fe)}else if(k=='events2')v='';else if(k=='contextData'){qs+=s.s2q('c',s[k],fv,k,0);v=''}else if(k=='lightProfileID')q='mtp';e"+"lse if(k=='lightStoreForSeconds'){q='mtss';if(!s.lightProfileID)v=''}else if(k=='lightIncrementBy'){q='mti';if(!s.lightProfileID)v=''}else if(k=='retrieveLightProfiles')q='mtsr';else if(k=='deleteL"+"ightProfiles')q='mtsd';else if(k=='retrieveLightData'){if(s.retrieveLightProfiles)qs+=s.s2q('mts',s[k],fv,k,0);v=''}else if(s.num(x)){if(b=='prop')q='c'+n;else if(b=='eVar')q='v'+n;else if(b=='list"+"')q='l'+n;else if(b=='hier'){q='h'+n;v=s.fl(v,255)}}if(v)qs+='&'+s.ape(q)+'='+(k.substring(0,3)!='pev'?s.ape(v):v)}}return qs};s.ltdf=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';var"+" qi=h.indexOf('?');h=qi>=0?h.substring(0,qi):h;if(t&&h.substring(h.length-(t.length+1))=='.'+t)return 1;return 0};s.ltef=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';if(t&&h.indexOf("+"t)>=0)return 1;return 0};s.lt=function(h){var s=this,lft=s.linkDownloadFileTypes,lef=s.linkExternalFilters,lif=s.linkInternalFilters;lif=lif?lif:s.wd.location.hostname;h=h.toLowerCase();if(s.trackD"+"ownloadLinks&&lft&&s.pt(lft,',','ltdf',h))return 'd';if(s.trackExternalLinks&&h.substring(0,1)!='#'&&(lef||lif)&&(!lef||s.pt(lef,',','ltef',h))&&(!lif||!s.pt(lif,',','ltef',h)))return 'e';return ''"+"};s.lc=new Function('e','var s=s_c_il['+s._in+'],b=s.eh(this,\"onclick\");s.lnk=s.co(this);s.t();s.lnk=0;if(b)return this[b](e);return true');s.bc=new Function('e','var s=s_c_il['+s._in+'],f,tcf;if"+"(s.d&&s.d.all&&s.d.all.cppXYctnr)return;s.eo=e.srcElement?e.srcElement:e.target;tcf=new Function(\"s\",\"var e;try{if(s.eo&&(s.eo.tagName||s.eo.parentElement||s.eo.parentNode))s.t()}catch(e){}\");t"+"cf(s);s.eo=0');s.oh=function(o){var s=this,l=s.wd.location,h=o.href?o.href:'',i,j,k,p;i=h.indexOf(':');j=h.indexOf('?');k=h.indexOf('/');if(h&&(i<0||(j>=0&&i>j)||(k>=0&&i>k))){p=o.protocol&&o.proto"+"col.length>1?o.protocol:(l.protocol?l.protocol:'');i=l.pathname.lastIndexOf('/');h=(p?p+'//':'')+(o.host?o.host:(l.host?l.host:''))+(h.substring(0,1)!='/'?l.pathname.substring(0,i<0?0:i)+'/':'')+h}"+"return h};s.ot=function(o){var t=o.tagName;if(o.tagUrn||(o.scopeName&&o.scopeName.toUpperCase()!='HTML'))return '';t=t&&t.toUpperCase?t.toUpperCase():'';if(t=='SHAPE')t='';if(t){if((t=='INPUT'||t=="+"'BUTTON')&&o.type&&o.type.toUpperCase)t=o.type.toUpperCase();else if(!t&&o.href)t='A';}return t};s.oid=function(o){var s=this,t=s.ot(o),p,c,n='',x=0;if(t&&!o.s_oid){p=o.protocol;c=o.onclick;if(o.hr"+"ef&&(t=='A'||t=='AREA')&&(!c||!p||p.toLowerCase().indexOf('javascript')<0))n=s.oh(o);else if(c){n=s.rep(s.rep(s.rep(s.rep(''+c,\"\\r\",''),\"\\n\",''),\"\\t\",''),' ','');x=2}else if(t=='INPUT'||t="+"='SUBMIT'){if(o.value)n=o.value;else if(o.innerText)n=o.innerText;else if(o.textContent)n=o.textContent;x=3}else if(o.src&&t=='IMAGE')n=o.src;if(n){o.s_oid=s.fl(n,100);o.s_oidt=x}}return o.s_oid};s"+".rqf=function(t,un){var s=this,e=t.indexOf('='),u=e>=0?t.substring(0,e):'',q=e>=0?s.epa(t.substring(e+1)):'';if(u&&q&&(','+u+',').indexOf(','+un+',')>=0){if(u!=s.un&&s.un.indexOf(',')>=0)q='&u='+u+"+"q+'&u=0';return q}return ''};s.rq=function(un){if(!un)un=this.un;var s=this,c=un.indexOf(','),v=s.c_r('s_sq'),q='';if(c<0)return s.pt(v,'&','rqf',un);return s.pt(un,',','rq',0)};s.sqp=function(t,a)"+"{var s=this,e=t.indexOf('='),q=e<0?'':s.epa(t.substring(e+1));s.sqq[q]='';if(e>=0)s.pt(t.substring(0,e),',','sqs',q);return 0};s.sqs=function(un,q){var s=this;s.squ[un]=q;return 0};s.sq=function(q)"+"{var s=this,k='s_sq',v=s.c_r(k),x,c=0;s.sqq=new Object;s.squ=new Object;s.sqq[q]='';s.pt(v,'&','sqp',0);s.pt(s.un,',','sqs',q);v='';for(x in s.squ)if(x&&(!Object||!Object.prototype||!Object.prototy"+"pe[x]))s.sqq[s.squ[x]]+=(s.sqq[s.squ[x]]?',':'')+x;for(x in s.sqq)if(x&&(!Object||!Object.prototype||!Object.prototype[x])&&s.sqq[x]&&(x==q||c<2)){v+=(v?'&':'')+s.sqq[x]+'='+s.ape(x);c++}return s.c"+"_w(k,v,0)};s.wdl=new Function('e','var s=s_c_il['+s._in+'],r=true,b=s.eh(s.wd,\"onload\"),i,o,oc;if(b)r=this[b](e);for(i=0;i<s.d.links.length;i++){o=s.d.links[i];oc=o.onclick?\"\"+o.onclick:\"\";if"+"((oc.indexOf(\"s_gs(\")<0||oc.indexOf(\".s_oc(\")>=0)&&oc.indexOf(\".tl(\")<0)s.eh(o,\"onclick\",0,s.lc);}return r');s.wds=function(){var s=this;if(s.apv>3&&(!s.isie||!s.ismac||s.apv>=5)){if(s.b&&s"+".b.attachEvent)s.b.attachEvent('onclick',s.bc);else if(s.b&&s.b.addEventListener)s.b.addEventListener('click',s.bc,false);else s.eh(s.wd,'onload',0,s.wdl)}};s.vs=function(x){var s=this,v=s.visitorS"+"ampling,g=s.visitorSamplingGroup,k='s_vsn_'+s.un+(g?'_'+g:''),n=s.c_r(k),e=new Date,y=e.getYear();e.setYear(y+10+(y<1900?1900:0));if(v){v*=100;if(!n){if(!s.c_w(k,x,e))return 0;n=x}if(n%10000>v)retu"+"rn 0}return 1};s.dyasmf=function(t,m){if(t&&m&&m.indexOf(t)>=0)return 1;return 0};s.dyasf=function(t,m){var s=this,i=t?t.indexOf('='):-1,n,x;if(i>=0&&m){var n=t.substring(0,i),x=t.substring(i+1);if"+"(s.pt(x,',','dyasmf',m))return n}return 0};s.uns=function(){var s=this,x=s.dynamicAccountSelection,l=s.dynamicAccountList,m=s.dynamicAccountMatch,n,i;s.un=s.un.toLowerCase();if(x&&l){if(!m)m=s.wd.l"+"ocation.host;if(!m.toLowerCase)m=''+m;l=l.toLowerCase();m=m.toLowerCase();n=s.pt(l,';','dyasf',m);if(n)s.un=n}i=s.un.indexOf(',');s.fun=i<0?s.un:s.un.substring(0,i)};s.sa=function(un){var s=this;s."+"un=un;if(!s.oun)s.oun=un;else if((','+s.oun+',').indexOf(','+un+',')<0)s.oun+=','+un;s.uns()};s.m_i=function(n,a){var s=this,m,f=n.substring(0,1),r,l,i;if(!s.m_l)s.m_l=new Object;if(!s.m_nl)s.m_nl="+"new Array;m=s.m_l[n];if(!a&&m&&m._e&&!m._i)s.m_a(n);if(!m){m=new Object,m._c='s_m';m._in=s.wd.s_c_in;m._il=s._il;m._il[m._in]=m;s.wd.s_c_in++;m.s=s;m._n=n;m._l=new Array('_c','_in','_il','_i','_e',"+"'_d','_dl','s','n','_r','_g','_g1','_t','_t1','_x','_x1','_rs','_rr','_l');s.m_l[n]=m;s.m_nl[s.m_nl.length]=n}else if(m._r&&!m._m){r=m._r;r._m=m;l=m._l;for(i=0;i<l.length;i++)if(m[l[i]])r[l[i]]=m[l"+"[i]];r._il[r._in]=r;m=s.m_l[n]=r}if(f==f.toUpperCase())s[n]=m;return m};s.m_a=new Function('n','g','e','if(!g)g=\"m_\"+n;var s=s_c_il['+s._in+'],c=s[g+\"_c\"],m,x,f=0;if(!c)c=s.wd[\"s_\"+g+\"_c\"];"+"if(c&&s_d)s[g]=new Function(\"s\",s_ft(s_d(c)));x=s[g];if(!x)x=s.wd[\\'s_\\'+g];if(!x)x=s.wd[g];m=s.m_i(n,1);if(x&&(!m._i||g!=\"m_\"+n)){m._i=f=1;if((\"\"+x).indexOf(\"function\")>=0)x(s);else s.m_"+"m(\"x\",n,x,e)}m=s.m_i(n,1);if(m._dl)m._dl=m._d=0;s.dlt();return f');s.m_m=function(t,n,d,e){t='_'+t;var s=this,i,x,m,f='_'+t,r=0,u;if(s.m_l&&s.m_nl)for(i=0;i<s.m_nl.length;i++){x=s.m_nl[i];if(!n||"+"x==n){m=s.m_i(x);u=m[t];if(u){if((''+u).indexOf('function')>=0){if(d&&e)u=m[t](d,e);else if(d)u=m[t](d);else u=m[t]()}}if(u)r=1;u=m[t+1];if(u&&!m[f]){if((''+u).indexOf('function')>=0){if(d&&e)u=m[t"+"+1](d,e);else if(d)u=m[t+1](d);else u=m[t+1]()}}m[f]=1;if(u)r=1}}return r};s.m_ll=function(){var s=this,g=s.m_dl,i,o;if(g)for(i=0;i<g.length;i++){o=g[i];if(o)s.loadModule(o.n,o.u,o.d,o.l,o.e,1);g[i"+"]=0}};s.loadModule=function(n,u,d,l,e,ln){var s=this,m=0,i,g,o=0,f1,f2,c=s.h?s.h:s.b,b,tcf;if(n){i=n.indexOf(':');if(i>=0){g=n.substring(i+1);n=n.substring(0,i)}else g=\"m_\"+n;m=s.m_i(n)}if((l||(n"+"&&!s.m_a(n,g)))&&u&&s.d&&c&&s.d.createElement){if(d){m._d=1;m._dl=1}if(ln){if(s.ssl)u=s.rep(u,'http:','https:');i='s_s:'+s._in+':'+n+':'+g;b='var s=s_c_il['+s._in+'],o=s.d.getElementById(\"'+i+'\")"+";if(s&&o){if(!o.l&&s.wd.'+g+'){o.l=1;if(o.i)clearTimeout(o.i);o.i=0;s.m_a(\"'+n+'\",\"'+g+'\"'+(e?',\"'+e+'\"':'')+')}';f2=b+'o.c++;if(!s.maxDelay)s.maxDelay=250;if(!o.l&&o.c<(s.maxDelay*2)/100)o.i"+"=setTimeout(o.f2,100)}';f1=new Function('e',b+'}');tcf=new Function('s','c','i','u','f1','f2','var e,o=0;try{o=s.d.createElement(\"script\");if(o){o.type=\"text/javascript\";'+(n?'o.id=i;o.defer=tr"+"ue;o.onload=o.onreadystatechange=f1;o.f2=f2;o.l=0;':'')+'o.src=u;c.appendChild(o);'+(n?'o.c=0;o.i=setTimeout(f2,100)':'')+'}}catch(e){o=0}return o');o=tcf(s,c,i,u,f1,f2)}else{o=new Object;o.n=n+':'"+"+g;o.u=u;o.d=d;o.l=l;o.e=e;g=s.m_dl;if(!g)g=s.m_dl=new Array;i=0;while(i<g.length&&g[i])i++;g[i]=o}}else if(n){m=s.m_i(n);m._e=1}return m};s.voa=function(vo,r){var s=this,l=s.va_g,i,k,v,x;for(i=0;i"+"<l.length;i++){k=l[i];v=vo[k];if(v||vo['!'+k]){if(!r&&(k==\"contextData\"||k==\"retrieveLightData\")&&s[k])for(x in s[k])if(!v[x])v[x]=s[k][x];s[k]=v}}};s.vob=function(vo){var s=this,l=s.va_g,i,k;f"+"or(i=0;i<l.length;i++){k=l[i];vo[k]=s[k];if(!vo[k])vo['!'+k]=1}};s.dlt=new Function('var s=s_c_il['+s._in+'],d=new Date,i,vo,f=0;if(s.dll)for(i=0;i<s.dll.length;i++){vo=s.dll[i];if(vo){if(!s.m_m(\""+"d\")||d.getTime()-vo._t>=s.maxDelay){s.dll[i]=0;s.t(vo)}else f=1}}if(s.dli)clearTimeout(s.dli);s.dli=0;if(f){if(!s.dli)s.dli=setTimeout(s.dlt,s.maxDelay)}else s.dll=0');s.dl=function(vo){var s=this"+",d=new Date;if(!vo)vo=new Object;s.vob(vo);vo._t=d.getTime();if(!s.dll)s.dll=new Array;s.dll[s.dll.length]=vo;if(!s.maxDelay)s.maxDelay=250;s.dlt()};s.track=s.t=function(vo){var s=this,trk=1,tm=new"+" Date,sed=Math&&Math.random?Math.floor(Math.random()*10000000000000):tm.getTime(),sess='s'+Math.floor(tm.getTime()/10800000)%10+sed,y=tm.getYear(),vt=tm.getDate()+'/'+tm.getMonth()+'/'+(y<1900?y+19"+"00:y)+' '+tm.getHours()+':'+tm.getMinutes()+':'+tm.getSeconds()+' '+tm.getDay()+' '+tm.getTimezoneOffset(),tcf,tfs=s.gtfs(),ta=-1,q='',qs='',code='',vb=new Object;s.gl(s.vl_g);s.uns();s.m_ll();if(!"+"s.td){var tl=tfs.location,a,o,i,x='',c='',v='',p='',bw='',bh='',j='1.0',k=s.c_w('s_cc','true',0)?'Y':'N',hp='',ct='',pn=0,ps;if(String&&String.prototype){j='1.1';if(j.match){j='1.2';if(tm.setUTCDat"+"e){j='1.3';if(s.isie&&s.ismac&&s.apv>=5)j='1.4';if(pn.toPrecision){j='1.5';a=new Array;if(a.forEach){j='1.6';i=0;o=new Object;tcf=new Function('o','var e,i=0;try{i=new Iterator(o)}catch(e){}return "+"i');i=tcf(o);if(i&&i.next)j='1.7'}}}}}if(s.apv>=4)x=screen.width+'x'+screen.height;if(s.isns||s.isopera){if(s.apv>=3){v=s.n.javaEnabled()?'Y':'N';if(s.apv>=4){c=screen.pixelDepth;bw=s.wd.innerWidth"+";bh=s.wd.innerHeight}}s.pl=s.n.plugins}else if(s.isie){if(s.apv>=4){v=s.n.javaEnabled()?'Y':'N';c=screen.colorDepth;if(s.apv>=5){bw=s.d.documentElement.offsetWidth;bh=s.d.documentElement.offsetHeig"+"ht;if(!s.ismac&&s.b){tcf=new Function('s','tl','var e,hp=0;try{s.b.addBehavior(\"#default#homePage\");hp=s.b.isHomePage(tl)?\"Y\":\"N\"}catch(e){}return hp');hp=tcf(s,tl);tcf=new Function('s','var "+"e,ct=0;try{s.b.addBehavior(\"#default#clientCaps\");ct=s.b.connectionType}catch(e){}return ct');ct=tcf(s)}}}else r=''}if(s.pl)while(pn<s.pl.length&&pn<30){ps=s.fl(s.pl[pn].name,100)+';';if(p.indexO"+"f(ps)<0)p+=ps;pn++}s.resolution=x;s.colorDepth=c;s.javascriptVersion=j;s.javaEnabled=v;s.cookiesEnabled=k;s.browserWidth=bw;s.browserHeight=bh;s.connectionType=ct;s.homepage=hp;s.plugins=p;s.td=1}i"+"f(vo){s.vob(vb);s.voa(vo)}if((vo&&vo._t)||!s.m_m('d')){if(s.usePlugins)s.doPlugins(s);var l=s.wd.location,r=tfs.document.referrer;if(!s.pageURL)s.pageURL=l.href?l.href:l;if(!s.referrer&&!s._1_refer"+"rer){s.referrer=r;s._1_referrer=1}s.m_m('g');if(s.lnk||s.eo){var o=s.eo?s.eo:s.lnk,p=s.pageName,w=1,t=s.ot(o),n=s.oid(o),x=o.s_oidt,h,l,i,oc;if(s.eo&&o==s.eo){while(o&&!n&&t!='BODY'){o=o.parentElem"+"ent?o.parentElement:o.parentNode;if(o){t=s.ot(o);n=s.oid(o);x=o.s_oidt}}if(o){oc=o.onclick?''+o.onclick:'';if((oc.indexOf('s_gs(')>=0&&oc.indexOf('.s_oc(')<0)||oc.indexOf('.tl(')>=0)o=0}}if(o){if(n"+")ta=o.target;h=s.oh(o);i=h.indexOf('?');h=s.linkLeaveQueryString||i<0?h:h.substring(0,i);l=s.linkName;t=s.linkType?s.linkType.toLowerCase():s.lt(h);if(t&&(h||l)){s.pe='lnk_'+(t=='d'||t=='e'?t:'o');"+"q+='&pe='+s.pe+(h?'&pev1='+s.ape(h):'')+(l?'&pev2='+s.ape(l):'');}else trk=0;if(s.trackInlineStats){if(!p){p=s.pageURL;w=0}t=s.ot(o);i=o.sourceIndex;if(s.gg('objectID')){n=s.gg('objectID');x=1;i=1}"+"if(p&&n&&t)qs='&pid='+s.ape(s.fl(p,255))+(w?'&pidt='+w:'')+'&oid='+s.ape(s.fl(n,100))+(x?'&oidt='+x:'')+'&ot='+s.ape(t)+(i?'&oi='+i:'')}}else trk=0}if(trk||qs){s.sampled=s.vs(sed);if(trk){if(s.samp"+"led)code=s.mr(sess,(vt?'&t='+s.ape(vt):'')+s.hav()+q+(qs?qs:s.rq()),0,ta);qs='';s.m_m('t');if(s.p_r)s.p_r();s.referrer=s.lightProfileID=s.retrieveLightProfiles=s.deleteLightProfiles=''}s.sq(qs)}}el"+"se s.dl(vo);if(vo)s.voa(vb,1);s.lnk=s.eo=s.linkName=s.linkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';if(s.pg)s.wd.s_lnk=s.wd.s_eo=s.wd.s_linkName=s.wd.s_linkType='';return code};s.trac"+"kLink=s.tl=function(o,t,n,vo){var s=this;s.lnk=s.co(o);s.linkType=t;s.linkName=n;s.t(vo)};s.trackLight=function(p,ss,i,vo){var s=this;s.lightProfileID=p;s.lightStoreForSeconds=ss;s.lightIncrementBy"+"=i;s.t(vo)};s.setTagContainer=function(n){var s=this,l=s.wd.s_c_il,i,t,x,y;s.tcn=n;if(l)for(i=0;i<l.length;i++){t=l[i];if(t&&t._c=='s_l'&&t.tagContainerName==n){for(i=0;i<s.va_g.length;i++){x=s.va_"+"g[i];if(t[x])s[x]=t[x]}if(t.lmq)for(i=0;i<t.lmq.length;i++){x=t.lmq[i];y='m_'+x.n;if(!s[y]&&!s[y+'_c']){s[y]=t[y];s[y+'_c']=t[y+'_c']}s.loadModule(x.n,x.u,x.d)}if(t.onLoad)t.onLoad(s);if(t.tq)for(i"+"=0;i<t.tq.length;i++)s.t(t.tq[i]);t.s=s}}};s.wd=window;s.ssl=(s.wd.location.protocol.toLowerCase().indexOf('https')>=0);s.d=document;s.b=s.d.body;if(s.d.getElementsByTagName){s.h=s.d.getElementsByT"+"agName('HEAD');if(s.h)s.h=s.h[0]}s.n=navigator;s.u=s.n.userAgent;s.ns6=s.u.indexOf('Netscape6/');var apn=s.n.appName,v=s.n.appVersion,ie=v.indexOf('MSIE '),o=s.u.indexOf('Opera '),i;if(v.indexOf('O"+"pera')>=0||o>0)apn='Opera';s.isie=(apn=='Microsoft Internet Explorer');s.isns=(apn=='Netscape');s.isopera=(apn=='Opera');s.ismac=(s.u.indexOf('Mac')>=0);if(o>0)s.apv=parseFloat(s.u.substring(o+6));"+"else if(ie>0){s.apv=parseInt(i=v.substring(ie+5));if(s.apv>3)s.apv=parseFloat(i)}else if(s.ns6>0)s.apv=parseFloat(s.u.substring(s.ns6+10));else s.apv=parseFloat(v);s.em=0;if(s.em.toPrecision)s.em=3"+";else if(String.fromCharCode){i=escape(String.fromCharCode(256)).toUpperCase();s.em=(i=='%C4%80'?2:(i=='%U0100'?1:0))}if(s.oun)s.sa(s.oun);s.sa(un);s.vl_l='dynamicVariablePrefix,visitorID,vmk,visit"+"orMigrationKey,visitorMigrationServer,visitorMigrationServerSecure,ppu,charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,pageName,pageURL,referrer,currencyCode';s.va_l=s.sp(s.vl_l,',');s."+"vl_mr=s.vl_m='charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,contextData,lightProfileID,lightStoreForSeconds,lightIncrementBy';s.vl_t=s.vl_l+',variableProvider,channel,server,pageType,"+"transactionID,purchaseID,campaign,state,zip,events,events2,products,linkName,linkType,contextData,lightProfileID,lightStoreForSeconds,lightIncrementBy,retrieveLightProfiles,deleteLightProfiles,retr"+"ieveLightData';var n;for(n=1;n<=75;n++){s.vl_t+=',prop'+n+',eVar'+n;s.vl_m+=',prop'+n+',eVar'+n}for(n=1;n<=5;n++)s.vl_t+=',hier'+n;for(n=1;n<=3;n++)s.vl_t+=',list'+n;s.va_m=s.sp(s.vl_m,',');s.vl_l2"+"=',tnt,pe,pev1,pev2,pev3,resolution,colorDepth,javascriptVersion,javaEnabled,cookiesEnabled,browserWidth,browserHeight,connectionType,homepage,plugins';s.vl_t+=s.vl_l2;s.va_t=s.sp(s.vl_t,',');s.vl_"+"g=s.vl_t+',trackingServer,trackingServerSecure,trackingServerBase,fpCookieDomainPeriods,disableBufferedRequests,mobile,visitorSampling,visitorSamplingGroup,dynamicAccountSelection,dynamicAccountLis"+"t,dynamicAccountMatch,trackDownloadLinks,trackExternalLinks,trackInlineStats,linkLeaveQueryString,linkDownloadFileTypes,linkExternalFilters,linkInternalFilters,linkTrackVars,linkTrackEvents,linkNam"+"es,lnk,eo,lightTrackVars,_1_referrer,un';s.va_g=s.sp(s.vl_g,',');s.pg=pg;s.gl(s.vl_g);s.contextData=new Object;s.retrieveLightData=new Object;if(!ss)s.wds();if(pg){s.wd.s_co=function(o){s_gi(\"_\","+"1,1).co(o)};s.wd.s_gs=function(un){s_gi(un,1,1).t()};s.wd.s_dc=function(un){s_gi(un,1).t()}}",w=window,l=w.s_c_il,n=navigator,u=n.userAgent,v=n.appVersion,e=v.indexOf('MSIE '),m=u.indexOf('Netscape6/'),a,i,x,s;if(un){un=un.toLowerCase();if(l)for(i=0;i < l.length;i++){s=l[i];x=s._c;if((!x||x=='s_c'||x=='s_l')&&(s.oun==un||(s.fs&&s.sa&&s.fs(s.oun,un)))){if(s.sa)s.sa(un);if(x=='s_c')return s}else s=0}}w.s_an='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';w.s_sp=new Function("x","d","var a=new Array,i=0,j;if(x){if(x.split)a=x.split(d);else if(!d)for(i=0;i<x.length;i++)a[a.length]=x.substring(i,i+1);else while(i>=0){j=x.indexOf(d,i);a[a.length]=x.subst"+"ring(i,j<0?x.length:j);i=j;if(i>=0)i+=d.length}}return a");w.s_jn=new Function("a","d","var x='',i,j=a.length;if(a&&j>0){x=a[0];if(j>1){if(a.join)x=a.join(d);else for(i=1;i<j;i++)x+=d+a[i]}}return x");w.s_rep=new Function("x","o","n","return s_jn(s_sp(x,o),n)");w.s_d=new Function("x","var t='`^@$#',l=s_an,l2=new Object,x2,d,b=0,k,i=x.lastIndexOf('~~'),j,v,w;if(i>0){d=x.substring(0,i);x=x.substring(i+2);l=s_sp(l,'');for(i=0;i<62;i++)l2[l[i]]=i;t=s_sp(t,'');d"+"=s_sp(d,'~');i=0;while(i<5){v=0;if(x.indexOf(t[i])>=0){x2=s_sp(x,t[i]);for(j=1;j<x2.length;j++){k=x2[j].substring(0,1);w=t[i]+k;if(k!=' '){v=1;w=d[b+l2[k]]}x2[j]=w+x2[j].substring(1)}}if(v)x=s_jn("+"x2,'');else{w=t[i]+' ';if(x.indexOf(w)>=0)x=s_rep(x,w,t[i]);i++;b+=62}}}return x");w.s_fe=new Function("c","return s_rep(s_rep(s_rep(c,'\\\\','\\\\\\\\'),'\"','\\\\\"'),\"\\n\",\"\\\\n\")");w.s_fa=new Function("f","var s=f.indexOf('(')+1,e=f.indexOf(')'),a='',c;while(s>=0&&s<e){c=f.substring(s,s+1);if(c==',')a+='\",\"';else if((\"\\n\\r\\t \").indexOf(c)<0)a+=c;s++}return a?'\"'+a+'\"':"+"a");w.s_ft=new Function("c","c+='';var s,e,o,a,d,q,f,h,x;s=c.indexOf('=function(');while(s>=0){s++;d=1;q='';x=0;f=c.substring(s);a=s_fa(f);e=o=c.indexOf('{',s);e++;while(d>0){h=c.substring(e,e+1);if(q){i"+"f(h==q&&!x)q='';if(h=='\\\\')x=x?0:1;else x=0}else{if(h=='\"'||h==\"'\")q=h;if(h=='{')d++;if(h=='}')d--}if(d>0)e++}c=c.substring(0,s)+'new Function('+(a?a+',':'')+'\"'+s_fe(c.substring(o+1,e))+'\")"+"'+c.substring(e+1);s=c.indexOf('=function(')}return c;");c=s_d(c);if(e > 0){a=parseInt(i=v.substring(e+5));if(a > 3)a=parseFloat(i)}else if(m > 0)a=parseFloat(u.substring(m+10));else a=parseFloat(v);if(a < 5||v.indexOf('Opera')>=0||u.indexOf('Opera')>=0)c=s_ft(c);if(!s){s=new Object;if(!w.s_c_in){w.s_c_il=new Array;w.s_c_in=0}s._il=w.s_c_il;s._in=w.s_c_in;s._il[s._in]=s;w.s_c_in++;}s._c='s_c';(new Function("s","un","pg","ss",c))(s,un,pg,ss);return s}
var iServiceID;var xmlLocalizeData;function doProviderLookup(){var inp=document.getElementById("inputZipCode");var txt=inp.value;if(!txt.match(/^\d{5}$/)){alert("Invalid zip code. Please enter your 5 digit zip code.");return false;}setCookie("zip",txt,365);getLocalizeData(txt);return false;}function hideLocalize(){var obj=document.getElementById("divLocalize");if(obj){obj.style.display="none";}}function toggleLocalizeBar(){var obj=document.getElementById("divLocalize");var inp=document.getElementById("inputZipCode");var sel=document.getElementById("selectProvider");if(obj&&inp){if(obj.style.display!="block"){obj.style.display="block";inp.focus();}else{obj.style.display="none";}}}function changeProvider(obj){paramServiceID=iServiceID=parseFloat(obj[obj.selectedIndex].value);setCookie("ServiceID",iServiceID,365);try{reloadGrid();}catch(e){}var s=document.location.pathname.toLowerCase();if(s.indexOf("/ipad/new-tonight/")>=0){document.location="/ipad/new-tonight/"+iServiceID;}}function populateProviders(strData){var sel=document.getElementById("selectProvider");var opt=document.createElement("OPTION");sel.options.length=0;opt.text="SELECT YOUR CABLE PROVIDER";opt.value="0";sel.options.add(opt);if(strData){var locdata=strData.split("\n");for(var i=0;i<locdata.length;i++){var d=locdata[i].split("\t");var iSid=parseInt(d[1],10);opt=document.createElement("OPTION");opt.text=d[2];opt.value=d[1];sel.options.add(opt);}}opt=document.createElement("OPTION");opt.text="Eastern-National Listings";opt.value=80001;sel.options.add(opt);opt=document.createElement("OPTION");opt.text="Pacific-National Listings";opt.value=80004;sel.options.add(opt);}function getLocalizeData(strZipCode){var urlData="/listings/data/ajaxlocalize.ashx?zip="+strZipCode;xmlLocalizeData=GetXmlHttpObject(xmlLocalizeEvent);if(xmlLocalizeData){xmlLocalizeData.open("GET",urlData,true);xmlLocalizeData.send(null);}}function xmlLocalizeEvent(){if(xmlLocalizeData.readyState==4||xmlLocalizeData.readyState=="complete"){populateProviders(xmlLocalizeData.responseText);}}
(function($){$.fn.hoverIntent=function(f,g){var cfg={sensitivity:7,interval:100,timeout:0};cfg=$.extend(cfg,g?{over:f,out:g}:f);var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY;};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if((Math.abs(pX-cX)+Math.abs(pY-cY))<cfg.sensitivity){$(ob).unbind("mousemove",track);ob.hoverIntent_s=1;return cfg.over.apply(ob,[ev]);}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=0;return cfg.out.apply(ob,[ev]);};var handleHover=function(e){var p=(e.type=="mouseover"?e.fromElement:e.toElement)||e.relatedTarget;while(p&&p!=this){try{p=p.parentNode;}catch(e){p=this;}}if(p==this){return false;}var ev=jQuery.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);}if(e.type=="mouseover"){pX=ev.pageX;pY=ev.pageY;$(ob).bind("mousemove",track);if(ob.hoverIntent_s!=1){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}}else{$(ob).unbind("mousemove",track);if(ob.hoverIntent_s==1){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob);},cfg.timeout);}}};return this.mouseover(handleHover).mouseout(handleHover);};})(jQuery);
(function(a){a.fn.bgiframe=(a.browser.msie&&/msie 6\.0/i.test(navigator.userAgent)?function(d){d=a.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:true,src:"javascript:false;"},d);var c='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+d.src+'"style="display:block;position:absolute;z-index:-1;'+(d.opacity!==false?"filter:Alpha(Opacity='0');":"")+"top:"+(d.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":b(d.top))+";left:"+(d.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":b(d.left))+";width:"+(d.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":b(d.width))+";height:"+(d.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":b(d.height))+';"/>';return this.each(function(){if(a(this).children("iframe.bgiframe").length===0){this.insertBefore(document.createElement(c),this.firstChild)}})}:function(){return this});a.fn.bgIframe=a.fn.bgiframe;function b(c){return c&&c.constructor===Number?c+"px":c}})(jQuery);
;(function($){$.fn.superfish=function(op){var sf=$.fn.superfish,c=sf.c,$arrow=$(['<span class="',c.arrowClass,'"> &#187;</span>'].join('')),over=function(){var $$=$(this),menu=getMenu($$);clearTimeout(menu.sfTimer);$$.showSuperfishUl().siblings().hideSuperfishUl();},out=function(){var $$=$(this),menu=getMenu($$),o=sf.op;clearTimeout(menu.sfTimer);menu.sfTimer=setTimeout(function(){o.retainPath=($.inArray($$[0],o.$path)>-1);$$.hideSuperfishUl();if(o.$path.length&&$$.parents(['li.',o.hoverClass].join('')).length<1){over.call(o.$path);}},o.delay);},getMenu=function($menu){var menu=$menu.parents(['ul.',c.menuClass,':first'].join(''))[0];sf.op=sf.o[menu.serial];return menu;},addArrow=function($a){$a.addClass(c.anchorClass).append($arrow.clone());};return this.each(function(){var s=this.serial=sf.o.length;var o=$.extend({},sf.defaults,op);o.$path=$('li.'+o.pathClass,this).slice(0,o.pathLevels).each(function(){$(this).addClass([o.hoverClass,c.bcClass].join(' ')).filter('li:has(ul)').removeClass(o.pathClass);});sf.o[s]=sf.op=o;$('li:has(ul)',this)[($.fn.hoverIntent&&!o.disableHI)? 'hoverIntent' : 'hover'](over,out).each(function(){if(o.autoArrows)addArrow($('>a:first-child',this));}).not('.'+c.bcClass).hideSuperfishUl();var $a=$('a',this);$a.each(function(i){var $li=$a.eq(i).parents('li');$a.eq(i).focus(function(){over.call($li);}).blur(function(){out.call($li);});});o.onInit.call(this);}).each(function(){var menuClasses=[c.menuClass];if(sf.op.dropShadows&&!($.browser.msie&&$.browser.version < 7))menuClasses.push(c.shadowClass);$(this).addClass(menuClasses.join(' '));});};var sf=$.fn.superfish;sf.o=[];sf.op={};sf.IE7fix=function(){var o=sf.op;if($.browser.msie&&$.browser.version > 6&&o.dropShadows&&o.animation.opacity!=undefined)this.toggleClass(sf.c.shadowClass+'-off');};sf.c={bcClass : 'sf-breadcrumb',menuClass : 'sf-js-enabled',anchorClass : 'sf-with-ul',arrowClass : 'sf-sub-indicator',shadowClass : 'sf-shadow'};sf.defaults={hoverClass : 'sfHover',pathClass : 'overideThisToUse',pathLevels : 1,delay : 800,animation :{opacity:'show'},speed : 'normal',autoArrows : true,dropShadows : true,disableHI : false,onInit : function(){},onBeforeShow: function(){},onShow : function(){},onHide : function(){}};$.fn.extend({hideSuperfishUl : function(){var o=sf.op,not=(o.retainPath===true)? o.$path : '';o.retainPath=false;var $ul=$(['li.',o.hoverClass].join(''),this).add(this).not(not).removeClass(o.hoverClass).find('>ul').hide().css('visibility','hidden');o.onHide.call($ul);return this;},showSuperfishUl : function(){var o=sf.op,sh=sf.c.shadowClass+'-off',$ul=this.addClass(o.hoverClass).find('>ul:hidden').css('visibility','visible');sf.IE7fix.call($ul);o.onBeforeShow.call($ul);$ul.animate(o.animation,o.speed,function(){sf.IE7fix.call($ul);o.onShow.call($ul);});return this;}});})(jQuery);
$(document).ready(function(){$("#nav ul").superfish({delay: 100,speed: "fast",autoArrows: false,dropShadows: true,disableHI: true});if(WWWBaseUrl!="http://www.tvguide.com"){$("#nav ul a[href^='http\\:\\/\\/www.tvguide.com']").attr("href",function(){return this.href.replace("http://www.tvguide.com",WWWBaseUrl);});$("#nav ul a[href^='http\\:\\/\\/movies.tvguide.com']").attr("href",function(){return this.href.replace("http://movies.tvguide.com",MoviesBaseUrl);});$("#nav ul a[href^='http\\:\\/\\/sports.tvguide.com']").attr("href",function(){return this.href.replace("http://sports.tvguide.com",SportsBaseUrl);});$("#nav ul a[href^='http\\:\\/\\/video.tvguide.com']").attr("href",function(){return this.href.replace("http://video.tvguide.com",OvgBaseUrl);});}var NavHostname=window.location.hostname;if(NavHostname.indexOf("tul1olpw")>=0){var subdomain=NavHostname.replace(/.tvguide.com/i,"");if(subdomain.indexOf("-")>=0){var subdomainsplit=subdomain.indexOf("tul1");subdomain=subdomain.substr(subdomainsplit);}var NavWWWBaseUrl="http://"+subdomain+".tvguide.com";var NavMoviesBaseUrl="http://movies-"+subdomain+".tvguide.com";var NavSportsBaseUrl="http://sports-"+subdomain+".tvguide.com";var NavOvgBaseUrl="http://video-"+subdomain+".tvguide.com";$("#nav ul a[href^='http\\:\\/\\/www.tvguide.com']").attr("href",function(){return this.href.replace("http://www.tvguide.com",NavWWWBaseUrl);});$("#nav ul a[href^='http\\:\\/\\/movies.tvguide.com']").attr("href",function(){return this.href.replace("http://movies.tvguide.com",NavMoviesBaseUrl);});$("#nav ul a[href^='http\\:\\/\\/sports.tvguide.com']").attr("href",function(){return this.href.replace("http://sports.tvguide.com",NavSportsBaseUrl);});$("#nav ul a[href^='http\\:\\/\\/video.tvguide.com']").attr("href",function(){return this.href.replace("http://video.tvguide.com",NavOvgBaseUrl);});}$("#nav ul a").click(function(){trackingID=$(this).parent().attr("id");om_collect_nav(trackingID);});$(".ghead-logo a").click(function(){om_collect_nav("logo-home");});});
Function.prototype.bind=function(object){var method=this;return function(){return method.apply(object,arguments);};};function EventBroadcaster(){this.x={};this.events=[];this.builtinEvts=[];}EventBroadcaster.prototype.getActionIdx=function(evt,action,binding){if(evt){var listeners=this.events[evt];if(listeners){var len=listeners.length;for(var i=len-1;i >=0;i--){if(listeners[i].action==action&&listeners[i].binding==binding){return i;}}}else{return-1;}}return-1;};EventBroadcaster.prototype.addListener=function(evt,action,binding){if(this.events[evt]){if(this.getActionIdx(evt,action,binding)==-1){var curevt=this.events[evt];curevt[curevt.length]={action:action,binding:binding};}}else{this.events[evt]=[];this.events[evt][0]={action:action,binding:binding};}};EventBroadcaster.prototype.removeListener=function(evt,action,binding){if(this.events){if(this.events[evt]){var idx=this.actionExists(evt,action,binding);if(idx >=0){this.events[evt].splice(idx,1);}}}};EventBroadcaster.prototype.removeAllListeners=function(evt){delete this.events;this.events=[];};EventBroadcaster.prototype.dispatchEvent=function(evt,e,args){if(!e){e=window.event;}if(this.events){var evtel=this.events;if(evtel){var listeners=evtel[evt];if(listeners){for(var act in listeners){var action=listeners[act].action;if(listeners[act].binding){action=action.bind(listeners[act].binding);}if(action){action(e,args);}}}}}};
try{if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s\s*/,'').replace(/\s\s*$/,'');};String.prototype.ltrim=function(){return this.replace(/^\s+/,'');};String.prototype.rtrim=function(){return this.replace(/\s+$/,'');};String.prototype.fulltrim=function(){return this.replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,'').replace(/\s+/g,' ');};}}catch(e){}try{if(Function.prototype.bind&&console&&typeof console.log=="object"){["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(method){console[method]=this.call(console[method],console);},Function.prototype.bind);}if(!window.log){window.log=function(){log.history=log.history||[];log.history.push(arguments);if(typeof console!='undefined'&&typeof console.log=='function'){if(window.opera){var i=0;while(i < arguments.length){console.log("Item "+(i+1)+": "+arguments[i]);i++;}}else if((Array.prototype.slice.call(arguments)).length==1&&typeof Array.prototype.slice.call(arguments)[0]=='string'){console.log((Array.prototype.slice.call(arguments)).toString());}else{console.log(Array.prototype.slice.call(arguments));}}else if(!Function.prototype.bind&&typeof console!='undefined'&&typeof console.log=='object'){Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments));}else{if(!document.getElementById('firebug-lite')){var script=document.createElement('script');script.type="text/javascript";script.id='firebug-lite';script.src='https://getfirebug.com/firebug-lite.js';document.getElementsByTagName('HEAD')[0].appendChild(script);setTimeout(function(){log(Array.prototype.slice.call(arguments));},2000);}else{setTimeout(function(){log(Array.prototype.slice.call(arguments));},500);}}}}}catch(e){}var TVGOL=(function($){return{Global:{init: function(){TVGOL.Page.init();TVGOL.User.init();TVGOL.Screen.init();TVGOL.services.Omniture.contextualize();TVGOL.Events.dispatchEvent("tvgol.script.init");TVGOL.Global.init=function(){return true;};return true;}},plugins:{load: function(options){var config={folder: "/Script/plugins",plugin: "",success: function(){return true;},error: function(){return false;}};config=TVGOL.utilities.configure(config,options);$.ajax({url: config.folder+"/"+config.plugin+".js",dataType: "script",success: function(){TVGOL.Events.dispatchEvent("tvgol.plugins."+config.plugin+".success");config.success;},error: function(){TVGOL.Events.dispatchEvent("tvgol.plugins."+config.plugin+".error");config.error;}});}},Page:{meta:{},type: 0,id: 0,params:{},events:{},cookies:{},redirect: window.location.href,actions: [],storage:{},timer: 0,returnURL: function(){var base=TVGOL.Page.redirect.split("?")[0];return base;},getParams: function(input){var params=[],results=[];if(input instanceof Array){params=input;}else{params.push(input);}for(var i in params){if(params[i] in TVGOL.Page.params){results.push(TVGOL.Page.params[params[i]]);}}switch(results.length){case 0: return "";break;case 1: return results[0];break;default: return results.join(",");break;}},setParams: function(){var e,a=/\+/g,r=/([^&=]+)=?([^&]*)/g,d=function(s){return decodeURIComponent(s.replace(a," "));},q=window.location.search.substring(1);while(e=r.exec(q)){TVGOL.Page.params[d(e[1])]=unescape(d(e[2]));}},analyticsHelper: function(){$("#nav a").each(function(){TVGOL.utilities.addQString($(this),"src","nav");});$(".whtht-c a").each(function(){TVGOL.utilities.addQString($(this),"src","wht");});$("#obj-menu a").each(function(){TVGOL.utilities.addQString($(this),"src","tab");});$(".most-w a").each(function(){TVGOL.utilities.addQString($(this),"src","ftr");});},init: function(){TVGOL.Page.id=iTvObjectID;$("meta").each(function(i){if($(this).attr("property")){TVGOL.Page.meta[$(this).attr("property")]=$(this).attr("content");}else if($(this).attr("name")){TVGOL.Page.meta[$(this).attr("name")]=$(this).attr("content");}});if(strTvObjectType!==null){switch(strTvObjectType.toLowerCase()){case "tvshow": TVGOL.Page.type=1;break;case "movie": TVGOL.Page.type=2;break;case "celebrity": TVGOL.Page.type=3;break;case "sportsteam": TVGOL.Page.type=4;break;default: TVGOL.Page.type=1;break;}}else{switch(TVGOL.Page.meta["og:type"]){case "tv_show": TVGOL.Page.type=1;break;case "movie": TVGOL.Page.type=2;break;case "public_figure": TVGOL.Page.type=3;break;case "sports_team": TVGOL.Page.type=4;break;default: TVGOL.Page.type=1;break;}}TVGOL.Page.setParams();if(TVGOL.Page.params["redirecturl"]){TVGOL.Page.redirect=TVGOL.Page.params["redirecturl"];}var href=window.location.href.split("/");var page=href[href.length-1];if(page.indexOf(".")< 1&&page.length > 1){TVGOL.Page.redirect=window.location.href+"/";}try{var cookieName,cookieValue,cookies=document.cookie.split(";");for(var i in cookies){try{cookieName=cookies[i].substr(0,cookies[i].indexOf("="));cookieValue=cookies[i].substr(cookies[i].indexOf("=")+1);cookieName=cookieName.replace(/^\s+|\s+$/g,"");TVGOL.Page.cookies[cookieName]=unescape(cookieValue);}catch(err){continue;}}}catch(err){TVGOL.Events.dispatchEvent("tvgol.plugins."+config.plugin+".error");}$(window).scroll(function(){if(TVGOL.Page.timer){clearTimeout(TVGOL.Page.timer);}TVGOL.Page.timer=setTimeout(function(){$.event.trigger("scrolled");},100);});}},Screen:{init: function(){}},storage:{index: []},messaging:{notice: function(msg){$noticeBox=$(document.createElement("div")).attr("id","NoticeBox");$noticeBox.html(msg);jQuery.facebox($noticeBox);},notify: function(options){var message=function(options){this.config={msg: "",anchor: "#cf-w",obj:{},timer: 10000,hide: true,multi: false,top: "0px",left: "0px",offset: 0,scroll: "true",position: "relative"};this.config=TVGOL.utilities.configure(this.config,options);this.$anchor=$(this.config.anchor);$("div.notice").remove();this.$notice=$(document.createElement("div")).addClass("notice").html(this.config.msg).css("display","none").data(this.config).bind("click",function(){$(this).slideUp();});this.$notice.prependTo(this.$anchor);var offset=this.$anchor.offset();var position=this.$notice.css("position");this.$notice.data("top",this.$notice.css("top")).data("left",this.$notice.css("left")).data("position",this.$notice.css("position"));this.$notice.data("offset",offset.top);this.config.obj=this.$notice;if(this.config.scroll==="true"){this.$notice.bind("scrolled",function(){var $el=$(this);var offset=parseInt($el.data("offset"));if($(window).scrollTop()> offset&&$el.css('position')!=='fixed'){$el.addClass("fixed");}if($(window).scrollTop()< offset&&$el.css('position')==='fixed'){$el.removeClass("fixed");}});}this.display=function(){if(this.$notice.data("scroll")==="true"){var offset=parseInt(this.$notice.data("offset"));if($(window).scrollTop()> offset&&this.$notice.css('position')!=='fixed'){this.$notice.addClass("fixed");}}this.$notice.slideDown("fast",function(){if($(this).data("hide")){TVGOL.messaging.hide($(this));}});}};try{var newMessage=new message(options);newMessage.display();}catch(e){TVGOL.utilities.log(e);}},hide: function(obj){if($(obj).queue("fx").length < 1){setTimeout(function(){$(obj).slideUp("slow",function(){TVGOL.Events.dispatchEvent("tvgol.messaging.complete",$(this));$(this).remove();});},parseInt((obj).data("timer")));}else{$(obj).data("timer","1000"),TVGOL.messaging.hide(obj);}}},utilities:{configure: function(baseConfig,newConfig){if(this.weigh(newConfig)> 0){for(var i in newConfig){baseConfig[i]=newConfig[i];}}return baseConfig;},clone: function(source){return jQuery.extend(true,{},source);},images:{pop: function(container){$container=$(container);if($container.length > 0){$container.find("img").each(function(){var src=$(this).attr("src");if(src.indexOf("Homepage")< 0){var ext=src.substr((src.lastIndexOf(".")+1),(src.length-src.lastIndexOf(".")));src=src.substr(0,src.lastIndexOf("."));var img=src.substr((src.lastIndexOf("/")+1),(src.length-src.lastIndexOf("/")));src=src.substr(0,src.lastIndexOf("/")+1);src+="thumbs/"+img+"_"+$(this).attr("width")+"x"+$(this).attr("height")+"."+ext;var src=$(this).attr({"src": src}).removeAttr("width").removeAttr("height");}});}}},weigh: function(obj){var size=0,key;if(typeof obj==="object"){for(key in obj){if(obj.hasOwnProperty(key)){size++;}}}return size;},log: function(info){try{var hostname=window.location.hostname;if(hostname.indexOf("localhost")>-1||hostname.indexOf("qa-test")>-1||hostname.indexOf("devint")>-1){window.log(info);return true;}}catch(e){}return false;},generateSEO: function(input){if(typeof input!=="string"){return null;}input=input.toLowerCase();input=input.replace(" ","-");input=input.replace(/[^A-Za-z0-9-]/g,"");return input;},store: function(key,data){var methods=[ function(k,d){localStorage.setItem(k,d);return true;},function(k,d){setCookie(k,d,365);return true;}];var storage=JSON.stringify(data);var push=function(k,d){for(var i in methods){try{methods[i](k,d);}catch(e){TVGOL.Events.dispatchEvent("tvgol.storage.filing-error "+e);continue;}this.push=methods[i];return true;}return false;};if(push(key,storage)){TVGOL.Events.dispatchEvent("tvgol.storage.filed "+key);return true;}else{TVGOL.Events.dispatchEvent("tvgol.storage.filing-error "+key);return false;}},retrieve: function(key){var methods=[ function(k){return localStorage.getItem(k);},function(k){return readCookie(k);}];var pull=function(k){var output=null;for(var i in methods){try{output=methods[i](k);}catch(e){continue;}return output;}};var data=pull(key);if(data==null){TVGOL.Events.dispatchEvent("tvgol.storage.retrieval-error "+key);return null;}TVGOL.Events.dispatchEvent("tvgol.storage.retrieved "+key);return jQuery.parseJSON(data);},remove: function(key){var methods=[ function(key){localStorage.removeItem(key);},function(key){deleteCookie(key);}];for(var i in methods){try{methods[i](key);}catch(e){continue;}TVGOL.Events.dispatchEvent("tvgol.storage.removed "+key);return true;}return false;},addQString: function(obj,variable,value){var $obj=$(obj);var href=$obj.attr("href");if(href.indexOf("?")> 0){href+="&";}else{href+="?";}href+=variable+"="+escape(value);$obj.attr("href",href);return href;},cookie:{config:{name: "user",value: "User",expireDays: "0"},read: function(options){var config=TVGOL.utilities.configure(this.config,options);try{var cookieName,cookieValue,cookies=document.cookie.split(";");for(var i in cookies){try{cookieName=cookies[i].substr(0,cookies[i].indexOf("="));cookieValue=cookies[i].substr(cookies[i].indexOf("=")+1);cookieName=cookieName.replace(/^\s+|\s+$/g,"");if(cookieName==config.name){return unescape(cookieValue);}}catch(err){continue;}}}catch(err){return null;}return null;},write: function(options){config=TVGOL.utilities.configure(this.config,options);var expires=new Date();expires.setDate(expires.getDate()+config.expireDays);var cookieValue=escape(config.value)+((config.expireDays==null)? "" : ";expires="+expires.toUTCString());document.cookie=config.name+"="+cookieValue;}}},services:{Google:{vote: function(data){TVGOL.Events.dispatchEvent("tvgol.google+.vote",data);}},Meebo:{actions: [],ad: "",prepare: function(){if(document.location.hostname=="localhost"){return;}window.Meebo||function(b){function p(){return ["<",i,' onload="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='//",b.stage ? "stage-" : "","cim.meebo.com/cim?iv=",a.v,"&",q,"=",b[q],b[l] ? "&"+l+"="+b[l] : "",b[e] ? "&"+e+"="+b[e] : "","'\"></",i,">"].join("")}var f=window,a=f.Meebo=f.Meebo||function(){(a._=a._||[]).push(arguments)},d=document,i="body",m=d[i],r;if(!m){r=arguments.callee;return setTimeout(function(){r(b)},100)}a.$={0:+new Date};a.T=function(u){a.$[u]=new Date-a.$[0]};a.v=4;var j="appendChild",h="createElement",k="src",l="lang",q="network",e="domain",n=d[h]("div"),v=n[j](d[h]("m")),c=d[h]("iframe"),g="document",o,s=function(){a.T("load");a("load")};f.addEventListener ? f.addEventListener("load",s,false): f.attachEvent("onload",s);n.style.display="none";m.insertBefore(n,m.firstChild).id="meebo";c.frameBorder="0";c.id="meebo-iframe";c.allowTransparency="true";v[j](c);try{c.contentWindow[g].open()}catch(w){b[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";c[k]=o+"void(0);"}try{var t=c.contentWindow[g];t.write(p());t.close()}catch(x){c[k]=o+'d.write("'+p().replace(/"/g,'\\"')+'");d.close();'}a.T(1)}({network: "tvguide"});},go: function(){$.ajax({url: TVGOL.services.Meebo.ad,dataType: "script",success: function(){Meebo('domReady');$(".news-article .img-container").each(function(i){Meebo("makeImagesSharable",{element: this,minWidth: 100,minHeight: 100});});$(".pge-photo-w").each(function(i){Meebo("makeImagesSharable",{element: this,minWidth: 100,minHeight: 100});});$(".pgo-main-w").each(function(i){Meebo("makeImagesSharable",{element: this,minWidth: 100,minHeight: 100});});}});},init: function(){TVGOL.services.Meebo.prepare();if(TVGOL.services.Meebo.actions.length > 0){var actions=TVGOL.services.Meebo.actions;for(var i in actions){try{Meebo(actions[i].action,actions[i].config);}catch(err){TVGOL.Events.dispatchEvent("tvgol.services.meebo.error: "+err);}}}else{TVGOL.Events.dispatchEvent("tvgol.services.meebo.error: no Meebo buttons detected");}TVGOL.services.Meebo.go();TVGOL.Events.dispatchEvent("tvgol.services.meebo.init");return true;}},Twitter:{init: function(){if(typeof twttr==="undefined"){return;}twttr.events.bind("tweet",function(event){TVGOL.Events.dispatchEvent("tvgol.twitter.tweet");});TVGOL.Events.dispatchEvent("tvgol.twitter.init");}},Facebook:{config:{appId: "63084645929",channelUrl: '//www.tvguide.com/channel.html',status: true,cookie: true,xfbml: true,callback: function(data){TVGOL.Events.dispatchEvent("tvgol.facebook.like",data);}},init: function(options){var config=TVGOL.utilities.configure(this.config,options);var fbEl={};window.fbAsyncInit=function(){FB.init({appId: config.appId,channelUrl: config.channelUrl,status: config.status,cookie: config.cookie,xfbml: config.xfbml});FB.Event.subscribe("edge.create",function(href,widget){var data={"href": href,"widget": widget};if(config.callback!==null){config.callback(data);}});window.fbInitDone=true;TVGOL.Events.dispatchEvent("tvgol.facebook.init");};if($("#fb-root")==null){fbEl=$(document.createElement("div")).attr("id","fb-root");$(document.body).append(fbEl);}else{fbEl=$("#fb-root");}(function(d){var js,id='facebook-jssdk',ref=d.getElementsByTagName('script')[0];if(d.getElementById(id)){return;}js=d.createElement('script');js.id=id;js.async=true;js.src="//connect.facebook.net/en_US/all.js";ref.parentNode.insertBefore(js,ref);}(document));}},Omniture:{params:{},clear: function(params){if(params){if(typeof params==="string"){try{TVGOL.services.Omniture.params[params]="";}catch(e){return false;}}else if(typeof params==="object"){var count=0;if(params instanceof Array){for(var i in params){try{TVGOL.services.Omniture.params[params[i]]="";count++;}catch(e){continue;}}}else{for(var i in params){try{TVGOL.services.Omniture.params[i]="";count++;}catch(e){continue;}}}if(count > 0){return true;}}return false;}else{for(var i in TVGOL.services.Omniture.params){TVGOL.services.Omniture.params[i]="";}return true;}},locations: function(){var locations=[];if(location.href.indexOf("/")> 0){locations=location.href.split("/");}else{locations.push(location.href);}TVGOL.services.Omniture.locations=function(){return locations;};return locations;},sections: function(data){TVGOL.services.Omniture.params["Site_Section"]="";TVGOL.services.Omniture.params["Site_Section_Level_2"]="";TVGOL.services.Omniture.params["Site_Section_Level_3"]="";if(data.constructor==Array){if(data.length > 0){TVGOL.services.Omniture.params["Site_Section"]=data[0];if(data.length > 1){TVGOL.services.Omniture.params["Site_Section_Level_2"]=data[1];if(data.length > 2){TVGOL.services.Omniture.params["Site_Section_Level_3"]=data[2];}}}return data;}else{return [];}},convertSectionsToSCode: function(){s.prop6=s.eVar6=TVGOL.services.Omniture.params["Site_Section"];s.prop7=s.eVar7=TVGOL.services.Omniture.params["Site_Section_Level_2"];s.prop8=s.eVar8=TVGOL.services.Omniture.params["Site_Section_Level_3"];},page: function(){var page=TVGOL.services.Omniture.locations();var sections=[];var pageType="";var eventLog=[];var path=window.location.pathname.split("/");var host=window.location.hostname;if(window.OvgBaseUrl.indexOf(host)> 0){sections.push("OVG");pageType=TVGOL.Page.meta["PageType"]="OVG";}if(TVGOL.Page.meta["PageType"]){pageType=TVGOL.Page.meta["PageType"];}else{pageType=TVGOL.Page.meta["PageType"]=path[1];}switch(pageType){case "Home": sections.push("Home");TVGOL.services.Omniture.params["Content_Type"]="Informational";break;case "Listings": sections.push("Listings");TVGOL.services.Omniture.params["Content_Type"]="Informational";break;case "PhotoGallery": sections.push("Photo-Gallery");TVGOL.services.Omniture.params["Content_Type"]="Visual/Photography";TVGOL.services.Omniture.params["content_view"]=true;break;case "News": sections.push("News");TVGOL.services.Omniture.params["Content_Type"]="Article";TVGOL.services.Omniture.params["content_view"]=true;break;case "Object": sections.push("Object");TVGOL.services.Omniture.params["Content_Type"]="Informational";sections.push(page[3]);if(page.length > 4){sections.push(page[4]);}TVGOL.services.Omniture.params["Content_Section"]=$("#obj-menu li.on a").html();TVGOL.services.Omniture.params["content_view"]=true;break;case "Watchlist": sections.push("Watchlist");sections.push("User Watchlist");TVGOL.services.Omniture.params["Content_Type"]="Personalized";break;case "Celebrity Watchlist": sections.push("Watchlist");sections.push("Celebrity Watchlist");TVGOL.services.Omniture.params["Content_Type"]="Personalized";break;case "Friends Favorites": sections.push("Watchlist");sections.push("Friends Favorites");TVGOL.services.Omniture.params["Content_Type"]="Personalized";break;case "Latest Tweets": sections.push("Watchlist");sections.push("Latest Tweets");TVGOL.services.Omniture.params["Content_Type"]="Personalized";break;case "Watchlist News": sections.push("Watchlist");sections.push("Watchlist News");TVGOL.services.Omniture.params["Content_Type"]="Personalized";break;case "Video": case "VIDEO-DETAIL": sections.push("Video");TVGOL.services.Omniture.params["Content_Type"]="Video";eventLog.push("event23");break;case "Registration": sections.push("Registration");TVGOL.services.Omniture.params["Content_Type"]="Personalized";eventLog.push("event21");break;case "special": sections.push("Special");sections.push(path[2]);if(path[3]&&path[3].toLowerCase()==="photogallery"){sections.push("Photo-Gallery");TVGOL.services.Omniture.params["Content_Type"]="Visual/Photography";}else{TVGOL.services.Omniture.params["Content_Type"]="Informational";}TVGOL.services.Omniture.params["content_view"]=true;break;default: if(sections.length < 1)sections.push("Misc");if(path[1]){sections.push(path[1]);TVGOL.services.Omniture.params["Content_Type"]="Informational";}break;}if(!s.events){s.events="";s.events+=eventLog.join(",");}else{s.events+=","+eventLog.join(",");}TVGOL.services.Omniture.sections(sections);if(TVGOL.services.Omniture.params["Site_Section"]==="Watchlist"){TVGOL.services.Omniture.convertSectionsToSCode();}TVGOL.Events.dispatchEvent("tvgol.omniture.page");TVGOL.services.Omniture.page=function(){return pageType;};return pageType;},widgets:{watchlist: ".h-hotlist",episodes: ".hp-episodes-c-w",mod: ".latest-mod",checkin:{button: "input[type=image]",init: function(container){if(typeof container!=="string"){return false;}var $container=$(container);var button=TVGOL.services.Omniture.widgets.checkin.button;var $button=$(button);if($container.length > 0){$button.live("click",function(){if($(this).parents(container)){if($(this).attr("data-franchise")){TVGOL.services.Omniture.params["Widget_Watchlist_CheckIn_Franchise"]=true;}else{TVGOL.services.Omniture.params["Widget_Watchlist_CheckIn"]=true;}}});}else{return false;}}},init: function(){var watchlist=$(TVGOL.services.Omniture.widgets.watchlist);var episodes=$(TVGOL.services.Omniture.widgets.episodes);var mod=$(TVGOL.services.Omniture.widgets.mod);if(watchlist.length > 0){watchlist.find("div.hotlist-title a").bind("click",function(){TVGOL.services.Omniture.params["Widget_Watchlist_Title"]=$(this).html();TVGOL.services.Omniture.broadcast({msg: "Watchlist Widget: title click-"+$(this).html(),data:{"title": $(this).html()}});return true;});if(TVGOL.Page.events["tvgol.checkin.buttons.init"]){TVGOL.services.Omniture.widgets.checkin.init(TVGOL.services.Omniture.widgets.watchlist);}else{TVGOL.Events.addListener("tvgol.checkin.buttons.init",TVGOL.services.Omniture.widgets.checkin.init(TVGOL.services.Omniture.widgets.watchlist));}}if(episodes.length > 0){episodes.find("h4 a").bind("click",function(){TVGOL.services.Omniture.params["Widget_Episodes_Title"]=$(this).html();TVGOL.services.Omniture.broadcast({msg: "Full Episodes Widget: title click-"+$(this).html()});return true;});episodes.find("div.watch a").bind("click",function(){TVGOL.services.Omniture.params["Widget_Episodes_Watch"]=$(this).attr("title").replace("Watch ","");TVGOL.services.Omniture.broadcast({msg: "Full Episodes Widget: watch click-"+$(this).html()});return true;});}if(mod.length > 0){mod.find("a").bind("click",function(){TVGOL.services.Omniture.params["Widget_MoD_Click"]=true;TVGOL.services.Omniture.broadcast({msg: "Movies on Demand Widget: click"});return true;});}TVGOL.Events.dispatchEvent("tvgol.omniture.widgets.init");}},init: function(){if(!s){return false;}var page=TVGOL.services.Omniture.page();var eventLog=[];var referrer=document.referrer.split('/');var refDomain="";if(referrer.length > 1){refDomain=referrer[2];}if(TVGOL.Page.params["src"]){var src="";switch(TVGOL.Page.params["src"]){case "nav": src="Top Navigation";break;case "wht": src="What's Hot Header";break;case "ftr": src="Footer";break;case "tab": src="Sub Navigation";break;}}s.prop59=s.eVar59=TVGOL.User.profile.id;if(TVGOL.Page.params["osocid"]){s.campaign="Social;"+refDomain+";";if(TVGOL.Page.params["plt"]){s.campaign+=TVGOL.Page.params["plt"]+";";}else{s.campaign+=";";}s.campaign+=TVGOL.Page.params["osocid"]+";;;";}if(TVGOL.Page.params["oaff"]){s.campaign="Affiliates;"+refDomain+";";if(TVGOL.Page.params["plt"]){s.campaign+=TVGOL.Page.params["plt"]+";";}else{s.campaign+=";";}s.campaign+=TVGOL.Page.params["oaff"]+";;;";}if(TVGOL.Page.params["ogoogid"]){s.campaign="iGoogle;"+refDomain+";";if(TVGOL.Page.params["plt"]){s.campaign+=TVGOL.Page.params["plt"]+";";}else{s.campaign+=";";}s.campaign+=TVGOL.Page.params["ogoogid"]+";;;";}if(TVGOL.Page.params["osyndid"]){s.campaign="Syndication;"+refDomain+";";if(TVGOL.Page.params["plt"]){s.campaign+=TVGOL.Page.params["plt"]+";";}else{s.campaign+=";";}s.campaign+=TVGOL.Page.params["osyndid"]+";;;";}if(TVGOL.Page.params["oeid"]){s.campaign="Email;;";if(TVGOL.Page.params["evn"]){s.campaign+=TVGOL.Page.params["evn"]+";";}else{s.campaign+=";";}if(TVGOL.Page.params["ept"]){s.campaign+=TVGOL.Page.params["ept"]+";";}else{s.campaign+=";";}s.campaign+=TVGOL.Page.params["oeid"]+";";}if(refDomain.indexOf("tvguide")> 0){TVGOL.services.Omniture.params["visit_continuation"]=true;}if(location.href.indexOf("special")> 0){if(!(TVGOL.Page.meta["title"])){s.prop3=document.title;}}TVGOL.services.Omniture.omniturize();TVGOL.services.Omniture.widgets.init();TVGOL.Events.dispatchEvent("tvgol.omniture.init");TVGOL.services.Omniture.init=function(){return true;};return true;},contextualize: function(){var page=TVGOL.services.Omniture.locations();var pgDomain="";var referrer="";var refDomain="";if(page.length > 2){var pgDomain=page[2];}if(document.referrer.indexOf("/")> 0){referrer=document.referrer.split('/');}if(referrer.length > 2){refDomain=referrer[2];}TVGOL.services.Omniture.params["Referrer"]=document.referrer;TVGOL.services.Omniture.params["Referrer_Domain"]=refDomain;if(refDomain.indexOf("tvguide")> 0){TVGOL.services.Omniture.params["Finding_Method"]="Browse";}else{if(TVGOL.Page.params["oca"]){TVGOL.services.Omniture.params["Finding_Method"]="Internal Marketing";}else{TVGOL.services.Omniture.params["Finding_Method"]="Direct";}}var idPattern=/\d{6,}$/;var pagelet="";if(page[page.length-1].indexOf(".")> 0){pagelet=page[page.length-1].split(".")[0];}if(idPattern.test(pagelet)){TVGOL.services.Omniture.params["Content_ID"]=idPattern.exec(pagelet)[0];}TVGOL.services.Omniture.params["Object_ID"]=TVGOL.Page.id;if(page.length > 3){TVGOL.services.Omniture.params["Site_Section"]=page[3];if(page.length > 4){TVGOL.services.Omniture.params["Site_Section_Level_2"]=page[4];if(page.length > 5){TVGOL.services.Omniture.params["Site_Section_Level_3"]=page[5];}}}if(TVGOL.Page.meta["title"]){TVGOL.services.Omniture.params["Content_Title"]=TVGOL.Page.meta["title"];}if(location.href.indexOf("special")> 0){TVGOL.services.Omniture.params["Site_Section"]="Special";if(!(TVGOL.Page.meta["title"])){s.prop3=document.title;}}if(location.href.indexOf("photogallery")> 0){TVGOL.services.Omniture.params["Content_Type"]="Visual/Photography";TVGOL.services.Omniture.params["Page_Focus"]="Mixed";}if(TVGOL.Page.params["oaff"]){TVGOL.services.Omniture.params["Campaign_Type"]="Affiliates";TVGOL.services.Omniture.params["Campaign_ID"]=TVGOL.Page.params["oaff"];}if(TVGOL.Page.params["ogoogid"]){TVGOL.services.Omniture.params["Campaign_Type"]="iGoogle";TVGOL.services.Omniture.params["Campaign_ID"]=TVGOL.Page.params["ogoogid"];}if(TVGOL.Page.params["osocid"]){TVGOL.services.Omniture.params["Campaign_Type"]="Social";TVGOL.services.Omniture.params["Campaign_ID"]=TVGOL.Page.params["osocid"];}if(TVGOL.Page.params["osyndid"]){TVGOL.services.Omniture.params["Campaign_Type"]="Syndication";TVGOL.services.Omniture.params["Campaign_ID"]=TVGOL.Page.params["osyndid"];}if(TVGOL.Page.params["oeid"]){TVGOL.services.Omniture.params["Campaign_Type"]="Email";TVGOL.services.Omniture.params["Campaign_ID"]=TVGOL.Page.params["oeid"];}if(TVGOL.Page.params["plt"]){TVGOL.services.Omniture.params["Campaign_Placement"]=TVGOL.Page.params["plt"];}if(TVGOL.Page.params["evn"]){TVGOL.services.Omniture.params["Campaign_Email_Version"]=TVGOL.Page.params["evn"];}if(TVGOL.Page.params["ept"]){TVGOL.services.Omniture.params["Campaign_Email_Location"]=TVGOL.Page.params["ept"];}TVGOL.services.Omniture.params["Page_Focus"]="Mixed";if(location.href.indexOf("tvshows")> 0){TVGOL.services.Omniture.params["Page_Focus"]="TV";}if(location.href.indexOf("movies")> 0){TVGOL.services.Omniture.params["Page_Focus"]="Movies";TVGOL.services.Omniture.params["Site_Section_Level_3"]="";}if(location.href.indexOf("sports")> 0){TVGOL.services.Omniture.params["Page_Focus"]="Sports";}if(TVGOL.services.Omniture.omniturize())TVGOL.Events.dispatchEvent("tvgol.omniture.contextualized");},omniturize: function(){if(s.contextData){if(s.linkTrackVars==="None")s.linkTrackVars="";for(var i in TVGOL.services.Omniture.params){s.contextData[i]=TVGOL.services.Omniture.params[i];if(s.linkTrackVars.length > 1)s.linkTrackVars+=",";s.linkTrackVars+="contextData."+i;}return true;}return false;},broadcast: function(options){var config={obj: true,type: "o",msg: "",data:{}};config=TVGOL.utilities.configure(config,options);var data="";if(config.data.length > 0){for(var i in config.data){data+=" "+config.data[i];}}var message=config.msg+data;TVGOL.services.Omniture.omniturize();try{s.tl(config.obj,config.type,message);}catch(err){TVGOL.Events.dispatchEvent(err);}},shout: function(params,options){try{for(var i in params){TVGOL.services.Omniture.params[i]=params[i];}TVGOL.services.Omniture.broadcast(options);TVGOL.services.Omniture.clear(params);TVGOL.Events.dispatchEvent("TVGOL.Omniture.Shout",JSON.stringify(params));return true;}catch(e){TVGOL.Events.dispatchEvent("TVGOL.Omniture.Shout.error",e);return false;}}},Disqus:{config:{disqus_developer: 1,disqus_title: 'Disqus Comments Test!',disqus_shortname: 'tvguideqa',disqus_identifier: 'disqustest',disqus_category_id: '1',disqus_url: ''},init: function(options){var config=TVGOL.utilities.configure(TVGOL.services.Disqus.config,options);window.disqus_developer=config.disqus_developer;window.disqus_title=TVGOL.services.Disqus.config.disqus_title=TVGOL.Page.meta["title"];if(config.streamID){if(config.streamID.indexOf("http")< 0){window.disqus_url=("http://"+window.location.hostname+config.streamID).replace("#","/").toLowerCase();}else{window.disqus_url=config.streamID.replace("#","/").toLowerCase();}}else{if(TVGOL.Page.meta["og:url"]){window.disqus_url=TVGOL.Page.meta["og:url"].replace("#","/").toLowerCase();}else{window.disqus_url=("http://"+window.location.hostname+window.location.pathname).replace("#","/").toLowerCase();}}var myComments=$(document.createElement("div")).attr("id","disqus_thread").appendTo($("#"+config.containerID));$.ajax({url: "http://"+window.disqus_shortname+".disqus.com/embed.js",dataType: "script",success: function(){TVGOL.Events.dispatchEvent("tvgol.services.Disqus.loaded");var disqusStyles=$("<link>");disqusStyles.attr({type: "text/css",rel: "stylesheet",href: "/Styles/disqus.css"});$("head").append(disqusStyles);}});TVGOL.Events.addListener("tvgol.services.Disqus.thread.loaded",function(){alert($("#dsq-num-posts").html());});TVGOL.services.Disqus.count();},count: function(){$("a[href*='#commentsDiv']").each(function(){var hostname=window.location.hostname;if(hostname=="localhost.tvguide.com"){hostname="qa-test.tvguide.com";}var href=$(this).attr("href");if(href==="#commentsDiv"){href=window.disqus_url.replace("localhost","qa-test").toLowerCase();}else{href="http://"+hostname+$(this).attr("href").replace("#commentsDiv","").replace("#","/").toLowerCase();}var disqus_href=href+"#disqus_thread";$(this).attr("href",disqus_href).addClass("comment-count");});$.ajax({url: "http://"+window.disqus_shortname+".disqus.com/count.js",dataType: "script",success: function(){TVGOL.Events.dispatchEvent("tvgol.services.Disqus.count.loaded");},error: function(){$("a.comment-count").each(function(){$(this).html("Leave a comment!");});}});TVGOL.services.Disqus.count=function(){return true;};return true;}},Gigya:{config:{APIKey: gigyaApiKey,enabledProviders: "facebook,twitter,yahoo,messenger,google,aol,MyAOL",forceAuthentication: true,facebookExtraPermissions: "publish_stream,email,user_birthday,user_interests,user_likes,read_friendlists,friends_interests,friends_likes"},SignOn:{config:{signIDs: true,showTermsLink: "false",height: 85,width: 330,containerID: "gigya",buttonsStyle: "fullLogo",autoDetectUserProviders: "",facepilePosition: "none",onLoad: function(){TVGOL.Events.dispatchEvent("GigyaSignOnLoaded");},onClose: function(){TVGOL.Events.dispatchEvent("GigyaSignOnClosed");},success: function(data){if(typeof data.result==="number"){switch(data.result){case 0: alert("Gigya authentication failed.");break;case 1: TVGOL.services.Gigya.SignOn.process(data);break;case 2: TVGOL.services.Gigya.SignOn.process(data);break;case 3: TVGOL.services.Gigya.SignOn.process(data);break;case 4: TVGOL.services.Gigya.SignOn.process(data);break;default: alert("Something's not quite right with "+TVGOL.User.profile.nickname+"...");break;}}else{alert("Something's gone horribly wrong.");}},error: function(e){TVGOL.utilities.log("!! ERROR: "+jQuery.parseJSON(e));}},process: function(data){if(TVGOL.User.profile.isSiteUID){TVGOL.services.Omniture.params["loggedin_user"]=TVGOL.User.profile.loginProvider||"Gigya";TVGOL.services.Omniture.params["loggedin_user_type"]="social";TVGOL.services.Omniture.broadcast({msg: "user: logged in"});}else{TVGOL.services.Omniture.params["registration_newuser"]=TVGOL.User.profile.loginProvider||"Gigya";TVGOL.services.Omniture.params["registration_newuser_type"]="social";TVGOL.services.Omniture.broadcast({msg: "user: registered"});}TVGOL.Events.dispatchEvent("GigyaLoggedIn","",data);return true;},drawLogin: function(options){var config=TVGOL.utilities.clone(TVGOL.services.Gigya.SignOn.config);config=TVGOL.utilities.configure(config,options);gigya.services.socialize.showLoginUI(TVGOL.services.Gigya.config,config);},init: function(options){var config=TVGOL.utilities.configure(TVGOL.services.Gigya.SignOn.config,options);gigya.services.socialize.addEventHandlers(TVGOL.services.Gigya.config,{onLogin: function(eventObj){TVGOL.User.profile=TVGOL.utilities.configure(TVGOL.User.profile,eventObj.user);px_amp_ValidateGigyaSignature(eventObj.user,config.success,config.error);},onLogout: function(eventObj){}});$(document).bind("reveal.facebox",function(){TVGOL.services.Gigya.SignOn.drawLogin(config);});},addConnections: function(options){var defaults={showTermsLink: false,height: "auto",width: 500,containerID: "componentDiv"};var config=TVGOL.utilities.configure(TVGOL.services.Gigya.SignOn.config,defaults);config=TVGOL.utilities.configure(TVGOL.services.Gigya.SignOn.config,options);gigya.services.socialize.showEditConnectionsUI(TVGOL.services.Gigya.config,config);},addConnection: function(options){var defaults={provider: "facebook",callback: function(){alert("Connected with Facebook!");}};var config=TVGOL.utilities.configure(TVGOL.services.Gigya.SignOn.config,defaults);config=TVGOL.utilities.configure(TVGOL.services.Gigya.SignOn.config,options);gigya.services.socialize.addConnection(TVGOL.services.Gigya.config,config);}},Commenting:{config:{categoryID: 23013729,streamID: "test",containerID: "commentsDiv",counterID: "commentcount",useSiteLogin: "true",onSiteLoginClicked: function(){jQuery.facebox({ajax: "/AMP/login.htm"});},onCommentSubmitted: function(eventObj){var counter=$("#commentsDiv-comments > div").length;$("#commentsDiv").attr("data-count",counter);TVGOL.services.Gigya.Commenting.displayCount({data:{count: counter}});},cid: ""},init: function(options){var config=TVGOL.utilities.configure(TVGOL.services.Gigya.Commenting.config,options);$("#"+config.containerID).attr("data-streamID",config.streamID);TVGOL.services.Disqus.init(config);TVGOL.Events.addListener("TVGLoggedIn",function(){location.reload(true);});$(document).bind("reveal.facebox",function(){$("#"+config.containerID).hide();});$(document).bind("close.facebox",function(){$("#"+config.containerID).show();});},displayCount: function(options){var config=TVGOL.utilities.clone(TVGOL.services.Gigya.Commenting.config);config=TVGOL.utilities.configure(config,options);switch(config.data.streamInfo.commentCount){case-1: $("#"+config.counterID).html("Leave a comment!");break;case 0: $("#"+config.counterID).html("Be the first to comment!");break;case 1: $("#"+config.counterID).html("1 comment");break;default: $("#"+config.counterID).html(config.data.streamInfo.commentCount+" comments");break;}},count: function(options){var config=TVGOL.utilities.clone(TVGOL.services.Gigya.Commenting.config);config=TVGOL.utilities.configure(config,options);if(config.container){config.context=$(config.container);}else{config.context=$("#"+config.containerID);}TVGOL.services.Disqus.count();}},Sharing:{config:{userAction:{},popup:{},showEmailButton: false,showMoreButton: true,moreDisabledProviders: "delicious,digg,friendfeed,googlebuzz,googlebookmarks,messenger,stumbleupon,vkontakte,livebookmarks,technorati,plaxo,slashdot,reddit,formspring,Tumblr,faves,newsvine,fark,mixx,Bitly,misterwong,ask,amazon,gmail,baidu,Boxnet,netlog,evernote,aolmail,propeller,currenttv,simpy,yardbarker,blinklist,diigo,sphinn,backflip,dropjack,segnalo,linkagogo,kaboodle,skimbit,Hyves,facebookshare,twitter,yahoobookmarks,linkedin,Myspace",cid: "",shortURLs: 'whenRequired',autoShareActionID: "watching",showNeverShare: true,showEmailButton: true},modifySharePopupStyles: function(eventObj){var $canvas=$(".gig-shareUI-actionCanvas");var $textarea=$(".gig-shareUI-actionCanvas textarea").detach();$canvas.empty().css({"font-size": "15px","font-weight": "bold","color": "#000","padding-left": "42px"});$canvas.append("<h4>"+eventObj.context.popup["title"]+"</h4>");$canvas.append("<p>"+eventObj.context.popup["description"]+"</p>");$canvas.find("strong").css("color","#C80007");$textarea.appendTo($canvas).css("height","60px");},setup: function(options){var config={linkBack: window.location.toString(),title: TVGOL.Page.meta.title,description: TVGOL.Page.meta.description,image: TVGOL.Page.meta["og:image"]};config=TVGOL.utilities.configure(config,options);var network=new gigya.services.socialize.UserAction();network.setLinkBack(config.linkBack);network.setTitle(config.title);network.setDescription(config.description);network.addMediaItem({type: "image",src: config.image,href: config.linkBack});return network;},show: function(options){var config=TVGOL.utilities.clone(TVGOL.services.Gigya.Sharing.config);config=TVGOL.utilities.configure(config,options);var actions=TVGOL.utilities.clone(config.userAction);config.userAction=TVGOL.services.Gigya.Sharing.setup(config.userAction);if(config["facebookUserAction"]){config.facebookUserAction=TVGOL.utilities.configure(actions,config.facebookUserAction);config.facebookUserAction=TVGOL.services.Gigya.Sharing.setup(config.facebookUserAction);}if(config["twitterUserAction"]){config.twitterUserAction=TVGOL.utilities.configure(actions,config.twitterUserAction);config.twitterUserAction=TVGOL.services.Gigya.Sharing.setup(config.twitterUserAction);}if(config["googleUserAction"]){config.googleUserAction=TVGOL.utilities.configure(actions,config.googleUserAction);config.googleUserAction=TVGOL.services.Gigya.Sharing.setup(config.googleUserAction);}if(config["yahooUserAction"]){config.yahooUserAction=TVGOL.utilities.configure(actions,config.yahooUserAction);config.yahooUserAction=TVGOL.services.Gigya.Sharing.setup(config.yahooUserAction);}if(config["messengerUserAction"]){config.messengerUserAction=TVGOL.utilities.configure(actions,config.messengerUserAction);config.messengerUserAction=TVGOL.services.Gigya.Sharing.setup(config.messengerUserAction);}config.context=config;gigya.services.socialize.showShareUI(TVGOL.services.Gigya.config,config);},init: function(options){var config={userAction:{title: TVGOL.Page.meta.title,description: TVGOL.Page.meta.description,image: TVGOL.Page.meta["og:image"]},popup:{title: TVGOL.Page.meta.title,description: TVGOL.Page.meta.description,image: TVGOL.Page.meta["og:image"]},onLoad: TVGOL.services.Gigya.Sharing.modifySharePopupStyles};config=TVGOL.utilities.configure(TVGOL.services.Gigya.Sharing.config,config);config=TVGOL.utilities.configure(config,options);TVGOL.Events.dispatchEvent("tvgol.gigya.sharing.initialized");TVGOL.services.Gigya.Sharing.init=function(){return true;};return true;}},UserSettings:{"get": function(options){var config=TVGOL.utilities.clone(TVGOL.services.Gigya.config);config.group="gigyaShareSettings";config.callback=function(response){if(response.settings)TVGOL.User.profile.settings=response.settings;TVGOL.Events.dispatchEvent("tvgol.gigya.usersettings.loaded",response);};config=TVGOL.utilities.configure(config,options);gigya.services.socialize.getUserSettings(config,config);},"set": function(options){var config=TVGOL.utilities.clone(TVGOL.services.Gigya.config);config.group="gigyaShareSettings";config.settings=TVGOL.User.profile.settings;config.callback=function(response){TVGOL.Events.dispatchEvent("tvgol.gigya.usersettings.updated",response);};config=TVGOL.utilities.configure(config,options);gigya.services.socialize.setUserSettings(config,config);}}}},User:{isLoggedIn: isLoggedInX,nonVerified: false,messaging:{"site":{"signup": "Sign up for TVGuide.com","signin": "Sign in to TVGuide.com"},"watchlist":{"signup": "Sign up for a Watchlist","signin": "Sign in to your Watchlist"},"addtowatchlist":{"signup": "Sign up to save this to your Watchlist","signin": "Sign in to save this to your Watchlist"},"comment":{"signup": "Sign up to comment","signin": "Sign in to comment"}},checkLogin: function(options){if(this.isLoggedIn)return true;var config={"header": TVGOL.User.messaging.site.signup,"message": "Already have an account? <a href='#LoginBox'>Sign in here</a>.","action": "site","signin": false};config=TVGOL.utilities.configure(config,options);if(config.action!=="site"){var message="";var version="signup";switch(config.action){case "watchlist": message="watchlist";break;case "addtowatchlist": message="addtowatchlist";break;case "comment": message="watchlist";version="signin";config.signin=true;config.action="comment";TVGOL.utilities.store("comment",config);break;default: break;}if(config.page!=="generic"&&TVGOL.User.messaging[message][config.page]){TVGOL.User.messaging[message]=TVGOL.User.messaging[message][config.page];}config.header=TVGOL.User.messaging[message][version];}if(config.signin){TVGOL.services.Omniture.shout({"login_trigger": config.action,"login_trigger_page": s.pageName||window.socialTitle},{msg: "user: sign in click"});}else{TVGOL.services.Omniture.shout({"registration_trigger": config.action,"registration_trigger_page": s.pageName||window.socialTitle},{msg: "user: sign up click"});}$(document).bind("reveal.facebox",function(){$("#LoginBox").attr("data-for",config.action);$("#LoginBox div.header h4").html(config.header);$("#LoginBox div.header p").html(config.message);if(config["signin"]){window.swapSignIn(config.action,true,false);}else{window.swapSignUp(config.action,true,false);}$("#facebox_overlay").unbind("click");$(document).unbind("reveal.facebox");});jQuery.facebox({ajax: "/AMP/login.htm"});return false;},Confirm: function(options){var confirm=false;var config={message: "Are you sure you want to do this?"};config=TVGOL.utilities.configure(config,options);var confirmBoxDiv="<div class='confirmcontainer' style='display:none'><div id='confirmbox' style='text-align: center;margin-top: 20px;margin-bottom: 20px;'>";confirmBoxDiv+="<span id='messeagetext'>"+config.message+"</span><br /><br />";confirmBoxDiv+="<span id='buttonsection'>";confirmBoxDiv+="<button id='yes-button' style='margin-right: 20px;background-color: #fff'>Yes</button><button id='no-button' style='background-color:#fff'>No</button></span>";confirmBoxDiv+="</div></div>";$('body').append(confirmBoxDiv);jQuery.facebox({div: '#confirmbox'});$(".confirmcontainer").remove();$.facebox.settings.opacity=0.6;},onGigyaLogin: function(e,data){var user=data.webUser;TVGOL.User.profile.name=user.DisplayName;TVGOL.User.profile.email=user.EmailAddress;TVGOL.User.profile.id=user.UserId;$(document).trigger('close.facebox');if(user.isEmailVerified){TVGOL.User.isLoggedIn=true;TVGOL.User.setup(true);}else{TVGOL.User.updateUserForm();}},onTVGLogin: function(e,data){TVGOL.User.setup(true);},setup: function(reload){setCookie("LastGrid","",-1);updateMultiLoginState();TVGOL.User.favorites.setFavorites();var addtowatchlist=TVGOL.utilities.retrieve("addtowatchlist");var easyadder=TVGOL.utilities.retrieve("easyadder");if(easyadder!=null){if(addtowatchlist!=null){easyadder.collection[addtowatchlist.objectID]=addtowatchlist;}TVGOL.Events.addListener("MultiAddedToFavorites",function(){TVGOL.User.favorites.setFavorites();window.location.reload();});TVGOL.User.favorites.multiadd(easyadder.collection);}else{if(addtowatchlist!=null){addtowatchlist.success=function(){TVGOL.User.favorites.setFavorites();window.location.reload();};TVGOL.User.favorites.add(addtowatchlist);}else{window.location.reload();}}if(window.location.href.indexOf("new-tonight")!="-1"){window.location.href="/new-tonight";}else{window.location.reload();}},onLogin: function(e,data){updateMultiLoginState();TVGOL.User.favorites.setFavorites();var addtowatchlist=TVGOL.storage.index["addtowatchlist"];var welcome=TVGOL.storage.index["welcome"];var comment=TVGOL.storage.index["comment"];if(addtowatchlist!=null){try{TVGOL.User.favorites.add(addtowatchlist);TVGOL.utilities.remove("welcome");TVGOL.utilities.remove("addtowatchlist");}catch(e){alert("There was a problem with your request: "+e);}}if(comment!=null){TVGOL.utilities.remove("comment");}TVGOL.services.Omniture.params["login"]=true;TVGOL.services.Omniture.omniturize();},Welcome: function(options){var config={"user": "notverified","header": "Thank you for signing up.","message": "<strong>Please check your email to verify your account!</strong>","detail": "","source": "tvgol"};config=TVGOL.utilities.configure(config,options);var addtowatchlist=TVGOL.storage.index["addtowatchlist"];var comment=TVGOL.storage.index["comment"];var welcome=TVGOL.storage.index["welcome"];if(config.user==="notverified"&&TVGOL.User.nonVerified){if(addtowatchlist!=null){config.detail="<strong>"+addtowatchlist["name"]+"</strong> will be waiting for you in your Watchlist.";}if(comment!=null){config.message="<strong>Please check your email to verify your account</strong><br/>and come back to comment anytime.";TVGOL.utilities.remove("comment");}welcome.user="newuser";TVGOL.utilities.store("welcome",welcome);}if(config.user==="newuser"&&config.source==="gigya"){if(addtowatchlist!=null){config.message="<strong>"+addtowatchlist["name"]+"</strong> has been added to your Watchlist.";config.detail="<a href='/watchlist'>Go to your Watchlist now and add more!</a>";}else{config.message="<strong>Did you know?</strong><br/>Watchlist is the best way to track when and where";config.message+="to watch your favorite shows,celebrities and sports teams-On TV,On Demand,Streaming or on DVD.";config.detail="<a href='/watchlist'>Set up a Watchlist now!</a>";}TVGOL.utilities.remove("welcome");}jQuery.facebox({ajax: "/AMP/welcome.htm"});$(document).bind("reveal.facebox",function(){$("#LoginBox div.header h4").html(config.header);$("#LoginBox div.welcome p").html(config.message);$(document.createElement("p")).html(config.detail).appendTo("#LoginBox div.welcome");$(document).unbind("reveal.facebox");});},Register: function(e,data){try{px_amp_ValidateGigyaSignature(data.User,function(){return true;},function(){alert("There's been some kind of mistake!");return false;});}catch(err){alert("Error: "+err);}},updateUserForm: function(){$("#gigyaEmail").val(TVGOL.User.profile.email);$("#gigyaFirstName").val(TVGOL.User.profile.firstName);$("#gigyaLastName").val(TVGOL.User.profile.lastName);$("#gigyaDisplayName").val(TVGOL.User.profile.nickname);$("#gigyaRegion").val(TVGOL.User.profile.zip);$("#gigyaPhotoUrl").val(TVGOL.User.profile.photoURL);$("#gigyaProviderUid").val(TVGOL.User.profile.loginProviderUID);$("#gigyaProvider").val(TVGOL.User.profile.loginProvider);$("#gigyaBirthYear").val(TVGOL.User.profile.birthYear);$("#gigyaBirthMonth").val(TVGOL.User.profile.birthMonth);$("#gigyaBirthDay").val(TVGOL.User.profile.birthDay);$("#gigyaUid").val(TVGOL.User.profile.UID);},onLogout: function(){TVGOL.User.favorites.setFavorites();},config:{containerID: "gigya",cookie:{name: "MasterBlaster",value: "Runs Bartertown!"}},profile:{name: loggedinUserName,firstName: loggedinFirstName,lastName: "",id: loggedinUserId,email: loggedinUserEmail,provider: "",providerUID: "",region: "",photoURL: "",birthYear: 2001,birthMonth: 01,birthDay: 01,settings:{}},getDisplayName: function(){if(loggedinFirstName===""){return loggedinUserName;}else{return loggedinFirstName;}},favorites:{list: "",last:{objectID: null},add: function(options,override){var config={header: TVGOL.User.messaging["addtowatchlist"].signup,message: "Already have an account? <a href='#LoginBox'>Sign in here</a>.",action: "addtowatchlist",confirm: false,objectID: TVGOL.Page.id,favType: TVGOL.Page.type,name: TVGOL.Page.meta["og:title"],page: "generic",ref: "generic",success: function(){TVGOL.User.favorites.updateList(config);TVGOL.User.favorites.setFavorites();TVGOL.utilities.remove("addtowatchlist");TVGOL.Events.dispatchEvent("AddedToFavorites",config);},error: function(){TVGOL.utilities.remove(config.action);TVGOL.Events.dispatchEvent("AddToFavoritesError",config);}};var config=TVGOL.utilities.configure(config,options);if(TVGOL.User.isLoggedIn&&TVGOL.User.favorites.isFavorite({"objectID": config.objectID})){window.location.href='/watchlist';return false;}var storage=TVGOL.utilities.clone(config);if(storage.elem)storage.elem=null;TVGOL.utilities.store(storage.action,storage);TVGOL.Page.params["redirecturl"]=window.location.href;if((override||TVGOL.User.checkLogin(config))&&!TVGOL.User.favorites.isFavorite({"objectID": config.objectID})){px_amp_AddFavorite(config.objectID,config.favType,config.success,config.error);return true;}else{return false;}},multiadd: function(collection){TVGOL.utilities.log("Favorites Multi-Add engaged!");for(var i in collection){TVGOL.User.favorites.last.objectID=collection[i].objectID;}TVGOL.Events.addListener("AddedToFavorites",function(data){if(data.objectID==TVGOL.User.favorites.last.objectID){TVGOL.Events.dispatchEvent("MultiAddedToFavorites","done");}});for(var i in collection){if(collection[i]==null){TVGOL.utilities.log("*Found null!");continue;}else{TVGOL.utilities.log("*Favorites Multi-Adding "+collection[i].name+"!");TVGOL.User.favorites.add(collection[i],true);}}},remove: function(options){var config={objectID: TVGOL.Page.id,success: function(){TVGOL.User.favorites.updateList(config);TVGOL.Events.dispatchEvent("RemovedFromFavorites",config);},error: function(){TVGOL.Events.dispatchEvent("RemoveFromFavoritesError",config);}};var config=TVGOL.utilities.configure(config,options);px_amp_RemoveFavorite(config.objectID,config.success,config.error);},isFavorite: function(options){if(!TVGOL.User.isLoggedIn){return false;}var config={list: TVGOL.User.favorites.list,objectID: TVGOL.Page.id,listStatus: false};var config=TVGOL.utilities.configure(config,options);var favoriteList=[];if(config.list.length > 0){var favoriteList=config.list.split("|");for(i=0;i < favoriteList.length;i++){if(config.objectID==favoriteList[i]){config.listStatus=true;break;}}}return config.listStatus;},updateList: function(options){var config={list: TVGOL.User.favorites.list,objectID: TVGOL.Page.id};var config=TVGOL.utilities.configure(config,options);var favoriteList=[];if(config.list.length > 0){var favoriteList=config.list.split("|");}if(TVGOL.User.favorites.isFavorite(config)){for(var i in favoriteList){if(config.objectID===favoriteList[i]){favoriteList.splice(i,1);break;}}}else{favoriteList.push(config.objectID);}TVGOL.User.favorites.list=favoriteList.join("|");},setFavorites: function(options){var config={button: "#ajax-favorite-status",link: " a"};var config=TVGOL.utilities.configure(config,options);$(config.button).html("<a></a>");if(TVGOL.User.isLoggedIn){if(TVGOL.User.favorites.isFavorite(TVGOL.User.favorites.list)){TVGOL.User.favorites.setButton({buttonlinkObj: config.button+config.link});}else{TVGOL.User.favorites.setButton({enable: true,buttonlinkObj: config.button+config.link});}}else{TVGOL.User.favorites.setButton({enable: true,buttonlinkObj: config.button+config.link});}},setButton: function(options){var config={enable: false,buttonlinkObj: ""};var config=TVGOL.utilities.configure(config,options);if(config.enable){$(config.buttonlinkObj).attr({"href": "javascript:void(0);"}).removeClass("added").text("Add to Watchlist").bind("click",function(){TVGOL.User.favorites.add();});}else{var faveUrl=WWWBaseUrl+"/Watchlist";$(config.buttonlinkObj).attr({"href": faveUrl}).addClass("added").text("In Your Watchlist").unbind("click");}}},authenticate: function(options){},init: function(options){var config=TVGOL.utilities.configure(TVGOL.User.config,options);try{gigya.services.socialize.getUserInfo({callback: function(response){if(response.errorCode==0){if(!(TVGOL.User.isLoggedIn)&&response.user.isLoggedIn){gigya.services.socialize.logout({callback: function(response){if(response.errorCode==0){TVGOL.Events.dispatchEvent("tvgol.services.gigya.forced-logoff");}else{TVGOL.Events.dispatchEvent("tvgol.services.gigya.forced-logoff-error");}}});}}else{TVGOL.Events.dispatchEvent("tvgol.services.gigya.error-"+response.errorCode);}TVGOL.services.Gigya.SignOn.init(config);}});}catch(e){TVGOL.Events.dispatchEvent("tvgol.services.gigya.error: "+e);}TVGOL.storage.index["addtowatchlist"]=TVGOL.utilities.retrieve("addtowatchlist");TVGOL.storage.index["comment"]=TVGOL.utilities.retrieve("comment");TVGOL.storage.index["easyadder"]=TVGOL.utilities.retrieve("easyadder");TVGOL.storage.index["user"]=TVGOL.utilities.retrieve("user");TVGOL.storage.index["welcome"]=TVGOL.utilities.retrieve("welcome");if(!TVGOL.User.isLoggedIn&&TVGOL.storage.index["user"]!=null){TVGOL.User.profile.id=TVGOL.storage.index["user"].WebUser.User.UserId;TVGOL.User.nonVerified=true;}TVGOL.Events.addListener("loggedIn",TVGOL.User.onLogin);TVGOL.Events.addListener("TVGLoggedIn",TVGOL.User.onTVGLogin);TVGOL.Events.addListener("GigyaLoggedIn",TVGOL.User.onGigyaLogin);TVGOL.Events.addListener("newUser",TVGOL.User.Register);TVGOL.Events.addListener("loggedOut",TVGOL.User.onLogout);TVGOL.Events.addListener("AddedToFavorites",TVGOL.User.favorites.setButton);$(document).bind("init.facebox",function(){TVGOL.Events.dispatchEvent("tvgol.plugins.facebox.loaded");$("div.ghead-userlinks-loginout").show();$("a[rel='login']").unbind("click").live("click",function(event){event.preventDefault();var config={"signin": true,"action": "site"};if(typeof $(this).attr("data-login")!=="undefined"){config.action=$(this).attr("data-login");}else{if($(this).parents().find("#disqus_thread").length > 0){config.action="comment";}}if($(this).attr("data-signin")&&$(this).attr("data-signin")==="false"){config.signin=false;}else{config["message"]="Don't have an account? <a href='#Register'>Sign up here</a>.";}TVGOL.User.checkLogin(config);return false;});$("a[rel='logout']").unbind("click").live("click",function(){var indices=["addtowatchlist","comment","easyadder","user","welcome"];for(var i in indices){try{TVGOL.utilities.remove(indices[i]);}catch(e){continue;}}return true;});$("a[rel='register']").unbind("click").live("click",function(event){event.preventDefault();TVGOL.User.checkLogin({"signin": false,"message": ""});return false;});$("a[rel='localize']").live("click",function(event){event.preventDefault();jQuery.facebox({ajax: "/listings/setup/localizer.htm"});return false;});});if(TVGOL.User.isLoggedIn){TVGOL.Events.dispatchEvent("loggedIn");}else{TVGOL.Events.dispatchEvent("loggedOut");}TVGOL.User.init=function(){return true;};return true;}},Events:{broadcaster:(new EventBroadcaster()),addListener: function(event,method,scope){return this.broadcaster.addListener(event,method,scope);},removeAllListeners: function(eventStr){return this.broadcaster.removeAllListeners(eventStr);},dispatchEvent: function(eventStr,eventObj,args){TVGOL.Page.events[eventStr]=eventObj||args||true;TVGOL.utilities.log("!! EVENT: "+eventStr);var eventArgs=eventStr.replace('tvgol.','').replace('-','.').split('.');for(var i=0;i < eventArgs.length;i++){eventArgs[i]=eventArgs[i].charAt(0).toUpperCase()+eventArgs[i].slice(1);}var jEvent=eventArgs.join('');$(document).trigger(jEvent,eventObj,args);return this.broadcaster.dispatchEvent(eventStr,eventObj,args);}}};}(jQuery));TVGOL.Events.addListener("tvgol.content.loaded",function(){TVGOL.Global.init();});TVGOL.Events.addListener("tvgol.google+.vote",function(data){TVGOL.services.Omniture.params["google+_vote"]=true;TVGOL.services.Omniture.omniturize();TVGOL.services.Omniture.broadcast({msg: "google+: vote",data:{state: data.state}});});TVGOL.Events.addListener("tvgol.facebook.like",function(data){TVGOL.services.Omniture.params["facebook_like"]=true;TVGOL.services.Omniture.omniturize();TVGOL.services.Omniture.broadcast({msg: "facebook: like"});});TVGOL.Events.addListener("tvgol.twitter.tweet",function(){TVGOL.services.Omniture.params["twitter_tweet"]=true;TVGOL.services.Omniture.omniturize();TVGOL.services.Omniture.broadcast({msg: "twitter: tweet"});});TVGOL.Events.addListener("AddedToFavorites",function(data){if(!s.events||s.events.length < 1)s.events="event27";else s.events+=",event27";TVGOL.services.Omniture.params["watchlist_add"]=true;TVGOL.services.Omniture.params["watchlist_objID"]=data.objectID;TVGOL.services.Omniture.broadcast({msg: "watchlist: add click",data:{obj: data.objectID}});});TVGOL.Events.addListener("tvgol.checkin.add",function(data){if(!s.events||s.events.length < 1)s.events="event22";else s.events+=",event22";TVGOL.services.Omniture.params["checkin_add"]=true;TVGOL.services.Omniture.params["checkin_objID"]=data["id"];TVGOL.services.Omniture.params["checkin_proID"]=data["prog"];TVGOL.services.Omniture.broadcast({msg: "checkin: add click",data: data});});var disqus_developer=0;var disqus_title="Disqus Comments Test!";var disqus_url=window.location.href;var disqusTimer;function Disqusting(){if($("#dsq-reply").length > 0){if($("#dsq-reply p").length < 1){$("#dsq-reply div.dsq-avatar").hide();$("#dsq-reply div.dsq-textarea").hide();$("#dsq-account-dropdown").html("<a rel='login' href='/AMP/Login.aspx'>Login</a>");$("#dsq-reply").append("<p>Please <a rel='login' href='/AMP/Login.aspx'><strong>login</strong></a> to comment.</p>");}clearTimeout(disqusTimer);}else{disqusTimer=setTimeout("Disqusting()",1000);}}TVGOL.Events.addListener("tvgol.services.Disqus.loaded",function(){if(!TVGOL.User.isLoggedIn){Disqusting();}});TVGOL.Events.addListener("tvgol.page.error",function(error){setCookie("error",error.message,1);setCookie("error_url",error.url,1);setCookie("error_line",error.line,1);TVGOL.Events.dispatchEvent("tvgol.page.error.handled");});$(document).ready(function(){TVGOL.Global.init();TVGOL.services.Facebook.init();TVGOL.services.Twitter.init();try{TVGOL.services.Meebo.init();}catch(e){}if($("a[href*='#commentsDiv']").length > 0&&$("#commentsDiv").length < 1){TVGOL.services.Disqus.count();}if($("*[class~='tooltip']").length > 0){$.ajax({url: "/script/plugins/tooltips.js",dataType: "script",success: function(){TVGOL.plugins.tooltips.init();TVGOL.Events.dispatchEvent("tvgol.plugins.tooltips.init");}});}TVGOL.Events.dispatchEvent("tvgol.page.loaded");if(TVGOL.Page.meta["PageType"]){$.ajax({url: "/script/controllers/ads.js",dataType: "script",success: function(){TVGOL.Events.dispatchEvent("tvgol.controllers.ads.loaded");}});}});window.fbAsyncInit=function(){FB.init({appId: "63084645929",channelUrl: '//www.tvguide.com/channel.html',status: true,cookie: true,xfbml: true});FB.Event.subscribe("edge.create",function(href,widget){var data={"href": href,"widget": widget};TVGOL.Events.dispatchEvent("tvgol.facebook.like",data);});window.fbInitDone=true;TVGOL.Events.dispatchEvent("tvgol.facebook.init");};$("img").error(function(){$(this).unbind("error").attr("src","http://www.tvguide.com/images/badges/tvguide_badge.gif");});
var ampProxy=null;var ajaxUrl='/Proxies/ampClientProxy.svc/';ampProxy=new serviceProxy(ajaxUrl);function px_amp_createAmpProxy(ajaxUrl){ampProxy=new serviceProxy(ajaxUrl);}function px_amp_isValidUserName(userName,succeededCallback,errorCallback,sync){var data={userName: userName};if(sync){ampProxy.invoke("IsValidUserName",data,succeededCallback,errorCallback,false,true);}else{ampProxy.invoke("IsValidUserName",data,succeededCallback,errorCallback);}}function px_amp_isValidEmail(emailAddress,succeededCallback,errorCallback,sync){var data={emailAddress: emailAddress};if(sync){ampProxy.invoke("IsValidEmailAddress",data,succeededCallback,errorCallback,false,true);}else{ampProxy.invoke("IsValidEmailAddress",data,succeededCallback,errorCallback);}}function px_amp_IsValidPassword(password,succeededCallback,errorCallback,sync){var data={password: password};if(sync){ampProxy.invoke("IsValidPassword",data,succeededCallback,errorCallback,false,true);}else{ampProxy.invoke("IsValidPassword",data,succeededCallback,errorCallback);}}function px_amp_Login(userLoginRequest,succeededCallback,errorCallback){var data={webUserLoginRequest: userLoginRequest};ampProxy.invoke("Authenticate",data,succeededCallback,errorCallback);}function px_amp_AddFavorite(tvobjectId,favType,succeededCallback,errorCallback){var data=null;if(TVGOL.User.isLoggedIn){data={tvobjectId: tvobjectId,favoriteType: favType,userId: 0};}else if(TVGOL.User.profile.id > 0){data={tvobjectId: tvobjectId,favoriteType: favType,userId: TVGOL.User.profile.id};}if(data!=null){ampProxy.invoke("AddFavorite",data,succeededCallback,errorCallback);}}function px_amp_RemoveFavorite(tvobjectId,succeededCallback,errorCallback){var data=null;if(TVGOL.User.isLoggedIn){data={tvobjectId: tvobjectId,userId: 0};}else{data={tvobjectId: tvobjectId,userId: TVGOL.User.profile.id};}if(data!=null){ampProxy.invoke("RemoveFavorite",data,succeededCallback,errorCallback);}}function px_amp_ValidateGigyaSignature(gigyaUserObj,succeededCallback,errorCallback){var data={gigyaUserObject: gigyaUserObj};ampProxy.invoke("ValidateGigyaSignature",data,succeededCallback,errorCallback);}function px_amp_RegisterSiteUser(displayName,emailAddress,password,succeededCallback,errorCallback){var data={displayName: displayName,emailAddress : emailAddress,password :password};ampProxy.invoke("RegisterSiteUser",data,succeededCallback,errorCallback);}function px_amp_Logout(succeededCallback,errorCallback){var data={};ampProxy.invoke("Logout",data,succeededCallback,errorCallback);}function px_amp_GetLoggedInUser(succeededCallback,errorCallback){var data={};ampProxy.invoke("GetLoggedInUser",data,succeededCallback,errorCallback);}function px_amp_GetFavorites(succeededCallback,errorCallback){var data={};ampProxy.invoke("GetFavorites",data,succeededCallback,errorCallback,false,true);}function px_amp_SendVerificationEmail(userId,succeededCallback,errorCallback){var data={userId : userId};ampProxy.invoke("SendVerificationEmail",data,succeededCallback,errorCallback,false,true);}function px_amp_SetChannelFavorites(serviceId,channelFavorites,succeededCallback,errorCallback){var data={serviceId: serviceId,channelFavorites: channelFavorites};ampProxy.invoke("SetChannelFavorites",data,succeededCallback,errorCallback,false,true);}var AuthenticationResult={AuthenticationFailed: 0,Authenticated: 1,NotRegistered: 2,NotVerified: 3,AuthenticatedButBanned: 4};var ValidationResult={NotValid: 0,AlreadyExists: 1,Valid: 2};var FavoriteType={TVShow: 1,Movie: 2,Celebrity: 3,SportsTeam:4};
var webUserLoginRequest=null;var webUserRegistrationRequest=null;var isFBCAuthenticated;var px_amp_ajaxUrl='/Proxies/AMPClientProxy.svc/';function buildUserLoginRequest(userEmail,userPassword,keep){var KeepLoggedinForever=keep ? true : false;var email=$(userEmail).val();var password=$(userEmail).val();var errors=0;if(email.length < 1){$(userEmail).attr("data-error","blank").parent().addClass("error");errors++;}if(password.length < 1){$(userPassword).attr("data-error","blank").parent().addClass("error");errors++;}if(errors > 0){displayError({"message": "Please fill out all fields.",obj: $("#LoginBox dl.tvguide li.options p")});return false;}webUserLoginRequest=new Object();webUserLoginRequest.EmailAddress=email;webUserLoginRequest.Password=password;webUserLoginRequest.KeepLoggedInForever=KeepLoggedinForever;return true;}function validateRegistration(arrFields){var validEmail=false;var validPassword=false;var validUserName=false;if(arrFields.length > 0){validEmail=regEmailVal(arrFields[0],true);validUserName=regUserNameVal(arrFields[1],true);validPassword=regPasswordVal(arrFields[2],true);}if(validEmail==true&&validPassword==true&&validUserName==true){return true;}return false;}function clearErrors(){$("#regError").hide();$("#regError").html("");}function login_PageLoad(){if(typeof(ampProxy)!='undefined'&&ampProxy==null)px_amp_createAmpProxy(px_amp_ajaxUrl);}function registration_PageLoad(){var theCookie=null;if(typeof(ampProxy)!='undefined'&&ampProxy==null)px_amp_createAmpProxy(px_amp_ajaxUrl);}function submitUserLogin(userEmail,userPassword,keep,errorBox){var KeepLoggedinForever=keep ? true : false;var email=$(userEmail).val();var password=$(userPassword).val();var errors=0;var message="Please fill out all fields.";var msgBox=errorBox||"#LoginBox dl.tvguide li.options p";var form={"email": userEmail,"password": userPassword,"keep": keep,"msgBox": $(msgBox)};var checkEmail=function(email){var ret=false;px_amp_isValidEmail(email,function(results){switch(results){case ValidationResult.AlreadyExists: ret=true;break;default: ret=false;break;}},function(){ret=false;},true);return ret;};if(email.length < 1){$(userEmail).attr("data-error","blank").parent().addClass("error");errors++;}else{if(!checkEmail(email)){$(userEmail).attr("data-error","invalid").parent().addClass("error");message="This email address does not exist in our system.";errors++;}}if(password.length < 1){$(userPassword).attr("data-error","blank").parent().addClass("error");errors++;}if(errors > 0){TVGOL.Events.dispatchEvent("tvgol.signin.fail",form);displayError({"message": message,obj: $(msgBox)});return false;}webUserLoginRequest=new Object();webUserLoginRequest.EmailAddress=email;webUserLoginRequest.Password=password;webUserLoginRequest.KeepLoggedInForever=KeepLoggedinForever;px_amp_Login(webUserLoginRequest,function(results){TVGOL.Events.dispatchEvent("tvgol.user.login",results,form);},true);}function submitLogin1_Completed(results,context,methodName){var resultStruct=results;var usrObj=null;if(resultStruct.IsLoggedIn){usrObj=resultStruct.WebUser.User;TVGOL.User.isLoggedIn=true;TVGOL.User.profile.name=usrObj.DisplayName;TVGOL.User.profile.email=usrObj.EmailAddress;TVGOL.User.profile.id=usrObj.UserId;return "loggedin";}else{switch(resultStruct.LoginResult){case AuthenticationResult.NotVerified: var usrId=resultStruct.WebUser.User.UserId;return "unverified";break;case AuthenticationResult.NotRegistered: return "unregistered";break;case AuthenticationResult.AuthenticationFailed: return "failed";break;default: break;}}}function validateEmail(){var email=$("#regEmail").val();if(email.length==0)return;clearErrors();px_map_checkEmailUniqueness(email,validateEmailCompleted);}function validateEmailCompleted(results,context,methodName){if(results==false){$("#regError").html("The email address you have entered is already in use.");$("#regError").show();$("#regEmail").focus();}else{clearErrors();}}function validatePassword(email,password){var userName=$(email).val();var password=$(password).val();if(userName.length > 0){if(password.length==0){$(password).attr("data-error","blank");return false;}else{var ret=false;px_map_checkPassword(password,function(){if(results==false){$(password).attr("data-error","invalid");return false;}else{ret=true;}},true);return ret;}}}function validatePasswordCompleted(results,context,methodName){if(results==false){$("#regError").html("The password is not acceptable.");$("#regError").show();$("#regPassword").focus();}else{clearErrors();}}function validateUsername(){$("#regError").hide();var userName=$("#regUserName").val();if(userName.length==0)return;px_map_checkUserName(userName,validateEmailAddressCompleted);}function isEmailAddressValid(obj){var email=$(obj).val();if(email.length==0){$(obj).attr("data-error","blank");return false;}var ret=false;px_amp_isValidEmail(email,function(results){switch(results){case ValidationResult.AlreadyExists: $field.attr("data-error","exists");ret=false;break;case ValidationResult.NotValid: $field.attr("data-error","invalid");ret=false;break;default: clearErrors();$field.removeAttr("data-error");ret=true;break;}},function(){ret=false;},true);return ret;}function validateEmailAddressCompleted(results,context,methodName){switch(results){case ValidationResult.Valid: $("#regError").html("The specified email address does not exist. Please register this Email Address.");$("#regError").show();$("#regEmailAddress").focus();break;case ValidationResult.NotValid: $("#regError").html("This email address is inappropriate.");$("#regError").show();$("#regEmailAddress").focus();break;default: clearErrors();break;}}function verifyUsernameExists(){$("#regError").hide();var userName=$("#regUserName").val();if(userName.length==0)return;px_map_checkUserName(userName,verifyUsernameExistsCompleted);}function verifyUsernameExistsCompleted(results,context,methodName){if(results!=CheckUserNameResult.NotUnique){$("#regError").html("The specified username does not exist. Please register this username.");$("#regError").show();$("#regUserName").focus();}else{clearErrors();}}function regUserNameVal(field){$("#regUserNameError").hide();var $field=$("#"+field);var userName=document.getElementById(field).value;if(userName.length==0){$field.attr("data-error","blank");$("#regUserNameError").html("The display name cannot be blank");$("#regUserNameError").show();return false;}var myRegExp=/^[0-9a-zA-Z._\-s' ']+$/;if(!userName.match(myRegExp)){$field.attr("data-error","invalid");$("#regUserNameError").html("The display name has some invalid characters");$("#regUserNameError").show();return false;}var ret=false;px_amp_isValidUserName(userName,function(results){switch(results){case ValidationResult.AlreadyExists: $field.attr("data-error","exists");ret=false;break;case ValidationResult.NotValid: $field.attr("data-error","invalid");ret=false;break;default: clearErrors();$field.removeAttr("data-error");ret=true;break;}},function(){ret=false;},true);return ret;}function regEmailVal(field){var $field=$("#"+field);var email=document.getElementById(field).value;if(email.length==0){$field.attr("data-error","blank");return false;}var ret=false;px_amp_isValidEmail(email,function(results){switch(results){case ValidationResult.AlreadyExists: $field.attr("data-error","exists");ret=false;break;case ValidationResult.NotValid: $field.attr("data-error","invalid");ret=false;break;default: clearErrors();$field.removeAttr("data-error");ret=true;break;}},function(){ret=false;},true);return ret;}function regPasswordVal(field){var $field=$("#"+field);$("#regPasswordError").hide();var pwd=document.getElementById(field).value;if(pwd.length==0){$field.attr("data-error","blank");$("#regPasswordError").html("Password cannot be blank");$("#regPasswordError").show();return false;}var ret=false;px_amp_IsValidPassword(pwd,function(results){switch(results){case ValidationResult.NotValid: $field.attr("data-error","invalid");ret=false;break;default: clearErrors();$field.removeAttr("data-error");ret=true;break;}},function(){return false;},true);return ret;}function initializeEnterKeySubmit(textBoxId,submitButtonId){$('#'+textBoxId).keydown(function(event){if(event.keyCode=='13'){$('#'+textBoxId).blur();$('#'+submitButtonId).click();;}});}function updateControls(wucIndex){var multi_login_username=document.getElementById("multi_login_username_"+wucIndex);var multi_login_info=document.getElementById("multi_login_info_"+wucIndex);if(TVGOL.User.isLoggedIn){toggleLogin(wucIndex,1);$(multi_login_username).html("Welcome,&nbsp;"+TVGOL.User.getDisplayName());$(multi_login_username).attr("class","ghead-userlinks-welcome-map");$(multi_login_username).show().css("display","inline");}else{toggleLogin(wucIndex,0);}}function toggleLogin(wucIndex,displayType){switch(displayType){case 0: $("#mls_login_"+wucIndex).show();$("#mls_logout_"+wucIndex).hide();$("#mls_reg_"+wucIndex).show();$("#mls_profile_"+wucIndex).hide();break;case 1: $("#mls_login_"+wucIndex).hide();$("#mls_logout_"+wucIndex).show();$("#mls_reg_"+wucIndex).hide();$("#mls_profile_"+wucIndex).show();break;default: $("#mls_login_"+wucIndex).hide();$("#mls_logout_"+wucIndex).hide();$("#mls_reg_"+wucIndex).hide();$("#mls_profile_"+wucIndex).hide();break;}}function updateMultiLoginState(){if(TVGOL.User.isLoggedIn){px_amp_GetFavorites(function(results){;TVGOL.User.favorites.list=results;});}updateControls(0);}function logout(){TVGOL.Events.dispatchEvent("loggedOut");window.location.href=WWWBaseUrl+'/AMP/Action.aspx?action=logout&returnUrl='+document.location.href;}function sendVerificationEmail(userId){px_amp_SendVerificationEmail(userId,function(results){$("#resendemail").html("A Verification email has been sent to you");},function(){});}function setChannelFavorites(serviceId,channelFavorites){if(TVGOL.User.isLoggedIn){px_amp_SetChannelFavorites(serviceId,channelFavorites,function(results){},function(){});}}function xmlHttpObjLaunch(xmlHttpObj,strUrl){if(xmlHttpObj!=null){xmlHttpObj.open("GET",strUrl,true);xmlHttpObj.send(null);}}var fixStupidGigyaTable=function(){$("#gigya").find("center").each(function(){$(this).appendTo($("dl.gigya dd"));});$("#gigya").remove();window.fixStupidGigyaTable=function(){return true;};return true;};var signin=function(){$("#LoginBox div.sign-up").slideUp(400,function(){$("#LoginBox div.sign-in").slideDown(400,function(){window.swapSignIn($("#LoginBox").attr("data-for"),false);});});return false;};var signup=function(){$("#LoginBox div.sign-in").slideUp(400,function(){window.swapSignUp($("#LoginBox").attr("data-for"));$("#LoginBox div.sign-up").slideDown(400,function(){window.swapSignUp($("#LoginBox").attr("data-for"),false);});});return false;};var swapSignIn=function(type,swap,shout){var header=$("#LoginBox div.header h4").html();if(swap!==false){$("#LoginBox div.sign-up").hide();$("#LoginBox div.sign-in").show();}$("#LoginBox div.header h4").html(TVGOL.User.messaging[type].signin);$("#LoginBox div.header p").html("Don't have an account? <a href='#Register' onclick='signup();return false;'>Sign up here</a>.");if(typeof shout==="boolean"&&shout==false){return true;}else{TVGOL.services.Omniture.shout({"login_trigger": "sign up window"},{msg: "user: triggered sign in"});return true;}};var swapSignUp=function(type,swap,shout){var header=$("#LoginBox div.header h4").html();if(swap!==false){$("#LoginBox div.sign-in").hide();$("#LoginBox div.sign-up").show();}$("#LoginBox div.header h4").html(TVGOL.User.messaging[type].signup);$("#LoginBox div.header p").html("Already have an account? <a href='#LoginBox' onclick='signin();return false;'>Sign in here</a>.");if(typeof shout==="boolean"&&shout==false){return true;}else{TVGOL.services.Omniture.shout({"registration_trigger": "sign in window"},{msg: "user: triggered registration"});}};var success=function(data){switch(data.LoginResult){case 0: displayError({"message": "Authentication failed. Sorry."});return false;break;case 2: displayError({"message": "There seems to be an error with your registration."});return false;break;case 3: TVGOL.services.Omniture.params["registration_newuser"]="tvgol";TVGOL.services.Omniture.params["registration_newuser_type"]="site";TVGOL.Events.dispatchEvent("tvgol.user.registered",data);break;case 4: displayError({"message": "There is a problem with your registration."});return false;break;default: TVGOL.services.Omniture.params["registration_newuser"]="tvgol";TVGOL.services.Omniture.params["registration_newuser_type"]="site";TVGOL.Events.dispatchEvent("tvgol.user.registered",data);break;}};var failure=function(data){return false;};var displayError=function(options){var config={message: "Nothing to see here,please move on!",obj: $("#Register li.options p")};config=TVGOL.utilities.configure(config,options);if(config.obj.css("display")==="block"){config.obj.slideUp(400,function(){config.obj.find("strong").html(config.message);config.obj.slideDown(400);});}else{config.obj.find("strong").html(config.message);config.obj.slideDown(400);}};var resendConfirmation=function(){if(TVGOL.User.profile.id&&TVGOL.User.profile.id!=null){px_amp_SendVerificationEmail(TVGOL.User.profile.id,function(results){displayError({"message": "A Verification email has been sent to you",obj: $("#LoginBox dl.tvguide li.options p")});},function(){displayError({"message": "There was a problem sending the email to you.",obj: $("#LoginBox dl.tvguide li.options p")});});}};TVGOL.Events.addListener("tvgol.user.registered",function(data){TVGOL.utilities.store("user",data);TVGOL.User.profile.id=data.WebUser.User.UserId;$(document).trigger("close.facebox");var addtowatchlist=TVGOL.utilities.retrieve("addtowatchlist");var easyadder=TVGOL.utilities.retrieve("easyadder");if(easyadder!=null){if(addtowatchlist!=null){easyadder.collection[addtowatchlist.objectID]=addtowatchlist;}TVGOL.Events.addListener("MultiAddedToFavorites",function(){TVGOL.User.favorites.setFavorites();data.isLoggedIn=true;TVGOL.Events.dispatchEvent("tvgol.user.login",data);});TVGOL.User.favorites.multiadd(easyadder.collection);}else{if(addtowatchlist!=null){addtowatchlist.success=function(){TVGOL.User.favorites.setFavorites();data.isLoggedIn=true;TVGOL.Events.dispatchEvent("tvgol.user.login",data);};TVGOL.User.favorites.add(addtowatchlist,true);}else{data.isLoggedIn=true;TVGOL.Events.dispatchEvent("tvgol.user.login",data);}}});TVGOL.Events.addListener("tvgol.user.login",function(results,form){if(results.WebUser!=null&&results.WebUser.User!=null){var usrObj=results.WebUser.User;TVGOL.utilities.store("user",results);TVGOL.User.profile.name=usrObj.DisplayName;TVGOL.User.profile.email=usrObj.EmailAddress;TVGOL.User.profile.id=usrObj.UserId;}if(results.IsLoggedIn){TVGOL.User.isLoggedIn=true;TVGOL.services.Omniture.broadcast({msg: "user: logged in"});TVGOL.services.Omniture.clear(["registration_trigger","registration_trigger_page","registration_newuser","registration_newuser_type"]);TVGOL.Events.dispatchEvent("TVGLoggedIn");$(document).trigger('close.facebox');}else{switch(results.LoginResult){case 1: $("#regPassword").removeAttr("data-error");TVGOL.Events.dispatchEvent("TVGLoggedIn");$(document).trigger('close.facebox');break;case 3: TVGOL.Events.dispatchEvent("tvgol.signin.fail",form);displayError({"message": "Please verify your email address. Click <a href='javascript:resendConfirmation();'>here</a> to re-send the verification email.",obj: form.msgBox});break;case 4: TVGOL.Events.dispatchEvent("tvgol.signin.fail",form);displayError({"message": "This email address does not exist in our system.",obj: form.msgBox});break;default: TVGOL.Events.dispatchEvent("tvgol.signin.fail",form);$(form.userPassword).attr("data-error","invalid");displayError({"message": "The password is incorrect.",obj: form.msgBox});break;}}});TVGOL.Events.addListener("GigyaSignOnLoaded",fixStupidGigyaTable);
var currOid="";var currPid="";var key_UserTvObjCheckins="USR_TVOBJ_CHECKINS";String.prototype.startsWith=function(str){return(this.match("^"+str)==str);};function updateCheckinButtons(results){if(results!==""){var obj=eval('('+results+')');if(obj.EpisodeUserCheckInInfoList.length===0){return;}for(i=0;i < obj.EpisodeUserCheckInInfoList.length;i++){var checkinInfo=obj.EpisodeUserCheckInInfoList[i];var spanText=$("div.ch-b-w.tvo-"+checkinInfo.TVObjectId.toString()+".epprog-"+checkinInfo.EpisodeProgramId.toString()+" span.ch-b-t:first").outerHTML();$("div.ch-b-w.tvo-"+checkinInfo.TVObjectId+".epprog-"+checkinInfo.EpisodeProgramId+" span.ch-b-t").remove();var html=spanText+getDisplayText(checkinInfo.TVObjectId,checkinInfo.EpisodeProgramId,checkinInfo.TotalUsersCheckedIn,checkinInfo.HasUserCheckedIn,checkinInfo.AllowReCheckin);$("div.ch-b-w.tvo-"+checkinInfo.TVObjectId+".epprog-"+checkinInfo.EpisodeProgramId).html(html);var container=$("div.ch-b-w.tvo-"+checkinInfo.TVObjectId+".epprog-"+checkinInfo.EpisodeProgramId);container.data(key_UserTvObjCheckins,checkinInfo.UserTvObjectTotal);}}}function googleCheckin(){if(typeof(isGooglecheckin)!='undefined'&&isGooglecheckin==true){var full_url=document.location.href;var parts=full_url.split("#");if(parts!=null&&parts.length > 0){var trgt=parts[1];var inputElem=$("a[name="+trgt+"]").next().find("input[type='image']");if(inputElem=='undefined'||inputElem==null)return;if(inputElem.attr("onclick")=='undefined'||inputElem.attr("onclick")==null)return;var fnText=inputElem.attr("onclick").toString();if(fnText!='undefined'&&fnText!=""){var st=fnText.indexOf("{",0);var end=fnText.indexOf("}",0);if(st > 0&&end > 0){var fn=fnText.substring(st+1,end);if(fn.indexOf("true,",0)> 0){eval(fn.replace(";",""));}}}}}}function getCheckIns(){var batchInput="";currOid="";currPid="";$("div[class^='ch-b-w ']").each(function(){var arrCls=$(this).attr("class").split(' ');var chkInType=$(this).attr("data-checkintype");if(chkInType=="4"&&arrCls[1].replace("tvo-","")!="0"&&arrCls[2].replace("epprog-","")!="0"){var pid=arrCls[2].replace("epprog-","");var newCls=$(this).attr("class").replace("epprog-"+pid,"epprog-0");$(this).attr("class",newCls);arrCls=$(this).attr("class").split(' ');}if(arrCls.length==3){batchInput+=arrCls[1].replace("tvo-","")+","+arrCls[2].replace("epprog-","")+","+chkInType+"|";}});if(batchInput!==""){batchInput=batchInput.slice(0,-1);$.ajax({url: "/Handler/CheckIns.ashx",type: "POST",data:{method: "getbatchcheckin",pids: batchInput},cache: false,error: function(){},success: function(results){updateCheckinButtons(results);googleCheckin();}});}}function getCheckIns(){TVGOL.Social.CheckIn.init();}function loadHPHotListContainers(){if(TVGOL.User.isLoggedIn){if($('div.h-rb-w.h-hotlist')){$('div.h-rb-w.h-hotlist div.h-b-c div.h-hotlist-leadin').hide();faveTVObjectIDs=TVGOL.User.favorites.list;if(faveTVObjectIDs!=""){$('div.h-rb-w.h-hotlist div.h-b-c h3 a').show();$.ajax({url: "/Handler/HotList.ashx",cache: false,timeout: 10000,type: "GET",data:{method: "watchlist",oids: faveTVObjectIDs},beforeSend: function(){hlAjaxCalls++;},error: function(results){cancallCheckIns();},success: function(results){var $hotlist=$('.h-hotlist');var $favorites=$hotlist.find('.hotlist-favorites');var $editorial=$hotlist.find('.hotlist-editorial');var $sponsored=$editorial.find('.hotlist-sponsored');var isSponsored=($sponsored.length > 0)? true : false;$favorites.attr('data-sponsored',isSponsored);$favorites.append(results);var favCount=$favorites.find('.h-b-s').size();var identify=function(obj){var $hotlist=$(obj).find('.hotlist-button .ch-b-w');var classes=$hotlist.attr('class').split(' ');var objID='';var progID='';for(var i in classes){if(classes[i].indexOf('tvo-')>-1)objID=classes[i].replace('tvo-','');if(classes[i].indexOf('epprog-')>-1)progID=classes[i].replace('epprog-','');}$(obj).attr('data-id',objID).attr('data-prog',progID);return $(obj);};if(favCount > 0){var strIsAre=(favCount > 1)? "are" : "is";var showing=0;$editorial.find('.h-b-s').each(function(i){identify(this).hide();});$favorites.find('.h-b-s').each(function(i){identify(this);if(!isSponsored){$(this).show();}else{if($(this).attr('data-id')!==$sponsored.attr('data-id')&&showing < 3){$(this).show();showing++;}}});$editorial.find('.hotlist-sponsored').show();$favorites.find('.h-hotlist-leadin').text(favCount+' of your favorites '+strIsAre+' on tonight:').show();$favorites.show();}$sponsored.show();}});}else{$('div.hotlist-editorial div.h-hotlist-leadin').html('<div class="h-more"><a href="'+WWWBaseUrl+'/watchlist">Add your favorite shows now</a></div>');getCheckIns();}}if($('div.h-rb-w.h-fullepisodes')){if(faveTVObjectIDs!==""){$.ajax({url: "/Handler/HotList.ashx",type: "GET",cache: false,timeout: 10000,data:{method: "videos",oids: faveTVObjectIDs},beforeSend: function(){},error: function(results){},success: function(results){if(results===""){$('div.h-rb-w.h-fullepisodes div.h-b-c div.h-watchlist-leadin').show();}else{$('div.h-rb-w.h-fullepisodes div.h-b-c').prepend(results);var itemCount=$('div.h-rb-w.h-fullepisodes div.h-b-c div.h-b-s.clear').size();for(i=0;i < itemCount;i++){if(i < 2){$('div.h-rb-w.h-fullepisodes div.h-b-c div.h-b-s.clear').eq(i).show();}else{$('div.h-rb-w.h-fullepisodes div.h-b-c div.h-b-s.clear').eq(i).hide();}}}}});}else{$('div.h-rb-w.h-fullepisodes div.h-b-c div.h-watchlist-leadin').html('<div class="h-more"><a href="'+WWWBaseUrl+'/Watchlist">Add your favorite shows now</a></div>');$('div.h-rb-w.h-fullepisodes div.h-b-c div.h-watchlist-leadin').show();}}setHotListHeading();}else{getCheckIns();}}function getDisplayText(oid,pid,cnt,hasUserCheckedIn,allowReCheckIn){var txt="&nbsp;";if(cnt==1){if(hasUserCheckedIn&&!allowReCheckIn){txt="You are watching";}else{txt="1 watching";}}if(cnt > 1&&hasUserCheckedIn&&!allowReCheckIn){txt=(cnt-1)+" watching+you";}else if(cnt > 1&&!hasUserCheckedIn){txt=cnt+" watching";}var isCheckInButton=true;isCheckInButton=(hasUserCheckedIn===false||allowReCheckIn===true);var btnText="";if($("div.ch-b-w.tvo-"+oid+".epprog-"+pid).attr("data-image")){btnText=isCheckInButton ? "small off" : "small on";}else{btnText=isCheckInButton ? "off" : "on";}var html="";if($("div.ch-b-w.tvo-"+oid+".epprog-"+pid).attr("franchiserow")){html="<div rel='checkin'><button title='I&acute;ll watch' class='checkin "+btnText+"' onclick='checkin("+isCheckInButton+","+oid+","+pid+","+cnt+");return false;'>&nbsp;</button></div><span style='color:"+magicTextClr+";'>"+txt+"</span>";}else{html="<div rel='checkin'><button title='I&acute;ll watch' class='checkin "+btnText+"' onclick='checkin("+isCheckInButton+","+oid+","+pid+","+cnt+");return false;'>&nbsp;</button></div><span>"+txt+"</span>";}return html;}function splitShareMessage(spanText){var arrInfo=spanText.split('~');if(arrInfo===null){return null;}if(arrInfo.length!=6){return null;}if(arrInfo[0]===""){return null;}return arrInfo;}function checkin(ischeckIn,oid,pid,cnt){var spanText="";var html="";var sourceType=0;var checkinType=0;var prgCntr=$("div.ch-b-w.tvo-"+oid+".epprog-"+pid);var tvObjCntrs=$(".tvo-"+oid);var checkInCount=prgCntr.data(key_UserTvObjCheckins);if(ischeckIn){cnt++;spanText=$("div.ch-b-w.tvo-"+oid+".epprog-"+pid+" span.ch-b-t:first").outerHTML();html=spanText+getDisplayText(oid,pid,cnt,true,false);$("div.ch-b-w.tvo-"+oid+".epprog-"+pid).html(html);currOid="";currPid="";TVGOL.Events.dispatchEvent("tvgol.checkin.add",{"id": oid,"prog": pid});var newCheckinCount=checkInCount+1;tvObjCntrs.data(key_UserTvObjCheckins,newCheckinCount);var useRepeatPopUp=false;if(newCheckinCount===3){if(isLoggedInX){var favSetting=TVGOL.User.favorites.list;var favs=favSetting.split("|");useRepeatPopUp=$.inArray(oid.toString(),favs)===-1;}else{useRepeatPopUp=true;}}if(useRepeatPopUp){var data=prgCntr.children("span.ch-b-t:first").text().split("~");var name=data[0];TVGOL.services.Omniture.params["checkin_watchlist_popup"]=true;TVGOL.services.Omniture.params["checkin_objID"]=oid;TVGOL.services.Omniture.params["checkin_progID"]=pid;TVGOL.services.Omniture.params["checkin_count"]=newCheckinCount;TVGOL.services.Omniture.broadcast({msg: "checkin: watchlist popup",data:{obj: oid,prog: pid,count: newCheckinCount}});displayRepeatCheckInPopUp(oid,pid,name,newCheckinCount);}if(!useRepeatPopUp){if($("div.ch-b-w.tvo-"+oid+".epprog-"+pid).attr("data-sourcetype")){sourceType=$("div.ch-b-w.tvo-"+oid+".epprog-"+pid).attr("data-sourcetype");}if($("div.ch-b-w.tvo-"+oid+".epprog-"+pid).attr("data-checkintype")){checkinType=$("div.ch-b-w.tvo-"+oid+".epprog-"+pid).attr("data-checkintype");}if(canShowSharePopup()){var gigyaPopup=getDisplayTextForGigyaPopup(oid,pid);var socialWall=setDisplayTextForSocialWall(oid,pid);var emailDesc=socialWall["description"].split("-")[1];var config={"userAction" : socialWall,"popup" :{"title" : gigyaPopup.title,"description": "Share <strong>"+gigyaPopup.program+"</strong> on your Social Networks!!"},"emailBody": "<p>Hi,</p><p>I thought you'd like this: $URL$</p><p><strong>$title$</strong></p><p><a href='http://www.tvguide.com'>tvguide&#46;com</a>&nbsp;&ndash;&nbsp;"+emailDesc+"</p><br/><p>$userMsg$</p><p>~&nbsp;Sent by $sender$ via <a href='http://www.tvguide.com'>tvguide&#46;com</a>.</p>"};TVGOL.services.Gigya.Sharing.init(config);currOid=oid;currPid=pid;TVGOL.services.Gigya.Sharing.show(config);}}$.ajax({url: "/Handler/CheckIns.ashx",type: "POST",data:{method: "insertcheckin",pid: pid,oid: oid,sourcetype: sourceType,checkintype: checkinType},cache: false,error: function(){},success: function(results){countTraxCheckIn(oid,pid);}});}else{cnt--;currOid="";currPid="";spanText=$("div.ch-b-w.tvo-"+oid+".epprog-"+pid+" span.ch-b-t:first").outerHTML();html=spanText+getDisplayText(oid,pid,cnt,false,false);$("div.ch-b-w.tvo-"+oid+".epprog-"+pid).html(html);checkinType=0;if($("div.ch-b-w.tvo-"+oid+".epprog-"+pid).attr("data-checkintype")){checkinType=$("div.ch-b-w.tvo-"+oid+".epprog-"+pid).attr("data-checkintype");}if(checkinType==4&&oid!="0"&&pid!="0"){pid=0;}tvObjCntrs.data(key_UserTvObjCheckins,checkInCount-1);$.ajax({url: "/Handler/CheckIns.ashx",type: "POST",data:{method: "deletecheckin",pid: pid,oid: oid},cache: false,error: function(){},success: function(results){}});}}function displayRepeatCheckInPopUp(oid,pid,showName,checkins){var $box=$(document.createElement("div")).addClass("checkin");var $title=$(document.createElement("p")).appendTo($box);var $action=$(document.createElement("p")).appendTo($box);var $buttons=$(document.createElement("ul")).appendTo($box);if(TVGOL.User.isLoggedIn){$box.addClass("user");$("<p>").html("Hi "+loggedinUserName+",").prependTo($title);$title.append("You've told us you're watching <br /><strong>"+showName+"</strong> "+checkins+" times!");$action.append("Do you want to add it to your Watchlist?");var $li=$(document.createElement("li")).appendTo($buttons);$("<button>").html("Yes,&nbsp;add it!").click(function(event){event.preventDefault();$(document).trigger("close.facebox");TVGOL.User.favorites.add({objectID: oid,favType: 1,name: showName});}).appendTo($li);}else{$box.addClass("guest");$title.append("You've told us you're watching <br /><strong>"+showName+"</strong> "+checkins+" times!");$action.append("Do you want to add it to your Watchlist?");var $liSignUp=$(document.createElement("li")).appendTo($buttons);$("<button>").html("Yes,&nbsp;sign me up!").click(function(event){event.preventDefault();TVGOL.User.favorites.add({objectID: oid,favType: 1,name: showName});}).appendTo($liSignUp);var $notsure=$(document.createElement("p")).html("Not sure,&nbsp;").appendTo($box);$("<a>").html("<strong>tell me more</strong>").attr("href","/watchlist").appendTo($notsure);var $signIn=$(document.createElement("p")).html("Already have an account?&nbsp;").appendTo($box);$("<a>").html("<strong>Sign in here</strong>").attr("href","/AMP/Login.aspx").click(function(event){event.preventDefault();TVGOL.User.favorites.add({objectID: oid,favType: 1,name: showName,signin: true});}).appendTo($signIn);}TVGOL.messaging.notice($box);}function closeSharePopup(){setShareCookies();currOid="";currPid="";$(document).trigger('close.facebox');}function setShareCookies(){if($('#checkin-share-chkshow').attr('checked')){var cookieOptions={expires: 365,path: '/',domain: '.tvguide.com'};$.subcookie("ch","lastshared",toMMDDYYYYString(new Date()),cookieOptions);}}function shareCheckIn(oid,pid){if(pid===null||pid===0){oid=currOid;pid=currPid;}if(isFBCAuthenticated==1){var message=$('#checkin-share-txtmessage').val();if(message=="Tell your friends you’re watching."){message="";}postToFBWall(oid,pid,escape(message));}om_FBC_share('Share');}function getDisplayTextForGigyaPopup(oid,pid){var spanValue=$("div.ch-b-w.tvo-"+oid+".epprog-"+pid+" span.ch-b-t:first").text();var arrMess=splitShareMessage(spanValue);var progName="";if(arrMess!==null){progName=arrMess[0];}var results={title: "Thanks for telling us what you're watching!",description: "Share "+progName+" on your Social Networks!!",program: progName};return results;}function setDisplayTextForSocialWall(oid,pid){var spanValue=$("div.ch-b-w.tvo-"+oid+".epprog-"+pid+" span.ch-b-t:first").text();var arrInfo=splitShareMessage(spanValue);var desc="";var image="";var url="";var title="Are you watching "+$.trim(arrInfo[0])+"?";var firstdesc="www.tvguide.com-";var results={};if(arrInfo[4]!==""){desc=$.trim(arrInfo[0])+" is on "+$.trim(arrInfo[4])+" on "+$.trim(arrInfo[3])+".";}else{desc="Are you watching "+$.trim(arrInfo[0])+"?";}if(arrInfo[2]!==""){if($.trim(arrInfo[2]).startsWith("http://")){url=$.trim(arrInfo[2]);}else{url="http://www.tvguide.com"+$.trim(arrInfo[2]);}}else{url="http://www.tvguide.com/hot-list#epprog-"+pid;}results["linkBack"]=url;if(arrInfo[5]!==""){if($.trim(arrInfo[5]).startsWith("http://")){image=$.trim(arrInfo[5]);}else{image="http://static.tvguide.com"+$.trim(arrInfo[5]);}}results["image"]=image;results["title"]=title;results["description"]=firstdesc+desc;return results;}function canShowLoginPopup(){var mapCookie=$.subcookie("MAPCookie");if(mapCookie!==null&&mapCookie!='undefined'){return false;}var show=$.subcookie("ch","showlogin");if(lastShared===null||lastShared=='undefined'){return true;}else{return false;}}function canShowSharePopup(){var shareTo=$.subcookie("ch","shareto");if(shareTo!==null&&shareTo!='undefined'&&shareTo=='fb'){return true;}var lastShared=$.subcookie("ch","lastshared");if(lastShared===null||lastShared=='undefined'){return true;}if(!isValidDate(lastShared)){return true;}var today=new Date();var dt=new Date(lastShared);if((today-dt)/(1000*60*60*24)>=14){return true;}else{return false;}}function isValidDate(dateStr){var checkdate=new Date(dateStr);if(isNaN(checkdate.getFullYear())){return false;}else{return true;}}jQuery.fn.outerHTML=function(){return $('<div></div>').append(this.clone()).html();};function toMMDDYYYYString(date){return isNaN(date)? 'NaN' : [date.getMonth()> 8 ? date.getMonth()+1 : '0'+(date.getMonth()+1),date.getDate()> 9 ? date.getDate(): '0'+date.getDate(),date.getFullYear()].join('/');}function setHotListHeading(){if($('div.h-rb-w.h-hotlist')){$('div.hotlist-heading-text').html("<a href=\""+WWWBaseUrl+"/watchlist\">"+TVGOL.User.getDisplayName()+"'s Watchlist</a>");}}function cancallCheckIns(){hlAjaxCalls--;if(hlAjaxCalls <=0){getCheckIns();}}var AddToDVR2=function(){};var getListingsDVRButtonStatus=function(){};var TVGOL=(function(TVGOL,$){var social=TVGOL.Social=TVGOL.Social||{};social.CheckIn={config:{"objs": "div[class^='ch-b-w']","objPrefix": "tvo-","progPrefix": "epprog-","popupCount": 3},rendered: false,increment: function(instance){instance.config.TotalUsersCheckedIn++;instance.config.UserTvObjectTotal++;TVGOL.Social.CheckIn.socialize(instance);TVGOL.Events.dispatchEvent("tvgol.checkin.add",{"id": instance.config.TVObjectId,"prog": instance.config.EpisodeProgramId});var elem=$(instance.elem[0]);$.ajax({url: "/Handler/CheckIns.ashx",type: "POST",data:{method: "insertcheckin",pid: instance.config.EpisodeProgramId,oid: instance.config.TVObjectId,sourcetype: elem.attr("data-sourcetype"),checkintype: elem.attr("data-checkintype")},cache: false,error: function(){},success: function(){countTraxCheckIn(instance.config.TVObjectId,instance.config.EpisodeProgramId);}});return instance;},decrement: function(instance){instance.config.TotalUsersCheckedIn--;instance.config.UserTvObjectTotal--;TVGOL.Events.dispatchEvent("tvgol.checkin.subtract",{"id": instance.config.TVObjectId,"prog": instance.config.EpisodeProgramId});$.ajax({url: "/Handler/CheckIns.ashx",type: "POST",data:{method: "deletecheckin",pid: instance.config.EpisodeProgramId,oid: instance.config.TVObjectId},cache: false,error: function(){},success: function(){}});return instance;},socialize: function(instance){var showtime=function(){var shareTo=$.subcookie("ch","shareto");if(shareTo!==null&&shareTo!='undefined'&&shareTo=='fb'){return true;}var lastShared=$.subcookie("ch","lastshared");if(lastShared===null||lastShared=='undefined'){return true;}if(!isValidDate(lastShared)){return true;}var today=new Date();var dt=new Date(lastShared);if((today-dt)/(1000*60*60*24)>=14){return true;}else{return false;}};var popCheck=function(count){if(count!==TVGOL.Social.CheckIn.config.popupCount)return false;return true;};var isFavorite=TVGOL.User.favorites.isFavorite({"objectID": instance.config.TVObjectId});if(!popCheck(instance.config.UserTvObjectTotal)&&!isFavorite){if(showtime){TVGOL.Social.CheckIn.share(instance);}}else{TVGOL.Social.CheckIn.popUp(instance);}return instance;},share: function(instance){var getGigyaText=function(info){var results={};var name="it";if(info.name){name=info.name;}results={title: "Thanks for telling us what you're watching!",description: "Share "+name+" on your Social Networks!!",program: name};return results;};var getSocialText=function(info,pid){var desc="";var image="";var url="";var title="Are you watching "+info.name+"?";var firstdesc="www.tvguide.com-";var results={};if(info.time){desc=info.name+" is on "+info.time+" on "+info.network+".";}else{desc="Are you watching "+info.name+"?";}if(info.url){if(info.url.startsWith("http://")){url=info.url;}else{url="http://www.tvguide.com"+info.url;}}else{url="http://www.tvguide.com/hot-list#epprog-"+pid;}results["linkBack"]=url;if(info.badge){if(info.badge.startsWith("http://")){image=info.badge;}else{image="http://static.tvguide.com"+info.badge;}}results["image"]=image;results["title"]=title;results["description"]=firstdesc+desc;return results;};var info=instance.info();var gigyaPopup=getGigyaText(info);var socialWall=getSocialText(info,instance.config.EpisodeProgramId);var emailDesc=socialWall["description"].split("-")[1];var config={"userAction": socialWall,"popup":{"title": gigyaPopup.title,"description": "Share <strong>"+gigyaPopup.program+"</strong> on your Social Networks!!"},"emailBody": "<p>Hi,</p><p>I thought you'd like this: $URL$</p><p><strong>$title$</strong></p><p><a href='http://www.tvguide.com'>tvguide&#46;com</a>&nbsp;&ndash;&nbsp;"+emailDesc+"</p><br/><p>$userMsg$</p><p>~&nbsp;Sent by $sender$ via <a href='http://www.tvguide.com'>tvguide&#46;com</a>.</p>"};TVGOL.services.Gigya.Sharing.init(config);TVGOL.services.Gigya.Sharing.show(config);return instance;},popUp: function(instance){var show=function(instance){var oid=instance.config.TVObjectId;var pid=instance.config.EpisodeProgramId;var checkins=instance.config.UserTvObjectTotal;var showName=instance.elem.data("name");var $box=$(document.createElement("div")).addClass("popup");var $title=$(document.createElement("p")).appendTo($box);var $action=$(document.createElement("p")).appendTo($box);var $buttons=$(document.createElement("ul")).appendTo($box);if(TVGOL.User.isLoggedIn){$box.addClass("user");$("<p>").html("Hi "+loggedinUserName+",").prependTo($title);$title.append("You've told us you're watching <br /><strong>"+showName+"</strong> "+checkins+" times!");$action.append("Do you want to add it to your Watchlist?");var $li=$(document.createElement("li")).appendTo($buttons);$("<button>").html("Yes,&nbsp;add it!").click(function(event){event.preventDefault();$(document).trigger("close.facebox");TVGOL.User.favorites.add({objectID: oid,favType: 1,name: showName});}).appendTo($li);}else{$box.addClass("guest");$title.append("You've told us you're watching <br /><strong>"+showName+"</strong> "+checkins+" times!");$action.append("Do you want to add it to your Watchlist?");var $liSignUp=$(document.createElement("li")).appendTo($buttons);$("<button>").html("Yes,&nbsp;sign me up!").click(function(event){event.preventDefault();TVGOL.User.favorites.add({objectID: oid,favType: 1,name: showName});}).appendTo($liSignUp);var $notsure=$(document.createElement("p")).html("Not sure,&nbsp;").appendTo($box);$("<a>").html("<strong>tell me more</strong>").attr("href","/watchlist").appendTo($notsure);var $signIn=$(document.createElement("p")).html("Already have an account?&nbsp;").appendTo($box);$("<a>").html("<strong>Sign in here</strong>").attr("href","/AMP/Login.aspx").click(function(event){event.preventDefault();TVGOL.User.favorites.add({objectID: oid,favType: 1,name: showName,signin: true});}).appendTo($signIn);}TVGOL.services.Omniture.params["checkin_watchlist_popup"]=true;TVGOL.services.Omniture.params["checkin_objID"]=oid;TVGOL.services.Omniture.params["checkin_progID"]=pid;TVGOL.services.Omniture.params["checkin_count"]=checkins;TVGOL.services.Omniture.broadcast({msg: "checkin: watchlist popup",data:{obj: oid,prog: pid,count: checkins}});TVGOL.messaging.notice($box);};show(instance);return instance;},init: function(options){var config=TVGOL.utilities.configure(TVGOL.Social.CheckIn.config,options);var $objs=$(config.objs);if($objs.length < 1){return false;}$objs.each(function(){if(!$(this).hasClass("rendered")){var data=$(this).attr("class").split(' ');var objID=data[1].replace(config.objPrefix,"");var progID=data[2].replace(config.progPrefix,"");var objType=$(this).attr("data-checkintype");if(objType==="4"&&objID!=="0"&&progID!=="0"){$(this).removeClass(config.progPrefix+progID).addClass(config.progPrefix+"0");$(this).attr("data-checkintype","0");progID="0";}$.ajax({url: "/Handler/CheckIns.ashx",type: "POST",data:{method: "getbatchcheckin",pids: objID+","+progID+","+objType},dataType: "json",cache: false,error: function(){},success: function(results){if(results!=null){for(var i in results.EpisodeUserCheckInInfoList){var myCheckIn=new TVGOL.Social.CheckIn.instance(results.EpisodeUserCheckInInfoList[i]);}}}});}});},click: function(elem){var data=$(elem).data();var objID=data.TVObjectId||$(elem).attr("data-TVObjectId");var progID=data.EpisodeProgramId||$(elem).attr("data-EpisodeProgramId");var instance=TVGOL.Social.CheckIn.instances[objID+""+progID];if(!instance.config.AllowReCheckin){instance.config.HasUserCheckedIn=!instance.config.HasUserCheckedIn;}else{instance.config.HasUserCheckedIn=true;}if(instance.config.HasUserCheckedIn){TVGOL.Social.CheckIn.increment(instance);}else{TVGOL.Social.CheckIn.decrement(instance);}instance.draw();return false;},instances:{},instance: function(options){this.config={"AllowReCheckin": false,"EpisodeProgramId": null,"HasUserCheckedIn": false,"TVObjectId": null,"TotalUsersCheckedIn": 0,"UserTvObjectTotal": 0};this.elem={};this.info=function(){if(this.elem.length > 0&&this.elem.data()){return this.elem.data();}else{return null;}};this.draw=function(){var config=this.config;var notCheckedIn=true;TVGOL.utilities.log("CheckIn: Drawing Button");notCheckedIn=(config.HasUserCheckedIn==false||config.AllowReCheckin==true);this.elem.each(function(){var $wrapper={},$button={},$span={};var txt="&nbsp;",boxClass="checkinbox",btnClass="checkin";$(this).text("");if(config.TotalUsersCheckedIn==1){if(config.HasUserCheckedIn&&!config.AllowReCheckin){txt="You are watching";}else{txt="1 watching";}}else{if(config.TotalUsersCheckedIn > 1&&config.HasUserCheckedIn&&!config.AllowReCheckin){txt=(config.TotalUsersCheckedIn-1)+" watching+you";}else if(config.TotalUsersCheckedIn > 1&&!config.HasUserCheckedIn){txt=config.TotalUsersCheckedIn+" watching";}}if($(this).attr("data-image")){boxClass+=" small";}btnClass+=notCheckedIn ? " off" : " on";$button=$(document.createElement("button")).attr({"class": btnClass,"title": "I'll watch"}).html("&nbsp;").data(config);for(var i in config){$button.attr("data-"+i,config[i]);}$span=$(document.createElement("span")).html(txt);if($(this).attr("franchiserow")){$span.css("color",window.magicTextClr);}if($(this).find("div[rel='checkin']").length > 0){$wrapper=$(this).find("div[rel='checkin']").attr("class",boxClass).html($button).append($span);}else{$wrapper=$(document.createElement("div")).attr("rel","checkin").attr("class",boxClass).appendTo($(this)).append($button).append($span);}});},this.init=function(options){this.config=TVGOL.utilities.configure(this.config,options);this.elem=$("div.ch-b-w.tvo-"+this.config.TVObjectId+".epprog-"+this.config.EpisodeProgramId);var data={};var $data=this.elem.find("span.ch-b-t");if($data.length > 0){var aData=$($data[0]).text().split("~");data["name"]=aData[0];if(aData[1]){data["episode"]=$.trim(aData[1]);}if(aData[2]){data["url"]=$.trim(aData[2]);}if(aData[3]){data["network"]=$.trim(aData[3]);}if(aData[4]){data["time"]=$.trim(aData[4]);}if(aData[5]){data["badge"]=$.trim(aData[5]);}}this.draw();this.elem.data(data).addClass("rendered");TVGOL.Social.CheckIn.instances[this.config.TVObjectId+""+this.config.EpisodeProgramId]=this;return this;};return this.init(options);}};return TVGOL;}(TVGOL||{},jQuery));TVGOL.Events.addListener("tvgol.social.checkin.click",TVGOL.Social.CheckIn.click);$("button.checkin").live("click",function(){TVGOL.Events.dispatchEvent("tvgol.social.checkin.click",$(this));});$(document).ready(function(){TVGOL.Events.addListener("AddedToFavorites",function(data){var elem={};faveTVObjectIDs+=data.objectID+"|";dvrTVObjectIDs+=data.objectID+"|";if(data.elem){if(typeof data.elem==="string"){elem=$("#"+data.elem);}else{elem=data.elem;}elem.html("<a href='"+WWWBaseUrl+"/watchlist'><strong>In your Watchlist</strong></a>").bind("click",function(){void(0);}).addClass("l-addedtodvr listed").removeClass("l-addtodvr");}});AddToDVR2=function(tvobjectid,tvobjectname,myDiv){var time=new Date();$(myDiv).attr("id",tvobjectid+"-"+time.getTime());TVGOL.User.favorites.add({objectID: tvobjectid,favType: 1,elem: $(myDiv).attr("id"),name: tvobjectname,page: "listings",ref: "overlay"});return false;};getListingsDVRButtonStatus=AddToDVR2;});
/* msecs:1062 bytes:308728 orig:479146 change:35% (TUL1OLPW05 2012/12/26 01:08:30 GMT) */
