/*
Name: early.js
URL: http://qsf.cf.quoracdn.net/-f4a59de82c9f17f3.js
Generated: 1341121843527967
Files: /domain.js, /iesux.js, /visibility.js, /settings.js, /event.js, /prefetch_init.js, /w2.timing.js, /redirect.js, /win.load.js, /early.js
*/
rec('package', 'early.js', 'start');try{document.domain=/quora\.com$/i.test(location.host)?"quora.com":document.domain}catch(x){}require.install("iesux",function(require,a,b){if(navigator.appName==="Microsoft Internet Explorer"){var c=window,d=c.open;c.open=function(a,b,e){c._old_open=d;try{var f=c._old_open(a,b,e)}catch(g){f&&(f.name=b=Math.random().toString(36).slice(2)),f=c._old_open(a,b)}return f}}}),require("iesux"),require.install("visibility",function(require,a,b){function c(a,b){return(" "+(a.className||"")+" ").indexOf(" "+b+" ")!=-1}function d(a,b){c(a,b)||(a.className=(a.className||"")+" "+b)}function e(a){var b=/^\s+/,c=/\s+$/;return a.trim?a.trim():a.replace(b,"").replace(c,"")}function f(a,b){a.className=e((" "+(a.className||"")+" ").replace(" "+b+" "," "))}var g=require("prefetch_init");a.setVisible=function(a){var b=g.getFrameElement();a?(window.focus(),b?d(b,"maximized"):f(document.body,"minimized")):b?f(b,"maximized"):d(document.body,"minimized")},a.isVisible=function(){var a=g.getFrameElement();return a?c(a,"maximized"):!c(document.body,"minimized")},a.addClass=d,a.hasClass=c,a.removeClass=f}),require.install("event",function(require,a,b){function c(a,b,c){var d;return a.addEventListener?a.addEventListener(b,d=function(a){c.call(this,a)===!1&&(a.preventDefault(),a.stopPropagation())},!1):a.attachEvent&&a.attachEvent("on"+b,d=function(b){return b=b||window.event,c.call(b.srcElement||a,b)}),d}a.add=c,a.remove=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)};var d=navigator;d.platform.match("Linux")&&d.userAgent.match("Gecko/")&&c(document,"mouseup",function(a){var b=a.target;if(a.button===1&&b.nodeName==="A")return!window.open(b.href,"_blank")})}),require.install("prefetch_init",function(require,a,b){function e(){try{var a=window.frameElement;return a.getAttribute("className"),a}catch(b){return null}}var c=require("visibility").isVisible,d=require("settings").browserCaching;a.getFrameElement=e;var f=function(){try{var a=e();return a&&require("visibility").hasClass(a,"quora-prefetched")}catch(b){return!1}}(),g=a.shellWindow=function(){return f&&window.parent||window}();if(f){var h=g.require("prefetch",0);require("event").add(document,"click",h.clickHandler),h.cache.changeIframeState(e(),h.cache.iframeStates.BEGUN_LOADING),d||h.disableCaching()}d&&(function(a,b){a.prompt=function(){if(c())return b.apply(a,arguments)}}(window,window.prompt),function(a,b){a.alert=function(){if(c())return b.apply(a,arguments)}}(window,window.alert),function(a,b){a.confirm=function(){if(c())return b.apply(a,arguments)}}(window,window.confirm),function(a,b){a.a1ert=function(){if(c())return b.apply(a,arguments)}}(window,window.a1ert))}),require("prefetch_init"),require.install("w2.timing",function(require,a,b){var c={start:+(new Date)};a.timing=c}),require.install("redirect",function(require,a,b){var c=window,d=document,e=require("settings"),f="suppress_redirect_to_mobile_app=1",g=30,h=new RegExp("\\b"+f+"\\b"),i=c.location.href;e.mobileRedirect&&!h.test(d.cookie)&&(setTimeout(function(){d.cookie=f+"; expires="+(new Date(new Date-g*-864e5)).toUTCString()+"; path=/",h.test(d.cookie)&&(c.location=i)},1e3),c.location=e.appURL)}),require.install("win.load",function(require,a,b){var c=window,d=[],e;require("event").add(c,"load",function(){setTimeout(function(){e=!0;for(var a=0,b=d.length;a<b;++a)d[a].call(c);d.length=0},100)}),a.add=function(a){e?a.call(c):d.push(a)}}),require("domain"),require("iesux"),require("prefetch_init"),require("w2.timing"),require("redirect"),require("win.load");rec('package', 'early.js', 'finish');