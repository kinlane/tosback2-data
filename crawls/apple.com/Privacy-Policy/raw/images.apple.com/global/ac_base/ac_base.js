if(!Function.prototype.bind){Function.prototype.bind=function bind(){if(arguments.length<2&&typeof(arguments[0])==undefined){return this}var a=this,c=AC.Array.toArray(arguments),b=c.shift();return function(){return a.apply(b,c.concat(AC.Array.toArray(arguments)))}}}if(!Array.isArray){Array.isArray=function isArray(a){return(a&&typeof a==="object"&&"splice" in a&&"join" in a)}}if(!Array.prototype.forEach){Array.prototype.forEach=function forEach(f,e){var d=Object(this),a=this.length,b=0,c;if(typeof f!=="function"){throw"No function object passed to forEach."}for(b=0;b<a;b++){c=d[b];f.call(e,c,b,d)}}}if(!String.prototype.trim){String.prototype.trim=function trim(){return this.replace(/^\s+|\s+$/g,"")}}if(!Object.keys){Object.keys=function keys(b){var a=[],c;if((!b)||(typeof b.hasOwnProperty!=="function")){throw"Object.keys called on non-object."}for(c in b){if(b.hasOwnProperty(c)){a.push(c)}}return a}}if(!Object.create){Object.create=function(b){if(arguments.length>1){throw new Error("Object.create implementation only accepts the first parameter.")}function a(){}a.prototype=b;return new a()}}var AC=window.AC||{};AC.Array=AC.Array||{};AC.Array.toArray=function(a){return Array.prototype.slice.call(a)};AC.Array.flatten=function(c){var a=[];var b=function(d){if(Array.isArray(d)){d.forEach(b)}else{a.push(d)}};c.forEach(b);return a};var AC=window.AC||{};AC.Element=AC.Element||{};AC.Element.addEventListener=function(d,a,c){if(d.addEventListener){d.addEventListener(a,c,false)}else{if(d.attachEvent){var b=d.attachEvent("on"+a,c)}else{d["on"+a]=c}}return d};AC.Element.removeEventListener=function(c,a,b){if(c.removeEventListener){c.removeEventListener(a,b,false)}else{c.detachEvent("on"+a,b)}return c};AC.Element.getElementById=function(a){if(AC.String.isString(a)){return document.getElementById(a)}else{return a}};AC.Element.selectAll=function(a,b){if(typeof b==="undefined"){b=document.body}else{if(!AC.Element.isElement(b)){throw"AC.Element.querySelectorAll: Context is not an Element"}}if(typeof a==="string"){return Sizzle(a,b)}else{throw"AC.Element.selectAll: Selector must be a string"}};AC.Element.select=function(a,b){if(typeof b==="undefined"){b=document.body}else{if(!AC.Element.isElement(b)){throw"AC.Element.querySelector: Context is not an Element"}}if(typeof a==="string"){if(Element.prototype.hasOwnProperty("querySelector")){return b.querySelector(a)}else{return Sizzle(a,b)[0]}}else{throw"AC.Element.select: Selector must be a string"}};AC.Element.setOpacity=function(a,b){a=AC.Element.getElementById(a);a.style.opacity=(b===1||b==="")?"":(b<0.00001)?0:b;var d;if(b===1){if(a.tagName.toLowerCase()==="img"&&a.width){a.width+=1;a.width-=1}else{try{d=document.createTextNode(" ");a.appendChild(d);a.removeChild(d)}catch(c){}}}return a};AC.Element.setStyle=function(a,b){a=AC.Element.getElementById(a);var d=a.style;var c;if(typeof b==="string"){a.style.cssText+=";"+b;return(b.indexOf("opacity")>-1)?AC.Element.setOpacity(a,b.match(/opacity:\s*(\d?\.?\d*)/)[1]):a}else{throw"Style argument must be a CSS style string"}};AC.Element.getStyle=function(b,c){b=AC.Element.getElementById(b);c=c=="float"?"cssFloat":c;var d=b.style[c];if(!d||d=="auto"){var a=document.defaultView.getComputedStyle(b,null);d=a?a[c]:null}if(c=="opacity"){return d?parseFloat(d):1}return d=="auto"?null:d};AC.Element.hasClassName=function(c,b){var a=AC.Element.getElementById(c);if(a&&a.className){return a&&a.className&&a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))||false}};AC.Element.addClassName=function(c,b){var a=AC.Element.getElementById(c);if(!AC.Element.hasClassName(a,b)){a.className+=" "+b}};AC.Element.removeClassName=function(c,b){var a=AC.Element.getElementById(c);if(AC.Element.hasClassName(a,b)){var d=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(d,"")}};AC.Element.isElement=function(a){return !!(a&&a.nodeType==1)};AC.Element.addVendorEventListener=function(b,c,d,a){if(typeof(addEventListener)=="function"){if(c.match(/^webkit/i)){c=c.replace(/^webkit/i,"")}else{if(c.match(/^moz/i)){c=c.replace(/^moz/i,"")}else{if(c.match(/^ms/i)){c=c.replace(/^ms/i,"")}else{if(c.match(/^o/i)){c=c.replace(/^o/i,"")}else{c=c.charAt(0).toUpperCase()+c.slice(1)}}}}if(/WebKit/i.test(navigator.userAgent)){b.addEventListener("webkit"+c,d,a)}else{if(/Opera/i.test(navigator.userAgent)){b.addEventListener("O"+c,d,a)}else{if(/Gecko/i.test(navigator.userAgent)){b.addEventListener(c.toLowerCase(),d,a)}else{c=c.charAt(0).toLowerCase()+c.slice(1);return b.addEventListener(c,d,a)}}}}};AC.Element.removeVendorEventListener=function(b,c,d,a){if(typeof(removeEventListener)=="function"){if(c.match(/^webkit/i)){c=c.replace(/^webkit/i,"")}else{if(c.match(/^moz/i)){c=c.replace(/^moz/i,"")}else{if(c.match(/^ms/i)){c=c.replace(/^ms/i,"")}else{if(c.match(/^o/i)){c=c.replace(/^o/i,"")}else{c=c.charAt(0).toUpperCase()+c.slice(1)}}}}b.removeEventListener("webkit"+c,d,a);b.removeEventListener("O"+c,d,a);b.removeEventListener(c.toLowerCase(),d,a);c=c.charAt(0).toLowerCase()+c.slice(1);return b.removeEventListener(c,d,a)}};window.addVendorEventListener=function(b,c,a){AC.Element.addVendorEventListener(window,b,c,a)};window.removeVendorEventListener=function(b,c,a){AC.Element.removeVendorEventListener(window,b,c,a)};AC.Element.setVendorPrefixStyle=function(c,f,e){if(f.match(/^webkit/i)){f=f.replace(/^webkit/i,"")}else{if(f.match(/^moz/i)){f=f.replace(/^moz/i,"")}else{if(f.match(/^ms/i)){f=f.replace(/^ms/i,"")}else{if(f.match(/^o/i)){f=f.replace(/^o/i,"")}else{if(f.match("-")){var b=f.split("-"),d=b.length;f="";for(var a=0;a<b.length;a++){f+=b[a].charAt(0).toUpperCase()+b[a].slice(1)}}else{f=f.charAt(0).toUpperCase()+f.slice(1)}}}}}if(e.match("-webkit-")){e=e.replace("-webkit-","-vendor-")}else{if(e.match("-moz-")){e=e.replace("-moz-","-vendor-")}else{if(e.match("-ms-")){e=e.replace("-ms-","-vendor-")}else{if(e.match("-o-")){e=e.replace("-o-","-vendor-")}}}}c.style["webkit"+f]=e.replace("-vendor-","-webkit-");c.style["Moz"+f]=e.replace("-vendor-","-moz-");c.style["ms"+f]=e.replace("-vendor-","-ms-");c.style["O"+f]=e.replace("-vendor-","-o-");c.style[f]=e;f=f.charAt(0).toLowerCase()+f.slice(1);c.style[f]=e};var AC=window.AC||{};AC.Event=AC.Event||{};AC.Event.stop=function(a){if(!a){a=window.event}if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}if(a.preventDefault){a.preventDefault()}a.stopped=true;a.returnValue=false};AC.Event.target=function(a){return(typeof a.target!="undefined")?a.target:a.srcElement};var AC=window.AC||{};AC.Feature=AC.Feature||{};AC.Feature._style=null;AC.Feature._prefixes=null,AC.Feature._preFixes=null,AC.Feature._css=null,AC.Feature.isCSSAvailable=function(k){if(!this._style){this._style=document.createElement("browserdetect").style}if(!this._prefixes){this._prefixes="-webkit- -moz- -o- -ms- -khtml- ".split(" ")}if(!this._preFixes){this._preFixes="Webkit Moz O ms Khtml ".split(" ")}if(!this._css){this._css={}}k=k.replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").replace(/^(\-*webkit|\-*moz|\-*o|\-*ms|\-*khtml)\-/,"").toLowerCase();switch(k){case"gradient":if(this._css.gradient!==undefined){return this._css.gradient}var k="background-image:",g="gradient(linear,left top,right bottom,from(#9f9),to(white));",f="linear-gradient(left top,#9f9, white);";this._style.cssText=(k+this._prefixes.join(g+k)+this._prefixes.join(f+k)).slice(0,-k.length);this._css.gradient=(this._style.backgroundImage.indexOf("gradient")!==-1);return this._css.gradient;case"inset-box-shadow":if(this._css["inset-box-shadow"]!==undefined){return this._css["inset-box-shadow"]}var k="box-shadow:",h="#fff 0 1px 1px inset;";this._style.cssText=this._prefixes.join(k+h);this._css["inset-box-shadow"]=(this._style.cssText.indexOf("inset")!==-1);return this._css["inset-box-shadow"];default:var e=k.split("-"),a=e.length,d,c,b;if(e.length>0){k=e[0];for(c=1;c<a;c++){k+=e[c].substr(0,1).toUpperCase()+e[c].substr(1)}}d=k.substr(0,1).toUpperCase()+k.substr(1);if(this._css[k]!==undefined){return this._css[k]}for(b=this._preFixes.length-1;b>=0;b--){if(this._style[this._preFixes[b]+k]!==undefined||this._style[this._preFixes[b]+d]!==undefined){this._css[k]=true;return true}}return false}return false};AC.Feature._supportsThreeD=false;AC.Feature.supportsThreeD=function(){try{this._supportsThreeD=false;if("styleMedia" in window){this._supportsThreeD=window.styleMedia.matchMedium("(-webkit-transform-3d)")}else{if("media" in window){this._supportsThreeD=window.media.matchMedium("(-webkit-transform-3d)")}}if(!this._supportsThreeD){if(!document.getElementById("supportsThreeDStyle")){var a=document.createElement("style");a.id="supportsThreeDStyle";a.textContent="@media (transform-3d),(-o-transform-3d),(-moz-transform-3d),(-ms-transform-3d),(-webkit-transform-3d) { #supportsThreeD { height:3px } }";document.querySelector("head").appendChild(a)}if(!(div=document.querySelector("#supportsThreeD"))){div=document.createElement("div");div.id="supportsThreeD";document.body.appendChild(div)}this._supportsThreeD=(div.offsetHeight===3)}return this._supportsThreeD}catch(b){return false}};var AC=window.AC||{};AC.Function=AC.Function||{};AC.Function.emptyFunction=function(){};AC.Function.bindAsEventListener=function(a,c){var b=AC.Array.toArray(arguments).slice(2);return function(d){return a.apply(c,[d||window.event].concat(b))}};var AC=window.AC||{};AC.Object=AC.Object||{};if(Object.extend){AC.Object.extend=Object.extend}else{AC.Object.extend=function extend(a,c){for(var b in c){a[b]=c[b]}return a}}if(Object.clone){AC.Object.clone=Object.clone}else{AC.Object.clone=function clone(a){return AC.Object.extend({},a)}}var AC=window.AC||{};AC.String=AC.String||{};AC.String.isString=function(a){return typeof a=="string"};var AC=window.AC||{};AC.Object.extend(AC,{uid:function ac_uid(){if(!AC._uid){AC._uid=0}return AC._uid++},log:function ac_log(a){if(window.console&&console.log){console.log(a)}},namespace:function ac_namespace(b){if(!(b&&b.match&&b.match(/\S/))){throw"Attempt to create AC.namespace with no name."}var a=b.split(/\./),c=window;for(i=0;i<a.length;i++){c[a[i]]=c[a[i]]||{};c=c[a[i]]}},bindEventListeners:function ac_bindEventListeners(c,b,e){var d=AC.Element.getElementById(b);if(!(d&&d.nodeType)){throw"Invalid or non-existent element passed to bindEventListeners."}for(aKey in e){var a=e[aKey];if(typeof a=="function"){AC.Element.addEventListener(d,aKey,AC.Function.bindAsEventListener(a,c))}else{if(typeof a=="string"){AC.Element.addEventListener(d,aKey,AC.Function.bindAsEventListener(c[a],c))}}}}});AC.Object.extend(AC,{__domReady:function ac___domReady(){if(arguments.callee.done){return}arguments.callee.done=true;if(this._timer){clearInterval(this._timer)}AC.isDomReady=true;if(AC.__domReadyCallbacks){AC.__domReadyCallbacks.forEach(function(a){a()})}AC.__domReadyCallbacks=null},onDOMReady:function ac_onDOMReady(b){if(AC.isDomReady){b()}else{if(!AC.__domReadyCallbacks){var a=this.__domReady.bind(this);if(document.addEventListener){document.addEventListener("DOMContentLoaded",a,false)}if(document.all){document.onreadystatechange=function(){if(this.readyState=="complete"){a()}}}if(/WebKit/i.test(navigator.userAgent)){this._timer=setInterval(function(){if(/loaded|complete/.test(document.readyState)){a()}},10)}AC.Element.addEventListener(window,"load",a);AC.__domReadyCallbacks=[]}AC.__domReadyCallbacks.push(b)}}});AC.windowHasLoaded=false;AC.Element.addEventListener(window,"load",function(){AC.windowHasLoaded=true});AC.namespace("AC.Synthesize");AC.Synthesize.synthesize=function(c){if(typeof c!=="object"){c=this}var b,a;for(a in c){if(c.hasOwnProperty(a)){if(a.charAt(0)==="_"&&!(a.charAt(1)==="_")){if(typeof c[a]!=="function"){this.__synthesizeGetter(a,c);this.__synthesizeSetter(a,c)}}}}};AC.Synthesize.__synthesizeGetter=function(a,b){var c=a.slice(1,a.length);if(typeof b[c]==="undefined"){b[c]=function(){return b[a]}}};AC.Synthesize.__synthesizeSetter=function(a,b){var c=a.slice(1,a.length);c="set"+c.slice(0,1).toUpperCase()+c.slice(1,c.length);if(typeof b[c]==="undefined"){b[c]=function(d){b[a]=d}}};AC.namespace("AC.Object");AC.Object.synthesize=function(a){if(typeof a==="object"){AC.Object.extend(a,AC.Object.clone(AC.Synthesize));a.synthesize();return a}else{throw"Argument supplied was not a valid object.";return a}};AC.Class=function(b){var a=function(){if(Array.isArray(this._subclassPlaceholders)){for(var e=0;e<this._subclassPlaceholders.length;e++){var f=this._subclassPlaceholders[e];if(!this[f]){this[f]=function(){throw"Subclasses must implement "+f+"."}}}}AC.Object.synthesize(this);this.superclass=function(){if(!this.__superclass){throw"Attempted to call superclass() within an instance whose class was not built using AC.Subclass."}if(!this.__closureDepths){this.__closureDepths={}}var p={};var j=this;for(var k in j){if(k!="superclass"&&k!="__superclass"&&typeof this[k]=="function"){var g=this.__closureDepths[k]||0;var n=this;var h=0;while(n&&(h<=g)){n=n.__superclass;if(n&&n.prototype&&typeof n.prototype[k]=="function"){h++}}if(n){var l=""+k;var q=h-1;var m=n.prototype;p[l]=function o(r,s,u){return function t(){this.__closureDepths[r]=s+1;u[r].apply(this,arguments);this.__closureDepths[r]=s}.bind(this)}.bind(this)(k,h-1,n.prototype)}}}return p};var c=(this.initialize?this.initialize.apply(this,arguments):false);if(c==AC.Class.Invalidate){var d=function(){try{if(this&&this["_parentClass"]&&this["_parentClass"]["_sharedInstance"]==this){this["_parentClass"]["_sharedInstance"]=null}}catch(g){throw g}};setTimeout(d.bind(this),200)}};a.autocreate=b;a.sharedInstance=function(){if(!a._sharedInstance){a._sharedInstance=new a();a._sharedInstance["_parentClass"]=a}return a._sharedInstance};a.sharedInstanceShortcut=function(c){if(!(c&&c.match&&c.match(/\S/))){throw"No shortcut name provided."}if(AC[c]){throw"Cannot use shortcuts to override existing objects in the AC namespace."}AC[c]=a.sharedInstance;return a};if(b){AC.onDOMReady(function(){if(a.autocreate){a.sharedInstance()}})}return a};AC.Class.Subclass=function(d,b,c){var a=this.Class(c);AC.Object.extend(AC.Object.extend(a.prototype,AC.Object.extend(d.prototype)),b||{});a.__superclass=d;a.prototype.__superclass=d;return a};AC.Class.Invalidate=function(){return false};AC.namespace("AC.Ajax");AC.Ajax.getTransport=function(){var a=false;try{a=new XMLHttpRequest()}catch(b){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){a=false}}}return a};AC.Ajax.AjaxTracker=AC.Class();AC.Ajax.AjaxTracker.prototype={_responders:[],initialize:function ac_initialize(){},addResponder:function ac_addResponder(a){this._responders.push(a)},removeResponder:function ac_removeResponder(a){var c=0,b=this._responders.length;for(c=0;c<b;c++){if(this._responders[c]==a){a=null;this._responders.splice(c,1);return true}}return false}};AC.Ajax.AjaxRequest=AC.Class();AC.Ajax.AjaxRequest.prototype={_transport:null,_defaultOptions:{method:"get"},_options:null,_mimeTypeOverride:null,initialize:function ac_initialize(b,a){this._transport=AC.Ajax.getTransport();this.setOptions(AC.Object.extend(this.defaultOptions(),a));AC.Ajax.AjaxTracker.sharedInstance().addResponder(this);this.transport().onreadystatechange=this._handleTransportStateChange.bind(this);this.transport().open(this.options().method,b,true);this.transport().setRequestHeader("Content-Type",this.options().contentType);this.transport().send(null)},_handleTransportStateChange:function ac__handleTransportStateChange(){if(this.transport().readyState==4){new AC.Ajax.AjaxResponse(this)}},overrideMimeType:function ac_overrideMimeType(a){this._mimeTypeOverride=a;if(this.transport().overrideMimeType){this.transport().overrideMimeType(a)}}};AC.Ajax.AjaxResponse=AC.Class();AC.Ajax.AjaxResponse.prototype={_request:null,_transport:null,initialize:function ac_initialize(b){var a=false,c=b.transport();this._transport=c;this._request=b;if(c.readyState==4){if(c.status>=200&&c.status<300){b.options().onSuccess?b.options().onSuccess(this):AC.Function.emptyFunction();a=true}}else{if(c.status>=400&&c.status<500){b.options().onFailure?b.options().onFailure(this):AC.Function.emptyFunction();a=true}else{if(c.status>=300&&c.status<400){a=true}else{if(c.status>=500&&c.status<600){b.options().onError?b.options().onError(this):AC.Function.emptyFunction();a=true}}}}if(a===true){b.options().onComplete?b.options().onComplete(this):AC.Function.emptyFunction();AC.Ajax.AjaxTracker.sharedInstance().removeResponder(b)}},responseText:function ac_responseText(){return this._transport.responseText},responseXML:function ac_responseXML(){return this._transport.responseXML},responseJSON:function ac_responseJSON(){return JSON.parse?JSON.parse(this._transport.responseText):(new Function("return "+this._transport.responseText)())}};AC.Ajax.checkURL=function(a,c){var b=AC.Ajax.getTransport();b.onreadystatechange=function(){if(this.readyState===4){c(this.status===200)}};b.open("HEAD",a,true);b.send(null)};AC.Ajax.AjaxRequest.prototype._overrideMimeType=null;AC.Ajax.AjaxRequest.prototype.overrideMimeType=function(a){this._overrideMimeType=a;if(this.transport.overrideMimeType){this.transport.overrideMimeType(a)}};
