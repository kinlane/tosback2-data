/* generated Fri Mar 22 12:44:51 EDT 2013 */

var who;var ESC=27;var TAB=9;var ALT=18;var UP=38;var DOWN=40;var LEFT=37;var RIGHT=39;var ENTER=13;var SHIFT=16;var lastKey=0;function keyDown(c){var b=document.all?window.event.keyCode:c.which;var a=String.fromCharCode(b).toLowerCase();lastKey=b;if(who!=null){who(b,a)}}function keysInit(a){document.onkeydown=keyDown;who=a;if(document.layers){document.captureEvents(Event.KEYPRESS)}}function noEnter(){return lastKey!=ENTER}var _toolong,_lastsent,_timeout,_itemCount,_idletimer,_cursel,_target;var _prevsel;var _inputcode=null,_searchtype;var _targetBG;var _input=null;var _numChoices;var sbHttp=null;var _stop;var _chars=1;var _sboxminwidth;var _clientsbcb;var _sbcountrycode;var _kayakSmartUrl="/m/smarty?";var _forceSelection=true;var _forceSingle=false;var _sbextraargs="";function cancelSmartBox(){keysInit(null);if((_forceSelection||(_forceSingle&&_itemCount==1))&&_inputcode!=null&&_inputcode.value!=null&&_inputcode.value.length<1){_setValue(0)}abortSmartBox();closeSmartBox();_input=null;_stop=false}function abortSmartBox(){if(sbHttp!=null){if(sbHttp.inprogress){sbHttp.cancelRequest()}}}function closeSmartBox(){if(_target!=null){_target.style.display="none";_target.innerHTML=""}if(_targetBG!=null){_targetBG.style.display="none"}_stop=true}function initSmartBox(j,n,g,m,f,l,a,c,b,d){_inputcode=_input=null;if(c!=null){_forceSelection=c}else{_forceSelection=true}if(d!=null){_forceSingle=d}else{_forceSingle=false}if(a){_kayakSmartUrl=a}else{_kayakSmartUrl="/m/smarty?"}if(b){_sbextraargs=b}else{_sbextraargs=""}cancelSmartBox();var k=document.getElementsByTagName("body")[0];_target=document.getElementById("smartbox");if(!_target){_target=document.createElement("div");_target.id="smartbox";_target.style.zIndex=5001;_target.style.position="absolute";_target.style.display="none";_target.style.width="auto";k.appendChild(_target)}_target.className="smartbox smartbox-"+g;_targetBG=document.getElementById("smartboxBG");if(!_targetBG){_targetBG=document.createElement("iframe");_targetBG.id="smartboxBG";_targetBG.style.zIndex=5000;_targetBG.setAttribute("scrolling","no");_targetBG.setAttribute("frameborder","0");_targetBG.style.position="absolute";_targetBG.style.display="none";k.appendChild(_targetBG)}try{j.setAttribute("autocomplete","off");j.setAttribute("autocapitalize","off");j.setAttribute("autocorrect","off")}catch(e){}if(isNaN(parseInt(f))){_sboxminwidth=-1}else{_sboxminwidth=parseInt(f)}keysInit(keypressed);_input=j;_inputcode=n;_searchtype=g;_lastsent="";_timeout=m;_clientsbcb=l;var h=jq(j).offset();_target.style.top=(h.top+j.offsetHeight+1)+"px";_target.style.left=h.left+"px";if(_idletimer){clearTimeout(_idletimer);_idletimer=""}_toolong=false;_lastsent="";_cursel=-1;_prevsel=-1;_stop=false}function _runSearch(a){if(_lastsent==_input.value||_input.value.length<_chars){return}window.status="searching...";_lastsent=_input.value;var b="where="+encodeURIComponent(_lastsent);b+="&lc=en&lc_cc=US";if(_searchtype=="air"){b+="&s=1"}else{if(_searchtype=="car"){b+="&s=2"}else{if(_searchtype=="hotel"){b+="&s=3"}else{if(_searchtype=="any"){b+="&s=4"}else{if(_searchtype=="crc"){b+="&s=5"}else{if(_searchtype=="crcg"){b+="&s=6"}else{if(_searchtype=="deal"){b+="&s=7"}else{if(_searchtype=="crcga"){b+="&s=8"}else{if(_searchtype=="hotelname"){b+="&s=11"}else{b+="&s="+_searchtype}}}}}}}}}if(_sbcountrycode!=null&&_sbcountrycode.length>0){b+="&cc="+_sbcountrycode}b+="&f=h";b+=_sbextraargs;jq.post(_kayakSmartUrl,b,function(e){window.status="";if(_input==a){_target.innerHTML=e;var d=_getSmartboxList();if(d&&d.childNodes){_itemCount=d.childNodes.length}else{_itemCount=0}if(_itemCount>0){for(var c=0;c<d.childNodes.length;c++){li=d.childNodes[c];li.onmousedown=_sbMouseDown;li.onmouseover=_sbMouseOver;li.onmouseout=_sbMouseOut}_target.style.width="auto";_showChoices()}else{_hideChoices()}_cursel=(_forceSelection||(_forceSingle&&_itemCount==1)?0:-1);_prevsel=_cursel;selChoice(_cursel)}},"text")}function setSbCountryCode(a){_sbcountrycode=a}function clearSbCountryCode(){_sbcountrycode=null}function getSbIndex(e){var f=_getSmartboxList();var c=0;if(f&&f.childNodes){for(var b=0;b<f.childNodes.length;b++){var d=f.childNodes[b];if(e==d){c=b;break}var g=false;for(var a=0;a<d.childNodes.length;a++){if(e==d.childNodes[a]){c=b;g=true;break}}if(g){break}}}return c}function _sbMouseOut(a){var b=a?a.target:this;_cursel=-1;selChoice(-1)}function _sbMouseDown(a){var b=a?a.target:this;_cursel=getSbIndex(b);_setValue(_cursel);closeSmartBox()}function _sbMouseOver(a){var b=a?a.target:this;_cursel=getSbIndex(b);selChoice(_cursel)}function _showChoices(){_target.style.display="inline";if(_sbShowBGIframe()){_targetBG.style.display="inline"}if(_sboxminwidth>_target.offsetWidth){_targetBG.style.width=_sboxminwidth+"px";_target.style.width=_sboxminwidth+"px"}else{_targetBG.style.width=_target.offsetWidth+"px";_target.style.width=_target.offsetWidth+"px"}_targetBG.style.height=_target.offsetHeight+"px";_targetBG.style.top=_target.style.top;_targetBG.style.left=_target.style.left}function _hideChoices(){_target.style.display="none";_targetBG.style.display="none"}function _getSmartboxList(){var b;if(_target.childNodes){for(var a=0;a<_target.childNodes.length;a++){var c=_target.childNodes[a];if(c.nodeName=="UL"){b=c;break}}}return b}function _setValue(c){if(c<0){_lastsent="";try{var j=(_inputcode.value!="");_inputcode.value="";if(j){_clientsbcb(null)}}catch(g){}}else{if(_itemCount>0){var h=_getSmartboxList();if(h==null||h.childNodes==null){return}var d=h.childNodes[c];var f=d.id.split("-");var a;if(f.length>1){a=f[1]}_inputcode.value=a;if(d.innerText!=undefined){_input.value=d.innerText}else{_input.value=d.textContent}try{if(typeof _clientsbcb=="function"){var k=new Object();k.str=d.innerHTML;k.type=f[0];k.id=a;k.inputField=_input;k.inputCodeField=_inputcode;if(f.length>2){k.hc=f[2]}if(f.length>3){if(k.type=="hotel"){k.hid=f[3]}else{k.lmid=f[3]}}_clientsbcb(k)}}catch(b){}}}}function selChoice(a){var c=_getSmartboxList();if(c&&c.childNodes&&c.childNodes.length>0){if(_prevsel>=0){var b=c.childNodes[_prevsel];if(b.className){b.className=b.className.replace(/ *smartbox-hover/,"")}else{b.className=""}}if(a>=0){if(c.childNodes.length>0){var d=c.childNodes[a];d.className=d.className+" smartbox-hover"}_prevsel=a}}}var _pressed=0;function keypressed(a,b){clearTimeout(_idletimer);_pressed=new Date().getTime();switch(a){case LEFT:case UP:_cursel=_cursel-1;if(_cursel<0){_cursel=0}selChoice(_cursel);break;case RIGHT:case DOWN:_cursel++;if(_cursel>=_itemCount){_cursel=_itemCount-1}selChoice(_cursel);break;case ENTER:if(_itemCount>0){_setValue(_cursel);closeSmartBox()}break;case ESC:closeSmartBox();break;case TAB:if(_cursel>=0&&_cursel<_itemCount){_setValue(_cursel)}case ALT:case SHIFT:break;default:_setValue(-1);_idletimer=self.setTimeout("idle()",_timeout)}}function sbNoEnter(){var a=(_stop==null||_stop!=true);_stop=false;return(a?true:noEnter())}function idle(a){if(noEnter()){_input.focus();var b=new Date().getTime();if(b-_pressed>_timeout){clearTimeout(_idletimer);_typer(_input)}else{clearTimeout(_idletimer);_idletimer=self.setTimeout("idle()",_timeout)}}}function _typer(a){if((_input!=null)&&_input.value.length>0){abortSmartBox();_runSearch(a)}else{_setValue(-1);closeSmartBox()}}function _sbShowBGIframe(){return(window.opera)?false:true}function fireTimer(b){var c=b;function a(){if(c.inprogress){c._abortRequest(c)}}c._timeoutID=window.setTimeout(a,c.timeoutMS)}function R9HTTPXml(){}R9HTTPXml.prototype={uservars:null,url:null,postbuffer:null,xmlhttp:null,inprogress:false,thecallback:null,timeoutMS:-1,_timeoutID:null,cancelled:false,init:function(c,b,a){this.url=c;this.uservars=a;this.postbuffer=b;if(window.XMLHttpRequest){this.xmlhttp=new XMLHttpRequest()}else{if(window.ActiveXObject){this.xmlhttp=new ActiveXObject("Microsoft.XMLHTTP")}else{window.alert("Sorry your browser is not compatible with this functionality")}}},setTimeout:function(a){this.timeoutMS=a},asyncGET:function(a){if(this.inprogress){throw new Error("Call in progress")}var b=this;if(a==null){a=b}this.thecallback=a;var c=null;if(this.postbuffer==null){this.xmlhttp.open("GET",this.url,true)}else{this.xmlhttp.open("POST",this.url,true);this.xmlhttp.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");c=this.postbuffer}this.xmlhttp.onreadystatechange=function(){b.stateChangeCallback(b)};this.inprogress=true;this.cancelled=false;this.xmlhttp.send(c);if(this.timeoutMS>0){fireTimer(this)}},stateChangeCallback:function(b){switch(b.xmlhttp.readyState){case 1:try{if(!b.cancelled){b.thecallback.onInit()}}catch(c){}break;case 2:try{if(b.xmlhttp.status!=200&&b.xmlhttp.status!=0){if(!b.cancelled){window.status="error";b.thecallback.onError(b.xmlhttp.status,b.xmlhttp.statusText,b)}b.xmlhttp.abort();b.inprogress=false}}catch(c){}break;case 3:var a;try{try{a=b.xmlhttp.getResponseHeader("Content-Length")}catch(c){a=NaN}if(!b.cancelled){window.status="ping";b.thecallback.onProgress(b.xmlhttp.responseText,a)}}catch(c){}break;case 4:try{if(b._timeoutID){window.clearTimeout(b._timeoutID);b._timeoutID=null}if(b.inprogress){b.inprogress=false;if(!b.cancelled){window.status="done";b.thecallback.onLoad(b)}}}catch(c){}finally{b.inprogress=false}break}},cancelRequest:function(){var a=this;this.cancelled=true;if(this._timeoutID){window.clearTimeout(this._timeoutID);this._timeoutID=null}a._abortRequest(a)},_abortRequest:function(b){if(b.xmlhttp!=null){try{b.xmlhttp.abort();if(b.inprogress){window.status="abort";b.thecallback.onError("timeout","Your request has timed out.",b)}}catch(a){}b.cancelled=true;b.inprogress=false}},getText:function(){return this.xmlhttp.responseText},getXML:function(){return this.xmlhttp.responseXML},getTags:function(a){try{return this.xmlhttp.responseXML.getElementsByTagName(a)}catch(b){return null}},getOperaText:function(d,g,b){try{var a=d.getElementsByTagName(g)[b];if(a){var h="",c=0,f;while(f=a.childNodes[c]){h+=f.nodeValue;c++}return h}else{return""}}catch(j){opera.postError("exception: "+j)}},getOpera:function(b,c,a){return"foo"},getTagText:function(c,d,b){var a=c.getElementsByTagName(d)[b];if(a){if(a.childNodes.length>1){return a.childNodes[1].nodeValue}else{if(a.childNodes.length==1){return a.firstChild.nodeValue}}}else{return""}},onProgress:function(b,a){},onError:function(b,a,d){},onLoad:function(a){},onInit:function(a){}};var R9CalDayOfWeek=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var R9CalDaysInMonth=[31,0,31,30,31,30,31,31,30,31,30,31];var R9CalMonthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var R9CalMonthRecords=[];function R9Cal_getDaysInMonth(a,b){if(a==2){return(b%4==0)?29:28}return R9CalDaysInMonth[a-1]}function R9Cal(){this.dayOffset=0;this.lastDay=0;this.monthShown=-100;this.totalMonths=0;this.monthsDomID;this.firstYear=0;this.lastYear=0;this.firstMonthAllowed=0;this.lastMonthAllowed=0;this.thisYear=0;this.thisMonth=0;this.thisDay=0;this.allowPast=false;this.monthWidth=0;this.highlighted={year:0,month:0,day:0};this.marked={year:0,month:0,day:0};return true}SCOPE=(function(){function c(){var f=document.createElement("p");return(f.innerText!=undefined)}var b;if(c()){b=function(f,g){f.innerText=g}}else{b=function(f,g){f.textContent=g}}function a(f,j,g){var h=document.createElement(f);if(j){b(h,j)}if(g){h.className=g}return h}function e(h,f,k,g){var j=document.createElement(f);if(k){b(j,k)}if(g){j.className=g}h.appendChild(j);return j}function d(f,g){f.appendChild(g)}R9Cal.prototype.isOldDate=function(h,f,g){if(g<this.thisYear){return true}if(g==this.thisYear){if(h<this.thisMonth){return true}if(h==this.thisMonth){return f<this.thisDay}}return false};R9Cal.prototype.drawMonth=function(n,q){var k=q.firstOffset;for(var f=0;f<6;++f){var j=f==5?"week lastWeek":"week";if(jq.browser.mozilla){j+=" firefoxWeek"}else{if(jq.browser.msie&&jq.browser.version.substr(0,1)=="8"){j+=" ie8Week"}}var h=a("div",null,j);for(var m=0;m<7;++m){var l,g,o;if(k<=0){l=q.lastMonEnd+k;o="prevMon"}else{if(k>q.thisMonEnd){l=k-q.thisMonEnd;o="nextMon"}else{l=k;o=null}}if(!this.allowPast&&this.isOldDate(q.month,l,q.year)){o="oldDate"}e(h,"p",l,o);++k}d(n,h)}};R9Cal.prototype.setupMonth=function(n,k,f,m,j,l,o){var h={firstOffset:k,lastMonEnd:f,thisMonEnd:m,month:j,year:l,isValid:o,isDrawn:false};R9CalMonthRecords.push(h);var g=k+6*7;this.dayOffset=(g-m-1)%7-6;this.lastDay=m};R9Cal.prototype.makeDowHeader=function(){var f=a("div",null,"dayHeader");jq.each(R9CalDayOfWeek,function(){d(f,a("p",this.charAt(0)))});return f};R9Cal.prototype.drawControls=function(j,g){var f=document.createElement("div");f.className="calControls";if(g){f.className+=" singleMonthCalControls"}var k=document.createElement("a");k.id="gotoPrev";k.href="#";jq(k).html("&laquo;");var h=document.createElement("a");h.id="gotoNext";h.href="#";jq(h).html("&raquo;");var l=document.createElement("a");l.id="closeCal";l.href="#";jq(l).html("&times;");f.appendChild(k);f.appendChild(l);f.appendChild(h);j.appendChild(f)};R9Cal.prototype.drawMonths=function(m,j,x,u,l,z){if(x==null){x=false}if(z==null){z=false}var s=new Date();this.thisYear=s.getFullYear();this.thisMonth=s.getMonth()+1;this.thisDay=s.getDate();this.firstYear=u;this.lastYear=l;this.totalMonths=(l-u+1)*12;this.monthShown=-100;this.allowPast=z;if(z==null||!z){this.firstMonthAllowed=this.getMonthNum(this.thisMonth,this.thisYear);this.lastMonthAllowed=this.firstMonthAllowed+12}else{this.firstMonthAllowed=this.getMonthNum(this.thisMonth,this.firstYear);this.lastMonthAllowed=this.firstMonthAllowed+36;this.totalMonths=36}this.monthsDomID=j.id;this.drawControls(m,x);var p=this.makeDowHeader();var r=a("div",null);r.id=j.id;r.className="months";var k=true;var A=0;for(var n=u;n<=l;++n){for(var v=0;v<12;++v){var o=a("div",null,"month");var t=(v+1)+"/"+n;var q=R9CalMonthNames[v]+" "+n;o.id=t;var h=R9CalDaysInMonth[v];if(v==1){h=(n%4==0)?29:28}var w=e(o,"div",null,"calhead");e(w,"p",q,"monthHeader");d(w,jq(p).clone().get(0));var f=A>=this.firstMonthAllowed&&A<=this.lastMonthAllowed;if(k){var y=new Date();y.setFullYear(n,0,1);var g=1-y.getDay();g+=1-1;this.setupMonth(o,g,31,h,v+1,n,f);k=false}else{this.setupMonth(o,this.dayOffset,this.lastDay,h,v+1,n,f)}d(r,o);++A}}m.replaceChild(r,j)};R9Cal.prototype.isIgnoredDate=function(f){return jq(f).is(".nextMon,.prevMon,.oldDate")};R9Cal.prototype.getDate=function(j){var k=jq(j);if(k.is("p")&&!this.isIgnoredDate(j)){var g=k.parent();if(g.is(".week")){var h=g.parent();if(h.is(".month")){var f=h.attr("id").split("/");return{day:k.text(),month:f[0],year:f[1]}}}}return null};R9Cal.prototype.getMonthNum=function(g,f){if(f>=this.firstYear&&f<=this.lastYear){return(f-this.firstYear)*12+g-1}return -1};R9Cal.prototype.gotoMonth=function(g,f){this.gotoMonthNum(this.getMonthNum(g,f),false)};R9Cal.prototype.withDateElement=function(m,g,k,j){var n=this.getMonthNum(m,k);if(n>=0&&g>=1){var h=jq("div.month","#"+this.monthsDomID).eq(n);var f=this;var l=h.find("p").filter(function(){return jq(this).text()==g&&!f.isIgnoredDate(this)});j(l)}};R9Cal.prototype.highlightDate=function(j,f,k,g,h){this.withDateElement(j.month,j.day,j.year,function(l){l.removeClass(f)});this.withDateElement(k,g,h,function(l){l.addClass(f)});j.month=k;j.day=g;j.year=h};R9Cal.prototype.showNextMonth=function(){if(this.monthShown<this.lastMonthAllowed){this.gotoMonthNum(this.monthShown+1,true)}};R9Cal.prototype.showPreviousMonth=function(){if(this.monthShown>this.firstMonthAllowed){this.gotoMonthNum(this.monthShown-1,true)}};R9Cal.prototype.drawOnDemand=function(h){var f=R9CalMonthRecords[h];if(!f.isDrawn){var g=jq("div.month","#"+this.monthsDomID).eq(h).get(0);this.drawMonth(g,f);f.isDrawn=true}};R9Cal.prototype.gotoMonthNum=function(h,f){if(h>=this.firstMonthAllowed&&h<=this.lastMonthAllowed){if(!f&&this.monthShown==h-1){h=this.monthShown}if(h==this.lastMonthAllowed){--h}if(h!=this.monthShown){this.monthShown=h;this.drawOnDemand(h);this.drawOnDemand(h+1);if(!this.monthWidth){var g=jq("div.month","#"+this.monthsDomID).get(0);this.monthWidth=g.offsetWidth}jq("#"+this.monthsDomID).css("left",(-(this.monthWidth)*h)+"px")}}}})();var R9DatePickerNowShowing=null;function R9DatePicker(c,d,b,a){this.popup=c;this.dayID=b;this.dowID=a;this.calID=c.frameid;this.iconID=d;this.onDateChanged=function(g,e,f){if(typeof this.onChangeCB=="function"){this.onChangeCB(this)}};this.intervalID=-1;this.day=0;this.month=0;this.year=0;this.calendarFocused=false;this.domFocused=false;this.focusTimeout=-1;this.onChangeCB=null}R9DatePicker.prototype.withCal=function(a){var b=window.frames[this.calID];if(b&&b.cal){a(b.cal)}};R9DatePicker.prototype.frameDoc=function(){return window.frames[this.calID].document};R9DatePicker.prototype.setCalendarFocused=function(a){this.calendarFocused=a;if(a){this.domFocused=false}};R9DatePicker.prototype.setDayOfMonthFocused=function(a){this.domFocused=a;if(a){this.calendarFocused=false}};R9DatePicker.prototype.scheduleFocusCheck=function(){var a=this;var b=function(){if(R9DatePickerNowShowing==a.dayID&&!a.domFocused&&!a.calendarFocused){a.updateFromControls();if(a.isVisible()){a.toggle(jq("#"+a.iconID).get(0))}}};this.focusTimeout=window.setTimeout(b,250)};function R9DatePicker_zeroPad(a){return a<10?"0"+a:a}R9DatePicker.prototype.setEvents=function(){var a=this;var b=window.frames[this.calID];var c=b.cal;b.onDatePicked=function(d){a.popup.hide(false,function(){a.setDate(d.month,d.day,d.year);a.onDateChanged(d.month,d.day,d.year)})};b.onNextMonth=function(){c.showNextMonth()};b.onPrevMonth=function(){c.showPreviousMonth()};b.onCloseCal=function(){a.popup.hide()};b.onCalendarFocus=function(){a.setCalendarFocused(true)}};R9DatePicker.prototype.humanReadable=function(c,a,b){return R9DatePicker_zeroPad(c)+"/"+R9DatePicker_zeroPad(a)+"/"+b};R9DatePicker.prototype.parseHumanReadable=function(c){var h;var e;h=1;e=2;var d=/\s*(\d+)[^0-9](\d+)([^0-9](\d+))?\s*/.exec(c);var b=null;if(d){var f=d[4]?parseInt(d[4],10):-1;b={month:parseInt(d[h],10),day:parseInt(d[e],10),year:f}}else{return null}if(b.year<0){var a=new Date();b.year=(b.month<(a.getMonth()+1))?a.getFullYear()+1:a.getFullYear()}if(b.year<21){b.year+=2000}if(b.year<2000||b.year>2020||b.month<1||b.month>12||b.day<1||b.day>31){return null}var j=R9Cal_getDaysInMonth(b.month,b.year);if(b.day>j){return null}var g=true;this.withCal(function(l){var k=l.getMonthNum(b.month,b.year);g=k>=l.firstMonthAllowed&&k<=l.lastMonthAllowed});if(!g){return null}return b};R9DatePicker.prototype.setInputField=function(c,a,b){jq("#"+this.dayID).val((a&&a>0)?this.humanReadable(c,a,b):"")};R9DatePicker.prototype.setDate=function(c,a,b){a=typeof(a)=="string"?(a.length==0?-1:parseInt(a,10)):a;c=typeof(c)=="string"?parseInt(c,10):c;b=typeof(b)=="string"?parseInt(b,10):b;this.setInputField(c,a,b);this.month=c;this.day=a||-1;this.year=b;this.dateHasChanged()};R9DatePicker.prototype.setFromCanonical=function(b){var a=b.split("/");this.setDate(a[0],a[1],a[2])};R9DatePicker.prototype.setMonthYearFromCanonical=function(b){var a=b.split("/");this.setDate(a[0],null,a[2])};R9DatePicker.prototype.clearDay=function(){this.setDate(this.month,null,this.year)};R9DatePicker.prototype.updateFromControls=function(){this.sync();this.setInputField(this.month,this.day,this.year);this.onDateChanged(this.month,this.day,this.year)};R9DatePicker.prototype.sync=function(g,b){var f=this.day,d=this.month,e=this.year;var a=jq("#"+this.dayID).val();var c=this.parseHumanReadable(a);if(c){this.month=c.month;this.day=c.day;this.year=c.year}else{this.day=-1}if(f!=this.day||e!=this.year||d!=this.month||g){this.dateHasChanged()}};R9DatePicker.prototype.dateHasChanged=function(){var b=this;this.withCal(function(g){g.gotoMonth(b.month,b.year);g.highlightDate(g.highlighted,"highlighted",b.month,b.day,b.year)});var e=this.valueAsDate();if(e){var c=(e.getDay()-(1-1));if(c<0){c+=7}var f=R9CalDayOfWeek[c];var d=R9CalMonthNames[this.month-1];var a;a=f+", "+d+" "+this.day+" "+this.year;jq("#"+this.dowID).text(a)}else{jq("#"+this.dowID).text("mm/dd/yyyy")}};R9DatePicker.prototype.fields=function(){this.sync(false,true);return this};R9DatePicker.prototype.valueAsDate=function(a){var c=this.fields();if(c.day>0||a){var b=new Date();b.setDate(1);b.setFullYear(c.year);b.setMonth(c.month-1);b.setDate(c.day>0?c.day:a);return b}return null};R9DatePicker.prototype.markDate=function(a){this.withCal(function(b){b.highlightDate(b.marked,"marked",a.month,a.day,a.year)})};R9DatePicker.prototype.clearMarkedDate=function(){this.withCal(function(a){a.highlightDate(a.marked,"marked",0,0,0)})};R9DatePicker.prototype.toggle=function(a){if(!this.popup.isVisible()){this.setEvents();R9DatePickerNowShowing=this.dayID}else{this.clearInterval();if(this.focusTimeout!=-1){window.clearTimeout(this.focusTimeout);this.focusTimeout=-1}this.calendarFocused=false;this.domFocused=false}this.sync(true);this.popup.controllingIcon=this.iconID;this.popup.controllingInput=this.dayID;this.popup.toggle(a)};R9DatePicker.prototype.setInterval=function(){var a=this;this.intervalID=window.setInterval(function(){a.sync(false,true)},750)};R9DatePicker.prototype.clearInterval=function(){if(this.intervalID!=-1){window.clearInterval(this.intervalID);this.intervalID=-1}};R9DatePicker.prototype.isVisible=function(a){return this.popup.isVisible()};var whenFrameLoadedHook=function(){};function onCalendarLoaded(b,a){whenFrameLoadedHook()}R9CalPopup=function(h,c,b){this.posCache={};this.controllingIcon=null;this.controllingInput=null;this.isHiding=false;var a=document.createElement("div");a.className="r9calContainer";if(c){a.className+=" singleMonthCalContainer"}a.style.visibility="hidden";this.container=a;var d="en.US";var e="/h/nvtl/califrame.vtl?lc="+d+"&singleMonth="+c+"&allowPast="+((b)?"true":false);var g='<iframe src="'+e+'" class="calIframe" frameborder="0" scrolling="no" name="'+h+'" id="'+h+'">';jq(a).html(g);this.positionFunc=function(j){j.l-=80;j.t+=10};this.frameid=h;var f=document.createElement("div");f.className="r9calShadow";this.shadow=f;a.appendChild(f)};function truePos(c){var a=0;var b=0;while(c&&c!=document.body){a+=c.offsetLeft;b+=c.offsetTop;c=c.offsetParent}return{l:a,t:b}}R9CalPopup.prototype.toggle=function(e){var g=jq(this.container);var d=(g.css("visibility")=="visible");if(d){var b=jq(e);if(b.is(".calicon")){var a="#"+this.controllingIcon;if(!b.is(a)&&!b.parent().is(a)){this.hide(true)}else{if(this.hideOnNextClick){this.hide(false);this.hideOnNextClick=false}else{this.hideOnNextClick=true}}}else{var f=e.id;if(f==this.controllingInput){return true}else{if(b.is(".calendar_dom")){this.hide(true);return true}else{this.hide(false)}}}}else{this.show(e)}return false};R9CalPopup.prototype.isVisible=function(a){return(jq(this.container).css("visibility")!="hidden")};R9CalPopup.prototype.show=function(c){var e=c.id;var d=this.posCache[e];if(!d||true){d=truePos(c);d.t+=c.offsetHeight;d.target=c;this.positionFunc(d);if(e){this.posCache[e]={l:d.l,t:d.t}}}hideMeOnPopup(true);var b=this.container.style;b.left=d.l+"px";b.top=d.t+"px";b.visibility="visible";var a=this;jq(document.body).mousedown(function(f){var g=a.toggle(f.target);if(!g){f.preventDefault();return false}return g})};R9CalPopup.prototype.hide=function(b,d){if(this.isHiding){return}var e=jq(this.container);if(b||!jq.browser.firefox){this.container.style.visibility="hidden";if(d){d()}}else{this.isHiding=true;var a=this;e.hide(160,function(){e.css("visibility","hidden");e.show();if(d){d()}a.isHiding=false})}hideMeOnPopup(false);jq(document.body).unbind("mousedown")};function initDatePicker(a,c){var b=new R9DatePicker(a,c.icon_id,c.input_id,c.dow_id);jq("#"+c.icon_id).click(function(d){b.setCalendarFocused(true);b.toggle(d.target);return true});jq("#"+c.input_id).blur(function(d){b.clearInterval();b.setDayOfMonthFocused(false);b.scheduleFocusCheck();return true}).focus(function(d){b.setDayOfMonthFocused(true);b.setInterval();if(!b.isVisible()){b.toggle(jq("#"+c.icon_id).get(0))}return true});if(c.initial_date&&c.initial_date.length>0){b.setFromCanonical(c.initial_date)}else{b.clearDay()}if(c.chg_callback_func&&typeof c.chg_callback_func=="function"){b.onChangeCB=c.chg_callback_func}return b}function setCalendarLoadedHook(a){if(a){whenFrameLoadedHook=a}}function R9DoubleDatePicker(a,e,d,c){setCalendarLoadedHook(d);if(c==null){c=false}this.pop=new R9CalPopup(a.calid,a.singleMonth,c);var f=initDatePicker(this.pop,a);var b=initDatePicker(this.pop,e);if(a.initial_date&&a.initial_date.length>0&&((!e.initial_date)||e.initial_date.length==0)){b.setMonthYearFromCanonical(a.initial_date)}if(e.initial_date&&e.initial_date>0&&((!a.initial_date)||a.initial_date.length==0)){f.setMonthYearFromCanonical(e.initial_date)}this.firstDate=this.departDate=this.checkinDate=this.pickupDate=f;this.secondDate=this.returnDate=this.checkoutDate=this.dropoffDate=b;f.onDateChanged=function(g,k,l){var j=f.valueAsDate();var h=b.valueAsDate(1);if(j&&h&&j>h){b.setDate(g,null,l)}b.markDate(f.fields());if(typeof f.onChangeCB=="function"){f.onChangeCB(this)}};b.onDateChanged=function(g,k,l){var j=f.valueAsDate(1);var h=b.valueAsDate();if(j&&h&&j>h){f.setDate(g,null,l);b.clearMarkedDate()}if(typeof b.onChangeCB=="function"){b.onChangeCB(this)}};if(document.getElementById(a.calid)==null){document.body.appendChild(this.pop.container)}else{this.pop.container=document.getElementById(a.calid).parentNode}}(function(){var a=new Date();a.setFullYear(a.getFullYear()+1);jq.datepicker.setDefaults({altFormat:"D, M d yy",closeText:"Close",currentText:"Current",dateFormat:"mm/dd/yy",dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),dayNamesMin:"S,M,T,W,T,F,S".split(","),dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),firstDay:parseInt("1")-1,maxDate:a,minDate:new Date(),monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),prevText:"Prev",nextText:"Next",showAnim:"",showMonthAfterYear:false})})();jq.r9datepicker={parseDate:function(a){return jq.datepicker.parseDate("mm/dd/yy",a)}};jq.fn.r9datepicker=function(k){k.allowEmpty=(k.allowEmpty===false)?false:true;var g=k.defaultDate,b=k.dateFormat||"mm/dd/yy",c="mm/dd/yyyy";if(g){this.val(jq.datepicker.formatDate(b,g,k));jq(k.altField).text(jq.datepicker.formatDate(k.altFormat||"D, M d yy",g,k))}else{if(this.val()===""){if(!k.allowEmpty){this.val(c)}jq(k.altField).text(c)}}var j=k.beforeShow;var a=k.onClose;var e=k.onSelect;var f=this;var h=function(d,n,l,m){jq(f).trigger(d,[m]);if(n){n(m,l)}};k.beforeShow=function(d,l){h("sbopen",j,d,l)};k.onClose=function(l,d){h("sbclose",a,l,d)};k.onSelect=function(l,d){h("sbset",e,l,d)};return this.attr({autocomplete:"off",autocapitalize:"off",autocorrect:"off"}).datepicker(k)};var R9=R9||{};R9.dp=(function(){function a(e,d){return(c(d)-c(e))/86400000}function b(e,f){var d=e[f];delete e[f];return d}function c(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())}return{doublePicker:function(s,q){var f=s.defaultDate,d=q.defaultDate,j=jq(s.altField),g=jq(q.altField),o=b(s,"onSelect")||jq.noop,m=b(q,"onSelect")||jq.noop,n=jq(b(s,"selector")),l=jq(b(q,"selector")),r=s.resetAfterDays||30,e=s.minRangeDays||0,k=s.numberOfMonths||2,h=q.numberOfMonths||2,p=s.pop2==undefined?true:s.pop2;n.r9datepicker(jq.extend({beforeShowDay:function(t){return[true,(t&&d&&t.getTime()==d.getTime())?"ui-datepicker-marked-day":""]},numberOfMonths:k,onSelect:function(w,v){f=n.datepicker("getDate");var u=d&&a(f,d);if(!d||u>r||u<e){l.datepicker("setDate",null).datepicker("option","defaultDate",f);g.text("mm/dd/yyyy")}o.call(this,w,v);if(p){if(l.is(":visible")&&l.css("visibility")!="hidden"){function t(){l.focus()}window.setTimeout(t,50)}}}},s));l.r9datepicker(jq.extend({beforeShowDay:function(t){return[true,(f&&t&&f.getTime()==t.getTime())?"ui-datepicker-marked-day":""]},numberOfMonths:h,onSelect:function(v,u){d=l.datepicker("getDate");var t=f&&a(f,d);if(!f||t<e){n.datepicker("setDate",null).datepicker("option","defaultDate",d);j.text("mm/dd/yyyy")}m.call(this,v,u);l.r9datepicker("hide")}},q))}}})();var swfobject=function(){var aq="undefined",aD="object",ab="Shockwave Flash",X="ShockwaveFlash.ShockwaveFlash",aE="application/x-shockwave-flash",ac="SWFObjectExprInst",ax="onreadystatechange",af=window,aL=document,aB=navigator,aa=false,Z=[aN],aG=[],ag=[],al=[],aJ,ad,ap,at,ak=false,aU=false,aH,an,aI=true,ah=function(){var a=typeof aL.getElementById!=aq&&typeof aL.getElementsByTagName!=aq&&typeof aL.createElement!=aq,e=aB.userAgent.toLowerCase(),c=aB.platform.toLowerCase(),h=c?/win/.test(c):/win/.test(e),k=c?/mac/.test(c):/mac/.test(e),g=/webkit/.test(e)?parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,d=!+"\v1",f=[0,0,0],l=null;if(typeof aB.plugins!=aq&&typeof aB.plugins[ab]==aD){l=aB.plugins[ab].description;if(l&&!(typeof aB.mimeTypes!=aq&&aB.mimeTypes[aE]&&!aB.mimeTypes[aE].enabledPlugin)){aa=true;d=false;l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1");f[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10);f[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10);f[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof af.ActiveXObject!=aq){try{var j=new ActiveXObject(X);if(j){l=j.GetVariable("$version");if(l){d=true;l=l.split(" ")[1].split(",");f=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)]}}}catch(b){}}}return{w3:a,pv:f,wk:g,ie:d,win:h,mac:k}}(),aK=function(){if(!ah.w3){return}if((typeof aL.readyState!=aq&&aL.readyState=="complete")||(typeof aL.readyState==aq&&(aL.getElementsByTagName("body")[0]||aL.body))){aP()}if(!ak){if(typeof aL.addEventListener!=aq){aL.addEventListener("DOMContentLoaded",aP,false)}if(ah.ie&&ah.win){aL.attachEvent(ax,function(){if(aL.readyState=="complete"){aL.detachEvent(ax,arguments.callee);aP()}});if(af==top){(function(){if(ak){return}try{aL.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}aP()})()}}if(ah.wk){(function(){if(ak){return}if(!/loaded|complete/.test(aL.readyState)){setTimeout(arguments.callee,0);return}aP()})()}aC(aP)}}();function aP(){if(ak){return}try{var b=aL.getElementsByTagName("body")[0].appendChild(ar("span"));b.parentNode.removeChild(b)}catch(a){return}ak=true;var d=Z.length;for(var c=0;c<d;c++){Z[c]()}}function aj(a){if(ak){a()}else{Z[Z.length]=a}}function aC(a){if(typeof af.addEventListener!=aq){af.addEventListener("load",a,false)}else{if(typeof aL.addEventListener!=aq){aL.addEventListener("load",a,false)}else{if(typeof af.attachEvent!=aq){aM(af,"onload",a)}else{if(typeof af.onload=="function"){var b=af.onload;af.onload=function(){b();a()}}else{af.onload=a}}}}}function aN(){if(aa){Y()}else{am()}}function Y(){var d=aL.getElementsByTagName("body")[0];var b=ar(aD);b.setAttribute("type",aE);var a=d.appendChild(b);if(a){var c=0;(function(){if(typeof a.GetVariable!=aq){var e=a.GetVariable("$version");if(e){e=e.split(" ")[1].split(",");ah.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)]}}else{if(c<10){c++;setTimeout(arguments.callee,10);return}}d.removeChild(b);a=null;am()})()}else{am()}}function am(){var g=aG.length;if(g>0){for(var h=0;h<g;h++){var c=aG[h].id;var m=aG[h].callbackFn;var a={success:false,id:c};if(ah.pv[0]>0){var j=aS(c);if(j){if(ao(aG[h].swfVersion)&&!(ah.wk&&ah.wk<312)){ay(c,true);if(m){a.success=true;a.ref=av(c);m(a)}}else{if(aG[h].expressInstall&&au()){var e={};e.data=aG[h].expressInstall;e.width=j.getAttribute("width")||"0";e.height=j.getAttribute("height")||"0";if(j.getAttribute("class")){e.styleclass=j.getAttribute("class")}if(j.getAttribute("align")){e.align=j.getAttribute("align")}var f={};var d=j.getElementsByTagName("param");var l=d.length;for(var k=0;k<l;k++){if(d[k].getAttribute("name").toLowerCase()!="movie"){f[d[k].getAttribute("name")]=d[k].getAttribute("value")}}ae(e,f,c,m)}else{aF(j);if(m){m(a)}}}}}else{ay(c,true);if(m){var b=av(c);if(b&&typeof b.SetVariable!=aq){a.success=true;a.ref=b}m(a)}}}}}function av(b){var d=null;var c=aS(b);if(c&&c.nodeName=="OBJECT"){if(typeof c.SetVariable!=aq){d=c}else{var a=c.getElementsByTagName(aD)[0];if(a){d=a}}}return d}function au(){return !aU&&ao("6.0.65")&&(ah.win||ah.mac)&&!(ah.wk&&ah.wk<312)}function ae(f,d,h,e){aU=true;ap=e||null;at={success:false,id:h};var a=aS(h);if(a){if(a.nodeName=="OBJECT"){aJ=aO(a);ad=null}else{aJ=a;ad=h}f.id=ac;if(typeof f.width==aq||(!/%$/.test(f.width)&&parseInt(f.width,10)<310)){f.width="310"}if(typeof f.height==aq||(!/%$/.test(f.height)&&parseInt(f.height,10)<137)){f.height="137"}aL.title=aL.title.slice(0,47)+" - Flash Player Installation";var b=ah.ie&&ah.win?"ActiveX":"PlugIn",c="MMredirectURL="+af.location.toString().replace(/&/g,"%26")+"&MMplayerType="+b+"&MMdoctitle="+aL.title;if(typeof d.flashvars!=aq){d.flashvars+="&"+c}else{d.flashvars=c}if(ah.ie&&ah.win&&a.readyState!=4){var g=ar("div");h+="SWFObjectNew";g.setAttribute("id",h);a.parentNode.insertBefore(g,a);a.style.display="none";(function(){if(a.readyState==4){a.parentNode.removeChild(a)}else{setTimeout(arguments.callee,10)}})()}aA(f,d,h)}}function aF(a){if(ah.ie&&ah.win&&a.readyState!=4){var b=ar("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(aO(a),b);a.style.display="none";(function(){if(a.readyState==4){a.parentNode.removeChild(a)}else{setTimeout(arguments.callee,10)}})()}else{a.parentNode.replaceChild(aO(a),a)}}function aO(b){var d=ar("div");if(ah.win&&ah.ie){d.innerHTML=b.innerHTML}else{var e=b.getElementsByTagName(aD)[0];if(e){var a=e.childNodes;if(a){var f=a.length;for(var c=0;c<f;c++){if(!(a[c].nodeType==1&&a[c].nodeName=="PARAM")&&!(a[c].nodeType==8)){d.appendChild(a[c].cloneNode(true))}}}}}return d}function aA(e,g,c){var d,a=aS(c);if(ah.wk&&ah.wk<312){return d}if(a){if(typeof e.id==aq){e.id=c}if(ah.ie&&ah.win){var f="";for(var j in e){if(e[j]!=Object.prototype[j]){if(j.toLowerCase()=="data"){g.movie=e[j]}else{if(j.toLowerCase()=="styleclass"){f+=' class="'+e[j]+'"'}else{if(j.toLowerCase()!="classid"){f+=" "+j+'="'+e[j]+'"'}}}}}var h="";for(var k in g){if(g[k]!=Object.prototype[k]){h+='<param name="'+k+'" value="'+g[k]+'" />'}}a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+h+"</object>";ag[ag.length]=e.id;d=aS(e.id)}else{var b=ar(aD);b.setAttribute("type",aE);for(var l in e){if(e[l]!=Object.prototype[l]){if(l.toLowerCase()=="styleclass"){b.setAttribute("class",e[l])}else{if(l.toLowerCase()!="classid"){b.setAttribute(l,e[l])}}}}for(var m in g){if(g[m]!=Object.prototype[m]&&m.toLowerCase()!="movie"){aQ(b,m,g[m])}}a.parentNode.replaceChild(b,a);d=b}}return d}function aQ(b,d,c){var a=ar("param");a.setAttribute("name",d);a.setAttribute("value",c);b.appendChild(a)}function aw(a){var b=aS(a);if(b&&b.nodeName=="OBJECT"){if(ah.ie&&ah.win){b.style.display="none";(function(){if(b.readyState==4){aT(a)}else{setTimeout(arguments.callee,10)}})()}else{b.parentNode.removeChild(b)}}}function aT(a){var b=aS(a);if(b){for(var c in b){if(typeof b[c]=="function"){b[c]=null}}b.parentNode.removeChild(b)}}function aS(a){var c=null;try{c=aL.getElementById(a)}catch(b){}return c}function ar(a){return aL.createElement(a)}function aM(a,c,b){a.attachEvent(c,b);al[al.length]=[a,c,b]}function ao(a){var b=ah.pv,c=a.split(".");c[0]=parseInt(c[0],10);c[1]=parseInt(c[1],10)||0;c[2]=parseInt(c[2],10)||0;return(b[0]>c[0]||(b[0]==c[0]&&b[1]>c[1])||(b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]))?true:false}function az(b,f,a,c){if(ah.ie&&ah.mac){return}var e=aL.getElementsByTagName("head")[0];if(!e){return}var g=(a&&typeof a=="string")?a:"screen";if(c){aH=null;an=null}if(!aH||an!=g){var d=ar("style");d.setAttribute("type","text/css");d.setAttribute("media",g);aH=e.appendChild(d);if(ah.ie&&ah.win&&typeof aL.styleSheets!=aq&&aL.styleSheets.length>0){aH=aL.styleSheets[aL.styleSheets.length-1]}an=g}if(ah.ie&&ah.win){if(aH&&typeof aH.addRule==aD){aH.addRule(b,f)}}else{if(aH&&typeof aL.createTextNode!=aq){aH.appendChild(aL.createTextNode(b+" {"+f+"}"))}}}function ay(a,c){if(!aI){return}var b=c?"visible":"hidden";if(ak&&aS(a)){aS(a).style.visibility=b}else{az("#"+a,"visibility:"+b)}}function ai(b){var a=/[\\\"<>\.;]/;var c=a.exec(b)!=null;return c&&typeof encodeURIComponent!=aq?encodeURIComponent(b):b}var aR=function(){if(ah.ie&&ah.win){window.attachEvent("onunload",function(){var a=al.length;for(var b=0;b<a;b++){al[b][0].detachEvent(al[b][1],al[b][2])}var d=ag.length;for(var c=0;c<d;c++){aw(ag[c])}for(var e in ah){ah[e]=null}ah=null;for(var f in swfobject){swfobject[f]=null}swfobject=null})}}();return{registerObject:function(a,e,c,b){if(ah.w3&&a&&e){var d={};d.id=a;d.swfVersion=e;d.expressInstall=c;d.callbackFn=b;aG[aG.length]=d;ay(a,false)}else{if(b){b({success:false,id:a})}}},getObjectById:function(a){if(ah.w3){return av(a)}},embedSWF:function(l,e,h,f,c,a,b,j,g,k){var d={success:false,id:e};if(ah.w3&&!(ah.wk&&ah.wk<312)&&l&&e&&h&&f&&c){ay(e,false);aj(function(){h+="";f+="";var r={};if(g&&typeof g===aD){for(var p in g){r[p]=g[p]}}r.data=l;r.width=h;r.height=f;var o={};if(j&&typeof j===aD){for(var q in j){o[q]=j[q]}}if(b&&typeof b===aD){for(var m in b){if(typeof o.flashvars!=aq){o.flashvars+="&"+m+"="+b[m]}else{o.flashvars=m+"="+b[m]}}}if(ao(c)){var n=aA(r,o,e);if(r.id==e){ay(e,true)}d.success=true;d.ref=n}else{if(a&&au()){r.data=a;ae(r,o,e,k);return}else{ay(e,true)}}if(k){k(d)}})}else{if(k){k(d)}}},switchOffAutoHideShow:function(){aI=false},ua:ah,getFlashPlayerVersion:function(){return{major:ah.pv[0],minor:ah.pv[1],release:ah.pv[2]}},hasFlashPlayerVersion:ao,createSWF:function(a,b,c){if(ah.w3){return aA(a,b,c)}else{return undefined}},showExpressInstall:function(b,a,d,c){if(ah.w3&&au()){ae(b,a,d,c)}},removeSWF:function(a){if(ah.w3){aw(a)}},createCSS:function(b,a,c,d){if(ah.w3){az(b,a,c,d)}},addDomLoadEvent:aj,addLoadEvent:aC,getQueryParamValue:function(b){var a=aL.location.search||aL.location.hash;if(a){if(/\?/.test(a)){a=a.split("?")[1]}if(b==null){return ai(a)}var c=a.split("&");for(var d=0;d<c.length;d++){if(c[d].substring(0,c[d].indexOf("="))==b){return ai(c[d].substring((c[d].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(aU){var a=aS(ac);if(a&&aJ){a.parentNode.replaceChild(aJ,a);if(ad){ay(ad,true);if(ah.ie&&ah.win){aJ.style.display="block"}}if(ap){ap(at)}}aU=false}}}}();(function(a){R9.extend("utils",{windowopener:function(){}});R9.extend("utils.windowopener",{topWindow:self,options:{closeAfterUncheck:false,predictive:false,prefix:"",popUnder:true,tileWindows:true,heightRule:false,minWidth:0,minHeight:0,screenWidth:1024,screenHeight:768},allOpenedWindows:{},useCheckBoxChange:false,useCheckBoxMouseDown:false,checkBoxSelector:".fieldBlock.fieldBlockXSell.flexAware.flexAwareExact, .cmp2item",useFormSubmitClick:false,useFormSubmitMouseDown:false,formSubmitSelector:"button[type=submit]",useIFrameImplementation:false,emptyPageUrlPath:"/s/compareresults/launchframe",setOptions:function(b){this.options=a.extend(true,{},this.options,b||{})},loadFlash:false,loadedFlash:false,isLoadedFlash:false,minFlashVersion:"11.0",flashVars:{callback:"R9.utils.windowopener.onFinishLoading"},flashParams:{},flashElementID:"flashObjectElement",flashAttributes:{name:"flashObjectElement",id:"flashObjectElement"},flashId:"flashObjectHelper",flashUrl:"/flash/FlashRouter.swf",init:function(){if(top!==self){try{if(top.document.location.toString()){this.topWindow=top}}catch(b){}}if(this.loadFlash&&swfobject.hasFlashPlayerVersion(this.minFlashVersion)&&this.loadedFlash){a("<div />",{id:this.flashId}).css({position:"absolute",left:"-9999px",top:"-9999px"}).append(a("<div />",{id:this.flashElementID})).appendTo(a(document.body));swfobject.embedSWF(this.flashUrl,this.flashElementID,"10","10",this.minFlashVersion,false,this.flashVars,this.flashParams,this.flashAttributes);this.loadedFlash=true}if(typeof R9.globals!=="undefined"&&typeof R9.globals.browserCapabilities!=="undefined"&&typeof R9.globals.browserCapabilities.iframeWindowOpener!=="undefined"){this.useIFrameImplementation=R9.globals.browserCapabilities.iframeWindowOpener}if(typeof R9.cmp2!="undefined"){this.options.tileWindows=R9.cmp2.tileWindows}if(typeof R9.globals!=="undefined"&&typeof R9.globals.browserCapabilities!=="undefined"){var e=R9.globals.browserCapabilities;if(typeof e.WindowOpener!="undefined"&&e.WindowOpener.length==4){var d=e.WindowOpener.split("");this.useCheckBoxChange=d[0]=="1";this.useCheckBoxMouseDown=d[1]=="1";this.useFormSubmitClick=d[2]=="1";this.useFormSubmitMouseDown=d[3]=="1"}}else{this.setBindParams()}var c=Number(this.useCheckBoxChange)+""+Number(this.useCheckBoxMouseDown)+""+Number(this.useFormSubmitClick)+""+Number(this.useFormSubmitMouseDown);switch(c){case"1010":case"0101":case"0001":case"0010":case"0110":case"1001":break;case"1000":case"0100":this.useFormSubmitClick=true;break;case"1100":case"1110":case"1101":this.useCheckBoxMouseDown=false;break;case"0011":case"1011":case"0111":this.useFormSubmitMouseDown=false;break;case"0000":case"1111":default:this.useCheckBoxChange=false;this.useCheckBoxMouseDown=false;this.useFormSubmitClick=true;this.useFormSubmitMouseDown=false;break}},bindEvent:function(f,d,e){this.init();function c(){var g;if(typeof d=="function"){g=d.call(this)}else{if(typeof d=="object"){g=d}}return g}function b(g){var h;if(typeof e=="function"){h=e.call(this,g)}else{if(typeof e=="object"){h=e[g]}}return h}if(this.useCheckBoxChange){this.bindClickCheckboxChange(f,b)}if(this.useCheckBoxMouseDown){this.bindClickCheckboxMouseDown(f,b)}if(this.useFormSubmitClick){this.bindFormSubmitClick(f,c)}if(this.useFormSubmitMouseDown){this.bindFormSubmitMouseDown(f,c)}if(this.useIFrameImplementation){this.bindIFrame(f)}},bindClickCheckboxChange:function(d,b){var c=this;a(c.checkBoxSelector,d).checkboxGroup({change:function(e){if(e.checked){c.options.predictive=true;c.open(b.call(c,e.value))}else{if(c.options.closeAfterUncheck){c.close(b.call(c,e.value))}}}})},bindClickCheckboxMouseDown:function(d,b){var c=this;a(c.checkBoxSelector,d).checkboxGroup({change:function(e){if(e.checked){c.pushBack()}},mousedown:function(e){if(!e.checked){c.options.predictive=true;c.open(b.call(c,e.value))}else{if(c.options.closeAfterUncheck){c.close(b.call(c,e.value))}}}})},bindFormSubmitClick:function(d,b){var c=this;a(this.formSubmitSelector,d).on({click:function(){c.options.predictive=false;c.open(b.call(c))}})},bindFormSubmitMouseDown:function(d,b){var c=this;a(this.formSubmitSelector,d).on({mouseup:function(){if(c.numberOpened>0){c.pushBack()}},mousedown:function(){c.options.predictive=false;c.open(b.call(c))}})},bindIFrame:function(e){var d=this,c=jq(e);function b(){a(d.formSubmitSelector,e).each(function(){var g=a(this);if(this.id==="submitPtTravelersButton"){return}var j=g.wrap('<span style="display:inline-block; position:relative; vertical-align:top;" class="frameWrapper"/>').parent();var f=j.html();var h=a('<iframe scrolling="no" frameborder="0" src="'+d.emptyPageUrlPath+'"></iframe>').css({position:"absolute",top:0,left:0,width:j.width(),height:j.height(),visibility:"hidden"});h.load(function(){h[0].contentDocument.onclick=function(){g.click()};h[0].contentDocument.body.innerHTML=f;h.css("visibility","visible");g.css("visibility","hidden")});j.append(h)})}if(c.length&&c.width()){b()}else{R9.Common.Utils.defer(function(){b()})}},setBindParams:function(){if(a.browser.msie){this.useCheckBoxChange=true;this.useCheckBoxMouseDown=false;this.useFormSubmitClick=true;this.useFormSubmitMouseDown=false}else{if(window.chrome){this.useCheckBoxChange=false;this.useCheckBoxMouseDown=false;this.useFormSubmitClick=true;this.useFormSubmitMouseDown=false;this.useIFrameImplementation=true}else{this.useCheckBoxChange=false;this.useCheckBoxMouseDown=false;this.useFormSubmitClick=true;this.useFormSubmitMouseDown=false}}},onFinishLoading:function(){this.isLoadedFlash=true},urlLinksList:[],totalLinks:null,numberOpened:null,getTotalUrls:function(){var b=0;if(a.isArray(this.urlLinksList)){a.each(this.urlLinksList,function(){b+=1})}return b},result:[],lastOpenedWindow:null,open:function(b){this.urlLinksList=b;this.totalLinks=this.getTotalUrls();this.numberOpened=0;this.result=[];if(this.totalLinks>0){this.appendMissingVariables();this.decideOpenWith(true)}return this.result},close:function(b){var c=b.shift();var e=c.name||null;var d=this.getWindowName(e);if(this.allOpenedWindows[d]&&!this.allOpenedWindows[d].closed){this.allOpenedWindows[d].close()}},appendMissingVariables:function(){var e=(!a.browser.webkit&&(!a.browser.mozilla||parseInt(a.browser.version,10)<12))?1:0;var b=0;var d=this.totalLinks;var c=this;a.each(this.urlLinksList,function(h,k){var g=c.getWindowLeft(b,d);var m=c.getWindowTop();var j=c.getWindowWidth(b,d);var f=c.getWindowHeight();if(c.options.predictive){g=((typeof window.screenX=="undefined")?c.topWindow.screenLeft:c.topWindow.screenX)+10;m=((typeof window.screenY=="undefined")?c.topWindow.screenTop:c.topWindow.screenY)+10;f=Math.min(c.options.screenHeight,(jq(c.topWindow).height()-20));j=Math.min(c.options.screenWidth,(jq(c.topWindow).width()-20))}var l="toolbar="+e+",scrollbars=1,location=1,statusbar=1,menubar=0,resizable=1,top="+m+",left="+g+",screenX="+g+",screenY="+m+",width="+j+",height="+f;k.specs=l;k.width=j;k.height=f;k.x=g;b++})},decideOpenWith:function(e){var f=document.getElementById(this.flashElementID);if(this.isLoadedFlash&&f&&typeof f.sendCommands!="undefined"){var b=[];for(var d=0;d<this.totalLinks;d++){b.push("R9.utils.windowopener.openWindows");if(e){b.push("R9.utils.windowopener.pushBack")}}f.sendCommands(b)}else{for(var d=0;d<this.totalLinks;d++){var c=this.openWindows();if(e&&c&&typeof c.closed!="undefined"&&!c.closed){this.handleInitialWindowFocus(c)}}}},openWindows:function(){try{var f=this.urlLinksList.shift();var c=f.url;var g=f.name||null;var e=f.specs||null;var j=f.x||null;var d=f.width||null;var l=f.height||null;var b=this.getWindowName(g);if(this.allOpenedWindows[b]&&!this.allOpenedWindows[b].closed){this.allOpenedWindows[b].window.location=c;if(!this.options.predictive){this.allOpenedWindows[b].window.resizeTo(d,l);this.allOpenedWindows[b].window.moveTo(j,0)}return true}var k=this.topWindow.window.open("about:blank",b,e);this.allOpenedWindows[b]=k;this.lastOpenedWindow=k;this.numberOpened++;this.result.push(true);k.document.open();k.document.write("<html><head><title>"+document.title+"</title>");k.document.write('<script type="text/javascript">\n');k.document.write('window.location="'+c+'";');if(a.browser.msie){k.document.write("window.blur();opener.window.focus();opener.document.focus();\n")}k.document.write("<\/script>\n");k.document.write("</head><body></body></html>");k.document.close();if(!this.isLoadedFlash){return k}return true}catch(h){}this.result.push(false);return false},pushBack:function(){if(this.lastOpenedWindow){this.handleInitialWindowFocus(this.lastOpenedWindow);this.lastOpenedWindow=null}},defaultOpen:function(b){this.urlLinksList=b;this.totalLinks=this.getTotalUrls();this.numberOpened=0;this.result=[];if(this.totalLinks>0){this.decideOpenWith()}return this.result},getWindowName:function(b){if(b!=null){return this.options.prefix+b}return null},getWindowWidth:function(b,d){var e;if(!this.options.screenWidth||this.options.tileWindows){e=this.getScreenWidth()/d-10}else{e=this.options.screenWidth}if(this.options.tileWindows){return Math.min(e,Math.floor(this.getScreenWidth()/d-10))}var c=0;if(typeof(this.topWindow.window.innerWidth)=="number"){c=this.topWindow.window.innerWidth}if(this.topWindow.document.documentElement&&this.topWindow.document.documentElement.clientWidth){c=this.topWindow.document.documentElement.clientWidth}if(this.options.minWidth){return this.options.minWidth>c?this.options.minWidth:c}return c},getWindowHeight:function(){if(this.options.heightRule){return Math.round(this.getScreenHeight()*0.6)}if(this.options.tileWindows){return this.getScreenHeight()}var b=0;if(typeof(this.topWindow.window.innerHeight)=="number"){b=this.topWindow.window.innerHeight}if(this.topWindow.document.documentElement&&this.topWindow.document.documentElement.clientHeight){b=this.topWindow.document.documentElement.clientHeight}if(this.options.minHeight){return this.options.minHeight>b?this.options.minHeight:b}return b},getWindowTop:function(){if(this.options.heightRule){return Math.round(this.getScreenHeight()*0.4)}if(this.options.tileWindows){return 0}if(this.topWindow.window.screenTop!=undefined){return this.topWindow.window.screenTop}return this.topWindow.window.screenY},getWindowLeft:function(b,c){if(this.options.tileWindows){return Math.floor(this.getWindowWidth(b,c)*b+10*b)}if(this.topWindow.window.screenLeft!=undefined){return this.topWindow.window.screenLeft}return this.topWindow.window.screenX},handleInitialWindowFocus:function(b){if(!this.options.popUnder){return}try{b.blur();if(a.browser.msie){b.opener.focus();b.opener.document.focus()}else{if(a.browser.mozilla||a.browser.webkit){b.opener.window.open("","_self","")}if(a.browser.webkit){b.blur()}b.opener.window.focus()}}catch(c){}},getScreenWidth:function(){if(window.screen.availWidth){return window.screen.availWidth}return window.screen.availWidth},getScreenHeight:function(){if(window.screen.availHeight){return window.screen.availHeight}return this.options.screenHeight},pushCmp2Back:function(){}})})(jq||jQuery);if(typeof R9==="undefined"){R9=new Object()}R9.CompareTo={_currentForm:null,_getFormType:function(a){if(typeof a.tab!=="undefined"){return a.tab.value}else{return"unknown"}},_getMaxCompares:function(a){if(typeof a.comparetomax!=="undefined"){return a.comparetomax.value}else{return 5}},_getCurrentCompares:function(a){return jq(a).find(".compareToCheckboxes span.cmp2item:visible").size()},_getArgs:function(c){var b=this._getFormType(c);var a="";if(b==="flights"){a="ptype=flights";a+="&depart_date="+c.depart_date.value;a+="&return_date="+c.return_date.value;a+="&origin="+c.origin.value;a+="&origincode="+c.origincode.value;a+="&destination="+c.destination.value;a+="&destcode="+c.destcode.value;a+="&cabin=e"}else{if(b==="hotels"){a="ptype=hotels";a+="&checkin_date="+c.checkin_date.value;a+="&checkout_date="+c.checkout_date.value;a+="&location="+c.othercity.value;a+="&citycode="+c.citycode.value}else{if(b==="cars"){a="ptype=cars";a+="&pickup_date="+c.pickup_date.value;a+="&dropoff_date="+c.dropoff_date.value;a+="&location1="+c.location.value;a+="&citycode1="+c.citycode1.value;if(typeof c.citycode2!=="undefined"&&typeof c.location2!=="undefined"){a+="&location2="+c.location2.value;a+="&citycode2="+c.citycode2.value}}else{if(b==="vacations"){a="ptype=vacations";a+="&depart_date="+c.depart_date.value;a+="&return_date="+c.return_date.value;a+="&origin="+c.origin.value;a+="&origincode="+c.origincode.value;a+="&destination="+c.destination.value;a+="&destcode="+c.destcode.value}}}}return a},_showBox:function(b){var c=this._getFormType(b);var a=false;if(c==="flights"){if(b.origin.value!==""&&b.destination.value!==""){a=true}}else{if(c==="hotels"){if(b.othercity.value!==""){a=true}}else{if(c==="cars"){if(b.location.value!==""){a=true}}else{if(c==="vacations"){if(b.origin.value!==""&&b.destination.value!==""){a=true}}}}}if(a===true){jq(b).find(".compareToBox").show()}else{jq(b).find(".compareToBox").hide()}return a},_hideAllCompareTos:function(a){jq(a).find("input[name=comparetosite]").parent().hide()},_compare2chk:function(b){this._hideAllCompareTos(b);var a=this._setCmp2Count;this._currentForm=b;jq.getScript("/s/cmp2chk?"+this._getArgs(b),a)},_setCmp2Count:function(){},_shouldLaunchFromCheckbox:function(a){if(a.parent().is(":visible")&&a.val()!=null&&a.val()!=""){return true}else{return false}},_addCheckedCompareTos:function(b,a){var c=this;jq(b).find("input[name=comparetosite]:checked").each(function(d){if(c._shouldLaunchFromCheckbox(jq(this))===true){a.push({code:jq(this).val()})}})},launch:function(d){if(typeof d.comparetosite==="undefined"){return true}var a=new Array();this._addCheckedCompareTos(d,a);this._uncheckAllHidden(d);var b=[];var c=this;var g={searchType:this._getFormType(d)};jq.each(a,function(h,l){if(l.code!=null&&l.code!=""){var k=l.code;var j=k.substring(0,k.indexOf("_"));b.push({name:j,url:c.getCMP2Url(k,g)})}});var f=R9.utils.windowopener.open(b);var e=true;jq.each(f,function(h,j){e=e&&j});return e},getCMP2Url:function(b,c){if(c.searchType){var a="/s/compareresults/startingsearch?type="+c.searchType+"&p="+b;return a}return""},_checkAll:function(a){jq(a).closest("form").find(".compareToCheckboxes input[name=comparetosite]:visible").prop("checked",true)},_uncheckAllHidden:function(a){jq(a).find(".compareToCheckboxes input[name=comparetosite]:hidden").prop("checked",false)},smartboxCallback:function(a){if(this._showBox(a)===true){this._compare2chk(a)}},checkCallback:function(a,e,c){if(e!=null&&e.indexOf("KAYAK")==0){return}try{var d=this._currentForm;R9.CompareTo._toggleIndividualCompareTo(d,a,e)}catch(b){}},_toggleIndividualCompareTo:function(d,b,c){var a=jq(d).find("span.cmp2item."+c);if(typeof a!="undefined"){if(b){a.show();a.find("div").show()}else{a.hide();a.find("div").hide()}}},_checkboxClick:function(b){var a="false";if(jq(b).is(":checked")){a="true"}jq.ajax({type:"POST",url:"/k/cookie",data:{action:"setmeta",metacookie:jq(b).val(),metavalue:a}})},init:function(a){var b=this;jq(a).find("input[name=comparetosite]").click(function(){b._checkboxClick(jq(this))});jq(a).find("a.compareToCheckAll").click(function(){b._checkAll(jq(this))});b.smartboxCallback(a)}};function cmp2set(a,c,b){R9.CompareTo.checkCallback(a,c,b)}function cmp2am(a,b){}function checkmoresites(){}function setCmp2Count(){}var who;var ESC=27;var TAB=9;var ALT=18;var UP=38;var DOWN=40;var LEFT=37;var RIGHT=39;var ENTER=13;var SHIFT=16;var lastKey=0;function keyDown(c){var b=document.all?window.event.keyCode:c.which;var a=String.fromCharCode(b).toLowerCase();lastKey=b;if(who!=null){who(b,a)}}function keysInit(a){document.onkeydown=keyDown;who=a;if(document.layers){document.captureEvents(Event.KEYPRESS)}}function noEnter(){return lastKey!=ENTER}var _toolong,_lastsent,_timeout,_itemCount,_idletimer,_cursel,_target;var _prevsel;var _inputcode=null,_searchtype;var _targetBG;var _input=null;var _numChoices;var sbHttp=null;var _stop;var _chars=1;var _sboxminwidth;var _clientsbcb;var _sbcountrycode;var _kayakSmartUrl="/m/smarty?";var _forceSelection=true;var _forceSingle=false;var _sbextraargs="";function cancelSmartBox(){keysInit(null);if((_forceSelection||(_forceSingle&&_itemCount==1))&&_inputcode!=null&&_inputcode.value!=null&&_inputcode.value.length<1){_setValue(0)}abortSmartBox();closeSmartBox();_input=null;_stop=false}function abortSmartBox(){if(sbHttp!=null){if(sbHttp.inprogress){sbHttp.cancelRequest()}}}function closeSmartBox(){if(_target!=null){_target.style.display="none";_target.innerHTML=""}if(_targetBG!=null){_targetBG.style.display="none"}_stop=true}function initSmartBox(j,n,g,m,f,l,a,c,b,d){_inputcode=_input=null;if(c!=null){_forceSelection=c}else{_forceSelection=true}if(d!=null){_forceSingle=d}else{_forceSingle=false}if(a){_kayakSmartUrl=a}else{_kayakSmartUrl="/m/smarty?"}if(b){_sbextraargs=b}else{_sbextraargs=""}cancelSmartBox();var k=document.getElementsByTagName("body")[0];_target=document.getElementById("smartbox");if(!_target){_target=document.createElement("div");_target.id="smartbox";_target.style.zIndex=5001;_target.style.position="absolute";_target.style.display="none";_target.style.width="auto";k.appendChild(_target)}_target.className="smartbox smartbox-"+g;_targetBG=document.getElementById("smartboxBG");if(!_targetBG){_targetBG=document.createElement("iframe");_targetBG.id="smartboxBG";_targetBG.style.zIndex=5000;_targetBG.setAttribute("scrolling","no");_targetBG.setAttribute("frameborder","0");_targetBG.style.position="absolute";_targetBG.style.display="none";k.appendChild(_targetBG)}try{j.setAttribute("autocomplete","off");j.setAttribute("autocapitalize","off");j.setAttribute("autocorrect","off")}catch(e){}if(isNaN(parseInt(f))){_sboxminwidth=-1}else{_sboxminwidth=parseInt(f)}keysInit(keypressed);_input=j;_inputcode=n;_searchtype=g;_lastsent="";_timeout=m;_clientsbcb=l;var h=jq(j).offset();_target.style.top=(h.top+j.offsetHeight+1)+"px";_target.style.left=h.left+"px";if(_idletimer){clearTimeout(_idletimer);_idletimer=""}_toolong=false;_lastsent="";_cursel=-1;_prevsel=-1;_stop=false}function _runSearch(a){if(_lastsent==_input.value||_input.value.length<_chars){return}window.status="searching...";_lastsent=_input.value;var b="where="+encodeURIComponent(_lastsent);b+="&lc=en&lc_cc=US";if(_searchtype=="air"){b+="&s=1"}else{if(_searchtype=="car"){b+="&s=2"}else{if(_searchtype=="hotel"){b+="&s=3"}else{if(_searchtype=="any"){b+="&s=4"}else{if(_searchtype=="crc"){b+="&s=5"}else{if(_searchtype=="crcg"){b+="&s=6"}else{if(_searchtype=="deal"){b+="&s=7"}else{if(_searchtype=="crcga"){b+="&s=8"}else{if(_searchtype=="hotelname"){b+="&s=11"}else{b+="&s="+_searchtype}}}}}}}}}if(_sbcountrycode!=null&&_sbcountrycode.length>0){b+="&cc="+_sbcountrycode}b+="&f=h";b+=_sbextraargs;jq.post(_kayakSmartUrl,b,function(e){window.status="";if(_input==a){_target.innerHTML=e;var d=_getSmartboxList();if(d&&d.childNodes){_itemCount=d.childNodes.length}else{_itemCount=0}if(_itemCount>0){for(var c=0;c<d.childNodes.length;c++){li=d.childNodes[c];li.onmousedown=_sbMouseDown;li.onmouseover=_sbMouseOver;li.onmouseout=_sbMouseOut}_target.style.width="auto";_showChoices()}else{_hideChoices()}_cursel=(_forceSelection||(_forceSingle&&_itemCount==1)?0:-1);_prevsel=_cursel;selChoice(_cursel)}},"text")}function setSbCountryCode(a){_sbcountrycode=a}function clearSbCountryCode(){_sbcountrycode=null}function getSbIndex(e){var f=_getSmartboxList();var c=0;if(f&&f.childNodes){for(var b=0;b<f.childNodes.length;b++){var d=f.childNodes[b];if(e==d){c=b;break}var g=false;for(var a=0;a<d.childNodes.length;a++){if(e==d.childNodes[a]){c=b;g=true;break}}if(g){break}}}return c}function _sbMouseOut(a){var b=a?a.target:this;_cursel=-1;selChoice(-1)}function _sbMouseDown(a){var b=a?a.target:this;_cursel=getSbIndex(b);_setValue(_cursel);closeSmartBox()}function _sbMouseOver(a){var b=a?a.target:this;_cursel=getSbIndex(b);selChoice(_cursel)}function _showChoices(){_target.style.display="inline";if(_sbShowBGIframe()){_targetBG.style.display="inline"}if(_sboxminwidth>_target.offsetWidth){_targetBG.style.width=_sboxminwidth+"px";_target.style.width=_sboxminwidth+"px"}else{_targetBG.style.width=_target.offsetWidth+"px";_target.style.width=_target.offsetWidth+"px"}_targetBG.style.height=_target.offsetHeight+"px";_targetBG.style.top=_target.style.top;_targetBG.style.left=_target.style.left}function _hideChoices(){_target.style.display="none";_targetBG.style.display="none"}function _getSmartboxList(){var b;if(_target.childNodes){for(var a=0;a<_target.childNodes.length;a++){var c=_target.childNodes[a];if(c.nodeName=="UL"){b=c;break}}}return b}function _setValue(c){if(c<0){_lastsent="";try{var j=(_inputcode.value!="");_inputcode.value="";if(j){_clientsbcb(null)}}catch(g){}}else{if(_itemCount>0){var h=_getSmartboxList();if(h==null||h.childNodes==null){return}var d=h.childNodes[c];var f=d.id.split("-");var a;if(f.length>1){a=f[1]}_inputcode.value=a;if(d.innerText!=undefined){_input.value=d.innerText}else{_input.value=d.textContent}try{if(typeof _clientsbcb=="function"){var k=new Object();k.str=d.innerHTML;k.type=f[0];k.id=a;k.inputField=_input;k.inputCodeField=_inputcode;if(f.length>2){k.hc=f[2]}if(f.length>3){if(k.type=="hotel"){k.hid=f[3]}else{k.lmid=f[3]}}_clientsbcb(k)}}catch(b){}}}}function selChoice(a){var c=_getSmartboxList();if(c&&c.childNodes&&c.childNodes.length>0){if(_prevsel>=0){var b=c.childNodes[_prevsel];if(b.className){b.className=b.className.replace(/ *smartbox-hover/,"")}else{b.className=""}}if(a>=0){if(c.childNodes.length>0){var d=c.childNodes[a];d.className=d.className+" smartbox-hover"}_prevsel=a}}}var _pressed=0;function keypressed(a,b){clearTimeout(_idletimer);_pressed=new Date().getTime();switch(a){case LEFT:case UP:_cursel=_cursel-1;if(_cursel<0){_cursel=0}selChoice(_cursel);break;case RIGHT:case DOWN:_cursel++;if(_cursel>=_itemCount){_cursel=_itemCount-1}selChoice(_cursel);break;case ENTER:if(_itemCount>0){_setValue(_cursel);closeSmartBox()}break;case ESC:closeSmartBox();break;case TAB:if(_cursel>=0&&_cursel<_itemCount){_setValue(_cursel)}case ALT:case SHIFT:break;default:_setValue(-1);_idletimer=self.setTimeout("idle()",_timeout)}}function sbNoEnter(){var a=(_stop==null||_stop!=true);_stop=false;return(a?true:noEnter())}function idle(a){if(noEnter()){_input.focus();var b=new Date().getTime();if(b-_pressed>_timeout){clearTimeout(_idletimer);_typer(_input)}else{clearTimeout(_idletimer);_idletimer=self.setTimeout("idle()",_timeout)}}}function _typer(a){if((_input!=null)&&_input.value.length>0){abortSmartBox();_runSearch(a)}else{_setValue(-1);closeSmartBox()}}function _sbShowBGIframe(){return(window.opera)?false:true}function fireTimer(b){var c=b;function a(){if(c.inprogress){c._abortRequest(c)}}c._timeoutID=window.setTimeout(a,c.timeoutMS)}function R9HTTPXml(){}R9HTTPXml.prototype={uservars:null,url:null,postbuffer:null,xmlhttp:null,inprogress:false,thecallback:null,timeoutMS:-1,_timeoutID:null,cancelled:false,init:function(c,b,a){this.url=c;this.uservars=a;this.postbuffer=b;if(window.XMLHttpRequest){this.xmlhttp=new XMLHttpRequest()}else{if(window.ActiveXObject){this.xmlhttp=new ActiveXObject("Microsoft.XMLHTTP")}else{window.alert("Sorry your browser is not compatible with this functionality")}}},setTimeout:function(a){this.timeoutMS=a},asyncGET:function(a){if(this.inprogress){throw new Error("Call in progress")}var b=this;if(a==null){a=b}this.thecallback=a;var c=null;if(this.postbuffer==null){this.xmlhttp.open("GET",this.url,true)}else{this.xmlhttp.open("POST",this.url,true);this.xmlhttp.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");c=this.postbuffer}this.xmlhttp.onreadystatechange=function(){b.stateChangeCallback(b)};this.inprogress=true;this.cancelled=false;this.xmlhttp.send(c);if(this.timeoutMS>0){fireTimer(this)}},stateChangeCallback:function(b){switch(b.xmlhttp.readyState){case 1:try{if(!b.cancelled){b.thecallback.onInit()}}catch(c){}break;case 2:try{if(b.xmlhttp.status!=200&&b.xmlhttp.status!=0){if(!b.cancelled){window.status="error";b.thecallback.onError(b.xmlhttp.status,b.xmlhttp.statusText,b)}b.xmlhttp.abort();b.inprogress=false}}catch(c){}break;case 3:var a;try{try{a=b.xmlhttp.getResponseHeader("Content-Length")}catch(c){a=NaN}if(!b.cancelled){window.status="ping";b.thecallback.onProgress(b.xmlhttp.responseText,a)}}catch(c){}break;case 4:try{if(b._timeoutID){window.clearTimeout(b._timeoutID);b._timeoutID=null}if(b.inprogress){b.inprogress=false;if(!b.cancelled){window.status="done";b.thecallback.onLoad(b)}}}catch(c){}finally{b.inprogress=false}break}},cancelRequest:function(){var a=this;this.cancelled=true;if(this._timeoutID){window.clearTimeout(this._timeoutID);this._timeoutID=null}a._abortRequest(a)},_abortRequest:function(b){if(b.xmlhttp!=null){try{b.xmlhttp.abort();if(b.inprogress){window.status="abort";b.thecallback.onError("timeout","Your request has timed out.",b)}}catch(a){}b.cancelled=true;b.inprogress=false}},getText:function(){return this.xmlhttp.responseText},getXML:function(){return this.xmlhttp.responseXML},getTags:function(a){try{return this.xmlhttp.responseXML.getElementsByTagName(a)}catch(b){return null}},getOperaText:function(d,g,b){try{var a=d.getElementsByTagName(g)[b];if(a){var h="",c=0,f;while(f=a.childNodes[c]){h+=f.nodeValue;c++}return h}else{return""}}catch(j){opera.postError("exception: "+j)}},getOpera:function(b,c,a){return"foo"},getTagText:function(c,d,b){var a=c.getElementsByTagName(d)[b];if(a){if(a.childNodes.length>1){return a.childNodes[1].nodeValue}else{if(a.childNodes.length==1){return a.firstChild.nodeValue}}}else{return""}},onProgress:function(b,a){},onError:function(b,a,d){},onLoad:function(a){},onInit:function(a){}};var R9CalDayOfWeek=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var R9CalDaysInMonth=[31,0,31,30,31,30,31,31,30,31,30,31];var R9CalMonthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var R9CalMonthRecords=[];function R9Cal_getDaysInMonth(a,b){if(a==2){return(b%4==0)?29:28}return R9CalDaysInMonth[a-1]}function R9Cal(){this.dayOffset=0;this.lastDay=0;this.monthShown=-100;this.totalMonths=0;this.monthsDomID;this.firstYear=0;this.lastYear=0;this.firstMonthAllowed=0;this.lastMonthAllowed=0;this.thisYear=0;this.thisMonth=0;this.thisDay=0;this.allowPast=false;this.monthWidth=0;this.highlighted={year:0,month:0,day:0};this.marked={year:0,month:0,day:0};return true}SCOPE=(function(){function c(){var f=document.createElement("p");return(f.innerText!=undefined)}var b;if(c()){b=function(f,g){f.innerText=g}}else{b=function(f,g){f.textContent=g}}function a(f,j,g){var h=document.createElement(f);if(j){b(h,j)}if(g){h.className=g}return h}function e(h,f,k,g){var j=document.createElement(f);if(k){b(j,k)}if(g){j.className=g}h.appendChild(j);return j}function d(f,g){f.appendChild(g)}R9Cal.prototype.isOldDate=function(h,f,g){if(g<this.thisYear){return true}if(g==this.thisYear){if(h<this.thisMonth){return true}if(h==this.thisMonth){return f<this.thisDay}}return false};R9Cal.prototype.drawMonth=function(n,q){var k=q.firstOffset;for(var f=0;f<6;++f){var j=f==5?"week lastWeek":"week";if(jq.browser.mozilla){j+=" firefoxWeek"}else{if(jq.browser.msie&&jq.browser.version.substr(0,1)=="8"){j+=" ie8Week"}}var h=a("div",null,j);for(var m=0;m<7;++m){var l,g,o;if(k<=0){l=q.lastMonEnd+k;o="prevMon"}else{if(k>q.thisMonEnd){l=k-q.thisMonEnd;o="nextMon"}else{l=k;o=null}}if(!this.allowPast&&this.isOldDate(q.month,l,q.year)){o="oldDate"}e(h,"p",l,o);++k}d(n,h)}};R9Cal.prototype.setupMonth=function(n,k,f,m,j,l,o){var h={firstOffset:k,lastMonEnd:f,thisMonEnd:m,month:j,year:l,isValid:o,isDrawn:false};R9CalMonthRecords.push(h);var g=k+6*7;this.dayOffset=(g-m-1)%7-6;this.lastDay=m};R9Cal.prototype.makeDowHeader=function(){var f=a("div",null,"dayHeader");jq.each(R9CalDayOfWeek,function(){d(f,a("p",this.charAt(0)))});return f};R9Cal.prototype.drawControls=function(j,g){var f=document.createElement("div");f.className="calControls";if(g){f.className+=" singleMonthCalControls"}var k=document.createElement("a");k.id="gotoPrev";k.href="#";jq(k).html("&laquo;");var h=document.createElement("a");h.id="gotoNext";h.href="#";jq(h).html("&raquo;");var l=document.createElement("a");l.id="closeCal";l.href="#";jq(l).html("&times;");f.appendChild(k);f.appendChild(l);f.appendChild(h);j.appendChild(f)};R9Cal.prototype.drawMonths=function(m,j,x,u,l,z){if(x==null){x=false}if(z==null){z=false}var s=new Date();this.thisYear=s.getFullYear();this.thisMonth=s.getMonth()+1;this.thisDay=s.getDate();this.firstYear=u;this.lastYear=l;this.totalMonths=(l-u+1)*12;this.monthShown=-100;this.allowPast=z;if(z==null||!z){this.firstMonthAllowed=this.getMonthNum(this.thisMonth,this.thisYear);this.lastMonthAllowed=this.firstMonthAllowed+12}else{this.firstMonthAllowed=this.getMonthNum(this.thisMonth,this.firstYear);this.lastMonthAllowed=this.firstMonthAllowed+36;this.totalMonths=36}this.monthsDomID=j.id;this.drawControls(m,x);var p=this.makeDowHeader();var r=a("div",null);r.id=j.id;r.className="months";var k=true;var A=0;for(var n=u;n<=l;++n){for(var v=0;v<12;++v){var o=a("div",null,"month");var t=(v+1)+"/"+n;var q=R9CalMonthNames[v]+" "+n;o.id=t;var h=R9CalDaysInMonth[v];if(v==1){h=(n%4==0)?29:28}var w=e(o,"div",null,"calhead");e(w,"p",q,"monthHeader");d(w,jq(p).clone().get(0));var f=A>=this.firstMonthAllowed&&A<=this.lastMonthAllowed;if(k){var y=new Date();y.setFullYear(n,0,1);var g=1-y.getDay();g+=1-1;this.setupMonth(o,g,31,h,v+1,n,f);k=false}else{this.setupMonth(o,this.dayOffset,this.lastDay,h,v+1,n,f)}d(r,o);++A}}m.replaceChild(r,j)};R9Cal.prototype.isIgnoredDate=function(f){return jq(f).is(".nextMon,.prevMon,.oldDate")};R9Cal.prototype.getDate=function(j){var k=jq(j);if(k.is("p")&&!this.isIgnoredDate(j)){var g=k.parent();if(g.is(".week")){var h=g.parent();if(h.is(".month")){var f=h.attr("id").split("/");return{day:k.text(),month:f[0],year:f[1]}}}}return null};R9Cal.prototype.getMonthNum=function(g,f){if(f>=this.firstYear&&f<=this.lastYear){return(f-this.firstYear)*12+g-1}return -1};R9Cal.prototype.gotoMonth=function(g,f){this.gotoMonthNum(this.getMonthNum(g,f),false)};R9Cal.prototype.withDateElement=function(m,g,k,j){var n=this.getMonthNum(m,k);if(n>=0&&g>=1){var h=jq("div.month","#"+this.monthsDomID).eq(n);var f=this;var l=h.find("p").filter(function(){return jq(this).text()==g&&!f.isIgnoredDate(this)});j(l)}};R9Cal.prototype.highlightDate=function(j,f,k,g,h){this.withDateElement(j.month,j.day,j.year,function(l){l.removeClass(f)});this.withDateElement(k,g,h,function(l){l.addClass(f)});j.month=k;j.day=g;j.year=h};R9Cal.prototype.showNextMonth=function(){if(this.monthShown<this.lastMonthAllowed){this.gotoMonthNum(this.monthShown+1,true)}};R9Cal.prototype.showPreviousMonth=function(){if(this.monthShown>this.firstMonthAllowed){this.gotoMonthNum(this.monthShown-1,true)}};R9Cal.prototype.drawOnDemand=function(h){var f=R9CalMonthRecords[h];if(!f.isDrawn){var g=jq("div.month","#"+this.monthsDomID).eq(h).get(0);this.drawMonth(g,f);f.isDrawn=true}};R9Cal.prototype.gotoMonthNum=function(h,f){if(h>=this.firstMonthAllowed&&h<=this.lastMonthAllowed){if(!f&&this.monthShown==h-1){h=this.monthShown}if(h==this.lastMonthAllowed){--h}if(h!=this.monthShown){this.monthShown=h;this.drawOnDemand(h);this.drawOnDemand(h+1);if(!this.monthWidth){var g=jq("div.month","#"+this.monthsDomID).get(0);this.monthWidth=g.offsetWidth}jq("#"+this.monthsDomID).css("left",(-(this.monthWidth)*h)+"px")}}}})();var R9DatePickerNowShowing=null;function R9DatePicker(c,d,b,a){this.popup=c;this.dayID=b;this.dowID=a;this.calID=c.frameid;this.iconID=d;this.onDateChanged=function(g,e,f){if(typeof this.onChangeCB=="function"){this.onChangeCB(this)}};this.intervalID=-1;this.day=0;this.month=0;this.year=0;this.calendarFocused=false;this.domFocused=false;this.focusTimeout=-1;this.onChangeCB=null}R9DatePicker.prototype.withCal=function(a){var b=window.frames[this.calID];if(b&&b.cal){a(b.cal)}};R9DatePicker.prototype.frameDoc=function(){return window.frames[this.calID].document};R9DatePicker.prototype.setCalendarFocused=function(a){this.calendarFocused=a;if(a){this.domFocused=false}};R9DatePicker.prototype.setDayOfMonthFocused=function(a){this.domFocused=a;if(a){this.calendarFocused=false}};R9DatePicker.prototype.scheduleFocusCheck=function(){var a=this;var b=function(){if(R9DatePickerNowShowing==a.dayID&&!a.domFocused&&!a.calendarFocused){a.updateFromControls();if(a.isVisible()){a.toggle(jq("#"+a.iconID).get(0))}}};this.focusTimeout=window.setTimeout(b,250)};function R9DatePicker_zeroPad(a){return a<10?"0"+a:a}R9DatePicker.prototype.setEvents=function(){var a=this;var b=window.frames[this.calID];var c=b.cal;b.onDatePicked=function(d){a.popup.hide(false,function(){a.setDate(d.month,d.day,d.year);a.onDateChanged(d.month,d.day,d.year)})};b.onNextMonth=function(){c.showNextMonth()};b.onPrevMonth=function(){c.showPreviousMonth()};b.onCloseCal=function(){a.popup.hide()};b.onCalendarFocus=function(){a.setCalendarFocused(true)}};R9DatePicker.prototype.humanReadable=function(c,a,b){return R9DatePicker_zeroPad(c)+"/"+R9DatePicker_zeroPad(a)+"/"+b};R9DatePicker.prototype.parseHumanReadable=function(c){var h;var e;h=1;e=2;var d=/\s*(\d+)[^0-9](\d+)([^0-9](\d+))?\s*/.exec(c);var b=null;if(d){var f=d[4]?parseInt(d[4],10):-1;b={month:parseInt(d[h],10),day:parseInt(d[e],10),year:f}}else{return null}if(b.year<0){var a=new Date();b.year=(b.month<(a.getMonth()+1))?a.getFullYear()+1:a.getFullYear()}if(b.year<21){b.year+=2000}if(b.year<2000||b.year>2020||b.month<1||b.month>12||b.day<1||b.day>31){return null}var j=R9Cal_getDaysInMonth(b.month,b.year);if(b.day>j){return null}var g=true;this.withCal(function(l){var k=l.getMonthNum(b.month,b.year);g=k>=l.firstMonthAllowed&&k<=l.lastMonthAllowed});if(!g){return null}return b};R9DatePicker.prototype.setInputField=function(c,a,b){jq("#"+this.dayID).val((a&&a>0)?this.humanReadable(c,a,b):"")};R9DatePicker.prototype.setDate=function(c,a,b){a=typeof(a)=="string"?(a.length==0?-1:parseInt(a,10)):a;c=typeof(c)=="string"?parseInt(c,10):c;b=typeof(b)=="string"?parseInt(b,10):b;this.setInputField(c,a,b);this.month=c;this.day=a||-1;this.year=b;this.dateHasChanged()};R9DatePicker.prototype.setFromCanonical=function(b){var a=b.split("/");this.setDate(a[0],a[1],a[2])};R9DatePicker.prototype.setMonthYearFromCanonical=function(b){var a=b.split("/");this.setDate(a[0],null,a[2])};R9DatePicker.prototype.clearDay=function(){this.setDate(this.month,null,this.year)};R9DatePicker.prototype.updateFromControls=function(){this.sync();this.setInputField(this.month,this.day,this.year);this.onDateChanged(this.month,this.day,this.year)};R9DatePicker.prototype.sync=function(g,b){var f=this.day,d=this.month,e=this.year;var a=jq("#"+this.dayID).val();var c=this.parseHumanReadable(a);if(c){this.month=c.month;this.day=c.day;this.year=c.year}else{this.day=-1}if(f!=this.day||e!=this.year||d!=this.month||g){this.dateHasChanged()}};R9DatePicker.prototype.dateHasChanged=function(){var b=this;this.withCal(function(g){g.gotoMonth(b.month,b.year);g.highlightDate(g.highlighted,"highlighted",b.month,b.day,b.year)});var e=this.valueAsDate();if(e){var c=(e.getDay()-(1-1));if(c<0){c+=7}var f=R9CalDayOfWeek[c];var d=R9CalMonthNames[this.month-1];var a;a=f+", "+d+" "+this.day+" "+this.year;jq("#"+this.dowID).text(a)}else{jq("#"+this.dowID).text("mm/dd/yyyy")}};R9DatePicker.prototype.fields=function(){this.sync(false,true);return this};R9DatePicker.prototype.valueAsDate=function(a){var c=this.fields();if(c.day>0||a){var b=new Date();b.setDate(1);b.setFullYear(c.year);b.setMonth(c.month-1);b.setDate(c.day>0?c.day:a);return b}return null};R9DatePicker.prototype.markDate=function(a){this.withCal(function(b){b.highlightDate(b.marked,"marked",a.month,a.day,a.year)})};R9DatePicker.prototype.clearMarkedDate=function(){this.withCal(function(a){a.highlightDate(a.marked,"marked",0,0,0)})};R9DatePicker.prototype.toggle=function(a){if(!this.popup.isVisible()){this.setEvents();R9DatePickerNowShowing=this.dayID}else{this.clearInterval();if(this.focusTimeout!=-1){window.clearTimeout(this.focusTimeout);this.focusTimeout=-1}this.calendarFocused=false;this.domFocused=false}this.sync(true);this.popup.controllingIcon=this.iconID;this.popup.controllingInput=this.dayID;this.popup.toggle(a)};R9DatePicker.prototype.setInterval=function(){var a=this;this.intervalID=window.setInterval(function(){a.sync(false,true)},750)};R9DatePicker.prototype.clearInterval=function(){if(this.intervalID!=-1){window.clearInterval(this.intervalID);this.intervalID=-1}};R9DatePicker.prototype.isVisible=function(a){return this.popup.isVisible()};var whenFrameLoadedHook=function(){};function onCalendarLoaded(b,a){whenFrameLoadedHook()}R9CalPopup=function(h,c,b){this.posCache={};this.controllingIcon=null;this.controllingInput=null;this.isHiding=false;var a=document.createElement("div");a.className="r9calContainer";if(c){a.className+=" singleMonthCalContainer"}a.style.visibility="hidden";this.container=a;var d="en.US";var e="/h/nvtl/califrame.vtl?lc="+d+"&singleMonth="+c+"&allowPast="+((b)?"true":false);var g='<iframe src="'+e+'" class="calIframe" frameborder="0" scrolling="no" name="'+h+'" id="'+h+'">';jq(a).html(g);this.positionFunc=function(j){j.l-=80;j.t+=10};this.frameid=h;var f=document.createElement("div");f.className="r9calShadow";this.shadow=f;a.appendChild(f)};function truePos(c){var a=0;var b=0;while(c&&c!=document.body){a+=c.offsetLeft;b+=c.offsetTop;c=c.offsetParent}return{l:a,t:b}}R9CalPopup.prototype.toggle=function(e){var g=jq(this.container);var d=(g.css("visibility")=="visible");if(d){var b=jq(e);if(b.is(".calicon")){var a="#"+this.controllingIcon;if(!b.is(a)&&!b.parent().is(a)){this.hide(true)}else{if(this.hideOnNextClick){this.hide(false);this.hideOnNextClick=false}else{this.hideOnNextClick=true}}}else{var f=e.id;if(f==this.controllingInput){return true}else{if(b.is(".calendar_dom")){this.hide(true);return true}else{this.hide(false)}}}}else{this.show(e)}return false};R9CalPopup.prototype.isVisible=function(a){return(jq(this.container).css("visibility")!="hidden")};R9CalPopup.prototype.show=function(c){var e=c.id;var d=this.posCache[e];if(!d||true){d=truePos(c);d.t+=c.offsetHeight;d.target=c;this.positionFunc(d);if(e){this.posCache[e]={l:d.l,t:d.t}}}hideMeOnPopup(true);var b=this.container.style;b.left=d.l+"px";b.top=d.t+"px";b.visibility="visible";var a=this;jq(document.body).mousedown(function(f){var g=a.toggle(f.target);if(!g){f.preventDefault();return false}return g})};R9CalPopup.prototype.hide=function(b,d){if(this.isHiding){return}var e=jq(this.container);if(b||!jq.browser.firefox){this.container.style.visibility="hidden";if(d){d()}}else{this.isHiding=true;var a=this;e.hide(160,function(){e.css("visibility","hidden");e.show();if(d){d()}a.isHiding=false})}hideMeOnPopup(false);jq(document.body).unbind("mousedown")};function initDatePicker(a,c){var b=new R9DatePicker(a,c.icon_id,c.input_id,c.dow_id);jq("#"+c.icon_id).click(function(d){b.setCalendarFocused(true);b.toggle(d.target);return true});jq("#"+c.input_id).blur(function(d){b.clearInterval();b.setDayOfMonthFocused(false);b.scheduleFocusCheck();return true}).focus(function(d){b.setDayOfMonthFocused(true);b.setInterval();if(!b.isVisible()){b.toggle(jq("#"+c.icon_id).get(0))}return true});if(c.initial_date&&c.initial_date.length>0){b.setFromCanonical(c.initial_date)}else{b.clearDay()}if(c.chg_callback_func&&typeof c.chg_callback_func=="function"){b.onChangeCB=c.chg_callback_func}return b}function setCalendarLoadedHook(a){if(a){whenFrameLoadedHook=a}}function R9DoubleDatePicker(a,e,d,c){setCalendarLoadedHook(d);if(c==null){c=false}this.pop=new R9CalPopup(a.calid,a.singleMonth,c);var f=initDatePicker(this.pop,a);var b=initDatePicker(this.pop,e);if(a.initial_date&&a.initial_date.length>0&&((!e.initial_date)||e.initial_date.length==0)){b.setMonthYearFromCanonical(a.initial_date)}if(e.initial_date&&e.initial_date>0&&((!a.initial_date)||a.initial_date.length==0)){f.setMonthYearFromCanonical(e.initial_date)}this.firstDate=this.departDate=this.checkinDate=this.pickupDate=f;this.secondDate=this.returnDate=this.checkoutDate=this.dropoffDate=b;f.onDateChanged=function(g,k,l){var j=f.valueAsDate();var h=b.valueAsDate(1);if(j&&h&&j>h){b.setDate(g,null,l)}b.markDate(f.fields());if(typeof f.onChangeCB=="function"){f.onChangeCB(this)}};b.onDateChanged=function(g,k,l){var j=f.valueAsDate(1);var h=b.valueAsDate();if(j&&h&&j>h){f.setDate(g,null,l);b.clearMarkedDate()}if(typeof b.onChangeCB=="function"){b.onChangeCB(this)}};if(document.getElementById(a.calid)==null){document.body.appendChild(this.pop.container)}else{this.pop.container=document.getElementById(a.calid).parentNode}}(function(){var a=new Date();a.setFullYear(a.getFullYear()+1);jq.datepicker.setDefaults({altFormat:"D, M d yy",closeText:"Close",currentText:"Current",dateFormat:"mm/dd/yy",dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),dayNamesMin:"S,M,T,W,T,F,S".split(","),dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),firstDay:parseInt("1")-1,maxDate:a,minDate:new Date(),monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),prevText:"Prev",nextText:"Next",showAnim:"",showMonthAfterYear:false})})();jq.r9datepicker={parseDate:function(a){return jq.datepicker.parseDate("mm/dd/yy",a)}};jq.fn.r9datepicker=function(k){k.allowEmpty=(k.allowEmpty===false)?false:true;var g=k.defaultDate,b=k.dateFormat||"mm/dd/yy",c="mm/dd/yyyy";if(g){this.val(jq.datepicker.formatDate(b,g,k));jq(k.altField).text(jq.datepicker.formatDate(k.altFormat||"D, M d yy",g,k))}else{if(this.val()===""){if(!k.allowEmpty){this.val(c)}jq(k.altField).text(c)}}var j=k.beforeShow;var a=k.onClose;var e=k.onSelect;var f=this;var h=function(d,n,l,m){jq(f).trigger(d,[m]);if(n){n(m,l)}};k.beforeShow=function(d,l){h("sbopen",j,d,l)};k.onClose=function(l,d){h("sbclose",a,l,d)};k.onSelect=function(l,d){h("sbset",e,l,d)};return this.attr({autocomplete:"off",autocapitalize:"off",autocorrect:"off"}).datepicker(k)};var R9=R9||{};R9.dp=(function(){function a(e,d){return(c(d)-c(e))/86400000}function b(e,f){var d=e[f];delete e[f];return d}function c(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())}return{doublePicker:function(s,q){var f=s.defaultDate,d=q.defaultDate,j=jq(s.altField),g=jq(q.altField),o=b(s,"onSelect")||jq.noop,m=b(q,"onSelect")||jq.noop,n=jq(b(s,"selector")),l=jq(b(q,"selector")),r=s.resetAfterDays||30,e=s.minRangeDays||0,k=s.numberOfMonths||2,h=q.numberOfMonths||2,p=s.pop2==undefined?true:s.pop2;n.r9datepicker(jq.extend({beforeShowDay:function(t){return[true,(t&&d&&t.getTime()==d.getTime())?"ui-datepicker-marked-day":""]},numberOfMonths:k,onSelect:function(w,v){f=n.datepicker("getDate");var u=d&&a(f,d);if(!d||u>r||u<e){l.datepicker("setDate",null).datepicker("option","defaultDate",f);g.text("mm/dd/yyyy")}o.call(this,w,v);if(p){if(l.is(":visible")&&l.css("visibility")!="hidden"){function t(){l.focus()}window.setTimeout(t,50)}}}},s));l.r9datepicker(jq.extend({beforeShowDay:function(t){return[true,(f&&t&&f.getTime()==t.getTime())?"ui-datepicker-marked-day":""]},numberOfMonths:h,onSelect:function(v,u){d=l.datepicker("getDate");var t=f&&a(f,d);if(!f||t<e){n.datepicker("setDate",null).datepicker("option","defaultDate",d);j.text("mm/dd/yyyy")}m.call(this,v,u);l.r9datepicker("hide")}},q))}}})();if(typeof R9==="undefined"){R9=new Object()}R9.form={_getFormType:function(a){if(typeof a.tab!=="undefined"){return a.tab.value}else{return"unknown"}},_getUseCompareTo:function(a){if(typeof a.doCompareTo!=="undefined"){if(a.doCompareTo.value===true||a.doCompareTo.value==="true"){return true}}return false},_checkFormPopulated:function(a){if(typeof a=="undefined"||typeof a.value=="undefined"||a.value.length==0){return false}return true},_setDisabledImage:function(a){jq(a).attr("src","/v55770/images/button/redesign/a-search-button-fd-disabled.png").prop("disabled",true)},_dateFormat:"mm/dd/yy",_grabDate:function(b,a){if(typeof b!=="undefined"){return jq.datepicker.parseDate(R9.form._dateFormat,b)}else{if(typeof a!=="undefined"){return jq.datepicker.parseDate(R9.form._dateFormat,a)}else{return null}}},_submit:function(d,a){if(a(d)===false){return false}jq(d).find(".searchbutton").unbind("mouseup").unbind("mousedown");window.setTimeout("R9.form._setDisabledImage('.searchbtn input')",1);if(R9.form._getUseCompareTo(d)===true){R9.CompareTo.launch(d)}var e=generateSearchUrl(d);var c=jq(d).attr("action");var b=null;if(R9.form._useInServlet(d)){if(e!=null){b=R9.form._getInServletLink(d,e)}else{b=R9.form._getInServletLink(d,c+"?"+jq(d).serialize())}}else{if(e!=null){b=e}else{b=null}}if(b!=null){if(jq(d).attr("target")=="_blank"){window.open(b)}else{document.location.href=b}return false}return true},_useInServlet:function(a){if(typeof a.useInLink!="undefined"&&a.useInLink.value=="true"){return true}return false},_getInServletLink:function(b,a){return R9.form._getInServletLinkPrefix(b)+encodeURI(a)},_getInServletLinkPrefix:function(b){var a="";var c="";if(typeof b.ai!="undefined"&&typeof b.ai.value!="undefined"){a=b.ai.value}if(typeof b.p!="undefined"&&typeof b.p.value!="undefined"){c=b.p.value}return"/in?a="+encodeURI(a)+"&p="+encodeURI(c)+"&url="},_compareToCallback:function(b){var a=jq(this).closest("form").get(0);R9.form._smartboxPopulate(a,this,b);R9.CompareTo.smartboxCallback(a)},_smartboxCallback:function(b){var a=jq(this).closest("form").get(0);R9.form._smartboxPopulate(a,this,b)},_smartboxPopulate:function(c,a,d){var b=R9.form._getFormType(c);if(b==="flights"){if(jq(a).is("input[name=origin]")){c.origincode.value=d.id}else{if(jq(a).is("input[name=destination]")){c.destcode.value=d.id}}}else{if(b==="hotels"){c.citycode.value=d.id;if(typeof c.hid!="undefined"){c.hid.value=d.hid||""}if(typeof c.lmid!="undefined"){c.lmid.value=d.lmid||""}}else{if(b==="cars"){if(jq(a).is("input[name=location]")){c.citycode1.value=d.id}else{if(jq(a).is("input[name=location2]")){c.citycode2.value=d.id}}}else{if(b==="vacations"){if(jq(a).is("input[name=origin]")){c.origincode.value=d.id}else{if(jq(a).is("input[name=destination]")){c.destcode.value=d.id}}}}}}}};R9.form.hotel={_emptyGuestList:function(a){while(a.options.length){a.options[0]=null}},_fillGuestList:function(a,b,f,g,j){var d=a.find("[name=guestsOptionPostfixSingular]").val();var e=a.find("[name=guestsOptionPostfixPlural]").val();if(typeof d=="undefined"){d=""}if(typeof e=="undefined"){e=""}var h;for(i=f;i<=g;i++){var c;if(i==1){c=new Option(i+" "+d,i)}else{c=new Option(i+" "+e,i)}h=b.length;b.options[h]=c;if(j==i){b.selectedIndex=h}}if(b.length>0&&b.selectedIndex<0){b.selectedIndex=0}},_roomsChanged:function(c){var d=c.target;var e=jq(d).closest("form");var b=jq(d).val();var a=jq(e).find("select[name=guests1]");var h=jq(e).find("select[name=guests2]");var g=jq(e).find(".guestsWrapper");if(b=="1"){jq(g[0]).show();jq(g[1]).hide();var f=parseInt(h.val(),10);a.val(f<4?f:4)}else{if(b=="2"){jq(g[0]).hide();jq(g[1]).show();var f=parseInt(a.val(),10);h.val(f==1?2:f)}}},_roomsChangedEvent:function(c){var b=jq(c.target).closest("form")[0];var a=parseInt(jq(b.rooms).val(),10);var d=parseInt(jq(b.guests).val(),10);if(isNaN(d)){d=1}if(d<a){d=a}else{if(d>a*4){d=a*4}}b.guests.value=d;jq(c.target).val(a);R9.form.hotel._updateGuestsSelectBoxes(b)},_guestsChangedEvent:function(b){var a=jq(b.target).closest("form")[0];a.guests.value=jq(b.target).val();R9.form.hotel._updateGuestsSelectBoxes(a)},_updateGuestsSelectBoxes:function(a){var c=parseInt(jq(a.rooms).val(),10);var b=parseInt(jq(a.guests).val(),10);jq(a["guests"+c]).val(b).show();jq(a).find("select[name^=guests]").each(function(){jq(this).parent().parent().hide()});jq(a["guests"+c]).parent().parent().show()},_clearDates:function(a){var b=a.target;var c=jq(b).closest("form");jq(c).find("input[name=checkin_date]").val("");jq(c).find("input[name=checkout_date]").val("");jq(c).find(".checkin_date_label").html("mm/dd/yyyy");jq(c).find(".checkout_date_label").html("mm/dd/yyyy")},_check:function(c){var a="";var b=jq(c).data("datesOptional");if(R9.form._checkFormPopulated(c.othercity)===false){a="Please enter a city."}else{if(!b&&R9.form._checkFormPopulated(c.checkin_date)===false){a="Please enter a check-in date."}else{if(!b&&R9.form._checkFormPopulated(c.checkout_date)===false){a="Please enter a check-out date."}}}if(a.length>0){alert(a);return false}else{return true}},_submit:function(a){var b=a.target;return R9.form._submit(b,R9.form.hotel._check)},init:function(a,k,b,c,g){var d=jq(a);var j=jq(a.othercity);var h=j.is(":focus");j.blur();if(R9.form._getUseCompareTo(a)===true){j.smartbox({callback:R9.form._compareToCallback,searchType:"hotel"});R9.CompareTo.init(a)}else{j.smartbox({callback:R9.form._smartboxCallback,searchType:"hotel",smartUrl:"/f/smarty"})}if(h){j.focus()}var e=d.find("input[name=checkin_date]");var f=d.find("input[name=checkout_date]");k=R9.form._grabDate(k,e.val());b=R9.form._grabDate(b,f.val());if(typeof c=="undefined"){c=2}R9.dp.doublePicker({selector:e,altField:d.find(".checkinDateHelperField"),defaultDate:k,numberOfMonths:c},{selector:f,altField:d.find(".checkoutDateHelperField"),defaultDate:b,numberOfMonths:c});if(a.newgueststreatment&&a.newgueststreatment.value==="true"){var d=jq(a);d.find("select[name^=guests]").change(R9.form.hotel._guestsChangedEvent);d.find("select[name=rooms]").change(R9.form.hotel._roomsChangedEvent);R9.form.hotel._updateGuestsSelectBoxes(a)}else{jq(a.rooms).change(R9.form.hotel._roomsChanged)}jq(".clearDates").click(R9.form.hotel._clearDates);jq(a).submit(R9.form.hotel._submit).data("datesOptional",!!g).attr("method","post")}};function hideSearchBox(){toggleFaderPane(false);jq("#popupSearch,table.popupsearch").hide()}function showcalendarhelp(){var b="/trips/calendarhelp";var c=window.open(b,"calhelp","height=500,width=515,resizable,scrollbars");try{c.focus()}catch(a){}}if(typeof R9==="undefined"){R9=new Object()}R9.form={_getFormType:function(a){if(typeof a.tab!=="undefined"){return a.tab.value}else{return"unknown"}},_getUseCompareTo:function(a){if(typeof a.doCompareTo!=="undefined"){if(a.doCompareTo.value===true||a.doCompareTo.value==="true"){return true}}return false},_checkFormPopulated:function(a){if(typeof a=="undefined"||typeof a.value=="undefined"||a.value.length==0){return false}return true},_setDisabledImage:function(a){jq(a).attr("src","/v55770/images/button/redesign/a-search-button-fd-disabled.png").prop("disabled",true)},_dateFormat:"mm/dd/yy",_grabDate:function(b,a){if(typeof b!=="undefined"){return jq.datepicker.parseDate(R9.form._dateFormat,b)}else{if(typeof a!=="undefined"){return jq.datepicker.parseDate(R9.form._dateFormat,a)}else{return null}}},_submit:function(d,a){if(a(d)===false){return false}jq(d).find(".searchbutton").unbind("mouseup").unbind("mousedown");window.setTimeout("R9.form._setDisabledImage('.searchbtn input')",1);if(R9.form._getUseCompareTo(d)===true){R9.CompareTo.launch(d)}var e=generateSearchUrl(d);var c=jq(d).attr("action");var b=null;if(R9.form._useInServlet(d)){if(e!=null){b=R9.form._getInServletLink(d,e)}else{b=R9.form._getInServletLink(d,c+"?"+jq(d).serialize())}}else{if(e!=null){b=e}else{b=null}}if(b!=null){if(jq(d).attr("target")=="_blank"){window.open(b)}else{document.location.href=b}return false}return true},_useInServlet:function(a){if(typeof a.useInLink!="undefined"&&a.useInLink.value=="true"){return true}return false},_getInServletLink:function(b,a){return R9.form._getInServletLinkPrefix(b)+encodeURI(a)},_getInServletLinkPrefix:function(b){var a="";var c="";if(typeof b.ai!="undefined"&&typeof b.ai.value!="undefined"){a=b.ai.value}if(typeof b.p!="undefined"&&typeof b.p.value!="undefined"){c=b.p.value}return"/in?a="+encodeURI(a)+"&p="+encodeURI(c)+"&url="},_compareToCallback:function(b){var a=jq(this).closest("form").get(0);R9.form._smartboxPopulate(a,this,b);R9.CompareTo.smartboxCallback(a)},_smartboxCallback:function(b){var a=jq(this).closest("form").get(0);R9.form._smartboxPopulate(a,this,b)},_smartboxPopulate:function(c,a,d){var b=R9.form._getFormType(c);if(b==="flights"){if(jq(a).is("input[name=origin]")){c.origincode.value=d.id}else{if(jq(a).is("input[name=destination]")){c.destcode.value=d.id}}}else{if(b==="hotels"){c.citycode.value=d.id;if(typeof c.hid!="undefined"){c.hid.value=d.hid||""}if(typeof c.lmid!="undefined"){c.lmid.value=d.lmid||""}}else{if(b==="cars"){if(jq(a).is("input[name=location]")){c.citycode1.value=d.id}else{if(jq(a).is("input[name=location2]")){c.citycode2.value=d.id}}}else{if(b==="vacations"){if(jq(a).is("input[name=origin]")){c.origincode.value=d.id}else{if(jq(a).is("input[name=destination]")){c.destcode.value=d.id}}}}}}}};R9.form.hotel={_emptyGuestList:function(a){while(a.options.length){a.options[0]=null}},_fillGuestList:function(a,b,f,g,j){var d=a.find("[name=guestsOptionPostfixSingular]").val();var e=a.find("[name=guestsOptionPostfixPlural]").val();if(typeof d=="undefined"){d=""}if(typeof e=="undefined"){e=""}var h;for(i=f;i<=g;i++){var c;if(i==1){c=new Option(i+" "+d,i)}else{c=new Option(i+" "+e,i)}h=b.length;b.options[h]=c;if(j==i){b.selectedIndex=h}}if(b.length>0&&b.selectedIndex<0){b.selectedIndex=0}},_roomsChanged:function(c){var d=c.target;var e=jq(d).closest("form");var b=jq(d).val();var a=jq(e).find("select[name=guests1]");var h=jq(e).find("select[name=guests2]");var g=jq(e).find(".guestsWrapper");if(b=="1"){jq(g[0]).show();jq(g[1]).hide();var f=parseInt(h.val(),10);a.val(f<4?f:4)}else{if(b=="2"){jq(g[0]).hide();jq(g[1]).show();var f=parseInt(a.val(),10);h.val(f==1?2:f)}}},_roomsChangedEvent:function(c){var b=jq(c.target).closest("form")[0];var a=parseInt(jq(b.rooms).val(),10);var d=parseInt(jq(b.guests).val(),10);if(isNaN(d)){d=1}if(d<a){d=a}else{if(d>a*4){d=a*4}}b.guests.value=d;jq(c.target).val(a);R9.form.hotel._updateGuestsSelectBoxes(b)},_guestsChangedEvent:function(b){var a=jq(b.target).closest("form")[0];a.guests.value=jq(b.target).val();R9.form.hotel._updateGuestsSelectBoxes(a)},_updateGuestsSelectBoxes:function(a){var c=parseInt(jq(a.rooms).val(),10);var b=parseInt(jq(a.guests).val(),10);jq(a["guests"+c]).val(b).show();jq(a).find("select[name^=guests]").each(function(){jq(this).parent().parent().hide()});jq(a["guests"+c]).parent().parent().show()},_clearDates:function(a){var b=a.target;var c=jq(b).closest("form");jq(c).find("input[name=checkin_date]").val("");jq(c).find("input[name=checkout_date]").val("");jq(c).find(".checkin_date_label").html("mm/dd/yyyy");jq(c).find(".checkout_date_label").html("mm/dd/yyyy")},_check:function(c){var a="";var b=jq(c).data("datesOptional");if(R9.form._checkFormPopulated(c.othercity)===false){a="Please enter a city."}else{if(!b&&R9.form._checkFormPopulated(c.checkin_date)===false){a="Please enter a check-in date."}else{if(!b&&R9.form._checkFormPopulated(c.checkout_date)===false){a="Please enter a check-out date."}}}if(a.length>0){alert(a);return false}else{return true}},_submit:function(a){var b=a.target;return R9.form._submit(b,R9.form.hotel._check)},init:function(a,k,b,c,g){var d=jq(a);var j=jq(a.othercity);var h=j.is(":focus");j.blur();if(R9.form._getUseCompareTo(a)===true){j.smartbox({callback:R9.form._compareToCallback,searchType:"hotel"});R9.CompareTo.init(a)}else{j.smartbox({callback:R9.form._smartboxCallback,searchType:"hotel",smartUrl:"/f/smarty"})}if(h){j.focus()}var e=d.find("input[name=checkin_date]");var f=d.find("input[name=checkout_date]");k=R9.form._grabDate(k,e.val());b=R9.form._grabDate(b,f.val());if(typeof c=="undefined"){c=2}R9.dp.doublePicker({selector:e,altField:d.find(".checkinDateHelperField"),defaultDate:k,numberOfMonths:c},{selector:f,altField:d.find(".checkoutDateHelperField"),defaultDate:b,numberOfMonths:c});if(a.newgueststreatment&&a.newgueststreatment.value==="true"){var d=jq(a);d.find("select[name^=guests]").change(R9.form.hotel._guestsChangedEvent);d.find("select[name=rooms]").change(R9.form.hotel._roomsChangedEvent);R9.form.hotel._updateGuestsSelectBoxes(a)}else{jq(a.rooms).change(R9.form.hotel._roomsChanged)}jq(".clearDates").click(R9.form.hotel._clearDates);jq(a).submit(R9.form.hotel._submit).data("datesOptional",!!g).attr("method","post")}};function jqtoggle(a){jq(a).toggle()}var R9CalDayOfWeek=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function hideSearchBox(){toggleFaderPane(false);jq("#popupSearch,table.popupsearch").hide()}R9.extend("seo",{_defaultFormIdCounter:1,getAjaxHotelForm:function(e,g,b,a,c){var f="simpleHotelSearchForm"+R9.seo._defaultFormIdCounter,d={formId:f,hid:b};R9.seo._defaultFormIdCounter++;if(a){d.checkinDate=a}if(c){d.checkoutDate=c}jq.post("/ajaxform/simplehotelform",d,function(h){jq("<div title='"+g+"' class='hotelsearchwidget'>"+h+"</div>").r9popover({position:e,width:"500px"});R9.form.hotel.init(document.getElementById(f))},"html")}});R9.extend("seo.directFlights",{showSection:function(a){jq(".flightlistcontent").hide();jq(a).show()}});jq(function(){var a=jq(".adcontainer").attr("data-url");if(a!=null){jq("<div/>").load(a,function(){var b=jq(this);jq("#nrAds").html(b.find("#sideads"));jq("#bottomAdContainer").html(b.find("#bottomads"));if(typeof(bannerUrls)!=="undefined"){for(id in bannerUrls){jq("#"+id).attr("src",bannerUrls[id])}}})}});

;var jsck_widgets="v557";
/* et=13, mt=79, c=p4, i=sparkle084, v=R151, cc=4, r=none, af=kayak, afs=kayak, xp=none, pm=bot, lc=en, cc=US */
