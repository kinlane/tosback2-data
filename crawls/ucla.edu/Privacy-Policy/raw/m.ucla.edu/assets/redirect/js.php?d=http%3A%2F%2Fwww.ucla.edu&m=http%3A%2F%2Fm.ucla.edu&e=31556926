var mwf=new function(){};mwf.site=new function(){this.root = 'http://m.ucla.edu';this.asset = new function(){this.root = 'http://m.ucla.edu/assets';};this.cookie = new function(){this.prefix = 'mwf_';this.domain = 'm.ucla.edu';this.exists = function(e){var cookies = [""];for(var i=0; i<cookies.length; i++)if(cookies[i] == e)return true;return false;};this.override = false;this.classification = false;};this.analytics = new function(){this.key = 'UA-423028-28';};this.mobile = new function(){this.maxWidth = 799;this.maxHeight = 599;};this.local = new function(){this.root = ""; this.asset = new function(){ this.root = "assets"; };this.domain = (function(){var p = document.URL, i;if((i = p.indexOf('://')) !== false)p = p.substring(i+3);else if((i = p.indexOf('//')) === 0)p = p.substring(2);if((i = p.indexOf('/')) > -1)p = p.substring(0, i);if((i = p.indexOf(':')) > -1)p = p.substring(0, i);if((i = p.indexOf('.')) == 0)p = p.substring(1);return p;})();var _isSameOrigin = null;this.isSameOrigin = function(){if(_isSameOrigin === null){if(!this.domain || !mwf.site.cookie.domain){_isSameOrigin = true;}else{var serviceProvider = "."+mwf.site.cookie.domain.toLowerCase();var contentProvider = "."+this.domain.toLowerCase();_isSameOrigin = contentProvider.substring(contentProvider.length - serviceProvider.length, serviceProvider.length) == serviceProvider;}}return _isSameOrigin;};this.cookie = new function(){var cookies = document.cookie.split(';');this.exists = function(e){return this.value(e) !== false;};this.value = function(e){for(var i = 0; i < cookies.length; i++)if(cookies[i].substr(0,cookies[i].indexOf("=")).replace(/^\s+|\s+$/g,"") == e)return cookies[i].substr(cookies[i].indexOf("=")+1).replace(/^\s+|\s+$/g,"");return false;};};};this.domain=function(){return this.local.domain;};this.webroot=function(){return this.root;};this.frontpage=function(){return this.root+'/index.php';};this.webassetroot=function(){return this.asset.root;};};mwf.userAgent=new function(){this.cookieName=mwf.site.cookie.prefix+"user_agent";var b=navigator.userAgent.toLowerCase();var a=function(c){return b.indexOf(c)!=-1};this.getOS=function(){if(b.match(/(iphone)|(ipad)|(ipod)/)!=null){return"iphone_os"}var d=0,c=["android","blackberry","windows phone os","symbian","webos","mac os x","windows nt","linux"];for(;d<c.length;d++){if(a(c[d])){return c[d]}}return""};this.getOSVersion=function(){var d=b,e,f="",c;switch(this.getOS()){case"iphone_os":c=d.match(/(iphone|cpu) os ([\d_]+)/);if(c!=null){f=c[2]}break;case"blackberry":c=d.match(/^mozilla\/5\.0 \(blackberry;.* version\/([\d\.]+)/);if(c!=null){f=c[1];break}else{if(d.substring(0,10)=="blackberry"){e=d.indexOf("/")+1;f=d.substring(e,d.indexOf(" ",e))}}break;case"android":if((e=d.indexOf("android "))!=-1){e+=8;f=d.substring(e,Math.min(d.indexOf(" ",e),d.indexOf(";",e),d.indexOf("-",e)))}break;case"windows phone os":if((e=d.indexOf("windows phone os "))!=-1){e+=17;f=d.substring(e,d.indexOf(";",e))}break;case"symbian":c=d.match(/symbianos\/([\d\.]+)/);if(c!=null){f=c[1]}break;case"webos":if((e=d.indexOf("webos/"))!=-1){e+=6;f=d.substring(e,Math.min(d.indexOf(";",e)))}break}return f.replace(/\_/g,".")};this.getBrowser=function(){if(a("safari")){return this.getOS()=="android"?"android_webkit":"safari"}var c=0,d=["chrome","iemobile","camino","seamonkey","firefox","opera mobi","opera mini"];for(;c<d.length;c++){if(a(d[c])){return d[c]}}return""};this.getBrowserEngine=function(){if(a("applewebkit")){return"webkit"}var d=0,c=["trident","gecko","presto"];for(;d<c.length;d++){if(a(c[d])){return c[d]}}return""};this.getBrowserEngineVersion=function(){var d=new RegExp(this.getBrowserEngine()+"/([\\d\\.]+)");var c=d.exec(b);return c!=null?c[1]:""};this.generateCookieContent=function(){var c="{";c+='"s":"'+navigator.userAgent+'"';if(t=this.getOS()){c+=',"os":"'+t+'"'}if(t=this.getOSVersion()){c+=',"osv":"'+t+'"'}if(t=this.getBrowser()){c+=',"b":"'+t+'"'}if(t=this.getBrowserEngine()){c+=',"be":"'+t+'"'}if(t=this.getBrowserEngineVersion()){c+=',"bev":"'+t+'"'}c+="}";return c}};mwf.screen=new function(){this.cookieName=mwf.site.cookie.prefix+"screen";var b=window.screen;var a=mwf.userAgent.getOSVersion();if(typeof mwf.userAgent!=="undefined"&&mwf.userAgent.getOS()=="android"&&(a.indexOf("2.2")==0||a.indexOf("2.3")==0)){b={width:false,height:false}}this.getWidth=function(){return typeof b.width!=="undefined"?b.width:mwf.browser.getWidth()};this.getHeight=function(){return typeof b.height!=="undefined"?b.height:mwf.browser.getHeight()};this.getPixelRatio=function(){return(typeof window.devicePixelRatio!="undefined"&&window.devicePixelRatio)?window.devicePixelRatio:1};this.generateCookieContent=function(){return'{"h":"'+this.getHeight()+'","w":"'+this.getWidth()+'","r":"'+this.getPixelRatio()+'"}'}};mwf.redirect=function(a){if(mwf.site.mobile.maxHeight>mwf.screen.getHeight()&&mwf.site.mobile.maxWidth>mwf.screen.getWidth()){window.location=a}};mwf.redirect("http://m.ucla.edu");