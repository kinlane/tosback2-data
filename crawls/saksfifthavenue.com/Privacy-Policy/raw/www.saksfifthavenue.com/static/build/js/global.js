/*!
* Saks Fifth Avenue
* Bundled global JS files
* Build Time: Thu, Mar. 14, 2013 06:07:38 PM
* Build MD5: e35ebd7589d4a6c331c893d81f5f73d8
*/
var mboxCopyright="Copyright 1996-2012. Adobe Systems Incorporated. All rights reserved.";mboxUrlBuilder=function(d,c){this.a=d;this.b=c;this.c=new Array();this.d=function(a){return a;};this.f=null;};mboxUrlBuilder.prototype.addParameter=function(f,e){var d=new RegExp("('|\")");if(d.exec(f)){throw"Parameter '"+f+"' contains invalid characters";}for(var c=0;c<this.c.length;c++){var b=this.c[c];if(b.name==f){b.value=e;return this;}}var a=new Object();a.name=f;a.value=e;this.c[this.c.length]=a;return this;};mboxUrlBuilder.prototype.addParameters=function(d){if(!d){return this;}for(var b=0;b<d.length;b++){var a=d[b].indexOf("=");if(a==-1||a==0){continue;}this.addParameter(d[b].substring(0,a),d[b].substring(a+1,d[b].length));}return this;};mboxUrlBuilder.prototype.setServerType=function(a){this.o=a;};mboxUrlBuilder.prototype.setBasePath=function(a){this.f=a;};mboxUrlBuilder.prototype.setUrlProcessAction=function(a){this.d=a;};mboxUrlBuilder.prototype.buildUrl=function(){var f=this.f?this.f:"/m2/"+this.b+"/mbox/"+this.o;var d=document.location.protocol=="file:"?"http:":document.location.protocol;var g=d+"//"+this.a+f;var c=g.indexOf("?")!=-1?"&":"?";for(var b=0;b<this.c.length;b++){var a=this.c[b];g+=c+encodeURIComponent(a.name)+"="+encodeURIComponent(a.value);c="&";}return this.t(this.d(g));};mboxUrlBuilder.prototype.getParameters=function(){return this.c;};mboxUrlBuilder.prototype.setParameters=function(a){this.c=a;};mboxUrlBuilder.prototype.clone=function(){var b=new mboxUrlBuilder(this.a,this.b);b.setServerType(this.o);b.setBasePath(this.f);b.setUrlProcessAction(this.d);for(var a=0;a<this.c.length;a++){b.addParameter(this.c[a].name,this.c[a].value);}return b;};mboxUrlBuilder.prototype.t=function(a){return a.replace(/\"/g,"&quot;").replace(/>/g,"&gt;");};mboxStandardFetcher=function(){};mboxStandardFetcher.prototype.getType=function(){return"standard";};mboxStandardFetcher.prototype.fetch=function(a){a.setServerType(this.getType());document.write('<script src="'+a.buildUrl()+'" language="JavaScript"><\/script>');};mboxStandardFetcher.prototype.cancel=function(){};mboxAjaxFetcher=function(){};mboxAjaxFetcher.prototype.getType=function(){return"ajax";};mboxAjaxFetcher.prototype.fetch=function(a){a.setServerType(this.getType());var b=a.buildUrl();this.x=document.createElement("script");this.x.src=b;document.body.appendChild(this.x);};mboxAjaxFetcher.prototype.cancel=function(){};mboxMap=function(){this.y=new Object();this.z=new Array();};mboxMap.prototype.put=function(a,b){if(!this.y[a]){this.z[this.z.length]=a;}this.y[a]=b;};mboxMap.prototype.get=function(a){return this.y[a];};mboxMap.prototype.remove=function(a){this.y[a]=undefined;};mboxMap.prototype.each=function(d){for(var b=0;b<this.z.length;b++){var a=this.z[b];var c=this.y[a];if(c){var e=d(a,c);if(e===false){break;}}}};mboxFactory=function(e,a,d){this.E=false;this.C=e;this.D=d;this.F=new mboxList();mboxFactories.put(d,this);this.G=typeof document.createElement("div").replaceChild!="undefined"&&(function(){return true;})()&&typeof document.getElementById!="undefined"&&typeof(window.attachEvent||document.addEventListener||window.addEventListener)!="undefined"&&typeof encodeURIComponent!="undefined";this.H=this.G&&mboxGetPageParameter("mboxDisable")==null;var c=d=="default";this.J=new mboxCookieManager("mbox"+(c?"":("-"+d)),(function(){return mboxCookiePageDomain();})());this.H=this.H&&this.J.isEnabled()&&(this.J.getCookie("disable")==null);if(this.isAdmin()){this.enable();}this.K();this.L=mboxGenerateId();this.M=mboxScreenHeight();this.N=mboxScreenWidth();this.O=mboxBrowserWidth();this.P=mboxBrowserHeight();this.Q=mboxScreenColorDepth();this.R=mboxBrowserTimeOffset();this.S=new mboxSession(this.L,"mboxSession","session",31*60,this.J);this.T=new mboxPC("PC",5184000,this.J);this.w=new mboxUrlBuilder(e,a);this.U(this.w,c);this.V=new Date().getTime();this.W=this.V;var f=this;this.addOnLoad(function(){f.W=new Date().getTime();});if(this.G){this.addOnLoad(function(){f.E=true;f.getMboxes().each(function(b){b.setFetcher(new mboxAjaxFetcher());b.finalize();});});if(this.H){this.limitTraffic(100,10368000);this.Z();this._=new mboxSignaler(function(b,g){return f.create(b,g);},this.J);}}};mboxFactory.prototype.isEnabled=function(){return this.H;};mboxFactory.prototype.getDisableReason=function(){return this.J.getCookie("disable");};mboxFactory.prototype.isSupported=function(){return this.G;};mboxFactory.prototype.disable=function(b,a){if(typeof b=="undefined"){b=60*60;}if(typeof a=="undefined"){a="unspecified";}if(!this.isAdmin()){this.H=false;this.J.setCookie("disable",a,b);}};mboxFactory.prototype.enable=function(){this.H=true;this.J.deleteCookie("disable");};mboxFactory.prototype.isAdmin=function(){return document.location.href.indexOf("mboxEnv")!=-1;};mboxFactory.prototype.limitTraffic=function(a,b){};mboxFactory.prototype.addOnLoad=function(a){if(this.isDomLoaded()){a();}else{var b=false;var c=function(){if(b){return;}b=true;a();};this.hb.push(c);if(this.isDomLoaded()&&!b){c();}}};mboxFactory.prototype.getEllapsedTime=function(){return this.W-this.V;};mboxFactory.prototype.getEllapsedTimeUntil=function(a){return a-this.V;};mboxFactory.prototype.getMboxes=function(){return this.F;};mboxFactory.prototype.get=function(b,a){return this.F.get(b).getById(a||0);};mboxFactory.prototype.update=function(a,d){if(!this.isEnabled()){return;}if(!this.isDomLoaded()){var b=this;this.addOnLoad(function(){b.update(a,d);});return;}if(this.F.get(a).length()==0){throw"Mbox "+a+" is not defined";}this.F.get(a).each(function(c){c.getUrlBuilder().addParameter("mboxPage",mboxGenerateId());c.load(d);});};mboxFactory.prototype.create=function(q,l,h){if(!this.isSupported()){return null;}var k=this.w.clone();k.addParameter("mboxCount",this.F.length()+1);k.addParameters(l);var o=this.F.get(q).length();var d=this.D+"-"+q+"-"+o;var n;if(h){n=new mboxLocatorNode(h);}else{if(this.E){throw"The page has already been loaded, can't write marker";}n=new mboxLocatorDefault(d);}try{var b=this;var g="mboxImported-"+d;var a=new mbox(q,o,k,n,g);if(this.H){a.setFetcher(this.E?new mboxAjaxFetcher():new mboxStandardFetcher());}a.setOnError(function(c,e){a.setMessage(c);a.activate();if(!a.isActivated()){b.disable(60*60,c);window.location.reload(false);}});this.F.add(a);}catch(m){this.disable();throw'Failed creating mbox "'+q+'", the error was: '+m;}var f=new Date();k.addParameter("mboxTime",f.getTime()-(f.getTimezoneOffset()*60000));return a;};mboxFactory.prototype.getCookieManager=function(){return this.J;};mboxFactory.prototype.getPageId=function(){return this.L;};mboxFactory.prototype.getPCId=function(){return this.T;};mboxFactory.prototype.getSessionId=function(){return this.S;};mboxFactory.prototype.getSignaler=function(){return this._;};mboxFactory.prototype.getUrlBuilder=function(){return this.w;};mboxFactory.prototype.U=function(b,a){b.addParameter("mboxHost",document.location.hostname).addParameter("mboxSession",this.S.getId());if(!a){b.addParameter("mboxFactoryId",this.D);}if(this.T.getId()!=null){b.addParameter("mboxPC",this.T.getId());}b.addParameter("mboxPage",this.L);b.addParameter("screenHeight",this.M);b.addParameter("screenWidth",this.N);b.addParameter("browserWidth",this.O);b.addParameter("browserHeight",this.P);b.addParameter("browserTimeOffset",this.R);b.addParameter("colorDepth",this.Q);b.setUrlProcessAction(function(d){d+="&mboxURL="+encodeURIComponent(document.location);var c=encodeURIComponent(document.referrer);if(d.length+c.length<2000){d+="&mboxReferrer="+c;}d+="&mboxVersion="+mboxVersion;return d;});};mboxFactory.prototype.sb=function(){return"";};mboxFactory.prototype.Z=function(){document.write("<style>.mboxDefault { visibility:hidden; }</style>");};mboxFactory.prototype.isDomLoaded=function(){return this.E;};mboxFactory.prototype.K=function(){if(this.hb!=null){return;}this.hb=new Array();var a=this;(function(){var b=document.addEventListener?"DOMContentLoaded":"onreadystatechange";var c=false;var d=function(){if(c){return;}c=true;for(var f=0;f<a.hb.length;++f){a.hb[f]();}};if(document.addEventListener){document.addEventListener(b,function(){document.removeEventListener(b,arguments.callee,false);d();},false);window.addEventListener("load",function(){document.removeEventListener("load",arguments.callee,false);d();},false);}else{if(document.attachEvent){if(self!==self.top){document.attachEvent(b,function(){if(document.readyState==="complete"){document.detachEvent(b,arguments.callee);d();}});}else{var e=function(){try{document.documentElement.doScroll("left");d();}catch(f){setTimeout(e,13);}};e();}}}if(document.readyState==="complete"){d();}})();};mboxSignaler=function(b,d){this.J=d;var c=d.getCookieNames("signal-");for(var e=0;e<c.length;e++){var g=c[e];var a=d.getCookie(g).split("&");var f=b(a[0],a);f.load();d.deleteCookie(g);}};mboxSignaler.prototype.signal=function(a,b){this.J.setCookie("signal-"+a,mboxShiftArray(arguments).join("&"),45*60);};mboxList=function(){this.F=new Array();};mboxList.prototype.add=function(a){if(a!=null){this.F[this.F.length]=a;}};mboxList.prototype.get=function(b){var d=new mboxList();for(var a=0;a<this.F.length;a++){var c=this.F[a];if(c.getName()==b){d.add(c);}}return d;};mboxList.prototype.getById=function(a){return this.F[a];};mboxList.prototype.length=function(){return this.F.length;};mboxList.prototype.each=function(b){if(typeof b!="function"){throw"Action must be a function, was: "+typeof(b);}for(var a=0;a<this.F.length;a++){b(this.F[a]);}};mboxLocatorDefault=function(a){this.g="mboxMarker-"+a;document.write('<div id="'+this.g+'" style="visibility:hidden;display:none">&nbsp;</div>');};mboxLocatorDefault.prototype.locate=function(){var a=document.getElementById(this.g);while(a!=null){if(a.nodeType==1){if(a.className=="mboxDefault"){return a;}}a=a.previousSibling;}return null;};mboxLocatorDefault.prototype.force=function(){var a=document.createElement("div");a.className="mboxDefault";var b=document.getElementById(this.g);b.parentNode.insertBefore(a,b);return a;};mboxLocatorNode=function(a){this.Eb=a;};mboxLocatorNode.prototype.locate=function(){return typeof this.Eb=="string"?document.getElementById(this.Eb):this.Eb;};mboxLocatorNode.prototype.force=function(){return null;};mboxCreate=function(a){var b=mboxFactoryDefault.create(a,mboxShiftArray(arguments));if(b){b.load();}return b;};mboxDefine=function(a,b){var c=mboxFactoryDefault.create(b,mboxShiftArray(mboxShiftArray(arguments)),a);return c;};mboxUpdate=function(a){mboxFactoryDefault.update(a,mboxShiftArray(arguments));};mbox=function(e,c,b,d,a){this.Kb=null;this.Lb=0;this.mb=d;this.nb=a;this.Mb=null;this.Nb=new mboxOfferContent();this.Fb=null;this.w=b;this.message="";this.Ob=new Object();this.Pb=0;this.Ib=c;this.g=e;this.Qb();b.addParameter("mbox",e).addParameter("mboxId",c);this.Rb=function(){};this.Sb=function(){};this.Tb=null;};mbox.prototype.getId=function(){return this.Ib;};mbox.prototype.Qb=function(){if(this.g.length>250){throw"Mbox Name "+this.g+" exceeds max length of 250 characters.";}else{if(this.g.match(/^\s+|\s+$/g)){throw"Mbox Name "+this.g+" has leading/trailing whitespace(s).";}}};mbox.prototype.getName=function(){return this.g;};mbox.prototype.getParameters=function(){var d=this.w.getParameters();var b=new Array();for(var a=0;a<d.length;a++){if(d[a].name.indexOf("mbox")!=0){b[b.length]=d[a].name+"="+d[a].value;}}return b;};mbox.prototype.setOnLoad=function(a){this.Sb=a;return this;};mbox.prototype.setMessage=function(a){this.message=a;return this;};mbox.prototype.setOnError=function(a){this.Rb=a;return this;};mbox.prototype.setFetcher=function(a){if(this.Mb){this.Mb.cancel();}this.Mb=a;return this;};mbox.prototype.getFetcher=function(){return this.Mb;};mbox.prototype.load=function(d){if(this.Mb==null){return this;}this.setEventTime("load.start");this.cancelTimeout();this.Lb=0;var a=(d&&d.length>0)?this.w.clone().addParameters(d):this.w;this.Mb.fetch(a);var b=this;this.Vb=setTimeout(function(){b.Rb("browser timeout",b.Mb.getType());},15000);this.setEventTime("load.end");return this;};mbox.prototype.loaded=function(){this.cancelTimeout();if(!this.activate()){var a=this;setTimeout(function(){a.loaded();},100);}};mbox.prototype.activate=function(){if(this.Lb){return this.Lb;}this.setEventTime("activate"+ ++this.Pb+".start");if(this.show()){this.cancelTimeout();this.Lb=1;}this.setEventTime("activate"+this.Pb+".end");return this.Lb;};mbox.prototype.isActivated=function(){return this.Lb;};mbox.prototype.setOffer=function(a){if(a&&a.show&&a.setOnLoad){this.Nb=a;}else{throw"Invalid offer";}return this;};mbox.prototype.getOffer=function(){return this.Nb;};mbox.prototype.show=function(){this.setEventTime("show.start");var a=this.Nb.show(this);this.setEventTime(a==1?"show.end.ok":"show.end");return a;};mbox.prototype.showContent=function(a){if(a==null){return 0;}if(this.Fb==null||!this.Fb.parentNode){this.Fb=this.getDefaultDiv();if(this.Fb==null){return 0;}}if(this.Fb!=a){this.Xb(this.Fb);this.Fb.parentNode.replaceChild(a,this.Fb);this.Fb=a;}this.Yb(a);this.Sb();return 1;};mbox.prototype.hide=function(){this.setEventTime("hide.start");var a=this.showContent(this.getDefaultDiv());this.setEventTime(a==1?"hide.end.ok":"hide.end.fail");return a;};mbox.prototype.finalize=function(){this.setEventTime("finalize.start");this.cancelTimeout();if(this.getDefaultDiv()==null){if(this.mb.force()!=null){this.setMessage("No default content, an empty one has been added");}else{this.setMessage("Unable to locate mbox");}}if(!this.activate()){this.hide();this.setEventTime("finalize.end.hide");}this.setEventTime("finalize.end.ok");};mbox.prototype.cancelTimeout=function(){if(this.Vb){clearTimeout(this.Vb);}if(this.Mb!=null){this.Mb.cancel();}};mbox.prototype.getDiv=function(){return this.Fb;};mbox.prototype.getDefaultDiv=function(){if(this.Tb==null){this.Tb=this.mb.locate();}return this.Tb;};mbox.prototype.setEventTime=function(a){this.Ob[a]=(new Date()).getTime();};mbox.prototype.getEventTimes=function(){return this.Ob;};mbox.prototype.getImportName=function(){return this.nb;};mbox.prototype.getURL=function(){return this.w.buildUrl();};mbox.prototype.getUrlBuilder=function(){return this.w;};mbox.prototype._b=function(a){return a.style.display!="none";};mbox.prototype.Yb=function(a){this.ac(a,true);};mbox.prototype.Xb=function(a){this.ac(a,false);};mbox.prototype.ac=function(b,a){b.style.visibility=a?"visible":"hidden";b.style.display=a?"block":"none";};mboxOfferContent=function(){this.Sb=function(){};};mboxOfferContent.prototype.show=function(a){var b=a.showContent(document.getElementById(a.getImportName()));if(b==1){this.Sb();}return b;};mboxOfferContent.prototype.setOnLoad=function(a){this.Sb=a;};mboxOfferAjax=function(a){this.Wb=a;this.Sb=function(){};};mboxOfferAjax.prototype.setOnLoad=function(a){this.Sb=a;};mboxOfferAjax.prototype.show=function(a){var c=document.createElement("div");c.id=a.getImportName();c.innerHTML=this.Wb;var b=a.showContent(c);if(b==1){this.Sb();}return b;};mboxOfferDefault=function(){this.Sb=function(){};};mboxOfferDefault.prototype.setOnLoad=function(a){this.Sb=a;};mboxOfferDefault.prototype.show=function(a){var b=a.hide();if(b==1){this.Sb();}return b;};mboxCookieManager=function mboxCookieManager(b,a){this.g=b;this.dc=a==""||a.indexOf(".")==-1?"":"; domain="+a;this.ec=new mboxMap();this.loadCookies();};mboxCookieManager.prototype.isEnabled=function(){this.setCookie("check","true",60);this.loadCookies();return this.getCookie("check")=="true";};mboxCookieManager.prototype.setCookie=function(c,b,d){if(typeof c!="undefined"&&typeof b!="undefined"&&typeof d!="undefined"){var a=new Object();a.name=c;a.value=escape(b);a.expireOn=Math.ceil(d+new Date().getTime()/1000);this.ec.put(c,a);this.saveCookies();}};mboxCookieManager.prototype.getCookie=function(b){var a=this.ec.get(b);return a?unescape(a.value):null;};mboxCookieManager.prototype.deleteCookie=function(a){this.ec.remove(a);this.saveCookies();};mboxCookieManager.prototype.getCookieNames=function(a){var b=new Array();this.ec.each(function(d,c){if(d.indexOf(a)==0){b[b.length]=d;}});return b;};mboxCookieManager.prototype.saveCookies=function(){var a=false;var b="disable";var c=new Array();var d=0;this.ec.each(function(h,f){if(!a||h===b){c[c.length]=h+"#"+f.value+"#"+f.expireOn;if(d<f.expireOn){d=f.expireOn;}}});var e=new Date(d*1000);document.cookie=this.g+"="+c.join("|")+"; expires="+e.toGMTString()+"; path=/"+this.dc;};mboxCookieManager.prototype.loadCookies=function(){this.ec=new mboxMap();var g=document.cookie.indexOf(this.g+"=");if(g!=-1){var a=document.cookie.indexOf(";",g);if(a==-1){a=document.cookie.indexOf(",",g);if(a==-1){a=document.cookie.length;}}var c=document.cookie.substring(g+this.g.length+1,a).split("|");var e=Math.ceil(new Date().getTime()/1000);for(var b=0;b<c.length;b++){var d=c[b].split("#");if(e<=d[2]){var f=new Object();f.name=d[0];f.value=d[1];f.expireOn=d[2];this.ec.put(f.name,f);}}}};mboxSession=function(e,a,d,c,b){this.tc=a;this.Ab=d;this.uc=c;this.J=b;this.vc=false;this.Ib=typeof mboxForceSessionId!="undefined"?mboxForceSessionId:mboxGetPageParameter(this.tc);if(this.Ib==null||this.Ib.length==0){this.Ib=b.getCookie(d);if(this.Ib==null||this.Ib.length==0){this.Ib=e;this.vc=true;}}b.setCookie(d,this.Ib,c);};mboxSession.prototype.getId=function(){return this.Ib;};mboxSession.prototype.forceId=function(a){this.Ib=a;this.J.setCookie(this.Ab,this.Ib,this.uc);};mboxPC=function(c,b,a){this.Ab=c;this.uc=b;this.J=a;this.Ib=typeof mboxForcePCId!="undefined"?mboxForcePCId:a.getCookie(c);if(this.Ib!=null){a.setCookie(c,this.Ib,b);}};mboxPC.prototype.getId=function(){return this.Ib;};mboxPC.prototype.forceId=function(a){if(this.Ib!=a){this.Ib=a;this.J.setCookie(this.Ab,this.Ib,this.uc);return true;}return false;};mboxGetPageParameter=function(a){var d=null;var b=new RegExp(a+"=([^&]*)");var c=b.exec(document.location);if(c!=null&&c.length>=2){d=c[1];}return d;};mboxSetCookie=function(b,a,c){return mboxFactoryDefault.getCookieManager().setCookie(b,a,c);};mboxGetCookie=function(a){return mboxFactoryDefault.getCookieManager().getCookie(a);};mboxCookiePageDomain=function(){var b=(/([^:]*)(:[0-9]{0,5})?/).exec(document.location.host)[1];var a=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/;if(!a.exec(b)){var c=(/([^\.]+\.[^\.]{3}|[^\.]+\.[^\.]+\.[^\.]{2})$/).exec(b);if(c){b=c[0];}}return b?b:"";};mboxShiftArray=function(c){var b=new Array();for(var a=1;a<c.length;a++){b[b.length]=c[a];}return b;};mboxGenerateId=function(){return(new Date()).getTime()+"-"+Math.floor(Math.random()*999999);};mboxScreenHeight=function(){return screen.height;};mboxScreenWidth=function(){return screen.width;};mboxBrowserWidth=function(){return(window.innerWidth)?window.innerWidth:document.documentElement?document.documentElement.clientWidth:document.body.clientWidth;};mboxBrowserHeight=function(){return(window.innerHeight)?window.innerHeight:document.documentElement?document.documentElement.clientHeight:document.body.clientHeight;};mboxBrowserTimeOffset=function(){return -new Date().getTimezoneOffset();};mboxScreenColorDepth=function(){return screen.pixelDepth;};if(typeof mboxVersion=="undefined"){var mboxVersion=41;var mboxFactories=new mboxMap();var mboxFactoryDefault=new mboxFactory("saksfifthavenueinc.tt.omtrdc.net","saksfifthavenueinc","default");}if(mboxGetPageParameter("mboxDebug")!=null||mboxFactoryDefault.getCookieManager().getCookie("debug")!=null){setTimeout(function(){if(typeof mboxDebugLoaded=="undefined"){alert("Could not load the remote debug.\nPlease check your connection to Test&amp;Target servers");}},60*60);document.write('<script language="Javascript1.2" src="http://admin9.testandtarget.omniture.com/admin/mbox/mbox_debug.jsp?mboxServerHost=saksfifthavenueinc.tt.omtrdc.net&clientCode=saksfifthavenueinc"><\/script>');}window.Modernizr=function(ar,aq,ap){function O(){an.input=function(e){for(var d=0,f=e.length;d<f;d++){T[e[d]]=e[d] in ag;}return T;}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),an.inputtypes=function(b){for(var m=0,l,k,g,c=b.length;m<c;m++){ag.setAttribute("type",k=b[m]),l=ag.type!=="text",l&&(ag.value=af,ag.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(k)&&ag.style.WebkitAppearance!==ap?(al.appendChild(ag),g=aq.defaultView,l=g.getComputedStyle&&g.getComputedStyle(ag,null).WebkitAppearance!=="textfield"&&ag.offsetHeight!==0,al.removeChild(ag)):/^(search|tel)$/.test(k)||(/^(url|email)$/.test(k)?l=ag.checkValidity&&ag.checkValidity()===!1:/^color$/.test(k)?(al.appendChild(ag),al.offsetWidth,l=ag.value!=af,al.removeChild(ag)):l=ag.value!=af)),V[b[m]]=!!l;}return V;}("search tel url email datetime date month week time datetime-local number range color".split(" "));}function S(f,e){var h=f.charAt(0).toUpperCase()+f.substr(1),g=(f+" "+ab.join(h+" ")+h).split(" ");return U(g,e);}function U(e,c){for(var f in e){if(ah[e[f]]!==ap){return c=="pfx"?e[f]:!0;}}return !1;}function W(d,c){return !!~(""+d).indexOf(c);}function Y(d,c){return typeof d===c;}function aa(d,c){return ac(ad.join(d+";")+(c||""));}function ac(b){ah.cssText=b;}var ao="2.0.6",an={},am=!0,al=aq.documentElement,ak=aq.head||aq.getElementsByTagName("head")[0],aj="modernizr",ai=aq.createElement(aj),ah=ai.style,ag=aq.createElement("input"),af=":)",ae=Object.prototype.toString,ad=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),ab="Webkit Moz O ms Khtml".split(" "),Z={svg:"http://www.w3.org/2000/svg"},X={},V={},T={},R=[],Q=function(b,r,q,o){var n,m,l,g=aq.createElement("div");if(parseInt(q,10)){while(q--){l=aq.createElement("div"),l.id=o?o[q]:aj+(q+1),g.appendChild(l);}}n=["&shy;","<style>",b,"</style>"].join(""),g.id=aj,g.innerHTML+=n,al.appendChild(g),m=r(g,b),g.parentNode.removeChild(g);return !!m;},N=function(){function c(h,g){g=g||aq.createElement(b[h]||"div"),h="on"+h;var a=h in g;a||(g.setAttribute||(g=aq.createElement("div")),g.setAttribute&&g.removeAttribute&&(g.setAttribute(h,""),a=Y(g[h],"function"),Y(g[h],ap)||(g[h]=ap),g.removeAttribute(h))),g=null;return a;}var b={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return c;}(),M,K={}.hasOwnProperty,J;!Y(K,ap)&&!Y(K.call,ap)?J=function(d,c){return K.call(d,c);}:J=function(d,c){return c in d&&Y(d.constructor.prototype[c],ap);};var P=function(h,e){var b=h.join(""),a=e.length;Q(b,function(o,n){var m=aq.styleSheets[aq.styleSheets.length-1],l=m.cssRules&&m.cssRules[0]?m.cssRules[0].cssText:m.cssText||"",k=o.childNodes,g={};while(a--){g[k[a].id]=k[a];}an.touch="ontouchstart" in ar||g.touch.offsetTop===9,an.csstransforms3d=g.csstransforms3d.offsetLeft===9,an.generatedcontent=g.generatedcontent.offsetHeight>=1,an.fontface=/src/i.test(l)&&l.indexOf(n.split(" ")[0])===0;},a,e);}(['@font-face {font-family:"font";src:url("https://")}',["@media (",ad.join("touch-enabled),("),aj,")","{#touch{top:9px;position:absolute}}"].join(""),["@media (",ad.join("transform-3d),("),aj,")","{#csstransforms3d{left:9px;position:absolute}}"].join(""),['#generatedcontent:after{content:"',af,'";visibility:hidden}'].join("")],["fontface","touch","csstransforms3d","generatedcontent"]);X.flexbox=function(){function l(f,e,n,m){f.style.cssText=ad.join(e+":"+n+";")+(m||"");}function b(f,e,n,m){e+=":",f.style.cssText=(e+ad.join(n+";"+e)).slice(0,-e.length)+(m||"");}var k=aq.createElement("div"),h=aq.createElement("div");b(k,"display","box","width:42px;padding:0;"),l(h,"box-flex","1","width:10px;"),k.appendChild(h),al.appendChild(k);var g=h.offsetWidth===42;k.removeChild(h),al.removeChild(k);return g;},X.canvas=function(){var b=aq.createElement("canvas");return !!b.getContext&&!!b.getContext("2d");},X.canvastext=function(){return !!an.canvas&&!!Y(aq.createElement("canvas").getContext("2d").fillText,"function");},X.webgl=function(){return !!ar.WebGLRenderingContext;},X.touch=function(){return an.touch;},X.geolocation=function(){return !!navigator.geolocation;},X.postmessage=function(){return !!ar.postMessage;},X.websqldatabase=function(){var a=!!ar.openDatabase;return a;},X.indexedDB=function(){for(var a=-1,d=ab.length;++a<d;){if(ar[ab[a].toLowerCase()+"IndexedDB"]){return !0;}}return !!ar.indexedDB;},X.hashchange=function(){return N("hashchange",ar)&&(aq.documentMode===ap||aq.documentMode>7);},X.history=function(){return !!ar.history&&!!history.pushState;},X.draganddrop=function(){return N("dragstart")&&N("drop");},X.websockets=function(){for(var a=-1,d=ab.length;++a<d;){if(ar[ab[a]+"WebSocket"]){return !0;}}return"WebSocket" in ar;},X.rgba=function(){ac("background-color:rgba(150,255,150,.5)");return W(ah.backgroundColor,"rgba");},X.hsla=function(){ac("background-color:hsla(120,40%,100%,.5)");return W(ah.backgroundColor,"rgba")||W(ah.backgroundColor,"hsla");},X.multiplebgs=function(){ac("background:url(https://),url(https://),red url(https://)");return/(url\s*\(.*?){3}/.test(ah.background);},X.backgroundsize=function(){return S("backgroundSize");},X.borderimage=function(){return S("borderImage");},X.borderradius=function(){return S("borderRadius");},X.boxshadow=function(){return S("boxShadow");},X.textshadow=function(){return aq.createElement("div").style.textShadow==="";},X.opacity=function(){aa("opacity:.55");return/^0.55$/.test(ah.opacity);},X.cssanimations=function(){return S("animationName");},X.csscolumns=function(){return S("columnCount");},X.cssgradients=function(){var e="background-image:",d="gradient(linear,left top,right bottom,from(#9f9),to(white));",f="linear-gradient(left top,#9f9, white);";ac((e+ad.join(d+e)+ad.join(f+e)).slice(0,-e.length));return W(ah.backgroundImage,"gradient");},X.cssreflections=function(){return S("boxReflect");},X.csstransforms=function(){return !!U(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"]);},X.csstransforms3d=function(){var b=!!U(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);b&&"webkitPerspective" in al.style&&(b=an.csstransforms3d);return b;},X.csstransitions=function(){return S("transitionProperty");},X.fontface=function(){return an.fontface;},X.generatedcontent=function(){return an.generatedcontent;},X.video=function(){var b=aq.createElement("video"),h=!1;try{if(h=!!b.canPlayType){h=new Boolean(h),h.ogg=b.canPlayType('video/ogg; codecs="theora"');var g='video/mp4; codecs="avc1.42E01E';h.h264=b.canPlayType(g+'"')||b.canPlayType(g+', mp4a.40.2"'),h.webm=b.canPlayType('video/webm; codecs="vp8, vorbis"');}}catch(f){}return h;},X.audio=function(){var b=aq.createElement("audio"),f=!1;try{if(f=!!b.canPlayType){f=new Boolean(f),f.ogg=b.canPlayType('audio/ogg; codecs="vorbis"'),f.mp3=b.canPlayType("audio/mpeg;"),f.wav=b.canPlayType('audio/wav; codecs="1"'),f.m4a=b.canPlayType("audio/x-m4a;")||b.canPlayType("audio/aac;");}}catch(e){}return f;},X.localstorage=function(){try{return !!localStorage.getItem;}catch(b){return !1;}},X.sessionstorage=function(){try{return !!sessionStorage.getItem;}catch(b){return !1;}},X.webworkers=function(){return !!ar.Worker;},X.applicationcache=function(){return !!ar.applicationCache;},X.svg=function(){return !!aq.createElementNS&&!!aq.createElementNS(Z.svg,"svg").createSVGRect;},X.inlinesvg=function(){var b=aq.createElement("div");b.innerHTML="<svg/>";return(b.firstChild&&b.firstChild.namespaceURI)==Z.svg;},X.smil=function(){return !!aq.createElementNS&&/SVG/.test(ae.call(aq.createElementNS(Z.svg,"animate")));},X.svgclippaths=function(){return !!aq.createElementNS&&/SVG/.test(ae.call(aq.createElementNS(Z.svg,"clipPath")));};for(var L in X){J(X,L)&&(M=L.toLowerCase(),an[M]=X[L](),R.push((an[M]?"":"no-")+M));}an.input||O(),ac(""),ai=ag=null,ar.attachEvent&&function(){var b=aq.createElement("div");b.innerHTML="<elem></elem>";return b.childNodes.length!==1;}()&&function(at,I){function c(e){var d=-1;while(++d<E){e.createElement(F[d]);}}at.iepp=at.iepp||{};var H=at.iepp,G=H.html5elements||"abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",F=G.split("|"),E=F.length,D=new RegExp("(^|\\s)("+G+")","gi"),C=new RegExp("<(/*)("+G+")","gi"),B=/^\s*[\{\}]\s*$/,A=new RegExp("(^|[^\\n]*?\\s)("+G+")([^\\n]*)({[\\n\\w\\W]*?})","gi"),z=I.createDocumentFragment(),y=I.documentElement,x=y.firstChild,w=I.createElement("body"),v=I.createElement("style"),u=/print|all/,t;H.getCSS=function(k,d){if(k+""===ap){return"";}var o=-1,n=k.length,m,l=[];while(++o<n){m=k[o];if(m.disabled){continue;}d=m.media||d,u.test(d)&&l.push(H.getCSS(m.imports,d),m.cssText),d="all";}return l.join("");},H.parseCSS=function(e){var d=[],f;while((f=A.exec(e))!=null){d.push(((B.exec(f[1])?"\n":f[1])+f[2]+f[3]).replace(D,"$1.iepp_$2")+f[4]);}return d.join("\n");},H.writeHTML=function(){var b=-1;t=t||I.body;while(++b<E){var h=I.getElementsByTagName(F[b]),g=h.length,f=-1;while(++f<g){h[f].className.indexOf("iepp_")<0&&(h[f].className+=" iepp_"+F[b]);}}z.appendChild(t),y.appendChild(w),w.className=t.className,w.id=t.id,w.innerHTML=t.innerHTML.replace(C,"<$1font");},H._beforePrint=function(){v.styleSheet.cssText=H.parseCSS(H.getCSS(I.styleSheets,"all")),H.writeHTML();},H.restoreHTML=function(){w.innerHTML="",y.removeChild(w),y.appendChild(t);},H._afterPrint=function(){H.restoreHTML(),v.styleSheet.cssText="";},c(I),c(z);H.disablePP||(x.insertBefore(v,x.firstChild),v.media="print",v.className="iepp-printshim",at.attachEvent("onbeforeprint",H._beforePrint),at.attachEvent("onafterprint",H._afterPrint));}(ar,aq),an._version=ao,an._prefixes=ad,an._domPrefixes=ab,an.hasEvent=N,an.testProp=function(b){return U([b]);},an.testAllProps=S,an.testStyles=Q,al.className=al.className.replace(/\bno-js\b/,"")+(am?" js "+R.join(" "):"");return an;}(this,this.document),function(ap,ao,an){function af(b){return !b||b=="loaded"||b=="complete";}function ag(){var d=1,c=-1;while(aa.length- ++c){if(aa[c].s&&!(d=aa[c].r)){break;}}d&&aj();}function ah(b){var f=ao.createElement("script"),e;f.src=b.s,f.onreadystatechange=f.onload=function(){!e&&af(f.readyState)&&(e=1,ag(),f.onload=f.onreadystatechange=null);},ad(function(){e||(e=1,ag());},L.errorTimeout),b.e?f.onload():ac.parentNode.insertBefore(f,ac);}function ai(b){var h=ao.createElement("link"),g;h.href=b.s,h.rel="stylesheet",h.type="text/css";if(!b.e&&(M||W)){var f=function(c){ad(function(){if(!g){try{c.sheet.cssRules.length?(g=1,ag()):f(c);}catch(a){a.code==1000||a.message=="security"||a.message=="denied"?(g=1,ad(function(){ag();},0)):f(c);}}},0);};f(h);}else{h.onload=function(){g||(g=1,ad(function(){ag();},0));},b.e&&h.onload();}ad(function(){g||(g=1,ag());},L.errorTimeout),!b.e&&ac.parentNode.insertBefore(h,ac);}function aj(){var b=aa.shift();Y=1,b?b.t?ad(function(){b.t=="c"?ai(b):ah(b);},0):(b(),ag()):Y=0;}function ak(w,v,u,t,q,n){function m(){!g&&af(k.readyState)&&(b.r=g=1,!Y&&ag(),k.onload=k.onreadystatechange=null,ad(function(){Q.removeChild(k);},0));}var k=ao.createElement(w),g=0,b={t:u,s:v,e:n};k.src=k.data=v,!U&&(k.style.display="none"),k.width=k.height="0",w!="object"&&(k.type=u),k.onload=k.onreadystatechange=m,w=="img"?k.onerror=m:w=="script"&&(k.onerror=function(){b.e=b.r=1,aj();}),aa.splice(t,0,b),Q.insertBefore(k,U?null:ac),ad(function(){g||(Q.removeChild(k),b.r=b.e=g=1,ag());},L.errorTimeout);}function al(f,e,h){var g=e=="c"?I:J;Y=0,e=e||"j",V(f)?ak(g,f,e,this.i++,ae,h):(aa.splice(this.i++,0,f),aa.length==1&&aj());return this;}function am(){var b=L;b.loader={load:al,i:0};return b;}var ae=ao.documentElement,ad=ap.setTimeout,ac=ao.getElementsByTagName("script")[0],ab={}.toString,aa=[],Y=0,W="MozAppearance" in ae.style,U=W&&!!ao.createRange().compareNode,S=W&&!U,Q=U?ae:ac.parentNode,O=ap.opera&&ab.call(ap.opera)=="[object Opera]",M="webkitAppearance" in ae.style,K=M&&"async" in ao.createElement("script"),J=W?"object":O||K?"img":"script",I=M?"img":J,Z=Array.isArray||function(b){return ab.call(b)=="[object Array]";},X=function(b){return Object(b)===b;},V=function(b){return typeof b=="string";},T=function(b){return ab.call(b)=="[object Function]";},R=[],P={},N,L;L=function(d){function n(r){var q=r.split("!"),y=R.length,x=q.pop(),w=q.length,v={url:x,origUrl:x,prefixes:q},u,t;for(t=0;t<w;t++){u=P[q[t]],u&&(v=u(v));}for(t=0;t<y;t++){v=R[t](v);}return v;}function o(q,f,w,v,u){var t=n(q),r=t.autoCallback;if(!t.bypass){f&&(f=T(f)?f:f[q]||f[v]||f[q.split("/").pop().split("?")[0]]);if(t.instead){return t.instead(q,f,w,v,u);}w.load(t.url,t.forceCSS||!t.forceJS&&/css$/.test(t.url)?"c":an,t.noexec),(T(f)||T(r))&&w.load(function(){am(),f&&f(t.origUrl,u,v),r&&r(t.origUrl,u,v);});}}function c(q,e){function x(b){if(V(b)){o(b,t,e,0,w);}else{if(X(b)){for(r in b){b.hasOwnProperty(r)&&o(b[r],t,e,r,w);}}}}var w=!!q.test,v=w?q.yep:q.nope,u=q.load||q.both,t=q.callback,r;x(v),x(u),q.complete&&e.load(q.complete);}var m,l,k=this.yepnope.loader;if(V(d)){o(d,0,k,0);}else{if(Z(d)){for(m=0;m<d.length;m++){l=d[m],V(l)?o(l,0,k,0):Z(l)?L(l):X(l)&&c(l,k);}}else{X(d)&&c(d,k);}}},L.addPrefix=function(d,c){P[d]=c;},L.addFilter=function(b){R.push(b);},L.errorTimeout=10000,ao.readyState==null&&ao.addEventListener&&(ao.readyState="loading",ao.addEventListener("DOMContentLoaded",N=function(){ao.removeEventListener("DOMContentLoaded",N,0),ao.readyState="complete";},0)),ap.yepnope=am();}(this,this.document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0));};var swfobject=function(){var aq="undefined",aD="object",ab="Shockwave Flash",X="ShockwaveFlash.ShockwaveFlash",aE="application/x-shockwave-flash",ac="SWFObjectExprInst",ax="onreadystatechange",af=window,aL=document,aB=navigator,aa=false,Z=[aN],aG=[],ag=[],al=[],aJ,ad,ap,at,ak=false,aU=false,aH,an,aI=true,ah=function(){var a=typeof aL.getElementById!=aq&&typeof aL.getElementsByTagName!=aq&&typeof aL.createElement!=aq,e=aB.userAgent.toLowerCase(),c=aB.platform.toLowerCase(),h=c?/win/.test(c):/win/.test(e),l=c?/mac/.test(c):/mac/.test(e),g=/webkit/.test(e)?parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,d=!+"\v1",f=[0,0,0],m=null;if(typeof aB.plugins!=aq&&typeof aB.plugins[ab]==aD){m=aB.plugins[ab].description;if(m&&!(typeof aB.mimeTypes!=aq&&aB.mimeTypes[aE]&&!aB.mimeTypes[aE].enabledPlugin)){aa=true;d=false;m=m.replace(/^.*\s+(\S+\s+\S+$)/,"$1");f[0]=parseInt(m.replace(/^(.*)\..*$/,"$1"),10);f[1]=parseInt(m.replace(/^.*\.(.*)\s.*$/,"$1"),10);f[2]=/[a-zA-Z]/.test(m)?parseInt(m.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0;}}else{if(typeof af.ActiveXObject!=aq){try{var k=new ActiveXObject(X);if(k){m=k.GetVariable("$version");if(m){d=true;m=m.split(" ")[1].split(",");f=[parseInt(m[0],10),parseInt(m[1],10),parseInt(m[2],10)];}}}catch(b){}}}return{w3:a,pv:f,wk:g,ie:d,win:h,mac:l};}(),aK=function(){if(!ah.w3){return;}if((typeof aL.readyState!=aq&&aL.readyState=="complete")||(typeof aL.readyState==aq&&(aL.getElementsByTagName("body")[0]||aL.body))){aP();}if(!ak){if(typeof aL.addEventListener!=aq){aL.addEventListener("DOMContentLoaded",aP,false);}if(ah.ie&&ah.win){aL.attachEvent(ax,function(){if(aL.readyState=="complete"){aL.detachEvent(ax,arguments.callee);aP();}});if(af==top){(function(){if(ak){return;}try{aL.documentElement.doScroll("left");}catch(a){setTimeout(arguments.callee,0);return;}aP();})();}}if(ah.wk){(function(){if(ak){return;}if(!/loaded|complete/.test(aL.readyState)){setTimeout(arguments.callee,0);return;}aP();})();}aC(aP);}}();function aP(){if(ak){return;}try{var b=aL.getElementsByTagName("body")[0].appendChild(ar("span"));b.parentNode.removeChild(b);}catch(a){return;}ak=true;var d=Z.length;for(var c=0;c<d;c++){Z[c]();}}function aj(a){if(ak){a();}else{Z[Z.length]=a;}}function aC(a){if(typeof af.addEventListener!=aq){af.addEventListener("load",a,false);}else{if(typeof aL.addEventListener!=aq){aL.addEventListener("load",a,false);}else{if(typeof af.attachEvent!=aq){aM(af,"onload",a);}else{if(typeof af.onload=="function"){var b=af.onload;af.onload=function(){b();a();};}else{af.onload=a;}}}}}function aN(){if(aa){Y();}else{am();}}function Y(){var d=aL.getElementsByTagName("body")[0];var b=ar(aD);b.setAttribute("type",aE);var a=d.appendChild(b);if(a){var c=0;(function(){if(typeof a.GetVariable!=aq){var e=a.GetVariable("$version");if(e){e=e.split(" ")[1].split(",");ah.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)];}}else{if(c<10){c++;setTimeout(arguments.callee,10);return;}}d.removeChild(b);a=null;am();})();}else{am();}}function am(){var g=aG.length;if(g>0){for(var h=0;h<g;h++){var c=aG[h].id;var n=aG[h].callbackFn;var a={success:false,id:c};if(ah.pv[0]>0){var k=aS(c);if(k){if(ao(aG[h].swfVersion)&&!(ah.wk&&ah.wk<312)){ay(c,true);if(n){a.success=true;a.ref=av(c);n(a);}}else{if(aG[h].expressInstall&&au()){var e={};e.data=aG[h].expressInstall;e.width=k.getAttribute("width")||"0";e.height=k.getAttribute("height")||"0";if(k.getAttribute("class")){e.styleclass=k.getAttribute("class");}if(k.getAttribute("align")){e.align=k.getAttribute("align");}var f={};var d=k.getElementsByTagName("param");var m=d.length;for(var l=0;l<m;l++){if(d[l].getAttribute("name").toLowerCase()!="movie"){f[d[l].getAttribute("name")]=d[l].getAttribute("value");}}ae(e,f,c,n);}else{aF(k);if(n){n(a);}}}}}else{ay(c,true);if(n){var b=av(c);if(b&&typeof b.SetVariable!=aq){a.success=true;a.ref=b;}n(a);}}}}}function av(b){var d=null;var c=aS(b);if(c&&c.nodeName=="OBJECT"){if(typeof c.SetVariable!=aq){d=c;}else{var a=c.getElementsByTagName(aD)[0];if(a){d=a;}}}return d;}function au(){return !aU&&ao("6.0.65")&&(ah.win||ah.mac)&&!(ah.wk&&ah.wk<312);}function ae(f,d,h,e){aU=true;ap=e||null;at={success:false,id:h};var a=aS(h);if(a){if(a.nodeName=="OBJECT"){aJ=aO(a);ad=null;}else{aJ=a;ad=h;}f.id=ac;if(typeof f.width==aq||(!/%$/.test(f.width)&&parseInt(f.width,10)<310)){f.width="310";}if(typeof f.height==aq||(!/%$/.test(f.height)&&parseInt(f.height,10)<137)){f.height="137";}aL.title=aL.title.slice(0,47)+" - Flash Player Installation";var b=ah.ie&&ah.win?"ActiveX":"PlugIn",c="MMredirectURL="+af.location.toString().replace(/&/g,"%26")+"&MMplayerType="+b+"&MMdoctitle="+aL.title;if(typeof d.flashvars!=aq){d.flashvars+="&"+c;}else{d.flashvars=c;}if(ah.ie&&ah.win&&a.readyState!=4){var g=ar("div");h+="SWFObjectNew";g.setAttribute("id",h);a.parentNode.insertBefore(g,a);a.style.display="none";(function(){if(a.readyState==4){a.parentNode.removeChild(a);}else{setTimeout(arguments.callee,10);}})();}aA(f,d,h);}}function aF(a){if(ah.ie&&ah.win&&a.readyState!=4){var b=ar("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(aO(a),b);a.style.display="none";(function(){if(a.readyState==4){a.parentNode.removeChild(a);}else{setTimeout(arguments.callee,10);}})();}else{a.parentNode.replaceChild(aO(a),a);}}function aO(b){var d=ar("div");if(ah.win&&ah.ie){d.innerHTML=b.innerHTML;}else{var e=b.getElementsByTagName(aD)[0];if(e){var a=e.childNodes;if(a){var f=a.length;for(var c=0;c<f;c++){if(!(a[c].nodeType==1&&a[c].nodeName=="PARAM")&&!(a[c].nodeType==8)){d.appendChild(a[c].cloneNode(true));}}}}}return d;}function aA(e,g,c){var d,a=aS(c);if(ah.wk&&ah.wk<312){return d;}if(a){if(typeof e.id==aq){e.id=c;}if(ah.ie&&ah.win){var f="";for(var k in e){if(e[k]!=Object.prototype[k]){if(k.toLowerCase()=="data"){g.movie=e[k];}else{if(k.toLowerCase()=="styleclass"){f+=' class="'+e[k]+'"';}else{if(k.toLowerCase()!="classid"){f+=" "+k+'="'+e[k]+'"';}}}}}var h="";for(var l in g){if(g[l]!=Object.prototype[l]){h+='<param name="'+l+'" value="'+g[l]+'" />';}}a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+h+"</object>";ag[ag.length]=e.id;d=aS(e.id);}else{var b=ar(aD);b.setAttribute("type",aE);for(var m in e){if(e[m]!=Object.prototype[m]){if(m.toLowerCase()=="styleclass"){b.setAttribute("class",e[m]);}else{if(m.toLowerCase()!="classid"){b.setAttribute(m,e[m]);}}}}for(var n in g){if(g[n]!=Object.prototype[n]&&n.toLowerCase()!="movie"){aQ(b,n,g[n]);}}a.parentNode.replaceChild(b,a);d=b;}}return d;}function aQ(b,d,c){var a=ar("param");a.setAttribute("name",d);a.setAttribute("value",c);b.appendChild(a);}function aw(a){var b=aS(a);if(b&&b.nodeName=="OBJECT"){if(ah.ie&&ah.win){b.style.display="none";(function(){if(b.readyState==4){aT(a);}else{setTimeout(arguments.callee,10);}})();}else{b.parentNode.removeChild(b);}}}function aT(a){var b=aS(a);if(b){for(var c in b){if(typeof b[c]=="function"){b[c]=null;}}b.parentNode.removeChild(b);}}function aS(a){var c=null;try{c=aL.getElementById(a);}catch(b){}return c;}function ar(a){return aL.createElement(a);}function aM(a,c,b){a.attachEvent(c,b);al[al.length]=[a,c,b];}function ao(a){var b=ah.pv,c=a.split(".");c[0]=parseInt(c[0],10);c[1]=parseInt(c[1],10)||0;c[2]=parseInt(c[2],10)||0;return(b[0]>c[0]||(b[0]==c[0]&&b[1]>c[1])||(b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]))?true:false;}function az(b,f,a,c){if(ah.ie&&ah.mac){return;}var e=aL.getElementsByTagName("head")[0];if(!e){return;}var g=(a&&typeof a=="string")?a:"screen";if(c){aH=null;an=null;}if(!aH||an!=g){var d=ar("style");d.setAttribute("type","text/css");d.setAttribute("media",g);aH=e.appendChild(d);if(ah.ie&&ah.win&&typeof aL.styleSheets!=aq&&aL.styleSheets.length>0){aH=aL.styleSheets[aL.styleSheets.length-1];}an=g;}if(ah.ie&&ah.win){if(aH&&typeof aH.addRule==aD){aH.addRule(b,f);}}else{if(aH&&typeof aL.createTextNode!=aq){aH.appendChild(aL.createTextNode(b+" {"+f+"}"));}}}function ay(a,c){if(!aI){return;}var b=c?"visible":"hidden";if(ak&&aS(a)){aS(a).style.visibility=b;}else{az("#"+a,"visibility:"+b);}}function ai(b){var a=/[\\\"<>\.;]/;var c=a.exec(b)!=null;return c&&typeof encodeURIComponent!=aq?encodeURIComponent(b):b;}var aR=function(){if(ah.ie&&ah.win){window.attachEvent("onunload",function(){var a=al.length;for(var b=0;b<a;b++){al[b][0].detachEvent(al[b][1],al[b][2]);}var d=ag.length;for(var c=0;c<d;c++){aw(ag[c]);}for(var e in ah){ah[e]=null;}ah=null;for(var f in swfobject){swfobject[f]=null;}swfobject=null;});}}();return{registerObject:function(a,e,c,b){if(ah.w3&&a&&e){var d={};d.id=a;d.swfVersion=e;d.expressInstall=c;d.callbackFn=b;aG[aG.length]=d;ay(a,false);}else{if(b){b({success:false,id:a});}}},getObjectById:function(a){if(ah.w3){return av(a);}},embedSWF:function(m,e,h,f,c,a,b,k,g,l){var d={success:false,id:e};if(ah.w3&&!(ah.wk&&ah.wk<312)&&m&&e&&h&&f&&c){ay(e,false);aj(function(){h+="";f+="";var u={};if(g&&typeof g===aD){for(var r in g){u[r]=g[r];}}u.data=m;u.width=h;u.height=f;var q={};if(k&&typeof k===aD){for(var t in k){q[t]=k[t];}}if(b&&typeof b===aD){for(var n in b){if(typeof q.flashvars!=aq){q.flashvars+="&"+n+"="+b[n];}else{q.flashvars=n+"="+b[n];}}}if(ao(c)){var o=aA(u,q,e);if(u.id==e){ay(e,true);}d.success=true;d.ref=o;}else{if(a&&au()){u.data=a;ae(u,q,e,l);return;}else{ay(e,true);}}if(l){l(d);}});}else{if(l){l(d);}}},switchOffAutoHideShow:function(){aI=false;},ua:ah,getFlashPlayerVersion:function(){return{major:ah.pv[0],minor:ah.pv[1],release:ah.pv[2]};},hasFlashPlayerVersion:ao,createSWF:function(a,b,c){if(ah.w3){return aA(a,b,c);}else{return undefined;}},showExpressInstall:function(b,a,d,c){if(ah.w3&&au()){ae(b,a,d,c);}},removeSWF:function(a){if(ah.w3){aw(a);}},createCSS:function(b,a,c,d){if(ah.w3){az(b,a,c,d);}},addDomLoadEvent:aj,addLoadEvent:aC,getQueryParamValue:function(b){var a=aL.location.search||aL.location.hash;if(a){if(/\?/.test(a)){a=a.split("?")[1];}if(b==null){return ai(a);}var c=a.split("&");for(var d=0;d<c.length;d++){if(c[d].substring(0,c[d].indexOf("="))==b){return ai(c[d].substring((c[d].indexOf("=")+1)));}}}return"";},expressInstallCallback:function(){if(aU){var a=aS(ac);if(a&&aJ){a.parentNode.replaceChild(aJ,a);if(ad){ay(ad,true);if(ah.ie&&ah.win){aJ.style.display="block";}}if(ap){ap(at);}}aU=false;}}};}();var isIE=(navigator.appVersion.indexOf("MSIE")!=-1)?true:false;var isWin=(navigator.appVersion.toLowerCase().indexOf("win")!=-1)?true:false;var isOpera=(navigator.userAgent.indexOf("Opera")!=-1)?true:false;function ControlVersion(){var a;var b;var c;try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");a=b.GetVariable("$version");}catch(c){}if(!a){try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");a="WIN 6,0,21,0";b.AllowScriptAccess="always";a=b.GetVariable("$version");}catch(c){}}if(!a){try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");a=b.GetVariable("$version");}catch(c){}}if(!a){try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");a="WIN 3,0,18,0";}catch(c){}}if(!a){try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");a="WIN 2,0,0,11";}catch(c){a=-1;}}return a;}function GetSwfVer(){var g=-1;if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var f=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var a=navigator.plugins["Shockwave Flash"+f].description;var e=a.split(" ");var c=e[2].split(".");var h=c[0];var b=c[1];if(e[3]!=""){tempArrayMinor=e[3].split("r");}else{tempArrayMinor=e[4].split("r");}var d=tempArrayMinor[1]>0?tempArrayMinor[1]:0;var g=h+"."+b+"."+d;}}else{if(navigator.userAgent.toLowerCase().indexOf("webtv/2.6")!=-1){g=4;}else{if(navigator.userAgent.toLowerCase().indexOf("webtv/2.5")!=-1){g=3;}else{if(navigator.userAgent.toLowerCase().indexOf("webtv")!=-1){g=2;}else{if(isIE&&isWin&&!isOpera){g=ControlVersion();}}}}}return g;}function DetectFlashVer(f,d,c){versionStr=GetSwfVer();if(versionStr==-1){return false;}else{if(versionStr!=0){if(isIE&&isWin&&!isOpera){tempArray=versionStr.split(" ");tempString=tempArray[1];versionArray=tempString.split(",");}else{versionArray=versionStr.split(".");}var e=versionArray[0];var a=versionArray[1];var b=versionArray[2];if(e>parseFloat(f)){return true;}else{if(e==parseFloat(f)){if(a>parseFloat(d)){return true;}else{if(a==parseFloat(d)){if(b>=parseFloat(c)){return true;}}}}}return false;}}}function AC_AddExtension(b,a){if(b.indexOf("?")!=-1){return b.replace(/\?/,a+"?");}else{return b+a;}}function AC_Generateobj(e,d,a){var c="";if(isIE&&isWin&&!isOpera){c+="<object ";for(var b in e){c+=b+'="'+e[b]+'" ';}for(var b in d){c+='><param name="'+b+'" value="'+d[b]+'" /> ';}c+="></object>";}else{c+="<embed ";for(var b in a){c+=b+'="'+a[b]+'" ';}c+="> </embed>";}document.write(c);}function AC_FL_RunContent(){var a=AC_GetArgs(arguments,".swf","movie","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000","application/x-shockwave-flash");AC_Generateobj(a.objAttrs,a.params,a.embedAttrs);}function AC_GetArgs(b,e,g,d,h){var a=new Object();a.embedAttrs=new Object();a.params=new Object();a.objAttrs=new Object();for(var c=0;c<b.length;c=c+2){var f=b[c].toLowerCase();switch(f){case"classid":break;case"pluginspage":a.embedAttrs[b[c]]=b[c+1];break;case"src":case"movie":b[c+1]=AC_AddExtension(b[c+1],e);a.embedAttrs.src=b[c+1];a.params[g]=b[c+1];break;case"onafterupdate":case"onbeforeupdate":case"onblur":case"oncellchange":case"onclick":case"ondblClick":case"ondrag":case"ondragend":case"ondragenter":case"ondragleave":case"ondragover":case"ondrop":case"onfinish":case"onfocus":case"onhelp":case"onmousedown":case"onmouseup":case"onmouseover":case"onmousemove":case"onmouseout":case"onkeypress":case"onkeydown":case"onkeyup":case"onload":case"onlosecapture":case"onpropertychange":case"onreadystatechange":case"onrowsdelete":case"onrowenter":case"onrowexit":case"onrowsinserted":case"onstart":case"onscroll":case"onbeforeeditfocus":case"onactivate":case"onbeforedeactivate":case"ondeactivate":case"type":case"codebase":case"id":a.objAttrs[b[c]]=b[c+1];break;case"width":case"height":case"align":case"vspace":case"hspace":case"class":case"title":case"accesskey":case"name":case"tabindex":a.embedAttrs[b[c]]=a.objAttrs[b[c]]=b[c+1];break;default:a.embedAttrs[b[c]]=a.params[b[c]]=b[c+1];}}a.objAttrs.classid=d;if(h){a.embedAttrs.type=h;}return a;}var flash9Installed=DetectFlashVer(9,0,0);var hasRightVersion=DetectFlashVer(9,0,0);var JSON;if(!JSON){JSON={};}(function(){function f(n){return n<10?"0"+n:n;}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key);}if(typeof rep==="function"){value=rep.call(holder,key,value);}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null";}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null";}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v;}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v;}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" ";}}else{if(typeof space==="string"){indent=space;}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify");}return str("",{"":value});};}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return reviver.call(holder,key,value);}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);});}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j;}throw new SyntaxError("JSON.parse");};}}());
/*!
 * jQuery UI Effects 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/
 */
jQuery.effects||(function(h,e){h.effects={};h.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(r,q){h.fx.step[q]=function(t){if(!t.colorInit){t.start=o(t.elem,q);t.end=m(t.end);t.colorInit=true;}t.elem.style[q]="rgb("+Math.max(Math.min(parseInt((t.pos*(t.end[0]-t.start[0]))+t.start[0],10),255),0)+","+Math.max(Math.min(parseInt((t.pos*(t.end[1]-t.start[1]))+t.start[1],10),255),0)+","+Math.max(Math.min(parseInt((t.pos*(t.end[2]-t.start[2]))+t.start[2],10),255),0)+")";};});function m(r){var q;if(r&&r.constructor==Array&&r.length==3){return r;}if(q=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(r)){return[parseInt(q[1],10),parseInt(q[2],10),parseInt(q[3],10)];}if(q=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(r)){return[parseFloat(q[1])*2.55,parseFloat(q[2])*2.55,parseFloat(q[3])*2.55];}if(q=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(r)){return[parseInt(q[1],16),parseInt(q[2],16),parseInt(q[3],16)];}if(q=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(r)){return[parseInt(q[1]+q[1],16),parseInt(q[2]+q[2],16),parseInt(q[3]+q[3],16)];}if(q=/rgba\(0, 0, 0, 0\)/.exec(r)){return a.transparent;}return a[h.trim(r).toLowerCase()];}function o(t,q){var r;do{r=(h.curCSS||h.css)(t,q);if(r!=""&&r!="transparent"||h.nodeName(t,"body")){break;}q="backgroundColor";}while(t=t.parentNode);return m(r);}var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};var f=["add","remove","toggle"],c={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function g(){var u=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,v={},r,t;if(u&&u.length&&u[0]&&u[u[0]]){var q=u.length;while(q--){r=u[q];if(typeof u[r]=="string"){t=r.replace(/\-(\w)/g,function(w,x){return x.toUpperCase();});v[t]=u[r];}}}else{for(r in u){if(typeof u[r]==="string"){v[r]=u[r];}}}return v;}function b(r){var q,t;for(q in r){t=r[q];if(t==null||h.isFunction(t)||q in c||(/scrollbar/).test(q)||(!(/color/i).test(q)&&isNaN(parseFloat(t)))){delete r[q];}}return r;}function k(q,t){var u={_:0},r;for(r in t){if(q[r]!=t[r]){u[r]=t[r];}}return u;}h.effects.animateClass=function(q,r,u,t){if(h.isFunction(u)){t=u;u=null;}return this.queue(function(){var y=h(this),v=y.attr("style")||" ",z=b(g.call(this)),x,w=y.attr("class")||"";h.each(f,function(A,B){if(q[B]){y[B+"Class"](q[B]);}});x=b(g.call(this));y.attr("class",w);y.animate(k(z,x),{queue:false,duration:r,easing:u,complete:function(){h.each(f,function(A,B){if(q[B]){y[B+"Class"](q[B]);}});if(typeof y.attr("style")=="object"){y.attr("style").cssText="";y.attr("style").cssText=v;}else{y.attr("style",v);}if(t){t.apply(this,arguments);}h.dequeue(this);}});});};h.fn.extend({_addClass:h.fn.addClass,addClass:function(r,q,u,t){return q?h.effects.animateClass.apply(this,[{add:r},q,u,t]):this._addClass(r);},_removeClass:h.fn.removeClass,removeClass:function(r,q,u,t){return q?h.effects.animateClass.apply(this,[{remove:r},q,u,t]):this._removeClass(r);},_toggleClass:h.fn.toggleClass,toggleClass:function(t,r,q,v,u){if(typeof r=="boolean"||r===e){if(!q){return this._toggleClass(t,r);}else{return h.effects.animateClass.apply(this,[(r?{add:t}:{remove:t}),q,v,u]);}}else{return h.effects.animateClass.apply(this,[{toggle:t},r,q,v]);}},switchClass:function(q,t,r,v,u){return h.effects.animateClass.apply(this,[{add:t,remove:q},r,v,u]);}});h.extend(h.effects,{version:"1.8.24",save:function(r,t){for(var q=0;q<t.length;q++){if(t[q]!==null){r.data("ec.storage."+t[q],r[0].style[t[q]]);}}},restore:function(r,t){for(var q=0;q<t.length;q++){if(t[q]!==null){r.css(t[q],r.data("ec.storage."+t[q]));}}},setMode:function(q,r){if(r=="toggle"){r=q.is(":hidden")?"show":"hide";}return r;},getBaseline:function(r,t){var u,q;switch(r[0]){case"top":u=0;break;case"middle":u=0.5;break;case"bottom":u=1;break;default:u=r[0]/t.height;}switch(r[1]){case"left":q=0;break;case"center":q=0.5;break;case"right":q=1;break;default:q=r[1]/t.width;}return{x:q,y:u};},createWrapper:function(q){if(q.parent().is(".ui-effects-wrapper")){return q.parent();}var r={width:q.outerWidth(true),height:q.outerHeight(true),"float":q.css("float")},v=h("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),u=document.activeElement;try{u.id;}catch(t){u=document.body;}q.wrap(v);if(q[0]===u||h.contains(q[0],u)){h(u).focus();}v=q.parent();if(q.css("position")=="static"){v.css({position:"relative"});q.css({position:"relative"});}else{h.extend(r,{position:q.css("position"),zIndex:q.css("z-index")});h.each(["top","left","bottom","right"],function(w,x){r[x]=q.css(x);if(isNaN(parseInt(r[x],10))){r[x]="auto";}});q.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"});}return v.css(r).show();},removeWrapper:function(q){var r,t=document.activeElement;if(q.parent().is(".ui-effects-wrapper")){r=q.parent().replaceWith(q);if(q[0]===t||h.contains(q[0],t)){h(t).focus();}return r;}return q;},setTransition:function(r,u,q,t){t=t||{};h.each(u,function(w,v){var y=r.cssUnit(v);if(y[0]>0){t[v]=y[0]*q+y[1];}});return t;}});function d(r,q,t,u){if(typeof r=="object"){u=q;t=null;q=r;r=q.effect;}if(h.isFunction(q)){u=q;t=null;q={};}if(typeof q=="number"||h.fx.speeds[q]){u=t;t=q;q={};}if(h.isFunction(t)){u=t;t=null;}q=q||{};t=t||q.duration;t=h.fx.off?0:typeof t=="number"?t:t in h.fx.speeds?h.fx.speeds[t]:h.fx.speeds._default;u=u||q.complete;return[r,q,t,u];}function n(q){if(!q||typeof q==="number"||h.fx.speeds[q]){return true;}if(typeof q==="string"&&!h.effects[q]){return true;}return false;}h.fn.extend({effect:function(u,t,w,y){var r=d.apply(this,arguments),v={options:r[1],duration:r[2],callback:r[3]},x=v.options.mode,q=h.effects[u];if(h.fx.off||!q){if(x){return this[x](v.duration,v.callback);}else{return this.each(function(){if(v.callback){v.callback.call(this);}});}}return q.call(this,v);},_show:h.fn.show,show:function(r){if(n(r)){return this._show.apply(this,arguments);}else{var q=d.apply(this,arguments);q[1].mode="show";return this.effect.apply(this,q);}},_hide:h.fn.hide,hide:function(r){if(n(r)){return this._hide.apply(this,arguments);}else{var q=d.apply(this,arguments);q[1].mode="hide";return this.effect.apply(this,q);}},__toggle:h.fn.toggle,toggle:function(r){if(n(r)||typeof r==="boolean"||h.isFunction(r)){return this.__toggle.apply(this,arguments);}else{var q=d.apply(this,arguments);q[1].mode="toggle";return this.effect.apply(this,q);}},cssUnit:function(q){var r=this.css(q),t=[];h.each(["em","px","%","pt"],function(u,v){if(r.indexOf(v)>0){t=[parseFloat(r),v];}});return t;}});var l={};h.each(["Quad","Cubic","Quart","Quint","Expo"],function(r,q){l[q]=function(t){return Math.pow(t,r+2);};});h.extend(l,{Sine:function(q){return 1-Math.cos(q*Math.PI/2);},Circ:function(q){return 1-Math.sqrt(1-q*q);},Elastic:function(q){return q===0||q===1?q:-Math.pow(2,8*(q-1))*Math.sin(((q-1)*80-7.5)*Math.PI/15);},Back:function(q){return q*q*(3*q-2);},Bounce:function(t){var q,r=4;while(t<((q=Math.pow(2,--r))-1)/11){}return 1/Math.pow(4,3-r)-7.5625*Math.pow((q*3-2)/22-t,2);}});h.each(l,function(r,q){h.easing["easeIn"+r]=q;h.easing["easeOut"+r]=function(t){return 1-q(1-t);};h.easing["easeInOut"+r]=function(t){return t<0.5?q(t*2)/2:q(t*-2+2)/-2+1;};});})(jQuery);
/*!
 * jQuery UI Effects Fade 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Fade
 *
 * Depends:
 *	jquery.effects.core.js
 */
(function(a,b){a.effects.fade=function(c){return this.queue(function(){var d=a(this),e=a.effects.setMode(d,c.options.mode||"hide");d.animate({opacity:e},{queue:false,duration:c.duration,easing:c.options.easing,complete:function(){(c.callback&&c.callback.apply(this,arguments));d.dequeue();}});});};})(jQuery);
/*!
 * jQuery UI 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(a,d){a.ui=a.ui||{};if(a.ui.version){return;}a.extend(a.ui,{version:"1.8.24",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(e,f){return typeof e==="number"?this.each(function(){var g=this;setTimeout(function(){a(g).focus();if(f){f.call(g);}},e);}):this._focus.apply(this,arguments);},scrollParent:function(){var e;if((a.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){e=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(a.curCSS(this,"position",1))&&(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1));}).eq(0);}else{e=this.parents().filter(function(){return(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1));}).eq(0);}return(/fixed/).test(this.css("position"))||!e.length?a(document):e;},zIndex:function(h){if(h!==d){return this.css("zIndex",h);}if(this.length){var f=a(this[0]),e,g;while(f.length&&f[0]!==document){e=f.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){g=parseInt(f.css("zIndex"),10);if(!isNaN(g)&&g!==0){return g;}}f=f.parent();}}return 0;},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault();});},enableSelection:function(){return this.unbind(".ui-disableSelection");}});if(!a("<a>").outerWidth(1).jquery){a.each(["Width","Height"],function(g,e){var f=e==="Width"?["Left","Right"]:["Top","Bottom"],h=e.toLowerCase(),l={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};function k(o,n,m,q){a.each(f,function(){n-=parseFloat(a.curCSS(o,"padding"+this,true))||0;if(m){n-=parseFloat(a.curCSS(o,"border"+this+"Width",true))||0;}if(q){n-=parseFloat(a.curCSS(o,"margin"+this,true))||0;}});return n;}a.fn["inner"+e]=function(m){if(m===d){return l["inner"+e].call(this);}return this.each(function(){a(this).css(h,k(this,m)+"px");});};a.fn["outer"+e]=function(m,n){if(typeof m!=="number"){return l["outer"+e].call(this,m);}return this.each(function(){a(this).css(h,k(this,m,true,n)+"px");});};});}function c(g,e){var l=g.nodeName.toLowerCase();if("area"===l){var k=g.parentNode,h=k.name,f;if(!g.href||!h||k.nodeName.toLowerCase()!=="map"){return false;}f=a("img[usemap=#"+h+"]")[0];return !!f&&b(f);}return(/input|select|textarea|button|object/.test(l)?!g.disabled:"a"==l?g.href||e:e)&&b(g);}function b(e){return !a(e).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this);}).length;}a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(e){return function(f){return !!a.data(f,e);};}):function(g,f,e){return !!a.data(g,e[3]);},focusable:function(e){return c(e,!isNaN(a.attr(e,"tabindex")));},tabbable:function(g){var e=a.attr(g,"tabindex"),f=isNaN(e);return(f||e>=0)&&c(g,!f);}});a(function(){var e=document.body,f=e.appendChild(f=document.createElement("div"));f.offsetHeight;a.extend(f.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=f.offsetHeight===100;a.support.selectstart="onselectstart" in f;e.removeChild(f).style.display="none";});if(!a.curCSS){a.curCSS=a.css;}a.extend(a.ui,{plugin:{add:function(f,g,k){var h=a.ui[f].prototype;for(var e in k){h.plugins[e]=h.plugins[e]||[];h.plugins[e].push([g,k[e]]);}},call:function(e,g,f){var k=e.plugins[g];if(!k||!e.element[0].parentNode){return;}for(var h=0;h<k.length;h++){if(e.options[k[h][0]]){k[h][1].apply(e.element,f);}}}},contains:function(f,e){return document.compareDocumentPosition?f.compareDocumentPosition(e)&16:f!==e&&f.contains(e);},hasScroll:function(h,f){if(a(h).css("overflow")==="hidden"){return false;}var e=(f&&f==="left")?"scrollLeft":"scrollTop",g=false;if(h[e]>0){return true;}h[e]=1;g=(h[e]>0);h[e]=0;return g;},isOverAxis:function(f,e,g){return(f>e)&&(f<(e+g));},isOver:function(l,f,k,h,e,g){return a.ui.isOverAxis(l,k,e)&&a.ui.isOverAxis(f,h,g);}});})(jQuery);
/*!
 * jQuery UI Widget 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(b,d){if(b.cleanData){var c=b.cleanData;b.cleanData=function(f){for(var g=0,h;(h=f[g])!=null;g++){try{b(h).triggerHandler("remove");}catch(k){}}c(f);};}else{var a=b.fn.remove;b.fn.remove=function(e,f){return this.each(function(){if(!f){if(!e||b.filter(e,[this]).length){b("*",this).add([this]).each(function(){try{b(this).triggerHandler("remove");}catch(g){}});}}return a.call(b(this),e,f);});};}b.widget=function(f,h,e){var g=f.split(".")[0],l;f=f.split(".")[1];l=g+"-"+f;if(!e){e=h;h=b.Widget;}b.expr[":"][l]=function(m){return !!b.data(m,f);};b[g]=b[g]||{};b[g][f]=function(m,n){if(arguments.length){this._createWidget(m,n);}};var k=new h();k.options=b.extend(true,{},k.options);b[g][f].prototype=b.extend(true,k,{namespace:g,widgetName:f,widgetEventPrefix:b[g][f].prototype.widgetEventPrefix||f,widgetBaseClass:l},e);b.widget.bridge(f,b[g][f]);};b.widget.bridge=function(f,e){b.fn[f]=function(k){var g=typeof k==="string",h=Array.prototype.slice.call(arguments,1),l=this;k=!g&&h.length?b.extend.apply(null,[true,k].concat(h)):k;if(g&&k.charAt(0)==="_"){return l;}if(g){this.each(function(){var m=b.data(this,f),n=m&&b.isFunction(m[k])?m[k].apply(m,h):m;if(n!==m&&n!==d){l=n;return false;}});}else{this.each(function(){var m=b.data(this,f);if(m){m.option(k||{})._init();}else{b.data(this,f,new e(k,this));}});}return l;};};b.Widget=function(e,f){if(arguments.length){this._createWidget(e,f);}};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(f,g){b.data(g,this.widgetName,this);this.element=b(g);this.options=b.extend(true,{},this.options,this._getCreateOptions(),f);var e=this;this.element.bind("remove."+this.widgetName,function(){e.destroy();});this._create();this._trigger("create");this._init();},_getCreateOptions:function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName];},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled");},widget:function(){return this.element;},option:function(f,g){var e=f;if(arguments.length===0){return b.extend({},this.options);}if(typeof f==="string"){if(g===d){return this.options[f];}e={};e[f]=g;}this._setOptions(e);return this;},_setOptions:function(f){var e=this;b.each(f,function(g,h){e._setOption(g,h);});return this;},_setOption:function(e,f){this.options[e]=f;if(e==="disabled"){this.widget()[f?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",f);}return this;},enable:function(){return this._setOption("disabled",false);},disable:function(){return this._setOption("disabled",true);},_trigger:function(e,f,g){var l,k,h=this.options[e];g=g||{};f=b.Event(f);f.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase();f.target=this.element[0];k=f.originalEvent;if(k){for(l in k){if(!(l in f)){f[l]=k[l];}}}this.element.trigger(f,g);return !(b.isFunction(h)&&h.call(this.element[0],f,g)===false||f.isDefaultPrevented());}};})(jQuery);
/*!
 * jQuery UI Mouse 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(b,c){var a=false;b(document).mouseup(function(d){a=false;});b.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var d=this;this.element.bind("mousedown."+this.widgetName,function(e){return d._mouseDown(e);}).bind("click."+this.widgetName,function(e){if(true===b.data(e.target,d.widgetName+".preventClickEvent")){b.removeData(e.target,d.widgetName+".preventClickEvent");e.stopImmediatePropagation();return false;}});this.started=false;},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);}},_mouseDown:function(f){if(a){return;}(this._mouseStarted&&this._mouseUp(f));this._mouseDownEvent=f;var e=this,g=(f.which==1),d=(typeof this.options.cancel=="string"&&f.target.nodeName?b(f.target).closest(this.options.cancel).length:false);if(!g||d||!this._mouseCapture(f)){return true;}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=true;},this.options.delay);}if(this._mouseDistanceMet(f)&&this._mouseDelayMet(f)){this._mouseStarted=(this._mouseStart(f)!==false);if(!this._mouseStarted){f.preventDefault();return true;}}if(true===b.data(f.target,this.widgetName+".preventClickEvent")){b.removeData(f.target,this.widgetName+".preventClickEvent");}this._mouseMoveDelegate=function(h){return e._mouseMove(h);};this._mouseUpDelegate=function(h){return e._mouseUp(h);};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);f.preventDefault();a=true;return true;},_mouseMove:function(d){if(b.browser.msie&&!(document.documentMode>=9)&&!d.button){return this._mouseUp(d);}if(this._mouseStarted){this._mouseDrag(d);return d.preventDefault();}if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,d)!==false);(this._mouseStarted?this._mouseDrag(d):this._mouseUp(d));}return !this._mouseStarted;},_mouseUp:function(d){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(d.target==this._mouseDownEvent.target){b.data(d.target,this.widgetName+".preventClickEvent",true);}this._mouseStop(d);}return false;},_mouseDistanceMet:function(d){return(Math.max(Math.abs(this._mouseDownEvent.pageX-d.pageX),Math.abs(this._mouseDownEvent.pageY-d.pageY))>=this.options.distance);},_mouseDelayMet:function(d){return this.mouseDelayMet;},_mouseStart:function(d){},_mouseDrag:function(d){},_mouseStop:function(d){},_mouseCapture:function(d){return true;}});})(jQuery);
/*!
 * jQuery UI Position 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Position
 */
(function(g,h){g.ui=g.ui||{};var d=/left|center|right/,e=/top|center|bottom/,a="center",f={},b=g.fn.position,c=g.fn.offset;g.fn.position=function(l){if(!l||!l.of){return b.apply(this,arguments);}l=g.extend({},l);var q=g(l.of),o=q[0],t=(l.collision||"flip").split(" "),r=l.offset?l.offset.split(" "):[0,0],n,k,m;if(o.nodeType===9){n=q.width();k=q.height();m={top:0,left:0};}else{if(o.setTimeout){n=q.width();k=q.height();m={top:q.scrollTop(),left:q.scrollLeft()};}else{if(o.preventDefault){l.at="left top";n=k=0;m={top:l.of.pageY,left:l.of.pageX};}else{n=q.outerWidth();k=q.outerHeight();m=q.offset();}}}g.each(["my","at"],function(){var u=(l[this]||"").split(" ");if(u.length===1){u=d.test(u[0])?u.concat([a]):e.test(u[0])?[a].concat(u):[a,a];}u[0]=d.test(u[0])?u[0]:a;u[1]=e.test(u[1])?u[1]:a;l[this]=u;});if(t.length===1){t[1]=t[0];}r[0]=parseInt(r[0],10)||0;if(r.length===1){r[1]=r[0];}r[1]=parseInt(r[1],10)||0;if(l.at[0]==="right"){m.left+=n;}else{if(l.at[0]===a){m.left+=n/2;}}if(l.at[1]==="bottom"){m.top+=k;}else{if(l.at[1]===a){m.top+=k/2;}}m.left+=r[0];m.top+=r[1];return this.each(function(){var x=g(this),z=x.outerWidth(),w=x.outerHeight(),y=parseInt(g.curCSS(this,"marginLeft",true))||0,v=parseInt(g.curCSS(this,"marginTop",true))||0,B=z+y+(parseInt(g.curCSS(this,"marginRight",true))||0),C=w+v+(parseInt(g.curCSS(this,"marginBottom",true))||0),A=g.extend({},m),u;if(l.my[0]==="right"){A.left-=z;}else{if(l.my[0]===a){A.left-=z/2;}}if(l.my[1]==="bottom"){A.top-=w;}else{if(l.my[1]===a){A.top-=w/2;}}if(!f.fractions){A.left=Math.round(A.left);A.top=Math.round(A.top);}u={left:A.left-y,top:A.top-v};g.each(["left","top"],function(E,D){if(g.ui.position[t[E]]){g.ui.position[t[E]][D](A,{targetWidth:n,targetHeight:k,elemWidth:z,elemHeight:w,collisionPosition:u,collisionWidth:B,collisionHeight:C,offset:r,my:l.my,at:l.at});}});if(g.fn.bgiframe){x.bgiframe();}x.offset(g.extend(A,{using:l.using}));});};g.ui.position={fit:{left:function(k,l){var n=g(window),m=l.collisionPosition.left+l.collisionWidth-n.width()-n.scrollLeft();k.left=m>0?k.left-m:Math.max(k.left-l.collisionPosition.left,k.left);},top:function(k,l){var n=g(window),m=l.collisionPosition.top+l.collisionHeight-n.height()-n.scrollTop();k.top=m>0?k.top-m:Math.max(k.top-l.collisionPosition.top,k.top);}},flip:{left:function(l,n){if(n.at[0]===a){return;}var q=g(window),o=n.collisionPosition.left+n.collisionWidth-q.width()-q.scrollLeft(),k=n.my[0]==="left"?-n.elemWidth:n.my[0]==="right"?n.elemWidth:0,m=n.at[0]==="left"?n.targetWidth:-n.targetWidth,r=-2*n.offset[0];l.left+=n.collisionPosition.left<0?k+m+r:o>0?k+m+r:0;},top:function(l,n){if(n.at[1]===a){return;}var q=g(window),o=n.collisionPosition.top+n.collisionHeight-q.height()-q.scrollTop(),k=n.my[1]==="top"?-n.elemHeight:n.my[1]==="bottom"?n.elemHeight:0,m=n.at[1]==="top"?n.targetHeight:-n.targetHeight,r=-2*n.offset[1];l.top+=n.collisionPosition.top<0?k+m+r:o>0?k+m+r:0;}}};if(!g.offset.setOffset){g.offset.setOffset=function(o,l){if(/static/.test(g.curCSS(o,"position"))){o.style.position="relative";}var n=g(o),r=n.offset(),k=parseInt(g.curCSS(o,"top",true),10)||0,q=parseInt(g.curCSS(o,"left",true),10)||0,m={top:(l.top-r.top)+k,left:(l.left-r.left)+q};if("using" in l){l.using.call(o,m);}else{n.css(m);}};g.fn.offset=function(k){var l=this[0];if(!l||!l.ownerDocument){return null;}if(k){if(g.isFunction(k)){return this.each(function(m){g(this).offset(k.call(this,m,g(this).offset()));});}return this.each(function(){g.offset.setOffset(this,k);});}return c.call(this);};}if(!g.curCSS){g.curCSS=g.css;}(function(){var k=document.getElementsByTagName("body")[0],t=document.createElement("div"),o,r,l,q,n;o=document.createElement(k?"div":"body");l={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(k){g.extend(l,{position:"absolute",left:"-1000px",top:"-1000px"});}for(var m in l){o.style[m]=l[m];}o.appendChild(t);r=k||document.documentElement;r.insertBefore(o,r.firstChild);t.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;";q=g(t).offset(function(u,v){return v;}).offset();o.innerHTML="";r.removeChild(o);n=q.top+q.left+(k?2000:0);f.fractions=n>21&&n<22;})();}(jQuery));
/*!
 * jQuery UI Draggable 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Draggables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function(a,b){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative";}(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit();},destroy:function(){if(!this.element.data("draggable")){return;}this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this;},_mouseCapture:function(c){var d=this.options;if(this.helper||d.disabled||a(c.target).is(".ui-resizable-handle")){return false;}this.handle=this._getHandle(c);if(!this.handle){return false;}if(d.iframeFix){a(d.iframeFix===true?"iframe":d.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body");});}return true;},_mouseStart:function(c){var d=this.options;this.helper=this._createHelper(c);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this;}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;(d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt));if(d.containment){this._setContainment();}if(this._trigger("start",c)===false){this._clear();return false;}this._cacheHelperProportions();if(a.ui.ddmanager&&!d.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,c);}this._mouseDrag(c,true);if(a.ui.ddmanager){a.ui.ddmanager.dragStart(this,c);}return true;},_mouseDrag:function(c,e){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!e){var d=this._uiHash();if(this._trigger("drag",c,d)===false){this._mouseUp({});return false;}this.position=d.position;}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px";}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px";}if(a.ui.ddmanager){a.ui.ddmanager.drag(this,c);}return false;},_mouseStop:function(e){var g=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){g=a.ui.ddmanager.drop(this,e);}if(this.dropped){g=this.dropped;this.dropped=false;}var d=this.element[0],f=false;while(d&&(d=d.parentNode)){if(d==document){f=true;}}if(!f&&this.options.helper==="original"){return false;}if((this.options.revert=="invalid"&&!g)||(this.options.revert=="valid"&&g)||this.options.revert===true||(a.isFunction(this.options.revert)&&this.options.revert.call(this.element,g))){var c=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(c._trigger("stop",e)!==false){c._clear();}});}else{if(this._trigger("stop",e)!==false){this._clear();}}return false;},_mouseUp:function(c){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this);});if(a.ui.ddmanager){a.ui.ddmanager.dragStop(this,c);}return a.ui.mouse.prototype._mouseUp.call(this,c);},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({});}else{this._clear();}return this;},_getHandle:function(c){var d=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==c.target){d=true;}});return d;},_createHelper:function(d){var e=this.options;var c=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[d])):(e.helper=="clone"?this.element.clone().removeAttr("id"):this.element);if(!c.parents("body").length){c.appendTo((e.appendTo=="parent"?this.element[0].parentNode:e.appendTo));}if(c[0]!=this.element[0]&&!(/(fixed|absolute)/).test(c.css("position"))){c.css("position","absolute");}return c;},_adjustOffsetFromHelper:function(c){if(typeof c=="string"){c=c.split(" ");}if(a.isArray(c)){c={left:+c[0],top:+c[1]||0};}if("left" in c){this.offset.click.left=c.left+this.margins.left;}if("right" in c){this.offset.click.left=this.helperProportions.width-c.right+this.margins.left;}if("top" in c){this.offset.click.top=c.top+this.margins.top;}if("bottom" in c){this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top;}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop();}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)){c={top:0,left:0};}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.element.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}else{return{top:0,left:0};}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var g=this.options;if(g.containment=="parent"){g.containment=this.helper[0].parentNode;}if(g.containment=="document"||g.containment=="window"){this.containment=[g.containment=="document"?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,g.containment=="document"?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(g.containment=="document"?0:a(window).scrollLeft())+a(g.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(g.containment=="document"?0:a(window).scrollTop())+(a(g.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];}if(!(/^(document|window|parent)$/).test(g.containment)&&g.containment.constructor!=Array){var h=a(g.containment);var e=h[0];if(!e){return;}var f=h.offset();var d=(a(e).css("overflow")!="hidden");this.containment=[(parseInt(a(e).css("borderLeftWidth"),10)||0)+(parseInt(a(e).css("paddingLeft"),10)||0),(parseInt(a(e).css("borderTopWidth"),10)||0)+(parseInt(a(e).css("paddingTop"),10)||0),(d?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(a(e).css("borderLeftWidth"),10)||0)-(parseInt(a(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(a(e).css("borderTopWidth"),10)||0)-(parseInt(a(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=h;}else{if(g.containment.constructor==Array){this.containment=g.containment;}}},_convertPositionTo:function(g,k){if(!k){k=this.position;}var e=g=="absolute"?1:-1;var f=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=(/(html|body)/i).test(c[0].tagName);return{top:(k.top+this.offset.relative.top*e+this.offset.parent.top*e-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(h?0:c.scrollTop()))*e)),left:(k.left+this.offset.relative.left*e+this.offset.parent.left*e-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:c.scrollLeft())*e))};},_generatePosition:function(d){var e=this.options,n=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,k=(/(html|body)/i).test(n[0].tagName);var h=d.pageX;var g=d.pageY;if(this.originalPosition){var c;if(this.containment){if(this.relative_container){var m=this.relative_container.offset();c=[this.containment[0]+m.left,this.containment[1]+m.top,this.containment[2]+m.left,this.containment[3]+m.top];}else{c=this.containment;}if(d.pageX-this.offset.click.left<c[0]){h=c[0]+this.offset.click.left;}if(d.pageY-this.offset.click.top<c[1]){g=c[1]+this.offset.click.top;}if(d.pageX-this.offset.click.left>c[2]){h=c[2]+this.offset.click.left;}if(d.pageY-this.offset.click.top>c[3]){g=c[3]+this.offset.click.top;}}if(e.grid){var l=e.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1]:this.originalPageY;g=c?(!(l-this.offset.click.top<c[1]||l-this.offset.click.top>c[3])?l:(!(l-this.offset.click.top<c[1])?l-e.grid[1]:l+e.grid[1])):l;var f=e.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/e.grid[0])*e.grid[0]:this.originalPageX;h=c?(!(f-this.offset.click.left<c[0]||f-this.offset.click.left>c[2])?f:(!(f-this.offset.click.left<c[0])?f-e.grid[0]:f+e.grid[0])):f;}}return{top:(g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(k?0:n.scrollTop())))),left:(h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():k?0:n.scrollLeft())))};},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval){this.helper.remove();}this.helper=null;this.cancelHelperRemoval=false;},_trigger:function(c,d,e){e=e||this._uiHash();a.ui.plugin.call(this,c,[d,e]);if(c=="drag"){this.positionAbs=this._convertPositionTo("absolute");}return a.Widget.prototype._trigger.call(this,c,d,e);},plugins:{},_uiHash:function(c){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs};}});a.extend(a.ui.draggable,{version:"1.8.24"});a.ui.plugin.add("draggable","connectToSortable",{start:function(d,f){var e=a(this).data("draggable"),g=e.options,c=a.extend({},f,{item:e.element});e.sortables=[];a(g.connectToSortable).each(function(){var h=a.data(this,"sortable");if(h&&!h.options.disabled){e.sortables.push({instance:h,shouldRevert:h.options.revert});h.refreshPositions();h._trigger("activate",d,c);}});},stop:function(d,f){var e=a(this).data("draggable"),c=a.extend({},f,{item:e.element});a.each(e.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;e.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true;}this.instance._mouseStop(d);this.instance.options.helper=this.instance.options._helper;if(e.options.helper=="original"){this.instance.currentItem.css({top:"auto",left:"auto"});}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",d,c);}});},drag:function(d,g){var f=a(this).data("draggable"),c=this;var e=function(l){var t=this.offset.click.top,r=this.offset.click.left;var h=this.positionAbs.top,n=this.positionAbs.left;var m=l.height,q=l.width;var u=l.top,k=l.left;return a.ui.isOver(h+t,n+r,u,k,m,q);};a.each(f.sortables,function(h){this.instance.positionAbs=f.positionAbs;this.instance.helperProportions=f.helperProportions;this.instance.offset.click=f.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(c).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return g.helper[0];};d.target=this.instance.currentItem[0];this.instance._mouseCapture(d,true);this.instance._mouseStart(d,true,true);this.instance.offset.click.top=f.offset.click.top;this.instance.offset.click.left=f.offset.click.left;this.instance.offset.parent.left-=f.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=f.offset.parent.top-this.instance.offset.parent.top;f._trigger("toSortable",d);f.dropped=this.instance.element;f.currentItem=f.element;this.instance.fromOutside=f;}if(this.instance.currentItem){this.instance._mouseDrag(d);}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",d,this.instance._uiHash(this.instance));this.instance._mouseStop(d,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove();}f._trigger("fromSortable",d);f.dropped=false;}}});}});a.ui.plugin.add("draggable","cursor",{start:function(d,e){var c=a("body"),f=a(this).data("draggable").options;if(c.css("cursor")){f._cursor=c.css("cursor");}c.css("cursor",f.cursor);},stop:function(c,d){var e=a(this).data("draggable").options;if(e._cursor){a("body").css("cursor",e._cursor);}}});a.ui.plugin.add("draggable","opacity",{start:function(d,e){var c=a(e.helper),f=a(this).data("draggable").options;if(c.css("opacity")){f._opacity=c.css("opacity");}c.css("opacity",f.opacity);},stop:function(c,d){var e=a(this).data("draggable").options;if(e._opacity){a(d.helper).css("opacity",e._opacity);}}});a.ui.plugin.add("draggable","scroll",{start:function(d,e){var c=a(this).data("draggable");if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML"){c.overflowOffset=c.scrollParent.offset();}},drag:function(e,f){var d=a(this).data("draggable"),g=d.options,c=false;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!g.axis||g.axis!="x"){if((d.overflowOffset.top+d.scrollParent[0].offsetHeight)-e.pageY<g.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop+g.scrollSpeed;}else{if(e.pageY-d.overflowOffset.top<g.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop-g.scrollSpeed;}}}if(!g.axis||g.axis!="y"){if((d.overflowOffset.left+d.scrollParent[0].offsetWidth)-e.pageX<g.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft+g.scrollSpeed;}else{if(e.pageX-d.overflowOffset.left<g.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft-g.scrollSpeed;}}}}else{if(!g.axis||g.axis!="x"){if(e.pageY-a(document).scrollTop()<g.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed);}else{if(a(window).height()-(e.pageY-a(document).scrollTop())<g.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed);}}}if(!g.axis||g.axis!="y"){if(e.pageX-a(document).scrollLeft()<g.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed);}else{if(a(window).width()-(e.pageX-a(document).scrollLeft())<g.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed);}}}}if(c!==false&&a.ui.ddmanager&&!g.dropBehaviour){a.ui.ddmanager.prepareOffsets(d,e);}}});a.ui.plugin.add("draggable","snap",{start:function(d,e){var c=a(this).data("draggable"),f=c.options;c.snapElements=[];a(f.snap.constructor!=String?(f.snap.items||":data(draggable)"):f.snap).each(function(){var h=a(this);var g=h.offset();if(this!=c.element[0]){c.snapElements.push({item:this,width:h.outerWidth(),height:h.outerHeight(),top:g.top,left:g.left});}});},drag:function(x,u){var g=a(this).data("draggable"),v=g.options;var B=v.snapTolerance;var A=u.offset.left,z=A+g.helperProportions.width,f=u.offset.top,e=f+g.helperProportions.height;for(var y=g.snapElements.length-1;y>=0;y--){var w=g.snapElements[y].left,q=w+g.snapElements[y].width,n=g.snapElements[y].top,D=n+g.snapElements[y].height;if(!((w-B<A&&A<q+B&&n-B<f&&f<D+B)||(w-B<A&&A<q+B&&n-B<e&&e<D+B)||(w-B<z&&z<q+B&&n-B<f&&f<D+B)||(w-B<z&&z<q+B&&n-B<e&&e<D+B))){if(g.snapElements[y].snapping){(g.options.snap.release&&g.options.snap.release.call(g.element,x,a.extend(g._uiHash(),{snapItem:g.snapElements[y].item})));}g.snapElements[y].snapping=false;continue;}if(v.snapMode!="inner"){var c=Math.abs(n-e)<=B;var C=Math.abs(D-f)<=B;var k=Math.abs(w-z)<=B;var m=Math.abs(q-A)<=B;if(c){u.position.top=g._convertPositionTo("relative",{top:n-g.helperProportions.height,left:0}).top-g.margins.top;}if(C){u.position.top=g._convertPositionTo("relative",{top:D,left:0}).top-g.margins.top;}if(k){u.position.left=g._convertPositionTo("relative",{top:0,left:w-g.helperProportions.width}).left-g.margins.left;}if(m){u.position.left=g._convertPositionTo("relative",{top:0,left:q}).left-g.margins.left;}}var h=(c||C||k||m);if(v.snapMode!="outer"){var c=Math.abs(n-f)<=B;var C=Math.abs(D-e)<=B;var k=Math.abs(w-A)<=B;var m=Math.abs(q-z)<=B;if(c){u.position.top=g._convertPositionTo("relative",{top:n,left:0}).top-g.margins.top;}if(C){u.position.top=g._convertPositionTo("relative",{top:D-g.helperProportions.height,left:0}).top-g.margins.top;}if(k){u.position.left=g._convertPositionTo("relative",{top:0,left:w}).left-g.margins.left;}if(m){u.position.left=g._convertPositionTo("relative",{top:0,left:q-g.helperProportions.width}).left-g.margins.left;}}if(!g.snapElements[y].snapping&&(c||C||k||m||h)){(g.options.snap.snap&&g.options.snap.snap.call(g.element,x,a.extend(g._uiHash(),{snapItem:g.snapElements[y].item})));}g.snapElements[y].snapping=(c||C||k||m||h);}}});a.ui.plugin.add("draggable","stack",{start:function(d,e){var g=a(this).data("draggable").options;var f=a.makeArray(a(g.stack)).sort(function(k,h){return(parseInt(a(k).css("zIndex"),10)||0)-(parseInt(a(h).css("zIndex"),10)||0);});if(!f.length){return;}var c=parseInt(f[0].style.zIndex)||0;a(f).each(function(h){this.style.zIndex=c+h;});this[0].style.zIndex=c+f.length;}});a.ui.plugin.add("draggable","zIndex",{start:function(d,e){var c=a(e.helper),f=a(this).data("draggable").options;if(c.css("zIndex")){f._zIndex=c.css("zIndex");}c.css("zIndex",f.zIndex);},stop:function(c,d){var e=a(this).data("draggable").options;if(e._zIndex){a(d.helper).css("zIndex",e._zIndex);}}});})(jQuery);
/*!
 * jQuery UI Resizable 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Resizables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function(c,d){c.widget("ui.resizable",c.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var f=this,l=this.options;this.element.addClass("ui-resizable");c.extend(this,{_aspectRatio:!!(l.aspectRatio),aspectRatio:l.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:l.helper||l.ghost||l.animate?l.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap(c('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize();}this.handles=l.handles||(!c(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all"){this.handles="n,e,s,w,se,sw,ne,nw";}var m=this.handles.split(",");this.handles={};for(var g=0;g<m.length;g++){var k=c.trim(m[g]),e="ui-resizable-"+k;var h=c('<div class="ui-resizable-handle '+e+'"></div>');h.css({zIndex:l.zIndex});if("se"==k){h.addClass("ui-icon ui-icon-gripsmall-diagonal-se");}this.handles[k]=".ui-resizable-"+k;this.element.append(h);}}this._renderAxis=function(t){t=t||this.element;for(var o in this.handles){if(this.handles[o].constructor==String){this.handles[o]=c(this.handles[o],this.element).show();}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var q=c(this.handles[o],this.element),r=0;r=/sw|ne|nw|se|n|s/.test(o)?q.outerHeight():q.outerWidth();var n=["padding",/ne|nw|n/.test(o)?"Top":/se|sw|s/.test(o)?"Bottom":/^e$/.test(o)?"Right":"Left"].join("");t.css(n,r);this._proportionallyResize();}if(!c(this.handles[o]).length){continue;}}};this._renderAxis(this.element);this._handles=c(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!f.resizing){if(this.className){var n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);}f.axis=n&&n[1]?n[1]:"se";}});if(l.autoHide){this._handles.hide();c(this.element).addClass("ui-resizable-autohide").hover(function(){if(l.disabled){return;}c(this).removeClass("ui-resizable-autohide");f._handles.show();},function(){if(l.disabled){return;}if(!f.resizing){c(this).addClass("ui-resizable-autohide");f._handles.hide();}});}this._mouseInit();},destroy:function(){this._mouseDestroy();var e=function(g){c(g).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove();};if(this.elementIsWrapper){e(this.element);var f=this.element;f.after(this.originalElement.css({position:f.css("position"),width:f.outerWidth(),height:f.outerHeight(),top:f.css("top"),left:f.css("left")})).remove();}this.originalElement.css("resize",this.originalResizeStyle);e(this.originalElement);return this;},_mouseCapture:function(f){var g=false;for(var e in this.handles){if(c(this.handles[e])[0]==f.target){g=true;}}return !this.options.disabled&&g;},_mouseStart:function(g){var l=this.options,f=this.element.position(),e=this.element;this.resizing=true;this.documentScroll={top:c(document).scrollTop(),left:c(document).scrollLeft()};if(e.is(".ui-draggable")||(/absolute/).test(e.css("position"))){e.css({position:"absolute",top:f.top,left:f.left});}this._renderProxy();var m=b(this.helper.css("left")),h=b(this.helper.css("top"));if(l.containment){m+=c(l.containment).scrollLeft()||0;h+=c(l.containment).scrollTop()||0;}this.offset=this.helper.offset();this.position={left:m,top:h};this.size=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalSize=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalPosition={left:m,top:h};this.sizeDiff={width:e.outerWidth()-e.width(),height:e.outerHeight()-e.height()};this.originalMousePosition={left:g.pageX,top:g.pageY};this.aspectRatio=(typeof l.aspectRatio=="number")?l.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);var k=c(".ui-resizable-"+this.axis).css("cursor");c("body").css("cursor",k=="auto"?this.axis+"-resize":k);e.addClass("ui-resizable-resizing");this._propagate("start",g);return true;},_mouseDrag:function(e){var h=this.helper,g=this.options,q={},u=this,l=this.originalMousePosition,r=this.axis;var v=(e.pageX-l.left)||0,t=(e.pageY-l.top)||0;var k=this._change[r];if(!k){return false;}var n=k.apply(this,[e,v,t]),m=c.browser.msie&&c.browser.version<7,f=this.sizeDiff;this._updateVirtualBoundaries(e.shiftKey);if(this._aspectRatio||e.shiftKey){n=this._updateRatio(n,e);}n=this._respectSize(n,e);this._propagate("resize",e);h.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize();}this._updateCache(n);this._trigger("resize",e,this.ui());return false;},_mouseStop:function(h){this.resizing=false;var k=this.options,q=this;if(this._helper){var g=this._proportionallyResizeElements,e=g.length&&(/textarea/i).test(g[0].nodeName),f=e&&c.ui.hasScroll(g[0],"left")?0:q.sizeDiff.height,m=e?0:q.sizeDiff.width;var r={width:(q.helper.width()-m),height:(q.helper.height()-f)},l=(parseInt(q.element.css("left"),10)+(q.position.left-q.originalPosition.left))||null,n=(parseInt(q.element.css("top"),10)+(q.position.top-q.originalPosition.top))||null;if(!k.animate){this.element.css(c.extend(r,{top:n,left:l}));}q.helper.height(q.size.height);q.helper.width(q.size.width);if(this._helper&&!k.animate){this._proportionallyResize();}}c("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",h);if(this._helper){this.helper.remove();}return false;},_updateVirtualBoundaries:function(g){var l=this.options,k,h,f,m,e;e={minWidth:a(l.minWidth)?l.minWidth:0,maxWidth:a(l.maxWidth)?l.maxWidth:Infinity,minHeight:a(l.minHeight)?l.minHeight:0,maxHeight:a(l.maxHeight)?l.maxHeight:Infinity};if(this._aspectRatio||g){k=e.minHeight*this.aspectRatio;f=e.minWidth/this.aspectRatio;h=e.maxHeight*this.aspectRatio;m=e.maxWidth/this.aspectRatio;if(k>e.minWidth){e.minWidth=k;}if(f>e.minHeight){e.minHeight=f;}if(h<e.maxWidth){e.maxWidth=h;}if(m<e.maxHeight){e.maxHeight=m;}}this._vBoundaries=e;},_updateCache:function(e){var f=this.options;this.offset=this.helper.offset();if(a(e.left)){this.position.left=e.left;}if(a(e.top)){this.position.top=e.top;}if(a(e.height)){this.size.height=e.height;}if(a(e.width)){this.size.width=e.width;}},_updateRatio:function(h,g){var k=this.options,l=this.position,f=this.size,e=this.axis;if(a(h.height)){h.width=(h.height*this.aspectRatio);}else{if(a(h.width)){h.height=(h.width/this.aspectRatio);}}if(e=="sw"){h.left=l.left+(f.width-h.width);h.top=null;}if(e=="nw"){h.top=l.top+(f.height-h.height);h.left=l.left+(f.width-h.width);}return h;},_respectSize:function(n,g){var l=this.helper,k=this._vBoundaries,v=this._aspectRatio||g.shiftKey,u=this.axis,x=a(n.width)&&k.maxWidth&&(k.maxWidth<n.width),q=a(n.height)&&k.maxHeight&&(k.maxHeight<n.height),h=a(n.width)&&k.minWidth&&(k.minWidth>n.width),w=a(n.height)&&k.minHeight&&(k.minHeight>n.height);if(h){n.width=k.minWidth;}if(w){n.height=k.minHeight;}if(x){n.width=k.maxWidth;}if(q){n.height=k.maxHeight;}var f=this.originalPosition.left+this.originalSize.width,t=this.position.top+this.size.height;var m=/sw|nw|w/.test(u),e=/nw|ne|n/.test(u);if(h&&m){n.left=f-k.minWidth;}if(x&&m){n.left=f-k.maxWidth;}if(w&&e){n.top=t-k.minHeight;}if(q&&e){n.top=t-k.maxHeight;}var r=!n.width&&!n.height;if(r&&!n.left&&n.top){n.top=null;}else{if(r&&!n.top&&n.left){n.left=null;}}return n;},_proportionallyResize:function(){var l=this.options;if(!this._proportionallyResizeElements.length){return;}var g=this.helper||this.element;for(var f=0;f<this._proportionallyResizeElements.length;f++){var h=this._proportionallyResizeElements[f];if(!this.borderDif){var e=[h.css("borderTopWidth"),h.css("borderRightWidth"),h.css("borderBottomWidth"),h.css("borderLeftWidth")],k=[h.css("paddingTop"),h.css("paddingRight"),h.css("paddingBottom"),h.css("paddingLeft")];this.borderDif=c.map(e,function(m,o){var n=parseInt(m,10)||0,q=parseInt(k[o],10)||0;return n+q;});}if(c.browser.msie&&!(!(c(g).is(":hidden")||c(g).parents(":hidden").length))){continue;}h.css({height:(g.height()-this.borderDif[0]-this.borderDif[2])||0,width:(g.width()-this.borderDif[1]-this.borderDif[3])||0});}},_renderProxy:function(){var f=this.element,k=this.options;this.elementOffset=f.offset();if(this._helper){this.helper=this.helper||c('<div style="overflow:hidden;"></div>');var e=c.browser.msie&&c.browser.version<7,g=(e?1:0),h=(e?2:-1);this.helper.addClass(this._helper).css({width:this.element.outerWidth()+h,height:this.element.outerHeight()+h,position:"absolute",left:this.elementOffset.left-g+"px",top:this.elementOffset.top-g+"px",zIndex:++k.zIndex});this.helper.appendTo("body").disableSelection();}else{this.helper=this.element;}},_change:{e:function(g,f,e){return{width:this.originalSize.width+f};},w:function(h,f,e){var l=this.options,g=this.originalSize,k=this.originalPosition;return{left:k.left+f,width:g.width-f};},n:function(h,f,e){var l=this.options,g=this.originalSize,k=this.originalPosition;return{top:k.top+e,height:g.height-e};},s:function(g,f,e){return{height:this.originalSize.height+e};},se:function(g,f,e){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[g,f,e]));},sw:function(g,f,e){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[g,f,e]));},ne:function(g,f,e){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[g,f,e]));},nw:function(g,f,e){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[g,f,e]));}},_propagate:function(f,e){c.ui.plugin.call(this,f,[e,this.ui()]);(f!="resize"&&this._trigger(f,e,this.ui()));},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition};}});c.extend(c.ui.resizable,{version:"1.8.24"});c.ui.plugin.add("resizable","alsoResize",{start:function(f,g){var e=c(this).data("resizable"),k=e.options;var h=function(l){c(l).each(function(){var m=c(this);m.data("resizable-alsoresize",{width:parseInt(m.width(),10),height:parseInt(m.height(),10),left:parseInt(m.css("left"),10),top:parseInt(m.css("top"),10)});});};if(typeof(k.alsoResize)=="object"&&!k.alsoResize.parentNode){if(k.alsoResize.length){k.alsoResize=k.alsoResize[0];h(k.alsoResize);}else{c.each(k.alsoResize,function(l){h(l);});}}else{h(k.alsoResize);}},resize:function(g,k){var f=c(this).data("resizable"),l=f.options,h=f.originalSize,n=f.originalPosition;var m={height:(f.size.height-h.height)||0,width:(f.size.width-h.width)||0,top:(f.position.top-n.top)||0,left:(f.position.left-n.left)||0},e=function(o,q){c(o).each(function(){var u=c(this),v=c(this).data("resizable-alsoresize"),t={},r=q&&q.length?q:u.parents(k.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(r,function(w,y){var x=(v[y]||0)+(m[y]||0);if(x&&x>=0){t[y]=x||null;}});u.css(t);});};if(typeof(l.alsoResize)=="object"&&!l.alsoResize.nodeType){c.each(l.alsoResize,function(o,q){e(o,q);});}else{e(l.alsoResize);}},stop:function(e,f){c(this).removeData("resizable-alsoresize");}});c.ui.plugin.add("resizable","animate",{stop:function(k,r){var t=c(this).data("resizable"),l=t.options;var h=t._proportionallyResizeElements,e=h.length&&(/textarea/i).test(h[0].nodeName),f=e&&c.ui.hasScroll(h[0],"left")?0:t.sizeDiff.height,n=e?0:t.sizeDiff.width;var g={width:(t.size.width-n),height:(t.size.height-f)},m=(parseInt(t.element.css("left"),10)+(t.position.left-t.originalPosition.left))||null,q=(parseInt(t.element.css("top"),10)+(t.position.top-t.originalPosition.top))||null;t.element.animate(c.extend(g,q&&m?{top:q,left:m}:{}),{duration:l.animateDuration,easing:l.animateEasing,step:function(){var o={width:parseInt(t.element.css("width"),10),height:parseInt(t.element.css("height"),10),top:parseInt(t.element.css("top"),10),left:parseInt(t.element.css("left"),10)};if(h&&h.length){c(h[0]).css({width:o.width,height:o.height});}t._updateCache(o);t._propagate("resize",k);}});}});c.ui.plugin.add("resizable","containment",{start:function(f,u){var w=c(this).data("resizable"),l=w.options,n=w.element;var g=l.containment,m=(g instanceof c)?g.get(0):(/parent/.test(g))?n.parent().get(0):g;if(!m){return;}w.containerElement=c(m);if(/document/.test(g)||g==document){w.containerOffset={left:0,top:0};w.containerPosition={left:0,top:0};w.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight};}else{var r=c(m),k=[];c(["Top","Right","Left","Bottom"]).each(function(x,o){k[x]=b(r.css("padding"+o));});w.containerOffset=r.offset();w.containerPosition=r.position();w.containerSize={height:(r.innerHeight()-k[3]),width:(r.innerWidth()-k[1])};var t=w.containerOffset,e=w.containerSize.height,q=w.containerSize.width,h=(c.ui.hasScroll(m,"left")?m.scrollWidth:q),v=(c.ui.hasScroll(m)?m.scrollHeight:e);w.parentData={element:m,left:t.left,top:t.top,width:h,height:v};}},resize:function(g,u){var x=c(this).data("resizable"),k=x.options,f=x.containerSize,t=x.containerOffset,q=x.size,r=x.position,v=x._aspectRatio||g.shiftKey,e={top:0,left:0},h=x.containerElement;if(h[0]!=document&&(/static/).test(h.css("position"))){e=t;}if(r.left<(x._helper?t.left:0)){x.size.width=x.size.width+(x._helper?(x.position.left-t.left):(x.position.left-e.left));if(v){x.size.height=x.size.width/x.aspectRatio;}x.position.left=k.helper?t.left:0;}if(r.top<(x._helper?t.top:0)){x.size.height=x.size.height+(x._helper?(x.position.top-t.top):x.position.top);if(v){x.size.width=x.size.height*x.aspectRatio;}x.position.top=x._helper?t.top:0;}x.offset.left=x.parentData.left+x.position.left;x.offset.top=x.parentData.top+x.position.top;var n=Math.abs((x._helper?x.offset.left-e.left:(x.offset.left-e.left))+x.sizeDiff.width),w=Math.abs((x._helper?x.offset.top-e.top:(x.offset.top-t.top))+x.sizeDiff.height);var m=x.containerElement.get(0)==x.element.parent().get(0),l=/relative|absolute/.test(x.containerElement.css("position"));if(m&&l){n-=x.parentData.left;}if(n+x.size.width>=x.parentData.width){x.size.width=x.parentData.width-n;if(v){x.size.height=x.size.width/x.aspectRatio;}}if(w+x.size.height>=x.parentData.height){x.size.height=x.parentData.height-w;if(v){x.size.width=x.size.height*x.aspectRatio;}}},stop:function(f,r){var u=c(this).data("resizable"),g=u.options,n=u.position,q=u.containerOffset,e=u.containerPosition,k=u.containerElement;var l=c(u.helper),v=l.offset(),t=l.outerWidth()-u.sizeDiff.width,m=l.outerHeight()-u.sizeDiff.height;if(u._helper&&!g.animate&&(/relative/).test(k.css("position"))){c(this).css({left:v.left-e.left-q.left,width:t,height:m});}if(u._helper&&!g.animate&&(/static/).test(k.css("position"))){c(this).css({left:v.left-e.left-q.left,width:t,height:m});}}});c.ui.plugin.add("resizable","ghost",{start:function(g,h){var e=c(this).data("resizable"),k=e.options,f=e.size;e.ghost=e.originalElement.clone();e.ghost.css({opacity:0.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof k.ghost=="string"?k.ghost:"");e.ghost.appendTo(e.helper);},resize:function(f,g){var e=c(this).data("resizable"),h=e.options;if(e.ghost){e.ghost.css({position:"relative",height:e.size.height,width:e.size.width});}},stop:function(f,g){var e=c(this).data("resizable"),h=e.options;if(e.ghost&&e.helper){e.helper.get(0).removeChild(e.ghost.get(0));}}});c.ui.plugin.add("resizable","grid",{resize:function(e,q){var t=c(this).data("resizable"),h=t.options,m=t.size,k=t.originalSize,l=t.originalPosition,r=t.axis,n=h._aspectRatio||e.shiftKey;h.grid=typeof h.grid=="number"?[h.grid,h.grid]:h.grid;var g=Math.round((m.width-k.width)/(h.grid[0]||1))*(h.grid[0]||1),f=Math.round((m.height-k.height)/(h.grid[1]||1))*(h.grid[1]||1);if(/^(se|s|e)$/.test(r)){t.size.width=k.width+g;t.size.height=k.height+f;}else{if(/^(ne)$/.test(r)){t.size.width=k.width+g;t.size.height=k.height+f;t.position.top=l.top-f;}else{if(/^(sw)$/.test(r)){t.size.width=k.width+g;t.size.height=k.height+f;t.position.left=l.left-g;}else{t.size.width=k.width+g;t.size.height=k.height+f;t.position.top=l.top-f;t.position.left=l.left-g;}}}}});var b=function(e){return parseInt(e,10)||0;};var a=function(e){return !isNaN(parseInt(e,10));};})(jQuery);
/*!
 * jQuery UI Button 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Button
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
(function(f,b){var m,e,a,h,k="ui-button ui-widget ui-state-default ui-corner-all",c="ui-state-hover ui-state-active ",g="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var n=f(this).find(":ui-button");setTimeout(function(){n.button("refresh");},1);},d=function(o){var n=o.name,q=o.form,r=f([]);if(n){if(q){r=f(q).find("[name='"+n+"']");}else{r=f("[name='"+n+"']",o.ownerDocument).filter(function(){return !this.form;});}}return r;};f.widget("ui.button",{options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",l);if(typeof this.options.disabled!=="boolean"){this.options.disabled=!!this.element.propAttr("disabled");}else{this.element.propAttr("disabled",this.options.disabled);}this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var n=this,q=this.options,r=this.type==="checkbox"||this.type==="radio",t="ui-state-hover"+(!r?" ui-state-active":""),o="ui-state-focus";if(q.label===null){q.label=this.buttonElement.html();}this.buttonElement.addClass(k).attr("role","button").bind("mouseenter.button",function(){if(q.disabled){return;}f(this).addClass("ui-state-hover");if(this===m){f(this).addClass("ui-state-active");}}).bind("mouseleave.button",function(){if(q.disabled){return;}f(this).removeClass(t);}).bind("click.button",function(u){if(q.disabled){u.preventDefault();u.stopImmediatePropagation();}});this.element.bind("focus.button",function(){n.buttonElement.addClass(o);}).bind("blur.button",function(){n.buttonElement.removeClass(o);});if(r){this.element.bind("change.button",function(){if(h){return;}n.refresh();});this.buttonElement.bind("mousedown.button",function(u){if(q.disabled){return;}h=false;e=u.pageX;a=u.pageY;}).bind("mouseup.button",function(u){if(q.disabled){return;}if(e!==u.pageX||a!==u.pageY){h=true;}});}if(this.type==="checkbox"){this.buttonElement.bind("click.button",function(){if(q.disabled||h){return false;}f(this).toggleClass("ui-state-active");n.buttonElement.attr("aria-pressed",n.element[0].checked);});}else{if(this.type==="radio"){this.buttonElement.bind("click.button",function(){if(q.disabled||h){return false;}f(this).addClass("ui-state-active");n.buttonElement.attr("aria-pressed","true");var u=n.element[0];d(u).not(u).map(function(){return f(this).button("widget")[0];}).removeClass("ui-state-active").attr("aria-pressed","false");});}else{this.buttonElement.bind("mousedown.button",function(){if(q.disabled){return false;}f(this).addClass("ui-state-active");m=this;f(document).one("mouseup",function(){m=null;});}).bind("mouseup.button",function(){if(q.disabled){return false;}f(this).removeClass("ui-state-active");}).bind("keydown.button",function(u){if(q.disabled){return false;}if(u.keyCode==f.ui.keyCode.SPACE||u.keyCode==f.ui.keyCode.ENTER){f(this).addClass("ui-state-active");}}).bind("keyup.button",function(){f(this).removeClass("ui-state-active");});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(u){if(u.keyCode===f.ui.keyCode.SPACE){f(this).click();}});}}}this._setOption("disabled",q.disabled);this._resetButton();},_determineButtonType:function(){if(this.element.is(":checkbox")){this.type="checkbox";}else{if(this.element.is(":radio")){this.type="radio";}else{if(this.element.is("input")){this.type="input";}else{this.type="button";}}}if(this.type==="checkbox"||this.type==="radio"){var n=this.element.parents().filter(":last"),q="label[for='"+this.element.attr("id")+"']";this.buttonElement=n.find(q);if(!this.buttonElement.length){n=n.length?n.siblings():this.element.siblings();this.buttonElement=n.filter(q);if(!this.buttonElement.length){this.buttonElement=n.find(q);}}this.element.addClass("ui-helper-hidden-accessible");var o=this.element.is(":checked");if(o){this.buttonElement.addClass("ui-state-active");}this.buttonElement.attr("aria-pressed",o);}else{this.buttonElement=this.element;}},widget:function(){return this.buttonElement;},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(k+" "+c+" "+g).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title");}f.Widget.prototype.destroy.call(this);},_setOption:function(n,o){f.Widget.prototype._setOption.apply(this,arguments);if(n==="disabled"){if(o){this.element.propAttr("disabled",true);}else{this.element.propAttr("disabled",false);}return;}this._resetButton();},refresh:function(){var n=this.element.is(":disabled");if(n!==this.options.disabled){this._setOption("disabled",n);}if(this.type==="radio"){d(this.element[0]).each(function(){if(f(this).is(":checked")){f(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true");}else{f(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false");}});}else{if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true");}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false");}}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label);}return;}var t=this.buttonElement.removeClass(g),q=f("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),o=this.options.icons,n=o.primary&&o.secondary,r=[];if(o.primary||o.secondary){if(this.options.text){r.push("ui-button-text-icon"+(n?"s":(o.primary?"-primary":"-secondary")));}if(o.primary){t.prepend("<span class='ui-button-icon-primary ui-icon "+o.primary+"'></span>");}if(o.secondary){t.append("<span class='ui-button-icon-secondary ui-icon "+o.secondary+"'></span>");}if(!this.options.text){r.push(n?"ui-button-icons-only":"ui-button-icon-only");if(!this.hasTitle){t.attr("title",q);}}}else{r.push("ui-button-text-only");}t.addClass(r.join(" "));}});f.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset");},_init:function(){this.refresh();},_setOption:function(n,o){if(n==="disabled"){this.buttons.button("option",n,o);}f.Widget.prototype._setOption.apply(this,arguments);},refresh:function(){var n=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return f(this).button("widget")[0];}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(n?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(n?"ui-corner-left":"ui-corner-right").end().end();},destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return f(this).button("widget")[0];}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");f.Widget.prototype.destroy.call(this);}});}(jQuery));
/*!
 * jQuery UI Autocomplete 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Autocomplete
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */
(function(a,b){var c=0;a.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var d=this,f=this.element[0].ownerDocument,e;this.isMultiLine=this.element.is("textarea");this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(g){if(d.options.disabled||d.element.propAttr("readOnly")){return;}e=false;var h=a.ui.keyCode;switch(g.keyCode){case h.PAGE_UP:d._move("previousPage",g);break;case h.PAGE_DOWN:d._move("nextPage",g);break;case h.UP:d._keyEvent("previous",g);break;case h.DOWN:d._keyEvent("next",g);break;case h.ENTER:case h.NUMPAD_ENTER:if(d.menu.active){e=true;g.preventDefault();}case h.TAB:if(!d.menu.active){return;}d.menu.select(g);break;case h.ESCAPE:d.element.val(d.term);d.close(g);break;default:clearTimeout(d.searching);d.searching=setTimeout(function(){if(d.term!=d.element.val()){d.selectedItem=null;d.search(null,g);}},d.options.delay);break;}}).bind("keypress.autocomplete",function(g){if(e){e=false;g.preventDefault();}}).bind("focus.autocomplete",function(){if(d.options.disabled){return;}d.selectedItem=null;d.previous=d.element.val();}).bind("blur.autocomplete",function(g){if(d.options.disabled){return;}clearTimeout(d.searching);d.closing=setTimeout(function(){d.close(g);d._change(g);},150);});this._initSource();this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",f)[0]).mousedown(function(g){var h=d.menu.element[0];if(!a(g.target).closest(".ui-menu-item").length){setTimeout(function(){a(document).one("mousedown",function(k){if(k.target!==d.element[0]&&k.target!==h&&!a.ui.contains(h,k.target)){d.close();}});},1);}setTimeout(function(){clearTimeout(d.closing);},13);}).menu({focus:function(h,k){var g=k.item.data("item.autocomplete");if(false!==d._trigger("focus",h,{item:g})){if(/^key/.test(h.originalEvent.type)){d.element.val(g.value);}}},selected:function(k,l){var h=l.item.data("item.autocomplete"),g=d.previous;if(d.element[0]!==f.activeElement){d.element.focus();d.previous=g;setTimeout(function(){d.previous=g;d.selectedItem=h;},1);}if(false!==d._trigger("select",k,{item:h})){d.element.val(h.value);}d.term=d.element.val();d.close(k);d.selectedItem=h;},blur:function(g,h){if(d.menu.element.is(":visible")&&(d.element.val()!==d.term)){d.element.val(d.term);}}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");if(a.fn.bgiframe){this.menu.element.bgiframe();}d.beforeunloadHandler=function(){d.element.removeAttr("autocomplete");};a(window).bind("beforeunload",d.beforeunloadHandler);},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();a(window).unbind("beforeunload",this.beforeunloadHandler);a.Widget.prototype.destroy.call(this);},_setOption:function(d,e){a.Widget.prototype._setOption.apply(this,arguments);if(d==="source"){this._initSource();}if(d==="appendTo"){this.menu.element.appendTo(a(e||"body",this.element[0].ownerDocument)[0]);}if(d==="disabled"&&e&&this.xhr){this.xhr.abort();}},_initSource:function(){var d=this,f,e;if(a.isArray(this.options.source)){f=this.options.source;this.source=function(h,g){g(a.ui.autocomplete.filter(f,h.term));};}else{if(typeof this.options.source==="string"){e=this.options.source;this.source=function(h,g){if(d.xhr){d.xhr.abort();}d.xhr=a.ajax({url:e,data:h,dataType:"json",success:function(l,k){g(l);},error:function(){g([]);}});};}else{this.source=this.options.source;}}},search:function(e,d){e=e!=null?e:this.element.val();this.term=this.element.val();if(e.length<this.options.minLength){return this.close(d);}clearTimeout(this.closing);if(this._trigger("search",d)===false){return;}return this._search(e);},_search:function(d){this.pending++;this.element.addClass("ui-autocomplete-loading");this.source({term:d},this._response());},_response:function(){var e=this,d=++c;return function(f){if(d===c){e.__response(f);}e.pending--;if(!e.pending){e.element.removeClass("ui-autocomplete-loading");}};},__response:function(d){if(!this.options.disabled&&d&&d.length){d=this._normalize(d);this._suggest(d);this._trigger("open");}else{this.close();}},close:function(d){clearTimeout(this.closing);if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.deactivate();this._trigger("close",d);}},_change:function(d){if(this.previous!==this.element.val()){this._trigger("change",d,{item:this.selectedItem});}},_normalize:function(d){if(d.length&&d[0].label&&d[0].value){return d;}return a.map(d,function(e){if(typeof e==="string"){return{label:e,value:e};}return a.extend({label:e.label||e.value,value:e.value||e.label},e);});},_suggest:function(d){var e=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(e,d);this.menu.deactivate();this.menu.refresh();e.show();this._resizeMenu();e.position(a.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next(new a.Event("mouseover"));}},_resizeMenu:function(){var d=this.menu.element;d.outerWidth(Math.max(d.width("").outerWidth()+1,this.element.outerWidth()));},_renderMenu:function(f,e){var d=this;a.each(e,function(g,h){d._renderItem(f,h);});},_renderItem:function(d,e){return a("<li></li>").data("item.autocomplete",e).append(a("<a></a>").text(e.label)).appendTo(d);},_move:function(e,d){if(!this.menu.element.is(":visible")){this.search(null,d);return;}if(this.menu.first()&&/^previous/.test(e)||this.menu.last()&&/^next/.test(e)){this.element.val(this.term);this.menu.deactivate();return;}this.menu[e](d);},widget:function(){return this.menu.element;},_keyEvent:function(e,d){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(e,d);d.preventDefault();}}});a.extend(a.ui.autocomplete,{escapeRegex:function(d){return d.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");},filter:function(f,d){var e=new RegExp(a.ui.autocomplete.escapeRegex(d),"i");return a.grep(f,function(g){return e.test(g.label||g.value||g);});}});}(jQuery));(function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){if(!a(c.target).closest(".ui-menu-item a").length){return;}c.preventDefault();b.select(c);});this.refresh();},refresh:function(){var c=this;var b=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");b.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(d){c.activate(d,a(this).parent());}).mouseleave(function(){c.deactivate();});},activate:function(e,d){this.deactivate();if(this.hasScroll()){var f=d.offset().top-this.element.offset().top,b=this.element.scrollTop(),c=this.element.height();if(f<0){this.element.scrollTop(b+f);}else{if(f>=c){this.element.scrollTop(b+f-c+d.height());}}}this.active=d.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",e,{item:d});},deactivate:function(){if(!this.active){return;}this.active.children("a").removeClass("ui-state-hover").removeAttr("id");this._trigger("blur");this.active=null;},next:function(b){this.move("next",".ui-menu-item:first",b);},previous:function(b){this.move("prev",".ui-menu-item:last",b);},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length;},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length;},move:function(e,d,c){if(!this.active){this.activate(c,this.element.children(d));return;}var b=this.active[e+"All"](".ui-menu-item").eq(0);if(b.length){this.activate(c,b);}else{this.activate(c,this.element.children(d));}},nextPage:function(d){if(this.hasScroll()){if(!this.active||this.last()){this.activate(d,this.element.children(".ui-menu-item:first"));return;}var e=this.active.offset().top,c=this.element.height(),b=this.element.children(".ui-menu-item").filter(function(){var f=a(this).offset().top-e-c+a(this).height();return f<10&&f>-10;});if(!b.length){b=this.element.children(".ui-menu-item:last");}this.activate(d,b);}else{this.activate(d,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"));}},previousPage:function(d){if(this.hasScroll()){if(!this.active||this.first()){this.activate(d,this.element.children(".ui-menu-item:last"));return;}var e=this.active.offset().top,c=this.element.height(),b=this.element.children(".ui-menu-item").filter(function(){var f=a(this).offset().top-e+c-a(this).height();return f<10&&f>-10;});if(!b.length){b=this.element.children(".ui-menu-item:first");}this.activate(d,b);}else{this.activate(d,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"));}},hasScroll:function(){return this.element.height()<this.element[a.fn.prop?"prop":"attr"]("scrollHeight");},select:function(b){this._trigger("selected",b,{item:this.active});}});}(jQuery));
/*!
 * jQuery UI Dialog 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Dialog
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *  jquery.ui.button.js
 *	jquery.ui.draggable.js
 *	jquery.ui.mouse.js
 *	jquery.ui.position.js
 *	jquery.ui.resizable.js
 */
(function(d,e){var b="ui-dialog ui-widget ui-widget-content ui-corner-all ",a={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},c={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};d.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",collision:"fit",using:function(g){var f=d(this).css(g).offset().top;if(f<0){d(this).css("top",g.top-f);}}},resizable:true,show:null,stack:true,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title");if(typeof this.originalTitle!=="string"){this.originalTitle="";}this.options.title=this.options.title||this.originalTitle;var q=this,r=q.options,n=r.title||"&#160;",g=d.ui.dialog.getTitleId(q.element),o=(q.uiDialog=d("<div></div>")).appendTo(document.body).hide().addClass(b+r.dialogClass).css({zIndex:r.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(t){if(r.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===d.ui.keyCode.ESCAPE){q.close(t);t.preventDefault();}}).attr({role:"dialog","aria-labelledby":g}).mousedown(function(t){q.moveToTop(false,t);}),k=q.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(o),h=(q.uiDialogTitlebar=d("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(o),m=d('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){m.addClass("ui-state-hover");},function(){m.removeClass("ui-state-hover");}).focus(function(){m.addClass("ui-state-focus");}).blur(function(){m.removeClass("ui-state-focus");}).click(function(t){q.close(t);return false;}).appendTo(h),l=(q.uiDialogTitlebarCloseText=d("<span></span>")).addClass("ui-icon ui-icon-closethick").text(r.closeText).appendTo(m),f=d("<span></span>").addClass("ui-dialog-title").attr("id",g).html(n).prependTo(h);if(d.isFunction(r.beforeclose)&&!d.isFunction(r.beforeClose)){r.beforeClose=r.beforeclose;}h.find("*").add(h).disableSelection();if(r.draggable&&d.fn.draggable){q._makeDraggable();}if(r.resizable&&d.fn.resizable){q._makeResizable();}q._createButtons(r.buttons);q._isOpen=false;if(d.fn.bgiframe){o.bgiframe();}},_init:function(){if(this.options.autoOpen){this.open();}},destroy:function(){var f=this;if(f.overlay){f.overlay.destroy();}f.uiDialog.hide();f.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");f.uiDialog.remove();if(f.originalTitle){f.element.attr("title",f.originalTitle);}return f;},widget:function(){return this.uiDialog;},close:function(k){var f=this,h,g;if(false===f._trigger("beforeClose",k)){return;}if(f.overlay){f.overlay.destroy();}f.uiDialog.unbind("keypress.ui-dialog");f._isOpen=false;if(f.options.hide){f.uiDialog.hide(f.options.hide,function(){f._trigger("close",k);});}else{f.uiDialog.hide();f._trigger("close",k);}d.ui.dialog.overlay.resize();if(f.options.modal){h=0;d(".ui-dialog").each(function(){if(this!==f.uiDialog[0]){g=d(this).css("z-index");if(!isNaN(g)){h=Math.max(h,g);}}});d.ui.dialog.maxZ=h;}return f;},isOpen:function(){return this._isOpen;},moveToTop:function(l,k){var f=this,h=f.options,g;if((h.modal&&!l)||(!h.stack&&!h.modal)){return f._trigger("focus",k);}if(h.zIndex>d.ui.dialog.maxZ){d.ui.dialog.maxZ=h.zIndex;}if(f.overlay){d.ui.dialog.maxZ+=1;f.overlay.$el.css("z-index",d.ui.dialog.overlay.maxZ=d.ui.dialog.maxZ);}g={scrollTop:f.element.scrollTop(),scrollLeft:f.element.scrollLeft()};d.ui.dialog.maxZ+=1;f.uiDialog.css("z-index",d.ui.dialog.maxZ);f.element.attr(g);f._trigger("focus",k);return f;},open:function(){if(this._isOpen){return;}var g=this,h=g.options,f=g.uiDialog;g.overlay=h.modal?new d.ui.dialog.overlay(g):null;g._size();g._position(h.position);f.show(h.show);g.moveToTop(true);if(h.modal){f.bind("keydown.ui-dialog",function(m){if(m.keyCode!==d.ui.keyCode.TAB){return;}var l=d(":tabbable",this),n=l.filter(":first"),k=l.filter(":last");if(m.target===k[0]&&!m.shiftKey){n.focus(1);return false;}else{if(m.target===n[0]&&m.shiftKey){k.focus(1);return false;}}});}d(g.element.find(":tabbable").get().concat(f.find(".ui-dialog-buttonpane :tabbable").get().concat(f.get()))).eq(0).focus();g._isOpen=true;g._trigger("open");return g;},_createButtons:function(k){var h=this,f=false,g=d("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),l=d("<div></div>").addClass("ui-dialog-buttonset").appendTo(g);h.uiDialog.find(".ui-dialog-buttonpane").remove();if(typeof k==="object"&&k!==null){d.each(k,function(){return !(f=true);});}if(f){d.each(k,function(m,o){o=d.isFunction(o)?{click:o,text:m}:o;var n=d('<button type="button"></button>').click(function(){o.click.apply(h.element[0],arguments);}).appendTo(l);d.each(o,function(q,r){if(q==="click"){return;}if(q in n){n[q](r);}else{n.attr(q,r);}});if(d.fn.button){n.button();}});g.appendTo(h.uiDialog);}},_makeDraggable:function(){var f=this,k=f.options,l=d(document),h;function g(m){return{position:m.position,offset:m.offset};}f.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(m,n){h=k.height==="auto"?"auto":d(this).height();d(this).height(d(this).height()).addClass("ui-dialog-dragging");f._trigger("dragStart",m,g(n));},drag:function(m,n){f._trigger("drag",m,g(n));},stop:function(m,n){k.position=[n.position.left-l.scrollLeft(),n.position.top-l.scrollTop()];d(this).removeClass("ui-dialog-dragging").height(h);f._trigger("dragStop",m,g(n));d.ui.dialog.overlay.resize();}});},_makeResizable:function(m){m=(m===e?this.options.resizable:m);var g=this,l=g.options,f=g.uiDialog.css("position"),k=(typeof m==="string"?m:"n,e,s,w,se,sw,ne,nw");function h(n){return{originalPosition:n.originalPosition,originalSize:n.originalSize,position:n.position,size:n.size};}g.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:g.element,maxWidth:l.maxWidth,maxHeight:l.maxHeight,minWidth:l.minWidth,minHeight:g._minHeight(),handles:k,start:function(n,o){d(this).addClass("ui-dialog-resizing");g._trigger("resizeStart",n,h(o));},resize:function(n,o){g._trigger("resize",n,h(o));},stop:function(n,o){d(this).removeClass("ui-dialog-resizing");l.height=d(this).height();l.width=d(this).width();g._trigger("resizeStop",n,h(o));d.ui.dialog.overlay.resize();}}).css("position",f).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se");},_minHeight:function(){var f=this.options;if(f.height==="auto"){return f.minHeight;}else{return Math.min(f.minHeight,f.height);}},_position:function(g){var h=[],k=[0,0],f;if(g){if(typeof g==="string"||(typeof g==="object"&&"0" in g)){h=g.split?g.split(" "):[g[0],g[1]];if(h.length===1){h[1]=h[0];}d.each(["left","top"],function(m,l){if(+h[m]===h[m]){k[m]=h[m];h[m]=l;}});g={my:h.join(" "),at:h.join(" "),offset:k.join(" ")};}g=d.extend({},d.ui.dialog.prototype.options.position,g);}else{g=d.ui.dialog.prototype.options.position;}f=this.uiDialog.is(":visible");if(!f){this.uiDialog.show();}this.uiDialog.css({top:0,left:0}).position(d.extend({of:window},g));if(!f){this.uiDialog.hide();}},_setOptions:function(k){var g=this,f={},h=false;d.each(k,function(l,m){g._setOption(l,m);if(l in a){h=true;}if(l in c){f[l]=m;}});if(h){this._size();}if(this.uiDialog.is(":data(resizable)")){this.uiDialog.resizable("option",f);}},_setOption:function(k,l){var g=this,f=g.uiDialog;switch(k){case"beforeclose":k="beforeClose";break;case"buttons":g._createButtons(l);break;case"closeText":g.uiDialogTitlebarCloseText.text(""+l);break;case"dialogClass":f.removeClass(g.options.dialogClass).addClass(b+l);break;case"disabled":if(l){f.addClass("ui-dialog-disabled");}else{f.removeClass("ui-dialog-disabled");}break;case"draggable":var h=f.is(":data(draggable)");if(h&&!l){f.draggable("destroy");}if(!h&&l){g._makeDraggable();}break;case"position":g._position(l);break;case"resizable":var m=f.is(":data(resizable)");if(m&&!l){f.resizable("destroy");}if(m&&typeof l==="string"){f.resizable("option","handles",l);}if(!m&&l!==false){g._makeResizable(l);}break;case"title":d(".ui-dialog-title",g.uiDialogTitlebar).html(""+(l||"&#160;"));break;}d.Widget.prototype._setOption.apply(g,arguments);},_size:function(){var l=this.options,g,k,f=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});if(l.minWidth>l.width){l.width=l.minWidth;}g=this.uiDialog.css({height:"auto",width:l.width}).height();k=Math.max(0,l.minHeight-g);if(l.height==="auto"){if(d.support.minHeight){this.element.css({minHeight:k,height:"auto"});}else{this.uiDialog.show();var h=this.element.css("height","auto").height();if(!f){this.uiDialog.hide();}this.element.height(Math.max(h,k));}}else{this.element.height(Math.max(l.height-g,0));}if(this.uiDialog.is(":data(resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight());}}});d.extend(d.ui.dialog,{version:"1.8.24",uuid:0,maxZ:0,getTitleId:function(f){var g=f.attr("id");if(!g){this.uuid+=1;g=this.uuid;}return"ui-dialog-title-"+g;},overlay:function(f){this.$el=d.ui.dialog.overlay.create(f);}});d.extend(d.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:d.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(f){return f+".dialog-overlay";}).join(" "),create:function(g){if(this.instances.length===0){setTimeout(function(){if(d.ui.dialog.overlay.instances.length){d(document).bind(d.ui.dialog.overlay.events,function(h){if(d(h.target).zIndex()<d.ui.dialog.overlay.maxZ){return false;}});}},1);d(document).bind("keydown.dialog-overlay",function(h){if(g.options.closeOnEscape&&!h.isDefaultPrevented()&&h.keyCode&&h.keyCode===d.ui.keyCode.ESCAPE){g.close(h);h.preventDefault();}});d(window).bind("resize.dialog-overlay",d.ui.dialog.overlay.resize);}var f=(this.oldInstances.pop()||d("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});if(d.fn.bgiframe){f.bgiframe();}this.instances.push(f);return f;},destroy:function(f){var g=d.inArray(f,this.instances);if(g!=-1){this.oldInstances.push(this.instances.splice(g,1)[0]);}if(this.instances.length===0){d([document,window]).unbind(".dialog-overlay");}f.remove();var h=0;d.each(this.instances,function(){h=Math.max(h,this.css("z-index"));});this.maxZ=h;},height:function(){var g,f;if(d.browser.msie&&d.browser.version<7){g=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);f=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);if(g<f){return d(window).height()+"px";}else{return g+"px";}}else{return d(document).height()+"px";}},width:function(){var f,g;if(d.browser.msie){f=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);g=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(f<g){return d(window).width()+"px";}else{return f+"px";}}else{return d(document).width()+"px";}},resize:function(){var f=d([]);d.each(d.ui.dialog.overlay.instances,function(){f=f.add(this);});f.css({width:0,height:0}).css({width:d.ui.dialog.overlay.width(),height:d.ui.dialog.overlay.height()});}});d.extend(d.ui.dialog.overlay.prototype,{destroy:function(){d.ui.dialog.overlay.destroy(this.$el);}});}(jQuery));
/*!
 * jQuery UI Tabs 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Tabs
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
(function(d,f){var c=0,b=0;function e(){return ++c;}function a(){return ++b;}d.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:false,cookie:null,collapsible:false,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(true);},_setOption:function(g,h){if(g=="selected"){if(this.options.collapsible&&h==this.options.selected){return;}this.select(h);}else{this.options[g]=h;this._tabify();}},_tabId:function(g){return g.title&&g.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+e();},_sanitizeSelector:function(g){return g.replace(/:/g,"\\:");},_cookie:function(){var g=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+a());return d.cookie.apply(null,[g].concat(d.makeArray(arguments)));},_ui:function(h,g){return{tab:h,panel:g,index:this.anchors.index(h)};},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var g=d(this);g.html(g.data("label.tabs")).removeData("label.tabs");});},_tabify:function(w){var x=this,k=this.options,h=/^#.+/;this.list=this.element.find("ol,ul").eq(0);this.lis=d(" > li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return d("a",this)[0];});this.panels=d([]);this.anchors.each(function(z,o){var y=d(o).attr("href");var A=y.split("#")[0],B;if(A&&(A===location.toString().split("#")[0]||(B=d("base")[0])&&A===B.href)){y=o.hash;o.href=y;}if(h.test(y)){x.panels=x.panels.add(x.element.find(x._sanitizeSelector(y)));}else{if(y&&y!=="#"){d.data(o,"href.tabs",y);d.data(o,"load.tabs",y.replace(/#.*$/,""));var D=x._tabId(o);o.href="#"+D;var C=x.element.find("#"+D);if(!C.length){C=d(k.panelTemplate).attr("id",D).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(x.panels[z-1]||x.list);C.data("destroy.tabs",true);}x.panels=x.panels.add(C);}else{k.disabled.push(z);}}});if(w){this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all");this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.lis.addClass("ui-state-default ui-corner-top");this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom");if(k.selected===f){if(location.hash){this.anchors.each(function(y,o){if(o.hash==location.hash){k.selected=y;return false;}});}if(typeof k.selected!=="number"&&k.cookie){k.selected=parseInt(x._cookie(),10);}if(typeof k.selected!=="number"&&this.lis.filter(".ui-tabs-selected").length){k.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));}k.selected=k.selected||(this.lis.length?0:-1);}else{if(k.selected===null){k.selected=-1;}}k.selected=((k.selected>=0&&this.anchors[k.selected])||k.selected<0)?k.selected:0;k.disabled=d.unique(k.disabled.concat(d.map(this.lis.filter(".ui-state-disabled"),function(y,o){return x.lis.index(y);}))).sort();if(d.inArray(k.selected,k.disabled)!=-1){k.disabled.splice(d.inArray(k.selected,k.disabled),1);}this.panels.addClass("ui-tabs-hide");this.lis.removeClass("ui-tabs-selected ui-state-active");if(k.selected>=0&&this.anchors.length){x.element.find(x._sanitizeSelector(x.anchors[k.selected].hash)).removeClass("ui-tabs-hide");this.lis.eq(k.selected).addClass("ui-tabs-selected ui-state-active");x.element.queue("tabs",function(){x._trigger("show",null,x._ui(x.anchors[k.selected],x.element.find(x._sanitizeSelector(x.anchors[k.selected].hash))[0]));});this.load(k.selected);}d(window).bind("unload",function(){x.lis.add(x.anchors).unbind(".tabs");x.lis=x.anchors=x.panels=null;});}else{k.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));}this.element[k.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");if(k.cookie){this._cookie(k.selected,k.cookie);}for(var n=0,v;(v=this.lis[n]);n++){d(v)[d.inArray(n,k.disabled)!=-1&&!d(v).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");}if(k.cache===false){this.anchors.removeData("cache.tabs");}this.lis.add(this.anchors).unbind(".tabs");if(k.event!=="mouseover"){var m=function(y,o){if(o.is(":not(.ui-state-disabled)")){o.addClass("ui-state-"+y);}};var r=function(y,o){o.removeClass("ui-state-"+y);};this.lis.bind("mouseover.tabs",function(){m("hover",d(this));});this.lis.bind("mouseout.tabs",function(){r("hover",d(this));});this.anchors.bind("focus.tabs",function(){m("focus",d(this).closest("li"));});this.anchors.bind("blur.tabs",function(){r("focus",d(this).closest("li"));});}var g,q;if(k.fx){if(d.isArray(k.fx)){g=k.fx[0];q=k.fx[1];}else{g=q=k.fx;}}function l(o,y){o.css("display","");if(!d.support.opacity&&y.opacity){o[0].style.removeAttribute("filter");}}var t=q?function(o,y){d(o).closest("li").addClass("ui-tabs-selected ui-state-active");y.hide().removeClass("ui-tabs-hide").animate(q,q.duration||"normal",function(){l(y,q);x._trigger("show",null,x._ui(o,y[0]));});}:function(o,y){d(o).closest("li").addClass("ui-tabs-selected ui-state-active");y.removeClass("ui-tabs-hide");x._trigger("show",null,x._ui(o,y[0]));};var u=g?function(y,o){o.animate(g,g.duration||"normal",function(){x.lis.removeClass("ui-tabs-selected ui-state-active");o.addClass("ui-tabs-hide");l(o,g);x.element.dequeue("tabs");});}:function(y,o,z){x.lis.removeClass("ui-tabs-selected ui-state-active");o.addClass("ui-tabs-hide");x.element.dequeue("tabs");};this.anchors.bind(k.event+".tabs",function(){var y=this,A=d(y).closest("li"),o=x.panels.filter(":not(.ui-tabs-hide)"),z=x.element.find(x._sanitizeSelector(y.hash));if((A.hasClass("ui-tabs-selected")&&!k.collapsible)||A.hasClass("ui-state-disabled")||A.hasClass("ui-state-processing")||x.panels.filter(":animated").length||x._trigger("select",null,x._ui(this,z[0]))===false){this.blur();return false;}k.selected=x.anchors.index(this);x.abort();if(k.collapsible){if(A.hasClass("ui-tabs-selected")){k.selected=-1;if(k.cookie){x._cookie(k.selected,k.cookie);}x.element.queue("tabs",function(){u(y,o);}).dequeue("tabs");this.blur();return false;}else{if(!o.length){if(k.cookie){x._cookie(k.selected,k.cookie);}x.element.queue("tabs",function(){t(y,z);});x.load(x.anchors.index(this));this.blur();return false;}}}if(k.cookie){x._cookie(k.selected,k.cookie);}if(z.length){if(o.length){x.element.queue("tabs",function(){u(y,o);});}x.element.queue("tabs",function(){t(y,z);});x.load(x.anchors.index(this));}else{throw"jQuery UI Tabs: Mismatching fragment identifier.";}if(d.browser.msie){this.blur();}});this.anchors.bind("click.tabs",function(){return false;});},_getIndex:function(g){if(typeof g=="string"){g=this.anchors.index(this.anchors.filter("[href$='"+g+"']"));}return g;},destroy:function(){var g=this.options;this.abort();this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var h=d.data(this,"href.tabs");if(h){this.href=h;}var k=d(this).unbind(".tabs");d.each(["href","load","cache"],function(l,m){k.removeData(m+".tabs");});});this.lis.unbind(".tabs").add(this.panels).each(function(){if(d.data(this,"destroy.tabs")){d(this).remove();}else{d(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "));}});if(g.cookie){this._cookie(null,g.cookie);}return this;},add:function(l,k,h){if(h===f){h=this.anchors.length;}var g=this,n=this.options,r=d(n.tabTemplate.replace(/#\{href\}/g,l).replace(/#\{label\}/g,k)),q=!l.indexOf("#")?l.replace("#",""):this._tabId(d("a",r)[0]);r.addClass("ui-state-default ui-corner-top").data("destroy.tabs",true);var m=g.element.find("#"+q);if(!m.length){m=d(n.panelTemplate).attr("id",q).data("destroy.tabs",true);}m.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");if(h>=this.lis.length){r.appendTo(this.list);m.appendTo(this.list[0].parentNode);}else{r.insertBefore(this.lis[h]);m.insertBefore(this.panels[h]);}n.disabled=d.map(n.disabled,function(t,o){return t>=h?++t:t;});this._tabify();if(this.anchors.length==1){n.selected=0;r.addClass("ui-tabs-selected ui-state-active");m.removeClass("ui-tabs-hide");this.element.queue("tabs",function(){g._trigger("show",null,g._ui(g.anchors[0],g.panels[0]));});this.load(0);}this._trigger("add",null,this._ui(this.anchors[h],this.panels[h]));return this;},remove:function(g){g=this._getIndex(g);var k=this.options,l=this.lis.eq(g).remove(),h=this.panels.eq(g).remove();if(l.hasClass("ui-tabs-selected")&&this.anchors.length>1){this.select(g+(g+1<this.anchors.length?1:-1));}k.disabled=d.map(d.grep(k.disabled,function(o,m){return o!=g;}),function(o,m){return o>=g?--o:o;});this._tabify();this._trigger("remove",null,this._ui(l.find("a")[0],h[0]));return this;},enable:function(g){g=this._getIndex(g);var h=this.options;if(d.inArray(g,h.disabled)==-1){return;}this.lis.eq(g).removeClass("ui-state-disabled");h.disabled=d.grep(h.disabled,function(l,k){return l!=g;});this._trigger("enable",null,this._ui(this.anchors[g],this.panels[g]));return this;},disable:function(h){h=this._getIndex(h);var g=this,k=this.options;if(h!=k.selected){this.lis.eq(h).addClass("ui-state-disabled");k.disabled.push(h);k.disabled.sort();this._trigger("disable",null,this._ui(this.anchors[h],this.panels[h]));}return this;},select:function(g){g=this._getIndex(g);if(g==-1){if(this.options.collapsible&&this.options.selected!=-1){g=this.options.selected;}else{return this;}}this.anchors.eq(g).trigger(this.options.event+".tabs");return this;},load:function(l){l=this._getIndex(l);var h=this,n=this.options,g=this.anchors.eq(l)[0],k=d.data(g,"load.tabs");this.abort();if(!k||this.element.queue("tabs").length!==0&&d.data(g,"cache.tabs")){this.element.dequeue("tabs");return;}this.lis.eq(l).addClass("ui-state-processing");if(n.spinner){var m=d("span",g);m.data("label.tabs",m.html()).html(n.spinner);}this.xhr=d.ajax(d.extend({},n.ajaxOptions,{url:k,success:function(q,o){h.element.find(h._sanitizeSelector(g.hash)).html(q);h._cleanup();if(n.cache){d.data(g,"cache.tabs",true);}h._trigger("load",null,h._ui(h.anchors[l],h.panels[l]));try{n.ajaxOptions.success(q,o);}catch(t){}},error:function(r,o,q){h._cleanup();h._trigger("load",null,h._ui(h.anchors[l],h.panels[l]));try{n.ajaxOptions.error(r,o,l,g);}catch(q){}}}));h.element.dequeue("tabs");return this;},abort:function(){this.element.queue([]);this.panels.stop(false,true);this.element.queue("tabs",this.element.queue("tabs").splice(-2,2));if(this.xhr){this.xhr.abort();delete this.xhr;}this._cleanup();return this;},url:function(h,g){this.anchors.eq(h).removeData("cache.tabs").data("load.tabs",g);return this;},length:function(){return this.anchors.length;}});d.extend(d.ui.tabs,{version:"1.8.24"});d.extend(d.ui.tabs.prototype,{rotation:null,rotate:function(k,m){var g=this,n=this.options;var h=g._rotate||(g._rotate=function(o){clearTimeout(g.rotation);g.rotation=setTimeout(function(){var q=n.selected;g.select(++q<g.anchors.length?q:0);},k);if(o){o.stopPropagation();}});var l=g._unrotate||(g._unrotate=!m?function(o){if(o.clientX){g.rotate(null);}}:function(o){h();});if(k){this.element.bind("tabsshow",h);this.anchors.bind(n.event+".tabs",l);h();}else{clearTimeout(g.rotation);this.element.unbind("tabsshow",h);this.anchors.unbind(n.event+".tabs",l);delete this._rotate;delete this._unrotate;}return this;}});})(jQuery);
/*!
 * jQuery UI Slider 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Slider
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function(b,c){var a=5;b.widget("ui.slider",b.ui.mouse,{widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null},_create:function(){var e=this,l=this.options,k=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),h="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",d=(l.values&&l.values.length)||1,g=[];this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(l.disabled?" ui-slider-disabled ui-disabled":""));this.range=b([]);if(l.range){if(l.range===true){if(!l.values){l.values=[this._valueMin(),this._valueMin()];}if(l.values.length&&l.values.length!==2){l.values=[l.values[0],l.values[0]];}}this.range=b("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+((l.range==="min"||l.range==="max")?" ui-slider-range-"+l.range:""));}for(var f=k.length;f<d;f+=1){g.push(h);}this.handles=k.add(b(g.join("")).appendTo(e.element));this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(m){m.preventDefault();}).hover(function(){if(!l.disabled){b(this).addClass("ui-state-hover");}},function(){b(this).removeClass("ui-state-hover");}).focus(function(){if(!l.disabled){b(".ui-slider .ui-state-focus").removeClass("ui-state-focus");b(this).addClass("ui-state-focus");}else{b(this).blur();}}).blur(function(){b(this).removeClass("ui-state-focus");});this.handles.each(function(m){b(this).data("index.ui-slider-handle",m);});this.handles.keydown(function(r){var n=b(this).data("index.ui-slider-handle"),t,o,m,q;if(e.options.disabled){return;}switch(r.keyCode){case b.ui.keyCode.HOME:case b.ui.keyCode.END:case b.ui.keyCode.PAGE_UP:case b.ui.keyCode.PAGE_DOWN:case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:r.preventDefault();if(!e._keySliding){e._keySliding=true;b(this).addClass("ui-state-active");t=e._start(r,n);if(t===false){return;}}break;}q=e.options.step;if(e.options.values&&e.options.values.length){o=m=e.values(n);}else{o=m=e.value();}switch(r.keyCode){case b.ui.keyCode.HOME:m=e._valueMin();break;case b.ui.keyCode.END:m=e._valueMax();break;case b.ui.keyCode.PAGE_UP:m=e._trimAlignValue(o+((e._valueMax()-e._valueMin())/a));break;case b.ui.keyCode.PAGE_DOWN:m=e._trimAlignValue(o-((e._valueMax()-e._valueMin())/a));break;case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:if(o===e._valueMax()){return;}m=e._trimAlignValue(o+q);break;case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(o===e._valueMin()){return;}m=e._trimAlignValue(o-q);break;}e._slide(r,n,m);}).keyup(function(n){var m=b(this).data("index.ui-slider-handle");if(e._keySliding){e._keySliding=false;e._stop(n,m);e._change(n,m);b(this).removeClass("ui-state-active");}});this._refreshValue();this._animateOff=false;},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");this._mouseDestroy();return this;},_mouseCapture:function(f){var g=this.options,l,n,e,h,r,m,q,k,d;if(g.disabled){return false;}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();l={x:f.pageX,y:f.pageY};n=this._normValueFromMouse(l);e=this._valueMax()-this._valueMin()+1;r=this;this.handles.each(function(o){var t=Math.abs(n-r.values(o));if(e>t){e=t;h=b(this);m=o;}});if(g.range===true&&this.values(1)===g.min){m+=1;h=b(this.handles[m]);}q=this._start(f,m);if(q===false){return false;}this._mouseSliding=true;r._handleIndex=m;h.addClass("ui-state-active").focus();k=h.offset();d=!b(f.target).parents().andSelf().is(".ui-slider-handle");this._clickOffset=d?{left:0,top:0}:{left:f.pageX-k.left-(h.width()/2),top:f.pageY-k.top-(h.height()/2)-(parseInt(h.css("borderTopWidth"),10)||0)-(parseInt(h.css("borderBottomWidth"),10)||0)+(parseInt(h.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(f,m,n);}this._animateOff=true;return true;},_mouseStart:function(d){return true;},_mouseDrag:function(f){var d={x:f.pageX,y:f.pageY},e=this._normValueFromMouse(d);this._slide(f,this._handleIndex,e);return false;},_mouseStop:function(d){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(d,this._handleIndex);this._change(d,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false;},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal";},_normValueFromMouse:function(e){var d,h,g,f,k;if(this.orientation==="horizontal"){d=this.elementSize.width;h=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0);}else{d=this.elementSize.height;h=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0);}g=(h/d);if(g>1){g=1;}if(g<0){g=0;}if(this.orientation==="vertical"){g=1-g;}f=this._valueMax()-this._valueMin();k=this._valueMin()+g*f;return this._trimAlignValue(k);},_start:function(f,e){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values();}return this._trigger("start",f,d);},_slide:function(h,g,f){var d,e,k;if(this.options.values&&this.options.values.length){d=this.values(g?0:1);if((this.options.values.length===2&&this.options.range===true)&&((g===0&&f>d)||(g===1&&f<d))){f=d;}if(f!==this.values(g)){e=this.values();e[g]=f;k=this._trigger("slide",h,{handle:this.handles[g],value:f,values:e});d=this.values(g?0:1);if(k!==false){this.values(g,f,true);}}}else{if(f!==this.value()){k=this._trigger("slide",h,{handle:this.handles[g],value:f});if(k!==false){this.value(f);}}}},_stop:function(f,e){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values();}this._trigger("stop",f,d);},_change:function(f,e){if(!this._keySliding&&!this._mouseSliding){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values();}this._trigger("change",f,d);}},value:function(d){if(arguments.length){this.options.value=this._trimAlignValue(d);this._refreshValue();this._change(null,0);return;}return this._value();},values:function(e,h){var g,d,f;if(arguments.length>1){this.options.values[e]=this._trimAlignValue(h);this._refreshValue();this._change(null,e);return;}if(arguments.length){if(b.isArray(arguments[0])){g=this.options.values;d=arguments[0];for(f=0;f<g.length;f+=1){g[f]=this._trimAlignValue(d[f]);this._change(null,f);}this._refreshValue();}else{if(this.options.values&&this.options.values.length){return this._values(e);}else{return this.value();}}}else{return this._values();}},_setOption:function(e,f){var d,g=0;if(b.isArray(this.options.values)){g=this.options.values.length;}b.Widget.prototype._setOption.apply(this,arguments);switch(e){case"disabled":if(f){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.propAttr("disabled",true);this.element.addClass("ui-disabled");}else{this.handles.propAttr("disabled",false);this.element.removeClass("ui-disabled");}break;case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(d=0;d<g;d+=1){this._change(null,d);}this._animateOff=false;break;}},_value:function(){var d=this.options.value;d=this._trimAlignValue(d);return d;},_values:function(d){var g,f,e;if(arguments.length){g=this.options.values[d];g=this._trimAlignValue(g);return g;}else{f=this.options.values.slice();for(e=0;e<f.length;e+=1){f[e]=this._trimAlignValue(f[e]);}return f;}},_trimAlignValue:function(g){if(g<=this._valueMin()){return this._valueMin();}if(g>=this._valueMax()){return this._valueMax();}var d=(this.options.step>0)?this.options.step:1,f=(g-this._valueMin())%d,e=g-f;if(Math.abs(f)*2>=d){e+=(f>0)?d:(-d);}return parseFloat(e.toFixed(5));},_valueMin:function(){return this.options.min;},_valueMax:function(){return this.options.max;},_refreshValue:function(){var g=this.options.range,f=this.options,q=this,e=(!this._animateOff)?f.animate:false,h,d={},k,m,l,n;if(this.options.values&&this.options.values.length){this.handles.each(function(r,o){h=(q.values(r)-q._valueMin())/(q._valueMax()-q._valueMin())*100;d[q.orientation==="horizontal"?"left":"bottom"]=h+"%";b(this).stop(1,1)[e?"animate":"css"](d,f.animate);if(q.options.range===true){if(q.orientation==="horizontal"){if(r===0){q.range.stop(1,1)[e?"animate":"css"]({left:h+"%"},f.animate);}if(r===1){q.range[e?"animate":"css"]({width:(h-k)+"%"},{queue:false,duration:f.animate});}}else{if(r===0){q.range.stop(1,1)[e?"animate":"css"]({bottom:(h)+"%"},f.animate);}if(r===1){q.range[e?"animate":"css"]({height:(h-k)+"%"},{queue:false,duration:f.animate});}}}k=h;});}else{m=this.value();l=this._valueMin();n=this._valueMax();h=(n!==l)?(m-l)/(n-l)*100:0;d[q.orientation==="horizontal"?"left":"bottom"]=h+"%";this.handle.stop(1,1)[e?"animate":"css"](d,f.animate);if(g==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[e?"animate":"css"]({width:h+"%"},f.animate);}if(g==="max"&&this.orientation==="horizontal"){this.range[e?"animate":"css"]({width:(100-h)+"%"},{queue:false,duration:f.animate});}if(g==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[e?"animate":"css"]({height:h+"%"},f.animate);}if(g==="max"&&this.orientation==="vertical"){this.range[e?"animate":"css"]({height:(100-h)+"%"},{queue:false,duration:f.animate});}}}});b.extend(b.ui.slider,{version:"1.8.24"});}(jQuery));(function(c){var a=false,b=/xyz/.test(function(){xyz;})?/\b_super\b/:/.*/;c.Class=function(){};c.Class.extend=function(h){var g=this.prototype;a=true;var f=new this();a=false;for(var e in h){if(typeof h[e]=="function"&&typeof g[e]=="function"&&b.test(h[e])){f[e]=(function(k,l){return function(){var n=this._super;this._super=g[k];var m=l.apply(this,arguments);this._super=n;return m;};}(e,h[e]));}else{f[e]=h[e];}}function d(){if(!a&&this.initialize){this.initialize.apply(this,arguments);}}d.prototype=f;d.prototype.constructor=d;d.extend=arguments.callee;return d;};}(jQuery));(function(a){a(window.jQuery,window,document);}(function(c,b,a,d){c.widget("selectBox.selectBoxIt",{VERSION:"2.5.0",options:{showEffect:"none",showEffectOptions:{},showEffectSpeed:"medium",hideEffect:"none",hideEffectOptions:{},hideEffectSpeed:"medium",showFirstOption:true,defaultText:"",defaultIcon:"",downArrowIcon:"",theme:"bootstrap",keydownOpen:true,isMobile:function(){var e=navigator.userAgent||navigator.vendor||b.opera;return(/iPhone|iPod|iPad|Android|BlackBerry|Opera Mini|IEMobile/).test(e);},nostyle:false,"native":false,aggressiveChange:false},_create:function(){var e=this;e.originalElem=e.element[0];e.selectBox=e.element;e.selectItems=e.element.find("option");e.firstSelectItem=e.element.find("option").slice(0,1);e.currentFocus=0;e.blur=true;e.documentHeight=c(a).height();e.textArray=[];e.currentIndex=0;e.flipped=false;e.disabledClasses=(function(){if(e.options.theme==="bootstrap"){return"disabled";}else{if(e.options.theme==="jqueryui"){return"ui-state-disabled";}else{if(e.options.theme==="jquerymobile"){return"ui-disabled";}else{return"selectboxit-disabled";}}}}());e._createDiv()._createUnorderedList()._replaceSelectBox()._eventHandlers();if(e.originalElem.disabled&&e.disable){e.disable();}if(e._ariaAccessibility){e._ariaAccessibility();}if(e.options.theme==="bootstrap"){e._twitterbootstrap();}else{if(this.options.theme==="jqueryui"){e._jqueryui();}else{if(this.options.theme==="jquerymobile"){e._jquerymobile();}else{e._addClasses();}}}e._mobile();if(e.options["native"]){this._applyNativeSelect();}e.selectBox.trigger("create");return e;},_createDiv:function(){var e=this;e.divText=c("<span/>",{id:(e.originalElem.id||"")&&e.originalElem.id+"SelectBoxItText","class":"selectboxit-text",unselectable:"on",text:e.firstSelectItem.text()}).attr("data-val",e.originalElem.value);e.divImage=c("<i/>",{id:(e.originalElem.id||"")&&e.originalElem.id+"SelectBoxItDefaultIcon","class":"selectboxit-default-icon",unselectable:"on"});e.div=c("<span/>",{id:(e.originalElem.id||"")&&e.originalElem.id+"SelectBoxIt","class":"selectboxit "+(e.selectBox.attr("class")||""),style:e.selectBox.attr("style"),name:e.originalElem.name,tabindex:e.selectBox.attr("tabindex")||"0",unselectable:"on"}).append(e.divImage).append(e.divText);e.divContainer=c("<span/>",{id:(e.originalElem.id||"")&&e.originalElem.id+"SelectBoxItContainer","class":"selectboxit-container"}).append(e.div);return e;},_createUnorderedList:function(){var q=this,l,k,g,m,e,f,o,n="",h=c("<ul/>",{id:(q.originalElem.id||"")&&q.originalElem.id+"SelectBoxItOptions","class":"selectboxit-options",tabindex:-1});if(!q.options.showFirstOption){q.selectItems=q.selectBox.find("option").slice(1);}q.selectItems.each(function(r){k="";g="";l=c(this).prop("disabled");m=c(this).data("icon")||"";e=c(this).data("iconurl")||"";f=e?"selectboxit-option-icon-url":"";o=e?"style=\"background-image:url('"+e+"');\"":"";if(c(this).parent().is("optgroup")){k="selectboxit-optgroup-option";if(c(this).index()===0){g='<div class="selectboxit-optgroup-header" data-disabled="true">'+c(this).parent().first().attr("label")+"</div>";}}n+=g+'<li id="'+r+'" data-val="'+q.htmlEscape(this.value)+'" data-disabled="'+l+'" class="'+k+" selectboxit-option"+(c(this).attr("class")||"")+'" style="'+(c(this).attr("style")||"")+'"><a class="selectboxit-option-anchor"><i class="selectboxit-option-icon '+m+" "+f+'"'+o+"></i>"+q.htmlEscape(c(this).text())+"</a></li>";q.textArray[r]=c(this).text();if(this.selected){q.divText.text(c(this).text());q.currentFocus=r;}});if(q.options.defaultText){q.divText.text(q.options.defaultText);}if(q.selectBox.data("text")){q.divText.text(q.selectBox.data("text"));q.options.defaultText=q.selectBox.data("text");}h.append(n);q.list=h;q.divContainer.append(q.list);q.listItems=q.list.find("li");q.listItems.first().addClass("selectboxit-option-first");q.listItems.last().addClass("selectboxit-option-last");q.list.find("li[data-disabled='true']").not(".optgroupHeader").addClass(q.disabledClasses);if(q.currentFocus===0&&!q.options.showFirstOption&&q.listItems.eq(0).hasClass(q.disabledClasses)){q.currentFocus=+q.listItems.not(".ui-state-disabled").first().attr("id");}q.divImage.addClass(q.selectBox.data("icon")||q.options.defaultIcon||q.listItems.eq(q.currentFocus).find("i").attr("class"));q.divImage.attr("style",q.listItems.eq(q.currentFocus).find("i").attr("style"));return q;},_replaceSelectBox:function(){var f=this;f.selectBox.css("display","none").after(f.divContainer);var e=f.div.height();f.downArrow=c("<i/>",{id:(f.originalElem.id||"")&&f.originalElem.id+"SelectBoxItArrow","class":"selectboxit-arrow",unselectable:"on"});f.downArrowContainer=c("<span/>",{id:(f.originalElem.id||"")&&f.originalElem.id+"SelectBoxItArrowContainer","class":"selectboxit-arrow-container",unselectable:"on"}).append(f.downArrow);f.div.append(this.options.nostyle?f.downArrow:f.downArrowContainer);if(!f.options.nostyle){f.downArrowContainer.css({height:e+"px"});f.divText.css({"line-height":f.div.css("height"),"max-width":f.div.outerWidth()-(f.downArrowContainer.outerWidth()+f.divImage.outerWidth())});f.divImage.css({"margin-top":e/4});}return f;},_scrollToView:function(k){var f=this,h=f.list.scrollTop(),e=f.listItems.eq(f.currentFocus).height(),l=f.listItems.eq(f.currentFocus).position().top,g=f.list.height();if(k==="search"){if(g-l<e){f.list.scrollTop(h+(l-(g-e)));}else{if(l<-1){f.list.scrollTop(l-e);}}}else{if(k==="up"){if(l<-1){f.list.scrollTop(h-Math.abs(f.listItems.eq(f.currentFocus).position().top));}}else{if(k==="down"){if(g-l<e){f.list.scrollTop((h+(Math.abs(f.listItems.eq(f.currentFocus).position().top)-g+e)));}}}}return f;},_callbackSupport:function(f){var e=this;if(c.isFunction(f)){f.call(e,e.div);}return e;},open:function(f){var e=this;if(e._dynamicPositioning){e._dynamicPositioning();}if(!this.list.is(":visible")){e.selectBox.trigger("open");switch(e.options.showEffect){case"none":e.list.show();e._scrollToView("search");break;case"show":e.list.show(e.options.showEffectSpeed,function(){e._scrollToView("search");});break;case"slideDown":e.list.slideDown(e.options.showEffectSpeed,function(){e._scrollToView("search");});break;case"fadeIn":e.list.fadeIn(e.options.showEffectSpeed);e._scrollToView("search");break;default:e.list.show(e.options.showEffect,e.options.showEffectOptions,e.options.showEffectSpeed,function(){e._scrollToView("search");});break;}}e._callbackSupport(f);return e;},close:function(f){var e=this;if(e.list.is(":visible")){e.selectBox.trigger("close");switch(e.options.hideEffect){case"none":e.list.hide();e._scrollToView("search");break;case"hide":e.list.hide(e.options.hideEffectSpeed);break;case"slideUp":e.list.slideUp(e.options.hideEffectSpeed);break;case"fadeOut":e.list.fadeOut(e.options.hideEffectSpeed);break;default:e.list.hide(e.options.hideEffect,e.options.hideEffectOptions,e.options.hideEffectSpeed,function(){e._scrollToView("search");});break;}}e._callbackSupport(f);return e;},_eventHandlers:function(){var e=this,f=38,l=40,k=13,g=8,n=9,h=32,m=27;this.div.bind({"click.selectBoxIt":function(){e.div.focus();if(!e.originalElem.disabled){e.selectBox.trigger("click");if(e.list.is(":visible")){e.close();}else{e.open();}}},"mousedown.selectBoxIt":function(){c(this).data("mdown",true);},"blur.selectBoxIt":function(){if(e.blur){e.selectBox.trigger("blur").trigger("focusout");if(e.list.is(":visible")){e.close();}}},"focus.selectBoxIt":function(){var o=c(this).data("mdown");c(this).removeData("mdown");if(!o){setTimeout(function(){e.selectBox.trigger("tab-focus");},0);}if(!e.list.is(":visible")){e.selectBox.trigger("focus").trigger("focusin");}},"keydown.selectBoxIt":function(o){var r=o.keyCode;switch(r){case l:o.preventDefault();if(e.moveDown){if(e.options.keydownOpen){if(e.list.is(":visible")){e.moveDown();}else{e.open();}}else{e.moveDown();}}if(e.options.keydownOpen){e.open();}break;case f:o.preventDefault();if(e.moveUp){if(e.options.keydownOpen){if(e.list.is(":visible")){e.moveUp();}else{e.open();}}else{e.moveUp();}}if(e.options.keydownOpen){e.open();}break;case k:var q=e.list.find("li."+e.focusClass);if(!q.length){q=e.listItems.first();}e._update(q);o.preventDefault();if(e.list.is(":visible")){e.close();}e.selectBox.trigger("enter");break;case n:e.selectBox.trigger("tab-blur");break;case g:o.preventDefault();e.selectBox.trigger("backspace");break;case m:e.close();break;default:break;}},"keypress.selectBoxIt":function(q){var r=q.charCode||q.keyCode,o=String.fromCharCode(r);if(r===h){q.preventDefault();}if(e.search){e.search(o,true,"");}},"mouseenter.selectBoxIt":function(){e.selectBox.trigger("mouseenter");},"mouseleave.selectBoxIt":function(){e.selectBox.trigger("mouseleave");}});e.list.bind({"mouseover.selectBoxIt":function(){e.blur=false;},"mouseout.selectBoxIt":function(){e.blur=true;},"focusin.selectBoxIt":function(){e.div.focus();}}).delegate("li","click.selectBoxIt",function(){e._update(c(this));var o=e.options.showFirstOption?e.currentFocus:((e.currentFocus-1)>=0?e.currentFocus:0);e.selectBox.trigger("option-click",{elem:e.selectBox.eq(o),"dropdown-elem":e.listItems.eq(e.currentFocus)});if(c(this).attr("data-disabled")==="false"){e.close();}}).delegate("li","focus.selectBoxIt",function(){e.listItems.not(c(this)).removeAttr("data-active");c(this).attr("data-active","");if(e.options.aggressiveChange){e._update(c(this));}});e.selectBox.bind({"change.selectBoxIt, internal-change.selectBoxIt":function(r,o){if(!o){var q=e.list.find('li[data-val="'+e.originalElem.value+'"]');if(q.length){e.listItems.eq(e.currentFocus).removeClass(e.focusClass);e.currentFocus=+q.attr("id");}}e.divText.text(e.listItems.eq(e.currentFocus).find("a").text()).attr("data-val",e.originalElem.value);if(e.listItems.eq(e.currentFocus).find("i").attr("class")){e.divImage.attr("class",e.listItems.eq(e.currentFocus).find("i").attr("class")).addClass("selectboxit-default-icon");e.divImage.attr("style",e.listItems.eq(e.currentFocus).find("i").attr("style"));}e.selectBox.trigger("changed");},"disable.selectBoxIt":function(){e.div.addClass(e.disabledClasses);},"enable.selectBoxIt":function(){e.div.removeClass(e.disabledClasses);}});return e;},_update:function(f){var e=this;if(f.attr("data-disabled")==="false"){if((e.options.defaultText&&e.divText.text()===e.options.defaultText)){e.divText.text(e.listItems.eq(e.currentFocus).text()).trigger("internal-change",true);}else{e.selectBox.val(f.attr("data-val"));e.currentFocus=+f.attr("id");if(e.originalElem.value!==e.divText.attr("data-val")){e.selectBox.trigger("change",true);}}}},_addClasses:function(k){var g=this,h=k.focusClasses||"selectboxit-focus",f=k.buttonClasses||"selectboxit-btn",e=k.listClasses||"selectboxit-dropdown";g.focusClass=h;g.downArrow.addClass(g.selectBox.data("downarrow")||g.options.downArrowIcon||k.arrowClasses);g.divContainer.addClass(k.containerClasses);g.div.addClass(f);g.list.addClass(e);g.listItems.bind({"focus.selectBoxIt":function(){c(this).addClass(h);},"blur.selectBoxIt":function(){c(this).removeClass(h);}});g.selectBox.bind({"open.selectBoxIt":function(){var l=g.list.find("li[data-val='"+g.divText.attr("data-val")+"']");if(!l.length){l=g.listItems.first();}g.currentFocus=+l.attr("id");var m=g.listItems.eq(g.currentFocus);g.div.removeClass(h);g.listItems.removeAttr("data-active").not(m).removeClass(h);m.addClass(h);},"blur.selectBoxIt":function(){g.div.removeClass(h);},"mouseenter.selectBoxIt":function(){g.div.addClass(h);},"mouseleave.selectBoxIt":function(){g.div.removeClass(h);}});g.listItems.bind({"mouseenter.selectBoxIt":function(){if(c(this).attr("data-disabled")==="false"){g.listItems.removeAttr("data-active");c(this).addClass(h).attr("data-active","");g.listItems.not(c(this)).removeClass(h);c(this).addClass(h);g.currentFocus=+c(this).attr("id");}},"mouseleave.selectBoxIt":function(){if(c(this).attr("data-disabled")==="false"){g.listItems.not(c(this)).removeClass(h).removeAttr("data-active");}}});c(".selectboxit-option-icon").not(".selectboxit-default-icon").css("margin-top",g.downArrowContainer.height()/4);return g;},_jqueryui:function(){var e=this;e._addClasses({focusClasses:"ui-state-focus",arrowClasses:"ui-icon ui-icon-triangle-1-s",buttonClasses:"ui-widget ui-state-default",listClasses:"ui-widget ui-widget-content",containerClasses:""});return e;},_twitterbootstrap:function(){var e=this;e._addClasses({focusClasses:"active",arrowClasses:"caret",buttonClasses:"btn",listClasses:"dropdown-menu",containerClasses:""});return e;},_jquerymobile:function(){var e=this,f=e.selectBox.attr("data-theme")||"c";e._addClasses({focusClasses:"ui-btn-active-"+f+" ui-btn-down-"+f,arrowClasses:"ui-icon ui-icon-arrow-d ui-icon-shadow",buttonClasses:"ui-btn ui-btn-icon-right ui-btn-corner-all ui-shadow ui-btn-up-"+f,listClasses:"ui-btn ui-btn-icon-right ui-btn-corner-all ui-shadow ui-btn-up-"+f,containerClasses:""});return e;},destroy:function(f){var e=this;e._destroySelectBoxIt();c.Widget.prototype.destroy.call(e);e._callbackSupport(f);return e;},_destroySelectBoxIt:function(){var e=this;e.div.unbind(".selectBoxIt").undelegate(".selectBoxIt");e.divContainer.remove();e.selectBox.trigger("destroy").show();return e;},refresh:function(f){var e=this;e._destroySelectBoxIt()._create()._callbackSupport(f);e.selectBox.trigger("refresh");return e;},_applyNativeSelect:function(){var e=this,f;e.divContainer.css({position:"static"});e.selectBox.css({display:"block",width:e.div.outerWidth(),height:e.div.outerHeight(),opacity:"0",position:"absolute",top:e.div.position().top,bottom:e.div.position().bottom,left:e.div.position().left,right:e.div.position().right,visibility:"visible",cursor:"pointer","z-index":"999999"}).bind({"changed.selectBoxIt":function(){f=e.selectBox.find("option").filter(":selected");e.divText.text(f.text());if(e.list.find('li[data-val="'+f.val()+'"]').find("i").attr("class")){e.divImage.attr("class",e.list.find('li[data-val="'+f.val()+'"]').find("i").attr("class")).addClass("selectboxit-default-icon");}}});},_mobile:function(f){var e=this;if(this.options.isMobile()){e._applyNativeSelect();}return this;},htmlEscape:function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;");}});}));(function(a){a(window.jQuery,window,document);}(function(c,b,a,d){c.selectBox.selectBoxIt.prototype._ariaAccessibility=function(){var e=this;e.div.attr({role:"combobox","aria-autocomplete":"list","aria-expanded":"false","aria-owns":e.list.attr("id"),"aria-activedescendant":e.listItems.eq(e.currentFocus).attr("id"),"aria-label":c("label[for='"+e.originalElem.id+"']").text()||"","aria-live":"assertive"}).bind({"disable.selectBoxIt":function(){e.div.attr("aria-disabled","true");},"enable.selectBoxIt":function(){e.div.attr("aria-disabled","false");}});e.list.attr({role:"listbox","aria-hidden":"true"});e.listItems.attr({role:"option"});e.selectBox.bind({"change.selectBoxIt":function(){e.divText.attr("aria-label",e.originalElem.value);},"open.selectBoxIt":function(){e.list.attr("aria-hidden","false");e.div.attr("aria-expanded","true");},"close.selectBoxIt":function(){e.list.attr("aria-hidden","true");e.div.attr("aria-expanded","false");}});return e;};}));(function(a){a(window.jQuery,window,document);}(function(c,b,a,d){c.selectBox.selectBoxIt.prototype.disable=function(f){var e=this;if(!e.options.disabled){e.close();e.selectBox.trigger("disable").attr("disabled","disabled");e.div.removeAttr("tabindex").addClass("selectboxit-disabled");c.Widget.prototype.disable.call(e);}e._callbackSupport(f);return e;};c.selectBox.selectBoxIt.prototype.disableOption=function(h,m){var g=this,k,f=0,l,e;if(typeof h==="number"){g.close();k=g.selectBox.find("option").eq(h);f=g.options.showFirstOption?h:((h-1)>=0?h:0);g.selectBox.trigger("disable-option",k);k.attr("disabled","disabled");g.listItems.eq(h).attr("data-disabled","true").addClass(g.disabledClasses);if(g.currentFocus===h){l=g.listItems.eq(g.currentFocus).nextAll("li").not("[data-disabled='true']").first().length;e=g.listItems.eq(g.currentFocus).prevAll("li").not("[data-disabled='true']").first().length;if(l){g.moveDown();}else{if(e){g.moveUp();}else{g.disable();}}}}g._callbackSupport(m);return g;};c.selectBox.selectBoxIt.prototype._isDisabled=function(f){var e=this;if(e.originalElem.disabled){e.disable();}return e;};}));(function(a){a(window.jQuery,window,document);}(function(c,b,a,d){c.selectBox.selectBoxIt.prototype._dynamicPositioning=function(){var o=this,h=o.div.offset().top,f=o.list.data("max-height")||o.list.outerHeight(),k=o.div.outerHeight(),e=c(b).height(),m=c(b).scrollTop(),q=(h+k+f<=e+m),l=!q;if(!o.list.data("max-height")){o.list.data("max-height",o.list.outerHeight());}o.selectBox.css("display","none");if(!l){o.list.css("max-height",o.list.data("max-height"));o.list.css("top","auto");}else{if((o.div.offset().top-m)>=f){o.list.css("max-height",o.list.data("max-height"));o.list.css("top",(o.div.position().top-o.list.outerHeight()));}else{var g=Math.abs((h+k+f)-(e+m)),n=Math.abs((o.div.offset().top-m)-f);if(g<n){o.list.css("max-height",o.list.data("max-height")-g-(k/2));o.list.css("top","auto");}else{o.list.css("max-height",o.list.data("max-height")-n-(k/2));o.list.css("top",(o.div.position().top-o.list.outerHeight()));}}}return o;};}));(function(a){a(window.jQuery,window,document);}(function(c,b,a,d){c.selectBox.selectBoxIt.prototype.enable=function(f){var e=this;if(e.options.disabled){e.selectBox.trigger("enable").removeAttr("disabled");e.div.attr("tabindex",0).removeClass(e.disabledClasses);c.Widget.prototype.enable.call(e);e._callbackSupport(f);}return e;};c.selectBox.selectBoxIt.prototype.enableOption=function(h,m){var g=this,k,f=0,l,e;if(typeof h==="number"){k=g.selectBox.find("option").eq(h);f=g.options.showFirstOption?h:((h-1)>=0?h:0);g.selectBox.trigger("enable-option",k);k.removeAttr("disabled");g.listItems.eq(h).attr("data-disabled","false").removeClass(g.disabledClasses);}g._callbackSupport(m);return g;};}));(function(a){a(window.jQuery,window,document);}(function(c,b,a,d){c.selectBox.selectBoxIt.prototype.moveDown=function(k){var f=this;f.currentFocus+=1;var g=f.listItems.eq(f.currentFocus).attr("data-disabled")==="true"?true:false,h=f.listItems.eq(f.currentFocus).nextAll("li").not("[data-disabled='true']").first().length;if(f.currentFocus===f.listItems.length){f.currentFocus-=1;}else{if(g&&h){f.listItems.eq(f.currentFocus-1).blur();f.moveDown();return;}else{if(g&&!h){f.currentFocus-=1;}else{f.listItems.eq(f.currentFocus-1).blur().end().eq(f.currentFocus).focus();f._scrollToView("down");var e=f.options.showFirstOption?f.currentFocus:((f.currentFocus-1)>=0?f.currentFocus:0);f.selectBox.trigger("moveDown",{elem:f.selectBox.eq(e),"dropdown-elem":f.listItems.eq(f.currentFocus)});}}}f._callbackSupport(k);return f;};c.selectBox.selectBoxIt.prototype.moveUp=function(k){var g=this;g.currentFocus-=1;var h=g.listItems.eq(g.currentFocus).attr("data-disabled")==="true"?true:false,e=g.listItems.eq(g.currentFocus).prevAll("li").not("[data-disabled='true']").first().length;if(g.currentFocus===-1){g.currentFocus+=1;}else{if(h&&e){g.listItems.eq(g.currentFocus+1).blur();g.moveUp();return;}else{if(h&&!e){g.currentFocus+=1;}else{g.listItems.eq(this.currentFocus+1).blur().end().eq(g.currentFocus).focus();g._scrollToView("up");var f=g.options.showFirstOption?g.currentFocus:((g.currentFocus-1)>=0?g.currentFocus:0);g.selectBox.trigger("moveUp",{elem:g.selectBox.eq(f),"dropdown-elem":g.listItems.eq(g.currentFocus)});}}}g._callbackSupport(k);return g;};}));(function(a){a(window.jQuery,window,document);}(function(c,b,a,d){c.selectBox.selectBoxIt.prototype._setCurrentSearchOption=function(g){var f=this;if(f.listItems.eq(g).is(":visible")&&f.listItems.eq(g).data("disabled")!==true){f.listItems.eq(f.currentFocus).blur();f.currentIndex=g;f.currentFocus=g;f.listItems.eq(f.currentFocus).focus();f._scrollToView("search");var e=f.options.showFirstOption?f.currentFocus:((f.currentFocus-1)>=0?f.currentFocus:0);f.selectBox.trigger("search",{elem:f.selectBox.eq(e),"dropdown-elem":f.listItems.eq(f.currentFocus)});}return f;};c.selectBox.selectBoxIt.prototype._searchAlgorithm=function(f,k){var g=this,h=false,e,m,l;for(e=f,l=g.textArray.length;e<l;e+=1){for(m=0;m<l;m+=1){if(g.textArray[m].search(k)!==-1){h=true;m=l;}}if(!h){g.currentText=g.currentText.charAt(g.currentText.length-1).replace(/[|()\[{.+*?$\\]/g,"\\$0");k=new RegExp(g.currentText,"gi");}if(g.currentText.length<3){k=new RegExp(g.currentText.charAt(0),"gi");if((g.textArray[e].charAt(0).search(k)!==-1)){g._setCurrentSearchOption(e);g.currentIndex+=1;return false;}}else{if((g.textArray[e].search(k)!==-1)){g._setCurrentSearchOption(e);return false;}}if(g.textArray[e].toLowerCase()===g.currentText.toLowerCase()){g._setCurrentSearchOption(e);g.currentText="";return false;}}return true;};c.selectBox.selectBoxIt.prototype.search=function(f,g,l){var e=this;if(g){e.currentText+=f.replace(/[|()\[{.+*?$\\]/g,"\\$0");}else{e.currentText=f.replace(/[|()\[{.+*?$\\]/g,"\\$0");}var k=new RegExp(e.currentText,"gi"),h=e._searchAlgorithm(e.currentIndex,k);if(h){e._searchAlgorithm(0,k);}e._callbackSupport(l);return e;};}));(function(a){a(window.jQuery,window,document);}(function(c,b,a,d){c.selectBox.selectBoxIt.prototype.selectOption=function(f,g){var e=this;if(typeof f==="number"){e.selectBox.val(e.selectBox.find("option").eq(f).val()).change();}else{if(typeof f==="string"){e.selectBox.val(f).change();}}e._callbackSupport(g);return e;};}));(function(a){a(window.jQuery,window,document);}(function(c,b,a,d){c.selectBox.selectBoxIt.prototype.setOption=function(f,g,h){var e=this;if(f==="showFirstOption"&&!g){e.listItems.eq(0).hide();}else{if(f==="showFirstOption"&&g){e.listItems.eq(0).show();}else{if(f==="defaultIcon"&&g){e.divImage.attr("class",g+" selectboxit-arrow");}else{if(f==="downArrowIcon"&&g){e.downArrow.attr("class",g+" selectboxit-arrow");}else{if(f==="defaultText"){e.divText.text(g);}}}}}c.Widget.prototype._setOption.apply(e,arguments);e._callbackSupport(h);return e;};}));(function(a){a(window.jQuery,window,document);}(function(c,b,a,d){c.selectBox.selectBoxIt.prototype.setOptions=function(f,g){var e=this;c.Widget.prototype._setOptions.apply(e,arguments);if(e.options.showFirstOption){e.listItems.eq(0).show();}else{e.listItems.eq(0).hide();}if(e.options.defaultIcon){e.divImage.attr("class",e.options.defaultIcon+" selectboxit-arrow");}if(e.options.downArrowIcon){e.downArrow.attr("class",e.options.downArrowIcon+" selectboxit-arrow");}if(e.options.defaultText){e.divText.text(e.options.defaultText);}e._callbackSupport(g);return e;};}));(function(a){a(window.jQuery,window,document);}(function(c,b,a,d){c.selectBox.selectBoxIt.prototype.wait=function(g,h){var e=this,f=this.returnTimeout(g);f.then(function(){e._callbackSupport(h);});return e;};c.selectBox.selectBoxIt.prototype.returnTimeout=function(e){return c.Deferred(function(f){setTimeout(f.resolve,e);});};}));(function(c,b,a,e){var d=Array.prototype.slice;c.EndecaSearch=c.Class.extend({initialize:function(g,f){this.options(f);this.proxied={render:c.proxy(this.render,this),source:c.proxy(this.source,this),select:c.proxy(this.select,this)};this.searchTerm="";this.$el=c(g);this.$el.autocomplete({minLength:this.options.minLength,appendTo:this.options.displayParent,position:this.options.displayPosition,source:this.proxied.source,select:this.proxied.select});this.$el.data("autocomplete")._renderItem=this.proxied.render;},select:function(f,g){if(g.item){this.$el.val(g.item.value);if(this.options.submitOnSelection){this.$el.closest("form").submit();}}return false;},render:function(f,g){return c("<li></li>").data("item.autocomplete",g).append("<a>"+this.embolden(this.searchTerm,g.value)+"</a>").appendTo(f);},source:function(h,g){this.searchTerm=h.term;var f=/^\d{13}$/;c.ajax({url:this.options.url,dataType:this.options.responseType,data:{term:!(f).test(c.trim(h.term))?c.trim(h.term).toLowerCase():h.term},success:g});},options:function(g,h){var f;if(typeof g==="string"){f={};f[g]=h;}else{f=g;}this.options=c.extend({},c.fn.endecaSearch.defaults,f);},embolden:function(f,h){var g=c.trim(f).toLowerCase().replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");return c.trim(h.replace(new RegExp("\\b("+g+")","gi"),"<b>$1</b>"));}});c.fn.endecaSearch=function(g){var f=d.call(arguments,1),h;if(typeof g==="string"){h=g;g=null;}return this.each(function(){var k=c.data(this,"endeca-search");if(!k){k=new c.EndecaSearch(this,g);c.data(this,"endeca-search",k);}if(h){k[h].apply(k,f);}});};c.fn.endecaSearch.defaults={url:"/search/lookahead_json.jsp",responseType:"jsonp",minLength:3,submitOnSelection:true,displayParent:"#saksSearch",displayPosition:{me:"left top",at:"left bottom"}};}(jQuery,window,document));(function(d,b,a,f){var e=Array.prototype.slice;var c=function(l,h,k){var g=e.call(arguments,3);return b.setTimeout(function(){l.apply(k,g);},h);};d.SaksSearch=d.Class.extend({initialize:function(h,g){this.option(g);this.$el=d(h);this.inner={};this.inner.drop=this.$el.find(".search-drop");this.inner.search=this.$el.find('[name="SearchString"]');this.inner.categories=this.$el.find('[name="N_Dim"]');this.inner.suggestions=this.inner.drop.find(".search-suggestions");this.inner.search.val("");this.inner.search.placeholder();if(this.inner.search.data("lookahead")){this.enableEndecaLookAhead();}this.createCategoryDropDown();this.inner.drop.hide();this.proxied={onFocusIn:d.proxy(this.onFocusIn,this),onExternalClick:d.proxy(this.onExternalClick,this),onInternalClick:d.proxy(this.onInternalClick,this)};this.$el.on("click",this.proxied.onInternalClick);this.$el.on("focusin",this.proxied.onFocusIn);this.$el.on("focusout",this.proxied.onFocusOut);},enableEndecaLookAhead:function(){this.inner.search.endecaSearch({displayParent:this.inner.suggestions,displayPosition:{me:"left top",at:"left top",of:this.inner.suggestions}}).on("autocompleteopen",function(g,h){d(g.target).closest("form").addClass("suggestion-list-opened");}).on("autocompleteclose",function(g,h){d(g.target).closest("form").removeClass("suggestion-list-opened");});return this;},createCategoryDropDown:function(){var g=this;this.inner.categories.selectBoxIt({showEffect:"fadeIn",showEffectSpeed:250,hideEffect:"none",hideEffectSpeed:250,nostyle:true});this.inner.categories.attr("tabindex",-1);var h=this.inner.categories.data("selectBoxIt");h.setOption("downArrowIcon","ui-icon ui-icon-triangle-1-s");this.inner.categories.on({focus:false,open:function(k){g.$el.addClass("category-list-opened");h.setOption("downArrowIcon","ui-icon ui-icon-triangle-1-n");},close:function(k){g.$el.removeClass("category-list-opened");h.setOption("downArrowIcon","ui-icon ui-icon-triangle-1-s");g.inner.search.focus();}});},onFocusIn:function(g){this.open();},onExternalClick:function(g){if(d.browser.mozilla&&d.contains(this.$el[0],g.target)){return;}this.close();},onInternalClick:function(g){g.stopPropagation();},open:function(){if(this.isOpened){return;}this.isOpened=true;this.$el.addClass("open");this.inner.drop.fadeIn("fast");d(a).on("click",this.proxied.onExternalClick);},close:function(){if(!this.isOpened){return;}this.isOpened=false;this.$el.removeClass("open");this.inner.drop.hide();d(a).off("click",this.proxied.onExternalClick);this.inner.search.blur();},option:function(h,k){var g;if(typeof h==="string"){g={};g[h]=k;}else{g=h;}this.options=d.extend({},this.options,g);}});d.fn.saksSearch=function(g){this.each(function(){var h=d.data(this,"SaksSearch");var l,k;if(typeof g==="string"){l=g;g=null;}if(!h){g=d.extend({},d.fn.saksSearch.defaults,g);h=new d.SaksSearch(this,g);d.data(this,"SaksSearch",h);}if(l&&h[l]){k=Array.prototype.slice(arguments,1);h[l].apply(h,k);}});};d.fn.saksSearch.defaults={};}(jQuery,window,document));(function(d,b,a,f){var e=Array.prototype.slice;var c=function(k,g,h){return b.setTimeout(function(){k.apply(h,e.call(arguments,3));},g);};d.SaksNavigation=d.Class.extend({initialize:function(h,g){this.$el=d(h);this.$el.find(".sub-menu").hide();this.options=g;this.proxied={onMouseEnter:d.proxy(this.onMouseEnter,this),onMouseLeave:d.proxy(this.onMouseLeave,this)};if(d.support.boxModel){this.$el.find(".menu-column").hover(this.proxied.onMouseEnter,this.proxied.onMouseLeave);}},show:function(g){g.stop(true,true);switch(this.options.showEffect){case"fade":g.fadeIn(this.options.showEffectDuration,this.options.showEffectEasing);break;case"slide":g.slideDown(this.options.showEffectDuration,this.options.showEffectEasing);break;default:g.show(this.options.showEffectDuration,this.options.showEffectEasing);break;}},hide:function(g){g.stop(true,true);switch(this.options.showEffect){case"fade":g.fadeOut(this.options.hideEffectDuration,this.options.hideEffectEasing);break;case"slide":g.slideUp(this.options.hideEffectDuration,this.options.hideEffectEasing);break;default:g.hide(this.options.hideEffectDuration,this.options.hideEffectEasing);break;}},onMouseEnter:function(k){var h=d(k.target).closest(".menu-column");var g=c(function(){this.show(h.find(".sub-menu"));},this.options.showEffectDelay,this);h.data("timerId",g);},onMouseLeave:function(h){var g=d(h.target).closest(".menu-column");b.clearTimeout(g.data("timerId"));this.hide(g.find(".sub-menu"));}});d.fn.saksNavigation=function(g){return this.each(function(){var h=d.data(this,"SaksNavigation");var k;if(typeof g==="string"){k=g;g=null;}g=d.extend({},d.fn.saksNavigation.defaults,g);if(!h){h=new d.SaksNavigation(this,g);d.data(this,"SaksNavigation",h);}if(k){h[k].apply(h,e.call(arguments,1));}});};d.fn.saksNavigation.defaults={showEffect:"fade",showEffectDuration:300,showEffectDelay:350,showEffectEasing:"swing",hideEffect:"fade",hideEffectDuration:150,hideEffectEasing:"swing"};}(jQuery,window,document));(function(a){a.fn.serializeObject=function(){var c={};var b=this.serializeArray();a.each(b,function(){if(c[this.name]!==undefined){if(!c[this.name].push){c[this.name]=[c[this.name]];}c[this.name].push(this.value||"");}else{c[this.name]=this.value||"";}});return c;};})(jQuery);(function(){var B=this;var x=B._;var b={};var l=Array.prototype,H=Object.prototype,K=Function.prototype;var z=l.slice,D=l.unshift,C=H.toString,t=H.hasOwnProperty;var q=l.forEach,k=l.map,F=l.reduce,e=l.reduceRight,o=l.filter,a=l.every,E=l.some,A=l.indexOf,f=l.lastIndexOf,c=Array.isArray,G=Object.keys,m=K.bind;var J=function(M){return new g(M);};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=J;}exports._=J;}else{B._=J;}J.VERSION="1.3.1";var d=J.each=J.forEach=function(R,Q,P){if(R==null){return;}if(q&&R.forEach===q){R.forEach(Q,P);}else{if(R.length===+R.length){for(var O=0,M=R.length;O<M;O++){if(O in R&&Q.call(P,R[O],O,R)===b){return;}}}else{for(var N in R){if(J.has(R,N)){if(Q.call(P,R[N],N,R)===b){return;}}}}}};J.map=J.collect=function(P,O,N){var M=[];if(P==null){return M;}if(k&&P.map===k){return P.map(O,N);}d(P,function(S,Q,R){M[M.length]=O.call(N,S,Q,R);});if(P.length===+P.length){M.length=P.length;}return M;};J.reduce=J.foldl=J.inject=function(Q,P,M,O){var N=arguments.length>2;if(Q==null){Q=[];}if(F&&Q.reduce===F){if(O){P=J.bind(P,O);}return N?Q.reduce(P,M):Q.reduce(P);}d(Q,function(T,R,S){if(!N){M=T;N=true;}else{M=P.call(O,M,T,R,S);}});if(!N){throw new TypeError("Reduce of empty array with no initial value");}return M;};J.reduceRight=J.foldr=function(Q,P,M,O){var N=arguments.length>2;if(Q==null){Q=[];}if(e&&Q.reduceRight===e){if(O){P=J.bind(P,O);}return N?Q.reduceRight(P,M):Q.reduceRight(P);}var R=J.toArray(Q).reverse();if(O&&!N){P=J.bind(P,O);}return N?J.reduce(R,P,M,O):J.reduce(R,P);};J.find=J.detect=function(P,O,N){var M;v(P,function(S,Q,R){if(O.call(N,S,Q,R)){M=S;return true;}});return M;};J.filter=J.select=function(P,O,N){var M=[];if(P==null){return M;}if(o&&P.filter===o){return P.filter(O,N);}d(P,function(S,Q,R){if(O.call(N,S,Q,R)){M[M.length]=S;}});return M;};J.reject=function(P,O,N){var M=[];if(P==null){return M;}d(P,function(S,Q,R){if(!O.call(N,S,Q,R)){M[M.length]=S;}});return M;};J.every=J.all=function(P,O,N){var M=true;if(P==null){return M;}if(a&&P.every===a){return P.every(O,N);}d(P,function(S,Q,R){if(!(M=M&&O.call(N,S,Q,R))){return b;}});return M;};var v=J.some=J.any=function(P,O,N){O||(O=J.identity);var M=false;if(P==null){return M;}if(E&&P.some===E){return P.some(O,N);}d(P,function(S,Q,R){if(M||(M=O.call(N,S,Q,R))){return b;}});return !!M;};J.include=J.contains=function(O,N){var M=false;if(O==null){return M;}if(A&&O.indexOf===A){return O.indexOf(N)!=-1;}M=v(O,function(P){return P===N;});return M;};J.invoke=function(N,O){var M=z.call(arguments,2);return J.map(N,function(P){return(J.isFunction(O)?O||P:P[O]).apply(P,M);});};J.pluck=function(N,M){return J.map(N,function(O){return O[M];});};J.max=function(P,O,N){if(!O&&J.isArray(P)){return Math.max.apply(Math,P);}if(!O&&J.isEmpty(P)){return -Infinity;}var M={computed:-Infinity};d(P,function(T,Q,S){var R=O?O.call(N,T,Q,S):T;R>=M.computed&&(M={value:T,computed:R});});return M.value;};J.min=function(P,O,N){if(!O&&J.isArray(P)){return Math.min.apply(Math,P);}if(!O&&J.isEmpty(P)){return Infinity;}var M={computed:Infinity};d(P,function(T,Q,S){var R=O?O.call(N,T,Q,S):T;R<M.computed&&(M={value:T,computed:R});});return M.value;};J.shuffle=function(O){var M=[],N;d(O,function(R,P,Q){if(P==0){M[0]=R;}else{N=Math.floor(Math.random()*(P+1));M[P]=M[N];M[N]=R;}});return M;};J.sortBy=function(O,N,M){return J.pluck(J.map(O,function(R,P,Q){return{value:R,criteria:N.call(M,R,P,Q)};}).sort(function(S,R){var Q=S.criteria,P=R.criteria;return Q<P?-1:Q>P?1:0;}),"value");};J.groupBy=function(O,P){var M={};var N=J.isFunction(P)?P:function(Q){return Q[P];};d(O,function(S,Q){var R=N(S,Q);(M[R]||(M[R]=[])).push(S);});return M;};J.sortedIndex=function(R,Q,O){O||(O=J.identity);var M=0,P=R.length;while(M<P){var N=(M+P)>>1;O(R[N])<O(Q)?M=N+1:P=N;}return M;};J.toArray=function(M){if(!M){return[];}if(M.toArray){return M.toArray();}if(J.isArray(M)){return z.call(M);}if(J.isArguments(M)){return z.call(M);}return J.values(M);};J.size=function(M){return J.toArray(M).length;};J.first=J.head=function(O,N,M){return(N!=null)&&!M?z.call(O,0,N):O[0];};J.initial=function(O,N,M){return z.call(O,0,O.length-((N==null)||M?1:N));};J.last=function(O,N,M){if((N!=null)&&!M){return z.call(O,Math.max(O.length-N,0));}else{return O[O.length-1];}};J.rest=J.tail=function(O,M,N){return z.call(O,(M==null)||N?1:M);};J.compact=function(M){return J.filter(M,function(N){return !!N;});};J.flatten=function(N,M){return J.reduce(N,function(O,P){if(J.isArray(P)){return O.concat(M?P:J.flatten(P));}O[O.length]=P;return O;},[]);};J.without=function(M){return J.difference(M,z.call(arguments,1));};J.uniq=J.unique=function(Q,P,O){var N=O?J.map(Q,O):Q;var M=[];J.reduce(N,function(R,T,S){if(0==S||(P===true?J.last(R)!=T:!J.include(R,T))){R[R.length]=T;M[M.length]=Q[S];}return R;},[]);return M;};J.union=function(){return J.uniq(J.flatten(arguments,true));};J.intersection=J.intersect=function(N){var M=z.call(arguments,1);return J.filter(J.uniq(N),function(O){return J.every(M,function(P){return J.indexOf(P,O)>=0;});});};J.difference=function(N){var M=J.flatten(z.call(arguments,1));return J.filter(N,function(O){return !J.include(M,O);});};J.zip=function(){var M=z.call(arguments);var P=J.max(J.pluck(M,"length"));var O=new Array(P);for(var N=0;N<P;N++){O[N]=J.pluck(M,""+N);}return O;};J.indexOf=function(Q,O,P){if(Q==null){return -1;}var N,M;if(P){N=J.sortedIndex(Q,O);return Q[N]===O?N:-1;}if(A&&Q.indexOf===A){return Q.indexOf(O);}for(N=0,M=Q.length;N<M;N++){if(N in Q&&Q[N]===O){return N;}}return -1;};J.lastIndexOf=function(O,N){if(O==null){return -1;}if(f&&O.lastIndexOf===f){return O.lastIndexOf(N);}var M=O.length;while(M--){if(M in O&&O[M]===N){return M;}}return -1;};J.range=function(R,P,Q){if(arguments.length<=1){P=R||0;R=0;}Q=arguments[2]||1;var N=Math.max(Math.ceil((P-R)/Q),0);var M=0;var O=new Array(N);while(M<N){O[M++]=R;R+=Q;}return O;};var h=function(){};J.bind=function L(P,N){var O,M;if(P.bind===m&&m){return m.apply(P,z.call(arguments,1));}if(!J.isFunction(P)){throw new TypeError;}M=z.call(arguments,2);return O=function(){if(!(this instanceof O)){return P.apply(N,M.concat(z.call(arguments)));}h.prototype=P.prototype;var R=new h;var Q=P.apply(R,M.concat(z.call(arguments)));if(Object(Q)===Q){return Q;}return R;};};J.bindAll=function(N){var M=z.call(arguments,1);if(M.length==0){M=J.functions(N);}d(M,function(O){N[O]=J.bind(N[O],N);});return N;};J.memoize=function(O,N){var M={};N||(N=J.identity);return function(){var P=N.apply(this,arguments);return J.has(M,P)?M[P]:(M[P]=O.apply(this,arguments));};};J.delay=function(N,O){var M=z.call(arguments,2);return setTimeout(function(){return N.apply(N,M);},O);};J.defer=function(M){return J.delay.apply(J,[M,1].concat(z.call(arguments,1)));};J.throttle=function(R,T){var P,M,S,Q,O;var N=J.debounce(function(){O=Q=false;},T);return function(){P=this;M=arguments;var U=function(){S=null;if(O){R.apply(P,M);}N();};if(!S){S=setTimeout(U,T);}if(Q){O=true;}else{R.apply(P,M);}N();Q=true;};};J.debounce=function(M,O){var N;return function(){var R=this,Q=arguments;var P=function(){N=null;M.apply(R,Q);};clearTimeout(N);N=setTimeout(P,O);};};J.once=function(O){var M=false,N;return function(){if(M){return N;}M=true;return N=O.apply(this,arguments);};};J.wrap=function(M,N){return function(){var O=[M].concat(z.call(arguments,0));return N.apply(this,O);};};J.compose=function(){var M=arguments;return function(){var N=arguments;for(var O=M.length-1;O>=0;O--){N=[M[O].apply(this,N)];}return N[0];};};J.after=function(N,M){if(N<=0){return M();}return function(){if(--N<1){return M.apply(this,arguments);}};};J.keys=G||function(O){if(O!==Object(O)){throw new TypeError("Invalid object");}var N=[];for(var M in O){if(J.has(O,M)){N[N.length]=M;}}return N;};J.values=function(M){return J.map(M,J.identity);};J.functions=J.methods=function(O){var N=[];for(var M in O){if(J.isFunction(O[M])){N.push(M);}}return N.sort();};J.extend=function(M){d(z.call(arguments,1),function(N){for(var O in N){M[O]=N[O];}});return M;};J.defaults=function(M){d(z.call(arguments,1),function(N){for(var O in N){if(M[O]==null){M[O]=N[O];}}});return M;};J.clone=function(M){if(!J.isObject(M)){return M;}return J.isArray(M)?M.slice():J.extend({},M);};J.tap=function(N,M){M(N);return N;};function I(P,O,N){if(P===O){return P!==0||1/P==1/O;}if(P==null||O==null){return P===O;}if(P._chain){P=P._wrapped;}if(O._chain){O=O._wrapped;}if(P.isEqual&&J.isFunction(P.isEqual)){return P.isEqual(O);}if(O.isEqual&&J.isFunction(O.isEqual)){return O.isEqual(P);}var S=C.call(P);if(S!=C.call(O)){return false;}switch(S){case"[object String]":return P==String(O);case"[object Number]":return P!=+P?O!=+O:(P==0?1/P==1/O:P==+O);case"[object Date]":case"[object Boolean]":return +P==+O;case"[object RegExp]":return P.source==O.source&&P.global==O.global&&P.multiline==O.multiline&&P.ignoreCase==O.ignoreCase;}if(typeof P!="object"||typeof O!="object"){return false;}var T=N.length;while(T--){if(N[T]==P){return true;}}N.push(P);var R=0,M=true;if(S=="[object Array]"){R=P.length;M=R==O.length;if(M){while(R--){if(!(M=R in P==R in O&&I(P[R],O[R],N))){break;}}}}else{if("constructor" in P!="constructor" in O||P.constructor!=O.constructor){return false;}for(var Q in P){if(J.has(P,Q)){R++;if(!(M=J.has(O,Q)&&I(P[Q],O[Q],N))){break;}}}if(M){for(Q in O){if(J.has(O,Q)&&!(R--)){break;}}M=!R;}}N.pop();return M;}J.isEqual=function(N,M){return I(N,M,[]);};J.isEmpty=function(N){if(J.isArray(N)||J.isString(N)){return N.length===0;}for(var M in N){if(J.has(N,M)){return false;}}return true;};J.isElement=function(M){return !!(M&&M.nodeType==1);};J.isArray=c||function(M){return C.call(M)=="[object Array]";};J.isObject=function(M){return M===Object(M);};J.isArguments=function(M){return C.call(M)=="[object Arguments]";};if(!J.isArguments(arguments)){J.isArguments=function(M){return !!(M&&J.has(M,"callee"));};}J.isFunction=function(M){return C.call(M)=="[object Function]";};J.isString=function(M){return C.call(M)=="[object String]";};J.isNumber=function(M){return C.call(M)=="[object Number]";};J.isNaN=function(M){return M!==M;};J.isBoolean=function(M){return M===true||M===false||C.call(M)=="[object Boolean]";};J.isDate=function(M){return C.call(M)=="[object Date]";};J.isRegExp=function(M){return C.call(M)=="[object RegExp]";};J.isNull=function(M){return M===null;};J.isUndefined=function(M){return M===void 0;};J.has=function(N,M){return t.call(N,M);};J.noConflict=function(){B._=x;return this;};J.identity=function(M){return M;};J.times=function(P,O,N){for(var M=0;M<P;M++){O.call(N,M);}};J.escape=function(M){return(""+M).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;");};J.mixin=function(M){d(J.functions(M),function(N){w(N,J[N]=M[N]);});};var n=0;J.uniqueId=function(M){var N=n++;return M?M+N:N;};J.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var y=/.^/;var u=function(M){return M.replace(/\\\\/g,"\\").replace(/\\'/g,"'");};J.template=function(P,O){var Q=J.templateSettings;var M="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+P.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(Q.escape||y,function(R,S){return"',_.escape("+u(S)+"),'";}).replace(Q.interpolate||y,function(R,S){return"',"+u(S)+",'";}).replace(Q.evaluate||y,function(R,S){return"');"+u(S).replace(/[\r\n\t]/g," ")+";__p.push('";}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";var N=new Function("obj","_",M);if(O){return N(O,J);}return function(R){return N.call(this,R,J);};};J.chain=function(M){return J(M).chain();};var g=function(M){this._wrapped=M;};J.prototype=g.prototype;var r=function(N,M){return M?J(N).chain():N;};var w=function(M,N){g.prototype[M]=function(){var O=z.call(arguments);D.call(O,this._wrapped);return r(N.apply(J,O),this._chain);};};J.mixin(J);d(["pop","push","reverse","shift","sort","splice","unshift"],function(M){var N=l[M];g.prototype[M]=function(){var O=this._wrapped;N.apply(O,arguments);var P=O.length;if((M=="shift"||M=="splice")&&P===0){delete O[0];}return r(O,this._chain);};});d(["concat","join","slice"],function(M){var N=l[M];g.prototype[M]=function(){return r(N.apply(this._wrapped,arguments),this._chain);};});g.prototype.chain=function(){this._chain=true;return this;};g.prototype.value=function(){return this._wrapped;};}).call(this);(function(){var u=this;var r=u.Backbone;var t=Array.prototype.slice;var C=Array.prototype.splice;var c;if(typeof exports!=="undefined"){c=exports;}else{c=u.Backbone={};}c.VERSION="0.9.2";var E=u._;if(!E&&(typeof require!=="undefined")){E=require("underscore");}var g=u.jQuery||u.Zepto||u.ender;c.setDomLibrary=function(G){g=G;};c.noConflict=function(){u.Backbone=r;return this;};c.emulateHTTP=false;c.emulateJSON=false;var a=/\s+/;var q=c.Events={on:function(J,N,I){var H,L,K,G,M;if(!N){return this;}J=J.split(a);H=this._callbacks||(this._callbacks={});while(L=J.shift()){M=H[L];K=M?M.tail:{};K.next=G={};K.context=I;K.callback=N;H[L]={tail:G,next:M?M.next:K};}return this;},off:function(N,L,H){var G,O,I,K,J,M;if(!(O=this._callbacks)){return;}if(!(N||L||H)){delete this._callbacks;return this;}N=N?N.split(a):E.keys(O);while(G=N.shift()){I=O[G];delete O[G];if(!I||!(L||H)){continue;}K=I.tail;while((I=I.next)!==K){J=I.callback;M=I.context;if((L&&J!==L)||(H&&M!==H)){this.on(G,J,M);}}}return this;},trigger:function(J){var N,M,I,H,G,L,K;if(!(I=this._callbacks)){return this;}L=I.all;J=J.split(a);K=t.call(arguments,1);while(N=J.shift()){if(M=I[N]){H=M.tail;while((M=M.next)!==H){M.callback.apply(M.context||this,K);}}if(M=L){H=M.tail;G=[N].concat(K);while((M=M.next)!==H){M.callback.apply(M.context||this,G);}}}return this;}};q.bind=q.on;q.unbind=q.off;var m=c.Model=function(G,H){var I;G||(G={});if(H&&H.parse){G=this.parse(G);}if(I=d(this,"defaults")){G=E.extend({},I,G);}if(H&&H.collection){this.collection=H.collection;}this.attributes={};this._escapedAttributes={};this.cid=E.uniqueId("c");this.changed={};this._silent={};this._pending={};this.set(G,{silent:true});this.changed={};this._silent={};this._pending={};this._previousAttributes=E.clone(this.attributes);this.initialize.apply(this,arguments);};E.extend(m.prototype,q,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(G){return E.clone(this.attributes);},get:function(G){return this.attributes[G];},escape:function(G){var H;if(H=this._escapedAttributes[G]){return H;}var I=this.get(G);return this._escapedAttributes[G]=E.escape(I==null?"":""+I);},has:function(G){return this.get(G)!=null;},set:function(N,M,P){var O,K,I;if(E.isObject(N)||N==null){O=N;P=M;}else{O={};O[N]=M;}P||(P={});if(!O){return this;}if(O instanceof m){O=O.attributes;}if(P.unset){for(K in O){O[K]=void 0;}}if(!this._validate(O,P)){return false;}if(this.idAttribute in O){this.id=O[this.idAttribute];}var L=P.changes={};var H=this.attributes;var G=this._escapedAttributes;var J=this._previousAttributes||{};for(K in O){I=O[K];if(!E.isEqual(H[K],I)||(P.unset&&E.has(H,K))){delete G[K];(P.silent?this._silent:L)[K]=true;}P.unset?delete H[K]:H[K]=I;if(!E.isEqual(J[K],I)||(E.has(H,K)!=E.has(J,K))){this.changed[K]=I;if(!P.silent){this._pending[K]=true;}}else{delete this.changed[K];delete this._pending[K];}}if(!P.silent){this.change(P);}return this;},unset:function(G,H){(H||(H={})).unset=true;return this.set(G,null,H);},clear:function(G){(G||(G={})).unset=true;return this.set(E.clone(this.attributes),G);},fetch:function(H){H=H?E.clone(H):{};var G=this;var I=H.success;H.success=function(L,J,K){if(!G.set(G.parse(L,K),H)){return false;}if(I){I(G,L);}};H.error=c.wrapError(H.error,G,H);return(this.sync||c.sync).call(this,"read",this,H);},save:function(L,K,P){var M,J;if(E.isObject(L)||L==null){M=L;P=K;}else{M={};M[L]=K;}P=P?E.clone(P):{};if(P.wait){if(!this._validate(M,P)){return false;}J=E.clone(this.attributes);}var H=E.extend({},P,{silent:true});if(M&&!this.set(M,P.wait?H:P)){return false;}var I=this;var N=P.success;P.success=function(T,Q,S){var R=I.parse(T,S);if(P.wait){delete P.wait;R=E.extend(M||{},R);}if(!I.set(R,P)){return false;}if(N){N(I,T);}else{I.trigger("sync",I,T,P);}};P.error=c.wrapError(P.error,I,P);var G=this.isNew()?"create":"update";var O=(this.sync||c.sync).call(this,G,this,P);if(P.wait){this.set(J,H);}return O;},destroy:function(H){H=H?E.clone(H):{};var G=this;var K=H.success;var J=function(){G.trigger("destroy",G,G.collection,H);};if(this.isNew()){J();return false;}H.success=function(L){if(H.wait){J();}if(K){K(G,L);}else{G.trigger("sync",G,L,H);}};H.error=c.wrapError(H.error,G,H);var I=(this.sync||c.sync).call(this,"delete",this,H);if(!H.wait){J();}return I;},url:function(){var G=d(this,"urlRoot")||d(this.collection,"url")||x();if(this.isNew()){return G;}return G+(G.charAt(G.length-1)=="/"?"":"/")+encodeURIComponent(this.id);},parse:function(H,G){return H;},clone:function(){return new this.constructor(this.attributes);},isNew:function(){return this.id==null;},change:function(H){H||(H={});var J=this._changing;this._changing=true;for(var G in this._silent){this._pending[G]=true;}var I=E.extend({},H.changes,this._silent);this._silent={};for(var G in I){this.trigger("change:"+G,this,this.get(G),H);}if(J){return this;}while(!E.isEmpty(this._pending)){this._pending={};this.trigger("change",this,H);for(var G in this.changed){if(this._pending[G]||this._silent[G]){continue;}delete this.changed[G];}this._previousAttributes=E.clone(this.attributes);}this._changing=false;return this;},hasChanged:function(G){if(!arguments.length){return !E.isEmpty(this.changed);}return E.has(this.changed,G);},changedAttributes:function(I){if(!I){return this.hasChanged()?E.clone(this.changed):false;}var K,J=false,H=this._previousAttributes;for(var G in I){if(E.isEqual(H[G],(K=I[G]))){continue;}(J||(J={}))[G]=K;}return J;},previous:function(G){if(!arguments.length||!this._previousAttributes){return null;}return this._previousAttributes[G];},previousAttributes:function(){return E.clone(this._previousAttributes);},isValid:function(){return !this.validate(this.attributes);},_validate:function(I,H){if(H.silent||!this.validate){return true;}I=E.extend({},this.attributes,I);var G=this.validate(I,H);if(!G){return true;}if(H&&H.error){H.error(this,G,H);}else{this.trigger("error",this,G,H);}return false;}});var F=c.Collection=function(H,G){G||(G={});if(G.model){this.model=G.model;}if(G.comparator){this.comparator=G.comparator;}this._reset();this.initialize.apply(this,arguments);if(H){this.reset(H,{silent:true,parse:G.parse});}};E.extend(F.prototype,q,{model:m,initialize:function(){},toJSON:function(G){return this.map(function(H){return H.toJSON(G);});},add:function(H,Q){var M,O,J,N,P,I,K={},G={},L=[];Q||(Q={});H=E.isArray(H)?H.slice():[H];for(M=0,J=H.length;M<J;M++){if(!(N=H[M]=this._prepareModel(H[M],Q))){throw new Error("Can't add an invalid model to a collection");}P=N.cid;I=N.id;if(K[P]||this._byCid[P]||((I!=null)&&(G[I]||this._byId[I]))){L.push(M);continue;}K[P]=G[I]=N;}M=L.length;while(M--){H.splice(L[M],1);}for(M=0,J=H.length;M<J;M++){(N=H[M]).on("all",this._onModelEvent,this);this._byCid[N.cid]=N;if(N.id!=null){this._byId[N.id]=N;}}this.length+=J;O=Q.at!=null?Q.at:this.models.length;C.apply(this.models,[O,0].concat(H));if(this.comparator){this.sort({silent:true});}if(Q.silent){return this;}for(M=0,J=this.models.length;M<J;M++){if(!K[(N=this.models[M]).cid]){continue;}Q.index=M;N.trigger("add",N,this,Q);}return this;},remove:function(L,J){var K,G,I,H;J||(J={});L=E.isArray(L)?L.slice():[L];for(K=0,G=L.length;K<G;K++){H=this.getByCid(L[K])||this.get(L[K]);if(!H){continue;}delete this._byId[H.id];delete this._byCid[H.cid];I=this.indexOf(H);this.models.splice(I,1);this.length--;if(!J.silent){J.index=I;H.trigger("remove",H,this,J);}this._removeReference(H);}return this;},push:function(H,G){H=this._prepareModel(H,G);this.add(H,G);return H;},pop:function(H){var G=this.at(this.length-1);this.remove(G,H);return G;},unshift:function(H,G){H=this._prepareModel(H,G);this.add(H,E.extend({at:0},G));return H;},shift:function(H){var G=this.at(0);this.remove(G,H);return G;},get:function(G){if(G==null){return void 0;}return this._byId[G.id!=null?G.id:G];},getByCid:function(G){return G&&this._byCid[G.cid||G];},at:function(G){return this.models[G];},where:function(G){if(E.isEmpty(G)){return[];}return this.filter(function(H){for(var I in G){if(G[I]!==H.get(I)){return false;}}return true;});},sort:function(H){H||(H={});if(!this.comparator){throw new Error("Cannot sort a set without a comparator");}var G=E.bind(this.comparator,this);if(this.comparator.length==1){this.models=this.sortBy(G);}else{this.models.sort(G);}if(!H.silent){this.trigger("reset",this,H);}return this;},pluck:function(G){return E.map(this.models,function(H){return H.get(G);});},reset:function(J,H){J||(J=[]);H||(H={});for(var I=0,G=this.models.length;I<G;I++){this._removeReference(this.models[I]);}this._reset();this.add(J,E.extend({silent:true},H));if(!H.silent){this.trigger("reset",this,H);}return this;},fetch:function(G){G=G?E.clone(G):{};if(G.parse===undefined){G.parse=true;}var I=this;var H=G.success;G.success=function(L,J,K){I[G.add?"add":"reset"](I.parse(L,K),G);if(H){H(I,L);}};G.error=c.wrapError(G.error,I,G);return(this.sync||c.sync).call(this,"read",this,G);},create:function(H,G){var I=this;G=G?E.clone(G):{};H=this._prepareModel(H,G);if(!H){return false;}if(!G.wait){I.add(H,G);}var J=G.success;G.success=function(K,M,L){if(G.wait){I.add(K,G);}if(J){J(K,M);}else{K.trigger("sync",H,M,G);}};H.save(null,G);return H;},parse:function(H,G){return H;},chain:function(){return E(this.models).chain();},_reset:function(G){this.length=0;this.models=[];this._byId={};this._byCid={};},_prepareModel:function(I,H){H||(H={});if(!(I instanceof m)){var G=I;H.collection=this;I=new this.model(G,H);if(!I._validate(I.attributes,H)){I=false;}}else{if(!I.collection){I.collection=this;}}return I;},_removeReference:function(G){if(this==G.collection){delete G.collection;}G.off("all",this._onModelEvent,this);},_onModelEvent:function(I,H,J,G){if((I=="add"||I=="remove")&&J!=this){return;}if(I=="destroy"){this.remove(H,G);}if(H&&I==="change:"+H.idAttribute){delete this._byId[H.previous(H.idAttribute)];this._byId[H.id]=H;}this.trigger.apply(this,arguments);}});var A=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];E.each(A,function(G){F.prototype[G]=function(){return E[G].apply(E,[this.models].concat(E.toArray(arguments)));};});var D=c.Router=function(G){G||(G={});if(G.routes){this.routes=G.routes;}this._bindRoutes();this.initialize.apply(this,arguments);};var k=/:\w+/g;var B=/\*\w+/g;var e=/[-[\]{}()+?.,\\^$|#\s]/g;E.extend(D.prototype,q,{initialize:function(){},route:function(G,H,I){c.history||(c.history=new b);if(!E.isRegExp(G)){G=this._routeToRegExp(G);}if(!I){I=this[H];}c.history.route(G,E.bind(function(K){var J=this._extractParameters(G,K);I&&I.apply(this,J);this.trigger.apply(this,["route:"+H].concat(J));c.history.trigger("route",this,H,J);},this));return this;},navigate:function(H,G){c.history.navigate(H,G);},_bindRoutes:function(){if(!this.routes){return;}var H=[];for(var I in this.routes){H.unshift([I,this.routes[I]]);}for(var J=0,G=H.length;J<G;J++){this.route(H[J][0],H[J][1],this[H[J][1]]);}},_routeToRegExp:function(G){G=G.replace(e,"\\$&").replace(k,"([^/]+)").replace(B,"(.*?)");return new RegExp("^"+G+"$");},_extractParameters:function(G,H){return G.exec(H).slice(1);}});var b=c.History=function(){this.handlers=[];E.bindAll(this,"checkUrl");};var o=/^[#\/]/;var l=/msie [\w.]+/;b.started=false;E.extend(b.prototype,q,{interval:50,getHash:function(I){var H=I?I.location:window.location;var G=H.href.match(/#(.*)$/);return G?G[1]:"";},getFragment:function(H,G){if(H==null){if(this._hasPushState||G){H=window.location.pathname;var I=window.location.search;if(I){H+=I;}}else{H=this.getHash();}}if(!H.indexOf(this.options.root)){H=H.substr(this.options.root.length);}return H.replace(o,"");},start:function(I){if(b.started){throw new Error("Backbone.history has already been started");}b.started=true;this.options=E.extend({},{root:"/"},this.options,I);this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var H=this.getFragment();var G=document.documentMode;var K=(l.exec(navigator.userAgent.toLowerCase())&&(!G||G<=7));if(K){this.iframe=g('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(H);}if(this._hasPushState){g(window).bind("popstate",this.checkUrl);}else{if(this._wantsHashChange&&("onhashchange" in window)&&!K){g(window).bind("hashchange",this.checkUrl);}else{if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval);}}}this.fragment=H;var L=window.location;var J=L.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!J){this.fragment=this.getFragment(null,true);window.location.replace(this.options.root+"#"+this.fragment);return true;}else{if(this._wantsPushState&&this._hasPushState&&J&&L.hash){this.fragment=this.getHash().replace(o,"");window.history.replaceState({},document.title,L.protocol+"//"+L.host+this.options.root+this.fragment);}}if(!this.options.silent){return this.loadUrl();}},stop:function(){g(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);b.started=false;},route:function(G,H){this.handlers.unshift({route:G,callback:H});},checkUrl:function(H){var G=this.getFragment();if(G==this.fragment&&this.iframe){G=this.getFragment(this.getHash(this.iframe));}if(G==this.fragment){return false;}if(this.iframe){this.navigate(G);}this.loadUrl()||this.loadUrl(this.getHash());},loadUrl:function(I){var H=this.fragment=this.getFragment(I);var G=E.any(this.handlers,function(J){if(J.route.test(H)){J.callback(H);return true;}});return G;},navigate:function(H,G){if(!b.started){return false;}if(!G||G===true){G={trigger:G};}var I=(H||"").replace(o,"");if(this.fragment==I){return;}if(this._hasPushState){if(I.indexOf(this.options.root)!=0){I=this.options.root+I;}this.fragment=I;window.history[G.replace?"replaceState":"pushState"]({},document.title,I);}else{if(this._wantsHashChange){this.fragment=I;this._updateHash(window.location,I,G.replace);if(this.iframe&&(I!=this.getFragment(this.getHash(this.iframe)))){if(!G.replace){this.iframe.document.open().close();}this._updateHash(this.iframe.location,I,G.replace);}}else{window.location.assign(this.options.root+H);}}if(G.trigger){this.loadUrl(H);}},_updateHash:function(G,H,I){if(I){G.replace(G.toString().replace(/(javascript:|#).*$/,"")+"#"+H);}else{G.hash=H;}}});var w=c.View=function(G){this.cid=E.uniqueId("view");this._configure(G||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents();};var f=/^(\S+)\s*(.*)$/;var y=["model","collection","el","id","attributes","className","tagName"];E.extend(w.prototype,q,{tagName:"div",$:function(G){return this.$el.find(G);},initialize:function(){},render:function(){return this;},remove:function(){this.$el.remove();return this;},make:function(H,G,J){var I=document.createElement(H);if(G){g(I).attr(G);}if(J){g(I).html(J);}return I;},setElement:function(G,H){if(this.$el){this.undelegateEvents();}this.$el=(G instanceof g)?G:g(G);this.el=this.$el[0];if(H!==false){this.delegateEvents();}return this;},delegateEvents:function(K){if(!(K||(K=d(this,"events")))){return;}this.undelegateEvents();for(var J in K){var L=K[J];if(!E.isFunction(L)){L=this[K[J]];}if(!L){throw new Error('Method "'+K[J]+'" does not exist');}var I=J.match(f);var H=I[1],G=I[2];L=E.bind(L,this);H+=".delegateEvents"+this.cid;if(G===""){this.$el.bind(H,L);}else{this.$el.delegate(G,H,L);}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid);},_configure:function(I){if(this.options){I=E.extend({},this.options,I);}for(var J=0,H=y.length;J<H;J++){var G=y[J];if(I[G]){this[G]=I[G];}}this.options=I;},_ensureElement:function(){if(!this.el){var G=d(this,"attributes")||{};if(this.id){G.id=this.id;}if(this.className){G["class"]=this.className;}this.setElement(this.make(this.tagName,G),false);}else{this.setElement(this.el,false);}}});var z=function(G,H){var I=n(this,G,H);I.extend=this.extend;return I;};m.extend=F.extend=D.extend=w.extend=z;var v={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};c.sync=function(K,H,G){var I=v[K];G||(G={});var J={type:I,dataType:"json"};if(!G.url){J.url=d(H,"url")||x();}if(!G.data&&H&&(K=="create"||K=="update")){J.contentType="application/json";J.data=JSON.stringify(H.toJSON());}if(c.emulateJSON){J.contentType="application/x-www-form-urlencoded";J.data=J.data?{model:J.data}:{};}if(c.emulateHTTP){if(I==="PUT"||I==="DELETE"){if(c.emulateJSON){J.data._method=I;}J.type="POST";J.beforeSend=function(L){L.setRequestHeader("X-HTTP-Method-Override",I);};}}if(J.type!=="GET"&&!c.emulateJSON){J.processData=false;}return g.ajax(E.extend(J,G));};c.wrapError=function(H,I,G){return function(J,K){K=J===I?K:J;if(H){H(I,K,G);}else{I.trigger("error",I,K,G);}};};var h=function(){};var n=function(H,G,I){var J;if(G&&G.hasOwnProperty("constructor")){J=G.constructor;}else{J=function(){H.apply(this,arguments);};}E.extend(J,H);h.prototype=H.prototype;J.prototype=new h();if(G){E.extend(J.prototype,G);}if(I){E.extend(J,I);}J.prototype.constructor=J;J.__super__=H.prototype;return J;};var d=function(G,H){if(!(G&&G[H])){return null;}return E.isFunction(G[H])?G[H]():G[H];};var x=function(){throw new Error('A "url" property or function must be specified');};}).call(this);
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
var Mustache=(typeof module!=="undefined"&&module.exports)||{};(function(A){A.name="mustache.js";A.version="0.5.0-dev";A.tags=["{{","}}"];A.parse=o;A.compile=e;A.render=z;A.clearCache=y;A.to_html=function(E,C,D,F){var B=z(E,C,D);if(typeof F==="function"){F(B);}else{return B;}};var w=Object.prototype.toString;var f=Array.isArray;var b=Array.prototype.forEach;var g=String.prototype.trim;var k;if(f){k=f;}else{k=function(B){return w.call(B)==="[object Array]";};}var v;if(b){v=function(C,D,B){return b.call(C,D,B);};}else{v=function(E,F,D){for(var C=0,B=E.length;C<B;++C){F.call(D,E[C],C,E);}};}var m=/^\s*$/;function c(B){return m.test(B);}var t;if(g){t=function(B){return B==null?"":g.call(B);};}else{var q,h;if(c("\xA0")){q=/^\s+/;h=/\s+$/;}else{q=/^[\s\xA0]+/;h=/[\s\xA0]+$/;}t=function(B){return B==null?"":String(B).replace(q,"").replace(h,"");};}var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function r(B){return String(B).replace(/&(?!\w+;)|[<>"']/g,function(C){return d[C]||C;});}function n(H,J,K,D){D=D||"<template>";var L=J.split("\n"),B=Math.max(K-3,0),E=Math.min(L.length,K+3),C=L.slice(B,E);var I;for(var F=0,G=C.length;F<G;++F){I=F+B+1;C[F]=(I===K?" >> ":"    ")+C[F];}H.template=J;H.line=K;H.file=D;H.message=[D+":"+K,C.join("\n"),"",H.message].join("\n");return H;}function x(B,J,I){if(B==="."){return J[J.length-1];}var H=B.split(".");var F=H.length-1;var G=H[F];var K,C,E=J.length,D,L;while(E){L=J.slice(0);C=J[--E];D=0;while(D<F){C=C[H[D++]];if(C==null){break;}L.push(C);}if(C&&typeof C==="object"&&G in C){K=C[G];break;}}if(typeof K==="function"){K=K.call(L[L.length-1]);}if(K==null){return I;}return K;}function l(E,B,I,D){var C="";var G=x(E,B);if(D){if(G==null||G===false||(k(G)&&G.length===0)){C+=I();}}else{if(k(G)){v(G,function(J){B.push(J);C+=I();B.pop();});}else{if(typeof G==="object"){B.push(G);C+=I();B.pop();}else{if(typeof G==="function"){var F=B[B.length-1];var H=function(J){return z(J,F);};C+=G.call(F,I(),H)||"";}else{if(G){C+=I();}}}}}return C;}function o(ad,F){F=F||{};var O=F.tags||A.tags,P=O[0],K=O[O.length-1];var C=['var buffer = "";',"\nvar line = 1;","\ntry {",'\nbuffer += "'];var J=[],ae=false,ab=false;var Z=function(){if(ae&&!ab&&!F.space){while(J.length){C.splice(J.pop(),1);}}else{J=[];}ae=false;ab=false;};var W=[],T,G,Q;var Y=function(af){O=t(af).split(/\s+/);G=O[0];Q=O[O.length-1];};var N=function(af){C.push('";',T,'\nvar partial = partials["'+t(af)+'"];',"\nif (partial) {","\n  buffer += render(partial,stack[stack.length - 1],partials);","\n}",'\nbuffer += "');};var B=function(ah,af){var ag=t(ah);if(ag===""){throw n(new Error("Section name may not be empty"),ad,M,F.file);}W.push({name:ag,inverted:af});C.push('";',T,'\nvar name = "'+ag+'";',"\nvar callback = (function () {","\n  return function () {",'\n    var buffer = "";','\nbuffer += "');};var I=function(af){B(af,true);};var X=function(ag){var af=t(ag);var ai=W.length!=0&&W[W.length-1].name;if(!ai||af!=ai){throw n(new Error('Section named "'+af+'" was never opened'),ad,M,F.file);}var ah=W.pop();C.push('";',"\n    return buffer;","\n  };","\n})();");if(ah.inverted){C.push("\nbuffer += renderSection(name,stack,callback,true);");}else{C.push("\nbuffer += renderSection(name,stack,callback);");}C.push('\nbuffer += "');};var aa=function(af){C.push('";',T,'\nbuffer += lookup("'+t(af)+'",stack,"");','\nbuffer += "');};var D=function(af){C.push('";',T,'\nbuffer += escapeHTML(lookup("'+t(af)+'",stack,""));','\nbuffer += "');};var M=1,ac,H;for(var U=0,V=ad.length;U<V;++U){if(ad.slice(U,U+P.length)===P){U+=P.length;ac=ad.substr(U,1);T="\nline = "+M+";";G=P;Q=K;ae=true;switch(ac){case"!":U++;H=null;break;case"=":U++;K="="+K;H=Y;break;case">":U++;H=N;break;case"#":U++;H=B;break;case"^":U++;H=I;break;case"/":U++;H=X;break;case"{":K="}"+K;case"&":U++;ab=true;H=aa;break;default:ab=true;H=D;}var E=ad.indexOf(K,U);if(E===-1){throw n(new Error('Tag "'+P+'" was not closed properly'),ad,M,F.file);}var S=ad.substring(U,E);if(H){H(S);}var R=0;while(~(R=S.indexOf("\n",R))){M++;R++;}U=E+K.length-1;P=G;K=Q;}else{ac=ad.substr(U,1);switch(ac){case'"':case"\\":ab=true;C.push("\\"+ac);break;case"\r":break;case"\n":J.push(C.length);C.push("\\n");Z();M++;break;default:if(c(ac)){J.push(C.length);}else{ab=true;}C.push(ac);}}}if(W.length!=0){throw n(new Error('Section "'+W[W.length-1].name+'" was not closed properly'),ad,M,F.file);}Z();C.push('";',"\nreturn buffer;","\n} catch (e) { throw {error: e, line: line}; }");var L=C.join("").replace(/buffer \+= "";\n/g,"");if(F.debug){if(typeof console!="undefined"&&console.log){console.log(L);}else{if(typeof print==="function"){print(L);}}}return L;}function u(F,D){var C="view,partials,stack,lookup,escapeHTML,renderSection,render";var B=o(F,D);var E=new Function(C,B);return function(H,I){I=I||{};var G=[H];try{return E(H,I,G,x,r,l,z);}catch(J){throw n(J.error,F,J.line,D.file);}};}var a={};function y(){a={};}function e(C,B){B=B||{};if(B.cache!==false){if(!a[C]){a[C]=u(C,B);}return a[C];}return u(C,B);}function z(D,B,C){return e(D)(B,C);}})(Mustache);(function(){var c=this;var b=c.Saks=(c.Saks||{});var e=c.jQuery||c.Zepto;var a={};var d=function(f,g){function h(){f.apply(this,arguments[0]);}h.prototype=f.prototype;return new h(g);};e.extend(b,{version:"0.3.0",namespace:function(){var g=arguments,m,k=0,h,l,f;for(;k<g.length;k++){m=this;f=g[k];if(f.indexOf(".")>-1){l=f.split(".");for(h=(l[0]==="Saks")?1:0;h<l.length;h++){m[l[h]]=m[l[h]]||{};m=m[l[h]];}}else{m[f]=m[f]||{};m=m[f];}}return m;},module:function(f){if(f==="***"){return a;}else{if(a[f]){return a[f];}}return a[f]={};},create:function(m){var k=m.split("."),g=k.length,f=Array.prototype.slice.call(arguments,1),h=1,n;n=this.module(k[0]);for(;h<g;h++){n=n[k[h]];if(!n){throw new Error(k[h]+" is not defined within "+k[h-1]);}}if(typeof n!=="function"){throw new Error(m+" is not a Class constructor");}return d(n,f);},define:function(u,r,v){var w=u.split("."),q=[],f,n,k,h,g;f=g=this.module(w[0]);for(k=1,h=w.length-1;k<h;k++){n=w[k];f=f[n]=f[n]||{};}n=w[k];if(typeof f[n]==="undefined"){if(typeof r==="function"){q.push(e);q.push(g);if(v&&v.length){for(k=0,h=v.length;k<h;k++){q.push(this.module(v[k]));}}f[n]=r.apply(null,q);}else{f[n]=r;}}return this;},extend:function(f){return e.extend(true,this,f);}});}.call(this));(function(c,d){var a={};var b=function(h,g,f){var e=h.slice((f||g)+1||h.length);h.length=g<0?h.length+g:g;return h.push.apply(h,e);};c.extend(d,{subscribe:function(f,g,e){if(!_.isFunction(g)){return false;}if(!a[f]){a[f]=[];}a[f].push({context:e||null,callback:g});return this;},unsubscribe:function(f,g){var h=a[f];if(!h){return false;}for(var e=h.length;e--;){if(h[e].callback===g){b(h,e);}}return this;},publish:function(k){var m=a[k],h;if(!m){return false;}var f=Array.prototype.slice.call(arguments,1);for(var g=0,e=m.length;g<e;g++){h=m[g];h.callback.apply(h.context,f);}return this;}});}(jQuery,Saks.module("Mediator")));(function(){var a=function(){};var c=function(e,d,f){var g;if(d&&d.hasOwnProperty("constructor")){g=d.constructor;}else{g=function(){return e.apply(this,arguments);};}_.extend(g,e);a.prototype=e.prototype;g.prototype=new a();if(d){_.extend(g.prototype,d);}if(f){_.extend(g,f);}g.prototype.constructor=g;g.__super__=e.prototype;return g;};function b(d,e){var f=c(this,d,e);f.extend=b;return f;}Saks.Base=function(){};_.extend(Saks.Base.prototype,Backbone.Events);Saks.Base.extend=b;})();(function(a,c){var b=function(f){var d,g,e;this.globalEvents=this.globalEvents||{};d=_.isFunction(this.globalEvents)?this.globalEvents():this.globalEvents;for(g in d){e=d[g];if(!_.isFunction(e)){e=this[e];}if(!e){throw new Error('Method "'+d[g]+'" does not exist');}f.call(this,g,e);}};a.View=Backbone.View.extend({delegateEvents:function(){Backbone.View.prototype.delegateEvents.apply(this,arguments);b.call(this,function(e,d){c.subscribe(e,d,this);});return this;},undelegateEvents:function(){Backbone.View.prototype.delegateEvents.apply(this,arguments);b.call(this,function(e,d){c.unsubscribe(e,d);});return this;},destroy:function(){this.undelegateEvents();return null;}});})(Saks,Saks.module("Mediator"));(function(b){var c=Saks.namespace("Util");var a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";c.guid=function(){var f=new Date().getTime();var e=a.replace(/[xy]/g,function(g){var d=(f+Math.random()*16)%16|0;f=Math.floor(f/16);return(g=="x"?d:(d&7|8)).toString(16);});return e;};}(jQuery));(function(){var a=/^((http[s]?|ftp):\/)?\/?([^:\/\s]+)((\/\w+)*\/)([\w\-\.]+[^#?\s]+)(.*)?(#[\w\-]+)?$/;var b=function(d){var c=d.match(a);c&&(d=c[7].substring(1));return(function(f){if(f==""){return{};}var e={};for(var g=0;g<f.length;++g){var h=f[g].split("=");if(h.length!=2){continue;}e[h[0]]=decodeURIComponent(h[1].replace(/\+/g," "));}return e;})(d.split("&"));};Saks.extend({Util:{getUrlComponent:function(d,c){var f=d.match(a);var e={url:0,protocol:2,hostname:3,path:4,file:6,query:7,hash:8};return f?f[e[c.toLowerCase()]]:"";},getCurrentUrl:function(c){return window.location.href;},getUrlProtocol:function(c){return c?this.getUrlComponent(c,"protocol"):window.location.protocol.slice(0,window.location.protocol.length-1);},getUrlHost:function(c){return c?this.getUrlComponent(c,"hostname"):window.location.hostname;},getUrlPathName:function(c){return c?this.getUrlComponent(c,"path"):window.location.pathname;},getUrlQueryString:function(c){return c?this.getUrlComponent(c,"query"):window.location.search;},getUrlFile:function(c){return this.getUrlComponent((c||this.getCurrentUrl()),"file");},getUrlQueryHash:b,getUrlQueryParam:(function(){var c=b(window.location.search.substring(1));return function(e,d){if(!d){d=e;e=null;}var f=encodeURIComponent(d);return e?b(e)[f]:c[f];};})()}});})();(function(c){var b=this,a=b.document;Saks.extend({Util:{getScript:function(e){if(!e){return;}if(typeof e=="string"){e={src:e};}e.bind||(e.bind=null);e.args||(e.args=[]);var f=function(){if(typeof e.callback=="function"){e.callback.apply(e.bind,e.args);}};var d=a.createElement("script");d.setAttribute("type","text/javascript");d.setAttribute("src",e.path);d.setAttribute("asynch",!!e.asynch);if(e.content&&e.content.length){d.text=e.content;}if(d.readyState){d.onreadystatechange=function(){if(d.readyState=="loaded"||d.readyState=="complete"){d.onreadystatechange=null;f();}};}else{d.onload=f;d.onerror=f;}a.body.appendChild(d);},getScripts:function(d,g){if(!(d&&d.length)){return;}g||(g={});var k=d.length;var f=function(){if(!(--k)&&typeof g.callback=="function"){g.callback.apply(g.bind||null,g.args||[]);}};for(var h=0,e=d.length;h<e;h++){this.getScript(c.extend({},d[h],{callback:f}));}}}});})(jQuery);(function(){var a={EncodeType:"entity",isEmpty:function(b){if(b){return((b===null)||b.length==0||/^\s+$/.test(b));}else{return true;}},arr1:["&nbsp;","&iexcl;","&cent;","&pound;","&curren;","&yen;","&brvbar;","&sect;","&uml;","&copy;","&ordf;","&laquo;","&not;","&shy;","&reg;","&macr;","&deg;","&plusmn;","&sup2;","&sup3;","&acute;","&micro;","&para;","&middot;","&cedil;","&sup1;","&ordm;","&raquo;","&frac14;","&frac12;","&frac34;","&iquest;","&Agrave;","&Aacute;","&Acirc;","&Atilde;","&Auml;","&Aring;","&AElig;","&Ccedil;","&Egrave;","&Eacute;","&Ecirc;","&Euml;","&Igrave;","&Iacute;","&Icirc;","&Iuml;","&ETH;","&Ntilde;","&Ograve;","&Oacute;","&Ocirc;","&Otilde;","&Ouml;","&times;","&Oslash;","&Ugrave;","&Uacute;","&Ucirc;","&Uuml;","&Yacute;","&THORN;","&szlig;","&agrave;","&aacute;","&acirc;","&atilde;","&auml;","&aring;","&aelig;","&ccedil;","&egrave;","&eacute;","&ecirc;","&euml;","&igrave;","&iacute;","&icirc;","&iuml;","&eth;","&ntilde;","&ograve;","&oacute;","&ocirc;","&otilde;","&ouml;","&divide;","&oslash;","&ugrave;","&uacute;","&ucirc;","&uuml;","&yacute;","&thorn;","&yuml;","&quot;","&amp;","&lt;","&gt;","&OElig;","&oelig;","&Scaron;","&scaron;","&Yuml;","&circ;","&tilde;","&ensp;","&emsp;","&thinsp;","&zwnj;","&zwj;","&lrm;","&rlm;","&ndash;","&mdash;","&lsquo;","&rsquo;","&sbquo;","&ldquo;","&rdquo;","&bdquo;","&dagger;","&Dagger;","&permil;","&lsaquo;","&rsaquo;","&euro;","&fnof;","&Alpha;","&Beta;","&Gamma;","&Delta;","&Epsilon;","&Zeta;","&Eta;","&Theta;","&Iota;","&Kappa;","&Lambda;","&Mu;","&Nu;","&Xi;","&Omicron;","&Pi;","&Rho;","&Sigma;","&Tau;","&Upsilon;","&Phi;","&Chi;","&Psi;","&Omega;","&alpha;","&beta;","&gamma;","&delta;","&epsilon;","&zeta;","&eta;","&theta;","&iota;","&kappa;","&lambda;","&mu;","&nu;","&xi;","&omicron;","&pi;","&rho;","&sigmaf;","&sigma;","&tau;","&upsilon;","&phi;","&chi;","&psi;","&omega;","&thetasym;","&upsih;","&piv;","&bull;","&hellip;","&prime;","&Prime;","&oline;","&frasl;","&weierp;","&image;","&real;","&trade;","&alefsym;","&larr;","&uarr;","&rarr;","&darr;","&harr;","&crarr;","&lArr;","&uArr;","&rArr;","&dArr;","&hArr;","&forall;","&part;","&exist;","&empty;","&nabla;","&isin;","&notin;","&ni;","&prod;","&sum;","&minus;","&lowast;","&radic;","&prop;","&infin;","&ang;","&and;","&or;","&cap;","&cup;","&int;","&there4;","&sim;","&cong;","&asymp;","&ne;","&equiv;","&le;","&ge;","&sub;","&sup;","&nsub;","&sube;","&supe;","&oplus;","&otimes;","&perp;","&sdot;","&lceil;","&rceil;","&lfloor;","&rfloor;","&lang;","&rang;","&loz;","&spades;","&clubs;","&hearts;","&diams;"],arr2:["&#160;","&#161;","&#162;","&#163;","&#164;","&#165;","&#166;","&#167;","&#168;","&#169;","&#170;","&#171;","&#172;","&#173;","&#174;","&#175;","&#176;","&#177;","&#178;","&#179;","&#180;","&#181;","&#182;","&#183;","&#184;","&#185;","&#186;","&#187;","&#188;","&#189;","&#190;","&#191;","&#192;","&#193;","&#194;","&#195;","&#196;","&#197;","&#198;","&#199;","&#200;","&#201;","&#202;","&#203;","&#204;","&#205;","&#206;","&#207;","&#208;","&#209;","&#210;","&#211;","&#212;","&#213;","&#214;","&#215;","&#216;","&#217;","&#218;","&#219;","&#220;","&#221;","&#222;","&#223;","&#224;","&#225;","&#226;","&#227;","&#228;","&#229;","&#230;","&#231;","&#232;","&#233;","&#234;","&#235;","&#236;","&#237;","&#238;","&#239;","&#240;","&#241;","&#242;","&#243;","&#244;","&#245;","&#246;","&#247;","&#248;","&#249;","&#250;","&#251;","&#252;","&#253;","&#254;","&#255;","&#34;","&#38;","&#60;","&#62;","&#338;","&#339;","&#352;","&#353;","&#376;","&#710;","&#732;","&#8194;","&#8195;","&#8201;","&#8204;","&#8205;","&#8206;","&#8207;","&#8211;","&#8212;","&#8216;","&#8217;","&#8218;","&#8220;","&#8221;","&#8222;","&#8224;","&#8225;","&#8240;","&#8249;","&#8250;","&#8364;","&#402;","&#913;","&#914;","&#915;","&#916;","&#917;","&#918;","&#919;","&#920;","&#921;","&#922;","&#923;","&#924;","&#925;","&#926;","&#927;","&#928;","&#929;","&#931;","&#932;","&#933;","&#934;","&#935;","&#936;","&#937;","&#945;","&#946;","&#947;","&#948;","&#949;","&#950;","&#951;","&#952;","&#953;","&#954;","&#955;","&#956;","&#957;","&#958;","&#959;","&#960;","&#961;","&#962;","&#963;","&#964;","&#965;","&#966;","&#967;","&#968;","&#969;","&#977;","&#978;","&#982;","&#8226;","&#8230;","&#8242;","&#8243;","&#8254;","&#8260;","&#8472;","&#8465;","&#8476;","&#8482;","&#8501;","&#8592;","&#8593;","&#8594;","&#8595;","&#8596;","&#8629;","&#8656;","&#8657;","&#8658;","&#8659;","&#8660;","&#8704;","&#8706;","&#8707;","&#8709;","&#8711;","&#8712;","&#8713;","&#8715;","&#8719;","&#8721;","&#8722;","&#8727;","&#8730;","&#8733;","&#8734;","&#8736;","&#8743;","&#8744;","&#8745;","&#8746;","&#8747;","&#8756;","&#8764;","&#8773;","&#8776;","&#8800;","&#8801;","&#8804;","&#8805;","&#8834;","&#8835;","&#8836;","&#8838;","&#8839;","&#8853;","&#8855;","&#8869;","&#8901;","&#8968;","&#8969;","&#8970;","&#8971;","&#9001;","&#9002;","&#9674;","&#9824;","&#9827;","&#9829;","&#9830;"],HTML2Numerical:function(b){return this.swapArrayVals(b,this.arr1,this.arr2);},NumericalToHTML:function(b){return this.swapArrayVals(b,this.arr2,this.arr1);},numEncode:function(d){if(this.isEmpty(d)){return"";}var f="";for(var b=0;b<d.length;b++){var g=d.charAt(b);if(g<" "||g>"~"){g="&#"+g.charCodeAt()+";";}f+=g;}return f;},htmlDecode:function(f){var h,e,g=f;if(this.isEmpty(g)){return"";}g=this.HTML2Numerical(g);arr=g.match(/&#[0-9]{1,5};/g);if(arr!=null){for(var b=0;b<arr.length;b++){e=arr[b];h=e.substring(2,e.length-1);if(h>=-32768&&h<=65535){g=g.replace(e,String.fromCharCode(h));}else{g=g.replace(e,"");}}}return g;},htmlEncode:function(b,c){if(this.isEmpty(b)){return"";}c=c||false;if(c){if(this.EncodeType=="numerical"){b=b.replace(/&/g,"&#38;");}else{b=b.replace(/&/g,"&amp;");}}b=this.XSSEncode(b,false);if(this.EncodeType=="numerical"||!c){b=this.HTML2Numerical(b);}b=this.numEncode(b);if(!c){b=b.replace(/&#/g,"##AMPHASH##");if(this.EncodeType=="numerical"){b=b.replace(/&/g,"&#38;");}else{b=b.replace(/&/g,"&amp;");}b=b.replace(/##AMPHASH##/g,"&#");}b=b.replace(/&#\d*([^\d;]|$)/g,"$1");if(!c){b=this.correctEncoding(b);}if(this.EncodeType=="entity"){b=this.NumericalToHTML(b);}return b;},XSSEncode:function(c,b){if(!this.isEmpty(c)){b=b||true;if(b){c=c.replace(/\'/g,"&#39;");c=c.replace(/\"/g,"&quot;");c=c.replace(/</g,"&lt;");c=c.replace(/>/g,"&gt;");}else{c=c.replace(/\'/g,"&#39;");c=c.replace(/\"/g,"&#34;");c=c.replace(/</g,"&#60;");c=c.replace(/>/g,"&#62;");}return c;}else{return"";}},hasEncoded:function(b){if(/&#[0-9]{1,5};/g.test(b)){return true;}else{if(/&[A-Z]{2,6};/gi.test(b)){return true;}else{return false;}}},stripUnicode:function(b){return b.replace(/[^\x20-\x7E]/g,"");},correctEncoding:function(b){return b.replace(/(&amp;)(amp;)+/,"$1");},swapArrayVals:function(g,d,c){if(this.isEmpty(g)){return"";}var f;if(d&&c){if(d.length==c.length){for(var b=0,e=d.length;b<e;b++){f=new RegExp(d[b],"g");g=g.replace(f,c[b]);}}}return g;},inArray:function(e,c){for(var d=0,b=c.length;d<b;d++){if(c[d]===e){return d;}}return -1;}};Saks.extend({Util:{htmlDecode:function(c,b){a.EncodeType=b||"entity";return a.htmlDecode(c);},htmlEncode:function(d,c,b){a.EncodeType=b||"entity";return a.htmlEncode(d,c);},XSSEncode:function(c,b){return a.XSSEncode(c,(b=="entity"));}}});})();Saks.extend({Util:{resizeFrame:function(d){var a;try{a=d.contentWindow.document.documentElement;}catch(c){try{a=d.contentDocument.documentElement;}catch(b){}}if(a){d.height=1;d.height=a.scrollHeight;}}}});Saks.define("Quicklook.Model.Product",function(a){return Backbone.Model.extend({toJSON:function(){var y=Backbone.Model.prototype.toJSON.call(this);y=JSON.parse(JSON.stringify(y));if(_.isEmpty(y)){return y;}if(y.dialogType==="edit"){y.displayEditItem=y.displayAddToBag;y.displayAddToBag=false;y.displayAddToWaitlist=false;y.productOrderIdName=navigate.getActiveStep()>0?"orderItemId":"cartItemId";y.productOrderIdValue=y.productId;}var n=y.detailPage.substring(0,y.detailPage.indexOf("?"));var v="PRODUCT<>prd_id="+Saks.Util.getUrlQueryParam(y.detailPage,"PRODUCT<>prd_id");var k=encodeURI(n+"?"+v);var x=encodeURI("/main/ComposeTAF.jsp?"+v);var o="//twitter.com/share?url="+encodeURIComponent(k)+"&text="+encodeURIComponent(y.productName+" "+y.shortDescription+" | Saks Fifth Avenue");var c="//pinterest.com/pin/create/button/?url="+encodeURIComponent(k)+"&media="+encodeURIComponent(y.mainImagePathForThumbNailSize)+"&description="+encodeURIComponent(y.productName+" "+y.shortDescription);var u="http://"+location.hostname+"/main/productreview/ReviewLanding.jsp?prodCode="+encodeURIComponent(y.productCode);var m="/static/images/star_rating/"+y.reviewScore+".gif";var b="This product rates "+(y.reviewScore)/100+" out of 5 from "+y.totalReviewCount+" customer reviews";var q=false;var f="vars-to-buy";var h={};var t;for(var w=0,r=y.mediaItem.colorizedImageItems.length;w<r;w++){t=y.mediaItem.colorizedImageItems[w];var g=y.mediaItem.imageServerUrl;if(t.complexSwatchThumbnail&&t.complexSwatchThumbnail.length){t.style="background-image: url("+g+t.complexSwatchThumbnail+")";}else{t.style="background-color: #"+t.colorHex;}}if(y.waitListForPd&&y.skuVariantsAll&&y.skuVariantsAll.length){y.skuVariants=y.skuVariantsAll;}for(var w=0,r=y.skuVariants.length;w<r;w++){var e=y.skuVariants[w]||{};e.value||(e.value="");e.display||(e.display="");e.disabled=e.disabled==="true";e.cls="";if(e.displayAddToWL){q=true;e.cls+=" ffwlQL";e.cls+=" soldout";e.display+=" Sold Out > Add to Wait List";}if(e.message&&e.message.length){e.cls+=" message";}}if(q){f+=" ffwlQLSelect";}var d=false;if(y.viewer&&y.viewer.length>0){d=true;y.viewer=y.viewer.replace("rfxViewerHorizontal.jsp","rfxViewerHorizontalLarge.jsp");}return _.extend(y,{canonicalPDP:k,hasAdditionalInformation:(y.additionalInformation.length>0),hasRfxViewer:d,hasScene7:true,hasPurchaseLimitThreshold:parseInt(y.purchaseLimitThreshold,10)>0,hasWarningMessages:!!(y.messages&&y.messages.length),hasPromotion:(y.promoTag.length>0),hasReviews:(y.totalReviewCount>0),hasColorSwatches:(!y.itemSoldOut&&y.colors&&y.colors.length>0),hasSkuVariants:!!(y.skuVariants&&y.skuVariants.length),hasMultipleSkuVariants:!!(y.skuVariants&&y.skuVariants.length&&y.skuVariants.length>1),hasWaitList:q,inStock:!y.itemSoldOut,isColorizationEnabled:true,itemQuantity:y.quantity||1,ratingImageSrc:m,ratingImageAlt:b,productPinterestPage:c,productReviewPage:u,productTellFriendPage:x,productTwitterPage:o,variantsCls:f,displayFitModelContentCopy:(y.productCopyModelShown.length>0),displayFitModelContentComment:(y.fitModelComment.length>0),displayFitModelContentLink:(y.fitModelPopUp.length>0)});}});});Saks.define("Product.imageUtils.QL",function(){var b=null;var l=null;var f=null;var d=null;var m=null;var c=false;var h=null;var k=function(){if(jQuery.browser.msie){if(scene7.currentState==="PLAYING"){scene7.currentState="PAUSED";l.pause();}else{if(scene7.currentState==="init"){m.show();scene7.currentState="PLAYING";g();}else{m.show();scene7.currentState="PLAYING";g();l=jwplayer("videoLoop");}}}else{if(navigator.userAgent.match(/iPad/i)!==null&&Saks.config["scene7HTML"]){if(scene7.currentState==="init"){m.show();jQuery(".video-loader",m).hide();g();scene7.currentState="PLAYING";l.play();}else{if(scene7.currentState==="PAUSED"){m.show();scene7.currentState="PLAYING";l.play();}else{m.pause();l.pause();scene7.currentState="PAUSED";}}}else{if(scene7.currentState==="PLAYING"){scene7.currentState="PAUSED";l.pause();}else{if(scene7.currentState==="PAUSED"){scene7.currentState="PLAYING";m.show().fadeIn(1000);}else{if(scene7.currentState==="init"){scene7.currentState="PLAYING";g();}}}}}};var e=function(){scene7.currentState="PAUSED";if(l&&l.pause){l.pause();}};var g=function(){var n=h;if(n.length<2){m.hide();d.css("display","");return false;}l.setup({flashplayer:"/static/video/player.swf",file:n,height:500,title:"Saks Fifth Avenue",width:399,autoStart:true,repeat:"single",wmode:"transparent",provider:"video",controlbar:{position:"none"},dock:false,icons:false,bufferlength:3,events:{onReady:function(){},onBuffer:function(){if(navigator.userAgent.match(/iPad/i)===null&&!Saks.config["scene7HTML"]){if(scene7.currentState==="PLAYING"){jQuery(".video-loader",m).show();}}},onPlay:function(){d.css("display","");},onPause:function(){if(navigator.userAgent.match(/iPad/i)===null&&!Saks.config["scene7HTML"]){jQuery(".video-loader",m).hide();m.fadeOut(1000,function(){jQuery(this).hide();});}else{if(Saks.config["scene7HTML"]){l.pause();m.hide();}}scene7.currentState="PAUSED";},onIdle:function(){this.pause();scene7.currentState="PAUSED";},onError:function(){scene7.currentState="FAILED";c=true;m.hide();d.css("display","");return false;},onStop:function(){logger.log("STOP!");}}});};var a={init:function(o){var n=[{path:"//s7d9.scene7.com/s7sdk/2.1/js/s7sdk/utils/Utils.js",asynch:true}];Saks.Util.getScripts(n,{callback:function(){a.default_asset=o;s7sdk.Util.lib.include("s7sdk.image.ZoomView");s7sdk.Util.lib.include("s7sdk.common.Container");s7sdk.Util.lib.include("s7sdk.set.Swatches");a.params=new s7sdk.ParameterManager();a.params.push("serverurl","http://s7d9.scene7.com/is/image");a.params.push("asset",a.default_asset);a.params.push("tmblayout","1,0");a.params.push("tmbsize","76,102");a.params.push("cellspacing","0,10");a.params.push("enabledragging","1");a.params.push("stagesize","481,565");a.params.push("size","396,529");a.params.push("resizable","1");a.params.push("singleclick","zoom");a.params.push("doubleclick","reset");a.params.push("iconeffect","0");a.params.addEventListener(s7sdk.Event.SDK_READY,a.initViewer,false);a.params.init();}});},params:null,zoomView:null,container:null,swatches:null,zoomInButton:null,zoomOutButton:null,zoomResetButton:null,videoButton:null,fullscreenButton:null,default_asset:null,initViewer:function(){a.container=new s7sdk.Container("s7container",a.params);a.container.addEventListener(s7sdk.ResizeEvent.COMPONENT_RESIZE,a.resizeViewer,false);a.zoomView=new s7sdk.ZoomView("s7container",a.params,"myZoomView");a.zoomInButton=new s7sdk.ZoomInButton("s7container",a.params,"zoomInBtn");a.zoomInButton.addEventListener("click",function(){a.zoomView.zoomIn();});a.zoomOutButton=new s7sdk.ZoomOutButton("s7container",a.params,"zoomOutBtn");a.zoomOutButton.addEventListener("click",function(){a.zoomView.zoomOut();});a.zoomResetButton=new s7sdk.ZoomResetButton("s7container",a.params,"resetBtn");a.zoomResetButton.addEventListener("click",function(){a.zoomView.zoomReset();});a.videoButton=new s7sdk.Button("videoButton","s7container",null,25,25,"vidButton");a.videoButton.addEventListener("click",function(){a.showVideo();});a.fullscreenButton=new s7sdk.Button("fullscreenButton","s7container",null,20,22,"fullscreenButton");a.fullscreenButton.addEventListener("click",function(){a.showFullScreen();});a.swatches=new s7sdk.Swatches("s7container",a.params,"mySwatches");a.swatches.addEventListener(s7sdk.AssetEvent.SWATCH_SELECTED_EVENT,a.swatchSelected,false);a.zoomView.addEventListener(s7sdk.CapabilityStateEvent.NOTF_ZOOM_CAPABILITY_STATE,a.adjustButtons,false);a.swatches.selectSwatch(0,true);if(navigator.userAgent.match(/iPad/i)!==null&&Saks.config["scene7HTML"]){jQuery("#fullscreenButton").css("left","180px");jQuery("#videoButton").css("display","block");}},adjustButtons:function(n){if(n.s7event.state.hasCapability(s7sdk.ZoomCapabilityState.ZOOM_IN)){a.zoomInButton.activate();}else{a.zoomInButton.deactivate();}if(n.s7event.state.hasCapability(s7sdk.ZoomCapabilityState.ZOOM_OUT)){a.zoomOutButton.activate();}else{a.zoomOutButton.deactivate();}if(n.s7event.state.hasCapability(s7sdk.ZoomCapabilityState.ZOOM_RESET)){a.zoomResetButton.activate();}else{a.zoomResetButton.deactivate();}},showVideo:function(){k();},showFullScreen:function(){var n="//s7d9.scene7.com/s7viewers/html5/genericZoomMobile.html?serverUrl=http://s7d9.scene7.com/is/image/&config=Scene7SharedAssets/ImageSet_HTML5&contentRoot=http://s7d9.scene7.com/skins/&asset="+a.default_asset;window.open(n,"Saks.com",",type=fullWindow,fullscreen,scrollbars=no");},resizeViewer:function(n){a.zoomView.resize(n.s7event.w,n.s7event.h);},swatchSelected:function(n){a.zoomView.setItem(n.s7event.asset);},switchimage:function(){a.swatches.setAsset("saks/0474789318128_IS");a.zoomView.setAsset("saks/0460348734843_ASTL-1");},switchset:function(){a.swatches.setAsset("saks/0459988353897_IS");a.swatches.selectSwatch(0,false);}};return{HTMLPlayer:a,initializeVideoPlayerControls:function(n,o){b=n||jQuery("body");scene7.currentState="init";d=jQuery("#flashContent",b);m=jQuery(".video-container",b);f=jQuery("#videoLoop_wrapper",b);l=jwplayer("videoLoop");h=o;k();},playVideo:function(){k();},stopVideo:function(){if(flash9Installed){e();}},playerButtonsControl:function(){logger.log("inside playerButtonsControl - QL");e();},playerThumbnailsControl:function(){logger.log("inside playerThumbnailsControl - QL");e();d.find(".zoom-colorization-information").hide();},currentState:"init"};});Saks.define("Quicklook.View.Dialog",function(b){var c="touchstart" in window,a="onorientationchange" in window?"orientationchange":"resize";return Backbone.View.extend({model:null,options:{template:null,partials:null,width:468,height:"auto",dialogClass:"",genericErrorMsg:"An error has occurred while processing your request. Please try again later.",enableAnimation:true,animationInDuration:300,animationInEasing:"easeInCubic",animationOutDuration:300,animationOutEasing:"easeOutCubic"},tagName:"div",className:"clearfix",events:function(){return c?{"touchend .tell-a-friend-button":"shareIt","touchend .twitter-button":"tweetIt","touchend .color-swatch":"editProductColor","touchend .cancel-edit":"closeOnCancel","touchend .read-review":"readProductReview","touchend .market-price-info":"displayMarketInfo","touchend .market-price-info-close":"displayMarketInfo","submit form":"onSubmit","change [name=sku_id]":"onProductVariantChange"}:{"click .tell-a-friend-button":"shareIt","click .twitter-button":"tweetIt","click .color-swatch":"editProductColor","click .cancel-edit":"closeOnCancel","click .read-review":"readProductReview","click .market-price-info":"displayMarketInfo","click .market-price-info-close":"displayMarketInfo","submit form":"onSubmit","change [name=sku_id]":"onProductVariantChange"};},initialize:function(){_.bindAll(this,"closeOnCancel","onOpen","onBeforeClose","onClose","onOpenTransitionEnd","onCloseTransitionEnd","updatePosition");this.isAnimationEnabled=false;this.inner={};this.throttled={updatePosition:_.throttle(this.updatePosition,100)};this.inner.$content=b("<div></div>").addClass("content-subview");this.inner.$loading=b("<div></div>").addClass("loading-subview");this.inner.$error=b("<div></div>").addClass("error-subview").append(b("<p>"+this.options.genericErrorMsg+"</p>"));this.$el.append(this.inner.$content);this.$el.append(this.inner.$loading);this.$el.append(this.inner.$error);this.model.on("change",this.render,this);this.model.on("destroy",this.destroy,this);if(!this.$el.parent()){this.$el.appendTo(b("body"));}this.$el.dialog({dialogClass:"quicklook "+this.options.dialogClass,modal:true,height:this.options.height,width:this.options.width,resizable:false,draggable:false,autoOpen:false,zIndex:1500,open:this.onOpen,close:this.onClose,beforeClose:this.onBeforeClose,closeOnEscape:false});if(this.options.enableAnimation){this.enableAnimation();}},enableAnimation:function(){this.$el.dialog("option",{show:{effect:"fade",duration:this.options.animationInDuration,easing:this.options.animationInEasing,complete:this.onOpenTransitionEnd},hide:{effect:"fade",duration:this.options.animationOutDuration,easing:this.options.animationOutEasing,complete:this.onCloseTransitionEnd}});this.isAnimationEnabled=true;return this;},disableAnimation:function(){this.$el.dialog("option",{show:null,hide:null});this.isAnimationEnabled=false;return this;},render:function(){var d=this.model.toJSON(),e;if(_.isEmpty(d)){this.inner.$content.empty();}else{this.inner.$content.html(Mustache.render(this.options.template,d,this.options.partials));this.inner.$content.find(".product-info-tabs").tabs();this.inner.$content.find(this.getMessageSelector("info")).hide();this.inner.$content.find(this.getMessageSelector("error")).hide();this.inner.$content.find(this.getMessageSelector("warning")).hide();this.displaySelectedProductVariantMessage();this.parseSocialLinks();}return this;},changeFormState:function(d){switch(d.toLowerCase()){case"sending":this.inner.$content.find(".sending-indicator").show();break;case"disable":this.inner.$content.find(".sending-indicator").show();this.inner.$content.find("button").prop("disabled",true);break;case"ready":this.inner.$content.find(".sending-indicator").hide();this.inner.$content.find("button").prop("disabled",false);break;default:this.inner.$content.find(".sending-indicator").hide();this.inner.$content.find("button").prop("disabled",false);break;}return this;},hideSubViews:function(){this.inner.$content.hide();this.inner.$loading.hide();this.inner.$error.hide();return this;},showSubView:function(d){this.hideSubViews();switch(d.toLowerCase()){case"content":this.inner.$content.show();break;case"loading":this.inner.$loading.show();break;case"error":this.inner.$error.show();break;}this.updatePosition();return this;},parseSocialLinks:(function(){function d(e,f){var h=window.FB,g=window.gapi;if(h&&h.XFBML&&h.XFBML.parse){e.find(".fb-like-button").each(function(){h.XFBML.parse(this);});}if(g&&g.plusone&&g.plusone.go){e.find(".g-plusone").each(function(){g.plusone.render(this,{href:f,size:"medium",annotation:"none"});});}}return function(){var g=[];var e=this.model.toJSON();if(!window.FB){g.push({path:"//connect.facebook.net/en_US/all.js",asynch:true});if(!window.fbAsyncInit){window.fbAsyncInit=function(){FB.init({appId:"248825175154836",status:true,cookie:true,xfbml:true,channel:"/static/html/channel.js"});};}if(!document.getElementById("fb-root")){var f=document.createElement("div");f.id="fb-root";document.body.appendChild(f);}}if(!window.gapi){g.push({path:"//apis.google.com/js/plusone.js",asynch:true});if(!window.___gcfg){window.___gcfg={lang:"en-US",parsetags:"explicit"};}}b('script[src*="assets.pinterest.com/js/pinit.js"]').remove();g.push({path:"//assets.pinterest.com/js/pinit.js?r="+(Math.random()*99999999),asynch:true});if(!g.length){d.call(this,this.inner.$content,e.canonicalPDP);}else{Saks.Util.getScripts(g,{callback:d,bind:this,args:[this.inner.$content,e.canonicalPDP]});}return this;};}()),openWindow:function(e){if(!e){e={};}var d,f;if(e.width&&e.height){d={left:(screen.width/2)-(e.width/2),top:(screen.height/2)-(e.height/2)};f=["width=",e.width,",","height=",e.height,",","top=",d.top,",","left=",d.left,",","scrollbars=yes"].join("");}if(f){window.open(e.href,(e.name||"_blank"),f);}else{window.open(e.href,(e.name||"_blank"));}},readProductReview:function(d){d.preventDefault();this.openWindow({href:b(d.target).closest(".read-review").attr("href"),width:740,height:460});},displayMarketInfo:function(e){e.preventDefault();var d=this.inner.$content.find(".market-price-info-content");if(d.is(":visible")){d.hide();}else{d.show();}},tweetIt:function(d){d.preventDefault();this.openWindow({href:b(d.target).closest(".twitter-button").attr("href"),width:550,height:420});},shareIt:function(d){d.preventDefault();this.openWindow({href:b(d.target).closest(".tell-a-friend-button").attr("href")});},updatePosition:function(d){this.$el.dialog("option","position","center");},changeProductViewer:function(e){var f=this.$(".rfx-frame")[0].contentWindow,d=f&&f.RICHFX,g;if(d&&e&&e.mediaId&&e.mediaBackup){g=d.api("productImage","imageZoom");if(g&&g.changeMedia){g.changeMedia(e.mediaId,e.mediaBackup);}}},editProductColor:function(d){d.preventDefault();this.updateScene7Player(b(d.target));},updateScene7Player:function(f){var h=f.data("url");var d=f.attr("data-key");if(typeof scene7==="object"&&scene7&&scene7.stopVideo){scene7.stopVideo();}if(!h||h.length<1){return;}var g=document.getElementById("_productViewer");var e=document.getElementById("_productViewer_inner");if(e&&e.setImage&&flash9Installed){e.setImage(h);}else{if(g&&g.setImage&&flash9Installed){g.setImage(h);}else{if(!flash9Installed&&Saks.config["scene7HTML"]){scene7.HTMLPlayer.zoomView.setAsset(h);}}}if(d&&d.length>1){b("#flashContent").find(".zoom-colorization-information").show().find("span").empty().append(d);}},onProductVariantChange:function(d){this.displaySelectedProductVariantMessage();this.updateProductViewer();},displaySelectedProductVariantMessage:function(){var f=this.model.toJSON(),d=f.skuVariants,g,e;if(d&&d.length){if(d.length===1){e=0;}else{e=this.$el.find('[name="sku_id"]').prop("selectedIndex");}g=d[e];if(g&&g.message&&g.message.length){this.addMessages("info",g.message);}else{this.removeMessages("info");}}},updateProductViewer:function(){var f=this.model.toJSON(),d=f.skuVariants,e,g;if(d&&d.length){e=this.$el.find('select[name="sku_id"]');g=e.find("option:selected");this.updateScene7Player(g);}},getMessageSelector:function(e){var d=null;switch(e.toUpperCase()){case"INFO":d=".info-message";break;case"WARN":d=".warn-message";break;case"ERROR":d=".error-message";break;}return d;},addMessages:function(d,f){if(typeof f==="string"){f=[{message:f}];}var e=Mustache.render(this.options.partials.productMessages,{messages:f});this.inner.$content.find(this.getMessageSelector(d)).html(e).fadeIn(400);this.updatePosition();return this;},removeMessages:function(d){this.inner.$content.find(this.getMessageSelector(d)).fadeOut(400,this.updatePosition);return this;},closeOnCancel:function(d){d.preventDefault();if(window.layer){layer.closeToStep();}this.close();},onSubmit:function(d){d.preventDefault();this.trigger("submit",b(d.target).closest("form").serializeObject());},onOpenTransitionEnd:function(){this.updatePosition();this.trigger("openTransitionEnd");},onCloseTransitionEnd:function(){this.trigger("closeTransitionEnd");},onOpen:function(e){var d=this.inner.$content.find(".rfx-wrap");if(d.length){d.css("display","block");}b(window).bind(a,this.throttled.updatePosition);b(".ui-widget-overlay").bind("click",this.closeOnCancel);this.updatePosition();this.trigger("open");},onBeforeClose:function(e){var d=this.inner.$content.find(".rfx-wrap");if(d.length){d.css("display","none");}},onClose:function(d){b(window).unbind(a,this.throttled.updatePosition);if(d.originalEvent&&b(d.originalEvent.target).closest(".ui-dialog-titlebar-close").length){if(window.layer){layer.closeToStep();}}this.inner.$content.find(".market-price-info-content").hide();this.trigger("close");var e=jwplayer("videoLoop");if(e){e.remove();}scene7=null;},toElement:function(){return this.el;},open:function(d){this.$el.dialog("open");return this;},close:function(d){this.$el.dialog("close");return this;},isOpen:function(){return this.$el.dialog("isOpen");},destroy:function(){this.remove();}});});(function(a){var c=!!("placeholder" in document.createElement("input"));var b={init:function(){return this.each(function(){var d=a(this);d.filter("[placeholder]").bind({focus:b.hide,blur:b.show}).closest("form").bind({submit:b.clear});if(a.browser.msie){d.bind("focus.placeholder",b.fixIECursor);}b.show.call(this);});},fixIECursor:function(){if(this.value!=""){return;}var d=this.createTextRange();d.collapse(true);d.moveStart("character",0);d.select();},hide:function(){var d=a(this);if(d.val()==d.attr("placeholder")){d.removeClass("placeholder").val("");}},show:function(){var d=a(this);if(d.val()==""||d.val()==d.attr("placeholder")){d.addClass("placeholder").val(d.attr("placeholder"));}},clear:function(){a(this).find("[placeholder]").each(b.hide);}};a.fn.placeholder=function(){return c?this:b.init.apply(this,arguments);};})(jQuery);if(!Array.indexOf){Array.prototype.indexOf=function(b){for(var a=0;a<this.length;a++){if(this[a]==b){return a;}}return -1;};}if(!Array.indexOfObject){Array.prototype.indexOfObject=function(c,b){var d={};d[b]=c;for(var a=0;a<this.length;a++){if(this[a][b]===d[b]){return a;}}return -1;};}if(!Array.getObjectFromArray){Array.prototype.getObjectFromArray=function(c,b){for(var a=0;a<this.length;a++){if(this[a][b]===c){return this[a];}}return -1;};}var saksPager=(function(){var a=document.location.pathname.toLowerCase();return{isOnPage:function(b){b=b.toLowerCase();return a.indexOf(b)>-1?true:false;},currentPath:function(){return a;},isOnPages:function(c){c=c.toLowerCase().replace(/\s+/g,"");c=c.split(",");var b=false;for(j=0;j<c.length;j++){if(a.indexOf(c[j])>-1){b=true;}}return b;}};})();var queryParamFetcher=(function(k){var f={};var l,b=/\+/g,g=/([^&;=]+)=?([^&;]*)/g,m=function(a){return decodeURIComponent(a.replace(b," "));},h=window.location.search.substring(1);while(l=g.exec(h)){f[m(l[1])]=m(l[2]);}var c=function(a){return f[a];};return{getParamValue:c};})(jQuery);function emitSpclChr(a){for(j=0;j<a.length;j++){thisChar=a.charAt(j);if(thisChar=="<"||thisChar==">"||thisChar=="?"||thisChar=="*"||thisChar=="("||thisChar==")"){a=a.replace(thisChar,"");j=j-1;}}return(a);}function loadNumItems(){var h="saksBagNumberOfItems";var k="numItemsLink";var g="item-count";var a=null;if(document.cookie&&document.cookie!=""){var l=document.cookie.split(";");for(var d=0;d<l.length;d++){var b=(l[d]||"").replace(/^\s+|\s+$/g,"");if(b.substring(0,h.length+1)==(h+"=")){a=decodeURIComponent(b.substring(h.length+1));break;}}}if(null==a){a="0";createCookie(h,a,365);}var f=document.getElementById(k);var e=f!=null?f:parent.document.getElementById(k);var c=document.getElementById(g);if(e){e.innerHTML=a+(a==1?" item":" items");}if(c){c.innerHTML=a;}}function getRealEstate(b){var d=null;var a=window.location.href;var c=urlToQueryParam(a);if(c!=null){d=c[b];}if(d==null||d===undefined){d="";}d=d.split("#")[0];return d;}function urlToQueryParam(f){var c={};if(f.indexOf("?")>-1){f=f.substring(f.indexOf("?")+1);}var k,b=/\+/g,g=/([^&;=]+)=?([^&;]*)/g,l=function(a){return decodeURIComponent(a.replace(b," "));},h=f;while(k=g.exec(h)){c[l(k[1])]=l(k[2]);}return c;}function randomString(){var d="!0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz-";var e=56;var c="";for(var b=0;b<e;b++){var a=Math.floor(Math.random()*d.length);c+=d.substring(a,a+1);}return c;}function blurSearch(){var a=jQuery("#saksSearch").find('[name="SearchString"]');if(!a.val().length){a.val("Search");}}function focusSearch(){var a=jQuery("#saksSearch").find('[name="SearchString"]');if(a.val().match(/^Search$/i)){a.val("");}}var receiveReqNumItems;var numItemsReturned;var SaksBagImg;function getNumberofItems(){receiveReqNumItems=getXmlHttpRequestObjectItems();loadNumItems();}function getObjItems(a){if(document.getElementById){return document.getElementById(a);}else{if(document.getElementsByName){return document.getElementsByName(a);}else{if(document.getElementsByTagName){return document.getElementsByTagName(a);}else{if(document.all){return document.all[a];}else{return false;}}}}}function getXmlHttpRequestObjectItems(){if(window.XMLHttpRequest){return new XMLHttpRequest();}else{if(window.ActiveXObject){return new ActiveXObject("Microsoft.XMLHTTP");}else{}}}var sPath=window.location.pathname;var sPage=sPath.substring(sPath.lastIndexOf("/")+1);ie5=(document.all&&document.getElementById&&(navigator.userAgent.indexOf("Opera")<0));ns6=(!document.all&&document.getElementById||(navigator.userAgent.indexOf("Opera")>=0));opac=0;if(sPage.indexOf("Entry")>-1){MyLeft=0;}else{MyLeft=0;}var docTitle=document.title;if(docTitle.indexOf("Payment method")>-1){myTop=141;}else{if(docTitle.indexOf("Search Sale")>-1){myTop=141;}else{if(docTitle.indexOf("elite_mastercard_apply")>-1){myTop=410;}else{myTop=141;}}}var myHeight=1;var layerOpened=false;function slideIn(d,a,c,b){if(isIE){HidePullDown();}myOpen(d,a);}function myOpen(b,a){if(!layerOpened){jQuery("#"+b).slideDown(1500,function(){layerOpened=true;});}}function slideOut(a){jQuery("#"+a).slideUp(1000,function(){layerOpened=false;if(isIE){ShowPullDown();}});}function blindDownLayerFinished(){}var blindUpLayerFinished=function(){};function fadeIn(a){if(isIE){HidePullDown();}if(opac!=100){opac+=4;if(ie5){document.getElementById(a).filters.alpha.opacity=opac;}if(ie5){document.all[a].style.left=MyLeft;}if(ie5){document.all[a].style.top=myTop;}if(ns6){document.getElementById(a).style.MozOpacity=opac/100;}if(ns6){document.getElementById(a).style.left=MyLeft;}if(ns6){document.getElementById(a).style.top=myTop;}setTimeout("fadeIn('"+a+"')",25);}else{return;}}function testMyX(b){b=document.getElementById(b);var a=findPos(b);document.getElementById("Layer1").style.left=a[0];}function setLyr(f,d){var e=findPos(f);var c=window.location.pathname;var b=c.substring(c.lastIndexOf("/")+1);if((b.indexOf("Entry")>-1)||(b.indexOf("wac2_bc")>-1)||(b.indexOf("incubator_bc")>-1)){HomePage=true;}else{HomePage=false;}if(!HomePage){e[1]-=300;}var a=new getObj(d);a.style.top=e[1]+"px";}function findPos(a){var b=curtop=0;if(a.offsetParent){b=a.offsetLeft;curtop=a.offsetTop;while(a=a.offsetParent){b+=a.offsetLeft;curtop+=a.offsetTop;}}return[b,curtop];}function getObj(a){if(document.getElementById){this.obj=document.getElementById(a);this.style=document.getElementById(a).style;}else{if(document.all){this.obj=document.all[a];this.style=document.all[a].style;}else{if(document.layers){if(document.layers[a]){this.obj=document.layers[a];this.style=document.layers[a];}else{this.obj=document.layers.testP.layers[a];this.style=document.layers.testP.layers[a];}}}}}function popupwin(c,d,a,b){if(b==null||b==""){var e=window.open(c,"saksPopup","width="+d+",height="+a+",toolbar=no,location=no,scrollbars=yes,resizable=yes,menubar=no,status=no");e.focus();}else{var e=window.open(c,b,"width="+d+",height="+a+",toolbar=no,location=no,scrollbars=yes,resizable=yes,menubar=no,status=no");e.focus();}}function popupwinName(c,b,d,a){window.open(c,b,"width="+d+",height="+a+",toolbar=no,location=no,scrollbars=yes,resizable=yes,menubar=no,status=no");}function popupWinFixed(b,c,a){window.open(b,"saksPopup","width="+c+",height="+a+",toolbar=no,location=no,scrollbars=no,resizable=no,menubar=no,status=no");}function popupWinFixed2(c,d,a,b){if(c.toLowerCase().indexOf("live_help.jsp")>-1){if(c.indexOf(".jsp?")>-1){c+="&refPath="+encodeURIComponent(window.location.pathname+window.location.search);}else{c+="?refPath="+encodeURIComponent(window.location.pathname+window.location.search);}}if(b==null||b==""){window.open(c,"saksPopup","width="+d+",height="+a+",toolbar=no,location=no,scrollbars=no,resizable=yes,menubar=no,status=no");}else{window.open(c,b,"width="+d+",height="+a+",toolbar=no,location=no,scrollbars=no,resizable=yes,menubar=no,status=no");}}function openInNewTab(b,a){window.open(a,"_blank");}function chooseAndGo(a){if(a.options[a.selectedIndex].value){location.href=a.options[a.selectedIndex].value;}else{a.selectedIndex=0;}}function enabledQLButtons(){lightwindowInit();if(DetectFlashVer(9,0,0)||getRealEstate("testJSvideo")){jQuery(".videoLink","#saksBody").css("display","block");if(window.autoVideoRender){autoVideoRender.triggerVideoOnLoad();}}}function setQuickLookOmniture(b,a,c){s.pageName=b;s.channel="productArray";s.events="prodView";s.products=a;s.prop1="quicklook";s.eVar42=c;void (s.t());}function setVideoTemplateOmniture(a){s.pageName=a;s.channel="editorial";s.prop1="video";void (s.t());}function checkPlayVideoOmniture(a){s.products=";"+a+";;;;evar28=Product Array";s.events="event12";void (s.t());}function ShowHideSectionDiv(c,f){var d,g,l,h;if(document.getElementById){h=1;d=document.getElementById(c);g=document.getElementById(f);}else{if(document.all){h=2;d=document.all[c];g=document.all[f];}else{if(document.layers){h=3;d=document.layers[c];g=document.layers[f];}}}var k=0;for(var b=1;b<99;b++){if(h==1){if(document.getElementById("cat"+b+"a")){k++;}else{k++;break;}}else{if(h==2){if(document.all["cat"+b+"a"]){k++;}else{k++;break;}}else{if(h==3){if(document.layers["cat"+b+"a"]){k++;}else{k++;break;}}}}}var a;for(var m=1;m<k;m++){a="cat"+m+"a";category_now1="cat"+m+"a1";if(a!=c){if(h==1){document.getElementById(a).style.display="none";document.getElementById(category_now1).className="leftNavText";}else{if(h==2){document.all[a].style.display="none";document.all[category_now1].className="leftNavText";}else{if(h==3){document.layers[a].style.display="none";document.layers[category_now1].className="leftNavText";}}}}}l=d.style;if(l.display==""&&d.offsetWidth!=undefined&&d.offsetHeight!=undefined){l.display=(d.offsetWidth!=0&&d.offsetHeight!=0)?"block":"none";}l.display=(l.display==""||l.display=="block")?"none":"block";if(l.display=="block"){g.className="leftNavBold";}else{g.className="leftNavText";}}function HidePullDown(){var b=window.location.pathname;var a=b.substring(b.lastIndexOf("/")+1);if(document.getElementById("leftNavBrands")!=null){document.getElementById("leftNavBrands").style.visibility="hidden";}if(document.getElementById("cboSortBy")!=null){document.getElementById("cboSortBy").style.visibility="hidden";}if(document.getElementById("display")!=null){document.getElementById("display").style.visibility="hidden";}if(document.getElementById("srt")!=null){document.getElementById("srt").style.visibility="hidden";}if((document.getElementById("CREDIT_CARD<>cardBrand_cd")!=null)&&!(a.indexOf("qas_ver")>-1)&&!(a.indexOf("PayMethod")>-1)){document.getElementById("CREDIT_CARD<>cardBrand_cd").style.visibility="hidden";}if(document.getElementById("CART_ITEM_ARRAY<>shipToID")!=null){document.getElementById("CART_ITEM_ARRAY<>shipToID").style.visibility="hidden";}if(document.getElementById("CART_ITEM_ARRAY<>shippingMethod")!=null){document.getElementById("CART_ITEM_ARRAY<>shippingMethod").style.visibility="hidden";}if(document.getElementById("Line1")!=null){document.getElementById("Line1").style.visibility="hidden";}if(document.getElementById("SHIP_TO_ADDRESS<>indGift")!=null){document.getElementById("SHIP_TO_ADDRESS<>indGift").style.visibility="hidden";}if(document.getElementById("BILL_TO_ADDRESS<>indGift")!=null){document.getElementById("BILL_TO_ADDRESS<>indGift").style.visibility="hidden";}if((document.getElementById("CREDIT_CARD<>cardMonth_cd")!=null)&&!(a.indexOf("mng_CreditCard")>-1)){document.getElementById("CREDIT_CARD<>cardMonth_cd").style.visibility="hidden";}if((document.getElementById("CREDIT_CARD<>cardYear_cd")!=null)&&!(a.indexOf("mng_CreditCard")>-1)){document.getElementById("CREDIT_CARD<>cardYear_cd").style.visibility="hidden";}if(document.getElementById("ADD_CART_ITEM_ARRAY<>sku_id")!=null){document.getElementById("ADD_CART_ITEM_ARRAY<>sku_id").style.visibility="hidden";}if(document.getElementById("ADD_CART_ITEM<>sku_id")!=null){document.getElementById("ADD_CART_ITEM<>sku_id").style.visibility="hidden";}if(document.getElementById("Title")!=null){document.getElementById("Title").style.visibility="hidden";}if(document.getElementById("monthDOB")!=null){document.getElementById("monthDOB").style.visibility="hidden";}if(document.getElementById("dayDOB")!=null){document.getElementById("dayDOB").style.visibility="hidden";}if(document.getElementById("store_codes")!=null){document.getElementById("store_codes").style.visibility="hidden";}if(document.getElementById("errN")!=null){document.getElementById("errN").style.visibility="hidden";}if(document.getElementById("ShopByPage")!=null){document.getElementById("ShopByPage").style.visibility="hidden";}}function ShowPullDown(){if(document.getElementById("leftNavBrands")!=null){document.getElementById("leftNavBrands").style.visibility="visible";}if(document.getElementById("cboSortBy")!=null){document.getElementById("cboSortBy").style.visibility="visible";}if(document.getElementById("display")!=null){document.getElementById("display").style.visibility="visible";}if(document.getElementById("srt")!=null){document.getElementById("srt").style.visibility="visible";}if(document.getElementById("CREDIT_CARD<>cardBrand_cd")!=null){document.getElementById("CREDIT_CARD<>cardBrand_cd").style.visibility="visible";}if(document.getElementById("CART_ITEM_ARRAY<>shipToID")!=null){document.getElementById("CART_ITEM_ARRAY<>shipToID").style.visibility="visible";}if(document.getElementById("CART_ITEM_ARRAY<>shippingMethod")!=null){document.getElementById("CART_ITEM_ARRAY<>shippingMethod").style.visibility="visible";}if(document.getElementById("Line1")!=null){document.getElementById("Line1").style.visibility="visible";}if(document.getElementById("SHIP_TO_ADDRESS<>indGift")!=null){document.getElementById("SHIP_TO_ADDRESS<>indGift").style.visibility="visible";}if(document.getElementById("BILL_TO_ADDRESS<>indGift")!=null){document.getElementById("BILL_TO_ADDRESS<>indGift").style.visibility="visible";}if(document.getElementById("CREDIT_CARD<>cardMonth_cd")!=null){document.getElementById("CREDIT_CARD<>cardMonth_cd").style.visibility="visible";}if(document.getElementById("CREDIT_CARD<>cardYear_cd")!=null){document.getElementById("CREDIT_CARD<>cardYear_cd").style.visibility="visible";}if(document.getElementById("ADD_CART_ITEM_ARRAY<>sku_id")!=null){document.getElementById("ADD_CART_ITEM_ARRAY<>sku_id").style.visibility="visible";}if(document.getElementById("ADD_CART_ITEM<>sku_id")!=null){document.getElementById("ADD_CART_ITEM<>sku_id").style.visibility="visible";}if(document.getElementById("Title")!=null){document.getElementById("Title").style.visibility="visible";}if(document.getElementById("monthDOB")!=null){document.getElementById("monthDOB").style.visibility="visible";}if(document.getElementById("dayDOB")!=null){document.getElementById("dayDOB").style.visibility="visible";}if(document.getElementById("store_codes")!=null){document.getElementById("store_codes").style.visibility="visible";}if(document.getElementById("errN")!=null){document.getElementById("errN").style.visibility="visible";}if(document.getElementById("ShopByPage")!=null){document.getElementById("ShopByPage").style.visibility="visible";}}function ShowAllPullDowns(){if(document.ordersum_ru){AllSelectsOnForm(document.ordersum_ru,"visible");}if(document.mngSaveShipping){AllSelectsOnForm(document.mngSaveShipping,"visible");}if(document.mngSaveBilling){AllSelectsOnForm(document.mngSaveBilling,"visible");}if(document.EditBillAddress){AllSelectsOnForm(document.EditBillAddress,"visible");}if(document.AddBillAddress){AllSelectsOnForm(document.AddBillAddress,"visible");}if(document.EditShipAddress){AllSelectsOnForm(document.EditShipAddress,"visible");}if(document.AddShipAddress){AllSelectsOnForm(document.AddShipAddress,"visible");}if(document.multiship){AllSelectsOnForm(document.multiship,"visible");}if(document.mngNewCard){AllSelectsOnForm(document.mngNewCard,"visible");}if(document.email_updates_collect){AllSelectsOnForm(document.email_updates_collect,"visible");}if(document.choosenPage){AllSelectsOnForm(document.choosenPage,"visible");}}function HideAllPullDowns(){if(document.ordersum_ru){AllSelectsOnForm(document.ordersum_ru,"hidden");}if(document.mngSaveShipping){AllSelectsOnForm(document.mngSaveShipping,"hidden");}if(document.mngSaveBilling){AllSelectsOnForm(document.mngSaveBilling,"hidden");}if(document.EditBillAddress){AllSelectsOnForm(document.EditBillAddress,"hidden");}if(document.AddBillAddress){AllSelectsOnForm(document.AddBillAddress,"hidden");}if(document.EditShipAddress){AllSelectsOnForm(document.EditShipAddress,"hidden");}if(document.AddShipAddress){AllSelectsOnForm(document.AddShipAddress,"hidden");}if(document.multiship){AllSelectsOnForm(document.multiship,"hidden");}if(document.mngNewCard){AllSelectsOnForm(document.mngNewCard,"hidden");}if(document.email_updates_collect){AllSelectsOnForm(document.email_updates_collect,"hidden");}if(document.choosenPage){AllSelectsOnForm(document.choosenPage,"hidden");}}function AllSelectsOnForm(a,b){for(i=0;i<a.elements.length;i++){if((a.elements[i].type=="select-one")||(a.elements[i].type=="select-multiple")||(a.elements[i].type=="select")){a.elements[i].style.visibility=b;}}}function showReplaceText(c){var a="colorSizeBR";var b;for(i=0;i<7;i++){b=a+i;if(document.getElementById(b)){document.getElementById(b).innerHTML=c;}}a="colorSizePlainBR";for(j=0;j<7;j++){b=a+j;if(document.getElementById(b)){document.getElementById(b).innerHTML=c;}}}var logger=(function(){var c=document.location.hostname.toLowerCase();var d=(window.console)?true:false;var b=(c.indexOf("qa.saksdirect")>-1||c.indexOf("preview.saksdirect")>-1||c.indexOf("devslot")>-1||c.indexOf("qaslot")>-1)?true:false;var a=(document.location.pathname.toLowerCase().indexOf("globalspecrunner.html")>-1)?true:false;return{log:function(e){if(d&&(b||a)){console.log(e);}}};})();var saksUtils={cleanInput:function(a){return a.replace(/[\<\>\?\*\(\)\%]/g,"");}};var rfxInterface=(function(a){return{getRFXInterface:function(){if(window.location.protocol.toLowerCase().indexOf("https")==-1){return a("#rfx-ql-frame")[0].contentWindow.RICHFX;}}};})(jQuery);var sksTicker=(function(b){var a="ticktock";return{tickTock:function(c){c.addClass(a);},done:function(c){c.removeClass(a);}};})(jQuery);var sksCaptcha=(function(g){var f={theme:"blackglass"};var d=null;var a=true;var e=function(k,h){var l=k.recaptcha;if(a&&l&&l[h]){d=l.recaptchaPublicKey;}};var c=function(h){if(a&&d){g.getScript("http://www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){Recaptcha.create(d,h,{theme:f.theme,callback:Recaptcha.focus_response_field});});}else{logger.log("Captcha is disabled or not initialized:");logger.log("_enabled -> "+a);logger.log("_key -> "+d);}};var b=function(k,h){if(a&&d){k.recaptcha_response_field=Recaptcha.get_response();k.recaptcha_challenge_field=Recaptcha.get_challenge();}};return{initialize:e,getCaptcha:c,retrieveInputs:b};})(jQuery);var timeStamper=(function(){var a=function(){return new Date().getTime();};return{stamp:function(){return a();}};})();var omnitureManager=(function(c){var a={_send:function(g,e){logger.log("--- SENDING DATA TO OMNITURE ---");var f=c.extend({},this,g,e);logger.log(f);for(var d in f){if(f.hasOwnProperty(d)&&s.hasOwnProperty(d)){s[d]=f[d];}}void (s.t());},quicklook:{setup:function(d){var f={};if(d){f.pageName="quicklook:"+d.productName+":"+d.shortDescription;f.products=";"+d.productCode+";;;;evar4=Regular:"+d.productName;if(sksItemModel.getProductInfo("_esreValue")){if(sksItemModel.getProductInfo("_esreValue").indexOf("~")>-1){var e=sksItemModel.getProductInfo("_esreValue").split("~");f[e[0]]=e[1];}else{f.eVar42=sksItemModel.getProductInfo("_esreValue");}}}logger.log("quick look omniture setup");logger.log(f);return f;},defaults:{channel:"productArray",events:"prodView",prop1:"quicklook"}},findinstore:{setup:function(d){return{};},defaults:{pageName:"find in store:landing",channel:"productArray",events:"event41",prop1:"quicklook"}},findinstoreresults:{setup:function(d){return{};},defaults:{pageName:"find in store:results",channel:"productArray",events:"event42",prop1:"quicklook"}},reserveInStore:{setup:function(d){return{};},defaults:{pageName:"find in store: reserve",events:"event46"}},reserveInStoreConfirm:{setup:function(d){return{eVar13:d?d.eml:""};},defaults:{pageName:"find in store: confirmation",events:"event47"}},ffWLLanding:{setup:function(d){return{prop53:saksFFWaitList.omn_click_location};},defaults:{pageName:"offprice:waitlist:landing",channel:"offprice",prop1:"offprice:waitlist",events:"event52"}},ffWLConfirmation:{setup:function(d){return{eVar13:d.emailAddres};},defaults:{pageName:"offprice:waitlist:confirmation",channel:"offprice",prop1:"offprice:waitlist",eVar57:"Waitlist User",events:"event53"}},alfrescoVideo:{setup:function(d){return{pageName:d.videoPageName};},defaults:{pageName:"editorial: video"}},homepage:{setup:function(d){return{eVar3:d.realEstate};},defaults:{}}};var b={ping:function(f,d,e){logger.log("ping with type: "+f);a._send.call(a[f].defaults,a[f].setup(d),e);}};Saks.module("Mediator").subscribe("ANALYTICS:OMNITURE",b.ping,b);return b;})(jQuery);var sksGlobalAjax=(function(f){var e=false;var b=function(g,k,h){logger.log("--- DEFAULT ERROR HANDLER ---");logger.log("jqXHR -->");logger.log(g);logger.log("textStatus -->");logger.log(k);logger.log("errorThrown -->");logger.log(h);};var c=function(g,h){logger.log("--- DEFAULT COMPLETE HANDLER ---");e=false;};var d=function(g,h){if(!e){e=true;return f.ajax({url:g.url,type:g.type||"GET",dataType:g.dataType||"json",data:g.data,success:g.success,complete:function(){if(g.complete){g.complete();}c();if(h){h();}},error:g.error||b});}};var a=function(h,g){f.ajax({url:h.url,type:h.type||"GET",dataType:h.dataType||"json",data:h.data,success:g||function(){logger.log("NO CALL BACK HANDED TO AJAX");},error:h.error||b});};return{ajaxRequest:d,resetRequesting:function(){e=false;},ajaxAsyncRequest:a};})(jQuery);function domainFromHost(b){var e=b.split(":");var d=e[0];var c;if(e.length==2){c=":"+e[1];}else{c="";}var a=d.split(".");if(!isNaN(a[a.length-1])||a.length==1){return"";}return"."+a.slice(Math.min(a.length-2,1),a.length).join(".")+c;}function domainSection(a){var b=domainFromHost(a);if(b==""){return"";}else{return" domain="+b+";";}}function createCookie(c,d,e){if(e){var b=new Date();b.setTime(b.getTime()+(e*24*60*60*1000));var a="; expires="+b.toGMTString();}else{var a="";}document.cookie=c+"="+d+a+"; path=/;"+domainSection(window.location.host);}function getCookie(b){var e=b+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length);}if(f.indexOf(e)==0){return f.substring(e.length,f.length);}}return null;}function eraseCookie(a){createCookie(a,"",-1);}var ProductVideos=function(){var b=false;if(window.Touch){b=true;}var c={wmode:"transparent",play:"true",align:"middle",quality:"high",bgcolor:"#000000",menu:"false",scale:"exactfit",name:"videoName",allowScriptAccess:"always"};var a={styleclass:"vidcontainer"};return{showProductVideo:function(f,l,m,k,h){if(b){var g=f+"_5";var e=this.getObjectIdInfo(f);e.innerHTML='<video id="'+g+'" width="'+m+'" height="'+k+'"><source src="'+l+'" width="'+m+'" height="'+k+'" /></video>';e.style.display="block";e.className="vidcontainer";var d=this.getObjectIdInfo(g);if(d!=null){d.src=l;if(l.toLowerCase().indexOf(".flv")!=-1){ProductVideos.hideVideo(f);}else{d.load();d.play();d.addEventListener("ended",function(n){ProductVideos.hideVideo(f);},false);}}}else{jQuery("#"+f).css({width:m,height:m});swfobject.embedSWF(h,f,"100%","100%","9.0.0","expressInstall.swf",{videopath:l,divtarg:f},c,a);}},removeListeners:function(d){this.getObjectIdInfo(d).onEnded=null;},hideVideo:function(d){if(b){this.removeListeners(d+"_5");}this.getObjectIdInfo(d).style.display="none";},getObjectIdInfo:function(d){var e=document.getElementById(d);if(document.getElementById){e=document.getElementById(d);}else{if(document.all){e=document.all[d];}}return e;},isTouch:function(){return b;}};}();var saksModal=(function(d){var a={_viewPortObj:{windowX:null,windowY:null,scrollX:null,scrollY:null,pageX:null,pageY:null},_getViewPort:function(){var m=d.extend({},this._viewPortObj);m.windowX=(document.documentElement&&document.documentElement.clientWidth)||window.innerWidth||self.innerWidth||document.body.clientWidth;m.windowY=(document.documentElement&&document.documentElement.clientHeight)||window.innerHeight||self.innerHeight||document.body.clientHeight;m.scrollX=(document.documentElement&&document.documentElement.scrollLeft)||window.pageXOffset||self.pageXOffset||document.body.scrollLeft;m.scrollY=(document.documentElement&&document.documentElement.scrollTop)||window.pageYOffset||self.pageYOffset||document.body.scrollTop;m.pageX=(document.documentElement&&document.documentElement.scrollWidth)?document.documentElement.scrollWidth:(document.body.scrollWidth>document.body.offsetWidth)?document.body.scrollWidth:document.body.offsetWidth;m.pageY=(document.documentElement&&document.documentElement.scrollHeight)?document.documentElement.scrollHeight:(document.body.scrollHeight>document.body.offsetHeight)?document.body.scrollHeight:document.body.offsetHeight;return m;}};var g=function(q,z,o,r){var v=a._getViewPort();var x=r!=null?r:"generic-modal";var y=(z!=null)?z:600;var n=(o!=null)?o:500;d("body").append('<div id="saksOverlay"/>').append('<div id="'+x+'" class="cssRoot modal-container"/>');d("#saksOverlay").css({height:v.pageY,width:v.pageX,opacity:0.5});var m=d("#"+x);var t=((v.windowY-n)/2)+v.scrollY;if(t<v.scrollY){t=v.scrollY+10;}var u=(v.windowX-y)/2;m.append(q).css({height:"auto",width:y,top:t+"px",left:u+"px"});};var e=function(q,m,o,n){d(n).append(q);};var f=function(o,m,n){m=(m)?m:"#generic-modal";if(n){d(m,n).empty().append(o);}else{d(m).empty().append(o);}};var l=function(m,n){d("#generic-modal").css("width",m);};var k=function(x,o,q){var u=a._getViewPort();var v=d("#generic-modal").width();var n=d("#generic-modal").height();d("#saksOverlay").css({height:u.pageY,width:"100%",opacity:0.5});var m=d("#generic-modal");var r=((u.windowY-n)/2)+u.scrollY;if(r<u.scrollY){r=u.scrollY+10;}var t=(u.windowX-v)/2;m.css({height:"auto",width:v,top:r+"px",left:t+"px"},1000);};var c=function(){d(".modal-close","#generic-modal").click(function(){saksModal.destroy();if(window.layer){layer.closeToStep();}});};var h=function(q,m,o,n){f(q,n);l(m,o);k();c();};var b=function(q,m,o,n){g(q,m,o,n);c();};return{launchModalBox:b,putInModalBox:h,appendToModalBox:function(q,m,o,n){l(m,o);e(q,m,o,n);k();c();},appendToContainer:function(m,n){e(n,null,null,m);},viewInModal:function(o,m,q){logger.log("view modal call");var r=window.saksQuickLook;if(r&&r.isOpen()){r.close();}var n=(d("#generic-modal").length==1)?true:false;(n)?h(o,m,q):b(o,m,q);},destroy:function(){d("#saksOverlay").remove();d("#generic-modal").remove();},replaceContent:f,resizeModalBox:function(m,n){l(m,n);},refresh:function(){k();}};})(jQuery);var sksItemModel=(function(e){var c={_element:null,_productInfo:{_productCode:null,_productName:null,_skuCode:null,_shortDescription:null,_listPrice:null,_salePrice:null,_listPriceLabel:null,_salePriceLabel:null,_onSaleFlag:null,_skuPricedDifferent:null,_colorization:null,_isColorized:null,_imagePath:null,_quantity:null,_size:null,_color:null,_upcCode:null,_displayablePrice:null,_zipCode:null,_radius:null,_merchandise_tax:null,_sale_price:null,_sub_total:null,_esreValue:null}};var d=function(g){logger.log("SAVING FIS LAYER PRODUCT INFO FROM JSON");c._productInfo._productCode=g.quickLook.productCode;c._productInfo._productName=g.quickLook.productName;c._productInfo._shortDescription=g.quickLook.shortDescription;c._productInfo._listPrice=g.quickLook.formattedListPrice;c._productInfo._salePrice=g.quickLook.formattedSalePrice;c._productInfo._listPriceLabel=g.quickLook.listPriceLabel;c._productInfo._salePriceLabel=g.quickLook.salePriceLabel;c._productInfo._onSaleFlag=g.quickLook.onSaleFlag;c._productInfo._skuPricedDifferent=g.quickLook.skuPricedDifferent;c._productInfo._quantity=g.quickLook.quantity;c._productInfo._imagePath=g.quickLook.images.reserveInStoreSize;c._productInfo._isColorized=g.quickLook.colorizationInd;c._productInfo._colorization=g.quickLook.colors;logger.log(c._productInfo);};var b=function(h){logger.log("SAVING STORE RESULTS PRODUCT INFO FROM JSON");for(var g in h){if(h.hasOwnProperty(g)){if(c._productInfo["_"+g]||c._productInfo["_"+g]===null){c._productInfo["_"+g]=h[g];}else{logger.log("**** ERROR IN SAVING QUERY INFO ****: "+h[g]);}}}};var a=function(){return{productCode:c._productInfo._productCode,size:c._productInfo._size,color:c._productInfo._color,upc:c._productInfo._upcCode,itemQuantity:c._productInfo._quantity,price:c._productInfo._displayablePrice,zipCode:c._productInfo._zipCode};};var f=function(){return{showFindInStoreLink:true,onSaleFlag:c._productInfo._size,skuPricedDifferent:c._productInfo._skuPricedDifferent,listPriceLabel:c._productInfo._onSaleFlag,salePriceLabel:c._productInfo._upcCode,formattedListPrice:c._productInfo._displayablePrice,formattedSalePrice:c._productInfo._zipCode};};return{saveFindInStoreProductInfo:d,saveStoreResultsProductQueryInfo:b,getStoreResultsProductQueryInfo:a,getPricingObjectModel:f,getProductInfoObject:function(){return c._productInfo;},getProductInfo:function(g){return c._productInfo[g];},setProductInfo:function(g,h){c._productInfo[g]=h;},getElement:function(){return c._element;},setElement:function(g){c._element=g;return c._element;}};}(jQuery));var saksQuickLook=(function(k,r){var q=false;var e={};var u=null;var v=null;var g=null;var l={itemJson:{type:"GET",data:{bmForm:"product_array_quick_look_service"}},quicklookview:{type:"GET",data:{bmForm:"product_array_quick_look_service"},complete:function(){d();}},addProductToBag:{url:"/checkout/checkout.jsp",data:{bmForm:"add_saks_suggests_item_service_product_array"},complete:function(){d();g.changeFormState("ready");},error:function(){g.addMessages("error","An error has occurred while processing your request. Please try again later.");},success:function(B){if(!B.errors){if(!B.errorMessages.length){r.publish("QuickLook:UpdateOrder","add",B);g.close();saksBagOpen("SaksBagOverlay");}else{if(B.inOtherMembersCart===false&&B.itemSoldOut===false){g.addMessages("error",B.errorMessages[0].message);}}}}}};var w=function(){o();};var t=function(C){var D=x(C),B;if(D){g.addMessages("error",D);g.changeFormState("ready");}else{g.changeFormState("sending");g.removeMessages("error");switch(v.get("dialogType")){case"add":B=m;break;case"edit":B=z;break;case"suggest":B=f;break;}if(B){b(B(C));}}};var x=function(B){if(!B){B={};}var C=[];if(!B.sku_id||!(B.sku_id.length&&parseInt(B.sku_id,10)!==0)){C.push({message:"Please select a color and size."});}if(!B.itemQuantity||!(B.itemQuantity.length&&parseInt(B.itemQuantity,10)>0)){C.push({message:"Quantity should be 1 or greater."});}if(C.length){return C;}};var m=function(B){return sksGlobalAjax.ajaxRequest(requestManager.getRequestParams("addProductToBag",B));};var z=function(B){var C=navigate.getActiveStep()===0?"editCartItem":"editOrderItem";return SaksAPI[C](k.param(B),function(D){if(D.errors){g.addMessages("error",D.errors);}else{r.publish("QuickLook:UpdateOrder","edit",B,D);saksQuickLook.close();}});};var f=function(B){return SaksAPI.addSaksSuggestsItem(k.param(B),function(C){if(C.errors){g.addMessages("error",C.errors);}else{r.publish("QuickLook:UpdateOrder","suggest",B,C);saksQuickLook.close();}});};var b=function(B){o();u=B;return u;};var o=function(){if(u){u.abort();d();}};var d=function(){if(u){u=null;}};var y=function(B){var C=requestManager.getRequestParams("quicklookview",{productCode:B});return b(sksGlobalAjax.ajaxRequest(C));};var A=function(B){return b(SaksAPI.saksSuggestsItemQuickLook("productCode="+B));};var a=function(B){var C;if(navigate.getActiveStep()===0){C="cartItemId="+B;}else{C="orderItemId="+B;}return b(SaksAPI.cartItemQuickLook(C));};var n=function(E,C,F,B){if(!(B&&B.length)){c();return;}var D=B[0];if(_.isEmpty(D)){c();return;}D=k.extend(true,D,{dialogType:E,productId:C});if(E==="add"){Saks.module("Mediator").publish("ANALYTICS:OMNITURE","quicklook",D,F);}sksItemModel.setProductInfo("_productCode",D.productCode);sksItemModel.setProductInfo("_colorization",D.colors);sksItemModel.setProductInfo("_isColorized",D.colorizationInd);v.clear().set(D);g.showSubView("content");saksFindInStore.bindFISQLElements(g.$el);if(D.waitListForPd){saksFFWaitList.onQL(g.$el);}scene7=Saks.module("Product")["imageUtils"]["QL"];Saks.config["scene7HTML"]=false;if(parseInt(D.mediaItem.hasVideo,10)&&navigator.userAgent.match(/iPad/i)===null&&flash9Installed===true){jQuery(".video-container").show();if(navigator.userAgent.match(/iPad/i)===null){scene7.initializeVideoPlayerControls(k(".quicklook"),D.mediaItem.videoServerUrl+D.mediaItem.videoLarge);}}else{jQuery("#flashContent").css("display","");}};var c=function(){v.clear();g.showSubView("error");};var h=function(C,B,E){var D=null;switch(C.toLowerCase()){case"add":D=y;break;case"edit":D=a;break;case"suggest":D=A;break;}if(D){v.clear();k.when(D(B),saksQuickLook.open({view:"loading"})).then(function(F){n(C,B,E,F);}).fail(c);}};return{init:function(B){if(q){return;}q=true;v=Saks.create("Quicklook.Model.Product");g=Saks.create("Quicklook.View.Dialog",{width:848,model:v,template:Saks.templates["quicklook/ProductDialog"],partials:{productAvailability:Saks.templates["quicklook/ProductAvailability"],productDetail:Saks.templates["quicklook/ProductDetail"],productDetailLink:Saks.templates["quicklook/ProductDetailLink"],productInfoTabs:Saks.templates["quicklook/ProductInfoTabs"],productMessages:Saks.templates["quicklook/ProductMessages"],productPrice:Saks.templates["quicklook/ProductPrice"],productRating:Saks.templates["quicklook/ProductRating"],productShareLinks:Saks.templates["quicklook/ProductShareLinks"],productVariants:Saks.templates["quicklook/ProductVariants"],productViewer:Saks.templates["quicklook/ProductViewer"],ProductViewerScene7:Saks.templates["quicklook/ProductViewerScene7"]}});r.subscribe("CloseLayers",this.close);r.subscribe("LaunchQuickLook",h);g.on("close",w);g.on("submit",t);requestManager.registerRequest(l);this.bindQuickLookElements(B);},isOpen:function(){return g.isOpen();},close:function(C){if(!g.isOpen()){return;}if(!C){C={};}var B=new k.Deferred(),D=g.isAnimationEnabled?"closeTransitionEnd":"close";g.on(D,function(){g.off(D,arguments.callee);B.resolve();r.publish("QuickLook:Close");});g.close();return B.promise();},open:function(C){if(g.isOpen()){return;}if(!C){C={};}var B=new k.Deferred(),D=g.isAnimationEnabled?"openTransitionEnd":"open";setTimeout(function(){saksModal.destroy();},0);if(C.data){v.clear().set(C.data);}g.showSubView(C.view||"content");g.on(D,function(){g.off(D,arguments.callee);B.resolve();r.publish("QuickLook:Open");});setTimeout(function(){g.open();},0);return B.promise();},onLoad:function(){this.init.apply(this,arguments);},bindQuickLookElements:function(B){logger.log("onload of QL");B=(B)?B:k("#saksBody");k(".jsModalBox",B).click(function(D){D.preventDefault();var C=k(this).attr("key").split("|");saksQuickLook.api.getQuicklook(C[0],C[1]);return false;});},generateQLPrices:function(C){var B=[];if(C.displayItemPricing){if(C.onSaleFlag){B.push('<span class="product-price" style="padding-right:5px;">'+C.listPriceLabel+"&nbsp;"+C.formattedListPrice+"</span>");B.push((C.skuPricedDifferent?"<br/>":""));B.push('<span class="blackBold11">'+C.salePriceLabel+'&nbsp;<span class="product-sale-price">'+C.formattedSalePrice+"</span></span>");}else{B.push('<span class="product-price" style="font-weight:bold;">'+C.formattedListPrice+"</span>");}}return B.join("");},generateSizeColorDropDown:function(E,D){var C=[];var F=false;var B=[];if(E.length){if(E.length>1){for(var H=0;H<E.length;H++){var G=(E[H].value)?E[H].value:"";var I=(E[H].display)?E[H].display:"";if(E[H].displayAddToWL){B.push('<option class="ffwlQL" data-product-code="'+D+'" data-key="'+E[H].color+'" value="'+G+'"');F=true;}else{if(E[H].disabled==="true"){B.push('<optgroup data-key="'+E[H].color+'" style="font-style:normal; font-weight:lighter; color:red" label="'+I+'" value="'+G+'"');}else{B.push('<option data-key="'+E[H].color+'" value="'+G+'"');}}if(E[H].selected){B.push(' selected="selected"');}if(E[H].message){B.push(' class="hasMessage"');C.push(E[H].message);}else{C.push("");}B.push(">");if(E[H].displayAddToWL){B.push(I+" Sold Out >Add to Wait List");}else{B.push(I);}if(E[H].disabled==="true"){B.push("</optgroup>");}else{B.push("</option>");}}B.push("</select>");if(F){B.unshift('<select class="vars-to-buy ffwlQLSelect" name="sku_id">');}else{B.unshift('<select class="vars-to-buy" name="sku_id">');}}else{B.push('<input type="hidden" name="sku_id" value="'+E[0].value+'">');C.push((E[0].message)?E[0].message:"");}}return B.join("");},api:{getQuicklook:function(C,B){sksItemModel.setProductInfo("_esreValue",((B)?B:null));sksItemModel.setProductInfo("_productCode",C);h("add",C);},getItemJson:function(C,B){sksGlobalAjax.ajaxAsyncRequest(requestManager.getRequestParams("itemJson",{productCode:C}),B);}}};}(jQuery,Saks.module("Mediator")));var saksStoreResultsModel=(function(d){var c=null;var l=null;var f=false;var b={_ris_fname:null,_ris_lname:null,_ris_phone:null,_ris_email:null};var k=function(m){logger.log("Saving store details");logger.log(m);c=m;};var e=function(){return c;};var a=function(m){l=m;};var h=function(){return l;};var g=function(n){for(var m in n){if(b["_"+m]||b["_"+m]===null){b["_"+m]=n[m];}}};return{saveStoreResults:k,getStoreResults:e,saveCurrentStoreId:a,getCurrentStoreId:h,saveReserveInStoreFormInfo:g,getRISFormInfo:function(m){return b[m];},hasStoreParticipation:function(m){if(m!==undefined){f=m;}else{return f;}}};}(jQuery));var saksFindInStore=(function(m){var o="--";var l="pdSizeColor";var d=null;var e=null;var g=null;var n=[10,25,50,100];var q=function(v){var y='<select name="radius" id="radius">';for(var w=0;w<=n.length-1;w++){var x=(v===n[w])?"selected":"";y=y+'<option value="'+n[w]+'" '+x+">"+n[w]+" Miles</option>";}y=y+"</select>";return y;};var a=function(A){logger.log("BUILDING FIND IN STORE LAYER HTML");var x=[];var B=A.quickLook;var v=A.userPreferences;var w=B.colors;x.push('<div id="findInStore">');x.push('<div id="titlebar"><h1 id="fis-title-label">FIND IN STORE</h1><div id="titlebar-right">');if(saksFindInStore.pageReferer()==="QL"){x.push('<a id="backToProductDetail">Back To Product Detail</a><span class="separator">|</span>');}x.push('<div class="close-wrap reverse"><a class="modal-close overlay-close" alt="Close" title="Close">CLOSE</a></div></div></div>');x.push("<div>");x.push('<div id="stores-print-this-page"><a class="iconPrint">Print This Page</a></div>');x.push('<div class="content-left">');x.push('<div id="quicklook-large-image"><img id="MainImage" src="'+sksItemModel.getProductInfo("_imagePath")+'" alt="" width="180" height="240" /></div>');x.push('<div id="MainImageColor"></div>');x.push("</div>");x.push('<div class="content-mid">');x.push('<div id="ris-product-summary">');x.push("<h2>PRODUCT INFORMATION:</h2>");x.push("<b>"+B.productName+"</b>");x.push("<br/>");x.push(B.shortDescription);x.push("<br/>");x.push('<div class="item-price">');x.push(saksQuickLook.generateQLPrices(B));x.push("</div>");x.push('<div class="item-sku">'+B.productCode+"</div>");var z=(B.quantity)?B.quantity:1;x.push('<div id="ris-quantity" class="quantity-input FISInputs"><label for="MainProductqtyToBuy0">QTY</label><input type="text" name="itemQuantity" id="MainProductqtyToBuy0" class="qty-to-buy" size="2" value="'+z+'" maxlength="2" /></div>');x.push('<div id="qtyError" class="saks-warning-msg"></div>');if(B.purchaseLimitThreshold){x.push('<div id="highdemand">'+B.purchaseLimitMessage+"</div>");}x.push('<div id="selectColor" class="FISInputs">');x.push(saksQuickLook.generateSizeColorDropDown(B.skuVariants));x.push('<div class="clearfix"></div>');x.push("</div>");x.push('<div id="colorSizeError" class="saks-warning-msg"></div>');x.push('<div id="swatch-widget">');x.push('<div id="swatch-arrow-left" class="swatch-arrows" ><img src="/static/images/leftArrow.gif"></div>');x.push('<div id="swatch-container"><div id="swatch-inner">');for(var y=0;y<w.length;y++){if(w[y].colorPath&&w[y].colorPath!==""){x.push('<div class="swatch-obj scene7-fis-swatch">');x.push('<img src="'+w[y].colorPath+'" alt="'+w[y].name+'" title="'+w[y].name+'">');x.push('<div class="text">'+w[y].name+"</div>");x.push("</div>");}else{x.push('<div class="swatch-obj scene7-fis-swatch">');x.push('<div class="flat-swatch" style="background-color:#'+w[y].color+';" ></div>');x.push("<div>"+w[y].name+"</div>");x.push("</div>");}}x.push('<div class="clearfix"></div>');x.push('</div><div class="clearfix"></div></div>');x.push('<div id="swatch-arrow-right" class="swatch-arrows" ><img src="/static/images/rightArrow.gif"></div>');x.push('<div class="clearfix"></div>');x.push("</div>");x.push("</div></div>");x.push('<div class="content-right"><h2>STORE AVAILABILITY:</h2>');x.push('<div id="zipcode" class="FISInputs"><label>Zip Code</label>');x.push('<input type="text" name="zip" id="fis-zip" value="'+v.zipCode+'" maxlength="5" /></div>');x.push('<div id="zipcodeError" class="saks-warning-msg"></div>');x.push('<div id="distanceToStore" class="FISInputs"><label>Distance To Store:</label>');x.push(q(v.radius));x.push("</div>");x.push('<div class="fis-buttons jsReserveInStore" id="btnSubmit"><div title="SUBMIT">SUBMIT</div></div>');x.push('<div id="FIS-msg-container"><div id="FIS-error-warning" class="saks-warning-msg"></div>');if(A.findInStoreMessage){x.push('<div id="FIS-msg">'+A.findInStoreMessage+"</div>");}x.push("</div>");x.push("</div>");x.push('<div class="clearfix"></div>');x.push("</div>");x.push("</div>");return x.join("");};var r='<div class="fis-submessage">Please Note: This reflects current availability but our store inventory is always changing. Prices and promotions may vary in stores.</div>';var f='<div class="fis-submessage">Please Note: This reflects current availability but our store inventory is always changing. Prices and promotions may vary in stores. Select stores are participating in our new RESERVE IN STORE program. Click the Reserve In Store button displayed for these stores to place a reservation for in-store purchase and pick-up.</div>';var c=function(w,x,A){var y=w.contactInfo;var v=[];v.push('<div class="ris-store-result"><span>');v.push('<div class="storeName"><a href="'+w.homePageURL+'" target="_blank">'+w.storeName+"</a></div>");v.push(y.addressLine1+"<br/>");v.push(y.city+", "+y.state+" "+y.zipCode+"<br/>");v.push(y.invPhoneNumber+"<br/>");v.push("<b>Distance</b>: "+w.location.distance+" "+w.location.distanceUnit+"<br/>");v.push('<strong class="fis-'+w.inventoryAvailabilityMessage.toLowerCase().replace(/ /g,"")+'">'+w.inventoryAvailabilityMessage+"</strong><br/>");if(x&&w.participatingInReserveInStore==="true"){v.push('<div class="fis-buttons jsReserveInStore" id="'+w.storeNumber+'"><div title="RESERVE IN STORE">RESERVE IN STORE</div></div>');saksStoreResultsModel.hasStoreParticipation(true);}if(A&&w.hoursInfo){v.push("<br/><b>Hours:</b><br/>");for(var z=0;z<w.hoursInfo.length;z++){v.push(w.hoursInfo[z]+"<br/>");}}v.push("</span></div>");return v.join("");};var b=function(y){logger.log("BUILDING STORE RESULTS HTML");var w=[];var z=y.storeDetails;w.push('<div id="findInStoreResults">');w.push('<div id="fisWrapper">');w.push('<div id="resultsRecap">YOUR SELECTION IS AVAILABLE IN '+y.storesWithInventorySize+" STORES (Inventory information below as of ");if(y.timestamp){w.push(y.timestamp);}w.push(")");if(y.reserveInStoreOn&&saksStoreResultsModel.hasStoreParticipation()){w.push(f);}else{w.push(r);}w.push("</div>");w.push('<div id="itemRecap"><b>'+sksItemModel.getProductInfo("_productName")+" </b>"+sksItemModel.getProductInfo("_shortDescription")+" "+y.displayablePrice+"; "+sksItemModel.getProductInfo("_productCode")+";");if(sksItemModel.getProductInfo("_size")){w.push(" <b>Size: </b>"+sksItemModel.getProductInfo("_size")+";");}if(sksItemModel.getProductInfo("_color")){w.push(" <b>Color: </b>"+sksItemModel.getProductInfo("_color")+";");}w.push(" <b>Quantity: </b>"+sksItemModel.getProductInfo("_quantity")+"; <b>UPC: </b>"+sksItemModel.getProductInfo("_upcCode")+"</div>");for(var x=0,v=z.length;x<v;x++){if(x%3===0){w.push('<div class="st-results-row">');}w.push(c(z[x],true,false));w.push('<div class="st-results-splitter"></div>');if(x%3===2||x+1===v){w.push('<div class="clearfix"></div></div>');}}w.push('</div><div class="clearfix"></div></div>');return w.join("");};var u=function(v){m("#btnSubmit",v).click(function(y){logger.log("FIND IN STORE - SUBMIT STORE REQUEST CLICK");var w=m(this);var x=QLFISValidator.getValidData(w.attr("id"));if(x){sksTicker.tickTock(w);sksItemModel.saveStoreResultsProductQueryInfo({zipCode:x.zip,radius:x.radius});saksFindInStore.getFIStoreResults({productCode:x.id,itemQuantity:x.qty,sku_id:x.sku_id,zipCode:x.zip,radius:x.radius});}});m("#backToProductDetail",v).click(function(){saksQuickLook.open();});d.click(function(w){w.preventDefault();window.print();});m("[name=sku_id]",v).change(function(){logger.log("FIS -- drop down change");if(sksItemModel.getProductInfo("_isColorized")){var x=m(this).find("option:selected").attr("data-key");if(x){var w=sksItemModel.getProductInfo("_colorization").getObjectFromArray(x,"name");if(w){m("#MainImage").attr("src",w.mediaPath);}}}});(function(D){var z=D("#swatch-arrow-left");var E=D("#swatch-arrow-right");var x=D("#swatch-container");var F=D("#swatch-inner");var I=D(".swatch-obj",x);var C=0;I.each(function(L){C+=D(this).outerWidth();});F.css("width",C+3);if(C>240){z.show();E.show();}var H=F.css("left").split("px")[0];var K=-(F.width()-x.width());var G=true;var J="-";var A=10;var w=1;var y=null;var B=function(){if(J==="+"&&parseInt(F.css("left"),10)>=0){clearInterval(y);y=null;}else{if(J==="-"&&parseInt(F.css("left"),10)<=K){clearInterval(y);y=null;}else{var L=(J==="+")?(H+w):(H-w);H=L;F.css("left",L+"px");}}};z.hover(function(){if(G&&parseInt(F.css("left"),10)<0){G=false;J="+";B();y=setInterval(B,A);}},function(){if(y){clearInterval(y);y=null;}G=true;});E.hover(function(){if(G&&parseInt(F.css("left"),10)>K){G=false;J="-";B();y=setInterval(B,A);}},function(){if(y){clearInterval(y);y=null;}G=true;});}(jQuery));};var k=function(){if(e){e.remove();e=null;}};var h=function(){m(".st-results-row","#fisWrapper").each(function(){var w=m(this);var v=w.height();w.find(".st-results-splitter").height(v);});};var t={fislayer:{data:{bmForm:"saks_find_in_store_quick_look_service"},success:function(v){logger.log("Find in store layer success handler");sksItemModel.saveFindInStoreProductInfo(v);saksModal.viewInModal(a(v),779,350);d=m("#stores-print-this-page");if(!v.quickLook.skuVariants.length){saksModal.replaceContent(sksWarning.getWarningMessage("Not this item"),"#FIS-error-warning");}else{u(m("#findInStore"));}omnitureManager.ping("findinstore",v);},complete:function(v){}},fisStoreResults:{data:{bmForm:"get_stores_with_inventory"},success:function(v){logger.log("---SUCCESS HANDLER FOR STORE RESULTS---");k();saksModal.resizeModalBox(779,350);if(d){d.hide();}if(v.SYSERR){logger.log("---ERROR CODE RETURNED ON RESULTS---");sksWarning.warn(v.SYSERR);}else{logger.log("---STORES RETURNED---");saksStoreResultsModel.hasStoreParticipation(false);sksItemModel.saveStoreResultsProductQueryInfo(v);saksStoreResultsModel.saveStoreResults(v.storeDetails);saksModal.appendToModalBox(b(v),779,600,"#generic-modal");h();reserveInStore.bindREserveInStoreAction(m("#findInStoreResults"));if(d){d.show();}sksCaptcha.initialize(v,"recaptchaOn");omnitureManager.ping("findinstoreresults",v);}},error:function(){logger.log("---STORE RESULTS ERROR HANDLER---");saksModal.replaceContent(sksWarning.getWarningMessage("Not this item"),"#FIS-error-warning");},complete:function(v){sksTicker.done(m("div#btnSubmit"));}}};return{onLoad:function(v){requestManager.registerRequest(t);this.bindFISElements(v);},bindFISElements:function(v){v=(v)?v:m("#saksBody");m(".jsFindInStorePD",v).click(function(){logger.log("product page click on FIND IN STORE");var x=sksItemModel.setElement(m(this));sksItemModel.setProductInfo("_productCode",x.attr("key"));var z=x.attr("id");var y=z.split(o).pop();sksItemModel.setProductInfo("_quantity",m("#"+y).val()||1);logger.log("from product detail to find in store layer QTY: "+sksItemModel.getProductInfo("_quantity"));var w=m("select option:selected","#"+l+o+y).val();sksItemModel.setProductInfo("_skuCode",w||null);logger.log("from product detail to find in store layer SKU: "+sksItemModel.getProductInfo("_skuCode"));saksFindInStore.pageReferer("PDP");saksFindInStore.getFISLayer({productCode:sksItemModel.getProductInfo("_productCode"),itemQuantity:sksItemModel.getProductInfo("_quantity"),sku_id:sksItemModel.getProductInfo("_skuCode")});return false;});},bindFISQLElements:function(v){logger.log("binding FIS QL ELEMENTS");m("#jsFindInStoreQL",v).click(function(w){w.preventDefault();logger.log("FIS QUICK LOOK BUTTON CLICK");var x=QLFISValidator.getValidData(m(this).attr("id"));if(x){saksFindInStore.pageReferer("QL");saksFindInStore.getFISLayer({productCode:x.id,itemQuantity:x.qty,sku_id:x.sku_id});}});},getFISLayer:function(v,w){sksGlobalAjax.ajaxRequest(requestManager.getRequestParams("fislayer",v),w);},getFIStoreResults:function(v){sksGlobalAjax.ajaxRequest(requestManager.getRequestParams("fisStoreResults",v));},getAStoreDetailHTML:c,togglePrintThisPage:function(v){if(v==="ON"){d.show();}else{d.hide();}},pageReferer:function(v){if(v){g=v;}else{return g;}},calculateSkuValue:function(w){logger.log("getting current UPC/SKU INPUT: either user selected or default");var v=m(".vars-to-buy option:selected",w).val();if(v){logger.log("userSelectedSku 1 ---> "+v);return v;}else{v=m("input[name=sku_id]",w).val();if(v){logger.log("userSelectedSku 2 ---> "+v);return v;}else{logger.log("current default sku---> "+sksItemModel.getProductInfo("_skuCode"));return sksItemModel.getProductInfo("_skuCode");}}}};}(jQuery));var reserveInStore=(function(d){var k={reserveInStoreForm:{data:{bmForm:"get_tax_for_product"},success:function(o){logger.log("reserveInStoreForm layer success handler -- now build RIS form and or check for error");if(o.SYSERR||o.VALERRS){logger.log("Handle Error for tax service --> "+o.errorCode+" ---> "+o.errorReason);sksItemModel.setProductInfo("_merchandise_tax","Not Available");sksItemModel.setProductInfo("_sale_price",sksItemModel.getProductInfo("_salePrice"));sksItemModel.setProductInfo("_sub_total",sksItemModel.getProductInfo("_salePrice"));}else{sksItemModel.saveStoreResultsProductQueryInfo(o);}var n=d("#findInStore","#generic-modal");var q=d("#findInStoreResults","#generic-modal");saksFindInStore.togglePrintThisPage("OFF");saksModal.replaceContent("RESERVE IN STORE REQUEST","#fis-title-label",n);saksModal.replaceContent(g(),".content-mid",n);saksModal.replaceContent(m(),".content-right",n);saksModal.appendToContainer("#findInStore",'<div id="taxes-disclaimer"><div>*Taxes are based on location of the selected pick up store.</div></div>');saksModal.replaceContent(f(),"#findInStoreResults");d("#findInStoreResults").find("[placeholder]").placeholder();sksCaptcha.getCaptcha("ris-captcha");b(q);omnitureManager.ping("reserveInStore");},complete:function(n){}},reserveInStoreFormSubmit:{data:{bmForm:"bm_pickup_in_store"},success:function(n){logger.log("reserveInStoreFormSubmit success -- build confirmation layer");if(n.VALERRS){sksWarning.warn(n.VALERRS);}else{if(n.SYSERR){logger.log("!--- syserr ---! on RIS submit -> "+n.SYSERR);saksModal.replaceContent(a(n.SYSERR),"#ris-content-wrapper");d("#rissubmit").hide();d("#jsBackToStores").css({top:0});}else{saksFindInStore.togglePrintThisPage("ON");saksModal.replaceContent("RESERVE IN STORE CONFIRMATION","#fis-title-label");saksModal.replaceContent(e(),"#findInStoreResults");}}omnitureManager.ping("reserveInStoreConfirm",{eml:saksStoreResultsModel.getRISFormInfo("_ris_email")||""});},error:function(){saksModal.replaceContent(a(),"#ris-content-wrapper");},complete:function(n){sksTicker.done(d("#rissubmit"));}}};var g=function(){var o=[];o.push('<div id="ris-product-summary"><h2>PRODUCT INFORMATION:</h2>');o.push("<b>"+sksItemModel.getProductInfo("_productName")+"</b><br/>");o.push(sksItemModel.getProductInfo("_shortDescription")+"<br/>");o.push(sksItemModel.getProductInfo("_productCode")+"<br/>");if(sksItemModel.getProductInfo("_size")){o.push("<b>Size:</b> "+sksItemModel.getProductInfo("_size")+"<br/>");}if(sksItemModel.getProductInfo("_color")){o.push("<b>Color:</b> "+sksItemModel.getProductInfo("_color")+"<br/>");}o.push("<b>QTY:</b> "+sksItemModel.getProductInfo("_quantity")+"<br/>");o.push("<b>Price:</b> "+sksItemModel.getProductInfo("_displayablePrice")+"<br/><br/>");var n=(parseInt(sksItemModel.getProductInfo("_merchandise_tax"),10)?"$":"");o.push("Subtotal: "+n+sksItemModel.getProductInfo("_sale_price")+"<br/>");o.push("Estimated Tax*: "+n+sksItemModel.getProductInfo("_merchandise_tax")+"<br/>");o.push("<b>Estimated Total*: "+n+sksItemModel.getProductInfo("_sub_total")+"</b><br/><br/>");o.push("UPC: "+sksItemModel.getProductInfo("_upcCode")+"<br/><br/></div>");return o.join("");};var m=function(){var n=saksStoreResultsModel.getStoreResults().getObjectFromArray(saksStoreResultsModel.getCurrentStoreId(),"storeNumber");var o=[];o.push("<h2>SELECTED STORE:</h2>");o.push(saksFindInStore.getAStoreDetailHTML(n,false,true));return o.join("");};var l=function(o){var n=[];n.push('<div id="fisWrapper">');n.push('<div id="ris-formHeader"><div class="ris-title">WE WILL EMAIL YOU WHEN YOUR ITEM(S) ARE READY.</div>');if(o){n.push('<div class="informational">*Required Information</div>');}n.push('<div class="clearfix"></div></div>');return n.join("");};var c=function(){var n=[];n.push('<div id="ris-footer">');n.push('<div class="fis-buttons" id="rissubmit"><div title="SUBMIT">SUBMIT</div></div>');n.push('<a href="" id="jsBackToStores">Back To Store Results</a>');n.push('<div class="clearfix"></div></div>');return n.join("");};var f=function(){logger.log("BUILDING RESERVE IN STORE FORM HTML");var n=[];n.push(l(true));n.push('<div id="ris-content-wrapper">');n.push('<div id="ris-form">');n.push('<div id="ris-fname-container" class="ris-container">');n.push('<label for="ris-fname">*First Name</label><br/>');n.push('<input id="ris-fname" type="text" name="ris-fname" maxlength="15" />');n.push('<div id="ris_fname-warning" class="ris-warning saks-warning-msg"></div>');n.push("</div>");n.push('<div id="ris-lname-container" class="ris-container">');n.push('<label for="ris-lname">*Last Name</label><br/>');n.push('<input id="ris-lname" type="text" name="ris-lname" maxlength="25" />');n.push('<div id="ris_lname-warning" class="ris-warning saks-warning-msg"></div>');n.push("</div>");n.push('<div id="ris-email-container" class="ris-container">');n.push('<label for="ris-email">*Email Address</label><br/>');n.push('<input id="ris-email" type="text" name="ris-email" />');n.push('<div id="ris_email-warning" class="ris-warning saks-warning-msg"></div>');n.push("</div>");n.push('<div id="ris-phone-container" class="ris-container">');n.push('<label for="ris-phone">*Contact Phone Number</label><br/>');n.push('<input id="ris-phone" type="text" name="ris-phone" placeholder="Ex. 123-123-1234 or 1231231234" maxlength=40"/>');n.push('<div id="ris_phone-warning" class="ris-warning saks-warning-msg"></div>');n.push("</div>");n.push("</div>");n.push('<div id="ris-captcha-container">');n.push('<div id="ris-captcha"></div>');n.push('<div id="recaptcha_response_field-warning" class="ris-warning saks-warning-msg"></div>');n.push("</div>");n.push('<div class="clearfix"></div>');n.push("</div>");n.push(c());n.push("</div>");n.push('<div class="clearfix"></div>');return n.join("");};var e=function(){logger.log("BUILDING RESERVE IN STORE SUBMIT CONFIRMATION HTML");var n=saksStoreResultsModel.getStoreResults().getObjectFromArray(saksStoreResultsModel.getCurrentStoreId(),"storeNumber");var o=[];o.push(l(false));o.push('<div id="ris-content-wrapper">');o.push("<b>Thank you for using the Saks Fifth Avenue Reserve In Store program!</b><br/><br/>");o.push("<b>Name:</b> "+saksStoreResultsModel.getRISFormInfo("_ris_fname")+" "+saksStoreResultsModel.getRISFormInfo("_ris_lname")+"<br/>");o.push("<b>Email Address:</b> "+saksStoreResultsModel.getRISFormInfo("_ris_email")+"<br/>");o.push("<b>Contact Phone Number:</b> "+saksStoreResultsModel.getRISFormInfo("_ris_phone")+"<br/><br/>");o.push('<ul id="ris-confiramation-details">');o.push("<li>You will receive an email copy of your request shortly. Your reservation request has been sent to the "+n.storeName+" store.</li>");o.push("<li>Within 3 business hours, you will receive your email confirmation from the "+n.storeName+" store with instructions about your order.</li>");o.push("<li>Your item(s) will not be available for in-store purchase and pick-up until you receive email confirmation and instructions.</li>");o.push("<li>Reservations will be automatically cancelled if not claimed within 48 hours after email confirmation.</li>");o.push('</div><div class="clearfix"></div></div>');return o.join("");};var a=function(o){var n=[];if(o){n.push('<div id="ris-form-warning" class="saks-warning-msg">'+sksWarning.warningMsgHtml(o.errorReason)+"</div>");}else{n.push('<div id="ris-form-warning" class="saks-warning-msg">'+sksWarning.getWarningMessage("ris-down")+"</div>");}return n.join("");};var h=function(n){logger.log("Binding _bindREserveInStoreAction events");d("div.jsReserveInStore",n).click(function(){var q=d(this).attr("id");saksStoreResultsModel.saveCurrentStoreId(q);sksItemModel.setProductInfo("_quantity",d("input","#ris-quantity").val());var o=sksItemModel.getStoreResultsProductQueryInfo();logger.log("click Reserve In Store: latestProductQuery -->");logger.log(o);reserveInStore.getReserveInStoreFormLayer({productCode:o.productCode,price:o.price.substring(1),storeCode:976,itemQuantity:o.itemQuantity,storeZipCode:saksStoreResultsModel.getStoreResults().getObjectFromArray(saksStoreResultsModel.getCurrentStoreId(),"storeNumber").contactInfo.zipCode});});};var b=function(n){d("#jsBackToStores",n).click(function(o){logger.log("RESERVE IN STORE -- CLICK BACK TO STORE RESULTS");o.preventDefault();logger.log("pre callback: "+sksItemModel.getProductInfo("_skuCode"));saksFindInStore.getFISLayer({productCode:sksItemModel.getProductInfo("_productCode"),itemQuantity:sksItemModel.getProductInfo("_quantity"),sku_id:sksItemModel.getProductInfo("_skuCode")},function(){logger.log("CALLBACK");logger.log(sksItemModel.getProductInfo("_productCode"));logger.log(sksItemModel.getProductInfo("_quantity"));logger.log(sksItemModel.getProductInfo("_skuCode"));logger.log(sksItemModel.getProductInfo("_zipCode"));logger.log(sksItemModel.getProductInfo("_radius"));saksFindInStore.getFIStoreResults({productCode:sksItemModel.getProductInfo("_productCode"),itemQuantity:sksItemModel.getProductInfo("_quantity"),sku_id:sksItemModel.getProductInfo("_skuCode"),zipCode:sksItemModel.getProductInfo("_zipCode"),radius:sksItemModel.getProductInfo("_radius")});logger.log("CALLBACK END");});});d("#rissubmit",n).click(function(r){var o=d(this);var q=QLFISValidator.getValidData(o.attr("id"));if(q){sksTicker.tickTock(o);saksStoreResultsModel.saveReserveInStoreFormInfo(q);q.sku_id=sksItemModel.getProductInfo("_skuCode");q.itemQuantity=sksItemModel.getProductInfo("_quantity");q.ris_storeNumber=saksStoreResultsModel.getCurrentStoreId();q.ris_zipCode=saksStoreResultsModel.getStoreResults().getObjectFromArray(saksStoreResultsModel.getCurrentStoreId(),"storeNumber").contactInfo.zipCode;reserveInStore.getReserveInStoreSubmit(q);}});};d(function(){requestManager.registerRequest(k);});return{bindREserveInStoreAction:h,getReserveInStoreFormLayer:function(n){logger.log("-- getReserveInStoreFormLayer --");logger.log(n);sksGlobalAjax.ajaxRequest(requestManager.getRequestParams("reserveInStoreForm",n));},getReserveInStoreSubmit:function(n){logger.log("----- getReserveInStoreSubmit -----");logger.log(n);sksGlobalAjax.ajaxRequest(requestManager.getRequestParams("reserveInStoreFormSubmit",n));}};}(jQuery));var reserveWaiter=(function(b){var e=null;var d='<div id="reserve-waiting"></div>';var c=null;var a=function(){var f=b("#reserve-waiting");if(!f||f.length===0){e.css("opacity","0.6").append(d);f=b("#reserve-waiting");f.show();}else{f.show();}};return{display:function(){if(!e||e.length===0){e=b("#generic-modal").children();a();}else{a();}},hide:function(){e.css("opacity","1");c.hide();}};}(jQuery));var saksFFWaitList=(function(c){var x=null;var d=null;var u=false;var o=false;var v="";var w="";var t=false;var n="";var e="";var b=true;var h=function(A){var y=[];var z;if(c(A).first().attr("color").length===0&&c(A).first().attr("size").length===0){y.push('<div id="selectColor" class="FFWLInputs" style="display:none">');u=true;}else{y.push('<div id="selectColor" class="FFWLInputs">');u=false;}y.push("");if(saksFFWaitList._preID){y.push('<input type="text" readonly="readonly" id="soldout_sku" class="soldout-dropdown" style="width:180px;" value="Color/Size: 1 Selected">');}else{y.push('<input type="text" readonly="readonly" id="soldout_sku" class="soldout-dropdown" style="width:180px;" value="Choose Color(s) and/or Size(s)">');}y.push('<div id="soldout_sku_container"><ul id="soldout_sku_ul" style="display:none">');y.push('<li class="soldout_sku_li_ffwlbutton"><div id="ffwldropdownbutton"><a href="#" style="display:none;">Clear All</a><button class="saks-button saks-button-black" id="ffwlApply" type="submit"><span class="label">APPLY</span></button></div></li>');for(z=0;z<A.length;z++){y.push('<li class="soldout_sku_li">');y.push('<input type="checkbox" data-img-path="'+A[z].mediaPath+'" data-name="soldout_sku" data-soldout-sku="'+A[z].skuCode+'" data-value="'+A[z].value+'" ');if(A[z].value===saksFFWaitList._preID){y.push('checked="checked" ');}y.push("/>");y.push('<span class="soldout_sku_li_span">'+A[z].display+"</span><br /></li>");}y.push("</ul></div>");return y.join("");};var m=function(B){var z=[];var C=B;var y=C.colors;z.push('<div id="ffWaitList">');z.push('<div id="titlebar"><h1 id="ffwl-title-label">ADD TO WAIT LIST</h1><div id="titlebar-right">');if(saksFFWaitList._qlRefer){z.push('<a id="ffwlbacktoQL" data-product-code="'+saksFFWaitList._pCode+'" href="#" style="font-weight:bold;">Back to Product Detail</a><span class="separator" style="">|</span>');}else{if(C.displayLinkInWL){z.push('<a id="toProductDetail" href="'+C.detailPage+'" style="font-weight:bold;">Full Product Detail</a><span class="separator" style="">|</span>');}else{z.push('<a id="toProductDetail" href="'+C.detailPage+'" style="font-weight:bold; display:none;">Full Product Detail</a><span class="separator" style="display:none">|</span>');}}z.push('<div class="close-wrap ffWaitList"><a class="modal-close overlay-close" alt="Close" title="Close">CLOSE</a></div></div></div>');z.push("<div>");z.push('<div id="stores-print-this-page"><a class="iconPrint">Print This Page</a></div>');z.push('<div class="content-left">');z.push('<div id="ffwl-large-image"><img id="MainImage" src="'+C.images.large+'" alt=""/></div>');z.push('<div id="MainImageColor"></div>');z.push("</div>");z.push('<div class="content-mid">');z.push('<div id="ffwl-product-summary">');z.push('<h1 style="padding-left:0px;">THIS ITEM IS SOLD OUT</h1>');z.push("<p>Add it to your Wait List and we will notify you by email if more become available.</p>");z.push("<br/>");z.push("<h2>PRODUCT INFORMATION:</h2>");z.push('<span style="font-weight:bold;">'+C.productName+"</span>");z.push("<br/>");z.push("<span>"+C.shortDescription+"</span>");z.push("<br/>");z.push('<div class="item-price" style="margin-top:5px;">');if(C.salePriceDisplayable){if(C.displayNewFFPricing){z.push('<div class="market-price-info-content">');z.push('<div class="market-price-info-title"><span>PRICING INFORMATION</span>');z.push('<a href="#"><span class="ffwl-market-price-info-close">CLOSE</span></a>');z.push("</div>");z.push("<p>The strikethrough price reflects the regular price at which we've normally sold that item or, if we have not previously sold an item, the price at which that item (or a comparable item) is normally sold in the market.</p>");z.push('<div class="arrow-down-outter"></div>');z.push('<div class="arrow-down-inner"></div>');z.push("</div>");z.push('<a class="ffwl-market-price-info" href="#"><img src="/static/images/fashionfix/market-price-info.png" /></a>');z.push('<span class="product-price line-through">'+C.formattedListPrice+"</span>");z.push('<span class="blackBold11" style="font-weight:bold;">');z.push('<span class="product-sale-price">'+C.formattedSalePrice+"</span>");z.push("</span>");}else{z.push('<span class="product-price">'+C.listPriceLabel+" "+C.formattedListPrice+"</span>");z.push('<span class="blackBold11" style="font-weight:bold;">'+C.salePriceLabel);z.push('<span class="product-sale-price">'+C.formattedSalePrice+"</span>");z.push("</span>");}}else{z.push('<span class="product-price" style="font-weight:bold;">'+C.formattedListPrice+"</span>");}z.push("</div>");if(c(C.allSoldOutSkus).first().attr("color").length===0&&c(C.allSoldOutSkus).first().attr("size").length===0){z.push('<div id="ffwl-quantity" class="quantity-input FFWLInputs"><label>QTY:</label><span>1</span></div>');}if(C.restrictedCountryMessage.length>1){z.push('<div id="ffwl-shipping-restriction" class="ffwl-shipping" ><a style="color:red" href="javascript:popupwin(\'/html/contextual_popups/StateShippingRestriction.jsp\',500,500);">'+C.restrictedCountryMessage+"</a></div>");}else{if(C.restrictedStateMessage.length>1){z.push('<div id="ffwl-shipping-restriction" class="ffwl-shipping" ><a style="color:red" href="javascript:popupwin(\'/html/contextual_popups/StateShippingRestriction.jsp\',500,500);">'+C.restrictedStateMessage+"</a></div>");}}z.push('<div id="qtyError" class="saks-warning-msg"></div>');if(C.purchaseLimitThreshold){z.push('<div id="highdemand">'+C.purchaseLimitMessage+"</div>");}z.push(h(C.allSoldOutSkus));z.push('<div class="clearfix"></div>');z.push("</div>");z.push('<div id="colorSizeError" class="saks-warning-msg"></div>');z.push('<div id="swatch-widget" style="display:none;">');z.push('<div id="swatch-arrow-left" class="swatch-arrows" ><img src="/static/images/leftArrow.gif"></div>');z.push('<div id="swatch-container"><div id="swatch-inner">');for(var A=0;A<y.length;A++){if(y[A].colorPath&&y[A].colorPath!==""){z.push('<div class="swatch-obj scene7-fis-swatch">');z.push('<img src="'+y[A].colorPath+'" alt="'+y[A].name+'" title="'+y[A].name+'">');z.push('<div class="text">'+y[A].name+"</div>");z.push("</div>");}else{z.push('<div class="swatch-obj scene7-fis-swatch">');z.push('<div class="flat-swatch" style="background-color:#'+y[A].color+';" ></div>');z.push("<div>"+y[A].name+"</div>");z.push("</div>");}}z.push('<div class="clearfix"></div>');z.push('</div><div class="clearfix"></div></div>');z.push('<div id="swatch-arrow-right" class="swatch-arrows" ><img src="/static/images/rightArrow.gif"></div>');z.push('<div class="clearfix"></div>');z.push("</div>");z.push('<div class="ffwl-error" style="display:none">Please select a color or size</div>');z.push("</div>");if(C.loggedIn){z.push('<div id="ffwl-content-wrapper" style="display:none">');}else{z.push('<div id="ffwl-content-wrapper">');}if(!C.loggedIn&&C.recaptcha.recaptchaOnForWaitList){z.push('<div id="ffwl-form">');o=true;}else{z.push('<div id="ffwl-form" class="captchaOff">');}z.push('<div id="ffwl-email-container" class="ffwl-container">');z.push("<br/><h1>EMAIL ADDRESS</h1>");z.push('<input id="ffwl-email" type="text" name="ffwl-email" value="'+C.userEmail+'"/>');z.push('<div id="ffwl-email-warning" class="ffwl-warning saks-warning-msg"></div>');z.push("</div>");z.push("</div>");if(o){z.push('<div id="ffwl-captcha-container">');}else{z.push('<div id="ffwl-captcha-container" style="display:none;">');}z.push('<div id="ffwl-captcha-instruction">For security purposes, please enter the words below.</div>');z.push('<div id="ffwl-captcha"></div>');z.push('<div id="recaptcha_response_field-warning" class="ffwl-warning saks-warning-msg"></div>');z.push("</div>");z.push('<div class="clearfix"></div>');z.push("</div>");z.push('<div class="add-to-wait-list"><img src="/static/images/fashionfix/add-to-wait-list.png" / ></div>');z.push('<div class="waitlist-continue-shopping modal-close" style="float:right; display:none;"><img src="/static/images/fashionfix/new-waitlist-continue.png" / ></div>');z.push("</div>");z.push('<div class="clearfix"></div>');z.push("</div>");z.push("</div>");return z.join("");};var r=function(z){var y=[];y.push("<b>"+z.productName+"</b>");y.push("<br/>");y.push(z.shortDescription);y.push("<br/>");y.push('<ul style="border-bottom:1px solid #CCCCCC"><li class="waitlist-result-col1 waitlist-result-title">Size</li><li class="waitlist-result-col2 waitlist-result-title">Color</li><li class="waitlist-result-col3 waitlist-result-title">Price</li></ul>');if(z.listAdded.length>0){c(z.listAdded).each(function(B,A){y.push('<ul><li class="waitlist-result-col1">'+A.size+'</li><li class="waitlist-result-col2">'+A.color+'</li><li class="waitlist-result-col3">'+A.price+"</li></ul>");});}if(z.listOfSkusAlreadyAdded.length>0){c(z.listOfSkusAlreadyAdded).each(function(B,A){y.push('<ul><li class="waitlist-result-col1">'+A.size+'</li><li class="waitlist-result-col2">'+A.color+'</li><li class="waitlist-result-col3">'+A.price+"</li></ul>");});}return y.join("");};var a=function(z){var y=[];y.push("<h1>YOU HAVE JUST ADDED "+(parseInt(z.listAdded.length,10)+parseInt(z.listOfSkusAlreadyAdded.length,10))+" ITEM(S) TO YOUR WAIT LIST</h1>");y.push("<br/>");y.push('<p style="font-size:11px; padding-left:5px;">We will email you at '+z.emailAddres+" if more become available.</p>");y.push("<br/>");y.push('<div id="waitlist-result-container">');y.push(r(z));y.push("</div>");if(jQuery.browser.msie){y.push('<div class="ie-container-padding"><br/></div>');}else{y.push("<div><br/></div>");}return y.join("");};var k={};var g={ffwaitlistlayer:{data:{bmForm:"waitlist_layer_service"},success:function(y){k=y;saksModal.viewInModal(m(y),590,530);l(c("#generic-modal"));if(o){sksCaptcha.initialize(y,"recaptchaOnForWaitList");sksCaptcha.getCaptcha("ffwl-captcha");}omnitureManager.ping("ffWLLanding",y);saksFFWaitList.showMarketPriceInfo(".ffwl-market-price-info");saksFFWaitList.showMarketPriceInfo(".ffwl-market-price-info-close");},complete:function(y){}},ffwaitlistAdd:{data:{bmForm:"waitlist_add_to_service"},success:function(y){if(y.VALERRS){sksWarning.warn(y.VALERRS);return;}var z=c("#ffWaitList");c("#ffwl-captcha-container",z).hide();c("#ffwl-content-wrapper",z).hide();c("#ffwl-product-summary ",z).addClass("waitlist-result");c("#ffwl-product-summary",z).html(a(y));c(".add-to-wait-list",z).hide();c(".waitlist-continue-shopping",z).show();if(c("#waitlist-result-container",z).height()>140){c("#waitlist-result-container",z).addClass("ffwl-confirmation");}omnitureManager.ping("ffWLConfirmation",y);},complete:function(y){}},test:{data:{bmForm:"get_stores_with_inventory"},success:function(y){if(y.SYSERR){logger.log("---ERROR CODE RETURNED ON RESULTS---");sksWarning.warn(y.SYSERR);}else{logger.log("---STORES RETURNED---");sksCaptcha.initialize(y,"recaptchaOnForWaitList");}},error:function(){logger.log("---STORE RESULTS ERROR HANDLER---");saksModal.replaceContent(sksWarning.getWarningMessage("Not this item"),"#FIS-error-warning");},complete:function(y){sksTicker.done(c("div#btnSubmit"));}}};var f=function(z){var y=/^[-A-Za-z0-9_]+(\.[-A-Za-z0-9_]+){0,3}@[-A-Za-z0-9_]+(\.[-A-Za-z0-9_]+){0,3}\.[-\w]{2,4}$/;if(!z||z.length===0){return false;}else{if(!(y.exec(z))){return false;}else{return true;}}};var q=function(B){var y=false;var C=c("#ffwl-captcha-container");var A={ris_email:c.trim(c("#ffwl-email",C).val())};sksCaptcha.retrieveInputs(A,C);for(var z in A){if(A.hasOwnProperty(z)){if(z==="ris_email"&&!this._validateEmail(A[z])){c("#"+z+"-warning").append(sksWarning.getWarningMessage(z,"#ris-"+z.substring(4)));y=true;}else{if(z==="recaptcha_response_field"&&!this.validateInput(A[z])){c("#"+z+"-warning").append(sksWarning.getWarningMessage(z,"#recaptcha_response_field"));y=true;}}if(z!=="ris_phone"){A[z]=saksUtils.cleanInput(A[z]);}}}if(y){return false;}else{return A;}};var l=function(A){A=(A)?A:c("#saksBody");var E=c("#generic-modal","body");var C=c("#soldout_sku_ul",E);var B=c("#soldout_sku",E);var z=c("#ffwl-large-image img",A).attr("src");var D=function(G){var F=c(".soldout_sku_li input:checked",G);if(F.length!==0){c(".ffwl-error",E).hide();B.attr("value","Color/Size: "+F.length+" Selected");if(F.first().attr("data-img-path").length>0){c("#ffwl-large-image img",A).attr("src",F.first().attr("data-img-path"));}else{return;}}else{B.attr("value","Choose Color(s) and/or Size(s)");return;}};var y=function(G){var F=c(".soldout_sku_li input:checked",G);if(F.length!==0){c("#ffwldropdownbutton a",G).css("display","");}else{c("#ffwldropdownbutton a",G).css("display","none");}return;};c("#soldout_sku",A).click(function(F){if(C.css("display")==="block"){C.hide();}else{y(C);C.show();}F.preventDefault();});c(".add-to-wait-list",A).click(function(){var F=QLFISValidator.getValidData("ffwlSubmit");saksFFWaitList._qlRefer=false;if(F){sksGlobalAjax.ajaxRequest(requestManager.getRequestParams("ffwaitlistAdd",F));}});c("#saksOverlay",A).click(function(){B.show();C.hide();D(C);});c("#generic-modal").click(function(G){var F=c(G.target);if(F.attr("class")==="soldout_sku_li"||F.attr("class")==="soldout_sku_li soldout_select"&&c("input",F).length===1){if(c("input",F).first().attr("checked")==="checked"){c("input",F).first().attr("checked",false);}else{c("input",F).first().attr("checked",true);}}else{if(F.attr("class")==="soldout_sku_li_span"&&c("input",F.parent()).length===1){if(c("input",F.parent()).first().attr("checked")==="checked"){c("input",F.parent()).first().attr("checked",false);}else{c("input",F.parent()).first().attr("checked",true);}}}if(F.parents("#soldout_sku_ul").length>0||F.attr("id")==="soldout_sku_ul"||F.attr("id")==="soldout_sku"){return;}else{if(C.css("display")==="block"){B.show();C.hide();D(C);}}});c("li.soldout_sku_li",C).hover(function(){c(this).addClass("soldout_select");},function(){c(this).removeClass("soldout_select");});c("#ffwlbacktoQL",A).click(function(F){F.preventDefault();saksFFWaitList._qlRefer=false;saksQuickLook.open();});c("#ffwlApply",A).click(function(F){C.hide();D(C);F.preventDefault();});c("#ffwldropdownbutton a",A).click(function(F){c(".soldout_sku_li input:checked",C).attr("checked",false);F.preventDefault();});};return{onLoad:function(y){requestManager.registerRequest(g);if(location.href.indexOf("fashionfix.jsp")>-1){this.bindFFWLElementsOnArray(y);}else{if(location.href.indexOf("ProductDetail.jsp")>-1){this.bindFFWLElementsOnPD(y);}}},onQL:function(y){y=(y)?y:c("#quicklook");requestManager.registerRequest(g);this.bindFFWLonQL(y);},bindFFWLonQL:function(y){y=(y)?y:c("#quicklook");c("select.ffwlQLSelect",y).change(function(B){B.preventDefault();var A=c(this).children();if(!A.filter("option:selected.ffwlQL").size()){return;}var z=A.filter("option:selected").attr("data-product-code");var C=A.filter("option:selected").attr("value");saksFFWaitList._preID=C;saksFFWaitList._pCode=z;saksFFWaitList._qlRefer=true;saksFFWaitList.omn_click_location="quicklook: drop down";saksFFWaitList.getWaitListLayer({productCode:z});});c("a#ffwlQLButton",y).click(function(A){var z=c(this).attr("data-product-code");saksFFWaitList._qlRefer=true;saksFFWaitList._pCode=z;saksFFWaitList._preID="";saksFFWaitList.omn_click_location="quicklook: button";saksFFWaitList.getWaitListLayer({productCode:z});return false;});},bindFFWLElementsOnPD:function(y){y=(y)?y:c("#saksBody");c("a.ffwlPD",y).click(function(){var z=c(this).attr("data-product-code");var A=c(this).attr("data-sku");saksFFWaitList.omn_click_location="product detail: button";saksFFWaitList._preID="";saksFFWaitList.getWaitListLayer({productCode:z});return false;});},bindFFWLElementsOnArray:function(y){y=(y)?y:c("#saksBody");c(".soldout_waitlist",y).click(function(){var z=c(this).attr("data-product-code");saksFFWaitList._preID="";saksFFWaitList._qlRefer=false;saksFFWaitList.omn_click_location="product array: button";saksFFWaitList.getWaitListLayer({productCode:z});return false;});},showMarketPriceInfo:function(y){var z=c(y);z.on({"click.ft":function(A){logger.log("produt market price info click");var B=c(this);if(B.prop("class")==="ffwl-market-price-info-close"){B=B.parents().eq(2);}else{B=B.prev();}if(B.is(":visible")){B.css("display","none");}else{B.css("display","block");}A.preventDefault();}});},getWaitListLayer:function(y,z){sksGlobalAjax.ajaxRequest(requestManager.getRequestParams("ffwaitlistlayer",y),z);},getHideDropDown:function(){return u;},getCaptchaShow:function(){return o;},omn_click_location:e};}(jQuery));var sksWarning=(function(h){var b={"Invalid Zip Code":"Please enter a valid 5 digit US Zip Code.","No Stores Found":"Your selection is not available in any store within "+sksItemModel.getProductInfo("_radius")+" miles of "+sksItemModel.getProductInfo("_zipCode")+".<br/><br/>Please adjust your search criteria and try again.","Not this item":"FIND IN STORE service is not available for this item.",sizeqtyerror:"Please select a color or size.",sizeqtyziperror:"Please select a color or size and ZIP.",zipcodeError:"Please enter a valid 5 digit US Zip Code.",colorSizeError:"Please select a Color/Size.",qtyError:"Please enter a valid Quantity.",ris_fname:"Invalid first name.",ris_lname:"Invalid last name.",ris_email:"Invalid email address.",ris_phone:"Invalid phone number.",recaptcha_response_field:"Please enter the text displayed in the image.","ris-down":"We're sorry, Reserve in store service is not available at this time."};var m={CAPTCHA_ERROR:{div:"recaptcha_response_field-warning",callback:function(){Recaptcha.reload();}},YFS10048:{div:"FIS-error-warning"},YFS10049:{div:"FIS-error-warning"},YFS10050:{div:"FIS-error-warning"},YFS10051:{div:"FIS-error-warning"},YFS10053:{div:"FIS-error-warning"},YFS10054:{div:"FIS-error-warning"},YFS10055:{div:"FIS-error-warning"},YFS10060:{div:"FIS-error-warning"},BM001:{div:"FIS-error-warning"}};var a=function(n){return"<div>"+n+"</div>";};var c=function(n){if(typeof n==="string"){h(n).addClass("input-error");}else{if(typeof n==="object"){n.addClass("input-error");}}};var d=function(n){n.find(".input-error").removeClass("input-error");};var g=function(n,o){if(b[n]){if(o){c(o);}return a(b[n]);}else{logger.log("REQUESTING UNKNOWN ERRROR MESSAGE!!!!!!!!!!!!!");return"";}};var k=function(o){var n=m[o.errorCode];h("#"+n.div).empty().append(a(o.errorReason));c(n.div);if(n.callback){n.callback();}};var f=function(o){if(h.type(o)==="array"){for(var n=0;n<o.length;n++){k(o[n]);}}else{if(h.type(o)==="object"){k(o);}}};var e=function(n){n.empty();};var l=function(n){n=(n)?h(n):h("#saksbody");d(n);h(".saks-warning-msg",n).empty();};return{getWarningMessage:g,clearWarningMessage:e,clearAllWarningMessages:l,warn:f,warningMsgHtml:a};}(jQuery));var requestManager=(function(b){var a={_standardParams:{url:"/main/ProductDetail.jsp",type:"POST",dataType:"json"}};return{getRequestParams:function(d,c){if(a[d]){return b.extend(true,{},a[d],{data:c});}else{logger.log("ERROR: --- REQUEST IS NOT REGISTERED ---> "+d);}},registerRequest:function(c){for(var d in c){if(!a[d]){a[d]=b.extend(true,{},a._standardParams,c[d]);}else{logger.log("ERROR: --- REQUEST IS ALREADY REGISTERED ---> "+d);}}}};}(jQuery));var QLFISValidator=(function(b){var a={_isValid:function(c){sksWarning.clearAllWarningMessages("#generic-modal");return a._validations[c]();},_validations:{btnSubmit:function(){logger.log("VALIDATE DATA on click of btnsubmit BEFORE REQUESTING STORES");var d=b("#findInStore");var g=b("#MainProductqtyToBuy0",d);var c=b("#fis-zip",d);var f=b("select.vars-to-buy",d);b("#findInStoreResults").remove();var e={id:sksItemModel.getProductInfo("_productCode"),qty:parseInt(g.val(),10)||1,sku_id:saksFindInStore.calculateSkuValue(d),zip:c.val(),radius:b("#radius option:selected",d).val()};b(g,d).val(e.qty);if(e.qty&&parseInt(e.sku_id,10)&&this.validateZip(e.zip)){sksItemModel.setProductInfo("_skuCode",e.sku_id);sksItemModel.setProductInfo("_quantity",e.qty);return e;}else{if(this.validateZip(e.zip)===false){b("#zipcodeError").append(sksWarning.getWarningMessage("zipcodeError",c));}if(!parseInt(e.sku_id,10)){b("#colorSizeError").append(sksWarning.getWarningMessage("colorSizeError",f));}if(!e.qty){b("#qtyError").append(sksWarning.getWarningMessage("qtyError",g));}saksModal.resizeModalBox(779,390);return false;}},jsAddToBag:function(){logger.log("validating client side add to bag click");var c=b("#quicklook");var d={productCode:sksItemModel.getProductInfo("_productCode"),itemQuantity:b("#MainProductqtyToBuy0",c).val(),sku_id:saksFindInStore.calculateSkuValue(c)};if(parseInt(d.itemQuantity,10)>0&&parseInt(d.sku_id,10)!==0){return d;}else{saksModal.replaceContent(sksWarning.getWarningMessage("sizeqtyerror"),"#message-quicklook-foot");return false;}},jsFindInStoreQL:function(){logger.log("validating client side find in store click");var c=b("#generic-modal");var d={id:sksItemModel.getProductInfo("_productCode"),qty:b("#MainProductqtyToBuy0",c).val(),sku_id:saksFindInStore.calculateSkuValue(c)};d.qty=(!parseInt(d.qty,10))?1:d.qty;sksItemModel.setProductInfo("_skuCode",d.sku_id);sksItemModel.setProductInfo("_quantity",d.qty);return d;},rissubmit:function(){var c=false;var f=b("#findInStoreResults");var e={ris_fname:b.trim(b("#ris-fname",f).val()),ris_lname:b.trim(b("#ris-lname",f).val()),ris_email:b.trim(b("#ris-email",f).val()),ris_phone:b.trim(b("#ris-phone",f).val())};sksCaptcha.retrieveInputs(e,f);for(var d in e){if(e.hasOwnProperty(d)){if(d==="ris_email"&&!this.validateEmail(e[d])){b("#"+d+"-warning").append(sksWarning.getWarningMessage(d,"#ris-"+d.substring(4)));c=true;}else{if(d==="recaptcha_response_field"&&!this.validateInput(e[d])){b("#"+d+"-warning").append(sksWarning.getWarningMessage(d,"#recaptcha_response_field"));c=true;}else{if(d==="ris_fname"&&!this.validateInput(e[d])){b("#"+d+"-warning").append(sksWarning.getWarningMessage(d,"#ris-"+d.substring(4)));c=true;}else{if(d==="ris_lname"&&!this.validateInput(e[d])){b("#"+d+"-warning").append(sksWarning.getWarningMessage(d,"#ris-"+d.substring(4)));c=true;}else{if(d==="ris_phone"&&!this.validatePhone(e[d])){b("#"+d+"-warning").append(sksWarning.getWarningMessage(d,"#ris-"+d.substring(4)));c=true;}}}}}if(d!=="ris_phone"){e[d]=saksUtils.cleanInput(e[d]);}}}if(c){return false;}else{return e;}},ffwlSubmit:function(){var d=false;var f=b("#ffWaitList");var e={WAITLIST_EMAIL:b.trim(b("#ffwl-email",f).val()),SELECTED_SKUS:""};sksCaptcha.retrieveInputs(e,f);if(!this.validateEmail(e.WAITLIST_EMAIL)){b("#ffwl-email-warning",f).append(sksWarning.getWarningMessage("ris_email","#ffwl-email"));d=true;}if(!this.validateInput(e.recaptcha_response_field)&&saksFFWaitList.getCaptchaShow()){b("#recaptcha_response_field-warning",f).append(sksWarning.getWarningMessage("recaptcha_response_field","#recaptcha_response_field"));d=true;}var c=b(".soldout_sku_li input",f);if(c.filter(":checked").length===0&&saksFFWaitList.getHideDropDown()===false){b(".ffwl-error",f).show();d=true;}if(saksFFWaitList.getHideDropDown()===true){e.SELECTED_SKUS=c.attr("data-soldout-sku");}else{c.filter(":checked").each(function(){e.SELECTED_SKUS+=b(this).attr("data-soldout-sku")+",";});}if(d){return false;}else{return e;}},validatePhone:function(c){if(!c||c.length===0){return false;}else{if(!c.match(/^[0-9\.\-\(\)\s]*$/)){return false;}else{return true;}}},validateInput:function(c){if(!c||c.length===0){return false;}else{return true;}},validateZip:function(e){logger.log("Validating FIS Zip code: "+e);var d=b.trim(e);var c=d.length;if(c===0){return false;}else{if(c!==5){return false;}else{if(!d.match(/^[0-9]{5}$/)){return false;}else{return true;}}}},validateEmail:function(d){var c=/^[-A-Za-z0-9_]+(\.[-A-Za-z0-9_]+){0,3}@[-A-Za-z0-9_]+(\.[-A-Za-z0-9_]+){0,3}\.[-\w]{2,4}$/;if(!d||d.length===0){return false;}else{if(!(c.exec(d))){return false;}else{return true;}}}}};return{getValidData:a._isValid};}(jQuery));jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(l,k,b,c,d){return jQuery.easing[jQuery.easing.def](l,k,b,c,d);},easeInQuad:function(l,k,b,c,d){return c*(k/=d)*k+b;},easeOutQuad:function(l,k,b,c,d){return -c*(k/=d)*(k-2)+b;},easeInOutQuad:function(l,k,b,c,d){if((k/=d/2)<1){return c/2*k*k+b;}return -c/2*((--k)*(k-2)-1)+b;},easeInCubic:function(l,k,b,c,d){return c*(k/=d)*k*k+b;},easeOutCubic:function(l,k,b,c,d){return c*((k=k/d-1)*k*k+1)+b;},easeInOutCubic:function(l,k,b,c,d){if((k/=d/2)<1){return c/2*k*k*k+b;}return c/2*((k-=2)*k*k+2)+b;},easeInQuart:function(l,k,b,c,d){return c*(k/=d)*k*k*k+b;},easeOutQuart:function(l,k,b,c,d){return -c*((k=k/d-1)*k*k*k-1)+b;},easeInOutQuart:function(l,k,b,c,d){if((k/=d/2)<1){return c/2*k*k*k*k+b;}return -c/2*((k-=2)*k*k*k-2)+b;},easeInQuint:function(l,k,b,c,d){return c*(k/=d)*k*k*k*k+b;},easeOutQuint:function(l,k,b,c,d){return c*((k=k/d-1)*k*k*k*k+1)+b;},easeInOutQuint:function(l,k,b,c,d){if((k/=d/2)<1){return c/2*k*k*k*k*k+b;}return c/2*((k-=2)*k*k*k*k+2)+b;},easeInSine:function(l,k,b,c,d){return -c*Math.cos(k/d*(Math.PI/2))+c+b;},easeOutSine:function(l,k,b,c,d){return c*Math.sin(k/d*(Math.PI/2))+b;},easeInOutSine:function(l,k,b,c,d){return -c/2*(Math.cos(Math.PI*k/d)-1)+b;},easeInExpo:function(l,k,b,c,d){return(k==0)?b:c*Math.pow(2,10*(k/d-1))+b;},easeOutExpo:function(l,k,b,c,d){return(k==d)?b+c:c*(-Math.pow(2,-10*k/d)+1)+b;},easeInOutExpo:function(l,k,b,c,d){if(k==0){return b;}if(k==d){return b+c;}if((k/=d/2)<1){return c/2*Math.pow(2,10*(k-1))+b;}return c/2*(-Math.pow(2,-10*--k)+2)+b;},easeInCirc:function(l,k,b,c,d){return -c*(Math.sqrt(1-(k/=d)*k)-1)+b;},easeOutCirc:function(l,k,b,c,d){return c*Math.sqrt(1-(k=k/d-1)*k)+b;},easeInOutCirc:function(l,k,b,c,d){if((k/=d/2)<1){return -c/2*(Math.sqrt(1-k*k)-1)+b;}return c/2*(Math.sqrt(1-(k-=2)*k)+1)+b;},easeInElastic:function(o,m,q,a,b){var d=1.70158;var c=0;var n=a;if(m==0){return q;}if((m/=b)==1){return q+a;}if(!c){c=b*0.3;}if(n<Math.abs(a)){n=a;var d=c/4;}else{var d=c/(2*Math.PI)*Math.asin(a/n);}return -(n*Math.pow(2,10*(m-=1))*Math.sin((m*b-d)*(2*Math.PI)/c))+q;},easeOutElastic:function(o,m,q,a,b){var d=1.70158;var c=0;var n=a;if(m==0){return q;}if((m/=b)==1){return q+a;}if(!c){c=b*0.3;}if(n<Math.abs(a)){n=a;var d=c/4;}else{var d=c/(2*Math.PI)*Math.asin(a/n);}return n*Math.pow(2,-10*m)*Math.sin((m*b-d)*(2*Math.PI)/c)+a+q;},easeInOutElastic:function(o,m,q,a,b){var d=1.70158;var c=0;var n=a;if(m==0){return q;}if((m/=b/2)==2){return q+a;}if(!c){c=b*(0.3*1.5);}if(n<Math.abs(a)){n=a;var d=c/4;}else{var d=c/(2*Math.PI)*Math.asin(a/n);}if(m<1){return -0.5*(n*Math.pow(2,10*(m-=1))*Math.sin((m*b-d)*(2*Math.PI)/c))+q;}return n*Math.pow(2,-10*(m-=1))*Math.sin((m*b-d)*(2*Math.PI)/c)*0.5+a+q;},easeInBack:function(m,l,b,c,d,k){if(k==undefined){k=1.70158;}return c*(l/=d)*l*((k+1)*l-k)+b;},easeOutBack:function(m,l,b,c,d,k){if(k==undefined){k=1.70158;}return c*((l=l/d-1)*l*((k+1)*l+k)+1)+b;},easeInOutBack:function(m,l,b,c,d,k){if(k==undefined){k=1.70158;}if((l/=d/2)<1){return c/2*(l*l*(((k*=(1.525))+1)*l-k))+b;}return c/2*((l-=2)*l*(((k*=(1.525))+1)*l+k)+2)+b;},easeInBounce:function(l,k,b,c,d){return c-jQuery.easing.easeOutBounce(l,d-k,0,c,d)+b;},easeOutBounce:function(l,k,b,c,d){if((k/=d)<(1/2.75)){return c*(7.5625*k*k)+b;}else{if(k<(2/2.75)){return c*(7.5625*(k-=(1.5/2.75))*k+0.75)+b;}else{if(k<(2.5/2.75)){return c*(7.5625*(k-=(2.25/2.75))*k+0.9375)+b;}else{return c*(7.5625*(k-=(2.625/2.75))*k+0.984375)+b;}}}},easeInOutBounce:function(l,k,b,c,d){if(k<d/2){return jQuery.easing.easeInBounce(l,k*2,0,c,d)*0.5+b;}return jQuery.easing.easeOutBounce(l,k*2-d,0,c,d)*0.5+c*0.5+b;}});(function(B){var y="2.9997";if(B.support==undefined){B.support={opacity:!(B.browser.msie)};}function J(a){B.fn.cycle.debug&&E(a);}function E(){window.console&&console.log&&console.log("[cycle] "+Array.prototype.join.call(arguments," "));}B.expr[":"].paused=function(a){return a.cyclePause;};B.fn.cycle=function(b,c){var a={s:this.selector,c:this.context};if(this.length===0&&b!="stop"){if(!B.isReady&&a.s){E("DOM not ready, queuing slideshow");B(function(){B(a.s,a.c).cycle(b,c);});return this;}E("terminating; zero elements found by selector"+(B.isReady?"":" (DOM not ready)"));return this;}return this.each(function(){var k=w(this,b,c);if(k===false){return;}k.updateActivePagerLink=k.updateActivePagerLink||B.fn.cycle.updateActivePagerLink;if(this.cycleTimeout){clearTimeout(this.cycleTimeout);}this.cycleTimeout=this.cyclePause=0;var h=B(this);var e=k.slideExpr?B(k.slideExpr,this):h.children();var f=e.get();var g=z(h,e,f,k,a);if(g===false){return;}if(f.length<2){E("terminating; too few slides: "+f.length);return;}var d=g.continuous?10:C(f[g.currSlide],f[g.nextSlide],g,!g.backwards);if(d){d+=(g.delay||0);if(d<10){d=10;}J("first timeout: "+d);this.cycleTimeout=setTimeout(function(){F(f,g,0,!k.backwards);},d);}});};function x(e,b,c){var a=B(e).data("cycle.opts");var d=!!e.cyclePause;if(d&&a.paused){a.paused(e,a,b,c);}else{if(!d&&a.resumed){a.resumed(e,a,b,c);}}}function w(f,c,e){if(f.cycleStop==undefined){f.cycleStop=0;}if(c===undefined||c===null){c={};}if(c.constructor==String){switch(c){case"destroy":case"stop":var a=B(f).data("cycle.opts");if(!a){return false;}f.cycleStop++;if(f.cycleTimeout){clearTimeout(f.cycleTimeout);}f.cycleTimeout=0;a.elements&&B(a.elements).stop();B(f).removeData("cycle.opts");if(c=="destroy"){t(a);}return false;case"toggle":f.cyclePause=(f.cyclePause===1)?0:1;b(f.cyclePause,e,f);x(f);return false;case"pause":f.cyclePause=1;x(f);return false;case"resume":f.cyclePause=0;b(false,e,f);x(f);return false;case"prev":case"next":var a=B(f).data("cycle.opts");if(!a){E('options not found, "prev/next" ignored');return false;}B.fn.cycle[c](a);return false;default:c={fx:c};}return c;}else{if(c.constructor==Number){var d=c;c=B(f).data("cycle.opts");if(!c){E("options not found, can not advance slide");return false;}if(d<0||d>=c.elements.length){E("invalid slide index: "+d);return false;}c.nextSlide=d;if(f.cycleTimeout){clearTimeout(f.cycleTimeout);f.cycleTimeout=0;}if(typeof e=="string"){c.oneTimeFx=e;}F(c.elements,c,1,d>=c.currSlide);return false;}}return c;function b(h,g,l){if(!h&&g===true){var k=B(l).data("cycle.opts");if(!k){E("options not found, can not resume");return false;}if(l.cycleTimeout){clearTimeout(l.cycleTimeout);l.cycleTimeout=0;}F(k.elements,k,1,!k.backwards);}}}function I(c,b){if(!B.support.opacity&&b.cleartype&&c.style.filter){try{c.style.removeAttribute("filter");}catch(a){}}}function t(a){if(a.next){B(a.next).unbind(a.prevNextEvent);}if(a.prev){B(a.prev).unbind(a.prevNextEvent);}if(a.pager||a.pagerAnchorBuilder){B.each(a.pagerAnchors||[],function(){this.unbind().remove();});}a.pagerAnchors=null;if(a.destroy){a.destroy(a);}}function z(W,b,k,m,l){var q=B.extend({},B.fn.cycle.defaults,m||{},B.metadata?W.metadata():B.meta?W.data():{});var R=B.isFunction(W.data)?W.data(q.metaAttr):null;if(R){q=B.extend(q,R);}if(q.autostop){q.countdown=q.autostopCount||k.length;}var S=W[0];W.data("cycle.opts",q);q.$cont=W;q.stopCount=S.cycleStop;q.elements=k;q.before=q.before?[q.before]:[];q.after=q.after?[q.after]:[];if(!B.support.opacity&&q.cleartype){q.after.push(function(){I(this,q);});}if(q.continuous){q.after.push(function(){F(k,q,0,!q.backwards);});}v(q);if(!B.support.opacity&&q.cleartype&&!q.cleartypeNoBg){D(b);}if(W.css("position")=="static"){W.css("position","relative");}if(q.width){W.width(q.width);}if(q.height&&q.height!="auto"){W.height(q.height);}if(q.startingSlide){q.startingSlide=parseInt(q.startingSlide,10);}else{if(q.backwards){q.startingSlide=k.length-1;}}if(q.random){q.randomMap=[];for(var d=0;d<k.length;d++){q.randomMap.push(d);}q.randomMap.sort(function(L,K){return Math.random()-0.5;});q.randomIndex=1;q.startingSlide=q.randomMap[1];}else{if(q.startingSlide>=k.length){q.startingSlide=0;}}q.currSlide=q.startingSlide||0;var X=q.startingSlide;b.css({position:"absolute",top:0,left:0}).hide().each(function(K){var L;if(q.backwards){L=X?K<=X?k.length+(K-X):X-K:k.length-K;}else{L=X?K>=X?k.length-(K-X):X-K:k.length-K;}B(this).css("z-index",L);});B(k[X]).css("opacity",1).show();I(k[X],q);if(q.fit){if(!q.aspect){if(q.width){b.width(q.width);}if(q.height&&q.height!="auto"){b.height(q.height);}}else{b.each(function(){var L=B(this);var K=(q.aspect===true)?L.width()/L.height():q.aspect;if(q.width&&L.width()!=q.width){L.width(q.width);L.height(q.width/K);}if(q.height&&L.height()<q.height){L.height(q.height);L.width(q.height*K);}});}}if(q.center&&((!q.fit)||q.aspect)){b.each(function(){var K=B(this);K.css({"margin-left":q.width?((q.width-K.width())/2)+"px":0,"margin-top":q.height?((q.height-K.height())/2)+"px":0});});}if(q.center&&!q.fit&&!q.slideResize){b.each(function(){var K=B(this);K.css({"margin-left":q.width?((q.width-K.width())/2)+"px":0,"margin-top":q.height?((q.height-K.height())/2)+"px":0});});}var n=q.containerResize&&!W.innerHeight();if(n){var g=0,Q=0;for(var f=0;f<k.length;f++){var T=B(k[f]),a=T[0],U=T.outerWidth(),c=T.outerHeight();if(!U){U=a.offsetWidth||a.width||T.attr("width");}if(!c){c=a.offsetHeight||a.height||T.attr("height");}g=U>g?U:g;Q=c>Q?c:Q;}if(g>0&&Q>0){W.css({width:g+"px",height:Q+"px"});}}var o=false;if(q.pause){W.hover(function(){o=true;this.cyclePause++;x(S,true);},function(){o&&this.cyclePause--;x(S,true);});}if(H(q)===false){return false;}var r=false;m.requeueAttempts=m.requeueAttempts||0;b.each(function(){var M=B(this);this.cycleH=(q.fit&&q.height)?q.height:(M.height()||this.offsetHeight||this.height||M.attr("height")||0);this.cycleW=(q.fit&&q.width)?q.width:(M.width()||this.offsetWidth||this.width||M.attr("width")||0);if(M.is("img")){var O=(B.browser.msie&&this.cycleW==28&&this.cycleH==30&&!this.complete);var L=(B.browser.mozilla&&this.cycleW==34&&this.cycleH==19&&!this.complete);var N=(B.browser.opera&&((this.cycleW==42&&this.cycleH==19)||(this.cycleW==37&&this.cycleH==17))&&!this.complete);var K=(this.cycleH==0&&this.cycleW==0&&!this.complete);if(O||L||N||K){if(l.s&&q.requeueOnImageNotLoaded&&++m.requeueAttempts<100){E(m.requeueAttempts," - img slide not loaded, requeuing slideshow: ",this.src,this.cycleW,this.cycleH);setTimeout(function(){B(l.s,l.c).cycle(m);},q.requeueTimeout);r=true;return false;}else{E("could not determine size of image: "+this.src,this.cycleW,this.cycleH);}}}return true;});if(r){return false;}q.cssBefore=q.cssBefore||{};q.cssAfter=q.cssAfter||{};q.cssFirst=q.cssFirst||{};q.animIn=q.animIn||{};q.animOut=q.animOut||{};b.not(":eq("+X+")").css(q.cssBefore);B(b[X]).css(q.cssFirst);if(q.timeout){q.timeout=parseInt(q.timeout,10);if(q.speed.constructor==String){q.speed=B.fx.speeds[q.speed]||parseInt(q.speed,10);}if(!q.sync){q.speed=q.speed/2;}var h=q.fx=="none"?0:q.fx=="shuffle"?500:250;while((q.timeout-q.speed)<h){q.timeout+=q.speed;}}if(q.easing){q.easeIn=q.easeOut=q.easing;}if(!q.speedIn){q.speedIn=q.speed;}if(!q.speedOut){q.speedOut=q.speed;}q.slideCount=k.length;q.currSlide=q.lastSlide=X;if(q.random){if(++q.randomIndex==k.length){q.randomIndex=0;}q.nextSlide=q.randomMap[q.randomIndex];}else{if(q.backwards){q.nextSlide=q.startingSlide==0?(k.length-1):q.startingSlide-1;}else{q.nextSlide=q.startingSlide>=(k.length-1)?0:q.startingSlide+1;}}if(!q.multiFx){var e=B.fn.cycle.transitions[q.fx];if(B.isFunction(e)){e(W,b,q);}else{if(q.fx!="custom"&&!q.multiFx){E("unknown transition: "+q.fx,"; slideshow terminating");return false;}}}var V=b[X];if(!q.skipInitializationCallbacks){if(q.before.length){q.before[0].apply(V,[V,V,q,true]);}if(q.after.length){q.after[0].apply(V,[V,V,q,true]);}}if(q.next){B(q.next).bind(q.prevNextEvent,function(){return u(q,1);});}if(q.prev){B(q.prev).bind(q.prevNextEvent,function(){return u(q,0);});}if(q.pager||q.pagerAnchorBuilder){G(k,q);}A(q,k);return q;}function v(a){a.original={before:[],after:[]};a.original.cssBefore=B.extend({},a.cssBefore);a.original.cssAfter=B.extend({},a.cssAfter);a.original.animIn=B.extend({},a.animIn);a.original.animOut=B.extend({},a.animOut);B.each(a.before,function(){a.original.before.push(this);});B.each(a.after,function(){a.original.after.push(this);});}function H(g){var b,d,e=B.fn.cycle.transitions;if(g.fx.indexOf(",")>0){g.multiFx=true;g.fxs=g.fx.replace(/\s*/g,"").split(",");for(b=0;b<g.fxs.length;b++){var a=g.fxs[b];d=e[a];if(!d||!e.hasOwnProperty(a)||!B.isFunction(d)){E("discarding unknown transition: ",a);g.fxs.splice(b,1);b--;}}if(!g.fxs.length){E("No valid transitions named; slideshow terminating.");return false;}}else{if(g.fx=="all"){g.multiFx=true;g.fxs=[];for(p in e){d=e[p];if(e.hasOwnProperty(p)&&B.isFunction(d)){g.fxs.push(p);}}}}if(g.multiFx&&g.randomizeEffects){var c=Math.floor(Math.random()*20)+30;for(b=0;b<c;b++){var f=Math.floor(Math.random()*g.fxs.length);g.fxs.push(g.fxs.splice(f,1)[0]);}J("randomized fx sequence: ",g.fxs);}return true;}function A(a,b){a.addSlide=function(e,d){var f=B(e),c=f[0];if(!a.autostopCount){a.countdown++;}b[d?"unshift":"push"](c);if(a.els){a.els[d?"unshift":"push"](c);}a.slideCount=b.length;f.css("position","absolute");f[d?"prependTo":"appendTo"](a.$cont);if(d){a.currSlide++;a.nextSlide++;}if(!B.support.opacity&&a.cleartype&&!a.cleartypeNoBg){D(f);}if(a.fit&&a.width){f.width(a.width);}if(a.fit&&a.height&&a.height!="auto"){f.height(a.height);}c.cycleH=(a.fit&&a.height)?a.height:f.height();c.cycleW=(a.fit&&a.width)?a.width:f.width();f.css(a.cssBefore);if(a.pager||a.pagerAnchorBuilder){B.fn.cycle.createPagerAnchor(b.length-1,c,B(a.pager),b,a);}if(B.isFunction(a.onAddSlide)){a.onAddSlide(f);}else{f.hide();}};}B.fn.cycle.resetState=function(b,c){c=c||b.fx;b.before=[];b.after=[];b.cssBefore=B.extend({},b.original.cssBefore);b.cssAfter=B.extend({},b.original.cssAfter);b.animIn=B.extend({},b.original.animIn);b.animOut=B.extend({},b.original.animOut);b.fxFn=null;B.each(b.original.before,function(){b.before.push(this);});B.each(b.original.after,function(){b.after.push(this);});var a=B.fn.cycle.transitions[c];if(B.isFunction(a)){a(b.$cont,B(b.elements),b);}};function F(f,n,g,d){if(g&&n.busy&&n.manualTrump){J("manualTrump in go(), stopping active transition");B(f).stop(true,true);n.busy=0;}if(n.busy){J("transition active, ignoring new tx request");return;}var k=n.$cont[0],a=f[n.currSlide],c=f[n.nextSlide];if(k.cycleStop!=n.stopCount||k.cycleTimeout===0&&!g){return;}if(!g&&!k.cyclePause&&!n.bounce&&((n.autostop&&(--n.countdown<=0))||(n.nowrap&&!n.random&&n.nextSlide<n.currSlide))){if(n.end){n.end(n);}return;}var e=false;if((g||!k.cyclePause)&&(n.nextSlide!=n.currSlide)){e=true;var h=n.fx;a.cycleH=a.cycleH||B(a).height();a.cycleW=a.cycleW||B(a).width();c.cycleH=c.cycleH||B(c).height();c.cycleW=c.cycleW||B(c).width();if(n.multiFx){if(d&&(n.lastFx==undefined||++n.lastFx>=n.fxs.length)){n.lastFx=0;}else{if(!d&&(n.lastFx==undefined||--n.lastFx<0)){n.lastFx=n.fxs.length-1;}}h=n.fxs[n.lastFx];}if(n.oneTimeFx){h=n.oneTimeFx;n.oneTimeFx=null;}B.fn.cycle.resetState(n,h);if(n.before.length){B.each(n.before,function(q,o){if(k.cycleStop!=n.stopCount){return;}o.apply(c,[a,c,n,d]);});}var m=function(){n.busy=0;B.each(n.after,function(q,o){if(k.cycleStop!=n.stopCount){return;}o.apply(c,[a,c,n,d]);});if(!k.cycleStop){b();}};J("tx firing("+h+"); currSlide: "+n.currSlide+"; nextSlide: "+n.nextSlide);n.busy=1;if(n.fxFn){n.fxFn(a,c,n,m,d,g&&n.fastOnEvent);}else{if(B.isFunction(B.fn.cycle[n.fx])){B.fn.cycle[n.fx](a,c,n,m,d,g&&n.fastOnEvent);}else{B.fn.cycle.custom(a,c,n,m,d,g&&n.fastOnEvent);}}}else{b();}if(e||n.nextSlide==n.currSlide){n.lastSlide=n.currSlide;if(n.random){n.currSlide=n.nextSlide;if(++n.randomIndex==f.length){n.randomIndex=0;}n.nextSlide=n.randomMap[n.randomIndex];if(n.nextSlide==n.currSlide){n.nextSlide=(n.currSlide==n.slideCount-1)?0:n.currSlide+1;}}else{if(n.backwards){var l=(n.nextSlide-1)<0;if(l&&n.bounce){n.backwards=!n.backwards;n.nextSlide=1;n.currSlide=0;}else{n.nextSlide=l?(f.length-1):n.nextSlide-1;n.currSlide=l?0:n.nextSlide+1;}}else{var l=(n.nextSlide+1)==f.length;if(l&&n.bounce){n.backwards=!n.backwards;n.nextSlide=f.length-2;n.currSlide=f.length-1;}else{n.nextSlide=l?0:n.nextSlide+1;n.currSlide=l?f.length-1:n.nextSlide-1;}}}}if(e&&n.pager){n.updateActivePagerLink(n.pager,n.currSlide,n.activePagerClass);}function b(){var q=0,o=n.timeout;if(n.timeout&&!n.continuous){q=C(f[n.currSlide],f[n.nextSlide],n,d);if(n.fx=="shuffle"){q-=n.speedOut;}}else{if(n.continuous&&k.cyclePause){q=10;}}if(q>0){k.cycleTimeout=setTimeout(function(){F(f,n,0,!n.backwards);},q);}}}B.fn.cycle.updateActivePagerLink=function(c,a,b){B(c).each(function(){B(this).children().removeClass(b).eq(a).addClass(b);});};function C(a,c,b,d){if(b.timeoutFn){var e=b.timeoutFn.call(a,a,c,b,d);while(b.fx!="none"&&(e-b.speed)<250){e+=b.speed;}J("calculated timeout: "+e+"; speed: "+b.speed);if(e!==false){return e;}}return b.timeout;}B.fn.cycle.next=function(a){u(a,1);};B.fn.cycle.prev=function(a){u(a,0);};function u(c,d){var g=d?1:-1;var e=c.elements;var a=c.$cont[0],b=a.cycleTimeout;if(b){clearTimeout(b);a.cycleTimeout=0;}if(c.random&&g<0){c.randomIndex--;if(--c.randomIndex==-2){c.randomIndex=e.length-2;}else{if(c.randomIndex==-1){c.randomIndex=e.length-1;}}c.nextSlide=c.randomMap[c.randomIndex];}else{if(c.random){c.nextSlide=c.randomMap[c.randomIndex];}else{c.nextSlide=c.currSlide+g;if(c.nextSlide<0){if(c.nowrap){return false;}c.nextSlide=e.length-1;}else{if(c.nextSlide>=e.length){if(c.nowrap){return false;}c.nextSlide=0;}}}}var f=c.onPrevNextEvent||c.prevNextClick;if(B.isFunction(f)){f(g>0,c.nextSlide,e[c.nextSlide]);}F(e,c,1,d);return false;}function G(b,a){var c=B(a.pager);B.each(b,function(e,d){B.fn.cycle.createPagerAnchor(e,d,c,b,a);});a.updateActivePagerLink(a.pager,a.startingSlide,a.activePagerClass);}B.fn.cycle.createPagerAnchor=function(f,k,d,g,l){var c;if(B.isFunction(l.pagerAnchorBuilder)){c=l.pagerAnchorBuilder(f,k);J("pagerAnchorBuilder("+f+", el) returned: "+c);}else{c='<a href="#">'+(f+1)+"</a>";}if(!c){return;}var h=B(c);if(h.parents("body").length===0){var e=[];if(d.length>1){d.each(function(){var n=h.clone(true);B(this).append(n);e.push(n[0]);});h=B(e);}else{h.appendTo(d);}}l.pagerAnchors=l.pagerAnchors||[];l.pagerAnchors.push(h);var b=function(n){n.preventDefault();l.nextSlide=f;var o=l.$cont[0],q=o.cycleTimeout;if(q){clearTimeout(q);o.cycleTimeout=0;}var r=l.onPagerEvent||l.pagerClick;if(B.isFunction(r)){r(l.nextSlide,g[l.nextSlide]);}F(g,l,1,l.currSlide<f);};if(/mouseenter|mouseover/i.test(l.pagerEvent)){h.hover(b,function(){});}else{h.bind(l.pagerEvent,b);}if(!/^click/.test(l.pagerEvent)&&!l.allowPagerClickBubble){h.bind("click.cycle",function(){return false;});}var a=l.$cont[0];var m=false;if(l.pauseOnPagerHover){h.hover(function(){m=true;a.cyclePause++;x(a,true,true);},function(){m&&a.cyclePause--;x(a,true,true);});}};B.fn.cycle.hopsFromLast=function(b,c){var d,e=b.lastSlide,a=b.currSlide;if(c){d=a>e?a-e:b.slideCount-e;}else{d=a<e?e-a:e+b.slideCount-a;}return d;};function D(a){J("applying clearType background-color hack");function b(d){d=parseInt(d,10).toString(16);return d.length<2?"0"+d:d;}function c(f){for(;f&&f.nodeName.toLowerCase()!="html";f=f.parentNode){var e=B.css(f,"background-color");if(e&&e.indexOf("rgb")>=0){var d=e.match(/\d+/g);return"#"+b(d[0])+b(d[1])+b(d[2]);}if(e&&e!="transparent"){return e;}}return"#ffffff";}a.each(function(){B(this).css("background-color",c(this));});}B.fn.cycle.commonReset=function(f,b,a,d,c,e){B(a.elements).not(f).hide();if(typeof a.cssBefore.opacity=="undefined"){a.cssBefore.opacity=1;}a.cssBefore.display="block";if(a.slideResize&&d!==false&&b.cycleW>0){a.cssBefore.width=b.cycleW;}if(a.slideResize&&c!==false&&b.cycleH>0){a.cssBefore.height=b.cycleH;}a.cssAfter=a.cssAfter||{};a.cssAfter.display="none";B(f).css("zIndex",a.slideCount+(e===true?1:0));B(b).css("zIndex",a.slideCount+(e===true?0:1));};B.fn.cycle.custom=function(n,f,o,k,g,m){var a=B(n),e=B(f);var l=o.speedIn,b=o.speedOut,h=o.easeIn,c=o.easeOut;e.css(o.cssBefore);if(m){if(typeof m=="number"){l=b=m;}else{l=b=1;}h=c=null;}var d=function(){e.animate(o.animIn,l,h,function(){k();});};a.animate(o.animOut,b,c,function(){a.css(o.cssAfter);if(!o.sync){d();}});if(o.sync){d();}};B.fn.cycle.transitions={fade:function(b,a,c){a.not(":eq("+c.currSlide+")").css("opacity",0);c.before.push(function(d,f,e){B.fn.cycle.commonReset(d,f,e);e.cssBefore.opacity=0;});c.animIn={opacity:1};c.animOut={opacity:0};c.cssBefore={top:0,left:0};}};B.fn.cycle.ver=function(){return y;};B.fn.cycle.defaults={activePagerClass:"activeSlide",after:null,allowPagerClickBubble:false,animIn:null,animOut:null,aspect:false,autostop:0,autostopCount:0,backwards:false,before:null,center:null,cleartype:!B.support.opacity,cleartypeNoBg:false,containerResize:1,continuous:0,cssAfter:null,cssBefore:null,delay:0,easeIn:null,easeOut:null,easing:null,end:null,fastOnEvent:0,fit:0,fx:"fade",fxFn:null,height:"auto",manualTrump:true,metaAttr:"cycle",next:null,nowrap:0,onPagerEvent:null,onPrevNextEvent:null,pager:null,pagerAnchorBuilder:null,pagerEvent:"click.cycle",pause:0,pauseOnPagerHover:0,prev:null,prevNextEvent:"click.cycle",random:0,randomizeEffects:1,requeueOnImageNotLoaded:true,requeueTimeout:250,rev:0,shuffle:null,skipInitializationCallbacks:false,slideExpr:null,slideResize:1,speed:1000,speedIn:null,speedOut:null,startingSlide:0,sync:1,timeout:4000,timeoutFn:null,updateActivePagerLink:null,width:null};})(jQuery);(function(b){b.fn.cycle.transitions.none=function(f,e,a){a.fxFn=function(d,l,k,c){b(l).show();b(d).hide();c();};};b.fn.cycle.transitions.fadeout=function(f,e,a){e.not(":eq("+a.currSlide+")").css({display:"block",opacity:1});a.before.push(function(c,h,d,m,l,n){b(c).css("zIndex",d.slideCount+(!n===true?1:0));b(h).css("zIndex",d.slideCount+(!n===true?0:1));});a.animIn.opacity=1;a.animOut.opacity=0;a.cssBefore.opacity=1;a.cssBefore.display="block";a.cssAfter.zIndex=0;};b.fn.cycle.transitions.scrollUp=function(g,f,h){g.css("overflow","hidden");h.before.push(b.fn.cycle.commonReset);var a=g.height();h.cssBefore.top=a;h.cssBefore.left=0;h.cssFirst.top=0;h.animIn.top=0;h.animOut.top=-a;};b.fn.cycle.transitions.scrollDown=function(g,f,h){g.css("overflow","hidden");h.before.push(b.fn.cycle.commonReset);var a=g.height();h.cssFirst.top=0;h.cssBefore.top=-a;h.cssBefore.left=0;h.animIn.top=0;h.animOut.top=a;};b.fn.cycle.transitions.scrollLeft=function(g,f,h){g.css("overflow","hidden");h.before.push(b.fn.cycle.commonReset);var a=g.width();h.cssFirst.left=0;h.cssBefore.left=a;h.cssBefore.top=0;h.animIn.left=0;h.animOut.left=0-a;};b.fn.cycle.transitions.scrollRight=function(g,f,h){g.css("overflow","hidden");h.before.push(b.fn.cycle.commonReset);var a=g.width();h.cssFirst.left=0;h.cssBefore.left=-a;h.cssBefore.top=0;h.animIn.left=0;h.animOut.left=a;};b.fn.cycle.transitions.scrollHorz=function(f,e,a){f.css("overflow","hidden").width();a.before.push(function(c,k,d,l){if(d.rev){l=!l;}b.fn.cycle.commonReset(c,k,d);d.cssBefore.left=l?(k.cycleW-1):(1-k.cycleW);d.animOut.left=l?-c.cycleW:c.cycleW;});a.cssFirst.left=0;a.cssBefore.top=0;a.animIn.left=0;a.animOut.top=0;};b.fn.cycle.transitions.scrollVert=function(f,e,a){f.css("overflow","hidden");a.before.push(function(c,k,d,l){if(d.rev){l=!l;}b.fn.cycle.commonReset(c,k,d);d.cssBefore.top=l?(1-k.cycleH):(k.cycleH-1);d.animOut.top=l?c.cycleH:-c.cycleH;});a.cssFirst.top=0;a.cssBefore.left=0;a.animIn.top=0;a.animOut.left=0;};b.fn.cycle.transitions.slideX=function(f,e,a){a.before.push(function(c,h,d){b(d.elements).not(c).hide();b.fn.cycle.commonReset(c,h,d,false,true);d.animIn.width=h.cycleW;});a.cssBefore.left=0;a.cssBefore.top=0;a.cssBefore.width=0;a.animIn.width="show";a.animOut.width=0;};b.fn.cycle.transitions.slideY=function(f,e,a){a.before.push(function(c,h,d){b(d.elements).not(c).hide();b.fn.cycle.commonReset(c,h,d,true,false);d.animIn.height=h.cycleH;});a.cssBefore.left=0;a.cssBefore.top=0;a.cssBefore.height=0;a.animIn.height="show";a.animOut.height=0;};b.fn.cycle.transitions.shuffle=function(h,g,k){var l,a=h.css("overflow","visible").width();g.css({left:0,top:0});k.before.push(function(c,e,d){b.fn.cycle.commonReset(c,e,d,true,true,true);});if(!k.speedAdjusted){k.speed=k.speed/2;k.speedAdjusted=true;}k.random=0;k.shuffle=k.shuffle||{left:-a,top:15};k.els=[];for(l=0;l<g.length;l++){k.els.push(g[l]);}for(l=0;l<k.currSlide;l++){k.els.push(k.els.shift());}k.fxFn=function(c,f,d,q,n){if(d.rev){n=!n;}var o=n?b(c):b(f);b(f).css(d.cssBefore);var e=d.slideCount;o.animate(d.shuffle,d.speedIn,d.easeIn,function(){var v=b.fn.cycle.hopsFromLast(d,n);for(var u=0;u<v;u++){n?d.els.push(d.els.shift()):d.els.unshift(d.els.pop());}if(n){for(var t=0,w=d.els.length;t<w;t++){b(d.els[t]).css("z-index",w-t+e);}}else{var m=b(c).css("z-index");o.css("z-index",parseInt(m,10)+1+e);}o.animate({left:0,top:0},d.speedOut,d.easeOut,function(){b(n?this:c).hide();if(q){q();}});});};b.extend(k.cssBefore,{display:"block",opacity:1,top:0,left:0});};b.fn.cycle.transitions.turnUp=function(f,e,a){a.before.push(function(c,h,d){b.fn.cycle.commonReset(c,h,d,true,false);d.cssBefore.top=h.cycleH;d.animIn.height=h.cycleH;d.animOut.width=h.cycleW;});a.cssFirst.top=0;a.cssBefore.left=0;a.cssBefore.height=0;a.animIn.top=0;a.animOut.height=0;};b.fn.cycle.transitions.turnDown=function(f,e,a){a.before.push(function(c,h,d){b.fn.cycle.commonReset(c,h,d,true,false);d.animIn.height=h.cycleH;d.animOut.top=c.cycleH;});a.cssFirst.top=0;a.cssBefore.left=0;a.cssBefore.top=0;a.cssBefore.height=0;a.animOut.height=0;};b.fn.cycle.transitions.turnLeft=function(f,e,a){a.before.push(function(c,h,d){b.fn.cycle.commonReset(c,h,d,false,true);d.cssBefore.left=h.cycleW;d.animIn.width=h.cycleW;});a.cssBefore.top=0;a.cssBefore.width=0;a.animIn.left=0;a.animOut.width=0;};b.fn.cycle.transitions.turnRight=function(f,e,a){a.before.push(function(c,h,d){b.fn.cycle.commonReset(c,h,d,false,true);d.animIn.width=h.cycleW;d.animOut.left=c.cycleW;});b.extend(a.cssBefore,{top:0,left:0,width:0});a.animIn.left=0;a.animOut.width=0;};b.fn.cycle.transitions.zoom=function(f,e,a){a.before.push(function(c,h,d){b.fn.cycle.commonReset(c,h,d,false,false,true);d.cssBefore.top=h.cycleH/2;d.cssBefore.left=h.cycleW/2;b.extend(d.animIn,{top:0,left:0,width:h.cycleW,height:h.cycleH});b.extend(d.animOut,{width:0,height:0,top:c.cycleH/2,left:c.cycleW/2});});a.cssFirst.top=0;a.cssFirst.left=0;a.cssBefore.width=0;a.cssBefore.height=0;};b.fn.cycle.transitions.fadeZoom=function(f,e,a){a.before.push(function(c,h,d){b.fn.cycle.commonReset(c,h,d,false,false);d.cssBefore.left=h.cycleW/2;d.cssBefore.top=h.cycleH/2;b.extend(d.animIn,{top:0,left:0,width:h.cycleW,height:h.cycleH});});a.cssBefore.width=0;a.cssBefore.height=0;a.animOut.opacity=0;};b.fn.cycle.transitions.blindX=function(g,f,h){var a=g.css("overflow","hidden").width();h.before.push(function(c,e,d){b.fn.cycle.commonReset(c,e,d);d.animIn.width=e.cycleW;d.animOut.left=c.cycleW;});h.cssBefore.left=a;h.cssBefore.top=0;h.animIn.left=0;h.animOut.left=a;};b.fn.cycle.transitions.blindY=function(g,f,h){var a=g.css("overflow","hidden").height();h.before.push(function(c,e,d){b.fn.cycle.commonReset(c,e,d);d.animIn.height=e.cycleH;d.animOut.top=c.cycleH;});h.cssBefore.top=a;h.cssBefore.left=0;h.animIn.top=0;h.animOut.top=a;};b.fn.cycle.transitions.blindZ=function(h,g,k){var l=h.css("overflow","hidden").height();var a=h.width();k.before.push(function(c,e,d){b.fn.cycle.commonReset(c,e,d);d.animIn.height=e.cycleH;d.animOut.top=c.cycleH;});k.cssBefore.top=l;k.cssBefore.left=a;k.animIn.top=0;k.animIn.left=0;k.animOut.top=l;k.animOut.left=a;};b.fn.cycle.transitions.growX=function(f,e,a){a.before.push(function(c,h,d){b.fn.cycle.commonReset(c,h,d,false,true);d.cssBefore.left=this.cycleW/2;d.animIn.left=0;d.animIn.width=this.cycleW;d.animOut.left=0;});a.cssBefore.top=0;a.cssBefore.width=0;};b.fn.cycle.transitions.growY=function(f,e,a){a.before.push(function(c,h,d){b.fn.cycle.commonReset(c,h,d,true,false);d.cssBefore.top=this.cycleH/2;d.animIn.top=0;d.animIn.height=this.cycleH;d.animOut.top=0;});a.cssBefore.height=0;a.cssBefore.left=0;};b.fn.cycle.transitions.curtainX=function(f,e,a){a.before.push(function(c,h,d){b.fn.cycle.commonReset(c,h,d,false,true,true);d.cssBefore.left=h.cycleW/2;d.animIn.left=0;d.animIn.width=this.cycleW;d.animOut.left=c.cycleW/2;d.animOut.width=0;});a.cssBefore.top=0;a.cssBefore.width=0;};b.fn.cycle.transitions.curtainY=function(f,e,a){a.before.push(function(c,h,d){b.fn.cycle.commonReset(c,h,d,true,false,true);d.cssBefore.top=h.cycleH/2;d.animIn.top=0;d.animIn.height=h.cycleH;d.animOut.top=c.cycleH/2;d.animOut.height=0;});a.cssBefore.height=0;a.cssBefore.left=0;};b.fn.cycle.transitions.cover=function(k,h,l){var d=l.direction||"left";var a=k.css("overflow","hidden").width();var m=k.height();l.before.push(function(c,f,e){b.fn.cycle.commonReset(c,f,e);if(d=="right"){e.cssBefore.left=-a;}else{if(d=="up"){e.cssBefore.top=m;}else{if(d=="down"){e.cssBefore.top=-m;}else{e.cssBefore.left=a;}}}});l.animIn.left=0;l.animIn.top=0;l.cssBefore.top=0;l.cssBefore.left=0;};b.fn.cycle.transitions.uncover=function(k,h,l){var d=l.direction||"left";var a=k.css("overflow","hidden").width();var m=k.height();l.before.push(function(c,f,e){b.fn.cycle.commonReset(c,f,e,true,true,true);if(d=="right"){e.animOut.left=a;}else{if(d=="up"){e.animOut.top=-m;}else{if(d=="down"){e.animOut.top=m;}else{e.animOut.left=-a;}}}});l.animIn.left=0;l.animIn.top=0;l.cssBefore.top=0;l.cssBefore.left=0;};b.fn.cycle.transitions.toss=function(h,g,k){var a=h.css("overflow","visible").width();var l=h.height();k.before.push(function(c,e,d){b.fn.cycle.commonReset(c,e,d,true,true,true);if(!d.animOut.left&&!d.animOut.top){b.extend(d.animOut,{left:a*2,top:-l/2,opacity:0});}else{d.animOut.opacity=0;}});k.cssBefore.left=0;k.cssBefore.top=0;k.animIn.left=0;};b.fn.cycle.transitions.wipe=function(B,l,y){var a=B.css("overflow","hidden").width();var t=B.height();y.cssBefore=y.cssBefore||{};var w;if(y.clip){if(/l2r/.test(y.clip)){w="rect(0px 0px "+t+"px 0px)";}else{if(/r2l/.test(y.clip)){w="rect(0px "+a+"px "+t+"px "+a+"px)";}else{if(/t2b/.test(y.clip)){w="rect(0px "+a+"px 0px 0px)";}else{if(/b2t/.test(y.clip)){w="rect("+t+"px "+a+"px "+t+"px 0px)";}else{if(/zoom/.test(y.clip)){var d=parseInt(t/2,10);var x=parseInt(a/2,10);w="rect("+d+"px "+x+"px "+d+"px "+x+"px)";}}}}}}y.cssBefore.clip=y.cssBefore.clip||w||"rect(0px 0px 0px 0px)";var r=y.cssBefore.clip.match(/(\d+)/g);var A=parseInt(r[0],10),z=parseInt(r[1],10),h=parseInt(r[2],10),v=parseInt(r[3],10);y.before.push(function(f,m,k){if(f==m){return;}var o=b(f),c=b(m);b.fn.cycle.commonReset(f,m,k,true,true,false);k.cssAfter.display="block";var n=1,e=parseInt((k.speedIn/13),10)-1;(function g(){var D=A?A-parseInt(n*(A/e),10):0;var C=v?v-parseInt(n*(v/e),10):0;var u=h<t?h+parseInt(n*((t-h)/e||1),10):t;var q=z<a?z+parseInt(n*((a-z)/e||1),10):a;c.css({clip:"rect("+D+"px "+q+"px "+u+"px "+C+"px)"});(n++<=e)?setTimeout(g,13):o.css("display","none");})();});b.extend(y.cssBefore,{display:"block",opacity:1,top:0,left:0});y.animIn={left:0};y.animOut={left:0};};})(jQuery);(function(b){var a={initialize:function(c){return this.each(function(){var f=b(this).addClass("textfield");var e=f.find("> label");var d=f.find("> input[type=text]");e.css("line-height",d.innerHeight()+"px");d.bind("focus.texfield",a.focus);if(d.val()){e.addClass("hidden");}});},destroy:function(){return this.each(function(){b(this).unbind("focus.textfield",a.focus);});},focus:function(f){var c=b(this);var d=c.parent().find("> label");var e=!!c.val();if(!e){c.bind("keydown.textfield",a.change);c.bind("input.textfield",a.change);c.bind("paste.textfield",a.change);d.addClass("focus");}c.bind("blur.textfield",a.blur);},change:function(e){var c=b(this);var d=c.parent().find("label");c.unbind("keydown.textfield",a.change);c.unbind("input.textfield",a.change);c.unbind("paste.textfield",a.change);d.addClass("hidden");},blur:function(f){var c=b(this);var d=c.parent().find("label");var e=!!c.val();c.unbind("blur.textfield",a.blur);if(!e){d.removeClass("hidden").removeClass("focus");}}};b.fn.textfield=function(c){b("html").addClass("js");if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1));}else{if(typeof c==="object"||!c){return a.initialize.apply(this,arguments);}else{b.error("Method "+c+" does not exist on jQuery.textfield");}}};})(jQuery);function checkEmail(a){a.EmailUpdateString.value=emitSpclChr(a.EmailUpdateString.value);if(a.EmailUpdateString.value.indexOf(" ")>0){a.EmailUpdateString.value="";}}(function(a){a(function(){a("#saks-bt-email-signup-form").submit(function(){checkEmail(this);}).find(".textfield").textfield();});})(jQuery);(function(){if(typeof Date.format!="undefined"){return;}var a=function(){var b=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,c=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,e=/[^-+\dA-Z]/g,d=function(g,f){g=String(g);f=f||2;while(g.length<f){g="0"+g;}return g;};return function(l,A,v){var h=a;if(arguments.length==1&&Object.prototype.toString.call(l)=="[object String]"&&!/\d/.test(l)){A=l;l=undefined;}l=l?new Date(l):new Date;if(isNaN(l)){throw SyntaxError("invalid date");}A=String(h.masks[A]||A||h.masks["default"]);if(A.slice(0,4)=="UTC:"){A=A.slice(4);v=true;}var x=v?"getUTC":"get",r=l[x+"Date"](),f=l[x+"Day"](),n=l[x+"Month"](),u=l[x+"FullYear"](),w=l[x+"Hours"](),q=l[x+"Minutes"](),z=l[x+"Seconds"](),t=l[x+"Milliseconds"](),g=v?0:l.getTimezoneOffset(),k={d:r,dd:d(r),ddd:h.i18n.dayNames[f],dddd:h.i18n.dayNames[f+7],m:n+1,mm:d(n+1),mmm:h.i18n.monthNames[n],mmmm:h.i18n.monthNames[n+12],yy:String(u).slice(2),yyyy:u,h:w%12||12,hh:d(w%12||12),H:w,HH:d(w),M:q,MM:d(q),s:z,ss:d(z),l:d(t,3),L:d(t>99?Math.round(t/10):t),t:w<12?"a":"p",tt:w<12?"am":"pm",T:w<12?"A":"P",TT:w<12?"AM":"PM",Z:v?"UTC":(String(l).match(c)||[""]).pop().replace(e,""),o:(g>0?"-":"+")+d(Math.floor(Math.abs(g)/60)*100+Math.abs(g)%60,4),S:["th","st","nd","rd"][r%10>3?0:(r%100-r%10!=10)*r%10]};return A.replace(b,function(m){return m in k?k[m]:m.slice(1,m.length-1);});};}();a.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};a.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};Date.prototype.format=function(b,c){return a(this,b,c);};})();if(typeof Date.edt=="undefined"){Date.prototype.edt=function(){var c=new Date;var d=c.getFullYear();var a=new Date("March 14, "+d+" 02:00:00");var e=new Date("November 07, "+d+" 02:00:00");var b=a.getDay();a.setDate(14-b);b=e.getDay();e.setDate(7-b);return(c>=a&&c<e)?true:false;};}if(typeof Date.offsetTime=="undefined"){Date.prototype.offsetTime=function(b){b||(b=0);var a=this.getTime()+(this.getTimezoneOffset()*60000);this.setTime(a+(3600000*b));return this;};}(function(c,b,a,d){c("html").addClass("js");c(function(){var e=(function(){var k=c("#marketing");var g=c("#intl_free_ship_div").add(k.find(".international-promotions"));var m=c("#free_ship_div").add(k.find(".domestic-promotions"));var h=false;var f={BD:"B",KH:"B",CN:"B",HK:"F",IN:"B",JP:"F",MO:"B",NP:"B",PH:"B",SG:"F",KR:"B",LK:"B",TW:"B",TH:"B",VN:"B",CA:"F",AT:"B",BE:"B",BG:"B",CZ:"B",DK:"B",EE:"B",FI:"B",FR:"B",DE:"B",GR:"B",GD:"B",HU:"B",IE:"B",IT:"B",LV:"B",LI:"B",LT:"B",LU:"B",MT:"B",MC:"B",MA:"B",NL:"B",NO:"B",PL:"B",PT:"B",RO:"B",SK:"B",SI:"B",ES:"B",SE:"B",CH:"B",UA:"B",GB:"F",AU:"F",BN:"B",ID:"B",MV:"B",NZ:"B",ZA:"B",BH:"B",CY:"B",EG:"B",IL:"B",JO:"B",KW:"F",OM:"B",PK:"B",SA:"B",TR:"B",AE:"B",QA:"B",DM:"B",AG:"B",AR:"B",BB:"B",BZ:"B",BO:"B",BR:"B",CL:"B",CO:"B",CR:"B",DO:"B",EC:"B",SV:"B",GT:"B",HT:"B",HN:"B",JM:"B",MX:"B",NI:"B",PA:"B",PY:"B",PE:"B",SR:"B",TT:"B",AI:"B",AW:"B",BM:"B",KY:"B",GF:"B",GI:"B",GP:"B",GG:"B",IS:"B",JE:"B",MQ:"B",MS:"B",RE:"B",RU:"B",KN:"B",LC:"B",TC:"B",UK:"B"};var l={A:"promo-ca",B:"promo-world",C:"promo-japan",D:"promo-hong-aust",E:"promo-uk",F:"promo-ukcan"};function n(t){if(!t){return;}var r=function(v){v.preventDefault();var w=c(this).attr("data-element").split("|");b.slideIn(w[0],b.parseInt(w[1]));};var q=function(x){var v;var y=c(this).closest(".FSO-popup");var w=c(this).closest(".marketing-overlay");if(y.length){v=y.attr("id");}else{if(w.length){v=w.attr("id");}}if(v){slideOut(v);}};c(".FSO-close-button",t).click(q);c(".FSO-messaging-link",t).click(r);c(".FSO-messaging-link","#navmenulogo").click(r);var u;if(c("#saks-nav-categories").is(":visible")){u=c(t).innerHeight()+c("#saks-nav-categories").innerHeight()+10;}else{u=c(t).innerHeight()+10;}c(".FSO-popup",t).css({top:u});c(".marketing-promotion:visible",t).each(function(){c(this).siblings(".marketing-overlay").css({top:u}).find(".close-button").click(q);c(this).find("[data-element]").click(r);});}function o(r){if(!r){return;}var v=function(){c(this).cycle("pause");};var u=function(){c(this).cycle("resume");};var t=function(){var w=c(this).closest(".FSO-cycle, .marketing-promotion");w.off("mouseout").siblings(".FSO-popup, .marketing-overlay").find(".FSO-close-button, .close-button").one("click",function(){w.on("mouseout",u);w.cycle("resume");});};var q={pause:false,speed:550,timeout:3000,easeIn:"swing",easeOut:"swing",fx:"scrollDown"};c(r).find(".FSO-cycle, .marketing-promotion").each(function(){var w=c(this);if(w.is(":visible")&&w.children().length>1){w.cycle(q).on("mouseover",v).on("mouseout",u).on("click","[data-element]",t);}});}return{showInternational:function(){if(!h){h=true;var q=l[f[countryCode]];c("#"+q).css({display:"block"});g.show();o(g);n(g);}},showNational:function(q){if(!h){h=true;m.show();o(m);n(m);}},internationalEnabled:function(){if(b._international_promo_enabled&&b.countryCode&&b.countryCode!="US"&&b.onOffSwitch){return true;}else{return false;}}};})();if(e.internationalEnabled()){e.showInternational();}else{e.showNational();}});})(jQuery,window,document);(function(b,a){b(function(){var d=a.navigator.userAgent.match(/iPad/i)!=null;var g=a.location.href.match(/(ProductArray|EndecaSearch)\.jsp/i)!=null;var l=a.countryCode&&a.countryCode=="US";var k=false;if(!d&&!g&&l&&k){var h=b("#saksBody");if(!h.length){return;}var e=new Image();var c=b('<div class="mhp-side-banner-wrapper"></div>');var f=b('<div class="mhp-side-banner" data-element="FreeShippingDetailsPopUp|500"></div>').appendTo(c).click(function(n){n.preventDefault();var m=b(this).attr("data-element").split("|");slideIn(m[0],parseInt(m[1]));return false;});c.appendTo(h);e.onload=function(){f.css("backgroundImage","url("+this.src+")");a.setTimeout(function(){f.animate({left:0},600);},100);};e.src="/static/images/promo/mhp_side_banner.jpg";}});})(jQuery,window);var intlWelcomeMat=(function(d){var f="E4X_COUNTRY";var g="skswlcme";var a=function(){var l=location.hostname.toUpperCase();if(l!=null&&(l.indexOf("SAKSDIRECT.COM")!=-1||l.indexOf("SAKS.COM")!=-1)){return{domain:"sandbox.fiftyone.com",merchID:1321};}else{return{domain:"embassy.fiftyone.com",merchID:1300};}};var c=a();var e=function(l){var m=document.createElement("script");m.src=l;m.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(m);};var h=function(l){if(document.cookie.length>0){c_start=document.cookie.indexOf(l+"=");if(c_start!=-1){c_start=c_start+l.length+1;c_end=document.cookie.indexOf(";",c_start);if(c_end==-1){c_end=document.cookie.length;}return unescape(document.cookie.substring(c_start,c_end));}}return"";};var k=function(l,o,m){var q=new Date();q.setDate(q.getDate()+m);var n=escape(o)+((m==null)?"":"; expires="+q.toUTCString());document.cookie=l+"="+n;};var b=function(l){if(l){var m=h(f),n;if(m&&(m!=="")&&(m!=="0")){n=(m!=="US");if(n&&!h(g)){k(g,"true",3000);e("https://"+c.domain+"/welcome/welcome.srv?merchId="+c.merchID+"&countryId="+m+"&setCookiet=Y");}}}};return{saksWelcome:b};})(jQuery);
/*!
 * saks.custom.js.initialize.js - global document.ready function
  */
(function(c,b,a,d){c(a).ready(function(){var h=saksPager.isOnPage("entry.jsp");var e=saksPager.isOnPages("productdetail.jsp, fashionfix.jsp, checkout.jsp, catalog_quick_order.jsp");if(b.saksQuickLook){saksQuickLook.onLoad();}if(b.saksFindInStore){saksFindInStore.onLoad();}if(e&&b.saksFFWaitList){saksFFWaitList.onLoad();}getNumberofItems();if(queryParamFetcher.getParamValue("sbE")==1){saksBagOpen("SaksBagOverlay",-1);}intlWelcomeMat.saksWelcome(b.onOffSwitch||false);if(!h){(function(){c("#allDhtmlPopups").innerHTML="";c.ajax({url:a.location.protocol+"//"+a.location.hostname+"/include/dhtmlPopUps.jsp",complete:function(k){ajaxResult=k.responseText;c("#allDhtmlPopups").html(ajaxResult);}});})();}else{var g=Math.random()+"";var f=g*10000000000000;a.getElementById("dblclkScrpt").src="http://fls.doubleclick.net/activityi;src=1602125;type=saks5th;cat=homepage;ord=1;num="+f+"?";}c("#toolbar").on("click",".account",function(k){s.events="event13";void (s.t());}).on("click",".live-chat",function(k){k.preventDefault();s.events="event27";void (s.t());}).on("click",".order-tracking",function(k){k.preventDefault();s.events="event14";void (s.t());}).on("click",".shopping-bag",function(k){if(!location.href.match(/(saksBag|checkout)\.jsp/i)){k.preventDefault();b.saksBagOpen("SaksBagOverlay",-1);}});c("#site-search").children("form").saksSearch();if(!b.Modernizr.csstransitions){c("#header").find(".menu").saksNavigation();}c("#sub-footer").find("[placeholder]").placeholder();c("#sub-footer, #footer, #toolbar").on("click","[data-target]",function(l){l.preventDefault();var n=c(this),m=n.data("target").split("|"),k=n.attr("href");switch(m[0]){case"popup":b.popupWinFixed2(k,m[1],m[2],m[3]);break;case"tab":b.open(k);break;}});});}(jQuery,window,document));if(typeof jwplayer=="undefined"){var jwplayer=function(b){if(jwplayer.api){return jwplayer.api.selectPlayer(b);}};var $jw=jwplayer;jwplayer.version="5.7.1896 (Licensed version)";jwplayer.vid=document.createElement("video");jwplayer.audio=document.createElement("audio");jwplayer.source=document.createElement("source");(function(c){c.utils=function(){};c.utils.typeOf=function(a){var b=typeof a;if(b==="object"){if(a){if(a instanceof Array){b="array";}}else{b="null";}}return b;};c.utils.extend=function(){var f=c.utils.extend["arguments"];if(f.length>1){for(var a=1;a<f.length;a++){for(var b in f[a]){f[0][b]=f[a][b];}}return f[0];}return null;};c.utils.clone=function(a){var h;var g=c.utils.clone["arguments"];if(g.length==1){switch(c.utils.typeOf(g[0])){case"object":h={};for(var b in g[0]){h[b]=c.utils.clone(g[0][b]);}break;case"array":h=[];for(var b in g[0]){h[b]=c.utils.clone(g[0][b]);}break;default:return g[0];break;}}return h;};c.utils.extension=function(a){if(!a){return"";}a=a.substring(a.lastIndexOf("/")+1,a.length);a=a.split("?")[0];if(a.lastIndexOf(".")>-1){return a.substr(a.lastIndexOf(".")+1,a.length).toLowerCase();}return;};c.utils.html=function(b,a){b.innerHTML=a;};c.utils.wrap=function(b,a){if(b.parentNode){b.parentNode.replaceChild(a,b);}a.appendChild(b);};c.utils.ajax=function(a,b,l){var h;if(window.XMLHttpRequest){h=new XMLHttpRequest();}else{h=new ActiveXObject("Microsoft.XMLHTTP");}h.onreadystatechange=function(){if(h.readyState===4){if(h.status===200){if(b){b(h);}}else{if(l){l(a);}}}};try{h.open("GET",a,true);h.send(null);}catch(k){if(l){l(a);}}return h;};c.utils.load=function(b,a,f){b.onreadystatechange=function(){if(b.readyState===4){if(b.status===200){if(a){a();}}else{if(f){f();}}}};};c.utils.find=function(a,b){return a.getElementsByTagName(b);};c.utils.append=function(b,a){b.appendChild(a);};c.utils.isIE=function(){return((!+"\v1")||(typeof window.ActiveXObject!="undefined"));};c.utils.isLegacyAndroid=function(){var a=navigator.userAgent.toLowerCase();return(a.match(/android 2.[012]/i)!==null);};c.utils.isIOS=function(a){if(typeof a=="undefined"){a=/iP(hone|ad|od)/i;}var b=navigator.userAgent.toLowerCase();return(b.match(a)!==null);};c.utils.isIPad=function(){return c.utils.isIOS(/iPad/i);};c.utils.isIPod=function(){return c.utils.isIOS(/iP(hone|od)/i);};c.utils.getFirstPlaylistItemFromConfig=function(f){var b={};var a;if(f.playlist&&f.playlist.length){a=f.playlist[0];}else{a=f;}b.file=a.file;b.levels=a.levels;b.streamer=a.streamer;b.playlistfile=a.playlistfile;b.provider=a.provider;if(!b.provider){if(b.file&&(b.file.toLowerCase().indexOf("youtube.com")>-1||b.file.toLowerCase().indexOf("youtu.be")>-1)){b.provider="youtube";}if(b.streamer&&b.streamer.toLowerCase().indexOf("rtmp://")==0){b.provider="rtmp";}if(a.type){b.provider=a.type.toLowerCase();}}if(b.provider=="audio"){b.provider="sound";}return b;};c.utils.getOuterHTML=function(b){if(b.outerHTML){return b.outerHTML;}else{try{return new XMLSerializer().serializeToString(b);}catch(a){return"";}}};c.utils.setOuterHTML=function(b,h){if(b.outerHTML){b.outerHTML=h;}else{var a=document.createElement("div");a.innerHTML=h;var l=document.createRange();l.selectNodeContents(a);var k=l.extractContents();b.parentNode.insertBefore(k,b);b.parentNode.removeChild(b);}};c.utils.hasFlash=function(){if(typeof navigator.plugins!="undefined"&&typeof navigator.plugins["Shockwave Flash"]!="undefined"){return true;}if(typeof window.ActiveXObject!="undefined"){try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash");return true;}catch(a){}}return false;};c.utils.getPluginName=function(a){if(a.lastIndexOf("/")>=0){a=a.substring(a.lastIndexOf("/")+1,a.length);}if(a.lastIndexOf("-")>=0){a=a.substring(0,a.lastIndexOf("-"));}if(a.lastIndexOf(".swf")>=0){a=a.substring(0,a.lastIndexOf(".swf"));}if(a.lastIndexOf(".js")>=0){a=a.substring(0,a.lastIndexOf(".js"));}return a;};c.utils.getPluginVersion=function(a){if(a.lastIndexOf("-")>=0){if(a.lastIndexOf(".js")>=0){return a.substring(a.lastIndexOf("-")+1,a.lastIndexOf(".js"));}else{if(a.lastIndexOf(".swf")>=0){return a.substring(a.lastIndexOf("-")+1,a.lastIndexOf(".swf"));}else{return a.substring(a.lastIndexOf("-")+1);}}}return"";};c.utils.getAbsolutePath=function(b,l){if(!c.utils.exists(l)){l=document.location.href;}if(!c.utils.exists(b)){return undefined;}if(d(b)){return b;}var a=l.substring(0,l.indexOf("://")+3);var m=l.substring(a.length,l.indexOf("/",a.length+1));var q;if(b.indexOf("/")===0){q=b.split("/");}else{var o=l.split("?")[0];o=o.substring(a.length+m.length+1,o.lastIndexOf("/"));q=o.split("/").concat(b.split("/"));}var r=[];for(var n=0;n<q.length;n++){if(!q[n]||!c.utils.exists(q[n])||q[n]=="."){continue;}else{if(q[n]==".."){r.pop();}else{r.push(q[n]);}}}return a+m+"/"+r.join("/");};function d(b){if(!c.utils.exists(b)){return;}var a=b.indexOf("://");var f=b.indexOf("?");return(a>0&&(f<0||(f>a)));}c.utils.pluginPathType={ABSOLUTE:"ABSOLUTE",RELATIVE:"RELATIVE",CDN:"CDN"};c.utils.getPluginPathType=function(g){if(typeof g!="string"){return;}g=g.split("?")[0];var b=g.indexOf("://");if(b>0){return c.utils.pluginPathType.ABSOLUTE;}var h=g.indexOf("/");var a=c.utils.extension(g);if(b<0&&h<0&&(!a||!isNaN(a))){return c.utils.pluginPathType.CDN;}return c.utils.pluginPathType.RELATIVE;};c.utils.mapEmpty=function(b){for(var a in b){return false;}return true;};c.utils.mapLength=function(b){var f=0;for(var a in b){f++;}return f;};c.utils.log=function(a,b){if(typeof console!="undefined"&&typeof console.log!="undefined"){if(b){console.log(a,b);}else{console.log(a);}}};c.utils.css=function(k,a,l){if(c.utils.exists(k)){for(var h in a){try{if(typeof a[h]==="undefined"){continue;}else{if(typeof a[h]=="number"&&!(h=="zIndex"||h=="opacity")){if(isNaN(a[h])){continue;}if(h.match(/color/i)){a[h]="#"+c.utils.strings.pad(a[h].toString(16),6);}else{a[h]=Math.ceil(a[h])+"px";}}}k.style[h]=a[h];}catch(b){}}}};c.utils.isYouTube=function(a){return(a.indexOf("youtube.com")>-1||a.indexOf("youtu.be")>-1);};c.utils.transform=function(b,a){b.style.webkitTransform=a;b.style.MozTransform=a;b.style.OTransform=a;};c.utils.stretch=function(t,a,b,v,o,u){if(typeof b=="undefined"||typeof v=="undefined"||typeof o=="undefined"||typeof u=="undefined"){return;}var x=b/o;var w=v/u;var q=0;var r=0;a.style.overflow="hidden";c.utils.transform(a,"");var y={};switch(t.toUpperCase()){case c.utils.stretching.NONE:y.width=o;y.height=u;break;case c.utils.stretching.UNIFORM:if(x>w){y.width=o*w;y.height=u*w;}else{y.width=o*x;y.height=u*x;}break;case c.utils.stretching.FILL:if(x>w){y.width=o*x;y.height=u*x;}else{y.width=o*w;y.height=u*w;}break;case c.utils.stretching.EXACTFIT:c.utils.transform(a,["scale(",x,",",w,")"," translate(0px,0px)"].join(""));y.width=o;y.height=u;break;default:break;}y.top=(v-y.height)/2;y.left=(b-y.width)/2;c.utils.css(a,y);};c.utils.stretching={NONE:"NONE",FILL:"FILL",UNIFORM:"UNIFORM",EXACTFIT:"EXACTFIT"};c.utils.deepReplaceKeyName=function(a,l,n){switch(c.utils.typeOf(a)){case"array":for(var b=0;b<a.length;b++){a[b]=c.utils.deepReplaceKeyName(a[b],l,n);}break;case"object":for(var k in a){var m=k.replace(new RegExp(l,"g"),n);a[m]=c.utils.deepReplaceKeyName(a[k],l,n);if(k!=m){delete a[k];}}break;}return a;};c.utils.isInArray=function(a,b){if(!(a)||!(a instanceof Array)){return false;}for(var f=0;f<a.length;f++){if(b===a[f]){return true;}}return false;};c.utils.exists=function(a){switch(typeof(a)){case"string":return(a.length>0);break;case"object":return(a!==null);case"undefined":return false;}return true;};c.utils.empty=function(a){if(typeof a.hasChildNodes=="function"){while(a.hasChildNodes()){a.removeChild(a.firstChild);}}};c.utils.parseDimension=function(a){if(typeof a=="string"){if(a===""){return 0;}else{if(a.lastIndexOf("%")>-1){return a;}else{return parseInt(a.replace("px",""),10);}}}return a;};c.utils.getDimensions=function(a){if(a&&a.style){return{x:c.utils.parseDimension(a.style.left),y:c.utils.parseDimension(a.style.top),width:c.utils.parseDimension(a.style.width),height:c.utils.parseDimension(a.style.height)};}else{return{};}};c.utils.timeFormat=function(a){str="00:00";if(a>0){str=Math.floor(a/60)<10?"0"+Math.floor(a/60)+":":Math.floor(a/60)+":";str+=Math.floor(a%60)<10?"0"+Math.floor(a%60):Math.floor(a%60);}return str;};})(jwplayer);(function(b){b.events=function(){};b.events.COMPLETE="COMPLETE";b.events.ERROR="ERROR";})(jwplayer);(function(jwplayer){jwplayer.events.eventdispatcher=function(debug){var _debug=debug;var _listeners;var _globallisteners;this.resetEventListeners=function(){_listeners={};_globallisteners=[];};this.resetEventListeners();this.addEventListener=function(type,listener,count){try{if(!jwplayer.utils.exists(_listeners[type])){_listeners[type]=[];}if(typeof(listener)=="string"){eval("listener = "+listener);}_listeners[type].push({listener:listener,count:count});}catch(err){jwplayer.utils.log("error",err);}return false;};this.removeEventListener=function(type,listener){if(!_listeners[type]){return;}try{for(var listenerIndex=0;listenerIndex<_listeners[type].length;listenerIndex++){if(_listeners[type][listenerIndex].listener.toString()==listener.toString()){_listeners[type].splice(listenerIndex,1);break;}}}catch(err){jwplayer.utils.log("error",err);}return false;};this.addGlobalListener=function(listener,count){try{if(typeof(listener)=="string"){eval("listener = "+listener);}_globallisteners.push({listener:listener,count:count});}catch(err){jwplayer.utils.log("error",err);}return false;};this.removeGlobalListener=function(listener){if(!_globallisteners[type]){return;}try{for(var globalListenerIndex=0;globalListenerIndex<_globallisteners.length;globalListenerIndex++){if(_globallisteners[globalListenerIndex].listener.toString()==listener.toString()){_globallisteners.splice(globalListenerIndex,1);break;}}}catch(err){jwplayer.utils.log("error",err);}return false;};this.sendEvent=function(type,data){if(!jwplayer.utils.exists(data)){data={};}if(_debug){jwplayer.utils.log(type,data);}if(typeof _listeners[type]!="undefined"){for(var listenerIndex=0;listenerIndex<_listeners[type].length;listenerIndex++){try{_listeners[type][listenerIndex].listener(data);}catch(err){jwplayer.utils.log("There was an error while handling a listener: "+err.toString(),_listeners[type][listenerIndex].listener);}if(_listeners[type][listenerIndex]){if(_listeners[type][listenerIndex].count===1){delete _listeners[type][listenerIndex];}else{if(_listeners[type][listenerIndex].count>0){_listeners[type][listenerIndex].count=_listeners[type][listenerIndex].count-1;}}}}}for(var globalListenerIndex=0;globalListenerIndex<_globallisteners.length;globalListenerIndex++){try{_globallisteners[globalListenerIndex].listener(data);}catch(err){jwplayer.utils.log("There was an error while handling a listener: "+err.toString(),_globallisteners[globalListenerIndex].listener);}if(_globallisteners[globalListenerIndex]){if(_globallisteners[globalListenerIndex].count===1){delete _globallisteners[globalListenerIndex];}else{if(_globallisteners[globalListenerIndex].count>0){_globallisteners[globalListenerIndex].count=_globallisteners[globalListenerIndex].count-1;}}}}};};})(jwplayer);(function(d){var c={};d.utils.animations=function(){};d.utils.animations.transform=function(b,a){b.style.webkitTransform=a;b.style.MozTransform=a;b.style.OTransform=a;b.style.msTransform=a;};d.utils.animations.transformOrigin=function(b,a){b.style.webkitTransformOrigin=a;b.style.MozTransformOrigin=a;b.style.OTransformOrigin=a;b.style.msTransformOrigin=a;};d.utils.animations.rotate=function(b,a){d.utils.animations.transform(b,["rotate(",a,"deg)"].join(""));};d.utils.cancelAnimation=function(a){delete c[a.id];};d.utils.fadeTo=function(a,t,u,o,q,v){if(c[a.id]!=v&&d.utils.exists(v)){return;}if(a.style.opacity==t){return;}var w=new Date().getTime();if(v>w){setTimeout(function(){d.utils.fadeTo(a,t,u,o,0,v);},v-w);}if(a.style.display=="none"){a.style.display="block";}if(!d.utils.exists(o)){o=a.style.opacity===""?1:a.style.opacity;}if(a.style.opacity==t&&a.style.opacity!==""&&d.utils.exists(v)){if(t===0){a.style.display="none";}return;}if(!d.utils.exists(v)){v=w;c[a.id]=v;}if(!d.utils.exists(q)){q=0;}var n=(u>0)?((w-v)/(u*1000)):0;n=n>1?1:n;var b=t-o;var r=o+(n*b);if(r>1){r=1;}else{if(r<0){r=0;}}a.style.opacity=r;if(q>0){c[a.id]=v+q*1000;d.utils.fadeTo(a,t,u,o,0,c[a.id]);return;}setTimeout(function(){d.utils.fadeTo(a,t,u,o,0,v);},10);};})(jwplayer);(function(b){b.utils.arrays=function(){};b.utils.arrays.indexOf=function(f,e){for(var a=0;a<f.length;a++){if(f[a]==e){return a;}}return -1;};b.utils.arrays.remove=function(f,e){var a=b.utils.arrays.indexOf(f,e);if(a>-1){f.splice(a,1);}};})(jwplayer);(function(b){b.utils.extensionmap={"3gp":{html5:"video/3gpp",flash:"video"},"3gpp":{html5:"video/3gpp"},"3g2":{html5:"video/3gpp2",flash:"video"},"3gpp2":{html5:"video/3gpp2"},flv:{flash:"video"},f4a:{html5:"audio/mp4"},f4b:{html5:"audio/mp4",flash:"video"},f4v:{html5:"video/mp4",flash:"video"},mov:{html5:"video/quicktime",flash:"video"},m4a:{html5:"audio/mp4",flash:"video"},m4b:{html5:"audio/mp4"},m4p:{html5:"audio/mp4"},m4v:{html5:"video/mp4",flash:"video"},mp4:{html5:"video/mp4",flash:"video"},rbs:{flash:"sound"},aac:{html5:"audio/aac",flash:"video"},mp3:{html5:"audio/mp3",flash:"sound"},ogg:{html5:"audio/ogg"},oga:{html5:"audio/ogg"},ogv:{html5:"video/ogg"},webm:{html5:"video/webm"},m3u8:{html5:"audio/x-mpegurl"},gif:{flash:"image"},jpeg:{flash:"image"},jpg:{flash:"image"},swf:{flash:"image"},png:{flash:"image"},wav:{html5:"audio/x-wav"}};})(jwplayer);(function(q){q.utils.mediaparser=function(){};var n={element:{width:"width",height:"height",id:"id","class":"className",name:"name"},media:{src:"file",preload:"preload",autoplay:"autostart",loop:"repeat",controls:"controls"},source:{src:"file",type:"type",media:"media","data-jw-width":"width","data-jw-bitrate":"bitrate"},video:{poster:"image"}};var o={};q.utils.mediaparser.parseMedia=function(a){return r(a);};function t(a,b){if(!q.utils.exists(b)){b=n[a];}else{q.utils.extend(b,n[a]);}return b;}function r(f,d){if(o[f.tagName.toLowerCase()]&&!q.utils.exists(d)){return o[f.tagName.toLowerCase()](f);}else{d=t("element",d);var e={};for(var c in d){if(c!="length"){var a=f.getAttribute(c);if(q.utils.exists(a)){e[d[c]]=a;}}}var b=f.style["#background-color"];if(b&&!(b=="transparent"||b=="rgba(0, 0, 0, 0)")){e.screencolor=b;}return e;}}function m(f,c){c=t("media",c);var b=[];var d=q.utils.selectors("source",f);for(var a in d){if(!isNaN(a)){b.push(l(d[a]));}}var e=r(f,c);if(q.utils.exists(e.file)){b[0]={file:e.file};}e.levels=b;return e;}function l(a,b){b=t("source",b);var c=r(a,b);c.width=c.width?c.width:0;c.bitrate=c.bitrate?c.bitrate:0;return c;}function k(a,b){b=t("video",b);var c=m(a,b);return c;}o.media=m;o.audio=m;o.source=l;o.video=k;})(jwplayer);(function(b){b.utils.loaderstatus={NEW:"NEW",LOADING:"LOADING",ERROR:"ERROR",COMPLETE:"COMPLETE"};b.utils.scriptloader=function(f){var e=b.utils.loaderstatus.NEW;var a=new b.events.eventdispatcher();b.utils.extend(this,a);this.load=function(){if(e==b.utils.loaderstatus.NEW){e=b.utils.loaderstatus.LOADING;var c=document.createElement("script");c.onload=function(d){e=b.utils.loaderstatus.COMPLETE;a.sendEvent(b.events.COMPLETE);};c.onerror=function(d){e=b.utils.loaderstatus.ERROR;a.sendEvent(b.events.ERROR);};c.onreadystatechange=function(){if(c.readyState=="loaded"||c.readyState=="complete"){e=b.utils.loaderstatus.COMPLETE;a.sendEvent(b.events.COMPLETE);}};document.getElementsByTagName("head")[0].appendChild(c);c.src=f;}};this.getStatus=function(){return e;};};})(jwplayer);(function(b){b.utils.selectors=function(a,f){if(!b.utils.exists(f)){f=document;}a=b.utils.strings.trim(a);var h=a.charAt(0);if(h=="#"){return f.getElementById(a.substr(1));}else{if(h=="."){if(f.getElementsByClassName){return f.getElementsByClassName(a.substr(1));}else{return b.utils.selectors.getElementsByTagAndClass("*",a.substr(1));}}else{if(a.indexOf(".")>0){var g=a.split(".");return b.utils.selectors.getElementsByTagAndClass(g[0],g[1]);}else{return f.getElementsByTagName(a);}}}return null;};b.utils.selectors.getElementsByTagAndClass=function(o,l,m){var k=[];if(!b.utils.exists(m)){m=document;}var n=m.getElementsByTagName(o);for(var q=0;q<n.length;q++){if(b.utils.exists(n[q].className)){var r=n[q].className.split(" ");for(var a=0;a<r.length;a++){if(r[a]==l){k.push(n[q]);}}}}return k;};})(jwplayer);(function(b){b.utils.strings=function(){};b.utils.strings.trim=function(a){return a.replace(/^\s*/,"").replace(/\s*$/,"");};b.utils.strings.pad=function(f,e,a){if(!a){a="0";}while(f.length<e){f=a+f;}return f;};b.utils.strings.serialize=function(a){if(a==null){return null;}else{if(a=="true"){return true;}else{if(a=="false"){return false;}else{if(isNaN(Number(a))||a.length>5||a.length==0){return a;}else{return Number(a);}}}}};b.utils.strings.seconds=function(e){e=e.replace(",",".");var a=e.split(":");var f=0;if(e.substr(-1)=="s"){f=Number(e.substr(0,e.length-1));}else{if(e.substr(-1)=="m"){f=Number(e.substr(0,e.length-1))*60;}else{if(e.substr(-1)=="h"){f=Number(e.substr(0,e.length-1))*3600;}else{if(a.length>1){f=Number(a[a.length-1]);f+=Number(a[a.length-2])*60;if(a.length==3){f+=Number(a[a.length-3])*3600;}}else{f=Number(e);}}}}return f;};b.utils.strings.xmlAttribute=function(a,f){for(var e=0;e<a.attributes.length;e++){if(a.attributes[e].name&&a.attributes[e].name.toLowerCase()==f.toLowerCase()){return a.attributes[e].value.toString();}}return"";};b.utils.strings.jsonToString=function(m){var k=k||{};if(k&&k.stringify){return k.stringify(m);}var q=typeof(m);if(q!="object"||m===null){if(q=="string"){m='"'+m+'"';}else{return String(m);}}else{var l=[],a=(m&&m.constructor==Array);for(var o in m){var n=m[o];switch(typeof(n)){case"string":n='"'+n+'"';break;case"object":if(b.utils.exists(n)){n=b.utils.strings.jsonToString(n);}break;}if(a){if(typeof(n)!="function"){l.push(String(n));}}else{if(typeof(n)!="function"){l.push('"'+o+'":'+String(n));}}}if(a){return"["+String(l)+"]";}else{return"{"+String(l)+"}";}}};})(jwplayer);(function(l){var k=new RegExp(/^(#|0x)[0-9a-fA-F]{3,6}/);l.utils.typechecker=function(a,b){b=!l.utils.exists(b)?f(a):b;return h(a,b);};function f(b){var a=["true","false","t","f"];if(a.toString().indexOf(b.toLowerCase().replace(" ",""))>=0){return"boolean";}else{if(k.test(b)){return"color";}else{if(!isNaN(parseInt(b,10))&&parseInt(b,10).toString().length==b.length){return"integer";}else{if(!isNaN(parseFloat(b))&&parseFloat(b).toString().length==b.length){return"float";}}}}return"string";}function h(a,b){if(!l.utils.exists(b)){return a;}switch(b){case"color":if(a.length>0){return g(a);}return null;case"integer":return parseInt(a,10);case"float":return parseFloat(a);case"boolean":if(a.toLowerCase()=="true"){return true;}else{if(a=="1"){return true;}}return false;}return a;}function g(a){switch(a.toLowerCase()){case"blue":return parseInt("0000FF",16);case"green":return parseInt("00FF00",16);case"red":return parseInt("FF0000",16);case"cyan":return parseInt("00FFFF",16);case"magenta":return parseInt("FF00FF",16);case"yellow":return parseInt("FFFF00",16);case"black":return parseInt("000000",16);case"white":return parseInt("FFFFFF",16);default:a=a.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2");if(a.length==3){a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2);}return parseInt(a,16);}return parseInt("000000",16);}})(jwplayer);(function(b){b.utils.parsers=function(){};b.utils.parsers.localName=function(a){if(!a){return"";}else{if(a.localName){return a.localName;}else{if(a.baseName){return a.baseName;}else{return"";}}}};b.utils.parsers.textContent=function(a){if(!a){return"";}else{if(a.textContent){return a.textContent;}else{if(a.text){return a.text;}else{return"";}}}};})(jwplayer);(function(b){b.utils.parsers.jwparser=function(){};b.utils.parsers.jwparser.PREFIX="jwplayer";b.utils.parsers.jwparser.parseEntry=function(f,e){for(var a=0;a<f.childNodes.length;a++){if(f.childNodes[a].prefix==b.utils.parsers.jwparser.PREFIX){e[b.utils.parsers.localName(f.childNodes[a])]=b.utils.strings.serialize(b.utils.parsers.textContent(f.childNodes[a]));}if(!e.file&&String(e.link).toLowerCase().indexOf("youtube")>-1){e.file=e.link;}}return e;};b.utils.parsers.jwparser.getProvider=function(d){if(d.type){return d.type;}else{if(d.file.indexOf("youtube.com/w")>-1||d.file.indexOf("youtube.com/v")>-1||d.file.indexOf("youtu.be/")>-1){return"youtube";}else{if(d.streamer&&d.streamer.indexOf("rtmp")==0){return"rtmp";}else{if(d.streamer&&d.streamer.indexOf("http")==0){return"http";}else{var a=b.utils.strings.extension(d.file);if(extensions.hasOwnProperty(a)){return extensions[a];}}}}}return"";};})(jwplayer);(function(b){b.utils.parsers.mediaparser=function(){};b.utils.parsers.mediaparser.PREFIX="media";b.utils.parsers.mediaparser.parseGroup=function(k,g){var h=false;for(var l=0;l<k.childNodes.length;l++){if(k.childNodes[l].prefix==b.utils.parsers.mediaparser.PREFIX){if(!b.utils.parsers.localName(k.childNodes[l])){continue;}switch(b.utils.parsers.localName(k.childNodes[l]).toLowerCase()){case"content":if(!h){g.file=b.utils.strings.xmlAttribute(k.childNodes[l],"url");}if(b.utils.strings.xmlAttribute(k.childNodes[l],"duration")){g.duration=b.utils.strings.seconds(b.utils.strings.xmlAttribute(k.childNodes[l],"duration"));}if(b.utils.strings.xmlAttribute(k.childNodes[l],"start")){g.start=b.utils.strings.seconds(b.utils.strings.xmlAttribute(k.childNodes[l],"start"));}if(k.childNodes[l].childNodes&&k.childNodes[l].childNodes.length>0){g=b.utils.parsers.mediaparser.parseGroup(k.childNodes[l],g);}if(b.utils.strings.xmlAttribute(k.childNodes[l],"width")||b.utils.strings.xmlAttribute(k.childNodes[l],"bitrate")||b.utils.strings.xmlAttribute(k.childNodes[l],"url")){if(!g.levels){g.levels=[];}g.levels.push({width:b.utils.strings.xmlAttribute(k.childNodes[l],"width"),bitrate:b.utils.strings.xmlAttribute(k.childNodes[l],"bitrate"),file:b.utils.strings.xmlAttribute(k.childNodes[l],"url")});}break;case"title":g.title=b.utils.parsers.textContent(k.childNodes[l]);break;case"description":g.description=b.utils.parsers.textContent(k.childNodes[l]);break;case"keywords":g.tags=b.utils.parsers.textContent(k.childNodes[l]);break;case"thumbnail":g.image=b.utils.strings.xmlAttribute(k.childNodes[l],"url");break;case"credit":g.author=b.utils.parsers.textContent(k.childNodes[l]);break;case"player":var a=k.childNodes[l].url;if(a.indexOf("youtube.com")>=0||a.indexOf("youtu.be")>=0){h=true;g.file=b.utils.strings.xmlAttribute(k.childNodes[l],"url");}break;case"group":b.utils.parsers.mediaparser.parseGroup(k.childNodes[l],g);break;}}}return g;};})(jwplayer);(function(c){c.utils.parsers.rssparser=function(){};c.utils.parsers.rssparser.parse=function(a){var h=[];for(var b=0;b<a.childNodes.length;b++){if(c.utils.parsers.localName(a.childNodes[b]).toLowerCase()=="channel"){for(var g=0;g<a.childNodes[b].childNodes.length;g++){if(c.utils.parsers.localName(a.childNodes[b].childNodes[g]).toLowerCase()=="item"){h.push(d(a.childNodes[b].childNodes[g]));}}}}return h;};function d(b){var a={};for(var f=0;f<b.childNodes.length;f++){if(!c.utils.parsers.localName(b.childNodes[f])){continue;}switch(c.utils.parsers.localName(b.childNodes[f]).toLowerCase()){case"enclosure":a.file=c.utils.strings.xmlAttribute(b.childNodes[f],"url");break;case"title":a.title=c.utils.parsers.textContent(b.childNodes[f]);break;case"pubdate":a.date=c.utils.parsers.textContent(b.childNodes[f]);break;case"description":a.description=c.utils.parsers.textContent(b.childNodes[f]);break;case"link":a.link=c.utils.parsers.textContent(b.childNodes[f]);break;case"category":if(a.tags){a.tags+=c.utils.parsers.textContent(b.childNodes[f]);}else{a.tags=c.utils.parsers.textContent(b.childNodes[f]);}break;}}a=c.utils.parsers.mediaparser.parseGroup(b,a);a=c.utils.parsers.jwparser.parseEntry(b,a);return new c.html5.playlistitem(a);}})(jwplayer);(function(e){var f={};var d={};e.plugins=function(){};e.plugins.loadPlugins=function(a,b){d[a]=new e.plugins.pluginloader(new e.plugins.model(f),b);return d[a];};e.plugins.registerPlugin=function(a,c,k){var l=e.utils.getPluginName(a);if(f[l]){f[l].registerPlugin(a,c,k);}else{e.utils.log("A plugin ("+a+") was registered with the player that was not loaded. Please check your configuration.");for(var b in d){d[b].pluginFailed();}}};})(jwplayer);(function(b){b.plugins.model=function(a){this.addPlugin=function(f){var e=b.utils.getPluginName(f);if(!a[e]){a[e]=new b.plugins.plugin(f);}return a[e];};};})(jwplayer);(function(b){b.plugins.pluginmodes={FLASH:"FLASH",JAVASCRIPT:"JAVASCRIPT",HYBRID:"HYBRID"};b.plugins.plugin=function(w){var u="http://lp.longtailvideo.com";var n=b.utils.loaderstatus.NEW;var m;var o;var a;var v=new b.events.eventdispatcher();b.utils.extend(this,v);function t(){switch(b.utils.getPluginPathType(w)){case b.utils.pluginPathType.ABSOLUTE:return w;case b.utils.pluginPathType.RELATIVE:return b.utils.getAbsolutePath(w,window.location.href);case b.utils.pluginPathType.CDN:var d=b.utils.getPluginName(w);var c=b.utils.getPluginVersion(w);return u+"/"+b.version.split(".")[0]+"/"+d+"/"+d+(c!==""?("-"+c):"")+".js";}}function q(c){a=setTimeout(function(){n=b.utils.loaderstatus.COMPLETE;v.sendEvent(b.events.COMPLETE);},1000);}function r(c){n=b.utils.loaderstatus.ERROR;v.sendEvent(b.events.ERROR);}this.load=function(){if(n==b.utils.loaderstatus.NEW){if(w.lastIndexOf(".swf")>0){m=w;n=b.utils.loaderstatus.COMPLETE;v.sendEvent(b.events.COMPLETE);return;}n=b.utils.loaderstatus.LOADING;var c=new b.utils.scriptloader(t());c.addEventListener(b.events.COMPLETE,q);c.addEventListener(b.events.ERROR,r);c.load();}};this.registerPlugin=function(d,e,c){if(a){clearTimeout(a);a=undefined;}if(e&&c){m=c;o=e;}else{if(typeof e=="string"){m=e;}else{if(typeof e=="function"){o=e;}else{if(!e&&!c){m=d;}}}}n=b.utils.loaderstatus.COMPLETE;v.sendEvent(b.events.COMPLETE);};this.getStatus=function(){return n;};this.getPluginName=function(){return b.utils.getPluginName(w);};this.getFlashPath=function(){if(m){switch(b.utils.getPluginPathType(m)){case b.utils.pluginPathType.ABSOLUTE:return m;case b.utils.pluginPathType.RELATIVE:if(w.lastIndexOf(".swf")>0){return b.utils.getAbsolutePath(m,window.location.href);}return b.utils.getAbsolutePath(m,t());case b.utils.pluginPathType.CDN:if(m.indexOf("-")>-1){return m+"h";}return m+"-h";}}return null;};this.getJS=function(){return o;};this.getPluginmode=function(){if(typeof m!="undefined"&&typeof o!="undefined"){return b.plugins.pluginmodes.HYBRID;}else{if(typeof m!="undefined"){return b.plugins.pluginmodes.FLASH;}else{if(typeof o!="undefined"){return b.plugins.pluginmodes.JAVASCRIPT;}}}};this.getNewInstance=function(e,c,d){return new o(e,c,d);};this.getURL=function(){return w;};};})(jwplayer);(function(b){b.plugins.pluginloader=function(m,q){var n={};var a=b.utils.loaderstatus.NEW;var r=false;var u=false;var t=new b.events.eventdispatcher();b.utils.extend(this,t);function o(){if(!u){u=true;a=b.utils.loaderstatus.COMPLETE;t.sendEvent(b.events.COMPLETE);}}function l(){if(!u){var c=0;for(plugin in n){var d=n[plugin].getStatus();if(d==b.utils.loaderstatus.LOADING||d==b.utils.loaderstatus.NEW){c++;}}if(c==0){o();}}}this.setupPlugins=function(v,d,e){var c={length:0,plugins:{}};var h={length:0,plugins:{}};for(var k in n){var g=n[k].getPluginName();if(n[k].getFlashPath()){c.plugins[n[k].getFlashPath()]=d.plugins[k];c.plugins[n[k].getFlashPath()].pluginmode=n[k].getPluginmode();c.length++;}if(n[k].getJS()){var f=document.createElement("div");f.id=v.id+"_"+g;f.style.position="absolute";f.style.zIndex=h.length+10;h.plugins[g]=n[k].getNewInstance(v,d.plugins[k],f);h.length++;if(typeof h.plugins[g].resize!="undefined"){v.onReady(e(h.plugins[g],f,true));v.onResize(e(h.plugins[g],f));}}}v.plugins=h.plugins;return c;};this.load=function(){a=b.utils.loaderstatus.LOADING;r=true;for(var c in q){if(b.utils.exists(c)){n[c]=m.addPlugin(c);n[c].addEventListener(b.events.COMPLETE,l);n[c].addEventListener(b.events.ERROR,l);}}for(c in n){n[c].load();}r=false;l();};this.pluginFailed=function(){o();};this.getStatus=function(){return a;};};})(jwplayer);(function(c){var d=[];c.api=function(E){this.container=E;this.id=E.id;var v={};var G={};var b={};var F=[];var A=undefined;var x=false;var z=[];var t=c.utils.getOuterHTML(E);var a={};var y={};this.getBuffer=function(){return this.callInternal("jwGetBuffer");};this.getContainer=function(){return this.container;};function D(e,f){return function(l,k,h,g){if(e.renderingMode=="flash"||e.renderingMode=="html5"){var m;if(k){y[l]=k;m="jwplayer('"+e.id+"').callback('"+l+"')";}else{if(!k&&y[l]){delete y[l];}}A.jwDockSetButton(l,m,h,g);}return f;};}this.getPlugin=function(g){var e=this;var f={};if(g=="dock"){return c.utils.extend(f,{setButton:D(e,f),show:function(){e.callInternal("jwDockShow");return f;},hide:function(){e.callInternal("jwDockHide");return f;},onShow:function(h){e.componentListener("dock",c.api.events.JWPLAYER_COMPONENT_SHOW,h);return f;},onHide:function(h){e.componentListener("dock",c.api.events.JWPLAYER_COMPONENT_HIDE,h);return f;}});}else{if(g=="controlbar"){return c.utils.extend(f,{show:function(){e.callInternal("jwControlbarShow");return f;},hide:function(){e.callInternal("jwControlbarHide");return f;},onShow:function(h){e.componentListener("controlbar",c.api.events.JWPLAYER_COMPONENT_SHOW,h);return f;},onHide:function(h){e.componentListener("controlbar",c.api.events.JWPLAYER_COMPONENT_HIDE,h);return f;}});}else{if(g=="display"){return c.utils.extend(f,{show:function(){e.callInternal("jwDisplayShow");return f;},hide:function(){e.callInternal("jwDisplayHide");return f;},onShow:function(h){e.componentListener("display",c.api.events.JWPLAYER_COMPONENT_SHOW,h);return f;},onHide:function(h){e.componentListener("display",c.api.events.JWPLAYER_COMPONENT_HIDE,h);return f;}});}else{return this.plugins[g];}}}};this.callback=function(e){if(y[e]){return y[e]();}};this.getDuration=function(){return this.callInternal("jwGetDuration");};this.getFullscreen=function(){return this.callInternal("jwGetFullscreen");};this.getHeight=function(){return this.callInternal("jwGetHeight");};this.getLockState=function(){return this.callInternal("jwGetLockState");};this.getMeta=function(){return this.getItemMeta();};this.getMute=function(){return this.callInternal("jwGetMute");};this.getPlaylist=function(){var e=this.callInternal("jwGetPlaylist");if(this.renderingMode=="flash"){c.utils.deepReplaceKeyName(e,"__dot__",".");}for(var f=0;f<e.length;f++){if(!c.utils.exists(e[f].index)){e[f].index=f;}}return e;};this.getPlaylistItem=function(e){if(!c.utils.exists(e)){e=this.getCurrentItem();}return this.getPlaylist()[e];};this.getPosition=function(){return this.callInternal("jwGetPosition");};this.getRenderingMode=function(){return this.renderingMode;};this.getState=function(){return this.callInternal("jwGetState");};this.getVolume=function(){return this.callInternal("jwGetVolume");};this.getWidth=function(){return this.callInternal("jwGetWidth");};this.setFullscreen=function(e){if(!c.utils.exists(e)){this.callInternal("jwSetFullscreen",!this.callInternal("jwGetFullscreen"));}else{this.callInternal("jwSetFullscreen",e);}return this;};this.setMute=function(e){if(!c.utils.exists(e)){this.callInternal("jwSetMute",!this.callInternal("jwGetMute"));}else{this.callInternal("jwSetMute",e);}return this;};this.lock=function(){return this;};this.unlock=function(){return this;};this.load=function(e){this.callInternal("jwLoad",e);return this;};this.playlistItem=function(e){this.callInternal("jwPlaylistItem",e);return this;};this.playlistPrev=function(){this.callInternal("jwPlaylistPrev");return this;};this.playlistNext=function(){this.callInternal("jwPlaylistNext");return this;};this.resize=function(e,f){if(this.renderingMode=="html5"){A.jwResize(e,f);}else{this.container.width=e;this.container.height=f;}return this;};this.play=function(e){if(typeof e=="undefined"){e=this.getState();if(e==c.api.events.state.PLAYING||e==c.api.events.state.BUFFERING){this.callInternal("jwPause");}else{this.callInternal("jwPlay");}}else{this.callInternal("jwPlay",e);}return this;};this.pause=function(e){if(typeof e=="undefined"){e=this.getState();if(e==c.api.events.state.PLAYING||e==c.api.events.state.BUFFERING){this.callInternal("jwPause");}else{this.callInternal("jwPlay");}}else{this.callInternal("jwPause",e);}return this;};this.stop=function(){this.callInternal("jwStop");return this;};this.seek=function(e){this.callInternal("jwSeek",e);return this;};this.setVolume=function(e){this.callInternal("jwSetVolume",e);return this;};this.onBufferChange=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_BUFFER,e);};this.onBufferFull=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_BUFFER_FULL,e);};this.onError=function(e){return this.eventListener(c.api.events.JWPLAYER_ERROR,e);};this.onFullscreen=function(e){return this.eventListener(c.api.events.JWPLAYER_FULLSCREEN,e);};this.onMeta=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_META,e);};this.onMute=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_MUTE,e);};this.onPlaylist=function(e){return this.eventListener(c.api.events.JWPLAYER_PLAYLIST_LOADED,e);};this.onPlaylistItem=function(e){return this.eventListener(c.api.events.JWPLAYER_PLAYLIST_ITEM,e);};this.onReady=function(e){return this.eventListener(c.api.events.API_READY,e);};this.onResize=function(e){return this.eventListener(c.api.events.JWPLAYER_RESIZE,e);};this.onComplete=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_COMPLETE,e);};this.onSeek=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_SEEK,e);};this.onTime=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_TIME,e);};this.onVolume=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_VOLUME,e);};this.onBuffer=function(e){return this.stateListener(c.api.events.state.BUFFERING,e);};this.onPause=function(e){return this.stateListener(c.api.events.state.PAUSED,e);};this.onPlay=function(e){return this.stateListener(c.api.events.state.PLAYING,e);};this.onIdle=function(e){return this.stateListener(c.api.events.state.IDLE,e);};this.remove=function(){v={};z=[];if(c.utils.getOuterHTML(this.container)!=t){c.api.destroyPlayer(this.id,t);}};this.setup=function(f){if(c.embed){var g=this.id;this.remove();var e=c(g);e.config=f;return new c.embed(e);}return this;};this.registerPlugin=function(e,f,g){c.plugins.registerPlugin(e,f,g);};this.setPlayer=function(f,e){A=f;this.renderingMode=e;};this.stateListener=function(f,e){if(!G[f]){G[f]=[];this.eventListener(c.api.events.JWPLAYER_PLAYER_STATE,B(f));}G[f].push(e);return this;};function B(e){return function(h){var k=h.newstate,f=h.oldstate;if(k==e){var g=G[k];if(g){for(var l=0;l<g.length;l++){if(typeof g[l]=="function"){g[l].call(this,{oldstate:f,newstate:k});}}}}};}this.componentListener=function(g,f,e){if(!b[g]){b[g]={};}if(!b[g][f]){b[g][f]=[];this.eventListener(f,w(g,f));}b[g][f].push(e);return this;};function w(f,e){return function(h){if(f==h.component){var k=b[f][e];if(k){for(var g=0;g<k.length;g++){if(typeof k[g]=="function"){k[g].call(this,h);}}}}};}this.addInternalListener=function(f,e){f.jwAddEventListener(e,'function(dat) { jwplayer("'+this.id+'").dispatchEvent("'+e+'", dat); }');};this.eventListener=function(f,e){if(!v[f]){v[f]=[];if(A&&x){this.addInternalListener(A,f);}}v[f].push(e);return this;};this.dispatchEvent=function(e){if(v[e]){var f=C(e,arguments[1]);for(var g=0;g<v[e].length;g++){if(typeof v[e][g]=="function"){v[e][g].call(this,f);}}}};function C(g,k){var e=c.utils.extend({},k);if(g==c.api.events.JWPLAYER_FULLSCREEN&&!e.fullscreen){e.fullscreen=e.message=="true"?true:false;delete e.message;}else{if(typeof e.data=="object"){e=c.utils.extend(e,e.data);delete e.data;}}var h=["position","duration","offset"];for(var f in h){if(e[h[f]]){e[h[f]]=Math.round(e[h[f]]*1000)/1000;}}return e;}this.callInternal=function(e,f){if(x){if(typeof A!="undefined"&&typeof A[e]=="function"){if(c.utils.exists(f)){return(A[e])(f);}else{return(A[e])();}}return null;}else{z.push({method:e,parameters:f});}};this.playerReady=function(e){x=true;if(!A){this.setPlayer(document.getElementById(e.id));}this.container=document.getElementById(this.id);for(var g in v){this.addInternalListener(A,g);}this.eventListener(c.api.events.JWPLAYER_PLAYLIST_ITEM,function(h){a={};});this.eventListener(c.api.events.JWPLAYER_MEDIA_META,function(h){c.utils.extend(a,h.metadata);});this.dispatchEvent(c.api.events.API_READY);while(z.length>0){var f=z.shift();this.callInternal(f.method,f.parameters);}};this.getItemMeta=function(){return a;};this.getCurrentItem=function(){return this.callInternal("jwGetPlaylistIndex");};function u(g,e,f){var k=[];if(!e){e=0;}if(!f){f=g.length-1;}for(var h=e;h<=f;h++){k.push(g[h]);}return k;}return this;};c.api.selectPlayer=function(b){var f;if(!c.utils.exists(b)){b=0;}if(b.nodeType){f=b;}else{if(typeof b=="string"){f=document.getElementById(b);}}if(f){var a=c.api.playerById(f.id);if(a){return a;}else{return c.api.addPlayer(new c.api(f));}}else{if(typeof b=="number"){return c.getPlayers()[b];}}return null;};c.api.events={API_READY:"jwplayerAPIReady",JWPLAYER_READY:"jwplayerReady",JWPLAYER_FULLSCREEN:"jwplayerFullscreen",JWPLAYER_RESIZE:"jwplayerResize",JWPLAYER_ERROR:"jwplayerError",JWPLAYER_COMPONENT_SHOW:"jwplayerComponentShow",JWPLAYER_COMPONENT_HIDE:"jwplayerComponentHide",JWPLAYER_MEDIA_BUFFER:"jwplayerMediaBuffer",JWPLAYER_MEDIA_BUFFER_FULL:"jwplayerMediaBufferFull",JWPLAYER_MEDIA_ERROR:"jwplayerMediaError",JWPLAYER_MEDIA_LOADED:"jwplayerMediaLoaded",JWPLAYER_MEDIA_COMPLETE:"jwplayerMediaComplete",JWPLAYER_MEDIA_SEEK:"jwplayerMediaSeek",JWPLAYER_MEDIA_TIME:"jwplayerMediaTime",JWPLAYER_MEDIA_VOLUME:"jwplayerMediaVolume",JWPLAYER_MEDIA_META:"jwplayerMediaMeta",JWPLAYER_MEDIA_MUTE:"jwplayerMediaMute",JWPLAYER_PLAYER_STATE:"jwplayerPlayerState",JWPLAYER_PLAYLIST_LOADED:"jwplayerPlaylistLoaded",JWPLAYER_PLAYLIST_ITEM:"jwplayerPlaylistItem"};c.api.events.state={BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"};c.api.playerById=function(a){for(var b=0;b<d.length;b++){if(d[b].id==a){return d[b];}}return null;};c.api.addPlayer=function(b){for(var a=0;a<d.length;a++){if(d[a]==b){return b;}}d.push(b);return b;};c.api.destroyPlayer=function(k,n){var l=-1;for(var a=0;a<d.length;a++){if(d[a].id==k){l=a;continue;}}if(l>=0){var o=document.getElementById(d[l].id);if(document.getElementById(d[l].id+"_wrapper")){o=document.getElementById(d[l].id+"_wrapper");}if(o){if(n){c.utils.setOuterHTML(o,n);}else{var b=document.createElement("div");var m=o.id;if(o.id.indexOf("_wrapper")==o.id.length-8){newID=o.id.substring(0,o.id.length-8);}b.setAttribute("id",m);o.parentNode.replaceChild(b,o);}}d.splice(l,1);}return null;};c.getPlayers=function(){return d.slice(0);};})(jwplayer);var _userPlayerReady=(typeof playerReady=="function")?playerReady:undefined;playerReady=function(c){var d=jwplayer.api.playerById(c.id);if(d){d.playerReady(c);}else{jwplayer.api.selectPlayer(c.id).playerReady(c);}if(_userPlayerReady){_userPlayerReady.call(this,c);}};(function(d){d.embed=function(k){var a={width:400,height:300,components:{controlbar:{position:"over"}}};var l=d.utils.mediaparser.parseMedia(k.container);var m=new d.embed.config(d.utils.extend(a,l,k.config),this);var b=d.plugins.loadPlugins(k.id,m.plugins);function o(e,f){for(var g in f){if(typeof e[g]=="function"){(e[g]).call(e,f[g]);}}}function n(){if(b.getStatus()==d.utils.loaderstatus.COMPLETE){for(var e=0;e<m.modes.length;e++){if(m.modes[e].type&&d.embed[m.modes[e].type]){var g=m;if(m.modes[e].config){g=d.utils.extend(d.utils.clone(m),m.modes[e].config);}var f=new d.embed[m.modes[e].type](document.getElementById(k.id),m.modes[e],g,b,k);if(f.supportsConfig()){f.embed();o(k,m.events);return k;}}}d.utils.log("No suitable players found");new d.embed.logo(d.utils.extend({hide:true},m.components.logo),"none",k.id);}}b.addEventListener(d.events.COMPLETE,n);b.addEventListener(d.events.ERROR,n);b.load();return k;};function c(){if(!document.body){return setTimeout(c,15);}var f=d.utils.selectors.getElementsByTagAndClass("video","jwplayer");for(var b=0;b<f.length;b++){var a=f[b];d(a.id).setup({});}}c();})(jwplayer);(function(o){function l(){return[{type:"flash",src:"/jwplayer/player.swf"},{type:"html5"},{type:"download"}];}var u={players:"modes",autoplay:"autostart"};function t(d){var a=d.toLowerCase();var b=["left","right","top","bottom"];for(var c=0;c<b.length;c++){if(a==b[c]){return true;}}return false;}function r(a){var b=false;b=(a instanceof Array)||(typeof a=="object"&&!a.position&&!a.size);return b;}function k(a){if(typeof a=="string"){if(parseInt(a).toString()==a||a.toLowerCase().indexOf("px")>-1){return parseInt(a);}}return a;}var m=["playlist","dock","controlbar","logo","display"];function n(c){var e={};switch(o.utils.typeOf(c.plugins)){case"object":for(var a in c.plugins){e[o.utils.getPluginName(a)]=a;}break;case"string":var d=c.plugins.split(",");for(var b=0;b<d.length;b++){e[o.utils.getPluginName(d[b])]=d[b];}break;}return e;}function q(e,f,a,c){if(o.utils.typeOf(e[f])!="object"){e[f]={};}var b=e[f][a];if(o.utils.typeOf(b)!="object"){e[f][a]=b={};}if(c){if(f=="plugins"){var d=o.utils.getPluginName(a);b[c]=e[d+"."+c];delete e[d+"."+c];}else{b[c]=e[a+"."+c];delete e[a+"."+c];}}}o.embed.deserialize=function(b){var a=n(b);for(var c in a){q(b,"plugins",a[c]);}for(var d in b){if(d.indexOf(".")>-1){var e=d.split(".");var f=e[0];var d=e[1];if(o.utils.isInArray(m,f)){q(b,"components",f,d);}else{if(a[f]){q(b,"plugins",a[f],d);}}}}return b;};o.embed.config=function(h,v){var w=o.utils.extend({},h);var a;if(r(w.playlist)){a=w.playlist;delete w.playlist;}w=o.embed.deserialize(w);w.height=k(w.height);w.width=k(w.width);if(typeof w.plugins=="string"){var g=w.plugins.split(",");if(typeof w.plugins!="object"){w.plugins={};}for(var c=0;c<g.length;c++){var b=o.utils.getPluginName(g[c]);if(typeof w[b]=="object"){w.plugins[g[c]]=w[b];delete w[b];}else{w.plugins[g[c]]={};}}}for(var x=0;x<m.length;x++){var d=m[x];if(o.utils.exists(w[d])){if(typeof w[d]!="object"){if(!w.components[d]){w.components[d]={};}if(d=="logo"){w.components[d].file=w[d];}else{w.components[d].position=w[d];}delete w[d];}else{if(!w.components[d]){w.components[d]={};}o.utils.extend(w.components[d],w[d]);delete w[d];}}if(typeof w[d+"size"]!="undefined"){if(!w.components[d]){w.components[d]={};}w.components[d].size=w[d+"size"];delete w[d+"size"];}}if(typeof w.icons!="undefined"){if(!w.components.display){w.components.display={};}w.components.display.icons=w.icons;delete w.icons;}for(var e in u){if(w[e]){if(!w[u[e]]){w[u[e]]=w[e];}delete w[e];}}var f;if(w.flashplayer&&!w.modes){f=l();f[0].src=w.flashplayer;delete w.flashplayer;}else{if(w.modes){if(typeof w.modes=="string"){f=l();f[0].src=w.modes;}else{if(w.modes instanceof Array){f=w.modes;}else{if(typeof w.modes=="object"&&w.modes.type){f=[w.modes];}}}delete w.modes;}else{f=l();}}w.modes=f;if(a){w.playlist=a;}return w;};})(jwplayer);(function(b){b.embed.download=function(n,h,a,m,k){this.embed=function(){var x=b.utils.extend({},a);var d={};var y=a.width?a.width:480;if(typeof y!="number"){y=parseInt(y,10);}var v=a.height?a.height:320;if(typeof v!="number"){v=parseInt(v,10);}var A,f,g;var C={};if(a.playlist&&a.playlist.length){C.file=a.playlist[0].file;f=a.playlist[0].image;C.levels=a.playlist[0].levels;}else{C.file=a.file;f=a.image;C.levels=a.levels;}if(C.file){A=C.file;}else{if(C.levels&&C.levels.length){A=C.levels[0].file;}}g=A?"pointer":"auto";var w={display:{style:{cursor:g,width:y,height:v,backgroundColor:"#000",position:"relative",textDecoration:"none",border:"none",display:"block"}},display_icon:{style:{cursor:g,position:"absolute",display:A?"block":"none",top:0,left:0,border:0,margin:0,padding:0,zIndex:3,width:50,height:50,backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAALdJREFUeNrs18ENgjAYhmFouDOCcQJGcARHgE10BDcgTOIosAGwQOuPwaQeuFRi2p/3Sb6EC5L3QCxZBgAAAOCorLW1zMn65TrlkH4NcV7QNcUQt7Gn7KIhxA+qNIR81spOGkL8oFJDyLJRdosqKDDkK+iX5+d7huzwM40xptMQMkjIOeRGo+VkEVvIPfTGIpKASfYIfT9iCHkHrBEzf4gcUQ56aEzuGK/mw0rHpy4AAACAf3kJMACBxjAQNRckhwAAAABJRU5ErkJggg==)"}},display_iconBackground:{style:{cursor:g,position:"absolute",display:A?"block":"none",top:((v-50)/2),left:((y-50)/2),border:0,width:50,height:50,margin:0,padding:0,zIndex:2,backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEpJREFUeNrszwENADAIA7DhX8ENoBMZ5KR10EryckCJiIiIiIiIiIiIiIiIiIiIiIh8GmkRERERERERERERERERERERERGRHSPAAPlXH1phYpYaAAAAAElFTkSuQmCC)"}},display_image:{style:{width:y,height:v,display:f?"block":"none",position:"absolute",cursor:g,left:0,top:0,margin:0,padding:0,textDecoration:"none",zIndex:1,border:"none"}}};var z=function(r,o,t){var q=document.createElement(r);if(t){q.id=t;}else{q.id=n.id+"_jwplayer_"+o;}b.utils.css(q,w[o].style);return q;};d.display=z("a","display",n.id);if(A){d.display.setAttribute("href",b.utils.getAbsolutePath(A));}d.display_image=z("img","display_image");d.display_image.setAttribute("alt","Click to download...");if(f){d.display_image.setAttribute("src",b.utils.getAbsolutePath(f));}if(true){d.display_icon=z("div","display_icon");d.display_iconBackground=z("div","display_iconBackground");d.display.appendChild(d.display_image);d.display_iconBackground.appendChild(d.display_icon);d.display.appendChild(d.display_iconBackground);}_css=b.utils.css;_hide=function(o){_css(o,{display:"none"});};function c(o){_imageWidth=d.display_image.naturalWidth;_imageHeight=d.display_image.naturalHeight;B();}function B(){b.utils.stretch(b.utils.stretching.UNIFORM,d.display_image,y,v,_imageWidth,_imageHeight);}d.display_image.onerror=function(o){_hide(d.display_image);};d.display_image.onload=c;n.parentNode.replaceChild(d.display,n);var e=(a.plugins&&a.plugins.logo)?a.plugins.logo:{};d.display.appendChild(new b.embed.logo(a.components.logo,"download",n.id));k.container=document.getElementById(k.id);k.setPlayer(d.display,"download");};this.supportsConfig=function(){if(a){var c=b.utils.getFirstPlaylistItemFromConfig(a);if(typeof c.file=="undefined"&&typeof c.levels=="undefined"){return true;}else{if(c.file){return l(c.file,c.provider,c.playlistfile);}else{if(c.levels&&c.levels.length){for(var d=0;d<c.levels.length;d++){if(c.levels[d].file&&l(c.levels[d].file,c.provider,c.playlistfile)){return true;}}}}}}else{return true;}};function l(f,d,g){if(g){return false;}var e=["image","sound","youtube","http"];if(d&&(e.toString().indexOf(d)>-1)){return true;}if(!d||(d&&d=="video")){var c=b.utils.extension(f);if(c&&b.utils.extensionmap[c]){return true;}}return false;}};})(jwplayer);(function(b){b.embed.flash=function(u,t,n,v,q){function a(e,f,d){var c=document.createElement("param");c.setAttribute("name",f);c.setAttribute("value",d);e.appendChild(c);}function o(d,c,e){return function(h){if(e){document.getElementById(q.id+"_wrapper").appendChild(c);}var f=document.getElementById(q.id).getPluginConfig("display");d.resize(f.width,f.height);var g={left:f.x,top:f.y};b.utils.css(c,g);};}function w(e){if(!e){return{};}var c={};for(var f in e){var g=e[f];for(var d in g){c[f+"."+d]=g[d];}}return c;}function r(e,f){if(e[f]){var c=e[f];for(var g in c){var h=c[g];if(typeof h=="string"){if(!e[g]){e[g]=h;}}else{for(var d in h){if(!e[g+"."+d]){e[g+"."+d]=h[d];}}}}delete e[f];}}function y(f){if(!f){return{};}var c={},d=[];for(var k in f){var g=b.utils.getPluginName(k);var h=f[k];d.push(k);for(var e in h){c[g+"."+e]=h[e];}}c.plugins=d.join(",");return c;}function x(c){var e=c.netstreambasepath?"":"netstreambasepath="+encodeURIComponent(window.location.href.split("#")[0])+"&";for(var d in c){if(typeof(c[d])=="object"){e+=d+"="+encodeURIComponent("[[JSON]]"+b.utils.strings.jsonToString(c[d]))+"&";}else{e+=d+"="+encodeURIComponent(c[d])+"&";}}return e.substring(0,e.length-1);}this.embed=function(){n.id=q.id;var h;var d=b.utils.extend({},n);var g=d.width;var l=d.height;if(u.id+"_wrapper"==u.parentNode.id){h=document.getElementById(u.id+"_wrapper");}else{h=document.createElement("div");h.id=u.id+"_wrapper";b.utils.wrap(u,h);b.utils.css(h,{position:"relative",width:g,height:l});}var f=v.setupPlugins(q,d,o);if(f.length>0){b.utils.extend(d,y(f.plugins));}else{delete d.plugins;}var c=["height","width","modes","events"];for(var z=0;z<c.length;z++){delete d[c[z]];}var e="opaque";if(d.wmode){e=d.wmode;}r(d,"components");r(d,"providers");if(typeof d["dock.position"]!="undefined"){if(d["dock.position"].toString().toLowerCase()=="false"){d.dock=d["dock.position"];delete d["dock.position"];}}var k="#000000";var A;if(b.utils.isIE()){var m='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" bgcolor="'+k+'" width="100%" height="100%" id="'+u.id+'" name="'+u.id+'" tabindex=0"">';m+='<param name="movie" value="'+t.src+'">';m+='<param name="allowfullscreen" value="true">';m+='<param name="allowscriptaccess" value="always">';m+='<param name="seamlesstabbing" value="true">';m+='<param name="wmode" value="'+e+'">';m+='<param name="flashvars" value="'+x(d)+'">';m+="</object>";b.utils.setOuterHTML(u,m);A=document.getElementById(u.id);}else{var B=document.createElement("object");B.setAttribute("type","application/x-shockwave-flash");B.setAttribute("data",t.src);B.setAttribute("width","100%");B.setAttribute("height","100%");B.setAttribute("bgcolor","#000000");B.setAttribute("id",u.id);B.setAttribute("name",u.id);B.setAttribute("tabindex",0);a(B,"allowfullscreen","true");a(B,"allowscriptaccess","always");a(B,"seamlesstabbing","true");a(B,"wmode",e);a(B,"flashvars",x(d));u.parentNode.replaceChild(B,u);A=B;}q.container=A;q.setPlayer(A,"flash");};this.supportsConfig=function(){if(b.utils.hasFlash()){if(n){var c=b.utils.getFirstPlaylistItemFromConfig(n);if(typeof c.file=="undefined"&&typeof c.levels=="undefined"){return true;}else{if(c.file){return flashCanPlay(c.file,c.provider);}else{if(c.levels&&c.levels.length){for(var d=0;d<c.levels.length;d++){if(c.levels[d].file&&flashCanPlay(c.levels[d].file,c.provider)){return true;}}}}}}else{return true;}}return false;};flashCanPlay=function(f,d){var e=["video","http","sound","image"];if(d&&(e.toString().indexOf(d<0))){return true;}var c=b.utils.extension(f);if(!c){return true;}if(b.utils.exists(b.utils.extensionmap[c])&&!b.utils.exists(b.utils.extensionmap[c].flash)){return false;}return true;};};})(jwplayer);(function(b){b.embed.html5=function(n,h,a,m,k){function l(d,c,e){return function(g){var f=document.getElementById(n.id+"_displayarea");if(e){f.appendChild(c);}var o=f.style;d.resize(parseInt(o.width.replace("px","")),parseInt(o.height.replace("px","")));c.left=o.left;c.top=o.top;};}this.embed=function(){if(b.html5){m.setupPlugins(k,a,l);n.innerHTML="";var e=b.utils.extend({screencolor:"0x000000"},a);var f=["plugins","modes","events"];for(var d=0;d<f.length;d++){delete e[f[d]];}if(e.levels&&!e.sources){e.sources=a.levels;}if(e.skin&&e.skin.toLowerCase().indexOf(".zip")>0){e.skin=e.skin.replace(/\.zip/i,".xml");}var c=new (b.html5(n)).setup(e);k.container=document.getElementById(k.id);k.setPlayer(c,"html5");}else{return null;}};this.supportsConfig=function(){if(!!b.vid.canPlayType){if(a){var c=b.utils.getFirstPlaylistItemFromConfig(a);if(typeof c.file=="undefined"&&typeof c.levels=="undefined"){return true;}else{if(c.file){return html5CanPlay(b.vid,c.file,c.provider,c.playlistfile);}else{if(c.levels&&c.levels.length){for(var d=0;d<c.levels.length;d++){if(c.levels[d].file&&html5CanPlay(b.vid,c.levels[d].file,c.provider,c.playlistfile)){return true;}}}}}}else{return true;}}return false;};html5CanPlay=function(e,f,d,g){if(g){return false;}if(d&&d=="youtube"){return true;}if(d&&d!="video"&&d!="http"&&d!="sound"){return false;}var c=b.utils.extension(f);if(!b.utils.exists(c)||!b.utils.exists(b.utils.extensionmap[c])){return true;}if(!b.utils.exists(b.utils.extensionmap[c].html5)){return false;}if(b.utils.isLegacyAndroid()&&c.match(/m4v|mp4/)){return true;}return browserCanPlay(e,b.utils.extensionmap[c].html5);};browserCanPlay=function(c,d){if(!d){return true;}if(c.canPlayType(d)){return true;}else{if(d=="audio/mp3"&&navigator.userAgent.match(/safari/i)){return c.canPlayType("audio/mpeg");}else{return false;}}};};})(jwplayer);(function(b){b.embed.logo=function(t,u,B){var w={prefix:"http://l.longtailvideo.com/"+u+"/",file:"",link:"",margin:8,out:0.5,over:1,timeout:5,hide:false,position:"bottom-left"};_css=b.utils.css;var D;var x;v();function v(){q();C();z();}function q(){if(w.prefix){var c=b.version.split(/\W/).splice(0,2).join("/");if(w.prefix.indexOf(c)<0){w.prefix+=c+"/";}}x=b.utils.extend({},w,t);}function a(){var c={border:"none",textDecoration:"none",position:"absolute",cursor:"pointer",zIndex:10};c.display=x.hide?"none":"block";var d=x.position.toLowerCase().split("-");for(var e in d){c[d[e]]=x.margin;}return c;}function C(){D=document.createElement("img");D.id=B+"_jwplayer_logo";D.style.display="none";D.onload=function(c){_css(D,a());A();};if(!x.file){return;}if(x.file.indexOf("http://")===0){D.src=x.file;}else{D.src=x.prefix+x.file;}}if(!x.file){return;}function z(){if(x.link){D.onmouseover=y;D.onmouseout=A;D.onclick=r;}else{this.mouseEnabled=false;}}function r(c){if(typeof c!="undefined"){c.preventDefault();c.stopPropagation();}if(x.link){window.open(x.link,"_blank");}return;}function A(c){if(x.link){D.style.opacity=x.out;}return;}function y(c){if(x.hide){D.style.opacity=x.over;}return;}return D;};})(jwplayer);(function(b){b.html5=function(a){var d=a;this.setup=function(c){b.utils.extend(this,new b.html5.api(d,c));return this;};return this;};})(jwplayer);(function(e){var g=e.utils;var h=g.css;e.html5.view=function(K,M,X){var F=K;var Q=M;var c=X;var d;var W;var J;var H;var I;var O;var N;function a(){d=document.createElement("div");d.id=Q.id;d.className=Q.className;_videowrapper=document.createElement("div");_videowrapper.id=d.id+"_video_wrapper";Q.id=d.id+"_video";h(d,{position:"relative",height:c.height,width:c.width,padding:0,backgroundColor:k(),zIndex:0});function k(){if(F.skin.getComponentSettings("display")&&F.skin.getComponentSettings("display").backgroundcolor){return F.skin.getComponentSettings("display").backgroundcolor;}return parseInt("000000",16);}h(Q,{width:c.width,height:c.height,top:0,left:0,zIndex:1,margin:"auto",display:"block"});h(_videowrapper,{overflow:"hidden",position:"absolute",top:0,left:0,bottom:0,right:0});g.wrap(Q,d);g.wrap(Q,_videowrapper);H=document.createElement("div");H.id=d.id+"_displayarea";d.appendChild(H);}function T(){for(var l=0;l<c.plugins.order.length;l++){var k=c.plugins.order[l];if(g.exists(c.plugins.object[k].getDisplayElement)){c.plugins.object[k].height=g.parseDimension(c.plugins.object[k].getDisplayElement().style.height);c.plugins.object[k].width=g.parseDimension(c.plugins.object[k].getDisplayElement().style.width);c.plugins.config[k].currentPosition=c.plugins.config[k].position;}}E();}function R(k){h(H,{display:c.getMedia().hasChrome()?"none":"block"});}function E(m){var k=c.getMedia()?c.getMedia().getDisplayElement():null;if(g.exists(k)){if(N!=k){if(N&&N.parentNode){N.parentNode.replaceChild(k,N);}N=k;}for(var n=0;n<c.plugins.order.length;n++){var l=c.plugins.order[n];if(g.exists(c.plugins.object[l].getDisplayElement)){c.plugins.config[l].currentPosition=c.plugins.config[l].position;}}}U(c.width,c.height);}this.setup=function(){if(c&&c.getMedia()){Q=c.getMedia().getDisplayElement();}a();T();F.jwAddEventListener(e.api.events.JWPLAYER_PLAYER_STATE,R);F.jwAddEventListener(e.api.events.JWPLAYER_MEDIA_LOADED,E);F.jwAddEventListener(e.api.events.JWPLAYER_MEDIA_META,function(){b();});var k;if(g.exists(window.onresize)){k=window.onresize;}window.onresize=function(n){if(g.exists(k)){try{k(n);}catch(l){}}if(F.jwGetFullscreen()){var m=document.body.getBoundingClientRect();c.width=Math.abs(m.left)+Math.abs(m.right);c.height=window.innerHeight;}U(c.width,c.height);};};function V(k){switch(k.keyCode){case 27:if(F.jwGetFullscreen()){F.jwSetFullscreen(false);}break;case 32:if(F.jwGetState()!=e.api.events.state.IDLE&&F.jwGetState()!=e.api.events.state.PAUSED){F.jwPause();}else{F.jwPlay();}break;}}function U(m,q){if(d.style.display=="none"){return;}var n=[].concat(c.plugins.order);n.reverse();I=n.length+2;if(!c.fullscreen){c.width=m;c.height=q;W=m;J=q;h(H,{top:0,bottom:0,left:0,right:0,width:m,height:q,position:"relative"});h(d,{height:J,width:W});var o=P(G,n);if(o.length>0){I+=o.length;var k=o.indexOf("playlist"),l=o.indexOf("controlbar");if(k>=0&&l>=0){o[k]=o.splice(l,1,o[k])[0];}P(S,o,true);}}else{if(!(navigator&&navigator.vendor&&navigator.vendor.indexOf("Apple")==0)){P(L,n,true);}}b();}function P(l,o,n){var q=[];for(var r=0;r<o.length;r++){var k=o[r];if(g.exists(c.plugins.object[k].getDisplayElement)){if(c.plugins.config[k].currentPosition!=e.html5.view.positions.NONE){var m=l(k,I--);if(!m){q.push(k);}else{c.plugins.object[k].resize(m.width,m.height);if(n){delete m.width;delete m.height;}h(c.plugins.object[k].getDisplayElement(),m);}}else{h(c.plugins.object[k].getDisplayElement(),{display:"none"});}}}return q;}function G(l,k){if(g.exists(c.plugins.object[l].getDisplayElement)){if(c.plugins.config[l].position&&f(c.plugins.config[l].position)){if(!g.exists(c.plugins.object[l].getDisplayElement().parentNode)){d.appendChild(c.plugins.object[l].getDisplayElement());}var m=Y(l);m.zIndex=k;return m;}}return false;}function S(l,k){if(!g.exists(c.plugins.object[l].getDisplayElement().parentNode)){H.appendChild(c.plugins.object[l].getDisplayElement());}var n=c.width,m=c.height;if(typeof c.width=="string"&&c.width.lastIndexOf("%")>-1){percentage=parseFloat(c.width.substring(0,c.width.lastIndexOf("%")))/100;n=Math.round(window.innerWidth*percentage);}if(typeof c.height=="string"&&c.height.lastIndexOf("%")>-1){percentage=parseFloat(c.height.substring(0,c.height.lastIndexOf("%")))/100;m=Math.round(window.innerHeight*percentage);}return{position:"absolute",width:(n-g.parseDimension(H.style.left)-g.parseDimension(H.style.right)),height:(m-g.parseDimension(H.style.top)-g.parseDimension(H.style.bottom)),zIndex:k};}function L(l,k){return{position:"fixed",width:c.width,height:c.height,zIndex:k};}function b(){if(!g.exists(c.getMedia())){return;}H.style.position="absolute";var l=c.getMedia().getDisplayElement();if(l&&l.tagName.toLowerCase()=="video"){l.style.position="absolute";var o,k;if(H.style.width.toString().lastIndexOf("%")>-1||H.style.width.toString().lastIndexOf("%")>-1){var n=H.getBoundingClientRect();o=Math.abs(n.left)+Math.abs(n.right);k=Math.abs(n.top)+Math.abs(n.bottom);}else{o=g.parseDimension(H.style.width);k=g.parseDimension(H.style.height);}if(l.parentNode){l.parentNode.style.left=H.style.left;l.parentNode.style.top=H.style.top;}g.stretch(F.jwGetStretching(),l,o,k,l.videoWidth?l.videoWidth:400,l.videoHeight?l.videoHeight:300);}else{var m=c.plugins.object.display.getDisplayElement();if(m){c.getMedia().resize(g.parseDimension(m.style.width),g.parseDimension(m.style.height));}else{c.getMedia().resize(g.parseDimension(H.style.width),g.parseDimension(H.style.height));}}}function Y(l){var k={position:"absolute",margin:0,padding:0,top:null};var m=c.plugins.config[l].currentPosition.toLowerCase();switch(m.toUpperCase()){case e.html5.view.positions.TOP:k.top=g.parseDimension(H.style.top);k.left=g.parseDimension(H.style.left);k.width=W-g.parseDimension(H.style.left)-g.parseDimension(H.style.right);k.height=c.plugins.object[l].height;H.style[m]=g.parseDimension(H.style[m])+c.plugins.object[l].height+"px";H.style.height=g.parseDimension(H.style.height)-k.height+"px";break;case e.html5.view.positions.RIGHT:k.top=g.parseDimension(H.style.top);k.right=g.parseDimension(H.style.right);k.width=c.plugins.object[l].width;k.height=J-g.parseDimension(H.style.top)-g.parseDimension(H.style.bottom);H.style[m]=g.parseDimension(H.style[m])+c.plugins.object[l].width+"px";H.style.width=g.parseDimension(H.style.width)-k.width+"px";break;case e.html5.view.positions.BOTTOM:k.bottom=g.parseDimension(H.style.bottom);k.left=g.parseDimension(H.style.left);k.width=W-g.parseDimension(H.style.left)-g.parseDimension(H.style.right);k.height=c.plugins.object[l].height;H.style[m]=g.parseDimension(H.style[m])+c.plugins.object[l].height+"px";H.style.height=g.parseDimension(H.style.height)-k.height+"px";break;case e.html5.view.positions.LEFT:k.top=g.parseDimension(H.style.top);k.left=g.parseDimension(H.style.left);k.width=c.plugins.object[l].width;k.height=J-g.parseDimension(H.style.top)-g.parseDimension(H.style.bottom);H.style[m]=g.parseDimension(H.style[m])+c.plugins.object[l].width+"px";H.style.width=g.parseDimension(H.style.width)-k.width+"px";break;default:break;}return k;}this.resize=U;this.fullscreen=function(k){if(navigator&&navigator.vendor&&navigator.vendor.indexOf("Apple")===0){if(c.getMedia().getDisplayElement().webkitSupportsFullscreen){if(k){try{c.getMedia().getDisplayElement().webkitEnterFullscreen();}catch(l){}}else{try{c.getMedia().getDisplayElement().webkitExitFullscreen();}catch(l){}}}}else{if(k){document.onkeydown=V;clearInterval(O);var m=document.body.getBoundingClientRect();c.width=Math.abs(m.left)+Math.abs(m.right);c.height=window.innerHeight;var n={position:"fixed",width:"100%",height:"100%",top:0,left:0,zIndex:2147483000};h(d,n);n.zIndex=1;if(c.getMedia()&&c.getMedia().getDisplayElement()){h(c.getMedia().getDisplayElement(),n);}n.zIndex=2;h(H,n);}else{document.onkeydown="";c.width=W;c.height=J;h(d,{position:"relative",height:c.height,width:c.width,zIndex:0});}U(c.width,c.height);}};};function f(a){return([e.html5.view.positions.TOP,e.html5.view.positions.RIGHT,e.html5.view.positions.BOTTOM,e.html5.view.positions.LEFT].toString().indexOf(a.toUpperCase())>-1);}e.html5.view.positions={TOP:"TOP",RIGHT:"RIGHT",BOTTOM:"BOTTOM",LEFT:"LEFT",OVER:"OVER",NONE:"NONE"};})(jwplayer);(function(d){var c={backgroundcolor:"",margin:10,font:"Arial,sans-serif",fontsize:10,fontcolor:parseInt("000000",16),fontstyle:"normal",fontweight:"bold",buttoncolor:parseInt("ffffff",16),position:d.html5.view.positions.BOTTOM,idlehide:false,layout:{left:{position:"left",elements:[{name:"play",type:"button"},{name:"divider",type:"divider"},{name:"prev",type:"button"},{name:"divider",type:"divider"},{name:"next",type:"button"},{name:"divider",type:"divider"},{name:"elapsed",type:"text"}]},center:{position:"center",elements:[{name:"time",type:"slider"}]},right:{position:"right",elements:[{name:"duration",type:"text"},{name:"blank",type:"button"},{name:"divider",type:"divider"},{name:"mute",type:"button"},{name:"volume",type:"slider"},{name:"divider",type:"divider"},{name:"fullscreen",type:"button"}]}}};_utils=d.utils;_css=_utils.css;_hide=function(a){_css(a,{display:"none"});};_show=function(a){_css(a,{display:"block"});};d.html5.controlbar=function(a3,ak){var a4=a3;var aH=_utils.extend({},c,a4.skin.getComponentSettings("controlbar"),ak);if(aH.position==d.html5.view.positions.NONE||typeof d.html5.view.positions[aH.position]=="undefined"){return;}if(_utils.mapLength(a4.skin.getComponentLayout("controlbar"))>0){aH.layout=a4.skin.getComponentLayout("controlbar");}var aL;var aq;var aM;var aF;var aT="none";var a7;var a5;var aJ;var a8;var a9;var aQ;var ap={};var aZ=false;var bb={};var b;var a6=false;var a0;var ba;var an=false;var aB=false;var aj=new d.html5.eventdispatcher();_utils.extend(this,aj);function ax(){if(!b){b=a4.skin.getSkinElement("controlbar","background");if(!b){b={width:0,height:0,src:null};}}return b;}function at(){aM=0;aF=0;aq=0;if(!aZ){var g={height:ax().height,backgroundColor:aH.backgroundcolor};aL=document.createElement("div");aL.id=a4.id+"_jwplayer_controlbar";_css(aL,g);}var h=(a4.skin.getSkinElement("controlbar","capLeft"));var e=(a4.skin.getSkinElement("controlbar","capRight"));if(h){aR("capLeft","left",false,aL);}var f={position:"absolute",height:ax().height,left:(h?h.width:0),zIndex:0};a("background",aL,f,"img");if(ax().src){ap.background.src=ax().src;}f.zIndex=1;a("elements",aL,f);if(e){aR("capRight","right",false,aL);}}this.getDisplayElement=function(){return aL;};this.resize=function(f,e){_utils.cancelAnimation(aL);document.getElementById(a4.id).onmousemove=aN;a9=f;aQ=e;if(aB!=a4.jwGetFullscreen()){aB=a4.jwGetFullscreen();ba=undefined;}var g=aS();aN();ay({id:a4.id,duration:aJ,position:a5});aU({id:a4.id,bufferPercent:a8});return g;};this.show=function(){if(a6){a6=false;_show(aL);am();}};this.hide=function(){if(!a6){a6=true;_hide(aL);aO();}};function aY(){var g=["timeSlider","volumeSlider","timeSliderRail","volumeSliderRail"];for(var f in g){var e=g[f];if(typeof ap[e]!="undefined"){bb[e]=ap[e].getBoundingClientRect();}}}function aN(e){if(a6){return;}if(aH.position==d.html5.view.positions.OVER||a4.jwGetFullscreen()){clearTimeout(a0);switch(a4.jwGetState()){case d.api.events.state.PAUSED:case d.api.events.state.IDLE:if(!aH.idlehide||_utils.exists(e)){al();}if(aH.idlehide){a0=setTimeout(function(){aP();},2000);}break;default:if(e){al();}a0=setTimeout(function(){aP();},2000);break;}}}function aP(e){aO();_utils.cancelAnimation(aL);_utils.fadeTo(aL,0,0.1,1,0);}function al(){am();_utils.cancelAnimation(aL);_utils.fadeTo(aL,1,0,1,0);}function az(e){return function(){if(an&&ba!=e){ba=e;aj.sendEvent(e,{component:"controlbar",boundingRect:ar()});}};}var am=az(d.api.events.JWPLAYER_COMPONENT_SHOW);var aO=az(d.api.events.JWPLAYER_COMPONENT_HIDE);function ar(){if(aH.position==d.html5.view.positions.OVER||a4.jwGetFullscreen()){return _utils.getDimensions(aL);}else{return{x:0,y:0,width:0,height:0};}}function a(f,g,h,e){var k;if(!aZ){if(!e){e="div";}k=document.createElement(e);ap[f]=k;k.id=aL.id+"_"+f;g.appendChild(k);}else{k=document.getElementById(aL.id+"_"+f);}if(_utils.exists(h)){_css(k,h);}return k;}function au(){aA(aH.layout.left);aA(aH.layout.right,-1);aA(aH.layout.center);}function aA(g,e){var f=g.position=="right"?"right":"left";var h=_utils.extend([],g.elements);if(_utils.exists(e)){h.reverse();}for(var k=0;k<h.length;k++){aI(h[k],f);}}function aw(){return aq++;}function aI(k,g){var l,n,m,o,e;if(k.type=="divider"){aR("divider"+aw(),g,true,undefined,undefined,k.width,k.element);return;}switch(k.name){case"play":aR("playButton",g,false);aR("pauseButton",g,true);ao("playButton","jwPlay");ao("pauseButton","jwPause");break;case"prev":aR("prevButton",g,true);ao("prevButton","jwPlaylistPrev");break;case"stop":aR("stopButton",g,true);ao("stopButton","jwStop");break;case"next":aR("nextButton",g,true);ao("nextButton","jwPlaylistNext");break;case"elapsed":aR("elapsedText",g,true);break;case"time":n=!_utils.exists(a4.skin.getSkinElement("controlbar","timeSliderCapLeft"))?0:a4.skin.getSkinElement("controlbar","timeSliderCapLeft").width;m=!_utils.exists(a4.skin.getSkinElement("controlbar","timeSliderCapRight"))?0:a4.skin.getSkinElement("controlbar","timeSliderCapRight").width;l=g=="left"?n:m;o=a4.skin.getSkinElement("controlbar","timeSliderRail").width+n+m;e={height:ax().height,position:"absolute",top:0,width:o};e[g]=g=="left"?aM:aF;var h=a("timeSlider",ap.elements,e);aR("timeSliderCapLeft",g,true,h,g=="left"?0:l);aR("timeSliderRail",g,false,h,l);aR("timeSliderBuffer",g,false,h,l);aR("timeSliderProgress",g,false,h,l);aR("timeSliderThumb",g,false,h,l);aR("timeSliderCapRight",g,true,h,g=="right"?0:l);ai("time");break;case"fullscreen":aR("fullscreenButton",g,false);aR("normalscreenButton",g,true);ao("fullscreenButton","jwSetFullscreen",true);ao("normalscreenButton","jwSetFullscreen",false);break;case"volume":n=!_utils.exists(a4.skin.getSkinElement("controlbar","volumeSliderCapLeft"))?0:a4.skin.getSkinElement("controlbar","volumeSliderCapLeft").width;m=!_utils.exists(a4.skin.getSkinElement("controlbar","volumeSliderCapRight"))?0:a4.skin.getSkinElement("controlbar","volumeSliderCapRight").width;l=g=="left"?n:m;o=a4.skin.getSkinElement("controlbar","volumeSliderRail").width+n+m;e={height:ax().height,position:"absolute",top:0,width:o};e[g]=g=="left"?aM:aF;var f=a("volumeSlider",ap.elements,e);aR("volumeSliderCapLeft",g,true,f,g=="left"?0:l);aR("volumeSliderRail",g,true,f,l);aR("volumeSliderProgress",g,false,f,l);aR("volumeSliderCapRight",g,true,f,g=="right"?0:l);ai("volume");break;case"mute":aR("muteButton",g,false);aR("unmuteButton",g,true);ao("muteButton","jwSetMute",true);ao("unmuteButton","jwSetMute",false);break;case"duration":aR("durationText",g,true);break;}}function aR(n,k,q,f,m,r,o){if(_utils.exists(a4.skin.getSkinElement("controlbar",n))||n.indexOf("Text")>0||n.indexOf("divider")===0){var l={height:ax().height,position:"absolute",display:"block",top:0};if((n.indexOf("next")===0||n.indexOf("prev")===0)&&a4.jwGetPlaylist().length<2){q=false;l.display="none";}var e;if(n.indexOf("Text")>0){n.innerhtml="00:00";l.font=aH.fontsize+"px/"+(ax().height+1)+"px "+aH.font;l.color=aH.fontcolor;l.textAlign="center";l.fontWeight=aH.fontweight;l.fontStyle=aH.fontstyle;l.cursor="default";e=14+3*aH.fontsize;}else{if(n.indexOf("divider")===0){if(r){if(!isNaN(parseInt(r))){e=parseInt(r);}}else{if(o){var h=a4.skin.getSkinElement("controlbar",o);if(h){l.background="url("+h.src+") repeat-x center left";e=h.width;}}else{l.background="url("+a4.skin.getSkinElement("controlbar","divider").src+") repeat-x center left";e=a4.skin.getSkinElement("controlbar","divider").width;}}}else{l.background="url("+a4.skin.getSkinElement("controlbar",n).src+") repeat-x center left";e=a4.skin.getSkinElement("controlbar",n).width;}}if(k=="left"){l.left=isNaN(m)?aM:m;if(q){aM+=e;}}else{if(k=="right"){l.right=isNaN(m)?aF:m;if(q){aF+=e;}}}if(_utils.typeOf(f)=="undefined"){f=ap.elements;}l.width=e;if(aZ){_css(ap[n],l);}else{var g=a(n,f,l);if(_utils.exists(a4.skin.getSkinElement("controlbar",n+"Over"))){g.onmouseover=function(t){g.style.backgroundImage=["url(",a4.skin.getSkinElement("controlbar",n+"Over").src,")"].join("");};g.onmouseout=function(t){g.style.backgroundImage=["url(",a4.skin.getSkinElement("controlbar",n).src,")"].join("");};}}}}function aD(){a4.jwAddEventListener(d.api.events.JWPLAYER_PLAYLIST_LOADED,aK);a4.jwAddEventListener(d.api.events.JWPLAYER_PLAYLIST_ITEM,aW);a4.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_BUFFER,aU);a4.jwAddEventListener(d.api.events.JWPLAYER_PLAYER_STATE,aX);a4.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_TIME,ay);a4.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_MUTE,aC);a4.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_VOLUME,a2);a4.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_COMPLETE,av);}function aK(){at();au();aS();aG();}function aW(e){aJ=a4.jwGetPlaylist()[e.index].duration;ay({id:a4.id,duration:aJ,position:0});aU({id:a4.id,bufferProgress:0});}function aG(){ay({id:a4.id,duration:a4.jwGetDuration(),position:0});aU({id:a4.id,bufferProgress:0});aC({id:a4.id,mute:a4.jwGetMute()});aX({id:a4.id,newstate:d.api.events.state.IDLE});a2({id:a4.id,volume:a4.jwGetVolume()});}function ao(g,f,h){if(aZ){return;}if(_utils.exists(a4.skin.getSkinElement("controlbar",g))){var e=ap[g];if(_utils.exists(e)){_css(e,{cursor:"pointer"});if(f=="fullscreen"){e.onmouseup=function(k){k.stopPropagation();a4.jwSetFullscreen(!a4.jwGetFullscreen());};}else{e.onmouseup=function(k){k.stopPropagation();if(_utils.exists(h)){a4[f](h);}else{a4[f]();}};}}}}function ai(e){if(aZ){return;}var f=ap[e+"Slider"];_css(ap.elements,{cursor:"pointer"});_css(f,{cursor:"pointer"});f.onmousedown=function(g){aT=e;};f.onmouseup=function(g){g.stopPropagation();aE(g.pageX);};f.onmousemove=function(h){if(aT=="time"){a7=true;var g=h.pageX-bb[e+"Slider"].left-window.pageXOffset;_css(ap.timeSliderThumb,{left:g});}};}function aE(h){a7=false;var e;if(aT=="time"){e=h-bb.timeSliderRail.left+window.pageXOffset;var f=e/bb.timeSliderRail.width*aJ;if(f<0){f=0;}else{if(f>aJ){f=aJ-3;}}if(a4.jwGetState()==d.api.events.state.PAUSED||a4.jwGetState()==d.api.events.state.IDLE){a4.jwPlay();}a4.jwSeek(f);}else{if(aT=="volume"){e=h-bb.volumeSliderRail.left-window.pageXOffset;var g=Math.round(e/bb.volumeSliderRail.width*100);if(g<0){g=0;}else{if(g>100){g=100;}}if(a4.jwGetMute()){a4.jwSetMute(false);}a4.jwSetVolume(g);}}aT="none";}function aU(g){if(_utils.exists(g.bufferPercent)){a8=g.bufferPercent;}if(bb.timeSliderRail){var f=bb.timeSliderRail.width;var e=isNaN(Math.round(f*a8/100))?0:Math.round(f*a8/100);_css(ap.timeSliderBuffer,{width:e});}}function aC(e){if(e.mute){_hide(ap.muteButton);_show(ap.unmuteButton);_hide(ap.volumeSliderProgress);}else{_show(ap.muteButton);_hide(ap.unmuteButton);_show(ap.volumeSliderProgress);}}function aX(e){if(e.newstate==d.api.events.state.BUFFERING||e.newstate==d.api.events.state.PLAYING){_show(ap.pauseButton);_hide(ap.playButton);}else{_hide(ap.pauseButton);_show(ap.playButton);}aN();if(e.newstate==d.api.events.state.IDLE){_hide(ap.timeSliderBuffer);_hide(ap.timeSliderProgress);_hide(ap.timeSliderThumb);ay({id:a4.id,duration:a4.jwGetDuration(),position:0});}else{_show(ap.timeSliderBuffer);if(e.newstate!=d.api.events.state.BUFFERING){_show(ap.timeSliderProgress);_show(ap.timeSliderThumb);}}}function av(e){aU({bufferPercent:0});ay(_utils.extend(e,{position:0,duration:aJ}));}function ay(g){if(_utils.exists(g.position)){a5=g.position;}if(_utils.exists(g.duration)){aJ=g.duration;}var k=(a5===aJ===0)?0:a5/aJ;var f=bb.timeSliderRail;if(f){var e=isNaN(Math.round(f.width*k))?0:Math.round(f.width*k);var h=e;if(ap.timeSliderProgress){ap.timeSliderProgress.style.width=e+"px";if(!a7){if(ap.timeSliderThumb){ap.timeSliderThumb.style.left=h+"px";}}}}if(ap.durationText){ap.durationText.innerHTML=_utils.timeFormat(aJ);}if(ap.elapsedText){ap.elapsedText.innerHTML=_utils.timeFormat(a5);}}function a1(){var f,k;var h=document.getElementById(aL.id+"_elements");if(!h){return;}var g=h.childNodes;for(var e in h.childNodes){if(isNaN(parseInt(e,10))){continue;}if(g[e].id.indexOf(aL.id+"_divider")===0&&k&&k.id.indexOf(aL.id+"_divider")===0&&g[e].style.backgroundImage==k.style.backgroundImage){g[e].style.display="none";}else{if(g[e].id.indexOf(aL.id+"_divider")===0&&f&&f.style.display!="none"){g[e].style.display="block";}}if(g[e].style.display!="none"){k=g[e];}f=g[e];}}function aS(){a1();if(a4.jwGetFullscreen()){_show(ap.normalscreenButton);_hide(ap.fullscreenButton);}else{_hide(ap.normalscreenButton);_show(ap.fullscreenButton);}var k={width:a9};var e={};if(aH.position==d.html5.view.positions.OVER||a4.jwGetFullscreen()){k.left=aH.margin;k.width-=2*aH.margin;k.top=aQ-ax().height-aH.margin;k.height=ax().height;}var g=a4.skin.getSkinElement("controlbar","capLeft");var h=a4.skin.getSkinElement("controlbar","capRight");e.left=g?g.width:0;e.width=k.width-e.left-(h?h.width:0);var f=!_utils.exists(a4.skin.getSkinElement("controlbar","timeSliderCapLeft"))?0:a4.skin.getSkinElement("controlbar","timeSliderCapLeft").width;_css(ap.timeSliderRail,{width:(e.width-aM-aF),left:f});if(_utils.exists(ap.timeSliderCapRight)){_css(ap.timeSliderCapRight,{left:f+(e.width-aM-aF)});}_css(aL,k);_css(ap.elements,e);_css(ap.background,e);aY();return k;}function a2(g){if(_utils.exists(ap.volumeSliderRail)){var k=isNaN(g.volume/100)?1:g.volume/100;var h=_utils.parseDimension(ap.volumeSliderRail.style.width);var e=isNaN(Math.round(h*k))?0:Math.round(h*k);var f=_utils.parseDimension(ap.volumeSliderRail.style.right);var l=(!_utils.exists(a4.skin.getSkinElement("controlbar","volumeSliderCapLeft")))?0:a4.skin.getSkinElement("controlbar","volumeSliderCapLeft").width;_css(ap.volumeSliderProgress,{width:e,left:l});if(_utils.exists(ap.volumeSliderCapLeft)){_css(ap.volumeSliderCapLeft,{left:0});}}}function aV(){at();au();aY();aZ=true;aD();aH.idlehide=(aH.idlehide.toString().toLowerCase()=="true");if(aH.position==d.html5.view.positions.OVER&&aH.idlehide){aL.style.opacity=0;an=true;}else{setTimeout((function(){an=true;am();}),1);}aG();}aV();return this;};})(jwplayer);(function(d){var e=["width","height","state","playlist","item","position","buffer","duration","volume","mute","fullscreen"];var f=d.utils;d.html5.controller=function(c,R,am,T){var aa=c;var S=am;var an=T;var ag=R;var N=true;var ap=-1;var af=f.exists(S.config.debug)&&(S.config.debug.toString().toLowerCase()=="console");var ai=new d.html5.eventdispatcher(ag.id,af);f.extend(this,ai);var X=[];var aq=false;function ab(g){if(aq){ai.sendEvent(g.type,g);}else{X.push(g);}}function b(k){if(!aq){ai.sendEvent(d.api.events.JWPLAYER_READY,k);if(d.utils.exists(window.playerReady)){playerReady(k);}if(d.utils.exists(window[am.config.playerReady])){window[am.config.playerReady](k);}while(X.length>0){var g=X.shift();ai.sendEvent(g.type,g);}if(am.config.autostart&&!d.utils.isIOS()){W(S.item);}while(ae.length>0){var h=ae.shift();O(h.method,h.arguments);}aq=true;}}S.addGlobalListener(ab);S.addEventListener(d.api.events.JWPLAYER_MEDIA_BUFFER_FULL,function(){S.getMedia().play();});S.addEventListener(d.api.events.JWPLAYER_MEDIA_TIME,function(g){if(g.position>=S.playlist[S.item].start&&ap>=0){S.playlist[S.item].start=ap;ap=-1;}});S.addEventListener(d.api.events.JWPLAYER_MEDIA_COMPLETE,function(g){setTimeout(Y,25);});function V(){try{ao(S.item);if(S.playlist[S.item].levels[0].file.length>0){if(N||S.state==d.api.events.state.IDLE){S.getMedia().load(S.playlist[S.item]);N=false;}else{if(S.state==d.api.events.state.PAUSED){S.getMedia().play();}}}return true;}catch(g){ai.sendEvent(d.api.events.JWPLAYER_ERROR,g);}return false;}function P(){try{if(S.playlist[S.item].levels[0].file.length>0){switch(S.state){case d.api.events.state.PLAYING:case d.api.events.state.BUFFERING:S.getMedia().pause();break;}}return true;}catch(g){ai.sendEvent(d.api.events.JWPLAYER_ERROR,g);}return false;}function Z(h){try{if(S.playlist[S.item].levels[0].file.length>0){if(typeof h!="number"){h=parseFloat(h);}switch(S.state){case d.api.events.state.IDLE:if(ap<0){ap=S.playlist[S.item].start;S.playlist[S.item].start=h;}V();break;case d.api.events.state.PLAYING:case d.api.events.state.PAUSED:case d.api.events.state.BUFFERING:S.seek(h);break;}}return true;}catch(g){ai.sendEvent(d.api.events.JWPLAYER_ERROR,g);}return false;}function ah(h){if(!f.exists(h)){h=true;}try{S.getMedia().stop(h);return true;}catch(g){ai.sendEvent(d.api.events.JWPLAYER_ERROR,g);}return false;}function ak(){try{if(S.playlist[S.item].levels[0].file.length>0){if(S.config.shuffle){ao(M());}else{if(S.item+1==S.playlist.length){ao(0);}else{ao(S.item+1);}}}if(S.state!=d.api.events.state.IDLE){var g=S.state;S.state=d.api.events.state.IDLE;ai.sendEvent(d.api.events.JWPLAYER_PLAYER_STATE,{oldstate:g,newstate:d.api.events.state.IDLE});}V();return true;}catch(h){ai.sendEvent(d.api.events.JWPLAYER_ERROR,h);}return false;}function al(){try{if(S.playlist[S.item].levels[0].file.length>0){if(S.config.shuffle){ao(M());}else{if(S.item===0){ao(S.playlist.length-1);}else{ao(S.item-1);}}}if(S.state!=d.api.events.state.IDLE){var g=S.state;S.state=d.api.events.state.IDLE;ai.sendEvent(d.api.events.JWPLAYER_PLAYER_STATE,{oldstate:g,newstate:d.api.events.state.IDLE});}V();return true;}catch(h){ai.sendEvent(d.api.events.JWPLAYER_ERROR,h);}return false;}function M(){var g=null;if(S.playlist.length>1){while(!f.exists(g)){g=Math.floor(Math.random()*S.playlist.length);if(g==S.item){g=null;}}}else{g=0;}return g;}function W(h){if(!S.playlist||!S.playlist[h]){return false;}try{if(S.playlist[h].levels[0].file.length>0){var g=S.state;if(g!==d.api.events.state.IDLE){if(S.playlist[S.item].provider==S.playlist[h].provider){ah(false);}else{ah();}}ao(h);V();}return true;}catch(k){ai.sendEvent(d.api.events.JWPLAYER_ERROR,k);}return false;}function ao(g){if(!S.playlist[g]){return;}S.setActiveMediaProvider(S.playlist[g]);if(S.item!=g){S.item=g;N=true;ai.sendEvent(d.api.events.JWPLAYER_PLAYLIST_ITEM,{index:g});}}function Q(h){try{ao(S.item);var g=S.getMedia();switch(typeof(h)){case"number":g.volume(h);break;case"string":g.volume(parseInt(h,10));break;}return true;}catch(k){ai.sendEvent(d.api.events.JWPLAYER_ERROR,k);}return false;}function ad(h){try{ao(S.item);var g=S.getMedia();if(typeof h=="undefined"){g.mute(!S.mute);}else{if(h.toString().toLowerCase()=="true"){g.mute(true);}else{g.mute(false);}}return true;}catch(k){ai.sendEvent(d.api.events.JWPLAYER_ERROR,k);}return false;}function aj(h,k){try{S.width=h;S.height=k;an.resize(h,k);ai.sendEvent(d.api.events.JWPLAYER_RESIZE,{width:S.width,height:S.height});return true;}catch(g){ai.sendEvent(d.api.events.JWPLAYER_ERROR,g);}return false;}function ac(g){try{if(typeof g=="undefined"){S.fullscreen=!S.fullscreen;an.fullscreen(!S.fullscreen);}else{if(g.toString().toLowerCase()=="true"){S.fullscreen=true;an.fullscreen(true);}else{S.fullscreen=false;an.fullscreen(false);}}ai.sendEvent(d.api.events.JWPLAYER_RESIZE,{width:S.width,height:S.height});ai.sendEvent(d.api.events.JWPLAYER_FULLSCREEN,{fullscreen:g});return true;}catch(h){ai.sendEvent(d.api.events.JWPLAYER_ERROR,h);}return false;}function a(h){try{ah();S.loadPlaylist(h);ao(S.item);return true;}catch(g){ai.sendEvent(d.api.events.JWPLAYER_ERROR,g);}return false;}d.html5.controller.repeatoptions={LIST:"LIST",ALWAYS:"ALWAYS",SINGLE:"SINGLE",NONE:"NONE"};function Y(){switch(S.config.repeat.toUpperCase()){case d.html5.controller.repeatoptions.SINGLE:V();break;case d.html5.controller.repeatoptions.ALWAYS:if(S.item==S.playlist.length-1&&!S.config.shuffle){W(0);}else{ak();}break;case d.html5.controller.repeatoptions.LIST:if(S.item==S.playlist.length-1&&!S.config.shuffle){ah();ao(0);}else{ak();}break;default:ah();break;}}var ae=[];function U(g){return function(){if(aq){O(g,arguments);}else{ae.push({method:g,arguments:arguments});}};}function O(g,h){var k=[];for(i=0;i<h.length;i++){k.push(h[i]);}g.apply(this,k);}this.play=U(V);this.pause=U(P);this.seek=U(Z);this.stop=U(ah);this.next=U(ak);this.prev=U(al);this.item=U(W);this.setVolume=U(Q);this.setMute=U(ad);this.resize=U(aj);this.setFullscreen=U(ac);this.load=U(a);this.playerReady=b;};})(jwplayer);(function(b){b.html5.defaultSkin=function(){this.text='<?xml version="1.0" ?><skin author="LongTail Video" name="Five" version="1.0"><settings><setting name="backcolor" value="0xFFFFFF"/><setting name="frontcolor" value="0x000000"/><setting name="lightcolor" value="0x000000"/><setting name="screencolor" value="0x000000"/></settings><components><component name="controlbar"><settings><setting name="margin" value="20"/><setting name="fontsize" value="11"/></settings><elements><element name="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFJJREFUeNrslLENwAAIwxLU/09j5AiOgD5hVQzNAVY8JK4qEfHMIKBnd2+BQlBINaiRtL/aV2rdzYBsM6CIONbI1NZENTr3RwdB2PlnJgJ6BRgA4hwu5Qg5iswAAAAASUVORK5CYII="/><element name="capLeft" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAIAAAC0rgCNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAD5JREFUeNosi8ENACAMAgnuv14H0Z8asI19XEjhOiKCMmibVgJTUt7V6fe9KXOtSQCfctJHu2q3/ot79hNgANc2OTz9uTCCAAAAAElFTkSuQmCC"/><element name="capRight" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAIAAAC0rgCNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAD5JREFUeNosi8ENACAMAgnuv14H0Z8asI19XEjhOiKCMmibVgJTUt7V6fe9KXOtSQCfctJHu2q3/ot79hNgANc2OTz9uTCCAAAAAElFTkSuQmCC"/><element name="divider" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAIAAAC0rgCNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAD5JREFUeNosi8ENACAMAgnuv14H0Z8asI19XEjhOiKCMmibVgJTUt7V6fe9KXOtSQCfctJHu2q3/ot79hNgANc2OTz9uTCCAAAAAElFTkSuQmCC"/><element name="playButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEhJREFUeNpiYqABYBo1dNRQ+hr6H4jvA3E8NS39j4SpZvh/LJig4YxEGEqy3kET+w+AOGFQRhTJhrEQkGcczfujhg4CQwECDADpTRWU/B3wHQAAAABJRU5ErkJggg=="/><element name="pauseButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAChJREFUeNpiYBgFo2DwA0YC8v/R1P4nRu+ooaOGUtnQUTAKhgIACDAAFCwQCfAJ4gwAAAAASUVORK5CYII="/><element name="prevButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEtJREFUeNpiYBgFo2Dog/9QDAPyQHweTYwiQ/2B+D0Wi8g2tB+JTdBQRiIMJVkvEy0iglhDF9Aq9uOpHVEwoE+NJDUKRsFgAAABBgDe2hqZcNNL0AAAAABJRU5ErkJggg=="/><element name="nextButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAElJREFUeNpiYBgFo2Dog/9AfB6I5dHE/lNqKAi/B2J/ahsKw/3EGMpIhKEk66WJoaR6fz61IyqemhEFSlL61ExSo2AUDAYAEGAAiG4hj+5t7M8AAAAASUVORK5CYII="/><element name="timeSliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADxJREFUeNpiYBgFo2AU0Bwwzluw+D8tLWARFhKiqQ9YuLg4aWsBGxs7bS1gZ6e5BWyjSX0UjIKhDgACDABlYQOGh5pYywAAAABJRU5ErkJggg=="/><element name="timeSliderBuffer" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAD1JREFUeNpiYBgFo2AU0Bww1jc0/aelBSz8/Pw09QELOzs7bS1gY2OjrQWsrKy09gHraFIfBaNgqAOAAAMAvy0DChXHsZMAAAAASUVORK5CYII="/><element name="timeSliderProgress" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAClJREFUeNpiYBgFo2AU0BwwAvF/WlrARGsfjFow8BaMglEwCugAAAIMAOHfAQunR+XzAAAAAElFTkSuQmCC"/><element name="timeSliderThumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAICAYAAAA870V8AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABZJREFUeNpiZICA/yCCiQEJUJcDEGAAY0gBD1/m7Q0AAAAASUVORK5CYII="/><element name="muteButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADFJREFUeNpiYBgFIw3MB+L/5Gj8j6yRiRTFyICJXHfTXyMLAXlGati4YDRFDj8AEGAABk8GSqqS4CoAAAAASUVORK5CYII="/><element name="unmuteButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAD1JREFUeNpiYBgFgxz8p7bm+cQa+h8LHy7GhEcjIz4bmAjYykiun/8j0fakGPIfTfPgiSr6aB4FVAcAAQYAWdwR1G1Wd2gAAAAASUVORK5CYII="/><element name="volumeSliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAYCAYAAADkgu3FAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAGpJREFUeNpi/P//PwM9ABMDncCoRYPfIqqDZcuW1UPp/6AUDcNM1DQYKtRAlaAj1mCSLSLXYIIWUctgDItoZfDA5aOoqKhGEANIM9LVR7SymGDQUctikuOIXkFNdhHEOFrDjlpEd4sAAgwAriRMub95fu8AAAAASUVORK5CYII="/><element name="volumeSliderProgress" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAYCAYAAADkgu3FAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFtJREFUeNpi/P//PwM9ABMDncCoRYPfIlqAeij9H5SiYZiqBqPTlFqE02BKLSLaYFItIttgQhZRzWB8FjENiuRJ7aAbsMQwYMl7wDIsWUUQ42gNO2oR3S0CCDAAKhKq6MLLn8oAAAAASUVORK5CYII="/><element name="fullscreenButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAE5JREFUeNpiYBgFo2DQA0YC8v/xqP1PjDlMRDrEgUgxkgHIlfZoriVGjmzLsLFHAW2D6D8eA/9Tw7L/BAwgJE90PvhPpNgoGAVDEQAEGAAMdhTyXcPKcAAAAABJRU5ErkJggg=="/><element name="normalscreenButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEZJREFUeNpiYBgFo2DIg/9UUkOUAf8JiFFsyX88fJyAkcQgYMQjNkzBoAgiezyRbE+tFGSPxQJ7auYBmma0UTAKBhgABBgAJAEY6zON61sAAAAASUVORK5CYII="/></elements></component><component name="display"><elements><element name="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEpJREFUeNrszwENADAIA7DhX8ENoBMZ5KR10EryckCJiIiIiIiIiIiIiIiIiIiIiIh8GmkRERERERERERERERERERERERGRHSPAAPlXH1phYpYaAAAAAElFTkSuQmCC"/><element name="playIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAALdJREFUeNrs18ENgjAYhmFouDOCcQJGcARHgE10BDcgTOIosAGwQOuPwaQeuFRi2p/3Sb6EC5L3QCxZBgAAAOCorLW1zMn65TrlkH4NcV7QNcUQt7Gn7KIhxA+qNIR81spOGkL8oFJDyLJRdosqKDDkK+iX5+d7huzwM40xptMQMkjIOeRGo+VkEVvIPfTGIpKASfYIfT9iCHkHrBEzf4gcUQ56aEzuGK/mw0rHpy4AAACAf3kJMACBxjAQNRckhwAAAABJRU5ErkJggg=="/><element name="muteIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHJJREFUeNrs1jEOgCAMBVAg7t5/8qaoIy4uoobyXsLCxA+0NCUAAADGUWvdQoQ41x4ixNBB2hBvBskdD3w5ZCkl3+33VqI0kjBBlh9rp+uTcyOP33TnolfsU85XX3yIRpQph8ZQY3wTZtU5AACASA4BBgDHoVuY1/fvOQAAAABJRU5ErkJggg=="/><element name="errorIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAWlJREFUeNrsl+1twjAQhsHq/7BBYQLYIBmBDcoGMAIjtBPQTcII2SDtBDBBwrU6pGsUO7YbO470PtKJkz9iH++d4ywWAAAAAABgljRNsyWr2bZzDuJG1rLdZhcMbTjrBCGDyUKsqQLFciJb9bSvuG/WagRVRUVUI6gqy5HVeKWfSgRyJruKIU//TrZTSn2nmlaXThrloi/v9F2STC1W4+Aw5cBzkquRc09bofFNc6YLxEON0VUZS5FPTftO49vMjRsIF3RhOGr7/D/pJw+FKU+q0vDyq8W42jCunDqI3LC5XxNj2wHLU1XjaRnb0Lhykhqhhd8MtSF5J9tbjCv4mXGvKJz/65FF/qJryyaaIvzP2QRxZTX2nTuXjvV/VPFSwyLnW7mpH99yTh1FEVro6JBSd40/pMrRdV8vPtcKl28T2pT8TnFZ4yNosct3Q0io6JfBiz1FlGdqVQH3VHnepAEAAAAAADDzEGAAcTwB10jWgxcAAAAASUVORK5CYII="/><element name="bufferIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAuhJREFUeNrsWr9rU1EUznuNGqvFQh1ULOhiBx0KDtIuioO4pJuik3FxFfUPaAV1FTdx0Q5d2g4FFxehTnEpZHFoBy20tCIWtGq0TZP4HfkeHB5N8m6Sl/sa74XDybvv3vvOd8/Pe4lXrVZT3dD8VJc0B8QBcUAcEAfESktHGeR5XtMfqFQq/f92zPe/NbtGlKTdCY30kuxrpMGO94BlQCXs+rbh3ONgA6BlzP1p20d80gEI5hmA2A92Qua1Q2PtAFISM+bvjMG8U+Q7oA3rQGASwrYCU6WpNdLGYbA+Pq5jjXIiwi8EEa2UDbQSaKOIuV+SlkcCrfjY8XTI9EpKGwP0C2kru2hLtHqa4zoXtZRWyvi4CLwv9Opr6Hkn6A9HKgEANsQ1iqC3Ub/vRUk2JgmRkatK36kVrnt0qObunwUdUUMXMWYpakJsO5Am8tAw2GBIgwWA+G2S2dMpiw0gDioQRQJoKhRb1QiDwlHZUABYbaXWsm5ae6loTE4ZDxN4CZar8foVzOJ2iyZ2kWF3t7YIevffaMT5yJ70kQb2fQ1sE5SHr2wazs2wgMxgbsEKEAgxAvZUJbQLBGTSBMgNrncJbA6AljtS/eKDJ0Ez+DmrQEzXS2h1Ck25kAg0IZcUOaydCy4sYnN2fOA+2AP16gNoHALlQ+fwH7XO4CxLenUpgj4xr6ugY2roPMbMx+Xs18m/E8CVEIhxsNeg83XWOAN6grG3lGbk8uE5fr4B/WH3cJw+co/l9nTYsSGYCJ/lY5/qv0thn6nrIWmjeJcPSnWOeY++AkF8tpJHIMAUs/MaBBpj3znZfQo5psY+ZrG4gv5HickjEOymKjEeRpgyST6IuZcTcWbnjcgdPi5ghxciRKsl1lDSsgwA1i8fssonJgzmTSqfGUkCENndNdAL7PS6QQ7ZYISTo+1qq0LEWjTWcvY4isa4z+yfQB+7ooyHVg5RI7/i1Ijn/vnggDggDogD4oC00P4KMACd/juEHOrS4AAAAABJRU5ErkJggg=="/></elements></component><component name="dock"><elements><element name="button" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFBJREFUeNrs0cEJACAQA8Eofu0fu/W6EM5ZSAFDRpKTBs00CQQEBAQEBAQEBAQEBAQEBATkK8iqbY+AgICAgICAgICAgICAgICAgIC86QowAG5PAQzEJ0lKAAAAAElFTkSuQmCC"/></elements></component><component name="playlist"><elements><element name="item" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAIAAAC1nk4lAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHhJREFUeNrs2NEJwCAMBcBYuv/CFuIE9VN47WWCR7iocXR3pdWdGPqqwIoMjYfQeAiNh9B4JHc6MHQVHnjggQceeOCBBx77TifyeOY0iHi8DqIdEY8dD5cL094eePzINB5CO/LwcOTptNB4CP25L4TIbZzpU7UEGAA5wz1uF5rF9AAAAABJRU5ErkJggg=="/><element name="sliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAA8CAIAAADpFA0BAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADhJREFUeNrsy6ENACAMAMHClp2wYxZLAg5Fcu9e3OjuOKqqfTMzbs14CIZhGIZhGIZhGP4VLwEGAK/BBnVFpB0oAAAAAElFTkSuQmCC"/><element name="sliderThumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAA8CAIAAADpFA0BAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADRJREFUeNrsy7ENACAMBLE8++8caFFKKiRffU53112SGs3ttOohGIZhGIZhGIZh+Fe8BRgAiaUGde6NOSEAAAAASUVORK5CYII="/></elements></component></components></skin>';this.xml=null;if(window.DOMParser){parser=new DOMParser();this.xml=parser.parseFromString(this.text,"text/xml");}else{this.xml=new ActiveXObject("Microsoft.XMLDOM");this.xml.async="false";this.xml.loadXML(this.text);}return this;};})(jwplayer);(function(b){_utils=b.utils;_css=_utils.css;_hide=function(a){_css(a,{display:"none"});};_show=function(a){_css(a,{display:"block"});};b.html5.display=function(ax,aa){var ay={icons:true,showmute:false};var a=_utils.extend({},ay,aa);var az=ax;var R={};var aC;var am;var ak;var T;var ao;var Y;var ag;var X=!_utils.exists(az.skin.getComponentSettings("display").bufferrotation)?15:parseInt(az.skin.getComponentSettings("display").bufferrotation,10);var aq=!_utils.exists(az.skin.getComponentSettings("display").bufferinterval)?100:parseInt(az.skin.getComponentSettings("display").bufferinterval,10);var ah=-1;var an="";var W=true;var aD;var aA=false;var au=false;var Z=new b.html5.eventdispatcher();_utils.extend(this,Z);var ad={display:{style:{cursor:"pointer",top:0,left:0,overflow:"hidden"},click:av},display_icon:{style:{cursor:"pointer",position:"absolute",top:((az.skin.getSkinElement("display","background").height-az.skin.getSkinElement("display","playIcon").height)/2),left:((az.skin.getSkinElement("display","background").width-az.skin.getSkinElement("display","playIcon").width)/2),border:0,margin:0,padding:0,zIndex:3,display:"none"}},display_iconBackground:{style:{cursor:"pointer",position:"absolute",top:((am-az.skin.getSkinElement("display","background").height)/2),left:((aC-az.skin.getSkinElement("display","background").width)/2),border:0,backgroundImage:(["url(",az.skin.getSkinElement("display","background").src,")"]).join(""),width:az.skin.getSkinElement("display","background").width,height:az.skin.getSkinElement("display","background").height,margin:0,padding:0,zIndex:2,display:"none"}},display_image:{style:{display:"none",width:aC,height:am,position:"absolute",cursor:"pointer",left:0,top:0,margin:0,padding:0,textDecoration:"none",zIndex:1}},display_text:{style:{zIndex:4,position:"relative",opacity:0.8,backgroundColor:parseInt("000000",16),color:parseInt("ffffff",16),textAlign:"center",fontFamily:"Arial,sans-serif",padding:"0 5px",fontSize:14}}};az.jwAddEventListener(b.api.events.JWPLAYER_PLAYER_STATE,ar);az.jwAddEventListener(b.api.events.JWPLAYER_MEDIA_MUTE,ar);az.jwAddEventListener(b.api.events.JWPLAYER_PLAYLIST_ITEM,ar);az.jwAddEventListener(b.api.events.JWPLAYER_ERROR,at);V();function V(){R.display=ae("div","display");R.display_text=ae("div","display_text");R.display.appendChild(R.display_text);R.display_image=ae("img","display_image");R.display_image.onerror=function(c){_hide(R.display_image);};R.display_image.onload=ai;R.display_icon=ae("div","display_icon");R.display_iconBackground=ae("div","display_iconBackground");R.display.appendChild(R.display_image);R.display_iconBackground.appendChild(R.display_icon);R.display.appendChild(R.display_iconBackground);aB();setTimeout((function(){au=true;if(a.icons.toString()=="true"){ab();}}),1);}this.getDisplayElement=function(){return R.display;};this.resize=function(c,d){_css(R.display,{width:c,height:d});_css(R.display_text,{width:(c-10),top:((d-R.display_text.getBoundingClientRect().height)/2)});_css(R.display_iconBackground,{top:((d-az.skin.getSkinElement("display","background").height)/2),left:((c-az.skin.getSkinElement("display","background").width)/2)});if(aC!=c||am!=d){aC=c;am=d;aD=undefined;ab();}aE();ar({});};this.show=function(){if(aA){aA=false;ap(az.jwGetState());}};this.hide=function(){if(!aA){af();aA=true;}};function ai(c){ak=R.display_image.naturalWidth;T=R.display_image.naturalHeight;aE();}function aE(){_utils.stretch(az.jwGetStretching(),R.display_image,aC,am,ak,T);}function ae(e,c){var d=document.createElement(e);d.id=az.id+"_jwplayer_"+c;_css(d,ad[c].style);return d;}function aB(){for(var c in R){if(_utils.exists(ad[c].click)){R[c].onclick=ad[c].click;}}}function av(c){if(typeof c.preventDefault!="undefined"){c.preventDefault();}else{c.returnValue=false;}if(az.jwGetState()!=b.api.events.state.PLAYING){az.jwPlay();}else{az.jwPause();}}function S(c){if(ag){af();return;}R.display_icon.style.backgroundImage=(["url(",az.skin.getSkinElement("display",c).src,")"]).join("");_css(R.display_icon,{width:az.skin.getSkinElement("display",c).width,height:az.skin.getSkinElement("display",c).height,top:(az.skin.getSkinElement("display","background").height-az.skin.getSkinElement("display",c).height)/2,left:(az.skin.getSkinElement("display","background").width-az.skin.getSkinElement("display",c).width)/2});aF();if(_utils.exists(az.skin.getSkinElement("display",c+"Over"))){R.display_icon.onmouseover=function(d){R.display_icon.style.backgroundImage=["url(",az.skin.getSkinElement("display",c+"Over").src,")"].join("");};R.display_icon.onmouseout=function(d){R.display_icon.style.backgroundImage=["url(",az.skin.getSkinElement("display",c).src,")"].join("");};}else{R.display_icon.onmouseover=null;R.display_icon.onmouseout=null;}}function af(){if(a.icons.toString()=="true"){_hide(R.display_icon);_hide(R.display_iconBackground);U();}}function aF(){if(!aA&&a.icons.toString()=="true"){_show(R.display_icon);_show(R.display_iconBackground);ab();}}function at(c){ag=true;af();R.display_text.innerHTML=c.error;_show(R.display_text);R.display_text.style.top=((am-R.display_text.getBoundingClientRect().height)/2)+"px";}function ac(){R.display_image.style.display="none";}function ar(d){if((d.type==b.api.events.JWPLAYER_PLAYER_STATE||d.type==b.api.events.JWPLAYER_PLAYLIST_ITEM)&&ag){ag=false;_hide(R.display_text);}var c=az.jwGetState();if(c==an){return;}an=c;if(ah>=0){clearTimeout(ah);}if(W||az.jwGetState()==b.api.events.state.PLAYING||az.jwGetState()==b.api.events.state.PAUSED){ap(az.jwGetState());}else{ah=setTimeout(aw(az.jwGetState()),500);}}function aw(c){return(function(){ap(c);});}function ap(c){if(_utils.exists(Y)){clearInterval(Y);Y=null;_utils.animations.rotate(R.display_icon,0);}switch(c){case b.api.events.state.BUFFERING:if(_utils.isIOS()){ac();af();}else{if(az.jwGetPlaylist()[az.jwGetItem()].provider=="sound"){al();}ao=0;Y=setInterval(function(){ao+=X;_utils.animations.rotate(R.display_icon,ao%360);},aq);S("bufferIcon");W=true;}break;case b.api.events.state.PAUSED:if(!_utils.isIOS()){if(az.jwGetPlaylist()[az.jwGetItem()].provider!="sound"){_css(R.display_image,{background:"transparent no-repeat center center"});}S("playIcon");W=true;}break;case b.api.events.state.IDLE:if(az.jwGetPlaylist()[az.jwGetItem()]&&az.jwGetPlaylist()[az.jwGetItem()].image){al();}else{ac();}S("playIcon");W=true;break;default:if(az.jwGetPlaylist()[az.jwGetItem()]&&az.jwGetPlaylist()[az.jwGetItem()].provider=="sound"){if(_utils.isIOS()){ac();W=false;}else{al();}}else{ac();W=false;}if(az.jwGetMute()&&a.showmute){S("muteIcon");}else{af();}break;}ah=-1;}function al(){if(az.jwGetPlaylist()[az.jwGetItem()]&&az.jwGetPlaylist()[az.jwGetItem()].image){_css(R.display_image,{display:"block"});R.display_image.src=_utils.getAbsolutePath(az.jwGetPlaylist()[az.jwGetItem()].image);}}function aj(c){return function(){if(!au){return;}if(!aA&&aD!=c){aD=c;Z.sendEvent(c,{component:"display",boundingRect:_utils.getDimensions(R.display_iconBackground)});}};}var ab=aj(b.api.events.JWPLAYER_COMPONENT_SHOW);var U=aj(b.api.events.JWPLAYER_COMPONENT_HIDE);return this;};})(jwplayer);(function(b){_css=b.utils.css;b.html5.dock=function(D,y){function C(){return{align:b.html5.view.positions.RIGHT};}var I=b.utils.extend({},C(),y);if(I.align=="FALSE"){return;}var M={};var A=[];var L;var x;var O=false;var z=false;var N={x:0,y:0,width:0,height:0};var B;var J=new b.html5.eventdispatcher();_utils.extend(this,J);var G=document.createElement("div");G.id=D.id+"_jwplayer_dock";D.jwAddEventListener(b.api.events.JWPLAYER_PLAYER_STATE,H);this.getDisplayElement=function(){return G;};this.setButton=function(d,c,f,e){if(!c&&M[d]){b.utils.arrays.remove(A,d);G.removeChild(M[d].div);delete M[d];}else{if(c){if(!M[d]){M[d]={};}M[d].handler=c;M[d].outGraphic=f;M[d].overGraphic=e;if(!M[d].div){A.push(d);M[d].div=document.createElement("div");M[d].div.style.position="relative";G.appendChild(M[d].div);M[d].div.appendChild(document.createElement("img"));M[d].div.childNodes[0].style.position="absolute";M[d].div.childNodes[0].style.left=0;M[d].div.childNodes[0].style.top=0;M[d].div.childNodes[0].style.zIndex=10;M[d].div.childNodes[0].style.cursor="pointer";M[d].div.appendChild(document.createElement("img"));M[d].div.childNodes[1].style.position="absolute";M[d].div.childNodes[1].style.left=0;M[d].div.childNodes[1].style.top=0;if(D.skin.getSkinElement("dock","button")){M[d].div.childNodes[1].src=D.skin.getSkinElement("dock","button").src;}M[d].div.childNodes[1].style.zIndex=9;M[d].div.childNodes[1].style.cursor="pointer";M[d].div.onmouseover=function(){if(M[d].overGraphic){M[d].div.childNodes[0].src=M[d].overGraphic;}if(D.skin.getSkinElement("dock","buttonOver")){M[d].div.childNodes[1].src=D.skin.getSkinElement("dock","buttonOver").src;}};M[d].div.onmouseout=function(){if(M[d].outGraphic){M[d].div.childNodes[0].src=M[d].outGraphic;}if(D.skin.getSkinElement("dock","button")){M[d].div.childNodes[1].src=D.skin.getSkinElement("dock","button").src;}};if(M[d].overGraphic){M[d].div.childNodes[0].src=M[d].overGraphic;}if(M[d].outGraphic){M[d].div.childNodes[0].src=M[d].outGraphic;}if(D.skin.getSkinElement("dock","button")){M[d].div.childNodes[1].src=D.skin.getSkinElement("dock","button").src;}}if(c){M[d].div.onclick=function(g){g.preventDefault();b(D.id).callback(d);if(M[d].overGraphic){M[d].div.childNodes[0].src=M[d].overGraphic;}if(D.skin.getSkinElement("dock","button")){M[d].div.childNodes[1].src=D.skin.getSkinElement("dock","button").src;}};}}}K(L,x);};function K(m,l){if(A.length>0){var k=10;var n=k;var r=-1;var q=D.skin.getSkinElement("dock","button").height;var t=D.skin.getSkinElement("dock","button").width;var d=m-t-k;var o,e;if(I.align==b.html5.view.positions.LEFT){r=1;d=k;}for(var g=0;g<A.length;g++){var h=Math.floor(n/l);if((n+q+k)>((h+1)*l)){n=((h+1)*l)+k;h=Math.floor(n/l);}var f=M[A[g]].div;f.style.top=(n%l)+"px";f.style.left=(d+(D.skin.getSkinElement("dock","button").width+k)*h*r)+"px";var c={x:b.utils.parseDimension(f.style.left),y:b.utils.parseDimension(f.style.top),width:t,height:q};if(!o||(c.x<=o.x&&c.y<=o.y)){o=c;}if(!e||(c.x>=e.x&&c.y>=e.y)){e=c;}n+=D.skin.getSkinElement("dock","button").height+k;}N={x:o.x,y:o.y,width:e.x-o.x+e.width,height:o.y-e.y+e.height};}if(z!=D.jwGetFullscreen()||L!=m||x!=l){L=m;x=l;z=D.jwGetFullscreen();B=undefined;setTimeout(F,1);}}function Q(c){return function(){if(!O&&B!=c&&A.length>0){B=c;J.sendEvent(c,{component:"dock",boundingRect:N});}};}function H(c){if(b.utils.isIOS()){switch(c.newstate){case b.api.events.state.IDLE:E();break;default:P();break;}}}var F=Q(b.api.events.JWPLAYER_COMPONENT_SHOW);var a=Q(b.api.events.JWPLAYER_COMPONENT_HIDE);this.resize=K;var E=function(){_css(G,{display:"block"});if(O){O=false;F();}};var P=function(){_css(G,{display:"none"});if(!O){a();O=true;}};this.hide=P;this.show=E;return this;};})(jwplayer);(function(b){b.html5.eventdispatcher=function(e,a){var f=new b.events.eventdispatcher(a);b.utils.extend(this,f);this.sendEvent=function(d,c){if(!b.utils.exists(c)){c={};}b.utils.extend(c,{id:e,version:b.version,type:d});f.sendEvent(d,c);};};})(jwplayer);(function(d){var c={prefix:"",file:"",link:"",margin:8,out:0.5,over:1,timeout:5,hide:true,position:"bottom-left"};_css=d.utils.css;d.html5.logo=function(A,w){var x=A;var a;var J;var b;var F=false;G();function G(){z();K();C();}function z(){if(c.prefix){var e=A.version.split(/\W/).splice(0,2).join("/");if(c.prefix.indexOf(e)<0){c.prefix+=e+"/";}}if(w.position==d.html5.view.positions.OVER){w.position=c.position;}J=d.utils.extend({},c,w);}function K(){b=document.createElement("img");b.id=x.id+"_jwplayer_logo";b.style.display="none";b.onload=function(e){_css(b,D());x.jwAddEventListener(d.api.events.JWPLAYER_PLAYER_STATE,E);y();};if(!J.file){return;}if(J.file.indexOf("http://")===0){b.src=J.file;}else{b.src=J.prefix+J.file;}}if(!J.file){return;}this.resize=function(e,f){};this.getDisplayElement=function(){return b;};function C(){if(J.link){b.onmouseover=H;b.onmouseout=y;b.onclick=v;}else{this.mouseEnabled=false;}}function v(e){if(typeof e!="undefined"){e.stopPropagation();}if(!F){return;}x.jwPause();x.jwSetFullscreen(false);if(J.link){window.open(J.link,"_top");}return;}function y(e){if(J.link&&F){b.style.opacity=J.out;}return;}function H(e){if(J.hide.toString()=="true"&&F){b.style.opacity=J.over;}return;}function D(){var e={textDecoration:"none",position:"absolute",cursor:"pointer"};e.display=(J.hide.toString()=="true")?"none":"block";var f=J.position.toLowerCase().split("-");for(var g in f){e[f[g]]=J.margin;}return e;}function B(){if(J.hide.toString()=="true"){b.style.display="block";b.style.opacity=0;d.utils.fadeTo(b,J.out,0.1,parseFloat(b.style.opacity));a=setTimeout(function(){I();},J.timeout*1000);}F=true;}function I(){F=false;if(J.hide.toString()=="true"){d.utils.fadeTo(b,0,0.1,parseFloat(b.style.opacity));}}function E(e){if(e.newstate==d.api.events.state.BUFFERING){clearTimeout(a);B();}}return this;};})(jwplayer);(function(g){var l={ended:g.api.events.state.IDLE,playing:g.api.events.state.PLAYING,pause:g.api.events.state.PAUSED,buffering:g.api.events.state.BUFFERING};var h=g.utils;var f=h.css;var k=h.isIOS();g.html5.mediavideo=function(ac,P){var R={abort:X,canplay:aa,canplaythrough:aa,durationchange:I,emptied:X,ended:aa,error:L,loadeddata:I,loadedmetadata:I,loadstart:aa,pause:aa,play:X,playing:aa,progress:J,ratechange:X,seeked:aa,seeking:aa,stalled:aa,suspend:aa,timeupdate:O,volumechange:X,waiting:aa,canshowcurrentframe:X,dataunavailable:X,empty:X,load:a,loadedfirstframe:X};var ab=new g.html5.eventdispatcher();h.extend(this,ab);var b=ac,Z=P,Y,S,U,c,ae,e=false,Q,V,T;W();this.load=function(o,n){if(typeof n=="undefined"){n=true;}c=o;h.empty(Y);T=0;if(o.levels&&o.levels.length>0){if(o.levels.length==1){Y.src=o.levels[0].file;}else{if(Y.src){Y.removeAttribute("src");}for(var q=0;q<o.levels.length;q++){var m=Y.ownerDocument.createElement("source");m.src=o.levels[q].file;Y.appendChild(m);T++;}}}else{Y.src=o.file;}if(k){if(o.image){Y.poster=o.image;}Y.controls="controls";Y.style.display="block";}Q=V=U=false;b.buffer=0;if(!h.exists(o.start)){o.start=0;}b.duration=o.duration;ab.sendEvent(g.api.events.JWPLAYER_MEDIA_LOADED);if((!k&&o.levels.length==1)||!e){Y.load();}e=false;if(n){N(g.api.events.state.BUFFERING);ab.sendEvent(g.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:0});this.play();}};this.play=function(){if(S!=g.api.events.state.PLAYING){M();if(V){N(g.api.events.state.PLAYING);}else{N(g.api.events.state.BUFFERING);}Y.play();}};this.pause=function(){Y.pause();N(g.api.events.state.PAUSED);};this.seek=function(m){if(!(b.duration<=0||isNaN(b.duration))&&!(b.position<=0||isNaN(b.position))){Y.currentTime=m;Y.play();}};_stop=this.stop=function(o){if(!h.exists(o)){o=true;}ad();if(o){Y.style.display="none";V=false;var n=navigator.userAgent;if(n.match(/chrome/i)){Y.src=undefined;}else{if(n.match(/safari/i)){Y.removeAttribute("src");}else{Y.src="";}}Y.removeAttribute("controls");Y.removeAttribute("poster");h.empty(Y);Y.load();e=true;if(Y.webkitSupportsFullscreen){try{Y.webkitExitFullscreen();}catch(m){}}}N(g.api.events.state.IDLE);};this.fullscreen=function(m){if(m===true){this.resize("100%","100%");}else{this.resize(b.config.width,b.config.height);}};this.resize=function(m,n){if(false){f(Z,{width:m,height:n});}ab.sendEvent(g.api.events.JWPLAYER_MEDIA_RESIZE,{fullscreen:b.fullscreen,width:m,hieght:n});};this.volume=function(m){if(!k){Y.volume=m/100;b.volume=m;ab.sendEvent(g.api.events.JWPLAYER_MEDIA_VOLUME,{volume:Math.round(m)});}};this.mute=function(m){if(!k){Y.muted=m;b.mute=m;ab.sendEvent(g.api.events.JWPLAYER_MEDIA_MUTE,{mute:m});}};this.getDisplayElement=function(){return Y;};this.hasChrome=function(){return false;};function W(){Y=document.createElement("video");S=g.api.events.state.IDLE;for(var m in R){Y.addEventListener(m,function(n){if(h.exists(n.target.parentNode)){R[n.type](n);}},true);}Y.setAttribute("x-webkit-airplay","allow");if(Z.parentNode){Z.parentNode.replaceChild(Y,Z);}if(!Y.id){Y.id=Z.id;}}function N(n){if(n==g.api.events.state.PAUSED&&S==g.api.events.state.IDLE){return;}if(S!=n){var m=S;b.state=S=n;ab.sendEvent(g.api.events.JWPLAYER_PLAYER_STATE,{oldstate:m,newstate:n});}}function X(m){}function J(m){var n;if(h.exists(m)&&m.lengthComputable&&m.total){n=m.loaded/m.total*100;}else{if(h.exists(Y.buffered)&&(Y.buffered.length>0)){var o=Y.buffered.length-1;if(o>=0){n=Y.buffered.end(o)/Y.duration*100;}}}if(V===false&&S==g.api.events.state.BUFFERING){ab.sendEvent(g.api.events.JWPLAYER_MEDIA_BUFFER_FULL);V=true;}if(!Q){if(n==100){Q=true;}if(h.exists(n)&&(n>b.buffer)){b.buffer=Math.round(n);ab.sendEvent(g.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:Math.round(n)});}}}function O(m){if(h.exists(m)&&h.exists(m.target)){if(!isNaN(m.target.duration)&&(isNaN(b.duration)||b.duration<1)){if(m.target.duration==Infinity){b.duration=0;}else{b.duration=Math.round(m.target.duration*10)/10;}}if(!U&&Y.readyState>0){Y.style.display="block";N(g.api.events.state.PLAYING);}if(S==g.api.events.state.PLAYING){if(!U&&Y.readyState>0){U=true;try{if(Y.currentTime<c.start){Y.currentTime=c.start;}}catch(n){}Y.volume=b.volume/100;Y.muted=b.mute;}b.position=b.duration>0?(Math.round(m.target.currentTime*10)/10):0;ab.sendEvent(g.api.events.JWPLAYER_MEDIA_TIME,{position:b.position,duration:b.duration});if(b.position>=b.duration&&(b.position>0||b.duration>0)){d();}}}J(m);}function a(m){}function aa(m){if(l[m.type]){if(m.type=="ended"){d();}else{N(l[m.type]);}}}function I(n){var m={height:n.target.videoHeight,width:n.target.videoWidth,duration:Math.round(n.target.duration*10)/10};if((b.duration===0||isNaN(b.duration))&&n.target.duration!=Infinity){b.duration=Math.round(n.target.duration*10)/10;}ab.sendEvent(g.api.events.JWPLAYER_MEDIA_META,{metadata:m});}function L(m){if(S==g.api.events.state.IDLE){return;}var n="There was an error: ";if((m.target.error&&m.target.tagName.toLowerCase()=="video")||m.target.parentNode.error&&m.target.parentNode.tagName.toLowerCase()=="video"){var o=!h.exists(m.target.error)?m.target.parentNode.error:m.target.error;switch(o.code){case o.MEDIA_ERR_ABORTED:n="You aborted the video playback: ";break;case o.MEDIA_ERR_NETWORK:n="A network error caused the video download to fail part-way: ";break;case o.MEDIA_ERR_DECODE:n="The video playback was aborted due to a corruption problem or because the video used features your browser did not support: ";break;case o.MEDIA_ERR_SRC_NOT_SUPPORTED:n="The video could not be loaded, either because the server or network failed or because the format is not supported: ";break;default:n="An unknown error occurred: ";break;}}else{if(m.target.tagName.toLowerCase()=="source"){T--;if(T>0){return;}n="The video could not be loaded, either because the server or network failed or because the format is not supported: ";}else{h.log("An unknown error occurred.  Continuing...");return;}}_stop(false);n+=K();_error=true;ab.sendEvent(g.api.events.JWPLAYER_ERROR,{error:n});return;}function K(){var n="";for(var o in c.levels){var q=c.levels[o];var m=Z.ownerDocument.createElement("source");n+=g.utils.getAbsolutePath(q.file);if(o<(c.levels.length-1)){n+=", ";}}return n;}function M(){if(!h.exists(ae)){ae=setInterval(function(){J();},100);}}function ad(){clearInterval(ae);ae=null;}function d(){if(S!=g.api.events.state.IDLE){_stop(false);ab.sendEvent(g.api.events.JWPLAYER_MEDIA_COMPLETE);}}};})(jwplayer);(function(e){var f={ended:e.api.events.state.IDLE,playing:e.api.events.state.PLAYING,pause:e.api.events.state.PAUSED,buffering:e.api.events.state.BUFFERING};var d=e.utils.css;e.html5.mediayoutube=function(t,x){var w=new e.html5.eventdispatcher();e.utils.extend(this,w);var q=t;var u=document.getElementById(x.id);var v=e.api.events.state.IDLE;var b,c;function r(h){if(v!=h){var g=v;q.state=h;v=h;w.sendEvent(e.api.events.JWPLAYER_PLAYER_STATE,{oldstate:g,newstate:h});}}this.getDisplayElement=function(){return u;};this.play=function(){if(v==e.api.events.state.IDLE){w.sendEvent(e.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:100});w.sendEvent(e.api.events.JWPLAYER_MEDIA_BUFFER_FULL);r(e.api.events.state.PLAYING);}else{if(v==e.api.events.state.PAUSED){r(e.api.events.state.PLAYING);}}};this.pause=function(){r(e.api.events.state.PAUSED);};this.seek=function(g){};this.stop=function(g){if(!_utils.exists(g)){g=true;}q.position=0;r(e.api.events.state.IDLE);if(g){d(u,{display:"none"});}};this.volume=function(g){q.volume=g;w.sendEvent(e.api.events.JWPLAYER_MEDIA_VOLUME,{volume:Math.round(g)});};this.mute=function(g){u.muted=g;q.mute=g;w.sendEvent(e.api.events.JWPLAYER_MEDIA_MUTE,{mute:g});};this.resize=function(g,h){if(g*h>0&&b){b.width=c.width=g;b.height=c.height=h;}w.sendEvent(e.api.events.JWPLAYER_MEDIA_RESIZE,{fullscreen:q.fullscreen,width:g,height:h});};this.fullscreen=function(g){if(g===true){this.resize("100%","100%");}else{this.resize(q.config.width,q.config.height);}};this.load=function(g){a(g);d(b,{display:"block"});r(e.api.events.state.BUFFERING);w.sendEvent(e.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:0});w.sendEvent(e.api.events.JWPLAYER_MEDIA_LOADED);this.play();};this.hasChrome=function(){return(v!=e.api.events.state.IDLE);};function a(g){var l=g.levels[0].file;l=["http://www.youtube.com/v/",y(l),"&amp;hl=en_US&amp;fs=1&autoplay=1"].join("");b=document.createElement("object");b.id=u.id;b.style.position="absolute";var h={movie:l,allowfullscreen:"true",allowscriptaccess:"always"};for(var o in h){var k=document.createElement("param");k.name=o;k.value=h[o];b.appendChild(k);}c=document.createElement("embed");b.appendChild(c);var n={src:l,type:"application/x-shockwave-flash",allowfullscreen:"true",allowscriptaccess:"always",width:b.width,height:b.height};for(var m in n){c.setAttribute(m,n[m]);}b.appendChild(c);b.style.zIndex=2147483000;if(u!=b&&u.parentNode){u.parentNode.replaceChild(b,u);}u=b;}function y(k){var l=k.split(/\?|\#\!/);var g="";for(var h=0;h<l.length;h++){if(l[h].substr(0,2)=="v="){g=l[h].substr(2);}}if(g==""){if(k.indexOf("/v/")>=0){g=k.substr(k.indexOf("/v/")+3);}else{if(k.indexOf("youtu.be")>=0){g=k.substr(k.indexOf("youtu.be/")+9);}else{g=k;}}}if(g.indexOf("?")>-1){g=g.substr(0,g.indexOf("?"));}if(g.indexOf("&")>-1){g=g.substr(0,g.indexOf("&"));}return g;}this.embed=c;return this;};})(jwplayer);(function(jwplayer){var _configurableStateVariables=["width","height","start","duration","volume","mute","fullscreen","item","plugins","stretching"];jwplayer.html5.model=function(api,container,options){var _api=api;var _container=container;var _model={id:_container.id,playlist:[],state:jwplayer.api.events.state.IDLE,position:0,buffer:0,config:{width:480,height:320,item:-1,skin:undefined,file:undefined,image:undefined,start:0,duration:0,bufferlength:5,volume:90,mute:false,fullscreen:false,repeat:"",stretching:jwplayer.utils.stretching.UNIFORM,autostart:false,debug:undefined,screencolor:undefined}};var _media;var _eventDispatcher=new jwplayer.html5.eventdispatcher();var _components=["display","logo","controlbar","playlist","dock"];jwplayer.utils.extend(_model,_eventDispatcher);for(var option in options){if(typeof options[option]=="string"){var type=/color$/.test(option)?"color":null;options[option]=jwplayer.utils.typechecker(options[option],type);}var config=_model.config;var path=option.split(".");for(var edge in path){if(edge==path.length-1){config[path[edge]]=options[option];}else{if(!jwplayer.utils.exists(config[path[edge]])){config[path[edge]]={};}config=config[path[edge]];}}}for(var index in _configurableStateVariables){var configurableStateVariable=_configurableStateVariables[index];_model[configurableStateVariable]=_model.config[configurableStateVariable];}var pluginorder=_components.concat([]);if(jwplayer.utils.exists(_model.plugins)){if(typeof _model.plugins=="string"){var userplugins=_model.plugins.split(",");for(var userplugin in userplugins){if(typeof userplugins[userplugin]=="string"){pluginorder.push(userplugins[userplugin].replace(/^\s+|\s+$/g,""));}}}}if(jwplayer.utils.isIOS()){pluginorder=["display","logo","dock","playlist"];if(!jwplayer.utils.exists(_model.config.repeat)){_model.config.repeat="list";}}else{if(_model.config.chromeless){pluginorder=["logo","dock","playlist"];if(!jwplayer.utils.exists(_model.config.repeat)){_model.config.repeat="list";}}}_model.plugins={order:pluginorder,config:{},object:{}};if(typeof _model.config.components!="undefined"){for(var component in _model.config.components){_model.plugins.config[component]=_model.config.components[component];}}for(var pluginIndex in _model.plugins.order){var pluginName=_model.plugins.order[pluginIndex];var pluginConfig=!jwplayer.utils.exists(_model.plugins.config[pluginName])?{}:_model.plugins.config[pluginName];_model.plugins.config[pluginName]=!jwplayer.utils.exists(_model.plugins.config[pluginName])?pluginConfig:jwplayer.utils.extend(_model.plugins.config[pluginName],pluginConfig);if(!jwplayer.utils.exists(_model.plugins.config[pluginName].position)){if(pluginName=="playlist"){_model.plugins.config[pluginName].position=jwplayer.html5.view.positions.NONE;}else{_model.plugins.config[pluginName].position=jwplayer.html5.view.positions.OVER;}}else{_model.plugins.config[pluginName].position=_model.plugins.config[pluginName].position.toString().toUpperCase();}}if(typeof _model.plugins.config.dock!="undefined"){if(typeof _model.plugins.config.dock!="object"){var position=_model.plugins.config.dock.toString().toUpperCase();_model.plugins.config.dock={position:position};}if(typeof _model.plugins.config.dock.position!="undefined"){_model.plugins.config.dock.align=_model.plugins.config.dock.position;_model.plugins.config.dock.position=jwplayer.html5.view.positions.OVER;}}function _loadExternal(playlistfile){var loader=new jwplayer.html5.playlistloader();loader.addEventListener(jwplayer.api.events.JWPLAYER_PLAYLIST_LOADED,function(evt){_model.playlist=new jwplayer.html5.playlist(evt);_loadComplete(true);});loader.addEventListener(jwplayer.api.events.JWPLAYER_ERROR,function(evt){_model.playlist=new jwplayer.html5.playlist({playlist:[]});_loadComplete(false);});loader.load(playlistfile);}function _loadComplete(){if(_model.config.shuffle){_model.item=_getShuffleItem();}else{if(_model.config.item>=_model.playlist.length){_model.config.item=_model.playlist.length-1;}else{if(_model.config.item<0){_model.config.item=0;}}_model.item=_model.config.item;}_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_PLAYLIST_LOADED,{playlist:_model.playlist});_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_PLAYLIST_ITEM,{index:_model.item});}_model.loadPlaylist=function(arg){var input;if(typeof arg=="string"){if(arg.indexOf("[")==0||arg.indexOf("{")=="0"){try{input=eval(arg);}catch(err){input=arg;}}else{input=arg;}}else{input=arg;}var config;switch(jwplayer.utils.typeOf(input)){case"object":config=input;break;case"array":config={playlist:input};break;default:_loadExternal(input);return;break;}_model.playlist=new jwplayer.html5.playlist(config);if(jwplayer.utils.extension(_model.playlist[0].file)=="xml"){_loadExternal(_model.playlist[0].file);}else{_loadComplete();}};function _getShuffleItem(){var result=null;if(_model.playlist.length>1){while(!jwplayer.utils.exists(result)){result=Math.floor(Math.random()*_model.playlist.length);if(result==_model.item){result=null;}}}else{result=0;}return result;}function forward(evt){if(evt.type==jwplayer.api.events.JWPLAYER_MEDIA_LOADED){_container=_media.getDisplayElement();}_eventDispatcher.sendEvent(evt.type,evt);}var _mediaProviders={};_model.setActiveMediaProvider=function(playlistItem){if(playlistItem.provider=="audio"){playlistItem.provider="sound";}var provider=playlistItem.provider;var current=_media?_media.getDisplayElement():null;if(provider=="sound"||provider=="http"||provider==""){provider="video";}if(!jwplayer.utils.exists(_mediaProviders[provider])){switch(provider){case"video":_media=new jwplayer.html5.mediavideo(_model,current?current:_container);break;case"youtube":_media=new jwplayer.html5.mediayoutube(_model,current?current:_container);break;}if(!jwplayer.utils.exists(_media)){return false;}_media.addGlobalListener(forward);_mediaProviders[provider]=_media;}else{if(_media!=_mediaProviders[provider]){if(_media){_media.stop();}_media=_mediaProviders[provider];}}return true;};_model.getMedia=function(){return _media;};_model.seek=function(pos){_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_MEDIA_SEEK,{position:_model.position,offset:pos});return _media.seek(pos);};_model.setupPlugins=function(){if(!jwplayer.utils.exists(_model.plugins)||!jwplayer.utils.exists(_model.plugins.order)||_model.plugins.order.length==0){jwplayer.utils.log("No plugins to set up");return _model;}for(var i=0;i<_model.plugins.order.length;i++){try{var pluginName=_model.plugins.order[i];if(jwplayer.utils.exists(jwplayer.html5[pluginName])){if(pluginName=="playlist"){_model.plugins.object[pluginName]=new jwplayer.html5.playlistcomponent(_api,_model.plugins.config[pluginName]);}else{_model.plugins.object[pluginName]=new jwplayer.html5[pluginName](_api,_model.plugins.config[pluginName]);}}else{_model.plugins.order.splice(plugin,plugin+1);}if(typeof _model.plugins.object[pluginName].addGlobalListener=="function"){_model.plugins.object[pluginName].addGlobalListener(forward);}}catch(err){jwplayer.utils.log("Could not setup "+pluginName);}}};return _model;};})(jwplayer);(function(b){b.html5.playlist=function(a){var e=[];if(a.playlist&&a.playlist instanceof Array&&a.playlist.length>0){for(var f in a.playlist){if(!isNaN(parseInt(f))){e.push(new b.html5.playlistitem(a.playlist[f]));}}}else{e.push(new b.html5.playlistitem(a));}return e;};})(jwplayer);(function(e){var f={size:180,position:e.html5.view.positions.NONE,itemheight:60,thumbs:true,fontcolor:"#000000",overcolor:"",activecolor:"",backgroundcolor:"#f8f8f8",font:"_sans",fontsize:"",fontstyle:"",fontweight:""};var d={_sans:"Arial, Helvetica, sans-serif",_serif:"Times, Times New Roman, serif",_typewriter:"Courier New, Courier, monospace"};_utils=e.utils;_css=_utils.css;_hide=function(a){_css(a,{display:"none"});};_show=function(a){_css(a,{display:"block"});};e.html5.playlistcomponent=function(J,K){var D=J;var X=e.utils.extend({},f,D.skin.getComponentSettings("playlist"),K);if(X.position==e.html5.view.positions.NONE||typeof e.html5.view.positions[X.position]=="undefined"){return;}var c;var R;var I;var Y;var V;var W;var S=-1;var U={background:undefined,item:undefined,itemOver:undefined,itemImage:undefined,itemActive:undefined};this.getDisplayElement=function(){return c;};this.resize=function(g,k){R=g;I=k;if(D.jwGetFullscreen()){_hide(c);}else{var h={display:"block",width:R,height:I};_css(c,h);}};this.show=function(){_show(c);};this.hide=function(){_hide(c);};function T(){c=document.createElement("div");c.id=D.id+"_jwplayer_playlistcomponent";switch(X.position){case e.html5.view.positions.RIGHT:case e.html5.view.positions.LEFT:c.style.width=X.size+"px";break;case e.html5.view.positions.TOP:case e.html5.view.positions.BOTTOM:c.style.height=X.size+"px";break;}M();if(U.item){X.itemheight=U.item.height;}c.style.backgroundColor="#C6C6C6";D.jwAddEventListener(e.api.events.JWPLAYER_PLAYLIST_LOADED,H);D.jwAddEventListener(e.api.events.JWPLAYER_PLAYLIST_ITEM,F);D.jwAddEventListener(e.api.events.JWPLAYER_PLAYER_STATE,Q);}function N(){var g=document.createElement("ul");_css(g,{width:c.style.width,minWidth:c.style.width,height:c.style.height,backgroundColor:X.backgroundcolor,backgroundImage:U.background?"url("+U.background.src+")":"",color:X.fontcolor,listStyle:"none",margin:0,padding:0,fontFamily:d[X.font]?d[X.font]:d._sans,fontSize:(X.fontsize?X.fontsize:11)+"px",fontStyle:X.fontstyle,fontWeight:X.fontweight,overflowY:"auto"});return g;}function b(g){return function(){var l=W.getElementsByClassName("item")[g];var k=X.fontcolor;var h=U.item?"url("+U.item.src+")":"";if(g==D.jwGetPlaylistIndex()){if(X.activecolor!==""){k=X.activecolor;}if(U.itemActive){h="url("+U.itemActive.src+")";}}_css(l,{color:X.overcolor!==""?X.overcolor:k,backgroundImage:U.itemOver?"url("+U.itemOver.src+")":h});};}function O(g){return function(){var l=W.getElementsByClassName("item")[g];var k=X.fontcolor;var h=U.item?"url("+U.item.src+")":"";if(g==D.jwGetPlaylistIndex()){if(X.activecolor!==""){k=X.activecolor;}if(U.itemActive){h="url("+U.itemActive.src+")";}}_css(l,{color:k,backgroundImage:h});};}function L(r){var h=Y[r];var k=document.createElement("li");k.className="item";_css(k,{height:X.itemheight,display:"block",cursor:"pointer",backgroundImage:U.item?"url("+U.item.src+")":"",backgroundSize:"100% "+X.itemheight+"px"});k.onmouseover=b(r);k.onmouseout=O(r);var q=document.createElement("div");var v=new Image();var o=0;var n=0;var m=0;if(E()&&(h.image||h["playlist.image"]||U.itemImage)){v.className="image";if(U.itemImage){o=(X.itemheight-U.itemImage.height)/2;n=U.itemImage.width;m=U.itemImage.height;}else{n=X.itemheight*4/3;m=X.itemheight;}_css(q,{height:m,width:n,"float":"left",styleFloat:"left",cssFloat:"left",margin:"0 5px 0 0",background:"black",overflow:"hidden",margin:o+"px",position:"relative"});_css(v,{position:"relative"});q.appendChild(v);v.onload=function(){e.utils.stretch(e.utils.stretching.FILL,v,n,m,this.naturalWidth,this.naturalHeight);};if(h["playlist.image"]){v.src=h["playlist.image"];}else{if(h.image){v.src=h.image;}else{if(U.itemImage){v.src=U.itemImage.src;}}}k.appendChild(q);}var w=R-n-o*2;if(I<X.itemheight*Y.length){w-=15;}var g=document.createElement("div");_css(g,{position:"relative",height:"100%",overflow:"hidden"});var u=document.createElement("span");if(h.duration>0){u.className="duration";_css(u,{fontSize:(X.fontsize?X.fontsize:11)+"px",fontWeight:(X.fontweight?X.fontweight:"bold"),width:"40px",height:X.fontsize?X.fontsize+10:20,lineHeight:24,"float":"right",styleFloat:"right",cssFloat:"right"});u.innerHTML=_utils.timeFormat(h.duration);g.appendChild(u);}var l=document.createElement("span");l.className="title";_css(l,{padding:"5px 5px 0 "+(o?0:"5px"),height:X.fontsize?X.fontsize+10:20,lineHeight:X.fontsize?X.fontsize+10:20,overflow:"hidden","float":"left",styleFloat:"left",cssFloat:"left",width:((h.duration>0)?w-50:w)-10+"px",fontSize:(X.fontsize?X.fontsize:13)+"px",fontWeight:(X.fontweight?X.fontweight:"bold")});l.innerHTML=h?h.title:"";g.appendChild(l);if(h.description){var t=document.createElement("span");t.className="description";_css(t,{display:"block","float":"left",styleFloat:"left",cssFloat:"left",margin:0,paddingLeft:l.style.paddingLeft,paddingRight:l.style.paddingRight,lineHeight:(X.fontsize?X.fontsize+4:16)+"px",overflow:"hidden",position:"relative"});t.innerHTML=h.description;g.appendChild(t);}k.appendChild(g);return k;}function H(k){c.innerHTML="";Y=D.jwGetPlaylist();if(!Y){return;}items=[];W=N();for(var h=0;h<Y.length;h++){var l=L(h);l.onclick=a(h);W.appendChild(l);items.push(l);}S=D.jwGetPlaylistIndex();O(S)();c.appendChild(W);if(_utils.isIOS()&&window.iScroll){W.style.height=X.itemheight*Y.length+"px";var g=new iScroll(c.id);}}function a(g){return function(){D.jwPlaylistItem(g);D.jwPlay(true);};}function P(){W.scrollTop=D.jwGetPlaylistIndex()*X.itemheight;}function E(){return X.thumbs.toString().toLowerCase()=="true";}function F(g){if(S>=0){O(S)();S=g.index;}O(g.index)();P();}function Q(){if(X.position==e.html5.view.positions.OVER){switch(D.jwGetState()){case e.api.events.state.IDLE:_show(c);break;default:_hide(c);break;}}}function M(){for(var g in U){U[g]=G(g);}}function G(g){return D.skin.getSkinElement("playlist",g);}T();return this;};})(jwplayer);(function(c){c.html5.playlistitem=function(b){var a={author:"",date:"",description:"",image:"",link:"",mediaid:"",tags:"",title:"",provider:"",file:"",streamer:"",duration:-1,start:0,currentLevel:-1,levels:[]};var f=c.utils.extend({},a,b);if(f.type){f.provider=f.type;delete f.type;}if(f.levels.length===0){f.levels[0]=new c.html5.playlistitemlevel(f);}if(!f.provider){f.provider=d(f.levels[0]);}else{f.provider=f.provider.toLowerCase();}return f;};function d(b){if(c.utils.isYouTube(b.file)){return"youtube";}else{var a=c.utils.extension(b.file);var h;if(a&&c.utils.extensionmap[a]){if(a=="m3u8"){return"video";}h=c.utils.extensionmap[a].html5;}else{if(b.type){h=b.type;}}if(h){var g=h.split("/")[0];if(g=="audio"){return"sound";}else{if(g=="video"){return g;}}}}return"";}})(jwplayer);(function(b){b.html5.playlistitemlevel=function(a){var e={file:"",streamer:"",bitrate:0,width:0};for(var f in e){if(b.utils.exists(a[f])){e[f]=a[f];}}return e;};})(jwplayer);(function(b){b.html5.playlistloader=function(){var f=new b.html5.eventdispatcher();b.utils.extend(this,f);this.load=function(c){b.utils.ajax(c,e,a);};function e(d){var k=[];try{var k=b.utils.parsers.rssparser.parse(d.responseXML.firstChild);f.sendEvent(b.api.events.JWPLAYER_PLAYLIST_LOADED,{playlist:new b.html5.playlist({playlist:k})});}catch(c){a("Could not parse the playlist");}}function a(c){f.sendEvent(b.api.events.JWPLAYER_ERROR,{error:c?c:"could not load playlist for whatever reason.  too bad"});}};})(jwplayer);(function(b){b.html5.skin=function(){var a={};var d=false;this.load=function(f,c){new b.html5.skinloader(f,function(e){d=true;a=e;c();},function(){new b.html5.skinloader("",function(e){d=true;a=e;c();});});};this.getSkinElement=function(h,g){if(d){try{return a[h].elements[g];}catch(c){b.utils.log("No such skin component / element: ",[h,g]);}}return null;};this.getComponentSettings=function(c){if(d){return a[c].settings;}return null;};this.getComponentLayout=function(c){if(d){return a[c].layout;}return null;};};})(jwplayer);(function(b){b.html5.skinloader=function(D,u,z){var v={};var G=u;var y=z;var E=true;var A;var w=D;var I=false;function x(){if(typeof w!="string"||w===""){F(b.html5.defaultSkin().xml);}else{b.utils.ajax(b.utils.getAbsolutePath(w),function(d){try{if(b.utils.exists(d.responseXML)){F(d.responseXML);return;}}catch(c){B();}F(b.html5.defaultSkin().xml);},function(c){F(b.html5.defaultSkin().xml);});}}function F(n){var X=n.getElementsByTagName("component");if(X.length===0){return;}for(var r=0;r<X.length;r++){var Z=X[r].getAttribute("name");var aa={settings:{},elements:{},layout:{}};v[Z]=aa;var T=X[r].getElementsByTagName("elements")[0].getElementsByTagName("element");for(var V=0;V<T.length;V++){H(T[V],Z);}var l=X[r].getElementsByTagName("settings")[0];if(l&&l.childNodes.length>0){var k=l.getElementsByTagName("setting");for(var d=0;d<k.length;d++){var c=k[d].getAttribute("name");var o=k[d].getAttribute("value");var q=/color$/.test(c)?"color":null;v[Z].settings[c]=b.utils.typechecker(o,q);}}var h=X[r].getElementsByTagName("layout")[0];if(h&&h.childNodes.length>0){var g=h.getElementsByTagName("group");for(var R=0;R<g.length;R++){var ab=g[R];v[Z].layout[ab.getAttribute("position")]={elements:[]};for(var e=0;e<ab.attributes.length;e++){var Y=ab.attributes[e];v[Z].layout[ab.getAttribute("position")][Y.name]=Y.value;}var f=ab.getElementsByTagName("*");for(var S=0;S<f.length;S++){var W=f[S];v[Z].layout[ab.getAttribute("position")].elements.push({type:W.tagName});for(var U=0;U<W.attributes.length;U++){var m=W.attributes[U];v[Z].layout[ab.getAttribute("position")].elements[S][m.name]=m.value;}if(!b.utils.exists(v[Z].layout[ab.getAttribute("position")].elements[S].name)){v[Z].layout[ab.getAttribute("position")].elements[S].name=W.tagName;}}}}E=false;a();}}function a(){clearInterval(A);if(!I){A=setInterval(function(){t();},100);}}function H(l,d){var e=new Image();var h=l.getAttribute("name");var f=l.getAttribute("src");var c;if(f.indexOf("data:image/png;base64,")===0){c=f;}else{var g=b.utils.getAbsolutePath(w);var k=g.substr(0,g.lastIndexOf("/"));c=[k,d,f].join("/");}v[d].elements[h]={height:0,width:0,src:"",ready:false,image:e};e.onload=function(m){C(e,h,d);};e.onerror=function(m){I=true;a();y();};e.src=c;}function B(){for(var f in v){var d=v[f];for(var g in d.elements){var c=d.elements[g];var e=c.image;e.onload=null;e.onerror=null;delete c.image;delete d.elements[g];}delete v[f];}}function t(){for(var d in v){if(d!="properties"){for(var c in v[d].elements){if(!v[d].elements[c].ready){return;}}}}if(E===false){clearInterval(A);G(v);}}function C(e,c,d){if(v[d]&&v[d].elements[c]){v[d].elements[c].height=e.height;v[d].elements[c].width=e.width;v[d].elements[c].src=e.src;v[d].elements[c].ready=true;a();}else{b.utils.log("Loaded an image for a missing element: "+d+"."+c);}}x();};})(jwplayer);(function(b){b.html5.api=function(z,a){var o={};var w=document.createElement("div");z.parentNode.replaceChild(w,z);w.id=z.id;o.version=b.version;o.id=w.id;var q=new b.html5.model(o,w,a);var t=new b.html5.view(o,w,q);var r=new b.html5.controller(o,w,q,t);o.skin=new b.html5.skin();o.jwPlay=function(c){if(typeof c=="undefined"){x();}else{if(c.toString().toLowerCase()=="true"){r.play();}else{r.pause();}}};o.jwPause=function(c){if(typeof c=="undefined"){x();}else{if(c.toString().toLowerCase()=="true"){r.pause();}else{r.play();}}};function x(){if(q.state==b.api.events.state.PLAYING||q.state==b.api.events.state.BUFFERING){r.pause();}else{r.play();}}o.jwStop=r.stop;o.jwSeek=r.seek;o.jwPlaylistItem=r.item;o.jwPlaylistNext=r.next;o.jwPlaylistPrev=r.prev;o.jwResize=r.resize;o.jwLoad=r.load;function u(c){return function(){return q[c];};}function y(e,c,d){return function(){var f=q.plugins.object[e];if(f&&f[c]&&typeof f[c]=="function"){f[c].apply(f,d);}};}o.jwGetItem=u("item");o.jwGetPosition=u("position");o.jwGetDuration=u("duration");o.jwGetBuffer=u("buffer");o.jwGetWidth=u("width");o.jwGetHeight=u("height");o.jwGetFullscreen=u("fullscreen");o.jwSetFullscreen=r.setFullscreen;o.jwGetVolume=u("volume");o.jwSetVolume=r.setVolume;o.jwGetMute=u("mute");o.jwSetMute=r.setMute;o.jwGetStretching=u("stretching");o.jwGetState=u("state");o.jwGetVersion=function(){return o.version;};o.jwGetPlaylist=function(){return q.playlist;};o.jwGetPlaylistIndex=o.jwGetItem;o.jwAddEventListener=r.addEventListener;o.jwRemoveEventListener=r.removeEventListener;o.jwSendEvent=r.sendEvent;o.jwDockSetButton=function(c,f,e,d){if(q.plugins.object.dock&&q.plugins.object.dock.setButton){q.plugins.object.dock.setButton(c,f,e,d);}};o.jwControlbarShow=y("controlbar","show");o.jwControlbarHide=y("controlbar","hide");o.jwDockShow=y("dock","show");o.jwDockHide=y("dock","hide");o.jwDisplayShow=y("display","show");o.jwDisplayHide=y("display","hide");o.jwGetLevel=function(){};o.jwGetBandwidth=function(){};o.jwGetLockState=function(){};o.jwLock=function(){};o.jwUnlock=function(){};function A(){if(q.config.playlistfile){q.addEventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED,v);q.loadPlaylist(q.config.playlistfile);}else{if(typeof q.config.playlist=="string"){q.addEventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED,v);q.loadPlaylist(q.config.playlist);}else{q.loadPlaylist(q.config);setTimeout(v,25);}}}function v(c){q.removeEventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED,v);q.setupPlugins();t.setup();var c={id:o.id,version:o.version};r.playerReady(c);}if(q.config.chromeless&&!b.utils.isIOS()){A();}else{o.skin.load(q.config.skin,A);}return o;};})(jwplayer);}var Saks=Saks;Saks.templates=Saks.templates||{};
/*!
 * Mustache `quicklook/ProductDialog` template
 */
Saks.templates["quicklook/ProductDialog"]="{{>productDetail}}{{>productViewer}}";
/*!
 * Mustache `quicklook/ProductAvailability` template
 */
Saks.templates["quicklook/ProductAvailability"]='<div class="product-availability">{{#displayCallInStore}}<p>To purchase this item, please call 1.877.551.7257</p>{{/displayCallInStore}}{{#displayFindInStore}}<div class="find-in-store">{{^itemSoldOut}}{{#showFindInStoreLink}}<p>Also available <a href="#" id="jsFindInStoreQL">in store</a>.</p>{{/showFindInStoreLink}}{{/itemSoldOut}}{{#itemSoldOut}}{{#showFindInStoreLink}}<p>Only available <a href="#" id="jsFindInStoreQL">in store</a>.</p>{{/showFindInStoreLink}}{{^showFindInStoreLink}}{{#displayWLButtonInQL}}<p>Sorry, this item is sold out.</p>{{/displayWLButtonInQL}}{{^displayWLButtonInQL}}<p>Sorry, this item is not available.</p>{{/displayWLButtonInQL}}{{/showFindInStoreLink}}{{/itemSoldOut}}</div>{{/displayFindInStore}}{{^displayFindInStore}}{{#itemSoldOut}}{{#displayWLButtonInQL}}<p class="availability-container">Sorry, this item is sold out.</p>{{/displayWLButtonInQL}}{{^displayWLButtonInQL}}<p class="availability-container">Sorry, this item is not available.</p>{{/displayWLButtonInQL}}{{/itemSoldOut}}{{/displayFindInStore}}{{! In member cart is shown when a fashion fix item is added to the bag,it is only visible while editing an item in the SAKS bag Quicklook. }}{{#displayInMembersCartMessaging}}<p class="in-other-members-cart">{{{inOtherMembersCartMsg}}}</p>{{/displayInMembersCartMessaging}}{{#intlShippingRestricted}}<p class="errorBold11">Sorry this item cannot be shipped internationally.</p>{{/intlShippingRestricted}}</div>';
/*!
 * Mustache `quicklook/ProductDetail` template
 */
Saks.templates["quicklook/ProductDetail"]='<div class="product-details"><div class="product-details-inner"><h1 class="product-name">{{{productName}}}</h1><h2 class="product-title">{{{shortDescription}}}</h2>{{#productReviewSubmitable}}{{>productRating}}{{/productReviewSubmitable}}<p class="product-code">{{productCode}}</p>{{#hasPromotion}}<p class="product-promotion">{{promoTag}}</p>{{/hasPromotion}}<div class="share-links"><ul><li class="pinterest-button"><a href="{{productPinterestPage}}" class="pin-it-button" count-layout="horizontal" always-show-count="true"><img border="0" src="//assets.pinterest.com/images/PinExt.png" title="Pin It" /></a></li><li class="fb-like-button"><fb:like href="{{canonicalPDP}}" send="false" layout="button_count" width="90" show_faces="true"></fb:like></li></ul></div>{{! display product info tabs }}{{>productInfoTabs}}{{#displayItemPricing}}{{>productPrice}}{{/displayItemPricing}}{{! If the product can be added to the bag display the edit form withthe PDP link and warning messages above the form submit button... }}<form name="edit_item_service" method="post" action="/checkout/checkout.jsp" {{#hasWaitList}}class="waitlist"{{/hasWaitList}}>{{#displayItemDropDown}}{{! placeholder for form error messages }}<div class="error-message"></div><div class="form-fields">{{#displayItemQtyField}}<label for="ql-quantity">Quantity:</label><span class="ib field-mask text-field"><input type="text" id="ql-quantity" name="itemQuantity" value="{{itemQuantity}}" maxlength="2" /></span>{{/displayItemQtyField}}{{>productVariants}}<span class="sending-indicator"></span></div>{{! placeholder for form info messages (i.e. pre-order messages) }}<div class="info-message"></div>{{/displayItemDropDown}}{{>productAvailability}}{{! TODO when are these warning messages displayed? }}{{#hasWarningMessages}}<div class="warning-messages">{{>productMessages}}</div>{{/hasWarningMessages}}<div class="button-container clearfix">{{! which button are we displaying for this quicklook instance? }}{{#displayAddToBag}}<input type="hidden" name="productCode" value="{{productCode}}" /><div class="form-submit-button"><button type="submit" class="saks-button saks-button-red" name="quicklook_checkout"><span class="label">Add to Bag</span></button></div>{{/displayAddToBag}}{{#displayEditItem}}<input type="hidden" name="{{productOrderIdName}}" value="{{productOrderIdValue}}" /><div class="form-submit-button"><button type="submit" class="saks-button saks-button-red ib" name="quicklook_checkout"><span class="label">Apply</span></button></div>{{/displayEditItem}}{{#displayAddToWaitlist}}<div class="ql-waitlist-button-container"><a id="ffwlQLButton" data-product-code="{{productCode}}" class="saks-button saks-button-black">Add to WaitList</a></div>{{/displayAddToWaitlist}}{{>productDetailLink}}</div></form></div></div>';
/*!
 * Mustache `quicklook/ProductDetailLink` template
 */
Saks.templates["quicklook/ProductDetailLink"]='{{#displayFullProductDetail}}<p class="product-detail-page"><a href="{{detailPage}}" target="_parent">Full Product Details</a></p>{{/displayFullProductDetail}}';
/*!
 * Mustache `quicklook/ProductInfoTabs` template
 */
Saks.templates["quicklook/ProductInfoTabs"]='<div class="product-info-tabs"><ul><li><a href="#product-description">Details</a></li>{{#hasColorSwatches}}<li><a href="#product-color-swatches">Colors</a></li>{{/hasColorSwatches}}</ul><div id="product-description">{{{productDescription}}}{{#hasPurchaseLimitThreshold}}<p>{{purchaseLimitMessage}}</p>{{/hasPurchaseLimitThreshold}}{{#displayHolidayInfo}}<dl class="holiday-message"><dt>{{holidayType}} Delivery</dt><dd>{{holidayMessage}}</dd></dl>{{/displayHolidayInfo}}{{#displayFitModelContent}}<div class="fit-model-information"><br /><span><b>SIZE & FIT</b></span>{{#displayFitModelContentCopy}}<br />{{productCopyModelShown}}{{/displayFitModelContentCopy}}{{#displayFitModelContentComment}}<br />{{fitModelComment}}{{/displayFitModelContentComment}}{{#displayFitModelContentLink}}<a href="/include/fit_model.jsp?type={{fitModelPopUp}}&fm_size={{fitModelSize}}"  onclick="popupwin(this.href, 750, 420); return false" style="margin-left:5px; color: black; text-decoration: underline;">Details</a>{{/displayFitModelContentLink}}</div>{{/displayFitModelContent}}{{#hasAdditionalInformation}}<div class="additional-information"><h6>Additional Information</h6><p>{{{additionalInformation}}}</p></div>{{/hasAdditionalInformation}}</div>{{#hasColorSwatches}}{{!If colorization is enabled build the HTML structure for the swatchesto change either the RFX or Scene7 viewers. Otherwise, simply renderthe swatches.}}{{#isColorizationEnabled}}{{#hasScene7}}<div id="product-color-swatches"><ul>{{#mediaItem.colorizedImageItems}}{{#hasScene7}}<li class="ql-scene7-swatches"><a href="#" data-url="{{colorizedImage}}" class="color-swatch" style="{{style}}" data-key="{{colorId}}" title="{{color}}">{{color}}</a></li>{{/hasScene7}}{{^hasScene7}}<li><a href="#" data-url="{{colorizedImage}}" class="color-swatch" style="{{style}}" data-key="{{colorId}}" title="{{color}}">{{color}}</a></li>{{/hasScene7}}{{/mediaItem.colorizedImageItems}}</ul></div>{{/hasScene7}}{{^hasScene7}}<div id="product-color-swatches"><ul>{{#colors}}<li><a href="#" class="color-swatch" style="{{style}}" data-key="{{name}}" title="{{name}}">{{name}}</a></li>{{/colors}}</ul></div>{{/hasScene7}}{{/isColorizationEnabled}}{{^isColorizationEnabled}}{{#hasScene7}}<div id="product-color-swatches"><ul>{{#mediaItem.colorizedImageItems}}<li><a style="{{style}}" title="{{color}}">{{color}}</a></li>{{/mediaItem.colorizedImageItems}}</ul></div>{{/hasScene7}}{{^hasScene7}}<div id="product-color-swatches"><ul>{{#colors}}<li><a style="{{style}}" title="{{name}}">{{name}}</a></li>{{/colors}}</ul></div>{{/hasScene7}}{{/isColorizationEnabled}}{{/hasColorSwatches}}</div>';
/*!
 * Mustache `quicklook/ProductMessages` template
 */
Saks.templates["quicklook/ProductMessages"]="<ul>{{#messages}}<li>{{{message}}}</li>{{/messages}}</ul>";
/*!
 * Mustache `quicklook/ProductPrice` template
 */
Saks.templates["quicklook/ProductPrice"]='<div class="product-price">{{#onSaleFlag}}{{#displayNewFFPricing}}<div class="market-price-info-content"><div class="market-price-info-title"><span>PRICING INFORMATION</span><a href="#"><span class="market-price-info-close">CLOSE</span></a></div><p>The strikethrough price reflects the regular price at which we\'ve normally sold that item or, if we have not previously sold an item, the price at which that item (or a comparable item) is normally sold in the market.</p><div class="arrow-down-outter"></div><div class="arrow-down-inner"></div></div><a class="market-price-info" href="#"><img src="/static/images/fashionfix/market-price-info.png" /></a><p class="line-through"><del> {{{formattedListPrice}}}</del></p><p class="sale-price">{{{formattedSalePrice}}}</p>{{/displayNewFFPricing}}{{^displayNewFFPricing}}<p class="list-price"><del>{{listPriceLabel}} {{{formattedListPrice}}}</del></p><p class="sale-price">{{salePriceLabel}} {{{formattedSalePrice}}}</p>{{/displayNewFFPricing}}{{/onSaleFlag}}{{^onSaleFlag}}<p class="list-price">{{{formattedListPrice}}}</p>{{/onSaleFlag}}</div>';
/*!
 * Mustache `quicklook/ProductRating` template
 */
Saks.templates["quicklook/ProductRating"]='<p class="product-reviews"><img src="{{ratingImageSrc}}" width="62" height="11" title="{{ratingImageAlt}}" />{{#hasReviews}}<a href="{{productReviewPage}}" class="ib rr read-review">{{readReviewString}}</a> &bull; <a href="{{redirectURL}}" class="ib wr">Write a Review</a>{{/hasReviews}}{{^hasReviews}}Be The First to <a href="{{redirectURL}}">Write a Review</a>{{/hasReviews}}</p>';
/*!
 * Mustache `quicklook/ProductShareLinks` template
 */
Saks.templates["quicklook/ProductShareLinks"]='<div class="share-links clearfix"><ul class="clearfix"><li><div class="g-plusone"></div></li><li><a href="{{productTellFriendPage}}" class="ir tell-a-friend-button">Tell a Friend</a></li><li><a href="{{productTwitterPage}}" class="ir twitter-button">Twitter</a></li></ul></div>';
/*!
 * Mustache `quicklook/ProductViewer` template
 */
Saks.templates["quicklook/ProductViewer"]='<div class="product-viewer">{{#hasScene7}}<div class="scene7QL">{{>ProductViewerScene7}}<div class="video-container" style="display:none;"><div class="video-loader"> <img src="/static/images/loading.gif" /> </div><div id="videoLoop_wrapper"><div id="videoLoop"></div></div></div></div>{{/hasScene7}}{{^hasScene7}}<div class="rfx-wrap">{{#hasRfxViewer}}<iframe class="rfx-frame" src="{{viewer}}" onload="Saks.Util.resizeFrame(this);" width="481" frameborder="0" marginheight="0" marginwidth="0" scrolling="no"></iframe>{{/hasRfxViewer}}{{^hasRfxViewer}}<div id="product-image">{{#images}}<img src="{{large}}" alt="" />{{/images}}</div>{{/hasRfxViewer}}</div>{{/hasScene7}}{{>productShareLinks}}</div>';
/*!
 * Mustache `quicklook/ProductViewerScene7` template
 */
Saks.templates["quicklook/ProductViewerScene7"]='<div id="flashContent" style="display:none;"><div class="zoom-colorization-information">Shown in <span></span></div><object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" data="{{mediaItem.playerUrl}}" width="480" height="565" id="_productViewer" align="middle"><param name="movie" value="{{mediaItem.playerUrl}}" /><param name="allowFullScreen" value="true" /><param name="quality" value="high" /><param name="bgcolor" value="#ffffff" /><param name="play" value="true" /><param name="loop" value="true" /><param name="scale" value="noscale" /><param name="menu" value="true" /><param name="devicefont" value="false" /><param name="salign" value="" /><param name="wmode" value="opaque" /><param name="allowScriptAccess" value="always" /><param name="showVideo" value="{{mediaItem.hasVideo}}" /><param name="showVideoURL" value="scene7.playVideo" /><param name="flashvars" value="serverUrl={{mediaItem.mediaServerUrl}}is/image&asset={{mediaItem.imageSet}}&showVideo={{mediaItem.hasVideo}}&showVideoURL=scene7.playVideo&hideThumbs=0&iscommand=op_usm%3D2.2%2C1%2C6%2C0" /><!--[if !IE]>--><object type="application/x-shockwave-flash" data="{{mediaItem.playerUrl}}" id="_productViewer_inner" width="480" height="565"><param name="movie" value="{{mediaItem.playerUrl}}" /><param name="allowFullScreen" value="true" /><param name="flashvars" value="serverUrl={{mediaItem.mediaServerUrl}}is/image&asset={{mediaItem.imageSet}}&showVideo={{mediaItem.hasVideo}}&showVideoURL=scene7.playVideo&hideThumbs=0&iscommand=op_usm%3D2.2%2C1%2C6%2C0" /><param name="quality" value="high" /><param name="bgcolor" value="#ffffff" /><param name="play" value="true" /><param name="loop" value="true" /><param name="scale" value="noscale" /><param name="menu" value="true" /><param name="wmode" value="opaque" /><param name="devicefont" value="false" /><param name="salign" value="" /><param name="allowScriptAccess" value="always" /><param name="showVideo" value="{{mediaItem.hasVideo}}" /><param name="showVideoURL" value="scene7.playVideo" /><!--<![endif]--><div class="scene7-html-player" data-default-image-set="{{mediaItem.imageSet}}" style="display:none;"><div id="s7container"></div></div><div><a href="//s7d9.scene7.com/s7viewers/html5/genericZoomMobile.html?serverUrl=http://s7d9.scene7.com/is/image/&config=Scene7SharedAssets/ImageSet_HTML5&contentRoot=http://s7d9.scene7.com/skins/&asset={{mediaItem.imageSet}}" target="_bank"><img src="{{mediaItem.mainImageXLargeUrl}}" style="width:400px"/></a><a href="http://www.adobe.com/go/getflash" style="display:none"><img src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash player" /></a></div><!--[if !IE]>--></object><!--<![endif]--></object></div>';
/*!
 * Mustache `quicklook/ProductVariants` template
 */
Saks.templates["quicklook/ProductVariants"]='{{#hasSkuVariants}}{{#hasMultipleSkuVariants}}<span class="ib field-mask select-field"><select name="sku_id" class="{{variantsCls}}">{{!A SKU variant option is disabled on FASHIONFIX items that are notavailable at a given time because a customer has the item on reserve.}}{{#hasScene7}}{{#skuVariants}}{{#disabled}}<optgroup label="{{display}}">{{display}}</optgroup>{{/disabled}}{{^disabled}}<option class="{{cls}}" value="{{value}}" data-url="{{mediaId}}" data-product-code="{{productCode}}" data-key="{{color}}" {{#selected}}selected="selected"{{/selected}}>{{display}}</option>{{/disabled}}{{/skuVariants}}{{/hasScene7}}{{^hasScene7}}{{#skuVariants}}{{#disabled}}<optgroup label="{{display}}">{{display}}</optgroup>{{/disabled}}{{^disabled}}<option class="{{cls}}" value="{{value}}" data-product-code="{{productCode}}" data-key="{{color}}" {{#selected}}selected="selected"{{/selected}}>{{display}}</option>{{/disabled}}{{/skuVariants}}{{/hasScene7}}</select></span>{{/hasMultipleSkuVariants}}{{^hasMultipleSkuVariants}}{{#skuVariants}}<input name="sku_id" type="hidden" value="{{value}}" />{{/skuVariants}}{{/hasMultipleSkuVariants}}{{/hasSkuVariants}}';
/*!
 * Mustache `personalization/ProductUrl` template
 */
Saks.templates["personalization/ProductUrl"]="{{#personalization}}{{#hasMono}}{{#isThree}}{{prefix}}{{productCode}}?wid={{width}}&$text1l={{text.left}}&$text1c={{text.center}}&$text1r={{text.right}}&$text1color={{text.color}}&$productsrc={{product.source}}{{/isThree}}{{^isThree}}{{prefix}}{{productCode}}?wid={{width}}&$text1={{text.string}}&$text1color={{text.color}}&$productsrc={{product.source}}{{/isThree}}{{/hasMono}}{{^hasMono}}{{#isThree}}{{prefix}}{{productCode}}?wid={{width}}&$text1l={{text.left}}&$text1c={{text.center}}&$text1r={{text.right}}&$text1font={{text.font}}&$text1color={{text.color}}&$productsrc={{product.source}}{{/isThree}}{{^isThree}}{{prefix}}{{productCode}}?wid={{width}}&$text1={{text.string}}&$text1font={{text.font}}&$text1color={{text.color}}&$productsrc={{product.source}}{{/isThree}}{{/hasMono}}{{/personalization}}";
/*!
 * Mustache `personalization/InputTextColor` template
 */
Saks.templates["personalization/InputTextColor"]='<select data-swatchcontainer="pers_style_color_swatches" class="pers_dropdown {{^show}}hide-input{{/show}}" name="addPersColor" data-id="{{id}}"><option>Select Color</option>{{#content}}<option id="{{id}}" data-hex="{{hex}}" value="{{label}}" >{{label}}</option>{{/content}}</select><ul class="personalization-swatches clearfix {{^show}}hide-input{{/show}}" data-id="{{id}}">{{#content}}<li class="pers_page_swatch" data-id="{{id}}"><div style="background-color:{{hex}};" title="{{label}}" class="swatch-thumbnail"></div><br /><span class="personalization_swatches-title">{{label}}</span></li>{{/content}}</ul>';