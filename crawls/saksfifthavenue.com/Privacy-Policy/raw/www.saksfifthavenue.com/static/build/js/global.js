/*!
* Saks Fifth Avenue
* Bundled global JS files
* Build Time: Tue, May. 14, 2013 02:56:34 PM
* Build MD5: ee1c4760fe7c2e42be49bd8c3a311b31
*/
var mboxCopyright="Copyright 1996-2012. Adobe Systems Incorporated. All rights reserved.";mboxUrlBuilder=function(d,c){this.a=d;this.b=c;this.c=new Array();this.d=function(a){return a;};this.f=null;};mboxUrlBuilder.prototype.addParameter=function(f,e){var d=new RegExp("('|\")");if(d.exec(f)){throw"Parameter '"+f+"' contains invalid characters";}for(var c=0;c<this.c.length;c++){var b=this.c[c];if(b.name==f){b.value=e;return this;}}var a=new Object();a.name=f;a.value=e;this.c[this.c.length]=a;return this;};mboxUrlBuilder.prototype.addParameters=function(d){if(!d){return this;}for(var b=0;b<d.length;b++){var a=d[b].indexOf("=");if(a==-1||a==0){continue;}this.addParameter(d[b].substring(0,a),d[b].substring(a+1,d[b].length));}return this;};mboxUrlBuilder.prototype.setServerType=function(a){this.o=a;};mboxUrlBuilder.prototype.setBasePath=function(a){this.f=a;};mboxUrlBuilder.prototype.setUrlProcessAction=function(a){this.d=a;};mboxUrlBuilder.prototype.buildUrl=function(){var f=this.f?this.f:"/m2/"+this.b+"/mbox/"+this.o;var d=document.location.protocol=="file:"?"http:":document.location.protocol;var g=d+"//"+this.a+f;var c=g.indexOf("?")!=-1?"&":"?";for(var b=0;b<this.c.length;b++){var a=this.c[b];g+=c+encodeURIComponent(a.name)+"="+encodeURIComponent(a.value);c="&";}return this.t(this.d(g));};mboxUrlBuilder.prototype.getParameters=function(){return this.c;};mboxUrlBuilder.prototype.setParameters=function(a){this.c=a;};mboxUrlBuilder.prototype.clone=function(){var b=new mboxUrlBuilder(this.a,this.b);b.setServerType(this.o);b.setBasePath(this.f);b.setUrlProcessAction(this.d);for(var a=0;a<this.c.length;a++){b.addParameter(this.c[a].name,this.c[a].value);}return b;};mboxUrlBuilder.prototype.t=function(a){return a.replace(/\"/g,"&quot;").replace(/>/g,"&gt;");};mboxStandardFetcher=function(){};mboxStandardFetcher.prototype.getType=function(){return"standard";};mboxStandardFetcher.prototype.fetch=function(a){a.setServerType(this.getType());document.write('<script src="'+a.buildUrl()+'" language="JavaScript"><\/script>');};mboxStandardFetcher.prototype.cancel=function(){};mboxAjaxFetcher=function(){};mboxAjaxFetcher.prototype.getType=function(){return"ajax";};mboxAjaxFetcher.prototype.fetch=function(a){a.setServerType(this.getType());var b=a.buildUrl();this.x=document.createElement("script");this.x.src=b;document.body.appendChild(this.x);};mboxAjaxFetcher.prototype.cancel=function(){};mboxMap=function(){this.y=new Object();this.z=new Array();};mboxMap.prototype.put=function(a,b){if(!this.y[a]){this.z[this.z.length]=a;}this.y[a]=b;};mboxMap.prototype.get=function(a){return this.y[a];};mboxMap.prototype.remove=function(a){this.y[a]=undefined;};mboxMap.prototype.each=function(d){for(var b=0;b<this.z.length;b++){var a=this.z[b];var c=this.y[a];if(c){var e=d(a,c);if(e===false){break;}}}};mboxFactory=function(e,a,d){this.E=false;this.C=e;this.D=d;this.F=new mboxList();mboxFactories.put(d,this);this.G=typeof document.createElement("div").replaceChild!="undefined"&&(function(){return true;})()&&typeof document.getElementById!="undefined"&&typeof(window.attachEvent||document.addEventListener||window.addEventListener)!="undefined"&&typeof encodeURIComponent!="undefined";this.H=this.G&&mboxGetPageParameter("mboxDisable")==null;var c=d=="default";this.J=new mboxCookieManager("mbox"+(c?"":("-"+d)),(function(){return mboxCookiePageDomain();})());this.H=this.H&&this.J.isEnabled()&&(this.J.getCookie("disable")==null);if(this.isAdmin()){this.enable();}this.K();this.L=mboxGenerateId();this.M=mboxScreenHeight();this.N=mboxScreenWidth();this.O=mboxBrowserWidth();this.P=mboxBrowserHeight();this.Q=mboxScreenColorDepth();this.R=mboxBrowserTimeOffset();this.S=new mboxSession(this.L,"mboxSession","session",31*60,this.J);this.T=new mboxPC("PC",5184000,this.J);this.w=new mboxUrlBuilder(e,a);this.U(this.w,c);this.V=new Date().getTime();this.W=this.V;var f=this;this.addOnLoad(function(){f.W=new Date().getTime();});if(this.G){this.addOnLoad(function(){f.E=true;f.getMboxes().each(function(b){b.setFetcher(new mboxAjaxFetcher());b.finalize();});});if(this.H){this.limitTraffic(100,10368000);this.Z();this._=new mboxSignaler(function(b,g){return f.create(b,g);},this.J);}}};mboxFactory.prototype.isEnabled=function(){return this.H;};mboxFactory.prototype.getDisableReason=function(){return this.J.getCookie("disable");};mboxFactory.prototype.isSupported=function(){return this.G;};mboxFactory.prototype.disable=function(b,a){if(typeof b=="undefined"){b=60*60;}if(typeof a=="undefined"){a="unspecified";}if(!this.isAdmin()){this.H=false;this.J.setCookie("disable",a,b);}};mboxFactory.prototype.enable=function(){this.H=true;this.J.deleteCookie("disable");};mboxFactory.prototype.isAdmin=function(){return document.location.href.indexOf("mboxEnv")!=-1;};mboxFactory.prototype.limitTraffic=function(a,b){};mboxFactory.prototype.addOnLoad=function(a){if(this.isDomLoaded()){a();}else{var b=false;var c=function(){if(b){return;}b=true;a();};this.hb.push(c);if(this.isDomLoaded()&&!b){c();}}};mboxFactory.prototype.getEllapsedTime=function(){return this.W-this.V;};mboxFactory.prototype.getEllapsedTimeUntil=function(a){return a-this.V;};mboxFactory.prototype.getMboxes=function(){return this.F;};mboxFactory.prototype.get=function(b,a){return this.F.get(b).getById(a||0);};mboxFactory.prototype.update=function(a,d){if(!this.isEnabled()){return;}if(!this.isDomLoaded()){var b=this;this.addOnLoad(function(){b.update(a,d);});return;}if(this.F.get(a).length()==0){throw"Mbox "+a+" is not defined";}this.F.get(a).each(function(c){c.getUrlBuilder().addParameter("mboxPage",mboxGenerateId());c.load(d);});};mboxFactory.prototype.create=function(p,l,h){if(!this.isSupported()){return null;}var k=this.w.clone();k.addParameter("mboxCount",this.F.length()+1);k.addParameters(l);var o=this.F.get(p).length();var d=this.D+"-"+p+"-"+o;var n;if(h){n=new mboxLocatorNode(h);}else{if(this.E){throw"The page has already been loaded, can't write marker";}n=new mboxLocatorDefault(d);}try{var b=this;var g="mboxImported-"+d;var a=new mbox(p,o,k,n,g);if(this.H){a.setFetcher(this.E?new mboxAjaxFetcher():new mboxStandardFetcher());}a.setOnError(function(c,e){a.setMessage(c);a.activate();if(!a.isActivated()){b.disable(60*60,c);window.location.reload(false);}});this.F.add(a);}catch(m){this.disable();throw'Failed creating mbox "'+p+'", the error was: '+m;}var f=new Date();k.addParameter("mboxTime",f.getTime()-(f.getTimezoneOffset()*60000));return a;};mboxFactory.prototype.getCookieManager=function(){return this.J;};mboxFactory.prototype.getPageId=function(){return this.L;};mboxFactory.prototype.getPCId=function(){return this.T;};mboxFactory.prototype.getSessionId=function(){return this.S;};mboxFactory.prototype.getSignaler=function(){return this._;};mboxFactory.prototype.getUrlBuilder=function(){return this.w;};mboxFactory.prototype.U=function(b,a){b.addParameter("mboxHost",document.location.hostname).addParameter("mboxSession",this.S.getId());if(!a){b.addParameter("mboxFactoryId",this.D);}if(this.T.getId()!=null){b.addParameter("mboxPC",this.T.getId());}b.addParameter("mboxPage",this.L);b.addParameter("screenHeight",this.M);b.addParameter("screenWidth",this.N);b.addParameter("browserWidth",this.O);b.addParameter("browserHeight",this.P);b.addParameter("browserTimeOffset",this.R);b.addParameter("colorDepth",this.Q);b.setUrlProcessAction(function(d){d+="&mboxURL="+encodeURIComponent(document.location);var c=encodeURIComponent(document.referrer);if(d.length+c.length<2000){d+="&mboxReferrer="+c;}d+="&mboxVersion="+mboxVersion;return d;});};mboxFactory.prototype.sb=function(){return"";};mboxFactory.prototype.Z=function(){document.write("<style>.mboxDefault { visibility:hidden; }</style>");};mboxFactory.prototype.isDomLoaded=function(){return this.E;};mboxFactory.prototype.K=function(){if(this.hb!=null){return;}this.hb=new Array();var a=this;(function(){var b=document.addEventListener?"DOMContentLoaded":"onreadystatechange";var c=false;var d=function(){if(c){return;}c=true;for(var f=0;f<a.hb.length;++f){a.hb[f]();}};if(document.addEventListener){document.addEventListener(b,function(){document.removeEventListener(b,arguments.callee,false);d();},false);window.addEventListener("load",function(){document.removeEventListener("load",arguments.callee,false);d();},false);}else{if(document.attachEvent){if(self!==self.top){document.attachEvent(b,function(){if(document.readyState==="complete"){document.detachEvent(b,arguments.callee);d();}});}else{var e=function(){try{document.documentElement.doScroll("left");d();}catch(f){setTimeout(e,13);}};e();}}}if(document.readyState==="complete"){d();}})();};mboxSignaler=function(b,d){this.J=d;var c=d.getCookieNames("signal-");for(var e=0;e<c.length;e++){var g=c[e];var a=d.getCookie(g).split("&");var f=b(a[0],a);f.load();d.deleteCookie(g);}};mboxSignaler.prototype.signal=function(a,b){this.J.setCookie("signal-"+a,mboxShiftArray(arguments).join("&"),45*60);};mboxList=function(){this.F=new Array();};mboxList.prototype.add=function(a){if(a!=null){this.F[this.F.length]=a;}};mboxList.prototype.get=function(b){var d=new mboxList();for(var a=0;a<this.F.length;a++){var c=this.F[a];if(c.getName()==b){d.add(c);}}return d;};mboxList.prototype.getById=function(a){return this.F[a];};mboxList.prototype.length=function(){return this.F.length;};mboxList.prototype.each=function(b){if(typeof b!="function"){throw"Action must be a function, was: "+typeof(b);}for(var a=0;a<this.F.length;a++){b(this.F[a]);}};mboxLocatorDefault=function(a){this.g="mboxMarker-"+a;document.write('<div id="'+this.g+'" style="visibility:hidden;display:none">&nbsp;</div>');};mboxLocatorDefault.prototype.locate=function(){var a=document.getElementById(this.g);while(a!=null){if(a.nodeType==1){if(a.className=="mboxDefault"){return a;}}a=a.previousSibling;}return null;};mboxLocatorDefault.prototype.force=function(){var a=document.createElement("div");a.className="mboxDefault";var b=document.getElementById(this.g);b.parentNode.insertBefore(a,b);return a;};mboxLocatorNode=function(a){this.Eb=a;};mboxLocatorNode.prototype.locate=function(){return typeof this.Eb=="string"?document.getElementById(this.Eb):this.Eb;};mboxLocatorNode.prototype.force=function(){return null;};mboxCreate=function(a){var b=mboxFactoryDefault.create(a,mboxShiftArray(arguments));if(b){b.load();}return b;};mboxDefine=function(a,b){var c=mboxFactoryDefault.create(b,mboxShiftArray(mboxShiftArray(arguments)),a);return c;};mboxUpdate=function(a){mboxFactoryDefault.update(a,mboxShiftArray(arguments));};mbox=function(e,c,b,d,a){this.Kb=null;this.Lb=0;this.mb=d;this.nb=a;this.Mb=null;this.Nb=new mboxOfferContent();this.Fb=null;this.w=b;this.message="";this.Ob=new Object();this.Pb=0;this.Ib=c;this.g=e;this.Qb();b.addParameter("mbox",e).addParameter("mboxId",c);this.Rb=function(){};this.Sb=function(){};this.Tb=null;};mbox.prototype.getId=function(){return this.Ib;};mbox.prototype.Qb=function(){if(this.g.length>250){throw"Mbox Name "+this.g+" exceeds max length of 250 characters.";}else{if(this.g.match(/^\s+|\s+$/g)){throw"Mbox Name "+this.g+" has leading/trailing whitespace(s).";}}};mbox.prototype.getName=function(){return this.g;};mbox.prototype.getParameters=function(){var d=this.w.getParameters();var b=new Array();for(var a=0;a<d.length;a++){if(d[a].name.indexOf("mbox")!=0){b[b.length]=d[a].name+"="+d[a].value;}}return b;};mbox.prototype.setOnLoad=function(a){this.Sb=a;return this;};mbox.prototype.setMessage=function(a){this.message=a;return this;};mbox.prototype.setOnError=function(a){this.Rb=a;return this;};mbox.prototype.setFetcher=function(a){if(this.Mb){this.Mb.cancel();}this.Mb=a;return this;};mbox.prototype.getFetcher=function(){return this.Mb;};mbox.prototype.load=function(d){if(this.Mb==null){return this;}this.setEventTime("load.start");this.cancelTimeout();this.Lb=0;var a=(d&&d.length>0)?this.w.clone().addParameters(d):this.w;this.Mb.fetch(a);var b=this;this.Vb=setTimeout(function(){b.Rb("browser timeout",b.Mb.getType());},15000);this.setEventTime("load.end");return this;};mbox.prototype.loaded=function(){this.cancelTimeout();if(!this.activate()){var a=this;setTimeout(function(){a.loaded();},100);}};mbox.prototype.activate=function(){if(this.Lb){return this.Lb;}this.setEventTime("activate"+ ++this.Pb+".start");if(this.show()){this.cancelTimeout();this.Lb=1;}this.setEventTime("activate"+this.Pb+".end");return this.Lb;};mbox.prototype.isActivated=function(){return this.Lb;};mbox.prototype.setOffer=function(a){if(a&&a.show&&a.setOnLoad){this.Nb=a;}else{throw"Invalid offer";}return this;};mbox.prototype.getOffer=function(){return this.Nb;};mbox.prototype.show=function(){this.setEventTime("show.start");var a=this.Nb.show(this);this.setEventTime(a==1?"show.end.ok":"show.end");return a;};mbox.prototype.showContent=function(a){if(a==null){return 0;}if(this.Fb==null||!this.Fb.parentNode){this.Fb=this.getDefaultDiv();if(this.Fb==null){return 0;}}if(this.Fb!=a){this.Xb(this.Fb);this.Fb.parentNode.replaceChild(a,this.Fb);this.Fb=a;}this.Yb(a);this.Sb();return 1;};mbox.prototype.hide=function(){this.setEventTime("hide.start");var a=this.showContent(this.getDefaultDiv());this.setEventTime(a==1?"hide.end.ok":"hide.end.fail");return a;};mbox.prototype.finalize=function(){this.setEventTime("finalize.start");this.cancelTimeout();if(this.getDefaultDiv()==null){if(this.mb.force()!=null){this.setMessage("No default content, an empty one has been added");}else{this.setMessage("Unable to locate mbox");}}if(!this.activate()){this.hide();this.setEventTime("finalize.end.hide");}this.setEventTime("finalize.end.ok");};mbox.prototype.cancelTimeout=function(){if(this.Vb){clearTimeout(this.Vb);}if(this.Mb!=null){this.Mb.cancel();}};mbox.prototype.getDiv=function(){return this.Fb;};mbox.prototype.getDefaultDiv=function(){if(this.Tb==null){this.Tb=this.mb.locate();}return this.Tb;};mbox.prototype.setEventTime=function(a){this.Ob[a]=(new Date()).getTime();};mbox.prototype.getEventTimes=function(){return this.Ob;};mbox.prototype.getImportName=function(){return this.nb;};mbox.prototype.getURL=function(){return this.w.buildUrl();};mbox.prototype.getUrlBuilder=function(){return this.w;};mbox.prototype._b=function(a){return a.style.display!="none";};mbox.prototype.Yb=function(a){this.ac(a,true);};mbox.prototype.Xb=function(a){this.ac(a,false);};mbox.prototype.ac=function(b,a){b.style.visibility=a?"visible":"hidden";b.style.display=a?"block":"none";};mboxOfferContent=function(){this.Sb=function(){};};mboxOfferContent.prototype.show=function(a){var b=a.showContent(document.getElementById(a.getImportName()));if(b==1){this.Sb();}return b;};mboxOfferContent.prototype.setOnLoad=function(a){this.Sb=a;};mboxOfferAjax=function(a){this.Wb=a;this.Sb=function(){};};mboxOfferAjax.prototype.setOnLoad=function(a){this.Sb=a;};mboxOfferAjax.prototype.show=function(a){var c=document.createElement("div");c.id=a.getImportName();c.innerHTML=this.Wb;var b=a.showContent(c);if(b==1){this.Sb();}return b;};mboxOfferDefault=function(){this.Sb=function(){};};mboxOfferDefault.prototype.setOnLoad=function(a){this.Sb=a;};mboxOfferDefault.prototype.show=function(a){var b=a.hide();if(b==1){this.Sb();}return b;};mboxCookieManager=function mboxCookieManager(b,a){this.g=b;this.dc=a==""||a.indexOf(".")==-1?"":"; domain="+a;this.ec=new mboxMap();this.loadCookies();};mboxCookieManager.prototype.isEnabled=function(){this.setCookie("check","true",60);this.loadCookies();return this.getCookie("check")=="true";};mboxCookieManager.prototype.setCookie=function(c,b,d){if(typeof c!="undefined"&&typeof b!="undefined"&&typeof d!="undefined"){var a=new Object();a.name=c;a.value=escape(b);a.expireOn=Math.ceil(d+new Date().getTime()/1000);this.ec.put(c,a);this.saveCookies();}};mboxCookieManager.prototype.getCookie=function(b){var a=this.ec.get(b);return a?unescape(a.value):null;};mboxCookieManager.prototype.deleteCookie=function(a){this.ec.remove(a);this.saveCookies();};mboxCookieManager.prototype.getCookieNames=function(a){var b=new Array();this.ec.each(function(d,c){if(d.indexOf(a)==0){b[b.length]=d;}});return b;};mboxCookieManager.prototype.saveCookies=function(){var a=false;var b="disable";var c=new Array();var d=0;this.ec.each(function(h,f){if(!a||h===b){c[c.length]=h+"#"+f.value+"#"+f.expireOn;if(d<f.expireOn){d=f.expireOn;}}});var e=new Date(d*1000);document.cookie=this.g+"="+c.join("|")+"; expires="+e.toGMTString()+"; path=/"+this.dc;};mboxCookieManager.prototype.loadCookies=function(){this.ec=new mboxMap();var g=document.cookie.indexOf(this.g+"=");if(g!=-1){var a=document.cookie.indexOf(";",g);if(a==-1){a=document.cookie.indexOf(",",g);if(a==-1){a=document.cookie.length;}}var c=document.cookie.substring(g+this.g.length+1,a).split("|");var e=Math.ceil(new Date().getTime()/1000);for(var b=0;b<c.length;b++){var d=c[b].split("#");if(e<=d[2]){var f=new Object();f.name=d[0];f.value=d[1];f.expireOn=d[2];this.ec.put(f.name,f);}}}};mboxSession=function(e,a,d,c,b){this.tc=a;this.Ab=d;this.uc=c;this.J=b;this.vc=false;this.Ib=typeof mboxForceSessionId!="undefined"?mboxForceSessionId:mboxGetPageParameter(this.tc);if(this.Ib==null||this.Ib.length==0){this.Ib=b.getCookie(d);if(this.Ib==null||this.Ib.length==0){this.Ib=e;this.vc=true;}}b.setCookie(d,this.Ib,c);};mboxSession.prototype.getId=function(){return this.Ib;};mboxSession.prototype.forceId=function(a){this.Ib=a;this.J.setCookie(this.Ab,this.Ib,this.uc);};mboxPC=function(c,b,a){this.Ab=c;this.uc=b;this.J=a;this.Ib=typeof mboxForcePCId!="undefined"?mboxForcePCId:a.getCookie(c);if(this.Ib!=null){a.setCookie(c,this.Ib,b);}};mboxPC.prototype.getId=function(){return this.Ib;};mboxPC.prototype.forceId=function(a){if(this.Ib!=a){this.Ib=a;this.J.setCookie(this.Ab,this.Ib,this.uc);return true;}return false;};mboxGetPageParameter=function(a){var d=null;var b=new RegExp(a+"=([^&]*)");var c=b.exec(document.location);if(c!=null&&c.length>=2){d=c[1];}return d;};mboxSetCookie=function(b,a,c){return mboxFactoryDefault.getCookieManager().setCookie(b,a,c);};mboxGetCookie=function(a){return mboxFactoryDefault.getCookieManager().getCookie(a);};mboxCookiePageDomain=function(){var b=(/([^:]*)(:[0-9]{0,5})?/).exec(document.location.host)[1];var a=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/;if(!a.exec(b)){var c=(/([^\.]+\.[^\.]{3}|[^\.]+\.[^\.]+\.[^\.]{2})$/).exec(b);if(c){b=c[0];}}return b?b:"";};mboxShiftArray=function(c){var b=new Array();for(var a=1;a<c.length;a++){b[b.length]=c[a];}return b;};mboxGenerateId=function(){return(new Date()).getTime()+"-"+Math.floor(Math.random()*999999);};mboxScreenHeight=function(){return screen.height;};mboxScreenWidth=function(){return screen.width;};mboxBrowserWidth=function(){return(window.innerWidth)?window.innerWidth:document.documentElement?document.documentElement.clientWidth:document.body.clientWidth;};mboxBrowserHeight=function(){return(window.innerHeight)?window.innerHeight:document.documentElement?document.documentElement.clientHeight:document.body.clientHeight;};mboxBrowserTimeOffset=function(){return -new Date().getTimezoneOffset();};mboxScreenColorDepth=function(){return screen.pixelDepth;};if(typeof mboxVersion=="undefined"){var mboxVersion=41;var mboxFactories=new mboxMap();var mboxFactoryDefault=new mboxFactory("saksfifthavenueinc.tt.omtrdc.net","saksfifthavenueinc","default");}if(mboxGetPageParameter("mboxDebug")!=null||mboxFactoryDefault.getCookieManager().getCookie("debug")!=null){setTimeout(function(){if(typeof mboxDebugLoaded=="undefined"){alert("Could not load the remote debug.\nPlease check your connection to Test&amp;Target servers");}},60*60);document.write('<script language="Javascript1.2" src="http://admin9.testandtarget.omniture.com/admin/mbox/mbox_debug.jsp?mboxServerHost=saksfifthavenueinc.tt.omtrdc.net&clientCode=saksfifthavenueinc"><\/script>');}window.Modernizr=function(ar,aq,ap){function O(){an.input=function(e){for(var d=0,f=e.length;d<f;d++){T[e[d]]=e[d] in ag;}return T;}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),an.inputtypes=function(b){for(var m=0,l,k,g,c=b.length;m<c;m++){ag.setAttribute("type",k=b[m]),l=ag.type!=="text",l&&(ag.value=af,ag.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(k)&&ag.style.WebkitAppearance!==ap?(al.appendChild(ag),g=aq.defaultView,l=g.getComputedStyle&&g.getComputedStyle(ag,null).WebkitAppearance!=="textfield"&&ag.offsetHeight!==0,al.removeChild(ag)):/^(search|tel)$/.test(k)||(/^(url|email)$/.test(k)?l=ag.checkValidity&&ag.checkValidity()===!1:/^color$/.test(k)?(al.appendChild(ag),al.offsetWidth,l=ag.value!=af,al.removeChild(ag)):l=ag.value!=af)),V[b[m]]=!!l;}return V;}("search tel url email datetime date month week time datetime-local number range color".split(" "));}function S(f,e){var h=f.charAt(0).toUpperCase()+f.substr(1),g=(f+" "+ab.join(h+" ")+h).split(" ");return U(g,e);}function U(e,c){for(var f in e){if(ah[e[f]]!==ap){return c=="pfx"?e[f]:!0;}}return !1;}function W(d,c){return !!~(""+d).indexOf(c);}function Y(d,c){return typeof d===c;}function aa(d,c){return ac(ad.join(d+";")+(c||""));}function ac(b){ah.cssText=b;}var ao="2.0.6",an={},am=!0,al=aq.documentElement,ak=aq.head||aq.getElementsByTagName("head")[0],aj="modernizr",ai=aq.createElement(aj),ah=ai.style,ag=aq.createElement("input"),af=":)",ae=Object.prototype.toString,ad=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),ab="Webkit Moz O ms Khtml".split(" "),Z={svg:"http://www.w3.org/2000/svg"},X={},V={},T={},R=[],Q=function(b,q,p,o){var n,m,l,g=aq.createElement("div");if(parseInt(p,10)){while(p--){l=aq.createElement("div"),l.id=o?o[p]:aj+(p+1),g.appendChild(l);}}n=["&shy;","<style>",b,"</style>"].join(""),g.id=aj,g.innerHTML+=n,al.appendChild(g),m=q(g,b),g.parentNode.removeChild(g);return !!m;},N=function(){function c(h,g){g=g||aq.createElement(b[h]||"div"),h="on"+h;var a=h in g;a||(g.setAttribute||(g=aq.createElement("div")),g.setAttribute&&g.removeAttribute&&(g.setAttribute(h,""),a=Y(g[h],"function"),Y(g[h],ap)||(g[h]=ap),g.removeAttribute(h))),g=null;return a;}var b={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return c;}(),M,K={}.hasOwnProperty,J;!Y(K,ap)&&!Y(K.call,ap)?J=function(d,c){return K.call(d,c);}:J=function(d,c){return c in d&&Y(d.constructor.prototype[c],ap);};var P=function(h,e){var b=h.join(""),a=e.length;Q(b,function(o,n){var m=aq.styleSheets[aq.styleSheets.length-1],l=m.cssRules&&m.cssRules[0]?m.cssRules[0].cssText:m.cssText||"",k=o.childNodes,g={};while(a--){g[k[a].id]=k[a];}an.touch="ontouchstart" in ar||g.touch.offsetTop===9,an.csstransforms3d=g.csstransforms3d.offsetLeft===9,an.generatedcontent=g.generatedcontent.offsetHeight>=1,an.fontface=/src/i.test(l)&&l.indexOf(n.split(" ")[0])===0;},a,e);}(['@font-face {font-family:"font";src:url("https://")}',["@media (",ad.join("touch-enabled),("),aj,")","{#touch{top:9px;position:absolute}}"].join(""),["@media (",ad.join("transform-3d),("),aj,")","{#csstransforms3d{left:9px;position:absolute}}"].join(""),['#generatedcontent:after{content:"',af,'";visibility:hidden}'].join("")],["fontface","touch","csstransforms3d","generatedcontent"]);X.flexbox=function(){function l(f,e,n,m){f.style.cssText=ad.join(e+":"+n+";")+(m||"");}function b(f,e,n,m){e+=":",f.style.cssText=(e+ad.join(n+";"+e)).slice(0,-e.length)+(m||"");}var k=aq.createElement("div"),h=aq.createElement("div");b(k,"display","box","width:42px;padding:0;"),l(h,"box-flex","1","width:10px;"),k.appendChild(h),al.appendChild(k);var g=h.offsetWidth===42;k.removeChild(h),al.removeChild(k);return g;},X.canvas=function(){var b=aq.createElement("canvas");return !!b.getContext&&!!b.getContext("2d");},X.canvastext=function(){return !!an.canvas&&!!Y(aq.createElement("canvas").getContext("2d").fillText,"function");},X.webgl=function(){return !!ar.WebGLRenderingContext;},X.touch=function(){return an.touch;},X.geolocation=function(){return !!navigator.geolocation;},X.postmessage=function(){return !!ar.postMessage;},X.websqldatabase=function(){var a=!!ar.openDatabase;return a;},X.indexedDB=function(){for(var a=-1,d=ab.length;++a<d;){if(ar[ab[a].toLowerCase()+"IndexedDB"]){return !0;}}return !!ar.indexedDB;},X.hashchange=function(){return N("hashchange",ar)&&(aq.documentMode===ap||aq.documentMode>7);},X.history=function(){return !!ar.history&&!!history.pushState;},X.draganddrop=function(){return N("dragstart")&&N("drop");},X.websockets=function(){for(var a=-1,d=ab.length;++a<d;){if(ar[ab[a]+"WebSocket"]){return !0;}}return"WebSocket" in ar;},X.rgba=function(){ac("background-color:rgba(150,255,150,.5)");return W(ah.backgroundColor,"rgba");},X.hsla=function(){ac("background-color:hsla(120,40%,100%,.5)");return W(ah.backgroundColor,"rgba")||W(ah.backgroundColor,"hsla");},X.multiplebgs=function(){ac("background:url(https://),url(https://),red url(https://)");return/(url\s*\(.*?){3}/.test(ah.background);},X.backgroundsize=function(){return S("backgroundSize");},X.borderimage=function(){return S("borderImage");},X.borderradius=function(){return S("borderRadius");},X.boxshadow=function(){return S("boxShadow");},X.textshadow=function(){return aq.createElement("div").style.textShadow==="";},X.opacity=function(){aa("opacity:.55");return/^0.55$/.test(ah.opacity);},X.cssanimations=function(){return S("animationName");},X.csscolumns=function(){return S("columnCount");},X.cssgradients=function(){var e="background-image:",d="gradient(linear,left top,right bottom,from(#9f9),to(white));",f="linear-gradient(left top,#9f9, white);";ac((e+ad.join(d+e)+ad.join(f+e)).slice(0,-e.length));return W(ah.backgroundImage,"gradient");},X.cssreflections=function(){return S("boxReflect");},X.csstransforms=function(){return !!U(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"]);},X.csstransforms3d=function(){var b=!!U(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);b&&"webkitPerspective" in al.style&&(b=an.csstransforms3d);return b;},X.csstransitions=function(){return S("transitionProperty");},X.fontface=function(){return an.fontface;},X.generatedcontent=function(){return an.generatedcontent;},X.video=function(){var b=aq.createElement("video"),h=!1;try{if(h=!!b.canPlayType){h=new Boolean(h),h.ogg=b.canPlayType('video/ogg; codecs="theora"');var g='video/mp4; codecs="avc1.42E01E';h.h264=b.canPlayType(g+'"')||b.canPlayType(g+', mp4a.40.2"'),h.webm=b.canPlayType('video/webm; codecs="vp8, vorbis"');}}catch(f){}return h;},X.audio=function(){var b=aq.createElement("audio"),f=!1;try{if(f=!!b.canPlayType){f=new Boolean(f),f.ogg=b.canPlayType('audio/ogg; codecs="vorbis"'),f.mp3=b.canPlayType("audio/mpeg;"),f.wav=b.canPlayType('audio/wav; codecs="1"'),f.m4a=b.canPlayType("audio/x-m4a;")||b.canPlayType("audio/aac;");}}catch(e){}return f;},X.localstorage=function(){try{return !!localStorage.getItem;}catch(b){return !1;}},X.sessionstorage=function(){try{return !!sessionStorage.getItem;}catch(b){return !1;}},X.webworkers=function(){return !!ar.Worker;},X.applicationcache=function(){return !!ar.applicationCache;},X.svg=function(){return !!aq.createElementNS&&!!aq.createElementNS(Z.svg,"svg").createSVGRect;},X.inlinesvg=function(){var b=aq.createElement("div");b.innerHTML="<svg/>";return(b.firstChild&&b.firstChild.namespaceURI)==Z.svg;},X.smil=function(){return !!aq.createElementNS&&/SVG/.test(ae.call(aq.createElementNS(Z.svg,"animate")));},X.svgclippaths=function(){return !!aq.createElementNS&&/SVG/.test(ae.call(aq.createElementNS(Z.svg,"clipPath")));};for(var L in X){J(X,L)&&(M=L.toLowerCase(),an[M]=X[L](),R.push((an[M]?"":"no-")+M));}an.input||O(),ac(""),ai=ag=null,ar.attachEvent&&function(){var b=aq.createElement("div");b.innerHTML="<elem></elem>";return b.childNodes.length!==1;}()&&function(at,I){function c(e){var d=-1;while(++d<E){e.createElement(F[d]);}}at.iepp=at.iepp||{};var H=at.iepp,G=H.html5elements||"abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",F=G.split("|"),E=F.length,D=new RegExp("(^|\\s)("+G+")","gi"),C=new RegExp("<(/*)("+G+")","gi"),B=/^\s*[\{\}]\s*$/,A=new RegExp("(^|[^\\n]*?\\s)("+G+")([^\\n]*)({[\\n\\w\\W]*?})","gi"),z=I.createDocumentFragment(),y=I.documentElement,x=y.firstChild,w=I.createElement("body"),v=I.createElement("style"),u=/print|all/,t;H.getCSS=function(k,d){if(k+""===ap){return"";}var o=-1,n=k.length,m,l=[];while(++o<n){m=k[o];if(m.disabled){continue;}d=m.media||d,u.test(d)&&l.push(H.getCSS(m.imports,d),m.cssText),d="all";}return l.join("");},H.parseCSS=function(e){var d=[],f;while((f=A.exec(e))!=null){d.push(((B.exec(f[1])?"\n":f[1])+f[2]+f[3]).replace(D,"$1.iepp_$2")+f[4]);}return d.join("\n");},H.writeHTML=function(){var b=-1;t=t||I.body;while(++b<E){var h=I.getElementsByTagName(F[b]),g=h.length,f=-1;while(++f<g){h[f].className.indexOf("iepp_")<0&&(h[f].className+=" iepp_"+F[b]);}}z.appendChild(t),y.appendChild(w),w.className=t.className,w.id=t.id,w.innerHTML=t.innerHTML.replace(C,"<$1font");},H._beforePrint=function(){v.styleSheet.cssText=H.parseCSS(H.getCSS(I.styleSheets,"all")),H.writeHTML();},H.restoreHTML=function(){w.innerHTML="",y.removeChild(w),y.appendChild(t);},H._afterPrint=function(){H.restoreHTML(),v.styleSheet.cssText="";},c(I),c(z);H.disablePP||(x.insertBefore(v,x.firstChild),v.media="print",v.className="iepp-printshim",at.attachEvent("onbeforeprint",H._beforePrint),at.attachEvent("onafterprint",H._afterPrint));}(ar,aq),an._version=ao,an._prefixes=ad,an._domPrefixes=ab,an.hasEvent=N,an.testProp=function(b){return U([b]);},an.testAllProps=S,an.testStyles=Q,al.className=al.className.replace(/\bno-js\b/,"")+(am?" js "+R.join(" "):"");return an;}(this,this.document),function(ap,ao,an){function af(b){return !b||b=="loaded"||b=="complete";}function ag(){var d=1,c=-1;while(aa.length- ++c){if(aa[c].s&&!(d=aa[c].r)){break;}}d&&aj();}function ah(b){var f=ao.createElement("script"),e;f.src=b.s,f.onreadystatechange=f.onload=function(){!e&&af(f.readyState)&&(e=1,ag(),f.onload=f.onreadystatechange=null);},ad(function(){e||(e=1,ag());},L.errorTimeout),b.e?f.onload():ac.parentNode.insertBefore(f,ac);}function ai(b){var h=ao.createElement("link"),g;h.href=b.s,h.rel="stylesheet",h.type="text/css";if(!b.e&&(M||W)){var f=function(c){ad(function(){if(!g){try{c.sheet.cssRules.length?(g=1,ag()):f(c);}catch(a){a.code==1000||a.message=="security"||a.message=="denied"?(g=1,ad(function(){ag();},0)):f(c);}}},0);};f(h);}else{h.onload=function(){g||(g=1,ad(function(){ag();},0));},b.e&&h.onload();}ad(function(){g||(g=1,ag());},L.errorTimeout),!b.e&&ac.parentNode.insertBefore(h,ac);}function aj(){var b=aa.shift();Y=1,b?b.t?ad(function(){b.t=="c"?ai(b):ah(b);},0):(b(),ag()):Y=0;}function ak(v,u,t,q,p,n){function m(){!g&&af(k.readyState)&&(b.r=g=1,!Y&&ag(),k.onload=k.onreadystatechange=null,ad(function(){Q.removeChild(k);},0));}var k=ao.createElement(v),g=0,b={t:t,s:u,e:n};k.src=k.data=u,!U&&(k.style.display="none"),k.width=k.height="0",v!="object"&&(k.type=t),k.onload=k.onreadystatechange=m,v=="img"?k.onerror=m:v=="script"&&(k.onerror=function(){b.e=b.r=1,aj();}),aa.splice(q,0,b),Q.insertBefore(k,U?null:ac),ad(function(){g||(Q.removeChild(k),b.r=b.e=g=1,ag());},L.errorTimeout);}function al(f,e,h){var g=e=="c"?I:J;Y=0,e=e||"j",V(f)?ak(g,f,e,this.i++,ae,h):(aa.splice(this.i++,0,f),aa.length==1&&aj());return this;}function am(){var b=L;b.loader={load:al,i:0};return b;}var ae=ao.documentElement,ad=ap.setTimeout,ac=ao.getElementsByTagName("script")[0],ab={}.toString,aa=[],Y=0,W="MozAppearance" in ae.style,U=W&&!!ao.createRange().compareNode,S=W&&!U,Q=U?ae:ac.parentNode,O=ap.opera&&ab.call(ap.opera)=="[object Opera]",M="webkitAppearance" in ae.style,K=M&&"async" in ao.createElement("script"),J=W?"object":O||K?"img":"script",I=M?"img":J,Z=Array.isArray||function(b){return ab.call(b)=="[object Array]";},X=function(b){return Object(b)===b;},V=function(b){return typeof b=="string";},T=function(b){return ab.call(b)=="[object Function]";},R=[],P={},N,L;L=function(d){function n(q){var p=q.split("!"),x=R.length,w=p.pop(),v=p.length,u={url:w,origUrl:w,prefixes:p},t,r;for(r=0;r<v;r++){t=P[p[r]],t&&(u=t(u));}for(r=0;r<x;r++){u=R[r](u);}return u;}function o(p,f,v,u,t){var r=n(p),q=r.autoCallback;if(!r.bypass){f&&(f=T(f)?f:f[p]||f[u]||f[p.split("/").pop().split("?")[0]]);if(r.instead){return r.instead(p,f,v,u,t);}v.load(r.url,r.forceCSS||!r.forceJS&&/css$/.test(r.url)?"c":an,r.noexec),(T(f)||T(q))&&v.load(function(){am(),f&&f(r.origUrl,t,u),q&&q(r.origUrl,t,u);});}}function c(p,e){function w(b){if(V(b)){o(b,r,e,0,v);}else{if(X(b)){for(q in b){b.hasOwnProperty(q)&&o(b[q],r,e,q,v);}}}}var v=!!p.test,u=v?p.yep:p.nope,t=p.load||p.both,r=p.callback,q;w(u),w(t),p.complete&&e.load(p.complete);}var m,l,k=this.yepnope.loader;if(V(d)){o(d,0,k,0);}else{if(Z(d)){for(m=0;m<d.length;m++){l=d[m],V(l)?o(l,0,k,0):Z(l)?L(l):X(l)&&c(l,k);}}else{X(d)&&c(d,k);}}},L.addPrefix=function(d,c){P[d]=c;},L.addFilter=function(b){R.push(b);},L.errorTimeout=10000,ao.readyState==null&&ao.addEventListener&&(ao.readyState="loading",ao.addEventListener("DOMContentLoaded",N=function(){ao.removeEventListener("DOMContentLoaded",N,0),ao.readyState="complete";},0)),ap.yepnope=am();}(this,this.document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0));};var swfobject=function(){var aq="undefined",aD="object",ab="Shockwave Flash",X="ShockwaveFlash.ShockwaveFlash",aE="application/x-shockwave-flash",ac="SWFObjectExprInst",ax="onreadystatechange",af=window,aL=document,aB=navigator,aa=false,Z=[aN],aG=[],ag=[],al=[],aJ,ad,ap,at,ak=false,aU=false,aH,an,aI=true,ah=function(){var a=typeof aL.getElementById!=aq&&typeof aL.getElementsByTagName!=aq&&typeof aL.createElement!=aq,e=aB.userAgent.toLowerCase(),c=aB.platform.toLowerCase(),h=c?/win/.test(c):/win/.test(e),l=c?/mac/.test(c):/mac/.test(e),g=/webkit/.test(e)?parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,d=!+"\v1",f=[0,0,0],m=null;if(typeof aB.plugins!=aq&&typeof aB.plugins[ab]==aD){m=aB.plugins[ab].description;if(m&&!(typeof aB.mimeTypes!=aq&&aB.mimeTypes[aE]&&!aB.mimeTypes[aE].enabledPlugin)){aa=true;d=false;m=m.replace(/^.*\s+(\S+\s+\S+$)/,"$1");f[0]=parseInt(m.replace(/^(.*)\..*$/,"$1"),10);f[1]=parseInt(m.replace(/^.*\.(.*)\s.*$/,"$1"),10);f[2]=/[a-zA-Z]/.test(m)?parseInt(m.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0;}}else{if(typeof af.ActiveXObject!=aq){try{var k=new ActiveXObject(X);if(k){m=k.GetVariable("$version");if(m){d=true;m=m.split(" ")[1].split(",");f=[parseInt(m[0],10),parseInt(m[1],10),parseInt(m[2],10)];}}}catch(b){}}}return{w3:a,pv:f,wk:g,ie:d,win:h,mac:l};}(),aK=function(){if(!ah.w3){return;}if((typeof aL.readyState!=aq&&aL.readyState=="complete")||(typeof aL.readyState==aq&&(aL.getElementsByTagName("body")[0]||aL.body))){aP();}if(!ak){if(typeof aL.addEventListener!=aq){aL.addEventListener("DOMContentLoaded",aP,false);}if(ah.ie&&ah.win){aL.attachEvent(ax,function(){if(aL.readyState=="complete"){aL.detachEvent(ax,arguments.callee);aP();}});if(af==top){(function(){if(ak){return;}try{aL.documentElement.doScroll("left");}catch(a){setTimeout(arguments.callee,0);return;}aP();})();}}if(ah.wk){(function(){if(ak){return;}if(!/loaded|complete/.test(aL.readyState)){setTimeout(arguments.callee,0);return;}aP();})();}aC(aP);}}();function aP(){if(ak){return;}try{var b=aL.getElementsByTagName("body")[0].appendChild(ar("span"));b.parentNode.removeChild(b);}catch(a){return;}ak=true;var d=Z.length;for(var c=0;c<d;c++){Z[c]();}}function aj(a){if(ak){a();}else{Z[Z.length]=a;}}function aC(a){if(typeof af.addEventListener!=aq){af.addEventListener("load",a,false);}else{if(typeof aL.addEventListener!=aq){aL.addEventListener("load",a,false);}else{if(typeof af.attachEvent!=aq){aM(af,"onload",a);}else{if(typeof af.onload=="function"){var b=af.onload;af.onload=function(){b();a();};}else{af.onload=a;}}}}}function aN(){if(aa){Y();}else{am();}}function Y(){var d=aL.getElementsByTagName("body")[0];var b=ar(aD);b.setAttribute("type",aE);var a=d.appendChild(b);if(a){var c=0;(function(){if(typeof a.GetVariable!=aq){var e=a.GetVariable("$version");if(e){e=e.split(" ")[1].split(",");ah.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)];}}else{if(c<10){c++;setTimeout(arguments.callee,10);return;}}d.removeChild(b);a=null;am();})();}else{am();}}function am(){var g=aG.length;if(g>0){for(var h=0;h<g;h++){var c=aG[h].id;var n=aG[h].callbackFn;var a={success:false,id:c};if(ah.pv[0]>0){var k=aS(c);if(k){if(ao(aG[h].swfVersion)&&!(ah.wk&&ah.wk<312)){ay(c,true);if(n){a.success=true;a.ref=av(c);n(a);}}else{if(aG[h].expressInstall&&au()){var e={};e.data=aG[h].expressInstall;e.width=k.getAttribute("width")||"0";e.height=k.getAttribute("height")||"0";if(k.getAttribute("class")){e.styleclass=k.getAttribute("class");}if(k.getAttribute("align")){e.align=k.getAttribute("align");}var f={};var d=k.getElementsByTagName("param");var m=d.length;for(var l=0;l<m;l++){if(d[l].getAttribute("name").toLowerCase()!="movie"){f[d[l].getAttribute("name")]=d[l].getAttribute("value");}}ae(e,f,c,n);}else{aF(k);if(n){n(a);}}}}}else{ay(c,true);if(n){var b=av(c);if(b&&typeof b.SetVariable!=aq){a.success=true;a.ref=b;}n(a);}}}}}function av(b){var d=null;var c=aS(b);if(c&&c.nodeName=="OBJECT"){if(typeof c.SetVariable!=aq){d=c;}else{var a=c.getElementsByTagName(aD)[0];if(a){d=a;}}}return d;}function au(){return !aU&&ao("6.0.65")&&(ah.win||ah.mac)&&!(ah.wk&&ah.wk<312);}function ae(f,d,h,e){aU=true;ap=e||null;at={success:false,id:h};var a=aS(h);if(a){if(a.nodeName=="OBJECT"){aJ=aO(a);ad=null;}else{aJ=a;ad=h;}f.id=ac;if(typeof f.width==aq||(!/%$/.test(f.width)&&parseInt(f.width,10)<310)){f.width="310";}if(typeof f.height==aq||(!/%$/.test(f.height)&&parseInt(f.height,10)<137)){f.height="137";}aL.title=aL.title.slice(0,47)+" - Flash Player Installation";var b=ah.ie&&ah.win?"ActiveX":"PlugIn",c="MMredirectURL="+af.location.toString().replace(/&/g,"%26")+"&MMplayerType="+b+"&MMdoctitle="+aL.title;if(typeof d.flashvars!=aq){d.flashvars+="&"+c;}else{d.flashvars=c;}if(ah.ie&&ah.win&&a.readyState!=4){var g=ar("div");h+="SWFObjectNew";g.setAttribute("id",h);a.parentNode.insertBefore(g,a);a.style.display="none";(function(){if(a.readyState==4){a.parentNode.removeChild(a);}else{setTimeout(arguments.callee,10);}})();}aA(f,d,h);}}function aF(a){if(ah.ie&&ah.win&&a.readyState!=4){var b=ar("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(aO(a),b);a.style.display="none";(function(){if(a.readyState==4){a.parentNode.removeChild(a);}else{setTimeout(arguments.callee,10);}})();}else{a.parentNode.replaceChild(aO(a),a);}}function aO(b){var d=ar("div");if(ah.win&&ah.ie){d.innerHTML=b.innerHTML;}else{var e=b.getElementsByTagName(aD)[0];if(e){var a=e.childNodes;if(a){var f=a.length;for(var c=0;c<f;c++){if(!(a[c].nodeType==1&&a[c].nodeName=="PARAM")&&!(a[c].nodeType==8)){d.appendChild(a[c].cloneNode(true));}}}}}return d;}function aA(e,g,c){var d,a=aS(c);if(ah.wk&&ah.wk<312){return d;}if(a){if(typeof e.id==aq){e.id=c;}if(ah.ie&&ah.win){var f="";for(var k in e){if(e[k]!=Object.prototype[k]){if(k.toLowerCase()=="data"){g.movie=e[k];}else{if(k.toLowerCase()=="styleclass"){f+=' class="'+e[k]+'"';}else{if(k.toLowerCase()!="classid"){f+=" "+k+'="'+e[k]+'"';}}}}}var h="";for(var l in g){if(g[l]!=Object.prototype[l]){h+='<param name="'+l+'" value="'+g[l]+'" />';}}a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+h+"</object>";ag[ag.length]=e.id;d=aS(e.id);}else{var b=ar(aD);b.setAttribute("type",aE);for(var m in e){if(e[m]!=Object.prototype[m]){if(m.toLowerCase()=="styleclass"){b.setAttribute("class",e[m]);}else{if(m.toLowerCase()!="classid"){b.setAttribute(m,e[m]);}}}}for(var n in g){if(g[n]!=Object.prototype[n]&&n.toLowerCase()!="movie"){aQ(b,n,g[n]);}}a.parentNode.replaceChild(b,a);d=b;}}return d;}function aQ(b,d,c){var a=ar("param");a.setAttribute("name",d);a.setAttribute("value",c);b.appendChild(a);}function aw(a){var b=aS(a);if(b&&b.nodeName=="OBJECT"){if(ah.ie&&ah.win){b.style.display="none";(function(){if(b.readyState==4){aT(a);}else{setTimeout(arguments.callee,10);}})();}else{b.parentNode.removeChild(b);}}}function aT(a){var b=aS(a);if(b){for(var c in b){if(typeof b[c]=="function"){b[c]=null;}}b.parentNode.removeChild(b);}}function aS(a){var c=null;try{c=aL.getElementById(a);}catch(b){}return c;}function ar(a){return aL.createElement(a);}function aM(a,c,b){a.attachEvent(c,b);al[al.length]=[a,c,b];}function ao(a){var b=ah.pv,c=a.split(".");c[0]=parseInt(c[0],10);c[1]=parseInt(c[1],10)||0;c[2]=parseInt(c[2],10)||0;return(b[0]>c[0]||(b[0]==c[0]&&b[1]>c[1])||(b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]))?true:false;}function az(b,f,a,c){if(ah.ie&&ah.mac){return;}var e=aL.getElementsByTagName("head")[0];if(!e){return;}var g=(a&&typeof a=="string")?a:"screen";if(c){aH=null;an=null;}if(!aH||an!=g){var d=ar("style");d.setAttribute("type","text/css");d.setAttribute("media",g);aH=e.appendChild(d);if(ah.ie&&ah.win&&typeof aL.styleSheets!=aq&&aL.styleSheets.length>0){aH=aL.styleSheets[aL.styleSheets.length-1];}an=g;}if(ah.ie&&ah.win){if(aH&&typeof aH.addRule==aD){aH.addRule(b,f);}}else{if(aH&&typeof aL.createTextNode!=aq){aH.appendChild(aL.createTextNode(b+" {"+f+"}"));}}}function ay(a,c){if(!aI){return;}var b=c?"visible":"hidden";if(ak&&aS(a)){aS(a).style.visibility=b;}else{az("#"+a,"visibility:"+b);}}function ai(b){var a=/[\\\"<>\.;]/;var c=a.exec(b)!=null;return c&&typeof encodeURIComponent!=aq?encodeURIComponent(b):b;}var aR=function(){if(ah.ie&&ah.win){window.attachEvent("onunload",function(){var a=al.length;for(var b=0;b<a;b++){al[b][0].detachEvent(al[b][1],al[b][2]);}var d=ag.length;for(var c=0;c<d;c++){aw(ag[c]);}for(var e in ah){ah[e]=null;}ah=null;for(var f in swfobject){swfobject[f]=null;}swfobject=null;});}}();return{registerObject:function(a,e,c,b){if(ah.w3&&a&&e){var d={};d.id=a;d.swfVersion=e;d.expressInstall=c;d.callbackFn=b;aG[aG.length]=d;ay(a,false);}else{if(b){b({success:false,id:a});}}},getObjectById:function(a){if(ah.w3){return av(a);}},embedSWF:function(m,e,h,f,c,a,b,k,g,l){var d={success:false,id:e};if(ah.w3&&!(ah.wk&&ah.wk<312)&&m&&e&&h&&f&&c){ay(e,false);aj(function(){h+="";f+="";var t={};if(g&&typeof g===aD){for(var q in g){t[q]=g[q];}}t.data=m;t.width=h;t.height=f;var p={};if(k&&typeof k===aD){for(var r in k){p[r]=k[r];}}if(b&&typeof b===aD){for(var n in b){if(typeof p.flashvars!=aq){p.flashvars+="&"+n+"="+b[n];}else{p.flashvars=n+"="+b[n];}}}if(ao(c)){var o=aA(t,p,e);if(t.id==e){ay(e,true);}d.success=true;d.ref=o;}else{if(a&&au()){t.data=a;ae(t,p,e,l);return;}else{ay(e,true);}}if(l){l(d);}});}else{if(l){l(d);}}},switchOffAutoHideShow:function(){aI=false;},ua:ah,getFlashPlayerVersion:function(){return{major:ah.pv[0],minor:ah.pv[1],release:ah.pv[2]};},hasFlashPlayerVersion:ao,createSWF:function(a,b,c){if(ah.w3){return aA(a,b,c);}else{return undefined;}},showExpressInstall:function(b,a,d,c){if(ah.w3&&au()){ae(b,a,d,c);}},removeSWF:function(a){if(ah.w3){aw(a);}},createCSS:function(b,a,c,d){if(ah.w3){az(b,a,c,d);}},addDomLoadEvent:aj,addLoadEvent:aC,getQueryParamValue:function(b){var a=aL.location.search||aL.location.hash;if(a){if(/\?/.test(a)){a=a.split("?")[1];}if(b==null){return ai(a);}var c=a.split("&");for(var d=0;d<c.length;d++){if(c[d].substring(0,c[d].indexOf("="))==b){return ai(c[d].substring((c[d].indexOf("=")+1)));}}}return"";},expressInstallCallback:function(){if(aU){var a=aS(ac);if(a&&aJ){a.parentNode.replaceChild(aJ,a);if(ad){ay(ad,true);if(ah.ie&&ah.win){aJ.style.display="block";}}if(ap){ap(at);}}aU=false;}}};}();var isIE=(navigator.appVersion.indexOf("MSIE")!=-1)?true:false;var isWin=(navigator.appVersion.toLowerCase().indexOf("win")!=-1)?true:false;var isOpera=(navigator.userAgent.indexOf("Opera")!=-1)?true:false;function ControlVersion(){var a;var b;var c;try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");a=b.GetVariable("$version");}catch(c){}if(!a){try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");a="WIN 6,0,21,0";b.AllowScriptAccess="always";a=b.GetVariable("$version");}catch(c){}}if(!a){try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");a=b.GetVariable("$version");}catch(c){}}if(!a){try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");a="WIN 3,0,18,0";}catch(c){}}if(!a){try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");a="WIN 2,0,0,11";}catch(c){a=-1;}}return a;}function GetSwfVer(){var g=-1;if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var f=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var a=navigator.plugins["Shockwave Flash"+f].description;var e=a.split(" ");var c=e[2].split(".");var h=c[0];var b=c[1];if(e[3]!=""){tempArrayMinor=e[3].split("r");}else{tempArrayMinor=e[4].split("r");}var d=tempArrayMinor[1]>0?tempArrayMinor[1]:0;var g=h+"."+b+"."+d;}}else{if(navigator.userAgent.toLowerCase().indexOf("webtv/2.6")!=-1){g=4;}else{if(navigator.userAgent.toLowerCase().indexOf("webtv/2.5")!=-1){g=3;}else{if(navigator.userAgent.toLowerCase().indexOf("webtv")!=-1){g=2;}else{if(isIE&&isWin&&!isOpera){g=ControlVersion();}}}}}return g;}function DetectFlashVer(f,d,c){versionStr=GetSwfVer();if(versionStr==-1){return false;}else{if(versionStr!=0){if(isIE&&isWin&&!isOpera){tempArray=versionStr.split(" ");tempString=tempArray[1];versionArray=tempString.split(",");}else{versionArray=versionStr.split(".");}var e=versionArray[0];var a=versionArray[1];var b=versionArray[2];if(e>parseFloat(f)){return true;}else{if(e==parseFloat(f)){if(a>parseFloat(d)){return true;}else{if(a==parseFloat(d)){if(b>=parseFloat(c)){return true;}}}}}return false;}}}function AC_AddExtension(b,a){if(b.indexOf("?")!=-1){return b.replace(/\?/,a+"?");}else{return b+a;}}function AC_Generateobj(e,d,a){var c="";if(isIE&&isWin&&!isOpera){c+="<object ";for(var b in e){c+=b+'="'+e[b]+'" ';}for(var b in d){c+='><param name="'+b+'" value="'+d[b]+'" /> ';}c+="></object>";}else{c+="<embed ";for(var b in a){c+=b+'="'+a[b]+'" ';}c+="> </embed>";}document.write(c);}function AC_FL_RunContent(){var a=AC_GetArgs(arguments,".swf","movie","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000","application/x-shockwave-flash");AC_Generateobj(a.objAttrs,a.params,a.embedAttrs);}function AC_GetArgs(b,e,g,d,h){var a=new Object();a.embedAttrs=new Object();a.params=new Object();a.objAttrs=new Object();for(var c=0;c<b.length;c=c+2){var f=b[c].toLowerCase();switch(f){case"classid":break;case"pluginspage":a.embedAttrs[b[c]]=b[c+1];break;case"src":case"movie":b[c+1]=AC_AddExtension(b[c+1],e);a.embedAttrs.src=b[c+1];a.params[g]=b[c+1];break;case"onafterupdate":case"onbeforeupdate":case"onblur":case"oncellchange":case"onclick":case"ondblClick":case"ondrag":case"ondragend":case"ondragenter":case"ondragleave":case"ondragover":case"ondrop":case"onfinish":case"onfocus":case"onhelp":case"onmousedown":case"onmouseup":case"onmouseover":case"onmousemove":case"onmouseout":case"onkeypress":case"onkeydown":case"onkeyup":case"onload":case"onlosecapture":case"onpropertychange":case"onreadystatechange":case"onrowsdelete":case"onrowenter":case"onrowexit":case"onrowsinserted":case"onstart":case"onscroll":case"onbeforeeditfocus":case"onactivate":case"onbeforedeactivate":case"ondeactivate":case"type":case"codebase":case"id":a.objAttrs[b[c]]=b[c+1];break;case"width":case"height":case"align":case"vspace":case"hspace":case"class":case"title":case"accesskey":case"name":case"tabindex":a.embedAttrs[b[c]]=a.objAttrs[b[c]]=b[c+1];break;default:a.embedAttrs[b[c]]=a.params[b[c]]=b[c+1];}}a.objAttrs.classid=d;if(h){a.embedAttrs.type=h;}return a;}var flash9Installed=DetectFlashVer(9,0,0);var hasRightVersion=DetectFlashVer(9,0,0);var JSON;if(!JSON){JSON={};}(function(){function f(n){return n<10?"0"+n:n;}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key);}if(typeof rep==="function"){value=rep.call(holder,key,value);}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null";}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null";}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v;}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v;}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" ";}}else{if(typeof space==="string"){indent=space;}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify");}return str("",{"":value});};}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return reviver.call(holder,key,value);}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);});}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j;}throw new SyntaxError("JSON.parse");};}}());
/*!
 * jQuery UI Effects 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/
 */
jQuery.effects||(function(h,e){h.effects={};h.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(q,p){h.fx.step[p]=function(r){if(!r.colorInit){r.start=o(r.elem,p);r.end=m(r.end);r.colorInit=true;}r.elem.style[p]="rgb("+Math.max(Math.min(parseInt((r.pos*(r.end[0]-r.start[0]))+r.start[0],10),255),0)+","+Math.max(Math.min(parseInt((r.pos*(r.end[1]-r.start[1]))+r.start[1],10),255),0)+","+Math.max(Math.min(parseInt((r.pos*(r.end[2]-r.start[2]))+r.start[2],10),255),0)+")";};});function m(q){var p;if(q&&q.constructor==Array&&q.length==3){return q;}if(p=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(q)){return[parseInt(p[1],10),parseInt(p[2],10),parseInt(p[3],10)];}if(p=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(q)){return[parseFloat(p[1])*2.55,parseFloat(p[2])*2.55,parseFloat(p[3])*2.55];}if(p=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(q)){return[parseInt(p[1],16),parseInt(p[2],16),parseInt(p[3],16)];}if(p=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(q)){return[parseInt(p[1]+p[1],16),parseInt(p[2]+p[2],16),parseInt(p[3]+p[3],16)];}if(p=/rgba\(0, 0, 0, 0\)/.exec(q)){return a.transparent;}return a[h.trim(q).toLowerCase()];}function o(r,p){var q;do{q=(h.curCSS||h.css)(r,p);if(q!=""&&q!="transparent"||h.nodeName(r,"body")){break;}p="backgroundColor";}while(r=r.parentNode);return m(q);}var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};var f=["add","remove","toggle"],c={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function g(){var t=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,u={},q,r;if(t&&t.length&&t[0]&&t[t[0]]){var p=t.length;while(p--){q=t[p];if(typeof t[q]=="string"){r=q.replace(/\-(\w)/g,function(v,w){return w.toUpperCase();});u[r]=t[q];}}}else{for(q in t){if(typeof t[q]==="string"){u[q]=t[q];}}}return u;}function b(q){var p,r;for(p in q){r=q[p];if(r==null||h.isFunction(r)||p in c||(/scrollbar/).test(p)||(!(/color/i).test(p)&&isNaN(parseFloat(r)))){delete q[p];}}return q;}function k(p,r){var t={_:0},q;for(q in r){if(p[q]!=r[q]){t[q]=r[q];}}return t;}h.effects.animateClass=function(p,q,t,r){if(h.isFunction(t)){r=t;t=null;}return this.queue(function(){var x=h(this),u=x.attr("style")||" ",y=b(g.call(this)),w,v=x.attr("class")||"";h.each(f,function(z,A){if(p[A]){x[A+"Class"](p[A]);}});w=b(g.call(this));x.attr("class",v);x.animate(k(y,w),{queue:false,duration:q,easing:t,complete:function(){h.each(f,function(z,A){if(p[A]){x[A+"Class"](p[A]);}});if(typeof x.attr("style")=="object"){x.attr("style").cssText="";x.attr("style").cssText=u;}else{x.attr("style",u);}if(r){r.apply(this,arguments);}h.dequeue(this);}});});};h.fn.extend({_addClass:h.fn.addClass,addClass:function(q,p,t,r){return p?h.effects.animateClass.apply(this,[{add:q},p,t,r]):this._addClass(q);},_removeClass:h.fn.removeClass,removeClass:function(q,p,t,r){return p?h.effects.animateClass.apply(this,[{remove:q},p,t,r]):this._removeClass(q);},_toggleClass:h.fn.toggleClass,toggleClass:function(r,q,p,u,t){if(typeof q=="boolean"||q===e){if(!p){return this._toggleClass(r,q);}else{return h.effects.animateClass.apply(this,[(q?{add:r}:{remove:r}),p,u,t]);}}else{return h.effects.animateClass.apply(this,[{toggle:r},q,p,u]);}},switchClass:function(p,r,q,u,t){return h.effects.animateClass.apply(this,[{add:r,remove:p},q,u,t]);}});h.extend(h.effects,{version:"1.8.24",save:function(q,r){for(var p=0;p<r.length;p++){if(r[p]!==null){q.data("ec.storage."+r[p],q[0].style[r[p]]);}}},restore:function(q,r){for(var p=0;p<r.length;p++){if(r[p]!==null){q.css(r[p],q.data("ec.storage."+r[p]));}}},setMode:function(p,q){if(q=="toggle"){q=p.is(":hidden")?"show":"hide";}return q;},getBaseline:function(q,r){var t,p;switch(q[0]){case"top":t=0;break;case"middle":t=0.5;break;case"bottom":t=1;break;default:t=q[0]/r.height;}switch(q[1]){case"left":p=0;break;case"center":p=0.5;break;case"right":p=1;break;default:p=q[1]/r.width;}return{x:p,y:t};},createWrapper:function(p){if(p.parent().is(".ui-effects-wrapper")){return p.parent();}var q={width:p.outerWidth(true),height:p.outerHeight(true),"float":p.css("float")},u=h("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),t=document.activeElement;try{t.id;}catch(r){t=document.body;}p.wrap(u);if(p[0]===t||h.contains(p[0],t)){h(t).focus();}u=p.parent();if(p.css("position")=="static"){u.css({position:"relative"});p.css({position:"relative"});}else{h.extend(q,{position:p.css("position"),zIndex:p.css("z-index")});h.each(["top","left","bottom","right"],function(v,w){q[w]=p.css(w);if(isNaN(parseInt(q[w],10))){q[w]="auto";}});p.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"});}return u.css(q).show();},removeWrapper:function(p){var q,r=document.activeElement;if(p.parent().is(".ui-effects-wrapper")){q=p.parent().replaceWith(p);if(p[0]===r||h.contains(p[0],r)){h(r).focus();}return q;}return p;},setTransition:function(q,t,p,r){r=r||{};h.each(t,function(v,u){var w=q.cssUnit(u);if(w[0]>0){r[u]=w[0]*p+w[1];}});return r;}});function d(q,p,r,t){if(typeof q=="object"){t=p;r=null;p=q;q=p.effect;}if(h.isFunction(p)){t=p;r=null;p={};}if(typeof p=="number"||h.fx.speeds[p]){t=r;r=p;p={};}if(h.isFunction(r)){t=r;r=null;}p=p||{};r=r||p.duration;r=h.fx.off?0:typeof r=="number"?r:r in h.fx.speeds?h.fx.speeds[r]:h.fx.speeds._default;t=t||p.complete;return[q,p,r,t];}function n(p){if(!p||typeof p==="number"||h.fx.speeds[p]){return true;}if(typeof p==="string"&&!h.effects[p]){return true;}return false;}h.fn.extend({effect:function(t,r,v,x){var q=d.apply(this,arguments),u={options:q[1],duration:q[2],callback:q[3]},w=u.options.mode,p=h.effects[t];if(h.fx.off||!p){if(w){return this[w](u.duration,u.callback);}else{return this.each(function(){if(u.callback){u.callback.call(this);}});}}return p.call(this,u);},_show:h.fn.show,show:function(q){if(n(q)){return this._show.apply(this,arguments);}else{var p=d.apply(this,arguments);p[1].mode="show";return this.effect.apply(this,p);}},_hide:h.fn.hide,hide:function(q){if(n(q)){return this._hide.apply(this,arguments);}else{var p=d.apply(this,arguments);p[1].mode="hide";return this.effect.apply(this,p);}},__toggle:h.fn.toggle,toggle:function(q){if(n(q)||typeof q==="boolean"||h.isFunction(q)){return this.__toggle.apply(this,arguments);}else{var p=d.apply(this,arguments);p[1].mode="toggle";return this.effect.apply(this,p);}},cssUnit:function(p){var q=this.css(p),r=[];h.each(["em","px","%","pt"],function(t,u){if(q.indexOf(u)>0){r=[parseFloat(q),u];}});return r;}});var l={};h.each(["Quad","Cubic","Quart","Quint","Expo"],function(q,p){l[p]=function(r){return Math.pow(r,q+2);};});h.extend(l,{Sine:function(q){return 1-Math.cos(q*Math.PI/2);},Circ:function(q){return 1-Math.sqrt(1-q*q);},Elastic:function(q){return q===0||q===1?q:-Math.pow(2,8*(q-1))*Math.sin(((q-1)*80-7.5)*Math.PI/15);},Back:function(q){return q*q*(3*q-2);},Bounce:function(t){var q,r=4;while(t<((q=Math.pow(2,--r))-1)/11){}return 1/Math.pow(4,3-r)-7.5625*Math.pow((q*3-2)/22-t,2);}});h.each(l,function(q,p){h.easing["easeIn"+q]=p;h.easing["easeOut"+q]=function(r){return 1-p(1-r);};h.easing["easeInOut"+q]=function(r){return r<0.5?p(r*2)/2:p(r*-2+2)/-2+1;};});})(jQuery);
/*!
 * jQuery UI Effects Fade 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Fade
 *
 * Depends:
 *	jquery.effects.core.js
 */
(function(a,b){a.effects.fade=function(c){return this.queue(function(){var d=a(this),e=a.effects.setMode(d,c.options.mode||"hide");d.animate({opacity:e},{queue:false,duration:c.duration,easing:c.options.easing,complete:function(){(c.callback&&c.callback.apply(this,arguments));d.dequeue();}});});};})(jQuery);
/*!
 * jQuery UI 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(a,d){a.ui=a.ui||{};if(a.ui.version){return;}a.extend(a.ui,{version:"1.8.24",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(e,f){return typeof e==="number"?this.each(function(){var g=this;setTimeout(function(){a(g).focus();if(f){f.call(g);}},e);}):this._focus.apply(this,arguments);},scrollParent:function(){var e;if((a.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){e=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(a.curCSS(this,"position",1))&&(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1));}).eq(0);}else{e=this.parents().filter(function(){return(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1));}).eq(0);}return(/fixed/).test(this.css("position"))||!e.length?a(document):e;},zIndex:function(h){if(h!==d){return this.css("zIndex",h);}if(this.length){var f=a(this[0]),e,g;while(f.length&&f[0]!==document){e=f.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){g=parseInt(f.css("zIndex"),10);if(!isNaN(g)&&g!==0){return g;}}f=f.parent();}}return 0;},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault();});},enableSelection:function(){return this.unbind(".ui-disableSelection");}});if(!a("<a>").outerWidth(1).jquery){a.each(["Width","Height"],function(g,e){var f=e==="Width"?["Left","Right"]:["Top","Bottom"],h=e.toLowerCase(),l={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};function k(o,n,m,p){a.each(f,function(){n-=parseFloat(a.curCSS(o,"padding"+this,true))||0;if(m){n-=parseFloat(a.curCSS(o,"border"+this+"Width",true))||0;}if(p){n-=parseFloat(a.curCSS(o,"margin"+this,true))||0;}});return n;}a.fn["inner"+e]=function(m){if(m===d){return l["inner"+e].call(this);}return this.each(function(){a(this).css(h,k(this,m)+"px");});};a.fn["outer"+e]=function(m,n){if(typeof m!=="number"){return l["outer"+e].call(this,m);}return this.each(function(){a(this).css(h,k(this,m,true,n)+"px");});};});}function c(g,e){var l=g.nodeName.toLowerCase();if("area"===l){var k=g.parentNode,h=k.name,f;if(!g.href||!h||k.nodeName.toLowerCase()!=="map"){return false;}f=a("img[usemap=#"+h+"]")[0];return !!f&&b(f);}return(/input|select|textarea|button|object/.test(l)?!g.disabled:"a"==l?g.href||e:e)&&b(g);}function b(e){return !a(e).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this);}).length;}a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(e){return function(f){return !!a.data(f,e);};}):function(g,f,e){return !!a.data(g,e[3]);},focusable:function(e){return c(e,!isNaN(a.attr(e,"tabindex")));},tabbable:function(g){var e=a.attr(g,"tabindex"),f=isNaN(e);return(f||e>=0)&&c(g,!f);}});a(function(){var e=document.body,f=e.appendChild(f=document.createElement("div"));f.offsetHeight;a.extend(f.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=f.offsetHeight===100;a.support.selectstart="onselectstart" in f;e.removeChild(f).style.display="none";});if(!a.curCSS){a.curCSS=a.css;}a.extend(a.ui,{plugin:{add:function(f,g,k){var h=a.ui[f].prototype;for(var e in k){h.plugins[e]=h.plugins[e]||[];h.plugins[e].push([g,k[e]]);}},call:function(e,g,f){var k=e.plugins[g];if(!k||!e.element[0].parentNode){return;}for(var h=0;h<k.length;h++){if(e.options[k[h][0]]){k[h][1].apply(e.element,f);}}}},contains:function(f,e){return document.compareDocumentPosition?f.compareDocumentPosition(e)&16:f!==e&&f.contains(e);},hasScroll:function(h,f){if(a(h).css("overflow")==="hidden"){return false;}var e=(f&&f==="left")?"scrollLeft":"scrollTop",g=false;if(h[e]>0){return true;}h[e]=1;g=(h[e]>0);h[e]=0;return g;},isOverAxis:function(f,e,g){return(f>e)&&(f<(e+g));},isOver:function(l,f,k,h,e,g){return a.ui.isOverAxis(l,k,e)&&a.ui.isOverAxis(f,h,g);}});})(jQuery);
/*!
 * jQuery UI Widget 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(b,d){if(b.cleanData){var c=b.cleanData;b.cleanData=function(f){for(var g=0,h;(h=f[g])!=null;g++){try{b(h).triggerHandler("remove");}catch(k){}}c(f);};}else{var a=b.fn.remove;b.fn.remove=function(e,f){return this.each(function(){if(!f){if(!e||b.filter(e,[this]).length){b("*",this).add([this]).each(function(){try{b(this).triggerHandler("remove");}catch(g){}});}}return a.call(b(this),e,f);});};}b.widget=function(f,h,e){var g=f.split(".")[0],l;f=f.split(".")[1];l=g+"-"+f;if(!e){e=h;h=b.Widget;}b.expr[":"][l]=function(m){return !!b.data(m,f);};b[g]=b[g]||{};b[g][f]=function(m,n){if(arguments.length){this._createWidget(m,n);}};var k=new h();k.options=b.extend(true,{},k.options);b[g][f].prototype=b.extend(true,k,{namespace:g,widgetName:f,widgetEventPrefix:b[g][f].prototype.widgetEventPrefix||f,widgetBaseClass:l},e);b.widget.bridge(f,b[g][f]);};b.widget.bridge=function(f,e){b.fn[f]=function(k){var g=typeof k==="string",h=Array.prototype.slice.call(arguments,1),l=this;k=!g&&h.length?b.extend.apply(null,[true,k].concat(h)):k;if(g&&k.charAt(0)==="_"){return l;}if(g){this.each(function(){var m=b.data(this,f),n=m&&b.isFunction(m[k])?m[k].apply(m,h):m;if(n!==m&&n!==d){l=n;return false;}});}else{this.each(function(){var m=b.data(this,f);if(m){m.option(k||{})._init();}else{b.data(this,f,new e(k,this));}});}return l;};};b.Widget=function(e,f){if(arguments.length){this._createWidget(e,f);}};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(f,g){b.data(g,this.widgetName,this);this.element=b(g);this.options=b.extend(true,{},this.options,this._getCreateOptions(),f);var e=this;this.element.bind("remove."+this.widgetName,function(){e.destroy();});this._create();this._trigger("create");this._init();},_getCreateOptions:function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName];},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled");},widget:function(){return this.element;},option:function(f,g){var e=f;if(arguments.length===0){return b.extend({},this.options);}if(typeof f==="string"){if(g===d){return this.options[f];}e={};e[f]=g;}this._setOptions(e);return this;},_setOptions:function(f){var e=this;b.each(f,function(g,h){e._setOption(g,h);});return this;},_setOption:function(e,f){this.options[e]=f;if(e==="disabled"){this.widget()[f?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",f);}return this;},enable:function(){return this._setOption("disabled",false);},disable:function(){return this._setOption("disabled",true);},_trigger:function(e,f,g){var l,k,h=this.options[e];g=g||{};f=b.Event(f);f.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase();f.target=this.element[0];k=f.originalEvent;if(k){for(l in k){if(!(l in f)){f[l]=k[l];}}}this.element.trigger(f,g);return !(b.isFunction(h)&&h.call(this.element[0],f,g)===false||f.isDefaultPrevented());}};})(jQuery);
/*!
 * jQuery UI Mouse 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(b,c){var a=false;b(document).mouseup(function(d){a=false;});b.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var d=this;this.element.bind("mousedown."+this.widgetName,function(e){return d._mouseDown(e);}).bind("click."+this.widgetName,function(e){if(true===b.data(e.target,d.widgetName+".preventClickEvent")){b.removeData(e.target,d.widgetName+".preventClickEvent");e.stopImmediatePropagation();return false;}});this.started=false;},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);}},_mouseDown:function(f){if(a){return;}(this._mouseStarted&&this._mouseUp(f));this._mouseDownEvent=f;var e=this,g=(f.which==1),d=(typeof this.options.cancel=="string"&&f.target.nodeName?b(f.target).closest(this.options.cancel).length:false);if(!g||d||!this._mouseCapture(f)){return true;}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=true;},this.options.delay);}if(this._mouseDistanceMet(f)&&this._mouseDelayMet(f)){this._mouseStarted=(this._mouseStart(f)!==false);if(!this._mouseStarted){f.preventDefault();return true;}}if(true===b.data(f.target,this.widgetName+".preventClickEvent")){b.removeData(f.target,this.widgetName+".preventClickEvent");}this._mouseMoveDelegate=function(h){return e._mouseMove(h);};this._mouseUpDelegate=function(h){return e._mouseUp(h);};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);f.preventDefault();a=true;return true;},_mouseMove:function(d){if(b.browser.msie&&!(document.documentMode>=9)&&!d.button){return this._mouseUp(d);}if(this._mouseStarted){this._mouseDrag(d);return d.preventDefault();}if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,d)!==false);(this._mouseStarted?this._mouseDrag(d):this._mouseUp(d));}return !this._mouseStarted;},_mouseUp:function(d){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(d.target==this._mouseDownEvent.target){b.data(d.target,this.widgetName+".preventClickEvent",true);}this._mouseStop(d);}return false;},_mouseDistanceMet:function(d){return(Math.max(Math.abs(this._mouseDownEvent.pageX-d.pageX),Math.abs(this._mouseDownEvent.pageY-d.pageY))>=this.options.distance);},_mouseDelayMet:function(d){return this.mouseDelayMet;},_mouseStart:function(d){},_mouseDrag:function(d){},_mouseStop:function(d){},_mouseCapture:function(d){return true;}});})(jQuery);
/*!
 * jQuery UI Position 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Position
 */
(function(g,h){g.ui=g.ui||{};var d=/left|center|right/,e=/top|center|bottom/,a="center",f={},b=g.fn.position,c=g.fn.offset;g.fn.position=function(l){if(!l||!l.of){return b.apply(this,arguments);}l=g.extend({},l);var p=g(l.of),o=p[0],r=(l.collision||"flip").split(" "),q=l.offset?l.offset.split(" "):[0,0],n,k,m;if(o.nodeType===9){n=p.width();k=p.height();m={top:0,left:0};}else{if(o.setTimeout){n=p.width();k=p.height();m={top:p.scrollTop(),left:p.scrollLeft()};}else{if(o.preventDefault){l.at="left top";n=k=0;m={top:l.of.pageY,left:l.of.pageX};}else{n=p.outerWidth();k=p.outerHeight();m=p.offset();}}}g.each(["my","at"],function(){var t=(l[this]||"").split(" ");if(t.length===1){t=d.test(t[0])?t.concat([a]):e.test(t[0])?[a].concat(t):[a,a];}t[0]=d.test(t[0])?t[0]:a;t[1]=e.test(t[1])?t[1]:a;l[this]=t;});if(r.length===1){r[1]=r[0];}q[0]=parseInt(q[0],10)||0;if(q.length===1){q[1]=q[0];}q[1]=parseInt(q[1],10)||0;if(l.at[0]==="right"){m.left+=n;}else{if(l.at[0]===a){m.left+=n/2;}}if(l.at[1]==="bottom"){m.top+=k;}else{if(l.at[1]===a){m.top+=k/2;}}m.left+=q[0];m.top+=q[1];return this.each(function(){var w=g(this),y=w.outerWidth(),v=w.outerHeight(),x=parseInt(g.curCSS(this,"marginLeft",true))||0,u=parseInt(g.curCSS(this,"marginTop",true))||0,A=y+x+(parseInt(g.curCSS(this,"marginRight",true))||0),B=v+u+(parseInt(g.curCSS(this,"marginBottom",true))||0),z=g.extend({},m),t;if(l.my[0]==="right"){z.left-=y;}else{if(l.my[0]===a){z.left-=y/2;}}if(l.my[1]==="bottom"){z.top-=v;}else{if(l.my[1]===a){z.top-=v/2;}}if(!f.fractions){z.left=Math.round(z.left);z.top=Math.round(z.top);}t={left:z.left-x,top:z.top-u};g.each(["left","top"],function(D,C){if(g.ui.position[r[D]]){g.ui.position[r[D]][C](z,{targetWidth:n,targetHeight:k,elemWidth:y,elemHeight:v,collisionPosition:t,collisionWidth:A,collisionHeight:B,offset:q,my:l.my,at:l.at});}});if(g.fn.bgiframe){w.bgiframe();}w.offset(g.extend(z,{using:l.using}));});};g.ui.position={fit:{left:function(k,l){var n=g(window),m=l.collisionPosition.left+l.collisionWidth-n.width()-n.scrollLeft();k.left=m>0?k.left-m:Math.max(k.left-l.collisionPosition.left,k.left);},top:function(k,l){var n=g(window),m=l.collisionPosition.top+l.collisionHeight-n.height()-n.scrollTop();k.top=m>0?k.top-m:Math.max(k.top-l.collisionPosition.top,k.top);}},flip:{left:function(l,n){if(n.at[0]===a){return;}var p=g(window),o=n.collisionPosition.left+n.collisionWidth-p.width()-p.scrollLeft(),k=n.my[0]==="left"?-n.elemWidth:n.my[0]==="right"?n.elemWidth:0,m=n.at[0]==="left"?n.targetWidth:-n.targetWidth,q=-2*n.offset[0];l.left+=n.collisionPosition.left<0?k+m+q:o>0?k+m+q:0;},top:function(l,n){if(n.at[1]===a){return;}var p=g(window),o=n.collisionPosition.top+n.collisionHeight-p.height()-p.scrollTop(),k=n.my[1]==="top"?-n.elemHeight:n.my[1]==="bottom"?n.elemHeight:0,m=n.at[1]==="top"?n.targetHeight:-n.targetHeight,q=-2*n.offset[1];l.top+=n.collisionPosition.top<0?k+m+q:o>0?k+m+q:0;}}};if(!g.offset.setOffset){g.offset.setOffset=function(o,l){if(/static/.test(g.curCSS(o,"position"))){o.style.position="relative";}var n=g(o),q=n.offset(),k=parseInt(g.curCSS(o,"top",true),10)||0,p=parseInt(g.curCSS(o,"left",true),10)||0,m={top:(l.top-q.top)+k,left:(l.left-q.left)+p};if("using" in l){l.using.call(o,m);}else{n.css(m);}};g.fn.offset=function(k){var l=this[0];if(!l||!l.ownerDocument){return null;}if(k){if(g.isFunction(k)){return this.each(function(m){g(this).offset(k.call(this,m,g(this).offset()));});}return this.each(function(){g.offset.setOffset(this,k);});}return c.call(this);};}if(!g.curCSS){g.curCSS=g.css;}(function(){var k=document.getElementsByTagName("body")[0],r=document.createElement("div"),o,q,l,p,n;o=document.createElement(k?"div":"body");l={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(k){g.extend(l,{position:"absolute",left:"-1000px",top:"-1000px"});}for(var m in l){o.style[m]=l[m];}o.appendChild(r);q=k||document.documentElement;q.insertBefore(o,q.firstChild);r.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;";p=g(r).offset(function(t,u){return u;}).offset();o.innerHTML="";q.removeChild(o);n=p.top+p.left+(k?2000:0);f.fractions=n>21&&n<22;})();}(jQuery));
/*!
 * jQuery UI Draggable 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Draggables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function(a,b){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative";}(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit();},destroy:function(){if(!this.element.data("draggable")){return;}this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this;},_mouseCapture:function(c){var d=this.options;if(this.helper||d.disabled||a(c.target).is(".ui-resizable-handle")){return false;}this.handle=this._getHandle(c);if(!this.handle){return false;}if(d.iframeFix){a(d.iframeFix===true?"iframe":d.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body");});}return true;},_mouseStart:function(c){var d=this.options;this.helper=this._createHelper(c);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this;}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;(d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt));if(d.containment){this._setContainment();}if(this._trigger("start",c)===false){this._clear();return false;}this._cacheHelperProportions();if(a.ui.ddmanager&&!d.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,c);}this._mouseDrag(c,true);if(a.ui.ddmanager){a.ui.ddmanager.dragStart(this,c);}return true;},_mouseDrag:function(c,e){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!e){var d=this._uiHash();if(this._trigger("drag",c,d)===false){this._mouseUp({});return false;}this.position=d.position;}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px";}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px";}if(a.ui.ddmanager){a.ui.ddmanager.drag(this,c);}return false;},_mouseStop:function(e){var g=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){g=a.ui.ddmanager.drop(this,e);}if(this.dropped){g=this.dropped;this.dropped=false;}var d=this.element[0],f=false;while(d&&(d=d.parentNode)){if(d==document){f=true;}}if(!f&&this.options.helper==="original"){return false;}if((this.options.revert=="invalid"&&!g)||(this.options.revert=="valid"&&g)||this.options.revert===true||(a.isFunction(this.options.revert)&&this.options.revert.call(this.element,g))){var c=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(c._trigger("stop",e)!==false){c._clear();}});}else{if(this._trigger("stop",e)!==false){this._clear();}}return false;},_mouseUp:function(c){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this);});if(a.ui.ddmanager){a.ui.ddmanager.dragStop(this,c);}return a.ui.mouse.prototype._mouseUp.call(this,c);},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({});}else{this._clear();}return this;},_getHandle:function(c){var d=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==c.target){d=true;}});return d;},_createHelper:function(d){var e=this.options;var c=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[d])):(e.helper=="clone"?this.element.clone().removeAttr("id"):this.element);if(!c.parents("body").length){c.appendTo((e.appendTo=="parent"?this.element[0].parentNode:e.appendTo));}if(c[0]!=this.element[0]&&!(/(fixed|absolute)/).test(c.css("position"))){c.css("position","absolute");}return c;},_adjustOffsetFromHelper:function(c){if(typeof c=="string"){c=c.split(" ");}if(a.isArray(c)){c={left:+c[0],top:+c[1]||0};}if("left" in c){this.offset.click.left=c.left+this.margins.left;}if("right" in c){this.offset.click.left=this.helperProportions.width-c.right+this.margins.left;}if("top" in c){this.offset.click.top=c.top+this.margins.top;}if("bottom" in c){this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top;}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop();}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)){c={top:0,left:0};}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.element.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}else{return{top:0,left:0};}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var g=this.options;if(g.containment=="parent"){g.containment=this.helper[0].parentNode;}if(g.containment=="document"||g.containment=="window"){this.containment=[g.containment=="document"?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,g.containment=="document"?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(g.containment=="document"?0:a(window).scrollLeft())+a(g.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(g.containment=="document"?0:a(window).scrollTop())+(a(g.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];}if(!(/^(document|window|parent)$/).test(g.containment)&&g.containment.constructor!=Array){var h=a(g.containment);var e=h[0];if(!e){return;}var f=h.offset();var d=(a(e).css("overflow")!="hidden");this.containment=[(parseInt(a(e).css("borderLeftWidth"),10)||0)+(parseInt(a(e).css("paddingLeft"),10)||0),(parseInt(a(e).css("borderTopWidth"),10)||0)+(parseInt(a(e).css("paddingTop"),10)||0),(d?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(a(e).css("borderLeftWidth"),10)||0)-(parseInt(a(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(a(e).css("borderTopWidth"),10)||0)-(parseInt(a(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=h;}else{if(g.containment.constructor==Array){this.containment=g.containment;}}},_convertPositionTo:function(g,k){if(!k){k=this.position;}var e=g=="absolute"?1:-1;var f=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=(/(html|body)/i).test(c[0].tagName);return{top:(k.top+this.offset.relative.top*e+this.offset.parent.top*e-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(h?0:c.scrollTop()))*e)),left:(k.left+this.offset.relative.left*e+this.offset.parent.left*e-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:c.scrollLeft())*e))};},_generatePosition:function(d){var e=this.options,n=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,k=(/(html|body)/i).test(n[0].tagName);var h=d.pageX;var g=d.pageY;if(this.originalPosition){var c;if(this.containment){if(this.relative_container){var m=this.relative_container.offset();c=[this.containment[0]+m.left,this.containment[1]+m.top,this.containment[2]+m.left,this.containment[3]+m.top];}else{c=this.containment;}if(d.pageX-this.offset.click.left<c[0]){h=c[0]+this.offset.click.left;}if(d.pageY-this.offset.click.top<c[1]){g=c[1]+this.offset.click.top;}if(d.pageX-this.offset.click.left>c[2]){h=c[2]+this.offset.click.left;}if(d.pageY-this.offset.click.top>c[3]){g=c[3]+this.offset.click.top;}}if(e.grid){var l=e.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1]:this.originalPageY;g=c?(!(l-this.offset.click.top<c[1]||l-this.offset.click.top>c[3])?l:(!(l-this.offset.click.top<c[1])?l-e.grid[1]:l+e.grid[1])):l;var f=e.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/e.grid[0])*e.grid[0]:this.originalPageX;h=c?(!(f-this.offset.click.left<c[0]||f-this.offset.click.left>c[2])?f:(!(f-this.offset.click.left<c[0])?f-e.grid[0]:f+e.grid[0])):f;}}return{top:(g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(k?0:n.scrollTop())))),left:(h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():k?0:n.scrollLeft())))};},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval){this.helper.remove();}this.helper=null;this.cancelHelperRemoval=false;},_trigger:function(c,d,e){e=e||this._uiHash();a.ui.plugin.call(this,c,[d,e]);if(c=="drag"){this.positionAbs=this._convertPositionTo("absolute");}return a.Widget.prototype._trigger.call(this,c,d,e);},plugins:{},_uiHash:function(c){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs};}});a.extend(a.ui.draggable,{version:"1.8.24"});a.ui.plugin.add("draggable","connectToSortable",{start:function(d,f){var e=a(this).data("draggable"),g=e.options,c=a.extend({},f,{item:e.element});e.sortables=[];a(g.connectToSortable).each(function(){var h=a.data(this,"sortable");if(h&&!h.options.disabled){e.sortables.push({instance:h,shouldRevert:h.options.revert});h.refreshPositions();h._trigger("activate",d,c);}});},stop:function(d,f){var e=a(this).data("draggable"),c=a.extend({},f,{item:e.element});a.each(e.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;e.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true;}this.instance._mouseStop(d);this.instance.options.helper=this.instance.options._helper;if(e.options.helper=="original"){this.instance.currentItem.css({top:"auto",left:"auto"});}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",d,c);}});},drag:function(d,g){var f=a(this).data("draggable"),c=this;var e=function(l){var r=this.offset.click.top,q=this.offset.click.left;var h=this.positionAbs.top,n=this.positionAbs.left;var m=l.height,p=l.width;var t=l.top,k=l.left;return a.ui.isOver(h+r,n+q,t,k,m,p);};a.each(f.sortables,function(h){this.instance.positionAbs=f.positionAbs;this.instance.helperProportions=f.helperProportions;this.instance.offset.click=f.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(c).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return g.helper[0];};d.target=this.instance.currentItem[0];this.instance._mouseCapture(d,true);this.instance._mouseStart(d,true,true);this.instance.offset.click.top=f.offset.click.top;this.instance.offset.click.left=f.offset.click.left;this.instance.offset.parent.left-=f.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=f.offset.parent.top-this.instance.offset.parent.top;f._trigger("toSortable",d);f.dropped=this.instance.element;f.currentItem=f.element;this.instance.fromOutside=f;}if(this.instance.currentItem){this.instance._mouseDrag(d);}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",d,this.instance._uiHash(this.instance));this.instance._mouseStop(d,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove();}f._trigger("fromSortable",d);f.dropped=false;}}});}});a.ui.plugin.add("draggable","cursor",{start:function(d,e){var c=a("body"),f=a(this).data("draggable").options;if(c.css("cursor")){f._cursor=c.css("cursor");}c.css("cursor",f.cursor);},stop:function(c,d){var e=a(this).data("draggable").options;if(e._cursor){a("body").css("cursor",e._cursor);}}});a.ui.plugin.add("draggable","opacity",{start:function(d,e){var c=a(e.helper),f=a(this).data("draggable").options;if(c.css("opacity")){f._opacity=c.css("opacity");}c.css("opacity",f.opacity);},stop:function(c,d){var e=a(this).data("draggable").options;if(e._opacity){a(d.helper).css("opacity",e._opacity);}}});a.ui.plugin.add("draggable","scroll",{start:function(d,e){var c=a(this).data("draggable");if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML"){c.overflowOffset=c.scrollParent.offset();}},drag:function(e,f){var d=a(this).data("draggable"),g=d.options,c=false;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!g.axis||g.axis!="x"){if((d.overflowOffset.top+d.scrollParent[0].offsetHeight)-e.pageY<g.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop+g.scrollSpeed;}else{if(e.pageY-d.overflowOffset.top<g.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop-g.scrollSpeed;}}}if(!g.axis||g.axis!="y"){if((d.overflowOffset.left+d.scrollParent[0].offsetWidth)-e.pageX<g.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft+g.scrollSpeed;}else{if(e.pageX-d.overflowOffset.left<g.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft-g.scrollSpeed;}}}}else{if(!g.axis||g.axis!="x"){if(e.pageY-a(document).scrollTop()<g.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed);}else{if(a(window).height()-(e.pageY-a(document).scrollTop())<g.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed);}}}if(!g.axis||g.axis!="y"){if(e.pageX-a(document).scrollLeft()<g.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed);}else{if(a(window).width()-(e.pageX-a(document).scrollLeft())<g.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed);}}}}if(c!==false&&a.ui.ddmanager&&!g.dropBehaviour){a.ui.ddmanager.prepareOffsets(d,e);}}});a.ui.plugin.add("draggable","snap",{start:function(d,e){var c=a(this).data("draggable"),f=c.options;c.snapElements=[];a(f.snap.constructor!=String?(f.snap.items||":data(draggable)"):f.snap).each(function(){var h=a(this);var g=h.offset();if(this!=c.element[0]){c.snapElements.push({item:this,width:h.outerWidth(),height:h.outerHeight(),top:g.top,left:g.left});}});},drag:function(w,q){var g=a(this).data("draggable"),u=g.options;var A=u.snapTolerance;var z=q.offset.left,y=z+g.helperProportions.width,f=q.offset.top,e=f+g.helperProportions.height;for(var x=g.snapElements.length-1;x>=0;x--){var v=g.snapElements[x].left,p=v+g.snapElements[x].width,n=g.snapElements[x].top,C=n+g.snapElements[x].height;if(!((v-A<z&&z<p+A&&n-A<f&&f<C+A)||(v-A<z&&z<p+A&&n-A<e&&e<C+A)||(v-A<y&&y<p+A&&n-A<f&&f<C+A)||(v-A<y&&y<p+A&&n-A<e&&e<C+A))){if(g.snapElements[x].snapping){(g.options.snap.release&&g.options.snap.release.call(g.element,w,a.extend(g._uiHash(),{snapItem:g.snapElements[x].item})));}g.snapElements[x].snapping=false;continue;}if(u.snapMode!="inner"){var c=Math.abs(n-e)<=A;var B=Math.abs(C-f)<=A;var k=Math.abs(v-y)<=A;var m=Math.abs(p-z)<=A;if(c){q.position.top=g._convertPositionTo("relative",{top:n-g.helperProportions.height,left:0}).top-g.margins.top;}if(B){q.position.top=g._convertPositionTo("relative",{top:C,left:0}).top-g.margins.top;}if(k){q.position.left=g._convertPositionTo("relative",{top:0,left:v-g.helperProportions.width}).left-g.margins.left;}if(m){q.position.left=g._convertPositionTo("relative",{top:0,left:p}).left-g.margins.left;}}var h=(c||B||k||m);if(u.snapMode!="outer"){var c=Math.abs(n-f)<=A;var B=Math.abs(C-e)<=A;var k=Math.abs(v-z)<=A;var m=Math.abs(p-y)<=A;if(c){q.position.top=g._convertPositionTo("relative",{top:n,left:0}).top-g.margins.top;}if(B){q.position.top=g._convertPositionTo("relative",{top:C-g.helperProportions.height,left:0}).top-g.margins.top;}if(k){q.position.left=g._convertPositionTo("relative",{top:0,left:v}).left-g.margins.left;}if(m){q.position.left=g._convertPositionTo("relative",{top:0,left:p-g.helperProportions.width}).left-g.margins.left;}}if(!g.snapElements[x].snapping&&(c||B||k||m||h)){(g.options.snap.snap&&g.options.snap.snap.call(g.element,w,a.extend(g._uiHash(),{snapItem:g.snapElements[x].item})));}g.snapElements[x].snapping=(c||B||k||m||h);}}});a.ui.plugin.add("draggable","stack",{start:function(d,e){var g=a(this).data("draggable").options;var f=a.makeArray(a(g.stack)).sort(function(k,h){return(parseInt(a(k).css("zIndex"),10)||0)-(parseInt(a(h).css("zIndex"),10)||0);});if(!f.length){return;}var c=parseInt(f[0].style.zIndex)||0;a(f).each(function(h){this.style.zIndex=c+h;});this[0].style.zIndex=c+f.length;}});a.ui.plugin.add("draggable","zIndex",{start:function(d,e){var c=a(e.helper),f=a(this).data("draggable").options;if(c.css("zIndex")){f._zIndex=c.css("zIndex");}c.css("zIndex",f.zIndex);},stop:function(c,d){var e=a(this).data("draggable").options;if(e._zIndex){a(d.helper).css("zIndex",e._zIndex);}}});})(jQuery);
/*!
 * jQuery UI Resizable 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Resizables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function(c,d){c.widget("ui.resizable",c.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var f=this,l=this.options;this.element.addClass("ui-resizable");c.extend(this,{_aspectRatio:!!(l.aspectRatio),aspectRatio:l.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:l.helper||l.ghost||l.animate?l.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap(c('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize();}this.handles=l.handles||(!c(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all"){this.handles="n,e,s,w,se,sw,ne,nw";}var m=this.handles.split(",");this.handles={};for(var g=0;g<m.length;g++){var k=c.trim(m[g]),e="ui-resizable-"+k;var h=c('<div class="ui-resizable-handle '+e+'"></div>');h.css({zIndex:l.zIndex});if("se"==k){h.addClass("ui-icon ui-icon-gripsmall-diagonal-se");}this.handles[k]=".ui-resizable-"+k;this.element.append(h);}}this._renderAxis=function(r){r=r||this.element;for(var o in this.handles){if(this.handles[o].constructor==String){this.handles[o]=c(this.handles[o],this.element).show();}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var p=c(this.handles[o],this.element),q=0;q=/sw|ne|nw|se|n|s/.test(o)?p.outerHeight():p.outerWidth();var n=["padding",/ne|nw|n/.test(o)?"Top":/se|sw|s/.test(o)?"Bottom":/^e$/.test(o)?"Right":"Left"].join("");r.css(n,q);this._proportionallyResize();}if(!c(this.handles[o]).length){continue;}}};this._renderAxis(this.element);this._handles=c(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!f.resizing){if(this.className){var n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);}f.axis=n&&n[1]?n[1]:"se";}});if(l.autoHide){this._handles.hide();c(this.element).addClass("ui-resizable-autohide").hover(function(){if(l.disabled){return;}c(this).removeClass("ui-resizable-autohide");f._handles.show();},function(){if(l.disabled){return;}if(!f.resizing){c(this).addClass("ui-resizable-autohide");f._handles.hide();}});}this._mouseInit();},destroy:function(){this._mouseDestroy();var e=function(g){c(g).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove();};if(this.elementIsWrapper){e(this.element);var f=this.element;f.after(this.originalElement.css({position:f.css("position"),width:f.outerWidth(),height:f.outerHeight(),top:f.css("top"),left:f.css("left")})).remove();}this.originalElement.css("resize",this.originalResizeStyle);e(this.originalElement);return this;},_mouseCapture:function(f){var g=false;for(var e in this.handles){if(c(this.handles[e])[0]==f.target){g=true;}}return !this.options.disabled&&g;},_mouseStart:function(g){var l=this.options,f=this.element.position(),e=this.element;this.resizing=true;this.documentScroll={top:c(document).scrollTop(),left:c(document).scrollLeft()};if(e.is(".ui-draggable")||(/absolute/).test(e.css("position"))){e.css({position:"absolute",top:f.top,left:f.left});}this._renderProxy();var m=b(this.helper.css("left")),h=b(this.helper.css("top"));if(l.containment){m+=c(l.containment).scrollLeft()||0;h+=c(l.containment).scrollTop()||0;}this.offset=this.helper.offset();this.position={left:m,top:h};this.size=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalSize=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalPosition={left:m,top:h};this.sizeDiff={width:e.outerWidth()-e.width(),height:e.outerHeight()-e.height()};this.originalMousePosition={left:g.pageX,top:g.pageY};this.aspectRatio=(typeof l.aspectRatio=="number")?l.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);var k=c(".ui-resizable-"+this.axis).css("cursor");c("body").css("cursor",k=="auto"?this.axis+"-resize":k);e.addClass("ui-resizable-resizing");this._propagate("start",g);return true;},_mouseDrag:function(e){var h=this.helper,g=this.options,p={},t=this,l=this.originalMousePosition,q=this.axis;var u=(e.pageX-l.left)||0,r=(e.pageY-l.top)||0;var k=this._change[q];if(!k){return false;}var n=k.apply(this,[e,u,r]),m=c.browser.msie&&c.browser.version<7,f=this.sizeDiff;this._updateVirtualBoundaries(e.shiftKey);if(this._aspectRatio||e.shiftKey){n=this._updateRatio(n,e);}n=this._respectSize(n,e);this._propagate("resize",e);h.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize();}this._updateCache(n);this._trigger("resize",e,this.ui());return false;},_mouseStop:function(h){this.resizing=false;var k=this.options,p=this;if(this._helper){var g=this._proportionallyResizeElements,e=g.length&&(/textarea/i).test(g[0].nodeName),f=e&&c.ui.hasScroll(g[0],"left")?0:p.sizeDiff.height,m=e?0:p.sizeDiff.width;var q={width:(p.helper.width()-m),height:(p.helper.height()-f)},l=(parseInt(p.element.css("left"),10)+(p.position.left-p.originalPosition.left))||null,n=(parseInt(p.element.css("top"),10)+(p.position.top-p.originalPosition.top))||null;if(!k.animate){this.element.css(c.extend(q,{top:n,left:l}));}p.helper.height(p.size.height);p.helper.width(p.size.width);if(this._helper&&!k.animate){this._proportionallyResize();}}c("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",h);if(this._helper){this.helper.remove();}return false;},_updateVirtualBoundaries:function(g){var l=this.options,k,h,f,m,e;e={minWidth:a(l.minWidth)?l.minWidth:0,maxWidth:a(l.maxWidth)?l.maxWidth:Infinity,minHeight:a(l.minHeight)?l.minHeight:0,maxHeight:a(l.maxHeight)?l.maxHeight:Infinity};if(this._aspectRatio||g){k=e.minHeight*this.aspectRatio;f=e.minWidth/this.aspectRatio;h=e.maxHeight*this.aspectRatio;m=e.maxWidth/this.aspectRatio;if(k>e.minWidth){e.minWidth=k;}if(f>e.minHeight){e.minHeight=f;}if(h<e.maxWidth){e.maxWidth=h;}if(m<e.maxHeight){e.maxHeight=m;}}this._vBoundaries=e;},_updateCache:function(e){var f=this.options;this.offset=this.helper.offset();if(a(e.left)){this.position.left=e.left;}if(a(e.top)){this.position.top=e.top;}if(a(e.height)){this.size.height=e.height;}if(a(e.width)){this.size.width=e.width;}},_updateRatio:function(h,g){var k=this.options,l=this.position,f=this.size,e=this.axis;if(a(h.height)){h.width=(h.height*this.aspectRatio);}else{if(a(h.width)){h.height=(h.width/this.aspectRatio);}}if(e=="sw"){h.left=l.left+(f.width-h.width);h.top=null;}if(e=="nw"){h.top=l.top+(f.height-h.height);h.left=l.left+(f.width-h.width);}return h;},_respectSize:function(n,g){var l=this.helper,k=this._vBoundaries,u=this._aspectRatio||g.shiftKey,t=this.axis,w=a(n.width)&&k.maxWidth&&(k.maxWidth<n.width),p=a(n.height)&&k.maxHeight&&(k.maxHeight<n.height),h=a(n.width)&&k.minWidth&&(k.minWidth>n.width),v=a(n.height)&&k.minHeight&&(k.minHeight>n.height);if(h){n.width=k.minWidth;}if(v){n.height=k.minHeight;}if(w){n.width=k.maxWidth;}if(p){n.height=k.maxHeight;}var f=this.originalPosition.left+this.originalSize.width,r=this.position.top+this.size.height;var m=/sw|nw|w/.test(t),e=/nw|ne|n/.test(t);if(h&&m){n.left=f-k.minWidth;}if(w&&m){n.left=f-k.maxWidth;}if(v&&e){n.top=r-k.minHeight;}if(p&&e){n.top=r-k.maxHeight;}var q=!n.width&&!n.height;if(q&&!n.left&&n.top){n.top=null;}else{if(q&&!n.top&&n.left){n.left=null;}}return n;},_proportionallyResize:function(){var l=this.options;if(!this._proportionallyResizeElements.length){return;}var g=this.helper||this.element;for(var f=0;f<this._proportionallyResizeElements.length;f++){var h=this._proportionallyResizeElements[f];if(!this.borderDif){var e=[h.css("borderTopWidth"),h.css("borderRightWidth"),h.css("borderBottomWidth"),h.css("borderLeftWidth")],k=[h.css("paddingTop"),h.css("paddingRight"),h.css("paddingBottom"),h.css("paddingLeft")];this.borderDif=c.map(e,function(m,o){var n=parseInt(m,10)||0,p=parseInt(k[o],10)||0;return n+p;});}if(c.browser.msie&&!(!(c(g).is(":hidden")||c(g).parents(":hidden").length))){continue;}h.css({height:(g.height()-this.borderDif[0]-this.borderDif[2])||0,width:(g.width()-this.borderDif[1]-this.borderDif[3])||0});}},_renderProxy:function(){var f=this.element,k=this.options;this.elementOffset=f.offset();if(this._helper){this.helper=this.helper||c('<div style="overflow:hidden;"></div>');var e=c.browser.msie&&c.browser.version<7,g=(e?1:0),h=(e?2:-1);this.helper.addClass(this._helper).css({width:this.element.outerWidth()+h,height:this.element.outerHeight()+h,position:"absolute",left:this.elementOffset.left-g+"px",top:this.elementOffset.top-g+"px",zIndex:++k.zIndex});this.helper.appendTo("body").disableSelection();}else{this.helper=this.element;}},_change:{e:function(g,f,e){return{width:this.originalSize.width+f};},w:function(h,f,e){var l=this.options,g=this.originalSize,k=this.originalPosition;return{left:k.left+f,width:g.width-f};},n:function(h,f,e){var l=this.options,g=this.originalSize,k=this.originalPosition;return{top:k.top+e,height:g.height-e};},s:function(g,f,e){return{height:this.originalSize.height+e};},se:function(g,f,e){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[g,f,e]));},sw:function(g,f,e){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[g,f,e]));},ne:function(g,f,e){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[g,f,e]));},nw:function(g,f,e){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[g,f,e]));}},_propagate:function(f,e){c.ui.plugin.call(this,f,[e,this.ui()]);(f!="resize"&&this._trigger(f,e,this.ui()));},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition};}});c.extend(c.ui.resizable,{version:"1.8.24"});c.ui.plugin.add("resizable","alsoResize",{start:function(f,g){var e=c(this).data("resizable"),k=e.options;var h=function(l){c(l).each(function(){var m=c(this);m.data("resizable-alsoresize",{width:parseInt(m.width(),10),height:parseInt(m.height(),10),left:parseInt(m.css("left"),10),top:parseInt(m.css("top"),10)});});};if(typeof(k.alsoResize)=="object"&&!k.alsoResize.parentNode){if(k.alsoResize.length){k.alsoResize=k.alsoResize[0];h(k.alsoResize);}else{c.each(k.alsoResize,function(l){h(l);});}}else{h(k.alsoResize);}},resize:function(g,k){var f=c(this).data("resizable"),l=f.options,h=f.originalSize,n=f.originalPosition;var m={height:(f.size.height-h.height)||0,width:(f.size.width-h.width)||0,top:(f.position.top-n.top)||0,left:(f.position.left-n.left)||0},e=function(o,p){c(o).each(function(){var t=c(this),u=c(this).data("resizable-alsoresize"),r={},q=p&&p.length?p:t.parents(k.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(q,function(v,x){var w=(u[x]||0)+(m[x]||0);if(w&&w>=0){r[x]=w||null;}});t.css(r);});};if(typeof(l.alsoResize)=="object"&&!l.alsoResize.nodeType){c.each(l.alsoResize,function(o,p){e(o,p);});}else{e(l.alsoResize);}},stop:function(e,f){c(this).removeData("resizable-alsoresize");}});c.ui.plugin.add("resizable","animate",{stop:function(k,q){var r=c(this).data("resizable"),l=r.options;var h=r._proportionallyResizeElements,e=h.length&&(/textarea/i).test(h[0].nodeName),f=e&&c.ui.hasScroll(h[0],"left")?0:r.sizeDiff.height,n=e?0:r.sizeDiff.width;var g={width:(r.size.width-n),height:(r.size.height-f)},m=(parseInt(r.element.css("left"),10)+(r.position.left-r.originalPosition.left))||null,p=(parseInt(r.element.css("top"),10)+(r.position.top-r.originalPosition.top))||null;r.element.animate(c.extend(g,p&&m?{top:p,left:m}:{}),{duration:l.animateDuration,easing:l.animateEasing,step:function(){var o={width:parseInt(r.element.css("width"),10),height:parseInt(r.element.css("height"),10),top:parseInt(r.element.css("top"),10),left:parseInt(r.element.css("left"),10)};if(h&&h.length){c(h[0]).css({width:o.width,height:o.height});}r._updateCache(o);r._propagate("resize",k);}});}});c.ui.plugin.add("resizable","containment",{start:function(f,u){var w=c(this).data("resizable"),l=w.options,n=w.element;var g=l.containment,m=(g instanceof c)?g.get(0):(/parent/.test(g))?n.parent().get(0):g;if(!m){return;}w.containerElement=c(m);if(/document/.test(g)||g==document){w.containerOffset={left:0,top:0};w.containerPosition={left:0,top:0};w.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight};}else{var r=c(m),k=[];c(["Top","Right","Left","Bottom"]).each(function(p,o){k[p]=b(r.css("padding"+o));});w.containerOffset=r.offset();w.containerPosition=r.position();w.containerSize={height:(r.innerHeight()-k[3]),width:(r.innerWidth()-k[1])};var t=w.containerOffset,e=w.containerSize.height,q=w.containerSize.width,h=(c.ui.hasScroll(m,"left")?m.scrollWidth:q),v=(c.ui.hasScroll(m)?m.scrollHeight:e);w.parentData={element:m,left:t.left,top:t.top,width:h,height:v};}},resize:function(g,t){var w=c(this).data("resizable"),k=w.options,f=w.containerSize,r=w.containerOffset,p=w.size,q=w.position,u=w._aspectRatio||g.shiftKey,e={top:0,left:0},h=w.containerElement;if(h[0]!=document&&(/static/).test(h.css("position"))){e=r;}if(q.left<(w._helper?r.left:0)){w.size.width=w.size.width+(w._helper?(w.position.left-r.left):(w.position.left-e.left));if(u){w.size.height=w.size.width/w.aspectRatio;}w.position.left=k.helper?r.left:0;}if(q.top<(w._helper?r.top:0)){w.size.height=w.size.height+(w._helper?(w.position.top-r.top):w.position.top);if(u){w.size.width=w.size.height*w.aspectRatio;}w.position.top=w._helper?r.top:0;}w.offset.left=w.parentData.left+w.position.left;w.offset.top=w.parentData.top+w.position.top;var n=Math.abs((w._helper?w.offset.left-e.left:(w.offset.left-e.left))+w.sizeDiff.width),v=Math.abs((w._helper?w.offset.top-e.top:(w.offset.top-r.top))+w.sizeDiff.height);var m=w.containerElement.get(0)==w.element.parent().get(0),l=/relative|absolute/.test(w.containerElement.css("position"));if(m&&l){n-=w.parentData.left;}if(n+w.size.width>=w.parentData.width){w.size.width=w.parentData.width-n;if(u){w.size.height=w.size.width/w.aspectRatio;}}if(v+w.size.height>=w.parentData.height){w.size.height=w.parentData.height-v;if(u){w.size.width=w.size.height*w.aspectRatio;}}},stop:function(f,q){var t=c(this).data("resizable"),g=t.options,n=t.position,p=t.containerOffset,e=t.containerPosition,k=t.containerElement;var l=c(t.helper),u=l.offset(),r=l.outerWidth()-t.sizeDiff.width,m=l.outerHeight()-t.sizeDiff.height;if(t._helper&&!g.animate&&(/relative/).test(k.css("position"))){c(this).css({left:u.left-e.left-p.left,width:r,height:m});}if(t._helper&&!g.animate&&(/static/).test(k.css("position"))){c(this).css({left:u.left-e.left-p.left,width:r,height:m});}}});c.ui.plugin.add("resizable","ghost",{start:function(g,h){var e=c(this).data("resizable"),k=e.options,f=e.size;e.ghost=e.originalElement.clone();e.ghost.css({opacity:0.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof k.ghost=="string"?k.ghost:"");e.ghost.appendTo(e.helper);},resize:function(f,g){var e=c(this).data("resizable"),h=e.options;if(e.ghost){e.ghost.css({position:"relative",height:e.size.height,width:e.size.width});}},stop:function(f,g){var e=c(this).data("resizable"),h=e.options;if(e.ghost&&e.helper){e.helper.get(0).removeChild(e.ghost.get(0));}}});c.ui.plugin.add("resizable","grid",{resize:function(e,p){var r=c(this).data("resizable"),h=r.options,m=r.size,k=r.originalSize,l=r.originalPosition,q=r.axis,n=h._aspectRatio||e.shiftKey;h.grid=typeof h.grid=="number"?[h.grid,h.grid]:h.grid;var g=Math.round((m.width-k.width)/(h.grid[0]||1))*(h.grid[0]||1),f=Math.round((m.height-k.height)/(h.grid[1]||1))*(h.grid[1]||1);if(/^(se|s|e)$/.test(q)){r.size.width=k.width+g;r.size.height=k.height+f;}else{if(/^(ne)$/.test(q)){r.size.width=k.width+g;r.size.height=k.height+f;r.position.top=l.top-f;}else{if(/^(sw)$/.test(q)){r.size.width=k.width+g;r.size.height=k.height+f;r.position.left=l.left-g;}else{r.size.width=k.width+g;r.size.height=k.height+f;r.position.top=l.top-f;r.position.left=l.left-g;}}}}});var b=function(e){return parseInt(e,10)||0;};var a=function(e){return !isNaN(parseInt(e,10));};})(jQuery);
/*!
 * jQuery UI Button 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Button
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
(function(f,b){var m,e,a,h,k="ui-button ui-widget ui-state-default ui-corner-all",c="ui-state-hover ui-state-active ",g="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var n=f(this).find(":ui-button");setTimeout(function(){n.button("refresh");},1);},d=function(o){var n=o.name,p=o.form,q=f([]);if(n){if(p){q=f(p).find("[name='"+n+"']");}else{q=f("[name='"+n+"']",o.ownerDocument).filter(function(){return !this.form;});}}return q;};f.widget("ui.button",{options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",l);if(typeof this.options.disabled!=="boolean"){this.options.disabled=!!this.element.propAttr("disabled");}else{this.element.propAttr("disabled",this.options.disabled);}this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var n=this,p=this.options,q=this.type==="checkbox"||this.type==="radio",r="ui-state-hover"+(!q?" ui-state-active":""),o="ui-state-focus";if(p.label===null){p.label=this.buttonElement.html();}this.buttonElement.addClass(k).attr("role","button").bind("mouseenter.button",function(){if(p.disabled){return;}f(this).addClass("ui-state-hover");if(this===m){f(this).addClass("ui-state-active");}}).bind("mouseleave.button",function(){if(p.disabled){return;}f(this).removeClass(r);}).bind("click.button",function(t){if(p.disabled){t.preventDefault();t.stopImmediatePropagation();}});this.element.bind("focus.button",function(){n.buttonElement.addClass(o);}).bind("blur.button",function(){n.buttonElement.removeClass(o);});if(q){this.element.bind("change.button",function(){if(h){return;}n.refresh();});this.buttonElement.bind("mousedown.button",function(t){if(p.disabled){return;}h=false;e=t.pageX;a=t.pageY;}).bind("mouseup.button",function(t){if(p.disabled){return;}if(e!==t.pageX||a!==t.pageY){h=true;}});}if(this.type==="checkbox"){this.buttonElement.bind("click.button",function(){if(p.disabled||h){return false;}f(this).toggleClass("ui-state-active");n.buttonElement.attr("aria-pressed",n.element[0].checked);});}else{if(this.type==="radio"){this.buttonElement.bind("click.button",function(){if(p.disabled||h){return false;}f(this).addClass("ui-state-active");n.buttonElement.attr("aria-pressed","true");var t=n.element[0];d(t).not(t).map(function(){return f(this).button("widget")[0];}).removeClass("ui-state-active").attr("aria-pressed","false");});}else{this.buttonElement.bind("mousedown.button",function(){if(p.disabled){return false;}f(this).addClass("ui-state-active");m=this;f(document).one("mouseup",function(){m=null;});}).bind("mouseup.button",function(){if(p.disabled){return false;}f(this).removeClass("ui-state-active");}).bind("keydown.button",function(t){if(p.disabled){return false;}if(t.keyCode==f.ui.keyCode.SPACE||t.keyCode==f.ui.keyCode.ENTER){f(this).addClass("ui-state-active");}}).bind("keyup.button",function(){f(this).removeClass("ui-state-active");});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(t){if(t.keyCode===f.ui.keyCode.SPACE){f(this).click();}});}}}this._setOption("disabled",p.disabled);this._resetButton();},_determineButtonType:function(){if(this.element.is(":checkbox")){this.type="checkbox";}else{if(this.element.is(":radio")){this.type="radio";}else{if(this.element.is("input")){this.type="input";}else{this.type="button";}}}if(this.type==="checkbox"||this.type==="radio"){var n=this.element.parents().filter(":last"),p="label[for='"+this.element.attr("id")+"']";this.buttonElement=n.find(p);if(!this.buttonElement.length){n=n.length?n.siblings():this.element.siblings();this.buttonElement=n.filter(p);if(!this.buttonElement.length){this.buttonElement=n.find(p);}}this.element.addClass("ui-helper-hidden-accessible");var o=this.element.is(":checked");if(o){this.buttonElement.addClass("ui-state-active");}this.buttonElement.attr("aria-pressed",o);}else{this.buttonElement=this.element;}},widget:function(){return this.buttonElement;},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(k+" "+c+" "+g).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title");}f.Widget.prototype.destroy.call(this);},_setOption:function(n,o){f.Widget.prototype._setOption.apply(this,arguments);if(n==="disabled"){if(o){this.element.propAttr("disabled",true);}else{this.element.propAttr("disabled",false);}return;}this._resetButton();},refresh:function(){var n=this.element.is(":disabled");if(n!==this.options.disabled){this._setOption("disabled",n);}if(this.type==="radio"){d(this.element[0]).each(function(){if(f(this).is(":checked")){f(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true");}else{f(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false");}});}else{if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true");}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false");}}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label);}return;}var r=this.buttonElement.removeClass(g),p=f("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(r.empty()).text(),o=this.options.icons,n=o.primary&&o.secondary,q=[];if(o.primary||o.secondary){if(this.options.text){q.push("ui-button-text-icon"+(n?"s":(o.primary?"-primary":"-secondary")));}if(o.primary){r.prepend("<span class='ui-button-icon-primary ui-icon "+o.primary+"'></span>");}if(o.secondary){r.append("<span class='ui-button-icon-secondary ui-icon "+o.secondary+"'></span>");}if(!this.options.text){q.push(n?"ui-button-icons-only":"ui-button-icon-only");if(!this.hasTitle){r.attr("title",p);}}}else{q.push("ui-button-text-only");}r.addClass(q.join(" "));}});f.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset");},_init:function(){this.refresh();},_setOption:function(n,o){if(n==="disabled"){this.buttons.button("option",n,o);}f.Widget.prototype._setOption.apply(this,arguments);},refresh:function(){var n=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return f(this).button("widget")[0];}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(n?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(n?"ui-corner-left":"ui-corner-right").end().end();},destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return f(this).button("widget")[0];}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");f.Widget.prototype.destroy.call(this);}});}(jQuery));
/*!
 * jQuery UI Autocomplete 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Autocomplete
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */
(function(a,b){var c=0;a.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var d=this,f=this.element[0].ownerDocument,e;this.isMultiLine=this.element.is("textarea");this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(g){if(d.options.disabled||d.element.propAttr("readOnly")){return;}e=false;var h=a.ui.keyCode;switch(g.keyCode){case h.PAGE_UP:d._move("previousPage",g);break;case h.PAGE_DOWN:d._move("nextPage",g);break;case h.UP:d._keyEvent("previous",g);break;case h.DOWN:d._keyEvent("next",g);break;case h.ENTER:case h.NUMPAD_ENTER:if(d.menu.active){e=true;g.preventDefault();}case h.TAB:if(!d.menu.active){return;}d.menu.select(g);break;case h.ESCAPE:d.element.val(d.term);d.close(g);break;default:clearTimeout(d.searching);d.searching=setTimeout(function(){if(d.term!=d.element.val()){d.selectedItem=null;d.search(null,g);}},d.options.delay);break;}}).bind("keypress.autocomplete",function(g){if(e){e=false;g.preventDefault();}}).bind("focus.autocomplete",function(){if(d.options.disabled){return;}d.selectedItem=null;d.previous=d.element.val();}).bind("blur.autocomplete",function(g){if(d.options.disabled){return;}clearTimeout(d.searching);d.closing=setTimeout(function(){d.close(g);d._change(g);},150);});this._initSource();this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",f)[0]).mousedown(function(g){var h=d.menu.element[0];if(!a(g.target).closest(".ui-menu-item").length){setTimeout(function(){a(document).one("mousedown",function(k){if(k.target!==d.element[0]&&k.target!==h&&!a.ui.contains(h,k.target)){d.close();}});},1);}setTimeout(function(){clearTimeout(d.closing);},13);}).menu({focus:function(h,k){var g=k.item.data("item.autocomplete");if(false!==d._trigger("focus",h,{item:g})){if(/^key/.test(h.originalEvent.type)){d.element.val(g.value);}}},selected:function(k,l){var h=l.item.data("item.autocomplete"),g=d.previous;if(d.element[0]!==f.activeElement){d.element.focus();d.previous=g;setTimeout(function(){d.previous=g;d.selectedItem=h;},1);}if(false!==d._trigger("select",k,{item:h})){d.element.val(h.value);}d.term=d.element.val();d.close(k);d.selectedItem=h;},blur:function(g,h){if(d.menu.element.is(":visible")&&(d.element.val()!==d.term)){d.element.val(d.term);}}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");if(a.fn.bgiframe){this.menu.element.bgiframe();}d.beforeunloadHandler=function(){d.element.removeAttr("autocomplete");};a(window).bind("beforeunload",d.beforeunloadHandler);},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();a(window).unbind("beforeunload",this.beforeunloadHandler);a.Widget.prototype.destroy.call(this);},_setOption:function(d,e){a.Widget.prototype._setOption.apply(this,arguments);if(d==="source"){this._initSource();}if(d==="appendTo"){this.menu.element.appendTo(a(e||"body",this.element[0].ownerDocument)[0]);}if(d==="disabled"&&e&&this.xhr){this.xhr.abort();}},_initSource:function(){var d=this,f,e;if(a.isArray(this.options.source)){f=this.options.source;this.source=function(h,g){g(a.ui.autocomplete.filter(f,h.term));};}else{if(typeof this.options.source==="string"){e=this.options.source;this.source=function(h,g){if(d.xhr){d.xhr.abort();}d.xhr=a.ajax({url:e,data:h,dataType:"json",success:function(l,k){g(l);},error:function(){g([]);}});};}else{this.source=this.options.source;}}},search:function(e,d){e=e!=null?e:this.element.val();this.term=this.element.val();if(e.length<this.options.minLength){return this.close(d);}clearTimeout(this.closing);if(this._trigger("search",d)===false){return;}return this._search(e);},_search:function(d){this.pending++;this.element.addClass("ui-autocomplete-loading");this.source({term:d},this._response());},_response:function(){var e=this,d=++c;return function(f){if(d===c){e.__response(f);}e.pending--;if(!e.pending){e.element.removeClass("ui-autocomplete-loading");}};},__response:function(d){if(!this.options.disabled&&d&&d.length){d=this._normalize(d);this._suggest(d);this._trigger("open");}else{this.close();}},close:function(d){clearTimeout(this.closing);if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.deactivate();this._trigger("close",d);}},_change:function(d){if(this.previous!==this.element.val()){this._trigger("change",d,{item:this.selectedItem});}},_normalize:function(d){if(d.length&&d[0].label&&d[0].value){return d;}return a.map(d,function(e){if(typeof e==="string"){return{label:e,value:e};}return a.extend({label:e.label||e.value,value:e.value||e.label},e);});},_suggest:function(d){var e=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(e,d);this.menu.deactivate();this.menu.refresh();e.show();this._resizeMenu();e.position(a.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next(new a.Event("mouseover"));}},_resizeMenu:function(){var d=this.menu.element;d.outerWidth(Math.max(d.width("").outerWidth()+1,this.element.outerWidth()));},_renderMenu:function(f,e){var d=this;a.each(e,function(g,h){d._renderItem(f,h);});},_renderItem:function(d,e){return a("<li></li>").data("item.autocomplete",e).append(a("<a></a>").text(e.label)).appendTo(d);},_move:function(e,d){if(!this.menu.element.is(":visible")){this.search(null,d);return;}if(this.menu.first()&&/^previous/.test(e)||this.menu.last()&&/^next/.test(e)){this.element.val(this.term);this.menu.deactivate();return;}this.menu[e](d);},widget:function(){return this.menu.element;},_keyEvent:function(e,d){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(e,d);d.preventDefault();}}});a.extend(a.ui.autocomplete,{escapeRegex:function(d){return d.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");},filter:function(f,d){var e=new RegExp(a.ui.autocomplete.escapeRegex(d),"i");return a.grep(f,function(g){return e.test(g.label||g.value||g);});}});}(jQuery));(function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){if(!a(c.target).closest(".ui-menu-item a").length){return;}c.preventDefault();b.select(c);});this.refresh();},refresh:function(){var c=this;var b=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");b.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(d){c.activate(d,a(this).parent());}).mouseleave(function(){c.deactivate();});},activate:function(e,d){this.deactivate();if(this.hasScroll()){var f=d.offset().top-this.element.offset().top,b=this.element.scrollTop(),c=this.element.height();if(f<0){this.element.scrollTop(b+f);}else{if(f>=c){this.element.scrollTop(b+f-c+d.height());}}}this.active=d.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",e,{item:d});},deactivate:function(){if(!this.active){return;}this.active.children("a").removeClass("ui-state-hover").removeAttr("id");this._trigger("blur");this.active=null;},next:function(b){this.move("next",".ui-menu-item:first",b);},previous:function(b){this.move("prev",".ui-menu-item:last",b);},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length;},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length;},move:function(e,d,c){if(!this.active){this.activate(c,this.element.children(d));return;}var b=this.active[e+"All"](".ui-menu-item").eq(0);if(b.length){this.activate(c,b);}else{this.activate(c,this.element.children(d));}},nextPage:function(d){if(this.hasScroll()){if(!this.active||this.last()){this.activate(d,this.element.children(".ui-menu-item:first"));return;}var e=this.active.offset().top,c=this.element.height(),b=this.element.children(".ui-menu-item").filter(function(){var f=a(this).offset().top-e-c+a(this).height();return f<10&&f>-10;});if(!b.length){b=this.element.children(".ui-menu-item:last");}this.activate(d,b);}else{this.activate(d,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"));}},previousPage:function(d){if(this.hasScroll()){if(!this.active||this.first()){this.activate(d,this.element.children(".ui-menu-item:last"));return;}var e=this.active.offset().top,c=this.element.height(),b=this.element.children(".ui-menu-item").filter(function(){var f=a(this).offset().top-e+c-a(this).height();return f<10&&f>-10;});if(!b.length){b=this.element.children(".ui-menu-item:first");}this.activate(d,b);}else{this.activate(d,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"));}},hasScroll:function(){return this.element.height()<this.element[a.fn.prop?"prop":"attr"]("scrollHeight");},select:function(b){this._trigger("selected",b,{item:this.active});}});}(jQuery));
/*!
 * jQuery UI Dialog 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Dialog
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *  jquery.ui.button.js
 *	jquery.ui.draggable.js
 *	jquery.ui.mouse.js
 *	jquery.ui.position.js
 *	jquery.ui.resizable.js
 */
(function(d,e){var b="ui-dialog ui-widget ui-widget-content ui-corner-all ",a={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},c={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};d.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",collision:"fit",using:function(g){var f=d(this).css(g).offset().top;if(f<0){d(this).css("top",g.top-f);}}},resizable:true,show:null,stack:true,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title");if(typeof this.originalTitle!=="string"){this.originalTitle="";}this.options.title=this.options.title||this.originalTitle;var p=this,q=p.options,n=q.title||"&#160;",g=d.ui.dialog.getTitleId(p.element),o=(p.uiDialog=d("<div></div>")).appendTo(document.body).hide().addClass(b+q.dialogClass).css({zIndex:q.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(r){if(q.closeOnEscape&&!r.isDefaultPrevented()&&r.keyCode&&r.keyCode===d.ui.keyCode.ESCAPE){p.close(r);r.preventDefault();}}).attr({role:"dialog","aria-labelledby":g}).mousedown(function(r){p.moveToTop(false,r);}),k=p.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(o),h=(p.uiDialogTitlebar=d("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(o),m=d('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){m.addClass("ui-state-hover");},function(){m.removeClass("ui-state-hover");}).focus(function(){m.addClass("ui-state-focus");}).blur(function(){m.removeClass("ui-state-focus");}).click(function(r){p.close(r);return false;}).appendTo(h),l=(p.uiDialogTitlebarCloseText=d("<span></span>")).addClass("ui-icon ui-icon-closethick").text(q.closeText).appendTo(m),f=d("<span></span>").addClass("ui-dialog-title").attr("id",g).html(n).prependTo(h);if(d.isFunction(q.beforeclose)&&!d.isFunction(q.beforeClose)){q.beforeClose=q.beforeclose;}h.find("*").add(h).disableSelection();if(q.draggable&&d.fn.draggable){p._makeDraggable();}if(q.resizable&&d.fn.resizable){p._makeResizable();}p._createButtons(q.buttons);p._isOpen=false;if(d.fn.bgiframe){o.bgiframe();}},_init:function(){if(this.options.autoOpen){this.open();}},destroy:function(){var f=this;if(f.overlay){f.overlay.destroy();}f.uiDialog.hide();f.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");f.uiDialog.remove();if(f.originalTitle){f.element.attr("title",f.originalTitle);}return f;},widget:function(){return this.uiDialog;},close:function(k){var f=this,h,g;if(false===f._trigger("beforeClose",k)){return;}if(f.overlay){f.overlay.destroy();}f.uiDialog.unbind("keypress.ui-dialog");f._isOpen=false;if(f.options.hide){f.uiDialog.hide(f.options.hide,function(){f._trigger("close",k);});}else{f.uiDialog.hide();f._trigger("close",k);}d.ui.dialog.overlay.resize();if(f.options.modal){h=0;d(".ui-dialog").each(function(){if(this!==f.uiDialog[0]){g=d(this).css("z-index");if(!isNaN(g)){h=Math.max(h,g);}}});d.ui.dialog.maxZ=h;}return f;},isOpen:function(){return this._isOpen;},moveToTop:function(l,k){var f=this,h=f.options,g;if((h.modal&&!l)||(!h.stack&&!h.modal)){return f._trigger("focus",k);}if(h.zIndex>d.ui.dialog.maxZ){d.ui.dialog.maxZ=h.zIndex;}if(f.overlay){d.ui.dialog.maxZ+=1;f.overlay.$el.css("z-index",d.ui.dialog.overlay.maxZ=d.ui.dialog.maxZ);}g={scrollTop:f.element.scrollTop(),scrollLeft:f.element.scrollLeft()};d.ui.dialog.maxZ+=1;f.uiDialog.css("z-index",d.ui.dialog.maxZ);f.element.attr(g);f._trigger("focus",k);return f;},open:function(){if(this._isOpen){return;}var g=this,h=g.options,f=g.uiDialog;g.overlay=h.modal?new d.ui.dialog.overlay(g):null;g._size();g._position(h.position);f.show(h.show);g.moveToTop(true);if(h.modal){f.bind("keydown.ui-dialog",function(m){if(m.keyCode!==d.ui.keyCode.TAB){return;}var l=d(":tabbable",this),n=l.filter(":first"),k=l.filter(":last");if(m.target===k[0]&&!m.shiftKey){n.focus(1);return false;}else{if(m.target===n[0]&&m.shiftKey){k.focus(1);return false;}}});}d(g.element.find(":tabbable").get().concat(f.find(".ui-dialog-buttonpane :tabbable").get().concat(f.get()))).eq(0).focus();g._isOpen=true;g._trigger("open");return g;},_createButtons:function(k){var h=this,f=false,g=d("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),l=d("<div></div>").addClass("ui-dialog-buttonset").appendTo(g);h.uiDialog.find(".ui-dialog-buttonpane").remove();if(typeof k==="object"&&k!==null){d.each(k,function(){return !(f=true);});}if(f){d.each(k,function(m,o){o=d.isFunction(o)?{click:o,text:m}:o;var n=d('<button type="button"></button>').click(function(){o.click.apply(h.element[0],arguments);}).appendTo(l);d.each(o,function(p,q){if(p==="click"){return;}if(p in n){n[p](q);}else{n.attr(p,q);}});if(d.fn.button){n.button();}});g.appendTo(h.uiDialog);}},_makeDraggable:function(){var f=this,k=f.options,l=d(document),h;function g(m){return{position:m.position,offset:m.offset};}f.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(m,n){h=k.height==="auto"?"auto":d(this).height();d(this).height(d(this).height()).addClass("ui-dialog-dragging");f._trigger("dragStart",m,g(n));},drag:function(m,n){f._trigger("drag",m,g(n));},stop:function(m,n){k.position=[n.position.left-l.scrollLeft(),n.position.top-l.scrollTop()];d(this).removeClass("ui-dialog-dragging").height(h);f._trigger("dragStop",m,g(n));d.ui.dialog.overlay.resize();}});},_makeResizable:function(m){m=(m===e?this.options.resizable:m);var g=this,l=g.options,f=g.uiDialog.css("position"),k=(typeof m==="string"?m:"n,e,s,w,se,sw,ne,nw");function h(n){return{originalPosition:n.originalPosition,originalSize:n.originalSize,position:n.position,size:n.size};}g.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:g.element,maxWidth:l.maxWidth,maxHeight:l.maxHeight,minWidth:l.minWidth,minHeight:g._minHeight(),handles:k,start:function(n,o){d(this).addClass("ui-dialog-resizing");g._trigger("resizeStart",n,h(o));},resize:function(n,o){g._trigger("resize",n,h(o));},stop:function(n,o){d(this).removeClass("ui-dialog-resizing");l.height=d(this).height();l.width=d(this).width();g._trigger("resizeStop",n,h(o));d.ui.dialog.overlay.resize();}}).css("position",f).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se");},_minHeight:function(){var f=this.options;if(f.height==="auto"){return f.minHeight;}else{return Math.min(f.minHeight,f.height);}},_position:function(g){var h=[],k=[0,0],f;if(g){if(typeof g==="string"||(typeof g==="object"&&"0" in g)){h=g.split?g.split(" "):[g[0],g[1]];if(h.length===1){h[1]=h[0];}d.each(["left","top"],function(m,l){if(+h[m]===h[m]){k[m]=h[m];h[m]=l;}});g={my:h.join(" "),at:h.join(" "),offset:k.join(" ")};}g=d.extend({},d.ui.dialog.prototype.options.position,g);}else{g=d.ui.dialog.prototype.options.position;}f=this.uiDialog.is(":visible");if(!f){this.uiDialog.show();}this.uiDialog.css({top:0,left:0}).position(d.extend({of:window},g));if(!f){this.uiDialog.hide();}},_setOptions:function(k){var g=this,f={},h=false;d.each(k,function(l,m){g._setOption(l,m);if(l in a){h=true;}if(l in c){f[l]=m;}});if(h){this._size();}if(this.uiDialog.is(":data(resizable)")){this.uiDialog.resizable("option",f);}},_setOption:function(k,l){var g=this,f=g.uiDialog;switch(k){case"beforeclose":k="beforeClose";break;case"buttons":g._createButtons(l);break;case"closeText":g.uiDialogTitlebarCloseText.text(""+l);break;case"dialogClass":f.removeClass(g.options.dialogClass).addClass(b+l);break;case"disabled":if(l){f.addClass("ui-dialog-disabled");}else{f.removeClass("ui-dialog-disabled");}break;case"draggable":var h=f.is(":data(draggable)");if(h&&!l){f.draggable("destroy");}if(!h&&l){g._makeDraggable();}break;case"position":g._position(l);break;case"resizable":var m=f.is(":data(resizable)");if(m&&!l){f.resizable("destroy");}if(m&&typeof l==="string"){f.resizable("option","handles",l);}if(!m&&l!==false){g._makeResizable(l);}break;case"title":d(".ui-dialog-title",g.uiDialogTitlebar).html(""+(l||"&#160;"));break;}d.Widget.prototype._setOption.apply(g,arguments);},_size:function(){var l=this.options,g,k,f=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});if(l.minWidth>l.width){l.width=l.minWidth;}g=this.uiDialog.css({height:"auto",width:l.width}).height();k=Math.max(0,l.minHeight-g);if(l.height==="auto"){if(d.support.minHeight){this.element.css({minHeight:k,height:"auto"});}else{this.uiDialog.show();var h=this.element.css("height","auto").height();if(!f){this.uiDialog.hide();}this.element.height(Math.max(h,k));}}else{this.element.height(Math.max(l.height-g,0));}if(this.uiDialog.is(":data(resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight());}}});d.extend(d.ui.dialog,{version:"1.8.24",uuid:0,maxZ:0,getTitleId:function(f){var g=f.attr("id");if(!g){this.uuid+=1;g=this.uuid;}return"ui-dialog-title-"+g;},overlay:function(f){this.$el=d.ui.dialog.overlay.create(f);}});d.extend(d.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:d.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(f){return f+".dialog-overlay";}).join(" "),create:function(g){if(this.instances.length===0){setTimeout(function(){if(d.ui.dialog.overlay.instances.length){d(document).bind(d.ui.dialog.overlay.events,function(h){if(d(h.target).zIndex()<d.ui.dialog.overlay.maxZ){return false;}});}},1);d(document).bind("keydown.dialog-overlay",function(h){if(g.options.closeOnEscape&&!h.isDefaultPrevented()&&h.keyCode&&h.keyCode===d.ui.keyCode.ESCAPE){g.close(h);h.preventDefault();}});d(window).bind("resize.dialog-overlay",d.ui.dialog.overlay.resize);}var f=(this.oldInstances.pop()||d("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});if(d.fn.bgiframe){f.bgiframe();}this.instances.push(f);return f;},destroy:function(f){var g=d.inArray(f,this.instances);if(g!=-1){this.oldInstances.push(this.instances.splice(g,1)[0]);}if(this.instances.length===0){d([document,window]).unbind(".dialog-overlay");}f.remove();var h=0;d.each(this.instances,function(){h=Math.max(h,this.css("z-index"));});this.maxZ=h;},height:function(){var g,f;if(d.browser.msie&&d.browser.version<7){g=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);f=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);if(g<f){return d(window).height()+"px";}else{return g+"px";}}else{return d(document).height()+"px";}},width:function(){var f,g;if(d.browser.msie){f=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);g=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(f<g){return d(window).width()+"px";}else{return f+"px";}}else{return d(document).width()+"px";}},resize:function(){var f=d([]);d.each(d.ui.dialog.overlay.instances,function(){f=f.add(this);});f.css({width:0,height:0}).css({width:d.ui.dialog.overlay.width(),height:d.ui.dialog.overlay.height()});}});d.extend(d.ui.dialog.overlay.prototype,{destroy:function(){d.ui.dialog.overlay.destroy(this.$el);}});}(jQuery));
/*!
 * jQuery UI Tabs 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Tabs
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
(function(d,f){var c=0,b=0;function e(){return ++c;}function a(){return ++b;}d.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:false,cookie:null,collapsible:false,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(true);},_setOption:function(g,h){if(g=="selected"){if(this.options.collapsible&&h==this.options.selected){return;}this.select(h);}else{this.options[g]=h;this._tabify();}},_tabId:function(g){return g.title&&g.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+e();},_sanitizeSelector:function(g){return g.replace(/:/g,"\\:");},_cookie:function(){var g=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+a());return d.cookie.apply(null,[g].concat(d.makeArray(arguments)));},_ui:function(h,g){return{tab:h,panel:g,index:this.anchors.index(h)};},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var g=d(this);g.html(g.data("label.tabs")).removeData("label.tabs");});},_tabify:function(v){var w=this,k=this.options,h=/^#.+/;this.list=this.element.find("ol,ul").eq(0);this.lis=d(" > li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return d("a",this)[0];});this.panels=d([]);this.anchors.each(function(y,o){var x=d(o).attr("href");var z=x.split("#")[0],A;if(z&&(z===location.toString().split("#")[0]||(A=d("base")[0])&&z===A.href)){x=o.hash;o.href=x;}if(h.test(x)){w.panels=w.panels.add(w.element.find(w._sanitizeSelector(x)));}else{if(x&&x!=="#"){d.data(o,"href.tabs",x);d.data(o,"load.tabs",x.replace(/#.*$/,""));var C=w._tabId(o);o.href="#"+C;var B=w.element.find("#"+C);if(!B.length){B=d(k.panelTemplate).attr("id",C).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(w.panels[y-1]||w.list);B.data("destroy.tabs",true);}w.panels=w.panels.add(B);}else{k.disabled.push(y);}}});if(v){this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all");this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.lis.addClass("ui-state-default ui-corner-top");this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom");if(k.selected===f){if(location.hash){this.anchors.each(function(x,o){if(o.hash==location.hash){k.selected=x;return false;}});}if(typeof k.selected!=="number"&&k.cookie){k.selected=parseInt(w._cookie(),10);}if(typeof k.selected!=="number"&&this.lis.filter(".ui-tabs-selected").length){k.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));}k.selected=k.selected||(this.lis.length?0:-1);}else{if(k.selected===null){k.selected=-1;}}k.selected=((k.selected>=0&&this.anchors[k.selected])||k.selected<0)?k.selected:0;k.disabled=d.unique(k.disabled.concat(d.map(this.lis.filter(".ui-state-disabled"),function(x,o){return w.lis.index(x);}))).sort();if(d.inArray(k.selected,k.disabled)!=-1){k.disabled.splice(d.inArray(k.selected,k.disabled),1);}this.panels.addClass("ui-tabs-hide");this.lis.removeClass("ui-tabs-selected ui-state-active");if(k.selected>=0&&this.anchors.length){w.element.find(w._sanitizeSelector(w.anchors[k.selected].hash)).removeClass("ui-tabs-hide");this.lis.eq(k.selected).addClass("ui-tabs-selected ui-state-active");w.element.queue("tabs",function(){w._trigger("show",null,w._ui(w.anchors[k.selected],w.element.find(w._sanitizeSelector(w.anchors[k.selected].hash))[0]));});this.load(k.selected);}d(window).bind("unload",function(){w.lis.add(w.anchors).unbind(".tabs");w.lis=w.anchors=w.panels=null;});}else{k.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));}this.element[k.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");if(k.cookie){this._cookie(k.selected,k.cookie);}for(var n=0,u;(u=this.lis[n]);n++){d(u)[d.inArray(n,k.disabled)!=-1&&!d(u).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");}if(k.cache===false){this.anchors.removeData("cache.tabs");}this.lis.add(this.anchors).unbind(".tabs");if(k.event!=="mouseover"){var m=function(x,o){if(o.is(":not(.ui-state-disabled)")){o.addClass("ui-state-"+x);}};var q=function(x,o){o.removeClass("ui-state-"+x);};this.lis.bind("mouseover.tabs",function(){m("hover",d(this));});this.lis.bind("mouseout.tabs",function(){q("hover",d(this));});this.anchors.bind("focus.tabs",function(){m("focus",d(this).closest("li"));});this.anchors.bind("blur.tabs",function(){q("focus",d(this).closest("li"));});}var g,p;if(k.fx){if(d.isArray(k.fx)){g=k.fx[0];p=k.fx[1];}else{g=p=k.fx;}}function l(o,x){o.css("display","");if(!d.support.opacity&&x.opacity){o[0].style.removeAttribute("filter");}}var r=p?function(o,x){d(o).closest("li").addClass("ui-tabs-selected ui-state-active");x.hide().removeClass("ui-tabs-hide").animate(p,p.duration||"normal",function(){l(x,p);w._trigger("show",null,w._ui(o,x[0]));});}:function(o,x){d(o).closest("li").addClass("ui-tabs-selected ui-state-active");x.removeClass("ui-tabs-hide");w._trigger("show",null,w._ui(o,x[0]));};var t=g?function(x,o){o.animate(g,g.duration||"normal",function(){w.lis.removeClass("ui-tabs-selected ui-state-active");o.addClass("ui-tabs-hide");l(o,g);w.element.dequeue("tabs");});}:function(x,o,y){w.lis.removeClass("ui-tabs-selected ui-state-active");o.addClass("ui-tabs-hide");w.element.dequeue("tabs");};this.anchors.bind(k.event+".tabs",function(){var x=this,z=d(x).closest("li"),o=w.panels.filter(":not(.ui-tabs-hide)"),y=w.element.find(w._sanitizeSelector(x.hash));if((z.hasClass("ui-tabs-selected")&&!k.collapsible)||z.hasClass("ui-state-disabled")||z.hasClass("ui-state-processing")||w.panels.filter(":animated").length||w._trigger("select",null,w._ui(this,y[0]))===false){this.blur();return false;}k.selected=w.anchors.index(this);w.abort();if(k.collapsible){if(z.hasClass("ui-tabs-selected")){k.selected=-1;if(k.cookie){w._cookie(k.selected,k.cookie);}w.element.queue("tabs",function(){t(x,o);}).dequeue("tabs");this.blur();return false;}else{if(!o.length){if(k.cookie){w._cookie(k.selected,k.cookie);}w.element.queue("tabs",function(){r(x,y);});w.load(w.anchors.index(this));this.blur();return false;}}}if(k.cookie){w._cookie(k.selected,k.cookie);}if(y.length){if(o.length){w.element.queue("tabs",function(){t(x,o);});}w.element.queue("tabs",function(){r(x,y);});w.load(w.anchors.index(this));}else{throw"jQuery UI Tabs: Mismatching fragment identifier.";}if(d.browser.msie){this.blur();}});this.anchors.bind("click.tabs",function(){return false;});},_getIndex:function(g){if(typeof g=="string"){g=this.anchors.index(this.anchors.filter("[href$='"+g+"']"));}return g;},destroy:function(){var g=this.options;this.abort();this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var h=d.data(this,"href.tabs");if(h){this.href=h;}var k=d(this).unbind(".tabs");d.each(["href","load","cache"],function(l,m){k.removeData(m+".tabs");});});this.lis.unbind(".tabs").add(this.panels).each(function(){if(d.data(this,"destroy.tabs")){d(this).remove();}else{d(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "));}});if(g.cookie){this._cookie(null,g.cookie);}return this;},add:function(l,k,h){if(h===f){h=this.anchors.length;}var g=this,n=this.options,q=d(n.tabTemplate.replace(/#\{href\}/g,l).replace(/#\{label\}/g,k)),p=!l.indexOf("#")?l.replace("#",""):this._tabId(d("a",q)[0]);q.addClass("ui-state-default ui-corner-top").data("destroy.tabs",true);var m=g.element.find("#"+p);if(!m.length){m=d(n.panelTemplate).attr("id",p).data("destroy.tabs",true);}m.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");if(h>=this.lis.length){q.appendTo(this.list);m.appendTo(this.list[0].parentNode);}else{q.insertBefore(this.lis[h]);m.insertBefore(this.panels[h]);}n.disabled=d.map(n.disabled,function(r,o){return r>=h?++r:r;});this._tabify();if(this.anchors.length==1){n.selected=0;q.addClass("ui-tabs-selected ui-state-active");m.removeClass("ui-tabs-hide");this.element.queue("tabs",function(){g._trigger("show",null,g._ui(g.anchors[0],g.panels[0]));});this.load(0);}this._trigger("add",null,this._ui(this.anchors[h],this.panels[h]));return this;},remove:function(g){g=this._getIndex(g);var k=this.options,l=this.lis.eq(g).remove(),h=this.panels.eq(g).remove();if(l.hasClass("ui-tabs-selected")&&this.anchors.length>1){this.select(g+(g+1<this.anchors.length?1:-1));}k.disabled=d.map(d.grep(k.disabled,function(o,m){return o!=g;}),function(o,m){return o>=g?--o:o;});this._tabify();this._trigger("remove",null,this._ui(l.find("a")[0],h[0]));return this;},enable:function(g){g=this._getIndex(g);var h=this.options;if(d.inArray(g,h.disabled)==-1){return;}this.lis.eq(g).removeClass("ui-state-disabled");h.disabled=d.grep(h.disabled,function(l,k){return l!=g;});this._trigger("enable",null,this._ui(this.anchors[g],this.panels[g]));return this;},disable:function(h){h=this._getIndex(h);var g=this,k=this.options;if(h!=k.selected){this.lis.eq(h).addClass("ui-state-disabled");k.disabled.push(h);k.disabled.sort();this._trigger("disable",null,this._ui(this.anchors[h],this.panels[h]));}return this;},select:function(g){g=this._getIndex(g);if(g==-1){if(this.options.collapsible&&this.options.selected!=-1){g=this.options.selected;}else{return this;}}this.anchors.eq(g).trigger(this.options.event+".tabs");return this;},load:function(l){l=this._getIndex(l);var h=this,n=this.options,g=this.anchors.eq(l)[0],k=d.data(g,"load.tabs");this.abort();if(!k||this.element.queue("tabs").length!==0&&d.data(g,"cache.tabs")){this.element.dequeue("tabs");return;}this.lis.eq(l).addClass("ui-state-processing");if(n.spinner){var m=d("span",g);m.data("label.tabs",m.html()).html(n.spinner);}this.xhr=d.ajax(d.extend({},n.ajaxOptions,{url:k,success:function(p,o){h.element.find(h._sanitizeSelector(g.hash)).html(p);h._cleanup();if(n.cache){d.data(g,"cache.tabs",true);}h._trigger("load",null,h._ui(h.anchors[l],h.panels[l]));try{n.ajaxOptions.success(p,o);}catch(q){}},error:function(q,o,p){h._cleanup();h._trigger("load",null,h._ui(h.anchors[l],h.panels[l]));try{n.ajaxOptions.error(q,o,l,g);}catch(p){}}}));h.element.dequeue("tabs");return this;},abort:function(){this.element.queue([]);this.panels.stop(false,true);this.element.queue("tabs",this.element.queue("tabs").splice(-2,2));if(this.xhr){this.xhr.abort();delete this.xhr;}this._cleanup();return this;},url:function(h,g){this.anchors.eq(h).removeData("cache.tabs").data("load.tabs",g);return this;},length:function(){return this.anchors.length;}});d.extend(d.ui.tabs,{version:"1.8.24"});d.extend(d.ui.tabs.prototype,{rotation:null,rotate:function(k,m){var g=this,n=this.options;var h=g._rotate||(g._rotate=function(o){clearTimeout(g.rotation);g.rotation=setTimeout(function(){var p=n.selected;g.select(++p<g.anchors.length?p:0);},k);if(o){o.stopPropagation();}});var l=g._unrotate||(g._unrotate=!m?function(o){if(o.clientX){g.rotate(null);}}:function(o){h();});if(k){this.element.bind("tabsshow",h);this.anchors.bind(n.event+".tabs",l);h();}else{clearTimeout(g.rotation);this.element.unbind("tabsshow",h);this.anchors.unbind(n.event+".tabs",l);delete this._rotate;delete this._unrotate;}return this;}});})(jQuery);
/*!
 * jQuery UI Slider 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Slider
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function(b,c){var a=5;b.widget("ui.slider",b.ui.mouse,{widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null},_create:function(){var e=this,l=this.options,k=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),h="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",d=(l.values&&l.values.length)||1,g=[];this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(l.disabled?" ui-slider-disabled ui-disabled":""));this.range=b([]);if(l.range){if(l.range===true){if(!l.values){l.values=[this._valueMin(),this._valueMin()];}if(l.values.length&&l.values.length!==2){l.values=[l.values[0],l.values[0]];}}this.range=b("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+((l.range==="min"||l.range==="max")?" ui-slider-range-"+l.range:""));}for(var f=k.length;f<d;f+=1){g.push(h);}this.handles=k.add(b(g.join("")).appendTo(e.element));this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(m){m.preventDefault();}).hover(function(){if(!l.disabled){b(this).addClass("ui-state-hover");}},function(){b(this).removeClass("ui-state-hover");}).focus(function(){if(!l.disabled){b(".ui-slider .ui-state-focus").removeClass("ui-state-focus");b(this).addClass("ui-state-focus");}else{b(this).blur();}}).blur(function(){b(this).removeClass("ui-state-focus");});this.handles.each(function(m){b(this).data("index.ui-slider-handle",m);});this.handles.keydown(function(q){var n=b(this).data("index.ui-slider-handle"),r,o,m,p;if(e.options.disabled){return;}switch(q.keyCode){case b.ui.keyCode.HOME:case b.ui.keyCode.END:case b.ui.keyCode.PAGE_UP:case b.ui.keyCode.PAGE_DOWN:case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:q.preventDefault();if(!e._keySliding){e._keySliding=true;b(this).addClass("ui-state-active");r=e._start(q,n);if(r===false){return;}}break;}p=e.options.step;if(e.options.values&&e.options.values.length){o=m=e.values(n);}else{o=m=e.value();}switch(q.keyCode){case b.ui.keyCode.HOME:m=e._valueMin();break;case b.ui.keyCode.END:m=e._valueMax();break;case b.ui.keyCode.PAGE_UP:m=e._trimAlignValue(o+((e._valueMax()-e._valueMin())/a));break;case b.ui.keyCode.PAGE_DOWN:m=e._trimAlignValue(o-((e._valueMax()-e._valueMin())/a));break;case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:if(o===e._valueMax()){return;}m=e._trimAlignValue(o+p);break;case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(o===e._valueMin()){return;}m=e._trimAlignValue(o-p);break;}e._slide(q,n,m);}).keyup(function(n){var m=b(this).data("index.ui-slider-handle");if(e._keySliding){e._keySliding=false;e._stop(n,m);e._change(n,m);b(this).removeClass("ui-state-active");}});this._refreshValue();this._animateOff=false;},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");this._mouseDestroy();return this;},_mouseCapture:function(f){var g=this.options,l,n,e,h,q,m,p,k,d;if(g.disabled){return false;}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();l={x:f.pageX,y:f.pageY};n=this._normValueFromMouse(l);e=this._valueMax()-this._valueMin()+1;q=this;this.handles.each(function(o){var r=Math.abs(n-q.values(o));if(e>r){e=r;h=b(this);m=o;}});if(g.range===true&&this.values(1)===g.min){m+=1;h=b(this.handles[m]);}p=this._start(f,m);if(p===false){return false;}this._mouseSliding=true;q._handleIndex=m;h.addClass("ui-state-active").focus();k=h.offset();d=!b(f.target).parents().andSelf().is(".ui-slider-handle");this._clickOffset=d?{left:0,top:0}:{left:f.pageX-k.left-(h.width()/2),top:f.pageY-k.top-(h.height()/2)-(parseInt(h.css("borderTopWidth"),10)||0)-(parseInt(h.css("borderBottomWidth"),10)||0)+(parseInt(h.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(f,m,n);}this._animateOff=true;return true;},_mouseStart:function(d){return true;},_mouseDrag:function(f){var d={x:f.pageX,y:f.pageY},e=this._normValueFromMouse(d);this._slide(f,this._handleIndex,e);return false;},_mouseStop:function(d){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(d,this._handleIndex);this._change(d,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false;},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal";},_normValueFromMouse:function(e){var d,h,g,f,k;if(this.orientation==="horizontal"){d=this.elementSize.width;h=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0);}else{d=this.elementSize.height;h=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0);}g=(h/d);if(g>1){g=1;}if(g<0){g=0;}if(this.orientation==="vertical"){g=1-g;}f=this._valueMax()-this._valueMin();k=this._valueMin()+g*f;return this._trimAlignValue(k);},_start:function(f,e){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values();}return this._trigger("start",f,d);},_slide:function(h,g,f){var d,e,k;if(this.options.values&&this.options.values.length){d=this.values(g?0:1);if((this.options.values.length===2&&this.options.range===true)&&((g===0&&f>d)||(g===1&&f<d))){f=d;}if(f!==this.values(g)){e=this.values();e[g]=f;k=this._trigger("slide",h,{handle:this.handles[g],value:f,values:e});d=this.values(g?0:1);if(k!==false){this.values(g,f,true);}}}else{if(f!==this.value()){k=this._trigger("slide",h,{handle:this.handles[g],value:f});if(k!==false){this.value(f);}}}},_stop:function(f,e){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values();}this._trigger("stop",f,d);},_change:function(f,e){if(!this._keySliding&&!this._mouseSliding){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values();}this._trigger("change",f,d);}},value:function(d){if(arguments.length){this.options.value=this._trimAlignValue(d);this._refreshValue();this._change(null,0);return;}return this._value();},values:function(e,h){var g,d,f;if(arguments.length>1){this.options.values[e]=this._trimAlignValue(h);this._refreshValue();this._change(null,e);return;}if(arguments.length){if(b.isArray(arguments[0])){g=this.options.values;d=arguments[0];for(f=0;f<g.length;f+=1){g[f]=this._trimAlignValue(d[f]);this._change(null,f);}this._refreshValue();}else{if(this.options.values&&this.options.values.length){return this._values(e);}else{return this.value();}}}else{return this._values();}},_setOption:function(e,f){var d,g=0;if(b.isArray(this.options.values)){g=this.options.values.length;}b.Widget.prototype._setOption.apply(this,arguments);switch(e){case"disabled":if(f){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.propAttr("disabled",true);this.element.addClass("ui-disabled");}else{this.handles.propAttr("disabled",false);this.element.removeClass("ui-disabled");}break;case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(d=0;d<g;d+=1){this._change(null,d);}this._animateOff=false;break;}},_value:function(){var d=this.options.value;d=this._trimAlignValue(d);return d;},_values:function(d){var g,f,e;if(arguments.length){g=this.options.values[d];g=this._trimAlignValue(g);return g;}else{f=this.options.values.slice();for(e=0;e<f.length;e+=1){f[e]=this._trimAlignValue(f[e]);}return f;}},_trimAlignValue:function(g){if(g<=this._valueMin()){return this._valueMin();}if(g>=this._valueMax()){return this._valueMax();}var d=(this.options.step>0)?this.options.step:1,f=(g-this._valueMin())%d,e=g-f;if(Math.abs(f)*2>=d){e+=(f>0)?d:(-d);}return parseFloat(e.toFixed(5));},_valueMin:function(){return this.options.min;},_valueMax:function(){return this.options.max;},_refreshValue:function(){var g=this.options.range,f=this.options,p=this,e=(!this._animateOff)?f.animate:false,h,d={},k,m,l,n;if(this.options.values&&this.options.values.length){this.handles.each(function(q,o){h=(p.values(q)-p._valueMin())/(p._valueMax()-p._valueMin())*100;d[p.orientation==="horizontal"?"left":"bottom"]=h+"%";b(this).stop(1,1)[e?"animate":"css"](d,f.animate);if(p.options.range===true){if(p.orientation==="horizontal"){if(q===0){p.range.stop(1,1)[e?"animate":"css"]({left:h+"%"},f.animate);}if(q===1){p.range[e?"animate":"css"]({width:(h-k)+"%"},{queue:false,duration:f.animate});}}else{if(q===0){p.range.stop(1,1)[e?"animate":"css"]({bottom:(h)+"%"},f.animate);}if(q===1){p.range[e?"animate":"css"]({height:(h-k)+"%"},{queue:false,duration:f.animate});}}}k=h;});}else{m=this.value();l=this._valueMin();n=this._valueMax();h=(n!==l)?(m-l)/(n-l)*100:0;d[p.orientation==="horizontal"?"left":"bottom"]=h+"%";this.handle.stop(1,1)[e?"animate":"css"](d,f.animate);if(g==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[e?"animate":"css"]({width:h+"%"},f.animate);}if(g==="max"&&this.orientation==="horizontal"){this.range[e?"animate":"css"]({width:(100-h)+"%"},{queue:false,duration:f.animate});}if(g==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[e?"animate":"css"]({height:h+"%"},f.animate);}if(g==="max"&&this.orientation==="vertical"){this.range[e?"animate":"css"]({height:(100-h)+"%"},{queue:false,duration:f.animate});}}}});b.extend(b.ui.slider,{version:"1.8.24"});}(jQuery));(function(c){var a=false,b=/xyz/.test(function(){xyz;})?/\b_super\b/:/.*/;c.Class=function(){};c.Class.extend=function(h){var g=this.prototype;a=true;var f=new this();a=false;for(var e in h){if(typeof h[e]=="function"&&typeof g[e]=="function"&&b.test(h[e])){f[e]=(function(k,l){return function(){var n=this._super;this._super=g[k];var m=l.apply(this,arguments);this._super=n;return m;};}(e,h[e]));}else{f[e]=h[e];}}function d(){if(!a&&this.initialize){this.initialize.apply(this,arguments);}}d.prototype=f;d.prototype.constructor=d;d.extend=arguments.callee;return d;};}(jQuery));(function(a){a(window.jQuery,window,document);}(function(c,b,a,d){c.widget("selectBox.selectBoxIt",{VERSION:"2.5.0",options:{showEffect:"none",showEffectOptions:{},showEffectSpeed:"medium",hideEffect:"none",hideEffectOptions:{},hideEffectSpeed:"medium",showFirstOption:true,defaultText:"",defaultIcon:"",downArrowIcon:"",theme:"bootstrap",keydownOpen:true,isMobile:function(){var e=navigator.userAgent||navigator.vendor||b.opera;return(/iPhone|iPod|iPad|Android|BlackBerry|Opera Mini|IEMobile/).test(e);},nostyle:false,"native":false,aggressiveChange:false},_create:function(){var e=this;e.originalElem=e.element[0];e.selectBox=e.element;e.selectItems=e.element.find("option");e.firstSelectItem=e.element.find("option").slice(0,1);e.currentFocus=0;e.blur=true;e.documentHeight=c(a).height();e.textArray=[];e.currentIndex=0;e.flipped=false;e.disabledClasses=(function(){if(e.options.theme==="bootstrap"){return"disabled";}else{if(e.options.theme==="jqueryui"){return"ui-state-disabled";}else{if(e.options.theme==="jquerymobile"){return"ui-disabled";}else{return"selectboxit-disabled";}}}}());e._createDiv()._createUnorderedList()._replaceSelectBox()._eventHandlers();if(e.originalElem.disabled&&e.disable){e.disable();}if(e._ariaAccessibility){e._ariaAccessibility();}if(e.options.theme==="bootstrap"){e._twitterbootstrap();}else{if(this.options.theme==="jqueryui"){e._jqueryui();}else{if(this.options.theme==="jquerymobile"){e._jquerymobile();}else{e._addClasses();}}}e._mobile();if(e.options["native"]){this._applyNativeSelect();}e.selectBox.trigger("create");return e;},_createDiv:function(){var e=this;e.divText=c("<span/>",{id:(e.originalElem.id||"")&&e.originalElem.id+"SelectBoxItText","class":"selectboxit-text",unselectable:"on",text:e.firstSelectItem.text()}).attr("data-val",e.originalElem.value);e.divImage=c("<i/>",{id:(e.originalElem.id||"")&&e.originalElem.id+"SelectBoxItDefaultIcon","class":"selectboxit-default-icon",unselectable:"on"});e.div=c("<span/>",{id:(e.originalElem.id||"")&&e.originalElem.id+"SelectBoxIt","class":"selectboxit "+(e.selectBox.attr("class")||""),style:e.selectBox.attr("style"),name:e.originalElem.name,tabindex:e.selectBox.attr("tabindex")||"0",unselectable:"on"}).append(e.divImage).append(e.divText);e.divContainer=c("<span/>",{id:(e.originalElem.id||"")&&e.originalElem.id+"SelectBoxItContainer","class":"selectboxit-container"}).append(e.div);return e;},_createUnorderedList:function(){var p=this,l,k,g,m,e,f,o,n="",h=c("<ul/>",{id:(p.originalElem.id||"")&&p.originalElem.id+"SelectBoxItOptions","class":"selectboxit-options",tabindex:-1});if(!p.options.showFirstOption){p.selectItems=p.selectBox.find("option").slice(1);}p.selectItems.each(function(q){k="";g="";l=c(this).prop("disabled");m=c(this).data("icon")||"";e=c(this).data("iconurl")||"";f=e?"selectboxit-option-icon-url":"";o=e?"style=\"background-image:url('"+e+"');\"":"";if(c(this).parent().is("optgroup")){k="selectboxit-optgroup-option";if(c(this).index()===0){g='<div class="selectboxit-optgroup-header" data-disabled="true">'+c(this).parent().first().attr("label")+"</div>";}}n+=g+'<li id="'+q+'" data-val="'+p.htmlEscape(this.value)+'" data-disabled="'+l+'" class="'+k+" selectboxit-option"+(c(this).attr("class")||"")+'" style="'+(c(this).attr("style")||"")+'"><a class="selectboxit-option-anchor"><i class="selectboxit-option-icon '+m+" "+f+'"'+o+"></i>"+p.htmlEscape(c(this).text())+"</a></li>";p.textArray[q]=c(this).text();if(this.selected){p.divText.text(c(this).text());p.currentFocus=q;}});if(p.options.defaultText){p.divText.text(p.options.defaultText);}if(p.selectBox.data("text")){p.divText.text(p.selectBox.data("text"));p.options.defaultText=p.selectBox.data("text");}h.append(n);p.list=h;p.divContainer.append(p.list);p.listItems=p.list.find("li");p.listItems.first().addClass("selectboxit-option-first");p.listItems.last().addClass("selectboxit-option-last");p.list.find("li[data-disabled='true']").not(".optgroupHeader").addClass(p.disabledClasses);if(p.currentFocus===0&&!p.options.showFirstOption&&p.listItems.eq(0).hasClass(p.disabledClasses)){p.currentFocus=+p.listItems.not(".ui-state-disabled").first().attr("id");}p.divImage.addClass(p.selectBox.data("icon")||p.options.defaultIcon||p.listItems.eq(p.currentFocus).find("i").attr("class"));p.divImage.attr("style",p.listItems.eq(p.currentFocus).find("i").attr("style"));return p;},_replaceSelectBox:function(){var f=this;f.selectBox.css("display","none").after(f.divContainer);var e=f.div.height();f.downArrow=c("<i/>",{id:(f.originalElem.id||"")&&f.originalElem.id+"SelectBoxItArrow","class":"selectboxit-arrow",unselectable:"on"});f.downArrowContainer=c("<span/>",{id:(f.originalElem.id||"")&&f.originalElem.id+"SelectBoxItArrowContainer","class":"selectboxit-arrow-container",unselectable:"on"}).append(f.downArrow);f.div.append(this.options.nostyle?f.downArrow:f.downArrowContainer);if(!f.options.nostyle){f.downArrowContainer.css({height:e+"px"});f.divText.css({"line-height":f.div.css("height"),"max-width":f.div.outerWidth()-(f.downArrowContainer.outerWidth()+f.divImage.outerWidth())});f.divImage.css({"margin-top":e/4});}return f;},_scrollToView:function(k){var f=this,h=f.list.scrollTop(),e=f.listItems.eq(f.currentFocus).height(),l=f.listItems.eq(f.currentFocus).position().top,g=f.list.height();if(k==="search"){if(g-l<e){f.list.scrollTop(h+(l-(g-e)));}else{if(l<-1){f.list.scrollTop(l-e);}}}else{if(k==="up"){if(l<-1){f.list.scrollTop(h-Math.abs(f.listItems.eq(f.currentFocus).position().top));}}else{if(k==="down"){if(g-l<e){f.list.scrollTop((h+(Math.abs(f.listItems.eq(f.currentFocus).position().top)-g+e)));}}}}return f;},_callbackSupport:function(f){var e=this;if(c.isFunction(f)){f.call(e,e.div);}return e;},open:function(f){var e=this;if(e._dynamicPositioning){e._dynamicPositioning();}if(!this.list.is(":visible")){e.selectBox.trigger("open");switch(e.options.showEffect){case"none":e.list.show();e._scrollToView("search");break;case"show":e.list.show(e.options.showEffectSpeed,function(){e._scrollToView("search");});break;case"slideDown":e.list.slideDown(e.options.showEffectSpeed,function(){e._scrollToView("search");});break;case"fadeIn":e.list.fadeIn(e.options.showEffectSpeed);e._scrollToView("search");break;default:e.list.show(e.options.showEffect,e.options.showEffectOptions,e.options.showEffectSpeed,function(){e._scrollToView("search");});break;}}e._callbackSupport(f);return e;},close:function(f){var e=this;if(e.list.is(":visible")){e.selectBox.trigger("close");switch(e.options.hideEffect){case"none":e.list.hide();e._scrollToView("search");break;case"hide":e.list.hide(e.options.hideEffectSpeed);break;case"slideUp":e.list.slideUp(e.options.hideEffectSpeed);break;case"fadeOut":e.list.fadeOut(e.options.hideEffectSpeed);break;default:e.list.hide(e.options.hideEffect,e.options.hideEffectOptions,e.options.hideEffectSpeed,function(){e._scrollToView("search");});break;}}e._callbackSupport(f);return e;},_eventHandlers:function(){var e=this,f=38,l=40,k=13,g=8,n=9,h=32,m=27;this.div.bind({"click.selectBoxIt":function(){e.div.focus();if(!e.originalElem.disabled){e.selectBox.trigger("click");if(e.list.is(":visible")){e.close();}else{e.open();}}},"mousedown.selectBoxIt":function(){c(this).data("mdown",true);},"blur.selectBoxIt":function(){if(e.blur){e.selectBox.trigger("blur").trigger("focusout");if(e.list.is(":visible")){e.close();}}},"focus.selectBoxIt":function(){var o=c(this).data("mdown");c(this).removeData("mdown");if(!o){setTimeout(function(){e.selectBox.trigger("tab-focus");},0);}if(!e.list.is(":visible")){e.selectBox.trigger("focus").trigger("focusin");}},"keydown.selectBoxIt":function(o){var q=o.keyCode;switch(q){case l:o.preventDefault();if(e.moveDown){if(e.options.keydownOpen){if(e.list.is(":visible")){e.moveDown();}else{e.open();}}else{e.moveDown();}}if(e.options.keydownOpen){e.open();}break;case f:o.preventDefault();if(e.moveUp){if(e.options.keydownOpen){if(e.list.is(":visible")){e.moveUp();}else{e.open();}}else{e.moveUp();}}if(e.options.keydownOpen){e.open();}break;case k:var p=e.list.find("li."+e.focusClass);if(!p.length){p=e.listItems.first();}e._update(p);o.preventDefault();if(e.list.is(":visible")){e.close();}e.selectBox.trigger("enter");break;case n:e.selectBox.trigger("tab-blur");break;case g:o.preventDefault();e.selectBox.trigger("backspace");break;case m:e.close();break;default:break;}},"keypress.selectBoxIt":function(p){var q=p.charCode||p.keyCode,o=String.fromCharCode(q);if(q===h){p.preventDefault();}if(e.search){e.search(o,true,"");}},"mouseenter.selectBoxIt":function(){e.selectBox.trigger("mouseenter");},"mouseleave.selectBoxIt":function(){e.selectBox.trigger("mouseleave");}});e.list.bind({"mouseover.selectBoxIt":function(){e.blur=false;},"mouseout.selectBoxIt":function(){e.blur=true;},"focusin.selectBoxIt":function(){e.div.focus();}}).delegate("li","click.selectBoxIt",function(){e._update(c(this));var o=e.options.showFirstOption?e.currentFocus:((e.currentFocus-1)>=0?e.currentFocus:0);e.selectBox.trigger("option-click",{elem:e.selectBox.eq(o),"dropdown-elem":e.listItems.eq(e.currentFocus)});if(c(this).attr("data-disabled")==="false"){e.close();}}).delegate("li","focus.selectBoxIt",function(){e.listItems.not(c(this)).removeAttr("data-active");c(this).attr("data-active","");if(e.options.aggressiveChange){e._update(c(this));}});e.selectBox.bind({"change.selectBoxIt, internal-change.selectBoxIt":function(q,o){if(!o){var p=e.list.find('li[data-val="'+e.originalElem.value+'"]');if(p.length){e.listItems.eq(e.currentFocus).removeClass(e.focusClass);e.currentFocus=+p.attr("id");}}e.divText.text(e.listItems.eq(e.currentFocus).find("a").text()).attr("data-val",e.originalElem.value);if(e.listItems.eq(e.currentFocus).find("i").attr("class")){e.divImage.attr("class",e.listItems.eq(e.currentFocus).find("i").attr("class")).addClass("selectboxit-default-icon");e.divImage.attr("style",e.listItems.eq(e.currentFocus).find("i").attr("style"));}e.selectBox.trigger("changed");},"disable.selectBoxIt":function(){e.div.addClass(e.disabledClasses);},"enable.selectBoxIt":function(){e.div.removeClass(e.disabledClasses);}});return e;},_update:function(f){var e=this;if(f.attr("data-disabled")==="false"){if((e.options.defaultText&&e.divText.text()===e.options.defaultText)){e.divText.text(e.listItems.eq(e.currentFocus).text()).trigger("internal-change",true);}else{e.selectBox.val(f.attr("data-val"));e.currentFocus=+f.attr("id");if(e.originalElem.value!==e.divText.attr("data-val")){e.selectBox.trigger("change",true);}}}},_addClasses:function(k){var g=this,h=k.focusClasses||"selectboxit-focus",f=k.buttonClasses||"selectboxit-btn",e=k.listClasses||"selectboxit-dropdown";g.focusClass=h;g.downArrow.addClass(g.selectBox.data("downarrow")||g.options.downArrowIcon||k.arrowClasses);g.divContainer.addClass(k.containerClasses);g.div.addClass(f);g.list.addClass(e);g.listItems.bind({"focus.selectBoxIt":function(){c(this).addClass(h);},"blur.selectBoxIt":function(){c(this).removeClass(h);}});g.selectBox.bind({"open.selectBoxIt":function(){var l=g.list.find("li[data-val='"+g.divText.attr("data-val")+"']");if(!l.length){l=g.listItems.first();}g.currentFocus=+l.attr("id");var m=g.listItems.eq(g.currentFocus);g.div.removeClass(h);g.listItems.removeAttr("data-active").not(m).removeClass(h);m.addClass(h);},"blur.selectBoxIt":function(){g.div.removeClass(h);},"mouseenter.selectBoxIt":function(){g.div.addClass(h);},"mouseleave.selectBoxIt":function(){g.div.removeClass(h);}});g.listItems.bind({"mouseenter.selectBoxIt":function(){if(c(this).attr("data-disabled")==="false"){g.listItems.removeAttr("data-active");c(this).addClass(h).attr("data-active","");g.listItems.not(c(this)).removeClass(h);c(this).addClass(h);g.currentFocus=+c(this).attr("id");}},"mouseleave.selectBoxIt":function(){if(c(this).attr("data-disabled")==="false"){g.listItems.not(c(this)).removeClass(h).removeAttr("data-active");}}});c(".selectboxit-option-icon").not(".selectboxit-default-icon").css("margin-top",g.downArrowContainer.height()/4);return g;},_jqueryui:function(){var e=this;e._addClasses({focusClasses:"ui-state-focus",arrowClasses:"ui-icon ui-icon-triangle-1-s",buttonClasses:"ui-widget ui-state-default",listClasses:"ui-widget ui-widget-content",containerClasses:""});return e;},_twitterbootstrap:function(){var e=this;e._addClasses({focusClasses:"active",arrowClasses:"caret",buttonClasses:"btn",listClasses:"dropdown-menu",containerClasses:""});return e;},_jquerymobile:function(){var e=this,f=e.selectBox.attr("data-theme")||"c";e._addClasses({focusClasses:"ui-btn-active-"+f+" ui-btn-down-"+f,arrowClasses:"ui-icon ui-icon-arrow-d ui-icon-shadow",buttonClasses:"ui-btn ui-btn-icon-right ui-btn-corner-all ui-shadow ui-btn-up-"+f,listClasses:"ui-btn ui-btn-icon-right ui-btn-corner-all ui-shadow ui-btn-up-"+f,containerClasses:""});return e;},destroy:function(f){var e=this;e._destroySelectBoxIt();c.Widget.prototype.destroy.call(e);e._callbackSupport(f);return e;},_destroySelectBoxIt:function(){var e=this;e.div.unbind(".selectBoxIt").undelegate(".selectBoxIt");e.divContainer.remove();e.selectBox.trigger("destroy").show();return e;},refresh:function(f){var e=this;e._destroySelectBoxIt()._create()._callbackSupport(f);e.selectBox.trigger("refresh");return e;},_applyNativeSelect:function(){var e=this,f;e.divContainer.css({position:"static"});e.selectBox.css({display:"block",width:e.div.outerWidth(),height:e.div.outerHeight(),opacity:"0",position:"absolute",top:e.div.position().top,bottom:e.div.position().bottom,left:e.div.position().left,right:e.div.position().right,visibility:"visible",cursor:"pointer","z-index":"999999"}).bind({"changed.selectBoxIt":function(){f=e.selectBox.find("option").filter(":selected");e.divText.text(f.text());if(e.list.find('li[data-val="'+f.val()+'"]').find("i").attr("class")){e.divImage.attr("class",e.list.find('li[data-val="'+f.val()+'"]').find("i").attr("class")).addClass("selectboxit-default-icon");}}});},_mobile:function(f){var e=this;if(this.options.isMobile()){e._applyNativeSelect();}return this;},htmlEscape:function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;");}});}));(function(a){a(window.jQuery,window,document);}(function(c,b,a,d){c.selectBox.selectBoxIt.prototype._ariaAccessibility=function(){var e=this;e.div.attr({role:"combobox","aria-autocomplete":"list","aria-expanded":"false","aria-owns":e.list.attr("id"),"aria-activedescendant":e.listItems.eq(e.currentFocus).attr("id"),"aria-label":c("label[for='"+e.originalElem.id+"']").text()||"","aria-live":"assertive"}).bind({"disable.selectBoxIt":function(){e.div.attr("aria-disabled","true");},"enable.selectBoxIt":function(){e.div.attr("aria-disabled","false");}});e.list.attr({role:"listbox","aria-hidden":"true"});e.listItems.attr({role:"option"});e.selectBox.bind({"change.selectBoxIt":function(){e.divText.attr("aria-label",e.originalElem.value);},"open.selectBoxIt":function(){e.list.attr("aria-hidden","false");e.div.attr("aria-expanded","true");},"close.selectBoxIt":function(){e.list.attr("aria-hidden","true");e.div.attr("aria-expanded","false");}});return e;};}));(function(a){a(window.jQuery,window,document);}(function(c,b,a,d){c.selectBox.selectBoxIt.prototype.disable=function(f){var e=this;if(!e.options.disabled){e.close();e.selectBox.trigger("disable").attr("disabled","disabled");e.div.removeAttr("tabindex").addClass("selectboxit-disabled");c.Widget.prototype.disable.call(e);}e._callbackSupport(f);return e;};c.selectBox.selectBoxIt.prototype.disableOption=function(h,m){var g=this,k,f=0,l,e;if(typeof h==="number"){g.close();k=g.selectBox.find("option").eq(h);f=g.options.showFirstOption?h:((h-1)>=0?h:0);g.selectBox.trigger("disable-option",k);k.attr("disabled","disabled");g.listItems.eq(h).attr("data-disabled","true").addClass(g.disabledClasses);if(g.currentFocus===h){l=g.listItems.eq(g.currentFocus).nextAll("li").not("[data-disabled='true']").first().length;e=g.listItems.eq(g.currentFocus).prevAll("li").not("[data-disabled='true']").first().length;if(l){g.moveDown();}else{if(e){g.moveUp();}else{g.disable();}}}}g._callbackSupport(m);return g;};c.selectBox.selectBoxIt.prototype._isDisabled=function(f){var e=this;if(e.originalElem.disabled){e.disable();}return e;};}));(function(a){a(window.jQuery,window,document);}(function(c,b,a,d){c.selectBox.selectBoxIt.prototype._dynamicPositioning=function(){var o=this,h=o.div.offset().top,f=o.list.data("max-height")||o.list.outerHeight(),k=o.div.outerHeight(),e=c(b).height(),m=c(b).scrollTop(),p=(h+k+f<=e+m),l=!p;if(!o.list.data("max-height")){o.list.data("max-height",o.list.outerHeight());}o.selectBox.css("display","none");if(!l){o.list.css("max-height",o.list.data("max-height"));o.list.css("top","auto");}else{if((o.div.offset().top-m)>=f){o.list.css("max-height",o.list.data("max-height"));o.list.css("top",(o.div.position().top-o.list.outerHeight()));}else{var g=Math.abs((h+k+f)-(e+m)),n=Math.abs((o.div.offset().top-m)-f);if(g<n){o.list.css("max-height",o.list.data("max-height")-g-(k/2));o.list.css("top","auto");}else{o.list.css("max-height",o.list.data("max-height")-n-(k/2));o.list.css("top",(o.div.position().top-o.list.outerHeight()));}}}return o;};}));(function(a){a(window.jQuery,window,document);}(function(c,b,a,d){c.selectBox.selectBoxIt.prototype.enable=function(f){var e=this;if(e.options.disabled){e.selectBox.trigger("enable").removeAttr("disabled");e.div.attr("tabindex",0).removeClass(e.disabledClasses);c.Widget.prototype.enable.call(e);e._callbackSupport(f);}return e;};c.selectBox.selectBoxIt.prototype.enableOption=function(h,m){var g=this,k,f=0,l,e;if(typeof h==="number"){k=g.selectBox.find("option").eq(h);f=g.options.showFirstOption?h:((h-1)>=0?h:0);g.selectBox.trigger("enable-option",k);k.removeAttr("disabled");g.listItems.eq(h).attr("data-disabled","false").removeClass(g.disabledClasses);}g._callbackSupport(m);return g;};}));(function(a){a(window.jQuery,window,document);}(function(c,b,a,d){c.selectBox.selectBoxIt.prototype.moveDown=function(k){var f=this;f.currentFocus+=1;var g=f.listItems.eq(f.currentFocus).attr("data-disabled")==="true"?true:false,h=f.listItems.eq(f.currentFocus).nextAll("li").not("[data-disabled='true']").first().length;if(f.currentFocus===f.listItems.length){f.currentFocus-=1;}else{if(g&&h){f.listItems.eq(f.currentFocus-1).blur();f.moveDown();return;}else{if(g&&!h){f.currentFocus-=1;}else{f.listItems.eq(f.currentFocus-1).blur().end().eq(f.currentFocus).focus();f._scrollToView("down");var e=f.options.showFirstOption?f.currentFocus:((f.currentFocus-1)>=0?f.currentFocus:0);f.selectBox.trigger("moveDown",{elem:f.selectBox.eq(e),"dropdown-elem":f.listItems.eq(f.currentFocus)});}}}f._callbackSupport(k);return f;};c.selectBox.selectBoxIt.prototype.moveUp=function(k){var g=this;g.currentFocus-=1;var h=g.listItems.eq(g.currentFocus).attr("data-disabled")==="true"?true:false,e=g.listItems.eq(g.currentFocus).prevAll("li").not("[data-disabled='true']").first().length;if(g.currentFocus===-1){g.currentFocus+=1;}else{if(h&&e){g.listItems.eq(g.currentFocus+1).blur();g.moveUp();return;}else{if(h&&!e){g.currentFocus+=1;}else{g.listItems.eq(this.currentFocus+1).blur().end().eq(g.currentFocus).focus();g._scrollToView("up");var f=g.options.showFirstOption?g.currentFocus:((g.currentFocus-1)>=0?g.currentFocus:0);g.selectBox.trigger("moveUp",{elem:g.selectBox.eq(f),"dropdown-elem":g.listItems.eq(g.currentFocus)});}}}g._callbackSupport(k);return g;};}));(function(a){a(window.jQuery,window,document);}(function(c,b,a,d){c.selectBox.selectBoxIt.prototype._setCurrentSearchOption=function(g){var f=this;if(f.listItems.eq(g).is(":visible")&&f.listItems.eq(g).data("disabled")!==true){f.listItems.eq(f.currentFocus).blur();f.currentIndex=g;f.currentFocus=g;f.listItems.eq(f.currentFocus).focus();f._scrollToView("search");var e=f.options.showFirstOption?f.currentFocus:((f.currentFocus-1)>=0?f.currentFocus:0);f.selectBox.trigger("search",{elem:f.selectBox.eq(e),"dropdown-elem":f.listItems.eq(f.currentFocus)});}return f;};c.selectBox.selectBoxIt.prototype._searchAlgorithm=function(f,k){var g=this,h=false,e,m,l;for(e=f,l=g.textArray.length;e<l;e+=1){for(m=0;m<l;m+=1){if(g.textArray[m].search(k)!==-1){h=true;m=l;}}if(!h){g.currentText=g.currentText.charAt(g.currentText.length-1).replace(/[|()\[{.+*?$\\]/g,"\\$0");k=new RegExp(g.currentText,"gi");}if(g.currentText.length<3){k=new RegExp(g.currentText.charAt(0),"gi");if((g.textArray[e].charAt(0).search(k)!==-1)){g._setCurrentSearchOption(e);g.currentIndex+=1;return false;}}else{if((g.textArray[e].search(k)!==-1)){g._setCurrentSearchOption(e);return false;}}if(g.textArray[e].toLowerCase()===g.currentText.toLowerCase()){g._setCurrentSearchOption(e);g.currentText="";return false;}}return true;};c.selectBox.selectBoxIt.prototype.search=function(f,g,l){var e=this;if(g){e.currentText+=f.replace(/[|()\[{.+*?$\\]/g,"\\$0");}else{e.currentText=f.replace(/[|()\[{.+*?$\\]/g,"\\$0");}var k=new RegExp(e.currentText,"gi"),h=e._searchAlgorithm(e.currentIndex,k);if(h){e._searchAlgorithm(0,k);}e._callbackSupport(l);return e;};}));(function(a){a(window.jQuery,window,document);}(function(c,b,a,d){c.selectBox.selectBoxIt.prototype.selectOption=function(f,g){var e=this;if(typeof f==="number"){e.selectBox.val(e.selectBox.find("option").eq(f).val()).change();}else{if(typeof f==="string"){e.selectBox.val(f).change();}}e._callbackSupport(g);return e;};}));(function(a){a(window.jQuery,window,document);}(function(c,b,a,d){c.selectBox.selectBoxIt.prototype.setOption=function(f,g,h){var e=this;if(f==="showFirstOption"&&!g){e.listItems.eq(0).hide();}else{if(f==="showFirstOption"&&g){e.listItems.eq(0).show();}else{if(f==="defaultIcon"&&g){e.divImage.attr("class",g+" selectboxit-arrow");}else{if(f==="downArrowIcon"&&g){e.downArrow.attr("class",g+" selectboxit-arrow");}else{if(f==="defaultText"){e.divText.text(g);}}}}}c.Widget.prototype._setOption.apply(e,arguments);e._callbackSupport(h);return e;};}));(function(a){a(window.jQuery,window,document);}(function(c,b,a,d){c.selectBox.selectBoxIt.prototype.setOptions=function(f,g){var e=this;c.Widget.prototype._setOptions.apply(e,arguments);if(e.options.showFirstOption){e.listItems.eq(0).show();}else{e.listItems.eq(0).hide();}if(e.options.defaultIcon){e.divImage.attr("class",e.options.defaultIcon+" selectboxit-arrow");}if(e.options.downArrowIcon){e.downArrow.attr("class",e.options.downArrowIcon+" selectboxit-arrow");}if(e.options.defaultText){e.divText.text(e.options.defaultText);}e._callbackSupport(g);return e;};}));(function(a){a(window.jQuery,window,document);}(function(c,b,a,d){c.selectBox.selectBoxIt.prototype.wait=function(g,h){var e=this,f=this.returnTimeout(g);f.then(function(){e._callbackSupport(h);});return e;};c.selectBox.selectBoxIt.prototype.returnTimeout=function(e){return c.Deferred(function(f){setTimeout(f.resolve,e);});};}));(function(c,b,a,e){var d=Array.prototype.slice;c.EndecaSearch=c.Class.extend({initialize:function(g,f){this.options(f);this.proxied={render:c.proxy(this.render,this),source:c.proxy(this.source,this),select:c.proxy(this.select,this)};this.searchTerm="";this.$el=c(g);this.$el.autocomplete({minLength:this.options.minLength,appendTo:this.options.displayParent,position:this.options.displayPosition,source:this.proxied.source,select:this.proxied.select});this.$el.data("autocomplete")._renderItem=this.proxied.render;},select:function(f,g){if(g.item){this.$el.val(g.item.value);if(this.options.submitOnSelection){this.$el.closest("form").submit();}}return false;},render:function(f,g){return c("<li></li>").data("item.autocomplete",g).append("<a>"+this.embolden(this.searchTerm,g.value)+"</a>").appendTo(f);},source:function(h,g){this.searchTerm=h.term;var f=/^\d{13}$/;c.ajax({url:this.options.url,dataType:this.options.responseType,data:{term:!(f).test(c.trim(h.term))?c.trim(h.term).toLowerCase():h.term},success:g});},options:function(g,h){var f;if(typeof g==="string"){f={};f[g]=h;}else{f=g;}this.options=c.extend({},c.fn.endecaSearch.defaults,f);},embolden:function(f,h){var g=c.trim(f).toLowerCase().replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");return c.trim(h.replace(new RegExp("\\b("+g+")","gi"),"<b>$1</b>"));}});c.fn.endecaSearch=function(g){var f=d.call(arguments,1),h;if(typeof g==="string"){h=g;g=null;}return this.each(function(){var k=c.data(this,"endeca-search");if(!k){k=new c.EndecaSearch(this,g);c.data(this,"endeca-search",k);}if(h){k[h].apply(k,f);}});};c.fn.endecaSearch.defaults={url:"/search/lookahead_json.jsp",responseType:"jsonp",minLength:3,submitOnSelection:true,displayParent:"#saksSearch",displayPosition:{me:"left top",at:"left bottom"}};}(jQuery,window,document));(function(d,b,a,f){var e=Array.prototype.slice;var c=function(l,h,k){var g=e.call(arguments,3);return b.setTimeout(function(){l.apply(k,g);},h);};d.SaksSearch=d.Class.extend({initialize:function(h,g){this.option(g);this.$el=d(h);this.inner={};this.inner.drop=this.$el.find(".search-drop");this.inner.search=this.$el.find('[name="SearchString"]');this.inner.categories=this.$el.find('[name="N_Dim"]');this.inner.suggestions=this.inner.drop.find(".search-suggestions");this.inner.search.val("");this.inner.search.placeholder();if(this.inner.search.data("lookahead")){this.enableEndecaLookAhead();}this.createCategoryDropDown();this.inner.drop.hide();this.proxied={onFocusIn:d.proxy(this.onFocusIn,this),onExternalClick:d.proxy(this.onExternalClick,this),onInternalClick:d.proxy(this.onInternalClick,this)};this.$el.on("click",this.proxied.onInternalClick);this.$el.on("focusin",this.proxied.onFocusIn);this.$el.on("focusout",this.proxied.onFocusOut);},enableEndecaLookAhead:function(){this.inner.search.endecaSearch({displayParent:this.inner.suggestions,displayPosition:{me:"left top",at:"left top",of:this.inner.suggestions}}).on("autocompleteopen",function(g,h){d(g.target).closest("form").addClass("suggestion-list-opened");}).on("autocompleteclose",function(g,h){d(g.target).closest("form").removeClass("suggestion-list-opened");});return this;},createCategoryDropDown:function(){var g=this;this.inner.categories.selectBoxIt({showEffect:"fadeIn",showEffectSpeed:250,hideEffect:"none",hideEffectSpeed:250,nostyle:true});this.inner.categories.attr("tabindex",-1);var h=this.inner.categories.data("selectBoxIt");h.setOption("downArrowIcon","ui-icon ui-icon-triangle-1-s");this.inner.categories.on({focus:false,open:function(k){g.$el.addClass("category-list-opened");h.setOption("downArrowIcon","ui-icon ui-icon-triangle-1-n");},close:function(k){g.$el.removeClass("category-list-opened");h.setOption("downArrowIcon","ui-icon ui-icon-triangle-1-s");g.inner.search.focus();}});},onFocusIn:function(g){this.open();},onExternalClick:function(g){if(d.browser.mozilla&&d.contains(this.$el[0],g.target)){return;}this.close();},onInternalClick:function(g){g.stopPropagation();},open:function(){if(this.isOpened){return;}this.isOpened=true;this.$el.addClass("open");this.inner.drop.fadeIn("fast");d(a).on("click",this.proxied.onExternalClick);},close:function(){if(!this.isOpened){return;}this.isOpened=false;this.$el.removeClass("open");this.inner.drop.hide();d(a).off("click",this.proxied.onExternalClick);this.inner.search.blur();},option:function(h,k){var g;if(typeof h==="string"){g={};g[h]=k;}else{g=h;}this.options=d.extend({},this.options,g);}});d.fn.saksSearch=function(g){this.each(function(){var h=d.data(this,"SaksSearch");var l,k;if(typeof g==="string"){l=g;g=null;}if(!h){g=d.extend({},d.fn.saksSearch.defaults,g);h=new d.SaksSearch(this,g);d.data(this,"SaksSearch",h);}if(l&&h[l]){k=Array.prototype.slice(arguments,1);h[l].apply(h,k);}});};d.fn.saksSearch.defaults={};}(jQuery,window,document));(function(d,b,a,f){var e=Array.prototype.slice;var c=function(k,g,h){return b.setTimeout(function(){k.apply(h,e.call(arguments,3));},g);};d.SaksNavigation=d.Class.extend({initialize:function(h,g){this.options=g;this.$el=d(h);this.$el.find(this.options.overlaySelector).hide();this.proxied={onMouseEnter:d.proxy(this.onMouseEnter,this),onMouseLeave:d.proxy(this.onMouseLeave,this)};if(!this.options.noQuirkMode||d.support.boxModel){this.$el.find(this.options.menuSelector).hover(this.proxied.onMouseEnter,this.proxied.onMouseLeave);}},show:function(g){g.stop(true,true);switch(this.options.showEffect){case"fade":g.fadeIn(this.options.showEffectDuration,this.options.showEffectEasing);break;case"slide":g.slideDown(this.options.showEffectDuration,this.options.showEffectEasing);break;default:g.show(this.options.showEffectDuration,this.options.showEffectEasing);break;}},hide:function(g){g.stop(true,true);switch(this.options.showEffect){case"fade":g.fadeOut(this.options.hideEffectDuration,this.options.hideEffectEasing);break;case"slide":g.slideUp(this.options.hideEffectDuration,this.options.hideEffectEasing);break;default:g.hide(this.options.hideEffectDuration,this.options.hideEffectEasing);break;}},onMouseEnter:function(k){var h=d(k.target).closest(this.options.menuSelector);var g=c(function(){this.show(h.find(this.options.overlaySelector));},this.options.showEffectDelay,this);h.data("timerId",g);},onMouseLeave:function(h){var g=d(h.target).closest(this.options.menuSelector);b.clearTimeout(g.data("timerId"));this.hide(g.find(this.options.overlaySelector));}});d.fn.saksNavigation=function(g){return this.each(function(){var h=d.data(this,"SaksNavigation");var k;if(typeof g==="string"){k=g;g=null;}g=d.extend({},d.fn.saksNavigation.defaults,g);if(!h){h=new d.SaksNavigation(this,g);d.data(this,"SaksNavigation",h);}if(k){h[k].apply(h,e.call(arguments,1));}});};d.fn.saksNavigation.defaults={menuSelector:".menu-column",overlaySelector:".sub-menu",showEffect:"fade",showEffectDuration:300,showEffectDelay:350,showEffectEasing:"swing",hideEffect:"fade",hideEffectDuration:150,hideEffectEasing:"swing",noQuirkMode:true};}(jQuery,window,document));(function(a){a.fn.serializeObject=function(){var c={};var b=this.serializeArray();a.each(b,function(){if(c[this.name]!==undefined){if(!c[this.name].push){c[this.name]=[c[this.name]];}c[this.name].push(this.value||"");}else{c[this.name]=this.value||"";}});return c;};})(jQuery);(function(){var A=this;var w=A._;var b={};var l=Array.prototype,G=Object.prototype,J=Function.prototype;var y=l.slice,C=l.unshift,B=G.toString,r=G.hasOwnProperty;var p=l.forEach,k=l.map,E=l.reduce,e=l.reduceRight,o=l.filter,a=l.every,D=l.some,z=l.indexOf,f=l.lastIndexOf,c=Array.isArray,F=Object.keys,m=J.bind;var I=function(L){return new g(L);};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=I;}exports._=I;}else{A._=I;}I.VERSION="1.3.1";var d=I.each=I.forEach=function(Q,P,O){if(Q==null){return;}if(p&&Q.forEach===p){Q.forEach(P,O);}else{if(Q.length===+Q.length){for(var N=0,L=Q.length;N<L;N++){if(N in Q&&P.call(O,Q[N],N,Q)===b){return;}}}else{for(var M in Q){if(I.has(Q,M)){if(P.call(O,Q[M],M,Q)===b){return;}}}}}};I.map=I.collect=function(O,N,M){var L=[];if(O==null){return L;}if(k&&O.map===k){return O.map(N,M);}d(O,function(R,P,Q){L[L.length]=N.call(M,R,P,Q);});if(O.length===+O.length){L.length=O.length;}return L;};I.reduce=I.foldl=I.inject=function(P,O,L,N){var M=arguments.length>2;if(P==null){P=[];}if(E&&P.reduce===E){if(N){O=I.bind(O,N);}return M?P.reduce(O,L):P.reduce(O);}d(P,function(S,Q,R){if(!M){L=S;M=true;}else{L=O.call(N,L,S,Q,R);}});if(!M){throw new TypeError("Reduce of empty array with no initial value");}return L;};I.reduceRight=I.foldr=function(P,O,L,N){var M=arguments.length>2;if(P==null){P=[];}if(e&&P.reduceRight===e){if(N){O=I.bind(O,N);}return M?P.reduceRight(O,L):P.reduceRight(O);}var Q=I.toArray(P).reverse();if(N&&!M){O=I.bind(O,N);}return M?I.reduce(Q,O,L,N):I.reduce(Q,O);};I.find=I.detect=function(O,N,M){var L;u(O,function(R,P,Q){if(N.call(M,R,P,Q)){L=R;return true;}});return L;};I.filter=I.select=function(O,N,M){var L=[];if(O==null){return L;}if(o&&O.filter===o){return O.filter(N,M);}d(O,function(R,P,Q){if(N.call(M,R,P,Q)){L[L.length]=R;}});return L;};I.reject=function(O,N,M){var L=[];if(O==null){return L;}d(O,function(R,P,Q){if(!N.call(M,R,P,Q)){L[L.length]=R;}});return L;};I.every=I.all=function(O,N,M){var L=true;if(O==null){return L;}if(a&&O.every===a){return O.every(N,M);}d(O,function(R,P,Q){if(!(L=L&&N.call(M,R,P,Q))){return b;}});return L;};var u=I.some=I.any=function(O,N,M){N||(N=I.identity);var L=false;if(O==null){return L;}if(D&&O.some===D){return O.some(N,M);}d(O,function(R,P,Q){if(L||(L=N.call(M,R,P,Q))){return b;}});return !!L;};I.include=I.contains=function(N,M){var L=false;if(N==null){return L;}if(z&&N.indexOf===z){return N.indexOf(M)!=-1;}L=u(N,function(O){return O===M;});return L;};I.invoke=function(M,N){var L=y.call(arguments,2);return I.map(M,function(O){return(I.isFunction(N)?N||O:O[N]).apply(O,L);});};I.pluck=function(M,L){return I.map(M,function(N){return N[L];});};I.max=function(O,N,M){if(!N&&I.isArray(O)){return Math.max.apply(Math,O);}if(!N&&I.isEmpty(O)){return -Infinity;}var L={computed:-Infinity};d(O,function(S,P,R){var Q=N?N.call(M,S,P,R):S;Q>=L.computed&&(L={value:S,computed:Q});});return L.value;};I.min=function(O,N,M){if(!N&&I.isArray(O)){return Math.min.apply(Math,O);}if(!N&&I.isEmpty(O)){return Infinity;}var L={computed:Infinity};d(O,function(S,P,R){var Q=N?N.call(M,S,P,R):S;Q<L.computed&&(L={value:S,computed:Q});});return L.value;};I.shuffle=function(N){var L=[],M;d(N,function(Q,O,P){if(O==0){L[0]=Q;}else{M=Math.floor(Math.random()*(O+1));L[O]=L[M];L[M]=Q;}});return L;};I.sortBy=function(N,M,L){return I.pluck(I.map(N,function(Q,O,P){return{value:Q,criteria:M.call(L,Q,O,P)};}).sort(function(R,Q){var P=R.criteria,O=Q.criteria;return P<O?-1:P>O?1:0;}),"value");};I.groupBy=function(N,O){var L={};var M=I.isFunction(O)?O:function(P){return P[O];};d(N,function(R,P){var Q=M(R,P);(L[Q]||(L[Q]=[])).push(R);});return L;};I.sortedIndex=function(Q,P,N){N||(N=I.identity);var L=0,O=Q.length;while(L<O){var M=(L+O)>>1;N(Q[M])<N(P)?L=M+1:O=M;}return L;};I.toArray=function(L){if(!L){return[];}if(L.toArray){return L.toArray();}if(I.isArray(L)){return y.call(L);}if(I.isArguments(L)){return y.call(L);}return I.values(L);};I.size=function(L){return I.toArray(L).length;};I.first=I.head=function(N,M,L){return(M!=null)&&!L?y.call(N,0,M):N[0];};I.initial=function(N,M,L){return y.call(N,0,N.length-((M==null)||L?1:M));};I.last=function(N,M,L){if((M!=null)&&!L){return y.call(N,Math.max(N.length-M,0));}else{return N[N.length-1];}};I.rest=I.tail=function(N,L,M){return y.call(N,(L==null)||M?1:L);};I.compact=function(L){return I.filter(L,function(M){return !!M;});};I.flatten=function(M,L){return I.reduce(M,function(N,O){if(I.isArray(O)){return N.concat(L?O:I.flatten(O));}N[N.length]=O;return N;},[]);};I.without=function(L){return I.difference(L,y.call(arguments,1));};I.uniq=I.unique=function(P,O,N){var M=N?I.map(P,N):P;var L=[];I.reduce(M,function(Q,S,R){if(0==R||(O===true?I.last(Q)!=S:!I.include(Q,S))){Q[Q.length]=S;L[L.length]=P[R];}return Q;},[]);return L;};I.union=function(){return I.uniq(I.flatten(arguments,true));};I.intersection=I.intersect=function(M){var L=y.call(arguments,1);return I.filter(I.uniq(M),function(N){return I.every(L,function(O){return I.indexOf(O,N)>=0;});});};I.difference=function(M){var L=I.flatten(y.call(arguments,1));return I.filter(M,function(N){return !I.include(L,N);});};I.zip=function(){var L=y.call(arguments);var O=I.max(I.pluck(L,"length"));var N=new Array(O);for(var M=0;M<O;M++){N[M]=I.pluck(L,""+M);}return N;};I.indexOf=function(P,N,O){if(P==null){return -1;}var M,L;if(O){M=I.sortedIndex(P,N);return P[M]===N?M:-1;}if(z&&P.indexOf===z){return P.indexOf(N);}for(M=0,L=P.length;M<L;M++){if(M in P&&P[M]===N){return M;}}return -1;};I.lastIndexOf=function(N,M){if(N==null){return -1;}if(f&&N.lastIndexOf===f){return N.lastIndexOf(M);}var L=N.length;while(L--){if(L in N&&N[L]===M){return L;}}return -1;};I.range=function(Q,O,P){if(arguments.length<=1){O=Q||0;Q=0;}P=arguments[2]||1;var M=Math.max(Math.ceil((O-Q)/P),0);var L=0;var N=new Array(M);while(L<M){N[L++]=Q;Q+=P;}return N;};var h=function(){};I.bind=function K(O,M){var N,L;if(O.bind===m&&m){return m.apply(O,y.call(arguments,1));}if(!I.isFunction(O)){throw new TypeError;}L=y.call(arguments,2);return N=function(){if(!(this instanceof N)){return O.apply(M,L.concat(y.call(arguments)));}h.prototype=O.prototype;var Q=new h;var P=O.apply(Q,L.concat(y.call(arguments)));if(Object(P)===P){return P;}return Q;};};I.bindAll=function(M){var L=y.call(arguments,1);if(L.length==0){L=I.functions(M);}d(L,function(N){M[N]=I.bind(M[N],M);});return M;};I.memoize=function(N,M){var L={};M||(M=I.identity);return function(){var O=M.apply(this,arguments);return I.has(L,O)?L[O]:(L[O]=N.apply(this,arguments));};};I.delay=function(M,N){var L=y.call(arguments,2);return setTimeout(function(){return M.apply(M,L);},N);};I.defer=function(L){return I.delay.apply(I,[L,1].concat(y.call(arguments,1)));};I.throttle=function(Q,S){var O,L,R,P,N;var M=I.debounce(function(){N=P=false;},S);return function(){O=this;L=arguments;var T=function(){R=null;if(N){Q.apply(O,L);}M();};if(!R){R=setTimeout(T,S);}if(P){N=true;}else{Q.apply(O,L);}M();P=true;};};I.debounce=function(L,N){var M;return function(){var Q=this,P=arguments;var O=function(){M=null;L.apply(Q,P);};clearTimeout(M);M=setTimeout(O,N);};};I.once=function(N){var L=false,M;return function(){if(L){return M;}L=true;return M=N.apply(this,arguments);};};I.wrap=function(L,M){return function(){var N=[L].concat(y.call(arguments,0));return M.apply(this,N);};};I.compose=function(){var L=arguments;return function(){var M=arguments;for(var N=L.length-1;N>=0;N--){M=[L[N].apply(this,M)];}return M[0];};};I.after=function(M,L){if(M<=0){return L();}return function(){if(--M<1){return L.apply(this,arguments);}};};I.keys=F||function(N){if(N!==Object(N)){throw new TypeError("Invalid object");}var M=[];for(var L in N){if(I.has(N,L)){M[M.length]=L;}}return M;};I.values=function(L){return I.map(L,I.identity);};I.functions=I.methods=function(N){var M=[];for(var L in N){if(I.isFunction(N[L])){M.push(L);}}return M.sort();};I.extend=function(L){d(y.call(arguments,1),function(M){for(var N in M){L[N]=M[N];}});return L;};I.defaults=function(L){d(y.call(arguments,1),function(M){for(var N in M){if(L[N]==null){L[N]=M[N];}}});return L;};I.clone=function(L){if(!I.isObject(L)){return L;}return I.isArray(L)?L.slice():I.extend({},L);};I.tap=function(M,L){L(M);return M;};function H(O,N,M){if(O===N){return O!==0||1/O==1/N;}if(O==null||N==null){return O===N;}if(O._chain){O=O._wrapped;}if(N._chain){N=N._wrapped;}if(O.isEqual&&I.isFunction(O.isEqual)){return O.isEqual(N);}if(N.isEqual&&I.isFunction(N.isEqual)){return N.isEqual(O);}var R=B.call(O);if(R!=B.call(N)){return false;}switch(R){case"[object String]":return O==String(N);case"[object Number]":return O!=+O?N!=+N:(O==0?1/O==1/N:O==+N);case"[object Date]":case"[object Boolean]":return +O==+N;case"[object RegExp]":return O.source==N.source&&O.global==N.global&&O.multiline==N.multiline&&O.ignoreCase==N.ignoreCase;}if(typeof O!="object"||typeof N!="object"){return false;}var S=M.length;while(S--){if(M[S]==O){return true;}}M.push(O);var Q=0,L=true;if(R=="[object Array]"){Q=O.length;L=Q==N.length;if(L){while(Q--){if(!(L=Q in O==Q in N&&H(O[Q],N[Q],M))){break;}}}}else{if("constructor" in O!="constructor" in N||O.constructor!=N.constructor){return false;}for(var P in O){if(I.has(O,P)){Q++;if(!(L=I.has(N,P)&&H(O[P],N[P],M))){break;}}}if(L){for(P in N){if(I.has(N,P)&&!(Q--)){break;}}L=!Q;}}M.pop();return L;}I.isEqual=function(M,L){return H(M,L,[]);};I.isEmpty=function(M){if(I.isArray(M)||I.isString(M)){return M.length===0;}for(var L in M){if(I.has(M,L)){return false;}}return true;};I.isElement=function(L){return !!(L&&L.nodeType==1);};I.isArray=c||function(L){return B.call(L)=="[object Array]";};I.isObject=function(L){return L===Object(L);};I.isArguments=function(L){return B.call(L)=="[object Arguments]";};if(!I.isArguments(arguments)){I.isArguments=function(L){return !!(L&&I.has(L,"callee"));};}I.isFunction=function(L){return B.call(L)=="[object Function]";};I.isString=function(L){return B.call(L)=="[object String]";};I.isNumber=function(L){return B.call(L)=="[object Number]";};I.isNaN=function(L){return L!==L;};I.isBoolean=function(L){return L===true||L===false||B.call(L)=="[object Boolean]";};I.isDate=function(L){return B.call(L)=="[object Date]";};I.isRegExp=function(L){return B.call(L)=="[object RegExp]";};I.isNull=function(L){return L===null;};I.isUndefined=function(L){return L===void 0;};I.has=function(M,L){return r.call(M,L);};I.noConflict=function(){A._=w;return this;};I.identity=function(L){return L;};I.times=function(O,N,M){for(var L=0;L<O;L++){N.call(M,L);}};I.escape=function(L){return(""+L).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;");};I.mixin=function(L){d(I.functions(L),function(M){v(M,I[M]=L[M]);});};var n=0;I.uniqueId=function(L){var M=n++;return L?L+M:M;};I.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var x=/.^/;var t=function(L){return L.replace(/\\\\/g,"\\").replace(/\\'/g,"'");};I.template=function(O,N){var P=I.templateSettings;var L="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+O.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(P.escape||x,function(Q,R){return"',_.escape("+t(R)+"),'";}).replace(P.interpolate||x,function(Q,R){return"',"+t(R)+",'";}).replace(P.evaluate||x,function(Q,R){return"');"+t(R).replace(/[\r\n\t]/g," ")+";__p.push('";}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";var M=new Function("obj","_",L);if(N){return M(N,I);}return function(Q){return M.call(this,Q,I);};};I.chain=function(L){return I(L).chain();};var g=function(L){this._wrapped=L;};I.prototype=g.prototype;var q=function(M,L){return L?I(M).chain():M;};var v=function(L,M){g.prototype[L]=function(){var N=y.call(arguments);C.call(N,this._wrapped);return q(M.apply(I,N),this._chain);};};I.mixin(I);d(["pop","push","reverse","shift","sort","splice","unshift"],function(L){var M=l[L];g.prototype[L]=function(){var N=this._wrapped;M.apply(N,arguments);var O=N.length;if((L=="shift"||L=="splice")&&O===0){delete N[0];}return q(N,this._chain);};});d(["concat","join","slice"],function(L){var M=l[L];g.prototype[L]=function(){return q(M.apply(this._wrapped,arguments),this._chain);};});g.prototype.chain=function(){this._chain=true;return this;};g.prototype.value=function(){return this._wrapped;};}).call(this);(function(){var t=this;var q=t.Backbone;var r=Array.prototype.slice;var B=Array.prototype.splice;var c;if(typeof exports!=="undefined"){c=exports;}else{c=t.Backbone={};}c.VERSION="0.9.2";var D=t._;if(!D&&(typeof require!=="undefined")){D=require("underscore");}var g=t.jQuery||t.Zepto||t.ender;c.setDomLibrary=function(F){g=F;};c.noConflict=function(){t.Backbone=q;return this;};c.emulateHTTP=false;c.emulateJSON=false;var a=/\s+/;var p=c.Events={on:function(I,M,H){var G,K,J,F,L;if(!M){return this;}I=I.split(a);G=this._callbacks||(this._callbacks={});while(K=I.shift()){L=G[K];J=L?L.tail:{};J.next=F={};J.context=H;J.callback=M;G[K]={tail:F,next:L?L.next:J};}return this;},off:function(M,K,G){var F,N,H,J,I,L;if(!(N=this._callbacks)){return;}if(!(M||K||G)){delete this._callbacks;return this;}M=M?M.split(a):D.keys(N);while(F=M.shift()){H=N[F];delete N[F];if(!H||!(K||G)){continue;}J=H.tail;while((H=H.next)!==J){I=H.callback;L=H.context;if((K&&I!==K)||(G&&L!==G)){this.on(F,I,L);}}}return this;},trigger:function(I){var M,L,H,G,F,K,J;if(!(H=this._callbacks)){return this;}K=H.all;I=I.split(a);J=r.call(arguments,1);while(M=I.shift()){if(L=H[M]){G=L.tail;while((L=L.next)!==G){L.callback.apply(L.context||this,J);}}if(L=K){G=L.tail;F=[M].concat(J);while((L=L.next)!==G){L.callback.apply(L.context||this,F);}}}return this;}};p.bind=p.on;p.unbind=p.off;var m=c.Model=function(F,G){var H;F||(F={});if(G&&G.parse){F=this.parse(F);}if(H=d(this,"defaults")){F=D.extend({},H,F);}if(G&&G.collection){this.collection=G.collection;}this.attributes={};this._escapedAttributes={};this.cid=D.uniqueId("c");this.changed={};this._silent={};this._pending={};this.set(F,{silent:true});this.changed={};this._silent={};this._pending={};this._previousAttributes=D.clone(this.attributes);this.initialize.apply(this,arguments);};D.extend(m.prototype,p,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(F){return D.clone(this.attributes);},get:function(F){return this.attributes[F];},escape:function(F){var G;if(G=this._escapedAttributes[F]){return G;}var H=this.get(F);return this._escapedAttributes[F]=D.escape(H==null?"":""+H);},has:function(F){return this.get(F)!=null;},set:function(M,L,O){var N,J,H;if(D.isObject(M)||M==null){N=M;O=L;}else{N={};N[M]=L;}O||(O={});if(!N){return this;}if(N instanceof m){N=N.attributes;}if(O.unset){for(J in N){N[J]=void 0;}}if(!this._validate(N,O)){return false;}if(this.idAttribute in N){this.id=N[this.idAttribute];}var K=O.changes={};var G=this.attributes;var F=this._escapedAttributes;var I=this._previousAttributes||{};for(J in N){H=N[J];if(!D.isEqual(G[J],H)||(O.unset&&D.has(G,J))){delete F[J];(O.silent?this._silent:K)[J]=true;}O.unset?delete G[J]:G[J]=H;if(!D.isEqual(I[J],H)||(D.has(G,J)!=D.has(I,J))){this.changed[J]=H;if(!O.silent){this._pending[J]=true;}}else{delete this.changed[J];delete this._pending[J];}}if(!O.silent){this.change(O);}return this;},unset:function(F,G){(G||(G={})).unset=true;return this.set(F,null,G);},clear:function(F){(F||(F={})).unset=true;return this.set(D.clone(this.attributes),F);},fetch:function(G){G=G?D.clone(G):{};var F=this;var H=G.success;G.success=function(K,I,J){if(!F.set(F.parse(K,J),G)){return false;}if(H){H(F,K);}};G.error=c.wrapError(G.error,F,G);return(this.sync||c.sync).call(this,"read",this,G);},save:function(K,J,O){var L,I;if(D.isObject(K)||K==null){L=K;O=J;}else{L={};L[K]=J;}O=O?D.clone(O):{};if(O.wait){if(!this._validate(L,O)){return false;}I=D.clone(this.attributes);}var G=D.extend({},O,{silent:true});if(L&&!this.set(L,O.wait?G:O)){return false;}var H=this;var M=O.success;O.success=function(S,P,R){var Q=H.parse(S,R);if(O.wait){delete O.wait;Q=D.extend(L||{},Q);}if(!H.set(Q,O)){return false;}if(M){M(H,S);}else{H.trigger("sync",H,S,O);}};O.error=c.wrapError(O.error,H,O);var F=this.isNew()?"create":"update";var N=(this.sync||c.sync).call(this,F,this,O);if(O.wait){this.set(I,G);}return N;},destroy:function(G){G=G?D.clone(G):{};var F=this;var J=G.success;var I=function(){F.trigger("destroy",F,F.collection,G);};if(this.isNew()){I();return false;}G.success=function(K){if(G.wait){I();}if(J){J(F,K);}else{F.trigger("sync",F,K,G);}};G.error=c.wrapError(G.error,F,G);var H=(this.sync||c.sync).call(this,"delete",this,G);if(!G.wait){I();}return H;},url:function(){var F=d(this,"urlRoot")||d(this.collection,"url")||w();if(this.isNew()){return F;}return F+(F.charAt(F.length-1)=="/"?"":"/")+encodeURIComponent(this.id);},parse:function(G,F){return G;},clone:function(){return new this.constructor(this.attributes);},isNew:function(){return this.id==null;},change:function(G){G||(G={});var I=this._changing;this._changing=true;for(var F in this._silent){this._pending[F]=true;}var H=D.extend({},G.changes,this._silent);this._silent={};for(var F in H){this.trigger("change:"+F,this,this.get(F),G);}if(I){return this;}while(!D.isEmpty(this._pending)){this._pending={};this.trigger("change",this,G);for(var F in this.changed){if(this._pending[F]||this._silent[F]){continue;}delete this.changed[F];}this._previousAttributes=D.clone(this.attributes);}this._changing=false;return this;},hasChanged:function(F){if(!arguments.length){return !D.isEmpty(this.changed);}return D.has(this.changed,F);},changedAttributes:function(H){if(!H){return this.hasChanged()?D.clone(this.changed):false;}var J,I=false,G=this._previousAttributes;for(var F in H){if(D.isEqual(G[F],(J=H[F]))){continue;}(I||(I={}))[F]=J;}return I;},previous:function(F){if(!arguments.length||!this._previousAttributes){return null;}return this._previousAttributes[F];},previousAttributes:function(){return D.clone(this._previousAttributes);},isValid:function(){return !this.validate(this.attributes);},_validate:function(H,G){if(G.silent||!this.validate){return true;}H=D.extend({},this.attributes,H);var F=this.validate(H,G);if(!F){return true;}if(G&&G.error){G.error(this,F,G);}else{this.trigger("error",this,F,G);}return false;}});var E=c.Collection=function(G,F){F||(F={});if(F.model){this.model=F.model;}if(F.comparator){this.comparator=F.comparator;}this._reset();this.initialize.apply(this,arguments);if(G){this.reset(G,{silent:true,parse:F.parse});}};D.extend(E.prototype,p,{model:m,initialize:function(){},toJSON:function(F){return this.map(function(G){return G.toJSON(F);});},add:function(G,P){var L,N,I,M,O,H,J={},F={},K=[];P||(P={});G=D.isArray(G)?G.slice():[G];for(L=0,I=G.length;L<I;L++){if(!(M=G[L]=this._prepareModel(G[L],P))){throw new Error("Can't add an invalid model to a collection");}O=M.cid;H=M.id;if(J[O]||this._byCid[O]||((H!=null)&&(F[H]||this._byId[H]))){K.push(L);continue;}J[O]=F[H]=M;}L=K.length;while(L--){G.splice(K[L],1);}for(L=0,I=G.length;L<I;L++){(M=G[L]).on("all",this._onModelEvent,this);this._byCid[M.cid]=M;if(M.id!=null){this._byId[M.id]=M;}}this.length+=I;N=P.at!=null?P.at:this.models.length;B.apply(this.models,[N,0].concat(G));if(this.comparator){this.sort({silent:true});}if(P.silent){return this;}for(L=0,I=this.models.length;L<I;L++){if(!J[(M=this.models[L]).cid]){continue;}P.index=L;M.trigger("add",M,this,P);}return this;},remove:function(K,I){var J,F,H,G;I||(I={});K=D.isArray(K)?K.slice():[K];for(J=0,F=K.length;J<F;J++){G=this.getByCid(K[J])||this.get(K[J]);if(!G){continue;}delete this._byId[G.id];delete this._byCid[G.cid];H=this.indexOf(G);this.models.splice(H,1);this.length--;if(!I.silent){I.index=H;G.trigger("remove",G,this,I);}this._removeReference(G);}return this;},push:function(G,F){G=this._prepareModel(G,F);this.add(G,F);return G;},pop:function(G){var F=this.at(this.length-1);this.remove(F,G);return F;},unshift:function(G,F){G=this._prepareModel(G,F);this.add(G,D.extend({at:0},F));return G;},shift:function(G){var F=this.at(0);this.remove(F,G);return F;},get:function(F){if(F==null){return void 0;}return this._byId[F.id!=null?F.id:F];},getByCid:function(F){return F&&this._byCid[F.cid||F];},at:function(F){return this.models[F];},where:function(F){if(D.isEmpty(F)){return[];}return this.filter(function(G){for(var H in F){if(F[H]!==G.get(H)){return false;}}return true;});},sort:function(G){G||(G={});if(!this.comparator){throw new Error("Cannot sort a set without a comparator");}var F=D.bind(this.comparator,this);if(this.comparator.length==1){this.models=this.sortBy(F);}else{this.models.sort(F);}if(!G.silent){this.trigger("reset",this,G);}return this;},pluck:function(F){return D.map(this.models,function(G){return G.get(F);});},reset:function(I,G){I||(I=[]);G||(G={});for(var H=0,F=this.models.length;H<F;H++){this._removeReference(this.models[H]);}this._reset();this.add(I,D.extend({silent:true},G));if(!G.silent){this.trigger("reset",this,G);}return this;},fetch:function(F){F=F?D.clone(F):{};if(F.parse===undefined){F.parse=true;}var H=this;var G=F.success;F.success=function(K,I,J){H[F.add?"add":"reset"](H.parse(K,J),F);if(G){G(H,K);}};F.error=c.wrapError(F.error,H,F);return(this.sync||c.sync).call(this,"read",this,F);},create:function(G,F){var H=this;F=F?D.clone(F):{};G=this._prepareModel(G,F);if(!G){return false;}if(!F.wait){H.add(G,F);}var I=F.success;F.success=function(J,L,K){if(F.wait){H.add(J,F);}if(I){I(J,L);}else{J.trigger("sync",G,L,F);}};G.save(null,F);return G;},parse:function(G,F){return G;},chain:function(){return D(this.models).chain();},_reset:function(F){this.length=0;this.models=[];this._byId={};this._byCid={};},_prepareModel:function(H,G){G||(G={});if(!(H instanceof m)){var F=H;G.collection=this;H=new this.model(F,G);if(!H._validate(H.attributes,G)){H=false;}}else{if(!H.collection){H.collection=this;}}return H;},_removeReference:function(F){if(this==F.collection){delete F.collection;}F.off("all",this._onModelEvent,this);},_onModelEvent:function(H,G,I,F){if((H=="add"||H=="remove")&&I!=this){return;}if(H=="destroy"){this.remove(G,F);}if(G&&H==="change:"+G.idAttribute){delete this._byId[G.previous(G.idAttribute)];this._byId[G.id]=G;}this.trigger.apply(this,arguments);}});var z=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];D.each(z,function(F){E.prototype[F]=function(){return D[F].apply(D,[this.models].concat(D.toArray(arguments)));};});var C=c.Router=function(F){F||(F={});if(F.routes){this.routes=F.routes;}this._bindRoutes();this.initialize.apply(this,arguments);};var k=/:\w+/g;var A=/\*\w+/g;var e=/[-[\]{}()+?.,\\^$|#\s]/g;D.extend(C.prototype,p,{initialize:function(){},route:function(F,G,H){c.history||(c.history=new b);if(!D.isRegExp(F)){F=this._routeToRegExp(F);}if(!H){H=this[G];}c.history.route(F,D.bind(function(J){var I=this._extractParameters(F,J);H&&H.apply(this,I);this.trigger.apply(this,["route:"+G].concat(I));c.history.trigger("route",this,G,I);},this));return this;},navigate:function(G,F){c.history.navigate(G,F);},_bindRoutes:function(){if(!this.routes){return;}var G=[];for(var H in this.routes){G.unshift([H,this.routes[H]]);}for(var I=0,F=G.length;I<F;I++){this.route(G[I][0],G[I][1],this[G[I][1]]);}},_routeToRegExp:function(F){F=F.replace(e,"\\$&").replace(k,"([^/]+)").replace(A,"(.*?)");return new RegExp("^"+F+"$");},_extractParameters:function(F,G){return F.exec(G).slice(1);}});var b=c.History=function(){this.handlers=[];D.bindAll(this,"checkUrl");};var o=/^[#\/]/;var l=/msie [\w.]+/;b.started=false;D.extend(b.prototype,p,{interval:50,getHash:function(H){var G=H?H.location:window.location;var F=G.href.match(/#(.*)$/);return F?F[1]:"";},getFragment:function(G,F){if(G==null){if(this._hasPushState||F){G=window.location.pathname;var H=window.location.search;if(H){G+=H;}}else{G=this.getHash();}}if(!G.indexOf(this.options.root)){G=G.substr(this.options.root.length);}return G.replace(o,"");},start:function(H){if(b.started){throw new Error("Backbone.history has already been started");}b.started=true;this.options=D.extend({},{root:"/"},this.options,H);this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var G=this.getFragment();var F=document.documentMode;var J=(l.exec(navigator.userAgent.toLowerCase())&&(!F||F<=7));if(J){this.iframe=g('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(G);}if(this._hasPushState){g(window).bind("popstate",this.checkUrl);}else{if(this._wantsHashChange&&("onhashchange" in window)&&!J){g(window).bind("hashchange",this.checkUrl);}else{if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval);}}}this.fragment=G;var K=window.location;var I=K.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!I){this.fragment=this.getFragment(null,true);window.location.replace(this.options.root+"#"+this.fragment);return true;}else{if(this._wantsPushState&&this._hasPushState&&I&&K.hash){this.fragment=this.getHash().replace(o,"");window.history.replaceState({},document.title,K.protocol+"//"+K.host+this.options.root+this.fragment);}}if(!this.options.silent){return this.loadUrl();}},stop:function(){g(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);b.started=false;},route:function(F,G){this.handlers.unshift({route:F,callback:G});},checkUrl:function(G){var F=this.getFragment();if(F==this.fragment&&this.iframe){F=this.getFragment(this.getHash(this.iframe));}if(F==this.fragment){return false;}if(this.iframe){this.navigate(F);}this.loadUrl()||this.loadUrl(this.getHash());},loadUrl:function(H){var G=this.fragment=this.getFragment(H);var F=D.any(this.handlers,function(I){if(I.route.test(G)){I.callback(G);return true;}});return F;},navigate:function(G,F){if(!b.started){return false;}if(!F||F===true){F={trigger:F};}var H=(G||"").replace(o,"");if(this.fragment==H){return;}if(this._hasPushState){if(H.indexOf(this.options.root)!=0){H=this.options.root+H;}this.fragment=H;window.history[F.replace?"replaceState":"pushState"]({},document.title,H);}else{if(this._wantsHashChange){this.fragment=H;this._updateHash(window.location,H,F.replace);if(this.iframe&&(H!=this.getFragment(this.getHash(this.iframe)))){if(!F.replace){this.iframe.document.open().close();}this._updateHash(this.iframe.location,H,F.replace);}}else{window.location.assign(this.options.root+G);}}if(F.trigger){this.loadUrl(G);}},_updateHash:function(F,G,H){if(H){F.replace(F.toString().replace(/(javascript:|#).*$/,"")+"#"+G);}else{F.hash=G;}}});var v=c.View=function(F){this.cid=D.uniqueId("view");this._configure(F||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents();};var f=/^(\S+)\s*(.*)$/;var x=["model","collection","el","id","attributes","className","tagName"];D.extend(v.prototype,p,{tagName:"div",$:function(F){return this.$el.find(F);},initialize:function(){},render:function(){return this;},remove:function(){this.$el.remove();return this;},make:function(G,F,I){var H=document.createElement(G);if(F){g(H).attr(F);}if(I){g(H).html(I);}return H;},setElement:function(F,G){if(this.$el){this.undelegateEvents();}this.$el=(F instanceof g)?F:g(F);this.el=this.$el[0];if(G!==false){this.delegateEvents();}return this;},delegateEvents:function(J){if(!(J||(J=d(this,"events")))){return;}this.undelegateEvents();for(var I in J){var K=J[I];if(!D.isFunction(K)){K=this[J[I]];}if(!K){throw new Error('Method "'+J[I]+'" does not exist');}var H=I.match(f);var G=H[1],F=H[2];K=D.bind(K,this);G+=".delegateEvents"+this.cid;if(F===""){this.$el.bind(G,K);}else{this.$el.delegate(F,G,K);}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid);},_configure:function(H){if(this.options){H=D.extend({},this.options,H);}for(var I=0,G=x.length;I<G;I++){var F=x[I];if(H[F]){this[F]=H[F];}}this.options=H;},_ensureElement:function(){if(!this.el){var F=d(this,"attributes")||{};if(this.id){F.id=this.id;}if(this.className){F["class"]=this.className;}this.setElement(this.make(this.tagName,F),false);}else{this.setElement(this.el,false);}}});var y=function(F,G){var H=n(this,F,G);H.extend=this.extend;return H;};m.extend=E.extend=C.extend=v.extend=y;var u={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};c.sync=function(J,G,F){var H=u[J];F||(F={});var I={type:H,dataType:"json"};if(!F.url){I.url=d(G,"url")||w();}if(!F.data&&G&&(J=="create"||J=="update")){I.contentType="application/json";I.data=JSON.stringify(G.toJSON());}if(c.emulateJSON){I.contentType="application/x-www-form-urlencoded";I.data=I.data?{model:I.data}:{};}if(c.emulateHTTP){if(H==="PUT"||H==="DELETE"){if(c.emulateJSON){I.data._method=H;}I.type="POST";I.beforeSend=function(K){K.setRequestHeader("X-HTTP-Method-Override",H);};}}if(I.type!=="GET"&&!c.emulateJSON){I.processData=false;}return g.ajax(D.extend(I,F));};c.wrapError=function(G,H,F){return function(I,J){J=I===H?J:I;if(G){G(H,J,F);}else{H.trigger("error",H,J,F);}};};var h=function(){};var n=function(G,F,H){var I;if(F&&F.hasOwnProperty("constructor")){I=F.constructor;}else{I=function(){G.apply(this,arguments);};}D.extend(I,G);h.prototype=G.prototype;I.prototype=new h();if(F){D.extend(I.prototype,F);}if(H){D.extend(I,H);}I.prototype.constructor=I;I.__super__=G.prototype;return I;};var d=function(F,G){if(!(F&&F[G])){return null;}return D.isFunction(F[G])?F[G]():F[G];};var w=function(){throw new Error('A "url" property or function must be specified');};}).call(this);
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
var Mustache=(typeof module!=="undefined"&&module.exports)||{};(function(z){z.name="mustache.js";z.version="0.5.0-dev";z.tags=["{{","}}"];z.parse=o;z.compile=e;z.render=y;z.clearCache=x;z.to_html=function(D,B,C,E){var A=y(D,B,C);if(typeof E==="function"){E(A);}else{return A;}};var v=Object.prototype.toString;var f=Array.isArray;var b=Array.prototype.forEach;var g=String.prototype.trim;var k;if(f){k=f;}else{k=function(A){return v.call(A)==="[object Array]";};}var u;if(b){u=function(B,C,A){return b.call(B,C,A);};}else{u=function(D,E,C){for(var B=0,A=D.length;B<A;++B){E.call(C,D[B],B,D);}};}var m=/^\s*$/;function c(A){return m.test(A);}var r;if(g){r=function(A){return A==null?"":g.call(A);};}else{var p,h;if(c("\xA0")){p=/^\s+/;h=/\s+$/;}else{p=/^[\s\xA0]+/;h=/[\s\xA0]+$/;}r=function(A){return A==null?"":String(A).replace(p,"").replace(h,"");};}var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function q(A){return String(A).replace(/&(?!\w+;)|[<>"']/g,function(B){return d[B]||B;});}function n(G,I,J,C){C=C||"<template>";var K=I.split("\n"),A=Math.max(J-3,0),D=Math.min(K.length,J+3),B=K.slice(A,D);var H;for(var E=0,F=B.length;E<F;++E){H=E+A+1;B[E]=(H===J?" >> ":"    ")+B[E];}G.template=I;G.line=J;G.file=C;G.message=[C+":"+J,B.join("\n"),"",G.message].join("\n");return G;}function w(A,I,H){if(A==="."){return I[I.length-1];}var G=A.split(".");var E=G.length-1;var F=G[E];var J,B,D=I.length,C,K;while(D){K=I.slice(0);B=I[--D];C=0;while(C<E){B=B[G[C++]];if(B==null){break;}K.push(B);}if(B&&typeof B==="object"&&F in B){J=B[F];break;}}if(typeof J==="function"){J=J.call(K[K.length-1]);}if(J==null){return H;}return J;}function l(D,A,H,C){var B="";var F=w(D,A);if(C){if(F==null||F===false||(k(F)&&F.length===0)){B+=H();}}else{if(k(F)){u(F,function(I){A.push(I);B+=H();A.pop();});}else{if(typeof F==="object"){A.push(F);B+=H();A.pop();}else{if(typeof F==="function"){var E=A[A.length-1];var G=function(I){return y(I,E);};B+=F.call(E,H(),G)||"";}else{if(F){B+=H();}}}}}return B;}function o(ac,E){E=E||{};var N=E.tags||z.tags,O=N[0],J=N[N.length-1];var B=['var buffer = "";',"\nvar line = 1;","\ntry {",'\nbuffer += "'];var I=[],ad=false,aa=false;var Y=function(){if(ad&&!aa&&!E.space){while(I.length){B.splice(I.pop(),1);}}else{I=[];}ad=false;aa=false;};var V=[],S,F,P;var X=function(ae){N=r(ae).split(/\s+/);F=N[0];P=N[N.length-1];};var M=function(ae){B.push('";',S,'\nvar partial = partials["'+r(ae)+'"];',"\nif (partial) {","\n  buffer += render(partial,stack[stack.length - 1],partials);","\n}",'\nbuffer += "');};var A=function(ag,ae){var af=r(ag);if(af===""){throw n(new Error("Section name may not be empty"),ac,L,E.file);}V.push({name:af,inverted:ae});B.push('";',S,'\nvar name = "'+af+'";',"\nvar callback = (function () {","\n  return function () {",'\n    var buffer = "";','\nbuffer += "');};var H=function(ae){A(ae,true);};var W=function(af){var ae=r(af);var ah=V.length!=0&&V[V.length-1].name;if(!ah||ae!=ah){throw n(new Error('Section named "'+ae+'" was never opened'),ac,L,E.file);}var ag=V.pop();B.push('";',"\n    return buffer;","\n  };","\n})();");if(ag.inverted){B.push("\nbuffer += renderSection(name,stack,callback,true);");}else{B.push("\nbuffer += renderSection(name,stack,callback);");}B.push('\nbuffer += "');};var Z=function(ae){B.push('";',S,'\nbuffer += lookup("'+r(ae)+'",stack,"");','\nbuffer += "');};var C=function(ae){B.push('";',S,'\nbuffer += escapeHTML(lookup("'+r(ae)+'",stack,""));','\nbuffer += "');};var L=1,ab,G;for(var T=0,U=ac.length;T<U;++T){if(ac.slice(T,T+O.length)===O){T+=O.length;ab=ac.substr(T,1);S="\nline = "+L+";";F=O;P=J;ad=true;switch(ab){case"!":T++;G=null;break;case"=":T++;J="="+J;G=X;break;case">":T++;G=M;break;case"#":T++;G=A;break;case"^":T++;G=H;break;case"/":T++;G=W;break;case"{":J="}"+J;case"&":T++;aa=true;G=Z;break;default:aa=true;G=C;}var D=ac.indexOf(J,T);if(D===-1){throw n(new Error('Tag "'+O+'" was not closed properly'),ac,L,E.file);}var R=ac.substring(T,D);if(G){G(R);}var Q=0;while(~(Q=R.indexOf("\n",Q))){L++;Q++;}T=D+J.length-1;O=F;J=P;}else{ab=ac.substr(T,1);switch(ab){case'"':case"\\":aa=true;B.push("\\"+ab);break;case"\r":break;case"\n":I.push(B.length);B.push("\\n");Y();L++;break;default:if(c(ab)){I.push(B.length);}else{aa=true;}B.push(ab);}}}if(V.length!=0){throw n(new Error('Section "'+V[V.length-1].name+'" was not closed properly'),ac,L,E.file);}Y();B.push('";',"\nreturn buffer;","\n} catch (e) { throw {error: e, line: line}; }");var K=B.join("").replace(/buffer \+= "";\n/g,"");if(E.debug){if(typeof console!="undefined"&&console.log){console.log(K);}else{if(typeof print==="function"){print(K);}}}return K;}function t(E,C){var B="view,partials,stack,lookup,escapeHTML,renderSection,render";var A=o(E,C);var D=new Function(B,A);return function(G,H){H=H||{};var F=[G];try{return D(G,H,F,w,q,l,y);}catch(I){throw n(I.error,E,I.line,C.file);}};}var a={};function x(){a={};}function e(B,A){A=A||{};if(A.cache!==false){if(!a[B]){a[B]=t(B,A);}return a[B];}return t(B,A);}function y(C,A,B){return e(C)(A,B);}})(Mustache);(function(){var c=this;var b=c.Saks=(c.Saks||{});var e=c.jQuery||c.Zepto;var a={};var d=function(f,g){function h(){f.apply(this,arguments[0]);}h.prototype=f.prototype;return new h(g);};e.extend(b,{version:"0.3.0",namespace:function(){var g=arguments,m,k=0,h,l,f;for(;k<g.length;k++){m=this;f=g[k];if(f.indexOf(".")>-1){l=f.split(".");for(h=(l[0]==="Saks")?1:0;h<l.length;h++){m[l[h]]=m[l[h]]||{};m=m[l[h]];}}else{m[f]=m[f]||{};m=m[f];}}return m;},module:function(f){if(f==="***"){return a;}else{if(a[f]){return a[f];}}return a[f]={};},create:function(m){var k=m.split("."),g=k.length,f=Array.prototype.slice.call(arguments,1),h=1,n;n=this.module(k[0]);for(;h<g;h++){n=n[k[h]];if(!n){throw new Error(k[h]+" is not defined within "+k[h-1]);}}if(typeof n!=="function"){throw new Error(m+" is not a Class constructor");}return d(n,f);},define:function(r,q,u){var v=r.split("."),p=[],f,n,k,h,g;f=g=this.module(v[0]);for(k=1,h=v.length-1;k<h;k++){n=v[k];f=f[n]=f[n]||{};}n=v[k];if(typeof f[n]==="undefined"){if(typeof q==="function"){p.push(e);p.push(g);if(u&&u.length){for(k=0,h=u.length;k<h;k++){p.push(this.module(u[k]));}}f[n]=q.apply(null,p);}else{f[n]=q;}}return this;},extend:function(f){return e.extend(true,this,f);}});}.call(this));(function(c,d){var a={};var b=function(h,g,f){var e=h.slice((f||g)+1||h.length);h.length=g<0?h.length+g:g;return h.push.apply(h,e);};c.extend(d,{subscribe:function(f,g,e){if(!_.isFunction(g)){return false;}if(!a[f]){a[f]=[];}a[f].push({context:e||null,callback:g});return this;},unsubscribe:function(f,g){var h=a[f];if(!h){return false;}for(var e=h.length;e--;){if(h[e].callback===g){b(h,e);}}return this;},publish:function(k){var m=a[k],h;if(!m){return false;}var f=Array.prototype.slice.call(arguments,1);for(var g=0,e=m.length;g<e;g++){h=m[g];h.callback.apply(h.context,f);}return this;}});}(jQuery,Saks.module("Mediator")));(function(){var a=function(e,f){if(!(e&&e[f])){return null;}return _.isFunction(e[f])?e[f]():e[f];};var b=function(){};var d=function(f,e,g){var h;if(e&&e.hasOwnProperty("constructor")){h=e.constructor;}else{h=function(){return f.apply(this,arguments);};}_.extend(h,f);b.prototype=f.prototype;h.prototype=new b();if(e){_.extend(h.prototype,e);}if(g){_.extend(h,g);}h.prototype.constructor=h;h.__super__=f.prototype;return h;};function c(e,f){var g=d(this,e,f);g.extend=c;return g;}Saks.Base=function(){};_.extend(Saks.Base.prototype,Backbone.Events);_.extend(Saks.Base.prototype,{setOptions:function(){var e=Array.prototype.slice.call(arguments,0);var f=a(this,"options");this.options=_.extend.apply(_,[f].concat(e));return this;}});Saks.Base.extend=c;})();(function(a,c){var b=function(f){var d,g,e;this.globalEvents=this.globalEvents||{};d=_.isFunction(this.globalEvents)?this.globalEvents():this.globalEvents;for(g in d){e=d[g];if(!_.isFunction(e)){e=this[e];}if(!e){throw new Error('Method "'+d[g]+'" does not exist');}f.call(this,g,e);}};a.View=Backbone.View.extend({delegateEvents:function(){Backbone.View.prototype.delegateEvents.apply(this,arguments);b.call(this,function(e,d){c.subscribe(e,d,this);});return this;},undelegateEvents:function(){Backbone.View.prototype.delegateEvents.apply(this,arguments);b.call(this,function(e,d){c.unsubscribe(e,d);});return this;},destroy:function(){this.undelegateEvents();return null;}});})(Saks,Saks.module("Mediator"));(function(){var l=this;var d=l.Saks=(l.Saks||{});var g=d.namespace("Util");var b=Object.prototype.toString;var n="[object Arguments]",m="[object Array]",c="[object Boolean]",h="[object Date]",a="[object Function]",e="[object Number]",k="[object Object]",o="[object RegExp]",f="[object String]";g.Validator={isArgument:function(p){return b.call(p)===n;},isString:function(p){return b.call(p)===f;},isArray:function(p){return b.call(p)===m;},isObject:function(p){return b.call(p)===k;},isRegex:function(p){return b.call(p)===o;},isNumber:function(p){return b.call(p)===e;},isFunction:function(p){return b.call(p)===a;},isDate:function(p){return b.call(p)===h;},isBoolean:function(p){return b.call(p)===c;},isEmpty:function(q){if(this.isArray(q)||this.isString(q)){return q.length===0;}for(var p in q){if(q.hasOwnProperty(p)){return false;}}return true;},isValidPassword:function(r){var p="PASSWORD_NEW_RULE",q;if(d.config[p]){q=/^.*(?=.{6,})(?=.*\d)(?=.*[a-zA-Z]).*$/;}else{q=/^.{6,}$/;}return !this.isEmpty(r)&&r.match(q)!==null;},isValidEmail:function(q){var p=/^[a-zA-Z0-9.!#$%&'*+-/=?\^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return !this.isEmpty(q)&&q.match(p)!==null;}};}).call(this);(function(b){var c=Saks.namespace("Util");var a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";c.guid=function(){var f=new Date().getTime();var e=a.replace(/[xy]/g,function(g){var d=(f+Math.random()*16)%16|0;f=Math.floor(f/16);return(g=="x"?d:(d&7|8)).toString(16);});return e;};}(jQuery));(function(){var a=/^((http[s]?|ftp):\/)?\/?([^:\/\s]+)((\/\w+)*\/)([\w\-\.]+[^#?\s]+)(.*)?(#[\w\-]+)?$/;var b=function(d){if(typeof d!=="string"){return{};}var c=d.match(a);d=(c&&c[7])?c[7].substring(1):d;return(function(f){if(!f){return{};}var e={};for(var g=0;g<f.length;++g){var h=f[g].split("=");if(h.length!=2){continue;}e[h[0]]=decodeURIComponent(h[1].replace(/\+/g," "));}return e;})(d.split("&"));};Saks.extend({Util:{getUrlComponent:function(d,c){var f=d.match(a);var e={url:0,protocol:2,hostname:3,path:4,file:6,query:7,hash:8};return f?f[e[c.toLowerCase()]]:"";},getCurrentUrl:function(c){return window.location.href;},getUrlProtocol:function(c){return c?this.getUrlComponent(c,"protocol"):window.location.protocol.slice(0,window.location.protocol.length-1);},getUrlHost:function(c){return c?this.getUrlComponent(c,"hostname"):window.location.hostname;},getUrlPathName:function(c){return c?this.getUrlComponent(c,"path"):window.location.pathname;},getUrlQueryString:function(c){return c?this.getUrlComponent(c,"query"):window.location.search;},getUrlFile:function(c){return this.getUrlComponent((c||this.getCurrentUrl()),"file");},getUrlQueryHash:b,getUrlQueryParam:(function(){var c=b(window.location.search.substring(1));return function(e,d){if(!d){d=e;e=null;}var f=encodeURIComponent(d);return e?b(e)[f]:c[f];};})()}});})();(function(c){var b=this,a=b.document;Saks.extend({Util:{getScript:function(e){if(!e){return;}if(typeof e=="string"){e={src:e};}e.bind||(e.bind=null);e.args||(e.args=[]);var f=function(){if(typeof e.callback=="function"){e.callback.apply(e.bind,e.args);}};var d=a.createElement("script");d.setAttribute("type","text/javascript");d.setAttribute("src",e.path);d.setAttribute("asynch",!!e.asynch);if(e.content&&e.content.length){d.text=e.content;}if(d.readyState){d.onreadystatechange=function(){if(d.readyState=="loaded"||d.readyState=="complete"){d.onreadystatechange=null;f();}};}else{d.onload=f;d.onerror=f;}a.body.appendChild(d);},getScripts:function(d,g){if(!(d&&d.length)){return;}g||(g={});var k=d.length;var f=function(){if(!(--k)&&typeof g.callback=="function"){g.callback.apply(g.bind||null,g.args||[]);}};for(var h=0,e=d.length;h<e;h++){this.getScript(c.extend({},d[h],{callback:f}));}}}});})(jQuery);(function(){var a={EncodeType:"entity",isEmpty:function(b){if(b){return((b===null)||b.length==0||/^\s+$/.test(b));}else{return true;}},arr1:["&nbsp;","&iexcl;","&cent;","&pound;","&curren;","&yen;","&brvbar;","&sect;","&uml;","&copy;","&ordf;","&laquo;","&not;","&shy;","&reg;","&macr;","&deg;","&plusmn;","&sup2;","&sup3;","&acute;","&micro;","&para;","&middot;","&cedil;","&sup1;","&ordm;","&raquo;","&frac14;","&frac12;","&frac34;","&iquest;","&Agrave;","&Aacute;","&Acirc;","&Atilde;","&Auml;","&Aring;","&AElig;","&Ccedil;","&Egrave;","&Eacute;","&Ecirc;","&Euml;","&Igrave;","&Iacute;","&Icirc;","&Iuml;","&ETH;","&Ntilde;","&Ograve;","&Oacute;","&Ocirc;","&Otilde;","&Ouml;","&times;","&Oslash;","&Ugrave;","&Uacute;","&Ucirc;","&Uuml;","&Yacute;","&THORN;","&szlig;","&agrave;","&aacute;","&acirc;","&atilde;","&auml;","&aring;","&aelig;","&ccedil;","&egrave;","&eacute;","&ecirc;","&euml;","&igrave;","&iacute;","&icirc;","&iuml;","&eth;","&ntilde;","&ograve;","&oacute;","&ocirc;","&otilde;","&ouml;","&divide;","&oslash;","&ugrave;","&uacute;","&ucirc;","&uuml;","&yacute;","&thorn;","&yuml;","&quot;","&amp;","&lt;","&gt;","&OElig;","&oelig;","&Scaron;","&scaron;","&Yuml;","&circ;","&tilde;","&ensp;","&emsp;","&thinsp;","&zwnj;","&zwj;","&lrm;","&rlm;","&ndash;","&mdash;","&lsquo;","&rsquo;","&sbquo;","&ldquo;","&rdquo;","&bdquo;","&dagger;","&Dagger;","&permil;","&lsaquo;","&rsaquo;","&euro;","&fnof;","&Alpha;","&Beta;","&Gamma;","&Delta;","&Epsilon;","&Zeta;","&Eta;","&Theta;","&Iota;","&Kappa;","&Lambda;","&Mu;","&Nu;","&Xi;","&Omicron;","&Pi;","&Rho;","&Sigma;","&Tau;","&Upsilon;","&Phi;","&Chi;","&Psi;","&Omega;","&alpha;","&beta;","&gamma;","&delta;","&epsilon;","&zeta;","&eta;","&theta;","&iota;","&kappa;","&lambda;","&mu;","&nu;","&xi;","&omicron;","&pi;","&rho;","&sigmaf;","&sigma;","&tau;","&upsilon;","&phi;","&chi;","&psi;","&omega;","&thetasym;","&upsih;","&piv;","&bull;","&hellip;","&prime;","&Prime;","&oline;","&frasl;","&weierp;","&image;","&real;","&trade;","&alefsym;","&larr;","&uarr;","&rarr;","&darr;","&harr;","&crarr;","&lArr;","&uArr;","&rArr;","&dArr;","&hArr;","&forall;","&part;","&exist;","&empty;","&nabla;","&isin;","&notin;","&ni;","&prod;","&sum;","&minus;","&lowast;","&radic;","&prop;","&infin;","&ang;","&and;","&or;","&cap;","&cup;","&int;","&there4;","&sim;","&cong;","&asymp;","&ne;","&equiv;","&le;","&ge;","&sub;","&sup;","&nsub;","&sube;","&supe;","&oplus;","&otimes;","&perp;","&sdot;","&lceil;","&rceil;","&lfloor;","&rfloor;","&lang;","&rang;","&loz;","&spades;","&clubs;","&hearts;","&diams;"],arr2:["&#160;","&#161;","&#162;","&#163;","&#164;","&#165;","&#166;","&#167;","&#168;","&#169;","&#170;","&#171;","&#172;","&#173;","&#174;","&#175;","&#176;","&#177;","&#178;","&#179;","&#180;","&#181;","&#182;","&#183;","&#184;","&#185;","&#186;","&#187;","&#188;","&#189;","&#190;","&#191;","&#192;","&#193;","&#194;","&#195;","&#196;","&#197;","&#198;","&#199;","&#200;","&#201;","&#202;","&#203;","&#204;","&#205;","&#206;","&#207;","&#208;","&#209;","&#210;","&#211;","&#212;","&#213;","&#214;","&#215;","&#216;","&#217;","&#218;","&#219;","&#220;","&#221;","&#222;","&#223;","&#224;","&#225;","&#226;","&#227;","&#228;","&#229;","&#230;","&#231;","&#232;","&#233;","&#234;","&#235;","&#236;","&#237;","&#238;","&#239;","&#240;","&#241;","&#242;","&#243;","&#244;","&#245;","&#246;","&#247;","&#248;","&#249;","&#250;","&#251;","&#252;","&#253;","&#254;","&#255;","&#34;","&#38;","&#60;","&#62;","&#338;","&#339;","&#352;","&#353;","&#376;","&#710;","&#732;","&#8194;","&#8195;","&#8201;","&#8204;","&#8205;","&#8206;","&#8207;","&#8211;","&#8212;","&#8216;","&#8217;","&#8218;","&#8220;","&#8221;","&#8222;","&#8224;","&#8225;","&#8240;","&#8249;","&#8250;","&#8364;","&#402;","&#913;","&#914;","&#915;","&#916;","&#917;","&#918;","&#919;","&#920;","&#921;","&#922;","&#923;","&#924;","&#925;","&#926;","&#927;","&#928;","&#929;","&#931;","&#932;","&#933;","&#934;","&#935;","&#936;","&#937;","&#945;","&#946;","&#947;","&#948;","&#949;","&#950;","&#951;","&#952;","&#953;","&#954;","&#955;","&#956;","&#957;","&#958;","&#959;","&#960;","&#961;","&#962;","&#963;","&#964;","&#965;","&#966;","&#967;","&#968;","&#969;","&#977;","&#978;","&#982;","&#8226;","&#8230;","&#8242;","&#8243;","&#8254;","&#8260;","&#8472;","&#8465;","&#8476;","&#8482;","&#8501;","&#8592;","&#8593;","&#8594;","&#8595;","&#8596;","&#8629;","&#8656;","&#8657;","&#8658;","&#8659;","&#8660;","&#8704;","&#8706;","&#8707;","&#8709;","&#8711;","&#8712;","&#8713;","&#8715;","&#8719;","&#8721;","&#8722;","&#8727;","&#8730;","&#8733;","&#8734;","&#8736;","&#8743;","&#8744;","&#8745;","&#8746;","&#8747;","&#8756;","&#8764;","&#8773;","&#8776;","&#8800;","&#8801;","&#8804;","&#8805;","&#8834;","&#8835;","&#8836;","&#8838;","&#8839;","&#8853;","&#8855;","&#8869;","&#8901;","&#8968;","&#8969;","&#8970;","&#8971;","&#9001;","&#9002;","&#9674;","&#9824;","&#9827;","&#9829;","&#9830;"],HTML2Numerical:function(b){return this.swapArrayVals(b,this.arr1,this.arr2);},NumericalToHTML:function(b){return this.swapArrayVals(b,this.arr2,this.arr1);},numEncode:function(d){if(this.isEmpty(d)){return"";}var f="";for(var b=0;b<d.length;b++){var g=d.charAt(b);if(g<" "||g>"~"){g="&#"+g.charCodeAt()+";";}f+=g;}return f;},htmlDecode:function(f){var h,e,g=f;if(this.isEmpty(g)){return"";}g=this.HTML2Numerical(g);arr=g.match(/&#[0-9]{1,5};/g);if(arr!=null){for(var b=0;b<arr.length;b++){e=arr[b];h=e.substring(2,e.length-1);if(h>=-32768&&h<=65535){g=g.replace(e,String.fromCharCode(h));}else{g=g.replace(e,"");}}}return g;},htmlEncode:function(b,c){if(this.isEmpty(b)){return"";}c=c||false;if(c){if(this.EncodeType=="numerical"){b=b.replace(/&/g,"&#38;");}else{b=b.replace(/&/g,"&amp;");}}b=this.XSSEncode(b,false);if(this.EncodeType=="numerical"||!c){b=this.HTML2Numerical(b);}b=this.numEncode(b);if(!c){b=b.replace(/&#/g,"##AMPHASH##");if(this.EncodeType=="numerical"){b=b.replace(/&/g,"&#38;");}else{b=b.replace(/&/g,"&amp;");}b=b.replace(/##AMPHASH##/g,"&#");}b=b.replace(/&#\d*([^\d;]|$)/g,"$1");if(!c){b=this.correctEncoding(b);}if(this.EncodeType=="entity"){b=this.NumericalToHTML(b);}return b;},XSSEncode:function(c,b){if(!this.isEmpty(c)){b=b||true;if(b){c=c.replace(/\'/g,"&#39;");c=c.replace(/\"/g,"&quot;");c=c.replace(/</g,"&lt;");c=c.replace(/>/g,"&gt;");}else{c=c.replace(/\'/g,"&#39;");c=c.replace(/\"/g,"&#34;");c=c.replace(/</g,"&#60;");c=c.replace(/>/g,"&#62;");}return c;}else{return"";}},hasEncoded:function(b){if(/&#[0-9]{1,5};/g.test(b)){return true;}else{if(/&[A-Z]{2,6};/gi.test(b)){return true;}else{return false;}}},stripUnicode:function(b){return b.replace(/[^\x20-\x7E]/g,"");},correctEncoding:function(b){return b.replace(/(&amp;)(amp;)+/,"$1");},swapArrayVals:function(g,d,c){if(this.isEmpty(g)){return"";}var f;if(d&&c){if(d.length==c.length){for(var b=0,e=d.length;b<e;b++){f=new RegExp(d[b],"g");g=g.replace(f,c[b]);}}}return g;},inArray:function(e,c){for(var d=0,b=c.length;d<b;d++){if(c[d]===e){return d;}}return -1;}};Saks.extend({Util:{htmlDecode:function(c,b){a.EncodeType=b||"entity";return a.htmlDecode(c);},htmlEncode:function(d,c,b){a.EncodeType=b||"entity";return a.htmlEncode(d,c);},XSSEncode:function(c,b){return a.XSSEncode(c,(b=="entity"));}}});})();Saks.extend({Util:{resizeFrame:function(d){var a;try{a=d.contentWindow.document.documentElement;}catch(c){try{a=d.contentDocument.documentElement;}catch(b){}}if(a){d.height=1;d.height=a.scrollHeight;}}}});(function(){var b=this;var a=b.Saks;a.extend({Util:{postToUrl:function(f,g,h){h=h||"post";var e=b.document.createElement("form");e.setAttribute("method",h);e.setAttribute("action",f);for(var d in g){if(g.hasOwnProperty(d)){var c=b.document.createElement("input");c.setAttribute("type","hidden");c.setAttribute("name",d);c.setAttribute("value",g[d]);e.appendChild(c);}}b.document.body.appendChild(e);e.submit();}}});}).call(this);(function(){var c=this;var e=c.jQuery;var a=c.Saks;var d=a.Base;var b=function(f){return f.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1");};a.Cookie=d.extend({options:{path:"/",domain:false,duration:false,secure:false,encode:true},constructor:function(g,f){this.key=g;this.setOptions(f);},write:function(g){if(this.options.encode){g=encodeURIComponent(g);}if(this.options.domain){g+="; domain="+this.options.domain;}if(this.options.path){g+="; path="+this.options.path;}if(this.options.duration){var f=new Date();f.setTime(f.getTime()+this.options.duration*24*60*60*1000);g+="; expires="+f.toGMTString();}if(this.options.secure){g+="; secure";}c.document.cookie=this.key+"="+g;return this;},read:function(){var f=c.document.cookie.match("(?:^|;)\\s*"+b(this.key)+"=([^;]*)");return(f)?decodeURIComponent(f[1]):null;},dispose:function(){new a.Cookie(this.key,e.extend({},this.options,{duration:-1})).write("");return this;}},{write:function(g,h,f){return new a.Cookie(g,f).write(h);},read:function(f){return new a.Cookie(f).read();},dispose:function(g,f){return new a.Cookie(g,f).dispose();},isSupported:function(){return c.navigator.cookieEnabled;}});}).call(this);Saks.define("Quicklook.Model.Product",function(a){return Backbone.Model.extend({toJSON:function(){var x=Backbone.Model.prototype.toJSON.call(this);x=JSON.parse(JSON.stringify(x));if(_.isEmpty(x)){return x;}if(x.dialogType==="edit"){x.displayEditItem=x.displayAddToBag;x.displayAddToBag=false;x.displayAddToWaitlist=false;x.productOrderIdName=navigate.getActiveStep()>0?"orderItemId":"cartItemId";x.productOrderIdValue=x.productId;}var n=x.detailPage.substring(0,x.detailPage.indexOf("?"));var u="PRODUCT<>prd_id="+Saks.Util.getUrlQueryParam(x.detailPage,"PRODUCT<>prd_id");var k=encodeURI(n+"?"+u);var w=encodeURI("/main/ComposeTAF.jsp?"+u);var o="//twitter.com/share?url="+encodeURIComponent(k)+"&text="+encodeURIComponent(x.productName+" "+x.shortDescription+" | Saks Fifth Avenue");var c="//pinterest.com/pin/create/button/?url="+encodeURIComponent(k)+"&media="+encodeURIComponent(x.mainImagePathForThumbNailSize)+"&description="+encodeURIComponent(x.productName+" "+x.shortDescription);var t="http://"+location.hostname+"/main/productreview/ReviewLanding.jsp?prodCode="+encodeURIComponent(x.productCode);var m="/static/images/star_rating/"+x.reviewScore+".gif";var b="This product rates "+(x.reviewScore)/100+" out of 5 from "+x.totalReviewCount+" customer reviews";var p=false;var f="vars-to-buy";var h={};var r;for(var v=0,q=x.mediaItem.colorizedImageItems.length;v<q;v++){r=x.mediaItem.colorizedImageItems[v];var g=x.mediaItem.imageServerUrl;if(r.complexSwatchThumbnail&&r.complexSwatchThumbnail.length){r.style="background-image: url("+g+r.complexSwatchThumbnail+")";}else{r.style="background-color: #"+r.colorHex;}}if(x.waitListForPd&&x.skuVariantsAll&&x.skuVariantsAll.length){x.skuVariants=x.skuVariantsAll;}for(var v=0,q=x.skuVariants.length;v<q;v++){var e=x.skuVariants[v]||{};e.value||(e.value="");e.display||(e.display="");e.disabled=e.disabled==="true";e.cls="";if(e.displayAddToWL){p=true;e.cls+=" ffwlQL";e.cls+=" soldout";e.display+=" Sold Out > Add to Wait List";}if(e.message&&e.message.length){e.cls+=" message";}}if(p){f+=" ffwlQLSelect";}var d=false;if(x.viewer&&x.viewer.length>0){d=true;x.viewer=x.viewer.replace("rfxViewerHorizontal.jsp","rfxViewerHorizontalLarge.jsp");}return _.extend(x,{canonicalPDP:k,hasAdditionalInformation:(x.additionalInformation.length>0),hasRfxViewer:d,hasScene7:true,hasPurchaseLimitThreshold:parseInt(x.purchaseLimitThreshold,10)>0,hasWarningMessages:!!(x.messages&&x.messages.length),hasPromotion:(x.promoTag.length>0),hasReviews:(x.totalReviewCount>0),hasColorSwatches:(!x.itemSoldOut&&x.colors&&x.colors.length>0),hasSkuVariants:!!(x.skuVariants&&x.skuVariants.length),hasMultipleSkuVariants:!!(x.skuVariants&&x.skuVariants.length&&x.skuVariants.length>1),hasWaitList:p,inStock:!x.itemSoldOut,isColorizationEnabled:true,isHTML5:Saks.config["HTML5_PLAYER"],itemQuantity:x.quantity||1,ratingImageSrc:m,ratingImageAlt:b,productPinterestPage:c,productReviewPage:t,productTellFriendPage:w,productTwitterPage:o,variantsCls:f,displayFitModelContentCopy:(x.productCopyModelShown.length>0),displayFitModelContentComment:(x.fitModelComment.length>0),displayFitModelContentLink:(x.fitModelPopUp.length>0),fitPredictorEnabled:x.fitPredictor.fitPredictorEnabled,fitPredictorLibUrl:x.fitPredictor.fitPredictorLibUrl,fitPredictorProductCode:x.fitPredictor.productCode,fitPredictorUserId:x.fitPredictor.userId});}});});Saks.define("Product.imageUtils.QL",function(){var b=null;var m=null;var f=null;var d=null;var n=null;var c=false;var k=null;var l=null;var h=function(){if(jQuery.browser.msie){if(scene7.currentState==="PLAYING"){scene7.currentState="PAUSED";m.stop();}else{if(scene7.currentState==="init"){n.show();scene7.currentState="PLAYING";g();}else{n.show();scene7.currentState="PLAYING";g();m=jwplayer("videoLoop");}}}else{if(scene7.currentState==="init"){g();}else{if(n.is(":visible")&&!jQuery.browser.webkit&&Saks.config["scene7HTML"]){n.hide();}else{if(!n.is(":visible")&&!jQuery.browser.webkit&&Saks.config["scene7HTML"]){k.show();n.show();}else{if(jwplayer().getState()==="PLAYING"){jwplayer().stop();n.hide();}else{if(!c){k.show();n.show();jwplayer().play();}else{if(c){n.hide();}}}}}}}};var e=function(){scene7.currentState="PAUSED";if(jwplayer()&&jwplayer().getState()!==null){jwplayer().stop();}};var g=function(){var o=l;if(o.length<2){n.hide();d.css("visibility","visible");return false;}m.setup({flashplayer:"/static/video/player.510.swf",file:o,title:"Saks Fifth Avenue",primary:"flash",height:530,width:397,autoStart:true,repeat:"none",screencolor:"FFFFFF",controlbar:false,dock:false,icons:false,fallback:false,mute:true,events:{onReady:function(){scene7.currentState="video ready";},onBuffer:function(){k.show();},onPlay:function(){k.hide();d.css("visibility","visible");},onPause:function(){k.hide();m.stop();n.hide();scene7.currentState="PAUSED";},onIdle:function(){m.stop();n.hide();scene7.currentState="PAUSED";},onError:function(){scene7.currentState="FAILED";c=true;k.hide();n.hide();d.css("visibility","visible");}}});};var a={init:function(p,o){var q=[{path:"//s7d9.scene7.com/s7sdk/2.2/js/s7sdk/utils/Utils.js",asynch:true}];Saks.Util.getScripts(q,{callback:function(){a.default_asset=p;s7sdk.Util.lib.include("s7sdk.common.Container");s7sdk.Util.lib.include("s7sdk.image.ZoomView");s7sdk.Util.lib.include("s7sdk.set.Swatches");a.params=new s7sdk.ParameterManager();a.params.push("serverurl","http://s7d9.scene7.com/is/image");a.params.push("asset",a.default_asset);a.params.push("tmblayout","1,0");a.params.push("tmbsize","76,102");a.params.push("cellspacing","0,10");a.params.push("enabledragging","1");a.params.push("stagesize","481,565");a.params.push("size","396,529");a.params.push("resizable","1");a.params.push("singleclick","zoom");a.params.push("doubleclick","reset");a.params.push("iconeffect","0");a.params.addEventListener(s7sdk.Event.SDK_READY,a.initViewer,false);a.params.init();}});},zoomView:null,params:null,container:null,swatches:null,zoomInButton:null,zoomOutButton:null,zoomResetButton:null,videoButton:null,fullscreenButton:null,default_asset:null,initViewer:function(){a.container=new s7sdk.Container("s7container",a.params);a.container.addEventListener(s7sdk.ResizeEvent.COMPONENT_RESIZE,a.resizeViewer,false);a.zoomView=new s7sdk.ZoomView("s7container",a.params,"myZoomView");a.zoomView.resize(397,530);a.zoomInButton=new s7sdk.ZoomInButton("s7container",a.params,"zoomInBtn");a.zoomInButton.addEventListener("click",function(){a.zoomView.zoomIn();e();});a.zoomOutButton=new s7sdk.ZoomOutButton("s7container",a.params,"zoomOutBtn");a.zoomOutButton.addEventListener("click",function(){a.zoomView.zoomOut();e();});a.zoomResetButton=new s7sdk.ZoomResetButton("s7container",a.params,"resetBtn");a.zoomResetButton.addEventListener("click",function(){a.zoomView.zoomReset();e();});if(scene7.hasVideo){a.videoButton=new s7sdk.Button("videoButton","s7container",null,25,25,"vidButton");a.videoButton.addEventListener("click",function(){a.showVideo();});}a.fullscreenButton=new s7sdk.Button("fullscreenButton","s7container",null,20,22,"fullscreenButton");a.fullscreenButton.addEventListener("click",function(){a.showFullScreen();});a.swatches=new s7sdk.Swatches("s7container",a.params,"mySwatches");a.swatches.addEventListener(s7sdk.AssetEvent.SWATCH_SELECTED_EVENT,a.swatchSelected,false);a.zoomView.addEventListener(s7sdk.CapabilityStateEvent.NOTF_ZOOM_CAPABILITY_STATE,a.adjustButtons,false);a.swatches.selectSwatch(0,true);if(scene7.hasVideo){jQuery("#fullscreenButton").css("left","180px");jQuery("#videoButton").css("display","block");}jQuery(".s7container").css("position","");},adjustButtons:function(o){if(o.s7event.state.hasCapability(s7sdk.ZoomCapabilityState.ZOOM_IN)){a.zoomInButton.activate();document.getElementById("myZoomView").style.cursor="url(http://image.s5a.com/is/image/saks/SCENE7_ICONS-01?scl=1&fmt=png-alpha),pointer";}else{a.zoomInButton.deactivate();document.getElementById("myZoomView").style.cursor="url(http://image.s5a.com/is/image/saks/SCENE7_ICONS_404-01?scl=1&fmt=png-alpha),pointer";}if(o.s7event.state.hasCapability(s7sdk.ZoomCapabilityState.ZOOM_OUT)){a.zoomOutButton.activate();}else{a.zoomOutButton.deactivate();}if(o.s7event.state.hasCapability(s7sdk.ZoomCapabilityState.ZOOM_RESET)){a.zoomResetButton.activate();}else{a.zoomResetButton.deactivate();}},showVideo:function(){h(b);},showFullScreen:function(){var o="http://s7d9.scene7.com/s7viewers/dhtml/genericZoomMobile.html?serverUrl=http://image.s5a.com/is/image/&style=saks%2F%5Fmaster%5F%2Fbff%2Fbffdf0ec%2D26af%2D415e%2D8869%2D7ea475b74450%2Ecss&maxSwatches=5&contentRoot=http://s7d9.scene7.com/skins/&asset="+a.default_asset;window.open(o,"Saks.com",",type=fullWindow,fullscreen,scrollbars=no");},resizeViewer:function(o){a.zoomView.resize(o.s7event.w,o.s7event.h);},swatchSelected:function(o){if(scene7.hasVideo){e();}a.zoomView.setItem(o.s7event.asset);},switchimage:function(){a.swatches.setAsset("saks/0474789318128_IS");a.zoomView.setAsset("saks/0460348734843_ASTL-1");},switchset:function(){a.swatches.setAsset("saks/0459988353897_IS");a.swatches.selectSwatch(0,false);}};return{HTMLPlayer:a,initializeVideoPlayerControls:function(o,p){b=o||jQuery("body");scene7.currentState="init";d=jQuery("#flashContent",b);n=jQuery(".video-container",b);f=jQuery("#videoLoop_wrapper",b);k=jQuery(".video-loader",b);m=jwplayer("videoLoop");n.show();k.show();c=false;l=p;h();},playVideo:function(){h();},stopVideo:function(){e();this.hideVideo();},hideVideo:function(){jQuery(".video-container").hide();},playerButtonsControl:function(){logger.log("inside playerButtonsControl - QL");e();},playerThumbnailsControl:function(){logger.log("inside playerThumbnailsControl - QL");e();d.find(".zoom-colorization-information").hide();},currentState:"init",hasVideo:false};});Saks.define("Quicklook.View.Dialog",function(b){var c="touchstart" in window,a="onorientationchange" in window?"orientationchange":"resize";return Backbone.View.extend({model:null,options:{template:null,partials:null,width:468,height:"auto",dialogClass:"",genericErrorMsg:"An error has occurred while processing your request. Please try again later.",enableAnimation:true,animationInDuration:300,animationInEasing:"easeInCubic",animationOutDuration:300,animationOutEasing:"easeOutCubic"},tagName:"div",className:"clearfix",events:function(){return c?{"touchend .tell-a-friend-button":"shareIt","touchend .twitter-button":"tweetIt","touchend .color-swatch":"editProductColor","touchend .cancel-edit":"closeOnCancel","touchend .read-review":"readProductReview","touchend .market-price-info":"displayMarketInfo","touchend .market-price-info-close":"displayMarketInfo","submit form":"onSubmit","change [name=sku_id]":"onProductVariantChange"}:{"click .tell-a-friend-button":"shareIt","click .twitter-button":"tweetIt","click .color-swatch":"editProductColor","click .cancel-edit":"closeOnCancel","click .read-review":"readProductReview","click .market-price-info":"displayMarketInfo","click .market-price-info-close":"displayMarketInfo","submit form":"onSubmit","change [name=sku_id]":"onProductVariantChange"};},initialize:function(){_.bindAll(this,"closeOnCancel","onOpen","onBeforeClose","onClose","onOpenTransitionEnd","onCloseTransitionEnd","updatePosition");this.isAnimationEnabled=false;this.inner={};this.throttled={updatePosition:_.throttle(this.updatePosition,100)};this.inner.$content=b("<div></div>").addClass("content-subview");this.inner.$loading=b("<div></div>").addClass("loading-subview");this.inner.$error=b("<div></div>").addClass("error-subview").append(b("<p>"+this.options.genericErrorMsg+"</p>"));this.$el.append(this.inner.$content);this.$el.append(this.inner.$loading);this.$el.append(this.inner.$error);this.model.on("change",this.render,this);this.model.on("destroy",this.destroy,this);if(!this.$el.parent()){this.$el.appendTo(b("body"));}this.$el.dialog({dialogClass:"quicklook "+this.options.dialogClass,modal:true,height:this.options.height,width:this.options.width,resizable:false,draggable:false,autoOpen:false,zIndex:1500,open:this.onOpen,close:this.onClose,beforeClose:this.onBeforeClose,closeOnEscape:false});if(this.options.enableAnimation){this.enableAnimation();}},enableAnimation:function(){this.$el.dialog("option",{show:{effect:"fade",duration:this.options.animationInDuration,easing:this.options.animationInEasing,complete:this.onOpenTransitionEnd},hide:{effect:"fade",duration:this.options.animationOutDuration,easing:this.options.animationOutEasing,complete:this.onCloseTransitionEnd}});this.isAnimationEnabled=true;return this;},disableAnimation:function(){this.$el.dialog("option",{show:null,hide:null});this.isAnimationEnabled=false;return this;},render:function(){var d=this.model.toJSON(),e;if(_.isEmpty(d)){this.inner.$content.empty();}else{this.inner.$content.html(Mustache.render(this.options.template,d,this.options.partials));this.inner.$content.find(".product-info-tabs").tabs();this.inner.$content.find(this.getMessageSelector("info")).hide();this.inner.$content.find(this.getMessageSelector("error")).hide();this.inner.$content.find(this.getMessageSelector("warning")).hide();this.displaySelectedProductVariantMessage();this.parseSocialLinks();}Saks.module("Mediator").publish("SaksFP:initQL",d);return this;},changeFormState:function(d){switch(d.toLowerCase()){case"sending":this.inner.$content.find(".sending-indicator").show();break;case"disable":this.inner.$content.find(".sending-indicator").show();this.inner.$content.find("button").prop("disabled",true);break;case"ready":this.inner.$content.find(".sending-indicator").hide();this.inner.$content.find("button").prop("disabled",false);break;default:this.inner.$content.find(".sending-indicator").hide();this.inner.$content.find("button").prop("disabled",false);break;}return this;},hideSubViews:function(){this.inner.$content.hide();this.inner.$loading.hide();this.inner.$error.hide();return this;},showSubView:function(d){this.hideSubViews();switch(d.toLowerCase()){case"content":this.inner.$content.show();break;case"loading":this.inner.$loading.show();break;case"error":this.inner.$error.show();break;}this.updatePosition();return this;},parseSocialLinks:(function(){function d(e,f){var h=window.FB,g=window.gapi;if(h&&h.XFBML&&h.XFBML.parse){e.find(".fb-like-button").each(function(){h.XFBML.parse(this);});}if(g&&g.plusone&&g.plusone.go){e.find(".g-plusone").each(function(){g.plusone.render(this,{href:f,size:"medium",annotation:"none"});});}}return function(){var g=[];var e=this.model.toJSON();if(!window.FB){g.push({path:"//connect.facebook.net/en_US/all.js",asynch:true});if(!window.fbAsyncInit){window.fbAsyncInit=function(){FB.init({appId:"248825175154836",status:true,cookie:true,xfbml:true,channel:"/static/html/channel.js"});};}if(!document.getElementById("fb-root")){var f=document.createElement("div");f.id="fb-root";document.body.appendChild(f);}}if(!window.gapi){g.push({path:"//apis.google.com/js/plusone.js",asynch:true});if(!window.___gcfg){window.___gcfg={lang:"en-US",parsetags:"explicit"};}}b('script[src*="assets.pinterest.com/js/pinit.js"]').remove();g.push({path:"//assets.pinterest.com/js/pinit.js?r="+(Math.random()*99999999),asynch:true});if(!g.length){d.call(this,this.inner.$content,e.canonicalPDP);}else{Saks.Util.getScripts(g,{callback:d,bind:this,args:[this.inner.$content,e.canonicalPDP]});}return this;};}()),openWindow:function(e){if(!e){e={};}var d,f;if(e.width&&e.height){d={left:(screen.width/2)-(e.width/2),top:(screen.height/2)-(e.height/2)};f=["width=",e.width,",","height=",e.height,",","top=",d.top,",","left=",d.left,",","scrollbars=yes"].join("");}if(f){window.open(e.href,(e.name||"_blank"),f);}else{window.open(e.href,(e.name||"_blank"));}},readProductReview:function(d){d.preventDefault();this.openWindow({href:b(d.target).closest(".read-review").attr("href"),width:740,height:460});},displayMarketInfo:function(e){e.preventDefault();var d=this.inner.$content.find(".market-price-info-content");if(d.is(":visible")){d.hide();}else{d.show();}},tweetIt:function(d){d.preventDefault();this.openWindow({href:b(d.target).closest(".twitter-button").attr("href"),width:550,height:420});},shareIt:function(d){d.preventDefault();this.openWindow({href:b(d.target).closest(".tell-a-friend-button").attr("href")});},updatePosition:function(d){this.$el.dialog("option","position","center");},changeProductViewer:function(e){var f=this.$(".rfx-frame")[0].contentWindow,d=f&&f.RICHFX,g;if(d&&e&&e.mediaId&&e.mediaBackup){g=d.api("productImage","imageZoom");if(g&&g.changeMedia){g.changeMedia(e.mediaId,e.mediaBackup);}}},editProductColor:function(d){d.preventDefault();this.updateScene7Player(b(d.target));},updateScene7Player:function(f){var h=f.data("url");var d=f.attr("data-key");if(typeof scene7==="object"&&scene7&&scene7.stopVideo){scene7.stopVideo();}if(!h||h.length<1){return;}var g=document.getElementById("_productViewer");var e=document.getElementById("_productViewer_inner");if(Saks.config["scene7HTML"]){scene7.HTMLPlayer.zoomView.setAsset(h);}else{if(flash9Installed&&e){e.setImage(h);}else{if(flash9Installed&&g){g.setImage(h);}}}if(d&&d.length>1){b("#flashContent").find(".zoom-colorization-information").show().find("span").empty().append(d);}},onProductVariantChange:function(d){this.displaySelectedProductVariantMessage();this.updateProductViewer();},displaySelectedProductVariantMessage:function(){var f=this.model.toJSON(),d=f.skuVariants,g,e;if(d&&d.length){if(d.length===1){e=0;}else{e=this.$el.find('[name="sku_id"]').prop("selectedIndex");}g=d[e];if(g&&g.message&&g.message.length){this.addMessages("info",g.message);}else{this.removeMessages("info");}}},updateProductViewer:function(){var f=this.model.toJSON(),d=f.skuVariants,e,g;if(d&&d.length){e=this.$el.find('select[name="sku_id"]');g=e.find("option:selected");this.updateScene7Player(g);}},getMessageSelector:function(e){var d=null;switch(e.toUpperCase()){case"INFO":d=".info-message";break;case"WARN":d=".warn-message";break;case"ERROR":d=".error-message";break;}return d;},addMessages:function(d,f){if(typeof f==="string"){f=[{message:f}];}var e=Mustache.render(this.options.partials.productMessages,{messages:f});this.inner.$content.find(this.getMessageSelector(d)).html(e).fadeIn(400);this.updatePosition();return this;},removeMessages:function(d){this.inner.$content.find(this.getMessageSelector(d)).fadeOut(400,this.updatePosition);return this;},closeOnCancel:function(d){d.preventDefault();if(window.layer){layer.closeToStep();}this.close();},onSubmit:function(d){d.preventDefault();this.trigger("submit",b(d.target).closest("form").serializeObject());},onOpenTransitionEnd:function(){this.updatePosition();this.trigger("openTransitionEnd");},onCloseTransitionEnd:function(){this.trigger("closeTransitionEnd");},onOpen:function(e){var d=this.inner.$content.find(".rfx-wrap");if(d.length){d.css("display","block");}b(window).bind(a,this.throttled.updatePosition);b(".ui-widget-overlay").bind("click",this.closeOnCancel);this.updatePosition();this.trigger("open");},onBeforeClose:function(e){var d=this.inner.$content.find(".rfx-wrap");if(d.length){d.css("display","none");}},onClose:function(d){b(window).unbind(a,this.throttled.updatePosition);if(d.originalEvent&&b(d.originalEvent.target).closest(".ui-dialog-titlebar-close").length){if(window.layer){layer.closeToStep();}}this.inner.$content.find(".market-price-info-content").hide();this.trigger("close");try{var g=jwplayer();if(g){g.remove();}}catch(f){logger.log(f);}scene7=null;},toElement:function(){return this.el;},open:function(d){this.$el.dialog("open");return this;},close:function(d){this.$el.dialog("close");return this;},isOpen:function(){return this.$el.dialog("isOpen");},destroy:function(){this.remove();}});});(function(a){var c=!!("placeholder" in document.createElement("input"));var b={init:function(){return this.each(function(){var d=a(this);d.filter("[placeholder]").bind({focus:b.hide,blur:b.show}).closest("form").bind({submit:b.clear});if(a.browser.msie){d.bind("focus.placeholder",b.fixIECursor);}b.show.call(this);});},fixIECursor:function(){if(this.value!=""){return;}var d=this.createTextRange();d.collapse(true);d.moveStart("character",0);d.select();},hide:function(){var d=a(this);if(d.val()==d.attr("placeholder")){d.removeClass("placeholder").val("");}},show:function(){var d=a(this);if(d.val()==""||d.val()==d.attr("placeholder")){d.addClass("placeholder").val(d.attr("placeholder"));}},clear:function(){a(this).find("[placeholder]").each(b.hide);}};a.fn.placeholder=function(){return c?this:b.init.apply(this,arguments);};})(jQuery);if(!Array.indexOf){Array.prototype.indexOf=function(b){for(var a=0;a<this.length;a++){if(this[a]==b){return a;}}return -1;};}if(!Array.indexOfObject){Array.prototype.indexOfObject=function(c,b){var d={};d[b]=c;for(var a=0;a<this.length;a++){if(this[a][b]===d[b]){return a;}}return -1;};}if(!Array.getObjectFromArray){Array.prototype.getObjectFromArray=function(c,b){for(var a=0;a<this.length;a++){if(this[a][b]===c){return this[a];}}return -1;};}var saksPager=(function(){var a=document.location.pathname.toLowerCase();return{isOnPage:function(b){b=b.toLowerCase();return a.indexOf(b)>-1?true:false;},currentPath:function(){return a;},isOnPages:function(c){c=c.toLowerCase().replace(/\s+/g,"");c=c.split(",");var b=false;for(j=0;j<c.length;j++){if(a.indexOf(c[j])>-1){b=true;}}return b;}};})();var queryParamFetcher=(function(k){var f={};var l,b=/\+/g,g=/([^&;=]+)=?([^&;]*)/g,m=function(a){return decodeURIComponent(a.replace(b," "));},h=window.location.search.substring(1);while(l=g.exec(h)){f[m(l[1])]=m(l[2]);}var c=function(a){return f[a];};return{getParamValue:c};})(jQuery);function emitSpclChr(a){for(j=0;j<a.length;j++){thisChar=a.charAt(j);if(thisChar=="<"||thisChar==">"||thisChar=="?"||thisChar=="*"||thisChar=="("||thisChar==")"){a=a.replace(thisChar,"");j=j-1;}}return(a);}function loadNumItems(){var h="saksBagNumberOfItems";var k="numItemsLink";var g="item-count";var a=null;if(document.cookie&&document.cookie!=""){var l=document.cookie.split(";");for(var d=0;d<l.length;d++){var b=(l[d]||"").replace(/^\s+|\s+$/g,"");if(b.substring(0,h.length+1)==(h+"=")){a=decodeURIComponent(b.substring(h.length+1));break;}}}if(null==a){a="0";createCookie(h,a,365);}var f=document.getElementById(k);var e=f!=null?f:parent.document.getElementById(k);var c=document.getElementById(g);if(e){e.innerHTML=a+(a==1?" item":" items");}if(c){c.innerHTML=a;}}function getRealEstate(b){var d=null;var a=window.location.href;var c=urlToQueryParam(a);if(c!=null){d=c[b];}if(d==null||d===undefined){d="";}d=d.split("#")[0];return d;}function urlToQueryParam(f){var c={};if(f.indexOf("?")>-1){f=f.substring(f.indexOf("?")+1);}var k,b=/\+/g,g=/([^&;=]+)=?([^&;]*)/g,l=function(a){return decodeURIComponent(a.replace(b," "));},h=f;while(k=g.exec(h)){c[l(k[1])]=l(k[2]);}return c;}function randomString(){var d="!0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz-";var e=56;var c="";for(var b=0;b<e;b++){var a=Math.floor(Math.random()*d.length);c+=d.substring(a,a+1);}return c;}function blurSearch(){var a=jQuery("#saksSearch").find('[name="SearchString"]');if(!a.val().length){a.val("Search");}}function focusSearch(){var a=jQuery("#saksSearch").find('[name="SearchString"]');if(a.val().match(/^Search$/i)){a.val("");}}var receiveReqNumItems;var numItemsReturned;var SaksBagImg;function getNumberofItems(){receiveReqNumItems=getXmlHttpRequestObjectItems();loadNumItems();}function getObjItems(a){if(document.getElementById){return document.getElementById(a);}else{if(document.getElementsByName){return document.getElementsByName(a);}else{if(document.getElementsByTagName){return document.getElementsByTagName(a);}else{if(document.all){return document.all[a];}else{return false;}}}}}function getXmlHttpRequestObjectItems(){if(window.XMLHttpRequest){return new XMLHttpRequest();}else{if(window.ActiveXObject){return new ActiveXObject("Microsoft.XMLHTTP");}else{}}}var sPath=window.location.pathname;var sPage=sPath.substring(sPath.lastIndexOf("/")+1);ie5=(document.all&&document.getElementById&&(navigator.userAgent.indexOf("Opera")<0));ns6=(!document.all&&document.getElementById||(navigator.userAgent.indexOf("Opera")>=0));opac=0;if(sPage.indexOf("Entry")>-1){MyLeft=0;}else{MyLeft=0;}var docTitle=document.title;if(docTitle.indexOf("Payment method")>-1){myTop=141;}else{if(docTitle.indexOf("Search Sale")>-1){myTop=141;}else{if(docTitle.indexOf("elite_mastercard_apply")>-1){myTop=410;}else{myTop=141;}}}var myHeight=1;var layerOpened=false;function slideIn(d,a,c,b){if(isIE){HidePullDown();}myOpen(d,a);}function myOpen(b,a){if(!layerOpened){jQuery("#"+b).slideDown(1500,function(){layerOpened=true;});}}function slideOut(a){jQuery("#"+a).slideUp(1000,function(){layerOpened=false;if(isIE){ShowPullDown();}});}function blindDownLayerFinished(){}var blindUpLayerFinished=function(){};function fadeIn(a){if(isIE){HidePullDown();}if(opac!=100){opac+=4;if(ie5){document.getElementById(a).filters.alpha.opacity=opac;}if(ie5){document.all[a].style.left=MyLeft;}if(ie5){document.all[a].style.top=myTop;}if(ns6){document.getElementById(a).style.MozOpacity=opac/100;}if(ns6){document.getElementById(a).style.left=MyLeft;}if(ns6){document.getElementById(a).style.top=myTop;}setTimeout("fadeIn('"+a+"')",25);}else{return;}}function testMyX(b){b=document.getElementById(b);var a=findPos(b);document.getElementById("Layer1").style.left=a[0];}function setLyr(f,d){var e=findPos(f);var c=window.location.pathname;var b=c.substring(c.lastIndexOf("/")+1);if((b.indexOf("Entry")>-1)||(b.indexOf("wac2_bc")>-1)||(b.indexOf("incubator_bc")>-1)){HomePage=true;}else{HomePage=false;}if(!HomePage){e[1]-=300;}var a=new getObj(d);a.style.top=e[1]+"px";}function findPos(a){var b=curtop=0;if(a.offsetParent){b=a.offsetLeft;curtop=a.offsetTop;while(a=a.offsetParent){b+=a.offsetLeft;curtop+=a.offsetTop;}}return[b,curtop];}function getObj(a){if(document.getElementById){this.obj=document.getElementById(a);this.style=document.getElementById(a).style;}else{if(document.all){this.obj=document.all[a];this.style=document.all[a].style;}else{if(document.layers){if(document.layers[a]){this.obj=document.layers[a];this.style=document.layers[a];}else{this.obj=document.layers.testP.layers[a];this.style=document.layers.testP.layers[a];}}}}}function popupwin(c,d,a,b){if(b==null||b==""){var e=window.open(c,"saksPopup","width="+d+",height="+a+",toolbar=no,location=no,scrollbars=yes,resizable=yes,menubar=no,status=no");e.focus();}else{var e=window.open(c,b,"width="+d+",height="+a+",toolbar=no,location=no,scrollbars=yes,resizable=yes,menubar=no,status=no");e.focus();}}function popupwinName(c,b,d,a){window.open(c,b,"width="+d+",height="+a+",toolbar=no,location=no,scrollbars=yes,resizable=yes,menubar=no,status=no");}function popupWinFixed(b,c,a){window.open(b,"saksPopup","width="+c+",height="+a+",toolbar=no,location=no,scrollbars=no,resizable=no,menubar=no,status=no");}function popupWinFixed2(c,d,a,b){if(c.toLowerCase().indexOf("live_help.jsp")>-1){if(c.indexOf(".jsp?")>-1){c+="&refPath="+encodeURIComponent(window.location.pathname+window.location.search);}else{c+="?refPath="+encodeURIComponent(window.location.pathname+window.location.search);}}if(b==null||b==""){window.open(c,"saksPopup","width="+d+",height="+a+",toolbar=no,location=no,scrollbars=no,resizable=yes,menubar=no,status=no");}else{window.open(c,b,"width="+d+",height="+a+",toolbar=no,location=no,scrollbars=no,resizable=yes,menubar=no,status=no");}}function openInNewTab(b,a){window.open(a,"_blank");}function chooseAndGo(a){if(a.options[a.selectedIndex].value){location.href=a.options[a.selectedIndex].value;}else{a.selectedIndex=0;}}function enabledQLButtons(){lightwindowInit();if(DetectFlashVer(9,0,0)||getRealEstate("testJSvideo")){jQuery(".videoLink","#saksBody").css("display","block");if(window.autoVideoRender){autoVideoRender.triggerVideoOnLoad();}}}function setQuickLookOmniture(b,a,c){s.pageName=b;s.channel="productArray";s.events="prodView";s.products=a;s.prop1="quicklook";s.eVar42=c;void (s.t());}function setVideoTemplateOmniture(a){s.pageName=a;s.channel="editorial";s.prop1="video";void (s.t());}function checkPlayVideoOmniture(a){s.products=";"+a+";;;;evar28=Product Array";s.events="event12";void (s.t());}function ShowHideSectionDiv(c,f){var d,g,l,h;if(document.getElementById){h=1;d=document.getElementById(c);g=document.getElementById(f);}else{if(document.all){h=2;d=document.all[c];g=document.all[f];}else{if(document.layers){h=3;d=document.layers[c];g=document.layers[f];}}}var k=0;for(var b=1;b<99;b++){if(h==1){if(document.getElementById("cat"+b+"a")){k++;}else{k++;break;}}else{if(h==2){if(document.all["cat"+b+"a"]){k++;}else{k++;break;}}else{if(h==3){if(document.layers["cat"+b+"a"]){k++;}else{k++;break;}}}}}var a;for(var m=1;m<k;m++){a="cat"+m+"a";category_now1="cat"+m+"a1";if(a!=c){if(h==1){document.getElementById(a).style.display="none";document.getElementById(category_now1).className="leftNavText";}else{if(h==2){document.all[a].style.display="none";document.all[category_now1].className="leftNavText";}else{if(h==3){document.layers[a].style.display="none";document.layers[category_now1].className="leftNavText";}}}}}l=d.style;if(l.display==""&&d.offsetWidth!=undefined&&d.offsetHeight!=undefined){l.display=(d.offsetWidth!=0&&d.offsetHeight!=0)?"block":"none";}l.display=(l.display==""||l.display=="block")?"none":"block";if(l.display=="block"){g.className="leftNavBold";}else{g.className="leftNavText";}}function HidePullDown(){var b=window.location.pathname;var a=b.substring(b.lastIndexOf("/")+1);if(document.getElementById("leftNavBrands")!=null){document.getElementById("leftNavBrands").style.visibility="hidden";}if(document.getElementById("cboSortBy")!=null){document.getElementById("cboSortBy").style.visibility="hidden";}if(document.getElementById("display")!=null){document.getElementById("display").style.visibility="hidden";}if(document.getElementById("srt")!=null){document.getElementById("srt").style.visibility="hidden";}if((document.getElementById("CREDIT_CARD<>cardBrand_cd")!=null)&&!(a.indexOf("qas_ver")>-1)&&!(a.indexOf("PayMethod")>-1)){document.getElementById("CREDIT_CARD<>cardBrand_cd").style.visibility="hidden";}if(document.getElementById("CART_ITEM_ARRAY<>shipToID")!=null){document.getElementById("CART_ITEM_ARRAY<>shipToID").style.visibility="hidden";}if(document.getElementById("CART_ITEM_ARRAY<>shippingMethod")!=null){document.getElementById("CART_ITEM_ARRAY<>shippingMethod").style.visibility="hidden";}if(document.getElementById("Line1")!=null){document.getElementById("Line1").style.visibility="hidden";}if(document.getElementById("SHIP_TO_ADDRESS<>indGift")!=null){document.getElementById("SHIP_TO_ADDRESS<>indGift").style.visibility="hidden";}if(document.getElementById("BILL_TO_ADDRESS<>indGift")!=null){document.getElementById("BILL_TO_ADDRESS<>indGift").style.visibility="hidden";}if((document.getElementById("CREDIT_CARD<>cardMonth_cd")!=null)&&!(a.indexOf("mng_CreditCard")>-1)){document.getElementById("CREDIT_CARD<>cardMonth_cd").style.visibility="hidden";}if((document.getElementById("CREDIT_CARD<>cardYear_cd")!=null)&&!(a.indexOf("mng_CreditCard")>-1)){document.getElementById("CREDIT_CARD<>cardYear_cd").style.visibility="hidden";}if(document.getElementById("ADD_CART_ITEM_ARRAY<>sku_id")!=null){document.getElementById("ADD_CART_ITEM_ARRAY<>sku_id").style.visibility="hidden";}if(document.getElementById("ADD_CART_ITEM<>sku_id")!=null){document.getElementById("ADD_CART_ITEM<>sku_id").style.visibility="hidden";}if(document.getElementById("Title")!=null){document.getElementById("Title").style.visibility="hidden";}if(document.getElementById("monthDOB")!=null){document.getElementById("monthDOB").style.visibility="hidden";}if(document.getElementById("dayDOB")!=null){document.getElementById("dayDOB").style.visibility="hidden";}if(document.getElementById("store_codes")!=null){document.getElementById("store_codes").style.visibility="hidden";}if(document.getElementById("errN")!=null){document.getElementById("errN").style.visibility="hidden";}if(document.getElementById("ShopByPage")!=null){document.getElementById("ShopByPage").style.visibility="hidden";}}function ShowPullDown(){if(document.getElementById("leftNavBrands")!=null){document.getElementById("leftNavBrands").style.visibility="visible";}if(document.getElementById("cboSortBy")!=null){document.getElementById("cboSortBy").style.visibility="visible";}if(document.getElementById("display")!=null){document.getElementById("display").style.visibility="visible";}if(document.getElementById("srt")!=null){document.getElementById("srt").style.visibility="visible";}if(document.getElementById("CREDIT_CARD<>cardBrand_cd")!=null){document.getElementById("CREDIT_CARD<>cardBrand_cd").style.visibility="visible";}if(document.getElementById("CART_ITEM_ARRAY<>shipToID")!=null){document.getElementById("CART_ITEM_ARRAY<>shipToID").style.visibility="visible";}if(document.getElementById("CART_ITEM_ARRAY<>shippingMethod")!=null){document.getElementById("CART_ITEM_ARRAY<>shippingMethod").style.visibility="visible";}if(document.getElementById("Line1")!=null){document.getElementById("Line1").style.visibility="visible";}if(document.getElementById("SHIP_TO_ADDRESS<>indGift")!=null){document.getElementById("SHIP_TO_ADDRESS<>indGift").style.visibility="visible";}if(document.getElementById("BILL_TO_ADDRESS<>indGift")!=null){document.getElementById("BILL_TO_ADDRESS<>indGift").style.visibility="visible";}if(document.getElementById("CREDIT_CARD<>cardMonth_cd")!=null){document.getElementById("CREDIT_CARD<>cardMonth_cd").style.visibility="visible";}if(document.getElementById("CREDIT_CARD<>cardYear_cd")!=null){document.getElementById("CREDIT_CARD<>cardYear_cd").style.visibility="visible";}if(document.getElementById("ADD_CART_ITEM_ARRAY<>sku_id")!=null){document.getElementById("ADD_CART_ITEM_ARRAY<>sku_id").style.visibility="visible";}if(document.getElementById("ADD_CART_ITEM<>sku_id")!=null){document.getElementById("ADD_CART_ITEM<>sku_id").style.visibility="visible";}if(document.getElementById("Title")!=null){document.getElementById("Title").style.visibility="visible";}if(document.getElementById("monthDOB")!=null){document.getElementById("monthDOB").style.visibility="visible";}if(document.getElementById("dayDOB")!=null){document.getElementById("dayDOB").style.visibility="visible";}if(document.getElementById("store_codes")!=null){document.getElementById("store_codes").style.visibility="visible";}if(document.getElementById("errN")!=null){document.getElementById("errN").style.visibility="visible";}if(document.getElementById("ShopByPage")!=null){document.getElementById("ShopByPage").style.visibility="visible";}}function ShowAllPullDowns(){if(document.ordersum_ru){AllSelectsOnForm(document.ordersum_ru,"visible");}if(document.mngSaveShipping){AllSelectsOnForm(document.mngSaveShipping,"visible");}if(document.mngSaveBilling){AllSelectsOnForm(document.mngSaveBilling,"visible");}if(document.EditBillAddress){AllSelectsOnForm(document.EditBillAddress,"visible");}if(document.AddBillAddress){AllSelectsOnForm(document.AddBillAddress,"visible");}if(document.EditShipAddress){AllSelectsOnForm(document.EditShipAddress,"visible");}if(document.AddShipAddress){AllSelectsOnForm(document.AddShipAddress,"visible");}if(document.multiship){AllSelectsOnForm(document.multiship,"visible");}if(document.mngNewCard){AllSelectsOnForm(document.mngNewCard,"visible");}if(document.email_updates_collect){AllSelectsOnForm(document.email_updates_collect,"visible");}if(document.choosenPage){AllSelectsOnForm(document.choosenPage,"visible");}}function HideAllPullDowns(){if(document.ordersum_ru){AllSelectsOnForm(document.ordersum_ru,"hidden");}if(document.mngSaveShipping){AllSelectsOnForm(document.mngSaveShipping,"hidden");}if(document.mngSaveBilling){AllSelectsOnForm(document.mngSaveBilling,"hidden");}if(document.EditBillAddress){AllSelectsOnForm(document.EditBillAddress,"hidden");}if(document.AddBillAddress){AllSelectsOnForm(document.AddBillAddress,"hidden");}if(document.EditShipAddress){AllSelectsOnForm(document.EditShipAddress,"hidden");}if(document.AddShipAddress){AllSelectsOnForm(document.AddShipAddress,"hidden");}if(document.multiship){AllSelectsOnForm(document.multiship,"hidden");}if(document.mngNewCard){AllSelectsOnForm(document.mngNewCard,"hidden");}if(document.email_updates_collect){AllSelectsOnForm(document.email_updates_collect,"hidden");}if(document.choosenPage){AllSelectsOnForm(document.choosenPage,"hidden");}}function AllSelectsOnForm(a,b){for(i=0;i<a.elements.length;i++){if((a.elements[i].type=="select-one")||(a.elements[i].type=="select-multiple")||(a.elements[i].type=="select")){a.elements[i].style.visibility=b;}}}function showReplaceText(c){var a="colorSizeBR";var b;for(i=0;i<7;i++){b=a+i;if(document.getElementById(b)){document.getElementById(b).innerHTML=c;}}a="colorSizePlainBR";for(j=0;j<7;j++){b=a+j;if(document.getElementById(b)){document.getElementById(b).innerHTML=c;}}}var logger=(function(){var c=document.location.hostname.toLowerCase();var d=(window.console)?true:false;var b=(c.indexOf("qa.saksdirect")>-1||c.indexOf("preview.saksdirect")>-1||c.indexOf("devslot")>-1||c.indexOf("qaslot")>-1)?true:false;var a=(document.location.pathname.toLowerCase().indexOf("globalspecrunner.html")>-1)?true:false;return{log:function(e){if(d&&(b||a)){console.log(e);}}};})();var saksUtils={cleanInput:function(a){return a.replace(/[\<\>\?\*\(\)\%]/g,"");}};var rfxInterface=(function(a){return{getRFXInterface:function(){if(window.location.protocol.toLowerCase().indexOf("https")==-1){return a("#rfx-ql-frame")[0].contentWindow.RICHFX;}}};})(jQuery);var sksTicker=(function(b){var a="ticktock";return{tickTock:function(c){c.addClass(a);},done:function(c){c.removeClass(a);}};})(jQuery);var sksCaptcha=(function(g){var f={theme:"blackglass"};var d=null;var a=true;var e=function(k,h){var l=k.recaptcha;if(a&&l&&l[h]){d=l.recaptchaPublicKey;}};var c=function(h){if(a&&d){g.getScript("http://www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){Recaptcha.create(d,h,{theme:f.theme,callback:Recaptcha.focus_response_field});});}else{logger.log("Captcha is disabled or not initialized:");logger.log("_enabled -> "+a);logger.log("_key -> "+d);}};var b=function(k,h){if(a&&d){k.recaptcha_response_field=Recaptcha.get_response();k.recaptcha_challenge_field=Recaptcha.get_challenge();}};return{initialize:e,getCaptcha:c,retrieveInputs:b};})(jQuery);var timeStamper=(function(){var a=function(){return new Date().getTime();};return{stamp:function(){return a();}};})();var omnitureManager=(function(c){var a={_send:function(g,e){logger.log("--- SENDING DATA TO OMNITURE ---");var f=c.extend({},this,g,e);logger.log(f);for(var d in f){if(f.hasOwnProperty(d)&&s.hasOwnProperty(d)){s[d]=f[d];}}void (s.t());},quicklook:{setup:function(d){var f={};if(d){f.pageName="quicklook:"+d.productName+":"+d.shortDescription;f.products=";"+d.productCode+";;;;evar4=Regular:"+d.productName;if(sksItemModel.getProductInfo("_esreValue")){if(sksItemModel.getProductInfo("_esreValue").indexOf("~")>-1){var e=sksItemModel.getProductInfo("_esreValue").split("~");f[e[0]]=e[1];}else{f.eVar42=sksItemModel.getProductInfo("_esreValue");}}}logger.log("quick look omniture setup");logger.log(f);return f;},defaults:{channel:"productArray",events:"prodView",prop1:"quicklook"}},findinstore:{setup:function(d){return{};},defaults:{pageName:"find in store:landing",channel:"productArray",events:"event41",prop1:"quicklook"}},findinstoreresults:{setup:function(d){return{};},defaults:{pageName:"find in store:results",channel:"productArray",events:"event42",prop1:"quicklook"}},reserveInStore:{setup:function(d){return{};},defaults:{pageName:"find in store: reserve",events:"event46"}},reserveInStoreConfirm:{setup:function(d){return{eVar13:d?d.eml:""};},defaults:{pageName:"find in store: confirmation",events:"event47"}},ffWLLanding:{setup:function(d){return{prop53:saksFFWaitList.omn_click_location};},defaults:{pageName:"offprice:waitlist:landing",channel:"offprice",prop1:"offprice:waitlist",events:"event52"}},ffWLConfirmation:{setup:function(d){return{eVar13:d.emailAddres};},defaults:{pageName:"offprice:waitlist:confirmation",channel:"offprice",prop1:"offprice:waitlist",eVar57:"Waitlist User",events:"event53"}},alfrescoVideo:{setup:function(d){return{pageName:d.videoPageName};},defaults:{pageName:"editorial: video"}},homepage:{setup:function(d){return{eVar3:d.realEstate};},defaults:{}}};var b={ping:function(f,d,e){logger.log("ping with type: "+f);a._send.call(a[f].defaults,a[f].setup(d),e);}};Saks.module("Mediator").subscribe("ANALYTICS:OMNITURE",b.ping,b);return b;})(jQuery);var sksGlobalAjax=(function(f){var e=false;var b=function(g,k,h){logger.log("--- DEFAULT ERROR HANDLER ---");logger.log("jqXHR -->");logger.log(g);logger.log("textStatus -->");logger.log(k);logger.log("errorThrown -->");logger.log(h);};var c=function(g,h){logger.log("--- DEFAULT COMPLETE HANDLER ---");e=false;};var d=function(g,h){if(!e){e=true;return f.ajax({url:g.url,type:g.type||"GET",dataType:g.dataType||"json",data:g.data,success:g.success,complete:function(){if(g.complete){g.complete();}c();if(h){h();}},error:g.error||b});}};var a=function(h,g){f.ajax({url:h.url,type:h.type||"GET",dataType:h.dataType||"json",data:h.data,success:g||function(){logger.log("NO CALL BACK HANDED TO AJAX");},error:h.error||b});};return{ajaxRequest:d,resetRequesting:function(){e=false;},ajaxAsyncRequest:a};})(jQuery);function domainFromHost(b){var e=b.split(":");var d=e[0];var c;if(e.length==2){c=":"+e[1];}else{c="";}var a=d.split(".");if(!isNaN(a[a.length-1])||a.length==1){return"";}return"."+a.slice(Math.min(a.length-2,1),a.length).join(".")+c;}function domainSection(a){var b=domainFromHost(a);if(b==""){return"";}else{return" domain="+b+";";}}function createCookie(c,d,e){if(e){var b=new Date();b.setTime(b.getTime()+(e*24*60*60*1000));var a="; expires="+b.toGMTString();}else{var a="";}document.cookie=c+"="+d+a+"; path=/;"+domainSection(window.location.host);}function getCookie(b){var e=b+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length);}if(f.indexOf(e)==0){return f.substring(e.length,f.length);}}return null;}function eraseCookie(a){createCookie(a,"",-1);}var ProductVideos=function(){var b=false;if(window.Touch){b=true;}var c={wmode:"transparent",play:"true",align:"middle",quality:"high",bgcolor:"#000000",menu:"false",scale:"exactfit",name:"videoName",allowScriptAccess:"always"};var a={styleclass:"vidcontainer"};return{showProductVideo:function(f,l,m,k,h){if(b){var g=f+"_5";var e=this.getObjectIdInfo(f);e.innerHTML='<video id="'+g+'" width="'+m+'" height="'+k+'"><source src="'+l+'" width="'+m+'" height="'+k+'" /></video>';e.style.display="block";e.className="vidcontainer";var d=this.getObjectIdInfo(g);if(d!=null){d.src=l;if(l.toLowerCase().indexOf(".flv")!=-1){ProductVideos.hideVideo(f);}else{d.load();d.play();d.addEventListener("ended",function(n){ProductVideos.hideVideo(f);},false);}}}else{jQuery("#"+f).css({width:m,height:m});swfobject.embedSWF(h,f,"100%","100%","9.0.0","expressInstall.swf",{videopath:l,divtarg:f},c,a);}},removeListeners:function(d){this.getObjectIdInfo(d).onEnded=null;},hideVideo:function(d){if(b){this.removeListeners(d+"_5");}this.getObjectIdInfo(d).style.display="none";},getObjectIdInfo:function(d){var e=document.getElementById(d);if(document.getElementById){e=document.getElementById(d);}else{if(document.all){e=document.all[d];}}return e;},isTouch:function(){return b;}};}();var saksModal=(function(d){var a={_viewPortObj:{windowX:null,windowY:null,scrollX:null,scrollY:null,pageX:null,pageY:null},_getViewPort:function(){var m=d.extend({},this._viewPortObj);m.windowX=(document.documentElement&&document.documentElement.clientWidth)||window.innerWidth||self.innerWidth||document.body.clientWidth;m.windowY=(document.documentElement&&document.documentElement.clientHeight)||window.innerHeight||self.innerHeight||document.body.clientHeight;m.scrollX=(document.documentElement&&document.documentElement.scrollLeft)||window.pageXOffset||self.pageXOffset||document.body.scrollLeft;m.scrollY=(document.documentElement&&document.documentElement.scrollTop)||window.pageYOffset||self.pageYOffset||document.body.scrollTop;m.pageX=(document.documentElement&&document.documentElement.scrollWidth)?document.documentElement.scrollWidth:(document.body.scrollWidth>document.body.offsetWidth)?document.body.scrollWidth:document.body.offsetWidth;m.pageY=(document.documentElement&&document.documentElement.scrollHeight)?document.documentElement.scrollHeight:(document.body.scrollHeight>document.body.offsetHeight)?document.body.scrollHeight:document.body.offsetHeight;return m;}};var g=function(p,y,o,q){var u=a._getViewPort();var v=q!=null?q:"generic-modal";var x=(y!=null)?y:600;var n=(o!=null)?o:500;d("body").append('<div id="saksOverlay"/>').append('<div id="'+v+'" class="cssRoot modal-container"/>');d("#saksOverlay").css({height:u.pageY,width:u.pageX,opacity:0.5});var m=d("#"+v);var r=((u.windowY-n)/2)+u.scrollY;if(r<u.scrollY){r=u.scrollY+10;}var t=(u.windowX-x)/2;m.append(p).css({height:"auto",width:x,top:r+"px",left:t+"px"});};var e=function(p,m,o,n){d(n).append(p);};var f=function(o,m,n){m=(m)?m:"#generic-modal";if(n){d(m,n).empty().append(o);}else{d(m).empty().append(o);}};var l=function(m,n){d("#generic-modal").css("width",m);};var k=function(v,o,p){var t=a._getViewPort();var u=d("#generic-modal").width();var n=d("#generic-modal").height();d("#saksOverlay").css({height:t.pageY,width:"100%",opacity:0.5});var m=d("#generic-modal");var q=((t.windowY-n)/2)+t.scrollY;if(q<t.scrollY){q=t.scrollY+10;}var r=(t.windowX-u)/2;m.css({height:"auto",width:u,top:q+"px",left:r+"px"},1000);};var c=function(){d(".modal-close","#generic-modal").click(function(){saksModal.destroy();if(window.layer){layer.closeToStep();}});};var h=function(p,m,o,n){f(p,n);l(m,o);k();c();};var b=function(p,m,o,n){g(p,m,o,n);c();};return{launchModalBox:b,putInModalBox:h,appendToModalBox:function(p,m,o,n){l(m,o);e(p,m,o,n);k();c();},appendToContainer:function(m,n){e(n,null,null,m);},viewInModal:function(o,m,p){logger.log("view modal call");var q=window.saksQuickLook;if(q&&q.isOpen()){q.close();}var n=(d("#generic-modal").length==1)?true:false;(n)?h(o,m,p):b(o,m,p);},destroy:function(){d("#saksOverlay").remove();d("#generic-modal").remove();},replaceContent:f,resizeModalBox:function(m,n){l(m,n);},refresh:function(){k();}};})(jQuery);var sksItemModel=(function(e){var c={_element:null,_productInfo:{_productCode:null,_productName:null,_skuCode:null,_shortDescription:null,_listPrice:null,_salePrice:null,_listPriceLabel:null,_salePriceLabel:null,_onSaleFlag:null,_skuPricedDifferent:null,_colorization:null,_isColorized:null,_imagePath:null,_quantity:null,_size:null,_color:null,_upcCode:null,_displayablePrice:null,_zipCode:null,_radius:null,_merchandise_tax:null,_sale_price:null,_sub_total:null,_esreValue:null}};var d=function(g){logger.log("SAVING FIS LAYER PRODUCT INFO FROM JSON");c._productInfo._productCode=g.quickLook.productCode;c._productInfo._productName=g.quickLook.productName;c._productInfo._shortDescription=g.quickLook.shortDescription;c._productInfo._listPrice=g.quickLook.formattedListPrice;c._productInfo._salePrice=g.quickLook.formattedSalePrice;c._productInfo._listPriceLabel=g.quickLook.listPriceLabel;c._productInfo._salePriceLabel=g.quickLook.salePriceLabel;c._productInfo._onSaleFlag=g.quickLook.onSaleFlag;c._productInfo._skuPricedDifferent=g.quickLook.skuPricedDifferent;c._productInfo._quantity=g.quickLook.quantity;c._productInfo._imagePath=g.quickLook.images.reserveInStoreSize;c._productInfo._isColorized=g.quickLook.colorizationInd;c._productInfo._colorization=g.quickLook.colors;logger.log(c._productInfo);};var b=function(h){logger.log("SAVING STORE RESULTS PRODUCT INFO FROM JSON");for(var g in h){if(h.hasOwnProperty(g)){if(c._productInfo["_"+g]||c._productInfo["_"+g]===null){c._productInfo["_"+g]=h[g];}else{logger.log("**** ERROR IN SAVING QUERY INFO ****: "+h[g]);}}}};var a=function(){return{productCode:c._productInfo._productCode,size:c._productInfo._size,color:c._productInfo._color,upc:c._productInfo._upcCode,itemQuantity:c._productInfo._quantity,price:c._productInfo._displayablePrice,zipCode:c._productInfo._zipCode};};var f=function(){return{showFindInStoreLink:true,onSaleFlag:c._productInfo._size,skuPricedDifferent:c._productInfo._skuPricedDifferent,listPriceLabel:c._productInfo._onSaleFlag,salePriceLabel:c._productInfo._upcCode,formattedListPrice:c._productInfo._displayablePrice,formattedSalePrice:c._productInfo._zipCode};};return{saveFindInStoreProductInfo:d,saveStoreResultsProductQueryInfo:b,getStoreResultsProductQueryInfo:a,getPricingObjectModel:f,getProductInfoObject:function(){return c._productInfo;},getProductInfo:function(g){return c._productInfo[g];},setProductInfo:function(g,h){c._productInfo[g]=h;},getElement:function(){return c._element;},setElement:function(g){c._element=g;return c._element;}};}(jQuery));var saksQuickLook=(function(k,q){var p=false;var e={};var t=null;var u=null;var g=null;var l={itemJson:{type:"GET",data:{bmForm:"product_array_quick_look_service"}},quicklookview:{type:"GET",data:{bmForm:"product_array_quick_look_service"},complete:function(){d();}},addProductToBag:{url:"/checkout/checkout.jsp",data:{bmForm:"add_saks_suggests_item_service_product_array"},complete:function(){d();g.changeFormState("ready");},error:function(){g.addMessages("error","An error has occurred while processing your request. Please try again later.");},success:function(A){if(!A.errors){if(!A.errorMessages.length){q.publish("QuickLook:UpdateOrder","add",A);g.close();saksBagOpen("SaksBagOverlay");}else{if(A.inOtherMembersCart===false&&A.itemSoldOut===false){g.addMessages("error",A.errorMessages[0].message);}}}}}};var v=function(){o();};var r=function(B){var C=w(B),A;if(C){g.addMessages("error",C);g.changeFormState("ready");}else{g.changeFormState("sending");g.removeMessages("error");switch(u.get("dialogType")){case"add":A=m;break;case"edit":A=y;break;case"suggest":A=f;break;}if(A){b(A(B));}}};var w=function(A){if(!A){A={};}var B=[];if(!A.sku_id||!(A.sku_id.length&&parseInt(A.sku_id,10)!==0)){B.push({message:"Please select a color and size."});}if(!A.itemQuantity||!(A.itemQuantity.length&&parseInt(A.itemQuantity,10)>0)){B.push({message:"Quantity should be 1 or greater."});}if(B.length){return B;}};var m=function(A){return sksGlobalAjax.ajaxRequest(requestManager.getRequestParams("addProductToBag",A));};var y=function(A){var B=navigate.getActiveStep()===0?"editCartItem":"editOrderItem";return SaksAPI[B](k.param(A),function(C){if(C.errors){g.addMessages("error",C.errors);}else{q.publish("QuickLook:UpdateOrder","edit",A,C);saksQuickLook.close();}});};var f=function(A){return SaksAPI.addSaksSuggestsItem(k.param(A),function(B){if(B.errors){g.addMessages("error",B.errors);}else{q.publish("QuickLook:UpdateOrder","suggest",A,B);saksQuickLook.close();}});};var b=function(A){o();t=A;return t;};var o=function(){if(t){t.abort();d();}};var d=function(){if(t){t=null;}};var x=function(A){var B=requestManager.getRequestParams("quicklookview",{productCode:A});return b(sksGlobalAjax.ajaxRequest(B));};var z=function(A){return b(SaksAPI.saksSuggestsItemQuickLook("productCode="+A));};var a=function(A){var B;if(navigate.getActiveStep()===0){B="cartItemId="+A;}else{B="orderItemId="+A;}return b(SaksAPI.cartItemQuickLook(B));};var n=function(D,B,E,A){if(!(A&&A.length)){c();return;}var C=A[0];if(_.isEmpty(C)){c();return;}C=k.extend(true,C,{dialogType:D,productId:B});if(D==="add"){Saks.module("Mediator").publish("ANALYTICS:OMNITURE","quicklook",C,E);}sksItemModel.setProductInfo("_productCode",C.productCode);sksItemModel.setProductInfo("_colorization",C.colors);sksItemModel.setProductInfo("_isColorized",C.colorizationInd);u.clear().set(C);g.showSubView("content");saksFindInStore.bindFISQLElements(g.$el);if(C.waitListForPd){saksFFWaitList.onQL(g.$el);}var F=jQuery(".scene7QL");scene7=Saks.module("Product")["imageUtils"]["QL"];Saks.config["scene7HTML"]=((Saks.Util.getUrlQueryParam("scene7HTML")||!flash9Installed))?true:false;jQuery("#flashContent").css("visibility","hidden");if(parseInt(C.mediaItem.hasVideo,10)){if(Saks.config["HTML5_PLAYER"]||(!Saks.config["HTML5_PLAYER"]&&!Saks.config["scene7HTML"])){jQuery(".video-container").show();scene7.hasVideo=true;scene7.initializeVideoPlayerControls(k(".quicklook"),C.mediaItem.videoServerUrl+C.mediaItem.videoLarge);}}else{scene7.hasVideo=false;scene7.hideVideo();}if(Saks.config["scene7HTML"]&&Saks.config["HTML5_PLAYER"]){scene7.HTMLPlayer.init(jQuery(".scene7-html-player").data("default-image-set"),F);scene7.hideVideo();}else{if(Saks.config["scene7HTML"]&&!Saks.config["HTML5_PLAYER"]){jQuery(".scene7-html-player").hide().next().find("a").first().show();}}jQuery("#flashContent").css("visibility","visible");};var c=function(){u.clear();g.showSubView("error");};var h=function(B,A,D){var C=null;switch(B.toLowerCase()){case"add":C=x;break;case"edit":C=a;break;case"suggest":C=z;break;}if(C){u.clear();k.when(C(A),saksQuickLook.open({view:"loading"})).then(function(E){n(B,A,D,E);}).fail(c);}};return{init:function(A){if(p){return;}p=true;u=Saks.create("Quicklook.Model.Product");g=Saks.create("Quicklook.View.Dialog",{width:848,model:u,template:Saks.templates["quicklook/ProductDialog"],partials:{productAvailability:(Saks.config.IN_STORE_MESSAGE_FIX)?Saks.templates["quicklook/ProductAvailability_fix"]:Saks.templates["quicklook/ProductAvailability"],productDetail:Saks.templates["quicklook/ProductDetail"],productDetailLink:Saks.templates["quicklook/ProductDetailLink"],productInfoTabs:Saks.templates["quicklook/ProductInfoTabs"],productMessages:Saks.templates["quicklook/ProductMessages"],productPrice:Saks.templates["quicklook/ProductPrice"],productRating:Saks.templates["quicklook/ProductRating"],productShareLinks:Saks.templates["quicklook/ProductShareLinks"],productVariants:Saks.templates["quicklook/ProductVariants"],productViewer:Saks.templates["quicklook/ProductViewer"],ProductViewerScene7:Saks.templates["quicklook/ProductViewerScene7"]}});q.subscribe("CloseLayers",this.close);q.subscribe("LaunchQuickLook",h);g.on("close",v);g.on("submit",r);requestManager.registerRequest(l);this.bindQuickLookElements(A);},isOpen:function(){return g.isOpen();},close:function(B){if(!g.isOpen()){return;}if(!B){B={};}var A=new k.Deferred(),C=g.isAnimationEnabled?"closeTransitionEnd":"close";g.on(C,function(){g.off(C,arguments.callee);A.resolve();q.publish("QuickLook:Close");});g.close();return A.promise();},open:function(B){if(g.isOpen()){return;}if(!B){B={};}var A=new k.Deferred(),C=g.isAnimationEnabled?"openTransitionEnd":"open";setTimeout(function(){saksModal.destroy();},0);if(B.data){u.clear().set(B.data);}g.showSubView(B.view||"content");g.on(C,function(){g.off(C,arguments.callee);A.resolve();q.publish("QuickLook:Open");});setTimeout(function(){g.open();},0);return A.promise();},onLoad:function(){this.init.apply(this,arguments);},bindQuickLookElements:function(A){logger.log("onload of QL");A=(A)?A:k("#saksBody");k(".jsModalBox",A).click(function(C){C.preventDefault();var B=k(this).attr("key").split("|");saksQuickLook.api.getQuicklook(B[0],B[1]);return false;});},generateQLPrices:function(B){var A=[];if(B.displayItemPricing){if(B.onSaleFlag){A.push('<span class="product-price" style="padding-right:5px;">'+B.listPriceLabel+"&nbsp;"+B.formattedListPrice+"</span>");A.push((B.skuPricedDifferent?"<br/>":""));A.push('<span class="blackBold11">'+B.salePriceLabel+'&nbsp;<span class="product-sale-price">'+B.formattedSalePrice+"</span></span>");}else{A.push('<span class="product-price" style="font-weight:bold;">'+B.formattedListPrice+"</span>");}}return A.join("");},generateSizeColorDropDown:function(D,C){var B=[];var E=false;var A=[];if(D.length){if(D.length>1){for(var G=0;G<D.length;G++){var F=(D[G].value)?D[G].value:"";var H=(D[G].display)?D[G].display:"";if(D[G].displayAddToWL){A.push('<option class="ffwlQL" data-product-code="'+C+'" data-key="'+D[G].color+'" value="'+F+'"');E=true;}else{if(D[G].disabled==="true"){A.push('<optgroup data-key="'+D[G].color+'" style="font-style:normal; font-weight:lighter; color:red" label="'+H+'" value="'+F+'"');}else{A.push('<option data-key="'+D[G].color+'" value="'+F+'"');}}if(D[G].selected){A.push(' selected="selected"');}if(D[G].message){A.push(' class="hasMessage"');B.push(D[G].message);}else{B.push("");}A.push(">");if(D[G].displayAddToWL){A.push(H+" Sold Out >Add to Wait List");}else{A.push(H);}if(D[G].disabled==="true"){A.push("</optgroup>");}else{A.push("</option>");}}A.push("</select>");if(E){A.unshift('<select class="vars-to-buy ffwlQLSelect" name="sku_id">');}else{A.unshift('<select class="vars-to-buy" name="sku_id">');}}else{A.push('<input type="hidden" name="sku_id" value="'+D[0].value+'">');B.push((D[0].message)?D[0].message:"");}}return A.join("");},api:{getQuicklook:function(B,A){sksItemModel.setProductInfo("_esreValue",((A)?A:null));sksItemModel.setProductInfo("_productCode",B);h("add",B);},getItemJson:function(B,A){sksGlobalAjax.ajaxAsyncRequest(requestManager.getRequestParams("itemJson",{productCode:B}),A);}}};}(jQuery,Saks.module("Mediator")));var saksStoreResultsModel=(function(d){var c=null;var l=null;var f=false;var b={_ris_fname:null,_ris_lname:null,_ris_phone:null,_ris_email:null};var k=function(m){logger.log("Saving store details");logger.log(m);c=m;};var e=function(){return c;};var a=function(m){l=m;};var h=function(){return l;};var g=function(n){for(var m in n){if(b["_"+m]||b["_"+m]===null){b["_"+m]=n[m];}}};return{saveStoreResults:k,getStoreResults:e,saveCurrentStoreId:a,getCurrentStoreId:h,saveReserveInStoreFormInfo:g,getRISFormInfo:function(m){return b[m];},hasStoreParticipation:function(m){if(m!==undefined){f=m;}else{return f;}}};}(jQuery));var saksFindInStore=(function(m){var o="--";var l="pdSizeColor";var d=null;var e=null;var g=null;var n=[10,25,50,100];var p=function(u){var x='<select name="radius" id="radius">';for(var v=0;v<=n.length-1;v++){var w=(u===n[v])?"selected":"";x=x+'<option value="'+n[v]+'" '+w+">"+n[v]+" Miles</option>";}x=x+"</select>";return x;};var a=function(z){logger.log("BUILDING FIND IN STORE LAYER HTML");var w=[];var A=z.quickLook;var u=z.userPreferences;var v=A.colors;w.push('<div id="findInStore">');w.push('<div id="titlebar"><h1 id="fis-title-label">FIND IN STORE</h1><div id="titlebar-right">');if(saksFindInStore.pageReferer()==="QL"){w.push('<a id="backToProductDetail">Back To Product Detail</a><span class="separator">|</span>');}w.push('<div class="close-wrap reverse"><a class="modal-close overlay-close" alt="Close" title="Close">CLOSE</a></div></div></div>');w.push("<div>");w.push('<div id="stores-print-this-page"><a class="iconPrint">Print This Page</a></div>');w.push('<div class="content-left">');w.push('<div id="quicklook-large-image"><img id="MainImage" src="'+sksItemModel.getProductInfo("_imagePath")+'" alt="" width="180" height="240" /></div>');w.push('<div id="MainImageColor"></div>');w.push("</div>");w.push('<div class="content-mid">');w.push('<div id="ris-product-summary">');w.push("<h2>PRODUCT INFORMATION:</h2>");w.push("<b>"+A.productName+"</b>");w.push("<br/>");w.push(A.shortDescription);w.push("<br/>");w.push('<div class="item-price">');w.push(saksQuickLook.generateQLPrices(A));w.push("</div>");w.push('<div class="item-sku">'+A.productCode+"</div>");var y=(A.quantity)?A.quantity:1;w.push('<div id="ris-quantity" class="quantity-input FISInputs"><label for="MainProductqtyToBuy0">QTY</label><input type="text" name="itemQuantity" id="MainProductqtyToBuy0" class="qty-to-buy" size="2" value="'+y+'" maxlength="2" /></div>');w.push('<div id="qtyError" class="saks-warning-msg"></div>');if(A.purchaseLimitThreshold){w.push('<div id="highdemand">'+A.purchaseLimitMessage+"</div>");}w.push('<div id="selectColor" class="FISInputs">');w.push(saksQuickLook.generateSizeColorDropDown(A.skuVariants));w.push('<div class="clearfix"></div>');w.push("</div>");w.push('<div id="colorSizeError" class="saks-warning-msg"></div>');w.push('<div id="swatch-widget">');w.push('<div id="swatch-arrow-left" class="swatch-arrows" ><img src="/static/images/leftArrow.gif"></div>');w.push('<div id="swatch-container"><div id="swatch-inner">');for(var x=0;x<v.length;x++){if(v[x].colorPath&&v[x].colorPath!==""){w.push('<div class="swatch-obj scene7-fis-swatch">');w.push('<img src="'+v[x].colorPath+'" alt="'+v[x].name+'" title="'+v[x].name+'">');w.push('<div class="text">'+v[x].name+"</div>");w.push("</div>");}else{w.push('<div class="swatch-obj scene7-fis-swatch">');w.push('<div class="flat-swatch" style="background-color:#'+v[x].color+';" ></div>');w.push("<div>"+v[x].name+"</div>");w.push("</div>");}}w.push('<div class="clearfix"></div>');w.push('</div><div class="clearfix"></div></div>');w.push('<div id="swatch-arrow-right" class="swatch-arrows" ><img src="/static/images/rightArrow.gif"></div>');w.push('<div class="clearfix"></div>');w.push("</div>");w.push("</div></div>");w.push('<div class="content-right"><h2>STORE AVAILABILITY:</h2>');w.push('<div id="zipcode" class="FISInputs"><label>Zip Code</label>');w.push('<input type="text" name="zip" id="fis-zip" value="'+u.zipCode+'" maxlength="5" /></div>');w.push('<div id="zipcodeError" class="saks-warning-msg"></div>');w.push('<div id="distanceToStore" class="FISInputs"><label>Distance To Store:</label>');w.push(p(u.radius));w.push("</div>");w.push('<div class="fis-buttons jsReserveInStore" id="btnSubmit"><div title="SUBMIT">SUBMIT</div></div>');w.push('<div id="FIS-msg-container"><div id="FIS-error-warning" class="saks-warning-msg"></div>');if(z.findInStoreMessage){w.push('<div id="FIS-msg">'+z.findInStoreMessage+"</div>");}w.push("</div>");w.push("</div>");w.push('<div class="clearfix"></div>');w.push("</div>");w.push("</div>");return w.join("");};var q='<div class="fis-submessage">Please Note: This reflects current availability but our store inventory is always changing. Prices and promotions may vary in stores.</div>';var f='<div class="fis-submessage">Please Note: This reflects current availability but our store inventory is always changing. Prices and promotions may vary in stores. Select stores are participating in our new RESERVE IN STORE program. Click the Reserve In Store button displayed for these stores to place a reservation for in-store purchase and pick-up.</div>';var c=function(v,w,z){var x=v.contactInfo;var u=[];u.push('<div class="ris-store-result"><span>');u.push('<div class="storeName"><a href="'+v.homePageURL+'" target="_blank">'+v.storeName+"</a></div>");u.push(x.addressLine1+"<br/>");u.push(x.city+", "+x.state+" "+x.zipCode+"<br/>");u.push(x.invPhoneNumber+"<br/>");u.push("<b>Distance</b>: "+v.location.distance+" "+v.location.distanceUnit+"<br/>");u.push('<strong class="fis-'+v.inventoryAvailabilityMessage.toLowerCase().replace(/ /g,"")+'">'+v.inventoryAvailabilityMessage+"</strong><br/>");if(w&&v.participatingInReserveInStore==="true"){u.push('<div class="fis-buttons jsReserveInStore" id="'+v.storeNumber+'"><div title="RESERVE IN STORE">RESERVE IN STORE</div></div>');saksStoreResultsModel.hasStoreParticipation(true);}if(z&&v.hoursInfo){u.push("<br/><b>Hours:</b><br/>");for(var y=0;y<v.hoursInfo.length;y++){u.push(v.hoursInfo[y]+"<br/>");}}u.push("</span></div>");return u.join("");};var b=function(x){logger.log("BUILDING STORE RESULTS HTML");var v=[];var y=x.storeDetails;v.push('<div id="findInStoreResults">');v.push('<div id="fisWrapper">');v.push('<div id="resultsRecap">YOUR SELECTION IS AVAILABLE IN '+x.storesWithInventorySize+" STORES (Inventory information below as of ");if(x.timestamp){v.push(x.timestamp);}v.push(")");if(x.reserveInStoreOn&&saksStoreResultsModel.hasStoreParticipation()){v.push(f);}else{v.push(q);}v.push("</div>");v.push('<div id="itemRecap"><b>'+sksItemModel.getProductInfo("_productName")+" </b>"+sksItemModel.getProductInfo("_shortDescription")+" "+x.displayablePrice+"; "+sksItemModel.getProductInfo("_productCode")+";");if(sksItemModel.getProductInfo("_size")){v.push(" <b>Size: </b>"+sksItemModel.getProductInfo("_size")+";");}if(sksItemModel.getProductInfo("_color")){v.push(" <b>Color: </b>"+sksItemModel.getProductInfo("_color")+";");}v.push(" <b>Quantity: </b>"+sksItemModel.getProductInfo("_quantity")+"; <b>UPC: </b>"+sksItemModel.getProductInfo("_upcCode")+"</div>");for(var w=0,u=y.length;w<u;w++){if(w%3===0){v.push('<div class="st-results-row">');}v.push(c(y[w],true,false));v.push('<div class="st-results-splitter"></div>');if(w%3===2||w+1===u){v.push('<div class="clearfix"></div></div>');}}v.push('</div><div class="clearfix"></div></div>');return v.join("");};var t=function(u){m("#btnSubmit",u).click(function(x){logger.log("FIND IN STORE - SUBMIT STORE REQUEST CLICK");var v=m(this);var w=QLFISValidator.getValidData(v.attr("id"));if(w){sksTicker.tickTock(v);sksItemModel.saveStoreResultsProductQueryInfo({zipCode:w.zip,radius:w.radius});saksFindInStore.getFIStoreResults({productCode:w.id,itemQuantity:w.qty,sku_id:w.sku_id,zipCode:w.zip,radius:w.radius});}});m("#backToProductDetail",u).click(function(){saksQuickLook.open();});d.click(function(v){v.preventDefault();window.print();});m("[name=sku_id]",u).change(function(){logger.log("FIS -- drop down change");if(sksItemModel.getProductInfo("_isColorized")){var w=m(this).find("option:selected").attr("data-key");if(w){var v=sksItemModel.getProductInfo("_colorization").getObjectFromArray(w,"name");if(v){m("#MainImage").attr("src",v.mediaPath);}}}});(function(C){var y=C("#swatch-arrow-left");var D=C("#swatch-arrow-right");var w=C("#swatch-container");var E=C("#swatch-inner");var H=C(".swatch-obj",w);var B=0;H.each(function(K){B+=C(this).outerWidth();});E.css("width",B+3);if(B>240){y.show();D.show();}var G=E.css("left").split("px")[0];var J=-(E.width()-w.width());var F=true;var I="-";var z=10;var v=1;var x=null;var A=function(){if(I==="+"&&parseInt(E.css("left"),10)>=0){clearInterval(x);x=null;}else{if(I==="-"&&parseInt(E.css("left"),10)<=J){clearInterval(x);x=null;}else{var K=(I==="+")?(G+v):(G-v);G=K;E.css("left",K+"px");}}};y.hover(function(){if(F&&parseInt(E.css("left"),10)<0){F=false;I="+";A();x=setInterval(A,z);}},function(){if(x){clearInterval(x);x=null;}F=true;});D.hover(function(){if(F&&parseInt(E.css("left"),10)>J){F=false;I="-";A();x=setInterval(A,z);}},function(){if(x){clearInterval(x);x=null;}F=true;});}(jQuery));};var k=function(){if(e){e.remove();e=null;}};var h=function(){m(".st-results-row","#fisWrapper").each(function(){var v=m(this);var u=v.height();v.find(".st-results-splitter").height(u);});};var r={fislayer:{data:{bmForm:"saks_find_in_store_quick_look_service"},success:function(u){logger.log("Find in store layer success handler");sksItemModel.saveFindInStoreProductInfo(u);saksModal.viewInModal(a(u),779,350);d=m("#stores-print-this-page");if(!u.quickLook.skuVariants.length){saksModal.replaceContent(sksWarning.getWarningMessage("Not this item"),"#FIS-error-warning");}else{t(m("#findInStore"));}omnitureManager.ping("findinstore",u);},complete:function(u){}},fisStoreResults:{data:{bmForm:"get_stores_with_inventory"},success:function(u){logger.log("---SUCCESS HANDLER FOR STORE RESULTS---");k();saksModal.resizeModalBox(779,350);if(d){d.hide();}if(u.SYSERR){logger.log("---ERROR CODE RETURNED ON RESULTS---");sksWarning.warn(u.SYSERR);}else{logger.log("---STORES RETURNED---");saksStoreResultsModel.hasStoreParticipation(false);sksItemModel.saveStoreResultsProductQueryInfo(u);saksStoreResultsModel.saveStoreResults(u.storeDetails);saksModal.appendToModalBox(b(u),779,600,"#generic-modal");h();reserveInStore.bindREserveInStoreAction(m("#findInStoreResults"));if(d){d.show();}sksCaptcha.initialize(u,"recaptchaOn");omnitureManager.ping("findinstoreresults",u);}},error:function(){logger.log("---STORE RESULTS ERROR HANDLER---");saksModal.replaceContent(sksWarning.getWarningMessage("Not this item"),"#FIS-error-warning");},complete:function(u){sksTicker.done(m("div#btnSubmit"));}}};return{onLoad:function(u){requestManager.registerRequest(r);this.bindFISElements(u);},bindFISElements:function(u){u=(u)?u:m("#saksBody");m(".jsFindInStorePD",u).click(function(){logger.log("product page click on FIND IN STORE");var w=sksItemModel.setElement(m(this));sksItemModel.setProductInfo("_productCode",w.attr("key"));var y=w.attr("id");var x=y.split(o).pop();sksItemModel.setProductInfo("_quantity",m("#"+x).val()||1);logger.log("from product detail to find in store layer QTY: "+sksItemModel.getProductInfo("_quantity"));var v=m("select option:selected","#"+l+o+x).val();sksItemModel.setProductInfo("_skuCode",v||null);logger.log("from product detail to find in store layer SKU: "+sksItemModel.getProductInfo("_skuCode"));saksFindInStore.pageReferer("PDP");saksFindInStore.getFISLayer({productCode:sksItemModel.getProductInfo("_productCode"),itemQuantity:sksItemModel.getProductInfo("_quantity"),sku_id:sksItemModel.getProductInfo("_skuCode")});return false;});},bindFISQLElements:function(u){logger.log("binding FIS QL ELEMENTS");m("#jsFindInStoreQL",u).click(function(v){v.preventDefault();logger.log("FIS QUICK LOOK BUTTON CLICK");var w=QLFISValidator.getValidData(m(this).attr("id"));if(w){saksFindInStore.pageReferer("QL");saksFindInStore.getFISLayer({productCode:w.id,itemQuantity:w.qty,sku_id:w.sku_id});}});},getFISLayer:function(u,v){sksGlobalAjax.ajaxRequest(requestManager.getRequestParams("fislayer",u),v);},getFIStoreResults:function(u){sksGlobalAjax.ajaxRequest(requestManager.getRequestParams("fisStoreResults",u));},getAStoreDetailHTML:c,togglePrintThisPage:function(u){if(u==="ON"){d.show();}else{d.hide();}},pageReferer:function(u){if(u){g=u;}else{return g;}},calculateSkuValue:function(v){logger.log("getting current UPC/SKU INPUT: either user selected or default");var u=m(".vars-to-buy option:selected",v).val();if(u){logger.log("userSelectedSku 1 ---> "+u);return u;}else{u=m("input[name=sku_id]",v).val();if(u){logger.log("userSelectedSku 2 ---> "+u);return u;}else{logger.log("current default sku---> "+sksItemModel.getProductInfo("_skuCode"));return sksItemModel.getProductInfo("_skuCode");}}}};}(jQuery));var reserveInStore=(function(d){var k={reserveInStoreForm:{data:{bmForm:"get_tax_for_product"},success:function(o){logger.log("reserveInStoreForm layer success handler -- now build RIS form and or check for error");if(o.SYSERR||o.VALERRS){logger.log("Handle Error for tax service --> "+o.errorCode+" ---> "+o.errorReason);sksItemModel.setProductInfo("_merchandise_tax","Not Available");sksItemModel.setProductInfo("_sale_price",sksItemModel.getProductInfo("_salePrice"));sksItemModel.setProductInfo("_sub_total",sksItemModel.getProductInfo("_salePrice"));}else{sksItemModel.saveStoreResultsProductQueryInfo(o);}var n=d("#findInStore","#generic-modal");var p=d("#findInStoreResults","#generic-modal");saksFindInStore.togglePrintThisPage("OFF");saksModal.replaceContent("RESERVE IN STORE REQUEST","#fis-title-label",n);saksModal.replaceContent(g(),".content-mid",n);saksModal.replaceContent(m(),".content-right",n);saksModal.appendToContainer("#findInStore",'<div id="taxes-disclaimer"><div>*Taxes are based on location of the selected pick up store.</div></div>');saksModal.replaceContent(f(),"#findInStoreResults");d("#findInStoreResults").find("[placeholder]").placeholder();sksCaptcha.getCaptcha("ris-captcha");b(p);omnitureManager.ping("reserveInStore");},complete:function(n){}},reserveInStoreFormSubmit:{data:{bmForm:"bm_pickup_in_store"},success:function(n){logger.log("reserveInStoreFormSubmit success -- build confirmation layer");if(n.VALERRS){sksWarning.warn(n.VALERRS);}else{if(n.SYSERR){logger.log("!--- syserr ---! on RIS submit -> "+n.SYSERR);saksModal.replaceContent(a(n.SYSERR),"#ris-content-wrapper");d("#rissubmit").hide();d("#jsBackToStores").css({top:0});}else{saksFindInStore.togglePrintThisPage("ON");saksModal.replaceContent("RESERVE IN STORE CONFIRMATION","#fis-title-label");saksModal.replaceContent(e(),"#findInStoreResults");}}omnitureManager.ping("reserveInStoreConfirm",{eml:saksStoreResultsModel.getRISFormInfo("_ris_email")||""});},error:function(){saksModal.replaceContent(a(),"#ris-content-wrapper");},complete:function(n){sksTicker.done(d("#rissubmit"));}}};var g=function(){var o=[];o.push('<div id="ris-product-summary"><h2>PRODUCT INFORMATION:</h2>');o.push("<b>"+sksItemModel.getProductInfo("_productName")+"</b><br/>");o.push(sksItemModel.getProductInfo("_shortDescription")+"<br/>");o.push(sksItemModel.getProductInfo("_productCode")+"<br/>");if(sksItemModel.getProductInfo("_size")){o.push("<b>Size:</b> "+sksItemModel.getProductInfo("_size")+"<br/>");}if(sksItemModel.getProductInfo("_color")){o.push("<b>Color:</b> "+sksItemModel.getProductInfo("_color")+"<br/>");}o.push("<b>QTY:</b> "+sksItemModel.getProductInfo("_quantity")+"<br/>");o.push("<b>Price:</b> "+sksItemModel.getProductInfo("_displayablePrice")+"<br/><br/>");var n=(parseInt(sksItemModel.getProductInfo("_merchandise_tax"),10)?"$":"");o.push("Subtotal: "+n+sksItemModel.getProductInfo("_sale_price")+"<br/>");o.push("Estimated Tax*: "+n+sksItemModel.getProductInfo("_merchandise_tax")+"<br/>");o.push("<b>Estimated Total*: "+n+sksItemModel.getProductInfo("_sub_total")+"</b><br/><br/>");o.push("UPC: "+sksItemModel.getProductInfo("_upcCode")+"<br/><br/></div>");return o.join("");};var m=function(){var n=saksStoreResultsModel.getStoreResults().getObjectFromArray(saksStoreResultsModel.getCurrentStoreId(),"storeNumber");var o=[];o.push("<h2>SELECTED STORE:</h2>");o.push(saksFindInStore.getAStoreDetailHTML(n,false,true));return o.join("");};var l=function(o){var n=[];n.push('<div id="fisWrapper">');n.push('<div id="ris-formHeader"><div class="ris-title">WE WILL EMAIL YOU WHEN YOUR ITEM(S) ARE READY.</div>');if(o){n.push('<div class="informational">*Required Information</div>');}n.push('<div class="clearfix"></div></div>');return n.join("");};var c=function(){var n=[];n.push('<div id="ris-footer">');n.push('<div class="fis-buttons" id="rissubmit"><div title="SUBMIT">SUBMIT</div></div>');n.push('<a href="" id="jsBackToStores">Back To Store Results</a>');n.push('<div class="clearfix"></div></div>');return n.join("");};var f=function(){logger.log("BUILDING RESERVE IN STORE FORM HTML");var n=[];n.push(l(true));n.push('<div id="ris-content-wrapper">');n.push('<div id="ris-form">');n.push('<div id="ris-fname-container" class="ris-container">');n.push('<label for="ris-fname">*First Name</label><br/>');n.push('<input id="ris-fname" type="text" name="ris-fname" maxlength="15" />');n.push('<div id="ris_fname-warning" class="ris-warning saks-warning-msg"></div>');n.push("</div>");n.push('<div id="ris-lname-container" class="ris-container">');n.push('<label for="ris-lname">*Last Name</label><br/>');n.push('<input id="ris-lname" type="text" name="ris-lname" maxlength="25" />');n.push('<div id="ris_lname-warning" class="ris-warning saks-warning-msg"></div>');n.push("</div>");n.push('<div id="ris-email-container" class="ris-container">');n.push('<label for="ris-email">*Email Address</label><br/>');n.push('<input id="ris-email" type="text" name="ris-email" />');n.push('<div id="ris_email-warning" class="ris-warning saks-warning-msg"></div>');n.push("</div>");n.push('<div id="ris-phone-container" class="ris-container">');n.push('<label for="ris-phone">*Contact Phone Number</label><br/>');n.push('<input id="ris-phone" type="text" name="ris-phone" placeholder="Ex. 123-123-1234 or 1231231234" maxlength=40"/>');n.push('<div id="ris_phone-warning" class="ris-warning saks-warning-msg"></div>');n.push("</div>");n.push("</div>");n.push('<div id="ris-captcha-container">');n.push('<div id="ris-captcha"></div>');n.push('<div id="recaptcha_response_field-warning" class="ris-warning saks-warning-msg"></div>');n.push("</div>");n.push('<div class="clearfix"></div>');n.push("</div>");n.push(c());n.push("</div>");n.push('<div class="clearfix"></div>');return n.join("");};var e=function(){logger.log("BUILDING RESERVE IN STORE SUBMIT CONFIRMATION HTML");var n=saksStoreResultsModel.getStoreResults().getObjectFromArray(saksStoreResultsModel.getCurrentStoreId(),"storeNumber");var o=[];o.push(l(false));o.push('<div id="ris-content-wrapper">');o.push("<b>Thank you for using the Saks Fifth Avenue Reserve In Store program!</b><br/><br/>");o.push("<b>Name:</b> "+saksStoreResultsModel.getRISFormInfo("_ris_fname")+" "+saksStoreResultsModel.getRISFormInfo("_ris_lname")+"<br/>");o.push("<b>Email Address:</b> "+saksStoreResultsModel.getRISFormInfo("_ris_email")+"<br/>");o.push("<b>Contact Phone Number:</b> "+saksStoreResultsModel.getRISFormInfo("_ris_phone")+"<br/><br/>");o.push('<ul id="ris-confiramation-details">');o.push("<li>You will receive an email copy of your request shortly. Your reservation request has been sent to the "+n.storeName+" store.</li>");o.push("<li>Within 3 business hours, you will receive your email confirmation from the "+n.storeName+" store with instructions about your order.</li>");o.push("<li>Your item(s) will not be available for in-store purchase and pick-up until you receive email confirmation and instructions.</li>");o.push("<li>Reservations will be automatically cancelled if not claimed within 48 hours after email confirmation.</li>");o.push('</div><div class="clearfix"></div></div>');return o.join("");};var a=function(o){var n=[];if(o){n.push('<div id="ris-form-warning" class="saks-warning-msg">'+sksWarning.warningMsgHtml(o.errorReason)+"</div>");}else{n.push('<div id="ris-form-warning" class="saks-warning-msg">'+sksWarning.getWarningMessage("ris-down")+"</div>");}return n.join("");};var h=function(n){logger.log("Binding _bindREserveInStoreAction events");d("div.jsReserveInStore",n).click(function(){var p=d(this).attr("id");saksStoreResultsModel.saveCurrentStoreId(p);sksItemModel.setProductInfo("_quantity",d("input","#ris-quantity").val());var o=sksItemModel.getStoreResultsProductQueryInfo();logger.log("click Reserve In Store: latestProductQuery -->");logger.log(o);reserveInStore.getReserveInStoreFormLayer({productCode:o.productCode,price:o.price.substring(1),storeCode:976,itemQuantity:o.itemQuantity,storeZipCode:saksStoreResultsModel.getStoreResults().getObjectFromArray(saksStoreResultsModel.getCurrentStoreId(),"storeNumber").contactInfo.zipCode});});};var b=function(n){d("#jsBackToStores",n).click(function(o){logger.log("RESERVE IN STORE -- CLICK BACK TO STORE RESULTS");o.preventDefault();logger.log("pre callback: "+sksItemModel.getProductInfo("_skuCode"));saksFindInStore.getFISLayer({productCode:sksItemModel.getProductInfo("_productCode"),itemQuantity:sksItemModel.getProductInfo("_quantity"),sku_id:sksItemModel.getProductInfo("_skuCode")},function(){logger.log("CALLBACK");logger.log(sksItemModel.getProductInfo("_productCode"));logger.log(sksItemModel.getProductInfo("_quantity"));logger.log(sksItemModel.getProductInfo("_skuCode"));logger.log(sksItemModel.getProductInfo("_zipCode"));logger.log(sksItemModel.getProductInfo("_radius"));saksFindInStore.getFIStoreResults({productCode:sksItemModel.getProductInfo("_productCode"),itemQuantity:sksItemModel.getProductInfo("_quantity"),sku_id:sksItemModel.getProductInfo("_skuCode"),zipCode:sksItemModel.getProductInfo("_zipCode"),radius:sksItemModel.getProductInfo("_radius")});logger.log("CALLBACK END");});});d("#rissubmit",n).click(function(q){var o=d(this);var p=QLFISValidator.getValidData(o.attr("id"));if(p){sksTicker.tickTock(o);saksStoreResultsModel.saveReserveInStoreFormInfo(p);p.sku_id=sksItemModel.getProductInfo("_skuCode");p.itemQuantity=sksItemModel.getProductInfo("_quantity");p.ris_storeNumber=saksStoreResultsModel.getCurrentStoreId();p.ris_zipCode=saksStoreResultsModel.getStoreResults().getObjectFromArray(saksStoreResultsModel.getCurrentStoreId(),"storeNumber").contactInfo.zipCode;reserveInStore.getReserveInStoreSubmit(p);}});};d(function(){requestManager.registerRequest(k);});return{bindREserveInStoreAction:h,getReserveInStoreFormLayer:function(n){logger.log("-- getReserveInStoreFormLayer --");logger.log(n);sksGlobalAjax.ajaxRequest(requestManager.getRequestParams("reserveInStoreForm",n));},getReserveInStoreSubmit:function(n){logger.log("----- getReserveInStoreSubmit -----");logger.log(n);sksGlobalAjax.ajaxRequest(requestManager.getRequestParams("reserveInStoreFormSubmit",n));}};}(jQuery));var reserveWaiter=(function(b){var e=null;var d='<div id="reserve-waiting"></div>';var c=null;var a=function(){var f=b("#reserve-waiting");if(!f||f.length===0){e.css("opacity","0.6").append(d);f=b("#reserve-waiting");f.show();}else{f.show();}};return{display:function(){if(!e||e.length===0){e=b("#generic-modal").children();a();}else{a();}},hide:function(){e.css("opacity","1");c.hide();}};}(jQuery));var saksFFWaitList=(function(c){var w=null;var d=null;var t=false;var o=false;var u="";var v="";var r=false;var n="";var e="";var b=true;var h=function(z){var x=[];var y;if(c(z).first().attr("color").length===0&&c(z).first().attr("size").length===0){x.push('<div id="selectColor" class="FFWLInputs" style="display:none">');t=true;}else{x.push('<div id="selectColor" class="FFWLInputs">');t=false;}x.push("");if(saksFFWaitList._preID){x.push('<input type="text" readonly="readonly" id="soldout_sku" class="soldout-dropdown" style="width:180px;" value="Color/Size: 1 Selected">');}else{x.push('<input type="text" readonly="readonly" id="soldout_sku" class="soldout-dropdown" style="width:180px;" value="Choose Color(s) and/or Size(s)">');}x.push('<div id="soldout_sku_container"><ul id="soldout_sku_ul" style="display:none">');x.push('<li class="soldout_sku_li_ffwlbutton"><div id="ffwldropdownbutton"><a href="#" style="display:none;">Clear All</a><button class="saks-button saks-button-black" id="ffwlApply" type="submit"><span class="label">APPLY</span></button></div></li>');for(y=0;y<z.length;y++){x.push('<li class="soldout_sku_li">');x.push('<input type="checkbox" data-img-path="'+z[y].mediaPath+'" data-name="soldout_sku" data-soldout-sku="'+z[y].skuCode+'" data-value="'+z[y].value+'" ');if(z[y].value===saksFFWaitList._preID){x.push('checked="checked" ');}x.push("/>");x.push('<span class="soldout_sku_li_span">'+z[y].display+"</span><br /></li>");}x.push("</ul></div>");return x.join("");};var m=function(A){var y=[];var B=A;var x=B.colors;y.push('<div id="ffWaitList">');y.push('<div id="titlebar"><h1 id="ffwl-title-label">ADD TO WAIT LIST</h1><div id="titlebar-right">');if(saksFFWaitList._qlRefer){y.push('<a id="ffwlbacktoQL" data-product-code="'+saksFFWaitList._pCode+'" href="#" style="font-weight:bold;">Back to Product Detail</a><span class="separator" style="">|</span>');}else{if(B.displayLinkInWL){y.push('<a id="toProductDetail" href="'+B.detailPage+'" style="font-weight:bold;">Full Product Detail</a><span class="separator" style="">|</span>');}else{y.push('<a id="toProductDetail" href="'+B.detailPage+'" style="font-weight:bold; display:none;">Full Product Detail</a><span class="separator" style="display:none">|</span>');}}y.push('<div class="close-wrap ffWaitList"><a class="modal-close overlay-close" alt="Close" title="Close">CLOSE</a></div></div></div>');y.push("<div>");y.push('<div id="stores-print-this-page"><a class="iconPrint">Print This Page</a></div>');y.push('<div class="content-left">');y.push('<div id="ffwl-large-image"><img id="MainImage" src="'+B.images.large+'" alt=""/></div>');y.push('<div id="MainImageColor"></div>');y.push("</div>");y.push('<div class="content-mid">');y.push('<div id="ffwl-product-summary">');y.push('<h1 style="padding-left:0px;">THIS ITEM IS SOLD OUT</h1>');y.push("<p>Add it to your Wait List and we will notify you by email if more become available.</p>");y.push("<br/>");y.push("<h2>PRODUCT INFORMATION:</h2>");y.push('<span style="font-weight:bold;">'+B.productName+"</span>");y.push("<br/>");y.push("<span>"+B.shortDescription+"</span>");y.push("<br/>");y.push('<div class="item-price" style="margin-top:5px;">');if(B.salePriceDisplayable){if(B.displayNewFFPricing){y.push('<div class="market-price-info-content">');y.push('<div class="market-price-info-title"><span>PRICING INFORMATION</span>');y.push('<a href="#"><span class="ffwl-market-price-info-close">CLOSE</span></a>');y.push("</div>");y.push("<p>The strikethrough price reflects the regular price at which we've normally sold that item or, if we have not previously sold an item, the price at which that item (or a comparable item) is normally sold in the market.</p>");y.push('<div class="arrow-down-outter"></div>');y.push('<div class="arrow-down-inner"></div>');y.push("</div>");y.push('<a class="ffwl-market-price-info" href="#"><img src="/static/images/fashionfix/market-price-info.png" /></a>');y.push('<span class="product-price line-through">'+B.formattedListPrice+"</span>");y.push('<span class="blackBold11" style="font-weight:bold;">');y.push('<span class="product-sale-price">'+B.formattedSalePrice+"</span>");y.push("</span>");}else{y.push('<span class="product-price">'+B.listPriceLabel+" "+B.formattedListPrice+"</span>");y.push('<span class="blackBold11" style="font-weight:bold;">'+B.salePriceLabel);y.push('<span class="product-sale-price">'+B.formattedSalePrice+"</span>");y.push("</span>");}}else{y.push('<span class="product-price" style="font-weight:bold;">'+B.formattedListPrice+"</span>");}y.push("</div>");if(c(B.allSoldOutSkus).first().attr("color").length===0&&c(B.allSoldOutSkus).first().attr("size").length===0){y.push('<div id="ffwl-quantity" class="quantity-input FFWLInputs"><label>QTY:</label><span>1</span></div>');}if(B.restrictedCountryMessage.length>1){y.push('<div id="ffwl-shipping-restriction" class="ffwl-shipping" ><a style="color:red" href="javascript:popupwin(\'/html/contextual_popups/StateShippingRestriction.jsp\',500,500);">'+B.restrictedCountryMessage+"</a></div>");}else{if(B.restrictedStateMessage.length>1){y.push('<div id="ffwl-shipping-restriction" class="ffwl-shipping" ><a style="color:red" href="javascript:popupwin(\'/html/contextual_popups/StateShippingRestriction.jsp\',500,500);">'+B.restrictedStateMessage+"</a></div>");}}y.push('<div id="qtyError" class="saks-warning-msg"></div>');if(B.purchaseLimitThreshold){y.push('<div id="highdemand">'+B.purchaseLimitMessage+"</div>");}y.push(h(B.allSoldOutSkus));y.push('<div class="clearfix"></div>');y.push("</div>");y.push('<div id="colorSizeError" class="saks-warning-msg"></div>');y.push('<div id="swatch-widget" style="display:none;">');y.push('<div id="swatch-arrow-left" class="swatch-arrows" ><img src="/static/images/leftArrow.gif"></div>');y.push('<div id="swatch-container"><div id="swatch-inner">');for(var z=0;z<x.length;z++){if(x[z].colorPath&&x[z].colorPath!==""){y.push('<div class="swatch-obj scene7-fis-swatch">');y.push('<img src="'+x[z].colorPath+'" alt="'+x[z].name+'" title="'+x[z].name+'">');y.push('<div class="text">'+x[z].name+"</div>");y.push("</div>");}else{y.push('<div class="swatch-obj scene7-fis-swatch">');y.push('<div class="flat-swatch" style="background-color:#'+x[z].color+';" ></div>');y.push("<div>"+x[z].name+"</div>");y.push("</div>");}}y.push('<div class="clearfix"></div>');y.push('</div><div class="clearfix"></div></div>');y.push('<div id="swatch-arrow-right" class="swatch-arrows" ><img src="/static/images/rightArrow.gif"></div>');y.push('<div class="clearfix"></div>');y.push("</div>");y.push('<div class="ffwl-error" style="display:none">Please select a color or size</div>');y.push("</div>");if(B.loggedIn){y.push('<div id="ffwl-content-wrapper" style="display:none">');}else{y.push('<div id="ffwl-content-wrapper">');}if(!B.loggedIn&&B.recaptcha.recaptchaOnForWaitList){y.push('<div id="ffwl-form">');o=true;}else{y.push('<div id="ffwl-form" class="captchaOff">');}y.push('<div id="ffwl-email-container" class="ffwl-container">');y.push("<br/><h1>EMAIL ADDRESS</h1>");y.push('<input id="ffwl-email" type="text" name="ffwl-email" value="'+B.userEmail+'"/>');y.push('<div id="ffwl-email-warning" class="ffwl-warning saks-warning-msg"></div>');y.push("</div>");y.push("</div>");if(o){y.push('<div id="ffwl-captcha-container">');}else{y.push('<div id="ffwl-captcha-container" style="display:none;">');}y.push('<div id="ffwl-captcha-instruction">For security purposes, please enter the words below.</div>');y.push('<div id="ffwl-captcha"></div>');y.push('<div id="recaptcha_response_field-warning" class="ffwl-warning saks-warning-msg"></div>');y.push("</div>");y.push('<div class="clearfix"></div>');y.push("</div>");y.push('<div class="add-to-wait-list"><img src="/static/images/fashionfix/add-to-wait-list.png" / ></div>');y.push('<div class="waitlist-continue-shopping modal-close" style="float:right; display:none;"><img src="/static/images/fashionfix/new-waitlist-continue.png" / ></div>');y.push("</div>");y.push('<div class="clearfix"></div>');y.push("</div>");y.push("</div>");return y.join("");};var q=function(y){var x=[];x.push("<b>"+y.productName+"</b>");x.push("<br/>");x.push(y.shortDescription);x.push("<br/>");x.push('<ul style="border-bottom:1px solid #CCCCCC"><li class="waitlist-result-col1 waitlist-result-title">Size</li><li class="waitlist-result-col2 waitlist-result-title">Color</li><li class="waitlist-result-col3 waitlist-result-title">Price</li></ul>');if(y.listAdded.length>0){c(y.listAdded).each(function(A,z){x.push('<ul><li class="waitlist-result-col1">'+z.size+'</li><li class="waitlist-result-col2">'+z.color+'</li><li class="waitlist-result-col3">'+z.price+"</li></ul>");});}if(y.listOfSkusAlreadyAdded.length>0){c(y.listOfSkusAlreadyAdded).each(function(A,z){x.push('<ul><li class="waitlist-result-col1">'+z.size+'</li><li class="waitlist-result-col2">'+z.color+'</li><li class="waitlist-result-col3">'+z.price+"</li></ul>");});}return x.join("");};var a=function(y){var x=[];x.push("<h1>YOU HAVE JUST ADDED "+(parseInt(y.listAdded.length,10)+parseInt(y.listOfSkusAlreadyAdded.length,10))+" ITEM(S) TO YOUR WAIT LIST</h1>");x.push("<br/>");x.push('<p style="font-size:11px; padding-left:5px;">We will email you at '+y.emailAddres+" if more become available.</p>");x.push("<br/>");x.push('<div id="waitlist-result-container">');x.push(q(y));x.push("</div>");if(jQuery.browser.msie){x.push('<div class="ie-container-padding"><br/></div>');}else{x.push("<div><br/></div>");}return x.join("");};var k={};var g={ffwaitlistlayer:{data:{bmForm:"waitlist_layer_service"},success:function(x){k=x;saksModal.viewInModal(m(x),590,530);l(c("#generic-modal"));if(o){sksCaptcha.initialize(x,"recaptchaOnForWaitList");sksCaptcha.getCaptcha("ffwl-captcha");}omnitureManager.ping("ffWLLanding",x);saksFFWaitList.showMarketPriceInfo(".ffwl-market-price-info");saksFFWaitList.showMarketPriceInfo(".ffwl-market-price-info-close");},complete:function(x){}},ffwaitlistAdd:{data:{bmForm:"waitlist_add_to_service"},success:function(x){if(x.VALERRS){sksWarning.warn(x.VALERRS);return;}var y=c("#ffWaitList");c("#ffwl-captcha-container",y).hide();c("#ffwl-content-wrapper",y).hide();c("#ffwl-product-summary ",y).addClass("waitlist-result");c("#ffwl-product-summary",y).html(a(x));c(".add-to-wait-list",y).hide();c(".waitlist-continue-shopping",y).show();if(c("#waitlist-result-container",y).height()>140){c("#waitlist-result-container",y).addClass("ffwl-confirmation");}omnitureManager.ping("ffWLConfirmation",x);},complete:function(x){}},test:{data:{bmForm:"get_stores_with_inventory"},success:function(x){if(x.SYSERR){logger.log("---ERROR CODE RETURNED ON RESULTS---");sksWarning.warn(x.SYSERR);}else{logger.log("---STORES RETURNED---");sksCaptcha.initialize(x,"recaptchaOnForWaitList");}},error:function(){logger.log("---STORE RESULTS ERROR HANDLER---");saksModal.replaceContent(sksWarning.getWarningMessage("Not this item"),"#FIS-error-warning");},complete:function(x){sksTicker.done(c("div#btnSubmit"));}}};var f=function(y){var x=/^[-A-Za-z0-9_]+(\.[-A-Za-z0-9_]+){0,3}@[-A-Za-z0-9_]+(\.[-A-Za-z0-9_]+){0,3}\.[-\w]{2,4}$/;if(!y||y.length===0){return false;}else{if(!(x.exec(y))){return false;}else{return true;}}};var p=function(A){var x=false;var B=c("#ffwl-captcha-container");var z={ris_email:c.trim(c("#ffwl-email",B).val())};sksCaptcha.retrieveInputs(z,B);for(var y in z){if(z.hasOwnProperty(y)){if(y==="ris_email"&&!this._validateEmail(z[y])){c("#"+y+"-warning").append(sksWarning.getWarningMessage(y,"#ris-"+y.substring(4)));x=true;}else{if(y==="recaptcha_response_field"&&!this.validateInput(z[y])){c("#"+y+"-warning").append(sksWarning.getWarningMessage(y,"#recaptcha_response_field"));x=true;}}if(y!=="ris_phone"){z[y]=saksUtils.cleanInput(z[y]);}}}if(x){return false;}else{return z;}};var l=function(z){z=(z)?z:c("#saksBody");var D=c("#generic-modal","body");var B=c("#soldout_sku_ul",D);var A=c("#soldout_sku",D);var y=c("#ffwl-large-image img",z).attr("src");var C=function(F){var E=c(".soldout_sku_li input:checked",F);if(E.length!==0){c(".ffwl-error",D).hide();A.attr("value","Color/Size: "+E.length+" Selected");if(E.first().attr("data-img-path").length>0){c("#ffwl-large-image img",z).attr("src",E.first().attr("data-img-path"));}else{return;}}else{A.attr("value","Choose Color(s) and/or Size(s)");return;}};var x=function(F){var E=c(".soldout_sku_li input:checked",F);if(E.length!==0){c("#ffwldropdownbutton a",F).css("display","");}else{c("#ffwldropdownbutton a",F).css("display","none");}return;};c("#soldout_sku",z).click(function(E){if(B.css("display")==="block"){B.hide();}else{x(B);B.show();}E.preventDefault();});c(".add-to-wait-list",z).click(function(){var E=QLFISValidator.getValidData("ffwlSubmit");saksFFWaitList._qlRefer=false;if(E){sksGlobalAjax.ajaxRequest(requestManager.getRequestParams("ffwaitlistAdd",E));}});c("#saksOverlay",z).click(function(){A.show();B.hide();C(B);});c("#generic-modal").click(function(F){var E=c(F.target);if(E.attr("class")==="soldout_sku_li"||E.attr("class")==="soldout_sku_li soldout_select"&&c("input",E).length===1){if(c("input",E).first().attr("checked")==="checked"){c("input",E).first().attr("checked",false);}else{c("input",E).first().attr("checked",true);}}else{if(E.attr("class")==="soldout_sku_li_span"&&c("input",E.parent()).length===1){if(c("input",E.parent()).first().attr("checked")==="checked"){c("input",E.parent()).first().attr("checked",false);}else{c("input",E.parent()).first().attr("checked",true);}}}if(E.parents("#soldout_sku_ul").length>0||E.attr("id")==="soldout_sku_ul"||E.attr("id")==="soldout_sku"){return;}else{if(B.css("display")==="block"){A.show();B.hide();C(B);}}});c("li.soldout_sku_li",B).hover(function(){c(this).addClass("soldout_select");},function(){c(this).removeClass("soldout_select");});c("#ffwlbacktoQL",z).click(function(E){E.preventDefault();saksFFWaitList._qlRefer=false;saksQuickLook.open();});c("#ffwlApply",z).click(function(E){B.hide();C(B);E.preventDefault();});c("#ffwldropdownbutton a",z).click(function(E){c(".soldout_sku_li input:checked",B).attr("checked",false);E.preventDefault();});};return{onLoad:function(x){requestManager.registerRequest(g);if(location.href.indexOf("fashionfix.jsp")>-1){this.bindFFWLElementsOnArray(x);}else{if(location.href.indexOf("ProductDetail.jsp")>-1){this.bindFFWLElementsOnPD(x);}}},onQL:function(x){x=(x)?x:c("#quicklook");requestManager.registerRequest(g);this.bindFFWLonQL(x);},bindFFWLonQL:function(x){x=(x)?x:c("#quicklook");c("select.ffwlQLSelect",x).change(function(A){A.preventDefault();var z=c(this).children();if(!z.filter("option:selected.ffwlQL").size()){return;}var y=z.filter("option:selected").attr("data-product-code");var B=z.filter("option:selected").attr("value");saksFFWaitList._preID=B;saksFFWaitList._pCode=y;saksFFWaitList._qlRefer=true;saksFFWaitList.omn_click_location="quicklook: drop down";saksFFWaitList.getWaitListLayer({productCode:y});});c("a#ffwlQLButton",x).click(function(z){var y=c(this).attr("data-product-code");saksFFWaitList._qlRefer=true;saksFFWaitList._pCode=y;saksFFWaitList._preID="";saksFFWaitList.omn_click_location="quicklook: button";saksFFWaitList.getWaitListLayer({productCode:y});return false;});},bindFFWLElementsOnPD:function(x){x=(x)?x:c("#saksBody");c("a.ffwlPD",x).click(function(){var y=c(this).attr("data-product-code");var z=c(this).attr("data-sku");saksFFWaitList.omn_click_location="product detail: button";saksFFWaitList._preID="";saksFFWaitList.getWaitListLayer({productCode:y});return false;});},bindFFWLElementsOnArray:function(x){x=(x)?x:c("#saksBody");c(".soldout_waitlist",x).click(function(){var y=c(this).attr("data-product-code");saksFFWaitList._preID="";saksFFWaitList._qlRefer=false;saksFFWaitList.omn_click_location="product array: button";saksFFWaitList.getWaitListLayer({productCode:y});return false;});},showMarketPriceInfo:function(x){var y=c(x);y.on({"click.ft":function(z){logger.log("produt market price info click");var A=c(this);if(A.prop("class")==="ffwl-market-price-info-close"){A=A.parents().eq(2);}else{A=A.prev();}if(A.is(":visible")){A.css("display","none");}else{A.css("display","block");}z.preventDefault();}});},getWaitListLayer:function(x,y){sksGlobalAjax.ajaxRequest(requestManager.getRequestParams("ffwaitlistlayer",x),y);},getHideDropDown:function(){return t;},getCaptchaShow:function(){return o;},omn_click_location:e};}(jQuery));var sksWarning=(function(h){var b={"Invalid Zip Code":"Please enter a valid 5 digit US Zip Code.","No Stores Found":"Your selection is not available in any store within "+sksItemModel.getProductInfo("_radius")+" miles of "+sksItemModel.getProductInfo("_zipCode")+".<br/><br/>Please adjust your search criteria and try again.","Not this item":"FIND IN STORE service is not available for this item.",sizeqtyerror:"Please select a color or size.",sizeqtyziperror:"Please select a color or size and ZIP.",zipcodeError:"Please enter a valid 5 digit US Zip Code.",colorSizeError:"Please select a Color/Size.",qtyError:"Please enter a valid Quantity.",ris_fname:"Invalid first name.",ris_lname:"Invalid last name.",ris_email:"Invalid email address.",ris_phone:"Invalid phone number.",recaptcha_response_field:"Please enter the text displayed in the image.","ris-down":"We're sorry, Reserve in store service is not available at this time."};var m={CAPTCHA_ERROR:{div:"recaptcha_response_field-warning",callback:function(){Recaptcha.reload();}},YFS10048:{div:"FIS-error-warning"},YFS10049:{div:"FIS-error-warning"},YFS10050:{div:"FIS-error-warning"},YFS10051:{div:"FIS-error-warning"},YFS10053:{div:"FIS-error-warning"},YFS10054:{div:"FIS-error-warning"},YFS10055:{div:"FIS-error-warning"},YFS10060:{div:"FIS-error-warning"},BM001:{div:"FIS-error-warning"}};var a=function(n){return"<div>"+n+"</div>";};var c=function(n){if(typeof n==="string"){h(n).addClass("input-error");}else{if(typeof n==="object"){n.addClass("input-error");}}};var d=function(n){n.find(".input-error").removeClass("input-error");};var g=function(n,o){if(b[n]){if(o){c(o);}return a(b[n]);}else{logger.log("REQUESTING UNKNOWN ERRROR MESSAGE!!!!!!!!!!!!!");return"";}};var k=function(o){var n=m[o.errorCode];h("#"+n.div).empty().append(a(o.errorReason));c(n.div);if(n.callback){n.callback();}};var f=function(o){if(h.type(o)==="array"){for(var n=0;n<o.length;n++){k(o[n]);}}else{if(h.type(o)==="object"){k(o);}}};var e=function(n){n.empty();};var l=function(n){n=(n)?h(n):h("#saksbody");d(n);h(".saks-warning-msg",n).empty();};return{getWarningMessage:g,clearWarningMessage:e,clearAllWarningMessages:l,warn:f,warningMsgHtml:a};}(jQuery));var requestManager=(function(b){var a={_standardParams:{url:"/main/ProductDetail.jsp",type:"POST",dataType:"json"}};return{getRequestParams:function(d,c){if(a[d]){return b.extend(true,{},a[d],{data:c});}else{logger.log("ERROR: --- REQUEST IS NOT REGISTERED ---> "+d);}},registerRequest:function(c){for(var d in c){if(!a[d]){a[d]=b.extend(true,{},a._standardParams,c[d]);}else{logger.log("ERROR: --- REQUEST IS ALREADY REGISTERED ---> "+d);}}}};}(jQuery));var QLFISValidator=(function(b){var a={_isValid:function(c){sksWarning.clearAllWarningMessages("#generic-modal");return a._validations[c]();},_validations:{btnSubmit:function(){logger.log("VALIDATE DATA on click of btnsubmit BEFORE REQUESTING STORES");var d=b("#findInStore");var g=b("#MainProductqtyToBuy0",d);var c=b("#fis-zip",d);var f=b("select.vars-to-buy",d);b("#findInStoreResults").remove();var e={id:sksItemModel.getProductInfo("_productCode"),qty:parseInt(g.val(),10)||1,sku_id:saksFindInStore.calculateSkuValue(d),zip:c.val(),radius:b("#radius option:selected",d).val()};b(g,d).val(e.qty);if(e.qty&&parseInt(e.sku_id,10)&&this.validateZip(e.zip)){sksItemModel.setProductInfo("_skuCode",e.sku_id);sksItemModel.setProductInfo("_quantity",e.qty);return e;}else{if(this.validateZip(e.zip)===false){b("#zipcodeError").append(sksWarning.getWarningMessage("zipcodeError",c));}if(!parseInt(e.sku_id,10)){b("#colorSizeError").append(sksWarning.getWarningMessage("colorSizeError",f));}if(!e.qty){b("#qtyError").append(sksWarning.getWarningMessage("qtyError",g));}saksModal.resizeModalBox(779,390);return false;}},jsAddToBag:function(){logger.log("validating client side add to bag click");var c=b("#quicklook");var d={productCode:sksItemModel.getProductInfo("_productCode"),itemQuantity:b("#MainProductqtyToBuy0",c).val(),sku_id:saksFindInStore.calculateSkuValue(c)};if(parseInt(d.itemQuantity,10)>0&&parseInt(d.sku_id,10)!==0){return d;}else{saksModal.replaceContent(sksWarning.getWarningMessage("sizeqtyerror"),"#message-quicklook-foot");return false;}},jsFindInStoreQL:function(){logger.log("validating client side find in store click");var c=b("#generic-modal");var d={id:sksItemModel.getProductInfo("_productCode"),qty:b("#MainProductqtyToBuy0",c).val(),sku_id:saksFindInStore.calculateSkuValue(c)};d.qty=(!parseInt(d.qty,10))?1:d.qty;sksItemModel.setProductInfo("_skuCode",d.sku_id);sksItemModel.setProductInfo("_quantity",d.qty);return d;},rissubmit:function(){var c=false;var f=b("#findInStoreResults");var e={ris_fname:b.trim(b("#ris-fname",f).val()),ris_lname:b.trim(b("#ris-lname",f).val()),ris_email:b.trim(b("#ris-email",f).val()),ris_phone:b.trim(b("#ris-phone",f).val())};sksCaptcha.retrieveInputs(e,f);for(var d in e){if(e.hasOwnProperty(d)){if(d==="ris_email"&&!this.validateEmail(e[d])){b("#"+d+"-warning").append(sksWarning.getWarningMessage(d,"#ris-"+d.substring(4)));c=true;}else{if(d==="recaptcha_response_field"&&!this.validateInput(e[d])){b("#"+d+"-warning").append(sksWarning.getWarningMessage(d,"#recaptcha_response_field"));c=true;}else{if(d==="ris_fname"&&!this.validateInput(e[d])){b("#"+d+"-warning").append(sksWarning.getWarningMessage(d,"#ris-"+d.substring(4)));c=true;}else{if(d==="ris_lname"&&!this.validateInput(e[d])){b("#"+d+"-warning").append(sksWarning.getWarningMessage(d,"#ris-"+d.substring(4)));c=true;}else{if(d==="ris_phone"&&!this.validatePhone(e[d])){b("#"+d+"-warning").append(sksWarning.getWarningMessage(d,"#ris-"+d.substring(4)));c=true;}}}}}if(d!=="ris_phone"){e[d]=saksUtils.cleanInput(e[d]);}}}if(c){return false;}else{return e;}},ffwlSubmit:function(){var d=false;var f=b("#ffWaitList");var e={WAITLIST_EMAIL:b.trim(b("#ffwl-email",f).val()),SELECTED_SKUS:""};sksCaptcha.retrieveInputs(e,f);if(!this.validateEmail(e.WAITLIST_EMAIL)){b("#ffwl-email-warning",f).append(sksWarning.getWarningMessage("ris_email","#ffwl-email"));d=true;}if(!this.validateInput(e.recaptcha_response_field)&&saksFFWaitList.getCaptchaShow()){b("#recaptcha_response_field-warning",f).append(sksWarning.getWarningMessage("recaptcha_response_field","#recaptcha_response_field"));d=true;}var c=b(".soldout_sku_li input",f);if(c.filter(":checked").length===0&&saksFFWaitList.getHideDropDown()===false){b(".ffwl-error",f).show();d=true;}if(saksFFWaitList.getHideDropDown()===true){e.SELECTED_SKUS=c.attr("data-soldout-sku");}else{c.filter(":checked").each(function(){e.SELECTED_SKUS+=b(this).attr("data-soldout-sku")+",";});}if(d){return false;}else{return e;}},validatePhone:function(c){if(!c||c.length===0){return false;}else{if(!c.match(/^[0-9\.\-\(\)\s]*$/)){return false;}else{return true;}}},validateInput:function(c){if(!c||c.length===0){return false;}else{return true;}},validateZip:function(e){logger.log("Validating FIS Zip code: "+e);var d=b.trim(e);var c=d.length;if(c===0){return false;}else{if(c!==5){return false;}else{if(!d.match(/^[0-9]{5}$/)){return false;}else{return true;}}}},validateEmail:function(d){var c=/^[-A-Za-z0-9_]+(\.[-A-Za-z0-9_]+){0,3}@[-A-Za-z0-9_]+(\.[-A-Za-z0-9_]+){0,3}\.[-\w]{2,4}$/;if(!d||d.length===0){return false;}else{if(!(c.exec(d))){return false;}else{return true;}}}}};return{getValidData:a._isValid};}(jQuery));
/*!
 * jQuery Cycle2 - Version: 20130307
 * http://malsup.com/jquery/cycle2/
 * Copyright (c) 2012 M. Alsup; Dual licensed: MIT/GPL
 * Requires: jQuery v1.7 or later
 */
(function(d){var a="20130307";d.fn.cycle=function(e){var f;if(this.length===0&&!d.isReady){f={s:this.selector,c:this.context};d.fn.cycle.log("requeuing slideshow (dom not ready)");d(function(){d(f.s,f.c).cycle(e);});return this;}return this.each(function(){var m,l,g,o;var h=d(this);var k=d.fn.cycle.log;if(h.data("cycle.opts")){return;}if(h.data("cycle-log")===false||(e&&e.log===false)||(l&&l.log===false)){k=d.noop;}k("--c2 init--");m=h.data();for(var n in m){if(m.hasOwnProperty(n)&&/^cycle[A-Z]+/.test(n)){o=m[n];g=n.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,b);k(g+":",o,"("+typeof o+")");m[g]=o;}}l=d.extend({},d.fn.cycle.defaults,m,e||{});l.timeoutId=0;l.paused=l.paused||false;l.container=h;l._maxZ=l.maxZ;l.API=d.extend({_container:h},d.fn.cycle.API);l.API.log=k;l.API.trigger=function(p,q){l.container.trigger(p,q);return l.API;};h.data("cycle.opts",l);h.data("cycle.API",l.API);l.API.trigger("cycle-bootstrap",[l,l.API]);l.API.addInitialSlides();l.API.preInitSlideshow();if(l.slides.length){l.API.initSlideshow();}});};d.fn.cycle.API={opts:function(){return this._container.data("cycle.opts");},addInitialSlides:function(){var f=this.opts();var e=f.slides;f.slideCount=0;f.slides=d();e=e.jquery?e:f.container.find(e);if(f.random){e.sort(function(){return Math.random()-0.5;});}f.API.add(e);},preInitSlideshow:function(){var f=this.opts();f.API.trigger("cycle-pre-initialize",[f]);var e=d.fn.cycle.transitions[f.fx];if(e&&d.isFunction(e.preInit)){e.preInit(f);}f._preInitialized=true;},postInitSlideshow:function(){var f=this.opts();f.API.trigger("cycle-post-initialize",[f]);var e=d.fn.cycle.transitions[f.fx];if(e&&d.isFunction(e.postInit)){e.postInit(f);}},initSlideshow:function(){var g=this.opts();var e=g.container;var f;g.API.calcFirstSlide();if(g.container.css("position")=="static"){g.container.css("position","relative");}d(g.slides[g.currSlide]).css("opacity",1).show();g.API.stackSlides(g.slides[g.currSlide],g.slides[g.nextSlide],!g.reverse);if(g.pauseOnHover){if(g.pauseOnHover!==true){e=d(g.pauseOnHover);}e.hover(function(){g.hoverPaused=true;if(!g.paused){g.API.trigger("cycle-paused",[g]);}},function(){g.hoverPaused=false;if(!g.paused){g.API.trigger("cycle-resumed",[g]);}});}if(g.timeout){f=g.API.getSlideOpts(g.nextSlide);g.API.queueTransition(f);}g._initialized=true;g.API.updateView(true);g.container.on("cycle-paused cycle-resumed",function(h){g.container[h.type==="cycle-paused"?"addClass":"removeClass"]("cycle-paused");});g.API.trigger("cycle-initialized",[g]);g.API.postInitSlideshow();},add:function(h,f){var k=this.opts();var g=k.slideCount;var l=false;var e;if(d.type(h)=="string"){h=d.trim(h);}d(h).each(function(n){var o;var m=d(this);if(f){k.container.prepend(m);}else{k.container.append(m);}k.slideCount++;o=k.API.buildSlideOpts(m);if(f){k.slides=d(m).add(k.slides);}else{k.slides=k.slides.add(m);}k.API.initSlide(o,m,--k._maxZ);m.data("cycle.opts",o);k.API.trigger("cycle-slide-added",[k,o,m]);});k.API.updateView(true);l=k._preInitialized&&(g<2&&k.slideCount>=1);if(l){if(!k._initialized){k.API.initSlideshow();}else{if(k.timeout){e=k.slides.length;k.nextSlide=k.reverse?e-1:1;if(!k.timeoutId){k.API.queueTransition(k);}}}}},calcFirstSlide:function(){var f=this.opts();var e;e=parseInt(f.startingSlide||0,10);if(e>=f.slides.length||e<0){e=0;}f.currSlide=e;if(f.reverse){f.nextSlide=e-1;if(f.nextSlide<0){f.nextSlide=f.slides.length-1;}}else{f.nextSlide=e+1;if(f.nextSlide==f.slides.length){f.nextSlide=0;}}},calcNextSlide:function(){var f=this.opts();var e;if(f.reverse){e=(f.nextSlide-1)<0;f.nextSlide=e?f.slideCount-1:f.nextSlide-1;f.currSlide=e?0:f.nextSlide+1;}else{e=(f.nextSlide+1)==f.slides.length;f.nextSlide=e?0:f.nextSlide+1;f.currSlide=e?f.slides.length-1:f.nextSlide-1;}},calcTx:function(h,f){var g=h;var e;if(f&&g.manualFx){e=d.fn.cycle.transitions[g.manualFx];}if(!e){e=d.fn.cycle.transitions[g.fx];}if(!e){e=d.fn.cycle.transitions.fade;g.API.log('Transition "'+g.fx+'" not found.  Using fade.');}return e;},prepareTx:function(g,f){var l=this.opts();var n,m,h,k,e;if(l.slideCount<2){l.timeoutId=0;return;}if(g&&(!l.busy||l.manualTrump)){l.API.stopTransition();l.busy=false;clearTimeout(l.timeoutId);l.timeoutId=0;}if(l.busy){return;}if(l.timeoutId===0&&!g){return;}m=l.slides[l.currSlide];h=l.slides[l.nextSlide];k=l.API.getSlideOpts(l.nextSlide);e=l.API.calcTx(k,g);l._tx=e;if(g&&k.manualSpeed!==undefined){k.speed=k.manualSpeed;}if(l.nextSlide!=l.currSlide&&(g||(!l.paused&&!l.hoverPaused&&l.timeout))){l.API.trigger("cycle-before",[k,m,h,f]);if(e.before){e.before(k,m,h,f);}n=function(){l.busy=false;if(!l.container.data("cycle.opts")){return;}if(e.after){e.after(k,m,h,f);}l.API.trigger("cycle-after",[k,m,h,f]);l.API.queueTransition(k);l.API.updateView(true);};l.busy=true;if(e.transition){e.transition(k,m,h,f,n);}else{l.API.doTransition(k,m,h,f,n);}l.API.calcNextSlide();l.API.updateView();}else{l.API.queueTransition(k);}},doTransition:function(k,l,f,g,n){var e=k;var o=d(l),h=d(f);var m=function(){h.animate(e.animIn||{opacity:1},e.speed,e.easeIn||e.easing,n);};h.css(e.cssBefore||{});o.animate(e.animOut||{},e.speed,e.easeOut||e.easing,function(){o.css(e.cssAfter||{});if(!e.sync){m();}});if(e.sync){m();}},queueTransition:function(f){var e=this.opts();if(e.nextSlide===0&&--e.loop===0){e.API.log("terminating; loop=0");e.timeout=0;if(f.timeout){setTimeout(function(){e.API.trigger("cycle-finished",[e]);},f.timeout);}else{e.API.trigger("cycle-finished",[e]);}e.nextSlide=e.currSlide;return;}if(f.timeout){e.timeoutId=setTimeout(function(){e.API.prepareTx(false,!e.reverse);},f.timeout);}},stopTransition:function(){var e=this.opts();if(e.slides.filter(":animated").length){e.slides.stop(false,true);e.API.trigger("cycle-transition-stopped",[e]);}if(e._tx&&e._tx.stopTransition){e._tx.stopTransition(e);}},advanceSlide:function(f){var e=this.opts();clearTimeout(e.timeoutId);e.timeoutId=0;e.nextSlide=e.currSlide+f;if(e.nextSlide<0){e.nextSlide=e.slides.length-1;}else{if(e.nextSlide>=e.slides.length){e.nextSlide=0;}}e.API.prepareTx(true,f>=0);return false;},buildSlideOpts:function(g){var k=this.opts();var n,f;var h=g.data()||{};for(var m in h){if(h.hasOwnProperty(m)&&/^cycle[A-Z]+/.test(m)){n=h[m];f=m.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,b);k.API.log("["+(k.slideCount-1)+"]",f+":",n,"("+typeof n+")");h[f]=n;}}h=d.extend({},d.fn.cycle.defaults,k,h);h.slideNum=k.slideCount;try{delete h.API;delete h.slideCount;delete h.currSlide;delete h.nextSlide;delete h.slides;}catch(l){}return h;},getSlideOpts:function(f){var h=this.opts();if(f===undefined){f=h.currSlide;}var e=h.slides[f];var g=d(e).data("cycle.opts");return d.extend({},h,g);},initSlide:function(h,e,f){var g=this.opts();e.css(h.slideCss||{});if(f>0){e.css("zIndex",f);}if(isNaN(h.speed)){h.speed=d.fx.speeds[h.speed]||d.fx.speeds._default;}if(!h.sync){h.speed=h.speed/2;}e.addClass(g.slideClass);},updateView:function(e){var h=this.opts();if(!h._initialized){return;}var g=h.API.getSlideOpts();var f=h.slides[h.currSlide];if(!e){h.API.trigger("cycle-update-view-before",[h,g,f]);if(h.updateView<0){return;}}if(h.slideActiveClass){h.slides.removeClass(h.slideActiveClass).eq(h.currSlide).addClass(h.slideActiveClass);}if(e&&h.hideNonActive){h.slides.filter(":not(."+h.slideActiveClass+")").hide();}h.API.trigger("cycle-update-view",[h,g,f,e]);h.API.trigger("cycle-update-view-after",[h,g,f]);},getComponent:function(f){var g=this.opts();var e=g[f];if(typeof e==="string"){return(/^\s*\>/).test(e)?g.container.find(e):d(e);}if(e.jquery){return e;}return d(e);},stackSlides:function(l,h,g){var k=this.opts();if(!l){l=k.slides[k.currSlide];h=k.slides[k.nextSlide];g=!k.reverse;}d(l).css("zIndex",k.maxZ);var f;var m=k.maxZ-2;var e=k.slideCount;if(g){for(f=k.currSlide+1;f<e;f++){d(k.slides[f]).css("zIndex",m--);}for(f=0;f<k.currSlide;f++){d(k.slides[f]).css("zIndex",m--);}}else{for(f=k.currSlide-1;f>=0;f--){d(k.slides[f]).css("zIndex",m--);}for(f=e-1;f>k.currSlide;f--){d(k.slides[f]).css("zIndex",m--);}}d(h).css("zIndex",k.maxZ-1);},getSlideIndex:function(e){return this.opts().slides.index(e);}};d.fn.cycle.log=function c(){if(window.console&&console.log){console.log("[cycle2] "+Array.prototype.join.call(arguments," "));}};d.fn.cycle.version=function(){return"Cycle2: "+a;};function b(e){return(e||"").toLowerCase();}d.fn.cycle.transitions={custom:{},none:{before:function(g,h,f,e){g.API.stackSlides(f,h,e);g.cssBefore={opacity:1,display:"block"};}},fade:{before:function(h,k,g,f){var e=h.API.getSlideOpts(h.nextSlide).slideCss||{};h.API.stackSlides(k,g,f);h.cssBefore=d.extend(e,{opacity:0,display:"block"});h.animIn={opacity:1};h.animOut={opacity:0};}},fadeout:{before:function(h,k,g,f){var e=h.API.getSlideOpts(h.nextSlide).slideCss||{};h.API.stackSlides(k,g,f);h.cssBefore=d.extend(e,{opacity:1,display:"block"});h.animOut={opacity:0};}},scrollHorz:{before:function(h,k,g,f){h.API.stackSlides(k,g,f);var e=h.container.css("overflow","hidden").width();h.cssBefore={left:f?e:-e,top:0,opacity:1,display:"block"};h.cssAfter={zIndex:h._maxZ-2,left:0};h.animIn={left:0};h.animOut={left:f?-e:e};}}};d.fn.cycle.defaults={allowWrap:true,autoSelector:".cycle-slideshow[data-cycle-auto-init!=false]",delay:0,easing:null,fx:"fade",hideNonActive:true,loop:0,manualFx:undefined,manualSpeed:undefined,manualTrump:true,maxZ:100,pauseOnHover:false,reverse:false,slideActiveClass:"cycle-slide-active",slideClass:"cycle-slide",slideCss:{position:"absolute",top:0,left:0},slides:"> img",speed:500,startingSlide:0,sync:true,timeout:4000,updateView:-1};d(document).ready(function(){d(d.fn.cycle.defaults.autoSelector).cycle();});})(jQuery);
/*! Cycle2 autoheight plugin; Copyright (c) M.Alsup, 2012; version: 20130309 */
(function(d){d.extend(d.fn.cycle.defaults,{autoHeight:0});d(document).on("cycle-initialized cycle-slide-added cycle-slide-removed",b);d(document).on("cycle-destroyed",c);function b(m,k){var f=k.autoHeight;var n,g,l;c(m,k);d(window).on("resize orientationchange",h);k._autoHeightOnResize=h;if(f==="calc"||(d.type(f)=="number"&&f>=0)){if(f==="calc"){f=a(k);}else{if(f>=k.slides.length){f=0;}}n=d(k.slides[f]).clone();n.removeAttr("id name rel").find("[id],[name],[rel]").removeAttr("id name rel");n.css({position:"static",visibility:"hidden",display:"block"}).prependTo(k.container).removeClass().addClass("cycle-sentinel cycle-slide");n.find("*").css("visibility","hidden");k._sentinel=n;}else{if(d.type(f)=="string"&&/\d+\:\d+/.test(f)){g=f.match(/(\d+)\:(\d+)/);g=g[1]/g[2];k._autoHeightRatio=g;setTimeout(function(){d(window).triggerHandler("resize");},15);}}function h(){if(k._autoHeightRatio){k.container.height(k.container.width()/g);}else{clearTimeout(l);l=setTimeout(function(){b(m,k);},50);}}}function c(g,f){if(f._sentinel){f._sentinel.remove();f._sentinel=null;}if(f._autoHeightOnResize){d(window).off("resize orientationchange",f._autoHeightOnResize);f._autoHeightOnResize=null;}}function a(g){var f=0,e=-1;g.slides.each(function(k){var l=d(this).height();if(l>e){e=l;f=k;}});return f;}})(jQuery);
/*! caption plugin for Cycle2;  version: 20130306 */
(function(a){a.extend(a.fn.cycle.defaults,{caption:"> .cycle-caption",captionTemplate:"{{slideNum}} / {{slideCount}}",overlay:"> .cycle-overlay",overlayTemplate:"<div>{{title}}</div><div>{{desc}}</div>",captionModule:"caption"});a(document).on("cycle-update-view",function(g,f,d,c){if(f.captionModule!=="caption"){return;}var b;a.each(["caption","overlay"],function(){var e=this;var k=d[e+"Template"];var h=f.API.getComponent(e);if(h.length&&k){h.html(f.API.tmpl(k,d,f,c));h.show();}else{h.hide();}});});a(document).on("cycle-destroyed",function(d,c){var b;a.each(["caption","overlay"],function(){var e=this,f=c[e+"Template"];if(c[e]&&f){b=c.API.getComponent("caption");b.empty();}});});})(jQuery);
/*! command plugin for Cycle2;  version: 20130203 */
(function(b){var a=b.fn.cycle;b.fn.cycle=function(d){var g,f,e;var c=b.makeArray(arguments);if(b.type(d)=="number"){return this.cycle("goto",d);}if(b.type(d)=="string"){return this.each(function(){var h;g=d;e=b(this).data("cycle.opts");if(e===undefined){a.log('slideshow must be initialized before sending commands; "'+g+'" ignored');return;}else{g=g=="goto"?"jump":g;f=e.API[g];if(b.isFunction(f)){h=b.makeArray(c);h.shift();return f.apply(e.API,h);}else{a.log("unknown command: ",g);}}});}else{return a.apply(this,arguments);}};b.extend(b.fn.cycle,a);b.extend(a.API,{next:function(){var d=this.opts();if(d.busy&&!d.manualTrump){return;}var c=d.reverse?-1:1;if(d.allowWrap===false&&(d.currSlide+c)>=d.slideCount){return;}d.API.advanceSlide(c);d.API.trigger("cycle-next",[d]).log("cycle-next");},prev:function(){var d=this.opts();if(d.busy&&!d.manualTrump){return;}var c=d.reverse?1:-1;if(d.allowWrap===false&&(d.currSlide+c)<0){return;}d.API.advanceSlide(c);d.API.trigger("cycle-prev",[d]).log("cycle-prev");},destroy:function(){var c=this.opts();clearTimeout(c.timeoutId);c.timeoutId=0;c.API.stop();c.API.trigger("cycle-destroyed",[c]).log("cycle-destroyed");c.container.removeData("cycle.opts");if(!c.retainStylesOnDestroy){c.container.removeAttr("style");c.slides.removeAttr("style");c.slides.removeClass("cycle-slide-active");}},jump:function(d){var e;var f=this.opts();if(f.busy&&!f.manualTrump){return;}var c=parseInt(d,10);if(isNaN(c)||c<0||c>=f.slides.length){f.API.log("goto: invalid slide index: "+c);return;}if(c==f.currSlide){f.API.log("goto: skipping, already on slide",c);return;}f.nextSlide=c;clearTimeout(f.timeoutId);f.timeoutId=0;f.API.log("goto: ",c," (zero-index)");e=f.currSlide<f.nextSlide;f.API.prepareTx(true,e);},stop:function(){var d=this.opts();var c=d.container;clearTimeout(d.timeoutId);d.timeoutId=0;d.API.stopTransition();if(d.pauseOnHover){if(d.pauseOnHover!==true){c=b(d.pauseOnHover);}c.off("mouseenter mouseleave");}d.API.trigger("cycle-stopped",[d]).log("cycle-stopped");},pause:function(){var c=this.opts();c.paused=true;c.API.trigger("cycle-paused",[c]).log("cycle-paused");},resume:function(){var c=this.opts();c.paused=false;c.API.trigger("cycle-resumed",[c]).log("cycle-resumed");},reinit:function(){var c=this.opts();c.API.destroy();c.container.cycle();},remove:function(e){var k=this.opts();var c,d,h=[],g=1;for(var f=0;f<k.slides.length;f++){c=k.slides[f];if(f==e){d=c;}else{h.push(c);b(c).data("cycle.opts").slideNum=g;g++;}}if(d){k.slides=b(h);k.slideCount--;b(d).remove();if(e==k.currSlide){k.API.advanceSlide(1);}k.API.trigger("cycle-slide-removed",[k,e,d]).log("cycle-slide-removed");k.API.updateView();}}});b(document).on("click.cycle","[data-cycle-cmd]",function(f){f.preventDefault();var d=b(this);var g=d.data("cycle-cmd");var c=d.data("cycle-context")||".cycle-slideshow";b(c).cycle(g,d.data("cycle-arg"));});})(jQuery);
/*! hash plugin for Cycle2;  version: 20121120 */
(function(b){b(document).on("cycle-pre-initialize",function(d,c){a(c,true);c._onHashChange=function(){a(c,false);};b(window).on("hashchange",c._onHashChange);});b(document).on("cycle-update-view",function(f,d,c){if(c.hash){d._hashFence=true;window.location.hash=c.hash;}});b(document).on("cycle-destroyed",function(d,c){if(c._onHashChange){b(window).off("hashchange",c._onHashChange);}});function a(d,c){var e;if(d._hashFence){d._hashFence=false;return;}e=window.location.hash.substring(1);d.slides.each(function(f){if(b(this).data("cycle-hash")==e){if(c===true){d.startingSlide=f;}else{d.nextSlide=f;d.API.prepareTx(true,false);}return false;}});}})(jQuery);
/*! loader plugin for Cycle2;  version: 20130307 */
(function(a){a.extend(a.fn.cycle.defaults,{loader:false});a(document).on("cycle-bootstrap",function(d,b){var f;if(!b.loader){return;}f=b.API.add;b.API.add=c;function c(m,k){var h=[];if(a.type(m)=="string"){m=a.trim(m);}else{if(a.type(m)==="array"){for(var l=0;l<m.length;l++){m[l]=a(m[l])[0];}}}m=a(m);var g=m.length;if(!g){return;}m.hide().appendTo("body").each(function(r){var t=0;var p=a(this);var o=p.is("img")?p:p.find("img");p.data("index",r);o=o.filter(":not(.cycle-loader-ignore)").filter(':not([src=""])');if(!o.length){--g;h.push(p);return;}t=o.length;o.each(function(){if(this.complete){q();}else{a(this).load(function(){q();}).error(function(){if(--t===0){b.API.log("slide skipped; img not loaded:",this.src);if(--g===0&&b.loader=="wait"){f.apply(b.API,[h,k]);}}});}});function q(){if(--t===0){--g;e(p);}}});if(g){b.container.addClass("cycle-loading");}function e(o){var p;if(b.loader=="wait"){h.push(o);if(g===0){h.sort(n);f.apply(b.API,[h,k]);b.container.removeClass("cycle-loading");}}else{p=a(b.slides[b.currSlide]);f.apply(b.API,[o,k]);p.show();b.container.removeClass("cycle-loading");}}function n(p,o){return p.data("index")-o.data("index");}}});})(jQuery);
/*! pager plugin for Cycle2;  version: 20130203 */
(function(c){c.extend(c.fn.cycle.defaults,{pager:"> .cycle-pager",pagerActiveClass:"cycle-pager-active",pagerEvent:"click.cycle",pagerTemplate:"<span>&bull;</span>"});c(document).on("cycle-bootstrap",function(g,f,d){d.buildPagerLink=a;});c(document).on("cycle-slide-added",function(g,f,d,h){if(f.pager){f.API.buildPagerLink(f,d,h);f.API.page=b;}});c(document).on("cycle-slide-removed",function(k,h,f,g){if(h.pager){var d=h.API.getComponent("pager");d.each(function(){var e=c(this);c(e.children()[f]).remove();});}});c(document).on("cycle-update-view",function(h,g,f){var d;if(g.pager){d=g.API.getComponent("pager");d.each(function(){c(this).children().removeClass(g.pagerActiveClass).eq(g.currSlide).addClass(g.pagerActiveClass);});}});c(document).on("cycle-destroyed",function(g,f){var d;if(f.pager&&f.pagerTemplate){d=f.API.getComponent("pager");d.empty();}});function a(g,f,d){var h;var e=g.API.getComponent("pager");e.each(function(){var k=c(this);if(f.pagerTemplate){var l=g.API.tmpl(f.pagerTemplate,f,g,d[0]);h=c(l).appendTo(k);}else{h=k.children().eq(g.slideCount-1);}h.on(g.pagerEvent,function(m){m.preventDefault();g.API.page(k,m.currentTarget);});});}function b(d,k){var g=this.opts();if(g.busy&&!g.manualTrump){return;}var e=d.children().index(k);var h=e;var f=g.currSlide<h;if(g.currSlide==h){return;}g.nextSlide=h;g.API.prepareTx(true,f);g.API.trigger("cycle-pager-activated",[g,d,k]);}})(jQuery);
/*! prevnext plugin for Cycle2;  version: 20130307 */
(function(a){a.extend(a.fn.cycle.defaults,{next:"> .cycle-next",nextEvent:"click.cycle",disabledClass:"disabled",prev:"> .cycle-prev",prevEvent:"click.cycle",swipe:false});a(document).on("cycle-initialized",function(f,c){c.API.getComponent("next").on(c.nextEvent,function(g){g.preventDefault();c.API.next();});c.API.getComponent("prev").on(c.prevEvent,function(g){g.preventDefault();c.API.prev();});if(c.swipe){var b=c.swipeVert?"swipeUp.cycle":"swipeLeft.cycle swipeleft.cycle";var d=c.swipeVert?"swipeDown.cycle":"swipeRight.cycle swiperight.cycle";c.container.on(b,function(g){c.API.next();});c.container.on(d,function(){c.API.prev();});}});a(document).on("cycle-update-view",function(h,b,g,l){if(b.allowWrap){return;}var m=b.disabledClass;var d=b.API.getComponent("next");var c=b.API.getComponent("prev");var k=b._prevBoundry||0;var f=b._nextBoundry||b.slideCount-1;if(b.currSlide==f){d.addClass(m).prop("disabled",true);}else{d.removeClass(m).prop("disabled",false);}if(b.currSlide===k){c.addClass(m).prop("disabled",true);}else{c.removeClass(m).prop("disabled",false);}});a(document).on("cycle-destroyed",function(c,b){b.API.getComponent("prev").off(b.nextEvent);b.API.getComponent("next").off(b.prevEvent);b.container.off("swipeleft.cycle swiperight.cycle swipeLeft.cycle swipeRight.cycle swipeUp.cycle swipeDown.cycle");});})(jQuery);
/*! progressive loader plugin for Cycle2;  version: 20130315 */
(function(a){a.extend(a.fn.cycle.defaults,{progressive:false});a(document).on("cycle-pre-initialize",function(h,b){if(!b.progressive){return;}var f=b.API;var m=f.next;var k=f.prev;var n=f.prepareTx;var l=a.type(b.progressive);var c,d;if(l=="array"){c=b.progressive;}else{if(a.isFunction(b.progressive)){c=b.progressive(b);}else{if(l=="string"){d=a(b.progressive);c=a.trim(d.html());if(!c){return;}if(/^(\[)/.test(c)){try{c=a.parseJSON(c);}catch(g){f.log("error parsing progressive slides",g);return;}}else{c=c.split(new RegExp(d.data("cycle-split")||"\n"));if(!c[c.length-1]){c.pop();}}}}}if(n){f.prepareTx=function(q,p){var o,e;if(q||c.length===0){n.apply(b.API,[q,p]);return;}if(p&&b.currSlide==(b.slideCount-1)){e=c[0];c=c.slice(1);b.container.one("cycle-slide-added",function(t,r){setTimeout(function(){r.API.advanceSlide(1);},50);});b.API.add(e);}else{if(!p&&b.currSlide===0){o=c.length-1;e=c[o];c=c.slice(0,o);b.container.one("cycle-slide-added",function(t,r){setTimeout(function(){r.currSlide=1;r.API.advanceSlide(-1);},50);});b.API.add(e,true);}else{n.apply(b.API,[q,p]);}}};}if(m){f.next=function(){var o=this.opts();if(c.length&&o.currSlide==(o.slideCount-1)){var e=c[0];c=c.slice(1);o.container.one("cycle-slide-added",function(q,p){m.apply(p.API);p.container.removeClass("cycle-loading");});o.container.addClass("cycle-loading");o.API.add(e);}else{m.apply(o.API);}};}if(k){f.prev=function(){var p=this.opts();if(c.length&&p.currSlide===0){var o=c.length-1;var e=c[o];c=c.slice(0,o);p.container.one("cycle-slide-added",function(r,q){q.currSlide=1;q.API.advanceSlide(-1);q.container.removeClass("cycle-loading");});p.container.addClass("cycle-loading");p.API.add(e,true);}else{k.apply(p.API);}};}});})(jQuery);
/*! tmpl plugin for Cycle2;  version: 20121227 */
(function(a){a.extend(a.fn.cycle.defaults,{tmplRegex:"{{((.)?.*?)}}"});a.extend(a.fn.cycle.API,{tmpl:function(e,d){var c=new RegExp(d.tmplRegex||a.fn.cycle.defaults.tmplRegex,"g");var b=a.makeArray(arguments);b.shift();return e.replace(c,function(g,m){var h,f,l,n,k=m.split(".");for(h=0;h<b.length;h++){l=b[h];if(!l){continue;}if(k.length>1){n=l;for(f=0;f<k.length;f++){l=n;n=n[k[f]]||m;}}else{n=l[m];}if(a.isFunction(n)){return n.apply(l,b);}if(n!==undefined&&n!==null&&n!=m){return n;}}return m;});}});})(jQuery);
/*! scrollVert transition plugin for Cycle2;  version: 20121120 */
(function(a){a.fn.cycle.transitions.scrollVert={before:function(e,f,d,c){e.API.stackSlides(e,f,d,c);var b=e.container.css("overflow","hidden").height();e.cssBefore={top:c?-b:b,left:0,opacity:1,display:"block"};e.animIn={top:0};e.animOut={top:c?b:-b};}};})(jQuery);
/*! tile transition plugin for Cycle2;  version: 20121120 */
(function(a){a.fn.cycle.transitions.tileSlide=a.fn.cycle.transitions.tileBlind={before:function(d,e,c,b){d.API.stackSlides(e,c,b);a(e).show();d.container.css("overflow","hidden");d.tileDelay=d.tileDelay||d.fx=="tileSlide"?100:125;d.tileCount=d.tileCount||7;d.tileVertical=d.tileVertical!==false;if(!d.container.data("cycleTileInitialized")){d.container.on("cycle-destroyed",a.proxy(this.onDestroy,d.API));d.container.data("cycleTileInitialized",true);}},transition:function(m,w,p,v,f){m.slides.not(w).not(p).hide();var y=a();var c=a(w),x=a(p);var z,b,h,k,d,g=m.tileCount,t=m.tileVertical,o=m.container.height(),q=m.container.width();if(t){b=Math.floor(q/g);k=q-(b*(g-1));h=d=o;}else{b=k=q;h=Math.floor(o/g);d=o-(h*(g-1));}m.container.find(".cycle-tiles-container").remove();var u;var n={left:0,top:0,overflow:"hidden",position:"absolute",margin:0,padding:0};if(t){u=m.fx=="tileSlide"?{top:o}:{width:0};}else{u=m.fx=="tileSlide"?{left:q}:{height:0};}var l=a('<div class="cycle-tiles-container"></div>');l.css({zIndex:c.css("z-index"),overflow:"visible",position:"absolute",top:0});l.insertBefore(p);for(var r=0;r<g;r++){z=a("<div></div>").css(n).css({width:((g-1===r)?k:b),height:((g-1===r)?d:h),marginLeft:t?((r*b)):0,marginTop:t?0:(r*h)}).append(c.clone().css({position:"relative",maxWidth:"none",width:c.width(),margin:0,padding:0,marginLeft:t?-(r*b):0,marginTop:t?0:-(r*h)}));y=y.add(z);}l.append(y);c.hide();x.show().css("opacity",1);e(v?0:g-1);m._tileAniCallback=function(){x.show();c.hide();l.remove();f();};function e(A){y.eq(A).animate(u,{duration:m.speed,easing:m.easing,complete:function(){if(v?(g-1===A):(0===A)){m._tileAniCallback();}}});setTimeout(function(){if(v?(g-1!==A):(0!==A)){e(v?(A+1):(A-1));}},m.tileDelay);}},stopTransition:function(b){b.container.find("*").stop(true,true);if(b._tileAniCallback){b._tileAniCallback();}},onDestroy:function(c){var b=this.opts();b.container.find(".cycle-tiles-container").remove();}};})(jQuery);
/*! shuffle transition plugin for Cycle2;  version: 20121120 */
(function(a){a.fn.cycle.transitions.shuffle={transition:function(b,k,e,g,n){a(e).show();var c=b.container.css("overflow","visible").width();var f=b.speed/2;var h=g?k:e;b=b.API.getSlideOpts(g?b.currSlide:b.nextSlide);var m={left:-c,top:15};var l=b.slideCss||{left:0,top:0};if(b.shuffleLeft!==undefined){m.left=m.left+parseInt(b.shuffleLeft,10)||0;}else{if(b.shuffleRight!==undefined){m.left=c+parseInt(b.shuffleRight,10)||0;}}if(b.shuffleTop){m.top=b.shuffleTop;}a(h).animate(m,f,b.easeIn||b.easing).queue("fx",a.proxy(d,this)).animate(l,f,b.easeOut||b.easing,n);function d(o){this.stack(b,k,e,g);o();}},stack:function(f,c,b,e){var d,g;if(e){f.API.stackSlides(b,c,e);a(c).css("zIndex",1);}else{g=1;for(d=f.nextSlide-1;d>=0;d--){a(f.slides[d]).css("zIndex",g++);}for(d=f.slideCount-1;d>f.nextSlide;d--){a(f.slides[d]).css("zIndex",g++);}a(b).css("zIndex",f.maxZ);a(c).css("zIndex",f.maxZ-1);}}};})(jQuery);
/*! caption2 plugin for Cycle2;  version: 20130306 */
(function(a){a.extend(a.fn.cycle.defaults,{captionFxOut:"fadeOut",captionFxIn:"fadeIn",captionFxSel:undefined,overlayFxOut:"fadeOut",overlayFxIn:"fadeIn",overlayFxSel:undefined});a(document).on("cycle-bootstrap",function(f,d){d.container.on("cycle-update-view-before",c);d.container.one("cycle-update-view-after",b);});function c(k,h,g,f,d){if(h.captionPlugin!=="caption2"){return;}a.each(["caption","overlay"],function(){var q=this+"Fx",m=h[q+"Out"]||"hide",l=g[this+"Template"],e=h.API.getComponent(this),o=h[q+"Sel"],n=h.speed,p;if(h.sync){n=n/2;}p=o?e.find(o):e;if(e.length&&l){if(m=="hide"){n=0;}p[m](n,function(){var r=h.API.tmpl(l,g,h,f);e.html(r);p=o?e.find(o):e;if(o){p.hide();}m=h[q+"In"]||"show";p[m](n);});}else{e.hide();}});}function b(k,h,g,f,d){if(h.captionPlugin!=="caption2"){return;}a.each(["caption","overlay"],function(){var l=g[this+"Template"],e=h.API.getComponent(this);if(e.length&&l){e.html(h.API.tmpl(l,g,h,f));}});}})(jQuery);
/*! swipe plugin for Cycle2;  version: 20121120 */
(function(b){var a="ontouchend" in document;b.event.special.swipe=b.event.special.swipe||{scrollSupressionThreshold:10,durationThreshold:1000,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var c=b(this);c.bind("touchstart",function(e){var g=e.originalEvent.touches?e.originalEvent.touches[0]:e;var d,h={time:(new Date()).getTime(),coords:[g.pageX,g.pageY],origin:b(e.target)};function f(k){if(!h){return;}var l=k.originalEvent.touches?k.originalEvent.touches[0]:k;d={time:(new Date()).getTime(),coords:[l.pageX,l.pageY]};if(Math.abs(h.coords[0]-d.coords[0])>b.event.special.swipe.scrollSupressionThreshold){k.preventDefault();}}c.bind("touchmove",f).one("touchend",function(k){c.unbind("touchmove",f);if(h&&d){if(d.time-h.time<b.event.special.swipe.durationThreshold&&Math.abs(h.coords[0]-d.coords[0])>b.event.special.swipe.horizontalDistanceThreshold&&Math.abs(h.coords[1]-d.coords[1])<b.event.special.swipe.verticalDistanceThreshold){h.origin.trigger("swipe").trigger(h.coords[0]>d.coords[0]?"swipeleft":"swiperight");}}h=d=undefined;});});}};b.event.special.swipeleft=b.event.special.swipeleft||{setup:function(){b(this).bind("swipe",b.noop);}};b.event.special.swiperight=b.event.special.swiperight||b.event.special.swipeleft;})(jQuery);
/*! center plugin for Cycle2;  version: 20121121 */
(function(a){a.extend(a.fn.cycle.defaults,{centerHorz:false,centerVert:false});a(document).on("cycle-pre-initialize",function(d,b){if(!b.centerHorz&&!b.centerVert){return;}var g,l;a(window).on("resize",c);b.container.on("cycle-destroyed",k);b.container.on("cycle-slide-added",function(q,p,o,n){h.apply(n);});f();function c(){clearTimeout(g);g=setTimeout(f,50);}function k(o,n){clearTimeout(g);clearTimeout(l);a(window).off("resize",c);}function m(){b.slides.each(h);}function f(){h.apply(b.container.find(b.slideActiveClass));clearTimeout(l);l=setTimeout(m,50);}function h(){var e=a(this);var q=b.container.width();var o=b.container.height();var n=e.width();var p=e.height();if(b.centerHorz&&n<q){e.css("marginLeft",(q-n)/2);}if(b.centerVert&&p<o){e.css("marginTop",(o-p)/2);}}});})(jQuery);(function(b){var a={initialize:function(c){return this.each(function(){var f=b(this).addClass("textfield");var e=f.find("> label");var d=f.find("> input[type=text]");e.css("line-height",d.innerHeight()+"px");d.bind("focus.texfield",a.focus);if(d.val()){e.addClass("hidden");}});},destroy:function(){return this.each(function(){b(this).unbind("focus.textfield",a.focus);});},focus:function(f){var c=b(this);var d=c.parent().find("> label");var e=!!c.val();if(!e){c.bind("keydown.textfield",a.change);c.bind("input.textfield",a.change);c.bind("paste.textfield",a.change);d.addClass("focus");}c.bind("blur.textfield",a.blur);},change:function(e){var c=b(this);var d=c.parent().find("label");c.unbind("keydown.textfield",a.change);c.unbind("input.textfield",a.change);c.unbind("paste.textfield",a.change);d.addClass("hidden");},blur:function(f){var c=b(this);var d=c.parent().find("label");var e=!!c.val();c.unbind("blur.textfield",a.blur);if(!e){d.removeClass("hidden").removeClass("focus");}}};b.fn.textfield=function(c){b("html").addClass("js");if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1));}else{if(typeof c==="object"||!c){return a.initialize.apply(this,arguments);}else{b.error("Method "+c+" does not exist on jQuery.textfield");}}};})(jQuery);function checkEmail(a){a.EmailUpdateString.value=emitSpclChr(a.EmailUpdateString.value);if(a.EmailUpdateString.value.indexOf(" ")>0){a.EmailUpdateString.value="";}}(function(a){a(function(){a("#saks-bt-email-signup-form").submit(function(){checkEmail(this);}).find(".textfield").textfield();});})(jQuery);(function(){if(typeof Date.format!="undefined"){return;}var a=function(){var b=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,c=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,e=/[^-+\dA-Z]/g,d=function(g,f){g=String(g);f=f||2;while(g.length<f){g="0"+g;}return g;};return function(l,z,u){var h=a;if(arguments.length==1&&Object.prototype.toString.call(l)=="[object String]"&&!/\d/.test(l)){z=l;l=undefined;}l=l?new Date(l):new Date;if(isNaN(l)){throw SyntaxError("invalid date");}z=String(h.masks[z]||z||h.masks["default"]);if(z.slice(0,4)=="UTC:"){z=z.slice(4);u=true;}var w=u?"getUTC":"get",q=l[w+"Date"](),f=l[w+"Day"](),n=l[w+"Month"](),t=l[w+"FullYear"](),v=l[w+"Hours"](),p=l[w+"Minutes"](),x=l[w+"Seconds"](),r=l[w+"Milliseconds"](),g=u?0:l.getTimezoneOffset(),k={d:q,dd:d(q),ddd:h.i18n.dayNames[f],dddd:h.i18n.dayNames[f+7],m:n+1,mm:d(n+1),mmm:h.i18n.monthNames[n],mmmm:h.i18n.monthNames[n+12],yy:String(t).slice(2),yyyy:t,h:v%12||12,hh:d(v%12||12),H:v,HH:d(v),M:p,MM:d(p),s:x,ss:d(x),l:d(r,3),L:d(r>99?Math.round(r/10):r),t:v<12?"a":"p",tt:v<12?"am":"pm",T:v<12?"A":"P",TT:v<12?"AM":"PM",Z:u?"UTC":(String(l).match(c)||[""]).pop().replace(e,""),o:(g>0?"-":"+")+d(Math.floor(Math.abs(g)/60)*100+Math.abs(g)%60,4),S:["th","st","nd","rd"][q%10>3?0:(q%100-q%10!=10)*q%10]};return z.replace(b,function(m){return m in k?k[m]:m.slice(1,m.length-1);});};}();a.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};a.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};Date.prototype.format=function(b,c){return a(this,b,c);};})();if(typeof Date.edt=="undefined"){Date.prototype.edt=function(){var c=new Date;var d=c.getFullYear();var a=new Date("March 14, "+d+" 02:00:00");var e=new Date("November 07, "+d+" 02:00:00");var b=a.getDay();a.setDate(14-b);b=e.getDay();e.setDate(7-b);return(c>=a&&c<e)?true:false;};}if(typeof Date.offsetTime=="undefined"){Date.prototype.offsetTime=function(b){b||(b=0);var a=this.getTime()+(this.getTimezoneOffset()*60000);this.setTime(a+(3600000*b));return this;};}(function(c,b,a,d){c("html").addClass("js");c(function(){var e=(function(){var k=c("#marketing");var h=c("#intl_free_ship_div").add(k.find(".international-promotions"));var g=c("#free_ship_div").add(k.find(".domestic-promotions"));var m=false;var l=null;var n={BD:"B",KH:"B",CN:"B",HK:"B",IN:"B",JP:"B",MO:"B",NP:"B",PH:"B",SG:"B",KR:"B",LK:"B",TW:"B",TH:"B",VN:"B",CA:"A",AT:"B",BE:"B",BG:"B",CZ:"B",DK:"B",EE:"B",FI:"B",FR:"B",DE:"B",GR:"B",GD:"B",HU:"B",IE:"B",IT:"B",LV:"B",LI:"B",LT:"B",LU:"B",MT:"B",MC:"B",MA:"B",NL:"B",NO:"B",PL:"B",PT:"B",RO:"B",SK:"B",SI:"B",ES:"B",SE:"B",CH:"B",UA:"B",GB:"E",AU:"G",BN:"B",ID:"B",MV:"B",NZ:"B",ZA:"B",BH:"B",CY:"B",EG:"B",IL:"B",JO:"B",KW:"B",OM:"B",PK:"B",SA:"B",TR:"B",AE:"B",QA:"B",DM:"B",AG:"B",AR:"B",BB:"B",BZ:"B",BO:"B",BR:"B",CL:"B",CO:"B",CR:"B",DO:"B",EC:"B",SV:"B",GT:"B",HT:"B",HN:"B",JM:"B",MX:"B",NI:"B",PA:"B",PY:"B",PE:"B",SR:"B",TT:"B",AI:"B",AW:"B",BM:"B",KY:"B",GF:"B",GI:"B",GP:"B",GG:"B",IS:"B",JE:"B",MQ:"B",MS:"B",RE:"B",RU:"B",KN:"B",LC:"B",TC:"B",UK:"E"};var o={A:"promo-ca",B:"promo-world",C:"promo-japan",D:"promo-hong-aust",E:"promo-uk",F:"promo-ukcan",G:"promo-au"};function p(t){if(!t){return;}var r=function(v){v.preventDefault();var w=c(this).attr("data-element").split("|");b.slideIn(w[0],b.parseInt(w[1]));};var q=function(x){var v;var y=c(this).closest(".FSO-popup");var w=c(this).closest(".marketing-overlay");if(y.length){v=y.attr("id");}else{if(w.length){v=w.attr("id");}}if(v){slideOut(v);}};c(".FSO-close-button",t).click(q);c(".FSO-messaging-link",t).click(r);c(".FSO-messaging-link","#navmenulogo").click(r);var u;if(c("#saks-nav-categories").is(":visible")){u=c(t).innerHeight()+c("#saks-nav-categories").innerHeight()+10;}else{u=c(t).innerHeight()+10;}c(".FSO-popup",t).css({top:u});c(".marketing-promotion:visible",t).each(function(){c(this).siblings(".marketing-overlay").css({top:u}).find(".close-button").click(q);c(this).find("[data-element]").click(r);});}function f(r){if(!r){return;}var v=function(){c(this).cycle("pause");};var u=function(){c(this).cycle("resume");};var t=function(){var w=c(this).closest(".FSO-cycle, .marketing-promotion");w.off("mouseout").siblings(".FSO-popup, .marketing-overlay").find(".FSO-close-button, .close-button").one("click",function(){w.on("mouseout",u);w.cycle("resume");});};var q={paused:false,speed:550,timeout:3000,slides:"> li",easeIn:"swing",easeOut:"swing",autoHeight:"calc",fx:"scrollVert",log:false};c(r).find(".FSO-cycle, .marketing-promotion").each(function(){var w=c(this);if(w.is(":visible")&&w.children().length>1){w.cycle(q).on("mouseover",v).on("mouseout",u).on("click","[data-element]",t);}});}return{showInternational:function(){if(!m){m=true;var q=o[n[countryCode]];c("#"+q).css({display:"block"});h.show();f(h);p(h);}},showNational:function(q){if(!m){m=true;g.show();f(g);p(g);}},internationalEnabled:function(){if(b.countryCode&&b.countryCode!="US"&&b.onOffSwitch){return true;}else{return false;}},overrideInternational:function(){l=g.find('li[data-intoverride="true"]');return(!!l.length);},runOverride:function(){var q=c("<div/>");var u=l.find("[data-element]").attr("data-element").split("|")[0];var t=g.find("#"+u);var r=c("<ul/>",{"class":"marketing-promotion"}).append(l);q.append(r);q.append(t);h.empty().append(q);this.showInternational();g.empty();}};})();if(e.internationalEnabled()){if(e.overrideInternational()){e.runOverride();}else{e.showInternational();}}else{e.showNational();}});})(jQuery,window,document);(function(b,a){b(function(){var d=a.navigator.userAgent.match(/iPad/i)!=null;var g=a.location.href.match(/(ProductArray|EndecaSearch)\.jsp/i)!=null;var l=a.countryCode&&a.countryCode=="US";var k=false;if(!d&&!g&&l&&k){var h=b("#saksBody");if(!h.length){return;}var e=new Image();var c=b('<div class="mhp-side-banner-wrapper"></div>');var f=b('<div class="mhp-side-banner" data-element="FreeShippingDetailsPopUp|500"></div>').appendTo(c).click(function(n){n.preventDefault();var m=b(this).attr("data-element").split("|");slideIn(m[0],parseInt(m[1]));return false;});c.appendTo(h);e.onload=function(){f.css("backgroundImage","url("+this.src+")");a.setTimeout(function(){f.animate({left:0},600);},100);};e.src="/static/images/promo/mhp_side_banner.jpg";}});})(jQuery,window);var intlWelcomeMat=(function(d){var f="E4X_COUNTRY";var g="skswlcme";var a=function(){var l=location.hostname.toUpperCase();if(l!=null&&(l.indexOf("SAKSDIRECT.COM")!=-1||l.indexOf("SAKS.COM")!=-1)){return{domain:"sandbox.fiftyone.com",merchID:1321};}else{return{domain:"embassy.fiftyone.com",merchID:1300};}};var c=a();var e=function(l){var m=document.createElement("script");m.src=l;m.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(m);};var h=function(l){if(document.cookie.length>0){c_start=document.cookie.indexOf(l+"=");if(c_start!=-1){c_start=c_start+l.length+1;c_end=document.cookie.indexOf(";",c_start);if(c_end==-1){c_end=document.cookie.length;}return unescape(document.cookie.substring(c_start,c_end));}}return"";};var k=function(l,o,m){var p=new Date();p.setDate(p.getDate()+m);var n=escape(o)+((m==null)?"":"; expires="+p.toUTCString());document.cookie=l+"="+n;};var b=function(l){if(l){var m=h(f),n;if(m&&(m!=="")&&(m!=="0")){n=(m!=="US");if(n&&!h(g)){k(g,"true",3000);e("https://"+c.domain+"/welcome/welcome.srv?merchId="+c.merchID+"&countryId="+m+"&setCookiet=Y");}}}};return{saksWelcome:b};})(jQuery);
/*!
 * saks.custom.js.initialize.js - global document.ready function
  */
(function(c,b,a,d){c(a).ready(function(){var h=Saks.Util.getUrlQueryParam("site_refer");if(!!h&&(h.indexOf("comx")>-1||h.indexOf("COMX")>-1||h.indexOf("CSR")>-1)){createCookie("cmpgn",h);}var k=saksPager.isOnPage("entry.jsp");var e=saksPager.isOnPages("productdetail.jsp, fashionfix.jsp, checkout.jsp, catalog_quick_order.jsp");if(b.saksQuickLook){saksQuickLook.onLoad();}if(b.saksFindInStore){saksFindInStore.onLoad();}if(e&&b.saksFFWaitList){saksFFWaitList.onLoad();}getNumberofItems();if(queryParamFetcher.getParamValue("sbE")==1){saksBagOpen("SaksBagOverlay",-1);}intlWelcomeMat.saksWelcome(b.onOffSwitch||false);if(!k){(function(){c("#allDhtmlPopups").innerHTML="";c.ajax({url:a.location.protocol+"//"+a.location.hostname+"/include/dhtmlPopUps.jsp",complete:function(l){ajaxResult=l.responseText;c("#allDhtmlPopups").html(ajaxResult);}});})();}else{var g=Math.random()+"";var f=g*10000000000000;a.getElementById("dblclkScrpt").src="http://fls.doubleclick.net/activityi;src=1602125;type=saks5th;cat=homepage;ord=1;num="+f+"?";}c("#toolbar").on("click",".account",function(l){s.events="event13";void (s.t());}).on("click",".live-chat",function(l){l.preventDefault();s.events="event27";void (s.t());}).on("click",".order-tracking",function(l){l.preventDefault();s.events="event14";void (s.t());}).on("click",".shopping-bag",function(l){if(!location.href.match(/(saksBag|checkout)\.jsp/i)){l.preventDefault();b.saksBagOpen("SaksBagOverlay",-1);}}).on("click","[data-form]",function(l){l.preventDefault();var m=c(l.target).closest("[data-form]");Saks.Util.postToUrl(m.attr("href"),{bmForm:m.data("form")});});c("#site-search").children("form").saksSearch();if(!b.Modernizr.csstransitions){c("#header").find(".menu").saksNavigation();if(Saks.config.LOGIN_REMEDIATION){c("#toolbar").find("ul").saksNavigation({menuSelector:".menu-item",overlaySelector:".menu-dropdown",noQuirkMode:false});}}c("#sub-footer").find("[placeholder]").placeholder();c("#sub-footer, #footer, #toolbar").on("click","[data-target]",function(m){m.preventDefault();var o=c(this),n=o.data("target").split("|"),l=o.attr("href");switch(n[0]){case"popup":b.popupWinFixed2(l,n[1],n[2],n[3]);break;case"tab":b.open(l);break;}});});}(jQuery,window,document));if(typeof jwplayer=="undefined"){var jwplayer=function(b){if(jwplayer.api){return jwplayer.api.selectPlayer(b);}};var $jw=jwplayer;jwplayer.version="5.10.2295 (Licensed version)";jwplayer.vid=document.createElement("video");jwplayer.audio=document.createElement("audio");jwplayer.source=document.createElement("source");(function(c){c.utils=function(){};c.utils.typeOf=function(a){var b=typeof a;if(b==="object"){if(a){if(a instanceof Array){b="array";}}else{b="null";}}return b;};c.utils.extend=function(){var f=c.utils.extend["arguments"];if(f.length>1){for(var a=1;a<f.length;a++){for(var b in f[a]){f[0][b]=f[a][b];}}return f[0];}return null;};c.utils.clone=function(a){var h;var g=c.utils.clone["arguments"];if(g.length==1){switch(c.utils.typeOf(g[0])){case"object":h={};for(var b in g[0]){h[b]=c.utils.clone(g[0][b]);}break;case"array":h=[];for(var b in g[0]){h[b]=c.utils.clone(g[0][b]);}break;default:return g[0];break;}}return h;};c.utils.extension=function(a){if(!a){return"";}a=a.substring(a.lastIndexOf("/")+1,a.length);a=a.split("?")[0];if(a.lastIndexOf(".")>-1){return a.substr(a.lastIndexOf(".")+1,a.length).toLowerCase();}return;};c.utils.html=function(b,a){b.innerHTML=a;};c.utils.wrap=function(b,a){if(b.parentNode){b.parentNode.replaceChild(a,b);}a.appendChild(b);};c.utils.ajax=function(a,b,l){var h;if(window.XMLHttpRequest){h=new XMLHttpRequest();}else{h=new ActiveXObject("Microsoft.XMLHTTP");}h.onreadystatechange=function(){if(h.readyState===4){if(h.status===200){if(b){if(!c.utils.exists(h.responseXML)){try{if(window.DOMParser){var f=(new DOMParser()).parseFromString(h.responseText,"text/xml");if(f){h=c.utils.extend({},h,{responseXML:f});}}else{f=new ActiveXObject("Microsoft.XMLDOM");f.async="false";f.loadXML(h.responseText);h=c.utils.extend({},h,{responseXML:f});}}catch(e){if(l){l(a);}}}b(h);}}else{if(l){l(a);}}}};try{h.open("GET",a,true);h.send(null);}catch(k){if(l){l(a);}}return h;};c.utils.load=function(b,a,f){b.onreadystatechange=function(){if(b.readyState===4){if(b.status===200){if(a){a();}}else{if(f){f();}}}};};c.utils.find=function(a,b){return a.getElementsByTagName(b);};c.utils.append=function(b,a){b.appendChild(a);};c.utils.isIE=function(){return((!+"\v1")||(typeof window.ActiveXObject!="undefined"));};c.utils.userAgentMatch=function(a){var b=navigator.userAgent.toLowerCase();return(b.match(a)!==null);};c.utils.isIOS=function(){return c.utils.userAgentMatch(/iP(hone|ad|od)/i);};c.utils.isIPad=function(){return c.utils.userAgentMatch(/iPad/i);};c.utils.isIPod=function(){return c.utils.userAgentMatch(/iP(hone|od)/i);};c.utils.isAndroid=function(){return c.utils.userAgentMatch(/android/i);};c.utils.isLegacyAndroid=function(){return c.utils.userAgentMatch(/android 2.[012]/i);};c.utils.isBlackberry=function(){return c.utils.userAgentMatch(/blackberry/i);};c.utils.isMobile=function(){return c.utils.userAgentMatch(/(iP(hone|ad|od))|android/i);};c.utils.getFirstPlaylistItemFromConfig=function(f){var b={};var a;if(f.playlist&&f.playlist.length){a=f.playlist[0];}else{a=f;}b.file=a.file;b.levels=a.levels;b.streamer=a.streamer;b.playlistfile=a.playlistfile;b.provider=a.provider;if(!b.provider){if(b.file&&(b.file.toLowerCase().indexOf("youtube.com")>-1||b.file.toLowerCase().indexOf("youtu.be")>-1)){b.provider="youtube";}if(b.streamer&&b.streamer.toLowerCase().indexOf("rtmp://")==0){b.provider="rtmp";}if(a.type){b.provider=a.type.toLowerCase();}}if(b.provider=="audio"){b.provider="sound";}return b;};c.utils.getOuterHTML=function(b){if(b.outerHTML){return b.outerHTML;}else{try{return new XMLSerializer().serializeToString(b);}catch(a){return"";}}};c.utils.setOuterHTML=function(b,h){if(b.outerHTML){b.outerHTML=h;}else{var a=document.createElement("div");a.innerHTML=h;var l=document.createRange();l.selectNodeContents(a);var k=l.extractContents();b.parentNode.insertBefore(k,b);b.parentNode.removeChild(b);}};c.utils.hasFlash=function(){if(typeof navigator.plugins!="undefined"&&typeof navigator.plugins["Shockwave Flash"]!="undefined"){return true;}if(typeof window.ActiveXObject!="undefined"){try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash");return true;}catch(a){}}return false;};c.utils.getPluginName=function(a){if(a.lastIndexOf("/")>=0){a=a.substring(a.lastIndexOf("/")+1,a.length);}if(a.lastIndexOf("-")>=0){a=a.substring(0,a.lastIndexOf("-"));}if(a.lastIndexOf(".swf")>=0){a=a.substring(0,a.lastIndexOf(".swf"));}if(a.lastIndexOf(".js")>=0){a=a.substring(0,a.lastIndexOf(".js"));}return a;};c.utils.getPluginVersion=function(a){if(a.lastIndexOf("-")>=0){if(a.lastIndexOf(".js")>=0){return a.substring(a.lastIndexOf("-")+1,a.lastIndexOf(".js"));}else{if(a.lastIndexOf(".swf")>=0){return a.substring(a.lastIndexOf("-")+1,a.lastIndexOf(".swf"));}else{return a.substring(a.lastIndexOf("-")+1);}}}return"";};c.utils.getAbsolutePath=function(b,l){if(!c.utils.exists(l)){l=document.location.href;}if(!c.utils.exists(b)){return undefined;}if(d(b)){return b;}var a=l.substring(0,l.indexOf("://")+3);var m=l.substring(a.length,l.indexOf("/",a.length+1));var p;if(b.indexOf("/")===0){p=b.split("/");}else{var o=l.split("?")[0];o=o.substring(a.length+m.length+1,o.lastIndexOf("/"));p=o.split("/").concat(b.split("/"));}var q=[];for(var n=0;n<p.length;n++){if(!p[n]||!c.utils.exists(p[n])||p[n]=="."){continue;}else{if(p[n]==".."){q.pop();}else{q.push(p[n]);}}}return a+m+"/"+q.join("/");};function d(b){if(!c.utils.exists(b)){return;}var a=b.indexOf("://");var f=b.indexOf("?");return(a>0&&(f<0||(f>a)));}c.utils.pluginPathType={ABSOLUTE:"ABSOLUTE",RELATIVE:"RELATIVE",CDN:"CDN"};c.utils.getPluginPathType=function(g){if(typeof g!="string"){return;}g=g.split("?")[0];var b=g.indexOf("://");if(b>0){return c.utils.pluginPathType.ABSOLUTE;}var h=g.indexOf("/");var a=c.utils.extension(g);if(b<0&&h<0&&(!a||!isNaN(a))){return c.utils.pluginPathType.CDN;}return c.utils.pluginPathType.RELATIVE;};c.utils.mapEmpty=function(b){for(var a in b){return false;}return true;};c.utils.mapLength=function(b){var f=0;for(var a in b){f++;}return f;};c.utils.log=function(a,b){if(typeof console!="undefined"&&typeof console.log!="undefined"){if(b){console.log(a,b);}else{console.log(a);}}};c.utils.css=function(k,a,l){if(c.utils.exists(k)){for(var h in a){try{if(typeof a[h]==="undefined"){continue;}else{if(typeof a[h]=="number"&&!(h=="zIndex"||h=="opacity")){if(isNaN(a[h])){continue;}if(h.match(/color/i)){a[h]="#"+c.utils.strings.pad(a[h].toString(16),6);}else{a[h]=Math.ceil(a[h])+"px";}}}k.style[h]=a[h];}catch(b){}}}};c.utils.isYouTube=function(a){return(a.indexOf("youtube.com")>-1||a.indexOf("youtu.be")>-1);};c.utils.transform=function(l,m,n,b,a){if(!c.utils.exists(m)){m=1;}if(!c.utils.exists(n)){n=1;}if(!c.utils.exists(b)){b=0;}if(!c.utils.exists(a)){a=0;}if(m==1&&n==1&&b==0&&a==0){l.style.webkitTransform="";l.style.MozTransform="";l.style.OTransform="";}else{var k="scale("+m+","+n+") translate("+b+"px,"+a+"px)";l.style.webkitTransform=k;l.style.MozTransform=k;l.style.OTransform=k;}};c.utils.stretch=function(w,a,b,z,t,y){if(typeof b=="undefined"||typeof z=="undefined"||typeof t=="undefined"||typeof y=="undefined"){return;}var C=b/t;var A=z/y;var u=0;var v=0;var B=false;var D={};if(a.parentElement){a.parentElement.style.overflow="hidden";}c.utils.transform(a);switch(w.toUpperCase()){case c.utils.stretching.NONE:D.width=t;D.height=y;D.top=(z-D.height)/2;D.left=(b-D.width)/2;break;case c.utils.stretching.UNIFORM:if(C>A){D.width=t*A;D.height=y*A;if(D.width/b>0.95){B=true;C=Math.ceil(100*b/D.width)/100;A=1;D.width=b;}}else{D.width=t*C;D.height=y*C;if(D.height/z>0.95){B=true;C=1;A=Math.ceil(100*z/D.height)/100;D.height=z;}}D.top=(z-D.height)/2;D.left=(b-D.width)/2;break;case c.utils.stretching.FILL:if(C>A){D.width=t*C;D.height=y*C;}else{D.width=t*A;D.height=y*A;}D.top=(z-D.height)/2;D.left=(b-D.width)/2;break;case c.utils.stretching.EXACTFIT:D.width=t;D.height=y;var r=Math.round((t/2)*(1-1/C));var x=Math.round((y/2)*(1-1/A));B=true;D.top=D.left=0;break;default:break;}if(B){c.utils.transform(a,C,A,r,x);}c.utils.css(a,D);};c.utils.stretching={NONE:"NONE",FILL:"FILL",UNIFORM:"UNIFORM",EXACTFIT:"EXACTFIT"};c.utils.deepReplaceKeyName=function(a,o,q){switch(c.utils.typeOf(a)){case"array":for(var m=0;m<a.length;m++){a[m]=c.utils.deepReplaceKeyName(a[m],o,q);}break;case"object":for(var n in a){var b,l;if(o instanceof Array&&q instanceof Array){if(o.length!=q.length){continue;}else{b=o;l=q;}}else{b=[o];l=[q];}var p=n;for(var m=0;m<b.length;m++){p=p.replace(new RegExp(o[m],"g"),q[m]);}a[p]=c.utils.deepReplaceKeyName(a[n],o,q);if(n!=p){delete a[n];}}break;}return a;};c.utils.isInArray=function(a,b){if(!(a)||!(a instanceof Array)){return false;}for(var f=0;f<a.length;f++){if(b===a[f]){return true;}}return false;};c.utils.exists=function(a){switch(typeof(a)){case"string":return(a.length>0);break;case"object":return(a!==null);case"undefined":return false;}return true;};c.utils.empty=function(a){if(typeof a.hasChildNodes=="function"){while(a.hasChildNodes()){a.removeChild(a.firstChild);}}};c.utils.parseDimension=function(a){if(typeof a=="string"){if(a===""){return 0;}else{if(a.lastIndexOf("%")>-1){return a;}else{return parseInt(a.replace("px",""),10);}}}return a;};c.utils.getDimensions=function(a){if(a&&a.style){return{x:c.utils.parseDimension(a.style.left),y:c.utils.parseDimension(a.style.top),width:c.utils.parseDimension(a.style.width),height:c.utils.parseDimension(a.style.height)};}else{return{};}};c.utils.getElementWidth=function(a){if(!a){return null;}else{if(a==document.body){return c.utils.parentNode(a).clientWidth;}else{if(a.clientWidth>0){return a.clientWidth;}else{if(a.style){return c.utils.parseDimension(a.style.width);}else{return null;}}}}};c.utils.getElementHeight=function(a){if(!a){return null;}else{if(a==document.body){return c.utils.parentNode(a).clientHeight;}else{if(a.clientHeight>0){return a.clientHeight;}else{if(a.style){return c.utils.parseDimension(a.style.height);}else{return null;}}}}};c.utils.timeFormat=function(a){str="00:00";if(a>0){str=Math.floor(a/60)<10?"0"+Math.floor(a/60)+":":Math.floor(a/60)+":";str+=Math.floor(a%60)<10?"0"+Math.floor(a%60):Math.floor(a%60);}return str;};c.utils.useNativeFullscreen=function(){return(navigator&&navigator.vendor&&navigator.vendor.indexOf("Apple")==0);};c.utils.parentNode=function(a){if(!a){return document.body;}else{if(a.parentNode){return a.parentNode;}else{if(a.parentElement){return a.parentElement;}else{return a;}}}};c.utils.getBoundingClientRect=function(a){if(typeof a.getBoundingClientRect=="function"){return a.getBoundingClientRect();}else{return{left:a.offsetLeft+document.body.scrollLeft,top:a.offsetTop+document.body.scrollTop,width:a.offsetWidth,height:a.offsetHeight};}};c.utils.translateEventResponse=function(h,l){var a=c.utils.extend({},l);if(h==c.api.events.JWPLAYER_FULLSCREEN&&!a.fullscreen){a.fullscreen=a.message=="true"?true:false;delete a.message;}else{if(typeof a.data=="object"){a=c.utils.extend(a,a.data);delete a.data;}else{if(typeof a.metadata=="object"){c.utils.deepReplaceKeyName(a.metadata,["__dot__","__spc__","__dsh__"],["."," ","-"]);}}}var k=["position","duration","offset"];for(var b in k){if(a[k[b]]){a[k[b]]=Math.round(a[k[b]]*1000)/1000;}}return a;};c.utils.saveCookie=function(b,a){document.cookie="jwplayer."+b+"="+a+"; path=/";};c.utils.getCookies=function(){var a={};var b=document.cookie.split("; ");for(var g=0;g<b.length;g++){var h=b[g].split("=");if(h[0].indexOf("jwplayer.")==0){a[h[0].substring(9,h[0].length)]=h[1];}}return a;};c.utils.readCookie=function(a){return c.utils.getCookies()[a];};})(jwplayer);(function(b){b.events=function(){};b.events.COMPLETE="COMPLETE";b.events.ERROR="ERROR";})(jwplayer);(function(jwplayer){jwplayer.events.eventdispatcher=function(debug){var _debug=debug;var _listeners;var _globallisteners;this.resetEventListeners=function(){_listeners={};_globallisteners=[];};this.resetEventListeners();this.addEventListener=function(type,listener,count){try{if(!jwplayer.utils.exists(_listeners[type])){_listeners[type]=[];}if(typeof(listener)=="string"){eval("listener = "+listener);}_listeners[type].push({listener:listener,count:count});}catch(err){jwplayer.utils.log("error",err);}return false;};this.removeEventListener=function(type,listener){if(!_listeners[type]){return;}try{for(var listenerIndex=0;listenerIndex<_listeners[type].length;listenerIndex++){if(_listeners[type][listenerIndex].listener.toString()==listener.toString()){_listeners[type].splice(listenerIndex,1);break;}}}catch(err){jwplayer.utils.log("error",err);}return false;};this.addGlobalListener=function(listener,count){try{if(typeof(listener)=="string"){eval("listener = "+listener);}_globallisteners.push({listener:listener,count:count});}catch(err){jwplayer.utils.log("error",err);}return false;};this.removeGlobalListener=function(listener){if(!listener){return;}try{for(var globalListenerIndex=0;globalListenerIndex<_globallisteners.length;globalListenerIndex++){if(_globallisteners[globalListenerIndex].listener.toString()==listener.toString()){_globallisteners.splice(globalListenerIndex,1);break;}}}catch(err){jwplayer.utils.log("error",err);}return false;};this.sendEvent=function(type,data){if(!jwplayer.utils.exists(data)){data={};}if(_debug){jwplayer.utils.log(type,data);}if(typeof _listeners[type]!="undefined"){for(var listenerIndex=0;listenerIndex<_listeners[type].length;listenerIndex++){try{_listeners[type][listenerIndex].listener(data);}catch(err){jwplayer.utils.log("There was an error while handling a listener: "+err.toString(),_listeners[type][listenerIndex].listener);}if(_listeners[type][listenerIndex]){if(_listeners[type][listenerIndex].count===1){delete _listeners[type][listenerIndex];}else{if(_listeners[type][listenerIndex].count>0){_listeners[type][listenerIndex].count=_listeners[type][listenerIndex].count-1;}}}}}for(var globalListenerIndex=0;globalListenerIndex<_globallisteners.length;globalListenerIndex++){try{_globallisteners[globalListenerIndex].listener(data);}catch(err){jwplayer.utils.log("There was an error while handling a listener: "+err.toString(),_globallisteners[globalListenerIndex].listener);}if(_globallisteners[globalListenerIndex]){if(_globallisteners[globalListenerIndex].count===1){delete _globallisteners[globalListenerIndex];}else{if(_globallisteners[globalListenerIndex].count>0){_globallisteners[globalListenerIndex].count=_globallisteners[globalListenerIndex].count-1;}}}}};};})(jwplayer);(function(d){var c={};d.utils.animations=function(){};d.utils.animations.transform=function(b,a){b.style.webkitTransform=a;b.style.MozTransform=a;b.style.OTransform=a;b.style.msTransform=a;};d.utils.animations.transformOrigin=function(b,a){b.style.webkitTransformOrigin=a;b.style.MozTransformOrigin=a;b.style.OTransformOrigin=a;b.style.msTransformOrigin=a;};d.utils.animations.rotate=function(b,a){d.utils.animations.transform(b,["rotate(",a,"deg)"].join(""));};d.utils.cancelAnimation=function(a){delete c[a.id];};d.utils.fadeTo=function(a,r,t,o,p,u){if(c[a.id]!=u&&d.utils.exists(u)){return;}if(a.style.opacity==r){return;}var v=new Date().getTime();if(u>v){setTimeout(function(){d.utils.fadeTo(a,r,t,o,0,u);},u-v);}if(a.style.display=="none"){a.style.display="block";}if(!d.utils.exists(o)){o=a.style.opacity===""?1:a.style.opacity;}if(a.style.opacity==r&&a.style.opacity!==""&&d.utils.exists(u)){if(r===0){a.style.display="none";}return;}if(!d.utils.exists(u)){u=v;c[a.id]=u;}if(!d.utils.exists(p)){p=0;}var n=(t>0)?((v-u)/(t*1000)):0;n=n>1?1:n;var b=r-o;var q=o+(n*b);if(q>1){q=1;}else{if(q<0){q=0;}}a.style.opacity=q;if(p>0){c[a.id]=u+p*1000;d.utils.fadeTo(a,r,t,o,0,c[a.id]);return;}setTimeout(function(){d.utils.fadeTo(a,r,t,o,0,u);},10);};})(jwplayer);(function(b){b.utils.arrays=function(){};b.utils.arrays.indexOf=function(f,e){for(var a=0;a<f.length;a++){if(f[a]==e){return a;}}return -1;};b.utils.arrays.remove=function(f,e){var a=b.utils.arrays.indexOf(f,e);if(a>-1){f.splice(a,1);}};})(jwplayer);(function(b){b.utils.extensionmap={"3gp":{html5:"video/3gpp",flash:"video"},"3gpp":{html5:"video/3gpp"},"3g2":{html5:"video/3gpp2",flash:"video"},"3gpp2":{html5:"video/3gpp2"},flv:{flash:"video"},f4a:{html5:"audio/mp4"},f4b:{html5:"audio/mp4",flash:"video"},f4v:{html5:"video/mp4",flash:"video"},mov:{html5:"video/quicktime",flash:"video"},m4a:{html5:"audio/mp4",flash:"video"},m4b:{html5:"audio/mp4"},m4p:{html5:"audio/mp4"},m4v:{html5:"video/mp4",flash:"video"},mp4:{html5:"video/mp4",flash:"video"},rbs:{flash:"sound"},aac:{html5:"audio/aac",flash:"video"},mp3:{html5:"audio/mp3",flash:"sound"},ogg:{html5:"audio/ogg"},oga:{html5:"audio/ogg"},ogv:{html5:"video/ogg"},webm:{html5:"video/webm"},m3u8:{html5:"audio/x-mpegurl"},gif:{flash:"image"},jpeg:{flash:"image"},jpg:{flash:"image"},swf:{flash:"image"},png:{flash:"image"},wav:{html5:"audio/x-wav"}};})(jwplayer);(function(p){p.utils.mediaparser=function(){};var n={element:{width:"width",height:"height",id:"id","class":"className",name:"name"},media:{src:"file",preload:"preload",autoplay:"autostart",loop:"repeat",controls:"controls"},source:{src:"file",type:"type",media:"media","data-jw-width":"width","data-jw-bitrate":"bitrate"},video:{poster:"image"}};var o={};p.utils.mediaparser.parseMedia=function(a){return q(a);};function r(a,b){if(!p.utils.exists(b)){b=n[a];}else{p.utils.extend(b,n[a]);}return b;}function q(f,d){if(o[f.tagName.toLowerCase()]&&!p.utils.exists(d)){return o[f.tagName.toLowerCase()](f);}else{d=r("element",d);var e={};for(var c in d){if(c!="length"){var a=f.getAttribute(c);if(p.utils.exists(a)){e[d[c]]=a;}}}var b=f.style["#background-color"];if(b&&!(b=="transparent"||b=="rgba(0, 0, 0, 0)")){e.screencolor=b;}return e;}}function m(f,c){c=r("media",c);var b=[];var d=p.utils.selectors("source",f);for(var a in d){if(!isNaN(a)){b.push(l(d[a]));}}var e=q(f,c);if(p.utils.exists(e.file)){b[0]={file:e.file};}e.levels=b;return e;}function l(a,b){b=r("source",b);var c=q(a,b);c.width=c.width?c.width:0;c.bitrate=c.bitrate?c.bitrate:0;return c;}function k(a,b){b=r("video",b);var c=m(a,b);return c;}o.media=m;o.audio=m;o.source=l;o.video=k;})(jwplayer);(function(b){b.utils.loaderstatus={NEW:"NEW",LOADING:"LOADING",ERROR:"ERROR",COMPLETE:"COMPLETE"};b.utils.scriptloader=function(f){var e=b.utils.loaderstatus.NEW;var a=new b.events.eventdispatcher();b.utils.extend(this,a);this.load=function(){if(e==b.utils.loaderstatus.NEW){e=b.utils.loaderstatus.LOADING;var c=document.createElement("script");c.onload=function(d){e=b.utils.loaderstatus.COMPLETE;a.sendEvent(b.events.COMPLETE);};c.onerror=function(d){e=b.utils.loaderstatus.ERROR;a.sendEvent(b.events.ERROR);};c.onreadystatechange=function(){if(c.readyState=="loaded"||c.readyState=="complete"){e=b.utils.loaderstatus.COMPLETE;a.sendEvent(b.events.COMPLETE);}};document.getElementsByTagName("head")[0].appendChild(c);c.src=f;}};this.getStatus=function(){return e;};};})(jwplayer);(function(b){b.utils.selectors=function(a,f){if(!b.utils.exists(f)){f=document;}a=b.utils.strings.trim(a);var h=a.charAt(0);if(h=="#"){return f.getElementById(a.substr(1));}else{if(h=="."){if(f.getElementsByClassName){return f.getElementsByClassName(a.substr(1));}else{return b.utils.selectors.getElementsByTagAndClass("*",a.substr(1));}}else{if(a.indexOf(".")>0){var g=a.split(".");return b.utils.selectors.getElementsByTagAndClass(g[0],g[1]);}else{return f.getElementsByTagName(a);}}}return null;};b.utils.selectors.getElementsByTagAndClass=function(o,l,m){var k=[];if(!b.utils.exists(m)){m=document;}var n=m.getElementsByTagName(o);for(var p=0;p<n.length;p++){if(b.utils.exists(n[p].className)){var q=n[p].className.split(" ");for(var a=0;a<q.length;a++){if(q[a]==l){k.push(n[p]);}}}}return k;};})(jwplayer);(function(b){b.utils.strings=function(){};b.utils.strings.trim=function(a){return a.replace(/^\s*/,"").replace(/\s*$/,"");};b.utils.strings.pad=function(f,e,a){if(!a){a="0";}while(f.length<e){f=a+f;}return f;};b.utils.strings.serialize=function(a){if(a==null){return null;}else{if(a=="true"){return true;}else{if(a=="false"){return false;}else{if(isNaN(Number(a))||a.length>5||a.length==0){return a;}else{return Number(a);}}}}};b.utils.strings.seconds=function(e){e=e.replace(",",".");var a=e.split(":");var f=0;if(e.substr(-1)=="s"){f=Number(e.substr(0,e.length-1));}else{if(e.substr(-1)=="m"){f=Number(e.substr(0,e.length-1))*60;}else{if(e.substr(-1)=="h"){f=Number(e.substr(0,e.length-1))*3600;}else{if(a.length>1){f=Number(a[a.length-1]);f+=Number(a[a.length-2])*60;if(a.length==3){f+=Number(a[a.length-3])*3600;}}else{f=Number(e);}}}}return f;};b.utils.strings.xmlAttribute=function(a,f){for(var e=0;e<a.attributes.length;e++){if(a.attributes[e].name&&a.attributes[e].name.toLowerCase()==f.toLowerCase()){return a.attributes[e].value.toString();}}return"";};b.utils.strings.jsonToString=function(m){var k=k||{};if(k&&k.stringify){return k.stringify(m);}var p=typeof(m);if(p!="object"||m===null){if(p=="string"){m='"'+m.replace(/"/g,'\\"')+'"';}else{return String(m);}}else{var l=[],a=(m&&m.constructor==Array);for(var o in m){var n=m[o];switch(typeof(n)){case"string":n='"'+n.replace(/"/g,'\\"')+'"';break;case"object":if(b.utils.exists(n)){n=b.utils.strings.jsonToString(n);}break;}if(a){if(typeof(n)!="function"){l.push(String(n));}}else{if(typeof(n)!="function"){l.push('"'+o+'":'+String(n));}}}if(a){return"["+String(l)+"]";}else{return"{"+String(l)+"}";}}};})(jwplayer);(function(l){var k=new RegExp(/^(#|0x)[0-9a-fA-F]{3,6}/);l.utils.typechecker=function(a,b){b=!l.utils.exists(b)?f(a):b;return h(a,b);};function f(b){var a=["true","false","t","f"];if(a.toString().indexOf(b.toLowerCase().replace(" ",""))>=0){return"boolean";}else{if(k.test(b)){return"color";}else{if(!isNaN(parseInt(b,10))&&parseInt(b,10).toString().length==b.length){return"integer";}else{if(!isNaN(parseFloat(b))&&parseFloat(b).toString().length==b.length){return"float";}}}}return"string";}function h(a,b){if(!l.utils.exists(b)){return a;}switch(b){case"color":if(a.length>0){return g(a);}return null;case"integer":return parseInt(a,10);case"float":return parseFloat(a);case"boolean":if(a.toLowerCase()=="true"){return true;}else{if(a=="1"){return true;}}return false;}return a;}function g(a){switch(a.toLowerCase()){case"blue":return parseInt("0000FF",16);case"green":return parseInt("00FF00",16);case"red":return parseInt("FF0000",16);case"cyan":return parseInt("00FFFF",16);case"magenta":return parseInt("FF00FF",16);case"yellow":return parseInt("FFFF00",16);case"black":return parseInt("FFFFFF",16);case"white":return parseInt("FFFFFF",16);default:a=a.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2");if(a.length==3){a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2);}return parseInt(a,16);}return parseInt("FFFFFF",16);}})(jwplayer);(function(b){b.utils.parsers=function(){};b.utils.parsers.localName=function(a){if(!a){return"";}else{if(a.localName){return a.localName;}else{if(a.baseName){return a.baseName;}else{return"";}}}};b.utils.parsers.textContent=function(a){if(!a){return"";}else{if(a.textContent){return a.textContent;}else{if(a.text){return a.text;}else{return"";}}}};})(jwplayer);(function(b){b.utils.parsers.jwparser=function(){};b.utils.parsers.jwparser.PREFIX="jwplayer";b.utils.parsers.jwparser.parseEntry=function(f,e){for(var a=0;a<f.childNodes.length;a++){if(f.childNodes[a].prefix==b.utils.parsers.jwparser.PREFIX){e[b.utils.parsers.localName(f.childNodes[a])]=b.utils.strings.serialize(b.utils.parsers.textContent(f.childNodes[a]));if(b.utils.parsers.localName(f.childNodes[a])=="file"&&e.levels){delete e.levels;}}if(!e.file&&String(e.link).toLowerCase().indexOf("youtube")>-1){e.file=e.link;}}return e;};b.utils.parsers.jwparser.getProvider=function(d){if(d.type){return d.type;}else{if(d.file.indexOf("youtube.com/w")>-1||d.file.indexOf("youtube.com/v")>-1||d.file.indexOf("youtu.be/")>-1){return"youtube";}else{if(d.streamer&&d.streamer.indexOf("rtmp")==0){return"rtmp";}else{if(d.streamer&&d.streamer.indexOf("http")==0){return"http";}else{var a=b.utils.strings.extension(d.file);if(extensions.hasOwnProperty(a)){return extensions[a];}}}}}return"";};})(jwplayer);(function(b){b.utils.parsers.mediaparser=function(){};b.utils.parsers.mediaparser.PREFIX="media";b.utils.parsers.mediaparser.parseGroup=function(k,g){var h=false;for(var l=0;l<k.childNodes.length;l++){if(k.childNodes[l].prefix==b.utils.parsers.mediaparser.PREFIX){if(!b.utils.parsers.localName(k.childNodes[l])){continue;}switch(b.utils.parsers.localName(k.childNodes[l]).toLowerCase()){case"content":if(!h){g.file=b.utils.strings.xmlAttribute(k.childNodes[l],"url");}if(b.utils.strings.xmlAttribute(k.childNodes[l],"duration")){g.duration=b.utils.strings.seconds(b.utils.strings.xmlAttribute(k.childNodes[l],"duration"));}if(b.utils.strings.xmlAttribute(k.childNodes[l],"start")){g.start=b.utils.strings.seconds(b.utils.strings.xmlAttribute(k.childNodes[l],"start"));}if(k.childNodes[l].childNodes&&k.childNodes[l].childNodes.length>0){g=b.utils.parsers.mediaparser.parseGroup(k.childNodes[l],g);}if(b.utils.strings.xmlAttribute(k.childNodes[l],"width")||b.utils.strings.xmlAttribute(k.childNodes[l],"bitrate")||b.utils.strings.xmlAttribute(k.childNodes[l],"url")){if(!g.levels){g.levels=[];}g.levels.push({width:b.utils.strings.xmlAttribute(k.childNodes[l],"width"),bitrate:b.utils.strings.xmlAttribute(k.childNodes[l],"bitrate"),file:b.utils.strings.xmlAttribute(k.childNodes[l],"url")});}break;case"title":g.title=b.utils.parsers.textContent(k.childNodes[l]);break;case"description":g.description=b.utils.parsers.textContent(k.childNodes[l]);break;case"keywords":g.tags=b.utils.parsers.textContent(k.childNodes[l]);break;case"thumbnail":g.image=b.utils.strings.xmlAttribute(k.childNodes[l],"url");break;case"credit":g.author=b.utils.parsers.textContent(k.childNodes[l]);break;case"player":var a=k.childNodes[l].url;if(a.indexOf("youtube.com")>=0||a.indexOf("youtu.be")>=0){h=true;g.file=b.utils.strings.xmlAttribute(k.childNodes[l],"url");}break;case"group":b.utils.parsers.mediaparser.parseGroup(k.childNodes[l],g);break;}}}return g;};})(jwplayer);(function(c){c.utils.parsers.rssparser=function(){};c.utils.parsers.rssparser.parse=function(a){var h=[];for(var b=0;b<a.childNodes.length;b++){if(c.utils.parsers.localName(a.childNodes[b]).toLowerCase()=="channel"){for(var g=0;g<a.childNodes[b].childNodes.length;g++){if(c.utils.parsers.localName(a.childNodes[b].childNodes[g]).toLowerCase()=="item"){h.push(d(a.childNodes[b].childNodes[g]));}}}}return h;};function d(b){var a={};for(var f=0;f<b.childNodes.length;f++){if(!c.utils.parsers.localName(b.childNodes[f])){continue;}switch(c.utils.parsers.localName(b.childNodes[f]).toLowerCase()){case"enclosure":a.file=c.utils.strings.xmlAttribute(b.childNodes[f],"url");break;case"title":a.title=c.utils.parsers.textContent(b.childNodes[f]);break;case"pubdate":a.date=c.utils.parsers.textContent(b.childNodes[f]);break;case"description":a.description=c.utils.parsers.textContent(b.childNodes[f]);break;case"link":a.link=c.utils.parsers.textContent(b.childNodes[f]);break;case"category":if(a.tags){a.tags+=c.utils.parsers.textContent(b.childNodes[f]);}else{a.tags=c.utils.parsers.textContent(b.childNodes[f]);}break;}}a=c.utils.parsers.mediaparser.parseGroup(b,a);a=c.utils.parsers.jwparser.parseEntry(b,a);return new c.html5.playlistitem(a);}})(jwplayer);(function(e){var f={};var d={};e.plugins=function(){};e.plugins.loadPlugins=function(a,b){d[a]=new e.plugins.pluginloader(new e.plugins.model(f),b);return d[a];};e.plugins.registerPlugin=function(a,c,k){var l=e.utils.getPluginName(a);if(f[l]){f[l].registerPlugin(a,c,k);}else{e.utils.log("A plugin ("+a+") was registered with the player that was not loaded. Please check your configuration.");for(var b in d){d[b].pluginFailed();}}};})(jwplayer);(function(b){b.plugins.model=function(a){this.addPlugin=function(f){var e=b.utils.getPluginName(f);if(!a[e]){a[e]=new b.plugins.plugin(f);}return a[e];};};})(jwplayer);(function(b){b.plugins.pluginmodes={FLASH:"FLASH",JAVASCRIPT:"JAVASCRIPT",HYBRID:"HYBRID"};b.plugins.plugin=function(v){var t="http://lp.longtailvideo.com";var n=b.utils.loaderstatus.NEW;var m;var o;var a;var u=new b.events.eventdispatcher();b.utils.extend(this,u);function r(){switch(b.utils.getPluginPathType(v)){case b.utils.pluginPathType.ABSOLUTE:return v;case b.utils.pluginPathType.RELATIVE:return b.utils.getAbsolutePath(v,window.location.href);case b.utils.pluginPathType.CDN:var d=b.utils.getPluginName(v);var e=b.utils.getPluginVersion(v);var c=(window.location.href.indexOf("https://")==0)?t.replace("http://","https://secure"):t;return c+"/"+b.version.split(".")[0]+"/"+d+"/"+d+(e!==""?("-"+e):"")+".js";}}function p(c){a=setTimeout(function(){n=b.utils.loaderstatus.COMPLETE;u.sendEvent(b.events.COMPLETE);},1000);}function q(c){n=b.utils.loaderstatus.ERROR;u.sendEvent(b.events.ERROR);}this.load=function(){if(n==b.utils.loaderstatus.NEW){if(v.lastIndexOf(".swf")>0){m=v;n=b.utils.loaderstatus.COMPLETE;u.sendEvent(b.events.COMPLETE);return;}n=b.utils.loaderstatus.LOADING;var c=new b.utils.scriptloader(r());c.addEventListener(b.events.COMPLETE,p);c.addEventListener(b.events.ERROR,q);c.load();}};this.registerPlugin=function(d,e,c){if(a){clearTimeout(a);a=undefined;}if(e&&c){m=c;o=e;}else{if(typeof e=="string"){m=e;}else{if(typeof e=="function"){o=e;}else{if(!e&&!c){m=d;}}}}n=b.utils.loaderstatus.COMPLETE;u.sendEvent(b.events.COMPLETE);};this.getStatus=function(){return n;};this.getPluginName=function(){return b.utils.getPluginName(v);};this.getFlashPath=function(){if(m){switch(b.utils.getPluginPathType(m)){case b.utils.pluginPathType.ABSOLUTE:return m;case b.utils.pluginPathType.RELATIVE:if(v.lastIndexOf(".swf")>0){return b.utils.getAbsolutePath(m,window.location.href);}return b.utils.getAbsolutePath(m,r());case b.utils.pluginPathType.CDN:if(m.indexOf("-")>-1){return m+"h";}return m+"-h";}}return null;};this.getJS=function(){return o;};this.getPluginmode=function(){if(typeof m!="undefined"&&typeof o!="undefined"){return b.plugins.pluginmodes.HYBRID;}else{if(typeof m!="undefined"){return b.plugins.pluginmodes.FLASH;}else{if(typeof o!="undefined"){return b.plugins.pluginmodes.JAVASCRIPT;}}}};this.getNewInstance=function(e,c,d){return new o(e,c,d);};this.getURL=function(){return v;};};})(jwplayer);(function(b){b.plugins.pluginloader=function(m,p){var n={};var a=b.utils.loaderstatus.NEW;var q=false;var t=false;var r=new b.events.eventdispatcher();b.utils.extend(this,r);function o(){if(!t){t=true;a=b.utils.loaderstatus.COMPLETE;r.sendEvent(b.events.COMPLETE);}}function l(){if(!t){var c=0;for(plugin in n){var d=n[plugin].getStatus();if(d==b.utils.loaderstatus.LOADING||d==b.utils.loaderstatus.NEW){c++;}}if(c==0){o();}}}this.setupPlugins=function(u,d,e){var c={length:0,plugins:{}};var h={length:0,plugins:{}};for(var k in n){var g=n[k].getPluginName();if(n[k].getFlashPath()){c.plugins[n[k].getFlashPath()]=d.plugins[k];c.plugins[n[k].getFlashPath()].pluginmode=n[k].getPluginmode();c.length++;}if(n[k].getJS()){var f=document.createElement("div");f.id=u.id+"_"+g;f.style.position="absolute";f.style.zIndex=h.length+10;h.plugins[g]=n[k].getNewInstance(u,d.plugins[k],f);h.length++;if(typeof h.plugins[g].resize!="undefined"){u.onReady(e(h.plugins[g],f,true));u.onResize(e(h.plugins[g],f));}}}u.plugins=h.plugins;return c;};this.load=function(){a=b.utils.loaderstatus.LOADING;q=true;for(var c in p){if(b.utils.exists(c)){n[c]=m.addPlugin(c);n[c].addEventListener(b.events.COMPLETE,l);n[c].addEventListener(b.events.ERROR,l);}}for(c in n){n[c].load();}q=false;l();};this.pluginFailed=function(){o();};this.getStatus=function(){return a;};};})(jwplayer);(function(c){var d=[];c.api=function(F){this.container=F;this.id=F.id;var x={};var H={};var u={};var G=[];var C=undefined;var z=false;var B=[];var a=undefined;var v=c.utils.getOuterHTML(F);var I={};var A={};this.getBuffer=function(){return this.callInternal("jwGetBuffer");};this.getContainer=function(){return this.container;};function E(e,f){return function(h,k,g,m){if(e.renderingMode=="flash"||e.renderingMode=="html5"){var l;if(k){A[h]=k;l="jwplayer('"+e.id+"').callback('"+h+"')";}else{if(!k&&A[h]){delete A[h];}}C.jwDockSetButton(h,l,g,m);}return f;};}this.getPlugin=function(g){var e=this;var f={};if(g=="dock"){return c.utils.extend(f,{setButton:E(e,f),show:function(){e.callInternal("jwDockShow");return f;},hide:function(){e.callInternal("jwDockHide");return f;},onShow:function(h){e.componentListener("dock",c.api.events.JWPLAYER_COMPONENT_SHOW,h);return f;},onHide:function(h){e.componentListener("dock",c.api.events.JWPLAYER_COMPONENT_HIDE,h);return f;}});}else{if(g=="controlbar"){return c.utils.extend(f,{show:function(){e.callInternal("jwControlbarShow");return f;},hide:function(){e.callInternal("jwControlbarHide");return f;},onShow:function(h){e.componentListener("controlbar",c.api.events.JWPLAYER_COMPONENT_SHOW,h);return f;},onHide:function(h){e.componentListener("controlbar",c.api.events.JWPLAYER_COMPONENT_HIDE,h);return f;}});}else{if(g=="display"){return c.utils.extend(f,{show:function(){e.callInternal("jwDisplayShow");return f;},hide:function(){e.callInternal("jwDisplayHide");return f;},onShow:function(h){e.componentListener("display",c.api.events.JWPLAYER_COMPONENT_SHOW,h);return f;},onHide:function(h){e.componentListener("display",c.api.events.JWPLAYER_COMPONENT_HIDE,h);return f;}});}else{return this.plugins[g];}}}};this.callback=function(e){if(A[e]){return A[e]();}};this.getDuration=function(){return this.callInternal("jwGetDuration");};this.getFullscreen=function(){return this.callInternal("jwGetFullscreen");};this.getHeight=function(){return this.callInternal("jwGetHeight");};this.getLockState=function(){return this.callInternal("jwGetLockState");};this.getMeta=function(){return this.getItemMeta();};this.getMute=function(){return this.callInternal("jwGetMute");};this.getPlaylist=function(){var e=this.callInternal("jwGetPlaylist");if(this.renderingMode=="flash"){c.utils.deepReplaceKeyName(e,["__dot__","__spc__","__dsh__"],["."," ","-"]);}for(var f=0;f<e.length;f++){if(!c.utils.exists(e[f].index)){e[f].index=f;}}return e;};this.getPlaylistItem=function(e){if(!c.utils.exists(e)){e=this.getCurrentItem();}return this.getPlaylist()[e];};this.getPosition=function(){return this.callInternal("jwGetPosition");};this.getRenderingMode=function(){return this.renderingMode;};this.getState=function(){return this.callInternal("jwGetState");};this.getVolume=function(){return this.callInternal("jwGetVolume");};this.getWidth=function(){return this.callInternal("jwGetWidth");};this.setFullscreen=function(e){if(!c.utils.exists(e)){this.callInternal("jwSetFullscreen",!this.callInternal("jwGetFullscreen"));}else{this.callInternal("jwSetFullscreen",e);}return this;};this.setMute=function(e){if(!c.utils.exists(e)){this.callInternal("jwSetMute",!this.callInternal("jwGetMute"));}else{this.callInternal("jwSetMute",e);}return this;};this.lock=function(){return this;};this.unlock=function(){return this;};this.load=function(e){this.callInternal("jwLoad",e);return this;};this.playlistItem=function(e){this.callInternal("jwPlaylistItem",e);return this;};this.playlistPrev=function(){this.callInternal("jwPlaylistPrev");return this;};this.playlistNext=function(){this.callInternal("jwPlaylistNext");return this;};this.resize=function(f,g){if(this.renderingMode=="html5"){C.jwResize(f,g);}else{this.container.width=f;this.container.height=g;var e=document.getElementById(this.id+"_wrapper");if(e){e.style.width=f+"px";e.style.height=g+"px";}}return this;};this.play=function(e){if(typeof e=="undefined"){e=this.getState();if(e==c.api.events.state.PLAYING||e==c.api.events.state.BUFFERING){this.callInternal("jwPause");}else{this.callInternal("jwPlay");}}else{this.callInternal("jwPlay",e);}return this;};this.pause=function(e){if(typeof e=="undefined"){e=this.getState();if(e==c.api.events.state.PLAYING||e==c.api.events.state.BUFFERING){this.callInternal("jwPause");}else{this.callInternal("jwPlay");}}else{this.callInternal("jwPause",e);}return this;};this.stop=function(){this.callInternal("jwStop");return this;};this.seek=function(e){this.callInternal("jwSeek",e);return this;};this.setVolume=function(e){this.callInternal("jwSetVolume",e);return this;};this.loadInstream=function(e,f){a=new c.api.instream(this,C,e,f);return a;};this.onBufferChange=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_BUFFER,e);};this.onBufferFull=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_BUFFER_FULL,e);};this.onError=function(e){return this.eventListener(c.api.events.JWPLAYER_ERROR,e);};this.onFullscreen=function(e){return this.eventListener(c.api.events.JWPLAYER_FULLSCREEN,e);};this.onMeta=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_META,e);};this.onMute=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_MUTE,e);};this.onPlaylist=function(e){return this.eventListener(c.api.events.JWPLAYER_PLAYLIST_LOADED,e);};this.onPlaylistItem=function(e){return this.eventListener(c.api.events.JWPLAYER_PLAYLIST_ITEM,e);};this.onReady=function(e){return this.eventListener(c.api.events.API_READY,e);};this.onResize=function(e){return this.eventListener(c.api.events.JWPLAYER_RESIZE,e);};this.onComplete=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_COMPLETE,e);};this.onSeek=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_SEEK,e);};this.onTime=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_TIME,e);};this.onVolume=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_VOLUME,e);};this.onBeforePlay=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_BEFOREPLAY,e);};this.onBeforeComplete=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_BEFORECOMPLETE,e);};this.onBuffer=function(e){return this.stateListener(c.api.events.state.BUFFERING,e);};this.onPause=function(e){return this.stateListener(c.api.events.state.PAUSED,e);};this.onPlay=function(e){return this.stateListener(c.api.events.state.PLAYING,e);};this.onIdle=function(e){return this.stateListener(c.api.events.state.IDLE,e);};this.remove=function(){if(!z){throw"Cannot call remove() before player is ready";return;}b(this);};function b(e){B=[];if(c.utils.getOuterHTML(e.container)!=v){c.api.destroyPlayer(e.id,v);}}this.setup=function(f){if(c.embed){var g=this.id;b(this);var e=c(g);e.config=f;return new c.embed(e);}return this;};this.registerPlugin=function(e,f,g){c.plugins.registerPlugin(e,f,g);};this.setPlayer=function(f,e){C=f;this.renderingMode=e;};this.stateListener=function(f,e){if(!H[f]){H[f]=[];this.eventListener(c.api.events.JWPLAYER_PLAYER_STATE,D(f));}H[f].push(e);return this;};this.detachMedia=function(){if(this.renderingMode=="html5"){return this.callInternal("jwDetachMedia");}};this.attachMedia=function(){if(this.renderingMode=="html5"){return this.callInternal("jwAttachMedia");}};function D(e){return function(g){var h=g.newstate,l=g.oldstate;if(h==e){var f=H[h];if(f){for(var k=0;k<f.length;k++){if(typeof f[k]=="function"){f[k].call(this,{oldstate:l,newstate:h});}}}}};}this.componentListener=function(g,f,e){if(!u[g]){u[g]={};}if(!u[g][f]){u[g][f]=[];this.eventListener(f,y(g,f));}u[g][f].push(e);return this;};function y(f,e){return function(g){if(f==g.component){var h=u[f][e];if(h){for(var k=0;k<h.length;k++){if(typeof h[k]=="function"){h[k].call(this,g);}}}}};}this.addInternalListener=function(g,f){try{g.jwAddEventListener(f,'function(dat) { jwplayer("'+this.id+'").dispatchEvent("'+f+'", dat); }');}catch(e){c.utils.log("Could not add internal listener");}};this.eventListener=function(f,e){if(!x[f]){x[f]=[];if(C&&z){this.addInternalListener(C,f);}}x[f].push(e);return this;};this.dispatchEvent=function(e){if(x[e]){var f=_utils.translateEventResponse(e,arguments[1]);for(var g=0;g<x[e].length;g++){if(typeof x[e][g]=="function"){x[e][g].call(this,f);}}}};this.dispatchInstreamEvent=function(e){if(a){a.dispatchEvent(e,arguments);}};this.callInternal=function(){if(z){var e=arguments[0],g=[];for(var f=1;f<arguments.length;f++){g.push(arguments[f]);}if(typeof C!="undefined"&&typeof C[e]=="function"){if(g.length==2){return(C[e])(g[0],g[1]);}else{if(g.length==1){return(C[e])(g[0]);}else{return(C[e])();}}}return null;}else{B.push(arguments);}};this.playerReady=function(e){z=true;if(!C){this.setPlayer(document.getElementById(e.id));}this.container=document.getElementById(this.id);for(var f in x){this.addInternalListener(C,f);}this.eventListener(c.api.events.JWPLAYER_PLAYLIST_ITEM,function(g){I={};});this.eventListener(c.api.events.JWPLAYER_MEDIA_META,function(g){c.utils.extend(I,g.metadata);});this.dispatchEvent(c.api.events.API_READY);while(B.length>0){this.callInternal.apply(this,B.shift());}};this.getItemMeta=function(){return I;};this.getCurrentItem=function(){return this.callInternal("jwGetPlaylistIndex");};function w(f,k,e){var h=[];if(!k){k=0;}if(!e){e=f.length-1;}for(var g=k;g<=e;g++){h.push(f[g]);}return h;}return this;};c.api.selectPlayer=function(b){var f;if(!c.utils.exists(b)){b=0;}if(b.nodeType){f=b;}else{if(typeof b=="string"){f=document.getElementById(b);}}if(f){var a=c.api.playerById(f.id);if(a){return a;}else{return c.api.addPlayer(new c.api(f));}}else{if(typeof b=="number"){return c.getPlayers()[b];}}return null;};c.api.events={API_READY:"jwplayerAPIReady",JWPLAYER_READY:"jwplayerReady",JWPLAYER_FULLSCREEN:"jwplayerFullscreen",JWPLAYER_RESIZE:"jwplayerResize",JWPLAYER_ERROR:"jwplayerError",JWPLAYER_MEDIA_BEFOREPLAY:"jwplayerMediaBeforePlay",JWPLAYER_MEDIA_BEFORECOMPLETE:"jwplayerMediaBeforeComplete",JWPLAYER_COMPONENT_SHOW:"jwplayerComponentShow",JWPLAYER_COMPONENT_HIDE:"jwplayerComponentHide",JWPLAYER_MEDIA_BUFFER:"jwplayerMediaBuffer",JWPLAYER_MEDIA_BUFFER_FULL:"jwplayerMediaBufferFull",JWPLAYER_MEDIA_ERROR:"jwplayerMediaError",JWPLAYER_MEDIA_LOADED:"jwplayerMediaLoaded",JWPLAYER_MEDIA_COMPLETE:"jwplayerMediaComplete",JWPLAYER_MEDIA_SEEK:"jwplayerMediaSeek",JWPLAYER_MEDIA_TIME:"jwplayerMediaTime",JWPLAYER_MEDIA_VOLUME:"jwplayerMediaVolume",JWPLAYER_MEDIA_META:"jwplayerMediaMeta",JWPLAYER_MEDIA_MUTE:"jwplayerMediaMute",JWPLAYER_PLAYER_STATE:"jwplayerPlayerState",JWPLAYER_PLAYLIST_LOADED:"jwplayerPlaylistLoaded",JWPLAYER_PLAYLIST_ITEM:"jwplayerPlaylistItem",JWPLAYER_INSTREAM_CLICK:"jwplayerInstreamClicked",JWPLAYER_INSTREAM_DESTROYED:"jwplayerInstreamDestroyed"};c.api.events.state={BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"};c.api.playerById=function(a){for(var b=0;b<d.length;b++){if(d[b].id==a){return d[b];}}return null;};c.api.addPlayer=function(b){for(var a=0;a<d.length;a++){if(d[a]==b){return b;}}d.push(b);return b;};c.api.destroyPlayer=function(m,p){var n=-1;for(var a=0;a<d.length;a++){if(d[a].id==m){n=a;continue;}}if(n>=0){try{d[n].callInternal("jwDestroy");}catch(b){}var q=document.getElementById(d[n].id);if(document.getElementById(d[n].id+"_wrapper")){q=document.getElementById(d[n].id+"_wrapper");}if(q){if(p){c.utils.setOuterHTML(q,p);}else{var e=document.createElement("div");var o=q.id;if(q.id.indexOf("_wrapper")==q.id.length-8){newID=q.id.substring(0,q.id.length-8);}e.setAttribute("id",o);q.parentNode.replaceChild(e,q);}}d.splice(n,1);}return null;};c.getPlayers=function(){return d.slice(0);};})(jwplayer);var _userPlayerReady=(typeof playerReady=="function")?playerReady:undefined;playerReady=function(c){var d=jwplayer.api.playerById(c.id);if(d){d.playerReady(c);}else{jwplayer.api.selectPlayer(c.id).playerReady(c);}if(_userPlayerReady){_userPlayerReady.call(this,c);}};(function(b){b.api.instream=function(E,y,u,a){var z=E;var F=y;var A=u;var x=a;var C={};var r={};function B(){z.callInternal("jwLoadInstream",u,a);}function v(d,c){F.jwInstreamAddEventListener(c,'function(dat) { jwplayer("'+z.id+'").dispatchInstreamEvent("'+c+'", dat); }');}function D(d,c){if(!C[d]){C[d]=[];v(F,d);}C[d].push(c);return this;}function t(d,c){if(!r[d]){r[d]=[];D(b.api.events.JWPLAYER_PLAYER_STATE,w(d));}r[d].push(c);return this;}function w(c){return function(g){var h=g.newstate,e=g.oldstate;if(h==c){var f=r[h];if(f){for(var d=0;d<f.length;d++){if(typeof f[d]=="function"){f[d].call(this,{oldstate:e,newstate:h,type:g.type});}}}}};}this.dispatchEvent=function(c,d){if(C[c]){var e=_utils.translateEventResponse(c,d[1]);for(var f=0;f<C[c].length;f++){if(typeof C[c][f]=="function"){C[c][f].call(this,e);}}}};this.onError=function(c){return D(b.api.events.JWPLAYER_ERROR,c);};this.onFullscreen=function(c){return D(b.api.events.JWPLAYER_FULLSCREEN,c);};this.onMeta=function(c){return D(b.api.events.JWPLAYER_MEDIA_META,c);};this.onMute=function(c){return D(b.api.events.JWPLAYER_MEDIA_MUTE,c);};this.onComplete=function(c){return D(b.api.events.JWPLAYER_MEDIA_COMPLETE,c);};this.onSeek=function(c){return D(b.api.events.JWPLAYER_MEDIA_SEEK,c);};this.onTime=function(c){return D(b.api.events.JWPLAYER_MEDIA_TIME,c);};this.onVolume=function(c){return D(b.api.events.JWPLAYER_MEDIA_VOLUME,c);};this.onBuffer=function(c){return t(b.api.events.state.BUFFERING,c);};this.onPause=function(c){return t(b.api.events.state.PAUSED,c);};this.onPlay=function(c){return t(b.api.events.state.PLAYING,c);};this.onIdle=function(c){return t(b.api.events.state.IDLE,c);};this.onInstreamClick=function(c){return D(b.api.events.JWPLAYER_INSTREAM_CLICK,c);};this.onInstreamDestroyed=function(c){return D(b.api.events.JWPLAYER_INSTREAM_DESTROYED,c);};this.play=function(c){F.jwInstreamPlay(c);};this.pause=function(c){F.jwInstreamPause(c);};this.seek=function(c){F.jwInstreamSeek(c);};this.destroy=function(){F.jwInstreamDestroy();};this.getState=function(){return F.jwInstreamGetState();};this.getDuration=function(){return F.jwInstreamGetDuration();};this.getPosition=function(){return F.jwInstreamGetPosition();};B();};})(jwplayer);(function(e){var f=e.utils;e.embed=function(c){var a={width:400,height:300,components:{controlbar:{position:"over"}}};var l=f.mediaparser.parseMedia(c.container);var m=new e.embed.config(f.extend(a,l,c.config),this);var b=e.plugins.loadPlugins(c.id,m.plugins);function o(k,g){for(var h in g){if(typeof k[h]=="function"){(k[h]).call(k,g[h]);}}}function n(){if(b.getStatus()==f.loaderstatus.COMPLETE){for(var v=0;v<m.modes.length;v++){if(m.modes[v].type&&e.embed[m.modes[v].type]){var k=m.modes[v].config;var y=m;if(k){y=f.extend(f.clone(m),k);var z=["file","levels","playlist"];for(var w=0;w<z.length;w++){var h=z[w];if(f.exists(k[h])){for(var x=0;x<z.length;x++){if(x!=w){var u=z[x];if(f.exists(y[u])&&!f.exists(k[u])){delete y[u];}}}}}}var g=new e.embed[m.modes[v].type](document.getElementById(c.id),m.modes[v],y,b,c);if(g.supportsConfig()){g.embed();o(c,m.events);return c;}}}f.log("No suitable players found");new e.embed.logo(f.extend({hide:true},m.components.logo),"none",c.id);}}b.addEventListener(e.events.COMPLETE,n);b.addEventListener(e.events.ERROR,n);b.load();return c;};function d(){if(!document.body){return setTimeout(d,15);}var c=f.selectors.getElementsByTagAndClass("video","jwplayer");for(var b=0;b<c.length;b++){var a=c[b];if(a.id==""){a.id="jwplayer_"+Math.round(Math.random()*100000);}e(a.id).setup({});}}d();})(jwplayer);(function(q){var l=q.utils;function n(a){var b=[{type:"flash",src:a?a:"/jwplayer/player.swf"},{type:"html5"},{type:"download"}];if(l.isAndroid()){b[0]=b.splice(1,1,b[0])[0];}return b;}var v={players:"modes",autoplay:"autostart"};function u(c){var d=c.toLowerCase();var a=["left","right","top","bottom"];for(var b=0;b<a.length;b++){if(d==a[b]){return true;}}return false;}function t(a){var b=false;b=(a instanceof Array)||(typeof a=="object"&&!a.position&&!a.size);return b;}function m(a){if(typeof a=="string"){if(parseInt(a).toString()==a||a.toLowerCase().indexOf("px")>-1){return parseInt(a);}}return a;}var o=["playlist","dock","controlbar","logo","display"];function p(b){var d={};switch(l.typeOf(b.plugins)){case"object":for(var e in b.plugins){d[l.getPluginName(e)]=e;}break;case"string":var c=b.plugins.split(",");for(var a=0;a<c.length;a++){d[l.getPluginName(c[a])]=c[a];}break;}return d;}function r(d,e,f,b){if(l.typeOf(d[e])!="object"){d[e]={};}var a=d[e][f];if(l.typeOf(a)!="object"){d[e][f]=a={};}if(b){if(e=="plugins"){var c=l.getPluginName(f);a[b]=d[c+"."+b];delete d[c+"."+b];}else{a[b]=d[f+"."+b];delete d[f+"."+b];}}}q.embed.deserialize=function(a){var f=p(a);for(var b in f){r(a,"plugins",f[b]);}for(var c in a){if(c.indexOf(".")>-1){var d=c.split(".");var e=d[0];var c=d[1];if(l.isInArray(o,e)){r(a,"components",e,c);}else{if(f[e]){r(a,"plugins",f[e],c);}}}}return a;};q.embed.config=function(g,h){var k=l.extend({},g);var x;if(t(k.playlist)){x=k.playlist;delete k.playlist;}k=q.embed.deserialize(k);k.height=m(k.height);k.width=m(k.width);if(typeof k.plugins=="string"){var f=k.plugins.split(",");if(typeof k.plugins!="object"){k.plugins={};}for(var b=0;b<f.length;b++){var a=l.getPluginName(f[b]);if(typeof k[a]=="object"){k.plugins[f[b]]=k[a];delete k[a];}else{k.plugins[f[b]]={};}}}for(var w=0;w<o.length;w++){var c=o[w];if(l.exists(k[c])){if(typeof k[c]!="object"){if(!k.components[c]){k.components[c]={};}if(c=="logo"){k.components[c].file=k[c];}else{k.components[c].position=k[c];}delete k[c];}else{if(!k.components[c]){k.components[c]={};}l.extend(k.components[c],k[c]);delete k[c];}}if(typeof k[c+"size"]!="undefined"){if(!k.components[c]){k.components[c]={};}k.components[c].size=k[c+"size"];delete k[c+"size"];}}if(typeof k.icons!="undefined"){if(!k.components.display){k.components.display={};}k.components.display.icons=k.icons;delete k.icons;}for(var d in v){if(k[d]){if(!k[v[d]]){k[v[d]]=k[d];}delete k[d];}}var e;if(k.flashplayer&&!k.modes){e=n(k.flashplayer);delete k.flashplayer;}else{if(k.modes){if(typeof k.modes=="string"){e=n(k.modes);}else{if(k.modes instanceof Array){e=k.modes;}else{if(typeof k.modes=="object"&&k.modes.type){e=[k.modes];}}}delete k.modes;}else{e=n();}}k.modes=e;if(x){k.playlist=x;}return k;};})(jwplayer);(function(b){b.embed.download=function(n,h,a,m,k){this.embed=function(){var x=b.utils.extend({},a);var d={};var y=a.width?a.width:480;if(typeof y!="number"){y=parseInt(y,10);}var v=a.height?a.height:320;if(typeof v!="number"){v=parseInt(v,10);}var A,f,g;var C={};if(a.playlist&&a.playlist.length){C.file=a.playlist[0].file;f=a.playlist[0].image;C.levels=a.playlist[0].levels;}else{C.file=a.file;f=a.image;C.levels=a.levels;}if(C.file){A=C.file;}else{if(C.levels&&C.levels.length){A=C.levels[0].file;}}g=A?"pointer":"auto";var w={display:{style:{cursor:g,width:y,height:v,backgroundColor:"#000",position:"relative",textDecoration:"none",border:"none",display:"block"}},display_icon:{style:{cursor:g,position:"absolute",display:A?"block":"none",top:0,left:0,border:0,margin:0,padding:0,zIndex:3,width:50,height:50,backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAALdJREFUeNrs18ENgjAYhmFouDOCcQJGcARHgE10BDcgTOIosAGwQOuPwaQeuFRi2p/3Sb6EC5L3QCxZBgAAAOCorLW1zMn65TrlkH4NcV7QNcUQt7Gn7KIhxA+qNIR81spOGkL8oFJDyLJRdosqKDDkK+iX5+d7huzwM40xptMQMkjIOeRGo+VkEVvIPfTGIpKASfYIfT9iCHkHrBEzf4gcUQ56aEzuGK/mw0rHpy4AAACAf3kJMACBxjAQNRckhwAAAABJRU5ErkJggg==)"}},display_iconBackground:{style:{cursor:g,position:"absolute",display:A?"block":"none",top:((v-50)/2),left:((y-50)/2),border:0,width:50,height:50,margin:0,padding:0,zIndex:2,backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEpJREFUeNrszwENADAIA7DhX8ENoBMZ5KR10EryckCJiIiIiIiIiIiIiIiIiIiIiIh8GmkRERERERERERERERERERERERGRHSPAAPlXH1phYpYaAAAAAElFTkSuQmCC)"}},display_image:{style:{width:y,height:v,display:f?"block":"none",position:"absolute",cursor:g,left:0,top:0,margin:0,padding:0,textDecoration:"none",zIndex:1,border:"none"}}};var z=function(q,o,r){var p=document.createElement(q);if(r){p.id=r;}else{p.id=n.id+"_jwplayer_"+o;}b.utils.css(p,w[o].style);return p;};d.display=z("a","display",n.id);if(A){d.display.setAttribute("href",b.utils.getAbsolutePath(A));}d.display_image=z("img","display_image");d.display_image.setAttribute("alt","Click to download...");if(f){d.display_image.setAttribute("src",b.utils.getAbsolutePath(f));}if(true){d.display_icon=z("div","display_icon");d.display_iconBackground=z("div","display_iconBackground");d.display.appendChild(d.display_image);d.display_iconBackground.appendChild(d.display_icon);d.display.appendChild(d.display_iconBackground);}_css=b.utils.css;_hide=function(o){_css(o,{display:"none"});};function c(o){_imageWidth=d.display_image.naturalWidth;_imageHeight=d.display_image.naturalHeight;B();}function B(){b.utils.stretch(b.utils.stretching.UNIFORM,d.display_image,y,v,_imageWidth,_imageHeight);}d.display_image.onerror=function(o){_hide(d.display_image);};d.display_image.onload=c;n.parentNode.replaceChild(d.display,n);var e=(a.plugins&&a.plugins.logo)?a.plugins.logo:{};d.display.appendChild(new b.embed.logo(a.components.logo,"download",n.id));k.container=document.getElementById(k.id);k.setPlayer(d.display,"download");};this.supportsConfig=function(){if(a){var c=b.utils.getFirstPlaylistItemFromConfig(a);if(typeof c.file=="undefined"&&typeof c.levels=="undefined"){return true;}else{if(c.file){return l(c.file,c.provider,c.playlistfile);}else{if(c.levels&&c.levels.length){for(var d=0;d<c.levels.length;d++){if(c.levels[d].file&&l(c.levels[d].file,c.provider,c.playlistfile)){return true;}}}}}}else{return true;}};function l(f,d,g){if(g){return false;}var e=["image","sound","youtube","http"];if(d&&(e.toString().indexOf(d)>-1)){return true;}if(!d||(d&&d=="video")){var c=b.utils.extension(f);if(c&&b.utils.extensionmap[c]){return true;}}return false;}};})(jwplayer);(function(b){b.embed.flash=function(t,r,n,u,p){function a(e,f,d){var c=document.createElement("param");c.setAttribute("name",f);c.setAttribute("value",d);e.appendChild(c);}function o(d,c,e){return function(h){if(e){document.getElementById(p.id+"_wrapper").appendChild(c);}var f=document.getElementById(p.id).getPluginConfig("display");d.resize(f.width,f.height);var g={left:f.x,top:f.y};b.utils.css(c,g);};}function v(e){if(!e){return{};}var c={};for(var f in e){var g=e[f];for(var d in g){c[f+"."+d]=g[d];}}return c;}function q(e,f){if(e[f]){var c=e[f];for(var g in c){var h=c[g];if(typeof h=="string"){if(!e[g]){e[g]=h;}}else{for(var d in h){if(!e[g+"."+d]){e[g+"."+d]=h[d];}}}}delete e[f];}}function x(f){if(!f){return{};}var c={},d=[];for(var k in f){var g=b.utils.getPluginName(k);var h=f[k];d.push(k);for(var e in h){c[g+"."+e]=h[e];}}c.plugins=d.join(",");return c;}function w(c){var e=c.netstreambasepath?"":"netstreambasepath="+encodeURIComponent(window.location.href.split("#")[0])+"&";for(var d in c){if(typeof(c[d])=="object"){e+=d+"="+encodeURIComponent("[[JSON]]"+b.utils.strings.jsonToString(c[d]))+"&";}else{e+=d+"="+encodeURIComponent(c[d])+"&";}}return e.substring(0,e.length-1);}this.embed=function(){n.id=p.id;var g;var c=b.utils.extend({},n);var f=c.width;var l=c.height;if(t.id+"_wrapper"==t.parentNode.id){g=document.getElementById(t.id+"_wrapper");}else{g=document.createElement("div");g.id=t.id+"_wrapper";b.utils.wrap(t,g);b.utils.css(g,{position:"relative",width:f,height:l});}var e=u.setupPlugins(p,c,o);if(e.length>0){b.utils.extend(c,x(e.plugins));}else{delete c.plugins;}var F=["height","width","modes","events"];for(var C=0;C<F.length;C++){delete c[F[C]];}var d="opaque";if(c.wmode){d=c.wmode;}q(c,"components");q(c,"providers");if(typeof c["dock.position"]!="undefined"){if(c["dock.position"].toString().toLowerCase()=="false"){c.dock=c["dock.position"];delete c["dock.position"];}}var m=b.utils.getCookies();for(var h in m){if(typeof(c[h])=="undefined"){c[h]=m[h];}}var k="#FFFFFF";var D;if(b.utils.isIE()){var B='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" bgcolor="'+k+'" width="100%" height="100%" id="'+t.id+'" name="'+t.id+'" tabindex=0"">';B+='<param name="movie" value="'+r.src+'">';B+='<param name="allowfullscreen" value="true">';B+='<param name="allowscriptaccess" value="always">';B+='<param name="seamlesstabbing" value="true">';B+='<param name="wmode" value="'+d+'">';B+='<param name="flashvars" value="'+w(c)+'">';B+="</object>";b.utils.setOuterHTML(t,B);D=document.getElementById(t.id);}else{var E=document.createElement("object");E.setAttribute("type","application/x-shockwave-flash");E.setAttribute("data",r.src);E.setAttribute("width","100%");E.setAttribute("height","100%");E.setAttribute("bgcolor","#FFFFFF");E.setAttribute("id",t.id);E.setAttribute("name",t.id);E.setAttribute("tabindex",0);a(E,"allowfullscreen","true");a(E,"allowscriptaccess","always");a(E,"seamlesstabbing","true");a(E,"wmode",d);a(E,"flashvars",w(c));t.parentNode.replaceChild(E,t);D=E;}p.container=D;p.setPlayer(D,"flash");};this.supportsConfig=function(){if(b.utils.hasFlash()){if(n){var c=b.utils.getFirstPlaylistItemFromConfig(n);if(typeof c.file=="undefined"&&typeof c.levels=="undefined"){return true;}else{if(c.file){return flashCanPlay(c.file,c.provider);}else{if(c.levels&&c.levels.length){for(var d=0;d<c.levels.length;d++){if(c.levels[d].file&&flashCanPlay(c.levels[d].file,c.provider)){return true;}}}}}}else{return true;}}return false;};flashCanPlay=function(f,d){var e=["video","http","sound","image"];if(d&&(e.toString().indexOf(d)<0)){return true;}var c=b.utils.extension(f);if(!c){return true;}if(b.utils.exists(b.utils.extensionmap[c])&&!b.utils.exists(b.utils.extensionmap[c].flash)){return false;}return true;};};})(jwplayer);(function(b){b.embed.html5=function(n,h,a,m,k){function l(d,c,e){return function(g){var f=document.getElementById(n.id+"_displayarea");if(e){f.appendChild(c);}d.resize(f.clientWidth,f.clientHeight);c.left=f.style.left;c.top=f.style.top;};}this.embed=function(){if(b.html5){m.setupPlugins(k,a,l);n.innerHTML="";var e=b.utils.extend({screencolor:"0xFFFFFF"},a);var f=["plugins","modes","events"];for(var d=0;d<f.length;d++){delete e[f[d]];}if(e.levels&&!e.sources){e.sources=a.levels;}if(e.skin&&e.skin.toLowerCase().indexOf(".zip")>0){e.skin=e.skin.replace(/\.zip/i,".xml");}var c=new (b.html5(n)).setup(e);k.container=document.getElementById(k.id);k.setPlayer(c,"html5");}else{return null;}};this.supportsConfig=function(){if(!!b.vid.canPlayType){if(a){var c=b.utils.getFirstPlaylistItemFromConfig(a);if(typeof c.file=="undefined"&&typeof c.levels=="undefined"){return true;}else{if(c.file){return html5CanPlay(b.vid,c.file,c.provider,c.playlistfile);}else{if(c.levels&&c.levels.length){for(var d=0;d<c.levels.length;d++){if(c.levels[d].file&&html5CanPlay(b.vid,c.levels[d].file,c.provider,c.playlistfile)){return true;}}}}}}else{return true;}}return false;};html5CanPlay=function(e,f,d,g){if(g){return false;}if(d&&d=="youtube"){return true;}if(d&&d!="video"&&d!="http"&&d!="sound"){return false;}if(navigator.userAgent.match(/BlackBerry/i)!==null){return false;}var c=b.utils.extension(f);if(!b.utils.exists(c)||!b.utils.exists(b.utils.extensionmap[c])){return true;}if(!b.utils.exists(b.utils.extensionmap[c].html5)){return false;}if(b.utils.isLegacyAndroid()&&c.match(/m4v|mp4/)){return true;}return browserCanPlay(e,b.utils.extensionmap[c].html5);};browserCanPlay=function(c,d){if(!d){return true;}if(c.canPlayType(d)){return true;}else{if(d=="audio/mp3"&&navigator.userAgent.match(/safari/i)){return c.canPlayType("audio/mpeg");}else{return false;}}};};})(jwplayer);(function(b){b.embed.logo=function(t,u,B){var w={prefix:"http://l.longtailvideo.com/"+u+"/",file:"",link:"",linktarget:"_top",margin:8,out:0.5,over:1,timeout:5,hide:false,position:"bottom-left"};_css=b.utils.css;var D;var x;v();function v(){q();C();z();}function q(){if(w.prefix){var c=b.version.split(/\W/).splice(0,2).join("/");if(w.prefix.indexOf(c)<0){w.prefix+=c+"/";}}x=b.utils.extend({},w,t);}function a(){var c={border:"none",textDecoration:"none",position:"absolute",cursor:"pointer",zIndex:10};c.display=x.hide?"none":"block";var d=x.position.toLowerCase().split("-");for(var e in d){c[d[e]]=x.margin;}return c;}function C(){D=document.createElement("img");D.id=B+"_jwplayer_logo";D.style.display="none";D.onload=function(c){_css(D,a());A();};if(!x.file){return;}if(x.file.indexOf("http://")===0){D.src=x.file;}else{D.src=x.prefix+x.file;}}if(!x.file){return;}function z(){if(x.link){D.onmouseover=y;D.onmouseout=A;D.onclick=r;}else{this.mouseEnabled=false;}}function r(c){if(typeof c!="undefined"){c.preventDefault();c.stopPropagation();}if(x.link){window.open(x.link,x.linktarget);}return;}function A(c){if(x.link){D.style.opacity=x.out;}return;}function y(c){if(x.hide){D.style.opacity=x.over;}return;}return D;};})(jwplayer);(function(b){b.html5=function(a){var d=a;this.setup=function(c){b.utils.extend(this,new b.html5.api(d,c));return this;};return this;};})(jwplayer);(function(f){var g=f.utils;var e=g.css;var h=g.isIOS();f.html5.view=function(ax,ac,aC){var ay=ax;var al=ac;var aB=aC;var c;var aD;var aq;var aw;var ae;var U;var V;var af=false;var am=false;var aj,W;var aE,b,ap;function Y(){c=document.createElement("div");c.id=al.id;c.className=al.className;_videowrapper=document.createElement("div");_videowrapper.id=c.id+"_video_wrapper";al.id=c.id+"_video";e(c,{position:"relative",height:aB.height,width:aB.width,padding:0,backgroundColor:k(),zIndex:0});function k(){if(ay.skin.getComponentSettings("display")&&ay.skin.getComponentSettings("display").backgroundcolor){return ay.skin.getComponentSettings("display").backgroundcolor;}return parseInt("FFFFFF",16);}e(al,{width:"100%",height:"100%",top:0,left:0,zIndex:1,margin:"auto",display:"block"});e(_videowrapper,{overflow:"hidden",position:"absolute",top:0,left:0,bottom:0,right:0});g.wrap(al,c);g.wrap(al,_videowrapper);aw=document.createElement("div");aw.id=c.id+"_displayarea";c.appendChild(aw);_instreamArea=document.createElement("div");_instreamArea.id=c.id+"_instreamarea";e(_instreamArea,{overflow:"hidden",position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:100,background:"FFFFFF",display:"none"});c.appendChild(_instreamArea);}function Z(){for(var l=0;l<aB.plugins.order.length;l++){var k=aB.plugins.order[l];if(g.exists(aB.plugins.object[k].getDisplayElement)){aB.plugins.object[k].height=g.parseDimension(aB.plugins.object[k].getDisplayElement().style.height);aB.plugins.object[k].width=g.parseDimension(aB.plugins.object[k].getDisplayElement().style.width);aB.plugins.config[k].currentPosition=aB.plugins.config[k].position;}}ao();}function ar(k){am=aB.fullscreen;}function av(k){if(b){return;}switch(k.newstate){case f.api.events.state.PLAYING:if(aB.getMedia()&&aB.getMedia().hasChrome()){aw.style.display="none";}break;default:aw.style.display="block";break;}az();}function ao(l){var n=aB.getMedia()?aB.getMedia().getDisplayElement():null;if(g.exists(n)){if(V!=n){if(V&&V.parentNode){V.parentNode.replaceChild(n,V);}V=n;}for(var m=0;m<aB.plugins.order.length;m++){var k=aB.plugins.order[m];if(g.exists(aB.plugins.object[k].getDisplayElement)){aB.plugins.config[k].currentPosition=aB.plugins.config[k].position;}}}ad(aB.width,aB.height);}this.setup=function(){if(aB&&aB.getMedia()){al=aB.getMedia().getDisplayElement();}Y();Z();ay.jwAddEventListener(f.api.events.JWPLAYER_PLAYER_STATE,av);ay.jwAddEventListener(f.api.events.JWPLAYER_MEDIA_LOADED,ao);ay.jwAddEventListener(f.api.events.JWPLAYER_MEDIA_BEFOREPLAY,ar);ay.jwAddEventListener(f.api.events.JWPLAYER_MEDIA_META,function(l){az();});var k;if(g.exists(window.onresize)){k=window.onresize;}window.onresize=function(m){if(g.exists(k)){try{k(m);}catch(n){}}if(ay.jwGetFullscreen()){if(!ai()){var l=g.getBoundingClientRect(document.body);aB.width=Math.abs(l.left)+Math.abs(l.right);aB.height=window.innerHeight;ad(aB.width,aB.height);}}else{ad(aB.width,aB.height);}};};function X(k){switch(k.keyCode){case 27:if(ay.jwGetFullscreen()){ay.jwSetFullscreen(false);}break;case 32:if(ay.jwGetState()!=f.api.events.state.IDLE&&ay.jwGetState()!=f.api.events.state.PAUSED){ay.jwPause();}else{ay.jwPlay();}break;}}function ad(q,t){if(c.style.display=="none"){return;}var n=[].concat(aB.plugins.order);n.reverse();ae=n.length+2;if(am&&ai()){try{if(aB.fullscreen&&!aB.getMedia().getDisplayElement().webkitDisplayingFullscreen){aB.fullscreen=false;}}catch(k){}}if(!aB.fullscreen){aD=q;aq=t;if(typeof q=="string"&&q.indexOf("%")>0){aD=g.getElementWidth(g.parentNode(c))*parseInt(q.replace("%"),"")/100;}else{aD=q;}if(typeof t=="string"&&t.indexOf("%")>0){aq=g.getElementHeight(g.parentNode(c))*parseInt(t.replace("%"),"")/100;}else{aq=t;}var m={top:0,bottom:0,left:0,right:0,width:aD,height:aq,position:"absolute"};e(aw,m);var r={};var v;try{v=aB.plugins.object.display.getDisplayElement();}catch(k){}if(v){r.width=g.parseDimension(v.style.width);r.height=g.parseDimension(v.style.height);}var u=g.extend({},m,r,{zIndex:_instreamArea.style.zIndex,display:_instreamArea.style.display});e(_instreamArea,u);e(c,{height:aq,width:aD});var l=an(ab,n);if(l.length>0){ae+=l.length;var o=l.indexOf("playlist"),p=l.indexOf("controlbar");if(o>=0&&p>=0){l[o]=l.splice(p,1,l[o])[0];}an(au,l,true);}aj=g.getElementWidth(aw);W=g.getElementHeight(aw);}else{if(!ai()&&!h){an(aF,n,true);}}az();}var at;function an(t,n,m){at=0;var l=[];for(var o=0;o<n.length;o++){var k=n[o];if(g.exists(aB.plugins.object[k].getDisplayElement)){if(aB.plugins.config[k].currentPosition!=f.html5.view.positions.NONE){var q=t(k,ae--);if(!q){l.push(k);}else{var p=q.width;var r=q.height;if(m){delete q.width;delete q.height;}e(aB.plugins.object[k].getDisplayElement(),q);aB.plugins.object[k].resize(p,r);}}else{e(aB.plugins.object[k].getDisplayElement(),{display:"none"});}}}return l;}function ab(l,k){if(g.exists(aB.plugins.object[l].getDisplayElement)){if(aB.plugins.config[l].position&&a(aB.plugins.config[l].position)){if(!g.exists(aB.plugins.object[l].getDisplayElement().parentNode)){c.appendChild(aB.plugins.object[l].getDisplayElement());}var m=ak(l);m.zIndex=k;return m;}}return false;}function au(l,k){if(!g.exists(aB.plugins.object[l].getDisplayElement().parentNode)){aw.appendChild(aB.plugins.object[l].getDisplayElement());}return{position:"absolute",width:(g.getElementWidth(aw)-g.parseDimension(aw.style.right)),height:(g.getElementHeight(aw)-g.parseDimension(aw.style.bottom)),zIndex:k};}function aF(l,k){return{position:"fixed",width:aB.width,height:aB.height,zIndex:k};}var az=this.resizeMedia=function(){aw.style.position="absolute";var k=aB.getMedia()?aB.getMedia().getDisplayElement():ap;if(!k){return;}if(k&&k.tagName.toLowerCase()=="video"){if(!k.videoWidth||!k.videoHeight){k.style.width=aw.style.width;k.style.height=aw.style.height;return;}k.style.position="absolute";g.fadeTo(k,1,0.25);if(k.parentNode){k.parentNode.style.left=aw.style.left;k.parentNode.style.top=aw.style.top;}if(aB.fullscreen&&ay.jwGetStretching()==f.utils.stretching.EXACTFIT&&!g.isMobile()){var m=document.createElement("div");g.stretch(f.utils.stretching.UNIFORM,m,g.getElementWidth(aw),g.getElementHeight(aw),aj,W);g.stretch(f.utils.stretching.EXACTFIT,k,g.parseDimension(m.style.width),g.parseDimension(m.style.height),k.videoWidth?k.videoWidth:400,k.videoHeight?k.videoHeight:300);e(k,{left:m.style.left,top:m.style.top});}else{if(!h){g.stretch(ay.jwGetStretching(),k,g.getElementWidth(aw),g.getElementHeight(aw),k.videoWidth?k.videoWidth:400,k.videoHeight?k.videoHeight:300);}}}else{var l=aB.plugins.object.display.getDisplayElement();if(l){aB.getMedia().resize(g.parseDimension(l.style.width),g.parseDimension(l.style.height));}else{aB.getMedia().resize(g.parseDimension(aw.style.width),g.parseDimension(aw.style.height));}}};var ak=this.getComponentPosition=function(l){var k={position:"absolute",margin:0,padding:0,top:null};var m=aB.plugins.config[l].currentPosition.toLowerCase();switch(m.toUpperCase()){case f.html5.view.positions.TOP:k.top=g.parseDimension(aw.style.top);k.left=g.parseDimension(aw.style.left);k.width=g.getElementWidth(aw)-g.parseDimension(aw.style.left)-g.parseDimension(aw.style.right);k.height=aB.plugins.object[l].height;aw.style[m]=g.parseDimension(aw.style[m])+aB.plugins.object[l].height+"px";aw.style.height=g.getElementHeight(aw)-k.height+"px";break;case f.html5.view.positions.RIGHT:k.top=g.parseDimension(aw.style.top);k.right=g.parseDimension(aw.style.right);k.width=aB.plugins.object[l].width;k.height=g.getElementHeight(aw)-g.parseDimension(aw.style.top)-g.parseDimension(aw.style.bottom);aw.style.width=g.getElementWidth(aw)-k.width+"px";break;case f.html5.view.positions.BOTTOM:k.left=g.parseDimension(aw.style.left);k.width=g.getElementWidth(aw)-g.parseDimension(aw.style.left)-g.parseDimension(aw.style.right);k.height=aB.plugins.object[l].height;k.bottom=g.parseDimension(aw.style.bottom+at);at+=k.height;aw.style.height=g.getElementHeight(aw)-k.height+"px";break;case f.html5.view.positions.LEFT:k.top=g.parseDimension(aw.style.top);k.left=g.parseDimension(aw.style.left);k.width=aB.plugins.object[l].width;k.height=g.getElementHeight(aw)-g.parseDimension(aw.style.top)-g.parseDimension(aw.style.bottom);aw.style[m]=g.parseDimension(aw.style[m])+aB.plugins.object[l].width+"px";aw.style.width=g.getElementWidth(aw)-k.width+"px";break;default:break;}return k;};this.resize=ad;var aa,aA,d;var ah=this.fullscreen=function(k){if(h){return;}var p;try{p=aB.getMedia().getDisplayElement();}catch(q){}if(k){aA=aB.width;d=aB.height;}var o={position:"fixed",width:"100%",height:"100%",top:0,left:0,zIndex:2147483000},n={position:"relative",height:aA,width:d,zIndex:0};if(ai()&&p&&p.webkitSupportsFullscreen){if(k&&!p.webkitDisplayingFullscreen){try{e(p,o);g.transform(p);aa=aw.style.display;aw.style.display="none";p.webkitEnterFullscreen();}catch(l){}}else{if(!k){e(p,n);az();if(p.webkitDisplayingFullscreen){try{p.webkitExitFullscreen();}catch(l){}}aw.style.display=aa;}}af=false;}else{if(k){document.onkeydown=X;clearInterval(U);var m=g.getBoundingClientRect(document.body);aB.width=Math.abs(m.left)+Math.abs(m.right);aB.height=window.innerHeight;e(c,o);o.zIndex=1;if(aB.getMedia()&&aB.getMedia().getDisplayElement()){e(aB.getMedia().getDisplayElement(),o);}o.zIndex=2;e(aw,o);af=true;}else{document.onkeydown="";aB.width=aD;aB.height=aq;e(c,n);af=false;}ad(aB.width,aB.height);}};function a(k){return([f.html5.view.positions.TOP,f.html5.view.positions.RIGHT,f.html5.view.positions.BOTTOM,f.html5.view.positions.LEFT].toString().indexOf(k.toUpperCase())>-1);}function ai(){if(ay.jwGetState()!=f.api.events.state.IDLE&&!af&&(aB.getMedia()&&aB.getMedia().getDisplayElement()&&aB.getMedia().getDisplayElement().webkitSupportsFullscreen)&&g.useNativeFullscreen()){return true;}return false;}this.setupInstream=function(l,k){g.css(_instreamArea,{display:"block",position:"absolute"});aw.style.display="none";_instreamArea.appendChild(l);ap=k;b=true;};var ag=this.destroyInstream=function(){_instreamArea.style.display="none";_instreamArea.innerHTML="";aw.style.display="block";ap=null;b=false;ad(aB.width,aB.height);};};f.html5.view.positions={TOP:"TOP",RIGHT:"RIGHT",BOTTOM:"BOTTOM",LEFT:"LEFT",OVER:"OVER",NONE:"NONE"};})(jwplayer);(function(d){var c={backgroundcolor:"",margin:10,font:"Arial,sans-serif",fontsize:10,fontcolor:parseInt("FFFFFF",16),fontstyle:"normal",fontweight:"bold",buttoncolor:parseInt("ffffff",16),position:d.html5.view.positions.BOTTOM,idlehide:false,hideplaylistcontrols:false,forcenextprev:false,layout:{left:{position:"left",elements:[{name:"play",type:"button"},{name:"divider",type:"divider"},{name:"prev",type:"button"},{name:"divider",type:"divider"},{name:"next",type:"button"},{name:"divider",type:"divider"},{name:"elapsed",type:"text"}]},center:{position:"center",elements:[{name:"time",type:"slider"}]},right:{position:"right",elements:[{name:"duration",type:"text"},{name:"blank",type:"button"},{name:"divider",type:"divider"},{name:"mute",type:"button"},{name:"volume",type:"slider"},{name:"divider",type:"divider"},{name:"fullscreen",type:"button"}]}}};_utils=d.utils;_css=_utils.css;_hide=function(a){_css(a,{display:"none"});};_show=function(a){_css(a,{display:"block"});};d.html5.controlbar=function(bc,b){window.controlbar=this;var bd=bc;var aR=_utils.extend({},c,bd.skin.getComponentSettings("controlbar"),b);if(aR.position==d.html5.view.positions.NONE||typeof d.html5.view.positions[aR.position]=="undefined"){return;}if(_utils.mapLength(bd.skin.getComponentLayout("controlbar"))>0){aR.layout=bd.skin.getComponentLayout("controlbar");}var aN;var au;var aO;var aP;var a2="none";var bg;var be;var aK;var bh;var bi;var aZ;var at={};var a8=false;var bl={};var av=-1;var aV;var bf=false;var a9;var bk;var ap=false;var aL=false;var aJ;var aY=new d.html5.eventdispatcher();_utils.extend(this,aY);function aD(){if(!aV){aV=bd.skin.getSkinElement("controlbar","background");if(!aV){aV={width:0,height:0,src:null};}}return aV;}function ax(){aO=0;aP=0;au=0;if(!a8){var e={height:aD().height,backgroundColor:aR.backgroundcolor};aN=document.createElement("div");aN.id=bd.id+"_jwplayer_controlbar";_css(aN,e);}var f=(bd.skin.getSkinElement("controlbar","capLeft"));var g=(bd.skin.getSkinElement("controlbar","capRight"));if(f){a0("capLeft","left",false,aN);}aT("background",aN,{position:"absolute",height:aD().height,left:(f?f.width:0),zIndex:0},"img");if(aD().src){at.background.src=aD().src;}aT("elements",aN,{position:"relative",height:aD().height,zIndex:1});if(g){a0("capRight","right",false,aN);}}this.getDisplayElement=function(){return aN;};this.resize=function(e,g){ar();_utils.cancelAnimation(aN);bi=e;aZ=g;if(aL!=bd.jwGetFullscreen()){aL=bd.jwGetFullscreen();if(!aL){a();}bk=undefined;}var f=a1();aE({id:bd.id,duration:aK,position:be});a3({id:bd.id,bufferPercent:bh});return f;};this.show=function(){if(bf){bf=false;_show(aN);ao();}};this.hide=function(){if(!bf){bf=true;_hide(aN);aQ();}};function a7(){var f=["timeSlider","volumeSlider","timeSliderRail","volumeSliderRail"];for(var e in f){var g=f[e];if(typeof at[g]!="undefined"){bl[g]=_utils.getBoundingClientRect(at[g]);}}}var bj;function a(e){if(bf){return;}clearTimeout(a9);if(aR.position==d.html5.view.positions.OVER||bd.jwGetFullscreen()){switch(bd.jwGetState()){case d.api.events.state.PAUSED:case d.api.events.state.IDLE:if(aN&&aN.style.opacity<1&&(!aR.idlehide||_utils.exists(e))){bj=false;setTimeout(function(){if(!bj){an();}},100);}if(aR.idlehide){a9=setTimeout(function(){aX();},2000);}break;default:bj=true;if(e){an();}a9=setTimeout(function(){aX();},2000);break;}}else{an();}}function aX(){if(!bf){aQ();if(aN.style.opacity==1){_utils.cancelAnimation(aN);_utils.fadeTo(aN,0,0.1,1,0);}}}function an(){if(!bf){ao();if(aN.style.opacity==0){_utils.cancelAnimation(aN);_utils.fadeTo(aN,1,0.1,0,0);}}}function aH(e){return function(){if(ap&&bk!=e){bk=e;aY.sendEvent(e,{component:"controlbar",boundingRect:aw()});}};}var ao=aH(d.api.events.JWPLAYER_COMPONENT_SHOW);var aQ=aH(d.api.events.JWPLAYER_COMPONENT_HIDE);function aw(){if(aR.position==d.html5.view.positions.OVER||bd.jwGetFullscreen()){return _utils.getDimensions(aN);}else{return{x:0,y:0,width:0,height:0};}}function aT(e,f,g,k){var h;if(!a8){if(!k){k="div";}h=document.createElement(k);at[e]=h;h.id=aN.id+"_"+e;f.appendChild(h);}else{h=document.getElementById(aN.id+"_"+e);}if(_utils.exists(g)){_css(h,g);}return h;}function ay(){if(bd.jwGetHeight()<=40){aR.layout=_utils.clone(aR.layout);for(var e=0;e<aR.layout.left.elements.length;e++){if(aR.layout.left.elements[e].name=="fullscreen"){aR.layout.left.elements.splice(e,1);}}for(e=0;e<aR.layout.right.elements.length;e++){if(aR.layout.right.elements[e].name=="fullscreen"){aR.layout.right.elements.splice(e,1);}}ba();}aB(aR.layout.left);aB(aR.layout.center);aB(aR.layout.right);}function aB(f,k){var e=f.position=="right"?"right":"left";var g=_utils.extend([],f.elements);if(_utils.exists(k)){g.reverse();}var f=aT(f.position+"Group",at.elements,{"float":"left",styleFloat:"left",cssFloat:"left",height:"100%"});for(var h=0;h<g.length;h++){aS(g[h],e,f);}}function aA(){return au++;}function aS(l,h,f){var m,o,n,p,e;if(!f){f=at.elements;}if(l.type=="divider"){a0("divider"+aA(),h,true,f,undefined,l.width,l.element);return;}switch(l.name){case"play":a0("playButton",h,false,f);a0("pauseButton",h,true,f);aq("playButton","jwPlay");aq("pauseButton","jwPause");break;case"prev":a0("prevButton",h,true,f);aq("prevButton","jwPlaylistPrev");break;case"stop":a0("stopButton",h,true,f);aq("stopButton","jwStop");break;case"next":a0("nextButton",h,true,f);aq("nextButton","jwPlaylistNext");break;case"elapsed":a0("elapsedText",h,true,f,null,null,bd.skin.getSkinElement("controlbar","elapsedBackground"));break;case"time":o=!_utils.exists(bd.skin.getSkinElement("controlbar","timeSliderCapLeft"))?0:bd.skin.getSkinElement("controlbar","timeSliderCapLeft").width;n=!_utils.exists(bd.skin.getSkinElement("controlbar","timeSliderCapRight"))?0:bd.skin.getSkinElement("controlbar","timeSliderCapRight").width;m=h=="left"?o:n;e={height:aD().height,position:"relative","float":"left",styleFloat:"left",cssFloat:"left"};var k=aT("timeSlider",f,e);a0("timeSliderCapLeft",h,true,k,"relative");a0("timeSliderRail",h,false,k,"relative");a0("timeSliderBuffer",h,false,k,"absolute");a0("timeSliderProgress",h,false,k,"absolute");a0("timeSliderThumb",h,false,k,"absolute");a0("timeSliderCapRight",h,true,k,"relative");aW("time");break;case"fullscreen":a0("fullscreenButton",h,false,f);a0("normalscreenButton",h,true,f);aq("fullscreenButton","jwSetFullscreen",true);aq("normalscreenButton","jwSetFullscreen",false);break;case"volume":o=!_utils.exists(bd.skin.getSkinElement("controlbar","volumeSliderCapLeft"))?0:bd.skin.getSkinElement("controlbar","volumeSliderCapLeft").width;n=!_utils.exists(bd.skin.getSkinElement("controlbar","volumeSliderCapRight"))?0:bd.skin.getSkinElement("controlbar","volumeSliderCapRight").width;m=h=="left"?o:n;p=bd.skin.getSkinElement("controlbar","volumeSliderRail").width+o+n;e={height:aD().height,position:"relative",width:p,"float":"left",styleFloat:"left",cssFloat:"left"};var g=aT("volumeSlider",f,e);a0("volumeSliderCapLeft",h,false,g,"relative");a0("volumeSliderRail",h,false,g,"relative");a0("volumeSliderProgress",h,false,g,"absolute");a0("volumeSliderThumb",h,false,g,"absolute");a0("volumeSliderCapRight",h,false,g,"relative");aW("volume");break;case"mute":a0("muteButton",h,false,f);a0("unmuteButton",h,true,f);aq("muteButton","jwSetMute",true);aq("unmuteButton","jwSetMute",false);break;case"duration":a0("durationText",h,true,f,null,null,bd.skin.getSkinElement("controlbar","durationBackground"));break;}}function a0(m,h,o,e,l,p,n){if(_utils.exists(bd.skin.getSkinElement("controlbar",m))||m.indexOf("Text")>0||m.indexOf("divider")===0){var k={height:"100%",position:l?l:"relative",display:"block","float":"left",styleFloat:"left",cssFloat:"left"};if((m.indexOf("next")===0||m.indexOf("prev")===0)&&(bd.jwGetPlaylist().length<2||aR.hideplaylistcontrols.toString()=="true")){if(aR.forcenextprev.toString()!="true"){o=false;k.display="none";}}var q;if(m.indexOf("Text")>0){m.innerhtml="00:00";k.font=aR.fontsize+"px/"+(aD().height+1)+"px "+aR.font;k.color=aR.fontcolor;k.textAlign="center";k.fontWeight=aR.fontweight;k.fontStyle=aR.fontstyle;k.cursor="default";if(n){k.background="url("+n.src+") no-repeat center";k.backgroundSize="100% "+aD().height+"px";}k.padding="0 5px";}else{if(m.indexOf("divider")===0){if(p){if(!isNaN(parseInt(p))){q=parseInt(p);}}else{if(n){var g=bd.skin.getSkinElement("controlbar",n);if(g){k.background="url("+g.src+") repeat-x center left";q=g.width;}}else{k.background="url("+bd.skin.getSkinElement("controlbar","divider").src+") repeat-x center left";q=bd.skin.getSkinElement("controlbar","divider").width;}}}else{k.background="url("+bd.skin.getSkinElement("controlbar",m).src+") repeat-x center left";q=bd.skin.getSkinElement("controlbar",m).width;}}if(h=="left"){if(o){aO+=q;}}else{if(h=="right"){if(o){aP+=q;}}}if(_utils.typeOf(e)=="undefined"){e=at.elements;}k.width=q;if(a8){_css(at[m],k);}else{var f=aT(m,e,k);if(_utils.exists(bd.skin.getSkinElement("controlbar",m+"Over"))){f.onmouseover=function(r){f.style.backgroundImage=["url(",bd.skin.getSkinElement("controlbar",m+"Over").src,")"].join("");};f.onmouseout=function(r){f.style.backgroundImage=["url(",bd.skin.getSkinElement("controlbar",m).src,")"].join("");};}if(m.indexOf("divider")==0){f.setAttribute("class","divider");}f.innerHTML="&nbsp;";}}}function aM(){bd.jwAddEventListener(d.api.events.JWPLAYER_PLAYLIST_LOADED,aU);bd.jwAddEventListener(d.api.events.JWPLAYER_PLAYLIST_ITEM,a5);bd.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_BUFFER,a3);bd.jwAddEventListener(d.api.events.JWPLAYER_PLAYER_STATE,a6);bd.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_TIME,aE);bd.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_MUTE,aC);bd.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_VOLUME,bb);bd.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_COMPLETE,az);}function aU(){if(!aR.hideplaylistcontrols){if(bd.jwGetPlaylist().length>1||aR.forcenextprev.toString()=="true"){_show(at.nextButton);_show(at.prevButton);}else{_hide(at.nextButton);_hide(at.prevButton);}a1();aI();}}function a5(e){aK=bd.jwGetPlaylist()[e.index].duration;av=-1;aE({id:bd.id,duration:aK,position:0});a3({id:bd.id,bufferProgress:0});}function aI(){aE({id:bd.id,duration:bd.jwGetDuration(),position:0});a3({id:bd.id,bufferProgress:0});aC({id:bd.id,mute:bd.jwGetMute()});a6({id:bd.id,newstate:d.api.events.state.IDLE});bb({id:bd.id,volume:bd.jwGetVolume()});}function aq(f,e,g){if(a8){return;}if(_utils.exists(bd.skin.getSkinElement("controlbar",f))){var h=at[f];if(_utils.exists(h)){_css(h,{cursor:"pointer"});if(e=="fullscreen"){h.onmouseup=function(k){k.stopPropagation();bd.jwSetFullscreen(!bd.jwGetFullscreen());};}else{h.onmouseup=function(k){k.stopPropagation();if(_utils.exists(g)){bd[e](g);}else{bd[e]();}};}}}}function aW(f){if(a8){return;}var e=at[f+"Slider"];_css(at.elements,{cursor:"pointer"});_css(e,{cursor:"pointer"});e.onmousedown=function(g){a2=f;};e.onmouseup=function(g){g.stopPropagation();aF(g.pageX);};e.onmousemove=function(h){if(a2=="time"){bg=true;var g=h.pageX-bl[f+"Slider"].left-window.pageXOffset;_css(at[a2+"SliderThumb"],{left:g});}};}function aF(g){bg=false;var h;if(a2=="time"){h=g-bl.timeSliderRail.left+window.pageXOffset;var e=h/bl.timeSliderRail.width*aK;if(e<0){e=0;}else{if(e>aK){e=aK-3;}}if(bd.jwGetState()==d.api.events.state.PAUSED||bd.jwGetState()==d.api.events.state.IDLE){bd.jwPlay();}bd.jwSeek(e);}else{if(a2=="volume"){h=g-bl.volumeSliderRail.left-window.pageXOffset;var f=Math.round(h/bl.volumeSliderRail.width*100);if(f<10){f=0;}else{if(f>100){f=100;}}if(bd.jwGetMute()){bd.jwSetMute(false);}bd.jwSetVolume(f);}}a2="none";}function a3(g){if(_utils.exists(g.bufferPercent)){bh=g.bufferPercent;}if(bl.timeSliderRail){var e=bd.skin.getSkinElement("controlbar","timeSliderCapLeft");var f=bl.timeSliderRail.width;var h=isNaN(Math.round(f*bh/100))?0:Math.round(f*bh/100);_css(at.timeSliderBuffer,{width:h,left:e?e.width:0});}}function aC(e){if(e.mute){_hide(at.muteButton);_show(at.unmuteButton);_hide(at.volumeSliderProgress);}else{_show(at.muteButton);_hide(at.unmuteButton);_show(at.volumeSliderProgress);}}function a6(e){if(e.newstate==d.api.events.state.BUFFERING||e.newstate==d.api.events.state.PLAYING){_show(at.pauseButton);_hide(at.playButton);}else{_hide(at.pauseButton);_show(at.playButton);}a();if(e.newstate==d.api.events.state.IDLE){_hide(at.timeSliderBuffer);_hide(at.timeSliderProgress);_hide(at.timeSliderThumb);aE({id:bd.id,duration:bd.jwGetDuration(),position:0});}else{_show(at.timeSliderBuffer);if(e.newstate!=d.api.events.state.BUFFERING){_show(at.timeSliderProgress);_show(at.timeSliderThumb);}}}function az(e){a3({bufferPercent:0});aE(_utils.extend(e,{position:0,duration:aK}));}function aE(e){if(_utils.exists(e.position)){be=e.position;}var k=false;if(_utils.exists(e.duration)&&e.duration!=aK){aK=e.duration;k=true;}var g=(be===aK===0)?0:be/aK;var m=bl.timeSliderRail;if(m){var h=isNaN(Math.round(m.width*g))?0:Math.round(m.width*g);var n=bd.skin.getSkinElement("controlbar","timeSliderCapLeft");var f=h+(n?n.width:0);if(at.timeSliderProgress){_css(at.timeSliderProgress,{width:h,left:n?n.width:0});if(!bg){if(at.timeSliderThumb){at.timeSliderThumb.style.left=f+"px";}}}}if(at.durationText){at.durationText.innerHTML=_utils.timeFormat(aK);}if(at.elapsedText){var l=_utils.timeFormat(be);at.elapsedText.innerHTML=l;if(av!=l.length){k=true;av=l.length;}}if(k){a1();}}function ba(){var l=at.elements.childNodes;var e,g;for(var h=0;h<l.length;h++){var f=l[h].childNodes;for(var k in f){if(isNaN(parseInt(k,10))){continue;}if(f[k].id.indexOf(aN.id+"_divider")===0&&g&&g.id.indexOf(aN.id+"_divider")===0&&f[k].style.backgroundImage==g.style.backgroundImage){f[k].style.display="none";}else{if(f[k].id.indexOf(aN.id+"_divider")===0&&e&&e.style.display!="none"){f[k].style.display="block";}}if(f[k].style.display!="none"){g=f[k];}e=f[k];}}}function aG(){if(bd.jwGetFullscreen()){_show(at.normalscreenButton);_hide(at.fullscreenButton);}else{_hide(at.normalscreenButton);_show(at.fullscreenButton);}if(bd.jwGetState()==d.api.events.state.BUFFERING||bd.jwGetState()==d.api.events.state.PLAYING){_show(at.pauseButton);_hide(at.playButton);}else{_hide(at.pauseButton);_show(at.playButton);}if(bd.jwGetMute()==true){_hide(at.muteButton);_show(at.unmuteButton);_hide(at.volumeSliderProgress);}else{_show(at.muteButton);_hide(at.unmuteButton);_show(at.volumeSliderProgress);}}function a1(){ba();aG();var n={width:bi};var e={"float":"left",styleFloat:"left",cssFloat:"left"};if(aR.position==d.html5.view.positions.OVER||bd.jwGetFullscreen()){n.left=aR.margin;n.width-=2*aR.margin;n.top=aZ-aD().height-aR.margin;n.height=aD().height;}var l=bd.skin.getSkinElement("controlbar","capLeft");var g=bd.skin.getSkinElement("controlbar","capRight");e.width=n.width-(l?l.width:0)-(g?g.width:0);var m=_utils.getBoundingClientRect(at.leftGroup).width;var h=_utils.getBoundingClientRect(at.rightGroup).width;var k=e.width-m-h-1;var o=k;var p=bd.skin.getSkinElement("controlbar","timeSliderCapLeft");var f=bd.skin.getSkinElement("controlbar","timeSliderCapRight");if(_utils.exists(p)){o-=p.width;}if(_utils.exists(f)){o-=f.width;}at.timeSlider.style.width=k+"px";at.timeSliderRail.style.width=o+"px";_css(aN,n);_css(at.elements,e);_css(at.background,e);a7();return n;}function bb(e){if(_utils.exists(at.volumeSliderRail)){var h=isNaN(e.volume/100)?1:e.volume/100;var g=_utils.parseDimension(at.volumeSliderRail.style.width);var l=isNaN(Math.round(g*h))?0:Math.round(g*h);var m=_utils.parseDimension(at.volumeSliderRail.style.right);var k=(!_utils.exists(bd.skin.getSkinElement("controlbar","volumeSliderCapLeft")))?0:bd.skin.getSkinElement("controlbar","volumeSliderCapLeft").width;_css(at.volumeSliderProgress,{width:l,left:k});if(at.volumeSliderThumb){var f=(l-Math.round(_utils.parseDimension(at.volumeSliderThumb.style.width)/2));f=Math.min(Math.max(f,0),g-_utils.parseDimension(at.volumeSliderThumb.style.width));_css(at.volumeSliderThumb,{left:f});}if(_utils.exists(at.volumeSliderCapLeft)){_css(at.volumeSliderCapLeft,{left:0});}}}function ar(){try{var e=(bd.id.indexOf("_instream")>0?bd.id.replace("_instream",""):bd.id);aJ=document.getElementById(e);aJ.addEventListener("mousemove",a);}catch(f){_utils.log("Could not add mouse listeners to controlbar: "+f);}}function a4(){ax();ay();a7();a8=true;aM();aR.idlehide=(aR.idlehide.toString().toLowerCase()=="true");if(aR.position==d.html5.view.positions.OVER&&aR.idlehide){aN.style.opacity=0;ap=true;}else{aN.style.opacity=1;setTimeout((function(){ap=true;ao();}),1);}ar();aI();}a4();return this;};})(jwplayer);(function(d){var e=["width","height","state","playlist","item","position","buffer","duration","volume","mute","fullscreen"];var f=d.utils;d.html5.controller=function(av,Y,aD,aB){var aw=av,ax=aD,aA=aB,ak=Y,W=true,ac=-1,ai=false,aF=false,T,ag=[],at=false;var af=(f.exists(ax.config.debug)&&(ax.config.debug.toString().toLowerCase()=="console")),V=new d.html5.eventdispatcher(ak.id,af);f.extend(this,V);function X(g){if(at){V.sendEvent(g.type,g);}else{ag.push(g);}}function aq(k){if(!at){at=true;V.sendEvent(d.api.events.JWPLAYER_READY,k);if(d.utils.exists(window.playerReady)){playerReady(k);}if(d.utils.exists(window[aD.config.playerReady])){window[aD.config.playerReady](k);}while(ag.length>0){var g=ag.shift();V.sendEvent(g.type,g);}if(aD.config.autostart&&!d.utils.isIOS()){U();}while(al.length>0){var h=al.shift();ah(h.method,h.arguments);}}}ax.addGlobalListener(X);ax.addEventListener(d.api.events.JWPLAYER_MEDIA_BUFFER_FULL,function(){ax.getMedia().play();});ax.addEventListener(d.api.events.JWPLAYER_MEDIA_TIME,function(g){if(g.position>=ax.playlist[ax.item].start&&ac>=0){ax.playlist[ax.item].start=ac;ac=-1;}});ax.addEventListener(d.api.events.JWPLAYER_MEDIA_COMPLETE,function(g){setTimeout(ae,25);});ax.addEventListener(d.api.events.JWPLAYER_PLAYLIST_LOADED,U);ax.addEventListener(d.api.events.JWPLAYER_FULLSCREEN,au);function ad(){try{T=ad;if(!ai){ai=true;V.sendEvent(d.api.events.JWPLAYER_MEDIA_BEFOREPLAY);ai=false;if(aF){aF=false;T=null;return;}}an(ax.item);if(ax.playlist[ax.item].levels[0].file.length>0){if(W||ax.state==d.api.events.state.IDLE){ax.getMedia().load(ax.playlist[ax.item]);W=false;}else{if(ax.state==d.api.events.state.PAUSED){ax.getMedia().play();}}}return true;}catch(g){V.sendEvent(d.api.events.JWPLAYER_ERROR,g);T=null;}return false;}function aE(){try{if(ax.playlist[ax.item].levels[0].file.length>0){switch(ax.state){case d.api.events.state.PLAYING:case d.api.events.state.BUFFERING:if(ax.getMedia()){ax.getMedia().pause();}break;default:if(ai){aF=true;}}}return true;}catch(g){V.sendEvent(d.api.events.JWPLAYER_ERROR,g);}return false;}function aj(h){try{if(ax.playlist[ax.item].levels[0].file.length>0){if(typeof h!="number"){h=parseFloat(h);}switch(ax.state){case d.api.events.state.IDLE:if(ac<0){ac=ax.playlist[ax.item].start;ax.playlist[ax.item].start=h;}if(!ai){ad();}break;case d.api.events.state.PLAYING:case d.api.events.state.PAUSED:case d.api.events.state.BUFFERING:ax.seek(h);break;}}return true;}catch(g){V.sendEvent(d.api.events.JWPLAYER_ERROR,g);}return false;}function am(h){T=null;if(!f.exists(h)){h=true;}try{if((ax.state!=d.api.events.state.IDLE||h)&&ax.getMedia()){ax.getMedia().stop(h);}if(ai){aF=true;}return true;}catch(g){V.sendEvent(d.api.events.JWPLAYER_ERROR,g);}return false;}function az(){try{if(ax.playlist[ax.item].levels[0].file.length>0){if(ax.config.shuffle){an(a());}else{if(ax.item+1==ax.playlist.length){an(0);}else{an(ax.item+1);}}}if(ax.state!=d.api.events.state.IDLE){var g=ax.state;ax.state=d.api.events.state.IDLE;V.sendEvent(d.api.events.JWPLAYER_PLAYER_STATE,{oldstate:g,newstate:d.api.events.state.IDLE});}ad();return true;}catch(h){V.sendEvent(d.api.events.JWPLAYER_ERROR,h);}return false;}function aa(){try{if(ax.playlist[ax.item].levels[0].file.length>0){if(ax.config.shuffle){an(a());}else{if(ax.item===0){an(ax.playlist.length-1);}else{an(ax.item-1);}}}if(ax.state!=d.api.events.state.IDLE){var g=ax.state;ax.state=d.api.events.state.IDLE;V.sendEvent(d.api.events.JWPLAYER_PLAYER_STATE,{oldstate:g,newstate:d.api.events.state.IDLE});}ad();return true;}catch(h){V.sendEvent(d.api.events.JWPLAYER_ERROR,h);}return false;}function a(){var g=null;if(ax.playlist.length>1){while(!f.exists(g)){g=Math.floor(Math.random()*ax.playlist.length);if(g==ax.item){g=null;}}}else{g=0;}return g;}function ab(h){if(!ax.playlist||!ax.playlist[h]){return false;}try{if(ax.playlist[h].levels[0].file.length>0){var g=ax.state;if(g!==d.api.events.state.IDLE){if(ax.playlist[ax.item]&&ax.playlist[ax.item].provider==ax.playlist[h].provider){am(false);}else{am();}}an(h);ad();}return true;}catch(k){V.sendEvent(d.api.events.JWPLAYER_ERROR,k);}return false;}function an(g){if(!ax.playlist[g]){return;}ax.setActiveMediaProvider(ax.playlist[g]);if(ax.item!=g){ax.item=g;W=true;V.sendEvent(d.api.events.JWPLAYER_PLAYLIST_ITEM,{index:g});}}function aC(h){try{an(ax.item);var g=ax.getMedia();switch(typeof(h)){case"number":g.volume(h);break;case"string":g.volume(parseInt(h,10));break;}ax.setVolume(h);return true;}catch(k){V.sendEvent(d.api.events.JWPLAYER_ERROR,k);}return false;}function ar(h){try{an(ax.item);var g=ax.getMedia();if(typeof h=="undefined"){g.mute(!ax.mute);ax.setMute(!ax.mute);}else{if(h.toString().toLowerCase()=="true"){g.mute(true);ax.setMute(true);}else{g.mute(false);ax.setMute(false);}}return true;}catch(k){V.sendEvent(d.api.events.JWPLAYER_ERROR,k);}return false;}function Z(h,k){try{ax.width=h;ax.height=k;aA.resize(h,k);V.sendEvent(d.api.events.JWPLAYER_RESIZE,{width:ax.width,height:ax.height});return true;}catch(g){V.sendEvent(d.api.events.JWPLAYER_ERROR,g);}return false;}function ao(h,g){try{if(typeof h=="undefined"){h=!ax.fullscreen;}if(typeof g=="undefined"){g=true;}if(h!=ax.fullscreen){ax.fullscreen=(h.toString().toLowerCase()=="true");aA.fullscreen(ax.fullscreen);if(g){V.sendEvent(d.api.events.JWPLAYER_FULLSCREEN,{fullscreen:ax.fullscreen});}V.sendEvent(d.api.events.JWPLAYER_RESIZE,{width:ax.width,height:ax.height});}return true;}catch(k){V.sendEvent(d.api.events.JWPLAYER_ERROR,k);}return false;}function b(h){try{am();if(ai){aF=false;}ax.loadPlaylist(h);if(ax.playlist[ax.item].provider){an(ax.item);if(ax.config.autostart.toString().toLowerCase()=="true"&&!f.isIOS()&&!ai){ad();}return true;}else{return false;}}catch(g){V.sendEvent(d.api.events.JWPLAYER_ERROR,g);}return false;}function U(g){if(!f.isIOS()){an(ax.item);if(ax.config.autostart.toString().toLowerCase()=="true"&&!f.isIOS()){ad();}}}function au(g){ao(g.fullscreen,false);}function ap(){try{return ax.getMedia().detachMedia();}catch(g){return null;}}function ay(){try{var h=ax.getMedia().attachMedia();if(typeof T=="function"){T();}}catch(g){return null;}}d.html5.controller.repeatoptions={LIST:"LIST",ALWAYS:"ALWAYS",SINGLE:"SINGLE",NONE:"NONE"};function ae(){if(ax.state!=d.api.events.state.IDLE){return;}T=ae;switch(ax.config.repeat.toUpperCase()){case d.html5.controller.repeatoptions.SINGLE:ad();break;case d.html5.controller.repeatoptions.ALWAYS:if(ax.item==ax.playlist.length-1&&!ax.config.shuffle){ab(0);}else{az();}break;case d.html5.controller.repeatoptions.LIST:if(ax.item==ax.playlist.length-1&&!ax.config.shuffle){am();an(0);}else{az();}break;default:am();break;}}var al=[];function c(g){return function(){if(at){ah(g,arguments);}else{al.push({method:g,arguments:arguments});}};}function ah(g,h){var k=[];for(i=0;i<h.length;i++){k.push(h[i]);}g.apply(this,k);}this.play=c(ad);this.pause=c(aE);this.seek=c(aj);this.stop=c(am);this.next=c(az);this.prev=c(aa);this.item=c(ab);this.setVolume=c(aC);this.setMute=c(ar);this.resize=c(Z);this.setFullscreen=c(ao);this.load=c(b);this.playerReady=aq;this.detachMedia=ap;this.attachMedia=ay;this.beforePlay=function(){return ai;};this.destroy=function(){if(ax.getMedia()){ax.getMedia().destroy();}};};})(jwplayer);(function(b){b.html5.defaultSkin=function(){this.text='<?xml version="1.0" ?><skin author="LongTail Video" name="Five" version="1.1"><components><component name="controlbar"><settings><setting name="margin" value="20"/><setting name="fontsize" value="11"/><setting name="fontcolor" value="0xFFFFFF"/></settings><layout><group position="left"><button name="play"/><divider name="divider"/><button name="prev"/><divider name="divider"/><button name="next"/><divider name="divider"/><text name="elapsed"/></group><group position="center"><slider name="time"/></group><group position="right"><text name="duration"/><divider name="divider"/><button name="blank"/><divider name="divider"/><button name="mute"/><slider name="volume"/><divider name="divider"/><button name="fullscreen"/></group></layout><elements><element name="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAElJREFUOI3t1LERACAMQlFgGvcfxNIhHMK4gsUvUviOmgtNsiAZkBSEKxKEnCYkkQrJn/YwbUNiSDDYRZaQRDaShv+oX9GBZEIuK+8hXVLs+/YAAAAASUVORK5CYII="/><element name="blankButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAYCAYAAAAyJzegAAAAFElEQVQYV2P8//8/AzpgHBUc7oIAGZdH0RjKN8EAAAAASUVORK5CYII="/><element name="capLeft" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAYAAAA7zJfaAAAAQElEQVQIWz3LsRGAMADDQJ0XB5bMINABZ9GENGrszxhjT2WLSqxEJG2JQrTMdV2q5LpOAvyRaVmsi7WdeZ/7+AAaOTq7BVrfOQAAAABJRU5ErkJggg=="/><element name="capRight" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAYAAAA7zJfaAAAAQElEQVQIWz3LsRGAMADDQJ0XB5bMINABZ9GENGrszxhjT2WLSqxEJG2JQrTMdV2q5LpOAvyRaVmsi7WdeZ/7+AAaOTq7BVrfOQAAAABJRU5ErkJggg=="/><element name="divider" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAIAAAC0rgCNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADhJREFUCB0FwcENgEAAw7Aq+893g8APUILNOQcbFRktVGqUVFRkWNz3xTa2sUaLNUosKlRUvvf5AdbWOTtzmzyWAAAAAElFTkSuQmCC"/><element name="playButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAANUlEQVR42u2RsQkAAAjD/NTTPaW6dXLrINJA1kBpGPMAjDWmOgp1HFQXx+b1KOefO4oxY57R73YnVYCQUCQAAAAASUVORK5CYII="/><element name="pauseButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAIUlEQVQ4jWNgGAWjYOiD/0gYG3/U0FFDB4Oho2AUDAYAAEwiL9HrpdMVAAAAAElFTkSuQmCC"/><element name="prevButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAQklEQVQ4y2NgGAWjYOiD/1AMA/JAfB5NjCJD/YH4PRaLyDa0H4lNNUP/DxlD59PCUBCIp3ZEwYA+NZLUKBgFgwEAAN+HLX9sB8u8AAAAAElFTkSuQmCC"/><element name="nextButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAQElEQVQ4y2NgGAWjYOiD/0B8Hojl0cT+U2ooCL8HYn9qGwrD/bQw9P+QMXQ+tSMqnpoRBUpS+tRMUqNgFAwGAADxZy1/mHvFnAAAAABJRU5ErkJggg=="/><element name="timeSliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAOElEQVRIDe3BwQkAIRADwAhhw/nU/kWwUK+KPITMABFh19Y+F0acY8CJvX9wYpXgRElwolSIiMf9ZWEDhtwurFsAAAAASUVORK5CYII="/><element name="timeSliderBuffer" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAN0lEQVRIDe3BwQkAMQwDMBcc55mRe9zi7RR+FCwBEWG39vcfGHFm4MTuhhMlwYlVBSdKhYh43AW/LQMKm1spzwAAAABJRU5ErkJggg=="/><element name="timeSliderProgress" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAIElEQVRIiWNgGAWjYBTQBfynMR61YCRYMApGwSigMQAAiVWPcbq6UkIAAAAASUVORK5CYII="/><element name="timeSliderThumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAYCAYAAAA/OUfnAAAAO0lEQVQYlWP4//8/Awwz0JgDBP/BeN6Cxf/hnI2btiI4u/fsQ3AOHjqK4Jw4eQbBOX/hEoKDYjSd/AMA4cS4mfLsorgAAAAASUVORK5CYII="/><element name="muteButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAJklEQVQ4y2NgGAUjDcwH4v/kaPxPikZkxcNVI9mBQ5XoGAWDFwAAsKAXKQQmfbUAAAAASUVORK5CYII="/><element name="unmuteButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAMklEQVQ4y2NgGAWDHPyntub5xBr6Hwv/Pzk2/yfVG/8psRFE25Oq8T+tQnsIaB4FVAcAi2YVysVY52AAAAAASUVORK5CYII="/><element name="volumeSliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEUAAACmpqampqbBXAu8AAAAAnRSTlMAgJsrThgAAAArSURBVAhbY2AgErBAyA4I2QEhOyBkB4TsYOhAoaCCUCUwDTDtMMNgRuMHAFB5FoGH5T0UAAAAAElFTkSuQmCC"/><element name="volumeSliderProgress" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEUAAAAAAAAAAACDY+nAAAAAAnRSTlMAgJsrThgAAAArSURBVAhbY2AgErBAyA4I2QEhOyBkB4TsYOhAoaCCUCUwDTDtMMNgRuMHAFB5FoGH5T0UAAAAAElFTkSuQmCC"/><element name="volumeSliderCapRight" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAYCAYAAAAyJzegAAAAFElEQVQYV2P8//8/AzpgHBUc7oIAGZdH0RjKN8EAAAAASUVORK5CYII="/><element name="fullscreenButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAQklEQVRIiWNgGAWjYMiD/0iYFDmSLbDHImdPLQtgBpEiR7Zl2NijAA5oEkT/0Whi5UiyAJ8BVMsHNMtoo2AUDAIAAGdcIN3IDNXoAAAAAElFTkSuQmCC"/><element name="normalscreenButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAP0lEQVRIx2NgGAWjYMiD/1RSQ5QB/wmIUWzJfzx8qhj+n4DYCAY0DyJ7PBbYU8sHMEvwiZFtODXUjIJRMJgBACpWIN2ZxdPTAAAAAElFTkSuQmCC"/></elements></component><component name="display"><elements><element name="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAQMAAAAk8RryAAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlOZpuml+rYAAAASSURBVBhXY2AYJuA/GBwY6jQAyDyoK8QcL4QAAAAASUVORK5CYII="/><element name="playIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAiUlEQVR42u3XSw2AMBREURwgAQlIQAISKgUpSEFKJeCg5b0E0kWBTVcD9ySTsL0Jn9IBAAAA+K2UUrBlW/Rr5ZDoIeeuoFkxJD9ss03aIXXQqB9SttoG7ZA6qNcOKdttiwcJh9RB+iFl4SshkRBuLR72+9cvH0SOKI2HRo7x/Fi1/uoCAAAAwLsD8ki99IlO2dQAAAAASUVORK5CYII="/><element name="muteIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAVUlEQVR42u3WMQrAIAxAUW/g/SdvGmvpoOBeSHgPsjj5QTANAACARCJilIhYM0tEvJM+Ik3Id9E957kQIb+F3OdCPC0hPkQriqWx9hp/x/QGAABQyAPLB22VGrpLDgAAAABJRU5ErkJggg=="/><element name="errorIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAA/0lEQVR42u2U0QmEMBAF7cASLMESUoIlpARLSCkpwRJSgiWkhOvAXD4WsgRkyaG5DbyB+Yvg8KITAAAAAAAYk+u61mwk15EjPtlEfihmqIiZR1Qx80ghjgdUuiHXGHSVsoag0x6x8DUoyjD5KovmEJ9NTDMRPIT0mtdIUkjlonuNohO+Ha99DTmkuGgKCTcvebAzx82ZoCWC3/3aIMWSRucaxcjORSFY4xpFdjYJGp1rFGcyCYZ/RVh6AUnfcNZ2zih3/mGj1jVCdiNDwyrq1rA/xMdeEXvDVdnYc1vDc3uPkDObXrlaxbNHSOohQhr/WOeLEWfWTgAAAAAAADzNF9sHJ7PJ57MlAAAAAElFTkSuQmCC"/><element name="bufferIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACBklEQVR42u3Zv0sCYRzH8USTzOsHHEWGkC1HgaDgkktGDjUYtDQ01RDSljQ1BLU02+rk1NTm2NLq4Nx/0L/h9fnCd3j4cnZe1/U8xiO8h3uurufF0/3COd/3/0UWYiEWYiEWYiGJQ+J8xuPxKhXjEMZANinjIZhkGuVRNioE4wVURo4JkHm0xKWmhRAc1bh1EyCUw5BcBIjHiApKa4CErko6DEJwuRo6IRKzyJD8FJAyI3Zp2zRImiBcRhlfo5RtlxCcE3CcDNpGrhYIT2IhAJKilO0VRmzJ32fAMTpBTS0QMfGwlcuKMRftE0DJ0wCJdcOsCkBdXP3Mh9CEFUBTPS9mDZJBG6io4aqVzMdCokCw9H3kT6j/C/9iDdSeUMNC7DkyyxAs/Rk6Qss8FPWRZgdVtUH4DjxEn1zxh+/zj1wHlf4MQhNGrwqA6sY40U8JonRJwEQh+AO3AvCG6gHv4U7IY4krxkroWoAOkoQMGfCBrgIm+YBGqPENpIJ66CJg3x66Y0gnSUidAEEnNr9jjLiWMn5DiWP0OC/oAsCgkq43xBdGDMQr7YASP/vEkHvdl1+JOCcEV5sC4hGEOzTlPuKgd0b0xD4JkRcOgnRRTjdErkYhAsQVq6IdUuPJtmk7BCL3t/h88cx91pKQkI/pkDx6pmYTIjEoxiHsN1YWYiEWYiEWknhflZ5IErA5nr8AAAAASUVORK5CYII="/></elements></component><component name="dock"><settings><setting name="fontcolor" value="0xffffff"/></settings><elements><element name="button" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAQMAAAAk8RryAAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlOZpuml+rYAAAASSURBVBhXY2AYJuA/GBwY6jQAyDyoK8QcL4QAAAAASUVORK5CYII="/></elements></component><component name="playlist"><settings><setting name="backgroundcolor" value="0xe8e8e8"/></settings><elements><element name="item" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAIAAAC1nk4lAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHBJREFUaN7t2MENwCAMBEEe9N8wSKYC/D8YV7CyJoRkVtVImxkZPQInMxoP0XiIxkM0HsGbjjSNBx544IEHHnjggUe/6UQeey0PIh7XTftGxKPj4eXCtLsHHh+ZxkO0Iw8PR55Ni8ZD9Hu/EAoP0dc5RRg9qeRjVF8AAAAASUVORK5CYII="/><element name="sliderCapTop" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAHCAYAAADnCQYGAAAAFUlEQVQokWP8//8/A7UB46ihI9hQAKt6FPPXhVGHAAAAAElFTkSuQmCC"/><element name="sliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAKElEQVQ4y2P4//8/Az68bNmy/+iYkB6GUUNHDR01dNTQUUNHDaXcUABUDOKhcxnsSwAAAABJRU5ErkJggg=="/><element name="sliderThumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAJUlEQVQ4T2P4//8/Ay4MBP9xYbz6Rg0dNXTU0FFDRw0dNZRyQwHH4NBa7GJsXAAAAABJRU5ErkJggg=="/><element name="sliderCapBottom" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAHCAYAAADnCQYGAAAAFUlEQVQokWP8//8/A7UB46ihI9hQAKt6FPPXhVGHAAAAAElFTkSuQmCC"/></elements></component></components></skin>';this.xml=null;if(window.DOMParser){parser=new DOMParser();this.xml=parser.parseFromString(this.text,"text/xml");}else{this.xml=new ActiveXObject("Microsoft.XMLDOM");this.xml.async="false";this.xml.loadXML(this.text);}return this;};})(jwplayer);(function(b){_utils=b.utils;_css=_utils.css;_hide=function(a){_css(a,{display:"none"});};_show=function(a){_css(a,{display:"block"});};b.html5.display=function(aL,ak){var aM={icons:true,showmute:false};var a=_utils.extend({},aM,ak);var aN=aL;var Y={};var aQ;var az;var aw;var ab;var aB;var ai;var aq;var ah=!_utils.exists(aN.skin.getComponentSettings("display").bufferrotation)?15:parseInt(aN.skin.getComponentSettings("display").bufferrotation,10);var aD=!_utils.exists(aN.skin.getComponentSettings("display").bufferinterval)?100:parseInt(aN.skin.getComponentSettings("display").bufferinterval,10);var ar=-1;var aA=b.api.events.state.IDLE;var ag=true;var aR;var at=false,Z=true;var aG="";var aO=false;var aH=false;var aJ;var ax,ad;var aj=new b.html5.eventdispatcher();_utils.extend(this,aj);var an={display:{style:{cursor:"pointer",top:0,left:0,overflow:"hidden"},click:aI},display_icon:{style:{cursor:"pointer",position:"absolute",top:((aN.skin.getSkinElement("display","background").height-aN.skin.getSkinElement("display","playIcon").height)/2),left:((aN.skin.getSkinElement("display","background").width-aN.skin.getSkinElement("display","playIcon").width)/2),border:0,margin:0,padding:0,zIndex:3,display:"none"}},display_iconBackground:{style:{cursor:"pointer",position:"absolute",top:((az-aN.skin.getSkinElement("display","background").height)/2),left:((aQ-aN.skin.getSkinElement("display","background").width)/2),border:0,backgroundImage:(["url(",aN.skin.getSkinElement("display","background").src,")"]).join(""),width:aN.skin.getSkinElement("display","background").width,height:aN.skin.getSkinElement("display","background").height,margin:0,padding:0,zIndex:2,display:"none"}},display_image:{style:{display:"none",width:aQ,height:az,position:"absolute",cursor:"pointer",left:0,top:0,margin:0,padding:0,textDecoration:"none",zIndex:1}},display_text:{style:{zIndex:4,position:"relative",opacity:0.8,backgroundColor:parseInt("FFFFFF",16),color:parseInt("ffffff",16),textAlign:"center",fontFamily:"Arial,sans-serif",padding:"0 5px",fontSize:14}}};aN.jwAddEventListener(b.api.events.JWPLAYER_PLAYER_STATE,aF);aN.jwAddEventListener(b.api.events.JWPLAYER_MEDIA_MUTE,aF);aN.jwAddEventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED,af);aN.jwAddEventListener(b.api.events.JWPLAYER_PLAYLIST_ITEM,aF);aN.jwAddEventListener(b.api.events.JWPLAYER_ERROR,aE);ae();function ae(){Y.display=ao("div","display");Y.display_text=ao("div","display_text");Y.display.appendChild(Y.display_text);Y.display_image=ao("img","display_image");Y.display_image.onerror=function(c){_hide(Y.display_image);};Y.display_image.onload=au;Y.display_icon=ao("div","display_icon");Y.display_iconBackground=ao("div","display_iconBackground");Y.display.appendChild(Y.display_image);Y.display_iconBackground.appendChild(Y.display_icon);Y.display.appendChild(Y.display_iconBackground);aP();setTimeout((function(){aH=true;if(a.icons.toString()=="true"){al();}}),1);}this.getDisplayElement=function(){return Y.display;};this.resize=function(c,d){if(aN.jwGetFullscreen()&&_utils.isMobile()){return;}_css(Y.display,{width:c,height:d});_css(Y.display_text,{width:(c-10),top:((d-_utils.getBoundingClientRect(Y.display_text).height)/2)});_css(Y.display_iconBackground,{top:((d-aN.skin.getSkinElement("display","background").height)/2),left:((c-aN.skin.getSkinElement("display","background").width)/2)});if(aQ!=c||az!=d){aQ=c;az=d;aR=undefined;al();}if(!aN.jwGetFullscreen()){ax=c;ad=d;}aS();aF({});};this.show=function(){if(aO){aO=false;aC(aN.jwGetState());}};this.hide=function(){if(!aO){ap();aO=true;}};function au(c){aw=Y.display_image.naturalWidth;ab=Y.display_image.naturalHeight;aS();if(aN.jwGetState()==b.api.events.state.IDLE||aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()].provider=="sound"){_css(Y.display_image,{display:"block",opacity:0});_utils.fadeTo(Y.display_image,1,0.1);}at=false;}function aS(){if(aN.jwGetFullscreen()&&aN.jwGetStretching()==b.utils.stretching.EXACTFIT){var c=document.createElement("div");_utils.stretch(b.utils.stretching.UNIFORM,c,aQ,az,ax,ad);_utils.stretch(b.utils.stretching.EXACTFIT,Y.display_image,_utils.parseDimension(c.style.width),_utils.parseDimension(c.style.height),aw,ab);_css(Y.display_image,{left:c.style.left,top:c.style.top});}else{_utils.stretch(aN.jwGetStretching(),Y.display_image,aQ,az,aw,ab);}}function ao(e,d){var c=document.createElement(e);c.id=aN.id+"_jwplayer_"+d;_css(c,an[d].style);return c;}function aP(){for(var c in Y){if(_utils.exists(an[c].click)){Y[c].onclick=an[c].click;}}}function aI(c){if(typeof c.preventDefault!="undefined"){c.preventDefault();}else{c.returnValue=false;}if(typeof aJ=="function"){aJ(c);return;}else{if(aN.jwGetState()!=b.api.events.state.PLAYING){aN.jwPlay();}else{aN.jwPause();}}}function aa(c){if(aq){ap();return;}Y.display_icon.style.backgroundImage=(["url(",aN.skin.getSkinElement("display",c).src,")"]).join("");_css(Y.display_icon,{width:aN.skin.getSkinElement("display",c).width,height:aN.skin.getSkinElement("display",c).height,top:(aN.skin.getSkinElement("display","background").height-aN.skin.getSkinElement("display",c).height)/2,left:(aN.skin.getSkinElement("display","background").width-aN.skin.getSkinElement("display",c).width)/2});aT();if(_utils.exists(aN.skin.getSkinElement("display",c+"Over"))){Y.display_icon.onmouseover=function(d){Y.display_icon.style.backgroundImage=["url(",aN.skin.getSkinElement("display",c+"Over").src,")"].join("");};Y.display_icon.onmouseout=function(d){Y.display_icon.style.backgroundImage=["url(",aN.skin.getSkinElement("display",c).src,")"].join("");};}else{Y.display_icon.onmouseover=null;Y.display_icon.onmouseout=null;}}function ap(){if(a.icons.toString()=="true"){_hide(Y.display_icon);_hide(Y.display_iconBackground);ac();}}function aT(){if(!aO&&a.icons.toString()=="true"){_show(Y.display_icon);_show(Y.display_iconBackground);al();}}function aE(c){aq=true;ap();Y.display_text.innerHTML=c.message;_show(Y.display_text);Y.display_text.style.top=((az-_utils.getBoundingClientRect(Y.display_text).height)/2)+"px";}function am(){Z=false;Y.display_image.style.display="none";}function af(){aA="";}function aF(d){if((d.type==b.api.events.JWPLAYER_PLAYER_STATE||d.type==b.api.events.JWPLAYER_PLAYLIST_ITEM)&&aq){aq=false;_hide(Y.display_text);}var c=aN.jwGetState();if(c==aA){return;}aA=c;if(ar>=0){clearTimeout(ar);}if(ag||aN.jwGetState()==b.api.events.state.PLAYING||aN.jwGetState()==b.api.events.state.PAUSED){aC(aN.jwGetState());}else{ar=setTimeout(aK(aN.jwGetState()),500);}}function aK(c){return(function(){aC(c);});}function aC(c){if(_utils.exists(ai)){clearInterval(ai);ai=null;_utils.animations.rotate(Y.display_icon,0);}switch(c){case b.api.events.state.BUFFERING:if(_utils.isIPod()){am();ap();}else{if(aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()].provider=="sound"){ay();}aB=0;ai=setInterval(function(){aB+=ah;_utils.animations.rotate(Y.display_icon,aB%360);},aD);aa("bufferIcon");ag=true;}break;case b.api.events.state.PAUSED:if(!_utils.isIPod()){if(aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()].provider!="sound"){_css(Y.display_image,{background:"transparent no-repeat center center"});}aa("playIcon");ag=true;}break;case b.api.events.state.IDLE:if(aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()]&&aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()].image){ay();}else{am();}aa("playIcon");ag=true;break;default:if(aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()]&&aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()].provider=="sound"){if(_utils.isIPod()){am();ag=false;}else{ay();}}else{am();ag=false;}if(aN.jwGetMute()&&a.showmute){aa("muteIcon");}else{ap();}break;}ar=-1;}function ay(){if(aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()]){var c=aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()].image;if(c){if(c!=aG){aG=c;at=true;Y.display_image.src=_utils.getAbsolutePath(c);}else{if(!(at||Z)){Z=true;Y.display_image.style.opacity=0;Y.display_image.style.display="block";_utils.fadeTo(Y.display_image,1,0.1);}}}}}function av(c){return function(){if(!aH){return;}if(!aO&&aR!=c){aR=c;aj.sendEvent(c,{component:"display",boundingRect:_utils.getDimensions(Y.display_iconBackground)});}};}var al=av(b.api.events.JWPLAYER_COMPONENT_SHOW);var ac=av(b.api.events.JWPLAYER_COMPONENT_HIDE);this.setAlternateClickHandler=function(c){aJ=c;};this.revertAlternateClickHandler=function(){aJ=undefined;};return this;};})(jwplayer);(function(e){var f=e.utils;var d=f.css;e.html5.dock=function(H,P){function c(){return{align:e.html5.view.positions.RIGHT};}var X=f.extend({},c(),P);if(X.align=="FALSE"){return;}var ab={};var V=[];var aa;var L;var ae=false;var Q=false;var ad={x:0,y:0,width:0,height:0};var a;var W;var b;var Y=new e.html5.eventdispatcher();f.extend(this,Y);var R=document.createElement("div");R.id=H.id+"_jwplayer_dock";R.style.opacity=1;U();H.jwAddEventListener(e.api.events.JWPLAYER_PLAYER_STATE,T);this.getDisplayElement=function(){return R;};this.setButton=function(g,l,k,h){if(!l&&ab[g]){f.arrays.remove(V,g);R.removeChild(ab[g].div);delete ab[g];}else{if(l){if(!ab[g]){ab[g]={};}ab[g].handler=l;ab[g].outGraphic=k;ab[g].overGraphic=h;if(!ab[g].div){V.push(g);ab[g].div=document.createElement("div");ab[g].div.style.position="absolute";R.appendChild(ab[g].div);ab[g].div.appendChild(document.createElement("div"));ab[g].div.childNodes[0].style.position="relative";ab[g].div.childNodes[0].style.width="100%";ab[g].div.childNodes[0].style.height="100%";ab[g].div.childNodes[0].style.zIndex=10;ab[g].div.childNodes[0].style.cursor="pointer";ab[g].div.appendChild(document.createElement("img"));ab[g].div.childNodes[1].style.position="absolute";ab[g].div.childNodes[1].style.left=0;ab[g].div.childNodes[1].style.top=0;if(H.skin.getSkinElement("dock","button")){ab[g].div.childNodes[1].src=H.skin.getSkinElement("dock","button").src;}ab[g].div.childNodes[1].style.zIndex=9;ab[g].div.childNodes[1].style.cursor="pointer";ab[g].div.onmouseover=function(){if(ab[g].overGraphic){ab[g].div.childNodes[0].style.background=ac(ab[g].overGraphic);}if(H.skin.getSkinElement("dock","buttonOver")){ab[g].div.childNodes[1].src=H.skin.getSkinElement("dock","buttonOver").src;}};ab[g].div.onmouseout=function(){if(ab[g].outGraphic){ab[g].div.childNodes[0].style.background=ac(ab[g].outGraphic);}if(H.skin.getSkinElement("dock","button")){ab[g].div.childNodes[1].src=H.skin.getSkinElement("dock","button").src;}};if(H.skin.getSkinElement("dock","button")){ab[g].div.childNodes[1].src=H.skin.getSkinElement("dock","button").src;}}if(ab[g].outGraphic){ab[g].div.childNodes[0].style.background=ac(ab[g].outGraphic);}else{if(ab[g].overGraphic){ab[g].div.childNodes[0].style.background=ac(ab[g].overGraphic);}}if(l){ab[g].div.onclick=function(m){m.preventDefault();e(H.id).callback(g);if(ab[g].overGraphic){ab[g].div.childNodes[0].style.background=ac(ab[g].overGraphic);}if(H.skin.getSkinElement("dock","button")){ab[g].div.childNodes[1].src=H.skin.getSkinElement("dock","button").src;}};}}}Z(aa,L);};function ac(g){return"url("+g+") no-repeat center center";}function N(g){}function Z(w,h){U();if(V.length>0){var v=10;var k=v;var n=-1;var m=H.skin.getSkinElement("dock","button").height;var o=H.skin.getSkinElement("dock","button").width;var q=w-o-v;var l,r;if(X.align==e.html5.view.positions.LEFT){n=1;q=v;}for(var u=0;u<V.length;u++){var g=Math.floor(k/h);if((k+m+v)>((g+1)*h)){k=((g+1)*h)+v;g=Math.floor(k/h);}var t=ab[V[u]].div;t.style.top=(k%h)+"px";t.style.left=(q+(H.skin.getSkinElement("dock","button").width+v)*g*n)+"px";var p={x:f.parseDimension(t.style.left),y:f.parseDimension(t.style.top),width:o,height:m};if(!l||(p.x<=l.x&&p.y<=l.y)){l=p;}if(!r||(p.x>=r.x&&p.y>=r.y)){r=p;}t.style.width=o+"px";t.style.height=m+"px";k+=H.skin.getSkinElement("dock","button").height+v;}ad={x:l.x,y:l.y,width:r.x-l.x+r.width,height:l.y-r.y+r.height};}if(Q!=H.jwGetFullscreen()||aa!=w||L!=h){aa=w;L=h;Q=H.jwGetFullscreen();a=undefined;setTimeout(O,1);}}function ag(g){return function(){if(!ae&&a!=g&&V.length>0){a=g;Y.sendEvent(g,{component:"dock",boundingRect:ad});}};}function T(g){if(f.isMobile()){if(g.newstate==e.api.events.state.IDLE){I();}else{af();}}else{S();}}function S(g){if(ae){return;}clearTimeout(b);if(P.position==e.html5.view.positions.OVER||H.jwGetFullscreen()){switch(H.jwGetState()){case e.api.events.state.PAUSED:case e.api.events.state.IDLE:if(R&&R.style.opacity<1&&(!P.idlehide||f.exists(g))){M();}if(P.idlehide){b=setTimeout(function(){K();},2000);}break;default:if(f.exists(g)){M();}b=setTimeout(function(){K();},2000);break;}}else{M();}}var O=ag(e.api.events.JWPLAYER_COMPONENT_SHOW);var J=ag(e.api.events.JWPLAYER_COMPONENT_HIDE);this.resize=Z;var I=function(){d(R,{display:"block"});if(ae){ae=false;O();}};var af=function(){d(R,{display:"none"});if(!ae){J();ae=true;}};function K(){if(!ae){J();if(R.style.opacity==1){f.cancelAnimation(R);f.fadeTo(R,0,0.1,1,0);}}}function M(){if(!ae){O();if(R.style.opacity==0){f.cancelAnimation(R);f.fadeTo(R,1,0.1,0,0);}}}function U(){try{W=document.getElementById(H.id);W.addEventListener("mousemove",S);}catch(g){f.log("Could not add mouse listeners to dock: "+g);}}this.hide=af;this.show=I;return this;};})(jwplayer);(function(b){b.html5.eventdispatcher=function(e,a){var f=new b.events.eventdispatcher(a);b.utils.extend(this,f);this.sendEvent=function(d,c){if(!b.utils.exists(c)){c={};}b.utils.extend(c,{id:e,version:b.version,type:d});f.sendEvent(d,c);};};})(jwplayer);(function(d){var c=d.utils;d.html5.instream=function(K,af,M,a){var U={controlbarseekable:"always",controlbarpausable:true,controlbarstoppable:true,playlistclickable:true};var Q,ac,X=K,T=af,ai=M,O=a,Y,N,ad,P,am,al,ak,ag,aa,aj=false,ah,an,ae=this;this.load=function(g,f){ao();aj=true;ac=c.extend(U,f);Q=d.html5.playlistitem(g);S();an=document.createElement("div");an.id=ae.id+"_instream_container";O.detachMedia();Y=ak.getDisplayElement();al=T.playlist[T.item];am=X.jwGetState();if(am==d.api.events.state.BUFFERING||am==d.api.events.state.PLAYING){Y.pause();}N=Y.src?Y.src:Y.currentSrc;ad=Y.innerHTML;P=Y.currentTime;aa=new d.html5.display(ae,c.extend({},T.plugins.config.display));aa.setAlternateClickHandler(function(h){if(_fakemodel.state==d.api.events.state.PAUSED){ae.jwInstreamPlay();}else{V(d.api.events.JWPLAYER_INSTREAM_CLICK,h);}});an.appendChild(aa.getDisplayElement());if(!c.isMobile()){ag=new d.html5.controlbar(ae,c.extend({},T.plugins.config.controlbar,{}));if(T.plugins.config.controlbar.position==d.html5.view.positions.OVER){an.appendChild(ag.getDisplayElement());}else{var e=T.plugins.object.controlbar.getDisplayElement().parentNode;e.appendChild(ag.getDisplayElement());}}ai.setupInstream(an,Y);ab();ak.load(Q);};this.jwInstreamDestroy=function(f){if(!aj){return;}aj=false;if(am!=d.api.events.state.IDLE){ak.load(al,false);ak.stop(false);}else{ak.stop(true);}ak.detachMedia();ai.destroyInstream();if(ag){try{ag.getDisplayElement().parentNode.removeChild(ag.getDisplayElement());}catch(e){}}V(d.api.events.JWPLAYER_INSTREAM_DESTROYED,{reason:(f?"complete":"destroyed")},true);O.attachMedia();if(am==d.api.events.state.BUFFERING||am==d.api.events.state.PLAYING){Y.play();if(T.playlist[T.item]==al){T.getMedia().seek(P);}}return;};this.jwInstreamAddEventListener=function(f,e){ah.addEventListener(f,e);};this.jwInstreamRemoveEventListener=function(f,e){ah.removeEventListener(f,e);};this.jwInstreamPlay=function(){if(!aj){return;}ak.play(true);};this.jwInstreamPause=function(){if(!aj){return;}ak.pause(true);};this.jwInstreamSeek=function(e){if(!aj){return;}ak.seek(e);};this.jwInstreamGetState=function(){if(!aj){return undefined;}return _fakemodel.state;};this.jwInstreamGetPosition=function(){if(!aj){return undefined;}return _fakemodel.position;};this.jwInstreamGetDuration=function(){if(!aj){return undefined;}return _fakemodel.duration;};this.playlistClickable=function(){return(!aj||ac.playlistclickable.toString().toLowerCase()=="true");};function W(){_fakemodel=new d.html5.model(this,T.getMedia()?T.getMedia().getDisplayElement():T.container,T);ah=new d.html5.eventdispatcher();X.jwAddEventListener(d.api.events.JWPLAYER_RESIZE,ab);X.jwAddEventListener(d.api.events.JWPLAYER_FULLSCREEN,ab);}function ao(){_fakemodel.setMute(T.mute);_fakemodel.setVolume(T.volume);}function S(){if(!ak){ak=new d.html5.mediavideo(_fakemodel,T.getMedia()?T.getMedia().getDisplayElement():T.container);ak.addGlobalListener(L);ak.addEventListener(d.api.events.JWPLAYER_MEDIA_META,b);ak.addEventListener(d.api.events.JWPLAYER_MEDIA_COMPLETE,R);ak.addEventListener(d.api.events.JWPLAYER_MEDIA_BUFFER_FULL,Z);}ak.attachMedia();}function L(e){if(aj){V(e.type,e);}}function Z(e){if(aj){ak.play();}}function R(e){if(aj){setTimeout(function(){ae.jwInstreamDestroy(true);},10);}}function b(e){if(e.metadata.width&&e.metadata.height){ai.resizeMedia();}}function V(f,e,g){if(aj||g){ah.sendEvent(f,e);}}function ab(){var f=T.plugins.object.display.getDisplayElement().style;if(ag){var e=T.plugins.object.controlbar.getDisplayElement().style;ag.resize(c.parseDimension(f.width),c.parseDimension(f.height));_css(ag.getDisplayElement(),c.extend({},e,{zIndex:1001,opacity:1}));}if(aa){aa.resize(c.parseDimension(f.width),c.parseDimension(f.height));_css(aa.getDisplayElement(),c.extend({},f,{zIndex:1000}));}if(ai){ai.resizeMedia();}}this.jwPlay=function(e){if(ac.controlbarpausable.toString().toLowerCase()=="true"){this.jwInstreamPlay();}};this.jwPause=function(e){if(ac.controlbarpausable.toString().toLowerCase()=="true"){this.jwInstreamPause();}};this.jwStop=function(){if(ac.controlbarstoppable.toString().toLowerCase()=="true"){this.jwInstreamDestroy();X.jwStop();}};this.jwSeek=function(e){switch(ac.controlbarseekable.toLowerCase()){case"always":this.jwInstreamSeek(e);break;case"backwards":if(_fakemodel.position>e){this.jwInstreamSeek(e);}break;}};this.jwGetPosition=function(){};this.jwGetDuration=function(){};this.jwGetWidth=X.jwGetWidth;this.jwGetHeight=X.jwGetHeight;this.jwGetFullscreen=X.jwGetFullscreen;this.jwSetFullscreen=X.jwSetFullscreen;this.jwGetVolume=function(){return T.volume;};this.jwSetVolume=function(e){ak.volume(e);X.jwSetVolume(e);};this.jwGetMute=function(){return T.mute;};this.jwSetMute=function(e){ak.mute(e);X.jwSetMute(e);};this.jwGetState=function(){return _fakemodel.state;};this.jwGetPlaylist=function(){return[Q];};this.jwGetPlaylistIndex=function(){return 0;};this.jwGetStretching=function(){return T.config.stretching;};this.jwAddEventListener=function(e,f){ah.addEventListener(e,f);};this.jwRemoveEventListener=function(e,f){ah.removeEventListener(e,f);};this.skin=X.skin;this.id=X.id+"_instream";W();return this;};})(jwplayer);(function(d){var c={prefix:"",file:"",link:"",linktarget:"_top",margin:8,out:0.5,over:1,timeout:5,hide:true,position:"bottom-left"};_css=d.utils.css;d.html5.logo=function(A,w){var x=A;var a;var J;var b;var F=false;G();function G(){z();x.jwAddEventListener(d.api.events.JWPLAYER_PLAYER_STATE,E);K();C();}function z(){if(c.prefix){var f=A.version.split(/\W/).splice(0,2).join("/");if(c.prefix.indexOf(f)<0){c.prefix+=f+"/";}}if(w.position==d.html5.view.positions.OVER){w.position=c.position;}try{if(window.location.href.indexOf("https")==0){c.prefix=c.prefix.replace("http://l.longtailvideo.com","https://securel.longtailvideo.com");}}catch(e){}J=d.utils.extend({},c,w);}function K(){b=document.createElement("img");b.id=x.id+"_jwplayer_logo";b.style.display="none";b.onload=function(e){_css(b,D());y();};if(!J.file){return;}if(J.file.indexOf("/")>=0){b.src=J.file;}else{b.src=J.prefix+J.file;}}if(!J.file){return;}this.resize=function(e,f){};this.getDisplayElement=function(){return b;};function C(){if(J.link){b.onmouseover=H;b.onmouseout=y;b.onclick=v;}else{this.mouseEnabled=false;}}function v(e){if(typeof e!="undefined"){e.stopPropagation();}if(!F){return;}x.jwPause();x.jwSetFullscreen(false);if(J.link){window.open(J.link,J.linktarget);}return;}function y(e){if(J.link&&F){b.style.opacity=J.out;}return;}function H(e){if(F){b.style.opacity=J.over;}return;}function D(){var e={textDecoration:"none",position:"absolute",cursor:"pointer"};e.display=(J.hide.toString()=="true"&&!F)?"none":"block";var f=J.position.toLowerCase().split("-");for(var g in f){e[f[g]]=parseInt(J.margin);}return e;}function B(){if(J.hide.toString()=="true"){b.style.display="block";b.style.opacity=0;d.utils.fadeTo(b,J.out,0.1,parseFloat(b.style.opacity));a=setTimeout(function(){I();},J.timeout*1000);}F=true;}function I(){F=false;if(J.hide.toString()=="true"){d.utils.fadeTo(b,0,0.1,parseFloat(b.style.opacity));}}function E(e){if(e.newstate==d.api.events.state.BUFFERING){clearTimeout(a);B();}}return this;};})(jwplayer);(function(h){var o={ended:h.api.events.state.IDLE,playing:h.api.events.state.PLAYING,pause:h.api.events.state.PAUSED,buffering:h.api.events.state.BUFFERING};var m=h.utils;var k=m.isMobile();var l,n;var p={};h.html5.mediavideo=function(aD,ae){var aa={abort:am,canplay:aw,canplaythrough:aw,durationchange:aq,emptied:am,ended:aw,error:ax,loadeddata:aq,loadedmetadata:aq,loadstart:aw,pause:aw,play:am,playing:aw,progress:ag,ratechange:am,seeked:aw,seeking:aw,stalled:aw,suspend:aw,timeupdate:g,volumechange:aA,waiting:aw,canshowcurrentframe:am,dataunavailable:am,empty:am,load:aE,loadedfirstframe:am,webkitfullscreenchange:aB};var ai={};var Z=new h.html5.eventdispatcher();m.extend(this,Z);var aC=aD,aj=ae,az,aF,ah,a,af,X,Y=false,ar=false,an=false,ab,ad,d;c();this.load=function(t,r){if(typeof r=="undefined"){r=true;}if(!ar){return;}a=t;an=(a.duration>0);aC.duration=a.duration;m.empty(az);az.style.display="block";az.style.opacity=1;if(l&&n){az.style.width=l;az.style.height=n;l=_previousHieght=0;}d=0;av(t.levels);if(t.levels&&t.levels.length>0){if(t.levels.length==1||m.isIOS()){az.src=t.levels[0].file;}else{if(az.src){az.removeAttribute("src");}for(var u=0;u<t.levels.length;u++){var q=az.ownerDocument.createElement("source");q.src=t.levels[u].file;az.appendChild(q);d++;}}}else{az.src=t.file;}az.volume=aC.volume/100;az.muted=aC.mute;if(k){e();}ab=ad=ah=false;aC.buffer=0;if(!m.exists(t.start)){t.start=0;}X=(t.start>0)?t.start:-1;at(h.api.events.JWPLAYER_MEDIA_LOADED);if((!k&&t.levels.length==1)||!Y){az.load();}Y=false;if(r){ao(h.api.events.state.BUFFERING);at(h.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:0});ak();}if(az.videoWidth>0&&az.videoHeight>0){aq();}};this.play=function(){if(!ar){return;}ak();if(ad){ao(h.api.events.state.PLAYING);}else{az.load();ao(h.api.events.state.BUFFERING);}az.play();};this.pause=function(){if(!ar){return;}az.pause();ao(h.api.events.state.PAUSED);};this.seek=function(q){if(!ar){return;}if(!ah&&az.readyState>0){if(!(aC.duration<=0||isNaN(aC.duration))&&!(aC.position<=0||isNaN(aC.position))){az.currentTime=q;az.play();}}else{X=q;}};var al=this.stop=function(u){if(!ar){return;}if(!m.exists(u)){u=true;}au();if(u){ad=false;var t=navigator.userAgent;if(az.webkitSupportsFullscreen){try{az.webkitExitFullscreen();}catch(r){}}az.style.opacity=0;ap();if(m.isIE()){az.src="";}else{az.removeAttribute("src");}m.empty(az);az.load();Y=true;}if(m.isIPod()){l=az.style.width;n=az.style.height;az.style.width=0;az.style.height=0;}else{if(m.isIPad()){az.style.display="none";try{az.webkitExitFullscreen();}catch(q){}}}ao(h.api.events.state.IDLE);};this.fullscreen=function(q){if(q===true){this.resize("100%","100%");}else{this.resize(aC.config.width,aC.config.height);}};this.resize=function(q,r){};this.volume=function(q){if(!k){az.volume=q/100;at(h.api.events.JWPLAYER_MEDIA_VOLUME,{volume:(q/100)});}};this.mute=function(q){if(!k){az.muted=q;at(h.api.events.JWPLAYER_MEDIA_MUTE,{mute:q});}};this.getDisplayElement=function(){return az;};this.hasChrome=function(){return k&&(aF==h.api.events.state.PLAYING);};this.detachMedia=function(){ar=false;return this.getDisplayElement();};this.attachMedia=function(){ar=true;};this.destroy=function(){if(az&&az.parentNode){au();for(var q in aa){az.removeEventListener(q,ac(q,aa[q]),true);}m.empty(az);aj=az.parentNode;az.parentNode.removeChild(az);delete p[aC.id];az=null;}};function ac(q,r){if(ai[q]){return ai[q];}else{ai[q]=function(t){if(m.exists(t.target.parentNode)){r(t);}};return ai[q];}}function c(){aF=h.api.events.state.IDLE;ar=true;az=ay();az.setAttribute("x-webkit-airplay","allow");if(aj.parentNode){az.id=aj.id;aj.parentNode.replaceChild(az,aj);}}function ay(){var r=p[aC.id];if(!r){if(aj.tagName.toLowerCase()=="video"){r=aj;}else{r=document.createElement("video");}p[aC.id]=r;if(!r.id){r.id=aj.id;}}for(var q in aa){r.addEventListener(q,ac(q,aa[q]),true);}return r;}function ao(r){if(r==h.api.events.state.PAUSED&&aF==h.api.events.state.IDLE){return;}if(k){switch(r){case h.api.events.state.PLAYING:e();break;case h.api.events.state.BUFFERING:case h.api.events.state.PAUSED:ap();break;}}if(aF!=r){var q=aF;aC.state=aF=r;at(h.api.events.JWPLAYER_PLAYER_STATE,{oldstate:q,newstate:r});}}function am(q){}function aA(r){var q=Math.round(az.volume*100);at(h.api.events.JWPLAYER_MEDIA_VOLUME,{volume:q},true);at(h.api.events.JWPLAYER_MEDIA_MUTE,{mute:az.muted},true);}function ag(q){if(!ar){return;}var r;if(m.exists(q)&&q.lengthComputable&&q.total){r=q.loaded/q.total*100;}else{if(m.exists(az.buffered)&&(az.buffered.length>0)){var t=az.buffered.length-1;if(t>=0){r=az.buffered.end(t)/az.duration*100;}}}if(m.useNativeFullscreen()&&m.exists(az.webkitDisplayingFullscreen)){if(aC.fullscreen!=az.webkitDisplayingFullscreen){at(h.api.events.JWPLAYER_FULLSCREEN,{fullscreen:az.webkitDisplayingFullscreen},true);}}if(ad===false&&aF==h.api.events.state.BUFFERING){at(h.api.events.JWPLAYER_MEDIA_BUFFER_FULL);ad=true;}if(!ab){if(r==100){ab=true;}if(m.exists(r)&&(r>aC.buffer)){aC.buffer=Math.round(r);at(h.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:Math.round(r)});}}}function g(q){if(!ar){return;}if(m.exists(q)&&m.exists(q.target)){if(an>0){if(!isNaN(q.target.duration)&&(isNaN(aC.duration)||aC.duration<1)){if(q.target.duration==Infinity){aC.duration=0;}else{aC.duration=Math.round(q.target.duration*10)/10;}}}if(!ah&&az.readyState>0){ao(h.api.events.state.PLAYING);}if(aF==h.api.events.state.PLAYING){if(az.readyState>0&&(X>-1||!ah)){ah=true;try{if(az.currentTime!=X&&X>-1){az.currentTime=X;X=-1;}}catch(r){}az.volume=aC.volume/100;az.muted=aC.mute;}aC.position=aC.duration>0?(Math.round(q.target.currentTime*10)/10):0;at(h.api.events.JWPLAYER_MEDIA_TIME,{position:aC.position,duration:aC.duration});if(aC.position>=aC.duration&&(aC.position>0||aC.duration>0)){f();return;}}}ag(q);}function aE(q){}function aw(q){if(!ar){return;}if(l&&n){az.style.width=l;az.style.height=n;l=_previousHieght=0;}if(o[q.type]){if(q.type=="ended"){f();}else{ao(o[q.type]);}}}function aq(r){if(!ar){return;}var t=Math.round(az.duration*10)/10;var q={height:az.videoHeight,width:az.videoWidth,duration:t};if(!an){if((aC.duration<t||isNaN(aC.duration))&&az.duration!=Infinity){aC.duration=t;}}at(h.api.events.JWPLAYER_MEDIA_META,{metadata:q});}function ax(q){if(!ar){return;}if(aF==h.api.events.state.IDLE){return;}var r="There was an error: ";if((q.target.error&&q.target.tagName.toLowerCase()=="video")||q.target.parentNode.error&&q.target.parentNode.tagName.toLowerCase()=="video"){var t=!m.exists(q.target.error)?q.target.parentNode.error:q.target.error;switch(t.code){case t.MEDIA_ERR_ABORTED:m.log("User aborted the video playback.");return;case t.MEDIA_ERR_NETWORK:r="A network error caused the video download to fail part-way: ";break;case t.MEDIA_ERR_DECODE:r="The video playback was aborted due to a corruption problem or because the video used features your browser did not support: ";break;case t.MEDIA_ERR_SRC_NOT_SUPPORTED:r="The video could not be loaded, either because the server or network failed or because the format is not supported: ";break;default:r="An unknown error occurred: ";break;}}else{if(q.target.tagName.toLowerCase()=="source"){d--;if(d>0){return;}if(m.userAgentMatch(/firefox/i)){m.log("The video could not be loaded, either because the server or network failed or because the format is not supported.");al(false);return;}else{r="The video could not be loaded, either because the server or network failed or because the format is not supported: ";}}else{m.log("An unknown error occurred.  Continuing...");return;}}al(false);r+=b();_error=true;at(h.api.events.JWPLAYER_ERROR,{message:r});return;}function b(){var r="";for(var t in a.levels){var u=a.levels[t];var q=aj.ownerDocument.createElement("source");r+=h.utils.getAbsolutePath(u.file);if(t<(a.levels.length-1)){r+=", ";}}return r;}function ak(){if(!m.exists(af)){af=setInterval(function(){ag();},100);}}function au(){clearInterval(af);af=null;}function f(){if(aF==h.api.events.state.PLAYING){al(false);at(h.api.events.JWPLAYER_MEDIA_BEFORECOMPLETE);at(h.api.events.JWPLAYER_MEDIA_COMPLETE);}}function aB(q){if(m.exists(az.webkitDisplayingFullscreen)){if(aC.fullscreen&&!az.webkitDisplayingFullscreen){at(h.api.events.JWPLAYER_FULLSCREEN,{fullscreen:false},true);}}}function av(r){if(r.length>0&&m.userAgentMatch(/Safari/i)&&!m.userAgentMatch(/Chrome/i)){var u=-1;for(var t=0;t<r.length;t++){switch(m.extension(r[t].file)){case"mp4":if(u<0){u=t;}break;case"webm":r.splice(t,1);break;}}if(u>0){var q=r.splice(u,1)[0];r.unshift(q);}}}function e(){setTimeout(function(){az.setAttribute("controls","controls");},100);}function ap(){setTimeout(function(){az.removeAttribute("controls");},250);}function at(t,q,r){if(ar||r){if(q){Z.sendEvent(t,q);}else{Z.sendEvent(t);}}}};})(jwplayer);(function(e){var f={ended:e.api.events.state.IDLE,playing:e.api.events.state.PLAYING,pause:e.api.events.state.PAUSED,buffering:e.api.events.state.BUFFERING};var d=e.utils.css;e.html5.mediayoutube=function(r,w){var v=new e.html5.eventdispatcher();e.utils.extend(this,v);var p=r;var t=document.getElementById(w.id);var u=e.api.events.state.IDLE;var b,c;function q(h){if(u!=h){var g=u;p.state=h;u=h;v.sendEvent(e.api.events.JWPLAYER_PLAYER_STATE,{oldstate:g,newstate:h});}}this.getDisplayElement=this.detachMedia=function(){return t;};this.attachMedia=function(){};this.play=function(){if(u==e.api.events.state.IDLE){v.sendEvent(e.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:100});v.sendEvent(e.api.events.JWPLAYER_MEDIA_BUFFER_FULL);q(e.api.events.state.PLAYING);}else{if(u==e.api.events.state.PAUSED){q(e.api.events.state.PLAYING);}}};this.pause=function(){q(e.api.events.state.PAUSED);};this.seek=function(g){};this.stop=function(g){if(!_utils.exists(g)){g=true;}p.position=0;q(e.api.events.state.IDLE);if(g){d(t,{display:"none"});}};this.volume=function(g){p.setVolume(g);v.sendEvent(e.api.events.JWPLAYER_MEDIA_VOLUME,{volume:Math.round(g)});};this.mute=function(g){t.muted=g;v.sendEvent(e.api.events.JWPLAYER_MEDIA_MUTE,{mute:g});};this.resize=function(g,h){if(g*h>0&&b){b.width=c.width=g;b.height=c.height=h;}};this.fullscreen=function(g){if(g===true){this.resize("100%","100%");}else{this.resize(p.config.width,p.config.height);}};this.load=function(g){a(g);d(b,{display:"block"});q(e.api.events.state.BUFFERING);v.sendEvent(e.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:0});v.sendEvent(e.api.events.JWPLAYER_MEDIA_LOADED);this.play();};this.hasChrome=function(){return(u!=e.api.events.state.IDLE);};function a(g){var l=g.levels[0].file;l=["http://www.youtube.com/v/",x(l),"&amp;hl=en_US&amp;fs=1&autoplay=1"].join("");b=document.createElement("object");b.id=t.id;b.style.position="absolute";var h={movie:l,allowfullscreen:"true",allowscriptaccess:"always"};for(var o in h){var k=document.createElement("param");k.name=o;k.value=h[o];b.appendChild(k);}c=document.createElement("embed");b.appendChild(c);var n={src:l,type:"application/x-shockwave-flash",allowfullscreen:"true",allowscriptaccess:"always",width:b.width,height:b.height};for(var m in n){c.setAttribute(m,n[m]);}b.appendChild(c);b.style.zIndex=2147483000;if(t!=b&&t.parentNode){t.parentNode.replaceChild(b,t);}t=b;}function x(k){var l=k.split(/\?|\#\!/);var g="";for(var h=0;h<l.length;h++){if(l[h].substr(0,2)=="v="){g=l[h].substr(2);}}if(g==""){if(k.indexOf("/v/")>=0){g=k.substr(k.indexOf("/v/")+3);}else{if(k.indexOf("youtu.be")>=0){g=k.substr(k.indexOf("youtu.be/")+9);}else{g=k;}}}if(g.indexOf("?")>-1){g=g.substr(0,g.indexOf("?"));}if(g.indexOf("&")>-1){g=g.substr(0,g.indexOf("&"));}return g;}this.embed=c;return this;};})(jwplayer);(function(jwplayer){var _configurableStateVariables=["width","height","start","duration","volume","mute","fullscreen","item","plugins","stretching"];var _utils=jwplayer.utils;jwplayer.html5.model=function(api,container,options){var _api=api;var _container=container;var _cookies=_utils.getCookies();var _model={id:_container.id,playlist:[],state:jwplayer.api.events.state.IDLE,position:0,buffer:0,container:_container,config:{width:480,height:320,item:-1,skin:undefined,file:undefined,image:undefined,start:0,duration:0,bufferlength:5,volume:_cookies.volume?_cookies.volume:90,mute:_cookies.mute&&_cookies.mute.toString().toLowerCase()=="true"?true:false,fullscreen:false,repeat:"",stretching:jwplayer.utils.stretching.UNIFORM,autostart:false,debug:undefined,screencolor:undefined}};var _media;var _eventDispatcher=new jwplayer.html5.eventdispatcher();var _components=["display","logo","controlbar","playlist","dock"];jwplayer.utils.extend(_model,_eventDispatcher);for(var option in options){if(typeof options[option]=="string"){var type=/color$/.test(option)?"color":null;options[option]=jwplayer.utils.typechecker(options[option],type);}var config=_model.config;var path=option.split(".");for(var edge in path){if(edge==path.length-1){config[path[edge]]=options[option];}else{if(!jwplayer.utils.exists(config[path[edge]])){config[path[edge]]={};}config=config[path[edge]];}}}for(var index in _configurableStateVariables){var configurableStateVariable=_configurableStateVariables[index];_model[configurableStateVariable]=_model.config[configurableStateVariable];}var pluginorder=_components.concat([]);if(jwplayer.utils.exists(_model.plugins)){if(typeof _model.plugins=="string"){var userplugins=_model.plugins.split(",");for(var userplugin in userplugins){if(typeof userplugins[userplugin]=="string"){pluginorder.push(userplugins[userplugin].replace(/^\s+|\s+$/g,""));}}}}if(jwplayer.utils.isMobile()){pluginorder=["display","logo","dock","playlist"];if(!jwplayer.utils.exists(_model.config.repeat)){_model.config.repeat="list";}}else{if(_model.config.chromeless){pluginorder=["logo","dock","playlist"];if(!jwplayer.utils.exists(_model.config.repeat)){_model.config.repeat="list";}}}_model.plugins={order:pluginorder,config:{},object:{}};if(typeof _model.config.components!="undefined"){for(var component in _model.config.components){_model.plugins.config[component]=_model.config.components[component];}}var playlistVisible=false;for(var pluginIndex in _model.plugins.order){var pluginName=_model.plugins.order[pluginIndex];var pluginConfig=!jwplayer.utils.exists(_model.plugins.config[pluginName])?{}:_model.plugins.config[pluginName];_model.plugins.config[pluginName]=!jwplayer.utils.exists(_model.plugins.config[pluginName])?pluginConfig:jwplayer.utils.extend(_model.plugins.config[pluginName],pluginConfig);if(!jwplayer.utils.exists(_model.plugins.config[pluginName].position)){if(pluginName=="playlist"){_model.plugins.config[pluginName].position=jwplayer.html5.view.positions.NONE;}else{_model.plugins.config[pluginName].position=jwplayer.html5.view.positions.OVER;}}else{if(pluginName=="playlist"){playlistVisible=true;}_model.plugins.config[pluginName].position=_model.plugins.config[pluginName].position.toString().toUpperCase();}}if(_model.plugins.config.controlbar&&playlistVisible){_model.plugins.config.controlbar.hideplaylistcontrols=true;}if(typeof _model.plugins.config.dock!="undefined"){if(typeof _model.plugins.config.dock!="object"){var position=_model.plugins.config.dock.toString().toUpperCase();_model.plugins.config.dock={position:position};}if(typeof _model.plugins.config.dock.position!="undefined"){_model.plugins.config.dock.align=_model.plugins.config.dock.position;_model.plugins.config.dock.position=jwplayer.html5.view.positions.OVER;}if(typeof _model.plugins.config.dock.idlehide=="undefined"){try{_model.plugins.config.dock.idlehide=_model.plugins.config.controlbar.idlehide;}catch(e){}}}function _loadExternal(playlistfile){var loader=new jwplayer.html5.playlistloader();loader.addEventListener(jwplayer.api.events.JWPLAYER_PLAYLIST_LOADED,function(evt){_model.playlist=new jwplayer.html5.playlist(evt);_loadComplete(true);});loader.addEventListener(jwplayer.api.events.JWPLAYER_ERROR,function(evt){_model.playlist=new jwplayer.html5.playlist({playlist:[]});_loadComplete(false);});loader.load(playlistfile);}function _loadComplete(){if(_model.config.shuffle){_model.item=_getShuffleItem();}else{if(_model.config.item>=_model.playlist.length){_model.config.item=_model.playlist.length-1;}else{if(_model.config.item<0){_model.config.item=0;}}_model.item=_model.config.item;}_model.position=0;_model.duration=_model.playlist.length>0?_model.playlist[_model.item].duration:0;_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_PLAYLIST_LOADED,{playlist:_model.playlist});_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_PLAYLIST_ITEM,{index:_model.item});}_model.loadPlaylist=function(arg){var input;if(typeof arg=="string"){if(arg.indexOf("[")==0||arg.indexOf("{")=="0"){try{input=eval(arg);}catch(err){input=arg;}}else{input=arg;}}else{input=arg;}var config;switch(jwplayer.utils.typeOf(input)){case"object":config=input;break;case"array":config={playlist:input};break;default:config={file:input};break;}_model.playlist=new jwplayer.html5.playlist(config);_model.item=_model.config.item>=0?_model.config.item:0;if(!_model.playlist[0].provider&&_model.playlist[0].file){_loadExternal(_model.playlist[0].file);}else{_loadComplete();}};function _getShuffleItem(){var result=null;if(_model.playlist.length>1){while(!jwplayer.utils.exists(result)){result=Math.floor(Math.random()*_model.playlist.length);if(result==_model.item){result=null;}}}else{result=0;}return result;}function forward(evt){switch(evt.type){case jwplayer.api.events.JWPLAYER_MEDIA_LOADED:_container=_media.getDisplayElement();break;case jwplayer.api.events.JWPLAYER_MEDIA_MUTE:this.mute=evt.mute;break;case jwplayer.api.events.JWPLAYER_MEDIA_VOLUME:this.volume=evt.volume;break;}_eventDispatcher.sendEvent(evt.type,evt);}var _mediaProviders={};_model.setActiveMediaProvider=function(playlistItem){if(playlistItem.provider=="audio"){playlistItem.provider="sound";}var provider=playlistItem.provider;var current=_media?_media.getDisplayElement():null;if(provider=="sound"||provider=="http"||provider==""){provider="video";}if(!jwplayer.utils.exists(_mediaProviders[provider])){switch(provider){case"video":_media=new jwplayer.html5.mediavideo(_model,current?current:_container);break;case"youtube":_media=new jwplayer.html5.mediayoutube(_model,current?current:_container);break;}if(!jwplayer.utils.exists(_media)){return false;}_media.addGlobalListener(forward);_mediaProviders[provider]=_media;}else{if(_media!=_mediaProviders[provider]){if(_media){_media.stop();}_media=_mediaProviders[provider];}}return true;};_model.getMedia=function(){return _media;};_model.seek=function(pos){_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_MEDIA_SEEK,{position:_model.position,offset:pos});return _media.seek(pos);};_model.setVolume=function(newVol){_utils.saveCookie("volume",newVol);_model.volume=newVol;};_model.setMute=function(state){_utils.saveCookie("mute",state);_model.mute=state;};_model.setupPlugins=function(){if(!jwplayer.utils.exists(_model.plugins)||!jwplayer.utils.exists(_model.plugins.order)||_model.plugins.order.length==0){jwplayer.utils.log("No plugins to set up");return _model;}for(var i=0;i<_model.plugins.order.length;i++){try{var pluginName=_model.plugins.order[i];if(jwplayer.utils.exists(jwplayer.html5[pluginName])){if(pluginName=="playlist"){_model.plugins.object[pluginName]=new jwplayer.html5.playlistcomponent(_api,_model.plugins.config[pluginName]);}else{_model.plugins.object[pluginName]=new jwplayer.html5[pluginName](_api,_model.plugins.config[pluginName]);}}else{_model.plugins.order.splice(plugin,plugin+1);}if(typeof _model.plugins.object[pluginName].addGlobalListener=="function"){_model.plugins.object[pluginName].addGlobalListener(forward);}}catch(err){jwplayer.utils.log("Could not setup "+pluginName);}}};return _model;};})(jwplayer);(function(b){b.html5.playlist=function(a){var e=[];if(a.playlist&&a.playlist instanceof Array&&a.playlist.length>0){for(var f in a.playlist){if(!isNaN(parseInt(f))){e.push(new b.html5.playlistitem(a.playlist[f]));}}}else{e.push(new b.html5.playlistitem(a));}return e;};})(jwplayer);(function(e){var f={size:180,position:e.html5.view.positions.NONE,itemheight:60,thumbs:true,fontcolor:"#FFFFFF",overcolor:"",activecolor:"",backgroundcolor:"#f8f8f8",font:"_sans",fontsize:"",fontstyle:"",fontweight:""};var d={_sans:"Arial, Helvetica, sans-serif",_serif:"Times, Times New Roman, serif",_typewriter:"Courier New, Courier, monospace"};_utils=e.utils;_css=_utils.css;_hide=function(a){_css(a,{display:"none"});};_show=function(a){_css(a,{display:"block"});};e.html5.playlistcomponent=function(L,K){var c=L;var Z=e.utils.extend({},f,c.skin.getComponentSettings("playlist"),K);if(Z.position==e.html5.view.positions.NONE||typeof e.html5.view.positions[Z.position]=="undefined"){return;}var b;var T;var J;var aa;var X;var Y;var U=-1;var W={background:undefined,item:undefined,itemOver:undefined,itemImage:undefined,itemActive:undefined};this.getDisplayElement=function(){return b;};this.resize=function(g,k){T=g;J=k;if(c.jwGetFullscreen()){_hide(b);}else{var h={display:"block",width:T,height:J};_css(b,h);}};this.show=function(){_show(b);};this.hide=function(){_hide(b);};function V(){b=document.createElement("div");b.id=c.id+"_jwplayer_playlistcomponent";b.style.overflow="hidden";switch(Z.position){case e.html5.view.positions.RIGHT:case e.html5.view.positions.LEFT:b.style.width=Z.size+"px";break;case e.html5.view.positions.TOP:case e.html5.view.positions.BOTTOM:b.style.height=Z.size+"px";break;}M();if(W.item){Z.itemheight=W.item.height;}b.style.backgroundColor="#C6C6C6";c.jwAddEventListener(e.api.events.JWPLAYER_PLAYLIST_LOADED,I);c.jwAddEventListener(e.api.events.JWPLAYER_PLAYLIST_ITEM,F);c.jwAddEventListener(e.api.events.JWPLAYER_PLAYER_STATE,S);}function P(){var g=document.createElement("ul");_css(g,{width:b.style.width,minWidth:b.style.width,height:b.style.height,backgroundColor:Z.backgroundcolor,backgroundImage:W.background?"url("+W.background.src+")":"",color:Z.fontcolor,listStyle:"none",margin:0,padding:0,fontFamily:d[Z.font]?d[Z.font]:d._sans,fontSize:(Z.fontsize?Z.fontsize:11)+"px",fontStyle:Z.fontstyle,fontWeight:Z.fontweight,overflowY:"auto"});return g;}function a(g){return function(){var l=Y.getElementsByClassName("item")[g];var k=Z.fontcolor;var h=W.item?"url("+W.item.src+")":"";if(g==c.jwGetPlaylistIndex()){if(Z.activecolor!==""){k=Z.activecolor;}if(W.itemActive){h="url("+W.itemActive.src+")";}}_css(l,{color:Z.overcolor!==""?Z.overcolor:k,backgroundImage:W.itemOver?"url("+W.itemOver.src+")":h});};}function Q(g){return function(){var l=Y.getElementsByClassName("item")[g];var k=Z.fontcolor;var h=W.item?"url("+W.item.src+")":"";if(g==c.jwGetPlaylistIndex()){if(Z.activecolor!==""){k=Z.activecolor;}if(W.itemActive){h="url("+W.itemActive.src+")";}}_css(l,{color:k,backgroundImage:h});};}function N(p){var g=aa[p];var h=document.createElement("li");h.className="item";_css(h,{height:Z.itemheight,display:"block",cursor:"pointer",backgroundImage:W.item?"url("+W.item.src+")":"",backgroundSize:"100% "+Z.itemheight+"px"});h.onmouseover=a(p);h.onmouseout=Q(p);var o=document.createElement("div");var t=new Image();var n=0;var m=0;var l=0;if(E()&&(g.image||g["playlist.image"]||W.itemImage)){t.className="image";if(W.itemImage){n=(Z.itemheight-W.itemImage.height)/2;m=W.itemImage.width;l=W.itemImage.height;}else{m=Z.itemheight*4/3;l=Z.itemheight;}_css(o,{height:l,width:m,"float":"left",styleFloat:"left",cssFloat:"left",margin:"0 5px 0 0",background:"black",overflow:"hidden",margin:n+"px",position:"relative"});_css(t,{position:"relative"});o.appendChild(t);t.onload=function(){e.utils.stretch(e.utils.stretching.FILL,t,m,l,this.naturalWidth,this.naturalHeight);};if(g["playlist.image"]){t.src=g["playlist.image"];}else{if(g.image){t.src=g.image;}else{if(W.itemImage){t.src=W.itemImage.src;}}}h.appendChild(o);}var u=T-m-n*2;if(J<Z.itemheight*aa.length){u-=15;}var v=document.createElement("div");_css(v,{position:"relative",height:"100%",overflow:"hidden"});var r=document.createElement("span");if(g.duration>0){r.className="duration";_css(r,{fontSize:(Z.fontsize?Z.fontsize:11)+"px",fontWeight:(Z.fontweight?Z.fontweight:"bold"),width:"40px",height:Z.fontsize?Z.fontsize+10:20,lineHeight:24,"float":"right",styleFloat:"right",cssFloat:"right"});r.innerHTML=_utils.timeFormat(g.duration);v.appendChild(r);}var k=document.createElement("span");k.className="title";_css(k,{padding:"5px 5px 0 "+(n?0:"5px"),height:Z.fontsize?Z.fontsize+10:20,lineHeight:Z.fontsize?Z.fontsize+10:20,overflow:"hidden","float":"left",styleFloat:"left",cssFloat:"left",width:((g.duration>0)?u-50:u)-10+"px",fontSize:(Z.fontsize?Z.fontsize:13)+"px",fontWeight:(Z.fontweight?Z.fontweight:"bold")});k.innerHTML=g?g.title:"";v.appendChild(k);if(g.description){var q=document.createElement("span");q.className="description";_css(q,{display:"block","float":"left",styleFloat:"left",cssFloat:"left",margin:0,paddingLeft:k.style.paddingLeft,paddingRight:k.style.paddingRight,lineHeight:(Z.fontsize?Z.fontsize+4:16)+"px",overflow:"hidden",position:"relative"});q.innerHTML=g.description;v.appendChild(q);}h.appendChild(v);return h;}function I(k){b.innerHTML="";aa=H();if(!aa){return;}items=[];Y=P();for(var h=0;h<aa.length;h++){var l=N(h);l.onclick=O(h);Y.appendChild(l);items.push(l);}U=c.jwGetPlaylistIndex();Q(U)();b.appendChild(Y);if(_utils.isIOS()&&window.iScroll){Y.style.height=Z.itemheight*aa.length+"px";var g=new iScroll(b.id);}}function H(){var h=c.jwGetPlaylist();var g=[];for(var k=0;k<h.length;k++){if(!h[k]["ova.hidden"]){g.push(h[k]);}}return g;}function O(g){return function(){c.jwPlaylistItem(g);c.jwPlay(true);};}function R(){Y.scrollTop=c.jwGetPlaylistIndex()*Z.itemheight;}function E(){return Z.thumbs.toString().toLowerCase()=="true";}function F(g){if(U>=0){Q(U)();U=g.index;}Q(g.index)();R();}function S(){if(Z.position==e.html5.view.positions.OVER){switch(c.jwGetState()){case e.api.events.state.IDLE:_show(b);break;default:_hide(b);break;}}}function M(){for(var g in W){W[g]=G(g);}}function G(g){return c.skin.getSkinElement("playlist",g);}V();return this;};})(jwplayer);(function(c){c.html5.playlistitem=function(b){var a={author:"",date:"",description:"",image:"",link:"",mediaid:"",tags:"",title:"",provider:"",file:"",streamer:"",duration:-1,start:0,currentLevel:-1,levels:[]};var f=c.utils.extend({},a,b);if(f.type){f.provider=f.type;delete f.type;}if(f.levels.length===0){f.levels[0]=new c.html5.playlistitemlevel(f);}if(!f.provider){f.provider=d(f.levels[0]);}else{f.provider=f.provider.toLowerCase();}return f;};function d(b){if(c.utils.isYouTube(b.file)){return"youtube";}else{var a=c.utils.extension(b.file);var h;if(a&&c.utils.extensionmap[a]){if(a=="m3u8"){return"video";}h=c.utils.extensionmap[a].html5;}else{if(b.type){h=b.type;}}if(h){var g=h.split("/")[0];if(g=="audio"){return"sound";}else{if(g=="video"){return g;}}}}return"";}})(jwplayer);(function(b){b.html5.playlistitemlevel=function(a){var e={file:"",streamer:"",bitrate:0,width:0};for(var f in e){if(b.utils.exists(a[f])){e[f]=a[f];}}return e;};})(jwplayer);(function(b){b.html5.playlistloader=function(){var f=new b.html5.eventdispatcher();b.utils.extend(this,f);this.load=function(c){b.utils.ajax(c,e,a);};function e(d){var k=[];try{var k=b.utils.parsers.rssparser.parse(d.responseXML.firstChild);f.sendEvent(b.api.events.JWPLAYER_PLAYLIST_LOADED,{playlist:new b.html5.playlist({playlist:k})});}catch(c){a("Could not parse the playlist");}}function a(c){f.sendEvent(b.api.events.JWPLAYER_ERROR,{message:c?c:"Could not load playlist an unknown reason."});}};})(jwplayer);(function(b){b.html5.skin=function(){var a={};var d=false;this.load=function(f,c){new b.html5.skinloader(f,function(e){d=true;a=e;c();},function(){new b.html5.skinloader("",function(e){d=true;a=e;c();});});};this.getSkinElement=function(h,g){if(d){try{return a[h].elements[g];}catch(c){b.utils.log("No such skin component / element: ",[h,g]);}}return null;};this.getComponentSettings=function(c){if(d&&a&&a[c]){return a[c].settings;}return null;};this.getComponentLayout=function(c){if(d){return a[c].layout;}return null;};};})(jwplayer);(function(b){b.html5.skinloader=function(D,u,z){var v={};var G=u;var y=z;var E=true;var A;var w=D;var I=false;function x(){if(typeof w!="string"||w===""){F(b.html5.defaultSkin().xml);}else{b.utils.ajax(b.utils.getAbsolutePath(w),function(d){try{if(b.utils.exists(d.responseXML)){F(d.responseXML);return;}}catch(c){B();}F(b.html5.defaultSkin().xml);},function(c){F(b.html5.defaultSkin().xml);});}}function F(n){var W=n.getElementsByTagName("component");if(W.length===0){return;}for(var q=0;q<W.length;q++){var Y=W[q].getAttribute("name");var Z={settings:{},elements:{},layout:{}};v[Y]=Z;var S=W[q].getElementsByTagName("elements")[0].getElementsByTagName("element");for(var U=0;U<S.length;U++){H(S[U],Y);}var l=W[q].getElementsByTagName("settings")[0];if(l&&l.childNodes.length>0){var k=l.getElementsByTagName("setting");for(var d=0;d<k.length;d++){var c=k[d].getAttribute("name");var o=k[d].getAttribute("value");var p=/color$/.test(c)?"color":null;v[Y].settings[c]=b.utils.typechecker(o,p);}}var h=W[q].getElementsByTagName("layout")[0];if(h&&h.childNodes.length>0){var g=h.getElementsByTagName("group");for(var r=0;r<g.length;r++){var aa=g[r];v[Y].layout[aa.getAttribute("position")]={elements:[]};for(var e=0;e<aa.attributes.length;e++){var X=aa.attributes[e];v[Y].layout[aa.getAttribute("position")][X.name]=X.value;}var f=aa.getElementsByTagName("*");for(var R=0;R<f.length;R++){var V=f[R];v[Y].layout[aa.getAttribute("position")].elements.push({type:V.tagName});for(var T=0;T<V.attributes.length;T++){var m=V.attributes[T];v[Y].layout[aa.getAttribute("position")].elements[R][m.name]=m.value;}if(!b.utils.exists(v[Y].layout[aa.getAttribute("position")].elements[R].name)){v[Y].layout[aa.getAttribute("position")].elements[R].name=V.tagName;}}}}E=false;a();}}function a(){clearInterval(A);if(!I){A=setInterval(function(){t();},100);}}function H(l,d){var e=new Image();var h=l.getAttribute("name");var f=l.getAttribute("src");var c;if(f.indexOf("data:image/png;base64,")===0){c=f;}else{var g=b.utils.getAbsolutePath(w);var k=g.substr(0,g.lastIndexOf("/"));c=[k,d,f].join("/");}v[d].elements[h]={height:0,width:0,src:"",ready:false,image:e};e.onload=function(m){C(e,h,d);};e.onerror=function(m){I=true;a();y();};e.src=c;}function B(){for(var f in v){var d=v[f];for(var g in d.elements){var c=d.elements[g];var e=c.image;e.onload=null;e.onerror=null;delete c.image;delete d.elements[g];}delete v[f];}}function t(){for(var d in v){if(d!="properties"){for(var c in v[d].elements){if(!v[d].elements[c].ready){return;}}}}if(E===false){clearInterval(A);G(v);}}function C(e,c,d){if(v[d]&&v[d].elements[c]){v[d].elements[c].height=e.height;v[d].elements[c].width=e.width;v[d].elements[c].src=e.src;v[d].elements[c].ready=true;a();}else{b.utils.log("Loaded an image for a missing element: "+d+"."+c);}}x();};})(jwplayer);(function(b){b.html5.api=function(C,a){var r={};var y=document.createElement("div");C.parentNode.replaceChild(y,C);y.id=C.id;r.version=b.version;r.id=y.id;var t=new b.html5.model(r,y,a);var v=new b.html5.view(r,y,t);var u=new b.html5.controller(r,y,t,v);r.skin=new b.html5.skin();r.jwPlay=function(c){if(typeof c=="undefined"){z();}else{if(c.toString().toLowerCase()=="true"){u.play();}else{u.pause();}}};r.jwPause=function(c){if(typeof c=="undefined"){z();}else{if(c.toString().toLowerCase()=="true"){u.pause();}else{u.play();}}};function z(){if(t.state==b.api.events.state.PLAYING||t.state==b.api.events.state.BUFFERING){u.pause();}else{u.play();}}r.jwStop=u.stop;r.jwSeek=u.seek;r.jwPlaylistItem=function(c){if(B){if(B.playlistClickable()){B.jwInstreamDestroy();return u.item(c);}}else{return u.item(c);}};r.jwPlaylistNext=u.next;r.jwPlaylistPrev=u.prev;r.jwResize=u.resize;r.jwLoad=u.load;r.jwDetachMedia=u.detachMedia;r.jwAttachMedia=u.attachMedia;function w(c){return function(){return t[c];};}function A(e,c,d){return function(){var f=t.plugins.object[e];if(f&&f[c]&&typeof f[c]=="function"){f[c].apply(f,d);}};}r.jwGetPlaylistIndex=w("item");r.jwGetPosition=w("position");r.jwGetDuration=w("duration");r.jwGetBuffer=w("buffer");r.jwGetWidth=w("width");r.jwGetHeight=w("height");r.jwGetFullscreen=w("fullscreen");r.jwSetFullscreen=u.setFullscreen;r.jwGetVolume=w("volume");r.jwSetVolume=u.setVolume;r.jwGetMute=w("mute");r.jwSetMute=u.setMute;r.jwGetStretching=function(){return t.stretching.toUpperCase();};r.jwGetState=w("state");r.jwGetVersion=function(){return r.version;};r.jwGetPlaylist=function(){return t.playlist;};r.jwAddEventListener=u.addEventListener;r.jwRemoveEventListener=u.removeEventListener;r.jwSendEvent=u.sendEvent;r.jwDockSetButton=function(c,f,e,d){if(t.plugins.object.dock&&t.plugins.object.dock.setButton){t.plugins.object.dock.setButton(c,f,e,d);}};r.jwControlbarShow=A("controlbar","show");r.jwControlbarHide=A("controlbar","hide");r.jwDockShow=A("dock","show");r.jwDockHide=A("dock","hide");r.jwDisplayShow=A("display","show");r.jwDisplayHide=A("display","hide");var B;r.jwLoadInstream=function(c,d){if(!B){B=new b.html5.instream(r,t,v,u);}setTimeout(function(){B.load(c,d);},10);};r.jwInstreamDestroy=function(){if(B){B.jwInstreamDestroy();}};r.jwInstreamAddEventListener=q("jwInstreamAddEventListener");r.jwInstreamRemoveEventListener=q("jwInstreamRemoveEventListener");r.jwInstreamGetState=q("jwInstreamGetState");r.jwInstreamGetDuration=q("jwInstreamGetDuration");r.jwInstreamGetPosition=q("jwInstreamGetPosition");r.jwInstreamPlay=q("jwInstreamPlay");r.jwInstreamPause=q("jwInstreamPause");r.jwInstreamSeek=q("jwInstreamSeek");function q(c){return function(){if(B&&typeof B[c]=="function"){return B[c].apply(this,arguments);}else{_utils.log("Could not call instream method - instream API not initialized");}};}r.jwDestroy=function(){u.destroy();};r.jwGetLevel=function(){};r.jwGetBandwidth=function(){};r.jwGetLockState=function(){};r.jwLock=function(){};r.jwUnlock=function(){};function D(){if(t.config.playlistfile){t.addEventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED,x);t.loadPlaylist(t.config.playlistfile);}else{if(typeof t.config.playlist=="string"){t.addEventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED,x);t.loadPlaylist(t.config.playlist);}else{t.loadPlaylist(t.config);setTimeout(x,25);}}}function x(c){t.removeEventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED,x);t.setupPlugins();v.setup();var c={id:r.id,version:r.version};u.playerReady(c);}if(t.config.chromeless&&!b.utils.isIOS()){D();}else{r.skin.load(t.config.skin,D);}return r;};})(jwplayer);}Saks.define("SaksFP",function(b,f,h){var k={};k.identify=function(){var l=getCookie("Cart");if(!!l){window._fpq=window._fpq||[];window._fpq.push(["identify",l]);}};k.populate=function(){window._fpq=window._fpq||[];window._fpq.push(["populate"]);};k.initQL=function(l){if(l.fitPredictorEnabled){if(typeof window.FitPredictor==="undefined"){c(l);}else{a();}}};k.orderComplete=function(l){g(l);window._fpq=window._fpq||[];window._fpq.push(["trackOrder"]);};function c(m){var l={path:m.fitPredictorLibUrl,async:true,callback:a};Saks.Util.getScript(l);}function a(){k.identify();k.populate();}function g(q){var m=q.getSummary();var l=q.getItems();var p=[];for(var n=0;n<l.length;n++){p.push({id:l[n].cartItem.productCode,skuId:l[n].cartItem.skuCode,name:l[n].cartItem.shortDescription,brand:l[n].cartItem.productName,color:l[n].cartItem.color,size:l[n].cartItem.size,price:parseFloat(l[n].cartItem.extendedPrice.replace(" ","").substring(5)),quantity:l[n].cartItem.quantity});}var o=[{transactionId:q.getOrderNumber(),transactionTotal:parseFloat(m.grandTotal.replace(" ","").substring(5)),transactionShipping:parseFloat(m.shippingCost.replace(" ","").substring(5)),transactionTax:parseFloat(m.tax.replace(" ","").substring(5)),transactionProducts:p}];window.dataLayer=o;}function e(){var l=setInterval(function(){var m=false;try{m=d();}catch(n){}if(m){clearInterval(l);a();}},100);}function d(){var l=false;if(typeof window.FitPredictor!=="undefined"){l=true;}return l;}h.subscribe("SaksFP:identify",k.identify,k);h.subscribe("SaksFP:populate",k.populate,k);h.subscribe("SaksFP:initQL",k.initQL,k);h.subscribe("SaksFP:orderComplete",k.orderComplete,k);return k;},["Mediator"]);var Saks=Saks;Saks.templates=Saks.templates||{};
/*!
 * Mustache `global/toolbar` template
 */
Saks.templates["global/toolbar"]='<div class="inner">{{#isLoginRemediation}}<ul class="menu-container login-remediation">{{/isLoginRemediation}}{{^isLoginRemediation}}<ul class="menu-container">{{/isLoginRemediation}}{{#isInternationalEnabled}}{{#isInternationalSession}}<li class="menu-item"><a href="{{orderTrackingPage}}" class="order-tracking" data-target="tab">Order Tracking</a></li>{{/isInternationalSession}}{{^isInternationalSession}}<li class="menu-item">{{>accountMenu}}</li>{{/isInternationalSession}}<li class="menu-item shipping"><a href="{{internationalShippingPage}}">Ship To: <img src="{{flagImageSrc}}" width="16" height="11" /></a></li>{{/isInternationalEnabled}}{{^isInternationalEnabled}}<li class="menu-item">{{>accountMenu}}</li>{{/isInternationalEnabled}}<li class="menu-item"><a href="{{liveChatPage}}" class="live-chat" data-target="popup|533|574|chat">Chat</a></li><li class="menu-item"><b>1.877.551.7257</b></li><li class="menu-item last-child"><a href="{{saksBagPage}}" class="shopping-bag">Saks Bag (<span id="item-count">{{bagItemCount}}</span>)</a></li></ul></div>';
/*!
 * Mustache `global/account-menu` template
 */
Saks.templates["global/account-menu"]='{{#isLoginRemediation}}<div class="menu-dropdown"><div class="triangle-container"><div class="triangle"></div></div><ul class="first-of-type"><li class="first-child"><a href="{{accountPage}}">Your Account</a></li><li><a href="{{orderHistoryPage}}">Order History</a></li><li><a href="{{accountSettingPage}}">Account and Email Settings</a></li><li><a href="{{manageShippingAddressPage}}">Shipping Address Book</a></li><li><a href="{{manageBillingAddressPage}}">Billing Address Book</a></li><li><a href="{{managePaymentMethodPage}}">Payment Method</a></li><li class="last-child"><a href="{{manageSaksFirstPage}}">SaksFirst and Online Billing</a></li></ul><ul class="last-of-type"><li class="first-child last-child">{{#customerName}}<a href="{{loginPage}}" data-form="logout_session_and_cookie">Not {{customerName}}? <b>Sign Out</b></a>{{/customerName}}{{^customerName}}<a href="{{loginPage}}">Welcome, <b>Sign In</b></a>{{/customerName}}</li></ul></div><a href="{{accountPage}}" class="account">{{#customerName}}Welcome, {{customerName}}{{/customerName}}{{^customerName}}Welcome, Sign In{{/customerName}}<span class="menu-arrow"></span></a>{{/isLoginRemediation}}{{^isLoginRemediation}}<a href="{{accountPage}}" class="account">Account</a>{{/isLoginRemediation}}';
/*!
 * Mustache `quicklook/ProductDialog` template
 */
Saks.templates["quicklook/ProductDialog"]="{{>productDetail}}{{>productViewer}}";
/*!
 * Mustache `quicklook/ProductAvailability` template
 */
Saks.templates["quicklook/ProductAvailability"]='<div class="product-availability">{{#displayCallInStore}}<p>To purchase this item, please call 1.877.551.7257</p>{{/displayCallInStore}}{{#displayFindInStore}}<div class="find-in-store">{{^itemSoldOut}}{{#showFindInStoreLink}}<p>Also available <a href="#" id="jsFindInStoreQL">in store</a>.</p>{{/showFindInStoreLink}}{{/itemSoldOut}}{{#itemSoldOut}}{{#showFindInStoreLink}}<p>Only available <a href="#" id="jsFindInStoreQL">in store</a>.</p>{{/showFindInStoreLink}}{{^showFindInStoreLink}}{{#displayWLButtonInQL}}<p>Sorry, this item is sold out.</p>{{/displayWLButtonInQL}}{{^displayWLButtonInQL}}<p>Sorry, this item is not available.</p>{{/displayWLButtonInQL}}{{/showFindInStoreLink}}{{/itemSoldOut}}</div>{{/displayFindInStore}}{{^displayFindInStore}}{{#itemSoldOut}}{{#displayWLButtonInQL}}<p class="availability-container">Sorry, this item is sold out.</p>{{/displayWLButtonInQL}}{{^displayWLButtonInQL}}<p class="availability-container">Sorry, this item is not available.</p>{{/displayWLButtonInQL}}{{/itemSoldOut}}{{/displayFindInStore}}{{! In member cart is shown when a fashion fix item is added to the bag,it is only visible while editing an item in the SAKS bag Quicklook. }}{{#displayInMembersCartMessaging}}<p class="in-other-members-cart">{{{inOtherMembersCartMsg}}}</p>{{/displayInMembersCartMessaging}}{{#intlShippingRestricted}}<p class="errorBold11">Sorry this item cannot be shipped internationally.</p>{{/intlShippingRestricted}}</div>';
/*!
 * Mustache `quicklook/ProductAvailability_fix` template
 */
Saks.templates["quicklook/ProductAvailability_fix"]='<div class="product-availability">{{#displayCallInStore}}<p>To purchase this item, please call 1.877.551.7257</p>{{/displayCallInStore}}{{#itemSoldOutMessage}}<div class="soldout-message">{{itemSoldOutMessage}}</div>{{/itemSoldOutMessage}}{{#findInStoreMesage}}<div class="find-in-store"><p>{{findInStoreMesage}} <a href="#" id="jsFindInStoreQL">in store</a>. </p></div>{{/findInStoreMesage}}{{! In member cart is shown when a fashion fix item is added to the bag,it is only visible while editing an item in the SAKS bag Quicklook. }}{{#displayInMembersCartMessaging}}<p class="in-other-members-cart">{{{inOtherMembersCartMsg}}}</p>{{/displayInMembersCartMessaging}}{{#intlShippingRestricted}}<p class="errorBold11">Sorry this item cannot be shipped internationally.</p>{{/intlShippingRestricted}}</div>';
/*!
 * Mustache `quicklook/ProductDetail` template
 */
Saks.templates["quicklook/ProductDetail"]='<div class="product-details"><div class="product-details-inner"><h1 class="product-name">{{{productName}}}</h1><h2 class="product-title">{{{shortDescription}}}</h2>{{#productReviewSubmitable}}{{>productRating}}{{/productReviewSubmitable}}<p class="product-code">{{productCode}}</p>{{#hasPromotion}}<p class="product-promotion">{{promoTag}}</p>{{/hasPromotion}}<div class="share-links"><ul><li class="pinterest-button"><a href="{{productPinterestPage}}" class="pin-it-button" count-layout="horizontal" always-show-count="true"><img border="0" src="//assets.pinterest.com/images/PinExt.png" title="Pin It" /></a></li><li class="fb-like-button"><fb:like href="{{canonicalPDP}}" send="false" layout="button_count" width="90" show_faces="true"></fb:like></li></ul></div>{{! display product info tabs }}{{>productInfoTabs}}{{#displayItemPricing}}{{>productPrice}}{{/displayItemPricing}}{{! If the product can be added to the bag display the edit form withthe PDP link and warning messages above the form submit button... }}<form name="edit_item_service" method="post" action="/checkout/checkout.jsp" {{#hasWaitList}}class="waitlist"{{/hasWaitList}}>{{! if FitPredictor is enabled:1. Display FitPredictor HTML element2. Populate data-product-id attribute with product ID}}{{#fitPredictorEnabled}}<div class="fp-root" data-product-id="{{fitPredictorProductCode}}" data-quick-look></div>{{/fitPredictorEnabled}}{{#displayItemDropDown}}{{! placeholder for form error messages }}<div class="error-message"></div><div class="form-fields">{{#displayItemQtyField}}<label for="ql-quantity">Quantity:</label><span class="ib field-mask text-field"><input type="text" id="ql-quantity" name="itemQuantity" value="{{itemQuantity}}" maxlength="2" /></span>{{/displayItemQtyField}}{{>productVariants}}<span class="sending-indicator"></span></div>{{! placeholder for form info messages (i.e. pre-order messages) }}<div class="info-message"></div>{{/displayItemDropDown}}{{>productAvailability}}{{! TODO when are these warning messages displayed? }}{{#hasWarningMessages}}<div class="warning-messages">{{>productMessages}}</div>{{/hasWarningMessages}}<div class="button-container clearfix">{{! which button are we displaying for this quicklook instance? }}{{#displayAddToBag}}<input type="hidden" name="productCode" value="{{productCode}}" /><div class="form-submit-button"><button type="submit" class="saks-button saks-button-red" name="quicklook_checkout"><span class="label">Add to Bag</span></button></div>{{/displayAddToBag}}{{#displayEditItem}}<input type="hidden" name="{{productOrderIdName}}" value="{{productOrderIdValue}}" /><div class="form-submit-button"><button type="submit" class="saks-button saks-button-red ib" name="quicklook_checkout"><span class="label">Apply</span></button></div>{{/displayEditItem}}{{#displayAddToWaitlist}}<div class="ql-waitlist-button-container"><a id="ffwlQLButton" data-product-code="{{productCode}}" class="saks-button saks-button-black">Add to WaitList</a></div>{{/displayAddToWaitlist}}{{>productDetailLink}}</div></form></div></div>';
/*!
 * Mustache `quicklook/ProductDetailLink` template
 */
Saks.templates["quicklook/ProductDetailLink"]='{{#displayFullProductDetail}}<p class="product-detail-page"><a href="{{detailPage}}" target="_parent">Full Product Details</a></p>{{/displayFullProductDetail}}';
/*!
 * Mustache `quicklook/ProductInfoTabs` template
 */
Saks.templates["quicklook/ProductInfoTabs"]='<div class="product-info-tabs"><ul><li><a href="#product-description">Details</a></li>{{#hasColorSwatches}}<li><a href="#product-color-swatches">Colors</a></li>{{/hasColorSwatches}}</ul><div id="product-description">{{{productDescription}}}{{#hasPurchaseLimitThreshold}}<p>{{purchaseLimitMessage}}</p>{{/hasPurchaseLimitThreshold}}{{#displayHolidayInfo}}<dl class="holiday-message"><dt>{{holidayType}} Delivery</dt><dd>{{holidayMessage}}</dd></dl>{{/displayHolidayInfo}}{{#displayFitModelContent}}<div class="fit-model-information"><br /><span><b>SIZE & FIT</b></span>{{#displayFitModelContentCopy}}<br />{{productCopyModelShown}}{{/displayFitModelContentCopy}}{{#displayFitModelContentComment}}<br />{{fitModelComment}}{{/displayFitModelContentComment}}{{#displayFitModelContentLink}}<a href="/include/fit_model.jsp?type={{fitModelPopUp}}&fm_size={{fitModelSize}}"  onclick="popupwin(this.href, 750, 420); return false" style="margin-left:5px; color: black; text-decoration: underline;">Details</a>{{/displayFitModelContentLink}}</div>{{/displayFitModelContent}}{{#hasAdditionalInformation}}<div class="additional-information"><h6>Additional Information</h6><p>{{{additionalInformation}}}</p></div>{{/hasAdditionalInformation}}</div>{{#hasColorSwatches}}{{!If colorization is enabled build the HTML structure for the swatchesto change either the RFX or Scene7 viewers. Otherwise, simply renderthe swatches.}}{{#isColorizationEnabled}}{{#hasScene7}}<div id="product-color-swatches"><ul>{{#mediaItem.colorizedImageItems}}{{#hasScene7}}<li class="ql-scene7-swatches"><a href="#" data-url="{{colorizedImage}}" class="color-swatch" style="{{style}}" data-key="{{colorId}}" title="{{color}}">{{color}}</a></li>{{/hasScene7}}{{^hasScene7}}<li><a href="#" data-url="{{colorizedImage}}" class="color-swatch" style="{{style}}" data-key="{{colorId}}" title="{{color}}">{{color}}</a></li>{{/hasScene7}}{{/mediaItem.colorizedImageItems}}</ul></div>{{/hasScene7}}{{^hasScene7}}<div id="product-color-swatches"><ul>{{#colors}}<li><a href="#" class="color-swatch" style="{{style}}" data-key="{{name}}" title="{{name}}">{{name}}</a></li>{{/colors}}</ul></div>{{/hasScene7}}{{/isColorizationEnabled}}{{^isColorizationEnabled}}{{#hasScene7}}<div id="product-color-swatches"><ul>{{#mediaItem.colorizedImageItems}}<li><a style="{{style}}" title="{{color}}">{{color}}</a></li>{{/mediaItem.colorizedImageItems}}</ul></div>{{/hasScene7}}{{^hasScene7}}<div id="product-color-swatches"><ul>{{#colors}}<li><a style="{{style}}" title="{{name}}">{{name}}</a></li>{{/colors}}</ul></div>{{/hasScene7}}{{/isColorizationEnabled}}{{/hasColorSwatches}}</div>';
/*!
 * Mustache `quicklook/ProductMessages` template
 */
Saks.templates["quicklook/ProductMessages"]="<ul>{{#messages}}<li>{{{message}}}</li>{{/messages}}</ul>";
/*!
 * Mustache `quicklook/ProductPrice` template
 */
Saks.templates["quicklook/ProductPrice"]='<div class="product-price">{{#onSaleFlag}}{{#displayNewFFPricing}}<div class="market-price-info-content"><div class="market-price-info-title"><span>PRICING INFORMATION</span><a href="#"><span class="market-price-info-close">CLOSE</span></a></div><p>The strikethrough price reflects the regular price at which we\'ve normally sold that item or, if we have not previously sold an item, the price at which that item (or a comparable item) is normally sold in the market.</p><div class="arrow-down-outter"></div><div class="arrow-down-inner"></div></div><a class="market-price-info" href="#"><img src="/static/images/fashionfix/market-price-info.png" /></a><p class="line-through"><del> {{{formattedListPrice}}}</del></p><p class="sale-price">{{{formattedSalePrice}}}</p>{{/displayNewFFPricing}}{{^displayNewFFPricing}}<p class="list-price"><del>{{listPriceLabel}} {{{formattedListPrice}}}</del></p><p class="sale-price">{{salePriceLabel}} {{{formattedSalePrice}}}</p>{{/displayNewFFPricing}}{{/onSaleFlag}}{{^onSaleFlag}}<p class="list-price">{{{formattedListPrice}}}</p>{{/onSaleFlag}}</div>';
/*!
 * Mustache `quicklook/ProductRating` template
 */
Saks.templates["quicklook/ProductRating"]='<p class="product-reviews"><img src="{{ratingImageSrc}}" width="62" height="11" title="{{ratingImageAlt}}" />{{#hasReviews}}<a href="{{productReviewPage}}" class="ib rr read-review">{{readReviewString}}</a> &bull; <a href="{{redirectURL}}" class="ib wr">Write a Review</a>{{/hasReviews}}{{^hasReviews}}Be The First to <a href="{{redirectURL}}">Write a Review</a>{{/hasReviews}}</p>';
/*!
 * Mustache `quicklook/ProductShareLinks` template
 */
Saks.templates["quicklook/ProductShareLinks"]='<div class="share-links clearfix"><ul class="clearfix"><li><div class="g-plusone"></div></li><li><a href="{{productTellFriendPage}}" class="ir tell-a-friend-button">Tell a Friend</a></li><li><a href="{{productTwitterPage}}" class="ir twitter-button">Twitter</a></li></ul></div>';
/*!
 * Mustache `quicklook/ProductViewer` template
 */
Saks.templates["quicklook/ProductViewer"]='<div class="product-viewer">{{#hasScene7}}<div class="scene7QL">{{>ProductViewerScene7}}<div class="video-container" style="display:none;"><div class="video-loader"> <img src="/static/images/loading.gif" /> </div><div id="videoLoop_wrapper"><div id="videoLoop"></div></div></div></div>{{/hasScene7}}{{^hasScene7}}<div class="rfx-wrap">{{#hasRfxViewer}}<iframe class="rfx-frame" src="{{viewer}}" onload="Saks.Util.resizeFrame(this);" width="481" frameborder="0" marginheight="0" marginwidth="0" scrolling="no"></iframe>{{/hasRfxViewer}}{{^hasRfxViewer}}<div id="product-image">{{#images}}<img src="{{large}}" alt="" />{{/images}}</div>{{/hasRfxViewer}}</div>{{/hasScene7}}{{>productShareLinks}}</div>';
/*!
 * Mustache `quicklook/ProductViewerScene7` template
 */
Saks.templates["quicklook/ProductViewerScene7"]='<div id="flashContent" style="visibility:hidden;"><div class="zoom-colorization-information">Shown in <span></span></div><object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" data="{{mediaItem.playerUrl}}" width="480" height="565" id="_productViewer" align="middle"><param name="movie" value="{{mediaItem.playerUrl}}" /><param name="allowFullScreen" value="true" /><param name="quality" value="high" /><param name="bgcolor" value="#ffffff" /><param name="play" value="true" /><param name="loop" value="true" /><param name="scale" value="noscale" /><param name="menu" value="true" /><param name="devicefont" value="false" /><param name="salign" value="" /><param name="wmode" value="opaque" /><param name="allowScriptAccess" value="always" /><param name="showVideo" value="{{mediaItem.hasVideo}}" /><param name="showVideoURL" value="scene7.playVideo" /><param name="flashvars" value="serverUrl={{mediaItem.mediaServerUrl}}is/image&asset={{mediaItem.imageSet}}&showVideo={{mediaItem.hasVideo}}&showVideoURL=scene7.playVideo&hideThumbs=0&iscommand=op_usm%3D2.2%2C1%2C6%2C0" /><!--[if !IE]>--><object type="application/x-shockwave-flash" data="{{mediaItem.playerUrl}}" id="_productViewer_inner" width="480" height="565"><param name="movie" value="{{mediaItem.playerUrl}}" /><param name="allowFullScreen" value="true" /><param name="flashvars" value="serverUrl={{mediaItem.mediaServerUrl}}is/image&asset={{mediaItem.imageSet}}&showVideo={{mediaItem.hasVideo}}&showVideoURL=scene7.playVideo&hideThumbs=0&iscommand=op_usm%3D2.2%2C1%2C6%2C0" /><param name="quality" value="high" /><param name="bgcolor" value="#ffffff" /><param name="play" value="true" /><param name="loop" value="true" /><param name="scale" value="noscale" /><param name="menu" value="true" /><param name="wmode" value="opaque" /><param name="devicefont" value="false" /><param name="salign" value="" /><param name="allowScriptAccess" value="always" /><param name="showVideo" value="{{mediaItem.hasVideo}}" /><param name="showVideoURL" value="scene7.playVideo" /><!--<![endif]--><div class="scene7-html-player" data-default-image-set="{{mediaItem.imageSet}}" ><div id="s7container"></div></div><div>{{#isHTML5}}<a href="//s7d9.scene7.com/s7viewers/html5/genericZoomMobile.html?serverUrl=http://s7d9.scene7.com/is/image/&config=Scene7SharedAssets/ImageSet_HTML5&contentRoot=http://s7d9.scene7.com/skins/&asset={{mediaItem.imageSet}}" target="_bank" style="display:none;">{{/isHTML5}}{{^isHTML5}}<a href="//s7d9.scene7.com/s7viewers/html5/genericZoomMobile.html?serverUrl=http://s7d9.scene7.com/is/image/&config=Scene7SharedAssets/ImageSet_HTML5&contentRoot=http://s7d9.scene7.com/skins/&asset={{mediaItem.imageSet}}" target="_bank" style="">{{/isHTML5}}<img src="{{mediaItem.mainImageXLargeUrl}}" style="width:400px"/></a><a href="http://www.adobe.com/go/getflash" style="display:none"><img src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash player" /></a></div><!--[if !IE]>--></object><!--<![endif]--></object></div>';
/*!
 * Mustache `quicklook/ProductVariants` template
 */
Saks.templates["quicklook/ProductVariants"]='{{#hasSkuVariants}}{{#hasMultipleSkuVariants}}<span class="ib field-mask select-field"><select name="sku_id" class="{{variantsCls}}">{{!A SKU variant option is disabled on FASHIONFIX items that are notavailable at a given time because a customer has the item on reserve.}}{{#hasScene7}}{{#skuVariants}}{{#disabled}}<optgroup label="{{display}}">{{display}}</optgroup>{{/disabled}}{{^disabled}}<option class="{{cls}}" value="{{value}}" data-url="{{mediaId}}" data-product-code="{{productCode}}" data-key="{{color}}" {{#selected}}selected="selected"{{/selected}}>{{display}}</option>{{/disabled}}{{/skuVariants}}{{/hasScene7}}{{^hasScene7}}{{#skuVariants}}{{#disabled}}<optgroup label="{{display}}">{{display}}</optgroup>{{/disabled}}{{^disabled}}<option class="{{cls}}" value="{{value}}" data-product-code="{{productCode}}" data-key="{{color}}" {{#selected}}selected="selected"{{/selected}}>{{display}}</option>{{/disabled}}{{/skuVariants}}{{/hasScene7}}</select></span>{{/hasMultipleSkuVariants}}{{^hasMultipleSkuVariants}}{{#skuVariants}}<input name="sku_id" type="hidden" value="{{value}}" />{{/skuVariants}}{{/hasMultipleSkuVariants}}{{/hasSkuVariants}}';