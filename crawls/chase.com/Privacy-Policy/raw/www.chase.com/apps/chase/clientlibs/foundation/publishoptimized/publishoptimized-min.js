/*!
 * clearFormErrorMessage: used to clear form error meassge.
 */
/*!
                     * function to update left nav on tab click
                     * ajax url been passed via the data attribute data-chase-leftnav @ trigger point
                     */
/*!
                     * additional condition to check whether tab even needs to update left hand nav'
                     * isUpdateLeftNav = true then tab event needs to update left hand nav
                     **/
/*!
                             * isUpdateLeftNav = true then call the function updateLeftnavContent
                             * which updates left nav via updateView request.
                             */
/*!	SWFObject v2.2 <http://code.google.com/p/swfobject/> 
	is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
*/
define("site/uicc/chase.globals",["jquery"],function(a){function f(){return typeof g=="string"?g:""}function h(){var a=g;g=undefined,assertTrue(f()==="");var b="https://test.value.only";g=b,assertTrue(f()===b),g=a}function i(b){b=b[0]||b,b.value==b.defaultValue&&!a(b).attr("data-chase-cancel-remove-default-value")&&(b.value=""),a(b).removeClass("chaseui-value-isdefault")}function j(){var b=document.createElement("input");a(b).addClass("chaseui-value-isdefault"),b.defaultValue="default value",b.value="default value",i(b),assertTrue(b.value==""),assertFalse(a(b).hasClass("chaseui-value-isdefault"))}function k(b){b=b[0]||b,b.value==""&&(b.value=b.defaultValue,a(b).addClass("chaseui-value-isdefault"))}function l(){var b=document.createElement("input");b.defaultValue="default value",b.value="",k(b),assertTrue(b.value=="default value"),assertTrue(a(b).hasClass("chaseui-value-isdefault"))}function m(b){a(b).parents(".chaseui-sitesearch").children(".type-ahead-menu").css("display","inline")}function n(b){var c=a(b).val();a(b).parents(".chaseui-sitesearch").children(".type-ahead-search").find("input").val(c)}function o(b){a(b).parents(".chaseui-functionpanel").find(".chaseui-functionpanelbody").toggle()}var b=typeof b!="undefined"?b:new Array,c=!1,d=function(a){b[b.length]=a};window.addUnitTest=d;var e=function(){return b},g=f();window.RESOURCES_ROOT=g,d("testJSUnitEnsureResourcesRoot"),d("testJSUnitRemoveDefaultValue"),d("testJSUnitRestoreDefaultValue")}),define("site/uicc/chase.header.utils",["jquery","site/uicc/chase.globals"],function(a){function d(a,b){return a.indexOf(b)>=0}function f(){var a=e();assertTrue("initial z value should be a big number",a>=2e4);var b=e();assertTrue("each new z value should be higher than the last",b>a)}function g(b,c){var d=a(b).children(":selected");return d.length===0?!1:d.hasClass(c)}function h(b,c){return a.trim(a(b).find("a").text())>a.trim(a(c).find("a").text())?1:-1}function i(b){a(b).children("li").sort(h).appendTo(b).children("ul").each(function(){i(this)})}function j(b){var c=a(b);c.is(".chaseui-expanded-by-default")?c.removeClass("chaseui-expanded-by-default"):c.is(".chaseui-hover")?c.removeClass("chaseui-hover"):c.addClass("chaseui-hover")}function k(b){var c=a(b);c.is(".chaseui-expanded-by-default")?c.removeClass("chaseui-expanded-by-default"):c.is(".chaseui-hover")&&c.removeClass("chaseui-hover")}function l(b){var c=a(b);c.is(".chaseui-buttonemphasized")?c.is(".chaseui-hover-buttonemphasized")?c.removeClass("chaseui-hover-buttonemphasized"):c.addClass("chaseui-hover-buttonemphasized"):c.is(".chaseui-buttonadd")?c.is(".chaseui-hover-buttonadd")?c.removeClass("chaseui-hover-buttonadd"):c.addClass("chaseui-hover-buttonadd"):c.is(".chaseui-buttongetquote")?c.is(".chaseui-hover-buttongetquote")?c.removeClass("chaseui-hover-buttongetquote"):c.addClass("chaseui-hover-buttongetquote"):c.is(".chaseui-hover-button")?c.removeClass("chaseui-hover-button"):c.addClass("chaseui-hover-button")}function m(b){"13"==b.keyCode&&a("a#logonButton").click()}var b=new function(){function c(c){return b[c]||(b[c]=a.browser.msie&&parseInt(a.browser.version,10)===c),b[c]}var b=[];b[6]=b[7]=b[8]=null,this.Six=function(){return c(6)},this.Seven=function(){return c(7)},this.Eight=function(){return c(8)}},c=new function(){var b;this.Mol=function(){return c(".chasejs-designfamily-mol")},this.BP=function(){return c(".chasejs-designfamily-blueprint")},this.LCOL=function(){return c(".chasejs-designfamily-lcol")},this.PSR=function(){return c(".chaseui-designfamilypart-psr")},this.MM=function(){return c(".chasejs-designfamily-mm")},this.CSR=function(){return c(".chasejs-designfamily-csr")},this.SWAT=function(){return c(".chasejs-designfamily-swat")};var c=function(c){return typeof b=="undefined"&&a("body").is(c)?(b=c,!0):typeof b!="undefined"&&b==c}};window.isDesignFamily=c;var e=function(){var a=2e4;return function(){return a++}}();window.topZ=e,a.fn.renameElementIds=function(){a(this).find("*[id]").each(function(){var b=a(this).attr("id"),c=a(this).attr("id",b+"_chasejs-floaterid")})}}),define("site/uicc/chase.utils",["jquery"],function(a){function b(a,b){var c=document.createElement("iframe");c.setAttribute("id",a),c.setAttribute("name",a),c.setAttribute("width","0"),c.setAttribute("height","0"),c.setAttribute("border","0"),c.setAttribute("style","width: 0px; height:0px; border: none;"),document.body.appendChild(c),document.getElementById(b).target=a}function c(){function f(c,d){$businessSelect=a(c);var e=$businessSelect.find("option:selected").attr("businessdetails");if(d==="from")var f=b.find(".chaseui-leftcolumn .chaseui-business-details");else var f=b.find(".chaseui-rightcolumn .chaseui-business-details");chasejax({url:e,success:function(a){f.html(a.businessdetails);if(a.Logo){var c=a.Logo[0];$imageContainer=b.find(".chaseui-image-uploader-container"),$imageContainer.find("img").replaceWith(c.image),$imageContainer.find("span.chaseui-button").removeClass("chaseui-submit-inactive-large").addClass("chaseui-previous-large").html(c.button)}d==="from"&&g()},spinner:f})}function g(){e.removeAttr("disabled"),b.find(".chaseui-rightcolumn DIV.chaseui-business-actions").removeClass("chaseutil-hide")}CHASE.Log("createInvoiceTemplate");var b=a("#create-invoice-business-wrapper"),c=a("#create-invoice-business-wrapper #chasejs-invoice-template-select"),d=a("#create-invoice-business-wrapper #chasejs-invoice-from-select"),e=a("#create-invoice-business-wrapper #chasejs-invoice-to-select");b.delegate("#chasejs-invoice-from-select","change",function(){f(this,"from")}),b.delegate("#chasejs-invoice-to-select","change",function(){f(this,"to")}),b.delegate("#chasejs-invoice-template-select","change",function(){var a=c.find("option:selected"),b=a.attr("setinvoicefrom");d.find("option").eq(b).attr("selected","selected"),d.trigger("change"),g()})}function d(){CHASE.Log("InitImgLoader"),a("div.chaseui-contentbody").delegate("input.chasejs-upload","change",function(){var b=a(this).attr("data-chase-img-uploader"),c=a(this).closest("form");c.ajaxForm({iframe:!0,dataType:"json",url:b,success:function(a){a!=null&&(hideSpinnerDiv(c),applyClientUpdates(a))},error:function(){hideSpinnerDiv(c);var a=displayDefaultError(c);c.html(a)},beforeSubmit:function(){showSpinnerDiv(c)}})})}function e(b){a("."+b).each(function(){var b=a(this);"none"!=b.css("display")&&b.toggle()})}function f(b){a("."+b).each(function(){var b=a(this);"none"==b.css("display")&&b.toggle()})}function g(){var a,b;return typeof window.innerWidth!="undefined"?(a=window.innerWidth,b=window.innerHeight):typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth!=0?(a=document.documentElement.clientWidth,b=document.documentElement.clientHeight):(a=document.getElementsByTagName("body")[0].clientWidth,b=document.getElementsByTagName("body")[0].clientHeight),b}function h(b,c){var d=a("#"+b),e="";d.find("thead tr, tbody tr").each(function(){var b=a(this).children().size();if(b>1){var c=0;a(this).find("th, td").each(function(){c++;var d=a(this);if(d.find(".chaseui-contexthelpcontainer").length){var f=a(d.html());f.find(".chaseui-contexthelpcontainer").remove(),d=f}var g=a.trim(d.text());g!=""&&(e+='"'+g+'"',c!=b&&(e+=","))}),e+="\n"}}),a('<form action="'+c+'" method="post"><textarea name="csvDataToDownload">'+e+"</textarea></form>").appendTo("body").submit().remove()}function l(a,b){a=""+a;var c,d,e=[];try{for(d in b)""+d!=""&&e.push(encodeURIComponent(d)+"="+encodeURIComponent(b[d]));if(0==e.length)return a;var c=a.indexOf("?"),f="";return 0>c?f="?":1<a.length-c&&(f="&"),a+f+e.join("&")}catch(g){return a}}function m(){var a,b,c,d,e,f="http://www.example.com",g="space tilde~bang!at@hash#dollar$percent%caret^and&star*parens()curly{}square[]equal=colon:whack/comma,semi;question?plus+single'double\"backslash\\",h="space%20tilde~bang!at%40hash%23dollar%24percent%25caret%5Eand%26star*parens()curly%7B%7Dsquare%5B%5Dequal%3Dcolon%3Awhack%2Fcomma%2Csemi%3Bquestion%3Fplus%2Bsingle'double%22backslash%5C";a="Basic URL, appending one key-value pair.",b=f,c={foo:"bar"},d=f+"?foo=bar",e=l(b,c),assertTrue(a,e===d),a="Basic URL, appending three key-value pairs.",b=f,c={a:"b",c:"d",e:"f"},d=f+"?a=b&c=d&e=f",e=l(b,c),assertTrue(a,e===d),a="One of the values is an empty string.",b=f,c={a:"b",c:"",e:"f"},d=f+"?a=b&c=&e=f",e=l(b,c),assertTrue(a,e===d),a="One of the keys is an empty string.",b=f,c={a:"b","":"d",e:"f"},d=f+"?a=b&e=f",e=l(b,c),a+='expected"'+d+'" actual"'+e+'"',assertTrue(a,e===d),a="The only key is an empty string.",b=f,c={"":"bar"},d=f,e=l(b,c),assertTrue(a,e===d),a="Second arg is an empty object",b=f,c={},d=f,e=l(b,c),assertTrue(a,e===d),a="Missing second arg",b=f,d=f,e=l(b),assertTrue(a,e===d),a="Second arg is not an object",b=f,c="myString",d=f,e=l(b,c),assertTrue(a,e===d),a="Special characters in the value",b=f,c={a:g},d=f+"?a="+h,e=l(b,c),assertTrue(a,e===d),a="Special characters in the key",b=f,c={},c[g]="b",d=f+"?"+h+"=b",e=l(b,c),assertTrue(a,e===d),a="URL ends with a question mark.",b=f+"?",c={foo:"bar"},d=f+"?foo=bar",e=l(b,c),assertTrue(a,e===d),a="URL has a single-char query string.",b=f+"?x",c={foo:"bar"},d=f+"?x&foo=bar",e=l(b,c),assertTrue(a,e===d),a="URL has an existing query string of multiple items.",b=f+"?a=b&c=d",c={foo:"bar"},d=f+"?a=b&c=d&foo=bar",e=l(b,c),assertTrue(a,e===d)}function n(a,b){try{if(typeof a=="string"){a.indexOf("?")===0&&(a=a.substring(1));var c,d,e={},f="&";b&&b.separator&&(f=b.separator);var g=a.split(f);for(c=0;c<g.length;c++)d=g[c].split("="),""!==d[0]&&(e[decodeURIComponent(d[0])]=decodeURIComponent(d[1]));return e}return""}catch(h){return{}}}function o(){var a,b,c,d,e;a="Two pairs",b="a=b&c=d",d={a:"b",c:"d"},e=n(b),a="document.location.search",b="?a=b&c=d",d={a:"b",c:"d"},e=n(b),a="Two pairs with semicolon separator",b="a=b;c=d",c={separator:";"},d={a:"b",c:"d"},e=n(b,c),a="One pair",b="a=b",d={a:"b"},e=n(b),a="One pair with empty value",b="a=",d={a:""},e=n(b),a="Empty key should be ignored",b="=b&c=d",d={c:"d"},e=n(b),a="Ignore extra separators",b="&&a=b&&&c=d&&",d={a:"b",c:"d"},e=n(b),a="Ignore extra values past multiple equal signs",b="a==b&C=D=E&=&=",d={a:"",C:"D"},e=n(b),a="String with no equal sign should return no pairs",b="a",d={},e=n(b),a="Non-string arg should return no pairs",b=undefined,d={},e=n(b)}function p(b,c){var d;b.tagName?d=a(b):d=a("#"+b),c?d.removeAttr("disabled"):d.attr("disabled","disabled");if(d.is("select")){var e=d.next(".jqss-styledselect");c?e.removeClass("jqss-styledselect-disabled"):e.addClass("jqss-styledselect-disabled")}if(d.is(".datepicker")){var f=d.next(".ui-datepicker-trigger");c?f.removeClass("chaseutil-hide"):f.addClass("chaseutil-hide")}}function q(a){r(a,!1)}function r(b,c){$button=a("#"+b);if(!$button.length)return;c=c==undefined?!0:!!c,$button.hasClass("chasejs-button")&&(c?$button.removeClass("chaseui-button-disabled").removeClass("chaseui-buttonemphasized-disabled").removeClass("chaseui-buttoncalculate-disabled").removeClass("chaseui-buttonrecalculate-disabled").removeAttr("disabled").find("input").removeAttr("disabled"):($button.addClass("chaseui-button-disabled").attr("disabled","disabled").find("input").attr("disabled","disabled"),$button.hasClass("chaseui-buttonemphasized")?$button.addClass("chaseui-buttonemphasized-disabled"):$button.hasClass("chaseui-buttoncalculate")?$button.addClass("chaseui-buttoncalculate-disabled"):$button.hasClass("chaseui-buttonrecalculate")&&$button.addClass("chaseui-buttonrecalculate-disabled")))}function s(a,b){var c={" chaseui-submit-large ":" chaseui-submit-inactive-large "," chaseui-submit-all ":" chaseui-submit-inactive-small "," chaseui-previous-large ":" chaseui-previous-inactive-large "," chaseui-previous-small ":" chaseui-previous-inactive-small "},d,e;if(a.hasClass("chaseui-button"))d=a,a[0].tagName!=="BUTTON"&&(a=a.children("input"));else{if(a[0].tagName!=="INPUT")return;d=a.parent()}e=" "+d.attr("class")+" ";if(b){for(var f in c)e=e.replace(f,c[f]);a.attr("disabled","disabled")}else{for(var f in c)e=e.replace(c[f],f);a.removeAttr("disabled")}d.attr("class",e.replace(/^\s\s*/,"").replace(/\s\s*$/,""))}function t(b){a("#"+b).attr("checked","checked")}function u(a){return a.is('[value=""]')?!0:!1}function v(b,c){var d="chase_saved_style_visibility",e="select";try{if(w===b)return;"string"==typeof c&&(e+=":not("+c+" select)"),b?(a(e).each(function(){a(this).data(d,this.style.visibility),this.style.visibility="hidden"}),w=!0):(a(e).each(function(){this.style.visibility=a(this).data(d)}).removeData(d),w=!1)}catch(f){}}function x(a,b){isIeVersion.Six()&&v(a,b)}function y(a){if(typeof window.SuppressFlags!="undefined"&&window.SuppressFlags!=null&&typeof window.SuppressFlags[a]!="undefined"){var b=window.SuppressFlags[a];if(b===!0)return!0}return!1}function z(){a(".chasejs-checkall").click(function(){a(this).parents().find(":checkbox").attr("checked",!0)}),a(".chasejs-clearall").click(function(){a(this).parents().find(":checkbox").attr("checked",!1)})}function A(){a("form input:radio,form input:checkbox").live("click",function(b){var c=this,d,e="false",f,g=a(c),h;g.attr("checked")&&(e="true");try{g.attr("data-chase-cancel-required-element-id")&&(d=g.attr("data-chase-cancel-required-element-id"),f=a("#"+d)),f!=null&&f.attr("data-chase-conditional-required-element-id-value")&&!f.attr("data-chase-cancel-required")&&(h=f.attr("data-chase-conditional-required-element-id-value"));if(e==="true"){if(h==="true"){var i=f.attr("data-chase-conditional-required-element-id");a("#"+i).attr("data-chase-required","false"),f.attr("data-chase-cancel-required","false"),a("#"+i).val()==""&&f.val()==""&&a("#"+i).hasClass("chaseui-formerror")&&f.hasClass("chaseui-formerror")&&(chaseClientSideValidation.clearFailedValidationMessage(a("#"+i)),chaseClientSideValidation.clearFailedValidationMessage(f)),a("#"+i).unbind().bind("blur",function(){a("#"+i).val()==""?(a("#"+i).attr("data-chase-required","false"),f.attr("data-chase-required","false"),f.hasClass("chaseui-formerror")&&(chaseClientSideValidation.clearFailedValidationMessage(a("#"+i)),chaseClientSideValidation.clearFailedValidationMessage(f),f.val(""))):a("#"+i).val()==""&&f.val()!=""&&f.hasClass("chaseui-formerror")?(chaseClientSideValidation.clearFailedValidationMessage(a("#"+i)),chaseClientSideValidation.clearFailedValidationMessage(f)):a("#"+i).val()!=""&&(f.removeAttr("data-chase-cancel-required"),f.attr("data-chase-required","true"),a("#"+i).attr("data-chase-required","true"))})}}else if(e==="false"){var i=f.attr("data-chase-conditional-required-element-id");f.removeAttr("data-chase-cancel-required"),a("#"+i).attr("data-chase-required","true"),a("#"+i).unbind().bind("blur",function(){a("#"+i).val()==""?f.hasClass("chaseui-formerror")?(chaseClientSideValidation.clearFailedValidationMessage(a("#"+i)),chaseClientSideValidation.clearFailedValidationMessage(f),f.attr("data-chase-required","false"),f.val("")):f.attr("data-chase-required","true"):a("#"+i).val()==""&&f.val()!=""&&f.hasClass("chaseui-formerror")?(chaseClientSideValidation.clearFailedValidationMessage(a("#"+i)),chaseClientSideValidation.clearFailedValidationMessage(f),f.val("")):a("#"+i).val()==""&&f.val()==""&&(chaseClientSideValidation.clearFailedValidationMessage(a("#"+i)),chaseClientSideValidation.clearFailedValidationMessage(f))})}}catch(j){}})}function B(){var b=a("form input[data-chase-conditional-required-element-id]");for(var c=0;c<b.length;c++){var d=a("#"+a(b[c]).attr("data-chase-conditional-required-element-id")),e=d.get(0)?d.get(0).tagName.toLowerCase():"";if(e=="input"){var f=new Array;f.push(d);if(d.attr("type").toLowerCase()=="radio"&&d.parent()!=null){var g=a("form input:radio[name="+d.attr("name")+"]");for(var h=0;h<g.length;h++){var i=a(g[h]);i.attr("id")!=d.attr("id")&&f.push(a(g[h]))}}for(var j=0;j<f.length;j++)f[j].bind("click",function(a){C(this)})}else e=="select"&&d.bind("change",function(a){C(this)})}}function C(b){var c=a(b),d=c.get(0).tagName.toLowerCase(),e=c.attr("id");if(d==="input"){var f=a("input:text[data-chase-conditional-required-element-id="+e+"]"),g=a("input:text").filter(function(){return typeof a(this).attr("data-chase-was-disabled")!="undefined"}),h="checked";for(var i=0;i<g.length;i++)if(g[i]!==null){var l=a("#"+a(g[i]).attr("data-chase-was-disabled"));l&&!l.attr(h)&&this.disableEnabledInput(g[i])}for(j=0;j<f.length;j++)a(f[j])!==undefined&&a(f[j])!==null&&c.attr(h)&&this.enableDisabledInput(f[j].getAttribute("id"),e)}else if(d==="select"){var m=c.prop("selectedIndex"),n=a("input:text[data-chase-conditional-required-element-id="+e+"]");if(a(n)!==undefined&&a(n)!==null&&m>0&&c.val()==n.attr("data-chase-conditional-required-element-id-value"))for(j=0;j<n.length;j++)this.enableDisabledInput(n[j].getAttribute("id"),e);else for(k=0;k<n.length;k++)this.disableEnabledInput(n[k])}}function D(b,c){a("#"+b).removeClass("chaseui-disabled"),a("#"+b).removeAttr("disabled"),a("#"+b).attr("data-chase-was-disabled",c)}function E(b){chaseClientSideValidation.clearFailedValidationMessage(a(b)),a(b).addClass("chaseui-disabled"),a(b).attr("disabled","disabled"),a(b).val(""),a(b).removeAttr("data-chase-was-disabled")}function F(a){var b=a.find(".chasevalidation-validateifselected");return b.length&&!b.attr("checked")?!1:!0}function G(b,c){var d=a(b);if(typeof d!="undefined"&&d!=null){var e=d.attr("hoverClass");e!=null&&e.length&&(c?d.find("input:disabled").length||d.addClass(e):d.removeClass(e))}}function H(b,c){var d=a(c),e=d.parents("form"),f=e.find("div.chasejs-togglefeature-container"),g=!0,h=new Array,i=a(c).parent().find("input.chaseui-fielddate"),j=i.attr("value");if(j==""||j=="mm/dd/yyyy"||!I(j))i.addClass("chaseui-formerror"),h[h.length]="Please specify a valid date",b.stopPropagation?b.stopPropagation():b.returnValue=!1;else{i.removeClass("chaseui-formerror");var k,l,m=d.closest(".chasejs-togglefeature-container");m.length&&(l=m),l.find(".chaseui-formerror").length&&(g=!1,b.stopPropagation?b.stopPropagation():b.returnValue=!1),g&&(k=e.attr("id"),FlyoutFormSubmit(k))}handleFormErrors(b,f,h)}function I(a){var b,c;if(a.length!=10)return!1;var d=a.substring(3,5)-0,e=a.substring(0,2)-1,f=a.substring(6,10)-0;return a.substring(2,3)!="/"?!1:a.substring(5,6)!="/"?!1:f<999||f>3e3?!1:(c=(new Date(f,e,d)).getTime(),b=new Date,b.setTime(c),b.getFullYear()!=f?!1:b.getMonth()!=e?!1:b.getDate()!=d?!1:!0)}function J(a){var b=document.getElementById(a);while(b.hasChildNodes())b.removeChild(b.lastChild)}function K(a,b){var c=document.createTextNode(a),d=document.getElementById(b);d.appendChild(c)}function L(a){var b=parseInt(a.attr("maxLength")),c=a.val().length,d=b-c,e=a.val().substring(0,b);d<0&&(d=0),b&&a.parent().find("span.chasejs-limitchars-remaining").html(d),a.val().length>=b&&a.val(e)}function M(b){var c=a("#"+b);c.hasClass("chaseui-islarge")?(c.removeClass("chaseui-islarge"),c.css({height:c.data("height"),width:c.data("width")})):(c.data({height:c.height(),width:c.width()}),c.addClass("chaseui-islarge"),c.css({height:800,width:800}))}function N(){var a=arguments&&arguments.length==1?arguments[0]:navigator.userAgent,b=/${MOBILEBROWSERDETECTPATTERN}/,c=new RegExp(b);return c.match(a)}function O(){var a="Mozilla/5.0 (iPhone; U; CPU like Mac OS X; zh-tw) AppleWebKit/420.1 (KHTML, like Gecko) Version/3.0 Mobile/4A102 Safari/419.3",b="Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.1.7) Gecko/20091221 Firefox/3.5.7 (.NET CLR 3.5.30729)";assertTrue("Mobile browser user agent was not recognized as such. ["+a+"]",N(a)),assertFalse("Desktop browser user agent was not recognized as such. ["+b+"]",N(b))}function P(b,c,d,e,f){var g=a("#"+e),h=a("#"+c),i=a("#"+d),j=h.parents(".chasevalidation-daterange:visible"),k=b||window.event;ValidateDateRange(k,j);if(h.is(".chaseui-formerror")||i.is(".chaseui-formerror"))return!1;var l=h.attr("value")+" - "+i.attr("value"),m=h.attr("value")+" - "+i.attr("value");g.append("<option value="+l+" selected=selected>"+m+"</option>");if(f){var n=j.parents(".chaseui-flyoutnav:first").attr("id");a("#"+n).removeClass("chaseui-flyoutnav-expanded")}}function Q(a,b){var c=0;try{var d=a.css(b);d=d?parseInt(d,10):0,c=isNaN(d)?0:d}catch(e){}return d}function R(a){var b="";if(S(a))for(i=0;i<a;i++)b+="&nbsp;";return b}function S(a){var b;if(T(a))return S.arguments.length==1?0:S.arguments[1]==1;for(b=0;b<a.length;b++){var c=a.charAt(b);if(!V(c))return!1}return!0}function T(a){return typeof a=="undefined"||!a}function U(){var a,b=[["https://www.chase.com",!1],["",!0],[undefined,!0],[null,!0],[" blah blah",!1],[a,!0]],c=b.length;while(c--)assertTrue("isNullOrEmpty("+b[c][0]+") did not return ["+b[c][1]+"]",T(b[c][0])===b[c][1])}function V(a){return a>="0"&&a<="9"}function W(a){switch(a.toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(string)}}function X(a){return parseInt(a)}function Y(b){a(b).closest("tbody").children().removeClass("chaseui-shadedrow"),a(b).closest("tr").addClass("chaseui-shadedrow")}function Z(a,b){openWindow(a,b,"width=797,height=500,resizable=yes,top=10,left=10,screenX=10,screenY=10,scrollbars=yes,titlebar=0,toolbar=1,location=1")}function $(a,b){openWindow(a,b,"width=1000,height=560,resizable=no,top=10,left=10,screenX=10,screenY=10,scrollbars=yes,titlebar=0,toolbar=1,location=1")}function _(a,b){openWindow(a,b,"width=718,height=500,resizable=no,top=10,left=10,screenX=10,screenY=10,scrollbars=yes,titlebar=0")}function ab(){a("div.chaseui-interactive-formsteps li.chaseui-interactive-formstep span a").click(function(){a(this).closest("li.chaseui-interactive-formstep").addClass("chaseui-interactive-formstep-selected").siblings().removeClass("chaseui-interactive-formstep-selected")})}function bb(a){var b=new PersonalizationCookie;b.SetLocale(a+"_us"),b.Persist()}function cb(){function b(b){chasejax({url:b,$spinner:a("#GridContainer2"),success:function(a){applyClientUpdates(a),setTimeout(function(){cb()},0)}})}CHASE.Log("InitFlyoutGroupSelection"),a("table.chasejs-payee-group-grid:not(.chasejs-initialized)").each(function(){var b=a(this);$tempTable=b[0];var c=$tempTable.attributes;for(i=0;i<c.length;i++)c[i].name.indexOf("data-payeecount-")==0&&b.data(c[i].name,c[i].value);b.addClass("chasejs-initialized")}),a("DIV.chasejs-flyout-groupselection").each(function(){$flyout=a(this),$table=$flyout.parents("table.chaseui-grid"),$flyout.delegate("ul.chaseui-linklist a:not(.chaseui-eip-open)","click",function(c){c.preventDefault();var d=a(this),e=a(this).parent("LI"),f=d.parents("DIV.chaseui-flyoutnav"),g=d.attr("data-group-value"),h="data-payeecount-"+g,i=parseInt($table.data(h));e.is(".chasejs-removefromgroup")?b(d.attr("href")):i>=45?showModal({selector:"#max-payee-reached"},d.parents("DIV.chaseui-flyoutnav").find("DIV.chaseui-flyoutnavheader a")):b(d.attr("href"))})})}function db(){a(".chaseui-group-edit-actions a").live("click",function(){return $this=a(this),$groupContainer=$this.parents("DIV.chaseui-group"),$this.hasClass("chaseui-delete-group")?($groupContainer.addClass("chaseui-mark-for-delete"),$groupContainer.find("input[type=text]").attr("disabled","disabled"),$groupContainer.find("input.chasejs-boolean-markfordelete").val(!0),$groupContainer.find("a.chaseui-undo-groupdelete").focus()):$this.hasClass("chaseui-undo-groupdelete")&&($groupContainer.removeClass("chaseui-mark-for-delete"),$groupContainer.find("input[type=text]").removeAttr("disabled"),$groupContainer.find("input.chasejs-boolean-markfordelete").val(!1),$groupContainer.find("a.chaseui-delete-group").focus()),!1})}function eb(a,b){return!T(a)&&b.length&&!T(a.attr(b))}function fb(){function b(b,c){b.preventDefault();var d=a(c).attr("data-chase-ajaxurl"),e=a("#"+a(c).attr("data-case-contentid"));return chasejax({url:d,$spinner:a(".chaseui-button-ajaxspinner"),$errorContainer:e}),!1}CHASE.Log("initGetAdditionalBankDetails"),a("#chasejs-recipientbankrouting-number").bind("submit",function(a){b(a,this)})}function gb(){var b=a("div.chaseui-formlayout");b.find(".chaseui-formerror").not("label").each(function(){chaseClientSideValidation.clearFailedValidationMessage(a(this))})}function hb(){a("body").delegate("a.chasejs-exit-warning","click",function(b){b.preventDefault();var c=a(this).attr("href");return a("body").append('<div class="chaseui-modal chaseui-modal-widthsmall" id="modal-3rd-party-link-exit"><div class="chaseui-modalbackground"><div class="chaseui-modalforeground"><div class="chaseutil-hidevisual">Begin overlay</div><span class="chaseui-icon-container chaseui-modalcloseicon"><a class="chaseui-button chasejs-modalclose" href="#"><span class="chaseui-icons chaseui-button-icon"><img height="1" width="0" alt="Close overlay" name="Close" src="/etc/designs/chasecom/images/sprite_pnt.gif"></span></a></span><div id="modal-header-content" class="chaseui-modalheadernav"><h1>You&#39;re now leaving Chase</h1></div><div class="chaseui-modalbody"><p>Chase is not responsible for, and does not provide or endorse this third-party site&#39;s products, services or other content. Chase&#39;s privacy policy and security practices do not apply to the site you&#39;re about to enter, so please review the third party&#39;s privacy and security practices.</p><div class="chaseui-formnav chaseutil-clearfix"><div class="chaseui-formnav-border"><div class="chaseui-formnav-borderright"></div></div><span class="chaseui-button chaseui-cancel-large chasejs-modalclose"><input type="button" value="Cancel"></span><span class="chaseui-button chaseui-submit-large"><input type="button" value="Proceed" onclick="document.location.href=&#39;'+c+'&#39;"></span></div></div><div class="chaseutil-hidevisual">End overlay</div></div></div></div>'),showModal({selector:"#modal-3rd-party-link-exit"},this),!1})}function ib(b){if(isDesignFamily.MM()){if(b===""||typeof b=="undefined"||typeof b!="boolean")b=!1;a("html").data("toPrompt",b),a("#PageContentColumnMain").delegate("input, select, textarea ","change",function(){a("html").data("toPrompt",!0)}),a("#PageContentColumnMain").delegate(".chaseui-formnav input[type=button], .chaseui-formnav input[type=submit]","click",function(){a("html").data("toPrompt",!1)}),window.onbeforeunload=function(){if(a("html").data("toPrompt"))return"If you leave this page, any information you've entered will be lost."}}}function lb(b){var c=a(b).closest("tr");c.remove()}function mb(a){a.bind("keydown",function(b){if(b.keyCode===9){var c=a.find(":tabbable"),d=c.filter(":first"),e=c.filter(":last");if(b.target===e[0]&&!b.shiftKey)return d.focus(1),!1;if(b.target===d[0]&&b.shiftKey)return e.focus(1),!1}return!0})}function nb(b){a(b.find(":focusable").get().concat(b.filter("tabindex").get())).eq(0).focus()}function ob(b,c){var d=b.find(":focusable"),e=a.inArray(c[0],d)+1;return d[e]}function pb(b,c){var d=b.find(":focusable"),e=a.inArray(c[0],d)-1;return d[e]}function qb(a,b){var c=ob(a,b);c&&c.focus()}var w=!1;window.clickCheckedCancelRequired=A,window.clickCheckedRequiredDataAttr=B,window.isCheckedRequiredDataAttr=C,window.enableDisabledInput=D,window.disableEnabledInput=E,a(function(){var b=a(".chaseui-limitchars");b.each(function(b){L(a(this))}),a(".chaseui-limitchars").keyup(function(){L(a(this))})}),window.isNullOrEmpty=T;var jb=function(){var b=a("DIV.invoice-item-details TABLE.chaseui-grid:eq(0)");b.delegate("TBODY > TR","mouseenter mouseleave",function(){var b=a(this);b.hasClass("chaseui-highlight")?b.removeClass("chaseui-highlight"):b.addClass("chaseui-highlight")})},kb={itemGrid:function(){return a(".invoice-item-details .chaseui-invoiceitem-grid")},optionalGrid:function(){return a(".invoice-item-details .chasejs-invoice-optional-grid")},setupInvoiceCalculation:function(){var a=kb.itemGrid(),b=kb.optionalGrid();a.delegate("INPUT.chasejs-calculate-field","change",function(a){kb.calculateItemRowTotal(this)}),b.delegate("INPUT.chasejs-calculate-field, SELECT.chasejs-calculate-field","change",function(a){kb.calculateOptionalRowTotal(this)}),a.delegate("INPUT.chasejs-input-taxable","change",function(a){kb.taxableItemsChanged()})},calculateOptionalRowTotal:function(b){var c=a(b),d=c.parents("TR:eq(0)"),e=kb.getOptionalValueType(d),f=kb.getOptionalValue(d),g=kb.isOptionalTypeTax(d);if(e==="percentage"&&!g)var h=kb.calculatePercentage(f);else if(e==="percentage"&&g)var h=kb.calculateTaxPercentage(f);else var h=f;kb.updateRowTotalAmount(d,h),kb.updateInvoiceAmount()},getOptionalValueType:function(a){return a.find("SELECT.chasejs-calculate-field").val()},getOptionalValue:function(a){var b=a.find("INPUT.chasejs-calculate-field");return kb.getValueFromField(b)},isOptionalTypeTax:function(a){var b=a.find("SELECT.chasejs-fieldtype-tax");return b.length?!0:!1},calculatePercentage:function(a){var b=kb.optionalGrid(),c=b.find("SPAN.chasejs-subtotal").text(),d=0;return c=isNaN(c)?0:kb.convertToFloat(c),c>0&&a<=100&&(d=c*a/100),d},calculateTaxPercentage:function(b){var c=kb.itemGrid(),d=0,e=0;return c.find("TR").each(function(){$this=a(this);var b=kb.isItemTaxable($this),c=b?kb.getRowTotal($this)*1:0;c>0&&(d+=c)}),d=isNaN(d)?0:kb.convertToFloat(d),d>0&&b<=100&&(e=d*b/100),e},taxableItemsChanged:function(){var a=kb.optionalGrid(),b=a.find("SELECT.chasejs-fieldtype-tax");b.trigger("change")},isItemTaxable:function(a){var b=a.find("INPUT.chasejs-input-taxable:checked");return b.length?!0:!1},getRowTotal:function(a){var b=a.find("SPAN.chasejs-row-total").text();return b},calculateItemRowTotal:function(b){var c=a(b),d=c.parents("TR:eq(0)"),e=kb.getPriceFieldValue(d),f=kb.getQtyFieldValue(d),g=e*f;g=kb.convertToFloat(g),kb.updateRowTotalAmount(d,g),kb.updateSubtotal()},getPriceFieldValue:function(a){var b=a.find("input.chasejs-field-price");return kb.getValueFromField(b)},getQtyFieldValue:function(a){var b=a.find("input.chasejs-field-qty");return kb.getValueFromField(b)},updateRowTotalAmount:function(a,b){b=kb.convertToFloat(b);var c=a.find("SPAN.chasejs-row-total");c.html(b)},getValueFromField:function(a){var b=kb.convertToFloat(a.val());return isNaN(b)?0:b},updateSubtotal:function(){var b=0,c=kb.itemGrid(),d=kb.optionalGrid();c.find('TR:not(".chaseutil-hide") SPAN.chasejs-row-total').each(function(c){var d=a(this).text()*1;b+=d}),b=kb.convertToFloat(b),d.find("SPAN.chasejs-subtotal").html(b),kb.recalculatePercentageOptionalAmount()},recalculatePercentageOptionalAmount:function(){var b=kb.optionalGrid();b.find("SELECT").each(function(){var b=a(this).val();b==="percentage"&&a(this).trigger("change")})},updateInvoiceAmount:function(){var b=0,c=0,d=kb.optionalGrid(),e=d.find("SPAN.chasejs-subtotal").text()*1,f=d.find('TR:not(".chaseutil-hide") SPAN.chasejs-row-total');for(i=1;i<=3;i++){var g=f.eq(i).text()*1;c+=g}c-=f.eq(0).text()*1,b=e+c,b=kb.convertToFloat(b),a("DIV.invoice-item-details #chasejs-invoice-total").html(b)},convertToFloat:function(a){return a=parseFloat(a),a=a.toFixed(2),a}};window.preventTabOut=mb,window.setFocusOnFirstFocusable=nb,window.getNextFocusable=ob,window.getPrevFocusable=pb,window.setFocusOnNextFocusable=qb}),define("site/uicc/_plugins.hoverintent",["jquery","jpmc/log","jpmc/topic"],function(a){var b=a;return b.fn.hoverIntent=function(c,d){var e={sensitivity:7,interval:100,timeout:0};e=b.extend(e,d?{over:c,out:d}:c);var f,g,h,i,j=function(a){f=a.pageX,g=a.pageY},k=function(a,c){c.hoverIntent_t=clearTimeout(c.hoverIntent_t);if(Math.abs(h-f)+Math.abs(i-g)<e.sensitivity)return b(c).unbind("mousemove",j),c.hoverIntent_s=1,e.over.apply(c,[a]);h=f,i=g,c.hoverIntent_t=setTimeout(function(){k(a,c)},e.interval)},l=function(a,b){return b.hoverIntent_t=clearTimeout(b.hoverIntent_t),b.hoverIntent_s=0,e.out.apply(b,[a])},m=function(c){var d=a.extend({},c),f=this;f.hoverIntent_t&&(f.hoverIntent_t=clearTimeout(f.hoverIntent_t)),c.type=="mouseenter"?(h=d.pageX,i=d.pageY,b(f).bind("mousemove.hoverIntent",j),f.hoverIntent_s!=1&&(f.hoverIntent_t=setTimeout(function(){k(d,f)},e.interval))):(b(f).unbind("mousemove.hoverIntent",j),f.hoverIntent_s==1&&(f.hoverIntent_t=setTimeout(function(){l(d,f)},e.timeout)))};return this.bind("mouseenter.hoverIntent",m).bind("mouseleave.hoverIntent",m)},a.fn.hoverIntent}),define("site/uicc/chase.plugin.floater",["jquery","jpmc/log","site/uicc/chase.header.utils","site/uicc/chase.utils","site/uicc/_plugins.hoverintent"],function(a,b){var c=a,d=b("chase.plugin.floater");(function(a){var b="chaseFloater",c=[],e=function(c,e){var f,g,h={empty:{name:"empty"},initialized:{name:"initialized"},building:{name:"building"},hidden:{name:"hidden"},displayed:{name:"displayed"},removed:{name:"removed"}},i={floaterStates:h,floaterPositions:{"right-center":{my:"left center",at:"right center",collision:"flipfit flipfit"},"left-center":{my:"right center",at:"left center",collision:"flipfit flipfit"},"bottom-center":{my:"center top",at:"center bottom",collision:"flipfit flipfit"},"top-center":{my:"center bottom",at:"center top",collision:"flipfit flipfit"},"right-top":{my:"left top",at:"right top",collision:"flipfit flipfit"},"right-bottom":{my:"left bottom",at:"right bottom",collision:"flipfit flipfit"},"left-top":{my:"right top",at:"left top",collision:"flipfit flipfit"},"left-bottom":{my:"right bottom",at:"left bottom",collision:"flipfit flipfit"},"bottom-right":{my:"right top",at:"right bottom",collision:"flipfit flipfit"},"bottom-left":{my:"left top",at:"left bottom",collision:"flipfit flipfit"},"top-right":{my:"right bottom",at:"right top",collision:"flipfit flipfit"},"top-left":{my:"left bottom",at:"left top",collision:"flipfit flipfit"},viewportcenter:{my:"center",at:"center",collision:"fit",of:window,using:function(b){var c=a(this).css(b).offset(),d=a(window).scrollTop(),e=a(window).scrollLeft();c.top<d&&a(this).css("top",b.top-c.top+d),c.left<e&&a(this).css("left",b.left-c.left+e),a(window).height()<a(this).height()?a(this).addClass("overflow-y-hidden"):a(this).removeClass("overflow-y-hidden")}}},initialFloaterPosition:"right-center",floaterId:"chasejs-contexthelpfloater",floaterContentId:"chasejs-helpcontent-forajaxupdate",contentType:"ajax",ajaxContentUrl:"",ajaxContentUpdateMethodType:"jquery",managedContentProvider:{},staticContent:"",target:c,showArrow:!0,showBorder:!0,showOverlay:!1,floaterOffset:"0 0",appendNextTo:undefined,appendtoElement:"body",preventTabOut:!1,setFocus:!0,setFocusOnContent:!1,closeOnDomClick:!1,closeOnTargetClick:!1,displayOn:undefined,displayAs:"tooltip",floaterCssClass:"",floaterWidth:"auto",floaterCollision:undefined,onHoverDelay:300,removeFloaterDelay:400,arrowOffset:20,positionTarget:undefined,onShow:undefined,repositionOnScroll:!1},j=this;j.floaterState=h.empty,j.targetId=undefined;var k={init:function(a){j.instanceGuid=(new Date).getTime(),typeof a=="object"&&k.updateSettings(a),j.floaterState=h.initialized,j.targetId=c.attr("id")||"target-"+j.instanceGuid,i.displayOn&&(i.displayOn==="click"?i.displayAs==="tooltip"?c.click(k.showAsTooltip):i.displayAs==="modal"&&c.click(k.showAsModal):i.displayOn==="hover"?c.hoverIntent({over:k.showAsTooltip,out:k.invokeRemove,interval:i.onHoverDelay}):i.displayOn==="hoverandclick"&&(c.hoverIntent({over:k.showAsTooltip,out:k.invokeRemove,interval:i.onHoverDelay}),c.click(function(a){k.showOverlay(),k.showAsTooltip(a),k.bindOverlayEvents()})))},show:function(b){var c=a(k.buildFloaterTemplate());return typeof i.onShow=="function"&&c.bind("show.chasefloater",i.onShow),k.buildFloaterContent(c),i.contentType==="ajax"?k.updateFloaterAjaxContent(c):i.contentType==="static"&&c.trigger("show.chasefloater"),k.positionFloater(c,a(i.positionTarget)),k.bindFloaterEvents(c,b),j.floaterState=h.displayed,c},buildFloaterContent:function(b){var c="";if(i.contentType=="static")typeof i.staticContent=="function"?c=i.staticContent():c=i.staticContent;else{var d=a("#"+i.floaterContentId);d.length||(d=i.target.next()),c=d.html()}i.appendNextTo?b.insertAfter(i.appendNextTo):b.appendTo(i.appendtoElement),b.find("div.chaseui-contexthelpfloaterbody").append(c)},updateFloaterAjaxContent:function(b){var c=i.ajaxContentUrl,e=a("span.chasejs-contexthelp-closebody",b);switch(i.ajaxContentUpdateMethodType){case"managedContentProvider":var f=i.managedContentProvider;f.loadSnippetContent(c,function(a){e.html(a),k.floaterAjaxContentUpdateCallback(b,e),b.trigger("show.chasefloater")},function(){d.debug("failed to load content from "+c)});break;case"chasejax":chasejax({url:c,$spinner:e,$errorContainer:e,success:function(a){applyClientUpdates(a),k.floaterAjaxContentUpdateCallback(b,e),b.trigger("show.chasefloater")}});break;case"jquery":default:chasejax({url:c,$spinner:e,$errorContainer:e,dataType:"html",success:function(a){e.html(a),k.floaterAjaxContentUpdateCallback(b,e),b.trigger("show.chasefloater")}})}},buildFloaterTemplate:function(){j.floaterState=h.building;var a="",b='<div id="{0}" class="chaseui-contexthelpfloater chaseui-chasefloater {1}" data-chase-targetid="{2}" tabindex="{3}" {4}><div class="chaseui-cornertop"><div class="chaseui-cornertopleft"></div><div class="chaseui-cornertopright"></div></div><div class="chaseui-contexthelpfloaterarrow"></div><div class="chaseui-contexthelpfloaterbody"></div><div class="chaseui-cornerbottom"><div class="chaseui-cornerbottomleft"></div><div class="chaseui-cornerbottomright"></div></div></div>';return i.showBorder&&(a=i.floaterCssClass+" chaseui-chasefloater-border"),b.replace("{0}",i.floaterId).replace("{1}",a).replace("{2}",j.targetId).replace("{3}",-1).replace("{4}"," style='width:"+i.floaterWidth+"'")},remove:function(b){j.floaterState===h.displayed&&(a('div[data-chase-targetid="'+j.targetId+'"]').remove(),k.removeOverlay(),j.floaterState=h.removed,f=undefined,a("body").data("isModalOpen")==="true"&&a("body").data("isModalOpen","false"),b&&(i.target[0]===undefined?i.target.focus():i.target[0].focus()),j.triggerEvent="")},positionFloater:function(b,c){var d=i.floaterPositions[i.initialFloaterPosition];if(i.showArrow){if(!/-center/.test(i.initialFloaterPosition))if(/left-|right-/.test(i.initialFloaterPosition)){var e=i.arrowOffset-c.height()*.5;e=e<0?0:e,/-top/.test(i.initialFloaterPosition)?d.offset=i.floaterOffset.split(" ")[0]+" -"+e:/-bottom/.test(i.initialFloaterPosition)&&(d.offset=i.floaterOffset.split(" ")[0]+" "+e)}else if(/top-|bottom-/.test(i.initialFloaterPosition)){var f=i.arrowOffset-c.width()*.5;f=f<0?0:f,/-left/.test(i.initialFloaterPosition)?d.offset="-"+f+" "+i.floaterOffset.split(" ")[1]:/-right/.test(i.initialFloaterPosition)&&(d.offset=f+" "+i.floaterOffset.split(" ")[1])}b.position(a.extend({of:c},d)),b.offset().top<1&&b.css({top:0}),k.addFloaterArrow(b,c)}else b.position(a.extend({of:c},d))},addFloaterArrow:function(a,b){var c="",d="chaseui-contexthelpfloater-arrow",e=b.offset(),f=a.offset();/(left-|right-)/.test(i.initialFloaterPosition)?e&&f.left>e.left?c="left":c="right":/(top-|bottom-)/.test(i.initialFloaterPosition)&&(e&&f.top>e.top?c="top":c="bottom"),d+=c,a.removeClass("chaseui-contexthelpfloater-arrowtop").removeClass("chaseui-contexthelpfloater-arrowbottom").removeClass("chaseui-contexthelpfloater-arrowleft").removeClass("chaseui-contexthelpfloater-arrowright"),a.addClass(d),k.positionFloaterArrow(a,b,c)},positionFloaterArrow:function(a,b,c){var d=a.offset(),e=b.offset(),f=a.find("div.chaseui-contexthelpfloaterarrow");!/-center/.test(i.initialFloaterPosition)&&/none/.test(i.floaterCollision)?(/-left/.test(i.initialFloaterPosition)&&f.css("left",i.arrowOffset-f.width()*.5),/-right/.test(i.initialFloaterPosition)&&f.css("left",a.width()-i.arrowOffset-f.width()*.5),/-top/.test(i.initialFloaterPosition)&&f.css("top",i.arrowOffset-f.height()*.5),/-bottom/.test(i.initialFloaterPosition)&&f.css("top",a.height()-i.arrowOffset-f.height()*.5)):/(left|right)/.test(c)?f.css("top",k.getFloaterArrowOffsetTop(e.top,b.height(),d.top,a.height(),f.height())):/(top|bottom)/.test(c)&&f.css("left",k.getFloaterArrowOffsetLeft(e.left,b.width(),d.left,a.width(),f.width()))},getFloaterArrowOffsetTop:function(a,b,c,d,e){var f;return c>a&&c+d<a+b?f=c-a+.5*c:c<a&&c+d>a+b?f=a-c+.5*b:c>a&&c+d>a+b?f=b-.5*(a+b-c):f=a-c+.5*(c+d-a),f-e*.5},getFloaterArrowOffsetLeft:function(a,b,c,d,e){var f;return c>a&&c+d<a+b?f=c-a+.5*c:c<a&&c+d>a+b?f=a-c+.5*b:c>a&&c+d>a+b?f=b-.5*(a+b-c):f=a-c+.5*(c+d-a),f-e*.5},removeFloaterArrow:function(a){a.removeClass("chaseui-contexthelpfloater-arrowleft").removeClass("chaseui-contexthelpfloater-arrowright")},invokeShow:function(b){var c=null;i.target=a.contains(document,i.target[0])?i.target:b.currentTarget;if(typeof b!="undefined"){if(b.type==="click")try{b.preventDefault()}catch(d){}else b.type==="mouseenter"&&f&&(window.clearTimeout(f),f=undefined);j.triggerEvent!="click"&&(j.triggerEvent=b.type)}j.floaterState!==h.building&&j.floaterState!==h.displayed?c=k.show(b):(c=a("#"+i.floaterId),i.showArrow||k.removeFloaterArrow(c));if(!b||b&&b.type!="mouseenter")!i.setFocusOnContent&&i.setFocus&&setFocusOnFirstFocusable(c),i.preventTabOut&&preventTabOut(c);return i.showOverlay&&k.showOverlay(),c.css("zIndex",topZ()),testClass="testClass",c.find("div").addClass(testClass).removeClass(testClass),c},invokeRemove:function(a){if(a.type==="click")k.remove();else{if(!/mouseenter|mousemove/.test(j.triggerEvent)||a.relatedTarget&&a.relatedTarget.id==="chaseui-overlay")return;if(f===-9999){f=undefined;return}f=window.setTimeout(k.remove,i.removeFloaterDelay)}},cancelRemove:function(){try{f?(window.clearTimeout(f),f=undefined):f=-9999}catch(a){}},showAsModal:function(b){i.showArrow=!1,i.preventTabOut=!0,i.showOverlay=!0,i.initialFloaterPosition="viewportcenter";var c=k.invokeShow(b);return k.bindFloaterAsModalEvents(),a("body").data("isModalOpen","true"),c},showAsTooltip:function(a){var b=typeof a!="undefined"&&a.type==="click";if(b&&i.closeOnTargetClick&&j.floaterState===h.displayed)return k.remove(),a.preventDefault(),!1;i.preventTabOut=i.preventTabOut||b;var c=k.invokeShow(a);return c},floaterAjaxContentUpdateCallback:function(b,c){k.positionFloater(b,a(i.positionTarget)),i.setFocusOnContent&&setFocusOnFirstFocusable(c)},bindFloaterEvents:function(b,c){b.delegate("a.chaseui-button.chasejs-flyoutclose, button.chasejs-flyoutclose, a.chasejs-flyoutclose","click.chaseFloater",function(b){a.event.trigger("modalClose",[b]),b.preventDefault(),b.stopPropagation(),k.remove(!0)}),i.repositionOnScroll&&a(window).scroll(function(c){b.position(a.extend({of:a(i.positionTarget)},i.floaterPositions[i.initialFloaterPosition]))}),k.bindFloaterAsToolTipEvents(b,c)},bindFloaterAsToolTipEvents:function(b,c){c&&c.type!="click"&&b.hover(k.cancelRemove,k.invokeRemove),i.closeOnDomClick&&a(document).unbind("click.chaseFloater").bind("click.chaseFloater",function(c){!i.target.is(c.target)&&!i.target.has(c.target).length&&!b.has(c.target).length&&a("body").data("isModalOpen")!="true"&&k.remove()})},bindFloaterAsModalEvents:function(){i.closeOnDomClick&&k.bindOverlayEvents()},bindOverlayEvents:function(){i.closeOnDomClick&&a("#chaseui-overlay").one("click.chaseFloater",k.remove)},showOverlay:function(){g=a('<div id="chaseui-overlay" class="chaseui-overlay-modal" instance-id="'+j.instanceGuid+'"></div>').css({display:"block",zIndex:topZ()}).appendTo("body")},removeOverlay:function(){g&&g.remove(),a.event.trigger("mouseOutModalClose")},updateSettings:function(b){var c=b.initialFloaterPosition||i.initialFloaterPosition;b.floaterOffset&&(i.floaterPositions[c].offset=b.floaterOffset),b.floaterCollision&&(i.floaterPositions[c].collision=b.floaterCollision),i.positionTarget=b.positionTarget||i.target,a.extend(i,b)},destroy:function(){k.remove(),c.unbind(".hoverIntent"),c.removeData(b)}};return k.init(e),{remove:k.remove,invokeRemove:k.invokeRemove,showAsModal:k.showAsModal,showAsTooltip:k.showAsTooltip,updateSettings:k.updateSettings,destroy:k.destroy}};a.fn.chaseFloater=function(a){var d=this.data(b);return typeof d=="undefined"?(d=new e(this,a),this.data(b,d),c.push(d)):typeof a=="object"&&d.updateSettings(a),d},a.fn.chaseFloater.removeAll=function(){for(var a=0;a<c.length;a++)c[a].remove()},window.removeAllFloaters=a.fn.chaseFloater.removeAll})(a,a.chaseFloater)}),define("site/uicc/dynamic-button",["jquery"],function(a){var b={IEversion:null,getInternetExplorerVersion:function(){if(b.IEversion===null){var a=-1;if(navigator.appName=="Microsoft Internet Explorer"){var c=navigator.userAgent,d=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");d.exec(c)!=null&&(a=parseFloat(RegExp.$1))}b.IEversion=a}},initDynamicallyAddedButtons:function(c){b.getInternetExplorerVersion(),a(c).each(function(){var c=a(this),d=c.attr("href"),e=c.html(),f=c.attr("data-accessible-text")||"";f&&(f="&nbsp;("+f+")");var g=c.attr("class"),h=c.attr("data-horizontalpos")||0,i=c.attr("data-verticalpos")||0,j=c.attr("data-class")||"",k=c.attr("target")||"",l;k!=""&&(k=' target="'+k+'"');var m;switch(j){case"positioned-link":if(!isNaN(h)||!isNaN(i))if(h!==0||i!==0){if(c.parent().is(".chaseui-linklist-items"))var n=c.parent().siblings(".chaseui-linklist-bullet");c.css({position:"relative",top:i+"px",left:h+"px",display:"inline-block"}).addClass(j),n&&n.css({position:"relative",top:i+"px",left:h+"px"}),c.css("text-decoration","underline").css("text-decoration","none"),b.IEversion!==null&&b.IEversion!==-1&&(n&&(c=c.add(n)),a(window).scroll(function(a){c.addClass("IEfix").removeClass("IEfix")}))}!isNaN(f)&&f!==""&&(l=c.html()+'</span><span class="accessible-text">'+f+"</span>",c.html(l));break;case"primary-button":m='<div class="sliding-button-container"><div class="sliding-button '+j+'" style="position: relative; top: '+i+"px; left: "+h+'px;"></div></div>',l='<span class="sliding-button-text">'+e+'</span><span class="accessible-text">'+f+"</span>",c.html(l).addClass("sliding-button-href").wrap(m);break;case"primary-button lock":m='<div class="sliding-button-container"><div class="sliding-button '+j+'" style="position: relative; top: '+i+"px; left: "+h+'px;"></div></div>',l='<span class="sliding-button-text"><span class="lock-container"></span>'+e+'</span><span class="accessible-text">'+f+"</span>",c.html(l).addClass("sliding-button-href").wrap(m);break;case"primary-button magnifying-glass":m='<div class="sliding-button-container"><div class="sliding-button '+j+'" style="position: relative; top: '+i+"px; left: "+h+'px;"></div></div>',l='<span class="sliding-button-text"><span class="magnifying-glass-container"></span>'+e+'</span><span class="accessible-text">'+f+"</span>",c.html(l).addClass("sliding-button-href").wrap(m);break;case"primary-button multi-select":m='<div class="sliding-button-container"><div class="sliding-button '+j+'" style="position: relative; top: '+i+"px; left: "+h+'px;"></div></div>',l='<span class="sliding-button-text">'+e+'<span class="multi-select-container"></span></span><span class="accessible-text">'+f+"</span>",c.html(l).addClass("sliding-button-href").wrap(m);break;case"secondary-button":m='<div class="sliding-button-container"><div class="sliding-button '+j+'" style="position: relative; top: '+i+"px; left: "+h+'px;"></div></div>',l='<span class="sliding-button-text">'+e+'</span><span class="accessible-text">'+f+"</span>",c.html(l).addClass("sliding-button-href").wrap(m);break;case"secondary-button lock":m='<div class="sliding-button-container"><div class="sliding-button '+j+'" style="position: relative; top: '+i+"px; left: "+h+'px;"></div></div>',l='<span class="sliding-button-text"><span class="lock-container"></span>'+e+'</span><span class="accessible-text">'+f+"</span>",c.html(l).addClass("sliding-button-href").wrap(m);break;case"secondary-button magnifying-glass":m='<div class="sliding-button-container"><div class="sliding-button '+j+'" style="position: relative; top: '+i+"px; left: "+h+'px;"></div></div>',l='<span class="sliding-button-text"><span class="magnifying-glass-container"></span>'+e+'</span><span class="accessible-text">'+f+"</span>",c.html(l).addClass("sliding-button-href").wrap(m);break;case"secondary-button multi-select":m='<div class="sliding-button-container"><div class="sliding-button '+j+'" style="position: relative; top: '+i+"px; left: "+h+'px;"></div></div>',l='<span class="sliding-button-text">'+e+'<span class="multi-select-container"></span></span><span class="accessible-text">'+f+"</span>",c.html(l).addClass("sliding-button-href").wrap(m);break;case"tertiary-button":m='<div class="sliding-button-container"><div class="sliding-button '+j+'" style="position: relative; top: '+i+"px; left: "+h+'px;"></div></div>',l='<span class="sliding-button-text">'+e+'</span><span class="accessible-text">'+f+"</span>",c.html(l).addClass("sliding-button-href").wrap(m);break;case"tertiary-button lock":m='<div class="sliding-button-container"><div class="sliding-button '+j+'" style="position: relative; top: '+i+"px; left: "+h+'px;"></div></div>',l='<span class="sliding-button-text"><span class="lock-container"></span>'+e+'</span><span class="accessible-text">'+f+"</span>",c.html(l).addClass("sliding-button-href").wrap(m);break;case"tertiary-button magnifying-glass":m='<div class="sliding-button-container"><div class="sliding-button '+j+'" style="position: relative; top: '+i+"px; left: "+h+'px;"></div></div>',l='<span class="sliding-button-text"><span class="magnifying-glass-container"></span>'+e+'</span><span class="accessible-text">'+f+"</span>",c.html(l).addClass("sliding-button-href").wrap(m);break;case"tertiary-button multi-select":m='<div class="sliding-button-container"><div class="sliding-button '+j+'" style="position: relative; top: '+i+"px; left: "+h+'px;"></div></div>',l='<span class="sliding-button-text">'+e+'<span class="multi-select-container"></span></span><span class="accessible-text">'+f+"</span>",c.html(l).addClass("sliding-button-href").wrap(m);break;default:}}),a("div.sliding-button").each(function(){var b=a(this),c=b.css("height");b.parent().css("height",c);var d=b.css("width");b.parent().css("width",d),b.parent().css("display","block")})}};return b}),function(a){define("site/uicc/accessible",["jquery"],function(a){var b={init:function(){this.doNavSkipLinks(),this.doSkipLinks(),this.insertSpanDataAccessibleText(a("body"))},insertSpanDataAccessibleText:function(b){var c=a("a[data-accessible-text]");b.find(c).each(function(){var b=a(this).attr("data-accessible-text");b&&(b="&nbsp;("+b+")"),b!==""&&a(this).hasClass("sliding-door-button")&&a(this).append('<span class="accessible-text">'+b+"</span>")})},doNavSkipLinks:function(){a("body").prepend('<a id="skipToMainContent" class="skiplink-nav-accessible-text chaseanalytics-track-link" data-pt-name="sl_maincontent" href="#main-content-section">Skip to Main Content</a>'),a(".megamenu-row1").prepend('<a class="skiplink-nav-accessible-text chaseanalytics-track-link" data-pt-name="sl_navigation" href="#main-content-section">Skip Navigation</a>'),a("body").delegate("a.skiplink-nav-accessible-text","focus",function(b){a(b.target).removeClass("skiplink-nav-accessible-text").addClass("skiplink-nav-accessible-absolute-text")}),a("body").delegate("a.skiplink-nav-accessible-absolute-text","blur",function(b){a(b.target).removeClass("skiplink-nav-accessible-absolute-text").addClass("skiplink-nav-accessible-text")}),a("body").delegate("a.skiplink-nav-accessible-absolute-text","click",function(a){a.preventDefault(),b.jumpToElement(this)})},doSkipLinks:function(){a("body").delegate("a.skiplink-accessible-text","focus",function(b){a(b.target).removeClass("skiplink-accessible-text").addClass("skiplink-accessible-absolute-text")}),a("body").delegate("a.skiplink-accessible-absolute-text","blur",function(b){a(b.target).removeClass("skiplink-accessible-absolute-text").addClass("skiplink-accessible-text")}),a("body").delegate("a.skiplink-accessible-absolute-text","click",function(a){a.preventDefault(),b.jumpToElement(this)})},jumpToElement:function(b){var c=a(b).attr("href");c=c.substring(c.indexOf("#")),a(c).attr("tabindex","0").focus()}};return b})}(),define("content/components/ads/service",["jquery","jpmc/cookie/persona","jpmc/log","jpmc/topic","jpmc/cookie/v1st","content/conf/appsconfig/clientconfig"],function(a,b,c,d,e,f){function i(){this.init=function(a,b,c,e,f){this.pageid=a,typeof b!="object"&&window.console&&console.log("[!!!WARNING!!!] [X+1 Service] Invalid impersonator parameters, ads will be shown for default user"),this.pfidoverride=b==undefined?null:b.pfid,this.segmentoverride=this.pfidoverride?b.segment:null,this.product=c,this.userType=e,this.dsoLibraryIds=f,d("personaUpdated").subscribe(function(){this.start()}),this.start()},this.start=function(){function c(a){var b=!!a;return b?(a+"").substr(0,5):b}function m(a,b){if(a==undefined)return;l.test(a)?k.data[b]=a:g.warn("["+a+"] accepts only alphanumeric");return}if(this.pageid=="undefined"){g.warn('Required parameter "pageid" not available, quitting service'),d("adError").publish("error");return}var i=this,j=b().read()||{},k={url:f.adServiceURL,dataType:"jsonp",jsonp:"_callback",timeout:f.timeout,data:{_o:f.XPOOrgID,_t:this.pageid,ssv_v1st:e().read()||"",ssv_pfid:this.pfidoverride||j.pfid||"",ssv_zip:c(j.zip)||"",ssv_cigseg:this.segmentoverride||j.segment||"",ssv_locale:j.locale||"",ssv_random:Math.floor(Math.random()*98+1),ssv_product:this.product||"",ssv_userType:this.userType||"",ssvm_lids:this.dsoLibraryIds||"",ssv_eci:j.ECI},error:function(a){g.timeEnd("X+1 Request"),g.warn("Timed out. Displaying default ads."),d("adError").publish("timeout")}},l=/^[0-9a-zA-Z]+$/;m(h.bu,"ssv_bu"),m(h.bi,"ssv_bi"),m(h.ad_id,"ssv_ad"),g.time("X+1 Request"),g.debug("Requesting ads for",this.pageid),a.ajax(k).done(function(a){g.timeEnd("X+1 Request"),d("adUpdate").publish(a)})}}var g=c("X+1 Service"),h=function(a){if(a=="")return{};var b={};for(var c=0;c<a.length;++c){var d=a[c].split("=");if(d.length!=2)continue;b[d[0]]=decodeURIComponent(d[1].replace(/\+/g," "))}return b}(window.location.search.substr(1).split("&"));return new i}),define("content/conf/ads/size",[],function(){var a={"iab-pop-medrec":{width:300,height:250},"iab-pop-wideskyscraper":{width:160,height:600},"iab-pop-leaderboard":{width:728,height:90},"iab-pop-halfpage":{width:300,height:600},"iab-large-portrait":{width:300,height:1050},"iab-large-billboard":{width:970,height:250},"iab-small-rectangle":{width:180,height:150},"iab-small-button1":{width:120,height:90},"iab-small-button2":{width:120,height:60},"iab-small-microbar":{width:88,height:31},"pb-tile":{width:250,height:65},"pb-tile1":{width:232,height:100},"pb-tile2":{width:232,height:200},"pb-medrec":{width:226,height:157},"pb-halfpage":{width:720,height:360},"cig-navad":{width:155,height:90},"cig-banner":{width:379,height:75},"cig-widebanner":{width:530,height:75},"cig-tout":{width:46,height:88},"cig-halfpage":{width:720,height:700},"cig-marque":{width:572,height:150},"cig-masthead":{width:680,height:287},"cig-carousel":{width:867,height:200},"cig-smallmarquee":{width:350,height:150},"cig-hero-marquee":{width:600,height:250},banw:{width:575,height:350},ban:{width:375,height:35},rtnv1:{width:155,height:90},rtnv2:{width:155,height:90},nvann:{width:155,height:90},interstitial:{width:833,height:380},ur_primary_bnr:{width:894,height:392},ur_dual_bnr:{width:440,height:205},ur_quad_bnr:{width:219,height:195},ur_footer_bnr:{width:468,height:215}};return a}),define("content/services/contentprovider",["jquery","content/conf/appsconfig/clientconfig"],function(a,b){var c=b.contentServer,d={isCrossDomain:function(a){rurl=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,ajaxLocParts=rurl.exec(a.toLowerCase()),parts=rurl.exec(document.location.protocol+"//"+document.location.host);var b=!(!parts||parts[1]==ajaxLocParts[1]&&parts[2]==ajaxLocParts[2]&&(parts[3]||(parts[1]==="http:"?80:443))==(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?80:443)));return b},load:function(e,f,g,h,i){var j=b.isAuthorMode,k=e;e.charAt(0)=="/"&&(k=c+e),k=k.replace("jcr:content","_jcr_content"),h||(h=0),d.isCrossDomain(k)?(k.indexOf(".html")!=-1&&(k=k.replace(".html",".jsonp.html")),a.ajax({url:k,type:"GET",dataType:"jsonp",timeout:i?i:b.timeout,success:function(a){f(a.html)},statusCode:{404:g},error:function(){h>0?d.load(e,f,g,h-1,i):g()}})):(j==null&&(j="false"),j=="true"&&(k+="?wcmmode=disabled"),a.ajax({url:k,type:"GET",timeout:i?i:b.timeout,success:function(a){f(a)},error:function(){h>0?d.load(e,f,g,h-1,i):g()}}))},loadAd:function(a,b,c,e,f,g){a.indexOf(".html")!=-1?a=a.replace(".html","/_jcr_content/adcreationcontainer/par.html"):a.indexOf(".htm")!=-1&&(a=a.replace(".htm","/_jcr_content/adcreationcontainer/par.html")),d.load(a,function(a){a=a.replace("${jpmcPageVar.clickThruUrl}",e),b(a)},c,f,g)},loadDisclosure:function(a,b,c,e,f){d.load(a,b,c,e,f)},loadSnippetContent:function(a,b,c,e,f){a.lastIndexOf("/")==a.length-1||a.indexOf(".htm")==-1?a.match("/content/dam")?a=a:a+="/_jcr_content/par.html":a.indexOf(".html")!=-1?a=a.replace(".html","/_jcr_content/par.html"):a.indexOf(".htm")!=-1&&(a=a.replace(".htm","/_jcr_content/par.html")),d.load(a,b,c,e,f)}};return d}),define("site/uicc/utils",["jquery","content/services/contentprovider","jqueryui"],function(a,b){var c={isIeVersion:function(){function c(c){return b[c]||(b[c]=a.browser.msie&&parseInt(a.browser.version,10)===c),b[c]}var b=[];b[6]=b[7]=b[8]=null,this.Six=function(){return c(6)},this.Seven=function(){return c(7)},this.Eight=function(){return c(8)}},hasClass:function(a,b){return a.indexOf(b)>=0},topZ:function(){var a=2e4;return function(){return a++}},isDesignFamily:function(){var b,c;c={Mol:function(){return d(".chasejs-designfamily-mol")},BP:function(){return d(".chasejs-designfamily-blueprint")},LCOL:function(){return d(".chasejs-designfamily-lcol")},PSR:function(){return d(".chaseui-designfamilypart-psr")},MM:function(){return d(".chasejs-designfamily-mm")},CSR:function(){return d(".chasejs-designfamily-csr")},SWAT:function(){return d(".chasejs-designfamily-swat")}};var d=function(c){return typeof b=="undefined"&&a("body").is(c)?(b=c,!0):typeof b!="undefined"&&b==c};return c},sortItem:function(b,c){return a.trim(a(b).find("a").text())>a.trim(a(c).find("a").text())?1:-1},sortItem:function(b,c){return a.trim(a(b).find("a").text())>a.trim(a(c).find("a").text())?1:-1},sortList:function(b){a(b).children("li").sort(sortItem).appendTo(b).children("ul").each(function(){sortList(this)})},submitOnEnterLogonIE:function(b){"13"==b.keyCode&&a("a#logonButton").click()},getViewportHeight:function(){var b,c;return typeof window.innerWidth!="undefined"?(b=window.innerWidth,c=window.innerHeight):typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth!=0?(b=document.documentElement.clientWidth,c=document.documentElement.clientHeight):(b=document.getElementsByTagName("body")[0].clientWidth,c=document.getElementsByTagName("body")[0].clientHeight),c},getCsv:function(b,c){var d=a("#"+b),e="";d.find("thead tr, tbody tr").each(function(){var b=a(this).children().size();if(b>1){var c=0;a(this).find("th, td").each(function(){c++;var d=a(this);if(d.find(".chaseui-contexthelpcontainer").length){var f=a(d.html());f.find(".chaseui-contexthelpcontainer").remove(),d=f}var g=a.trim(d.text());g!=""&&(e+='"'+g+'"',c!=b&&(e+=","))}),e+="\n"}}),a('<form action="'+c+'" method="post"><textarea name="csvDataToDownload">'+e+"</textarea></form>").appendTo("body").submit().remove()},appendQueryParameters:function(a,b){a=""+a;var c,d,e=[];try{for(d in b)""+d!=""&&e.push(encodeURIComponent(d)+"="+encodeURIComponent(b[d]));if(0==e.length)return a;var c=a.indexOf("?"),f="";return 0>c?f="?":1<a.length-c&&(f="&"),a+f+e.join("&")}catch(g){return a}},splitQueryString:function(a,b){try{if(typeof a=="string"){a.indexOf("?")===0&&(a=a.substring(1));var c,d,e={},f="&";b&&b.separator&&(f=b.separator);var g=a.split(f);for(c=0;c<g.length;c++)d=g[c].split("="),""!==d[0]&&(e[decodeURIComponent(d[0])]=decodeURIComponent(d[1]));return e}return""}catch(h){return{}}},isDate:function(a){var b,c;if(a.length!=10)return!1;var d=a.substring(3,5)-0,e=a.substring(0,2)-1,f=a.substring(6,10)-0;return a.substring(2,3)!="/"?!1:a.substring(5,6)!="/"?!1:f<999||f>3e3?!1:(c=(new Date(f,e,d)).getTime(),b=new Date,b.setTime(c),b.getFullYear()!=f?!1:b.getMonth()!=e?!1:b.getDate()!=d?!1:!0)},ismaxlength:function(a){var b=parseInt(a.attr("maxLength")),c=a.val().length,d=b-c,e=a.val().substring(0,b);d<0&&(d=0),b&&a.parent().find("span.chasejs-limitchars-remaining").html(d),a.val().length>=b&&a.val(e)},magnifyImage:function(b){var c=a("#"+b);c.hasClass("chaseui-islarge")?(c.removeClass("chaseui-islarge"),c.css({height:c.data("height"),width:c.data("width")})):(c.data({height:c.height(),width:c.width()}),c.addClass("chaseui-islarge"),c.css({height:800,width:800}))},IsMobileBrowser:function(){var a=arguments&&arguments.length==1?arguments[0]:navigator.userAgent,b=/${MOBILEBROWSERDETECTPATTERN}/,c=new RegExp(b);return c.match(a)},cssAsInt:function(a,b){var c=0;try{var d=a.css(b);d=d?parseInt(d,10):0,c=isNaN(d)?0:d}catch(e){}return d},renderWhiteSpaceHtml:function(a){var b="";if(isInteger(a))for(i=0;i<a;i++)b+="&nbsp;";return b},isInteger:function(a){var b;if(isNullOrEmpty(a))return isInteger.arguments.length==1?0:isInteger.arguments[1]==1;for(b=0;b<a.length;b++){var c=a.charAt(b);if(!isDigit(c))return!1}return!0},isNullOrEmpty:function(a){return typeof a=="undefined"||!a},isDigit:function(a){return a>="0"&&a<="9"},convertStringToBool:function(a){switch(a.toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(string)}},convertStringToInt:function(a){return parseInt(a)},hasAttribute:function(b,c){return!isNullOrEmpty(b)&&c.length&&!isNullOrEmpty(b.attr(c))},preventTabOut:function(a){a.bind("keydown",function(b){if(b.keyCode===9){var c=a.find(":tabbable"),d=c.filter(":first"),e=c.filter(":last");if(b.target===e[0]&&!b.shiftKey)return d.focus(1),!1;if(b.target===d[0]&&b.shiftKey)return e.focus(1),!1}return!0})},getFirstContent:function(b){var c=b.find("*").contents().not('.accessible-text, [aria-hidden="true"]');for(var d=0,e=c.length;d<e;d++){var f=c[d],g=a(f);if(!f.disabled){if(/input|a|button|textarea/.test(f.nodeName)||g.attr("tabindex"))return g;if(f.nodeName==="IMG"&&g.attr("alt"))return g;if(f.nodeType===3&&g.text().trim()&&g.parent().not('.accessible-text, [aria-hidden="true"]').length)return g.parent()}}},getLastContent:function(b){var c=b.find("*").contents().not('.accessible-text, [aria-hidden="true"]'),d=c.length;for(var e=d-1;e>=0;e--){var f=c[e],g=a(f);if(!f.disabled){if(/input|a|button|textarea/.test(f.nodeName)||g.attr("tabindex"))return g;if(f.nodeName==="IMG"&&g.attr("alt"))return g;if(f.nodeType===3&&g.text().trim()&&g.parent().not('.accessible-text, [aria-hidden="true"]').length)return g.parent()[0].nodeName==="SUP"?g.parent().parent():g.parent()}}},setFocusOnFirstFocusable:function(b){a(b.find(":focusable").get().concat(b.filter("tabindex").get())).eq(0).focus()},getNextFocusable:function(c,d){var e=c.find(":focusable"),f=a.inArray(d[0],e)+1;return e[f]},getPrevFocusable:function(c,d){var e=c.find(":focusable"),f=a.inArray(d[0],e)-1;return e[f]},setFocusOnNextFocusable:function(a,b){var d=c.getNextFocusable(a,b);d&&d.focus()},clickCheckedRequiredDataAttr:function(){var b=a("form input[data-chase-conditional-required-element-id]");for(var c=0;c<b.length;c++){var d=a("#"+a(b[c]).attr("data-chase-conditional-required-element-id")),e=d.get(0)?d.get(0).tagName.toLowerCase():"";if(e=="input"){var f=new Array;f.push(d);if(d.attr("type").toLowerCase()=="radio"&&d.parent()!=null){var g=a("form input:radio[name="+d.attr("name")+"]");for(var h=0;h<g.length;h++){var i=a(g[h]);i.attr("id")!=d.attr("id")&&f.push(a(g[h]))}}for(var j=0;j<f.length;j++)f[j].bind("click",function(a){isCheckedRequiredDataAttr(this)})}else e=="select"&&d.bind("change",function(a){isCheckedRequiredDataAttr(this)})}},showAjaxSpinner:function(a,b){b=="formsubmit"?(a.hide().after('<div class="ajax-spinner" tabindex="-1">Submitting information.. <img width="80px" src="/etc/designs/chasecom/images/loadingAnimation.gif" alt="submitting information"/></div>'),a.next().focus()):b!="modalloading"},hideAjaxSpinner:function(a,b){b=="formsubmit"&&a.show().next(".ajax-spinner").remove()},addCommas:function(a){a+="",x=a.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";var b=/(\d+)(\d{3})/;while(b.test(x1))x1=x1.replace(b,"$1,$2");return x1+x2},submitToServlet:function(c,d){var e=c.serialize(),f=c.attr("action");f&&a.ajax({type:"POST",processData:!1,url:f,data:e,success:function(e){var f=a(e).find("META")[0].getAttribute("CONTENT"),g=f.substring(f.indexOf("URL=")+4),h=document.createElement("a");h.href=g,g=h.pathname.substring(0,1)==="/"?h.pathname:"/"+h.pathname,b.loadSnippetContent(g,function(a){d.remove(),c.html(a)},function(a){d.remove(),c.html('<p style="color: red;">An error occured while submitting your information.</p>')})},error:function(){d.remove(),c.html('<p style="color: red;">An error occured while submitting your information.</p>')}})},decimalLimit:function(b){if(a(b).val().indexOf(".")!=-1&&a(b).val().split(".")[1].length>2){if(isNaN(parseFloat(b.value)))return;b.value=b.value.replace(/,/,""),b.value=parseFloat(b.value).toFixed(2)}return b},formatComma:function(a){var b=a.value+"";b=b.replace(/\,/g,""),x=b.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";var c=/(\d+)(\d{3})/;while(c.test(x1))x1=x1.replace(c,"$1,$2");a.value=x1+x2}};return c}),define("site/uicc/chase.ajax",["jquery","site/uicc/utils"],function(a,b){function d(){if(arguments.length<=0)return;for(var b=0;b<arguments.length;++b){var c=arguments[b];if(c instanceof a){var d=e(c);c.html(d)}}}function e(a){var b=a.height(),c=a.width(),d;return b==0||c==0?d='<div class="chaseui-ajaxloader"><img alt="Please wait" src="/etc/designs/chasecom/images/loading.gif"></div>':d='<div class="chaseui-ajaxloader" style="height:'+b+"px;width:"+c+'px;"><img alt="Please wait" src="/etc/designs/chasecom/images/loading.gif"></div>',d}function f(a){var c=a.height(),d=b.isDesignFamily().BP()?610:a.width(),e='<div class="chaseui-ajaxloader" style="height:'+c+"px;width:"+d+'px;"><div class="chaseui-ajaxloadererror"><strong>We\'re unable to process your request.</strong> Our system is temporarily unavailable. We apologize for any inconvenience. Please try again later or <a href="#" onclick="openWindow(\'/Secure/Misc/ContactUs.aspx\'); return false;">Contact Us</a>. </div></div>';return e}function g(a,d,i,j,k){c("#chasejs-contexthelpfloater").remove();var l=c(".chasejs-isexpanded");l.length&&l.removeClass("chasejs-isexpanded");var m,n;a.jquery?(m=a,n=m.attr("id")):a.tagName?(m=c(a),n=m.attr("id")):(m=c("#"+a),n=a);if(i&&(OptionSelectedIsIgnored(i)||OptionSelectedIsFlyout(i)||OptionSelectedIsModal(i)||OptionSelectedIsInstructionText(i)||OptionSelectedIsFlyoutNav(i)))return!1;if(j&&m.is(".chasejs-hasbeenupdated"))return!1;i&&c(i).is(".chasejs-flyoutlink")&&c(i).not(".chasejs-triggeredupdateview").length&&c(i).click(function(){c(i).not(".chasejs-triggeredupdateview").length&&(c(i).addClass("chasejs-triggeredupdateview"),g(a,d,i,j,k))});var o="GET",q,r=function(a){h(m,a,i,n)},s=getViewportHeight(),t=e(m),u=f(m);d.indexOf("PropertiesList")>-1&&(u='<div class="chaseui-ajaxloader" style="height:'+s+'px;"><div class="chaseui-ajaxloadererror"><strong>We\'re unable to process your request.</strong> Our system is temporarily unavailable. We apologize for any inconvenience. Please try again later. </div></div>');var v=function(){m.fastempty().append(u)};if(k){var w=new Object;c.each(k,function(a,b){var d=c("#"+b),e=d.attr("name");e||(e=b);var f=d.attr("type"),g;f=="checkbox"||f=="radio"?g=d.prop("checked"):g=d.attr("value"),w[e]=g}),d=appendQueryParameters(d,w)}if(c(i).is("form")){formHandler(i),c(i).find(".chasejs-cleardefault").each(function(){removeDefaultValue(this)}),q=c(i).serialize(),c(i).find(".chasejs-cleardefault").each(function(){restoreDefaultValue(this)}),o="POST";try{c(window).attr("postedform",i)}catch(x){}}if(m.is("#chasejs-contexthelpfloater"))m.find(".chaseui-contexthelpcontentbody").fastempty().append(t);else if(b.isDesignFamily().BP())t='<div class="chaseui-ajaxloader" style="height:'+m.height()+'px; top:15px;"><img alt="Please wait" src="'+RESOURCES_ROOT+'/etc/designs/chasecom/images/loading.gif"></div>',m.fastempty().append(t),c(".chaseui-modalheader").css("border","none");else if(m.is(".chaseutil-suppress-spinner"))m.fastempty();else if(c(i).is(".chaseui-eip-buttonsubmit")&&m.is(".chaseui-summaryblock")){var y=c(".chaseui-eip-innercontainer").parent(".chaseui-eip-outercontainer").find("form");y.find(".chasejs-cleardefault").each(function(){removeDefaultValue(this)}),DisableEditInPlaceCloseButton(!0),q=y.serialize(),o=y.attr("method"),c(".chaseui-eip-innercontainer").fastempty().append(t)}else m.fastempty().append(t);b.isDesignFamily().Mol()?c("div.chaseui-ajaxloader > img").addClass("chaseui-ajaxloader_new"):c("div.chaseui-ajaxloader").height()>s&&c("div.chaseui-ajaxloader > img").addClass("chaseui-ajaxloader_new"),c(i).is("not:(.chasejs-flyoutlink)")&&c("#chasejs-contexthelpfloater").remove(),m.addClass("chasejs-hasbeenupdated"),p({url:d,type:o,dataType:null,data:q,$errorContainer:m,success:r,error:v})}function h(a,d,e,f){if(d.indexOf&&d.indexOf("secureLogonTable")>-1)window.location="/Logon.aspx";else if(b.isDesignFamily().Mol()&&c(".chaseui-pageidentifier-login").length)window.location="/public/logoff";else{sessionTimeoutReset(),a.attr("id")==undefined&&(a=c("#"+f));if(d.indexOf&&d.indexOf("chasejs-ajaxinsertinto")>-1){var g=document.createElement("div");g.InnerHTML=d;var h=c(g)}if(typeof h!="undefined"&&h.find("div.chfasejs-ajaxinsertinto").length)h.find("div.chasejs-ajaxinsertinto").each(function(a,b){c("#"+c(b).attr("data-ajaxinsertinto")).fastempty().append(c(b).html())});else if(typeof d=="object"&&d.Actions)q(d);else if(a.is(".chaseui-contentpanel-expandable"))a.fastempty().append(d),initExpandableContentPanels(!0,f);else if(a.is(".chasejs-gridcontainer"))a.fastempty().append(d);else if(a.is(".chaseui-graphandcalendarcontainer, .chaseui-calendarcontainer"))a.fastempty().append(d),initGraph(a.find(".chaseui-graph").attr("id")),initCalendar(a.find(".chaseui-calendar")),initStyledSelects(a.find("select"));else if(a.is(".chaseui-graph"))a.fastempty().append(d),initGraph(f);else if(a.is(".chaseui-contentpanel-expandablesection"))a.fastempty().append(d),initGraph(a.find(".chaseui-graph").attr("id"));else if(a.is("#chasejs-contexthelpfloater"))a.find(".chaseui-contexthelpcontentbody").fastempty().append(d),c(e).next().find(".chaseui-contexthelpcontentbody").fastempty().append(d);else if(a.is("div.chaseui-eip-outercontainer")||a.is("div.chaseui-eip-innercontainer")){a.fastempty().append(d);var i=c("#"+c(e).attr("data-chase-element-target-id")).closest(".chasejs-expand");i.css({height:a.height()}),i.addClass("chasejs-hasbeenupdated"),setTimeout(initFormFields,0),initDatePicker(),editInPlaceCheckTabIndex()}else if(a.is("div.chaseui-summaryblock")){if(d.search("chaseui-eip-buttonsubmit")<0)a.fastempty().append(d);else{var j=c("div.chaseui-eip-innercontainer");j.fastempty().append(d),setTimeout(initFormFields,0),initDatePicker(),editInPlaceCheckTabIndex(),a.find(".chasejs-hasbeenupdated").css({height:j.parent(".chaseui-eip-outercontainer").css("height")})}DisableEditInPlaceCloseButton(!1)}else a.fastempty().append(d);chaseuiInit(!0,a),!a.not("#chasejs-contexthelpfloater").length}if(b.isDesignFamily().BP()){var k=a.find(".jqss-styledselect");centerModal(!1,a)}a.closest("div.chaseui-modal").length&&a.trigger("resize.chasemodal")}function i(a,b,d,e,f){function k(){if(c(h).hasClass("chaseui-formerror")||c(i).hasClass("chaseui-formerror"))return;j=j+"startDate="+h.value+"&endDate="+i.value,g(a,j)}var h=document.getElementById(b),i=document.getElementById(d),j=e;setTimeout(k,500)}function j(a,b,d,e,f){var h;h=c("#"+a);var i=!1,j=!1,k="Show details",l="Hide details";c(d).is(".chaseui-utilexpand")&&(i=!0);var m=c(d).find("span.accessible-text");i?(c(d).removeClass("chaseui-utilexpand").addClass("chaseui-utilcollapse"),c(d).attr("title",k),m.length&&m.text(k),j=!0,b&&g(view,b,d,ifNotLoaded)):(c(d).addClass("chaseui-utilexpand").removeClass("chaseui-utilcollapse"),c(d).attr("title",l),m.length&&m.text(l)),h.find("table.chaseui-grid-child caption a.chasejs-gridcol-toggle").each(function(){var a=!1;c(this).is(".chaseui-utilexpand")&&(a=!0),a==j&&c(this).click()})}function k(a,d,e,f,h,i,j,k,l){var m="Show",n="Hide",o="Show all accounts for ",p="Hide all accounts for ";b.isNullOrEmpty(h)||(m=h),b.isNullOrEmpty(h)||(n=i),b.isNullOrEmpty(h)||(o=j),b.isNullOrEmpty(h)||(p=k);var q,r;a.tagName?(q=c(a),r=q.attr("id")):(q=c("#"+a),r=a),q.toggle();var s=!1,t=c(e);t.is(".chaseui-utilexpand")&&(s=!0);var u=t.find("span.accessible-text");if(q[0]&&(q[0].tagName=="TD"||q[0].tagName=="TR")){var v=t.parents(".chasejs-grid, .chasejs-grid-expand");if(v.length&&v[0]==q.parents(".chasejs-grid, .chasejs-grid-expand")[0]){var w=t.parents("tr"),x=q.parents("tr");s?(w.addClass("chaseui-gridexpanded chaseui-gridexpanded-triggerrow"),x.addClass("chaseui-gridexpanded")):(w.removeClass("chaseui-gridexpanded chaseui-gridexpanded-triggerrow"),x.removeClass("chaseui-gridexpanded"))}}var y=t.parent().siblings("thead"),z=y.find("th:not(.chaseui-header-collapse-show)"),A=y.find("th.chaseui-header-collapse-show");s?(q.find("tr.chaseui-griddetails-container > td, tr.chaseui-gridrow-selected > td").addClass("chaseutil-noborder"),t.removeClass("chaseui-utilexpand").addClass("chaseui-utilcollapse"),typeof l!="undefined"&&l===!0?t.html(n):t.text(n),t.attr("title",o),u.length&&u.text(o),d&&g(a,d,e,f),t.closest("table").addClass("chaseui-grid-collapse"),c(this).addClass(".chaseui-grid-innercell-header-collapse"),z.contents().css("visibility","hidden"),c(A).each(function(){var a=c(this).children("a:first");a.css("display","none"),""!==a.text()?c(this).prepend('<span class="chasejs-placeholders">'+a.html()+"</span>"):c(this).prepend('<span class="chasejs-placeholders"></span>');var b=c(this).children("span.chaseui-togglevisual");b.length&&(b.css("display","none"),c(this).append('<span class="chasejs-placeholders">'+b.text()+"</span>"))})):(q.find("tr.chaseui-griddetails-container > td, tr.chaseui-gridrow-selected > td").removeClass("chaseutil-noborder"),t.addClass("chaseui-utilexpand").removeClass("chaseui-utilcollapse"),typeof l!="undefined"&&l===!0?t.html(m):t.text(m),t.attr("title",p),u.length&&u.text(p),t.closest("table").removeClass("chaseui-grid-collapse"),z.contents().css("visibility","visible"),c(A).each(function(){c(this).children("span.chasejs-placeholders").remove().end().children("a:first").css("display","inline").end(),c(this).children("span.chaseui-togglevisual").css("display","inline")}))}function l(a,d,e,f,h){var i=document.getElementById(d),j=i.value,k=h,l;hideErrorText(f),c(i).hasClass("chaseui-formerror")&&(c(i).removeClass("chaseui-formerror"),c(i).addClass("chaseui-indexinput")),!b.isNullOrEmpty(j)&&isInteger(j)?j<=e&&j>0?(k+=j,g(a,k)):(l="Value Entered ("+j+") is not between 1 and "+e+".",showErrorText(l,f),c(i).hasClass("chaseui-indexinput")&&(c(i).removeClass("chaseui-indexinput"),c(i).addClass("chaseui-formerror"))):(l="Value Entered ("+j+") is not a valid value.  Only numbers between 1 and "+e+" are valid.",showErrorText(l,f),c(i).hasClass("chaseui-indexinput")&&(c(i).removeClass("chaseui-indexinput"),c(i).addClass("chaseui-formerror")))}function m(a,c,d,e){var f=document.getElementById(c),h=f.value,i=e;!b.isNullOrEmpty(h)&&isInteger(h)&&h<=d&&h>0&&(i+=h,g(a,i))}function n(a,b,d,e,f,h){var i=b,j=e,k=j-1,l=h,m;hideErrorText(f),c(i).hasClass("chaseui-formerror")&&(c(i).removeClass("chaseui-formerror"),c(i).addClass("chaseui-indexinput")),k<=d&&(l+=k,g(a,l,this))}function o(a,b,c,d){clearFormErrorMessage(),g(b,c,d,!1),showModal({selector:a},d)}function q(a){if(!a||b.isNullOrEmpty(a.Actions))return;for(var c=0;c<a.Actions.length;c++){var d=a.Actions[c];r(d)}}function r(a){switch(a.Type){case 0:break;case 1:c(a.Selector).val(a.Data);break;case 2:c(a.Selector).html(a.Data);break;case 3:c(a.Selector).addClass(a.Data);break;case 4:c(a.Selector).removeClass(a.Data);break;case 5:hideModal({selector:a.Selector});break;case 6:c(a.Selector).show();break;case 7:c(a.Selector).hide();break;case 8:c(a.Selector).replaceWith(a.Data);break;case 9:c(a.Selector).append(a.Data);break;case 10:c(a.Selector).prepend(a.Data);break;case 11:var b=a.Data.split(",");c(a.Selector).attr(b[0],b[1]);break;case 12:c(a.Selector).removeAttr(a.Data);break;case 13:window.location.href=a.Data;break;case 14:c(a.Data).insertBefore(a.Selector);break;case 99:var d=c(".chasejs-default-error-container");d.length&&c(d[0]).html(a.Data);break;default:alert("unknown command for client:"+a.Type)}}function s(b){if(!b||!b instanceof a)return;var c=e(b);c&&(b.children().hide(),b.append(c))}function t(b){if(!b||!b instanceof a)return;b.children().show(),b.children(".chaseui-ajaxloader").filter(function(){return c(this).children(".chaseui-ajaxloadererror").length==0}).hide()}function u(a){var b="<div class='chaseui-statusmessagepanel chaseui-statusmessagepanel-error'><div class='chaseui-contentpanelcontent'><div class='chaseutil-floatleft'><span class='chaseui-icon-container'><span  class='chaseui-icons chaseui-statusmessagepanel-icon'><img src='/etc/designs/chasecom/images/sprite_pnt.gif' alt='Alert!' width='0' height='1'></span></span></div><div class='chaseui-statusmessagepanel-title'>Lorem ipsum dolor!</div><div class='chaseui-statusmessagepanel-text'>Donec nec convallis nibh. Ut et volutpat lorem. Sed elementum elit quis leo egestas commodo.</div></div></div>",d=a.find("div.chaseui-modalbody");if(d.length){var e=c(d[0]);c(d[0]).children("div.chaseui-statusmessagepanel-error").hide(),t(e),c(d[0]).prepend(b)}}function v(a){if(!a.$form)return;var c={$form:a.$form,formAction:a.formAction||a.$form.attr("action"),isChasejaxResponse:a.isChasejaxResponse,$target:a.$target||a.$form,$spinner:a.$spinner||a.$form,$errorcontainer:a.$errorcontainer||a.$form,onSuccess:a.onSuccess,onComplete:a.onError};c.$target.unbind("success.ajaxfrom").bind("success.ajaxfrom",c.onSuccess),c.$target.unbind("complete.ajaxfrom").bind("complete.ajaxfrom",c.onComplete),p({type:c.$form.attr("method")||"POST",url:c.formAction,$spinner:c.$spinner,$errorContainer:c.$errorcontainer,data:c.$form.serialize(),dataType:c.isChasejaxResponse?"json":null,success:function(a){c.isChasejaxResponse?q(a):c.$target.html(a),c.$target.trigger("success.ajaxfrom")},complete:function(){c.$target.trigger("complete.ajaxfrom"),t(c.$spinner),b.isNullOrEmpty(c.$errorContainer)||c.$errorContainer.removeClass("chasejs-default-error-container")}})}var c=a,p=function(a,c){return function(d){function h(){a.ajax({url:e.url,dataType:e.dataType,type:e.type,data:e.data,cache:e.cache,beforeSend:e.beforeSend,success:e.success,error:function(a,b,c){a.status!==401&&a.status!==403&&(a.status===504&&!(g++)?h():setTimeout(e.error,0))},complete:e.complete})}var e=a.extend({url:"",$spinner:c,$errorContainer:c,dataType:"json",type:"GET",data:"",cache:!1,beforeSend:function(){s(e.$spinner),b.isNullOrEmpty(e.$errorContainer)||e.$errorContainer.addClass("chasejs-default-error-container")},success:function(a){q(a)},error:function(){isNullOrEmpty(e.$errorContainer)||e.$errorContainer.fastempty().append(f(e.$errorContainer))},complete:function(){t(e.$spinner),b.isNullOrEmpty(e.$errorContainer)||e.$errorContainer.removeClass("chasejs-default-error-container")}},d),g=0;h()}}(a);window.chasejax=p,window.ajaxFormSubmit=v}),define("site/uicc/dynamic-modals",["jquery","content/services/contentprovider","content/conf/appsconfig/clientconfig","jqueryui/core","jqueryui/position","site/uicc/chase.ajax","site/uicc/chase.plugin.floater"],function(a,b,c){var d=c.contentServer,e={init:function(c,d){d=d||".dynamically-built-ajax-modal-link",c.find(d).each(function(){var c=a(this),d;c.append('<span class="accessible-text">&nbsp;(Opens Overlay)</span>'),c.hasClass("modal-height-592")?d="modal-height-592":d="",d=c.attr("floaterCssClass")?d+" "+c.attr("floaterCssClass"):d,c.on("click",function(f){f.preventDefault();var g=c.attr("href"),h=0,i={};g.indexOf("#!")!=-1&&(h=g.split("#!"),a("#leftNav-deepLink").length?a("#leftNav-deepLink").attr("data-deepLink",h[1]):a("body").append("<span id='leftNav-deepLink' data-deepLink='"+h[1]+"'></span>"));var j=c.chaseFloater({managedContentProvider:b,ajaxContentUpdateMethodType:"managedContentProvider",ajaxContentUrl:h?h[0]:g,showBorder:!0,floaterCssClass:"chaseui-dynamic-modal chaseui-modalbackground "+d,closeOnDomClick:!1,floaterWidth:c.attr("data-width")||"350px",onShow:function(){e.commonModalInit(this,c,j),e.trackModalLoad(this,c,j);var a=$this.find("iframe");a.load(function(){a.contents().find("a.chasejs-modalclose").on("click",function(a){j&&j.remove()})})}});j.showAsModal(f)})})},triggerModal:function(b){e.init(a("body"),b),a(b).trigger("click")},existingContentModal:function(b,c,d){b=b||".dynamically-built-ajax-modal-link";var f="";d?f=a(c).parent().closest(d).parent().html():f=a(c).parent().html(),a(b).each(function(){var b=a(this),c;b.before('<span class="accessible-text">Opens Modal.</span>'),b.hasClass("modal-height-592")?c="modal-height-592":c="",b.on("click",function(a){a.preventDefault(),b.chaseFloater({contentType:"static",staticContent:f,showBorder:!0,closeOnDomClick:!1,floaterCssClass:"chaseui-dynamic-modal chaseui-modalbackground "+c,floaterWidth:b.attr("data-width")||"350px",onShow:function(){e.commonModalInit(this,b),e.trackModalLoad(this,b)}}).showAsModal(a)})})},autoTriggerExistingContentModal:function(b,c,d){if(b){var f="",g="",h={},i=a(b);return d?f=a(c).closest(d).parent().html():f=a(c).parent().html(),i.hasClass("modal-height-592")?g="modal-height-592":g="",h=i.chaseFloater({contentType:"static",staticContent:f,showBorder:!0,closeOnDomClick:!1,floaterCssClass:"chaseui-dynamic-modal chaseui-modalbackground "+g,floaterWidth:i.attr("data-width")||"350px",onShow:function(){e.commonModalInit(this,i),e.trackModalLoad(this,i)}}),h.showAsModal(),h}},commonModalInit:function(b,c,d){var e=a(b);require(["site/uicc/dynamic-modules"],function(a){a.init(e)})},trackModalLoad:function(b,c,d){var e="",f=a(b),g=c.attr("data-title"),h=c.attr("data-pt-name"),i=c.attr("data-pt-description");if(i=="undefined"||i==null||i=="")i=c[0].innerText;if(g&&g!==""){var j='<div class="standard-overlay-header"><div class="standard-overlay-header-txt"><h1>'+g+'</h1></div><div class="clear"></div></div>';f.find(".chasejs-contexthelp-closebody").addClass("chaseui-modalbody-scroll").before(j),f.find(".ln-left-nav").triggerHandler("show.chasefloatertitle"),e=g}else h&&h!==""&&(e=h);e!==""&&!!window.CHASE&&!!window.CHASE.analytics&&!!window.CHASE.analytics.trackModalLoad&&CHASE.analytics.trackModalLoad(e,i)},openZipModalOnLoad:function(b,c){var d='<span id="chasejs-helpcontent-forajaxupdate" class="chaseui-contexthelpcontent"><span class="accessible-text">Begin Overlay.</span><a class="chaseui-button chasejs-flyoutclose chaseui-flyoutclose" href="#"><span class="chaseui-icons chaseui-button-icon"><img height="1" width="0" src="/etc/designs/chasecom/images/swat-sprite.png" alt="Close overlay"></span></a><span class="chasejs-contexthelp-closebody"><div class="chaseui-spinner chasejs-spinner"><img src="/etc/designs/chasecom/images/loader-gray-faster-40x40_v5.gif" alt="loading..."></div></span><span class="accessible-text">End Overlay.</span></span>',f='<a data-pt-name="zipcode" data-pt-description="EnterZipcode"><span>Enter Your ZIP Code</span></a>',g=a(".zipcode-head-area").parent().closest(".chaseui-icon-container").parent().html(),h=a("body");a("#chasejs-helpcontent-forajaxupdate").length||a("body").append(d);var i=h.chaseFloater({contentType:"static",staticContent:g,showBorder:!0,floaterCssClass:"chaseui-modalbackground ",closeOnDomClick:!1,floaterWidth:"350px",onShow:function(){var d=a(this);d.addClass("chsejs-invalidZip"),c?d.find("input.zipcode-field").val(c):d.find("input.zipcode-field").val("ZIP Code");var g=d.find("a.chaseui-button.chasejs-flyoutclose, button.chasejs-flyoutclose, a.chasejs-flyoutclose");g.undelegate().bind("click.invalidZip",function(a){d.closest(".chaseui-chasefloater").hasClass("chsejs-invalidZip")?location.href=b:i.remove()}),e.commonModalInit(this,a(f))}});return i.showAsModal(a("body")),a("#chaseui-overlay").css("opacity","0.7"),i}};return e}),define("site/uicc/dynamic-flyouts",["jquery","content/services/contentprovider","site/uicc/utils","site/uicc/chase.ajax","site/uicc/chase.plugin.floater"],function(a,b,c){function e(b,c,d){if(c.keyCode===27||c.keyCode===9){c.stopPropagation(),c.preventDefault();if(c.keyCode===9){var e=b.find(":focusable"),f=a.inArray(c.target,e),g=c.shiftKey?e.filter(function(a){return a<f&&this.tabIndex>=0}).last():e.filter(function(a){return a>f&&this.tabIndex>=0}).first();g.length?g.focus():(d.focus(),d.trigger("click"))}else d.focus(),d.trigger("click")}}var d={init:function(c,e){e=e||".dynamically-built-ajax-flyout-link";var f={right:"20 0",left:"-30 0",top:"0 -20",bottom:"0 20"};c.find(e).each(function(c){var e=a(this),g={managedContentProvider:b,ajaxContentUpdateMethodType:"managedContentProvider",ajaxContentUrl:e.attr("href"),showBorder:!0,floaterCssClass:"chaseui-modalbackground chaseui-dynamic-flyout",closeOnDomClick:!0,initialFloaterPosition:e.attr("data-arrowPos")||"bottom-center",floaterWidth:e.attr("data-width")||"350px",displayOn:"hoverandclick",floaterCollision:"fit flip",onShow:function(){d.commonFlyoutInit(this,e)}};g.floaterOffset=f[g.initialFloaterPosition.split("-")[0]],e.chaseFloater(g),e.append('<span class="accessible-text">&nbsp;(Opens Overlay)</span>')}),a("body").bind("mouseOutModalClose",function(){a("#chasejs-helpcontent-forajaxupdate").find(".standard-overlay-header").remove()})},initStatic:function(b,c){c=c||".chasejs-flyoutlink";var e={right:"20 0",left:"-30 0",top:"0 -20",bottom:"0 20"};b.find(c).each(function(b){var c=a(this),f={floaterId:"chasejs-contexthelpfloater",floaterCssClass:"chaseui-dynamic-flyout",contentType:"static",staticContent:c.next().html(),showBorder:!1,initialFloaterPosition:c.attr("data-arrowPos")||"bottom-center",floaterWidth:c.attr("data-width")||"350px",repositionOnScroll:!1,target:c,showBorder:!0,displayOn:"hoverandclick",floaterCollision:"flip fit",onShow:function(){a(this).find("div.zipcode-head-area div[class^=error]").hide();var b=c.attr("data-chase-zipcode");b?a("#"+f.floaterId).find("input.zipcode-field").val(b):a("#"+f.floaterId).find("input.zipcode-field").val("ZIP Code"),d.commonFlyoutInit(this,c)}};f.floaterOffset=e[f.initialFloaterPosition.split("-")[0]],c.chaseFloater(f)})},initFlyoutCombo:function(e,f){f=f||".dynamically-built-ajax-multiselect",e.find(f).each(function(e){var f=a(this),g=f.closest(".chase-button-container").is("[class*=translucent]"),h="0 0";g&&(h="-10px 11px");var i={floaterContentId:"chasejs-combo-forajaxupdate",managedContentProvider:b,ajaxContentUpdateMethodType:"managedContentProvider",removeCloseIcon:!0,ajaxContentUrl:f.attr("href"),showArrow:!1,setFocus:!1,showBorder:!0,floaterCssClass:"chaseui-modalcombo chaseui-dynamic-flyout",closeOnDomClick:!0,initialFloaterPosition:"bottom-left",floaterWidth:f.attr("data-width")||"228px",floaterOffset:h,floaterCollision:"fit flip",displayOn:"hoverandclick",onShow:function(b){var e=a(this),g=c.getFirstContent(e),h=c.getLastContent(e),i=function(a){a.preventDefault(),a.stopPropagation(),d.floaterInstanceCache.remove(f)};g.attr("tabindex","0"),h.attr("tabindex","0"),e.on("keydown.menuClose",function(a){a.keyCode===27&&i(a)}),g.on("keydown.dropdown",function(a){a.keyCode===9&&a.shiftKey&&i(a)}),h.on("keydown.dropdown",function(a){a.keyCode===9&&!a.shiftKey&&i(a)}),g.focus(),d.commonFlyoutInit(this,f)}};d.floaterInstanceCache=f.chaseFloater(i),f.append('<span class="accessible-text">&nbsp;(Opens Menu)</span>')})},commonFlyoutInit:function(b,c){var d="",e=a(b),f=c.attr("data-title"),g=c.attr("data-pt-name"),h=c.attr("data-pt-description");if(h=="undefined"||h==null||h=="")h=c[0].innerText;if(f&&f!==""){var i='<div class="standard-overlay-header"><div class="standard-overlay-header-txt"><h1>'+f+'</h1></div><div class="clear"></div></div>';e.find(".chasejs-contexthelp-closebody").prepend(i),e.find(".ln-left-nav").triggerHandler("show.chasefloatertitle"),d=f}else g&&g!==""&&(d=g);d!==""&&!!window.CHASE&&!!window.CHASE.analytics&&!!window.CHASE.analytics.trackHoverLoad&&CHASE.analytics.trackHoverLoad(d,h),require(["site/uicc/dynamic-modules"],function(a){a.init(e)})}};return d}),define("site/uicc/dynamic-weblink",["jquery","content/conf/appsconfig/clientconfig","content/services/contentprovider"],function(a,b,c){var d=b.standardDisclaimerMsg,e={externalWeblink:function(b,c,d,e){a(b).find(".weblink-proceed").on("click",function(a){a.preventDefault(),window.open(c),e.remove()}),a(b).find(".weblink-cancel").on("click",function(a){a.preventDefault(),a.stopPropagation(),e.remove(),d.focus()})},init:function(f){var g;f?g=f.find(a('a[href][href^="http"]')):g=a('a[href][href^="http"]');var h=b.whiteListedDomains;h&&a.each(h.split(","),function(a,b){g=g.not('a[href*="'+b+'"]')}),g.each(function(){var b=a(this),f=d,g=b.attr("href");b.append('<span class="accessible-text">&nbsp;(Opens Overlay)</span>'),b.on("click",function(a){a.preventDefault();var d=b.chaseFloater({managedContentProvider:c,ajaxContentUpdateMethodType:"managedContentProvider",ajaxContentUrl:f,showBorder:!0,floaterCssClass:"chaseui-modalbackground",onShow:function(){require(["jquery","site/browser/dynamic"],function(a,b){b.broadcastAnchorLinks("chaseui-contexthelpfloater"),b.broadcastAnchorLinks("chaseui-weblink")}),e.externalWeblink(this,g,b,d)}});d.showAsModal(a)})})}};return e}),function(a){define("site/browser/dynamic",["jquery","jpmc/topic","site/uicc/dynamic-button","site/uicc/dynamic-weblink"],function(a,b,c,d){var e={nodeAdded:b("anchorLinkAdded"),broadcastAnchorLinks:function(b){var c;typeof b!="string"?c=b:c=a("."+b);var d=new Array;d[0]=c.find("a.chase-button, a.sliding-door-button"),d[0].length>0&&e.nodeAdded.publish(d)},dynamicWeblink:function(b){var c,e;typeof b!="string"?c=b:c=a("."+b),d.init(c)}};return e})}(),define("site/uicc/chase-buttons",["jquery","jpmc/topic","site/browser/dynamic"],function(a,b,c){var d={rgbaBrowser:null,IEversion:null,setButtonType:function(a){var b="";switch(a){case"positioned-link":b="positioned-link";break;case"primary-button":b="primary-button";break;case"secondary-button":b="secondary-button";break;case"tertiary-button":b="tertiary-button";break;default:buttonTypeStyle="primary-button"}return b},setButtonSize:function(a){var b="";switch(a){case"large":b="large-button";break;case"medium":b="medium-button";break;case"small":b="small-button";break;default:b="large-button"}return b},setButtonDecoration:function(a){var b="";switch(a){case"none":b="";break;case"lock":b='<span class="lock-container" alt=""></span>';break;case"magnifying-glass":b='<span class="magnifying-glass-container" alt=""></span>';break;case"envelope":b='<span class="envelope-container" alt=""></span>';break;case"leaf":b='<span class="leaf-container" alt=""></span>';break;case"right-arrow":b='<span class="right-arrow-container" alt=""></span>';break;case"plus-sign":b='<span class="plus-sign-container" alt=""></span>';break;default:b=""}return b},setMultiselectDecoration:function(a){var b="";return a.match("dynamically-built-ajax-multiselect")&&(b='<span class="multiselect-arrow"></span>'),b},buildButton:function(a,b){var c=b.attrClass,e=b.elementHTML,f=b.dataAccessibleText?'<span class="accessible-text">&nbsp;('+b.dataAccessibleText+")</span>":"";e='<div class="chase-button-glare">&nbsp;</div>'+d.setButtonDecoration(b.dataDecoration)+e+d.setMultiselectDecoration(c)+f,a.html(e),b.dataBackground==="translucent"?d.rgbaBrowser?a.wrap('<div class="chase-button-container css3-translucent '+b.dataSize+'" style="top:'+b.dataVerticalPos+"px; left:"+b.dataHorizontalPos+'px"></div>'):(a.wrap('<div class="chase-button-container sprite-translucent '+b.dataSize+'" style="top:'+b.dataVerticalPos+"px; left:"+b.dataHorizontalPos+'px"><div class="inner-large"></div></div>'),a.parent().before('<div class="left-door"></div>')):a.wrap('<div class="chase-button-container" style="top:'+b.dataVerticalPos+"px; left:"+b.dataHorizontalPos+'px"><div class="inner-large"></div></div>'),c+=" "+d.setButtonType(b.dataType),c+=" "+d.setButtonSize(b.dataSize),a.attr("class",c),a.attr("role",b.attrRole),d.attachHoverHandler(a),d.attachPIE(a)},ChaseButtonObject:function(a,b,c,d,e,f,g,h,i,j,k,l){this.attrHref=a,this.attrClass=b,this.attrRole=c,this.dataType=d,this.dataSize=e,this.dataDecoration=f,this.dataBackground=g,this.dataMultiselect=h,this.dataAccessibleText=i,this.dataHorizontalPos=j,this.dataVerticalPos=k,this.elementHTML=l},initButtons:function(b){d.checkSupportRgba(),d.getInternetExplorerVersion(),b.each(function(){$this=a(this);if(!$this.parent(".chase-button-container")[0]&&!$this.parent().parent(".chase-button-container")[0]){var b=parseInt($this.data("horizontalpos"))||0;b=b===-46?0:-46-$this.data("horizontalpos"),$this.closest(".multitask-ad").is("div")&&(b=-$this.data("horizontalpos"));var c=new d.ChaseButtonObject($this.attr("href")||"#",$this.attr("class")||"",$this.attr("role")||"button",$this.data("type")||"primary",$this.data("size")||"large",$this.data("decoration")||"none",$this.data("background")||"none",$this.data("multiselect")||"false",$this.data("accessible-text")||"",b,$this.data("verticalpos")||0,$this.html()||"");d.buildButton($this,c)}else d.attachHoverHandler($this),d.attachPIE($this)})},getInternetExplorerVersion:function(){if(d.IEversion===null){var a=-1;if(navigator.appName=="Microsoft Internet Explorer"){var b=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");c.exec(b)!=null&&(a=parseFloat(RegExp.$1))}d.IEversion=a}},attachPIE:function(a){if(d.IEversion!==null&&d.IEversion!==-1)if(a&&a.siblings().length<1)require(["site/lib/PIE"],function(){var b=a.children(".chase-button-glare");PIE.attach(a[0]),PIE.attach(b[0])});else if(a&&a.siblings().length>1){var b=a.children(".chase-button-glare");a.removeClass("pie_first-child"),a.siblings().remove(),a.attr("_pieId",""),b.removeClass("pie_first-child"),b.siblings().remove(),b.attr("_pieId",""),d.attachPIE(a)}},attachHoverHandler:function(b){b.off("mouseenter.buttonHover").on("mouseenter.buttonHover",function(b){var c=a(this);c.add(c.children(".chase-button-glare")).addClass("button-hover")}),b.off("mouseleave.buttonHover").on("mouseleave.buttonHover",function(b){var c=a(this);c.add(c.children(".chase-button-glare")).removeClass("button-hover")})},checkSupportRgba:function(){if(!d.rgbaBrowser){var a=document.createElement("div"),b="rgba(0,0,0,0.5)";try{a.style.color=b,d.rgbaBrowser=!0}catch(c){}}}};return a(function(){b.subscribe("anchorLinkAdded",function(b){var c=b[0].filter(a(".chase-button"));c.length>0&&d.initButtons(c)})}),d}),define("content/services/logininterstitial",["jquery","content/services/contentprovider","jpmc/topic","site/uicc/chase-buttons","jpmc/ui/modal"],function(a,b,c,d,e){var f,g=!1,h="",i=!1,j={init:function(h){var i=function(a){g=!0,f=e.create({size:"small",title:"Log In or Enroll",innerContent:a}).appendTo(document.body)},j=function(a){};c.subscribe("innerContentLoaded.floater",function(b){if(f.uuid==b.uuid){var c=b.$content;d.initButtons(a(c.find(".chase-button")))}}),b.loadSnippetContent(h,i,j,2)},show:function(a){i==1&&(window.location.href=a),g?(f.show(),document.cookie="preredirect="+escape(a)+"; path=/ ; domain=.chase.com"):window.location.href=a},initElement:function(b,c){var d;c!=""&&(h=c),d=b.find('a[data-privatedestination][data-privatedestination="true"]'),d.each(function(){g==0&&h!=""&&j.init(h);var b=a(this);b.on("click",function(a){a.preventDefault(),j.show(b.attr("href"))});if(i==0){var c=b.find("span.accessible-text").html();c!="&nbsp;(Opens login overlay)"&&b.append('<span class="accessible-text">&nbsp;(Opens login overlay)</span>')}})}};return j}),define("site/uicc/dynamic-modules",["site/uicc/dynamic-modals","site/uicc/dynamic-flyouts","site/uicc/accessible","site/uicc/dynamic-button","site/uicc/chase-buttons","site/uicc/dynamic-weblink","site/browser/dynamic","content/services/logininterstitial"],function(a,b,c,d,e,f,g,h){var i={init:function(e){a.init(e),b.init(e),b.initStatic(e),b.initFlyoutCombo(e),c.insertSpanDataAccessibleText(e),d.initDynamicallyAddedButtons(e.find(".sliding-door-button")),f.init(e),g.broadcastAnchorLinks(e),h.initElement(e,"")}};return i}),define("content/components/disclosure",["jquery","jpmc/log","jpmc/topic","content/services/contentprovider","site/uicc/dynamic-modules","site/uicc/chase.header.utils"],function(a,b,c,d,e){var f=b("disclosure");f.debug("Loading disclosureArea");var g={disclosureCount:0,disclosureCtr:0,staticDisclosures:[],dynamicDisclosures:[],footNotes:[],footNotesData:[],footNoteNumbers:[],dynamicDisclosuresList:[],dynamicDiscloureCount:0,flag:0,footnote_start_number:0,noContentNoList:[],noContentUrlList:[],sortAll:function(){g.addFootNoteData(),g.footNotesData.sort(g.compareDisclosure),g.staticDisclosures.sort(g.compareDisclosure),g.dynamicDisclosures.sort(g.compareDisclosure)},compareDisclosure:function(a,b){return!isNaN(a.id)&&!isNaN(b.id)?parseInt(a.id)-parseInt(b.id):!isNaN(a.id)&&isNaN(b.id)?1:isNaN(a.id)&&!isNaN(b.id)?-1:a.id==b.id?0:a.id>b.id?1:-1},addFootNoteData:function(){for(var a in g.footNotes)if(g.footNotes.hasOwnProperty(a)&&!g.footNotes[a].isHidden){var b={id:g.footNotes[a].footnote_number,content:g.footNotes[a].content};b!=null&&g.footNotesData.push(b)}},addStaticDisclosure:function(a,b){var c={id:b,content:a,displayed:"false"};g.staticDisclosures.push(c)},addDynamicDisclosure:function(a){g.dynamicDiscloureCount++;var b={id:g.dynamicDiscloureCount,content:a,displayed:"false"};g.dynamicDisclosures.push(b)},displayAll:function(){g.displayFootNotesData(),g.displayStaticDisclosures(),g.displayDynamicDisclosures(),g.insertFootnoteRefsIntoFooter(),e.init(a("#disclosure_area"))},displayDisclosures:function(b){if(b&&b.length>0){var c=a("#disclosure_area"),d=c.find("#static-disclosure"),e;d.length===0&&(d=a(document.createElement("div")).attr("id","static-disclosure"),c.append(d));for(var f=0;f<b.length;f++)if(b[f].displayed=="false"){var h=b[f].content;g.flag==0&&(a("#disclosure_area").prepend("<span class='accessible-text'>Footnotes</span>"),g.flag=1),d.append("<br>"+h),b[f].displayed="true"}}},displayDynamicDisclosures:function(){f.debug("inside displayDynamicDisclosures"),g.displayDisclosures(g.dynamicDisclosures)},displayStaticDisclosures:function(){g.displayDisclosures(g.staticDisclosures)},clearAll:function(){var b=a("#disclosure_area");b.find("#static-disclosure").remove(),b.find("#footnote-area").remove(),g.resetArray(g.staticDisclosures),g.resetArray(g.dynamicDisclosures),g.footNotesData=[]},resetArray:function(a){if(a&&a.length>0)for(var b=0;b<a.length;b++)a[b].displayed="false"},displayFootNotesData:function(){var b=g.footNotesData,c="",d="",e=[];if(b&&b.length>0)for(var f=0;f<b.length;f++){var h=b[f].id;b[f]!=null&&(c=b[f].id,d=b[f].content,c!=null&&d!=null&&d.length>0&&g.isFootNoteDisplayed(e,c)&&(a.inArray(c,g.noContentNoList)==-1&&g.displayFootNote(d,c),e.push(c)))}g.removingAnchorTags()},removingAnchorTags:function(){for(var b=0;b<g.noContentUrlList.length;b++){var c=g.footNotes[g.noContentUrlList[b]].associatedUUIDs.length;for(var d=0;d<c;d++){var e=a("#"+g.footNotes[g.noContentUrlList[b]].associatedUUIDs[d]);e.children("a").remove()}}},isFootNoteDisplayed:function(a,b){if(a!=null)for(var c=0;c<a.length;c++)if(a[c]==b)return!1;return!0},getFootnoteReference:function(a,b,d,e){f.debug("getFootnoteReference"),c.subscribe("footNoteStartNumberSet",function(c){b=="footnote"?g.handleFootnote(a,d,e):b=="disclosure"&&g.handleDisclosure(a)})},setFootNoteStartNumber:function(a){f.debug("setting footnote start number : "+a),a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")!=""&&!isNaN(a)?g.footnote_start_number=parseInt(a):g.footnote_start_number=1,c.publish("footNoteStartNumberSet",[""])},handleFootnote:function(a,b,c){f.debug("inside handleFootnote "+a);var e=g.footNotes[a];if(e){e.footnote_number==null&&(e.footnote_number=g.getNextValidFootNoteNumber(b));var h=!1;for(var i=0;i<g.footNotes[a].associatedUUIDs.length;i++)c===g.footNotes[a].associatedUUIDs[i]&&(h=!0);for(var i=0;i<g.footNotes[a].hiddenUUIDs.length;i++)c===g.footNotes[a].hiddenUUIDs[i]&&(h=!0);h||g.footNotes[a].associatedUUIDs.push(c),g.correctHref(c,e.footnote_number,a,!0),f.debug("same footnote : "+e.footnote_number)}else{f.debug("inside handleFootNote using footnote number : "+b);var j={};j.disclsoureType="footnote";if(b==null||b==""||b==0||b=="0")b=g.footnote_start_number++;j.footnote_number=g.getNextValidFootNoteNumber(b),isNaN(j.footnote_number)||g.footNoteNumbers.push(j.footnote_number),j.content="",j.isHidden=!1,j.associatedUUIDs=[],j.associatedUUIDs.push(c),j.hiddenUUIDs=[],g.footNotes[a]=j,f.debug("handleFootnote : "+a),d.loadDisclosure(a+"/jcr:content/par.html",function(b){var d=g.cleanCQscript(b);j.content=d,g.correctHref(c,j.footnote_number,a,!0)},function(b){j.content="<div><p>No Content Available</p></div>",g.noContentNoList.push(g.footNotes[a].footnote_number),g.noContentUrlList.push(a)},1)}},disclosureCountTracking:function(){g.disclosureCtr<g.disclosureCount&&g.disclosureCtr++,g.disclosureCtr==g.disclosureCount&&c.publish("disclosuresUpdated",[""])},getNextValidFootNoteNumber:function(b){var c;for(var d in g.footNotes){var e=g.footNotes[d];if(e!=null&&e.footnote_number==b)return c=g.footnote_start_number++,a.inArray(c.toString(),g.footNoteNumbers)!=-1&&(c=g.getNextValidFootNoteNumber(c)),c.toString()}return b},handleDisclosure:function(a){if(!g.dynamicDisclosuresList[a]&&!g.footNotes[a]){var b={};b.disclsoureType="disclosure",b.jsonpUrl=a,g.dynamicDisclosuresList[a]=b,f.debug("handleDisclosure : "+a),d.loadDisclosure(a+"/jcr:content/par.html",g.setDynamicDisclosure,g.errorFunc,1)}else g.disclosureCountTracking()},setDynamicDisclosure:function(a){var b=a;g.addDynamicDisclosure(b),g.disclosureCountTracking()},setStaticDisclosure:function(a,b){var c=a;g.addStaticDisclosure(c,b),g.disclosureCountTracking()},displayFootNote:function(b,c){var d=document.getElementById("footnote-area");if(!d||d.length==0){f.debug("footNoteArea UL not available, creating ul...");var e=document.createElement("ul");e.setAttribute("class","footnote-area"),e.setAttribute("id","footnote-area");var h=document.getElementById("disclosure_area");g.flag==0&&(a("#disclosure_area").prepend("<span class='accessible-text'>Footnotes</span>"),g.flag=1),h.appendChild(e)}var i="",j=document.createElement("li");j.setAttribute("class","footnote");var k="";k="<sup>"+c+"</sup>",a(j).html(b),document.getElementById("footnote-area").appendChild(j),a(j).find("p").first().prepend(k)},insertFootnoteRefsIntoFooter:function(){var b=a("#footnote-area").find(".footnote-caller > sup");b.length>0&&b.each(function(){var b=a(this);snippetUrl=b.attr("data-content-location");if(!snippetUrl||snippetUrl=="")snippetUrl=g.getSnippetByUUID(b.closest("span").attr("id"));if(snippetUrl){var c=g.footNotes[snippetUrl].footnote_number;b.siblings(".accessible-text").remove(),b.text(""+c),b.unwrap().unwrap()}})},getStaticDisclosure:function(a,b,c,e){f.debug("getStaticDisclosure"),d.loadDisclosure(a+"/jcr:content/par.html",function(a){g.setStaticDisclosure(a,e)},g.errorFunc,1)},correctHref:function(b,c,d,e){if(b){var f=a("#"+b);f.length>0&&f.children("a").attr("data-content-location",d)}for(var h=0,i=g.footNotes[d].associatedUUIDs.length;h<i;h++){var j=a("#"+g.footNotes[d].associatedUUIDs[h]);if(!j.closest(".footnote-area")[0]){var k=j.children("a");k.children("sup").text(""+c),k.off("click.disclosure").on("click.disclosure",function(a){g.showFootNoteModalContent(a,d)})}}e&&g.disclosureCountTracking()},showFootNoteModalContent:function(b,c){b.preventDefault();var d=a(this),f=g.footNotes[c].content,h=g.footNotes[c].footnote_number,i=/footnote-caller/i;_html="<div class='modal-static-content footnote-modal'><span class='accessible-text'>Begin Overlay.</span><a class='chaseui-button chasejs-flyoutclose chaseui-flyoutclose' href='#'><span class='chaseui-icons chaseui-button-icon'><img height='1' width='0' src='/etc/designs/chasecom/images/swat-sprite.png' alt='Close overlay' /></span></a>"+f+"</div><span class='accessible-text'>End Overlay.</span>",d.closest(".footnote-modal")[0]||d.chaseFloater({contentType:"static",staticContent:_html,showBorder:!0,floaterCssClass:"chaseui-footnotemodal-"+h,floaterWidth:"350px",closeOnDomClick:!1,onShow:function(){var c=a(this);c.find(".chasejs-flyoutclose").on("click.disclosure",function(){a(b.currentTarget).focus()}),c.find("p").first().prepend("<sup>"+h+"</sup>");if(i.test(f)){var d=c.find(".footnote-caller");d.each(function(){var b=a(this),c=b.parent().attr("id");a("#"+c).children("a").off("click.disclosure").on("click.disclosure",function(b){b.preventDefault();var c=a(this),d=c.children("sup").text(),e=c.attr("data-content-location"),f=g.footNotes[e].content,h="<div class='modal-static-content footnote-modal'><span class='accessible-text'>Begin Overlay.</span><a class='chaseui-button chasejs-flyoutclose chaseui-flyoutclose' href='#'><span class='chaseui-icons chaseui-button-icon'><img height='1' width='0' src='/etc/designs/chasecom/images/swat-sprite.png' alt='Close overlay' /></span></a>"+f+"</div><span class='accessible-text'>End Overlay.</span>";c.chaseFloater({contentType:"static",staticContent:h,showBorder:!0,floaterCssClass:"chaseui-footnotemodal-"+d,floaterWidth:"350px",closeOnDomClick:!1,onShow:function(){a(this).find("p").first().prepend("<sup>"+d+"</sup>")}}).showAsModal(b)})})}}}).showAsModal(b),e.init(a(".footnote-modal"))},cleanCQscript:function(b){var c=a(b),d=/CQ\.WCM\.edit/i,e="";if(c.last().is("script")&&d.test(c.last()[0].innerText)){c=c.slice(0,-1);for(var f=0;f<c.length;f++)e+=c[f].outerHTML}else e=b;if(c)return e},getSnippetByUUID:function(a){for(var b in g.footNotes)if(g.footNotes[b].hasOwnProperty("associatedUUIDs"))for(var c=0;c<g.footNotes[b].associatedUUIDs.length;c++)if(a===g.footNotes[b].associatedUUIDs[c])return b;return undefined},toggleFootnotesOnPage:function(){var b=!1;for(var c in g.footNotes){if(g.footNotes[c].hasOwnProperty("associatedUUIDs")){var d=[];for(var e=0,f=g.footNotes[c].associatedUUIDs.length;e<f;e++){var h=a("#"+g.footNotes[c].associatedUUIDs[e]);if(!h[0]){var i=g.footNotes[c].associatedUUIDs[e];g.footNotes[c].hiddenUUIDs.push(i),d.push(i)}}for(var j=0;j<d.length;j++){var k=g.footNotes[c].associatedUUIDs.indexOf(d[j]);g.footNotes[c].associatedUUIDs.splice(k,1)[0]}g.footNotes[c].associatedUUIDs.length===0&&(g.footNotes[c].isHidden=!0,b=!0)}if(g.footNotes[c].hasOwnProperty("hiddenUUIDs")){var l=[];for(var e=0,f=g.footNotes[c].hiddenUUIDs.length;e<f;e++){var h=a("#"+g.footNotes[c].hiddenUUIDs[e]);if(h[0]){var m=g.footNotes[c].hiddenUUIDs[e];g.footNotes[c].associatedUUIDs.push(m)}}for(var j=0;j<l.length;j++){var k=g.footNotes[c].hiddenUUIDs.indexOf(l[j]);g.footNotes[c].hiddenUUIDs.splice(k,1)[0]}g.footNotes[c].associatedUUIDs.length>0&&(g.footNotes[c].isHidden=!1,b=!0)}}b&&g.reNumberAll()},reNumberAll:function(){var a=1;g.footNoteNumbers=[],g.footnote_start_number=0;for(var b in g.footNotes)if(g.footNotes.hasOwnProperty(b)&&!g.footNotes[b].isHidden){g.footNotes[b].footnote_number=a.toString(),g.footNoteNumbers.push(a.toString());for(var c=0,d=g.footNotes[b].associatedUUIDs.length;c<d;c++)g.correctHref(null,a,b,!1);a++}g.footnote_start_number=a},errorFunc:function(a){f.debug("Disclosure Response Failure "),g.disclosureCountTracking()}};return a(function(){c.subscribe("disclosuresUpdated",function(){g.clearAll(),g.toggleFootnotesOnPage(),g.sortAll(),g.displayAll()})}),g}),define("content/components/remotemegamenu",["jquery","content/services/contentprovider","jpmc/topic"],function(a,b,c){var d={loadContent:function(c,d,e,f){var g=function(b){c.html("").append(b),e!=null&&e!=undefined&&($primaryMenuItem=a("a#primaryMenu0").parent().parent().parent(),breadcrumbContent='<li class="megamenu-primary-navigation-item"><div class="megamenu-nav-item-wrapper"><span data-item-mm="-1" class="breadcrumb-separator" aria-hidden="true">&gt;</span></div></li><li class="megamenu-primary-navigation-item"><div class="megamenu-nav-item-wrapper secondCrumb"><a href="'+f+'" data-item-mm="-1" class="breadcrumb-element">'+e+'<span class="accessible-text">, current sub-section.</span></a></div></li>',$primaryMenuItem.after(breadcrumbContent))},h=function(a){var b='<p style="color:red"><br><br>Error: The AJAX content failed to load.<br><br>';console.log(b+" in remote mega menu loader")};b.loadSnippetContent(d,g,h)}};return d}),define("content/services/test-data-provider",["jpmc/log","jpmc/topic"],function(Logger,Topic){var logger=Logger("globalmodel");if(typeof CQ=="undefined")return logger.info("No CQ. No GDM"),{};var GlobalDataMgrFn=function(){};GlobalDataMgrFn.prototype=new CQ_Analytics.SessionStore,GlobalDataMgrFn.prototype.STOREKEY="GLOBALDATA",GlobalDataMgrFn.prototype.STORENAME="globaldata",GlobalDataMgrFn.prototype.init=function(){this.data={};for(var a in this.initProperty)this.data[a]=this.initProperty[a];this.fireEvent("update")},GlobalDataMgrFn.prototype.clear=function(){var a=new CQ_Analytics.SessionPersistence;a.remove(this.getStoreKey()),this.data=null,this.initProperty={}},GlobalDataMgrFn.prototype.getLabel=function(a){return a},GlobalDataMgrFn.prototype.getLink=function(a){return""};var GlobalDataMgr=new GlobalDataMgrFn;return GlobalDataMgrFn.prototype.configLoadFunction=function(){logger.debug("configLoadfunction of globalmodel"),this.loadInitProperties(CQ_Analytics.CCM.getInitialData(this.getName()));var uiConfig=CQ_Analytics.CCM.getUIConfig(this.getName());if(!uiConfig||!uiConfig.title)uiConfig=eval({title:"Global Data",mode:"textfield","jcr:primaryType":"nt:unstructured"});CQ_Analytics.ClickstreamcloudUI.register(this.getSessionStore(),uiConfig),GlobalDataMgr.addListener("update",function(){Topic.publish("globalDataUpdated",[""])}),CQ_Analytics.CCM.register(this)},GlobalDataMgr.configLoadFunction(),CQ_Analytics.ClickstreamcloudUI.addListener("editclick",function(){var a=function(a){if(a){var b=CQ_Analytics.ClickstreamcloudMgr.getEditConfig(a.getSessionStore().getName());b.sessionStore=a.getSessionStore(),CQ_Analytics.ClickstreamcloudEditor.register(b)}};CQ_Analytics.ClickstreamcloudEditor||(CQ_Analytics.ClickstreamcloudEditor=new CQ.personalization.EditableClickstreamcloud,a.call(this,CQ_Analytics.ProfileDataMgr),a.call(this,CQ_Analytics.PageDataMgr),a.call(this,CQ_Analytics.TagCloudMgr),a.call(this,CQ_Analytics.SurferInfoMgr),a.call(this,CQ_Analytics.EventDataMgr)),a.call(this,GlobalDataMgr),CQ_Analytics.ClickstreamcloudEditor.show()}),GlobalDataMgr}),define("content/components/ads/placement",["jquery","jpmc/topic","jpmc/log","jpmc/timer","content/conf/ads/size","content/conf/appsconfig/clientconfig","content/services/contentprovider","content/services/test-data-provider","jpmc/ui/modal","site/uicc/dynamic-modules"],function(a,b,c,d,e,f,g,h,i,j){function p(c){this.validateInput=function(){var a=!0;this.element.length||(console.warn('[!!!WARNING!!!] [X+1 Ad Slots] Wrong Pid or Pid does not exits. Terminating slot ["',this.options.pid,'"]'),a=!1);if(this.width==0||this.height==0)console.warn('[!!!WARNING!!!] [X+1 Ad Slots] Invalid size paramater "',this.options.size,'" Terminating slot ["',this.options.pid,'"]'),a=!1;return a},this.init=function(c){var d={size:null,defaultTreatement:"hide",defaultAdURL:""};this.element=a("#"+c.pid),this.options=a.extend({},d,c),this.width=e[c.size]?e[c.size].width:0,this.height=e[c.size]?e[c.size].height:0,this.pidData={},this.isInterstitial=c.size=="interstitial";if(!this.isInterstitial&&!this.validateInput())return!1;k.info('Initializing Ad Slot for PID ["',this.options.pid,'"]');var f=this;this.adLabel="XPlusOne",this.spinner.show(this),b.subscribe("globalDataUpdated",function(){var a=f.options.pid+"_override",b=null;typeof CQ!="undefined"&&h&&(b=h.getProperty(a),k.debug("csOverrideVarValue : "+b));if(b!=null){var c={cid:b,url:""};f.adLabel="Global",f.getAd(c)}}),b.subscribe("adUpdate",function(a){f.spinner.show(f),f.adLabel="XPlusOne",a[f.options.pid]==undefined?(k.warn(f.adLabel,'decision not returned for PID ["',f.options.pid,'"]'),f.adDataFail({})):a[f.options.pid].cid?(f.pidData=a[f.options.pid],f.getAd(f.pidData)):(k.warn(f.adLabel,'cid not defined, applying default treatement to PID ["',f.options.pid,'"]'),f.pidData=a[f.options.pid],f.options.defaultTreatement.toLowerCase()=="hide"?(f.spinner.hide(f),f.element.hide()):f.adDataFail({}))}),b.subscribe("adError",function(a){f.adDataFail({})})},this.spinner={show:function(a){if(a.isInterstitial)return;a.element.html(""),a.element.css({background:'url("'+f.contentServer+'/etc/designs/chasecom/images/loading.gif") no-repeat scroll center center',border:"1px solid #D5DCE2",opacity:"0.75",overflow:"hidden",display:"block",width:a.width,height:a.height})},hide:function(a){if(a.isInterstitial)return;a.element.css({background:"none",opacity:"1",border:"none",overflow:"visible"})}},this.loadImage=function(a){var b,c=this;b=document.createElement("img"),b.border=0,b.onerror=function(){b.onload=null,clearTimeout(d),c.adDataFail(a)},b.onload=function(){clearTimeout(d),b.onload=null,c.render(a,b)};var d=window.setTimeout(b.onerror,f.timeout);b.src=f.contentServer+a.cid},this.getAd=function(a,b){a.ctype&&(a.ctype=a.ctype.toLowerCase());var c=this,d=!!a.url&&!a.url=="",e=!!a.turl&&!a.turl=="",f=!!a.wa_aid,h=this.adLabel=="XPlusOne";d&&e&&f&&h&&(a.url=this.track(a.url,"jp_aid_a",a.wa_aid));if(a.ctype=="image"&&this.adLabel=="XPlusOne"){this.loadImage(a);return}var i=function(){c.render(c.pidData,arguments)},j=function(){c.adDataFail(arguments)};g.loadAd(a.cid,i,j,a.url)},this.track=function(a,b,c){var d=a.match(/\?/)?"&":"?";return a+=d+b+"="+c,window.CHASE&&window.CHASE.TagManager&&window.CHASE.TagManager.replacePlaceholder&&(a=window.CHASE.TagManager.replacePlaceholder(a,!1)),this[b]=c,a},this.adDataFail=function(a){this.options.defaultTreatement=this.options.defaultTreatement.toLowerCase();if(this.options.defaultTreatement!="hide"&&this.options.defaultAdURL!=""&&this.adLabel!="default"){k.warn("Failed to load",this.adLabel,'Ad, showing default Ad for PID["',this.options.pid,'"]'),this.adLabel="default",a.cid=this.options.defaultAdURL,a.turl=null,a.url=null,this.getAd(a,this.element);return}this.options.defaultTreatement!="hide"?(k.warn("Failed to load",this.adLabel,'Ad, Default Ad URL not provided, hiding ["',this.options.pid,'"]'),this.spinner.hide(this)):(k.warn("Failed to load",this.adLabel,'Ad, hiding ["',this.options.pid,'"]'),this.spinner.hide(this),this.element.hide())},this.render=function(b,c){function y(a){return l[a]?"width="+l[a].width+", height="+l[a].height+",toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes":(k.warn('Window size "',a,'" not found, will open ad in default size'),"")}function z(c){if(e){var f;f=document.createElement("img"),f.src=b.turl}s.isInterstitial&&a.isFunction(s.hide)&&s.hide(),CHASE.analytics.processAdClick(t),o&&m&&(window.open(d,"popup",q),c.preventDefault());return}k.info("Displaying",this.adLabel,'Ad for PID ["',this.options.pid,'"]');var d=b.url,e=b.turl||!1,f=b.alttext||"",g=b.target||"",h=this.adLabel=="XPlusOne",m=b.ctype=="image"&&h,n=b.ctype=="html",o=g.toLowerCase()=="window"||!1,p=b.title||"",q=b.targetsize&&y(b.targetsize)||"",r=!!b.data,s=this.isInterstitial?i.create({size:"double-extra-large",title:p,closeOnDocumentClick:!0}).appendTo(document.body):this.element,t=h?b.wa_aid:this.options.defaultAdId,u=this.isInterstitial?"show":m?"append":"html",v;m?(c.setAttribute("alt",f),v=a("<a/>").attr("href",d).attr("target",g).attr("style","display:block;line-height:12px;").append(c)):v=c[0],r&&h&&n&&window.CHASE&&window.CHASE.TagManager&&window.CHASE.TagManager.replacePlaceholder&&(v=window.CHASE.TagManager.replacePlaceholder(c[0],b.data));var w=this.isInterstitial?{innerContent:v}:v;s[u](w),this.isInterstitial&&(s.isInterstitial=!0);var x=this.isInterstitial?a(".chaseui-modalbody").find("a"):this.element.find("a");!h&&x.attr("href")&&x.attr("href",this.track(x.attr("href"),"jp_aid_a",this.options.defaultAdId)),x.click(z),this.complete(),j.init(this.isInterstitial?a(".chaseui-modalbody"):this.element),this.spinner.hide(this)},this.complete=function(a){if(!window.CHASE||!window.CHASE.TagManager||!window.CHASE.TagManager.insightAdImpression){var b=this,c=a||0;c<=10?(k.log("Tagmanager Dependencies not loaded for [",this.options.pid,"] with ",this.adLabel,"Ad [",this.jp_aid_a,"], Retrying..."),setTimeout(function(){b.complete(c+1)},200)):k.log("Reached maximum efforts to load tagManager dependencies, Aborting Insight Impression Tracking....")}else this.jp_aid_a&&CHASE.TagManager.insightAdImpression(this.jp_aid_a),k.log("Impression tracked for [",this.options.pid,"] with ",this.adLabel,"Ad [",this.jp_aid_a,"]")},this.init(c)}var k=c("X+1 Ad Slots"),l={small:{width:200,height:200},medium:{width:980,height:600},large:{width:1006,height:600}},m=function(a){if(a=="")return{};var b={};for(var c=0;c<a.length;++c){var d=a[c].split("=");if(d.length!=2)continue;b[d[0]]=decodeURIComponent(d[1].replace(/\+/g," "))}return b}(window.location.search.substr(1).split("&")),n=m.debug,o=m.stopadclick;return p}),function(a){define("site/browser/history",["jquery","jpmc/topic","jquery-bbq"],function(b,c){var d={docTitle:document.title,changeTopic:c("historyChanged"),urlValues:{},init:function(){document.attachEvent&&document.attachEvent("onpropertychange",function(a){a.propertyName==="title"&&document.title!==d.docTitle&&setTimeout(function(){document.title=d.docTitle},150)})},onHashchange:function(a){a.indexOf("!")!=-1?(a=a.substr(a.indexOf("!")+1),d.urlValues=d.parseLocation(a)):d.urlValues={},d.changeTopic.publish(d.urlValues)},requestChange:function(a,c){b.each(a,function(a,b){d.urlValues[a]=b});var e=d.createLocation();c?e.indexOf("#")!=-1?(e=e.split("#")[1],d.onHashchange(e)):d.onHashchange(e):b.bbq.pushState(e,2)},parseLocation:function(a){var b={},c=a?a.split(";"):[],d;for(var e=0,f=c.length;e<f;e++)d=c[e].split(":"),b[d[0]]=d[1];return b},createLocation:function(){var c="!",e=!0;return b.each(d.urlValues,function(b,d){e?e=!1:c+=";",c+=b,d!=a&&(c+=":"+d)}),c}};return b(window).bind("hashchange",function(a){var c=b.param.fragment();d.onHashchange(c)}),b(window).trigger("hashchange"),d.init(),d})}(),define("site/components/container/accordion",["jquery","jpmc/topic","content/conf/appsconfig/clientconfig","jpmc/log","jpmc/topic","site/browser/history","content/services/contentprovider","site/uicc/dynamic-modules"],function(a,b,c,d,e,f,g,h){var i=d("Accordion"),j={accessibleSubnav:{on:"Expanded",off:"Opens submenu below"},accessibleLink:{on:"updates overlay content below - selected",off:"updates overlay content below"}};return accordion=function(a){this.accordionID=a,this.accessibilityObj=j,this.openPanels=[],this.loadedPanels=[],this.currentPanel={},this.isTracked=!1,this.init(),i.debug("Accordion initialized with accordion ID "+a)},accordion.prototype={historySubbedAccordions:[],report:function(a,b){!window.CHASE||!window.CHASE.analytics||!window.CHASE.analytics.trackTabSelect?i.warn("[!!!WARNING!!!]  CHASE.analytics.trackTabSelect IS NOT DEFINED, TAB/ACCORDION CLICKS ARE NOT BEING TRACKED"):CHASE.analytics.trackTabSelect(a,b)},expandPanels:function(b,c){var d=this,e=a("#"+b);e.find(".accordion-link .accessible-text").each(function(){var b=a(this)[0];b.innerHTML=b.innerHTML.replace("Hides","Shows")}),e.find(".accordion-content").each(function(){var b=a(this);b.hide().attr("aria-hidden","true"),b.parent().removeClass("expand-accordion"),b.attr("aria-hidden","true")});if(c[b]){urlValues=unescape(c[b]).split(",");var f={},g,h="";for(var i=0;i<urlValues.length;i++){panel=urlValues[i].replace(".html",""),a.inArray(panel,d.openPanels)==-1&&d.openPanels.push(panel),panelHref="#!"+b+":"+panel,g=a('a.accordion-link[href$="'+panelHref+'"]'),g.length===0&&(g=a('a.accordion-link[href*="'+panelHref+'"]')),h=g.attr("content-link"),f=g.closest(".accordion-container").find(".accordion-content").first();if(f){var j=f.css("display");if(j!=null&&j!=undefined&&j.indexOf("block")==-1){h!=""&&a.inArray(d.currentPanel,d.loadedPanels)==-1&&d.accordionGetRemoteContent(h,f),f.show().attr("aria-hidden","false"),g.closest(".accordion-container").addClass("expand-accordion");var k=g.children(".accessible-text")[0];k.innerHTML=k.innerHTML.replace("Shows","Hides")}}}}},removePanel:function(b){var c=this,d=a.inArray(b,c.openPanels);c.openPanels.splice(d,1)},accordionGetRemoteContent:function(a,b){var c=this;try{var d=function(a){c.loadedPanels.push(c.currentPanel),b.html(a),h.init(b)},e=function(a){var c='<p style="color:red"><br><br>Error: The AJAX content failed to load.<br><br>';b.html(c)};g.loadSnippetContent(a,d,e)}catch(f){}},isInModal:!1,init:function(){var b=this,c={};a("#"+b.accordionID+' a.accordion-link[href*="#!'+b.accordionID+'"]').each(function(){var d=a(this);d.append('<span class="accessible-text">&nbsp;(Shows content below)</span>'),d.click(function(e){var g=a(e.target).attr("data-link");if(g==null){var h=null;a(e.target).attr("href")?h=a(e.target).attr("href"):h=a(e.target).parent().attr("href");var i=unescape(h).split(":");g=i[1],a.inArray(g,b.openPanels)!=-1&&b.removePanel(g)}a.inArray(g,b.openPanels)!=-1?b.removePanel(g):(b.openPanels.push(g),b.currentPanel=g,b.report(g,b.accordionID));var j="";if(!b.hideOthersOnClick)for(var k=0;k<b.openPanels.length;k++)panel=b.openPanels[k],j!=""?(j=j+","+panel,b.isTracked=!0):j+=panel;e.preventDefault(),c[b.accordionID]=j;var l=a(window).scrollTop(),m=!!d.closest(".chasejs-contexthelp-closebody").length;f.requestChange(c,m),a(window).scrollTop(l)})}),a.inArray(b.accordionID,accordion.historySubbedAccordions)===-1&&(e.subscribe("historyChanged",function(a){this.expandPanels(this.accordionID,a)},b),accordion.prototype.historySubbedAccordions.push(b.accordionID))}},accordion}),define("site/components/container/left-nav",["jquery","jpmc/log","jpmc/topic","site/browser/history","content/services/contentprovider","content/conf/appsconfig/clientconfig","site/browser/dynamic","site/uicc/dynamic-button","site/uicc/dynamic-modules"],function(a,b,c,d,e,f,g,h,i){function l(b,c){this.targetLeftNavID=b,this.$lnTargetContainer=a("#"+b),this.currentlyOpen="",this.selectedClass="selected-link",this.navPanelSel=".ln-nav-panel",this.$contentPanel=a("#"+b+" .ln-content"),this.$contentPanelHeader=a("#"+b+" .ln-content-wrapper").find(".ln-landing-link"),this.$accordionLinks=this.$lnTargetContainer.find(this.navPanelSel+" a"),this.currentURL=String(window.location.href),this.init(),this.allySetup(),this.isLeftNav=this.$lnTargetContainer.hasClass("ln-left-nav"),this.$lnTargetContainer.hasClass("ln-left-nav")&&this.dynamicStyling(),this.$lnTargetContainer.hasClass("video-container")&&this.dynamicVideoStyling(),c?this.initialActiveLink=c:this.initialActiveLink=0,this.selectedAnchor={$mainAnchor:0,$subUl:0,$subAnchor:0},this.lnLoadDefaults()}var j=b("LeftNavigation"),k=f.contentServer;return l.prototype.lnGetRemoteContent=function(b){var c=this;try{j.debug("contentLocation = "+b),c.currentlyOpen=b;var d=function(d){var e=a("#"+c.targetLeftNavID).find(".ln-content");j.debug("content loaded: "+b),e.html(d),i.init(e),g.broadcastAnchorLinks("chaseui-contexthelpfloater"),g.broadcastAnchorLinks(e)},f=function(a){var b='<p style="color:red">Error: The AJAX content failed to load.</p>';c.$contentPanel.html(b)};e.loadSnippetContent(b,d,f)}catch(h){j.debug("Error loading content",h)}},l.prototype.lnLoadDefaults=function(){var b=this,c;j.debug("******left nav id:"+this.targetLeftNavID+"*****"),location.hash.length>0&&(c=this.utils.findAnchor(this,location.hash));if(a("#leftNav-deepLink").length&&!c){var e=a("#leftNav-deepLink").attr("data-deepLink"),f,g={};if(e.indexOf(";")!=-1){var h=e.split(";");a.each(h,function(a){var b=h[a].split(":");g[b[0]]=b[1]});var i=!!a("#"+this.targetLeftNavID).closest(".chasejs-contexthelp-closebody").length;d.requestChange(g,i),f=h[0]}else{f=e,g[this.targetLeftNavID]=e;var i=!!a("#"+this.targetLeftNavID).closest(".chasejs-contexthelp-closebody").length;d.requestChange(g,i)}c=this.utils.findAnchor(this,f)}if(b.initialActiveLink&&!c){j.debug("left nav: '",this.targetLeftNavID,"' initializing with deep linking: ",b.initialActiveLink);var k=b.initialActiveLink.split(";"),m="";if(k){a(k).each(function(a){k[a].indexOf(b.targetLeftNavID)!=-1?c=b.utils.findAnchor(b,k[a]):m+=k[a]+";"}),m=m.replace(/;$/,"");if(m.length>0){var i=!!a("#"+this.targetLeftNavID).closest(".chasejs-contexthelp-closebody").length;d.requestChange(this.getURLObj(m),i)}}else c=this.utils.findAnchor(this,this.initialActiveLink)}c||(j.debug("Loading first left nav item"),c=a(this.$accordionLinks[0])),this.utils.updateView(this,c),this.lnGetRemoteContent(this.utils.getContentUrl(b,c.attr("href"))),b.historySubbedLeftNavs||(l.prototype.historySubbedLeftNavs=[]),a.inArray(this.targetLeftNavID,b.historySubbedLeftNavs)===-1&&(this.historySubscribe(),l.prototype.historySubbedLeftNavs.push(this.targetLeftNavID))},l.prototype.dynamicStyling=function(){var a=this,b=a.$lnTargetContainer.closest(".chaseui-chasefloater"),c=a.$lnTargetContainer.find(".ln-nav-panel"),d=a.$lnTargetContainer.find(".ln-content-wrapper"),e=function(){var f=a.$lnTargetContainer.find(".ln-head"),g=b.find(".standard-overlay-header"),h=g.siblings(".multitask"),i=b.find(".chaseui-contexthelpfloaterbody").innerHeight(),j=parseInt(d.css("padding-top"),10),k=0,l=0,m=0,n=0;g.is("div")&&(k=g[0].offsetHeight||0,f.css("visibility","hidden").hide()),f.is(":visible")&&(n=f[0].offsetHeight||0),h.is("div")&&(l=h[0].offsetHeight||0),m=i-k-l-n-j,c.add(d).css({height:m+"px","overflow-y":"auto"});if(m+k+l+n+j!=i)var o=setTimeout(e,250)};b.is("div")&&(b.addClass("ln-floater-container"),e(),a.$lnTargetContainer.bind("show.chasefloatertitle",e));var f=-1;if(navigator.appName=="Microsoft Internet Explorer"){var g=navigator.userAgent,h=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");h.exec(g)!=null&&(f=parseFloat(RegExp.$1))}f!==-1&&require(["site/lib/PIE"],function(){c.add(d).each(function(){try{PIE.attach(this)}catch(a){}})})},l.prototype.dynamicVideoStyling=function(){var a=this,b=a.$lnTargetContainer.closest(".chaseui-chasefloater");b.is("div")&&b.addClass("video-container-floater")},l.prototype.allySetup=function(){var b=this;a("#ln-return-to-menu").bind("focus",function(c){a(c.target).removeClass("accessible-text");var d=b.$lnTargetContainer.find("#ln-content-wrapper");d.animate({scrollTop:a(c.target).offset().top},2)}),a("#ln-return-to-menu").bind("blur",function(b){a(b.target).addClass("accessible-text")}),a("#ln-return-to-menu").bind("click",function(a){a.preventDefault(),b.$lnTargetContainer.find("."+b.selectedClass).focus()}),a(".ln-circular-redirect").bind("focus",function(a){}),a(".ln-skip-content-panel").bind("focus",function(b){b.preventDefault(),a(".ln-end").focus()});var c=b.$lnTargetContainer.find(b.navPanelSel+' a[data-accessible-prop="accessibleSubnav"]:last');c.addClass("ln-last-primary"),a("#"+b.targetLeftNavID+" .ln-jump-to-last-primary").bind("focus",function(c){c.preventDefault(),a("#"+b.targetLeftNavID+" .ln-last-primary").focus()})},l.prototype.historySubscribe=function(){var b=this,d=function(b){var c=this,d=b[c.targetLeftNavID];if(d!==undefined&&d!=c.currentlyOpen){var e="#"+c.targetLeftNavID+' a[href*="'+d+'"]',f=a(e);c.lnGetRemoteContent(d)}};c.subscribe("historyChanged",d,b)},l.prototype.utils={updateView:function(b,c,d){var e=b.utils.findCategory(b,c),f=b.$lnTargetContainer.find(".video-main-heading");b.utils.toggleClass(b,"","","","REMOVE");switch(e){case"MAIN":b.utils.toggleClass(b,c,0,0,"ADD");break;case"MAIN HASCHILD":var g=b.utils.getFirstChild(c,b);c.addClass("ln-primary-has-subnav"),g.addClass(b.selectedClass),b.utils.getChildUl(g).addClass("expanded").aria(!1),b.utils.toggleClass(b,c,b.utils.getChildUl(g),g,"ADD"),b.isLeftNav&&d&&g.focus(),b.utils.updateHeader(b,g);break;case"CHILD":var h;b.isLeftNav?h=a(c.parent().parent().siblings("a")[0]):h=b.$lnTargetContainer.find(b.navPanelSel).find('a[data-categoryid][data-categoryid="'+c.parent().parent().attr("data-categoryid")+'"]'),h.addClass("ln-primary-has-subnav"),b.utils.getChildUl(c).addClass("expanded").aria(!1),b.utils.toggleClass(b,h,b.utils.getChildUl(c),c,"ADD");break;default:}if(e==="CHILD"||e==="MAIN")d&&(b.isLeftNav?b.$contentPanelHeader.focus():!b.isLeftNav&&e==="CHILD"&&b.$contentPanel.focus()),b.utils.updateHeader(b,c),c.addClass(b.selectedClass);!b.isLeftNav&&(e=="MAIN"||e=="MAIN HASCHILD"||e=="MAIN")&&d&&f.focus()},findCategory:function(b,c){return b.utils.getFirstChild(c,b).length?"MAIN HASCHILD":!b.utils.getFirstChild(c,b).length&&a(c).parent().parent().parent()[0].nodeName.toLowerCase()=="li"||!b.utils.getFirstChild(c,b).length&&a(c).parent().parent().parent().hasClass("chaseui-subcategorylist")?"CHILD":"MAIN"},toggleClass:function(a,b,c,d,e){var f=a.selectedAnchor;if(e=="REMOVE")f.$mainAnchor?f.$mainAnchor.removeClass("ln-primary-no-subnav").removeClass("ln-primary-has-subnav").removeClass(a.selectedClass):"",f.$subUl?f.$subUl.removeClass("expanded").aria(!0):"",f.$subAnchor?f.$subAnchor.removeClass(a.selectedClass):"";else{f.$mainAnchor=b,f.$subUl=c,f.$subAnchor=d;if(!a.isLeftNav){var g=f.$mainAnchor.parent().parent().children("li").show(),h=f.$mainAnchor.parent().hide(),i=g.eq(g.length-2);i.contents().filter(function(){return this.nodeType===3}).remove(),h.index()!=g.length-1&&i.append("|")}}},updateHeader:function(b,c){var d=b.$lnTargetContainer.find("#ln-content-wrapper");d.find("#ln-accessible-start").html("Start "+b.utils.getAnchorText(c)+" content"),d.find("#ln-accessible-end").html("End "+b.utils.getAnchorText(c)+" content"),a(b.$contentPanelHeader).hasClass("accessible-text")?b.$contentPanelHeader.html(b.utils.getAnchorText(c)+" information"):b.$contentPanelHeader.html(b.utils.getAnchorText(c)),b.isLeftNav||b.$lnTargetContainer.find(".video-main-heading").html(b.utils.getAnchorText(b.selectedAnchor.$mainAnchor))},findAnchor:function(b,c){var d=b.$lnTargetContainer.find(a('a[href*="#!'+b.$lnTargetContainer.attr("id")+'"]')),e;return d.each(function(d){var f=a(this),g=f.attr("href").split("#!")[1],h=g.split(";");h.length&&a(h).each(function(a){h[a].indexOf(b.targetLeftNavID)!=-1&&(g=h[a])}),c.indexOf(g)!=-1&&(e=f)}),e},getAnchorText:function(b){var c=b.contents(),d="";return c.each(function(b){var e=a(this);c[b].nodeName=="#text"?d+=a(c[b]).text():c[b].nodeName=="SUP"&&(d+="<sup>"+a(c[b]).text()+"</sup>")}),d},getFirstChild:function(a,b){if(a.attr("data-categoryid")){var c=b.$lnTargetContainer.find('ul[data-categoryid][data-categoryid="'+a.attr("data-categoryid")+'"]');return c.find("a:first")}return a.next("ul:first").find("a:first")},getChildUl:function(a){return a.parent().parent()},getContentUrl:function(b,c){c=c.split("#!")[1];if(c.indexOf(";")!=-1){var d=c.split(";"),e;return a(d).each(function(a){d[a].indexOf(b.targetLeftNavID)!=-1&&(e=d[a].split(":")[1])}),e}return c.split(":")[1]}},l.prototype.init=function(){var b=this,c;a.fn.aria=function(b){return a(this).css({visibility:b?"hidden":"visible"}).attr("aria-hidden",b?"true":"false"),this},$leftNavLinks=b.$lnTargetContainer.find(a('a[href*="#!'+b.$lnTargetContainer.attr("id")+'"]')),$leftNavLinks.on("click",function(c){c.preventDefault();var e=a(this),f=b.utils.getFirstChild(e,b),g=e.attr("href");g=g.split("#!")[1];if(e.hasClass(b.selectedClass)){b.isLeftNav?b.$contentPanelHeader.focus():b.$contentPanel.focus();return}if(e.hasClass("ln-primary-has-subnav")&&f.hasClass(b.selectedClass)){b.isLeftNav?f.focus():b.$contentPanel.focus();return}b.utils.updateView(b,e,!0);var h=!!a("#"+b.$lnTargetContainer.attr("id")).closest(".chasejs-contexthelp-closebody").length;d.requestChange(b.getURLObj(g),h)}),a("body").unbind("modalClose").bind("modalClose",function(){delete d.urlValues[b.$lnTargetContainer.attr("id")];var c=!0;d.requestChange(d.urlValues,c),a("body").unbind("modalClose")})},l.prototype.getURLObj=function(b){var c=this,d={},e=unescape(b);if(e.indexOf(";")!=-1){var f=e.split(";"),g;a.each(f,function(a){g=f[a].split(":"),g[1].indexOf(k)!=-1&&(g[1]=g[1].replace(k,"")),d[g[0]]=g[1]})}else{var h=e.split(":");e=h[1],e.indexOf(k)!=-1&&(e=e.replace(k,"")),d[h[0]]=e}return d},l}),define("site/uicc/_plugins.jquery.ui.tabs",["jquery","jqueryui/core","jqueryui/widget"],function(a){var b=a;return function(a,b){function e(){return++c}function f(){return++d}var c=0,d=0;a.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(a,b){if(a=="selected"){if(this.options.collapsible&&b==this.options.selected)return;this.select(b)}else this.options[a]=b,this._tabify()},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+e()},_sanitizeSelector:function(a){return a=a.replace(/:/g,"\\:"),a=a.replace(/(#!)/g,"#\\!"),a},_cookie:function(){var b=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+f());return a.cookie.apply(null,[b].concat(a.makeArray(arguments)))},_ui:function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var b=a(this);b.html(b.data("label.tabs")).removeData("label.tabs")})},_tabify:function(c){function s(b,c){b.css("display",""),!a.support.opacity&&c.opacity&&b[0].style.removeAttribute("filter")}var d=this,e=this.options,f=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=a(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return a("a",this)[0]}),this.panels=a([]),this.anchors.each(function(b,c){var g=a(c).attr("href"),h=g.split("#")[0],i;h&&(h===location.toString().split("#")[0]||(i=a("base")[0])&&h===i.href)&&(g=c.hash,c.href=g);if(f.test(g))d.panels=d.panels.add(d.element.find(d._sanitizeSelector(g)));else if(g&&g!=="#"){a.data(c,"href.tabs",g),a.data(c,"load.tabs",g.replace(/#.*$/,""));var j=d._tabId(c);c.href="#"+j;var k=d.element.find("#"+j);k.length||(k=a(e.panelTemplate).attr("id",j).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(d.panels[b-1]||d.list),k.data("destroy.tabs",!0)),d.panels=d.panels.add(k)}else e.disabled.push(b)});var g=function(b){var c=a(b).attr("href")+"ButtonTxt";c=c.substring(c.lastIndexOf("#"),c.length);try{var d=a(c);if(d.length){var e=a(d.attr("name"));e.is("input:button")?e.val(d.val()):e.html(d.val())}}catch(f){}},h=function(b,c,d){var e=a(b).attr("data-chase-leftnav"),f=a("."+c);f.css("min-height",d),e&&chasejax({url:e,$spinner:f,$errorContainer:f})};if(c){this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom");var i=this.element.attr("data-chase-updateleftnav"),j=i=="true"?!0:!1,k=this.element.attr("data-chase-contentclass"),l=this.element.attr("data-chase-leftnavminheight");e.selected===b?(location.hash&&this.anchors.each(function(a,b){if(b.hash==location.hash)return e.selected=a,!1}),typeof e.selected!="number"&&e.cookie&&(e.selected=parseInt(d._cookie(),10)),typeof e.selected!="number"&&this.lis.filter(".ui-tabs-selected").length&&(e.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),e.selected=e.selected||(this.lis.length?0:-1)):e.selected===null&&(e.selected=-1),e.selected=e.selected>=0&&this.anchors[e.selected]||e.selected<0?e.selected:0,e.disabled=a.unique(e.disabled.concat(a.map(this.lis.filter(".ui-state-disabled"),function(a,b){return d.lis.index(a)}))).sort(),a.inArray(e.selected,e.disabled)!=-1&&e.disabled.splice(a.inArray(e.selected,e.disabled),1),this.panels.addClass("ui-tabs-hide"),e.selected>=0&&this.anchors.length&&(d.element.find(d._sanitizeSelector(d.anchors[e.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(e.selected).addClass("ui-tabs-selected ui-state-active").find("a").append('<span class="accessible-text">&nbsp;(selected)</span>'),g(this.lis.eq(e.selected).find("a")),d.element.queue("tabs",function(){d._trigger("show",null,d._ui(d.anchors[e.selected],d.element.find(d._sanitizeSelector(d.anchors[e.selected].hash))[0]))}),this.load(e.selected)),a(window).bind("unload",function(){d.lis.add(d.anchors).unbind(".tabs"),d.lis=d.anchors=d.panels=null})}else e.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));this.element[e.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),e.cookie&&this._cookie(e.selected,e.cookie);for(var m=0,n;n=this.lis[m];m++)a(n)[a.inArray(m,e.disabled)!=-1&&!a(n).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");e.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs");if(e.event!=="mouseover"){var o=function(a,b){b.is(":not(.ui-state-disabled)")&&b.addClass("ui-state-"+a)},p=function(a,b){b.removeClass("ui-state-"+a)};this.lis.bind("mouseover.tabs",function(){o("hover",a(this))}),this.lis.bind("mouseout.tabs",function(){p("hover",a(this))}),this.anchors.bind("focus.tabs",function(){o("focus",a(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){p("focus",a(this).closest("li"))})}var q,r;e.fx&&(a.isArray(e.fx)?(q=e.fx[0],r=e.fx[1]):q=r=e.fx);var t=r?function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active").find(".accessible-text").remove(),c.hide().removeClass("ui-tabs-hide").animate(r,r.duration||"normal",function(){s(c,r),d._trigger("show",null,d._ui(b,c[0]))})}:function(b,c){a(b).closest("li").removeClass("ui-state-default").addClass("ui-tabs-selected ui-state-active").find(".accessible-text").remove(),a(b).closest("li.ui-state-active").find("a").append('<span class="accessible-text">&nbsp;(selected)</span>'),c.removeClass("ui-tabs-hide chaseutil-hide"),d._trigger("show",null,d._ui(b,c[0])),c.find("h4:eq(0).accessible-text").attr("tabindex","-1"),setFocusOnNextFocusable(c,a(this))},u=q?function(a,b){b.animate(q,q.duration||"normal",function(){d.lis.removeClass("ui-tabs-selected ui-state-active").addClass("ui-state-default").find("a").append('<span class="accessible-text">&nbsp;(selected)</span>'),b.addClass("ui-tabs-hide"),s(b,q),d.element.dequeue("tabs")})}:function(a,b,c){d.lis.removeClass("ui-tabs-selected ui-state-active").addClass("ui-state-default").find(".accessible-text").remove(),j?d.lis.find("a").append('<span class="accessible-text">&nbsp;(Updates inner body content below and sidebar)</span>'):d.lis.find("a").append('<span class="accessible-text">&nbsp;(Updates page content below)</span>'),b.addClass("ui-tabs-hide"),d.element.dequeue("tabs")};this.anchors.bind(e.event+".tabs",function(){var b=this,c=a(b).closest("li"),f=d.panels.filter(":not(.ui-tabs-hide)"),i=d.element.find(d._sanitizeSelector(b.hash));if(c.hasClass("ui-tabs-selected")&&!e.collapsible||c.hasClass("ui-state-disabled")||c.hasClass("ui-state-processing")||d.panels.filter(":animated").length||d._trigger("select",null,d._ui(this,i[0]))===!1)return this.blur(),!1;e.selected=d.anchors.index(this),d.abort();if(e.collapsible){if(c.hasClass("ui-tabs-selected"))return e.selected=-1,e.cookie&&d._cookie(e.selected,e.cookie),d.element.queue("tabs",function(){u(b,f)}).dequeue("tabs"),this.blur(),!1;if(!f.length)return e.cookie&&d._cookie(e.selected,e.cookie),d.element.queue("tabs",function(){t(b,i)}),d.load(d.anchors.index(this)),this.blur(),!1}e.cookie&&d._cookie(e.selected,e.cookie),i.length&&(f.length&&d.element.queue("tabs",function(){u(b,f)}),d.element.queue("tabs",function(){t(b,i),g(b),j&&h(b,k,l)}),d.load(d.anchors.index(this))),a.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(a){return!1})},_getIndex:function(a){return typeof a=="string"&&(a=this.anchors.index(this.anchors.filter("[href$="+a+"]"))),a},destroy:function(){var b=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var b=a.data(this,"href.tabs");b&&(this.href=b);var c=a(this).unbind(".tabs");a.each(["href","load","cache"],function(a,b){c.removeData(b+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){a.data(this,"destroy.tabs")?a(this).remove():a(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),b.cookie&&this._cookie(null,b.cookie),this},add:function(c,d,e){e===b&&(e=this.anchors.length);var f=this,g=this.options,h=a(g.tabTemplate.replace(/#\{href\}/g,c).replace(/#\{label\}/g,d)),i=c.indexOf("#")?this._tabId(a("a",h)[0]):c.replace("#","");h.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var j=f.element.find("#"+i);return j.length||(j=a(g.panelTemplate).attr("id",i).data("destroy.tabs",!0)),j.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),e>=this.lis.length?(h.appendTo(this.list),j.appendTo(this.list[0].parentNode)):(h.insertBefore(this.lis[e]),j.insertBefore(this.panels[e])),g.disabled=a.map(g.disabled,function(a,b){return a>=e?++a:a}),this._tabify(),this.anchors.length==1&&(g.selected=0,h.addClass("ui-tabs-selected ui-state-active"),j.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){f._trigger("show",null,f._ui(f.anchors[0],f.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[e],this.panels[e])),this},remove:function(b){b=this._getIndex(b);var c=this.options,d=this.lis.eq(b).remove(),e=this.panels.eq(b).remove();return d.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(b+(b+1<this.anchors.length?1:-1)),c.disabled=a.map(a.grep(c.disabled,function(a,c){return a!=b}),function(a,c){return a>=b?--a:a}),this._tabify(),this._trigger("remove",null,this._ui(d.find("a")[0],e[0])),this},enable:function(b){b=this._getIndex(b);var c=this.options;if(a.inArray(b,c.disabled)==-1)return;return this.lis.eq(b).removeClass("ui-state-disabled"),c.disabled=a.grep(c.disabled,function(a,c){return a!=b}),this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b])),this},disable:function(a){a=this._getIndex(a);var b=this,c=this.options;return a!=c.selected&&(this.lis.eq(a).addClass("ui-state-disabled"),c.disabled.push(a),c.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[a],this.panels[a]))),this},select:function(a){a=this._getIndex(a);if(a==-1){if(!this.options.collapsible||this.options.selected==-1)return this;a=this.options.selected}return this.anchors.eq(a).trigger(this.options.event+".tabs"),this},load:function(b){b=this._getIndex(b);var c=this,d=this.options,e=this.anchors.eq(b)[0],f=a.data(e,"load.tabs");this.abort();if(!f||this.element.queue("tabs").length!==0&&a.data(e,"cache.tabs")){this.element.dequeue("tabs");return}this.lis.eq(b).addClass("ui-state-processing");if(d.spinner){var g=a("span",e);g.data("label.tabs",g.html()).html(d.spinner)}return this.xhr=a.ajax(a.extend({},d.ajaxOptions,{url:f,success:function(f,g){c.element.find(c._sanitizeSelector(e.hash)).html(f),c._cleanup(),d.cache&&a.data(e,"cache.tabs",!0),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.success(f,g)}catch(h){}},error:function(a,f,g){c._cleanup(),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.error(a,f,b,e)}catch(g){}}})),c.element.dequeue("tabs"),this},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(a,b){return this.anchors.eq(a).removeData("cache.tabs").data("load.tabs",b),this},length:function(){return this.anchors.length}}),a.extend(a.ui.tabs,{version:"1.8.16"}),a.extend(a.ui.tabs.prototype,{rotation:null,rotate:function(a,b){var c=this,d=this.options,e=c._rotate||(c._rotate=function(b){clearTimeout(c.rotation),c.rotation=setTimeout(function(){var a=d.selected;c.select(++a<c.anchors.length?a:0)},a),b&&b.stopPropagation()}),f=c._unrotate||(c._unrotate=b?function(a){t=d.selected,e()}:function(a){a.clientX&&c.rotate(null)});return a?(this.element.bind("tabsshow",e),this.anchors.bind(d.event+".tabs",f),e()):(clearTimeout(c.rotation),this.element.unbind("tabsshow",e),this.anchors.unbind(d.event+".tabs",f),delete this._rotate,delete this._unrotate),this}})}(a,a.ui.tabs)}),define("site/components/container/tabs",["jquery","jpmc/topic","site/uicc/_plugins.jquery.ui.tabs","site/browser/history"],function(a,b,c,d){var e={initTabs:function(c){var e="#"+c+".ui-tabs",f=a(e),g="ul.ui-tabs-nav a";f.tabs({event:"change"}),f.find(g).click(function(){var b={},e=a(this).attr("id"),g=c;b[g]=e;var h=!!f.closest(".chasejs-contexthelp-closebody").length;d.requestChange(b,h),!!window.CHASE&&!!window.CHASE.analytics&&!!window.CHASE.analytics.trackTabSelect&&CHASE.analytics.trackTabSelect(e,c)}),f.find(g).bind("change",function(b){var c=a(this);c.closest("ul.chaseui-tabs-list").find("h2 a").each(function(){a(this).unwrap()}),c.wrap("<h2>"),f.find("div.chaseui-tabs-body").each(function(){a(this).attr("aria-hidden","true")});var d=c.attr("href").replace(/:/g,"\\:").replace(/!/g,"\\!");a(d).attr("aria-hidden","false")}),b.subscribe("historyChanged",function(b){var d=b[c],e=!1;d&&f.find(g).each(function(){d==a(this).attr("id")&&(a(this).triggerHandler("change"),e=!0)}),e||f.find(g).eq(0).triggerHandler("change")})}};return e}),define("site/components/autoratestable",["jquery","jpmc/log","jpmc/topic","jpmc/cookie/persona","content/conf/appsconfig/clientconfig"],function(a,b,c,d,e){var f=b("autoratestable");f.debug("Loading autoratestable");var g=function(b){var d=this;this.objJsonUI=b,this.toggleHeaderFooter();var e=b.rowHeaders;this.default2={products:[{label:e[0],productName:"DAUN0I",productType:"02",prodCat:"All,Purchase,PurchaseMinusP2P"},{label:e[1],productName:"DAUU1I",productType:"02",prodCat:"All,Purchase,PurchaseMinusP2P"},{label:e[2],productName:"DAUU1I",productType:"02",prodCat:"All,Refinance"},{label:e[3],productName:"DAUU1I",productType:"01",prodCat:"All,Purchase"}]};var g="#autoZipLink"+this.objJsonUI.override;a(g).click(function(a){f.debug("publishing block-for-zip-handler"),a.preventDefault(),c.publish("block-for-zip-handler",[g])});var h="#seeRatesButton"+this.objJsonUI.override;f.debug("buttonId = "+h),a(h).click(function(a){f.debug("publishing block-for-zip-handler"),a.preventDefault(),c.publish("block-for-zip-handler",[h])}),c.subscribe("zipcodeUpdate",function(a){d.zipcode=a.zipcode,d.zipcode.length>5&&(d.zipcode=d.zipcode.substring(0,5)),d.getRates({zipcode:a.zipcode,productCat:b.prodCat,override:b.override})})};return g.prototype={toggleHeaderFooter:function(){a(".rates-container .rates-header .title").hide(),a(".rates-container .rates-heading.rates-heading-onZipCode").hide(),a(".rates-container .rates-heading.rates-heading-onNoZipCode").show(),a(".rates-container .rates-heading.rates-heading-onNoZipCode").html("<br>"+this.objJsonUI.tableHeader+"<br>"),a(".rates-container .rates-button-container").show(),a(".rates-container .rates-zipcodetext-container").hide()},getRates:function(b){var c=this;a.ajax({url:e.autoloanRatesServiceURL,type:"GET",data:b,dataType:"jsonp",success:function(a){c.parseRespJsonData(a)}})},parseRespJsonData:function(b){var d=this,e=[],f=0,g=b.products?b.products.length:0,h=this.objJsonUI.prodCat,k=b.showP2P,l=this.objJsonUI.override,m=d.zipcode,n=b.state;n||(n=m),l=="true"?k?showDiscountHeader=!1:showDiscountHeader=!0:k?showDiscountHeader=!0:showDiscountHeader=!1;var o=this.objJsonUI.comparePage,p='<span class="chaseui-link-style-normal" style="padding-right: 0;">'+this.objJsonUI.footerText+"&nbsp;</span>"+n+'<span class="accessible-text">&nbsp;(Opens overlay to change Zip code)</span>',q=a(".rates-container.override-"+this.objJsonUI.override);showDiscountHeader?(q.find(".rates-heading.rates-heading-discounted").show(),q.find(".rates-heading.rates-heading-nondiscounted").hide(),q.find(".rates-heading.rates-heading-onNoZipCode").hide(),a(".rates-container .rates-heading.rates-heading-onNoZipCode").html(""),q.find(".rates-button-container").hide(),q.find(".rates-zipcodetext-container").show(),q.find(".autorateZip").html(p),o=="true"?(q.find(".rates-innercaption.compare-discount ").show(),q.find(".rates-innercaption.non-compare ").hide(),a("#subheadingCompNonDisc-"+this.objJsonUI.override).html(""),a("#subheadingCompDisc-"+this.objJsonUI.override).html(this.objJsonUI.compareSubHeader),q.find(".rates-innercaption.compare-nondiscount ").hide(),a(".rates-header").hide()):(q.find(".rates-header .title.title-discounted").show(),q.find(".rates-header .title.title-nondiscounted").hide(),q.find(".rates-innercaption.non-compare ").show(),a("#subheadingNonDisc-"+this.objJsonUI.override).html(""),a("#subheadingDisc-"+this.objJsonUI.override).html(this.objJsonUI.discSubHeader),q.find(".rates-innercaption.compare-discount ").hide(),q.find(".rates-innercaption.compare-nondiscount ").hide()),q.find(".rates div.rates-caption").removeClass("rates-nondiscounted")):(q.find(".rates-heading.rates-heading-discounted").hide(),q.find(".rates-heading.rates-heading-nondiscounted").show(),q.find(".rates-heading.rates-heading-onNoZipCode").hide(),a(".rates-container .rates-heading.rates-heading-onNoZipCode").html(""),q.find(".rates-button-container").hide(),q.find(".rates-zipcodetext-container").show(),q.find(".autorateZip").html(p),o=="true"?(q.find(".rates-innercaption.compare-nondiscount ").show(),q.find(".rates-innercaption.compare-discount ").hide(),q.find(".rates-innercaption.non-compare ").hide(),a("#subheadingCompDisc-"+this.objJsonUI.override).html(""),a("#subheadingCompNonDisc-"+this.objJsonUI.override).html(this.objJsonUI.compareSubHeader),a(".rates-header").hide()):(q.find(".rates-header .title.title-discounted").hide(),q.find(".rates-header .title.title-nondiscounted").show(),q.find(".rates-innercaption.non-compare ").show(),q.find(".rates-innercaption.compare-discount ").hide(),q.find(".rates-innercaption.compare-nondiscount ").hide(),a("#subheadingDisc-"+this.objJsonUI.override).html(""),a("#subheadingNonDisc-"+this.objJsonUI.override).html(this.objJsonUI.nonDiscSubHeader)),q.find(".rates div.rates-caption").addClass("rates-nondiscounted")),c.publish("disclosuresUpdated",[""]),default2=this.default2;for(i=0;i<default2.products.length;i++){var r=default2.products[i].productName,s=default2.products[i].productType,t=default2.products[i].label,u=default2.products[i].prodCat.split(","),v=!1;for(x=0;x<u.length;x++)if(u[x]==h){v=!0;break}var w=!1;if(k==0&&r=="DAUU1I"&&s=="01")continue;if(g==0)v&&(w=!0,e[f]||(e[f]={},e[f].productTypeHeader=t,e[f].rates=[],e[f].rates[0]={},e[f].rates[1]={},e[f].rates[2]={}),e[f].rates[0].rate="",e[f].rates[1].rate="",e[f].rates[2].rate="");else for(j=0;j<g;j++)b.products[j].productName==r&&b.products[j].productType==s&&v&&(w=!0,e[f]||(e[f]={},e[f].productTypeHeader=t,e[f].rates=[],e[f].rates[0]={},e[f].rates[1]={},e[f].rates[2]={}),b.products[j].term==48?e[f].rates[0].rate=""+b.products[j].rate:b.products[j].term==60?e[f].rates[1].rate=""+b.products[j].rate:b.products[j].term==72&&(e[f].rates[2].rate=""+b.products[j].rate));w==1&&f++}var y={};y.products=e,this.updateRates(y),this.applyPIE()},updateRates:function(b){b=b.products;var c="",d=b.length;for(var e=0;e<d;e++){c+='<tr role="row">',c+='<th class="rates-firstcell" role="rowheader">',c+='<div class="rates-innercell">'+b[e].productTypeHeader+"</div>",c+="</th>";var f=b[e].rates.length;for(var g=0;g<f;g++)c+='<td role="gridcell"><div class="rates-innercell"><span>'+this.formatRate(b[e].rates[g].rate)+"</span></div></td>";c+="</tr>"}a(".rates-container.override-"+this.objJsonUI.override+" tbody").empty().append(c)},formatRate:function(a){return a?function(){a=""+a,a.indexOf(".")==-1&&(a+=".00");var b=a.split(".")[0],c=a.split(".")[1];while(c.length<2)c+="0";return b+"."+c+"%"}():"n/a"},getInternetExplorerVersion:function(){var a=-1;if(navigator.appName=="Microsoft Internet Explorer"){var b=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");c.exec(b)!=null&&(a=parseFloat(RegExp.$1))}return a},applyPIE:function(){var b=this.getInternetExplorerVersion();b!==-1&&require(["site/lib/PIE"],function(){a(".rates-active").each(function(){PIE.attach(this)})})}},f.debug("End of autoratestable"),g}),define("site/components/categorylinks",["jquery","jpmc/log","jpmc/topic","jpmc/cookie/persona"],function(a,b,c,d){var e=b("categorylinks");e.debug("Loading categorylinks");var f={init:function(){var b=f.readCategoryFlag();f.setCategory(b),a(".static-nav-wrapper a").click(function(){f.setCategoryCookie(a(this).attr("data-category"))})},readCategoryFlag:function(){var b="personal",c=f.splitHref(location.href,3);return a(".categorylinks a").each(function(){var d=f.splitHref(a(this).attr("href"),3);d==c&&(b=a(this).attr("data-category"))}),b},splitHref:function(a,b){return a.split("/").length>=4&&(a=a.split("/")[b]),a},setCategory:function(b){var c;!b||b=="undefined"?c=a(".static-nav-wrapper a:first"):c=a('.static-nav-wrapper a[data-category="'+b+'"]'),a(".static-nav-wrapper a").each(function(){var b=a(this);b[0]===c[0]?c.addClass("selected").append('<span class="accessible-text">&nbsp;home page (current section)</span>'):b.append('<span class="accessible-text">&nbsp;home page</span>')})},setCategoryCookie:function(a){var b=d().read()||{};b.home=a,d().write(b),c.publish("personaUpdate",[b])}};return a(function(){f.init()}),e.debug("End of categorylinks"),f});var swfobject=function(){function A(){if(t)return;try{var a=i.getElementsByTagName("body")[0].appendChild(Q("span"));a.parentNode.removeChild(a)}catch(b){return}t=!0;var c=l.length;for(var d=0;d<c;d++)l[d]()}function B(a){t?a():l[l.length]=a}function C(b){if(typeof h.addEventListener!=a)h.addEventListener("load",b,!1);else if(typeof i.addEventListener!=a)i.addEventListener("load",b,!1);else if(typeof h.attachEvent!=a)R(h,"onload",b);else if(typeof h.onload=="function"){var c=h.onload;h.onload=function(){c(),b()}}else h.onload=b}function D(){k?E():F()}function E(){var c=i.getElementsByTagName("body")[0],d=Q(b);d.setAttribute("type",e);var f=c.appendChild(d);if(f){var g=0;(function(){if(typeof f.GetVariable!=a){var b=f.GetVariable("$version");b&&(b=b.split(" ")[1].split(","),y.pv=[parseInt(b[0],10),parseInt(b[1],10),parseInt(b[2],10)])}else if(g<10){g++,setTimeout(arguments.callee,10);return}c.removeChild(d),f=null,F()})()}else F()}function F(){var b=m.length;if(b>0)for(var c=0;c<b;c++){var d=m[c].id,e=m[c].callbackFn,f={success:!1,id:d};if(y.pv[0]>0){var g=P(d);if(g)if(S(m[c].swfVersion)&&!(y.wk&&y.wk<312))U(d,!0),e&&(f.success=!0,f.ref=G(d),e(f));else if(m[c].expressInstall&&H()){var h={};h.data=m[c].expressInstall,h.width=g.getAttribute("width")||"0",h.height=g.getAttribute("height")||"0",g.getAttribute("class")&&(h.styleclass=g.getAttribute("class")),g.getAttribute("align")&&(h.align=g.getAttribute("align"));var i={},j=g.getElementsByTagName("param"),k=j.length;for(var l=0;l<k;l++)j[l].getAttribute("name").toLowerCase()!="movie"&&(i[j[l].getAttribute("name")]=j[l].getAttribute("value"));I(h,i,d,e)}else J(g),e&&e(f)}else{U(d,!0);if(e){var n=G(d);n&&typeof n.SetVariable!=a&&(f.success=!0,f.ref=n),e(f)}}}}function G(c){var d=null,e=P(c);if(e&&e.nodeName=="OBJECT")if(typeof e.SetVariable!=a)d=e;else{var f=e.getElementsByTagName(b)[0];f&&(d=f)}return d}function H(){return!u&&S("6.0.65")&&(y.win||y.mac)&&!(y.wk&&y.wk<312)}function I(b,c,d,e){u=!0,r=e||null,s={success:!1,id:d};var g=P(d);if(g){g.nodeName=="OBJECT"?(p=K(g),q=null):(p=g,q=d),b.id=f;if(typeof b.width==a||!/%$/.test(b.width)&&parseInt(b.width,10)<310)b.width="310";if(typeof b.height==a||!/%$/.test(b.height)&&parseInt(b.height,10)<137)b.height="137";i.title=i.title.slice(0,47)+" - Flash Player Installation";var j=y.ie&&y.win?"ActiveX":"PlugIn",k="MMredirectURL="+h.location.toString().replace(/&/g,"%26")+"&MMplayerType="+j+"&MMdoctitle="+i.title;typeof c.flashvars!=a?c.flashvars+="&"+k:c.flashvars=k;if(y.ie&&y.win&&g.readyState!=4){var l=Q("div");d+="SWFObjectNew",l.setAttribute("id",d),g.parentNode.insertBefore(l,g),g.style.display="none",function(){g.readyState==4?g.parentNode.removeChild(g):setTimeout(arguments.callee,10)}()}L(b,c,d)}}function J(a){if(y.ie&&y.win&&a.readyState!=4){var b=Q("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(K(a),b),a.style.display="none",function(){a.readyState==4?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}else a.parentNode.replaceChild(K(a),a)}function K(a){var c=Q("div");if(y.win&&y.ie)c.innerHTML=a.innerHTML;else{var d=a.getElementsByTagName(b)[0];if(d){var e=d.childNodes;if(e){var f=e.length;for(var g=0;g<f;g++)(e[g].nodeType!=1||e[g].nodeName!="PARAM")&&e[g].nodeType!=8&&c.appendChild(e[g].cloneNode(!0))}}}return c}function L(c,d,f){var g,h=P(f);if(y.wk&&y.wk<312)return g;if(h){typeof c.id==a&&(c.id=f);if(y.ie&&y.win){var i="";for(var j in c)c[j]!=Object.prototype[j]&&(j.toLowerCase()=="data"?d.movie=c[j]:j.toLowerCase()=="styleclass"?i+=' class="'+c[j]+'"':j.toLowerCase()!="classid"&&(i+=" "+j+'="'+c[j]+'"'));var k="";for(var l in d)d[l]!=Object.prototype[l]&&(k+='<param name="'+l+'" value="'+d[l]+'" />');h.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+i+">"+k+"</object>",n[n.length]=c.id,g=P(c.id)}else{var m=Q(b);m.setAttribute("type",e);for(var o in c)c[o]!=Object.prototype[o]&&(o.toLowerCase()=="styleclass"?m.setAttribute("class",c[o]):o.toLowerCase()!="classid"&&m.setAttribute(o,c[o]));for(var p in d)d[p]!=Object.prototype[p]&&p.toLowerCase()!="movie"&&M(m,p,d[p]);h.parentNode.replaceChild(m,h),g=m}}return g}function M(a,b,c){var d=Q("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function N(a){var b=P(a);b&&b.nodeName=="OBJECT"&&(y.ie&&y.win?(b.style.display="none",function(){b.readyState==4?O(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function O(a){var b=P(a);if(b){for(var c in b)typeof b[c]=="function"&&(b[c]=null);b.parentNode.removeChild(b)}}function P(a){var b=null;try{b=i.getElementById(a)}catch(c){}return b}function Q(a){return i.createElement(a)}function R(a,b,c){a.attachEvent(b,c),o[o.length]=[a,b,c]}function S(a){var b=y.pv,c=a.split(".");return c[0]=parseInt(c[0],10),c[1]=parseInt(c[1],10)||0,c[2]=parseInt(c[2],10)||0,b[0]>c[0]||b[0]==c[0]&&b[1]>c[1]||b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]?!0:!1}function T(c,d,e,f){if(y.ie&&y.mac)return;var g=i.getElementsByTagName("head")[0];if(!g)return;var h=e&&typeof e=="string"?e:"screen";f&&(v=null,w=null);if(!v||w!=h){var j=Q("style");j.setAttribute("type","text/css"),j.setAttribute("media",h),v=g.appendChild(j),y.ie&&y.win&&typeof i.styleSheets!=a&&i.styleSheets.length>0&&(v=i.styleSheets[i.styleSheets.length-1]),w=h}y.ie&&y.win?v&&typeof v.addRule==b&&v.addRule(c,d):v&&typeof i.createTextNode!=a&&v.appendChild(i.createTextNode(c+" {"+d+"}"))}function U(a,b){if(!x)return;var c=b?"visible":"hidden";t&&P(a)?P(a).style.visibility=c:T("#"+a,"visibility:"+c)}function V(b){var c=/[\\\"<>\.;]/,d=c.exec(b)!=null;return d&&typeof encodeURIComponent!=a?encodeURIComponent(b):b}var a="undefined",b="object",c="Shockwave Flash",d="ShockwaveFlash.ShockwaveFlash",e="application/x-shockwave-flash",f="SWFObjectExprInst",g="onreadystatechange",h=window,i=document,j=navigator,k=!1,l=[D],m=[],n=[],o=[],p,q,r,s,t=!1,u=!1,v,w,x=!0,y=function(){var f=typeof i.getElementById!=a&&typeof i.getElementsByTagName!=a&&typeof i.createElement!=a,g=j.userAgent.toLowerCase(),l=j.platform.toLowerCase(),m=l?/win/.test(l):/win/.test(g),n=l?/mac/.test(l):/mac/.test(g),o=/webkit/.test(g)?parseFloat(g.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,p=!1,q=[0,0,0],r=null;if(typeof j.plugins!=a&&typeof j.plugins[c]==b)r=j.plugins[c].description,r&&(typeof j.mimeTypes==a||!j.mimeTypes[e]||!!j.mimeTypes[e].enabledPlugin)&&(k=!0,p=!1,r=r.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),q[0]=parseInt(r.replace(/^(.*)\..*$/,"$1"),10),q[1]=parseInt(r.replace(/^.*\.(.*)\s.*$/,"$1"),10),q[2]=/[a-zA-Z]/.test(r)?parseInt(r.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof h.ActiveXObject!=a)try{var s=new ActiveXObject(d);s&&(r=s.GetVariable("$version"),r&&(p=!0,r=r.split(" ")[1].split(","),q=[parseInt(r[0],10),parseInt(r[1],10),parseInt(r[2],10)]))}catch(t){}return{w3:f,pv:q,wk:o,ie:p,win:m,mac:n}}(),z=function(){if(!y.w3)return;(typeof i.readyState!=a&&i.readyState=="complete"||typeof i.readyState==a&&(i.getElementsByTagName("body")[0]||i.body))&&A(),t||(typeof i.addEventListener!=a&&i.addEventListener("DOMContentLoaded",A,!1),y.ie&&y.win&&(i.attachEvent(g,function(){i.readyState=="complete"&&(i.detachEvent(g,arguments.callee),A())}),h==top&&function(){if(t)return;try{i.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}A()}()),y.wk&&function(){if(t)return;if(!/loaded|complete/.test(i.readyState)){setTimeout(arguments.callee,0);return}A()}(),C(A))}(),W=function(){y.ie&&y.win&&window.attachEvent("onunload",function(){var a=o.length;for(var b=0;b<a;b++)o[b][0].detachEvent(o[b][1],o[b][2]);var c=n.length;for(var d=0;d<c;d++)N(n[d]);for(var e in y)y[e]=null;y=null;for(var f in swfobject)swfobject[f]=null;swfobject=null})}();return{registerObject:function(a,b,c,d){if(y.w3&&a&&b){var e={};e.id=a,e.swfVersion=b,e.expressInstall=c,e.callbackFn=d,m[m.length]=e,U(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){if(y.w3)return G(a)},embedSWF:function(c,d,e,f,g,h,i,j,k,l){var m={success:!1,id:d};y.w3&&!(y.wk&&y.wk<312)&&c&&d&&e&&f&&g?(U(d,!1),B(function(){e+="",f+="";var n={};if(k&&typeof k===b)for(var o in k)n[o]=k[o];n.data=c,n.width=e,n.height=f;var p={};if(j&&typeof j===b)for(var q in j)p[q]=j[q];if(i&&typeof i===b)for(var r in i)typeof p.flashvars!=a?p.flashvars+="&"+r+"="+i[r]:p.flashvars=r+"="+i[r];if(S(g)){var s=L(n,p,d);n.id==d&&U(d,!0),m.success=!0,m.ref=s}else{if(h&&H()){n.data=h,I(n,p,d,l);return}U(d,!0)}l&&l(m)})):l&&l(m)},switchOffAutoHideShow:function(){x=!1},ua:y,getFlashPlayerVersion:function(){return{major:y.pv[0],minor:y.pv[1],release:y.pv[2]}},hasFlashPlayerVersion:S,createSWF:function(a,b,c){return y.w3?L(a,b,c):undefined},showExpressInstall:function(a,b,c,d){y.w3&&H()&&I(a,b,c,d)},removeSWF:function(a){y.w3&&N(a)},createCSS:function(a,b,c,d){y.w3&&T(a,b,c,d)},addDomLoadEvent:B,addLoadEvent:C,getQueryParamValue:function(a){var b=i.location.search||i.location.hash;if(b){/\?/.test(b)&&(b=b.split("?")[1]);if(a==null)return V(b);var c=b.split("&");for(var d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return V(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(u){var a=P(f);a&&p&&(a.parentNode.replaceChild(p,a),q&&(U(q,!0),y.ie&&y.win&&(p.style.display="block")),r&&r(s)),u=!1}}}}();define("site/uicc/swfobject-2.2",function(){}),define("site/components/flashVideo",["jquery","jpmc/topic","site/uicc/swfobject-2.2"],function(a,b){function c(b,d,e,f,g,h,i,j){this.video_path=b,this.projector_path=d,this.poster_path=e,this.xml_path=f,this.video_width=g,this.video_height=h,this.bgcolor=i,this.contextcontainer="#"+j,this.isShowHTMLPlayer=!1,this.HAS_VALID_FLASH_VERSION=!1,this.init=function(){var a=this;try{var b=swfobject.getFlashPlayerVersion();c.HAS_VALID_FLASH_VERSION=b.major?!0:!1}catch(d){c.HAS_VALID_FLASH_VERSION=!1}try{var f=document.createElement("audio"),j=document.createElement("video");c.isShowHTMLPlayer={audio:f.play?!0:!1,video:j.play?!0:!1}}catch(d){}try{c.HAS_VALID_FLASH_VERSION?a.swfEmbedPrep(a.video_path,a.projector_path,a.poster_path,a.xml_path,a.video_width,a.video_height,a.bgcolor,a.contextcontainer):c.isShowHTMLPlayer&&a.showHTML5Player(a.video_path,e,g,h,i,a.contextcontainer)}catch(d){}},this.showHTML5Player=function(b,c,d,e,f,g){var d=(d||833)-0,e=(e||496)-0,h='<video poster="'+c+'" width="'+d+'" height="'+e+'" controls="controls" style="background-color:'+f+';">';h=h+'<source src="'+b+'" type="video/mp4" />',h+='<p class="center"><a href="https://www.adobe.com/go/getflashplayer"><img alt="Get Adobe Flash player" src="https://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" /></a></p>',h+="</video>",a(".videoplayer",g).html(h)},this.swfEmbedPrep=function(b,c,d,e,f,g,h,i){try{var j=c||"/uicc/html/online/common/multimedia/video/swat_video_large.swf",f=(f||833)-0,g=(g||496)-0,k={scale:"noscale",salign:"lt",allowScriptAccess:"always",allowfullscreen:"true",wmode:"window",SeamlessTabbing:"false"},l={vidFile:b,ccFile:e,lang:"Eng",audioOnly:!1,domain1:""},m={},n=a(".videoplayer",i).attr("id");swfobject.removeSWF(n),swfobject.embedSWF(j,n,f,g,"9.0.0","expressInstall.swf",l,k,m)}catch(o){console.log(o.message)}},this.init()}return c}),define("site/components/container/video-overlay-container",["jquery","jpmc/topic","site/browser/history","site/components/flashVideo","jpmc/log"],function(a,b,c,d,e){var f=e("VOC"),g={init:function(e){var g="#"+e;f.debug("data-view-subcat123452");var h=a("a.standard-overlay-video-view-sub-category");h.on("click",function(b){b.preventDefault(),f.debug("aViewSubCat: "+a(this).attr("data-view-subcat")),h.each(function(){a(this).closest("li").removeClass("nodisplay")}),a(this).closest("li").addClass("nodisplay");var d={},e=a(this).attr("data-view-subcat"),g="video-overlay-subcat";d[g]=e;var i="#"+e,e=a(i).find("li:first>a").attr("data-subcat-link"),g="video-overlay-subcat-link";d[g]=e,c.requestChange(d)});var i=a("a.standard-overlay-video-sub-category-link");i.on("click",function(b){b.preventDefault(),f.debug("aViewSubCat: "+a(this).attr("data-subcat-link")),i.each(function(){a(this).removeClass("bold")}),a(this).addClass("bold");var d={},e=a(this).closest("div.standard-overlay-video-sub-category").attr("id"),g="video-overlay-subcat";d[g]=e;var e=a(this).attr("data-subcat-link"),g="video-overlay-subcat-link";d[g]=e,c.requestChange(d)}),b.subscribe("historyChanged",function(b){var c=b["video-overlay-subcat"],h="#"+c,i=b["video-overlay-subcat-link"],j="#"+i;f.debug("selectedSubCatHash: "+c),f.debug("selectedSubCatLinkHash: "+i);if(c&&i&&a(h).length==1){f.debug("selectedSubCatHash: "+c),a("div.standard-overlay-video-sub-category",g).each(function(){a(this).addClass("nodisplay")}),a(h).removeClass("nodisplay");var k=a(h).attr("data-header-text");a("#standard-overlay-header-text-section",g).html(k);if(a(j).length==1){f.debug("selectedSubCatLinkHash: "+i),a("a.standard-overlay-video-sub-category-link",g).each(function(){a(this).removeClass("bold")}),a(j,g).addClass("bold");var l=a(j,g).attr("data-video"),m=a(j,g).attr("data-projector"),n=a(j,g).attr("data-poster"),o=a(j,g).attr("data-xml"),p=a(j,g).attr("data-width"),q=a(j,g).attr("data-height"),r=a(j,g).attr("data-bgcolor"),s=new d(l,m,n,o,p,q,r,e);return}var l=a(j,g).find("li.first>a").attr("data-video"),m=a(j,g).find("li.first>a").attr("data-projector"),n=a(j,g).find("li.first>a").attr("data-poster"),o=a(j,g).find("li.first>a").attr("data-xml"),p=a(j,g).find("li.first>a").attr("data-width"),q=a(j,g).find("li.first>a").attr("data-height"),r=a(j,g).find("li.first>a").attr("data-bgcolor"),s=new d(l,m,n,o,p,q,r,e)}else a(".standard-overlay-video-category",g).find("a.standard-overlay-video-view-sub-category:first").click()})}};return g}),define("site/components/language-selector",["jquery","jpmc/log","jpmc/topic","jpmc/cookie/persona"],function(a,b,c,d){var e=b("language-selector");e.debug("Loading language-selector");var f={setLocale:function(a){var b=a.attr("data-locale"),e=d().read()||{};e.locale=b,d().write(e),c.publish("personaUpdate",[e])}};return f}),define("site/components/login",["jquery","jpmc/log","jpmc/cookie/persona","content/services/contentprovider"],function(a,b,c,d){function f(b){this.context=b,this.varDOMAIN=".chase.com",this.varLOB="RBGLogon",this.varAjaxError="<div id='ajaxerror'><a href='https://chaseonline.chase.com/online/home/sso_co_home.jsp' class='outageLink'>this link</a></div>",this.vEditableOptionIndex_A=0,this.userIdText=a("input#usr_name").attr("placeholder")||a("input#usr_name_home").attr("placeholder")||a("input#interstitial_usr_name").attr("placeholder"),this.passwordText=a("input#usr_password").attr("placeholder")||a("input#usr_password_home").attr("placeholder")||a("input#interstitial_usr_password").attr("placeholder"),this.tokenText=a("input#usr_tokencode").attr("placeholder"),this.myarr=null,this._userId="",this._password="",this._token="",this._password_org="",this._lob="",this._cookieDomain="",this._reTryInterval=1e3,this._maxReTryCount=5,this.reTryCount=0,this.vEditableOptionText_A="--?--",this.vPreviousSelectIndex_A=0,this.vSelectIndex_A=0,this.vSelectChange_A="MANUAL_CLICK"}var e=b("Login");return f.prototype={init:function(b){var c=this,d=a(this.context),e=d.find(".user-name"),f=d.find(".user-password"),g=d.find(".user-token"),h=e.val(),i=f.val(),j=g.val(),k=d.find(".loginBtn .chase-button");k[0]||(k=d.find(".loginBtn input")),d.find(".field input").bind("keypress",function(a){if(a&&a.which===13)return k.trigger("click"),!1}),k.bind("click submit",function(a){a.preventDefault(),c.clickTarget=a.target;var h=e.val(),i=f.val(),j=typeof g.val()=="undefined"?"":g.val(),k=d.find(".user-remember").prop("checked");return i=i===c.passwordText?"":i,c.validateandsetcookie(h,i,j,k,".chase.com",b,d)}),c.initPlaceholder(),c.checkUserRemember()},initPlaceholder:function(){function d(a,b){a.show(),b.hide()}var b=this,c=a(this.context),e="placeholder"in document.createElement("input");e?(c.find("input.input-text.user-name").each(function(){var b=a(this),c=b.attr("placeholder");b.data("holder",c),b.live("focusin",function(){(b.val()==""||b.val()==c)&&b.addClass("hasInput").attr("placeholder","")}),b.live("focusout",function(){(b.val()==""||b.val()==c)&&b.removeClass("hasInput").attr("placeholder",b.data("holder"))})}),c.find("input.input-text.user-password").each(function(){var b=a(this),c=b.attr("placeholder");b.data("holder",c),b.live("focusin",function(){(b.val()==""||b.val()==c)&&b.addClass("hasInput").attr("placeholder","")}),b.live("focusout",function(){(b.val()==""||b.val()==c)&&b.removeClass("hasInput").attr("placeholder",b.data("holder"))})}),c.find("input.input-text.user-token").each(function(){var b=a(this),c=b.attr("placeholder");b.data("holder",c),b.live("focusin",function(){(b.val()==""||b.val()==c)&&b.addClass("hasInput").attr("placeholder","")}),b.live("focusout",function(){(b.val()==""||b.val()==c)&&b.removeClass("hasInput").attr("placeholder",b.data("holder"))})})):c.find("input.input-text").each(function(){var b=a(this),c=b.attr("placeholder");if(c){(b.val()===""||b.val()==c)&&b.val(c);if(b.is(":password")){var e=a("<input />",{"class":b.attr("class"),value:c,name:b.attr("name"),maxlength:b.attr("maxlength")});e.bind("focus.placehold",function(){d(b,e),b.focus()}),b.bind("blur.placehold",function(){b.val()===""&&d(e,b)}),b.hide().after(e)}b.hasClass("user-name")&&b.bind({"focusin.placehold":function(){(b.val()==""||b.val()==c)&&b.addClass("hasInput").val("")},"focus.placehold":function(){(b.val()==""||b.val()==c)&&b.addClass("hasInput").val("")},"blur.placehold":function(){(b.val()==""||b.val()==c)&&b.removeClass("hasInput").val(c)}}),b.hasClass("user-password")&&b.bind({"focus.placehold":function(){b.val()==c?b.addClass("hasInput").val(""):b.select()},"blur.placehold":function(){b.val()==""||b.val()==c?b.removeClass("hasInput").val(c):b.val(b.val())}}),b.hasClass("user-token")&&b.bind({"focusin.placehold":function(){(b.val()==""||b.val()==c)&&b.addClass("hasInput").val("")},"focus.placehold":function(){(b.val()==""||b.val()==c)&&b.addClass("hasInput").val("")},"blur.placehold":function(){(b.val()==""||b.val()==c)&&b.removeClass("hasInput").val(c)}})}})},validateAndSubmitFrame:function(){this.reTryCount++;var b,c,d,e="COL",f="https://chaseonline.chase.com";this._token!=""&&(e="CCR",f="https://chaseonline.chase.com",document.cookie="_tmprsauser=1;path=/;domain="+this._cookieDomain),document.domain=this._cookieDomain.substring(1,this._cookieDomain.length),this._cookieDomain==".cardmemberservices.com"&&(e="CMS",f="https://online.cardmemberservices.com");try{var g=a(this.context),h=a(this.clickTarget).attr("data-pt-name");!!window.CHASE&&!!window.CHASE.analytics&&!!window.CHASE.analytics.trackCustomLink&&h&&CHASE.analytics.trackCustomLink(h),document.all?(b=document.getElementById("loginframe"),c=b.contentDocument||b.contentWindow&&b.contentWindow.document,d=c.getElementById("login")):(b=window.frames.loginframe,c=b.document,d=c.login),d.auth_siteId.value=e,d.auth_userId.value=this._userId,d.auth_passwd.value=this._password,d.auth_passwd_org.value=this._password_org,d.auth_tokencode.value=this._token,d.LOB.value=this._lob,d.auth_externalData.value="LOB="+this._lob,d.submit()}catch(i){var j=i.message.toLowerCase();j.indexOf("denied")>=0?this.sendSubmitFrameMessage(e):this.handleValidateAndSubmitFrameError()}return!1},validateandsetcookie:function(a,b,c,d){var e=this.varDOMAIN,f=this.varLOB;validateandsetcookie(a,b,c,d,e,f)},tokenValidation:function(a,b){var c="0123456789";if(a===b)this._token="";else{for(i=0;i<a.length;i++)if(!(c.indexOf(a.substring(i,i+1))>=0))return alert("Error Message LO114:\nThe User ID, Password, and/or token you entered is not valid.\nYour User ID and Password must consist only of letters and numbers.\nYour token must consist only of numbers."),!1;this._token=a}return!0},validateandsetcookie:function(a,b,c,d,e,f,g){var h=0,i="abcdefghijklmnopqrstuvwxyz0123456789_";e==null&&(e=this.varDOMAIN);if(this.reTryCount==0){if((a.length===0||a===this.userIdText)&&b.length===0)return alert("Error Message LO001:\nPlease enter both your User ID and Password."),g.find(".user-name").focus(),!1;if(a.length===0||a===this.userIdText)return alert("Error Message LO001:\nPlease enter your User ID."),g.find(".user-name").focus(),!1;if(a===b)return alert("Error Message LO001:\nPlease enter a Password that is different from your User ID."),g.find(".user-password").focus(),!1;if(a.length>32)return alert("Error Message LO001:\nThe User ID you entered is not valid. \nYour User ID needs to be less than 32 characters long."),g.find(".user-name").focus(),!1;if(a.length<=32)for(var j=0;j<a.length;j++)if(!(i.indexOf(a.substring(j,j+1).toLowerCase())>=0))return alert("Error Message LO001:\nThe User ID you entered is not valid. \nYour User ID can consist of only alphabets, numbers and the underscore (_) character."),g.find(".user-name").focus(),!1;if(b.length===0)return alert("Error Message LO001:\nPlease enter your Password."),g.find(".user-password").focus(),!1;if(b.length>32)return alert("Error Message LO001:\nThe Password you entered is not valid. \nYour Password needs to be less than 32 characters long."),g.find(".user-password").focus(),!1;if(c!=""){var k=this.tokenValidation(c,this.tokenText);if(!k)return!1}this.setRememberMeCookie(d,e),this._userId=a.toLowerCase(),this._password=b.toLowerCase(),this._password_org=b,this._lob=f,this._cookieDomain=e,this.validateAndSubmitFrame()}return!1},sendSubmitFrameMessage:function(a){try{var b='[{"siteId": "'+a+'", "userId": "'+this._userId+'", "password": "'+this._password+'", "password_org": "'+this._password_org+'", "token": "'+this._token+'", "lob": "'+this._lob+'", "auth_externalData": "LOB='+this._lob+'", "parentWindowLocation": "'+document.location+'"}]',c=document.getElementById("loginframe").contentWindow;c.postMessage(b,"*")}catch(d){this.handleValidateAndSubmitFrameError()}},handleValidateAndSubmitFrameError:function(){var a="https://chaseonline.chase.com";document.domain=this._cookieDomain.substring(1,this._cookieDomain.length),this._cookieDomain==".cardmemberservices.com"&&(siteId="CMS",a="https://online.cardmemberservices.com"),this.reTryCount>=this._maxReTryCount?(a=a+"/Logon.aspx?error=L009&LOB="+this._lob+"&src="+encodeURIComponent(window.location.href),window.location.href=a):setTimeout(function(){this.validateAndSubmitFrame()},this._reTryInterval)},setRememberMeCookie:function(a,b){a==1?document.cookie="_tmprememberme=1;path=/;domain="+b:document.cookie="_tmprememberme=0;expires=0;path=/;domain="+b},readCookie:function(a){var b=a;if(document.cookie.length>0){begin=document.cookie.indexOf(b+"=");if(begin!=-1)return begin+=b.length+1,end=document.cookie.lastIndexOf("|"),end==-1&&(end=document.cookie.length),unescape(document.cookie.substring(begin,end))}return null},loadHomePageHeroSection:function(b,c){var f="",f;this.isKnownUser()?f=b:f=c,d.loadSnippetContent(f,function(b){a(".hero-section").html(b)},function(a){e.debug("Error in loading the hero section ",a)})},isKnownUser:function(){var a=c().read()||{},b=a.pfid||null,d=b?!0:!1;return d},isKnownUserRemember:function(){var b=a(this.context),c=0,d="";if(document.cookie.match("_rememberme")){d=this.readCookie("_rememberme");if(d==null||d.substr(0,1)==";")d="";c=d===""?0:1;var e=d.split("|");this.myarr=e[0]}return this.myarr!=null&&c==1?!0:!1},checkUserRemember:function(){var b=a(this.context),c=0,d="";if(document.cookie.match("_rememberme")){d=this.readCookie("_rememberme");if(d==null||d.substr(0,1)==";")d="";c=d===""?0:1;var e=d.split("|");this.myarr=e[0]}this.myarr!=null?(b.find(".forgotpass").css("display","block"),b.find(".forgotuidpass").css("display","none")):(b.find(".forgotuidpass").css("display","block"),b.find(".forgotpass").css("display","none")),this.myarr!=null&&c==1?(b.find(".user-name").val(this.myarr).addClass("hasInput"),b.find(".user-remember").prop("checked",!0)):this.myarr==null&&(b.find(".user-remember").prop("checked",!1),b.find(".user-name").removeClass("hasInput"));try{(this.myarr==null||this.myarr=="")&&b.find(".user-remember").prop("checked",!1)}catch(f){b.find(".user-remember").prop("checked",!1)}},doFocus:function(){var b=this,c=a(this.context);this.myarr==null?c.find(".user-name").focus():this.myarr!==null&&c.find(".user-password").focus()},bolInfoIconPopup:function(a){var b=window.open(a,"bol","scrollbars=yes,screenX=0,screenY=0,directories=0,height=300,width=500,location=no,menubar=no,resizable=yes,status=no,toolbar=no");b.focus()}},f}),define("site/components/mega-menu",["jquery","jpmc/log","jpmc/cookie/persona","jpmc/topic","site/uicc/_plugins.hoverintent"],function(a,b,c,d){var e={init:function(b,c){function i(b){try{var c=b.target,e=a(c).closest("[class^="+d.navRow+"]").attr("class");return e=e.substring(e.length-1),e}catch(f){}}function s(){l(),m(),n(),o()}function A(a){return typeof a=="undefined"||!a}function B(a,b){return!A(a)&&b.length&&!A(a.attr(b))}function F(b){var c=a(b.target),e=c.attr("data-json").split("~");if(e[0]==="primaryNav")var f=c.parent().siblings("."+d.secondaryNavLevel);else if(e[0]==="secondaryNav")var f=c.siblings("."+d.tertiaryNavLevel);else var f=c.siblings("."+d.quaternaryNavLevelItem);var g=e[1];a.ajax({url:g,dataType:"json",async:!1,beforeSend:function(){var a=G(f);f.empty().append(a).show()},success:function(a){try{var b=a.Actions[0].Data;setTimeout(function(){f.empty().append(b),c.removeAttr("data-json"),s()},1e3)}catch(d){}},error:function(a,b){var d='<div class="chaseui-ajaxloadererror"><strong>We\'re unable to process your request.</strong><p>Our system is temporarily unavailable. We apologize for any inconvenience.</p></p>Please try again later or <a onclick="openWindow(\'/Secure/Misc/ContactUs.aspx\'); return false;" href="#">Contact Us</a>.</p></div>';setTimeout(function(){f.empty().append(d)},1e3),c.removeAttr("data-json")}})}function G(a){var b=a.height(),c=a.width(),d;return b==0||c==0?d='<div class="chaseui-ajaxloader"><img alt="Please wait" src="/etc/designs/chasecom/images/loading.gif"></div>':d='<div class="chaseui-ajaxloader" style="height:'+b+"px;width:"+c+'px;"><img alt="Please wait" src="/etc/designs/chasecom/images/loading.gif"></div>',d}var c=c||{},d=c.megaMenuSelectors||{navContainer:"megamenu-container",navRow:"megamenu-row",navRowOne:"megamenu-row1",navRowTwo:"megamenu-row2",primaryNavLevel:"megamenu-primary-navigation",primaryNavLevelItem:"megamenu-primary-navigation-item",secondaryNavLevel:"megamenu-secondary-navigation",secondaryNavLevelItem:"megamenu-secondary-navigation-item",tertiaryNavLevel:"megamenu-tertiary-navigation",tertiaryNavLevelItem:"megamenu-tertiary-navigation-item",quaternaryNavLevel:"megamenu-quaternary-navigation",quaternaryNavLevelItem:"megamenu-quaternary-navigation-item",navItemWrapper:"megamenu-nav-item-wrapper",navBadge:"chaseui-badge",navSpinner:"chaseui-megamenu-spinner"};c.tmout=c.tmout||1e3,c.row1_tertiary_left_offset=c.row1_tertiary_left_offset||0,c.row1_quaternary_left_offset=c.row1_quaternary_left_offset||0;var e="",f={},g=[{level:null},{level:null},{level:null},{level:null}],h={level:0,focus_stack:[]},j={timeout_reset_elements:null,setTimeout:function(){this.timeout_reset_elements=setTimeout(p,c.tmout)},clear_tmout:function(){clearTimeout(this.timeout_reset_elements)}},k=function(b){var c,e,g,h,i,k,l,m,n,o,s,t,x,y,z=[[d.primaryNavLevel,d.primaryNavLevelItem],[d.secondaryNavLevel,d.secondaryNavLevelItem],[d.tertiaryNavLevel,d.tertiaryNavLevelItem],[d.quaternaryNavLevel,d.quaternaryNavLevelItem]];c=a(b.target),i=c.attr("class")==undefined?"":c.attr("class"),m=c.attr("href")==undefined||c.attr("href")=="#"?!1:!0,m||b.preventDefault();for(var A=0;A<z.length;A++)c.closest("."+z[A][1]).size()>0&&(f.level=A);k=c.parents("."+z[f.level][1]),l=k.find("."+z[f.level+1][1]+":first-child > a").text().length==0?!1:!0;switch(f.level){case 0:n=c.closest("."+z[f.level][1]),o=n.parents("#"+z[f.level][0]).find("."+z[f.level][1]),h=i.indexOf("nav-nochildren")!=-1?!0:!1,g=n.attr("clicknstick")==undefined?!1:!0,g?(n.removeAttr("clicknstick"),f.IS_CNS_PRIM=!1,p(b),j.clear_tmout()):h?(o.removeAttr("clicknstick"),f.IS_CNS_PRIM=!1,p(b)):(o.removeAttr("clicknstick"),n.attr("clicknstick","active"),f.IS_CNS_PRIM=!0,f.IS_CNS_SEC=!1,f.IS_CNS_TER=!1,u(b),l?k.find("."+z[f.level+1][1]+":first-child > a").focus():k.find("."+z[f.level+1][1]+" .login-form div.field span").hasClass("title")?k.find("."+z[f.level+1][1]+" span.title").focus():k.find("."+z[f.level+1][1]+':first-child [tabindex="0"]').focus());break;case 1:n=c.closest("."+z[f.level-1][1]),s=c.closest("."+z[f.level][1]),t=c.parents("."+z[f.level][0]).find("."+z[f.level][1]),h=i.indexOf("nav-nochildren")!=-1?!0:!1,g=s.attr("clicknstick")==undefined?!1:!0,g?(s.removeAttr("clicknstick"),f.IS_CNS_SEC=!1,q(b)):h?(t.removeAttr("clicknstick"),f.IS_CNS_SEC=!1,q(b)):(t.removeAttr("clicknstick"),n.attr("clicknstick","active"),s.attr("clicknstick","active"),f.IS_CNS_PRIM=!0,f.IS_CNS_SEC=!0,f.IS_CNS_TER=!1,v(b),l?k.find("."+z[f.level+1][1]+":first-child > a").focus():k.find("."+z[f.level+1][1]+':first-child [tabindex="0"]').focus());break;case 2:n=c.closest("."+z[f.level-2][1]),s=c.closest("."+z[f.level-1][1]),x=c.closest("."+z[f.level][1]),y=c.parents("."+z[f.level][0]).find("."+z[f.level][1]),h=i.indexOf("nav-nochildren")!=-1?!0:!1,g=x.attr("clicknstick")==undefined?!1:!0,g?(x.removeAttr("clicknstick"),f.IS_CNS_TER=!1,r(b)):h?(y.removeAttr("clicknstick"),f.IS_CNS_TER=!1,r(b),r(b)):(y.removeAttr("clicknstick"),n.attr("clicknstick","active"),s.attr("clicknstick","active"),x.attr("clicknstick","active"),f.IS_CNS_PRIM=!0,f.IS_CNS_SEC=!0,f.IS_CNS_TER=!0,w(b),l?k.find("."+z[f.level+1][1]+":first-child > a").focus():k.find("."+z[f.level+1][1]+':first-child [tabindex="0"]').focus());break;default:f.IS_CNS_PRIM=!1,f.IS_CNS_SEC=!1,f.IS_CNS_TER=!1,q(b)}};a("body").bind("click",function(b){var c,e,g,h=[[d.primaryNavLevel,d.primaryNavLevelItem],[d.secondaryNavLevel,d.secondaryNavLevelItem],[d.tertiaryNavLevel,d.tertiaryNavLevelItem],[d.quaternaryNavLevel,d.quaternaryNavLevelItem]];e=!1,c=a(b.target);for(g=0;g<h.length;g++)c.closest("."+h[g][1]).size()>0&&(e=!0);e||(a("."+d.primaryNavLevelItem).removeAttr("clicknstick"),a("."+d.secondaryNavLevelItem).removeAttr("clicknstick"),a("."+d.tertiaryNavLevelItem).removeAttr("clicknstick"),f.IS_CNS=!1,f.IS_CNS_PRIM=!1,f.IS_CNS_SEC=!1,f.IS_CNS_TER=!1,p(b))}),a("body").on("keyup",function(a){a.keyCode==27&&(h.level==3?(r(),h.level=h.level-1,h.focus_stack[2].focus()):h.level==2?(q(),h.level=h.level-1,h.focus_stack[1].focus()):h.level==1&&(p(),h.level=h.level-1,h.focus_stack[0].focus()))});var l=function(){for(mmIndex=1;mmIndex<3;mmIndex++){var b=a("."+d.navRow+mmIndex+" #"+d.primaryNavLevel+" > li").not(".initialized"),c=a("."+d.navRow+mmIndex+" ."+d.navItemWrapper+" a:nth-child(1)").not(".initialized"),e=a("."+d.navRow+mmIndex+" #"+d.primaryNavLevel).not(".initialized"),g=function(a){f.IS_CNS_PRIM||(j.clear_tmout(),u(a))};c.filter(".selected").children("span.accessible-text").text(",current section. Opens menu."),c.filter(".breadcrumb-element").children("span.accessible-text").text(",current section. Opens menu.");var h=function(b){var c=a(b.target).closest("li.megamenu-primary-navigation-item").attr("clicknstick")==undefined?!1:!0;c||j.setTimeout()},i=function(a){j.clear_tmout()},l=function(a){f.IS_CNS_PRIM||j.setTimeout()};c.each(function(){var b=a(this);b.hoverIntent(g,h),b.bind("click",function(a){j.clear_tmout(),k(a)}),b.addClass("initialized")}),e.each(function(){a(this).hoverIntent(i,l),a(this).addClass("initialized")}),b.each(function(){C(a(this)),a(this).addClass("initialized")})}},m=function(){for(mmIndex=1;mmIndex<3;mmIndex++)if(a("."+d.navRow+mmIndex).size()>0){var b=a("."+d.navRow+mmIndex+" ."+d.secondaryNavLevel),c=a("."+d.navRow+mmIndex+" ."+d.secondaryNavLevel+" > li").not(".initialized"),e=a("."+d.navRow+mmIndex+" ."+d.secondaryNavLevel+" > div").not(".initialized"),g=a("."+d.navRow+mmIndex+" ."+d.secondaryNavLevel+" span").not(".initialized"),h=a("."+d.navRow+mmIndex+" ."+d.secondaryNavLevelItem+" > a").not(".initialized"),i=a("."+d.navRow+mmIndex+" ."+d.secondaryNavLevelItem+" form *").not(".initialized"),l=a("."+d.navRow+mmIndex+" ."+d.secondaryNavLevelItem+" .login a").not(".initialized"),m=a("."+d.navRow+mmIndex+" ."+d.secondaryNavLevelItem+" > p").not(".initialized"),n=function(a){f.IS_CNS_SEC||j.clear_tmout()},o=function(a){f.IS_CNS_SEC||(j.clear_tmout(),v(a))},p=function(b){var c=a(b.target).closest("li.megamenu-primary-navigation-item").attr("clicknstick")==undefined?!1:!0;c||j.setTimeout()};b.hoverIntent(n,p),h.each(function(){var b=a(this);b.hoverIntent(o,a.noop),b.bind("keydown",function(a){E(a)}),b.bind("click",function(a){j.clear_tmout(),k(a)}),a(this).addClass("initialized")}),l.each(function(){a(this).bind("keydown",function(a){E(a)}),a(this).addClass("initialized")}),m.each(function(){var b=a(this);b.bind("keydown",function(a){E(a)}),a(this).addClass("initialized")}),c.each(function(){C(a(this)),a(this).addClass("initialized")})}},n=function(){for(mmIndex=1;mmIndex<3;mmIndex++)if(a("."+d.navRow+mmIndex).size()>0){var b=a("."+d.navRow+mmIndex+" ."+d.tertiaryNavLevel),c=a("."+d.navRow+mmIndex+" ."+d.tertiaryNavLevel+" > li").not(".initialized"),e=a("."+d.navRow+mmIndex+" ."+d.tertiaryNavLevel+" div").not(".initialized"),g=a("."+d.navRow+mmIndex+" ."+d.tertiaryNavLevelItem+" span.megamenu-nav-item-subhead"),h=a("."+d.navRow+mmIndex+" ."+d.tertiaryNavLevel+" a:nth-child(1)").not(".initialized"),i=a("."+d.navRow+mmIndex+" ."+d.tertiaryNavLevelItem+"  > a").not(".initialized"),l=a("."+d.navRow+mmIndex+" ."+d.tertiaryNavLevelItem+" form").not(".initialized"),m=a("."+d.navRow+mmIndex+" ."+d.tertiaryNavLevelItem+" > p").not(".initialized"),n=function(a){f.IS_CNS_TER||j.clear_tmout()},o=function(a){f.IS_CNS_TER||j.clear_tmout()},p=function(a){f.IS_CNS_TER||(j.clear_tmout(),w(a))},q=function(b){var c=a(b.target).closest("li.megamenu-secondary-navigation-item").attr("clicknstick")==undefined?!1:!0;c||j.setTimeout()};b.hoverIntent(n,q),e.each(function(){a(this).bind("keydown",function(a){tertiaryItemKeyDown(a)}),a(this).addClass("initialized")}),g.each(function(){a(this).bind("keydown",function(a){tertiaryItemKeyDown(a)})}),i.each(function(){var b=a(this);b.hoverIntent(p,a.noop),b.bind("keydown",function(a){tertiaryItemKeyDown(a)}),b.bind("click",function(a){j.clear_tmout(),k(a)}),a(this).addClass("initialized")}),m.each(function(){var b=a(this);b.bind("keydown",function(a){tertiaryItemKeyDown(a)}),a(this).addClass("initialized")}),c.each(function(){C(a(this)),a(this).addClass("initialized")})}},o=function(){for(mmIndex=1;mmIndex<3;mmIndex++)if(a("."+d.navRow+mmIndex).size()>0){var b=a("."+d.navRow+mmIndex+" ."+d.quaternaryNavLevel),c=a("."+d.navRow+mmIndex+" ."+d.quaternaryNavLevel+" > li").not(".initialized"),e=a("."+d.navRow+mmIndex+" ."+d.quaternaryNavLevelItem+" > a").not(".initialized"),f=a("."+d.navRow+mmIndex+" ."+d.quaternaryNavLevelItem).not(".initialized"),g=a("."+d.navRow+mmIndex+" ."+d.quaternaryNavLevel+" div").not(".initialized"),h=a("."+d.navRow+mmIndex+" ."+d.quaternaryNavLevel+" span").not(".initialized"),i=a("."+d.navRow+mmIndex+" ."+d.quaternaryNavLevel+" p").not(".initialized"),l=function(a){j.clear_tmout()},m=function(b){var c=a(b.target).closest("li.megamenu-tertiary-navigation-item").attr("clicknstick")==undefined?!1:!0;c||j.setTimeout()};b.hoverIntent(l,m),e.each(function(){var b=a(this);b.bind("keydown",function(a){quaternaryItemKeyDown(a)}),b.bind("click",function(a){j.clear_tmout(),k(a)}),b.addClass("initialized")}),f.each(function(){var b=a(this);b.bind("keydown",function(a){quaternaryItemKeyDown(a)}),b.bind("click",function(a){j.clear_tmout(),k(a)}),b.addClass("initialized")}),i.each(function(){a(this).bind("keydown",function(a){quaternaryItemKeyDown(a)}),a(this).addClass("initialized")}),c.each(function(){C(a(this)),a(this).addClass("initialized")})}},p=function(b){try{q(b),a(".r1active").removeClass("r1active"),a(".r2active").removeClass("r2active"),a(".whiteborder").removeClass("chaseui-whiteborder"),a(".megamenu-no-separators").removeClass("megamenu-no-separators"),a("."+d.navRowOne+" ."+d.secondaryNavLevel).hide(),a("."+d.navRowTwo+" ."+d.secondaryNavLevel).hide(),a("."+d.navRowOne+" .primary-hoverclass").removeClass("primary-hoverclass"),a("."+d.navRowTwo+" .primary-hoverclass").removeClass("primary-hoverclass"),a("."+d.navRowTwo+" .primary-selected-hoverclass").removeClass("primary-selected-hoverclass")}catch(c){}},q=function(b){try{r(b),a("."+d.tertiaryNavLevel).hide(),a(".secondary-hoverclass").removeClass("secondary-hoverclass"),a("."+d.secondaryNavLevel).css("height","auto")}catch(c){}},r=function(b){try{a("."+d.quaternaryNavLevel).hide(),a(".tertiary-hoverclass").removeClass("tertiary-hoverclass")}catch(c){}},t=function(b){var c=b.width();a(b).find("DIV."+d.navBadge).length>0&&(c+=40,b.width(c).addClass("chasejs-maxed"))},u=function(b){try{p(b),q(b);var c=i(b),e=b.target;B(a(e),"data-json")&&F(b);var f=a(e).index(),g=a(e).closest("."+d.primaryNavLevelItem),k=g.attr("class"),l=g.find("."+d.secondaryNavLevel);l.width()<g.width()&&l.width(g.width()),a(".megamenu-row"+c).size()>0&&(a(e).hasClass("nav-nochildren")||(a(e).addClass("primary-hoverclass"),g.addClass("no-separators")),l.show()),j.clear_tmout(),h.level=1,h.focus_stack[0]=a(b.target)}catch(m){}},v=function(b){try{q(b),r(b);var e=x(b),f=a(e).closest("."+d.secondaryNavLevelItem);B(a(e),"data-json")&&F(b);var g=f.find("."+d.tertiaryNavLevel);a(e).hasClass("nav-nochildren")||a(e).addClass("secondary-hoverclass");var i=0;try{i=a(e).css("padding-left").split("px")[0]-0}catch(k){}g.css("left",a(e).width()+c.row1_tertiary_left_offset+"px").css("top",c.row1_tertiary_top_offset+"px").show(),g.hasClass("chasejs-maxed")||t(g),h.level=2,h.focus_stack[1]=a(b.target)}catch(l){}j.clear_tmout()},w=function(b){try{r(b);var e=b.target,f=a(e).closest("."+d.tertiaryNavLevelItem);B(a(e),"data-json")&&F(b);var g=f.find("."+d.quaternaryNavLevel);a(e).hasClass("nav-nochildren")||a(e).addClass("tertiary-hoverclass");var i=0;try{i=a(e).css("padding-left").split("px")[0]-0}catch(k){}f.closest("."+d.tertiaryNavLevel).show(),f.closest("."+d.secondaryNavLevelItem+" a:first").addClass("secondary-hoverclass"),g.css("left",a(e).width()+c.row1_quaternary_left_offset+"px").css("top",c.row1_quaternary_top_offset+"px").show(),g.hasClass("chasejs-maxed")||t(g),h.level=3,h.focus_stack[2]=a(b.target)}catch(l){}j.clear_tmout()},x=function(b){var c=a(b.target).attr("class").indexOf("badge")!=-1||a(b.target).attr("class").indexOf("number")!=-1?!1:!0,d=c==1?b.target:a(b.target).parents("a");return d},y=function(a){var b=a.attr("data-chase-navigation")=="updated"?a.width():a.width()+40;return a.attr("data-chase-navigation","updated"),b},z=function(b,c,e){var g=a(b.target),h=g.attr("data-chase-submenuitem-last")=="true"?!0:!1,i=g.attr("data-chase-submenuitem-first")=="true"?!0:!1;switch(c){case"secondary":if(h&&!e||i&&e)b.preventDefault(),g.parents("."+d.primaryNavLevelItem).removeAttr("clicknstick"),f.IS_CNS_PRIM=!1,g.parents("."+d.primaryNavLevelItem).find("a.primary-hoverclass").focus(),p(b);break;case"tertiary":if(h&&!e||i&&e)b.preventDefault(),g.parents("."+d.secondaryNavLevelItem).removeAttr("clicknstick"),f.IS_CNS_PRIM=!1,f.IS_CNS_SEC=!1,g.parents("."+d.secondaryNavLevelItem).find("a.secondary-hoverclass").focus(),g.parents("."+d.secondaryNavLevelItem).find("span.secondary-hoverclass").focus(),q(b);break;case"quaternary":if(h&&!e||i&&e)g.parents("."+d.tertiaryNavLevelItem).removeAttr("clicknstick"),f.IS_CNS_PRIM=!1,f.IS_CNS_SEC=!1,f.IS_CNS_TER=!1,b.preventDefault(),g.parents("."+d.tertiaryNavLevelItem).find("a.tertiary-hoverclass").focus(),r(b)}},C=function(b){var c,e,f,g,h,i,j,k,l="",m="";e=b.is(":first-child"),f=b.is(":last-child"),j=b.hasClass(d.primaryNavLevelItem),g=!1,h=!1,k=!1;for(i=0;i<b.children().length;i++){var n,o;n=b.children().eq(i),o=n.attr("class");if(o==undefined)break;k=o.indexOf("navigation")==-1&&n.css("font-size")!="0px"&&!n.is("a")?!0:!1,k?h||(h=n.find("a").html()!=null?!0:!1,m=h==1?n.find("a"):""):h||(h=n.is("a")==1?!0:!1,m=h==1?n:""),g||(g=o.indexOf("navigation")!=-1?!0:!1);if(l==""&&!j){l=o.indexOf("navigation")==-1&&n.css("font-size")!="0px"&&!n.is("a")?n:"";if(l!=""){h=!1;var p=l.find("a").not(".chase-button");for(var i=0;i<p.length;i++)p.eq(i).css("background-image","none"),i==p.length-1&&f&&p.eq(i).attr("data-chase-submenuitem-last","true")}}}!g&&m!=""&&(m.not(".chase-button").css("background-image","none"),m.addClass("nav-nochildren"));if(e)h?(m.attr("data-chase-submenuitem-first","true"),j&&b.addClass("first")):l!=""&&(l.attr("data-chase-submenuitem-first","true"),l.attr("tabindex","0"));else if(f)if(h){m.attr("data-chase-submenuitem-last","true");if(j){var q=a(".websiteFeeback").size()>0?!0:!1;q?b.addClass("feedback").prev().addClass("last"):b.addClass("last")}}else l!=""&&(l.attr("data-chase-submenuitem-last","true"),l.attr("tabindex","0"))},D=function(a,b){var c,e=[d.primaryNavLevelItem,d.secondaryNavLevelItem,d.tertiaryNavLevelItem,d.quaternaryNavLevelItem];return _getParentNavItem=a.parents("."+e[b]),c=_getParentNavItem.find("."+e[b+1]+":first-child  > a").text().length==0?!1:!0,c},E=function(a){if(a.keyCode==9){var b=a.shiftKey;z(a,"secondary",b)}};tertiaryItemKeyDown=function(a){if(a.keyCode==9){var b=a.shiftKey;z(a,"tertiary",b)}},quaternaryItemKeyDown=function(a){if(a.keyCode==9){var b=a.shiftKey;z(a,"quaternary",b)}},s()},showHideResolveSegment:function(){a("ul.megamenu-tertiary-navigation").css("visibility","hidden"),a("ul.megamenu-tertiary-navigation").prev().css("background-image","none").addClass("nav-nochildren"),a("ul.megamenu-quaternary-navigation").css("visibility","hidden"),a("ul.megamenu-quaternary-navigation").prev().css("background-image","none").addClass("nav-nochildren");var b=new Array,d=c().read()||{},e=d.pfid||null,f=e?"known":"unknown";b=f!=""?f.split(","):null;if(b!=null&&b.length>0){var g=a("ul.megamenu-primary-navigation li");a(g).each(function(c){a(this).addClass("limited");var d=a(this).attr("data-allowed-segments"),e=d!=""?d.split(","):null;if(e!=null)for(var f=0;f<b.length;++f)for(var g=0;g<e.length;++g)if(e[g]==b[f]){a(this).removeClass("limited"),a(this).addClass("visible"),ulElement=a(this).parent(),ulElement.css("visibility","visible"),ulElement.prev().css("background-image","").removeClass("nav-nochildren"),f=b.length;break}})}},showNavigationBreadcrumb:function(){var b=document.getElementById("disableMegamenuHighlightingId"),c=document.getElementById("selectedMenuId").value;if(b)var e=b.value;if(c!="")var f="-"+c;else var f=0;e=="false"&&a("a#primaryMenu"+f+"").addClass("breadcrumb-element"),d.subscribe("breadcrumbTitleLoaded",function(){e=="false"&&a("a#primaryMenu"+f+"").removeClass("breadcrumb-element");if(a("a#primaryMenu"+f+"").html()!=null){var b="";document.getElementById("data-pt-name").value!=""?b="mm_"+document.getElementById("data-pt-name").value:b=document.getElementById("data-pt-name").value,a(a(a("a#primaryMenu"+f+"").parent()).parent()).parent().after('<li class="megamenu-primary-navigation-item"><div class="megamenu-nav-item-wrapper"><span aria-hidden="true" class="breadcrumb-separator" data-item-mm="-1">&gt;</span></div></li><li class="megamenu-primary-navigation-item"><div class="megamenu-nav-item-wrapper secondCrumb"><a class="chaseanalytics-track-link breadcrumb-element" data-item-mm="-1" href="'+document.getElementById("breadCrumbPage").value+'" jp_ltg="'+document.getElementById("jp_ltg").value+'" data-pt-name='+b+">"+document.getElementById("breadCrumbTitle").value+'<span class="accessible-text">, current sub-section.</span></a></div></li>')}})}};return e}),define("site/components/mvtmodel",["jpmc/log"],function(Logger){var logger=Logger("mvtmodel");if(typeof CQ=="undefined")return logger.info("No CQ. No MVTDM"),{};var MvtDataMgrFn=function(){};MvtDataMgrFn.prototype=new CQ_Analytics.SessionStore,MvtDataMgrFn.prototype.STOREKEY="MVTDATA",MvtDataMgrFn.prototype.STORENAME="mvtdata",MvtDataMgrFn.prototype.init=function(){logger.debug("mvtmodel.init"),this.data={};for(var a in this.initProperty)this.data[a]=this.initProperty[a];this.fireEvent("update")},MvtDataMgrFn.prototype.clear=function(){logger.debug("mvtmodel.clear");var a=new CQ_Analytics.SessionPersistence;a.remove(this.getStoreKey()),this.data=null,this.initProperty={}},MvtDataMgrFn.prototype.getLabel=function(a){return a},MvtDataMgrFn.prototype.getLink=function(a){return""},MvtDataMgrFn.prototype.configLoadFunction=function(){logger.debug("mvtmodel.configLoadFunction"),this.loadInitProperties(CQ_Analytics.CCM.getInitialData(this.getName()));var uiConfig=CQ_Analytics.CCM.getUIConfig(this.getName());if(!uiConfig||!uiConfig.title)uiConfig=eval({title:"MVT Data",mode:"textfield","jcr:primaryType":"nt:unstructured"});CQ_Analytics.ClickstreamcloudUI.register(this.getSessionStore(),uiConfig),CQ_Analytics.CCM.register(this)};var MvtDataMgr=new MvtDataMgrFn;return MvtDataMgr.configLoadFunction(),CQ_Analytics.ClickstreamcloudUI.addListener("editclick",function(){logger.debug("mvtmodel.editclick");var a=function(a){if(a){var b=CQ_Analytics.ClickstreamcloudMgr.getEditConfig(a.getSessionStore().getName());b.sessionStore=a.getSessionStore(),CQ_Analytics.ClickstreamcloudEditor.register(b)}};CQ_Analytics.ClickstreamcloudEditor||(CQ_Analytics.ClickstreamcloudEditor=new CQ.personalization.EditableClickstreamcloud,a.call(this,CQ_Analytics.ProfileDataMgr),a.call(this,CQ_Analytics.PageDataMgr),a.call(this,CQ_Analytics.TagCloudMgr),a.call(this,CQ_Analytics.SurferInfoMgr),a.call(this,CQ_Analytics.EventDataMgr)),a.call(this,MvtDataMgr),CQ_Analytics.ClickstreamcloudEditor.show()}),MvtDataMgr}),define("site/components/search",["jquery","jpmc/log"],function(a,b){var c=b("search"),d={encodeURIComponent:window.encodeURIComponent,location:window.location,screen:window.screen,doSearch:function(b){var c="/ccp/index.jsp?pg_name=ccpmapp/generic/shared/page/chase_search&q=";return d.location.href.indexOf(".chase.com")<0&&(c="https://www.chase.com/ccp/index.jsp?pg_name=ccpmapp/generic/shared/page/chase_search&q="),b=a.trim(b),b==""||b==" "?(c+="&emptyQueryText=true",d.location.href=c,!1):(c+=d.encodeURIComponent(d.removeSpecialChar(b)),c+="&emptyQueryText=false",d.location.href=c,!1)},removeSpecialChar:function(a){var b="";for(var c=0,d=a.length;c<d;c++){if(a.charCodeAt(c)>255)continue;b+=a.charAt(c)}return b},init:function(b){c.debug("Start"),a("#searchfield").val()!=b&&a("#searchfield").val()!=""&&a("#searchfield").addClass("hasInput"),a("#searchfield").focus(function(c){a("#searchfield").val()==b?a("#searchfield").addClass("hasInput").val(""):a("#searchfield").addClass("hasInput")}),a("#searchfield").blur(function(c){a("#searchfield").val().replace(/^\s+/,"").replace(/\s+$/,"")==""&&a("#searchfield").removeClass("hasInput").val(b)}),a("#swatsearchid").click(function(c){c.preventDefault();var e=a("#searchfield").val();if(e==b||e=="")return alert('If you would like to use our Search feature to find something on our website, please enter a word or phrase into the box below and click "Search" when you are finished.'),!1;d.doSearch(e)}),a("#searchfield").keyup(function(c){if(c.keyCode==13){var e=a("#searchfield").val();if(e==b||e=="")return alert('If you would like to use our Search feature to find something on our website, please enter a word or phrase into the box below and click "Search" when you are finished.'),!1;d.doSearch(e)}}),a("#search_form").submit(function(a){return!1})}};return d}),define("site/components/video-overlay",["jquery","jpmc/topic","site/components/flashVideo"],function(a,b,c){var d={init:function(a,b,d,e){c.init(video_path,projector_path,poster_path,xml_path,video_width,video_height,bgcolor,contextcontainer)}};return d}),define("site/components/offercode",["jquery","jpmc/log","jpmc","jpmc/cookie","jpmc/uri","content/conf/appsconfig/clientconfig"],function(a,b,c,d,e,f){var g=b("offercode"),h={offerCodeValue:"",offerCodeServerName:"",offerCodeCookie:{},setOfferCode:function(){var a={};a.offercode=h.offerCodeValue,h.offerCodeCookie().write(a)},modifyLink:function(a){var b=a.attr("href"),c=h.offerCodeCookie().read();b.indexOf(b.length-1)=="/"&&(b=b.substring(0,b.length-2)),c.offercode!="null"&&c.offercode!=undefined&&(b.indexOf("?")==-1?b=b+"?offercode="+c.offercode:b=b+"&offercode="+c.offercode,a.attr("href",unescape(b)))},initCookie:function(){c.cookie=c.cookie||{};var b=function(a){var b={},c=a?a.split("&"):[],d;for(var e=0,f=c.length;e<f;e++)d=c[e].split("="),b[d[0]]=d[1];return b},e=d.bind(this,"chaseoffercode");h.offerCodeCookie=c.cookie.OfferCodeCookie=function(){return{erase:function(){e().erase()},read:function(a){var c=e().read(),d=a?c:b(c);return d},write:function(b){var c=a.isPlainObject(b)?a.param(b):b;e().write(c)}}}},init:function(){b=window.location.href;var b=e(b),c=h.getQueryObj(b.query()),g=d.bind(this,"chaseoffercode")().read();if(c.offercode||g!="null"&&g!=undefined)c.offercode&&(h.offerCodeValue=c.offercode),h.initCookie(),h.offerCodeValue!=""&&h.offerCodeValue!="null"&&h.setOfferCode(),h.offerCodeServerName=f.offerCodeServerName,a(function(){h.initLinks(a("body"))})},getQueryObj:function(a){var b={},c,d;queryParts=a.split("&");for(var e=0;e<queryParts.length;e++){queryPart=queryParts[e];var f=queryPart.split("=");c=f[0],d=f[1],b[c]=d}return b},initLinks:function(b){b.find('a[href*="'+h.offerCodeServerName+'"]').each(function(){h.modifyLink(a(this))})}};return h});if(typeof deconcept=="undefined")var deconcept=new Object;typeof deconcept.util=="undefined"&&(deconcept.util=new Object),typeof deconcept.SWFObjectUtil=="undefined"&&(deconcept.SWFObjectUtil=new Object),deconcept.SWFObject=function(a,b,c,d,e,f,g,h,i,j,k){if(!document.getElementById)return;this.DETECT_KEY=k?k:"detectflash",this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY),this.params=new Object,this.variables=new Object,this.attributes=new Array,a&&this.setAttribute("swf",a),b&&this.setAttribute("id",b),c&&this.setAttribute("width",c),d&&this.setAttribute("height",d),e&&this.setAttribute("version",new deconcept.PlayerVersion(e.toString().split("."))),this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion(),f&&this.addParam("bgcolor",f);var l=h?h:"high";this.addParam("quality",l),this.setAttribute("useExpressInstall",g),this.setAttribute("doExpressInstall",!1);var m=i?i:window.location;this.setAttribute("xiRedirectUrl",m),this.setAttribute("redirectUrl",""),j&&this.setAttribute("redirectUrl",j)},deconcept.SWFObject.prototype={setAttribute:function(a,b){this.attributes[a]=b},getAttribute:function(a){return this.attributes[a]},addParam:function(a,b){this.params[a]=b},getParams:function(){return this.params},addVariable:function(a,b){this.variables[a]=b},getVariable:function(a){return this.variables[a]},getVariables:function(){return this.variables},getVariablePairs:function(){var a=new Array,b,c=this.getVariables();for(b in c)a.push(b+"="+c[b]);return a},getSWFHTML:function(){var a="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){this.getAttribute("doExpressInstall")&&this.addVariable("MMplayerType","PlugIn"),a='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'"',a+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var b=this.getParams();for(var c in b)a+=[c]+'="'+b[c]+'" ';var d=this.getVariablePairs().join("&");d.length>0&&(a+='flashvars="'+d+'"'),a+="/>"}else{this.getAttribute("doExpressInstall")&&this.addVariable("MMplayerType","ActiveX"),a='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'">',a+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var e=this.getParams();for(var c in e)a+='<param name="'+c+'" value="'+e[c]+'" />';var f=this.getVariablePairs().join("&");f.length>0&&(a+='<param name="flashvars" value="'+f+'" />'),a+="</object>"}return a},write:function(a){if(this.getAttribute("useExpressInstall")){var b=new deconcept.PlayerVersion([6,0,65]);this.installedVer.versionIsValid(b)&&!this.installedVer.versionIsValid(this.getAttribute("version"))&&(this.setAttribute("doExpressInstall",!0),this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl"))),document.title=document.title.slice(0,47)+" - Flash Player Installation",this.addVariable("MMdoctitle",document.title))}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var c=typeof a=="string"?document.getElementById(a):a;return c.innerHTML=this.getSWFHTML(),!0}return this.getAttribute("redirectUrl")!=""&&document.location.replace(this.getAttribute("redirectUrl")),!1}},deconcept.SWFObjectUtil.getPlayerVersion=function(){var a=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var b=navigator.plugins["Shockwave Flash"];b&&b.description&&(a=new deconcept.PlayerVersion(b.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split(".")))}else{try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(d){try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");a=new deconcept.PlayerVersion([6,0,21]),c.AllowScriptAccess="always"}catch(d){if(a.major==6)return a}try{c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(d){}}c!=null&&(a=new deconcept.PlayerVersion(c.GetVariable("$version").split(" ")[1].split(",")))}return a},deconcept.PlayerVersion=function(a){this.major=a[0]!=null?parseInt(a[0]):0,this.minor=a[1]!=null?parseInt(a[1]):0,this.rev=a[2]!=null?parseInt(a[2]):0},deconcept.PlayerVersion.prototype.versionIsValid=function(a){return this.major<a.major?!1:this.major>a.major?!0:this.minor<a.minor?!1:this.minor>a.minor?!0:this.rev<a.rev?!1:!0},deconcept.util={getRequestParameter:function(a){var b=document.location.search||document.location.hash;if(b){var c=b.substring(1).split("&");for(var d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return c[d].substring(c[d].indexOf("=")+1)}return""}},deconcept.SWFObjectUtil.cleanupSWFs=function(){if(window.opera||!document.all)return;var a=document.getElementsByTagName("OBJECT");for(var b=0;b<a.length;b++){a[b].style.display="none";for(var c in a[b])typeof a[b][c]=="function"&&(a[b][c]=function(){})}},deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){};if(typeof window.onunload=="function"){var a=window.onunload;window.onunload=function(){deconcept.SWFObjectUtil.cleanupSWFs(),a()}}else window.onunload=deconcept.SWFObjectUtil.cleanupSWFs};if(typeof window.onbeforeunload=="function"){var oldBeforeUnload=window.onbeforeunload;window.onbeforeunload=function(){deconcept.SWFObjectUtil.prepUnload(),oldBeforeUnload()}}else window.onbeforeunload=deconcept.SWFObjectUtil.prepUnload;Array.prototype.push==null&&(Array.prototype.push=function(a){return this[this.length]=a,this.length});var getQueryParamValue=deconcept.util.getRequestParameter,FlashObject=deconcept.SWFObject,SWFObject=deconcept.SWFObject;define("site/uicc/swfobject_1_4_4",function(){}),define("site/components/flashplayer",["jquery","jpmc/topic","site/uicc/swfobject_1_4_4"],function(a,b,c){function d(b,c,e,f,g,h,i,j){this.flash_path=b,this.poster_path=c,this.flash_width=e,this.flash_height=f,this.bgcolor=i,this.wmode=h,this.contextcontainer="#"+g,this.flashId=g,this.function_name=j,this.isShowHTMLPlayer=!1,this.HAS_VALID_FLASH_VERSION=!1,this.init=function(){var b=this;try{var c=new SWFObject(b.projector_path,"projector","256px","22px","9",b.bgcolor);d.HAS_VALID_FLASH_VERSION=c.installedVer.versionIsValid(c.getAttribute("version"))}catch(e){d.HAS_VALID_FLASH_VERSION=!1}try{var f=document.createElement("audio"),g=document.createElement("video");d.isShowHTMLPlayer={audio:f.play?!0:!1,video:g.play?!0:!1}}catch(e){}try{if(d.HAS_VALID_FLASH_VERSION)this.twfEmbedflash(b.flash_path,b.poster_path,b.flash_width,b.flash_height,b.wmode,b.bgcolor,b.contextcontainer,b.flashId,b.function_name);else{var h=a(this.contextcontainer).closest(".chaseflash");h.find("img").attr("src",b.poster_path).css("opacity","1"),h.find("#image").css("z-index","0"),h.find("#flashContent").css("display","none")}}catch(e){}},this.twfEmbedflash=function(b,c,d,e,f,g,h,i,j){try{var d=(d||833)-0,e=(e||496)-0,k=new SWFObject(b,i,d,e,"9",g);k.addParam("salign","lt"),k.addParam("allowScriptAccess","always"),k.addParam("flashVars","lang=Eng&param="+j),k.addParam("allowfullscreen","true"),k.addParam("wmode",f),h=h.replace(".","\\.");var l=a(".customflashplayer",h).attr("id");b&&k.write(l)}catch(m){}},this.init()}return d}),define("site/services/segment-loader",["jquery","jpmc/log","jpmc/topic","content/services/test-data-provider","jpmc/cookie/persona","jpmc/cookie/v1st","content/conf/appsconfig/clientconfig","json","jpmc/cookie/zipcode"],function(a,b,c,d,e,f,g,h,i){function l(a){var b=!!a;return j.debug("retVal = "+b),b?(a+"").substr(0,5):b}var j=b("segment-loader");j.debug("loading segment-loader");if(typeof CQ_Analytics=="undefined")return{};var k={segmentsPublished:!1,segments:{},originalSegments:{},areSegmentsSet:!1,setOriginalSegments:function(a){k.originalSegments=a},getOriginalSegments:function(){return k.originalSegments},setSegments:function(a){k.segments=a},getSegments:function(){return k.segments},segmentContains:function(a){var b;b=k.getSegments();if(b)for(var c=0;c<b.length;c++){var d=b[c];if(d==a)return!0}return!1},processResolvedSegments:function(a){var b=a.ResponseCode;j.debug("ResponseCode : "+b);if(b==1){j.debug("Resolved Segments : "+a.Nodes);var d=a.Nodes;j.debug("settings segments .. "),k.setSegments(d),k.setOriginalSegments(d)}else j.debug("Error : "+a.ResponseCodeDesc);CQ_Analytics.SegmentMgr&&(CQ_Analytics.SegmentMgr.fireEvent("update"),k.areSegmentsSet=!0,k.segmentsPublished||(c.publish("SegmentsLoaded",[]),k.segmentsPublished=!0))},loadSegments:function(){if(g.segmentServiceURL){j.debug("clientconfig obj == "),j.debug(g);var b=g.segmentServiceURL,d="",i=f().read()||{};d=i.value,j.debug("V1st = "+d),k.writePersona();var m=e().read()||{};ssvpfid=m.pfid||"null",ssvzipoverride=l(m.zip)||"",j.debug("ssvzipoverride = "+ssvzipoverride),ssvcigseg=m.segment||"",ssvlocale=m.locale||"",j.debug("ssvpfid = "+ssvpfid),j.debug("ssvzipoverride = "+ssvzipoverride),j.debug("ssvcigseg = "+ssvcigseg),j.debug("ssvlocale = "+ssvlocale);var n;ssvpfid=="null"?n="?_u=":n="?_u="+ssvpfid,b=b.replace("?_u=[PFID]",n);var o={UserAgent:"",GUID:ssvpfid,IPAddress:"",XP_UID:"",URL:encodeURIComponent(location.href),Referrer:encodeURIComponent(encodeURIComponent(document.referrer)),ForceUIDMatch:!1,CreateXPUID:!0,Data:{ssv_pfid:ssvpfid,ssv_v1st:d,ssv_zip:ssvzipoverride,ssv_product:"",ssv_locale:ssvlocale,ssv_cigseg:ssvcigseg}};j.debug(h.stringify(o)),errorHandler=function(){k.segmentsPublished||c.publish("SegmentsLoaded",[])};var p=5e3,q=setTimeout(errorHandler,p),r=a.ajax({type:"GET",url:b,async:!1,dataType:"jsonp",data:"RequestObject="+h.stringify(o)});r.done(k.processResolvedSegments),r.fail(function(a,b){j.error("Error in retrieving resolved segments"+b),c.publish("SegmentsLoaded",[])})}},writePersona:function(){j.debug("writePersona called");var a=e().read()||{},b=i().read()||{};b&&a.zip!==b.zipcode&&(j.debug("locale.zipcode = "+b.zipcode),a.zip=b.zipcode,j.debug("persona.zip = "+a.zip),e().write(a),c.publish("personaUpdate",[a]))}};return k.loadSegments(),c.subscribe("personaUpdate",function(){k.segmentsPublished=!1,k.loadSegments()}),c.subscribe("globalDataUpdated",function(){var a="segments_override",b=d.getProperty(a);if(b!=null){var e=[],f=b.split(",");if(f)for(var g=0;g<f.length;g++)j.debug(f[g]),e.push(f[g]);k.setSegments(e)}else k.setSegments(k.getOriginalSegments());j.debug("SegmentManager.areSegmentsSet : "+k.areSegmentsSet),k.areSegmentsSet&&CQ_Analytics.SegmentMgr&&(CQ_Analytics.SegmentMgr.fireEvent("update"),k.segmentsPublished||(c.publish("SegmentsLoaded",[]),k.segmentsPublished=!0))}),j.debug("end of loading segmentmanger"),k}),require(["jquery","jpmc/log","site/components/mvtmodel","site/services/segment-loader"],function(a,b,c,d){var e=b("commonjs");e.debug("loading common.js");if(typeof CQ=="undefined")return e.info("No CQ. No Common"),{};CQ.chase={},CQ.chase.common={},CQ.chase.common.SegmentManager={},CQ.chase.common.SegmentManager.segmentContains=function(a){return d.segmentContains(a)},CQ.chase.common.mvt={},CQ.chase.common.mvt.resolveMvt=function(a){e.debug("inside resolveMvt == "+a);var b=c.getProperty("MVTVar2");return b&&b==a?!0:!1},e.debug("end of loading common.js")}),define("site/uicc/common",function(){}),define("site/components/zip-update",["jquery","jpmc/cookie/persona","jpmc/cookie/zipcode","jpmc/topic","content/services/test-data-provider","content/conf/appsconfig/clientconfig","site/uicc/dynamic-modals","jpmc/log","site/services/segment-loader","site/uicc/chase.utils"],function(a,b,c,d,e,f,g,h,i){function s(){var c=f.isAuthorMode,e=f.defaultZipGateURL,h=a("#restrictedRetailMarket").val(),k=a("#isPreview").val(),m="false";if(c=="false"||k=="DISABLED")m="true";j.debug("restrictedMarket: ",h);if(h!=""&&h=="true"&&m=="true"){var n=0,o=i.segments;j.debug("resolveSegments: ",o);var o=i.segments,p=a("#pageStdSegments").val();j.debug("pageSegments: ",p);if(p!=null){var s=p.split(",");for(var u=0;u<s.length;u++)if(!a.isEmptyObject(o)&&o.indexOf(s[u])!=-1){n=1,q?t():a("#chasejs-contexthelpfloater").length&&a("#chasejs-contexthelpfloater").find(".chasejs-flyoutclose").trigger("click"),a("div.zipcode-head-area div[class^=error]").hide();break}if(!n){l=b().read()||{};var v=l.zip;q||(q=g.openZipModalOnLoad(e,v),r.settings.objZipFlyout&&r.settings.objZipFlyout.trigger("click")),v&&(a("#chasejs-contexthelpfloater").find(".chasejs-spinner").parent().parent().remove(),d.publish("localeError",["3"])),a(".chaseui-overlay-modal").css({opacity:.7,"-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=70)",filter:"alpha(opacity=70)","-webkit-opacity":.7})}}}else t()}function t(){q&&(q.remove(),q=!1)}var j=h("zipcode"),k=c().read()||{},l=b().read()||{},m=k.zipcode,n=l.zip,o=m||n,p=m===n,q=!1,r={settings:{objModal:0,objZipFlyout:0},isRestrictedMarket:function(){var b=a("#restrictedRetailMarket").val();return b!=""&&b=="true"?1:0},publishLocale:function(a){d.publish("localeUpdate",[a])},setZipCode:function(b,c){b.length>5&&(b=b.substring(0,5)),a.ajax({url:f.zipcodeServiceURL,data:{zipcode:b},dataType:"jsonp",success:function(e){if(e.valid){if(c)if(!r.isRestrictedMarket)c.trigger("click");else if(q){var f=a("<div />");a("#chasejs-contexthelpfloater").find(".chaseui-contexthelpfloaterbody").prepend(f),a(f).append('<div style="position:absolute;width:100%;height:100%;background-color:#fff;"><div class="chaseui-spinner chasejs-spinner"><img src="/etc/designs/chasecom/images/loader-gray-faster-40x40_v5.gif" alt="loading..."></div></div>'),a(f).css({"background-color":"#fff","z-index":topZ(),position:"absolute",width:"100%",height:"100%"})}r.publishLocale(e);if(a("#chasejs-contexthelpfloater").parent().find(".chaseui-dynamic-flyout").length){var g="HoverEnterZipcode";g!==""&&!!window.CHASE&&!!window.CHASE.analytics&&!!window.CHASE.analytics.trackCustomLink&&CHASE.analytics.trackCustomLink(g)}else{var g="EnterZipcode";g!==""&&!!window.CHASE&&!!window.CHASE.analytics&&!!window.CHASE.analytics.trackCustomLink&&CHASE.analytics.trackCustomLink(g)}}else{d.publish("localeError",[b]);if(a("#chasejs-contexthelpfloater").parent().find(".chaseui-dynamic-flyout").length){var g="HoverErrorZipcode";g!==""&&!!window.CHASE&&!!window.CHASE.analytics&&!!window.CHASE.analytics.trackCustomLink&&CHASE.analytics.trackCustomLink(g)}else{var g="ErrorZipcode";g!==""&&!!window.CHASE&&!!window.CHASE.analytics&&!!window.CHASE.analytics.trackCustomLink&&CHASE.analytics.trackCustomLink(g)}}}})},zipIndexOfFirstNotIn:function(a,b){var c;for(c=0;c<b.length;c++){var d=b.charAt(c);if(a.indexOf(d)==-1)return c}return-1},zipIsComposedOfChars:function(a,b){return r.zipIndexOfFirstNotIn(a,b)==-1},isValidZipCode:function(a){var b=a+"";return isNaN(a||typeof a=="undefined")?!1:a.length<5||a.length>5||!r.zipIsComposedOfChars("0123456789",b)?!1:!0},toggleQA:function(b){var c=a(b.target).parent().next();c.css("display").indexOf("block")==-1?(c.show().attr("aria-hidden","false"),a(b.target).parent().addClass("right-link-selected").attr("tabindex",-1).find("span.accessible-text").html("&nbsp;(Hides content below)").focus()):(c.hide().attr("aria-hidden","true"),a(b.target).parent().removeClass("right-link-selected").find("span.accessible-text").html("&nbsp;(Shows content below)")),b.preventDefault(),c.attr("tabindex",-1).focus()},updateLinkText:function(b){b.length>5&&(b=b.substring(0,5));var c=a("a.chase-zipcode-link"),d=c.parent().find("> :first-child");c.prev().hasClass("chaseui-link-style-normal")?c.html('<span style="padding-left: 0;">'+b+'</span><span class="accessible-text">&nbsp;(Opens overlay.)</span>'):(c.attr("data-chase-zipcode",b),c.html('<span class="chaseui-link-style-normal" style="padding-right: 0;">This information is for</span> <span style="padding-left: 0; padding-right: 0;">'+b+'</span><span class="accessible-text">&nbsp;(Opens overlay to change zip code)</span>'))},publishZipUpdate:function(a){d.publish("zipcodeUpdate",[a])},init:function(){o?a("input.zipcode-field").attr("value",o).live("focus",function(b){a("input.zipcode-field").attr("value","")}):a("input.zipcode-field").attr("value","ZIP Code").live("focus",function(b){a("input.zipcode-field").attr("value","")}),a("div.zipcode-head-area .zipcode-values a").live("click",function(b){b.preventDefault();var c=a(this).closest("div.zipcode-head-area"),d=c.find("input.zipcode-field"),e=d.val()||"";a("div.zipcode-head-area div[class^=error]").hide();if(r.isValidZipCode(e))r.settings.objZipFlyout=a(this).closest("#chasejs-contexthelpfloater").find(".chasejs-flyoutclose"),r.setZipCode(e,r.settings.objZipFlyout),a("input.zipcode-field").attr("value",e);else{c.find(".error-0").show().attr("tabindex",-1).focus();if(a("#chasejs-contexthelpfloater").parent().find(".chaseui-dynamic-flyout").length){var f="HoverErrorZipcode";f!==""&&!!window.CHASE&&!!window.CHASE.analytics&&!!window.CHASE.analytics.trackCustomLink&&CHASE.analytics.trackCustomLink(f)}else{var f="ErrorZipcode";f!==""&&!!window.CHASE&&!!window.CHASE.analytics&&!!window.CHASE.analytics.trackCustomLink&&CHASE.analytics.trackCustomLink(f)}}}),a("input.zipcode-field").live("keydown",function(b){b.keyCode==13&&a("div.zipcode-head-area .zipcode-values a").trigger("click")}),a("div.zipcode-head-area .qlink").live("click",function(a){r.toggleQA(a)});if(!o){var b=a("#restrictedRetailMarket").val(),c=a("#disableZipCode").val();j.debug("restrictedMarket  = "+b),j.debug("the disableZipCode is"+c),b!="true"&&c!="true"&&a.get(f.geoipServiceURL,"jsonp").complete(function(b){if(b&&b.responseText!=null){var c=null,d=a.parseJSON(b.responseText);d&&d.postalCode&&(c=d.postalCode),j.debug("geozipcode = "+c),c?(j.debug("calling  setZipCode"),r.setZipCode(c)):j.debug("no valid zip from geolocation service, geozipcode = "+c)}}).error(function(){})}else!p&&m?r.publishLocale(k):(r.updateLinkText(o),r.publishZipUpdate({zipcode:o}))}};return d.subscribe("SegmentsLoaded",function(){s()}),d.subscribe("localeUpdate",function(f){if(f){var g=f.zipcode,h=f.state,i=0,j=f.county;g&&e.setProperty("zipcode",g),h&&e.setProperty("state",h);var k=b().read()||{},l=c().read()||{};l.zipcode!==g&&j&&h&&(l.zipcode=g,l.county=j,l.state=h,c().write(l)),k.zip!==g&&(k.zip=g,b().write(k),d.publish("personaUpdate",[k]),i=1,r.publishZipUpdate(f)),i?"":s(),r.updateLinkText(g),a("input[name=zipcodeField]").val(g)}}),d.subscribe("localeError",function(b){b==1?a("div.zipcode-head-area .error-1").show().attr("tabindex",-1).focus():b==3?a("#chasejs-contexthelpfloater").find("div.zipcode-head-area .error-3").show().attr("tabindex",-1).focus():a("div.zipcode-head-area .error-2").show().attr("tabindex",-1).focus()}),d.subscribe("block-for-zip-handler",function(a){j.debug("block-for-zip-handler subscribe called... idname = "+a),q=g.autoTriggerExistingContentModal(a,".zipcode-head-area",".chaseui-icon-container")}),r}),define("site/services/devicedetector",["jquery"],function(a){var b={ua:"",init:function(a){b.ua=navigator.userAgent,b.isMobile(b.ua.toLowerCase())&&location.replace(a)},isMobile:function(a){var c=a.indexOf("mobile")>-1,d=a.indexOf("android")>-1,e=a.indexOf("phone")>-1,f=b.androidTablet(a),g=a.indexOf("ipad")>-1;return f||g?!1:c&&!g||d&&!f||e?!0:!1},androidTablet:function(a){if(a.indexOf("android")>-1&&!(a.indexOf("mobile")>-1))return!0}};return b}),define("site/uicc/loancalculator",["jquery","jpmc/log"],function(a,b){var c=b("Loan Calculator");return function(a,b,c){var d={},e=parseFloat(a),f=parseFloat(b),g=parseFloat(c),h,i=g/1200,j=1/Math.pow(1+i,f);return j<1?(h=e*i/(1-j),h=Math.round(h*100)/100,d.totalInterest=h*f-e):(h=e/f,d.totalInterest=""),d.monthly=h,d}}),define("site/uicc/chase.validation",["jquery","site/uicc/utils","site/uicc/chase.ajax"],function(a,b){function d(b){var c=a(b).val(),d=a(b).attr("class");if(d="chaseui-fieldcurrency"){var e=parseFloat(c.replace(/[^\d\.]/g,"")),f=/^\$?(\d{1,3}(\,\d{3})*|(\d+))(\.\d{2})?$/;return isDesignFamily.Mol()?c==""||e<0||e>1e5||!f.test(c)?!1:!0:c==""||e<1||e>1e5||!f.test(c)?!1:!0}var g=/^[0-9]{1,10}$/;return c==""||c<1||!g.test(c)?!1:!0}function e(b,c){$container=a(c);var d=new Array,e=$container.find("input.chaseui-fielddate"),f=!1;if(!dependentFieldAllowsValidation($container)){handleFormErrors(b,$container),$container.find(".form-error").removeClass("form-error");return}e.each(function(){var b=a(this),c=b.attr("value");if(c==""||c=="mm/dd/yyyy"||!isDate(c)){b.addClass("form-error");var g=b[0]==e[0]?"From":"To";d[d.length]="Please specify a valid '"+g+"' date",f=!0}else b.removeClass("form-error")});var g=a.datepicker._getDateDatepicker(e[0]),h=a.datepicker._getDateDatepicker(e[1]),i={oneDay:864e5,rangeInDays:$container.attr("data-validaterangeindays"),errorMessage:$container.attr("data-errormessage")};g>h&&!f?(d[d.length]="'To' date needs to be greater than 'From' date",e.addClass("form-error")):i.rangeInDays&&!f&&Math.round(Math.abs(h-g)/i.oneDay)>i.rangeInDays&&(d[d.length]=i.errorMessage,e.addClass("form-error")),handleFormErrors(b,$container,d)}function f(b,c){var d=a(c),e=d.parents("form"),f=e.find("div.chasejs-togglefeature-container"),g=!0,h=new Array,i=f.find("input.chaseui-fielddate");i.each(function(){var b=a(this),c=b.attr("value");if(c==""||c=="mm/dd/yyyy"||!isDate(c)){b.addClass("form-error");var d=b[0]==i[0]?"From":"To";h[h.length]="Please specify a valid '"+d+"' date"}else b.removeClass("form-error");f.find(".form-error").length&&(g=!1)}),handleFormErrors(b,f,h)}function g(b,c){var d=new Array;$container=a(c);var e=$container.find("input.chaseui-fielddate"),f=e.attr("value");f==""||f=="mm/dd/yyyy"||!isDate(f)?(e.addClass("form-error"),d[d.length]="Please specify a valid date"):e.removeClass("form-error"),handleFormErrors(b,$container,d)}var c={setupClientSideValidation:function(b,d){a("body").children(".chasejs-hidden-submit-gif").length===0&&a("body").append(a("<img>",{src:"/etc/designs/chasecom/images/button-loader_v3.gif","class":"chaseutil-hide chasejs-hidden-submit-gif"}));var e=a(b),f=e.find("input,select,textarea,button,a");e.delegate('input[data-chase-use-clientside-validation="true"],textarea[data-chase-use-clientside-validation="true"],select[data-chase-use-clientside-validation="true"]',"keydown",function(b){if(b.keyCode=="9"){b.target.validated=!0;if(!b.shiftKey){var d=c.validate(this);d||(b.preventDefault(),a(this).next(".form-errormessage").focus())}}}),e.delegate('input[data-chase-use-clientside-validation="true"],textarea[data-chase-use-clientside-validation="true"],select[data-chase-use-clientside-validation="true"]',"blur",function(b){if(!b.target.validated){var d=c.validate(this);d||(b.preventDefault(),a(this).next(".form-errormessage").focus())}else b.target.validated=!1}),e.delegate('input.form-error[data-chase-use-clientside-validation="true"],textarea.form-error[data-chase-use-clientside-validation="true"],select.form-error[data-chase-use-clientside-validation="true"]',"click",function(b){a(this).focus()}),e.delegate("input:submit, input.chasejs-buttonsubmit, a.chasejs-buttonsubmit, button.chasejs-buttonsubmit, a.chasejs-calculate","click",function(b){b.preventDefault();var f=a(this).closest("form"),g=a('<div class="half-transparent" />');if(a("input:submit",f).length>1&&!a(this).closest("span").hasClass("chasejs-button-primary"))return!0;if(!c.onSubmitEvent(b,f))return e.parent(".form-container").animate({scrollTop:0},1e3),!1;f.attr("action")&&a.trim(f.attr("action")).length!=-1?(e.parent(".form-container").animate({scrollTop:0},1e3).css({overflow:"hidden"}),e.prepend(g),g.css({"z-index":topZ(),position:"absolute",width:"100%",height:"100%"}),a(b.target).replaceWith('<div class="chaseui-buttonspinner chasejs-spinner">Submitting information <img src="/etc/designs/chasecom/images/button-loader_v3.gif" /></div>'),f.submit()):d()}),e.delegate('input.datepicker[data-chase-required="true"]',"change",function(b){c.clearFailedValidationMessage(a(this))})},showButtonSpinner:function(c){b.showAjaxSpinner(c,"formsubmit");var d=c.closest(".chasejs-overlay-target");if(d){var e=a('<div class="form-overlay"></div>'),f=d.outerWidth(),g=d.outerHeight();e.css({width:f,height:g}).show(),e.prependTo(d)}},showDisabledButtons:function(a){c.disableSubmitButton(a)},validationSuccess:function(a){c.enableSubmitButton()},onSubmitEvent:function(a,b){var d=!0,e=new Array,f=new Array,g=new Array,h;return c.onSubmitErrors=0,c.statusMessageErrors=[],b.find('input:visible[data-chase-use-clientside-validation="true"],textarea:visible[data-chase-use-clientside-validation="true"],select:visible[data-chase-use-clientside-validation="true"],input:visible[data-chase-validate-onformsubmit-only="true"]').each(function(){d&=c.validate(this,!0)}),b.find('input:visible[data-chase-should-not-be-duplicate="true"]').length&&(d&=c.checkDuplicateValues(b)),e=b.find("input:visible[data-chase-minimum-select-check],textarea:visible[data-chase-minimum-select-check],select:visible[data-chase-minimum-select-check]").not(":disabled"),e.length&&(d&=c.checkGroupMinSelection(e)),c.onSubmitErrors>0||!d?(a.preventDefault(),c.clearAllErrorMessage(b,!0),c.showDisabledButtons(b),c.submitErrorMessaging(c.statusMessageErrors,b),b.find(".form-errormessage").first().focus(),!1):(c.validationSuccess(b),!0)},checkGroupMinSelection:function(b,d,e){var f=[],g=[],h,i=!1,j;return b||(b=d.find("input:visible[data-chase-minimum-select-check],textarea:visible[data-chase-minimum-select-check],select:visible[data-chase-minimum-select-check]")),e?g.push(e):(b.each(function(){f.push(a(this).attr("data-chase-minimum-select-check"))}),g=a.unique(f)),a(g).each(function(d){j=!1,b.each(function(){if(a(this).attr("data-chase-minimum-select-check")==g[d]&&c.validateInputSatisfiesRequired(a(this).val(),!0,this))return i=!0,j=!1,!1;a(this).attr("data-chase-minimum-select-check-message")&&!j&&(j=a(this).attr("data-chase-submit-form-error-label")+"-"+a(this).attr("data-chase-minimum-select-check-message"))}),j&&c.statusMessageErrors&&(c.onSubmitErrors++,c.statusMessageErrors.push(j))}),i},submitErrorMessaging:function(b,c){var d="",e=b.length,f=0,g="",h="",i="",j=c.closest("div.chaseui-modal");for(var k=0;k<e;k++)if(b[k]!==""||b[k]!==undefined||b[k]!==null)f=b[k].indexOf("-"),g=b[k].substring(0,f),h=b[k].substring(f),g!==""&&h!==""&&(d+="<li><strong>"+g+"</strong> "+h+"</li>");d="<ul>"+d+"</ul>",j.length>0?j=j.find("div.chaseui-statusmessagepanel-error"):c.children().hasClass("chaseui-statusmessagepanel-error")?(a("div.chaseui-statusmessagepanel-error").removeClass("chaseutil-show"),j=c.find("div.chaseui-statusmessagepanel-error")):j=a("div.chaseui-statusmessagepanel-error"),b.length>0?i="Please correct the following field(s):":i="",j.addClass("chaseutil-show"),j.find("div.chaseui-statusmessagepanel-title").text(i),j.find("div.chaseui-statusmessagepanel-text").html(d),j.attr("tabindex","0").focus()},inputErrorMessageFocus:function(){a('input[data-chase-use-clientside-validation="true"],textarea[data-chase-use-clientside-validation="true"], div[data-chase-atleastonecheckbox-required="true"]').bind("focus",function(b){$inputElement=a(this);var c=$inputElement.siblings("span.form-errormessage");c.length>0&&(a("span.form-errormessage").hide(),a(c).show())})},errorDisplayTemplate:'<span class="form-errormessage" errorfor="{1}" tabindex="0"><span class="accessible-text">Error</span><div class="form-errormessage-arrow"></div><div class="form-errormessage-container"><div class="form-errormessage-text">{0}</div><span class="accessible-text">&nbsp;(Press shift plus tab to return to the error location.)</span></div></span>',successDisplayTemplate:'<span class="form-verifiedmessage"><img src="/etc/designs/chasecom/images/newCheckmark.png" name="tick mark" alt=""></span>',validate:function(b,c){var d=a(b),e=d.closest("form"),f,g,h,i="";d.removeClass("chasejs-valid"),d.is(".chasejs-cleardefault")&&removeDefaultValue(b),f=d.val(),d.is(".chasejs-cleardefault")&&restoreDefaultValue(b),g=this.getValidationInformationForElement(d),this.clearFailedValidationMessage(d,g);if(g.isDisabledElement)return!0;h=this.isValueRequired(d),g.validateConfirmationCancelRequired==="true"&&(h=!1);if(!h&&f===""){var j=d.closest(".form-right, .chaseui-value");return d.removeClass("chasejs-valid"),j.find(".chasejs-valid").length?j.next("span.form-verifiedmessage").length||this.displaySuccessStatus(j):this.clearSuccessStatus(j),!0}if(h&&!this.validateInputSatisfiesRequired(f,h,b))return i=this.validateCommonErrorsHandle(d,c,g.requiredValidationMessage,null,e,i,"data-chase-required-validationmessage"),!1;if(g.regularExpression&&!this.validateInputSatisfiesRegularExpression(f,g.regularExpression))return i=this.validateCommonErrorsHandle(d,c,g.validationMessage,null,e,i,"data-chase-required-validationmessage"),!1;if(g.requireValidDate&&!this.validateRequireValidDate(d,g.requireValidDate))return i=this.validateCommonErrorsHandle(d,c,g.validationMessage,null,e,i,"data-chase-required-validationmessage"),!1;if(g.validateConfirmationFieldIdValue&&g.validateConfirmationCancelRequired==="false"&&g.validateConfirmationFieldId&&!this.validateInputConfirmationFieldValue(f,g.validateConfirmationFieldId))return i=this.validateCommonErrorsHandle(d,c,g.validateConfirmationFieldMessage,null,e,i,"data-chase-required-validationmessage"),!1;if(g.equalToElementId&&!this.validateInputSatisfiesEqualToElement(f,g.equalToElementId))return i=this.validateCommonErrorsHandle(d,c,g.validateCompareFieldMessage,g.equalToElementId,e,i,"data-chase-value-compare-validationmessage"),!1;if(!(!c&&g.minimumSelectionInGroup&&!this.checkGroupMinSelection(null,e,d.attr("data-chase-minimum-select-check")))){if(c)return g.greaterThanEqualToElementId&&!this.validateInputSatisfiesGreaterThanEqualToElement(f,g.greaterThanEqualToElementId)?(i=this.validateCommonErrorsHandle(d,c,g.validateCompareFieldMessage,g.greaterThanEqualToElementId,e,i,"data-chase-value-compare-validationmessage"),!1):g.lesserThanEqualToElementId&&!this.validateInputSatisfiesLesserThanEqualToElement(f,g.lesserThanEqualToElementId)?(i=this.validateCommonErrorsHandle(d,c,g.validateCompareFieldMessage,g.lesserThanEqualToElementId,e,i,"data-chase-value-compare-validationmessage"),!1):g.greaterThanElementId&&!this.validateInputSatisfiesGreaterThanElement(f,g.greaterThanElementId)?(i=this.validateCommonErrorsHandle(d,c,g.validateCompareFieldMessage,g.greaterThanElementId,e,i,"data-chase-value-compare-validationmessage"),!1):g.lesserThanElementId&&!this.validateInputSatisfiesLesserThanElement(f,g.lesserThanElementId)?(i=this.validateCommonErrorsHandle(d,c,g.validateCompareFieldMessage,g.lesserThanElementId,e,i,"data-chase-value-compare-validationmessage"),!1):g.minimumElementValueLength&&!this.validateInputSatisfiesMinimumLength(f,g.minimumElementValueLength)?(i=this.validateCommonErrorsHandle(d,c,g.validateLengthFieldMessage,null,e,i,"data-chase-value-compare-validationmessage"),!1):g.maximumElementValueLength&&!this.validateInputSatisfiesMaximumLength(f,g.maximumElementValueLength)?(i=this.validateCommonErrorsHandle(d,c,g.validateCompareFieldMessage,null,e,i,"data-chase-value-compare-validationmessage"),!1):g.notEqualToElementId&&!this.validateInputSatisfiesNotEqualToElement(f,g.notEqualToElementId)?(i=this.validateCommonErrorsHandle(d,c,g.validateCompareFieldMessage,g.notEqualToElementId,e,i,"data-chase-value-compare-validationmessage"),!1):!0;var k=a('label[for="'+d.attr("id")+'"]'),l=a(k.find("span")[0]);return l.text()==="Error"&&l.remove(),d.addClass("chasejs-valid"),this.isAllFieldsValid(d),!0}this.disableSubmitButton(e)},isAllFieldsValid:function(b){var c=b.closest(".form-right, .chaseui-value");this.clearSuccessStatus(c);var d=a('input:visible[data-chase-use-clientside-validation="true"],textarea:visible[data-chase-use-clientside-validation="true"],select:visible[data-chase-use-clientside-validation="true"],input:visible[data-chase-validate-onformsubmit-only="true"]',c);return!d.filter(".form-error").length&&d.filter(".chasejs-valid").length>=d.filter('[data-chase-required="true"]').length&&!d.filter('[data-chase-nocheckmark="true"]').length?(this.displaySuccessStatus(c),!0):!1},displaySuccessStatus:function(a){a.after(this.successDisplayTemplate)},clearSuccessStatus:function(a){a.next(".form-verifiedmessage").remove()},validateCommonErrorsHandle:function(a,b,d,e,f,g,h){return b||c.clearAllErrorMessage(),this.displayFailedValidationMessage(a,d),e?a.siblings("#"+e).addClass("form-error"):a.hasClass("form-error")||a.addClass("form-error"),c.disableSubmitButton(f),b&&(g+=a.attr("data-chase-submit-form-error-label")+" - ",g+=a.attr(h),c.onSubmitErrors++),g},disableSubmitButton:function(b){if(b!=undefined){var b=b;a("input:submit",b).length>1?$submitButton=a("span.chasejs-button-primary input:submit",b):$submitButton=a("input:submit",b),$submitButton.attr("disabled","disabled"),$submitButton.parent("span.chaseui-submit-large").removeClass("chaseui-submit-large").addClass("chaseui-submit-inactive-large"),$submitButton.parent("span.chaseui-submit-small").removeClass("chaseui-submit-small").addClass("chaseui-submit-inactive-small"),$submitButton.parent("span.chaseui-previous-large").removeClass("chaseui-previous-large").addClass("chaseui-previous-inactive-large"),$submitButton.parent("span.chaseui-previous-small").removeClass("chaseui-previous-small").addClass("chaseui-previous-inactive-small")}},enableSubmitButton:function(){if(a("input:checkbox").hasClass("chasejs-activate-submit")){var b;b=a(".chasejs-activate-submit").length,a(".chasejs-activate-submit:checked").length===b?(a(".chasejs-activate-submit").parents(".chaseui-formlayout").find(".chaseui-submit-inactive-large").removeClass("chaseui-submit-inactive-large").addClass("chaseui-submit-large"),a(".chasejs-activate-submit").parents(".chaseui-formlayout").find(".chaseui-formnav").find(".chaseui-submit-large").find("input[type=submit],input[type=button]").removeAttr("disabled")):(a(".chasejs-activate-submit").parents(".chaseui-formlayout").find(".chaseui-submit-large").removeClass("chaseui-submit-large").addClass("chaseui-submit-inactive-large"),a(".chasejs-activate-submit").parents(".chaseui-formlayout").find(".chaseui-formnav").find(".chaseui-submit-inactive-large").find("input[type=submit],input[type=button]").attr("disabled","disabled"))}else a('input[type="submit"]').removeAttr("disabled"),a('input[type="submit"]').parent("span.chaseui-submit-inactive-large").removeClass("chaseui-submit-inactive-large").addClass("chaseui-submit-large"),a('input[type="submit"]').parent("span.chaseui-submit-inactive-small").removeClass("chaseui-submit-inactive-small").addClass("chaseui-submit-small"),a('input[type="submit"]').parent("span.chaseui-previous-inactive-large").removeClass("chaseui-previous-inactive-large").addClass("chaseui-previous-large"),a('input[type="submit"]').parent("span.chaseui-previous-inactive-small").removeClass("chaseui-previous-inactive-small").addClass("chaseui-previous-small")},checkDuplicateValues:function(b){fieldToCheckDuplicateValues=b.find('input[data-chase-should-not-be-duplicate="true"]');var c=!0;$fieldToCheck,j,i,fieldToCheckWith,validationInformation;for(i=0;i<fieldToCheckDuplicateValues.length;i++){$fieldToCheck=a(fieldToCheckDuplicateValues[i]);for(j=i+1;j<fieldToCheckDuplicateValues.length;j++)$fieldToCheckWith=a(fieldToCheckDuplicateValues[j]),$fieldToCheck.val()===$fieldToCheckWith.val()&&(validationInformation=this.getValidationInformationForElement($fieldToCheck),this.displayFailedValidationMessage($fieldToCheck,validationInformation.validateConfirmationFieldMessage),validationInformation=this.getValidationInformationForElement($fieldToCheckWith),this.displayFailedValidationMessage($fieldToCheckWith,validationInformation.validateConfirmationFieldMessage),c=!1)}return c},clearFailedValidationMessage:function(b,d){if(b.is(".form-error")){b.removeClass("form-error");var e=b[0].form,f=a('label[for="'+b[0].id+'"]',e);if(f){var g=a("span#error-for-"+b.attr("id"),e);g.remove(),f.removeClass("form-error")}var h=a(".form-error").length;h<1&&c.enableSubmitButton(),b.siblings('span.form-errormessage[errorfor~="'+b[0].id+'"]').each(function(d){c.removeErrorFor(a(this),b[0].id),(a(this).attr("errorfor")==""||typeof a(this).attr("errorfor")=="undefined")&&a(this).remove()}),d&&b.siblings("#"+d.greaterThanEqualToElementId+", #"+d.lesserThanEqualToElementId+", #"+d.greaterThanElementId+", #"+d.lesserThanElementId).removeClass("form-error")}},clearAllErrorMessage:function(b,c){var d=(b||a("body")).find("span.form-errormessage");(c?d.slice(1):d).remove()},displayFailedValidationMessage:function(b,d){var e=b.closest(".form-right, .chaseui-value");this.clearSuccessStatus(e),b.addClass("form-error");var f=e.parent().find('label[for="'+b.attr("id")+'"]');f&&(f.find("#error-for-"+b.attr("id")).remove(),f.addClass("form-error").prepend('<span class="accessible-text" id="error-for-'+b.attr("id")+'">Error: </span>'));var g=b.siblings("span.form-errormessage"),h=new Array("chaseui-fieldlarge-2","chaseui-fieldlarge-1","chaseui-fieldsmall-1","chaseui-fieldsmall-2","chaseui-fieldsmall-3"),i=h.length,j=validationInformation.siblingInputClasses.length,k="";for(var l=0;l<j;l++)for(var m=0;m<i;m++)if(validationInformation.siblingInputClasses[l]===h[m])var k=h[m];var n=!0;g.length&&g.each(function(e){if(a("div.form-errormessage-text",a(this)).text()==d){c.addErrorFor(a(this),b[0].id),n=!1;return}});if(n){errorDisplayHtml=c.errorDisplayTemplate.replace("{0}",d).replace("{1}",b[0].id),b.after(errorDisplayHtml);var o=b.siblings("span.form-errormessage").focus(),p=b.closest(".chaseui-dataitem").find("input:text, select"),q=b.position(),r;p.length>1&&(r=p.last(),o.css({left:r.position().left+r.width()+10,top:q.top}));var s=a(".form-error").length;s>0&&c.disableSubmitButton(),b.attr("tabindex","0"),c.updateVirtualBuffer()}b.data("chase-validation-reason")==="tabkey"&&setFocusOnNextFocusable(b.closest(".form-subcontainer").parent(),b),b.data("chase-validation-reason","")},validateInputSatisfiesRegularExpression:function(a,b){if(a===undefined)return!1;if(a===""||b===undefined||b==="")return!0;var c=new RegExp(b,"g");return c.test(a)},validateRequireValidDate:function(a,b){var c=!1,d=a.hasClass("chasejs-send-date"),e=a.hasClass("chasejs-deliver-date"),f=getDatepickerValidDatesJSON(a,d||e),g=a.val();if(b&&f&&g.length)for(var h=0;h<f.length;h++){var i=e?f[h].dueDate:f[h].processDate;if(i==g){c=!0;break}}else c=!0;if(d||e){var j=getRelatedField(a);if(j){var k=this.getValidationInformationForElement(j);this.clearFailedValidationMessage(j,k)}}return c},validateInputConfirmationFieldValue:function(b,c){if(c===undefined||c==="")return!1;if(c.indexOf("[")>0&&c.lastIndexOf("]")>0){var d=c.substring(c,c.indexOf("[")),e=c.substring(c.indexOf("[")+1,c.lastIndexOf("]")),f=c.substring(c.indexOf("]")+1,c.length);c=d+"\\["+e+"\\]\\"+f}var g=a("#"+c),h=g.val();return b===undefined||h===undefined?!1:b===h||g.is("select")?!0:!1},validateInputSatisfiesRequired:function(a,b,c){return c.type=="checkbox"&&!c.checked?!1:!b||a!==undefined&&a!==""?!0:!1},validateInputSatisfiesGreaterThanEqualToElement:function(b,c){var d,b;return c?b===undefined?!1:(d=parseFloat(a("#"+c).val()),b=parseFloat(b),isNaN(b)&&!isNaN(d)||!isNaN(b)&&isNaN(d)||b<=d?!1:!0):!0},validateInputSatisfiesLesserThanEqualToElement:function(b,c){var d=a("#"+c).val();return a("#"+c)&&a("#"+c).length>0&&a("#"+c).hasClass("chaseui-value-isdefault")?!0:!c||d==""||b==""?!0:b===undefined?!1:(b=b.replace(/.*\$/,"").replace(/[^.\d]/g,""),d=d.replace(/.*\$/,"").replace(/[^.\d]/g,""),isNaN(b)&&!isNaN(d)||!isNaN(b)&&isNaN(d)||parseFloat(b)>parseFloat(d)?!1:!0)},validateInputSatisfiesGreaterThanElement:function(b,c){var d=a("#"+c),e=d.val(),f,g,h,i;if(d&&d.length>0&&d.hasClass("chaseui-value-isdefault"))return!0;if(!c||e==""||b=="")return!0;if(b===undefined)return!1;if(d.hasClass("chaseui-fielddate")){f=new Date(e),h=new Date(b),g=f.getTime(),i=h.getTime();if(i<=g)return!1}else{b=b.replace(/.*\$/,"").replace(/[^.\d]/g,""),e=e.replace(/.*\$/,"").replace(/[^.\d]/g,"");if(isNaN(b)&&!isNaN(e)||!isNaN(b)&&isNaN(e)||parseFloat(b)<=parseFloat(e))return!1}return!0},validateInputSatisfiesLesserThanElement:function(b,c){var d=a("#"+c),e=d.val(),f,g,h,i;if(d&&d.length>0&&d.hasClass("chaseui-value-isdefault"))return!0;if(!c||e==""||b=="")return!0;if(b===undefined)return!1;if(d.hasClass("chaseui-fielddate")){f=new Date(e),h=new Date(b),g=f.getTime(),i=h.getTime();if(i>=g)return!1}else{b=b.replace(/.*\$/,"").replace(/[^.\d]/g,""),e=e.replace(/.*\$/,"").replace(/[^.\d]/g,"");if(isNaN(b)&&!isNaN(e)||!isNaN(b)&&isNaN(e)||parseFloat(b)>=parseFloat(e))return!1}return!0},validateInputSatisfiesMinimumLength:function(a,b){var a,c;return a===undefined?!1:(a=a,c=a.length,a!=""&&c<b?!1:!0)},validateInputSatisfiesMaximumLength:function(a,b){var a,c;return a===undefined?!1:(a=a,c=a.length,a!=""&&c>b?!1:!0)},validateInputSatisfiesNotEqualToElement:function(b,c){var b,d;if(!c)return!0;if(b===undefined)return!1;var d=a("#"+c).val(),b=b;return b!==""&&b==d?!1:!0},validateInputSatisfiesEqualToElement:function(b,c){var d,e;if(!c)return!0;if(b===undefined)return!1;var e=a("#"+c).val(),b=b;return b!==""&&b!=e?!1:!0},getValidationInformationForElement:function(a){var b=this.isValueRequired(a),c=this.getIsDisabledElement(a),d=this.getRequiredValidationMessage(a),e=this.getRegularExpression(a),f=this.getValidationMessage(a),g=this.getConfirmationFieldId(a),h=this.getConfirmationFieldValue(a),i=this.getSiblingInputClasses(a),j=this.getConfirmationCancelRequired(a),k=this.getConfirmationFieldMessage(a),l=this.getCompareValidationMessage(a),m=this.getLengthValidationMessage(a),n=this.getDuplicateFieldFinder(a),o=this.getDuplicateFieldMsg(a),p=this.getGreaterThanElementId(a),q=this.getLesserThanElementId(a),r=this.getGreaterThanEqualToElementId(a),s=this.getLesserThanEqualToElementId(a),t=this.getMinimumElementValueLength(a),u=this.getMaximumElementValueLength(a),v=this.getNotEqualToElementId(a),w=this.getEqualToElementId(a),t=this.getMinimumElementValueLength(a),u=this.getMaximumElementValueLength(a),v=this.getNotEqualToElementId(a),w=this.getEqualToElementId(a),x=this.getRequireValidDate(a);return validationInformation={isRequired:b,isDisabledElement:c,requiredValidationMessage:d,regularExpression:e,validationMessage:f,validateConfirmationFieldId:g,validateConfirmationFieldIdValue:h,siblingInputClasses:i,validateConfirmationCancelRequired:j,validateConfirmationFieldMessage:k,validateCompareFieldMessage:l,isValueDuplicate:n,isValueDuplicateMessage:o,greaterThanElementId:p,lesserThanElementId:q,greaterThanEqualToElementId:r,lesserThanEqualToElementId:s,notEqualToElementId:v,equalToElementId:w,minimumElementValueLength:t,maximumElementValueLength:u,validateLengthFieldMessage:m,requireValidDate:x},validationInformation},isValueRequired:function(a){var b=a.attr("data-chase-required");return b!==undefined&&b==="true"&&!a.attr("disabled")?!0:!1},getRequiredValidationMessage:function(a){var b=a.attr("data-chase-required-validationmessage");return b},getRegularExpression:function(a){var b=a.attr("data-chase-clientvalidationregex");return b},getValidationMessage:function(a){var b=a.attr("data-chase-clientvalidationmessage");return b},getConfirmationFieldId:function(a){return a.attr("data-chase-conditional-required-element-id")},getConfirmationFieldValue:function(a){return a.attr("data-chase-conditional-required-element-id-value")},getSiblingInputClasses:function(a){var b=new Array;return a.attr("class")&&(b=a.attr("class").split(" ")),b},getConfirmationCancelRequired:function(a){var b="false";return a.attr("data-chase-cancel-required")?(b=a.attr("data-chase-cancel-required"),b):b},getIsDisabledElement:function(a){return a.attr("disabled")},getConfirmationFieldMessage:function(a){return a.attr("data-chase-conditional-required-element-message")},getCompareValidationMessage:function(a){return a.attr("data-chase-value-compare-validationmessage")},getLengthValidationMessage:function(a){return a.attr("data-chase-value-length-validationmessage")},getCompareValidationMessage:function(a){return a.attr("data-chase-value-compare-validationmessage")},getLengthValidationMessage:function(a){return a.attr("data-chase-value-length-validationmessage")},getDuplicateFieldFinder:function(a){return a.attr("data-chase-should-not-be-duplicate")},getDuplicateFieldMsg:function(a){return a.attr("data-chase-should-not-be-duplicate-message")},getGreaterThanElementId:function(a){return a.attr("data-chase-value-greaterthanid")},getLesserThanElementId:function(a){return a.attr("data-chase-value-lesserthanid")},getGreaterThanEqualToElementId:function(a){return a.attr("data-chase-value-greaterthanequaltoid")},getLesserThanEqualToElementId:function(a){return a.attr("data-chase-value-lessthanequaltoid")},getMinimumElementValueLength:function(a){return a.attr("data-chase-value-minlength")},getMaximumElementValueLength:function(a){return a.attr("data-chase-value-maxlength")},getNotEqualToElementId:function(a){return a.attr("data-chase-value-notequaltoid")},getEqualToElementId:function(a){return a.attr("data-chase-value-equaltoid")},getRequireValidDate:function(a){return a.attr("data-chase-require-valid-date")},updateVirtualBuffer:function(){var a;return function(){a||(a=document.createElement("input"),a.type="hidden",a.value="1",document.body.appendChild(a)),a.value=a.value==="1"?"0":"1"}}(),addErrorFor:function(a,b){var c=" "+a.attr("errorfor")+" ";c.indexOf(" "+b+" ")<0&&(c=c.replace(/^\s\s*/,"").replace(/\s\s*$/,"")+" "+b,a.attr("errorfor",c))},removeErrorFor:function(a,b){var c=(" "+a.attr("errorfor")+" ").replace(" "+b+" ","").replace(/^\s\s*/,"").replace(/\s\s*$/,"");a.attr("errorfor",c)}};return window.chaseClientSideValidation=c,c}),define("site/tools/auto/loan-calculator",["jquery","jpmc/log","site/uicc/loancalculator","site/uicc/utils","site/uicc/chase.validation","content/services/contentprovider","jqueryui/slider"],function(a,b,c,d,e,f){var g=b("autoLoanCalculator"),h={init:function(b){function j(a,b){k(i.loanAmountInput.val(),i.months,i.inputApr.val()),b.remove()}function k(a,b,d){a=a.replace(/,/,"").replace("$",""),d=d.replace(/%/,""),l(a,c(a,b,d))}function l(b,c){if(c==undefined)i.loanScenarioContainer.addClass("hide"),i.inputApr.val(""),i.loanAmountInput.val(""),m("remove"),i.slider.slider("value","0"),i.months=12,m("add"),i.loanItems.each(function(){a(this).html("")}),i.loanAmountInput.focus();else{c.monthly=(Math.round(c.monthly*100)/100).toFixed(2),c.totalInterest=(Math.round(c.totalInterest*100)/100).toFixed(2),i.loanScenarioContainer.removeClass("hide");for(var e=i.loanItems.length;e>=1;e--)a(i.loanItems[e]).html(a(i.loanItems[e-1]).html());var h=a(i.loanItems[0]),j;h.html(i.template),j={monthlyEl:{val:d.addCommas(c.monthly),sel:h.find(i.monthly)},termEl:{val:i.months,sel:h.find(i.term)},aprEl:{val:a(i.inputApr).val().replace(/%/,""),sel:h.find(i.apr)},laonAmountEl:{val:d.addCommas(b),sel:h.find(i.loanAmount)},totalPaidEl:{val:d.addCommas((Math.round((Number(b)+Number(c.totalInterest))*100)/100).toFixed(2)),sel:h.find(i.totalPaid)},totalInterestEl:{val:d.addCommas(c.totalInterest),sel:h.find(i.totalInterest)}};var k=c.totalInterest;for(var k in j){var l=a(j[k].sel),n;n=l.attr("data-position")=="left"?l.attr("data-symbol")+j[k].val:j[k].val+l.attr("data-symbol"),l.html(n)}var o=function(a){h.find(".calculator-results-footnote").html(a)},p=function(a){g.debug("AJAX failed to load content in ContentProvider: "+a)},q=new Date;q=q.getTime(),f.loadSnippetContent(i.resultsFootnoteLoc+"?"+q,o,p),h.focus()}}function m(b){switch(b){case"add":a(i.monthAnchors[i.slider.slider("value")/i.step]).addClass("selected").children("SPAN.accessible-text").html(i.accessibleText[a(i.monthAnchors[i.slider.slider("value")/i.step]).attr("data-accessible-prop")].selected),i.months=a(i.monthAnchors[i.slider.slider("value")/i.step]).html();break;case"remove":var c=h.find(".years a.selected");c.removeClass("selected").children("SPAN.accessible-text").html(i.accessibleText[a(i.monthAnchors).attr("data-accessible-prop")].unselected);break;default:}}var h,i;h=a(b.selector);if(!h.length>0){g.error("calculator initialization - could not found container to initialize");return}if(a(b.selector).data("autoLoanCalculator")!=undefined)return;a(b.selector).data("autoLoanCalculator",!0),i={slider:h.find("#slider"),loanScenarioContainer:h.find(".loan-items-container"),loanItems:h.find(".loan-items-container .loan-item"),loanAmountInput:h.find("#loan-amount"),inputApr:h.find("#apr"),months:12,step:13.85,monthAnchors:h.find(".years a"),submitButton:h.find(".chasejs-calculate"),resetButton:h.find(".chasejs-reset"),monthly:".js-monthly-amount",term:".js-loan-term-val",apr:".js-loan-apr-val",loanAmount:".js-loan-principle-val",totalPaid:".js-loan-paid-val",template:undefined,totalInterest:".js-loan-interest-val",resultsFootnoteLoc:"/content/chasecom/en/snippets/auto-loans/disclosures/payment-calculator-disc-3-reference.html",accessibleText:"",errorTemplate:'<span class="form-errormessage" errorfor="{1}" tabindex="0"><span class="chaseutil-hidevisual">Error:</span><span class="chaseutil-hidevisual">Press shift plus tab to return to the error location.</span><div class="form-errormessage-arrow"></div><div class="form-errormessage-container"><div class="form-errormessage-text">{0}</div><span class="chaseutil-hidevisual">Press shift plus tab to return to the error location.</span></div></span>'},b.settings&&a.extend(i,b.settings),e.setupClientSideValidation(h,j),i.slider.slider({step:i.step,stop:function(a,b){m("remove"),b.value>84&&i.slider.slider("value","97"),m("add")}}),i.template==undefined&&(i.template=a(i.loanItems[0]).html(),a(i.loanItems[0]).html("")),i.monthAnchors.on("click",function(b){b.preventDefault();var c=a(this);if(!c.hasClass("selected")){var d;m("remove");var e=c.contents().filter(function(){return this.nodeType==3});d=i.months=Number(e.text());if(d>48){var f=d/6-8;i.slider.slider("value",(f+3)*i.step)}else i.slider.slider("value",(d-12)/12*i.step);m("add")}}),i.resetButton.on("click",function(b){b.preventDefault(),a(this).closest("form").find("input,label").each(function(){e.clearFailedValidationMessage(a(this))}),l()}),h.on("keyup","#loan-amount, #apr",function(a){d.decimalLimit(this),d.formatComma(this)})}};return h})