
if(!Array.indexOf){Array.prototype.indexOf=function(obj,start){for(var i=(start||0);i<this.length;i++){if(this[i]==obj){return i;}}
return-1;}}
(function($){var nsVersion=1.9;if(typeof $.fn.NordSlide!='undefined'&&typeof $.fn.NordSlide.version!='undefined'&&$.fn.NordSlide.version>=nsVersion){return;}
$.fn.extend({NordSlide:function(settingsOverride,secondaryParam,thirdParam){var defaults={startingSlide:'auto',direction:'horizontal',width:false,height:false,dot:'img',dotColor:'black',dotAppend:false,dotShow:true,arrowColor:'black',arrowsFromTop:false,arrowsDisabledUseClass:false,animate:true,animateMethod:'slide',moveEasing:'linear',moveDuration:600,pauseDuration:5000,autoStart:true,autoStopAfter:false,autoStopOnInteraction:true,autoLoop:false,countdownBar:false,loop:true,coreMetricsEnabled:true,coreMetricsUseAttribute:false,coreMetricsCategory:false,coreMetricsPre:'Slide ',coreMetricsPost:false,coreMetricsAttributeParameter:false,cookieEnabled:false,cookiePre:'SlideShow_',cookiePost:false,cookieID:false,autoPlayFlash:true,classLoading:'nord-slide-loading',classImageBox:'nord-slide-box',classContainerBox:'nord-slide-container',classSlide:'nord-slide',classDot:'nord-slide-dot',classDotContainer:'nord-slide-dots',classDotActive:'active',classNext:'nord-slide-next',classPrev:'nord-slide-prev',classBarOuter:'nord-slide-dot-countdown',classBarInner:'nord-slide-dot-countdown-bar',classCurrentSlide:'nord-slide-current',classPreviousSlide:'nord-slide-last',elementNextPrev:'<div></div>',attrAnimating:false,triggerVisible:'ns-visible',triggerHidden:'ns-hidden',keyNavEnabled:false,keyNavNext:39,keyNavPrev:37};var setupCoreMetricsCategory=function(){if(typeof PageParameters=='object'){defaults.cookieID=PageParameters.storeUrl+"_"+PageParameters.categoryId;var categoryLevels=[];var ignoredCategories=['Browse Categories','Department'];if(PageParameters.grandParentCategoryName&&ignoredCategories.indexOf(PageParameters.grandParentCategoryName)==-1){categoryLevels.push(PageParameters.grandParentCategoryName);}
if(PageParameters.parentCategoryName&&ignoredCategories.indexOf(PageParameters.parentCategoryName)==-1){categoryLevels.push(PageParameters.parentCategoryName);}
if(PageParameters.categoryName&&ignoredCategories.indexOf(PageParameters.categoryName)==-1){categoryLevels.push(PageParameters.categoryName);}
if(categoryLevels.length){defaults.coreMetricsCategory=categoryLevels.join(' > ')+'';}else{defaults.coreMetricsCategory=undefined;}}else{defaults.cookieID='';defaults.coreMetricsCategory=undefined;}};return this.each(function(){setupCoreMetricsCategory();var settings=$.extend(defaults,settingsOverride);var $elem=$(this),$slideBox=$('<div></div>').addClass(settings.classImageBox),slides=[],maxW=0,maxH=0,totalW=0,totalH=0,$next=$(settings.elementNextPrev).addClass(settings.classNext),$prev=$(settings.elementNextPrev).addClass(settings.classPrev),intervalVar=false,autoCounter=0,$bar=$('<div></div>');settings.cookieID=((settings.cookiePre)?settings.cookiePre:'')
+settings.cookieID
+((settings.cookiePost)?settings.cookiePost:'');var goToSlide=function(number){if(!slides[number]){return false;}
var oldSlide=$elem.data('currentslide');var $oldSlide=(slides[oldSlide])?slides[oldSlide].elem:false;var slide=slides[number];if(intervalVar==false){_cmCreate(slide.cmID);}
if(settings.cookieEnabled&&typeof createCookie=='function'){createCookie(settings.cookieID,number)}
slide.dot.addClass(settings.classDotActive).siblings().removeClass(settings.classDotActive);$elem.data('currentslide',number);if(settings.animate){if(settings.animateMethod=='slide'){var fromLeft=0-(number*maxW);if(settings.attrAnimating){$elem.attr(settings.attrAnimating,'true');}
$slideBox.stop().animate({left:fromLeft+'px'},settings.moveDuration,settings.moveEasing,function(){slide.elem.addClass(settings.classCurrentSlide);$oldSlide.removeClass(settings.classCurrentSlide);if(settings.triggerVisible){slide.elem.trigger(settings.triggerVisible);}
if(settings.triggerHidden&&$oldSlide){$oldSlide.trigger(settings.triggerHidden);}
if(settings.attrAnimating){$elem.removeAttr(settings.attrAnimating);}});}else if(settings.animateMethod=='fade'){if(slide.elem.is('.'+settings.classCurrentSlide)==false){if(slide.elem.css('opacity')!=0){slide.elem.css('opacity',0);}
slide.elem.addClass(settings.classCurrentSlide);if(settings.attrAnimating){$elem.attr(settings.attrAnimating,'true');}
slide.elem.show().stop().animate({opacity:1},settings.moveDuration,settings.moveEasing,function(){if(settings.triggerVisible){slide.elem.trigger(settings.triggerVisible);}
if(settings.attrAnimating){$elem.removeAttr(settings.attrAnimating);}});if($oldSlide){$oldSlide.removeClass(settings.classCurrentSlide).addClass(settings.classPreviousSlide).siblings().removeClass(settings.classPreviousSlide);$oldSlide.stop().animate({opacity:0},settings.moveDuration,settings.moveEasing,function(){if(settings.triggerHidden){$oldSlide.trigger(settings.triggerHidden);}
$(this).hide();});}}}}else{if(settings.animateMethod=='fade'){slide.elem.addClass(settings.classCurrentSlide).show().stop().css('opacity',1);if($oldSlide){$oldSlide.removeClass(settings.classCurrentSlide);}
if(settings.triggerVisible){slide.elem.trigger(settings.triggerVisible)}
if(settings.triggerHidden){if($oldSlide){$oldSlide.trigger(settings.triggerHidden);}}}else{var fromLeft=0-(number*maxW);$slideBox.css('left',fromLeft+'px');slide.elem.addClass(settings.classCurrentSlide);if($oldSlide){$oldSlide.removeClass(settings.classCurrentSlide);}
if(settings.triggerVisible){slide.elem.trigger(settings.triggerVisible)}
if(settings.triggerHidden){if($oldSlide){$oldSlide.trigger(settings.triggerHidden);}}}}
if(number<=0&&settings.loop==false){if(settings.arrowsDisabledUseClass){$prev.addClass(settings.arrowsDisabledUseClass);$next.removeClass(settings.arrowsDisabledUseClass);}else{$prev.hide();$next.show();}}else if(number>=(slides.length-1)&&settings.loop==false){if(settings.arrowsDisabledUseClass){$next.addClass(settings.arrowsDisabledUseClass);$prev.removeClass(settings.arrowsDisabledUseClass);}else{$next.hide();$prev.show();}}else{if(settings.arrowsDisabledUseClass){$next.removeClass(settings.arrowsDisabledUseClass);$prev.removeClass(settings.arrowsDisabledUseClass);}else{$next.show();$prev.show();}}};var nextSlide=function(evt){var slide=$elem.data('currentslide');if(evt){evt.preventDefault();_cmCreate('Next');}
if(slides[slide+1]){goToSlide(slide+1);}else if(settings.loop){goToSlide(0);}};var prevSlide=function(evt){var slide=$elem.data('currentslide');if(evt){evt.preventDefault();_cmCreate('Previous');}
if(slides[slide-1]){goToSlide(slide-1);}else if(settings.loop){goToSlide(slides.length-1);}};var clearAutomatic=function(evt){if(evt){evt.preventDefault();}
autoCounter=0;if(intervalVar){clearInterval(intervalVar);intervalVar=false;hideBar();}};var resetBar=function(){$bar.children().stop(true,true).css('width','100%').animate({width:0},settings.pauseDuration);};var hideBar=function(){$bar.hide();for(var i=0;i<slides.length;i++){slides[i].elem.unbind(settings.triggerVisible,resetBar);}};var startAuto=function(){autoCounter=1;var delay=settings.pauseDuration+((settings.animate)?settings.moveDuration:0);if(intervalVar){clearInterval(intervalVar)};intervalVar=setInterval(nextAuto,delay);if(settings.countdownBar){for(var i=0;i<slides.length;i++){slides[i].elem.bind(settings.triggerVisible,resetBar);}
$bar.show();resetBar();}};var nextAuto=function(){if(settings.autoStopAfter&&autoCounter>settings.autoStopAfter){clearAutomatic();}else{if($elem.data('currentslide')>=slides.length-1&&settings.autoLoop){goToSlide(0);}else{nextSlide();}
autoCounter++;}};var _cmCreate=function(id){if(settings.coreMetricsEnabled&&typeof cmCreateElementTag=='function'){if(settings.coreMetricsAttributeParameter){cmCreateElementTag(id,settings.coreMetricsCategory,settings.coreMetricsAttributeParameter);}else{cmCreateElementTag(id,settings.coreMetricsCategory);}}};var flashAutoPlayShow=function(){var slideNum=$elem.data('currentslide');if(!slides[slideNum]){return;}
slides[slideNum].flashAutoElements.each(function(){var elem=$(this).get(0);if(typeof elem.play=='function'){elem.play();}});for(var i=0;i<slides.length;i++){if(i==slideNum){continue;}
slides[i].flashAutoElements.each(function(){var elem=$(this).get(0);if(typeof elem.stop=='function'){elem.stop();}});}};var removeLoadingClasses=function(){var $loadingBoxes=$elem.filter('.'+settings.classLoading);if($loadingBoxes.length>0){$(window).load(function(){$loadingBoxes.removeClass(settings.classLoading);});setTimeout(function(){$loadingBoxes.removeClass(settings.classLoading);},1000);}};var init=function(){var $slides=$elem.children(':not(script, .nord-slide-ignore)');if($slides.length<=1){removeLoadingClasses();return false;}
var counter=0;var $dot=$('<a></a>').addClass(settings.classDot).addClass(settings.classDot+'-'+settings.dot).addClass(settings.dotColor);var $dotContainer=$('<span></span>').addClass(settings.classDotContainer);$slides.each(function(){$(this).addClass('nord-slide-iefix');var h=$(this).outerHeight();var w=$(this).outerWidth();$(this).removeClass('nord-slide-iefix');if(w>maxW){maxW=w;}
if(h>maxH){maxH=h;}
totalW+=w;totalH+=h;var $newDot=$dot.clone();$newDot.data('slide',counter);$dotContainer.append($newDot);var cmInnerID=((settings.coreMetricsUseAttribute)?$(this).attr(settings.coreMetricsUseAttribute):counter+1);if(cmInnerID==''){cmInnerID=counter+1;}
var cmID=((settings.coreMetricsPre)?settings.coreMetricsPre:'')
+cmInnerID
+((settings.coreMetricsPost)?settings.coreMetricsPost:'');var slide={elem:$(this),dot:$newDot,flashAutoElements:$(this).find('object[slide-start], embed[slide-start]'),cmID:cmID};slides.push(slide);counter++;});if(settings.width){maxW=settings.width;totalW=slides.length*settings.width;}
if(settings.height){maxH=settings.height;totalH=slides.length*settings.height;}
for(var i=0;i<slides.length;i++){slides[i].elem.addClass(settings.classSlide);if(settings.animateMethod=='slide'||settings.animate==false){slides[i].elem.css('left',(maxW*i)+'px');}else if(settings.animateMethod=='fade'){slides[i].elem.css('left',0);}}
if(settings.direction=='horizontal'){$slideBox.css('width',totalW+'px').css('height',maxH);}else{$slideBox.css('width',maxW+'px').css('height',totalH+'px');}
$elem.children().wrapAll($slideBox);$slideBox=$elem.children('.'+(settings.classImageBox.replace(' ','.')));$elem.addClass(settings.classContainerBox).css('width',maxW+'px').css('height',maxH+'px');if(settings.countdownBar){$bar=$('<div></div>').addClass(settings.classBarOuter).addClass(settings.dotColor).append($('<div></div>').addClass(settings.classBarInner));if(!settings.autoStart){$bar.hide();}
$bar.appendTo($dotContainer);}
if(settings.autoStopAfter=='auto'){settings.autoStopAfter=slides.length;}
if(settings.dotShow){if(settings.dotAppend){$(settings.dotAppend).append($dotContainer);$dotContainer.css('position','relative').css('top','auto');}else{$elem.append($dotContainer);var dcow=$dotContainer.outerWidth();var dciw=$dotContainer.width();var dotContainerLeft=(maxW/2)-(dcow/2);dotContainerLeft=(dotContainerLeft<0)?0:dotContainerLeft;$dotContainer.css('left',dotContainerLeft+'px');}}
$next.html('&gt;').addClass(settings.classNext).addClass(settings.arrowColor);$prev.html('&lt;').addClass(settings.classPrev).addClass(settings.arrowColor);$next.appendTo($elem);$prev.appendTo($elem);if(settings.arrowsFromTop){var npFromTop=settings.arrowsFromTop;}else{var npHeight=$next.outerHeight();var npFromTop=(maxH/2)-(npHeight/2);npFromTop+='px';}
$prev.css('top',npFromTop);$next.css('top',npFromTop);if(settings.autoStopOnInteraction){$next.bind('click',clearAutomatic);$prev.bind('click',clearAutomatic);$dotContainer.children().bind('click',clearAutomatic);}
$next.bind('click',nextSlide);$prev.bind('click',prevSlide);$dotContainer.children().bind('click',function(){_cmCreate('Dot Nav');goToSlide($(this).data('slide'));return false;});if(settings.autoPlayFlash&&settings.triggerVisible){for(var i=0;i<slides.length;i++){slides[i].elem.bind(settings.triggerVisible,flashAutoPlayShow);}}
var startingSlide=0;if(settings.cookieEnabled&&typeof readCookie=='function'){if(readCookie(settings.cookieID)!=null){startingSlide=(isNaN(readCookie(settings.cookieID)))?0:parseInt(readCookie(settings.cookieID));}}
startingSlide=(isNaN(settings.startingSlide))?startingSlide:parseInt(settings.startingSlide);if(!slides[startingSlide]){startingSlide=0;}
$elem.data('currentslide',startingSlide);slides[startingSlide].elem.addClass(settings.classCurrentSlide).removeClass(settings.classPreviousSlide);slides[startingSlide].elem.siblings().removeClass(settings.classCurrentSlide);if(settings.triggerVisible){slides[startingSlide].elem.trigger(settings.triggerVisible);}
if(settings.animate&&settings.animateMethod=='fade'){slides[startingSlide].elem.siblings().hide().css('opacity',0);}
if(settings.animate&&startingSlide>0){var currentAnimate=settings.animate;settings.animate=false;goToSlide(startingSlide);settings.animate=currentAnimate;}else{goToSlide(startingSlide);}
if(settings.keyNavEnabled){$(window).bind('keyup',function(e){if(e.metaKey||e.shiftKey||e.altKey||e.ctrlKey){return;}
if(e.keyCode==settings.keyNavNext){nextSlide();clearAutomatic();}else if(e.keyCode==settings.keyNavPrev){prevSlide();clearAutomatic();}});}
if(settings.autoStart){startAuto();}
$elem.data('NordSlideFns',{next:nextSlide,prev:prevSlide,goTo:goToSlide,clearAuto:clearAutomatic,first:function(){goToSlide(0);},last:function(){goToSlide(slides.length-1);},start:startAuto,stop:clearAutomatic});removeLoadingClasses();};switch(settingsOverride){case'next':var fns=$(this).data('NordSlideFns');fns.next();fns.clearAuto();break;case'prev':var fns=$(this).data('NordSlideFns');fns.prev();fns.clearAuto();case'goto':var fns=$(this).data('NordSlideFns');var slide=secondaryParam;if(slide&&isNaN(slide)==false){if(thirdParam){if(thirdParam=='text'){_cmCreate('Text Link');}else if(thirdParam=='image'){_cmCreate('Image Link');}else{_cmCreate(thirdParam+'');}}else{if(console&&typeof console.warn=='function'){console.warn('Nord Slide goto expects 3rd parameter of link type for cm tracking');}}
fns.goTo(parseInt(slide)-1);fns.clearAuto();}
break;case'first':var fns=$(this).data('NordSlideFns');fns.first();fns.clearAuto();break;case'last':var fns=$(this).data('NordSlideFns');fns.last();fns.clearAuto();break;case'start':var fns=$(this).data('NordSlideFns');fns.start();break;case'stop':var fns=$(this).data('NordSlideFns');fns.stop();break;default:return $(this).each(init);}});}});$.fn.NordSlide.version=nsVersion;})(jQuery);