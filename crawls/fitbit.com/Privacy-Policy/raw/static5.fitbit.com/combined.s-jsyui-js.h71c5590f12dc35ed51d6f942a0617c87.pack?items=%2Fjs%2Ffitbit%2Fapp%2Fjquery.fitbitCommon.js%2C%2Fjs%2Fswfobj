(function(a){a.fn.mouseDownButton=function(b){var c=a.extend({},a.fn.mouseDownButton.defaults,b);a(this).live("mousedown",function(){if(c.useCustom){a(this).css(c.downStateCss);}else{a(this).addClass("down");}}).live("mouseup",function(){if(c.useCustom){a(this).css(c.upStateCss);}else{a(this).removeClass("down");}});};a.fn.mouseDownButton.defaults={useCustom:false,downStateCss:{},upStateCss:{}};a(function(){a(".hasDownState").mouseDownButton();a(".purchase").mouseDownButton({useCustom:true,downStateCss:{"background-position":"-378px 0"},upStateCss:{"background-position":"0 0"}});});})(jQuery);(function(a){a(document).ready(function(){if(Modernizr.input.placeholder){return;}a("input[placeholder]").not(".field").each(function(c){var e=a(this),d=e.attr("placeholder");e.parent().css("position","relative");e.before("<div class='placeholder invisible' style='position:absolute;border:none;text-align:left;background:transparent;'></div>");var b=e.parent().children(".placeholder");b.css("font-size",e.css("font-size"));b.css("width",e.css("width"));b.css("height",e.css("height"));b.css("line-height",e.css("height"));b.css("padding-top",e.css("padding-top"));b.css("padding-left",e.css("padding-left"));b.css("padding-right",e.css("padding-right"));b.css("padding-bottom",e.css("padding-bottom"));b.text(d);if(d!=""&&e.val()==""){b.removeClass("invisible");}e.bind("mousedown focus",function(){b.addClass("invisible");});b.mousedown(function(){b.addClass("invisible");e.focus();});e.blur(function(){if(e.val()==""){b.removeClass("invisible");}else{b.addClass("invisible");}b.text(e.attr("placeholder"));});});});})(jQuery);
if(typeof deconcept=="undefined"){var deconcept=new Object();}if(typeof deconcept.util=="undefined"){deconcept.util=new Object();}if(typeof deconcept.SWFObjectUtil=="undefined"){deconcept.SWFObjectUtil=new Object();}deconcept.SWFObject=function(m,b,n,e,j,k,g,f,d,l){if(!document.getElementById){return;}this.DETECT_KEY=l?l:"detectflash";this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY);this.params=new Object();this.variables=new Object();this.attributes=new Array();if(m){this.setAttribute("swf",m);}if(b){this.setAttribute("id",b);}if(n){this.setAttribute("width",n);}if(e){this.setAttribute("height",e);}if(j){this.setAttribute("version",new deconcept.PlayerVersion(j.toString().split(".")));}this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion();if(!window.opera&&document.all&&this.installedVer.major>7){deconcept.SWFObject.doPrepUnload=true;}if(k){this.addParam("bgcolor",k);}var a=g?g:"high";this.addParam("quality",a);this.setAttribute("useExpressInstall",false);this.setAttribute("doExpressInstall",false);var i=(f)?f:window.location;this.setAttribute("xiRedirectUrl",i);this.setAttribute("redirectUrl","");if(d){this.setAttribute("redirectUrl",d);}};deconcept.SWFObject.prototype={useExpressInstall:function(a){this.xiSWFPath=!a?"expressinstall.swf":a;this.setAttribute("useExpressInstall",true);},setAttribute:function(a,b){this.attributes[a]=b;},getAttribute:function(a){return this.attributes[a];},addParam:function(b,a){this.params[b]=a;},getParams:function(){return this.params;},addVariable:function(b,a){this.variables[b]=a;},getVariable:function(a){return this.variables[a];},getVariables:function(){return this.variables;},getVariablePairs:function(){var c=new Array();var b;var a=this.getVariables();for(b in a){c[c.length]=b+"="+a[b];}return c;},getSWFHTML:function(){var b="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn");this.setAttribute("swf",this.xiSWFPath);}b='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'"';b+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var f=this.getParams();for(var e in f){b+=[e]+'="'+f[e]+'" ';}var d=this.getVariablePairs().join("&");if(d.length>0){b+='flashvars="'+d+'"';}b+="/>";}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX");this.setAttribute("swf",this.xiSWFPath);}b='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'">';b+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var c=this.getParams();for(var e in c){b+='<param name="'+e+'" value="'+c[e]+'" />';}var a=this.getVariablePairs().join("&");if(a.length>0){b+='<param name="flashvars" value="'+a+'" />';}b+="</object>";}return b;},write:function(b){if(this.getAttribute("useExpressInstall")){var a=new deconcept.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(a)&&!this.installedVer.versionIsValid(this.getAttribute("version"))){this.setAttribute("doExpressInstall",true);this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl")));document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title);}}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var c=(typeof b=="string")?document.getElementById(b):b;c.innerHTML=this.getSWFHTML();return true;}else{if(this.getAttribute("redirectUrl")!=""){document.location.replace(this.getAttribute("redirectUrl"));}}return false;}};deconcept.SWFObjectUtil.getPlayerVersion=function(){var f=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var a=navigator.plugins["Shockwave Flash"];if(a&&a.description){f=new deconcept.PlayerVersion(a.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."));}}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var b=1;var c=3;while(b){try{c++;b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+c);f=new deconcept.PlayerVersion([c,0,0]);}catch(d){b=null;}}}else{try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");}catch(d){try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");f=new deconcept.PlayerVersion([6,0,21]);b.AllowScriptAccess="always";}catch(d){if(f.major==6){return f;}}try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}catch(d){}}if(b!=null){f=new deconcept.PlayerVersion(b.GetVariable("$version").split(" ")[1].split(","));}}}return f;};deconcept.PlayerVersion=function(a){this.major=a[0]!=null?parseInt(a[0]):0;this.minor=a[1]!=null?parseInt(a[1]):0;this.rev=a[2]!=null?parseInt(a[2]):0;};deconcept.PlayerVersion.prototype.versionIsValid=function(a){if(this.major<a.major){return false;}if(this.major>a.major){return true;}if(this.minor<a.minor){return false;}if(this.minor>a.minor){return true;}if(this.rev<a.rev){return false;}return true;};deconcept.util={getRequestParameter:function(c){var d=document.location.search||document.location.hash;if(c==null){return d;}if(d){var b=d.substring(1).split("&");for(var a=0;a<b.length;a++){if(b[a].substring(0,b[a].indexOf("="))==c){return b[a].substring((b[a].indexOf("=")+1));}}}return"";}};deconcept.SWFObjectUtil.cleanupSWFs=function(){var b=document.getElementsByTagName("OBJECT");for(var c=b.length-1;c>=0;c--){b[c].style.display="none";for(var a in b[c]){if(typeof b[c][a]=="function"){b[c][a]=function(){};}}}};if(deconcept.SWFObject.doPrepUnload){if(!deconcept.unloadSet){deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};window.attachEvent("onunload",deconcept.SWFObjectUtil.cleanupSWFs);};window.attachEvent("onbeforeunload",deconcept.SWFObjectUtil.prepUnload);deconcept.unloadSet=true;}}if(!document.getElementById&&document.all){document.getElementById=function(a){return document.all[a];};}var getQueryParamValue=deconcept.util.getRequestParameter;var FlashObject=deconcept.SWFObject;var SWFObject=deconcept.SWFObject;
if(typeof fitbit=="undefined"){var fitbit={};}fitbit.namespace=function(){var b=arguments,g=null,e,c,f;for(e=0;e<b.length;e=e+1){f=b[e].split(".");g=fitbit;for(c=(f[0]=="fitbit")?1:0;c<f.length;c=c+1){g[f[c]]=g[f[c]]||{};g=g[f[c]];}}return g;};
var JSON;if(!JSON){JSON={};}(function(){function f(n){return n<10?"0"+n:n;}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key);}if(typeof rep==="function"){value=rep.call(holder,key,value);}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null";}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null";}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v;}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v;}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" ";}}else{if(typeof space==="string"){indent=space;}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify");}return str("",{"":value});};}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return reviver.call(holder,key,value);}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);});}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j;}throw new SyntaxError("JSON.parse");};}}());
(function(d){d.tools=d.tools||{version:"@VERSION"};d.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,position:["top","center"],offset:[0,0],relative:false,cancelDefault:true,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(e,g,f){c[e]=[g,f];}};var c={toggle:[function(e){var f=this.getConf(),g=this.getTip(),h=f.opacity;if(h<1){g.css({opacity:h});}g.show();e.call();},function(e){this.getTip().hide();e.call();}],fade:[function(e){var f=this.getConf();this.getTip().fadeTo(f.fadeInSpeed,f.opacity,e);},function(e){this.getTip().fadeOut(this.getConf().fadeOutSpeed,e);}]};function b(g,i,f){var k=f.relative?g.position().top:g.offset().top,j=f.relative?g.position().left:g.offset().left,l=f.position[0];k-=i.outerHeight()-f.offset[0];j+=g.outerWidth()+f.offset[1];if(/iPad/i.test(navigator.userAgent)){k-=d(window).scrollTop();}var e=i.outerHeight()+g.outerHeight();if(l=="center"){k+=e/2;}if(l=="bottom"){k+=e;}l=f.position[1];var h=i.outerWidth()+g.outerWidth();if(l=="center"){j-=h/2;}if(l=="left"){j-=h;}return{top:k,left:j};}function a(h,j){var r=this,g=h.add(r),o,f=0,q=0,m=h.attr("title"),i=h.attr("data-tooltip"),s=c[j.effect],n,l=h.is(":input"),e=l&&h.is(":checkbox, :radio, select, :button, :submit"),k=h.attr("type"),p=j.events[k]||j.events[l?(e?"widget":"input"):"def"];if(!s){throw'Nonexistent effect "'+j.effect+'"';}p=p.split(/,\s*/);if(p.length!=2){throw"Tooltip: bad events configuration for "+k;}h.bind(p[0],function(t){clearTimeout(f);if(j.predelay){q=setTimeout(function(){r.show(t);},j.predelay);}else{r.show(t);}}).bind(p[1],function(t){clearTimeout(q);if(j.delay){f=setTimeout(function(){r.hide(t);},j.delay);}else{r.hide(t);}});if(m&&j.cancelDefault){h.removeAttr("title");h.data("title",m);}d.extend(r,{show:function(u){if(!o){if(i){o=d(i);}else{if(j.tip){o=d(j.tip).eq(0);}else{if(m){o=d(j.layout).addClass(j.tipClass).appendTo(document.body).hide().append(m);}else{o=h.next();if(!o.length){o=h.parent().next();}}}}if(!o.length){throw"Cannot find tooltip for "+h;}}if(r.isShown()){return r;}o.stop(true,true);var v=b(h,o,j);if(j.tip){o.html(h.data("title"));}u=u||d.Event();u.type="onBeforeShow";g.trigger(u,[v]);if(u.isDefaultPrevented()){return r;}v=b(h,o,j);o.css({position:"absolute",top:v.top,left:v.left});n=true;s[0].call(r,function(){u.type="onShow";n="full";g.trigger(u);});var t=j.events.tooltip.split(/,\s*/);if(!o.data("__set")){o.bind(t[0],function(){clearTimeout(f);clearTimeout(q);});if(t[1]&&!h.is("input:not(:checkbox, :radio), textarea")){o.bind(t[1],function(w){if(w.relatedTarget!=h[0]){h.trigger(p[1].split(" ")[0]);}});}o.data("__set",true);}return r;},hide:function(t){if(!o||!r.isShown()){return r;}t=t||d.Event();t.type="onBeforeHide";g.trigger(t);if(t.isDefaultPrevented()){return;}n=false;c[j.effect][1].call(r,function(){t.type="onHide";g.trigger(t);});return r;},isShown:function(t){return t?n=="full":n;},getConf:function(){return j;},getTip:function(){return o;},getTrigger:function(){return h;}});d.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(u,t){if(d.isFunction(j[t])){d(r).bind(t,j[t]);}r[t]=function(v){if(v){d(r).bind(t,v);}return r;};});}d.fn.tooltip=function(e){var f=this.data("tooltip");if(f){return f;}e=d.extend(true,{},d.tools.tooltip.conf,e);if(typeof e.position=="string"){e.position=e.position.split(/,?\s/);}this.each(function(){f=new a(d(this),e);d(this).data("tooltip",f);});return e.api?f:this;};})(jQuery);
(function(b){var a=b.tools.tooltip;b.extend(a.conf,{direction:"up",bounce:false,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!b.browser.msie});var c={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};a.addEffect("slide",function(d){var f=this.getConf(),g=this.getTip(),h=f.slideFade?{opacity:f.opacity}:{},e=c[f.direction]||c.up;h[e[1]]=e[0]+"="+f.slideOffset;if(f.slideFade){g.css({opacity:0});}g.show().animate(h,f.slideInSpeed,d);},function(e){var g=this.getConf(),i=g.slideOffset,h=g.slideFade?{opacity:0}:{},f=c[g.direction]||c.up;var d=""+f[0];if(g.bounce){d=d=="+"?"-":"+";}h[f[1]]=d+"="+i;this.getTip().animate(h,g.slideOutSpeed,function(){b(this).hide();e.call();});});})(jQuery);
(function(d){d.tools=d.tools||{version:"@VERSION"};d.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",rotate:false,history:false},addEffect:function(e,f){c[e]=f;}};var c={"default":function(f,e){this.getPanes().hide().eq(f).show();e.call();},fade:function(g,e){var f=this.getConf(),j=f.fadeOutSpeed,h=this.getPanes();if(j){h.fadeOut(j);}else{h.hide();}h.eq(g).fadeIn(f.fadeInSpeed,e);},slide:function(f,e){this.getPanes().slideUp(200);this.getPanes().eq(f).slideDown(400,e);},ajax:function(f,e){this.getPanes().eq(0).load(this.getTabs().eq(f).attr("href"),e);}};var b;d.tools.tabs.addEffect("horizontal",function(f,e){if(!b){b=this.getPanes().eq(0).width();}this.getCurrentPane().animate({width:0},function(){d(this).hide();});this.getPanes().eq(f).animate({width:b},function(){d(this).show();e.call();});});function a(e,j,h){var f=this,g=e.add(this),i=e.find(h.tabs),k=j.jquery?j:e.children(j),l;if(!i.length){i=e.children();}if(!k.length){k=e.parent().find(j);}if(!k.length){k=d(j);}d.extend(this,{click:function(m,p){var n=i.eq(m);if(typeof m=="string"&&m.replace("#","")){n=i.filter("[href*="+m.replace("#","")+"]");m=Math.max(i.index(n),0);}if(h.rotate){var o=i.length-1;if(m<0){return f.click(o,p);}if(m>o){return f.click(0,p);}}if(!n.length){if(l>=0){return f;}m=h.initialIndex;n=i.eq(m);}if(m===l){return f;}p=p||d.Event();p.type="onBeforeClick";g.trigger(p,[m]);if(p.isDefaultPrevented()){return;}c[h.effect].call(f,m,function(){p.type="onClick";g.trigger(p,[m]);});l=m;i.removeClass(h.current);n.addClass(h.current);return f;},getConf:function(){return h;},getTabs:function(){return i;},getPanes:function(){return k;},getCurrentPane:function(){return k.eq(l);},getCurrentTab:function(){return i.eq(l);},getIndex:function(){return l;},next:function(){return f.click(l+1);},prev:function(){return f.click(l-1);},destroy:function(){i.unbind(h.event).removeClass(h.current);k.find("a[href^=#]").unbind("click.T");return f;}});d.each("onBeforeClick,onClick".split(","),function(n,m){if(d.isFunction(h[m])){d(f).bind(m,h[m]);}f[m]=function(o){if(o){d(f).bind(m,o);}return f;};});if(h.history&&d.fn.history){d.tools.history.init(i);h.event="history";}i.each(function(m){d(this).bind(h.event,function(n){f.click(m,n);return n.preventDefault();});});k.find("a[href^=#]").bind("click.T",function(m){f.click(d(this).attr("href"),m);});if(location.hash&&h.tabs=="a"&&e.find("[href="+location.hash+"]").length){f.click(location.hash);}else{if(h.initialIndex===0||h.initialIndex>0){f.click(h.initialIndex);}}}d.fn.tabs=function(f,e){var g=this.data("tabs");if(g){g.destroy();this.removeData("tabs");}if(d.isFunction(e)){e={onBeforeClick:e};}e=d.extend({},d.tools.tabs.conf,e);this.each(function(){g=new a(d(this),f,e);d(this).data("tabs",g);});return e.api?g:this;};})(jQuery);
(function(b){b.tools=b.tools||{version:"@VERSION"};b.tools.scrollable={conf:{activeClass:"active",circular:false,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:null,items:".items",keyboard:true,mousewheel:false,next:".next",prev:".prev",speed:400,vertical:false,touch:true,wheelSpeed:0}};function d(i,g){var f=parseInt(i.css(g),10);if(f){return f;}var h=i[0].currentStyle;return h&&h.width&&parseInt(h.width,10);}function e(f,h){var g=b(h);return g.length<2?g:f.parent().find(h);}var c;function a(p,o){var q=this,g=p.add(q),f=p.children(),m=0,i=o.vertical;if(!c){c=q;}if(f.length>1){f=b(o.items,p);}b.extend(q,{getConf:function(){return o;},getIndex:function(){return m;},getSize:function(){return q.getItems().size();},getNaviButtons:function(){return h.add(k);},getRoot:function(){return p;},getItemWrap:function(){return f;},getItems:function(){return f.children(o.item).not("."+o.clonedClass);},move:function(s,r){return q.seekTo(m+s,r);},next:function(r){return q.move(1,r);},prev:function(r){return q.move(-1,r);},begin:function(r){return q.seekTo(0,r);},end:function(r){return q.seekTo(q.getSize()-1,r);},focus:function(){c=q;return q;},addItem:function(r){r=b(r);if(!o.circular){f.append(r);}else{f.children("."+o.clonedClass+":last").before(r);f.children("."+o.clonedClass+":first").replaceWith(r.clone().addClass(o.clonedClass));}g.trigger("onAddItem",[r]);return q;},seekTo:function(r,w,t){if(!r.jquery){r*=1;}if(o.circular&&r===0&&m==-1&&w!==0){return q;}if(!o.circular&&r<0||r>q.getSize()||r<-1){return q;}var u=r;if(r.jquery){r=q.getItems().index(r);}else{u=q.getItems().eq(r);}var v=b.Event("onBeforeSeek");if(!t){g.trigger(v,[r,w]);if(v.isDefaultPrevented()||!u.length){return q;}}var s=i?{top:-u.position().top}:{left:-u.position().left};m=r;c=q;if(w===undefined){w=o.speed;}f.animate(s,w,o.easing,t||function(){g.trigger("onSeek",[r]);});return q;}});b.each(["onBeforeSeek","onSeek","onAddItem"],function(s,r){if(b.isFunction(o[r])){b(q).bind(r,o[r]);}q[r]=function(t){if(t){b(q).bind(r,t);}return q;};});if(o.circular){var n=q.getItems().slice(-1).clone().prependTo(f),l=q.getItems().eq(1).clone().appendTo(f);n.add(l).addClass(o.clonedClass);q.onBeforeSeek(function(t,r,s){if(t.isDefaultPrevented()){return;}if(r==-1){q.seekTo(n,s,function(){q.end(0);});return t.preventDefault();}else{if(r==q.getSize()){q.seekTo(l,s,function(){q.begin(0);});}}});q.seekTo(0,0,function(){});}var h=e(p,o.prev).click(function(){q.prev();}),k=e(p,o.next).click(function(){q.next();});if(!o.circular&&q.getSize()>1){q.onBeforeSeek(function(s,r){setTimeout(function(){if(!s.isDefaultPrevented()){h.toggleClass(o.disabledClass,r<=0);k.toggleClass(o.disabledClass,r>=q.getSize()-1);}},1);});if(!o.initialIndex){h.addClass(o.disabledClass);}}if(o.mousewheel&&b.fn.mousewheel){p.mousewheel(function(r,s){if(o.mousewheel){q.move(s<0?1:-1,o.wheelSpeed||50);return false;}});}if(o.touch){var j={};f[0].ontouchstart=function(s){var r=s.touches[0];j.x=r.clientX;j.y=r.clientY;};f[0].ontouchmove=function(v){if(v.touches.length==1&&!f.is(":animated")){var u=v.touches[0],s=j.x-u.clientX,r=j.y-u.clientY;q[i&&r>0||!i&&s>0?"next":"prev"]();v.preventDefault();}};}if(o.keyboard){b(document).bind("keydown.scrollable",function(r){if(!o.keyboard||r.altKey||r.ctrlKey||b(r.target).is(":input")){return;}if(o.keyboard!="static"&&c!=q){return;}var s=r.keyCode;if(i&&(s==38||s==40)){q.move(s==38?-1:1);return r.preventDefault();}if(!i&&(s==37||s==39)){q.move(s==37?-1:1);return r.preventDefault();}});}if(o.initialIndex){q.seekTo(o.initialIndex,0,function(){});}}b.fn.scrollable=function(f){var g=this.data("scrollable");if(g){return g;}f=b.extend({},b.tools.scrollable.conf,f);this.each(function(){g=new a(b(this),f);b(this).data("scrollable",g);});return f.api?g:this;};})(jQuery);
(function(b){var a=b.tools.scrollable;a.navigator={conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:false,idPrefix:null,history:false}};function c(d,f){var e=b(f);return e.length<2?e:d.parent().find(f);}b.fn.navigator=function(e){if(typeof e=="string"){e={navi:e};}e=b.extend({},a.navigator.conf,e);var d;this.each(function(){var g=b(this).data("scrollable"),k=e.navi.jquery?e.navi:c(g.getRoot(),e.navi),j=g.getNaviButtons(),n=e.activeClass,h=e.history&&b.fn.history;if(g){d=g;}g.getNaviButtons=function(){return j.add(k);};function m(p,o,q){g.seekTo(o);if(h){if(location.hash){location.hash=p.attr("href").replace("#","");}}else{return q.preventDefault();}}function f(){return k.find(e.naviItem||"> *");}function l(o){var p=b("<"+(e.naviItem||"a")+"/>").click(function(q){m(b(this),o,q);}).attr("href","#"+o);if(o===0){p.addClass(n);}if(e.indexed){p.text(o+1);}if(e.idPrefix){p.attr("id",e.idPrefix+o);}return p.appendTo(k);}if(f().length){f().each(function(o){b(this).click(function(p){m(b(this),o,p);});});}else{b.each(g.getItems(),function(o){l(o);});}g.onBeforeSeek(function(p,o){setTimeout(function(){if(!p.isDefaultPrevented()){var q=f().eq(o);if(!p.isDefaultPrevented()&&q.length){f().removeClass(n).eq(o).addClass(n);}}},1);});function i(o,q){var p=f().eq(q.replace("#",""));if(!p.length){p=f().filter("[href="+q+"]");}p.click();}g.onAddItem(function(p,o){o=l(g.getItems().index(o));if(h){o.history(i);}});if(h){f().history(i);}});return e.api?d:this;};})(jQuery);
(function(c){c.tools=c.tools||{version:"@VERSION"};c.tools.overlay={addEffect:function(e,f,g){b[e]=[f,g];},conf:{close:null,closeOnClick:true,closeOnEsc:true,closeSpeed:"fast",effect:"default",fixed:!c.browser.msie||c.browser.version>6,left:"center",load:false,mask:null,oneInstance:true,speed:"normal",target:null,top:"10%"}};var d=[],b={};c.tools.overlay.addEffect("default",function(h,g){var f=this.getConf(),e=c(window);if(!f.fixed){h.top+=e.scrollTop();h.left+=e.scrollLeft();}h.position=f.fixed?"fixed":"absolute";this.getOverlay().css(h).fadeIn(f.speed,g);},function(e){this.getOverlay().fadeOut(this.getConf().closeSpeed,e);});function a(h,m){var o=this,f=h.add(o),n=c(window),k,j,i,e=c.tools.expose&&(m.mask||m.expose),l=Math.random().toString().slice(10);if(e){if(typeof e=="string"){e={color:e};}e.closeOnClick=e.closeOnEsc=false;}var g=m.target||h.attr("rel");j=g?c(g):null||h;if(!j.length){throw"Could not find Overlay: "+g;}if(h&&h.index(j)==-1){h.click(function(p){o.load(p);return p.preventDefault();});}c.extend(o,{load:function(u){if(o.isOpened()){return o;}var r=b[m.effect];if(!r){throw'Overlay: cannot find effect : "'+m.effect+'"';}if(m.oneInstance){c.each(d,function(){this.close(u);});}u=u||c.Event();u.type="onBeforeLoad";f.trigger(u);if(u.isDefaultPrevented()){return o;}i=true;if(e){c(j).expose(e);}var t=m.top,s=m.left,p=j.outerWidth(true),q=j.outerHeight(true);if(typeof t=="string"){t=t=="center"?Math.max((n.height()-q)/2,0):parseInt(t,10)/100*n.height();}if(s=="center"){s=Math.max((n.width()-p)/2,0);}r[0].call(o,{top:t,left:s},function(){if(i){u.type="onLoad";f.trigger(u);}});if(e&&m.closeOnClick){c.mask.getMask().one("click",o.close);}if(m.closeOnClick){c(document).bind("click."+l,function(v){if(!c(v.target).parents(j).length){o.close(v);}});}if(m.closeOnEsc){c(document).bind("keydown."+l,function(v){if(v.keyCode==27){o.close(v);}});}return o;},close:function(p){if(!o.isOpened()){return o;}p=p||c.Event();p.type="onBeforeClose";f.trigger(p);if(p.isDefaultPrevented()){return;}i=false;b[m.effect][1].call(o,function(){p.type="onClose";f.trigger(p);});c(document).unbind("click."+l).unbind("keydown."+l);if(e){c.mask.close();}return o;},getOverlay:function(){return j;},getTrigger:function(){return h;},getClosers:function(){return k;},isOpened:function(){return i;},getConf:function(){return m;}});c.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(q,p){if(c.isFunction(m[p])){c(o).bind(p,m[p]);}o[p]=function(r){if(r){c(o).bind(p,r);}return o;};});k=j.find(m.close||".close");if(!k.length&&!m.close){k=c('<a class="close"></a>');j.prepend(k);}k.click(function(p){o.close(p);});if(m.load){o.load();}}c.fn.overlay=function(e){var f=this.data("overlay");if(f){return f;}if(c.isFunction(e)){e={onBeforeLoad:e};}e=c.extend(true,{},c.tools.overlay.conf,e);this.each(function(){f=new a(c(this),e);d.push(f);c(this).data("overlay",f);});return e.api?f:this;};})(jQuery);
(function(b){b.tools=b.tools||{version:"@VERSION"};var e;e=b.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:true,closeOnEsc:true,zIndex:9998,opacity:0.8,startOpacity:0,color:"#fff",onLoad:null,onClose:null}};function f(){if(b.browser.msie){var k=b(document).height(),j=b(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,k-j<20?j:k];}return[b(document).width(),b(document).height()];}function h(j){if(j){return j.call(b.mask);}}var i,d,c,a,g;b.mask={load:function(j,l){if(c){return this;}if(typeof j=="string"){j={color:j};}j=j||a;a=j=b.extend(b.extend({},e.conf),j);i=b("#"+j.maskId);if(!i.length){i=b("<div/>").attr("id",j.maskId);b("body").append(i);}var k=f();i.css({position:"absolute",top:0,left:0,width:k[0],height:k[1],display:"none",opacity:j.startOpacity,zIndex:j.zIndex});if(j.color){i.css("backgroundColor",j.color);}if(h(j.onBeforeLoad)===false){return this;}if(j.closeOnEsc){b(document).bind("keydown.mask",function(m){if(m.keyCode==27){b.mask.close(m);}});}if(j.closeOnClick){i.bind("click.mask",function(m){b.mask.close(m);});}b(window).bind("resize.mask",function(){b.mask.fit();});if(l&&l.length){g=l.eq(0).css("zIndex");b.each(l,function(){var m=b(this);if(!/relative|absolute|fixed/i.test(m.css("position"))){m.css("position","relative");}});d=l.css({zIndex:Math.max(j.zIndex+1,g=="auto"?0:g)});}i.css({display:"block"}).fadeTo(j.loadSpeed,j.opacity,function(){b.mask.fit();h(j.onLoad);c="full";});c=true;return this;},close:function(){if(c){if(h(a.onBeforeClose)===false){return this;}i.fadeOut(a.closeSpeed,function(){h(a.onClose);if(d){d.css({zIndex:g});}c=false;});b(document).unbind("keydown.mask");i.unbind("click.mask");b(window).unbind("resize.mask");}return this;},fit:function(){if(c){var j=f();i.css({width:j[0],height:j[1]});}},getMask:function(){return i;},isLoaded:function(j){return j?c=="full":c;},getConf:function(){return a;},getExposed:function(){return d;}};b.fn.mask=function(j){b.mask.load(j);return this;};b.fn.expose=function(j){b.mask.load(j,this);return this;};})(jQuery);
(function(a){function b(d,e){if(d&&e){b.locale[d]=e;}d=d||"en";e=e||b.locale[d];if(!e){throw new Error("Plural Function not found for locale: "+d);}this.pluralFunc=e;this.locale=d;}b.locale={"en":function(d){if(d===1){return"one";}return"other";},"en_us":function(){return this.en.apply(this,arguments);}};b.SafeString=function(d){this.string=d;};b.SafeString.prototype.toString=function(){return this.string.toString();};b.Utils={numSub:function(d,e,f){return d.replace(/^#|[^\\]#/g,function(g){var h=g&&g.length===2?g.charAt(0):"";return h+'" + (function(){ var x = '+e+';\nif( isNaN(x) ){\nthrow new Error("MessageFormat: `"+lastkey_'+f+'+"` isnt a number.");\n}\nreturn x;\n})() + "';});},escapeExpression:function(f){var g={"\n":"\\n"},h=/(\n)|[\n]/g,e=/[\n]/,d=function(i){return g[i]||"&amp;";};if(f instanceof b.SafeString){return f.toString();}else{if(f===null||f===false){return"";}}if(!e.test(f)){return f;}return f.replace(h,d);}};var c=(function(){var d={parse:function(f,j){var e={"_":C,"char":D,"chars":K,"digits":t,"elementFormat":l,"hexDigit":i,"id":w,"messageFormatElement":s,"messageFormatPattern":n,"messageFormatPatternRight":A,"offsetPattern":M,"pluralFormatPattern":v,"pluralForms":z,"pluralStyle":F,"selectFormatPattern":B,"selectStyle":L,"start":r,"string":H,"stringKey":E,"whitespace":h};if(j!==undefined){if(e[j]===undefined){throw new Error("Invalid rule name: "+o(j)+".");}}else{j="start";}var y=0;var g=true;var I=0;var k=[];var m={};function N(P,T,R){var O=P;var S=R-P.length;for(var Q=0;Q<S;Q++){O=T+O;}return O;}function u(Q){var P=Q.charCodeAt(0);if(P<=255){var O="x";var R=2;}else{var O="u";var R=4;}return"\\"+O+N(P.toString(16).toUpperCase(),"0",R);}function o(O){return'"'+O.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/[\x80-\uFFFF]/g,u)+'"';}function p(O){if(y<I){return;}if(y>I){I=y;k=[];}k.push(O);}function r(){var T="start@"+y;var Q=m[T];if(Q){y=Q.nextPos;return Q.result;}var S=y;var P=n();var O=P!==null?(function(U){return{type:"program",program:U};})(P):null;if(O!==null){var R=O;}else{var R=null;y=S;}m[T]={nextPos:y,result:R};return R;}function n(){var V="messageFormatPattern@"+y;var P=m[V];if(P){y=P.nextPos;return P.result;}var X=y;var W=y;var R=H();if(R!==null){var Q=[];var O=A();while(O!==null){Q.push(O);var O=A();}if(Q!==null){var T=[R,Q];}else{var T=null;y=W;}}else{var T=null;y=W;}var S=T!==null?(function(ab,Y){var Z=[];if(ab&&ab.val){Z.push(ab);}for(var aa in Y){if(Y.hasOwnProperty(aa)){Z.push(Y[aa]);}}return{type:"messageFormatPattern",statements:Z};})(T[0],T[1]):null;if(S!==null){var U=S;}else{var U=null;y=X;}m[V]={nextPos:y,result:U};return U;}function A(){var X="messageFormatPatternRight@"+y;var R=m[X];if(R){y=R.nextPos;return R.result;}var Z=y;var Y=y;if(f.substr(y,1)==="{"){var T="{";y+=1;}else{var T=null;if(g){p('"{"');}}if(T!==null){var S=C();if(S!==null){var Q=s();if(Q!==null){var P=C();if(P!==null){if(f.substr(y,1)==="}"){var O="}";y+=1;}else{var O=null;if(g){p('"}"');}}if(O!==null){var aa=H();if(aa!==null){var V=[T,S,Q,P,O,aa];}else{var V=null;y=Y;}}else{var V=null;y=Y;}}else{var V=null;y=Y;}}else{var V=null;y=Y;}}else{var V=null;y=Y;}}else{var V=null;y=Y;}var U=V!==null?(function(ad,ac){var ab=[];if(ad){ab.push(ad);}if(ac&&ac.val){ab.push(ac);}return{type:"messageFormatPatternRight",statements:ab};})(V[2],V[5]):null;if(U!==null){var W=U;}else{var W=null;y=Z;}m[X]={nextPos:y,result:W};return W;}function s(){var X="messageFormatElement@"+y;var S=m[X];if(S){y=S.nextPos;return S.result;}var aa=y;var Z=y;var T=w();if(T!==null){var Y=y;if(f.substr(y,1)===","){var P=",";y+=1;}else{var P=null;if(g){p('","');}}if(P!==null){var O=l();if(O!==null){var Q=[P,O];}else{var Q=null;y=Y;}}else{var Q=null;y=Y;}var R=Q!==null?Q:"";if(R!==null){var V=[T,R];}else{var V=null;y=Z;}}else{var V=null;y=Z;}var U=V!==null?(function(ab,ad){var ac={type:"messageFormatElement",argumentIndex:ab};if(ad&&ad.length){ac.elementFormat=ad[1];}else{ac.output=true;}return ac;})(V[0],V[1]):null;if(U!==null){var W=U;}else{var W=null;y=aa;}m[X]={nextPos:y,result:W};return W;}function l(){var W="elementFormat@"+y;var ah=m[W];if(ah){y=ah.nextPos;return ah.result;}var S=y;var Q=y;var ac=C();if(ac!==null){if(f.substr(y,6)==="plural"){var ab="plural";y+=6;}else{var ab=null;if(g){p('"plural"');}}if(ab!==null){var aa=C();if(aa!==null){if(f.substr(y,1)===","){var Z=",";y+=1;}else{var Z=null;if(g){p('","');}}if(Z!==null){var Y=C();if(Y!==null){var X=F();if(X!==null){var ao=C();if(ao!==null){var ae=[ac,ab,aa,Z,Y,X,ao];}else{var ae=null;y=Q;}}else{var ae=null;y=Q;}}else{var ae=null;y=Q;}}else{var ae=null;y=Q;}}else{var ae=null;y=Q;}}else{var ae=null;y=Q;}}else{var ae=null;y=Q;}var ad=ae!==null?(function(ap,aq){return{type:"elementFormat",key:ap,val:aq.val};})(ae[1],ae[5]):null;if(ad!==null){var af=ad;}else{var af=null;y=S;}if(af!==null){var U=af;}else{var V=y;var T=y;var an=C();if(an!==null){if(f.substr(y,6)==="select"){var am="select";y+=6;}else{var am=null;if(g){p('"select"');}}if(am!==null){var al=C();if(al!==null){if(f.substr(y,1)===","){var ak=",";y+=1;}else{var ak=null;if(g){p('","');}}if(ak!==null){var aj=C();if(aj!==null){var ai=L();if(ai!==null){var ag=C();if(ag!==null){var P=[an,am,al,ak,aj,ai,ag];}else{var P=null;y=T;}}else{var P=null;y=T;}}else{var P=null;y=T;}}else{var P=null;y=T;}}else{var P=null;y=T;}}else{var P=null;y=T;}}else{var P=null;y=T;}var O=P!==null?(function(ap,aq){return{type:"elementFormat",key:ap,val:aq.val};})(P[1],P[5]):null;if(O!==null){var R=O;}else{var R=null;y=V;}if(R!==null){var U=R;}else{var U=null;}}m[W]={nextPos:y,result:U};return U;}function F(){var T="pluralStyle@"+y;var Q=m[T];if(Q){y=Q.nextPos;return Q.result;}var S=y;var P=v();var O=P!==null?(function(U){return{type:"pluralStyle",val:U};})(P):null;if(O!==null){var R=O;}else{var R=null;y=S;}m[T]={nextPos:y,result:R};return R;}function L(){var T="selectStyle@"+y;var Q=m[T];if(Q){y=Q.nextPos;return Q.result;}var S=y;var P=B();var O=P!==null?(function(U){return{type:"selectStyle",val:U};})(P):null;if(O!==null){var R=O;}else{var R=null;y=S;}m[T]={nextPos:y,result:R};return R;}function v(){var W="pluralFormatPattern@"+y;var Q=m[W];if(Q){y=Q.nextPos;return Q.result;}var Y=y;var X=y;var O=M();var S=O!==null?O:"";if(S!==null){var R=[];var P=z();while(P!==null){R.push(P);var P=z();}if(R!==null){var U=[S,R];}else{var U=null;y=X;}}else{var U=null;y=X;}var T=U!==null?(function(ab,Z){var aa={type:"pluralFormatPattern",pluralForms:Z};if(ab){aa.offset=ab;}else{aa.offset=0;}return aa;})(U[0],U[1]):null;if(T!==null){var V=T;}else{var V=null;y=Y;}m[W]={nextPos:y,result:V};return V;}function M(){var X="offsetPattern@"+y;var R=m[X];if(R){y=R.nextPos;return R.result;}var Z=y;var Y=y;var T=C();if(T!==null){if(f.substr(y,6)==="offset"){var S="offset";y+=6;}else{var S=null;if(g){p('"offset"');}}if(S!==null){var Q=C();if(Q!==null){if(f.substr(y,1)===":"){var P=":";y+=1;}else{var P=null;if(g){p('":"');}}if(P!==null){var O=C();if(O!==null){var ab=t();if(ab!==null){var aa=C();if(aa!==null){var V=[T,S,Q,P,O,ab,aa];}else{var V=null;y=Y;}}else{var V=null;y=Y;}}else{var V=null;y=Y;}}else{var V=null;y=Y;}}else{var V=null;y=Y;}}else{var V=null;y=Y;}}else{var V=null;y=Y;}var U=V!==null?(function(ac){return ac;})(V[5]):null;if(U!==null){var W=U;}else{var W=null;y=Z;}m[X]={nextPos:y,result:W};return W;}function B(){var U="selectFormatPattern@"+y;var R=m[U];if(R){y=R.nextPos;return R.result;}var T=y;var Q=[];var O=z();while(O!==null){Q.push(O);var O=z();}var P=Q!==null?(function(V){return{type:"selectFormatPattern",pluralForms:V};})(Q):null;if(P!==null){var S=P;}else{var S=null;y=T;}m[U]={nextPos:y,result:S};return S;}function z(){var Y="pluralForms@"+y;var R=m[Y];if(R){y=R.nextPos;return R.result;}var aa=y;var Z=y;var T=C();if(T!==null){var S=E();if(S!==null){var Q=C();if(Q!==null){if(f.substr(y,1)==="{"){var P="{";y+=1;}else{var P=null;if(g){p('"{"');}}if(P!==null){var O=C();if(O!==null){var ac=n();if(ac!==null){var ab=C();if(ab!==null){if(f.substr(y,1)==="}"){var V="}";y+=1;}else{var V=null;if(g){p('"}"');}}if(V!==null){var W=[T,S,Q,P,O,ac,ab,V];}else{var W=null;y=Z;}}else{var W=null;y=Z;}}else{var W=null;y=Z;}}else{var W=null;y=Z;}}else{var W=null;y=Z;}}else{var W=null;y=Z;}}else{var W=null;y=Z;}}else{var W=null;y=Z;}var U=W!==null?(function(ad,ae){return{type:"pluralForms",key:ad,val:ae};})(W[1],W[5]):null;if(U!==null){var X=U;}else{var X=null;y=aa;}m[Y]={nextPos:y,result:X};return X;}function E(){var X="stringKey@"+y;var S=m[X];if(S){y=S.nextPos;return S.result;}var Y=y;var O=w();var ab=O!==null?(function(ac){return ac;})(O):null;if(ab!==null){var P=ab;}else{var P=null;y=Y;}if(P!==null){var W=P;}else{var aa=y;var Z=y;if(f.substr(y,1)==="="){var R="=";y+=1;}else{var R=null;if(g){p('"="');}}if(R!==null){var Q=t();if(Q!==null){var U=[R,Q];}else{var U=null;y=Z;}}else{var U=null;y=Z;}var T=U!==null?(function(ac){return ac;})(U[1]):null;if(T!==null){var V=T;}else{var V=null;y=aa;}if(V!==null){var W=V;}else{var W=null;}}m[X]={nextPos:y,result:W};return W;}function H(){var X="string@"+y;var R=m[X];if(R){y=R.nextPos;return R.result;}var aa=y;var Z=y;var T=C();if(T!==null){var S=[];var Y=y;var P=C();if(P!==null){var O=K();if(O!==null){var ab=C();if(ab!==null){var Q=[P,O,ab];}else{var Q=null;y=Y;}}else{var Q=null;y=Y;}}else{var Q=null;y=Y;}while(Q!==null){S.push(Q);var Y=y;var P=C();if(P!==null){var O=K();if(O!==null){var ab=C();if(ab!==null){var Q=[P,O,ab];}else{var Q=null;y=Y;}}else{var Q=null;y=Y;}}else{var Q=null;y=Y;}}if(S!==null){var V=[T,S];}else{var V=null;y=Z;}}else{var V=null;y=Z;}var U=V!==null?(function(ac,ag){var af=[];for(var ae=0;ae<ag.length;++ae){for(var ad=0;ad<ag[ae].length;++ad){af.push(ag[ae][ad]);}}return{type:"string",val:ac+af.join("")};})(V[0],V[1]):null;if(U!==null){var W=U;}else{var W=null;y=aa;}m[X]={nextPos:y,result:W};return W;}function w(){var X="id@"+y;var R=m[X];if(R){y=R.nextPos;return R.result;}var Z=y;var Y=y;var T=C();if(T!==null){if(f.substr(y).match(/^[a-zA-Z$_]/)!==null){var S=f.charAt(y);y++;}else{var S=null;if(g){p("[a-zA-Z$_]");}}if(S!==null){var Q=[];if(f.substr(y).match(/^[^ 	\n\r,.+={}]/)!==null){var O=f.charAt(y);y++;}else{var O=null;if(g){p("[^ 	\\n\\r,.+={}]");}}while(O!==null){Q.push(O);if(f.substr(y).match(/^[^ 	\n\r,.+={}]/)!==null){var O=f.charAt(y);y++;}else{var O=null;if(g){p("[^ 	\\n\\r,.+={}]");}}}if(Q!==null){var P=C();if(P!==null){var V=[T,S,Q,P];}else{var V=null;y=Y;}}else{var V=null;y=Y;}}else{var V=null;y=Y;}}else{var V=null;y=Y;}var U=V!==null?(function(ab,aa){return ab+(aa?aa.join(""):"");})(V[1],V[2]):null;if(U!==null){var W=U;}else{var W=null;y=Z;}m[X]={nextPos:y,result:W};return W;}function K(){var U="chars@"+y;var R=m[U];if(R){y=R.nextPos;return R.result;}var T=y;var O=D();if(O!==null){var Q=[];while(O!==null){Q.push(O);var O=D();}}else{var Q=null;}var P=Q!==null?(function(V){return V.join("");})(Q):null;if(P!==null){var S=P;}else{var S=null;y=T;}m[U]={nextPos:y,result:S};return S;}function D(){var X="char@"+y;var ai=m[X];if(ai){y=ai.nextPos;return ai.result;}var aq=y;if(f.substr(y).match(/^[^{}\\\0- 	\n\r]/)!==null){var Y=f.charAt(y);y++;}else{var Y=null;if(g){p("[^{}\\\\\\0- 	\\n\\r]");}}var ap=Y!==null?(function(ar){return ar;})(Y):null;if(ap!==null){var Z=ap;}else{var Z=null;y=aq;}if(Z!==null){var V=Z;}else{var P=y;if(f.substr(y,2)==="#"){var ab="#";y+=2;}else{var ab=null;if(g){p('"\\#"');}}var aa=ab!==null?(function(){return"#";})():null;if(aa!==null){var ac=aa;}else{var ac=null;y=P;}if(ac!==null){var V=ac;}else{var R=y;if(f.substr(y,2)==="\\{"){var ae="\\{";y+=2;}else{var ae=null;if(g){p('"\\\\{"');}}var ad=ae!==null?(function(){return"\u007B";})():null;if(ad!==null){var af=ad;}else{var af=null;y=R;}if(af!==null){var V=af;}else{var T=y;if(f.substr(y,2)==="\\}"){var ah="\\}";y+=2;}else{var ah=null;if(g){p('"\\\\}"');}}var ag=ah!==null?(function(){return"\u007D";})():null;if(ag!==null){var aj=ag;}else{var aj=null;y=T;}if(aj!==null){var V=aj;}else{var W=y;var U=y;if(f.substr(y,2)==="\\u"){var ao="\\u";y+=2;}else{var ao=null;if(g){p('"\\\\u"');}}if(ao!==null){var an=i();if(an!==null){var am=i();if(am!==null){var al=i();if(al!==null){var ak=i();if(ak!==null){var Q=[ao,an,am,al,ak];}else{var Q=null;y=U;}}else{var Q=null;y=U;}}else{var Q=null;y=U;}}else{var Q=null;y=U;}}else{var Q=null;y=U;}var O=Q!==null?(function(av,au,at,ar){return String.fromCharCode(parseInt("0x"+av+au+at+ar));})(Q[1],Q[2],Q[3],Q[4]):null;if(O!==null){var S=O;}else{var S=null;y=W;}if(S!==null){var V=S;}else{var V=null;}}}}}m[X]={nextPos:y,result:V};return V;}function t(){var U="digits@"+y;var R=m[U];if(R){y=R.nextPos;return R.result;}var T=y;if(f.substr(y).match(/^[0-9]/)!==null){var O=f.charAt(y);y++;}else{var O=null;if(g){p("[0-9]");}}if(O!==null){var Q=[];while(O!==null){Q.push(O);if(f.substr(y).match(/^[0-9]/)!==null){var O=f.charAt(y);y++;}else{var O=null;if(g){p("[0-9]");}}}}else{var Q=null;}var P=Q!==null?(function(V){return parseInt((V.join("")),10);})(Q):null;if(P!==null){var S=P;}else{var S=null;y=T;}m[U]={nextPos:y,result:S};return S;}function i(){var Q="hexDigit@"+y;var O=m[Q];if(O){y=O.nextPos;return O.result;}if(f.substr(y).match(/^[0-9a-fA-F]/)!==null){var P=f.charAt(y);y++;}else{var P=null;if(g){p("[0-9a-fA-F]");}}m[Q]={nextPos:y,result:P};return P;}function C(){var V="_@"+y;var S=m[V];if(S){y=S.nextPos;return S.result;}var R=g;g=false;var U=y;var Q=[];var O=h();while(O!==null){Q.push(O);var O=h();}var P=Q!==null?(function(W){return W.join("");})(Q):null;if(P!==null){var T=P;}else{var T=null;y=U;}g=R;if(g&&T===null){p("whitespace");}m[V]={nextPos:y,result:T};return T;}function h(){var Q="whitespace@"+y;var O=m[Q];if(O){y=O.nextPos;return O.result;}if(f.substr(y).match(/^[ 	\n\r]/)!==null){var P=f.charAt(y);y++;}else{var P=null;if(g){p("[ 	\\n\\r]");}}m[Q]={nextPos:y,result:P};return P;}function G(){function Q(T){T.sort();var V=null;var U=[];for(var S=0;S<T.length;S++){if(T[S]!==V){U.push(T[S]);V=T[S];}}switch(U.length){case 0:return"end of input";case 1:return U[0];default:return U.slice(0,U.length-1).join(", ")+" or "+U[U.length-1];}}var P=Q(k);var O=Math.max(y,I);var R=O<f.length?o(f.charAt(O)):"end of input";return"Expected "+P+" but "+R+" found.";}function x(){var O=1;var R=1;var S=false;for(var P=0;P<I;P++){var Q=f.charAt(P);if(Q==="\n"){if(!S){O++;}R=1;S=false;}else{if(Q==="\r"|Q==="\u2028"||Q==="\u2029"){O++;R=1;S=true;}else{R++;S=false;}}}return{line:O,column:R};}var q=e[j]();if(q===null||y!==f.length){var J=x();throw new this.SyntaxError(G(),J.line,J.column);}return q;},toSource:function(){return this._source;}};d.SyntaxError=function(g,e,f){this.name="SyntaxError";this.message=g;this.line=e;this.column=f;};d.SyntaxError.prototype=Error.prototype;return d;})();b.prototype.parse=function(){return c.parse.apply(c,arguments);};b.prototype.precompile=function(d){var e=this,g=false,f={begin:'function(d){\nvar r = "";\n',end:"return r;\n}"};function h(j,o){o=o||{};var n="",l,k,m;switch(j.type){case"program":return h(j.program);case"messageFormatPattern":for(l=0;l<j.statements.length;++l){n+=h(j.statements[l],o);}return f.begin+n+f.end;case"messageFormatPatternRight":for(l=0;l<j.statements.length;++l){n+=h(j.statements[l],o);}return n;case"messageFormatElement":o.pf_count=o.pf_count||0;n+='if(!d){\nthrow new Error("MessageFormat: No data passed to function.");\n}\n';if(j.output){n+='r += d["'+j.argumentIndex+'"];\n';}else{m="lastkey_"+(o.pf_count+1);n+="var "+m+' = "'+j.argumentIndex+'";\n';n+="var k_"+(o.pf_count+1)+"=d["+m+"];\n";n+=h(j.elementFormat,o);}return n;case"elementFormat":if(j.key==="select"){n+=h(j.val,o);n+="r += (pf_"+o.pf_count+"[ k_"+(o.pf_count+1)+" ] || pf_"+o.pf_count+'[ "other" ])( d );\n';}else{if(j.key==="plural"){n+=h(j.val,o);n+="if ( pf_"+(o.pf_count)+"[ k_"+(o.pf_count+1)+' + "" ] ) {\n';n+="r += pf_"+o.pf_count+"[ k_"+(o.pf_count+1)+' + "" ]( d ); \n';n+="}\nelse {\n";n+="r += (pf_"+o.pf_count+'[ MessageFormat.locale["'+e.locale+'"]( k_'+(o.pf_count+1)+" - off_"+(o.pf_count)+" ) ] || pf_"+o.pf_count+'[ "other" ] )( d );\n';n+="}\n";}}return n;case"pluralFormatPattern":o.pf_count=o.pf_count||0;n+="var off_"+o.pf_count+" = "+j.offset+";\n";n+="var pf_"+o.pf_count+" = { \n";g=true;for(l=0;l<j.pluralForms.length;++l){if(j.pluralForms[l].key==="other"){g=false;}if(k){n+=",\n";}else{k=1;}n+='"'+j.pluralForms[l].key+'" : '+h(j.pluralForms[l].val,(function(){var i=JSON.parse(JSON.stringify(o));i.pf_count++;return i;})());}n+="\n};\n";if(g){throw new Error("No 'other' form found in pluralFormatPattern "+o.pf_count);}return n;case"selectFormatPattern":o.pf_count=o.pf_count||0;n+="var off_"+o.pf_count+" = 0;\n";n+="var pf_"+o.pf_count+" = { \n";g=true;for(l=0;l<j.pluralForms.length;++l){if(j.pluralForms[l].key==="other"){g=false;}if(k){n+=",\n";}else{k=1;}n+='"'+j.pluralForms[l].key+'" : '+h(j.pluralForms[l].val,(function(){var i=JSON.parse(JSON.stringify(o));i.pf_count++;return i;})());}n+="\n};\n";if(g){throw new Error("No 'other' form found in selectFormatPattern "+o.pf_count);}return n;case"string":return'r += "'+b.Utils.numSub(b.Utils.escapeExpression(j.val),"k_"+o.pf_count+" - off_"+(o.pf_count-1),o.pf_count)+'";\n';default:throw new Error("Bad AST type: "+j.type);}}return h(d);};b.prototype.compile=function(d){return(new Function("MessageFormat","return "+this.precompile(this.parse(d))))(b);};a["MessageFormat"]=b;}(this));
MessageFormat.locale.en=function(a){if(a===1){return"one";}return"other";};
MessageFormat.locale.en_US=function(a){if(a===1){return"one";}return"other";};
MessageFormat.locale.en_AU=function(a){if(a===1){return"one";}return"other";};
MessageFormat.locale.en_NZ=function(a){if(a===1){return"one";}return"other";};
MessageFormat.locale.en_GB=function(a){if(a===1){return"one";}return"other";};
MessageFormat.locale.fr_FR=function(a){if(a>=0&&a<2){return"one";}return"other";};
MessageFormat.locale.de_DE=function(a){if(a===1){return"one";}return"other";};
MessageFormat.locale.es_ES=function(a){if(a===1){return"one";}return"other";};
MessageFormat.locale.ja_JP=function(a){if(a===1){return"one";}return"other";};
MessageFormat.locale.ru=function(a){if((a%10)==1&&(a%100)!=11){return"one";}if((a%10)>=2&&(a%10)<=4&&((a%100)<12||(a%100)>14)&&a==Math.floor(a)){return"few";}if((a%10)===0||((a%10)>=5&&(a%10)<=9)||((a%100)>=11&&(a%100)<=14)&&a==Math.floor(a)){return"many";}return"other";};
(function(){if(typeof fitbit.i18n!="undefined"){return;}fitbit.namespace("fitbit.i18n");window["EN"]=function(c){var a=fitbit.i18n.byEnglish[c]||"";for(var b=1;b<arguments.length;b++){a=a.replace("{"+(b-1)+"}",""+arguments[b]);}return a;};fitbit.i18n={resources:{},byEnglish:{},getResource:function(d,b){if(fitbit.i18n.resources[d]==undefined){return"";}if(arguments.length>1){var e=fitbit.i18n.resources[d];for(var c=0,a=arguments.length;c<a;c++){e=e.replace("{"+c+"}",arguments[c+1]+"");}}else{e=fitbit.i18n.resources[d];}return e;},getPluralResource:function(a,e){var d=fitbit.i18n.getResource(a);if(d.indexOf("{")==-1){return e==undefined?function(){return d;}:d;}var b=new MessageFormat(fitbit.i18n.locale);var c=b.compile("{NUM_RESULTS, plural, "+d+"}");if(e==undefined){return function(f){return c({NUM_RESULTS:f});};}else{return c({NUM_RESULTS:e});}},setResource:function(b,a,c){fitbit.i18n.resources[b.replace(/^\.+/,"")]=a;fitbit.i18n.byEnglish[c]=a;},switchLocale:function(a){$.post("/i18n/switch?locale="+a,function(){var b=window.location.pathname.match("^/(uk|fr|de|es|ru|au|nz)($|/[^?]*$)");if(b==null){window.location.reload();}else{window.location.pathname=b[2];}});},locale:"en",decimalParams:{decimalSeparator:function(){switch(fitbit.i18n.locale){case"de_DE":case"es_ES":case"fr_FR":return",";default:return"\\.";}},groupSeparator:function(){switch(fitbit.i18n.locale){case"de_DE":case"es_ES":return"\\.";case"fr_FR":return"\\s";default:return",";}}},DecimalNumber:{decimalSeparator:".",groupSeparator:",",negativeSign:"-",parse:function(c){var a=String(c).trim();var b=new RegExp("^["+fitbit.i18n.DecimalNumber.negativeSign+"]?[\\d"+fitbit.i18n.DecimalNumber.groupSeparator+"]+["+fitbit.i18n.DecimalNumber.decimalSeparator+"]?[\\d]*$","");if(b.test(a)){a=a.replace(fitbit.i18n.DecimalNumber.groupSeparator,"").replace(fitbit.i18n.DecimalNumber.decimalSeparator,".").replace(fitbit.i18n.DecimalNumber.negativeSign,"-");return parseFloat(a);}return NaN;},format:function(a){return YAHOO.util.Number.format(a,{decimalSeparator:fitbit.i18n.DecimalNumber.decimalSeparator,thousandsSeparator:fitbit.i18n.DecimalNumber.groupSeparator,negativeFormat:fitbit.i18n.DecimalNumber.negativeSign+"#"});}},WEEKDAYS:null,MONTHS:null};})();
(function(a){var b={init:function(){var c=a("html").hasClass("ie7")?true:false;this.headerClickHandler();this.footerClickHandler();if(c){b.ie7headerClickHandler();}else{a("#hdr_i18n_picker").tooltip(this.ttConfigHdr);}a("#ftr_picker").tooltip(this.ttConfigFtr);},ie7headerClickHandler:function(){var d=a("#hdr_i18n_picker"),f=d.closest("ul"),e=a.trim(d.attr("data-country")),c={en_US:b.getLocalName("us"),en_GB:b.getLocalName("uk"),es_ES:b.getLocalName("spain"),fr_FR:b.getLocalName("france"),de_DE:b.getLocalName("germany"),en_AU:b.getLocalName("au"),en_NZ:b.getLocalName("nz"),ru:b.getLocalName("russia"),ja_JP:b.getLocalName("japan")};a("#hdr_i18n_picker").remove();a.each(c,function(g,i){if(i!=""){var h=f.find("li").eq(0);if(g===e){h.after('<li data-country="'+g+'" class="locale strong"><a href="#">'+i+"</a></li>");}else{h.after('<li data-country="'+g+'" class="locale"><a href="#">'+i+"</a></li>");}}});a("#cust").find(".locale").live("click",function(){var g=a.trim(a(this).attr("data-country"));b.switchLocale(g);});},headerClickHandler:function(){a("#hdr_i18n_country_list").on("click","div",function(){var c=a(this).attr("data-country");b.switchLocale(c);});},footerClickHandler:function(){a("#ftr_i18n_country_list").on("click","li",function(){var c=a(this).attr("data-country");b.switchLocale(c);});},ttConfigHdr:{tipClass:"ttHdr",offset:[10,0],relative:true,position:"bottom center",delay:100,predelay:200},ttConfigFtr:{tipClass:"ttFtr",offset:[-4,0],relative:true,position:"top center",delay:100,predelay:200},switchLocale:function(c){fitbit.i18n.switchLocale(c);},getLocalName:function(c){return fitbit.i18n.getResource("com.fitbit.app.includes.label."+c);}};b.init();})(jQuery);
var Y=YAHOO.util;String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"");};Y.Event.on(document,"keydown",function(d){if(d.keyCode==13){var b=Y.Event.getTarget(d);if(b.tagName!="TEXTAREA"){var c=(b.tagName=="FORM")?b:Y.Dom.getAncestorByTagName(b,"FORM");if(c){var a=Y.Dom.getElementsByClassName("defaultSubmit","",c)[0];if(a&&"click" in a){Y.Event.preventDefault(d);a.click();}}}}});(function(){fitbit.namespace("fitbit.app");fitbit.app={};fitbit.app.objectsCounter=0;fitbit.app.calendarPathSeparator="/";fitbit.app.Calendar=function(c,f,e){var b,d;var a=null;this.show=function(m,o,n,g,l,j,i){if(c==null){c="calendar";}if(!b){Y.Event.on(document,"click",function(s){var r=Y.Dom.get(m);var p=Y.Event.getTarget(s);var q=b.element;if(p!=q&&!Y.Dom.isAncestor(q,p)&&p!=r&&!Y.Dom.isAncestor(r,p)){b.hide();}});b=new YAHOO.widget.Dialog(c+"Container",{visible:false,context:[m,"tl","bl"],width:"16em",draggable:false,close:true});if(fitbit.i18n){b.setHeader(fitbit.i18n.getResource("com.fitbit.app.label.select_date"));}else{b.setHeader("Select a date");}b.setBody('<div id="'+c+'"></div>');if(l!=undefined&&l!=null){b.render(l);}else{b.render(document.body);}b.showEvent.subscribe(function(){if(YAHOO.env.ua.ie){b.fireEvent("changeContent");}});}if(!d){d=new YAHOO.widget.Calendar(c,{iframe:false,hide_blank_weeks:true});d.path=e;d.calendarId=c;if(o!=null){var h=new Date(0,0,0);h.setISO8601UTC(o);d.cfg.setProperty("pagedate",(h.getMonth()+1)+"/"+h.getFullYear());}if(n==null&&o!=null){var k=new Date(0,0,0);k.setISO8601UTC(o);d.cfg.setProperty("selected",(k.getMonth()+1)+"/"+(k.getDate())+"/"+k.getFullYear());}else{if(n!=null){d.cfg.setProperty("selected",n);}}if(g!=undefined&&g!=null){d.cfg.setProperty("maxdate",g);}if(i!=undefined&&i!=null){d.cfg.setProperty("mindate",i);}if(j!=null){d.today=j;}if(a!=null){d.cfg.setProperty("start_weekday",a);}if(fitbit.i18n){if(fitbit.i18n.WEEKDAYS){d.cfg.setProperty("WEEKDAYS_SHORT",fitbit.i18n.WEEKDAYS);}if(fitbit.i18n.MONTHS){d.cfg.setProperty("MONTHS_LONG",fitbit.i18n.MONTHS);}}d.render();d.renderEvent.subscribe(function(){b.fireEvent("changeContent");});d.selectEvent.subscribe(f,d,true);}b.show();};this.hide=function(){b.hide();};this.setWeekStartsOn=function(g){a=g;};};fitbit.app.dateSelectHandler=function(c,b,e){var a=fitbit.util.getDateFromYUIDateArray(b[0][0]);var d=(e.path!=undefined&&e.path!=""?e.path:"");location.href=d+"/"+a.getFullYear()+fitbit.app.calendarPathSeparator+a.getPaddedMonth()+fitbit.app.calendarPathSeparator+a.getPaddedDate();};fitbit.app.showCalendar=function(j,g,f,i,d,h,a){if(h!=null||h!=""){fitbit.app.calendarPathSeparator=h;}var c=new fitbit.app.Calendar(g,fitbit.app.dateSelectHandler,j);var e=new Date();e.setISO8601UTC(i);var b=e;if(d){b=null;}if(a){c.setWeekStartsOn(a);}c.show(f,i,null,b,null,e);};fitbit.app.showWeeklyCalendar=function(n,k,i,f,m,e,c,l,j,a){if(l!=null||l!=""){fitbit.app.calendarPathSeparator=l;}var b=new fitbit.app.Calendar(k,fitbit.app.dateSelectHandler,n);var g=new Date();g.setISO8601UTC(f);var h=null;if(c!=null){h=new Date();h.setISO8601UTC(c);}var d=null;if(e!=null){d=new Date();d.setISO8601UTC(e);}b.setWeekStartsOn(a);b.show(i,m,j,h,null,g,d);};fitbit.app.TabSet=function(e,o,k){if(o==undefined){o="selected";}if(k==undefined){k="disabled";}this.tabChangeEvent=new Y.CustomEvent("tabChange",this);var d=Y.Dom.get(e);if(!d){return;}var b=Y.Dom.getElementsByClassName(o,"a",d)[0];var m=new Array();var l=null;if(b!=undefined){l=Y.Dom.getChildren(b.parentNode.parentNode);var h=b.getAttribute("href",2);var f=Y.Dom.get(h.substr(h.indexOf("#")+1));}else{l=d.getElementsByTagName("li");}var j=this.tabChangeEvent;var n=function(r,q){if(q!=b&&!Y.Dom.hasClass(q,k)){Y.Dom.addClass(q,o);Y.Dom.addClass(q.parentNode,o);if(b!=undefined){Y.Dom.removeClass(b,o);Y.Dom.removeClass(b.parentNode,o);Y.Dom.addClass(f,"invisible");}b=q;var p=b.getAttribute("href",2);var i=p.substr(p.indexOf("#")+1);f=Y.Dom.get(i);Y.Dom.removeClass(f,"invisible");j.fire(i);}};var a=function(i){Y.Event.preventDefault(i);};for(var g=0;g<l.length;g++){var c=Y.Dom.getChildren(l[g])[0];Y.Event.on(c,"mousedown",n,c);Y.Event.on(c,"click",a);m.push(c);}this.destroy=function(){for(var p=0;p<m.length;p++){Y.Event.removeListener(m[p],"mousedown",n);Y.Event.removeListener(m[p],"click",a);}};this.disableTab=function(i){var p=m[i];if(p!=b){Y.Dom.addClass(p,k);Y.Dom.addClass(p.parentNode,k);}};this.enableTab=function(i){var p=m[i];if(p!=b){Y.Dom.removeClass(p,k);Y.Dom.removeClass(p.parentNode,k);}};this.switchToTab=function(i){var p=m[i];n(null,p);};};fitbit.app.Chart=function(b,f,i,e,c,k,h){var g;var d;var a=e;var j=function(l){d=new SWFObject(g,b,c,k,"8","#FFFFFF","best");d.addParam("wmode","opaque");d.addVariable("chartWidth",c);d.addVariable("chartHeight",k);d.addVariable("dataURL",escape(l));d.write(f);};switch(i){case"column2d":g="/flash/charts/FC_2_3_MSColumn2D.swf";break;case"area2d":g="/flash/charts/FC_2_3_MSArea2D.swf";break;case"line":g="/flash/charts/FC_2_3_MSLine.swf";break;case"linecolumn2d":g="/flash/charts/FC_2_3_MSColumnLine_DY_2D.swf";break;case"stackedarea2d":g="/flash/charts/FC_2_3_StackedArea_MSLine_DY_2D.swf";break;case"pie":g="/flash/charts/FC_2_3_Pie2D.swf";break;}if(!h){Y.Dom.addClass(f,"invisible");}else{j(e);}this.update=function(l){if(l!=null){j(l);}else{j(a);}};this.hide=function(){Y.Dom.addClass(f,"invisible");fitbit.util.setContent(Y.Dom.get(f),"");};this.show=function(){Y.Dom.removeClass(f,"invisible");};};fitbit.app.EjsChart=function(b,h,i,c,f){var g;var d=new Array();var j=new EJSC.XMLDataHandler(c,{onDataReady:function(p,y,s,u){var n=u.axis_bottom;var t=p.responseXML;if(t==null){return true;}var w=t.getElementsByTagName("dateFormat")[0].firstChild.nodeValue;n.formatter.format_string=w;while(d.length>0){u.removeSeries(d.pop(),false);}var o=t.getElementsByTagName("D");for(var r=0;r<o.length;r++){var t=o[r].firstChild.nodeValue;var x=k(new EJSC.XMLStringDataHandler(t));x.color="#"+o[r].getAttribute("color");d.push(x);u.addSeries(x,false);}if(o.length==0&&h=="column2d"){var v=t.getElementsByTagName("YMax")[0].firstChild.nodeValue;var q=t.getElementsByTagName("YMin")[0].firstChild.nodeValue;var m=(v-q)/4;s.addRange(q,q+m,"rgb(0,0,0)",100,100,1,false);s.addRange(q+m,q+2*m,"rgb(0,0,255)",100,100,1,false);s.addRange(q+2*m,q+3*m,"rgb(0,255,0)",100,100,1,false);s.addRange(q+3*m,q+4*m,"rgb(255,0,0)",100,100,1,true);}u.redraw();return true;}});var l={color:f,useColorArray:false};var k=function(m){switch(h){case"column2d":return new EJSC.BarSeries(m,l);case"area2d":return new EJSC.AreaSeries(m,l);case"line":return new EJSC.LineSeries(m,l);case"pie":return new EJSC.PieSeries(m,l);default:return null;}};var e={formatter:new EJSC.DateFormatter({format_string:"MMM D, YYYY"}),visible:true,caption:""};g=k(j);var a=new EJSC.Chart(b,{title:i,show_legend:false,axis_bottom:e,axis_left:{caption:""}});a.addSeries(g);if(h=="pie"){a.setShowLegend(true);}this.update=function(m){if(m!=null){g.getDataHandler().setUrl(m);}g.reload();};this.hide=function(){Y.Dom.addClass(b,"invisible");};this.show=function(){Y.Dom.removeClass(b,"invisible");};};fitbit.app.AmChartNew=function(c,d,f,b,a){var e=function(){var g=new AmCharts.AmFallback();g.settingsFile=b;g.dataFile=f;g.pathToImages="/amcharts/2.2.0/amcharts/javascript/images/";g.type=d;g.loading_settings="Loading settings...";g.loading_data="Loading data...";g.write(c);};if(!a){Y.Dom.addClass(c,"invisible");}else{e();}this.update=function(){fitbit.util.setContent(Y.Dom.get(c),"");e();};this.hide=function(){Y.Dom.addClass(c,"invisible");};this.show=function(){Y.Dom.removeClass(c,"invisible");};};fitbit.app.AmChart=function(b,g,k,f,c,m,j,e,h){if(!document.getElementById(g)){return;}var i;var d;var a=f;var l=function(r){var p=e!=undefined&&e!=null&&e;var q=p?"/flash/amcharts/swfPrintableContainer.swf":i;d=new SWFObject(q,b,c,m,"8","#FFFFFF","best");d.addParam("wmode","opaque");d.addParam("hasPriority","true");d.addParam("allowScriptAccess","always");d.addVariable("path","/flash/amcharts/");d.addVariable("settings_file",escape(r));d.addVariable("data_file",escape(""));if(p){d.addParam("title",g);d.addVariable("amChartUrl",i);}if(h!=undefined&&h!=null){d.addVariable("chart_data",h);}if(k=="line"){d.addVariable("additional_chart_settings",escape("<settings><graphs><graph gid='0'><type>line</type></graph><graph gid='1'><type>line</type></graph><graph gid='2'><type>line</type></graph><graph gid='3'><type>line</type></graph><graph gid='4'><type>line</type></graph></graphs></settings>"));}if(k=="linecolumn2d"){d.addVariable("additional_chart_settings",escape("<settings><graphs><graph gid='0'></graph><graph gid='1'><type>line</type></graph><graph gid='2'><type>line</type></graph><graph gid='3'><type>line</type></graph><graph gid='4'><type>line</type></graph></graphs></settings>"));}d.addVariable("preloader_color","#999999");d.addVariable("chart_id",b);if(p){var n=document.createElement("div");n.id="cont_"+fitbit.app.objectsCounter.toString();n.style.position="absolute";n.style.left=fitbit.app.objectsCounter.toString()+"px";fitbit.app.objectsCounter++;document.getElementById("amChartsFixContainer").appendChild(n);d.write(n.id);}else{d.write(g);}var o=Y.Dom.get(g+"Source");if(o!=undefined){o.innerHTML='<a target="_blank" href="'+r+'">Source</a>';}};f=f+"&chart_type="+k;switch(k){case"pie":i="/flash/amcharts/ampie.swf";break;case"trueline":i="/flash/amcharts/amline.swf";break;default:i="/flash/amcharts/amcolumn.swf";break;}if(!j){Y.Dom.addClass(g,"invisible");}else{l(f);}this.update=function(n){Y.Dom.get(g).innerHTML="";if(n!=null){l(n);}else{l(a);}};this.hide=function(){Y.Dom.addClass(g,"invisible");};this.show=function(){Y.Dom.removeClass(g,"invisible");};};fitbit.app.convertErrorsToList=function(f,b,a){var e="<div class='errorMessage'>"+fitbit.i18n.getResource("com.fitbit.app.error.errors_title")+"</div><div style='height: 100px; overflow: auto;'><ul class='errorList clearfix' style='margin-bottom: 15px;' id='"+b+"'>";for(var d=0;d<f.length;d++){var c;if(f[d].errorType=="system"){c=fitbit.i18n.getResource("com.fitbit.app.error.general_fatal_error");}else{if(a){c=fitbit.app.escapeHtml(f[d].message);}else{c=f[d].message;}}e+="<li class='errorBullet'>"+c+"</li>";}return e+"</ul></div>";};fitbit.app.escapeHtml=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");};fitbit.app.unEscapeHtml=function(a){return a.split("&amp;").join("&").split("&lt;").join("<").split("&gt;").join(">");};fitbit.app.BitSet=function(){this.bits=[];};fitbit.app.BitSet.prototype={member:function(a){for(var b=0;b<this.bits.length;b++){if(this.bits[b]==a){return true;}}return false;},numBits:function(){var a=0;for(var b=0;b<this.bits.length;b++){a=Math.max(this.bits[b],a);}return a+1;},add:function(a){this.clear(a);this.bits.push(a);},clear:function(a){for(var b=0;b<this.bits.length;b++){if(this.bits[b]==a){this.bits.splice(b,1);}}}};fitbit.app.UIState=function(){this.cookieName="uis";this.state=null;this.set=function(a){this.state.add(a);this.saveState();};this.clearAndSet=function(a,c){if(a){if(!$.isArray(a)){a=[a];}for(var b=0;b<a.length;b++){this.state.clear(a[b]);}}if(c){if(!$.isArray(c)){c=[c];}for(var b=0;b<c.length;b++){this.state.add(c[b]);}}this.saveState();};this.clear=function(a){this.state.clear(a);this.saveState();};this.get=function(a){return this.state.member(a);};this.getCookie=function(a){var b=document.cookie.match("(^|;) ?"+a+"=([^;]*)(;|$)");if(b){return(unescape(b[2]));}else{return"";}};this.setCookie=function(b,f,e,h,d,g){var c=b+"="+escape(f);if(e){var a=new Date();a.setTime(a.getTime()+e);c+="; expires="+a.toUTCString();}if(h){c+="; path="+escape(h);}if(d){c+="; domain="+escape(d);}if(g){c+="; secure";}document.cookie=c;};this.loadState=function(){var a=this.getCookie(this.cookieName);if(this.state==null){this.state=this.loadStateFromByteArray(this.base64Decode(a));}};this.saveState=function(){var a=this.base64Encode(this.saveStateToByteArray());this.setCookie(this.cookieName,a,3600*24*365*1000,"/");};this.loadStateFromByteArray=function(a){var c=null;if(a!=null){var d=a.length;c=new fitbit.app.BitSet();for(var b=0;b<d*8;b++){if((a[d-Math.floor(b/8)-1]&(1<<(b%8)))>0){c.add(b);}}}return c;};this.saveStateToByteArray=function(){var a=null;if(this.state!=null){var c=0;for(var b=0;b<this.state.numBits();b++){if(this.state.member(b)){c=b+1;}}var d=Math.floor(c/8)+1;a=new Array();for(var b=0;b<d;b++){a[b]=0;}for(var b=0;b<c;b++){if(this.state.member(b)){a[d-Math.floor(b/8)-1]|=1<<(b%8);}}}return a;};this.base64Encode=function(g){var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var m,l,k;var d,c,b,a;var n=new Array();var e=0;for(var f=0;f<g.length;f+=3){m=g[f];l=g[f+1];k=g[f+2];d=m>>2;c=((m&3)<<4)|(l>>4);b=((l&15)<<2)|(k>>6);a=k&63;if(isNaN(l)){b=a=64;}else{if(isNaN(k)){a=64;}}n[e++]=h.charAt(d)+h.charAt(c)+h.charAt(b)+h.charAt(a);}return n.join("");};this.base64Decode=function(g){g=g.replace(/[^a-z0-9\+\/=]/ig,"");var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var m,l,k;var d,c,b,a;var n=new Array();var e=0;while((g.length%4)!=0){g+="=";}for(var f=0;f<g.length;f+=4){d=h.indexOf(g.charAt(f));c=h.indexOf(g.charAt(f+1));b=h.indexOf(g.charAt(f+2));a=h.indexOf(g.charAt(f+3));m=(d<<2)|(c>>4);l=((c&15)<<4)|(b>>2);k=((b&3)<<6)|a;n[e++]=m;if(b!=64){n[e++]=l;}if(a!=64){n[e++]=k;}}return n;};this.loadState();};fitbit.app.toggleScale=function(c,a,b){if(a){Y.Dom.addClass(c+"ShowLink","invisible");Y.Dom.removeClass(c+"Scale","invisible");new fitbit.app.UIState().clear(b);}else{Y.Dom.addClass(c+"Scale","invisible");Y.Dom.removeClass(c+"ShowLink","invisible");new fitbit.app.UIState().set(b);}};fitbit.app.highlightRow=function(b,a){var c=Y.Dom.get(b);if(a){Y.Dom.setStyle(c,"background-color","#fffdcc");}else{Y.Dom.setStyle(c,"background-color","");}return c;};fitbit.app.highlightRecord=function(d,b,a){var c=Y.Dom.get(d+"Actions."+b);if(a){Y.Dom.removeClass(c,"invisible");}else{Y.Dom.addClass(c,"invisible");}};fitbit.app.highlightDelete=function(b,a,c){var d=Y.Dom.get("deleteImg."+b);if(a){if(c){d.src="/images/common/delete_red_yellow.gif";}else{d.src="/images/common/delete_red_white.gif";}}else{if(c){d.src="/images/common/delete_grey_yellow.gif";}else{d.src="/images/common/delete_grey_white.gif";}}return d;};fitbit.app.loadTooltips=function(){var n=20000;var l="tooltip";var p="tooltip-";var o="ttid-";var a=o.length;var e=100000000;for(var b=Y.Dom.getElementsByClassName(l),h=b.length,m,d;h--;){m={context:b[h],zIndex:n,autodismissdelay:e};if(m.context.title){d=p+h;}else{d="";for(var f=b[h].className.split(/\s+/),g=f.length;g--;){if(f[g].indexOf(o)==0){var k=document.getElementById(f[g].slice(a));if(k){d=p+k.id;m.text=k.innerHTML;break;}}}}function c(q,j){for(var i=Y.Event.getRelatedTarget(q);i&&i!=this;i=i.parentNode){}if(!i){if(q.type=="mouseout"){j.hideProcId=setTimeout(function(){j.hide();},j.cfg.getProperty("hidedelay"));}else{clearTimeout(j.hideProcId);}}}if(d){m.context.tooltip=new YAHOO.widget.Tooltip(d,m);m.context.tooltip.contextTriggerEvent.subscribe(function(j,i){var q=i[0].tooltip;q.contextTriggerEvent.unsubscribe(arguments.callee);Y.Event.on(q.id,"mouseover",c,q);Y.Event.on(q.id,"mouseout",c,q);});}}};fitbit.app.init=function(){fitbit.app.loadTooltips();};Y.Event.onDOMReady(fitbit.app.init);})();(function(){fitbit.namespace("fitbit.app.search.solr");fitbit.app.search.solr.food={solrURL:"/search/solrFood",getQueryStringBaseInternal:function(h,e,c){var d="?q="+encodeURIComponent(h);var a="&wt=foodjson";var g=e==null||e==""?"":"&qt="+e;var b=c==null||c==""?"":"&fq="+encodeURIComponent(c);var f=d+a+g+b;return f;},getQueryString:function(c,b,a){return this.getQueryStringBaseInternal(c,b,a)+"&userOnly=false";},getQueryStringMyFoodsOnly:function(c,b,a){return this.getQueryStringBaseInternal(c,b,a)+"&userOnly=true";}};fitbit.app.search.solr.brand={solrURL:"/search/solrBrand",getQueryStringBaseInternal:function(h,i,d,m,f,o,l){var b="?q="+encodeURIComponent(h);var g=i==null||i==""?"&wt=brandjson":"&wt="+encodeURIComponent(i);var k=d==null||d==""?"":"&qt="+encodeURIComponent(d);var j=m==null||m==""?"":"&fq="+encodeURIComponent(m);var e=f==null||f==""?"":"&chunkSize="+encodeURIComponent(f);var c=o==null||o==""?"":"&start="+encodeURIComponent(o);var n=l==null||l==""?"":"&rows="+encodeURIComponent(l);var a=b+g+k+j+e+c+n;return a;},getQueryString:function(e,d,a,b,c){return this.getQueryStringBaseInternal(e,null,d,a,null,b,c);},getQueryStringForMenu:function(d,c,a,b){return this.getQueryStringBaseInternal(d,"brandindexjson",c,a,b,null,null);}};fitbit.app.search.solr.activity={solrURL:"/search/solrActivity",getQueryString:function(g,d,b){var c="?q="+encodeURIComponent(g);var a="&wt=activityjson";var f=d==null||d==""?"":"&qt="+d;var e=c+a+f;return e;}};fitbit.app.search.solr.forum={solrURL:"/search/solrForum",getQueryStringBaseInternal:function(h,e,c){var d="?q="+encodeURIComponent(h);var a="&wt=forumjson";var g=e==null||e==""?"":"&qt="+e;var b=c==null||c==""?"":"&fq="+encodeURIComponent(c);var f=d+a+g+b;return f;},getQueryStringAdmin:function(b){var a="forum";return this.getQueryStringBaseInternal(b,a,null);},getQueryString:function(b){var a="forum";return this.getQueryStringBaseInternal(b,a,null);},getQueryStringForHightlightedPost:function(a,e){var b="id:"+a;var d="post_hl";var c="id:"+a+" "+e;return this.getQueryStringBaseInternal(c,d,b);}};fitbit.app.search.solr.friend={solrURL:"/search/solrFriend",getQueryStringBaseInternal:function(h,e,c){var d="?q="+encodeURIComponent(h);var a="&wt=friendjson";var g=e==null||e==""?"":"&qt="+e;var b=c==null||c==""?"":"&fq="+encodeURIComponent(c);var f=d+a+g+b;return f;},getQueryString:function(c,b,a){return this.getQueryStringBaseInternal(c,b,a);}};})();
(function(){fitbit.namespace("fitbit.util");fitbit.util={truncateString:function(a,b){if(a.length<b){return a;}else{return a.substr(0,b)+"...";}},setContent:function(c,b){while(c.hasChildNodes()){c.removeChild(c.firstChild);}var a=document.createElement("span");a.innerHTML=b;c.appendChild(a);},appendRow:function(c,b,a,e){var d=document.createElement("tr");c.appendChild(d);d.innerHTML=b;if(a!=null){d.className=a;}if(e!=null){d.id=e;}return d;},isInt:function(a){return(!isNaN(a)&&!isNaN(parseInt(a)));},isFloat:function(a){return(!isNaN(parseFloat(a)));},isWindowsPlatform:function(){return navigator.appVersion.indexOf("Win")!=-1;},resetForm:function(c){var b=c.elements;for(var a=0;a<b.length;a++){if(b[a].type.toLowerCase()=="text"||b[a].type.toLowerCase()=="password"||b[a].type.toLowerCase()=="textarea"){b[a].value="";}else{if(b[a].type.toLowerCase()=="radio"){b[a].selected=false;}else{if(b[a].type.toLowerCase()=="checkbox"){b[a].checked=false;}else{if(b[a].type.toLowerCase().indexOf("select")!=-1){b[a].selectedIndex=0;}}}}}},getWrappable:function(g,d){var e="\u200B";if(g==undefined||g==null||g.length<=d||g.replace(/^\s+|\s+$/g,"")==""){return g;}var b=0;var a=0;var j=new Array();for(var f=0;f<g.length;f++){var h=g.charAt(f);if(a<d){j.push(h);if(h==" "){a=0;}else{a++;}}else{if(h==" "){j.push(h);a=0;}else{j.push(e,h);a=1;}}}return j.join("");},getWrappableNoIE6:function(b,a){if(YAHOO){var c=YAHOO.env.ua.ie;if(c==0||c>=7){return fitbit.util.getWrappable(b,a);}else{return b;}}else{return fitbit.util.getWrappable(b,a);}},getDateFromYUIDateArray:function(a){return new Date(a[0],a[1]-1,a[2]);},preLoadImages:function(){var c=[],b=arguments.length;for(var d=b;d--;){var a=document.createElement("img");a.src=arguments[d];c.push(a);}},parseQuery:function(f){var b={};var d=(f||location.search.slice(1)).replace(/\+/g,"%20");if(d){for(var e=d.split("&"),c=0,a=e.length,g;c<a;c++){g=e[c].split("=");key=decodeURIComponent(g[0]);val=decodeURIComponent(g[1]);if(key in b){if(!(b[key] instanceof Array)){b[key]=[b[key]];}b[key].push(val);}else{b[key]=val;}}}return b;},toHexColor:function(a){a=a.replace(/^\s+|\s+$/g,"");if(a.charAt(0)=="#"&&a.length==4){return a.toLowerCase().replace(/[a-f\d]/g,"$&$&");}else{if(a.toLowerCase().indexOf("rgb")==0){return"#"+a.replace(/\D*(\d+)\D*/g,function(b,d){return("0"+(+d).toString(16)).slice(-2);});}}return a;},cssRule:function(b){b=b.toLowerCase().replace(/^\s+|\s+$/g,"");var k=new RegExp("(?:^|,)\\s*"+b.replace(/\W/g,"$&")+"\\s*(?:,|$)");for(var c=document.styleSheets.length-1;c>=0;c--){var l=document.styleSheets[c];var a=l.cssRulesCache=l.cssRulesCache||{};if(a[b]){return a[b];}var h=l.cssRules||l.rules;for(var d=0,e=h.length;d<e;d++){var g=h[d],f=g.selectorText;f=f.replace(/\.(\w+)\[CLASS~="\1"\]/g,".$1").replace(/\[ID"([^"]+)"\]/g,"#$1");f=f.replace(/\*([.#])/g,"$1");f=f.toLowerCase();if(k.test(f)){return(a[b]=h[d]);}}}return null;},getRelativeDate:function(o,p){if(p){try{var c=new Date();var a=(o.charAt(o.length-1)==="Z")?"setISO8601":"setISO8601UTC";c[a](o);o=c;}catch(i){return"";}}var l="com.fitbit.util.relativedateutil.";var g=function(q,e){return fitbit.i18n.getResource(l+q,e);};var n=Math.floor((new Date().getTime()-new Date(o).getTime())/1000);var m="";if($.isNumeric(n)){var d=60,f=d*60,k=f*24,b=k*7,h=b*4,j=h*52;if(n<30){m=g("just_now",n);}else{if(n<d){m=g("seconds",n);}else{if(n<d*2){m=g("minute","1");}else{if(n<f){m=g("minutes",Math.floor(n/d));}else{if(n<f*2){m=g("hour","1");}else{if(n<k){m=g("hours",Math.floor(n/f));}else{if(n<k*2){m=g("day","1");}else{if(n<b){m=g("days",Math.floor(n/k));}else{if(n<b*2){m=g("week","1");}else{if(n<h*3){m=g("weeks",Math.floor(n/b));}else{if(n<j*2){m=g("months",Math.floor(n/h));}else{m=g("years",Math.floor(n/j));}}}}}}}}}}}}return m;}};if("textContent" in document.documentElement){fitbit.util.setTextContent=function(a,b){a.textContent=b;};fitbit.util.getTextContent=function(a){return a.textContent;};}else{fitbit.util.setTextContent=function(a,b){a.innerText=b;};fitbit.util.getTextContent=function(a){return a.innerText;};}})();Date.prototype.setISO8601=function(b){var c="([0-9]{4})(-([0-9]{2})(-([0-9]{2})"+"(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?"+"(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?";var g=b.match(new RegExp(c));var f=0;var a=new Date(g[1],0,1);if(g[3]){a.setMonth(g[3]-1);}if(g[5]){a.setDate(g[5]);}if(g[7]){a.setHours(g[7]);}if(g[8]){a.setMinutes(g[8]);}if(g[10]){a.setSeconds(g[10]);}if(g[12]){a.setMilliseconds(Number("0."+g[12])*1000);}if(g[14]){f=(Number(g[16])*60)+Number(g[17]);f*=((g[15]=="-")?1:-1);}f-=a.getTimezoneOffset();var e=(Number(a)+(f*60*1000));this.setTime(Number(e));};Date.prototype.setISO8601UTC=function(b){var c="([0-9]{4})(-([0-9]{2})(-([0-9]{2})"+"(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?"+"(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?";var g=b.match(new RegExp(c));var f=0;var a=new Date(g[1],0,1);if(g[3]){a.setMonth(g[3]-1);}if(g[5]){a.setDate(g[5]);}if(g[7]){a.setHours(g[7]);}if(g[8]){a.setMinutes(g[8]);}if(g[10]){a.setSeconds(g[10]);}if(g[12]){a.setMilliseconds(Number("0."+g[12])*1000);}if(g[14]){f=(Number(g[16])*60)+Number(g[17]);f*=((g[15]=="-")?1:-1);}var e=(Number(a)+(f*60*1000));this.setTime(Number(e));};Date.prototype.getPaddedMonth=function(){var a=this.getMonth()+1;if(a<10){return"0"+a;}else{return a;}};Date.prototype.getPaddedDate=function(){var a=this.getDate();if(a<10){return"0"+a;}else{return a;}};Date.prototype.getPrettyMonth=function(){var a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return a[this.getMonth()];};
var Y=YAHOO.util;(function(){fitbit.namespace("fitbit.app.premium");fitbit.app.premium={addTrialSubscription:function(b,a,c){Y.Connect.asyncRequest("POST","/premium/subscriptions/trial?apiFormat=json&pack="+b+"&add=on&linkId="+c,{success:function(d){window.location=a;},failure:function(d){},argument:[]},null);}};})();(function(){fitbit.namespace("fitbit.app.premium.customTrackers");fitbit.app.premium.customTrackers={dialog:null,init:function(){fitbit.app.premium.customTrackers.dialog=new YAHOO.widget.Dialog("customTrackersPremiumModal",{width:"554px",zIndex:75,fixedcenter:true,visible:false,modal:true,constraintoviewport:true,draggable:false,close:false});},showDialog:function(){fitbit.app.premium.customTrackers.dialog.render(document.body);Y.Dom.removeClass("customTrackersPremiumModal","invisible");fitbit.app.premium.customTrackers.dialog.show();},onClose:function(){fitbit.app.premium.customTrackers.dialog.cancel();}};})();(function(){fitbit.namespace("fitbit.app.premium.photoStream");fitbit.app.premium.photoStream={dialog:null,init:function(){fitbit.app.premium.photoStream.dialog=new YAHOO.widget.Dialog("photoStreamPremiumModal",{width:"554px",zIndex:55,fixedcenter:true,visible:false,modal:true,constraintoviewport:true,draggable:false,close:false});},showDialog:function(){fitbit.app.premium.photoStream.dialog.render(document.body);Y.Dom.removeClass("photoStreamPremiumModal","invisible");fitbit.app.premium.photoStream.dialog.show();},onClose:function(){fitbit.app.premium.photoStream.dialog.cancel();}};})();(function(){fitbit.namespace("fitbit.app.premium.heartRate");fitbit.app.premium.heartRate={dialog:null,init:function(){fitbit.app.premium.heartRate.dialog=new YAHOO.widget.Dialog("heartRatePremiumModal",{width:"554px",fixedcenter:true,visible:false,modal:true,constraintoviewport:true,draggable:false,close:false});},showDialog:function(){fitbit.app.premium.heartRate.dialog.render(document.body);Y.Dom.removeClass("heartRatePremiumModal","invisible");fitbit.app.premium.heartRate.dialog.show();},onClose:function(){fitbit.app.premium.heartRate.dialog.cancel();}};})();(function(){fitbit.namespace("fitbit.app.premium.bloodSugar");fitbit.app.premium.bloodSugar={dialog:null,init:function(){fitbit.app.premium.bloodSugar.dialog=new YAHOO.widget.Dialog("bloodSugarPremiumModal",{width:"554px",fixedcenter:true,visible:false,modal:true,constraintoviewport:true,draggable:false,close:false});},showDialog:function(){fitbit.app.premium.bloodSugar.dialog.render(document.body);Y.Dom.removeClass("bloodSugarPremiumModal","invisible");fitbit.app.premium.bloodSugar.dialog.show();},onClose:function(){fitbit.app.premium.bloodSugar.dialog.cancel();}};})();(function(){fitbit.namespace("fitbit.app.premium.benchmarking");fitbit.app.premium.benchmarking={dialog:null,init:function(){fitbit.app.premium.benchmarking.dialog=new YAHOO.widget.Dialog("benchmarkingPremiumModal",{width:"554px",fixedcenter:true,visible:false,modal:true,constraintoviewport:true,draggable:false,close:false});},showDialog:function(){fitbit.app.premium.benchmarking.dialog.render(document.body);Y.Dom.removeClass("benchmarkingPremiumModal","invisible");fitbit.app.premium.benchmarking.dialog.show();},onClose:function(){fitbit.app.premium.benchmarking.dialog.cancel();}};})();(function(){fitbit.namespace("fitbit.app.premium.activityReport");fitbit.app.premium.activityReport={dialog:null,init:function(){fitbit.app.premium.activityReport.dialog=new YAHOO.widget.Dialog("activityReportPremiumModal",{width:"554px",fixedcenter:true,visible:false,modal:true,constraintoviewport:true,draggable:false,close:false});},showDialog:function(){fitbit.app.premium.activityReport.dialog.render(document.body);Y.Dom.removeClass("activityReportPremiumModal","invisible");fitbit.app.premium.activityReport.dialog.show();},onClose:function(){fitbit.app.premium.activityReport.dialog.cancel();}};})();(function(){fitbit.namespace("fitbit.app.premium.foodReport");fitbit.app.premium.foodReport={dialog:null,init:function(){fitbit.app.premium.foodReport.dialog=new YAHOO.widget.Dialog("foodReportPremiumModal",{width:"554px",fixedcenter:true,visible:false,modal:true,constraintoviewport:true,draggable:false,close:false});},showDialog:function(){fitbit.app.premium.foodReport.dialog.render(document.body);Y.Dom.removeClass("foodReportPremiumModal","invisible");fitbit.app.premium.foodReport.dialog.show();},onClose:function(){fitbit.app.premium.foodReport.dialog.cancel();}};})();(function(){fitbit.namespace("fitbit.app.premium.sleepReport");fitbit.app.premium.sleepReport={dialog:null,init:function(){fitbit.app.premium.sleepReport.dialog=new YAHOO.widget.Dialog("sleepReportPremiumModal",{width:"554px",fixedcenter:true,visible:false,modal:true,constraintoviewport:true,draggable:false,close:false});},showDialog:function(){fitbit.app.premium.sleepReport.dialog.render(document.body);Y.Dom.removeClass("sleepReportPremiumModal","invisible");fitbit.app.premium.sleepReport.dialog.show();},onClose:function(){fitbit.app.premium.sleepReport.dialog.cancel();}};})();(function(){fitbit.namespace("fitbit.app.premium.trainer");fitbit.app.premium.trainer={dialog:null,init:function(){fitbit.app.premium.trainer.dialog=new YAHOO.widget.Dialog("trainerPremiumModal",{width:"554px",zIndex:65,fixedcenter:true,visible:false,modal:true,constraintoviewport:true,draggable:false,close:false});},showDialog:function(){fitbit.app.premium.trainer.dialog.render(document.body);Y.Dom.removeClass("trainerPremiumModal","invisible");fitbit.app.premium.trainer.dialog.show();},onClose:function(){fitbit.app.premium.trainer.dialog.cancel();}};})();if(Y.Dom.get("customTrackersPremiumModal")!=null){fitbit.app.premium.customTrackers.init();}if(Y.Dom.get("photoStreamPremiumModal")!=null){fitbit.app.premium.photoStream.init();}if(Y.Dom.get("heartRatePremiumModal")!=null){fitbit.app.premium.heartRate.init();}if(Y.Dom.get("bloodSugarPremiumModal")!=null){fitbit.app.premium.bloodSugar.init();}if(Y.Dom.get("benchmarkingPremiumModal")!=null){fitbit.app.premium.benchmarking.init();}if(Y.Dom.get("activityReportPremiumModal")!=null){fitbit.app.premium.activityReport.init();}if(Y.Dom.get("foodReportPremiumModal")!=null){fitbit.app.premium.foodReport.init();}if(Y.Dom.get("sleepReportPremiumModal")!=null){fitbit.app.premium.sleepReport.init();}if(Y.Dom.get("trainerPremiumModal")!=null){fitbit.app.premium.trainer.init();}
var Y=YAHOO.util;(function(){fitbit.namespace("fitbit.app.customTracker");fitbit.app.customTracker={addCustomTrackerDialog:null,init:function(){fitbit.app.customTracker.addCustomTrackerDialog=new YAHOO.widget.Dialog("addCustomTrackerModal",{width:"384px",fixedcenter:true,visible:false,modal:true,constraintoviewport:true,draggable:false,close:false,buttons:[{text:fitbit.i18n.getResource("com.fitbit.app.tracker.label.add_tracker_button"),handler:fitbit.app.customTracker.handleAddCustomTrackerSubmit,id:"addCustomTracker",isDefault:true}]});},guessSubjectPluralForm:function(customTrackerFormId,singleFormElementName,pluralFormElementName,performGuess){var form=document.getElementById(customTrackerFormId);var singleForm=form[singleFormElementName].value;var pluralForm=performGuess?fitbit.app.customTracker.computeSubjectPluralForm(singleForm):singleForm;form[pluralFormElementName].value=pluralForm;},computeSubjectPluralForm:function(singleForm){var pluralForm=null;if(singleForm.charAt(singleForm.length-1)=="y"){pluralForm=singleForm.substr(0,singleForm.length-1)+"ies";}else{if(singleForm.charAt(singleForm.length-1)=="f"){pluralForm=singleForm.substr(0,singleForm.length-1)+"ves";}else{if(singleForm.charAt(singleForm.length-1)=="s"){pluralForm=singleForm+"es";}else{if(singleForm.charAt(singleForm.length-1)=="x"){pluralForm=singleForm+"es";}else{if(singleForm.charAt(singleForm.length-1)=="z"){pluralForm=singleForm+"es";}else{if(singleForm.charAt(singleForm.length-2)=="c"&&singleForm.charAt(singleForm.length-1)=="h"){pluralForm=singleForm+"es";}else{if(singleForm.charAt(singleForm.length-2)=="s"&&singleForm.charAt(singleForm.length-1)=="h"){pluralForm=singleForm+"es";}else{pluralForm=singleForm+"s";}}}}}}}return pluralForm;},showAddCustomTrackerDialog:function(){fitbit.app.customTracker.addCustomTrackerDialog.render(document.body);Y.Dom.removeClass("addCustomTrackerModal","invisible");fitbit.app.customTracker.setAddCustomTrackerButtonText(fitbit.i18n.getResource("com.fitbit.app.tracker.label.add_tracker_button"));fitbit.app.customTracker.addCustomTrackerDialog.show();},setAddCustomTrackerButtonText:function(buttonText){var addCustomTrackerButton=fitbit.app.customTracker.addCustomTrackerDialog.getButtons()[0];addCustomTrackerButton.innerHTML=buttonText;},onClose:function(){var form=document.getElementById("addCustomTrackerForm");fitbit.util.resetForm(form);var errorsElement=Y.Dom.get("addCustomTrackerModalErrors");fitbit.util.setContent(errorsElement,"");Y.Dom.addClass(errorsElement,"invisible");fitbit.app.customTracker.addCustomTrackerDialog.cancel();},handleAddCustomTrackerSubmit:function(){var progressElement=Y.Dom.get("addCustomTrackerModalProgress");fitbit.util.setContent(progressElement,'<img src="/images/controls/busy_grey_green.gif"/> '+fitbit.i18n.getResource("com.fitbit.app.tracker.message.tracker_add_progress"));Y.Dom.removeClass(progressElement,"invisible");var errorsElement=Y.Dom.get("addCustomTrackerModalErrors");fitbit.util.setContent(errorsElement,"");Y.Dom.addClass(errorsElement,"invisible");var form=document.getElementById("addCustomTrackerForm");var formActionURL=form.action;YAHOO.util.Connect.setForm(form);YAHOO.util.Connect.asyncRequest("POST",formActionURL,{success:function(o){var result=eval("("+o.responseText+")").result;window.location="/log/"+result.uri;},failure:function(o){var result=eval("("+o.responseText+")").result;fitbit.util.setContent(Y.Dom.get("addCustomTrackerModalErrors"),fitbit.app.convertErrorsToList(result.errors));Y.Dom.removeClass(Y.Dom.get("addCustomTrackerModalErrors"),"invisible");fitbit.app.customTracker.addCustomTrackerDialog.hide();fitbit.app.customTracker.addCustomTrackerDialog.show();var progressElement=Y.Dom.get("addCustomTrackerModalProgress");fitbit.util.setContent(progressElement,"");Y.Dom.removeClass(progressElement,"invisible");}});}};})();if(Y.Dom.get("addCustomTrackerModal")!=null){fitbit.app.customTracker.init();}
var curvyCornersNoAutoScan=true;$.fb101NeedsSetup=true;(function(a){a.fn.fitbit101=function(c){var e=a(this),d=a.extend({},a.fn.fitbit101.defaults,c),b={tabsApi:{},scrollApi:{},init:function(){b.overlaySetup();if(a.fb101NeedsSetup){b.scrollSetup();b.tabSetup();b.tabRoute(d.sectionId);b.hideNextPrev();b.bindEvents();}},overlaySetup:function(){e.overlay({top:"center",left:"center",mask:{color:"#000",opacity:0.6},onLoad:function(){b.track();},close:".closeModal"});b.overlayApi=e.data("overlay");b.overlayApi.load();},bindEvents:function(){e.delegate("#fb101 .page_next, #fb101 .page_prev","click",function(h){var g=b.scrollLength(),f=b.scrollIndex();if(a(this).hasClass("page_next")){b.nextButton(g,f);}else{if(a(this).hasClass("page_prev")){b.prevButton(g,f);}}h.preventDefault();});e.delegate(e,"click",function(){b.hideNextPrev();});a(".chapterNav").delegate(".pager","click",function(){if(a(this).parent("li").hasClass("device")){b.scrollApi.device.begin();}else{if(a(this).parent("li").hasClass("basestation")){b.scrollApi.base.begin();}else{b.scrollApi.website.begin();}}b.hideNextPrev();});},tabSetup:function(){a(".chapterNav").tabs(".chapterPanes > div",{current:"selected"});b.tabsApi=a(".chapterNav").data("tabs");},tabRoute:function(f){switch(f){case"fb101-website":b.tabsApi.click(2);break;case"fb101-base":b.tabsApi.click(1);break;default:b.tabsApi.click(0);}},scrollSetup:function(){a(".fb101Scroll_device").scrollable({items:".section"}).navigator({navi:".fb101ScrollNav_device",naviItem:"a",activeClass:"selected"});b.scrollApi.device=a(".fb101Scroll_device").data("scrollable");a(".fb101Scroll_base").scrollable({items:".section"}).navigator({navi:".fb101ScrollNav_base",naviItem:"a",activeClass:"selected"});b.scrollApi.base=a(".fb101Scroll_base").data("scrollable");a(".fb101Scroll_website").scrollable({items:".section"}).navigator({navi:".fb101ScrollNav_website",naviItem:"a",activeClass:"selected"});b.scrollApi.website=a(".fb101Scroll_website").data("scrollable");a.fb101NeedsSetup=false;},whichScrollApi:function(){var f=b.tabsApi.getIndex();if(f===2){return b.scrollApi.website;}else{if(f===1){return b.scrollApi.base;}else{return b.scrollApi.device;}}},hideNextPrev:function(){var f=b.firstOrLastTab(),g=b.scrollIndex(),h=b.scrollLength();if(f==="first"&&g===0){e.find(".page_prev").hide();}else{if(f==="last"&&((g+1)===h)){e.find(".page_next").hide();}else{e.find(".page_prev, .page_next").show();}}},scrollLength:function(){var f=b.whichScrollApi();return f.getSize();},scrollIndex:function(){var f=b.whichScrollApi();return f.getIndex();},firstOrLastTab:function(){var f=b.tabsApi.getIndex(),g=b.tabsApi.getTabs().length;if((f===0)&&(g>1)){return"first";}else{if((f+1)===g){return"last";}}},nextButton:function(h,f){var g=b.whichScrollApi();if((f+1)<h){g.next();}else{b.tabsApi.next();}},prevButton:function(h,f){var g=b.whichScrollApi();if(f>0){g.prev();}else{b.tabsApi.prev();b.whichScrollApi().end();}},trackingLabelMap:{"fb101-device":"Fitbit101device","fb101-base":"Fitbit101base","fb101-website":"Fitbit101web"},track:function(){try{if(d.sectionId in b.trackingLabelMap&&fitbit.util.track){fitbit.util.track(["_trackEvent","Fitbit101","Click",b.trackingLabelMap[d.sectionId]]);}}catch(f){log(f);}}};b.init();};a.fn.fitbit101.defaults={sectionId:"fb101-device"};})(jQuery);
!function(a){a(function(){var o=false,i,m,l,k,g,n,f,e,j,h,d,c,b;a.aria101=function(){var w=a.parseJSON(a("#aria101_labels").html());if(o){q();return;}o=true;i=a("<div/>").css({zIndex:10000,"background-color":"#000","opacity":"0.5","width":"100%","height":"100%","position":"fixed","left":0,"top":0}).click(p);m=a("<div id='aria101'/>").css({zIndex:10001,"position":"fixed","left":"50%","margin-left":"-357px","top":"20%"});l=a("<div/>");k=a("<div/>").addClass("top-nav");g=[a("<button/>").text(w.using_scale),a("<button/>").text(w.adding_people),a("<button/>").text(w.reaching_goals)];_(g).map(function(y,x){k.append(y);y.click(function(){r(x+1,1);});});n=a("<div/>").addClass("close").text(w.close).appendTo(k);function p(){i.detach();m.detach();}n.click(p);f=a("<div/>").css({"background-color":"#d8d8d8","height":"44px","width":"714px"});e=a("<button/>").addClass("prev").text(w.prev).appendTo(f);j=a("<button/>").addClass("next").text(w.next).appendTo(f);h=a("<div/>").addClass("dots").appendTo(f);d=[3,3,3];c=[[{x:416,y:108},{x:405,y:96},{x:333,y:72}],[{x:440,y:92},{x:357,y:92},{x:440,y:81}],[{x:405,y:78},{x:434,y:88},{x:429,y:88}]];function r(y,z){var x=l.clone();var B="";x.css("background-image","url(/images/aria_101/"+y+"/"+z+B+".jpg)");var A=c[y-1][z-1];x.css({margin:0,"padding-left":A.x+"px","padding-top":A.y+"px",width:679-A.x+"px",height:408-A.y+"px","padding-right":"35px"});if(y==1&&z==1){x.css({margin:"0px -6px",width:685-A.x+"px"});}x.html(a("#aria101_"+y+"_"+z).html());t(x);u(y);s(y,z);l.replaceWith(x);l=x;}function s(x,y){e.removeClass("disabled").unbind("click");j.removeClass("disabled").unbind("click");if(x==1&&y==1){e.addClass("disabled");}else{e.click(function(){if(y==1){r(x-1,d[x-2]);}else{r(x,y-1);}});}if(x==3&&y==d[2]){j.addClass("disabled");}else{j.click(function(){if(y==d[x-1]){r(x+1,1);}else{r(x,y+1);}});}var z=_(_.range(d[x-1])).map(function(A){return a("<span/>").addClass(A==y-1?"active dot":"dot").click(function(){r(x,A+1);});});h.empty();_(z).map(function(A){h.append(A);});}function u(x){_(g).map(function(z,y){if(y==x-1){z.addClass("active");}else{z.removeClass("active");}});}function v(){if(a.fn.foodGoalModal){p();a().foodGoalModal();}else{if(window.location=="/#foodGoal"){p();}else{window.location="/#foodGoal";}}}function t(x){x.css("position","relative");x.find("h1").css({"font":'bold 30px "museo slab",georgia,serif',"color":"#333","padding":0,"margin":0});x.find("p, li, dd").css({"font":"14px helvetica,arial","color":"#666","margin":"10px 0px"});x.find("ol").css({"padding-left":"25px","padding-right":"25px","font-weight":"bold"});x.find("li").css({"margin-top":"13px","margin-bottom":"13px"});x.find("dt").css({"font":'bold 14px "museo slab",georgia,serif',"color":"#333"});x.find("dd").css({margin:0,"margin-bottom":"20px"});x.find("button").addClass("btnLg btnPink").css("margin-top","30px").click(v);}function q(){m.appendTo("body").append(l).append(f).append(k);i.appendTo("body");r(1,1);}q();};!function(){var p=/launchAria101/.test(location.hash);if(p){a.aria101();}}();});}(jQuery);
(function(f){f.zip101=function(){f(function(){c(0);});};f(a);f(function(){if(/launchZip101/.test(location.hash)||/launchZip101/.test(location.search)){f.zip101();}});var e,h,d;function b(){e.fadeOut(300);}function a(){e=f("#zip101_modal"),h=f("#zip101_dialog");e.click(function(i){if(i.target==this){b();}});h.find(".get_started,.close").click(b);}function c(j){e.css("display","block");d&&d.remove();d=f("#zip101_content > div").eq(j).children().clone();var k=["/simple.b-dis-png.h0804c82252f500ec24fcbaa0a1073e32.pack?items=%2Fimages%2Fzip_101%2Fscreen1.png","/simple.b-dis-png.h1156318a25e62b4fe841710e6675d66a.pack?items=%2Fimages%2Fzip_101%2Fscreen2.png","/simple.b-dis-png.h076c706c53251969b254f5786e35583f.pack?items=%2Fimages%2Fzip_101%2Fscreen3.png","/simple.b-dis-png.h0aade13e481ca4ba370ce46c12e1ec9b.pack?items=%2Fimages%2Fzip_101%2Fscreen4.png","/simple.b-dis-png.h3e134df46e34d4dc42b89d811c573374.pack?items=%2Fimages%2Fzip_101%2Fscreen5.png"];f("#zip101_container").append(d).css("backgroundImage","url("+k[j]+")");var i=j<=1?0:(j<=3?1:2);h.find(".nav").removeClass("activeNav").eq(i).addClass("activeNav");h.find(".prev,.next").show();h.find(".get_started").hide();if(j==0){h.find(".prev").hide();}if(j==4){h.find(".next").hide();h.find(".get_started").show();}h.find(".prev").off("click").click(function(){c(j-1);});h.find(".next").off("click").click(function(){c(j+1);});g(h.find(".readout.firstRow > div"));g(h.find(".readout.secondRow > div"));}function g(j){var i=0;j.each(function(){i=Math.max(i,f(this).height());}).each(function(){var k=(i-f(this).height())/2;f(this).css("paddingTop",k).css("paddingBottom",k);});}})(jQuery);
(function(f){f.one101=function(){f(function(){c(0);});};f(a);f(function(){if(/launchOne101/.test(location.hash)||/launchOne101/.test(location.search)){f.one101();}});var e,g,d;function b(){e.fadeOut(300);}function a(){e=f("#one101_modal"),g=f("#one101_dialog");e.click(function(h){if(h.target==this){b();}});g.find(".get_started,.close").click(b);}function c(i){e.css("display","block");d&&d.remove();d=f("#one101_content > div").eq(i).children().clone();var j=["/simple.b-dis-png.h94c9d40875b6f867533743af1bd14abf.pack?items=%2Fimages%2Fone_101%2Fscreen1.png","/simple.b-dis-png.h368d6333cb0932c32b276a3ecd3315bd.pack?items=%2Fimages%2Fone_101%2Fscreen2.png","/simple.b-dis-png.hf07376e00ce13c33f334926167d996e3.pack?items=%2Fimages%2Fone_101%2Fscreen3.png","/simple.b-dis-png.h052dd5474a6f45137a4fa7829ec1d1f5.pack?items=%2Fimages%2Fone_101%2Fscreen4.png","/simple.b-dis-png.h670bc62387da85d5f86f8880dfdf655f.pack?items=%2Fimages%2Fone_101%2Fscreen5.png","/simple.b-dis-png.h8446166764db47d4a150f3cae93b1533.pack?items=%2Fimages%2Fone_101%2Fscreen6.png","/simple.b-dis-png.hcb9b4530c03c9a95f2c2058d5a71d7b6.pack?items=%2Fimages%2Fone_101%2Fscreen7.png"];f("#one101_container").append(d).css("backgroundImage","url("+j[i]+")");f("#one101_container").find("ul > li").prepend(f("<span/>").html("&bull;").css({position:"absolute",left:0}));var h=i<=1?0:(i<=4?1:2);g.find(".nav").removeClass("activeNav").eq(h).addClass("activeNav");g.find(".prev,.next").show();g.find(".get_started").hide();if(i==0){g.find(".prev").hide();}if(i==6){g.find(".next").hide();g.find(".get_started").show();}g.find(".prev").off("click").click(function(){c(i-1);});g.find(".next").off("click").click(function(){c(i+1);});}})(jQuery);
(function(){var U=this,Q=U._,X={},aa=Array.prototype,W=Object.prototype,ac=aa.slice,O=aa.unshift,L=W.toString,Y=W.hasOwnProperty,N=aa.forEach,M=aa.map,K=aa.reduce,G=aa.reduceRight,k=aa.filter,e=aa.every,c=aa.some,V=aa.indexOf,a=aa.lastIndexOf;W=Array.isArray;var J=Object.keys,S=Function.prototype.bind,ad=function(b){return new Z(b);};typeof module!=="undefined"&&module.exports?(module.exports=ad,ad._=ad):U._=ad;ad.VERSION="1.1.7";var ab=ad.each=ad.forEach=function(h,l,f){if(h!=null){if(N&&h.forEach===N){h.forEach(l,f);}else{if(h.length===+h.length){for(var j=0,i=h.length;j<i;j++){if(j in h&&l.call(f,h[j],j,h)===X){break;}}}else{for(j in h){if(Y.call(h,j)&&l.call(f,h[j],j,h)===X){break;}}}}}};ad.map=function(h,j,f){var i=[];if(h==null){return i;}if(M&&h.map===M){return h.map(j,f);}ab(h,function(b,m,l){i[i.length]=j.call(f,b,m,l);});return i;};ad.reduce=ad.foldl=ad.inject=function(b,j,i,h){var f=i!==void 0;b==null&&(b=[]);if(K&&b.reduce===K){return h&&(j=ad.bind(j,h)),f?b.reduce(j,i):b.reduce(j);}ab(b,function(m,l,n){f?i=j.call(h,i,m,l,n):(i=m,f=!0);});if(!f){throw new TypeError("Reduce of empty array with no initial value");}return i;};ad.reduceRight=ad.foldr=function(b,i,h,f){b==null&&(b=[]);if(G&&b.reduceRight===G){return f&&(i=ad.bind(i,f)),h!==void 0?b.reduceRight(i,h):b.reduceRight(i);}b=(ad.isArray(b)?b.slice():ad.toArray(b)).reverse();return ad.reduce(b,i,h,f);};ad.find=ad.detect=function(h,j,f){var i;T(h,function(b,l,m){if(j.call(f,b,l,m)){return i=b,!0;}});return i;};ad.filter=ad.select=function(h,j,f){var i=[];if(h==null){return i;}if(k&&h.filter===k){return h.filter(j,f);}ab(h,function(b,l,m){j.call(f,b,l,m)&&(i[i.length]=b);});return i;};ad.reject=function(h,j,f){var i=[];if(h==null){return i;}ab(h,function(b,l,m){j.call(f,b,l,m)||(i[i.length]=b);});return i;};ad.every=ad.all=function(h,j,f){var i=!0;if(h==null){return i;}if(e&&h.every===e){return h.every(j,f);}ab(h,function(b,l,m){if(!(i=i&&j.call(f,b,l,m))){return X;}});return i;};var T=ad.some=ad.any=function(b,i,h){i=i||ad.identity;var f=!1;if(b==null){return f;}if(c&&b.some===c){return b.some(i,h);}ab(b,function(l,j,m){if(f|=i.call(h,l,j,m)){return X;}});return !!f;};ad.include=ad.contains=function(h,i){var f=!1;if(h==null){return f;}if(V&&h.indexOf===V){return h.indexOf(i)!=-1;}T(h,function(b){if(f=b===i){return !0;}});return f;};ad.invoke=function(b,h){var f=ac.call(arguments,2);return ad.map(b,function(i){return(h.call?h||i:i[h]).apply(i,f);});};ad.pluck=function(b,f){return ad.map(b,function(h){return h[f];});};ad.max=function(b,i,h){if(!i&&ad.isArray(b)){return Math.max.apply(Math,b);}var f={computed:-Infinity};ab(b,function(l,j,m){j=i?i.call(h,l,j,m):l;j>=f.computed&&(f={value:l,computed:j});});return f.value;};ad.min=function(b,i,h){if(!i&&ad.isArray(b)){return Math.min.apply(Math,b);}var f={computed:Infinity};ab(b,function(l,j,m){j=i?i.call(h,l,j,m):l;j<f.computed&&(f={value:l,computed:j});});return f.value;};ad.sortBy=function(b,h,f){return ad.pluck(ad.map(b,function(j,i,l){return{value:j,criteria:h.call(f,j,i,l)};}).sort(function(j,i){var m=j.criteria,l=i.criteria;return m<l?-1:m>l?1:0;}),"value");};ad.groupBy=function(h,f){var i={};ab(h,function(b,l){var j=f(b,l);(i[j]||(i[j]=[])).push(b);});return i;};ad.sortedIndex=function(b,m,l){l||(l=ad.identity);for(var j=0,i=b.length;j<i;){var h=j+i>>1;l(b[h])<l(m)?j=h+1:i=h;}return j;};ad.toArray=function(b){if(!b){return[];}if(b.toArray){return b.toArray();}if(ad.isArray(b)){return ac.call(b);}if(ad.isArguments(b)){return ac.call(b);}return ad.values(b);};ad.size=function(b){return ad.toArray(b).length;};ad.first=ad.head=function(h,f,i){return f!=null&&!i?ac.call(h,0,f):h[0];};ad.rest=ad.tail=function(h,f,i){return ac.call(h,f==null||i?1:f);};ad.last=function(b){return b[b.length-1];};ad.compact=function(b){return ad.filter(b,function(f){return !!f;});};ad.flatten=function(b){return ad.reduce(b,function(f,h){if(ad.isArray(h)){return f.concat(ad.flatten(h));}f[f.length]=h;return f;},[]);};ad.without=function(b){return ad.difference(b,ac.call(arguments,1));};ad.uniq=ad.unique=function(b,f){return ad.reduce(b,function(h,j,i){if(0==i||(f===!0?ad.last(h)!=j:!ad.include(h,j))){h[h.length]=j;}return h;},[]);};ad.union=function(){return ad.uniq(ad.flatten(arguments));};ad.intersection=ad.intersect=function(b){var f=ac.call(arguments,1);return ad.filter(ad.uniq(b),function(h){return ad.every(f,function(i){return ad.indexOf(i,h)>=0;});});};ad.difference=function(b,f){return ad.filter(b,function(h){return !ad.include(f,h);});};ad.zip=function(){for(var b=ac.call(arguments),i=ad.max(ad.pluck(b,"length")),h=Array(i),f=0;f<i;f++){h[f]=ad.pluck(b,""+f);}return h;};ad.indexOf=function(b,i,h){if(b==null){return -1;}var f;if(h){return h=ad.sortedIndex(b,i),b[h]===i?h:-1;}if(V&&b.indexOf===V){return b.indexOf(i);}h=0;for(f=b.length;h<f;h++){if(b[h]===i){return h;}}return -1;};ad.lastIndexOf=function(h,f){if(h==null){return -1;}if(a&&h.lastIndexOf===a){return h.lastIndexOf(f);}for(var i=h.length;i--;){if(h[i]===f){return i;}}return -1;};ad.range=function(i,h,n){arguments.length<=1&&(h=i||0,i=0);n=arguments[2]||1;for(var m=Math.max(Math.ceil((h-i)/n),0),l=0,j=Array(m);l<m;){j[l++]=i,i+=n;}return j;};ad.bind=function(h,f){if(h.bind===S&&S){return S.apply(h,ac.call(arguments,1));}var i=ac.call(arguments,2);return function(){return h.apply(f,i.concat(ac.call(arguments)));};};ad.bindAll=function(b){var f=ac.call(arguments,1);f.length==0&&(f=ad.functions(b));ab(f,function(h){b[h]=ad.bind(b[h],b);});return b;};ad.memoize=function(b,h){var f={};h||(h=ad.identity);return function(){var i=h.apply(this,arguments);return Y.call(f,i)?f[i]:f[i]=b.apply(this,arguments);};};ad.delay=function(h,f){var i=ac.call(arguments,2);return setTimeout(function(){return h.apply(h,i);},f);};ad.defer=function(b){return ad.delay.apply(ad,[b,1].concat(ac.call(arguments,1)));};var R=function(h,f,j){var i;return function(){var m=this,l=arguments,b=function(){i=null;h.apply(m,l);};j&&clearTimeout(i);if(j||!i){i=setTimeout(b,f);}};};ad.throttle=function(h,f){return R(h,f,!1);};ad.debounce=function(h,f){return R(h,f,!0);};ad.once=function(h){var f=!1,i;return function(){if(f){return i;}f=!0;return i=h.apply(this,arguments);};};ad.wrap=function(h,f){return function(){var b=[h].concat(ac.call(arguments));return f.apply(this,b);};};ad.compose=function(){var b=ac.call(arguments);return function(){for(var f=ac.call(arguments),h=b.length-1;h>=0;h--){f=[b[h].apply(this,f)];}return f[0];};};ad.after=function(h,f){return function(){if(--h<1){return f.apply(this,arguments);}};};ad.keys=J||function(h){if(h!==Object(h)){throw new TypeError("Invalid object");}var f=[],i;for(i in h){Y.call(h,i)&&(f[f.length]=i);}return f;};ad.values=function(b){return ad.map(b,ad.identity);};ad.functions=ad.methods=function(b){var h=[],f;for(f in b){ad.isFunction(b[f])&&h.push(f);}return h.sort();};ad.extend=function(b){ab(ac.call(arguments,1),function(f){for(var h in f){f[h]!==void 0&&(b[h]=f[h]);}});return b;};ad.defaults=function(b){ab(ac.call(arguments,1),function(f){for(var h in f){b[h]==null&&(b[h]=f[h]);}});return b;};ad.clone=function(b){return ad.isArray(b)?b.slice():ad.extend({},b);};ad.tap=function(h,f){f(h);return h;};ad.isEqual=function(b,l){if(b===l){return !0;}var j=typeof b;if(j!=typeof l){return !1;}if(b==l){return !0;}if(!b&&l||b&&!l){return !1;}if(b._chain){b=b._wrapped;}if(l._chain){l=l._wrapped;}if(b.isEqual){return b.isEqual(l);}if(l.isEqual){return l.isEqual(b);}if(ad.isDate(b)&&ad.isDate(l)){return b.getTime()===l.getTime();}if(ad.isNaN(b)&&ad.isNaN(l)){return !1;}if(ad.isRegExp(b)&&ad.isRegExp(l)){return b.source===l.source&&b.global===l.global&&b.ignoreCase===l.ignoreCase&&b.multiline===l.multiline;}if(j!=="object"){return !1;}if(b.length&&b.length!==l.length){return !1;}j=ad.keys(b);var i=ad.keys(l);if(j.length!=i.length){return !1;}for(var h in b){if(!(h in l)||!ad.isEqual(b[h],l[h])){return !1;}}return !0;};ad.isEmpty=function(b){if(ad.isArray(b)||ad.isString(b)){return b.length===0;}for(var f in b){if(Y.call(b,f)){return !1;}}return !0;};ad.isElement=function(b){return !!(b&&b.nodeType==1);};ad.isArray=W||function(b){return L.call(b)==="[object Array]";};ad.isObject=function(b){return b===Object(b);};ad.isArguments=function(b){return !(!b||!Y.call(b,"callee"));};ad.isFunction=function(b){return !(!b||!b.constructor||!b.call||!b.apply);};ad.isString=function(b){return !!(b===""||b&&b.charCodeAt&&b.substr);};ad.isNumber=function(b){return !!(b===0||b&&b.toExponential&&b.toFixed);};ad.isNaN=function(b){return b!==b;};ad.isBoolean=function(b){return b===!0||b===!1;};ad.isDate=function(b){return !(!b||!b.getTimezoneOffset||!b.setUTCFullYear);};ad.isRegExp=function(b){return !(!b||!b.test||!b.exec||!(b.ignoreCase||b.ignoreCase===!1));};ad.isNull=function(b){return b===null;};ad.isUndefined=function(b){return b===void 0;};ad.noConflict=function(){U._=Q;return this;};ad.identity=function(b){return b;};ad.times=function(h,f,j){for(var i=0;i<h;i++){f.call(j,i);}};ad.mixin=function(b){ab(ad.functions(b),function(f){g(f,ad[f]=b[f]);});};var d=0;ad.uniqueId=function(h){var f=d++;return h?h+f:f;};ad.templateSettings={evaluate:/{([\s\S]+?)}/g,interpolate:/{(([\s\S]+?))}/g};ad.template=function(b,h){var f=ad.templateSettings;f="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+b.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(f.interpolate,function(j,i){return"',"+i.replace(/\\'/g,"'")+",'";}).replace(f.evaluate||null,function(j,i){return"');"+i.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('";}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";f=new Function("obj",f);return h?f(h):f;};var Z=function(b){this._wrapped=b;};ad.prototype=Z.prototype;var P=function(b,f){return f?ad(b).chain():b;},g=function(b,f){Z.prototype[b]=function(){var h=ac.call(arguments);O.call(h,this._wrapped);return P(f.apply(ad,h),this._chain);};};ad.mixin(ad);ab(["pop","push","reverse","shift","sort","splice","unshift"],function(h){var f=aa[h];Z.prototype[h]=function(){f.apply(this._wrapped,arguments);return P(this._wrapped,this._chain);};});ab(["concat","join","slice"],function(h){var f=aa[h];Z.prototype[h]=function(){return P(f.apply(this._wrapped,arguments),this._chain);};});Z.prototype.chain=function(){this._chain=!0;return this;};Z.prototype.value=function(){return this._wrapped;};})();
window.Modernizr=function(Z,Y,X){function G(b){R.cssText=b;}function F(d,c){return G(prefixes.join(d+";")+(c||""));}function E(d,c){return typeof d===c;}function D(d,c){return !!~(""+d).indexOf(c);}function C(g,c,j){for(var i in g){var h=c[g[i]];if(h!==X){return j===!1?g[i]:E(h,"function")?h.bind(j||c):h;}}return !1;}function B(){V.input=function(f){for(var b=0,a=f.length;b<a;b++){M[f[b]]=f[b] in Q;}return M.list&&(M.list=!!Y.createElement("datalist")&&!!Z.HTMLDataListElement),M;}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));}var W="2.6.0",V={},U=Y.documentElement,T="modernizr",S=Y.createElement(T),R=S.style,Q=Y.createElement("input"),P={}.toString,O={},N={},M={},L=[],K=L.slice,J,I={}.hasOwnProperty,H;!E(I,"undefined")&&!E(I.call,"undefined")?H=function(d,c){return I.call(d,c);}:H=function(d,c){return c in d&&E(d.constructor.prototype[c],"undefined");},Function.prototype.bind||(Function.prototype.bind=function(a){var h=this;if(typeof h!="function"){throw new TypeError;}var g=K.call(arguments,1),f=function(){if(this instanceof f){var b=function(){};b.prototype=h.prototype;var d=new b,c=h.apply(d,g.concat(K.call(arguments)));return Object(c)===c?c:d;}return h.apply(a,g.concat(K.call(arguments)));};return f;});for(var A in O){H(O,A)&&(J=A.toLowerCase(),V[J]=O[A](),L.push((V[J]?"":"no-")+J));}return V.input||B(),V.addTest=function(e,c){if(typeof e=="object"){for(var f in e){H(e,f)&&V.addTest(f,e[f]);}}else{e=e.toLowerCase();if(V[e]!==X){return V;}c=typeof c=="function"?c():c,enableClasses&&(U.className+=" "+(c?"":"no-")+e),V[e]=c;}return V;},G(""),S=Q=null,V._version=W,V;}(this,this.document);
window.log=function(){log.history=log.history||[];log.history.push(arguments);if(this.console){arguments.callee=arguments.callee.caller;var a=[].slice.call(arguments);(typeof console.log==="object"?log.apply.call(console.log,console,a):console.log.apply(console,a));}};(function(e){function h(){}for(var g="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn".split(","),f;f=g.pop();){e[f]=e[f]||h;}})((function(){try{console.log();return window.console;}catch(a){return window.console={};}})());(function(a){var b=a({});a.subscribe=function(){b.on.apply(b,arguments);};a.unsubscribe=function(){b.off.apply(b,arguments);};a.publish=function(){b.trigger.apply(b,arguments);};}(jQuery));$.subscribe("xhr",function(b,a){$.ajax({type:a.method,url:a.url,data:a.params,success:function(c){if(typeof a.callback==="function"){a.callback($.isPlainObject(c)?c:$.parseJSON(c));}},error:function(d,c){if(d.status===0){console.error("Not connecting.\n Verify Network.");}else{if(d.status==404){console.error("Requested page not found. [404]");}else{if(d.status==500){console.error("Internal Server Error [500].");}else{if(c==="parsererror"){console.error("Requested JSON parse failed.");}else{if(c==="timeout"){console.error("Time out error.");}else{if(c==="abort"){console.error("Ajax request aborted.");}else{console.error("Uncaught Error.\n"+d.responseText);}}}}}}}});});
