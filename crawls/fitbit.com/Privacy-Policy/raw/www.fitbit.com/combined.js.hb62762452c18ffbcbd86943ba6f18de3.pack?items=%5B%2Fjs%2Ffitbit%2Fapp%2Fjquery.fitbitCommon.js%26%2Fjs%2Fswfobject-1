(function(b){b.fn.mouseDownButton=function(a){var d=b.extend({},b.fn.mouseDownButton.defaults,a);b(this).live("mousedown",function(){if(d.useCustom){b(this).css(d.downStateCss);}else{b(this).addClass("down");}}).live("mouseup",function(){if(d.useCustom){b(this).css(d.upStateCss);}else{b(this).removeClass("down");}});};b.fn.mouseDownButton.defaults={useCustom:false,downStateCss:{},upStateCss:{}};b(function(){b(".hasDownState").mouseDownButton();b(".purchase").mouseDownButton({useCustom:true,downStateCss:{"background-position":"-378px 0"},upStateCss:{"background-position":"0 0"}});});})(jQuery);(function(b){b(document).ready(function(){if(Modernizr.input.placeholder){return;}b("input[placeholder]").not(".field").each(function(h){var f=b(this),g=f.attr("placeholder");f.parent().css("position","relative");f.before("<div class='placeholder invisible' style='position:absolute;border:none;text-align:left;background:transparent;'></div>");var a=f.parent().children(".placeholder");a.css("font-size",f.css("font-size"));a.css("width",f.css("width"));a.css("height",f.css("height"));a.css("line-height",f.css("height"));a.css("padding-top",f.css("padding-top"));a.css("padding-left",f.css("padding-left"));a.css("padding-right",f.css("padding-right"));a.css("padding-bottom",f.css("padding-bottom"));a.text(g);if(g!=""&&f.val()==""){a.removeClass("invisible");}f.bind("mousedown focus",function(){a.addClass("invisible");});a.mousedown(function(){a.addClass("invisible");f.focus();});f.blur(function(){if(f.val()==""){a.removeClass("invisible");}else{a.addClass("invisible");}a.text(f.attr("placeholder"));});});});})(jQuery);if(typeof deconcept=="undefined"){var deconcept=new Object();}if(typeof deconcept.util=="undefined"){deconcept.util=new Object();}if(typeof deconcept.SWFObjectUtil=="undefined"){deconcept.SWFObjectUtil=new Object();}deconcept.SWFObject=function(h,w,c,u,q,p,s,t,v,o){if(!document.getElementById){return;}this.DETECT_KEY=o?o:"detectflash";this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY);this.params=new Object();this.variables=new Object();this.attributes=new Array();if(h){this.setAttribute("swf",h);}if(w){this.setAttribute("id",w);}if(c){this.setAttribute("width",c);}if(u){this.setAttribute("height",u);}if(q){this.setAttribute("version",new deconcept.PlayerVersion(q.toString().split(".")));}this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion();if(!window.opera&&document.all&&this.installedVer.major>7){deconcept.SWFObject.doPrepUnload=true;}if(p){this.addParam("bgcolor",p);}var x=s?s:"high";this.addParam("quality",x);this.setAttribute("useExpressInstall",false);this.setAttribute("doExpressInstall",false);var r=(t)?t:window.location;this.setAttribute("xiRedirectUrl",r);this.setAttribute("redirectUrl","");if(v){this.setAttribute("redirectUrl",v);}};deconcept.SWFObject.prototype={useExpressInstall:function(b){this.xiSWFPath=!b?"expressinstall.swf":b;this.setAttribute("useExpressInstall",true);},setAttribute:function(d,c){this.attributes[d]=c;},getAttribute:function(b){return this.attributes[b];},addParam:function(c,d){this.params[c]=d;},getParams:function(){return this.params;},addVariable:function(c,d){this.variables[c]=d;},getVariable:function(b){return this.variables[b];},getVariables:function(){return this.variables;},getVariablePairs:function(){var f=new Array();var d;var e=this.getVariables();for(d in e){f[f.length]=d+"="+e[d];}return f;},getSWFHTML:function(){var g="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn");this.setAttribute("swf",this.xiSWFPath);}g='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'"';g+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var i=this.getParams();for(var j in i){g+=[j]+'="'+i[j]+'" ';}var k=this.getVariablePairs().join("&");if(k.length>0){g+='flashvars="'+k+'"';}g+="/>";}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX");this.setAttribute("swf",this.xiSWFPath);}g='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'">';g+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var l=this.getParams();for(var j in l){g+='<param name="'+j+'" value="'+l[j]+'" />';}var h=this.getVariablePairs().join("&");if(h.length>0){g+='<param name="flashvars" value="'+h+'" />';}g+="</object>";}return g;},write:function(d){if(this.getAttribute("useExpressInstall")){var e=new deconcept.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(e)&&!this.installedVer.versionIsValid(this.getAttribute("version"))){this.setAttribute("doExpressInstall",true);this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl")));document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title);}}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var f=(typeof d=="string")?document.getElementById(d):d;f.innerHTML=this.getSWFHTML();return true;}else{if(this.getAttribute("redirectUrl")!=""){document.location.replace(this.getAttribute("redirectUrl"));}}return false;}};deconcept.SWFObjectUtil.getPlayerVersion=function(){var h=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var g=navigator.plugins["Shockwave Flash"];if(g&&g.description){h=new deconcept.PlayerVersion(g.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."));}}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var e=1;var j=3;while(e){try{j++;e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+j);h=new deconcept.PlayerVersion([j,0,0]);}catch(i){e=null;}}}else{try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");}catch(i){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");h=new deconcept.PlayerVersion([6,0,21]);e.AllowScriptAccess="always";}catch(i){if(h.major==6){return h;}}try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}catch(i){}}if(e!=null){h=new deconcept.PlayerVersion(e.GetVariable("$version").split(" ")[1].split(","));}}}return h;};deconcept.PlayerVersion=function(b){this.major=b[0]!=null?parseInt(b[0]):0;this.minor=b[1]!=null?parseInt(b[1]):0;this.rev=b[2]!=null?parseInt(b[2]):0;};deconcept.PlayerVersion.prototype.versionIsValid=function(b){if(this.major<b.major){return false;}if(this.major>b.major){return true;}if(this.minor<b.minor){return false;}if(this.minor>b.minor){return true;}if(this.rev<b.rev){return false;}return true;};deconcept.util={getRequestParameter:function(h){var g=document.location.search||document.location.hash;if(h==null){return g;}if(g){var e=g.substring(1).split("&");for(var f=0;f<e.length;f++){if(e[f].substring(0,e[f].indexOf("="))==h){return e[f].substring((e[f].indexOf("=")+1));}}}return"";}};deconcept.SWFObjectUtil.cleanupSWFs=function(){var d=document.getElementsByTagName("OBJECT");for(var f=d.length-1;f>=0;f--){d[f].style.display="none";for(var e in d[f]){if(typeof d[f][e]=="function"){d[f][e]=function(){};}}}};if(deconcept.SWFObject.doPrepUnload){if(!deconcept.unloadSet){deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};window.attachEvent("onunload",deconcept.SWFObjectUtil.cleanupSWFs);};window.attachEvent("onbeforeunload",deconcept.SWFObjectUtil.prepUnload);deconcept.unloadSet=true;}}if(!document.getElementById&&document.all){document.getElementById=function(b){return document.all[b];};}var getQueryParamValue=deconcept.util.getRequestParameter;var FlashObject=deconcept.SWFObject;var SWFObject=deconcept.SWFObject;if(typeof fitbit=="undefined"){var fitbit={};}fitbit.namespace=function(){var a=arguments,d=null,i,j,h;for(i=0;i<a.length;i=i+1){h=a[i].split(".");d=fitbit;for(j=(h[0]=="fitbit")?1:0;j<h.length;j=j+1){d[h[j]]=d[h[j]]||{};d=d[h[j]];}}return d;};var JSON;if(!JSON){JSON={};}(function(){function f(n){return n<10?"0"+n:n;}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key);}if(typeof rep==="function"){value=rep.call(holder,key,value);}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null";}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null";}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v;}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v;}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" ";}}else{if(typeof space==="string"){indent=space;}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify");}return str("",{"":value});};}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return reviver.call(holder,key,value);}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);});}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j;}throw new SyntaxError("JSON.parse");};}}());(function(g){g.tools=g.tools||{version:"@VERSION"};g.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,position:["top","center"],offset:[0,0],relative:false,cancelDefault:true,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(c,a,b){h[c]=[a,b];}};var h={toggle:[function(d){var c=this.getConf(),b=this.getTip(),a=c.opacity;if(a<1){b.css({opacity:a});}b.show();d.call();},function(a){this.getTip().hide();a.call();}],fade:[function(b){var a=this.getConf();this.getTip().fadeTo(a.fadeInSpeed,a.opacity,b);},function(a){this.getTip().fadeOut(this.getConf().fadeOutSpeed,a);}]};function e(n,d,o){var b=o.relative?n.position().top:n.offset().top,c=o.relative?n.position().left:n.offset().left,a=o.position[0];b-=d.outerHeight()-o.offset[0];c+=n.outerWidth()+o.offset[1];if(/iPad/i.test(navigator.userAgent)){b-=g(window).scrollTop();}var p=d.outerHeight()+n.outerHeight();if(a=="center"){b+=p/2;}if(a=="bottom"){b+=p;}a=o.position[1];var m=d.outerWidth()+n.outerWidth();if(a=="center"){c-=m/2;}if(a=="left"){c-=m;}return{top:b,left:c};}function f(z,x){var a=this,A=z.add(a),d,B=0,b=0,u=z.attr("title"),y=z.attr("data-tooltip"),D=h[x.effect],t,v=z.is(":input"),C=v&&z.is(":checkbox, :radio, select, :button, :submit"),w=z.attr("type"),c=x.events[w]||x.events[v?(C?"widget":"input"):"def"];if(!D){throw'Nonexistent effect "'+x.effect+'"';}c=c.split(/,\s*/);if(c.length!=2){throw"Tooltip: bad events configuration for "+w;}z.bind(c[0],function(i){clearTimeout(B);if(x.predelay){b=setTimeout(function(){a.show(i);},x.predelay);}else{a.show(i);}}).bind(c[1],function(i){clearTimeout(b);if(x.delay){B=setTimeout(function(){a.hide(i);},x.delay);}else{a.hide(i);}});if(u&&x.cancelDefault){z.removeAttr("title");z.data("title",u);}g.extend(a,{show:function(j){if(!d){if(y){d=g(y);}else{if(x.tip){d=g(x.tip).eq(0);}else{if(u){d=g(x.layout).addClass(x.tipClass).appendTo(document.body).hide().append(u);}else{d=z.next();if(!d.length){d=z.parent().next();}}}}if(!d.length){throw"Cannot find tooltip for "+z;}}if(a.isShown()){return a;}d.stop(true,true);var i=e(z,d,x);if(x.tip){d.html(z.data("title"));}j=j||g.Event();j.type="onBeforeShow";A.trigger(j,[i]);if(j.isDefaultPrevented()){return a;}i=e(z,d,x);d.css({position:"absolute",top:i.top,left:i.left});t=true;D[0].call(a,function(){j.type="onShow";t="full";A.trigger(j);});var k=x.events.tooltip.split(/,\s*/);if(!d.data("__set")){d.bind(k[0],function(){clearTimeout(B);clearTimeout(b);});if(k[1]&&!z.is("input:not(:checkbox, :radio), textarea")){d.bind(k[1],function(l){if(l.relatedTarget!=z[0]){z.trigger(c[1].split(" ")[0]);}});}d.data("__set",true);}return a;},hide:function(i){if(!d||!a.isShown()){return a;}i=i||g.Event();i.type="onBeforeHide";A.trigger(i);if(i.isDefaultPrevented()){return;}t=false;h[x.effect][1].call(a,function(){i.type="onHide";A.trigger(i);});return a;},isShown:function(i){return i?t=="full":t;},getConf:function(){return x;},getTip:function(){return d;},getTrigger:function(){return z;}});g.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(i,j){if(g.isFunction(x[j])){g(a).bind(j,x[j]);}a[j]=function(k){if(k){g(a).bind(j,k);}return a;};});}g.fn.tooltip=function(b){var a=this.data("tooltip");if(a){return a;}b=g.extend(true,{},g.tools.tooltip.conf,b);if(typeof b.position=="string"){b.position=b.position.split(/,?\s/);}this.each(function(){a=new f(g(this),b);g(this).data("tooltip",a);});return b.api?a:this;};})(jQuery);(function(d){var e=d.tools.tooltip;d.extend(e.conf,{direction:"up",bounce:false,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!d.browser.msie});var f={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};e.addEffect("slide",function(j){var c=this.getConf(),b=this.getTip(),a=c.slideFade?{opacity:c.opacity}:{},i=f[c.direction]||f.up;a[i[1]]=i[0]+"="+c.slideOffset;if(c.slideFade){b.css({opacity:0});}b.show().animate(a,c.slideInSpeed,j);},function(k){var c=this.getConf(),a=c.slideOffset,b=c.slideFade?{opacity:0}:{},j=f[c.direction]||f.up;var l=""+j[0];if(c.bounce){l=l=="+"?"-":"+";}b[j[1]]=l+"="+a;this.getTip().animate(b,c.slideOutSpeed,function(){d(this).hide();k.call();});});})(jQuery);(function(g){g.tools=g.tools||{version:"@VERSION"};g.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",rotate:false,history:false},addEffect:function(b,a){h[b]=a;}};var h={"default":function(a,b){this.getPanes().hide().eq(a).show();b.call();},fade:function(c,i){var d=this.getConf(),a=d.fadeOutSpeed,b=this.getPanes();if(a){b.fadeOut(a);}else{b.hide();}b.eq(c).fadeIn(d.fadeInSpeed,i);},slide:function(a,b){this.getPanes().slideUp(200);this.getPanes().eq(a).slideDown(400,b);},ajax:function(a,b){this.getPanes().eq(0).load(this.getTabs().eq(a).attr("href"),b);}};var e;g.tools.tabs.addEffect("horizontal",function(a,b){if(!e){e=this.getPanes().eq(0).width();}this.getCurrentPane().animate({width:0},function(){g(this).hide();});this.getPanes().eq(a).animate({width:e},function(){g(this).show();b.call();});});function f(p,c,m){var o=this,n=p.add(this),d=p.find(m.tabs),b=c.jquery?c:p.children(c),a;if(!d.length){d=p.children();}if(!b.length){b=p.parent().find(c);}if(!b.length){b=g(c);}g.extend(this,{click:function(i,j){var l=d.eq(i);if(typeof i=="string"&&i.replace("#","")){l=d.filter("[href*="+i.replace("#","")+"]");i=Math.max(d.index(l),0);}if(m.rotate){var k=d.length-1;if(i<0){return o.click(k,j);}if(i>k){return o.click(0,j);}}if(!l.length){if(a>=0){return o;}i=m.initialIndex;l=d.eq(i);}if(i===a){return o;}j=j||g.Event();j.type="onBeforeClick";n.trigger(j,[i]);if(j.isDefaultPrevented()){return;}h[m.effect].call(o,i,function(){j.type="onClick";n.trigger(j,[i]);});a=i;d.removeClass(m.current);l.addClass(m.current);return o;},getConf:function(){return m;},getTabs:function(){return d;},getPanes:function(){return b;},getCurrentPane:function(){return b.eq(a);},getCurrentTab:function(){return d.eq(a);},getIndex:function(){return a;},next:function(){return o.click(a+1);},prev:function(){return o.click(a-1);},destroy:function(){d.unbind(m.event).removeClass(m.current);b.find("a[href^=#]").unbind("click.T");return o;}});g.each("onBeforeClick,onClick".split(","),function(j,i){if(g.isFunction(m[i])){g(o).bind(i,m[i]);}o[i]=function(k){if(k){g(o).bind(i,k);}return o;};});if(m.history&&g.fn.history){g.tools.history.init(d);m.event="history";}d.each(function(i){g(this).bind(m.event,function(j){o.click(i,j);return j.preventDefault();});});b.find("a[href^=#]").bind("click.T",function(i){o.click(g(this).attr("href"),i);});if(location.hash&&m.tabs=="a"&&p.find("[href="+location.hash+"]").length){o.click(location.hash);}else{if(m.initialIndex===0||m.initialIndex>0){o.click(m.initialIndex);}}}g.fn.tabs=function(b,c){var a=this.data("tabs");if(a){a.destroy();this.removeData("tabs");}if(g.isFunction(c)){c={onBeforeClick:c};}c=g.extend({},g.tools.tabs.conf,c);this.each(function(){a=new f(g(this),b,c);g(this).data("tabs",a);});return c.api?a:this;};})(jQuery);(function(f){f.tools=f.tools||{version:"@VERSION"};f.tools.scrollable={conf:{activeClass:"active",circular:false,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:null,items:".items",keyboard:true,mousewheel:false,next:".next",prev:".prev",speed:400,vertical:false,touch:true,wheelSpeed:0}};function i(a,c){var d=parseInt(a.css(c),10);if(d){return d;}var b=a[0].currentStyle;return b&&b.width&&parseInt(b.width,10);}function h(c,a){var b=f(a);return b.length<2?b:c.parent().find(a);}var j;function g(b,c){var a=this,w=b.add(a),x=b.children(),e=0,u=c.vertical;if(!j){j=a;}if(x.length>1){x=f(c.items,b);}f.extend(a,{getConf:function(){return c;},getIndex:function(){return e;},getSize:function(){return a.getItems().size();},getNaviButtons:function(){return v.add(s);},getRoot:function(){return b;},getItemWrap:function(){return x;},getItems:function(){return x.children(c.item).not("."+c.clonedClass);},move:function(k,l){return a.seekTo(e+k,l);},next:function(k){return a.move(1,k);},prev:function(k){return a.move(-1,k);},begin:function(k){return a.seekTo(0,k);},end:function(k){return a.seekTo(a.getSize()-1,k);},focus:function(){j=a;return a;},addItem:function(k){k=f(k);if(!c.circular){x.append(k);}else{x.children("."+c.clonedClass+":last").before(k);x.children("."+c.clonedClass+":first").replaceWith(k.clone().addClass(c.clonedClass));}w.trigger("onAddItem",[k]);return a;},seekTo:function(p,k,n){if(!p.jquery){p*=1;}if(c.circular&&p===0&&e==-1&&k!==0){return a;}if(!c.circular&&p<0||p>a.getSize()||p<-1){return a;}var m=p;if(p.jquery){p=a.getItems().index(p);}else{m=a.getItems().eq(p);}var l=f.Event("onBeforeSeek");if(!n){w.trigger(l,[p,k]);if(l.isDefaultPrevented()||!m.length){return a;}}var o=u?{top:-m.position().top}:{left:-m.position().left};e=p;j=a;if(k===undefined){k=c.speed;}x.animate(o,k,c.easing,n||function(){w.trigger("onSeek",[p]);});return a;}});f.each(["onBeforeSeek","onSeek","onAddItem"],function(k,l){if(f.isFunction(c[l])){f(a).bind(l,c[l]);}a[l]=function(m){if(m){f(a).bind(l,m);}return a;};});if(c.circular){var d=a.getItems().slice(-1).clone().prependTo(x),r=a.getItems().eq(1).clone().appendTo(x);d.add(r).addClass(c.clonedClass);a.onBeforeSeek(function(k,m,l){if(k.isDefaultPrevented()){return;}if(m==-1){a.seekTo(d,l,function(){a.end(0);});return k.preventDefault();}else{if(m==a.getSize()){a.seekTo(r,l,function(){a.begin(0);});}}});a.seekTo(0,0,function(){});}var v=h(b,c.prev).click(function(){a.prev();}),s=h(b,c.next).click(function(){a.next();});if(!c.circular&&a.getSize()>1){a.onBeforeSeek(function(k,l){setTimeout(function(){if(!k.isDefaultPrevented()){v.toggleClass(c.disabledClass,l<=0);s.toggleClass(c.disabledClass,l>=a.getSize()-1);}},1);});if(!c.initialIndex){v.addClass(c.disabledClass);}}if(c.mousewheel&&f.fn.mousewheel){b.mousewheel(function(l,k){if(c.mousewheel){a.move(k<0?1:-1,c.wheelSpeed||50);return false;}});}if(c.touch){var t={};x[0].ontouchstart=function(k){var l=k.touches[0];t.x=l.clientX;t.y=l.clientY;};x[0].ontouchmove=function(k){if(k.touches.length==1&&!x.is(":animated")){var l=k.touches[0],m=t.x-l.clientX,n=t.y-l.clientY;a[u&&n>0||!u&&m>0?"next":"prev"]();k.preventDefault();}};}if(c.keyboard){f(document).bind("keydown.scrollable",function(l){if(!c.keyboard||l.altKey||l.ctrlKey||f(l.target).is(":input")){return;}if(c.keyboard!="static"&&j!=a){return;}var k=l.keyCode;if(u&&(k==38||k==40)){a.move(k==38?-1:1);return l.preventDefault();}if(!u&&(k==37||k==39)){a.move(k==37?-1:1);return l.preventDefault();}});}if(c.initialIndex){a.seekTo(c.initialIndex,0,function(){});}}f.fn.scrollable=function(b){var a=this.data("scrollable");if(a){return a;}b=f.extend({},f.tools.scrollable.conf,b);this.each(function(){a=new g(f(this),b);f(this).data("scrollable",a);});return b.api?a:this;};})(jQuery);(function(d){var e=d.tools.scrollable;e.navigator={conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:false,idPrefix:null,history:false}};function f(c,a){var b=d(a);return b.length<2?b:c.parent().find(a);}d.fn.navigator=function(a){if(typeof a=="string"){a={navi:a};}a=d.extend({},e.navigator.conf,a);var b;this.each(function(){var u=d(this).data("scrollable"),q=a.navi.jquery?a.navi:f(u.getRoot(),a.navi),r=u.getNaviButtons(),c=a.activeClass,t=a.history&&d.fn.history;if(u){b=u;}u.getNaviButtons=function(){return r.add(q);};function o(h,i,g){u.seekTo(i);if(t){if(location.hash){location.hash=h.attr("href").replace("#","");}}else{return g.preventDefault();}}function v(){return q.find(a.naviItem||"> *");}function p(h){var g=d("<"+(a.naviItem||"a")+"/>").click(function(i){o(d(this),h,i);}).attr("href","#"+h);if(h===0){g.addClass(c);}if(a.indexed){g.text(h+1);}if(a.idPrefix){g.attr("id",a.idPrefix+h);}return g.appendTo(q);}if(v().length){v().each(function(g){d(this).click(function(h){o(d(this),g,h);});});}else{d.each(u.getItems(),function(g){p(g);});}u.onBeforeSeek(function(g,h){setTimeout(function(){if(!g.isDefaultPrevented()){var i=v().eq(h);if(!g.isDefaultPrevented()&&i.length){v().removeClass(c).eq(h).addClass(c);}}},1);});function s(i,g){var h=v().eq(g.replace("#",""));if(!h.length){h=v().filter("[href="+g+"]");}h.click();}u.onAddItem(function(g,h){h=p(u.getItems().index(h));if(t){h.history(s);}});if(t){v().history(s);}});return a.api?b:this;};})(jQuery);(function(h){h.tools=h.tools||{version:"@VERSION"};h.tools.overlay={addEffect:function(c,b,a){e[c]=[b,a];},conf:{close:null,closeOnClick:true,closeOnEsc:true,closeSpeed:"fast",effect:"default",fixed:!h.browser.msie||h.browser.version>6,left:"center",load:false,mask:null,oneInstance:true,speed:"normal",target:null,top:"10%"}};var g=[],e={};h.tools.overlay.addEffect("default",function(a,b){var c=this.getConf(),d=h(window);if(!c.fixed){a.top+=d.scrollTop();a.left+=d.scrollLeft();}a.position=c.fixed?"fixed":"absolute";this.getOverlay().css(a).fadeIn(c.speed,b);},function(a){this.getOverlay().fadeOut(this.getConf().closeSpeed,a);});function f(s,c){var a=this,u=s.add(a),b=h(window),p,q,r,v=h.tools.expose&&(c.mask||c.expose),d=Math.random().toString().slice(10);if(v){if(typeof v=="string"){v={color:v};}v.closeOnClick=v.closeOnEsc=false;}var t=c.target||s.attr("rel");q=t?h(t):null||s;if(!q.length){throw"Could not find Overlay: "+t;}if(s&&s.index(q)==-1){s.click(function(i){a.load(i);return i.preventDefault();});}h.extend(a,{load:function(i){if(a.isOpened()){return a;}var l=e[c.effect];if(!l){throw'Overlay: cannot find effect : "'+c.effect+'"';}if(c.oneInstance){h.each(g,function(){this.close(i);});}i=i||h.Event();i.type="onBeforeLoad";u.trigger(i);if(i.isDefaultPrevented()){return a;}r=true;if(v){h(q).expose(v);}var j=c.top,k=c.left,n=q.outerWidth({margin:true}),m=q.outerHeight({margin:true});if(typeof j=="string"){j=j=="center"?Math.max((b.height()-m)/2,0):parseInt(j,10)/100*b.height();}if(k=="center"){k=Math.max((b.width()-n)/2,0);}l[0].call(a,{top:j,left:k},function(){if(r){i.type="onLoad";u.trigger(i);}});if(v&&c.closeOnClick){h.mask.getMask().one("click",a.close);}if(c.closeOnClick){h(document).bind("click."+d,function(o){if(!h(o.target).parents(q).length){a.close(o);}});}if(c.closeOnEsc){h(document).bind("keydown."+d,function(o){if(o.keyCode==27){a.close(o);}});}return a;},close:function(i){if(!a.isOpened()){return a;}i=i||h.Event();i.type="onBeforeClose";u.trigger(i);if(i.isDefaultPrevented()){return;}r=false;e[c.effect][1].call(a,function(){i.type="onClose";u.trigger(i);});h(document).unbind("click."+d).unbind("keydown."+d);if(v){h.mask.close();}return a;},getOverlay:function(){return q;},getTrigger:function(){return s;},getClosers:function(){return p;},isOpened:function(){return r;},getConf:function(){return c;}});h.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(i,j){if(h.isFunction(c[j])){h(a).bind(j,c[j]);}a[j]=function(k){if(k){h(a).bind(j,k);}return a;};});p=q.find(c.close||".close");if(!p.length&&!c.close){p=h('<a class="close"></a>');q.prepend(p);}p.click(function(i){a.close(i);});if(c.load){a.load();}}h.fn.overlay=function(b){var a=this.data("overlay");if(a){return a;}if(h.isFunction(b)){b={onBeforeLoad:b};}b=h.extend(true,{},h.tools.overlay.conf,b);this.each(function(){a=new f(h(this),b);g.push(a);h(this).data("overlay",a);});return b.api?a:this;};})(jQuery);(function(q){q.tools=q.tools||{version:"@VERSION"};var n;n=q.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:true,closeOnEsc:true,zIndex:9998,opacity:0.8,startOpacity:0,color:"#fff",onLoad:null,onClose:null}};function m(){if(q.browser.msie){var a=q(document).height(),b=q(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a-b<20?b:a];}return[q(document).width(),q(document).height()];}function k(a){if(a){return a.call(q.mask);}}var j,o,p,r,l;q.mask={load:function(c,a){if(p){return this;}if(typeof c=="string"){c={color:c};}c=c||r;r=c=q.extend(q.extend({},n.conf),c);j=q("#"+c.maskId);if(!j.length){j=q("<div/>").attr("id",c.maskId);q("body").append(j);}var b=m();j.css({position:"absolute",top:0,left:0,width:b[0],height:b[1],display:"none",opacity:c.startOpacity,zIndex:c.zIndex});if(c.color){j.css("backgroundColor",c.color);}if(k(c.onBeforeLoad)===false){return this;}if(c.closeOnEsc){q(document).bind("keydown.mask",function(d){if(d.keyCode==27){q.mask.close(d);}});}if(c.closeOnClick){j.bind("click.mask",function(d){q.mask.close(d);});}q(window).bind("resize.mask",function(){q.mask.fit();});if(a&&a.length){l=a.eq(0).css("zIndex");q.each(a,function(){var d=q(this);if(!/relative|absolute|fixed/i.test(d.css("position"))){d.css("position","relative");}});o=a.css({zIndex:Math.max(c.zIndex+1,l=="auto"?0:l)});}j.css({display:"block"}).fadeTo(c.loadSpeed,c.opacity,function(){q.mask.fit();k(c.onLoad);p="full";});p=true;return this;},close:function(){if(p){if(k(r.onBeforeClose)===false){return this;}j.fadeOut(r.closeSpeed,function(){k(r.onClose);if(o){o.css({zIndex:l});}p=false;});q(document).unbind("keydown.mask");j.unbind("click.mask");q(window).unbind("resize.mask");}return this;},fit:function(){if(p){var a=m();j.css({width:a[0],height:a[1]});}},getMask:function(){return j;},isLoaded:function(a){return a?p=="full":p;},getConf:function(){return r;},getExposed:function(){return o;}};q.fn.mask=function(a){q.mask.load(a);return this;};q.fn.expose=function(a){q.mask.load(a,this);return this;};})(jQuery);(function(e){function d(b,a){if(b&&a){d.locale[b]=a;}b=b||"en";a=a||d.locale[b];if(!a){throw new Error("Plural Function not found for locale: "+b);}this.pluralFunc=a;this.locale=b;}d.locale={"en":function(a){if(a===1){return"one";}return"other";},"en_us":function(){return this.en.apply(this,arguments);}};d.SafeString=function(a){this.string=a;};d.SafeString.prototype.toString=function(){return this.string.toString();};d.Utils={numSub:function(c,b,a){return c.replace(/^#|[^\\]#/g,function(j){var i=j&&j.length===2?j.charAt(0):"";return i+'" + (function(){ var x = '+b+';\nif( isNaN(x) ){\nthrow new Error("MessageFormat: `"+lastkey_'+a+'+"` isnt a number.");\n}\nreturn x;\n})() + "';});},escapeExpression:function(c){var b={"\n":"\\n"},a=/(\n)|[\n]/g,i=/[\n]/,j=function(g){return b[g]||"&amp;";};if(c instanceof d.SafeString){return c.toString();}else{if(c===null||c===false){return"";}}if(!i.test(c)){return c;}return c.replace(a,j);}};var f=(function(){var a={parse:function(aw,ar){var ax={"_":X,"char":W,"chars":P,"digits":ah,"elementFormat":ap,"hexDigit":at,"id":ae,"messageFormatElement":ai,"messageFormatPattern":an,"messageFormatPatternRight":aa,"offsetPattern":c,"pluralFormatPattern":af,"pluralForms":ab,"pluralStyle":U,"selectFormatPattern":Z,"selectStyle":O,"start":aj,"string":S,"stringKey":V,"whitespace":au};if(ar!==undefined){if(ax[ar]===undefined){throw new Error("Invalid rule name: "+am(ar)+".");}}else{ar="start";}var ac=0;var av=true;var R=0;var aq=[];var ao={};function b(k,g,i){var l=k;var h=i-k.length;for(var j=0;j<h;j++){l=g+l;}return l;}function ag(h){var i=h.charCodeAt(0);if(i<=255){var j="x";var g=2;}else{var j="u";var g=4;}return"\\"+j+b(i.toString(16).toUpperCase(),"0",g);}function am(g){return'"'+g.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/[\x80-\uFFFF]/g,ag)+'"';}function al(g){if(ac<R){return;}if(ac>R){R=ac;aq=[];}aq.push(g);}function aj(){var g="start@"+ac;var j=ao[g];if(j){ac=j.nextPos;return j.result;}var h=ac;var k=an();var l=k!==null?(function(m){return{type:"program",program:m};})(k):null;if(l!==null){var i=l;}else{var i=null;ac=h;}ao[g]={nextPos:ac,result:i};return i;}function an(){var i="messageFormatPattern@"+ac;var o=ao[i];if(o){ac=o.nextPos;return o.result;}var g=ac;var h=ac;var m=S();if(m!==null){var n=[];var p=aa();while(p!==null){n.push(p);var p=aa();}if(n!==null){var k=[m,n];}else{var k=null;ac=h;}}else{var k=null;ac=h;}var l=k!==null?(function(q,t){var s=[];if(q&&q.val){s.push(q);}for(var r in t){if(t.hasOwnProperty(r)){s.push(t[r]);}}return{type:"messageFormatPattern",statements:s};})(k[0],k[1]):null;if(l!==null){var j=l;}else{var j=null;ac=g;}ao[i]={nextPos:ac,result:j};return j;}function aa(){var j="messageFormatPatternRight@"+ac;var p=ao[j];if(p){ac=p.nextPos;return p.result;}var h=ac;var i=ac;if(aw.substr(ac,1)==="{"){var n="{";ac+=1;}else{var n=null;if(av){al('"{"');}}if(n!==null){var o=X();if(o!==null){var q=ai();if(q!==null){var r=X();if(r!==null){if(aw.substr(ac,1)==="}"){var s="}";ac+=1;}else{var s=null;if(av){al('"}"');}}if(s!==null){var g=S();if(g!==null){var l=[n,o,q,r,s,g];}else{var l=null;ac=i;}}else{var l=null;ac=i;}}else{var l=null;ac=i;}}else{var l=null;ac=i;}}else{var l=null;ac=i;}}else{var l=null;ac=i;}var m=l!==null?(function(t,u){var v=[];if(t){v.push(t);}if(u&&u.val){v.push(u);}return{type:"messageFormatPatternRight",statements:v};})(l[2],l[5]):null;if(m!==null){var k=m;}else{var k=null;ac=h;}ao[j]={nextPos:ac,result:k};return k;}function ai(){var j="messageFormatElement@"+ac;var o=ao[j];if(o){ac=o.nextPos;return o.result;}var g=ac;var h=ac;var n=ae();if(n!==null){var i=ac;if(aw.substr(ac,1)===","){var r=",";ac+=1;}else{var r=null;if(av){al('","');}}if(r!==null){var s=ap();if(s!==null){var q=[r,s];}else{var q=null;ac=i;}}else{var q=null;ac=i;}var p=q!==null?q:"";if(p!==null){var l=[n,p];}else{var l=null;ac=h;}}else{var l=null;ac=h;}var m=l!==null?(function(v,t){var u={type:"messageFormatElement",argumentIndex:v};if(t&&t.length){u.elementFormat=t[1];}else{u.output=true;}return u;})(l[0],l[1]):null;if(m!==null){var k=m;}else{var k=null;ac=g;}ao[j]={nextPos:ac,result:k};return k;}function ap(){var j="elementFormat@"+ac;var z=ao[j];if(z){ac=z.nextPos;return z.result;}var n=ac;var p=ac;var E=X();if(E!==null){if(aw.substr(ac,6)==="plural"){var F="plural";ac+=6;}else{var F=null;if(av){al('"plural"');}}if(F!==null){var G=X();if(G!==null){if(aw.substr(ac,1)===","){var g=",";ac+=1;}else{var g=null;if(av){al('","');}}if(g!==null){var h=X();if(h!==null){var i=U();if(i!==null){var s=X();if(s!==null){var C=[E,F,G,g,h,i,s];}else{var C=null;ac=p;}}else{var C=null;ac=p;}}else{var C=null;ac=p;}}else{var C=null;ac=p;}}else{var C=null;ac=p;}}else{var C=null;ac=p;}}else{var C=null;ac=p;}var D=C!==null?(function(I,H){return{type:"elementFormat",key:I,val:H.val};})(C[1],C[5]):null;if(D!==null){var B=D;}else{var B=null;ac=n;}if(B!==null){var l=B;}else{var k=ac;var m=ac;var t=X();if(t!==null){if(aw.substr(ac,6)==="select"){var u="select";ac+=6;}else{var u=null;if(av){al('"select"');}}if(u!==null){var v=X();if(v!==null){if(aw.substr(ac,1)===","){var w=",";ac+=1;}else{var w=null;if(av){al('","');}}if(w!==null){var x=X();if(x!==null){var y=O();if(y!==null){var A=X();if(A!==null){var q=[t,u,v,w,x,y,A];}else{var q=null;ac=m;}}else{var q=null;ac=m;}}else{var q=null;ac=m;}}else{var q=null;ac=m;}}else{var q=null;ac=m;}}else{var q=null;ac=m;}}else{var q=null;ac=m;}var r=q!==null?(function(I,H){return{type:"elementFormat",key:I,val:H.val};})(q[1],q[5]):null;if(r!==null){var o=r;}else{var o=null;ac=k;}if(o!==null){var l=o;}else{var l=null;}}ao[j]={nextPos:ac,result:l};return l;}function U(){var g="pluralStyle@"+ac;var j=ao[g];if(j){ac=j.nextPos;return j.result;}var h=ac;var k=af();var l=k!==null?(function(m){return{type:"pluralStyle",val:m};})(k):null;if(l!==null){var i=l;}else{var i=null;ac=h;}ao[g]={nextPos:ac,result:i};return i;}function O(){var g="selectStyle@"+ac;var j=ao[g];if(j){ac=j.nextPos;return j.result;}var h=ac;var k=Z();var l=k!==null?(function(m){return{type:"selectStyle",val:m};})(k):null;if(l!==null){var i=l;}else{var i=null;ac=h;}ao[g]={nextPos:ac,result:i};return i;}function af(){var i="pluralFormatPattern@"+ac;var o=ao[i];if(o){ac=o.nextPos;return o.result;}var g=ac;var h=ac;var q=c();var m=q!==null?q:"";if(m!==null){var n=[];var p=ab();while(p!==null){n.push(p);var p=ab();}if(n!==null){var k=[m,n];}else{var k=null;ac=h;}}else{var k=null;ac=h;}var l=k!==null?(function(r,t){var s={type:"pluralFormatPattern",pluralForms:t};if(r){s.offset=r;}else{s.offset=0;}return s;})(k[0],k[1]):null;if(l!==null){var j=l;}else{var j=null;ac=g;}ao[i]={nextPos:ac,result:j};return j;}function c(){var j="offsetPattern@"+ac;var p=ao[j];if(p){ac=p.nextPos;return p.result;}var h=ac;var i=ac;var n=X();if(n!==null){if(aw.substr(ac,6)==="offset"){var o="offset";ac+=6;}else{var o=null;if(av){al('"offset"');}}if(o!==null){var q=X();if(q!==null){if(aw.substr(ac,1)===":"){var r=":";ac+=1;}else{var r=null;if(av){al('":"');}}if(r!==null){var s=X();if(s!==null){var t=ah();if(t!==null){var g=X();if(g!==null){var l=[n,o,q,r,s,t,g];}else{var l=null;ac=i;}}else{var l=null;ac=i;}}else{var l=null;ac=i;}}else{var l=null;ac=i;}}else{var l=null;ac=i;}}else{var l=null;ac=i;}}else{var l=null;ac=i;}var m=l!==null?(function(u){return u;})(l[5]):null;if(m!==null){var k=m;}else{var k=null;ac=h;}ao[j]={nextPos:ac,result:k};return k;}function Z(){var g="selectFormatPattern@"+ac;var j=ao[g];if(j){ac=j.nextPos;return j.result;}var h=ac;var k=[];var m=ab();while(m!==null){k.push(m);var m=ab();}var l=k!==null?(function(n){return{type:"selectFormatPattern",pluralForms:n};})(k):null;if(l!==null){var i=l;}else{var i=null;ac=h;}ao[g]={nextPos:ac,result:i};return i;}function ab(){var i="pluralForms@"+ac;var p=ao[i];if(p){ac=p.nextPos;return p.result;}var g=ac;var h=ac;var n=X();if(n!==null){var o=V();if(o!==null){var q=X();if(q!==null){if(aw.substr(ac,1)==="{"){var r="{";ac+=1;}else{var r=null;if(av){al('"{"');}}if(r!==null){var s=X();if(s!==null){var t=an();if(t!==null){var u=X();if(u!==null){if(aw.substr(ac,1)==="}"){var l="}";ac+=1;}else{var l=null;if(av){al('"}"');}}if(l!==null){var k=[n,o,q,r,s,t,u,l];}else{var k=null;ac=h;}}else{var k=null;ac=h;}}else{var k=null;ac=h;}}else{var k=null;ac=h;}}else{var k=null;ac=h;}}else{var k=null;ac=h;}}else{var k=null;ac=h;}}else{var k=null;ac=h;}var m=k!==null?(function(w,v){return{type:"pluralForms",key:w,val:v};})(k[1],k[5]):null;if(m!==null){var j=m;}else{var j=null;ac=g;}ao[i]={nextPos:ac,result:j};return j;}function V(){var j="stringKey@"+ac;var o=ao[j];if(o){ac=o.nextPos;return o.result;}var i=ac;var s=ae();var t=s!==null?(function(u){return u;})(s):null;if(t!==null){var r=t;}else{var r=null;ac=i;}if(r!==null){var k=r;}else{var g=ac;var h=ac;if(aw.substr(ac,1)==="="){var p="=";ac+=1;}else{var p=null;if(av){al('"="');}}if(p!==null){var q=ah();if(q!==null){var m=[p,q];}else{var m=null;ac=h;}}else{var m=null;ac=h;}var n=m!==null?(function(u){return u;})(m[1]):null;if(n!==null){var l=n;}else{var l=null;ac=g;}if(l!==null){var k=l;}else{var k=null;}}ao[j]={nextPos:ac,result:k};return k;}function S(){var j="string@"+ac;var p=ao[j];if(p){ac=p.nextPos;return p.result;}var g=ac;var h=ac;var n=X();if(n!==null){var o=[];var i=ac;var r=X();if(r!==null){var s=P();if(s!==null){var t=X();if(t!==null){var q=[r,s,t];}else{var q=null;ac=i;}}else{var q=null;ac=i;}}else{var q=null;ac=i;}while(q!==null){o.push(q);var i=ac;var r=X();if(r!==null){var s=P();if(s!==null){var t=X();if(t!==null){var q=[r,s,t];}else{var q=null;ac=i;}}else{var q=null;ac=i;}}else{var q=null;ac=i;}}if(o!==null){var l=[n,o];}else{var l=null;ac=h;}}else{var l=null;ac=h;}var m=l!==null?(function(y,u){var v=[];for(var w=0;w<u.length;++w){for(var x=0;x<u[w].length;++x){v.push(u[w][x]);}}return{type:"string",val:y+v.join("")};})(l[0],l[1]):null;if(m!==null){var k=m;}else{var k=null;ac=g;}ao[j]={nextPos:ac,result:k};return k;}function ae(){var i="id@"+ac;var o=ao[i];if(o){ac=o.nextPos;return o.result;}var g=ac;var h=ac;var m=X();if(m!==null){if(aw.substr(ac).match(/^[a-zA-Z$_]/)!==null){var n=aw.charAt(ac);ac++;}else{var n=null;if(av){al("[a-zA-Z$_]");}}if(n!==null){var p=[];if(aw.substr(ac).match(/^[^ 	\n\r,.+={}]/)!==null){var r=aw.charAt(ac);ac++;}else{var r=null;if(av){al("[^ 	\\n\\r,.+={}]");}}while(r!==null){p.push(r);if(aw.substr(ac).match(/^[^ 	\n\r,.+={}]/)!==null){var r=aw.charAt(ac);ac++;}else{var r=null;if(av){al("[^ 	\\n\\r,.+={}]");}}}if(p!==null){var q=X();if(q!==null){var k=[m,n,p,q];}else{var k=null;ac=h;}}else{var k=null;ac=h;}}else{var k=null;ac=h;}}else{var k=null;ac=h;}var l=k!==null?(function(s,t){return s+(t?t.join(""):"");})(k[1],k[2]):null;if(l!==null){var j=l;}else{var j=null;ac=g;}ao[i]={nextPos:ac,result:j};return j;}function P(){var g="chars@"+ac;var j=ao[g];if(j){ac=j.nextPos;return j.result;}var h=ac;var m=W();if(m!==null){var k=[];while(m!==null){k.push(m);var m=W();}}else{var k=null;}var l=k!==null?(function(n){return n.join("");})(k):null;if(l!==null){var i=l;}else{var i=null;ac=h;}ao[g]={nextPos:ac,result:i};return i;}function W(){var i="char@"+ac;var A=ao[i];if(A){ac=A.nextPos;return A.result;}var s=ac;if(aw.substr(ac).match(/^[^{}\\\0- 	\n\r]/)!==null){var h=aw.charAt(ac);ac++;}else{var h=null;if(av){al("[^{}\\\\\\0- 	\\n\\r]");}}var t=h!==null?(function(J){return J;})(h):null;if(t!==null){var g=t;}else{var g=null;ac=s;}if(g!==null){var k=g;}else{var q=ac;if(aw.substr(ac,2)==="#"){var H="#";ac+=2;}else{var H=null;if(av){al('"\\#"');}}var I=H!==null?(function(){return"#";})():null;if(I!==null){var G=I;}else{var G=null;ac=q;}if(G!==null){var k=G;}else{var o=ac;if(aw.substr(ac,2)==="\\{"){var E="\\{";ac+=2;}else{var E=null;if(av){al('"\\\\{"');}}var F=E!==null?(function(){return"\u007B";})():null;if(F!==null){var D=F;}else{var D=null;ac=o;}if(D!==null){var k=D;}else{var m=ac;if(aw.substr(ac,2)==="\\}"){var B="\\}";ac+=2;}else{var B=null;if(av){al('"\\\\}"');}}var C=B!==null?(function(){return"\u007D";})():null;if(C!==null){var z=C;}else{var z=null;ac=m;}if(z!==null){var k=z;}else{var j=ac;var l=ac;if(aw.substr(ac,2)==="\\u"){var u="\\u";ac+=2;}else{var u=null;if(av){al('"\\\\u"');}}if(u!==null){var v=at();if(v!==null){var w=at();if(w!==null){var x=at();if(x!==null){var y=at();if(y!==null){var p=[u,v,w,x,y];}else{var p=null;ac=l;}}else{var p=null;ac=l;}}else{var p=null;ac=l;}}else{var p=null;ac=l;}}else{var p=null;ac=l;}var r=p!==null?(function(L,M,J,K){return String.fromCharCode(parseInt("0x"+L+M+J+K));})(p[1],p[2],p[3],p[4]):null;if(r!==null){var n=r;}else{var n=null;ac=j;}if(n!==null){var k=n;}else{var k=null;}}}}}ao[i]={nextPos:ac,result:k};return k;}function ah(){var g="digits@"+ac;var j=ao[g];if(j){ac=j.nextPos;return j.result;}var h=ac;if(aw.substr(ac).match(/^[0-9]/)!==null){var m=aw.charAt(ac);ac++;}else{var m=null;if(av){al("[0-9]");}}if(m!==null){var k=[];while(m!==null){k.push(m);if(aw.substr(ac).match(/^[0-9]/)!==null){var m=aw.charAt(ac);ac++;}else{var m=null;if(av){al("[0-9]");}}}}else{var k=null;}var l=k!==null?(function(n){return parseInt((n.join("")),10);})(k):null;if(l!==null){var i=l;}else{var i=null;ac=h;}ao[g]={nextPos:ac,result:i};return i;}function at(){var g="hexDigit@"+ac;var i=ao[g];if(i){ac=i.nextPos;return i.result;}if(aw.substr(ac).match(/^[0-9a-fA-F]/)!==null){var h=aw.charAt(ac);ac++;}else{var h=null;if(av){al("[0-9a-fA-F]");}}ao[g]={nextPos:ac,result:h};return h;}function X(){var g="_@"+ac;var j=ao[g];if(j){ac=j.nextPos;return j.result;}var k=av;av=false;var h=ac;var l=[];var n=au();while(n!==null){l.push(n);var n=au();}var m=l!==null?(function(o){return o.join("");})(l):null;if(m!==null){var i=m;}else{var i=null;ac=h;}av=k;if(av&&i===null){al("whitespace");}ao[g]={nextPos:ac,result:i};return i;}function au(){var g="whitespace@"+ac;var i=ao[g];if(i){ac=i.nextPos;return i.result;}if(aw.substr(ac).match(/^[ 	\n\r]/)!==null){var h=aw.charAt(ac);ac++;}else{var h=null;if(av){al("[ 	\\n\\r]");}}ao[g]={nextPos:ac,result:h};return h;}function T(){function h(m){m.sort();var k=null;var l=[];for(var n=0;n<m.length;n++){if(m[n]!==k){l.push(m[n]);k=m[n];}}switch(l.length){case 0:return"end of input";case 1:return l[0];default:return l.slice(0,l.length-1).join(", ")+" or "+l[l.length-1];}}var i=h(aq);var j=Math.max(ac,R);var g=j<aw.length?am(aw.charAt(j)):"end of input";return"Expected "+i+" but "+g+" found.";}function ad(){var k=1;var h=1;var g=false;for(var j=0;j<R;j++){var i=aw.charAt(j);if(i==="\n"){if(!g){k++;}h=1;g=false;}else{if(i==="\r"|i==="\u2028"||i==="\u2029"){k++;h=1;g=true;}else{h++;g=false;}}}return{line:k,column:h};}var ak=ax[ar]();if(ak===null||ac!==aw.length){var Q=ad();throw new this.SyntaxError(T(),Q.line,Q.column);}return ak;},toSource:function(){return this._source;}};a.SyntaxError=function(b,h,c){this.name="SyntaxError";this.message=b;this.line=h;this.column=c;};a.SyntaxError.prototype=Error.prototype;return a;})();d.prototype.parse=function(){return f.parse.apply(f,arguments);};d.prototype.precompile=function(j){var i=this,b=false,c={begin:'function(d){\nvar r = "";\n',end:"return r;\n}"};function a(q,r){r=r||{};var s="",h,p,g;switch(q.type){case"program":return a(q.program);case"messageFormatPattern":for(h=0;h<q.statements.length;++h){s+=a(q.statements[h],r);}return c.begin+s+c.end;case"messageFormatPatternRight":for(h=0;h<q.statements.length;++h){s+=a(q.statements[h],r);}return s;case"messageFormatElement":r.pf_count=r.pf_count||0;s+='if(!d){\nthrow new Error("MessageFormat: No data passed to function.");\n}\n';if(q.output){s+='r += d["'+q.argumentIndex+'"];\n';}else{g="lastkey_"+(r.pf_count+1);s+="var "+g+' = "'+q.argumentIndex+'";\n';s+="var k_"+(r.pf_count+1)+"=d["+g+"];\n";s+=a(q.elementFormat,r);}return s;case"elementFormat":if(q.key==="select"){s+=a(q.val,r);s+="r += (pf_"+r.pf_count+"[ k_"+(r.pf_count+1)+" ] || pf_"+r.pf_count+'[ "other" ])( d );\n';}else{if(q.key==="plural"){s+=a(q.val,r);s+="if ( pf_"+(r.pf_count)+"[ k_"+(r.pf_count+1)+' + "" ] ) {\n';s+="r += pf_"+r.pf_count+"[ k_"+(r.pf_count+1)+' + "" ]( d ); \n';s+="}\nelse {\n";s+="r += (pf_"+r.pf_count+'[ MessageFormat.locale["'+i.locale+'"]( k_'+(r.pf_count+1)+" - off_"+(r.pf_count)+" ) ] || pf_"+r.pf_count+'[ "other" ] )( d );\n';s+="}\n";}}return s;case"pluralFormatPattern":r.pf_count=r.pf_count||0;s+="var off_"+r.pf_count+" = "+q.offset+";\n";s+="var pf_"+r.pf_count+" = { \n";b=true;for(h=0;h<q.pluralForms.length;++h){if(q.pluralForms[h].key==="other"){b=false;}if(p){s+=",\n";}else{p=1;}s+='"'+q.pluralForms[h].key+'" : '+a(q.pluralForms[h].val,(function(){var k=JSON.parse(JSON.stringify(r));k.pf_count++;return k;})());}s+="\n};\n";if(b){throw new Error("No 'other' form found in pluralFormatPattern "+r.pf_count);}return s;case"selectFormatPattern":r.pf_count=r.pf_count||0;s+="var off_"+r.pf_count+" = 0;\n";s+="var pf_"+r.pf_count+" = { \n";b=true;for(h=0;h<q.pluralForms.length;++h){if(q.pluralForms[h].key==="other"){b=false;}if(p){s+=",\n";}else{p=1;}s+='"'+q.pluralForms[h].key+'" : '+a(q.pluralForms[h].val,(function(){var k=JSON.parse(JSON.stringify(r));k.pf_count++;return k;})());}s+="\n};\n";if(b){throw new Error("No 'other' form found in selectFormatPattern "+r.pf_count);}return s;case"string":return'r += "'+d.Utils.numSub(d.Utils.escapeExpression(q.val),"k_"+r.pf_count+" - off_"+(r.pf_count-1),r.pf_count)+'";\n';default:throw new Error("Bad AST type: "+q.type);}}return a(j);};d.prototype.compile=function(a){return(new Function("MessageFormat","return "+this.precompile(this.parse(a))))(d);};e["MessageFormat"]=d;}(this));MessageFormat.locale.en=function(b){if(b===1){return"one";}return"other";};MessageFormat.locale.en_US=function(b){if(b===1){return"one";}return"other";};MessageFormat.locale.en_AU=function(b){if(b===1){return"one";}return"other";};MessageFormat.locale.en_NZ=function(b){if(b===1){return"one";}return"other";};MessageFormat.locale.en_GB=function(b){if(b===1){return"one";}return"other";};MessageFormat.locale.fr_FR=function(b){if(b>=0&&b<2){return"one";}return"other";};MessageFormat.locale.de_DE=function(b){if(b===1){return"one";}return"other";};MessageFormat.locale.es_ES=function(b){if(b===1){return"one";}return"other";};MessageFormat.locale.ru=function(b){if((b%10)==1&&(b%100)!=11){return"one";}if((b%10)>=2&&(b%10)<=4&&((b%100)<12||(b%100)>14)&&b==Math.floor(b)){return"few";}if((b%10)===0||((b%10)>=5&&(b%10)<=9)||((b%100)>=11&&(b%100)<=14)&&b==Math.floor(b)){return"many";}return"other";};(function(){if(typeof fitbit.i18n!="undefined"){return;}fitbit.namespace("fitbit.i18n");window["EN"]=function(f){var e=fitbit.i18n.byEnglish[f]||"";for(var d=1;d<arguments.length;d++){e=e.replace("{"+(d-1)+"}",""+arguments[d]);}return e;};fitbit.i18n={resources:{},byEnglish:{},getResource:function(i,f){if(fitbit.i18n.resources[i]==undefined){return"";}if(arguments.length>1){var h=fitbit.i18n.resources[i];for(var j=0,g=arguments.length;j<g;j++){h=h.replace("{"+j+"}",arguments[j+1]+"");}}else{h=fitbit.i18n.resources[i];}return h;},getPluralResource:function(g,h){var i=fitbit.i18n.getResource(g);if(i.indexOf("{")==-1){return h==undefined?function(){return i;}:i;}var f=new MessageFormat(fitbit.i18n.locale);var j=f.compile("{NUM_RESULTS, plural, "+i+"}");if(h==undefined){return function(a){return j({NUM_RESULTS:a});};}else{return j({NUM_RESULTS:h});}},setResource:function(d,e,f){fitbit.i18n.resources[d]=e;fitbit.i18n.byEnglish[f]=e;},switchLocale:function(b){$.post("/i18n/switch?locale="+b,function(){var a=window.location.pathname.match("^/(uk|fr|de|es|ru|au|nz)($|/[^?]*$)");if(a==null){window.location.reload();}else{window.location.pathname=a[2];}});},locale:"en",decimalParams:{decimalSeparator:function(){switch(fitbit.i18n.locale){case"de_DE":case"es_ES":case"fr_FR":return",";default:return"\\.";}},groupSeparator:function(){switch(fitbit.i18n.locale){case"de_DE":case"es_ES":return"\\.";case"fr_FR":return"\\s";default:return",";}}},DecimalNumber:{decimalSeparator:".",groupSeparator:",",negativeSign:"-",parse:function(f){var e=String(f).trim();var d=new RegExp("^["+fitbit.i18n.DecimalNumber.negativeSign+"]?[\\d"+fitbit.i18n.DecimalNumber.groupSeparator+"]+["+fitbit.i18n.DecimalNumber.decimalSeparator+"]?[\\d]*$","");if(d.test(e)){e=e.replace(fitbit.i18n.DecimalNumber.groupSeparator,"").replace(fitbit.i18n.DecimalNumber.decimalSeparator,".").replace(fitbit.i18n.DecimalNumber.negativeSign,"-");return parseFloat(e);}return NaN;},format:function(b){return YAHOO.util.Number.format(b,{decimalSeparator:fitbit.i18n.DecimalNumber.decimalSeparator,thousandsSeparator:fitbit.i18n.DecimalNumber.groupSeparator,negativeFormat:fitbit.i18n.DecimalNumber.negativeSign+"#"});}},WEEKDAYS:null,MONTHS:null};})();(function(d){var c={init:function(){var a=d("html").hasClass("ie7")?true:false;this.headerClickHandler();this.footerClickHandler();if(a){c.ie7headerClickHandler();}else{d("#hdr_i18n_picker").tooltip(this.ttConfigHdr);}d("#ftr_picker").tooltip(this.ttConfigFtr);},ie7headerClickHandler:function(){var g=d("#hdr_i18n_picker"),a=g.closest("ul"),b=d.trim(g.attr("data-country")),h={en_US:c.getLocalName("us"),en_GB:c.getLocalName("uk"),es_ES:c.getLocalName("spain"),fr_FR:c.getLocalName("france"),de_DE:c.getLocalName("germany"),en_AU:c.getLocalName("au"),en_NZ:c.getLocalName("nz"),ru:c.getLocalName("russia")};d("#hdr_i18n_picker").remove();d.each(h,function(j,e){if(e!=""){var f=a.find("li").eq(0);if(j===b){f.after('<li data-country="'+j+'" class="locale strong"><a href="#">'+e+"</a></li>");}else{f.after('<li data-country="'+j+'" class="locale"><a href="#">'+e+"</a></li>");}}});d("#cust").find(".locale").live("click",function(){var e=d.trim(d(this).attr("data-country"));c.switchLocale(e);});},headerClickHandler:function(){d("#hdr_i18n_country_list").on("click","div",function(){var a=d(this).attr("data-country");c.switchLocale(a);});},footerClickHandler:function(){d("#ftr_i18n_country_list").on("click","li",function(){var a=d(this).attr("data-country");c.switchLocale(a);});},ttConfigHdr:{tipClass:"ttHdr",offset:[10,0],relative:true,position:"bottom center",delay:100,predelay:200},ttConfigFtr:{tipClass:"ttFtr",offset:[-4,0],relative:true,position:"top center",delay:100,predelay:200},switchLocale:function(a){fitbit.i18n.switchLocale(a);},getLocalName:function(a){return fitbit.i18n.getResource("com.fitbit.app.includes.label."+a);}};c.init();})(jQuery);var Y=YAHOO.util;String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"");};Y.Event.on(document,"keydown",function(g){if(g.keyCode==13){var e=Y.Event.getTarget(g);if(e.tagName!="TEXTAREA"){var h=(e.tagName=="FORM")?e:Y.Dom.getAncestorByTagName(e,"FORM");if(h){var f=Y.Dom.getElementsByClassName("defaultSubmit","",h)[0];if(f&&"click" in f){Y.Event.preventDefault(g);f.click();}}}}});(function(){fitbit.namespace("fitbit.app");fitbit.app={};fitbit.app.objectsCounter=0;fitbit.app.calendarPathSeparator="/";fitbit.app.Calendar=function(l,i,j){var g,k;var h=null;this.show=function(c,a,b,r,d,f,p){if(l==null){l="calendar";}if(!g){Y.Event.on(document,"click",function(m){var n=Y.Dom.get(c);var t=Y.Event.getTarget(m);var o=g.element;if(t!=o&&!Y.Dom.isAncestor(o,t)&&t!=n&&!Y.Dom.isAncestor(n,t)){g.hide();}});g=new YAHOO.widget.Dialog(l+"Container",{visible:false,context:[c,"tl","bl"],width:"16em",draggable:false,close:true});if(fitbit.i18n){g.setHeader(fitbit.i18n.getResource("com.fitbit.app.label.select_date"));}else{g.setHeader("Select a date");}g.setBody('<div id="'+l+'"></div>');if(d!=undefined&&d!=null){g.render(d);}else{g.render(document.body);}g.showEvent.subscribe(function(){if(YAHOO.env.ua.ie){g.fireEvent("changeContent");}});}if(!k){k=new YAHOO.widget.Calendar(l,{iframe:false,hide_blank_weeks:true});k.path=j;k.calendarId=l;if(a!=null){var q=new Date(0,0,0);q.setISO8601UTC(a);k.cfg.setProperty("pagedate",(q.getMonth()+1)+"/"+q.getFullYear());}if(b==null&&a!=null){var e=new Date(0,0,0);e.setISO8601UTC(a);k.cfg.setProperty("selected",(e.getMonth()+1)+"/"+(e.getDate())+"/"+e.getFullYear());}else{if(b!=null){k.cfg.setProperty("selected",b);}}if(r!=undefined&&r!=null){k.cfg.setProperty("maxdate",r);}if(p!=undefined&&p!=null){k.cfg.setProperty("mindate",p);}if(f!=null){k.today=f;}if(h!=null){k.cfg.setProperty("start_weekday",h);}if(fitbit.i18n){if(fitbit.i18n.WEEKDAYS){k.cfg.setProperty("WEEKDAYS_SHORT",fitbit.i18n.WEEKDAYS);}if(fitbit.i18n.MONTHS){k.cfg.setProperty("MONTHS_LONG",fitbit.i18n.MONTHS);}}k.render();k.renderEvent.subscribe(function(){g.fireEvent("changeContent");});k.selectEvent.subscribe(i,k,true);}g.show();};this.hide=function(){g.hide();};this.setWeekStartsOn=function(a){h=a;};};fitbit.app.dateSelectHandler=function(j,f,h){var g=fitbit.util.getDateFromYUIDateArray(f[0][0]);var i=(h.path!=undefined&&h.path!=""?h.path:"");location.href=i+"/"+g.getFullYear()+fitbit.app.calendarPathSeparator+g.getPaddedMonth()+fitbit.app.calendarPathSeparator+g.getPaddedDate();};fitbit.app.showCalendar=function(k,n,o,l,q,m,t){if(m!=null||m!=""){fitbit.app.calendarPathSeparator=m;}var r=new fitbit.app.Calendar(n,fitbit.app.dateSelectHandler,k);var p=new Date();p.setISO8601UTC(l);var s=p;if(q){s=null;}if(t){r.setWeekStartsOn(t);}r.show(o,l,null,s,null,p);};fitbit.app.showWeeklyCalendar=function(o,r,t,w,p,x,z,q,s,B){if(q!=null||q!=""){fitbit.app.calendarPathSeparator=q;}var A=new fitbit.app.Calendar(r,fitbit.app.dateSelectHandler,o);var v=new Date();v.setISO8601UTC(w);var u=null;if(z!=null){u=new Date();u.setISO8601UTC(z);}var y=null;if(x!=null){y=new Date();y.setISO8601UTC(x);}A.setWeekStartsOn(B);A.show(t,p,s,u,null,v,y);};fitbit.app.TabSet=function(x,i,s){if(i==undefined){i="selected";}if(s==undefined){s="disabled";}this.tabChangeEvent=new Y.CustomEvent("tabChange",this);var y=Y.Dom.get(x);if(!y){return;}var A=Y.Dom.getElementsByClassName(i,"a",y)[0];var q=new Array();var r=null;if(A!=undefined){r=Y.Dom.getChildren(A.parentNode.parentNode);var u=A.getAttribute("href",2);var w=Y.Dom.get(u.substr(u.indexOf("#")+1));}else{r=y.getElementsByTagName("li");}var t=this.tabChangeEvent;var p=function(b,c){if(c!=A&&!Y.Dom.hasClass(c,s)){Y.Dom.addClass(c,i);Y.Dom.addClass(c.parentNode,i);if(A!=undefined){Y.Dom.removeClass(A,i);Y.Dom.removeClass(A.parentNode,i);Y.Dom.addClass(w,"invisible");}A=c;var d=A.getAttribute("href",2);var a=d.substr(d.indexOf("#")+1);w=Y.Dom.get(a);Y.Dom.removeClass(w,"invisible");t.fire(a);}};var B=function(a){Y.Event.preventDefault(a);};for(var v=0;v<r.length;v++){var z=Y.Dom.getChildren(r[v])[0];Y.Event.on(z,"mousedown",p,z);Y.Event.on(z,"click",B);q.push(z);}this.destroy=function(){for(var a=0;a<q.length;a++){Y.Event.removeListener(q[a],"mousedown",p);Y.Event.removeListener(q[a],"click",B);}};this.disableTab=function(a){var b=q[a];if(b!=A){Y.Dom.addClass(b,s);Y.Dom.addClass(b.parentNode,s);}};this.enableTab=function(a){var b=q[a];if(b!=A){Y.Dom.removeClass(b,s);Y.Dom.removeClass(b.parentNode,s);}};this.switchToTab=function(a){var b=q[a];p(null,b);};};fitbit.app.Chart=function(u,q,n,r,t,l,o){var p;var s;var v=r;var m=function(a){s=new SWFObject(p,u,t,l,"8","#FFFFFF","best");s.addParam("wmode","opaque");s.addVariable("chartWidth",t);s.addVariable("chartHeight",l);s.addVariable("dataURL",escape(a));s.write(q);};switch(n){case"column2d":p="/flash/charts/FC_2_3_MSColumn2D.swf.h83cc942ca6d138ecfacda4783ead4225.pack?items=%2Fflash%2Fcharts%2FFC_2_3_MSColumn2D.swf";break;case"area2d":p="/flash/charts/FC_2_3_MSArea2D.swf.ha0e53f6630b1e6d7c5f0227f987a9a51.pack?items=%2Fflash%2Fcharts%2FFC_2_3_MSArea2D.swf";break;case"line":p="/flash/charts/FC_2_3_MSLine.swf.hde181972901f41152c63867635d95a3e.pack?items=%2Fflash%2Fcharts%2FFC_2_3_MSLine.swf";break;case"linecolumn2d":p="/flash/charts/FC_2_3_MSColumnLine_DY_2D.swf.h45aefa24154a408eb57fd512d65adffc.pack?items=%2Fflash%2Fcharts%2FFC_2_3_MSColumnLine_DY_2D.swf";break;case"stackedarea2d":p="/flash/charts/FC_2_3_StackedArea_MSLine_DY_2D.swf.hd564554c605bde9bb0fcf891ba00cc87.pack?items=%2Fflash%2Fcharts%2FFC_2_3_StackedArea_MSLine_DY_2D.swf";break;case"pie":p="/flash/charts/FC_2_3_Pie2D.swf.hd2af07305c9f4cf8e18b437ba7da2acd.pack?items=%2Fflash%2Fcharts%2FFC_2_3_Pie2D.swf";break;}if(!o){Y.Dom.addClass(q,"invisible");}else{m(r);}this.update=function(a){if(a!=null){m(a);}else{m(v);}};this.hide=function(){Y.Dom.addClass(q,"invisible");fitbit.util.setContent(Y.Dom.get(q),"");};this.show=function(){Y.Dom.removeClass(q,"invisible");};};fitbit.app.EjsChart=function(w,q,p,v,s){var r;var u=new Array();var o=new EJSC.XMLDataHandler(v,{onDataReady:function(c,g,z,k){var e=k.axis_bottom;var l=c.responseXML;if(l==null){return true;}var i=l.getElementsByTagName("dateFormat")[0].firstChild.nodeValue;e.formatter.format_string=i;while(u.length>0){k.removeSeries(u.pop(),false);}var d=l.getElementsByTagName("D");for(var a=0;a<d.length;a++){var l=d[a].firstChild.nodeValue;var h=n(new EJSC.XMLStringDataHandler(l));h.color="#"+d[a].getAttribute("color");u.push(h);k.addSeries(h,false);}if(d.length==0&&q=="column2d"){var j=l.getElementsByTagName("YMax")[0].firstChild.nodeValue;var b=l.getElementsByTagName("YMin")[0].firstChild.nodeValue;var f=(j-b)/4;z.addRange(b,b+f,"rgb(0,0,0)",100,100,1,false);z.addRange(b+f,b+2*f,"rgb(0,0,255)",100,100,1,false);z.addRange(b+2*f,b+3*f,"rgb(0,255,0)",100,100,1,false);z.addRange(b+3*f,b+4*f,"rgb(255,0,0)",100,100,1,true);}k.redraw();return true;}});var m={color:s,useColorArray:false};var n=function(a){switch(q){case"column2d":return new EJSC.BarSeries(a,m);case"area2d":return new EJSC.AreaSeries(a,m);case"line":return new EJSC.LineSeries(a,m);case"pie":return new EJSC.PieSeries(a,m);default:return null;}};var t={formatter:new EJSC.DateFormatter({format_string:"MMM D, YYYY"}),visible:true,caption:""};r=n(o);var x=new EJSC.Chart(w,{title:p,show_legend:false,axis_bottom:t,axis_left:{caption:""}});x.addSeries(r);if(q=="pie"){x.setShowLegend(true);}this.update=function(a){if(a!=null){r.getDataHandler().setUrl(a);}r.reload();};this.hide=function(){Y.Dom.addClass(w,"invisible");};this.show=function(){Y.Dom.removeClass(w,"invisible");};};fitbit.app.AmChartNew=function(l,k,i,g,h){var j=function(){var a=new AmCharts.AmFallback();a.settingsFile=g;a.dataFile=i;a.pathToImages="/amcharts/2.2.0/amcharts/javascript/images/";a.type=k;a.loading_settings="Loading settings...";a.loading_data="Loading data...";a.write(l);};if(!h){Y.Dom.addClass(l,"invisible");}else{j();}this.update=function(){fitbit.util.setContent(Y.Dom.get(l),"");j();};this.hide=function(){Y.Dom.addClass(l,"invisible");};this.show=function(){Y.Dom.removeClass(l,"invisible");};};fitbit.app.AmChart=function(y,t,p,u,x,n,q,v,s){if(!document.getElementById(t)){return;}var r;var w;var z=u;var o=function(a){var c=v!=undefined&&v!=null&&v;var b=c?"/flash/amcharts/swfPrintableContainer.swf.hbf1f74420bc3af2c2abb110d8b12a186.pack?items=%2Fflash%2Famcharts%2FswfPrintableContainer.swf":r;w=new SWFObject(b,y,x,n,"8","#FFFFFF","best");w.addParam("wmode","opaque");w.addParam("hasPriority","true");w.addParam("allowScriptAccess","always");w.addVariable("path","/flash/amcharts/");w.addVariable("settings_file",escape(a));w.addVariable("data_file",escape(""));if(c){w.addParam("title",t);w.addVariable("amChartUrl",r);}if(s!=undefined&&s!=null){w.addVariable("chart_data",s);}if(p=="line"){w.addVariable("additional_chart_settings",escape("<settings><graphs><graph gid='0'><type>line</type></graph><graph gid='1'><type>line</type></graph><graph gid='2'><type>line</type></graph><graph gid='3'><type>line</type></graph><graph gid='4'><type>line</type></graph></graphs></settings>"));}if(p=="linecolumn2d"){w.addVariable("additional_chart_settings",escape("<settings><graphs><graph gid='0'></graph><graph gid='1'><type>line</type></graph><graph gid='2'><type>line</type></graph><graph gid='3'><type>line</type></graph><graph gid='4'><type>line</type></graph></graphs></settings>"));}w.addVariable("preloader_color","#999999");w.addVariable("chart_id",y);if(c){var e=document.createElement("div");e.id="cont_"+fitbit.app.objectsCounter.toString();e.style.position="absolute";e.style.left=fitbit.app.objectsCounter.toString()+"px";fitbit.app.objectsCounter++;document.getElementById("amChartsFixContainer").appendChild(e);w.write(e.id);}else{w.write(t);}var d=Y.Dom.get(t+"Source");if(d!=undefined){d.innerHTML='<a target="_blank" href="'+a+'">Source</a>';}};u=u+"&chart_type="+p;switch(p){case"pie":r="/flash/amcharts/ampie.swf.h87b02d99877ca264a5f2682201ab822d.pack?items=%2Fflash%2Famcharts%2Fampie.swf";break;case"trueline":r="/flash/amcharts/amline.swf.h3b6c48bead080bc8e17ada224cbf131b.pack?items=%2Fflash%2Famcharts%2Famline.swf";break;default:r="/flash/amcharts/amcolumn.swf.h051b2fc44abcc6e8b27e935f392397b2.pack?items=%2Fflash%2Famcharts%2Famcolumn.swf";break;}if(!q){Y.Dom.addClass(t,"invisible");}else{o(u);}this.update=function(a){Y.Dom.get(t).innerHTML="";if(a!=null){o(a);}else{o(z);}};this.hide=function(){Y.Dom.addClass(t,"invisible");};this.show=function(){Y.Dom.removeClass(t,"invisible");};};fitbit.app.convertErrorsToList=function(i,g,h){var j="<div class='errorMessage'>"+fitbit.i18n.getResource("com.fitbit.app.error.errors_title")+"</div><div style='height: 100px; overflow: auto;'><ul class='errorList clearfix' style='margin-bottom: 15px;' id='"+g+"'>";for(var k=0;k<i.length;k++){var l;if(i[k].errorType=="system"){l=fitbit.i18n.getResource("com.fitbit.app.error.general_fatal_error");}else{if(h){l=fitbit.app.escapeHtml(i[k].message);}else{l=i[k].message;}}j+="<li class='errorBullet'>"+l+"</li>";}return j+"</ul></div>";};fitbit.app.escapeHtml=function(b){return b.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");};fitbit.app.unEscapeHtml=function(b){return b.split("&amp;").join("&").split("&lt;").join("<").split("&gt;").join(">");};fitbit.app.BitSet=function(){this.bits=[];};fitbit.app.BitSet.prototype={member:function(d){for(var c=0;c<this.bits.length;c++){if(this.bits[c]==d){return true;}}return false;},numBits:function(){var d=0;for(var c=0;c<this.bits.length;c++){d=Math.max(this.bits[c],d);}return d+1;},add:function(b){this.clear(b);this.bits.push(b);},clear:function(d){for(var c=0;c<this.bits.length;c++){if(this.bits[c]==d){this.bits.splice(c,1);}}}};fitbit.app.UIState=function(){this.cookieName="uis";this.state=null;this.set=function(b){this.state.add(b);this.saveState();};this.clearAndSet=function(e,f){if(e){if(!$.isArray(e)){e=[e];}for(var d=0;d<e.length;d++){this.state.clear(e[d]);}}if(f){if(!$.isArray(f)){f=[f];}for(var d=0;d<f.length;d++){this.state.add(f[d]);}}this.saveState();};this.clear=function(b){this.state.clear(b);this.saveState();};this.get=function(b){return this.state.member(b);};this.getCookie=function(d){var c=document.cookie.match("(^|;) ?"+d+"=([^;]*)(;|$)");if(c){return(unescape(c[2]));}else{return"";}};this.setCookie=function(i,m,n,k,o,l){var p=i+"="+escape(m);if(n){var j=new Date();j.setTime(j.getTime()+n);p+="; expires="+j.toUTCString();}if(k){p+="; path="+escape(k);}if(o){p+="; domain="+escape(o);}if(l){p+="; secure";}document.cookie=p;};this.loadState=function(){var b=this.getCookie(this.cookieName);if(this.state==null){this.state=this.loadStateFromByteArray(this.base64Decode(b));}};this.saveState=function(){var b=this.base64Encode(this.saveStateToByteArray());this.setCookie(this.cookieName,b,3600*24*365*1000,"/");};this.loadStateFromByteArray=function(f){var h=null;if(f!=null){var g=f.length;h=new fitbit.app.BitSet();for(var e=0;e<g*8;e++){if((f[g-Math.floor(e/8)-1]&(1<<(e%8)))>0){h.add(e);}}}return h;};this.saveStateToByteArray=function(){var f=null;if(this.state!=null){var h=0;for(var e=0;e<this.state.numBits();e++){if(this.state.member(e)){h=e+1;}}var g=Math.floor(h/8)+1;f=new Array();for(var e=0;e<g;e++){f[e]=0;}for(var e=0;e<h;e++){if(this.state.member(e)){f[g-Math.floor(e/8)-1]|=1<<(e%8);}}}return f;};this.base64Encode=function(r){var q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var j,o,p;var u,v,w,x;var i=new Array();var t=0;for(var s=0;s<r.length;s+=3){j=r[s];o=r[s+1];p=r[s+2];u=j>>2;v=((j&3)<<4)|(o>>4);w=((o&15)<<2)|(p>>6);x=p&63;if(isNaN(o)){w=x=64;}else{if(isNaN(p)){x=64;}}i[t++]=q.charAt(u)+q.charAt(v)+q.charAt(w)+q.charAt(x);}return i.join("");};this.base64Decode=function(r){r=r.replace(/[^a-z0-9\+\/=]/ig,"");var q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var j,o,p;var u,v,w,x;var i=new Array();var t=0;while((r.length%4)!=0){r+="=";}for(var s=0;s<r.length;s+=4){u=q.indexOf(r.charAt(s));v=q.indexOf(r.charAt(s+1));w=q.indexOf(r.charAt(s+2));x=q.indexOf(r.charAt(s+3));j=(u<<2)|(v>>4);o=((v&15)<<4)|(w>>2);p=((w&3)<<6)|x;i[t++]=j;if(w!=64){i[t++]=o;}if(x!=64){i[t++]=p;}}return i;};this.loadState();};fitbit.app.toggleScale=function(f,e,d){if(e){Y.Dom.addClass(f+"ShowLink","invisible");Y.Dom.removeClass(f+"Scale","invisible");new fitbit.app.UIState().clear(d);}else{Y.Dom.addClass(f+"Scale","invisible");Y.Dom.removeClass(f+"ShowLink","invisible");new fitbit.app.UIState().set(d);}};fitbit.app.highlightRow=function(d,e){var f=Y.Dom.get(d);if(e){Y.Dom.setStyle(f,"background-color","#fffdcc");}else{Y.Dom.setStyle(f,"background-color","");}return f;};fitbit.app.highlightRecord=function(g,e,f){var h=Y.Dom.get(g+"Actions."+e);if(f){Y.Dom.removeClass(h,"invisible");}else{Y.Dom.addClass(h,"invisible");}};fitbit.app.highlightDelete=function(e,f,h){var g=Y.Dom.get("deleteImg."+e);if(f){if(h){g.src="/images/common/delete_red_yellow.gif";}else{g.src="/images/common/delete_red_white.gif";}}else{if(h){g.src="/images/common/delete_grey_yellow.gif";}else{g.src="/images/common/delete_grey_white.gif";}}return g;};fitbit.app.loadTooltips=function(){var q=20000;var s="tooltip";var i="tooltip-";var j="ttid-";var B=j.length;var x=100000000;for(var A=Y.Dom.getElementsByClassName(s),u=A.length,r,y;u--;){r={context:A[u],zIndex:q,autodismissdelay:x};if(r.context.title){y=i+u;}else{y="";for(var w=A[u].className.split(/\s+/),v=w.length;v--;){if(w[v].indexOf(j)==0){var t=document.getElementById(w[v].slice(B));if(t){y=i+t.id;r.text=t.innerHTML;break;}}}}function z(c,a){for(var b=Y.Event.getRelatedTarget(c);b&&b!=this;b=b.parentNode){}if(!b){if(c.type=="mouseout"){a.hideProcId=setTimeout(function(){a.hide();},a.cfg.getProperty("hidedelay"));}else{clearTimeout(a.hideProcId);}}}if(y){r.context.tooltip=new YAHOO.widget.Tooltip(y,r);r.context.tooltip.contextTriggerEvent.subscribe(function(a,b){var c=b[0].tooltip;c.contextTriggerEvent.unsubscribe(arguments.callee);Y.Event.on(c.id,"mouseover",z,c);Y.Event.on(c.id,"mouseout",z,c);});}}};fitbit.app.init=function(){fitbit.app.loadTooltips();};Y.Event.onDOMReady(fitbit.app.init);})();(function(){fitbit.namespace("fitbit.app.search.solr");fitbit.app.search.solr.food={solrURL:"/search/solrFood",getQueryStringBaseInternal:function(k,n,p){var o="?q="+encodeURIComponent(k);var j="&wt=foodjson";var l=n==null||n==""?"":"&qt="+n;var i=p==null||p==""?"":"&fq="+encodeURIComponent(p);var m=o+j+l+i;return m;},getQueryString:function(f,d,e){return this.getQueryStringBaseInternal(f,d,e)+"&userOnly=false";},getQueryStringMyFoodsOnly:function(c,d){return this.getQueryStringBaseInternal(c,d,null)+"&userOnly=true";}};fitbit.app.search.solr.brand={solrURL:"/search/solrBrand",getQueryStringBaseInternal:function(w,v,A,r,y,p,s){var C="?q="+encodeURIComponent(w);var x=v==null||v==""?"&wt=brandjson":"&wt="+encodeURIComponent(v);var t=A==null||A==""?"":"&qt="+encodeURIComponent(A);var u=r==null||r==""?"":"&fq="+encodeURIComponent(r);var z=y==null||y==""?"":"&chunkSize="+encodeURIComponent(y);var B=p==null||p==""?"":"&start="+encodeURIComponent(p);var q=s==null||s==""?"":"&rows="+encodeURIComponent(s);var D=C+x+t+u+z+B+q;return D;},getQueryString:function(h,i,g,f,j){return this.getQueryStringBaseInternal(h,null,i,g,null,f,j);},getQueryStringForMenu:function(g,h,f,e){return this.getQueryStringBaseInternal(g,"brandindexjson",h,f,e,null,null);}};fitbit.app.search.solr.activity={solrURL:"/search/solrActivity",getQueryString:function(j,m,h){var n="?q="+encodeURIComponent(j);var i="&wt=activityjson";var k=m==null||m==""?"":"&qt="+m;var l=n+i+k;return l;}};fitbit.app.search.solr.forum={solrURL:"/search/solrForum",getQueryStringBaseInternal:function(k,n,p){var o="?q="+encodeURIComponent(k);var j="&wt=forumjson";var l=n==null||n==""?"":"&qt="+n;var i=p==null||p==""?"":"&fq="+encodeURIComponent(p);var m=o+j+l+i;return m;},getQueryStringAdmin:function(c){var d="forum";return this.getQueryStringBaseInternal(c,d,null);},getQueryString:function(c){var d="forum";return this.getQueryStringBaseInternal(c,d,null);},getQueryStringForHightlightedPost:function(g,h){var f="id:"+g;var i="post_hl";var j="id:"+g+" "+h;return this.getQueryStringBaseInternal(j,i,f);}};fitbit.app.search.solr.friend={solrURL:"/search/solrFriend",getQueryStringBaseInternal:function(k,n,p){var o="?q="+encodeURIComponent(k);var j="&wt=friendjson";var l=n==null||n==""?"":"&qt="+n;var i=p==null||p==""?"":"&fq="+encodeURIComponent(p);var m=o+j+l+i;return m;},getQueryString:function(f,d,e){return this.getQueryStringBaseInternal(f,d,e);}};})();(function(){fitbit.namespace("fitbit.util");fitbit.util={truncateString:function(d,c){if(d.length<c){return d;}else{return d.substr(0,c)+"...";}},setContent:function(f,d){while(f.hasChildNodes()){f.removeChild(f.firstChild);}var e=document.createElement("span");e.innerHTML=d;f.appendChild(e);},appendRow:function(j,f,g,h){var i=document.createElement("tr");j.appendChild(i);i.innerHTML=f;if(g!=null){i.className=g;}if(h!=null){i.id=h;}return i;},isInt:function(b){return(!isNaN(b)&&!isNaN(parseInt(b)));},isFloat:function(b){return(!isNaN(parseFloat(b)));},isWindowsPlatform:function(){return navigator.appVersion.indexOf("Win")!=-1;},resetForm:function(f){var d=f.elements;for(var e=0;e<d.length;e++){if(d[e].type.toLowerCase()=="text"||d[e].type.toLowerCase()=="password"||d[e].type.toLowerCase()=="textarea"){d[e].value="";}else{if(d[e].type.toLowerCase()=="radio"){d[e].selected=false;}else{if(d[e].type.toLowerCase()=="checkbox"){d[e].checked=false;}else{if(d[e].type.toLowerCase().indexOf("select")!=-1){d[e].selectedIndex=0;}}}}}},getWrappable:function(m,p){var o="\u200B";if(m==undefined||m==null||m.length<=p||m.replace(/^\s+|\s+$/g,"")==""){return m;}var c=0;var i=0;var k=new Array();for(var n=0;n<m.length;n++){var l=m.charAt(n);if(i<p){k.push(l);if(l==" "){i=0;}else{i++;}}else{if(l==" "){k.push(l);i=0;}else{k.push(o,l);i=1;}}}return k.join("");},getWrappableNoIE6:function(d,e){if(YAHOO){var f=YAHOO.env.ua.ie;if(f==0||f>=7){return fitbit.util.getWrappable(d,e);}else{return d;}}else{return fitbit.util.getWrappable(d,e);}},getDateFromYUIDateArray:function(b){return new Date(b[0],b[1]-1,b[2]);},preLoadImages:function(){var h=[],e=arguments.length;for(var g=e;g--;){var f=document.createElement("img");f.src=arguments[g];h.push(f);}},parseQuery:function(k){var h={};var m=(k||location.search.slice(1)).replace(/\+/g,"%20");if(m){for(var l=m.split("&"),n=0,i=l.length,j;n<i;n++){j=l[n].split("=");key=decodeURIComponent(j[0]);val=decodeURIComponent(j[1]);if(key in h){if(!(h[key] instanceof Array)){h[key]=[h[key]];}h[key].push(val);}else{h[key]=val;}}}return h;},toHexColor:function(b){b=b.replace(/^\s+|\s+$/g,"");if(b.charAt(0)=="#"&&b.length==4){return b.toLowerCase().replace(/[a-f\d]/g,"$&$&");}else{if(b.toLowerCase().indexOf("rgb")==0){return"#"+b.replace(/\D*(\d+)\D*/g,function(a,c){return("0"+(+c).toString(16)).slice(-2);});}}return b;},cssRule:function(s){s=s.toLowerCase().replace(/^\s+|\s+$/g,"");var j=new RegExp("(?:^|,)\\s*"+s.replace(/\W/g,"$&")+"\\s*(?:,|$)");for(var r=document.styleSheets.length-1;r>=0;r--){var i=document.styleSheets[r];var t=i.cssRulesCache=i.cssRulesCache||{};if(t[s]){return t[s];}var m=i.cssRules||i.rules;for(var q=0,p=m.length;q<p;q++){var n=m[q],o=n.selectorText;o=o.replace(/\.(\w+)\[CLASS~="\1"\]/g,".$1").replace(/\[ID"([^"]+)"\]/g,"#$1");o=o.replace(/\*([.#])/g,"$1");o=o.toLowerCase();if(j.test(o)){return(t[s]=m[q]);}}}return null;}};if("textContent" in document.documentElement){fitbit.util.setTextContent=function(d,c){d.textContent=c;};fitbit.util.getTextContent=function(b){return b.textContent;};}else{fitbit.util.setTextContent=function(d,c){d.innerText=c;};fitbit.util.getTextContent=function(b){return b.innerText;};}})();Date.prototype.setISO8601=function(d){var l="([0-9]{4})(-([0-9]{2})(-([0-9]{2})"+"(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?"+"(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?";var i=d.match(new RegExp(l));var j=0;var h=new Date(i[1],0,1);if(i[3]){h.setMonth(i[3]-1);}if(i[5]){h.setDate(i[5]);}if(i[7]){h.setHours(i[7]);}if(i[8]){h.setMinutes(i[8]);}if(i[10]){h.setSeconds(i[10]);}if(i[12]){h.setMilliseconds(Number("0."+i[12])*1000);}if(i[14]){j=(Number(i[16])*60)+Number(i[17]);j*=((i[15]=="-")?1:-1);}j-=h.getTimezoneOffset();var k=(Number(h)+(j*60*1000));this.setTime(Number(k));};Date.prototype.setISO8601UTC=function(d){var l="([0-9]{4})(-([0-9]{2})(-([0-9]{2})"+"(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?"+"(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?";var i=d.match(new RegExp(l));var j=0;var h=new Date(i[1],0,1);if(i[3]){h.setMonth(i[3]-1);}if(i[5]){h.setDate(i[5]);}if(i[7]){h.setHours(i[7]);}if(i[8]){h.setMinutes(i[8]);}if(i[10]){h.setSeconds(i[10]);}if(i[12]){h.setMilliseconds(Number("0."+i[12])*1000);}if(i[14]){j=(Number(i[16])*60)+Number(i[17]);j*=((i[15]=="-")?1:-1);}var k=(Number(h)+(j*60*1000));this.setTime(Number(k));};Date.prototype.getPaddedMonth=function(){var b=this.getMonth()+1;if(b<10){return"0"+b;}else{return b;}};Date.prototype.getPaddedDate=function(){var b=this.getDate();if(b<10){return"0"+b;}else{return b;}};Date.prototype.getPrettyMonth=function(){var b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return b[this.getMonth()];};var fitbit=window.fitbit||{};if(typeof fitbit.util=="undefined"){fitbit.util={};}if(typeof fitbit.app=="undefined"){fitbit.app={};}var _gaq=window._gaq||[];(function(){fitbit.util.gaTrack=function(x,v,i,z,w,q){function r(b,a){return b+Math.floor(Math.random()*(a-b));}var t="";if(z&&w){q=q||"";t="&utmt=event&utme="+encodeURIComponent("5("+z+"*"+w+"*"+q+")8(visitorType*gender*age*premium)9(trackerUser*male*25-34*true)11(1*1*1*1)")+"&utmdt="+encodeURIComponent(document.title)+"&utmhid="+r(1900000000,1999999999)+"&utmu=6";}var u=1000000000;var p=r(u,9999999999);var A=r(10000000,99999999);var y=r(u,2147483647);var s=(new Date()).getTime();var B="http://www.google-analytics.com/__utm.gif?utmwv=1.3&utmn="+p+"&utmsr=-&utmsc=-&utmul=-&utmje=0&utmfl=-&utmdt=-"+t+"&utmhn="+v+"&utmr=-&utmp="+i+"&utmac="+x+"&utmcc=__utma%3D"+A+"."+y+"."+s+"."+s+"."+s+".2%3B%2B__utmb%3D"+A+"%3B%2B__utmc%3D"+A+"%3B%2B__utmz%3D"+A+"."+s+".2.2.utmccn%3D(direct)%7Cutmcsr%3D(direct)%7Cutmcmd%3D(none)%3B%2B__utmv%3D"+A+".-%3B";document.createElement("img").src=B;};fitbit.util.deferredTrack=function(l){var j=fitbit.app.googleAnalytics.deferredCookieName;var m="";for(var k=1;k<l.length;k++){if(k!=1){m+=fitbit.app.googleAnalytics.eventParamDelimiter;}m+=l[k];}m=encodeURIComponent(m);var n="_g_"+new Date().getTime().toString();var h=new Date();h.setMonth(h.getMonth()+1);var i=YAHOO.util.Cookie.setSub(j,n,m,{expires:h,path:"/"});};fitbit.util.track=function(f){if(window.location.host.indexOf("fitbit.com")==-1){var e=fitbit.util.gaTrack;var h="client.fitbit.com";var g="/";switch(f[0]){case"_setAccount":e.account=f[1];break;case"_trackEvent":e(e.account,h,g+f[3],f[1],f[2],f[3]);break;case"_trackPageview":e(e.account,h,g+f[1]);break;}}else{_gaq.push(f);}};fitbit.util.trackEvent=function(d,f,e){fitbit.util.track(["_trackEvent",d,f,e]);};fitbit.util.initTracking=function(){var f=fitbit.util.track;var g=fitbit.util.deferredTrack;if(document.location.host==="qa1.fitbit.com"){f(["_setAccount","UA-22636088-1"]);}else{if(document.location.host==="qa2.fitbit.com"){f(["_setAccount","UA-22636088-2"]);}else{f(["_setAccount","UA-2595270-1"]);}}if(typeof init_ga_tracker!="undefined"&&init_ga_tracker!=null){f(["_setCustomVar",1,"visitorType",init_ga_tracker.visitorType,1]);f(["_setCustomVar",2,"country",init_ga_tracker.country,1]);if(init_ga_tracker.isLoggedIn){f(["_setCustomVar",3,"gender",init_ga_tracker.gender,1]);f(["_setCustomVar",4,"age",init_ga_tracker.age,1]);f(["_setCustomVar",5,"premium|apiUser",init_ga_tracker.premium_apiUser,1]);}}if(typeof _ga_tracking_domains!="undefined"&&_ga_tracking_domains!=null){for(var i=0;i<_ga_tracking_domains.length;i++){if(document.location.host==_ga_tracking_domains[i].trim()){f(["_setDomainName",".fitbit.com"]);break;}}}var j=/(?:^|\s)track(?:Deferred)?-([^\s-]+)-([^\s-]+)(?:-([^\s-]*))?/;var h="a[class|=track],"+"a[class|=trackDeferred],"+"button[class|=track],"+"button[class|=trackDeferred]";"input[type=submit][class|=track],"+"input[type=submit][class|=trackDeferred]";$(function(){$(document.body).on("click",h,function(){var c=this;if(c&&c.className){var b=j.exec(c.className);if(b&&b.length>1){var a=$(c).is("[class|=trackDeferred]")?g:f;a(["_trackEvent",decodeURIComponent(b[1]),decodeURIComponent(b[2]),decodeURIComponent(b[3])]);}}});});};}());var Y=YAHOO.util;(function(){fitbit.namespace("fitbit.app.premium");fitbit.app.premium={addTrialSubscription:function(d,e,f){Y.Connect.asyncRequest("POST","/premium/subscriptions/trial?apiFormat=json&pack="+d+"&add=on&linkId="+f,{success:function(a){window.location=e;},failure:function(a){},argument:[]},null);}};})();(function(){fitbit.namespace("fitbit.app.premium.customTrackers");fitbit.app.premium.customTrackers={dialog:null,init:function(){fitbit.app.premium.customTrackers.dialog=new YAHOO.widget.Dialog("customTrackersPremiumModal",{width:"554px",zIndex:75,fixedcenter:true,visible:false,modal:true,constraintoviewport:true,draggable:false,close:false});},showDialog:function(){fitbit.app.premium.customTrackers.dialog.render(document.body);Y.Dom.removeClass("customTrackersPremiumModal","invisible");fitbit.app.premium.customTrackers.dialog.show();},onClose:function(){fitbit.app.premium.customTrackers.dialog.cancel();}};})();(function(){fitbit.namespace("fitbit.app.premium.photoStream");fitbit.app.premium.photoStream={dialog:null,init:function(){fitbit.app.premium.photoStream.dialog=new YAHOO.widget.Dialog("photoStreamPremiumModal",{width:"554px",zIndex:55,fixedcenter:true,visible:false,modal:true,constraintoviewport:true,draggable:false,close:false});},showDialog:function(){fitbit.app.premium.photoStream.dialog.render(document.body);Y.Dom.removeClass("photoStreamPremiumModal","invisible");fitbit.app.premium.photoStream.dialog.show();},onClose:function(){fitbit.app.premium.photoStream.dialog.cancel();}};})();(function(){fitbit.namespace("fitbit.app.premium.heartRate");fitbit.app.premium.heartRate={dialog:null,init:function(){fitbit.app.premium.heartRate.dialog=new YAHOO.widget.Dialog("heartRatePremiumModal",{width:"554px",fixedcenter:true,visible:false,modal:true,constraintoviewport:true,draggable:false,close:false});},showDialog:function(){fitbit.app.premium.heartRate.dialog.render(document.body);Y.Dom.removeClass("heartRatePremiumModal","invisible");fitbit.app.premium.heartRate.dialog.show();},onClose:function(){fitbit.app.premium.heartRate.dialog.cancel();}};})();(function(){fitbit.namespace("fitbit.app.premium.bloodSugar");fitbit.app.premium.bloodSugar={dialog:null,init:function(){fitbit.app.premium.bloodSugar.dialog=new YAHOO.widget.Dialog("bloodSugarPremiumModal",{width:"554px",fixedcenter:true,visible:false,modal:true,constraintoviewport:true,draggable:false,close:false});},showDialog:function(){fitbit.app.premium.bloodSugar.dialog.render(document.body);Y.Dom.removeClass("bloodSugarPremiumModal","invisible");fitbit.app.premium.bloodSugar.dialog.show();},onClose:function(){fitbit.app.premium.bloodSugar.dialog.cancel();}};})();(function(){fitbit.namespace("fitbit.app.premium.benchmarking");fitbit.app.premium.benchmarking={dialog:null,init:function(){fitbit.app.premium.benchmarking.dialog=new YAHOO.widget.Dialog("benchmarkingPremiumModal",{width:"554px",fixedcenter:true,visible:false,modal:true,constraintoviewport:true,draggable:false,close:false});},showDialog:function(){fitbit.app.premium.benchmarking.dialog.render(document.body);Y.Dom.removeClass("benchmarkingPremiumModal","invisible");fitbit.app.premium.benchmarking.dialog.show();},onClose:function(){fitbit.app.premium.benchmarking.dialog.cancel();}};})();(function(){fitbit.namespace("fitbit.app.premium.activityReport");fitbit.app.premium.activityReport={dialog:null,init:function(){fitbit.app.premium.activityReport.dialog=new YAHOO.widget.Dialog("activityReportPremiumModal",{width:"554px",fixedcenter:true,visible:false,modal:true,constraintoviewport:true,draggable:false,close:false});},showDialog:function(){fitbit.app.premium.activityReport.dialog.render(document.body);Y.Dom.removeClass("activityReportPremiumModal","invisible");fitbit.app.premium.activityReport.dialog.show();},onClose:function(){fitbit.app.premium.activityReport.dialog.cancel();}};})();(function(){fitbit.namespace("fitbit.app.premium.foodReport");fitbit.app.premium.foodReport={dialog:null,init:function(){fitbit.app.premium.foodReport.dialog=new YAHOO.widget.Dialog("foodReportPremiumModal",{width:"554px",fixedcenter:true,visible:false,modal:true,constraintoviewport:true,draggable:false,close:false});},showDialog:function(){fitbit.app.premium.foodReport.dialog.render(document.body);Y.Dom.removeClass("foodReportPremiumModal","invisible");fitbit.app.premium.foodReport.dialog.show();},onClose:function(){fitbit.app.premium.foodReport.dialog.cancel();}};})();(function(){fitbit.namespace("fitbit.app.premium.sleepReport");fitbit.app.premium.sleepReport={dialog:null,init:function(){fitbit.app.premium.sleepReport.dialog=new YAHOO.widget.Dialog("sleepReportPremiumModal",{width:"554px",fixedcenter:true,visible:false,modal:true,constraintoviewport:true,draggable:false,close:false});},showDialog:function(){fitbit.app.premium.sleepReport.dialog.render(document.body);Y.Dom.removeClass("sleepReportPremiumModal","invisible");fitbit.app.premium.sleepReport.dialog.show();},onClose:function(){fitbit.app.premium.sleepReport.dialog.cancel();}};})();(function(){fitbit.namespace("fitbit.app.premium.trainer");fitbit.app.premium.trainer={dialog:null,init:function(){fitbit.app.premium.trainer.dialog=new YAHOO.widget.Dialog("trainerPremiumModal",{width:"554px",zIndex:65,fixedcenter:true,visible:false,modal:true,constraintoviewport:true,draggable:false,close:false});},showDialog:function(){fitbit.app.premium.trainer.dialog.render(document.body);Y.Dom.removeClass("trainerPremiumModal","invisible");fitbit.app.premium.trainer.dialog.show();},onClose:function(){fitbit.app.premium.trainer.dialog.cancel();}};})();if(Y.Dom.get("customTrackersPremiumModal")!=null){fitbit.app.premium.customTrackers.init();}if(Y.Dom.get("photoStreamPremiumModal")!=null){fitbit.app.premium.photoStream.init();}if(Y.Dom.get("heartRatePremiumModal")!=null){fitbit.app.premium.heartRate.init();}if(Y.Dom.get("bloodSugarPremiumModal")!=null){fitbit.app.premium.bloodSugar.init();}if(Y.Dom.get("benchmarkingPremiumModal")!=null){fitbit.app.premium.benchmarking.init();}if(Y.Dom.get("activityReportPremiumModal")!=null){fitbit.app.premium.activityReport.init();}if(Y.Dom.get("foodReportPremiumModal")!=null){fitbit.app.premium.foodReport.init();}if(Y.Dom.get("sleepReportPremiumModal")!=null){fitbit.app.premium.sleepReport.init();}if(Y.Dom.get("trainerPremiumModal")!=null){fitbit.app.premium.trainer.init();}var Y=YAHOO.util;(function(){fitbit.namespace("fitbit.app.customTracker");fitbit.app.customTracker={addCustomTrackerDialog:null,init:function(){fitbit.app.customTracker.addCustomTrackerDialog=new YAHOO.widget.Dialog("addCustomTrackerModal",{width:"384px",fixedcenter:true,visible:false,modal:true,constraintoviewport:true,draggable:false,close:false,buttons:[{text:fitbit.i18n.getResource("com.fitbit.app.tracker.label.add_tracker_button"),handler:fitbit.app.customTracker.handleAddCustomTrackerSubmit,id:"addCustomTracker",isDefault:true}]});},guessSubjectPluralForm:function(customTrackerFormId,singleFormElementName,pluralFormElementName,performGuess){var form=document.getElementById(customTrackerFormId);var singleForm=form[singleFormElementName].value;var pluralForm=performGuess?fitbit.app.customTracker.computeSubjectPluralForm(singleForm):singleForm;form[pluralFormElementName].value=pluralForm;},computeSubjectPluralForm:function(singleForm){var pluralForm=null;if(singleForm.charAt(singleForm.length-1)=="y"){pluralForm=singleForm.substr(0,singleForm.length-1)+"ies";}else{if(singleForm.charAt(singleForm.length-1)=="f"){pluralForm=singleForm.substr(0,singleForm.length-1)+"ves";}else{if(singleForm.charAt(singleForm.length-1)=="s"){pluralForm=singleForm+"es";}else{if(singleForm.charAt(singleForm.length-1)=="x"){pluralForm=singleForm+"es";}else{if(singleForm.charAt(singleForm.length-1)=="z"){pluralForm=singleForm+"es";}else{if(singleForm.charAt(singleForm.length-2)=="c"&&singleForm.charAt(singleForm.length-1)=="h"){pluralForm=singleForm+"es";}else{if(singleForm.charAt(singleForm.length-2)=="s"&&singleForm.charAt(singleForm.length-1)=="h"){pluralForm=singleForm+"es";}else{pluralForm=singleForm+"s";}}}}}}}return pluralForm;},showAddCustomTrackerDialog:function(){fitbit.app.customTracker.addCustomTrackerDialog.render(document.body);Y.Dom.removeClass("addCustomTrackerModal","invisible");fitbit.app.customTracker.setAddCustomTrackerButtonText(fitbit.i18n.getResource("com.fitbit.app.tracker.label.add_tracker_button"));fitbit.app.customTracker.addCustomTrackerDialog.show();},setAddCustomTrackerButtonText:function(buttonText){var addCustomTrackerButton=fitbit.app.customTracker.addCustomTrackerDialog.getButtons()[0];addCustomTrackerButton.innerHTML=buttonText;},onClose:function(){var form=document.getElementById("addCustomTrackerForm");fitbit.util.resetForm(form);var errorsElement=Y.Dom.get("addCustomTrackerModalErrors");fitbit.util.setContent(errorsElement,"");Y.Dom.addClass(errorsElement,"invisible");fitbit.app.customTracker.addCustomTrackerDialog.cancel();},handleAddCustomTrackerSubmit:function(){var progressElement=Y.Dom.get("addCustomTrackerModalProgress");fitbit.util.setContent(progressElement,'<img src="/images/controls/busy_grey_green.gif"/> '+fitbit.i18n.getResource("com.fitbit.app.tracker.message.tracker_add_progress"));Y.Dom.removeClass(progressElement,"invisible");var errorsElement=Y.Dom.get("addCustomTrackerModalErrors");fitbit.util.setContent(errorsElement,"");Y.Dom.addClass(errorsElement,"invisible");var form=document.getElementById("addCustomTrackerForm");var formActionURL=form.action;YAHOO.util.Connect.setForm(form);YAHOO.util.Connect.asyncRequest("POST",formActionURL,{success:function(o){var result=eval("("+o.responseText+")").result;window.location="/log/"+result.uri;},failure:function(o){var result=eval("("+o.responseText+")").result;fitbit.util.setContent(Y.Dom.get("addCustomTrackerModalErrors"),fitbit.app.convertErrorsToList(result.errors));Y.Dom.removeClass(Y.Dom.get("addCustomTrackerModalErrors"),"invisible");fitbit.app.customTracker.addCustomTrackerDialog.hide();fitbit.app.customTracker.addCustomTrackerDialog.show();var progressElement=Y.Dom.get("addCustomTrackerModalProgress");fitbit.util.setContent(progressElement,"");Y.Dom.removeClass(progressElement,"invisible");}});}};})();if(Y.Dom.get("addCustomTrackerModal")!=null){fitbit.app.customTracker.init();}var curvyCornersNoAutoScan=true;$.fb101NeedsSetup=true;(function(b){b.fn.fitbit101=function(h){var f=b(this),g=b.extend({},b.fn.fitbit101.defaults,h),a={tabsApi:{},scrollApi:{},init:function(){a.overlaySetup();if(b.fb101NeedsSetup){a.scrollSetup();a.tabSetup();a.tabRoute(g.sectionId);a.hideNextPrev();a.bindEvents();}},overlaySetup:function(){f.overlay({top:"center",left:"center",mask:{color:"#000",opacity:0.6},onLoad:function(){a.track();},close:".closeModal"});a.overlayApi=f.data("overlay");a.overlayApi.load();},bindEvents:function(){f.delegate("#fb101 .page_next, #fb101 .page_prev","click",function(c){var d=a.scrollLength(),e=a.scrollIndex();if(b(this).hasClass("page_next")){a.nextButton(d,e);}else{if(b(this).hasClass("page_prev")){a.prevButton(d,e);}}c.preventDefault();});f.delegate(f,"click",function(){a.hideNextPrev();});b(".chapterNav").delegate(".pager","click",function(){if(b(this).parent("li").hasClass("device")){a.scrollApi.device.begin();}else{if(b(this).parent("li").hasClass("basestation")){a.scrollApi.base.begin();}else{a.scrollApi.website.begin();}}a.hideNextPrev();});},tabSetup:function(){b(".chapterNav").tabs(".chapterPanes > div",{current:"selected"});a.tabsApi=b(".chapterNav").data("tabs");},tabRoute:function(c){switch(c){case"fb101-website":a.tabsApi.click(2);break;case"fb101-base":a.tabsApi.click(1);break;default:a.tabsApi.click(0);}},scrollSetup:function(){b(".fb101Scroll_device").scrollable({items:".section"}).navigator({navi:".fb101ScrollNav_device",naviItem:"a",activeClass:"selected"});a.scrollApi.device=b(".fb101Scroll_device").data("scrollable");b(".fb101Scroll_base").scrollable({items:".section"}).navigator({navi:".fb101ScrollNav_base",naviItem:"a",activeClass:"selected"});a.scrollApi.base=b(".fb101Scroll_base").data("scrollable");b(".fb101Scroll_website").scrollable({items:".section"}).navigator({navi:".fb101ScrollNav_website",naviItem:"a",activeClass:"selected"});a.scrollApi.website=b(".fb101Scroll_website").data("scrollable");b.fb101NeedsSetup=false;},whichScrollApi:function(){var c=a.tabsApi.getIndex();if(c===2){return a.scrollApi.website;}else{if(c===1){return a.scrollApi.base;}else{return a.scrollApi.device;}}},hideNextPrev:function(){var e=a.firstOrLastTab(),d=a.scrollIndex(),c=a.scrollLength();if(e==="first"&&d===0){f.find(".page_prev").hide();}else{if(e==="last"&&((d+1)===c)){f.find(".page_next").hide();}else{f.find(".page_prev, .page_next").show();}}},scrollLength:function(){var c=a.whichScrollApi();return c.getSize();},scrollIndex:function(){var c=a.whichScrollApi();return c.getIndex();},firstOrLastTab:function(){var d=a.tabsApi.getIndex(),c=a.tabsApi.getTabs().length;if((d===0)&&(c>1)){return"first";}else{if((d+1)===c){return"last";}}},nextButton:function(c,e){var d=a.whichScrollApi();if((e+1)<c){d.next();}else{a.tabsApi.next();}},prevButton:function(c,e){var d=a.whichScrollApi();if(e>0){d.prev();}else{a.tabsApi.prev();a.whichScrollApi().end();}},trackingLabelMap:{"fb101-device":"Fitbit101device","fb101-base":"Fitbit101base","fb101-website":"Fitbit101web"},track:function(){try{if(g.sectionId in a.trackingLabelMap&&fitbit.util.track){fitbit.util.track(["_trackEvent","Fitbit101","Click",a.trackingLabelMap[g.sectionId]]);}}catch(c){log(c);}}};a.init();};b.fn.fitbit101.defaults={sectionId:"fb101-device"};})(jQuery);!function(b){b(function(){var a=false,u,q,r,s,w,p,x,y,t,v,z,A,B;b.aria101=function(){var c=b.parseJSON(b("#aria101_labels").html());if(a){i();return;}a=true;u=b("<div/>").css({zIndex:10000,"background-color":"#000","opacity":"0.5","width":"100%","height":"100%","position":"fixed","left":0,"top":0}).click(j);q=b("<div id='aria101'/>").css({zIndex:10001,"position":"fixed","left":"50%","margin-left":"-357px","top":"20%"});r=b("<div/>");s=b("<div/>").addClass("top-nav");w=[b("<button/>").text(c.using_scale),b("<button/>").text(c.adding_people),b("<button/>").text(c.reaching_goals)];_(w).map(function(l,k){s.append(l);l.click(function(){h(k+1,1);});});p=b("<div/>").addClass("close").text(c.close).appendTo(s);function j(){u.detach();q.detach();}p.click(j);x=b("<div/>").css({"background-color":"#d8d8d8","height":"44px","width":"714px"});y=b("<button/>").addClass("prev").text(c.prev).appendTo(x);t=b("<button/>").addClass("next").text(c.next).appendTo(x);v=b("<div/>").addClass("dots").appendTo(x);z=[3,3,3];A=[[{x:416,y:108},{x:405,y:96},{x:333,y:72}],[{x:440,y:92},{x:357,y:92},{x:440,y:81}],[{x:405,y:78},{x:434,y:88},{x:429,y:88}]];function h(n,m){var l=r.clone();l.css("background-image","url(/images/aria_101/"+n+"/"+m+".jpg)");var k=A[n-1][m-1];l.css({margin:0,"padding-left":k.x+"px","padding-top":k.y+"px",width:679-k.x+"px",height:408-k.y+"px","padding-right":"35px"});if(n==1&&m==1){l.css({margin:"0px -6px",width:685-k.x+"px"});}l.html(b("#aria101_"+n+"_"+m).html());f(l);e(n);g(n,m);r.replaceWith(l);r=l;}function g(k,m){y.removeClass("disabled").unbind("click");t.removeClass("disabled").unbind("click");if(k==1&&m==1){y.addClass("disabled");}else{y.click(function(){if(m==1){h(k-1,z[k-2]);}else{h(k,m-1);}});}if(k==3&&m==z[2]){t.addClass("disabled");}else{t.click(function(){if(m==z[k-1]){h(k+1,1);}else{h(k,m+1);}});}var l=_(_.range(z[k-1])).map(function(n){return b("<span/>").addClass(n==m-1?"active dot":"dot").click(function(){h(k,n+1);});});v.empty();_(l).map(function(n){v.append(n);});}function e(k){_(w).map(function(l,m){if(m==k-1){l.addClass("active");}else{l.removeClass("active");}});}function d(){if(b.fn.foodGoalModal){j();b().foodGoalModal();}else{if(window.location=="/#foodGoal"){j();}else{window.location="/#foodGoal";}}}function f(k){k.css("position","relative");k.find("h1").css({"font":'bold 30px "museo slab",georgia,serif',"color":"#333","padding":0,"margin":0});k.find("p, li, dd").css({"font":"14px helvetica,arial","color":"#666","margin":"10px 0px"});k.find("ol").css({"padding-left":"25px","padding-right":"25px","font-weight":"bold"});k.find("li").css({"margin-top":"13px","margin-bottom":"13px"});k.find("dt").css({"font":'bold 14px "museo slab",georgia,serif',"color":"#333"});k.find("dd").css({margin:0,"margin-bottom":"20px"});k.find("button").addClass("btnLg btnPink").css("margin-top","30px").click(d);}function i(){q.appendTo("body").append(r).append(x).append(s);u.appendTo("body");h(1,1);}i();};!function(){var c=/launchAria101/.test(location.hash);if(c){b.aria101();}}();});}(jQuery);(function(){var l=this,p=l._,h={},I=Array.prototype,i=Object.prototype,E=I.slice,r=I.unshift,u=i.toString,f=i.hasOwnProperty,s=I.forEach,t=I.map,v=I.reduce,x=I.reduceRight,y=I.filter,A=I.every,D=I.some,j=I.indexOf,H=I.lastIndexOf;i=Array.isArray;var w=Object.keys,n=Function.prototype.bind,C=function(a){return new b(a);};typeof module!=="undefined"&&module.exports?(module.exports=C,C._=C):l._=C;C.VERSION="1.1.7";var F=C.each=C.forEach=function(e,a,g){if(e!=null){if(s&&e.forEach===s){e.forEach(a,g);}else{if(e.length===+e.length){for(var c=0,d=e.length;c<d;c++){if(c in e&&a.call(g,e[c],c,e)===h){break;}}}else{for(c in e){if(f.call(e,c)&&a.call(g,e[c],c,e)===h){break;}}}}}};C.map=function(d,a,e){var c=[];if(d==null){return c;}if(t&&d.map===t){return d.map(a,e);}F(d,function(k,g,G){c[c.length]=a.call(e,k,g,G);});return c;};C.reduce=C.foldl=C.inject=function(a,c,d,e){var g=d!==void 0;a==null&&(a=[]);if(v&&a.reduce===v){return e&&(c=C.bind(c,e)),g?a.reduce(c,d):a.reduce(c);}F(a,function(k,G,J){g?d=c.call(e,d,k,G,J):(d=k,g=!0);});if(!g){throw new TypeError("Reduce of empty array with no initial value");}return d;};C.reduceRight=C.foldr=function(a,c,d,e){a==null&&(a=[]);if(x&&a.reduceRight===x){return e&&(c=C.bind(c,e)),d!==void 0?a.reduceRight(c,d):a.reduceRight(c);}a=(C.isArray(a)?a.slice():C.toArray(a)).reverse();return C.reduce(a,c,d,e);};C.find=C.detect=function(d,a,e){var c;m(d,function(k,G,g){if(a.call(e,k,G,g)){return c=k,!0;}});return c;};C.filter=C.select=function(d,a,e){var c=[];if(d==null){return c;}if(y&&d.filter===y){return d.filter(a,e);}F(d,function(k,G,g){a.call(e,k,G,g)&&(c[c.length]=k);});return c;};C.reject=function(d,a,e){var c=[];if(d==null){return c;}F(d,function(k,G,g){a.call(e,k,G,g)||(c[c.length]=k);});return c;};C.every=C.all=function(d,a,e){var c=!0;if(d==null){return c;}if(A&&d.every===A){return d.every(a,e);}F(d,function(k,G,g){if(!(c=c&&a.call(e,k,G,g))){return h;}});return c;};var m=C.some=C.any=function(a,c,d){c=c||C.identity;var e=!1;if(a==null){return e;}if(D&&a.some===D){return a.some(c,d);}F(a,function(k,G,g){if(e|=c.call(d,k,G,g)){return h;}});return !!e;};C.include=C.contains=function(c,a){var d=!1;if(c==null){return d;}if(j&&c.indexOf===j){return c.indexOf(a)!=-1;}m(c,function(e){if(d=e===a){return !0;}});return d;};C.invoke=function(a,c){var d=E.call(arguments,2);return C.map(a,function(e){return(c.call?c||e:e[c]).apply(e,d);});};C.pluck=function(a,c){return C.map(a,function(d){return d[c];});};C.max=function(a,c,d){if(!c&&C.isArray(a)){return Math.max.apply(Math,a);}var e={computed:-Infinity};F(a,function(k,G,g){G=c?c.call(d,k,G,g):k;G>=e.computed&&(e={value:k,computed:G});});return e.value;};C.min=function(a,c,d){if(!c&&C.isArray(a)){return Math.min.apply(Math,a);}var e={computed:Infinity};F(a,function(k,G,g){G=c?c.call(d,k,G,g):k;G<e.computed&&(e={value:k,computed:G});});return e.value;};C.sortBy=function(a,c,d){return C.pluck(C.map(a,function(g,k,e){return{value:g,criteria:c.call(d,g,k,e)};}).sort(function(k,G){var e=k.criteria,g=G.criteria;return e<g?-1:e>g?1:0;}),"value");};C.groupBy=function(c,d){var a={};F(c,function(e,g){var k=d(e,g);(a[k]||(a[k]=[])).push(e);});return a;};C.sortedIndex=function(c,a,d){d||(d=C.identity);for(var e=0,g=c.length;e<g;){var k=e+g>>1;d(c[k])<d(a)?e=k+1:g=k;}return e;};C.toArray=function(a){if(!a){return[];}if(a.toArray){return a.toArray();}if(C.isArray(a)){return E.call(a);}if(C.isArguments(a)){return E.call(a);}return C.values(a);};C.size=function(a){return C.toArray(a).length;};C.first=C.head=function(c,d,a){return d!=null&&!a?E.call(c,0,d):c[0];};C.rest=C.tail=function(c,d,a){return E.call(c,d==null||a?1:d);};C.last=function(a){return a[a.length-1];};C.compact=function(a){return C.filter(a,function(c){return !!c;});};C.flatten=function(a){return C.reduce(a,function(d,c){if(C.isArray(c)){return d.concat(C.flatten(c));}d[d.length]=c;return d;},[]);};C.without=function(a){return C.difference(a,E.call(arguments,1));};C.uniq=C.unique=function(a,c){return C.reduce(a,function(g,d,e){if(0==e||(c===!0?C.last(g)!=d:!C.include(g,d))){g[g.length]=d;}return g;},[]);};C.union=function(){return C.uniq(C.flatten(arguments));};C.intersection=C.intersect=function(a){var c=E.call(arguments,1);return C.filter(C.uniq(a),function(d){return C.every(c,function(e){return C.indexOf(e,d)>=0;});});};C.difference=function(a,c){return C.filter(a,function(d){return !C.include(c,d);});};C.zip=function(){for(var a=E.call(arguments),c=C.max(C.pluck(a,"length")),d=Array(c),e=0;e<c;e++){d[e]=C.pluck(a,""+e);}return d;};C.indexOf=function(a,c,d){if(a==null){return -1;}var e;if(d){return d=C.sortedIndex(a,c),a[d]===c?d:-1;}if(j&&a.indexOf===j){return a.indexOf(c);}d=0;for(e=a.length;d<e;d++){if(a[d]===c){return d;}}return -1;};C.lastIndexOf=function(c,d){if(c==null){return -1;}if(H&&c.lastIndexOf===H){return c.lastIndexOf(d);}for(var a=c.length;a--;){if(c[a]===d){return a;}}return -1;};C.range=function(e,g,k){arguments.length<=1&&(g=e||0,e=0);k=arguments[2]||1;for(var a=Math.max(Math.ceil((g-e)/k),0),c=0,d=Array(a);c<a;){d[c++]=e,e+=k;}return d;};C.bind=function(c,d){if(c.bind===n&&n){return n.apply(c,E.call(arguments,1));}var a=E.call(arguments,2);return function(){return c.apply(d,a.concat(E.call(arguments)));};};C.bindAll=function(a){var c=E.call(arguments,1);c.length==0&&(c=C.functions(a));F(c,function(d){a[d]=C.bind(a[d],a);});return a;};C.memoize=function(a,c){var d={};c||(c=C.identity);return function(){var e=c.apply(this,arguments);return f.call(d,e)?d[e]:d[e]=a.apply(this,arguments);};};C.delay=function(c,d){var a=E.call(arguments,2);return setTimeout(function(){return c.apply(c,a);},d);};C.defer=function(a){return C.delay.apply(C,[a,1].concat(E.call(arguments,1)));};var o=function(d,e,a){var c;return function(){var k=this,G=arguments,g=function(){c=null;d.apply(k,G);};a&&clearTimeout(c);if(a||!c){c=setTimeout(g,e);}};};C.throttle=function(a,c){return o(a,c,!1);};C.debounce=function(a,c){return o(a,c,!0);};C.once=function(c){var d=!1,a;return function(){if(d){return a;}d=!0;return a=c.apply(this,arguments);};};C.wrap=function(a,c){return function(){var d=[a].concat(E.call(arguments));return c.apply(this,d);};};C.compose=function(){var a=E.call(arguments);return function(){for(var d=E.call(arguments),c=a.length-1;c>=0;c--){d=[a[c].apply(this,d)];}return d[0];};};C.after=function(a,c){return function(){if(--a<1){return c.apply(this,arguments);}};};C.keys=w||function(c){if(c!==Object(c)){throw new TypeError("Invalid object");}var d=[],a;for(a in c){f.call(c,a)&&(d[d.length]=a);}return d;};C.values=function(a){return C.map(a,C.identity);};C.functions=C.methods=function(a){var c=[],d;for(d in a){C.isFunction(a[d])&&c.push(d);}return c.sort();};C.extend=function(a){F(E.call(arguments,1),function(d){for(var c in d){d[c]!==void 0&&(a[c]=d[c]);}});return a;};C.defaults=function(a){F(E.call(arguments,1),function(d){for(var c in d){a[c]==null&&(a[c]=d[c]);}});return a;};C.clone=function(a){return C.isArray(a)?a.slice():C.extend({},a);};C.tap=function(a,c){c(a);return a;};C.isEqual=function(a,c){if(a===c){return !0;}var d=typeof a;if(d!=typeof c){return !1;}if(a==c){return !0;}if(!a&&c||a&&!c){return !1;}if(a._chain){a=a._wrapped;}if(c._chain){c=c._wrapped;}if(a.isEqual){return a.isEqual(c);}if(c.isEqual){return c.isEqual(a);}if(C.isDate(a)&&C.isDate(c)){return a.getTime()===c.getTime();}if(C.isNaN(a)&&C.isNaN(c)){return !1;}if(C.isRegExp(a)&&C.isRegExp(c)){return a.source===c.source&&a.global===c.global&&a.ignoreCase===c.ignoreCase&&a.multiline===c.multiline;}if(d!=="object"){return !1;}if(a.length&&a.length!==c.length){return !1;}d=C.keys(a);var e=C.keys(c);if(d.length!=e.length){return !1;}for(var g in a){if(!(g in c)||!C.isEqual(a[g],c[g])){return !1;}}return !0;};C.isEmpty=function(a){if(C.isArray(a)||C.isString(a)){return a.length===0;}for(var c in a){if(f.call(a,c)){return !1;}}return !0;};C.isElement=function(a){return !!(a&&a.nodeType==1);};C.isArray=i||function(a){return u.call(a)==="[object Array]";};C.isObject=function(a){return a===Object(a);};C.isArguments=function(a){return !(!a||!f.call(a,"callee"));};C.isFunction=function(a){return !(!a||!a.constructor||!a.call||!a.apply);};C.isString=function(a){return !!(a===""||a&&a.charCodeAt&&a.substr);};C.isNumber=function(a){return !!(a===0||a&&a.toExponential&&a.toFixed);};C.isNaN=function(a){return a!==a;};C.isBoolean=function(a){return a===!0||a===!1;};C.isDate=function(a){return !(!a||!a.getTimezoneOffset||!a.setUTCFullYear);};C.isRegExp=function(a){return !(!a||!a.test||!a.exec||!(a.ignoreCase||a.ignoreCase===!1));};C.isNull=function(a){return a===null;};C.isUndefined=function(a){return a===void 0;};C.noConflict=function(){l._=p;return this;};C.identity=function(a){return a;};C.times=function(d,e,a){for(var c=0;c<d;c++){e.call(a,c);}};C.mixin=function(a){F(C.functions(a),function(c){z(c,C[c]=a[c]);});};var B=0;C.uniqueId=function(a){var c=B++;return a?a+c:c;};C.templateSettings={evaluate:/{([\s\S]+?)}/g,interpolate:/{(([\s\S]+?))}/g};C.template=function(a,c){var d=C.templateSettings;d="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(d.interpolate,function(e,g){return"',"+g.replace(/\\'/g,"'")+",'";}).replace(d.evaluate||null,function(e,g){return"');"+g.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('";}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";d=new Function("obj",d);return c?d(c):d;};var b=function(a){this._wrapped=a;};C.prototype=b.prototype;var q=function(a,c){return c?C(a).chain():a;},z=function(a,c){b.prototype[a]=function(){var d=E.call(arguments);r.call(d,this._wrapped);return q(c.apply(C,d),this._chain);};};C.mixin(C);F(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var c=I[a];b.prototype[a]=function(){c.apply(this._wrapped,arguments);return q(this._wrapped,this._chain);};});F(["concat","join","slice"],function(a){var c=I[a];b.prototype[a]=function(){return q(c.apply(this._wrapped,arguments),this._chain);};});b.prototype.chain=function(){this._chain=!0;return this;};b.prototype.value=function(){return this._wrapped;};})();window.Modernizr=function(s,t,u){function l(){w.input=function(J){for(var K=0,I=J.length;K<I;K++){i[J[K]]=!!(J[K] in D);}return i;}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),w.inputtypes=function(I){for(var J=0,K,L,M,N=I.length;J<N;J++){D.setAttribute("type",L=I[J]),K=D.type!=="text",K&&(D.value=E,D.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(L)&&D.style.WebkitAppearance!==u?(y.appendChild(D),M=t.defaultView,K=M.getComputedStyle&&M.getComputedStyle(D,null).WebkitAppearance!=="textfield"&&D.offsetHeight!==0,y.removeChild(D)):/^(search|tel)$/.test(L)||(/^(url|email)$/.test(L)?K=D.checkValidity&&D.checkValidity()===!1:/^color$/.test(L)?(y.appendChild(D),y.offsetWidth,K=D.value!=E,y.removeChild(D)):K=D.value!=E)),g[I[J]]=!!K;}return g;}("search tel url email datetime date month week time datetime-local number range color".split(" "));}function j(K,L){var I=K.charAt(0).toUpperCase()+K.substr(1),J=(K+" "+a.join(I+" ")+I).split(" ");return !!h(J,L);}function h(J,K){for(var I in J){if(C[J[I]]!==u&&(!K||K(J[I],B))){return !0;}}}function f(I,J){return(""+I).indexOf(J)!==-1;}function d(I,J){return typeof I===J;}function b(I,J){return H(G.join(I+";")+(J||""));}function H(I){C.cssText=I;}var v="1.7",w={},x=!0,y=t.documentElement,z=t.head||t.getElementsByTagName("head")[0],A="modernizr",B=t.createElement(A),C=B.style,D=t.createElement("input"),E=":)",F=Object.prototype.toString,G=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),a="Webkit Moz O ms Khtml".split(" "),c={svg:"http://www.w3.org/2000/svg"},e={},g={},i={},k=[],m,n=function(I){var J=t.createElement("style"),K=t.createElement("div"),L;J.textContent=I+"{#modernizr{height:3px}}",z.appendChild(J),K.id="modernizr",y.appendChild(K),L=K.offsetHeight===3,J.parentNode.removeChild(J),K.parentNode.removeChild(K);return !!L;},p=function(){function J(L,M){M=M||t.createElement(I[L]||"div");var K=(L="on"+L) in M;K||(M.setAttribute||(M=t.createElement("div")),M.setAttribute&&M.removeAttribute&&(M.setAttribute(L,""),K=d(M[L],"function"),d(M[L],u)||(M[L]=u),M.removeAttribute(L))),M=null;return K;}var I={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return J;}(),q=({}).hasOwnProperty,r;d(q,u)||d(q.call,u)?r=function(I,J){return J in I&&d(I.constructor.prototype[J],u);}:r=function(I,J){return q.call(I,J);},e.flexbox=function(){function J(P,Q,N,O){P.style.cssText=G.join(Q+":"+N+";")+(O||"");}function I(P,Q,N,O){Q+=":",P.style.cssText=(Q+G.join(N+";"+Q)).slice(0,-Q.length)+(O||"");}var K=t.createElement("div"),L=t.createElement("div");I(K,"display","box","width:42px;padding:0;"),J(L,"box-flex","1","width:10px;"),K.appendChild(L),y.appendChild(K);var M=L.offsetWidth===42;K.removeChild(L),y.removeChild(K);return M;},e.canvas=function(){var I=t.createElement("canvas");return I.getContext&&I.getContext("2d");},e.canvastext=function(){return w.canvas&&d(t.createElement("canvas").getContext("2d").fillText,"function");},e.webgl=function(){return !!s.WebGLRenderingContext;},e.touch=function(){return"ontouchstart" in s||n("@media ("+G.join("touch-enabled),(")+"modernizr)");},e.geolocation=function(){return !!navigator.geolocation;},e.postmessage=function(){return !!s.postMessage;},e.websqldatabase=function(){var I=!!s.openDatabase;return I;},e.indexedDB=function(){for(var I=-1,J=a.length;++I<J;){var K=a[I].toLowerCase();if(s[K+"_indexedDB"]||s[K+"IndexedDB"]){return !0;}}return !1;},e.hashchange=function(){return p("hashchange",s)&&(t.documentMode===u||t.documentMode>7);},e.history=function(){return !!(s.history&&history.pushState);},e.draganddrop=function(){return p("dragstart")&&p("drop");},e.websockets=function(){return"WebSocket" in s;},e.rgba=function(){H("background-color:rgba(150,255,150,.5)");return f(C.backgroundColor,"rgba");},e.hsla=function(){H("background-color:hsla(120,40%,100%,.5)");return f(C.backgroundColor,"rgba")||f(C.backgroundColor,"hsla");},e.multiplebgs=function(){H("background:url(//:),url(//:),red url(//:)");return(new RegExp("(url\\s*\\(.*?){3}")).test(C.background);},e.backgroundsize=function(){return j("backgroundSize");},e.borderimage=function(){return j("borderImage");},e.borderradius=function(){return j("borderRadius","",function(I){return f(I,"orderRadius");});},e.boxshadow=function(){return j("boxShadow");},e.textshadow=function(){return t.createElement("div").style.textShadow==="";},e.opacity=function(){b("opacity:.55");return/^0.55$/.test(C.opacity);},e.cssanimations=function(){return j("animationName");},e.csscolumns=function(){return j("columnCount");},e.cssgradients=function(){var J="background-image:",K="gradient(linear,left top,right bottom,from(#9f9),to(white));",I="linear-gradient(left top,#9f9, white);";H((J+G.join(K+J)+G.join(I+J)).slice(0,-J.length));return f(C.backgroundImage,"gradient");},e.cssreflections=function(){return j("boxReflect");},e.csstransforms=function(){return !!h(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"]);},e.csstransforms3d=function(){var I=!!h(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);I&&"webkitPerspective" in y.style&&(I=n("@media ("+G.join("transform-3d),(")+"modernizr)"));return I;},e.csstransitions=function(){return j("transitionProperty");},e.fontface=function(){var I,J,K=z||y,L=t.createElement("style"),M=t.implementation||{hasFeature:function(){return !1;}};L.type="text/css",K.insertBefore(L,K.firstChild),I=L.sheet||L.styleSheet;var N=M.hasFeature("CSS2","")?function(O){if(!I||!O){return !1;}var P=!1;try{I.insertRule(O,0),P=/src/i.test(I.cssRules[0].cssText),I.deleteRule(I.cssRules.length-1);}catch(Q){}return P;}:function(O){if(!I||!O){return !1;}I.cssText=O;return I.cssText.length!==0&&/src/i.test(I.cssText)&&I.cssText.replace(/\r+|\n+/g,"").indexOf(O.split(" ")[0])===0;};J=N('@font-face { font-family: "font"; src: url(data:,); }'),K.removeChild(L);return J;},e.video=function(){var I=t.createElement("video"),J=!!I.canPlayType;if(J){J=new Boolean(J),J.ogg=I.canPlayType('video/ogg; codecs="theora"');var K='video/mp4; codecs="avc1.42E01E';J.h264=I.canPlayType(K+'"')||I.canPlayType(K+', mp4a.40.2"'),J.webm=I.canPlayType('video/webm; codecs="vp8, vorbis"');}return J;},e.audio=function(){var I=t.createElement("audio"),J=!!I.canPlayType;J&&(J=new Boolean(J),J.ogg=I.canPlayType('audio/ogg; codecs="vorbis"'),J.mp3=I.canPlayType("audio/mpeg;"),J.wav=I.canPlayType('audio/wav; codecs="1"'),J.m4a=I.canPlayType("audio/x-m4a;")||I.canPlayType("audio/aac;"));return J;},e.localstorage=function(){try{return !!localStorage.getItem;}catch(I){return !1;}},e.sessionstorage=function(){try{return !!sessionStorage.getItem;}catch(I){return !1;}},e.webWorkers=function(){return !!s.Worker;},e.applicationcache=function(){return !!s.applicationCache;},e.svg=function(){return !!t.createElementNS&&!!t.createElementNS(c.svg,"svg").createSVGRect;},e.inlinesvg=function(){var I=t.createElement("div");I.innerHTML="<svg/>";return(I.firstChild&&I.firstChild.namespaceURI)==c.svg;},e.smil=function(){return !!t.createElementNS&&/SVG/.test(F.call(t.createElementNS(c.svg,"animate")));},e.svgclippaths=function(){return !!t.createElementNS&&/SVG/.test(F.call(t.createElementNS(c.svg,"clipPath")));};for(var o in e){r(e,o)&&(m=o.toLowerCase(),w[m]=e[o](),k.push((w[m]?"":"no-")+m));}w.input||l(),w.crosswindowmessaging=w.postmessage,w.historymanagement=w.history,w.addTest=function(I,J){I=I.toLowerCase();if(!w[I]){J=!!J(),y.className+=" "+(J?"":"no-")+I,w[I]=J;return w;}},H(""),B=D=null,x&&s.attachEvent&&function(){var I=t.createElement("div");I.innerHTML="<elem></elem>";return I.childNodes.length!==1;}()&&function(V,X){function L(ad,ae){var Z=-1,aa=ad.length,ab,ac=[];while(++Z<aa){ab=ad[Z],(ae=ab.media||ae)!="screen"&&ac.push(L(ab.imports,ae),ab.cssText);}return ac.join("");}function J(Z){var aa=-1;while(++aa<M){Z.createElement(K[aa]);}}var I="abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",K=I.split("|"),M=K.length,N=new RegExp("(^|\\s)("+I+")","gi"),O=new RegExp("<(/*)("+I+")","gi"),P=new RegExp("(^|[^\\n]*?\\s)("+I+")([^\\n]*)({[\\n\\w\\W]*?})","gi"),Q=X.createDocumentFragment(),R=X.documentElement,S=R.firstChild,T=X.createElement("body"),U=X.createElement("style"),W;J(X),J(Q),S.insertBefore(U,S.firstChild),U.media="print",V.attachEvent("onbeforeprint",function(){var Z=-1,aa=L(X.styleSheets,"all"),af=[],ab;W=W||X.body;while((ab=P.exec(aa))!=null){af.push((ab[1]+ab[2]+ab[3]).replace(N,"$1.iepp_$2")+ab[4]);}U.styleSheet.cssText=af.join("\n");while(++Z<M){var ac=X.getElementsByTagName(K[Z]),ad=ac.length,ae=-1;while(++ae<ad){ac[ae].className.indexOf("iepp_")<0&&(ac[ae].className+=" iepp_"+K[Z]);}}Q.appendChild(W),R.appendChild(T),T.className=W.className,T.innerHTML=W.innerHTML.replace(O,"<$1font");}),V.attachEvent("onafterprint",function(){T.innerHTML="",R.removeChild(T),R.appendChild(W),U.styleSheet.cssText="";});}(s,t),w._enableHTML5=x,w._version=v,y.className=y.className.replace(/\bno-js\b/,"")+" js "+k.join(" ");return w;}(this,this.document);window.log=function(){log.history=log.history||[];log.history.push(arguments);if(this.console){arguments.callee=arguments.callee.caller;var b=[].slice.call(arguments);(typeof console.log==="object"?log.apply.call(console.log,console,b):console.log.apply(console,b));}};(function(d){function a(){}for(var b="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn".split(","),c;c=b.pop();){d[c]=d[c]||a;}})((function(){try{console.log();return window.console;}catch(b){return window.console={};}})());