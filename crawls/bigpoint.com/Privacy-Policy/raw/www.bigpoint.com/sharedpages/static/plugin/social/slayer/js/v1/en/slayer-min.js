var inviteTemplateButton='<div class="slayer_overlayTrigger" style="display:none" >\n                                <a href="javascript:;" rel="#slayer_dialog" alt="invite-friends" title="{{buttonTooltip}}">\n                                    <span>{{formSend}}</span>\n                                </a>\n                            </div>',inviteTemplateItemAdd='<li><span>{{userName}} (ID: {{userId}})</span><a class="slayer_buddyAdd" value="{{userId}}" href="javascript:;" alt="add buddy"></a></li>',
inviteTemplateItemRemove='<li><span>{{userName}} (ID: {{userId}})</span><a class="slayer_buddyDel" value="{{userId}}" href="javascript:;" alt="remove buddy"></a></li>',inviteTemplate='<div id="slayer_dialogContainer" {{#renderPopup}}class="slayer_popup"{{/renderPopup}}>\n        <div id="slayer_dialog" style="display:none;">\n            {{#showTabs}}\n            <div id="slayer_tabs" style="display:none;">\n                <ul>\n                    {{#showFbTab}}\n                    <li class="slayer_tabsFacebook slayer_tabsCurrent"><a href="#">{{tabNameFb}}</a></li>\n                    {{/showFbTab}}\n                    <li class="slayer_tabsMail"><a href="#">{{tabNameMail}}</a></li>\n                    {{#showBuddyTab}}\n                    <li class="slayer_tabsBuddy"><a href="#">{{tabNameBuddy}}</a></li>\n                    {{/showBuddyTab}}\n                </ul>\n            </div>{{/showTabs}}\n            <div id="slayer_dialogBg">\n                <a class="slayer_closeOverlay close"></a>\n                <div id="slayer_header">\n                    <div id="slayer_headerContent">\n                        <span>{{header}}</span>\n                        <div>{{desc}}</div>\n                    </div>\n                </div>\n                <div id="slayer_content">\n                    {{#showShareURL}}\n                    <div id="slayer_shareUrlContainer">\n                        <div class="slayer_title"><span>{{shareHeader}}</span></div>\n                        <div id="slayer_shareUrl">\n                            <a class="slayer_shareUrlIcons slayer_shareUrlIconFb" target="_blank" href="{{shareFacebookPostURL}}"></a>\n                            <a href="mailto:%20?subject={{shareMailSubject}}&body={{shareMsgMail}}" class="slayer_shareUrlIcons slayer_shareUrlIconMail" alt="share url via email"></a>\n                            <script type="text/javascript" src="http://platform.twitter.com/widgets.js"><\/script>\n                            <div id="custom-tweet-button"><a target="_blank" href="http://twitter.com/share?url={{inviteUrlTwitter}}&amp;text={{shareMsgTwitter}}&amp;count=none" class="slayer_shareUrlIcons slayer_shareUrlIconTwitter"></a></div>\n                            <span class="slayer_shareUrlText">{{inviteUrlWeb}}</span>\n                        </div>\n                    </div>\n                    {{/showShareURL}}\n                    <div id="slayer_mailInvite">\n                        <div class="slayer_title"><span>{{mailFormHeader}}</span></div>\n                        <div class="inner">\n                          <div class="slayer_mailInviteFrom">{{formInviter}}\n                              {{#isEditableUser}}\n                                  <input type="text" value="{{userName}}">\n                              {{/isEditableUser}} \n                              {{^isEditableUser}}\n                                  <span>{{userName}}</span>\n                              {{/isEditableUser}}</div>\n                          <div class="slayer_mailInviteInput slayer_mailInviteInputEmail">\n                              <label for="slayer_emails">{{formInvited}}</label>\n                              <textarea type="textarea" name="slayer_emails" rows="4"></textarea>\n                              <div class="slayer_mailInviteHelp">\n                                  <div class="slayer_mailInviteHelpText">{{formInvitedDesc}}</div>\n                              </div>\n                          </div>\n                          <div class="slayer_mailInviteInput slayer_mailInviteInputMessage">\n                              <label for="slayer_message">{{formMessage}}</label>\n                              {{#slideMessageInput}}\n                                  <div class="slayer_mailInviteSlideContent">\n                              {{/slideMessageInput}}\n                                  <textarea type="textarea" name="slayer_message" rows="4"></textarea>\n                                  <div class="slayer_mailInviteHelp">\n                                      <div class="slayer_mailInviteHelpText">{{formMessageDesc}}</div>\n                                  </div>\n                              {{#slideMessageInput}}\n                                  </div>\n                              {{/slideMessageInput}}\n                          </div>\n                      <div class="slayer_mailInviteFooter">\n                            <div class="slayer_mailInviteSendError"></div>\n                            <div class="slayer_mailInviteStatistics"></div>\n                           <a href="javascript:;" class="slayer_button" id="slayer_sendMailButton"><span><em>{{formSend}}</em>{{formAgreed}}</span></a>\n                       </div>\n                     </div>\n                </div>\n                <div id="slayer_mailInviteResult">\n                    <div class="slayer_mailInviteFooter">\n                        <a href="javascript:;" class="slayer_button" id="slayer_inviteNewButton"><span><em>{{formMoreFriendInvites}}</em></span></a>\n                    </div>\n                </div>\n                <div id="slayer_busy"></div>\n                {{#showFbTab}}\n                    <div id="slayer_friendSelect">\n                        <div class="slayer_title"><span>{{socialNetworkHeader}}</span></div>\n                        <div class="inner">\n                          <script type="text/javascript"><\/script>\n                          <div id="connectComponentDiv"></div>\n                          <script type="text/javascript"><\/script>\n                          <div id="componentDiv"></div>\n                          <script type="text/javascript"><\/script>\n                          <div id="slayer_friendSelectFacebook"></div>\n                          <div id="slayer_friendSelectFacebookResponse"></div>\n                      </div>\n                    </div>\n                {{/showFbTab}}\n                {{#showBuddyTab}}\n                    <div id="slayer_buddyList">\n                        <div class="slayer_title"><span>{{buddyHeader}}</span></div>\n                        <div class="inner">\n                          <div class="slayer_buddySearch">\n                              <input type="text" value="{{buddyInputValue}}" class="buddyId">\n                              <div id="slayer_buddyListSearch"><a href="javascript:;"><span><em>{{formSearch}}</em></span></a></div>\n                          </div>\n                          <div class="slayer_title"><span>{{buddyResultHeader}}</span></div>\n                          <div id="slayer_buddyListResult"></div>\n                        </div>\n                    </div>\n                {{/showBuddyTab}}\n                <div class="slayer_closeOverlayBottom"><a href="javascript:;">{{formClose}}</a></div>\n            </div>\n        </div>\n        <div id="slayer_footer"></div>\n        </div>\n    </div>',
SLAYER="undefined"==typeof SLAYER?{}:SLAYER;
SLAYER.SLAYER=function(h){function g(c){b("JQUERY: Loading jQuery, version "+c);var c=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript";a.onreadystatechange=function(){"complete"==this.readyState&&(b("onreadystatechange"),b("jQuery Loaded!"),d())};"Microsoft Internet Explorer"==navigator.appName&&a.attachEvent("onreadystatechange",d);a.onload=function(){b("jQuery Loaded!");d()};a.src="/sharedpages/static/plugin/social/libs/jquery.min.js";c.appendChild(a)}
function d(){c="undefined"!=typeof jQuery?jQuery:c;c.getScript("/sharedpages/static/plugin/social/slayer/js/v1/slayer-libs.js",function(){b("Additional jQueryTools loaded");var c=[];"undefined"!=typeof i.facebook&&(i.facebook.language="undefined"==typeof i.facebook.language?"en_US":i.facebook.language,r(i.facebook.language)||(w.addLoader("facebook"),c.push("facebook")));"undefined"!=typeof i.google&&(i.google.language="undefined"==typeof i.google.language?"en":i.google.language,r(i.google.language)||
(w.addLoader("google"),c.push("google")));"undefined"!=typeof i.invite&&(w.addLoader("invite"),c.push("invite"));"undefined"!=typeof i.events&&(w.addLoader("events"),c.push("events"));"undefined"!=typeof i.friendship&&(w.addLoader("friendship"),c.push("friendship"));for(var a=0;a<c.length;a++){var e=!1;switch(c[a]){case "facebook":e=f();break;case "google":e=s();break;case "invite":e=k();break;case "events":e=n();break;case "friendship":e=o()}e&&w.updateLoader(c[a],"init",!0)}})}function b(c,b){a.push({message:"SLAYER-DEBUG: "+
c,type:b});if(q&&"undefined"!=typeof console){var e=p.getSettings();b==("undefined"==typeof e.debugFilter?"":e.debugFilter)&&console.log("SLAYER-DEBUG: "+c)}}function f(){if(null==u){if("undefined"!=typeof i.facebook){var c=i.facebook;c.core=p;c.gameId="undefined"!=typeof i.gameId?i.gameId:0;c.affiliateId="undefined"!=typeof i.affiliateId?i.affiliateId:0;u=new SLAYER.FACEBOOK(c);return!0}b("ERROR: No settings for Facebook found","error");return!1}return!0}function s(){if(null==v){if("undefined"!=
typeof i.google){var c=i.google;c.core=p;c.gameId="undefined"!=typeof i.gameId?i.gameId:0;c.affiliateId="undefined"!=typeof i.affiliateId?i.affiliateId:0;v=new SLAYER.GOOGLE(c);return!0}b("ERROR: No settings for Google found","error");return!1}return!0}function k(){if(null==t){var c="undefined"==typeof i.invite?{}:i.invite;c.gameId="undefined"==typeof i.gameId?b("INVITE: ERROR: No gameId set for invite dialog!","error"):i.gameId;c.instanceId="undefined"==typeof i.instanceId?b("INVITE: ERROR: No instanceId set!",
"error"):i.instanceId;c.userId="undefined"==typeof i.userId?b("INVITE: ERROR: No userId set!","error"):i.userId;c.userKeyId="undefined"==typeof i.userKeyId?b("INVITE: ERROR: No userKeyId set!","error"):i.userKeyId;c.affiliateId="undefined"==typeof i.affiliateId?b("INVITE: ERROR: No affiliateId found!","error"):i.affiliateId;c.gameTitle="undefined"==typeof i.gameTitle?b("INVITE: ERROR: No game title found!","error"):i.gameTitle;c.dispatcherUrl="undefined"==typeof i.dispatcherUrl?b("INVITE: ERROR: No dispatcher url found!",
"error"):i.dispatcherUrl;c.cssDev="undefined"==typeof i.cssDev?!1:i.cssDev;c.core=p;c.queue=w;"undefined"!=typeof i.facebook&&(c.facebook={},c.facebook.appId="undefined"==typeof i.facebook.appId?b("INVITE: ERROR: No Facebook application id given!","error"):i.facebook.appId,c.facebook.language="undefined"==typeof i.facebook.language?b("INVITE: ERROR: No Facebook language given!","error"):i.facebook.language,c.facebook.message="undefined"==typeof i.facebook.message?b("INVITE: ERROR: No Facebook message for invite given!",
"error"):i.facebook.message,c.facebook.data="undefined"==typeof i.facebook.data?b("INVITE: WARNING: No data given.","warning"):i.facebook.data,c.facebook.filter="undefined"==typeof i.facebook.filter?b("INVITE: WARNING: No filter given, using default","warning"):i.facebook.filter,c.facebook.to="undefined"==typeof i.facebook.to?b("INVITE: WARNING:No assignee given. Dialog will show friendlist","warning"):i.facebook.to,"undefined"!=typeof i.facebook.callbacks?(c.facebook.callbacks={},c.facebook.callbacks.onDone=
"undefined"==typeof i.facebook.callbacks.onDone?b("INVITE: WARNING: No Facebook callback onDone given!","warning"):i.facebook.callbacks.onDone,c.facebook.callbacks.onSuccess="undefined"==typeof i.facebook.callbacks.onSuccess?b("INVITE: WARNING: No Facebook callback onSuccess given!","warning"):i.facebook.callbacks.onSuccess,c.facebook.callbacks.onFailed="undefined"==typeof i.facebook.callbacks.onFailed?b("INVITE: WARNING: No Facebook callback onFailed given!","warning"):i.facebook.callbacks.onFailed):
(b("INVITE: WARNING: No callbacks for Facebook given!","warning"),c.facebook.callbacks={onDone:function(){},onSuccess:function(){},onFailed:function(){}}));t=new SLAYER.INVITE(c)}return!0}function n(){if(null==x){if("undefined"!=typeof i.events){var c=i.events;c.core=p;c.gameId="undefined"!=typeof i.gameId?i.gameId:0;c.affiliateId="undefined"!=typeof i.affiliateId?i.affiliateId:0;c.dispatcherUrl="undefined"!=typeof i.dispatcherUrl?i.dispatcherUrl:b("ERROR: No Dispatcher URL found!","error");c.cssDev=
"undefined"==typeof i.cssDev?!1:i.cssDev;x=new SLAYER.EVENTS(c);return!0}b("ERROR: No settings for Game Event Service found!","error");return!1}return!0}function o(){if(null==y){if("undefined"==typeof i.dispatcherUrl)return p.debug("ERROR: Dispatcher URL is required!","error"),!1;y=new SLAYER.FRIENDSHIP({core:p,dispatcherUrl:i.dispatcherUrl})}return!0}function e(){if("undefined"==typeof i.hideClient)return p.debug("WARNING: No hiding parameter found!","warning"),!1;if("undefined"==typeof i.hideClient.container)return p.debug("WARNING: No client container in hiding parameter found!",
"warning"),!1;return"undefined"==typeof i.hideClient.imageUrl?(p.debug("WARNING: No background image url in hiding parameter found!","warning"),!1):!0}function l(c){c.settings.renderPlaceholder=!1;var a=c.module;"google"==c.module?(c.settings.size="undefined"==typeof c.settings.size?"standard":c.settings.size,a+="_plusone_"+c.settings.size):"facebook"==c.module&&(c.settings.action="undefined"==typeof c.settings.action?"like":c.settings.action,a+="_like_"+c.settings.action);var a='<a href="javascript:;"><img src="/sharedpages/static/plugin/social/slayer/img/socialmedia/'+
(a+".png")+'" border="0" title="Aus Datenschutzgr&uuml;nden werden Facebook/Google Skripte erst geladen, wenn Sie diesen Button anklicken." /></a>',e=document.getElementById("undefined"==typeof c.settings.container?!1:c.settings.container);null!=e?(e.innerHTML=a,e.onclick=function(){e.innerHTML="Lade...";c.settings.forceRendering=!0;if(null==j(c.module)){w.addCommand(c);w.addLoader(c.module);switch(c.module){case "facebook":f();break;case "google":s();break;case "invite":k();break;case "events":n();
break;case "friendship":o()}w.updateLoader(c.module,"init",!0)}else p.run(c)}):b("WRAPPER: ERROR: "+c.module+": "+c.func+": No container found! May be DOM was not ready","error")}function r(c){var a=[];a.push("de");a.push("de_DE");a.push("de-DE");for(var b=0;b<a.length;b++)if(a[b]==c)return!0;return!1}function j(c){switch(c){case "facebook":return u;case "google":return v;case "invite":return t;case "events":return x;case "share":return m;case "friendship":return y}}var a=[],q=!1,u=null,v=null,t=
null,x=null,m=null,y=null,c=null,i=null,p=this,w=null;p.isDevEnv=!1;p.instance=null;p.initModule=function(c){switch(c){case "facebook":f();break;case "google":s();break;case "invite":k();break;case "events":n();break;case "friendship":o()}};p.getSettings=function(){return i};p.run=function(c){var a=j(c.module),b=p.getSettings()[c.module],e="undefined"==typeof c.settings.forceRendering?!1:c.settings.forceRendering;if(b=r("undefined"!=typeof b.language?b.language:"en_US")){a:{var b=c.func,i=[];i.push("renderLike");
i.push("renderPlusOne");for(var m=0;m<i.length;m++)if(i[m]==b){b=!0;break a}b=!1}b=b&&!e}b?l(c):null!=a&&w.isLoadingComplete(c.module)?(a.setRunSettings(c.settings),a.run(c.func)):w.addCommand(c)};p.enableDevMode=function(){q=!0;p.debug("enabled development mode")};p.disableDevMode=function(){q=!1;p.debug("disabled development mode")};p.debug=function(c,a){b(c,"undefined"==typeof a?"":a)};p.isDevMode=function(){return q};p.getJQuery=function(){return c};p.hideGameClient=function(){e()&&(p.debug("Hiding the game client!"),
c("#"+i.hideClient.container).css("visibility","hidden"),c("#"+i.hideClient.container).parent().css("background-repeat","no-repeat"),c("#"+i.hideClient.container).parent().css("background-image",'url("'+i.hideClient.imageUrl+'")'))};p.unhideGameClient=function(){e()&&(p.debug("Unhiding the game client!"),c("#"+i.hideClient.container).css("visibility","visible"),c("#"+i.hideClient.container).parent().css("background-image","none"))};p.ajax=function(a){b("Prepare Ajax call");var e=!0;"undefined"==typeof a.type&&
(b("WARNING: No type set. Using POST as default","warning"),a.type="POST");"undefined"==typeof a.data&&(b("WARNING: No data to send found","warning"),a.data={});"undefined"==typeof a.dataType&&(b("WARNING: No dataType set. Using JSON as default","warning"),a.dataType="json");"undefined"==typeof a.url&&(b("ERROR:   No URL set. Cannot make ajax call","error"),e=!1);"undefined"==typeof a.success&&(b("WARNING: No success callback found","warning"),a.success=function(){});"undefined"==typeof a.error&&
(b("WARNING: No error callback found","warning"),a.error=p.ajaxError);e?c.ajax(a):b("Cannot make ajax call, please check ERRORs/WARNINGs")};p.ajaxError=function(c,a,e){b("AJAX-ERROR: "+a,"error");b(e)};p.getInviteCode=function(c){return m.getInviteCode(c)};p.updateLoader=function(c,a,b){w.updateLoader(c,a,b)};p.getShare=function(){return m};p.onReady=function(c,a){if("function"==typeof i[c].onReady)i[c].onReady(a)};p.getVersion=function(){return"Release-2012-11-April_April"};p.printLog=function(c){console.log("- - - - - S L A Y E R - L O G - - - - -");
for(var b=0;b<a.length;b++)(c==a[b].type||""==c)&&console.log(a[b].message);console.log("- - - - - S L A Y E R - E N D - - - - -")};(function(a){p.isDevEnv=-1==("undefined"!=typeof location?location.href:"").search("bigpoint.net")?!1:!0;"undefined"!=typeof a.preDevMode&&a.preDevMode&&(q=!0);m=new SLAYER.SHARE;i=a;i.core=p;"undefined"!=typeof i.jQueryLibrary?(c=i.jQueryLibrary,window.jQuery=i.jQueryLibrary,d()):"undefined"!=typeof i.jQueryVersion?g(i.jQueryVersion):g("1.4.4");w=new SLAYER.QUEUE({dev:q,
core:p})})(h)};SLAYER.init=function(h){"undefined"==typeof h&&(h={});SLAYER.instance=new SLAYER.SLAYER(h)};SLAYER.enableDevMode=function(){SLAYER.instance.enableDevMode()};SLAYER.disableDevMode=function(){SLAYER.instance.disableDevMode()};SLAYER.printLog=function(h){SLAYER.instance.printLog("undefined"==typeof h?"":h)};SLAYER.getInviteCode=function(h){return SLAYER.instance.getInviteCode(h)};SLAYER.doWallPost=function(h){SLAYER.instance.run({module:"facebook",func:"doWallPost",settings:h})};
SLAYER.renderLike=function(h){SLAYER.instance.run({module:"facebook",func:"renderLike",settings:h})};SLAYER.sendAppInvite=function(h){h.type="invite";SLAYER.instance.run({module:"facebook",func:"sendRequest",settings:h})};SLAYER.sendAppGift=function(h){h.type="gift";h.filter="all";SLAYER.instance.run({module:"facebook",func:"sendRequest",settings:h})};SLAYER.renderPlusOne=function(h){SLAYER.instance.run({module:"google",func:"renderPlusOne",settings:h})};
SLAYER.renderGoogleShare=function(h){SLAYER.instance.run({module:"google",func:"renderShare",settings:h})};SLAYER.renderInviteDialog=function(){SLAYER.instance.run({module:"invite",func:"dialog",settings:{}})};SLAYER.renderInviteDialogButton=function(){SLAYER.instance.run({module:"invite",func:"button",settings:{}})};SLAYER.updateInviteSettings=function(h){SLAYER.instance.run({module:"invite",func:"settings",settings:h})};
SLAYER.getShareUrl=function(h){SLAYER.instance.run({module:"invite",func:"shareUrl",settings:h})};SLAYER.renderGameTicker=function(){};SLAYER.renderUserTicker=function(){};SLAYER.getGESFeed=function(h){SLAYER.instance.run({module:"events",func:"getFeed",settings:h})};SLAYER.getGameFriends=function(h){SLAYER.instance.run({module:"friendship",func:"getGameFriends",settings:h})};
SLAYER.QUEUE=function(h){function g(b,f){d.dev&&s.debug("QUEUE: "+b,f)}var d=null,b=[],f=this,s=null,k=[],n=!1,o=[];f.addLoader=function(b){k.push({identifier:b,init:!1,externals:!1})};f.removeLoader=function(b){for(var l=0;l<k.length;l++)if(k[l].identifier==b){k.splice(l,1);break}f.run(b)};f.updateLoader=function(b,l,d){for(var j=0;j<k.length;j++)k[j].identifier==b&&(k[j][l]=d,g("Updating "+b+": Set "+l+" to "+d),!0==k[j].init&&!0==k[j].externals&&(g("Removing "+b+" from queue"),f.removeLoader(b)))};
f.addCommand=function(e){var l=e.module;g("Added "+e.module+"->"+e.func);b.push(e);a:{for(e=0;e<k.length;e++)if(l==k[e]){e=!0;break a}e=!1}e||(g("Module "+l+" not found in loader list. Initialzing!"),s.getSettings(),f.addLoader(l),s.initModule(l))};f.run=function(e){if(n)o.push(e);else{n=!0;g("Locked Queue");var l=b,k=[];g("Run Queue commands for "+e);for(var d=0;d<l.length;d++)l[d].module==e?(g("Run "+l[d].module+"->"+l[d].func),s.run(l[d])):k.push(l[d]);b=k;g("Queue run complete for "+e);n=!1;g("Unlocked Queue");
"undefined"!=typeof o.shift()&&f.run(o.shift())}};f.isLoadingComplete=function(b){for(var f=0;f<k.length;f++)if(k.identifier==b)return!1;return!0};d=h;s=d.core};
SLAYER.SHARE=function(){function h(b,f){SLAYER.instance.debug("SHARE: "+b,f)}function g(b){for(var b=b+"",f="",d=0;d<b.length;d++)var k=parseInt(b.charAt(d),0)+97,f=f+String.fromCharCode(k);return f}function d(b){switch(b){case "invite":return"baa";case "facebook":return"b";case "google":return"d";case "twitter":return"c";case "web":return"bab"}}this.renderShareBar=function(){};this.getInviteCode=function(b){"undefined"==typeof b.instanceId&&h("INVITE-CODE: WARNING: No instance Id found!","warning");
"undefined"==typeof b.userId&&h("INVITE-CODE: WARNING: No user Id found!","warning");"undefined"==typeof b.userKeyId&&h("INVITE-CODE: WARNING: No user key Id found!","warning");"undefined"==typeof b.type&&h("INVITE-CODE: WARNING: No type found!","warning");"undefined"==typeof b.affiliateId&&(b.affiliateId=0);var f=Math.round((new Date).getTime()/1E3);return"x"+g(""+f)+"x"+g(b.userId)+"x"+g(b.userKeyId)+"x"+g(b.instanceId)+"x"+g(b.affiliateId)+"x"+d(b.type)}};
SLAYER.CSS=function(h){function g(e){if("undefined"==typeof b[k.gameId])return o.onReady("invite",{init:!1,message:"CSS file not found for given game ID"}),!1;var d=[];d.push(b[0][e][0]);f.each(b[k.gameId][e],function(b,e){-1<e.search("_ie")?"undefined"!=typeof navigator&&"undefined"!=typeof navigator.appName&&"Microsoft Internet Explorer"==navigator.appName&&d.push(e):d.push(e)});return d}function d(){if(0<s.length){var b=s.shift(),g=null!=b.match("000_slayer")?"000_slayer":"slayer_"+k.gameId,g=
-1<b.search("_ie")?g+"_ie":g;if("000_slayer"==g)0<f("#"+g).length&&f("#"+g).remove();else{var h=window.document.getElementsByTagName("link");f(h).each(function(){var a=f(this).attr("id"),b=f(this).attr("href");"undefined"!=typeof b&&-1<b.search("/plugin/social/slayer/css")&&"000_slayer"!=a&&f(this).remove()})}var h=document.getElementsByTagName("head")[0],j=document.createElement("link");j.rel="stylesheet";j.id=g;j.className="slayer_css";j.type="text/css";j.media="screen";j.href=b;"Microsoft Internet Explorer"==
navigator.appName||"Opera"==navigator.appName?j.onreadystatechange=function(){d()}:f.get(b,function(){d()});h.appendChild(j)}else SLAYER.instance.debug("CSS MAPPER: All CSS files were loaded!",void 0),n.CSSLoadingDone()}var b={"0":{invite:{"0":"000_slayer.css"}},14:{invite:{"0":"14_seafight.css"}},22:{invite:{"0":"22_darkorbit.css",1:"22_darkorbit_ie.css"}},171:{invite:{"0":"171_farmerama.css"}},525:{invite:{"0":"525_ramacity.css"}},696:{invite:{"0":"696_skyrama.css"}},481:{invite:{"0":"481_drakensang.css"},
ticker:{"0":"481_drakensang_ticker.css"}},824:{invite:{"0":"824_pizzaconnection.css"}}},f=null,s=[],k=null,n=null,o=null;this.loadCSSFiles=function(b){b=g(b.module);if(!b)return!1;var k=[];f.each(b,function(b,e){k.push("/sharedpages/static/plugin/social/slayer/css/"+e)});s=k;d()};(function(b){f=SLAYER.instance.getJQuery();o=b.core;n=b.caller;k=n.getSettings()})(h)};
SLAYER.AFFILIATE=function(h){function g(f,g,h,o){h="live"==h?d:b;return"undefined"!=typeof h[f]&&"undefined"!=typeof h[f][g]&&"undefined"!=h[f][g][o]?h[f][g][o].visible:!0}var d=null,b=null,f=null;this.getAffiliateSettings=function(){return f.core.isDevEnv?b:d};this.isFacebookLikeAllowed=function(b,f,d){return g(b,f,"undefined"==typeof d?"live":d,"facebook_like")};this.isGooglePlusOneAllowed=function(b,f,d){return g(b,f,"undefined"==typeof d?"live":d,"google_plus_one")};f=h;d=(new SLAYER.LIVESETTINGS).getSettings();
b=(new SLAYER.DEVSETTINGS).getSettings()};
SLAYER.EVENTS=function(h){function g(){this.append=b;this.length=0;this.lastNode=this.firstNode=null;return!0}function d(a){this.text=a;this.next=null;return!0}function b(a){null==this.firstNode&&(this.firstNode=a);this.lastNode&&(this.lastNode.next=a);this.lastNode=a;this.length++}function f(){if(!t){var a=Math.round(Math.random()*(l-500)+500);u&&clearTimeout(u);u=setTimeout(s,a)}}function s(){n("#slayer_ticker div:first").animate({height:"0px",opacity:"toggle"},"slow",function(){n(this).remove();
n("#slayer_ticker div").length<=e&&("game"==v?o.getGameEventItems():"user"==v&&o.getUserEventItems());n("#slayer_ticker div:nth-child("+e+")").fadeIn("slow");f()})}function k(a){var c=!1;n.each(m,function(b,m){m==a&&(c=!0)});return c}var n=null,o=null,e=0,l=0,r="",j=this,a=null,q={},u=0,v="",t=!1,x=null,m=[];j.isDevEnv=!1;j.handleTickerData=function(a,c){if(null==a.data)j.debug("WARNING: No response data","warning");else if(a.data.itemCount){a.data.itemCount>=e&&(q=new g,v=c);var b=0;for(b in a.data.items)if(a.data.items[b].text){var m=
new d(a.data.items[b].text);q.append(m)}b=q.firstNode;m=0;if(b){do{var h=n("<div><span><span>"+b.text+"</span></span></div>");n("#slayer_ticker").append(h);h.index()>=e&&h.hide();b=b.next;m++}while(b)}f()}};j.debug=function(a,c){j.getSettings().core.debug("EVENTS: "+a,c)};j.getSettings=function(){return a};j.setSettings=function(b){a=b};j.run=function(a){j.debug("Call Handler");switch(a){case "renderGameTicker":o.getGameEventItems();break;case "renderUserTicker":o.getUserEventItems();break;case "getFeed":a=
x;a.feed="undefined"==typeof a.feed?"":a.feed;k(a.feed)?"undefined"==typeof a.callback?j.debug("FEED: WARNING: No callback found","warning"):(a={url:j.getSettings().core.getSettings().dispatcherUrl,type:"GET",dataType:"json",success:a.callback,error:j.getSettings().core.ajaxError,data:{slService:"event:get"+a.feed,slP:a.settings}},j.getSettings().core.ajax(a)):j.debug('FEED: ERROR: Feed "'+a.feed+'" not found',"error");break;default:j.debug("HANDLER: ERROR: No function found! ("+a+")","error")}};
j.setRunSettings=function(a){x=a};j.CSSLoadingDone=function(){a.core.removeLoader("events")};(function(a){m.push("UserGameFeed");m.push("GlobalUserFeed");m.push("GlobalUserGameFeed");m.push("BatchedGlobalUserGameFeed");m.push("GameFeed");m.push("BatchedGameFeed");m.push("GlobalFeed");n=SLAYER.instance.getJQuery();j.setSettings(a);new SLAYER.CSS({core:j.getSettings().core,caller:j});o=new SLAYER.EVENTSMODEL({events:j});j.isDevEnv=a.core.isDevEnv;a=j.getSettings();e="undefined"==typeof a.itemLimit?
4:a.itemLimit;l="undefined"==typeof a.itemSpeed?5E3:a.itemSpeed;r="undefined"==typeof a.renderTarget?!1:a.renderTarget;a.selectItems="undefined"==typeof a.selectItems?10:10<a.selectItems?10:a.selectItems;a.userKeyId="undefined"==typeof a.userKeyId?j.debug("No user key id found!"):a.userKeyId;r?n("#"+r).append('<div id="slayer_ticker"></div>'):j.debug("ERROR: No renderTarget in settings");q=new g;j.getSettings().core.updateLoader("events","externals",!0)})(h)};
SLAYER.EVENTSMODEL=function(h){var g=this,d=null;g.getGameEventItems=function(){var b=d.getSettings();g.ajax({type:"POST",data:{slService:"event:getGametickerFeed",slP:{offset:0,limit:b.selectItems}},dataType:"json",url:"undefined"==typeof b.dispatcherUrl?"undefined"==typeof b.actionUrl?"":b.actionUrl:b.dispatcherUrl,success:function(b){d.handleTickerData(b,"game")},error:function(b,g,h){d.getSettings().core.ajaxError(b,g,h)}})};g.getUserEventItems=function(){var b=d.getSettings();g.ajax({type:"POST",
data:{slService:"event:getUserFeed",slP:{offset:0,limit:b.selectItems}},dataType:"json",url:"undefined"==typeof b.dispatcherUrl?"undefined"==typeof b.actionUrl?"":b.actionUrl:b.dispatcherUrl,success:function(b){d.handleTickerData(b,"user")},error:function(b,g,h){d.getSettings().core.ajaxError(b,g,h)}})};g.ajax=function(b){d.getSettings().core.ajax(b)};d=h.events;SLAYER.instance.getJQuery()};
SLAYER.FACEBOOK=function(h){function g(){var b=!1,d="undefined"==typeof o.language?a:o.language;e.each(q,function(a,e){e==d&&(b=!0)});if(!b){f("WARNING: Given language is not provided by Facebook. Using default: "+a,"warning");var g=o;g.language=a;o=g}}function d(){if("undefined"==typeof FB){f("FB was undefined");var a=o;g();e.getScript("http://connect.facebook.net/"+a.language+"/all.js",function(){f("FB loaded")})}else f("Facebook was already loaded"),null==FB._apiKey?window.fbAsyncInit():o.core.updateLoader("facebook",
"externals",!0)}function b(){var a=o;if(u.isFacebookLikeAllowed(a.affiliateId,a.gameId)){f("Preparing render settings");var a=l,b="<fb:like";e.each(a,function(a,m){"container"!=a&&(b="ref"==a?b+' ref="2640"':b+(" "+a+'="'+m+'"'))});b+="></fb:like>";f("Render LIKE button");e("#"+a.container).html(b);k();FB.XFBML.parse(e("#"+a.container)[0])}else f("WARNING: Like button is blocked by Sales-Tool","warning")}function f(a,b){SLAYER.instance.debug("FACEBOOK: "+a,b)}function s(a){r.hideGameClient();FB.ui(a,
function(b){if(null==typeof a.callbacks)f("WARNING: No callback for request found!","warning");else{if("undefined"==typeof a.callbacks.onDone)f("WARNING: No onDone callback found!","warning");else a.callbacks.onDone();if(b)"undefined"==typeof a.callbacks.onSuccess?f("WARNING: No onSuccess callback found!","warning"):(a.callbacks.onSuccess(b),n(b));else if("undefined"==typeof a.callbacks.onFailed)f("WARNING: No onFailed callback found!","warning");else a.callbacks.onFailed(b)}r.unhideGameClient()})}
function k(){var a=l;FB.Event.subscribe("edge.create",function(b){"undefined"==typeof a.callback?f("WARNING: You did not registered any kind of callback!","warning"):a.callback(b)})}function n(a){if(l.counter){var b=0;e.each(a.request_ids,function(){b++});l.invite.displayFacebookInviteCounter(b)}}var o=null,e=null,l=null,r=null,j=null,a="en_US",q={"0":"af_ZA",1:"ar_AR",2:"az_AZ",3:"be_BY",4:"bg_BG",5:"bn_IN",6:"bs_BA",7:"ca_ES",8:"cs_CZ",9:"cy_GB",10:"da_DK",11:"de_DE",12:"el_GR",13:"en_GB",14:"en_PI",
15:"en_UD",16:"en_US",17:"eo_EO",18:"es_ES",19:"es_LA",20:"et_EE",21:"eu_ES",22:"fa_IR",23:"fb_LT",24:"fi_FI",25:"fo_FO",26:"fr_CA",27:"fr_FR",28:"fy_NL",29:"ga_IE",30:"gl_ES",31:"he_IL",32:"hi_IN",33:"hr_HR",34:"hu_HU",35:"hy_AM",36:"id_ID",37:"is_IS",38:"it_IT",39:"ja_JP",40:"ka_GE",41:"ko_KR",42:"ku_TR",43:"la_VA",44:"lt_LT",45:"lv_LV",46:"mk_MK",47:"ml_IN",48:"ms_MY",49:"nb_NO",50:"ne_NP",51:"nl_NL",52:"nn_NO",53:"pa_IN",54:"pl_PL",55:"ps_AF",56:"pt_BR",57:"pt_PT",58:"ro_RO",59:"ru_RU",60:"sk_SK",
61:"sl_SI",62:"sq_AL",63:"sr_RS",64:"sv_SE",65:"sw_KE",66:"ta_IN",67:"te_IN",68:"th_TH",69:"tl_PH",70:"tr_TR",71:"uk_UA",72:"vi_VN",73:"zh_CN",74:"zh_HK",75:"zh_TW"},u=null;this.setRunSettings=function(a){l=a};this.run=function(a){f("Call Handler");switch(a){case "doWallPost":a=l;"undefined"==typeof a.title&&f("WARNING: No title found!","warning");"undefined"==typeof a.userId&&f("WARNING: No userId found!","warning");"undefined"==typeof a.userKeyId&&f("WARNING: No userKeyId found!","warning");"undefined"==
typeof a.actionLink&&f("WARNING: No action link  found!","warning");"undefined"==typeof a.mediaItem&&f("WARNING: No media item found!","warning");"undefined"==typeof a.mediaItem.source&&f("WARNING: No media item source found!","warning");"undefined"==typeof a.mediaItem.type&&f("WARNING: No media item type found!","warning");"undefined"==typeof a.mediaItem.href&&f("WARNING: No media item href found!","warning");"undefined"==typeof a.actions&&f("WARNING: No actions object found!","warning");"undefined"==
typeof a.actions.name&&f("WARNING: No actions name found!","warning");"undefined"==typeof a.actions.link&&f("WARNING: No actions link found!","warning");"undefined"==typeof a.description&&f("WARNING: No description found!","warning");"undefined"==typeof a.userDefaultMessage&&f("WARNING: No user default message found!","warning");"undefined"==typeof a.caption&&f("WARNING: No caption found!","warning");"undefined"==typeof a.assignee&&(a.assignee=null);"undefined"==typeof a.callbacks&&(a.callbacks=null);
var e=o,e={userId:a.userId,userKeyId:a.userKeyId,type:"b",instanceId:e.gameId,affiliateId:e.affiliateId},e="?inviteCode="+r.getShare().getInviteCode(e);a.actionLink+=e;a.mediaItem.href+=e;a.actions.link+=e;e={method:"feed",name:a.title,link:a.actionLink,picture:a.mediaItem.source,description:a.description,message:a.userDefaultMessage,to:a.assignee,caption:a.caption,callbacks:a.callbacks};"undefined"!=typeof a.actions&&(e.actions=a.actions);s(e);break;case "renderLike":b();break;case "sendRequest":var a=
{type:l.type,data:l.data},e=l,d="undefined"==typeof l.filter?j._default:l.filter;d!=j._default&&"undefined"==typeof j[d]&&(f("WARNING: Filter is invalid! It will be set to default!","warning"),d=j._default);e.filter=d;"undefined"==typeof l.title&&f("WARNING: No title found!","warning");"undefined"==typeof l.message&&f("WARNING: No message found!","warning");"undefined"==typeof l.callbacks&&f("WARNING: No callbacks found!","warning");"undefined"==typeof l.data&&(l.data="");"undefined"==typeof l.to&&
(l.to=null);s({method:"apprequests",title:l.title,message:l.message,to:l.to,callbacks:l.callbacks,filters:[l.filter],data:a});break;case "init":f("FB Loading & Initiation done!");break;default:f("HANDLER: ERROR: No function found! ("+a+")","error")}};this.getLanguage=function(){return"undefined"==typeof o.language?"":o.language};(function(a){r=SLAYER.instance;e=SLAYER.instance.getJQuery();0==e("#fb-root").length&&e("body").append('<div id="fb-root"></div>');"undefined"!=typeof a?o=a:f("ERROR: No initialization parameter found!",
"error");window.fbAsyncInit=function(){FB.init({appId:o.appId,status:!0,cookie:!0,xfbml:!0,oauth2:!1,frictionlessRequests:!0});f("FB initialized with AppId "+o.appId);o.core.updateLoader("facebook","externals",!0)};j={_default:"all",all:["all"],app_users:["app_users"],non_app_users:["non_app_users"]};d("init");u=new SLAYER.AFFILIATE(o.core)})(h)};
SLAYER.GOOGLE=function(h){function g(a,b){SLAYER.instance.debug("GOOGLE: "+a,b)}function d(){var b=!1,e="undefined"==typeof l.language?j:l.language;n.each(a,function(a,f){f==e&&(b=!0)});if(!b){g("WARNING: Given language is not provided by Google. Using default: "+j,"warning");var f=l;f.language=j;l=f}}function b(){if(0==r.length)g("All Google modules are loaded"),l.core.updateLoader("google","externals",!0);else{var a=r.shift();n.getScript(o+a,function(){g("Loaded module: "+a);b()})}}function f(){if(e.isGooglePlusOneAllowed(l.affiliateId,
l.gameId)){var a=k;if("undefined"==typeof a.container)g("PLUSONE: ERROR: No container found!","error");else{var b=a.container;a.container=void 0;"undefined"==typeof a.href&&(g("PLUSONE: WARNING: Parameter 'href' not found.","warning"),a.href="http://www.bigpoint.com");"undefined"==typeof a.size&&(g("PLUSONE: WARNING: Parameter 'size' not found.","warning"),a.size="standard");"undefined"==typeof a.annotation&&(g("PLUSONE: WARNING: Parameter 'annotation' not found.","warning"),a.annotation="none");
"undefined"==typeof a.width&&(g("PLUSONE: WARNING: Parameter 'width' not found.","warning"),a.width=0);"undefined"==typeof a.expandto&&(g("PLUSONE: WARNING: Parameter 'expandto' not found.","warning"),a.expandto="");"undefined"==typeof a.callback&&(g("PLUSONE: WARNING: Parameter 'callback' not found.","warning"),a.callback=function(){});"undefined"==typeof a.onstartinteraction&&(g("PLUSONE: WARNING: Parameter 'onstartinteraction' not found.","warning"),a.onstartinteraction=function(){});"undefined"==
typeof a.onendinteraction&&(g("PLUSONE: WARNING: Parameter 'onendinteraction' not found.","warning"),a.onendinteraction=function(){});gapi.plusone.render(b,a)}}else g("Plusone button is blocked by Sales-Tool")}function s(){if(171!=l.gameId&&311!=l.gameId)g("WARNING: Sharing is not available for your game","warning");else if(e.isGooglePlusOneAllowed(l.affiliateId,l.gameId)){var a=k;a.renderType="undefined"==typeof a.renderType?"direct":a.renderType;"undefined"==typeof a.type&&(g("SHARE: WARNING: Parameter 'type' not found!",
"warning"),a.type="http://www.bigpoint.com");"undefined"==typeof a.properties?g("SHARE: ERROR: No 'properties' object found!","error"):("undefined"==typeof a.properties.name&&(g("SHARE: WARNING: Parameter 'name' not found!","warning"),a.properties.name="Bigpoint"),"undefined"==typeof a.properties.description&&(g("SHARE: WARNING: Parameter 'description' not found!","warning"),a.properties.description="No description"),"undefined"==typeof a.properties.image&&(g("SHARE: WARNING: Parameter 'image' not found!",
"warning"),a.properties.image=""),"undefined"==typeof a.properties.url&&(g("SHARE: WARNING: Parameter 'url' not found!","warning"),a.properties.url="http://www.bigpoint.com"));var b={items:[a]},f={apiMode:"games"};if("container"==a.renderType){window.SLAYER_SHARE=function(){gapi.share.lightbox(b,f)};var d='<a href="javascript:SLAYER_SHARE();">'+("undefined"==typeof a.text?"Share with Google":a.text)+"</a>";n("#"+a.container).html(d)}else gapi.share.lightbox(b,f)}else g("WARNING: Plusone button is blocked by Sales-Tool",
"warning")}var k=null,n=null,o="https://apis.google.com/js/",e=null,l=null,r=[],j="en-US",a={"0":"ar",1:"bg",2:"ca",3:"zh-CN",4:"zh-TW",5:"hr",6:"cs",7:"da",8:"nl",9:"en-GB",10:"en-US",11:"et",12:"fil",13:"fi",14:"fr",15:"de",16:"el",17:"iw",18:"hi",19:"hu",20:"id",21:"it",22:"ja",23:"ko",24:"lv",25:"lt",26:"ms",27:"no",28:"fa",29:"pl",30:"pt-BR",31:"pt-PT",32:"ro",33:"ru",34:"sr",35:"sk",36:"sl",37:"es",38:"es-419",39:"sv",40:"th",41:"tr",42:"uk",43:"vi"};this.setRunSettings=function(a){k=a};this.run=
function(a){g("Call Handler");switch(a){case "renderPlusOne":f();break;case "renderShare":s();break;default:g("HANDLER: ERROR: Function not found("+a+")","error")}};this.getLanguage=function(){return"undefined"==typeof l.language?"":l.language};(function(a){l="undefined"!=typeof a?a:null;n=SLAYER.instance.getJQuery();d();window.___gcfg={lang:a.language,parsetags:"explicit"};e=new SLAYER.AFFILIATE(l.core);r.push("plusone.js");b()})(h)};
SLAYER.MAILHANDLER=function(){function h(b,f){SLAYER.instance.debug("MAILHANDLER: "+b,f)}var g=null,d=this;d.validateEmails=function(b){h("Validate emails...");if(b=d.prepareEmails(b)){var f=0!=b.length;g.each(b,function(b,d){h("Validate email: "+d);/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(d)||(f=!1)});return f}h("No valid mails after preparation!");return!1};d.prepareEmails=function(b){if(0==b.length)return h("WARNING: No raw data found!","warning"),!1;var b=b.replace(/;|\s|\x0B|\n\r/g,
",").split(","),f=[];g.each(b,function(b,d){0!=d&&(f[b++]=d)});return f};g=SLAYER.instance.getJQuery()};SLAYER.TOOLTIP=function(h){SLAYER.instance.getJQuery();0!=h.showTooltip&&(h.tooltipPosition="undefined"==typeof h.tooltipPosition?"bottom center":h.tooltipPosition,h.tooltipOffsetX="undefined"==typeof h.tooltipOffsetX?0:h.tooltipOffsetX,h.tooltipOffsetY="undefined"==typeof h.tooltipOffsetY?0:h.tooltipOffsetY)};
SLAYER.INVITE=function(h){function g(){var c=a.getSettings();c.renderTarget="undefined"==typeof c.renderTarget?"overlay":""==c.renderTarget?"overlay":c.renderTarget;c.dev="undefined"==typeof c.dev?!1:c.dev;c.language="undefined"==typeof c.language?"de_DE":c.language;c.iFrame="undefined"==typeof c.iFrame?!1:c.iFrame;c.editableUsername="undefined"==typeof c.editableUsername?!1:c.editableUsername;c.currentUsername="undefined"==typeof c.currentUsername?d("ERROR: No username found!","error"):c.currentUsername;
c.showTooltip="undefined"==typeof c.showTooltip?!0:c.showTooltip;c.facebookTab="undefined"==typeof c.facebookTab?!1:c.facebookTab;c.shareUrl="undefined"==typeof c.shareUrl?!0:c.shareUrl;c.showInviteInfo="undefined"==typeof c.showInviteInfo?!1:c.inviteInfo;c.buddyList="undefined"==typeof c.buddyList?!1:c.buddyList;c.additionalCssFile="undefined"==typeof c.additionalCssFile?"":c.additionalCssFile;c.inviteTypes="undefined"==typeof c.inviteTypes?'{"facebook":"b","twitter":"c","google":"d","mail":"baa","web":"bab"}':
c.inviteTypes;c.inviteUrl="undefined"==typeof c.inviteUrl?y:c.inviteUrl;c.onComplete="undefined"==typeof c.onComplete?function(){}:c.onComplete;c.friendSearch="undefined"==typeof c.friendSearch?{}:c.friendSearch;c.friendSearch.url="undefined"==typeof c.friendSearch.url?d("ERROR: No friend search url found","error"):c.friendSearch.url;a.setSettings(c)}function d(a,b){SLAYER.instance.debug("INVITE: "+a,b)}function b(){k("a#slayer_sendMailButton").unbind("click").bind("click",function(){d("Handle email sending");
var c=null,b=k(".slayer_mailInviteInputMessage textarea").val(),m=!0;n.clearErrorMessage();e.validateEmails(k(".slayer_mailInviteInputEmail textarea").val())?c=e.prepareEmails(k(".slayer_mailInviteInputEmail textarea").val()):(m=a.getText("gl.socialInvite.error.input.mails"),n.showEmailError(m),m=!1);d("Validate user message");b.length<=u||(m=[],m[0]=u,n.showUserMessageError(a.getText("gl.socialInvite.error.input.userMessage",m)),m=!1);m&&(n.showLoader(),m=a.getSettings(),m=!k(".slayer_mailInviteFrom input").val()?
m.currentUsername:k(".slayer_mailInviteFrom input").val(),o.send({emails:c,userMessage:b,username:m}))});k(".slayer_closeOverlayBottom").unbind("click").bind("click",function(){n.closeOverlay();f()});k(".slayer_closeOverlay").unbind("click").bind("click",function(){n.closeOverlay();f()});k("a#slayer_inviteNewButton").unbind("click").bind("click",function(){n.clearForm();a.setCurrentTab("Mail")});k("li.slayer_tabsFacebook").unbind("click").bind("click",function(){a.setCurrentTab("Facebook")});k("li.slayer_tabsMail").unbind("click").bind("click",
function(){a.setCurrentTab("Mail")});k("#slayer_buddyList input").bind("click",function(){k("#slayer_buddyList input").val("")});k("li.slayer_tabsBuddy").unbind("click").bind("click",function(){a.setCurrentTab("Buddy")});k("#slayer_buddyListSearch a").unbind("click").bind("click",function(){var c=a.getSettings(),b={search_str:k(".buddyId").val()};q.ajax({endpoint:c.friendSearch.endpoint,data:b,dataType:"json",url:c.friendSearch.url,success:n.displayFriendSearchResults,error:n.displayFriendSearchResults,
type:"GET"})});k(".slayer_tabsFacebook a").unbind("click").bind("click",function(){q.run({module:"facebook",func:"init",settings:{}})});k("#slayer_friendSelectFacebook").unbind("click").bind("click",function(){var c=a.getSettings();q.run({module:"facebook",func:"sendRequest",settings:{title:c.gameTitle,message:c.facebook.message,data:c.facebook.data,filter:c.facebook.filter,to:c.facebook.to,callbacks:c.facebook.callbacks,counter:!0,invite:a}})})}function f(){d("Reset tabs and hide content");n.hideContent()}
function s(){var c=a.getSettings();k.each(r,function(a,b){"object"==typeof b?k.each(b,function(a,b){c[a]="1"==b||"0"==b?"1"==b?!0:!1:b}):c[a]="1"==b||"0"==b?"1"==b?!0:!1:b});o=new SLAYER.INVITEMODEL(a);n=new SLAYER.INVITEVIEW(a);b();c.showInviteInfo&&(o.getUserLimits(),o.getUserInvites())}var k=null,n=null,o=null,e=null,l=null,r=null,j=null,a=this,q=null,u=140,v=null,t={},x="",m=[],y="http://"+window.location.host+"/";a.isDevEnv=!1;a.addObjectToLoad=function(a){m.push(a)};a.removeObjectToLoad=function(c){k.each(m,
function(a,b){c==b&&m.splice(a,1)});0==m.length&&a.getSettings().core.updateLoader("invite","externals",!0)};a.CSSLoadingDone=function(){a.removeObjectToLoad("css");q.onReady("invite",{init:!0,message:""})};a.getRunSettings=function(){return r};a.initTabs=function(){var c=a.getSettings();(c.facebookTab||c.buddyList)&&k("#slayer_tabs").show();x=c.defaultTab?c.defaultTab:c.facebookTab?"Facebook":"Mail"};a.getCurrentTab=function(){return x};a.setCurrentTab=function(a){x=a;n.switchTabs()};a.getSettings=
function(){return l};a.setSettings=function(a){l=a};a.getText=function(a,b,m){a="undefined"==typeof m?a:m?a+".sing":a;m=[];m="undefined"==typeof b?{}:b;b=j[a];if("undefined"==typeof b)m=a;else{var a=b.split("%s"),e="",f=a.length;if(1<f){if(k.isArray(m))for(b=0;0<m.length&&b<f;)e=0!=b?e+(m.shift()+a[b]):e+a[b],b++;else e=a[0]+m+a[1];m=e}else m=b}return m};a.debug=function(a,b){d(a,b)};a.ajax=function(a){q.ajax(a)};a.ajaxError=function(a,b,m){q.ajaxError(a,b,m)};a.getView=function(){return n};a.getModel=
function(){return o};a.run=function(a){switch(a){case "dialog":n.renderInviteDialog();break;case "button":n.renderInviteDialogButton();break;case "settings":s();break;case "shareUrl":n.getShareUrl()}};a.addFriend=function(b){var m=a.getSettings();q.ajax({data:{slService:"friendship:invite",slP:{invitedID:b.data.userId,invitedKeyID:b.data.userKeyId}},type:"POST",dataType:"json",error:n.addFriendFailedCallback,url:m.dispatcherUrl,success:n.addFriendCallback})};a.removeFriend=function(b){var m=a.getSettings();
q.ajax({data:{slService:"friendship:cancel",slP:{userID:b.data.userId,userKeyID:b.data.userKeyId}},type:"POST",dataType:"json",error:n.removeFriendFailedCallback,url:m.dispatcherUrl,success:n.removeFriendCallback})};a.setRunSettings=function(a){r=a};a.displayFacebookInviteCounter=function(b){k("#slayer_friendSelectFacebookResponse").html(a.getText("gl.socialInvite.dialog.success.friendsInvited",""+b));k("#slayer_friendSelectFacebookResponse").attr("onmousedown",null)};a.getStorage=function(){return t};
a.setStorage=function(a){t=a};a.getCore=function(){return q};(function(c){a.addObjectToLoad("css");a.addObjectToLoad("view");a.addObjectToLoad("model");k=SLAYER.instance.getJQuery();l=c;q=l.core;a.isDevEnv=q.isDevEnv;j=new SLAYER.LANGUAGE;j=j.getLanguage();g();0==k("#slayer-root").length?(k("body").append('<div id="slayer-root"></div>'),d("Created SLAYER-ROOT")):(d("SLAYER-ROOT found"),k("#slayer-root").empty());0==k("#slayer-button").length?(k("body").append('<div id="slayer-button"></div>'),d("Created SLAYER-BUTTON")):
(d("SLAYER-BUTTON found"),k("#slayer-button").empty());v=new SLAYER.CSS({core:q,caller:a});e=new SLAYER.MAILHANDLER;o=new SLAYER.INVITEMODEL(a);n=new SLAYER.INVITEVIEW(a);a.initTabs();b();l.showInviteInfo&&(o.getUserLimits(),o.getUserInvites());v.loadCSSFiles({isDevEnv:a.isDevEnv,cssDev:l.cssDev,gameId:l.gameId,module:"invite"})})(h)};
SLAYER.INVITEVIEW=function(h){function g(a,b){j.debug("VIEW: "+a,b)}function d(){var m=a.getSettings(),d=a.getSettings(),c={buttonTooltip:a.getText("gl.socialInvite.button.tooltip",d.gameTitle),buddyHeader:a.getText("gl.socialInvite.dialog.buddy.header"),buddyInputValue:a.getText("gl.socialInvite.dialog.buddy.inputValue"),buddyResultHeader:a.getText("gl.socialInvite.dialog.buddy.resultHeader"),desc:a.getText("gl.socialInvite.dialog.desc"),formAgreed:a.getText("gl.socialInvite.dialog.form.agreed"),
formCancel:a.getText("gl.socialInvite.dialog.form.cancel"),formClose:a.getText("gl.socialInvite.dialog.form.close"),formInvited:a.getText("gl.socialInvite.dialog.form.invited"),formInvitedDesc:a.getText("gl.socialInvite.dialog.form.invited.desc"),formInviter:a.getText("gl.socialInvite.dialog.form.inviter"),formMessage:a.getText("gl.socialInvite.dialog.form.message"),formMessageDesc:a.getText("gl.socialInvite.dialog.form.message.desc"),formMoreFriendInvites:a.getText("gl.socialInvite.dialog.form.moreFriendInvites"),
formSearch:a.getText("gl.socialInvite.dialog.form.search"),formSend:a.getText("gl.socialInvite.dialog.form.send"),header:a.getText("gl.socialInvite.dialog.header"),socialNetworkHeader:a.getText("gl.socialInvite.dialog.socialNetworksHeader"),isEditableUser:d.editableUsername,showFbTab:d.facebookTab,showBuddyTab:d.buddyList,showTabs:d.facebook||d.buddyList?!0:!1,showShareURL:d.shareUrl,tabNameBuddy:a.getText("gl.socialInvite.dialog.buddy.tabName"),tabNameFb:a.getText("gl.socialInvite.dialog.gigya.tabName"),
tabNameMail:a.getText("gl.socialInvite.dialog.mail.tabName"),userName:d.currentUsername,slideMessageInput:d.slideMessageInput?!0:!1,renderPopup:d.popup};d.shareUrl&&("undefined"==typeof d.shareImage&&(d.shareImage=q),c.shareMsgMail=encodeURIComponent(a.getText("gl.socialInvite.shareURL.message",d.gameTitle)+"\n")+b("mail",!0),c.shareMsg=a.getText("gl.socialInvite.shareURL.message",d.gameTitle)+"\n"+d.inviteUrl,c.mailFormHeader=a.getText("gl.socialInvite.dialog.mailHeader"),c.shareHeader=a.getText("gl.socialInvite.dialog.shareHeader"),
c.shareMsgGoogle=encodeURIComponent(a.getText("gl.socialInvite.shareURL.message",d.gameTitle)+"\n")+b("google",!0),c.shareMsgTwitter=encodeURIComponent(a.getText("gl.socialInvite.shareURL.message",d.gameTitle)),c.inviteUrlGoogle=b("google",!0),c.inviteUrlTwitter=b("twitter",!0),c.inviteUrlWeb=b("web",!1),c.shareMailSubject=a.getText("gl.socialInvite.shareURL.mailSubject",d.gameTitle),c.shareFacebookPostURL="http://www.facebook.com/dialog/feed?app_id="+d.facebook.appId+"&link="+b("facebook",!0)+"&redirect_uri="+
b("facebook",!0)+"&message="+encodeURIComponent(a.getText("gl.socialInvite.shareURL.message",d.gameTitle))+"&picture="+d.shareImage+"&caption="+a.getText("gl.socialInvite.fbCaption")+"&name={{shareMailSubject}}");d=[];d.button=v.toHTML(inviteTemplateButton,c);d.dialog=v.toHTML(inviteTemplate,c);e("#slayer-root").empty();e("#slayer-button").empty();e("#slayer-root").append(d.dialog);c="undefined"==typeof m.hideButton?!1:m.hideButton;e("#slayer-button").append(d.button);jQuery("#slayer_dialog").addClass(m.language);
c&&e(".social-invite a").hide();m.slideMessageInput&&f(!1);m.buddyList&&!t&&(e("#slayer-root").append('<div class="buddyFeedback" style="display:none;"><span></span></div>'),"undefined"!=typeof e(".buddyFeedback").overlay?t=e(".buddyFeedback").overlay({oneInstance:!1,fixed:!1,closeOnClick:!1,top:"center",left:"center"}):g("ERROR: Cannot create Overlay","error"))}function b(b,d){var c=a.getSettings(),f=e.parseJSON(c.inviteTypes),g=c.inviteUrl,g=g+f[b],g=g+j.getModel().getAIDUrlParam(b,"share");"undefined"!=
typeof c.userId&&"undefined"!=typeof c.userKeyId&&"undefined"!=typeof c.instanceId&&"undefined"!=typeof c.affiliateId&&(g+="&invID="+j.getCore().getInviteCode({type:"invite",userId:c.userId,userKeyId:c.userKeyId,instanceId:c.instanceId,affiliateId:c.affiliateId}));return d?encodeURIComponent(g):g}function f(a){if("undefined"!=typeof a){var b=!0;e(".slayer_mailInviteInputMessage label").click(function(){b?e(".slayer_mailInviteInputMessage .slideContent").slideDown():e(".slayer_mailInviteInputMessage .slideContent").slideUp();
b=!b})}}function s(b){var d=a.getSettings(),b=e(b).overlay({mask:{color:"#333",loadSpeed:200,opacity:0.7},closeOnClick:!1,fixed:!1,oneInstance:!1,onBeforeLoad:function(){d.core.hideGameClient();r=""==r?e("#slayer_tabs li").not("li.slayer_tabsCurrent").css("margin-left"):r;j.initTabs();d.facebookTab||d.buddyList?""!=j.getCurrentTab()&&a.switchTabs(1):a.showForm()},onClose:function(){a.clearErrorMessage();a.clearForm();d.core.unhideGameClient();var b=d.onComplete;if(b&&"function"==typeof b){var m=null==
j.getStorage()?null:j.getStorage().responseData;b(m)}}});a.setOverlay(b)}function k(b){a.hideContent();e("#slayer_mailInviteResult").find("ul").remove();var d=e("#slayer_mailInviteResult").prepend("<ul></ul>").find("ul");e.each(b,function(b,m){d.append("<li>"+a.getText(m?"gl.socialInvite.dialog.success.user":"gl.socialInvite.dialog.success.failed",Array(b))+"</li>")});e("#slayer_mailInviteResult").fadeIn(500)}function n(b){var b="gl.socialInvite.error."+("200.03"!=b&&"500"!=b?"500":b),e=a.getText(b);
return e=e!=b?e:a.getText("gl.socialInvite.error.500")}function o(a){e("div.buddyFeedback span").empty().append(a);t&&(t.overlay().isOpened()&&(t.overlay().close(),null!=x&&clearTimeout(x)),t.overlay().load(),x=setTimeout("_feedbackOverlay.overlay().close()",3E3))}var e=null,l=null,r="",j=null,a=this,q="",u=[],v=null,t=null,x=null;a.getShareUrl=function(){var a=j.getRunSettings();a.encoded="undefined"==typeof a.encoded?!1:a.encoded;var e=b(a.provider,a.encoded);a.callback(e)};a.switchTabs=function(b){"undefined"==
typeof b&&(b="slow");var d="li.slayer_tabs"+j.getCurrentTab();e(d).animate({"margin-left":0},{duration:b,queue:!1,complete:function(){e(this).addClass("slayer_tabsCurrent")}});e("#slayer_tabs li").not(d).animate({"margin-left":a.getTabMargin()},{duration:b,queue:!1,complete:function(){e(this).removeClass("slayer_tabsCurrent")}});"li.slayer_tabsMail"==d?(a.showForm(500),j.getSettings().showInviteInfo&&(j.getModel().getUserInvites(),j.getModel().getUserLimits())):"li.slayer_tabsFacebook"==d?a.showFriendSelection(500):
"li.slayer_tabsBuddy"==d&&a.showBuddyList(500);e("#slayer_dialog").removeClass();b=d.substring(3)+"_active";e("#slayer_dialog").addClass(b)};a.clearForm=function(){e(".slayer_mailInviteInput textarea").val("");e("#slayer_mailInviteResult ul").val("");a.clearErrorMessage()};a.renderInviteDialog=function(){g("RenderInviteDialog");if("overlay"==a.getSettings().renderTarget)null==a.getOverlay()&&(g("Preinitialize the Button"),a.renderInviteDialogButton()),a.getOverlay().overlay().load(),e("#slayer_dialog").show();
else if("popup"==a.getSettings().renderTarget){g("Render dialog in popUp");var b=a.getSettings(),d="http://"+document.location.host,d=d+(b.dev?"/plugin/social/services/slayer/html/template.html":"/sharedpages/static/plugin/social/slayer/html/template.html"),d="undefined"!=typeof u[b.gameId]?u[b.gameId]:d,c;c=""+("gameTitle="+b.gameTitle+"&");c+="gameId="+b.gameId+"&";c+="affiliateId="+b.affiliateId+"&";c+="dispatcherUrl="+b.dispatcherUrl+"&";c+="currentUsername="+b.currentUsername+"&";c+="editableUsername="+
b.editableUsername+"&";c+="language="+b.language+"&";c+="shareUrl="+b.shareUrl+"&";c+="dev="+b.dev+"&";c=encodeURIComponent(c);window.open(d+"?"+c,b.gameTitle,"width=709,height=520").focus()}};a.renderInviteDialogButton=function(){g("RenderInviteDialogButton");a.getSettings().hideButton||e(".slayer_overlayTrigger").show();s(".slayer_overlayTrigger a")};a.closeOverlay=function(){l.overlay().close()};a.getSettings=function(){return j.getSettings()};a.setSettings=function(a){j.setSettings(a)};a.getOverlay=
function(){return l};a.setOverlay=function(a){l=a};a.getTabMargin=function(){return r?r:0};a.getText=function(a,b,c){return j.getText(a,b,c)};a.hideContent=function(){e("#slayer_busy").hide();e("#slayer_mailInvite").hide();e("#slayer_mailInviteResult").hide();e(".slayer_mailInviteSendError").hide();e("#slayer_friendSelect").hide();e("#slayer_buddyList").hide();e("#slayer_shareUrlContainer").hide();e("#slayer_buddyListResult").html("");t&&t.overlay().close()};a.showForm=function(b){b="undefined"==
typeof b?0:b;a.hideContent();a.clearForm();e("#slayer_dialogContainer").fadeIn(b);e("#slayer_mailInvite").fadeIn(b);e("#slayer_shareUrlContainer").fadeIn(b)};a.showUserLimits=function(){};a.showUserInvites=function(){};a.showFriendSelection=function(b){b="undefined"==typeof b?0:b;a.hideContent();e("#slayer_friendSelect").fadeIn(b)};a.showBuddyList=function(b){b="undefined"==typeof b?0:b;a.hideContent();e("#slayer_buddyList").fadeIn(b)};a.addFriendCallback=function(b){var d=a.getText("gl.socialInvite.dialog.search.friendAddedFailed"),
c=a.getText("gl.socialInvite.dialog.search.friendAdded");o("undefined"==typeof b||null==typeof b?d:"undefined"==typeof b.meta?d:"undefined"==typeof b.meta.success?d:!1==b.meta.success?d:c)};a.addFriendFailedCallback=function(){g("ERROR: Adding a friend failed (Ajax Error)","error")};a.removeFriendCallback=function(b){var d=a.getText("gl.socialInvite.dialog.search.friendRemovedFailed"),c=a.getText("gl.socialInvite.dialog.search.friendRemoved");o("undefined"==typeof b||null==typeof b?d:"undefined"==
typeof b.meta?d:"undefined"==typeof b.meta.success?d:!1==b.meta.success?d:c)};a.removeFriendFailedCallback=function(){g("ERROR: Removing a friend failed (Ajax Error)","error")};a.clearErrorMessage=function(){e(".slayer_mailInviteInputMessage .slayer_mailInviteHelpText").html(a.getText("gl.socialInvite.dialog.form.message.desc"));e(".slayer_mailInviteInputEmail .slayer_mailInviteHelpText").html(a.getText("gl.socialInvite.dialog.form.invited.desc"));e(".slayer_mailInviteFooterError").html("");e(".slayer_mailInviteInput").removeClass("slayer_mailInviteInputError")};
a.showLoader=function(){a.clearErrorMessage();a.hideContent();e("#slayer_busy").fadeIn(500)};a.showSendError=function(a){a="undefined"==typeof a?"":a;e("#slayer_mailInvite").show();e("#slayer_busy").hide();e(".slayer_mailInviteSendError").html(a);e(".slayer_mailInviteSendError").fadeIn(500)};a.updateHTML=function(){d()};a.handleServiceResponse=function(b){b="undefined"==typeof b?null:b;a.clearErrorMessage();null==b?a.showSendError(n()):null==b.data?a.showSendError(n(b.meta.error)):k(b.data)};a.showEmailError=
function(a){e(".slayer_mailInviteInputEmail .slayer_mailInviteHelpText").html(a);e(".slayer_mailInviteInputEmail").addClass("slayer_mailInviteHelpError")};a.showUserMessageError=function(a){e(".slayer_mailInviteInputMessage .slayer_mailInviteHelpText").html(a);e(".slayer_mailInviteInputMessage").addClass("slayer_mailInviteHelpError")};a.displayFriendSearchResults=function(b){var b="undefined"==typeof b?"":"undefined"==typeof b.data?"":b.data,d="<ul>";if(0==b.length)d=a.getText("gl.socialInvite.dialog.search.nothingFound"),
e("#slayer_buddyListResult").html(d);else{var c=[];e.each(b,function(a,b){d=1==b.isFriend?d+v.toHTML(inviteTemplateItemRemove,b):d+v.toHTML(inviteTemplateItemAdd,b);c[b.userId]=b.userKeyId});d+="</ul>";e("#slayer_buddyListResult").html(d);e.isFunction(e.jScrollPane)&&e("#slayer_buddyListResult").jScrollPane();e(".slayer_buddyAdd").bind("click",function(){var a=e(this).attr("value"),b=c[a];e(this).css("backgroundPosition","bottom left");e(this).unbind("click");j.addFriend({data:{userId:a,userKeyId:b}})});
e(".slayer_buddyDel").bind("click",function(){var a=e(this).attr("value"),b=c[a];e(this).css("backgroundPosition","bottom left");e(this).unbind("click");j.removeFriend({data:{userId:a,userKeyId:b}})})}};(function(b){j=b;e=SLAYER.instance.getJQuery();v=new SL_Mustache;b=a.getSettings();"undefined"==typeof b.gameTitle&&(g("WARNING: You didnt set a game title. Tooltip will be disabled!","warning"),e(".slayer_overlayTrigger a").attr("title",""),b.showTooltip=0,a.setSettings(b));q="http://assets-575-www.bigpoint.net/marketingassets/bigpoint/bigpoint_logo_90x90.jpg";
d();b=a.getSettings();b.invite=j;new SLAYER.TOOLTIP(b);a.clearErrorMessage();j.removeObjectToLoad("view")})(h)};
SLAYER.INVITEMODEL=function(h){var g=null,d=this;d.getSettings=function(){return g.getSettings()};d.setSettings=function(b){g.setSettings(b)};d.getText=function(b,d,h){return g.getText(b,d,h)};d.getUserLimits=function(){var b=d.getSettings();d.ajax({type:"POST",data:{slService:"invite:getUserLmits"},dataType:"json",url:"undefined"==typeof b.dispatcherUrl?b.actionUrl:b.dispatcherUrl,success:function(b){d.showUserLimits(b.data)},error:function(b,d,h){g.ajaxError(b,d,h)}})};d.getUserInvites=function(){var b=
d.getSettings();d.ajax({type:"POST",data:{slService:"invite:getUserInvites"},dataType:"json",url:"undefined"==typeof b.dispatcherUrl?b.actionUrl:b.dispatcherUrl,success:function(b){d.showUserInvites(b.data)},error:function(b,d,h){g.ajaxError(b,d,h)}})};d.ajax=function(b){g.ajax(b)};d.ajaxError=function(b,d,h){g.ajaxError(b,d,h)};d.send=function(b){var f=d.getSettings(),h=null,k=null;"undefined"!=typeof f.dispatcherUrl?(h=f.dispatcherUrl,k={slService:"invite:sendinvite",slP:{emails:b.emails.join(","),
userMessage:b.userMessage,userName:b.username}},f.dev&&(k.slP.userID=f.userId,k.slP.userKeyID=f.userKeyId,k.slP.gameID=f.gameId,k.slP.instanceID=f.instanceId,k.slP.language=f.language)):(h=f.actionUrl,k={emails:b.emails.join(","),userMessage:b.userMessage,userName:b.username});d.ajax({url:h,data:k,success:function(b){var d=g.getStorage();d.responseData=null==b?b:null!=b.data?b.data:b;g.setStorage(d);g.getView().handleServiceResponse(b)},error:function(){g.getView().showSendError(d.getText("gl.socialInvite.error.500"))}})};
d.getAIDUrlParam=function(b,d){var g=[];g.facebook={share:3520,gigyaShare:3518,invite:2641};g.twitter={share:3521,gigyaShare:3519};g.email={share:2883};g.google={share:3547};g.web={share:3546};var h="";"undefined"!=typeof g[b]&&"undefined"!=typeof g[b][d]&&(h="&aid="+g[b][d]);return h};g=h;d.getSettings();SLAYER.instance.getJQuery();g.removeObjectToLoad("model")};
SLAYER.FRIENDSHIP=function(h){function g(){var f=d;f.callback="undefined"==typeof f.callback?function(){}:f.callback;b.core.ajax({url:b.dispatcherUrl,dataType:"json",type:"GET",data:{slService:"friendship:getGameFriends"},success:function(b){f.callback(b)},error:b.core.ajaxError})}var d=null,b=null,f=null;this.setRunSettings=function(b){d=b};this.run=function(b){switch(b){case "getGameFriends":g()}};(function(d){f=d.core;f.getJQuery();b=d;b.core.updateLoader("friendship","externals",!0)})(h)};
var cookieLib=function(h,g,d){if("undefined"!=typeof g||h&&"string"!=typeof h)if("string"==typeof h){d=d||{};null===g&&(g="",d.expires=-1);var b="";if(d.expires&&("number"==typeof d.expires||d.expires.toUTCString))"number"==typeof d.expires?(b=new Date,b.setTime(b.getTime()+864E5*d.expires)):b=d.expires,b="; expires="+b.toUTCString();var f=d.path?"; path="+d.path:"",s=d.domain?"; domain="+d.domain:"",d=d.secure?"; secure":"";document.cookie=h+"="+encodeURIComponent(g)+b+f+s+d}else for(b in h)jQuery.cookie(b,
h[b],g||d);else{g={};if(document.cookie){d=document.cookie.split(";");for(b=0;b<d.length;b++)if(f=jQuery.trim(d[b]),h){if(f.substr(0,h.length+1)==h+"="){g=decodeURIComponent(f.substr(h.length+1));break}}else s=f.indexOf("="),g[f.substr(0,s)]=decodeURIComponent(f.substr(s+1))}return g}},SL_Mustache=function(){this.toHTML=function(h,g,d,b){var f=new SL_MustacheRenderer;b&&f.setSendFun(b);f.render(h,g,d);if(!b)return f.buffer.join("\n")}},SL_MustacheRenderer=function(){function h(a){""!=a&&e.buffer.push(a)}
function g(b){return-1==b.indexOf(l+"%")?b:b.replace(RegExp(l+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+r),function(b,d,e){if(!a[d])throw{message:"This implementation of mustache doesn't understand the "+d+" pragma!"};j[d]={};e&&(b=e.split("="),j[d][b[0]]=b[1]);return""})}function d(a,b,d){return-1==a.indexOf(l+"#")&&-1==a.indexOf(l+"^")?a:a.replace(RegExp(l+"(\\^|\\#)\\s*(.+)\\s*"+r+"\n*([\\s\\S]+?)"+l+"\\/\\s*\\2\\s*"+r+"\\s*","mg"),function(a,f,g,c){a=s(g,b);if("^"==f)return!a||"object"==typeof a&&0===a.length?
e.render(c,b,d,!0):"";if("#"==f)return"object"==typeof a?o(a,function(a){return e.render(c,n(a),d,!0)}).join(""):"function"===typeof a?a.call(b,c,function(a){return e.render(a,b,d,!0)}):a?e.render(c,b,d,!0):""})}function b(a,b,d,g){for(var j=function(){return RegExp(l+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+r+"+","g")},n=j(),c=function(a,c,g){switch(c){case "!":return"";case "=":return a=g.split(" "),l=f(a[0]),r=f(a[1]),n=j(),"";case ">":a=g.replace(/^\s*|\s*$/g,"");if(!d||void 0===d[a])throw{message:"unknown partial "+
a};return"object"!=typeof b[a]?e.render(d[a],b,d,!0):e.render(d[a],b[a],d,!0);case "{":return s(g,b);default:return k(s(g,b))}},a=a.split("\n"),i=0;i<a.length;i++)a[i]=a[i].replace(n,c,this),g||h(a[i]);if(g)return a.join("\n")}function f(a){arguments.callee.sRE||(arguments.callee.sRE=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","g"));return a.replace(arguments.callee.sRE,"\\$1")}function s(a,b){var a=a.replace(/^\s*|\s*$/g,""),d;!1===b[a]||0===b[a]||b[a]?d=b[a]:(!1===q[a]||0===
q[a]||q[a])&&(d=q[a]);return"function"===typeof d?d.apply(b):void 0!==d?d:""}function k(a){return(""+(null===a?"":a)).replace(/&(?!\w+;)|["'<>\\]/g,function(a){switch(a){case "&":return"&amp;";case "\\":return"\\\\";case '"':return"&quot;";case "'":return"&#39;";case "<":return"&lt;";case ">":return"&gt;";default:return a}})}function n(a){if(a&&"object"==typeof a)return a;var b=".",d={};j["IMPLICIT-ITERATOR"]&&(b=j["IMPLICIT-ITERATOR"]);d[b]=a;return d}function o(a,b){if("function"==typeof a.map)return a.map(b);
for(var d=[],e=a.length,f=0;f<e;f++)d.push(b(a[f]));return d}var e=this,l,r,j,a,q;e.setSendFun=function(){};e.render=function(a,f,j,k){k||(q=f,e.buffer=[]);if(-1==a.indexOf(l+"")){if(k)return a;h(a)}else{a=g(a);a=d(a,f,j);if(k)return b(a,f,j,k);b(a,f,j,k)}};l="{{";r="}}";q={};j={};a={"IMPLICIT-ITERATOR":!0};e.buffer=[]};
SLAYER.LIVESETTINGS=function(){var h={350:{481:{facebook_like:{visible:0},google_plus_one:{visible:0}},696:{facebook_like:{visible:0},google_plus_one:{visible:0}}},337:{14:{facebook_like:{visible:1},google_plus_one:{visible:1}},481:{facebook_like:{visible:0},google_plus_one:{visible:0}},721:{facebook_like:{visible:0},google_plus_one:{visible:0}}},573:{4:{facebook_like:{visible:0},google_plus_one:{visible:0}},7:{facebook_like:{visible:0},google_plus_one:{visible:0}},10:{facebook_like:{visible:0},google_plus_one:{visible:0}},
14:{facebook_like:{visible:0},google_plus_one:{visible:0}},22:{facebook_like:{visible:0},google_plus_one:{visible:0}},54:{facebook_like:{visible:0},google_plus_one:{visible:0}},56:{facebook_like:{visible:0},google_plus_one:{visible:0}},86:{facebook_like:{visible:0},google_plus_one:{visible:0}},171:{facebook_like:{visible:0},google_plus_one:{visible:0}},204:{facebook_like:{visible:0},google_plus_one:{visible:0}},311:{facebook_like:{visible:0},google_plus_one:{visible:0}},441:{facebook_like:{visible:0},
google_plus_one:{visible:0}},481:{facebook_like:{visible:0},google_plus_one:{visible:0}},696:{facebook_like:{visible:0},google_plus_one:{visible:0}}},964:[{facebook_like:{visible:0},google_plus_one:{visible:0}}],1417:{171:{facebook_like:{visible:0},google_plus_one:{visible:0}},311:{facebook_like:{visible:0},google_plus_one:{visible:0}},481:{facebook_like:{visible:0},google_plus_one:{visible:0}}},2043:[{facebook_like:{visible:0},google_plus_one:{visible:0}}],2682:{481:{facebook_like:{visible:1},google_plus_one:{visible:1}}},
3889:[{facebook_like:{visible:0},google_plus_one:{visible:0}}]};this.getSettings=function(){return h}};
SLAYER.DEVSETTINGS=function(){var h={333:{171:{facebook_like:{visible:0},google_plus_one:{visible:0}}},350:{522:{facebook_like:{visible:1},google_plus_one:{visible:1}}},1:[{facebook_like:{visible:1},google_plus_one:{visible:1}}],123:{623:{facebook_like:{visible:0},google_plus_one:{visible:1}}},337:{481:{facebook_like:{visible:0},google_plus_one:{visible:1}}},2043:{522:{facebook_like:{visible:0},google_plus_one:{visible:0}}}};this.getSettings=function(){return h}};SLAYER.LANGUAGE=function(){var h={"gl.socialInvite.dialog.buddy.header":"Add a player to your buddy list:","gl.socialInvite.dialog.buddy.inputValue":"Username / User ID","gl.socialInvite.dialog.buddy.tabName":"Buddy list","gl.socialInvite.dialog.buddy.resultHeader":"Search results","gl.socialInvite.dialog.desc":"Why play alone when you can play together? Invite friends to your game.","gl.socialInvite.dialog.failed.failed":"Invite failed","gl.socialInvite.dialog.form.inviter":"From:","gl.socialInvite.dialog.form.invited":"To:",
"gl.socialInvite.dialog.form.invited.desc":"(separate multiple e-mail addresses with commas)","gl.socialInvite.dialog.form.message":"Send message:","gl.socialInvite.dialog.form.message.desc":"(optional)","gl.socialInvite.dialog.form.agreed":"I know the person/people I'd like to invite.","gl.socialInvite.dialog.form.search":"Search","gl.socialInvite.dialog.form.send":"Invite friends","gl.socialInvite.dialog.form.cancel":"Cancel","gl.socialInvite.dialog.form.moreFriendInvites":"Invite more friends",
"gl.socialInvite.dialog.form.close":"Close","gl.socialInvite.dialog.gigya.tabName":"Facebook","gl.socialInvite.dialog.header":"Invite your friends!","gl.socialInvite.dialog.sendInfo.emailInvites.sing":"%s friend already registered.","gl.socialInvite.dialog.sendInfo.emailInvites":"%s friends already registered.","gl.socialInvite.dialog.sendInfo.emailsOpen":"You can still send %s e-mails today.","gl.socialInvite.dialog.sendInfo.emailsOpen.sing":"You can still send %s e-mail today.","gl.socialInvite.dialog.sendInfo.emailsSent":"You already sent %s e-mails today.",
"gl.socialInvite.dialog.sendInfo.emailsSent.sing":"You already sent %s e-mails today.","gl.socialInvite.dialog.success.user":"%s was successfully invited.","gl.socialInvite.dialog.success.failed":"Unable to invite %s.","gl.socialInvite.dialog.success.friendsInvited":"You invited %s friend(s).","gl.socialInvite.error.200.03":"You've invited the maximum number of friends for today. Invite more friends tomorrow!","gl.socialInvite.error.200.04":"Invalid e-mail address; please provide a valid e-mail address.",
"gl.socialInvite.error.500":"Oops, that didn't work. Please try again later.","gl.socialInvite.error.input.mails":"Please verify the e-mail address(es) you entered.","gl.socialInvite.error.input.agreed":"Please confirm that you are personally acquainted with the people you'd like to invite.","gl.socialInvite.error.input.userMessage":"Message may not contain more than %s characters.","gl.socialInvite.button.tooltip":"Don't wanna play alone? Invite friends to play %s.","gl.socialInvite.dialog.shareHeader":"Use your existing social networks:",
"gl.socialInvite.dialog.mailHeader":"Or send friends an e-mail invitation:","gl.socialInvite.dialog.mail.tabName":"E-mail","gl.socialInvite.dialog.socialNetworksHeader":"Invite friends from your social networks:","gl.socialInvite.notification.text.body":"Body:","gl.socialInvite.notification.text.subject":"Subject:","gl.socialInvite.notification.success":"Messages successfully sent: ","gl.socialInvite.shareURL.mailSubject":"Invitation to %s","gl.socialInvite.shareURL.message":"Players wanted! %s is a lot of fun and it's free. Join now at:",
"gl.socialInvite.fbCaption":"A bigpoint.com game","gl.socialInvite.dialog.search.nothingFound":"No player found","gl.socialInvite.dialog.search.friendRemovedFailed":"Friend couldn't be deleted.","gl.socialInvite.dialog.search.friendRemoved":"Friend was successfully deleted.","gl.socialInvite.dialog.search.friendAddedFailed":"Player couldn't be added.","gl.socialInvite.dialog.search.friendAdded":"Player was successfully added."};this.getLanguage=function(){return h}};