var CF=CF||{};(function(){if(CF.Tracking){return}CF.Tracking=function(){var k=[];k.CFUK=6;k.CFUS=7;k.CFCA=8;k.CFDE=9;k.CFAU=30;k.CFES=32;k.CFFR=34;k.CFIT=36;function c(){(function(F){F(document).delegate("a.cf-track","click",function(){b(this)});F(document).delegate("a.cf-event","click",function(G){G.preventDefault();var H=this.getAttribute("data-event");l("TabNav",H);z(this)})})(jQuery)}function z(H){var F=H.getAttribute("href");var G=function(){document.location.href=F};setTimeout(G,200)}function f(J){var G={};if(typeof J=="string"){if(J.indexOf("/goto.asp")==-1&&J.indexOf("/workers/dealpartnerselect.aspx")==-1){return}G=GetQueryString(J,G)}else{G=J}if(G.t!=undefined){G.t=unescape(G.t)}var F=new Array();SetWT(original_WT_cg_n+"(y="+G.y+")",F,G.y);SetDCSext(G,F,true);SetCfSourceCookie(F);_dcsMultiTrack(F);if(gExitClickHandlers){for(var I=0;I<gExitClickHandlers.length;I++){gExitClickHandlers[I](G)}}}function g(F){alert("Log to tag man");if(window.LEV&&LEV.TML){LEV.TML.iframe=function(){var G={d:"pfa.levexis.com",c:"cheapflights",ci:GetTagManContainerID(),pr:"1",p:""};var I="//"+G.d+"/"+G.c+"/tman.cgi/tmcontid="+G.ci+"&pageref="+G.pr;var H=I+"&tmtag=iframe";var J=LEV.extend(document.createElement("iframe"),{src:H});LEV.extend(J.style,{width:"18",height:"18",border:"0",position:"absolute",top:"0",left:"-999em"});document.body.appendChild(J)};LEV.TML.iframe()}}function q(){var F=u.split("-");if(F.length<3){return timestamp}var J=parseInt(F[0]);var G=parseInt(F[1])+1;var I=parseInt(F[2]);var H=timestamp-(J+I);I=timestamp-J;return F[0]+"-"+G+"-"+I+"-"+H}function j(G){var F=new Date();var J=F.getTime();var K=url.indexOf("&u=");if(K==-1){var N="u="+J+"-1-0";if(url.indexOf("&t=")>-1){url=url.replace("&t=","&"+N+"&t=")}else{url+="&"+N}}else{var M=url.substring(K+3);var L=M.indexOf("&");if(L==-1){L=M.length}var I=M.substring(0,L);var H=q(I,J);url=url.replace("&u="+oldid,"&u="+newid)}G.href=url;return url}function a(){if(typeof _eventIDConfig=="undefined"){_eventIDConfig={lastOrdinal:0,prefix:_tag.DCSext.eid?_tag.DCSext.eid:("CF-"+Math.floor(Math.random()*9999999)+"-"+(new Date()).getTime())}}return _eventIDConfig.prefix+"-"+ ++_eventIDConfig.lastOrdinal}function i(F,H,L){var K=F.href;var I=K.indexOf("&"+H+"=");if(I<=0){I=K.indexOf("?"+H+"=")}if(I>=0){var G=K.indexOf("&",I+H.length+2);K=K.substring(0,I+1)+H+(G>=0?K.substr(G):"")}else{var J=K.indexOf("?");if(J>=0){K=K.substr(0,J+1)+H+"="+L+"&"+K.substr(J+1)}else{K+="?"+H+"="+escape(L)}}F.href=K}function e(G,F){}function b(F,G){if(JSC){JSC(F,G)}}function d(F){if(F.tagman){if(typeof F.tagman==="function"){F.tagman.call(this)}g()}if(F.unica){h(F.unica)}}function h(F){}function g(){if(LogToTagMan){LogToTagMan(location.href)}}function o(F){sitracker.trackLink(F)}function l(H,F,J,L){var I="evtype="+H;var G="",K="";if(F!=L&&F.length>0){G="&action="+F}if(J!=L&&J.length>0){K="&subtype="+J}sitracker.sendAdditionalTracer("/event",I+G+K)}function p(F){A();window.iJPageData.outcome=F.SiteCode=="MOMO"?"momoDep":"cfDep";window.iJPageData.y=F.ClickType;C(F.PageDeparture,F.PageDestination,F.SearchDeparture,F.SearchDestination);D(false)}function m(G){A();var F=s(G.State.BookingEngineType);B(G.State,F);if(G.Partners.length>0){E("be",F,G.Partners)}else{window.iJPageData.y="be"}D(true)}function n(F,H,I,K,J,G){A();window.iJPageData.pagedep=H;if(y(window.iJPageData.pagedep)){window.iJPageData.srchdep=I}window.iJPageData.adv=K;window.iJPageData.style=J;if(!y(G)){window.iJPageData.filter=G}E("ins",null,F);D(true)}function x(F){return(F==undefined||F==null||F=="")}function D(H){if(window.iJPageData.partners.length==0&&H){var F=x(window.iJPageData.pagedep);var G=x(window.iJPageData.pagedest);window.iJPageData.outcome="empty";if(window.iJPageData.pi=="INS"){if(F){window.iJPageData.outcome="error"}}else{if(G){window.iJPageData.outcome="error"}}}iJTrackPage()}function y(F){return typeof F==="undefined"||F==null||F.length==0}function A(){var F=window.iJPageData.pi;window.iJPageData={pgtype:"results",outcome:"success",pi:F,partners:[]}}function C(J,K,L,M){var F=!y(J);var G=!y(K);var H=!y(L);var I=!y(M);if(F){window.iJPageData.pagedep=J}if(G){window.iJPageData.pagedest=K}if(H&&!F){window.iJPageData.srchdep=L}if(I&&!G){window.iJPageData.srchdest=M}}function B(J,H){var F=jQuery("meta[name='WT.sp']").attr("content");window.iJPageData.pd=H;C(J.OriginRegionCode,J.DestinationRegionCode,J.OriginRegionCodeText,J.DestinationRegionCodeText);var L=w(J.TripType);var K=new Date();var G=J.DepartureDate.asDate(F);window.iJPageData.out=G.format("yyyy-mm-dd");window.iJPageData.adv=r(K,G);if(L=="R"){var I=J.ReturnDate.asDate(F);window.iJPageData.ret=I.format("isoDate");window.iJPageData.len=r(G,I)}window.iJPageData.trp=L;window.iJPageData.cls=t(J.TicketClass);window.iJPageData.adt=J.NumberOfAdults;if(J.NumberOfChildren>0){window.iJPageData.chd=J.NumberOfChildren}if(J.NumberOfInfants>0){window.iJPageData.inf=J.NumberOfInfants}if(H=="FLI"){window.iJPageData.otm=v(J.DepartureTimeType);window.iJPageData.rtm=v(J.ReturnTimeType)}if(H=="F_H"){window.iJPageData.otm=v(J.DepartureTimeType);window.iJPageData.rtm=v(J.ReturnTimeType);window.iJPageData.str=J.StarRating;window.iJPageData.rms=J.NumberOfRooms}if(H=="CAR"){window.iJPageData.age=J.DriverAge;delete window.iJPageData.pagedep;delete window.iJPageData.srchdep;delete window.iJPageData.cls;delete window.iJPageData.trp;delete window.iJPageData.adt;delete window.iJPageData.chd;delete window.iJPageData.inf}if(H=="ACC"){window.iJPageData.str=J.StarRating;window.iJPageData.rms=J.NumberOfRooms;delete window.iJPageData.pagedep;delete window.iJPageData.srchdep;delete window.iJPageData.cls;delete window.iJPageData.trp}}function r(H,F){var G=1000*60*60*24;return Math.round((F.getTime()-H.getTime())/(G))}function E(H,N,L){var F=L.length;var M=window.iJPageData.partners;M.length=0;var J=1;for(var I=0;I<L.length;I++){var G=L[I].BrandCode;if(H=="ins"){G=L[I].brc}var K={y:H,brd:G,sp:J++,bs:F};if(N!=null){K.pd=N}M.push(K)}}function t(F){return F==1?"B":"E"}function w(F){return F=="0"?"S":"R"}function v(F){switch(F){case 1:return"mrn";case 2:return"aft";case 3:return"evn";default:return"any"}}function s(F){switch(F){case 3:return"CAR";case 4:return"ACC";case 5:return"F_H";case 8:return"HOL";default:return"FLI"}}c();return{init:function(){c()},exit:function(F,G){b(F,G)},trackLink:function(F){o(F)},trackAdditional:function(G,F,H){l(G,F,H)},beImpression:function(F){m(F)},insImpression:function(F,H,I,K,J,G){n(F,H,I,K,J,G)},searchErrorImpression:function(F){p(F)},load:function(F){d(F)},createEid:function(){return a()}}};CF.Track=new CF.Tracking()}());