var CF=CF||{};(function(){if(CF.Tracking){return}CF.Tracking=function(){var q=[];q.CFUK=6;q.CFUS=7;q.CFCA=8;q.CFDE=9;q.CFAU=30;q.CFES=32;q.CFFR=34;q.CFIT=36;function a(){(function(w){w(document).delegate("a.cf-track","click",function(){s(this)});w(document).delegate("a.cf-event","click",function(){c(this)})})(jQuery)}function i(w){var y={};if(typeof w=="string"){if(w.indexOf("/goto.asp")==-1&&w.indexOf("/workers/dealpartnerselect.aspx")==-1){return}y=GetQueryString(w,y)}else{y=w}if(y.t!=undefined){y.t=unescape(y.t)}var z=new Array();SetWT(original_WT_cg_n+"(y="+y.y+")",z,y.y);SetDCSext(y,z,true);SetCfSourceCookie(z);_dcsMultiTrack(z);if(gExitClickHandlers){for(var x=0;x<gExitClickHandlers.length;x++){gExitClickHandlers[x](y)}}}function l(w){alert("Log to tag man");if(window.LEV&&LEV.TML){LEV.TML.iframe=function(){var x={d:"pfa.levexis.com",c:"cheapflights",ci:GetTagManContainerID(),pr:"1",p:""};var A="//"+x.d+"/"+x.c+"/tman.cgi/tmcontid="+x.ci+"&pageref="+x.pr;var y=A+"&tmtag=iframe";var B=LEV.extend(document.createElement("iframe"),{src:y});LEV.extend(B.style,{width:"18",height:"18",border:"0",position:"absolute",top:"0",left:"-999em"});document.body.appendChild(B)};LEV.TML.iframe()}}function m(){var x=u.split("-");if(x.length<3){return timestamp}var y=parseInt(x[0]);var A=parseInt(x[1])+1;var z=parseInt(x[2]);var w=timestamp-(y+z);z=timestamp-y;return x[0]+"-"+A+"-"+z+"-"+w}function t(w){var z=new Date();var x=z.getTime();var D=url.indexOf("&u=");if(D==-1){var B="u="+x+"-1-0";if(url.indexOf("&t=")>-1){url=url.replace("&t=","&"+B+"&t=")}else{url+="&"+B}}else{var y=url.substring(D+3);var E=y.indexOf("&");if(E==-1){E=y.length}var A=y.substring(0,E);var C=m(A,x);url=url.replace("&u="+oldid,"&u="+newid)}w.href=url;return url}function f(){if(typeof _eventIDConfig=="undefined"){_eventIDConfig={lastOrdinal:0,prefix:_tag.DCSext.eid?_tag.DCSext.eid:("CF-"+Math.floor(Math.random()*9999999)+"-"+(new Date()).getTime())}}return _eventIDConfig.prefix+"-"+ ++_eventIDConfig.lastOrdinal}function b(B,C,w){var A=B.href;var x=A.indexOf("&"+C+"=");if(x<=0){x=A.indexOf("?"+C+"=")}if(x>=0){var y=A.indexOf("&",x+C.length+2);A=A.substring(0,x+1)+C+(y>=0?A.substr(y):"")}else{var z=A.indexOf("?");if(z>=0){A=A.substr(0,z+1)+C+"="+w+"&"+A.substr(z+1)}else{A+="?"+C+"="+escape(w)}}B.href=A}function v(x,w){}function s(w,x){if(JSC){JSC(w,x)}}function c(w){var y=jQuery.noConflict();var z="";if(typeof w==="object"){var x=y(w);z=x.data("event")}else{z=w}if(ntptEventTag){ntptEventTag("ev="+z)}}function g(w){if(w.tagman){if(typeof w.tagman==="function"){w.tagman.call(this)}l()}if(w.unica){k(w.unica)}}function k(w){if(ntptEventTag){ntptEventTag(w)}}function l(){if(LogToTagMan){LogToTagMan(location.href)}}function e(x){h();var w=n(x.State.BookingEngineType);d(x.State,w);o("be",w,x.Partners);iJTrackPage()}function h(){var w=window.iJPageData.pi;window.iJPageData={pgtype:"results",outcome:"success",pi:w,partners:[]}}function d(x,A){window.iJPageData.srchdep=x.OriginRegionCodeText;window.iJPageData.srchdest=x.DestinationRegionCodeText;window.iJPageData.pagedep=x.OriginRegionCode;window.iJPageData.pagedest=x.DestinationRegionCode;var B=j(x.TripType);var y=new Date();var z=x.DepartureDate.asDate();window.iJPageData.out=z.format("yyyy-mm-dd");window.iJPageData.adv=r(y,z);if(B=="R"){var w=x.ReturnDate.asDate();window.iJPageData.ret=w.format("isoDate");window.iJPageData.len=r(z,w)}window.iJPageData.trp=B;window.iJPageData.cls=p(x.TicketClass);window.iJPageData.adt=x.NumberOfAdults;window.iJPageData.chd=x.NumberOfChildren;window.iJPageData.inf=x.NumberOfInfants;if(A=="CAR"){window.iJPageData.age=x.DriverAge}if(A=="ACC"||A=="F_H"){window.iJPageData.str=x.StarRating}}function r(w,y){var x=1000*60*60*24;return Math.round((y.getTime()-w.getTime())/(x))}function o(x,C,A){var y=A.length;var z=window.iJPageData.partners;z.length=0;var B=1;for(var w=0;w<A.length;w++){var D={y:x,brd:A[w].BrandCode,sp:B++,bs:y,pd:C};z.push(D)}}function p(w){return w==1?"B":"E"}function j(w){return w=="0"?"S":"R"}function n(w){switch(w){case 3:return"CAR";case 4:return"ACC";case 5:return"F_H";case 8:return"HOL";default:return"FLI"}}a();return{init:function(){a()},exit:function(w,x){s(w,x)},event:function(w){c(w)},beImpression:function(w){e(w)},load:function(w){g(w)},createEid:function(){return f()}}};CF.Track=new CF.Tracking()}());