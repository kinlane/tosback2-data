function namespace(d){var f=d.split("."),e=window,a="";for(var b=0,c=f.length;b<c;b++){a=f[b];e[a]=e[a]||{};e=e[a]}return e}(function(a,f,g){var j=a.Sys,b=a.$addHandler,h=a.$removeHandler,c=a.Function.createDelegate;var d=3000;a.Type.registerNamespace("CF");CF.UserPreferences=function(){};CF.UserPreferences.prototype={Default:0,SuppressNewsletterPopup:8,SuppressNewsletterTray:16,SuppressNewsletterPopupV2:24};g(CF.UserPreferences,"CF.UserPreferences",true);CF.Cookie=function(l,e,m,k){this._name=l;this._defaultValue=e;this._parseValue=m;this._expires=k;this._value=null};CF.Cookie.prototype={get_value:function(){if(this._value==null){this._value=this._defaultValue||"";if(document.cookie){var e=document.cookie.match(new RegExp(this._name+"=(.*?)(;|$)"));if(e){this._value=this._parseValue?this._parseValue(e[1]):e[1]}}}return this._value},set_value:function(k){var e=this._expires;if(!e){e=new Date();e.setFullYear(e.getFullYear()+5)}document.cookie=this._name+"="+k.toString()+"; path=/; expires="+e.toUTCString()+";";this._value=k}};CF.PreferencesCookie=new CF.Cookie("cf-pref",CF.UserPreferences.Default,function(e){return parseInt(e,10)});CF.NewsletterPopup=function(e){CF.NewsletterPopup.initializeBase(this,[e]);this._onClick$=null;this._newsletterSignupUrl=null};CF.NewsletterPopup.prototype={initialize:function(){CF.NewsletterPopup.callBaseMethod(this,"initialize");var e=this.get_element();if(e&&(CF.PreferencesCookie.get_value()&CF.UserPreferences.SuppressNewsletterPopup)==0){var k=document.createElement("form");k.action=this.get_newsletterSignupUrl();k.method="post";document.body.appendChild(k);k.appendChild(e);this._onClick$=c(this,this._onClick);b(e,"click",this._onClick$);if(typeof NLPopupSS=="function"){NLPopupSS()}e.style.visibility="visible"}},dispose:function(){if(this._onClick$){h(this.get_element(),"click",this._onClick$)}CF.NewsletterPopup.callBaseMethod(this,"dispose")},get_newsletterSignupUrl:function(){return this._newsletterSignupUrl},set_newsletterSignupUrl:function(e){this._newsletterSignupUrl=e},_onClick:function(k){if((k.target.tagName=="INPUT"&&(k.target.type=="submit"||k.target.type=="button"))||(k.target.tagName=="A"&&k.target.className=="closelink")){CF.PreferencesCookie.set_value(CF.PreferencesCookie.get_value()|CF.UserPreferences.SuppressNewsletterPopup);this.get_element().style.visibility="hidden"}}};f(CF.NewsletterPopup,"CF.NewsletterPopup",j.UI.Behavior);CF.BreadcrumbMenu=function(e){CF.BreadcrumbMenu.initializeBase(this,[e]);this._onClick$=null;this._popup=null;this._popupLink=null;this._popupId=null;this._popupLinkId=null;this._isPopupVisible=false;this._popupTopOffset=18};CF.BreadcrumbMenu.prototype={initialize:function(){CF.BreadcrumbMenu.callBaseMethod(this,"initialize");var e=this.get_element();var k=jQuery.noConflict();if(e){this._onClick$=c(this,this._onClick);b(e,"click",this._onClick$);this._popup=k("#"+this.get_popupId());this._popupLink=k(this.get_element());this._popup.css("left",this._popupLink.position().left).css("top",this._popupLink.position().top+this._popupTopOffset)}},dispose:function(){if(this._onClick$){h(this.get_element(),"click",this._onClick$)}CF.BreadcrumbMenu.callBaseMethod(this,"dispose")},_onClick:function(k){k.preventDefault();var l=jQuery.noConflict();if(this._isPopupVisible){this._popup.hide();this._isPopupVisible=false;this._popupLink.removeClass("chevron-selected")}else{this._popup.show();this._isPopupVisible=true;this._popupLink.addClass("chevron-selected")}return false},get_popupId:function(){return this._popupId},set_popupId:function(e){this._popupId=e},get_popupLinkId:function(){return this._popupLinkId},set_popupLinkId:function(e){this._popupLinkId=e}};f(CF.BreadcrumbMenu,"CF.BreadcrumbMenu",j.UI.Behavior);CF._ClickableBehavour=function(e){CF._ClickableBehavour.initializeBase(this,[e]);this.onClick$=null};CF._ClickableBehavour.prototype={initialize:function(){CF._ClickableBehavour.callBaseMethod(this,"initialize");var e=this.get_element();if(e){this.onClick$=c(this,this.onClick);if(e.tagName=="A"){e.href="javascript:void(0);"}b(e,"click",this.onClick$)}},dispose:function(){if(this.onClick$){h(this.get_element(),"click",this.onClick$)}CF._ClickableBehavour.callBaseMethod(this,"dispose")},onClick:function(k){}};f(CF._ClickableBehavour,"CF._ClickableBehavour",j.UI.Behavior);CF.BookmarkUsLink=function(e){};CF.BookmarkUsLink.prototype={};f(CF.BookmarkUsLink,"CF.BookmarkUsLink",CF._ClickableBehavour);CF.ExpandoBehavour=function(e){CF.ExpandoBehavour.initializeBase(this,[e])};CF.ExpandoBehavour.prototype={initialize:function(){this._hideClassName=null;this._hideText=null;CF.ExpandoBehavour.callBaseMethod(this,"initialize")},get_panel:function(){return this._panel},set_panel:function(e){this._panel=e},get_showClassName:function(){return this._showClassName},set_showClassName:function(e){this._showClassName=e},get_showText:function(){return this._showText},set_showText:function(e){this._showText=e},onClick:function(k){var l=this.get_element(),n=this.get_panel(),o=n.style,p=(o.display!="block"),m=l.firstChild,q;while(m){if(m.nodeType===3){q=m;break}m=m.nextSibling}if(p){if(this.get_showClassName()){this._hideClassName=l.className;l.className=this.get_showClassName()}if(q&&this.get_showText()){this._hideText=q.nodeValue;q.nodeValue=this.get_showText()}o.display="block"}else{o.display="none";if(this._hideClassName!=null){l.className=this._hideClassName}if(this._hideText!=null&&q){q.nodeValue=this._hideText}}if(k){k.preventDefault();k.stopPropagation()}}};f(CF.ExpandoBehavour,"CF.ExpandoBehavour",CF._ClickableBehavour);CF.InternationalSiteLinks=function(e){CF.InternationalSiteLinks.initializeBase(this,[e])};CF.InternationalSiteLinks.prototype={initialize:function(){CF.InternationalSiteLinks.callBaseMethod(this,"initialize");var e=this.get_element(),k;if(e){k=e.parentNode.getElementsByTagName("UL")[0].parentNode;b(k,"click",function(l){var m=l.target;if(m.tagName=="A"&&m.parentNode.className!=siteCode){m.href+="?source=intl-"+siteCode+"-navPF"}})}}};f(CF.InternationalSiteLinks,"CF.InternationalSiteLinks",j.UI.Behavior);CF.MasterPage=function(e){CF.MasterPage.initializeBase(this);this._idPrefix=null};CF.MasterPage.prototype={initialize:function(){CF.MasterPage.callBaseMethod(this,"initialize");var l=["InternationalSiteLinks","BookmarkUs"],o=[CF.InternationalSiteLinks,CF.BookmarkUsLink];for(var k=0;k<l.length;k++){var e=a.$get(l[k]);if(e){a.$create(o[k],null,null,null,e)}}var m=jQuery.noConflict();m(".top-tabs").delegate(".top-tabs li a","click",function(p){var q=m(this);q.click(function(r){r.stopPropagation()});q.trigger(p)});m(".cf-be-search-type .cf-container input").bind("click",function(p){p.stopPropagation()});var n=m("#page-tabstrip ul li.selected");if(n.length==0){m("#page").addClass("notab")}}};f(CF.MasterPage,"CF.MasterPage",j.Component);CF.PopupManager=null;CF._PopupManager=function(e){CF._PopupManager.initializeBase(this,[e]);this._popups=null};CF._PopupManager.prototype={initialize:function(){var e=this;CF.PopupManager=this},dispose:function(){CF._PopupManager.callBaseMethod(this,"dispose")},showPopup:function(k){var l=null;for(var e=0;e<this._popups.length;e++){if(this._popups[e].Name==k){l=this._popups[e];break}}if(l){this._showPopup(l.Url,l.Name,l.Width,l.Height,l.IsPopunder)}},_suppressExternals:function(){if(window.onunload){window.onunload=null}ftgSurveySuppress=true},_showPopup:function(m,l,n,e,k){this._suppressExternals();if(this._isPopupSuppressed(l)){return}this._openPopup(m,l,n,e,k);this._suppressPopup(l)},_openPopup:function(n,l,o,e,k){if(this._isExcluded()){return}var m=window.open(n,l,"statusbar=0,status=0,toolbar=0,location=0,menubar=0,directories=0,resizable=0,scrollbars=0,width="+o+",height="+e);if(k&&m){m.blur();window.focus()}},_getCookie:function(){if(document.cookie){var e=document.cookie.match(new RegExp("cf-popups=(.*?)(;|$)"));if(e){return e[1]}}return""},_suppressPopup:function(l){var m=this._getCookie();m=m.split(",");var k=false;for(var e=0;e<m.length;e++){if(m[e]==l){k=true;break}}if(!k){m.push(l)}document.cookie="cf-popups="+m.join(",")},_isExcluded:function(){var e=/chrome/.test(navigator.userAgent.toLowerCase());var k=/iphone/.test(navigator.userAgent.toLowerCase());if(k){return true}return false},_isPopupSuppressed:function(l){var m=this._getCookie();m=m.split(",");var k=false;for(var e=0;e<m.length;e++){if(m[e]==l){k=true;break}}return k},get_Popups:function(){return this._popups},set_Popups:function(e){this._popups=e}};f(CF._PopupManager,"CF._PopupManager",j.Component);CF.SearchProductType=function(){};CF.SearchProductType.prototype={FlightDeals:1,BookingEngine:2};g(CF.SearchProductType,"CF.SearchProductType");CF.HybridSearchBehavior=function(e){CF.HybridSearchBehavior.initializeBase(this,[e]);this._searchType=null};CF.HybridSearchBehavior.prototype={initialize:function(){CF.HybridSearchBehavior.callBaseMethod(this,"initialize")},get_searchType:function(){var e=this._fieldBehaviors[CF.BookingEngineFieldType.SearchType];return(e?e.get_value():this._searchType)},set_searchType:function(e){this._searchType=e},doStartupCheck:function(){CF.HybridSearchBehavior.callBaseMethod(this,"doStartupCheck");this.checkStartUpChange(this._searchType,CF.BookingEngineFieldType.SearchType)},createBehaviorInfos:function(k){var m=CF.HybridSearchBehavior.callBaseMethod(this,"createBehaviorInfos",[k]),e=CF.BookingEngineFieldType,l=this.get_searchType()==CF.SearchProductType.FlightDeals;function n(o){var p=m[o].properties;if(l){p.productType=""}p.suggestionsClassName="top-bar-sugg"}m[e.SearchType]={type:CF.BookingEngineRadioButtonListFieldBehavior,events:{propertyChanged:k}};n(e.DepartureRegion);n(e.DestinationRegion);return m},createFieldRules:function(){var l=CF.HybridSearchBehavior.callBaseMethod(this,"createFieldRules"),e,k;for(e=0;e<l.length;e++){k=l[e];if(jQuery.isArray(k)){k=k[0]}if(k){k.beOnly=(e!=CF.BookingEngineFieldType.DepartureRegion&&e!=CF.BookingEngineFieldType.DestinationRegion)}}return l},createRuleTester:function(){var k=CF.HybridSearchBehavior.callBaseMethod(this,"createRuleTester"),e=this.get_searchType()==CF.SearchProductType.BookingEngine;return function(l){return l?k(l)&&(e||!l.beOnly):true}},onPrincipalFieldValueChanged:function(k){if(k!=CF.BookingEngineFieldType.SearchType){CF.HybridSearchBehavior.callBaseMethod(this,"onPrincipalFieldValueChanged",[k])}else{var e=this.get_fieldBehaviors(),n=this.get_searchType(),l=n==CF.SearchProductType.FlightDeals,m=l?"":"be";e[CF.BookingEngineFieldType.DepartureRegion].set_productType(m);e[CF.BookingEngineFieldType.DestinationRegion].set_productType(m);this.get_CssContainer().className="cf-st-"+CF.SearchProductType.toString(this.get_searchType());this.updateFieldVisibility();if(_tag){_dcsMultiTrack(["DCS.dcsuri",l?"/dateflexible.null":"/datefixed.null","WT.cg_n",_tag.WT.sp+(l?" Date Preference Flexible":" Date Preference Fixed"),"WT.cg_s",""])}CF.Track.trackAdditional("DateSwitch",l?"Flexible":"Fixed")}},displayErrors:function(m){var n=(m&&m.get_errorCount()>0),o=this._errorPanel;if(n&&!o){var l=this.get_element(),k=document,e=k.getElementById(l.id+"_errors")||k.createElement("div");l.appendChild(e);o=this._errorPanel=a.$create(CF._ErrorPopup,null,null,null,e)}if(o){o.displayErrors(m,this.get_resources())}this.highlightFieldsWithErrors(m)},doSearch:function(e){if(CF.PopupManager&&this.get_searchType()==CF.SearchProductType.FlightDeals){CF.PopupManager.showPopup("search")}return CF.HybridSearchBehavior.callBaseMethod(this,"doSearch",[e])},logSearchRequest:function(e){if(this.get_searchType()==CF.SearchProductType.BookingEngine){CF.HybridSearchBehavior.callBaseMethod(this,"logSearchRequest",[e])}}};f(CF.HybridSearchBehavior,"CF.HybridSearchBehavior",CF.BookingEngineStepOneBehavior);CF._ErrorPopup=function(e){CF._ErrorPopup.initializeBase(this,[e])};CF._ErrorPopup.prototype={displayErrors:function(n,t){var o=(n&&n.get_errorCount()>0),s=this.get_element();if(o){var k=document,m=k.createElement("div"),p=[],r=n.getMessages(),q;function l(u){m.innerHTML="";if(u){m.appendChild(k.createTextNode(u))}return m.innerHTML}function e(u){p.push(u);return e}e("<div class='cf-top'></div><div class='cf-container'><div class='cf-icon'></div><h2>")(l(t.ErrorHeader))("</h2><ul>");for(q=0;q<r.length;q++){if(r[q]&&typeof r[q]=="string"){e("<li>")(l(r[q]))("</li>")}}e("</ul></div><div class='cf-bottom'></div>");s.className="cf-errors";s.innerHTML=p.join("");s.style.display="";s.style.top=-s.offsetHeight+"px"}else{s.style.display="none"}}};f(CF._ErrorPopup,"CF._ErrorPopup",j.UI.Behavior);CF.GuideSearch=function(e){CF.GuideSearch.initializeBase(this,[e]);this._searchButtonClick$=c(this,this._searchButtonClick)};CF.GuideSearch.prototype={initialize:function(){CF.GuideSearch.callBaseMethod(this,"initialize");var k=this.get_element(),e=a.$get(k.id+"_destination");if(e){this._destinationBehavor=a.$create(CF.RegionTextBoxBehavior,{originsOnly:false,productType:"guide",suggestionsClassName:"top-bar-sugg"},null,null,e);var l=this._searchButton=a.$get(k.id+"_searchButton");if(l){if(typeof __doPostBack=="function"){this._onKeyDown$=c(this,this._onKeyDown);b(k,"keydown",this._onKeyDown$)}b(l,"click",this._searchButtonClick$)}}},_searchButtonClick:function(k){this._doSearch();k.preventDefault()},_onKeyDown:function(k){if(k.keyCode==j.UI.Key.enter&&k.target.tagName=="INPUT"){this._doSearch();k.preventDefault()}},_doSearch:function(){var k=null,m=CF.MasterPageResources;if(this._destinationBehavor.get_value()){__doPostBack(this._searchButton.name,"");this._logSearch()}else{k={get_errorCount:function(){return 1},getMessages:function(){return[m.MissingDestinationError]}}}var l=this._errorPanel;if(k&&!l){var e=document.createElement("div");this.get_element().appendChild(e);l=this._errorPanel=a.$create(CF._ErrorPopup,null,null,null,e)}if(l){l.displayErrors(k,m)}},_logSearch:function(){}};f(CF.GuideSearch,"CF.GuideSearch",j.UI.Behavior);CF.SocialMediaLinks=function(e){CF.SocialMediaLinks.initializeBase(this,[e]);this._click$=c(this,this._click)};CF.SocialMediaLinks.prototype={initialize:function(){CF.SocialMediaLinks.callBaseMethod(this,"initialize");b(this.get_element(),"click",this._click$)},_click:function(k){if(k.target.tagName=="A"&&_tag){_dcsMultiTrack(["DCS.dcsuri","/socialmedialink.null","WT.cg_n",_tag.WT.sp+"Social Media Link","WT.cg_s",k.target.className.substr(3)])}}};f(CF.SocialMediaLinks,"CF.SocialMediaLinks",j.UI.Behavior);CF.PopularityPopupLink=function(e){CF.PopularityPopupLink.initializeBase(this,[e])};CF.PopularityPopupLink.prototype={initialize:function(){CF.PopularityPopupLink.callBaseMethod(this,"initialize");if(j.Browser.agent==j.Browser.InternetExplorer&&j.Browser.version<7){this._ie6Fix=new Image();this._ie6Fix.src=j.Net.UrlResolver.resolveStaticsUrl("/images/master/popup-ClWcKg.png")}},get_panel:function(){return this._panel},set_panel:function(e){this._panel=e},get_popupTitle:function(){return this._popupTitle},set_popupTitle:function(e){this._popupTitle=e},onClick:function(n){var o=this.get_element(),r=this._popup,m=document,l=m.body;if(!r){r=this._popup=m.createElement("div");r.className="pl-popup";r.innerHTML="<ins class='pl-arrow'></ins><ins class='pl-top'></ins><div class='pl-container'><h2></h2><button></button><span class='pl-content clearfix'></span></div><ins class='pl-bottom'></ins>";r.getElementsByTagName("h2")[0].appendChild(m.createTextNode(this.get_popupTitle()));this._onPopupButtonClick$=c(this,this._onPopupButtonClick);b(r.getElementsByTagName("button")[0],"click",this._onPopupButtonClick$);r.getElementsByTagName("span")[0].appendChild(this.get_panel());r.style.visibility="hidden";l.appendChild(r);this._popupHeight=r.offsetHeight;r.style.visibility="visible";l.removeChild(r)}var k=jQuery,p=k(o).offset(),q={message:k(r),centerY:false,centerX:false,baseZ:500,css:{width:"auto",left:p.left+o.offsetWidth,top:p.top-this._popupHeight,border:"0",backgroundColor:"transparent",cursor:"default",position:"absolute"},overlayCSS:{cursor:"default"},fadeIn:0,fadeOut:0};k.blockUI(q)},_onPopupButtonClick:function(k){jQuery.unblockUI();k.preventDefault()}};f(CF.PopularityPopupLink,"CF.PopularityPopupLink",CF._ClickableBehavour);if(j.Browser.agent==j.Browser.InternetExplorer&&j.Browser.version<7){try{document.body.style.behavior='url("/style/behaviours/csshover3.htc")';document.execCommand("BackgroundImageCache",false,true)}catch(i){}}}).apply(window,typeof CF=="object"&&CF.Sys?[CF,CF.Type.registerClass,CF.Type.registerEnum]:[window,function(b,c,a){b.registerClass(c,a)},function(c,b,a){c.registerEnum(b,a)}]);(function(a){a("body").configuredpartials({pageType:CF.pageType})}(jQuery));CF.MasterPageResources={ErrorHeader:"Please complete all fields",MissingDestinationError:"Please enter your destination."};