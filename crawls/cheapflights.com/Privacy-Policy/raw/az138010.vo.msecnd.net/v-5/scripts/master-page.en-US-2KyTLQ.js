function namespace(b){var c=b.split("."),d=window,f="";for(var a=0,e=c.length;a<e;a++){f=c[a];d[f]=d[f]||{};d=d[f]}return d}(function(f,i,b){var c=f.Sys,g=f.$addHandler,j=f.$removeHandler,a=f.Function.createDelegate;var d=3000;f.Type.registerNamespace("CF");CF.UserPreferences=function(){};CF.UserPreferences.prototype={Default:0,SuppressNewsletterPopup:8,SuppressNewsletterTray:16,SuppressNewsletterPopupV2:24};b(CF.UserPreferences,"CF.UserPreferences",true);CF.Cookie=function(m,k,e,l){this._name=m;this._defaultValue=k;this._parseValue=e;this._expires=l;this._value=null};CF.Cookie.prototype={get_value:function(){if(this._value==null){this._value=this._defaultValue||"";if(document.cookie){var e=document.cookie.match(new RegExp(this._name+"=(.*?)(;|$)"));if(e){this._value=this._parseValue?this._parseValue(e[1]):e[1]}}}return this._value},set_value:function(k){var e=this._expires;if(!e){e=new Date();e.setFullYear(e.getFullYear()+5)}document.cookie=this._name+"="+k.toString()+"; path=/; expires="+e.toUTCString()+";";this._value=k}};CF.PreferencesCookie=new CF.Cookie("cf-pref",CF.UserPreferences.Default,function(e){return parseInt(e,10)});CF.NewsletterPopup=function(e){CF.NewsletterPopup.initializeBase(this,[e]);this._onClick$=null;this._newsletterSignupUrl=null};CF.NewsletterPopup.prototype={initialize:function(){CF.NewsletterPopup.callBaseMethod(this,"initialize");var e=this.get_element();if(e&&(CF.PreferencesCookie.get_value()&CF.UserPreferences.SuppressNewsletterPopup)==0){var k=document.createElement("form");k.action=this.get_newsletterSignupUrl();k.method="post";document.body.appendChild(k);k.appendChild(e);this._onClick$=a(this,this._onClick);g(e,"click",this._onClick$);if(typeof NLPopupSS=="function"){NLPopupSS()}e.style.visibility="visible"}},dispose:function(){if(this._onClick$){j(this.get_element(),"click",this._onClick$)}CF.NewsletterPopup.callBaseMethod(this,"dispose")},get_newsletterSignupUrl:function(){return this._newsletterSignupUrl},set_newsletterSignupUrl:function(e){this._newsletterSignupUrl=e},_onClick:function(k){if((k.target.tagName=="INPUT"&&(k.target.type=="submit"||k.target.type=="button"))||(k.target.tagName=="A"&&k.target.className=="closelink")){CF.PreferencesCookie.set_value(CF.PreferencesCookie.get_value()|CF.UserPreferences.SuppressNewsletterPopup);this.get_element().style.visibility="hidden"}}};i(CF.NewsletterPopup,"CF.NewsletterPopup",c.UI.Behavior);CF.BreadcrumbMenu=function(e){CF.BreadcrumbMenu.initializeBase(this,[e]);this._onClick$=null;this._popup=null;this._popupLink=null;this._popupId=null;this._popupLinkId=null;this._isPopupVisible=false;this._popupTopOffset=18};CF.BreadcrumbMenu.prototype={initialize:function(){CF.BreadcrumbMenu.callBaseMethod(this,"initialize");var e=this.get_element();var k=jQuery.noConflict();if(e){this._onClick$=a(this,this._onClick);g(e,"click",this._onClick$);this._popup=k("#"+this.get_popupId());this._popupLink=k(this.get_element());this._popup.css("left",this._popupLink.position().left).css("top",this._popupLink.position().top+this._popupTopOffset)}},dispose:function(){if(this._onClick$){j(this.get_element(),"click",this._onClick$)}CF.BreadcrumbMenu.callBaseMethod(this,"dispose")},_onClick:function(k){k.preventDefault();var l=jQuery.noConflict();if(this._isPopupVisible){this._popup.hide();this._isPopupVisible=false;this._popupLink.removeClass("chevron-selected")}else{this._popup.show();this._isPopupVisible=true;this._popupLink.addClass("chevron-selected")}return false},get_popupId:function(){return this._popupId},set_popupId:function(e){this._popupId=e},get_popupLinkId:function(){return this._popupLinkId},set_popupLinkId:function(e){this._popupLinkId=e}};i(CF.BreadcrumbMenu,"CF.BreadcrumbMenu",c.UI.Behavior);CF._ClickableBehavour=function(e){CF._ClickableBehavour.initializeBase(this,[e]);this.onClick$=null};CF._ClickableBehavour.prototype={initialize:function(){CF._ClickableBehavour.callBaseMethod(this,"initialize");var e=this.get_element();if(e){this.onClick$=a(this,this.onClick);if(e.tagName=="A"){e.href="javascript:void(0);"}g(e,"click",this.onClick$)}},dispose:function(){if(this.onClick$){j(this.get_element(),"click",this.onClick$)}CF._ClickableBehavour.callBaseMethod(this,"dispose")},onClick:function(k){}};i(CF._ClickableBehavour,"CF._ClickableBehavour",c.UI.Behavior);CF.BookmarkUsLink=function(e){CF.BookmarkUsLink.initializeBase(this,[e])};CF.BookmarkUsLink.prototype={onClick:function(k){if(c.Browser.agent==c.Browser.InternetExplorer){window.external.AddFavorite(location.href,document.title)}else{if(window.sidebar){window.sidebar.addPanel(document.title,location.href,"")}}}};i(CF.BookmarkUsLink,"CF.BookmarkUsLink",CF._ClickableBehavour);CF.ExpandoBehavour=function(e){CF.ExpandoBehavour.initializeBase(this,[e])};CF.ExpandoBehavour.prototype={initialize:function(){this._hideClassName=null;this._hideText=null;CF.ExpandoBehavour.callBaseMethod(this,"initialize")},get_panel:function(){return this._panel},set_panel:function(e){this._panel=e},get_showClassName:function(){return this._showClassName},set_showClassName:function(e){this._showClassName=e},get_showText:function(){return this._showText},set_showText:function(e){this._showText=e},onClick:function(p){var l=this.get_element(),o=this.get_panel(),k=o.style,n=(k.display!="block"),q=l.firstChild,m;while(q){if(q.nodeType===3){m=q;break}q=q.nextSibling}if(n){if(this.get_showClassName()){this._hideClassName=l.className;l.className=this.get_showClassName()}if(m&&this.get_showText()){this._hideText=m.nodeValue;m.nodeValue=this.get_showText()}k.display="block"}else{k.display="none";if(this._hideClassName!=null){l.className=this._hideClassName}if(this._hideText!=null&&m){m.nodeValue=this._hideText}}if(p){p.preventDefault();p.stopPropagation()}}};i(CF.ExpandoBehavour,"CF.ExpandoBehavour",CF._ClickableBehavour);CF.InternationalSiteLinks=function(e){CF.InternationalSiteLinks.initializeBase(this,[e])};CF.InternationalSiteLinks.prototype={initialize:function(){CF.InternationalSiteLinks.callBaseMethod(this,"initialize");var e=this.get_element(),k;if(e){k=e.parentNode.getElementsByTagName("UL")[0].parentNode;this.set_panel(k);this.set_showClassName("intl-link intl-link-act");g(k,"click",function(l){var m=l.target;if(m.tagName=="A"&&m.parentNode.className!=siteCode){m.href+="?source=intl-"+siteCode+"-navPF"}})}}};i(CF.InternationalSiteLinks,"CF.InternationalSiteLinks",CF.ExpandoBehavour);CF.MasterPage=function(e){CF.MasterPage.initializeBase(this);this._idPrefix=null};CF.MasterPage.prototype={initialize:function(){CF.MasterPage.callBaseMethod(this,"initialize");var e=["InternationalSiteLinks","BookmarkUs"],o=[CF.InternationalSiteLinks,CF.BookmarkUsLink];for(var l=0;l<e.length;l++){var k=f.$get(e[l]);if(k){f.$create(o[l],null,null,null,k)}}var m=jQuery.noConflict();m(".top-tabs").delegate(".top-tabs li a","click",function(r){var q=m(this),p=q.attr("data-unica-track")!=""?"ev="+q.attr("data-unica-track")+"&pv=1":"";q.click(function(s){s.stopPropagation();(p=="undefined"||p=="")?p=null:ntptEventTag(p)});q.trigger(r)});m(".cf-be-search-type .cf-container input").bind("click",function(r){r.stopPropagation();var q=m(this).parents(".cf-be-search-type .cf-container"),p=q.attr("data-unica-track");p==""?p=null:ntptEventTag("ev="+p)});var n=m("#page-tabstrip ul li.selected");if(n.length==0){m("#page").addClass("notab")}}};i(CF.MasterPage,"CF.MasterPage",c.Component);CF.PopupManager=null;CF._PopupManager=function(e){CF._PopupManager.initializeBase(this,[e]);this._popups=null};CF._PopupManager.prototype={initialize:function(){var e=this;CF.PopupManager=this},dispose:function(){CF._PopupManager.callBaseMethod(this,"dispose")},showPopup:function(l){var k=null;for(var e=0;e<this._popups.length;e++){if(this._popups[e].Name==l){k=this._popups[e];break}}if(k){this._showPopup(k.Url,k.Name,k.Width,k.Height,k.IsPopunder)}},_suppressExternals:function(){if(window.onunload){window.onunload=null}ftgSurveySuppress=true},_showPopup:function(e,n,l,k,m){this._suppressExternals();if(this._isPopupSuppressed(n)){return}this._openPopup(e,n,l,k,m);this._suppressPopup(n)},_openPopup:function(m,n,k,e,o){if(this._isExcluded()){return}var l=window.open(m,n,"statusbar=0,status=0,toolbar=0,location=0,menubar=0,directories=0,resizable=0,scrollbars=0,width="+k+",height="+e);if(o&&l){l.blur();window.focus()}},_getCookie:function(){if(document.cookie){var e=document.cookie.match(new RegExp("cf-popups=(.*?)(;|$)"));if(e){return e[1]}}return""},_suppressPopup:function(m){var k=this._getCookie();k=k.split(",");var l=false;for(var e=0;e<k.length;e++){if(k[e]==m){l=true;break}}if(!l){k.push(m)}document.cookie="cf-popups="+k.join(",")},_isExcluded:function(){var e=/chrome/.test(navigator.userAgent.toLowerCase());var k=/iphone/.test(navigator.userAgent.toLowerCase());if(k){return true}return false},_isPopupSuppressed:function(m){var k=this._getCookie();k=k.split(",");var l=false;for(var e=0;e<k.length;e++){if(k[e]==m){l=true;break}}return l},get_Popups:function(){return this._popups},set_Popups:function(e){this._popups=e}};i(CF._PopupManager,"CF._PopupManager",c.Component);CF.SearchProductType=function(){};CF.SearchProductType.prototype={FlightDeals:1,BookingEngine:2};b(CF.SearchProductType,"CF.SearchProductType");CF.HybridSearchBehavior=function(e){CF.HybridSearchBehavior.initializeBase(this,[e]);this._searchType=null};CF.HybridSearchBehavior.prototype={initialize:function(){CF.HybridSearchBehavior.callBaseMethod(this,"initialize")},get_searchType:function(){var e=this._fieldBehaviors[CF.BookingEngineFieldType.SearchType];return(e?e.get_value():this._searchType)},set_searchType:function(e){this._searchType=e},doStartupCheck:function(){CF.HybridSearchBehavior.callBaseMethod(this,"doStartupCheck");this.checkStartUpChange(this._searchType,CF.BookingEngineFieldType.SearchType)},createBehaviorInfos:function(n){var e=CF.HybridSearchBehavior.callBaseMethod(this,"createBehaviorInfos",[n]),k=CF.BookingEngineFieldType,m=this.get_searchType()==CF.SearchProductType.FlightDeals;function l(p){var o=e[p].properties;if(m){o.productType=""}o.suggestionsClassName="top-bar-sugg"}e[k.SearchType]={type:CF.BookingEngineRadioButtonListFieldBehavior,events:{propertyChanged:n}};l(k.DepartureRegion);l(k.DestinationRegion);return e},createFieldRules:function(){var e=CF.HybridSearchBehavior.callBaseMethod(this,"createFieldRules"),l,k;for(l=0;l<e.length;l++){k=e[l];if(k){k.beOnly=(l!=CF.BookingEngineFieldType.DepartureRegion&&l!=CF.BookingEngineFieldType.DestinationRegion)}}return e},createRuleTester:function(){var k=CF.HybridSearchBehavior.callBaseMethod(this,"createRuleTester"),e=this.get_searchType()==CF.SearchProductType.BookingEngine;return function(l){return l?k(l)&&(e||!l.beOnly):true}},onPrincipalFieldValueChanged:function(n){if(n!=CF.BookingEngineFieldType.SearchType){CF.HybridSearchBehavior.callBaseMethod(this,"onPrincipalFieldValueChanged",[n])}else{var l=this.get_fieldBehaviors(),k=this.get_searchType(),m=k==CF.SearchProductType.FlightDeals,e=m?"":"be";l[CF.BookingEngineFieldType.DepartureRegion].set_productType(e);l[CF.BookingEngineFieldType.DestinationRegion].set_productType(e);this.get_CssContainer().className="cf-st-"+CF.SearchProductType.toString(this.get_searchType());this.updateFieldVisibility();if(_tag){_dcsMultiTrack(["DCS.dcsuri",m?"/dateflexible.null":"/datefixed.null","WT.cg_n",_tag.WT.sp+(m?" Date Preference Flexible":" Date Preference Fixed"),"WT.cg_s",""])}}},displayErrors:function(m){var k=(m&&m.get_errorCount()>0),l=this._errorPanel;if(k&&!l){var e=this.get_element(),n=document,o=n.getElementById(e.id+"_errors")||n.createElement("div");e.appendChild(o);l=this._errorPanel=f.$create(CF._ErrorPopup,null,null,null,o)}if(l){l.displayErrors(m,this.get_resources())}this.highlightFieldsWithErrors(m)},doSearch:function(e){ntptAddPair("text",e.DepartureRegion.Text+" "+e.DestinationRegion.Text);if(CF.PopupManager&&this.get_searchType()==CF.SearchProductType.FlightDeals){CF.PopupManager.showPopup("search")}return CF.HybridSearchBehavior.callBaseMethod(this,"doSearch",[e])},logSearchRequest:function(e){if(this.get_searchType()==CF.SearchProductType.BookingEngine){CF.HybridSearchBehavior.callBaseMethod(this,"logSearchRequest",[e])}}};i(CF.HybridSearchBehavior,"CF.HybridSearchBehavior",CF.BookingEngineStepOneBehavior);CF._ErrorPopup=function(e){CF._ErrorPopup.initializeBase(this,[e])};CF._ErrorPopup.prototype={displayErrors:function(q,o){var m=(q&&q.get_errorCount()>0),p=this.get_element();if(m){var r=document,e=r.createElement("div"),n=[],t=q.getMessages(),k;function s(u){e.innerHTML="";if(u){e.appendChild(r.createTextNode(u))}return e.innerHTML}function l(u){n.push(u);return l}l("<div class='cf-top'></div><div class='cf-container'><div class='cf-icon'></div><h2>")(s(o.ErrorHeader))("</h2><ul>");for(k=0;k<t.length;k++){if(t[k]&&typeof t[k]=="string"){l("<li>")(s(t[k]))("</li>")}}l("</ul></div><div class='cf-bottom'></div>");p.className="cf-errors";p.innerHTML=n.join("");p.style.display="";p.style.top=-p.offsetHeight+"px"}else{p.style.display="none"}}};i(CF._ErrorPopup,"CF._ErrorPopup",c.UI.Behavior);CF.GuideSearch=function(e){CF.GuideSearch.initializeBase(this,[e]);this._searchButtonClick$=a(this,this._searchButtonClick)};CF.GuideSearch.prototype={initialize:function(){CF.GuideSearch.callBaseMethod(this,"initialize");var k=this.get_element(),l=f.$get(k.id+"_destination");if(l){this._destinationBehavor=f.$create(CF.RegionTextBoxBehavior,{originsOnly:false,productType:"guide",suggestionsClassName:"top-bar-sugg"},null,null,l);var e=this._searchButton=f.$get(k.id+"_searchButton");if(e){if(typeof __doPostBack=="function"){this._onKeyDown$=a(this,this._onKeyDown);g(k,"keydown",this._onKeyDown$)}g(e,"click",this._searchButtonClick$)}}},_searchButtonClick:function(k){this._doSearch();k.preventDefault()},_onKeyDown:function(k){if(k.keyCode==c.UI.Key.enter&&k.target.tagName=="INPUT"){this._doSearch();k.preventDefault()}},_doSearch:function(){var k=null,m=CF.MasterPageResources;if(this._destinationBehavor.get_value()){__doPostBack(this._searchButton.name,"");this._logSearch()}else{k={get_errorCount:function(){return 1},getMessages:function(){return[m.MissingDestinationError]}}}var e=this._errorPanel;if(k&&!e){var l=document.createElement("div");this.get_element().appendChild(l);e=this._errorPanel=f.$create(CF._ErrorPopup,null,null,null,l)}if(e){e.displayErrors(k,m)}},_logSearch:function(){}};i(CF.GuideSearch,"CF.GuideSearch",c.UI.Behavior);CF.SocialMediaLinks=function(e){CF.SocialMediaLinks.initializeBase(this,[e]);this._click$=a(this,this._click)};CF.SocialMediaLinks.prototype={initialize:function(){CF.SocialMediaLinks.callBaseMethod(this,"initialize");g(this.get_element(),"click",this._click$)},_click:function(k){if(k.target.tagName=="A"&&_tag){_dcsMultiTrack(["DCS.dcsuri","/socialmedialink.null","WT.cg_n",_tag.WT.sp+"Social Media Link","WT.cg_s",k.target.className.substr(3)])}}};i(CF.SocialMediaLinks,"CF.SocialMediaLinks",c.UI.Behavior);CF.PopularityPopupLink=function(e){CF.PopularityPopupLink.initializeBase(this,[e])};CF.PopularityPopupLink.prototype={initialize:function(){CF.PopularityPopupLink.callBaseMethod(this,"initialize");if(c.Browser.agent==c.Browser.InternetExplorer&&c.Browser.version<7){this._ie6Fix=new Image();this._ie6Fix.src=c.Net.UrlResolver.resolveStaticsUrl("/images/master/popup-ClWcKg.png")}},get_panel:function(){return this._panel},set_panel:function(e){this._panel=e},get_popupTitle:function(){return this._popupTitle},set_popupTitle:function(e){this._popupTitle=e},onClick:function(r){var k=this.get_element(),n=this._popup,q=document,l=q.body;if(!n){n=this._popup=q.createElement("div");n.className="pl-popup";n.innerHTML="<ins class='pl-arrow'></ins><ins class='pl-top'></ins><div class='pl-container'><h2></h2><button></button><span class='pl-content clearfix'></span></div><ins class='pl-bottom'></ins>";n.getElementsByTagName("h2")[0].appendChild(q.createTextNode(this.get_popupTitle()));this._onPopupButtonClick$=a(this,this._onPopupButtonClick);g(n.getElementsByTagName("button")[0],"click",this._onPopupButtonClick$);n.getElementsByTagName("span")[0].appendChild(this.get_panel());n.style.visibility="hidden";l.appendChild(n);this._popupHeight=n.offsetHeight;n.style.visibility="visible";l.removeChild(n)}var m=jQuery,o=m(k).offset(),p={message:m(n),centerY:false,centerX:false,baseZ:500,css:{width:"auto",left:o.left+k.offsetWidth,top:o.top-this._popupHeight,border:"0",backgroundColor:"transparent",cursor:"default",position:"absolute"},overlayCSS:{cursor:"default"},fadeIn:0,fadeOut:0};m.blockUI(p)},_onPopupButtonClick:function(k){jQuery.unblockUI();k.preventDefault()}};i(CF.PopularityPopupLink,"CF.PopularityPopupLink",CF._ClickableBehavour);if(c.Browser.agent==c.Browser.InternetExplorer&&c.Browser.version<7){try{document.body.style.behavior='url("/style/behaviours/csshover3.htc")';document.execCommand("BackgroundImageCache",false,true)}catch(h){}}}).apply(window,typeof CF=="object"&&CF.Sys?[CF,CF.Type.registerClass,CF.Type.registerEnum]:[window,function(b,c,a){b.registerClass(c,a)},function(b,c,a){b.registerEnum(c,a)}]);(function(a){a("body").configuredpartials()}(jQuery));CF.MasterPageResources={MissingDestinationError:"Please enter your destination.",ErrorHeader:"Please complete all fields"};