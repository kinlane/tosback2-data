var gParamPrefix="cf_cp_";var DCS_RED_TAG3_SELECT_DEAL_PAGE_URL="/mvc/flightdeals/selectdeal.mvc";function LogToSS(d){if(typeof _tag==="undefined"){return}var b={};if(typeof d=="string"){if(d.indexOf("/goto.asp")==-1&&d.indexOf(DCS_RED_TAG3_SELECT_DEAL_PAGE_URL)==-1){return}b=GetQueryString(d,b)}else{b=d}if(b.t!=undefined){b.t=unescape(b.t)}var a=new Array();SetWT(original_WT_cg_n+"(y="+b.y+")",a,b.y);SetDCSext(b,a,true);SetCfSourceCookie(a);_dcsMultiTrack(a);if(gExitClickHandlers){for(var c=0;c<gExitClickHandlers.length;c++){gExitClickHandlers[c](b)}}}function LogToTagMan(a){if(window.LEV&&LEV.TML){LEV.TML.iframe=function(){var b={d:"pfa.levexis.com",c:"cheapflights",ci:GetTagManContainerID(),pr:"1",p:""};var f="//"+b.d+"/"+b.c+"/tman.cgi/tmcontid="+b.ci+"&pageref="+b.pr;var e=[];if(typeof tmParam=="object"){for(i in tmParam){if(tmParam.hasOwnProperty(i)){e.push(i+"="+escape(tmParam[i]))}}}var d=e.join("&");var c=f+"&tmtag=iframe&"+(tmPageId?"tmpageid="+tmPageId+"&":"")+d;var g=LEV.extend(document.createElement("iframe"),{src:c});LEV.extend(g.style,{width:"18",height:"18",border:"0",position:"absolute",top:"0",left:"-999em"});document.body.appendChild(g)};LEV.TML.iframe()}}function GetTagManContainerID(){switch(siteCode){case"CFUK":return"6";case"CFUS":return"7";case"CFCA":return"8";case"CFDE":return"9";case"CFAU":return"30";case"CFES":return"32";case"CFFR":return"34";case"CFIT":return"36";default:return"0"}}function JSC(c,d){if(c.href.length>0&&c.href.indexOf("/goto.asp")==-1&&c.href.indexOf(DCS_RED_TAG3_SELECT_DEAL_PAGE_URL)==-1){var b="/goto.aspx?";if(d&&d.length>0){b+=d+"&"}b+="v="+_tag.DCSext.cf_v+"&t="+escape(c.href);c.href=b}SetUparam(c);if(typeof _tag!="undefined"){SetVparam(c,_tag.DCSext.cf_v)}var a=createEid();c.href=AddParamToUrl(c.href,"eid",a);c.href=AddClickDuplicateDetectionHashToUrl(c.href);logExitEvent(c.href,a)}function AddClickDuplicateDetectionHashToUrl(c){var a=ExtractParamFromUrl(c,"clickoutid");if(a){return c}var b=CreateDuplicateClickDetectionHashFromUrl(c);c=AddParamToUrl(c,"clickoutid",b);return c}function LogToiJento(a){iJLogClickout(a)}function trackiJentoEvent(b,a,c){sitracker.sendAdditionalTracer("/event","evtype="+b+"&action="+a+"&subtype="+c)}function logExitEvent(b,a){LogToiJento(b);LogToSS(b);if(typeof _tag!="undefined"&&_tag.DCSext){if(_tag.DCSext.pagedep&&_tag.DCSext.pagedest){if(tmParam){tmParam.route=_tag.DCSext.pagedep+"_"+_tag.DCSext.pagedest}}}if(tmParam){tmParam.eid=a}LogToTagMan(b)}function logSearchEvent(a,b){}function MomondoPopunderExit(){}function PSExit(g,d,e,c,h,f){var b=(d)?"permanent":"temporary";var a=[];a.push("WT.sp",_tag.WT.sp);a.push("WT.cg_n","FLAG Exit");a.push("WT.cg_s",g);a.push("DCSext.cf_v",_tag.DCSext.cf_v);a.push("DCS.dcsref",window.location.href);a.push("DCS.dcsuri",window.location.pathname);a.push("DCSext.cookie",b);a.push("DCSext.redirect",e);a.push("DCSext.geoip",c);a.push("DCSext.xref",h);a.push("DCSext.returnPath",f);_dcsMultiTrack(a)}function BENewSearch(b){var a=new Array();a[a.length]="DCS.dcsuri";a[a.length]=b;a[a.length]="DCS.dcsref";a[a.length]=window.location.href;if(typeof _tag!=="undefined"){a[a.length]="WT.cg_n";a[a.length]=_tag.WT.sp+" BE New Search";a[a.length]="WT.cg_s";a[a.length]=_tag.WT.cg_n}_dcsMultiTrack(a)}function BEsearch(b,f,p,j,g,e,c,o,h,m,k,l,n,d){var a=new Array();a[a.length]="DCS.dcsuri";a[a.length]=b;a[a.length]="DCS.dcsref";a[a.length]=window.location.href;a[a.length]="DCSext.cf_sp_from";a[a.length]=f;a[a.length]="DCSext.cf_sp_to";a[a.length]=p;if(typeof _tag!=="undefined"){a[a.length]="WT.cg_n";a[a.length]=_tag.WT.sp+" BE Search";a[a.length]="WT.cg_s";a[a.length]=_tag.WT.cg_n}a[a.length]="DCSext.pd";a[a.length]=j;a[a.length]="DCSext.journey";a[a.length]=g;a[a.length]="DCSext.cls";a[a.length]=e;a[a.length]="DCSext.advance";a[a.length]=c;a[a.length]="DCSext.stay";a[a.length]=o;a[a.length]="DCSext.otime";a[a.length]=h;a[a.length]="DCSext.rtime";a[a.length]=m;a[a.length]="DCSext.psgrs";a[a.length]=k;a[a.length]="DCSext.rooms";a[a.length]=l;a[a.length]="DCSext.stars";a[a.length]=n;a[a.length]="DCSext.age";a[a.length]=d;_dcsMultiTrack(a)}function SFSS(c,e){var b=c?document.getElementById(c):null;var d=document.getElementById(e);if(d){var a=[];a.push("DCS.dcsuri","/search");a.push("DCS.dcsref",window.location.href);a.push("WT.sp",_tag.WT.sp);a.push("DCSext.cf_v",_tag.DCSext.cf_v);a.push("WT.cg_n",_tag.WT.sp+" Search");a.push("WT.cg_s",_tag.WT.cg_n);if(b){a.push("DCSext.cf_sp_from",b.value)}a.push("DCSext.cf_sp_to",d.value);_dcsMultiTrack(a)}}function SSMultiTrack(c,b){var a=[];a.push("DCS.dcsuri","/"+c);a.push("DCS.dcsref",window.location.href);a.push("WT.sp",_tag.WT.sp);a.push("DCSext.cf_v",_tag.DCSext.cf_v);a.push("WT.cg_n",_tag.WT.sp+" "+b);_dcsMultiTrack(a)}function CFMultiTrack(c,b){var a=[];a.push("DCS.dcsuri",c);a.push("DCS.dcsref",window.location.href);a.push("WT.sp",_tag.WT.sp);a.push("DCSext.cf_v",_tag.DCSext.cf_v);a.push("WT.cg_n",_tag.WT.sp+" zugu popunder transfer");_dcsMultiTrack(a)}function NLPopupSS(){var a=[];a.push("DCS.dcsuri","/newsletter-popup");a.push("DCS.dcsref",window.location.href);a.push("WT.sp",_tag.WT.sp);a.push("DCSext.cf_v",_tag.DCSext.cf_v);a.push("WT.cg_n",_tag.WT.sp+" Newsletter Popup");_dcsMultiTrack(a)}function AddThisPopupSS(){var a=[];a.push("DCS.dcsuri","/share-popup");a.push("DCS.dcsref",window.location.href);a.push("WT.sp",_tag.WT.sp);a.push("DCSext.cf_v",_tag.DCSext.cf_v);a.push("WT.cg_n",_tag.WT.sp+" Share Popup");a.push("WT.cg_s",_getOrgTag().WT.cg_n);_dcsMultiTrack(a)}function AddThisClickSS(b){var a=[];a.push("DCS.dcsuri","/share-popup");a.push("DCS.dcsref",window.location.href);a.push("WT.sp",_tag.WT.sp);a.push("DCSext.cf_v",_tag.DCSext.cf_v);a.push("WT.cg_n",_tag.WT.sp+" Share Submission");a.push("WT.cg_s",b);_dcsMultiTrack(a)}function MTrackDealPageAction(f,b,e,c,d){var a=[];a.push("DCS.dcsuri",f);if(b&&e){a.push("DCS.dcsqry","brand="+b+"&pos="+e)}a.push("WT.cg_n",c);a.push("WT.cg_s",d);_dcsMultiTrack(a);_tag.DCS.dcsuri=_tag.DCS.dcsqry=_tag.WT.cg_n=_tag.WT.cg_s=""}function MTrackDealPageModifySearchAction(f,d,e,b,c){var a=[];a.push("DCS.dcsuri",f);a.push("DCS.dcsqry","cf_sp_from="+d+"&cf_sp_to="+e);a.push("WT.cg_n",b);a.push("WT.cg_s",c);_dcsMultiTrack(a);_tag.DCS.dcsuri=_tag.DCS.dcsqry=_tag.WT.cg_n=_tag.WT.cg_s=""}function SetUparam(b){var f=b.href;var a=new Date();var e=a.getTime();var g=f.indexOf("&u=");if(g==-1){var k="u="+e+"-1-0";if(f.indexOf("&t=")>-1){f=f.replace("&t=","&"+k+"&t=")}else{f+="&"+k}}else{var j=f.substring(g+3);var h=j.indexOf("&");if(h==-1){h=j.length}var d=j.substring(0,h);var c=updateUparam(d,e);f=f.replace("&u="+d,"&u="+c)}b.href=f}function SetVparam(b,k){var e=b.href;var a=new Date();var d=a.getTime();var f=e.indexOf("&v=");if(f==-1){var j="v="+k;if(e.indexOf("&t=")>-1){e=e.replace("&t=","&"+j+"&t=")}else{e+="&"+j}}else{var h=e.substring(f+3);var g=h.indexOf("&");if(g==-1){g=h.length}var c=h.substring(0,g);e=e.replace("&v="+c,"&v="+k)}b.href=e}function createEid(){if(typeof _eventIDConfig=="undefined"){_eventIDConfig={lastOrdinal:0,prefix:typeof _tag!=="undefined"&&_tag.DCSext.eid?_tag.DCSext.eid:("CF-"+Math.floor(Math.random()*9999999)+"-"+(new Date()).getTime())}}return _eventIDConfig.prefix+"-"+ ++_eventIDConfig.lastOrdinal}function CreateDuplicateClickDetectionHash(d,a,c,g,f){var b="";b+="eid:"+(d?d:"");b+="!ci:"+(a?a:"");b+="!guid:"+(c?c:"");b+="!tt:"+(g?g:"");b+="!rd:"+(f?f:"");var e=MD5(b);return e}function CreateDuplicateClickDetectionHashFromUrl(g){var c=ExtractEventIDFromUrl(g);var a=ExtractParamFromUrl(g,"ci");var b=ExtractParamFromUrl(g,"guid");var e=ExtractParamFromUrl(g,"tt");var f=ExtractParamFromUrl(g,"t");var d=CreateDuplicateClickDetectionHash(c,a,b,e,f);return d}function ExtractEventIDFromUrl(c){var a=ExtractParamFromUrl(c,"eid");var b=/^(CF-[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})/i.exec(a);if(b==null){return null}else{return b[1]}}function ExtractParamFromUrl(d,b){var c=new RegExp("[&?]"+b+"=([^&]+)","i");var a=c.exec(d);if(a){return a[1]}else{return null}}function AddParamToUrl(g,d,e){var b=d+"="+e;var c=g.indexOf("&"+d+"=");var a;var f;if(c<=0){c=g.indexOf("?"+d+"=")}if(c>=0){a=g.indexOf("&",c+d.length+2);g=g.substring(0,c+1)+b+(a>=0?g.substr(a):"")}else{f=g.indexOf("?");if(f>=0){g=g.substr(0,f+1)+b+"&"+g.substr(f+1)}else{g+="?"+b}}return g}function updateUparam(h,f){var b=h.split("-");if(b.length<3){return f}var g=parseInt(b[0]);var c=parseInt(b[1])+1;var e=parseInt(b[2]);var d=f-(g+e);e=f-g;return b[0]+"-"+c+"-"+e+"-"+d}function SetWT(b,a,d){a[a.length]="DCS.dcsuri";a[a.length]="/goto.aspx";a[a.length]="DCS.dcsref";var c=window.location.href;a[a.length]=(typeof(c)!="undefined")?c:"";a[a.length]="WT.ti";a[a.length]="";a[a.length]="WT.cg_n";a[a.length]=_tag.WT.sp+" Goto;"+_tag.WT.sp+" Goto["+d+"]";a[a.length]="WT.cg_s";a[a.length]=(typeof(b)!="undefined")?b+";":";"}function SetDCSext(b,a,c){for(N in _tag.DCSext){if(N.indexOf(gParamPrefix)>-1){delete _tag.DCSext[N]}}for(N in b){a[a.length]="DCSext."+gParamPrefix+N;a[a.length]=b[N]}if(c){_tag.DCS.dcsqry=null}}function GetQueryString(g,b){var d=g.indexOf("?");if(d==-1){return b}var f=g.substring(d+1,g.length);d=f.indexOf("&t=");if(d>-1){b.t=f.substring(d+3,f.length)}else{d=f.length}f=f.substring(0,d);var a=f.split("&");for(var c=0;c<a.length;c++){var e=a[c].split("=");if(e[1]){if(e[1]!=0){b[e[0]]=e[1]}}}return b}function SetCfSourceCookie(a){var c=document.cookie;var e="CFsource=";var b=c.indexOf("; "+e);if(b==-1){b=c.indexOf(e);if(b!=0){return a}}else{b+=2}var d=document.cookie.indexOf(";",b);if(d==-1){d=c.length}var f=unescape(c.substring(b+e.length,d));a[a.length]="DCSext.cf_src";a[a.length]=f}var original_WT_cg_n="";var gImages=new Array;var gExitClickHandlers;function tagCreateImage(a){if(document.images){var b=new Image();b.src=a;gImages[gImages.length]=b}else{document.write('<img width="1" height="1" alt="" src="'+a+'" />')}}function dcsCreateIFrame(a){var b=document.createElement("iframe");b.src=a;b.width=1;b.height=1;b.frameBorder=1;document.body.appendChild(b)}function dcsCreateScriptBlock(a){var b=document.createElement("script");b.src=a;document.body.appendChild(b)}function registerExitClickHandler(a){if(!gExitClickHandlers){gExitClickHandlers=[]}gExitClickHandlers.push(a)}function dcsLogMetaTags(){_tag.dcsMeta();_tag.dcsTag()}function _dcsMultiTrack(a){if(typeof _orgTag=="undefined"){var b=function(d){var c={};if(d){for(var e in d){if(typeof d[e]==="string"){c[e]=d[e]}}}return c};_orgTag=(typeof _tag!=="undefined")?{DCS:b(_tag.DCS),WT:b(_tag.WT),DCSext:b(_tag.DCSext)}:{}}if(typeof dcsMultiTrack==="function"){dcsMultiTrack(a)}}function _getOrgTag(){return(typeof _orgTag=="undefined")?_tag:_orgTag}var MD5=function(W){function A(b,a){return(b<<a)|(b>>>(32-a))}function g(b,k){var c,x,d,F,a;d=(b&2147483648);F=(k&2147483648);c=(b&1073741824);x=(k&1073741824);a=(b&1073741823)+(k&1073741823);if(c&x){return(a^2147483648^d^F)}if(c|x){if(a&1073741824){return(a^3221225472^d^F)}else{return(a^1073741824^d^F)}}else{return(a^d^F)}}function q(a,b,c){return(a&b)|((~a)&c)}function s(a,b,c){return(a&c)|(b&(~c))}function u(a,b,c){return(a^b^c)}function w(a,b,c){return(b^(a|(~c)))}function r(k,G,H,I,ac,ab,F){k=g(k,g(g(q(G,H,I),ac),F));return g(A(k,ab),G)}function t(k,G,H,I,ac,ab,F){k=g(k,g(g(s(G,H,I),ac),F));return g(A(k,ab),G)}function v(k,G,H,I,ac,ab,F){k=g(k,g(g(u(G,H,I),ac),F));return g(A(k,ab),G)}function y(k,G,H,I,ac,ab,F){k=g(k,g(g(w(G,H,I),ac),F));return g(A(k,ab),G)}function n(H){var G;var c=H.length;var k=c+8;var x=(k-(k%64))/64;var d=(x+1)*16;var F=Array(d-1);var b=0;var a=0;while(a<c){G=(a-(a%4))/4;b=(a%4)*8;F[G]=(F[G]|(H.charCodeAt(a)<<b));a++}G=(a-(a%4))/4;b=(a%4)*8;F[G]=F[G]|(128<<b);F[d-2]=c<<3;F[d-1]=c>>>29;return F}function Z(c){var d="",k="",a,b;for(b=0;b<=3;b++){a=(c>>>(b*8))&255;k="0"+a.toString(16);d=d+k.substr(k.length-2,2)}return d}function Y(d){d=d.replace(/\r\n/g,"\n");var k="";for(var b=0;b<d.length;b++){var a=d.charCodeAt(b);if(a<128){k+=String.fromCharCode(a)}else{if((a>127)&&(a<2048)){k+=String.fromCharCode((a>>6)|192);k+=String.fromCharCode((a&63)|128)}else{k+=String.fromCharCode((a>>12)|224);k+=String.fromCharCode(((a>>6)&63)|128);k+=String.fromCharCode((a&63)|128)}}}return k}var aa=Array();var z,f,j,m,p,e,h,l,o;var B=7,C=12,D=17,E=22;var J=5,K=9,L=14,M=20;var O=4,P=11,Q=16,R=23;var S=6,T=10,U=15,V=21;W=Y(W);aa=n(W);e=1732584193;h=4023233417;l=2562383102;o=271733878;for(z=0;z<aa.length;z+=16){f=e;j=h;m=l;p=o;e=r(e,h,l,o,aa[z+0],B,3614090360);o=r(o,e,h,l,aa[z+1],C,3905402710);l=r(l,o,e,h,aa[z+2],D,606105819);h=r(h,l,o,e,aa[z+3],E,3250441966);e=r(e,h,l,o,aa[z+4],B,4118548399);o=r(o,e,h,l,aa[z+5],C,1200080426);l=r(l,o,e,h,aa[z+6],D,2821735955);h=r(h,l,o,e,aa[z+7],E,4249261313);e=r(e,h,l,o,aa[z+8],B,1770035416);o=r(o,e,h,l,aa[z+9],C,2336552879);l=r(l,o,e,h,aa[z+10],D,4294925233);h=r(h,l,o,e,aa[z+11],E,2304563134);e=r(e,h,l,o,aa[z+12],B,1804603682);o=r(o,e,h,l,aa[z+13],C,4254626195);l=r(l,o,e,h,aa[z+14],D,2792965006);h=r(h,l,o,e,aa[z+15],E,1236535329);e=t(e,h,l,o,aa[z+1],J,4129170786);o=t(o,e,h,l,aa[z+6],K,3225465664);l=t(l,o,e,h,aa[z+11],L,643717713);h=t(h,l,o,e,aa[z+0],M,3921069994);e=t(e,h,l,o,aa[z+5],J,3593408605);o=t(o,e,h,l,aa[z+10],K,38016083);l=t(l,o,e,h,aa[z+15],L,3634488961);h=t(h,l,o,e,aa[z+4],M,3889429448);e=t(e,h,l,o,aa[z+9],J,568446438);o=t(o,e,h,l,aa[z+14],K,3275163606);l=t(l,o,e,h,aa[z+3],L,4107603335);h=t(h,l,o,e,aa[z+8],M,1163531501);e=t(e,h,l,o,aa[z+13],J,2850285829);o=t(o,e,h,l,aa[z+2],K,4243563512);l=t(l,o,e,h,aa[z+7],L,1735328473);h=t(h,l,o,e,aa[z+12],M,2368359562);e=v(e,h,l,o,aa[z+5],O,4294588738);o=v(o,e,h,l,aa[z+8],P,2272392833);l=v(l,o,e,h,aa[z+11],Q,1839030562);h=v(h,l,o,e,aa[z+14],R,4259657740);e=v(e,h,l,o,aa[z+1],O,2763975236);o=v(o,e,h,l,aa[z+4],P,1272893353);l=v(l,o,e,h,aa[z+7],Q,4139469664);h=v(h,l,o,e,aa[z+10],R,3200236656);e=v(e,h,l,o,aa[z+13],O,681279174);o=v(o,e,h,l,aa[z+0],P,3936430074);l=v(l,o,e,h,aa[z+3],Q,3572445317);h=v(h,l,o,e,aa[z+6],R,76029189);e=v(e,h,l,o,aa[z+9],O,3654602809);o=v(o,e,h,l,aa[z+12],P,3873151461);l=v(l,o,e,h,aa[z+15],Q,530742520);h=v(h,l,o,e,aa[z+2],R,3299628645);e=y(e,h,l,o,aa[z+0],S,4096336452);o=y(o,e,h,l,aa[z+7],T,1126891415);l=y(l,o,e,h,aa[z+14],U,2878612391);h=y(h,l,o,e,aa[z+5],V,4237533241);e=y(e,h,l,o,aa[z+12],S,1700485571);o=y(o,e,h,l,aa[z+3],T,2399980690);l=y(l,o,e,h,aa[z+10],U,4293915773);h=y(h,l,o,e,aa[z+1],V,2240044497);e=y(e,h,l,o,aa[z+8],S,1873313359);o=y(o,e,h,l,aa[z+15],T,4264355552);l=y(l,o,e,h,aa[z+6],U,2734768916);h=y(h,l,o,e,aa[z+13],V,1309151649);e=y(e,h,l,o,aa[z+4],S,4149444226);o=y(o,e,h,l,aa[z+11],T,3174756917);l=y(l,o,e,h,aa[z+2],U,718787259);h=y(h,l,o,e,aa[z+9],V,3951481745);e=g(e,f);h=g(h,j);l=g(l,m);o=g(o,p)}var X=Z(e)+Z(h)+Z(l)+Z(o);return X.toLowerCase()};