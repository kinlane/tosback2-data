(function(a,m,n){var t=a.Sys,b=a.$addHandler,o=a.$removeHandler;var k="javascript:void(0);",d=a.Function.createDelegate,c=t.Browser;var h=t.UI.DomElement,e=t.CultureInfo,f=a.Date,s=t.Net.UrlResolver;a.Type.registerNamespace("CF");var p=CF.ScriptTask=function(u){this.url=u;this.callback=null;this._script=null;this._completed=false};p.prototype={ensureLoaded:function(u){var v=this._completed;this.callback=u;if(!v&&!this._script){var w=this._script=document.createElement("script");w.type="text/javascript";w.src=s?s.resolveUrl(this.url):this.url;document.body.appendChild(w)}return v},notifyComplete:function(){if(!this._completed){this._completed=true;if(this.callback){this.callback()}}}};var r=CF.StandardBehaviorExtScriptTask=new p(t.Net.UrlResolver.resolveStaticsUrl("/scripts/StandardBehaviorsExt-CpyRog.js"));var q=CF.StandardBehavior=function(u){q.initializeBase(this,[u]);this._labelElement=null};q.prototype={initialize:function(){q.callBaseMethod(this,"initialize")},dispose:function(){q.callBaseMethod(this,"dispose")},get_labelText:function(){var u=this._getLabelElement();if(u){return(u.innerText||u.textContent)}return""},set_labelText:function(v){var u=this._getLabelElement();if(u){u.innerHTML=v}},get_visible:function(){return this.get_container().style.display!=="none"},set_visible:function(u){this.get_container().style.display=(u?"":"none")},get_container:function(){return this.get_element().parentNode},resolveUrl:function(u){return s?s.resolveUrl(u):u},_getLabelElement:function(){if(!this._labelElement){var v=this.get_element().id;var w=this.get_container().getElementsByTagName("label");if(w&&w.length>0){for(var u=0;u<w.length;u++){if(w[u].htmlFor===v){this._labelElement=w[u];break}}}}return this._labelElement}};m(q,"CF.StandardBehavior",t.UI.Behavior);var l=CF.RegionTextBoxBehavior=function(u){l.initializeBase(this,[u]);this._listAllLink=null;this._recentSearchesLink=null;this._onKeyDown$=d(this,this._onKeyDown);this._onKeyUp$=d(this,this._onKeyUp);this._onFocus$=d(this,this._onFocus);this._onBlur$=d(this,this._onBlur);this._onChange$=d(this,this._onChange);this._onListAllLinkClick$=d(this,this._onListAllLinkClick);this._showSuggestions$=d(this,this._showSuggestions);this._recentSearches=null;this._onRecentSearchesLinkClick$=null;this._suggestions=null;this._originsOnly=false;this._productType="flights";this._onBlurCallback$=null;this._select$=null;this._regionCodeInput=null;this._text=null;this._pairedRegionTextBox=null;this._tabReorderComponent=null;this._suggestionsClassName=null};l.prototype={initialize:function(){var u=this.get_element();u.setAttribute("autocomplete","off");this._text=u.value;var x=this.get_container().getElementsByTagName("a");if(x&&x.length>0){var w=x[x.length-1],v=t.UI.DomElement.containsCssClass(w,"cf-rtb-recent-searches");if(!v||x.length>1){var y=this._listAllLink=x[0];y.href=k;b(y,"click",this._onListAllLinkClick$)}if(v){var z=this._recentSearchesLink=w;z.href=k;this._onRecentSearchesLinkClick$=d(this,this._onRecentSearchesLinkClick);b(z,"click",this._onRecentSearchesLinkClick$)}}b(u,"keydown",this._onKeyDown$);b(u,"keyup",this._onKeyUp$);b(u,"focus",this._onFocus$);b(u,"blur",this._onBlur$);b(u,"change",this._onChange$);l.callBaseMethod(this,"initialize")},dispose:function(){var u=this.get_element();o(u,"keydown",this._onKeyDown$);o(u,"keyup",this._onKeyUp$);o(u,"focus",this._onFocus$);o(u,"blur",this._onBlur$);o(u,"change",this._onChange$);if(this._listAllLink){o(this._listAllLink,"click",this._onListAllLinkClick$)}if(this._recentSearchesLink){o(this._recentSearchesLink,"click",this._onRecentSearchesLinkClick$)}l.callBaseMethod(this,"dispose")},get_originsOnly:function(){return this._originsOnly},set_originsOnly:function(u){this._originsOnly=u},get_productType:function(){return this._productType},set_productType:function(u){this._productType=u;if(this._suggestions){this._suggestions.set_productType(u)}},get_suggestionsClassName:function(){return this._suggestionsClassName},set_suggestionsClassName:function(u){this._suggestionsClassName=u},get_text:function(){return this.get_element().value},set_text:function(v){var u=this.get_element();this._text=v;if(u.value!=v){u.value=v;this.raisePropertyChanged("text")}},get_regionCode:function(){if(this.get_text()===this._text){return this._getRegionCodeInput().value}return""},set_regionCode:function(v){var u=this._getRegionCodeInput();if(u.value!=v){u.value=v;this.raisePropertyChanged("regionCode")}},get_value:function(){var u=this.get_text();if(u){return{RegionCode:this.get_regionCode(),Text:u}}return null},set_value:function(u){if(u){this.set_regionCode(u.regionCode||u.RegionCode);this.set_text(u.text||u.Text)}else{this.set_regionCode("");this.set_text("")}},get_listAllLink:function(){return this._listAllLink},get_pairedRegionTextBox:function(){return this._tabReorderComponent},set_pairedRegionTextBox:function(u){if(u){if(typeof u=="string"){u=t.UI.Behavior.getBehaviorByName(u,"BookingEngineRegionTextBoxBehavior")}this._pairedRegionTextBox=u;this._tabReorderComponent=new CF.TabReorderComponent();this._tabReorderComponent.addElements([this._pairedRegionTextBox.get_element(),this.get_element()]);this._tabReorderComponent.addElements(this._pairedRegionTextBox.get_element().parentNode.getElementsByTagName("a"));this._tabReorderComponent.addElements(this.get_element().parentNode.getElementsByTagName("a"));this._tabReorderComponent.initialize()}},_getRegionCodeInput:function(){if(!this._regionCodeInput){var u=this.get_element(),w="_RegionCode";var v=this._regionCodeInput=document.getElementById(u.id+w);if(!v){v=this._regionCodeInput=document.createElement("input");v.type="hidden";v.id=u.id+w;v.name=u.name+w;this.get_container().appendChild(v)}}return this._regionCodeInput},_getSelectHandler:function(){if(!this._select$){this._select$=d(this,this._select)}return this._select$},_onKeyDown:function(u){if(this._suggestions){this._suggestions.handleKeyDown(u)}},_onKeyUp:function(u){if(!this.get_regionCode()){this._showSuggestions()}},_onFocus:function(u){this.get_element().select();if(!this.get_regionCode()){this._showSuggestions()}},_onBlur:function(u){if(!this._onBlurCallback$){this._onBlurCallback$=d(this,this._onBlurCallback)}window.setTimeout(this._onBlurCallback$,300)},_onChange:function(u){this.raisePropertyChanged("text")},_onBlurCallback:function(u){if(this._suggestions){this._suggestions.hide()}if(this._recentSearches){this._recentSearches.hide()}},_select:function(u,v){this.set_text(v);this.set_regionCode(u)},_onListAllLinkClick:function(u){var v=(this.get_originsOnly()?"cf_departures":"cf_destinations");var x="/RegionSplit.aspx/RegionList/?deponly="+(this.get_originsOnly()?"true":"false")+"&textsize=0&referrer="+escape(window.location.href);if(a.baseUrl){var w='javascript:"<html><s';w+="cript type='text/javascript' src='"+this.resolveUrl(x)+"&json=1'></script></html>\"";x=w}window.open(x,v,"scrollbars=yes,status=yes,menubar=no,toolbar=no,location=no,titlebar=no,width=590,height=588,top=100,left=200");window[(this.get_originsOnly()?"departures":"destinations")+"SelectRegion"]=this._getSelectHandler()},_showSuggestions:function(){if(!r.ensureLoaded(this._showSuggestions$)){return}var u=this._suggestions;if(!u){var v=document.createElement("div");if(this._suggestionsClassName){v.className=this._suggestionsClassName}document.body.appendChild(v);u=this._suggestions=a.$create(CF.SuggestionsBehavior,{refElement:this.get_element(),selectFunc:this._getSelectHandler(),originsOnly:this.get_originsOnly(),productType:this.get_productType()},null,null,v)}u.display(this.get_text())},_onRecentSearchesLinkClick:function(u){if(u){u.preventDefault()}if(!r.ensureLoaded(this._onRecentSearchesLinkClick$)){return}var v=this._recentSearches;if(!v){var w=document.createElement("div");document.body.appendChild(w);v=this._recentSearches=a.$create(CF.RecentSearchesBehavior,{refElement:this._recentSearchesLink,selectFunc:this._getSelectHandler(),clearFunc:d(this,function(){this._recentSearchesLink.style.display="none"})},null,null,w);v.show()}else{v.toggle()}}};m(l,"CF.RegionTextBoxBehavior",q);CF.TabReorderComponent=function(){CF.TabReorderComponent.initializeBase(this);this._elements=[];this._onKeydownHandler=d(this,this._onKeydown)};CF.TabReorderComponent.prototype={initialize:function(){CF.TabReorderComponent.callBaseMethod(this,"initialize");if(this._elements){for(var u=0;u<this._elements.length;u++){b(this._elements[u],"keydown",this._onKeydownHandler)}}},dispose:function(){if(this._elements){for(var u=0;u<this._elements.length;u++){b(this._elements[u],"keydown",this._onKeydownHandler)}}CF.TabReorderComponent.callBaseMethod(this,"dispose")},addElements:function(u){if(u){for(var v=0;v<u.length;v++){if(u[v]){this._elements.push(u[v])}}}},_onKeydown:function(u){if(u.keyCode===t.UI.Key.tab){var w=a.Array.indexOf(this._elements,u.target);if(w>=0){w+=(u.shiftKey?-1:1);while(w>=0&&w<this._elements.length){var v=this._elements[w];if(v.parentNode&&v.tabIndex>=0){try{v.focus();u.preventDefault();break}catch(u){}}w+=(u.shiftKey?-1:1)}}}}};m(CF.TabReorderComponent,"CF.TabReorderComponent",t.Component);var g=CF.DateTextBoxBehavior=function(u){g.initializeBase(this,[u]);this._onFocus$=d(this,this._onFocus);this._onBlur$=d(this,this._onBlur);this._onChange$=d(this,this._onChange);this._calendarLink=null;this._onCalendarLinkClick$=d(this,this._onCalendarLinkClick);this._calendar=null;this._onCalendarPropertyChanged$=null;this._dateFormat=null;this._enableWatermark=true;this._watermarkText=null;this._minValue=null;this._maxValue=null};g.prototype={initialize:function(){var v=this.get_element();b(v,"focus",this._onFocus$);b(v,"blur",this._onBlur$);b(v,"change",this._onChange$);var w=v.parentNode.getElementsByTagName("a");if(w&&w.length===1){var u=this._calendarLink=w[0];b(u,"click",this._onCalendarLinkClick$)}g.callBaseMethod(this,"initialize")},dispose:function(){var u=this.get_element();o(u,"focus",this._onFocus$);o(u,"blur",this._onBlur$);o(u,"change",this._onChange$);if(this._calendarLink){o(this._calendarLink,"click",this._onCalendarLinkClick$)}g.callBaseMethod(this,"dispose")},get_text:function(){return(this._getIsWatermarked()?"":this.get_element().value)},set_text:function(v){var u=this.get_element();if(v||!this.get_enableWatermark()){u.value=v;h.removeCssClass(this.get_element(),"cf-watermark")}else{u.value=this.get_watermarkText();h.addCssClass(this.get_element(),"cf-watermark")}this.raisePropertyChanged("text")},get_value:function(){var v=this.get_text();if(v){var A=v.replace(/\d/g,"").charAt(0);var u=v.split(A);var C=false;if(typeof CF.localeCode!=="undefined"){var z=CF.Util.datepicker[CF.localeCode];if(z){C=true;var x=z.dateDisplay.toLowerCase();var w=x.split(x.indexOf(".")>-1?".":"/");for(var y=0;y<w.length;y++){if(w[y].charAt(0)=="y"){var D=u[y];if(!isNaN(D)&&D.length==2){u[y]="20"+D;v=u.join(A)}break}}}}if(!C&&u.length==3&&!isNaN(u[2])&&u[2].length==2){v=u[0]+A+u[1]+A+"20"+u[2]}}var B=f.parseLocale(v);return B},set_value:function(w){var v=this.get_value();var x=(w!=null?w.getTime():-1);var u=(v!=null?v.getTime():-1);if(x!==u){this._updateText(w);this.raisePropertyChanged("value")}},get_minValue:function(){return this._minValue},set_minValue:function(u){this._minValue=u},get_maxValue:function(){return this._maxValue},set_maxValue:function(u){this._maxValue=u},get_dateFormat:function(){return this._dateFormat||"d"},set_dateFormat:function(u){this._dateFormat=u},get_enableWatermark:function(){return this._enableWatermark},set_enableWatermark:function(u){this._enableWatermark=u},get_watermarkText:function(){return this._watermarkText||CF.StandardBehaviorsResources.DateTextBoxWatermarkText},set_watermarkText:function(u){this._watermarkText=u},get_container:function(){return this.get_element().parentNode.parentNode},_getIsWatermarked:function(){return h.containsCssClass(this.get_element(),"cf-watermark")},_onCalendarLinkClick:function(w){if(w){w.preventDefault()}if(!r.ensureLoaded(this._onCalendarLinkClick$)){return}var u=this._calendar;var x=(u==null||!u.get_visible());if(!u){var v=document.createElement("div");document.body.appendChild(v);u=this._calendar=a.$create(CF.CalendarBehavior,{refElement:this._calendarLink},null,null,v);this._onCalendarPropertyChanged$=d(this,this._onCalendarPropertyChanged);u.add_propertyChanged(this._onCalendarPropertyChanged$)}if(x){var y=this.get_value();if(y){u.set_value(y)}u.set_minValue(this.get_minValue());u.set_maxValue(this.get_maxValue());u.show()}else{u.hide()}},_updateText:function(u){var v="";if(u){v=f.localeFormat?f.localeFormat(u,this.get_dateFormat()):u.localeFormat(this.get_dateFormat())}this.set_text(v)},_onCalendarPropertyChanged:function(v,u){if(u.get_propertyName()==="value"){this.set_value(v.get_value())}},_onFocus:function(u){if(this._getIsWatermarked()){this.get_element().value="";h.removeCssClass(this.get_element(),"cf-watermark")}},_onBlur:function(u){this._updateText(this.get_value())},_onChange:function(u){this.raisePropertyChanged("value")}};m(g,"CF.DateTextBoxBehavior",q);var j=CF.HoverCssClassBehavior=function(u){j.initializeBase(this,[u]);this._className="cf-hover";this._onMouseOver$=d(this,this._onMouseOver);this._onMouseOut$=d(this,this._onMouseOut)};j.prototype={initialize:function(){b(this.get_element(),"mouseover",this._onMouseOver$);b(this.get_element(),"mouseout",this._onMouseOut$);j.callBaseMethod(this,"initialize")},dispose:function(){o(this.get_element(),"mouseover",this._onMouseOver$);o(this.get_element(),"mouseout",this._onMouseOut$);j.callBaseMethod(this,"dispose")},get_className:function(){return this._className},set_className:function(u){this._className=u},_onMouseOver:function(u){h.addCssClass(this.get_element(),this.get_className())},_onMouseOut:function(u){h.removeCssClass(this.get_element(),this.get_className())}};m(j,"CF.HoverCssClassBehavior",t.UI.Behavior);var i=CF.FormSubmitter=function(){};i.submit=function(w,z,u,C){var x=document.createElement("form"),v=document.body;x.action=u;x.method=z;x.target=C;for(var A in w){var E=w[A];if(typeof(E)!=="function"){var y=document.createElement("input");y.name=A;y.type="hidden";y.value=t.Serialization.JavaScriptSerializer.serialize(E);x.appendChild(y)}}var D=navigator.userAgent.toLowerCase();if(/webkit/.test(D)&&(x.target!=null&&x.target!="")){var B=Math.floor(Math.random()*10000);if(x.action.indexOf("?")>0){x.action=x.action+"&"+B}else{x.action=x.action+"?"+B}}v.appendChild(x);x.submit();v.removeChild(x);x=null}}).apply(window,typeof CF=="object"&&CF.Sys?[CF,CF.Type.registerClass,CF.Type.registerEnum]:[window,function(b,c,a){b.registerClass(c,a)},function(c,b,a){c.registerEnum(b,a)}]);CF.StandardBehaviorsResources={DateTextBoxWatermarkText:"mm/dd/yyyy",RecentSearchesTitleText:"My recent searches",NextMonthAltText:"Next Month",UILanguageCode:"",RecentSearchesCloseLinkText:"Close",RecentSearchesClearSearchesLinkText:"Clear recent searches",CancelLinkText:"Cancel",PreviousMonthAltText:"Previous Month"};