/*! sites/all/modules/custom/ex_carousel/ex_carousel.js */
(function($,Drupal){Drupal.behaviors.exCarousel={attach:function(context,settings){var hop=Object.prototype.hasOwnProperty,property,callback=/Callback$/,eventCallback=/^on/,eventHandlers={},carousels=settings.ex_carousel&&settings.ex_carousel.carousels;function prepareCarousel(options){return function(){var carousel=$(this),callbackFunction,callbackParents,property,option,i,l,wrapper,scrollable,navigator,visibleItems;for(property in options){option=options[property];if(hop.call(options,property)&&typeof option==='string'&&callback.test(property)){callbackFunction=window;callbackParents=option.split('.');for(i=0,l=callbackParents.length;i<l;i+=1){callbackFunction=callbackFunction&&callbackFunction[callbackParents[i]];}
options[property]=callbackFunction;if(eventCallback.test(property)){eventHandlers[property.replace(callback,'')]=callbackFunction;}}}
wrapper=carousel.wrap('<div class="carousel-clip"></div>').parent();wrapper.parent().append('<span class="carousel-prev"/>').append('<span class="carousel-next"/>');visibleItems=options.visible||1;scrollable=wrapper.scrollable({items:carousel,speed:options.speed||400,size:visibleItems,next:'.carousel-next',prev:'.carousel-prev',touch:false,circular:!!options.wrap,clickable:options.clickable}).data('scrollable');if(options.auto){wrapper.autoscroll({interval:options.auto*1000,steps:options.scroll||1,autoplay:true,autopause:true});}
if(options.navigation){navigator=$('<ul class="carousel-controls">').appendTo(wrapper);wrapper.navigator({navi:'.carousel-controls',naviItem:'li'});navigator.children().text('\u25cf');}
if($.fn.touchwipe){wrapper.touchwipe({wipeLeft:function(){$('.carousel-next').click();},wipeRight:function(){$('.carousel-prev').click();}});}
$(scrollable).bind('onBeforeSeek',function(event,index){if(this.getIndex()>=this.getSize()-visibleItems){if(index>this.getIndex()){return false;}}}).bind('onSeek',function(event,index){if(this.getIndex()>=this.getSize()-visibleItems){$(this).find('.next').addClass('disabled');}});for(property in eventHandlers){option=eventHandlers[property];if(option&&hop.call(eventHandlers,property)){scrollable[property]=option;}}
if(options.initCallback){options.initCallback.call(scrollable,scrollable);}};}
if(carousels){settings=settings||Drupal.settings;for(property in carousels){if(hop.call(carousels,property)){$('.'+property,context).once('ex-carousel',prepareCarousel(carousels[property]));}}}}};}(jQuery,Drupal));;
/*! sites/all/libraries/jquery.charactercount.js */
(function($,window){$.fn.extend({'characterCount':function(count){count=count&&Number(count);if(!count||isNaN(count)){return this;}
this.each(function(){var counter_id='count-'+
this.id||this.name||this.className.replace('/[\n\r\t ]+/g','-')||count,el=$(this),counter=$('#'+counter_id);if(!counter.length){counter=$('<div id="'+
('count-'+counter_id)+'" class="character-counter">'+
(count-((el.val()&&el.val().length)||0))+'</div>').insertBefore(this);}
el.bind('keyup blur keypress',function(event){var value=el.val(),length=(value&&value.length)||0,diff=count-length;switch(event.type){case'keyup':if(diff>=0){counter.removeClass('character-counter-error').html(diff);}
break;case'blur':if(diff<0){el.val(value.substr(0,count));}
counter.removeClass('character-counter-error');break;case'keypress':if(diff<=0&&event.charCode){event.preventDefault();}
counter.removeClass('character-counter-error').html(diff);break;}});if(window.CKEDITOR&&(typeof window.CKEDITOR.on==='function')){window.CKEDITOR.on('instanceReady',function(event){var editor=event.editor;setTimeout(function(){if(!editor.element){setTimeout(arguments.callee,100);return;}
if(editor.element.$===el[0]){function dataChanged(event){var data=editor.getData(),length=data&&data.length||0,diff=count-length;if(diff<0){counter.addClass('character-counter-error');event.cancel();}
else{counter.removeClass('character-counter-error');}
counter.html(diff);}
editor.on('afterSetData',dataChanged);editor.on('afterCommandExec',dataChanged);editor.on('saveSnapshot',dataChanged);editor.document.on('keydown',dataChanged);editor.document.on('paste',dataChanged);editor.on('mode',dataChanged);editor.on('beforeModeUnload',dataChanged);}},0);},null,null,9999);}});return this;}});}(jQuery,this));;
/*! sites/all/modules/custom/ex_comment/ex-comment.comment-form.js */
(function($,window,document){Drupal.behaviors.commentForm={attach:function(context,settings){$('#comment-form').once('comment-form',function(){$(this).find('#edit-comment-body-und-0-value.no-wysiwyg').characterCount(1500);});},};}(jQuery,this,document));;
/*! sites/all/modules/custom/ex_upload/ex_upload.list_item.js */
(function($,window,document,undefined){if(window.history.pushState===undefined){return;}
Drupal.behaviors.listItemNavigation={attach:function(context,settings){var nodeChangeCounter=0,nodeChangesBeforeAdRefresh=0,navLinkSelector='.ex-article-navigation .nav-icon',carouselItemSelector='.ex-article-child-slides .carousel-item',carouselLinkSelector=carouselItemSelector+' a',ajaxLinkSelector=navLinkSelector+', '+carouselLinkSelector,headerAdUrl,sidebarAdUrl,isInitialRequest=false;var requestProcessingHandler=function(){$('.ex-article-slide .overlay',context).remove();var container=$('.ex-article-slide',context),overlay=container.css('position','relative').append('<div class="overlay"></div>').find('.overlay');overlay.height(container.height()+'px').width(container.width()+'px').css('background-color',container.closest('.node-content').css('background-color')).css('opacity','0.9').css('position','absolute').css('left',0).css('top',0).css('z-index',container.css('z-index')+1).append('<div class="spinner" style="background: transparent url('+settings.basePath+'misc/throbber.gif) left 20px;"/></div>');}
var errorResponseHandler=function(XMLHttpRequest,textStatus,errorThrown){$('.ex-article-slide .overlay .spinner',context).remove();$('.ex-article-slide .overlay',context).append('<div class="error"></div>').find('.error').append('<div class="error-message"></div>').find('.error-message').append(Drupal.t('There was a problem loading the content you requested. Please try again.'));}
var successfulResponseHandler=function(response,textStatus,XMLHttpRequest){++nodeChangeCounter;$('.ex-article-slide .overlay',context).remove();$('a.back',context).attr('href',$('a.back',response).attr('href'));$('div.count',context).html($('div.count',response).html());$('a.next',context).attr('href',$('a.next',response).attr('href'));var countVals=$('div.count',context).html().split("/");if(parseInt(countVals[0])==1){$('a.back',context).parent('.nav-icon-wrapper').addClass('first');}
else{$('a.back',context).parent('.nav-icon-wrapper').removeClass('first');}
if(parseInt(countVals[0])==parseInt(countVals[1])){$('a.next',context).parent('.nav-icon-wrapper').addClass('last');}
else{$('a.next',context).parent('.nav-icon-wrapper').removeClass('last');}
$('title',context).html($('div.subtitle',response).html());$('h3.subtitle',context).html($('div.subtitle',response).html());$('div.description').html($('div.description',response).html());$('div.entry-media.field-bundle-photo',context).html($('div.entry-media',response).html());$('div.field-name-image-credits',context).html($('div.field-name-image-credits',response).html());$('li.print.first.active',context).find('a.button.active').attr('href',$('#real-path',response).html()+'#print');$('li.abuse-report',context).find('a.flag-content').attr('href',$('li.abuse-report',context).find('a.flag-content').attr('href').replace(/node\/\d+/,'node/'+$('#nid',response).html()));Drupal.attachBehaviors(context,settings);$.address.title($('div.subtitle',response).html()+' | Examiner.com');$(carouselLinkSelector,context).each(setActiveCarouselLink);$(document.body,context).trigger('updateTrackers');if(nodeChangeCounter>nodeChangesBeforeAdRefresh){var headerAdSelector='#block-ex_dart-ex_dart_header_ad .dart-ad-content',sidebarAdSelector='#sidebar .dart-ad-content';headerAdUrl=refreshAd(headerAdUrl,headerAdSelector);sidebarAdUrl=refreshAd(sidebarAdUrl,sidebarAdSelector);$(headerAdSelector+' iframe').attr({height:'90px',width:'728px'});nodeChangeCounter=0;}}
var setActiveCarouselLink=function(index,element){var currentPath=window.location.pathname+window.location.search,elementInContext=$(element,context),scrollable=elementInContext.closest('.carousel-clip').data('scrollable');if(scrollable&&scrollable.getSize&&elementInContext.attr('href')==currentPath){var carouselItemCount=scrollable.getSize(),maxSeekPosition=carouselItemCount-scrollable.getConf().size,seekPosition=index<=maxSeekPosition?index:maxSeekPosition;elementInContext.addClass('active');scrollable.seekTo(seekPosition);}else{elementInContext.removeClass('active');}}
var refreshAd=function(adURL,container){var adBlock;if(!adURL&&adURL!==null){adBlock=$(container+' script[src]');if(adBlock.length){adURL=adBlock[0].src.replace(/adj/,'adi');}
else{return null;}}
if(adURL){$(container).empty().append($('<iframe>',{src:adURL.replace(/(;ord)=\d+/,'$1='+Math.floor(Math.random()*9e8)+1e8).replace(/(;dc_ref)=.+?;/,'$1='+encodeURIComponent(window.location.href)+';'),className:'adframe',scrolling:'no',frameBorder:'0'}));}
return adURL}
$('body',context).once(function(){$(ajaxLinkSelector,context).address();$('body',context).delegate(ajaxLinkSelector,'click',function(event){event.preventDefault();$.address.value(this.url);});$.address.state('/').init(function(event){isInitialRequest=true;}).bind('change',function(event){if(isInitialRequest){$(carouselLinkSelector,context).each(setActiveCarouselLink);}
else{var path=event.value.replace(/list/,'list/list-item');$.ajax({url:path,beforeSend:requestProcessingHandler,error:errorResponseHandler,success:successfulResponseHandler});}
isInitialRequest=false;});});}}})(jQuery,this,this.document);;
