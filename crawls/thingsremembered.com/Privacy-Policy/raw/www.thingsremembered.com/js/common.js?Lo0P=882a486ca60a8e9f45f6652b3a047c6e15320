function showShipToStoreLayer(c,a){$("html").animate({scrollTop:0},800);var b=$("#storeLocatorLayer");b.fadeIn("fast");$.ajax({url:c,type:"GET",dataType:"HTML",success:function(d){$(".storeLocatorFrameBackground",b).removeClass("showLoader");if($.browser.msie&&$.browser.version.substring(0,1)=="6"){DD_belatedPNG.fix("#storeLocatorLayer");DD_belatedPNG.fix("#header #storeLocatorLayer")}$(".locatorFrame",b).html(d)}})}function initPageHeight(){var a=$(".leftnav").height();var b=$(".page-body").height()-50;var c=$(".rightnav").height();if(a>c&&a>b){$(".page-body").css("height",a+"px");$(".rightnav").css("height",a+"px")}else{if(c>a&&c>b){$(".page-body").css("height",c+"px");$(".leftnav").css("height",c+"px")}else{if(b>c&&b>a){$(".leftnav").css("height",b+"px");$(".rightnav").css("height",b+"px")}}}$(".fill-height").each(function(){var d=new RegExp("\\D","g");$(this).height($(this).parent().height()-($(this).offset().top-$(this).parent().offset().top)+$(this).parent().css("border-top-width").replace(d,"")*1+($(this).parent().css("padding-top").replace(d,"")*1+$(this).parent().css("padding-bottom").replace(d,"")*1)-($(this).css("padding-top").replace(d,"")*1+$(this).css("padding-bottom").replace(d,"")*1)-($(this).css("border-top-width").replace(d,"")*1+$(this).css("border-bottom-width").replace(d,"")*1))})}$(function(){$(".button").assignMouseEvents();initPageHeight()});function doSearchValidation(b){var a=b.keyword.value;if(a==""||a==searchInstructions){alert(searchErrorText);return false}return true}function submitSearchForm(a){if(doSearchValidation(a)){a.submit()}}function doSearchFocus(a){var b=a.value;a.value=""}function strTrim(a){while(a.substring(0,1)==" "){a=a.substring(1,a.length)}while(a.substring(a.length-1,a.length)==" "){a=a.substring(0,a.length-1)}return a}function doSearchBlur(a){var b=a.value;if(strTrim(b)==""){a.value=searchInstructions}}function doControlFocus(a,c){var b=a.value;if(b==c){a.value=""}}function doControlBlur(a,c){var b=a.value;if(strTrim(b)==""){a.value=c}}function openWindow(a,q,e,d){if(d){d=d.toLowerCase()}else{d=""}var n=(d=="all"?1:0);var h=(d=="all"?1:0);var g=(d=="all"?1:0);var b=(d=="all"?1:0);var m=(d=="all"?1:0);var l=(d=="all"?1:0);var k=(d=="all"?1:0);if(d!="all"){var c=d.split(",");for(i=0;i<c.length;i++){if(c[i]=="toolbar"){n=1}else{if(c[i]=="menubar"){h=1}else{if(c[i]=="location"){g=1}else{if(c[i]=="directories"){b=1}else{if(c[i]=="status"){m=1}else{if(c[i]=="scrollbars"){l=1}else{if(c[i]=="resizable"){k=1}}}}}}}}}d="toolbar="+n+",";d+="menubar="+h+",";d+="location="+g+",";d+="directories="+b+",";d+="status="+m+",";d+="scrollbars="+l+",";d+="resizable="+k;var f=(screen.width/2)-(q/2);var p=(screen.height/2)-(e/2);var j=window.open(a,"Popup_Window","top="+p+",left="+f+",width="+q+",height="+e+',"'+d+'"');j.moveTo(f,p);j.focus()}function trim(a){while(a.substring(0,1)==" "){a=a.substring(1,a.length)}while(a.substring(a.length-1,a.length)==" "){a=a.substring(0,a.length-1)}return a}function isUnitedStateZipCode(b){var a=new RegExp(/(^\d{5}$)|(^\d{5}(\-|\ )\d{4}$)/);if(!a.test(b)){return false}return true}function isCanadianZipCode(b){var a=new RegExp(/(^[a-zA-Z]\d{1}[a-zA-Z](\-|\ )\d{1}[a-zA-Z]\d{1}$)/);if(!a.test(b)){return false}return true}function isFPOorAPOZipCode(b){var a=new RegExp(/(^[a-zA-Z]{3}(\-|\ )?[a-zA-Z]{2}(\-|\ )?\d{5}$)/);if(!a.test(b)){return false}return true}function isZipCode(a){return isUnitedStateZipCode(a)||isFPOorAPOZipCode(a)||isCanadianZipCode(a)}function makeCurrent(a){$(a).css("background-color","#ffffbb")}function makeNormal(a){$(a).css("background-color","white")}$(function(){$("input[@type=text]").focus(function(){makeCurrent(this)});$("input[@type=text]").blur(function(){makeNormal(this)});$("input[@type=password]").focus(function(){makeCurrent(this)});$("input[@type=password]").blur(function(){makeNormal(this)});$("textarea").focus(function(){makeCurrent(this)});$("textarea").blur(function(){makeNormal(this)})});function callEmailSignup(){var a=$("#subscribeForm").attr("action");$("#emailSignUp").html("Saving...").load(a,{userEmail:$("#subscribeForm input[@name=userEmail]").val()})}function changeImg(a,c,b){var d=$(a).find("img").attr("src").replace(c,b);$(a).find("img").attr("src",d)}$(function(){$("#subscribeForm input[@name=userEmail]").keydown(function(a){if(a.keyCode==13){callEmailSignup();return false}});$("#subscribeForm input[@name=userEmailFooter]").keydown(function(a){if(a.keyCode==13){callCheetahPreferencesFromFooter();return false}});$(".email-signup-contianer .signup-button").click(function(){callEmailSignup()});$(".email-signup-contianer .signup-button-cheetah").click(function(){callCheetahPreferencesFromFooter()});if($.browser.msie&&$.browser.version<8){$(".cat-level2").each(function(a){var b=$(this).find("li").size();if(b==0){$(this).remove()}if(b<=10){$(this).css("width","220px")}if(b>10){$(this).css("width","400px")}})}});function replaceSubString(c,b,d){var a=new RegExp(b);return c.replace(a,d)}function replaceEllipsis(a){return a.replace("\u2026","...")}function taLineCount(T,W,O,x,N,q){var v=false;var w=false;if($.browser.msie){v=true;if(parseInt(jQuery.browser.version)<=8){w=true}}var F=null;var P="";var u=false;if(O!=undefined){P=document.getElementById(O);if(O!="messageText"){u=true}}else{P=document.getElementById("messageText")}var A=new Selection(P);var U=parseInt(T);var V=parseInt(W);var B=(V*U)+U-1;var C=parseInt(U)-1;var D=parseInt(V)+1;var K="";var J=0;var H=0;var L=P.value;var M="Append";var r=false;if(q){L=L.replace(new RegExp("\n","g")," ");L=L.replace(new RegExp("\r","g")," ");L=L.replace(new RegExp("  ","g")," ");L=L.replace(new RegExp("  ","g")," ")}var a=A.getCaret();var c=A.getCaret().start;if(c<L.length){M="Edit"}if(N!=undefined){M=N}var t=false;if($("#defaultTextareaMessage").val()=="Enter your message here."){t=true}var n=0;var m=-1;if(v){m=L.indexOf("\r\n");while(m!=-1){if(c>m){n++}m=L.indexOf("\r\n",m+1)}}L=replaceSubString(L,/(\r\n|\r|\n)/g,"\n");var R=L;var Q="";var S="";var k=0;var l=0;var y="";var b=false;c=c-n;if(!(x==undefined)){y=parseInt(x.keyCode);switch(x.keyCode){case 35:return;case 36:return;case 37:return;case 38:return;case 39:return;case 40:return}}for(var j=0;j<R.length;j++){var G=R.substring(j,j+1);var I=R.substring(j+1,j+2);if(r){if(G=="\n"){if(I==" "){G=" "}else{G=" "}}}if(G=="\n"){K+=G;H=0;J+=1}else{if(H==(D-1)){if(J==(U-1)){break}if(M=="Edit"){if(G==" "){if(I!="\n"){K+="\n";H=0;J+=1}else{H=0;J+=1}}else{if(I!="\n"){k=K.lastIndexOf(" ");if((k>0)||(k==0)){tmpWrd=K.substring(k+1,K.length);tmpWrd=tmpWrd+G;Q=K.substring(0,k+1);Q=Q+"\n"+tmpWrd;K=Q;H=tmpWrd.length;tmpWrd="";Q="";k=0;r=true}else{K+="\n"+G;J+=1;H=0}}else{k=K.lastIndexOf(" ");var E="";if((k>0)||(k==0)){tmpWrd=K.substring(k+1,K.length);l=tmpWrd.lastIndexOf("\n");if((l>0)||(l==0)){E=tmpWrd.substring(0,l);tmpWrd=tmpWrd.substring(l+1,tmpWrd.length);tmpWrd=tmpWrd+"\n"+G;Q=K.substring(0,k+1)+E;Q=Q+"\n"+tmpWrd;K=Q;H=1;tmpWrd="";Q="";k=0;l=0;if(!b){a.start+=1;a.end+=1;if(v){a.start+=1;a.end+=1}}r=true}else{tmpWrd=tmpWrd+G;Q=K.substring(0,k+1);Q=Q+"\n"+tmpWrd;J+=1;K=Q;H=tmpWrd.length;var p=false;if(K.length-1<=c){p=true}tmpWrd="";Q="";k=0;if(v&&p&&!b){a.start+=1;a.end+=1;b=true}r=true}}else{K+="\n"+G;J+=1;H=0}}}}else{if(G==" "){K+="\n";H=0}else{if(I!="\n"){k=K.lastIndexOf(" ");if((k>0)||(k==0)){tmpWrd=K.substring(k+1,K.length);tmpWrd=tmpWrd+G;Q=K.substring(0,k+1);Q=Q+"\n"+tmpWrd;K=Q;H=tmpWrd.length;tmpWrd="";Q="";k=0;a.start+=1;a.end+=1;if(v){a.start+=1;a.end+=1}}else{K+="\n"+G;H=0;a.start+=1;a.end+=1;if(v){a.start+=1;a.end+=1}}}else{K+=G;H=0}}J+=1}}else{K+=G;H++}}}if(y==32||y==0){K=replaceSubString(K,/(\r\n|\r|\n)/g,"\n")}else{K=replaceSubString(K,/\s+(\r\n|\r|\n)/g,"\n")}if(!(B>=K.length)){K=K.substring(0,B)}myArr=K.split("\n");if((myArr.length-1)>C){K="";for(var j=0;j<C+1;j++){if(j==C){K+=myArr[j]}else{K+=myArr[j]+"\r\n"}}}P.value=K;K=replaceSubString(K,/\n/g," ");var e="";if(O!=undefined){e=$("#"+O).val()}else{e=$("#messageText").val()}var f=e.split("\n");var z=new Array();for(var j=0;j<U;j++){z[j]=V}if(!t){for(var j=0;j<f.length;j++){f[j]=replaceSubString(f[j],/\r/g,"");if(f[j].length>V){f[j]=f[j].substring(0,V)}z[j]=(V-f[j].length)}}var g;if(O!=undefined){if(O!="messageText"){var h=f.length;g=300-((h-1)*50);g=g-(f[h-1].length);if(g<=0){$("#"+O+"_char").html("0")}else{$("#"+O+"_char").html(g)}}}var d="";for(var j=0;j<U;j++){d=d+'<p class="textcount" align="left">'+z[j]+" Characters left</p>"}$("#taCounterDiv").html(d);if(!t){A.setCaret(a.start,a.end)}else{$("#occasionCode_title").focus()}if(v&&P.selectionStart){P.focus();P.setSelectionRange(K.length,K.length)}}Selection=function(a){this.isTA=(this.input=a).nodeName.toLowerCase()=="textarea"};with({o:Selection.prototype}){o.setCaret=function(d,a){var c=this.input;if(Selection.isStandard){try{c.setSelectionRange(d,a)}catch(b){}}else{if(Selection.isSupported){try{var e=this.input.createTextRange();a-=d+c.value.slice(d+1,a).split("\n").length-1;d-=c.value.slice(0,d).split("\n").length-1;e.move("character",d),e.moveEnd("character",a),e.select()}catch(b){}}}};o.getCaret=function(){var f=this.input,b=document;if(Selection.isStandard){try{return{start:f.selectionStart,end:f.selectionEnd}}catch(e){return{start:0,end:0}}}else{if(Selection.isSupported){try{var h=(this.input.focus(),b.selection.createRange()),g,j,c,k;if(h.parentElement()!=f){return{start:0,end:0}}if(this.isTA?(g=h.duplicate()).moveToElementText(f):g=f.createTextRange(),!this.isTA){return g.setEndPoint("EndToStart",h),{start:g.text.length,end:g.text.length+h.text.length}}for(var a="[###]";(k=f.value).indexOf(a)+1;a+=a){}g.setEndPoint("StartToEnd",h),g.text=a+g.text,c=f.value.indexOf(a);h.text=a,j=f.value.indexOf(a);if(b.execCommand&&b.queryCommandSupported("Undo")){for(g=3;--g;b.execCommand("Undo")){}}return f.value=k,this.setCaret(j,c),{start:j,end:c}}catch(e){return{start:0,end:0}}}}return{start:0,end:0}};o.getText=function(){var a=this.getCaret();return this.input.value.slice(a.start,a.end)};o.setText=function(d){var b=this.getCaret(),a=this.input,c=a.value;a.value=c.slice(0,b.start)+d+c.slice(b.end);this.setCaret(b.start+=d.length,b.start)};new function(){var a=document,b=a.createElement("input"),c=Selection;c.isStandard=(document.selection==null);c.isSupported=true}}(function(a){if(jQuery.browser.msie&&parseInt(jQuery.browser.version,10)==6){try{document.execCommand("BackgroundImageCache",false,true)}catch(b){}}});(function(a){a.fn.bgiframe=(a.browser.msie&&a.browser.version.substring(0,1)=="6"?function(d){d=a.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:true,src:"javascript:false;"},d);var c='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+d.src+'"style="display:block;position:absolute;z-index:-1;'+(d.opacity!==false?"filter:Alpha(Opacity='0');":"")+"top:"+(d.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":b(d.top))+";left:"+(d.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":b(d.left))+";width:"+(d.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":b(d.width))+";height:"+(d.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":b(d.height))+';"/>';return this.each(function(){if(a(this).children("iframe.bgiframe").length===0){this.insertBefore(document.createElement(c),this.firstChild)}})}:function(){return this});a.fn.bgIframe=a.fn.bgiframe;function b(c){return c&&c.constructor===Number?c+"px":c}})(jQuery);$(function(){$(".cat-level2").bgiframe();$("#colorHelpLayer").bgiframe()});if($.browser.msie&&$.browser.version<8){$(document).ready(function(){$(".sort-option-container-right").each(function(){var b=$(this).find(".option-text").width();var a=$(this).find(".option").width();var c=b+a;$(this).css("width",c)})})}var showDynamicContent=(function(a){var b=function(d,c){a.ajax({type:"POST",url:c,data:"",dataType:"text",timeout:15000,success:function(e){d.append(e);d.show()},error:function(){return false}})};return b}(jQuery));function openSelectStorePopup(){loadGoogleAPI();$.openPopupLayer({name:"selectstoreziplayer",width:500,url:"/custserv/cust_store_locator.jsp",success:function(){var a=$("#popupLayer_selectstoreziplayer #popup_close_button");$(a).click(function(){closeOverlayDivs()})}});return false}function closeOverlayDivs(){$("#popupLayer_selectstoreziplayer").fadeOut(function(){$("#popupLayerScreenLocker").remove();$("#popupLayer_selectstoreziplayer").remove()})}function saveMyHomeStore(b){var a=new Date();url="/custserv/save_user_store.cmd?storeId="+b+"&datetime="+a;elementId="select-store-header";ajaxFunction(false,url);setTimeout(function(){getHomeStore(b)},1000);closeOverlayDivs()}function getHomeStore(){url="/includes/home_store.jsp";elementId="#select-store-header";$.ajax({url:url,cache:false,success:function(a){$(elementId).html(a)}})}function loadGoogleAPI(){if(typeof google==="object"&&typeof google.maps==="object"){}else{var a=document.createElement("script");a.type="text/javascript";a.id="googleLoad";a.src="//maps.googleapis.com/maps/api/js?sensor=false&v=3&callback=loadMyMap";document.getElementsByTagName("head")[0].appendChild(a)}}function loadMyMap(){var a=document.createElement("script");a.type="text/javascript";a.src="/js/mymap_google.js";document.getElementsByTagName("head")[0].appendChild(a)}function loadUserGoogleAPI(){if(typeof google==="object"&&typeof google.maps==="object"){}else{var a=document.createElement("script");a.type="text/javascript";a.src="//maps.googleapis.com/maps/api/js?sensor=false&v=3&callback=getuserCoords";a.id="googleUserLoad";document.getElementsByTagName("head")[0].appendChild(a)}}function getUserCoords(d){var e=d;var b="";var c="";var a=new google.maps.Geocoder();a.geocode({address:e},function(g,h){b=g[0].geometry.location.lat();c=g[0].geometry.location.lng();var f=document.createElement("iframe");f.src="/user/SaveUserLatLngCommand.cmd?lat="+b+"&lng="+c;f.id="locationIframe";document.body.appendChild(f);console.log(b);console.log(c)});return false}function getPickupStoreList(b){zipcode=b.storesListZipCode.value;var e="";var f="";var d="";var c=new google.maps.Geocoder();c.geocode({address:zipcode},function(h,j){e=h[0].geometry.location.lat();f=h[0].geometry.location.lng();url="/custserv/customer_zip.cmd?storesListLatitude="+e+"&storesListLongitude="+f+"&zipCode="+zipcode;elementId="storesListZipCode_results";wrapperId="popupLayer_selectstoreziplayer";wrapperElm=document.getElementById(wrapperId);wrapperHeight=599;wrapperHalfHeight=wrapperHeight/2;var g=document.body.offsetHeight;var a=g/2-wrapperHalfHeight;$("#"+wrapperId).animate({top:a+"px"},2000,function(){});ajaxFunction(elementId,url)});return false}function getPickupStoreListEnter(a,b){if(a.which==13||a.keyCode==13){getPickupStoreList(b);return false}}function ajaxFunction(c,d){var a;try{a=new XMLHttpRequest()}catch(b){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){return false}}}a.onreadystatechange=function(){if(a.readyState==4){if(c!=false){var e=document.getElementById(c);e.innerHTML=a.responseText}}};a.open("GET",d,true);a.send(null)}$(document).ready(function(){var a=$("a.cat-level1");var b=$("li.category-label-container > a");$(a).click(function(){s.c_w("topnav","1",0)});$(b).click(function(){s.c_w("topnav","1",0)})});