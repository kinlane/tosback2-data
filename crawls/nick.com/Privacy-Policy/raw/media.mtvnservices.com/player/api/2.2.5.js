var MTVNPlayer=window.MTVNPlayer||{};(function(a){"use strict",a.module||(a.module=function(){var a={};return function(b){return a[b]?a[b]:(a[b]={},a[b])}}())})(MTVNPlayer),function(a,b){"use strict";if(a.initialized)return;a.initialized=!0;var c=[],d="http://media.mtvnservices.com/",e=[];a.instances=c,a.baseURL=d,a.onPlayerCallbacks=e,a.$=b,a.isHTML5Player=function(){var a=window.navigator.userAgent.toLowerCase();return a.indexOf("iphone")!==-1||a.indexOf("ipad")!==-1}(),a.getPath=function(a){return a.templateURL?a.templateURL.replace("{uri}",a.uri):d+a.uri},a.processEvent=function(a,b){if(!a)return;if(a instanceof Array)for(var c=a.length;c--;)a[c](b);else a(b)},a.getPlayerInstance=function(a){var b,d=null,e=c.length,f;for(b=e;b--;){f=c[b];if(f.source===a){d=f.player;break}}return d},a.executeCallbacks=function(a){for(var b=0,c=e.length;b<c;b++)e[b](a)}}(window.MTVNPlayer.module("core"),window.jQuery||window.Zepto),function(a){"use strict";if(a.initialized)return;a.initialized=!0,a.copyEvents=function(a,b){var c,d;if(b)for(var e in b)b.hasOwnProperty(e)&&(c=b[e],c!==undefined&&(d=a[e],d?d instanceof Array?c instanceof Array?a[e]=d.concat(c):d.push(c):a[e]=c instanceof Array?[d].concat(c):[d,c]:a[e]=c));return a};var b=a.copyProperties=function(a,c){if(c)for(var d in c)if(c.hasOwnProperty(d)&&c[d]!==undefined){var e=d.toLowerCase();if(e==="flashvars"||e==="attributes"||e==="params")a[d]=a[d]||{},b(a[d],c[d]);else if(d!=="width"&&d!=="height"||!!c[d])a[d]=c[d];else continue}return a};a.buildConfig=function(a,c){var d=function(b){return a.getAttribute("data-"+b)},e=function(b){return a.style[b]},f=function(a){a=d(a);if(a){var b,c={},e=a.split("&"),f;for(b=e.length;b--;)f=e[b].split("="),f&&f.length==2&&(c[f[0]]=f[1]);return c}},g={uri:d("contenturi"),width:e("width")||null,height:e("height")||null,flashVars:f("flashVars"),attributes:f("attributes")};return b(c,g)}}(window.MTVNPlayer.module("config")),function(a,b){"use strict";var c=null;a.find=function(b){return a.initialize(),c(b)},a.initialize=function(){a.initialize=function(){};var d,e,f,g,h={},i,j,k=/^\s+|\s+$/g,l=!!b.querySelectorAll,m=function(a,b,c){d=c||[],i=b||m.context;if(l)try{return s(i.querySelectorAll(a)),d}catch(e){}return j=i.ownerDocument||i,p(a.replace(k,"")),o(),d},n=function(a){if(e.tag){var b=a.nodeName.toUpperCase();if(e.tag=="*"){if(b<"@")return!1}else if(b!=e.tag)return!1}if(e.id&&a.getAttribute("id")!=e.id)return!1;if(f=e.classes){var c=" "+a.className+" ";for(var d=f.length;d--;)if(c.indexOf(" "+f[d]+" ")<0)return!1}if(g=e.pseudos)for(var i=g.length;i--;){var j=h[g[i]];if(!j||!j.call(m,a))return!1}return!0},o=function(){var a=e.id,b=a&&e.tag||e.classes||e.pseudos||!a&&(e.classes||e.pseudos)?v:t;if(a){var c=j.getElementById(a);c&&(j===i||w(c))&&b([c])}else b(i.getElementsByTagName(e.tag||"*"))},p=function(a){e={};while(a=a.replace(/([#.:])?([^#.:]*)/,q));},q=function(a,b,c){return b?b=="#"?e.id=c:b=="."?e.classes?e.classes.push(c):e.classes=[c]:b==":"&&(e.pseudos?e.pseudos.push(c):e.pseudos=[c]):e.tag=c.toUpperCase(),""},r=Array.prototype.slice,s=function(a){d=r.call(a,0)},t=function(a){for(var b=0,c=a.length;b<c;b++)d.push(a[b])};try{r.call(b.documentElement.childNodes,0)}catch(u){s=t}var v=function(a){for(var b=0,c=a.length;b<c;b++){var e=a[b];n(e)&&d.push(e)}},w=function(a){do if(a===i)return!0;while(a=a.parentNode);return!1};m.pseudos=h,m.context=b,c=m}}(window.MTVNPlayer.module("selector"),window.document),function(a){"use strict";var b=a.module("flash"),c=a.module("core"),d=c.baseURL+"player/api/swfobject/";if(b.initialized)return;b.initialized=!0,b.initialize=function(){b.initialize=function(){};var e={play:"unpause",seek:"setPlayheadTime"},f=window.swfobject||a.swfobject,g=function(a,b){var d=b.attributes||{},e=b.params||{allowFullScreen:!0},g=b.flashVars||{};d.data=c.getPath(b),d.width=b.width,d.height=b.height,e.allowScriptAccess="always",g.objectID=a,e.flashVars=function(a){var b="";for(var c in a)b+=c+"="+a[c]+"&";return b?b.slice(0,-1):""}(g),c.getPlayerInstance(a).element=f.createSWF(d,e,a)},h={requested:!1,items:[]},i=function(b){f=b,delete a.onSWFObjectLoaded;for(var c=h.items,d=c.length;d--;)c[d]()},j=function(){try{this.element.exitFullScreen()}catch(a){}},k=function(a,b,c){var d={},e;return d.duration=a.duration,d.live=!1,d.isAd=a.isAd,d.isBumper=a.isBumper,c!==undefined?d.index=c:d.index=function(a){var c=b.length,d;for(d=c;d--;)if(b[d].metaData.guid===a)return d;return-1}(a.guid),e=d.rss={},e.title=a.title,e.description=a.description,e.guid=a.guid,e.link=a.link,e.image=a.thumbnail,e.group={},e.group.categories=function(){var b=a.displayData;return{isReportable:a.reportable,source:b.source,sourceLink:b.sourceLink,seoHTMLText:b.seoHTMLText}}(),d},l=function(a){var b={},c=a.items,d=c.length,e;b.description=a.description,b.title=a.title,b.link=a.link,b.items=[];for(e=d;e--;)b.items[e]=k(c[e],null,e);return b},m=function(a){var b={items:[]},c=a.length,d;for(d=c;d--;)b.items[d]=k(a[d].metaData,null,d);return b},n=function(b){var d=b.events,e=a.Player.flashEventMap,f="player"+Math.round(Math.random()*1e6),g=b.element,h="MTVNPlayer.Player.flashEventMap."+f,i=a.Events.METADATA,j=a.Events.STATE_CHANGE,n=a.Events.PLAYLIST_COMPLETE,o=a.Events.READY,p=a.Events.MEDIA_END,q=a.Events.MEDIA_START,r=a.Events.PLAYHEAD_UPDATE;e[f+i]=function(e){var f=g.getPlaylist().items,h=k(e,f),j=b.playlistMetadata,n=!1;b.currentMetadata=h;if(!j){n=!0;try{j=l(g.getPlaylistMetadata())}catch(p){j=m(f)}}h.index!==-1&&(j.items[h.index]=h,j.index=h.index),b.playlistMetadata=j,n&&(b.ready=!0,c.processEvent(d[o],{data:h,target:b,type:a.Events.READY})),c.processEvent(d[i],{data:h,target:b,type:i})},g.addEventListener("METADATA",h+i),e[f+j]=function(a){b.state=a,c.processEvent(d[j],{data:a,target:b,type:j})},g.addEventListener("STATE_CHANGE",h+j),e[f+r]=function(a){b.playhead=a,c.processEvent(d[r],{data:a,target:b,type:r})},g.addEventListener("PLAYHEAD_UPDATE",h+r),e[f+n]=function(){c.processEvent(d[n],{data:null,target:b,type:n})},g.addEventListener("PLAYLIST_COMPLETE",h+n),e[f+q]=function(){c.processEvent(d[q],{data:null,target:b,type:q})},g.addEventListener("READY",h+q),e[f+p]=function(){c.processEvent(d[p],{data:null,target:b,type:p})},g.addEventListener("MEDIA_ENDED",h+p)};a.onSWFObjectLoaded=i,a.Player.flashEventMap={},this.create=function(a){var b,e,i=a.id,j=a.config;c.instances.push({source:i,player:a}),typeof f=="undefined"?(h.items.push(function(a,b){var c=function(){g(a,b)};return c}(i,j)),h.requested||(h.requested=!0,b=document.createElement("script"),b.src=d+"swfobject.js",b.language="javascript",e=document.getElementsByTagName("script")[0],e||(e=document.body),e.parentNode.insertBefore(b,e))):g(i,j)},this.message=function(a){if(!this.ready)throw new Error("MTVNPlayer.Player."+a+"() called before player loaded.");a=e[a]||a;switch(a){case"exitFullScreen":j.call(this);return;case"goFullScreen":return;default:}return arguments[1]!==undefined&&arguments[2]!==undefined?this.element[a](arguments[1],arguments[2]):arguments[1]!==undefined?this.element[a](arguments[1]):this.element[a]()},window.mtvnPlayerLoaded=function(a){return function(b){a&&a(b);var d=c.getPlayerInstance(b);c.executeCallbacks(d),n(d)}}(window.mtvnPlayerLoaded)}}(window.MTVNPlayer),function(a){"use strict";var b=a.module("html5");if(b.initialized)return;b.initialized=!0,b.initialize=function(){b.initialize=function(){};var c=a.module("core"),d=c.processEvent,e=function(a){a.isFullScreen=!1;var b=a.config,c=a.element;c.style.cssText="postion:static;z-index:auto;",c.width=b.width,c.height=b.height},f=function(a){var b=a.element,c=a.config.highestZIndex,d=a.config.fullScreenCssText;a.isFullScreen=!0,b.style.cssText=d?d:"position:fixed;left:0px;top:0px;z-index:"+(c||2147483645)+";",b.width=window.innerWidth,b.height=window.innerHeight,window.scrollTo(0,0)},g=function(a){return g=function(){var a=c.$;return window.JSON?function(a){return a?JSON.parse(a):null}:a&&a.parseJSON?function(b){return a.parseJSON(b)}:function(){}}(),g(a)},h=function(a){return a.slice(a.indexOf(":")+1)},i=function(b,c){var e=g(h(b));c.currentMetadata=e,e.index!==-1&&(c.playlistMetadata.items[e.index]=e,c.playlistMetadata.index=e.index),d(c.events.onMetadata,{data:e,target:c,type:a.Events.METADATA})},j=function(b){var j=b.data,k,l,m,n=a.Events;if(j&&j.indexOf&&j.indexOf("logMessage:")===-1){k=c.getPlayerInstance(b.source);if(k){m=k.events;if(j.indexOf("playState:")===0)k.state=h(j),d(m.onStateChange,{data:k.state,target:k,type:n.STATE_CHANGE});else if(j.indexOf("playlistComplete")===0)d(m.onPlaylistComplete,{data:null,target:k,type:n.PLAYLIST_COMPLETE});else if(j.indexOf("metadata:")===0)i(j,k);else if(j.indexOf("mediaStart")===0)d(m.onMediaStart,{data:null,target:k,type:n.MEDIA_START});else if(j.indexOf("mediaEnd")===0)d(m.onMediaEnd,{data:null,target:k,type:n.MEDIA_END});else if(j.indexOf("playheadUpdate")===0)l=parseInt(h(j),10),k.playhead=l,d(m.onPlayheadUpdate,{data:l,target:k,type:n.PLAYHEAD_UPDATE});else if(j.indexOf("playlistMetadata:")===0)k.playlistMetadata=g(h(j));else if(j==="onReady"){k.ready=!0;var o=k.config.flashVars;o&&o.sid&&k.message.call(k,"setSSID:"+o.sid),c.executeCallbacks(k),d(m.onReady,{data:null,target:k,type:a.Events.READY})}else j==="fullscreen"?k.isFullScreen?e(k):(k.isFullScreen=!0,f(k)):j.indexOf("overlayRectChange:")===0?d(m.onOverlayRectChange,{data:g(h(j)),target:k,type:n.OVERLAY_RECT_CHANGE}):j.indexOf("onUIStateChange:")===0?d(m.onUIStateChange,{data:g(h(j)),target:k,type:n.UI_STATE_CHANGE}):j.indexOf("airplay")===0&&d(m.onAirplay,{data:null,target:k})}}};this.create=function(a){var b=a.config,d=document.createElement("iframe"),e=document.getElementById(a.id);d.setAttribute("id",a.id),d.setAttribute("src",c.getPath(b)),d.setAttribute("frameborder","0"),d.setAttribute("scrolling","no"),d.setAttribute("type","text/html"),d.height=b.height,d.width=b.width,e.parentNode.replaceChild(d,e),a.element=d,typeof window.addEventListener!="undefined"?window.addEventListener("message",j,!1):typeof window.attachEvent!="undefined"&&window.attachEvent("onmessage",j),c.instances.push({source:d.contentWindow,player:a})},this.message=function(a){if(!this.ready)throw new Error("MTVNPlayer.Player."+a+"() called before player loaded.");switch(a){case"goFullScreen":f.apply(this,[this]);break;case"exitFullScreen":e.apply(this,[this]);break;default:return arguments[1]!==undefined&&(a+=":"+arguments[1]+(arguments[2]!==undefined?","+arguments[2]:"")),this.element.contentWindow.postMessage(a,"*")}};var k=window.navigator.userAgent.toLowerCase();k.indexOf("ipad")!==-1&&document.addEventListener("orientationchange",function(){var a,b=null,d=c.instances,e=d.length;for(a=e;a--;)b=d[a].player,b.isFullScreen&&f(b)},!1)}}(window.MTVNPlayer),function(a,b){"use strict",a.Player||(a.Events={METADATA:"onMetadata",STATE_CHANGE:"onStateChange",MEDIA_START:"onMediaStart",MEDIA_END:"onMediaEnd",PLAYHEAD_UPDATE:"onPlayheadUpdate",PLAYLIST_COMPLETE:"onPlaylistComplete",OVERLAY_RECT_CHANGE:"onOverlayRectChange",READY:"onReady",UI_STATE_CHANGE:"onUIStateChange",AIRPLAY:"onAirplay"},a.PlayState={PLAYING:"playing",PAUSED:"paused",SEEKING:"seeking",STOPPED:"stopped",BUFFERING:"buffering"},a.onSWFObjectLoaded=null,a.defaultConfig=a.defaultConfig,a.defaultEvents=a.defaultEvents,a.Player=function(c){var d=a.module("core"),e=function(a){throw new Error("Embed API:"+a)},f=c.document,g,h=function(b){var c=a.Events;for(var d in c)if(c.hasOwnProperty(d)&&c[d]===b)return;throw new Error("MTVNPlayer.Player event:"+b+" doesn't exist.")},i=function(a){for(var b in a)a.hasOwnProperty(b)&&h(b)},j=function(a){var b={width:512,height:288},c={width:360,height:293},d=a.width/a.height,e=Math.abs(d-4/3),f=Math.abs(d-16/9);return f<e?b:c},k=function(){var a=this.config,b=this.currentMetadata,c='<p style="text-align:left;background-color:#FFFFFF;padding:4px;margin-top:4px;margin-bottom:0px;font-family:Arial, Helvetica, sans-serif;font-size:12px;">',d=function(){if(!b)return"";var a="",d=b.rss.group.categories,e=d.source,f=d.sourceLink,g=d.seoHTMLText;return e&&(f?a+='<b><a href="'+f+'">'+e+"</a></b>":a+="<b>"+e+"</b> "),g&&(a&&(a+="<br/>"),a+="Get More: "+g),a&&(a=c+a+"</p>"),a}(),e=j(a),f='<div style="background-color:#000000;width:{divWidth}px;"><div style="padding:4px;"><iframe src="http://media.mtvnservices.com/embed/{uri}" width="{width}" height="{height}" frameborder="0"></iframe>{displayMetadata}</div></div>';return f=f.replace(/\{uri\}/,a.uri),f=f.replace(/\{width\}/,e.width),f=f.replace(/\{divWidth\}/,e.width+8),f=f.replace(/\{height\}/,e.height),f=f.replace(/\{displayMetadata\}/,d),f},l=function(a){var b="mtvnPlayer"+Math.round(Math.random()*1e7);return a.setAttribute("id",b),b};return a.isHTML5Player=d.isHTML5Player,a.onPlayer=function(a){d.onPlayerCallbacks.push(a)},a.removeOnPlayer=function(a){var b=d.onPlayerCallbacks.indexOf(a);b!==-1&&d.onPlayerCallbacks.splice(b,1)},a.getPlayers=function(){var a=[],b=d.instances,c=b.length;for(c;c--;)a.push(b[c].player);return a},a.createPlayers=function(b,c,d){b||(b="div.MTVNPlayer");var e=a.module("selector").find(b),f=a.module("config");for(var g=0,h=e.length;g<h;g++)new a.Player(e[g],f.copyProperties(c||{},a.defaultConfig),f.copyEvents(d||{},a.defaultEvents));return e.length},g=function(g,h,j){this.ready=!1,this.state=null,this.currentMetadata=null,this.playlistMetadata=null,this.playhead=0,this.element=null,this.config=h||{};var k=null,m=null,n=null,o=function(a){return typeof c.HTMLElement=="object"?a instanceof c.HTMLElement:typeof a=="object"&&a.nodeType===1&&typeof a.nodeName=="string"}(g);o?(n=g,this.id=l(n),this.config=a.module("config").buildConfig(n,this.config)):(this.id=g,n=f.getElementById(this.id)),this.events=j||{},this.isFlash=this.config.isFlash===undefined?!d.isHTML5Player:this.config.isFlash,i(j),this.isFlash?m=a.module("flash"):m=a.module("html5"),m.initialize(),this.message=m.message,k=m.create;if(!n){f.readyState==="complete"?e("target div "+this.id+" not found"):b?function(a){b(f).ready(function(){f.getElementById(a.id)?k(a):e("target div "+a.id+" not found")})}(this):e("Only call new MTVNPlayer.Player(targetID,..) after the targetID element is in the DOM.");return}k(this)},g.prototype={getPlayerElement:function(){return this.element},play:function(){this.message("play")},pause:function(){this.message("pause")},mute:function(){this.message("mute")},unmute:function(){this.message("unmute")},playIndex:function(a,b){this.message("playIndex",a,b)},playURI:function(a){this.message("playUri",a)},setVolume:function(a){this.message("volume",a)},seek:function(a){this.message("seek",a)},getEmbedCode:function(){return k.call(this)},goFullScreen:function(){this.message("goFullScreen")},exitFullScreen:function(){this.message("exitFullScreen")},bind:function(a,b){h(a);var c=this.events[a];c?c instanceof Array?c.push(b):c=[b,c]:c=b,this.events[a]=c},unbind:function(a,b){h(a);var c,d=this.events[a];if(!d)return;if(d instanceof Array){for(c=d.length;c--;)if(d[c]===b){d.splice(c,1);break}}else this.events[a]=null},once:function(a,b){var c=this,d=function(e){b(e),c.unbind(a,d)};this.bind(a,d)}},g}(window),typeof a.onAPIReady=="function"&&a.onAPIReady(),a.isReady=!0)}(window.MTVNPlayer,window.jQuery||window.Zepto);