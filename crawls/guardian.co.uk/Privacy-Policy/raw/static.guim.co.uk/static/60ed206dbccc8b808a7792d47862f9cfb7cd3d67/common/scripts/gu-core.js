ensurePackage("guardian.r2");ensurePackage("guardian.r2");guardian.r2.browser={isWebKit:navigator.userAgent.indexOf("AppleWebKit/")>-1};var is_ie=jQ.browser.msie;if(is_ie){var ie_version=parseInt(jQ.browser.version);guardian.r2.browser["isIE"+ie_version]=true}function addEvent(obj,eventType,fn){if(typeof obj==="string"){obj=document.getElementById(obj)}if(eventType==="load"){loadEventList.addLoadEvent(fn);return true}if(!obj){return null}if(obj.addEventListener){obj.addEventListener(eventType,fn,false);return true}else{if(obj.attachEvent){var r=obj.attachEvent("on"+eventType,fn);return r}else{return false}}}var loadEventList=[];loadEventList.addLoadEvent=function(fn){if(loadEventList.hasFired){fn()}else{loadEventList[loadEventList.length]=fn}};loadEventList.hasFired=false;loadEventList.fireLoadEvents=function(){for(var i=0;i<loadEventList.length;i++){loadEventList[i]()}loadEventList.hasFired=true};if(guardian.r2.browser.isWebKit){var _timer=setInterval(function(){if(/loaded|complete/.test(document.readyState)){clearInterval(_timer);
loadEventList.fireLoadEvents()}},100)}else{if(document.addEventListener){document.addEventListener("DOMContentLoaded",loadEventList.fireLoadEvents,false)}else{if(is_ie){document.write("<script id='__ie_onload' defer='defer' src='//:'><\/script>");var script=document.getElementById("__ie_onload");script.onreadystatechange=function(){if(this.readyState=="complete"){loadEventList.fireLoadEvents()}}}}}var safeLoadEventList=[];function addSafeLoadEvent(fn){if(!(guardian.r2.browser.isIE6||guardian.r2.browser.isIE7)){addEvent(document,"load",fn);return true}else{safeLoadEventList.push(fn);return true}}safeLoadEventList.hasFired=false;safeLoadEventList.fireLoadEvents=function(){for(var i=0;i<safeLoadEventList.length;i++){safeLoadEventList[i]()}safeLoadEventList.hasFired=true};if((guardian.r2.browser.isIE6||guardian.r2.browser.isIE7)){window.attachEvent("onload",safeLoadEventList.fireLoadEvents)}function writeScript(src,asynchronous,callback){if(asynchronous){jQ.ajaxSetup({cache:true});jQ.getScript(src,callback)
}else{document.write('<script type="text/javascript" src="'+src+'"><\/script>');document.close()}}function addClickListenersToMatchingElements(inElement,cssRule,clickListenerCallback){var elementsToAddListenersTo=guardian.r2.dom.element.getElementsByCssSelector(cssRule,inElement);for(var i=0;i<elementsToAddListenersTo.length;i++){addEvent(elementsToAddListenersTo[i],"click",clickListenerCallback)}}function classNameRegex(cl){return new RegExp("( |^)"+cl+"( |$)")}function removeClassName(el,className){el.className=el.className.replace(classNameRegex(className)," ").replace(/(^\s*|\s*$)/g,"")}function calculateXForCentredPopup(popupWidth){var leftPos=0;if(screen.availWidth>popupWidth){leftPos=Math.round((screen.availWidth-popupWidth)/2)}return leftPos}function openScorePopup(url){if(guardian.r2.browser.isIE6||guardian.r2.browser.isIE7){var height=405;var width=767}else{var height=400;var width=747}var leftPos=0;window.open(url,"_blank","resizable=yes,scrollbars=yes,location=no,toolbar=no,status=no,top=0,screenY=0,left="+leftPos+",screenX="+leftPos+",height="+height+",width="+width);
return false}function popUpNewWindow(url,width,height){newwindow=window.open(url,"sponsor","height="+height+",width="+width+",scrollbars=yes,location=yes,toolbar=yes,status=yes,resizable=yes");if(window.focus){newwindow.focus()}return false}function GUopenParent(target){if(window.opener){window.opener.location=target}else{location=target}}function readCookie(name){var nameEQ=name+"=";var cookieArray=document.cookie.split(";");for(var i=0;i<cookieArray.length;i++){var cookie=cookieArray[i];while(cookie.charAt(0)==" "){cookie=cookie.substring(1,cookie.length)}if(cookie.indexOf(nameEQ)===0){return cookie.substring(nameEQ.length,cookie.length)}}return null}function createCookie(name,value,days){if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));var expires="; expires="+date.toGMTString()}else{var expires=""}document.cookie=name+"="+value+expires+"; path=/"}function isUserLoggedIntoRegPss(){return readCookie("GU_ME")!=null}function getScrollPosition(){var scrollX,scrollY;
if(self.pageYOffset){scrollX=self.pageXOffset;scrollY=self.pageYOffset}else{if(document.documentElement&&document.documentElement.scrollTop){scrollX=document.documentElement.scrollLeft;scrollY=document.documentElement.scrollTop}else{if(document.body){scrollX=document.body.scrollLeft;scrollY=document.body.scrollTop}}}return{x:scrollX,y:scrollY}}function getCenterPosition(){var centerX,centerY;if(self.innerHeight){centerX=self.innerWidth;centerY=self.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){centerX=document.documentElement.clientWidth;centerY=document.documentElement.clientHeight}else{if(document.body){centerX=document.body.clientWidth;centerY=document.body.clientHeight}}}return{x:centerX,y:centerY}}function getScrollAndCenterPosition(){var scroll=getScrollPosition();var center=getCenterPosition();return{scrollX:scroll.x,scrollY:scroll.y,centerX:center.x,centerY:center.y}}function getAncestorOfType(object,tagType){if(!object.tagName){return null
}else{return(object.tagName.toLowerCase()===tagType)?object:getAncestorOfType(object.parentNode,tagType)}}function arrayIndexOf(array,value){for(var i=0;i<array.length;i++){if(array[i]===value){return i}}return -1}function isArray(value){return value&&typeof value==="object"&&typeof value.length==="number"&&typeof value.splice==="function"&&!(value.propertyIsEnumerable("length"))}function arrayContains(theArray,theValue){for(var i=0;i<theArray.length;i++){if(theArray[i]===theValue){return true}}return false}function forEachElementOf(list,doThis){var listLength=list.length;for(var i=0;i<listLength;i++){doThis(list[i],i)}}function toggleHideOnPopupElements(visibility){var elementsToBeHidden=jQ(".hide-on-popup");elementsToBeHidden.css({visibility:visibility})}var applyImageMaskImmediate;var applyFullScreenImageMask;var removeFullScreenImageMask;var ensureElementHasLayoutInIE6;(function(){var root=commonStaticRoot+"styles/images/";function getMaskDef(maskName,width,height){var lowerCaseMaskName=maskName.toLowerCase();
function defaultMaskDef(url){return{url:url,width:width,height:height}}if(width>=140&&height>=84){if(guardian.r2.browser.isIE6){return{url:root+lowerCaseMaskName+"_140ie6.png",width:140,height:84}}else{return{url:root+lowerCaseMaskName+"_140.png",width:140,height:84}}}return null}function createIE6BackgroundDiv(maskDef){var newImageDiv=document.createElement("div");newImageDiv.style.width=maskDef.width+"px";newImageDiv.style.height=maskDef.height+"px";newImageDiv.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+maskDef.url+"',sizingMethod='scale')";newImageDiv.style.position="absolute";newImageDiv.style.left=String(-maskDef.leftOffset);newImageDiv.style.top=String(-maskDef.topOffset);newImageDiv.style.zIndex="100";return newImageDiv}var applyMaskInIE=function(parentNode,maskDef){maskDef.leftOffset=maskDef.topOffset=0;var newImageDiv=createIE6BackgroundDiv(maskDef);newImageDiv.className="mask";parentNode.style.position="relative";parentNode.style.display="block";ensureElementHasLayoutInIE6(parentNode);
parentNode.appendChild(newImageDiv);if(document.getElementById("content")){document.getElementById("content").style.display="none";document.getElementById("content").style.display="block"}return newImageDiv};var applyMask=function(originalElement,parentNode,maskDef){parentNode.style.display="block";parentNode.style.position="relative";var newImage=originalElement.cloneNode(false);newImage.style.width=maskDef.width+"px";newImage.style.height=maskDef.height+"px";newImage.setAttribute("src",maskDef.url);newImage.className="mask";newImage.setAttribute("alt","");parentNode.appendChild(newImage);return newImage};getNumberPropertyValue=function(originalElement,propertyName){var propVal=Number(originalElement.getAttribute(propertyName));if(propVal===0){if(document.defaultView&&document.defaultView.getComputedStyle){propVal=document.defaultView.getComputedStyle(originalElement,"").getPropertyValue(propertyName)}else{if(originalElement.currentStyle){propVal=originalElement.currentStyle[propertyName]
}}if(propVal!==null){propVal=parseInt(propVal.replace("px",""),10)}}if(!isNaN(propVal)&&propVal!==null){return propVal}else{return 0}};applyImageMaskImmediate=function(originalElement,maskName){var parentNode=originalElement.parentNode;var width=getNumberPropertyValue(originalElement,"width");var height=getNumberPropertyValue(originalElement,"height");var maskDef=getMaskDef(maskName,width,height);if(maskDef){if(guardian.r2.browser.isIE6||guardian.r2.browser.isIE7){return applyMaskInIE(parentNode,maskDef)}else{return applyMask(originalElement,parentNode,maskDef)}}};var applyFullScreenMaskInIE6=function(parentNode,maskDef){var newImageDiv=createIE6BackgroundDiv(maskDef);ensureElementHasLayoutInIE6(parentNode);parentNode.insertBefore(newImageDiv,parentNode.firstChild);return newImageDiv};applyFullScreenImageMask=function(elementThatContainsThingToNOTHide){if(guardian.r2.browser.isIE6){document.body.parentNode.style.overflow="hidden";var element=document.getElementById(elementThatContainsThingToNOTHide);
var leftOffset=element.offsetParent.offsetLeft;var body=document.body;return applyFullScreenMaskInIE6(element,{url:root+"white-bg.png",width:document.documentElement.clientWidth,height:body.clientHeight,leftOffset:leftOffset,topOffset:0})}};removeFullScreenImageMask=function(){document.body.parentNode.style.overflow=""};ensureElementHasLayoutInIE6=function(element){if(!element.currentStyle.hasLayout){element.style.zoom="1"}}})();function ensurePackage(packageName,packageBlock){var package_parts=packageName.split(".");var package_so_far=this;for(var i=0;i<package_parts.length;i+=1){var package_part=package_parts[i];if(!package_so_far[package_part]){package_so_far[package_part]={}}package_so_far=package_so_far[package_part]}if(packageBlock){packageBlock(package_so_far)}return package_so_far}function trim(str){return ltrim(rtrim(str))}function ltrim(str){return str.replace(/^\s+/,"")}function leftTrim(str){return str.replace(new RegExp(/^\s*/g),"")}function rtrim(str){return str.replace(/\s+$/,"")
}function stripParamFromUrl(param,urlToStrip){var paramterValueExpression="=[\\w\\-]*";var url=urlToStrip.replace(new RegExp("\\?"+param+paramterValueExpression+"$"),"");url=url.replace(new RegExp("\\?"+param+paramterValueExpression+"&"),"?");url=url.replace(new RegExp("&"+param+paramterValueExpression),"");return url}function isNumber(value){return typeof value==="number"}function delegateErrorHandler(to,from){to.errorHandler=from.errorHandler}function isValidUrl(url){var regexp=/(http:\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;return regexp.test(url)}function appendParameter(url,parameter){if(url.indexOf("?")!==-1){return url+"&"+parameter}else{return url+"?"+parameter}}function isArray(object){return object!=null&&typeof object=="object"&&"splice" in object&&"join" in object}ensurePackage("guardian.r2");guardian.r2.DialogBox=function(){var appliedImageMask=false;var instance=this;this.showDialogBox=function(dialogBox,dialogBoxWrapper,scrollable,nonVisibleDialog){if(guardian.r2.browser.isIE6){document.body.parentNode.style.overflow="hidden"
}scrollable=scrollable?scrollable:false;instance.positionDialogBox(dialogBox,dialogBoxWrapper,scrollable,nonVisibleDialog);dialogBoxWrapper.style.display="block";if(guardian.r2.browser.isIE6){dialogBoxWrapper.style.background="none";if(dialogBoxWrapperHasNotAlreadyHadImageMaskApplied(dialogBox,dialogBoxWrapper)){applyFullScreenImageMask(dialogBoxWrapper.id);appliedImageMask=true}else{dialogBoxWrapper.firstChild.style.width=document.body.clientWidth+"px";leftOffset=dialogBoxWrapper.offsetParent.offsetLeft;dialogBoxWrapper.firstChild.style.left="-"+leftOffset+"px"}}toggleHideOnPopupElements("hidden")};this.hideDialogBox=function(dialogBoxWrapper){if(guardian.r2.browser.isIE6){removeFullScreenImageMask()}toggleHideOnPopupElements("visible")};this.positionDialogBox=function(dialogBox,dialogBoxWrapper,scrollable,nonVisibleDialog){var position=getCenterPosition();var scroll=getScrollPosition();var wrapperWidth=0;var posX=position.x;if(guardian.r2.browser.isIE6){dialogBoxWrapper.style.position="absolute";
dialogBox.style.position="absolute"}dialogBoxWrapper.style.visibility="hidden";dialogBoxWrapper.style.display="block";dialogBox.style.visibility="hidden";dialogBox.style.display="block";var w=getAxisBoxModelTotalSize(dialogBox,"width");if(guardian.r2.browser.isIE6){if(dialogBoxIsContainedByWrapper(dialogBox)){wrapperWidth=getNumberPropertyValue(document.getElementById("wrapper"),"width");if(wrapperWidth<posX){posX=wrapperWidth}}}var centreX=posX/2;var centreOffset=w/2;var leftOffset=Math.round(centreX-centreOffset);dialogBoxWrapper.style.top="0px";dialogBoxWrapper.style.left="0px";dialogBox.style.left=leftOffset+"px";var boxHeight=getAxisBoxModelTotalSize(dialogBox,"height");var windowHeight=position.y;var scrollHeight=scroll.y;var topOffset=5;if(boxHeight<windowHeight){topOffset=(windowHeight-boxHeight)/2}if(guardian.r2.browser.isIE6||scrollable){topOffset+=scrollHeight}dialogBox.style.top=topOffset+"px";dialogBox.style.visibility="";dialogBoxWrapper.style.visibility="";dialogBoxWrapper.style.display="none";
if(nonVisibleDialog&&nonVisibleDialog===true){dialogBoxWrapper.style.zIndex="-1"}};this.createCloseLink=function(dialogBox,dialogBoxWrapper){function closeDialogBox(){dialogBox.style.display="none";dialogBoxWrapper.style.display="none";instance.hideDialogBox(dialogBoxWrapper)}var closeLinkId=(dialogBox.id+"-close-link");if(!document.getElementById(closeLinkId)){var closeLink=document.createElement("a");closeLink.href="#";closeLink.innerHTML="close";closeLink.id=(closeLinkId);closeLink.className="close";addEvent(closeLink,"click",closeDialogBox);var toolBox=document.createElement("p");toolBox.className="toolbox";toolBox.appendChild(closeLink);dialogBox.insertBefore(toolBox,dialogBox.firstChild)}};function dialogBoxWrapperHasNotAlreadyHadImageMaskApplied(dialogBox,dialogBoxWrapper){var isEmptyString=/^\s*$/;if(dialogBoxIsContainedByWrapper(dialogBox)){return !appliedImageMask}return !appliedImageMask&&isEmptyString.test(dialogBoxWrapper.innerHTML)}function dialogBoxIsContainedByWrapper(dialogBox){return !(dialogBox.parentNode===document.body)
}function getAxisBoxModelTotalSize(el,axis){var boxHeight,boxPadding,boxMargins,boxWidth;switch(axis){case"height":boxHeight=el.offsetHeight;boxMargins=getNumberPropertyValue(el,"marginTop")+getNumberPropertyValue(el,"marginBottom");return(boxHeight+boxMargins);case"width":boxWidth=el.offsetWidth;boxPadding=getNumberPropertyValue(el,"paddingLeft")+getNumberPropertyValue(el,"paddingRight");boxMargins=getNumberPropertyValue(el,"marginLeft")+getNumberPropertyValue(el,"marginRight");return(boxWidth+boxPadding+boxMargins)}}};ensurePackage("guardian.r2");guardian.r2.SignInController=function(signInView,signInListeners,popupUrl,pageUrl,pageSignature){var instance=this;var savedDestinationUrl;this.submitSignInForm=function(event){urlStack.clearUrlStack();urlStack.pushUrlOntoStack(savedDestinationUrl);signInView.submitForm();guardian.r2.event.stop(event);return false};this.openSignInBox=function(event,getTargetUrlCallback,getClassNameCallback){savedDestinationUrl=getTargetUrlCallback(event);signInView.createScriptElements();
signInView.createDivElements();var policyName=signInView.getPolicyName(event,getClassNameCallback);var popupUrlWithPolicyOrProduct=popupUrl;var queryString="?returnUrl="+pageUrl+"&sig="+pageSignature;if(policyName){queryString+="&policyName="+policyName}showSignInBox(popupUrlWithPolicyOrProduct+=queryString);guardian.r2.event.stop(event);return false};this.pushLocationToUrlStack=function(){var documentLocation=signInView.getDocumentLocation();urlStack.clearUrlStack();urlStack.pushUrlOntoStack(documentLocation)};this.closeSignInBox=function(event){signInView.closeDialogBox();guardian.r2.event.stop(event);return false};function showSignInBox(requestUrl){jQ.ajax({url:requestUrl,success:instance.showSignInBoxSuccess,error:function(data){signInView.updateAndShowDialogBox(data);signInView.addSignInFormListeners(instance.submitSignInForm,instance.closeSignInBox)}})}this.showSignInBoxSuccess=function(data){signInView.updateAndShowDialogBox(data);signInView.addSignInFormListeners(instance.submitSignInForm,instance.closeSignInBox);
signInView.setFocus()};this.addListenersTo=function(element){if(!signInView.isUserLoggedIn()){if(!element){element=signInView.getDocumentBody()}signInListeners.addRegisterListeners(element,instance.pushLocationToUrlStack);signInListeners.addLoginListeners(element,instance.openSignInBox)}};this.addLogOutListeners=function(element){signInListeners.addLogoutListeners(element,instance.pushLocationToUrlStack);signInListeners.addProfileListeners(element,instance.pushLocationToUrlStack)};if(!signInView.isUserLoggedIn()){signInView.addLoadEvent(instance.addListenersTo)}else{signInView.addLoadEvent(instance.addLogOutListeners)}};ensurePackage("guardian.r2");guardian.r2.SignInListeners=function(){this.addLoginListeners=function(inElement,openSignInBoxCallback){addClickListenersToMatchingElements(inElement,"a.same-page-login-required",function(event){openSignInBoxCallback(event,getTargetUrlFromSamePageLoginAnchor,getClassNameFromSamePageLoginAnchor)});addClickListenersToMatchingElements(inElement,"a.anchor-based-login-required",function(event){openSignInBoxCallback(event,getTargetUrlFromAnchorBasedLogin,getClassNameFromAnchorBasedLogin)
});addClickListenersToMatchingElements(inElement,"form input.form-based-login-required",function(event){openSignInBoxCallback(event,getTargetUrlFromFormBasedLogin,getClassNameFromFormBasedLogin)})};this.addProfileListeners=function(inElement,profileCallback){addClickListenersToMatchingElements(inElement,"a.details-link-holder",profileCallback)};this.addRegisterListeners=function(inElement,registerCallback){addClickListenersToMatchingElements(inElement,"a.register-required",registerCallback)};this.addLogoutListeners=function(inElement,logoutCallback){addClickListenersToMatchingElements(inElement,"a.logout",logoutCallback)};function getTargetUrlFromSamePageLoginAnchor(event){return document.location}function getClassNameFromSamePageLoginAnchor(event){return getAncestorOfType(guardian.r2.event.getElement(event),"a").className}function getTargetUrlFromAnchorBasedLogin(event){return getAncestorOfType(guardian.r2.event.getElement(event),"a").href}function getClassNameFromAnchorBasedLogin(event){return getAncestorOfType(guardian.r2.event.getElement(event),"a").className
}function getTargetUrlFromFormBasedLogin(event){return getAncestorOfType(guardian.r2.event.getElement(event),"form").action}function getClassNameFromFormBasedLogin(event){return guardian.r2.event.getElement(event).className}};ensurePackage("guardian.r2");guardian.r2.SignInView=function(scriptLocation,communitiesSite){var instance=this;var dummy="----------------------------------------";var dialogBoxDivId="signin-div";var wrapperDivId="signin-div-wrapper";var dialogBox=new guardian.r2.DialogBox();this.getDocumentBody=function(){return document.body};this.addLoadEvent=function(callback){addEvent(document,"load",callback)};this.addSignInFormListeners=function(submitCallback,closeCallback,registerCallback){addEvent(document.getElementById("popUpSignIn"),"click",submitCallback);addEvent(document.getElementById("login-close-link"),"click",closeCallback);addEvent(document.getElementById("cancelSignIn"),"click",closeCallback)};this.submitForm=function(){if(communitiesSite&&document.getElementById("redirect")){document.getElementById("redirect").value=window.location.href
}document.getElementById("signinForm").submit()};this.createScriptElements=function(){writeScript(scriptLocation,true,function(){})};this.createDivElements=function(){createWrapperDiv();if(!document.getElementById(dialogBoxDivId)){var dialogBoxDivElement=document.createElement("div");dialogBoxDivElement.id=dialogBoxDivId;dialogBoxDivElement.className="dialog-box";document.body.appendChild(dialogBoxDivElement)}};this.updateAndShowDialogBox=function(text,nonVisibleDialogBox){toggleHideOnPopupElements("hidden");document.getElementById(dialogBoxDivId).innerHTML=text;dialogBox.showDialogBox(document.getElementById(dialogBoxDivId),document.getElementById(wrapperDivId),false,nonVisibleDialogBox)};this.closeDialogBox=function(){var signInBoxWrapper=document.getElementById(wrapperDivId);var signInBox=document.getElementById(dialogBoxDivId);signInBox.style.display="none";signInBoxWrapper.style.display="none";dialogBox.hideDialogBox(signInBoxWrapper);toggleHideOnPopupElements("visible")};function createWrapperDiv(){if(!document.getElementById(wrapperDivId)){var wrapperDivElement=document.createElement("div");
wrapperDivElement.id=wrapperDivId;wrapperDivElement.className="dialog-wrapper";document.body.appendChild(wrapperDivElement)}}this.getDocumentLocation=function(){return document.location};this.getPolicyName=function(event,getClassNameCallback){var className=getClassNameCallback(event);if(className){var packageRequiredMatcher=/policy-required-(\w+)/;var match=packageRequiredMatcher.exec(className);if(match){return match[1]}}return null};this.setFocus=function(){document.getElementById("inline-email").focus()};this.isUserLoggedIn=function(){return isUserLoggedIntoRegPss()}};ensurePackage("guardian.r2");guardian.r2.ThirdPartyReferralCookieService=function(){function createCookie(name,value,domain){document.cookie=name+"="+value+"; domain="+domain+"; path=/"}function extractDomainFromHost(host){var domainElements=host.split(".");if(domainElements.length<=1){return domainElements[0]}var domain="";for(var i=1;i<domainElements.length;i++){domain+="."+domainElements[i]}return domain}this.setThirdPartyReferralCookie=function(){var queryString=window.location.search;
if(queryString){var paramsArray=queryString.substring(1).split("&");for(var index=0;index<paramsArray.length;index++){var paramNameAndValue=paramsArray[index].split("=");if(paramNameAndValue[0]==="CMP"){var domain=extractDomainFromHost(window.location.hostname);createCookie("CMP",paramNameAndValue[1],domain)}}}}};var hoursToCount=0;var timeOut=720;var maxAdCount=100;var showAdsOnNthVideo=2;function buildIntrusiveAd(adHost,geoBandwidth,randString,commercialFolder,keywords,pageUrl,site,system,blockVideoAds,tile,partnerid){var theseCookies=document.cookie;var pos=theseCookies.indexOf("GUDHTMLAds=");if(pos==-1){var seconds=180;var expireTime=new Date();var currenttimeinmills=expireTime.getTime();expireTime.setTime(currenttimeinmills+seconds*1000);document.cookie="GUDHTMLAds=Dummy; expires="+expireTime.toGMTString()+" ; path=/ ; domain=guardian.co.uk";var intrusad='<script type="text/javascript" src="'+adHost+"/js.ng/spacedesc=01&amp;comfolder="+commercialFolder+"&amp;keywords="+keywords+"&amp;bandwidth="+geoBandwidth+"&amp;rand="+randString+"&amp;site="+site+"&amp;url="+pageUrl+"&amp;system="+system+"&amp;blockVideoAds="+blockVideoAds+"&amp;partnerid="+partnerid;
if(typeof tile!=="undefined"){intrusad+="&amp;tile="+tile}intrusad+='"><\/script>';document.write(intrusad);document.close()}}function isVideoAdDisplayed(){return true}ensurePackage("guardian.r2");(function(){var XMLHttpArray=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];function createXMLHTTPObject(){var xmlhttp=false;for(var i=0;i<XMLHttpArray.length;i++){try{xmlhttp=XMLHttpArray[i]()}catch(e){continue}break}return xmlhttp}function AjaxRequest(url,requestDetails){var requestObject=createXMLHTTPObject();var method=requestDetails.method?requestDetails.method.toLowerCase():"get";var postBody=null;if(method==="get"&&requestDetails.parameters){url+=((url.indexOf("?")===-1)?"?":"&")+requestDetails.parameters}else{postBody=requestDetails.parameters}requestObject.onreadystatechange=function(){if(requestObject.readyState!==4){return }if(requestObject.status===200){requestDetails.onSuccess(requestObject)
}else{requestDetails.onFailure(requestObject)}};requestObject.open(method,url,true);if(method==="post"){requestObject.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")}requestObject.send(postBody)}guardian.r2.ajax={Request:AjaxRequest}})();function indeed_clk(a,sig){var hr=a.href;var si=hr.indexOf("&jsa=");if(si>0){return }var jsh=hr+"&jsa="+sig;a.href=jsh}jQ(document).ready(function(){var testCookie="GU_TEST_COOKIE";var cookieName="GU_VIDEO_SETTINGS";date=new Date();date.setTime(date.getTime()+(30*24*60*60*1000));var options={path:"/",expires:date};function setAutoplayText(){if(jQ.cookie(cookieName)=="false"){jQ(".off").show();jQ(".on").hide()}else{jQ(".on").show();jQ(".off").hide()}}function checkCookiesEnabled(){jQ.cookie(testCookie,true);if(jQ.cookie(testCookie)){jQ.cookie(testCookie,null);jQ(".cookied").show();jQ(".not-cookied").hide()}else{jQ(".not-cookied").show();jQ(".cookied").hide()}}jQ(".autoplay-on").click(function(){jQ.cookie(cookieName,"true",options);
setAutoplayText();jQ("a.close-toolbox-settings").focus();return false});jQ(".autoplay-off").click(function(){jQ.cookie(cookieName,"false",options);setAutoplayText();jQ("a.close-toolbox-settings").focus();return false});checkCookiesEnabled();setAutoplayText()});jQ(document).ready(function(){if(jQ("li.pixie")){var pixies=jQ("li.pixie");jQ(pixies).mouseenter(function(){jQ(this).find("div.trail-text").stop(true,true).slideDown("fast")});jQ(pixies).mouseleave(function(){jQ(this).find("div.trail-text").stop(true,true).slideUp("fast")})}});jQ(document).ready(function(){if(guardian.r2.omniture.trackComponents&&guardian.r2.omniture.isAvailable()){jQ("body").delegate(".trackable-component a","click",function(event){var link=jQ(this);var container=link.parents(".trackable-component");var componentName=container.data("component");if(componentName){var linkName=link.closest("[data-link-name]").data("link-name");linkName=linkName?componentName+": "+linkName:componentName;s.linkTrackVars="eVar7,eVar37,events";
s.linkTrackEvents="event37";s.eVar37=componentName;s.eVar7=s.pageName;s.events="event37";s.tl(this,"o",linkName)}})}});ensurePackage("guardian.r2.DateUtil");guardian.r2.DateUtil.myParseDate=function(dateString){return new Date(Date.parse(dateString.replace(/(\d\d?:\d\d?:\d\d?)(:\d?\d?\d?)?/,"$1")))};guardian.r2.DateUtil.formatDate=function(commentDateString,currentDateString){var commentDate=guardian.r2.DateUtil.myParseDate(commentDateString);var currentDate=guardian.r2.DateUtil.myParseDate(currentDateString);var relativeTimeDifference=guardian.r2.DateUtil.relativeTimeDifference(commentDate.toUTCString(),currentDate.toUTCString());if(relativeTimeDifference!==""){if(relativeTimeDifference.indexOf("hour")>0){relativeTimeDifference="about "+relativeTimeDifference}relativeTimeDifference=" ("+relativeTimeDifference+")"}return commentDate.formatDate("d M y, g:ia")+relativeTimeDifference};guardian.r2.DateUtil.formatDateFromISO=function(dateTimeString,currentDateString){var dateTimeSplit=dateTimeString.split("T");
var formattedDate=dateTimeSplit[0].replace(/-/g,"/");var dateTime=new Date(formattedDate+" "+dateTimeSplit[1]);var now=new Date(currentDateString);var relativeTimeDifference=guardian.r2.DateUtil.relativeTimeDifference(dateTime.toUTCString(),now.toUTCString());if(relativeTimeDifference!==""){return relativeTimeDifference}else{return dateTime.formatDate("d M y, g:ia")}};guardian.r2.DateUtil.relativeTimeDifference=function(dateString,currentDateString){var date=guardian.r2.DateUtil.myParseDate(dateString);var currentDate=guardian.r2.DateUtil.myParseDate(currentDateString);var relativeTimeDifference="";var difference=currentDate.getTime()-date.getTime();if(difference<60*60*1000){var minutesAgo=Math.round(difference/(1000*60));if(minutesAgo>1){relativeTimeDifference=minutesAgo+" minutes ago"}else{relativeTimeDifference="1 minute ago"}}else{if(Math.round(difference/(1000*60*60))<24){var hoursAgo=Math.round(difference/(1000*60*60));if(hoursAgo>1){relativeTimeDifference=hoursAgo+" hours ago"}else{relativeTimeDifference=hoursAgo+" hour ago"
}}}return relativeTimeDifference};guardian.r2.DateUtil.formatToISO=function(dateString){var pad=function(number){return(number>9)?number:"0"+number};var date=new Date(dateString);return date.getFullYear()+"-"+pad(date.getMonth()+1)+"-"+pad(date.getDate())};ensurePackage("guardian.r2");guardian.r2.dom={element:new function(){var instance=this;function hasClassNameFunction(className){var classNameRegExp=new RegExp("(^| )"+className+"( |$)");return function(inputElement){return classNameRegExp.test(inputElement.className)}}this.hasClassName=function(inputElement,className){return hasClassNameFunction(className)(inputElement)};this.addClassName=function(inputElement,className){if(!instance.hasClassName(inputElement,className)){inputElement.className+=" "+className;inputElement.className=inputElement.className.replace(/^\s|\s$/,"")}};this.getElementsByCssSelector=function(cssExpression,parentElement){if(isArray(cssExpression)){var results=[];var cssExpressionLength=cssExpression.length;for(var i=0;
i<cssExpressionLength;i++){results=results.concat(getElementsByIndividualCssSelector(cssExpression[i],parentElement))}return results}return getElementsByIndividualCssSelector(cssExpression,parentElement)};var getElementsByIndividualCssSelector=function(cssExpression,parentElement){var cssParts=cssExpression.split(" ");var firstTagAndClassNamePair=cssParts[0];var moreTagAndClassNamePairs=cssParts.slice(1).join(" ");var firstTagAndClassNamePairSplit=firstTagAndClassNamePair.split(".");var tagType=firstTagAndClassNamePairSplit[0];var className=firstTagAndClassNamePairSplit[1];var selectedElements=instance.getElementsByClassName(className,tagType,parentElement);if(moreTagAndClassNamePairs){var matchingElementList=[];var selectedElementsLength=selectedElements.length;var getElementsByCssSelector=instance.getElementsByCssSelector;for(var i=0;i<selectedElementsLength;i++){matchingElementList=matchingElementList.concat(getElementsByCssSelector(moreTagAndClassNamePairs,selectedElements[i]))}return matchingElementList
}return selectedElements};this.getElementsByClassName=function(className,tagType,parentElement){parentElement=parentElement?parentElement:document;className=className?className:null;if(!!document.evaluate&&className){var expression;if(tagType){expression=".//"+tagType+"[contains(concat(' ', @class, ' '), ' "+className+" ')]"}else{expression=".//*[contains(concat(' ', @class, ' '), ' "+className+" ')]"}var query=document.evaluate(expression,parentElement,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);var results=[];for(var i=0,length=query.snapshotLength;i<length;i++){results.push(query.snapshotItem(i))}return results}tagType=tagType?tagType:"*";var matchingTags=parentElement.getElementsByTagName(tagType);if(className){var matchingElements=[];var matchingTagsLength=matchingTags.length;var elementHasSuppliedClassName=hasClassNameFunction(className);for(var i=0;i<matchingTagsLength;i++){if(elementHasSuppliedClassName(matchingTags[i])){matchingElements.push(matchingTags[i])}}return matchingElements
}return convertNodeListToArray(matchingTags)};var convertNodeListToArray=function(listLikeObject){var currentPlace=listLikeObject.length;var results=[];while(currentPlace--){results[currentPlace]=listLikeObject[currentPlace]}return results}},form:new function(){var instance=this;var inputTags=["input","textarea","select"];this.serializeForm=function(domForm){var serializedFields=[];for(var i=0;i<inputTags.length;i++){var fields=domForm.getElementsByTagName(inputTags[i]);for(var j=0;j<fields.length;j++){var field=fields[j];if(!field.disabled&&field.name){serializedFields.push(instance.serialize(field))}}}var formAction=domForm.action;return serializedFields.join("&")};this.serialize=function(element){var tagType=element.tagName.toLowerCase();var elValue=null;switch(tagType){case"textarea":elValue=element.value;break;case"input":switch(element.type.toLowerCase()){case"radio":case"checkbox":elValue=element.checked?element.value:null;break;default:elValue=element.value;break}break;case"select":var selectedOptions=[];
for(var k=0;k<element.options.length;k++){if(element.options[k].selected){selectedOptions.push(element.options[k].value?element.options[k].value:element.options[k].text);if(!element.multiple){break}}}if(selectedOptions.length>0){elValue=selectedOptions.join(",")}}if(elValue!==null){return encodeURIComponent(element.name)+"="+encodeURIComponent(elValue)}}}};ensurePackage("guardian.r2");guardian.r2.event={stop:function(event){event=event||window.event;if(event.preventDefault){event.preventDefault()}else{event.returnValue=false}if(event.stopPropagation){event.stopPropagation()}else{event.cancelBubble=true}},getElement:function(event){if(!event.target){event.target=event.srcElement||document}if(event.target.nodeType==3){event.target=event.target.parentNode}return event.target}};addEvent(window,"load",GUgetUrl);function GUgetUrl(){if(!document.getElementById("go-to")){return }var myUrl=document.getElementById("go-to");for(var i=0;i<myUrl.length;i++){myUrl.onchange=function(){window.location=this.value
}}}google_ad_output="js";google_ad_type="text";google_language="en";google_encoding="utf8";google_safe="high";google_feedback="on";function google_ad_request_done(google_ads){var google_attribution='<a class="ad_attribution" href="'+google_info.feedback_url+'">Ads by Google</a>';if(google_ads.length==0){return }var s="";var headingLevel="h2";if(jQ("#google-ads-container").hasClass("promo-component")){headingLevel="h3"}function createAdvertisingDiv(){var advertisingDiv=document.getElementById("google-ads-container");if(advertisingDiv){advertisingDiv.innerHTML=s;advertisingDiv.style.display="block"}}if(google_ads[0].type=="text"){s+='<div class="hd">';s+="<"+headingLevel+">";s+=google_attribution;s+="</"+headingLevel+"></div>";s+='<div class="bd"><ul class="l1d">';for(i=0;i<google_ads.length;++i){s+="<li>";s+='<p class="t6"><a target="_TOP" href="'+google_ads[i].url+'">'+google_ads[i].line1+"</a></p>";s+="<p>"+google_ads[i].line2+" "+google_ads[i].line3+"</p>";s+='<p><a target="_TOP" href="'+google_ads[i].url+'">'+google_ads[i].visible_url+"</a></p>";
s+="</li>"}s+="</ul></div>"}if(loadEventList.hasFired){createAdvertisingDiv()}else{addEvent(document,"load",createAdvertisingDiv)}return }(function($){$.fn.ajaxoverlay=function(settings){var options={overlay:true,background:"#000",showclosebutton:true,recursiveselector:false,width:"450",height:"",extraclass:"",opacity:0.7,columnwidth:"",closebuttonselector:"",source:"",dobeforeopen:function(){},doafteropen:function(){},dobeforeclose:function(){},doafterclose:function(){},form:{selector:"",trigger:"",url:"",customField:""},debugmode:false};var $current_item;var CSS_OVERLAYBG_CLASS="ajax-overlay-bg",CSS_POPUPWINDOW_CLASS="ajax-popup-window",CSS_CLOSEBTN_CLASS="ajax-close-button",CSS_FORM_RESPSONSE_ID="ajaxoverlay-formresponse-temp";var methods={debug:function(msg){if(options.debugmode){console.log(msg)}},init:function(elm){var event=this;methods.debug("initialising overlay");if(!options.source&&!options.form.selector){var click_url=$(elm).attr("href");methods.spawnOverlay();$.ajax({type:"get",url:click_url,success:function(content){methods.spawnPopup(content,methods.bindEvents)
},error:function(){methods.removeEverything(false)}})}else{if(options.source){methods.spawnOverlay();methods.spawnPopup($(options.source),methods.bindEvents)}else{if(options.form.selector){var form=$(options.form.selector);var url=form.attr("action");if(options.form.url){url=options.form.url}if(options.form.trigger){$(options.form.trigger).bind("click",function(){methods.interceptFormViaAjax(form,url)})}else{form.live("submit",function(){methods.interceptFormViaAjax(form,url)})}}}}methods.guSpecific("hidden");return event.preventDefault()},interceptFormViaAjax:function(form,url){methods.debug("submitting form via ajax");var data=form.serialize();if(options.form.customField){data+="&"+options.form.customField+"=1"}$.ajax({url:url,data:data,type:form.attr("method"),success:function(response){var temp_form=$("#"+CSS_FORM_RESPSONSE_ID);temp_form.remove();temp_form=$("<div/>",{html:response,id:CSS_FORM_RESPSONSE_ID}).appendTo("body");methods.spawnOverlay();methods.spawnPopup(temp_form,methods.bindEvents)
},error:function(){methods.removeEverything(false)}});return false},spawnOverlay:function(){methods.removeEverything(true);if(options.overlay){methods.debug("creating background overlay");if(options.extraclass!==""){options.extraclass=" "+options.extraclass}var pageheight=$(document).height();var overlay=$("<div/>").addClass(CSS_OVERLAYBG_CLASS+" "+options.extraclass);overlay.css({background:options.background,height:pageheight+"px"}).fadeTo(0,options.opacity);overlay.prependTo("body")}},spawnPopup:function(content,callback){methods.debug("adding popup and positioning it onscreen");var bottomlayer=$("body").children().first();if(options.overlay){bottomlayer="div."+CSS_OVERLAYBG_CLASS}var popupClasses=CSS_POPUPWINDOW_CLASS+" "+options.extraclass+" "+options.columnwidth;var popup=$("<div/>").addClass(popupClasses);var css={width:options.width+"px"};if(options.columnwidth){css.width=""}if(options.height){css.height=options.height+"px"}popup.insertBefore(bottomlayer).css(css).hide();var c=$(content);
c.appendTo(popup);popup.show();if(options.dobeforeopen){options.dobeforeopen.call($current_item)}if(options.source){$(options.source).show()}var top=(($(window).height()-popup.outerHeight())/2+$(window).scrollTop()+"px");var left=(($(window).width()-popup.outerWidth())/2+$(window).scrollLeft()+"px");popup.css({top:top,left:left}).show();if(options.showclosebutton){var closeBtn=$('<div><a href="#">x</a></div>').addClass(CSS_CLOSEBTN_CLASS);popup.prepend(closeBtn)}popup.attr("tabindex","-1").focus();if(typeof callback==="function"){callback.call(this)}},bindEvents:function(){methods.debug("binding click events for close buttons etc");if(options.recursiveselector){$("div."+CSS_POPUPWINDOW_CLASS+" "+options.recursiveselector).ajaxoverlay(settings)}$("div."+CSS_CLOSEBTN_CLASS+" a").click(function(event){methods.removeEverything(true);return event.preventDefault()});if(options.overlay){$("div."+CSS_OVERLAYBG_CLASS).click(function(event){methods.removeEverything(true);return event.preventDefault()
})}if(options.closebuttonselector){$(options.closebuttonselector).click(function(event){methods.removeEverything(true);return event.preventDefault()})}$(document).keydown(function(event){if(event.keyCode===27){methods.removeEverything(true)}});if(options.doafteropen){options.doafteropen.call($current_item)}},removeEverything:function(use_callback){methods.debug("removing overlay elements from page and unbinding events");if(options.dobeforeclose&&use_callback){options.dobeforeclose.call($current_item)}$("."+CSS_POPUPWINDOW_CLASS+", ."+CSS_OVERLAYBG_CLASS).remove();$(document).unbind("keydown");methods.guSpecific("visible");return false},guSpecific:function(arg){methods.debug("guSpecific = "+arg);if(typeof toggleHideOnPopupElements==="function"){toggleHideOnPopupElements(arg)}}};return this.each(function(){if(settings){$.extend(options,settings)}var $me=$(this);$me.mousedown(function(e){methods.debug("user has clicked on element");$current_item=$me;return methods.init.call(e,$current_item)
})})}})(jQuery);jQ(document).ready(function(){jQ("a.shower").click(function(){if(jQ("body.clippings").length){theParent=".show-more"}else{theParent="ul"}if(jQ(this).hasClass("football-leagues")){list=jQ(this).attr("href");jQ(this).toggleClass("open");jQ("ul"+list).toggle()}else{jQ(this).toggleClass("open").parents(theParent).filter(":first").next().toggle()}return false})});ensurePackage("guardian.r2.omniture");var omnitracker=omnitracker||{};omnitracker.omniTrackEVar=function(evarEventNum,evarValue,eventType,selector){omnitracker.omniTrackEVarEvent(evarEventNum,evarEventNum,evarValue,eventType,selector)};omnitracker.omniTrackEVarEvent=function(evarNum,eventNum,evarValue,eventType,selector){jQ(selector).click(function(){if(guardian.r2.omniture.isAvailable()){var evar_key="eVar"+evarNum;var event="event"+eventNum;s.linkTrackVars=evar_key+",events";s.linkTrackEvents=event;s.events=event;s[evar_key]=evarValue;s.tl(this,"o",eventType)}})};var postLoadImage=function postLoadImageFactory(){var imagesToLoad={};
function postLoadImage(elementId,url){imagesToLoad[elementId]=url;document.getElementById(elementId).src=url}function loadImages(){for(var elementId in imagesToLoad){if(imagesToLoad.hasOwnProperty(elementId)){document.getElementById(elementId).src=imagesToLoad[elementId]}}}addEvent(window,"load",loadImages);return postLoadImage}();var applyImageMask=function applyImageMaskFactory(){var imagesToMask={};function applyImageMask(elementId,maskName){imagesToMask[elementId]=maskName;if(imagesToMask.hasOwnProperty(elementId)){var originalElement=document.getElementById(elementId);var parentNode=originalElement.parentNode;var parentNodeName=parentNode.nodeName;if(parentNodeName.match(/^a$|^div/i)&&parentNode.lastChild.className!=="mask"){var maskName=imagesToMask[elementId];applyImageMaskImmediate(originalElement,maskName)}}}function applyImageMasks(){for(var elementId in imagesToMask){if(imagesToMask.hasOwnProperty(elementId)){var originalElement=document.getElementById(elementId);var parentNode=originalElement.parentNode;
var parentNodeName=parentNode.nodeName;if(parentNodeName.match(/^a$|^div/i)&&parentNode.lastChild.className!=="mask"){var maskName=imagesToMask[elementId];applyImageMaskImmediate(originalElement,maskName)}}}}addEvent(window,"load",applyImageMasks);return applyImageMask}();function searchWeb(webSearchBaseUrl,searchBaseUrl,discussionCommentsSearchUrl){var textField=document.getElementById("web-search-field");var form=document.getElementById("searchbeta");if(document.getElementById("search-web")&&(document.getElementById("search-web").selected||document.getElementById("search-web").checked)){form.action=webSearchBaseUrl}else{if(form.action==webSearchBaseUrl){form.action=searchBaseUrl}}if(document.getElementById("search-contributions")&&(document.getElementById("search-contributions").selected||document.getElementById("search-contributions").checked)){form.action=discussionCommentsSearchUrl}else{if(form.action==discussionCommentsSearchUrl){form.action=searchBaseUrl}}return true}function UrlStack(cookieDomain){this.escapePlus=function(value){return encodeURIComponent(value)
};this.cookieDomain=cookieDomain}UrlStack.prototype.getCookieForUrlStack=function(name){if(!document.cookie){return""}var dc=document.cookie;var prefix=name+"=";var begin=dc.indexOf("; "+prefix);if(begin==-1){begin=dc.indexOf(prefix);if(begin!=0){return null}}else{begin+=2}var end=document.cookie.indexOf(";",begin);if(end==-1){end=dc.length}return decodeURI(dc.substring(begin+prefix.length,end))};UrlStack.prototype.setCookieForUrlStack=function(name,value){var curCookie=name+"="+this.escapePlus(value)+"; domain="+this.cookieDomain+"; path=/";document.cookie=curCookie};UrlStack.prototype.pushUrlOntoStack=function(url){var cookie=this.getCookieForUrlStack("GU_ST");var stack=cookie?cookie.split("|"):new Array();if(stack.length==0||(stack.length>0&&stack[stack.length-1]!=url)){stack[stack.length]=url;this.setCookieForUrlStack("GU_ST",stack.join("|"))}return true};UrlStack.prototype.URLStack_pop=function(){var cookie="|"+this.getCookieForUrlStack("GU_ST");var x=cookie.lastIndexOf("|");var url=cookie.substring(x+1);
this.setCookieForUrlStack("GU_ST",cookie.substring(0,x));return url};UrlStack.prototype.clearUrlStack=function(){if(this.getCookieForUrlStack("GU_ST")!=""){this.setCookieForUrlStack("GU_ST","")}};function signIn(){urlStack.pushUrlOntoStack(document.location);window.location="/Users/signin/0,,-1,00.html";return false}function signOut(){urlStack.pushUrlOntoStack(document.location);window.location="/Users/signout/tr/1,,,00.html";return false}var swfobject=function(){var D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,X=!+"\v1",ag=[0,0,0],ab=null;
if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10);ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof O.ActiveXObject!=D){try{var ad=new ActiveXObject(W);if(ad){ab=ad.GetVariable("$version");if(ab){X=true;ab=ab.split(" ")[1].split(",");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return }if((typeof j.readyState!=D&&j.readyState=="complete")||(typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body))){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener("DOMContentLoaded",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState=="complete"){j.detachEvent(x,arguments.callee);
f()}});if(O==top){(function(){if(J){return }try{j.documentElement.doScroll("left")}catch(X){setTimeout(arguments.callee,0);return }f()})()}}if(M.wk){(function(){if(J){return }if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return }f()})()}s(f)}}();function f(){if(J){return }try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return }J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener("load",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener("load",Y,false)}else{if(typeof O.attachEvent!=D){i(O,"onload",Y)}else{if(typeof O.onload=="function"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName("body")[0];var aa=C(r);aa.setAttribute("type",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");
if(ab){ab=ab.split(" ")[1].split(",");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return }}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute("width")||"0";ai.height=ae.getAttribute("height")||"0";if(ae.getAttribute("class")){ai.styleclass=ae.getAttribute("class")}if(ae.getAttribute("align")){ai.align=ae.getAttribute("align")}var ah={};var X=ae.getElementsByTagName("param");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute("name").toLowerCase()!="movie"){ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);
if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName=="OBJECT"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return !a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName=="OBJECT"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width="310"}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height="137"}j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?"ActiveX":"PlugIn",ac="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D){ab.flashvars+="&"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C("div");X+="SWFObjectNew";Y.setAttribute("id",X);
ae.parentNode.insertBefore(Y,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C("div");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName=="PARAM")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah="";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){ag.movie=ai[ae]}else{if(ae.toLowerCase()=="styleclass"){ah+=' class="'+ai[ae]+'"'
}else{if(ae.toLowerCase()!="classid"){ah+=" "+ae+'="'+ai[ae]+'"'}}}}}var af="";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name="'+ad+'" value="'+ag[ad]+'" />'}}aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()=="styleclass"){Z.setAttribute("class",ai[ac])}else{if(ac.toLowerCase()!="classid"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!="movie"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName=="OBJECT"){if(M.ie&&M.win){X.style.display="none";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);
if(Y){for(var X in Y){if(typeof Y[X]=="function"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(".");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return }var aa=j.getElementsByTagName("head")[0];if(!aa){return }var X=(ad&&typeof ad=="string")?ad:"screen";if(ab){n=null;G=null}if(!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css");Z.setAttribute("media",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(!m){return 
}var Y=X?"visible":"hidden";if(J&&c(Z)){c(Z).style.visibility=Y}else{v("#"+Z,"visibility:"+Y)}}function L(Y){var Z=/[\\\"<>\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent("onunload",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobject){swfobject[X]=null}swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+="";ag+="";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;
aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+="&"+ai+"="+Z[ai]}else{am.flashvars=ai+"="+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return }else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)){Z=Z.split("?")[1]}if(aa==null){return L(Z)}var Y=Z.split("&");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf("="))==aa){return L(Y[X].substring((Y[X].indexOf("=")+1)))
}}}return""},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display="block"}}if(E){E(B)}}a=false}}}}();function initialiseTabs(){if(jQ("ul.tabs")){var tab=jQ("ul.tabs:not(.fake) li a");var initiallyActive=jQ("ul.tabs:not(.fake) li a.active");var initialPane;for(i=0;i<=initiallyActive.length-1;i++){initialPane="#"+initiallyActive[i].href.split("#")[1];jQ(initialPane).removeClass("initially-off")}jQ(tab).click(function(){if(jQ(this).is(".inactive")){var parentContainer=jQ(this).parents("div").get(0);var activeTab=jQ(parentContainer).find("ul.tabs:not(.fake) li a.active");var pane="#"+this.href.split("#")[1];var activeTabHref=jQ(activeTab).attr("href");var activePane="#"+activeTabHref.split("#")[1];jQ(activeTab).attr("class","inactive");jQ(this).attr("class","active");jQ(pane).show();jQ(activePane).hide();return false}else{return false}})}}jQ(document).ready(function(){initialiseTabs()});TextResizeDetector=function(){var el=null;
var iIntervalDelay=200;var iInterval=null;var iCurrSize=-1;var iBase=-1;var aListeners=[];var createControlElement=function(){el=document.createElement("span");el.id="textResizeControl";el.innerHTML="&nbsp;";el.style.position="absolute";el.style.left="-9999px";var elC=document.getElementById(TextResizeDetector.TARGET_ELEMENT_ID);if(elC){elC.insertBefore(el,elC.firstChild)}iBase=iCurrSize=TextResizeDetector.getSize()};function _stopDetector(){window.clearInterval(iInterval);iInterval=null}function _startDetector(){if(!iInterval){iInterval=window.setInterval("TextResizeDetector.detect()",iIntervalDelay)}}function _detect(){var iNewSize=TextResizeDetector.getSize();if(iNewSize!==iCurrSize){for(var i=0;i<aListeners.length;i++){aListnr=aListeners[i];var oArgs={iBase:iBase,iDelta:((iCurrSize!=-1)?iNewSize-iCurrSize+"px":"0px"),iSize:iCurrSize=iNewSize};if(!aListnr.obj){aListnr.fn("textSizeChanged",[oArgs])}else{aListnr.fn.apply(aListnr.obj,["textSizeChanged",[oArgs]])}}}return iCurrSize}var onAvailable=function(){if(!TextResizeDetector.onAvailableCount_i){TextResizeDetector.onAvailableCount_i=0
}if(document.getElementById(TextResizeDetector.TARGET_ELEMENT_ID)){TextResizeDetector.init();if(TextResizeDetector.USER_INIT_FUNC){TextResizeDetector.USER_INIT_FUNC()}TextResizeDetector.onAvailableCount_i=null}else{if(TextResizeDetector.onAvailableCount_i<600){TextResizeDetector.onAvailableCount_i++;setTimeout(onAvailable,200)}}};setTimeout(onAvailable,500);return{init:function(){createControlElement();_startDetector()},addEventListener:function(fn,obj,bScope){aListeners[aListeners.length]={fn:fn,obj:obj};return iBase},detect:function(){return _detect()},getSize:function(){var iSize;return el.offsetHeight},stopDetector:function(){return _stopDetector()},startDetector:function(){return _startDetector()}}}();TextResizeDetector.TARGET_ELEMENT_ID="doc";TextResizeDetector.USER_INIT_FUNC=null;function init(){var iBase=TextResizeDetector.addEventListener(onFontResize,null);if(jQ("body")){if(iBase>32){updateStylesheets(iBase,true)}}}TextResizeDetector.TARGET_ELEMENT_ID="wrapper";TextResizeDetector.USER_INIT_FUNC=init;
function onFontResize(e,args){updateStylesheets(args[0].iSize,true)}jQ(document).ready(function(){var images=document.getElementsByTagName("img");var imagesToProcess=[];forEachElementOf(images,function(image){imagesToProcess.push(image)});var maskClass=/([a-zA-Z]+)-mask/;var anchorOrDiv=/^a$|^div/i;forEachElementOf(imagesToProcess,function(image){var matchMaskClass=maskClass.exec(image.className);if(matchMaskClass&&image.parentNode.nodeName.match(anchorOrDiv)){var maskName=matchMaskClass[1];applyImageMaskImmediate(image,maskName)}})});