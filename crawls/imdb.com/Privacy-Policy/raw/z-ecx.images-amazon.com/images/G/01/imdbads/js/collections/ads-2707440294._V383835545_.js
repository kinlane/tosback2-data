(function(){window.generic=(window.generic||{});window.generic.install=function(c,b){var a;for(a in b){if(b.hasOwnProperty(a)){c[a]=b[a];}}};})();(function(a){a.install(a,{document_readys:[],document_is_ready:function(){var d=a.document_readys,b;a.document_readys=null;for(b=0;b<d.length;b++){try{d[b](jQuery);}catch(c){}}if(a.should_jQuery_noConflict){jQuery.noConflict(false);}},on_document_ready:function(b){if(a.has_document_readied()){b(jQuery);}else{a.document_readys.push(b);}},has_document_readied:function(){return a.document_readys===null;}});})(window.generic);function consoleLog(k,b,a){var j=window.consoleLog,e=document.location,d=e.host.match(/^(m|www|uk).imdb.[a-z]+$/),h=e.hash.match("debug=1"),f=(a==="error"||h||!d),g;if(!b){b="global";}else{(j[b]=j[b]||[]).push(k);}g=b+" : "+k;(j.global=j.global||[]).push(g);try{if(!f){return;}if(window.console){if(window.console[a]){window.console[a](g);}else{if(window.console.log){window.console.log(g);}}}}catch(c){}}function consoleWarn(b,a){consoleLog(b,a,"warn");}function consoleError(b,a){consoleLog(b,a,"error");}document.getElementsByTagName("html")[0].className+=" scriptsOn";(function(){var m=window.ads_js_start?new Date().getTime()-window.ads_js_start:null;var p=!0,x=!1,D=null,B=window,n=document,y=navigator.userAgent,d=/MSIE/.test(y),a=/Firefox/.test(y),o=window.generic,e="N4215";var v={top_ad:"t",top_rhs:"tr"};var A=document.all?function(H){return document.all[H];}:function(H){return document.getElementById(H);};var k=function(H){return document.getElementsByTagName(H);};var q=function(H){return A(H).contentWindow.document;};var t=function(I,J,H){if(I.attachEvent){I.attachEvent("on"+J,function(){H.apply(I,arguments);});}else{I.addEventListener(J,H,false);}};var f=Math.random()*10000000000000000;var G="/images/a/ifb/doubleclick/indirect.html";var F="us";var c=[/\/r[gir]?\//,/\/tiger_redirect/,/^https:/,/secure\.imdb\.com/,/pro\.imdb\.com/,/^javascript:/,/imdb\.[a-z]+\/update/,/resume/,/help/];var E=[[/%3B/g,";"],[/%3D/g,"="],[/%2C/g,","],[/%3F/g,"?"]];var w=450;var u=475;var l=/(\[|%5B)CLIENT_SIDE_ORD(\]|%5D)/g;var r=/(\[|%5B)PASEGMENTS(\]|%5D)/;var h=/(\[|%5B)CLIENT_SIDE_KEYVALUES(\]|%5D)/;var s={};var C={};var j=(function(){var Q,N,L="as",O=function(){var S="{";if(N){if("h" in N){S+=J("h");}if(("h" in N)&&("n" in N)){S+=",";}if("n" in N){S+=J("n");}}S+="}";o.cookie.set(L,S,o.days_to_midnight||1);},J=function(T){var S="";jQuery.each(N[T],function(U,V){S+='"'+U+'":['+K(V[0])+","+K(V[1])+"],";});return'"'+T+'":{'+S.substr(0,S.length-1)+"}";},H=function(){var S=o.cookie.get(L);if(S){try{N=jQuery.parseJSON(S);Q=Q||N||{};}catch(T){Q=Q||(N={});}}},K=function(T){var S=parseInt(T,10);return isFinite(S)?S:0;},M=function(){return(document.location.pathname==="/")?"h":"n";},I=function(T,U){var S=ad_utils.get_ad_object(T[0]);return((T.css("display")==="none")?0:parseInt(S.w,10));},R=function(U,W){var V=0,T=ad_utils.get_ad_object(U[0]),S=parseInt(T.h,10);if(W==="top_ad"){if(jQuery("#nb20").hasClass("banner")){V=-5;}else{if(jQuery("#nb20").hasClass("supertab")){V=-15;}}}else{if(W==="injected_billboard"){V=20;}}if("swfAutoMaxHeight" in U[0].contentWindow){S=U[0].contentWindow.swfMinHeight;}return((U.css("display")==="none")?0:S+V);},P={top_ad:"t",top_rhs:"tr",injected_navstrip:"in",injected_billboard:"ib"};return{store:function(){o.on_document_ready(function(U){var T;try{H();N=N||{};T=N[M()]||{};U.each(P,function(X,W){var V=U("#"+X);if(V.length!==0){T[W]=[I(V,X),R(V,X)];}});N[M()]=T;O();}catch(S){consoleLog("Failed to store ad size cookie "+S.toString(),"ads");}});}};})();var b=(function(){var I=function(J,K){var L=J.contentWindow?J.contentWindow.document:J.contentDocument;if(!a){L.open("text/html","replace");}L.write("<body>"+K+"<script>document.close()<\/script></body>");},H=function(L,M){var K="__srcless_"+Math.floor(Math.random()*68719476735).toString(36),J="<body><script>document.write(parent.ad_utils."+K+");delete parent.ad_utils."+K+";<\/script></body>";ad_utils[K]=M;L.src="javascript:unescape('"+escape(J)+"')";};return{inject_slot:function(J,K){var M=J.id,L="<style>body{background:transparent;}</style>"+K+'<script>document.write("<script defer>parent.ad_utils.ad_table.'+M+'.fired=true;<\\/script>");<\/script>';if(d){H(J,L);}else{I(J,L);}}};})();this.ad_utils={ord:f,ord_regex:l,current_tile:1,tile_regex:new RegExp("(/|;)!TILE!(;|\\?)"),tile_fn:function(H){return";tile="+(H)+";";},ad_table:{},ad_queue:[],low_latency_punt_ads:{},queue_ad:function(K,L){var H=this.ad_queue,J=H.length>0?H[H.length-1].slot:null,I={tile:K,slot:L,prev:J};H.push(I);o.monitoring.update_slot_metrics(L,"iframe");this.ad_table[L]=I;},register_ad:function(H){o.monitoring.update_slot_metrics(H,"iframe");this.ad_table[H]={slot:H};},render_ad_fast:(function(){var H=100;function I(T,R){var N=n.getElementById(T),W=N.contentWindow,K=N.getAttribute("data-dart-params"),P=K?K.replace(ad_utils.tile_regex,ad_utils.tile_fn(R)):undefined,X=N.getAttribute("data-override-url"),M=X||custom.doubleclick.construct_url(P),V=N.getAttribute("data-bid-url"),U=/^http/.test(V),Q=ad_utils.weblab.get_treatment("DTB/AAX Bid")==="treatment",S=U&&Q?'<script>var bid_start = new Date().getTime();\nvar bid_time;\nvar bidOnLoad = function(){bid_time = new Date().getTime() - bid_start;}<\/script><script src="'+V+"&cb="+f+"\" onload=\"bidOnLoad();\"><\/script><script>\nif (document.serveCornerstone){\nif (document.amzn_ads){parent.generic.monitoring.record_metric('dtb_bid.win',bid_time);document.ad = document.cornerstoneAd;\nfor(var prop in document.amzn_ads){\n document.write(document.amzn_ads[prop]);}\n}else{parent.generic.monitoring.record_metric('dtb_bid.void',bid_time);}}<\/script>":"",J='<script src="'+M+'"><\/script>'+S,L=ad_utils.inject_ad.get_injectable_slots(T),O;o.monitoring.start_timing(T);o.monitoring.update_slot_metrics(T,"request");for(O=0;O<L.length;O++){o.monitoring.start_timing(L[O]);o.monitoring.update_slot_metrics(L[O],"request");}b.inject_slot(N,J);W.show_ad_feedback=function(){o.on_document_ready(function(){ad_utils.show_ad_feedback(T);});};W.d16g_external_callback=function(Y){n.ad=Y;ad_utils.expand_ad(N);};}return function(N){var M=o.monitoring.get_metric_value("top_ad","request"),L=csm.duration()-M,J=H-L,K=ad_utils.current_tile++;if(N==="top_rhs"&&isFinite(J)){o.monitoring.record_metric("master_companion_delay",J);if(J>0){setTimeout(function(){I(N,K);},J);}else{I(N,K);}}else{I(N,K);}};})(),render_ad:function(Q,N,R){var M=this.ad_queue,K=N.frameElement,P=K.id;if(!this.ad_table[P]){this.ad_table[P]={slot:P};}var I=this.ad_table[P].prev,L=Q.location.hash,J=R||custom.doubleclick.construct_url(L);N.show_ad_feedback=function(){o.on_document_ready(function(){ad_utils.show_ad_feedback(P);});};N.d16g_external_callback=function(S){Q.ad=S;ad_utils.expand_ad(N.frameElement);};try{if(M.length===0||M[0].slot==P){if(I){this.ad_table[I].onFireAd=null;}M.shift();this.ad_table[P].fired=true;this.ad_table[P].render="normal";try{o.monitoring.start_timing(P);o.monitoring.update_slot_metrics(P,"request");}catch(H){consoleLog("start_timing failed: "+H.toString(),"ads");}Q.write('<script src="'+J+'" type="text/javascript"><\/script>');if(this.ad_table[P].onFireAd){this.ad_table[P].onFireAd();}}else{if(I){this.ad_table[I].onFireAd=function(){N.location.reload();};}}}catch(O){Q.write('<script src="'+J+'" type="text/javascript"><\/script>');}},resize_iframe:function(H){this.expand_ad(H);},expand_ad:function(L){var S=this,Q=L.id,O=L.height,R=L.width;if("expand_called" in this.ad_table[Q]){return;}var M=L.parentNode.id,N=this.get_ad_object(L),P=A(Q+"_before"),I=A(Q+"_after"),J,K=csm.duration(),H=A(Q+"_reflow_helper"),T=H!==null?H.offsetTop:null;if((Q+"_wrapper")!==M){if(!o.has_document_readied()){o.on_document_ready(function(){S.expand_ad(L);});return;}}if(!this.ad_table||!this.ad_table[Q]){return;}else{this.ad_table[Q].expanded=1;}if(N){if(!document.ads){document.ads={};}document.ads[N.cid]=N;if("w" in N){L.width=parseInt(N.w,10);}if("h" in N){L.height=parseInt(N.h,10);}if("z" in N&&N.z){L.parentNode.style.zIndex=N.z;L.parentNode.style.position="relative";}if(N.st){this.expand_supertab(N);}else{if(N.bb){this.expand_billboard(N);}else{if(L.id==="top_ad"&&this.is_open(N)&&!N.clickroll&&!N.overlay){this.expand_top_banner();}}}if(N.wrap){this.expand_wrap(N);}if(N.bamf){this.expand_bamf(N,L);}if(N.inner_bamf){this.expand_inner_bamf(N);}if(N.relative_bamf){this.expand_relative_bamf(N);}if(this.is_open(N)){if(P){this.display_label(P);}if(I){this.display_label(I);}}else{this.collapse_ad(L);}if(N.styles){for(J in N.styles){o.override_style(J,N.styles[J].style);}}}this.ad_table[Q].expand_called=1;o.on_document_ready(function(U){U(L).trigger("expand_ad");});if(O===L.height&&R===L.width){o.monitoring.update_slot_metrics(Q,"reflow",0);}else{setTimeout(function(){var U=(Q==="top_ad"&&ad_utils.is_open(N)&&!N.st)?10:0;if(H!==null&&H.offsetTop===T+U){o.monitoring.update_slot_metrics(Q,"reflow",0);}else{o.monitoring.update_slot_metrics(Q,"reflow",K);}},10);}o.monitoring.update_slot_metrics(Q,"tagdeliver",K);j.store();document.body.className=document.body.className;},get_ad_object:function(N){var S=N.id,K=q(S),P=null;try{P=K.ad;}catch(R){consoleLog("Cannot access ad parameters: "+R.toString(),"ads");}if(!P){var H=0;var U=0;var T=["img","object","embed","iframe"];var O,M,J;for(M in T){J=K.getElementsByTagName(T[M]);for(O=0;O<J.length;O++){var I=J[O],L,Q;L=I.scrollWidth||I.width;Q=I.scrollHeight||I.height;if(L&&L>1){H=Math.max(H,parseInt(L,10));}if(Q&&Q>1){U=Math.max(U,parseInt(Q,10));}consoleLog(S+" : estimated size : "+L+","+Q,"ads");}}P={w:H.toString(),h:U.toString(),pid:"",url:"",aid:"0",cid:"0"};if(H===0||U===0){P.scope="null";}}else{if(!("pid" in P)){P.pid="DFP";}if(!("url" in P)){P.url='http://ad.doubleclick.net/" + DART_NETWORK_CODE + "/adi/d16g-sec.preview/;cid='+("cid" in P?P.cid:"");}}K.ad=P;return P;},get_cornerstone_ad_object:function(H){var I=v[H]+"adData";if("aanResponse" in top.document&&I in top.document.aanResponse){return top.document.aanResponse[I];}return null;},get_mapped_amazon_slot_name:function(H){return v[H]?v[H]:H;},clean_up_slot_metrics:function(H){var L=H.id,J=q(L),I=this.get_ad_object(H);try{o.monitoring.stop_timing(L,this.get_type_of_ad(I),true);}catch(K){consoleLog("stop_timing failed: "+K.toString(),"ads");}if(J.location.href.match(/\/ads\/request\//)){this.log_ad_impression(I,L);}},on_ad_load:function(H){var K=H.id,J=this.get_ad_object(H),I=this.ad_table[K];if(!I||!I.fired){consoleLog("deflected spurious onload event for "+K,"on_ad_load");return;}I.loaded=true;if(J.scope==="blank"||J.scope==="null"){if(H.getAttribute("data-original-width")==="0"&&H.getAttribute("data-original-height")==="0"){o.monitoring.update_slot_metrics(K,"load",0);}else{o.monitoring.update_slot_metrics(K,"load",o.monitoring.get_metric_value(K,"reflow"));}}else{o.monitoring.update_slot_metrics(K,"load");}o.monitoring.update_slot_metrics(K,"trueload");if(!I.expanded){this.expand_ad(H);}this.clean_up_slot_metrics(H);this.ad_load.loaded(K);},ad_load:(function(){var H={};return{loaded:function(K){var I,J=H[K];if(J){for(I=0;I<J.length;I++){J[I]();}}},listen:function(J,I){if(ad_utils.ad_table[J]&&ad_utils.ad_table[J].loaded){setTimeout(I,0);}else{(H[J]=H[J]||[]).push(I);}}};})(),is_open:function(H){return H&&"w" in H&&"h" in H&&H.w>0&&H.h>0&&H.scope!=="blank";},expand_supertab:function(J){var I=A("nb15"),H=A("nb20");if(I){I.className="supertab";}else{if(H){H.className="supertab";}}},expand_billboard:function(R){var af=document,J="injected_billboard",ab=A(J),O=ab.parentElement||ab.parentNode,L=ab.contentWindow.document,aa=L.getElementsByTagName("body"),S=aa.length===1?aa[0]:L.createElement("body"),T=A("top_rhs_wrapper"),V=R.bb_close,ad=R.bb_show,Z="ax",ag,ae,N,Q,K;if(!O){return false;}O.className=(O.className?O.className+" ":"")+"billboard";function ac(){var ak=o.cookie.get(Z),ah=ak&&ak.split(/o|c/),ai=ak&&ak.split(/\d*/),al={},aj;if(ah&&ai){if(ai[0]===""){ai.shift();}for(aj=0;aj<ai.length;++aj){al[ah[aj]]=ai[aj];}}ae=al;}function I(){var ai="",ah=new Date(),aj,ak;for(ak in ae){if(ae.hasOwnProperty(ak)){ai+=ak+ae[ak];}}o.cookie.set(Z,ai,o.days_to_midnight||1);}function U(am,an){var aj=L.createElement("div"),ak=am.getElementsByTagName(an),ai,al,ah="";for(ai=0;ai<ak.length;++ai){al=ak[ai];al.parentNode.removeChild(al);aj.appendChild(al);ah+=aj.innerHTML;aj.removeChild(al);}return ah;}function Y(){if(parseInt(ab.style.height,10)!==parseInt(L.ad.h,10)){ab.contentWindow.minimize();}ab.style.display="none";N.style.display="block";ac();ae[R.aid]="c";I();ag="";ag+=U(L,"object");ag+=U(L,"embed");j.store();O.style.margin="0px";}function W(){N.style.display="none";ab.style.display="block";ac();ae[R.aid]="o";I();if(ag){S.innerHTML=ag+S.innerHTML;}L.getElementById("billboard_close_button").onclick=Y;j.store();O.style.margin="20px 19px";}function M(ah){var ai=ah,aj=0;while(ai){aj+=ai.offsetTop;ai=ai.offsetParent;}return aj;}function P(){if(!T){return false;}var ah=(T.parentElement||T.parentNode),ai=A("injected_billboard_reflow_helper");return ah&&ai&&(ah.offsetTop<=ai.offsetTop+100||M(ah)<=M(ai)+100);}if(R.bb===1){Q=L.createElement("div");Q.id="billboard_close_button";Q.style.cssFloat="right";Q.style.cursor="pointer";Q.style.position="absolute";Q.style.top=0;Q.style.right=0;Q.innerHTML=V;Q.onclick=Y;S.appendChild(Q);N=af.createElement("div");N.id="billboard_show_button";N.innerHTML=ad;N.onclick=W;if(P()){(T.parentElement||T.parentNode).insertBefore(N,T);}else{var X=document.getElementById("sidebar")||document.getElementById("maindetails_sidebar_top")||document.getElementById("sidebar-wide"),H=X?X.parentNode||X.parentElement:{};if(X&&H.id!=="content-2-narrow"){X.insertBefore(N,X.firstChild);}else{N.style.marginRight="19px";N.style.marginTop="20px";O.parentNode.insertBefore(N,O);}}ac();if(R.aid in ae&&ae[R.aid]==="c"){Y();}}return true;},expand_top_banner:function(){var H=A("nb15");if(H){H.className="banner";}else{A("nb20").className="banner";}},expand_bamf:function(J,H){var I=J.bamf;o.extend(H.style,I.style);},expand_inner_bamf:function(I){var H=I.inner_bamf;var J=A(H.targetId);if(J&&H.node){o.insert_after(H.node,J);}},expand_relative_bamf:function(J){var H=J.relative_bamf;var K=A(H.targetId);var I;if(H.relation=="insert_after"){I=o.insert_after;}else{if(H.relation=="insert_before"){I=o.insert_before;}else{if(H.relation=="insert_inside"){I=o.insert_inside;}}}if(K&&H.node){I(H.node,K);}},expand_wrap:function(I){if(!I.styles){I.styles={};}var H={"styleguide-v2":{style:{background:I.wrap}},root:{style:{"background-color":"transparent","box-shadow":"none"}},pagecontent:{style:{height:"100%"}},nb20:{style:{background:"none"}}};o.extend(I.styles,H);},expand_label:function(H){H.className=H.className.replace(/hidden/,"");},display_label:function(H){H.className=H.className.replace(/ads-invisible/,"");},collapse_ad:function(H){var J=H.id,I=function(L){var K=A(L);if(K){K.className="hidden";}};H.style.display="none";I(J+"_before");I(J+"_after");},log_ad_impression:function(J,K){var I="/ads/record/[scope];[slot];[aid];[cid];[ord];[time].js";I=I.chained_replace([[/\[slot\]/g,K],[/\[ord\]/g,this.ord],[/\[time\]/g,new Date().getTime()]]);var H=J?[[/\[scope\]/g,J.scope||"0"],[/\[aid\]/g,J.aid],[/\[cid\]/g,J.cid]]:[[/\[scope\]/g,"null"]];I=I.chained_replace(H);o.load_script(I);},get_type_of_ad:function(H){if(!H){return"null";}if(H.scope){return H.scope;}return"got_ad";},show_ad_feedback:function(P){function Q(){K("#ad_feedback_"+P).remove();return false;}function L(Z){var V=K(window),Y=K(document),X=(V.width()-300)/2+Y.scrollLeft(),W=(V.height()-320)/2+Y.scrollTop();Z.css({top:W<0?0:W,left:X});}try{var K=jQuery,I=document.getElementById(P),U=I.contentWindow,R=ad_utils.get_ad_object(I),T,N=U.location.hash.match(/#([^;]*);/),J={adId:(R?R.aid:""),cid:(R?R.cid:""),page_id:window.location.href.substr(0,255),pagesubtype:(N?N[1]:""),slot:P},H=J.adId+";"+J.cid+";"+J.slot,S=K("#ad_feedback_container"),M=0;K("div.dfp_slot iframe").each(function(){var X=this.id,W=this.contentDocument,V=ad_utils.get_ad_object(this);if(!(X in C)&&V){T=ad_utils.get_cornerstone_ad_object(X);if(T){C[X]={aid:T.adId,cid:T.creativeId,pid:T.adNetwork};}else{C[X]={aid:V.aid,cid:V.cid,pid:V.pid};}C[X].url=V.url;C[X].dim=V.w+"x"+V.h;}});K.each(C,function(V,W){J["slot_"+M]=V;J["cid_"+M]=W.cid;J["aid_"+M]=W.aid;J["pid_"+M]=W.pid;J["dim_"+M]=W.dim;J["url_"+M]=W.url;M++;});if(S.length===0){S=K('<iframe id="ad_feedback_container">');S.addClass("hidden").attr({name:"ad_feedback_container",scrolling:"no",frameborder:"no",marginheight:"0",marginwidth:"0",allowtransparency:"yes"});S[0].hide=function(){K(this).addClass("hidden");};S[0].show=function(){K(this).removeClass("hidden");};S[0].isHidden=function(){return S.hasClass("hidden");};K("body").append(S);}if(S.attr("src")===""||S.attr("ref")!==H){S.unbind().load(function(){S[0].show();L(S);K(this).unbind();}).attr("src","/ads/feedback.html#"+K.param(J)).attr("ref",H);}else{if(S[0].isHidden()){S[0].show();L(S);}else{S[0].hide();return false;}}}catch(O){consoleLog("ad feedback failure : "+O,"ads");Q();}return false;},report_ad_data:function(L,J){var I=L,M,H={};if(I===top){return;}try{while(I.parent!==top){I=I.parent;}M=I.frameElement.id;}catch(K){consoleLog("could not determine ad slot: "+K);return;}$.each("aid cid pid url dom dim".split(" "),function(N,O){if(O in J){H[O]=J[O];}});C[M]=H;},ns:(function(){var J={},I=function(N,K,M){var L;if(typeof N==="string"){L=N;}else{L=N.frameElement.id;}H(L)[K]=M;},H=function(K){return(J[K]=J[K]||{});};return{register:I,get:H};})(),inject_ad:(function(){var K={},I={},L={},J=function(M){consoleLog(M,"inject_ad");},H={injected_billboard:"top_ad",injected_navstrip:"top_ad"};return{render:function(O){var M=A(O),N=K[O];if(!L[O]){J(O+" rendered");L[O]=1;ad_utils.ad_table[O]={slot:O,injected:true};if(N){b.inject_slot(M,N);}else{b.inject_slot(M,'<script>document.ad = {h:"0",w:"0",scope:"blank"}<\/script>');}}},register:function(O){var N=H[O],M=this;J(O+" registered");I[O]=1;ad_utils.ad_load.listen(N,function(){M.render(O);});o.monitoring.update_slot_metrics(O,"iframe");},inject:function(N,M){J(N+" injected");K[N]=M;if(I[N]){this.render(N);}},get_injectable_slots:function(O){var M=[],N;for(N in H){if(H[N]===O){M.push(N);}}return M;}};})(),weblab:(function(){var H={};return{set_treatment:function(I,J){H[I]=J;},get_treatment:function(I){return H[I];}};})(),attach_aax_callback:function(I,H){H.aax_render_ad=function(J){if(J&&J.html){H.document.write(J.html);H.document.got_aax_ad="got_ad";}else{H.document.got_aax_ad="blank";}o.monitoring.update_slot_metrics(I,"tagdeliver");};},aax_render_ad:function(K){var I=A(K),H=I.getAttribute("data-aax-url"),J="<script>parent.ad_utils.attach_aax_callback('"+K+"', window);<\/script><script src=\""+H+'"><\/script>';I.onload=function(){var L=ad_utils.ad_table[K];if(!L||!L.fired){consoleLog("deflected spurious cornerstone onload event for "+K,"aax_render_ad");return;}if(I.contentWindow.document.got_aax_ad!=="got_ad"){I.style.display="none";o.monitoring.stop_timing(K,"blank",false);}else{o.monitoring.stop_timing(K,I.contentWindow.document.got_aax_ad,false);}o.monitoring.update_slot_metrics(K,"load");};o.monitoring.start_timing(K);o.monitoring.update_slot_metrics(K,"request");b.inject_slot(I,J);},register_punt_ad:function(K,J,H,I){this.low_latency_punt_ads[K]={w:J,h:H,markup:I};},inject_punt_ad:function(N,O){var K=N.frameElement,P=K.id,J=K.contentWindow?K.contentWindow.document:K.contentDocument,I=null,M=null,H=(J&&J.ad&&J.ad.aid)?J.ad.aid:"0",L=(J&&J.ad&&J.ad.cid)?J.ad.cid:"0";if(P in this.low_latency_punt_ads){I=this.low_latency_punt_ads[P];J.ad={w:I.w,h:I.h,pid:"",url:"",aid:H,cid:L};this.expand_ad(K);M=I.markup.replace(/\[PUNT_ORIGIN\]/,encodeURIComponent('{"punt_origin":"'+O+'"}'));J.write(M);o.monitoring.update_slot_metrics(P,"punt_got_ad");}else{o.monitoring.update_slot_metrics(P,"punt_blank");}},fp:(function(){var J="advertisingFlashPersistence",I=function(){var N;if(window.localStorage&&window.JSON){N=localStorage.getItem(J);if(N){try{return JSON.parse(N);}catch(M){localStorage.removeItem(J);consoleLog("Could not deserialize flash persistence variable");}}return{};}return null;},L=function(M){if(window.localStorage&&window.JSON){localStorage.setItem(J,JSON.stringify(M));}},K=new Date().getTime(),H=K-86400000;return{should_autoplay:function(M){var N=I();if(!N){return false;}if(N[M]&&N[M].l&&N[M].l>H){return false;}return true;},log_autoplay:function(M){var N=I();if(N){N[M]={l:K};L(N);}else{consoleError("Autoplay logged, but localStorage is not available!");o.monitoring.record_event("flash_persistence_failure",true);}}};})()};o.install(o,{should_jQuery_noConflict:(window.$&&!window.jQuery),one_way_send_record:[],insert_after:function(H,J){try{J.parentNode.insertBefore(H,J.nextSibling);}catch(I){J.parentNode.appendChild(H);}},insert_before:function(H,I){I.parentNode.insertBefore(H,I);},insert_inside:function(H,I){I.appendChild(H);},extend:function(H,J){var I;for(I in J){if(typeof J[I]=="object"){if(H[I]!=J[I]){if(typeof H[I]=="undefined"){H[I]={};}this.extend(H[I],J[I]);}}else{H[I]=J[I];}}},override_style:function(L,J,K){var H="#"+L,I;for(I in J){J[I]+=" !important";}o.add_json_style(H,J,K);},add_json_style:function(H,K,M,L){var J=H+"{",I;for(I in K){J+=I+":"+K[I]+";";}J+="}";o.add_css_style(J,M,L);},add_css_style:function(O,I,N){var J="css-style-generic",H=[J],L,P,M;if(!I||!I.length){I=J;}else{H.push(I);}if(!N){N="a";}for(M in H){if(!A(H[M])){L=document.createElement("style");L.setAttribute("type","text/css");L.id=H[M];k("head")[0].appendChild(L);}}L=A(I);if(L.styleSheet&&"cssText" in L.styleSheet){P=(N==="a"?L.styleSheet.cssText:"")+O;L.styleSheet.cssText=P;}else{P=(N==="a"?L.innerHTML:"")+O;try{L.innerHTML=P;}catch(K){L.innerText=P;}}},add_css_file:function(H,J){if(!J){J="css-file-generic";}var I=A(J);if(!I){I=document.createElement("link");I.setAttribute("type","text/css");I.rel="stylesheet";I.id=J;k("head")[0].appendChild(I);}I.href=H;},set:function(I,H){var J=I.split(":");if(J[0]=="cookie"){o.cookie.set(J[1],H);}else{o.cache.set(J[1],H);}},get:function(H){var I=H.split(":");if(I[0]=="cookie"){return o.cookie.get(I[1]);}else{return o.cache.get(I[1]);}},erase:function(H){var I=H.split(":");if(I[0]=="cookie"){return o.cookie.erase(I[1]);}else{return o.cache.erase(I[1]);}},cache:{set:function(H,I){s[H]=I;},get:function(H){return s[H];},erase:function(H){delete s[H];}},load_script:function(I){var H=document.createElement("script");H.type="text/javascript";H.src=I;k("head")[0].appendChild(H);},load_script_notify:function(K,H){var I=document.createElement("script"),J=false;I.type="text/javascript";I.src=K;I.onload=I.onreadystatechange=function(){var L=this.readyState;if((J)||(L&&L!="complete"&&L!="loaded")){return;}J=true;document.body.removeChild(I);if("function"===typeof(H)){H(K);}};document.body.appendChild(I);},one_way_send:function(H){imageObj=new Image(0,0);imageObj.src=H;this.one_way_send_record.push(imageObj);},extensions:{String:{chained_replace:function(I){var K=this,H;for(H=0;H<I.length;H++){var J=I[H];K=K.replace(J[0],J[1]);}return K;},collapse:function(I,H){var K=this;while(K.length>H){var J=K.replace(I,"");if(J.length==K.length){break;}K=J;}return K;}}},load_when_visible:function(H,N){var K=0;var M=jQuery(window);var L=M.height()+M.scrollTop();if(jQuery("#"+H).length){var J=jQuery(jQuery("#"+H).get(0));var I=J.offset().top;if(L>I){N(H);}else{M.scroll(function(){L=M.height()+M.scrollTop();I=J.offset().top;if((L>I)&&!K){K=1;N(H);}});}}else{N(H);}},unload_plugins:function(){var M=[document],P,H,L,I,O,J,N=new RegExp("^("+location.protocol+"//"+location.hostname+")?(/.*)?$"),K=function(Q){var R,S;for(R=Q.length-1;R>=0;R--){S=Q[R];S.parentNode.removeChild(S);}};while(M.length){P=M.pop();K(P.getElementsByTagName("object"));K(P.getElementsByTagName("embed"));L=P.getElementsByTagName("iframe");for(J=L.length-1;J>=0;J--){I=L[J];if(N.test(I.src)){O=I.contentWindow.document;if(O){M.push(O);}}else{K([I]);}}}}});String.prototype.chained_replace=o.extensions.String.chained_replace;String.prototype.collapse=o.extensions.String.collapse;this.custom={amazon:{segments:null,complete_segments:null,aan_call_name:"aan_call",get_segments:function(H){if(!this.segments){var I=o.cookie.get(F)||"";I=I.replace(/[^a-zA-Z0-9;=]/g,"");this.segments=I.collapse(/s=[^;]*;$/,H);var J=I.length-this.segments.length;if(J!==0){o.monitoring.record_metric("seg_trimmed",J);}}return this.segments;},load_callback:function(H){this.complete_segments=H;trimmed_segs=H.collapse(/s=[^;]*;$/,w);o.cookie.set(F,trimmed_segs,7);if(this.segments===null){o.monitoring.stop_timing(this.aan_call_name,"in_time",false);csm.measure("csm_aan_response.in_time");}else{o.monitoring.stop_timing(this.aan_call_name,"late",false);csm.measure("csm_aan_response.late");}},aan_iframe_oncall:function(){o.monitoring.start_timing(custom.amazon.aan_call_name);csm.measure("csm_aan_request");}},doubleclick:(function(){var H=[],L=function(O){O=O.replace(l,f);O=O.replace(h,H.join(";"));O=O.chained_replace(E);var M=u-O.chained_replace([[r,""],[/^[^\;]*/,""]]).length;var N=custom.amazon.get_segments(M);return O.replace(r,N);},I=/\[PLAYLISTINDEX\]/,J=/\[PLAYLISTID\]/,K=/\[PLAYERTYPE\]/;return{construct_url:function(N){var M=(N.match(";ifb=pf;"))?"pfadj":"adj";var O=escape(N.substring(1,N.length));O=L(O);return document.location.protocol+"//ad.doubleclick.net/"+e+"/"+M+"/"+O;},construct_video_url:function(N,M){N=L(N);N=N.replace(I,"vi="+(M.listindex||"0"));N=N.replace(J,M.list?"vl="+M.list:"");N=N.replace(K,"vt="+M.playertype);return document.location.protocol+"//ad.doubleclick.net/"+e+"/pfadx/"+N;},add_client_side_keyvalue:function(M,N){H.push(M+"="+N);}};})(),indirect:{close:function(H){if(H.location.href.match("floater")){custom.floater.close(H.frameElement.id);}}},full_page:{style_id:"custom__full_page__generated_styles",data_url:"/images/a/js/graffiti_data.js",apply:function(I){var H=this;document.getElementById("root").style.boxShadow="none";window.generic.on_document_ready(function(){H.settings=I;if("styles" in H){H._apply();}else{window.generic.load_script_notify(H.data_url,function(){H._apply();});}});},_apply:function(){var J,K=this.settings.ARGS.split(/&/),I={},H=this,M="/* ARGS:"+this.settings.ARGS+" */\n";jQuery.each(K,function(O,P){var N=/^(.*)=(.*)$/.exec(P);if(N.length===3){I[N[1]]=unescape(N[2].replace(/\+/g," "));}});J=this.invert_styles(I.treatment);jQuery.each(J,function(N,O){if(O.fixed){M+=H.format_css(O,O.fixed);}else{if(I[N]||O["default"]){M+=H.format_css(O,I[N]);}}});try{jQuery("style#"+this.style_id).remove();jQuery("head").append(jQuery('<style type="text/css">').attr("id",this.style_id).html(M));}catch(L){o.add_css_style(M,this.style_id,"o");}},invert_styles:function(I){var J=["default","important","fixed"],H={};jQuery.each(this.styles[I],function(L,K){jQuery.each(K,function(M,N){var O=H[N.name]={style:L,selector:N.selector};jQuery.each(J,function(Q,P){if(N[P]){O[P]=N[P];}});});});return H;},format_css:function(H,I){return H.selector+" { "+H.style+" : "+(I?I:H["default"])+(H.important?" !important ":"")+"}\n";}},floater:{close:function(H){o.extend(A(H),{style:{width:"0px",height:"0px"}});},launch:function(H,P,M,N,L,J,I){var K=document.createElement("iframe"),O=typeof N==="string"?A(N):N;if(M!="none"){setTimeout(function(){custom.floater.close(I);},M*1000);}o.extend(K,{id:I,name:I,src:H,width:P[0]+"px",height:P[1]+"px",frameBorder:"0",scrolling:"no",allowTransparency:"true",style:{marginLeft:J[0]+"px",marginTop:J[1]+"px",zIndex:J[2],position:"absolute"}});L(K,O);},set:function(L,J,K,H,I,M){o.cache.set("floater",L);var N="floater_"+Math.ceil(Math.random()*9999999);custom.floater.launch(G+"?source=cache:floater",J,K,H,I,M,N);return N;}}};var g=function(H,I){return((I))?'<param name="'+H+'" value="'+I+'">':"";};var z=function(H,I){return((I))?" "+H+'="'+I+'" ':"";};this.flashAdUtils={makeFlashAd:function(O){var Z=O.id,P=O.src,aa=O.width,R=O.height,T=O.bgcolor,ak=O.wmode||"opaque",Q=O.salign,am=O.scale,ai=O.extraParams,aj=O.extraTAGs,ac=O.minVersion,H=escape(O.clickThru),ah=O.clickTAGs,K=function(ao){return ao!==null&&ao!==undefined&&(ao+"").length;},ag=function(ao){return isFinite(parseInt(ao,10));},M="",af,an,U;if(!K(Z)||!K(P)||!ag(aa)||!ag(R)){consoleLog("makeFlashAd: Missing required params","flashAdUtils");return;}if(!flashAdUtils.canPlayFlash(ac)){consoleLog("makeFlashAd: Current flash version too low","flashAdUtils");}if((ah)){for(af=0;af<ah.length;af++){if(ah[af]){M=M+"&clickTAG"+(af+1)+"="+escape(ah[af]);}}}if((aj)){for(an in aj){M=M+"&"+escape(an)+"="+escape(aj[an]);}}M+="&ord="+ad_utils.ord;var I="";var X="";try{var W={width:1,height:1,src:1,bgcolor:1,wmode:1,salign:1,scale:1,flashvars:1};for(U in ai){if(W[U]){continue;}I=I+g(U,ai[U]);X=X+z(U,ai[U]);}}catch(S){}var ae=g("bgcolor",T);var N=z("bgcolor",T);var ad=g("wmode",ak);var L=z("wmode",ak);var ab=g("scale",am);var J=z("scale",am);var al=g("salign",Q);var V=z("salign",Q);var Y='<object  classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"  width="'+aa+'"  height="'+R+'"  id="swf_'+Z+'"><param name="movie" value="'+P+'"><param name="flashvars" value="env=WEB&clickTAG='+H+"&"+M+'"><param name="play" value="true"><param name="quality" value="high"><param name="allowScriptAccess" value="always">'+ab+al+ae+ad+I+'<div style="margin-left:0.1px"><embed src="'+P+'"  flashvars="env=WEB&clickTAG='+H+"&"+M+'"  quality="high"  play="true"  width="'+aa+'"  height="'+R+'"  name="swf_'+Z+'"  allowScriptAccess="always"  type="application/x-shockwave-flash"  pluginspage="http://www.macromedia.com/go/getflashplayer" '+J+V+N+L+X+"></embed></div></object>";return Y;},canPlayFlash:function(I){var M=false;var P=parseInt(I,10);if(!I||P<9){I=9;}else{I=P;}var H=(navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"])?navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin:0;if(H&&navigator.plugins["Shockwave Flash"]){var R=navigator.plugins["Shockwave Flash"].description.split(" "),Q,K;for(K=0;K<R.length;++K){if(isNaN(parseInt(R[K],10))){continue;}Q=parseInt(R[K],10);}M=Q>=I;}else{if(navigator.userAgent&&navigator.userAgent.indexOf("MSIE")>=0&&(navigator.appVersion.indexOf("Win")!==-1)){try{var L=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+I);L.AllowScriptAccess="always";var O=L.GetVariable("$version");var N=O.match(/([0-9]+)/);M=N[1]>=I;}catch(J){}}}return M;}};j.store();o.on_document_ready(function(I){var H;I(window).load(function(){j.store();});});o.on_document_ready(function(){t(window,"unload",function(){o.unload_plugins();});});if(m){o.on_document_ready(function(){o.monitoring.record_metric("ads_js_response",m);});}})();(function(a){a.install(a,{extended_split:function(g,f,b){var d=[],c=0,e;while(!b||d.length<b-1){e=g.indexOf(f,c);if(e===-1){break;}d.push(g.substring(c,e));c=e+f.length;}d.push(g.substring(c));return d;},object_from_querystring:function(f){var d=f.split("&"),e={},b,c;if(f===""){return{};}for(b=0;b<d.length;b++){c=a.extended_split(d[b],"=",2);e[c[0]]=(c.length===1)?null:decodeURIComponent(c[1]);}return e;},cookie:{set:function(f,h,j){var c,b,e,g;if(j){var d=new Date();d.setTime(d.getTime()+(j*24*60*60*1000));c="; expires="+d.toGMTString();}else{c="";}b=document.location.host.split(".");e=b.pop();g=b.pop();document.cookie=f+"="+escape(h)+c+"; path=/; domain="+g+"."+e;},get:function(c){var b=document.cookie.split(";"),d,e;for(d=0;d<b.length;d++){if(typeof b[d]!="string"){continue;}e=b[d].split("=");if(e[0]&&e[1]&&e[0].replace(/\s/,"")==c){return unescape(e[1]);}}return null;},erase:function(b){this.set(b,"",-1);}}});})(window.generic);(function(k,o,d){var p=(k.generic=k.generic||{});var b={};var l=k.IMDbTimer;var a=("IMDbTimer" in k)?k.IMDbTimer.starttime:NaN,q=o.location.hash.match("debug=1"),g=q||(!isNaN(a)&&Math.random()<0.25),f=q||(Math.random()<0.1),h=("/"===o.location.pathname||"/index.html"===o.location.pathname||"/index"===o.location.pathname),n=null;var j=(function(){var r={},v={top_ad:d,top_rhs:d,bottom_ad:d},s={top_ad:1,top_rhs:1,injected_navstrip:1,injected_billboard:1,bottom_ad:2,middle_rhs:2,btf_rhs2:2,rhs_cornerstone:2},w={top_ad:1,top_rhs:1,bottom_ad:1},t={reflow:1,"ad-delivery":1,load:1},u={};p.on_document_ready(function(x){x(k).bind("beforeunload",function(){var z,y;for(z in r){y=r[z];if(y.request&&y.load===d){p.monitoring.record_event("ad_load_failure."+z);}}p.monitoring.send_metrics();});});return{is_slot_monitored:function(x){return(x in s)||(x in w);},is_twilight_slot:function(x){return(x in s);},is_twilight_core_slot:function(x){return(x in s&&s[x]===1);},is_forester_slot:function(x){return(x in w);},is_forester_event:function(y,x){return this.is_forester_slot(y)&&x in t;},set_metric_value:function(z,x,y){(r[z]=r[z]||{})[x]=y;},get_metric_value:function(y,x){if(y in r){return r[y][x];}},core_slots:function(){var y={},x;for(x in s){if(s[x]===1){y[x]=1;}}return y;},get_core_slots_duration:function(x){var y=0,z;for(z in j.core_slots()){if(d===this.get_metric_value(z,x)){return null;}y=Math.max(y,this.get_metric_value(z,x));}return y;},record_slot_status:function(y){var x=y.match(/^(.*)\.(got_ad|null|blank)$/);if(x){u[x[1]]=x[2];}},core_slots_have_an_ad:function(){var y,x=false;for(y in j.core_slots()){if(!(y in u)){return null;}if(u[y]==="got_ad"){x=true;}}return x;},set_remnant_partner:function(y,x){v[y]=x;return this;},get_remnant_partner:function(x){return v[x];}};})();var m="http://www.imdb.com/twilight/?";var c=(function(){var s=(function(){var u="DART";return{prepare_and_send_metric:function(v,y,x,w){t({slot:y,ad_network_name:u,aid:v.aid,cid:v.cid,slot_event:x,time:w});}};})(),r=(function(){var u="PDA",w=20,v=100;return{prepare_and_send_metric:function(C,B,A){var z,y=w,x;x=function(){z=ad_utils.get_cornerstone_ad_object(C);if(z){t({slot:C,ad_network_name:u,aid:z.adId,cid:z.creativeId,slot_event:B,time:A});}else{if(--y){setTimeout(x,v);}else{}}};x();}};})(),t=function(y){var C,z,G,A,u,w,E,D,x,F,B;if(!f||!j.is_forester_slot(y.slot)){return;}C="http://fls-na.amazon.com/1/display-ads-cx/1/OP/?";z="LMET";G="imdb";A=ad_utils.get_mapped_amazon_slot_name(y.slot);u=page_type;w=y.ad_network_name;E=y.aid;D=y.cid;F=y.time;x=y.slot_event;B='{"s":"'+G+'","l":"'+A+'","p":"'+u+'","n":"'+w+'","a":"'+E+'","c":"'+D+'","m":"'+x+'","v":"'+F+'"}';if(q){consoleLog(B+" metrics sent","forester");}p.one_way_send(C+z+escape(B));};return{send_forester_metric:function(u,x,w,v){s.prepare_and_send_metric(u,x,w,v);r.prepare_and_send_metric(x,w,v);},set_page_type:function(u){page_type=u;}};})();this.csm=(function(){var r={};return{measure:function(t,s){this.record(t,this.duration(),s);},record:function(u,y,s,t){var w=r[u],v;if(g&&!csm.metrics[u]){p.monitoring.record_metric(u+(t?t:""),y,s);}csm.metrics[u]=y;if(w){for(v=0;v<w.length;v++){try{w[v](y,u);}catch(x){consoleLog("error invoking callback for "+u,"csm");}}delete r[u];}},duration:function(){return(new Date().getTime())-a;},listen:function(s,t){if(s in csm.metrics){setTimeout(t,0);}else{(r[s]=r[s]||[]).push(t);}},metrics:{}};})();p.monitoring={event_starts:{},event_stops:{},events_to_stop:0,event_duration:{},event_counters:[],all_events_started_flag:false,twilight_info:"",segmented_events_duration:{},twilight_client:(function(){var s=navigator.userAgent,r;r=s.match(/MSIE (\d+)/);if(r&&r[1]>=6){return"ie"+r[1];}r=s.match(/Mac OS.*Firefox\/(\d+)/);if(r){return r[1]==="3"?"firefox3-mac":"firefox-mac";}r=s.match(/Firefox\/(\d+)/);if(r){return r[1]==="3"?"firefox3":"firefox";}if(s.indexOf("Chrome")!==-1){return"chrome";}if(s.indexOf("Safari")!==-1){return"safari";}if(s.indexOf("Opera")!==-1){return"opera";}return"Other";})(),isTwilightActiveSample:g,page_type:"",start_timing:function(r){this.start_timing_at(r,new Date().getTime());},start_timing_at:function(r,s){this.event_starts[r]=s;this.events_to_stop++;},stop_timing:function(t,s,r){var v=new Date().getTime(),u=t;if(!this.event_starts[t]){return;}this.event_stops[t]=v;if(s){u+="."+s;}this.record_metric(u,v-this.event_starts[t]);delete this.event_starts[t];this.events_to_stop--;if(r||(this.all_events_started_flag&&this.events_to_stop===0)){this.send_metrics();}},record_event:function(t,r){var s;this.event_counters.push(t);if(t in b){for(weblab in b[t]){s=t+"__weblab_"+weblab;this.event_counters.push(s);consoleLog(s,"twilight");}}consoleLog(t,"twilight");if(r){this.send_metrics();}},record_metric:function(u,v,r){var t,s;j.record_slot_status(u);this.event_duration[u]=v;this.record_segmented_metric(u,v);consoleLog(u+","+v,"twilight");if(u in b){for(t in b[u]){s=u+"__weblab_"+t;this.event_duration[s]=v;this.record_segmented_metric(s,v);consoleLog(s+","+v,"twilight");}}if(r){this.send_metrics();}},record_segmented_metric:function(s,t){var r;if(h){if(!n){r=j.core_slots_have_an_ad();if(r!==null){n=r?"adOnly":"adBlank";consoleLog("resolved core_ads status on page marked for metrics segmentation: "+n);}}this.segmented_events_duration[s]=t;}},send_metrics:function(){var s=m+this.twilight_info,u,w=[],r=0,A="",y=function(B,C){w.push(function(){r++;return"&Operation."+r+"="+B+"&OperationTiming."+r+"="+C;});},x=function(B){w.push(function(){r++;return"&Counter."+r+"="+B;});},t=function(){if(A.length){p.one_way_send(s+A+"&ord="+ad_utils.ord);consoleLog("metrics sent ("+r+")","twilight");A="";r=0;}},z=1700,v;for(u in this.event_duration){y(u,this.event_duration[u]);}this.event_duration={};if(h&&n){for(u in this.segmented_events_duration){y(n+"_"+u,this.segmented_events_duration[u]);}this.segmented_events_duration={};}for(v=0;v<this.event_counters.length;v++){x(this.event_counters[v]);}this.event_counters=[];for(v=0;v<w.length;v++){A+=w[v]();if(A.length+s.length>z){t();}}t();},set_twilight_info:function(s,r,v,t,u){if(l&&l.pt==="java"){s+=".java";}this.twilight_info="PageType="+s+"&Geo="+r+"&tw_ord="+v+"&timestamp="+t+"&Client="+this.twilight_client;m=u;},set_forester_info:function(r){c.set_page_type(r);},all_events_started:function(){this.all_events_started_flag=true;},set_remnant_partner:function(s,r){var t=s.frameElement.id;j.set_remnant_partner(t,r);},get_remnant_partner:function(r){return j.get_remnant_partner(r)||"none";},update_slot_metrics:function(t,s,v){var r,x,y,w=o.getElementById(t),z=w?w.contentWindow.document.ad:null,u=(("load"===s&&j.get_remnant_partner(t))?("."+j.get_remnant_partner(t)):"");if(!(t)||!j.is_slot_monitored(t)||j.get_metric_value(t,s)!==d){return;}j.set_metric_value(t,s,(d!==v)?v:csm.duration());x=j.get_metric_value(t,s);if(z&&j.is_forester_event(t,s)){c.send_forester_metric(z,t,s,x);if(s==="load"){c.send_forester_metric(z,t,"ad-delivery",j.get_metric_value(t,"load")-j.get_metric_value(t,"request"));}}if(j.is_twilight_slot(t)){y=t;csm.record("csm_"+y+"_"+s,x,0,u);if("load"===s&&""!==u){csm.record("csm_"+y+"_deliver",x-j.get_metric_value(t,"tagdeliver"),0,u);}if(j.is_twilight_core_slot(t)){r=j.get_core_slots_duration(s);if(r!==null){csm.record("csm_core_ads_"+s,r);}if(s==="load"&&/^(\/|\/title\/tt\d+\/|\/name\/nm\d+\/)$/.test(o.location.pathname)){csm.record(("csm_"+y+e.get_network_name(t)+e.get_in_weblab()+"_timeout"),x,0,e.get_level_for_load(page_type,x));}}}},get_metric_value:function(s,r){return j.get_metric_value(s,r);},enable_weblab_metrics:function(s,r,v){var u,t;for(u=0;u<v.length;u++){t=v[u];b[t]=b[t]||{};b[t][s+"_"+r]=1;}}};var e=(function(){return{get_network_name:function(r){if(j.get_remnant_partner(r)){return"_remnant";}else{return"_direct";}},get_in_weblab:function(){return"_natural";},get_level_for_load:function(t,u){var r={homepage:[1200,3600],title:[1400,4600],name:[1500,4200]}[t],s=[1200,3600],v;if(!r){r=s;}if(u<r[0]){v=".1";}else{if(u<r[1]){v=".2";}else{v=".3";}}return v;}};})();p.on_document_ready(function(s){var r;s(k).bind("beforeunload",function(t){var u=(o.location+"").split("#",2)[0];k.name="clicktoresponse:"+(new Date()).getTime()+":"+u;});if(!p.monitoring.isTwilightActiveSample){return;}csm.measure("csm_ready");s(k).load(function(){csm.measure("csm_load",true);});s("div.dfp_slot").each(function(){p.monitoring.record_event("dfp_slot");});r=parseInt(s("#servertime").attr("time"),10);if(!isNaN(r)){p.monitoring.record_metric("csm_server",r);}});(function(){if(o.location.protocol==="http:"){var r=k.name.match(/^clicktoresponse:(\d+):(.*)$/),s;if(r){if(o.referrer===r[2]&&l){s=l.starttime-r[1];l.clicktoresponse=s;p.monitoring.record_metric("click_to_response",s);}k.name="";}}})();})(window,document);if(window.IMDbTimer&&window.IMDbTimer.events){(function(c,b,a){generic.send_csm_head_metrics=function(){c.record("csm_head_pre_title",a.csm_head_pre_title-b);c.record("csm_head_post_title",a.csm_head_post_title-b);c.record("csm_head_pre_css",a.csm_head_pre_css-b);c.record("csm_head_post_css",a.csm_head_post_css-b);c.record("csm_head_pre_icon",a.csm_head_pre_icon-b);c.record("csm_head_post_icon",a.csm_head_post_icon-b);c.record("csm_head_pre_ads",a.csm_head_pre_ads-b);};})(csm,IMDbTimer.starttime,IMDbTimer.events);}(function(j){var c="ap",g="bottom_ad",a=10,d=j.monitoring,h=new RegExp("rm=n"),k=function(l){var m=l.join(",");j.cookie.set(c,m);},e=function(){var l=j.cookie.get(c);return l?b(l.split(","),function(m){return parseInt(m,10);}):[];},f=function(){var o=document.getElementById(g).getAttribute("data-dart-params"),n=d.get_metric_value(g,"load"),l=d.get_metric_value(g,"request"),p=n-l,m=e();if(o.match(h)){d.record_event("ad_prediction_kill",true);}m.unshift(p);if(m.length>a){m=m.slice(0,a);}k(m);},b=function(n,m){var l=[];for(i=0;i<n.length;i++){l.push(m(n[i]));}return l;};ad_utils.ad_prediction={init:function(){ad_utils.ad_load.listen(g,f);}};})(window.generic);var $$FSR={timestamp:"March 19, 2012 @ 11:24 AM",version:"11.3.0",enabled:true,sessionreplay:true,auto:true,encode:false,files:"/images/a/foresee/",id:"F7CwY6EhDVagBMK5Os76kQ==",definition:"foresee-surveydef.js",embedded:false,replay_id:"imdb.com",renderer:"W3C",layout:"CENTERFIXED",sites:[{path:/\w+-?\w+\.(com|org|edu|gov|net|co\.uk)/},{path:".",domain:"default"}],storageOption:"cookie"};(function(r,l,o){for(var q=r.sites,p=0,k=q.length;p<k;p++){var n;"[object Array]"!==Object.prototype.toString.call(q[p].path)&&(q[p].path=[q[p].path]);for(var m=0,j=q[p].path.length;m<j;m++){if(n=o.location.href.match(q[p].path[m])){r.siteid=p;r.site=r.sites[p];r.site.domain?"default"==r.site.domain&&(r.site.domain=null):r.site.domain=n[0];r.site.secure||(r.site.secure=null);r.site.name||(r.site.name=n[0]);break;}}if(n){break;}}q={b:function(a){var c;c=(a=o.cookie.match("(?:^|;)\\s*"+a.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")+"=([^;]*)"))?a[1]:null,a=c;r.encode&&(a=a?decodeURIComponent(a):null);return a;},a:function(){o.cookie="fsr.a"+(r.site.cookie?"."+r.site.cookie:"")+"="+(new Date).getTime()+";path=/"+(r.site.domain?";domain="+r.site.domain+";":";")+(r.site.secure?"secure":"");}};if(!q.b("fsr.a"+(r.site.cookie?"."+r.site.cookie:""))){q.a(),l.fsr$timer=setInterval(q.a,1000),o.cookie="fsr.paused=1;path=/"+(r.site.domain?";domain="+r.site.domain+";":";")+(r.site.secure?"secure":"");}})($$FSR,window,window.document);