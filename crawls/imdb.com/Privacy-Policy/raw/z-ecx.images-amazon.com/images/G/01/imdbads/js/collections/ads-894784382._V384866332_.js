(function(){window.generic=(window.generic||{});window.generic.install=function(c,b){var a;for(a in b){if(b.hasOwnProperty(a)){c[a]=b[a];}}};})();(function(a){a.install(a,{document_readys:[],document_is_ready:function(){var d=a.document_readys,b;a.document_readys=null;for(b=0;b<d.length;b++){try{d[b](jQuery);}catch(c){}}if(a.should_jQuery_noConflict){jQuery.noConflict(false);}},on_document_ready:function(b){if(a.has_document_readied()){b(jQuery);}else{a.document_readys.push(b);}},has_document_readied:function(){return a.document_readys===null;}});})(window.generic);function consoleLog(e,c){var a=window.consoleLog,g=document.location,b=g.host.match(/^(m|www|uk).imdb.[a-z]+$/),f=g.hash.match("debug=1");if(!c){c="global";}else{(a[c]=a[c]||[]).push(e);}(a.global=a.global||[]).push(c+" : "+e);try{if(!f&&b){return;}if(window.console&&window.console.log){window.console.log(c+" : "+e);}}catch(d){}}document.getElementsByTagName("html")[0].className+=" scriptsOn";(function(){var l=window.ads_js_start?new Date().getTime()-window.ads_js_start:null;var o=!0,w=!1,C=null,A=window,m=document,x=navigator.userAgent,d=/MSIE/.test(x),a=/Firefox/.test(x),n=window.generic;var u={top_ad:"t",top_rhs:"tr"};var z=document.all?function(G){return document.all[G];}:function(G){return document.getElementById(G);};var j=function(G){return document.getElementsByTagName(G);};var p=function(G){return z(G).contentWindow.document;};var s=function(H,I,G){if(H.attachEvent){H.attachEvent("on"+I,function(){G.apply(H,arguments);});}else{H.addEventListener(I,G,false);}};var e=Math.random()*10000000000000000;var F="/images/a/ifb/doubleclick/indirect.html";var E="us";var c=[/\/r[gir]?\//,/\/tiger_redirect/,/^https:/,/secure\.imdb\.com/,/pro\.imdb\.com/,/^javascript:/,/imdb\.[a-z]+\/update/,/resume/,/help/];var D=[[/%3B/g,";"],[/%3D/g,"="],[/%2C/g,","],[/%3F/g,"?"]];var v=450;var t=475;var k=/(\[|%5B)CLIENT_SIDE_ORD(\]|%5D)/g;var q=/(\[|%5B)PASEGMENTS(\]|%5D)/;var g=/(\[|%5B)CLIENT_SIDE_KEYVALUES(\]|%5D)/;var r={};var B={};var h=(function(){var P,M,K="as",N=function(){var R="{";if(M){if("h" in M){R+=I("h");}if(("h" in M)&&("n" in M)){R+=",";}if("n" in M){R+=I("n");}}R+="}";n.cookie.set(K,R,n.days_to_midnight||1);},I=function(S){var R="";jQuery.each(M[S],function(T,U){R+='"'+T+'":['+J(U[0])+","+J(U[1])+"],";});return'"'+S+'":{'+R.substr(0,R.length-1)+"}";},G=function(){var R=n.cookie.get(K);if(R){try{M=jQuery.parseJSON(R);P=P||M||{};}catch(S){P=P||(M={});}}},J=function(S){var R=parseInt(S,10);return isFinite(R)?R:0;},L=function(){return(document.location.pathname==="/")?"h":"n";},H=function(S,T){var R=ad_utils.get_ad_object(S[0]);return((S.css("display")==="none")?0:parseInt(R.w,10));},Q=function(T,V){var U=0,S=ad_utils.get_ad_object(T[0]),R=parseInt(S.h,10);if(V==="top_ad"){if(jQuery("#nb20").hasClass("banner")){U=-5;}else{if(jQuery("#nb20").hasClass("supertab")){U=-15;}}}else{if(V==="injected_billboard"){U=20;}}if("swfAutoMaxHeight" in T[0].contentWindow){R=T[0].contentWindow.swfMinHeight;}return((T.css("display")==="none")?0:R+U);},O={top_ad:"t",top_rhs:"tr",injected_navstrip:"in",injected_billboard:"ib"};return{store:function(){n.on_document_ready(function(T){var S;try{G();M=M||{};S=M[L()]||{};T.each(O,function(W,V){var U=T("#"+W);if(U.length!==0){S[V]=[H(U,W),Q(U,W)];}});M[L()]=S;N();}catch(R){consoleLog("Failed to store ad size cookie "+R.toString(),"ads");}});}};})();var b=(function(){var H=function(I,J){var K=I.contentWindow?I.contentWindow.document:I.contentDocument;if(!a){K.open("text/html","replace");}K.write("<body>"+J+"<script>document.close()<\/script></body>");},G=function(K,L){var J="__srcless_"+Math.floor(Math.random()*68719476735).toString(36),I="<body><script>document.write(parent.ad_utils."+J+");delete parent.ad_utils."+J+";<\/script></body>";ad_utils[J]=L;K.src="javascript:unescape('"+escape(I)+"')";};return{inject_slot:function(I,J){var L=I.id,K="<style>body{background:transparent;}</style>"+J+'<script>document.write("<script defer>parent.ad_utils.ad_table.'+L+'.fired=true;<\\/script>");<\/script>';if(d){G(I,K);}else{H(I,K);}}};})();this.ad_utils={ord:e,ord_regex:k,current_tile:1,tile_regex:new RegExp("(/|;)!TILE!(;|\\?)"),tile_fn:function(G){return";tile="+(G)+";";},ad_table:{},ad_queue:[],low_latency_punt_ads:{},queue_ad:function(J,K){var G=this.ad_queue,I=G.length>0?G[G.length-1].slot:null,H={tile:J,slot:K,prev:I};G.push(H);n.monitoring.update_slot_metrics(K,"iframe");this.ad_table[K]=H;},register_ad:function(G){n.monitoring.update_slot_metrics(G,"iframe");this.ad_table[G]={slot:G};},render_ad_fast:(function(){var G=100;function H(S,Q){var M=m.getElementById(S),V=M.contentWindow,J=M.getAttribute("data-dart-params"),O=J?J.replace(ad_utils.tile_regex,ad_utils.tile_fn(Q)):undefined,W=M.getAttribute("data-override-url"),L=W||custom.doubleclick.construct_url(O),U=M.getAttribute("data-bid-url"),T=/^http/.test(U),P=ad_utils.weblab.get_treatment("DTB/AAX Bid")==="treatment",R=T&&P?'<script>var bid_start = new Date().getTime();\nvar bid_time;\nvar bidOnLoad = function(){bid_time = new Date().getTime() - bid_start;}<\/script><script src="'+U+"&cb="+e+"\" onload=\"bidOnLoad();\"><\/script><script>\nif (document.serveCornerstone){\nif (document.amzn_ads){parent.generic.monitoring.record_metric('dtb_bid.win',bid_time);document.ad = document.cornerstoneAd;\nfor(var prop in document.amzn_ads){\n document.write(document.amzn_ads[prop]);}\n}else{parent.generic.monitoring.record_metric('dtb_bid.void',bid_time);}}<\/script>":"",I='<script src="'+L+'"><\/script>'+R,K=ad_utils.inject_ad.get_injectable_slots(S),N;n.monitoring.start_timing(S);n.monitoring.update_slot_metrics(S,"request");for(N=0;N<K.length;N++){n.monitoring.start_timing(K[N]);n.monitoring.update_slot_metrics(K[N],"request");}b.inject_slot(M,I);V.show_ad_feedback=function(){n.on_document_ready(function(){ad_utils.show_ad_feedback(S);});};V.d16g_external_callback=function(X){m.ad=X;ad_utils.expand_ad(M);};}return function(M){var L=n.monitoring.get_metric_value("top_ad","request"),K=csm.duration()-L,I=G-K,J=ad_utils.current_tile++;if(M==="top_rhs"&&isFinite(I)){n.monitoring.record_metric("master_companion_delay",I);if(I>0){setTimeout(function(){H(M,J);},I);}else{H(M,J);}}else{H(M,J);}};})(),render_ad:function(P,M,Q){var L=this.ad_queue,J=M.frameElement,O=J.id;if(!this.ad_table[O]){this.ad_table[O]={slot:O};}var H=this.ad_table[O].prev,K=P.location.hash,I=Q||custom.doubleclick.construct_url(K);M.show_ad_feedback=function(){n.on_document_ready(function(){ad_utils.show_ad_feedback(O);});};M.d16g_external_callback=function(R){P.ad=R;ad_utils.expand_ad(M.frameElement);};try{if(L.length===0||L[0].slot==O){if(H){this.ad_table[H].onFireAd=null;}L.shift();this.ad_table[O].fired=true;this.ad_table[O].render="normal";try{n.monitoring.start_timing(O);n.monitoring.update_slot_metrics(O,"request");}catch(G){consoleLog("start_timing failed: "+G.toString(),"ads");}P.write('<script src="'+I+'" type="text/javascript"><\/script>');if(this.ad_table[O].onFireAd){this.ad_table[O].onFireAd();}}else{if(H){this.ad_table[H].onFireAd=function(){M.location.reload();};}}}catch(N){P.write('<script src="'+I+'" type="text/javascript"><\/script>');}},resize_iframe:function(G){this.expand_ad(G);},expand_ad:function(K){var R=this,P=K.id,N=K.height,Q=K.width;if("expand_called" in this.ad_table[P]){return;}var L=K.parentNode.id,M=this.get_ad_object(K),O=z(P+"_before"),H=z(P+"_after"),I,J=csm.duration(),G=z(P+"_reflow_helper"),S=G!==null?G.offsetTop:null;if((P+"_wrapper")!==L){if(!n.has_document_readied()){n.on_document_ready(function(){R.expand_ad(K);});return;}}if(!this.ad_table||!this.ad_table[P]){return;}else{this.ad_table[P].expanded=1;}if(M){if(!document.ads){document.ads={};}document.ads[M.cid]=M;if("w" in M){K.width=parseInt(M.w,10);}if("h" in M){K.height=parseInt(M.h,10);}if("z" in M&&M.z){K.parentNode.style.zIndex=M.z;K.parentNode.style.position="relative";}if(M.st){this.expand_supertab(M);}else{if(M.bb){this.expand_billboard(M);}else{if(K.id==="top_ad"&&this.is_open(M)&&!M.clickroll&&!M.overlay){this.expand_top_banner();}}}if(M.wrap){this.expand_wrap(M);}if(M.bamf){this.expand_bamf(M,K);}if(M.inner_bamf){this.expand_inner_bamf(M);}if(M.relative_bamf){this.expand_relative_bamf(M);}if(this.is_open(M)){if(O){this.display_label(O);}if(H){this.display_label(H);}}else{this.collapse_ad(K);}if(M.styles){for(I in M.styles){n.override_style(I,M.styles[I].style);}}}this.ad_table[P].expand_called=1;n.on_document_ready(function(T){T(K).trigger("expand_ad");});if(N===K.height&&Q===K.width){n.monitoring.update_slot_metrics(P,"reflow",0);}else{setTimeout(function(){var T=(P==="top_ad"&&ad_utils.is_open(M)&&!M.st)?10:0;if(G!==null&&G.offsetTop===S+T){n.monitoring.update_slot_metrics(P,"reflow",0);}else{n.monitoring.update_slot_metrics(P,"reflow",J);}},10);}n.monitoring.update_slot_metrics(P,"tagdeliver",J);h.store();document.body.className=document.body.className;},get_ad_object:function(M){var R=M.id,J=p(R),O=null;try{O=J.ad;}catch(Q){consoleLog("Cannot access ad parameters: "+Q.toString(),"ads");}if(!O){var G=0;var T=0;var S=["img","object","embed","iframe"];var N,L,I;for(L in S){I=J.getElementsByTagName(S[L]);for(N=0;N<I.length;N++){var H=I[N],K,P;K=H.scrollWidth||H.width;P=H.scrollHeight||H.height;if(K&&K>1){G=Math.max(G,parseInt(K,10));}if(P&&P>1){T=Math.max(T,parseInt(P,10));}consoleLog(R+" : estimated size : "+K+","+P,"ads");}}O={w:G.toString(),h:T.toString(),pid:"",url:"",aid:"0",cid:"0"};if(G===0||T===0){O.scope="null";}}else{if(!("pid" in O)){O.pid="DFP";}if(!("url" in O)){O.url="http://ad.doubleclick.net/adi/d16g-sec.preview/;cid="+("cid" in O?O.cid:"");}}J.ad=O;return O;},get_cornerstone_ad_object:function(G){var H=u[G]+"adData";if("aanResponse" in top.document&&H in top.document.aanResponse){return top.document.aanResponse[H];}return null;},get_mapped_amazon_slot_name:function(G){return u[G]?u[G]:G;},clean_up_slot_metrics:function(G){var K=G.id,I=p(K),H=this.get_ad_object(G);try{n.monitoring.stop_timing(K,this.get_type_of_ad(H),true);}catch(J){consoleLog("stop_timing failed: "+J.toString(),"ads");}if(I.location.href.match(/\/ads\/request\//)){this.log_ad_impression(H,K);}},on_ad_load:function(G){var J=G.id,I=this.get_ad_object(G),H=this.ad_table[J];if(!H||!H.fired){consoleLog("deflected spurious onload event for "+J,"on_ad_load");return;}H.loaded=true;if(I.scope==="blank"||I.scope==="null"){if(G.getAttribute("data-original-width")==="0"&&G.getAttribute("data-original-height")==="0"){n.monitoring.update_slot_metrics(J,"load",0);}else{n.monitoring.update_slot_metrics(J,"load",n.monitoring.get_metric_value(J,"reflow"));}}else{n.monitoring.update_slot_metrics(J,"load");}n.monitoring.update_slot_metrics(J,"trueload");if(!H.expanded){this.expand_ad(G);}this.clean_up_slot_metrics(G);this.ad_load.loaded(J);},ad_load:(function(){var G={};return{loaded:function(J){var H,I=G[J];if(I){for(H=0;H<I.length;H++){I[H]();}}},listen:function(I,H){if(ad_utils.ad_table[I]&&ad_utils.ad_table[I].loaded){setTimeout(H,0);}else{(G[I]=G[I]||[]).push(H);}}};})(),is_open:function(G){return G&&"w" in G&&"h" in G&&G.w>0&&G.h>0&&G.scope!=="blank";},expand_supertab:function(I){var H=z("nb15"),G=z("nb20");if(H){H.className="supertab";}else{if(G){G.className="supertab";}}},expand_billboard:function(Q){var ae=document,I="injected_billboard",aa=z(I),N=aa.parentElement||aa.parentNode,K=aa.contentWindow.document,Z=K.getElementsByTagName("body"),R=Z.length===1?Z[0]:K.createElement("body"),S=z("top_rhs_wrapper"),U=Q.bb_close,ac=Q.bb_show,Y="ax",af,ad,M,P,J;if(!N){return false;}N.className=(N.className?N.className+" ":"")+"billboard";function ab(){var aj=n.cookie.get(Y),ag=aj&&aj.split(/o|c/),ah=aj&&aj.split(/\d*/),ak={},ai;if(ag&&ah){if(ah[0]===""){ah.shift();}for(ai=0;ai<ah.length;++ai){ak[ag[ai]]=ah[ai];}}ad=ak;}function H(){var ah="",ag=new Date(),ai,aj;for(aj in ad){if(ad.hasOwnProperty(aj)){ah+=aj+ad[aj];}}n.cookie.set(Y,ah,n.days_to_midnight||1);}function T(al,am){var ai=K.createElement("div"),aj=al.getElementsByTagName(am),ah,ak,ag="";for(ah=0;ah<aj.length;++ah){ak=aj[ah];ak.parentNode.removeChild(ak);ai.appendChild(ak);ag+=ai.innerHTML;ai.removeChild(ak);}return ag;}function X(){if(parseInt(aa.style.height,10)!==parseInt(K.ad.h,10)){aa.contentWindow.minimize();}aa.style.display="none";M.style.display="block";ab();ad[Q.aid]="c";H();af="";af+=T(K,"object");af+=T(K,"embed");h.store();N.style.margin="0px";}function V(){M.style.display="none";aa.style.display="block";ab();ad[Q.aid]="o";H();if(af){R.innerHTML=af+R.innerHTML;}K.getElementById("billboard_close_button").onclick=X;h.store();N.style.margin="20px 19px";}function L(ag){var ah=ag,ai=0;while(ah){ai+=ah.offsetTop;ah=ah.offsetParent;}return ai;}function O(){if(!S){return false;}var ag=(S.parentElement||S.parentNode),ah=z("injected_billboard_reflow_helper");return ag&&ah&&(ag.offsetTop<=ah.offsetTop+100||L(ag)<=L(ah)+100);}if(Q.bb===1){P=K.createElement("div");P.id="billboard_close_button";P.style.cssFloat="right";P.style.cursor="pointer";P.style.position="absolute";P.style.top=0;P.style.right=0;P.innerHTML=U;P.onclick=X;R.appendChild(P);M=ae.createElement("div");M.id="billboard_show_button";M.innerHTML=ac;M.onclick=V;if(O()){(S.parentElement||S.parentNode).insertBefore(M,S);}else{var W=document.getElementById("sidebar")||document.getElementById("maindetails_sidebar_top")||document.getElementById("sidebar-wide"),G=W?W.parentNode||W.parentElement:{};if(W&&G.id!=="content-2-narrow"){W.insertBefore(M,W.firstChild);}else{M.style.marginRight="19px";M.style.marginTop="20px";N.parentNode.insertBefore(M,N);}}ab();if(Q.aid in ad&&ad[Q.aid]==="c"){X();}}return true;},expand_top_banner:function(){var G=z("nb15");if(G){G.className="banner";}else{z("nb20").className="banner";}},expand_bamf:function(I,G){var H=I.bamf;n.extend(G.style,H.style);},expand_inner_bamf:function(H){var G=H.inner_bamf;var I=z(G.targetId);if(I&&G.node){n.insert_after(G.node,I);}},expand_relative_bamf:function(I){var G=I.relative_bamf;var J=z(G.targetId);var H;if(G.relation=="insert_after"){H=n.insert_after;}else{if(G.relation=="insert_before"){H=n.insert_before;}else{if(G.relation=="insert_inside"){H=n.insert_inside;}}}if(J&&G.node){H(G.node,J);}},expand_wrap:function(H){if(!H.styles){H.styles={};}var G={"styleguide-v2":{style:{background:H.wrap}},root:{style:{"background-color":"transparent","box-shadow":"none"}},pagecontent:{style:{height:"100%"}},nb20:{style:{background:"none"}}};n.extend(H.styles,G);},expand_label:function(G){G.className=G.className.replace(/hidden/,"");},display_label:function(G){G.className=G.className.replace(/ads-invisible/,"");},collapse_ad:function(G){var I=G.id,H=function(K){var J=z(K);if(J){J.className="hidden";}};G.style.display="none";H(I+"_before");H(I+"_after");},log_ad_impression:function(I,J){var H="/ads/record/[scope];[slot];[aid];[cid];[ord];[time].js";H=H.chained_replace([[/\[slot\]/g,J],[/\[ord\]/g,this.ord],[/\[time\]/g,new Date().getTime()]]);var G=I?[[/\[scope\]/g,I.scope||"0"],[/\[aid\]/g,I.aid],[/\[cid\]/g,I.cid]]:[[/\[scope\]/g,"null"]];H=H.chained_replace(G);n.load_script(H);},get_type_of_ad:function(G){if(!G){return"null";}if(G.scope){return G.scope;}return"got_ad";},show_ad_feedback:function(O){function P(){J("#ad_feedback_"+O).remove();return false;}function K(Y){var U=J(window),X=J(document),W=(U.width()-300)/2+X.scrollLeft(),V=(U.height()-320)/2+X.scrollTop();Y.css({top:V<0?0:V,left:W});}try{var J=jQuery,H=document.getElementById(O),T=H.contentWindow,Q=ad_utils.get_ad_object(H),S,M=T.location.hash.match(/#([^;]*);/),I={adId:(Q?Q.aid:""),cid:(Q?Q.cid:""),page_id:window.location.href.substr(0,255),pagesubtype:(M?M[1]:""),slot:O},G=I.adId+";"+I.cid+";"+I.slot,R=J("#ad_feedback_container"),L=0;J("div.dfp_slot iframe").each(function(){var W=this.id,V=this.contentDocument,U=ad_utils.get_ad_object(this);if(!(W in B)&&U){S=ad_utils.get_cornerstone_ad_object(W);if(S){B[W]={aid:S.adId,cid:S.creativeId,pid:S.adNetwork};}else{B[W]={aid:U.aid,cid:U.cid,pid:U.pid};}B[W].url=U.url;B[W].dim=U.w+"x"+U.h;}});J.each(B,function(U,V){I["slot_"+L]=U;I["cid_"+L]=V.cid;I["aid_"+L]=V.aid;I["pid_"+L]=V.pid;I["dim_"+L]=V.dim;I["url_"+L]=V.url;L++;});if(R.length===0){R=J('<iframe id="ad_feedback_container">');R.addClass("hidden").attr({name:"ad_feedback_container",scrolling:"no",frameborder:"no",marginheight:"0",marginwidth:"0",allowtransparency:"yes"});R[0].hide=function(){J(this).addClass("hidden");};R[0].show=function(){J(this).removeClass("hidden");};R[0].isHidden=function(){return R.hasClass("hidden");};J("body").append(R);}if(R.attr("src")===""||R.attr("ref")!==G){R.unbind().load(function(){R[0].show();K(R);J(this).unbind();}).attr("src","/ads/feedback.html#"+J.param(I)).attr("ref",G);}else{if(R[0].isHidden()){R[0].show();K(R);}else{R[0].hide();return false;}}}catch(N){consoleLog("ad feedback failure : "+N,"ads");P();}return false;},report_ad_data:function(K,I){var H=K,L,G={};if(H===top){return;}try{while(H.parent!==top){H=H.parent;}L=H.frameElement.id;}catch(J){consoleLog("could not determine ad slot: "+J);return;}$.each("aid cid pid url dom dim".split(" "),function(M,N){if(N in I){G[N]=I[N];}});B[L]=G;},ns:(function(){var I={},H=function(M,J,L){var K;if(typeof M==="string"){K=M;}else{K=M.frameElement.id;}G(K)[J]=L;},G=function(J){return(I[J]=I[J]||{});};return{register:H,get:G};})(),inject_ad:(function(){var J={},H={},K={},I=function(L){consoleLog(L,"inject_ad");},G={injected_billboard:"top_ad",injected_navstrip:"top_ad"};return{render:function(N){var L=z(N),M=J[N];if(!K[N]){I(N+" rendered");K[N]=1;ad_utils.ad_table[N]={slot:N,injected:true};if(M){b.inject_slot(L,M);}else{b.inject_slot(L,'<script>document.ad = {h:"0",w:"0",scope:"blank"}<\/script>');}}},register:function(N){var M=G[N],L=this;I(N+" registered");H[N]=1;ad_utils.ad_load.listen(M,function(){L.render(N);});n.monitoring.update_slot_metrics(N,"iframe");},inject:function(M,L){I(M+" injected");J[M]=L;if(H[M]){this.render(M);}},get_injectable_slots:function(N){var L=[],M;for(M in G){if(G[M]===N){L.push(M);}}return L;}};})(),weblab:(function(){var G={};return{set_treatment:function(H,I){G[H]=I;},get_treatment:function(H){return G[H];}};})(),attach_aax_callback:function(H,G){G.aax_render_ad=function(I){if(I&&I.html){G.document.write(I.html);G.document.got_aax_ad="got_ad";}else{G.document.got_aax_ad="blank";}n.monitoring.update_slot_metrics(H,"tagdeliver");};},aax_render_ad:function(J){var H=z(J),G=H.getAttribute("data-aax-url"),I="<script>parent.ad_utils.attach_aax_callback('"+J+"', window);<\/script><script src=\""+G+'"><\/script>';H.onload=function(){var K=ad_utils.ad_table[J];if(!K||!K.fired){consoleLog("deflected spurious cornerstone onload event for "+J,"aax_render_ad");return;}if(H.contentWindow.document.got_aax_ad!=="got_ad"){H.style.display="none";n.monitoring.stop_timing(J,"blank",false);}else{n.monitoring.stop_timing(J,H.contentWindow.document.got_aax_ad,false);}n.monitoring.update_slot_metrics(J,"load");};n.monitoring.start_timing(J);n.monitoring.update_slot_metrics(J,"request");b.inject_slot(H,I);},register_punt_ad:function(J,I,G,H){this.low_latency_punt_ads[J]={w:I,h:G,markup:H};},inject_punt_ad:function(K){var H=K.frameElement,M=H.id,L=H.contentWindow?H.contentWindow.document:H.contentDocument,J=null,G=(L&&L.ad&&L.ad.aid)?L.ad.aid:"0",I=(L&&L.ad&&L.ad.cid)?L.ad.cid:"0";if(M in this.low_latency_punt_ads){J=this.low_latency_punt_ads[M];L.ad={w:J.w,h:J.h,pid:"",url:"",aid:G,cid:I};this.expand_ad(H);L.write(J.markup);n.monitoring.update_slot_metrics(M,"punt_got_ad");}else{n.monitoring.update_slot_metrics(M,"punt_blank");}}};n.install(n,{should_jQuery_noConflict:(window.$&&!window.jQuery),one_way_send_record:[],insert_after:function(G,I){try{I.parentNode.insertBefore(G,I.nextSibling);}catch(H){I.parentNode.appendChild(G);}},insert_before:function(G,H){H.parentNode.insertBefore(G,H);},insert_inside:function(G,H){H.appendChild(G);},extend:function(G,I){var H;for(H in I){if(typeof I[H]=="object"){if(G[H]!=I[H]){if(typeof G[H]=="undefined"){G[H]={};}this.extend(G[H],I[H]);}}else{G[H]=I[H];}}},override_style:function(K,I,J){var G="#"+K,H;for(H in I){I[H]+=" !important";}n.add_json_style(G,I,J);},add_json_style:function(G,J,L,K){var I=G+"{",H;for(H in J){I+=H+":"+J[H]+";";}I+="}";n.add_css_style(I,L,K);},add_css_style:function(N,H,M){var I="css-style-generic",G=[I],K,O,L;if(!H||!H.length){H=I;}else{G.push(H);}if(!M){M="a";}for(L in G){if(!z(G[L])){K=document.createElement("style");K.setAttribute("type","text/css");K.id=G[L];j("head")[0].appendChild(K);}}K=z(H);if(K.styleSheet&&"cssText" in K.styleSheet){O=(M==="a"?K.styleSheet.cssText:"")+N;K.styleSheet.cssText=O;}else{O=(M==="a"?K.innerHTML:"")+N;try{K.innerHTML=O;}catch(J){K.innerText=O;}}},add_css_file:function(G,I){if(!I){I="css-file-generic";}var H=z(I);if(!H){H=document.createElement("link");H.setAttribute("type","text/css");H.rel="stylesheet";H.id=I;j("head")[0].appendChild(H);}H.href=G;},set:function(H,G){var I=H.split(":");if(I[0]=="cookie"){n.cookie.set(I[1],G);}else{n.cache.set(I[1],G);}},get:function(G){var H=G.split(":");if(H[0]=="cookie"){return n.cookie.get(H[1]);}else{return n.cache.get(H[1]);}},erase:function(G){var H=G.split(":");if(H[0]=="cookie"){return n.cookie.erase(H[1]);}else{return n.cache.erase(H[1]);}},cache:{set:function(G,H){r[G]=H;},get:function(G){return r[G];},erase:function(G){delete r[G];}},load_script:function(H){var G=document.createElement("script");G.type="text/javascript";G.src=H;j("head")[0].appendChild(G);},load_script_notify:function(J,G){var H=document.createElement("script"),I=false;H.type="text/javascript";H.src=J;H.onload=H.onreadystatechange=function(){var K=this.readyState;if((I)||(K&&K!="complete"&&K!="loaded")){return;}I=true;document.body.removeChild(H);if("function"===typeof(G)){G(J);}};document.body.appendChild(H);},one_way_send:function(G){imageObj=new Image(0,0);imageObj.src=G;this.one_way_send_record.push(imageObj);},extensions:{String:{chained_replace:function(H){var J=this,G;for(G=0;G<H.length;G++){var I=H[G];J=J.replace(I[0],I[1]);}return J;},collapse:function(H,G){var J=this;while(J.length>G){var I=J.replace(H,"");if(I.length==J.length){break;}J=I;}return J;}}},load_when_visible:function(G,M){var J=0;var L=jQuery(window);var K=L.height()+L.scrollTop();if(jQuery("#"+G).length){var I=jQuery(jQuery("#"+G).get(0));var H=I.offset().top;if(K>H){M(G);}else{L.scroll(function(){K=L.height()+L.scrollTop();H=I.offset().top;if((K>H)&&!J){J=1;M(G);}});}}else{M(G);}},unload_plugins:function(){var L=[document],O,G,K,H,N,I,M=new RegExp("^("+location.protocol+"//"+location.hostname+")?(/.*)?$"),J=function(P){var Q,R;for(Q=P.length-1;Q>=0;Q--){R=P[Q];R.parentNode.removeChild(R);}};while(L.length){O=L.pop();J(O.getElementsByTagName("object"));J(O.getElementsByTagName("embed"));K=O.getElementsByTagName("iframe");for(I=K.length-1;I>=0;I--){H=K[I];if(M.test(H.src)){N=H.contentWindow.document;if(N){L.push(N);}}else{J([H]);}}}}});String.prototype.chained_replace=n.extensions.String.chained_replace;String.prototype.collapse=n.extensions.String.collapse;this.custom={amazon:{segments:null,complete_segments:null,aan_call_name:"aan_call",get_segments:function(G){if(!this.segments){var H=n.cookie.get(E)||"";H=H.replace(/[^a-zA-Z0-9;=]/g,"");this.segments=H.collapse(/s=[^;]*;$/,G);var I=H.length-this.segments.length;if(I!==0){n.monitoring.record_metric("seg_trimmed",I);}}return this.segments;},load_callback:function(G){this.complete_segments=G;trimmed_segs=G.collapse(/s=[^;]*;$/,v);n.cookie.set(E,trimmed_segs,7);if(this.segments===null){n.monitoring.stop_timing(this.aan_call_name,"in_time",false);csm.measure("csm_aan_response.in_time");}else{n.monitoring.stop_timing(this.aan_call_name,"late",false);csm.measure("csm_aan_response.late");}},aan_iframe_oncall:function(){n.monitoring.start_timing(custom.amazon.aan_call_name);csm.measure("csm_aan_request");}},doubleclick:(function(){var G=[],K=function(N){N=N.replace(k,e);N=N.replace(g,G.join(";"));N=N.chained_replace(D);var L=t-N.chained_replace([[q,""],[/^[^\;]*/,""]]).length;var M=custom.amazon.get_segments(L);return N.replace(q,M);},H=/\[PLAYLISTINDEX\]/,I=/\[PLAYLISTID\]/,J=/\[PLAYERTYPE\]/;return{construct_url:function(M){var L=(M.match(";ifb=pf;"))?"pfadj":"adj";var N=escape(M.substring(1,M.length));N=K(N);return document.location.protocol+"//ad.doubleclick.net/"+L+"/"+N;},construct_video_url:function(M,L){M=K(M);M=M.replace(H,"vi="+(L.listindex||"0"));M=M.replace(I,L.list?"vl="+L.list:"");M=M.replace(J,"vt="+L.playertype);return document.location.protocol+"//ad.doubleclick.net/pfadx/"+M;},add_client_side_keyvalue:function(L,M){G.push(L+"="+M);}};})(),indirect:{close:function(G){if(G.location.href.match("floater")){custom.floater.close(G.frameElement.id);}}},full_page:{style_id:"custom__full_page__generated_styles",data_url:"/images/a/js/graffiti_data.js",apply:function(H){var G=this;document.getElementById("root").style.boxShadow="none";window.generic.on_document_ready(function(){G.settings=H;if("styles" in G){G._apply();}else{window.generic.load_script_notify(G.data_url,function(){G._apply();});}});},_apply:function(){var I,J=this.settings.ARGS.split(/&/),H={},G=this,L="/* ARGS:"+this.settings.ARGS+" */\n";jQuery.each(J,function(N,O){var M=/^(.*)=(.*)$/.exec(O);if(M.length===3){H[M[1]]=unescape(M[2].replace(/\+/g," "));}});I=this.invert_styles(H.treatment);jQuery.each(I,function(M,N){if(N.fixed){L+=G.format_css(N,N.fixed);}else{if(H[M]||N["default"]){L+=G.format_css(N,H[M]);}}});try{jQuery("style#"+this.style_id).remove();jQuery("head").append(jQuery('<style type="text/css">').attr("id",this.style_id).html(L));}catch(K){n.add_css_style(L,this.style_id,"o");}},invert_styles:function(H){var I=["default","important","fixed"],G={};jQuery.each(this.styles[H],function(K,J){jQuery.each(J,function(L,M){var N=G[M.name]={style:K,selector:M.selector};jQuery.each(I,function(P,O){if(M[O]){N[O]=M[O];}});});});return G;},format_css:function(G,H){return G.selector+" { "+G.style+" : "+(H?H:G["default"])+(G.important?" !important ":"")+"}\n";}},floater:{close:function(G){n.extend(z(G),{style:{width:"0px",height:"0px"}});},launch:function(G,O,L,M,K,I,H){var J=document.createElement("iframe"),N=typeof M==="string"?z(M):M;if(L!="none"){setTimeout(function(){custom.floater.close(H);},L*1000);}n.extend(J,{id:H,name:H,src:G,width:O[0]+"px",height:O[1]+"px",frameBorder:"0",scrolling:"no",allowTransparency:"true",style:{marginLeft:I[0]+"px",marginTop:I[1]+"px",zIndex:I[2],position:"absolute"}});K(J,N);},set:function(K,I,J,G,H,L){n.cache.set("floater",K);var M="floater_"+Math.ceil(Math.random()*9999999);custom.floater.launch(F+"?source=cache:floater",I,J,G,H,L,M);return M;}}};var f=function(G,H){return((H))?'<param name="'+G+'" value="'+H+'">':"";};var y=function(G,H){return((H))?" "+G+'="'+H+'" ':"";};this.flashAdUtils={makeFlashAd:function(N){var Y=N.id,O=N.src,Z=N.width,Q=N.height,S=N.bgcolor,aj=N.wmode||"opaque",P=N.salign,al=N.scale,ah=N.extraParams,ai=N.extraTAGs,ab=N.minVersion,G=escape(N.clickThru),ag=N.clickTAGs,J=function(an){return an!==null&&an!==undefined&&(an+"").length;},af=function(an){return isFinite(parseInt(an,10));},L="",ae,am,T;if(!J(Y)||!J(O)||!af(Z)||!af(Q)){consoleLog("makeFlashAd: Missing required params","flashAdUtils");return;}if(!flashAdUtils.canPlayFlash(ab)){consoleLog("makeFlashAd: Current flash version too low","flashAdUtils");}if((ag)){for(ae=0;ae<ag.length;ae++){if(ag[ae]){L=L+"&clickTAG"+(ae+1)+"="+escape(ag[ae]);}}}if((ai)){for(am in ai){L=L+"&"+escape(am)+"="+escape(ai[am]);}}L+="&ord="+ad_utils.ord;var H="";var W="";try{var V={width:1,height:1,src:1,bgcolor:1,wmode:1,salign:1,scale:1,flashvars:1};for(T in ah){if(V[T]){continue;}H=H+f(T,ah[T]);W=W+y(T,ah[T]);}}catch(R){}var ad=f("bgcolor",S);var M=y("bgcolor",S);var ac=f("wmode",aj);var K=y("wmode",aj);var aa=f("scale",al);var I=y("scale",al);var ak=f("salign",P);var U=y("salign",P);var X='<object  classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"  width="'+Z+'"  height="'+Q+'"  id="swf_'+Y+'"><param name="movie" value="'+O+'"><param name="flashvars" value="env=WEB&clickTAG='+G+"&"+L+'"><param name="play" value="true"><param name="quality" value="high"><param name="allowScriptAccess" value="always">'+aa+ak+ad+ac+H+'<div style="margin-left:0.1px"><embed src="'+O+'"  flashvars="env=WEB&clickTAG='+G+"&"+L+'"  quality="high"  play="true"  width="'+Z+'"  height="'+Q+'"  name="swf_'+Y+'"  allowScriptAccess="always"  type="application/x-shockwave-flash"  pluginspage="http://www.macromedia.com/go/getflashplayer" '+I+U+M+K+W+"></embed></div></object>";return X;},canPlayFlash:function(H){var L=false;var O=parseInt(H,10);if(!H||O<9){H=9;}else{H=O;}var G=(navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"])?navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin:0;if(G&&navigator.plugins["Shockwave Flash"]){var Q=navigator.plugins["Shockwave Flash"].description.split(" "),P,J;for(J=0;J<Q.length;++J){if(isNaN(parseInt(Q[J],10))){continue;}P=parseInt(Q[J],10);}L=P>=H;}else{if(navigator.userAgent&&navigator.userAgent.indexOf("MSIE")>=0&&(navigator.appVersion.indexOf("Win")!==-1)){try{var K=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+H);K.AllowScriptAccess="always";var N=K.GetVariable("$version");var M=N.match(/([0-9]+)/);L=M[1]>=H;}catch(I){}}}return L;}};h.store();n.on_document_ready(function(H){var G;H(window).load(function(){h.store();});});n.on_document_ready(function(){s(window,"unload",function(){n.unload_plugins();});});if(l){n.on_document_ready(function(){n.monitoring.record_metric("ads_js_response",l);});}})();(function(a){a.install(a,{extended_split:function(g,f,b){var d=[],c=0,e;while(!b||d.length<b-1){e=g.indexOf(f,c);if(e===-1){break;}d.push(g.substring(c,e));c=e+f.length;}d.push(g.substring(c));return d;},object_from_querystring:function(f){var d=f.split("&"),e={},b,c;if(f===""){return{};}for(b=0;b<d.length;b++){c=a.extended_split(d[b],"=",2);e[c[0]]=(c.length===1)?null:decodeURIComponent(c[1]);}return e;},cookie:{set:function(f,h,j){var c,b,e,g;if(j){var d=new Date();d.setTime(d.getTime()+(j*24*60*60*1000));c="; expires="+d.toGMTString();}else{c="";}b=document.location.host.split(".");e=b.pop();g=b.pop();document.cookie=f+"="+escape(h)+c+"; path=/; domain="+g+"."+e;},get:function(c){var b=document.cookie.split(";"),d,e;for(d=0;d<b.length;d++){if(typeof b[d]!="string"){continue;}e=b[d].split("=");if(e[0]&&e[1]&&e[0].replace(/\s/,"")==c){return unescape(e[1]);}}return null;},erase:function(b){this.set(b,"",-1);}}});})(window.generic);(function(k,o,d){var p=(k.generic=k.generic||{});var b={};var l=k.IMDbTimer;var a=("IMDbTimer" in k)?k.IMDbTimer.starttime:NaN,q=o.location.hash.match("debug=1"),g=q||(!isNaN(a)&&Math.random()<0.25),f=q||(Math.random()<0.1),h=("/"===o.location.pathname||"/index.html"===o.location.pathname||"/index"===o.location.pathname),n=null;var j=(function(){var r={},v={top_ad:d,top_rhs:d,bottom_ad:d},s={top_ad:1,top_rhs:1,injected_navstrip:1,injected_billboard:1,bottom_ad:2,middle_rhs:2,btf_rhs2:2,rhs_cornerstone:2},w={top_ad:1,top_rhs:1,bottom_ad:1},t={reflow:1,"ad-delivery":1,load:1},u={};p.on_document_ready(function(x){x(k).bind("beforeunload",function(){var z,y;for(z in r){y=r[z];if(y.request&&y.load===d){p.monitoring.record_event("ad_load_failure."+z);}}p.monitoring.send_metrics();});});return{is_slot_monitored:function(x){return(x in s)||(x in w);},is_twilight_slot:function(x){return(x in s);},is_twilight_core_slot:function(x){return(x in s&&s[x]===1);},is_forester_slot:function(x){return(x in w);},is_forester_event:function(y,x){return this.is_forester_slot(y)&&x in t;},set_metric_value:function(z,x,y){(r[z]=r[z]||{})[x]=y;},get_metric_value:function(y,x){if(y in r){return r[y][x];}},core_slots:function(){var y={},x;for(x in s){if(s[x]===1){y[x]=1;}}return y;},get_core_slots_duration:function(x){var y=0,z;for(z in j.core_slots()){if(d===this.get_metric_value(z,x)){return null;}y=Math.max(y,this.get_metric_value(z,x));}return y;},record_slot_status:function(y){var x=y.match(/^(.*)\.(got_ad|null|blank)$/);if(x){u[x[1]]=x[2];}},core_slots_have_an_ad:function(){var y,x=false;for(y in j.core_slots()){if(!(y in u)){return null;}if(u[y]==="got_ad"){x=true;}}return x;},set_remnant_partner:function(y,x){v[y]=x;return this;},get_remnant_partner:function(x){return v[x];}};})();var m="http://www.imdb.com/twilight/?";var c=(function(){var s=(function(){var u="DART";return{prepare_and_send_metric:function(v,y,x,w){t({slot:y,ad_network_name:u,aid:v.aid,cid:v.cid,slot_event:x,time:w});}};})(),r=(function(){var u="PDA",w=20,v=100;return{prepare_and_send_metric:function(C,B,A){var z,y=w,x;x=function(){z=ad_utils.get_cornerstone_ad_object(C);if(z){t({slot:C,ad_network_name:u,aid:z.adId,cid:z.creativeId,slot_event:B,time:A});}else{if(--y){setTimeout(x,v);}else{}}};x();}};})(),t=function(y){var C,z,G,A,u,w,E,D,x,F,B;if(!f||!j.is_forester_slot(y.slot)){return;}C="http://fls-na.amazon.com/1/display-ads-cx/1/OP/?";z="LMET";G="imdb";A=ad_utils.get_mapped_amazon_slot_name(y.slot);u=page_type;w=y.ad_network_name;E=y.aid;D=y.cid;F=y.time;x=y.slot_event;B='{"s":"'+G+'","l":"'+A+'","p":"'+u+'","n":"'+w+'","a":"'+E+'","c":"'+D+'","m":"'+x+'","v":"'+F+'"}';if(q){consoleLog(B+" metrics sent","forester");}p.one_way_send(C+z+escape(B));};return{send_forester_metric:function(u,x,w,v){s.prepare_and_send_metric(u,x,w,v);r.prepare_and_send_metric(x,w,v);},set_page_type:function(u){page_type=u;}};})();this.csm=(function(){var r={};return{measure:function(t,s){this.record(t,this.duration(),s);},record:function(u,y,s,t){var w=r[u],v;if(g&&!csm.metrics[u]){p.monitoring.record_metric(u+(t?t:""),y,s);}csm.metrics[u]=y;if(w){for(v=0;v<w.length;v++){try{w[v](y,u);}catch(x){consoleLog("error invoking callback for "+u,"csm");}}delete r[u];}},duration:function(){return(new Date().getTime())-a;},listen:function(s,t){if(s in csm.metrics){setTimeout(t,0);}else{(r[s]=r[s]||[]).push(t);}},metrics:{}};})();p.monitoring={event_starts:{},event_stops:{},events_to_stop:0,event_duration:{},event_counters:[],all_events_started_flag:false,twilight_info:"",segmented_events_duration:{},twilight_client:(function(){var s=navigator.userAgent,r;r=s.match(/MSIE (\d+)/);if(r&&r[1]>=6){return"ie"+r[1];}r=s.match(/Mac OS.*Firefox\/(\d+)/);if(r){return r[1]==="3"?"firefox3-mac":"firefox-mac";}r=s.match(/Firefox\/(\d+)/);if(r){return r[1]==="3"?"firefox3":"firefox";}if(s.indexOf("Chrome")!==-1){return"chrome";}if(s.indexOf("Safari")!==-1){return"safari";}if(s.indexOf("Opera")!==-1){return"opera";}return"Other";})(),isTwilightActiveSample:g,page_type:"",start_timing:function(r){this.start_timing_at(r,new Date().getTime());},start_timing_at:function(r,s){this.event_starts[r]=s;this.events_to_stop++;},stop_timing:function(t,s,r){var v=new Date().getTime(),u=t;if(!this.event_starts[t]){return;}this.event_stops[t]=v;if(s){u+="."+s;}this.record_metric(u,v-this.event_starts[t]);delete this.event_starts[t];this.events_to_stop--;if(r||(this.all_events_started_flag&&this.events_to_stop===0)){this.send_metrics();}},record_event:function(t,r){var s;this.event_counters.push(t);if(t in b){for(weblab in b[t]){s=t+"__weblab_"+weblab;this.event_counters.push(s);consoleLog(s,"twilight");}}consoleLog(t,"twilight");if(r){this.send_metrics();}},record_metric:function(u,v,r){var t,s;j.record_slot_status(u);this.event_duration[u]=v;this.record_segmented_metric(u,v);consoleLog(u+","+v,"twilight");if(u in b){for(t in b[u]){s=u+"__weblab_"+t;this.event_duration[s]=v;this.record_segmented_metric(s,v);consoleLog(s+","+v,"twilight");}}if(r){this.send_metrics();}},record_segmented_metric:function(s,t){var r;if(h){if(!n){r=j.core_slots_have_an_ad();if(r!==null){n=r?"adOnly":"adBlank";consoleLog("resolved core_ads status on page marked for metrics segmentation: "+n);}}this.segmented_events_duration[s]=t;}},send_metrics:function(){var s=m+this.twilight_info,u,w=[],r=0,A="",y=function(B,C){w.push(function(){r++;return"&Operation."+r+"="+B+"&OperationTiming."+r+"="+C;});},x=function(B){w.push(function(){r++;return"&Counter."+r+"="+B;});},t=function(){if(A.length){p.one_way_send(s+A+"&ord="+ad_utils.ord);consoleLog("metrics sent ("+r+")","twilight");A="";r=0;}},z=1700,v;for(u in this.event_duration){y(u,this.event_duration[u]);}this.event_duration={};if(h&&n){for(u in this.segmented_events_duration){y(n+"_"+u,this.segmented_events_duration[u]);}this.segmented_events_duration={};}for(v=0;v<this.event_counters.length;v++){x(this.event_counters[v]);}this.event_counters=[];for(v=0;v<w.length;v++){A+=w[v]();if(A.length+s.length>z){t();}}t();},set_twilight_info:function(s,r,v,t,u){if(l&&l.pt==="java"){s+=".java";}this.twilight_info="PageType="+s+"&Geo="+r+"&tw_ord="+v+"&timestamp="+t+"&Client="+this.twilight_client;m=u;},set_forester_info:function(r){c.set_page_type(r);},all_events_started:function(){this.all_events_started_flag=true;},set_remnant_partner:function(s,r){var t=s.frameElement.id;j.set_remnant_partner(t,r);},get_remnant_partner:function(r){return j.get_remnant_partner(r)||"none";},update_slot_metrics:function(t,s,v){var r,x,y,w=o.getElementById(t),z=w?w.contentWindow.document.ad:null,u=(("load"===s&&j.get_remnant_partner(t))?("."+j.get_remnant_partner(t)):"");if(!(t)||!j.is_slot_monitored(t)||j.get_metric_value(t,s)!==d){return;}j.set_metric_value(t,s,(d!==v)?v:csm.duration());x=j.get_metric_value(t,s);if(z&&j.is_forester_event(t,s)){c.send_forester_metric(z,t,s,x);if(s==="load"){c.send_forester_metric(z,t,"ad-delivery",j.get_metric_value(t,"load")-j.get_metric_value(t,"request"));}}if(j.is_twilight_slot(t)){y=t;csm.record("csm_"+y+"_"+s,x,0,u);if("load"===s&&""!==u){csm.record("csm_"+y+"_deliver",x-j.get_metric_value(t,"tagdeliver"),0,u);}if(j.is_twilight_core_slot(t)){r=j.get_core_slots_duration(s);if(r!==null){csm.record("csm_core_ads_"+s,r);}if(s==="load"&&/^(\/|\/title\/tt\d+\/|\/name\/nm\d+\/)$/.test(o.location.pathname)){csm.record(("csm_"+y+e.get_network_name(t)+e.get_in_weblab()+"_timeout"),x,0,e.get_level_for_load(page_type,x));}}}},get_metric_value:function(s,r){return j.get_metric_value(s,r);},enable_weblab_metrics:function(s,r,v){var u,t;for(u=0;u<v.length;u++){t=v[u];b[t]=b[t]||{};b[t][s+"_"+r]=1;}}};var e=(function(){return{get_network_name:function(r){if(j.get_remnant_partner(r)){return"_remnant";}else{return"_direct";}},get_in_weblab:function(){return"_natural";},get_level_for_load:function(t,u){var r={homepage:[1200,3600],title:[1400,4600],name:[1500,4200]}[t],s=[1200,3600],v;if(!r){r=s;}if(u<r[0]){v=".1";}else{if(u<r[1]){v=".2";}else{v=".3";}}return v;}};})();p.on_document_ready(function(s){var r;s(k).bind("beforeunload",function(t){var u=(o.location+"").split("#",2)[0];k.name="clicktoresponse:"+(new Date()).getTime()+":"+u;});if(!p.monitoring.isTwilightActiveSample){return;}csm.measure("csm_ready");s(k).load(function(){csm.measure("csm_load",true);});s("div.dfp_slot").each(function(){p.monitoring.record_event("dfp_slot");});r=parseInt(s("#servertime").attr("time"),10);if(!isNaN(r)){p.monitoring.record_metric("csm_server",r);}});(function(){if(o.location.protocol==="http:"){var r=k.name.match(/^clicktoresponse:(\d+):(.*)$/),s;if(r){if(o.referrer===r[2]&&l){s=l.starttime-r[1];l.clicktoresponse=s;p.monitoring.record_metric("click_to_response",s);}k.name="";}}})();})(window,document);if(window.IMDbTimer&&window.IMDbTimer.events){(function(c,b,a){generic.send_csm_head_metrics=function(){c.record("csm_head_pre_title",a.csm_head_pre_title-b);c.record("csm_head_post_title",a.csm_head_post_title-b);c.record("csm_head_pre_css",a.csm_head_pre_css-b);c.record("csm_head_post_css",a.csm_head_post_css-b);c.record("csm_head_pre_icon",a.csm_head_pre_icon-b);c.record("csm_head_post_icon",a.csm_head_post_icon-b);c.record("csm_head_pre_ads",a.csm_head_pre_ads-b);};})(csm,IMDbTimer.starttime,IMDbTimer.events);}(function(j){var c="ap",g="bottom_ad",a=10,d=j.monitoring,h=new RegExp("rm=n"),k=function(l){var m=l.join(",");j.cookie.set(c,m);},e=function(){var l=j.cookie.get(c);return l?b(l.split(","),function(m){return parseInt(m,10);}):[];},f=function(){var o=document.getElementById(g).getAttribute("data-dart-params"),n=d.get_metric_value(g,"load"),l=d.get_metric_value(g,"request"),p=n-l,m=e();if(o.match(h)){d.record_event("ad_prediction_kill",true);}m.unshift(p);if(m.length>a){m=m.slice(0,a);}k(m);},b=function(n,m){var l=[];for(i=0;i<n.length;i++){l.push(m(n[i]));}return l;};ad_utils.ad_prediction={init:function(){ad_utils.ad_load.listen(g,f);}};})(window.generic);var $$FSR={timestamp:"March 19, 2012 @ 11:24 AM",version:"11.3.0",enabled:true,sessionreplay:true,auto:true,encode:false,files:"/images/a/foresee/",id:"F7CwY6EhDVagBMK5Os76kQ==",definition:"foresee-surveydef.js",embedded:false,replay_id:"imdb.com",renderer:"W3C",layout:"CENTERFIXED",sites:[{path:/\w+-?\w+\.(com|org|edu|gov|net|co\.uk)/},{path:".",domain:"default"}],storageOption:"cookie"};(function(r,l,o){for(var q=r.sites,p=0,k=q.length;p<k;p++){var n;"[object Array]"!==Object.prototype.toString.call(q[p].path)&&(q[p].path=[q[p].path]);for(var m=0,j=q[p].path.length;m<j;m++){if(n=o.location.href.match(q[p].path[m])){r.siteid=p;r.site=r.sites[p];r.site.domain?"default"==r.site.domain&&(r.site.domain=null):r.site.domain=n[0];r.site.secure||(r.site.secure=null);r.site.name||(r.site.name=n[0]);break;}}if(n){break;}}q={b:function(a){var c;c=(a=o.cookie.match("(?:^|;)\\s*"+a.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")+"=([^;]*)"))?a[1]:null,a=c;r.encode&&(a=a?decodeURIComponent(a):null);return a;},a:function(){o.cookie="fsr.a"+(r.site.cookie?"."+r.site.cookie:"")+"="+(new Date).getTime()+";path=/"+(r.site.domain?";domain="+r.site.domain+";":";")+(r.site.secure?"secure":"");}};if(!q.b("fsr.a"+(r.site.cookie?"."+r.site.cookie:""))){q.a(),l.fsr$timer=setInterval(q.a,1000),o.cookie="fsr.paused=1;path=/"+(r.site.domain?";domain="+r.site.domain+";":";")+(r.site.secure?"secure":"");}})($$FSR,window,window.document);