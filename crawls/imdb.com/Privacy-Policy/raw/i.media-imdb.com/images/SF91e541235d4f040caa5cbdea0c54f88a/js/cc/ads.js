function consoleLog(q,w){var l=window.consoleLog,r=document.location,z=r.host.match(/^(m|www|uk).imdb.[a-z]+$/);r=r.hash.match("debug=1");if(w)(l[w]=l[w]||[]).push(q);else w="global";(l.global=l.global||[]).push(w+" : "+q);try{!r&&z||window.console&&window.console.log&&window.console.log(w+" : "+q)}catch(x){}};(function(){var q=document,w={top_ad:"t",top_rhs:"tr",upfront_navstrip:"ns"},l=document.all?function(a){return document.all[a]}:function(a){return document.getElementById(a)},r=function(a){return document.getElementsByTagName(a)},z=function(a){return l(a).contentWindow.document},x=function(a,c,b){a.attachEvent?a.attachEvent("on"+c,function(){b.apply(a,arguments)}):a.addEventListener(c,b,false)},E=Math.random()*1E16,F=[[/%3B/g,";"],[/%3D/g,"="],[/%2C/g,","],[/%3F/g,"?"]],H=/(\[|%5B)CLIENT_SIDE_ORD(\]|%5D)/g,
e=/(\[|%5B)PASEGMENTS(\]|%5D)/,j={},o={},n=function(){var a,c,b=function(){var i="{";if(c){if("h"in c)i+=g("h");if("h"in c&&"n"in c)i+=",";if("n"in c)i+=g("n")}i+="}";generic.cookie.set("as",i,1)},g=function(i){var p="";jQuery.each(c[i],function(A,s){p+='"'+A+'":['+h(s[0])+","+h(s[1])+"],"});return'"'+i+'":{'+p.substr(0,p.length-1)+"}"},f=function(){var i=generic.cookie.get("as");if(i)try{c=jQuery.parseJSON(i);a=a||c||{}}catch(p){a=a||(c={})}},h=function(i){i=parseInt(i,10);return isFinite(i)?i:0},
d=function(){return document.location.pathname==="/"?"h":"n"},m=function(i){var p=ad_utils.get_ad_object(i[0]);return i.css("display")==="none"?0:parseInt(p.w,10)},t=function(i,p){var A=0,s=ad_utils.get_ad_object(i[0]);s=parseInt(s.h,10);if(p==="top_ad")if(jQuery("#nb20").hasClass("banner"))A=-5;else if(jQuery("#nb20").hasClass("supertab"))A=-15;if("swfAutoMaxHeight"in i[0].contentWindow)s=i[0].contentWindow.swfMinHeight;return i.css("display")==="none"?0:s+A},v={top_ad:"t",top_rhs:"tr",upfront_navstrip:"ns",
injected_navstrip:"in"};return{store:function(){generic.on_document_ready(function(i){var p;try{f();c=c||{};p=c[d()]||{};i.each(v,function(s,y){var B=i("#"+s);if(B.length!==0)p[y]=[m(B,s),t(B,s)]});c[d()]=p;b()}catch(A){consoleLog("Failed to store ad size cookie "+A.toString(),"ads")}})}}}();this.ad_utils={ord:E,ord_regex:H,ad_table:{},ad_queue:[],queue_ad:function(a,c){var b=this.ad_queue;a={tile:a,slot:c,prev:b.length>0?b[b.length-1].slot:null};b.push(a);generic.monitoring.update_slot_metrics(c,
"iframe");this.ad_table[c]=a},register_ad:function(a,c){generic.monitoring.update_slot_metrics(c,"iframe");this.ad_table[c]={tile:a,slot:c}},render_ad_fast:function(){var a=navigator.userAgent,c=/MSIE/.test(a);/Opera/.test(a);var b=/Firefox/.test(a),g=function(h,d){h=h.contentWindow?h.contentWindow.document:h.contentDocument;b||h.open("text/html","replace");h.write(d+"<script>document.close()<\/script>")},f=function(h,d){var m="_code_"+h.name,t='<script>document.write(parent.ad_utils.render_ad_fast["'+
m+'"]);delete parent.ad_utils.render_ad_fast["'+m+'"]<\/script>';ad_utils.render_ad_fast[m]=d;h.src="javascript:unescape('"+escape(t)+"')"};return function(h){var d=q.getElementById(h),m=d.contentWindow;hash=d.getAttribute("data-dart-params");ad_src=custom.doubleclick.construct_url(hash);code='<script src="'+ad_src+'" type="text/javascript"><\/script><script>document.write("<script defer>parent.ad_utils.ad_table.'+h+'.fired=true;<\\/script>");<\/script>';ad_utils.ad_table[h].render="fast";generic.monitoring.start_timing(h);
generic.monitoring.update_slot_metrics(h,"request");generic.monitoring.record_metric("fast_ads_"+(h==="upfront_navstrip"?"navstrip":h)+"_request.fast",csm.duration());c?f(d,code):g(d,code);m.show_ad_feedback=function(){generic.on_document_ready(function(){ad_utils.show_ad_feedback(h)})};m.d16g_external_callback=function(t){q.ad=t;ad_utils.expand_ad(d)}}}(),render_ad:function(a,c,b){var g=this.ad_queue,f=c.frameElement.id;this.ad_table[f]||(this.ad_table[f]={slot:f});c.show_ad_feedback=function(){generic.on_document_ready(function(){ad_utils.show_ad_feedback(f)})};
c.d16g_external_callback=function(v){a.ad=v;ad_utils.expand_ad(c.frameElement)};var h=this.ad_table[f].prev,d=a.location.hash;b=b||custom.doubleclick.construct_url(d);try{if(g.length===0||g[0].slot==f){if(h)this.ad_table[h].onFireAd=null;g.shift();this.ad_table[f].fired=true;this.ad_table[f].render="normal";try{generic.monitoring.start_timing(f);generic.monitoring.update_slot_metrics(f,"request");generic.monitoring.record_metric("fast_ads_"+(f==="upfront_navstrip"?"navstrip":f)+"_request.normal",
csm.duration())}catch(m){consoleLog("start_timing failed: "+m.toString(),"ads")}a.write('<script src="'+b+'" type="text/javascript"><\/script>');this.ad_table[f].onFireAd&&this.ad_table[f].onFireAd()}else if(h)this.ad_table[h].onFireAd=function(){c.location.reload()}}catch(t){a.write('<script src="'+b+'" type="text/javascript"><\/script>')}},resize_iframe:function(a){this.expand_ad(a)},expand_ad:function(a){var c=this,b=a.id,g=a.height,f=a.width;if(!("expand_called"in this.ad_table[b])){var h=a.parentNode.id,
d=this.get_ad_object(a),m=l(b+"_before"),t=l(b+"_after"),v,i=csm.duration(),p=l(b+"_reflow_helper"),A=p!==null?p.offsetTop:null;if(b+"_wrapper"!==h)if(!generic.has_document_readied()){generic.on_document_ready(function(){c.expand_ad(a)});return}if(this.ad_table&&this.ad_table[b]){this.ad_table[b].expanded=1;if(d){if(!document.ads)document.ads={};document.ads[d.cid]=d;if("w"in d)a.width=parseInt(d.w,10);if("h"in d)a.height=parseInt(d.h,10);if("z"in d&&d.z){a.parentNode.style.zIndex=d.z;a.parentNode.style.position=
"relative"}if(d.st)this.expand_supertab(d);else a.id==="top_ad"&&this.is_open(d)&&!d.clickroll&&!d.overlay&&this.expand_top_banner(d);d.wrap&&this.expand_wrap(d);d.bamf&&this.expand_bamf(d,a);d.inner_bamf&&this.expand_inner_bamf(d);d.relative_bamf&&this.expand_relative_bamf(d);if(this.is_open(d)){m&&this.display_label(m);t&&this.display_label(t)}else{a.style.display="none";m&&this.collapse_label(m);t&&this.collapse_label(t)}if(d.styles)for(v in d.styles)generic.override_style(v,d.styles[v].style)}this.ad_table[b].expand_called=
1;generic.on_document_ready(function(s){s(a).trigger("expand_ad")});g===a.height&&f===a.width?generic.monitoring.update_slot_metrics(b,"reflow",0):setTimeout(function(){var s=b==="top_ad"&&ad_utils.is_open(d)&&!d.st?10:0;p!==null&&p.offsetTop===A+s?generic.monitoring.update_slot_metrics(b,"reflow",0):generic.monitoring.update_slot_metrics(b,"reflow",i)},10);generic.monitoring.update_slot_metrics(b,"tagdeliver",i);n.store();document.body.className=document.body.className}}},get_ad_object:function(a){a=
a.id;var c=z(a),b=null;try{b=c.ad}catch(g){consoleLog("Cannot access ad parameters: "+g.toString(),"ads")}if(b){if(!("pid"in b))b.pid="DFP";if(!("url"in b))b.url="http://ad.doubleclick.net/adi/d16g-sec.preview/;cid="+("cid"in b?b.cid:"")}else{var f=0,h=0;b=["img","object","embed","iframe"];var d,m,t;for(m in b){t=c.getElementsByTagName(b[m]);for(d=0;d<t.length;d++){var v=t[d],i;i=v.scrollWidth||v.width;v=v.scrollHeight||v.height;if(i&&i>1)f=Math.max(f,parseInt(i,10));if(v&&v>1)h=Math.max(h,parseInt(v,
10));consoleLog(a+" : estimated size : "+i+","+v,"ads")}}b={w:f.toString(),h:h.toString(),pid:"",url:"",aid:"0",cid:"0"};if(f===0||h===0)b.scope="null"}return c.ad=b},get_cornerstone_ad_object:function(a){a=w[a]+"adData";if("aanResponse"in top.document&&a in top.document.aanResponse)return top.document.aanResponse[a];return null},get_mapped_amazon_slot_name:function(a){return w[a]?w[a]:a},clean_up_slot_metrics:function(a){var c=a.id,b=z(c);a=this.get_ad_object(a);try{generic.monitoring.stop_timing(c,
this.get_type_of_ad(a),true)}catch(g){consoleLog("stop_timing failed: "+g.toString(),"ads")}b.location.href.match(/\/ads\/request\//)&&this.log_ad_impression(a,c)},on_ad_load:function(a){var c=a.id,b=this.ad_table[c];if(!b||!(b.fired||b.injected))consoleLog("deflected spurious onload event for "+c,"on_ad_load");else{b.loaded=true;generic.monitoring.update_slot_metrics(c,"load");if(this.ad_table[c].render)generic.monitoring.record_metric("fast_ads_"+(c==="upfront_navstrip"?"navstrip":c)+"_load."+this.ad_table[c].render,
csm.duration());b.expanded||this.expand_ad(a);this.clean_up_slot_metrics(a)}},is_open:function(a){return a&&"w"in a&&"h"in a&&a.w>0&&a.h>0&&a.scope!=="blank"},expand_supertab:function(){var a=l("nb15"),c=l("nb20");if(a)a.className="supertab";else if(c)c.className="supertab"},expand_top_banner:function(){var a=l("nb15");if(a)a.className="banner";else l("nb20").className="banner"},expand_bamf:function(a,c){generic.extend(c.style,a.bamf.style)},expand_inner_bamf:function(a){a=a.inner_bamf;var c=l(a.targetId);
c&&a.node&&generic.insert_after(a.node,c)},expand_relative_bamf:function(a){a=a.relative_bamf;var c=l(a.targetId),b;if(a.relation=="insert_after")b=generic.insert_after;else if(a.relation=="insert_before")b=generic.insert_before;else if(a.relation=="insert_inside")b=generic.insert_inside;c&&a.node&&b(a.node,c)},expand_wrap:function(a){if(!a.styles)a.styles={};generic.extend(a.styles,{"styleguide-v2":{style:{background:a.wrap}},root:{style:{"background-color":"transparent","box-shadow":"none"}},pagecontent:{style:{height:"100%"}},
nb20:{style:{background:"none"}}})},expand_label:function(a){a.className=a.className.replace(/hidden/,"")},display_label:function(a){a.className=a.className.replace(/ads-invisible/,"")},collapse_label:function(a){a.className=a.className.replace(/ads-invisible/,"hidden")},log_ad_impression:function(a,c){var b="/ads/record/[scope];[slot];[aid];[cid];[ord];[time].js";b=b.chained_replace([[/\[slot\]/g,c],[/\[ord\]/g,this.ord],[/\[time\]/g,(new Date).getTime()]]);b=b.chained_replace(a?[[/\[scope\]/g,a.scope||
"0"],[/\[aid\]/g,a.aid],[/\[cid\]/g,a.cid]]:[[/\[scope\]/g,"null"]]);generic.load_script(b)},get_type_of_ad:function(a){if(!a)return"null";if(a.scope)return a.scope;return"got_ad"},show_ad_feedback:function(a){function c(){g("#ad_feedback_"+a).remove();return false}function b(s){var y=g(window),B=g(document),C=(y.width()-300)/2+B.scrollLeft();y=(y.height()-320)/2+B.scrollTop();s.css({top:y<0?0:y,left:C})}try{var g=jQuery,f=window.frames[a],h=ad_utils.get_ad_object(f.frameElement),d,m=f.location.hash.match(/#([^;]*);/),
t={adId:h?h.aid:"",cid:h?h.cid:"",page_id:window.location.href.substr(0,255),pagesubtype:m?m[1]:"",slot:a},v=t.adId+";"+t.cid+";"+t.slot,i=g("#ad_feedback_container"),p=0;g("div.dfp_slot iframe").each(function(){var s=this.id,y=ad_utils.get_ad_object(this);if(!(s in o)&&y){d=ad_utils.get_cornerstone_ad_object(s);o[s]=d?{aid:d.adId,cid:d.creativeId,pid:d.adNetwork}:{aid:y.aid,cid:y.cid,pid:y.pid};o[s].url=y.url;o[s].dim=y.w+"x"+y.h}});g.each(o,function(s,y){t["slot_"+p]=s;t["cid_"+p]=y.cid;t["aid_"+
p]=y.aid;t["pid_"+p]=y.pid;t["dim_"+p]=y.dim;t["url_"+p]=y.url;p++});if(i.length===0){i=g('<iframe id="ad_feedback_container">');i.addClass("hidden").attr({name:"ad_feedback_container",scrolling:"no",frameborder:"no",marginheight:"0",marginwidth:"0",allowtransparency:"yes"});i[0].hide=function(){g(this).addClass("hidden")};i[0].show=function(){g(this).removeClass("hidden")};i[0].isHidden=function(){return i.hasClass("hidden")};g("body").append(i)}if(i.attr("src")===""||i.attr("ref")!==v)i.unbind().load(function(){i[0].show();
b(i);g(this).unbind()}).attr("src","/ads/feedback.html#"+g.param(t)).attr("ref",v);else if(i[0].isHidden()){i[0].show();b(i)}else{i[0].hide();return false}}catch(A){consoleLog("ad feedback failure : "+A,"ads");c()}return false},report_ad_data:function(a,c){a=a;var b,g={};if(a!==top){try{for(;a.parent!==top;)a=a.parent;b=a.frameElement.id}catch(f){consoleLog("could not determine ad slot: "+f);return}$.each("aid cid pid url dom dim".split(" "),function(h,d){if(d in c)g[d]=c[d]});o[b]=g}},ns:function(){var a=
{},c=function(b){return a[b]=a[b]||{}};return{register:function(b,g,f){c(typeof b==="string"?b:b.frameElement.id)[g]=f},get:c}}(),inject_ad:function(){var a={},c={},b=function(f){consoleLog(f,"inject_ad")},g={injected_navstrip:"top_ad"};return{render:function(f){var h=f.document,d=f.frameElement,m=d.id;f=l(g[m]);ad_utils.ad_table[m]={slot:m,injected:true};if(m in a){x(d,"load",function(){ad_utils.on_ad_load(this)});h.write(a[m]);delete a[m]}else x(f,"load",function(){if(!(m in a)){b(m+" will never have an ad");
ad_utils.on_ad_load(d)}});c[m]=true;b(m+" rendered")},inject:function(f,h){a[f]=h;c[f]&&l(f).contentWindow.location.reload();b(f+" injected")}}}()};this.generic={scrollers:[],should_jQuery_noConflict:window.$&&!window.jQuery,document_readys:[],one_way_send_record:[],insert_after:function(a,c){try{c.parentNode.insertBefore(a,c.nextSibling)}catch(b){c.parentNode.appendChild(a)}},insert_before:function(a,c){c.parentNode.insertBefore(a,c)},insert_inside:function(a,c){c.appendChild(a)},extend:function(a,
c){var b;for(b in c)if(typeof c[b]=="object"){if(a[b]!=c[b]){if(typeof a[b]=="undefined")a[b]={};this.extend(a[b],c[b])}}else a[b]=c[b]},override_style:function(a,c,b){a="#"+a;var g;for(g in c)c[g]+=" !important";generic.add_json_style(a,c,b)},add_json_style:function(a,c,b,g){a=a+"{";var f;for(f in c)a+=f+":"+c[f]+";";a+="}";generic.add_css_style(a,b,g)},add_css_style:function(a,c,b){var g=["css-style-generic"],f,h;if(!c||!c.length)c="css-style-generic";else g.push(c);b||(b="a");for(h in g)if(!l(g[h])){f=
document.createElement("style");f.setAttribute("type","text/css");f.id=g[h];r("head")[0].appendChild(f)}f=l(c);if(f.styleSheet&&"cssText"in f.styleSheet){a=(b==="a"?f.styleSheet.cssText:"")+a;f.styleSheet.cssText=a}else{a=(b==="a"?f.innerHTML:"")+a;try{f.innerHTML=a}catch(d){f.innerText=a}}},add_css_file:function(a,c){c||(c="css-file-generic");var b=l(c);if(!b){b=document.createElement("link");b.setAttribute("type","text/css");b.rel="stylesheet";b.id=c;r("head")[0].appendChild(b)}b.href=a},set:function(a,
c){a=a.split(":");a[0]=="cookie"?generic.cookie.set(a[1],c):generic.cache.set(a[1],c)},get:function(a){a=a.split(":");return a[0]=="cookie"?generic.cookie.get(a[1]):generic.cache.get(a[1])},erase:function(a){a=a.split(":");return a[0]=="cookie"?generic.cookie.erase(a[1]):generic.cache.erase(a[1])},cache:{set:function(a,c){j[a]=c},get:function(a){return j[a]},erase:function(a){delete j[a]}},load_script:function(a){var c=document.createElement("script");c.type="text/javascript";c.src=a;r("head")[0].appendChild(c)},
load_script_notify:function(a,c){var b=document.createElement("script"),g=false;b.type="text/javascript";b.src=a;b.onload=b.onreadystatechange=function(){var f=this.readyState;if(!(g||f&&f!="complete"&&f!="loaded")){g=true;document.body.removeChild(b);"function"===typeof c&&c(a)}};document.body.appendChild(b)},one_way_send:function(a){imageObj=new Image(0,0);imageObj.src=a;this.one_way_send_record.push(imageObj)},extensions:{String:{chained_replace:function(a){var c=this,b;for(b=0;b<a.length;b++){var g=
a[b];c=c.replace(g[0],g[1])}return c},collapse:function(a,c){for(var b=this;b.length>c;){var g=b.replace(a,"");if(g.length==b.length)break;b=g}return b}}},document_is_ready:function(){var a=generic.document_readys,c;generic.document_readys=null;for(c=0;c<a.length;c++)try{a[c](jQuery)}catch(b){}generic.should_jQuery_noConflict&&jQuery.noConflict(false)},on_document_ready:function(a){generic.has_document_readied()?a(jQuery):generic.document_readys.push(a)},has_document_readied:function(){return generic.document_readys===
null},load_when_visible:function(a,c){var b=0,g=jQuery(window),f=g.height()+g.scrollTop();if(jQuery("#"+a).length){var h=jQuery(jQuery("#"+a).get(0)),d=h.offset().top;f>d?c(a):g.scroll(function(){f=g.height()+g.scrollTop();d=h.offset().top;if(f>d&&!b){b=1;c(a)}})}else c(a)},scrolling_content:function(a,c){var b=this;b.adCont=a;b.adHeight=0;b.numAds=0;b.currAd=0;b.oldAd=b.currAd;b.opts=c?c:{};a=function(g,f){b[g]=g in b.opts?b.opts[g]:f};a("scrollDuration",1E3);a("scrollDelay",5E3);a("scrollAuto",
1);a("nowrap",0);a("before_scroll",null);b.scroll_to_current=function(){if(b.oldAd!==b.currAd){if(b.before_scroll)try{b.before_scroll()}catch(g){consoleLog(g,"scrolling_content")}var f=Math.abs(b.oldAd-b.currAd);jQuery(jQuery("#"+b.adCont+">div:first")).animate({marginTop:"-"+b.currAd*b.adHeight+"px"},b.scrollDuration*(f?f:1))}};b.scroll_up=function(){b.stop_auto();b.oldAd=b.currAd;b.currAd--;if(b.currAd<0)b.currAd=b.nowrap?0:b.numAds-1;b.scroll_to_current()};b.scroll_down=function(){b.stop_auto();
b.oldAd=b.currAd;b.currAd++;if(b.currAd>=b.numAds)b.currAd=b.opts.nowrap?b.numAds-1:0;b.scroll_to_current()};b.scroll_auto=function(){if(b.scrollAuto){b.oldAd=b.currAd;b.currAd++;if(b.currAd>=b.numAds)b.currAd=0;b.scroll_to_current();b.currAd!==0&&setTimeout(function(){b.scroll_auto()},b.scrollDelay)}};b.stop_auto=function(){b.scrollAuto=0};jQuery("#"+b.adCont+">div").each(function(){b.numAds++;if(this.scrollHeight>b.adHeight)b.adHeight=this.scrollHeight});jQuery("#"+b.adCont+">div").css("height",
b.adHeight);jQuery("#"+b.adCont).css("height",b.adHeight);setTimeout(function(){b.scroll_auto()},b.scrollDelay)}};String.prototype.chained_replace=generic.extensions.String.chained_replace;String.prototype.collapse=generic.extensions.String.collapse;this.custom={amazon:{segments:null,aan_call_name:"aan_call",get_segments:function(a){if(!this.segments){var c=generic.cookie.get("us")||"";c=c.replace(/[^a-zA-Z0-9;=]/g,"");this.segments=c.collapse(/s=[^;]*;$/,a);a=c.length-this.segments.length;a!==0&&
generic.monitoring.record_metric("seg_trimmed",a)}return this.segments},load_callback:function(a){trimmed_segs=a.collapse(/s=[^;]*;$/,450);generic.cookie.set("us",trimmed_segs,7);if(this.segments===null){generic.monitoring.stop_timing(this.aan_call_name,"in_time",false);csm.measure("csm_aan_response.in_time")}else{generic.monitoring.stop_timing(this.aan_call_name,"late",false);csm.measure("csm_aan_response.late")}},aan_iframe_oncall:function(){generic.monitoring.start_timing(custom.amazon.aan_call_name);
csm.measure("csm_aan_request")}},doubleclick:{construct_url:function(a){var c=a.match(";ifb=pf;")?"pfadj":"adj";a=escape(a.substring(1,a.length));a=a.replace(H,E);a=a.chained_replace(F);var b=475-a.chained_replace([[e,""],[/^[^\;]*/,""]]).length;b=custom.amazon.get_segments(b);a=a.replace(e,b);return document.location.protocol+"//ad.doubleclick.net/"+c+"/"+a}},indirect:{close:function(a){a.location.href.match("floater")&&custom.floater.close(a.frameElement.id)}},full_page:{style_id:"custom__full_page__generated_styles",
data_url:"/images/a/js/graffiti_data.js",apply:function(a){var c=this;document.getElementById("root").style.boxShadow="none";window.generic.on_document_ready(function(){c.settings=a;"styles"in c?c._apply():window.generic.load_script_notify(c.data_url,function(){c._apply()})})},_apply:function(){var a;a=this.settings.ARGS.split(/&/);var c={},b=this,g="/* ARGS:"+this.settings.ARGS+" */\n";jQuery.each(a,function(h,d){h=/^(.*)=(.*)$/.exec(d);if(h.length===3)c[h[1]]=unescape(h[2].replace(/\+/g," "))});
a=this.invert_styles(c.treatment);jQuery.each(a,function(h,d){if(d.fixed)g+=b.format_css(d,d.fixed);else if(c[h]||d["default"])g+=b.format_css(d,c[h])});try{jQuery("style#"+this.style_id).remove();jQuery("head").append(jQuery('<style type="text/css">').attr("id",this.style_id).html(g))}catch(f){generic.add_css_style(g,this.style_id,"o")}},invert_styles:function(a){var c=["default","important","fixed"],b={};jQuery.each(this.styles[a],function(g,f){jQuery.each(f,function(h,d){var m=b[d.name]={style:g,
selector:d.selector};jQuery.each(c,function(t,v){if(d[v])m[v]=d[v]})})});return b},format_css:function(a,c){return a.selector+" { "+a.style+" : "+(c?c:a["default"])+(a.important?" !important ":"")+"}\n"}},floater:{close:function(a){generic.extend(l(a),{style:{width:"0px",height:"0px"}})},launch:function(a,c,b,g,f,h,d){var m=document.createElement("iframe");g=typeof g==="string"?l(g):g;b!="none"&&setTimeout(function(){custom.floater.close(d)},b*1E3);generic.extend(m,{id:d,name:d,width:c[0]+"px",height:c[1]+
"px",frameBorder:"0",scrolling:"no",allowTransparency:"true",style:{marginLeft:h[0]+"px",marginTop:h[1]+"px",zIndex:h[2],position:"absolute"}});f(m,g);m.src=a},set:function(a,c,b,g,f,h){generic.cache.set("floater",a);a="floater_"+Math.ceil(Math.random()*9999999);custom.floater.launch("/images/a/ifb/doubleclick/indirect.html?source=cache:floater",c,b,g,f,h,a);return a}}};var k=function(a,c){return c?'<param name="'+a+'" value="'+c+'">':""},u=function(a,c){return c?" "+a+'="'+c+'" ':""};this.flashAdUtils=
{makeFlashAd:function(a){var c=a.id,b=a.src,g=a.width,f=a.height,h=a.bgcolor,d=a.wmode||"opaque",m=a.salign,t=a.scale,v=a.extraParams,i=a.extraTAGs,p=a.minVersion,A=escape(a.clickThru),s=a.clickTAGs,y=function(G){return G!==null&&G!==undefined&&(G+"").length},B=function(G){return isFinite(parseInt(G,10))};a="";var C,D;if(!y(c)||!y(b)||!B(g)||!B(f))consoleLog("makeFlashAd: Missing required params","flashAdUtils");else{flashAdUtils.canPlayFlash(p)||consoleLog("makeFlashAd: Current flash version too low",
"flashAdUtils");if(s)for(p=0;p<s.length;p++)if(s[p])a=a+"&clickTAG"+(p+1)+"="+escape(s[p]);if(i)for(C in i)a=a+"&"+escape(C)+"="+escape(i[C]);a+="&ord="+ad_utils.ord;C=i="";try{p={width:1,height:1,src:1,bgcolor:1,wmode:1,salign:1,scale:1,flashvars:1};for(D in v)if(!p[D]){i+=k(D,v[D]);C+=u(D,v[D])}}catch(I){}v=k("bgcolor",h);h=u("bgcolor",h);D=k("wmode",d);d=u("wmode",d);p=k("scale",t);t=u("scale",t);s=k("salign",m);m=u("salign",m);return'<object  classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"  width="'+
g+'"  height="'+f+'"  id="swf_'+c+'"><param name="movie" value="'+b+'"><param name="flashvars" value="env=WEB&clickTAG='+A+"&"+a+'"><param name="play" value="true"><param name="quality" value="high"><param name="allowScriptAccess" value="always">'+p+s+v+D+i+'<!--HACK--\><div style="margin-left:0.1px"><embed src="'+b+'"  flashvars="env=WEB&clickTAG='+A+"&"+a+'"  quality="high"  play="true"  width="'+g+'"  height="'+f+'"  name="swf_'+c+'"  allowScriptAccess="always"  type="application/x-shockwave-flash"  pluginspage="http://www.macromedia.com/go/getflashplayer" '+
t+m+h+d+C+"></embed></div></object>"}},canPlayFlash:function(a){var c=false,b=parseInt(a,10);a=!a||b<9?9:b;if((navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]?navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin:0)&&navigator.plugins["Shockwave Flash"]){c=navigator.plugins["Shockwave Flash"].description.split(" ");var g;for(b=0;b<c.length;++b)isNaN(parseInt(c[b],10))||(g=parseInt(c[b],10));c=g>=a}else if(navigator.userAgent&&navigator.userAgent.indexOf("MSIE")>=
0&&navigator.appVersion.indexOf("Win")!==-1)try{var f=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+a);f.AllowScriptAccess="always";c=f.GetVariable("$version").match(/([0-9]+)/)[1]>=a}catch(h){}return c}};document.getElementsByTagName("html")[0].className+=" scriptsOn";generic.on_document_ready(function(a){a(window).load(function(){n.store()})})})();(function(){generic=window.generic||{};generic.extended_split=function(q,w,l){for(var r=[],z=0,x;!l||r.length<l-1;){x=q.indexOf(w,z);if(x===-1)break;r.push(q.substring(z,x));z=x+w.length}r.push(q.substring(z));return r};generic.object_from_querystring=function(q){var w=q.split("&"),l={},r;if(q==="")return{};for(q=0;q<w.length;q++){r=generic.extended_split(w[q],"=",2);l[r[0]]=r.length===1?null:decodeURIComponent(r[1])}return l};generic.cookie={set:function(q,w,l){var r,z;if(l){z=new Date;z.setTime(z.getTime()+
l*24*60*60*1E3);l="; expires="+z.toGMTString()}else l="";r=document.location.host.split(".");z=r.pop();r=r.pop();document.cookie=q+"="+escape(w)+l+"; path=/; domain="+r+"."+z},get:function(q){var w=document.cookie.split(";"),l,r;for(l=0;l<w.length;l++)if(typeof w[l]=="string"){r=w[l].split("=");if(r[0]&&r[1]&&r[0].replace(/\s/,"")==q)return unescape(r[1])}return null},erase:function(q){this.set(q,"",-1)}}})();(function(){var q=window.generic=window.generic||{},w="IMDbTimer"in window?window.IMDbTimer.starttime:NaN,l=document.location.hash.match("debug=1"),r=l||!isNaN(w)&&Math.random()<0.25,z=l||Math.random()<0.1,x=function(){var e={top_ad:{iframe:undefined,request:undefined,reflow:undefined,tagdeliver:undefined,load:undefined},top_rhs:{iframe:undefined,request:undefined,reflow:undefined,tagdeliver:undefined,load:undefined},upfront_navstrip:{iframe:undefined,request:undefined,reflow:undefined,tagdeliver:undefined,
load:undefined},bottom_ad:{iframe:undefined,request:undefined,reflow:undefined,tagdeliver:undefined,load:undefined}},j={top_ad:undefined,top_rhs:undefined,upfront_navstrip:undefined,bottom_ad:undefined},o={top_ad:1,top_rhs:1,upfront_navstrip:1,bottom_ad:2},n={top_ad:1,top_rhs:1,upfront_navstrip:1,bottom_ad:1};forester_events={reflow:1,"ad-delivery":1,load:1};q.on_document_ready(function(k){k(window).bind("beforeunload",function(){var u,a;for(u in e){a=e[u];a.request&&a.load===undefined&&q.monitoring.record_event("ad_load_failure."+
u)}q.monitoring.send_metrics()})});return{is_slot_monitored:function(k){return k in o||k in n},is_twilight_slot:function(k){return k in o},is_twilight_core_slot:function(k){return k in o&&o[k]===1},is_forester_slot:function(k){return k in n},is_forester_event:function(k,u){return this.is_forester_slot(k)&&u in forester_events},set_metric_value:function(k,u,a){e[k][u]=a},get_metric_value:function(k,u){if(k in e)return e[k][u]},get_core_slots_duration:function(k){var u=0,a;for(a in o)if(this.is_twilight_core_slot(a)){if(undefined===
this.get_metric_value(a,k))return null;u=Math.max(u,this.get_metric_value(a,k))}return u},set_remnant_partner:function(k,u){j[k]=u;return this},get_remnant_partner:function(k){return j[k]}}}(),E="http://www.imdb.com/twilight/?",F=function(){var e=function(){return{prepare_and_send_metric:function(n,k,u,a){o({slot:k,ad_network_name:"DART",aid:n.aid,cid:n.cid,slot_event:u,time:a})}}}(),j=function(){return{prepare_and_send_metric:function(n,k,u){var a,c=20,b;b=function(){if(a=ad_utils.get_cornerstone_ad_object(n))o({slot:n,
ad_network_name:"PDA",aid:a.adId,cid:a.creativeId,slot_event:k,time:u});else--c&&setTimeout(b,100)};b()}}}(),o=function(n){var k,u,a,c,b;if(z&&x.is_forester_slot(n.slot)){k=ad_utils.get_mapped_amazon_slot_name(n.slot);u=page_type;a=n.ad_network_name;c=n.aid;b=n.cid;n='{"s":"imdb","l":"'+k+'","p":"'+u+'","n":"'+a+'","a":"'+c+'","c":"'+b+'","m":"'+n.slot_event+'","v":"'+n.time+'"}';l&&consoleLog(n+" metrics sent","forester");q.one_way_send("http://fls-na.amazon.com/1/display-ads-cx/1/OP/?LMET"+escape(n))}};
return{send_forester_metric:function(n,k,u,a){e.prepare_and_send_metric(n,k,u,a);j.prepare_and_send_metric(k,u,a)},set_page_type:function(n){page_type=n}}}();this.csm={measure:function(e,j){this.record(e,this.duration(),j)},record:function(e,j,o,n){if(r&&!csm.metrics[e]){csm.metrics[e]=j;q.monitoring.record_metric(e+(n?n:""),csm.metrics[e],o)}},duration:function(){return(new Date).getTime()-w},metrics:{}};q.monitoring={event_starts:{},event_stops:{},events_to_stop:0,event_duration:{},event_counters:[],
all_events_started_flag:false,twilight_info:"",twilight_client:function(){var e=navigator.userAgent,j;if((j=e.match(/MSIE (\d+)/))&&j[1]>=6)return"ie"+j[1];if(j=e.match(/Mac OS.*Firefox\/(\d+)/))return j[1]==="3"?"firefox3-mac":"firefox-mac";if(j=e.match(/Firefox\/(\d+)/))return j[1]==="3"?"firefox3":"firefox";if(e.indexOf("Chrome")!==-1)return"chrome";if(e.indexOf("Safari")!==-1)return"safari";if(e.indexOf("Opera")!==-1)return"opera";return"Other"}(),isTwilightActiveSample:r,page_type:"",start_timing:function(e){this.start_timing_at(e,
(new Date).getTime())},start_timing_at:function(e,j){this.event_starts[e]=j;this.events_to_stop++},stop_timing:function(e,j,o){var n=(new Date).getTime(),k=e;if(this.event_starts[e]){this.event_stops[e]=n;if(j)k+="."+j;this.record_metric(k,n-this.event_starts[e]);delete this.event_starts[e];this.events_to_stop--;if(o||this.all_events_started_flag&&this.events_to_stop===0)this.send_metrics()}},record_event:function(e,j){this.event_counters.push(e);consoleLog(e,"twilight");j&&this.send_metrics()},record_metric:function(e,
j,o){this.event_duration[e]=j;consoleLog(e+","+j,"twilight");o&&this.send_metrics()},send_metrics:function(){var e=E+this.twilight_info,j=1,o;for(o in this.event_duration){e+="&Operation."+j+"="+o;e+="&OperationTiming."+j+"="+this.event_duration[o];j++}this.event_duration={};if(!(j===1&&this.event_counters.length===0)){for(j=0;j<this.event_counters.length;j++)e+="&Counter."+(j+1)+"="+this.event_counters[j];this.event_counters=[];e+="&ord="+ad_utils.ord;q.one_way_send(e);consoleLog("metrics sent",
"twilight")}},set_twilight_info:function(e,j,o,n,k){if(IMDbTimer.pt==="java")e+=".java";this.twilight_info="PageType="+e+"&Geo="+j+"&tw_ord="+o+"&timestamp="+n+"&Client="+this.twilight_client;E=k},set_forester_info:function(e){F.set_page_type(e)},all_events_started:function(){this.all_events_started_flag=true},set_remnant_partner:function(e,j){x.set_remnant_partner(e.frameElement.id,j)},update_slot_metrics:function(e,j,o){var n,k=document.getElementById(e);n=k?k.contentWindow.document.ad:null;k="load"===
j&&x.get_remnant_partner(e)?"."+x.get_remnant_partner(e):"";if(!(!e||!x.is_slot_monitored(e)||x.get_metric_value(e,j))){x.set_metric_value(e,j,undefined!==o?o:csm.duration());o=x.get_metric_value(e,j);if(n&&x.is_forester_event(e,j)){F.send_forester_metric(n,e,j,o);j==="load"&&F.send_forester_metric(n,e,"ad-delivery",x.get_metric_value(e,"load")-x.get_metric_value(e,"request"))}if(x.is_twilight_slot(e)){n=e==="upfront_navstrip"?"navstrip":e;csm.record("csm_"+n+"_"+j,o,0,k);"load"===j&&""!==k&&csm.record("csm_"+
n+"_deliver",o-x.get_metric_value(e,"tagdeliver"),0,k);e==="bottom_ad"&&j==="load"&&csm.record("csm_"+n+"_timeout",o,0,H.get_level_for_load(page_type,o));if(x.is_twilight_core_slot(e)){e=x.get_core_slots_duration(j);e!==null&&csm.record("csm_core_ads_"+j,e)}}}}};var H=function(){return{get_level_for_load:function(e,j){e={homepage:[1200,3600],title:[1400,4600],name:[1500,4200]}[e];var o=[1200,3600];e||(e=o);return j<e[0]?".1":j<e[1]?".2":".3"}}}();q.on_document_ready(function(e){if(q.monitoring.isTwilightActiveSample){csm.measure("csm_ready");
e(window).load(function(){csm.measure("csm_load",true)});e("div.dfp_slot").each(function(){q.monitoring.record_event("dfp_slot")});e=parseInt(e("#servertime").attr("time"),10);isNaN(e)||q.monitoring.record_metric("csm_server",e)}})})();
