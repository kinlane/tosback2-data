(function(){window.generic=window.generic||{};window.generic.install=function(r,o){var n;for(n in o)if(o.hasOwnProperty(n))r[n]=o[n]}})();(function(r){r.install(r,{document_readys:[],document_is_ready:function(){var o=r.document_readys,n;r.document_readys=null;for(n=0;n<o.length;n++)try{o[n](jQuery)}catch(v){}r.should_jQuery_noConflict&&jQuery.noConflict(false)},on_document_ready:function(o){r.has_document_readied()?o(jQuery):r.document_readys.push(o)},has_document_readied:function(){return r.document_readys===null}})})(window.generic);function consoleLog(r,o){var n=window.consoleLog,v=document.location,A=v.host.match(/^(m|www|uk).imdb.[a-z]+$/);v=v.hash.match("debug=1");if(o)(n[o]=n[o]||[]).push(r);else o="global";(n.global=n.global||[]).push(o+" : "+r);try{!v&&A||window.console&&window.console.log&&window.console.log(o+" : "+r)}catch(h){}};document.getElementsByTagName("html")[0].className+=" scriptsOn";(function(){var r=window.ads_js_start?(new Date).getTime()-window.ads_js_start:null,o=document,n=navigator.userAgent,v=/MSIE/.test(n),A=/Firefox/.test(n),h=window.generic,M={top_ad:"t",top_rhs:"tr"},w=document.all?function(a){return document.all[a]}:function(a){return document.getElementById(a)},J=function(a){return document.getElementsByTagName(a)},I=function(a){return w(a).contentWindow.document},F=function(a,b,c){a.attachEvent?a.attachEvent("on"+b,function(){c.apply(a,arguments)}):a.addEventListener(b,
c,false)},U=Math.random()*1E16,V=[[/%3B/g,";"],[/%3D/g,"="],[/%2C/g,","],[/%3F/g,"?"]],S=/(\[|%5B)CLIENT_SIDE_ORD(\]|%5D)/g,g=/(\[|%5B)PASEGMENTS(\]|%5D)/,k=/(\[|%5B)CLIENT_SIDE_KEYVALUES(\]|%5D)/,p={},m={},y=function(){var a,b,c=function(){var l="{";if(b){if("h"in b)l+=f("h");if("h"in b&&"n"in b)l+=",";if("n"in b)l+=f("n")}l+="}";h.cookie.set("as",l,h.days_to_midnight||1)},f=function(l){var q="";jQuery.each(b[l],function(G,z){q+='"'+G+'":['+d(z[0])+","+d(z[1])+"],"});return'"'+l+'":{'+q.substr(0,
q.length-1)+"}"},j=function(){var l=h.cookie.get("as");if(l)try{b=jQuery.parseJSON(l);a=a||b||{}}catch(q){a=a||(b={})}},d=function(l){l=parseInt(l,10);return isFinite(l)?l:0},e=function(){return document.location.pathname==="/"?"h":"n"},s=function(l){var q=ad_utils.get_ad_object(l[0]);return l.css("display")==="none"?0:parseInt(q.w,10)},x=function(l,q){var G=0,z=ad_utils.get_ad_object(l[0]);z=parseInt(z.h,10);if(q==="top_ad")if(jQuery("#nb20").hasClass("banner"))G=-5;else{if(jQuery("#nb20").hasClass("supertab"))G=
-15}else if(q==="injected_billboard")G=20;if("swfAutoMaxHeight"in l[0].contentWindow)z=l[0].contentWindow.swfMinHeight;return l.css("display")==="none"?0:z+G},t={top_ad:"t",top_rhs:"tr",injected_navstrip:"in",injected_billboard:"ib"};return{store:function(){h.on_document_ready(function(l){var q;try{j();b=b||{};q=b[e()]||{};l.each(t,function(z,C){var N=l("#"+z);if(N.length!==0)q[C]=[s(N,z),x(N,z)]});b[e()]=q;c()}catch(G){consoleLog("Failed to store ad size cookie "+G.toString(),"ads")}})}}}(),u=function(){var a=
function(c,f){c=c.contentWindow?c.contentWindow.document:c.contentDocument;A||c.open("text/html","replace");c.write("<body>"+f+"<script>document.close()<\/script></body>")},b=function(c,f){var j="__srcless_"+Math.floor(Math.random()*68719476735).toString(36),d="<body><script>document.write(parent.ad_utils."+j+");delete parent.ad_utils."+j+";<\/script></body>";ad_utils[j]=f;c.src="javascript:unescape('"+escape(d)+"')"};return{inject_slot:function(c,f){f="<style>body{background:transparent;}</style>"+
f+'<script>document.write("<script defer>parent.ad_utils.ad_table.'+c.id+'.fired=true;<\\/script>");<\/script>';v?b(c,f):a(c,f)}}}();this.ad_utils={ord:U,ord_regex:S,current_tile:1,tile_regex:/(\/|;)tile=[0-9]+(;|\?)/,tile_fn:function(){return";tile="+ad_utils.current_tile++ +";"},ad_table:{},ad_queue:[],queue_ad:function(a,b){var c=this.ad_queue;a={tile:a,slot:b,prev:c.length>0?c[c.length-1].slot:null};c.push(a);h.monitoring.update_slot_metrics(b,"iframe");this.ad_table[b]=a},register_ad:function(a){h.monitoring.update_slot_metrics(a,
"iframe");this.ad_table[a]={slot:a}},render_ad_fast:function(a){var b=o.getElementById(a),c=b.contentWindow,f=b.getAttribute("data-dart-params");f=f?f.replace(ad_utils.tile_regex,ad_utils.tile_fn):undefined;f='<script src="'+(b.getAttribute("data-override-url")||custom.doubleclick.construct_url(f))+'" type="text/javascript"><\/script>';h.monitoring.start_timing(a);h.monitoring.update_slot_metrics(a,"request");u.inject_slot(b,f);c.show_ad_feedback=function(){h.on_document_ready(function(){ad_utils.show_ad_feedback(a)})};
c.d16g_external_callback=function(j){o.ad=j;ad_utils.expand_ad(b)}},render_ad:function(a,b,c){var f=this.ad_queue,j=b.frameElement.id;this.ad_table[j]||(this.ad_table[j]={slot:j});var d=this.ad_table[j].prev,e=a.location.hash;c=c||custom.doubleclick.construct_url(e);ad_utils.weblab.get_treatment("kill ads");b.show_ad_feedback=function(){h.on_document_ready(function(){ad_utils.show_ad_feedback(j)})};b.d16g_external_callback=function(t){a.ad=t;ad_utils.expand_ad(b.frameElement)};try{if(f.length===0||
f[0].slot==j){if(d)this.ad_table[d].onFireAd=null;f.shift();this.ad_table[j].fired=true;this.ad_table[j].render="normal";try{h.monitoring.start_timing(j);h.monitoring.update_slot_metrics(j,"request")}catch(s){consoleLog("start_timing failed: "+s.toString(),"ads")}a.write('<script src="'+c+'" type="text/javascript"><\/script>');this.ad_table[j].onFireAd&&this.ad_table[j].onFireAd()}else if(d)this.ad_table[d].onFireAd=function(){b.location.reload()}}catch(x){a.write('<script src="'+c+'" type="text/javascript"><\/script>')}},
resize_iframe:function(a){this.expand_ad(a)},expand_ad:function(a){var b=this,c=a.id,f=a.height,j=a.width;if(!("expand_called"in this.ad_table[c])){var d=a.parentNode.id,e=this.get_ad_object(a),s=w(c+"_before"),x=w(c+"_after"),t,l=csm.duration(),q=w(c+"_reflow_helper"),G=q!==null?q.offsetTop:null;if(c+"_wrapper"!==d)if(!h.has_document_readied()){h.on_document_ready(function(){b.expand_ad(a)});return}if(this.ad_table&&this.ad_table[c]){this.ad_table[c].expanded=1;if(e){if(!document.ads)document.ads=
{};document.ads[e.cid]=e;if("w"in e)a.width=parseInt(e.w,10);if("h"in e)a.height=parseInt(e.h,10);if("z"in e&&e.z){a.parentNode.style.zIndex=e.z;a.parentNode.style.position="relative"}if(e.st)this.expand_supertab(e);else if(e.bb)this.expand_billboard(e);else a.id==="top_ad"&&this.is_open(e)&&!e.clickroll&&!e.overlay&&this.expand_top_banner();e.wrap&&this.expand_wrap(e);e.bamf&&this.expand_bamf(e,a);e.inner_bamf&&this.expand_inner_bamf(e);e.relative_bamf&&this.expand_relative_bamf(e);if(this.is_open(e)){s&&
this.display_label(s);x&&this.display_label(x)}else this.collapse_ad(a);if(e.styles)for(t in e.styles)h.override_style(t,e.styles[t].style)}this.ad_table[c].expand_called=1;h.on_document_ready(function(z){z(a).trigger("expand_ad")});f===a.height&&j===a.width?h.monitoring.update_slot_metrics(c,"reflow",0):setTimeout(function(){var z=c==="top_ad"&&ad_utils.is_open(e)&&!e.st?10:0;q!==null&&q.offsetTop===G+z?h.monitoring.update_slot_metrics(c,"reflow",0):h.monitoring.update_slot_metrics(c,"reflow",l)},
10);h.monitoring.update_slot_metrics(c,"tagdeliver",l);y.store();document.body.className=document.body.className}}},get_ad_object:function(a){a=a.id;var b=I(a),c=null;try{c=b.ad}catch(f){consoleLog("Cannot access ad parameters: "+f.toString(),"ads")}if(c){if(!("pid"in c))c.pid="DFP";if(!("url"in c))c.url="http://ad.doubleclick.net/adi/d16g-sec.preview/;cid="+("cid"in c?c.cid:"")}else{var j=0,d=0;c=["img","object","embed","iframe"];var e,s,x;for(s in c){x=b.getElementsByTagName(c[s]);for(e=0;e<x.length;e++){var t=
x[e],l;l=t.scrollWidth||t.width;t=t.scrollHeight||t.height;if(l&&l>1)j=Math.max(j,parseInt(l,10));if(t&&t>1)d=Math.max(d,parseInt(t,10));consoleLog(a+" : estimated size : "+l+","+t,"ads")}}c={w:j.toString(),h:d.toString(),pid:"",url:"",aid:"0",cid:"0"};if(j===0||d===0)c.scope="null"}return b.ad=c},get_cornerstone_ad_object:function(a){a=M[a]+"adData";if("aanResponse"in top.document&&a in top.document.aanResponse)return top.document.aanResponse[a];return null},get_mapped_amazon_slot_name:function(a){return M[a]?
M[a]:a},clean_up_slot_metrics:function(a){var b=a.id,c=I(b);a=this.get_ad_object(a);try{h.monitoring.stop_timing(b,this.get_type_of_ad(a),true)}catch(f){consoleLog("stop_timing failed: "+f.toString(),"ads")}c.location.href.match(/\/ads\/request\//)&&this.log_ad_impression(a,b)},on_ad_load:function(a){var b=a.id,c=this.get_ad_object(a),f=this.ad_table[b];if(!f||!f.fired)consoleLog("deflected spurious onload event for "+b,"on_ad_load");else{a.style.visibility="";f.loaded=true;if(c.scope==="blank"||
c.scope==="null")a.getAttribute("data-original-width")==="0"&&a.getAttribute("data-original-height")==="0"?h.monitoring.update_slot_metrics(b,"load",0):h.monitoring.update_slot_metrics(b,"load",h.monitoring.get_metric_value(b,"reflow"));else h.monitoring.update_slot_metrics(b,"load");h.monitoring.update_slot_metrics(b,"trueload");f.expanded||this.expand_ad(a);this.clean_up_slot_metrics(a);this.ad_load.loaded(b)}},ad_load:function(){var a={};return{loaded:function(b){var c=a[b];if(c)for(b=0;b<c.length;b++)c[b]()},
listen:function(b,c){ad_utils.ad_table[b]&&ad_utils.ad_table[b].loaded?setTimeout(c,0):(a[b]=a[b]||[]).push(c)}}}(),is_open:function(a){return a&&"w"in a&&"h"in a&&a.w>0&&a.h>0&&a.scope!=="blank"},expand_supertab:function(){var a=w("nb15"),b=w("nb20");if(a)a.className="supertab";else if(b)b.className="supertab"},expand_billboard:function(a){function b(){var D=h.cookie.get(O),H=D&&D.split(/o|c/);D=D&&D.split(/\d*/);var T={},P;if(H&&D){D[0]===""&&D.shift();for(P=0;P<D.length;++P)T[H[P]]=D[P]}R=T}function c(){var D=
"",H;for(H in R)if(R.hasOwnProperty(H))D+=H+R[H];h.cookie.set(O,D,h.days_to_midnight||1)}function f(D,H){var T=q.createElement("div");D=D.getElementsByTagName(H);var P,W="";for(H=0;H<D.length;++H){P=D[H];P.parentNode.removeChild(P);T.appendChild(P);W+=T.innerHTML;T.removeChild(P)}return W}function j(){parseInt(t.style.height,10)!==parseInt(q.ad.h,10)&&t.contentWindow.minimize();t.style.display="none";K.style.display="block";b();R[a.aid]="c";c();L="";L+=f(q,"object");L+=f(q,"embed");y.store()}function d(){K.style.display=
"none";t.style.display="block";b();R[a.aid]="o";c();if(L)z.innerHTML=L+z.innerHTML;q.getElementById("billboard_close_button").onclick=j;y.store()}function e(D){D=D;for(var H=0;D;){H+=D.offsetTop;D=D.offsetParent}return H}function s(){if(!C)return false;var D=C.parentElement||C.parentNode,H=w("injected_billboard_reflow_helper");return D&&H&&(D.offsetTop===H.offsetTop||e(D)===e(H))}var x=document,t=w("injected_billboard"),l=t.parentElement||t.parentNode,q=t.contentWindow.document,G=q.getElementsByTagName("body"),
z=G.length===1?G[0]:q.createElement("body"),C=w("top_rhs_wrapper");G=a.bb_close;var N=a.bb_show,O="ax",L,R,K,Q;if(!l)return false;l.className=(l.className?l.className+" ":"")+"billboard";if(a.bb===1){Q=q.createElement("div");Q.id="billboard_close_button";Q.style.cssFloat="right";Q.style.cursor="pointer";Q.style.position="absolute";Q.style.top=0;Q.style.right=0;Q.innerHTML=G;Q.onclick=j;z.appendChild(Q);K=x.createElement("div");K.id="billboard_show_button";K.innerHTML=N;K.onclick=d;s()?(C.parentElement||
C.parentNode).insertBefore(K,C):(l.parentElement||l.parentNode).insertBefore(K,(l.parentElement||l.parentNode).firstChild);b();a.aid in R&&R[a.aid]==="c"&&j()}return true},expand_top_banner:function(){var a=w("nb15");if(a)a.className="banner";else w("nb20").className="banner"},expand_bamf:function(a,b){h.extend(b.style,a.bamf.style)},expand_inner_bamf:function(a){a=a.inner_bamf;var b=w(a.targetId);b&&a.node&&h.insert_after(a.node,b)},expand_relative_bamf:function(a){a=a.relative_bamf;var b=w(a.targetId),
c;if(a.relation=="insert_after")c=h.insert_after;else if(a.relation=="insert_before")c=h.insert_before;else if(a.relation=="insert_inside")c=h.insert_inside;b&&a.node&&c(a.node,b)},expand_wrap:function(a){if(!a.styles)a.styles={};h.extend(a.styles,{"styleguide-v2":{style:{background:a.wrap}},root:{style:{"background-color":"transparent","box-shadow":"none"}},pagecontent:{style:{height:"100%"}},nb20:{style:{background:"none"}}})},expand_label:function(a){a.className=a.className.replace(/hidden/,"")},
display_label:function(a){a.className=a.className.replace(/ads-invisible/,"")},collapse_ad:function(a){var b=a.id,c=function(f){if(f=w(f))f.className="hidden"};a.style.display="none";c(b+"_before");c(b+"_after")},log_ad_impression:function(a,b){var c="/ads/record/[scope];[slot];[aid];[cid];[ord];[time].js";c=c.chained_replace([[/\[slot\]/g,b],[/\[ord\]/g,this.ord],[/\[time\]/g,(new Date).getTime()]]);c=c.chained_replace(a?[[/\[scope\]/g,a.scope||"0"],[/\[aid\]/g,a.aid],[/\[cid\]/g,a.cid]]:[[/\[scope\]/g,
"null"]]);h.load_script(c)},get_type_of_ad:function(a){if(!a)return"null";if(a.scope)return a.scope;return"got_ad"},show_ad_feedback:function(a){function b(){f("#ad_feedback_"+a).remove();return false}function c(z){var C=f(window),N=f(document),O=(C.width()-300)/2+N.scrollLeft();C=(C.height()-320)/2+N.scrollTop();z.css({top:C<0?0:C,left:O})}try{var f=jQuery,j=window.frames[a],d=ad_utils.get_ad_object(j.frameElement),e,s=j.location.hash.match(/#([^;]*);/),x={adId:d?d.aid:"",cid:d?d.cid:"",page_id:window.location.href.substr(0,
255),pagesubtype:s?s[1]:"",slot:a},t=x.adId+";"+x.cid+";"+x.slot,l=f("#ad_feedback_container"),q=0;f("div.dfp_slot iframe").each(function(){var z=this.id,C=ad_utils.get_ad_object(this);if(!(z in m)&&C){e=ad_utils.get_cornerstone_ad_object(z);m[z]=e?{aid:e.adId,cid:e.creativeId,pid:e.adNetwork}:{aid:C.aid,cid:C.cid,pid:C.pid};m[z].url=C.url;m[z].dim=C.w+"x"+C.h}});f.each(m,function(z,C){x["slot_"+q]=z;x["cid_"+q]=C.cid;x["aid_"+q]=C.aid;x["pid_"+q]=C.pid;x["dim_"+q]=C.dim;x["url_"+q]=C.url;q++});if(l.length===
0){l=f('<iframe id="ad_feedback_container">');l.addClass("hidden").attr({name:"ad_feedback_container",scrolling:"no",frameborder:"no",marginheight:"0",marginwidth:"0",allowtransparency:"yes"});l[0].hide=function(){f(this).addClass("hidden")};l[0].show=function(){f(this).removeClass("hidden")};l[0].isHidden=function(){return l.hasClass("hidden")};f("body").append(l)}if(l.attr("src")===""||l.attr("ref")!==t)l.unbind().load(function(){l[0].show();c(l);f(this).unbind()}).attr("src","/ads/feedback.html#"+
f.param(x)).attr("ref",t);else if(l[0].isHidden()){l[0].show();c(l)}else{l[0].hide();return false}}catch(G){consoleLog("ad feedback failure : "+G,"ads");b()}return false},report_ad_data:function(a,b){a=a;var c,f={};if(a!==top){try{for(;a.parent!==top;)a=a.parent;c=a.frameElement.id}catch(j){consoleLog("could not determine ad slot: "+j);return}$.each("aid cid pid url dom dim".split(" "),function(d,e){if(e in b)f[e]=b[e]});m[c]=f}},ns:function(){var a={},b=function(c){return a[c]=a[c]||{}};return{register:function(c,
f,j){b(typeof c==="string"?c:c.frameElement.id)[f]=j},get:b}}(),inject_ad:function(){var a={},b={},c={},f=function(d){consoleLog(d,"inject_ad")},j={injected_billboard:"top_ad",injected_navstrip:"top_ad"};return{render:function(d){var e=w(d),s=a[d];if(!c[d]){f(d+" rendered");c[d]=1;ad_utils.ad_table[d]={slot:d,injected:true};s?u.inject_slot(e,s):u.inject_slot(e,'<script>document.ad = {h:"0",w:"0",scope:"blank"}<\/script>')}},register:function(d){var e=j[d],s=this;f(d+" registered");b[d]=1;ad_utils.ad_load.listen(e,
function(){s.render(d)})},inject:function(d,e){f(d+" injected");a[d]=e;b[d]&&this.render(d)}}}(),weblab:function(){var a={};return{set_treatment:function(b,c){a[b]=c},get_treatment:function(b){return a[b]}}}(),fallback:function(){var a,b=function(d){consoleLog(d,"kill_ad")},c=function(d){var e=ad_utils.weblab.get_treatment("kill ads");return a&&d in a&&e==="treatment"},f=function(d){var e=ad_utils.ad_table[d],s=w(d),x=w(d+"_fallback"),t=s.parentNode;if(e&&e.loaded)b("tried to kill "+d+" but it already has an ad");
else if(h.monitoring.get_remnant_partner(d)==="none")b("can not kill a direct sold ad in "+d);else if(x){b("showing fallback element for "+d);x.style.display="";h.monitoring.record_metric("csm_"+d+"_load_aborted."+h.monitoring.get_remnant_partner(d),csm.duration());if(v){s.src='javascript:"<script>window.frameElement.parentNode.removeChild(window.frameElement);<\/script>"';s.onload=null;s.style.display="none"}else t.removeChild(s);d==="top_ad"&&ad_utils.expand_top_banner()}else{ad_utils.collapse_ad(s);
b("no fallback to show for "+d+" and collapse the slot")}},j=function(d){var e=ad_utils.ad_table[d],s=w(d),x=w(d+"_fallback_code"),t=o.createElement("div");s=s.parentNode;if(x)if(!(e&&e.loaded)){b("filling in fallback element for "+d);t.id=d+"_fallback";t.innerHTML=unescape(x.innerHTML);t.style.display="none";s.insertBefore(t,s.firstChild)}};return{set_kill_threshold:function(d){a=d},start_kill_timer:function(d){var e;e=w(d);if(c(d))if(a&&d in a){e.style.visibility="hidden";e=a[d]-((new Date).getTime()-
window.IMDbTimer.starttime);b("threshold for "+d+": "+a[d]);setTimeout(function(){j(d)},e-350);setTimeout(function(){f(d)},e);b("killing "+d+" in "+e+"ms")}else b("ERROR: the kill threshold is not correctly set. Bail from the kill-ad feature")}}}()};h.install(h,{should_jQuery_noConflict:window.$&&!window.jQuery,one_way_send_record:[],insert_after:function(a,b){try{b.parentNode.insertBefore(a,b.nextSibling)}catch(c){b.parentNode.appendChild(a)}},insert_before:function(a,b){b.parentNode.insertBefore(a,
b)},insert_inside:function(a,b){b.appendChild(a)},extend:function(a,b){var c;for(c in b)if(typeof b[c]=="object"){if(a[c]!=b[c]){if(typeof a[c]=="undefined")a[c]={};this.extend(a[c],b[c])}}else a[c]=b[c]},override_style:function(a,b,c){a="#"+a;var f;for(f in b)b[f]+=" !important";h.add_json_style(a,b,c)},add_json_style:function(a,b,c,f){a=a+"{";var j;for(j in b)a+=j+":"+b[j]+";";a+="}";h.add_css_style(a,c,f)},add_css_style:function(a,b,c){var f=["css-style-generic"],j,d;if(!b||!b.length)b="css-style-generic";
else f.push(b);c||(c="a");for(d in f)if(!w(f[d])){j=document.createElement("style");j.setAttribute("type","text/css");j.id=f[d];J("head")[0].appendChild(j)}j=w(b);if(j.styleSheet&&"cssText"in j.styleSheet){a=(c==="a"?j.styleSheet.cssText:"")+a;j.styleSheet.cssText=a}else{a=(c==="a"?j.innerHTML:"")+a;try{j.innerHTML=a}catch(e){j.innerText=a}}},add_css_file:function(a,b){b||(b="css-file-generic");var c=w(b);if(!c){c=document.createElement("link");c.setAttribute("type","text/css");c.rel="stylesheet";
c.id=b;J("head")[0].appendChild(c)}c.href=a},set:function(a,b){a=a.split(":");a[0]=="cookie"?h.cookie.set(a[1],b):h.cache.set(a[1],b)},get:function(a){a=a.split(":");return a[0]=="cookie"?h.cookie.get(a[1]):h.cache.get(a[1])},erase:function(a){a=a.split(":");return a[0]=="cookie"?h.cookie.erase(a[1]):h.cache.erase(a[1])},cache:{set:function(a,b){p[a]=b},get:function(a){return p[a]},erase:function(a){delete p[a]}},load_script:function(a){var b=document.createElement("script");b.type="text/javascript";
b.src=a;J("head")[0].appendChild(b)},load_script_notify:function(a,b){var c=document.createElement("script"),f=false;c.type="text/javascript";c.src=a;c.onload=c.onreadystatechange=function(){var j=this.readyState;if(!(f||j&&j!="complete"&&j!="loaded")){f=true;document.body.removeChild(c);"function"===typeof b&&b(a)}};document.body.appendChild(c)},one_way_send:function(a){imageObj=new Image(0,0);imageObj.src=a;this.one_way_send_record.push(imageObj)},extensions:{String:{chained_replace:function(a){var b=
this,c;for(c=0;c<a.length;c++){var f=a[c];b=b.replace(f[0],f[1])}return b},collapse:function(a,b){for(var c=this;c.length>b;){var f=c.replace(a,"");if(f.length==c.length)break;c=f}return c}}},load_when_visible:function(a,b){var c=0,f=jQuery(window),j=f.height()+f.scrollTop();if(jQuery("#"+a).length){var d=jQuery(jQuery("#"+a).get(0)),e=d.offset().top;j>e?b(a):f.scroll(function(){j=f.height()+f.scrollTop();e=d.offset().top;if(j>e&&!c){c=1;b(a)}})}else b(a)},unload_plugins:function(){for(var a=[document],
b,c,f,j=new RegExp("^("+location.protocol+"//"+location.hostname+")?(/.*)?$"),d=function(e){var s,x;for(s=e.length-1;s>=0;s--){x=e[s];x.parentNode.removeChild(x)}};a.length;){b=a.pop();d(b.getElementsByTagName("object"));d(b.getElementsByTagName("embed"));b=b.getElementsByTagName("iframe");for(f=b.length-1;f>=0;f--){c=b[f];if(j.test(c.src))(c=c.contentWindow.document)&&a.push(c);else d([c])}}}});String.prototype.chained_replace=h.extensions.String.chained_replace;String.prototype.collapse=h.extensions.String.collapse;
this.custom={amazon:{segments:null,complete_segments:null,aan_call_name:"aan_call",get_segments:function(a){if(!this.segments){var b=h.cookie.get("us")||"";b=b.replace(/[^a-zA-Z0-9;=]/g,"");this.segments=b.collapse(/s=[^;]*;$/,a);a=b.length-this.segments.length;a!==0&&h.monitoring.record_metric("seg_trimmed",a)}return this.segments},load_callback:function(a){this.complete_segments=a;trimmed_segs=a.collapse(/s=[^;]*;$/,450);h.cookie.set("us",trimmed_segs,7);if(this.segments===null){h.monitoring.stop_timing(this.aan_call_name,
"in_time",false);csm.measure("csm_aan_response.in_time")}else{h.monitoring.stop_timing(this.aan_call_name,"late",false);csm.measure("csm_aan_response.late")}},aan_iframe_oncall:function(){h.monitoring.start_timing(custom.amazon.aan_call_name);csm.measure("csm_aan_request")}},doubleclick:function(){var a=[],b=function(d){d=d.replace(S,U);d=d.replace(k,a.join(";"));d=d.chained_replace(V);var e=475-d.chained_replace([[g,""],[/^[^\;]*/,""]]).length;e=custom.amazon.get_segments(e);return d.replace(g,e)},
c=/\[PLAYLISTINDEX\]/,f=/\[PLAYLISTID\]/,j=/\[PLAYERTYPE\]/;return{construct_url:function(d){var e=d.match(";ifb=pf;")?"pfadj":"adj";d=escape(d.substring(1,d.length));d=b(d);return document.location.protocol+"//ad.doubleclick.net/"+e+"/"+d},construct_video_url:function(d,e){d=b(d);d=d.replace(c,"vi="+(e.listindex||"0"));d=d.replace(f,e.list?"vl="+e.list:"");d=d.replace(j,"vt="+e.playertype);return document.location.protocol+"//ad.doubleclick.net/pfadx/"+d},add_client_side_keyvalue:function(d,e){a.push(d+
"="+e)}}}(),indirect:{close:function(a){a.location.href.match("floater")&&custom.floater.close(a.frameElement.id)}},full_page:{style_id:"custom__full_page__generated_styles",data_url:"/images/a/js/graffiti_data.js",apply:function(a){var b=this;document.getElementById("root").style.boxShadow="none";window.generic.on_document_ready(function(){b.settings=a;"styles"in b?b._apply():window.generic.load_script_notify(b.data_url,function(){b._apply()})})},_apply:function(){var a;a=this.settings.ARGS.split(/&/);
var b={},c=this,f="/* ARGS:"+this.settings.ARGS+" */\n";jQuery.each(a,function(d,e){d=/^(.*)=(.*)$/.exec(e);if(d.length===3)b[d[1]]=unescape(d[2].replace(/\+/g," "))});a=this.invert_styles(b.treatment);jQuery.each(a,function(d,e){if(e.fixed)f+=c.format_css(e,e.fixed);else if(b[d]||e["default"])f+=c.format_css(e,b[d])});try{jQuery("style#"+this.style_id).remove();jQuery("head").append(jQuery('<style type="text/css">').attr("id",this.style_id).html(f))}catch(j){h.add_css_style(f,this.style_id,"o")}},
invert_styles:function(a){var b=["default","important","fixed"],c={};jQuery.each(this.styles[a],function(f,j){jQuery.each(j,function(d,e){var s=c[e.name]={style:f,selector:e.selector};jQuery.each(b,function(x,t){if(e[t])s[t]=e[t]})})});return c},format_css:function(a,b){return a.selector+" { "+a.style+" : "+(b?b:a["default"])+(a.important?" !important ":"")+"}\n"}},floater:{close:function(a){h.extend(w(a),{style:{width:"0px",height:"0px"}})},launch:function(a,b,c,f,j,d,e){var s=document.createElement("iframe");
f=typeof f==="string"?w(f):f;c!="none"&&setTimeout(function(){custom.floater.close(e)},c*1E3);h.extend(s,{id:e,name:e,src:a,width:b[0]+"px",height:b[1]+"px",frameBorder:"0",scrolling:"no",allowTransparency:"true",style:{marginLeft:d[0]+"px",marginTop:d[1]+"px",zIndex:d[2],position:"absolute"}});j(s,f)},set:function(a,b,c,f,j,d){h.cache.set("floater",a);a="floater_"+Math.ceil(Math.random()*9999999);custom.floater.launch("/images/a/ifb/doubleclick/indirect.html?source=cache:floater",b,c,f,j,d,a);return a}}};
var B=function(a,b){return b?'<param name="'+a+'" value="'+b+'">':""},E=function(a,b){return b?" "+a+'="'+b+'" ':""};this.flashAdUtils={makeFlashAd:function(a){var b=a.id,c=a.src,f=a.width,j=a.height,d=a.bgcolor,e=a.wmode||"opaque",s=a.salign,x=a.scale,t=a.extraParams,l=a.extraTAGs,q=a.minVersion,G=escape(a.clickThru),z=a.clickTAGs,C=function(K){return K!==null&&K!==undefined&&(K+"").length},N=function(K){return isFinite(parseInt(K,10))};a="";var O,L;if(!C(b)||!C(c)||!N(f)||!N(j))consoleLog("makeFlashAd: Missing required params",
"flashAdUtils");else{flashAdUtils.canPlayFlash(q)||consoleLog("makeFlashAd: Current flash version too low","flashAdUtils");if(z)for(q=0;q<z.length;q++)if(z[q])a=a+"&clickTAG"+(q+1)+"="+escape(z[q]);if(l)for(O in l)a=a+"&"+escape(O)+"="+escape(l[O]);a+="&ord="+ad_utils.ord;O=l="";try{q={width:1,height:1,src:1,bgcolor:1,wmode:1,salign:1,scale:1,flashvars:1};for(L in t)if(!q[L]){l+=B(L,t[L]);O+=E(L,t[L])}}catch(R){}t=B("bgcolor",d);d=E("bgcolor",d);L=B("wmode",e);e=E("wmode",e);q=B("scale",x);x=E("scale",
x);z=B("salign",s);s=E("salign",s);return'<object  classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"  width="'+f+'"  height="'+j+'"  id="swf_'+b+'"><param name="movie" value="'+c+'"><param name="flashvars" value="env=WEB&clickTAG='+G+"&"+a+'"><param name="play" value="true"><param name="quality" value="high"><param name="allowScriptAccess" value="always">'+q+z+t+L+l+'<div style="margin-left:0.1px"><embed src="'+
c+'"  flashvars="env=WEB&clickTAG='+G+"&"+a+'"  quality="high"  play="true"  width="'+f+'"  height="'+j+'"  name="swf_'+b+'"  allowScriptAccess="always"  type="application/x-shockwave-flash"  pluginspage="http://www.macromedia.com/go/getflashplayer" '+x+s+d+e+O+"></embed></div></object>"}},canPlayFlash:function(a){var b=false,c=parseInt(a,10);a=!a||c<9?9:c;if((navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]?navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin:
0)&&navigator.plugins["Shockwave Flash"]){b=navigator.plugins["Shockwave Flash"].description.split(" ");var f;for(c=0;c<b.length;++c)isNaN(parseInt(b[c],10))||(f=parseInt(b[c],10));b=f>=a}else if(navigator.userAgent&&navigator.userAgent.indexOf("MSIE")>=0&&navigator.appVersion.indexOf("Win")!==-1)try{var j=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+a);j.AllowScriptAccess="always";b=j.GetVariable("$version").match(/([0-9]+)/)[1]>=a}catch(d){}return b}};y.store();h.on_document_ready(function(a){a(window).load(function(){y.store()})});
h.on_document_ready(function(){F(window,"unload",function(){h.unload_plugins()})});r&&h.on_document_ready(function(){h.monitoring.record_metric("ads_js_response",r)})})();(function(r){r.install(r,{extended_split:function(o,n,v){for(var A=[],h=0,M;!v||A.length<v-1;){M=o.indexOf(n,h);if(M===-1)break;A.push(o.substring(h,M));h=M+n.length}A.push(o.substring(h));return A},object_from_querystring:function(o){var n=o.split("&"),v={},A;if(o==="")return{};for(o=0;o<n.length;o++){A=r.extended_split(n[o],"=",2);v[A[0]]=A.length===1?null:decodeURIComponent(A[1])}return v},cookie:{set:function(o,n,v){var A,h;if(v){h=new Date;h.setTime(h.getTime()+v*24*60*60*1E3);v="; expires="+
h.toGMTString()}else v="";A=document.location.host.split(".");h=A.pop();A=A.pop();document.cookie=o+"="+escape(n)+v+"; path=/; domain="+A+"."+h},get:function(o){var n=document.cookie.split(";"),v,A;for(v=0;v<n.length;v++)if(typeof n[v]=="string"){A=n[v].split("=");if(A[0]&&A[1]&&A[0].replace(/\s/,"")==o)return unescape(A[1])}return null},erase:function(o){this.set(o,"",-1)}}})})(window.generic);(function(r,o,n){var v=r.generic=r.generic||{},A={},h=r.IMDbTimer,M="IMDbTimer"in r?r.IMDbTimer.starttime:NaN,w=o.location.hash.match("debug=1"),J=w||!isNaN(M)&&Math.random()<0.25,I=w||Math.random()<0.1,F=function(){var g={},k={top_ad:n,top_rhs:n,bottom_ad:n},p={top_ad:1,top_rhs:1,injected_navstrip:1,injected_billboard:1,bottom_ad:2},m={top_ad:1,top_rhs:1,bottom_ad:1},y={reflow:1,"ad-delivery":1,load:1};v.on_document_ready(function(u){u(r).bind("beforeunload",function(){var B,E;for(B in g){E=g[B];
E.request&&E.load===n&&v.monitoring.record_event("ad_load_failure."+B)}v.monitoring.send_metrics()})});return{is_slot_monitored:function(u){return u in p||u in m},is_twilight_slot:function(u){return u in p},is_twilight_core_slot:function(u){return u in p&&p[u]===1},is_forester_slot:function(u){return u in m},is_forester_event:function(u,B){return this.is_forester_slot(u)&&B in y},set_metric_value:function(u,B,E){(g[u]=g[u]||{})[B]=E},get_metric_value:function(u,B){if(u in g)return g[u][B]},get_core_slots_duration:function(u){var B=
0,E;for(E in p)if(this.is_twilight_core_slot(E)){if(n===this.get_metric_value(E,u))return null;B=Math.max(B,this.get_metric_value(E,u))}return B},set_remnant_partner:function(u,B){k[u]=B;return this},get_remnant_partner:function(u){return k[u]}}}(),U="http://www.imdb.com/twilight/?",V=function(){var g=function(){return{prepare_and_send_metric:function(m,y,u,B){p({slot:y,ad_network_name:"DART",aid:m.aid,cid:m.cid,slot_event:u,time:B})}}}(),k=function(){return{prepare_and_send_metric:function(m,y,u){var B,
E=20,a;a=function(){if(B=ad_utils.get_cornerstone_ad_object(m))p({slot:m,ad_network_name:"PDA",aid:B.adId,cid:B.creativeId,slot_event:y,time:u});else--E&&setTimeout(a,100)};a()}}}(),p=function(m){var y,u,B,E,a;if(I&&F.is_forester_slot(m.slot)){y=ad_utils.get_mapped_amazon_slot_name(m.slot);u=page_type;B=m.ad_network_name;E=m.aid;a=m.cid;m='{"s":"imdb","l":"'+y+'","p":"'+u+'","n":"'+B+'","a":"'+E+'","c":"'+a+'","m":"'+m.slot_event+'","v":"'+m.time+'"}';w&&consoleLog(m+" metrics sent","forester");v.one_way_send("http://fls-na.amazon.com/1/display-ads-cx/1/OP/?LMET"+
escape(m))}};return{send_forester_metric:function(m,y,u,B){g.prepare_and_send_metric(m,y,u,B);k.prepare_and_send_metric(y,u,B)},set_page_type:function(m){page_type=m}}}();this.csm=function(){var g={};return{measure:function(k,p){this.record(k,this.duration(),p)},record:function(k,p,m,y){var u=g[k];if(J&&!csm.metrics[k])v.monitoring.record_metric(k+(y?y:""),p,m);csm.metrics[k]=p;if(u){for(m=0;m<u.length;m++)try{u[m](p,k)}catch(B){consoleLog("error invoking callback for "+k,"csm")}delete g[k]}},duration:function(){return(new Date).getTime()-
M},listen:function(k,p){k in csm.metrics?setTimeout(p,0):(g[k]=g[k]||[]).push(p)},metrics:{}}}();v.monitoring={event_starts:{},event_stops:{},events_to_stop:0,event_duration:{},event_counters:[],all_events_started_flag:false,twilight_info:"",twilight_client:function(){var g=navigator.userAgent,k;if((k=g.match(/MSIE (\d+)/))&&k[1]>=6)return"ie"+k[1];if(k=g.match(/Mac OS.*Firefox\/(\d+)/))return k[1]==="3"?"firefox3-mac":"firefox-mac";if(k=g.match(/Firefox\/(\d+)/))return k[1]==="3"?"firefox3":"firefox";
if(g.indexOf("Chrome")!==-1)return"chrome";if(g.indexOf("Safari")!==-1)return"safari";if(g.indexOf("Opera")!==-1)return"opera";return"Other"}(),isTwilightActiveSample:J,page_type:"",start_timing:function(g){this.start_timing_at(g,(new Date).getTime())},start_timing_at:function(g,k){this.event_starts[g]=k;this.events_to_stop++},stop_timing:function(g,k,p){var m=(new Date).getTime(),y=g;if(this.event_starts[g]){this.event_stops[g]=m;if(k)y+="."+k;this.record_metric(y,m-this.event_starts[g]);delete this.event_starts[g];
this.events_to_stop--;if(p||this.all_events_started_flag&&this.events_to_stop===0)this.send_metrics()}},record_event:function(g,k){var p;this.event_counters.push(g);if(g in A)for(weblab in A[g]){p=g+"__weblab_"+weblab;this.event_counters.push(p);consoleLog(p,"twilight")}consoleLog(g,"twilight");k&&this.send_metrics()},record_metric:function(g,k,p){var m,y;this.event_duration[g]=k;consoleLog(g+","+k,"twilight");if(g in A)for(m in A[g]){y=g+"__weblab_"+m;this.event_duration[y]=k;consoleLog(y+","+k,
"twilight")}p&&this.send_metrics()},send_metrics:function(){var g=U+this.twilight_info,k=1,p;for(p in this.event_duration){g+="&Operation."+k+"="+p;g+="&OperationTiming."+k+"="+this.event_duration[p];k++}this.event_duration={};if(!(k===1&&this.event_counters.length===0)){for(k=0;k<this.event_counters.length;k++)g+="&Counter."+(k+1)+"="+this.event_counters[k];this.event_counters=[];g+="&ord="+ad_utils.ord;v.one_way_send(g);consoleLog("metrics sent","twilight")}},set_twilight_info:function(g,k,p,m,
y){if(h&&h.pt==="java")g+=".java";this.twilight_info="PageType="+g+"&Geo="+k+"&tw_ord="+p+"&timestamp="+m+"&Client="+this.twilight_client;U=y},set_forester_info:function(g){V.set_page_type(g)},all_events_started:function(){this.all_events_started_flag=true},set_remnant_partner:function(g,k){F.set_remnant_partner(g.frameElement.id,k)},get_remnant_partner:function(g){return F.get_remnant_partner(g)||"none"},update_slot_metrics:function(g,k,p){var m;m=(m=o.getElementById(g))?m.contentWindow.document.ad:
null;var y="load"===k&&F.get_remnant_partner(g)?"."+F.get_remnant_partner(g):"";if(!(!g||!F.is_slot_monitored(g)||F.get_metric_value(g,k))){F.set_metric_value(g,k,n!==p?p:csm.duration());p=F.get_metric_value(g,k);if(m&&F.is_forester_event(g,k)){V.send_forester_metric(m,g,k,p);k==="load"&&V.send_forester_metric(m,g,"ad-delivery",F.get_metric_value(g,"load")-F.get_metric_value(g,"request"))}if(F.is_twilight_slot(g)){csm.record("csm_"+g+"_"+k,p,0,y);"load"===k&&""!==y&&csm.record("csm_"+g+"_deliver",
p-F.get_metric_value(g,"tagdeliver"),0,y);if(F.is_twilight_core_slot(g)){m=F.get_core_slots_duration(k);m!==null&&csm.record("csm_core_ads_"+k,m);k==="load"&&/^(\/|\/title\/tt\d+\/|\/name\/nm\d+\/)$/.test(o.location.pathname)&&csm.record("csm_"+g+S.get_network_name(g)+S.get_in_weblab()+"_timeout",p,0,S.get_level_for_load(page_type,p))}}}},get_metric_value:function(g,k){return F.get_metric_value(g,k)},enable_weblab_metrics:function(g,k,p){var m,y;for(m=0;m<p.length;m++){y=p[m];A[y]=A[y]||{};A[y][g+
"_"+k]=1}}};var S=function(){return{get_network_name:function(g){return F.get_remnant_partner(g)?"_remnant":"_direct"},get_in_weblab:function(){return"treatment"===ad_utils.weblab.get_treatment("kill ads")?"_killed":"_natural"},get_level_for_load:function(g,k){g={homepage:[1200,3600],title:[1400,4600],name:[1500,4200]}[g];var p=[1200,3600];g||(g=p);return k<g[0]?".1":k<g[1]?".2":".3"}}}();v.on_document_ready(function(g){g(r).bind("beforeunload",function(){var k=(o.location+"").split("#",2)[0];r.name=
"clicktoresponse:"+(new Date).getTime()+":"+k});if(v.monitoring.isTwilightActiveSample){csm.measure("csm_ready");g(r).load(function(){csm.measure("csm_load",true)});g("div.dfp_slot").each(function(){v.monitoring.record_event("dfp_slot")});g=parseInt(g("#servertime").attr("time"),10);isNaN(g)||v.monitoring.record_metric("csm_server",g)}});(function(){if(o.location.protocol==="http:"){var g=r.name.match(/^clicktoresponse:(\d+):(.*)$/);if(g){if(o.referrer===g[2]&&h){g=h.starttime-g[1];h.clicktoresponse=
g;v.monitoring.record_metric("click_to_response",g)}r.name=""}}})()})(window,document);window.IMDbTimer&&window.IMDbTimer.events&&function(r,o,n){r.send_csm_head_metrics=function(){r.monitoring.record_metric("csm_head_pre_title",n.csm_head_pre_title-o);r.monitoring.record_metric("csm_head_post_title",n.csm_head_post_title-n.csm_head_pre_title);r.monitoring.record_metric("csm_head_pre_css",n.csm_head_pre_css-n.csm_head_post_title);r.monitoring.record_metric("csm_head_post_css",n.csm_head_post_css-n.csm_head_pre_css);r.monitoring.record_metric("csm_head_pre_icon",n.csm_head_pre_icon-
n.csm_head_post_css);r.monitoring.record_metric("csm_head_post_icon",n.csm_head_post_icon-n.csm_head_pre_icon);r.monitoring.record_metric("csm_head_pre_ads",n.csm_head_pre_ads-n.csm_head_post_icon)}}(generic,IMDbTimer.starttime,IMDbTimer.events);(function(r){var o=r.monitoring,n=/rm=n/,v=function(w){w=w.join(",");r.cookie.set("ap",w)},A=function(){var w=r.cookie.get("ap");return w?M(w.split(","),function(J){return parseInt(J,10)}):[]},h=function(){var w=document.getElementById("bottom_ad").getAttribute("data-dart-params"),J=o.get_metric_value("bottom_ad","load"),I=o.get_metric_value("bottom_ad","request");J=J-I;I=A();w.match(n)&&o.record_event("ad_prediction_kill",true);I.unshift(J);if(I.length>10)I=I.slice(0,10);v(I)},M=function(w,J){var I=
[];for(i=0;i<w.length;i++)I.push(J(w[i]));return I};ad_utils.ad_prediction={init:function(){ad_utils.ad_load.listen("bottom_ad",h)}}})(window.generic);
