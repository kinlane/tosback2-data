(function(){window.generic=window.generic||{};window.generic.install=function(s,m){var q;for(q in m)if(m.hasOwnProperty(q))s[q]=m[q]}})();(function(s){s.install(s,{document_readys:[],document_is_ready:function(){var m=s.document_readys,q;s.document_readys=null;for(q=0;q<m.length;q++)try{m[q](jQuery)}catch(t){}s.should_jQuery_noConflict&&jQuery.noConflict(false)},on_document_ready:function(m){s.has_document_readied()?m(jQuery):s.document_readys.push(m)},has_document_readied:function(){return s.document_readys===null}})})(window.generic);function consoleLog(s,m){var q=window.consoleLog,t=document.location,x=t.host.match(/^(m|www|uk).imdb.[a-z]+$/);t=t.hash.match("debug=1");if(m)(q[m]=q[m]||[]).push(s);else m="global";(q.global=q.global||[]).push(m+" : "+s);try{!t&&x||window.console&&window.console.log&&window.console.log(m+" : "+s)}catch(h){}};document.getElementsByTagName("html")[0].className+=" scriptsOn";(function(){var s=window.ads_js_start?(new Date).getTime()-window.ads_js_start:null,m=document,q=navigator.userAgent,t=/MSIE/.test(q),x=/Firefox/.test(q),h=window.generic,K={top_ad:"t",top_rhs:"tr"},w=document.all?function(a){return document.all[a]}:function(a){return document.getElementById(a)},J=function(a){return document.getElementsByTagName(a)},I=function(a){return w(a).contentWindow.document},R=function(a,b,c){a.attachEvent?a.attachEvent("on"+b,function(){c.apply(a,arguments)}):a.addEventListener(b,
c,false)},P=Math.random()*1E16,T=[[/%3B/g,";"],[/%3D/g,"="],[/%2C/g,","],[/%3F/g,"?"]],D=/(\[|%5B)CLIENT_SIDE_ORD(\]|%5D)/g,U=/(\[|%5B)PASEGMENTS(\]|%5D)/,V=/(\[|%5B)CLIENT_SIDE_KEYVALUES(\]|%5D)/,Q={},e={},j=function(){var a,b,c=function(){var p="{";if(b){if("h"in b)p+=d("h");if("h"in b&&"n"in b)p+=",";if("n"in b)p+=d("n")}p+="}";h.cookie.set("as",p,h.days_to_midnight||1)},d=function(p){var n="";jQuery.each(b[p],function(A,B){n+='"'+A+'":['+f(B[0])+","+f(B[1])+"],"});return'"'+p+'":{'+n.substr(0,
n.length-1)+"}"},k=function(){var p=h.cookie.get("as");if(p)try{b=jQuery.parseJSON(p);a=a||b||{}}catch(n){a=a||(b={})}},f=function(p){p=parseInt(p,10);return isFinite(p)?p:0},g=function(){return document.location.pathname==="/"?"h":"n"},u=function(p){var n=ad_utils.get_ad_object(p[0]);return p.css("display")==="none"?0:parseInt(n.w,10)},y=function(p,n){var A=0,B=ad_utils.get_ad_object(p[0]);B=parseInt(B.h,10);if(n==="top_ad")if(jQuery("#nb20").hasClass("banner"))A=-5;else{if(jQuery("#nb20").hasClass("supertab"))A=
-15}else if(n==="injected_billboard")A=20;if("swfAutoMaxHeight"in p[0].contentWindow)B=p[0].contentWindow.swfMinHeight;return p.css("display")==="none"?0:B+A},r={top_ad:"t",top_rhs:"tr",injected_navstrip:"in",injected_billboard:"ib"};return{store:function(){h.on_document_ready(function(p){var n;try{k();b=b||{};n=b[g()]||{};p.each(r,function(B,E){var C=p("#"+B);if(C.length!==0)n[E]=[u(C,B),y(C,B)]});b[g()]=n;c()}catch(A){consoleLog("Failed to store ad size cookie "+A.toString(),"ads")}})}}}(),o=function(){var a=
function(c,d){c=c.contentWindow?c.contentWindow.document:c.contentDocument;x||c.open("text/html","replace");c.write("<body>"+d+"<script>document.close()<\/script></body>")},b=function(c,d){var k="__srcless_"+Math.floor(Math.random()*68719476735).toString(36),f="<body><script>document.write(parent.ad_utils."+k+");delete parent.ad_utils."+k+";<\/script></body>";ad_utils[k]=d;c.src="javascript:unescape('"+escape(f)+"')"};return{inject_slot:function(c,d){d="<style>body{background:transparent;}</style>"+
d+'<script>document.write("<script defer>parent.ad_utils.ad_table.'+c.id+'.fired=true;<\\/script>");<\/script>';t?b(c,d):a(c,d)}}}();this.ad_utils={ord:P,ord_regex:D,current_tile:1,tile_regex:/(\/|;)!TILE!(;|\?)/,tile_fn:function(a){return";tile="+a+";"},ad_table:{},ad_queue:[],low_latency_punt_ads:{},queue_ad:function(a,b){var c=this.ad_queue;a={tile:a,slot:b,prev:c.length>0?c[c.length-1].slot:null};c.push(a);h.monitoring.update_slot_metrics(b,"iframe");this.ad_table[b]=a},register_ad:function(a){h.monitoring.update_slot_metrics(a,
"iframe");this.ad_table[a]={slot:a}},render_ad_fast:function(){function a(b,c){var d=m.getElementById(b),k=d.contentWindow,f=d.getAttribute("data-dart-params");c=f?f.replace(ad_utils.tile_regex,ad_utils.tile_fn(c)):undefined;c=d.getAttribute("data-override-url")||custom.doubleclick.construct_url(c);f=d.getAttribute("data-bid-url");var g=/^http/.test(f),u=ad_utils.weblab.get_treatment("DTB/AAX Bid")==="treatment";c='<script src="'+c+'"><\/script>'+(g&&u?'<script>var bid_start = new Date().getTime();\nvar bid_time;\nvar bidOnLoad = function(){bid_time = new Date().getTime() - bid_start;}<\/script><script src="'+
f+"&cb="+P+"\" onload=\"bidOnLoad();\"><\/script><script>\nif (document.serveCornerstone){\nif (document.amzn_ads){parent.generic.monitoring.record_metric('dtb_bid.win',bid_time);document.ad = document.cornerstoneAd;\nfor(var prop in document.amzn_ads){\n document.write(document.amzn_ads[prop]);}\n}else{parent.generic.monitoring.record_metric('dtb_bid.void',bid_time);}}<\/script>":"");f=ad_utils.inject_ad.get_injectable_slots(b);h.monitoring.start_timing(b);h.monitoring.update_slot_metrics(b,"request");
for(g=0;g<f.length;g++){h.monitoring.start_timing(f[g]);h.monitoring.update_slot_metrics(f[g],"request")}o.inject_slot(d,c);k.show_ad_feedback=function(){h.on_document_ready(function(){ad_utils.show_ad_feedback(b)})};k.d16g_external_callback=function(y){m.ad=y;ad_utils.expand_ad(d)}}return function(b){var c=h.monitoring.get_metric_value("top_ad","request");c=100-(csm.duration()-c);var d=ad_utils.current_tile++;if(b==="top_rhs"&&isFinite(c)){h.monitoring.record_metric("master_companion_delay",c);c>
0?setTimeout(function(){a(b,d)},c):a(b,d)}else a(b,d)}}(),render_ad:function(a,b,c){var d=this.ad_queue,k=b.frameElement.id;this.ad_table[k]||(this.ad_table[k]={slot:k});var f=this.ad_table[k].prev,g=a.location.hash;c=c||custom.doubleclick.construct_url(g);b.show_ad_feedback=function(){h.on_document_ready(function(){ad_utils.show_ad_feedback(k)})};b.d16g_external_callback=function(r){a.ad=r;ad_utils.expand_ad(b.frameElement)};try{if(d.length===0||d[0].slot==k){if(f)this.ad_table[f].onFireAd=null;
d.shift();this.ad_table[k].fired=true;this.ad_table[k].render="normal";try{h.monitoring.start_timing(k);h.monitoring.update_slot_metrics(k,"request")}catch(u){consoleLog("start_timing failed: "+u.toString(),"ads")}a.write('<script src="'+c+'" type="text/javascript"><\/script>');this.ad_table[k].onFireAd&&this.ad_table[k].onFireAd()}else if(f)this.ad_table[f].onFireAd=function(){b.location.reload()}}catch(y){a.write('<script src="'+c+'" type="text/javascript"><\/script>')}},resize_iframe:function(a){this.expand_ad(a)},
expand_ad:function(a){var b=this,c=a.id,d=a.height,k=a.width;if(!("expand_called"in this.ad_table[c])){var f=a.parentNode.id,g=this.get_ad_object(a),u=w(c+"_before"),y=w(c+"_after"),r,p=csm.duration(),n=w(c+"_reflow_helper"),A=n!==null?n.offsetTop:null;if(c+"_wrapper"!==f)if(!h.has_document_readied()){h.on_document_ready(function(){b.expand_ad(a)});return}if(this.ad_table&&this.ad_table[c]){this.ad_table[c].expanded=1;if(g){if(!document.ads)document.ads={};document.ads[g.cid]=g;if("w"in g)a.width=
parseInt(g.w,10);if("h"in g)a.height=parseInt(g.h,10);if("z"in g&&g.z){a.parentNode.style.zIndex=g.z;a.parentNode.style.position="relative"}if(g.st)this.expand_supertab(g);else if(g.bb)this.expand_billboard(g);else a.id==="top_ad"&&this.is_open(g)&&!g.clickroll&&!g.overlay&&this.expand_top_banner();g.wrap&&this.expand_wrap(g);g.bamf&&this.expand_bamf(g,a);g.inner_bamf&&this.expand_inner_bamf(g);g.relative_bamf&&this.expand_relative_bamf(g);if(this.is_open(g)){u&&this.display_label(u);y&&this.display_label(y)}else this.collapse_ad(a);
if(g.styles)for(r in g.styles)h.override_style(r,g.styles[r].style)}this.ad_table[c].expand_called=1;h.on_document_ready(function(B){B(a).trigger("expand_ad")});d===a.height&&k===a.width?h.monitoring.update_slot_metrics(c,"reflow",0):setTimeout(function(){var B=c==="top_ad"&&ad_utils.is_open(g)&&!g.st?10:0;n!==null&&n.offsetTop===A+B?h.monitoring.update_slot_metrics(c,"reflow",0):h.monitoring.update_slot_metrics(c,"reflow",p)},10);h.monitoring.update_slot_metrics(c,"tagdeliver",p);j.store();document.body.className=
document.body.className}}},get_ad_object:function(a){a=a.id;var b=I(a),c=null;try{c=b.ad}catch(d){consoleLog("Cannot access ad parameters: "+d.toString(),"ads")}if(c){if(!("pid"in c))c.pid="DFP";if(!("url"in c))c.url="http://ad.doubleclick.net/adi/d16g-sec.preview/;cid="+("cid"in c?c.cid:"")}else{var k=0,f=0;c=["img","object","embed","iframe"];var g,u,y;for(u in c){y=b.getElementsByTagName(c[u]);for(g=0;g<y.length;g++){var r=y[g],p;p=r.scrollWidth||r.width;r=r.scrollHeight||r.height;if(p&&p>1)k=Math.max(k,
parseInt(p,10));if(r&&r>1)f=Math.max(f,parseInt(r,10));consoleLog(a+" : estimated size : "+p+","+r,"ads")}}c={w:k.toString(),h:f.toString(),pid:"",url:"",aid:"0",cid:"0"};if(k===0||f===0)c.scope="null"}return b.ad=c},get_cornerstone_ad_object:function(a){a=K[a]+"adData";if("aanResponse"in top.document&&a in top.document.aanResponse)return top.document.aanResponse[a];return null},get_mapped_amazon_slot_name:function(a){return K[a]?K[a]:a},clean_up_slot_metrics:function(a){var b=a.id,c=I(b);a=this.get_ad_object(a);
try{h.monitoring.stop_timing(b,this.get_type_of_ad(a),true)}catch(d){consoleLog("stop_timing failed: "+d.toString(),"ads")}c.location.href.match(/\/ads\/request\//)&&this.log_ad_impression(a,b)},on_ad_load:function(a){var b=a.id,c=this.get_ad_object(a),d=this.ad_table[b];if(!d||!d.fired)consoleLog("deflected spurious onload event for "+b,"on_ad_load");else{d.loaded=true;if(c.scope==="blank"||c.scope==="null")a.getAttribute("data-original-width")==="0"&&a.getAttribute("data-original-height")==="0"?
h.monitoring.update_slot_metrics(b,"load",0):h.monitoring.update_slot_metrics(b,"load",h.monitoring.get_metric_value(b,"reflow"));else h.monitoring.update_slot_metrics(b,"load");h.monitoring.update_slot_metrics(b,"trueload");d.expanded||this.expand_ad(a);this.clean_up_slot_metrics(a);this.ad_load.loaded(b)}},ad_load:function(){var a={};return{loaded:function(b){var c=a[b];if(c)for(b=0;b<c.length;b++)c[b]()},listen:function(b,c){ad_utils.ad_table[b]&&ad_utils.ad_table[b].loaded?setTimeout(c,0):(a[b]=
a[b]||[]).push(c)}}}(),is_open:function(a){return a&&"w"in a&&"h"in a&&a.w>0&&a.h>0&&a.scope!=="blank"},expand_supertab:function(){var a=w("nb15"),b=w("nb20");if(a)a.className="supertab";else if(b)b.className="supertab"},expand_billboard:function(a){function b(){var z=h.cookie.get(L),F=z&&z.split(/o|c/);z=z&&z.split(/\d*/);var S={},M;if(F&&z){z[0]===""&&z.shift();for(M=0;M<z.length;++M)S[F[M]]=z[M]}O=S}function c(){var z="",F;for(F in O)if(O.hasOwnProperty(F))z+=F+O[F];h.cookie.set(L,z,h.days_to_midnight||
1)}function d(z,F){var S=n.createElement("div");z=z.getElementsByTagName(F);var M,W="";for(F=0;F<z.length;++F){M=z[F];M.parentNode.removeChild(M);S.appendChild(M);W+=S.innerHTML;S.removeChild(M)}return W}function k(){parseInt(r.style.height,10)!==parseInt(n.ad.h,10)&&r.contentWindow.minimize();r.style.display="none";G.style.display="block";b();O[a.aid]="c";c();H="";H+=d(n,"object");H+=d(n,"embed");j.store();p.style.margin="0px"}function f(){G.style.display="none";r.style.display="block";b();O[a.aid]=
"o";c();if(H)B.innerHTML=H+B.innerHTML;n.getElementById("billboard_close_button").onclick=k;j.store();p.style.margin="20px 19px"}function g(z){z=z;for(var F=0;z;){F+=z.offsetTop;z=z.offsetParent}return F}function u(){if(!E)return false;var z=E.parentElement||E.parentNode,F=w("injected_billboard_reflow_helper");return z&&F&&(z.offsetTop<=F.offsetTop+100||g(z)<=g(F)+100)}var y=document,r=w("injected_billboard"),p=r.parentElement||r.parentNode,n=r.contentWindow.document,A=n.getElementsByTagName("body"),
B=A.length===1?A[0]:n.createElement("body"),E=w("top_rhs_wrapper");A=a.bb_close;var C=a.bb_show,L="ax",H,O,G,N;if(!p)return false;p.className=(p.className?p.className+" ":"")+"billboard";if(a.bb===1){N=n.createElement("div");N.id="billboard_close_button";N.style.cssFloat="right";N.style.cursor="pointer";N.style.position="absolute";N.style.top=0;N.style.right=0;N.innerHTML=A;N.onclick=k;B.appendChild(N);G=y.createElement("div");G.id="billboard_show_button";G.innerHTML=C;G.onclick=f;if(u())(E.parentElement||
E.parentNode).insertBefore(G,E);else{A=(y=document.getElementById("sidebar")||document.getElementById("maindetails_sidebar_top")||document.getElementById("sidebar-wide"))?y.parentNode||y.parentElement:{};if(y&&A.id!=="content-2-narrow")y.insertBefore(G,y.firstChild);else{G.style.marginRight="19px";G.style.marginTop="20px";p.parentNode.insertBefore(G,p)}}b();a.aid in O&&O[a.aid]==="c"&&k()}return true},expand_top_banner:function(){var a=w("nb15");if(a)a.className="banner";else w("nb20").className=
"banner"},expand_bamf:function(a,b){h.extend(b.style,a.bamf.style)},expand_inner_bamf:function(a){a=a.inner_bamf;var b=w(a.targetId);b&&a.node&&h.insert_after(a.node,b)},expand_relative_bamf:function(a){a=a.relative_bamf;var b=w(a.targetId),c;if(a.relation=="insert_after")c=h.insert_after;else if(a.relation=="insert_before")c=h.insert_before;else if(a.relation=="insert_inside")c=h.insert_inside;b&&a.node&&c(a.node,b)},expand_wrap:function(a){if(!a.styles)a.styles={};h.extend(a.styles,{"styleguide-v2":{style:{background:a.wrap}},
root:{style:{"background-color":"transparent","box-shadow":"none"}},pagecontent:{style:{height:"100%"}},nb20:{style:{background:"none"}}})},expand_label:function(a){a.className=a.className.replace(/hidden/,"")},display_label:function(a){a.className=a.className.replace(/ads-invisible/,"")},collapse_ad:function(a){var b=a.id,c=function(d){if(d=w(d))d.className="hidden"};a.style.display="none";c(b+"_before");c(b+"_after")},log_ad_impression:function(a,b){var c="/ads/record/[scope];[slot];[aid];[cid];[ord];[time].js";
c=c.chained_replace([[/\[slot\]/g,b],[/\[ord\]/g,this.ord],[/\[time\]/g,(new Date).getTime()]]);c=c.chained_replace(a?[[/\[scope\]/g,a.scope||"0"],[/\[aid\]/g,a.aid],[/\[cid\]/g,a.cid]]:[[/\[scope\]/g,"null"]]);h.load_script(c)},get_type_of_ad:function(a){if(!a)return"null";if(a.scope)return a.scope;return"got_ad"},show_ad_feedback:function(a){function b(){d("#ad_feedback_"+a).remove();return false}function c(E){var C=d(window),L=d(document),H=(C.width()-300)/2+L.scrollLeft();C=(C.height()-320)/2+
L.scrollTop();E.css({top:C<0?0:C,left:H})}try{var d=jQuery,k=document.getElementById(a),f=k.contentWindow,g=ad_utils.get_ad_object(k),u,y=f.location.hash.match(/#([^;]*);/),r={adId:g?g.aid:"",cid:g?g.cid:"",page_id:window.location.href.substr(0,255),pagesubtype:y?y[1]:"",slot:a},p=r.adId+";"+r.cid+";"+r.slot,n=d("#ad_feedback_container"),A=0;d("div.dfp_slot iframe").each(function(){var E=this.id,C=ad_utils.get_ad_object(this);if(!(E in e)&&C){u=ad_utils.get_cornerstone_ad_object(E);e[E]=u?{aid:u.adId,
cid:u.creativeId,pid:u.adNetwork}:{aid:C.aid,cid:C.cid,pid:C.pid};e[E].url=C.url;e[E].dim=C.w+"x"+C.h}});d.each(e,function(E,C){r["slot_"+A]=E;r["cid_"+A]=C.cid;r["aid_"+A]=C.aid;r["pid_"+A]=C.pid;r["dim_"+A]=C.dim;r["url_"+A]=C.url;A++});if(n.length===0){n=d('<iframe id="ad_feedback_container">');n.addClass("hidden").attr({name:"ad_feedback_container",scrolling:"no",frameborder:"no",marginheight:"0",marginwidth:"0",allowtransparency:"yes"});n[0].hide=function(){d(this).addClass("hidden")};n[0].show=
function(){d(this).removeClass("hidden")};n[0].isHidden=function(){return n.hasClass("hidden")};d("body").append(n)}if(n.attr("src")===""||n.attr("ref")!==p)n.unbind().load(function(){n[0].show();c(n);d(this).unbind()}).attr("src","/ads/feedback.html#"+d.param(r)).attr("ref",p);else if(n[0].isHidden()){n[0].show();c(n)}else{n[0].hide();return false}}catch(B){consoleLog("ad feedback failure : "+B,"ads");b()}return false},report_ad_data:function(a,b){a=a;var c,d={};if(a!==top){try{for(;a.parent!==top;)a=
a.parent;c=a.frameElement.id}catch(k){consoleLog("could not determine ad slot: "+k);return}$.each("aid cid pid url dom dim".split(" "),function(f,g){if(g in b)d[g]=b[g]});e[c]=d}},ns:function(){var a={},b=function(c){return a[c]=a[c]||{}};return{register:function(c,d,k){b(typeof c==="string"?c:c.frameElement.id)[d]=k},get:b}}(),inject_ad:function(){var a={},b={},c={},d=function(f){consoleLog(f,"inject_ad")},k={injected_billboard:"top_ad",injected_navstrip:"top_ad"};return{render:function(f){var g=
w(f),u=a[f];if(!c[f]){d(f+" rendered");c[f]=1;ad_utils.ad_table[f]={slot:f,injected:true};u?o.inject_slot(g,u):o.inject_slot(g,'<script>document.ad = {h:"0",w:"0",scope:"blank"}<\/script>')}},register:function(f){var g=k[f],u=this;d(f+" registered");b[f]=1;ad_utils.ad_load.listen(g,function(){u.render(f)});h.monitoring.update_slot_metrics(f,"iframe")},inject:function(f,g){d(f+" injected");a[f]=g;b[f]&&this.render(f)},get_injectable_slots:function(f){var g=[],u;for(u in k)k[u]===f&&g.push(u);return g}}}(),
weblab:function(){var a={};return{set_treatment:function(b,c){a[b]=c},get_treatment:function(b){return a[b]}}}(),attach_aax_callback:function(a,b){b.aax_render_ad=function(c){if(c&&c.html){b.document.write(c.html);b.document.got_aax_ad="got_ad"}else b.document.got_aax_ad="blank";h.monitoring.update_slot_metrics(a,"tagdeliver")}},aax_render_ad:function(a){var b=w(a),c=b.getAttribute("data-aax-url");c="<script>parent.ad_utils.attach_aax_callback('"+a+"', window);<\/script><script src=\""+c+'"><\/script>';
b.onload=function(){var d=ad_utils.ad_table[a];if(!d||!d.fired)consoleLog("deflected spurious cornerstone onload event for "+a,"aax_render_ad");else{if(b.contentWindow.document.got_aax_ad!=="got_ad"){b.style.display="none";h.monitoring.stop_timing(a,"blank",false)}else h.monitoring.stop_timing(a,b.contentWindow.document.got_aax_ad,false);h.monitoring.update_slot_metrics(a,"load")}};h.monitoring.start_timing(a);h.monitoring.update_slot_metrics(a,"request");o.inject_slot(b,c)},register_punt_ad:function(a,
b,c,d){this.low_latency_punt_ads[a]={w:b,h:c,markup:d}},inject_punt_ad:function(a){var b=a.frameElement;a=b.id;b=b.contentWindow?b.contentWindow.document:b.contentDocument;var c=null;if(a in this.low_latency_punt_ads){c=this.low_latency_punt_ads[a];b.ad={w:c.w,h:c.h,pid:"",url:"",aid:"0",cid:"0"};b.write(c.markup);h.monitoring.update_slot_metrics(a,"punt_got_ad")}else h.monitoring.update_slot_metrics(a,"punt_blank")}};h.install(h,{should_jQuery_noConflict:window.$&&!window.jQuery,one_way_send_record:[],
insert_after:function(a,b){try{b.parentNode.insertBefore(a,b.nextSibling)}catch(c){b.parentNode.appendChild(a)}},insert_before:function(a,b){b.parentNode.insertBefore(a,b)},insert_inside:function(a,b){b.appendChild(a)},extend:function(a,b){var c;for(c in b)if(typeof b[c]=="object"){if(a[c]!=b[c]){if(typeof a[c]=="undefined")a[c]={};this.extend(a[c],b[c])}}else a[c]=b[c]},override_style:function(a,b,c){a="#"+a;var d;for(d in b)b[d]+=" !important";h.add_json_style(a,b,c)},add_json_style:function(a,
b,c,d){a=a+"{";var k;for(k in b)a+=k+":"+b[k]+";";a+="}";h.add_css_style(a,c,d)},add_css_style:function(a,b,c){var d=["css-style-generic"],k,f;if(!b||!b.length)b="css-style-generic";else d.push(b);c||(c="a");for(f in d)if(!w(d[f])){k=document.createElement("style");k.setAttribute("type","text/css");k.id=d[f];J("head")[0].appendChild(k)}k=w(b);if(k.styleSheet&&"cssText"in k.styleSheet){a=(c==="a"?k.styleSheet.cssText:"")+a;k.styleSheet.cssText=a}else{a=(c==="a"?k.innerHTML:"")+a;try{k.innerHTML=a}catch(g){k.innerText=
a}}},add_css_file:function(a,b){b||(b="css-file-generic");var c=w(b);if(!c){c=document.createElement("link");c.setAttribute("type","text/css");c.rel="stylesheet";c.id=b;J("head")[0].appendChild(c)}c.href=a},set:function(a,b){a=a.split(":");a[0]=="cookie"?h.cookie.set(a[1],b):h.cache.set(a[1],b)},get:function(a){a=a.split(":");return a[0]=="cookie"?h.cookie.get(a[1]):h.cache.get(a[1])},erase:function(a){a=a.split(":");return a[0]=="cookie"?h.cookie.erase(a[1]):h.cache.erase(a[1])},cache:{set:function(a,
b){Q[a]=b},get:function(a){return Q[a]},erase:function(a){delete Q[a]}},load_script:function(a){var b=document.createElement("script");b.type="text/javascript";b.src=a;J("head")[0].appendChild(b)},load_script_notify:function(a,b){var c=document.createElement("script"),d=false;c.type="text/javascript";c.src=a;c.onload=c.onreadystatechange=function(){var k=this.readyState;if(!(d||k&&k!="complete"&&k!="loaded")){d=true;document.body.removeChild(c);"function"===typeof b&&b(a)}};document.body.appendChild(c)},
one_way_send:function(a){imageObj=new Image(0,0);imageObj.src=a;this.one_way_send_record.push(imageObj)},extensions:{String:{chained_replace:function(a){var b=this,c;for(c=0;c<a.length;c++){var d=a[c];b=b.replace(d[0],d[1])}return b},collapse:function(a,b){for(var c=this;c.length>b;){var d=c.replace(a,"");if(d.length==c.length)break;c=d}return c}}},load_when_visible:function(a,b){var c=0,d=jQuery(window),k=d.height()+d.scrollTop();if(jQuery("#"+a).length){var f=jQuery(jQuery("#"+a).get(0)),g=f.offset().top;
k>g?b(a):d.scroll(function(){k=d.height()+d.scrollTop();g=f.offset().top;if(k>g&&!c){c=1;b(a)}})}else b(a)},unload_plugins:function(){for(var a=[document],b,c,d,k=new RegExp("^("+location.protocol+"//"+location.hostname+")?(/.*)?$"),f=function(g){var u,y;for(u=g.length-1;u>=0;u--){y=g[u];y.parentNode.removeChild(y)}};a.length;){b=a.pop();f(b.getElementsByTagName("object"));f(b.getElementsByTagName("embed"));b=b.getElementsByTagName("iframe");for(d=b.length-1;d>=0;d--){c=b[d];if(k.test(c.src))(c=c.contentWindow.document)&&
a.push(c);else f([c])}}}});String.prototype.chained_replace=h.extensions.String.chained_replace;String.prototype.collapse=h.extensions.String.collapse;this.custom={amazon:{segments:null,complete_segments:null,aan_call_name:"aan_call",get_segments:function(a){if(!this.segments){var b=h.cookie.get("us")||"";b=b.replace(/[^a-zA-Z0-9;=]/g,"");this.segments=b.collapse(/s=[^;]*;$/,a);a=b.length-this.segments.length;a!==0&&h.monitoring.record_metric("seg_trimmed",a)}return this.segments},load_callback:function(a){this.complete_segments=
a;trimmed_segs=a.collapse(/s=[^;]*;$/,450);h.cookie.set("us",trimmed_segs,7);if(this.segments===null){h.monitoring.stop_timing(this.aan_call_name,"in_time",false);csm.measure("csm_aan_response.in_time")}else{h.monitoring.stop_timing(this.aan_call_name,"late",false);csm.measure("csm_aan_response.late")}},aan_iframe_oncall:function(){h.monitoring.start_timing(custom.amazon.aan_call_name);csm.measure("csm_aan_request")}},doubleclick:function(){var a=[],b=function(f){f=f.replace(D,P);f=f.replace(V,a.join(";"));
f=f.chained_replace(T);var g=475-f.chained_replace([[U,""],[/^[^\;]*/,""]]).length;g=custom.amazon.get_segments(g);return f.replace(U,g)},c=/\[PLAYLISTINDEX\]/,d=/\[PLAYLISTID\]/,k=/\[PLAYERTYPE\]/;return{construct_url:function(f){var g=f.match(";ifb=pf;")?"pfadj":"adj";f=escape(f.substring(1,f.length));f=b(f);return document.location.protocol+"//ad.doubleclick.net/"+g+"/"+f},construct_video_url:function(f,g){f=b(f);f=f.replace(c,"vi="+(g.listindex||"0"));f=f.replace(d,g.list?"vl="+g.list:"");f=f.replace(k,
"vt="+g.playertype);return document.location.protocol+"//ad.doubleclick.net/pfadx/"+f},add_client_side_keyvalue:function(f,g){a.push(f+"="+g)}}}(),indirect:{close:function(a){a.location.href.match("floater")&&custom.floater.close(a.frameElement.id)}},full_page:{style_id:"custom__full_page__generated_styles",data_url:"/images/a/js/graffiti_data.js",apply:function(a){var b=this;document.getElementById("root").style.boxShadow="none";window.generic.on_document_ready(function(){b.settings=a;"styles"in
b?b._apply():window.generic.load_script_notify(b.data_url,function(){b._apply()})})},_apply:function(){var a;a=this.settings.ARGS.split(/&/);var b={},c=this,d="/* ARGS:"+this.settings.ARGS+" */\n";jQuery.each(a,function(f,g){f=/^(.*)=(.*)$/.exec(g);if(f.length===3)b[f[1]]=unescape(f[2].replace(/\+/g," "))});a=this.invert_styles(b.treatment);jQuery.each(a,function(f,g){if(g.fixed)d+=c.format_css(g,g.fixed);else if(b[f]||g["default"])d+=c.format_css(g,b[f])});try{jQuery("style#"+this.style_id).remove();
jQuery("head").append(jQuery('<style type="text/css">').attr("id",this.style_id).html(d))}catch(k){h.add_css_style(d,this.style_id,"o")}},invert_styles:function(a){var b=["default","important","fixed"],c={};jQuery.each(this.styles[a],function(d,k){jQuery.each(k,function(f,g){var u=c[g.name]={style:d,selector:g.selector};jQuery.each(b,function(y,r){if(g[r])u[r]=g[r]})})});return c},format_css:function(a,b){return a.selector+" { "+a.style+" : "+(b?b:a["default"])+(a.important?" !important ":"")+"}\n"}},
floater:{close:function(a){h.extend(w(a),{style:{width:"0px",height:"0px"}})},launch:function(a,b,c,d,k,f,g){var u=document.createElement("iframe");d=typeof d==="string"?w(d):d;c!="none"&&setTimeout(function(){custom.floater.close(g)},c*1E3);h.extend(u,{id:g,name:g,src:a,width:b[0]+"px",height:b[1]+"px",frameBorder:"0",scrolling:"no",allowTransparency:"true",style:{marginLeft:f[0]+"px",marginTop:f[1]+"px",zIndex:f[2],position:"absolute"}});k(u,d)},set:function(a,b,c,d,k,f){h.cache.set("floater",a);
a="floater_"+Math.ceil(Math.random()*9999999);custom.floater.launch("/images/a/ifb/doubleclick/indirect.html?source=cache:floater",b,c,d,k,f,a);return a}}};var l=function(a,b){return b?'<param name="'+a+'" value="'+b+'">':""},v=function(a,b){return b?" "+a+'="'+b+'" ':""};this.flashAdUtils={makeFlashAd:function(a){var b=a.id,c=a.src,d=a.width,k=a.height,f=a.bgcolor,g=a.wmode||"opaque",u=a.salign,y=a.scale,r=a.extraParams,p=a.extraTAGs,n=a.minVersion,A=escape(a.clickThru),B=a.clickTAGs,E=function(G){return G!==
null&&G!==undefined&&(G+"").length},C=function(G){return isFinite(parseInt(G,10))};a="";var L,H;if(!E(b)||!E(c)||!C(d)||!C(k))consoleLog("makeFlashAd: Missing required params","flashAdUtils");else{flashAdUtils.canPlayFlash(n)||consoleLog("makeFlashAd: Current flash version too low","flashAdUtils");if(B)for(n=0;n<B.length;n++)if(B[n])a=a+"&clickTAG"+(n+1)+"="+escape(B[n]);if(p)for(L in p)a=a+"&"+escape(L)+"="+escape(p[L]);a+="&ord="+ad_utils.ord;L=p="";try{n={width:1,height:1,src:1,bgcolor:1,wmode:1,
salign:1,scale:1,flashvars:1};for(H in r)if(!n[H]){p+=l(H,r[H]);L+=v(H,r[H])}}catch(O){}r=l("bgcolor",f);f=v("bgcolor",f);H=l("wmode",g);g=v("wmode",g);n=l("scale",y);y=v("scale",y);B=l("salign",u);u=v("salign",u);return'<object  classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"  width="'+d+'"  height="'+k+'"  id="swf_'+b+'"><param name="movie" value="'+c+'"><param name="flashvars" value="env=WEB&clickTAG='+
A+"&"+a+'"><param name="play" value="true"><param name="quality" value="high"><param name="allowScriptAccess" value="always">'+n+B+r+H+p+'<div style="margin-left:0.1px"><embed src="'+c+'"  flashvars="env=WEB&clickTAG='+A+"&"+a+'"  quality="high"  play="true"  width="'+d+'"  height="'+k+'"  name="swf_'+b+'"  allowScriptAccess="always"  type="application/x-shockwave-flash"  pluginspage="http://www.macromedia.com/go/getflashplayer" '+y+u+f+g+L+"></embed></div></object>"}},canPlayFlash:function(a){var b=
false,c=parseInt(a,10);a=!a||c<9?9:c;if((navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]?navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin:0)&&navigator.plugins["Shockwave Flash"]){b=navigator.plugins["Shockwave Flash"].description.split(" ");var d;for(c=0;c<b.length;++c)isNaN(parseInt(b[c],10))||(d=parseInt(b[c],10));b=d>=a}else if(navigator.userAgent&&navigator.userAgent.indexOf("MSIE")>=0&&navigator.appVersion.indexOf("Win")!==-1)try{var k=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+
a);k.AllowScriptAccess="always";b=k.GetVariable("$version").match(/([0-9]+)/)[1]>=a}catch(f){}return b}};j.store();h.on_document_ready(function(a){a(window).load(function(){j.store()})});h.on_document_ready(function(){R(window,"unload",function(){h.unload_plugins()})});s&&h.on_document_ready(function(){h.monitoring.record_metric("ads_js_response",s)})})();(function(s){s.install(s,{extended_split:function(m,q,t){for(var x=[],h=0,K;!t||x.length<t-1;){K=m.indexOf(q,h);if(K===-1)break;x.push(m.substring(h,K));h=K+q.length}x.push(m.substring(h));return x},object_from_querystring:function(m){var q=m.split("&"),t={},x;if(m==="")return{};for(m=0;m<q.length;m++){x=s.extended_split(q[m],"=",2);t[x[0]]=x.length===1?null:decodeURIComponent(x[1])}return t},cookie:{set:function(m,q,t){var x,h;if(t){h=new Date;h.setTime(h.getTime()+t*24*60*60*1E3);t="; expires="+
h.toGMTString()}else t="";x=document.location.host.split(".");h=x.pop();x=x.pop();document.cookie=m+"="+escape(q)+t+"; path=/; domain="+x+"."+h},get:function(m){var q=document.cookie.split(";"),t,x;for(t=0;t<q.length;t++)if(typeof q[t]=="string"){x=q[t].split("=");if(x[0]&&x[1]&&x[0].replace(/\s/,"")==m)return unescape(x[1])}return null},erase:function(m){this.set(m,"",-1)}}})})(window.generic);(function(s,m,q){var t=s.generic=s.generic||{},x={},h=s.IMDbTimer,K="IMDbTimer"in s?s.IMDbTimer.starttime:NaN,w=m.location.hash.match("debug=1"),J=w||!isNaN(K)&&Math.random()<0.25,I=w||Math.random()<0.1,R="/"===m.location.pathname||"/index.html"===m.location.pathname||"/index"===m.location.pathname,P=false,T=false,D=function(){var e={},j={top_ad:q,top_rhs:q,bottom_ad:q},o={top_ad:1,top_rhs:1,injected_navstrip:1,injected_billboard:1,bottom_ad:2,middle_rhs:2,btf_rhs2:2,rhs_cornerstone:2},l={top_ad:1,
top_rhs:1,bottom_ad:1},v={reflow:1,"ad-delivery":1,load:1};t.on_document_ready(function(a){a(s).bind("beforeunload",function(){var b,c;for(b in e){c=e[b];c.request&&c.load===q&&t.monitoring.record_event("ad_load_failure."+b)}t.monitoring.send_metrics()})});return{is_slot_monitored:function(a){return a in o||a in l},is_twilight_slot:function(a){return a in o},is_twilight_core_slot:function(a){return a in o&&o[a]===1},is_forester_slot:function(a){return a in l},is_forester_event:function(a,b){return this.is_forester_slot(a)&&
b in v},set_metric_value:function(a,b,c){(e[a]=e[a]||{})[b]=c},get_metric_value:function(a,b){if(a in e)return e[a][b]},get_core_slots_duration:function(a){var b=0,c;for(c in o)if(this.is_twilight_core_slot(c)){if(q===this.get_metric_value(c,a))return null;b=Math.max(b,this.get_metric_value(c,a))}return b},core_slot_ads_got_an_ad:function(){var a;for(a in o)if(this.is_twilight_core_slot(a))if(t.monitoring.event_special_duration[a+".got_ad"]!==q)return true;return false},core_slots_received_no_ads:function(){var a;
for(a in o)if(this.is_twilight_core_slot(a))if(t.monitoring.event_special_duration[a+".blank"]===q&&t.monitoring.event_special_duration[a+".null"]===q)return false;return true},set_remnant_partner:function(a,b){j[a]=b;return this},get_remnant_partner:function(a){return j[a]}}}(),U="http://www.imdb.com/twilight/?",V=function(){var e=function(){return{prepare_and_send_metric:function(l,v,a,b){o({slot:v,ad_network_name:"DART",aid:l.aid,cid:l.cid,slot_event:a,time:b})}}}(),j=function(){return{prepare_and_send_metric:function(l,
v,a){var b,c=20,d;d=function(){if(b=ad_utils.get_cornerstone_ad_object(l))o({slot:l,ad_network_name:"PDA",aid:b.adId,cid:b.creativeId,slot_event:v,time:a});else--c&&setTimeout(d,100)};d()}}}(),o=function(l){var v,a,b,c,d;if(I&&D.is_forester_slot(l.slot)){v=ad_utils.get_mapped_amazon_slot_name(l.slot);a=page_type;b=l.ad_network_name;c=l.aid;d=l.cid;l='{"s":"imdb","l":"'+v+'","p":"'+a+'","n":"'+b+'","a":"'+c+'","c":"'+d+'","m":"'+l.slot_event+'","v":"'+l.time+'"}';w&&consoleLog(l+" metrics sent","forester");
t.one_way_send("http://fls-na.amazon.com/1/display-ads-cx/1/OP/?LMET"+escape(l))}};return{send_forester_metric:function(l,v,a,b){e.prepare_and_send_metric(l,v,a,b);j.prepare_and_send_metric(v,a,b)},set_page_type:function(l){page_type=l}}}();this.csm=function(){var e={};return{measure:function(j,o){this.record(j,this.duration(),o)},record:function(j,o,l,v){var a=e[j];if(J&&!csm.metrics[j])t.monitoring.record_metric(j+(v?v:""),o,l);csm.metrics[j]=o;if(a){for(l=0;l<a.length;l++)try{a[l](o,j)}catch(b){consoleLog("error invoking callback for "+
j,"csm")}delete e[j]}},duration:function(){return(new Date).getTime()-K},listen:function(j,o){j in csm.metrics?setTimeout(o,0):(e[j]=e[j]||[]).push(o)},metrics:{}}}();t.monitoring={event_starts:{},event_stops:{},events_to_stop:0,event_duration:{},event_counters:[],all_events_started_flag:false,twilight_info:"",event_special_duration:{},twilight_client:function(){var e=navigator.userAgent,j;if((j=e.match(/MSIE (\d+)/))&&j[1]>=6)return"ie"+j[1];if(j=e.match(/Mac OS.*Firefox\/(\d+)/))return j[1]==="3"?
"firefox3-mac":"firefox-mac";if(j=e.match(/Firefox\/(\d+)/))return j[1]==="3"?"firefox3":"firefox";if(e.indexOf("Chrome")!==-1)return"chrome";if(e.indexOf("Safari")!==-1)return"safari";if(e.indexOf("Opera")!==-1)return"opera";return"Other"}(),isTwilightActiveSample:J,page_type:"",start_timing:function(e){this.start_timing_at(e,(new Date).getTime())},start_timing_at:function(e,j){this.event_starts[e]=j;this.events_to_stop++},stop_timing:function(e,j,o){var l=(new Date).getTime(),v=e;if(this.event_starts[e]){this.event_stops[e]=
l;if(j)v+="."+j;this.record_metric(v,l-this.event_starts[e]);delete this.event_starts[e];this.events_to_stop--;if(o||this.all_events_started_flag&&this.events_to_stop===0)this.send_metrics()}},record_event:function(e,j){var o;this.event_counters.push(e);if(e in x)for(weblab in x[e]){o=e+"__weblab_"+weblab;this.event_counters.push(o);consoleLog(o,"twilight")}consoleLog(e,"twilight");j&&this.send_metrics()},record_metric:function(e,j,o){if(R&&!P&&D.core_slot_ads_got_an_ad())P=true;if(R&&!T&&D.core_slots_received_no_ads())T=
true;var l,v;this.event_duration[e]=j;this.record_special_metric(e,j);consoleLog(e+","+j,"twilight");if(e in x)for(l in x[e]){v=e+"__weblab_"+l;this.event_duration[v]=j;this.record_special_metric(v,j);consoleLog(v+","+j,"twilight")}o&&this.send_metrics()},record_special_metric:function(e,j){if(R)this.event_special_duration[e]=j},send_metrics:function(){var e=U+this.twilight_info,j=1,o;for(o in this.event_duration){e+="&Operation."+j+"="+o;e+="&OperationTiming."+j+"="+this.event_duration[o];j++}this.event_duration=
{};if(R&&(P||T)){var l=20,v=P?"adOnly_":"adBlank_";consoleLog("Sending "+v+" events","twilight");for(o in this.event_special_duration){if(l--==0)break;e+="&Operation."+j+"="+v+o;e+="&OperationTiming."+j+"="+this.event_special_duration[o];j++;delete this.event_special_duration[o]}}if(!(j===1&&this.event_counters.length===0)){for(j=0;j<this.event_counters.length;j++)e+="&Counter."+(j+1)+"="+this.event_counters[j];this.event_counters=[];e+="&ord="+ad_utils.ord;t.one_way_send(e);consoleLog("metrics sent",
"twilight");e=false;for(element in this.event_special_duration)if(this.event_special_duration.hasOwnProperty(element)){e=true;break}if(e){consoleLog("sending special metrics again","twilight");this.send_metrics()}}},set_twilight_info:function(e,j,o,l,v){if(h&&h.pt==="java")e+=".java";this.twilight_info="PageType="+e+"&Geo="+j+"&tw_ord="+o+"&timestamp="+l+"&Client="+this.twilight_client;U=v},set_forester_info:function(e){V.set_page_type(e)},all_events_started:function(){this.all_events_started_flag=
true},set_remnant_partner:function(e,j){D.set_remnant_partner(e.frameElement.id,j)},get_remnant_partner:function(e){return D.get_remnant_partner(e)||"none"},update_slot_metrics:function(e,j,o){var l;l=(l=m.getElementById(e))?l.contentWindow.document.ad:null;var v="load"===j&&D.get_remnant_partner(e)?"."+D.get_remnant_partner(e):"";if(!(!e||!D.is_slot_monitored(e)||D.get_metric_value(e,j)!==q)){D.set_metric_value(e,j,q!==o?o:csm.duration());o=D.get_metric_value(e,j);if(l&&D.is_forester_event(e,j)){V.send_forester_metric(l,
e,j,o);j==="load"&&V.send_forester_metric(l,e,"ad-delivery",D.get_metric_value(e,"load")-D.get_metric_value(e,"request"))}if(D.is_twilight_slot(e)){csm.record("csm_"+e+"_"+j,o,0,v);"load"===j&&""!==v&&csm.record("csm_"+e+"_deliver",o-D.get_metric_value(e,"tagdeliver"),0,v);if(D.is_twilight_core_slot(e)){l=D.get_core_slots_duration(j);l!==null&&csm.record("csm_core_ads_"+j,l);j==="load"&&/^(\/|\/title\/tt\d+\/|\/name\/nm\d+\/)$/.test(m.location.pathname)&&csm.record("csm_"+e+Q.get_network_name(e)+
Q.get_in_weblab()+"_timeout",o,0,Q.get_level_for_load(page_type,o))}}}},get_metric_value:function(e,j){return D.get_metric_value(e,j)},enable_weblab_metrics:function(e,j,o){var l,v;for(l=0;l<o.length;l++){v=o[l];x[v]=x[v]||{};x[v][e+"_"+j]=1}}};var Q=function(){return{get_network_name:function(e){return D.get_remnant_partner(e)?"_remnant":"_direct"},get_in_weblab:function(){return"_natural"},get_level_for_load:function(e,j){e={homepage:[1200,3600],title:[1400,4600],name:[1500,4200]}[e];var o=[1200,
3600];e||(e=o);return j<e[0]?".1":j<e[1]?".2":".3"}}}();t.on_document_ready(function(e){e(s).bind("beforeunload",function(){var j=(m.location+"").split("#",2)[0];s.name="clicktoresponse:"+(new Date).getTime()+":"+j});if(t.monitoring.isTwilightActiveSample){csm.measure("csm_ready");e(s).load(function(){csm.measure("csm_load",true)});e("div.dfp_slot").each(function(){t.monitoring.record_event("dfp_slot")});e=parseInt(e("#servertime").attr("time"),10);isNaN(e)||t.monitoring.record_metric("csm_server",
e)}});(function(){if(m.location.protocol==="http:"){var e=s.name.match(/^clicktoresponse:(\d+):(.*)$/);if(e){if(m.referrer===e[2]&&h){e=h.starttime-e[1];h.clicktoresponse=e;t.monitoring.record_metric("click_to_response",e)}s.name=""}}})()})(window,document);window.IMDbTimer&&window.IMDbTimer.events&&function(s,m,q){generic.send_csm_head_metrics=function(){s.record("csm_head_pre_title",q.csm_head_pre_title-m);s.record("csm_head_post_title",q.csm_head_post_title-m);s.record("csm_head_pre_css",q.csm_head_pre_css-m);s.record("csm_head_post_css",q.csm_head_post_css-m);s.record("csm_head_pre_icon",q.csm_head_pre_icon-m);s.record("csm_head_post_icon",q.csm_head_post_icon-m);s.record("csm_head_pre_ads",q.csm_head_pre_ads-m)}}(csm,IMDbTimer.starttime,IMDbTimer.events);(function(s){var m=s.monitoring,q=/rm=n/,t=function(w){w=w.join(",");s.cookie.set("ap",w)},x=function(){var w=s.cookie.get("ap");return w?K(w.split(","),function(J){return parseInt(J,10)}):[]},h=function(){var w=document.getElementById("bottom_ad").getAttribute("data-dart-params"),J=m.get_metric_value("bottom_ad","load"),I=m.get_metric_value("bottom_ad","request");J=J-I;I=x();w.match(q)&&m.record_event("ad_prediction_kill",true);I.unshift(J);if(I.length>10)I=I.slice(0,10);t(I)},K=function(w,J){var I=
[];for(i=0;i<w.length;i++)I.push(J(w[i]));return I};ad_utils.ad_prediction={init:function(){ad_utils.ad_load.listen("bottom_ad",h)}}})(window.generic);
