(function(){window.generic=window.generic||{};window.generic.install=function(l,p){var v;for(v in p)if(p.hasOwnProperty(v))l[v]=p[v]}})();(function(l){l.install(l,{document_readys:[],document_is_ready:function(){var p=l.document_readys,v;l.document_readys=null;for(v=0;v<p.length;v++)try{p[v](jQuery)}catch(s){}l.should_jQuery_noConflict&&jQuery.noConflict(false)},on_document_ready:function(p){l.has_document_readied()?p(jQuery):l.document_readys.push(p)},has_document_readied:function(){return l.document_readys===null}})})(window.generic);function consoleLog(l,p){var v=window.consoleLog,s=document.location,t=s.host.match(/^(m|www|uk).imdb.[a-z]+$/);s=s.hash.match("debug=1");if(p)(v[p]=v[p]||[]).push(l);else p="global";(v.global=v.global||[]).push(p+" : "+l);try{!s&&t||window.console&&window.console.log&&window.console.log(p+" : "+l)}catch(i){}};document.getElementsByTagName("html")[0].className+=" scriptsOn";(function(){var l=window.ads_js_start?(new Date).getTime()-window.ads_js_start:null,p=document,v=navigator.userAgent,s=/MSIE/.test(v),t=/Firefox/.test(v),i=window.generic,z={top_ad:"t",top_rhs:"tr",upfront_navstrip:"ns"},x=document.all?function(a){return document.all[a]}:function(a){return document.getElementById(a)},N=function(a){return document.getElementsByTagName(a)},I=function(a){return x(a).contentWindow.document},h=function(a,b,c){a.attachEvent?a.attachEvent("on"+b,function(){c.apply(a,arguments)}):
a.addEventListener(b,c,false)},k=Math.random()*1E16,y=[[/%3B/g,";"],[/%3D/g,"="],[/%2C/g,","],[/%3F/g,"?"]],r=/(\[|%5B)CLIENT_SIDE_ORD(\]|%5D)/g,m=/(\[|%5B)PASEGMENTS(\]|%5D)/,A={},B={},Q=function(){var a,b,c=function(){var j="{";if(b){if("h"in b)j+=e("h");if("h"in b&&"n"in b)j+=",";if("n"in b)j+=e("n")}j+="}";i.cookie.set("as",j,1)},e=function(j){var o="";jQuery.each(b[j],function(F,w){o+='"'+F+'":['+f(w[0])+","+f(w[1])+"],"});return'"'+j+'":{'+o.substr(0,o.length-1)+"}"},d=function(){var j=i.cookie.get("as");
if(j)try{b=jQuery.parseJSON(j);a=a||b||{}}catch(o){a=a||(b={})}},f=function(j){j=parseInt(j,10);return isFinite(j)?j:0},g=function(){return document.location.pathname==="/"?"h":"n"},n=function(j){var o=ad_utils.get_ad_object(j[0]);return j.css("display")==="none"?0:parseInt(o.w,10)},u=function(j,o){var F=0,w=ad_utils.get_ad_object(j[0]);w=parseInt(w.h,10);if(o==="top_ad")if(jQuery("#nb20").hasClass("banner"))F=-5;else{if(jQuery("#nb20").hasClass("supertab"))F=-15}else if(o==="injected_billboard")F=
20;if("swfAutoMaxHeight"in j[0].contentWindow)w=j[0].contentWindow.swfMinHeight;return j.css("display")==="none"?0:w+F},q={top_ad:"t",top_rhs:"tr",upfront_navstrip:"ns",injected_navstrip:"in",injected_billboard:"ib"};return{store:function(){i.on_document_ready(function(j){var o;try{d();b=b||{};o=b[g()]||{};j.each(q,function(w,D){var K=j("#"+w);if(K.length!==0)o[D]=[n(K,w),u(K,w)]});b[g()]=o;c()}catch(F){consoleLog("Failed to store ad size cookie "+F.toString(),"ads")}})}}}(),P=function(){var a=function(c,
e){c=c.contentWindow?c.contentWindow.document:c.contentDocument;t||c.open("text/html","replace");c.write("<body>"+e+"<script>document.close()<\/script></body>")},b=function(c,e){var d="__srcless_"+Math.floor(Math.random()*68719476735).toString(36),f="<body><script>document.write(parent.ad_utils."+d+");delete parent.ad_utils."+d+";<\/script></body>";ad_utils[d]=e;c.src="javascript:unescape('"+escape(f)+"')"};return{inject_code:function(c,e){s?b(c,e):a(c,e)}}}();this.ad_utils={ord:k,ord_regex:r,ad_table:{},
ad_queue:[],queue_ad:function(a,b){var c=this.ad_queue;a={tile:a,slot:b,prev:c.length>0?c[c.length-1].slot:null};c.push(a);i.monitoring.update_slot_metrics(b,"iframe");this.ad_table[b]=a},register_ad:function(a){i.monitoring.update_slot_metrics(a,"iframe");this.ad_table[a]={slot:a}},render_ad_fast:function(a){var b=p.getElementById(a),c=b.contentWindow,e=b.getAttribute("data-dart-params");e='<style>body{background:transparent;}</style><script src="'+(b.getAttribute("data-override-url")||custom.doubleclick.construct_url(e))+
'" type="text/javascript"><\/script><script>document.write("<script defer>parent.ad_utils.ad_table.'+a+'.fired=true;<\\/script>");<\/script>';i.monitoring.start_timing(a);i.monitoring.update_slot_metrics(a,"request");P.inject_code(b,e);c.show_ad_feedback=function(){i.on_document_ready(function(){ad_utils.show_ad_feedback(a)})};c.d16g_external_callback=function(d){p.ad=d;ad_utils.expand_ad(b)}},render_ad:function(a,b,c){var e=this.ad_queue,d=b.frameElement.id;this.ad_table[d]||(this.ad_table[d]={slot:d});
var f=this.ad_table[d].prev,g=a.location.hash;c=c||custom.doubleclick.construct_url(g);ad_utils.weblab.get_treatment("kill ads");b.show_ad_feedback=function(){i.on_document_ready(function(){ad_utils.show_ad_feedback(d)})};b.d16g_external_callback=function(q){a.ad=q;ad_utils.expand_ad(b.frameElement)};try{if(e.length===0||e[0].slot==d){if(f)this.ad_table[f].onFireAd=null;e.shift();this.ad_table[d].fired=true;this.ad_table[d].render="normal";try{i.monitoring.start_timing(d);i.monitoring.update_slot_metrics(d,
"request");i.monitoring.record_metric("fast_ads_"+(d==="upfront_navstrip"?"navstrip":d)+"_request.normal",csm.duration())}catch(n){consoleLog("start_timing failed: "+n.toString(),"ads")}a.write('<script src="'+c+'" type="text/javascript"><\/script>');this.ad_table[d].onFireAd&&this.ad_table[d].onFireAd()}else if(f)this.ad_table[f].onFireAd=function(){b.location.reload()}}catch(u){a.write('<script src="'+c+'" type="text/javascript"><\/script>')}},resize_iframe:function(a){this.expand_ad(a)},expand_ad:function(a){var b=
this,c=a.id,e=a.height,d=a.width;if(!("expand_called"in this.ad_table[c])){var f=a.parentNode.id,g=this.get_ad_object(a),n=x(c+"_before"),u=x(c+"_after"),q,j=csm.duration(),o=x(c+"_reflow_helper"),F=o!==null?o.offsetTop:null;if(c+"_wrapper"!==f)if(!i.has_document_readied()){i.on_document_ready(function(){b.expand_ad(a)});return}if(this.ad_table&&this.ad_table[c]){this.ad_table[c].expanded=1;if(g){if(!document.ads)document.ads={};document.ads[g.cid]=g;if("w"in g)a.width=parseInt(g.w,10);if("h"in g)a.height=
parseInt(g.h,10);if("z"in g&&g.z){a.parentNode.style.zIndex=g.z;a.parentNode.style.position="relative"}if(g.st)this.expand_supertab(g);else if(g.bb)this.expand_billboard(g);else a.id==="top_ad"&&this.is_open(g)&&!g.clickroll&&!g.overlay&&this.expand_top_banner();g.wrap&&this.expand_wrap(g);g.bamf&&this.expand_bamf(g,a);g.inner_bamf&&this.expand_inner_bamf(g);g.relative_bamf&&this.expand_relative_bamf(g);if(this.is_open(g)){n&&this.display_label(n);u&&this.display_label(u)}else this.collapse_ad(a);
if(g.styles)for(q in g.styles)i.override_style(q,g.styles[q].style)}this.ad_table[c].expand_called=1;i.on_document_ready(function(w){w(a).trigger("expand_ad")});e===a.height&&d===a.width?i.monitoring.update_slot_metrics(c,"reflow",0):setTimeout(function(){var w=c==="top_ad"&&ad_utils.is_open(g)&&!g.st?10:0;o!==null&&o.offsetTop===F+w?i.monitoring.update_slot_metrics(c,"reflow",0):i.monitoring.update_slot_metrics(c,"reflow",j)},10);i.monitoring.update_slot_metrics(c,"tagdeliver",j);Q.store();document.body.className=
document.body.className}}},get_ad_object:function(a){a=a.id;var b=I(a),c=null;try{c=b.ad}catch(e){consoleLog("Cannot access ad parameters: "+e.toString(),"ads")}if(c){if(!("pid"in c))c.pid="DFP";if(!("url"in c))c.url="http://ad.doubleclick.net/adi/d16g-sec.preview/;cid="+("cid"in c?c.cid:"")}else{var d=0,f=0;c=["img","object","embed","iframe"];var g,n,u;for(n in c){u=b.getElementsByTagName(c[n]);for(g=0;g<u.length;g++){var q=u[g],j;j=q.scrollWidth||q.width;q=q.scrollHeight||q.height;if(j&&j>1)d=Math.max(d,
parseInt(j,10));if(q&&q>1)f=Math.max(f,parseInt(q,10));consoleLog(a+" : estimated size : "+j+","+q,"ads")}}c={w:d.toString(),h:f.toString(),pid:"",url:"",aid:"0",cid:"0"};if(d===0||f===0)c.scope="null"}return b.ad=c},get_cornerstone_ad_object:function(a){a=z[a]+"adData";if("aanResponse"in top.document&&a in top.document.aanResponse)return top.document.aanResponse[a];return null},get_mapped_amazon_slot_name:function(a){return z[a]?z[a]:a},clean_up_slot_metrics:function(a){var b=a.id,c=I(b);a=this.get_ad_object(a);
try{i.monitoring.stop_timing(b,this.get_type_of_ad(a),true)}catch(e){consoleLog("stop_timing failed: "+e.toString(),"ads")}c.location.href.match(/\/ads\/request\//)&&this.log_ad_impression(a,b)},on_ad_load:function(a){var b=a.id,c=this.ad_table[b];if(!c||!(c.fired||c.injected))consoleLog("deflected spurious onload event for "+b,"on_ad_load");else{a.style.visibility="";c.loaded=true;i.monitoring.update_slot_metrics(b,"load");c.expanded||this.expand_ad(a);this.clean_up_slot_metrics(a)}},is_open:function(a){return a&&
"w"in a&&"h"in a&&a.w>0&&a.h>0&&a.scope!=="blank"},expand_supertab:function(){var a=x("nb15"),b=x("nb20");if(a)a.className="supertab";else if(b)b.className="supertab"},expand_billboard:function(a){function b(){var C=i.cookie.get(K),E=C&&C.split(/o|c/);C=C&&C.split(/\d*/);var L={},M;if(E&&C){C.shift();for(M=0;M<C.length;++M)L[E[M]]=C[M]}G=L}function c(){var C="",E=new Date,L;for(L in G)if(G.hasOwnProperty(L))C+=L+G[L];E=(((60-E.getSeconds())/60+60-E.getMinutes())/60+24-E.getHours())/24;i.cookie.set(K,
C,E)}function e(C,E){var L=o.createElement("div");C=C.getElementsByTagName(E);var M,T="";for(E=0;E<C.length;++E){M=C[E];M.parentNode.removeChild(M);L.appendChild(M);T+=L.innerHTML;L.removeChild(M)}return T}function d(){j.style.display="none";O.style.display="block";b();G[a.aid]="c";c();J="";J+=e(o,"object");J+=e(o,"embed")}function f(){O.style.display="none";j.style.display="block";b();G[a.aid]="o";c();if(J)F.innerHTML=J+F.innerHTML;o.getElementById("billboard_close_button").onclick=d}function g(C){C=
C;for(var E=0;C;){E+=C.offsetTop;C=C.offsetParent}return E}function n(){if(!w)return false;var C=w.parentElement,E=x("injected_billboard_reflow_helper");return C&&E&&(C.offsetTop===E.offsetTop||g(C)===g(E))}var u=document,q=x("injected_billboard"),j=q.parentElement,o=q.contentWindow.document;q=o.getElementsByTagName("body");var F=q.length===1?q[0]:o.createElement("body"),w=x("top_rhs_wrapper");q=a.bb_close;var D=a.bb_show,K="ax",J,G,O,H;if(!j)return false;j.className=(j.className?j.className+" ":
"")+"billboard";if(a.bb===1){H=o.createElement("div");H.id="billboard_close_button";H.style.cssFloat="right";H.style.cursor="pointer";H.style.position="absolute";H.style.top=0;H.style.right=0;H.innerHTML=q;H.onclick=d;F.appendChild(H);O=u.createElement("div");O.id="billboard_show_button";O.innerHTML=D;O.onclick=f;n()?w.parentElement.insertBefore(O,w):j.parentElement.insertBefore(O,j.parentElement.firstChild);b();a.aid in G&&G[a.aid]==="c"&&d()}return true},expand_top_banner:function(){var a=x("nb15");
if(a)a.className="banner";else x("nb20").className="banner"},expand_bamf:function(a,b){i.extend(b.style,a.bamf.style)},expand_inner_bamf:function(a){a=a.inner_bamf;var b=x(a.targetId);b&&a.node&&i.insert_after(a.node,b)},expand_relative_bamf:function(a){a=a.relative_bamf;var b=x(a.targetId),c;if(a.relation=="insert_after")c=i.insert_after;else if(a.relation=="insert_before")c=i.insert_before;else if(a.relation=="insert_inside")c=i.insert_inside;b&&a.node&&c(a.node,b)},expand_wrap:function(a){if(!a.styles)a.styles=
{};i.extend(a.styles,{"styleguide-v2":{style:{background:a.wrap}},root:{style:{"background-color":"transparent","box-shadow":"none"}},pagecontent:{style:{height:"100%"}},nb20:{style:{background:"none"}}})},expand_label:function(a){a.className=a.className.replace(/hidden/,"")},display_label:function(a){a.className=a.className.replace(/ads-invisible/,"")},collapse_ad:function(a){var b=a.id,c=function(e){if(e=x(e))e.className="hidden"};a.style.display="none";c(b+"_before");c(b+"_after")},log_ad_impression:function(a,
b){var c="/ads/record/[scope];[slot];[aid];[cid];[ord];[time].js";c=c.chained_replace([[/\[slot\]/g,b],[/\[ord\]/g,this.ord],[/\[time\]/g,(new Date).getTime()]]);c=c.chained_replace(a?[[/\[scope\]/g,a.scope||"0"],[/\[aid\]/g,a.aid],[/\[cid\]/g,a.cid]]:[[/\[scope\]/g,"null"]]);i.load_script(c)},get_type_of_ad:function(a){if(!a)return"null";if(a.scope)return a.scope;return"got_ad"},show_ad_feedback:function(a){function b(){e("#ad_feedback_"+a).remove();return false}function c(w){var D=e(window),K=e(document),
J=(D.width()-300)/2+K.scrollLeft();D=(D.height()-320)/2+K.scrollTop();w.css({top:D<0?0:D,left:J})}try{var e=jQuery,d=window.frames[a],f=ad_utils.get_ad_object(d.frameElement),g,n=d.location.hash.match(/#([^;]*);/),u={adId:f?f.aid:"",cid:f?f.cid:"",page_id:window.location.href.substr(0,255),pagesubtype:n?n[1]:"",slot:a},q=u.adId+";"+u.cid+";"+u.slot,j=e("#ad_feedback_container"),o=0;e("div.dfp_slot iframe").each(function(){var w=this.id,D=ad_utils.get_ad_object(this);if(!(w in B)&&D){g=ad_utils.get_cornerstone_ad_object(w);
B[w]=g?{aid:g.adId,cid:g.creativeId,pid:g.adNetwork}:{aid:D.aid,cid:D.cid,pid:D.pid};B[w].url=D.url;B[w].dim=D.w+"x"+D.h}});e.each(B,function(w,D){u["slot_"+o]=w;u["cid_"+o]=D.cid;u["aid_"+o]=D.aid;u["pid_"+o]=D.pid;u["dim_"+o]=D.dim;u["url_"+o]=D.url;o++});if(j.length===0){j=e('<iframe id="ad_feedback_container">');j.addClass("hidden").attr({name:"ad_feedback_container",scrolling:"no",frameborder:"no",marginheight:"0",marginwidth:"0",allowtransparency:"yes"});j[0].hide=function(){e(this).addClass("hidden")};
j[0].show=function(){e(this).removeClass("hidden")};j[0].isHidden=function(){return j.hasClass("hidden")};e("body").append(j)}if(j.attr("src")===""||j.attr("ref")!==q)j.unbind().load(function(){j[0].show();c(j);e(this).unbind()}).attr("src","/ads/feedback.html#"+e.param(u)).attr("ref",q);else if(j[0].isHidden()){j[0].show();c(j)}else{j[0].hide();return false}}catch(F){consoleLog("ad feedback failure : "+F,"ads");b()}return false},report_ad_data:function(a,b){a=a;var c,e={};if(a!==top){try{for(;a.parent!==
top;)a=a.parent;c=a.frameElement.id}catch(d){consoleLog("could not determine ad slot: "+d);return}$.each("aid cid pid url dom dim".split(" "),function(f,g){if(g in b)e[g]=b[g]});B[c]=e}},ns:function(){var a={},b=function(c){return a[c]=a[c]||{}};return{register:function(c,e,d){b(typeof c==="string"?c:c.frameElement.id)[e]=d},get:b}}(),inject_ad:function(){var a={},b={},c=function(d){consoleLog(d,"inject_ad")},e={injected_billboard:"top_ad",injected_navstrip:"top_ad"};return{render:function(d){var f=
d.document,g=d.frameElement,n=g.id;d=x(e[n]);ad_utils.ad_table[n]={slot:n,injected:true};if(n in a){h(g,"load",function(){ad_utils.on_ad_load(this)});f.write(a[n]);delete a[n]}else h(d,"load",function(){if(!(n in a)){c(n+" will never have an ad");ad_utils.on_ad_load(g)}});b[n]=true;c(n+" rendered")},inject:function(d,f){a[d]=f;b[d]&&x(d).contentWindow.location.reload();c(d+" injected")}}}(),weblab:function(){var a={};return{set_treatment:function(b,c){a[b]=c},get_treatment:function(b){return a[b]}}}(),
fallback:function(){var a,b=function(f){consoleLog(f,"kill_ad")},c=function(f){var g=ad_utils.weblab.get_treatment("kill ads");return a&&f in a&&g==="treatment"},e=function(f){var g=ad_utils.ad_table[f],n=x(f),u=x(f+"_fallback"),q=n.parentNode;if(g&&g.loaded)b("tried to kill "+f+" but it already has an ad");else if(i.monitoring.get_remnant_partner(f)==="none")b("can not kill a direct sold ad in "+f);else if(u){b("showing fallback element for "+f);u.style.display="";i.monitoring.record_metric("csm_"+
f+"_load_aborted."+i.monitoring.get_remnant_partner(f),csm.duration());if(s){n.src='javascript:"<script>window.frameElement.parentNode.removeChild(window.frameElement);<\/script>"';n.onload=null;n.style.display="none"}else q.removeChild(n);f==="top_ad"&&ad_utils.expand_top_banner()}else{ad_utils.collapse_ad(n);b("no fallback to show for "+f+" and collapse the slot")}},d=function(f){var g=ad_utils.ad_table[f],n=x(f),u=x(f+"_fallback_code"),q=p.createElement("div");n=n.parentNode;if(u)if(!(g&&g.loaded)){b("filling in fallback element for "+
f);q.id=f+"_fallback";q.innerHTML=unescape(u.innerHTML);q.style.display="none";n.insertBefore(q,n.firstChild)}};return{set_kill_threshold:function(f){a=f},start_kill_timer:function(f){var g;g=x(f);if(c(f))if(a&&f in a){g.style.visibility="hidden";g=a[f]-((new Date).getTime()-window.IMDbTimer.starttime);b("threshold for "+f+": "+a[f]);setTimeout(function(){d(f)},g-350);setTimeout(function(){e(f)},g);b("killing "+f+" in "+g+"ms")}else b("ERROR: the kill threshold is not correctly set. Bail from the kill-ad feature")}}}()};
i.install(i,{should_jQuery_noConflict:window.$&&!window.jQuery,one_way_send_record:[],insert_after:function(a,b){try{b.parentNode.insertBefore(a,b.nextSibling)}catch(c){b.parentNode.appendChild(a)}},insert_before:function(a,b){b.parentNode.insertBefore(a,b)},insert_inside:function(a,b){b.appendChild(a)},extend:function(a,b){var c;for(c in b)if(typeof b[c]=="object"){if(a[c]!=b[c]){if(typeof a[c]=="undefined")a[c]={};this.extend(a[c],b[c])}}else a[c]=b[c]},override_style:function(a,b,c){a="#"+a;var e;
for(e in b)b[e]+=" !important";i.add_json_style(a,b,c)},add_json_style:function(a,b,c,e){a=a+"{";var d;for(d in b)a+=d+":"+b[d]+";";a+="}";i.add_css_style(a,c,e)},add_css_style:function(a,b,c){var e=["css-style-generic"],d,f;if(!b||!b.length)b="css-style-generic";else e.push(b);c||(c="a");for(f in e)if(!x(e[f])){d=document.createElement("style");d.setAttribute("type","text/css");d.id=e[f];N("head")[0].appendChild(d)}d=x(b);if(d.styleSheet&&"cssText"in d.styleSheet){a=(c==="a"?d.styleSheet.cssText:
"")+a;d.styleSheet.cssText=a}else{a=(c==="a"?d.innerHTML:"")+a;try{d.innerHTML=a}catch(g){d.innerText=a}}},add_css_file:function(a,b){b||(b="css-file-generic");var c=x(b);if(!c){c=document.createElement("link");c.setAttribute("type","text/css");c.rel="stylesheet";c.id=b;N("head")[0].appendChild(c)}c.href=a},set:function(a,b){a=a.split(":");a[0]=="cookie"?i.cookie.set(a[1],b):i.cache.set(a[1],b)},get:function(a){a=a.split(":");return a[0]=="cookie"?i.cookie.get(a[1]):i.cache.get(a[1])},erase:function(a){a=
a.split(":");return a[0]=="cookie"?i.cookie.erase(a[1]):i.cache.erase(a[1])},cache:{set:function(a,b){A[a]=b},get:function(a){return A[a]},erase:function(a){delete A[a]}},load_script:function(a){var b=document.createElement("script");b.type="text/javascript";b.src=a;N("head")[0].appendChild(b)},load_script_notify:function(a,b){var c=document.createElement("script"),e=false;c.type="text/javascript";c.src=a;c.onload=c.onreadystatechange=function(){var d=this.readyState;if(!(e||d&&d!="complete"&&d!=
"loaded")){e=true;document.body.removeChild(c);"function"===typeof b&&b(a)}};document.body.appendChild(c)},one_way_send:function(a){imageObj=new Image(0,0);imageObj.src=a;this.one_way_send_record.push(imageObj)},extensions:{String:{chained_replace:function(a){var b=this,c;for(c=0;c<a.length;c++){var e=a[c];b=b.replace(e[0],e[1])}return b},collapse:function(a,b){for(var c=this;c.length>b;){var e=c.replace(a,"");if(e.length==c.length)break;c=e}return c}}},load_when_visible:function(a,b){var c=0,e=jQuery(window),
d=e.height()+e.scrollTop();if(jQuery("#"+a).length){var f=jQuery(jQuery("#"+a).get(0)),g=f.offset().top;d>g?b(a):e.scroll(function(){d=e.height()+e.scrollTop();g=f.offset().top;if(d>g&&!c){c=1;b(a)}})}else b(a)},unload_plugins:function(){for(var a=[document],b,c,e,d=new RegExp("^("+location.protocol+"//"+location.hostname+")?(/.*)?$"),f=function(g){var n,u;for(n=g.length-1;n>=0;n--){u=g[n];u.parentNode.removeChild(u)}};a.length;){b=a.pop();f(b.getElementsByTagName("object"));f(b.getElementsByTagName("embed"));
b=b.getElementsByTagName("iframe");for(e=b.length-1;e>=0;e--){c=b[e];if(d.test(c.src))(c=c.contentWindow.document)&&a.push(c);else f([c])}}}});String.prototype.chained_replace=i.extensions.String.chained_replace;String.prototype.collapse=i.extensions.String.collapse;this.custom={amazon:{segments:null,aan_call_name:"aan_call",get_segments:function(a){if(!this.segments){var b=i.cookie.get("us")||"";b=b.replace(/[^a-zA-Z0-9;=]/g,"");this.segments=b.collapse(/s=[^;]*;$/,a);a=b.length-this.segments.length;
a!==0&&i.monitoring.record_metric("seg_trimmed",a)}return this.segments},load_callback:function(a){trimmed_segs=a.collapse(/s=[^;]*;$/,450);i.cookie.set("us",trimmed_segs,7);if(this.segments===null){i.monitoring.stop_timing(this.aan_call_name,"in_time",false);csm.measure("csm_aan_response.in_time")}else{i.monitoring.stop_timing(this.aan_call_name,"late",false);csm.measure("csm_aan_response.late")}},aan_iframe_oncall:function(){i.monitoring.start_timing(custom.amazon.aan_call_name);csm.measure("csm_aan_request")}},
doubleclick:function(){var a=function(d){d=d.replace(r,k);d=d.chained_replace(y);var f=475-d.chained_replace([[m,""],[/^[^\;]*/,""]]).length;f=custom.amazon.get_segments(f);return d.replace(m,f)},b=/\[PLAYLISTINDEX\]/,c=/\[PLAYLISTID\]/,e=/\[PLAYERTYPE\]/;return{construct_url:function(d){var f=d.match(";ifb=pf;")?"pfadj":"adj";d=escape(d.substring(1,d.length));d=a(d);return document.location.protocol+"//ad.doubleclick.net/"+f+"/"+d},construct_video_url:function(d,f){d=a(d);d=d.replace(b,"vi="+(f.listindex||
"0"));d=d.replace(c,f.list?"vl="+f.list:"");d=d.replace(e,"vt="+f.playertype);return document.location.protocol+"//ad.doubleclick.net/pfadx/"+d}}}(),indirect:{close:function(a){a.location.href.match("floater")&&custom.floater.close(a.frameElement.id)}},full_page:{style_id:"custom__full_page__generated_styles",data_url:"/images/a/js/graffiti_data.js",apply:function(a){var b=this;document.getElementById("root").style.boxShadow="none";window.generic.on_document_ready(function(){b.settings=a;"styles"in
b?b._apply():window.generic.load_script_notify(b.data_url,function(){b._apply()})})},_apply:function(){var a;a=this.settings.ARGS.split(/&/);var b={},c=this,e="/* ARGS:"+this.settings.ARGS+" */\n";jQuery.each(a,function(f,g){f=/^(.*)=(.*)$/.exec(g);if(f.length===3)b[f[1]]=unescape(f[2].replace(/\+/g," "))});a=this.invert_styles(b.treatment);jQuery.each(a,function(f,g){if(g.fixed)e+=c.format_css(g,g.fixed);else if(b[f]||g["default"])e+=c.format_css(g,b[f])});try{jQuery("style#"+this.style_id).remove();
jQuery("head").append(jQuery('<style type="text/css">').attr("id",this.style_id).html(e))}catch(d){i.add_css_style(e,this.style_id,"o")}},invert_styles:function(a){var b=["default","important","fixed"],c={};jQuery.each(this.styles[a],function(e,d){jQuery.each(d,function(f,g){var n=c[g.name]={style:e,selector:g.selector};jQuery.each(b,function(u,q){if(g[q])n[q]=g[q]})})});return c},format_css:function(a,b){return a.selector+" { "+a.style+" : "+(b?b:a["default"])+(a.important?" !important ":"")+"}\n"}},
floater:{close:function(a){i.extend(x(a),{style:{width:"0px",height:"0px"}})},launch:function(a,b,c,e,d,f,g){var n=document.createElement("iframe");e=typeof e==="string"?x(e):e;c!="none"&&setTimeout(function(){custom.floater.close(g)},c*1E3);i.extend(n,{id:g,name:g,src:a,width:b[0]+"px",height:b[1]+"px",frameBorder:"0",scrolling:"no",allowTransparency:"true",style:{marginLeft:f[0]+"px",marginTop:f[1]+"px",zIndex:f[2],position:"absolute"}});d(n,e)},set:function(a,b,c,e,d,f){i.cache.set("floater",a);
a="floater_"+Math.ceil(Math.random()*9999999);custom.floater.launch("/images/a/ifb/doubleclick/indirect.html?source=cache:floater",b,c,e,d,f,a);return a}}};var R=function(a,b){return b?'<param name="'+a+'" value="'+b+'">':""},S=function(a,b){return b?" "+a+'="'+b+'" ':""};this.flashAdUtils={makeFlashAd:function(a){var b=a.id,c=a.src,e=a.width,d=a.height,f=a.bgcolor,g=a.wmode||"opaque",n=a.salign,u=a.scale,q=a.extraParams,j=a.extraTAGs,o=a.minVersion,F=escape(a.clickThru),w=a.clickTAGs,D=function(H){return H!==
null&&H!==undefined&&(H+"").length},K=function(H){return isFinite(parseInt(H,10))};a="";var J,G;if(!D(b)||!D(c)||!K(e)||!K(d))consoleLog("makeFlashAd: Missing required params","flashAdUtils");else{flashAdUtils.canPlayFlash(o)||consoleLog("makeFlashAd: Current flash version too low","flashAdUtils");if(w)for(o=0;o<w.length;o++)if(w[o])a=a+"&clickTAG"+(o+1)+"="+escape(w[o]);if(j)for(J in j)a=a+"&"+escape(J)+"="+escape(j[J]);a+="&ord="+ad_utils.ord;J=j="";try{o={width:1,height:1,src:1,bgcolor:1,wmode:1,
salign:1,scale:1,flashvars:1};for(G in q)if(!o[G]){j+=R(G,q[G]);J+=S(G,q[G])}}catch(O){}q=R("bgcolor",f);f=S("bgcolor",f);G=R("wmode",g);g=S("wmode",g);o=R("scale",u);u=S("scale",u);w=R("salign",n);n=S("salign",n);return'<object  classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"  width="'+e+'"  height="'+d+'"  id="swf_'+b+'"><param name="movie" value="'+c+'"><param name="flashvars" value="env=WEB&clickTAG='+
F+"&"+a+'"><param name="play" value="true"><param name="quality" value="high"><param name="allowScriptAccess" value="always">'+o+w+q+G+j+'<!--HACK--\><div style="margin-left:0.1px"><embed src="'+c+'"  flashvars="env=WEB&clickTAG='+F+"&"+a+'"  quality="high"  play="true"  width="'+e+'"  height="'+d+'"  name="swf_'+b+'"  allowScriptAccess="always"  type="application/x-shockwave-flash"  pluginspage="http://www.macromedia.com/go/getflashplayer" '+u+n+f+g+J+"></embed></div></object>"}},canPlayFlash:function(a){var b=
false,c=parseInt(a,10);a=!a||c<9?9:c;if((navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]?navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin:0)&&navigator.plugins["Shockwave Flash"]){b=navigator.plugins["Shockwave Flash"].description.split(" ");var e;for(c=0;c<b.length;++c)isNaN(parseInt(b[c],10))||(e=parseInt(b[c],10));b=e>=a}else if(navigator.userAgent&&navigator.userAgent.indexOf("MSIE")>=0&&navigator.appVersion.indexOf("Win")!==-1)try{var d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+
a);d.AllowScriptAccess="always";b=d.GetVariable("$version").match(/([0-9]+)/)[1]>=a}catch(f){}return b}};i.on_document_ready(function(a){a(window).load(function(){Q.store()})});i.on_document_ready(function(){h(window,"unload",function(){i.unload_plugins()})});l&&i.on_document_ready(function(){i.monitoring.record_metric("ads_js_response",l)})})();(function(l){l.install(l,{extended_split:function(p,v,s){for(var t=[],i=0,z;!s||t.length<s-1;){z=p.indexOf(v,i);if(z===-1)break;t.push(p.substring(i,z));i=z+v.length}t.push(p.substring(i));return t},object_from_querystring:function(p){var v=p.split("&"),s={},t;if(p==="")return{};for(p=0;p<v.length;p++){t=l.extended_split(v[p],"=",2);s[t[0]]=t.length===1?null:decodeURIComponent(t[1])}return s},cookie:{set:function(p,v,s){var t,i;if(s){i=new Date;i.setTime(i.getTime()+s*24*60*60*1E3);s="; expires="+
i.toGMTString()}else s="";t=document.location.host.split(".");i=t.pop();t=t.pop();document.cookie=p+"="+escape(v)+s+"; path=/; domain="+t+"."+i},get:function(p){var v=document.cookie.split(";"),s,t;for(s=0;s<v.length;s++)if(typeof v[s]=="string"){t=v[s].split("=");if(t[0]&&t[1]&&t[0].replace(/\s/,"")==p)return unescape(t[1])}return null},erase:function(p){this.set(p,"",-1)}}})})(window.generic);(function(){var l=window.generic=window.generic||{},p=window.IMDbTimer,v="IMDbTimer"in window?window.IMDbTimer.starttime:NaN,s=document.location.hash.match("debug=1"),t=s||!isNaN(v)&&Math.random()<0.25,i=s||Math.random()<0.1,z=function(){var h={top_ad:{iframe:undefined,request:undefined,reflow:undefined,tagdeliver:undefined,load:undefined},top_rhs:{iframe:undefined,request:undefined,reflow:undefined,tagdeliver:undefined,load:undefined},upfront_navstrip:{iframe:undefined,request:undefined,reflow:undefined,
tagdeliver:undefined,load:undefined},bottom_ad:{iframe:undefined,request:undefined,reflow:undefined,tagdeliver:undefined,load:undefined}},k={top_ad:undefined,top_rhs:undefined,upfront_navstrip:undefined,bottom_ad:undefined},y={top_ad:1,top_rhs:1,upfront_navstrip:1,bottom_ad:2},r={top_ad:1,top_rhs:1,upfront_navstrip:1,bottom_ad:1};forester_events={reflow:1,"ad-delivery":1,load:1};l.on_document_ready(function(m){m(window).bind("beforeunload",function(){var A,B;for(A in h){B=h[A];B.request&&B.load===
undefined&&l.monitoring.record_event("ad_load_failure."+A)}l.monitoring.send_metrics()})});return{is_slot_monitored:function(m){return m in y||m in r},is_twilight_slot:function(m){return m in y},is_twilight_core_slot:function(m){return m in y&&y[m]===1},is_forester_slot:function(m){return m in r},is_forester_event:function(m,A){return this.is_forester_slot(m)&&A in forester_events},set_metric_value:function(m,A,B){h[m][A]=B},get_metric_value:function(m,A){if(m in h)return h[m][A]},get_core_slots_duration:function(m){var A=
0,B;for(B in y)if(this.is_twilight_core_slot(B)){if(undefined===this.get_metric_value(B,m))return null;A=Math.max(A,this.get_metric_value(B,m))}return A},set_remnant_partner:function(m,A){k[m]=A;return this},get_remnant_partner:function(m){return k[m]}}}(),x="http://www.imdb.com/twilight/?",N=function(){var h=function(){return{prepare_and_send_metric:function(r,m,A,B){y({slot:m,ad_network_name:"DART",aid:r.aid,cid:r.cid,slot_event:A,time:B})}}}(),k=function(){return{prepare_and_send_metric:function(r,
m,A){var B,Q=20,P;P=function(){if(B=ad_utils.get_cornerstone_ad_object(r))y({slot:r,ad_network_name:"PDA",aid:B.adId,cid:B.creativeId,slot_event:m,time:A});else--Q&&setTimeout(P,100)};P()}}}(),y=function(r){var m,A,B,Q,P;if(i&&z.is_forester_slot(r.slot)){m=ad_utils.get_mapped_amazon_slot_name(r.slot);A=page_type;B=r.ad_network_name;Q=r.aid;P=r.cid;r='{"s":"imdb","l":"'+m+'","p":"'+A+'","n":"'+B+'","a":"'+Q+'","c":"'+P+'","m":"'+r.slot_event+'","v":"'+r.time+'"}';s&&consoleLog(r+" metrics sent","forester");
l.one_way_send("http://fls-na.amazon.com/1/display-ads-cx/1/OP/?LMET"+escape(r))}};return{send_forester_metric:function(r,m,A,B){h.prepare_and_send_metric(r,m,A,B);k.prepare_and_send_metric(m,A,B)},set_page_type:function(r){page_type=r}}}();this.csm={measure:function(h,k){this.record(h,this.duration(),k)},record:function(h,k,y,r){if(t&&!csm.metrics[h]){csm.metrics[h]=k;l.monitoring.record_metric(h+(r?r:""),csm.metrics[h],y)}},duration:function(){return(new Date).getTime()-v},metrics:{}};l.monitoring=
{event_starts:{},event_stops:{},events_to_stop:0,event_duration:{},event_counters:[],all_events_started_flag:false,twilight_info:"",twilight_client:function(){var h=navigator.userAgent,k;if((k=h.match(/MSIE (\d+)/))&&k[1]>=6)return"ie"+k[1];if(k=h.match(/Mac OS.*Firefox\/(\d+)/))return k[1]==="3"?"firefox3-mac":"firefox-mac";if(k=h.match(/Firefox\/(\d+)/))return k[1]==="3"?"firefox3":"firefox";if(h.indexOf("Chrome")!==-1)return"chrome";if(h.indexOf("Safari")!==-1)return"safari";if(h.indexOf("Opera")!==
-1)return"opera";return"Other"}(),isTwilightActiveSample:t,page_type:"",start_timing:function(h){this.start_timing_at(h,(new Date).getTime())},start_timing_at:function(h,k){this.event_starts[h]=k;this.events_to_stop++},stop_timing:function(h,k,y){var r=(new Date).getTime(),m=h;if(this.event_starts[h]){this.event_stops[h]=r;if(k)m+="."+k;this.record_metric(m,r-this.event_starts[h]);delete this.event_starts[h];this.events_to_stop--;if(y||this.all_events_started_flag&&this.events_to_stop===0)this.send_metrics()}},
record_event:function(h,k){this.event_counters.push(h);consoleLog(h,"twilight");k&&this.send_metrics()},record_metric:function(h,k,y){this.event_duration[h]=k;consoleLog(h+","+k,"twilight");y&&this.send_metrics()},send_metrics:function(){var h=x+this.twilight_info,k=1,y;for(y in this.event_duration){h+="&Operation."+k+"="+y;h+="&OperationTiming."+k+"="+this.event_duration[y];k++}this.event_duration={};if(!(k===1&&this.event_counters.length===0)){for(k=0;k<this.event_counters.length;k++)h+="&Counter."+
(k+1)+"="+this.event_counters[k];this.event_counters=[];h+="&ord="+ad_utils.ord;l.one_way_send(h);consoleLog("metrics sent","twilight")}},set_twilight_info:function(h,k,y,r,m){if(p&&p.pt==="java")h+=".java";this.twilight_info="PageType="+h+"&Geo="+k+"&tw_ord="+y+"&timestamp="+r+"&Client="+this.twilight_client;x=m},set_forester_info:function(h){N.set_page_type(h)},all_events_started:function(){this.all_events_started_flag=true},set_remnant_partner:function(h,k){z.set_remnant_partner(h.frameElement.id,
k)},get_remnant_partner:function(h){return z.get_remnant_partner(h)||"none"},update_slot_metrics:function(h,k,y){var r,m;m=(r=document.getElementById(h))?r.contentWindow.document.ad:null;r="load"===k&&z.get_remnant_partner(h)?"."+z.get_remnant_partner(h):"";if(!(!h||!z.is_slot_monitored(h)||z.get_metric_value(h,k))){z.set_metric_value(h,k,undefined!==y?y:csm.duration());y=z.get_metric_value(h,k);if(m&&z.is_forester_event(h,k)){N.send_forester_metric(m,h,k,y);k==="load"&&N.send_forester_metric(m,h,
"ad-delivery",z.get_metric_value(h,"load")-z.get_metric_value(h,"request"))}if(z.is_twilight_slot(h)){m=h==="upfront_navstrip"?"navstrip":h;csm.record("csm_"+m+"_"+k,y,0,r);"load"===k&&""!==r&&csm.record("csm_"+m+"_deliver",y-z.get_metric_value(h,"tagdeliver"),0,r);if(z.is_twilight_core_slot(h)){r=z.get_core_slots_duration(k);r!==null&&csm.record("csm_core_ads_"+k,r);k==="load"&&/^(\/|\/title\/tt\d+\/|\/name\/nm\d+\/)$/.test(document.location.pathname)&&csm.record("csm_"+m+I.get_network_name(h)+I.get_in_weblab()+
"_timeout",y,0,I.get_level_for_load(page_type,y))}}}}};var I=function(){return{get_network_name:function(h){return z.get_remnant_partner(h)?"_remnant":"_direct"},get_in_weblab:function(){return"treatment"===ad_utils.weblab.get_treatment("kill ads")?"_killed":"_natural"},get_level_for_load:function(h,k){h={homepage:[1200,3600],title:[1400,4600],name:[1500,4200]}[h];var y=[1200,3600];h||(h=y);return k<h[0]?".1":k<h[1]?".2":".3"}}}();l.on_document_ready(function(h){h(window).bind("beforeunload",function(){var k=
(document.location+"").split("#",2)[0];window.name="clicktoresponse:"+(new Date).getTime()+":"+k});if(l.monitoring.isTwilightActiveSample){csm.measure("csm_ready");h(window).load(function(){csm.measure("csm_load",true)});h("div.dfp_slot").each(function(){l.monitoring.record_event("dfp_slot")});h=parseInt(h("#servertime").attr("time"),10);isNaN(h)||l.monitoring.record_metric("csm_server",h)}});(function(){if(document.location.protocol==="http:"){var h=window.name.match(/^clicktoresponse:(\d+):(.*)$/);
if(h){if(document.referrer===h[2]&&p){h=p.starttime-h[1];p.clicktoresponse=h;l.monitoring.record_metric("click_to_response",h)}window.name=""}}})()})();var $$FSR={timestamp:"March 19, 2012 @ 11:24 AM",version:"11.3.0",enabled:true,sessionreplay:true,auto:true,encode:false,files:"/images/a/foresee/",id:"F7CwY6EhDVagBMK5Os76kQ==",definition:"foresee-surveydef.js",embedded:false,replay_id:"imdb.com",renderer:"W3C",layout:"CENTERFIXED",sites:[{path:/\w+-?\w+\.(com|org|edu|gov|net|co\.uk)/},{path:".",domain:"default"}],storageOption:"cookie"};
(function(l,p,v){for(var s=l.sites,t=0,i=s.length;t<i;t++){var z;"[object Array]"!==Object.prototype.toString.call(s[t].path)&&(s[t].path=[s[t].path]);for(var x=0,N=s[t].path.length;x<N;x++)if(z=v.location.href.match(s[t].path[x])){l.siteid=t;l.site=l.sites[t];l.site.domain?"default"==l.site.domain&&(l.site.domain=null):(l.site.domain=z[0]);l.site.secure||(l.site.secure=null);l.site.name||(l.site.name=z[0]);break}if(z)break}s={b:function(I){I=(I=v.cookie.match("(?:^|;)\\s*"+I.replace(/([-.*+?^${}()|[\]\/\\])/g,
"\\$1")+"=([^;]*)"))?I[1]:null;l.encode&&(I=I?decodeURIComponent(I):null);return I},a:function(){v.cookie="fsr.a"+(l.site.cookie?"."+l.site.cookie:"")+"="+(new Date).getTime()+";path=/"+(l.site.domain?";domain="+l.site.domain+";":";")+(l.site.secure?"secure":"")}};if(!s.b("fsr.a"+(l.site.cookie?"."+l.site.cookie:""))){s.a();p.fsr$timer=setInterval(s.a,1E3);v.cookie="fsr.paused=1;path=/"+(l.site.domain?";domain="+l.site.domain+";":";")+(l.site.secure?"secure":"")}})($$FSR,window,window.document);
