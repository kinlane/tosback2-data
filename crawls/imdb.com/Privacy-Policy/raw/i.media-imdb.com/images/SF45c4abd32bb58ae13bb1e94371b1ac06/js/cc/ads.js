function consoleLog(k,y){var r=window.consoleLog,l=document.location,w=l.host.match(/^(m|www|uk).imdb.[a-z]+$/);l=l.hash.match("debug=1");if(y)(r[y]=r[y]||[]).push(k);else y="global";(r.global=r.global||[]).push(y+" : "+k);try{!l&&w||window.console&&window.console.log&&window.console.log(y+" : "+k)}catch(z){}};(function(){var k=window.ads_js_start?(new Date).getTime()-window.ads_js_start:null,y=document,r={top_ad:"t",top_rhs:"tr",upfront_navstrip:"ns"},l=document.all?function(a){return document.all[a]}:function(a){return document.getElementById(a)},w=function(a){return document.getElementsByTagName(a)},z=function(a){return l(a).contentWindow.document},C=function(a,c,b){a.attachEvent?a.attachEvent("on"+c,function(){b.apply(a,arguments)}):a.addEventListener(c,b,false)},D=Math.random()*1E16,H=[[/%3B/g,";"],
[/%3D/g,"="],[/%2C/g,","],[/%3F/g,"?"]],d=/(\[|%5B)CLIENT_SIDE_ORD(\]|%5D)/g,i=/(\[|%5B)PASEGMENTS(\]|%5D)/,s={},n={},m=function(){var a,c,b=function(){var j="{";if(c){if("h"in c)j+=f("h");if("h"in c&&"n"in c)j+=",";if("n"in c)j+=f("n")}j+="}";generic.cookie.set("as",j,1)},f=function(j){var p="";jQuery.each(c[j],function(B,t){p+='"'+B+'":['+h(t[0])+","+h(t[1])+"],"});return'"'+j+'":{'+p.substr(0,p.length-1)+"}"},g=function(){var j=generic.cookie.get("as");if(j)try{c=jQuery.parseJSON(j);a=a||c||{}}catch(p){a=
a||(c={})}},h=function(j){j=parseInt(j,10);return isFinite(j)?j:0},e=function(){return document.location.pathname==="/"?"h":"n"},o=function(j){var p=ad_utils.get_ad_object(j[0]);return j.css("display")==="none"?0:parseInt(p.w,10)},q=function(j,p){var B=0,t=ad_utils.get_ad_object(j[0]);t=parseInt(t.h,10);if(p==="top_ad")if(jQuery("#nb20").hasClass("banner"))B=-5;else if(jQuery("#nb20").hasClass("supertab"))B=-15;if("swfAutoMaxHeight"in j[0].contentWindow)t=j[0].contentWindow.swfMinHeight;return j.css("display")===
"none"?0:t+B},v={top_ad:"t",top_rhs:"tr",upfront_navstrip:"ns",injected_navstrip:"in"};return{store:function(){generic.on_document_ready(function(j){var p;try{g();c=c||{};p=c[e()]||{};j.each(v,function(t,A){var E=j("#"+t);if(E.length!==0)p[A]=[o(E,t),q(E,t)]});c[e()]=p;b()}catch(B){consoleLog("Failed to store ad size cookie "+B.toString(),"ads")}})}}}();this.ad_utils={ord:D,ord_regex:d,ad_table:{},ad_queue:[],queue_ad:function(a,c){var b=this.ad_queue;a={tile:a,slot:c,prev:b.length>0?b[b.length-1].slot:
null};b.push(a);generic.monitoring.update_slot_metrics(c,"iframe");this.ad_table[c]=a},register_ad:function(a,c){generic.monitoring.update_slot_metrics(c,"iframe");this.ad_table[c]={tile:a,slot:c}},render_ad_fast:function(){var a=navigator.userAgent,c=/MSIE/.test(a);/Opera/.test(a);var b=/Firefox/.test(a),f=function(h,e){h=h.contentWindow?h.contentWindow.document:h.contentDocument;b||h.open("text/html","replace");h.write(e+"<script>document.close()<\/script>")},g=function(h,e){var o="_code_"+h.name,
q='<body><script>document.write(parent.ad_utils.render_ad_fast["'+o+'"]);delete parent.ad_utils.render_ad_fast["'+o+'"]<\/script></body>';ad_utils.render_ad_fast[o]=e;h.src="javascript:unescape('"+escape(q)+"')"};return function(h){var e=y.getElementById(h),o=e.contentWindow;hash=e.getAttribute("data-dart-params");ad_src=custom.doubleclick.construct_url(hash);code='<style>body{background:transparent;}</style><script src="'+ad_src+'" type="text/javascript"><\/script><script>document.write("<script defer>parent.ad_utils.ad_table.'+
h+'.fired=true;<\\/script>");<\/script>';ad_utils.ad_table[h].render="fast";generic.monitoring.start_timing(h);generic.monitoring.update_slot_metrics(h,"request");generic.monitoring.record_metric("fast_ads_"+(h==="upfront_navstrip"?"navstrip":h)+"_request.fast",csm.duration());c?g(e,code):f(e,code);o.show_ad_feedback=function(){generic.on_document_ready(function(){ad_utils.show_ad_feedback(h)})};o.d16g_external_callback=function(q){y.ad=q;ad_utils.expand_ad(e)}}}(),render_ad:function(a,c,b){var f=
this.ad_queue,g=c.frameElement.id;this.ad_table[g]||(this.ad_table[g]={slot:g});c.show_ad_feedback=function(){generic.on_document_ready(function(){ad_utils.show_ad_feedback(g)})};c.d16g_external_callback=function(v){a.ad=v;ad_utils.expand_ad(c.frameElement)};var h=this.ad_table[g].prev,e=a.location.hash;b=b||custom.doubleclick.construct_url(e);try{if(f.length===0||f[0].slot==g){if(h)this.ad_table[h].onFireAd=null;f.shift();this.ad_table[g].fired=true;this.ad_table[g].render="normal";try{generic.monitoring.start_timing(g);
generic.monitoring.update_slot_metrics(g,"request");generic.monitoring.record_metric("fast_ads_"+(g==="upfront_navstrip"?"navstrip":g)+"_request.normal",csm.duration())}catch(o){consoleLog("start_timing failed: "+o.toString(),"ads")}a.write('<script src="'+b+'" type="text/javascript"><\/script>');this.ad_table[g].onFireAd&&this.ad_table[g].onFireAd()}else if(h)this.ad_table[h].onFireAd=function(){c.location.reload()}}catch(q){a.write('<script src="'+b+'" type="text/javascript"><\/script>')}},resize_iframe:function(a){this.expand_ad(a)},
expand_ad:function(a){var c=this,b=a.id,f=a.height,g=a.width;if(!("expand_called"in this.ad_table[b])){var h=a.parentNode.id,e=this.get_ad_object(a),o=l(b+"_before"),q=l(b+"_after"),v,j=csm.duration(),p=l(b+"_reflow_helper"),B=p!==null?p.offsetTop:null;if(b+"_wrapper"!==h)if(!generic.has_document_readied()){generic.on_document_ready(function(){c.expand_ad(a)});return}if(this.ad_table&&this.ad_table[b]){this.ad_table[b].expanded=1;if(e){if(!document.ads)document.ads={};document.ads[e.cid]=e;if("w"in
e)a.width=parseInt(e.w,10);if("h"in e)a.height=parseInt(e.h,10);if("z"in e&&e.z){a.parentNode.style.zIndex=e.z;a.parentNode.style.position="relative"}if(e.st)this.expand_supertab(e);else a.id==="top_ad"&&this.is_open(e)&&!e.clickroll&&!e.overlay&&this.expand_top_banner(e);e.wrap&&this.expand_wrap(e);e.bamf&&this.expand_bamf(e,a);e.inner_bamf&&this.expand_inner_bamf(e);e.relative_bamf&&this.expand_relative_bamf(e);if(this.is_open(e)){o&&this.display_label(o);q&&this.display_label(q)}else{a.style.display=
"none";o&&this.collapse_label(o);q&&this.collapse_label(q)}if(e.styles)for(v in e.styles)generic.override_style(v,e.styles[v].style)}this.ad_table[b].expand_called=1;generic.on_document_ready(function(t){t(a).trigger("expand_ad")});f===a.height&&g===a.width?generic.monitoring.update_slot_metrics(b,"reflow",0):setTimeout(function(){var t=b==="top_ad"&&ad_utils.is_open(e)&&!e.st?10:0;p!==null&&p.offsetTop===B+t?generic.monitoring.update_slot_metrics(b,"reflow",0):generic.monitoring.update_slot_metrics(b,
"reflow",j)},10);generic.monitoring.update_slot_metrics(b,"tagdeliver",j);m.store();document.body.className=document.body.className}}},get_ad_object:function(a){a=a.id;var c=z(a),b=null;try{b=c.ad}catch(f){consoleLog("Cannot access ad parameters: "+f.toString(),"ads")}if(b){if(!("pid"in b))b.pid="DFP";if(!("url"in b))b.url="http://ad.doubleclick.net/adi/d16g-sec.preview/;cid="+("cid"in b?b.cid:"")}else{var g=0,h=0;b=["img","object","embed","iframe"];var e,o,q;for(o in b){q=c.getElementsByTagName(b[o]);
for(e=0;e<q.length;e++){var v=q[e],j;j=v.scrollWidth||v.width;v=v.scrollHeight||v.height;if(j&&j>1)g=Math.max(g,parseInt(j,10));if(v&&v>1)h=Math.max(h,parseInt(v,10));consoleLog(a+" : estimated size : "+j+","+v,"ads")}}b={w:g.toString(),h:h.toString(),pid:"",url:"",aid:"0",cid:"0"};if(g===0||h===0)b.scope="null"}return c.ad=b},get_cornerstone_ad_object:function(a){a=r[a]+"adData";if("aanResponse"in top.document&&a in top.document.aanResponse)return top.document.aanResponse[a];return null},get_mapped_amazon_slot_name:function(a){return r[a]?
r[a]:a},clean_up_slot_metrics:function(a){var c=a.id,b=z(c);a=this.get_ad_object(a);try{generic.monitoring.stop_timing(c,this.get_type_of_ad(a),true)}catch(f){consoleLog("stop_timing failed: "+f.toString(),"ads")}b.location.href.match(/\/ads\/request\//)&&this.log_ad_impression(a,c)},on_ad_load:function(a){var c=a.id,b=this.ad_table[c];if(!b||!(b.fired||b.injected))consoleLog("deflected spurious onload event for "+c,"on_ad_load");else{b.loaded=true;generic.monitoring.update_slot_metrics(c,"load");
if(this.ad_table[c].render)generic.monitoring.record_metric("fast_ads_"+(c==="upfront_navstrip"?"navstrip":c)+"_load."+this.ad_table[c].render,csm.duration());b.expanded||this.expand_ad(a);this.clean_up_slot_metrics(a)}},is_open:function(a){return a&&"w"in a&&"h"in a&&a.w>0&&a.h>0&&a.scope!=="blank"},expand_supertab:function(){var a=l("nb15"),c=l("nb20");if(a)a.className="supertab";else if(c)c.className="supertab"},expand_top_banner:function(){var a=l("nb15");if(a)a.className="banner";else l("nb20").className=
"banner"},expand_bamf:function(a,c){generic.extend(c.style,a.bamf.style)},expand_inner_bamf:function(a){a=a.inner_bamf;var c=l(a.targetId);c&&a.node&&generic.insert_after(a.node,c)},expand_relative_bamf:function(a){a=a.relative_bamf;var c=l(a.targetId),b;if(a.relation=="insert_after")b=generic.insert_after;else if(a.relation=="insert_before")b=generic.insert_before;else if(a.relation=="insert_inside")b=generic.insert_inside;c&&a.node&&b(a.node,c)},expand_wrap:function(a){if(!a.styles)a.styles={};
generic.extend(a.styles,{"styleguide-v2":{style:{background:a.wrap}},root:{style:{"background-color":"transparent","box-shadow":"none"}},pagecontent:{style:{height:"100%"}},nb20:{style:{background:"none"}}})},expand_label:function(a){a.className=a.className.replace(/hidden/,"")},display_label:function(a){a.className=a.className.replace(/ads-invisible/,"")},collapse_label:function(a){a.className=a.className.replace(/ads-invisible/,"hidden")},log_ad_impression:function(a,c){var b="/ads/record/[scope];[slot];[aid];[cid];[ord];[time].js";
b=b.chained_replace([[/\[slot\]/g,c],[/\[ord\]/g,this.ord],[/\[time\]/g,(new Date).getTime()]]);b=b.chained_replace(a?[[/\[scope\]/g,a.scope||"0"],[/\[aid\]/g,a.aid],[/\[cid\]/g,a.cid]]:[[/\[scope\]/g,"null"]]);generic.load_script(b)},get_type_of_ad:function(a){if(!a)return"null";if(a.scope)return a.scope;return"got_ad"},show_ad_feedback:function(a){function c(){f("#ad_feedback_"+a).remove();return false}function b(t){var A=f(window),E=f(document),F=(A.width()-300)/2+E.scrollLeft();A=(A.height()-
320)/2+E.scrollTop();t.css({top:A<0?0:A,left:F})}try{var f=jQuery,g=window.frames[a],h=ad_utils.get_ad_object(g.frameElement),e,o=g.location.hash.match(/#([^;]*);/),q={adId:h?h.aid:"",cid:h?h.cid:"",page_id:window.location.href.substr(0,255),pagesubtype:o?o[1]:"",slot:a},v=q.adId+";"+q.cid+";"+q.slot,j=f("#ad_feedback_container"),p=0;f("div.dfp_slot iframe").each(function(){var t=this.id,A=ad_utils.get_ad_object(this);if(!(t in n)&&A){e=ad_utils.get_cornerstone_ad_object(t);n[t]=e?{aid:e.adId,cid:e.creativeId,
pid:e.adNetwork}:{aid:A.aid,cid:A.cid,pid:A.pid};n[t].url=A.url;n[t].dim=A.w+"x"+A.h}});f.each(n,function(t,A){q["slot_"+p]=t;q["cid_"+p]=A.cid;q["aid_"+p]=A.aid;q["pid_"+p]=A.pid;q["dim_"+p]=A.dim;q["url_"+p]=A.url;p++});if(j.length===0){j=f('<iframe id="ad_feedback_container">');j.addClass("hidden").attr({name:"ad_feedback_container",scrolling:"no",frameborder:"no",marginheight:"0",marginwidth:"0",allowtransparency:"yes"});j[0].hide=function(){f(this).addClass("hidden")};j[0].show=function(){f(this).removeClass("hidden")};
j[0].isHidden=function(){return j.hasClass("hidden")};f("body").append(j)}if(j.attr("src")===""||j.attr("ref")!==v)j.unbind().load(function(){j[0].show();b(j);f(this).unbind()}).attr("src","/ads/feedback.html#"+f.param(q)).attr("ref",v);else if(j[0].isHidden()){j[0].show();b(j)}else{j[0].hide();return false}}catch(B){consoleLog("ad feedback failure : "+B,"ads");c()}return false},report_ad_data:function(a,c){a=a;var b,f={};if(a!==top){try{for(;a.parent!==top;)a=a.parent;b=a.frameElement.id}catch(g){consoleLog("could not determine ad slot: "+
g);return}$.each("aid cid pid url dom dim".split(" "),function(h,e){if(e in c)f[e]=c[e]});n[b]=f}},ns:function(){var a={},c=function(b){return a[b]=a[b]||{}};return{register:function(b,f,g){c(typeof b==="string"?b:b.frameElement.id)[f]=g},get:c}}(),inject_ad:function(){var a={},c={},b=function(g){consoleLog(g,"inject_ad")},f={injected_navstrip:"top_ad"};return{render:function(g){var h=g.document,e=g.frameElement,o=e.id;g=l(f[o]);ad_utils.ad_table[o]={slot:o,injected:true};if(o in a){C(e,"load",function(){ad_utils.on_ad_load(this)});
h.write(a[o]);delete a[o]}else C(g,"load",function(){if(!(o in a)){b(o+" will never have an ad");ad_utils.on_ad_load(e)}});c[o]=true;b(o+" rendered")},inject:function(g,h){a[g]=h;c[g]&&l(g).contentWindow.location.reload();b(g+" injected")}}}(),weblab:function(){var a={};return{set_treatment:function(c,b){a[c]=b},get_treatment:function(c){return a[c]}}}()};this.generic={scrollers:[],should_jQuery_noConflict:window.$&&!window.jQuery,document_readys:[],one_way_send_record:[],insert_after:function(a,
c){try{c.parentNode.insertBefore(a,c.nextSibling)}catch(b){c.parentNode.appendChild(a)}},insert_before:function(a,c){c.parentNode.insertBefore(a,c)},insert_inside:function(a,c){c.appendChild(a)},extend:function(a,c){var b;for(b in c)if(typeof c[b]=="object"){if(a[b]!=c[b]){if(typeof a[b]=="undefined")a[b]={};this.extend(a[b],c[b])}}else a[b]=c[b]},override_style:function(a,c,b){a="#"+a;var f;for(f in c)c[f]+=" !important";generic.add_json_style(a,c,b)},add_json_style:function(a,c,b,f){a=a+"{";var g;
for(g in c)a+=g+":"+c[g]+";";a+="}";generic.add_css_style(a,b,f)},add_css_style:function(a,c,b){var f=["css-style-generic"],g,h;if(!c||!c.length)c="css-style-generic";else f.push(c);b||(b="a");for(h in f)if(!l(f[h])){g=document.createElement("style");g.setAttribute("type","text/css");g.id=f[h];w("head")[0].appendChild(g)}g=l(c);if(g.styleSheet&&"cssText"in g.styleSheet){a=(b==="a"?g.styleSheet.cssText:"")+a;g.styleSheet.cssText=a}else{a=(b==="a"?g.innerHTML:"")+a;try{g.innerHTML=a}catch(e){g.innerText=
a}}},add_css_file:function(a,c){c||(c="css-file-generic");var b=l(c);if(!b){b=document.createElement("link");b.setAttribute("type","text/css");b.rel="stylesheet";b.id=c;w("head")[0].appendChild(b)}b.href=a},set:function(a,c){a=a.split(":");a[0]=="cookie"?generic.cookie.set(a[1],c):generic.cache.set(a[1],c)},get:function(a){a=a.split(":");return a[0]=="cookie"?generic.cookie.get(a[1]):generic.cache.get(a[1])},erase:function(a){a=a.split(":");return a[0]=="cookie"?generic.cookie.erase(a[1]):generic.cache.erase(a[1])},
cache:{set:function(a,c){s[a]=c},get:function(a){return s[a]},erase:function(a){delete s[a]}},load_script:function(a){var c=document.createElement("script");c.type="text/javascript";c.src=a;w("head")[0].appendChild(c)},load_script_notify:function(a,c){var b=document.createElement("script"),f=false;b.type="text/javascript";b.src=a;b.onload=b.onreadystatechange=function(){var g=this.readyState;if(!(f||g&&g!="complete"&&g!="loaded")){f=true;document.body.removeChild(b);"function"===typeof c&&c(a)}};
document.body.appendChild(b)},one_way_send:function(a){imageObj=new Image(0,0);imageObj.src=a;this.one_way_send_record.push(imageObj)},extensions:{String:{chained_replace:function(a){var c=this,b;for(b=0;b<a.length;b++){var f=a[b];c=c.replace(f[0],f[1])}return c},collapse:function(a,c){for(var b=this;b.length>c;){var f=b.replace(a,"");if(f.length==b.length)break;b=f}return b}}},document_is_ready:function(){var a=generic.document_readys,c;generic.document_readys=null;for(c=0;c<a.length;c++)try{a[c](jQuery)}catch(b){}generic.should_jQuery_noConflict&&
jQuery.noConflict(false)},on_document_ready:function(a){generic.has_document_readied()?a(jQuery):generic.document_readys.push(a)},has_document_readied:function(){return generic.document_readys===null},load_when_visible:function(a,c){var b=0,f=jQuery(window),g=f.height()+f.scrollTop();if(jQuery("#"+a).length){var h=jQuery(jQuery("#"+a).get(0)),e=h.offset().top;g>e?c(a):f.scroll(function(){g=f.height()+f.scrollTop();e=h.offset().top;if(g>e&&!b){b=1;c(a)}})}else c(a)},scrolling_content:function(a,c){var b=
this;b.adCont=a;b.adHeight=0;b.numAds=0;b.currAd=0;b.oldAd=b.currAd;b.opts=c?c:{};a=function(f,g){b[f]=f in b.opts?b.opts[f]:g};a("scrollDuration",1E3);a("scrollDelay",5E3);a("scrollAuto",1);a("nowrap",0);a("before_scroll",null);b.scroll_to_current=function(){if(b.oldAd!==b.currAd){if(b.before_scroll)try{b.before_scroll()}catch(f){consoleLog(f,"scrolling_content")}var g=Math.abs(b.oldAd-b.currAd);jQuery(jQuery("#"+b.adCont+">div:first")).animate({marginTop:"-"+b.currAd*b.adHeight+"px"},b.scrollDuration*
(g?g:1))}};b.scroll_up=function(){b.stop_auto();b.oldAd=b.currAd;b.currAd--;if(b.currAd<0)b.currAd=b.nowrap?0:b.numAds-1;b.scroll_to_current()};b.scroll_down=function(){b.stop_auto();b.oldAd=b.currAd;b.currAd++;if(b.currAd>=b.numAds)b.currAd=b.opts.nowrap?b.numAds-1:0;b.scroll_to_current()};b.scroll_auto=function(){if(b.scrollAuto){b.oldAd=b.currAd;b.currAd++;if(b.currAd>=b.numAds)b.currAd=0;b.scroll_to_current();b.currAd!==0&&setTimeout(function(){b.scroll_auto()},b.scrollDelay)}};b.stop_auto=function(){b.scrollAuto=
0};jQuery("#"+b.adCont+">div").each(function(){b.numAds++;if(this.scrollHeight>b.adHeight)b.adHeight=this.scrollHeight});jQuery("#"+b.adCont+">div").css("height",b.adHeight);jQuery("#"+b.adCont).css("height",b.adHeight);setTimeout(function(){b.scroll_auto()},b.scrollDelay)},unload_plugins:function(){for(var a=[document],c,b,f,g=new RegExp("^("+location.protocol+"//"+location.hostname+")?(/.*)?$"),h=function(e){var o,q;for(o=e.length-1;o>=0;o--){q=e[o];q.parentNode.removeChild(q)}};a.length;){c=a.pop();
h(c.getElementsByTagName("object"));h(c.getElementsByTagName("embed"));c=c.getElementsByTagName("iframe");for(f=c.length-1;f>=0;f--){b=c[f];if(g.test(b.src))(b=b.contentWindow.document)&&a.push(b);else h([b])}}}};String.prototype.chained_replace=generic.extensions.String.chained_replace;String.prototype.collapse=generic.extensions.String.collapse;this.custom={amazon:{segments:null,aan_call_name:"aan_call",get_segments:function(a){if(!this.segments){var c=generic.cookie.get("us")||"";c=c.replace(/[^a-zA-Z0-9;=]/g,
"");this.segments=c.collapse(/s=[^;]*;$/,a);a=c.length-this.segments.length;a!==0&&generic.monitoring.record_metric("seg_trimmed",a)}return this.segments},load_callback:function(a){trimmed_segs=a.collapse(/s=[^;]*;$/,450);generic.cookie.set("us",trimmed_segs,7);if(this.segments===null){generic.monitoring.stop_timing(this.aan_call_name,"in_time",false);csm.measure("csm_aan_response.in_time")}else{generic.monitoring.stop_timing(this.aan_call_name,"late",false);csm.measure("csm_aan_response.late")}},
aan_iframe_oncall:function(){generic.monitoring.start_timing(custom.amazon.aan_call_name);csm.measure("csm_aan_request")}},doubleclick:{construct_url:function(a){var c=a.match(";ifb=pf;")?"pfadj":"adj";a=escape(a.substring(1,a.length));a=a.replace(d,D);a=a.chained_replace(H);var b=475-a.chained_replace([[i,""],[/^[^\;]*/,""]]).length;b=custom.amazon.get_segments(b);a=a.replace(i,b);return document.location.protocol+"//ad.doubleclick.net/"+c+"/"+a}},indirect:{close:function(a){a.location.href.match("floater")&&
custom.floater.close(a.frameElement.id)}},full_page:{style_id:"custom__full_page__generated_styles",data_url:"/images/a/js/graffiti_data.js",apply:function(a){var c=this;document.getElementById("root").style.boxShadow="none";window.generic.on_document_ready(function(){c.settings=a;"styles"in c?c._apply():window.generic.load_script_notify(c.data_url,function(){c._apply()})})},_apply:function(){var a;a=this.settings.ARGS.split(/&/);var c={},b=this,f="/* ARGS:"+this.settings.ARGS+" */\n";jQuery.each(a,
function(h,e){h=/^(.*)=(.*)$/.exec(e);if(h.length===3)c[h[1]]=unescape(h[2].replace(/\+/g," "))});a=this.invert_styles(c.treatment);jQuery.each(a,function(h,e){if(e.fixed)f+=b.format_css(e,e.fixed);else if(c[h]||e["default"])f+=b.format_css(e,c[h])});try{jQuery("style#"+this.style_id).remove();jQuery("head").append(jQuery('<style type="text/css">').attr("id",this.style_id).html(f))}catch(g){generic.add_css_style(f,this.style_id,"o")}},invert_styles:function(a){var c=["default","important","fixed"],
b={};jQuery.each(this.styles[a],function(f,g){jQuery.each(g,function(h,e){var o=b[e.name]={style:f,selector:e.selector};jQuery.each(c,function(q,v){if(e[v])o[v]=e[v]})})});return b},format_css:function(a,c){return a.selector+" { "+a.style+" : "+(c?c:a["default"])+(a.important?" !important ":"")+"}\n"}},floater:{close:function(a){generic.extend(l(a),{style:{width:"0px",height:"0px"}})},launch:function(a,c,b,f,g,h,e){var o=document.createElement("iframe");f=typeof f==="string"?l(f):f;b!="none"&&setTimeout(function(){custom.floater.close(e)},
b*1E3);generic.extend(o,{id:e,name:e,src:a,width:c[0]+"px",height:c[1]+"px",frameBorder:"0",scrolling:"no",allowTransparency:"true",style:{marginLeft:h[0]+"px",marginTop:h[1]+"px",zIndex:h[2],position:"absolute"}});g(o,f)},set:function(a,c,b,f,g,h){generic.cache.set("floater",a);a="floater_"+Math.ceil(Math.random()*9999999);custom.floater.launch("/images/a/ifb/doubleclick/indirect.html?source=cache:floater",c,b,f,g,h,a);return a}}};var u=function(a,c){return c?'<param name="'+a+'" value="'+c+'">':
""},x=function(a,c){return c?" "+a+'="'+c+'" ':""};this.flashAdUtils={makeFlashAd:function(a){var c=a.id,b=a.src,f=a.width,g=a.height,h=a.bgcolor,e=a.wmode||"opaque",o=a.salign,q=a.scale,v=a.extraParams,j=a.extraTAGs,p=a.minVersion,B=escape(a.clickThru),t=a.clickTAGs,A=function(I){return I!==null&&I!==undefined&&(I+"").length},E=function(I){return isFinite(parseInt(I,10))};a="";var F,G;if(!A(c)||!A(b)||!E(f)||!E(g))consoleLog("makeFlashAd: Missing required params","flashAdUtils");else{flashAdUtils.canPlayFlash(p)||
consoleLog("makeFlashAd: Current flash version too low","flashAdUtils");if(t)for(p=0;p<t.length;p++)if(t[p])a=a+"&clickTAG"+(p+1)+"="+escape(t[p]);if(j)for(F in j)a=a+"&"+escape(F)+"="+escape(j[F]);a+="&ord="+ad_utils.ord;F=j="";try{p={width:1,height:1,src:1,bgcolor:1,wmode:1,salign:1,scale:1,flashvars:1};for(G in v)if(!p[G]){j+=u(G,v[G]);F+=x(G,v[G])}}catch(J){}v=u("bgcolor",h);h=x("bgcolor",h);G=u("wmode",e);e=x("wmode",e);p=u("scale",q);q=x("scale",q);t=u("salign",o);o=x("salign",o);return'<object  classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"  width="'+
f+'"  height="'+g+'"  id="swf_'+c+'"><param name="movie" value="'+b+'"><param name="flashvars" value="env=WEB&clickTAG='+B+"&"+a+'"><param name="play" value="true"><param name="quality" value="high"><param name="allowScriptAccess" value="always">'+p+t+v+G+j+'<!--HACK--\><div style="margin-left:0.1px"><embed src="'+b+'"  flashvars="env=WEB&clickTAG='+B+"&"+a+'"  quality="high"  play="true"  width="'+f+'"  height="'+g+'"  name="swf_'+c+'"  allowScriptAccess="always"  type="application/x-shockwave-flash"  pluginspage="http://www.macromedia.com/go/getflashplayer" '+
q+o+h+e+F+"></embed></div></object>"}},canPlayFlash:function(a){var c=false,b=parseInt(a,10);a=!a||b<9?9:b;if((navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]?navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin:0)&&navigator.plugins["Shockwave Flash"]){c=navigator.plugins["Shockwave Flash"].description.split(" ");var f;for(b=0;b<c.length;++b)isNaN(parseInt(c[b],10))||(f=parseInt(c[b],10));c=f>=a}else if(navigator.userAgent&&navigator.userAgent.indexOf("MSIE")>=
0&&navigator.appVersion.indexOf("Win")!==-1)try{var g=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+a);g.AllowScriptAccess="always";c=g.GetVariable("$version").match(/([0-9]+)/)[1]>=a}catch(h){}return c}};document.getElementsByTagName("html")[0].className+=" scriptsOn";generic.on_document_ready(function(a){a(window).load(function(){m.store()})});(function(){generic.on_document_ready(function(){var a=ad_utils.weblab.get_treatment("unload flash"),c=csm.duration();a==="treatment"&&C(window,"unload",
function(){generic.unload_plugins()});if(window.IMDbTimer&&a){if(window.IMDbTimer.clicktoresponse)generic.monitoring.record_metric("click_to_ready."+(a==="control"?"normal":"flashunloaded"),c+window.IMDbTimer.clicktoresponse);generic.monitoring.record_metric("flash_unload."+a,c)}})})();k&&generic.on_document_ready(function(){generic.monitoring.record_metric("ads_js_response",k)})})();(function(){generic=window.generic||{};generic.extended_split=function(k,y,r){for(var l=[],w=0,z;!r||l.length<r-1;){z=k.indexOf(y,w);if(z===-1)break;l.push(k.substring(w,z));w=z+y.length}l.push(k.substring(w));return l};generic.object_from_querystring=function(k){var y=k.split("&"),r={},l;if(k==="")return{};for(k=0;k<y.length;k++){l=generic.extended_split(y[k],"=",2);r[l[0]]=l.length===1?null:decodeURIComponent(l[1])}return r};generic.cookie={set:function(k,y,r){var l,w;if(r){w=new Date;w.setTime(w.getTime()+
r*24*60*60*1E3);r="; expires="+w.toGMTString()}else r="";l=document.location.host.split(".");w=l.pop();l=l.pop();document.cookie=k+"="+escape(y)+r+"; path=/; domain="+l+"."+w},get:function(k){var y=document.cookie.split(";"),r,l;for(r=0;r<y.length;r++)if(typeof y[r]=="string"){l=y[r].split("=");if(l[0]&&l[1]&&l[0].replace(/\s/,"")==k)return unescape(l[1])}return null},erase:function(k){this.set(k,"",-1)}}})();(function(){var k=window.generic=window.generic||{},y="IMDbTimer"in window?window.IMDbTimer.starttime:NaN,r=document.location.hash.match("debug=1"),l=r||!isNaN(y)&&Math.random()<0.25,w=r||Math.random()<0.1,z=function(){var d={top_ad:{iframe:undefined,request:undefined,reflow:undefined,tagdeliver:undefined,load:undefined},top_rhs:{iframe:undefined,request:undefined,reflow:undefined,tagdeliver:undefined,load:undefined},upfront_navstrip:{iframe:undefined,request:undefined,reflow:undefined,tagdeliver:undefined,
load:undefined},bottom_ad:{iframe:undefined,request:undefined,reflow:undefined,tagdeliver:undefined,load:undefined}},i={top_ad:undefined,top_rhs:undefined,upfront_navstrip:undefined,bottom_ad:undefined},s={top_ad:1,top_rhs:1,upfront_navstrip:1,bottom_ad:2},n={top_ad:1,top_rhs:1,upfront_navstrip:1,bottom_ad:1};forester_events={reflow:1,"ad-delivery":1,load:1};k.on_document_ready(function(m){m(window).bind("beforeunload",function(){var u,x;for(u in d){x=d[u];x.request&&x.load===undefined&&k.monitoring.record_event("ad_load_failure."+
u)}k.monitoring.send_metrics()})});return{is_slot_monitored:function(m){return m in s||m in n},is_twilight_slot:function(m){return m in s},is_twilight_core_slot:function(m){return m in s&&s[m]===1},is_forester_slot:function(m){return m in n},is_forester_event:function(m,u){return this.is_forester_slot(m)&&u in forester_events},set_metric_value:function(m,u,x){d[m][u]=x},get_metric_value:function(m,u){if(m in d)return d[m][u]},get_core_slots_duration:function(m){var u=0,x;for(x in s)if(this.is_twilight_core_slot(x)){if(undefined===
this.get_metric_value(x,m))return null;u=Math.max(u,this.get_metric_value(x,m))}return u},set_remnant_partner:function(m,u){i[m]=u;return this},get_remnant_partner:function(m){return i[m]}}}(),C="http://www.imdb.com/twilight/?",D=function(){var d=function(){return{prepare_and_send_metric:function(n,m,u,x){s({slot:m,ad_network_name:"DART",aid:n.aid,cid:n.cid,slot_event:u,time:x})}}}(),i=function(){return{prepare_and_send_metric:function(n,m,u){var x,a=20,c;c=function(){if(x=ad_utils.get_cornerstone_ad_object(n))s({slot:n,
ad_network_name:"PDA",aid:x.adId,cid:x.creativeId,slot_event:m,time:u});else--a&&setTimeout(c,100)};c()}}}(),s=function(n){var m,u,x,a,c;if(w&&z.is_forester_slot(n.slot)){m=ad_utils.get_mapped_amazon_slot_name(n.slot);u=page_type;x=n.ad_network_name;a=n.aid;c=n.cid;n='{"s":"imdb","l":"'+m+'","p":"'+u+'","n":"'+x+'","a":"'+a+'","c":"'+c+'","m":"'+n.slot_event+'","v":"'+n.time+'"}';r&&consoleLog(n+" metrics sent","forester");k.one_way_send("http://fls-na.amazon.com/1/display-ads-cx/1/OP/?LMET"+escape(n))}};
return{send_forester_metric:function(n,m,u,x){d.prepare_and_send_metric(n,m,u,x);i.prepare_and_send_metric(m,u,x)},set_page_type:function(n){page_type=n}}}();this.csm={measure:function(d,i){this.record(d,this.duration(),i)},record:function(d,i,s,n){if(l&&!csm.metrics[d]){csm.metrics[d]=i;k.monitoring.record_metric(d+(n?n:""),csm.metrics[d],s)}},duration:function(){return(new Date).getTime()-y},metrics:{}};k.monitoring={event_starts:{},event_stops:{},events_to_stop:0,event_duration:{},event_counters:[],
all_events_started_flag:false,twilight_info:"",twilight_client:function(){var d=navigator.userAgent,i;if((i=d.match(/MSIE (\d+)/))&&i[1]>=6)return"ie"+i[1];if(i=d.match(/Mac OS.*Firefox\/(\d+)/))return i[1]==="3"?"firefox3-mac":"firefox-mac";if(i=d.match(/Firefox\/(\d+)/))return i[1]==="3"?"firefox3":"firefox";if(d.indexOf("Chrome")!==-1)return"chrome";if(d.indexOf("Safari")!==-1)return"safari";if(d.indexOf("Opera")!==-1)return"opera";return"Other"}(),isTwilightActiveSample:l,page_type:"",start_timing:function(d){this.start_timing_at(d,
(new Date).getTime())},start_timing_at:function(d,i){this.event_starts[d]=i;this.events_to_stop++},stop_timing:function(d,i,s){var n=(new Date).getTime(),m=d;if(this.event_starts[d]){this.event_stops[d]=n;if(i)m+="."+i;this.record_metric(m,n-this.event_starts[d]);delete this.event_starts[d];this.events_to_stop--;if(s||this.all_events_started_flag&&this.events_to_stop===0)this.send_metrics()}},record_event:function(d,i){this.event_counters.push(d);consoleLog(d,"twilight");i&&this.send_metrics()},record_metric:function(d,
i,s){this.event_duration[d]=i;consoleLog(d+","+i,"twilight");s&&this.send_metrics()},send_metrics:function(){var d=C+this.twilight_info,i=1,s;for(s in this.event_duration){d+="&Operation."+i+"="+s;d+="&OperationTiming."+i+"="+this.event_duration[s];i++}this.event_duration={};if(!(i===1&&this.event_counters.length===0)){for(i=0;i<this.event_counters.length;i++)d+="&Counter."+(i+1)+"="+this.event_counters[i];this.event_counters=[];d+="&ord="+ad_utils.ord;k.one_way_send(d);consoleLog("metrics sent",
"twilight")}},set_twilight_info:function(d,i,s,n,m){if(IMDbTimer.pt==="java")d+=".java";this.twilight_info="PageType="+d+"&Geo="+i+"&tw_ord="+s+"&timestamp="+n+"&Client="+this.twilight_client;C=m},set_forester_info:function(d){D.set_page_type(d)},all_events_started:function(){this.all_events_started_flag=true},set_remnant_partner:function(d,i){z.set_remnant_partner(d.frameElement.id,i)},update_slot_metrics:function(d,i,s){var n,m=document.getElementById(d);n=m?m.contentWindow.document.ad:null;m="load"===
i&&z.get_remnant_partner(d)?"."+z.get_remnant_partner(d):"";if(!(!d||!z.is_slot_monitored(d)||z.get_metric_value(d,i))){z.set_metric_value(d,i,undefined!==s?s:csm.duration());s=z.get_metric_value(d,i);if(n&&z.is_forester_event(d,i)){D.send_forester_metric(n,d,i,s);i==="load"&&D.send_forester_metric(n,d,"ad-delivery",z.get_metric_value(d,"load")-z.get_metric_value(d,"request"))}if(z.is_twilight_slot(d)){n=d==="upfront_navstrip"?"navstrip":d;csm.record("csm_"+n+"_"+i,s,0,m);"load"===i&&""!==m&&csm.record("csm_"+
n+"_deliver",s-z.get_metric_value(d,"tagdeliver"),0,m);d==="bottom_ad"&&i==="load"&&csm.record("csm_"+n+"_timeout",s,0,H.get_level_for_load(page_type,s));if(z.is_twilight_core_slot(d)){d=z.get_core_slots_duration(i);d!==null&&csm.record("csm_core_ads_"+i,d)}}}}};var H=function(){return{get_level_for_load:function(d,i){d={homepage:[1200,3600],title:[1400,4600],name:[1500,4200]}[d];var s=[1200,3600];d||(d=s);return i<d[0]?".1":i<d[1]?".2":".3"}}}();k.on_document_ready(function(d){d(window).bind("beforeunload",
function(){var i=(document.location+"").split("#",2)[0];window.name="clicktoresponse:"+(new Date).getTime()+":"+i});if(k.monitoring.isTwilightActiveSample){csm.measure("csm_ready");d(window).load(function(){csm.measure("csm_load",true)});d("div.dfp_slot").each(function(){k.monitoring.record_event("dfp_slot")});d=parseInt(d("#servertime").attr("time"),10);isNaN(d)||k.monitoring.record_metric("csm_server",d)}});(function(){if(document.location.protocol==="http:"){var d=window.name.match(/^clicktoresponse:(\d+):(.*)$/);
if(d){if(document.referrer===d[2]&&IMDbTimer){d=IMDbTimer.starttime-d[1];IMDbTimer.clicktoresponse=d;k.monitoring.record_metric("click_to_response",d)}window.name=""}}})()})();var $$FSR={timestamp:"March 19, 2012 @ 11:24 AM",version:"11.3.0",enabled:true,sessionreplay:true,auto:true,encode:false,files:"/images/a/foresee/",id:"F7CwY6EhDVagBMK5Os76kQ==",definition:"foresee-surveydef.js",embedded:false,replay_id:"imdb.com",renderer:"W3C",layout:"CENTERFIXED",sites:[{path:/\w+-?\w+\.(com|org|edu|gov|net|co\.uk)/},{path:".",domain:"default"}],storageOption:"cookie"};
(function(k,y,r){for(var l=k.sites,w=0,z=l.length;w<z;w++){var C;"[object Array]"!==Object.prototype.toString.call(l[w].path)&&(l[w].path=[l[w].path]);for(var D=0,H=l[w].path.length;D<H;D++)if(C=r.location.href.match(l[w].path[D])){k.siteid=w;k.site=k.sites[w];k.site.domain?"default"==k.site.domain&&(k.site.domain=null):(k.site.domain=C[0]);k.site.secure||(k.site.secure=null);k.site.name||(k.site.name=C[0]);break}if(C)break}l={b:function(d){d=(d=r.cookie.match("(?:^|;)\\s*"+d.replace(/([-.*+?^${}()|[\]\/\\])/g,
"\\$1")+"=([^;]*)"))?d[1]:null;k.encode&&(d=d?decodeURIComponent(d):null);return d},a:function(){r.cookie="fsr.a"+(k.site.cookie?"."+k.site.cookie:"")+"="+(new Date).getTime()+";path=/"+(k.site.domain?";domain="+k.site.domain+";":";")+(k.site.secure?"secure":"")}};if(!l.b("fsr.a"+(k.site.cookie?"."+k.site.cookie:""))){l.a();y.fsr$timer=setInterval(l.a,1E3);r.cookie="fsr.paused=1;path=/"+(k.site.domain?";domain="+k.site.domain+";":";")+(k.site.secure?"secure":"")}})($$FSR,window,window.document);
