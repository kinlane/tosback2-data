(function(){window.generic=window.generic||{};window.generic.install=function(s,n){var q;for(q in n)if(n.hasOwnProperty(q))s[q]=n[q]}})();(function(s){s.install(s,{document_readys:[],document_is_ready:function(){var n=s.document_readys,q;s.document_readys=null;for(q=0;q<n.length;q++)try{n[q](jQuery)}catch(v){}s.should_jQuery_noConflict&&jQuery.noConflict(false)},on_document_ready:function(n){s.has_document_readied()?n(jQuery):s.document_readys.push(n)},has_document_readied:function(){return s.document_readys===null}})})(window.generic);function consoleLog(s,n){var q=window.consoleLog,v=document.location,y=v.host.match(/^(m|www|uk).imdb.[a-z]+$/);v=v.hash.match("debug=1");if(n)(q[n]=q[n]||[]).push(s);else n="global";(q.global=q.global||[]).push(n+" : "+s);try{!v&&y||window.console&&window.console.log&&window.console.log(n+" : "+s)}catch(j){}};document.getElementsByTagName("html")[0].className+=" scriptsOn";(function(){var s=window.ads_js_start?(new Date).getTime()-window.ads_js_start:null,n=document,q=navigator.userAgent,v=/MSIE/.test(q),y=/Firefox/.test(q),j=window.generic,N={top_ad:"t",top_rhs:"tr"},x=document.all?function(a){return document.all[a]}:function(a){return document.getElementById(a)},L=function(a){return document.getElementsByTagName(a)},K=function(a){return x(a).contentWindow.document},H=function(a,b,c){a.attachEvent?a.attachEvent("on"+b,function(){c.apply(a,arguments)}):a.addEventListener(b,
c,false)},S=Math.random()*1E16,V=[[/%3B/g,";"],[/%3D/g,"="],[/%2C/g,","],[/%3F/g,"?"]],T=/(\[|%5B)CLIENT_SIDE_ORD(\]|%5D)/g,f=/(\[|%5B)PASEGMENTS(\]|%5D)/,k=/(\[|%5B)CLIENT_SIDE_KEYVALUES(\]|%5D)/,p={},l={},w=function(){var a,b,c=function(){var o="{";if(b){if("h"in b)o+=d("h");if("h"in b&&"n"in b)o+=",";if("n"in b)o+=d("n")}o+="}";j.cookie.set("as",o,j.days_to_midnight||1)},d=function(o){var m="";jQuery.each(b[o],function(D,B){m+='"'+D+'":['+e(B[0])+","+e(B[1])+"],"});return'"'+o+'":{'+m.substr(0,
m.length-1)+"}"},h=function(){var o=j.cookie.get("as");if(o)try{b=jQuery.parseJSON(o);a=a||b||{}}catch(m){a=a||(b={})}},e=function(o){o=parseInt(o,10);return isFinite(o)?o:0},g=function(){return document.location.pathname==="/"?"h":"n"},u=function(o){var m=ad_utils.get_ad_object(o[0]);return o.css("display")==="none"?0:parseInt(m.w,10)},E=function(o,m){var D=0,B=ad_utils.get_ad_object(o[0]);B=parseInt(B.h,10);if(m==="top_ad")if(jQuery("#nb20").hasClass("banner"))D=-5;else{if(jQuery("#nb20").hasClass("supertab"))D=
-15}else if(m==="injected_billboard")D=20;if("swfAutoMaxHeight"in o[0].contentWindow)B=o[0].contentWindow.swfMinHeight;return o.css("display")==="none"?0:B+D},r={top_ad:"t",top_rhs:"tr",injected_navstrip:"in",injected_billboard:"ib"};return{store:function(){j.on_document_ready(function(o){var m;try{h();b=b||{};m=b[g()]||{};o.each(r,function(B,F){var C=o("#"+B);if(C.length!==0)m[F]=[u(C,B),E(C,B)]});b[g()]=m;c()}catch(D){consoleLog("Failed to store ad size cookie "+D.toString(),"ads")}})}}}(),t=function(){var a=
function(c,d){c=c.contentWindow?c.contentWindow.document:c.contentDocument;y||c.open("text/html","replace");c.write("<body>"+d+"<script>document.close()<\/script></body>")},b=function(c,d){var h="__srcless_"+Math.floor(Math.random()*68719476735).toString(36),e="<body><script>document.write(parent.ad_utils."+h+");delete parent.ad_utils."+h+";<\/script></body>";ad_utils[h]=d;c.src="javascript:unescape('"+escape(e)+"')"};return{inject_slot:function(c,d){d="<style>body{background:transparent;}</style>"+
d+'<script>document.write("<script defer>parent.ad_utils.ad_table.'+c.id+'.fired=true;<\\/script>");<\/script>';v?b(c,d):a(c,d)}}}();this.ad_utils={ord:S,ord_regex:T,current_tile:1,tile_regex:/(\/|;)!TILE!(;|\?)/,tile_fn:function(){return";tile="+ad_utils.current_tile++ +";"},ad_table:{},ad_queue:[],queue_ad:function(a,b){var c=this.ad_queue;a={tile:a,slot:b,prev:c.length>0?c[c.length-1].slot:null};c.push(a);j.monitoring.update_slot_metrics(b,"iframe");this.ad_table[b]=a},register_ad:function(a){j.monitoring.update_slot_metrics(a,
"iframe");this.ad_table[a]={slot:a}},render_ad_fast:function(a){var b={control:0,delay_low:25,delay_mid:50,delay_high:100}[ad_utils.weblab.get_treatment("master/companion latency")];if(/^\/name\/nm\d+\/(maindetails)?$/.test(document.location.pathname)&&a==="top_rhs"&&b!==undefined){consoleLog("delaying TOP_RHS ad call by "+b+"ms");setTimeout(function(){ad_utils.render_ad_fast_inner(a)},b)}else ad_utils.render_ad_fast_inner(a)},render_ad_fast_inner:function(a){var b=n.getElementById(a),c=b.contentWindow,
d=b.getAttribute("data-dart-params");d=d?d.replace(ad_utils.tile_regex,ad_utils.tile_fn):undefined;d=b.getAttribute("data-override-url")||custom.doubleclick.construct_url(d);var h=b.getAttribute("data-bid-url"),e=/^http/.test(h),g=ad_utils.weblab.get_treatment("DTB/AAX Bid")==="treatment";d='<script src="'+d+'"><\/script>'+(e&&g?'<script>var bid_start = new Date().getTime();\nvar bid_time;\nvar bidOnLoad = function(){bid_time = new Date().getTime() - bid_start;}<\/script><script src="'+h+"&cb="+S+
"\" onload=\"bidOnLoad();\"><\/script><script>\nif (document.serveCornerstone){\nif (document.amzn_ads){parent.generic.monitoring.record_metric('dtb_bid.win',bid_time);document.ad = document.cornerstoneAd;\nfor(var prop in document.amzn_ads){\n document.write(document.amzn_ads[prop]);}\n}else{parent.generic.monitoring.record_metric('dtb_bid.void',bid_time);}}<\/script>":"");h=ad_utils.inject_ad.get_injectable_slots(a);j.monitoring.start_timing(a);j.monitoring.update_slot_metrics(a,"request");for(e=
0;e<h.length;e++){j.monitoring.start_timing(h[e]);j.monitoring.update_slot_metrics(h[e],"request")}t.inject_slot(b,d);c.show_ad_feedback=function(){j.on_document_ready(function(){ad_utils.show_ad_feedback(a)})};c.d16g_external_callback=function(u){n.ad=u;ad_utils.expand_ad(b)}},render_ad:function(a,b,c){var d=this.ad_queue,h=b.frameElement.id;this.ad_table[h]||(this.ad_table[h]={slot:h});var e=this.ad_table[h].prev,g=a.location.hash;c=c||custom.doubleclick.construct_url(g);b.show_ad_feedback=function(){j.on_document_ready(function(){ad_utils.show_ad_feedback(h)})};
b.d16g_external_callback=function(r){a.ad=r;ad_utils.expand_ad(b.frameElement)};try{if(d.length===0||d[0].slot==h){if(e)this.ad_table[e].onFireAd=null;d.shift();this.ad_table[h].fired=true;this.ad_table[h].render="normal";try{j.monitoring.start_timing(h);j.monitoring.update_slot_metrics(h,"request")}catch(u){consoleLog("start_timing failed: "+u.toString(),"ads")}a.write('<script src="'+c+'" type="text/javascript"><\/script>');this.ad_table[h].onFireAd&&this.ad_table[h].onFireAd()}else if(e)this.ad_table[e].onFireAd=
function(){b.location.reload()}}catch(E){a.write('<script src="'+c+'" type="text/javascript"><\/script>')}},resize_iframe:function(a){this.expand_ad(a)},expand_ad:function(a){var b=this,c=a.id,d=a.height,h=a.width;if(!("expand_called"in this.ad_table[c])){var e=a.parentNode.id,g=this.get_ad_object(a),u=x(c+"_before"),E=x(c+"_after"),r,o=csm.duration(),m=x(c+"_reflow_helper"),D=m!==null?m.offsetTop:null;if(c+"_wrapper"!==e)if(!j.has_document_readied()){j.on_document_ready(function(){b.expand_ad(a)});
return}if(this.ad_table&&this.ad_table[c]){this.ad_table[c].expanded=1;if(g){if(!document.ads)document.ads={};document.ads[g.cid]=g;if("w"in g)a.width=parseInt(g.w,10);if("h"in g)a.height=parseInt(g.h,10);if("z"in g&&g.z){a.parentNode.style.zIndex=g.z;a.parentNode.style.position="relative"}if(g.st)this.expand_supertab(g);else if(g.bb)this.expand_billboard(g);else a.id==="top_ad"&&this.is_open(g)&&!g.clickroll&&!g.overlay&&this.expand_top_banner();g.wrap&&this.expand_wrap(g);g.bamf&&this.expand_bamf(g,
a);g.inner_bamf&&this.expand_inner_bamf(g);g.relative_bamf&&this.expand_relative_bamf(g);if(this.is_open(g)){u&&this.display_label(u);E&&this.display_label(E)}else this.collapse_ad(a);if(g.styles)for(r in g.styles)j.override_style(r,g.styles[r].style)}this.ad_table[c].expand_called=1;j.on_document_ready(function(B){B(a).trigger("expand_ad")});d===a.height&&h===a.width?j.monitoring.update_slot_metrics(c,"reflow",0):setTimeout(function(){var B=c==="top_ad"&&ad_utils.is_open(g)&&!g.st?10:0;m!==null&&
m.offsetTop===D+B?j.monitoring.update_slot_metrics(c,"reflow",0):j.monitoring.update_slot_metrics(c,"reflow",o)},10);j.monitoring.update_slot_metrics(c,"tagdeliver",o);w.store();document.body.className=document.body.className}}},get_ad_object:function(a){a=a.id;var b=K(a),c=null;try{c=b.ad}catch(d){consoleLog("Cannot access ad parameters: "+d.toString(),"ads")}if(c){if(!("pid"in c))c.pid="DFP";if(!("url"in c))c.url="http://ad.doubleclick.net/adi/d16g-sec.preview/;cid="+("cid"in c?c.cid:"")}else{var h=
0,e=0;c=["img","object","embed","iframe"];var g,u,E;for(u in c){E=b.getElementsByTagName(c[u]);for(g=0;g<E.length;g++){var r=E[g],o;o=r.scrollWidth||r.width;r=r.scrollHeight||r.height;if(o&&o>1)h=Math.max(h,parseInt(o,10));if(r&&r>1)e=Math.max(e,parseInt(r,10));consoleLog(a+" : estimated size : "+o+","+r,"ads")}}c={w:h.toString(),h:e.toString(),pid:"",url:"",aid:"0",cid:"0"};if(h===0||e===0)c.scope="null"}return b.ad=c},get_cornerstone_ad_object:function(a){a=N[a]+"adData";if("aanResponse"in top.document&&
a in top.document.aanResponse)return top.document.aanResponse[a];return null},get_mapped_amazon_slot_name:function(a){return N[a]?N[a]:a},clean_up_slot_metrics:function(a){var b=a.id,c=K(b);a=this.get_ad_object(a);try{j.monitoring.stop_timing(b,this.get_type_of_ad(a),true)}catch(d){consoleLog("stop_timing failed: "+d.toString(),"ads")}c.location.href.match(/\/ads\/request\//)&&this.log_ad_impression(a,b)},on_ad_load:function(a){var b=a.id,c=this.get_ad_object(a),d=this.ad_table[b];if(!d||!d.fired)consoleLog("deflected spurious onload event for "+
b,"on_ad_load");else{d.loaded=true;if(c.scope==="blank"||c.scope==="null")a.getAttribute("data-original-width")==="0"&&a.getAttribute("data-original-height")==="0"?j.monitoring.update_slot_metrics(b,"load",0):j.monitoring.update_slot_metrics(b,"load",j.monitoring.get_metric_value(b,"reflow"));else j.monitoring.update_slot_metrics(b,"load");j.monitoring.update_slot_metrics(b,"trueload");d.expanded||this.expand_ad(a);this.clean_up_slot_metrics(a);this.ad_load.loaded(b)}},ad_load:function(){var a={};
return{loaded:function(b){var c=a[b];if(c)for(b=0;b<c.length;b++)c[b]()},listen:function(b,c){ad_utils.ad_table[b]&&ad_utils.ad_table[b].loaded?setTimeout(c,0):(a[b]=a[b]||[]).push(c)}}}(),is_open:function(a){return a&&"w"in a&&"h"in a&&a.w>0&&a.h>0&&a.scope!=="blank"},expand_supertab:function(){var a=x("nb15"),b=x("nb20");if(a)a.className="supertab";else if(b)b.className="supertab"},expand_billboard:function(a){function b(){var A=j.cookie.get(O),I=A&&A.split(/o|c/);A=A&&A.split(/\d*/);var U={},P;
if(I&&A){A[0]===""&&A.shift();for(P=0;P<A.length;++P)U[I[P]]=A[P]}R=U}function c(){var A="",I;for(I in R)if(R.hasOwnProperty(I))A+=I+R[I];j.cookie.set(O,A,j.days_to_midnight||1)}function d(A,I){var U=m.createElement("div");A=A.getElementsByTagName(I);var P,W="";for(I=0;I<A.length;++I){P=A[I];P.parentNode.removeChild(P);U.appendChild(P);W+=U.innerHTML;U.removeChild(P)}return W}function h(){parseInt(r.style.height,10)!==parseInt(m.ad.h,10)&&r.contentWindow.minimize();r.style.display="none";M.style.display=
"block";b();R[a.aid]="c";c();J="";J+=d(m,"object");J+=d(m,"embed");w.store()}function e(){M.style.display="none";r.style.display="block";b();R[a.aid]="o";c();if(J)B.innerHTML=J+B.innerHTML;m.getElementById("billboard_close_button").onclick=h;w.store()}function g(A){A=A;for(var I=0;A;){I+=A.offsetTop;A=A.offsetParent}return I}function u(){if(!F)return false;var A=F.parentElement||F.parentNode,I=x("injected_billboard_reflow_helper");return A&&I&&(A.offsetTop===I.offsetTop||g(A)===g(I))}var E=document,
r=x("injected_billboard"),o=r.parentElement||r.parentNode,m=r.contentWindow.document,D=m.getElementsByTagName("body"),B=D.length===1?D[0]:m.createElement("body"),F=x("top_rhs_wrapper");D=a.bb_close;var C=a.bb_show,O="ax",J,R,M,Q;if(!o)return false;o.className=(o.className?o.className+" ":"")+"billboard";if(a.bb===1){Q=m.createElement("div");Q.id="billboard_close_button";Q.style.cssFloat="right";Q.style.cursor="pointer";Q.style.position="absolute";Q.style.top=0;Q.style.right=0;Q.innerHTML=D;Q.onclick=
h;B.appendChild(Q);M=E.createElement("div");M.id="billboard_show_button";M.innerHTML=C;M.onclick=e;u()?(F.parentElement||F.parentNode).insertBefore(M,F):(o.parentElement||o.parentNode).insertBefore(M,(o.parentElement||o.parentNode).firstChild);b();a.aid in R&&R[a.aid]==="c"&&h()}return true},expand_top_banner:function(){var a=x("nb15");if(a)a.className="banner";else x("nb20").className="banner"},expand_bamf:function(a,b){j.extend(b.style,a.bamf.style)},expand_inner_bamf:function(a){a=a.inner_bamf;
var b=x(a.targetId);b&&a.node&&j.insert_after(a.node,b)},expand_relative_bamf:function(a){a=a.relative_bamf;var b=x(a.targetId),c;if(a.relation=="insert_after")c=j.insert_after;else if(a.relation=="insert_before")c=j.insert_before;else if(a.relation=="insert_inside")c=j.insert_inside;b&&a.node&&c(a.node,b)},expand_wrap:function(a){if(!a.styles)a.styles={};j.extend(a.styles,{"styleguide-v2":{style:{background:a.wrap}},root:{style:{"background-color":"transparent","box-shadow":"none"}},pagecontent:{style:{height:"100%"}},
nb20:{style:{background:"none"}}})},expand_label:function(a){a.className=a.className.replace(/hidden/,"")},display_label:function(a){a.className=a.className.replace(/ads-invisible/,"")},collapse_ad:function(a){var b=a.id,c=function(d){if(d=x(d))d.className="hidden"};a.style.display="none";c(b+"_before");c(b+"_after")},log_ad_impression:function(a,b){var c="/ads/record/[scope];[slot];[aid];[cid];[ord];[time].js";c=c.chained_replace([[/\[slot\]/g,b],[/\[ord\]/g,this.ord],[/\[time\]/g,(new Date).getTime()]]);
c=c.chained_replace(a?[[/\[scope\]/g,a.scope||"0"],[/\[aid\]/g,a.aid],[/\[cid\]/g,a.cid]]:[[/\[scope\]/g,"null"]]);j.load_script(c)},get_type_of_ad:function(a){if(!a)return"null";if(a.scope)return a.scope;return"got_ad"},show_ad_feedback:function(a){function b(){d("#ad_feedback_"+a).remove();return false}function c(F){var C=d(window),O=d(document),J=(C.width()-300)/2+O.scrollLeft();C=(C.height()-320)/2+O.scrollTop();F.css({top:C<0?0:C,left:J})}try{var d=jQuery,h=document.getElementById(a),e=h.contentWindow,
g=ad_utils.get_ad_object(h),u,E=e.location.hash.match(/#([^;]*);/),r={adId:g?g.aid:"",cid:g?g.cid:"",page_id:window.location.href.substr(0,255),pagesubtype:E?E[1]:"",slot:a},o=r.adId+";"+r.cid+";"+r.slot,m=d("#ad_feedback_container"),D=0;d("div.dfp_slot iframe").each(function(){var F=this.id,C=ad_utils.get_ad_object(this);if(!(F in l)&&C){u=ad_utils.get_cornerstone_ad_object(F);l[F]=u?{aid:u.adId,cid:u.creativeId,pid:u.adNetwork}:{aid:C.aid,cid:C.cid,pid:C.pid};l[F].url=C.url;l[F].dim=C.w+"x"+C.h}});
d.each(l,function(F,C){r["slot_"+D]=F;r["cid_"+D]=C.cid;r["aid_"+D]=C.aid;r["pid_"+D]=C.pid;r["dim_"+D]=C.dim;r["url_"+D]=C.url;D++});if(m.length===0){m=d('<iframe id="ad_feedback_container">');m.addClass("hidden").attr({name:"ad_feedback_container",scrolling:"no",frameborder:"no",marginheight:"0",marginwidth:"0",allowtransparency:"yes"});m[0].hide=function(){d(this).addClass("hidden")};m[0].show=function(){d(this).removeClass("hidden")};m[0].isHidden=function(){return m.hasClass("hidden")};d("body").append(m)}if(m.attr("src")===
""||m.attr("ref")!==o)m.unbind().load(function(){m[0].show();c(m);d(this).unbind()}).attr("src","/ads/feedback.html#"+d.param(r)).attr("ref",o);else if(m[0].isHidden()){m[0].show();c(m)}else{m[0].hide();return false}}catch(B){consoleLog("ad feedback failure : "+B,"ads");b()}return false},report_ad_data:function(a,b){a=a;var c,d={};if(a!==top){try{for(;a.parent!==top;)a=a.parent;c=a.frameElement.id}catch(h){consoleLog("could not determine ad slot: "+h);return}$.each("aid cid pid url dom dim".split(" "),
function(e,g){if(g in b)d[g]=b[g]});l[c]=d}},ns:function(){var a={},b=function(c){return a[c]=a[c]||{}};return{register:function(c,d,h){b(typeof c==="string"?c:c.frameElement.id)[d]=h},get:b}}(),inject_ad:function(){var a={},b={},c={},d=function(e){consoleLog(e,"inject_ad")},h={injected_billboard:"top_ad",injected_navstrip:"top_ad"};return{render:function(e){var g=x(e),u=a[e];if(!c[e]){d(e+" rendered");c[e]=1;ad_utils.ad_table[e]={slot:e,injected:true};u?t.inject_slot(g,u):t.inject_slot(g,'<script>document.ad = {h:"0",w:"0",scope:"blank"}<\/script>')}},
register:function(e){var g=h[e],u=this;d(e+" registered");b[e]=1;ad_utils.ad_load.listen(g,function(){u.render(e)});j.monitoring.update_slot_metrics(e,"iframe")},inject:function(e,g){d(e+" injected");a[e]=g;b[e]&&this.render(e)},get_injectable_slots:function(e){var g=[],u;for(u in h)h[u]===e&&g.push(u);return g}}}(),weblab:function(){var a={};return{set_treatment:function(b,c){a[b]=c},get_treatment:function(b){return a[b]}}}()};j.install(j,{should_jQuery_noConflict:window.$&&!window.jQuery,one_way_send_record:[],
insert_after:function(a,b){try{b.parentNode.insertBefore(a,b.nextSibling)}catch(c){b.parentNode.appendChild(a)}},insert_before:function(a,b){b.parentNode.insertBefore(a,b)},insert_inside:function(a,b){b.appendChild(a)},extend:function(a,b){var c;for(c in b)if(typeof b[c]=="object"){if(a[c]!=b[c]){if(typeof a[c]=="undefined")a[c]={};this.extend(a[c],b[c])}}else a[c]=b[c]},override_style:function(a,b,c){a="#"+a;var d;for(d in b)b[d]+=" !important";j.add_json_style(a,b,c)},add_json_style:function(a,
b,c,d){a=a+"{";var h;for(h in b)a+=h+":"+b[h]+";";a+="}";j.add_css_style(a,c,d)},add_css_style:function(a,b,c){var d=["css-style-generic"],h,e;if(!b||!b.length)b="css-style-generic";else d.push(b);c||(c="a");for(e in d)if(!x(d[e])){h=document.createElement("style");h.setAttribute("type","text/css");h.id=d[e];L("head")[0].appendChild(h)}h=x(b);if(h.styleSheet&&"cssText"in h.styleSheet){a=(c==="a"?h.styleSheet.cssText:"")+a;h.styleSheet.cssText=a}else{a=(c==="a"?h.innerHTML:"")+a;try{h.innerHTML=a}catch(g){h.innerText=
a}}},add_css_file:function(a,b){b||(b="css-file-generic");var c=x(b);if(!c){c=document.createElement("link");c.setAttribute("type","text/css");c.rel="stylesheet";c.id=b;L("head")[0].appendChild(c)}c.href=a},set:function(a,b){a=a.split(":");a[0]=="cookie"?j.cookie.set(a[1],b):j.cache.set(a[1],b)},get:function(a){a=a.split(":");return a[0]=="cookie"?j.cookie.get(a[1]):j.cache.get(a[1])},erase:function(a){a=a.split(":");return a[0]=="cookie"?j.cookie.erase(a[1]):j.cache.erase(a[1])},cache:{set:function(a,
b){p[a]=b},get:function(a){return p[a]},erase:function(a){delete p[a]}},load_script:function(a){var b=document.createElement("script");b.type="text/javascript";b.src=a;L("head")[0].appendChild(b)},load_script_notify:function(a,b){var c=document.createElement("script"),d=false;c.type="text/javascript";c.src=a;c.onload=c.onreadystatechange=function(){var h=this.readyState;if(!(d||h&&h!="complete"&&h!="loaded")){d=true;document.body.removeChild(c);"function"===typeof b&&b(a)}};document.body.appendChild(c)},
one_way_send:function(a){imageObj=new Image(0,0);imageObj.src=a;this.one_way_send_record.push(imageObj)},extensions:{String:{chained_replace:function(a){var b=this,c;for(c=0;c<a.length;c++){var d=a[c];b=b.replace(d[0],d[1])}return b},collapse:function(a,b){for(var c=this;c.length>b;){var d=c.replace(a,"");if(d.length==c.length)break;c=d}return c}}},load_when_visible:function(a,b){var c=0,d=jQuery(window),h=d.height()+d.scrollTop();if(jQuery("#"+a).length){var e=jQuery(jQuery("#"+a).get(0)),g=e.offset().top;
h>g?b(a):d.scroll(function(){h=d.height()+d.scrollTop();g=e.offset().top;if(h>g&&!c){c=1;b(a)}})}else b(a)},unload_plugins:function(){for(var a=[document],b,c,d,h=new RegExp("^("+location.protocol+"//"+location.hostname+")?(/.*)?$"),e=function(g){var u,E;for(u=g.length-1;u>=0;u--){E=g[u];E.parentNode.removeChild(E)}};a.length;){b=a.pop();e(b.getElementsByTagName("object"));e(b.getElementsByTagName("embed"));b=b.getElementsByTagName("iframe");for(d=b.length-1;d>=0;d--){c=b[d];if(h.test(c.src))(c=c.contentWindow.document)&&
a.push(c);else e([c])}}}});String.prototype.chained_replace=j.extensions.String.chained_replace;String.prototype.collapse=j.extensions.String.collapse;this.custom={amazon:{segments:null,complete_segments:null,aan_call_name:"aan_call",get_segments:function(a){if(!this.segments){var b=j.cookie.get("us")||"";b=b.replace(/[^a-zA-Z0-9;=]/g,"");this.segments=b.collapse(/s=[^;]*;$/,a);a=b.length-this.segments.length;a!==0&&j.monitoring.record_metric("seg_trimmed",a)}return this.segments},load_callback:function(a){this.complete_segments=
a;trimmed_segs=a.collapse(/s=[^;]*;$/,450);j.cookie.set("us",trimmed_segs,7);if(this.segments===null){j.monitoring.stop_timing(this.aan_call_name,"in_time",false);csm.measure("csm_aan_response.in_time")}else{j.monitoring.stop_timing(this.aan_call_name,"late",false);csm.measure("csm_aan_response.late")}},aan_iframe_oncall:function(){j.monitoring.start_timing(custom.amazon.aan_call_name);csm.measure("csm_aan_request")}},doubleclick:function(){var a=[],b=function(e){e=e.replace(T,S);e=e.replace(k,a.join(";"));
e=e.chained_replace(V);var g=475-e.chained_replace([[f,""],[/^[^\;]*/,""]]).length;g=custom.amazon.get_segments(g);return e.replace(f,g)},c=/\[PLAYLISTINDEX\]/,d=/\[PLAYLISTID\]/,h=/\[PLAYERTYPE\]/;return{construct_url:function(e){var g=e.match(";ifb=pf;")?"pfadj":"adj";e=escape(e.substring(1,e.length));e=b(e);return document.location.protocol+"//ad.doubleclick.net/"+g+"/"+e},construct_video_url:function(e,g){e=b(e);e=e.replace(c,"vi="+(g.listindex||"0"));e=e.replace(d,g.list?"vl="+g.list:"");e=e.replace(h,
"vt="+g.playertype);return document.location.protocol+"//ad.doubleclick.net/pfadx/"+e},add_client_side_keyvalue:function(e,g){a.push(e+"="+g)}}}(),indirect:{close:function(a){a.location.href.match("floater")&&custom.floater.close(a.frameElement.id)}},full_page:{style_id:"custom__full_page__generated_styles",data_url:"/images/a/js/graffiti_data.js",apply:function(a){var b=this;document.getElementById("root").style.boxShadow="none";window.generic.on_document_ready(function(){b.settings=a;"styles"in
b?b._apply():window.generic.load_script_notify(b.data_url,function(){b._apply()})})},_apply:function(){var a;a=this.settings.ARGS.split(/&/);var b={},c=this,d="/* ARGS:"+this.settings.ARGS+" */\n";jQuery.each(a,function(e,g){e=/^(.*)=(.*)$/.exec(g);if(e.length===3)b[e[1]]=unescape(e[2].replace(/\+/g," "))});a=this.invert_styles(b.treatment);jQuery.each(a,function(e,g){if(g.fixed)d+=c.format_css(g,g.fixed);else if(b[e]||g["default"])d+=c.format_css(g,b[e])});try{jQuery("style#"+this.style_id).remove();
jQuery("head").append(jQuery('<style type="text/css">').attr("id",this.style_id).html(d))}catch(h){j.add_css_style(d,this.style_id,"o")}},invert_styles:function(a){var b=["default","important","fixed"],c={};jQuery.each(this.styles[a],function(d,h){jQuery.each(h,function(e,g){var u=c[g.name]={style:d,selector:g.selector};jQuery.each(b,function(E,r){if(g[r])u[r]=g[r]})})});return c},format_css:function(a,b){return a.selector+" { "+a.style+" : "+(b?b:a["default"])+(a.important?" !important ":"")+"}\n"}},
floater:{close:function(a){j.extend(x(a),{style:{width:"0px",height:"0px"}})},launch:function(a,b,c,d,h,e,g){var u=document.createElement("iframe");d=typeof d==="string"?x(d):d;c!="none"&&setTimeout(function(){custom.floater.close(g)},c*1E3);j.extend(u,{id:g,name:g,src:a,width:b[0]+"px",height:b[1]+"px",frameBorder:"0",scrolling:"no",allowTransparency:"true",style:{marginLeft:e[0]+"px",marginTop:e[1]+"px",zIndex:e[2],position:"absolute"}});h(u,d)},set:function(a,b,c,d,h,e){j.cache.set("floater",a);
a="floater_"+Math.ceil(Math.random()*9999999);custom.floater.launch("/images/a/ifb/doubleclick/indirect.html?source=cache:floater",b,c,d,h,e,a);return a}}};var z=function(a,b){return b?'<param name="'+a+'" value="'+b+'">':""},G=function(a,b){return b?" "+a+'="'+b+'" ':""};this.flashAdUtils={makeFlashAd:function(a){var b=a.id,c=a.src,d=a.width,h=a.height,e=a.bgcolor,g=a.wmode||"opaque",u=a.salign,E=a.scale,r=a.extraParams,o=a.extraTAGs,m=a.minVersion,D=escape(a.clickThru),B=a.clickTAGs,F=function(M){return M!==
null&&M!==undefined&&(M+"").length},C=function(M){return isFinite(parseInt(M,10))};a="";var O,J;if(!F(b)||!F(c)||!C(d)||!C(h))consoleLog("makeFlashAd: Missing required params","flashAdUtils");else{flashAdUtils.canPlayFlash(m)||consoleLog("makeFlashAd: Current flash version too low","flashAdUtils");if(B)for(m=0;m<B.length;m++)if(B[m])a=a+"&clickTAG"+(m+1)+"="+escape(B[m]);if(o)for(O in o)a=a+"&"+escape(O)+"="+escape(o[O]);a+="&ord="+ad_utils.ord;O=o="";try{m={width:1,height:1,src:1,bgcolor:1,wmode:1,
salign:1,scale:1,flashvars:1};for(J in r)if(!m[J]){o+=z(J,r[J]);O+=G(J,r[J])}}catch(R){}r=z("bgcolor",e);e=G("bgcolor",e);J=z("wmode",g);g=G("wmode",g);m=z("scale",E);E=G("scale",E);B=z("salign",u);u=G("salign",u);return'<object  classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"  width="'+d+'"  height="'+h+'"  id="swf_'+b+'"><param name="movie" value="'+c+'"><param name="flashvars" value="env=WEB&clickTAG='+
D+"&"+a+'"><param name="play" value="true"><param name="quality" value="high"><param name="allowScriptAccess" value="always">'+m+B+r+J+o+'<div style="margin-left:0.1px"><embed src="'+c+'"  flashvars="env=WEB&clickTAG='+D+"&"+a+'"  quality="high"  play="true"  width="'+d+'"  height="'+h+'"  name="swf_'+b+'"  allowScriptAccess="always"  type="application/x-shockwave-flash"  pluginspage="http://www.macromedia.com/go/getflashplayer" '+E+u+e+g+O+"></embed></div></object>"}},canPlayFlash:function(a){var b=
false,c=parseInt(a,10);a=!a||c<9?9:c;if((navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]?navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin:0)&&navigator.plugins["Shockwave Flash"]){b=navigator.plugins["Shockwave Flash"].description.split(" ");var d;for(c=0;c<b.length;++c)isNaN(parseInt(b[c],10))||(d=parseInt(b[c],10));b=d>=a}else if(navigator.userAgent&&navigator.userAgent.indexOf("MSIE")>=0&&navigator.appVersion.indexOf("Win")!==-1)try{var h=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+
a);h.AllowScriptAccess="always";b=h.GetVariable("$version").match(/([0-9]+)/)[1]>=a}catch(e){}return b}};w.store();j.on_document_ready(function(a){a(window).load(function(){w.store()})});j.on_document_ready(function(){H(window,"unload",function(){j.unload_plugins()})});s&&j.on_document_ready(function(){j.monitoring.record_metric("ads_js_response",s)})})();(function(s){s.install(s,{extended_split:function(n,q,v){for(var y=[],j=0,N;!v||y.length<v-1;){N=n.indexOf(q,j);if(N===-1)break;y.push(n.substring(j,N));j=N+q.length}y.push(n.substring(j));return y},object_from_querystring:function(n){var q=n.split("&"),v={},y;if(n==="")return{};for(n=0;n<q.length;n++){y=s.extended_split(q[n],"=",2);v[y[0]]=y.length===1?null:decodeURIComponent(y[1])}return v},cookie:{set:function(n,q,v){var y,j;if(v){j=new Date;j.setTime(j.getTime()+v*24*60*60*1E3);v="; expires="+
j.toGMTString()}else v="";y=document.location.host.split(".");j=y.pop();y=y.pop();document.cookie=n+"="+escape(q)+v+"; path=/; domain="+y+"."+j},get:function(n){var q=document.cookie.split(";"),v,y;for(v=0;v<q.length;v++)if(typeof q[v]=="string"){y=q[v].split("=");if(y[0]&&y[1]&&y[0].replace(/\s/,"")==n)return unescape(y[1])}return null},erase:function(n){this.set(n,"",-1)}}})})(window.generic);(function(s,n,q){var v=s.generic=s.generic||{},y={},j=s.IMDbTimer,N="IMDbTimer"in s?s.IMDbTimer.starttime:NaN,x=n.location.hash.match("debug=1"),L=x||!isNaN(N)&&Math.random()<0.25,K=x||Math.random()<0.1,H=function(){var f={},k={top_ad:q,top_rhs:q,bottom_ad:q},p={top_ad:1,top_rhs:1,injected_navstrip:1,injected_billboard:1,bottom_ad:2,middle_rhs:2,btf_rhs2:2},l={top_ad:1,top_rhs:1,bottom_ad:1},w={reflow:1,"ad-delivery":1,load:1};v.on_document_ready(function(t){t(s).bind("beforeunload",function(){var z,
G;for(z in f){G=f[z];G.request&&G.load===q&&v.monitoring.record_event("ad_load_failure."+z)}v.monitoring.send_metrics()})});return{is_slot_monitored:function(t){return t in p||t in l},is_twilight_slot:function(t){return t in p},is_twilight_core_slot:function(t){return t in p&&p[t]===1},is_forester_slot:function(t){return t in l},is_forester_event:function(t,z){return this.is_forester_slot(t)&&z in w},set_metric_value:function(t,z,G){(f[t]=f[t]||{})[z]=G},get_metric_value:function(t,z){if(t in f)return f[t][z]},
get_core_slots_duration:function(t){var z=0,G;for(G in p)if(this.is_twilight_core_slot(G)){if(q===this.get_metric_value(G,t))return null;z=Math.max(z,this.get_metric_value(G,t))}return z},set_remnant_partner:function(t,z){k[t]=z;return this},get_remnant_partner:function(t){return k[t]}}}(),S="http://www.imdb.com/twilight/?",V=function(){var f=function(){return{prepare_and_send_metric:function(l,w,t,z){p({slot:w,ad_network_name:"DART",aid:l.aid,cid:l.cid,slot_event:t,time:z})}}}(),k=function(){return{prepare_and_send_metric:function(l,
w,t){var z,G=20,a;a=function(){if(z=ad_utils.get_cornerstone_ad_object(l))p({slot:l,ad_network_name:"PDA",aid:z.adId,cid:z.creativeId,slot_event:w,time:t});else--G&&setTimeout(a,100)};a()}}}(),p=function(l){var w,t,z,G,a;if(K&&H.is_forester_slot(l.slot)){w=ad_utils.get_mapped_amazon_slot_name(l.slot);t=page_type;z=l.ad_network_name;G=l.aid;a=l.cid;l='{"s":"imdb","l":"'+w+'","p":"'+t+'","n":"'+z+'","a":"'+G+'","c":"'+a+'","m":"'+l.slot_event+'","v":"'+l.time+'"}';x&&consoleLog(l+" metrics sent","forester");
v.one_way_send("http://fls-na.amazon.com/1/display-ads-cx/1/OP/?LMET"+escape(l))}};return{send_forester_metric:function(l,w,t,z){f.prepare_and_send_metric(l,w,t,z);k.prepare_and_send_metric(w,t,z)},set_page_type:function(l){page_type=l}}}();this.csm=function(){var f={};return{measure:function(k,p){this.record(k,this.duration(),p)},record:function(k,p,l,w){var t=f[k];if(L&&!csm.metrics[k])v.monitoring.record_metric(k+(w?w:""),p,l);csm.metrics[k]=p;if(t){for(l=0;l<t.length;l++)try{t[l](p,k)}catch(z){consoleLog("error invoking callback for "+
k,"csm")}delete f[k]}},duration:function(){return(new Date).getTime()-N},listen:function(k,p){k in csm.metrics?setTimeout(p,0):(f[k]=f[k]||[]).push(p)},metrics:{}}}();v.monitoring={event_starts:{},event_stops:{},events_to_stop:0,event_duration:{},event_counters:[],all_events_started_flag:false,twilight_info:"",twilight_client:function(){var f=navigator.userAgent,k;if((k=f.match(/MSIE (\d+)/))&&k[1]>=6)return"ie"+k[1];if(k=f.match(/Mac OS.*Firefox\/(\d+)/))return k[1]==="3"?"firefox3-mac":"firefox-mac";
if(k=f.match(/Firefox\/(\d+)/))return k[1]==="3"?"firefox3":"firefox";if(f.indexOf("Chrome")!==-1)return"chrome";if(f.indexOf("Safari")!==-1)return"safari";if(f.indexOf("Opera")!==-1)return"opera";return"Other"}(),isTwilightActiveSample:L,page_type:"",start_timing:function(f){this.start_timing_at(f,(new Date).getTime())},start_timing_at:function(f,k){this.event_starts[f]=k;this.events_to_stop++},stop_timing:function(f,k,p){var l=(new Date).getTime(),w=f;if(this.event_starts[f]){this.event_stops[f]=
l;if(k)w+="."+k;this.record_metric(w,l-this.event_starts[f]);delete this.event_starts[f];this.events_to_stop--;if(p||this.all_events_started_flag&&this.events_to_stop===0)this.send_metrics()}},record_event:function(f,k){var p;this.event_counters.push(f);if(f in y)for(weblab in y[f]){p=f+"__weblab_"+weblab;this.event_counters.push(p);consoleLog(p,"twilight")}consoleLog(f,"twilight");k&&this.send_metrics()},record_metric:function(f,k,p){var l,w;this.event_duration[f]=k;consoleLog(f+","+k,"twilight");
if(f in y)for(l in y[f]){w=f+"__weblab_"+l;this.event_duration[w]=k;consoleLog(w+","+k,"twilight")}p&&this.send_metrics()},send_metrics:function(){var f=S+this.twilight_info,k=1,p;for(p in this.event_duration){f+="&Operation."+k+"="+p;f+="&OperationTiming."+k+"="+this.event_duration[p];k++}this.event_duration={};if(!(k===1&&this.event_counters.length===0)){for(k=0;k<this.event_counters.length;k++)f+="&Counter."+(k+1)+"="+this.event_counters[k];this.event_counters=[];f+="&ord="+ad_utils.ord;v.one_way_send(f);
consoleLog("metrics sent","twilight")}},set_twilight_info:function(f,k,p,l,w){if(j&&j.pt==="java")f+=".java";this.twilight_info="PageType="+f+"&Geo="+k+"&tw_ord="+p+"&timestamp="+l+"&Client="+this.twilight_client;S=w},set_forester_info:function(f){V.set_page_type(f)},all_events_started:function(){this.all_events_started_flag=true},set_remnant_partner:function(f,k){H.set_remnant_partner(f.frameElement.id,k)},get_remnant_partner:function(f){return H.get_remnant_partner(f)||"none"},update_slot_metrics:function(f,
k,p){var l;l=(l=n.getElementById(f))?l.contentWindow.document.ad:null;var w="load"===k&&H.get_remnant_partner(f)?"."+H.get_remnant_partner(f):"";if(!(!f||!H.is_slot_monitored(f)||H.get_metric_value(f,k)!==q)){H.set_metric_value(f,k,q!==p?p:csm.duration());p=H.get_metric_value(f,k);if(l&&H.is_forester_event(f,k)){V.send_forester_metric(l,f,k,p);k==="load"&&V.send_forester_metric(l,f,"ad-delivery",H.get_metric_value(f,"load")-H.get_metric_value(f,"request"))}if(H.is_twilight_slot(f)){csm.record("csm_"+
f+"_"+k,p,0,w);"load"===k&&""!==w&&csm.record("csm_"+f+"_deliver",p-H.get_metric_value(f,"tagdeliver"),0,w);if(H.is_twilight_core_slot(f)){l=H.get_core_slots_duration(k);l!==null&&csm.record("csm_core_ads_"+k,l);k==="load"&&/^(\/|\/title\/tt\d+\/|\/name\/nm\d+\/)$/.test(n.location.pathname)&&csm.record("csm_"+f+T.get_network_name(f)+T.get_in_weblab()+"_timeout",p,0,T.get_level_for_load(page_type,p))}}}},get_metric_value:function(f,k){return H.get_metric_value(f,k)},enable_weblab_metrics:function(f,
k,p){var l,w;for(l=0;l<p.length;l++){w=p[l];y[w]=y[w]||{};y[w][f+"_"+k]=1}}};var T=function(){return{get_network_name:function(f){return H.get_remnant_partner(f)?"_remnant":"_direct"},get_in_weblab:function(){return"_natural"},get_level_for_load:function(f,k){f={homepage:[1200,3600],title:[1400,4600],name:[1500,4200]}[f];var p=[1200,3600];f||(f=p);return k<f[0]?".1":k<f[1]?".2":".3"}}}();v.on_document_ready(function(f){f(s).bind("beforeunload",function(){var k=(n.location+"").split("#",2)[0];s.name=
"clicktoresponse:"+(new Date).getTime()+":"+k});if(v.monitoring.isTwilightActiveSample){csm.measure("csm_ready");f(s).load(function(){csm.measure("csm_load",true)});f("div.dfp_slot").each(function(){v.monitoring.record_event("dfp_slot")});f=parseInt(f("#servertime").attr("time"),10);isNaN(f)||v.monitoring.record_metric("csm_server",f)}});(function(){if(n.location.protocol==="http:"){var f=s.name.match(/^clicktoresponse:(\d+):(.*)$/);if(f){if(n.referrer===f[2]&&j){f=j.starttime-f[1];j.clicktoresponse=
f;v.monitoring.record_metric("click_to_response",f)}s.name=""}}})()})(window,document);window.IMDbTimer&&window.IMDbTimer.events&&function(s,n,q){generic.send_csm_head_metrics=function(){s.record("csm_head_pre_title",q.csm_head_pre_title-n);s.record("csm_head_post_title",q.csm_head_post_title-n);s.record("csm_head_pre_css",q.csm_head_pre_css-n);s.record("csm_head_post_css",q.csm_head_post_css-n);s.record("csm_head_pre_icon",q.csm_head_pre_icon-n);s.record("csm_head_post_icon",q.csm_head_post_icon-n);s.record("csm_head_pre_ads",q.csm_head_pre_ads-n)}}(csm,IMDbTimer.starttime,IMDbTimer.events);(function(s){var n=s.monitoring,q=/rm=n/,v=function(x){x=x.join(",");s.cookie.set("ap",x)},y=function(){var x=s.cookie.get("ap");return x?N(x.split(","),function(L){return parseInt(L,10)}):[]},j=function(){var x=document.getElementById("bottom_ad").getAttribute("data-dart-params"),L=n.get_metric_value("bottom_ad","load"),K=n.get_metric_value("bottom_ad","request");L=L-K;K=y();x.match(q)&&n.record_event("ad_prediction_kill",true);K.unshift(L);if(K.length>10)K=K.slice(0,10);v(K)},N=function(x,L){var K=
[];for(i=0;i<x.length;i++)K.push(L(x[i]));return K};ad_utils.ad_prediction={init:function(){ad_utils.ad_load.listen("bottom_ad",j)}}})(window.generic);
