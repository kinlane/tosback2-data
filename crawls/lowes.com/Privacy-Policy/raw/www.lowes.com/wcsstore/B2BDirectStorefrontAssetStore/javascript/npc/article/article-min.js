var hideThesePlaylists=["4E7543AAE434E276"];var hideTheseVideos=["rzrbfMenV2w","dukTS6KAlX4","8thg6jf94xo","utxFLL-b2dc","8B98rXwBxKU","ZQ6V0NqTVMk"];google.load("feeds","1");var videoSearchArray=[];var videoIDArray=[];var ytID=$(document).getUrlParam("ytID");var ytPL=$(document).getUrlParam("ytPL");var themeVideos="";var themeVideos=[];var videoProducts=[];var playListEntries=[];var getSingleVideo=0;var mastHeadHeight=210;var isContentShowing=1;var showProducts=0;var showVideos=0;var showHowTo=0;var showBuyGuide=0;var autoplayVid=0;var autoplayPl=0;var showInstructions=0;var defaultPl="";var defaultVid="";var bypassPl=0;var vidSlider;var vidResultArray=[];var tempVidResultArray=[];var pageURL="http://www.lowes.com/cd_null_94400869_";$(function(){getAllPlaylists();playlist_change();getDefaults();$("#relVidToggle").bind("click",function(){$("#relatedVids").slideToggle(function(){if($("#relatedVids").css("display")=="block"){$("#relatedVids").css({"overflow-y":"auto","border-bottom":"1px dotted #d4d7dc"});$("#relVidToggle").removeClass("vidToggle-plus").addClass("vidToggle-minus");}else{$("#relatedVids").css({"overflow-y":"hidden",border:"0"});$("#relVidToggle").removeClass("vidToggle-minus").addClass("vidToggle-plus");}});});$("#recentVidToggle").bind("click",function(){$("#recentVids").slideToggle(function(){if($("#recentVids").css("display")=="block"){$("#recentVids").css({"overflow-y":"auto","border-bottom":"1px dotted #d4d7dc"});$("#recentVidToggle").removeClass("vidToggle-plus").addClass("vidToggle-minus");}else{$("#recentVids").css({"overflow-y":"hidden",border:"0"});$("#recentVidToggle").removeClass("vidToggle-minus").addClass("vidToggle-plus");}});});$("#commentToggle").bind("click",function(){$("#vidComments").slideToggle(function(){if($("#vidComments").css("display")=="block"){$("#vidComments").css({"overflow-y":"auto","border-bottom":"1px dotted #d4d7dc"});$("#commentToggle").removeClass("vidToggle-plus").addClass("vidToggle-minus");}else{$("#vidComments").css({"overflow-y":"hidden",border:"0"});$("#commentToggle").removeClass("vidToggle-minus").addClass("vidToggle-plus");}});});});function getDefaults(){if($("#videoPlayer").length>0){rel_string=$("#videoPlayer").attr("rel");rel_array=rel_string.split(",");for(j=0;j<rel_array.length;++j){switch(rel_array[j]){case"products":showProducts=1;break;case"videos":showVideos=1;break;case"howTo":showHowTo=1;break;case"buyGuide":showBuyGuide=1;break;case"apVid":autoplayVid=1;break;case"apPl":autoplayPl=1;break;case"inst":showInstructions=1;break;}if(rel_array[j].indexOf("plID:")>-1){myString=rel_array[j];defaultPl=myString.substr(5);}else{if(rel_array[j].indexOf("vidID:")>-1){myString=rel_array[j];defaultVid=myString.substr(6);}}}var b=getVideoCookie("pcLowesLastViewed");var a=getVideoCookie("pcLowesVidParamID");if(b!=null&&a==null){defaultVid=b;bypassPl=1;}else{if(b!=null&&a!=null){if(a==ytID){defaultVid=b;}else{if(ytID==null){defaultVid=b;}else{defaultVid=a;}}bypassPl=1;}}if(ytID!=null&&(a!=ytID)){setVideoCookie("pcLowesVidParamID",ytID,1);defaultVid=ytID;bypassPl=1;}if(ytPL!=null){defaultPl=ytPL;bypassPl=0;}if((defaultPl).length>0&&!bypassPl){getVideos(defaultPl);}else{getOneVideo(defaultVid);}}}function getAllPlaylists(){playListEntries=[];$.ajax({type:"GET",dataType:"jsonp",url:"http://gdata.youtube.com/feeds/api/users/lowes/playlists?alt=json-in-script&max-results=50",cache:false,success:function(b){var a=b.feed;plfeed=a.entry||[];if(plfeed.length>0){$(plfeed).each(function(c){playListEntries[c]=[];playListEntries[c].id=plfeed[c].yt$playlistId.$t;playListEntries[c].title=plfeed[c].title.$t;playListEntries[c].author=plfeed[c].author[0].name.$t;playListEntries[c].countHint=plfeed[c].gd$feedLink[0].countHint;}).ready(function(){playListEntries.sort(arraySort);$(playListEntries).each(function(c){if(playListEntries[c].countHint>0&&(playListEntries[c].author=="lowes"||playListEntries[c].author=="Lowes")&&jQuery.inArray(playListEntries[c].id,hideThesePlaylists)==-1){numVideos=(playListEntries[c].countHint>1)?"videos":"video";$("#ytPlaylists").append('<option value = "'+playListEntries[c].id+'">'+playListEntries[c].title+" ("+playListEntries[c].countHint+" "+numVideos+")</option>");}});if(!bypassPl){setDefaultPlaylist(defaultPl);}buildVideoArray("http://gdata.youtube.com/feeds/api/users/lowes/uploads?",1,50);});}}});}function arraySort(d,c){if(d.title<c.title){return -1;}else{if(d.title>c.title){return 1;}else{return 0;}}}function arrayRelSort(d,c){if(d.rel>c.rel){return -1;}else{if(d.rel<c.rel){return 1;}else{return 0;}}}function buildVideoArray(d,e,b){var c=[];if(b>50){b=50;}var a=d+"&start-index="+e+"&max-results="+b;getFeed=new google.feeds.Feed(a);getFeed.setNumEntries(b);getFeed.setResultFormat(google.feeds.Feed.JSON_FORMAT);getFeed.load(function(f){c=f.feed.entries;$(c).each(function(g){var h=stripFeature(c[g].link.substring(c[g].link.indexOf("=")+1,c[g].link.length));if($.inArray(h,videoIDArray)==-1&&$.inArray(h,hideTheseVideos)==-1){videoIDArray.push(h);newI=videoIDArray.length-1;videoSearchArray[newI]=[];videoSearchArray[newI]["id"]=h;videoSearchArray[newI]["title"]=c[g].title;videoSearchArray[newI]["desc"]=c[g].content;}}).ready(function(){if(c.length==50){var g=e+50;buildVideoArray(d,g,b);}else{if(c.length<50){enableSearchBox();}}});});}function enableSearchBox(){$("#vidSearch").removeAttr("disabled");var b;var a;$("#vidSearch").bind("keyup",function(){clearTimeout(b);b=setTimeout(function(){if($("#vidSearch").val().length==0){$("#returnedVidResults").empty();$("#returnedVidResults").css("display","none");}if($("#vidSearch").val().length>=3){parseSearchRequest($("#vidSearch").val());}},200);});$("#vidSearch").bind("click",function(){if($("#vidSearch").val()=="Search Videos"){$("#vidSearch").val("");}if($("#vidSearch").val().length>=3){parseSearchRequest($("#vidSearch").val());}});$("#returnedVidResults").bind("mouseleave",function(){clearTimeout(a);a=setTimeout(function(){$("#returnedVidResults").empty();$("#returnedVidResults").css("display","none");},750);});$("#returnedVidResults").bind("mouseenter",function(){clearTimeout(a);});}function parseSearchRequest(b){videoIDArray=[];tempVidResultArray=[];var a=b.toLowerCase().split(" ");$(videoSearchArray).each(function(f){var c=0;var d=videoSearchArray[f].title.toLowerCase();var e=videoSearchArray[f].desc.toLowerCase();var g=videoSearchArray[f].title;var h=videoSearchArray[f].id;$(a).each(function(k){if(d.indexOf(a[k])>=0||e.indexOf(a[k])>=0){c=c+1;if($.inArray(h,videoIDArray)==-1&&videoIDArray.length<=7){videoIDArray.push(h);newI=videoIDArray.length-1;tempVidResultArray[newI]=[];tempVidResultArray[newI]["id"]=h;tempVidResultArray[newI]["title"]=g;tempVidResultArray[newI]["rel"]=c;}else{if($.inArray(h,videoIDArray)==-1&&videoIDArray.length==8){videoIDArray.shift(videoIDArray);tempVidResultArray[7]=[];tempVidResultArray[7]["id"]=h;tempVidResultArray[7]["title"]=g;tempVidResultArray[7]["rel"]=c;}else{if($.inArray(h,videoIDArray)>=0){$(tempVidResultArray).each(function(l){if(this.id==h){this.rel=c;}});}}}}}).ready(function(){tempVidResultArray.sort(arrayRelSort);});}).ready(function(){$("#returnedVidResults").empty();$("#returnedVidResults").css("display","block");if(tempVidResultArray.length>0){$(tempVidResultArray).each(function(c){$("#returnedVidResults").append('<div class="vidResult '+this.id+'"><img src = "http://i.ytimg.com/vi/'+this.id+'/2.jpg" border="0" align="absmiddle" width="48" height ="36"/> '+this.title+"</div>");});}else{$("#returnedVidResults").append('<span style="padding:5px; line-height:15px; font-weight:bold;">No Search Results Found.</span>');}});$(".vidResult").each(function(e){var c=$(this).attr("class").toString();var f=c.indexOf(" ")+2;var d=c.substring(c.length,c.length-f);$(this).bind("click",function(){$("#returnedVidResults").css("display","none");$("#vidSearch").val("Search Videos");$("div#videoPlayer div.video").addClass("loading");getOneVideo(d);});$(this).mouseover(function(){$(this).css("background","#eff3fa");});$(this).mouseout(function(){$(this).css("background","#fff");});});}function getVideos(b){getSingleVideo=0;themeVideos=[];var a="http://gdata.youtube.com/feeds/api/playlists/"+b+"?alt=json-in-script&max-results=50";$.ajax({type:"GET",dataType:"jsonp",url:a,cache:false,success:function(e){var d=e.feed;var c=d.entry||[];if(c.length>0){$(c).each(function(f){themeVideos[f]=[];themeVideos[f].id=stripFeature(c[f].link[0].href.substring(c[f].link[0].href.indexOf("=")+1,c[f].link[0].href.length));themeVideos[f].url=c[f].link[0].href;themeVideos[f].title=c[f].title.$t;themeVideos[f].description=c[f].media$group.media$description.$t;themeVideos[f].author=c[f].author[0].name.$t;if(c[f].yt$statistics){themeVideos[f].views=c[f].yt$statistics.viewCount;}else{if(!c[f].yt$statistics){themeVideos[f].views="0";}}if(c[f].gd$rating){themeVideos[f].rating=c[f].gd$rating.average;themeVideos[f].numRaters=c[f].gd$rating.numRaters;}else{if(!c[f].gd$rating){themeVideos[f].rating="0.00";themeVideos[f].numRaters="0";}}}).ready(function(){if(themeVideos[0].author=="Lowes"||themeVideos[0].author=="lowes"){$("#errMsg").css("display","none");appendVideo(themeVideos[0].id,themeVideos[0].title,themeVideos[0].description,themeVideos[0].rating,themeVideos[0].numRaters,autoplayPl);}else{alert("Your request is not an authorized Lowe's playlist.");}});}}});}function getOneVideo(c){getSingleVideo=1;var a;var b;$.ajax({type:"GET",dataType:"jsonp",url:"http://gdata.youtube.com/feeds/api/videos/"+c+"?alt=json-in-script",cache:false,success:function(e){var d=e.entry;if(d.author[0].name.$t=="lowes"||d.author[0].name.$t=="Lowes"){if(d.gd$rating){a=d.gd$rating.average;b=d.gd$rating.numRaters;}else{if(!d.gd$rating){a="0.00";b="0";}}$("#errMsg").css("display","none");appendVideo(c,d.title.$t,d.media$group.media$description.$t,a,b,autoplayVid);}else{alert("The requested video is not from Lowe's.");}}});}function appendVideo(g,a,f,e,d,b){var c=pageURL+"?ytID="+g;$("#errMsg").css("display","none");$("#videoWrapper").css("display","none");$("#shareLinks .digg").attr("href","http://digg.com/submit?phase=2&amp;url="+c);$("#shareLinks .delicious").attr("href","http://delicious.com/save?url="+c);$("#shareLinks .facebook").attr("href","http://www.facebook.com/sharer.php?u="+c);$("#shareLinks .myspace").attr("href","http://www.myspace.com/Modules/PostTo/Pages/?u="+c);$("#shareLinks .stumbleupon").attr("href","http://www.stumbleupon.com/submit?url="+c);$("#shareLinks .furl").attr("href","http://www.furl.net/storeIt.jsp?u="+c);$("#shareLinks .technorati").attr("href","http://technorati.com/faves?sub=addfavbtn&amp;add="+c);embedHTML='<div class="video"><iframe class="youtube-player" type="text/html" width="650" height="385" src="http://www.youtube.com/embed/'+g+"?autoplay="+((b)?1:0)+'&rel=0&fs=1&color1=0xcccccc&color2=0xffffff&border=0&loop=0&wmode=transparent" frameborder="0"></iframe></div>';$("div#videoPlayer div.video").removeClass("loading").replaceWith(embedHTML);numRatings=(d!=1)?"ratings":"rating";numStars=getStarRating(e);$("#videoPlayer .vidinfo").empty();$("#videoPlayer .left").empty();$("div#videoPlayer div.vidinfo").replaceWith("<div class=\"vidinfo\"><span class='vidTitle'>"+a+"</span><p>"+f+"</p></div>");$("div#videoPlayer div.left").replaceWith('<div class="left"><p><img class=\'stars'+numStars+"' src='/images/videocenter/vc_trans.gif' width='75px' height='15px' /> "+d+"  "+numRatings+"</p></div>");$("div#article-info h1").html(a);updateRelatedInfo(g);getVideoComments(g);setVideoCookie("pcLowesLastViewed",g,1);if(getVideoCookie("pcLowesRecentViewed")==null){setVideoCookie("pcLowesRecentViewed",g,30);updateRecentlyViewed(g);}else{if(getVideoCookie("pcLowesRecentViewed")!=null){updateRecentlyViewed(g);}}if(themeVideos.length>=1&&!getSingleVideo){appendRelatedVideos(g);}else{if(getSingleVideo){getRelatedVids(g);}}}function appendRelatedVideos(a){$("#relatedVids").empty();themeVideos.sort(arraySort);$(themeVideos).each(function(b){if(themeVideos[b].id!=a&&$.inArray(themeVideos[b].id,hideTheseVideos)==-1){numRatings=(themeVideos[b].numRaters!=1)?"ratings":"rating";numStars=getStarRating(themeVideos[b].rating);$("#relatedVids").append("<div class='relVideo'><a class=\""+themeVideos[b].id+'" href="http://www.youtube.com/watch?v='+themeVideos[b].id+"\"><img class='relVidThumb' src=\"http://i.ytimg.com/vi/"+themeVideos[b].id+'/2.jpg" alt="'+themeVideos[b].title+"\" /></a><span class='relVidInfo'><a class=\""+themeVideos[b].id+'" href="http://www.youtube.com/watch?v='+themeVideos[b].id+'">'+themeVideos[b].title+"</a><br /><img class='smstars"+numStars+"' src='/images/videocenter/vc_trans.gif' width='60px' height='15px' /><br />"+themeVideos[b].views+" views</span></div><div class='clear'></div>");$("#relatedVids .relVideo a."+themeVideos[b].id).bind("click",function(){$("div#videoPlayer div.video").addClass("loading");appendVideo(themeVideos[b].id,themeVideos[b].title,themeVideos[b].description,themeVideos[b].rating,themeVideos[b].numRaters,autoplayVid);return false;});}});}function getRelatedVids(b){relVideos=[];$("#relatedVids").addClass("relLoading");$("#relatedVids").empty();var a="http://gdata.youtube.com/feeds/api/videos/"+b+"/related?author=lowes&alt=json-in-script&max-results=50";$.ajax({type:"GET",dataType:"jsonp",url:a,cache:false,success:function(d){var c=d.feed;var e=c.entry||[];if(e.length>0){$(e).each(function(f){relVideos[f]=[];relVideos[f].id=stripFeature(e[f].link[0].href.substring(e[f].link[0].href.indexOf("=")+1,e[f].link[0].href.length));relVideos[f].url=e[f].link[0].href;relVideos[f].title=e[f].title.$t;relVideos[f].thumbnail=e[f].media$group.media$thumbnail[0].url;relVideos[f].description=e[f].media$group.media$description.$t;relVideos[f].author=e[f].author[0].name.$t;if(e[f].yt$statistics){relVideos[f].views=e[f].yt$statistics.viewCount;}else{if(!e[f].yt$statistics){relVideos[f].views="0";}}if(e[f].gd$rating){relVideos[f].rating=e[f].gd$rating.average;relVideos[f].numRaters=e[f].gd$rating.numRaters;}else{if(!e[f].gd$rating){relVideos[f].rating="0.00";relVideos[f].numRaters="0";}}}).ready(function(){$("#relatedVids").removeClass("relLoading");relVideos.sort(arraySort);$(relVideos).each(function(f){if(relVideos[f].id!=b&&$.inArray(relVideos[f].id,hideTheseVideos)==-1){numRatings=(relVideos[f].numRaters!=1)?"ratings":"rating";numStars=getStarRating(relVideos[f].rating);$("#relatedVids").append("<div class='relVideo'><a class=\""+relVideos[f].id+'" href="http://www.youtube.com/watch?v='+relVideos[f].id+"\"><img class='relVidThumb' src=\""+relVideos[f].thumbnail+'" alt="'+relVideos[f].title+"\" /></a><span class='relVidInfo'><a class=\""+relVideos[f].id+'" href="http://www.youtube.com/watch?v='+relVideos[f].id+'">'+relVideos[f].title+"</a><br /><img class='smstars"+numStars+"' src='/images/videocenter/vc_trans.gif' width='60px' height='15px' /><br />"+relVideos[f].views+" views</span></div><div class='clear'></div>");$("#relatedVids .relVideo a."+relVideos[f].id).bind("click",function(){$("div#videoPlayer div.video").addClass("loading");appendVideo(relVideos[f].id,relVideos[f].title,relVideos[f].description,relVideos[f].rating,relVideos[f].numRaters,autoplayVid);return false;});}});});}else{if(e.length==0){$("#relatedVids").append("<p>We're sorry. We didn't find any related videos.</p>");}}}});}function getRecentVideo(e){var b;var c;var d;var a="http://gdata.youtube.com/feeds/api/users/lowes/uploads/"+e+"?&alt=json-in-script";$.ajax({type:"GET",dataType:"jsonp",url:a,cache:false,success:function(f){var g=f.entry;if(g.author[0].name.$t=="lowes"||g.author[0].name.$t=="Lowes"){if(g.yt$statistics){d=g.yt$statistics.viewCount;}else{d="0";}if(g.gd$rating){b=g.gd$rating.average;c=g.gd$rating.numRaters;}else{if(!g.gd$rating){b="0.00";c="0";}}$("#errMsg").css("display","none");if($.inArray(e,hideTheseVideos)==-1){numRatings=(c!=1)?"ratings":"rating";numStars=getStarRating(b);$("#recentVids").prepend("<div class='relVideo'><a class=\""+e+'" href="http://www.youtube.com/watch?v='+e+"\"><img class='relVidThumb' src=\"http://i.ytimg.com/vi/"+e+'/2.jpg" alt="'+g.title.$t+"\" /></a><span class='relVidInfo'><a class=\""+e+'" href="http://www.youtube.com/watch?v='+e+'">'+g.title.$t+"</a><br /><img class='smstars"+numStars+"' src='/images/videocenter/vc_trans.gif' width='60px' height='15px' /><br />"+d+" views</span></div><div class='clear'></div>");$("#recentVids .relVideo a."+e).bind("click",function(){$("div#videoPlayer div.video").addClass("loading");appendVideo(e,g.title.$t,g.media$group.media$description.$t,b,c,autoplayVid);return false;});}}else{alert("The requested video is not from Lowe's.");}}});}function getSuggestedVideos(){suggestedVideos=[];var a="http://gdata.youtube.com/feeds/api/users/lowes/uploads?alt=json-in-script&max-results=30";$.ajax({type:"GET",dataType:"jsonp",url:a,cache:false,success:function(d){var c=d.feed;var b=c.entry||[];if(b.length>0){$(b).each(function(e){suggestedVideos[e]=[];suggestedVideos[e].id=stripFeature(b[e].link[0].href.substring(b[e].link[0].href.indexOf("=")+1,b[e].link[0].href.length));suggestedVideos[e].url=b[e].link[0].href;suggestedVideos[e].title=b[e].title.$t;suggestedVideos[e].description=b[e].media$group.media$description.$t;if(b[e].yt$statistics){thisViews=b[e].yt$statistics.viewCount;}else{thisViews="0";}if(b[e].gd$rating){thisRating=b[e].gd$rating.average;thisRaters=b[e].gd$rating.numRaters;}else{if(!b[e].gd$rating){thisRating="0.00";thisRaters="0";}}}).ready(function(){$("#videoWrapper").css("display","block");suggestedVideos.sort(arraySort);$(suggestedVideos).each(function(e){if($.inArray(suggestedVideos[e].id,hideTheseVideos)==-1){$("#videoWrapper ul").append('<li><a id="'+suggestedVideos[e].id+'" href="http://www.youtube.com/watch?v='+suggestedVideos[e].id+'"><img src="http://i.ytimg.com/vi/'+suggestedVideos[e].id+'/2.jpg" alt="'+suggestedVideos[e].title+'" /><span>'+suggestedVideos[e].title+"</span></a></li>");$("#videoWrapper ul a#"+suggestedVideos[e].id).bind("click",function(){getSingleVideo=1;appendVideo(suggestedVideos[e].id,suggestedVideos[e].title,suggestedVideos[e].description,thisRating,thisRaters,autoplayVid);return false;});}});});}}});}function updateRelatedInfo(a){fullWidth=0;videoProducts=[];videoBuyGuides=[];videoHowTos=[];$.ajax({type:"GET",dataType:"xml",cache:false,url:"/xml/vc_videos.xml",success:function(b){$(b).each(function(){$(this).find("video").each(function(c){if($(this).attr("id")==a){if(($(this).attr("pdf"))&&showInstructions){$("div#videoPlayer div.left").append('<a target="blank" class="viewinstructions" href="'+$(this).attr("pdf")+'">View Instructions</a>');}if(showProducts){$(this).find("product").each(function(d){videoProducts[d]=[];videoProducts[d].video=a;videoProducts[d].name=$(this).find("name").text();videoProducts[d].image=$(this).find("image").text();videoProducts[d].url=$(this).find("url").text();});}if(showHowTo){$(this).find("howTo").each(function(d){videoHowTos[d]=[];videoHowTos[d].video=a;videoHowTos[d].title=$(this).find("htTitle").text();videoHowTos[d].url=$(this).find("htLink").text();});}if(showBuyGuide){$(this).find("buyGuide").each(function(d){videoBuyGuides[d]=[];videoBuyGuides[d].video=a;videoBuyGuides[d].title=$(this).find("bgTitle").text();videoBuyGuides[d].url=$(this).find("bgLink").text();});}}}).ready(function(){$("#buyguides").empty();if(videoBuyGuides.length==0){$("#buyguides").append('<li><a href="/cd_Buying+Guides_199503408_">More Buying Guides</a></li>');}else{if(videoBuyGuides.length>=1){$(videoBuyGuides).each(function(c){$("#buyguides").append('<li><a href="'+videoBuyGuides[c].url+'">'+videoBuyGuides[c].title+"</a></li>");}).ready(function(){$("#buyguides").append('<li><a href="/cd_Buying+Guides_199503408_">More Buying Guides</a></li>');});}}$("#howtos").empty();if(videoHowTos.length==0){$("#howtos").append('<li><a href="/cd_How+To+Library_615580068_">More How-To\'s</a></li>');}else{if(videoHowTos.length>=1){$(videoHowTos).each(function(c){$("#howtos").append('<li><a href="'+videoHowTos[c].url+'">'+videoHowTos[c].title+"</a></li>");}).ready(function(){$("#howtos").append('<li><a href="/cd_How+To+Library_615580068_">More How-To\'s</a></li>');});}}$("div.relatedproducts ul").empty();if(videoProducts.length==0){$("div.relatedproducts").css("display","none");$("div.relatedproducts h3").css("display","none");$("div.relatedproducts div.slideControls").css("display","none");}else{if($(videoProducts.length>=1)){$("div.relatedproducts").css("display","block");$("div.relatedproducts div.slideControls").css("display","block");$("div.relatedproducts span.videoSearch").css("display","block");$("div.relatedproducts h3").css("display","block");$(videoProducts).each(function(c){$("div.relatedproducts div.productSlider ul").append('<li><a href="'+videoProducts[c].url+'"><img width="100" height="100" src="'+videoProducts[c].image+'" alt="'+videoProducts[c].name+'" /><span>'+videoProducts[c].name+"</span></a></li>");if(($("div.relatedproducts div.productSlider ul.slideItems li:last").css("width"))){fullWidth+=parseInt($("div.relatedproducts div.productSlider ul.slideItems li:last").css("width"));fullWidth+=parseInt($("div.relatedproducts div.productSlider ul.slideItems li:last").css("padding-left"));fullWidth+=parseInt($("div.relatedproducts div.productSlider ul.slideItems li:last").css("padding-right"));}}).ready(function(){$("div.relatedproducts div.productSlider ul.slideItems").css({width:fullWidth+36});productSlider("div.relatedproducts");});}}});});}});}function getVideoComments(a){comment=[];$("#vidDefaultComments").empty();$("#vidComments").empty();$.ajax({type:"GET",dataType:"jsonp",url:"http://gdata.youtube.com/feeds/api/videos/"+a+"/comments?alt=json-in-script",cache:false,success:function(d){var c=d.feed;var b=c.entry||[];if(b.length>0){$(b).each(function(e){comment[e]=[];comment[e].author=b[e].author[0].name.$t;comment[e].comment=b[e].content.$t;comment[e].published=b[e].published.$t;}).ready(function(){$(comment).each(function(e){$("#vidComments").append('<div class="vidComment"><span class="vidCommentAuthor">'+comment[e].author+"</span><p>"+comment[e].comment+"</p></div>");});});}else{$("#vidComments").append('<div class="vidComment">There are no comments for this video.</div>');}}});}function productSlider(a){var h=4;var k=h*200;if($(a).length>0){$(a+" div.productSlider ul.slideItems").css("left",0);var c=[];$(a+" div.productSlider ul li").each(function(){c.push($(this));});var b=$(a+" div.productSlider");var i=parseInt(c[0].css("width"))+parseInt(c[0].css("padding-right"))+parseInt(c[0].css("padding-left"));var m=0;var d=$(a+" div.slideControls a.prevbtn");var e=$(a+" div.slideControls a.nextbtn");if(m<c.length-(h-1)){e.css("display","block");}if(c.length<=(h-1)){$(a+" div.productSlider ul.slideItems").css({"margin-left":(parseInt($(a+" div.productSlider").css("width"))-parseInt($(a+" div.productSlider ul.slideItems").css("width")))/2});}else{if(c.length>=h){$(a+" div.productSlider ul.slideItems").css("margin","0");}}next_bind=function(){e.unbind("click.slideNext");e.bind("click.slideNext",function(){m++;f(a,0);return false;});};prev_bind=function(){d.unbind("click.slidePrev");d.bind("click.slidePrev",function(){m--;f(a,1);return false;});};prev_bind();next_bind();var g=0;function l(){num_leftx=(m+1)*h;if(m==0||c.length<=h){d.css("display","none");}else{if(m>0){d.css("display","block");}}if(g==1||c.length<=h||num_leftx==c.length){e.css("display","none");}else{e.css("display","block");}}l();function f(o,n){d.unbind("click");e.unbind("click");num_left=c.length-(m*h);if(num_left>=h){g=0;num_left=h;}else{g=1;}my_obj=$(o+" div.productSlider ul.slideItems");if(n==0){move_to=(parseInt(my_obj.css("left")))-(i*num_left);}if(n==1){if(m==0){move_to=0;}else{move_to=(parseInt(my_obj.css("left")))+(i*num_left);}}my_obj.animate({left:move_to+"px"},{queue:false,duration:k,complete:function(){prev_bind();next_bind();}});l();}}}function playlist_change(){if($("#ytPlaylists").length>0){var a=$("#ytPlaylists");psuedoPl=$("#activePlaylist span").text();a.bind("change",function(){$("div#videoPlayer div.video").addClass("loading");change_pl(a);$(psuedoPl).text(resultPl);getVideos($(this).attr("value"));});}}function change_pl(b){var c=b.val();var a=$("#ytPlaylists option");a.each(function(d){if($(this).val()==c){resultPl=$(this).text();$("#activePlaylist span").text(resultPl);}});}function setDefaultPlaylist(c){var a=$("#ytPlaylists option");var b=$("activePlaylist span").text();a.each(function(d){if(this==c){setPlaylist=element.text();b.text(setPlaylist);}});}function showErrorMsg(b,a){hideVideoContent();$("#errMsg").css("display","block").append("<p>"+b+"</p>");if(a){getSuggestedVideos();}else{return false;}}function showVideoContent(){$("#videoPlayer").css("display","block");$("#pcRR").css("display","block");$("#bght").css("display","block");$(".relatedproducts").css("display","block");isContentShowing=1;}function hideVideoContent(){$("#videoPlayer").css("display","none");$("#pcRR").css("display","none");$("#bght").css("display","none");$(".relatedproducts").css("display","none");isContentShowing=0;}function setVideoCookie(c,d,e){var b=new Date();b.setTime(b.getTime()+(e*24*60*60*1000));var a="; expires="+b.toGMTString();document.cookie=c+"="+d+a+"; path=/";}function getVideoCookie(d){var a=d+"=";var b=document.cookie.split(";");for(var e=0;e<b.length;e++){var f=b[e];while(f.charAt(0)==" "){f=f.substring(1,f.length);}if(f.indexOf(a)==0){return f.substring(a.length,f.length);}}return null;}function updateRecentlyViewed(c){var b;var d=getVideoCookie("pcLowesRecentViewed");if(d!=null){var a=d.split(",");if($.inArray(c,a)==-1&&a.length<=9){a.push(c);}else{if($.inArray(c,a)==-1&&a.length==10){b=a.shift(a);a.push(c);}}a.reverse();setVideoCookie("pcLowesRecentViewed",a,30);}$(a).each(function(e){if(b==a[e]){$($("#recentVids .relVideo a").hasClass(b)).remove();}if(!($("#recentVids .relVideo a").hasClass(a[e]))){getRecentVideo(a[e]);}});}function stripFeature(b){var a=b.indexOf("&feature=youtube_gdata");if(a>=0){return b.substring(0,a);}else{return b;}}function getStarRating(a){if(a>=5){return"50";}else{if(a>=4.5&&a<=4.99){return"45";}else{if(a>=4&&a<=4.49){return"40";}else{if(a>=3.5&&a<=3.99){return"35";}else{if(a>=3&&a<=3.49){return"30";}else{if(a>=2.5&&a<=2.99){return"25";}else{if(a>=2&&a<=2.49){return"20";}else{if(a>=1.5&&a<=1.99){return"15";}else{if(a>=1&&a<=1.49){return"10";}else{if(a>=0.5&&a<=0.99){return"05";}else{if(a==0){return"00";}}}}}}}}}}}}(function(){var b=window.Lowes||{};b.NPC=b.NPC||{};b.NPC.Article=b.NPC.Article||{};var a={init:function(){this._setupImageGallery();this._setupAdditionalImagesAccordion();this._setupAnchorLinks();this._setupLeftNav();},_setupImageGallery:function(){var e=$("#image-gallery"),d;if(!e.length){return;}var c=$("div.image-gallery",e);c.each(function(g,h){var l=h;var f=$("img",l).eq(0);if(f.length){d=$(f).width();l.css("width",d+4+"px");}var k=$("object",l).eq(0);if(k.length){d=k.width();l.css("width",d+"px");}});},_setupAdditionalImagesAccordion:function(){var d=$("#add-images-expander"),c=$("#add-images");if(!d.length&&!c.length){return;}c.css("display","none");d.bind("click",function(e){e.preventDefault();if(d.hasClass("open")){b.NPC.Article.hideAdditionalImages();}else{b.NPC.Article.showAdditionalImages();}});},_setupAnchorLinks:function(){var c=$("#add-images");if(!c.length){return;}var d=$("a",$("#article-content"));if(!d.length){return;}d.each(function(f,g){var e=g.href.split("#");if(e[1]&&(e[1]!="top")){g.bind("click",function(){var h=c.css("display");if(h=="none"){b.NPC.Article.showAdditionalImages();}return true;});}});},_setupLeftNav:function(){$("#expandable-nav li.expander:not(.open) ul").hide();$("#expandable-nav li.expander > a").click(function(c){c.preventDefault();$(this).parent().toggleClass("open");$(this).next("ul").toggle();});},showAdditionalImages:function(){var d=$("#add-images-expander"),c=$("#add-images");if(c.length){c.css("display","block");}if(d.length){d.addClass("open");}},hideAdditionalImages:function(){var d=$("#add-images-expander"),c=$("#add-images");if(c.length){c.css("display","none");}if(d.length){d.addClass("open");}}};a.init();b.NPC.Article=a;window.Lowes=b;})();$(document).ready(function(){var a="#top_flexible_area",b="#hero_slideshow";if($(a).length){new Lowes.UI.Carousel(a,{loop:false,controlBar:false,easing:"easeInOutExpo",scroll:7,speed:1000,visible:7}).create();}if($(b).length){new Lowes.UI.Slideshow(b,{controls:"#top_hero_area .slideshow_controls"}).create();}var c=($("#imageDialogContent").length)?$("#imageDialogContent"):$('<div id="imageDialogContent" />');$(".imagepop").click(function(e){e.preventDefault();var f=$(this).attr("title");var g=$(this).attr("href");var d='<img src="'+g+'" />';c.html(d);c.dialog({autoOpen:false,draggable:false,position:"center",modal:true,title:f,width:640,height:509});c.dialog("open");});$(".iframepop").click(function(l){l.preventDefault();var g=$(this).attr("href");var i=g.split("&");var h=i[1].split("=");var f=i[2].split("=");var k=h[1];k=parseInt(k);var n=k+5;var e=f[1];e=parseInt(e);var m=e+32;var d='<div id="frameDialog"><iframe src="'+g+'" width="'+k+'" height="'+e+'" ><p>Your browser does not support iframes.</p></iframe></div>';if($("#frameDialog").length<1){$("body").append(d);$("#frameDialog").dialog({draggable:false,position:"center",modal:true,resizable:false,title:"",width:n,height:m});}else{$("#frameDialog").html('<iframe src="'+g+'" width="'+k+'" height="'+e+'" ><p>Your browser does not support iframes.</p></iframe>').dialog("open");}});$(".vid_details").find("a").bind("click",function(g){g.preventDefault();var d=$(".vid_player").find("iframe");var f=$(this);var h=f.attr("rel");d.attr("src","http://www.youtube.com/embed/"+h+"?autoplay=1&amp;rel=0&amp;fs=1&amp;color1=0xcccccc&amp;color2=0xffffff&amp;border=0&amp;loop=0&amp;wmode=transparent");$(".vid_details").removeClass("selected_vid");f.parents(".vid_details").addClass("selected_vid");});});(function(){var a=window.Lowes||{};a.NPC=a.NPC||{};a.NPC.Social=a.NPC.Social||{};Social={init:function(){this._addSocialLinks();},_addSocialLinks:function(){var c=$("#social-links");if(!c.length){return;}var f=document.location.href.toString(),b=f.split("/"),h=b[3].split("_");f=f.replace(h[1],"null");var e={digg:{href:"http://digg.com/submit?phase=2&url=",display:"Digg"},delicious:{href:"http://delicious.com/save?url=",display:"Delicious"},facebook:{href:"http://www.facebook.com/sharer.php?u=",display:"Facebook"},myspace:{href:"http://www.myspace.com/Modules/PostTo/Pages/?u=",display:"Myspace"},stumbleupon:{href:"http://www.stumbleupon.com/submit?url=",display:"Stumbleupon"},furl:{href:"http://www.furl.net/storeIt.jsp?u=",display:"Furl"},technorati:{href:"http://technorati.com/faves?sub=addfavbtn&add=",display:"Technorati"}};var d="<ul>";for(var g in e){d+="<li>";d+="<a href="+e[g].href+f+" class="+g+" target='_blank'>"+e[g].display+"</a>";d+="</li>";}d+="</ul>";c.html(d);}};a.NPC.Social=Social;window.Lowes=a;})();(function(){$("#article-rail").find("#easy2_myo_crr_quickform").remove();})();(function(){var a=window.Lowes||{};a.NPC=a.NPC||{};window.Lowes=a;});Lowes.NPC.Calculators=(function(){var b=function(f,g){var e=f*12;var d=e+g;return d;};var a=function(e,f){if(f==="down"){var d=Math.floor(e/144);}else{var d=Math.ceil(e/144);}return d;};var c=function(f){var d=Math.round(Math.floor(f/12),0);var e=f-(d*12);return this.feetAndInches={feet:d,inches:e};};return{convertToSqFt:a,combineFeetInches:b,convertToFeetAndInches:c};}());(function(){var a=window.Lowes||{};a.NPC=a.NPC||{};a.NPC.Calculators=a.NPC.Calculators||{};window.Lowes=a;});Lowes.NPC.Calculators.Paint=(function(l){var q=350;var z=200;var e=0;var D=0;var k=0;var F=0;var b=[];var i,a,o,u;var n=["Rectangular","L-shaped","T-shaped","Other","rect","l_shape","t_shape","u_shape","custom"];var d={Rectangular:"Rectangular","L-shaped":"L-Shaped","T-shaped":"T-Shaped",Other:"Other",rect:"Rectangular",l_shape:"L-Shaped",t_shape:"T-Shaped",u_shape:"U-Shaped",custom:"Custom Shape"};var s=0;var r=navigator.userAgent.match(/iPad/i)!=null;var p=Lowes.NPC.Calculators.convertToFeetAndInches;var g=Lowes.NPC.Calculators.convertToSqFt;var m=function(){y.setupAutoUpdate();C();w();c();h();A();l(".calc-holder button").live("click",function(G){G.preventDefault();});l(".calc-holder .buttons a.print-results").die().live("click",function(G){window.print();G.preventDefault();});l(".calc-holder .buttons a.email-results").die().live("click",function(G){G.preventDefault();});l(".calc-holder .buttons button.primary").live("click",function(G){y.calculateTotals("calculate");G.preventDefault();});l(".calc-holder .buttons a.reset").live("click",function(G){y.resetCalculator();G.preventDefault();});};var c=function(){l("#useExistingSpace").change(function(){var G=l("#existingSpace");G.toggle("fast");if(G.hasClass("active-panel")){G.removeClass("active-panel");}else{G.addClass("active-panel");}});};var E=function(M,L,K){var K=null;var J=l("#existingSpace");if(M==="show"){J.show("fast");if(J.hasClass("active-panel")){}else{J.addClass("active-panel");}}else{if(M==="hide"){J.hide("fast");if(J.hasClass("active-panel")){J.removeClass("active-panel");}}}var I=l("#existingSpace button.signInModal"),G=l("#existingSpace button.loadSpaceData"),H=l("#existingSpace select#selectSpace");switch(L){case"signIn":I.show();G.hide();H.attr("disabled","disabled");break;case"showSpaces":I.hide();G.show();H.attr("disabled","");l("#useExistingSpace").attr("checked","checked");break;case"noHomeProfile":I.hide();G.hide();H.hide();K='You haven\'t created a Home Profile. <a href="/MyLowes/app/homeprofile" title="Add Dimensions">Create a Home Profile</a>';break;case"emptyHomeProfile":I.hide();G.hide();H.hide();K='You have no dimensions saved in your Home Profile. <a href="/MyLowes/app/homeprofile" title="Add Dimensions">Add Dimensions</a>';break;case"missingAccount":I.show();G.hide();H.attr("disabled","disabled");K="We could not find your account.";break;case"selectASpace":K="Please select a space to import.";break;}if(K!==null){J.append('<p class="import-error">'+K+"</p>");}if(L=="noHomeProfile"){l("#existingSpace .import-error a").live("click",function(O){var N=l(this).attr("href");cmCreateConversionEventTag("Link to Setup Home Profile","2","Paint Calculator","0");O.preventDefault();setTimeout('document.location = "'+N+'"',400);});}else{if(L=="emptyHomeProfile"){l("#existingSpace .import-error a").live("click",function(O){var N=l(this).attr("href");cmCreateConversionEventTag("Link to Add Home Profile Dimensions","2","Paint Calculator","0");O.preventDefault();setTimeout('document.location = "'+N+'"',400);});}}};var w=function(){l(".signUpModal").live("click.register",function(G){acctModal.registerOpen();G.preventDefault();});if(Lowes.User.isSignedIn()==true){l.get("/MyLowes/app/rest/homeprofile.json?userId="+Lowes.User.Details.id,function(G){}).success(function(G){if(G.responsecode==10&&G.profiles[0]!==undefined){v(G.profiles[0].id);}else{if(G.responsecode==30||G.profiles[0]===undefined){E("hide","noHomeProfile");}}}).error(function(G){E("hide","missingAccount");});}else{E("hide","signIn");}};var v=function(G){l.get("/MyLowes/app/rest/space.json?profilId="+G,function(H){}).success(function(H){if(H.responsecode==10&&H.spaces[0]!==undefined){t(H);}else{if(H.responsecode==30||H.spaces[0]===undefined){E("hide","emptyHomeProfile");}}}).error(function(H){console.log("error on get call - no space data available");});};var t=function(K){var J=l("#selectSpace");if(K.spaces.length>0){var I=K.spaces.length;var L=[];for(var H=0;H<I;H++){if(K.spaces[H].type!=="EXTERIOR"&&K.spaces[H].shapeType!==null&&K.spaces[H].shapeType!=="Other"){var M=d[K.spaces[H].shapeType];L.push('<option value="'+H+'">'+K.spaces[H].name+" ("+M+")</option>");}}if(L.length<1){E("hide","emptyHomeProfile");}else{var G=L.join("");J.append(G);E("show","showSpaces");}l("#existingSpace button.loadSpaceData").die().click(function(Q){if(l("#selectSpace").val()!==undefined&&l("#selectSpace").val()!==""){var P=l("#selectSpace").val();var O=K.spaces[P].shapeType;if(l.inArray(O,n)<=3||K.spaces[P].legacyDimensions!==null){i=true;var N=l.inArray(O,n);}else{i=false;var N=l.inArray(O,n);}if(i==true){y.setupHeightDialog();l("#adjustHeightDialog button.primary-cta").die().live("click",function(){o=l("#adjustHeightDialog input.ft").val();u=l("#adjustHeightDialog input.in").val();f(P,N,K);a.dialog("close");});cmCreateConversionEventTag("Import Legacy Dimensions","1","Paint Calculator","0");}else{f(P,N,K);cmCreateConversionEventTag("Import from New Dimensions Tool","1","Paint Calculator","0");}if(l("#existingSpace p.import-error")){l("#existingSpace p.import-error").remove();}}else{E("show","selectASpace");}Q.preventDefault();});}else{}};var f=function(W,J,X){if(W!==""){l("#wallMeasurements ul li").remove();l("#wallMeasurements .wall-loader").show();l("#refineMeasurements select").val(0);l(".coverage-adjustments select").val(1);l("#setupWallMeasurements").hide("fast");b=[];F=0;var I=d[n[J]];var H="";if(i==true){l("#refineMeasurements .imported-openings-data").hide();var V=JSON.parse(X.spaces[W].shape.dimensions);var Q=V.length;var K=[];for(var U=0;U<Q;U++){var G=V[U].length;K.push(G);var L=V[U].width;K.push(L);}var M=[];if(J==0||J==4){M.push(p(K[0]));M.push(p(K[1]));M.push(p(K[0]));M.push(p(K[1]));}else{if(J==1||J==5){M.push(p(K[0]));M.push(p(K[1]+K[3]));M.push(p(K[2]));M.push(p(K[3]));M.push(p(Math.abs(K[0]-K[2])));M.push(p(K[1]));}else{if(J==2||J==6){M.push(p(K[0]));M.push(p(K[1]));var P=Math.round(Math.abs((K[0]-K[2])/2));M.push(p(P));M.push(p(K[3]));M.push(p(K[2]));M.push(p(K[3]));M.push(p(P));M.push(p(K[1]));}else{if(J==3){}}}}var T=M.length;for(U=0;U<T;U++){var O=U+1;var N=y.createWall(O,2,o,u,M[U].feet,M[U].inches);H+=N;}l("#wallMeasurements .wall-loader").hide();l("#wallMeasurements ul").append(H);var S=l("#wallMeasurements ul li");S.each(function(Y,Z){l(this).hide().fadeIn(1200);});y.setWallTabOrder();y.calculateTotals();cmCreateConversionEventTag("Import Legacy Dimensions","2","Paint Calculator","0");}else{l("#refineMeasurements .imported-openings-data").show();var R="/MyLowes/app/homeprofile/dimension.json?profileId="+X.spaces[W].profileId+"&spaceId="+X.spaces[W].id;l.get(R,function(Y){}).success(function(aa){if(aa.responsecode==10){B(aa);var ae=aa.borders;var Y=ae.length;for(var ab=0;ab<Y;ab++){var af=p(ae[ab].height);var ag=p(ae[ab].width);var ad=ab+1;var Z=y.createWall(ad,2,af.feet,af.inches,ag.feet,ag.inches);H+=Z;}l("#wallMeasurements .wall-loader").hide();l("#wallMeasurements ul").append(H);var ac=l("#wallMeasurements ul li");ac.each(function(ah,ai){l(this).hide().fadeIn(1000);});y.setWallTabOrder();y.calculateTotals();cmCreateConversionEventTag("Import from New Dimensions Tool","2","Paint Calculator","0");}else{if(aa.responsecode==30){l("#wallMeasurements .wall-loader").hide();E("show","emptyHomeProfile");}}}).error(function(Y){});}}};var B=function(J){var H=J.openings;var G=H.length;for(var I=0;I<G;I++){var L=H[I].height*H[I].width;F+=L;}var K=g(F,"down");l("#refineMeasurements .imported-openings-data .openings-sqft").text(K);if(K!==0){l("#refineMeasurements .imported-openings-data input").attr("checked","checked");}y.calculateTotals();};var C=function(){l("#wallQuantity").change(function(){var J=l(this).val();var G=(l("#wallMeasurements .wall").length);var I="";if(J>=G){for(var H=G;H<J;H++){index=H+1;var K=y.createWall(index,1);I+=K;}}else{for(var H=G;H>J;H--){wallID="#wall"+H;l(wallID).fadeOut("fast").remove();}}l("#wallMeasurements ul").append(I);y.setWallTabOrder();cmCreateConversionEventTag("Add Wall Group","2","Paint Calculator","0");l("#wallMeasurements").slideDown("slow");l("#wallQuantity").attr("disabled","disabled");l("#wallMeasurements .wall .ui-input").eq(0).focus();});l("#wallMeasurements ul").append(y.createWall(1,1));l("#wallMeasurements .wall .ui-input").eq(0).focus();l("li.wall").eq(0).addClass("current");y.addWall();y.removeWall();l("li.wall").live("hover",function(G){l("li.wall").removeClass("current");l(this).addClass("current");});y.setWallTabOrder();y.setupWallUsageMetrics();};var h=function(){l("#addWindowsDoors").change(function(){if(l("#refineMeasurements").hasClass("active-panel")){l("#refineMeasurements").removeClass("active-panel");l("#refineMeasurements p").remove();l("#refineMeasurements .imported-openings-data").hide();}else{l("#refineMeasurements").addClass("active-panel");if(F!==0){var G=g(F,"down");l("#refineMeasurements .imported-openings-data input").attr("checked","checked");l("#refineMeasurements .imported-openings-data .openings-sqft").text(G);l("#refineMeasurements .imported-openings-data").show();}else{l("#refineMeasurements ul").show();}cmCreateConversionEventTag("Windows + Door Measurements","1","Paint Calculator","0");}l("#refineMeasurements").toggle("fast");y.calculateTotals();});l("#refineMeasurements .imported-openings-data input").change(function(){y.calculateTotals();});l("#windowsQuantity").change(function(G){y.calculateTotals("windows");G.preventDefault();});l("#doorsQuantity").change(function(G){y.calculateTotals("doors");G.preventDefault();});};var A=function(){l(".coverage-adjustments .paint select").live("change",function(G){cmCreateConversionEventTag("Paint Coats Adjustment","2","Paint Calculator","0");y.calculateCoverage();G.preventDefault();});l(".coverage-adjustments .primer select").live("change",function(G){cmCreateConversionEventTag("Primer Coats Adjustment","2","Paint Calculator","0");y.calculateCoverage();G.preventDefault();});};var y={createWall:function(H,J,G,I,L,M){if(G==undefined){G=0;}if(I==undefined){I=0;}if(L==undefined){L=0;}if(M==undefined){M=0;}var K='<li id="wall'+H+'" class="wall active-wall clearfix">';K+='<h4><span class="wall-number">'+H+"</span></h4>";K+='<input class="ui-input height ft" id="wall'+H+'HeightFt" name="wall'+H+'HeightFt" type="text" pattern="[0-9]*" value="'+G+'" maxlength="3" />';K+='<input class="ui-input height in" id="wall'+H+'HeightIn" name="wall'+H+'HeightIn" type="text" pattern="[0-9]*" value="'+I+'" maxlength="3" />';K+='<span class="by-symbol">x</span>';K+='<input class="ui-input width ft" id="wall'+H+'WidthFt" name="wall'+H+'WidthFt" type="text" pattern="[0-9]*" value="'+L+'" maxlength="3" />';K+='<input class="ui-input width in" id="wall'+H+'WidthIn" name="wall'+H+'WidthIn" type="text" pattern="[0-9]*" value="'+M+'" maxlength="3" />';K+='<div class="wall-total">0 sq. ft.</div>';K+='<a href="" class="delete-wall-btn" title="Remove" tabindex="-1"><b>x</b><span> Remove</span></a>';K+="</li>";return K;},addWall:function(){l("#wallMeasurements").append('<button type="button" title="Add a Wall" class="add-wall-btn" tabIndex="199"><b>+</b> <span>Add a Wall</span></button>');l(".add-wall-btn").live("click",function(H){var G=(l("#wallMeasurements ul li").length+1);l("#wallMeasurements ul").append(y.createWall(G,1));var I=l("#wallMeasurements ul li").filter(":last");I.hide().fadeIn(1000);I.find(".ui-input").eq(0).focus().select();l("#wallMeasurements ul li.active-wall").each(function(K){var J=K+1;l(this).find("span.wall-number").text(J);});l("#wallQuantity").attr("disabled","disabled");cmCreateConversionEventTag("Click Add A Wall Button","2","Paint Calculator","0");y.setWallTabOrder();H.preventDefault();});},removeWall:function(){l(".delete-wall-btn").live("click",function(G){G.preventDefault();l(this).parent("li.wall").fadeOut("slow");l(this).parent("li.wall").removeClass("active-wall");l("#wallMeasurements ul li.active-wall").each(function(I){var H=I+1;l(this).find("span.wall-number").text(H);});y.setWallTabOrder();y.calculateTotals();});l(".delete-wall-btn").live("keypress",function(G){if(G.keyCode==13){G.preventDefault();return false;}});},calculateWalls:function(){var H=0;var G=l("#wallMeasurements li.active-wall");G.each(function(K,L){var K=K+1;var J=[];var I=l(this).find(".ui-input");I.each(function(O,P){var Q=0;if(l(this).val().length==0){l(this).val(0);var Q=0;}else{if(isNaN(l(this).val())===false){Q=parseInt(l(this).val(),10);}else{l(this).val(0);var Q=0;}}J.push(Q);});var N=Lowes.NPC.Calculators.combineFeetInches(J[0],J[1])*Lowes.NPC.Calculators.combineFeetInches(J[2],J[3]);H+=N;var M=Lowes.NPC.Calculators.convertToSqFt(N);l(this).find(".wall-total").text(M+" sq.ft.");});return H;},calculateWindowsDoors:function(){var M=0;var K=0;var L=0;if(l("#refineMeasurements").hasClass("active-panel")){var J=l("#windowsQuantity").val();var I=(5*12)*(3*12);var M=J*I;var G=l("#doorsQuantity").val();var H=(3*12)*(7*12);var K=G*H;}var L=M+K;return this.refinements={windows:M,doors:K,both:L};},calculateCoverage:function(){var J=l("#paintCoats").val();if(J<=1){J=1;}var L=l("#primerCoats").val();if(L<=1){L=1;}var H=Math.floor((k*J)/q);var N=((k*J)/q)-H;var G=Math.ceil(N*4);if(G>3){H=H+1;G=0;}if(l(".coverage-adjustments .paint .gallons").text()!=H||l(".coverage-adjustments .paint .quarts").text()!=G){l(".coverage-adjustments .paint .gallons").text(H);l(".coverage-adjustments .paint .quarts").text(G);y.flashBackground(l(".coverage-adjustments .paint"));}var K=Math.floor((k*L)/z);var M=((k*L)/z)-K;var I=Math.ceil(M*4);if(I>3){K=K+1;I=0;}if(l(".coverage-adjustments .primer .gallons").text()!=K||l(".coverage-adjustments .primer .quarts").text()!=I){l(".coverage-adjustments .primer .gallons").text(K);l(".coverage-adjustments .primer .quarts").text(I);y.flashBackground(l(".coverage-adjustments .primer"));}},calculateTotals:function(K){e=0;D=0;k=0;var J=0;e=y.calculateWalls();if(F!==0&&l("#refineMeasurements").hasClass("active-panel")&&l(".imported-openings-data input").attr("checked")){J+=F;J+=y.calculateWindowsDoors().both;}else{J+=y.calculateWindowsDoors().both;}var I=e-J;D=Lowes.NPC.Calculators.convertToSqFt(e);var G=Lowes.NPC.Calculators.convertToSqFt(J,"down");k=Lowes.NPC.Calculators.convertToSqFt(I);var H=parseInt(l("#coverage .total-square-feet-refined").text());l("#coverage .total-square-feet-refined").text(k);l("#coverage .total-square-feet").text(D);l("#coverage .wall-doors-sqft").text(G);if(k!==0&&k!==H){y.flashBackground(l(".coverage-totals"));}y.calculateCoverage();switch(K){case"calculate":cmCreateConversionEventTag("Click Calculate Button","2","Paint Calculator","0");y.flashBackground(l(".coverage-totals"));break;case"windows":cmCreateConversionEventTag("Windows + Door Measurements","2","Paint Calculator","0");break;case"doors":cmCreateConversionEventTag("Windows + Door Measurements","2","Paint Calculator","0");break;case"reset":cmCreateConversionEventTag("Click Reset Button","2","Paint Calculator","0");break;}return D;},resetCalculator:function(){if(l("#existingSpace").hasClass("active-panel")){l("#existingSpace").removeClass("active-panel");l("#setupWallMeasurements").show();}l("#existingSpace").hide();l("#wallMeasurements ul li").remove();l("#wallMeasurements .wall-loader").hide();l("#wallQuantity").css("visibility","visible");l("#wallQuantity").val(1);l("#wallQuantity").attr("disabled","");l("#wallMeasurements ul").append(y.createWall(1,1));y.setupWallUsageMetrics();y.setWallTabOrder();l("#wallMeasurements .wall .ui-input").eq(0).focus();l("li.wall").eq(0).addClass("current");l("#refineMeasurements").hide();l("#refineMeasurements").removeClass("active-panel");F=0;l("#refineMeasurements ul").show();l("#refineMeasurements p").remove();l("#refineMeasurements .imported-openings-data").hide();l("#paintCalculator")[0].reset();y.calculateTotals("reset");},setupAutoUpdate:function(){l(".ui-input").live({focus:function(){l("li.wall").removeClass("current");l(this).parent("li.wall").addClass("current");if(r){if(l(this).val()==0){l(this).val("");}}else{l(this).select();}},blur:function(){if(r){if(l(this).val()==""){l(this).val(0);}}},change:function(){y.calculateTotals();}});l(".ui-input.in").live("blur",function(){if(l(this).val()>11){var I=p(l(this).val());var H=l(this).prev("input.ft");var J=parseInt(H.val());var G=parseInt(I.feet);H.val((G+J));l(this).val(I.inches);}});l(".ui-input").live("keypress",function(G){if(G.keyCode==13){y.calculateTotals();return false;}else{return true;}});},setWallTabOrder:function(){var G=l(".active-wall .ui-input");G.each(function(H){var I=H+100;l(this).attr("tabIndex",I);});},flashBackground:function(G){if(!G.css("position","relative")){G.css("position","relative");}var H=G.find(".bg-color-field");H.stop();if(!H.css("position","absolute")){H.css("position","absolute");}H.css({width:G.outerWidth(),height:G.outerHeight(),opacity:1});H.animate({opacity:0},{queue:false,duration:1200});},setupHeightDialog:function(){if(l.browser.msie){var G=l.browser.version,I;G=G.split(".")[0];if(G<8){I=true;}}var J=l("#adjustHeightDialog");var H={closeText:"Close",draggable:false,hide:"fade",modal:true,resizable:false,show:"fade",title:"",width:350};a=J.dialog(H);return false;},setupWallUsageMetrics:function(){var J=l("#wallMeasurements ul .active-wall").eq(0);var I=J.find(".height");var N=J.find(".width");var H=J.find(".ui-input");var K=false;var M=false;var G=false;var L=false;I.each(function(O){l(this).one("blur",function(){var P=parseInt(J.find(".wall-total").text());K=true;if(K==true&&M==true&&G!=true){cmCreateConversionEventTag("Use Wall 1 Inputs","1","Paint Calculator","0");G=true;}if(K==true&&M==true&&P>0&&L!=true){cmCreateConversionEventTag("Use Wall 1 Inputs","2","Paint Calculator","0");L=true;}});});N.each(function(O){l(this).one("blur",function(){var P=parseInt(J.find(".wall-total").text());M=true;if(K==true&&M==true&&G!=true){cmCreateConversionEventTag("Use Wall 1 Inputs","1","Paint Calculator","0");console.log("start wall 1");G=true;}if(K==true&&M==true&&P>0&&L!=true){cmCreateConversionEventTag("Use Wall 1 Inputs","2","Paint Calculator","0");L=true;console.log("start wall 2");}});});}};return{init:function(){m();},calculateTotals:y.calculateTotals,getTotals:function(){return paintTotals={sqFt:D,sqIn:e};}};}(jQuery));$(function(){if($(".calc-paint").length>0){Lowes.NPC.Calculators.Paint.init();}});(function(){var a=window.Lowes||{};a.NPC=a.NPC||{};a.NPC.Calculators=a.NPC.Calculators||{};window.Lowes=a;});Lowes.NPC.Calculators.Mulch=(function(e){var E=0,G=0,D=0,m=0,q="cubicFeet",i="2cuFt",n="areagroup";var k=["Rectangular","L-shaped","T-shaped","Other","rect","l_shape","t_shape","u_shape","custom"];var y={unitTypes:[{type:"08cuFt",title:"0.8 cu. ft. bags",conversionInt:0.8},{type:"2cuFt",title:"2 cu. ft. bags",conversionInt:2},{type:"3cuFt",title:"3 cu. ft. bags",conversionInt:3},{type:"bales",title:"Bales",conversionInt:10},{type:"truckLoad",title:"Truck Loads",conversionInt:300}]};var b={mulchTypes:[{type:"cedar",title:"Cedar",message:"",quantityUnitTypes:[0,1,2],defaultUnitType:1,searchUrl:"/some_url",searchLinkTitle:"Shop Cedar Mulch"},{type:"cypress",title:"Cypress",message:"",quantityUnitTypes:[0,1,2],defaultUnitType:1,searchUrl:"",searchLinkTitle:"Shop Cypress Mulch"},{type:"eucalyptus",title:"Eucalyptus",message:"",quantityUnitTypes:[0,1,2],defaultUnitType:1,searchUrl:"",searchLinkTitle:"Shop Eucalyptus Mulch"},{type:"hardwood",title:"Hardwood",message:"",quantityUnitTypes:[0,1,2],defaultUnitType:1,searchUrl:"",searchLinkTitle:"Shop Hardwood Mulch"},{type:"hemlock",title:"Hemlock",message:"",quantityUnitTypes:[0,1,2],defaultUnitType:1,searchUrl:"",searchLinkTitle:"Shop Hemlock Mulch"},{type:"pine",title:"Pine",message:"",quantityUnitTypes:[0,1,2],defaultUnitType:1,searchUrl:"",searchLinkTitle:"Shop Pine Mulch"},{type:"pine_needles",title:"Pine Needles",message:"",quantityUnitTypes:[3,4],defaultUnitType:3,searchUrl:"",searchLinkTitle:"Shop Pine Needles"},{type:"pine_nuggets",title:"Pine Nuggets",message:"",quantityUnitTypes:[0,1,2],defaultUnitType:1,searchUrl:"",searchLinkTitle:"Shop Pine Nuggets"},{type:"rubber",title:"Rubber",message:"",quantityUnitTypes:[0,1,2],defaultUnitType:1,searchUrl:"",searchLinkTitle:"Shop Rubber Mulch"},{type:"rubber_nuggets",title:"Rubber Nuggets",messsage:"",quantityUnitTypes:[0,1,2],defaultUnitType:1,searchUrl:"",searchLinkTitle:"Shop Rubber Nuggets"}]};var p=navigator.userAgent.match(/iPad/i)!=null;var h={};var f=function(){e(".calc-holder input").die();u();z.setupAutoUpdate();a();g();A();d();t();l();c();z.emailAddModal();e(".calc-holder button").live("click",function(H){H.preventDefault();});e(".calc-holder .buttons a.print-results").die().live("click",function(H){window.print();H.preventDefault();});e(".calc-holder .buttons a.email-results").die().live("click",function(H){H.preventDefault();});e(".calc-holder .buttons button.primary").live("click",function(H){F();o();H.preventDefault();});e(".calc-holder .buttons a.reset").die().live("click",function(H){z.resetCalculator();H.preventDefault();});e(".data-reflection").append('<a id="storeData">Store Data</a>');B();};var B=function(){e("#storeData").live("click",function(H){var I=[];if(n=="areagroup"){e(".active-area").each(function(J,K){var L='{"title":"'+e(this).find(".area-number").text()+'","length":'+e(this).find(".length").val()+',"width":'+e(this).find(".width").val()+"}";I.push(L);});}h.areas=I;h.areaSqFt=Math.round(E*1000)/1000;h.areaAcres=Math.round(G*1000)/1000;h.volume=m;h.depth=D;console.log("data saved",h,JSON.stringify(h));H.preventDefault();});};var a=function(){var H=e("ul.area-radio-group input[name=areaType]:radio");H.each(function(I,J){e(this).change(function(){var K=e(this).val();C(K);n=K;});});};var w=function(N,M,K){var K=null;var L=e(".step1");var J=e(".home-profile-import button.signInModal"),H=e(".home-profile-import button.loadSpaceData"),I=e(".home-profile-import select#selectSpace");switch(M){case"signIn":J.show();H.hide();I.attr("disabled","disabled");break;case"showSpaces":J.hide();H.show();I.attr("disabled","");e("#useExistingSpace").attr("checked","checked");break;case"noHomeProfile":J.hide();H.hide();I.hide();K='You haven\'t created a Home Profile. <a href="/MyLowes/app/homeprofile" title="Add Dimensions">Create a Home Profile</a>';break;case"emptyHomeProfile":J.hide();H.hide();I.hide();K='You have no dimensions saved in your Home Profile. <a href="/MyLowes/app/homeprofile" title="Add Dimensions">Add Dimensions</a>';break;case"missingAccount":J.show();H.hide();I.attr("disabled","disabled");K="We could not find your account.";break;case"selectASpace":K="Please select a space to import.";break;}if(K!==null){e(".home-profile-import").append('<p class="import-error">'+K+"</p>");}};var u=function(){e(".signUpModal").live("click.register",function(H){acctModal.registerOpen();H.preventDefault();});if(Lowes.User.isSignedIn()==true){e.get("/MyLowes/app/rest/homeprofile.json?userId="+Lowes.User.Details.id,function(H){}).success(function(H){if(H.responsecode==10&&H.profiles[0]!==undefined){s(H.profiles[0].id);}else{if(H.responsecode==30||H.profiles[0]===undefined){console.log(H.responsecode,"no home profile");w("hide","noHomeProfile");}}}).error(function(H){console.log(H.responsecode,"missing account");w("hide","missingAccount");});}else{console.log("please signin");w("hide","signIn");}};var s=function(H){e.get("/MyLowes/app/rest/space.json?profilId="+H,function(I){}).success(function(I){if(I.responsecode==10&&I.spaces[0]!==undefined){console.log("data from hp",I);r(I);}else{if(I.responsecode==30||I.spaces[0]===undefined){console.log(I.responsecode,"no homeprofile data available");w("hide","emptyHomeProfile");}}}).error(function(I){console.log("error on get call - no space data available");});};var r=function(L){var K=e("#selectSpace");if(L.spaces.length>0){var J=L.spaces.length;var M=[];for(var I=0;I<J;I++){if(L.spaces[I].type!=="INTERIOR"){if(L.spaces[I].totalFloorSqFt!==null||L.spaces[I].totalFloorSqFt>0){M.push('<option value="'+L.spaces[I].totalFloorSqFt+'">'+L.spaces[I].name+" ("+L.spaces[I].totalFloorSqFt+" sq. ft.)</option>");}else{if(L.spaces[I].shape!==null&&L.spaces[I].legacyArea!==null){M.push('<option value="'+L.spaces[I].legacyArea+'">'+L.spaces[I].name+" ("+L.spaces[I].legacyArea+" sq. ft.)</option>");}}}}if(M.length<1){w("hide","emptyHomeProfile");}else{var H=M.join("");K.append(H);w("show","showSpaces");}e(".home-profile-import button.loadSpaceData").die().click(function(O){console.log("space selected + load clicked");if(K.val()!==undefined&&K.val()!==""){var N=K.val();E=N;G=E*0.09290304/4046.8564224;e("#areaTotal").val(N);e(".area-totals select option").eq(0).attr("selected","selected");if(e(".home-profile-import p.import-error")){e(".home-profile-import p.import-error").remove();}}else{w("show","selectASpace");}O.preventDefault();});}else{}};var C=function(I){var H=e(".step1");var K=e("#areaMeasurements");var J=e(".area-totals");switch(I){case"areagroup":H.removeClass("manual-totals hp-active");break;case"known":H.addClass("manual-totals");H.removeClass("hp-active");E=0;G=0;e(".area-totals #areaTotal").val(0);e(".area-totals input").focus().select();break;case"homeprofile":H.addClass("manual-totals hp-active");E=0;G=0;e(".area-totals #areaTotal").val(0);e(".area-totals input").focus().select();break;}};var g=function(){e("#areaMeasurements ul").append(z.createArea(1,1));e("#areaMeasurements .area .measure-input").eq(0).focus().select();e("li.area").eq(0).addClass("current");z.addArea();z.removeArea();e("li.area").live("hover",function(H){e("li.area").removeClass("current");e(this).addClass("current");});z.setAreaTabOrder();};var A=function(){var I=e(".area-totals #areaTotal");var H=e(".area-totals select");I.die().keyup(function(K){var J=e(this).val();if(H.val()=="sqFt"){E=J;G=E*0.09290304/4046.8564224;I.val(E);}else{if(H.val()=="acres"){G=J;E=G*4046.8564224/0.09290304;I.val(G);}}console.log(E,G,"changed");});H.change(function(){if(e(this).val()=="sqFt"){I.val(Math.round(E*1000)/1000);}else{if(e(this).val()=="acres"){I.val(Math.round(G*1000)/1000);}}});};var d=function(){var J=e("#productType");if(b.mulchTypes.length){var I=[];var K=b.mulchTypes.length;for(var H=0;H<K;H++){I.push('<option value="'+H+'">'+b.mulchTypes[H].title+"</option>");}mulchOptions=I.join("");J.append(mulchOptions);}J.change(function(){var M=e(this).val(),N=b.mulchTypes[M],L=e(".data-reflection .search-link");v(M);F();o();L.attr("href",N.searchUrl);L.find("span").text(N.searchLinkTitle);});};var F=function(){var J=e("#mulchDepth"),H=e(".volume-total"),I;m=(E*D/12);switch(q){case"cubicFeet":I=E*D/12;break;case"cubicYards":I=(E*D/12)/27;break;case"cubicMeters":I=(E*D/12)*0.028316847;break;}I=Math.round(I*100)/100;H.text(I);return I;};var t=function(){var I=e("#mulchDepth"),H=e(".volume-total");I.keyup(function(){D=parseInt(e(this).val());});};var l=function(){var H=e(".volume-results select");H.change(function(){q=e(this).val();F();});};var o=function(){var I=e(".quantity-total"),H;switch(i){case"08cuFt":H=m/0.8;break;case"2cuFt":H=m/2;break;case"3cuFt":H=m/3;break;case"bales":H=m/10;break;case"truckLoad":H=m/300;break;}H=Math.round(H*100)/100;I.text(H);return H;};var c=function(){var H=e(".product-quantity select");H.live("change",function(){i=e(this).val();o();});};var v=function(K){if(K==""){if(y.unitTypes.length){var N=y.unitTypes.length,I=1,O=[];for(var J=0;J<N;J++){if(I==J){O.push('<option value="'+y.unitTypes[J].type+'" selected="selected">'+y.unitTypes[J].title+"</option>");}else{O.push('<option value="'+y.unitTypes[J].type+'">'+y.unitTypes[J].title+"</option>");}}i=y.unitTypes[1].type;unitOptions=O.join("");e(".product-quantity select").empty().append(unitOptions);}}else{console.log(K);var L=b.mulchTypes[K],H=L.quantityUnitTypes,M=L.quantityUnitTypes.length,I=L.defaultUnitType;if(y.unitTypes.length){var O=[];for(var J=0;J<M;J++){unitDataIndex=H[J];if(I==unitDataIndex){O.push('<option value="'+y.unitTypes[unitDataIndex].type+'" selected="selected">'+y.unitTypes[unitDataIndex].title+"</option>");}else{O.push('<option value="'+y.unitTypes[unitDataIndex].type+'">'+y.unitTypes[unitDataIndex].title+"</option>");}}i=y.unitTypes[I].type;console.log("new default unit type "+i);unitOptions=O.join("");e(".product-quantity select").empty().append(unitOptions);}}};var z={createArea:function(H,I,L,K){if(L==undefined){L=0;}if(K==undefined){K=0;}var J='<li id="area'+H+'" class="area active-area clearfix">';J+='<h4><span class="area-number">Area '+H+"</span></h4>";J+='<input class="measure-input length ft" id="area'+H+'LengthFt" name="area'+H+'LengthFt" type="text" pattern="[0-9]*.[0-9]*" value="'+L+'" maxlength="6" />';J+='<span class="by-symbol">x</span>';J+='<input class="measure-input width ft" id="area'+H+'WidthFt" name="area'+H+'WidthFt" type="text" pattern="[0-9]*.[0-9]*" value="'+K+'" maxlength="6" />';J+='<div class="area-total">0 sq. ft.</div>';J+='<a href="" class="delete-area-btn" title="Remove" tabindex="-1"><b>x</b><span> Remove</span></a>';J+="</li>";return J;},addArea:function(){e("#areaMeasurements").append('<button type="button" title="Add Area" class="add-area-btn" tabIndex="199"><b>+</b> <span>Add Area</span></button>');e(".add-area-btn").live("click",function(J){var I=(e("#areaMeasurements ul li").length+1);e("#areaMeasurements ul").append(z.createArea(I,1));var H=e("#areaMeasurements ul li").filter(":last");H.hide().fadeIn(1000);H.find(".measure-input").eq(0).focus().select();e("#areaMeasurements ul li.active-area").each(function(L){var K=L+1;e(this).find("span.area-number").text("Area "+K);});z.setAreaTabOrder();J.preventDefault();});},removeArea:function(){e(".delete-area-btn").live("click",function(H){H.preventDefault();e(this).parent("li.area").fadeOut("slow");e(this).parent("li.area").removeClass("active-area");e("#areaMeasurements ul li.active-area").each(function(J){var I=J+1;e(this).find("span.area-number").text("Area "+I);});z.setAreaTabOrder();z.calculateArea();});e(".delete-area-btn").live("keypress",function(H){if(H.keyCode==13){H.preventDefault();return false;}});},calculateArea:function(){var H=0;var I=e("#areaMeasurements li.active-area");I.each(function(L,M){var L=L+1;var K=[];var J=e(this).find(".measure-input");J.each(function(O,P){var Q=0;if(e(this).val().length==0){e(this).val(0);var Q=0;}else{if(isNaN(e(this).val())===false){Q=parseInt(e(this).val(),10);}else{e(this).val(0);var Q=0;}}K.push(Q);});var N=(K[0]*K[1]);H+=N;E=H;console.log(N,H,E);e(this).find(".area-total").text(N+" sq. ft.");e(".area-totals").find(".areas-total").text(H);});return H;},resetCalculator:function(){e("#areaMeasurements ul li").remove();e("#areaMeasurements .area-loader").hide();e("#areaMeasurements ul").append(z.createArea(1,1));e("#areaMeasurements .area .measure-input").eq(0).focus().select();e("li.area").eq(0).addClass("current");e(".calc-holder .step1").removeClass("manual-totals hp-active");z.setAreaTabOrder();v("");E=G=D=m=0;e(".volume-total").text(0);e(".quantity-total").text(0);e(".info-links a.search-link").attr("href","/some_url");e(".info-links a.search-link").find("span").text("Shop Mulch");e("#mulchCalculator")[0].reset();},setupAutoUpdate:function(){e(".measure-input").live({focus:function(){e("li.wall").removeClass("current");e(this).parent("li.wall").addClass("current");if(p){if(e(this).val()==0){e(this).val("");}}else{e(this).select();}},blur:function(){if(p){if(e(this).val()==""){e(this).val(0);}}},change:function(){},keyup:function(){z.calculateArea();}});e(".measure-input").live("keypress",function(H){if(H.keyCode==13){return false;}else{return true;}});},setAreaTabOrder:function(){var H=e(".active-area .measure-input");H.each(function(I){var J=I+100;e(this).attr("tabIndex",J);});},flashBackground:function(H){if(!H.css("position","relative")){H.css("position","relative");}var I=H.find(".bg-color-field");I.stop();if(!I.css("position","absolute")){I.css("position","absolute");}I.css({width:H.outerWidth(),height:H.outerHeight(),opacity:1});I.animate({opacity:0},{queue:false,duration:1200});},emailAddModal:function(){e(".email-results").bind("click",function(I){e(".mylowes_modal .close").click();$this=e(this);$emailModal=e("#email_results_modal");e("div.clearfix,div.legal_disclaimer","#email_results_modal .modal_content").show();$linkPosition=$this.position();$linkOffset=$this.offset();var H=(e(".calc-holder").width()-430)/2;$emailModal.css({top:($linkPosition.top+30),left:H,position:"absolute"});$emailModal.appendTo(e(".calc-holder"));$emailModal.fadeIn(function(){e("html, body").animate({scrollTop:$emailModal.offset().top-20},1000);});e(".close,.cancel","#email_results_modal").die("click").live("click",function(){e("#email_results_modal").stop().fadeOut("fast");return false;});e(".cancel_email").die("click").live("click",function(){e(this).closest(".email_results_alt").fadeOut(function(){e(this).remove();if(e(".altEmailAddress < 4")){e(".add_email_address").fadeIn();}});return false;});e(".add_email_address").die("click").live("click",function(){$src=e("#email_results_email");if(e(".altEmailAddress < 4")){$insertAfter=$src.closest("div").find(".email_results_alt:last");if(!$insertAfter.length){$insertAfter=$src;}$insertAfter.after('<div class="email_results_alt clearfix"><a href="#" class="cancel_email"><img src="/images/mylowes/icon-remove.gif" /></a><input type="text" maxlength="70" value="" name="recipEmail_'+e(".altEmailAddress").length+'" class="altEmailAddress"></div>');}if(e(".altEmailAddress").length==4){e(this).hide();}return false;});e("#email_results_modal .send").die("click").live("click",function(){$sendLabel=e(this).find("span");$emailResultsModal=e("#email_results_modal");$emailInputFirst=e("#email_results_email");$sendLabel.text("Sending Message...");$emailResultsModal.find("#result").hide().end().find(".error").removeClass("error");numOfBadEmails=0;sendList=[];$inputAutoFocus=0;$emailInputFirst.closest("div").find("input").each(function(K){emailVal=e.trim(e(this).val());if(emailVal&&!isEmail(emailVal)||K==0&&!emailVal){numOfBadEmails++;if(!$inputAutoFocus){$inputAutoFocus=e(this);}}else{if(isEmail(emailVal)){sendList[K]=emailVal;}}});if(sendList.length==0||numOfBadEmails){$emailResultsModal.find("label[for=recipientEmail]").addClass(".error");x=0;for(x=1;x<=2;x++){$emailResultsModal.stop().animate({left:"-=25"},10).animate({left:"+=12.5"},50);}$emailResultsModal.find("#result").html('<div class="validate_error error_message">Please enter a valid email address.</div>').fadeIn("fast");$sendLabel.text("Send Message");$inputAutoFocus[0].focus();}else{if($emailResultsModal.find('input[name="copy_me"]:checked').length){sendList[sendList.length]=readCookie("logonId");}emailCount=sendList.length;sendList=sendList.join(",");emailData={recipientEmail:sendList,sender:e("#email_results_name").val()};var J=e.extend({},emailData,Lowes.My.FoldersAndLists.LandingPage.binLocation);e.ajax({type:"POST",url:"emailView",data:J,success:function(){productCount=e(".product_count strong").text();cmCreateConversionEventTag("E-mail Calculator Results","2","Mulch Calculator","0");e("#email_results_modal .send span").text("Send Message");e("#email_results_modal #result").fadeOut("fast").html('<div class="added_message">Your list has been sent.</div>').fadeIn("fast");e("div.clearfix,div.legal_disclaimer","#email_results_modal .modal_content").hide();e("#email_results_modal").delay(3000).fadeOut(500,function(){e(".modal_cover").fadeOut("fast",function(){e(this).remove();});e("#email_results_modal .added_message,.email_results_alt").remove();e("textarea,input:text","#email_results_modal").val("");e("input:checkbox","#email_results_modal").removeAttr("checked");});},error:function(){}});}return false;});return false;});}};return{init:function(){f();},mulchData:h};}(jQuery));$(function(){if($(".calc-mulch").length>0){Lowes.NPC.Calculators.Mulch.init();}});