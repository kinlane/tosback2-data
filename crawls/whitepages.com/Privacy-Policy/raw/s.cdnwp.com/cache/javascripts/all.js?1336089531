/** File: /common/javascripts/jquery.js **/
/*!
 * jQuery JavaScript Library v1.4.4
 * http://jquery.com/
 *
 * Copyright 2010, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2010, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Thu Nov 11 19:04:53 2010 -0500
 */
(function(E,B){function ka(a,b,d){if(d===B&&a.nodeType===1){d=a.getAttribute("data-"+b);if(typeof d==="string"){try{d=d==="true"?true:d==="false"?false:d==="null"?null:!c.isNaN(d)?parseFloat(d):Ja.test(d)?c.parseJSON(d):d}catch(e){}c.data(a,b,d)}else d=B}return d}function U(){return false}function ca(){return true}function la(a,b,d){d[0].type=a;return c.event.handle.apply(b,d)}function Ka(a){var b,d,e,f,h,l,k,o,x,r,A,C=[];f=[];h=c.data(this,this.nodeType?"events":"__events__");if(typeof h==="function")h=
h.events;if(!(a.liveFired===this||!h||!h.live||a.button&&a.type==="click")){if(a.namespace)A=RegExp("(^|\\.)"+a.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)");a.liveFired=this;var J=h.live.slice(0);for(k=0;k<J.length;k++){h=J[k];h.origType.replace(X,"")===a.type?f.push(h.selector):J.splice(k--,1)}f=c(a.target).closest(f,a.currentTarget);o=0;for(x=f.length;o<x;o++){r=f[o];for(k=0;k<J.length;k++){h=J[k];if(r.selector===h.selector&&(!A||A.test(h.namespace))){l=r.elem;e=null;if(h.preType==="mouseenter"||
h.preType==="mouseleave"){a.type=h.preType;e=c(a.relatedTarget).closest(h.selector)[0]}if(!e||e!==l)C.push({elem:l,handleObj:h,level:r.level})}}}o=0;for(x=C.length;o<x;o++){f=C[o];if(d&&f.level>d)break;a.currentTarget=f.elem;a.data=f.handleObj.data;a.handleObj=f.handleObj;A=f.handleObj.origHandler.apply(f.elem,arguments);if(A===false||a.isPropagationStopped()){d=f.level;if(A===false)b=false;if(a.isImmediatePropagationStopped())break}}return b}}function Y(a,b){return(a&&a!=="*"?a+".":"")+b.replace(La,
"`").replace(Ma,"&")}function ma(a,b,d){if(c.isFunction(b))return c.grep(a,function(f,h){return!!b.call(f,h,f)===d});else if(b.nodeType)return c.grep(a,function(f){return f===b===d});else if(typeof b==="string"){var e=c.grep(a,function(f){return f.nodeType===1});if(Na.test(b))return c.filter(b,e,!d);else b=c.filter(b,e)}return c.grep(a,function(f){return c.inArray(f,b)>=0===d})}function na(a,b){var d=0;b.each(function(){if(this.nodeName===(a[d]&&a[d].nodeName)){var e=c.data(a[d++]),f=c.data(this,
e);if(e=e&&e.events){delete f.handle;f.events={};for(var h in e)for(var l in e[h])c.event.add(this,h,e[h][l],e[h][l].data)}}})}function Oa(a,b){b.src?c.ajax({url:b.src,async:false,dataType:"script"}):c.globalEval(b.text||b.textContent||b.innerHTML||"");b.parentNode&&b.parentNode.removeChild(b)}function oa(a,b,d){var e=b==="width"?a.offsetWidth:a.offsetHeight;if(d==="border")return e;c.each(b==="width"?Pa:Qa,function(){d||(e-=parseFloat(c.css(a,"padding"+this))||0);if(d==="margin")e+=parseFloat(c.css(a,
"margin"+this))||0;else e-=parseFloat(c.css(a,"border"+this+"Width"))||0});return e}function da(a,b,d,e){if(c.isArray(b)&&b.length)c.each(b,function(f,h){d||Ra.test(a)?e(a,h):da(a+"["+(typeof h==="object"||c.isArray(h)?f:"")+"]",h,d,e)});else if(!d&&b!=null&&typeof b==="object")c.isEmptyObject(b)?e(a,""):c.each(b,function(f,h){da(a+"["+f+"]",h,d,e)});else e(a,b)}function S(a,b){var d={};c.each(pa.concat.apply([],pa.slice(0,b)),function(){d[this]=a});return d}function qa(a){if(!ea[a]){var b=c("<"+
a+">").appendTo("body"),d=b.css("display");b.remove();if(d==="none"||d==="")d="block";ea[a]=d}return ea[a]}function fa(a){return c.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:false}var t=E.document,c=function(){function a(){if(!b.isReady){try{t.documentElement.doScroll("left")}catch(j){setTimeout(a,1);return}b.ready()}}var b=function(j,s){return new b.fn.init(j,s)},d=E.jQuery,e=E.$,f,h=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]+)$)/,l=/\S/,k=/^\s+/,o=/\s+$/,x=/\W/,r=/\d/,A=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,
C=/^[\],:{}\s]*$/,J=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,w=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,I=/(?:^|:|,)(?:\s*\[)+/g,L=/(webkit)[ \/]([\w.]+)/,g=/(opera)(?:.*version)?[ \/]([\w.]+)/,i=/(msie) ([\w.]+)/,n=/(mozilla)(?:.*? rv:([\w.]+))?/,m=navigator.userAgent,p=false,q=[],u,y=Object.prototype.toString,F=Object.prototype.hasOwnProperty,M=Array.prototype.push,N=Array.prototype.slice,O=String.prototype.trim,D=Array.prototype.indexOf,R={};b.fn=b.prototype={init:function(j,
s){var v,z,H;if(!j)return this;if(j.nodeType){this.context=this[0]=j;this.length=1;return this}if(j==="body"&&!s&&t.body){this.context=t;this[0]=t.body;this.selector="body";this.length=1;return this}if(typeof j==="string")if((v=h.exec(j))&&(v[1]||!s))if(v[1]){H=s?s.ownerDocument||s:t;if(z=A.exec(j))if(b.isPlainObject(s)){j=[t.createElement(z[1])];b.fn.attr.call(j,s,true)}else j=[H.createElement(z[1])];else{z=b.buildFragment([v[1]],[H]);j=(z.cacheable?z.fragment.cloneNode(true):z.fragment).childNodes}return b.merge(this,
j)}else{if((z=t.getElementById(v[2]))&&z.parentNode){if(z.id!==v[2])return f.find(j);this.length=1;this[0]=z}this.context=t;this.selector=j;return this}else if(!s&&!x.test(j)){this.selector=j;this.context=t;j=t.getElementsByTagName(j);return b.merge(this,j)}else return!s||s.jquery?(s||f).find(j):b(s).find(j);else if(b.isFunction(j))return f.ready(j);if(j.selector!==B){this.selector=j.selector;this.context=j.context}return b.makeArray(j,this)},selector:"",jquery:"1.4.4",length:0,size:function(){return this.length},
toArray:function(){return N.call(this,0)},get:function(j){return j==null?this.toArray():j<0?this.slice(j)[0]:this[j]},pushStack:function(j,s,v){var z=b();b.isArray(j)?M.apply(z,j):b.merge(z,j);z.prevObject=this;z.context=this.context;if(s==="find")z.selector=this.selector+(this.selector?" ":"")+v;else if(s)z.selector=this.selector+"."+s+"("+v+")";return z},each:function(j,s){return b.each(this,j,s)},ready:function(j){b.bindReady();if(b.isReady)j.call(t,b);else q&&q.push(j);return this},eq:function(j){return j===
-1?this.slice(j):this.slice(j,+j+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(N.apply(this,arguments),"slice",N.call(arguments).join(","))},map:function(j){return this.pushStack(b.map(this,function(s,v){return j.call(s,v,s)}))},end:function(){return this.prevObject||b(null)},push:M,sort:[].sort,splice:[].splice};b.fn.init.prototype=b.fn;b.extend=b.fn.extend=function(){var j,s,v,z,H,G=arguments[0]||{},K=1,Q=arguments.length,ga=false;
if(typeof G==="boolean"){ga=G;G=arguments[1]||{};K=2}if(typeof G!=="object"&&!b.isFunction(G))G={};if(Q===K){G=this;--K}for(;K<Q;K++)if((j=arguments[K])!=null)for(s in j){v=G[s];z=j[s];if(G!==z)if(ga&&z&&(b.isPlainObject(z)||(H=b.isArray(z)))){if(H){H=false;v=v&&b.isArray(v)?v:[]}else v=v&&b.isPlainObject(v)?v:{};G[s]=b.extend(ga,v,z)}else if(z!==B)G[s]=z}return G};b.extend({noConflict:function(j){E.$=e;if(j)E.jQuery=d;return b},isReady:false,readyWait:1,ready:function(j){j===true&&b.readyWait--;
if(!b.readyWait||j!==true&&!b.isReady){if(!t.body)return setTimeout(b.ready,1);b.isReady=true;if(!(j!==true&&--b.readyWait>0))if(q){var s=0,v=q;for(q=null;j=v[s++];)j.call(t,b);b.fn.trigger&&b(t).trigger("ready").unbind("ready")}}},bindReady:function(){if(!p){p=true;if(t.readyState==="complete")return setTimeout(b.ready,1);if(t.addEventListener){t.addEventListener("DOMContentLoaded",u,false);E.addEventListener("load",b.ready,false)}else if(t.attachEvent){t.attachEvent("onreadystatechange",u);E.attachEvent("onload",
b.ready);var j=false;try{j=E.frameElement==null}catch(s){}t.documentElement.doScroll&&j&&a()}}},isFunction:function(j){return b.type(j)==="function"},isArray:Array.isArray||function(j){return b.type(j)==="array"},isWindow:function(j){return j&&typeof j==="object"&&"setInterval"in j},isNaN:function(j){return j==null||!r.test(j)||isNaN(j)},type:function(j){return j==null?String(j):R[y.call(j)]||"object"},isPlainObject:function(j){if(!j||b.type(j)!=="object"||j.nodeType||b.isWindow(j))return false;if(j.constructor&&
!F.call(j,"constructor")&&!F.call(j.constructor.prototype,"isPrototypeOf"))return false;for(var s in j);return s===B||F.call(j,s)},isEmptyObject:function(j){for(var s in j)return false;return true},error:function(j){throw j;},parseJSON:function(j){if(typeof j!=="string"||!j)return null;j=b.trim(j);if(C.test(j.replace(J,"@").replace(w,"]").replace(I,"")))return E.JSON&&E.JSON.parse?E.JSON.parse(j):(new Function("return "+j))();else b.error("Invalid JSON: "+j)},noop:function(){},globalEval:function(j){if(j&&
l.test(j)){var s=t.getElementsByTagName("head")[0]||t.documentElement,v=t.createElement("script");v.type="text/javascript";if(b.support.scriptEval)v.appendChild(t.createTextNode(j));else v.text=j;s.insertBefore(v,s.firstChild);s.removeChild(v)}},nodeName:function(j,s){return j.nodeName&&j.nodeName.toUpperCase()===s.toUpperCase()},each:function(j,s,v){var z,H=0,G=j.length,K=G===B||b.isFunction(j);if(v)if(K)for(z in j){if(s.apply(j[z],v)===false)break}else for(;H<G;){if(s.apply(j[H++],v)===false)break}else if(K)for(z in j){if(s.call(j[z],
z,j[z])===false)break}else for(v=j[0];H<G&&s.call(v,H,v)!==false;v=j[++H]);return j},trim:O?function(j){return j==null?"":O.call(j)}:function(j){return j==null?"":j.toString().replace(k,"").replace(o,"")},makeArray:function(j,s){var v=s||[];if(j!=null){var z=b.type(j);j.length==null||z==="string"||z==="function"||z==="regexp"||b.isWindow(j)?M.call(v,j):b.merge(v,j)}return v},inArray:function(j,s){if(s.indexOf)return s.indexOf(j);for(var v=0,z=s.length;v<z;v++)if(s[v]===j)return v;return-1},merge:function(j,
s){var v=j.length,z=0;if(typeof s.length==="number")for(var H=s.length;z<H;z++)j[v++]=s[z];else for(;s[z]!==B;)j[v++]=s[z++];j.length=v;return j},grep:function(j,s,v){var z=[],H;v=!!v;for(var G=0,K=j.length;G<K;G++){H=!!s(j[G],G);v!==H&&z.push(j[G])}return z},map:function(j,s,v){for(var z=[],H,G=0,K=j.length;G<K;G++){H=s(j[G],G,v);if(H!=null)z[z.length]=H}return z.concat.apply([],z)},guid:1,proxy:function(j,s,v){if(arguments.length===2)if(typeof s==="string"){v=j;j=v[s];s=B}else if(s&&!b.isFunction(s)){v=
s;s=B}if(!s&&j)s=function(){return j.apply(v||this,arguments)};if(j)s.guid=j.guid=j.guid||s.guid||b.guid++;return s},access:function(j,s,v,z,H,G){var K=j.length;if(typeof s==="object"){for(var Q in s)b.access(j,Q,s[Q],z,H,v);return j}if(v!==B){z=!G&&z&&b.isFunction(v);for(Q=0;Q<K;Q++)H(j[Q],s,z?v.call(j[Q],Q,H(j[Q],s)):v,G);return j}return K?H(j[0],s):B},now:function(){return(new Date).getTime()},uaMatch:function(j){j=j.toLowerCase();j=L.exec(j)||g.exec(j)||i.exec(j)||j.indexOf("compatible")<0&&n.exec(j)||
[];return{browser:j[1]||"",version:j[2]||"0"}},browser:{}});b.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(j,s){R["[object "+s+"]"]=s.toLowerCase()});m=b.uaMatch(m);if(m.browser){b.browser[m.browser]=true;b.browser.version=m.version}if(b.browser.webkit)b.browser.safari=true;if(D)b.inArray=function(j,s){return D.call(s,j)};if(!/\s/.test("\u00a0")){k=/^[\s\xA0]+/;o=/[\s\xA0]+$/}f=b(t);if(t.addEventListener)u=function(){t.removeEventListener("DOMContentLoaded",u,
false);b.ready()};else if(t.attachEvent)u=function(){if(t.readyState==="complete"){t.detachEvent("onreadystatechange",u);b.ready()}};return E.jQuery=E.$=b}();(function(){c.support={};var a=t.documentElement,b=t.createElement("script"),d=t.createElement("div"),e="script"+c.now();d.style.display="none";d.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var f=d.getElementsByTagName("*"),h=d.getElementsByTagName("a")[0],l=t.createElement("select"),
k=l.appendChild(t.createElement("option"));if(!(!f||!f.length||!h)){c.support={leadingWhitespace:d.firstChild.nodeType===3,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/red/.test(h.getAttribute("style")),hrefNormalized:h.getAttribute("href")==="/a",opacity:/^0.55$/.test(h.style.opacity),cssFloat:!!h.style.cssFloat,checkOn:d.getElementsByTagName("input")[0].value==="on",optSelected:k.selected,deleteExpando:true,optDisabled:false,checkClone:false,
scriptEval:false,noCloneEvent:true,boxModel:null,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableHiddenOffsets:true};l.disabled=true;c.support.optDisabled=!k.disabled;b.type="text/javascript";try{b.appendChild(t.createTextNode("window."+e+"=1;"))}catch(o){}a.insertBefore(b,a.firstChild);if(E[e]){c.support.scriptEval=true;delete E[e]}try{delete b.test}catch(x){c.support.deleteExpando=false}a.removeChild(b);if(d.attachEvent&&d.fireEvent){d.attachEvent("onclick",function r(){c.support.noCloneEvent=
false;d.detachEvent("onclick",r)});d.cloneNode(true).fireEvent("onclick")}d=t.createElement("div");d.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";a=t.createDocumentFragment();a.appendChild(d.firstChild);c.support.checkClone=a.cloneNode(true).cloneNode(true).lastChild.checked;c(function(){var r=t.createElement("div");r.style.width=r.style.paddingLeft="1px";t.body.appendChild(r);c.boxModel=c.support.boxModel=r.offsetWidth===2;if("zoom"in r.style){r.style.display="inline";r.style.zoom=
1;c.support.inlineBlockNeedsLayout=r.offsetWidth===2;r.style.display="";r.innerHTML="<div style='width:4px;'></div>";c.support.shrinkWrapBlocks=r.offsetWidth!==2}r.innerHTML="<table><tr><td style='padding:0;display:none'></td><td>t</td></tr></table>";var A=r.getElementsByTagName("td");c.support.reliableHiddenOffsets=A[0].offsetHeight===0;A[0].style.display="";A[1].style.display="none";c.support.reliableHiddenOffsets=c.support.reliableHiddenOffsets&&A[0].offsetHeight===0;r.innerHTML="";t.body.removeChild(r).style.display=
"none"});a=function(r){var A=t.createElement("div");r="on"+r;var C=r in A;if(!C){A.setAttribute(r,"return;");C=typeof A[r]==="function"}return C};c.support.submitBubbles=a("submit");c.support.changeBubbles=a("change");a=b=d=f=h=null}})();var ra={},Ja=/^(?:\{.*\}|\[.*\])$/;c.extend({cache:{},uuid:0,expando:"jQuery"+c.now(),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},data:function(a,b,d){if(c.acceptData(a)){a=a==E?ra:a;var e=a.nodeType,f=e?a[c.expando]:null,h=
c.cache;if(!(e&&!f&&typeof b==="string"&&d===B)){if(e)f||(a[c.expando]=f=++c.uuid);else h=a;if(typeof b==="object")if(e)h[f]=c.extend(h[f],b);else c.extend(h,b);else if(e&&!h[f])h[f]={};a=e?h[f]:h;if(d!==B)a[b]=d;return typeof b==="string"?a[b]:a}}},removeData:function(a,b){if(c.acceptData(a)){a=a==E?ra:a;var d=a.nodeType,e=d?a[c.expando]:a,f=c.cache,h=d?f[e]:e;if(b){if(h){delete h[b];d&&c.isEmptyObject(h)&&c.removeData(a)}}else if(d&&c.support.deleteExpando)delete a[c.expando];else if(a.removeAttribute)a.removeAttribute(c.expando);
else if(d)delete f[e];else for(var l in a)delete a[l]}},acceptData:function(a){if(a.nodeName){var b=c.noData[a.nodeName.toLowerCase()];if(b)return!(b===true||a.getAttribute("classid")!==b)}return true}});c.fn.extend({data:function(a,b){var d=null;if(typeof a==="undefined"){if(this.length){var e=this[0].attributes,f;d=c.data(this[0]);for(var h=0,l=e.length;h<l;h++){f=e[h].name;if(f.indexOf("data-")===0){f=f.substr(5);ka(this[0],f,d[f])}}}return d}else if(typeof a==="object")return this.each(function(){c.data(this,
a)});var k=a.split(".");k[1]=k[1]?"."+k[1]:"";if(b===B){d=this.triggerHandler("getData"+k[1]+"!",[k[0]]);if(d===B&&this.length){d=c.data(this[0],a);d=ka(this[0],a,d)}return d===B&&k[1]?this.data(k[0]):d}else return this.each(function(){var o=c(this),x=[k[0],b];o.triggerHandler("setData"+k[1]+"!",x);c.data(this,a,b);o.triggerHandler("changeData"+k[1]+"!",x)})},removeData:function(a){return this.each(function(){c.removeData(this,a)})}});c.extend({queue:function(a,b,d){if(a){b=(b||"fx")+"queue";var e=
c.data(a,b);if(!d)return e||[];if(!e||c.isArray(d))e=c.data(a,b,c.makeArray(d));else e.push(d);return e}},dequeue:function(a,b){b=b||"fx";var d=c.queue(a,b),e=d.shift();if(e==="inprogress")e=d.shift();if(e){b==="fx"&&d.unshift("inprogress");e.call(a,function(){c.dequeue(a,b)})}}});c.fn.extend({queue:function(a,b){if(typeof a!=="string"){b=a;a="fx"}if(b===B)return c.queue(this[0],a);return this.each(function(){var d=c.queue(this,a,b);a==="fx"&&d[0]!=="inprogress"&&c.dequeue(this,a)})},dequeue:function(a){return this.each(function(){c.dequeue(this,
a)})},delay:function(a,b){a=c.fx?c.fx.speeds[a]||a:a;b=b||"fx";return this.queue(b,function(){var d=this;setTimeout(function(){c.dequeue(d,b)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])}});var sa=/[\n\t]/g,ha=/\s+/,Sa=/\r/g,Ta=/^(?:href|src|style)$/,Ua=/^(?:button|input)$/i,Va=/^(?:button|input|object|select|textarea)$/i,Wa=/^a(?:rea)?$/i,ta=/^(?:radio|checkbox)$/i;c.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",
colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};c.fn.extend({attr:function(a,b){return c.access(this,a,b,true,c.attr)},removeAttr:function(a){return this.each(function(){c.attr(this,a,"");this.nodeType===1&&this.removeAttribute(a)})},addClass:function(a){if(c.isFunction(a))return this.each(function(x){var r=c(this);r.addClass(a.call(this,x,r.attr("class")))});if(a&&typeof a==="string")for(var b=(a||"").split(ha),d=0,e=this.length;d<e;d++){var f=this[d];if(f.nodeType===
1)if(f.className){for(var h=" "+f.className+" ",l=f.className,k=0,o=b.length;k<o;k++)if(h.indexOf(" "+b[k]+" ")<0)l+=" "+b[k];f.className=c.trim(l)}else f.className=a}return this},removeClass:function(a){if(c.isFunction(a))return this.each(function(o){var x=c(this);x.removeClass(a.call(this,o,x.attr("class")))});if(a&&typeof a==="string"||a===B)for(var b=(a||"").split(ha),d=0,e=this.length;d<e;d++){var f=this[d];if(f.nodeType===1&&f.className)if(a){for(var h=(" "+f.className+" ").replace(sa," "),
l=0,k=b.length;l<k;l++)h=h.replace(" "+b[l]+" "," ");f.className=c.trim(h)}else f.className=""}return this},toggleClass:function(a,b){var d=typeof a,e=typeof b==="boolean";if(c.isFunction(a))return this.each(function(f){var h=c(this);h.toggleClass(a.call(this,f,h.attr("class"),b),b)});return this.each(function(){if(d==="string")for(var f,h=0,l=c(this),k=b,o=a.split(ha);f=o[h++];){k=e?k:!l.hasClass(f);l[k?"addClass":"removeClass"](f)}else if(d==="undefined"||d==="boolean"){this.className&&c.data(this,
"__className__",this.className);this.className=this.className||a===false?"":c.data(this,"__className__")||""}})},hasClass:function(a){a=" "+a+" ";for(var b=0,d=this.length;b<d;b++)if((" "+this[b].className+" ").replace(sa," ").indexOf(a)>-1)return true;return false},val:function(a){if(!arguments.length){var b=this[0];if(b){if(c.nodeName(b,"option")){var d=b.attributes.value;return!d||d.specified?b.value:b.text}if(c.nodeName(b,"select")){var e=b.selectedIndex;d=[];var f=b.options;b=b.type==="select-one";
if(e<0)return null;var h=b?e:0;for(e=b?e+1:f.length;h<e;h++){var l=f[h];if(l.selected&&(c.support.optDisabled?!l.disabled:l.getAttribute("disabled")===null)&&(!l.parentNode.disabled||!c.nodeName(l.parentNode,"optgroup"))){a=c(l).val();if(b)return a;d.push(a)}}return d}if(ta.test(b.type)&&!c.support.checkOn)return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(Sa,"")}return B}var k=c.isFunction(a);return this.each(function(o){var x=c(this),r=a;if(this.nodeType===1){if(k)r=
a.call(this,o,x.val());if(r==null)r="";else if(typeof r==="number")r+="";else if(c.isArray(r))r=c.map(r,function(C){return C==null?"":C+""});if(c.isArray(r)&&ta.test(this.type))this.checked=c.inArray(x.val(),r)>=0;else if(c.nodeName(this,"select")){var A=c.makeArray(r);c("option",this).each(function(){this.selected=c.inArray(c(this).val(),A)>=0});if(!A.length)this.selectedIndex=-1}else this.value=r}})}});c.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},
attr:function(a,b,d,e){if(!a||a.nodeType===3||a.nodeType===8)return B;if(e&&b in c.attrFn)return c(a)[b](d);e=a.nodeType!==1||!c.isXMLDoc(a);var f=d!==B;b=e&&c.props[b]||b;var h=Ta.test(b);if((b in a||a[b]!==B)&&e&&!h){if(f){b==="type"&&Ua.test(a.nodeName)&&a.parentNode&&c.error("type property can't be changed");if(d===null)a.nodeType===1&&a.removeAttribute(b);else a[b]=d}if(c.nodeName(a,"form")&&a.getAttributeNode(b))return a.getAttributeNode(b).nodeValue;if(b==="tabIndex")return(b=a.getAttributeNode("tabIndex"))&&
b.specified?b.value:Va.test(a.nodeName)||Wa.test(a.nodeName)&&a.href?0:B;return a[b]}if(!c.support.style&&e&&b==="style"){if(f)a.style.cssText=""+d;return a.style.cssText}f&&a.setAttribute(b,""+d);if(!a.attributes[b]&&a.hasAttribute&&!a.hasAttribute(b))return B;a=!c.support.hrefNormalized&&e&&h?a.getAttribute(b,2):a.getAttribute(b);return a===null?B:a}});var X=/\.(.*)$/,ia=/^(?:textarea|input|select)$/i,La=/\./g,Ma=/ /g,Xa=/[^\w\s.|`]/g,Ya=function(a){return a.replace(Xa,"\\$&")},ua={focusin:0,focusout:0};
c.event={add:function(a,b,d,e){if(!(a.nodeType===3||a.nodeType===8)){if(c.isWindow(a)&&a!==E&&!a.frameElement)a=E;if(d===false)d=U;else if(!d)return;var f,h;if(d.handler){f=d;d=f.handler}if(!d.guid)d.guid=c.guid++;if(h=c.data(a)){var l=a.nodeType?"events":"__events__",k=h[l],o=h.handle;if(typeof k==="function"){o=k.handle;k=k.events}else if(!k){a.nodeType||(h[l]=h=function(){});h.events=k={}}if(!o)h.handle=o=function(){return typeof c!=="undefined"&&!c.event.triggered?c.event.handle.apply(o.elem,
arguments):B};o.elem=a;b=b.split(" ");for(var x=0,r;l=b[x++];){h=f?c.extend({},f):{handler:d,data:e};if(l.indexOf(".")>-1){r=l.split(".");l=r.shift();h.namespace=r.slice(0).sort().join(".")}else{r=[];h.namespace=""}h.type=l;if(!h.guid)h.guid=d.guid;var A=k[l],C=c.event.special[l]||{};if(!A){A=k[l]=[];if(!C.setup||C.setup.call(a,e,r,o)===false)if(a.addEventListener)a.addEventListener(l,o,false);else a.attachEvent&&a.attachEvent("on"+l,o)}if(C.add){C.add.call(a,h);if(!h.handler.guid)h.handler.guid=
d.guid}A.push(h);c.event.global[l]=true}a=null}}},global:{},remove:function(a,b,d,e){if(!(a.nodeType===3||a.nodeType===8)){if(d===false)d=U;var f,h,l=0,k,o,x,r,A,C,J=a.nodeType?"events":"__events__",w=c.data(a),I=w&&w[J];if(w&&I){if(typeof I==="function"){w=I;I=I.events}if(b&&b.type){d=b.handler;b=b.type}if(!b||typeof b==="string"&&b.charAt(0)==="."){b=b||"";for(f in I)c.event.remove(a,f+b)}else{for(b=b.split(" ");f=b[l++];){r=f;k=f.indexOf(".")<0;o=[];if(!k){o=f.split(".");f=o.shift();x=RegExp("(^|\\.)"+
c.map(o.slice(0).sort(),Ya).join("\\.(?:.*\\.)?")+"(\\.|$)")}if(A=I[f])if(d){r=c.event.special[f]||{};for(h=e||0;h<A.length;h++){C=A[h];if(d.guid===C.guid){if(k||x.test(C.namespace)){e==null&&A.splice(h--,1);r.remove&&r.remove.call(a,C)}if(e!=null)break}}if(A.length===0||e!=null&&A.length===1){if(!r.teardown||r.teardown.call(a,o)===false)c.removeEvent(a,f,w.handle);delete I[f]}}else for(h=0;h<A.length;h++){C=A[h];if(k||x.test(C.namespace)){c.event.remove(a,r,C.handler,h);A.splice(h--,1)}}}if(c.isEmptyObject(I)){if(b=
w.handle)b.elem=null;delete w.events;delete w.handle;if(typeof w==="function")c.removeData(a,J);else c.isEmptyObject(w)&&c.removeData(a)}}}}},trigger:function(a,b,d,e){var f=a.type||a;if(!e){a=typeof a==="object"?a[c.expando]?a:c.extend(c.Event(f),a):c.Event(f);if(f.indexOf("!")>=0){a.type=f=f.slice(0,-1);a.exclusive=true}if(!d){a.stopPropagation();c.event.global[f]&&c.each(c.cache,function(){this.events&&this.events[f]&&c.event.trigger(a,b,this.handle.elem)})}if(!d||d.nodeType===3||d.nodeType===
8)return B;a.result=B;a.target=d;b=c.makeArray(b);b.unshift(a)}a.currentTarget=d;(e=d.nodeType?c.data(d,"handle"):(c.data(d,"__events__")||{}).handle)&&e.apply(d,b);e=d.parentNode||d.ownerDocument;try{if(!(d&&d.nodeName&&c.noData[d.nodeName.toLowerCase()]))if(d["on"+f]&&d["on"+f].apply(d,b)===false){a.result=false;a.preventDefault()}}catch(h){}if(!a.isPropagationStopped()&&e)c.event.trigger(a,b,e,true);else if(!a.isDefaultPrevented()){var l;e=a.target;var k=f.replace(X,""),o=c.nodeName(e,"a")&&k===
"click",x=c.event.special[k]||{};if((!x._default||x._default.call(d,a)===false)&&!o&&!(e&&e.nodeName&&c.noData[e.nodeName.toLowerCase()])){try{if(e[k]){if(l=e["on"+k])e["on"+k]=null;c.event.triggered=true;e[k]()}}catch(r){}if(l)e["on"+k]=l;c.event.triggered=false}}},handle:function(a){var b,d,e,f;d=[];var h=c.makeArray(arguments);a=h[0]=c.event.fix(a||E.event);a.currentTarget=this;b=a.type.indexOf(".")<0&&!a.exclusive;if(!b){e=a.type.split(".");a.type=e.shift();d=e.slice(0).sort();e=RegExp("(^|\\.)"+
d.join("\\.(?:.*\\.)?")+"(\\.|$)")}a.namespace=a.namespace||d.join(".");f=c.data(this,this.nodeType?"events":"__events__");if(typeof f==="function")f=f.events;d=(f||{})[a.type];if(f&&d){d=d.slice(0);f=0;for(var l=d.length;f<l;f++){var k=d[f];if(b||e.test(k.namespace)){a.handler=k.handler;a.data=k.data;a.handleObj=k;k=k.handler.apply(this,h);if(k!==B){a.result=k;if(k===false){a.preventDefault();a.stopPropagation()}}if(a.isImmediatePropagationStopped())break}}}return a.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(a){if(a[c.expando])return a;var b=a;a=c.Event(b);for(var d=this.props.length,e;d;){e=this.props[--d];a[e]=b[e]}if(!a.target)a.target=a.srcElement||t;if(a.target.nodeType===3)a.target=a.target.parentNode;if(!a.relatedTarget&&a.fromElement)a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement;if(a.pageX==null&&a.clientX!=null){b=t.documentElement;d=t.body;a.pageX=a.clientX+(b&&b.scrollLeft||d&&d.scrollLeft||0)-(b&&b.clientLeft||d&&d.clientLeft||0);a.pageY=a.clientY+(b&&b.scrollTop||
d&&d.scrollTop||0)-(b&&b.clientTop||d&&d.clientTop||0)}if(a.which==null&&(a.charCode!=null||a.keyCode!=null))a.which=a.charCode!=null?a.charCode:a.keyCode;if(!a.metaKey&&a.ctrlKey)a.metaKey=a.ctrlKey;if(!a.which&&a.button!==B)a.which=a.button&1?1:a.button&2?3:a.button&4?2:0;return a},guid:1E8,proxy:c.proxy,special:{ready:{setup:c.bindReady,teardown:c.noop},live:{add:function(a){c.event.add(this,Y(a.origType,a.selector),c.extend({},a,{handler:Ka,guid:a.handler.guid}))},remove:function(a){c.event.remove(this,
Y(a.origType,a.selector),a)}},beforeunload:{setup:function(a,b,d){if(c.isWindow(this))this.onbeforeunload=d},teardown:function(a,b){if(this.onbeforeunload===b)this.onbeforeunload=null}}}};c.removeEvent=t.removeEventListener?function(a,b,d){a.removeEventListener&&a.removeEventListener(b,d,false)}:function(a,b,d){a.detachEvent&&a.detachEvent("on"+b,d)};c.Event=function(a){if(!this.preventDefault)return new c.Event(a);if(a&&a.type){this.originalEvent=a;this.type=a.type}else this.type=a;this.timeStamp=
c.now();this[c.expando]=true};c.Event.prototype={preventDefault:function(){this.isDefaultPrevented=ca;var a=this.originalEvent;if(a)if(a.preventDefault)a.preventDefault();else a.returnValue=false},stopPropagation:function(){this.isPropagationStopped=ca;var a=this.originalEvent;if(a){a.stopPropagation&&a.stopPropagation();a.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ca;this.stopPropagation()},isDefaultPrevented:U,isPropagationStopped:U,isImmediatePropagationStopped:U};
var va=function(a){var b=a.relatedTarget;try{for(;b&&b!==this;)b=b.parentNode;if(b!==this){a.type=a.data;c.event.handle.apply(this,arguments)}}catch(d){}},wa=function(a){a.type=a.data;c.event.handle.apply(this,arguments)};c.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){c.event.special[a]={setup:function(d){c.event.add(this,b,d&&d.selector?wa:va,a)},teardown:function(d){c.event.remove(this,b,d&&d.selector?wa:va)}}});if(!c.support.submitBubbles)c.event.special.submit={setup:function(){if(this.nodeName.toLowerCase()!==
"form"){c.event.add(this,"click.specialSubmit",function(a){var b=a.target,d=b.type;if((d==="submit"||d==="image")&&c(b).closest("form").length){a.liveFired=B;return la("submit",this,arguments)}});c.event.add(this,"keypress.specialSubmit",function(a){var b=a.target,d=b.type;if((d==="text"||d==="password")&&c(b).closest("form").length&&a.keyCode===13){a.liveFired=B;return la("submit",this,arguments)}})}else return false},teardown:function(){c.event.remove(this,".specialSubmit")}};if(!c.support.changeBubbles){var V,
xa=function(a){var b=a.type,d=a.value;if(b==="radio"||b==="checkbox")d=a.checked;else if(b==="select-multiple")d=a.selectedIndex>-1?c.map(a.options,function(e){return e.selected}).join("-"):"";else if(a.nodeName.toLowerCase()==="select")d=a.selectedIndex;return d},Z=function(a,b){var d=a.target,e,f;if(!(!ia.test(d.nodeName)||d.readOnly)){e=c.data(d,"_change_data");f=xa(d);if(a.type!=="focusout"||d.type!=="radio")c.data(d,"_change_data",f);if(!(e===B||f===e))if(e!=null||f){a.type="change";a.liveFired=
B;return c.event.trigger(a,b,d)}}};c.event.special.change={filters:{focusout:Z,beforedeactivate:Z,click:function(a){var b=a.target,d=b.type;if(d==="radio"||d==="checkbox"||b.nodeName.toLowerCase()==="select")return Z.call(this,a)},keydown:function(a){var b=a.target,d=b.type;if(a.keyCode===13&&b.nodeName.toLowerCase()!=="textarea"||a.keyCode===32&&(d==="checkbox"||d==="radio")||d==="select-multiple")return Z.call(this,a)},beforeactivate:function(a){a=a.target;c.data(a,"_change_data",xa(a))}},setup:function(){if(this.type===
"file")return false;for(var a in V)c.event.add(this,a+".specialChange",V[a]);return ia.test(this.nodeName)},teardown:function(){c.event.remove(this,".specialChange");return ia.test(this.nodeName)}};V=c.event.special.change.filters;V.focus=V.beforeactivate}t.addEventListener&&c.each({focus:"focusin",blur:"focusout"},function(a,b){function d(e){e=c.event.fix(e);e.type=b;return c.event.trigger(e,null,e.target)}c.event.special[b]={setup:function(){ua[b]++===0&&t.addEventListener(a,d,true)},teardown:function(){--ua[b]===
0&&t.removeEventListener(a,d,true)}}});c.each(["bind","one"],function(a,b){c.fn[b]=function(d,e,f){if(typeof d==="object"){for(var h in d)this[b](h,e,d[h],f);return this}if(c.isFunction(e)||e===false){f=e;e=B}var l=b==="one"?c.proxy(f,function(o){c(this).unbind(o,l);return f.apply(this,arguments)}):f;if(d==="unload"&&b!=="one")this.one(d,e,f);else{h=0;for(var k=this.length;h<k;h++)c.event.add(this[h],d,l,e)}return this}});c.fn.extend({unbind:function(a,b){if(typeof a==="object"&&!a.preventDefault)for(var d in a)this.unbind(d,
a[d]);else{d=0;for(var e=this.length;d<e;d++)c.event.remove(this[d],a,b)}return this},delegate:function(a,b,d,e){return this.live(b,d,e,a)},undelegate:function(a,b,d){return arguments.length===0?this.unbind("live"):this.die(b,null,d,a)},trigger:function(a,b){return this.each(function(){c.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0]){var d=c.Event(a);d.preventDefault();d.stopPropagation();c.event.trigger(d,b,this[0]);return d.result}},toggle:function(a){for(var b=arguments,d=
1;d<b.length;)c.proxy(a,b[d++]);return this.click(c.proxy(a,function(e){var f=(c.data(this,"lastToggle"+a.guid)||0)%d;c.data(this,"lastToggle"+a.guid,f+1);e.preventDefault();return b[f].apply(this,arguments)||false}))},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var ya={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};c.each(["live","die"],function(a,b){c.fn[b]=function(d,e,f,h){var l,k=0,o,x,r=h||this.selector;h=h?this:c(this.context);if(typeof d===
"object"&&!d.preventDefault){for(l in d)h[b](l,e,d[l],r);return this}if(c.isFunction(e)){f=e;e=B}for(d=(d||"").split(" ");(l=d[k++])!=null;){o=X.exec(l);x="";if(o){x=o[0];l=l.replace(X,"")}if(l==="hover")d.push("mouseenter"+x,"mouseleave"+x);else{o=l;if(l==="focus"||l==="blur"){d.push(ya[l]+x);l+=x}else l=(ya[l]||l)+x;if(b==="live"){x=0;for(var A=h.length;x<A;x++)c.event.add(h[x],"live."+Y(l,r),{data:e,selector:r,handler:f,origType:l,origHandler:f,preType:o})}else h.unbind("live."+Y(l,r),f)}}return this}});
c.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,b){c.fn[b]=function(d,e){if(e==null){e=d;d=null}return arguments.length>0?this.bind(b,d,e):this.trigger(b)};if(c.attrFn)c.attrFn[b]=true});E.attachEvent&&!E.addEventListener&&c(E).bind("unload",function(){for(var a in c.cache)if(c.cache[a].handle)try{c.event.remove(c.cache[a].handle.elem)}catch(b){}});
(function(){function a(g,i,n,m,p,q){p=0;for(var u=m.length;p<u;p++){var y=m[p];if(y){var F=false;for(y=y[g];y;){if(y.sizcache===n){F=m[y.sizset];break}if(y.nodeType===1&&!q){y.sizcache=n;y.sizset=p}if(y.nodeName.toLowerCase()===i){F=y;break}y=y[g]}m[p]=F}}}function b(g,i,n,m,p,q){p=0;for(var u=m.length;p<u;p++){var y=m[p];if(y){var F=false;for(y=y[g];y;){if(y.sizcache===n){F=m[y.sizset];break}if(y.nodeType===1){if(!q){y.sizcache=n;y.sizset=p}if(typeof i!=="string"){if(y===i){F=true;break}}else if(k.filter(i,
[y]).length>0){F=y;break}}y=y[g]}m[p]=F}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e=0,f=Object.prototype.toString,h=false,l=true;[0,0].sort(function(){l=false;return 0});var k=function(g,i,n,m){n=n||[];var p=i=i||t;if(i.nodeType!==1&&i.nodeType!==9)return[];if(!g||typeof g!=="string")return n;var q,u,y,F,M,N=true,O=k.isXML(i),D=[],R=g;do{d.exec("");if(q=d.exec(R)){R=q[3];D.push(q[1]);if(q[2]){F=q[3];
break}}}while(q);if(D.length>1&&x.exec(g))if(D.length===2&&o.relative[D[0]])u=L(D[0]+D[1],i);else for(u=o.relative[D[0]]?[i]:k(D.shift(),i);D.length;){g=D.shift();if(o.relative[g])g+=D.shift();u=L(g,u)}else{if(!m&&D.length>1&&i.nodeType===9&&!O&&o.match.ID.test(D[0])&&!o.match.ID.test(D[D.length-1])){q=k.find(D.shift(),i,O);i=q.expr?k.filter(q.expr,q.set)[0]:q.set[0]}if(i){q=m?{expr:D.pop(),set:C(m)}:k.find(D.pop(),D.length===1&&(D[0]==="~"||D[0]==="+")&&i.parentNode?i.parentNode:i,O);u=q.expr?k.filter(q.expr,
q.set):q.set;if(D.length>0)y=C(u);else N=false;for(;D.length;){q=M=D.pop();if(o.relative[M])q=D.pop();else M="";if(q==null)q=i;o.relative[M](y,q,O)}}else y=[]}y||(y=u);y||k.error(M||g);if(f.call(y)==="[object Array]")if(N)if(i&&i.nodeType===1)for(g=0;y[g]!=null;g++){if(y[g]&&(y[g]===true||y[g].nodeType===1&&k.contains(i,y[g])))n.push(u[g])}else for(g=0;y[g]!=null;g++)y[g]&&y[g].nodeType===1&&n.push(u[g]);else n.push.apply(n,y);else C(y,n);if(F){k(F,p,n,m);k.uniqueSort(n)}return n};k.uniqueSort=function(g){if(w){h=
l;g.sort(w);if(h)for(var i=1;i<g.length;i++)g[i]===g[i-1]&&g.splice(i--,1)}return g};k.matches=function(g,i){return k(g,null,null,i)};k.matchesSelector=function(g,i){return k(i,null,null,[g]).length>0};k.find=function(g,i,n){var m;if(!g)return[];for(var p=0,q=o.order.length;p<q;p++){var u,y=o.order[p];if(u=o.leftMatch[y].exec(g)){var F=u[1];u.splice(1,1);if(F.substr(F.length-1)!=="\\"){u[1]=(u[1]||"").replace(/\\/g,"");m=o.find[y](u,i,n);if(m!=null){g=g.replace(o.match[y],"");break}}}}m||(m=i.getElementsByTagName("*"));
return{set:m,expr:g}};k.filter=function(g,i,n,m){for(var p,q,u=g,y=[],F=i,M=i&&i[0]&&k.isXML(i[0]);g&&i.length;){for(var N in o.filter)if((p=o.leftMatch[N].exec(g))!=null&&p[2]){var O,D,R=o.filter[N];D=p[1];q=false;p.splice(1,1);if(D.substr(D.length-1)!=="\\"){if(F===y)y=[];if(o.preFilter[N])if(p=o.preFilter[N](p,F,n,y,m,M)){if(p===true)continue}else q=O=true;if(p)for(var j=0;(D=F[j])!=null;j++)if(D){O=R(D,p,j,F);var s=m^!!O;if(n&&O!=null)if(s)q=true;else F[j]=false;else if(s){y.push(D);q=true}}if(O!==
B){n||(F=y);g=g.replace(o.match[N],"");if(!q)return[];break}}}if(g===u)if(q==null)k.error(g);else break;u=g}return F};k.error=function(g){throw"Syntax error, unrecognized expression: "+g;};var o=k.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(g){return g.getAttribute("href")}},relative:{"+":function(g,i){var n=typeof i==="string",m=n&&!/\W/.test(i);n=n&&!m;if(m)i=i.toLowerCase();m=0;for(var p=g.length,q;m<p;m++)if(q=g[m]){for(;(q=q.previousSibling)&&q.nodeType!==1;);g[m]=n||q&&q.nodeName.toLowerCase()===
i?q||false:q===i}n&&k.filter(i,g,true)},">":function(g,i){var n,m=typeof i==="string",p=0,q=g.length;if(m&&!/\W/.test(i))for(i=i.toLowerCase();p<q;p++){if(n=g[p]){n=n.parentNode;g[p]=n.nodeName.toLowerCase()===i?n:false}}else{for(;p<q;p++)if(n=g[p])g[p]=m?n.parentNode:n.parentNode===i;m&&k.filter(i,g,true)}},"":function(g,i,n){var m,p=e++,q=b;if(typeof i==="string"&&!/\W/.test(i)){m=i=i.toLowerCase();q=a}q("parentNode",i,p,g,m,n)},"~":function(g,i,n){var m,p=e++,q=b;if(typeof i==="string"&&!/\W/.test(i)){m=
i=i.toLowerCase();q=a}q("previousSibling",i,p,g,m,n)}},find:{ID:function(g,i,n){if(typeof i.getElementById!=="undefined"&&!n)return(g=i.getElementById(g[1]))&&g.parentNode?[g]:[]},NAME:function(g,i){if(typeof i.getElementsByName!=="undefined"){for(var n=[],m=i.getElementsByName(g[1]),p=0,q=m.length;p<q;p++)m[p].getAttribute("name")===g[1]&&n.push(m[p]);return n.length===0?null:n}},TAG:function(g,i){return i.getElementsByTagName(g[1])}},preFilter:{CLASS:function(g,i,n,m,p,q){g=" "+g[1].replace(/\\/g,
"")+" ";if(q)return g;q=0;for(var u;(u=i[q])!=null;q++)if(u)if(p^(u.className&&(" "+u.className+" ").replace(/[\t\n]/g," ").indexOf(g)>=0))n||m.push(u);else if(n)i[q]=false;return false},ID:function(g){return g[1].replace(/\\/g,"")},TAG:function(g){return g[1].toLowerCase()},CHILD:function(g){if(g[1]==="nth"){var i=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(g[2]==="even"&&"2n"||g[2]==="odd"&&"2n+1"||!/\D/.test(g[2])&&"0n+"+g[2]||g[2]);g[2]=i[1]+(i[2]||1)-0;g[3]=i[3]-0}g[0]=e++;return g},ATTR:function(g,i,n,
m,p,q){i=g[1].replace(/\\/g,"");if(!q&&o.attrMap[i])g[1]=o.attrMap[i];if(g[2]==="~=")g[4]=" "+g[4]+" ";return g},PSEUDO:function(g,i,n,m,p){if(g[1]==="not")if((d.exec(g[3])||"").length>1||/^\w/.test(g[3]))g[3]=k(g[3],null,null,i);else{g=k.filter(g[3],i,n,true^p);n||m.push.apply(m,g);return false}else if(o.match.POS.test(g[0])||o.match.CHILD.test(g[0]))return true;return g},POS:function(g){g.unshift(true);return g}},filters:{enabled:function(g){return g.disabled===false&&g.type!=="hidden"},disabled:function(g){return g.disabled===
true},checked:function(g){return g.checked===true},selected:function(g){return g.selected===true},parent:function(g){return!!g.firstChild},empty:function(g){return!g.firstChild},has:function(g,i,n){return!!k(n[3],g).length},header:function(g){return/h\d/i.test(g.nodeName)},text:function(g){return"text"===g.type},radio:function(g){return"radio"===g.type},checkbox:function(g){return"checkbox"===g.type},file:function(g){return"file"===g.type},password:function(g){return"password"===g.type},submit:function(g){return"submit"===
g.type},image:function(g){return"image"===g.type},reset:function(g){return"reset"===g.type},button:function(g){return"button"===g.type||g.nodeName.toLowerCase()==="button"},input:function(g){return/input|select|textarea|button/i.test(g.nodeName)}},setFilters:{first:function(g,i){return i===0},last:function(g,i,n,m){return i===m.length-1},even:function(g,i){return i%2===0},odd:function(g,i){return i%2===1},lt:function(g,i,n){return i<n[3]-0},gt:function(g,i,n){return i>n[3]-0},nth:function(g,i,n){return n[3]-
0===i},eq:function(g,i,n){return n[3]-0===i}},filter:{PSEUDO:function(g,i,n,m){var p=i[1],q=o.filters[p];if(q)return q(g,n,i,m);else if(p==="contains")return(g.textContent||g.innerText||k.getText([g])||"").indexOf(i[3])>=0;else if(p==="not"){i=i[3];n=0;for(m=i.length;n<m;n++)if(i[n]===g)return false;return true}else k.error("Syntax error, unrecognized expression: "+p)},CHILD:function(g,i){var n=i[1],m=g;switch(n){case "only":case "first":for(;m=m.previousSibling;)if(m.nodeType===1)return false;if(n===
"first")return true;m=g;case "last":for(;m=m.nextSibling;)if(m.nodeType===1)return false;return true;case "nth":n=i[2];var p=i[3];if(n===1&&p===0)return true;var q=i[0],u=g.parentNode;if(u&&(u.sizcache!==q||!g.nodeIndex)){var y=0;for(m=u.firstChild;m;m=m.nextSibling)if(m.nodeType===1)m.nodeIndex=++y;u.sizcache=q}m=g.nodeIndex-p;return n===0?m===0:m%n===0&&m/n>=0}},ID:function(g,i){return g.nodeType===1&&g.getAttribute("id")===i},TAG:function(g,i){return i==="*"&&g.nodeType===1||g.nodeName.toLowerCase()===
i},CLASS:function(g,i){return(" "+(g.className||g.getAttribute("class"))+" ").indexOf(i)>-1},ATTR:function(g,i){var n=i[1];n=o.attrHandle[n]?o.attrHandle[n](g):g[n]!=null?g[n]:g.getAttribute(n);var m=n+"",p=i[2],q=i[4];return n==null?p==="!=":p==="="?m===q:p==="*="?m.indexOf(q)>=0:p==="~="?(" "+m+" ").indexOf(q)>=0:!q?m&&n!==false:p==="!="?m!==q:p==="^="?m.indexOf(q)===0:p==="$="?m.substr(m.length-q.length)===q:p==="|="?m===q||m.substr(0,q.length+1)===q+"-":false},POS:function(g,i,n,m){var p=o.setFilters[i[2]];
if(p)return p(g,n,i,m)}}},x=o.match.POS,r=function(g,i){return"\\"+(i-0+1)},A;for(A in o.match){o.match[A]=RegExp(o.match[A].source+/(?![^\[]*\])(?![^\(]*\))/.source);o.leftMatch[A]=RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[A].source.replace(/\\(\d+)/g,r))}var C=function(g,i){g=Array.prototype.slice.call(g,0);if(i){i.push.apply(i,g);return i}return g};try{Array.prototype.slice.call(t.documentElement.childNodes,0)}catch(J){C=function(g,i){var n=0,m=i||[];if(f.call(g)==="[object Array]")Array.prototype.push.apply(m,
g);else if(typeof g.length==="number")for(var p=g.length;n<p;n++)m.push(g[n]);else for(;g[n];n++)m.push(g[n]);return m}}var w,I;if(t.documentElement.compareDocumentPosition)w=function(g,i){if(g===i){h=true;return 0}if(!g.compareDocumentPosition||!i.compareDocumentPosition)return g.compareDocumentPosition?-1:1;return g.compareDocumentPosition(i)&4?-1:1};else{w=function(g,i){var n,m,p=[],q=[];n=g.parentNode;m=i.parentNode;var u=n;if(g===i){h=true;return 0}else if(n===m)return I(g,i);else if(n){if(!m)return 1}else return-1;
for(;u;){p.unshift(u);u=u.parentNode}for(u=m;u;){q.unshift(u);u=u.parentNode}n=p.length;m=q.length;for(u=0;u<n&&u<m;u++)if(p[u]!==q[u])return I(p[u],q[u]);return u===n?I(g,q[u],-1):I(p[u],i,1)};I=function(g,i,n){if(g===i)return n;for(g=g.nextSibling;g;){if(g===i)return-1;g=g.nextSibling}return 1}}k.getText=function(g){for(var i="",n,m=0;g[m];m++){n=g[m];if(n.nodeType===3||n.nodeType===4)i+=n.nodeValue;else if(n.nodeType!==8)i+=k.getText(n.childNodes)}return i};(function(){var g=t.createElement("div"),
i="script"+(new Date).getTime(),n=t.documentElement;g.innerHTML="<a name='"+i+"'/>";n.insertBefore(g,n.firstChild);if(t.getElementById(i)){o.find.ID=function(m,p,q){if(typeof p.getElementById!=="undefined"&&!q)return(p=p.getElementById(m[1]))?p.id===m[1]||typeof p.getAttributeNode!=="undefined"&&p.getAttributeNode("id").nodeValue===m[1]?[p]:B:[]};o.filter.ID=function(m,p){var q=typeof m.getAttributeNode!=="undefined"&&m.getAttributeNode("id");return m.nodeType===1&&q&&q.nodeValue===p}}n.removeChild(g);
n=g=null})();(function(){var g=t.createElement("div");g.appendChild(t.createComment(""));if(g.getElementsByTagName("*").length>0)o.find.TAG=function(i,n){var m=n.getElementsByTagName(i[1]);if(i[1]==="*"){for(var p=[],q=0;m[q];q++)m[q].nodeType===1&&p.push(m[q]);m=p}return m};g.innerHTML="<a href='#'></a>";if(g.firstChild&&typeof g.firstChild.getAttribute!=="undefined"&&g.firstChild.getAttribute("href")!=="#")o.attrHandle.href=function(i){return i.getAttribute("href",2)};g=null})();t.querySelectorAll&&
function(){var g=k,i=t.createElement("div");i.innerHTML="<p class='TEST'></p>";if(!(i.querySelectorAll&&i.querySelectorAll(".TEST").length===0)){k=function(m,p,q,u){p=p||t;m=m.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!u&&!k.isXML(p))if(p.nodeType===9)try{return C(p.querySelectorAll(m),q)}catch(y){}else if(p.nodeType===1&&p.nodeName.toLowerCase()!=="object"){var F=p.getAttribute("id"),M=F||"__sizzle__";F||p.setAttribute("id",M);try{return C(p.querySelectorAll("#"+M+" "+m),q)}catch(N){}finally{F||
p.removeAttribute("id")}}return g(m,p,q,u)};for(var n in g)k[n]=g[n];i=null}}();(function(){var g=t.documentElement,i=g.matchesSelector||g.mozMatchesSelector||g.webkitMatchesSelector||g.msMatchesSelector,n=false;try{i.call(t.documentElement,"[test!='']:sizzle")}catch(m){n=true}if(i)k.matchesSelector=function(p,q){q=q.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!k.isXML(p))try{if(n||!o.match.PSEUDO.test(q)&&!/!=/.test(q))return i.call(p,q)}catch(u){}return k(q,null,null,[p]).length>0}})();(function(){var g=
t.createElement("div");g.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!g.getElementsByClassName||g.getElementsByClassName("e").length===0)){g.lastChild.className="e";if(g.getElementsByClassName("e").length!==1){o.order.splice(1,0,"CLASS");o.find.CLASS=function(i,n,m){if(typeof n.getElementsByClassName!=="undefined"&&!m)return n.getElementsByClassName(i[1])};g=null}}})();k.contains=t.documentElement.contains?function(g,i){return g!==i&&(g.contains?g.contains(i):true)}:t.documentElement.compareDocumentPosition?
function(g,i){return!!(g.compareDocumentPosition(i)&16)}:function(){return false};k.isXML=function(g){return(g=(g?g.ownerDocument||g:0).documentElement)?g.nodeName!=="HTML":false};var L=function(g,i){for(var n,m=[],p="",q=i.nodeType?[i]:i;n=o.match.PSEUDO.exec(g);){p+=n[0];g=g.replace(o.match.PSEUDO,"")}g=o.relative[g]?g+"*":g;n=0;for(var u=q.length;n<u;n++)k(g,q[n],m);return k.filter(p,m)};c.find=k;c.expr=k.selectors;c.expr[":"]=c.expr.filters;c.unique=k.uniqueSort;c.text=k.getText;c.isXMLDoc=k.isXML;
c.contains=k.contains})();var Za=/Until$/,$a=/^(?:parents|prevUntil|prevAll)/,ab=/,/,Na=/^.[^:#\[\.,]*$/,bb=Array.prototype.slice,cb=c.expr.match.POS;c.fn.extend({find:function(a){for(var b=this.pushStack("","find",a),d=0,e=0,f=this.length;e<f;e++){d=b.length;c.find(a,this[e],b);if(e>0)for(var h=d;h<b.length;h++)for(var l=0;l<d;l++)if(b[l]===b[h]){b.splice(h--,1);break}}return b},has:function(a){var b=c(a);return this.filter(function(){for(var d=0,e=b.length;d<e;d++)if(c.contains(this,b[d]))return true})},
not:function(a){return this.pushStack(ma(this,a,false),"not",a)},filter:function(a){return this.pushStack(ma(this,a,true),"filter",a)},is:function(a){return!!a&&c.filter(a,this).length>0},closest:function(a,b){var d=[],e,f,h=this[0];if(c.isArray(a)){var l,k={},o=1;if(h&&a.length){e=0;for(f=a.length;e<f;e++){l=a[e];k[l]||(k[l]=c.expr.match.POS.test(l)?c(l,b||this.context):l)}for(;h&&h.ownerDocument&&h!==b;){for(l in k){e=k[l];if(e.jquery?e.index(h)>-1:c(h).is(e))d.push({selector:l,elem:h,level:o})}h=
h.parentNode;o++}}return d}l=cb.test(a)?c(a,b||this.context):null;e=0;for(f=this.length;e<f;e++)for(h=this[e];h;)if(l?l.index(h)>-1:c.find.matchesSelector(h,a)){d.push(h);break}else{h=h.parentNode;if(!h||!h.ownerDocument||h===b)break}d=d.length>1?c.unique(d):d;return this.pushStack(d,"closest",a)},index:function(a){if(!a||typeof a==="string")return c.inArray(this[0],a?c(a):this.parent().children());return c.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var d=typeof a==="string"?c(a,b||this.context):
c.makeArray(a),e=c.merge(this.get(),d);return this.pushStack(!d[0]||!d[0].parentNode||d[0].parentNode.nodeType===11||!e[0]||!e[0].parentNode||e[0].parentNode.nodeType===11?e:c.unique(e))},andSelf:function(){return this.add(this.prevObject)}});c.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return c.dir(a,"parentNode")},parentsUntil:function(a,b,d){return c.dir(a,"parentNode",d)},next:function(a){return c.nth(a,2,"nextSibling")},prev:function(a){return c.nth(a,
2,"previousSibling")},nextAll:function(a){return c.dir(a,"nextSibling")},prevAll:function(a){return c.dir(a,"previousSibling")},nextUntil:function(a,b,d){return c.dir(a,"nextSibling",d)},prevUntil:function(a,b,d){return c.dir(a,"previousSibling",d)},siblings:function(a){return c.sibling(a.parentNode.firstChild,a)},children:function(a){return c.sibling(a.firstChild)},contents:function(a){return c.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:c.makeArray(a.childNodes)}},function(a,
b){c.fn[a]=function(d,e){var f=c.map(this,b,d);Za.test(a)||(e=d);if(e&&typeof e==="string")f=c.filter(e,f);f=this.length>1?c.unique(f):f;if((this.length>1||ab.test(e))&&$a.test(a))f=f.reverse();return this.pushStack(f,a,bb.call(arguments).join(","))}});c.extend({filter:function(a,b,d){if(d)a=":not("+a+")";return b.length===1?c.find.matchesSelector(b[0],a)?[b[0]]:[]:c.find.matches(a,b)},dir:function(a,b,d){var e=[];for(a=a[b];a&&a.nodeType!==9&&(d===B||a.nodeType!==1||!c(a).is(d));){a.nodeType===1&&
e.push(a);a=a[b]}return e},nth:function(a,b,d){b=b||1;for(var e=0;a;a=a[d])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){for(var d=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&d.push(a);return d}});var za=/ jQuery\d+="(?:\d+|null)"/g,$=/^\s+/,Aa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Ba=/<([\w:]+)/,db=/<tbody/i,eb=/<|&#?\w+;/,Ca=/<(?:script|object|embed|option|style)/i,Da=/checked\s*(?:[^=]|=\s*.checked.)/i,fb=/\=([^="'>\s]+\/)>/g,P={option:[1,
"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};P.optgroup=P.option;P.tbody=P.tfoot=P.colgroup=P.caption=P.thead;P.th=P.td;if(!c.support.htmlSerialize)P._default=[1,"div<div>","</div>"];c.fn.extend({text:function(a){if(c.isFunction(a))return this.each(function(b){var d=
c(this);d.text(a.call(this,b,d.text()))});if(typeof a!=="object"&&a!==B)return this.empty().append((this[0]&&this[0].ownerDocument||t).createTextNode(a));return c.text(this)},wrapAll:function(a){if(c.isFunction(a))return this.each(function(d){c(this).wrapAll(a.call(this,d))});if(this[0]){var b=c(a,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var d=this;d.firstChild&&d.firstChild.nodeType===1;)d=d.firstChild;return d}).append(this)}return this},
wrapInner:function(a){if(c.isFunction(a))return this.each(function(b){c(this).wrapInner(a.call(this,b))});return this.each(function(){var b=c(this),d=b.contents();d.length?d.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){c(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){c.nodeName(this,"body")||c(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.appendChild(a)})},
prepend:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,this)});else if(arguments.length){var a=c(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,
this.nextSibling)});else if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,c(arguments[0]).toArray());return a}},remove:function(a,b){for(var d=0,e;(e=this[d])!=null;d++)if(!a||c.filter(a,[e]).length){if(!b&&e.nodeType===1){c.cleanData(e.getElementsByTagName("*"));c.cleanData([e])}e.parentNode&&e.parentNode.removeChild(e)}return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++)for(b.nodeType===1&&c.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);
return this},clone:function(a){var b=this.map(function(){if(!c.support.noCloneEvent&&!c.isXMLDoc(this)){var d=this.outerHTML,e=this.ownerDocument;if(!d){d=e.createElement("div");d.appendChild(this.cloneNode(true));d=d.innerHTML}return c.clean([d.replace(za,"").replace(fb,'="$1">').replace($,"")],e)[0]}else return this.cloneNode(true)});if(a===true){na(this,b);na(this.find("*"),b.find("*"))}return b},html:function(a){if(a===B)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(za,""):null;
else if(typeof a==="string"&&!Ca.test(a)&&(c.support.leadingWhitespace||!$.test(a))&&!P[(Ba.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Aa,"<$1></$2>");try{for(var b=0,d=this.length;b<d;b++)if(this[b].nodeType===1){c.cleanData(this[b].getElementsByTagName("*"));this[b].innerHTML=a}}catch(e){this.empty().append(a)}}else c.isFunction(a)?this.each(function(f){var h=c(this);h.html(a.call(this,f,h.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(c.isFunction(a))return this.each(function(b){var d=
c(this),e=d.html();d.replaceWith(a.call(this,b,e))});if(typeof a!=="string")a=c(a).detach();return this.each(function(){var b=this.nextSibling,d=this.parentNode;c(this).remove();b?c(b).before(a):c(d).append(a)})}else return this.pushStack(c(c.isFunction(a)?a():a),"replaceWith",a)},detach:function(a){return this.remove(a,true)},domManip:function(a,b,d){var e,f,h,l=a[0],k=[];if(!c.support.checkClone&&arguments.length===3&&typeof l==="string"&&Da.test(l))return this.each(function(){c(this).domManip(a,
b,d,true)});if(c.isFunction(l))return this.each(function(x){var r=c(this);a[0]=l.call(this,x,b?r.html():B);r.domManip(a,b,d)});if(this[0]){e=l&&l.parentNode;e=c.support.parentNode&&e&&e.nodeType===11&&e.childNodes.length===this.length?{fragment:e}:c.buildFragment(a,this,k);h=e.fragment;if(f=h.childNodes.length===1?h=h.firstChild:h.firstChild){b=b&&c.nodeName(f,"tr");f=0;for(var o=this.length;f<o;f++)d.call(b?c.nodeName(this[f],"table")?this[f].getElementsByTagName("tbody")[0]||this[f].appendChild(this[f].ownerDocument.createElement("tbody")):
this[f]:this[f],f>0||e.cacheable||this.length>1?h.cloneNode(true):h)}k.length&&c.each(k,Oa)}return this}});c.buildFragment=function(a,b,d){var e,f,h;b=b&&b[0]?b[0].ownerDocument||b[0]:t;if(a.length===1&&typeof a[0]==="string"&&a[0].length<512&&b===t&&!Ca.test(a[0])&&(c.support.checkClone||!Da.test(a[0]))){f=true;if(h=c.fragments[a[0]])if(h!==1)e=h}if(!e){e=b.createDocumentFragment();c.clean(a,b,e,d)}if(f)c.fragments[a[0]]=h?e:1;return{fragment:e,cacheable:f}};c.fragments={};c.each({appendTo:"append",
prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){c.fn[a]=function(d){var e=[];d=c(d);var f=this.length===1&&this[0].parentNode;if(f&&f.nodeType===11&&f.childNodes.length===1&&d.length===1){d[b](this[0]);return this}else{f=0;for(var h=d.length;f<h;f++){var l=(f>0?this.clone(true):this).get();c(d[f])[b](l);e=e.concat(l)}return this.pushStack(e,a,d.selector)}}});c.extend({clean:function(a,b,d,e){b=b||t;if(typeof b.createElement==="undefined")b=b.ownerDocument||
b[0]&&b[0].ownerDocument||t;for(var f=[],h=0,l;(l=a[h])!=null;h++){if(typeof l==="number")l+="";if(l){if(typeof l==="string"&&!eb.test(l))l=b.createTextNode(l);else if(typeof l==="string"){l=l.replace(Aa,"<$1></$2>");var k=(Ba.exec(l)||["",""])[1].toLowerCase(),o=P[k]||P._default,x=o[0],r=b.createElement("div");for(r.innerHTML=o[1]+l+o[2];x--;)r=r.lastChild;if(!c.support.tbody){x=db.test(l);k=k==="table"&&!x?r.firstChild&&r.firstChild.childNodes:o[1]==="<table>"&&!x?r.childNodes:[];for(o=k.length-
1;o>=0;--o)c.nodeName(k[o],"tbody")&&!k[o].childNodes.length&&k[o].parentNode.removeChild(k[o])}!c.support.leadingWhitespace&&$.test(l)&&r.insertBefore(b.createTextNode($.exec(l)[0]),r.firstChild);l=r.childNodes}if(l.nodeType)f.push(l);else f=c.merge(f,l)}}if(d)for(h=0;f[h];h++)if(e&&c.nodeName(f[h],"script")&&(!f[h].type||f[h].type.toLowerCase()==="text/javascript"))e.push(f[h].parentNode?f[h].parentNode.removeChild(f[h]):f[h]);else{f[h].nodeType===1&&f.splice.apply(f,[h+1,0].concat(c.makeArray(f[h].getElementsByTagName("script"))));
d.appendChild(f[h])}return f},cleanData:function(a){for(var b,d,e=c.cache,f=c.event.special,h=c.support.deleteExpando,l=0,k;(k=a[l])!=null;l++)if(!(k.nodeName&&c.noData[k.nodeName.toLowerCase()]))if(d=k[c.expando]){if((b=e[d])&&b.events)for(var o in b.events)f[o]?c.event.remove(k,o):c.removeEvent(k,o,b.handle);if(h)delete k[c.expando];else k.removeAttribute&&k.removeAttribute(c.expando);delete e[d]}}});var Ea=/alpha\([^)]*\)/i,gb=/opacity=([^)]*)/,hb=/-([a-z])/ig,ib=/([A-Z])/g,Fa=/^-?\d+(?:px)?$/i,
jb=/^-?\d/,kb={position:"absolute",visibility:"hidden",display:"block"},Pa=["Left","Right"],Qa=["Top","Bottom"],W,Ga,aa,lb=function(a,b){return b.toUpperCase()};c.fn.css=function(a,b){if(arguments.length===2&&b===B)return this;return c.access(this,a,b,true,function(d,e,f){return f!==B?c.style(d,e,f):c.css(d,e)})};c.extend({cssHooks:{opacity:{get:function(a,b){if(b){var d=W(a,"opacity","opacity");return d===""?"1":d}else return a.style.opacity}}},cssNumber:{zIndex:true,fontWeight:true,opacity:true,
zoom:true,lineHeight:true},cssProps:{"float":c.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,d,e){if(!(!a||a.nodeType===3||a.nodeType===8||!a.style)){var f,h=c.camelCase(b),l=a.style,k=c.cssHooks[h];b=c.cssProps[h]||h;if(d!==B){if(!(typeof d==="number"&&isNaN(d)||d==null)){if(typeof d==="number"&&!c.cssNumber[h])d+="px";if(!k||!("set"in k)||(d=k.set(a,d))!==B)try{l[b]=d}catch(o){}}}else{if(k&&"get"in k&&(f=k.get(a,false,e))!==B)return f;return l[b]}}},css:function(a,b,d){var e,f=c.camelCase(b),
h=c.cssHooks[f];b=c.cssProps[f]||f;if(h&&"get"in h&&(e=h.get(a,true,d))!==B)return e;else if(W)return W(a,b,f)},swap:function(a,b,d){var e={},f;for(f in b){e[f]=a.style[f];a.style[f]=b[f]}d.call(a);for(f in b)a.style[f]=e[f]},camelCase:function(a){return a.replace(hb,lb)}});c.curCSS=c.css;c.each(["height","width"],function(a,b){c.cssHooks[b]={get:function(d,e,f){var h;if(e){if(d.offsetWidth!==0)h=oa(d,b,f);else c.swap(d,kb,function(){h=oa(d,b,f)});if(h<=0){h=W(d,b,b);if(h==="0px"&&aa)h=aa(d,b,b);
if(h!=null)return h===""||h==="auto"?"0px":h}if(h<0||h==null){h=d.style[b];return h===""||h==="auto"?"0px":h}return typeof h==="string"?h:h+"px"}},set:function(d,e){if(Fa.test(e)){e=parseFloat(e);if(e>=0)return e+"px"}else return e}}});if(!c.support.opacity)c.cssHooks.opacity={get:function(a,b){return gb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var d=a.style;d.zoom=1;var e=c.isNaN(b)?"":"alpha(opacity="+b*100+")",f=
d.filter||"";d.filter=Ea.test(f)?f.replace(Ea,e):d.filter+" "+e}};if(t.defaultView&&t.defaultView.getComputedStyle)Ga=function(a,b,d){var e;d=d.replace(ib,"-$1").toLowerCase();if(!(b=a.ownerDocument.defaultView))return B;if(b=b.getComputedStyle(a,null)){e=b.getPropertyValue(d);if(e===""&&!c.contains(a.ownerDocument.documentElement,a))e=c.style(a,d)}return e};if(t.documentElement.currentStyle)aa=function(a,b){var d,e,f=a.currentStyle&&a.currentStyle[b],h=a.style;if(!Fa.test(f)&&jb.test(f)){d=h.left;
e=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;h.left=b==="fontSize"?"1em":f||0;f=h.pixelLeft+"px";h.left=d;a.runtimeStyle.left=e}return f===""?"auto":f};W=Ga||aa;if(c.expr&&c.expr.filters){c.expr.filters.hidden=function(a){var b=a.offsetHeight;return a.offsetWidth===0&&b===0||!c.support.reliableHiddenOffsets&&(a.style.display||c.css(a,"display"))==="none"};c.expr.filters.visible=function(a){return!c.expr.filters.hidden(a)}}var mb=c.now(),nb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
ob=/^(?:select|textarea)/i,pb=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,qb=/^(?:GET|HEAD)$/,Ra=/\[\]$/,T=/\=\?(&|$)/,ja=/\?/,rb=/([?&])_=[^&]*/,sb=/^(\w+:)?\/\/([^\/?#]+)/,tb=/%20/g,ub=/#.*$/,Ha=c.fn.load;c.fn.extend({load:function(a,b,d){if(typeof a!=="string"&&Ha)return Ha.apply(this,arguments);else if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var f=a.slice(e,a.length);a=a.slice(0,e)}e="GET";if(b)if(c.isFunction(b)){d=b;b=null}else if(typeof b===
"object"){b=c.param(b,c.ajaxSettings.traditional);e="POST"}var h=this;c.ajax({url:a,type:e,dataType:"html",data:b,complete:function(l,k){if(k==="success"||k==="notmodified")h.html(f?c("<div>").append(l.responseText.replace(nb,"")).find(f):l.responseText);d&&h.each(d,[l.responseText,k,l])}});return this},serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?c.makeArray(this.elements):this}).filter(function(){return this.name&&
!this.disabled&&(this.checked||ob.test(this.nodeName)||pb.test(this.type))}).map(function(a,b){var d=c(this).val();return d==null?null:c.isArray(d)?c.map(d,function(e){return{name:b.name,value:e}}):{name:b.name,value:d}}).get()}});c.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){c.fn[b]=function(d){return this.bind(b,d)}});c.extend({get:function(a,b,d,e){if(c.isFunction(b)){e=e||d;d=b;b=null}return c.ajax({type:"GET",url:a,data:b,success:d,dataType:e})},
getScript:function(a,b){return c.get(a,null,b,"script")},getJSON:function(a,b,d){return c.get(a,b,d,"json")},post:function(a,b,d,e){if(c.isFunction(b)){e=e||d;d=b;b={}}return c.ajax({type:"POST",url:a,data:b,success:d,dataType:e})},ajaxSetup:function(a){c.extend(c.ajaxSettings,a)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:function(){return new E.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",
script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},ajax:function(a){var b=c.extend(true,{},c.ajaxSettings,a),d,e,f,h=b.type.toUpperCase(),l=qb.test(h);b.url=b.url.replace(ub,"");b.context=a&&a.context!=null?a.context:b;if(b.data&&b.processData&&typeof b.data!=="string")b.data=c.param(b.data,b.traditional);if(b.dataType==="jsonp"){if(h==="GET")T.test(b.url)||(b.url+=(ja.test(b.url)?"&":"?")+(b.jsonp||"callback")+"=?");else if(!b.data||
!T.test(b.data))b.data=(b.data?b.data+"&":"")+(b.jsonp||"callback")+"=?";b.dataType="json"}if(b.dataType==="json"&&(b.data&&T.test(b.data)||T.test(b.url))){d=b.jsonpCallback||"jsonp"+mb++;if(b.data)b.data=(b.data+"").replace(T,"="+d+"$1");b.url=b.url.replace(T,"="+d+"$1");b.dataType="script";var k=E[d];E[d]=function(m){if(c.isFunction(k))k(m);else{E[d]=B;try{delete E[d]}catch(p){}}f=m;c.handleSuccess(b,w,e,f);c.handleComplete(b,w,e,f);r&&r.removeChild(A)}}if(b.dataType==="script"&&b.cache===null)b.cache=
false;if(b.cache===false&&l){var o=c.now(),x=b.url.replace(rb,"$1_="+o);b.url=x+(x===b.url?(ja.test(b.url)?"&":"?")+"_="+o:"")}if(b.data&&l)b.url+=(ja.test(b.url)?"&":"?")+b.data;b.global&&c.active++===0&&c.event.trigger("ajaxStart");o=(o=sb.exec(b.url))&&(o[1]&&o[1].toLowerCase()!==location.protocol||o[2].toLowerCase()!==location.host);if(b.dataType==="script"&&h==="GET"&&o){var r=t.getElementsByTagName("head")[0]||t.documentElement,A=t.createElement("script");if(b.scriptCharset)A.charset=b.scriptCharset;
A.src=b.url;if(!d){var C=false;A.onload=A.onreadystatechange=function(){if(!C&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){C=true;c.handleSuccess(b,w,e,f);c.handleComplete(b,w,e,f);A.onload=A.onreadystatechange=null;r&&A.parentNode&&r.removeChild(A)}}}r.insertBefore(A,r.firstChild);return B}var J=false,w=b.xhr();if(w){b.username?w.open(h,b.url,b.async,b.username,b.password):w.open(h,b.url,b.async);try{if(b.data!=null&&!l||a&&a.contentType)w.setRequestHeader("Content-Type",
b.contentType);if(b.ifModified){c.lastModified[b.url]&&w.setRequestHeader("If-Modified-Since",c.lastModified[b.url]);c.etag[b.url]&&w.setRequestHeader("If-None-Match",c.etag[b.url])}o||w.setRequestHeader("X-Requested-With","XMLHttpRequest");w.setRequestHeader("Accept",b.dataType&&b.accepts[b.dataType]?b.accepts[b.dataType]+", */*; q=0.01":b.accepts._default)}catch(I){}if(b.beforeSend&&b.beforeSend.call(b.context,w,b)===false){b.global&&c.active--===1&&c.event.trigger("ajaxStop");w.abort();return false}b.global&&
c.triggerGlobal(b,"ajaxSend",[w,b]);var L=w.onreadystatechange=function(m){if(!w||w.readyState===0||m==="abort"){J||c.handleComplete(b,w,e,f);J=true;if(w)w.onreadystatechange=c.noop}else if(!J&&w&&(w.readyState===4||m==="timeout")){J=true;w.onreadystatechange=c.noop;e=m==="timeout"?"timeout":!c.httpSuccess(w)?"error":b.ifModified&&c.httpNotModified(w,b.url)?"notmodified":"success";var p;if(e==="success")try{f=c.httpData(w,b.dataType,b)}catch(q){e="parsererror";p=q}if(e==="success"||e==="notmodified")d||
c.handleSuccess(b,w,e,f);else c.handleError(b,w,e,p);d||c.handleComplete(b,w,e,f);m==="timeout"&&w.abort();if(b.async)w=null}};try{var g=w.abort;w.abort=function(){w&&Function.prototype.call.call(g,w);L("abort")}}catch(i){}b.async&&b.timeout>0&&setTimeout(function(){w&&!J&&L("timeout")},b.timeout);try{w.send(l||b.data==null?null:b.data)}catch(n){c.handleError(b,w,null,n);c.handleComplete(b,w,e,f)}b.async||L();return w}},param:function(a,b){var d=[],e=function(h,l){l=c.isFunction(l)?l():l;d[d.length]=
encodeURIComponent(h)+"="+encodeURIComponent(l)};if(b===B)b=c.ajaxSettings.traditional;if(c.isArray(a)||a.jquery)c.each(a,function(){e(this.name,this.value)});else for(var f in a)da(f,a[f],b,e);return d.join("&").replace(tb,"+")}});c.extend({active:0,lastModified:{},etag:{},handleError:function(a,b,d,e){a.error&&a.error.call(a.context,b,d,e);a.global&&c.triggerGlobal(a,"ajaxError",[b,a,e])},handleSuccess:function(a,b,d,e){a.success&&a.success.call(a.context,e,d,b);a.global&&c.triggerGlobal(a,"ajaxSuccess",
[b,a])},handleComplete:function(a,b,d){a.complete&&a.complete.call(a.context,b,d);a.global&&c.triggerGlobal(a,"ajaxComplete",[b,a]);a.global&&c.active--===1&&c.event.trigger("ajaxStop")},triggerGlobal:function(a,b,d){(a.context&&a.context.url==null?c(a.context):c.event).trigger(b,d)},httpSuccess:function(a){try{return!a.status&&location.protocol==="file:"||a.status>=200&&a.status<300||a.status===304||a.status===1223}catch(b){}return false},httpNotModified:function(a,b){var d=a.getResponseHeader("Last-Modified"),
e=a.getResponseHeader("Etag");if(d)c.lastModified[b]=d;if(e)c.etag[b]=e;return a.status===304},httpData:function(a,b,d){var e=a.getResponseHeader("content-type")||"",f=b==="xml"||!b&&e.indexOf("xml")>=0;a=f?a.responseXML:a.responseText;f&&a.documentElement.nodeName==="parsererror"&&c.error("parsererror");if(d&&d.dataFilter)a=d.dataFilter(a,b);if(typeof a==="string")if(b==="json"||!b&&e.indexOf("json")>=0)a=c.parseJSON(a);else if(b==="script"||!b&&e.indexOf("javascript")>=0)c.globalEval(a);return a}});
if(E.ActiveXObject)c.ajaxSettings.xhr=function(){if(E.location.protocol!=="file:")try{return new E.XMLHttpRequest}catch(a){}try{return new E.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}};c.support.ajax=!!c.ajaxSettings.xhr();var ea={},vb=/^(?:toggle|show|hide)$/,wb=/^([+\-]=)?([\d+.\-]+)(.*)$/,ba,pa=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];c.fn.extend({show:function(a,b,d){if(a||a===0)return this.animate(S("show",
3),a,b,d);else{d=0;for(var e=this.length;d<e;d++){a=this[d];b=a.style.display;if(!c.data(a,"olddisplay")&&b==="none")b=a.style.display="";b===""&&c.css(a,"display")==="none"&&c.data(a,"olddisplay",qa(a.nodeName))}for(d=0;d<e;d++){a=this[d];b=a.style.display;if(b===""||b==="none")a.style.display=c.data(a,"olddisplay")||""}return this}},hide:function(a,b,d){if(a||a===0)return this.animate(S("hide",3),a,b,d);else{a=0;for(b=this.length;a<b;a++){d=c.css(this[a],"display");d!=="none"&&c.data(this[a],"olddisplay",
d)}for(a=0;a<b;a++)this[a].style.display="none";return this}},_toggle:c.fn.toggle,toggle:function(a,b,d){var e=typeof a==="boolean";if(c.isFunction(a)&&c.isFunction(b))this._toggle.apply(this,arguments);else a==null||e?this.each(function(){var f=e?a:c(this).is(":hidden");c(this)[f?"show":"hide"]()}):this.animate(S("toggle",3),a,b,d);return this},fadeTo:function(a,b,d,e){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,d,e)},animate:function(a,b,d,e){var f=c.speed(b,
d,e);if(c.isEmptyObject(a))return this.each(f.complete);return this[f.queue===false?"each":"queue"](function(){var h=c.extend({},f),l,k=this.nodeType===1,o=k&&c(this).is(":hidden"),x=this;for(l in a){var r=c.camelCase(l);if(l!==r){a[r]=a[l];delete a[l];l=r}if(a[l]==="hide"&&o||a[l]==="show"&&!o)return h.complete.call(this);if(k&&(l==="height"||l==="width")){h.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(c.css(this,"display")==="inline"&&c.css(this,"float")==="none")if(c.support.inlineBlockNeedsLayout)if(qa(this.nodeName)===
"inline")this.style.display="inline-block";else{this.style.display="inline";this.style.zoom=1}else this.style.display="inline-block"}if(c.isArray(a[l])){(h.specialEasing=h.specialEasing||{})[l]=a[l][1];a[l]=a[l][0]}}if(h.overflow!=null)this.style.overflow="hidden";h.curAnim=c.extend({},a);c.each(a,function(A,C){var J=new c.fx(x,h,A);if(vb.test(C))J[C==="toggle"?o?"show":"hide":C](a);else{var w=wb.exec(C),I=J.cur()||0;if(w){var L=parseFloat(w[2]),g=w[3]||"px";if(g!=="px"){c.style(x,A,(L||1)+g);I=(L||
1)/J.cur()*I;c.style(x,A,I+g)}if(w[1])L=(w[1]==="-="?-1:1)*L+I;J.custom(I,L,g)}else J.custom(I,C,"")}});return true})},stop:function(a,b){var d=c.timers;a&&this.queue([]);this.each(function(){for(var e=d.length-1;e>=0;e--)if(d[e].elem===this){b&&d[e](true);d.splice(e,1)}});b||this.dequeue();return this}});c.each({slideDown:S("show",1),slideUp:S("hide",1),slideToggle:S("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){c.fn[a]=function(d,e,f){return this.animate(b,
d,e,f)}});c.extend({speed:function(a,b,d){var e=a&&typeof a==="object"?c.extend({},a):{complete:d||!d&&b||c.isFunction(a)&&a,duration:a,easing:d&&b||b&&!c.isFunction(b)&&b};e.duration=c.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in c.fx.speeds?c.fx.speeds[e.duration]:c.fx.speeds._default;e.old=e.complete;e.complete=function(){e.queue!==false&&c(this).dequeue();c.isFunction(e.old)&&e.old.call(this)};return e},easing:{linear:function(a,b,d,e){return d+e*a},swing:function(a,b,d,e){return(-Math.cos(a*
Math.PI)/2+0.5)*e+d}},timers:[],fx:function(a,b,d){this.options=b;this.elem=a;this.prop=d;if(!b.orig)b.orig={}}});c.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(c.fx.step[this.prop]||c.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a=parseFloat(c.css(this.elem,this.prop));return a&&a>-1E4?a:0},custom:function(a,b,d){function e(l){return f.step(l)}
var f=this,h=c.fx;this.startTime=c.now();this.start=a;this.end=b;this.unit=d||this.unit||"px";this.now=this.start;this.pos=this.state=0;e.elem=this.elem;if(e()&&c.timers.push(e)&&!ba)ba=setInterval(h.tick,h.interval)},show:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());c(this.elem).show()},hide:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.hide=true;
this.custom(this.cur(),0)},step:function(a){var b=c.now(),d=true;if(a||b>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var e in this.options.curAnim)if(this.options.curAnim[e]!==true)d=false;if(d){if(this.options.overflow!=null&&!c.support.shrinkWrapBlocks){var f=this.elem,h=this.options;c.each(["","X","Y"],function(k,o){f.style["overflow"+o]=h.overflow[k]})}this.options.hide&&c(this.elem).hide();if(this.options.hide||
this.options.show)for(var l in this.options.curAnim)c.style(this.elem,l,this.options.orig[l]);this.options.complete.call(this.elem)}return false}else{a=b-this.startTime;this.state=a/this.options.duration;b=this.options.easing||(c.easing.swing?"swing":"linear");this.pos=c.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||b](this.state,a,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update()}return true}};c.extend(c.fx,{tick:function(){for(var a=
c.timers,b=0;b<a.length;b++)a[b]()||a.splice(b--,1);a.length||c.fx.stop()},interval:13,stop:function(){clearInterval(ba);ba=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){c.style(a.elem,"opacity",a.now)},_default:function(a){if(a.elem.style&&a.elem.style[a.prop]!=null)a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit;else a.elem[a.prop]=a.now}}});if(c.expr&&c.expr.filters)c.expr.filters.animated=function(a){return c.grep(c.timers,function(b){return a===
b.elem}).length};var xb=/^t(?:able|d|h)$/i,Ia=/^(?:body|html)$/i;c.fn.offset="getBoundingClientRect"in t.documentElement?function(a){var b=this[0],d;if(a)return this.each(function(l){c.offset.setOffset(this,a,l)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return c.offset.bodyOffset(b);try{d=b.getBoundingClientRect()}catch(e){}var f=b.ownerDocument,h=f.documentElement;if(!d||!c.contains(h,b))return d||{top:0,left:0};b=f.body;f=fa(f);return{top:d.top+(f.pageYOffset||c.support.boxModel&&
h.scrollTop||b.scrollTop)-(h.clientTop||b.clientTop||0),left:d.left+(f.pageXOffset||c.support.boxModel&&h.scrollLeft||b.scrollLeft)-(h.clientLeft||b.clientLeft||0)}}:function(a){var b=this[0];if(a)return this.each(function(x){c.offset.setOffset(this,a,x)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return c.offset.bodyOffset(b);c.offset.initialize();var d,e=b.offsetParent,f=b.ownerDocument,h=f.documentElement,l=f.body;d=(f=f.defaultView)?f.getComputedStyle(b,null):b.currentStyle;
for(var k=b.offsetTop,o=b.offsetLeft;(b=b.parentNode)&&b!==l&&b!==h;){if(c.offset.supportsFixedPosition&&d.position==="fixed")break;d=f?f.getComputedStyle(b,null):b.currentStyle;k-=b.scrollTop;o-=b.scrollLeft;if(b===e){k+=b.offsetTop;o+=b.offsetLeft;if(c.offset.doesNotAddBorder&&!(c.offset.doesAddBorderForTableAndCells&&xb.test(b.nodeName))){k+=parseFloat(d.borderTopWidth)||0;o+=parseFloat(d.borderLeftWidth)||0}e=b.offsetParent}if(c.offset.subtractsBorderForOverflowNotVisible&&d.overflow!=="visible"){k+=
parseFloat(d.borderTopWidth)||0;o+=parseFloat(d.borderLeftWidth)||0}d=d}if(d.position==="relative"||d.position==="static"){k+=l.offsetTop;o+=l.offsetLeft}if(c.offset.supportsFixedPosition&&d.position==="fixed"){k+=Math.max(h.scrollTop,l.scrollTop);o+=Math.max(h.scrollLeft,l.scrollLeft)}return{top:k,left:o}};c.offset={initialize:function(){var a=t.body,b=t.createElement("div"),d,e,f,h=parseFloat(c.css(a,"marginTop"))||0;c.extend(b.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",
height:"1px",visibility:"hidden"});b.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";a.insertBefore(b,a.firstChild);d=b.firstChild;e=d.firstChild;f=d.nextSibling.firstChild.firstChild;this.doesNotAddBorder=e.offsetTop!==5;this.doesAddBorderForTableAndCells=
f.offsetTop===5;e.style.position="fixed";e.style.top="20px";this.supportsFixedPosition=e.offsetTop===20||e.offsetTop===15;e.style.position=e.style.top="";d.style.overflow="hidden";d.style.position="relative";this.subtractsBorderForOverflowNotVisible=e.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==h;a.removeChild(b);c.offset.initialize=c.noop},bodyOffset:function(a){var b=a.offsetTop,d=a.offsetLeft;c.offset.initialize();if(c.offset.doesNotIncludeMarginInBodyOffset){b+=parseFloat(c.css(a,
"marginTop"))||0;d+=parseFloat(c.css(a,"marginLeft"))||0}return{top:b,left:d}},setOffset:function(a,b,d){var e=c.css(a,"position");if(e==="static")a.style.position="relative";var f=c(a),h=f.offset(),l=c.css(a,"top"),k=c.css(a,"left"),o=e==="absolute"&&c.inArray("auto",[l,k])>-1;e={};var x={};if(o)x=f.position();l=o?x.top:parseInt(l,10)||0;k=o?x.left:parseInt(k,10)||0;if(c.isFunction(b))b=b.call(a,d,h);if(b.top!=null)e.top=b.top-h.top+l;if(b.left!=null)e.left=b.left-h.left+k;"using"in b?b.using.call(a,
e):f.css(e)}};c.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),d=this.offset(),e=Ia.test(b[0].nodeName)?{top:0,left:0}:b.offset();d.top-=parseFloat(c.css(a,"marginTop"))||0;d.left-=parseFloat(c.css(a,"marginLeft"))||0;e.top+=parseFloat(c.css(b[0],"borderTopWidth"))||0;e.left+=parseFloat(c.css(b[0],"borderLeftWidth"))||0;return{top:d.top-e.top,left:d.left-e.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||t.body;a&&!Ia.test(a.nodeName)&&
c.css(a,"position")==="static";)a=a.offsetParent;return a})}});c.each(["Left","Top"],function(a,b){var d="scroll"+b;c.fn[d]=function(e){var f=this[0],h;if(!f)return null;if(e!==B)return this.each(function(){if(h=fa(this))h.scrollTo(!a?e:c(h).scrollLeft(),a?e:c(h).scrollTop());else this[d]=e});else return(h=fa(f))?"pageXOffset"in h?h[a?"pageYOffset":"pageXOffset"]:c.support.boxModel&&h.document.documentElement[d]||h.document.body[d]:f[d]}});c.each(["Height","Width"],function(a,b){var d=b.toLowerCase();
c.fn["inner"+b]=function(){return this[0]?parseFloat(c.css(this[0],d,"padding")):null};c.fn["outer"+b]=function(e){return this[0]?parseFloat(c.css(this[0],d,e?"margin":"border")):null};c.fn[d]=function(e){var f=this[0];if(!f)return e==null?null:this;if(c.isFunction(e))return this.each(function(l){var k=c(this);k[d](e.call(this,l,k[d]()))});if(c.isWindow(f))return f.document.compatMode==="CSS1Compat"&&f.document.documentElement["client"+b]||f.document.body["client"+b];else if(f.nodeType===9)return Math.max(f.documentElement["client"+
b],f.body["scroll"+b],f.documentElement["scroll"+b],f.body["offset"+b],f.documentElement["offset"+b]);else if(e===B){f=c.css(f,d);var h=parseFloat(f);return c.isNaN(h)?f:h}else return this.css(d,typeof e==="string"?e:e+"px")}})})(window);
/** File: /common/javascripts/jquery.wp.js **/
(function ($) {
  
  /**
   * Determines if an object is empty based on it's own properties only.  This does
   * not check the prototype chain to see if it has any data.
   */
  $.isEmptyObject = function (ob) {
    for (var i in ob) {
      if (ob.hasOwnProperty(i)) {
        return false;
      }
    }
    return true;
  };
  $.expr[':'].regex = function(elem, index, match) {
    var matchParams = match[3].split(',');
    var validLabels = /^(data|css):/;
    var attr = {
      method: matchParams[0].match(validLabels) ? matchParams[0].split(':')[0] : 'attr',
      property: matchParams.shift().replace(validLabels,'')
    };
    var regex = new RegExp(matchParams.join('').replace(/^\s+|\s+$/g,''), 'ig');
    return regex.test(jQuery(elem)[attr.method](attr.property));
  }
})(jQuery);
/** File: /common/javascripts/jquery_cookie.js **/
/**
 * Cookie plugin
 *
 * Copyright (c) 2006 Klaus Hartl (stilbuero.de)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */
/**
 * Create a cookie with the given name and value and other optional parameters.
 *
 * @example $.cookie('the_cookie', 'the_value');
 * @desc Set the value of a cookie.
 * @example $.cookie('the_cookie', 'the_value', { expires: 7, path: '/', domain: 'jquery.com', secure: true });
 * @desc Create a cookie with all available options.
 * @example $.cookie('the_cookie', 'the_value');
 * @desc Create a session cookie.
 * @example $.cookie('the_cookie', null);
 * @desc Delete a cookie by passing null as value. Keep in mind that you have to use the same path and domain
 *       used when the cookie was set.
 *
 * @param String name The name of the cookie.
 * @param String value The value of the cookie.
 * @param Object options An object literal containing key/value pairs to provide optional cookie attributes.
 * @option Number|Date expires Either an integer specifying the expiration date from now on in days or a Date object.
 *                             If a negative value is specified (e.g. a date in the past), the cookie will be deleted.
 *                             If set to null or omitted, the cookie will be a session cookie and will not be retained
 *                             when the the browser exits.
 * @option String path The value of the path atribute of the cookie (default: path of page that created the cookie).
 * @option String domain The value of the domain attribute of the cookie (default: domain of page that created the cookie).
 * @option Boolean secure If true, the secure attribute of the cookie will be set and the cookie transmission will
 *                        require a secure protocol (like HTTPS).
 * @type undefined
 *
 * @name $.cookie
 * @cat Plugins/Cookie
 * @author Klaus Hartl/klaus.hartl@stilbuero.de
 */
/**
 * Get the value of a cookie with the given name.
 *
 * @example $.cookie('the_cookie');
 * @desc Get the value of a cookie.
 *
 * @param String name The name of the cookie.
 * @return The value of the cookie.
 * @type String
 *
 * @name $.cookie
 * @cat Plugins/Cookie
 * @author Klaus Hartl/klaus.hartl@stilbuero.de
 */
jQuery.cookie = function(name, value, options) {
    if (typeof value != 'undefined') { // name and value given, set cookie
        options = options || {};
        if (value === null) {
            value = '';
            options.expires = -1;
        }
        var expires = '';
        if (options.expires && (typeof options.expires == 'number' || options.expires.toUTCString)) {
            var date;
            if (typeof options.expires == 'number') {
                date = new Date();
                date.setTime(date.getTime() + (options.expires * 24 * 60 * 60 * 1000));
            } else {
                date = options.expires;
            }
            expires = '; expires=' + date.toUTCString(); // use expires attribute, max-age is not supported by IE
        }
        var path = options.path ? '; path=' + (options.path) : '';
        var domain = options.domain ? '; domain=' + (options.domain) : '';
        var secure = options.secure ? '; secure' : '';
        document.cookie = [name, '=', encodeURIComponent(value), expires, path, domain, secure].join('');
    } else { // only name given, get cookie
        var cookieValue = null;
        if (document.cookie && document.cookie != '') {
            var cookies = document.cookie.split(';');
            for (var i = 0; i < cookies.length; i++) {
                var cookie = jQuery.trim(cookies[i]);
                if (cookie.substring(0, name.length + 1) == (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }
};
/** File: /common/javascripts/json2.js **/
/*
    http://www.JSON.org/json2.js
    2009-09-29
    Public Domain.
    NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.
    See http://www.JSON.org/js.html
    This code should be minified before deployment.
    See http://javascript.crockford.com/jsmin.html
    USE YOUR OWN COPY. IT IS EXTREMELY UNWISE TO LOAD CODE FROM SERVERS YOU DO
    NOT CONTROL.
    This file creates a global JSON object containing two methods: stringify
    and parse.
        JSON.stringify(value, replacer, space)
            value       any JavaScript value, usually an object or array.
            replacer    an optional parameter that determines how object
                        values are stringified for objects. It can be a
                        function or an array of strings.
            space       an optional parameter that specifies the indentation
                        of nested structures. If it is omitted, the text will
                        be packed without extra whitespace. If it is a number,
                        it will specify the number of spaces to indent at each
                        level. If it is a string (such as '\t' or '&nbsp;'),
                        it contains the characters used to indent at each level.
            This method produces a JSON text from a JavaScript value.
            When an object value is found, if the object contains a toJSON
            method, its toJSON method will be called and the result will be
            stringified. A toJSON method does not serialize: it returns the
            value represented by the name/value pair that should be serialized,
            or undefined if nothing should be serialized. The toJSON method
            will be passed the key associated with the value, and this will be
            bound to the value
            For example, this would serialize Dates as ISO strings.
                Date.prototype.toJSON = function (key) {
                    function f(n) {
                        return n < 10 ? '0' + n : n;
                    }
                    return this.getUTCFullYear()   + '-' +
                         f(this.getUTCMonth() + 1) + '-' +
                         f(this.getUTCDate())      + 'T' +
                         f(this.getUTCHours())     + ':' +
                         f(this.getUTCMinutes())   + ':' +
                         f(this.getUTCSeconds())   + 'Z';
                };
            You can provide an optional replacer method. It will be passed the
            key and value of each member, with this bound to the containing
            object. The value that is returned from your method will be
            serialized. If your method returns undefined, then the member will
            be excluded from the serialization.
            If the replacer parameter is an array of strings, then it will be
            used to select the members to be serialized. It filters the results
            such that only members with keys listed in the replacer array are
            stringified.
            Values that do not have JSON representations, such as undefined or
            functions, will not be serialized. Such values in objects will be
            dropped; in arrays they will be replaced with null. You can use
            a replacer function to replace those with JSON values.
            JSON.stringify(undefined) returns undefined.
            The optional space parameter produces a stringification of the
            value that is filled with line breaks and indentation to make it
            easier to read.
            If the space parameter is a non-empty string, then that string will
            be used for indentation. If the space parameter is a number, then
            the indentation will be that many spaces.
            Example:
            text = JSON.stringify(['e', {pluribus: 'unum'}]);
            text = JSON.stringify(['e', {pluribus: 'unum'}], null, '\t');
            text = JSON.stringify([new Date()], function (key, value) {
                return this[key] instanceof Date ?
                    'Date(' + this[key] + ')' : value;
            });
        JSON.parse(text, reviver)
            This method parses a JSON text to produce an object or array.
            It can throw a SyntaxError exception.
            The optional reviver parameter is a function that can filter and
            transform the results. It receives each of the keys and values,
            and its return value is used instead of the original value.
            If it returns what it received, then the structure is not modified.
            If it returns undefined then the member is deleted.
            Example:
            myData = JSON.parse(text, function (key, value) {
                var a;
                if (typeof value === 'string') {
                    a =
/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/.exec(value);
                    if (a) {
                        return new Date(Date.UTC(+a[1], +a[2] - 1, +a[3], +a[4],
                            +a[5], +a[6]));
                    }
                }
                return value;
            });
            myData = JSON.parse('["Date(09/09/2001)"]', function (key, value) {
                var d;
                if (typeof value === 'string' &&
                        value.slice(0, 5) === 'Date(' &&
                        value.slice(-1) === ')') {
                    d = new Date(value.slice(5, -1));
                    if (d) {
                        return d;
                    }
                }
                return value;
            });
    This is a reference implementation. You are free to copy, modify, or
    redistribute.
*/
/*jslint evil: true, strict: false */
/*members "", "\b", "\t", "\n", "\f", "\r", "\"", JSON, "\\", apply,
    call, charCodeAt, getUTCDate, getUTCFullYear, getUTCHours,
    getUTCMinutes, getUTCMonth, getUTCSeconds, hasOwnProperty, join,
    lastIndex, length, parse, prototype, push, replace, slice, stringify,
    test, toJSON, toString, valueOf
*/
if (!this.JSON) {
    this.JSON = {};
}
(function () {
    function f(n) {
        return n < 10 ? '0' + n : n;
    }
    if (typeof Date.prototype.toJSON !== 'function') {
        Date.prototype.toJSON = function (key) {
            return isFinite(this.valueOf()) ?
                   this.getUTCFullYear()   + '-' +
                 f(this.getUTCMonth() + 1) + '-' +
                 f(this.getUTCDate())      + 'T' +
                 f(this.getUTCHours())     + ':' +
                 f(this.getUTCMinutes())   + ':' +
                 f(this.getUTCSeconds())   + 'Z' : null;
        };
        String.prototype.toJSON =
        Number.prototype.toJSON =
        Boolean.prototype.toJSON = function (key) {
            return this.valueOf();
        };
    }
    var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
        escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
        gap,
        indent,
        meta = {    // table of character substitutions
            '\b': '\\b',
            '\t': '\\t',
            '\n': '\\n',
            '\f': '\\f',
            '\r': '\\r',
            '"' : '\\"',
            '\\': '\\\\'
        },
        rep;
    function quote(string) {
        escapable.lastIndex = 0;
        return escapable.test(string) ?
            '"' + string.replace(escapable, function (a) {
                var c = meta[a];
                return typeof c === 'string' ? c :
                    '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
            }) + '"' :
            '"' + string + '"';
    }
    function str(key, holder) {
        var i,          // The loop counter.
            k,          // The member key.
            v,          // The member value.
            length,
            mind = gap,
            partial,
            value = holder[key];
        if (value && typeof value === 'object' &&
                typeof value.toJSON === 'function') {
            value = value.toJSON(key);
        }
        if (typeof rep === 'function') {
            value = rep.call(holder, key, value);
        }
        switch (typeof value) {
        case 'string':
            return quote(value);
        case 'number':
            return isFinite(value) ? String(value) : 'null';
        case 'boolean':
        case 'null':
            return String(value);
        case 'object':
            if (!value) {
                return 'null';
            }
            gap += indent;
            partial = [];
            if (Object.prototype.toString.apply(value) === '[object Array]') {
                length = value.length;
                for (i = 0; i < length; i += 1) {
                    partial[i] = str(i, value) || 'null';
                }
                v = partial.length === 0 ? '[]' :
                    gap ? '[\n' + gap +
                            partial.join(',\n' + gap) + '\n' +
                                mind + ']' :
                          '[' + partial.join(',') + ']';
                gap = mind;
                return v;
            }
            if (rep && typeof rep === 'object') {
                length = rep.length;
                for (i = 0; i < length; i += 1) {
                    k = rep[i];
                    if (typeof k === 'string') {
                        v = str(k, value);
                        if (v) {
                            partial.push(quote(k) + (gap ? ': ' : ':') + v);
                        }
                    }
                }
            } else {
                for (k in value) {
                    if (Object.hasOwnProperty.call(value, k)) {
                        v = str(k, value);
                        if (v) {
                            partial.push(quote(k) + (gap ? ': ' : ':') + v);
                        }
                    }
                }
            }
            v = partial.length === 0 ? '{}' :
                gap ? '{\n' + gap + partial.join(',\n' + gap) + '\n' +
                        mind + '}' : '{' + partial.join(',') + '}';
            gap = mind;
            return v;
        }
    }
    if (typeof JSON.stringify !== 'function') {
        JSON.stringify = function (value, replacer, space) {
            var i;
            gap = '';
            indent = '';
            if (typeof space === 'number') {
                for (i = 0; i < space; i += 1) {
                    indent += ' ';
                }
            } else if (typeof space === 'string') {
                indent = space;
            }
            rep = replacer;
            if (replacer && typeof replacer !== 'function' &&
                    (typeof replacer !== 'object' ||
                     typeof replacer.length !== 'number')) {
                throw new Error('JSON.stringify');
            }
            return str('', {'': value});
        };
    }
    if (typeof JSON.parse !== 'function') {
        JSON.parse = function (text, reviver) {
            var j;
            function walk(holder, key) {
                var k, v, value = holder[key];
                if (value && typeof value === 'object') {
                    for (k in value) {
                        if (Object.hasOwnProperty.call(value, k)) {
                            v = walk(value, k);
                            if (v !== undefined) {
                                value[k] = v;
                            } else {
                                delete value[k];
                            }
                        }
                    }
                }
                return reviver.call(holder, key, value);
            }
            cx.lastIndex = 0;
            if (cx.test(text)) {
                text = text.replace(cx, function (a) {
                    return '\\u' +
                        ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
                });
            }
            if (/^[\],:{}\s]*$/.
test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@').
replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, ']').
replace(/(?:^|:|,)(?:\s*\[)+/g, ''))) {
                j = eval('(' + text + ')');
                return typeof reviver === 'function' ?
                    walk({'': j}, '') : j;
            }
            throw new SyntaxError('JSON.parse');
        };
    }
}());
/** File: /common/javascripts/common.js **/
/**
 * Crockford's object creation method to support prototypal inheritence.
 */
if (typeof Object.create !== 'function') {
  Object.create = function (o) {
    function F() {}
    F.prototype = o;
    return new F();
  };
}
if (!window.console) {
  window.console = {};
}
$.each("log debug error warn time timeEnd profile profileEnd trace group groupEnd dir dirxml".split(" "), function () {
  if ( window.console[this] === undefined ) {
    window.console[this] =  function () {};
  }
});
whitepages = function() {};
whitepages.version = '1.0';
whitepages.common = function() {};
whitepages.vendor = function() {};
if (!window.console) {
  window.console = {};
}
$.each("log debug error warn time timeEnd profile profileEnd trace group groupEnd dir dirxml".split(" "), function () {
  if ( window.console[this] === undefined ) {
    window.console[this] =  function () {};
  }
});
/**
 * getCookieData gets the value from a cookie name and key
 *
 * @returns {string} the value of the cookie
 */
whitepages.common.getCookieData = function(name, key)
{
  var c = document.cookie.split('; ');
  var i,nvp,j;
  for ( i=0, cl = c.length; i < cl; i++ ) {
    if ( c[i].indexOf(name) > -1 ) {
      nvp = c[i].split('=')[1].split('%26');  // Get the name value pairs
      for ( j=0, nl=nvp.length; j<nl; j++ ) {
        if ( nvp[j].split('%3D')[0] == key ) { return nvp[j].split('%3D')[1]; }
      }
    }
  }
  return '';  /** WP: No cookie with that name */
}; /** WP: end getCookieData */
/**
 * deleteCookieData clear cookie data
 */
whitepages.common.deleteCookieData = function(name, domain)
{
  domain = domain || whitepages.page.data.wildcard_cookie_domain;
  $.cookie(name, null, {domain: domain});
};
/**
 * setCookieData sets a key value pair to a named cookie
 */
whitepages.common.setCookieData = function(name, key, value, pExpires, domain)
{
	var date = new Date();
  var path = '; path=/';
  var cookies = document.cookie.split('; ');
  var cookie_val = '';
  var cookie_domain = (domain && domain != '') ? domain : false
  var hasKey  = false;
  var i = 0;
  var pairs = [];
  var expires = '';
  if (!pExpires) {
    switch (name) {
      case 'wp_perm':
        date.setTime(date.getTime() + (360*24*60*60*1000));
        expires = '; expires=' + date.toGMTString();
        break;
      case 'wp_interstitial':
        date.setTime(date.getTime() + (24*60*60*1000));
        expires = '; expires=' + date.toGMTString();
        break;
      default:
        expires = '';
        break;
    }
  }
  else
  {
    date.setTime(date.getTime() + pExpires*1000);
    expires = '; expires=' + date.toGMTString();
  }
  cookie_domain_for_output = '';
  if (cookie_domain) {
    cookie_domain_for_output = "; domain=" + cookie_domain;
  } else if (whitepages.page.data.wildcard_cookie_domain != null) {
    cookie_domain_for_output = "; domain=" + whitepages.page.data.wildcard_cookie_domain;
  }
  for (i = 0, cl = cookies.length; i < cl; i++) {
    if (cookies[i].indexOf(name + '=') != -1 ) {
      pairs = cookies[i].split('=')[1].split('%26');
      break;
    }
  }
  for (i = 0, pl = pairs.length; i < pl; i++) {
    if (pairs[i].split('%3D')[0] == key) {
      pairs[i] = key + '%3D' + value;
      hasKey = true;
      break;
    }
  }
  if (!hasKey) {
    pairs[pairs.length] = key + '%3D' + value;
  }
  cookie_val = '='
  for (i = 0, pl = pairs.length; i < pl; i++) {
    cookie_val += pairs[i] + '%26';
  }
  cookie_val = cookie_val.replace(/%26$/, '');
  document.cookie = name + cookie_val + expires + path + cookie_domain_for_output;
}
/*
 * cookies_disabled
 *
 * DESCRIPTION: This method checks if cookies are disabled
 *
 * RETURNS:     boolean
 *
 */
whitepages.common.cookies_disabled = function() {
  document.cookie = "wp_cookies_enabled=true;";
  var results = document.cookie.match ( '(^|;) ?wp_cookies_enabled=([^;]*)(;|$)' );
  if (!results) {
    return true;
  }
  else {
    document.cookie = "wp_cookies_enabled=; expires=01/01/2001 00:00:00;";
  }
  return false;
}
/**
 * dump takes a basic JS object and dumps the key's and values out to a string
 *
 * @param pObj {object} is the object you would like to see analyzed.
 * @return {string} a slightly formatted string that shows key value pairs
 */
whitepages.common.dump = function(pObj)
{
  var dump = ''
  for (x in pObj) {
    dump += x + ': ' + pObj[x] + '\n';
  }
  return dump;
}
/**
 * setOriginPage sets the current page into a cookie to be used in "back" links from certain pages
 */
whitepages.common.setOriginPage = function()
{
  whitepages.common.setCookieData('wp_session', 'origin_url', escape(escape(location.href)));
  return true;
}
/** WP:
 * get_rdb_cookie
 *
 * Array returned contains hexadecimal values. Use hex2dec() to convert.
 *
 * BUG: The RDB cookie does not have a different name for each stage (qa, dev, production)
 *      but one does exists in every whitepages.com subdomain (qa.whitpages, dev.whitepages)
 *      so even though the perl code will write to the cookie for the correct domain
 *      the javascript will not necessarily read from the correct one.
 *      One solution for this is to rename the cookie to include a stage name but that
 *      would require significant changes.
 */
whitepages.common.get_rdb_cookie = function(stage)
{
  var name = 'RDB';
  var nameEQ = name + "=";
  var ca = document.cookie.split(';');
  for(var i=0;i < ca.length;i++) {
    var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
    if ( c.indexOf(nameEQ) == 0 ) {
      /** WP: RDB Cookie
                # 0   Original string
        (.{4})  # 1   c802
        (.{6})  # 2   zip
        (.{4})  # 3   zip4
        (.{4})  # 4   country
        (.{2})  # 5   gender
        (.{2})  # 6   primary_usage
        (.{2})  # 7   income_low
        (.{2})  # 8   income_high
        (.{2})  # 9   age_low or business_size_low
        (.{2})  # 10  age_high or business_size_high
        (.{1})  # 11  user trait 0 connection_type
        (.{1})  # 12  user trait 0 purchasing power
        (.{1})  # 13  user trait 1 home_owner + renter + lives_in_apartment + lives_in_house
        (.{1})  # 14  user trait 1 married + single + home > 0k + home > 100k
        (.{1})  # 15  user trait 2 home > 250k + home > 500k + home > 750k + home > 1M
        (.{1})  # 16  user trait 2 home > median + home < median + residency 0-6mo + residency 7-12mo
        (.{1})  # 17  user trait 3 residency 13-24mo + residency > 5y + residency > 10y + residency > 20y
        (.{1})  # 18  user trait 3 children + census pop > 100k + census pop > 250k + census females > males
        (.{8})  # 19  user trait 4-7
        (.{3})  # 20  carrier
        (.{5})  # 21  birth_year
      */
            var rdb_fields = [];
            var rdb_regex =
              /(.{4})(.{6})(.{4})(.{4})(.{2})(.{2})(.{2})(.{2})(.{2})(.{2})(.{1})(.{1})(.{1})(.{1})(.{1})(.{1})(.{1})(.{1})(.{8})(.{3})(.{5})/;
            rdb_fields = c.substring( nameEQ.length,c.length ).match( rdb_regex );
            if (rdb_fields) {
                return rdb_fields;
            }
    }
  }
  return null;
};
/** WP: Decimal to Hexadecimal */
whitepages.common.dec2hex = function(dec)
{
  return dec.toString(16);
};
/** "WP: Hexadecimal to Decimal */
whitepages.common.hex2dec = function(hex)
{
  return parseInt(hex,16);
};
/** WP
* Do not display empty Omniture GIF in the layout --- EXPANDED!
* This must be called after the DOM is ready to accept it, for Propietary sites
* it must be called from within the pre-compiled common.js (one dir down) after
* s_wpn has loaded. For all other sites it's called immediately
*/
whitepages.common.hide_omniture_tracking_img = function(imagename) {
  try {
    var omniname = 's_i_' + imagename;
    var img = document.getElementsByName(omniname);
    if (img.length == 1) {
      /** WP: Hide it from the layout */
      img[0].style.position = 'absolute';
      img[0].style.top = '0';
      img[0].style.left = '0';
    }
  }
  catch (err) {
    /** WP: debug
    alert(err.description);
    */
  }
};
whitepages.common.open_window = function(url, height, width, darken_bg) {
  var left, top, settings;
  if (typeof window.screenLeft != "undefined") {
    left = window.screenLeft;
    top = window.screenTop;
  } else if (typeof window.screenX != "undefined") {
    left = window.screenX;
    top = window.screenY;
  }
  left += (document.documentElement.clientWidth  -  width) / 2;
  top  += (document.documentElement.clientHeight - height) / 2
  win_settings =  "width=" + width + ",height=" + height;
  win_settings += ",left=" + left  + ",top="    + top;
  var popup = window.open(url, 'wp_popup', win_settings);
  if (typeof darken_bg == "undefined" || darken_bg) {
    var dark_cover = document.createElement('div');
    dark_cover['id'] = 'darkCover';
    dark_cover.setAttribute('style', [
      'position:absolute;',
      'top:0px;',
      'left:0px;',
      'padding-right:0px;',
      'padding-bottom:0px;',
      'background-color:#000000;',
      'opacity:0.5;', //standard-compliant browsers
      '-moz-opacity:0.5;',           // old Mozilla
      'filter:alpha(opacity=0.5);',  // IE
      'z-index:10000;',
      'width:100%;',
      'height:100%;'
    ].join(''));
    dark_cover.onclick = function() {
      document.body.removeChild(dark_cover);
    }
    if (popup) {
      var timer = setInterval(function() {
        if (popup.closed) {
          clearInterval(timer);
          document.body.removeChild(dark_cover);
        }
      }, 1000);
    }
    document.body.appendChild(dark_cover);
    if (typeof jQuery != "undefined") {
      jQuery(dark_cover).hide().fadeIn();
    }
  }
  return popup;
}
whitepages.common.track_third_party_login_click = function(elm){
  s_wpn.linkTrackVars = 'events';
  s_wpn.linkTrackEvents = 'event24';
  s_wpn.events = 'event24';
  s_wpn.tl(elm, 'e');
}
whitepages.common.track_business_submit = function()
{
  s_wpn.linkTrackVars = 'events';
  s_wpn.linkTrackEvents = 'event14';
  s_wpn.events = 'event14';
  s_wpn.tl(document.getElementById('omni_business_tracking_link'), 'e');
};
/*
 * Sends a xhr to the external_link_metric controller to log the click
 * of a business search listing website link.
 */
whitepages.common.send_click_to_external_link_metric = function(caller, listing_id, provider, bs_state_token, click_type, wp_prem_campaign_id){
  jQuery.get('/external_link_metric',
    {"listing_id": listing_id, "provider": provider, "t": bs_state_token,
     "click_target": caller.href, "click_type": click_type, "wp_prem_campaign_id": wp_prem_campaign_id});
};
whitepages.common.open_help = function(url) {
  window.open(url,'_blank', 'width=1020,height=600,scrollbars=1,toolbar=yes,menubar=yes,location=yes,resizeable=yes');
}
var common_ad;
if (location.pathname == 'help') {
  self.name = 'WhitepagesHelp';
} else {
  self.name = 'WhitepagesMain';
}
whitepages.common.chunk = function(array, callback, afterFinished, options) {
	options = jQuery.extend({sliceSize: 5, interval: 5}, options);
	var sliceSize       = options.sliceSize;
	var timeoutInterval = options.interval;
	if ( array.length > 0 ){
		callback(array.slice(0, sliceSize));
		setTimeout(function(){
			whitepages.common.chunk(array.slice(sliceSize), callback, afterFinished);
		}, timeoutInterval);
	}
	else {
		jQuery.isFunction(afterFinished) && afterFinished(array);
	}
}
/*
 * Submits person search form by going to SEO friendly url: /name/:firstname/:name/:location
 */
whitepages.common.submit_people_search = function(location, name, firstname, extra_params) {
	location = location || 'location';
  name = name || 'name';
  firstname = firstname || 'firstname';
  var values = $.map([firstname, name, location], function(el, idx) {
		return $('#' + el).val()
      .replace(/^[\W_]+|[\W_]+$/g, '')
      .replace(/[\W_]+/g, '-')
      .replace(/^$/, 'a-z')
      .toLowerCase();
  });
  if (values[2] === 'a-z') {
    values.splice(2,1);
  }
	extra_params ? parameters = ('?' + extra_params) : parameters = '';
  window.location = '/name/' + values.join('/') + parameters;
  return false;
}
whitepages.common.toggle_additional_member_listings = function(that) {
  $(that).text( $(that).text() == 'More' ? 'Less' : 'More' );
  $('.other_member_listings ul').each(function() {
    $(this).find('li').slice(5).toggleClass('hidden');
  });
}
/** File: /common/javascripts/autocomplete.js **/
jQuery.autocomplete = function(input, options) {
  var me = this;
  var $input = $(input).attr("autocomplete", "off");
  if (options.inputClass) {
    $input.addClass(options.inputClass);
  }
  var results = document.createElement("div");
  var $results = $(results).hide().addClass(options.resultsClass).css("position", "absolute");
  if( options.width > 0 ) {
    $results.css("width", options.width);
  }
  $("body").append(results);
  input.autocompleter = me;
  var timeout = null;
  var prev = "";
  var active = -1;
  var cache = {};
  var keyb = false;
  var hasFocus = false;
  var lastKeyPressCode = null;
  var mouseDownOnSelect = false;
  var hidingResults = false;
  function flushCache(){
    cache = {};
    cache.data = {};
    cache.length = 0;
  };
  flushCache();
  if( options.data != null ){
    var sFirstChar = "", stMatchSets = {}, row = [];
    if( typeof options.url != "string" ) {
      options.cacheLength = 1;
    }
    for( var i=0; i < options.data.length; i++ ){
      row = ((typeof options.data[i] == "string") ? [options.data[i]] : options.data[i]);
      if( row[0].length > 0 ){
        sFirstChar = row[0].substring(0, 1).toLowerCase();
        if( !stMatchSets[sFirstChar] ) stMatchSets[sFirstChar] = [];
        stMatchSets[sFirstChar].push(row);
      }
    }
    for( var k in stMatchSets ) {
      options.cacheLength++;
      addToCache(k, stMatchSets[k]);
    }
  }
  $input
  .keydown(function(e) {
    lastKeyPressCode = e.keyCode;
    switch(e.keyCode) {
      case 38: // up
        e.preventDefault();
        moveSelect(-1);
        break;
      case 40: // down
        e.preventDefault();
        moveSelect(1);
        break;
      case 9:  // tab
        if( selectCurrent() ){
          $('input:eq(' + ($('input').index(this) + 1) + ')').focus();
          e.preventDefault();
        }
        break;
      case 13: // return
        if( selectCurrent() ){
          e.preventDefault();
        }
        break;
      default:
        active = -1;
        if (timeout) clearTimeout(timeout);
        timeout = setTimeout(function(){onChange();}, options.delay);
        break;
    }
  })
  .focus(function(){
    hasFocus = true;
  })
  .blur(function() {
    hasFocus = false;
    if (!mouseDownOnSelect) {
      hideResults();
    }
  });
  hideResultsNow();
  function onChange() {
    if( lastKeyPressCode == 46 || (lastKeyPressCode > 8 && lastKeyPressCode < 32) ) return $results.hide();
    var v = $input.val();
    if (v == prev) return;
    prev = v;
    var numLetters = v.replace(/[^a-z]/gi, '').length;
    if (numLetters >= options.minChars) {
      requestData(v);
    } else {
      $results.hide();
    }
  };
  function moveSelect(step) {
    var lis = $("li", results);
    if (!lis) return;
    active += step;
    if (active < 0) {
      active = 0;
    } else if (active >= lis.size()) {
      active = lis.size() - 1;
    }
    lis.removeClass("autocomplete_over");
    $(lis[active]).addClass("autocomplete_over");
  };
  function selectCurrent() {
    var li = $("li.autocomplete_over", results)[0];
    if (!li) {
      var $li = $("li", results);
      if (options.selectOnly) {
        if ($li.length == 1) li = $li[0];
      } else if (options.selectFirst) {
        li = $li[0];
      }
    }
    if (li) {
      selectItem(li);
      return true;
    } else {
      return false;
    }
  };
  function selectItem(li) {
    if (!li) {
      li = document.createElement("li");
      li.extra = [];
      li.selectValue = "";
    }
    var v = $.trim(li.selectValue ? li.selectValue : li.innerHTML);
    input.lastSelected = v;
    prev = v;
    $results.html("");
    $input.val(v);
    hideResultsNow();
    if (options.onItemSelect) {
      setTimeout(function() { options.onItemSelect(li) }, 1);
    }
  };
  function createSelection(start, end){
    var field = $input.get(0);
    if( field.createTextRange ){
      var selRange = field.createTextRange();
      selRange.collapse(true);
      selRange.moveStart("character", start);
      selRange.moveEnd("character", end);
      selRange.select();
    } else if( field.setSelectionRange ){
      field.setSelectionRange(start, end);
    } else {
      if( field.selectionStart ){
        field.selectionStart = start;
        field.selectionEnd = end;
      }
    }
    field.focus();
  };
  function showResults() {
    var pos = findPos(input);
    if (options.width > 0) {
      var iWidth = options.width;
    } else {
      var iWidth = $input.width();
      
      iWidth += parseInt($input.css('paddingLeft')) + parseInt($input.css('paddingRight'));
    }
    
    $results.css('borderColor', $input.css('border-left-color'));
    
    $results.css({
      width: parseInt(iWidth) + "px",
      top: (pos.y + input.offsetHeight + options.offsetY) + "px",
      left: (pos.x + options.offsetX) + "px",
      'z-index': 4000
    }).show();
  };
  function hideResults() {
    if (timeout) clearTimeout(timeout);
    timeout = setTimeout(hideResultsNow, 200);
  };
  function hideResultsNow() {
    if (hidingResults) {
      return;
    }
    hidingResults = true;
  
    if (timeout) {
      clearTimeout(timeout);
    }
    
    var v = $input.val();
    
    if ($results.is(":visible")) {
      $results.hide();
    }
    
    if (options.mustMatch) {
      if (!input.lastSelected || input.lastSelected != v) {
        selectItem(null);
      }
    }
    hidingResults = false;
  };
  function receiveData(q, data) {
    if (data) {
      results.innerHTML = "";
      if( !hasFocus || data.length == 0 ) return hideResultsNow();
      if ($.browser.msie) {
        $results.append(document.createElement('iframe'));
      }
      appendHeader();
      
      results.appendChild(dataToDom(data));
      showResults();
    } else {
      options.no_results_string = q;
      hideResultsNow();
    }
  };
  function parseData(data) {
    if (!data) return null;
    var parsed = [];
    var rows = data.split(options.lineSeparator);
    for (var i=0; i < rows.length; i++) {
      var row = $.trim(rows[i]);
      if (row) {
        parsed[parsed.length] = row.split(options.cellSeparator);
      }
    }
    return parsed;
  };
  function appendHeader() {
    if (options.header) {
      $results.append("<p>" + options.header + "</p>");
    }            
  }
  
  function dataToDom(data) {
    var ul = document.createElement("ul");
    var num = data.length;
    if( (options.maxItemsToShow > 0) && (options.maxItemsToShow < num) ) num = options.maxItemsToShow;
    for (var i=0; i < num; i++) {
      var row = data[i];
      if (!row) continue;
      var li = document.createElement("li");
      if (options.formatItem) {
        li.innerHTML = options.formatItem(row, i, num);
        li.selectValue = row[0];
      } else {
        li.innerHTML = row[0];
        li.selectValue = row[0];
      }
      var extra = null;
      if (row.length > 1) {
        extra = [];
        for (var j=1; j < row.length; j++) {
          extra[extra.length] = row[j];
        }
      }
      li.extra = extra;
      ul.appendChild(li);
      
      $(li).hover(
        function() { $("li", ul).removeClass("autocomplete_over"); $(this).addClass("autocomplete_over"); active = $("li", ul).indexOf($(this).get(0)); },
        function() { $(this).removeClass("autocomplete_over"); }
      ).click(function(e) { 
        e.preventDefault();
        e.stopPropagation();
        selectItem(this)
      });
      
    }
    $(ul).mousedown(function() {
      mouseDownOnSelect = true;
    }).mouseup(function() {
      mouseDownOnSelect = false;
    });
    return ul;
  };
  function requestData(q) {
    if (!options.matchCase) q = q.toLowerCase();
    var data = options.cacheLength ? loadFromCache(q) : null;
    if (data) {
      receiveData(q, data);
    } else if( (typeof options.url == "string") && (options.url.length > 0) ){
      if (options.no_results_string) {
        var no_results_regex = new RegExp('^' + options.no_results_string);
        if (q.match(no_results_regex))
        {
          return false;
        }
      }
      $.get(makeUrl(q), function(data) {
        data = parseData(data);
        if (data && data.length < options.maxItemsReturned)
        {
          addToCache(q, data);
        }
        receiveData(q, data);
      });
    }
  };
  function makeUrl(q) {
    var sep = options.url.indexOf('?') == -1 ? '?' : '&'; 
    var url = options.url + sep + "q=" + encodeURI(q);
    for (var i in options.extraParams) {
      url += "&" + i + "=" + encodeURI(options.extraParams[i]);
    }
    return url;
  };
  function loadFromCache(q) {
    if (!q) return null;
    if (cache.data[q]) return cache.data[q];
    if (options.matchSubset) {
      for (var i = q.length - 1; i >= options.minChars; i--) {
        var qs = q.substr(0, i);
        var c = cache.data[qs];
        if (c) {
          var csub = [];
          for (var j = 0; j < c.length; j++) {
            var x = c[j];
            var x0 = x[0];
            if (matchSubset(x0, q)) {
              csub[csub.length] = x;
            }
          }
          return csub;
        }
      }
    }
    return null;
  };
  function matchSubset(s, sub) {
    if (!options.matchCase) s = s.toLowerCase();
    var i = s.indexOf(sub);
    if (i == -1) return false;
    return i == 0 || options.matchContains;
  };
  this.flushCache = function() {
    flushCache();
  };
  this.setExtraParams = function(p) {
    options.extraParams = p;
  };
  this.findValue = function(){
    var q = $input.val();
    if (!options.matchCase) q = q.toLowerCase();
    var data = options.cacheLength ? loadFromCache(q) : null;
    if (data) {
      findValueCallback(q, data);
    } else if( (typeof options.url == "string") && (options.url.length > 0) ){
      $.get(makeUrl(q), function(data) {
        data = parseData(data)
        addToCache(q, data);
        findValueCallback(q, data);
      });
    } else {
      findValueCallback(q, null);
    }
  }
  function findValueCallback(q, data){
    var num = (data) ? data.length : 0;
    var li = null;
    for (var i=0; i < num; i++) {
      var row = data[i];
      if( row[0].toLowerCase() == q.toLowerCase() ){
        li = document.createElement("li");
        if (options.formatItem) {
          li.innerHTML = options.formatItem(row, i, num);
          li.selectValue = row[0];
        } else {
          li.innerHTML = row[0];
          li.selectValue = row[0];
        }
        var extra = null;
        if( row.length > 1 ){
          extra = [];
          for (var j=1; j < row.length; j++) {
            extra[extra.length] = row[j];
          }
        }
        li.extra = extra;
      }
    }
    if( options.onFindValue ) setTimeout(function() { options.onFindValue(li) }, 1);
  }
  function addToCache(q, data) {
    if (!data || !q || !options.cacheLength) return;
    if (!cache.length || cache.length > options.cacheLength) {
      flushCache();
      cache.length++;
    } else if (!cache[q]) {
      cache.length++;
    }
    cache.data[q] = data;
  };
  function findPos(obj) {
    var curleft = obj.offsetLeft || 0;
    var curtop = obj.offsetTop || 0;
    while (obj = obj.offsetParent) {
      curleft += obj.offsetLeft
      curtop += obj.offsetTop
    }
    return {x:curleft,y:curtop};
  }
}
jQuery.fn.autocomplete = function(url, options, data) {
  options = options || {};
  options.url = url;
  options.data = ((typeof data == "object") && (data.constructor == Array)) ? data : null;
  
  options.no_results_string = null;
  options = $.extend({
    inputClass: "autocomplete_input",
    resultsClass: "autocomplete_results",
    lineSeparator: "\n",
    cellSeparator: "|",
    minChars: 3,
    delay: 150,
    matchCase: 0,
    matchSubset: 1,
    matchContains: 0,
    cacheLength: 500,
    mustMatch: 0,
    extraParams: {},
    selectFirst: false,
    selectOnly: false,
    maxItemsToShow: 14,
    width: 0,
    offsetX: 0,    
    offsetY: 0,    
    maxItemsReturned: 100, // Maximum items returned from the server when the
    header: null  // Optional header to show at the top of the results
  }, options);
  options.width = parseInt(options.width, 10);
  this.each(function() {
    var input = this;
    new jQuery.autocomplete(input, options);
  });
  return this;
}
jQuery.fn.autocompleteArray = function(data, options) {
  return this.autocomplete(null, options, data);
}
jQuery.fn.indexOf = function(e){
  for( var i=0; i<this.length; i++ ){
    if( this[i] == e ) return i;
  }
  return -1;
};
/** File: /common/javascripts/ui.js **/
if (typeof(whitepages.ui) == 'undefined') { whitepages.ui = function() {}; }
whitepages.ui.show_div = function(div) {
  $('.shown_div').hide();
  $('#body').unbind();
  fulldiv = '#' + div;
  $('#body').bind('click', function() {
      if ($(fulldiv).css('display') == 'none') {
        $(fulldiv).show();
      } else {
        $(fulldiv).hide();
        $('#body').unbind();
      }
    });
};
whitepages.ui.add_child = function(from, to) {
  var cloned = $(from).clone();
  $(from).removeClass();
  cloned.insertBefore(to);
};
whitepages.ui.listingToSend = function(listing) {
  var content = listing.split('<br />');
  var display = '';
  for ( i=0; i < content.length; i++ ) {
    if (content[i] != '') {
      display += content[i] + "\n";
    }
  }
  $("#message_text").val( display );
};
/*
 *=== Description
 *  send_message_to_listing is used to send email or sms messages to a listing.
 *  This is to be attached to the submit event of the form element.
 *=== Parameters
 * form_el (DomElementReference): a referance to the form element this method is attached to.
 *
 */
whitepages.ui.send_message_to_listing = function(form_el){
  var action_path = $(form_el).attr('action');
  var q_params = $(form_el).serialize(); /* this will create a name/value query string from the input elements in the form */
  $(form_el).find(':input').attr('disabled','disabled')
  $.post(action_path + "?" + q_params,'', function(data){
      $(".contact_cl_popup_content").replaceWith(data)
        });
};
whitepages.ui.char_remaining = function(total, field) {
  if (document.getElementById(field)) {
    var sig = document.getElementById(field).value;
    var char_left = $("#char_count").html(); // the input-field, where the chars left will be shown
    if(sig.length > total) {
      var x = sig.substring(0, total);
      document.getElementById(field).value = x;
      char_left = 0;
      setTimeout("whitepages.ui.char_remaining('" + total + "', '" + field + "')",100);
    } else {
      $("#char_count").text( total - sig.length );
      setTimeout("whitepages.ui.char_remaining('" + total + "', '" + field + "')",100);
    }
    if (document.getElementById('char_count')) {
      if (char_left > 0) {
        $("#char_count").css( "color", "#333" );
        $("#red_alert").css( "color", "#333" );
      } else {
        $("#char_count").css( "color", "red" );
        $("#red_alert").css( "color", "red" );
      }
    }
  }
};
whitepages.ui.validateSelect = function(input_field, error_field) {
  var error = '';
  var errFld = $(error_field);
  var inpFld = $(input_field);
  if (input_field.value == '') {
    inpFld.addClass('input_error_border');
    errFld.addClass('error_on');
    errFld.html("This is required.");
    error = 'true';
  } else {
    inpFld.removeClass('input_error_border');
    errFld.removeClass('error_on');
    errFld.html("");
    error = ''
  }
  return error;
};
whitepages.ui.validatePhone = function(input_field, error_field) {
  var error = '';
  var errFld = $(error_field);
  var inpFld = $(input_field);
  var stripped = input_field.value.replace(/[\(\)\.\-\ ]/g, '');
  if (input_field.value == '') {
    inpFld.addClass('input_error_border');
    errFld.addClass('error_on');
    errFld.html("Cell Phone number is required.");
    error = 'true';
  } else if (stripped.match(/^0/)) {
    inpFld.addClass('input_error_border');
    errFld.addClass('error_on');
    errFld.html("This looks like an international number - US only please.");
    error = 'true';
  } else if (!(stripped.length == 10) || isNaN(parseInt(stripped))) {
    inpFld.addClass('input_error_border');
    errFld.addClass('error_on');
    errFld.html("Cell numbers must contain 10 digits.");
    error = 'true';
  } else {
    inpFld.removeClass('input_error_border');
    errFld.removeClass('error_on');
    errFld.html("");
    error = '';
  }
  return error;
};
whitepages.ui.validateName= function(input_field, error_field) {
  var error = '';
  var errFld = $(error_field);
  var inpFld = $(input_field);
  if (input_field.value == '') {
    inpFld.addClass('input_error_border');
    errFld.addClass('error_on');
    errFld.html("This is required.");
    error = 'true';
  } else {
    inpFld.removeClass('input_error_border');
    errFld.removeClass('error_on');
    errFld.html("");
    error = ''
  }
  return error;
};
whitepages.ui.validateEmail = function(input_field, error_field) {
  var error = '';
  var errFld = $(error_field);
  var inpFld = $(input_field);
  var emailFilter = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
  if (input_field.value == '') {
    inpFld.addClass('input_error_border');
    errFld.addClass('error_on');
    errFld.html("Email address is required.");
    error = 'true';
  } else if (emailFilter.test(input_field.value) != true) {
    inpFld.addClass('input_error_border');
    errFld.addClass('error_on');
    errFld.html("Email addresses must be formatted like this: name@place.abc.");
    error = 'true';
  } else {
    inpFld.removeClass('input_error_border');
    errFld.removeClass('error_on');
    errFld.html("");
    error = ''
  }
  return error;
};
whitepages.ui.validateText = function(input_field, error_field) {
  var error = '';
  var errFld = $(error_field);
  var inpFld = $(input_field);
  var stripped = input_field.value.replace(/[\s+][\n+][\r+]/g, '');
  if (stripped == '') {
    inpFld.addClass('input_error_border');
    $('#innerTextArea').addClass('text_error');
    errFld.addClass('error_on');
    errFld.html("This is required.");
    if ($('#scroll_cover')) {
      $('#scroll_cover').addClass('scroll_cover_error');
    }
    error = 'true';
  } else {
    inpFld.removeClass('input_error_border');
    $('#innerTextArea').removeClass('text_error');
    errFld.removeClass('error_on');
    errFld.html('');
    if ($('#scroll_cover')) {
      $("#scroll_cover").removeClass('scroll_cover_error');
    }
    error = '';
  }
  return error;
};
whitepages.ui.close_claim_example = function() {
  if ($('#claim_example_listing').css('display', 'block')) {
    $('#claim_example_listing').css('display','none')
  }
  return true;
};
/*
 * === Description
 * Fade the background color of an element
 *
 * === Parameters
 * [element_id] - The id of the element
 * [color] - Background color to fade to
 * [duration] - Time in milliiseconds to fade the element to opacity zero
 */
whitepages.ui.fade_element_bg = function(element_id, color, duration) {
  var duration = duration == '' ? 400 : duration;
  if (element_id == '') {
    return false;
  }
  $('#'+element_id).animate({ backgroundColor: color}, duration);
};
/*
 * === Description
 *	Slide an element until it is no longer visible
 *
 * === Parameters
 * [element_id] - The id of the element
 * [options] - Parameters to customize the slide and fade effects
 *   [slide]    - Determines whether to slide the element up or down
 *   [duration] - Time is takes for the slide animation to complete
 */
whitepages.ui.slide_element = function(element_id, options) {
  var direction = options.direction ? options.direction : 'up';
  var duration = options.duration ? options.duration : 400;
  if (direction == 'down') {
    $('#'+element_id).slideDown();
  } else {
    $('#'+element_id).slideUp();
  }
};
whitepages.ui.preload_images = function() {
  whitepages.ui.preload_image_cache = whitepages.ui.preload_image_cache || [];
  for (var i = 0, args_len = arguments.length, cacheImage; i < args_len; i++) {
    cacheImage = document.createElement('img');
    cacheImage.src = arguments[i];
    whitepages.ui.preload_image_cache.push(cacheImage);
  }
};
whitepages.ui.showModalDialog = function(url) {
  $('#wpn_ad_content_top_rail, #wpn_ad_content_right_rail').css('visibility', 'hidden');
  $('#modal_iframe').css('visibility', 'hidden')
                    .unbind('load')
                    .attr('src', url)
                    .bind('load', function() {
    this.style.visibility = 'visible';
  });
  $('#modal').show();
  return false;
};
whitepages.ui.closeModalDialog = function() {
  $('#modal').hide();
  $('#wpn_ad_content_top_rail, #wpn_ad_content_right_rail').css('visibility', '');
  return false;
};
/** File: /common/javascripts/popup.js **/
(function($, ui) {
  /*
   * anchor - that to which the pop-up points
   * content - a file name (for ajax), a div class/id (for inline), or a string
   * options is a hash containing:
   *   type - ajax/inline/string:
          ajax is a page to call,
          inline is a div on the page (class, id, or jquery selector),
          string is a string of text.
   *   position - the position of the box:
          caller - will attempt to place to the top right of the anchor, flipping horizontally & vertically if necessary
          center - will center in the browser window.
                   if centerReference is given, will horizontally center in that element instead.
                   it's best to not use the arrow for this type of positioning
          coords - will absolutely position the popup in the page given these coordinates.
   *   force_edge - the edge of the anchor to attempt to build the pop up off of
          none - a vertical flip will switch top and bottom edges
          top - a vertical flip will stay aligned with the top edge
   *   centerReference - jquery selector for the div you want the popup centered within (horizontally only). when using the 'center' position.
   *   arrow - does this box need an arrow : true/false. Default false.
   *   arrow_position - 'x_axis' | 'y_axis': Placement of arrow on the box. Default is y_axis, on the left & right side of the box.
   *   arrow_offset - how many pixels the arrow should move away from it's corner, Default 0
   *   close - should there be a close link in the top right corner : true/false. Default true.
   *   details - if type is ajax, then this is a callback that may manipulate the contents of the popup.
   *   staticLeft - distance from left of browser you want, a number.
   *   staticTop  - distance from top of browser you want, a number.
   *   image_path - path to find images otherwise will determine the page to be /four_one_one/images/ or /common/images/forms/
   *   ele_class - Add a class to the popup div
  */
  ui.Popup = function(anchor, content, options, doLoader) {
    this.anchor = $(anchor);
    this.content = content;
    this.options = $.extend({
      type: 'string',
      position: 'caller',
      centerReference: 'body',
      arrow: false,
      arrow_position: 'y_axis',
      arrow_offset: 0,
      close: true,
      details: null,
      staticLeft: 0,
      staticTop: 0,
      arrow_ext: 'png',
      ele_class: 'standard_box',
      loader: true,
      force_edge: 'none'
    }, options);
		this.convert_booleans();
    if (!(options && options.image_path)) {
      this.options.image_path = (options && options.site === '411') ?
        '/four_one_one/images/' : '/common/images/forms/';
      this.options.arrow_ext = 'gif';
    }
    
    this.popup = $(
      '<div id="wp_popup_outer" style="visibility: hidden; z-index: 4199;">'+
        '<div id="wp_popup" class="'+this.options.ele_class+'" style="position: relative;">'+
          '<div id="wp_popup_inner"></div>'+
        '</div>'+
      '</div>'
    );
    this.outer = $('#wp_popup', this.popup);
    this.inner = $('#wp_popup_inner', this.popup);
    ui.closePopup();
  };
	ui.Popup.prototype.convert_booleans = function() {
		if (!this.options.arrow || this.options.arrow.toString() != 'true') {
			this.options.arrow = false;
		} else {
			this.options.arrow = true;
		}
	};
  ui.Popup.prototype.runLoader =  function() {
    var loader_options = $.extend({}, this.options, { type: 'string', loader: false });
    this.loader = new ui.Popup(this.anchor, '<img src="/common/images/Loader_vertical_ani.gif" />', loader_options);
    this.loader.place();
  };
  ui.Popup.prototype.cancelLoader = function() {
    this.loader.popup.remove();
  };
  
  ui.Popup.prototype.place = function() {
    var self = this;
    this.options.loader && this.runLoader();
    this.options.arrow && this.addArrow();
    this.options.close && this.addClose();
    this.popup.appendTo('body');
    if (this.options.type == 'ajax') { // content MUST be the location of the file to load.
      $(this.inner).load(this.content, function(response, status, xhr) {
        $.isFunction(self.options.details) && self.options.details.call(this, response, status, xhr);
        self.options.loader && self.cancelLoader();
        self.position();
      });
    } else if (this.options.type == 'inline') { // content MUST be a jQuery selector that exists on the page.
      $(this.content).clone().show().wrap('<div id="popup_content">').parent().appendTo(this.inner);
      this.options.loader && this.cancelLoader();
      this.position();
    } else if (this.options.type == 'string') { // content WILL be whatever is
      $('<div id="popup_content">').html(this.content).appendTo(this.inner);
      this.options.loader && this.cancelLoader();
      this.position();
    }
  };
  
  ui.Popup.prototype.addArrow = function() {
    $('<div id="wp_popup_arrow"><img style="width: 0; height: 0;" /></div>').prependTo(this.popup);
  };
  
  ui.Popup.prototype.addClose = function() {
	if (this.options.ele_class == "details_box")
		$('<div class="close"><a href="#">X</a></div>')
	      .prependTo(this.outer)
	      .click(function() {
	        ui.closePopup();
	      });
	else
    	$('<div id="close_wp_popup">close</div>')
	      .prependTo(this.outer)
	      .click(function() {
	        ui.closePopup();
	      });
  }
  
  ui.Popup.prototype.position = function() {
    this.popup.css({position: 'absolute', left: 0, top: 0});
    
    var left = 0, top = 0, flippedHoriz = false, flippedVert = false;
    if (this.options.position == 'caller') {
      left = Math.round(this.anchor.offset().left + this.anchor.outerWidth());
      if ((left + this.popup.width() - $(window).scrollLeft() > $(window).width()) || this.options.forceFlipHoriz) {
        var newLeft = Math.round(this.anchor.offset().left - this.popup.width());
        if (newLeft >= 0) {
          left = newLeft;
          flippedHoriz = true;
        }
      }
      top = Math.round(this.anchor.offset().top - this.popup.height());
      if (top - $(window).scrollTop() < 0 || this.options.forceFlipVertical) {
        if (this.options.force_edge == 'top') {
          top = Math.round(this.anchor.offset().top);
        } else {
          top = Math.round(this.anchor.offset().top + this.anchor.outerHeight());
        }
        flippedVert = true;
      }
    } else if (this.options.position == 'coords') {
      left = this.options.staticLeft;
      top = this.options.staticTop;
    } else if (this.options.position === 'center') {
      var $center = $(this.options.centerReference);
      left = Math.max(0, ($center.outerWidth() - this.popup.width()) / 2 + $center.offset().left);
      top = Math.max(0, ($(window).height() - this.popup.height()) / 2 + $(window).scrollTop());
    }
    
    if (this.options.arrow) {
      var dir = 'l', side = 'b';
      if (this.options.arrow_position === 'y_axis') {
        dir = flippedVert ? 'u' : 'd';
        side = flippedHoriz ? 'r' : 'l';
      } else { // x_axis
        dir = flippedHoriz ? 'r' : 'l';
        side = flippedVert ? 't' : 'b';
      }
      this.positionArrow(dir, side, left, top);
    } else {
      this.popup.css({left: left, top: top, visibility: ''});
    }
  };
  ui.Popup.prototype.positionArrow = function(dir, side, popupLeft, popupTop) {
    var self = this;
    var popupWidth = this.popup.width(), popupHeight = this.popup.height();
    $('#wp_popup_arrow img')
      .hide()
      .bind('load', function() {
        var imgLeft = 0, imgTop = 0, imgWidth = $(this).width(), imgHeight = $(this).height();
        if (side === 't') {
          popupTop += imgHeight;
          imgTop -= imgHeight;
        } else if (side === 'b') {
          popupTop -= imgHeight;
          imgTop += popupHeight;
        } else if (side === 'l') {
          popupLeft += imgWidth;
          imgLeft -= imgWidth;
        } else if (side === 'r') {
          popupLeft -= imgWidth;
          imgLeft += popupWidth;
        }
        
        if (dir === 'l') {
          popupLeft -= self.options.arrow_offset;
          imgLeft += self.options.arrow_offset;
        } else if (dir === 'r') {
          popupLeft += self.options.arrow_offset;
          imgLeft += popupWidth - imgWidth - self.options.arrow_offset;
        } else if (dir === 'u') {
          popupTop -= self.options.arrow_offset;
          imgTop += self.options.arrow_offset;
        } else if (dir === 'd') {
          popupTop += self.options.arrow_offset;
          imgTop += popupHeight - imgHeight - self.options.arrow_offset;
        }
        
        var hadToReposition = false;
        if (self.options.position === 'caller') {
          if (side === 'l' && popupLeft + popupWidth - $(window).scrollLeft() > $(window).width()) {
            var newLeft = self.anchor.offset().left - popupWidth;
            if (newLeft >= 0) {
              popupLeft = newLeft;
              self.popup.css('left', popupLeft);
              self.positionArrow(dir, 'r', popupLeft, popupTop);
              hadToReposition = true;
            }
          } else if (side === 'b' && popupTop - $(window).scrollTop() < 0) {
            popupTop = self.anchor.offset().top + self.anchor.outerHeight();
            self.popup.css('top', popupTop);
            self.positionArrow(dir, 't', popupLeft, popupTop);
            hadToReposition = true;
          }
        }
        
        self.popup.css({left: popupLeft, top: popupTop});
        $(this).css({position: 'absolute', left: imgLeft, top: imgTop}).show();
        if (!hadToReposition) {
          self.popup.css('visibility', '');
        }
      })
      .css({width: 'auto', height: 'auto'})
      .attr('src', this.options.image_path + 'nimbleWindow_' + dir + side + '.' + this.options.arrow_ext);
  }
  ui.createPop = function(anchor, content, options) {
    new ui.Popup(anchor, content, options).place();
  }
  ui.closePopup = function() {
    $('#wp_popup_outer', document.body).remove();
  }
}(jQuery, whitepages.ui));
/** File: /common/javascripts/results.js **/
whitepages.results = function() {};
$(document).ready(function() {
  var categories_div_max_height = 180;
  var categories = $('#business_more_categories');
  if (categories) {
    if (categories.height() > categories_div_max_height) {
      categories.height(categories_div_max_height + 'px');
    }
  }
  var filters_div_max_height = 180;
  var filters = $('#biz_location_filters');
  if (filters) {
    if (filters.height() > filters_div_max_height) {
      filters.height(filters_div_max_height + 'px');
    }
  }
});
whitepages.results.sort_chosen = function(token)
{
  var selected = $('#s_b option:selected').val();
  if (selected != '')
  {
    var url = $.query.set('s_b', selected).set('page', '1').set('token', token);
    window.location.href = url.toString();
  }
}
whitepages.results.sort_chosen_business_track = function(sender)
{
 	var tracking_desc = sender[sender.selectedIndex].innerHTML;
  whitepages.analytics.track_click(this, {events:['general_interaction'], evars:{'listing_interaction_evar':'BS: Sort: ' + tracking_desc}});
}
whitepages.results.listingToSend = function(listing) {
  var content = listing.split('<br />');
  var display = '';
  for ( i=0; i < content.length; i++ ) {
    if (content[i] != '') {
      display += content[i] + "\n";
    }
  }
  $("#message_text").val( display );
}
whitepages.results.validateListingToSend = function(myForm) {
  var errors = '';
  if (myForm.to_phone) {
	  errors += whitepages.ui.validatePhone(myForm.to_phone, '#to_error_message');
	  errors += whitepages.ui.validatePhone(myForm.from_phone, '#from_error_message');
  } else {
	  errors += whitepages.ui.validateEmail(myForm.to_cell, '#to_error_message');
	  errors += whitepages.ui.validateEmail(myForm.from_cell, '#from_error_message');
  }
  errors += whitepages.ui.validateText(myForm.message_text, '#text_error_message');
  if (errors != '') {
    return false;
  }
  return true;
}
whitepages.results.sendListing = function(type, send_listing_url, thank_you_url) {
  var send = document.getElementById('send');
  var to_cell   = send.to_phone.value;
  var from_cell = send.from_phone.value;
  var message   = escape( send.message_text.value.replace(/\n/g,"\r\n") );
  var h = $("#sendListingDiv").height();
  var w = $("#sendListingDiv").width();
  $("#sendListingDiv").empty();
	$("#sendListingDiv").height(h).width(w);
  $("#wp_popup_inner").load(thank_you_url, '', function() {
    $("#listing_type").html( type );
    var url_and_data = send_listing_url.split('?');
    $.ajax({
      type: "GET",
      url: url_and_data[0],
      data: "to=" + to_cell + "&from=" + from_cell + "&message=" + message + url_and_data[1]
      });
  });
}
whitepages.results.save_contact_to_address_book = function(elm,search_id,upper,lower){
	var has_used_this = whitepages.common.getCookieData('wp_perm', 'has_used_save_contact_from_people_search');
	
	$(elm).fadeOut('fast',function(){
    $(elm).html('<span class="bold">Adding...</span>').fadeIn();
  }).attr('onclick','').blur()
	$.ajax({url: '/save_contacts/add', type: 'POST', data: {search_id: search_id ,upper: upper,lower: lower, s_cid: '09010002'},
		success: function(data, status){
			console.log(data);
			var json = $.parseJSON(data)
			if(json.result === 'success'){
			  $(elm).removeClass('saving').fadeOut('fast',function(){
			    $(elm).html('<span class="bold">Added</span> successfully!').fadeIn('fast')
			  }).attr('href','/hiya?s_cid=09010002#/labels_promo');
			  $('#view_contacts_disabled').hide();
			  $('#view_contacts').fadeIn('fast');		
			  whitepages.common.setCookieData('wp_perm', 'has_used_save_contact_from_people_search', true);
			}else{
			  $(elm).removeClass('saving').fadeOut('fast', function(){
			    $(elm).html('<span class="bold">Unable to add this contact at this time.</span>').fadeIn('fast')
			  });
			}
		}
	});
}
whitepages.results.sendBusinessListing = function(){
  var send_form = $('form#send');
  var action = send_form.attr('action');
  
  var data = {};
  data.to_cell = $('#to_cell_val').val();
  data.from_cell = $('#from_cell_val').val();
  data.to_email = $('#to_email_val').val();
  data.from_email = $('#from_email_val').val();
  data.uid = $('#uid').val();
  
  var h = $("#sendListingDiv").height();
  var w = $("#sendListingDiv").width();
  $("#sendListingDiv").empty();
  $("#sendListingDiv").append('<div id="loading_top_margin"></div><div id="loading_icon"><img src="/common/images/Loader_vertical_ani.gif" alt="Loading" /></div>');
  $("#sendListingDiv").height(h).width(w);
  $("#wp_popup_inner").load(action, data);
};
whitepages.results.toggle_more_business_categories = function(caller)
{
  whitepages.ui.show_div('business_more_categories');
  var pos = $(caller).position();
  var height = $(caller).height();
  $("#business_more_categories").css( { "left": (pos.left) + "px", "top":(pos.top + height) + "px" } );
}
whitepages.results.toggle_show_business_location_filters = function(caller)
{
  whitepages.ui.show_div('biz_location_filters');
}
whitepages.results.social_link_click = function(e,linktype) {
  evar_value = 'Facebook';
  if(linktype == 'twitter'){
    evar_value = 'Twitter';
  }else if(linktype == 'linkedin'){
    evar_value = 'LinkedIn';  
  }
  
  whitepages.analytics.track_click(e, {events:['social_link'], evars: {'social_link_evar': evar_value}, link_type: 'e'});
}
whitepages.results.track_print = function(tracking_url)
{
  (new Image).src = tracking_url;
};
/*
 * delete_photo
 *
 * REQUIRES:    jquery
 * DESCRIPTION: This method calls the action that will delete a photo
 *
 * PARAMETERS:
 *   url - URL to delete a photo
 *   redirect - URL to redirect to after the response returns a success
 *   message_id - Element id where message is displayed
 *
 */
whitepages.results.delete_photo = function(url, redirect, message_id) {
	$('#'+message_id).css('color','#54B948').html('Removing photo... Please wait while we<br/>update your listing.');
	$('#'+message_id).css('display','block');
  $.ajax({
    url: '/listing/delete_photo?listing_id=' + url,
    success: function(data) {
      var status = JSON.parse(data).status;
			if (status == 'success') {
				window.location.href=redirect;
			} else {
				$('#'+message_id).css('color','red').html('There was a problem removing your photo.  Please try again later.');
			}
    }
  });
}
/*
 * check_photo_status
 *
 * REQUIRES:    jquery
 * DESCRIPTION: This method calls the action to check the status of a photo
 *
 * PARAMETERS:
 *
 */
whitepages.results.check_photo_status = function(redirect_url) {
	var refreshId = setInterval(function() {
		$.ajax({
		  url: '/listing/check_photo',
		  success: function(data, status) {
        if (status == 'success') {
          window.location.href=redirect_url;
          return false;
        }
		  }
		});
	}, 2000);
  setTimeout("clearInterval("+refreshId+")",300000);
}
/*
 * report_inappropriate_photo
 *
 * REQUIRES:    jquery
 * DESCRIPTION: This method calls the action to mark a photo as inappropriate in the logs.
 *
 * PARAMETERS:
 *	photo_id - ID path of photo that translates to location on LASS
 *  listing_id - ID of listing the photo is associated with
 *
 */
whitepages.results.report_inappropriate_photo = function(photo_id, listing_id) {
	$('#mark_photo').addClass('marked');
	$.ajax({
		url: '/report_photo/?listing_id=' + listing_id + '&photo_id=' + photo_id,
	  success: function(data) {
      var status = JSON.parse(data).status;
      var msg_class = 'failed';
      var error = '';
      switch(status) {
        case 'failed': message = 'There was an error while trying to flag photo as not appropriate. Please try again later.'; error=1; break;
        default:       message = 'Successfully flagged photo as not appropriate.'; msg_class='success';
      }
      $('#inappropriate_wrapper .inappropriate_flag').addClass(msg_class).html(message);
	  }
	});
}
/*
 * report_inappropriate_photo
 *
 * REQUIRES:    jquery
 * DESCRIPTION: This method checks width/height and resizes the photo to the
 *              specified dimensions.
 *
 * PARAMETERS:
 *  image_id -  The id of the image element
 *	options  -  A hash of CSS attributes for the image (width, height)
 *    width     -  [required] Width of image
 *    height    -  [required] Height of image
 *    overflow  -  [optional] Overflow value
 *    display   -  [optional] Display value
 *
 */
whitepages.results.resize_photo = function(container_id, image_id, options) {
  var img = $('#'+image_id);
  if ($.browser.msie) {
    var width = parseInt( img.width() +4);
    var height = parseInt( img.height() +2);
  } else {
    var width = parseInt( img.width() );
    var height = parseInt( img.height() );
  }
  var new_height = options.height ? parseInt(options.height) : '100';
  var new_width = options.width ? parseInt(options.width) : '100';
  var overflow = options.overflow ? options.overflow : 'hidden';
  var display = options.display ? options.display : 'inline';
  var m = Math.ceil;
  var field_wrapper = options.field_wrapper ? options.field_wrapper : '';
  if ( isNaN(width) || isNaN(height) || image_id == '' ) {
    return false;
  }
  if (width > height) {
    new_height = m(height / width * new_height);
  } else {
    new_width = m(width / height * new_width);
  }
  img.css('height',new_height+'px')
  img.css('width',new_width+'px');
  $('#'+container_id).css('overflow', overflow);
  $('#'+container_id).css('visibility', 'visible');
  if (field_wrapper != '') {
    $('.'+field_wrapper).css('height', new_height);
  }
}
/*
 * user_found_listing
 *
 * REQUIRES:    jquery
 * DESCRIPTION: Logs user feedback after submission
 *
 * PARAMETERS:
 *  element_id  - The id of the element where the content will be updated
 *	message     - Confirmation messsage
 *  search_type - Search type
 *  options     - Configurable options for a slide effect
 *    slide     - True/false, slide effect toggle
 *    duration  - Duration of the slide effect in ms
 *    direction - Slide direction
 *
 */
whitepages.results.user_found_listing = function(element_id, message, options) {
  var options = options === undefined ? {} : options;
  var direction = options.direction ? options.direction : 'up';
  var duration = options.duration ? options.duration : 400;
  var slide = options.slide ? options.slide : true;
  var url = options.url;
  $('#'+element_id).html(message);
  $.ajax({
    url: url,
    success: function(data) { }
  });
  if (slide == true) {
    setTimeout("whitepages.ui.slide_element('user_feedback',{'duration':1000,'slide':''})", 4000);
    whitepages.ui.closePopup();
  }
}
/** File: /common/javascripts/omniture.js **/
/** WP
 * Omniture helper JavaScript.
 */
var omni_link_filters = [
	'javascript:',
	'address.com', 'phonenumber.com', 'whitepages.ca', 'whitepages411.com'
].join(',') + ',411.com/' + [
	2321, 5138, 5153, 10002, 10668, 10786, 10789, 10815, 14874, 14957
].join(',411.com/') + ',whitepages.com/' + [
	2321, 5138, 5153, 9900, 9901, 10001, 10002, 10583, 10592, 10668, 10786, 10789, 10815, 14867, 14874, 14957
].join(',whitepages.com/');
var omni_wpn_refer    = null;
function omni_refer (referer) {
	/** WP: Updated domain list logic: */
	omni_wpn_refer = referer;
	
	var wp_match = omni_wpn_refer.match(/^https?\:\/\/.*\.(\w+\.\w+)(?::[0-9]+)?(?:\/([0-9]+)\b)?/);
	
	if (wp_match != null) {
		if (wp_match[1] == 'whitepages.com') {
			if (wp_match[2] == null) {
				omni_wpn_refer = null;
			} else if (wp_match[2].match(/^(?:2321|5138|5153|9900|9901|10001|10002|10583|10592|10668|10786|10789|10815|14867|14874|14957)$/)) {
				omni_wpn_refer = null;
			}
		} else if (wp_match[1] == '411.com') {
			if (wp_match[2] == null) {
				omni_wpn_refer = null;
			} else if (wp_match[2].match(/^(?:2321|5138|5153|10668|10002|10786|10789|10815|14874|14957)$/)) {
				omni_wpn_refer = null;
			}
		} else if (wp_match[1] == 'whitepages.ca') {
			omni_wpn_refer = null;
		} else if (wp_match[1].match(/^(?:address|phonenumber|whitepages411)\.com$/)) {
			omni_wpn_refer = null;
		}
	}
}
function omni_settings (pagename, server, channel, pagetype, section, validity, events) {
	if (server == ''){ server = 'No server set'};
	
	s_wpn.pageName = pagename;
	s_wpn.server   = server;
	s_wpn.channel  = channel;
	s_wpn.pageType = pagetype;
	s_wpn.prop1    = section;
	s_wpn.prop2    = validity;
	s_wpn.prop3    = s_wpn.prop2  + ':' + s_wpn.pageName;
	s_wpn.prop4    = s_wpn.server + ':' + s_wpn.pageName;
	s_wpn.prop5    = (omni_wpn_refer ? (omni_wpn_refer + ':') : '') + s_wpn.pageName;
	s_wpn.hier1    = s_wpn.channel + '|' + s_wpn.prop1;
	s_wpn.eVar3    = s_wpn.server;
	s_wpn.eVar4    = s_wpn.eVar3;
  s_wpn.events = events;
	if(s_wpn.prop2 == 'Valid'){
		if(events && events.indexOf('event4') == -1){
      if (events.indexOf(',')){
        s_wpn.events += ',event4';
      }else{
        s_wpn.events += 'event4'
      }
		}
	}
		
	s_wpn.linkTrackVars = "eVar3,eVar4"; /** WP: per aHill 2006-10-09 */
}
var omni_debug_fields = "pageName,channel,server,pageType,prop1,prop2,prop3,prop4,prop5,hier1,eVar3,eVar4,eVar5,events";
function omni_debugging ( ) {
	var show = document.getElementById('omni_debug');
	
	if (show) {
		var field = omni_debug_fields.split(',');
		var stuff = '<table><tr><th style="font-weight:bold">Omniture:</th></tr>'  
				  + '<tr><td style="text-align:right">account:</td><td>&nbsp;</td><td style="text-align:left"><tt>'
				  +  omni_wpn_account
				  +  '</tt></td></tr>';
		
		for (var i = 0; i < field.length; i++) {
			stuff += '<tr><td style="text-align:right">'
			      +     field[i]
			      + ':</td><td>&nbsp;</td><td style="text-align:left"><tt>'
			      +     s_wpn[field[i]]
			      + '</tt></td></tr>';
		}
		
		stuff += '</table>';
		
		show.innerHTML     = stuff;
	}
}
function omni_execute ( ) {
	try {
		var s_wpn_code = s_wpn.t();
		
		if (s_wpn_code)
			document.write( s_wpn_code )
	}
	catch (err) {
	}
}
/** File: /common/javascripts/query.js **/
new function(settings) {
  var $separator = settings.separator || '&';
  var $spaces = settings.spaces === false ? false : true;
  var $suffix = settings.suffix === false ? '' : '[]';
  var $prefix = settings.prefix === false ? false : true;
  var $hash = $prefix ? settings.hash === true ? "#" : "?" : "";
  var $numbers = settings.numbers === false ? false : true;
  jQuery.query = new function() {
    var is = function(o, t) {
      return o != undefined && o !== null && (!!t ? o.constructor == t : true);
    };
    var parse = function(path) {
      var m, rx = /\[([^[]*)\]/g, match = /^([^[]+)(\[.*\])?$/.exec(path), base = match[1], tokens = [];
      while (m = rx.exec(match[2])) tokens.push(m[1]);
      return [base, tokens];
    };
    var set = function(target, tokens, value) {
      var o, token = tokens.shift();
      if (typeof target != 'object') target = null;
      if (token === "") {
        if (!target) target = [];
        if (is(target, Array)) {
          target.push(tokens.length == 0 ? value : set(null, tokens.slice(0), value));
        } else if (is(target, Object)) {
          var i = 0;
          while (target[i++] != null);
          target[--i] = tokens.length == 0 ? value : set(target[i], tokens.slice(0), value);
        } else {
          target = [];
          target.push(tokens.length == 0 ? value : set(null, tokens.slice(0), value));
        }
      } else if (token && token.match(/^\s*[0-9]+\s*$/)) {
        var index = parseInt(token, 10);
        if (!target) target = [];
        target[index] = tokens.length == 0 ? value : set(target[index], tokens.slice(0), value);
      } else if (token) {
        var index = token.replace(/^\s*|\s*$/g, "");
        if (!target) target = {};
        if (is(target, Array)) {
          var temp = {};
          for (var i = 0; i < target.length; ++i) {
            temp[i] = target[i];
          }
          target = temp;
        }
        target[index] = tokens.length == 0 ? value : set(target[index], tokens.slice(0), value);
      } else {
        return value;
      }
      return target;
    };
    var queryObject = function(a) {
      var self = this;
      self.keys = {};
      if (a.queryObject) {
        jQuery.each(a.get(), function(key, val) {
          self.SET(key, val);
        });
      } else {
        jQuery.each(arguments, function() {
          var q = "" + this;
          q = q.replace(/^[?#]/,''); // remove any leading ? || #
          q = q.replace(/[;&]$/,''); // remove any trailing & || ;
          q = q.replace(/[+]/g,' '); // replace +'s with spaces
          jQuery.each(q.split(/[&;]/), function(){
            var key = decodeURIComponent(this.split('=')[0] || "");
            var val = decodeURIComponent(this.split('=')[1] || "");
            if (!key) return;
            if ($numbers) {
              if (/^[+-]?[0-9]+\.[0-9]*$/.test(val)) // simple float regex
                val = parseFloat(val);
              else if (/^[+-]?[0-9]+$/.test(val)) // simple int regex
                val = parseInt(val, 10);
            }
            val = (!val && val !== 0) ? true : val;
            if (val !== false && val !== true && typeof val != 'number')
              val = val;
            self.SET(key, val);
          });
        });
      }
      return self;
    };
    queryObject.prototype = {
      queryObject: true,
      has: function(key, type) {
        var value = this.get(key);
        return is(value, type);
      },
      GET: function(key) {
        if (!is(key)) return this.keys;
        var parsed = parse(key), base = parsed[0], tokens = parsed[1];
        var target = this.keys[base];
        while (target != null && tokens.length != 0) {
          target = target[tokens.shift()];
        }
        return typeof target == 'number' ? target : target || "";
      },
      get: function(key) {
        var target = this.GET(key);
        if (is(target, Object))
          return jQuery.extend(true, {}, target);
        else if (is(target, Array))
          return target.slice(0);
        return target;
      },
      SET: function(key, val) {
        var value = !is(val) ? null : val;
        var parsed = parse(key), base = parsed[0], tokens = parsed[1];
        var target = this.keys[base];
        this.keys[base] = set(target, tokens.slice(0), value);
        return this;
      },
      set: function(key, val) {
        return this.copy().SET(key, val);
      },
      REMOVE: function(key) {
        return this.SET(key, null).COMPACT();
      },
      remove: function(key) {
        return this.copy().REMOVE(key);
      },
      EMPTY: function() {
        var self = this;
        jQuery.each(self.keys, function(key, value) {
          delete self.keys[key];
        });
        return self;
      },
      load: function(url) {
        var hash = url.replace(/^.*?[#](.+?)(?:\?.+)?$/, "$1");
        var search = url.replace(/^.*?[?](.+?)(?:#.+)?$/, "$1");
        return new queryObject(url.length == search.length ? '' : search, url.length == hash.length ? '' : hash);
      },
      empty: function() {
        return this.copy().EMPTY();
      },
      copy: function() {
        return new queryObject(this);
      },
      COMPACT: function() {
        function build(orig) {
          var obj = typeof orig == "object" ? is(orig, Array) ? [] : {} : orig;
          if (typeof orig == 'object') {
            function add(o, key, value) {
              if (is(o, Array))
                o.push(value);
              else
                o[key] = value;
            }
            jQuery.each(orig, function(key, value) {
              if (!is(value)) return true;
              add(obj, key, build(value));
            });
          }
          return obj;
        }
        this.keys = build(this.keys);
        return this;
      },
      compact: function() {
        return this.copy().COMPACT();
      },
      toString: function() {
        var i = 0, queryString = [], chunks = [], self = this;
        var encode = function(str) {
          str = str + "";
          return encodeURIComponent(str);
        };
        var addFields = function(arr, key, value) {
          if (!is(value) || value === false) return;
          var o = [encode(key)];
          if (value !== true) {
            o.push("=");
            o.push(encode(value));
          }
          arr.push(o.join(""));
        };
        var build = function(obj, base) {
          var newKey = function(key) {
            return !base || base == "" ? [key].join("") : [base, "[", key, "]"].join("");
          };
          jQuery.each(obj, function(key, value) {
            if (typeof value == 'object')
              build(value, newKey(key));
            else
              addFields(chunks, newKey(key), value);
          });
        };
        build(this.keys);
        if (chunks.length > 0) queryString.push($hash);
        queryString.push(chunks.join($separator));
        return queryString.join("");
      }
    };
    return new queryObject(location.search, location.hash);
  };
}(jQuery.query || {}); // Pass in jQuery.query as settings object
/** File: /common/javascripts/xps.js **/
/** WP
 * static/results/xps.js version 1.1
 *
 * IMPORTANT:
 *
 *   The version number above needs to be incremented each time this file
 *   is edited.  In addition, it needs to be updated in each template
 *   wherein it is referenced.  This should include:
 *
 *        wpn/templates/common/includes/ads.xslt
 */
function xps_acquire( div_name, creative, atlas_url ) {
  var request = getHTTPObject();
  if ( request ) {
    request.onreadystatechange = function() {
      parseResponse( request, div_name );
    };
    var url = '/search/PublicSearch?dp=USSearch&creative=' + creative + 
              '&oas_url=' + encodeURI( atlas_url ) + 
              '&ad=' + div_name;
    for ( var i = 3; i < arguments.length; i++ ) {
      var arg = arguments[i].split( '=' );
      if ( arg[0] == 'name' && arg.slice(1) == '' ) {
         xps_fallback( document.getElementById( div_name ) );
         return false;
      }      
      url += '&' +  arg[0]
        +  '=' +  encodeURIComponent( arg.slice(1).join('=') );
    }    
    request.open( "GET", url, true );
    request.send( null );
    return true;
  } else {
    xps_fallback( document.getElementById( div_name ) );
    return false;
  }
}
function parseResponse( request, div_name ) {
  if ( request.readyState == 4 ) {
    if ( request.status == 200 || request.status == 304 ) {
      var xps_div = document.getElementById( div_name );
      xps_div.innerHTML = '';
      var newdiv = document.createElement( 'div' );
      newdiv.innerHTML = request.responseText;
      xps_div.appendChild( newdiv ); 
      xps_div.style.display = 'block';
    }
    xps_fallback( document.getElementById( div_name ) );    
  }
}
function getHTTPObject() {
  var xhr = false;
  if ( window.XMLHttpRequest ) {
    xhr = new XMLHttpRequest();
  } else if ( window.ActiveXObject ) {
    try {
      xhr = new ActiveXObject( "Msxml2.XMLHTTP" );
    } catch( e ) {
      try { 
        xhr = new ActiveXObject( "Microsoft.XMLHTTP" );
      } catch( e ) {
        xhr = false;
      }
    }
  }
  return xhr;
}
function xps_fallback( xps_div ) {
  xps_div.style.display = 'block'; 
}
/** File: /common/javascripts/analytics.js **/
if (typeof(whitepages.analytics) == 'undefined') { whitepages.analytics = function() {}; }
/* === Description
 * Tracks a custom click event.
 * Example: <a href="#" onclick="whitepages.analytics.track_click(
 *   this,
 *   {
 *     events: ['single_result_listing_interaction'],
 *     evars: {listing_interaction: 'send listing to phone'}
 *   }
 * );">send</a>
 *
 * === Parameters
 * calling_dom_object  - the DOM object calling this function. Typically will
 *                       be "this"
 * params              - JavaScript hash of various params for link tracking
 * params.events       - array of Omniture events
 * params.evars        - JavaScript hash of Omniture evars
 * params.link_type    - string value for link_type to pass to tl() function
 *                       "e" - exit link (links that go to other sites)
 *                       "d" - download link (ex: save-to-outlook vcard link)
 *                       "o" - other link (most clicks we track will be this)
 *                       "c" - WP specfic type to bypass tl() function and
 *                             use custom cookie code for link tracking
 */
/* track_impression: takes a single param, impression type, and then passes necessary
                     default values to our track_click function to allow ads to track
                     impressions after page load via sitecatalyst.  Normally these types
                     of events can only be tracked by adding events/evars before the
                     site catalyst code on the page renders.
*/
whitepages.analytics.track_impression = function(type){
  type = type || 'default ad type'
  s_wpn.events = null
  this.track_click( this, { events:['ad_impressions'], link_type: 'e', evars: {'ad_impression_type': type}})
}
/* track_event: takes a params hash that includes events and evars to be tracked
                sets the link type so that an event can be tracked after page load
    hash must include events and another hash of evars like:
    { events:['ad_impressions'], evars: {'ad_impression_type': type}}
*/
whitepages.analytics.track_event = function( params ){
 params.link_type = 'e'
 s_wpn.events = null
 this.track_click( this, params )
}
whitepages.analytics.ga_track_click = function( params ){
	_gaq.push(['_trackEvent', params.category, params.action, params.label, 0, true]);
	_gaq.push(['rollup._trackEvent', params.category, params.action, params.label, 0, true]);
}
whitepages.analytics.track_click = function(calling_dom_object, params)
{
  if ( s_wpn === undefined || omniture_friendly_names === undefined)
  {
    console.log( 's_wpn not defined, click from ' + calling_dom_object + ' not tracked via siteCatalyst.');
    return true;
  }
  var cookie_tracking = {};
  var link_name = 'no defined name';
  if( params.link_name !== undefined ){ link_name = params.link_name; }
  var link_type = 'c';
  if( params.link_type === 'e' || params.link_type === 'o' || params.link_type === 'd'){
      link_type = params.link_type;
    }
  if ( params.events !== undefined ){
    for (var i = 0, len = params.events.length; i < len; i++){
      var friendly_name = params.events[i];
      var event_name = omniture_friendly_names.events[friendly_name];
     
      if (event_name){ s_wpn.events = s_wpn.apl( s_wpn.events, event_name, ',', true ); }
    }
    
    cookie_tracking["events"] = params.events;
    s_wpn.linkTrackEvents = s_wpn.events;
    s_wpn.linkTrackVars = s_wpn.apl( s_wpn.linkTrackVars, 'events', ',', true );
  }
  if ( params.evars != undefined){
    var cookie_evars = {};
    for (var evar_friendly_name in params.evars){
      var evar_name = omniture_friendly_names.evars[evar_friendly_name];
      if (evar_name){
        cookie_evars[evar_friendly_name] = params.evars[evar_friendly_name];
        
        s_wpn[evar_name] = params.evars[evar_friendly_name];
        s_wpn.linkTrackVars = s_wpn.apl( s_wpn.linkTrackVars, evar_name, ',', true );
      
      }
    }
    cookie_tracking["evars"] = cookie_evars;
  }
  if (typeof(params.props) != 'undefined')
  {
    var cookie_props = {};
    for (var prop_friendly_name in params.props){
      var prop_name = omniture_friendly_names.props[prop_friendly_name];
      if (prop_name){
        s_wpn[prop_name] = params.props[prop_friendly_name];
        s_wpn.linkTrackVars = s_wpn.apl( s_wpn.linkTrackVars, prop_name, ',', true );
        
        cookie_props[prop_friendly_name] = params.props[prop_friendly_name];
      }
    }
    cookie_tracking["props"] = cookie_props;
  }
  
  if (link_type == 'c'){
    whitepages.common.setCookieData("wp_session", "analytics_data", escape(JSON.stringify(cookie_tracking)));
  }else{
    
    s_wpn.tl(true, link_type, link_name);
  }
};
/** File: /common/javascripts/search.js **/
/*
 * Submits person search form by going to SEO friendly url: /dir/:location/:name/:firstname
 */
$(document).ready(function() {
  $('form.wp_person_search').submit(function() {
    var $form = $(this), url = 'name';
    if( !this.action.match(/search\/FindPerson$/) ) return
    var keys = ['where', 'name', 'firstname'],
        values = {}
    $.map(keys, function(el, idx) {
      values[el] = ($form.find('[name=' + el + ']').val() || '')
        .replace(/^[\W_]+|[\W_]+$/g, '')
        .replace(/[\W_]+/g, '-')
        .toLowerCase()
    })
    if( values.name === '' || values.name.indexOf('-') > -1 || values.firstname.indexOf('-') > -1 || window.location.host.match(/^names./) != undefined ){
      var terms = $.map(keys,function(ele) {
            if(values[ele] === '') {
                return 'a-z'
            }
            return values[ele]
      })
      url = $form.attr('action').replace(/search\/FindPerson/i, 'dir/' + terms.join('/'))
    } else {
      var fname = values.firstname.substr(0, 1).toUpperCase() + values.firstname.substr(1)
          lname = values.name.substr(0, 1).toUpperCase() + values.name.substr(1)
           name = fname === '' ? lname : fname + '-' + lname,
          where = values.where.toUpperCase(),
         swhere = values.where.split(/-/),
           slen = swhere.length
      if(slen > 1 || where.length > 2) {
        swhere[0] = swhere[0].substr(0,1).toUpperCase() + swhere[0].substr(1)
        swhere[slen-1] = (swhere[slen-1].length == 2) ? swhere[slen-1].toUpperCase() : swhere[slen-1].substr(0,1) + swhere[slen-1].substr(1)
        where = swhere.join('-')
      }
      url = '/name/' + name + '/' + where
    }
    window.location = url
    return false
  });
  $('form#names_search').submit(function() {
    var form = $(this);
    var keys = ['firstname', 'lastname', 'state_id'], values = {}
    $.map(keys, function(el, idx) {
      field = form.find('[name='+el+']');
      value = (field.val() || '')
        .replace(/^[\W_]+|[\W_]+$/g, '')
        .replace(/[\W_]+/g, '-')
        .toLowerCase()
      field.val(value);
    })
    
    form.submit()
  });
});
/*
 * Submits a reverse address form using an SEO friendly URL: /phone/1-123-456-7890
 */
$(document).ready( function () {
  $('form#reverse_phone_search').submit( function () {
    var phone;
    if ( !this.action.match(/search\/ReversePhone/) ) return;
    phone = $(this).find('[name=full_phone]').val().replace(/[^\d]+/g, '');
    if (phone.length == 10) {
      phone = '1'+phone;
    }
    if(phone.length == 11) {
      phone = phone.replace(/^(1)(\d{3})(\d{3})(\d{4})$/, "$1-$2-$3-$4" )
    }
    window.location = $(this).attr('action').replace(/search\/ReversePhone/i, 'phone/' + phone)
    return false;
  });
});
/** File: /common/javascripts/rsi.js **/
var segQS = '';
function getRSISegs()
{
  var rsi_segs = [];
  var segs_beg = document.cookie.indexOf('rsi_segs=');
  if (segs_beg >= 0) {
    segs_beg = document.cookie.indexOf('=', segs_beg) + 1;
    if (segs_beg > 0) {
      var segs_end = document.cookie.indexOf(';', segs_beg);
      if (segs_end == -1) segs_end = document.cookie.length;
      rsi_segs = document.cookie.substring(segs_beg, segs_end).split('|');
    }
  }
  return rsi_segs;
}
function getRSIDataFromCookie()
{
  try {
    var rsi_regex = /(?:A06546|(\w{1})\d+)_(\d+)/,
        seg_len = 0,
        rsi_data = []
    rsi_segs = getRSISegs()
    seg_len = rsi_segs.length < 20 ? rsi_segs.length : 20
    for (var i = 0; i < seg_len; i++) {
      rsi_data.push(rsi_segs[i].replace(rsi_regex, '$1$2'))
    }
  }
  catch (e) {
  }
  return rsi_data.join(',')
}
var rsi_data = getRSIDataFromCookie();
/** File: /common/javascripts/jquery.infieldlabel.js **/
/*
 * In-Field Label jQuery Plugin
 * http://fuelyourcoding.com/scripts/infield.html
 *
 * Copyright (c) 2009 Doug Neiner
 * Dual licensed under the MIT and GPL licenses.
 * Uses the same license as jQuery, see:
 * http://docs.jquery.com/License
 *
 * @version 0.1.2
 */
(function(a){a.InFieldLabels=function(c,e,b){var d=this;d.$label=a(c);d.label=c;d.$field=a(e);d.field=e;d.init=function(){d.options=a.extend({},a.InFieldLabels.defaultOptions,b);d.$label.bind({mouseup:d.focusField});d.$field.bind({"focus blur change onPropertyChange paste keyup":d.fadeOnChange,keydown:d.hideOnChange});d.fadeOnChange()};d.focusField=function(){d.$field.focus();return false};d.setOpacity=function(f){d.$label.stop().show().animate({opacity:f},d.options.fadeDuration)};d.setColor=function(f){d.$label.stop().show().animate({color:f},d.options.fadeDuration)};d.fadeOnChange=function(f){if(d.field.value!==""){d.hideLabel();return}if(d.options.changeOpacity){d.setOpacity((f&&f.type==="focus")?d.options.fadeOpacity:d.options.fullOpacity)}if(d.options.changeColor){d.setColor((f&&f.type==="focus")?d.options.fadeColor:d.options.fullColor)}};d.hideOnChange=function(f){if((f.which===9)||(f.which===12)||(f.which===16)||(f.which===17)||(f.which===18)||(f.which===20)||(f.which===27)||(f.which===91)||(f.which===93)||(f.which>=33&&f.which<=40)){return}d.hideLabel()};d.hideLabel=function(){d.$label.stop().hide();d.options.changeOpacity&&d.$label.css("opacity",d.options.fadeOpacity);d.options.changeColor&&d.$label.css("color",d.options.fadeColor)};d.init()};a.InFieldLabels.defaultOptions={changeOpacity:true,fullOpacity:1,fadeOpacity:0.5,changeColor:false,fullColor:"#666",fadeColor:"#ccc",fadeDuration:300};a.fn.inFieldLabels=function(b){return this.each(function(){var d=a(this).attr("for"),c;if(!d){return}c=a("input#"+d+"[type='text'],input#"+d+"[type='search'],input#"+d+"[type='tel'],input#"+d+"[type='url'],input#"+d+"[type='email'],input#"+d+"[type='password'],textarea#"+d);if(c.length===0){return}(new a.InFieldLabels(this,c[0],b))})}}(jQuery));
/** File: /common/javascripts/pse_tracking.js **/
$(document).ready(function() {
  $(document).delegate(".pse_track", "mousedown", function() {
    var search_id = $('body').attr('data-search_id');
    if (search_id !== undefined && search_id !== '') {
      document.cookie = 'pse=' + search_id + '; path=/'
    }
  });
});
/** File: /common/javascripts/loginpopover.js **/
$(function(){
  $('.bubble-wrapper').hide();
  $('#sign_in_link').click(function(e){
    e.stopPropagation();
    $('#header .bubble-wrapper').toggle();
    return false;
  });
  $('.bubble-wrapper .close-link').click(function(e){
    e.stopPropagation();
    $('.bubble-wrapper').hide(); 
    return false;
  });
  $('.signin-link').click(function(e){
    e.stopPropagation();
    whitepages.common.open_window($(this).attr('href'), 600, 700);
    $('.bubble-wrapper').hide();
    return false;
  });
    
  if($('.claim_box .bubble-wrapper').length !== 0){
    var claim_link = $('.claim_box a');
    claim_link.click(function(e){
      e.stopPropagation();
      $('.claim_box .bubble-wrapper').toggle();
      return false;
    });
  }
  $('.bubble-wrapper .close-link').click(function(e){
    e.stopPropagation();
    $('.bubble-wrapper').hide(); 
    return false;
  });
});
