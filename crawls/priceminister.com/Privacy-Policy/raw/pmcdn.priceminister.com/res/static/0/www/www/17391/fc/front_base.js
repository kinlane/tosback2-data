if(typeof($)=="undefined"){function $(a){if(typeof(a)=="string"){return document.getElementById(a)}else{return a}}}var ie=(navigator.appName=="Microsoft Internet Explorer");Function.prototype.bindObj=function(){if(arguments.length<2&&typeof arguments[0]=="undefined"){return this}var a=this,c=PM.Util.collectionToArray(arguments),b=c.shift();return function(d){return a.apply(b,c.concat(PM.Util.collectionToArray(arguments)))}};Function.prototype.bindObjWithEvent=function(){var a=this,c=PM.Util.collectionToArray(arguments),b=c.shift();return function(d){return a.apply(b,[d||window.event].concat(c))}};function MM_preloadImages(){var f=document;if(f.images){if(!f.MM_p){f.MM_p=new Array()}var e,c=f.MM_p.length,b=MM_preloadImages.arguments;for(e=0;e<b.length;e++){if(b[e].indexOf("#")!=0){f.MM_p[c]=new Image;f.MM_p[c++].src=b[e]}}}}function MM_swapImgRestore(){var d,b,c=document.MM_sr;for(d=0;c&&d<c.length&&(b=c[d])&&b.oSrc;d++){b.src=b.oSrc}}function MM_findObj(f,e){var c,b,a;if(!e){e=document}if((c=f.indexOf("?"))>0&&parent.frames.length){e=parent.frames[f.substring(c+1)].document;f=f.substring(0,c)}if(!(a=e[f])&&e.all){a=e.all[f]}for(b=0;!a&&b<e.forms.length;b++){a=e.forms[b][f]}for(b=0;!a&&e.layers&&b<e.layers.length;b++){a=MM_findObj(f,e.layers[b].document)}return a}function MM_swapImage(){var e,d=0,b,c=MM_swapImage.arguments;document.MM_sr=new Array;for(e=0;e<(c.length-2);e+=3){if((b=MM_findObj(c[e]))!=null){document.MM_sr[d++]=b;if(!b.oSrc){b.oSrc=b.src}b.src=c[e+2]}}}function MM_goToURL(){var i,args=MM_goToURL.arguments;document.MM_returnValue=false;for(i=0;i<(args.length-1);i+=2){eval(args[i]+".location='"+args[i+1]+"'")}}if(typeof(PM)=="undefined"){var PM={}}PM.jq=$j;PM.Debug={Type:{OFF:0,INFO:1,DEBUG:2}};PM.Debug.level=PM.Debug.Type.OFF;if(typeof(JsDebugLevel)!="undefined"){PM.Debug.level=JsDebugLevel}PM.Debug.log=function(c,b){if(typeof(console)=="undefined"||PM.Debug.level==PM.Debug.Type.OFF){return}var a=PM.Debug.Type.DEBUG;if(typeof(b)=="number"){a=b}else{if(typeof(b)=="object"&&b.logType){a=b.type}}if(a==PM.Debug.Type.DEBUG&&PM.Debug.level==PM.Debug.Type.INFO){return}if(typeof(firebug)!="undefined"){switch(a){case PM.Debug.Type.INFO:firebug.d.console.cmd.info(c);break;case PM.Debug.Type.DEBUG:default:firebug.d.console.cmd.debug(c);break}return}if(typeof(console)!="undefined"){if(!console.debug){window.console.log(c)}else{switch(a){case PM.Debug.Type.INFO:window.console.info(c);break;case PM.Debug.Type.DEBUG:default:window.console.debug(c);break}}}};PM.Debug.messages=new Array();PM.Debug.store=function(b,a){PM.Debug.messages[PM.Debug.messages.length]=[b,a]};PM.Debug.displayStack=function(){PM.Debug.log("------- Messages -------");for(var a=0;a<PM.Debug.messages.length;a++){PM.Debug.log(PM.Debug.messages[a][0],PM.Debug.messages[a][1])}};PM.Debug.Timer=function(a,b){this.time=null;this.name=a;this.treshold=b||0};PM.Debug.Timer.prototype.start=function(){this.time=(new Date()).getTime()};PM.Debug.Timer.prototype.stop=function(){if(this.time==null){return}var a=(new Date()).getTime()-this.time;this.time=null;if(a>this.treshold){PM.Debug.log("Durée de "+this.name+" : "+a+"ms");PM.Statistics.tagClick(PM.Statistics.Xtn2.OTHERS,"Timer::"+this.name+"::"+a,PM.Statistics.Type.ACTION)}};PM.Debug.checkHtml=function(){if(PM.Debug.level!=PM.Debug.Type.OFF){var m="first_child";var b="last_child";var c=new Array();var a=$j("ul, ol");for(i=0;i<a.length;i++){var d=a[i];var l=$j(d).children("li");for(j=0;j<l.length;j++){var h=l[j];if(j==0&&!PM.Dom.Class.has(h,m)||j!=0&&PM.Dom.Class.has(h,m)||j==l.length-1&&!PM.Dom.Class.has(h,b)||j!=l.length-1&&PM.Dom.Class.has(h,b)){c.push(d);break}}}var f=$j("dl");for(i=0;i<f.length;i++){var e=f[i];var k=$j(e).children("dd");for(j=0;j<k.length;j++){var g=k[j];if(j==0&&!PM.Dom.Class.has(g,m)||j!=0&&PM.Dom.Class.has(g,m)||j==k.length-1&&!PM.Dom.Class.has(g,b)||j!=k.length-1&&PM.Dom.Class.has(g,b)){c.push(e);break}}}PM.Debug.log(c.length+" élément(s) n'implémentent pas correctement les classes .first_child et .last_child");$j(c).css("border","2px solid red").css("background-color","yellow");return c}};if(typeof(PM.Context)=="undefined"){PM.Context={}}PM.Context.getFormattedCriterias=function(){var b="";for(key in PM.Context.data){var a=PM.Context.data[key];if(typeof(a.criteria)!="undefined"){b+=key+"="+a.value+";"}}return b};PM.Context.get=function(a){var b;if(typeof(PM.Context.data)!="undefined"&&typeof(PM.Context.data[a])!="undefined"){b=PM.Util.tryToEvalString(PM.Context.data[a].value)}else{b=""}return b};PM.Context.write=function(a){document.write(PM.Context.get(a))};PM.Context.put=function(a,c,b){b=(typeof(b)=="boolean")?b:false;PM.Context.data[a]={value:c,criteria:b}};PM.JSON={};PM.JSON.fromString=function(jsonString){try{eval("var jsonObj = "+jsonString)}catch(e){PM.Debug.log(["Erreur lors du parsing JSON",e]);return null}return jsonObj};PM.JSON.concat=function(c,b){for(var a in b){c[a]=b[a]}return c};PM.Util={};PM.Util.isJson=function(a){if(trim(a)==""){return false}a=a.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,"");return(/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/).test(a)};PM.Util.trim=function(a){if(a==null){return""}return a.replace(/(^\s+)|(\s+$)/g,"")};PM.Util.trimStrongly=function(b){if(b==null){return""}var a=PM.LinkTool.URLRemoveSpecialCaracters(b);return PM.Util.trim(a.replace(/(\s+)/g," "))};PM.Util.deleteWhiteChar=function(d){var a="";var e=d.split("");var f;for(var b=0;b<e.length;b++){f=e[b];if(f!=" "){a+=f}}return a};PM.Util.alphaNumOnly=function(a){return a.replace(/[^a-z0-9 ]/g," ")};PM.Util.numOnly=function(a){return a.replace(/[^0-9 ]/g,"")};PM.Util.removeAccents=function(a){a=a.replace(/[àáâãäåæ]/g,"a");a=a.replace(/[ÁÀÂÄÃÆÅ]/g,"A");a=a.replace(/[ç]/g,"c");a=a.replace(/[Ç]/g,"C");a=a.replace(/[ð]/g,"d");a=a.replace(/[éèêë]/g,"e");a=a.replace(/[ÉÈËÊ]/g,"E");a=a.replace(/[ìíîï]/g,"i");a=a.replace(/[ÍÌÎÏ]/g,"I");a=a.replace(/[ñ]/g,"n");a=a.replace(/[Ñ]/g,"N");a=a.replace(/[ðòóôõöø]/g,"o");a=a.replace(/[ÓÔÖØÕÒ]/g,"O");a=a.replace(/[ß]/g,"ss");a=a.replace(/[ùúûü]/g,"u");a=a.replace(/[ÚÙÛÜ]/g,"U");a=a.replace(/[ýÿ]/g,"y");a=a.replace(/[Ý]/g,"Y");return a};PM.Util.removeHtmlTags=function(a){return a.replace(/<[^>]*>/g,"").replace(/<|>/g,"")};PM.Util.concat=function(){var a="";for(i=0;i<arguments.length;i++){if(arguments[i]){a=a+arguments[i]}}return a};PM.Util.serialize=function(a){try{return(new XMLSerializer()).serializeToString(a)}catch(b){try{return a.outerHTML}catch(b){alert("Xmlserializer not supported")}}return false};PM.Util.string2Regexp=function(a){var b=a;b=b.replace(/([$^[\].\\(){}?*+|-])/g,"\\$1");return b};PM.Util.checkMaxInput=function(b,a){if(b.value.length>a){b.value=b.value.substring(0,a);return 0}return(a-b.value.length)};PM.Util.checkLength=function(b,d,c){if(d.value.length>c){var a=PM.Util.variablesReplace(PM.Constants.Translation.js_check_length,[["name",b],["maxLength",c],["length",d.value.length]]);alert(a);d.focus();return false}return true};PM.Util.checkFileExtension=function(c,a){var b;if(c.length<a.length){b=""}else{b=c.substring(c.length-a.length,c.length)}return b.toLowerCase()==a.toLowerCase()};PM.Util.absolutePosition=function(b){var a=0,c=0;do{a+=b.offsetTop||0;c+=b.offsetLeft||0;b=b.offsetParent}while(b);return[c,a]};PM.Util.getPageScroll=function(){var b=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;var a=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;return{x:b,y:a}};PM.Util.getWindowSize=function(){var a=winH=0;if(self.innerHeight){a=self.innerWidth;winH=self.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){a=document.documentElement.clientWidth;winH=document.documentElement.clientHeight}else{if(document.body){a=document.body.clientWidth;winH=document.body.clientHeight}}}return{w:a,h:winH}};PM.Util.getElementSize=function(a){return{w:$j(a).width(),h:$j(a).height()}};PM.Util.addEvent=function(c,b,a){PM.Statistics.deprecatedFunctions("PM.Util.addEvent");PM.Event.add(c,b,a)};PM.Util.addBookmark=function(){var b=window.document.title;var a=window.location.href;if(navigator.appName!="Microsoft Internet Explorer"){window.sidebar.addPanel(b,a,"")}else{window.external.AddFavorite(a,b)}};PM.Util.setHomePage=function(a,b){if(ie){a.style.behavior="url(#default#homepage)";a.setHomePage(window.location.href)}else{alert(b)}};PM.Util.getSimpleSharpUrlParam=function(c){var b=new RegExp("[\\#&]"+c+"=([^&]*)");var a=b.exec(window.location.href);if(a!=null){return a[1]}return null};PM.Util.getInterrogationUrlParam=function(c){var b="[\\?&]("+c+")=([^&#]*)";var b=new RegExp(b);var a=b.exec(window.location.href);if(a!=null){return a[2]}};PM.Util.whichFocus=null;PM.Util.defaultFocus=null;PM.Util.manageFocus=function(){var a=document.forms;PM.Util.whichFocus=PM.Util.defaultFocus;for(i=0;i<a.length;i++){for(j=0;j<a[i].elements.length;j++){PM.Event.add(a[i].elements[j],"focus",function(b){var c=b.target?b.target:b.srcElement;if(c.tagName){PM.Util.whichFocus=c}})}}};PM.Util.getNavigatorLanguage=function(){var b="fr";if(navigator.systemLanguage){b=navigator.systemLanguage.toLowerCase().substring(0,2)}else{if(navigator.language){b=navigator.language.toLowerCase().substring(0,2)}else{if(navigator.userLanguage){b=navigator.userLanguage.toLowerCase().substring(0,2)}else{if(navigator.userAgent.indexOf("[")!=-1){var a=navigator.userAgent.indexOf("[");var c=navigator.userAgent.indexOf("]");b=navigator.userAgent.substring(a+1,c).toLowerCase()}}}}return b};PM.Util.getOptionIndexFromValue=function(a,b){for(i=0;i<a.length;i++){if(a.options[i].value==b){return i}}};PM.Util.variableReplace=function(e,d,b,c){var a=(c)?new RegExp(d,"ig"):new RegExp("{{"+d+"}}","ig");return e.replace(a,b)};PM.Util.variablesReplace=function(c,a,b){for(i=0;i<a.length;i++){c=PM.Util.variableReplace(c,a[i][0],a[i][1],b)}return c};PM.Util.getElementFromEvent=function(a){var b=null;if(document.all){b=window.event.srcElement}else{b=a.target}return b};PM.Util.collectionToArray=function(c){var b=new Array();for(var d=0;d<c.length;d++){b[b.length]=c[d]}return b};PM.Util.insertIntoArray=function(d,c,b){b=b!=null?b:d.length;for(var a=d.length;a>b;a--){d[a]=d[a-1]}d[b]=c};PM.Util.preventDefault=function(a){if(a.preventDefault){a.preventDefault()}a.returnValue=false};PM.Util.handleAnchor=function(a,e,c){if(typeof(a)=="object"){a=a.join("|")}var f="[\\#&]("+a+")";if(e){f+="=([^&]*)(?:$|&)"}else{f+="(?:$|&|=)"}var d=new RegExp(f);var b=d.exec(window.location.href);if(b!=null){if(!e||e=="*"||e==b[2]){c.call(null,b[2])}}};PM.Util.handleParam=function(f,d,b){if(typeof(f)=="object"){f=f.join("|")}f+="|"+f.replace(/_/g,"");var e="[\\?&]("+f+")";if(d){e+="=([^&#]*)(?:$|&|#)"}else{e+="(?:$|&|=|#)"}var c=new RegExp(e);var a=c.exec(window.location.href);if(a!=null){if(!d||d=="*"||d==a[2]){b.call(null,a[2])}}};PM.Util.evalScript=function(content){var scriptRegExp="(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)";var matchAll=new RegExp(scriptRegExp,"ig");if(content){var scriptsArray=content.match(matchAll);if(scriptsArray){for(var evalScriptIterator=0;evalScriptIterator<scriptsArray.length;evalScriptIterator++){try{var matchOne=new RegExp(scriptRegExp,"i");var scriptContent=scriptsArray[evalScriptIterator].match(matchOne);if(scriptContent){eval(scriptContent[1])}}catch(e){PM.Debug.log("Erreur dans le script : "+scriptContent[1]+"\n Nature de l'erreur: "+e.toString())}}}}};PM.Util.tryToEvalString=function(content){try{var evalContent=eval(content);return(typeof(evalContent)!="undefined")?evalContent:content}catch(e){return content}};PM.Util.getOption=function(c,b,a){if(c&&typeof(c[b])!="undefined"){return c[b]}return a};PM.Util.setOption=function(b,a,c,d){if(b){if(typeof(b[a])!="undefined"){b[a]=c}else{if(d){b[a]=c}}}return b};PM.Util.isArrayOrCollection=function(a){return PM.Util.isArray(a)||PM.Util.isCollection(a)};PM.Util.isArray=function(a){return a&&a.constructor==Array};PM.Util.isCollection=function(a){return a&&(a.constructor==Object||(typeof(a.constructor)=="function"&&(ie||a.constructor!=HTMLSelectElement)))&&typeof(a.add)=="function"&&typeof(a.remove)=="function"&&typeof(a.length)=="number"};PM.Util.arrayContains=function(b,c){for(var a=0;a<b.length;a++){if(b[a]===c){return true}}return false};PM.Util.arrayToParam=function(b){var a="";$j.each(b,function(c,d){if(d&&"null"!=d){a+=c+"="+d+"&"}});return a};function trim(a){PM.Statistics.deprecatedFunctions("trim");return PM.Util.trim(a)}function checkMaxInput(b,a){PM.Statistics.deprecatedFunctions("checkMaxInput");return PM.Util.checkMaxInput(b,a)}function checkFileExtension(b,a){PM.Statistics.deprecatedFunctions("checkFileExtension");return PM.Util.checkFileExtension(b,a)}PM.Numbers={};PM.Numbers.addThousandsSeparator=function(a){a+="";var c=a.substring(a.length-3,a.length);for(var b=(a.length-3);b>0;b-=3){c=a.substring(b-3,b)+PM.Constants.Price.thousandsSeparator+c}return c};PM.Event={methods:{},Type:{BEGIN:"evtBegin",INIT:"evtInit",PRE_STATISTICS:"evtPreStatistics",STATISTICS:"evtStatistics",COMPLETE:"evtComplete",REDRAW:"evtRedraw"}};PM.Event.status=[PM.Event.Type.BEGIN];PM.Event.hasReached=function(a){return new RegExp(a,"i").test(PM.Event.status.toString())};PM.Event.getCurrentStatus=function(){return PM.Event.status[PM.Event.status.length-1]};PM.Event.add=function(e,d,b,a){if(PM.Util.isArrayOrCollection(e)){for(var f=0;f<e.length;f++){PM.Event.add(e[f],d,b,a)}return}PM.Debug.store(["Ajout d'un événement",arguments],PM.Debug.Type.INFO);if(d==PM.Event.Type.INIT||d==PM.Event.Type.STATISTICS||d==PM.Event.Type.COMPLETE||d==PM.Event.Type.REDRAW){if(!PM.Event.methods[d]){PM.Event.methods[d]=new Array()}PM.Event.methods[d][PM.Event.methods[d].length]=b}else{tempObj=$(e);if(!tempObj){PM.Debug.log(["[Erreur] : Ajout d'événement sur un objet n'existant pas ("+e+")",arguments],PM.Debug.Type.DEBUG);return false}if(tempObj.addEventListener){if(d!="mouseleave"){if(a){tempObj.addEventListener(d,function(g){PM.Util.preventDefault(g)},false)}tempObj.addEventListener(d,b,false)}else{tempObj.addEventListener("mouseout",function(g){if(!PM.Dom.withinElement(g.relatedTarget,this.obj)){b.call(null,g)}}.bindObj({obj:tempObj}),false)}return true}else{if(tempObj.attachEvent){if(a){tempObj.attachEvent("on"+d,function(g){PM.Util.preventDefault(g)})}var c=tempObj.attachEvent("on"+d,b);return c}else{return false}}}};PM.Event.remove=function(d,c,a){if(d.removeEventListener){d.removeEventListener(c,a,false);return true}else{if(d.detachEvent){var b=d.detachEvent("on"+c,a);return b}else{return false}}};PM.Event.eventReached=function(b){if(PM.Event.methods[b]){for(var a=0;a<PM.Event.methods[b].length;a++){fn=PM.Event.methods[b][a];fn.call()}}if(b!=PM.Event.Type.REDRAW){PM.Event.status.push(b)}};PM.Event.add(window,"load",PM.Event.eventReached.bindObj(null,PM.Event.Type.COMPLETE));PM.Event.add(window,"resize",PM.Event.eventReached.bindObj(null,PM.Event.Type.REDRAW));PM.Event.scrollToTarget=function(h,c,b){var g=false;var f=true;var d=PM.Util.absolutePosition(h)[1];var e=document.documentElement.clientHeight;var a=PM.Util.getPageScroll().y;if(a+e>d+b){c.call()}else{PM.Event.add(window,"scroll",function(){if(g==false){setTimeout(function(){if(!f){f=true}},20);if(f){f=false;a=PM.Util.getPageScroll().y;if(a+e>d+b){g=true;c.call()}}}})}};PM.UI={};var shownClass="ui-shown";var hiddenClass="ui-hidden";PM.UI.show=function(d,b){if(d==null){return}var a=PM.Util.getOption(b,"display","block");var e=PM.Util.getOption(b,"changeDisplayStyle",true);if(PM.Util.isArrayOrCollection(d)){for(var c=0;c<d.length;c++){if(e){PM.UI.changeDisplayStyle(d[c],a)}PM.Dom.Class.remove(d[c],shownClass);PM.Dom.Class.remove(d[c],hiddenClass);PM.Dom.Class.add(d[c],shownClass)}}else{if(e){PM.UI.changeDisplayStyle(d,a)}PM.Dom.Class.remove(d,shownClass);PM.Dom.Class.remove(d,hiddenClass);PM.Dom.Class.add(d,shownClass)}};PM.UI.hide=function(c,a){if(c==null){return}var d=PM.Util.getOption(a,"changeDisplayStyle",true);if(PM.Util.isArrayOrCollection(c)){for(var b=0;b<c.length;b++){if(d){PM.UI.changeDisplayStyle(c[b],"none")}PM.Dom.Class.remove(c[b],shownClass);PM.Dom.Class.remove(c[b],hiddenClass);PM.Dom.Class.add(c[b],hiddenClass)}}else{if(d){PM.UI.changeDisplayStyle(c,"none")}PM.Dom.Class.remove(c,shownClass);PM.Dom.Class.remove(c,hiddenClass);PM.Dom.Class.add(c,hiddenClass)}};PM.UI.prefixTitle=function(b){var a=window.document.title;window.document.title=b+a};PM.UI.changeDisplayStyle=function(b,a){b=$(b);b.style.display=a};PM.UI.scrollTo=function(a){var b=$(a);if(!b){return}var d=PM.Util.absolutePosition(b);if(d[1]<=0){var c=setTimeout("PM.UI.scrollTo()",100);return}$j("html, body").animate({scrollTop:$j(b).offset().top},"slow")};PM.UI.SmoothScroll=function(a){this.elt=$(a);this.speed=10;this.offsetTop=PM.Util.getPageScroll().y;if(this.elt!=null){this.interval=setInterval(this.render.bindObj(this),10)}};PM.UI.SmoothScroll.prototype.render=function(){this.finalPos=PM.Util.absolutePosition(this.elt)[1];var a=PM.Util.getPageScroll().y;eltid=this.elt.id;var b=window.innerHeight||document.documentElement.clientHeight;var c=document.body.scrollHeight;if(this.finalPos>a){if(c-this.finalPos>b){a+=Math.ceil((this.finalPos-a)/this.speed)}else{a+=Math.ceil((this.finalPos-a-(c-this.finalPos))/this.speed)}}else{a=a+(this.finalPos-a)/this.speed}window.scrollTo(0,a);if(a==this.finalPos||this.offsetTop==a){clearInterval(this.interval);if(eltid){window.location.hash=eltid}}this.offsetTop=a};PM.UI.BlockDisabler=function(c,b){this.elt=$(c);this.isActive=false;this.div=PM.Dom.createElement("div",{className:"blk_disabler"});PM.UI.hide(this.div);PM.Dom.parent(this.elt).appendChild(this.div);var e=PM.Util.getOption(b,"withLoader",false);this.progressBar=PM.Util.getOption(b,"progressBar",false);this.loaderText=PM.Util.getOption(b,"loaderText",PM.Constants.Translation.txt_loader);if(e){this.loader=PM.Dom.createElement("div",{className:"blk_disabler_loader"});var d=PM.Dom.createElement("p");if(typeof(PM.Constants.Translation)=="undefined"){PM.Constants.Translation={txt_loader:""}}var a=this.progressBar?"(0%)":"";this.loaderSpan=PM.Dom.createElement("span",{content:this.loaderText+a});d.appendChild(this.loaderSpan);this.loader.appendChild(d);PM.UI.hide(this.loader);PM.Dom.parent(this.elt).appendChild(this.loader)}if(ie6){this.ieDiv=PM.Dom.createElement("div");this.ieDiv.style.height=0;this.ieDiv.innerHTML='<iframe src="javascript:false;" style="width:0px; position: absolute; top:0px; left:0px; filter:alpha(opacity=0); z-index: 1970; height: 0; display:none;"></iframe>';PM.UI.hide(this.ieDiv);PM.Dom.parent(this.elt).appendChild(this.ieDiv)}PM.Event.add(window,PM.Event.Type.REDRAW,this.resize.bindObj(this))};PM.UI.BlockDisabler.prototype.disable=function(){this.isActive=true;if(ie6){PM.UI.show(this.ieDiv)}PM.UI.Effect.stop(this.div);PM.UI.Effect.fadeIn(this.div,{duration:800,opacity:0.75,callback:this.showLoader.bindObj(this)});this.resize()};PM.UI.BlockDisabler.prototype.showLoader=function(){if(this.loader){PM.UI.show(this.loader);this.resize()}};PM.UI.BlockDisabler.prototype.resize=function(){if(this.isActive){var b=this.elt.offsetWidth;var c=this.elt.offsetHeight;var f=PM.Util.absolutePosition(this.elt);var e=f[0];var d=f[1];this.div.style.top=d+"px";this.div.style.left=e+"px";this.div.style.width=b+"px";this.div.style.height=c+"px";if(this.loader){this.loader.style.top=(d+Math.floor((c-this.loader.offsetHeight)/2))+"px";this.loader.style.left=(e+Math.floor((b-this.loader.offsetWidth)/2))+"px"}if(ie6){var a=$j("iframe",this.ieDiv)[0];a.style.top=d+"px";a.style.left=e+"px";a.style.width=b;a.style.height=c}}};PM.UI.BlockDisabler.prototype.enable=function(){this.isActive=false;PM.UI.Effect.stop(this.div);PM.UI.Effect.fadeOut(this.div,{duration:800});if(this.loader){PM.UI.hide(this.loader)}if(ie6){PM.UI.hide(this.ieDiv)}};PM.UI.BlockDisabler.prototype.progress=function(a,d){var c=parseInt(a*100/d);var b=this.progressBar?"("+c+"%)":"";this.loaderSpan.innerHTML=this.loaderText+b};PM.UI.Effect={};PM.UI.Effect.fadeIn=function(b,a){PM.UI.Effect.fadeTo(b,PM.Util.getOption(a,"opacity",1),a)};PM.UI.Effect.fadeOut=function(c,b){var a=PM.Util.getOption(b,"opacity",0);if(a>0){PM.UI.Effect.fadeTo(c,PM.Util.getOption(b,"opacity",0),b)}else{c=$j($(c));c.fadeOut(PM.Util.getOption(b,"duration",1000),PM.Util.getOption(b,"callback",undefined))}};PM.UI.Effect.fadeTo=function(c,b,a){c=$j($(c));c.fadeTo(PM.Util.getOption(a,"duration",1000),b,PM.Util.getOption(a,"callback",undefined))};PM.UI.Effect.stop=function(a){a=$j($(a));a.stop(true)};PM.UI.Effect.slideDown=function(b,a){var c={};if(PM.Util.getOption(a,"scaleY",true)){c.height="show"}if(PM.Util.getOption(a,"scaleX",false)){c.width="show"}PM.UI.Effect.slide(b,c,a)};PM.UI.Effect.slideUp=function(b,a){var c={};if(PM.Util.getOption(a,"scaleY",true)){c.height="hide"}if(PM.Util.getOption(a,"scaleX",false)){c.width="hide"}PM.UI.Effect.slide(b,c,a)};PM.UI.Effect.toggleSlide=function(b,a){if($(b).style.display!="none"){PM.UI.Effect.slideUp(b,a)}else{PM.UI.Effect.slideDown(b,a)}};PM.UI.Effect.slide=function(b,c,a){b=$j($(b));b.animate(c,{duration:PM.Util.getOption(a,"duration",1000),complete:PM.Util.getOption(a,"callback",undefined),step:PM.Util.getOption(a,"afterEachStep",undefined)})};PM.UI.Effect.move=function(b,a){b=$j($(b));b.animate({left:PM.Util.getOption(a,"left","+=0px"),top:PM.Util.getOption(a,"top","+=0px")},{duration:PM.Util.getOption(a,"duration",1000),complete:PM.Util.getOption(a,"callback",undefined),step:PM.Util.getOption(a,"afterEachStep",undefined)})};PM.Notice={};PM.Notice.Type={SUCCESS:0,NOTICE:1,ERROR:2,INFORMATION:3};PM.Notice.show=function(a,c,d,b){if(typeof(b)=="undefined"||b==true){$(a).innerHTML="<p>"+d+"</p>"}else{$(a).innerHTML=d}switch(c){case PM.Notice.Type.SUCCESS:$(a).className="notification success";break;case PM.Notice.Type.NOTICE:$(a).className="notification notice";break;case PM.Notice.Type.INFORMATION:$(a).className="notification information";break;case PM.Notice.Type.ERROR:default:$(a).className="notification error";break}PM.UI.Effect.fadeIn(a,{duration:500})};PM.Notice.hide=function(b,a){PM.UI.hide(b);if(a){a.call()}};PM.BT={};PM.BT.escape=function(c){if(c.indexOf("?")==-1){var b=new RegExp("([^:/]+://[^/]*)?([^#]*)(#.*)?","").exec(c);var e=b[1]||"";var d=b[2];var a=b[3]||"";d=unescape(d);d=escape(d);c=e+d+a}return c};PM.BT.ub=function(){var a="";for(var b=0;b<arguments.length;b++){var c=arguments[b];if(typeof(c)=="string"){a=a+c}else{a=a+String.fromCharCode(c)}}return a};PM.BT.ubs=function(){window.top.location.href=PM.BT.escape(PM.BT.ub.apply(null,arguments))};PM.BT.ubsWithReferrer=function(){var b=PM.BT.escape(PM.BT.ub.apply(null,arguments));if(ie){var a=document.createElement("a");a.href=b;document.body.appendChild(a);a.click()}else{window.top.location.href=b}};PM.BT.ubp=function(){arguments.slice=Array.prototype.slice;var b=PM.BT.escape(PM.BT.ub.apply(null,arguments.slice(0,arguments.length-2)));var c=arguments[arguments.length-2];var a=arguments[arguments.length-1];PM.PopUp.open(b,PM.PopUp.Type.LINK,c,a)};PM.BT.ubw=function(){window.open(PM.BT.escape(PM.BT.ub.apply(null,arguments)))};PM.BT.Action={DEFAULT:0,RETURN:1,SELF:2,POP:3,POP_NO_OPTION:4};PM.BT.ubo=function(){var a="";for(i=0;i<arguments.length;i++){a=a+arguments[i]}if(a.charAt(0)=="#"){a=a.substring(1,a.length)}return a};PM.BT.li=function(c){var a="";var b;(c==PM.BT.Action.POP)?b=arguments.length-2:b=arguments.length;for(i=1;i<b;i++){a=a+arguments[i]}if(a.charAt(0)=="#"){a=a.substring(1,a.length)}switch(parseInt(c)){case PM.BT.Action.RETURN:return a;break;case PM.BT.Action.SELF:window.location.href=PM.BT.escape(a);break;case PM.BT.Action.POP:PM.PopUp.open(PM.BT.escape(a),PM.PopUp.Type.LINK,arguments[arguments.length-2],arguments[arguments.length-1]);break;case PM.BT.Action.POP_NO_OPTION:window.open(PM.BT.escape(a));break;default:return a}};PM.BT.ublr=function(c){var d=c.split(",");var a="";for(var b=0;b<d.length;b++){var e=d[b];if(isNaN(e)){a=a+e.substring(1,e.length-1).replace(/\\/g,"")}else{a=a+String.fromCharCode(e)}}return a};PM.BT.transformSpans=function(){var a=$j("span.spanlnk");for(var b=0;b<a.length;b++){var c=PM.Dom.createLink(PM.BT.ublr(a[b].title),a[b].firstChild,a[b].id,a[b].className);PM.Dom.parent(a[b]).replaceChild(c,a[b])}};PM.BT.transformAll=function(){var f=$j("span[data-pmbt]");for(var h=0;h<f.length;h++){var g=f[h].getAttribute("data-pmbt");var c=PM.Dom.Class.has(f[h],"pmbtjs")?g:PM.BT.ublr(g);var n=PM.Dom.createLink(c,"",f[h].id,f[h].className);n.innerHTML=f[h].innerHTML;var o=f[h].getAttribute("title");var p=f[h].getAttribute("onclick");var m=f[h].getAttribute("data-spotinfo");var e=f[h].getAttribute("data-spotstyle");var d=f[h].getAttribute("data-spotiglink");var b=f[h].getAttribute("name");var a=f[h].getAttribute("style");var l=f[h].getAttribute("itemprop");var k=f[h].getAttribute("target");if(p!=null){n.setAttribute("onclick",p)}if(o!=null&&m==null){n.setAttribute("title",o)}if(m!=null){n.setAttribute("title",m)}if(a!=null&&e==null){n.setAttribute("style",a)}if(e!=null){n.setAttribute("style",e)}if(d!=null){n.setAttribute("onmouseover",d)}if(b!=null){n.setAttribute("name",b)}if(l!=null){n.setAttribute("itemprop",l)}if(k!=null){n.setAttribute("target",k)}PM.Dom.parent(f[h]).replaceChild(n,f[h])}};function selfpoplink(){PM.Statistics.deprecatedFunctions("selfpoplink");return PM.BT.ubo.apply(null,arguments)}function selflink(){PM.Statistics.deprecatedFunctions("selflink");var a=new Array(""+PM.BT.Action.SELF);for(i=0;i<arguments.length;i++){a.push(arguments[i])}PM.BT.li.apply(null,a)}function poplink(){PM.Statistics.deprecatedFunctions("poplink");var a=new Array(""+PM.BT.Action.POP);for(i=0;i<arguments.length;i++){a.push(arguments[i])}PM.BT.li.apply(null,a)}PM.PopUp={};PM.PopUp.open=function(d,f,e,a,c,b){if(!b){b=""}if(f===PM.PopUp.Type.HELP&&d.indexOf("upload")!=-1){f=PM.PopUp.Type.UPLOAD}switch(f){case PM.PopUp.Type.COMPARATOR:c="compareTool";b="scrollbars=yes, resizable, toolbar, menubar, width=750, height=600";break;case PM.PopUp.Type.HELP:c="help";b="scrollbars=yes, resizable";break;case PM.PopUp.Type.CAMPAIGN:c="campaign";b="scrollbars=yes, resizable";break;case PM.PopUp.Type.PICTURE:c="picture";b="scrollbars=yes, resizable, status";break;case PM.PopUp.Type.PARTNER:c="partner";b="scrollbars=yes, resizable, status, toolbar, menubar, screenX=10, screenY=10, top=10, left=10";break;case PM.PopUp.Type.WINDOW:c="window2";b="scrollbars=yes, resizable, toolbar, menubar";break;case PM.PopUp.Type.UPLOAD:c="upload";b="scrollbars=yes, resizable, status";break;case PM.PopUp.Type.LINK:c="poplink";b="scrollbars=yes, resizable";break;case PM.PopUp.Type.CUSTOM:break;default:b="scrollbars=yes, resizable"}if(e){b+=", width="+e}if(a){b+=", height="+a}if(!c){c="popup"}var g=window.open(d,c,b);if(g){g.focus()}};PM.PopUp.Type={DEFAULT:0,COMPARATOR:1,HELP:2,CAMPAIGN:3,PICTURE:4,PARTNER:5,WINDOW:6,UPLOAD:7,LINK:8};function popHelp(b,c,a){PM.Statistics.deprecatedFunctions("popHelp");PM.PopUp.open(b,PM.PopUp.Type.HELP,c,a)}function popPicture(b,c,a){PM.Statistics.deprecatedFunctions("popPicture");PM.PopUp.open(b,PM.PopUp.Type.PICTURE,c,a)}function popPartner(c,b,d,a){PM.Statistics.deprecatedFunctions("popPartner");PM.PopUp.open(c,PM.PopUp.Type.PARTNER,d,a)}function popWindow(b,c,a,e,d){PM.Statistics.deprecatedFunctions("popWindow");options="scrollbars=yes, resizable";if(arguments.length>3){options+=",left="+e+",screenX="+e}if(arguments.length>4){options+=",top="+d+",screenY="+d}PM.PopUp.open(b,PM.PopUp.Type.CUSTOM,c,a,"window",options)}function pop(d,c,e,a,b){PM.Statistics.deprecatedFunctions("pop");PM.PopUp.open(c,PM.PopUp.Type.CUSTOM,e,a,d,b)}PM.Alert=function(b,a){this.content=null;if(!b){b=""}if(!a){a={}}if(a.isAjax){this.isAjax=true}else{if(typeof(b)=="string"){this.content=b}else{if(PM.Dom.parent(b)!=null){this.content=PM.Dom.parent(b).removeChild(b);if(this.content.style&&this.content.style.display=="none"){this.content.style.display=""}}else{this.content=b}}}this.doBuildWithTable=PM.Util.getOption(a,"useTable",false);if(a.title){this.title=a.title}this.width="";if(a.width){this.width=a.width}else{if(this.doBuildWithTable){this.width=PM.Alert.size.SMALL}}if(a.isModal){this.isModal=true}else{this.isModal=false}if(a.hasMargin!=undefined){this.hasMargin=a.hasMargin}else{this.hasMargin=true}if(a.hasShutBox!=undefined){this.hasShutBox=a.hasShutBox}else{this.hasShutBox=true}if(a.shutAction){this.shutAction=a.shutAction}else{this.shutAction=PM.Alert.close}if(a.shutText!=undefined){this.shutText=a.shutText}else{this.shutText=PM.Constants.Translation.close_clemup}if(a.btn1Label){this.btn1Label=a.btn1Label}if(a.btn1Action){this.btn1Action=a.btn1Action}if(a.btn1Link){this.btn1Link=a.btn1Link}if(a.btn2Label){this.btn2Label=a.btn2Label}if(a.btn2Action){this.btn2Action=a.btn2Action}if(a.btn2Link){this.btn2Link=a.btn2Link}if(a.evalScripts){this.evalScripts=a.evalScripts}if(a.clickOutsideClose!=undefined){this.clickOutsideClose=a.clickOutsideClose}else{if(!this.isModal){this.clickOutsideClose=true}else{this.clickOutsideClose=false}}this.callbackOnShow=PM.Util.getOption(a,"callbackOnShow",null);this.withoutEffects=PM.Util.getOption(a,"withoutEffects",false);if(this.isAjax){PM.Ajax.request(b,this.ajaxResult.bindObj(this),{method:PM.Ajax.GET})}};PM.Alert.size={SMALL:"400px",MEDIUM:"550px",LARGE:"700px"};PM.Alert.isActive=false;PM.Alert.currentClickFction=null;PM.Alert.resizeFction=null;PM.Alert.shutAction=null;PM.Alert.btn1Action=null;PM.Alert.btn2Action=null;PM.Alert.build=function(){if($("pmalert_ctnt")){return true}var d=document.body;if($("top_ctner")){d=$("top_ctner")}var g=PM.Dom.createElement("div",{className:"box_blackout",id:"pmalert_bg"});g.style.display="none";d.appendChild(g);var b=PM.Dom.createElement("div",{className:"pm_popin",id:"pmalert_alert"});b.style.display="none";var f=PM.Dom.createElement("div",{className:"popin_head"});f.appendChild(PM.Dom.createElement("p",{className:"popin_title",id:"pmalert_title"}));var c=PM.Dom.createElement("p",{className:"pm_ui",id:"pmalert_close"});var e=PM.Dom.createLink("#","","pmalert_close_text","pm_close");c.appendChild(e);f.appendChild(c);b.appendChild(f);b.appendChild(PM.Dom.createElement("div",{id:"pmalert_ctnt",className:"popin_ctn"}));d.appendChild(b);if(ie6){var a=PM.Dom.createElement("div");a.innerHTML='<iframe id="pmalert_iframe" src="javascript:false;" style="width:0px; position: absolute; top:0px; left:0px; filter:alpha(opacity=0); z-index: 1990; height: 0; display:none;"></iframe>';d.appendChild(a)}};PM.Alert.buildWithTable=function(){if($("pmalert_ctnt")){return true}var q=document.body;if($("top_ctner")){q=$("top_ctner")}var m=PM.Dom.createElement("div",{className:"box_blackout",id:"pmalert_bg"});m.style.display="none";q.appendChild(m);var r=PM.Dom.createElement("table",{className:"pmalert_ctner",id:"pmalert_alert"});var c=PM.Dom.createElement("tbody");r.cellspacing="0";r.style.display="none";var o=PM.Dom.createElement("tr");o.appendChild(PM.Dom.createElement("td",{className:"pmalert_tl"}));o.appendChild(PM.Dom.createElement("td",{className:"pmalert_t"}));o.appendChild(PM.Dom.createElement("td",{className:"pmalert_tr"}));c.appendChild(o);var p=PM.Dom.createElement("tr");p.appendChild(PM.Dom.createElement("td",{className:"pmalert_l"}));var l=PM.Dom.createElement("td",{className:"pmalert"});var b=PM.Dom.createElement("div",{className:"pmalert_ctn"});b.appendChild(PM.Dom.createElement("div",{className:"pmalert_title",id:"pmalert_title"}));var a=PM.Dom.createElement("p",{className:"pmalert_close",id:"pmalert_close"});var n=PM.Dom.createElement("span",{id:"pmalert_close_text"});var g=PM.Dom.createLink("#",n);a.appendChild(g);b.appendChild(a);b.appendChild(PM.Dom.createElement("div",{id:"pmalert_ctnt"}));var f=PM.Dom.createElement("div",{id:"pmalert_btns"});var k=PM.Dom.createElement("div",{className:"pmalert_btn"});k.appendChild(PM.Dom.createLink("#","","pmalert_btn1","bluelinksmall"));f.appendChild(k);var e=PM.Dom.createElement("div",{className:"pmalert_btn"});e.appendChild(PM.Dom.createLink("#","","pmalert_btn2","bluelinksmall"));f.appendChild(e);b.appendChild(f);l.appendChild(b);p.appendChild(l);p.appendChild(PM.Dom.createElement("td",{className:"pmalert_r"}));c.appendChild(p);var d=PM.Dom.createElement("tr");d.appendChild(PM.Dom.createElement("td",{className:"pmalert_bl"}));d.appendChild(PM.Dom.createElement("td",{className:"pmalert_b"}));d.appendChild(PM.Dom.createElement("td",{className:"pmalert_br"}));c.appendChild(d);r.appendChild(c);q.appendChild(r);if(ie6){var h=PM.Dom.createElement("div");h.innerHTML='<iframe id="pmalert_iframe" src="javascript:false;" style="width:0px; position: absolute; top:0px; left:0px; filter:alpha(opacity=0); z-index: 1990; height: 0; display:none;"></iframe>';q.appendChild(h)}};PM.Alert.prototype.ajaxResult=function(options){this.content=options.XmlHttpObject.responseText;var tagRegExp='{.*(values|"action":"AuthenticateAjaxResponseAction")+.*(values|"action":"AuthenticateAjaxResponseAction")+.*}';var matchTag=new RegExp(tagRegExp,"i");if(this.content.match(matchTag)){eval("var res = "+content);PM.Ajax.authenticate({loginURL:res.values.loginURL})}else{this.show()}};PM.Alert.displayInPage=function(n){var m=$("pmalert_alert");if(typeof(n)=="undefined"){n=$("pmalert_bg").style.display!="none"}var g=PM.Util.getWindowSize();var o=document.body.offsetWidth;var l=document.body.offsetHeight;if(g.h>l){l=g.h}var d=hElt=0;var h=(m.style.display=="none");if(h){m.style.visibility="hidden";m.style.display=""}d=m.offsetWidth;hElt=m.offsetHeight;if(h){m.style.display="none";m.style.visibility="visible"}var k=PM.Util.getPageScroll();var f=k.x;var c=k.y;var b=parseInt(((g.w-d)/2)+f);if(b<0){b=0}var a=parseInt(((g.h-hElt)/2)+c);if(ie6){var e=$("pmalert_iframe");if(n){e.style.top="0px";e.style.left="0px";e.style.width=o+"px";e.style.height=l+"px"}else{e.style.top=a+"px";e.style.left=b+"px";e.style.width=d;e.style.height=hElt}}if(a<40){m.style.top="40px"}else{m.style.top=a+"px"}m.style.left=b+"px";if(n){$("pmalert_bg").style.width=o+"px";$("pmalert_bg").style.height=l+"px"}};PM.Alert.prototype.show=function(h,d){if(!d){d={}}if(d.btn1Action){this.btn1Action=d.btn1Action}if(d.btn2Action){this.btn2Action=d.btn2Action}if(d.shutAction){this.shutAction=d.shutAction}if(!h&&this.callbackOnShow){h=this.callbackOnShow}PM.Alert.isActive=true;if(ie7){if($("IE7")!=undefined){PM.Dom.Class.add($("IE7"),"popin_active")}}if(this.doBuildWithTable){PM.Alert.buildWithTable()}else{PM.Alert.build()}var e=$("pmalert_ctnt");while(e.firstChild){var a=e.removeChild(e.firstChild);delete a}var c=$("pmalert_ctnt");if(this.hasMargin){c=c.appendChild(PM.Dom.createElement("div",{className:"pmalert_ctnt_txt"}))}if(typeof(this.content)=="string"){c.innerHTML=this.content}else{var b=PM.Dom.createElement("div");b.appendChild(this.content);c.innerHTML=b.innerHTML}if(this.isAjax){PM.Util.evalScript(this.content)}if(this.evalScripts){PM.Util.evalScript(PM.Util.serialize(this.content))}if(this.title){$("pmalert_title").innerHTML=this.doBuildWithTable?"<h6>"+this.title+"</h6>":this.title;$("pmalert_title").style.display="block"}else{if($("pmalert_title")){$("pmalert_title").style.display="none"}}$("pmalert_close_text").innerHTML=this.shutText;if(PM.Alert.shutAction&&PM.Alert.shutAction!=null){PM.Event.remove($("pmalert_close"),"click",PM.Alert.shutAction)}PM.Alert.shutAction=this.shutAction;if(this.shutAction){PM.Event.add($("pmalert_close"),"click",this.shutAction)}if(this.btn1Label){$("pmalert_btn1").innerHTML=this.btn1Label;PM.Dom.parent($("pmalert_btn1")).style.display="block";if(PM.Alert.btn1Action&&PM.Alert.btn1Action!=null){PM.Event.remove($("pmalert_btn1"),"click",PM.Alert.btn1Action)}PM.Alert.btn1Action=this.btn1Action;if(this.btn1Action){PM.Event.add($("pmalert_btn1"),"click",this.btn1Action)}if(this.btn1Link){$("pmalert_btn1").href=this.btn1Link}else{$("pmalert_btn1").href="#"}}else{if($("pmalert_btn1")){PM.Dom.parent($("pmalert_btn1")).style.display="none"}}if(this.btn2Label){$("pmalert_btn2").innerHTML=this.btn2Label;PM.Dom.parent($("pmalert_btn2")).style.display="block";if(PM.Alert.btn2Action&&PM.Alert.btn2Action!=null){PM.Event.remove($("pmalert_btn2"),"click",PM.Alert.btn2Action)}PM.Alert.btn2Action=this.btn2Action;if(this.btn2Action){PM.Event.add($("pmalert_btn2"),"click",this.btn2Action)}if(this.btn2Link){$("pmalert_btn2").href=this.btn2Link}else{$("pmalert_btn2").href="#"}}else{if($("pmalert_btn2")){PM.Dom.parent($("pmalert_btn2")).style.display="none"}}if(this.btn1Label&&this.btn2Label){$("pmalert_btns").className="pmalert_btns pmalert_2_btns"}else{if($("pmalert_btns")){$("pmalert_btns").className="pmalert_btns pmalert_1_btns"}}if(this.btn1Label||this.btn2Label){$("pmalert_btns").style.display="block"}else{if($("pmalert_btns")){$("pmalert_btns").style.display="none"}}var f=$("pmalert_alert");f.style.width=this.width;if(this.hasShutBox){$("pmalert_close").style.display="block"}else{$("pmalert_close").style.display="none"}PM.Alert.displayInPage(true);PM.Alert.resizeFction=PM.Alert.displayInPage;if(!ie6){PM.Event.add(window,PM.Event.Type.REDRAW,PM.Alert.resizeFction)}if(!PM.Event.hasReached(PM.Event.Type.COMPLETE)){PM.Event.add(window,PM.Event.Type.COMPLETE,PM.Alert.displayInPage)}var g=function(){if(h!=undefined&&h!=null&&typeof(h)=="function"){h.apply(null)}if(this.clickOutsideClose){PM.Alert.currentClickFction=this.testClick.bindObj(this);setTimeout(function(){PM.Event.add(document,"click",PM.Alert.currentClickFction)},1)}}.bindObj(this);if(this.withoutEffects){PM.UI.show(f);g()}else{PM.UI.Effect.fadeIn(f,{duration:800,callback:g})}if(ie6){$("pmalert_iframe").style.display="block"}if(this.isModal){PM.UI.Effect.fadeIn($("pmalert_bg"),{duration:800,opacity:0.75})}};PM.Alert.prototype.bindTo=function(b,a){if(typeof(b)=="string"){b=$(b)}PM.Event.add(b,a,this.show.bindObj(this))};PM.Alert.prototype.testClick=function(b){var a=PM.Util.getElementFromEvent(b);while(!(PM.Dom.parent(a)==null||(a.tagName=="BODY"&&PM.Dom.parent(a).tagName=="HTML"))){if(a.id=="pmalert_alert"){return}else{a=PM.Dom.parent(a)}}if(PM.Dom.parent(a)!=null){this.shutAction()}};PM.Alert.close=function(a){if(!$("pmalert_alert")){return false}if(a){PM.Util.preventDefault(a)}$("pmalert_alert").style.display="none";if(ie6){$("pmalert_iframe").style.display="none"}$("pmalert_bg").style.display="none";PM.Event.remove(document,"click",PM.Alert.currentClickFction);PM.Alert.currentClickFction=null;PM.Alert.isActive=false;if(ie7){if($("IE7")!=undefined){PM.Dom.Class.remove($("IE7"),"popin_active")}}};PM.Geo={};PM.Geo.Box=function(b,a){this.w=b;this.h=a;if(isNaN(this.w)){this.w=0}if(isNaN(this.h)){this.h=0}};PM.Date=function(b){if(b){var c=b.split(" ");var a=c[0].split("-")}if(typeof(b)=="undefined"||a.length!=3){this.storedDate=new Date();if(typeof(b)!="undefined"){this.storedDate.setTime(b)}}else{if(c==2){var d=c[1].split(":");this.storedDate=new Date(a[0],a[1]-1,a[2],d[0],d[1],d[2])}else{this.storedDate=new Date(a[0],a[1]-1,a[2])}}};PM.Date.prototype.getLocaleDate=function(){var a=this.storedDate.getDate();if(a<10){a="0"+a}var b=this.storedDate.getMonth()+1;if(b<10){b="0"+b}return a+"/"+b+"/"+this.storedDate.getFullYear()};PM.Date.check=function(b){var c=new RegExp("[^0-9/]","g");var a=b.value.replace(c,"");if(b.value!=a){b.value=a}};PM.LinkTool={};PM.LinkTool.gotoHome=function(){PM.BT.li(PM.BT.Action.SELF,"/")};PM.LinkTool.gotoPage=function(b,a){s=PM.LinkTool.build(b,a);window.top.location.href=s};PM.LinkTool.gotoExternalPage=function(a){s=PM.LinkTool.build(a,true);window.open(s)};PM.LinkTool.build=function(b,a){s="";if(!a||typeof(a)=="undefined"){s="/"}s=s+b.path;nb=b.arrParameter.length;if(nb>0){s+="?"}for(i=0;i<nb;i++){s+=b.arrParameter[i];if(i+1<nb){s+="&"}}if(b.anch!=null){s+="#"+b.anch}return s};PM.LinkTool.URLRemoveSpecialCaracters=function(b){var a=b.replace(/</g," ");a=a.replace(/>/g," ");a=a.replace(/\|/g," ");a=a.replace(/\'/g," ");a=a.replace(/\"/g," ");return PM.Util.trim(a)};PM.LinkTool.URLEncode=function(b){var a=escape(b.replace(/ /g,"+"));a=a.replace(/\//g,"%2F");a=a.replace(/\?/g,"%3F");a=a.replace(/=/g,"%3D");a=a.replace(/&/g,"%26");a=a.replace(/@/g,"%40");a=a.replace(/%u20AC/g,"euro");return a};PM.LinkTool.encodeURIComponent=function(a){return encodeURIComponent(a)};PM.LinkTool.askConfirmation=function(b,a){if(confirm(a)){location.href=b}};PM.LinkTool.gotoSearchPage=function(a,b,d,k,e,f,h,g){var c=a+"/"+b+"/"+d+"/"+k;if(e!=""){c=c+"/"+e+"/"+f}c=c+"/"+h+"/"+PM.LinkTool.URLEncode(g);document.location.href="/"+c};PM.LinkTool.gotoSearchPageNg=function(c,a,e,d){var b=c+"/"+a.substring(2,a.length);if(d!=""){b+="/"+e+"/"+PM.LinkTool.URLEncode(d)}PM.LinkTool.gotoPage(new PM.Link(b))};PM.LinkTool.gotoSearchAll=function(c,e,b,a){var d=c+"/";if(e!=""){d+=PM.LinkTool.URLEncode(PM.Util.trimStrongly(e))}if(typeof a!=="undefined"){d+=a}PM.LinkTool.gotoPage(new PM.Link(d),b)};PM.LinkTool.gotoShopSearchAll=function(b,d,a){var c=b;if(d!=""){c+=PM.LinkTool.URLEncode(PM.Util.trimStrongly(d))}if(typeof a!=="undefined"){c+=a}PM.LinkTool.gotoPage(new PM.Link(c),true)};PM.LinkTool.gotoShopPage=function(a,c){var b=a+"&login="+c;PM.LinkTool.gotoPage(new PM.Link(b))};PM.LinkTool.gotoIdentificationPage=function(a,c){var b=a+"&reference="+c;PM.LinkTool.gotoPage(new PM.Link(b))};PM.LinkTool.isFilterPage=function(a,b){return(a.substring(0,2)==b)};PM.LinkTool.gotoFilterPage=function(){if(arguments.length<=2){PM.LinkTool.gotoFilterPage2(arguments[0],arguments[1])}else{PM.LinkTool.gotoFilterPage4(arguments[0],arguments[1],arguments[2],arguments[3])}};PM.LinkTool.gotoFilterPage2=function(b,a){if(a!=undefined){document.location.href=b+a}else{document.location.href=b}};PM.LinkTool.gotoFilterPage4=function(b,d,c,a){if(c!=a){document.location.href=b+"/"+d+"/"+PM.LinkTool.URLEncode(c)}};PM.LinkTool.gotoSortPage=function(a,b){if(b==undefined||b==0){document.location.href=a.replace("/s/1","")}else{document.location.href=a.replace("/s/1","/s/"+b)}};function askConfirmation(b,a){PM.Statistics.deprecatedFunctions("askConfirmation");PM.LinkTool.askConfirmation(b,a)}function gotoFilterPage(){PM.Statistics.deprecatedFunctions("gotoFilterPage");PM.LinkTool.gotoFilterPage.apply(null,arguments)}PM.Link=function(a){this.path=a;this.anch=null;this.arrParameter=new Array()};PM.Link.prototype={add:function(a){this.arrParameter[this.arrParameter.length]=a;return this},anchor:function(a){this.anch=a;return this}};var Link=PM.Link;PM.Cookie={};PM.Cookie.set=function(a,g,l){var k="; path=/";var b="";if(typeof(l)=="number"){l={daysToExpire:l}}if(typeof(l)=="object"&&!PM.Util.getOption(l,"isSession",false)){var e=PM.Util.getOption(l,"expirationDate",null);var c=PM.Util.getOption(l,"timeToExpire",null);var h=PM.Util.getOption(l,"daysToExpire",30);var f=new Date();if(e!=null){f.setTime(e)}else{if(c!=null){f.setTime(f.getTime()+parseFloat(c))}else{f.setTime(f.getTime()+(86400000*parseFloat(h)))}}b="; expires="+f.toGMTString()}return(document.cookie=escape(a)+"="+escape(g.toString()||"")+k+b)};PM.Cookie.get=function(a){var b=document.cookie.match(new RegExp("(^|;)\\s*"+escape(a)+"=([^;\\s]*)"));return(b?unescape(b[2]):null)};PM.Cookie.getParam=function(e,c){var b=PM.Cookie.get(e);if(b!=null){var d=b.match(new RegExp(escape(c)+"=([^&]*)"));if(d){var a=decodeURIComponent(d[1]);return unescape(a)}}return null};PM.Cookie.setParam=function(e,c,d,a){d=encodeURIComponent(d);var b=new RegExp(c+"=([^&]*)");if(userCookie=PM.Cookie.get(e)){if(userCookie.match(b)){userCookie=userCookie.replace(b,c+"="+d)}else{userCookie+=(c+"="+d+"&")}}else{userCookie=c+"="+d+"&"}if(typeof(a)=="undefined"){a={dayToExpire:30000};PM.Debug.log("Attention : appel à la méthode PM.Cookie.setParam sans définir une date d'expiration. On le positionne à 30000 jours par défaut")}PM.Cookie.set(e,userCookie,a)};PM.Cookie.erase=function(a){var b=PM.Cookie.get(a)||true;PM.Cookie.set(a,"",-1);return b};PM.Cookie.accept=function(){if(typeof navigator.cookieEnabled=="boolean"){return navigator.cookieEnabled}PM.Cookie.set("_test","1");return(PM.Cookie.erase("_test")==="1")};PM.Menu={height:25,opening_delay:200,closing_delay:150,nb_tabs:0,section:"",active_menu:-1,is_positionned:false,timer:-1,current_menu:-1,level1:"menu_cat",level2:"submenu"};PM.Menu.setPosition=function(){if($(PM.Menu.level1+"_1")){PM.Menu.height=$(PM.Menu.level1+"_1").offsetHeight;for(i=1;i<=PM.Menu.nb_tabs;i++){div=$(PM.Menu.level2+"_"+i);if(div){pos=PM.Util.absolutePosition($(PM.Menu.level1+"_"+i));if(pos[0]>document.documentElement.clientWidth/2){pos[0]=pos[0]-div.offsetWidth-1+$(PM.Menu.level1+"_"+i).offsetWidth}div.style.left=pos[0]+"px";div.style.top=pos[1]+PM.Menu.height+"px";if(ie6){$("framemenu_"+i).style.left=div.style.left;$("framemenu_"+i).style.top=div.style.top;$("framemenu_"+i).style.width=div.offsetWidth+"px";$("framemenu_"+i).style.height=div.offsetHeight+"px"}}}PM.Menu.is_positionned=true}};PM.Menu.update=function(a){if(a==0&&PM.Menu.timer==-1){PM.Menu.timer=setTimeout("PM.Menu.hide_submenu()",PM.Menu.closing_delay)}else{if(a==1&&PM.Menu.timer!=-1){clearTimeout(PM.Menu.timer);PM.Menu.timer=-1}}};PM.Menu.show_submenu=function(a){if(PM.Util.whichFocus){PM.Util.whichFocus.blur()}if(PM.Menu.is_positionned==false){PM.Menu.setPosition()}$(PM.Menu.level1+"_"+a).className="highlight";submenu=$(PM.Menu.level2+"_"+a);if(submenu){$(PM.Menu.level1+"_"+a).className+=" expand";if(ie6){$("framemenu_"+a).style.display="block"}submenu.style.visibility="visible"}};PM.Menu.hide_submenu=function(a){if(PM.Menu.current_menu!=PM.Menu.active_menu){$(PM.Menu.level1+"_"+PM.Menu.current_menu).className=""}else{$(PM.Menu.level1+"_"+PM.Menu.current_menu).className="cat_on"}submenu=$(PM.Menu.level2+"_"+PM.Menu.current_menu);if(submenu){submenu.style.visibility="hidden";if(ie6){$("framemenu_"+PM.Menu.current_menu).style.display="none"}}PM.Menu.current_menu=-1;if(!a&&PM.Util.whichFocus){PM.Util.whichFocus.focus()}};PM.Menu.over=function(b,a){if(a!=PM.Menu.current_menu){if(PM.Menu.current_menu!=-1){PM.Menu.hide_submenu(true)}if(b==1){PM.Menu.update(1);PM.Menu.show_submenu(a);PM.Menu.current_menu=a}}else{if(b==1){PM.Menu.update(1)}else{if(b==0){PM.Menu.update(0)}}}PM.Menu.timer_activation=-1};PM.Menu.over_delay=function(b,a){if(b==1&&PM.Menu.current_menu==-1){PM.Menu.timer_activation=setTimeout("PM.Menu.over('"+b+"','"+a+"')",PM.Menu.opening_delay)}else{if(b==0&&PM.Menu.timer_activation!=-1){clearTimeout(PM.Menu.timer_activation);PM.Menu.timer_activation=-1}else{PM.Menu.over(b,a)}}};PM.Menu.roll=function(b,a,c){if(a==PM.Menu.current_menu){source=b.srcElement?b.srcElement:b.target;if(source.tagName!="A"&&source.tagName!="DIV"){return}PM.Menu.update(c)}};PM.Menu.write=function(tab,prefix){if(typeof(prefix)=="undefined"){prefix=""}if(typeof(price_menu)!="undefined"){var menuBuffer="";menuBuffer+='<table border="0" cellspacing="0" cellpadding="0" class="table_menu">\n';menuBuffer+="<tr>";PM.Menu.section=tab;if(eval("price_menu."+PM.Menu.section).length){PM.Menu.section=eval("price_menu."+PM.Menu.section)}PM.Menu.nb_tabs=eval("price_menu."+PM.Menu.section+".menuitems").length;for(i=1;i<=PM.Menu.nb_tabs;i++){var item=eval("price_menu."+PM.Menu.section+".menuitems["+(i-1)+"]");(i==1)?first_tag=' class="first"':first_tag="";menuBuffer+="<td onmouseover='PM.Menu.over_delay(1,"+i+");' onmouseout='PM.Menu.over_delay(0,"+i+");' id='"+PM.Menu.level1+"_"+i+"'>";menuBuffer+="<a"+first_tag+' target="_top" href="'+prefix+item.link+'" onmouseover="PM.Menu.update(1)">'+item.value+"</a>";menuBuffer+="</td>\n"}menuBuffer+="</tr>";menuBuffer+="</table>";$("price_menu").innerHTML=menuBuffer}};PM.Menu.write_submenus=function(){var subBuffer="";if(ie6){for(i=1;i<=PM.Menu.nb_tabs;i++){subBuffer+='<iframe id="framemenu_'+i+'" src="javascript:false;" style="width:0px; position: absolute; top:0px; left:0px; filter:alpha(opacity=0); z-index: 190; height: 0; display:none;"></iframe>'}}($("header_menu").className=="menu_sell")?sellClass=" submenu_sell":sellClass="";for(i=1;i<=PM.Menu.nb_tabs;i++){var item=eval("price_menu."+PM.Menu.section+".menuitems["+(i-1)+"]");if(item.subitems&&item.subitems.length>0){subBuffer+='<div class="submenu'+sellClass+'" style="visibility: hidden;" id="'+PM.Menu.level2+"_"+i+'" onmouseover="PM.Menu.roll(event,'+i+',1);" onmouseout="PM.Menu.roll(event,'+i+',0)">';for(j=0;j<item.subitems.length;j++){subBuffer+='<a class="'+item.subitems[j].cssclass+'" href="'+item.subitems[j].link+'">'+item.subitems[j].value+"</a>"}subBuffer+="</div>\n"}}$("pm_submenu").innerHTML=subBuffer};PM.Menu.highlight=function(breadcrumbs){if(PM.Menu.section!=undefined&&PM.Menu.section!=""){for(i=0;i<breadcrumbs.length;i++){submenuid=eval("price_menu."+PM.Menu.section+".alias."+breadcrumbs[i]);if(submenuid){$(PM.Menu.level1+"_"+submenuid).className="cat_on";PM.Menu.active_menu=submenuid;return}}}};PM.Dom={};PM.Dom.createLink=function(a,b,e,d){var c=document.createElement("a");c.href=a;if(b){if(typeof(b)=="string"){c.appendChild(document.createTextNode(b))}else{c.appendChild(b)}}if(e){c.id=e}if(d){c.className=d}return c};PM.Dom.createImage=function(a,b){var c=document.createElement("img");c.src=a;if(a){c.alt=b}return c};PM.Dom.firstChild=function(b){var a=b.firstChild;if(a!=null&&a.nodeType!=1){a=PM.Dom.nextObject(a)}return a};PM.Dom.nextObject=function(a){if(a){do{a=a.nextSibling}while(a&&a.nodeType!=1);return a}};PM.Dom.previousObject=function(a){do{a=a.previousSibling}while(a&&a.nodeType!=1);return a};PM.Dom.parent=function(a){a=$(a);if(document.all){return a.parentElement}else{return a.parentNode}};PM.Dom.removeChildren=function(a){while(a.childNodes.length>=1){a.removeChild(a.firstChild)}};PM.Dom.createElement=function(b,a){var c=document.createElement(b);if(a){if(a.className){c.className=a.className}if(a.id){c.id=a.id}if(a.content){if(typeof(a.content)=="string"){c.appendChild(document.createTextNode(a.content))}else{c.appendChild(a.content)}}if(a.rowSpan){c.rowSpan=parseInt(a.rowSpan)}if(a.href){c.href=a.href}if(a.display){c.style.display=a.display}if(a.title){c.title=a.title}if(a.htmlfor){c.htmlFor=a.htmlfor}}return c};PM.Dom.withinElement=function(b,a){while(b&&b!=a){b=PM.Dom.parent(b)}return b==a};PM.Dom.Class={};PM.Dom.Class.getAll=function(a){return $(a).className.split(/\s+/)};PM.Dom.Class.has=function(b,a){b=$(b);return(b&&a&&b.className.match(a))};PM.Dom.Class.add=function(b,a){if(PM.Util.isArrayOrCollection(b)){for(var c=0;c<b.length;c++){PM.Dom.Class.add(b[c],a)}return}if(!PM.Dom.Class.has(b,a)){b.className+=" "+a}};PM.Dom.Class.replace=function(b,d,a){if(PM.Util.isArrayOrCollection(b)){for(var c=0;c<b.length;c++){PM.Dom.Class.replace(b[c],d,a)}return}b=$(b);if(b){if(""==d){PM.Dom.Class.add(b,a)}else{b.className=b.className.replace(new RegExp(d,"g"),a)}}};PM.Dom.Class.remove=function(b,a){PM.Dom.Class.replace(b,a,"")};PM.Comparator={separator:"*",maxProducts:5};PM.Comparator.clear=function(){PM.Cookie.erase(PM.Comparator.Cookie.Product);PM.Cookie.erase(PM.Comparator.Cookie.Group)};PM.Comparator.hasProduct=function(b){var a=PM.Cookie.get(PM.Comparator.Cookie.Product);return(a.indexOf(PM.Comparator.separator+b+PM.Comparator.separator)>=0)};PM.Comparator.isFull=function(){var b=PM.Cookie.get(PM.Comparator.Cookie.Product);if(!b){return false}b=b.substring(1,b.length-1);var a=b.split(PM.Comparator.separator);if(a.length<PM.Comparator.maxProducts){return false}else{return true}};PM.Comparator.isEmpty=function(){var a=PM.Cookie.get(PM.Comparator.Cookie.Product);if(!a||a==PM.Comparator.separator||a==""){return true}else{return false}};PM.Comparator.isSameGroup=function(b){var a=PM.Cookie.get(PM.Comparator.Cookie.Group);if(!a||a==""){return true}else{return(b==a)}};PM.Comparator.add=function(a,d,f,h,g,b,k){if(!PM.Comparator.isSameGroup(g)){if(confirm(f)){PM.Comparator.clear()}else{return false}}else{if(PM.Comparator.isFull()){alert(h);PM.PopUp.open(a,PM.PopUp.Type.COMPARATOR);return false}}var e=PM.Comparator.isEmpty();var c=PM.Comparator.separator;if(e){alert(d)}else{c=PM.Cookie.get(PM.Comparator.Cookie.Product)}if(e||!PM.Comparator.hasProduct(b)){c=c+b+PM.Comparator.separator}PM.Cookie.set(PM.Comparator.Cookie.Product,c);PM.Cookie.set(PM.Comparator.Cookie.Group,g);if(!e){PM.PopUp.open(a,PM.PopUp.Type.COMPARATOR)}window.location.reload();return false};PM.Comparator.remove=function(a,c){var b=PM.Cookie.get(PM.Comparator.Cookie.Product);PM.Cookie.set(PM.Comparator.Cookie.Product,b.replace(PM.Comparator.separator+c,""));if(PM.Comparator.isEmpty()){PM.Comparator.clear()}if(a){PM.PopUp.open(a,PM.PopUp.Type.COMPARATOR)}window.location.reload()};PM.Comparator.Cookie={Group:"comparegroup",Product:"compareproduct"};PM.Cart={Cookie:"cart"};PM.Cart.display=function(f,h,b,a){var e=a;var g=$("cart_items");if(g){for(var d=0;d<g.childNodes.length;++d){g.removeChild(g.childNodes.item(d))}g.appendChild(document.createTextNode("("));var c=g;if(e!=null&&e>0){var k=PM.Dom.createLink(f);g.appendChild(k);c=k}else{e=0}if(e>1){c.appendChild(document.createTextNode(e+" "+b))}else{c.appendChild(document.createTextNode(e+" "+h))}g.appendChild(document.createTextNode(")"))}};PM.Cart.display_cob=function(f,d,e,c,a,b){var g=b;if(!g||f||g!=0){document.write('<a href="'+d+'" class="panier">'+e+"</a>")}if(g){if(g!=0){document.write('<a href="'+d+'" class="nonu">');if(g>1){document.write(g+" "+a)}else{document.write(g+" "+c)}document.write("</a>")}}};PM.Cart.exists=function(){var a=PM.Cookie.getParam(PM.Cart.Cookie,"nb");if(a!=""&&a!=0){return true}else{return false}};PM.Memo={Cookie:"memo"};PM.Memo.exists=function(){var a=PM.Cookie.get(PM.Memo.Cookie);return(a!=""&&a!=0)};PM.Memo.display=function(c,a){var b=PM.Cookie.get(PM.Memo.Cookie);if(b>1){document.write(b+" "+a)}else{b=b==1?b:0;document.write(b+" "+c)}};PM.Spot={};PM.Spot.showCmsButton=function(e,a){$("divCms").innerHTML='<a href="'+e+'" class="bg_bo">IG</a>';var d=a.offsetWidth;var c=PM.Util.absolutePosition(a);var b=c[0]+d;if(document.all){$("divCms").style.setAttribute("cssText","position:absolute;left:"+b+"px;top:"+c[1]+"px;z-index:200")}else{$("divCms").setAttribute("style","position:absolute;left:"+b+"px;top:"+c[1]+"px;z-index:200")}};PM.Spot.hideCmsButton=function(){$("divCms").setAttribute("style","display:none")};PM.Ajax={GET:1,POST:2,activeRequests:{},disablers:{}};PM.Ajax.getXmlHttpObject=function(){if(window.XMLHttpRequest){return new XMLHttpRequest()}else{return new ActiveXObject("Microsoft.XMLHTTP")}};PM.Ajax.updateDiv=function(options){if(options.updateId){var content=options.XmlHttpObject.responseText;var tagRegExp='{.*(values|"action":"AuthenticateAjaxResponseAction")+.*(values|"action":"AuthenticateAjaxResponseAction")+.*}';var matchTag=new RegExp(tagRegExp,"i");if(content.match(matchTag)){eval("var res = "+content);PM.Ajax.authenticate({loginURL:res.values.loginURL})}else{$(options.updateId).innerHTML=content;if(options.evalScripts){PM.Util.evalScript(content)}}PM.Util.getOption(options,"callbackFunction",function(){}).apply(null)}};PM.Ajax.isNotAuthenticateAjaxResponse=function(c){var a='{.*(values|"action":"AuthenticateAjaxResponseAction")+.*(values|"action":"AuthenticateAjaxResponseAction")+.*}';var b=new RegExp(a,"i");return c.match(b)};PM.Ajax.request=function(url,callFunction,options){if(!options){options={}}var disableBlockWhenSubmitting=(typeof options.disableBlockWhenSubmitting=="undefined")||options.disableBlockWhenSubmitting;var isAsynchronous=(typeof options.isAsynchronous=="undefined")||options.isAsynchronous;var XmlHttpObject=PM.Ajax.getXmlHttpObject();if(options.preventMultipleCalls){if(PM.Ajax.activeRequests[options.preventMultipleCalls]==true){return false}PM.Ajax.activeRequests[options.preventMultipleCalls]=true;if(disableBlockWhenSubmitting){if(typeof(PM.Ajax.disablers[options.preventMultipleCalls])=="undefined"){PM.Ajax.disablers[options.preventMultipleCalls]=new PM.UI.BlockDisabler(options.preventMultipleCalls,{withLoader:true})}PM.Ajax.disablers[options.preventMultipleCalls].disable()}}if(isAsynchronous){XmlHttpObject.onreadystatechange=function(){if(XmlHttpObject.readyState==4){clearTimeout(options.timeOutRef);response=XmlHttpObject.responseText;if(response!=null){if(!response.match(new RegExp("<html[^>]*>","i"))){try{var res=JSON.parse(response);if(res.action=="ajaxFrameworkError"){window.location.href=res.values.redirectUrl;return}}catch(e){}var tagRegExp='{.*(values|"action":"tag")+.*(values|"action":"tag")+.*}';var matchTag=new RegExp(tagRegExp,"i");var tagArray=response.match(matchTag);response=response.replace(matchTag,"");if(XmlHttpObject.status==200){options.XmlHttpObject={responseText:response,responseXML:XmlHttpObject.responseXML};if(options.XmlHttpObject.responseText){options.responseText=response}if(callFunction){callFunction.apply(null,[options])}if(options.waitId&&$(options.waitId)){$(options.waitId).style.visibility="hidden"}}if(tagArray){eval("var res = "+tagArray[0]);var tmp_xtpage=res.values.xtpage;if(res.values.xtparams){tmp_xtpage+="&"+res.values.xtparams}PM.Statistics.tagView(res.values.s2,tmp_xtpage)}}else{if(options.errorCallback){options.errorCallback.apply(null,[options])}if(options.waitId){$(options.waitId).style.visibility="hidden"}}}if(options.preventMultipleCalls){PM.Ajax.activeRequests[options.preventMultipleCalls]=false;if(disableBlockWhenSubmitting){PM.Ajax.disablers[options.preventMultipleCalls].enable()}}}}}if(options.waitId&&$(options.waitId)){$(options.waitId).style.visibility="visible"}if(options.method&&options.method==PM.Ajax.POST){XmlHttpObject.open("POST",url,isAsynchronous);if(options.requestHeaders){for(key in options.requestHeaders){XmlHttpObject.setRequestHeader(key,options.requestHeaders[key])}}XmlHttpObject.setRequestHeader("X-AjaxRequest","1");XmlHttpObject.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");if(options.urlParams){XmlHttpObject.send(options.urlParams)}else{XmlHttpObject.send(null)}}else{if(options.urlParams){url+=(url.match(/\?/)?"&":"?")+options.urlParams}XmlHttpObject.open("GET",url,isAsynchronous);XmlHttpObject.setRequestHeader("X-AjaxRequest","1");XmlHttpObject.send(null)}var timeOutDelay=PM.Util.getOption(options,"timeOut",null);options.timeOutRef=null;if(timeOutDelay){options.timeOutRef=setTimeout(PM.Ajax.timeOut.bindObj(null,XmlHttpObject,options),timeOutDelay)}if(!isAsynchronous){options.XmlHttpObject=XmlHttpObject;clearTimeout(options.timeOutRef);if(callFunction){callFunction.apply(null,[options])}if(options.waitId){$(options.waitId).style.visibility="hidden"}}};PM.Ajax.syncRequest=function(a){a.async=false;$j.ajax(a)};PM.Ajax.asyncRequest=function(a){a.async=true;$j.ajax(a)};PM.Ajax.seekXitiTags=function(response){if(!response.match(new RegExp("<html[^>]*>","i"))){var tagRegExp='{.*(values|"action":"tag")+.*(values|"action":"tag")+.*}';var matchTag=new RegExp(tagRegExp,"i");var tagArray=response.match(matchTag);response=response.replace(matchTag,"");if(tagArray){eval("var res = "+tagArray[0]);var tmp_xtpage=res.values.xtpage;if(res.values.xtparams){tmp_xtpage+="&"+res.values.xtparams}PM.Statistics.tagView(res.values.s2,tmp_xtpage)}}return response};PM.Ajax.timeOut=function(b,a){PM.Debug.log("Requête Ajax interrompue - Timeout "+a.timeOut);b.abort();if(a.errorCallback){a.errorCallback.apply(null,[a])}};PM.Ajax.update=function(c,a,b){if(!b){b={}}b.updateId=a;PM.Ajax.request(c,PM.Ajax.updateDiv,b)};PM.Ajax.authenticate=function(a){window.location.href=a.loginURL};PM.Ajax.chainedRequests=function(c){var f=PM.Util.getOption(c,"requests",null);var a=PM.Util.getOption(c,"disabledBlock",null);if(f==null){return}var b=PM.Util.getOption(c,"requestCount",-1)+1;if(a!=null){if(b==0){c.disabler=new PM.UI.BlockDisabler(a,{withLoader:true,loaderText:PM.Util.getOption(c,"loaderText",undefined),progressBar:true});c.disabler.disable()}else{c.disabler.progress(b,f.length);var d=PM.Util.getOption(c,"reqResults",new Array());d[d.length]=PM.Util.getOption(c,"responseText","");c.reqResults=d}}c.requestCount=b;if(b<f.length){var e=f[b];c.urlParams=e.urlParams;PM.Ajax.request(e.url,PM.Ajax.chainedRequests,c)}else{if(a!=null){c.disabler.enable()}PM.Util.getOption(c,"onFinish",function(){}).apply(null,[PM.Util.getOption(c,"reqResults",new Array())])}};PM.Ajax.HtmlAppender=function(c,b,d,a){this.url=c;this.divId=b;this.lastPaginationKey=d;this.hasMoreResults=a};PM.Ajax.HtmlAppender.prototype.appendTo=function(a){if(!a){a={}}PM.Util.setOption(a,"appendId",this.divId,true);PM.Util.setOption(a,"urlParams",PM.Util.getOption(a,"urlPaginationKeyName")+"="+this.lastPaginationKey,true);PM.Ajax.request(this.url,PM.Ajax.HtmlAppender.appendToDiv.bindObj(this),a)};PM.Ajax.HtmlAppender.appendToDiv=function(options){if(options.appendId){var content=options.XmlHttpObject.responseText;var tagRegExp='{.*(values|"action":"AuthenticateAjaxResponseAction")+.*(values|"action":"AuthenticateAjaxResponseAction")+.*}';var matchTag=new RegExp(tagRegExp,"i");PM.Debug.log(content.match(matchTag));if(content.match(matchTag)){eval("var res = "+content);PM.Ajax.authenticate({loginURL:res.values.loginURL})}else{matchTag=new RegExp('{"'+PM.Util.getOption(options,"urlPaginationKeyName")+'":"([0-9]*)","'+PM.Util.getOption(options,"hasMoreResultKeyName")+'":"(true|false)"}',"i");var exec=matchTag.exec(content);this.lastPaginationKey=exec[1];this.hasMoreResults=exec[2];content=content.replace(matchTag,"");var noResultsFct=PM.Util.getOption(options,"noResultsFct");if(this.hasMoreResults=="false"){if(noResultsFct!=null){noResultsFct.apply(null)}}$j(content).appendTo($(options.appendId));var callbackMethod=PM.Util.getOption(options,"callbackMethod");if(callbackMethod){callbackMethod.apply(null)}}}};PM.Statistics={};PM.Statistics.Type={NAVIGATION:"N",OUT:"S",ACTION:"A"};PM.Statistics.Xtn2={ROOT:"0",MARKETING:"5",ACCOUNT:"6",CART:"26",FPDA:"31",OTHERS:"35",COMMUNITY:"38",SHOP:"24"};PM.Statistics.tagView=function(b,a){if(typeof(xt_med)!="undefined"){if(b==null){b=window.xtn2}xt_med("F",b,a)}else{PM.Event.add(window,PM.Event.Type.STATISTICS,PM.Statistics.tagView.bindObj(window,b,a))}};PM.Statistics.tagClick=function(b,a,c){if(typeof(xt_med)!="undefined"){if(b==null){b=window.xtn2}xt_med("C",b,a,c)}else{PM.Event.add(window,PM.Event.Type.STATISTICS,PM.Statistics.tagClick.bindObj(window,b,a,c))}PM.Statistics.log("tagClick >> "+a+" (s2 = "+b+", type = "+c+")");PM.Debug.log("Tag de clic (s2 = "+b+") >> "+a,PM.Debug.Type.DEBUG)};PM.Statistics.autopromoClick=function(a){xt_ad(a);PM.Statistics.log("addAutopromoClick "+a)};PM.Statistics.autopromoView=function(a,f){if(typeof f==="undefined"){f=false}var d=false;if(window.xt_ati!=null){if(f||!window.xt_ati.match(new RegExp(PM.Util.string2Regexp(a),"i"))){window.xt_ati+=","+a;d=true}}else{window.xt_ati=a;d=true}if(d==true&&(PM.Event.getCurrentStatus()==PM.Event.Type.COMPLETE||PM.Event.getCurrentStatus()==PM.Event.Type.STATISTICS)){var c="http://logc11.xiti.com/get.ad?xts=";if(PM.Context.get("https")==true){c="https://logs11.xiti.com/get.ad?xts="}var e=c+site_niveau1;var b=new Date();e+="&ati="+a;e+="&type=AT&rn="+b.getHours()+"x"+b.getMinutes()+"x"+b.getSeconds();e+="&url="+PM.Constants.blankImg;PM.Image.load(e)}if(d){PM.Statistics.log("addAutopromoView "+a)}return d};PM.Statistics.autopromo=function(a,b){if(PM.Util.isArrayOrCollection(b)){for(var c=0;c<b.length;c++){PM.Statistics.autopromo(a,b[c])}return}PM.Event.add(b,"click",PM.Statistics.autopromoClick.bindObj(null,a));return PM.Statistics.autopromoView(a)};PM.Statistics.log=function(b,a){if(typeof(PM.Spot)!="undefined"&&typeof(PM.Spot.TrackLog)!="undefined"&&typeof(PM.Spot.TrackLog.log)!="undefined"){PM.Spot.TrackLog.log(b)}};PM.Statistics.deprecatedFunctions=function(a){PM.Statistics.tagClick(PM.Statistics.Xtn2.OTHERS,"Deprecated::"+a,PM.Statistics.Type.ACTION)};PM.Statistics.Criteria=function(){this.tag=""};PM.Statistics.Criteria.prototype.append=function(a,b){this.tag+="&"+a+"="+b};PM.Statistics.Criteria.prototype.reset=function(){this.tag=""};PM.AdServer={};PM.AdServer.createPromoBoxAjax=function(b,e,c){var a=0;var f="15937/"+c;var d=PM.Context.getFormattedCriterias();if(b.childNodes.length!=2){PM.Dom.removeChildren(b);sas_formatid=e;SmartAdServerAjax(f,c+"_"+sas_formatid,d,sas_formatid)}};PM.Statistics.Tracking={};PM.Statistics.Tracking.concat=function(b,c,a){if(a!=null){if(typeof(b)=="undefined"){b=""}b+="&";if(c!=null){b+=c+"="}b+=a}return b};var xitiTags=new Array();PM.Statistics.Tracking.writeTag=function(d,e){if(!window.xtsite){window.ajaxSpecXtpage=d;window.ajaxSpecXtn2=e}else{if(d==null){d=window.xtpage}if(e==null){e=window.xtn2}var a=window.xtparam?"&"+window.xtparam:"";var b=new Date();var c=xitiTags.length;xitiTags[c]=new Image();xitiTags[c].src=xtsd+".xiti.com/hit.xiti?s="+xtsite+"&s2="+e+"&p="+d+"&di="+a+"&hl="+b.getHours()+"x"+b.getMinutes()+"x"+b.getSeconds();PM.Debug.log("Envoi du tag XITI:"+d,PM.Debug.Type.DEBUG)}};PM.Statistics.Tracking.addAutopromoId=function(a){PM.Statistics.deprecatedFunctions("PM.Statistics.Tracking.addAutopromoId");return PM.Statistics.autopromoView(a)};PM.Statistics.Tracking.logAutopromos=function(){PM.Debug.store("Autopromos: "+window.xt_ati,PM.Debug.Type.DEBUG)};PM.Statistics.Tracking.addPublisherId=function(a){PM.Statistics.Tracking.addAutopromoId(a)};PM.Statistics.Tracking.addABTest=function(a,e,d){if(!d){d={}}this.tl=a;this.tv=e;var f="&tl="+this.tl.replace(/[ \'<>&"]/g,"_")+"&tv="+this.tv.replace(/[ \'<>&"]/g,"_");if(!d.isAfterPageLoading){if(window.xtparam!=null){window.xtparam+=f}else{window.xtparam=f}}else{var c=new Date();var b=xtsd+".xiti.com/hit.xiti?s="+xtsite+"&s2="+xtn2+f;b+="&type=AT&rn="+c.getHours()+"x"+c.getMinutes()+"x"+c.getSeconds();PM.Image.load(b);PM.Debug.log("Impression XITI de l'ABTest "+a+" : "+b,PM.Debug.Type.DEBUG)}};PM.Statistics.Tracking.computeABTestingCriteria=function(b){var a="";if(b){a+="&"+b}if(window.xtparam!=null){window.xtparam+=a}else{window.xtparam=a}};PM.Statistics.Tracking.addMVTest=function(h,g,e){var d="&abmvc="+h.id+"["+h.name.replace(/[ \'<>&"]/g,"_")+"]-"+h.wave+"-"+g.id+"["+g.name.replace(/[ \'<>&"]/g,"_")+"]";function c(){}if(window.xt_adch){c=window.xt_adch}window.xt_adch=function(){c();if(e.length>0){for(var l in e){xt_addchain(e[l].id+"["+e[l].name.replace(/[ \'<>&"]/g,"_")+"]-"+e[l].value_id+"["+e[l].value_name.replace(/[ \'<>&"]/g,"_")+"]","abmv")}}};if(!PM.Event.hasReached(PM.Event.Type.STATISTICS)){if(window.xtparam!=null){window.xtparam+=d}else{window.xtparam=d}}else{var k=xtsd+".xiti.com/hit.xiti?s="+xtsite+"&s2="+xtn2+d;var f=1;if(e.length>0){for(var b in e){if(e[b]){k+="&abmv"+f+"="+e[b].id+"["+e[b].name.replace(/[ \'<>&"]/g,"_")+"]-"+e[b].value_id+"["+e[b].value_name.replace(/[ \'<>&"]/g,"_")+"]";f++}}}var a=new Date();k+="&type=AT&rn="+a.getHours()+"x"+a.getMinutes()+"x"+a.getSeconds();k+="&url="+PM.Constants.blankImg;PM.Image.load(k)}};PM.Statistics.Tracking.debug=function(){var a={};a.xtnv=window.xtnv;a.xtsd=window.xtsd;a.xtsite=window.xtsite;a.xtn2=window.xtn2;a.xtpage=window.xtpage;a.xtdi=window.xtdi;a.xto_force=window.xto_force;a.xtparam=window.xtparam;PM.Debug.log(["Debug variables XiTi",a],PM.Debug.Type.INFO)};PM.Image={imgArray:new Array()};PM.Image.load=function(a){var b=PM.Image.imgArray.length;PM.Image.imgArray[b]=new Image();PM.Image.imgArray[b].src=a};PM.Provenance={};PM.Provenance.condamn=function(){var a=PM.Cookie.setParam("pmup","pmup_provenance",0);PM.Alert.close()};PM.Provenance.execute=function(){var f=PM.Cookie.get("pmup");if(f!=null){var e=PM.Cookie.getParam("pmup","pmup_provenance");if(e!=null&&e!=1){return}}var b=PM.Cookie.get("provenance");if(b==null){PM.Cookie.set("provenance",1)}else{return}var a=PM.Util.getNavigatorLanguage();a=a.toLowerCase();var d=false;var c=0;while(c<prov_list.length&&d!=true){if((a.indexOf(prov_list[c])!=-1)&&(navigator.userAgent.toLowerCase().indexOf("google")<=-1)){d=true}c++}if(d==true){new PM.Alert("/info/redirect_site_"+a,{isAjax:true,shutText:"",hasMargin:false,clickOutsideClose:false,width:"427px",useTable:true})}};if(!(typeof(noProvenance)!="undefined"&&noProvenance==true)){PM.Event.add(window,PM.Event.Type.INIT,PM.Provenance.execute)}PM.Event.add(window,"resize",PM.Menu.setPosition);PM.Event.add(window,"load",PM.Menu.setPosition);PM.Event.add(window,"load",PM.Util.manageFocus);PM.Flash={};if(typeof deconcept=="undefined"){var deconcept=new Object()}if(typeof deconcept.util=="undefined"){deconcept.util=new Object()}if(typeof deconcept.SWFObjectUtil=="undefined"){deconcept.SWFObjectUtil=new Object()}deconcept.SWFObject=function(o,b,p,e,l,m,g,f,d,n){if(!document.getElementById){return}this.DETECT_KEY=n?n:"detectflash";this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY);this.params=new Object();this.variables=new Object();this.attributes=new Array();if(o){this.setAttribute("swf",o)}if(b){this.setAttribute("id",b)}if(p){this.setAttribute("width",p)}if(e){this.setAttribute("height",e)}if(l){this.setAttribute("version",new deconcept.PlayerVersion(l.toString().split(".")))}this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion();if(!window.opera&&document.all&&this.installedVer.major>7){deconcept.SWFObject.doPrepUnload=true}if(m){this.addParam("bgcolor",m)}var a=g?g:"high";this.addParam("quality",a);this.setAttribute("useExpressInstall",false);this.setAttribute("doExpressInstall",false);var k=(f)?f:window.location;this.setAttribute("xiRedirectUrl",k);this.setAttribute("redirectUrl","");if(d){this.setAttribute("redirectUrl",d)}};deconcept.SWFObject.prototype={useExpressInstall:function(a){this.xiSWFPath=!a?"expressinstall.swf":a;this.setAttribute("useExpressInstall",true)},setAttribute:function(a,b){this.attributes[a]=b},getAttribute:function(a){return this.attributes[a]},addParam:function(b,a){this.params[b]=a},getParams:function(){return this.params},addVariable:function(b,a){this.variables[b]=a},getVariable:function(a){return this.variables[a]},getVariables:function(){return this.variables},getVariablePairs:function(){var c=new Array();var b;var a=this.getVariables();for(b in a){c[c.length]=b+"="+a[b]}return c},getSWFHTML:function(){var b="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn");this.setAttribute("swf",this.xiSWFPath)}b='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'"';b+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var f=this.getParams();for(var e in f){b+=[e]+'="'+f[e]+'" '}var d=this.getVariablePairs().join("&");if(d.length>0){b+='flashvars="'+d+'"'}b+="/>"}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX");this.setAttribute("swf",this.xiSWFPath)}b='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'">';b+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var c=this.getParams();for(var e in c){b+='<param name="'+e+'" value="'+c[e]+'" />'}var a=this.getVariablePairs().join("&");if(a.length>0){b+='<param name="flashvars" value="'+a+'" />'}b+="</object>"}return b},write:function(b){if(this.getAttribute("useExpressInstall")){var a=new deconcept.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(a)&&!this.installedVer.versionIsValid(this.getAttribute("version"))){this.setAttribute("doExpressInstall",true);this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl")));document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title)}}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var c=(typeof b=="string")?document.getElementById(b):b;c.innerHTML=this.getSWFHTML();return true}else{if(this.getAttribute("redirectUrl")!=""){document.location.replace(this.getAttribute("redirectUrl"))}}return false}};deconcept.SWFObjectUtil.getPlayerVersion=function(){var f=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var a=navigator.plugins["Shockwave Flash"];if(a&&a.description){f=new deconcept.PlayerVersion(a.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."))}}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var b=1;var c=3;while(b){try{c++;b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+c);f=new deconcept.PlayerVersion([c,0,0])}catch(d){b=null}}}else{try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(d){try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");f=new deconcept.PlayerVersion([6,0,21]);b.AllowScriptAccess="always"}catch(d){if(f.major==6){return f}}try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(d){}}if(b!=null){f=new deconcept.PlayerVersion(b.GetVariable("$version").split(" ")[1].split(","))}}}return f};deconcept.PlayerVersion=function(a){this.major=a[0]!=null?parseInt(a[0]):0;this.minor=a[1]!=null?parseInt(a[1]):0;this.rev=a[2]!=null?parseInt(a[2]):0};deconcept.PlayerVersion.prototype.versionIsValid=function(a){if(this.major<a.major){return false}if(this.major>a.major){return true}if(this.minor<a.minor){return false}if(this.minor>a.minor){return true}if(this.rev<a.rev){return false}return true};deconcept.util={getRequestParameter:function(c){var d=document.location.search||document.location.hash;if(c==null){return d}if(d){var b=d.substring(1).split("&");for(var a=0;a<b.length;a++){if(b[a].substring(0,b[a].indexOf("="))==c){return b[a].substring((b[a].indexOf("=")+1))}}}return""}};deconcept.SWFObjectUtil.cleanupSWFs=function(){var b=document.getElementsByTagName("OBJECT");for(var c=b.length-1;c>=0;c--){b[c].style.display="none";for(var a in b[c]){if(typeof b[c][a]=="function"){b[c][a]=function(){}}}}};if(deconcept.SWFObject.doPrepUnload){if(!deconcept.unloadSet){deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};window.attachEvent("onunload",deconcept.SWFObjectUtil.cleanupSWFs)};window.attachEvent("onbeforeunload",deconcept.SWFObjectUtil.prepUnload);deconcept.unloadSet=true}}if(!document.getElementById&&document.all){document.getElementById=function(a){return document.all[a]}}var getQueryParamValue=deconcept.util.getRequestParameter;var FlashObject=deconcept.SWFObject;var SWFObject=deconcept.SWFObject;PM.Tooltip=function(c,d,a,b){this.targetId=c;this.targetElt=$(c);this.contentId=d;this.contentElt=$(d);this.globalId=a;this.globalElt=$(a);this.positionning=PM.Util.getOption(b,"positionning",PM.Tooltip.positionning.TOP_LEFT);this.timerIn=PM.Util.getOption(b,"timerIn",100);this.timerOut=PM.Util.getOption(b,"timerOut",100);this.width=PM.Util.getOption(b,"width",PM.Tooltip.size.MEDIUM);this.updateDivId=PM.Util.getOption(b,"updateDivId",this.contentId);this.marginBottom=PM.Util.getOption(b,"marginBottom",0);this.hideTootipOnTargetClick=PM.Util.getOption(b,"hideTootipOnTargetClick",false);this.showCallMethod=b.showCallMethod;this.hideCallMethod=b.hideCallMethod;this.ajaxUrlUpdate=b.ajaxUrlUpdate;this.clickCallMethod=b.clickCallMethod;this.activeHackIeNavGrid=b.activeHackIeNavGrid;this.activeHackIeFpDesc=b.activeHackIeFpDesc;this.activeHackIeOnlyForShippingMode=b.activeHackIeOnlyForShippingMode;this.activeHackIePrdViewCount=PM.Util.getOption(b,"activeHackIePrdViewCount",null);this.printConfiguration();this.waitId="tooltip_wait";this.contentUpdated=false;this.displayed=false;this.showTimer=null;this.hideTimer=null;this.build();this.bindTo();this.clicking=false};PM.Tooltip.tooltipDisplayed=null;PM.Tooltip.tooltipWaiting=null;PM.Tooltip.size={SMALL:"tooltip_s",MEDIUM:"tooltip_m",LARGE:"tooltip_l"};PM.Tooltip.positionning={TOP_LEFT:1,TOP_MIDDLE:2,TOP_RIGHT:3,BOTTOM_LEFT:4,BOTTOM_MIDDLE:5,BOTTOM_RIGHT:6,NO_POSITION:7};PM.Tooltip.prototype.build=function(){PM.Dom.Class.remove(this.contentElt,this.width);PM.Dom.Class.add(this.contentElt,this.width);if(ie6){var b=this.contentElt;var a=PM.Dom.createElement("div");a.innerHTML='<iframe id="'+this.contentId+'_iframe" src="javascript:false;" style="width:0px; position: absolute; top:0px; left:0px; filter:alpha(opacity=0); z-index: -1; height: 0; display:none;"></iframe>';b.appendChild(a)}};PM.Tooltip.prototype.bindTo=function(){PM.Event.add(this.targetElt,"mouseover",this.mouseOverTargetDetected.bindObj(this));PM.Event.add(this.targetElt,"mouseleave",this.mouseLeaveTargetDetected.bindObj(this));PM.Event.add(this.contentElt,"mouseleave",this.mouseLeaveContentDetected.bindObj(this));PM.Event.add(this.contentElt,"mouseover",this.mouseOverContentDetected.bindObj(this));PM.Event.add(document,"click",this.testTooltipClick.bindObj(this))};PM.Tooltip.prototype.mouseOverTargetDetected=function(){if(PM.Tooltip.tooltipWaiting!=this){if(PM.Tooltip.tooltipWaiting!=null){PM.Tooltip.tooltipWaiting.killShow()}PM.Tooltip.tooltipWaiting=this}if(PM.Tooltip.tooltipDisplayed==null&&!this.isWaitingForDisplay()){PM.Tooltip.tooltipWaiting.launchShow()}else{if(PM.Tooltip.tooltipDisplayed==this&&this.isWaitingForHide()){PM.Tooltip.tooltipDisplayed.killHide()}}};PM.Tooltip.prototype.mouseLeaveTargetDetected=function(){if(PM.Tooltip.tooltipWaiting==this){PM.Tooltip.tooltipWaiting.killShow()}if(PM.Tooltip.tooltipDisplayed==this){PM.Tooltip.tooltipDisplayed.launchHide()}};PM.Tooltip.prototype.mouseLeaveContentDetected=function(){if(PM.Tooltip.tooltipDisplayed==this&&!this.isWaitingForHide()){this.launchHide()}};PM.Tooltip.prototype.mouseOverContentDetected=function(){if(this.isWaitingForHide()){this.killHide()}if(PM.Tooltip.tooltipWaiting!=null){PM.Tooltip.tooltipWaiting.killShow()}};PM.Tooltip.prototype.isWaitingForDisplay=function(){return this.showTimer!=null};PM.Tooltip.prototype.isWaitingForHide=function(){return this.hideTimer!=null};PM.Tooltip.prototype.launchShow=function(){this.showTimer=setTimeout(this.show.bindObj(this),this.timerIn)};PM.Tooltip.prototype.clickOnTargetDetected=function(a){if(a.button==2){return}PM.Util.preventDefault(a);if(this.hideTootipOnTargetClick&&(this.displayed)){if(this.isWaitingForHide()){this.killHide()}this.hide()}else{PM.Tooltip.tooltipWaiting=this;this.show()}};PM.Tooltip.prototype.clickOnTooltipDetected=function(a){if(a.button==2){return}if(this.clickCallMethod&&!this.clicking){PM.Util.preventDefault(a);this.clicking=true;this.clickCallMethod.apply(null);this.clicking=false}};PM.Tooltip.prototype.killShow=function(){PM.Tooltip.tooltipWaiting=null;clearTimeout(this.showTimer);this.showTimer=null};PM.Tooltip.prototype.killHide=function(){clearTimeout(this.hideTimer);this.hideTimer=null};PM.Tooltip.prototype.launchHide=function(){if(this.displayed){this.hideTimer=setTimeout(this.hide.bindObj(this),this.timerOut)}};PM.Tooltip.prototype.testTooltipClick=function(c){var a=PM.Util.getElementFromEvent(c);var b=0;while(PM.Dom.parent(a)!=null){if(a.id==this.targetId){this.clickOnTargetDetected(c);return}else{if(a.id==this.contentId){this.clickOnTooltipDetected(c);return}else{a=PM.Dom.parent(a)}}}if(this.isWaitingForHide()){this.killHide();this.hide()}};PM.Tooltip.prototype.displayInPage=function(){var a=parseInt(this.contentElt.offsetWidth);var m=parseInt(this.contentElt.offsetHeight);var k=parseInt(this.targetElt.offsetWidth);var h=parseInt(this.targetElt.offsetHeight);var g=parseInt(this.globalElt.offsetWidth);var b=parseInt(this.globalElt.offsetHeight);var l=PM.Util.absolutePosition(this.globalElt);var n=parseInt(l[0]);var e=parseInt(l[1]);var f=0;var d=0;if(this.positionning==PM.Tooltip.positionning.TOP_LEFT){f=0;d=0-m-this.marginBottom}else{if(this.positionning==PM.Tooltip.positionning.TOP_MIDDLE){f=0-((a/2)-(g/2));d=0-m-this.marginBottom}else{if(this.positionning==PM.Tooltip.positionning.TOP_RIGHT){f=0-(a-g);d=0-m-this.marginBottom}}}if(this.positionning==PM.Tooltip.positionning.BOTTOM_LEFT){f=0;d=b+this.marginBottom}else{if(this.positionning==PM.Tooltip.positionning.BOTTOM_MIDDLE){f=0-((a/2)-(g/2));d=b+this.marginBottom}else{if(this.positionning==PM.Tooltip.positionning.BOTTOM_RIGHT){f=0-(a-g);d=b+this.marginBottom}}}if((n+f)<0){f=0}if(ie6){var c=$(this.contentId+"_iframe");c.style.top=(0-this.marginBottom)+"px";c.style.left=0+"px";c.style.width=a+"px";c.style.height=m+"px";c.style.display="block"}this.contentElt.style.left=f+"px";this.contentElt.style.top=d+"px"};PM.Tooltip.prototype.show=function(){this.showTimer=null;if(PM.Tooltip.tooltipDisplayed!=null||PM.Tooltip.tooltipWaiting==null){return}PM.Tooltip.tooltipDisplayed=this;this.displayed=true;PM.Tooltip.tooltipWaiting=null;PM.Dom.Class.remove(this.globalElt,"tooltip_inactive");PM.Dom.Class.add(this.globalElt,"tooltip_active");if(this.ajaxUrlUpdate&&!this.contentUpdated){PM.Ajax.request(this.ajaxUrlUpdate,this.fillContent.bindObj(this),{waitId:PM.Tooltip.waitId})}if(this.activeHackIeFpDesc&&ie){this.installHackIeOnlyForFpDesc(true)}if(ie6||ie7){if(this.activeHackIeNavGrid){this.installHackIeOnlyForNavGrid(true)}if(this.activeHackIeOnlyForShippingMode){this.installHackIeOnlyForShippingMode(true)}if(this.activeHackIePrdViewCount!=null){this.hackIeOnlyForPrdViewCount(true)}}if(this.positionning!=PM.Tooltip.positionning.NO_POSITION){this.displayInPage()}if(this.showCallMethod){this.showCallMethod.apply(null)}};PM.Tooltip.prototype.fillContent=function(a){var b=a.XmlHttpObject.responseText;$(this.updateDivId).innerHTML=b;this.contentUpdated=true;if(this.positionning!=PM.Tooltip.positionning.NO_POSITION){this.displayInPage()}};PM.Tooltip.prototype.hide=function(){this.hideTimer=null;if(PM.Tooltip.tooltipDisplayed==this||this.displayed){PM.Tooltip.tooltipDisplayed=null;this.displayed=false;if(PM.Tooltip.tooltipWaiting!=null){PM.Tooltip.tooltipWaiting.show();PM.Tooltip.tooltipWaiting=null}PM.Dom.Class.remove(this.globalElt,"tooltip_active");PM.Dom.Class.add(this.globalElt,"tooltip_inactive");if(this.activeHackIeFpDesc&&ie){this.installHackIeOnlyForFpDesc(false)}if(ie6||ie7){if(this.activeHackIeNavGrid){this.installHackIeOnlyForNavGrid(false)}if(this.activeHackIeOnlyForShippingMode){this.installHackIeOnlyForShippingMode(false)}if(this.activeHackIePrdViewCount!=null){this.hackIeOnlyForPrdViewCount(false)}}if(this.hideCallMethod){this.hideCallMethod.apply(null)}}};PM.Tooltip.prototype.installHackIeOnlyForNavGrid=function(b){var a=this.globalElt;while(PM.Dom.parent(a)!=null){if(a.className.match("announce_blk")){if(b){PM.Dom.Class.add(a,"announce_blk_ttip_active")}else{PM.Dom.Class.remove(a,"announce_blk_ttip_active")}return}else{a=PM.Dom.parent(a)}}};PM.Tooltip.prototype.installHackIeOnlyForShippingMode=function(c){var b=this.targetId.split("_");if(PM.Tooltip.tooltipDisplayed!=null&&!c){return}var e=$j(".announce_blk","#seller_package_"+b[2]);for(i=0;i<e.length;i++){if(c){PM.Dom.Class.add(e[i],"announce_blk_hide")}else{PM.Dom.Class.remove(e[i],"announce_blk_hide")}}var d=$j("#extra2 .blk_st");for(i=0;i<d.length;i++){var a=d[i];if(c){a.style.position="relative";a.style.zIndex="-1"}else{a.style.zIndex=""}}};PM.Tooltip.prototype.installHackIeOnlyForFpDesc=function(c){var a=this.globalElt;var b=PM.Dom.parent(a);if(b!=null){PM.Debug.log(c);if(c){PM.Dom.Class.remove(b,"pm_ie")}else{PM.Dom.Class.add(b,"pm_ie")}}};PM.Tooltip.prototype.hackIeOnlyForPrdViewCount=function(b){var a=this.globalElt;var c=PM.Dom.parent(PM.Dom.parent(PM.Dom.parent(PM.Dom.parent(PM.Dom.parent(a)))));if(c&&c.className&&c.className.indexOf("item")!=-1){if(b){PM.Dom.Class.add(c,"item_cmptr")}else{PM.Dom.Class.remove(c,"item_cmptr")}}};PM.Tooltip.prototype.printConfiguration=function(){PM.Debug.log("Conf "+this.globalId+": pos="+this.positionning+", timerIn="+this.timerIn+", timerOut="+this.timerOut+", width="+this.width+", updateDivId="+this.updateDivId+", marginBottom="+this.marginBottom,PM.Debug.Type.DEBUG)};