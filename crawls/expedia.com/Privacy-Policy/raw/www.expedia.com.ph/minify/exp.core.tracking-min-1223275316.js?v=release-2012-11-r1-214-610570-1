var SEO_SOURCES={"www.google.":[true,null],"search.yahoo.com":[true,null],"wrs.yahoo.com":[true,null],"rc12.overture.com":[true,false],"bing.com/search":[true,null],"terra.es":[true,null],"ya.com":[true,null],"ricerca.virgilio.it":[true,null],"iltrovatore.it":[true,null],"213.215.201.230":[true,null],"orange.fr":[true,null],"lycos.":[true,null],"ask.com":[true,null],"search.aol.":[true,null],"askjeeves.":[true,null],"myway.com":[true,null],"altavista":[true,null],"baidu":[true,null]};var CHANNEL_TYPES=["AFF","OLA","EML","MDP","SEM","OFF","MSN","ICM","SEO","AFM"];function tracking_array_contains(b,c){var a=b.length;while(a--){if(b[a]===c){return true;}}return false;}ClearMediaCookieIfItIsTickSeparated();var tpid=GetP1CookieTpid();var eapid=GetCookieValue("iEAPID",0);var ChannelType="";var ChannelID="";var ASPPersistentCookie="";if(!GetASPPersistentCookie()>""){SetASPPersistentCookie("v.1,0||||||||||||");}var previousChannelID=GetCookieValue("aspp",1,"|");var previousChannelType=GetCookieValue("aspp",10,"|");var referrerAddress=document.referrer;if(referrerAddress!=""){if(previousChannelID.slice(0,3).toLowerCase()!="wpk"&&(tpid==20||previousChannelType.toLowerCase()!="aff")){var clearSeocid=false;var clearCookie=false;for(var site in SEO_SOURCES){if(referrerAddress.toLowerCase().indexOf(site)>-1){clearSeocid=SEO_SOURCES[site][0];if(SEO_SOURCES[site][1]==null){clearCookie=(referrerAddress.toLowerCase().indexOf("semcid")==-1);}else{clearCookie=SEO_SOURCES[site][1];}}}if(clearCookie){SetASPPersistentCookie("v.1,0||||||||||||");}if(clearSeocid){var urlAndQueryAttributes=window.location.toString().split("?");if(urlAndQueryAttributes.length>1){var url=urlAndQueryAttributes[0];var queryAttributes=urlAndQueryAttributes[1].split("&");var relocate=false;for(var index=0;index<queryAttributes.length;index++){if(queryAttributes[index].toLowerCase().indexOf("seocid")==-1){url+=(index==0)?"?":"&";url+=queryAttributes[index];}else{relocate=true;}}if(true==relocate){window.location=url;}}}}}var ChannelType=GetChannelType();if(ChannelType>""){ChannelID=GetChannelID(ChannelType+"CID");if((ChannelID>"")){ASPPersistentCookie=GetASPPersistentCookie();if(!ASPPersistentCookie>""){SetASPPersistentCookie("v.1,0||||||||||||");ASPPersistentCookie=GetASPPersistentCookie();}if(!IsLockedCode(previousChannelType,previousChannelID,ChannelType,ChannelID)){var expires=new Date(new Date().setTime(new Date().getTime()+30*24*60*60*1000));var expYear=expires.getFullYear().toString();var expMonth=(expires.getMonth()+1).toString();if(expMonth.length<2){expMonth="0"+expMonth;}var expDay=expires.getDate().toString();if(expDay.length<2){expDay="0"+expDay;}var ChannelExpiry=expYear+expMonth+expDay;var ASPPValues=ASPPersistentCookie.split("|");ASPPValues[1]=ChannelID;ASPPValues[10]=ChannelType;ASPPValues[11]=ChannelExpiry;ASPPersistentCookie="";for(i=0;i<ASPPValues.length;i++){ASPPersistentCookie+=ASPPValues[i]+"|";}ASPPersistentCookie=ASPPersistentCookie.substring(0,ASPPersistentCookie.length-1);SetASPPersistentCookie(ASPPersistentCookie);}}}if(location.search.indexOf("cntrkrdebug")>-1){alert("Previous Channel Type: "+previousChannelType+"\n Previous Channel ID: "+previousChannelID+"\n Current Channel Type: "+ChannelType+"\n Current Channel ID: "+ChannelID+"\n Cookie value: "+GetASPPersistentCookie());}function GetChannelType(){var d=location.search.substring(1).toUpperCase();if(d==""){var a=window.location.toString().split("?");if(a.length<2){a=window.location.toString().split("#");}if(a.length>=2){d=a[1];}}if(d==""){d=document.referrer.substring(document.referrer.indexOf("?")+1);}var c=d.toUpperCase().indexOf("CID=");if(c>=3){var b=d.substr(c-3,3).toUpperCase();if(!tracking_array_contains(CHANNEL_TYPES,b)){if(d.indexOf("CID=")!=d.lastIndexOf("CID=")){return(d.substr(d.lastIndexOf("CID=")-3,3));}else{return("");}}else{return(b);}}return("");}function IsLockedCode(a,c,b,d){return(c.slice(0,3)=="wpk"&&d.slice(0,3)!="wpk");}function GetChannelID(b){var d=(location.search.substring(1));if(d==""){var a=window.location.toString().split("?");if(a.length<2){a=window.location.toString().split("#");}if(a.length>=2){d=a[1];}}if(d==""){d=document.referrer.substring(document.referrer.indexOf("?")+1);}var c=d.toUpperCase().indexOf(b.toUpperCase()+"=");if(c>=0){d=d.substring(b.length+c+1);c=d.indexOf("&");d=d.substring(0,(c>=0)?c:d.length);return escape(d);}return("");}function GetASPPersistentCookie(){var c=document.cookie.indexOf("aspp=");var a=c+5;if((!c)&&("aspp"!=document.cookie.substring(0,4))){return null;}if(c==-1){return null;}var b=document.cookie.indexOf(";",a);if(b==-1){b=document.cookie.length;}return document.cookie.substring(a,b);}function SetASPPersistentCookie(c){var a=new Date(new Date().setTime(new Date().getTime()+5*365*24*60*60*1000));var b=location.href.match(/:\/\/(www\.)?([^\/:]+)/);if(b>""){b=b[2]?b[2]:"";document.cookie=escape("aspp")+"="+c+"; expires="+a.toGMTString()+"; domain=."+b+"; path=/";}else{document.cookie=escape("aspp")+"="+c+"; expires="+a.toGMTString()+"; path=/";}}function GetCookieValue(h,c,f){if(f==null){f=",";}h=h+"=";var g=document.cookie.indexOf(h);var a=g+h.length;if((!g)&&(h!=document.cookie.substring(0,h.length))){return"";}if(g==-1){return"";}var b=document.cookie.indexOf(";",a);if(b==-1){b=document.cookie.length;}var e=document.cookie.substring(a,b);var d=e.split(f);if(d[c]!=null){return d[c];}else{return null;}}function GetP1CookieTpid(){var c="p1=";var f=document.cookie.indexOf(c);var a=f+c.length;if(f==-1){return GetCookieValue("tpid",1);}var b=document.cookie.indexOf(";",a);if(b==-1){b=document.cookie.length;}var d=(document.cookie.substring(a,b)).split("`");for(var e=0;e<d.length;e++){if(d[e].indexOf("tpid")!=-1){return d[e].split(",")[1];}}}function ClearMediaCookieIfItIsTickSeparated(){var g="p1=";var a=document.cookie.indexOf(g);var j=a+g.length;if(a==-1){var c="MediaCookie=";var k=document.cookie.indexOf(c);if(k>=0){var j=k+c.length+1;var d=document.cookie.indexOf(";",j);if(d==-1){d=document.cookie.length;}var f=j+1;if(f<d){var h=document.cookie.substring(j,f);if(h=="`"){var b=new Date(new Date().setTime(new Date().getTime()));var e=location.href.match(/:\/\/(www\.)?([^\/:]+)/);if(e>""){e=e[2]?e[2]:"";document.cookie=c+"; expires="+b.toGMTString()+"; domain=."+e+"; path=/";}}}}}}
/*!  generated on 2012-11-14 05:11:42.481 PST(-0800) in 0 ms  */

/*!  served in 0 ms  */
