var PushAd={push_ads:{},counter:{},timers:{},init:function(a){this.push_ads=a;this.firstRun()},firstRun:function(){$(".mc-push").each(function(a){var b=$(this);var c=b.attr("id").split("-");PushAd.counter[b.attr("id")]=c[1];PushAd.showAds(b.attr("id"))})},showAds:function(g){var e=$("#"+g);var d=false;if(e.attr("id")==g){var b=e.attr("data-type");if(typeof PushAd.push_ads[b]=="undefined"){return}if(!PushAd.counter[g]||parseInt(PushAd.counter[g])+1>PushAd.push_ads[b].length){PushAd.counter[g]=0}if(PushAd.push_ads[b][PushAd.counter[g]]){d=PushAd.push_ads[b][PushAd.counter[g]];if(d.token==b){var c="_self";var a=new RegExp(location.host+"|/games/");if(!a.test(d.url)){c="_blank"}var f=d.token+"/"+d.image_file;e.html('<a href="'+d.url+'" data-track="'+f+'" id="ad-'+d.push_ad_id+'" class="ad-image" target="'+c+'"><span class="icon-wrap"><img src="'+static_path+"content/push-ads/"+d.push_ad_type_id+"/"+d.image_file+'" alt="'+d.image_file+'" /></span></a>');if(d.is_tracked==1){statTracker("/push-adserver/view/"+f)}$(".ad-image").unbind("click").click(function(){statTracker("/push-adserver/click/"+$(this).attr("data-track"))});if(d.keep_visible==1){PushAd.push_ads[b].splice(PushAd.counter[g],1);clearTimeout(this.timers[g])}else{PushAd.counter[g]=parseInt(PushAd.counter[g])+1}}}}if(!d||(d&&d.keep_visible==0)){this.timers[g]=setTimeout(function(){PushAd.showAds(g)},e.attr("data-refresh"))}return false}};$(function(){$(".mc-push-ab").each(function(){var a=$(this).find("img");statTracker("/push-ad-ab-test/view/"+a.attr("src"));$(this).click(function(){statTracker("/push-ad-ab-test/click/"+a.attr("src"))})})});