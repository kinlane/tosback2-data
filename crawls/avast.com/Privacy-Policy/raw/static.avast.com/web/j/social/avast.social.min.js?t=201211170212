/**
 * @name Avast MKT social plugin
 * @version 1.1.6
 * @copyright AVAST Software a.s.
 * @author Mirek Ratman, Richard Barry
 * @since 2012-05-20
 * @updated 2012-07-30 by Mirek Ratman
 * @requires jquery v1.7, jquery.cookie.js plugin
 */
//Set main avast object if not exists. Plugin can work separatelly.
if(typeof avast==='undefined'){var avast={}}if(typeof jQuery!=='undefined'&&typeof avast!=='undefined'&&typeof jQuery.cookie!=='undefined'){avast.social=avast.prototype={conf:{enabled:true,minWidth:1280,cookieName:'avast.social.cookie',cookieExpireTime:30,mainSocialId:'socialClicks',mainSocialWidth:90,mainSocialMinWidth:25,imgBackground:'http://static.avast.com/web/j/social/i/bg-social-shadow.png',imgOpenClose:'http://static.avast.com/web/j/social/i/btn-slide.jpg'},display:function(){if(parseInt($.browser.version,10)<=6){return}if(avast.social.conf.enabled===false){return}var initArrow='0 -33px';if(!$.cookie(avast.social.conf.cookieName)||$.cookie(avast.social.conf.cookieName)=='1'){initArrow='0 0'}(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src="//connect.facebook.net/en_GB/all.js#xfbml=1";fjs.parentNode.insertBefore(js,fjs)}(document,'script','facebook-jssdk'));var vSocialSidebar=$('<div>').attr('id',avast.social.conf.mainSocialId).css({'width':avast.social.conf.mainSocialWidth,'height':'310px','position':'fixed','top':'160px','right':-1*avast.social.conf.mainSocialWidth}).append($('<div>').attr('id','social-box-top').css({'background':'url("'+avast.social.conf.imgBackground+'") no-repeat','background-position':'0 0','width':'90px','height':'70px'})).append($('<div>').attr('id','social-box-middle').append($('<div>').attr('id','social-box-middle-right').css({'float':'right','width':'58px','margin':'0 5px 0 0'}).append($('<div>').addClass('facebook').css({'margin':'0 0 10px 7px','height':'62px'}).append($('<iframe>').attr('src',"//www.facebook.com/plugins/like.php?href=http://www.facebook.com/avast&send=false&layout=box_count&show_faces=false&action=like&colorscheme=light&font").attr('scrolling','no').attr('frameborder','0').attr('style','border:none').attr('overflow','hidden').attr('allowTransparency','true').attr('height','62px').attr('width','50px')).append($('<div>').attr('id','fb-root'))).append($('<div>').addClass('google').css({'margin':'0 0 10px 4px','height':function(){if($.browser.msie&&parseInt($.browser.version,10)<=7){return '0'}else{return '62px'}}}).html(function(){var gpTag=document.createElement('g:plusone');return $(gpTag).attr('size','tall')})).append($('<div>').addClass('twitter').css({'margin':'0 0 0 0','height':'62px'}).html($('<a>').attr('href','https://twitter.com/share').attr('data-count','vertical').addClass('twitter-share-button').text('Tweet')))).css({'background':'url("'+avast.social.conf.imgBackground+'") repeat-y','background-position':'-200px 0','position':'relative','padding-bottom':'22px','height':function(){var h=0;$(this).children().children().each(function(){if($(this).height()>0){h+=$(this).height()}});return h}}).append($('<a>').addClass('sliderButton').attr('data-shown',$.cookie(avast.social.conf.cookieName)).attr('data-clicked',$.cookie(avast.social.conf.cookieName)).css({'position':'absolute','top':'50%','float':'left','width':'14px','height':'33px','margin-top':'-15px','margin-left':'9px','display':'block','background':'url("'+avast.social.conf.imgOpenClose+'") no-repeat','background-position':initArrow}).on('mouseup',function(){var gInsTag=$('.gc-bubbleDefault').parent('div').next('ins');$(this).attr('data-clicked',1);if($(this).attr('data-shown')===undefined||$(this).attr('data-shown')=='1'){gInsTag.hide();avast.social.scTrack(0);$('#'+avast.social.conf.mainSocialId).animate({right:-1*avast.social.conf.mainSocialWidth+avast.social.conf.mainSocialMinWidth},500);$(this).css('background-position','0 -33px').attr('data-shown',0)}else{gInsTag.show();avast.social.scTrack(1);$('#'+avast.social.conf.mainSocialId).animate({right:0},500);$(this).css('background-position','0 0').attr('data-shown',1)}$.cookie(avast.social.conf.cookieName,$(this).attr('data-shown'),avast.social.conf.cookieExpireTime)})).append($('<div>').css({'clear':'both'}))).append($('<div>').attr('id','social-box-bottom').css({'background':'url("'+avast.social.conf.imgBackground+'") no-repeat','background-position':'-100px 0','width':'90px','height':'70px'})).appendTo('body');$(window).on('resize',avast.social.handleResize);avast.social.handleLoad();if($.browser.msie){if(parseInt($.browser.version,10)>7){(function(){var po=document.createElement('script');po.type='text/javascript';po.async=true;po.src='https://apis.google.com/js/plusone.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(po,s)})()}}else{(function(){var po=document.createElement('script');po.type='text/javascript';po.async=true;po.src='https://apis.google.com/js/plusone.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(po,s)})()}!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="http://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs)}}(document,"script","twitter-wjs")},handleLoad:function(){setTimeout(function(){var right=0;$('.sliderButton').css('background-position','0 0');if($.cookie(avast.social.conf.cookieName)==0){right=-1*avast.social.conf.mainSocialWidth+avast.social.conf.mainSocialMinWidth;$('.sliderButton').css('background-position','0 -33px')}else{if($(window).outerWidth()<avast.social.conf.minWidth){right=-1*avast.social.conf.mainSocialWidth+avast.social.conf.mainSocialMinWidth;$('.sliderButton').css('background-position','0 -33px')}}$('#socialClicks').animate({right:right},500)},3000)},handleResize:function(){if($('.sliderButton').attr('data-clicked')!=1){var right=0;$('.sliderButton').css('background-position','0 0');if($(window).outerWidth()<avast.social.conf.minWidth){right=-1*avast.social.conf.mainSocialWidth+avast.social.conf.mainSocialMinWidth;$('.sliderButton').css('background-position','0 -33px')}else{if($.cookie(avast.social.conf.cookieName)==0){right=-1*avast.social.conf.mainSocialWidth+avast.social.conf.mainSocialMinWidth}}$('#socialClicks').stop().animate({right:right},500)}},scTrack:function(ev,evar){if(typeof(s)!=="undefined"&&typeof(ev)!=="undefined"){var evList={0:'event13',1:'event14'};var evarList={0:'New User'};s.linkTrackVars="events,eVar43";s.linkTrackEvents=s.events=evList[ev];if(typeof(evar)!=="undefined"){s.evar43=evarList[evar]}s.tl(true,'o','D=pageName');s.linkTrackEvents=s.events=null}}}}