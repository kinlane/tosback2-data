(function(b,a,c,e){var d=(function(f){f.Personalization=(function(){var j=[2],H="",v=false,I="",w="";var q=true;var D=true;var r=new Array(0);var u=false;var Q=(propertyValues.reviewsMasterSwitch=="ON")?true:false;var X=new Object();var x="<h4 class='a200'>{HEADLINE}</h4>"+"<div class='perpage'>{PAGES}</div>"+"<div class='b201'>"+"{CURRENTHTML}"+"<div>"+"{CONTENT}"+"</div>"+"</div>";function J(aa){aa.data("prevButton",aa.find("div.prevButton a:first"));aa.data("nextButton",aa.find("div.nextButton a:first"));aa.data("prevButton").click(function(ab){ab.preventDefault();k(aa,0,-1);});aa.data("nextButton").click(function(ab){ab.preventDefault();k(aa,0,1);});aa.data("nextButton").mouseover(function(){P(aa,0,1);});}function n(ac){var aa,ab="",ad;ac.data("pageStatus").find("li a").click(function(ae){ae.preventDefault();ab=c(this).html();ad=parseInt(ab);aa=ac.data("currentPage");if(ad==aa||ab=="&#133;"){return false;}k(ac,ad,0);});ac.data("pageStatus").find("li a").mouseover(function(){ab=c(this).html();ad=parseInt(ab);aa=ac.data("currentPage");if(ad==aa||ab=="&#133;"){return false;}P(ac,ad,0);});}function V(ad){var ac=1,aa=ad.data("maxpages"),ae='<ul class="pageStatus">',ab='<li class="ellipsis" style="display:none"><a href="#">&#133;</a></li>';if(aa<2){return false;}ae+='<li class="first active"><a href="#">1</a></li>';ae+=ab;for(ac=2;ac<aa;ac++){ae+='<li><a href="#">'+ac+"</a></li>";}ae+=ab;ae+='<li class="last"><a href="#">'+ac+"</a></li>";ae+='</ul><span class="note"></span>';ad.data("pageStatus",ad.find("div.perpage:first"));ad.data("pageStatus").html(ae);g(ad);n(ad);if(aa>10){E(ad);}}function B(){var ad=Math.floor(Math.random()*1000000000000000)+"";var ac=new Date();var ae=ac.getFullYear()+"";var af=(ac.getMonth()+1)+"";var ab=ac.getDate()+"";var aa=ac.getHours()+"";ad="res"+ae.substring(2)+G(af,2)+G(ab,2)+G(aa,2)+ad;return ad;}function g(af){var ag,ac=af.data("carwide"),ad=af.data("currentPage"),ae,aa,ab;ab=(ac*ad)-1;ae=ab-ac+1;if(ab>af.data("size")-1){ab=af.data("size")-1;}if(af.attr("id")==="item_box"){if(af.data("size")===1){aa=" "+propertyValues.CartItem;}else{aa=" "+propertyValues.CartItems;}ag=(af.data("size")+aa);}else{ag=propertyValues.Carousel.carouselitemcounter;ag=ag.replace(/\{0\}/g,(ae+1));ag=ag.replace(/\{1\}/g,(ab+1));ag=ag.replace(/\{2\}/g,af.data("size"));}af.data("pageStatus").find(".note").html(ag);}function S(ac,ab){var af=ac.data("pageStatus").find(".active").index();var ae=ac.data("pageStatus");var ad=ac.data("maxpages")+1;var aa=ac.attr("id");ab--;if(ab>0){ab++;}if(ab==ad-1){ab++;}if(af==ab){return false;}ae.find(".active").removeClass("active");ae.find("li").eq(ab).addClass("active");if(ad-1>10){E(ac);}}function E(ab){var ad=ab.data("pageStatus"),af=ab.data("pageStatus").find(".active").index(),ae=af-3,ac=ab.data("maxpages")+1;if(ac-1<=10){return false;}ad.find("li").hide();if(ae<0){ae=0;}if(ae+7>ac){ae=ac-7;}for(var aa=ae;aa<7;aa++){ad.find("li").eq(aa).show();}ad.find("li").eq(0).show();ad.find("li").eq(-1).show();ad.find(".ellipsis").hide();if(ae<2){ad.find("li").eq(7).show();}if(ae+6>ac-2){ad.find("li").eq(ac).show();}if(ae>2){ad.find("li").eq(1).show();}if(ae+6<ac-2){ad.find("li").eq(-2).show();}}function R(aa){if(typeof(propertyValues.personalizationSwitch)!=="undefined"&&propertyValues.personalizationSwitch!=null&&propertyValues.personalizationSwitch!="ON"&&propertyValues.personalizationSwitch!="on"){return;}if(aa.indexOf("&pageId")==-1){aa+="&pageId="+w;}if(aa.indexOf("&pageType")==-1){aa+="&pageType="+H;}Z(aa);}function Z(aa){if(typeof(propertyValues.personalizationSwitch)!=="undefined"&&propertyValues.personalizationSwitch!=null&&propertyValues.personalizationSwitch!="ON"&&propertyValues.personalizationSwitch!="on"){return;}if(!v){I=aa;Y(I);I="";v=true;}else{Y(aa);}}function s(aa,ab){if(!v){j[0]=aa;j[1]=ab;o(j[0],j[1]);v=true;}else{o(aa,ab);}}function G(aa,ab){var ac=aa+"";while(ac.length<ab){ac="0"+ac;}return ac;}function y(aa){if(debugMode!=null&&debugMode=="true"){r.push(aa);c("#debug").append("<br />"+aa);}}function Y(ad){var ab="";var ae=(new Date()).getTime(),aa;try{c.ajax({url:ad,type:"GET",dataType:"xml",timeout:propertyValues.ajaxTimeout,error:function(){y("Personalization: timeout or xml parse error on "+ad);ab="Personalization: timeout or xml parse error";doOmnitureErrorTracking("loadPersonalized_worker",ab);},success:function(ag){aa=(new Date()).getTime();c(a).ready(function(){K(ag);});if(q){var af=aa-ae;y("PerfForLoadPersonalized ="+af);}}});}catch(ac){y("Personalization: invalid return on "+ad);ab="Personalization: timeout or xml parse error";doOmnitureErrorTracking("loadPersonalized_worker",ab);}}function K(ac){var ab=c(ac).find("timestamp").text();u=(c(ac).find("pricingLinkSwitch").text()=="ON")?true:false;if(debugMode!=null&&debugMode=="true"){var aa=c(ac).find("fragmentsource").text();c("#bmsging > ul").append("<li>"+propertyValues.Personalization.source+aa+"</li>");}c(ac).find("scheme").each(function(){var aq=c(this).attr("id");aq=aq.replace(/_data$/,"");X[aq]=c("#"+aq);var aj=X[aq].html();X[aq].addClass("hide");if(X[aq].hasClass("carousel")){var ar="<div class='prevButton'><a href='#'>"+propertyValues.Carousel.previous+"</a></div>"+"<div class='nextButton'><a href='#'>"+propertyValues.Carousel.next+"</a></div>"+"<h4 class='a200'>{HEADLINE}</h4>"+"<div class='perpage'></div>"+"<div class='b201'>"+"{CURRENTHTML}"+"{CONTENT}"+"<span class='footline'>{FOOTLINE}</span>"+"</div>"+"<hr /><div class='carouselStatus'></div>";X[aq].html(l(ar,c(this).find("headline").text(),aj,c(this).find("content").text(),c(this).find("footline").text()));o(aq,u);}else{if(X[aq].hasClass("feature")&&X[aq].hasClass("hero")){var ar="<h4 class='a200'>{HEADLINE}</h4>"+"<div class='b201'>"+"{CURRENTHTML}"+"<div class='heroleft'></div>"+"<div class='heroright'>"+"{CONTENT}"+"</div>"+"</div>";X[aq].html(l(ar,c(this).find("headline").text(),aj,c(this).find("content").text()));X[aq].find("div.p01:not(:has(h4))").remove();var an=X[aq].find("div.heroleft:first");an.append(X[aq].find("div.p01:first"));an.find("img:first").addClass("hero");var ai=X[aq].attr("class").match("c(\\d+)");if(ai){X[aq].data("carwide",parseInt(ai[1])-1);}else{X[aq].data("carwide",1);}var ap=X[aq].find("div.heroright");var ao=X[aq].attr("class").match("r(\\d+)");if(ao){X[aq].data("carrows",parseInt(ao[1]));}else{X[aq].data("carrows",0);}if(X[aq].data("carwide")>1&&X[aq].data("carrows")>0){var au=(X[aq].data("carwide")*X[aq].data("carrows"))-1;ap.find("div.p01:gt("+au+")").remove();}X[aq].data("p01s",X[aq].find("div.p01"));X[aq].data("size",X[aq].data("p01s").size());ap.find("div.p01:nth-child("+(X[aq].data("carwide"))+"n)").after("<hr />");ap.find("hr:last-child").remove();if(X[aq].data("size")>=1){X[aq].removeClass("hide");i(X[aq],0,-1,0,-1);if(X[aq].data("carwide")>1){ap.data("p01s",ap.find("div.p01"));ap.data("carwide",X[aq].data("carwide"));ap.data("maxpages",Math.ceil((X[aq].data("size")-1)/ap.data("carwide")));U(ap);}}else{y("Personalization: no products on "+aq);}}else{if(X[aq].hasClass("feature")&&X[aq].hasClass("recommended")){var ar="<form id='skuForm_"+aq+"' method='post' action='' name='skuForm_"+aq+"'>"+"<h4 class='a200'>{HEADLINE}</h4>"+"<div class='b201'>";c("#certona_replace_header").html(c(this).find("headline").text());if(typeof(bothtabs)!="undefined"){c("#saheader").removeClass("current noSwitch");c("#certona_replace_header").removeClass("hide");c("#certona_replace_header").addClass("current");c("#supplies").removeClass("show");c("#supplies").addClass("hide");c("#certona").removeClass("hide");c("#certona").addClass("current");}ar+="{CURRENTHTML}"+"<div>"+"{CONTENT}"+"</div>"+"</div>"+"</form>";var am="<div class='recommendedaddtocart'><a class='d01' href='#' onclick='addPersonalizedToCart(\""+propertyValues.POST_DOMAIN+'StaplesAddToCart?ST_viewFrom=sku&langId=-1&storeId=10001&URL=yourorder&catalogId=10051", "skuForm_'+aq+"\"); return false;'>"+propertyValues.addtocart+"</a></div>";X[aq].html(l(ar,c(this).find("headline").text(),aj,c(this).find("content").text()));X[aq].find("div.p01:not(:has(h4))").remove();X[aq].data("p01s",X[aq].find("div.p01"));X[aq].data("p01s").wrapInner("<div class='recommendedleft'></div>");X[aq].data("size",X[aq].data("p01s").size());var ai=X[aq].attr("class").match("c(\\d+)");if(ai){X[aq].data("carwide",parseInt(ai[1])-1);}else{X[aq].data("carwide",1);}if(X[aq].data("size")>=1){X[aq].removeClass("hide");i(X[aq],0,-1,0,-1);}else{y("Personalization: no products on "+aq);}}else{if(X[aq].hasClass("feature")){var ar=x;X[aq].html(l(ar,c(this).find("headline").text(),aj,c(this).find("content").text()));X[aq].find("div.p01:not(:has(h4))").remove();var ai=X[aq].attr("class").match("c(\\d+)");if(ai){X[aq].data("carwide",parseInt(ai[1]));}else{X[aq].data("carwide",1);}var ao=X[aq].attr("class").match("r(\\d+)");if(ao){X[aq].data("carrows",parseInt(ao[1]));}else{X[aq].data("carrows",0);}if(X[aq].data("carwide")>1&&X[aq].data("carrows")>0){var au=(X[aq].data("carwide")*X[aq].data("carrows"))-1;X[aq].find("div.p01:gt("+au+")").remove();}X[aq].data("p01s",X[aq].find("div.p01"));X[aq].data("size",X[aq].data("p01s").size());if(X[aq].data("carwide")>1){X[aq].find("div.p01:nth-child("+X[aq].data("carwide")+"n)").after("<hr />");X[aq].find("div.b201 hr:last-child").remove();}if(X[aq].data("size")>=1){X[aq].removeClass("hide");i(X[aq],0,-1,0,-1);if(X[aq].data("carwide")>1){X[aq].data("maxpages",Math.ceil(X[aq].data("size")/X[aq].data("carwide")));U(X[aq]);}}else{y("Personalization: no products on "+aq);}}else{var ar="{CONTENT}";if(X[aq].find("div.productdetail").size()>0){if(X[aq].find("div.productdetail").text().length>0){X[aq].find("div.p01").empty();}}if(X[aq].find("div.notfounderror").text().length>0){X[aq].empty();}X[aq].append(l(ar,null,null,null,c(this).find("content").text()));if(X[aq].find("div.productdetail").size()>0){var at=aq.split("_");var af="item"+at[1];var ag="li"+at[1];if((c.trim(X[aq].find("div.productdetail").text()).length)==0){X[aq].find("div.p01").empty();X[aq].empty();var ar='<div class="notfounderror">'+"Item Not Found"+"</div>";X[aq].append(l(ar,null,null,c(this).find("content").text()));var ae=c("#"+af).attr("name").split("_");var ad=ae[0]+"_"+ae[1]+"_error";c("#"+af).attr("name",ad);c("#"+ag).removeClass("prodempty");c("#"+ag).addClass("prodnotfound");}else{if(X[aq].find("div.mathstory dl:first dd:first b:first i:first").text()=="$9,999,999.99"){X[aq].find("div.p01").empty();X[aq].empty();var ar='<div class="notfounderror">'+"Item Not Found"+"</div>";X[aq].append(l(ar,null,null,c(this).find("content").text()));var ae=c("#"+af).attr("name").split("_");var ad=ae[0]+"_"+ae[1]+"_error";c("#"+af).attr("name",ad);c("#"+ag).removeClass("prodempty");c("#"+ag).addClass("prodnotfound");}else{X[aq].data("p01s",X[aq].find("div.p01"));X[aq].data("size",X[aq].data("p01s").size());u="ON";i(X[aq],0,-1,0,-1);var ae=c("#"+af).attr("name").split("_");var ad=ae[0]+"_"+ae[1]+"_success";c("#"+af).attr("name",ad);c("#"+ag).removeClass("prodempty");c("#"+ag).removeClass("prodnotfound");}}}X[aq].removeClass("hide");}}}}if(debugMode!=null&&debugMode=="true"){if(X[aq].data("p01s")!=e){X[aq].data("p01s").each(function(){var av=c(this).find("div.timestamp").text();if(av!=""&&av>ab){c(this).css("background-color","#fee");}});}}var ah=X[aq].find("a");if(propertyValues.analyticsSwitch=="ON"){ah.click(function(){h(aq);});}ah.attr("target","_parent");if(isMsie7){try{var ak=X[aq][0].offsetTop;}catch(al){}}});}function o(ah,ag){var ak=(new Date()).getTime();u=ag;X[ah]=c("#"+ah);if(ah=="cart_overlay_box"&&X[ah].data("initialized")==true){return;}if(!X[ah]){X[ah]=c("#"+ah);var ad="";}var ac=X[ah].attr("class").match("c(\\d+)");if(ac){X[ah].data("carwide",parseInt(ac[1]));}else{X[ah].data("carwide",1);}if(typeof(anchoredPage)!="undefined"){if(anchoredPage!=e&&anchoredPage!=""){X[ah].data("currentPage",parseInt(anchoredPage));}else{X[ah].data("currentPage",1);}}else{X[ah].data("currentPage",1);}X[ah].find("div.p01:not(:has(h4))").remove();X[ah].find("div.p01:nth-child("+X[ah].data("carwide")+"n)").after("<hr />");X[ah].find("div.b201 hr:last-child").remove();X[ah].data("p01s",X[ah].find("div.p01"));X[ah].data("carouselStatus",X[ah].find("div.carouselStatus:first"));X[ah].data("b201",X[ah].find("div.b201:first"));X[ah].data("size",X[ah].data("p01s").size());if(X[ah].closest("#previouslyPurchasedTab").length!=0){if(typeof s_previouslyOrderedSearchBox!=="undefined"){s_previouslyOrderedSearchBox(X[ah].data("size"));}}else{if(X[ah].closest("#productResearchTab").length!=0){if(typeof s_prodResearchToolsSearchBox!=="undefined"){s_prodResearchToolsSearchBox(X[ah].data("size"));}}}X[ah].data("maxpages",Math.ceil(X[ah].data("size")/X[ah].data("carwide")));if(X[ah].data("maxpages")<=1&&X[ah].data("size")>=1){var ai=x;var al=c(this).find("headline").text();al=al?al:X[ah].find("h4.a200").html();var aa=X[ah].find("div.p01").length;var aj;if(aa===1){aj=" "+propertyValues.CartItem;}else{aj=" "+propertyValues.CartItems;}if(X[ah].find("h4.a200").html()==null||X[ah].find("h4.a200").html()==""){al="<span>"+aa+aj+"</span>";}var ad=ad?ad:"";var ab="<span class='note'>"+aa+aj+"</span>";X[ah].empty().html(l(ai,al,ab,ad,""));X[ah].find("div.b201:first").append(X[ah].data("p01s"));X[ah].removeClass("carousel").addClass("feature").removeClass("hide");i(X[ah],0,-1,0,-1);U(X[ah]);}else{if(X[ah].data("size")>=1){if(X[ah].hasClass("feature")){X[ah].removeClass("feature").addClass("carousel");s(ah,true);}X[ah].removeClass("hide");V(X[ah]);J(X[ah]);k(X[ah],0,0);}else{y("Personalization: no products on "+ah);}}var af=(new Date()).getTime();if(q){var ae=af-ak;y("PerfForPrepCarousel ="+ae);}}function O(aa){aa.data("p01s").removeClass("show").addClass("hide");}function M(aa){if(!aa.data("h4height")){aa.data("h4height",0);}if(!aa.data("mathheight")){aa.data("mathheight",0);}aa.data("p01s").each(function(){if(c(this).hasClass("show")){var ab=c(this).children("h4");var ae=ab.totalHeight();if(ae>aa.data("h4height")){aa.data("h4height",ae);}var ad=c(this).find("div.mathstory");var ac=ad.superHeight();if(ac>aa.data("mathheight")){aa.data("mathheight",ac);}}});aa.data("p01s").each(function(){if(c(this).hasClass("show")){var ab=c(this).children("h4");ab.css("height",aa.data("h4height"));var ac=c(this).find("div.mathstory");ac.css("height","auto");}});}function i(ae,ag,ac,af,ab){var aa=ae.data("p01s");if(ag<0){ag=0;}if(ag>ae.data("size")-1){ag=ae.data("size")-1;}if(ac<0||ac>ae.data("size")-1){ac=ae.data("size")-1;}if(ab<0){ab=ae.data("size")-1;}for(var ad=ag;ad<=ac;ad++){C(aa.eq(ad),ae.attr("id"));if(!aa.eq(ad).hasClass("ready")){if(u){T(aa.eq(ad),ae.attr("id"),ad,ae.data("carwide"));}else{t(aa.eq(ad));}}if(Q){L(aa.eq(ad));}if(ad>=af&&ad<=ab){aa.eq(ad).removeClass("hide").addClass("show");}}}function l(ad,ac,ab,aa,af,ae){ad=ad.replace(/\{HEADLINE\}/,ac);ad=ad.replace(/\{PAGES\}/,ab);ad=ad.replace(/\{CURRENTHTML\}/,aa);var af=af?af:"";ad=ad.replace(/\{CONTENT\}/,af);var ae=ae?ae:"";ad=ad.replace(/\{FOOTLINE\}/,ae);return ad;}function t(aa){aa.addClass("ready");}function T(ad,ag,ab,aa){var ac=ad.find("a.mathstoryurl:first");var ah=ad.find("div.mathstory:first");if(ac[0]){var ae=ac[0].href;ac.remove();try{c.ajax({url:ae,type:"GET",dataType:"html",timeout:propertyValues.ajaxTimeout,error:function(){t(ad);},success:function(ai){ah.html(ai);m(ad,ah,ag,ab,aa);}});}catch(af){t(ad);}}if(ah[0]){m(ad,ah,ag,ab,aa);}else{t(ad);}}function m(af,ad,ac,ai,ae){af.find("div.details").remove();af.append(af.find("div.recommendedleft label.note"));af.append(af.find("div.recommendedleft input.text3"));af.append(af.find("div.recommendedleft a.d01"));ad.find("input[name^=cmArea]").attr("value",ac);ad.find("a").attr("cmArea",ac);var al=ad.find("div.mathflyout");var aj=al.parents("div").filter(".pricenew");var ak=ad.find("a.psavelink > b > i");if(ak[0]){var ah=ak.text().replace(/[^0-9\.\,]/g,"").split(".",2);if(typeof(ah[1])=="undefined"){ah=ak.text().replace(/[^0-9\.\,]/g,"").split(",",2);}var ab;for(ab in ah){if(ah[0]==""){ah[ab]="0";}}C(af,ac,ah);}ad.find("dd.psave").hover(function(){aj.css("zIndex",8010);al.removeClass("hide");return false;},function(){aj.css("zIndex",0);al.addClass("hide");return false;}).children("a.psavelink:not(.spic)").each(function(){disableLink(c(this));});c(".tabSuppliesAccessories-Content").find("dd.psave").hover(function(){c(this).parents("div:first").find(".mathflyout").removeClass("hide");},function(){c(this).parents("div:first").find(".mathflyout").addClass("hide");});c(".tabSuppliesAccessories-Content").find("dd.psave").click(function(){return false;});if(isOverlay){af.find("a.spic").each(function(){disableLink(c(this));});}var ag=(ai%ae)+1;var aa=Math.ceil(ae/2);if(ag>aa||ae==1||pageId=="orderbycat"){al.addClass("left");al.children("img.mfoarrow").attr("src",propertyValues.ICON_PATH+"ico_mfoarrow_left.png");}else{al.removeClass("left");al.children("img.mfoarrow").attr("src",propertyValues.ICON_PATH+"ico_mfoarrow.png");}if(pageId=="orderbycat"){af.find("a").each(function(){disableLink(c(this));});}t(af);}function C(aa,ac,ab){aa.find("img:first").each(function(){var ad=c(this).attr("src");var af=ad.indexOf(propertyValues.COMMON_ICON_PATH+"blank.gif");if(af!==-1||ab){if(!aa.data("image")){aa.data("image",c(this).attr("name"));c(this).removeAttr("name");}var ae=propertyValues.s7nonsecure;if(isSecure){if(isKiosk){ae=propertyValues.s7kiosksecure;}else{ae=propertyValues.s7secure;}}if(aa.data("image")){if(ab){ae+=propertyValues.s7reddotpath;ae=ae.replace(/\{0\}/g,escape("is{Staples/"+aa.data("image")+"_sc7}"));ae=ae.replace(/\{1\}/g,escape(ab[0]));ae=ae.replace(/\{2\}/g,escape(ab[1]));}else{ae+=propertyValues.s7path+"?{3}";ae=ae.replace(/\{0\}/g,aa.data("image"));}}else{ae+=propertyValues.s7noimagepath+"?{3}";ae=ae.replace(/\{0\}/g,"noimageavailable");}if(c(this).hasClass("hero")){ae=ae.replace(/\{3\}/g,"$hero$");}else{if(pageId=="home"||ac.match(/_rr$/)||pageId=="samhome"){ae=ae.replace(/\{3\}/g,"$small$");}else{if(ac=="samoverlay"){ae=ae.replace(/\{3\}/g,"$smaller$");}else{if(pageId=="orderbycat"){ae=ae.replace(/\{3\}/g,"$thb$");}else{ae=ae.replace(/\{3\}/g,"$lnk$");}}}}c(this).attr("src",ae);}});}function L(aa){if(typeof(pr_merchant_group_id)!="undefined"){aa.find("div.reviewsprodmod:not(:has(div))").each(function(){var ai=c(this).attr("id");var af=ai.match("^pwr(.*?)-");var ah=af[1];pr_page_id=ah;pr_snippet_id=ai;pr_snippet_min_reviews=parseInt(propertyValues.reviewsFeaturedItemsThreshold);var ac=c("#prSnippet"+pr_page_id);if(ac.length>0){var ae=c(this);var ab=setInterval(function(){z(ae,ac,ab);},100);setTimeout(function(){N(ae,ab);},propertyValues.ajaxTimeout*5);}else{c(this).append("<div id='prSnippet"+pr_page_id+"'></div>");var ag;c(this).append("<iframe id='prIframe_"+pr_page_id+"' src='' class='hide'></iframe>");var ad=c("#prIframe_"+pr_page_id+"")[0];ag=ad.contentWindow.document;ag.open();ag.write=p;snippet(ag);ag.close();}});}}function z(ad,ac,ab){if(ac.html()!=""){var aa=ac.clone();aa.removeAttr("id");ad.html(c(aa));clearInterval(ab);}}function N(ab,aa){if(ab.find("div").length==0){ab.append("<div></div>");}clearInterval(aa);}function p(aa){c("#"+pr_snippet_id).append(aa);}function P(ad,ai,ac){var aa=ad.data("carwide");var ag=ad.data("currentPage");var ae=0;if(ai>=1){ae=ai;}if(ac!=0){if(ai>=1){ae+=ac;}else{ae=ag+ac;}}if(ae<0){ag=0;}else{if(ae>ad.data("maxpages")){ae=ad.data("maxpages");}}var ah=(aa*ag)-1;var aj=ah-aa+1;if(ah>ad.data("size")-1){ah=ad.data("size")-1;}if(aj<0){aj=0;}if(ae>0){var ab=(aa*ae)-1;var af=ah-aa+1;if(ab>ad.data("size")-1){ab=ad.data("size")-1;}if(af<0){af=0;}}else{if(ac==0){var ab=ad.data("size")-1;var af=0;}}if(ae>0||ac==0){i(ad,af,ab,aj,ah);}}function k(ai,af,ab){var ao=(new Date()).getTime();var ag=ai.attr("id");var at=ai.data("carwide");var am=ai.data("currentPage");var al=1;if(pageId=="home"){al=0;}if(af!=0||ab!=0){var ar=ai.data("b201").superWidth();var an=ai.data("b201").superHeight();var aq="min-width:"+ar+"px;"+"width:auto !important;"+"width:"+ar+"px;"+"min-height:auto !important;"+"height:auto !important;"+"height:auto !important;";ai.data("b201").css("cssText",aq);}if(af>0){am=af;}am+=ab;if(am<1){am=1;}else{if(am>ai.data("maxpages")){am=ai.data("maxpages");}}if(af==0&&ab==0&&ai.data("initialized")!=e){ai.data("b201").removeClass("expanded");}ai.data("initialized",true);ai.data("currentPage",am);var ap=(at*am)-1;var ah=ap-at+1;if(ap>ai.data("size")-1){ap=ai.data("size")-1;}if(ah<0){ah=0;}var ac=ap+(at*al);var aj=ah-(at*al);if(ac>ai.data("size")-1){ac=ai.data("size")-1;}if(aj<0){aj=0;}O(ai);i(ai,aj,ac,ah,ap);M(ai);S(ai,am);g(ai);ai.data("carouselStatus").html('<a href="#" class="expand">'+propertyValues.Carousel.expand+'<img src="'+propertyValues.COMMON_BACKGROUND_IMAGE_PATH+'bg_expand.gif" alt="Expand to See All" /></a>');ai.data("carouselStatus").find("a.expand").click(function(au){au.preventDefault();A(ai);});ai.data("carouselStatus").find("a.expand").mouseover(function(){P(ai,0,0);});ai.data("nextButton").show();ai.data("prevButton").show();var ae=c("#"+ag).find("li.pageNext");var ad=c("#"+ag).find("li.pagePrev");if(am>1){ai.data("prevButton").removeClass("inactive");ad.show();}else{ai.data("prevButton").addClass("inactive");ad.hide();}if(am<ai.data("maxpages")){ai.data("nextButton").removeClass("inactive");ae.show();}else{ai.data("nextButton").addClass("inactive");ae.hide();}var aa=(new Date()).getTime();if(D){var ak=aa-ao;y("PerfForPageChanger ="+ak);}}function A(ab){var aa=ab.attr("id");if(ab.data("maxpages")<=1){return false;}ab.data("b201").css("width",ab.data("b201").superWidth());ab.data("b201").addClass("expanded");i(ab,0,-1,0,-1);U(ab);var aa=ab.attr("id");var ac=propertyValues.Carousel.carouselitemtotal;ac=ac.replace(/\{0\}/g,ab.data("size"));ab.data("pageStatus").find(".note").html(ac);ab.data("pageStatus").find(".pageStatus").hide();ab.data("carouselStatus").html('<a href="#" class="collapse">'+propertyValues.Carousel.collapse+'<img src="'+propertyValues.COMMON_BACKGROUND_IMAGE_PATH+'bg_collapse.gif" alt="Collapse" /></a> ');ab.data("carouselStatus").find("a.collapse").click(function(ad){ad.preventDefault();b.scrollTo(0,findPos(a.getElementById(aa)));k(ab,0,0);ab.data("pageStatus").find(".pageStatus").show();});ab.data("prevButton").hide();ab.data("nextButton").hide();}function F(aa){A(X[aa]);}function U(aa){for(var af=1;af<=aa.data("maxpages");af++){var ae=0;var ah=0;for(var ag=1;ag<=aa.data("carwide");ag++){var aj=(ag+((af-1)*aa.data("carwide")))-1;var ad=aa.data("p01s").eq(aj).children("h4");var ac=aa.data("p01s").eq(aj).find("div.mathstory");var ab=ad.totalHeight();if(ab>ae){ae=ab;}var ai=ac.superHeight();if(ai>ah){ah=ai;}}for(var ag=1;ag<=aa.data("carwide");ag++){var aj=(ag+((af-1)*aa.data("carwide")))-1;var ad=aa.data("p01s").eq(aj).children("h4");var ac=aa.data("p01s").eq(aj).find("div.mathstory");ad.css("height",ae);ac.css("height",ah);}}}function h(ad){var ac="";if(typeof(variantPartnumber)!="undefined"){ac="variant_"+ad+"_"+variantPartnumber;}var ab=a.getElementById(ac);var aa="0";if((typeof(ab)!="undefined")&&(null!=ab)){aa=ab.value;}variantPartnumber="";if(typeof(parentSku)!="undefined"){if(typeof s_prodAffinity!=="undefined"){s_prodAffinity(parentSku,"Recommendations",ad,aa);}}else{if(typeof s_findMethod!=="undefined"){s_findMethod("Recommendations",ad,aa);}}}function W(){var ab=a.title,aa=ab.indexOf("|");w=B();H=encodeURIComponent(ab.substring(0,aa-1));if(I!=""){Y(I);I="";}if(j[1]!=e){o(j[0],j[1]);personalizationDivId="";}}return{init:W,loadPersonalized:R,loadCarousel:Z,loadPersonalizationImages:C,prepCarousel:s,showAll:F,processMath:m,pageChanger:k};})();return f;}(b.STAPLES||{}));b.STAPLES=d;d.Personalization.init();}(window,document,jQuery));