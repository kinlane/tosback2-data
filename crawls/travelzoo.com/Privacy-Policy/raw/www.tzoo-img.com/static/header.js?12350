(function(e){e.fn.calcSubWidth=function(){cswew=0;e(this).find("ul").each(function(){var f=e(this).outerWidth(true);if((e.browser.mozilla&&(navigator.platform.substr(0,3)==="Mac"))||(e.browser.msie&&parseInt(e.browser.version)===9)){f+=3}if(e.browser.mozilla&&navigator.userAgent.indexOf("Firefox/4")>-1){f+=1}cswew+=f;if(e.browser.msie&&parseInt(e.browser.version)===6){e(this).css("width",e(this).width())}})};function c(g){var f=g.find(".sub"),l=g.outerWidth(true);if(f){var j=f.find(".row"),h=f.outerWidth(true),k=Math.floor(Math.abs(f.position().left)*1.5);if(j.length===0){f.calcSubWidth();if(h>=l){l=cswew}else{l=l-h+cswew+k;if((e.browser.mozilla&&(navigator.platform.substr(0,3)==="Mac"))||(e.browser.msie&&parseInt(e.browser.version)===9)){l-=k}}}else{var i=0;j.each(function(){e(this).calcSubWidth();i=(cswew>i)?cswew:i;if(e.browser.msie&&parseInt(e.browser.version)===7){var m=e(this).find("li.ul");if(m.length!==0){m.each(function(){e(this).css("width",e(this).parent().width())})}}});l=i}f.css("width",l);f.addClass("calc")}}function d(){var g=e(this),h=g.find(".sub"),f=e("#hdrnav").find("li.toplvl.active");f.addClass("sel");g.addClass("over");if(h){h.show();if(!(h).hasClass("calc")){c(g)}}}function b(){var g=e(this),h=g.find(".sub"),f=e("#hdrnav").find("li.toplvl.active");if(h){h.hide()}g.removeClass("over");f.removeClass("sel")}function a(){window.location.href=e(this).find("h2 a").attr("href")}e(document).ready(function(){e("#currentEdition").children("li").hover(function(){e(this).children("ul").show()},function(){e(this).children("ul").hide()});e("#hdrnav li.toplvl").hover(d,b);e("#hdrnav").delegate(".hdrtoplbl","click",a)})})(jQuery);