(function(i){i.fn.calcSubWidth=function(){cswew=0;i(this).find("ul").each(function(){var a=i(this).outerWidth(true);if((i.browser.mozilla&&(navigator.platform.substr(0,3)==="Mac"))||(i.browser.msie&&parseInt(i.browser.version)===9)){a+=3}if(i.browser.mozilla&&navigator.userAgent.indexOf("Firefox/4")>-1){a+=1}cswew+=a;if(i.browser.msie&&parseInt(i.browser.version)===6){i(this).css("width",i(this).width())}})};function g(n){var m=n.find(".sub"),e=n.outerWidth(true);if(m){var c=m.find(".row"),a=m.outerWidth(true),d=Math.floor(Math.abs(m.position().left)*1.5);if(c.length===0){m.calcSubWidth();if(a>=e){e=cswew}else{e=e-a+cswew+d;if((i.browser.mozilla&&(navigator.platform.substr(0,3)==="Mac"))||(i.browser.msie&&parseInt(i.browser.version)===9)){e-=d}}}else{var b=0;c.each(function(){i(this).calcSubWidth();b=(cswew>b)?cswew:b;if(i.browser.msie&&parseInt(i.browser.version)===7){var k=i(this).find("li.ul");if(k.length!==0){k.each(function(){i(this).css("width",i(this).parent().width())})}}});e=b}m.css("width",e);m.addClass("calc")}}function h(){var c=i(this),a=c.find(".sub"),b=i("#hdrnav").find("li.toplvl.active");b.addClass("sel");c.addClass("over");if(a){a.show();if(!(a).hasClass("calc")){g(c)}}}function f(){var c=i(this),a=c.find(".sub"),b=i("#hdrnav").find("li.toplvl.active");if(a){a.hide()}c.removeClass("over");b.removeClass("sel")}function j(){window.location.href=i(this).find("h2 a").attr("href")}i(document).ready(function(){i("#currentEdition").children("li").hover(function(){i(this).children("ul").show()},function(){i(this).children("ul").hide()});i("#hdrnav li.toplvl").hover(h,f);i("#hdrnav").delegate(".hdrtoplbl","click",j)})})(jQuery);