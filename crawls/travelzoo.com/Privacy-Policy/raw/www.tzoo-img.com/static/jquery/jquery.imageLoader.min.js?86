$.widget("ui.imageLoader",{options:{async:!0,images:[]},total:0,_init:function(){var b;this.total++;this.loaded=0;this.data=[];for(b=0;b<this.options.images.length;b++){this.data.push({init:!1,complete:!1,error:!1,src:this.options.images[b],img:new Image,i:b})}for(b=0;b<this.data.length&&(this.options.async===!0||b===0||b<parseInt(this.options.async,10));b++){this._loadImg(b)}return this},_loadImg:function(d){var c=this;if(d!==!1&&d<c.data.length&&!c.data[d].init){c.data[d].init=!0,c._trigger("start",null,{i:d,data:$.extend(!0,{},c.data)}),setTimeout(function(){c.data[d].img.onload=function(){c.loaded++;c.data[d].complete=!0;c._trigger("complete",null,{i:d,data:$.extend(!0,{},c.data)});c._complete(d)};c.data[d].img.src=c.data[d].src;c.data[d].img.onerror=function(){c.loaded++;c.data[d].error=!0;c._trigger("error",null,{i:d,data:$.extend(!0,{},c.data)});c._complete(d)}},1)}},_complete:function(b){(!this.options.async||typeof this.options.async==="number")&&this._loadImg(this._next(b));this.loaded===this.data.length&&this._trigger("allcomplete",null,$.extend(!0,{},this.data))},_next:function(d){var c;for(c=0;c<this.data.length;c++){if(c!==d&&!this.data[c].init){return c}}return !1},getData:function(){return $.extend(!0,{},this.data)},destroy:function(){$.Widget.prototype.destroy.apply(this,arguments)}});