$.widget("ui.imageLoader",{options:{async:!0,images:[]},total:0,_init:function(){var b;this.total++;this.loaded=0;this.data=[];for(b=0;b<this.options.images.length;b++){this.data.push({init:!1,complete:!1,error:!1,src:this.options.images[b],img:new Image,i:b})}for(b=0;b<this.data.length&&(this.options.async===!0||b===0||b<parseInt(this.options.async,10));b++){this._loadImg(b)}return this},_loadImg:function(c){var d=this;if(c!==!1&&c<d.data.length&&!d.data[c].init){d.data[c].init=!0,d._trigger("start",null,{i:c,data:$.extend(!0,{},d.data)}),setTimeout(function(){d.data[c].img.onload=function(){d.loaded++;d.data[c].complete=!0;d._trigger("complete",null,{i:c,data:$.extend(!0,{},d.data)});d._complete(c)};d.data[c].img.src=d.data[c].src;d.data[c].img.onerror=function(){d.loaded++;d.data[c].error=!0;d._trigger("error",null,{i:c,data:$.extend(!0,{},d.data)});d._complete(c)}},1)}},_complete:function(b){(!this.options.async||typeof this.options.async==="number")&&this._loadImg(this._next(b));this.loaded===this.data.length&&this._trigger("allcomplete",null,$.extend(!0,{},this.data))},_next:function(c){var d;for(d=0;d<this.data.length;d++){if(d!==c&&!this.data[d].init){return d}}return !1},getData:function(){return $.extend(!0,{},this.data)},destroy:function(){$.Widget.prototype.destroy.apply(this,arguments)}});