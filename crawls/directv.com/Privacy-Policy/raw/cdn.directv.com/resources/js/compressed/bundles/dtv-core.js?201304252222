/*!
#Thu Nov 01 15:10:50 MDT 2012
build.num.last=72256
*/
!function(b){window.DtvApp={Controls:{},Modules:{},init:function(){if(document.location.hash&&b("body").hasClass("sticky-nav")){var f=150;var a=null;try{a=(b(document.location.hash).length>0)?b(document.location.hash):null}catch(e){DtvApp.debug("malformed hash - cannot find element"+e)}if(a&&a.offset().top<f){setTimeout(function(){window.scrollTo(0,0)},100)}else{if(a){setTimeout(function(){window.scrollTo(0,a.offset().top-f)},100)}}}this._initDefaultControls();
if(this.Page){this.page=new this.Page(document.body)}b(document).ajaxSend(function(){if(Dtv.app.el){Dtv.app._initSessionTimeout(true)}})},_initDefaultControls:function(){},debug:function(d,a){if(console&&window.location.search.indexOf("debugjs=true")>-1){console.log(d+a)}},createControl:function(h,f,a){var g=this.findControl(h,f);if(!g){g=new DtvApp.Controls[f](h,a);b.log.info(f+" module created")}return g},findControl:function(j,h){var k=b(j).data("controls")||[],i;for(var l=0,a=k.length;l<a;l++){i=k[l];
if(DtvApp.Controls[h]&&i instanceof DtvApp.Controls[h]){return i}}return},removeControl:function(a,e){var f=this.findControl(a,e);if(f){f.destroy();b.log.info(e+" module removed")}}};b(function(){var a=setInterval(function(){if(Dtv.app){DtvApp.init();clearInterval(a)}},500)})}(jQuery);(function(b){b.fn.isDebugMode=function(){return(window.location.getParam("debugjs")=="true")};b.fn.isDefined=function(a){if(typeof(a)!="undefined"){return(true)}else{return(false)}};b.fn.exists=function(){return this.length!==0
};b.fn.getResourcesPath=function(d){var a="/resources";if(b().isDefined(d)){switch(d){case"view":a+="/js/optimization/controls/views/";break;case"js":a+="/js/optimization/controls/";break;case"css":a+="/css/component-skin/";break}}return(a)};b.fn.getVar=function(j,m,o){var l,p,k,n,a;a="var";if(j){a+="[title="+j+"]"}n=this.is("var")?this:b((m?">":"")+a,this).first();k=n.text();if(!k){return null}if(n.is(".string")){return k}p='{"value":'+k+"}";l=b.parseJSON(p);if(o===true&&!b().isDebugMode()){n.remove()
}return l.value};b.fn.getVars=function(h,l){var j,k,a,i;i=[];k=0;a=this.length;while(k<a){j=this.eq(k).getVar(h,l);if(j){i.push(j)}k++}return i};b.fn.performAjaxCall=function(f,e){var a={useCache:true,params:null,headers:null,method:"get"};e=jQuery.extend({},a,e);b.ajax({url:f,headers:e.headers,type:e.method,data:e.params,cache:e.useCache,options:e,success:function(c){if(b().isDefined(this.options)){if(b().isDefined(this.options.renderTo)){try{b(this.options.renderTo).html(c)}catch(d){if(b().isDefined(this.options)){if(b().isDefined(this.options.onFailure)){if(typeof(this.options.onFailure)==="function"){this.options.onFailure(c)
}}}}}if(b().isDefined(this.options.onSuccess)){if(typeof(this.options.onSuccess)==="function"){this.options.onSuccess(c)}}}},error:function(c,d,h){if(b().isDefined(this.options)){if(b().isDefined(this.options.onFailure)){if(typeof(this.options.onFailure)==="function"){this.options.onFailure(c,d,h)}}}}})};b.fn.loadResources=function(a){if(b().isDefined(a)){jQuery.each(a,function(h,f){var g=(h==="css")?b().getResourcesPath("css"):b().getResourcesPath("js");steal(g+f)})}};b.fn.getAttr=function(a){var d=b(this).attr(a);
d=jQuery.parseJSON(d.replace(/'/g,'"'));d=(d)?d:null;return(d)};b.fn.getField=function(a){return((typeof(a)==="object")?a:b(":input[name="+a+"]"))};b.fn.serializeJSON=function(){var a={};jQuery.map(b(this).serializeArray(),function(e,f){a[e.name]=e.value});return a};b.fn.getIeVersion=function(){if(b.browser.msie){return b.browser.version}else{return null}};b.fn.sendOmnitureEvent=function(a,m){var i={};var j=false;if(!!m){var o=b(m).find("div.reportingData ul.reportingParams li");if(!!o){for(var n=0,p=o.length;
n<p;n++){j=true;var l=b(o[n]);i[l.attr("data-name")]=l.text()}}}if(j){b().sendOmnitureData(a,i)}};b.fn.sendOmnitureData=function(a,e){var e=e||{};if(!!a){try{document.fire(a,e)}catch(f){}}}})(jQuery);!function(b){DtvApp.Controls.BasePage=can.Control({init:function(){},_initControl:function(){this._initLogger()},_initLogger:function(){b.extend(b.log.options,{defaultLevel:"warn",defaultTopic:"page"});b.log.setLoggingLevels(["debug","info","medium","warn","error","init"]);b.log.addView({type:"window",pageViewer:"pageList",topicFilter:["page","module"]})
},update:function(){b.log.debug("base page update")}})}(jQuery);window.jq=jQuery;!function(b){DtvApp.Modules.BaseModule=can.Control({className:"baseModule"},{init:function(){alert("module.init")},_initModule:function(){},sendPrototypeEvent:function(a,e){alert("params");var e=e||{};alert("prams");try{document.fire(a,e)}catch(f){}}})}(jQuery);(function(){var b={name:"LoginBoxModule",autoMapping:"login-module",prototype:{_init:function(){if($("loginForm")){this.form=new Dtv.FormController("loginForm",{useAjax:false});
this.form.enable()}},_initEvents:function(){if($("loginForm")){this.onDom("passwordField","keydown",function(a){if(a.keyCode!=9&&$("login_password_option_yes")!=null){$("login_password_option_yes").click()}});this.onDom(this.el,"click",{"a.js-LoginModule-showForgotEmailLightbox":this.showForgotEmailLightbox,"a.js-LoginModule-showForgotPasswordLightbox":this.showForgotPasswordLightbox},this)}},_initDefaultState:function(){var d=window.location.getParams();var a;if(d.forgotPassword){a=this.showForgotPasswordLightbox.bind(this)
}else{if(d.forgotEmail){a=this.showForgotEmailLightbox.bind(this)}else{if(d.token){a=this.showUpdatePasswordLightbox.bind(this,d.token)}else{if(this.el.getVar("securityQuestionFlag")){a=this.showModifySecurityQuestionLightbox.bind(this)}else{if(this.el.getVar("modifyEmailFlag")=="true"){a=this.showModifyEmailLightbox.bind(this)}else{if($("loginField")){$("loginField").focus()}return}}}}}this.onDom(document,Dtv.Event.PAGE_LOADED,a)},showForgotEmailLightbox:function(){var a=Dtv.app.ajaxLightbox.show("/DTVAPP/global/lightbox/lightboxForgotEmail.jsp",{onInitContent:function(){this.ajaxPanel.ajaxContent.addDisposableObj(this.el.down(".js-accordion").behavior("Accordion"));
new Infopop(".dtv-infopop")},onAfterShow:function(){a.refreshLayout.bind(a).defer()},form:{options:{onSubmitSuccess:function(e,f){$("loginField").value=f.email}}}})},showResetPasswordLightbox:function(d){var a=this;Dtv.app.ajaxLightbox.show("/DTVAPP/global/lightbox/lightboxResetPasswordByEmail.jsp",{onInitContent:function(){$("securitySendEmail").innerHTML=d.email},form:{options:{onSubmitSuccess:function(c,f){a.form.clearMessages();a.form.setMessages(f.messageLevel,f.messages)}}}})},showUpdatePasswordLightbox:function(e){var f="/DTVAPP/global/lightbox/lightboxResetPassword.jsp";
if(e){f+="?token="+e}var a=this;Dtv.app.ajaxLightbox.show(f,{form:{options:{onSubmitSuccess:function(c,d){a.form.clearMessages();a.form.setMessages(d.messageLevel,d.messages)}}}})},showEnterSecurityAnswerLightbox:function(d){var a=this;Dtv.app.ajaxLightbox.show("/DTVAPP/global/lightbox/lightboxEnterSecurityAnswer.jsp",{actions:{forgotAnswer:a.showResetPasswordLightbox.bind(a,d)},onInitContent:function(){$("securityQuestion").innerHTML=d.question;$("securityQuestionId").value=d.questionId;$("securityAnswerForm").forgotAnswer.value=""
},form:{hideOnSuccess:false,options:{onSubmitSuccess:function(c,f){if(f.email){a.showResetPasswordLightbox(f)}else{a.showUpdatePasswordLightbox()}}}}})},showForgotPasswordLightbox:function(){var a=this;var d=Dtv.app.ajaxLightbox.show("/DTVAPP/global/lightbox/lightboxEnterEmail.jsp",{actions:{forgotEmail:a.showForgotEmailLightbox.bind(a)},onInitContent:function(f){var c=$("loginField")||$("userNameField");if(c&&c.value!=""){$("securityEmail").value=c.value;f.forms.formControllers[0].submit()}},form:{hideOnSuccess:false,options:{onSubmitSuccess:function(c,f){if(!f.email){f.email=$("securityEmail").value
}if(!f.hasSecurity){a.showResetPasswordLightbox(f)}else{a.showEnterSecurityAnswerLightbox(f)}}}}})},showModifySecurityQuestionLightbox:function(){var a=this.el.getVar("userSessionSuccessUrl");Dtv.app.ajaxLightbox.show("/DTVAPP/global/lightbox/lightboxModifySecurityQuestion.jsp",{form:{hideOnSuccess:true,options:{onSubmitSuccess:function(e,f){if(a){window.location.href=a}else{window.location.href="/DTVAPP/mydirectv/account/myOverview.jsp"}}}}})},showModifyEmailLightbox:function(){var a=this.el.getVar("landingPage");
var d=this.el.getVar("userSessionSuccessUrl");Dtv.app.ajaxLightbox.show("/DTVAPP/global/lightbox/lightboxModifyEmailSynch.jsp",{form:{hideOnSuccess:true,options:{onSubmitSuccess:function(c,f){if(d){window.location.href=d}else{if(!!a){window.location.href=a}else{if(f.nextUrl!=null){window.location.href=f.nextUrl}}}}}}})},showPackageLightbox:function(){Dtv.app.ajaxLightbox.show("/DTVAPP/new_customer/lightbox/lightboxGettingStarted.jsp",{form:{hideOnSuccess:true}})}}};Dtv.Behaviors.create(b)})();function persistValue(f,i){if(i){var h=$("forgotEmail1Form");
var j=$("forgotEmail2Form");var g=$("forgotEmail3Form");if(h.elements[f+"1"]){h.elements[f+"1"].value=i.value}if(j.elements[f+"2"]){j.elements[f+"2"].value=i.value}if(g.elements[f+"3"]){g.elements[f+"3"].value=i.value}}}!function(b){DtvApp.Controls.Form=DtvApp.Modules.BaseModule({defaultOptions:{ajaxHeaders:{Accept:"application/json"},ajaxTimeout:30000,autoSave:false,clientValidationRequired:true,contingencyContainer:"",disableOnSave:true,beforeAjaxCall:null,onErrorCallback:null,onlySaveOnClean:false,onSubmitNoDirtyForm:null,onSuccessCallback:null,ajaxStatusMessage:null,fadeSucessMessage:false,useAjax:true,useCache:false,useSpinner:true},lastFormState:null,".js-submit click":"_handleSubmit",":input change":"_handleFieldChange",".js-cancel-btn click":"_handleReset",":input keypress":"_handleCheckForEnter",init:function(){this.options=jQuery.extend({},this.defaultOptions,this.options);
this.lastFormState={};this.clearAllElements();this.storeLastFormState()},clearAllElements:function(){b(":input").data("isDirty",false)},isDirtyForm:function(){var a=false;b(":input").each(function(f){var e=b().isDefined(b(this).data("isDirty"))?b(this).data("isDirty"):false;if(e){a=true;return false}});return(a)},enableField:function(a){a=b().getField(a);b(a).removeAttr("disabled")},disableField:function(a){a=b().getField(a);b(a).attr("disabled","true")},enableAll:function(){var d=this;var a=b(this.element.selector+" input");
a.each(function(c){d.enableField(this)})},disableAll:function(){var d=this;var a=b(this.element.selector+" input");a.each(function(c){d.disableField(this)})},_addErrorMessage:function(a){},_clearContingencyContainer:function(){},_handleSubmit:function(n,m){if(b().isDefined(m)){m.preventDefault()}if(this.options.onlySaveOnClean&&!this.isDirtyForm()){if(jQuery.isFunction(this.options.onSubmitNoDirtyForm)){this.onSubmitNoDirtyForm()}return false}if(b().isDefined(m)&&b().isDefined(m.currentTarget)&&b().isDefined(m.currentTarget.rel)&&m.currentTarget.rel!=""){var a=this.element.selector+" input[id='"+m.currentTarget.rel+"']"
}else{var a=this.element.selector+' input[type="submit"]'}if(this.options.useAjax){var j=this;if(jQuery.isFunction(this.options.beforeAjaxCall)){this.options.beforeAjaxCall(n,m)}else{this.beforeAjaxCall(n,m)}var p=b(a).attr("name");var o=b(this.element).attr("action"),l=b(this.element).serialize();l+="&"+p;if(this.options.disableOnSave){this.disableAll()}if(this.options.useSpinner){this.waitButton()}b().performAjaxCall(o,{method:"post",params:l,timeout:j.options.ajaxTimeout,useCache:j.options.useCache,headers:(b().isDefined(j.options.ajaxHeaders))?j.options.ajaxHeaders:null,onSuccess:function(c){if(j.options.useSpinner){j.unwaitButton()
}j.enableAll();j.clearAllElements();j.storeLastFormState();j.clearFieldErrors();if(!c.success){j.applyFieldErrors(c)}if(jQuery.isFunction(j.options.onSuccessCallback)){j.options.onSuccessCallback(c)}},onError:function(){if(j.options.useSpinner){j.unwaitButton()}j.enableAll();if(jQuery.isFunction(j.options.onErrorCallback)){j.options.onErrorCallback()}},onFailure:function(d,e,c){if(j.options.useSpinner){j.unwaitButton()}j.enableAll();var g="";if(d.status===0){g="<span class='errortype'>0-"+c+"</span>"
}else{if(d.status==404){g="<span class='errortype'>404-"+c+"</span>"}else{if(d.status==500){g="<span class='errortype'>500-"+c+"</span>"}else{if(e==="parsererror"){g="<span class='errortype'>parseerror"+c+"</span>"}else{if(e==="timeout"){g="<span class='errortype'>timeout"+c+"</span>"}else{if(e==="abort"){g="<span class='errortype'>abort"+c+"</span>"}else{g="<span class='errortype'>"+c+", "+d.status+"</span>"}}}}}}var f={errors:["We're sorry, but due to a system error, we cannot process your payment at this time. Please try again later or call us at 1-800-531-5000. "+g],errorFields:[],messageLevel:"INFO",success:false,messages:[""],errorLevel:"ERROR",handlerName:""};
if(jQuery.isFunction(j.options.onSuccessCallback)){j.options.onSuccessCallback(f)}}})}else{if(this.options.clientValidationRequired){var k=0;if(k>0){return false}}b(a).click()}},beforeAjaxCall:function(a,d){},_handleReset:function(){this.restoreLastFormState();this.clearAllElements()},_handleFieldChange:function(d){var a=b(d);if(this.options.autoSave===true){if(!a.hasClass("override-autosave")){this._handleSubmit()}}else{a.data("isDirty",true)}},_handleCheckForEnter:function(a,d){if((d.which==13)&&!a.is("textarea")){d.preventDefault();
this._handleSubmit()}},storeLastFormState:function(){this.lastFormState=b(this.element).serializeArray()},restoreLastFormState:function(){b.each(this.lastFormState,function(h){var g=this.name;var f=this.value;var a='input[name="'+g+'"]';el=b("#"+g);if(el.is("select")){b("#"+g+" option[value='"+f+"']").attr("selected","selected")}else{if(el.is(":radio")){b("#"+g+" option[value='"+f+"']").attr("checked",true)}else{if(el.is(":checkbox")){el.attr("checked",f)}else{b(a).val(f)}}}})},waitButton:function(){var a=this.element.selector+" a.submit-button";
b(a).addClass("btn-spinner")},unwaitButton:function(){var a=this.element.selector+" a.submit-button";b(a).removeClass("btn-spinner")},applyFieldErrors:function(f){if(!f){return false}var g=this.element;for(var h=0;h<f.errorFields.size();h++){var a=b("#"+f.errorFields[h],g)||b("."+f.errorFields[h],g);a.addClass("has-error");b("label[for='"+f.errorFields[h]+"']",g).addClass("has-error")}return true},clearFieldErrors:function(){var a=b(this.element.selector).find(".has-error");a.each(function(d){b(this).removeClass("has-error")
})}})}(jQuery);!function(c){var d=false;c.fn.isDefined=function(a){if(typeof(a)!="undefined"){return(true)}else{return(false)}};Infopop=can.Control({target:null,currentEl:null,isInfopopHidden:null,defaultOptions:{animation:true,html:true,placement:null,trigger:"manual"},init:function(){this.options=jQuery.extend({},this.defaultOptions,this.options)},click:function(b,a){if(!b.hasClass("dtv-infopop-hover")){this.showInfopopUp(b,a)}},showInfopopUp:function(k,b){if(!d&&this.target){if(b.target==this.target&&!this.isInfopopHidden){c(k).popover("toggle");
this.isInfopopHidden=true;return}}c(".dtv-infopop").popover("destroy");var m=c(k).attr("id");var j;var l;if(c().isDefined(m)&&m){var a="link-"+m;l=c("#"+a)}if(!(c().isDefined(m))||!m||l.length==0){l=c(k).nextAll(".dtv-infopop-content").first();if(!(c().isDefined(l)&&l&&l.length!=0)){l=c(k).parent().nextAll(".dtv-infopop-content").first()}}if(c().isDefined(l)&&l&&l.length!=0){j=l.html()}var n=this;setTimeout(function(){if(c().isDefined(j)&&j){var f={};f.trigger=n.options.trigger?n.options.trigger:"manual";
f.animation=n.options.animation?n.options.animation:true;f.html=n.options.trigger?n.options.trigger:true;f.placement="top";f.content=j;f.template='<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><a class="in-close js-Lightbox-hide">Close</a><p></p></div></div></div>';c(k).popover(f);c(k).popover("show");f.placement=n._getPlacement(k);var e=n._getLeft(k);c(k).popover("destroy");c(k).popover(f);c(k).popover("toggle");
c(".popover").css("left",(e+"px"));c(".popover").css("visibility","visible")}else{console.error("no matching content for infopop")}n.target=b.target;n.currentEl=k;n.isInfopopHidden=false;d=false},200)},_getPlacement:function(j){if(this.options.placement){return this.options.placement}var l="top";var m=c(j).offset().top;var k=jQuery(window).scrollTop();var a=c(".popover").offset();var b=a.top;var n=a.left;if(b<k){l="bottom"}return l},_getLeft:function(s){var r=null;var p=jQuery(window).width();var m=jQuery(window).scrollLeft();
var q=m+p;var o=c(".popover");var t=o.offset();var n=t.left;var b=o.width();var a=c(s).offset().left;r=n;if(n<m){r=m+10}else{if((n+b)>q){r=q-b-10}}return r}});c(function(){c("body").click(function(a){if(c(a.target).hasClass("dtv-infopop")||c(a.target).closest("a").hasClass("dtv-infopop")){return}c(".dtv-infopop").popover("destroy");d=true});c(".dtv-infopop-hover").mouseover(function(a){new Infopop(".dtv-infopop").showInfopopUp(this,a)}).mouseout(function(a){c(".dtv-infopop").popover("destroy")}).click(function(a){c(".dtv-infopop").popover("destroy")
});new Infopop(".dtv-infopop");c("body").ajaxComplete(function(){new Infopop(".dtv-infopop")})})}(jQuery);!function(b){DtvApp.Controls.LoginModule=DtvApp.Modules.BaseModule({init:function(){this._initModule();var n=this;b("#login_product").prependTo(b("#message_container")).show();b("#loginMessageDiv").prependTo(b("#message_container")).show();var s=document.location.pathname;var t=b(".login_success_url");var q=s.substring(s.lastIndexOf("/")+1);var v=b(".login_error_url");var p=b(".login_error_url").val();
var u=window.location.search;var o=u.indexOf("lastVisited");var m=u.substring(o+12);if(m.indexOf("&")!=-1){m=m.substring(0,m.lastIndexOf("&"))}var r=document.location.href.toQueryParams();if(r.reason=="timeout"&&m.indexOf("?")==-1&&m.indexOf("#")==-1){m=m.substring(0,m.lastIndexOf("&"))}if(o!=-1&&m){t.val(m);v.val(p+"?lastVisited="+m)}else{if(q!="login.jsp"&&q!="index.jsp"&&s!="/DTVAPP/"&&q!="loggedOut.jsp"&&q!="nflLogin.jsp"){t.val(s+u);v.val(p+"?lastVisited="+s+u)}}if(b("#session-success-url").size()>0){v.val(p+"?lastVisited="+b("#session-success-url").val())
}var a=new DtvApp.Controls.Form("#signinForm",{useAjax:false})},".js-SigninModule-showForgotPasswordLightbox click":function(a,d){this.lightbox=new Element("div",{"class":"js-SigninModule-showForgotPasswordLightbox"}).behavior("LoginBoxModule");if(this.lightbox){this.lightbox.showForgotPasswordLightbox()}},".js-get-dtv-lightbox click":function(a,d){this.lightbox=new Element("div",{"class":"top-nav-get-directv"}).behavior("LoginBoxModule");if(this.lightbox){this.lightbox.showPackageLightbox()}}});
b(function(){new DtvApp.Controls.LoginModule(".dtv-header")})}(jQuery);!function(b){DtvApp.Controls.Modal=DtvApp.Modules.BaseModule({defaultOptions:{width:980,isModal:false,url:null,cssClose:".close-modal",autoOpen:true},init:function(){this.options=jQuery.extend({},this.defaultOptions,this.options)},load:function(a){var d=this;if(this.options.url){d.element.load(this.options.url,function(){d.initModal(a)})}else{d.initModal(a)}},initModal:function(a){var h=this;var f={onInitContent:function(){},onAfterShow:function(){},form:{hideOnSuccess:true,options:{onSubmitSuccess:function(d,c){}}}};
h.modalOption=jQuery.extend({},this.defaultModalOptions,a);b(h.options.cssClose).bind("click",function(){h.element.dialog("close")});h.modalOption.onInitContent();formId="#"+h.element.find("form").attr("id");var g=new DtvApp.Controls.Form(formId,{beforeAjaxCall:function(){h.modalOption.form.options.beforeAjaxCall()},onSuccessCallback:function(c){h.modalOption.form.options.onSubmitSuccess(g,c)}});h.element.dialog({width:h.options.width+"px",modal:h.options.isModal,position:"center",autoOpen:h.options.autoOpen});
h.modalOption.onAfterShow()},open:function(){var a=this;a.element.dialog("open")},close:function(){var a=this;a.element.dialog("close")}})}(jQuery);!function(b){DtvApp.Controls.Panel=DtvApp.Modules.BaseModule({defaultOptions:{useCache:false,useSpinner:true},resources:{css:"ajax-panel.css"},"ul.panel-nav>li click":function(h,f){var a=h.closest("li");var g=a.data("item");if(!g){g=h.getAttr("dtv-model")}this.renderContent(g)},init:function(){this._initModule();this.options=jQuery.extend({},this.defaultOptions,this.options);
b().loadResources(this.resources);if(b(this.element.selector+"ul.panel-nav>li").has("li")){this.options.ajaxContainerSelector=this.element.selector+" .panel-tup>.ajax-panel";var a=b(this.element.selector+" ul.panel-nav li").each(function(f){if(b(this).hasClass("exclude")){return}var e=b(this).getAttr("dtv-model");e.isInitialized=false;b(this).data("item",e)})}},renderContent:function(e){b(this.element.selector+" .panel-tup>.panel-content").removeClass("active");if(b().isDefined(e.section)){b(this.element.selector+" .panel-nav li").removeClass("active");
b(this.element.selector+" .panel-nav li"+e.section).addClass("active")}if(b().isDefined(e.selector)){var f=b(this.element.selector+" .panel-tup "+e.selector);f.addClass("active");b().sendOmnitureEvent("reporting:panel_shown",f)}else{if(b().isDefined(e.url)){if((b().isDefined(e.overrideAjaxContent))||(b.trim(b(this.options.ajaxContainerSelector+e.ajaxClass).html())=="")){if(this.options.useSpinner){spinnerEl=b(this.element.selector+" .panel-ajax-spinner")}if(spinnerEl.exists()){spinnerEl.css("display","block")
}var a=this.options.ajaxContainerSelector+e.ajaxClass;b().performAjaxCall(e.url,{renderTo:a,useCache:this.options.useCache,onSuccess:function(c){if(spinnerEl.exists()){spinnerEl.css("display","none")}b().sendOmnitureEvent("reporting:panel_shown",b(a))},onError:function(){if(spinnerEl.exists()){spinnerEl.css("display","none")}},onFailure:function(c){document.getElementById(e.ajaxId).innerHTML=c}})}b(this.options.ajaxContainerSelector+e.ajaxClass).addClass("active")}}if(b().isDefined(e.behaviorList)&&(!e.isInitialized)){e.isInitialized=true
}}})}(jQuery);!function(b){DtvApp.Modules.BaseModule("DtvApp.Controls.PlaylistLink",{defaults:{updateUrl:"/entertainment/data/playlist.json.jsp"}},{init:function(){this._initModule()},".js-ProgramPlaylistLink-toggleFav:not(.disabled, .updating) click":function(a,d){a.addClass("updating");b.post(this.options.updateUrl,b.extend({action:a.hasClass("active")?"remove":"save"},a.data()),function(c){a.removeClass("updating");if(c.success){a.toggleClass("active");Dtv.app.rollovers.setRollover(a[0],"favs_pg_rollover_"+(a.hasClass("active")?"remove":"add"));
Dtv.Behaviors.VideoPlayer.Display.prototype._addDirtyItem(a.attr("cache-id"))}else{if(c.maxReached){Dtv.Behaviors.BusinessInfoPop.instances[0].open(a[0],a.getAttr("dtv-model").maxReachedKey)}}})}})}(jQuery);if(!("console" in window)){console={log:function(){}}}Topnav=(function(){var I=50,W=500,O=200,D=2000,H=600,J=900,z=100,G={},V=false,U={},E={},B={},M=2,S=2,X=false,L=[],R=[];G.cachedElements={};G.isSubnavOpen=false;G.hadInit=false;G.hasToggle=false;G.lastClick=new Date();G.defaultClassName="";G.mousedOn=false;
G.mouse={};var K=document.getElementsByTagName("html")[0],N="ontouchstart" in window,T=(window.navigator.msMaxTouchPoints>0),C=N||T,P=(K.className.indexOf("no-csstransitions")==-1);var A=function(a){if(G.cachedElements[a]){return G.cachedElements[a]}else{if(document.getElementById(a)!=null){return document.getElementById(a)}else{console.log("ERROR: "+a+" does not exist");var b=document.createElement("div");return b}}};var Q=function(a){if(typeof a=="undefined"){a=event}if(!X){X=true;G.initHasMouse()
}G.mouse.clientX=a.clientX;G.mouse.clientY=a.clientY};G.init=function(){G.hasToggle=(typeof document.getElementById("nav_toggle_0")!="undefined")?true:false;G.defaultClassName=A("dtv_nav").className;G.initThirdParty();if(!DIRECTV.SiteIntegration){G.PageScroll()}if(N){navSwipe=new G.Swipe(A("dtv_topnav"),{callback:G.Swipe.done});A("nav_toggle_0").onclick=function(){navSwipe.next()};A("nav_toggle_1").onclick=function(){navSwipe.prev()};if(A("dtv_nav").className.indexOf("ep")!=-1){navSwipe.slide(1,0)
}}else{A("nav_toggle_0").onmouseover=A("nav_toggle_1").onmouseover=function(){G.HoverStop(this,O)};A("nav_toggle_0").onmouseout=A("nav_toggle_1").onmouseout=function(){this.hover=false};if(!C){A("nav_toggle_0").onclick=function(){if(!DIRECTV.SiteIntegration){location.href="/entertainment"}else{location.href="http://www.directv.com/entertainment"}};A("nav_toggle_1").onclick=function(){if(!DIRECTV.SiteIntegration){location.href="/"}else{location.href="http://www.directv.com/"}};A("dtv_header").onmousemove=Q;
A("dtv_header").onmouseover=function(){G.mousedOn=true};A("dtv_header").onmouseout=function(){G.mousedOn=false;setTimeout(function(){if(!G.mousedOn){if(G.defaultClassName.indexOf("ep")==-1){A("nav_toggle_1").handleStop()}else{A("nav_toggle_0").handleStop()}}},D)}}else{A("nav_toggle_0").onclick=A("nav_toggle_1").onclick=function(){this.handleStop()}}A("nav_toggle_0").handleStop=function(){G.mouse.clientX=G.mouse.clientY=0;setTimeout(function(){A("nav_alt_bg").style.zIndex=M++;A("dtv_nav_1").style.zIndex=M++
},I*5);if(P){A("dtv_nav").className="dtv-nav ep"}else{G.ieNavSlide("ep")}};A("nav_toggle_1").handleStop=function(){G.mouse.clientX=G.mouse.clientY=0;setTimeout(function(){A("nav_alt_bg").style.zIndex=M++;A("dtv_nav_0").style.zIndex=M++},I*5);if(P){A("dtv_nav").className="dtv-nav"}else{G.ieNavSlide("dtv")}};if(A("dtv_nav").className.indexOf("ep")==-1){A("dtv_nav_1").style.zIndex=M++;A("nav_alt_bg").style.zIndex=M++;A("dtv_nav_0").style.zIndex=M++}else{A("dtv_nav_0").style.zIndex=M++;A("nav_alt_bg").style.zIndex=M++;
A("dtv_nav_1").style.zIndex=M++}}var c=A("dtv_topnav").getElementsByTagName("li");for(var b=0;b<c.length;b++){if(c[b].className.indexOf("nav-item")!=-1){L.push(c[b]);R.push(c[b])}}var a=A("dtv_topnav_util").getElementsByTagName("div");for(var b=0;b<a.length;b++){if(a[b].className.indexOf("util-nav-item")!=-1){R.push(a[b])}}for(var b=0;b<R.length;b++){if(C){if(R[b].className.indexOf("no-sub")==-1){R[b].getElementsByTagName("a")[0].title=R[b].id;R[b].getElementsByTagName("a")[0].href="javascript:void(0);";
R[b].getElementsByTagName("a")[0].onclick=function(){G.subNavOpen=true;A(this.title).toggleSubnav()}}document.body.onclick=function(){setTimeout(function(){if(!G.subNavOpen){G.closeSubnavs()}else{G.subNavOpen=false}},50)};if(R[b].className.indexOf("util-nav-item")!=-1){R[b].onclick=function(){G.subNavOpen=true;this.openSubnav()}}}if(R[b].className.indexOf("no-sub")!=-1){R[b].onclick=function(){G.subNavOpen=true;if(this.getElementsByTagName("a").length>0){location.href=this.getElementsByTagName("a")[0].href
}}}R[b].handleStop=R[b].openSubnav=function(){if(this.className.indexOf("no-sub")==-1){G.closeSubnavs();this.className+=" hover";this.setHeight();G.isSubnavOpen=true;B=this}else{G.closeSubnavs("no-sub");this.className+=" hover"}};R[b].closeSubnav=function(){this.className=this.className.replace(/ hover/g,"");this.className=this.className.replace(/ hide/g,"");this.className=this.className.replace(/ show/g,"");if(typeof this.getElementsByTagName("div")[0]!="undefined"){var d=this.getElementsByTagName("div")[0];
d.style.height="";d.style.minHeight=""}G.isSubnavOpen=false;var e=A("dtv_topnav").getElementsByTagName("li");for(var f=0;f<e.length;f++){if(e[f].className.indexOf("hover")!=-1&&e[f].className.indexOf("no-sub")==-1){G.isSubnavOpen=true}}};R[b].toggleSubnav=function(){if(this.className.indexOf("hover")==-1){this.openSubnav()}else{this.closeSubnav()}};R[b].setHeight=function(){var d=this.getElementsByTagName("div")[0];if(typeof d!="undefined"){if(d.className.indexOf("dtv-subnav")!=-1&&d.className.indexOf("dtv-subnav-")==-1){if(P){if(typeof d.subnavHeight=="undefined"){d.style.visibility="hidden";
d.style.height="auto";d.subnavHeight=d.offsetHeight;d.style.visibility="";d.style.height=""}d.style.zIndex=S++;if(G.isSubnavOpen){if(typeof B.getElementsByTagName("div")[0].subnavHeight!="undefined"){var e=B.getElementsByTagName("div")[0].subnavHeight}else{var e=0}d.style.WebkitTransitionDuration=0;d.style.MozTransitionDuration=0;d.style.TransitionDuration=0;d.style.height=e+"px"}else{d.style.height=0}setTimeout(function(f){f.style.WebkitTransitionDuration="";f.style.MozTransitionDuration="";f.style.TransitionDuration="";
f.style.height=f.subnavHeight+"px"},10,d)}}}}}if(L.length<4){A("dtv_nav").className+=" no-stretch"}else{if(K.className.indexOf(" flexboxlegacy")==-1){G.adjustNavWidth()}}};G.initHasMouse=function(){for(var a=0;a<R.length;a++){R[a].onmouseover=function(b){G.HoverStop(this)};R[a].onmouseout=function(){if(this.hover){B=this}this.hover=false;clearInterval(this.mouseListen);var c=(this.className.indexOf("dtv-topnav-myaccount")!=-1);var b=c?3000:W;setTimeout(function(d){if(!d){d=B}if(!d.hover&&(!c||!V)){d.closeSubnav()
}},b,this)}}};G.closeSubnavs=function(a){if(a=="no-sub"){a=false}else{a=true}for(var b=0;b<R.length;b++){if(R[b].className.indexOf("hover")!=-1){R[b].className=R[b].className.replace(/ hover/g,"");R[b].className=R[b].className.replace(/ hide/g,"");R[b].className=R[b].className.replace(/ show/g,"");if(a){R[b].className+=" hide"}else{R[b].className+=" show"}}}};G._checkFieldChange=function(a){var b=setInterval(function(){if(G.isSubnavOpen){if(a.value!==U[a.name]){U[a.name]=a.value;G._handleFocusIn(a);
G._handleFocusOut(a)}}},100)};G.HoverStop=function(c,a){c.prevX=0;c.prevY=0;c.hover=true;E=c;var b=I;if(a!=undefined){b=a}else{if(G.isSubnavOpen){b=I/2}else{b=I}}if(c.mouseListen!=undefined){clearInterval(c.mouseListen)}c.mouseListen=setInterval(function(d){if(!d){d=E}if(G.mouse.clientX>0){if(d.hover&&G.mouse.clientX==d.prevX&&G.mouse.clientY==d.prevY){clearInterval(d.mouseListen);if(d.handleStop!=undefined){d.handleStop()}}}d.prevX=G.mouse.clientX;d.prevY=G.mouse.clientY},b,c)};G.adjustNavWidth=function(){var f=A("dtv_topnav");
var d=f.getElementsByTagName("nav")[0];var j=0;var g=d.getElementsByTagName("li");for(var k=0;k<g.length;k++){if(g[k].className.indexOf("nav-item")!=-1){j++}}var l=[];var n=0;g=f.getElementsByTagName("li");for(var k=0;k<g.length;k++){if(g[k].className.indexOf("nav-item")!=-1){if(typeof l[n]=="undefined"){l[n]=[]}l[n].push(g[k]);if(l[0].length==j){n=1}}}if(l.length>1){var h=[870,890]}else{var h=[980]}for(var k=0;k<l.length;k++){A("dtv_nav_"+k).cssDisplay=A("dtv_nav_"+k).style.display;A("dtv_nav_"+k).style.display="block";
l[k].navWidth=0;for(var m=0;m<l[k].length;m++){l[k].navWidth+=l[k][m].offsetWidth}var e=h[k]-l[k].navWidth;var c=Math.floor(e/l[k].length);for(var m=0;m<l[k].length;m++){if(l[k][m].className.indexOf("home")!=-1){var i=l[k][m].getElementsByTagName("span")[0]}else{var i=l[k][m].getElementsByTagName("a")[0]}var a=(i.style.paddingLeft!="")?parseInt(i.style.paddingLeft):0;var b=(i.style.paddingRight!="")?parseInt(i.style.paddingRight):0;console.log(i.style.paddingRight);i.style.paddingLeft=a+c/2+"px";
i.style.paddingRight=b+c/2+"px";l[k][m].style.visibility="visible"}A("dtv_nav_"+k).style.display=A("dtv_nav_"+k).cssDisplay}};G.ieNavSlide=function(g){var b=870,d=50,c=6,a=0,i=0,e=true;var f=typeof A("dtv_nav").style.opacity!="undefined";if(g=="ep"){target=-(b)}else{target=0}A("dtv_nav").className=A("dtv_nav").className+" slide";if(typeof h!="undefined"){clearInterval(h)}var h=setInterval(function(){if(typeof navEl=="undefined"){navEl=A("dtv_topnav")}if(typeof navBg=="undefined"){navBg=A("nav_alt_bg")
}i=(isNaN(parseInt(navEl.style.left)))?navEl.offsetLeft:parseInt(navEl.style.left);i=i-(i-target)/c;var j=Math.abs(i/b);if(f){navBg.style.opacity=j}else{navBg.style.filter="alpha(opacity="+j*100+")"}if((Math.abs(i-target)<b/2)&&e){e=false;A("dtv_nav").className="dtv-nav "+g}if(Math.abs(i-target)<3){clearInterval(h);navEl.style.left=target+"px"}else{navEl.style.left=i+"px"}},d)};G.initThirdParty=function(){var a=document.getElementById("passwordDropdownField");if(a){a.onfocus=function(){G._handleFocusIn(this,true)
};A("passwordDropdownFieldPlaceholder").onclick=function(){G._handlePlaceholderClick(this)};a.onblur=function(){G._handleFocusOut(this,true)};G._checkFieldChange(a);var b=document.getElementById("loginDropdownField");if(b){b.onfocus=function(){G._handleFocusIn(this,true)};b.onblur=function(){G._handleFocusOut(this,true)};A("loginDropdownFieldPlaceholder").onclick=function(){G._handlePlaceholderClick(this)};G._checkFieldChange(b)}}};G.PageScroll=function(){var a=(N)?J:H;var c=A("dtv_header").offsetHeight;
var b=document.body;var d=G.getViewportHeight();if(d>a){b.className+=" sticky-nav";b.style.paddingTop=c+"px"}window.onscroll=function(e){var f=("pageXOffset" in window)?window.pageYOffset:Math.floor(document.documentElement.scrollTop);var k=G.getViewportHeight();if(k>a){if(b.className.indexOf("sticky-nav")==-1){b.className+=" sticky-nav";document.body.style.paddingTop=c+"px"}}else{if(b.className.indexOf("sticky-nav")!=-1){b.className=b.className.replace(/ sticky-nav/g,"");b.style.paddingTop=0}}if(!N){if(f>z&&k>a){if(b.className.indexOf("nav-collapse")==-1){b.className+=" nav-collapse"
}}else{b.className=b.className.replace(/ nav-collapse/g,"")}if(G.isSubnavOpen){var h=A("dtv_topnav").getElementsByTagName("li");for(var g=0;g<h.length;g++){if(h[g].className.indexOf("hover")!=-1){h[g].className=h[g].className.replace(/ hover/g,"");var i=h[g].getElementsByTagName("div");for(var j=0;j<i.length;j++){if(i[j].className.indexOf("dtv-subnav")!=-1&&i[j].className.indexOf("dtv-subnav-")==-1){i[j].style.height="";i[j].style.minHeight="";i[j].style.zIndex=""}}}}G.isSubnavOpen=false}}}};G.getViewportHeight=function(){var a=("innerHeight" in window)?window.innerHeight:Math.floor(document.documentElement.clientHeight);
return a};G.Swipe=function(a,b){if(!a){return null}var c=this;this.options=b||{};this.index=this.options.startSlide||0;this.speed=this.options.speed||300;this.callback=this.options.callback||function(){};this.delay=this.options.auto||0;this.container=a;this.element=this.container;this.setup();this.begin();if(this.element.addEventListener){this.element.addEventListener("touchstart",this,false);this.element.addEventListener("touchmove",this,false);this.element.addEventListener("touchend",this,false);
this.element.addEventListener("webkitTransitionEnd",this,false);this.element.addEventListener("msTransitionEnd",this,false);this.element.addEventListener("oTransitionEnd",this,false);this.element.addEventListener("transitionEnd",this,false);window.addEventListener("resize",this,false)}};G.Swipe.prototype={setup:function(){this.slides=this.element.children;this.length=2;if(this.length<2){return null}this.width=870;if(!this.width){return null}this.element.style.width=(this.slides.length*this.width)+"px";
var b=this.slides.length;while(b--){var a=this.slides[b]}this.slide(this.index,0);this.container.style.visibility="visible"},slide:function(b,c){var a=this.element.style;if(c==undefined){c=this.speed}a.webkitTransitionDuration=a.MozTransitionDuration=a.msTransitionDuration=a.OTransitionDuration=a.transitionDuration=c+"ms";a.MozTransform=a.webkitTransform=a.transform="translate3d("+-(b*this.width)+"px,0,0)";a.msTransform=a.oTransform="translateX("+-(b*this.width)+"px)";if(this.index!=b){this.index=b;
G.closeSubnavs()}},getPos:function(){return this.index},prev:function(a){this.delay=a||0;clearTimeout(this.interval);if(this.index){this.slide(this.index-1,this.speed)}},next:function(a){this.delay=a||0;clearTimeout(this.interval);if(this.index<this.length-1){this.slide(this.index+1,this.speed)}else{this.slide(0,this.speed)}},begin:function(){var a=this;this.interval=(this.delay)?setTimeout(function(){a.next(a.delay)},this.delay):0},stop:function(){this.delay=0;clearTimeout(this.interval)},resume:function(){this.delay=this.options.auto||0;
this.begin()},handleEvent:function(a){switch(a.type){case"touchstart":this.onTouchStart(a);break;case"touchmove":this.onTouchMove(a);break;case"touchend":this.onTouchEnd(a);break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"transitionend":this.transitionEnd(a);break;case"resize":this.setup();break}},transitionEnd:function(a){if(this.delay){this.begin()}this.callback(a,this.index,this.slides[this.index])},onTouchStart:function(a){this.start={pageX:a.touches[0].pageX,pageY:a.touches[0].pageY,time:Number(new Date())};
this.isScrolling=undefined;this.deltaX=0;this.element.style.MozTransitionDuration=this.element.style.webkitTransitionDuration=this.element.style.transitionDuration=0;a.stopPropagation()},onTouchMove:function(a){if(a.touches.length>1||a.scale&&a.scale!==1){return}this.deltaX=a.touches[0].pageX-this.start.pageX;if(typeof this.isScrolling=="undefined"){this.isScrolling=!!(this.isScrolling||Math.abs(this.deltaX)<Math.abs(a.touches[0].pageY-this.start.pageY))}if(!this.isScrolling){a.preventDefault();clearTimeout(this.interval);
this.deltaX=this.deltaX/((!this.index&&this.deltaX>0||this.index==this.length-1&&this.deltaX<0)?(Math.abs(this.deltaX)/this.width+1):1);this.element.style.MozTransform=this.element.style.webkitTransform=this.element.style.transform="translate3d("+(this.deltaX-this.index*this.width)+"px,0,0)";a.stopPropagation()}},onTouchEnd:function(c){var a=Number(new Date())-this.start.time<250&&Math.abs(this.deltaX)>20||Math.abs(this.deltaX)>this.width/2,b=!this.index&&this.deltaX>0||this.index==this.length-1&&this.deltaX<0;
if(!this.isScrolling){this.slide(this.index+(a&&!b?(this.deltaX<0?1:-1):0),this.speed)}c.stopPropagation()}};G.Swipe.done=function(a,b){if(b==1){document.getElementById("dtv_nav").className="dtv-nav ep"}else{document.getElementById("dtv_nav").className="dtv-nav"}};G._handlePlaceholderClick=function(b,a){A(b.id.slice(0,-11)).focus()};G._handleFocusIn=function(d,a){if(a){V=true}var c=d;var b=A(c.id+"Placeholder");if(c.id=="loginDropdownField"){b.style.display="none"}else{if(c.id=="passwordDropdownField"){b.style.display="none"
}}};G._handleFocusOut=function(d,a){if(a){V=false}var c=d;var b=A(c.id+"Placeholder");if(c.id=="loginDropdownField"&&c.value==""){b.style.display="block"}else{if(c.id=="passwordDropdownField"&&c.value==""){b.style.display="block"}}};var F=setInterval(function(){if(document.getElementById("topnav_done")!=null){clearInterval(F);G.init()}},25)})();