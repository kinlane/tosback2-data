/* Copyright 2011, SiteSpect, Inc. All Rights Reserved. */
(function(f){var c=f.document,i={},j=f.encodeURIComponent;i.Cookie=function(){return{get:function(f,a){var b;b=(b=c.cookie.match(RegExp(f+"=([^;]*)")))&&b.length>0?decodeURIComponent(b[1]):"";if(!b)return"";a&&(a=a.substr(0,1).toLowerCase());switch(a){case "s":return b;case "a":return b.split("\u000b");default:return b.match("\u000b")?b.split("\u000b"):b}},set:function(f,a,b){typeof a==="object"&&(a=a.join("\u000b"));c.cookie=j(f)+"="+j(a)+(b||"")}}}();i.JSEvents=function(){function i(a,b,c){a.addEventListener?
a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}return{on:i,off:function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)},trgt:function(a){if(!a)a=f.event;a=a.target||a.srcElement||c;if(a.nodeType===3)a=a.parentNode;return a},ready:function(a){var b=!1,m=!1,h,d;h=function(){if(!b){if(!c.body)return setTimeout(h,1);b=!0;a()}};if(c.addEventListener)d=function(){c.removeEventListener("DOMContentLoaded",d,!1);h()},c.addEventListener("DOMContentLoaded",
d,!1);else if(c.attachEvent){d=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",d),h())};c.attachEvent("onreadystatechange",d);try{m=f.frameElement===null}catch(n){}c.documentElement.doScroll&&m&&function e(){if(!b){try{c.documentElement.doScroll("left")}catch(a){setTimeout(e,1);return}h()}}()}i(f,"load",h)}}}();i.TimerFactory=function(){function c(){var a=-1,b=-1;return{start:function(b){a=(b||new Date).getTime();return a>0},stop:function(){b=(new Date).getTime();return b>
0},reset:function(){b=a=-1},diff:function(){if(a<=0)throw"Failure to Start Timer";if(b<=0)throw"Failure to Stop Timer";if(a>b)throw"Failure to Reset Timer";return(b-a)/1E3}}}return{get:function(){return new c}}}();i.EventTrack=function(){function i(a){a+="-1";var b;try{b=f.ActiveXObject?new f.ActiveXObject("Microsoft.XMLHTTP"):new f.XMLHttpRequest,b.open("GET",a,!1)}catch(c){return!1}try{b.setRequestHeader("X-Requested-With","XMLHttpRequest"),b.setRequestHeader("Accept","*/*")}catch(g){}try{b.send(null)}catch(h){if(h.number&
1)return!1}d[d.length]=b;return!0}var a="www.wayfair.com",b=""||f.location.protocol,m="/__ssobj/track",h=Math.floor(Math.random()*99999999),d=[];return{rp:function(n,l){var e;e=n;var g=l,p=(new Date).getTime()+h,o=[],k;if(typeof e==="object"){for(k=0;k<e.length;k++)e[k]="event"+k+"="+j(e[k]);e=e.join("&")}else e="event="+j(e);if(g&&typeof g==="object"){for(k in g)g.hasOwnProperty(k)&&(o[o.length]="value_"+j(k)+"="+j(g[k]));g=o.join("&")}else g="value="+j(g||"");e=b+"//"+a+m+"?"+e+"&"+g+"&x="+p;
if(f.location.hostname!==a||!i(e))b==="https:"?(g=e,g+="-3",e="SS.IMG"+h,g='<img src="'+g+'" height="1" width="1" border="0" id="'+e+'" />',(!c.readyState||c.readyState==="complete")&&c.body&&c.body.innerHTML?c.body.innerHTML+=g:c.write(g),c.getElementById&&(e=c.getElementById(e),d[d.length]=e)):(e+="-2",g=new Image,g.src=e,d[d.length]=g)},r:d}}();i.PageTimer=function(){function c(a){var d=!1;return function(){if(j&&!d&&(d=!0,b.stop()))try{var c=b.diff();c<=1795&&i.EventTrack.rp(a,c)}catch(f){}}}
var a=i.JSEvents,b,j;return{time:function(h,d,n){b=i.TimerFactory.get();if(j=b.start(n)){var l=c(d),d=!1;h==="ready"?(a.ready(l),d=!0):h==="load"?(a.on(f,"load",l),d=!0):h==="dwell"?(a.on(f,"unload",l),d=!0):h==="abandon"&&(a.on(f,"unload",l),a.on(f,"load",function(){a.off(f,"unload",l)}),d=!0);return d}else return!1}}}();f.SS=i})(this);