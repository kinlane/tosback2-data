/* Globally included third-party scripts, plugins, etc... */(!window.console||!window.console.log)&&function(){var noop=function(){},methods=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","markTimeline","table","time","timeEnd","timeStamp","trace","warn"],length=methods.length,console=window.console={};while(length--)console[methods[length]]=noop}();(function(window,document,$){function args(elem){var newAttrs={},rinlinejQuery=/^jQuery\d+$/;$.each(elem.attributes,function(i,attr){attr.specified&&!rinlinejQuery.test(attr.name)&&(newAttrs[attr.name]=attr.value)});return newAttrs}function clearPlaceholder(){var $input=$(this);$input.val()===$input.attr("placeholder")&&$input.hasClass("placeholder")&&($input.data("placeholder-password")?$input.hide().next().show().focus().attr("id",$input.removeAttr("id").data("placeholder-id")):$input.val("").removeClass("placeholder"))}function setPlaceholder(){var $replacement,$input=$(this),$origInput=$input,id=this.id;if($input.val()===""){if($input.is(":password")){if(!$input.data("placeholder-textinput")){try{$replacement=$input.clone().attr({type:"text"})}catch(e){$replacement=$("<input>").attr($.extend(args(this),{type:"text"}))}$replacement.removeAttr("name").data("placeholder-password",!0).data("placeholder-id",id).bind("focus.placeholder",clearPlaceholder);$input.data("placeholder-textinput",$replacement).data("placeholder-id",id).before($replacement)}$input=$input.removeAttr("id").hide().prev().attr("id",id).show()}$input.addClass("placeholder").val($input.attr("placeholder"))}else $input.removeClass("placeholder")}var isInputSupported="placeholder"in document.createElement("input"),isTextareaSupported="placeholder"in document.createElement("textarea");if(isInputSupported&&isTextareaSupported){$.fn.placeholder=function(){return this};$.fn.placeholder.input=$.fn.placeholder.textarea=!0}else{$.fn.placeholder=function(){return this.filter((isInputSupported?"textarea":":input")+"[placeholder]").bind("focus.placeholder",clearPlaceholder).bind("blur.placeholder",setPlaceholder).trigger("blur.placeholder").end()};$.fn.placeholder.input=isInputSupported;$.fn.placeholder.textarea=isTextareaSupported;$(function(){$("form").bind("submit.placeholder",function(){var $inputs=$(".placeholder",this).each(clearPlaceholder);setTimeout(function(){$inputs.each(setPlaceholder)},10)})});$(window).bind("unload.placeholder",function(){$(".placeholder").val("")})}})(this,document,jQuery);(function($){var ie6=$.browser.msie&&parseInt($.browser.version)===6&&typeof window.XMLHttpRequest!="object",ie7=$.browser.msie&&parseInt($.browser.version)===7,ieQuirks=null,w=[];$.modal=function(data,options){return $.modal.impl.init(data,options)};$.modal.close=function(){$.modal.impl.close()};$.modal.focus=function(pos){$.modal.impl.focus(pos)};$.modal.setContainerDimensions=function(){$.modal.impl.setContainerDimensions()};$.modal.setPosition=function(){$.modal.impl.setPosition()};$.modal.update=function(height,width){$.modal.impl.update(height,width)};$.fn.modal=function(options){return $.modal.impl.init(this,options)};$.modal.defaults={appendTo:"body",focus:!0,opacity:50,overlayId:"simplemodal-overlay",overlayCss:{},containerId:"simplemodal-container",containerCss:{},dataId:"simplemodal-data",dataCss:{},minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,autoResize:!1,autoPosition:!0,zIndex:1e3,close:!0,closeHTML:'<a class="modalCloseImg" title="Close"></a>',closeClass:"simplemodal-close",escClose:!0,overlayClose:!1,position:null,persist:!1,modal:!0,onOpen:null,onShow:null,onClose:null};$.modal.impl={d:{},init:function(data,options){var s=this;if(s.d.data)return!1;ieQuirks=$.browser.msie&&!$.boxModel;s.o=$.extend({},$.modal.defaults,options);s.zIndex=s.o.zIndex;s.occb=!1;if(typeof data=="object"){data=data instanceof jQuery?data:$(data);s.d.placeholder=!1;if(data.parent().parent().size()>0){data.before($("<span></span>").attr("id","simplemodal-placeholder").css({display:"none"}));s.d.placeholder=!0;s.display=data.css("display");s.o.persist||(s.d.orig=data.clone(!0))}}else{if(typeof data!="string"&&typeof data!="number"){alert("SimpleModal Error: Unsupported data type: "+typeof data);return s}data=$("<div></div>").html(data)}s.create(data);data=null;s.open();$.isFunction(s.o.onShow)&&s.o.onShow.apply(s,[s.d]);return s},create:function(data){var s=this;w=s.getDimensions();s.o.modal&&ie6&&(s.d.iframe=$('<iframe src="javascript:false;"></iframe>').css($.extend(s.o.iframeCss,{display:"none",opacity:0,position:"fixed",height:w[0],width:w[1],zIndex:s.o.zIndex,top:0,left:0})).appendTo(s.o.appendTo));s.d.overlay=$("<div></div>").attr("id",s.o.overlayId).addClass("simplemodal-overlay").css($.extend(s.o.overlayCss,{display:"none",opacity:s.o.opacity/100,height:s.o.modal?w[0]:0,width:s.o.modal?w[1]:0,position:"fixed",left:0,top:0,zIndex:s.o.zIndex+1})).appendTo(s.o.appendTo);s.d.container=$("<div></div>").attr("id",s.o.containerId).addClass("simplemodal-container").css($.extend(s.o.containerCss,{display:"none",position:"fixed",zIndex:s.o.zIndex+2})).append(s.o.close&&s.o.closeHTML?$(s.o.closeHTML).addClass(s.o.closeClass):"").appendTo(s.o.appendTo);s.d.wrap=$("<div></div>").attr("tabIndex",-1).addClass("simplemodal-wrap").css({height:"100%",outline:0,width:"100%"}).appendTo(s.d.container);s.d.data=data.attr("id",data.attr("id")||s.o.dataId).addClass("simplemodal-data").css($.extend(s.o.dataCss,{display:"none"})).appendTo("body");data=null;s.setContainerDimensions();s.d.data.appendTo(s.d.wrap);(ie6||ieQuirks)&&s.fixIE()},bindEvents:function(){var s=this;$("."+s.o.closeClass).bind("click.simplemodal",function(e){e.preventDefault();s.close()});s.o.modal&&s.o.close&&s.o.overlayClose&&s.d.overlay.bind("click.simplemodal",function(e){e.preventDefault();s.close()});$(document).bind("keydown.simplemodal",function(e){if(s.o.modal&&e.keyCode===9)s.watchTab(e);else if(s.o.close&&s.o.escClose&&e.keyCode===27){e.preventDefault();s.close()}});$(window).bind("resize.simplemodal",function(){w=s.getDimensions();s.o.autoResize?s.setContainerDimensions():s.o.autoPosition&&s.setPosition();if(ie6||ieQuirks)s.fixIE();else if(s.o.modal){s.d.iframe&&s.d.iframe.css({height:w[0],width:w[1]});s.d.overlay.css({height:w[0],width:w[1]})}})},unbindEvents:function(){$("."+this.o.closeClass).unbind("click.simplemodal");$(document).unbind("keydown.simplemodal");$(window).unbind("resize.simplemodal");this.d.overlay.unbind("click.simplemodal")},fixIE:function(){var s=this,p=s.o.position;$.each([s.d.iframe||null,s.o.modal?s.d.overlay:null,s.d.container],function(i,el){if(el){var bch="document.body.clientHeight",bcw="document.body.clientWidth",bsh="document.body.scrollHeight",bsl="document.body.scrollLeft",bst="document.body.scrollTop",bsw="document.body.scrollWidth",ch="document.documentElement.clientHeight",cw="document.documentElement.clientWidth",sl="document.documentElement.scrollLeft",st="document.documentElement.scrollTop",s=el[0].style;s.position="absolute";if(i<2){s.removeExpression("height");s.removeExpression("width");s.setExpression("height",""+bsh+" > "+bch+" ? "+bsh+" : "+bch+' + "px"');s.setExpression("width",""+bsw+" > "+bcw+" ? "+bsw+" : "+bcw+' + "px"')}else{var te,le;if(p&&p.constructor===Array){var top=p[0]?typeof p[0]=="number"?p[0].toString():p[0].replace(/px/,""):el.css("top").replace(/px/,"");te=top.indexOf("%")===-1?top+" + (t = "+st+" ? "+st+" : "+bst+') + "px"':parseInt(top.replace(/%/,""))+" * (("+ch+" || "+bch+") / 100) + (t = "+st+" ? "+st+" : "+bst+') + "px"';if(p[1]){var left=typeof p[1]=="number"?p[1].toString():p[1].replace(/px/,"");le=left.indexOf("%")===-1?left+" + (t = "+sl+" ? "+sl+" : "+bsl+') + "px"':parseInt(left.replace(/%/,""))+" * (("+cw+" || "+bcw+") / 100) + (t = "+sl+" ? "+sl+" : "+bsl+') + "px"'}}else{te="("+ch+" || "+bch+") / 2 - (this.offsetHeight / 2) + (t = "+st+" ? "+st+" : "+bst+') + "px"';le="("+cw+" || "+bcw+") / 2 - (this.offsetWidth / 2) + (t = "+sl+" ? "+sl+" : "+bsl+') + "px"'}s.removeExpression("top");s.removeExpression("left");s.setExpression("top",te);s.setExpression("left",le)}}})},focus:function(pos){var s=this,p=pos&&$.inArray(pos,["first","last"])!==-1?pos:"first",input=$(":input:enabled:visible:"+p,s.d.wrap);setTimeout(function(){input.length>0?input.focus():s.d.wrap.focus()},10)},getDimensions:function(){var el=$(window),h=$.browser.opera&&$.browser.version>"9.5"&&$.fn.jquery<"1.3"||$.browser.opera&&$.browser.version<"9.5"&&$.fn.jquery>"1.2.6"?el[0].innerHeight:el.height();return[h,el.width()]},getVal:function(v,d){return v?typeof v=="number"?v:v==="auto"?0:v.indexOf("%")>0?parseInt(v.replace(/%/,""))/100*(d==="h"?w[0]:w[1]):parseInt(v.replace(/px/,"")):null},update:function(height,width){var s=this;if(!s.d.data)return!1;s.d.origHeight=s.getVal(height,"h");s.d.origWidth=s.getVal(width,"w");s.d.data.hide();height&&s.d.container.css("height",height);width&&s.d.container.css("width",width);s.setContainerDimensions();s.d.data.show();s.o.focus&&s.focus();s.unbindEvents();s.bindEvents()},setContainerDimensions:function(){var s=this,badIE=ie6||ie7,ch=s.d.origHeight?s.d.origHeight:$.browser.opera?s.d.container.height():s.getVal(badIE?s.d.container[0].currentStyle.height:s.d.container.css("height"),"h"),cw=s.d.origWidth?s.d.origWidth:$.browser.opera?s.d.container.width():s.getVal(badIE?s.d.container[0].currentStyle.width:s.d.container.css("width"),"w"),dh=s.d.data.outerHeight(!0),dw=s.d.data.outerWidth(!0);s.d.origHeight=s.d.origHeight||ch;s.d.origWidth=s.d.origWidth||cw;var mxoh=s.o.maxHeight?s.getVal(s.o.maxHeight,"h"):null,mxow=s.o.maxWidth?s.getVal(s.o.maxWidth,"w"):null,mh=mxoh&&mxoh<w[0]?mxoh:w[0],mw=mxow&&mxow<w[1]?mxow:w[1],moh=s.o.minHeight?s.getVal(s.o.minHeight,"h"):"auto";ch?ch=s.o.autoResize&&ch>mh?mh:ch<moh?moh:ch:dh?dh>mh?ch=mh:s.o.minHeight&&moh!=="auto"&&dh<moh?ch=moh:ch=dh:ch=moh;var mow=s.o.minWidth?s.getVal(s.o.minWidth,"w"):"auto";cw?cw=s.o.autoResize&&cw>mw?mw:cw<mow?mow:cw:dw?dw>mw?cw=mw:s.o.minWidth&&mow!=="auto"&&dw<mow?cw=mow:cw=dw:cw=mow;s.d.container.css({height:ch,width:cw});s.d.wrap.css({overflow:dh>ch||dw>cw?"auto":"visible"});s.o.autoPosition&&s.setPosition()},setPosition:function(){var s=this,top,left,hc=w[0]/2-s.d.container.outerHeight(!0)/2,vc=w[1]/2-s.d.container.outerWidth(!0)/2;if(s.o.position&&Object.prototype.toString.call(s.o.position)==="[object Array]"){top=s.o.position[0]||hc;left=s.o.position[1]||vc}else{top=hc;left=vc}s.d.container.css({left:left,top:top})},watchTab:function(e){var s=this;if($(e.target).parents(".simplemodal-container").length>0){s.inputs=$(":input:enabled:visible:first, :input:enabled:visible:last",s.d.data[0]);if(!e.shiftKey&&e.target===s.inputs[s.inputs.length-1]||e.shiftKey&&e.target===s.inputs[0]||s.inputs.length===0){e.preventDefault();var pos=e.shiftKey?"last":"first";s.focus(pos)}}else{e.preventDefault();s.focus()}},open:function(){var s=this;s.d.iframe&&s.d.iframe.show();if($.isFunction(s.o.onOpen))s.o.onOpen.apply(s,[s.d]);else{s.d.overlay.show();s.d.container.show();s.d.data.show()}s.o.focus&&s.focus();s.bindEvents()},close:function(){var s=this;if(!s.d.data)return!1;s.unbindEvents();if($.isFunction(s.o.onClose)&&!s.occb){s.occb=!0;s.o.onClose.apply(s,[s.d])}else{if(s.d.placeholder){var ph=$("#simplemodal-placeholder");if(s.o.persist)ph.replaceWith(s.d.data.removeClass("simplemodal-data").css("display",s.display));else{s.d.data.hide().remove();ph.replaceWith(s.d.orig)}}else s.d.data.hide().remove();s.d.container.hide().remove();s.d.overlay.hide();s.d.iframe&&s.d.iframe.hide().remove();setTimeout(function(){s.d.overlay.remove();s.d={}},10)}}}})(jQuery);(function($){$.fn.tweet=function(o){function t(template,info){if(typeof template=="string"){var result=template;for(var key in info){var val=info[key];result=result.replace(new RegExp("{"+key+"}","g"),val===null?"":val)}return result}return template(info)}function replacer(regex,replacement){return function(){var returning=[];this.each(function(){returning.push(this.replace(regex,replacement))});return $(returning)}}function parse_date(date_str){return Date.parse(date_str.replace(/^([a-z]{3})( [a-z]{3} \d\d?)(.*)( \d{4})$/i,"$1,$2$4$3"))}function relative_time(date){var relative_to=arguments.length>1?arguments[1]:new Date,delta=parseInt((relative_to.getTime()-date)/1e3,10),r="";delta<60?r=delta+" seconds ago":delta<120?r="a minute ago":delta<2700?r=parseInt(delta/60,10).toString()+" minutes ago":delta<7200?r="an hour ago":delta<86400?r=""+parseInt(delta/3600,10).toString()+" hours ago":delta<172800?r="a day ago":r=parseInt(delta/86400,10).toString()+" days ago";return"about "+r}function build_auto_join_text(text){return text.match(/^(@([A-Za-z0-9-_]+)) .*/i)?s.auto_join_text_reply:text.match(url_regexp)?s.auto_join_text_url:text.match(/^((\w+ed)|just) .*/im)?s.auto_join_text_ed:text.match(/^(\w*ing) .*/i)?s.auto_join_text_ing:s.auto_join_text_default}function maybe_https(url){return"https:"==document.location.protocol?url.replace(/^http:/,"https:"):url}function build_api_url(){var proto="https:"==document.location.protocol?"https:":"http:",count=s.fetch===null?s.count:s.fetch;if(s.list)return proto+"//"+s.twitter_api_url+"/1/"+s.username[0]+"/lists/"+s.list+"/statuses.json?page="+s.page+"&per_page="+count+"&callback=?";if(s.favorites)return proto+"//"+s.twitter_api_url+"/favorites/"+s.username[0]+".json?page="+s.page+"&count="+count+"&callback=?";if(s.query===null&&s.username.length==1)return proto+"//"+s.twitter_api_url+"/1/statuses/user_timeline.json?screen_name="+s.username[0]+"&count="+count+(s.retweets?"&include_rts=1":"")+"&page="+s.page+"&callback=?";var query=s.query||"from:"+s.username.join(" OR from:");return proto+"//"+s.twitter_search_url+"/search.json?&q="+encodeURIComponent(query)+"&rpp="+count+"&page="+s.page+"&callback=?"}function extract_template_data(item){var o={};o.item=item;o.source=item.source;o.screen_name=item.from_user||item.user.screen_name;o.avatar_size=s.avatar_size;o.avatar_url=maybe_https(item.profile_image_url||item.user.profile_image_url);o.retweet=typeof item.retweeted_status!="undefined";o.tweet_time=parse_date(item.created_at);o.join_text=s.join_text=="auto"?build_auto_join_text(item.text):s.join_text;o.tweet_id=item.id_str;o.twitter_base="http://"+s.twitter_url+"/";o.user_url=o.twitter_base+o.screen_name;o.tweet_url=o.user_url+"/status/"+o.tweet_id;o.reply_url=o.twitter_base+"intent/tweet?in_reply_to="+o.tweet_id;o.retweet_url=o.twitter_base+"intent/retweet?tweet_id="+o.tweet_id;o.favorite_url=o.twitter_base+"intent/favorite?tweet_id="+o.tweet_id;o.retweeted_screen_name=o.retweet&&item.retweeted_status.user.screen_name;o.tweet_relative_time=relative_time(o.tweet_time);o.tweet_raw_text=o.retweet?"RT @"+o.retweeted_screen_name+" "+item.retweeted_status.text:item.text;o.tweet_text=$([o.tweet_raw_text]).linkUrl().linkUser().linkHash()[0];o.tweet_text_fancy=$([o.tweet_text]).makeHeart().capAwesome().capEpic()[0];o.user=t('<a class="tweet_user" href="{user_url}">{screen_name}</a>',o);o.join=s.join_text?t(' <span class="tweet_join">{join_text}</span> ',o):" ";o.avatar=o.avatar_size?t('<a class="tweet_avatar" href="{user_url}"><img src="{avatar_url}" height="{avatar_size}" width="{avatar_size}" alt="{screen_name}\'s avatar" title="{screen_name}\'s avatar" border="0"/></a>',o):"";o.time=t('<span class="tweet_time"><a href="{tweet_url}" title="view tweet on twitter">{tweet_relative_time}</a></span>',o);o.text=t('<span class="tweet_text">{tweet_text_fancy}</span>',o);o.reply_action=t('<a class="tweet_action tweet_reply" href="{reply_url}">reply</a>',o);o.retweet_action=t('<a class="tweet_action tweet_retweet" href="{retweet_url}">retweet</a>',o);o.favorite_action=t('<a class="tweet_action tweet_favorite" href="{favorite_url}">favorite</a>',o);return o}var s=$.extend({username:null,list:null,favorites:!1,query:null,avatar_size:null,count:3,fetch:null,page:1,retweets:!0,intro_text:null,outro_text:null,join_text:null,auto_join_text_default:"i said,",auto_join_text_ed:"i",auto_join_text_ing:"i am",auto_join_text_reply:"i replied to",auto_join_text_url:"i was looking at",loading_text:null,refresh_interval:null,twitter_url:"twitter.com",twitter_api_url:"api.twitter.com",twitter_search_url:"search.twitter.com",template:"{avatar}{time}{join}{text}",comparator:function(tweet1,tweet2){return tweet2.tweet_time-tweet1.tweet_time},filter:function(tweet){return!0}},o),url_regexp=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi;$.extend({tweet:{t:t}});$.fn.extend({linkUrl:replacer(url_regexp,function(match){var url=/^[a-z]+:/i.test(match)?match:"http://"+match;return'<a href="'+url+'">'+match+"</a>"}),linkUser:replacer(/@(\w+)/gi,'@<a href="http://'+s.twitter_url+'/$1">$1</a>'),linkHash:replacer(/(?:^| )[\#]+([\w\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u00ff\u0600-\u06ff]+)/gi,' <a href="http://'+s.twitter_search_url+"/search?q=&tag=$1&lang=all"+(s.username&&s.username.length==1?"&from="+s.username.join("%2BOR%2B"):"")+'">#$1</a>'),capAwesome:replacer(/\b(awesome)\b/gi,'<span class="awesome">$1</span>'),capEpic:replacer(/\b(epic)\b/gi,'<span class="epic">$1</span>'),makeHeart:replacer(/(&lt;)+[3]/gi,"<tt class='heart'>&#x2665;</tt>")});return this.each(function(i,widget){var list=$('<ul class="tweet_list">').appendTo(widget),intro='<p class="tweet_intro">'+s.intro_text+"</p>",outro='<p class="tweet_outro">'+s.outro_text+"</p>",loading=$('<p class="loading">'+s.loading_text+"</p>");s.username&&typeof s.username=="string"&&(s.username=[s.username]);s.loading_text&&$(widget).append(loading);$(widget).bind("tweet:load",function(){$.getJSON(build_api_url(),function(data){s.loading_text&&loading.remove();s.intro_text&&list.before(intro);list.empty();var tweets=$.map(data.results||data,extract_template_data);tweets=$.grep(tweets,s.filter).sort(s.comparator).slice(0,s.count);list.append($.map(tweets,function(o){return"<li>"+t(s.template,o)+"</li>"}).join("")).children("li:first").addClass("tweet_first").end().children("li:odd").addClass("tweet_even").end().children("li:even").addClass("tweet_odd");s.outro_text&&list.after(outro);$(widget).trigger("loaded").trigger(tweets.length===0?"empty":"full");s.refresh_interval&&window.setTimeout(function(){$(widget).trigger("tweet:load")},1e3*s.refresh_interval)})}).trigger("tweet:load")})}})(jQuery);