/**
 * Copyright (c) 2009-2012 Rachael Ray Digital, John Shearer
 *
 */var RR=function(){var ro={version:"0.1 alpha",flashVersion:"8"},rw={section:"",subsection:"",error:""},my={};my.get=function(name){if(ro.hasOwnProperty(name))return ro[name];if(rw.hasOwnProperty(name))return rw[name];return};my.set=function(name,value){rw.hasOwnProperty(name)&&(rw[name]=value);return this};return my}(),RR=RR||{};RR.loadEvents=function(){var events={common:{init:function(){var bodyClass=document.body.className.split(/\s+/)[0];$(".siteNav > li."+bodyClass).addClass("on");jQuery("#search .query").placeholder()},finalize:function(){}},home:{init:function(){jQuery(".topRecipes .tabs a").bind("click",function(e){var that=jQuery(this),mytab=that.hasClass("newest")?"newest":"popular";e.preventDefault();that.addClass("current");if(mytab==="newest"){jQuery(".topRecipes div.newest").removeClass("hidden");jQuery(".topRecipes div.popular").addClass("hidden");jQuery(".topRecipes .tabs a.popular").removeClass("current")}else{jQuery(".topRecipes div.popular").removeClass("hidden");jQuery(".topRecipes div.newest").addClass("hidden");jQuery(".topRecipes .tabs a.newest").removeClass("current")}})},home:function(){jQuery(function($){$(".tweets").tweet({username:"rachael_ray",template:"{text}{time}",retweets:!1,count:1,fetch:5,loading_text:"loading tweets..."})})}},food:{init:function(){},budget:function(){jQuery("a.signUp").bind("click",function(){return RR.chimp.getSignup("bml")})},recipes:function(){jQuery("#mailFriendForm").bind("submit",RR.checkMailFriendForm);jQuery("a.mailfriend").bind("click",function(e){e.preventDefault();jQuery(".email-friend").modal({overlayClose:!0})})},collections:function(){jQuery(".collection .tabs. li."+RR.current).addClass("selected");jQuery(".rbbn-hdr-tabs li."+RR.current).addClass("selected")},searchForm:function(){jQuery("#bigForm").bind("submit",RR.checkAdvancedRecipeForm);jQuery("#bigForm .unit label input").each(function(){var that=jQuery(this),parent=that.parent();that.is(":checked")?parent.addClass("selected"):parent.removeClass("selected");that.bind("change",function(){that.is(":checked")?parent.addClass("selected"):parent.removeClass("selected")})})},roundup:function(){jQuery("a.roundupSubscribe").bind("click",function(){return RR.chimp.getSignup("wru")})}},travel:{init:function(){},feedback:function(){jQuery.ajax({url:"/js/jquery.cycle.all.min.js",dataType:"script",context:jQuery(".sldshw-screen"),success:RR.loadFeedCycle});jQuery(".js-tabs.event li."+RR.currentEvent).addClass("selected");jQuery(".js-tabs.cat   li."+RR.currentCat).addClass("selected")},entertaining:function(){jQuery(".collection .rbbn-hdr-tabs li."+RR.current).addClass("selected")},collections:function(){jQuery(".collection .rbbn-hdr-tabs li."+RR.current).addClass("selected")}},shop:{init:function(){window.adroll_adv_id="WHGX64HU55GNVAUA4B2VIN";window.adroll_pix_id="6DG2TYX3E5ARBDVDGY2X66";window.__adroll_loaded=!0;var scr=document.createElement("script"),host="https:"===document.location.protocol?"https://s.adroll.com":"http://a.adroll.com",e=document.getElementsByTagName("script")[0];scr.setAttribute("async","true");scr.src=host+"/j/roundtrip.js";e.parentNode.insertBefore(scr,e)},videos:function(){jQuery("a.signup").bind("click",function(){return RR.chimp.getSignup("cso")})}},rach:{init:function(){},home:function(){jQuery(function($){$(".tweets").tweet({username:"rachael_ray",template:"{text}{time}",retweets:!1,count:2,fetch:5,loading_text:"loading tweet..."})})},slideshow:function(){jQuery.ajax({url:"/js/jquery.cycle.lite.min.js",dataType:"script",context:jQuery(".sldshw-screen"),success:RR.loadCycle})}},kids:{init:function(){},quick:function(){jQuery(".rbbn-hdr-tabs li."+RR.current).addClass("selected");jQuery(function($){$(".tweets").tweet({username:["lastminutelady","planbmom"],template:"{avatar}{user}: {text}<br>{time}",avatar_size:48,retweets:!1,count:8,fetch:12,loading_text:"loading tweets..."})})}}},fire=function(func,funcname){funcname=funcname===undefined?"init":funcname;func!==""&&events[func]&&typeof events[func][funcname]=="function"&&events[func][funcname]()};return function(){var body=document.body,bodyId=body.id;fire("common");jQuery.each(body.className.split(/\s+/),function(i,classname){fire(classname);fire(classname,bodyId)});fire("common","finalize");return this}}();jQuery(document).ready(RR.loadEvents);var RR=RR||{};RR.sldshwSwap=function($){var my={};my.before=function(current,next,opts){var mydata=jQuery(next).data();$(".sldshw-slide-position").html(opts.currSlide+1+" / "+opts.slideCount+": ");$(".sldshw-slide-caption").html(mydata.caption)};my.after=null;return my}(jQuery);RR.villaSldshwSwap=function($){var my={};my.after=function(curr,next,opts){$(".sldshw-slide-position").html(opts.currSlide+1+" / "+opts.slideCount+": ")};my.before=null;return my}(jQuery);RR.loadFeedCycle=function(){var prop,mydata=this.data(),myshow={speed:"slow",timeout:0,next:".sldshw-next",prev:".sldshw-prev",pager:".js-pager",pagerAnchorBuilder:function(idx){return".js-pager .media .bd:eq("+idx+") a"}};for(prop in mydata)if(mydata.hasOwnProperty(prop))if(prop==="handler"){myshow.before=window.RR[mydata.handler].before;myshow.after=window.RR[mydata.handler].after}else myshow[prop]=mydata[prop];this.cycle(myshow)};RR.loadCycle=function(){var prop,mydata=this.data(),myshow={speed:"slow",timeout:0,next:".sldshw-next",prev:".sldshw-prev"};for(prop in mydata)if(mydata.hasOwnProperty(prop))if(prop==="handler"){myshow.before=window.RR[mydata.handler].before;myshow.after=window.RR[mydata.handler].after}else myshow[prop]=mydata[prop];this.cycle(myshow)};RR.popWindow=function(){var defaults={toolbar:0,scrollbars:1,location:0,statusbar:0,menubar:0,resizable:0,width:720,height:640};return function(url,id,opts){var param,params=[];for(param in opts)opts.hasOwnProperty(param)&&(defaults[param]=opts[param]);for(param in defaults)defaults.hasOwnProperty(param)&&params.push([param,defaults[param]].join("="));params=params.join(",");return window.open(url,id,params)}}();RR.getUrlParam=function(param){var _urlParams={};(function(){var i,splitVal,query=window.location.search.substring(1),r=/([^&=]+)=?([^&]*)/g,params=query.match(r),d=function(str){return decodeURIComponent(str)};for(i in params)if(params.hasOwnProperty(i)){splitVal=params[i].split("=");_urlParams[d(splitVal[0])]=d(splitVal[1])}})();RR.getUrlParam=function(param){return _urlParams[param]};return RR.getUrlParam(param)};RR.isValidEmail=function(email){var emailFilter=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})$/;return emailFilter.test(email)};RR.utils=function(global){var my={};my.log=function(msg){if(global.console){global.console.log("INFO: "+msg);return this}};my.debug=function(obj){if(global.console){global.console.debug(obj);return this}};my.arg2array=function(argObj){return global.Array.prototype.slice.call(argObj)};my.trim=function(){var args=[/^\s+|\s+$/g,""];return function(str){return global.String.prototype.replace.apply(str,args)}}();return my}(this);RR.checkAdvancedRecipeForm=function(e){e.preventDefault();var f=this,qString=[],kID=[],cID=[],i,len;f.query.value&&qString.push("query="+f.query.value);for(i=0,len=f.kID.length;i<len;i+=1)f.kID[i].checked&&kID.push(f.kID[i].value);kID.length&&qString.push("kID="+kID.join(","));for(i=0,len=f.cID.length;i<len;i+=1)f.cID[i].checked&&cID.push(f.cID[i].value);cID.length&&qString.push("cID="+cID.join(","));qString.length&&(window.location="/food_results.php?"+qString.join("&"))};RR.checkMailFriendForm=function(e){var msg=null,that=this,show=function(msg,success){success=success||!1;success?jQuery(".message",that).addClass("success"):jQuery(".message",that).removeClass("success");jQuery(".message",that).html(msg)};e.preventDefault();show(null);jQuery("input.email",that).each(function(){RR.isValidEmail(this.value)||(msg="Please enter valid email addresses in both fields.")});jQuery("input.required",that).each(function(){this.value===""&&(msg="Please complete all fields.")});if(msg){show(msg);return}jQuery.ajax({url:"/scripts/captcha.php?security_code="+that.security_code.value,success:function(data){if(data==="true"){RR.utils.log("it's go time");jQuery.ajax({url:"/lib/email_friend.php",type:"POST",data:jQuery("#mailFriendForm").serialize(),success:function(data){data.error_code?show(data.error_str):show('You\'re email has been sent! <a href="javascript:jQuery.modal.close();">Close this.</a>',!0)}})}else{show("The code you entered did not match. Please re-enter code and submit again.");jQuery("#captchaImage").attr("src","/scripts/captcha.php?force="+Math.round(Math.random()*100))}}})};var RR=RR||{};RR.chimp=function(){var utils=RR.utils,url="http://rachaelray.us2.list-manage2.com/subscribe",keys={u:"e844b8b57585065e39eb27e0a",id:"b70bbd2b33"},subs={bml:"group[1][1]",wnr:"group[1][2]",wru:"group[1][4]",cso:"group[1][8]"},buildUrl=function(){var arg,args=utils.arg2array(arguments),fields={},myKeys=jQuery.param(keys);for(arg in args)args.hasOwnProperty(arg)&&(fields[subs[args[arg]]]="true");fields=jQuery.param(fields);return[url,[myKeys,fields].join("&")].join("?")},getSignup=function(){var formUrl=buildUrl.apply(this,arguments);RR.popWindow(formUrl,"chimp",{width:640,height:680});return!1};return{getSignup:getSignup}}();window._gaq=[["_setAccount","UA-3396227-1"],["_trackPageview"]];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.async=1;g.src=("https:"===location.protocol?"//ssl":"//www")+".google-analytics.com/ga.js";s.parentNode.insertBefore(g,s)})(document,"script");(function(d,t){var s=d.createElement(t),x=d.getElementsByTagName(t)[0];s.async=1;s.src="//assets.pinterest.com/js/pinit.js";x.parentNode.insertBefore(s,x)})(document,"script");window.stLight.options({publisher:"5f831ab6-44c3-4206-be59-76267d2145d7",onhover:!1});window.RRAd("SUPERSTITIAL","3","");