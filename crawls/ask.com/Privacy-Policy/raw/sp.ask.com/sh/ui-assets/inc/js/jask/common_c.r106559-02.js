__va=(function(){if(navigator.userAgent&&navigator.userAgent.match(/bingbot|googlebot/i)){return ;
}var K=L(),M=/([&?])(oo=\d+)/i,Q;
var P=N();
function J(U){U=U?U.toString():"";
return U.replace(/^\s\s*/,"").replace(/\s\s*$/,"");
}function R(V,W,U){if(V.addEventListener){V.addEventListener(W,U,false);
}else{if(V.attachEvent){V.attachEvent("on"+W,U);
}else{V["on"+W]=U;
}}}function H(V){V=V||window.event;
var U=V.target||V.srcElement;
if(U&&U.tagName&&U.tagName.toLowerCase()==="a"){return U;
}else{while(U.parentNode){if(U.parentNode.tagName&&U.parentNode.tagName.toLowerCase()==="a"){return U.parentNode;
}else{U=U.parentNode;
}}return null;
}}function F(V){var W=document.cookie.split("; ");
for(var U=0,X;
X=W[U]&&W[U].split("=");
U++){if(decodeURIComponent(X[0])===V){return(X.length>2)?decodeURIComponent(X.slice(1,X.length).join("=")):(decodeURIComponent(X[1])||"");
}}return null;
}function E(W,X,V){var U;
if(X){if(Array.prototype.indexOf){return Array.prototype.indexOf.call(X,W,V);
}U=X.length;
V=V?V<0?Math.max(0,U+V):V:0;
for(;
V<U;
V++){if(V in X&&X[V]===W){return V;
}}}return -1;
}function L(){var U=window.location.href.match(/([&?])(oo=)(\d+)/i),V=window.location.href.match(/([&?])(o=)(\d+)/i);
return F("oo")?F("oo"):U?U[3]:V?V[3]:null;
}function N(){return F("askid");
}function D(){if("undefined"!=typeof _downstreamOOCode&&_downstreamOOCode){T("oo",_downstreamOOCode,"/",".ask.com","");
}}function T(V,X,Z,W,Y){var U=new Date();
U.setTime(U.getTime()+30*60*1000);
document.cookie=V+"="+X+((U)?"; expires="+U.toGMTString():"")+((Z)?"; path="+Z:"")+((W)?"; domain="+W:"")+((Y)?"; secure":"");
}function G(V){if(typeof V==="string"&&V.indexOf(J(window.location.hostname.match(/\w+\.\w+$/)))==-1){if(V.indexOf("http://")!==-1){var U=document.createElement("a");
U.href=V;
V=U.hostname;
}var X=["ask.com","directhit.com","teoma.com","bloglines.com","life123.com","bizplenty.com","destinationthere.com","fieldhealth.com","politifeist.com","hobbyplow.com","fashionporch.com","catchfitness.com","fashiongets.com","askkids.com","bloglines.com","inertainment.com","soundsandlyrics.com","addictexplained.com","planforholidays.com","adrivingneed.com","mathematicsofscience.com","gardenandhearth.com","myhealthanswers.co.uk","askmoneyquestions.com","adultqs.com","co.uk","askmoneyquestions.com"];
var W=V.match(/\w+\.\w+$/);
return(W&&E(J(W),X)!==-1);
}else{return false;
}}function S(U){U=U.toString()||"";
if(U.indexOf("url=&u=")!==-1){var V=U.match(/([&?])(url=&u=)(\S+)/i);
return V[3]?V[3]:"";
}else{return U;
}}function O(V,W){V=V?V.toString():"";
function Y(Z,a){if(Z.match(M)){Z=Z.replace(M,"$1oo="+a);
}else{if(Z){Z+=(Z.indexOf("?")===-1)?("?oo="+a):("&oo="+a);
}}if(P!=null){Z+=(Z.indexOf("?")===-1)?("?askid="+P):("&askid="+P);
}if("undefined"!=typeof _isOOSEM&&_isOOSEM){Z+=(Z.indexOf("?")===-1)?("?pd=1"):("&pd=1");
}return Z;
}var X=(V.indexOf("url=&u=")!==-1),U=S(V);
U=Y(U,W);
if(X){U=V.replace(/([&?])(url=&u=)(\S+)/ig,("$1url=&u="+U));
}return U;
}function C(W){var U=H(W);
if(U){var V=A(U);
if(V){U.href=V;
}}}function A(V){var U=S(V.href);
if(G((U))){if(K!=null){if("undefined"!=typeof _isOOSemAgency&&_isOOSemAgency){D();
}return O(V.href,K);
}}}function I(){if(!Q){R(document,"click",C);
var W=document.getElementsByTagName("form");
for(var U=0;
U<W.length;
U++){if(G(W[U].action)){if(K!=null){var V=document.createElement("div");
V.innerHTML="<input type='hidden' name='oo' value='"+K+"'/>";
V=V.firstChild;
W[U].appendChild(V);
}}}Q=true;
}}if(document.addEventListener){var B=function(){document.removeEventListener("DOMContentLoaded",B,false);
I();
};
}else{if(document.attachEvent){B=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",B);
I();
}};
}}if(document.readyState==="complete"){setTimeout(I,1);
}if(document.addEventListener){document.addEventListener("DOMContentLoaded",B,false);
window.addEventListener("load",I,false);
}else{if(document.attachEvent){document.attachEvent("onreadystatechange",B);
window.attachEvent("onload",I);
}}return{getRARedirectURL:A};
})();

jQuery.cookie=function(B,I,L){if(typeof I!="undefined"){L=L||{};
if(I===null){I="";
L.expires=-1;
}var E="";
if(L.expires&&(typeof L.expires=="number"||L.expires.toUTCString)){var F;
if(typeof L.expires=="number"){F=new Date();
F.setTime(F.getTime()+(L.expires*24*60*60*1000));
}else{F=L.expires;
}E="; expires="+F.toUTCString();
}var K=L.path?"; path="+(L.path):"";
var G=L.domain?"; domain="+(L.domain):"";
var A=L.secure?"; secure":"";
document.cookie=[B,"=",encodeURIComponent(I),E,K,G,A].join("");
}else{var D=null;
if(document.cookie&&document.cookie!=""){var J=document.cookie.split(";");
for(var H=0;
H<J.length;
H++){var C=jQuery.trim(J[H]);
if(C.substring(0,B.length+1)==(B+"=")){D=decodeURIComponent(C.substring(B.length+1));
break;
}}}return D;
}};

(function(A){A.widget("ui.selectmenu",{getter:"value",version:"1.9",eventPrefix:"selectmenu",options:{transferClasses:true,typeAhead:1000,style:"dropdown",positionOptions:{my:"left top",at:"left bottom",offset:null},width:null,menuWidth:null,handleWidth:26,maxHeight:null,icons:null,format:null,bgImage:function(){},wrapperElement:"<div />"},_create:function(){var B=this,E=this.options;
var D=(this.element.attr("id")||"ui-selectmenu-"+Math.random().toString(16).slice(2,10)).replace(":","\\:");
this.ids=[D,D+"-button",D+"-menu"];
this._safemouseup=true;
this.isOpen=false;
this.newelement=A("<a />",{"class":this.widgetBaseClass+" ui-widget ui-state-default ui-corner-all","id":this.ids[1],"role":"button","href":"#nogo","tabindex":this.element.attr("disabled")?1:0,"aria-haspopup":true,"aria-owns":this.ids[2]});
this.newelementWrap=A(E.wrapperElement).append(this.newelement).insertAfter(this.element);
var C=this.element.attr("tabindex");
if(C){this.newelement.attr("tabindex",C);
}this.newelement.data("selectelement",this.element);
this.selectmenuIcon=A('<span class="'+this.widgetBaseClass+'-icon ui-icon"></span>').prependTo(this.newelement);
this.newelement.prepend('<span class="'+B.widgetBaseClass+'-status" />');
this.element.bind({"click.selectmenu":function(F){B.newelement.focus();
F.preventDefault();
}});
this.newelement.bind("mousedown.selectmenu",function(F){B._toggle(F,true);
if(E.style=="popup"){B._safemouseup=false;
setTimeout(function(){B._safemouseup=true;
},300);
}return false;
}).bind("click.selectmenu",function(){return false;
}).bind("keydown.selectmenu",function(G){var F=false;
switch(G.keyCode){case A.ui.keyCode.ENTER:F=true;
break;
case A.ui.keyCode.SPACE:B._toggle(G);
break;
case A.ui.keyCode.UP:if(G.altKey){B.open(G);
}else{B._moveSelection(-1);
}break;
case A.ui.keyCode.DOWN:if(G.altKey){B.open(G);
}else{B._moveSelection(1);
}break;
case A.ui.keyCode.LEFT:B._moveSelection(-1);
break;
case A.ui.keyCode.RIGHT:B._moveSelection(1);
break;
case A.ui.keyCode.TAB:F=true;
break;
case A.ui.keyCode.HOME:B.index(0);
break;
default:F=true;
}return F;
}).bind("keypress.selectmenu",function(F){if(F.which>0){B._typeAhead(F.which,"mouseup");
}return true;
}).bind("mouseover.selectmenu focus.selectmenu",function(){if(!E.disabled){A(this).addClass(B.widgetBaseClass+"-focus ui-state-hover");
}}).bind("mouseout.selectmenu blur.selectmenu",function(){if(!E.disabled){A(this).removeClass(B.widgetBaseClass+"-focus ui-state-hover");
}});
A(document).bind("mousedown.selectmenu-"+this.ids[0],function(F){if(B.isOpen){B.close(F);
}});
this.element.bind("click.selectmenu",function(){B._refreshValue();
}).bind("focus.selectmenu",function(){if(B.newelement){B.newelement[0].focus();
}});
if(!E.width){E.width=this.element.outerWidth();
}this.newelement.width(E.width);
this.element.hide();
this.list=A("<ul />",{"class":"ui-widget ui-widget-content","aria-hidden":true,"role":"listbox","aria-labelledby":this.ids[1],"id":this.ids[2]});
this.listWrap=A(E.wrapperElement).addClass(B.widgetBaseClass+"-menu").append(this.list).appendTo("body");
this.list.bind("keydown.selectmenu",function(G){var F=false;
switch(G.keyCode){case A.ui.keyCode.UP:if(G.altKey){B.close(G,true);
}else{B._moveFocus(-1);
}break;
case A.ui.keyCode.DOWN:if(G.altKey){B.close(G,true);
}else{B._moveFocus(1);
}break;
case A.ui.keyCode.LEFT:B._moveFocus(-1);
break;
case A.ui.keyCode.RIGHT:B._moveFocus(1);
break;
case A.ui.keyCode.HOME:B._moveFocus(":first");
break;
case A.ui.keyCode.PAGE_UP:B._scrollPage("up");
break;
case A.ui.keyCode.PAGE_DOWN:B._scrollPage("down");
break;
case A.ui.keyCode.END:B._moveFocus(":last");
break;
case A.ui.keyCode.ENTER:case A.ui.keyCode.SPACE:B.close(G,true);
A(G.target).parents("li:eq(0)").trigger("mouseup");
break;
case A.ui.keyCode.TAB:F=true;
B.close(G,true);
A(G.target).parents("li:eq(0)").trigger("mouseup");
break;
case A.ui.keyCode.ESCAPE:B.close(G,true);
break;
default:F=true;
}return F;
}).bind("keypress.selectmenu",function(F){if(F.which>0){B._typeAhead(F.which,"focus");
}return true;
}).bind("mousedown.selectmenu mouseup.selectmenu",function(){return false;
});
A(window).bind("resize.selectmenu-"+this.ids[0],A.proxy(B.close,this));
},_init:function(){var O=this,E=this.options;
var B=[];
this.element.find("option").each(function(){var R=A(this);
B.push({value:R.attr("value"),text:O._formatText(R.text()),selected:R.attr("selected"),disabled:R.attr("disabled"),classes:R.attr("class"),typeahead:R.attr("typeahead"),parentOptGroup:R.parent("optgroup"),bgImage:E.bgImage.call(R)});
});
var K=(O.options.style=="popup")?" ui-state-active":"";
this.list.html("");
if(B.length){for(var I=0;
I<B.length;
I++){var F={role:"presentation"};
if(B[I].disabled){F["class"]=this.namespace+"-state-disabled";
}var Q={html:B[I].text,href:"#nogo",tabindex:-1,role:"option","aria-selected":false};
if(B[I].disabled){Q["aria-disabled"]=B[I].disabled;
}if(B[I].typeahead){Q["typeahead"]=B[I].typeahead;
}var N=A("<a/>",Q);
var D=A("<li/>",F).append(N).data("index",I).addClass(B[I].classes).data("optionClasses",B[I].classes||"").bind("mouseup.selectmenu",function(R){if(O._safemouseup&&!O._disabled(R.currentTarget)&&!O._disabled(A(R.currentTarget).parents("ul>li."+O.widgetBaseClass+"-group "))){var S=A(this).data("index")!=O._selectedIndex();
O.index(A(this).data("index"));
O.select(R);
if(S){O.change(R);
}O.close(R,true);
}return false;
}).bind("click.selectmenu",function(){return false;
}).bind("mouseover.selectmenu focus.selectmenu",function(R){if(!A(R.currentTarget).hasClass(O.namespace+"-state-disabled")&&!A(R.currentTarget).parent("ul").parent("li").hasClass(O.namespace+"-state-disabled")){O._selectedOptionLi().addClass(K);
O._focusedOptionLi().removeClass(O.widgetBaseClass+"-item-focus ui-state-hover");
A(this).removeClass("ui-state-active").addClass(O.widgetBaseClass+"-item-focus ui-state-hover");
}}).bind("mouseout.selectmenu blur.selectmenu",function(){if(A(this).is(O._selectedOptionLi().selector)){A(this).addClass(K);
}A(this).removeClass(O.widgetBaseClass+"-item-focus ui-state-hover");
});
if(B[I].parentOptGroup.length){var J=O.widgetBaseClass+"-group-"+this.element.find("optgroup").index(B[I].parentOptGroup);
if(this.list.find("li."+J).length){this.list.find("li."+J+":last ul").append(D);
}else{A(' <li role="presentation" class="'+O.widgetBaseClass+"-group "+J+(B[I].parentOptGroup.attr("disabled")?" "+this.namespace+'-state-disabled" aria-disabled="true"':'"')+'><span class="'+O.widgetBaseClass+'-group-label">'+B[I].parentOptGroup.attr("label")+"</span><ul></ul></li> ").appendTo(this.list).find("ul").append(D);
}}else{D.appendTo(this.list);
}if(E.icons){for(var H in E.icons){if(D.is(E.icons[H].find)){D.data("optionClasses",B[I].classes+" "+O.widgetBaseClass+"-hasIcon").addClass(O.widgetBaseClass+"-hasIcon");
var M=E.icons[H].icon||"";
D.find("a:eq(0)").prepend('<span class="'+O.widgetBaseClass+"-item-icon ui-icon "+M+'"></span>');
if(B[I].bgImage){D.find("span").css("background-image",B[I].bgImage);
}}}}}}else{A('<li role="presentation"><a href="#nogo" tabindex="-1" role="option"></a></li>').appendTo(this.list);
}var C=(E.style=="dropdown");
this.newelement.toggleClass(O.widgetBaseClass+"-dropdown",C).toggleClass(O.widgetBaseClass+"-popup",!C);
this.list.toggleClass(O.widgetBaseClass+"-menu-dropdown ui-corner-bottom",C).toggleClass(O.widgetBaseClass+"-menu-popup ui-corner-all",!C).find("li:first").toggleClass("ui-corner-top",!C).end().find("li:last").addClass("ui-corner-bottom");
this.selectmenuIcon.toggleClass("ui-icon-triangle-1-s",C).toggleClass("ui-icon-triangle-2-n-s",!C);
if(E.transferClasses){var P=this.element.attr("class")||"";
this.newelement.add(this.list).addClass(P);
}if(E.style=="dropdown"){this.list.width(E.menuWidth?E.menuWidth:E.width);
}else{this.list.width(E.menuWidth?E.menuWidth:E.width-E.handleWidth);
}this.list.css("height","auto");
var L=this.listWrap.height();
if(E.maxHeight&&E.maxHeight<L){this.list.height(E.maxHeight);
}else{var G=A(window).height()/3;
if(G<L){this.list.height(G);
}}this._optionLis=this.list.find("li:not(."+O.widgetBaseClass+"-group)");
if(this.element.attr("disabled")){this.disable();
}else{this.enable();
}this.index(this._selectedIndex());
window.setTimeout(function(){O._refreshPosition();
},200);
},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled").unbind(".selectmenu");
A(window).unbind(".selectmenu-"+this.ids[0]);
A(document).unbind(".selectmenu-"+this.ids[0]);
this.newelementWrap.remove();
this.listWrap.remove();
this.element.unbind(".selectmenu").show();
A.Widget.prototype.destroy.apply(this,arguments);
},_typeAhead:function(D,E){var K=this,J=String.fromCharCode(D).toLowerCase(),I=this.list.find("li a"),C=null,H=null;
if(K._typeAhead_timer){window.clearTimeout(K._typeAhead_timer);
K._typeAhead_timer=undefined;
}K._typeAhead_chars=(K._typeAhead_chars===undefined?"":K._typeAhead_chars).concat(J);
if(K._typeAhead_chars.length<2||(K._typeAhead_chars.substr(-2,1)===J&&K._typeAhead_cycling)){K._typeAhead_cycling=true;
C=J;
}else{K._typeAhead_cycling=false;
C=K._typeAhead_chars;
}var F=(E!=="focus"?this._selectedOptionLi().data("index"):this._focusedOptionLi().data("index"))||0;
for(var G=0;
G<I.length;
G++){var B=I.eq(G).text().substr(0,C.length).toLowerCase();
if(B===C){if(K._typeAhead_cycling){if(H===null){H=G;
}if(G>F){H=G;
break;
}}else{H=G;
}}}if(H!==null){I.eq(H).trigger(E);
}K._typeAhead_timer=window.setTimeout(function(){K._typeAhead_timer=undefined;
K._typeAhead_chars=undefined;
K._typeAhead_cycling=undefined;
},K.options.typeAhead);
},_uiHash:function(){var B=this.index();
return{index:B,option:A("option",this.element).get(B),value:this.element[0].value};
},open:function(E){var B=this,F=this.options;
if(B.newelement.attr("aria-disabled")!="true"){B._closeOthers(E);
B.newelement.addClass("ui-state-active");
B.listWrap.appendTo(F.appendTo);
B.list.attr("aria-hidden",false);
B.listWrap.addClass(B.widgetBaseClass+"-open");
var C=this._selectedOptionLi();
if(F.style=="dropdown"){B.newelement.removeClass("ui-corner-all").addClass("ui-corner-top");
}else{this.list.css("left",-5000).scrollTop(this.list.scrollTop()+C.position().top-this.list.outerHeight()/2+C.outerHeight()/2).css("left","auto");
}B._refreshPosition();
var D=C.find("a");
if(D.length){D[0].focus();
}B.isOpen=true;
B._trigger("open",E,B._uiHash());
}},close:function(C,B){if(this.newelement.is(".ui-state-active")){this.newelement.removeClass("ui-state-active");
this.listWrap.removeClass(this.widgetBaseClass+"-open");
this.list.attr("aria-hidden",true);
if(this.options.style=="dropdown"){this.newelement.removeClass("ui-corner-top").addClass("ui-corner-all");
}if(B){this.newelement.focus();
}this.isOpen=false;
this._trigger("close",C,this._uiHash());
}},change:function(B){this.element.trigger("change");
this._trigger("change",B,this._uiHash());
},select:function(B){if(this._disabled(B.currentTarget)){return false;
}this._trigger("select",B,this._uiHash());
},_closeOthers:function(B){A("."+this.widgetBaseClass+".ui-state-active").not(this.newelement).each(function(){A(this).data("selectelement").selectmenu("close",B);
});
A("."+this.widgetBaseClass+".ui-state-hover").trigger("mouseout");
},_toggle:function(C,B){if(this.isOpen){this.close(C,B);
}else{this.open(C);
}},_formatText:function(B){return(this.options.format?this.options.format(B):B);
},_selectedIndex:function(){return this.element[0].selectedIndex;
},_selectedOptionLi:function(){return this._optionLis.eq(this._selectedIndex());
},_focusedOptionLi:function(){return this.list.find("."+this.widgetBaseClass+"-item-focus");
},_moveSelection:function(E,B){if(!this.options.disabled){var D=parseInt(this._selectedOptionLi().data("index")||0,10);
var C=D+E;
if(C<0){C=0;
}if(C>this._optionLis.size()-1){C=this._optionLis.size()-1;
}if(C===B){return false;
}if(this._optionLis.eq(C).hasClass(this.namespace+"-state-disabled")){(E>0)?++E:--E;
this._moveSelection(E,C);
}else{return this._optionLis.eq(C).trigger("mouseup");
}}},_moveFocus:function(F,B){if(!isNaN(F)){var E=parseInt(this._focusedOptionLi().data("index")||0,10);
var D=E+F;
}else{var D=parseInt(this._optionLis.filter(F).data("index"),10);
}if(D<0){D=0;
}if(D>this._optionLis.size()-1){D=this._optionLis.size()-1;
}if(D===B){return false;
}var C=this.widgetBaseClass+"-item-"+Math.round(Math.random()*1000);
this._focusedOptionLi().find("a:eq(0)").attr("id","");
if(this._optionLis.eq(D).hasClass(this.namespace+"-state-disabled")){(F>0)?++F:--F;
this._moveFocus(F,D);
}else{this._optionLis.eq(D).find("a:eq(0)").attr("id",C).focus();
}this.list.attr("aria-activedescendant",C);
},_scrollPage:function(C){var B=Math.floor(this.list.outerHeight()/this.list.find("li:first").outerHeight());
B=(C=="up"?-B:B);
this._moveFocus(B);
},_setOption:function(B,C){this.options[B]=C;
if(B=="disabled"){if(C){this.close();
}this.element.add(this.newelement).add(this.list)[C?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",C);
}},disable:function(B,C){if(typeof (B)=="undefined"){this._setOption("disabled",true);
}else{if(C=="optgroup"){this._disableOptgroup(B);
}else{this._disableOption(B);
}}},enable:function(B,C){if(typeof (B)=="undefined"){this._setOption("disabled",false);
}else{if(C=="optgroup"){this._enableOptgroup(B);
}else{this._enableOption(B);
}}},_disabled:function(B){return A(B).hasClass(this.namespace+"-state-disabled");
},_disableOption:function(B){var C=this._optionLis.eq(B);
if(C){C.addClass(this.namespace+"-state-disabled").find("a").attr("aria-disabled",true);
this.element.find("option").eq(B).attr("disabled","disabled");
}},_enableOption:function(B){var C=this._optionLis.eq(B);
if(C){C.removeClass(this.namespace+"-state-disabled").find("a").attr("aria-disabled",false);
this.element.find("option").eq(B).removeAttr("disabled");
}},_disableOptgroup:function(C){var B=this.list.find("li."+this.widgetBaseClass+"-group-"+C);
if(B){B.addClass(this.namespace+"-state-disabled").attr("aria-disabled",true);
this.element.find("optgroup").eq(C).attr("disabled","disabled");
}},_enableOptgroup:function(C){var B=this.list.find("li."+this.widgetBaseClass+"-group-"+C);
if(B){B.removeClass(this.namespace+"-state-disabled").attr("aria-disabled",false);
this.element.find("optgroup").eq(C).removeAttr("disabled");
}},index:function(B){if(arguments.length){if(!this._disabled(A(this._optionLis[B]))){this.element[0].selectedIndex=B;
this._refreshValue();
}else{return false;
}}else{return this._selectedIndex();
}},value:function(B){if(arguments.length){this.element[0].value=B;
this._refreshValue();
}else{return this.element[0].value;
}},_refreshValue:function(){var D=(this.options.style=="popup")?" ui-state-active":"";
var C=this.widgetBaseClass+"-item-"+Math.round(Math.random()*1000);
this.list.find("."+this.widgetBaseClass+"-item-selected").removeClass(this.widgetBaseClass+"-item-selected"+D).find("a").attr("aria-selected","false").attr("id","");
this._selectedOptionLi().addClass(this.widgetBaseClass+"-item-selected"+D).find("a").attr("aria-selected","true").attr("id",C);
var B=(this.newelement.data("optionClasses")?this.newelement.data("optionClasses"):"");
var E=(this._selectedOptionLi().data("optionClasses")?this._selectedOptionLi().data("optionClasses"):"");
this.newelement.removeClass(B).data("optionClasses",E).addClass(E).find("."+this.widgetBaseClass+"-status").html(this._selectedOptionLi().find("a:eq(0)").html());
this.list.attr("aria-activedescendant",C);
},_refreshPosition:function(){var D=this.options;
if(D.style=="popup"&&!D.positionOptions.offset){var C=this._selectedOptionLi();
var B="0 "+(this.list.offset().top-C.offset().top-(this.newelement.outerHeight()+C.outerHeight())/2);
}this.listWrap.zIndex(this.element.zIndex()+1).position({of:D.positionOptions.of||this.newelement,my:D.positionOptions.my,at:D.positionOptions.at,offset:D.positionOptions.offset||B,collision:D.positionOptions.collision||"flip"});
}});
})(jQuery);

(function($){$.toJSON=function(o){if(typeof (JSON)=="object"&&JSON.stringify){return JSON.stringify(o);
}var type=typeof (o);
if(o===null){return"null";
}if(type=="undefined"){return undefined;
}if(type=="number"||type=="boolean"){return o+"";
}if(type=="string"){return $.quoteString(o);
}if(type=="object"){if(typeof o.toJSON=="function"){return $.toJSON(o.toJSON());
}if(o.constructor===Date){var month=o.getUTCMonth()+1;
if(month<10){month="0"+month;
}var day=o.getUTCDate();
if(day<10){day="0"+day;
}var year=o.getUTCFullYear();
var hours=o.getUTCHours();
if(hours<10){hours="0"+hours;
}var minutes=o.getUTCMinutes();
if(minutes<10){minutes="0"+minutes;
}var seconds=o.getUTCSeconds();
if(seconds<10){seconds="0"+seconds;
}var milli=o.getUTCMilliseconds();
if(milli<100){milli="0"+milli;
}if(milli<10){milli="0"+milli;
}return'"'+year+"-"+month+"-"+day+"T"+hours+":"+minutes+":"+seconds+"."+milli+'Z"';
}if(o.constructor===Array){var ret=[];
for(var i=0;
i<o.length;
i++){ret.push($.toJSON(o[i])||"null");
}return"["+ret.join(",")+"]";
}var pairs=[];
for(var k in o){var name;
var type=typeof k;
if(type=="number"){name='"'+k+'"';
}else{if(type=="string"){name=$.quoteString(k);
}else{continue;
}}if(typeof o[k]=="function"){continue;
}var val=$.toJSON(o[k]);
pairs.push(name+":"+val);
}return"{"+pairs.join(", ")+"}";
}};
$.evalJSON=function(src){if(typeof (JSON)=="object"&&JSON.parse){return JSON.parse(src);
}return eval("("+src+")");
};
$.secureEvalJSON=function(src){if(typeof (JSON)=="object"&&JSON.parse){return JSON.parse(src);
}var filtered=src;
filtered=filtered.replace(/\\["\\\/bfnrtu]/g,"@");
filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");
filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,"");
if(/^[\],:{}\s]*$/.test(filtered)){return eval("("+src+")");
}else{throw new SyntaxError("Error parsing JSON, source is not valid.");
}};
$.quoteString=function(string){if(string.match(_escapeable)){return'"'+string.replace(_escapeable,function(a){var c=_meta[a];
if(typeof c==="string"){return c;
}c=a.charCodeAt();
return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16);
})+'"';
}return'"'+string+'"';
};
var _escapeable=/["\\\x00-\x1f\x7f-\x9f]/g;
var _meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};
})(jQuery);

try{(function(A){if(!A||!(A.toJSON||Object.toJSON||window.JSON)){throw new Error("jQuery, MooTools or Prototype needs to be loaded before jStorage!");
}A.jStorage={version:"0.1.2.1",_storage:{},_storage_service:{jStorage:"{}"},_storage_elm:null,json_encode:A.toJSON||Object.toJSON||(window.JSON&&(JSON.encode||JSON.stringify)),json_decode:A.evalJSON||(window.JSON&&(JSON.decode||JSON.parse))||function(B){return String(B).evalJSON();
},_init:function(){var D;
if("localStorage" in window){this._storage_service=window.localStorage;
}else{if("globalStorage" in window){this._storage_service=window.globalStorage[document.domain];
}else{this._storage_elm=document.createElement("link");
if("addBehavior" in this._storage_elm){this._storage_elm.style.behavior="url(#default#userData)";
document.getElementsByTagName("head")[0].appendChild(this._storage_elm);
try{this._storage_elm.load("jStorage");
}catch(B){D="{}";
}try{D=this._storage_elm.getAttribute("jStorage");
}catch(B){D="{}";
}if(D&&D.length){this._storage_service.jStorage=D;
}}else{this._storage_elm=null;
return ;
}}}if("jStorage" in this._storage_service&&this._storage_service.jStorage){try{this._storage=this.json_decode(this._storage_service.jStorage);
}catch(C){this._storage_service.jStorage="{}";
}}else{this._storage_service.jStorage="{}";
}},_save:function(){if(this._storage_service){try{this._storage_service.jStorage=this.json_encode(this._storage);
}catch(C){}if(this._storage_elm){try{this._storage_elm.setAttribute("jStorage",this._storage_service.jStorage);
this._storage_elm.save("jStorage");
}catch(B){}}}},_checkKey:function(B){if(!B||(typeof B!="string"&&typeof B!="number")){throw new TypeError("Key name must be string or numeric");
}return true;
},set:function(B,C){this._checkKey(B);
this._storage[B]=C;
this._save();
return C;
},get:function(B,C){this._checkKey(B);
if(B in this._storage){return this._storage[B];
}return C?C:null;
},deleteKey:function(B){this._checkKey(B);
if(B in this._storage){delete this._storage[B];
this._save();
return true;
}return false;
},flush:function(){this._storage={};
this._save();
if("localStorage" in window){localStorage.clear();
}return true;
}};
A.jStorage._init();
})(typeof jQuery!="undefined"&&jQuery||$);
}catch(e){}
(function($,P){var I,M=Array.prototype.slice,R=decodeURIComponent,A=$.param,C,L,V,B=$.bbq=$.bbq||{},Q,U,J,E=$.event.special,D="hashchange",a="querystring",d="fragment",Y="elemUrlAttr",G="location",K="href",T="src",X=/^.*\?|#.*$/g,W=/^.*\#/,H,c={};
function e(f){return typeof f==="string";
}function b(g){var f=M.call(arguments,1);
return function(){return g.apply(this,f.concat(M.call(arguments)));
};
}function N(f){return f.replace(/^[^#]*#?(.*)$/,"$1");
}function O(f){return f.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1");
}function F(h,m,f,i,g){var o,l,k,n,j;
if(i!==I){k=f.match(h?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/);
j=k[3]||"";
if(g===2&&e(i)){l=i.replace(h?W:X,"");
}else{n=L(k[2]);
i=e(i)?L[h?d:a](i):i;
l=g===2?i:g===1?$.extend({},i,n):$.extend({},n,i);
l=A(l);
if(h){l=l.replace(H,R);
}}o=k[1]+(h?"#":l||!k[1]?"?":"")+l+j;
}else{o=m(f!==I?f:P[G][K]);
}return o;
}A[a]=b(F,0,O);
A[d]=C=b(F,1,N);
C.noEscape=function(g){g=g||"";
var f=$.map(g.split(""),encodeURIComponent);
H=new RegExp(f.join("|"),"g");
};
C.noEscape(",/");
$.deparam=L=function(i,f){var h={},g={"true":!0,"false":!1,"null":null};
$.each(i.replace(/\+/g," ").split("&"),function(m,r){var l=r.split("="),q=R(l[0]),k,p=h,n=0,s=q.split("]["),o=s.length-1;
if(/\[/.test(s[0])&&/\]$/.test(s[o])){s[o]=s[o].replace(/\]$/,"");
s=s.shift().split("[").concat(s);
o=s.length-1;
}else{o=0;
}if(l.length===2){k=R(l[1]);
if(f){k=k&&!isNaN(k)?+k:k==="undefined"?I:g[k]!==I?g[k]:k;
}if(o){for(;
n<=o;
n++){q=s[n]===""?p.length:s[n];
p=p[q]=n<o?p[q]||(s[n+1]&&isNaN(s[n+1])?{}:[]):k;
}}else{if($.isArray(h[q])){h[q].push(k);
}else{if(h[q]!==I){h[q]=[h[q],k];
}else{h[q]=k;
}}}}else{if(q){h[q]=f?I:"";
}}});
return h;
};
function Z(h,f,g){if(f===I||typeof f==="boolean"){g=f;
f=A[h?d:a]();
}else{f=e(f)?f.replace(h?W:X,""):f;
}return L(f,g);
}L[a]=b(Z,0);
L[d]=V=b(Z,1);
$[Y]||($[Y]=function(f){return $.extend(c,f);
})({a:K,base:K,iframe:T,img:T,input:T,form:"action",link:K,script:T});
J=$[Y];
function S(i,g,h,f){if(!e(h)&&typeof h!=="object"){f=h;
h=g;
g=I;
}return this.each(function(){var l=$(this),j=g||J()[(this.nodeName||"").toLowerCase()]||"",k=j&&l.attr(j)||"";
l.attr(j,A[i](k,h,f));
});
}$.fn[a]=b(S,a);
$.fn[d]=b(S,d);
B.pushState=Q=function(i,f){if(e(i)&&/^#/.test(i)&&f===I){f=2;
}var h=i!==I,g=C(P[G][K],h?i:{},h?f:2);
P[G][K]=g+(/#/.test(g)?"":"#");
};
B.getState=U=function(f,g){return f===I||typeof f==="boolean"?V(f):V(g)[f];
};
B.removeState=function(f){var g={};
if(f!==I){g=U();
$.each($.isArray(f)?f:arguments,function(j,h){delete g[h];
});
}Q(g,2);
};
E[D]=$.extend(E[D],{add:function(f){var h;
function g(j){var i=j[d]=C();
j.getState=function(k,l){return k===I||typeof k==="boolean"?L(i,k):L(i,l)[k];
};
h.apply(this,arguments);
}if($.isFunction(f)){h=f;
return g;
}else{h=f.handler;
f.handler=g;
}}});
})(jQuery,this);
(function($,I,B){var J,K=$.event.special,C="location",D="hashchange",L="href",F=$.browser,G=document.documentMode,H=F.msie&&(G===B||G<8),E="on"+D in I&&!H;
function A(M){M=M||I[C][L];
return M.replace(/^[^#]*#?(.*)$/,"$1");
}$[D+"Delay"]=100;
K[D]=$.extend(K[D],{setup:function(){if(E){return false;
}$(J.start);
},teardown:function(){if(E){return false;
}$(J.stop);
}});
J=(function(){var M={},R,N,O,Q;
function P(){O=Q=function(S){return S;
};
if(H){N=$('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow;
Q=function(){return A(N.document[C][L]);
};
O=function(U,S){if(U!==S){var T=N.document;
T.open().close();
T[C].hash="#"+U;
}};
O(A());
}}M.start=function(){if(R){return ;
}var T=A();
O||P();
(function S(){var V=A(),U=Q(T);
if(V!==T){O(T=V,U);
$(I).trigger(D);
}else{if(U!==T){I[C][L]=I[C][L].replace(/#.*/,"")+"#"+U;
}}R=setTimeout(S,$[D+"Delay"]);
})();
};
M.stop=function(){if(!N){R&&clearTimeout(R);
R=0;
}};
return M;
})();
})(jQuery,this);

(function(I){function B(){this.regional=[];
this.regional[""]={labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,timeSeparator:":",isRTL:false};
this._defaults={until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:false,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:false,onExpiry:null,onTick:null,tickInterval:1};
I.extend(this._defaults,this.regional[""]);
this._serverSyncs=[];
}var L="countdown";
var C=0;
var J=1;
var E=2;
var A=3;
var N=4;
var K=5;
var G=6;
I.extend(B.prototype,{markerClassName:"hasCountdown",_timer:setInterval(function(){I.countdown._updateTargets();
},980),_timerTargets:[],setDefaults:function(D){this._resetExtraLabels(this._defaults,D);
F(this._defaults,D||{});
},UTCDate:function(T,S,R,P,O,M,H,D){if(typeof S=="object"&&S.constructor==Date){D=S.getMilliseconds();
H=S.getSeconds();
M=S.getMinutes();
O=S.getHours();
P=S.getDate();
R=S.getMonth();
S=S.getFullYear();
}var Q=new Date();
Q.setUTCFullYear(S);
Q.setUTCDate(1);
Q.setUTCMonth(R||0);
Q.setUTCDate(P||1);
Q.setUTCHours(O||0);
Q.setUTCMinutes((M||0)-(Math.abs(T)<30?T*60:T));
Q.setUTCSeconds(H||0);
Q.setUTCMilliseconds(D||0);
return Q;
},periodsToSeconds:function(D){return D[0]*31557600+D[1]*2629800+D[2]*604800+D[3]*86400+D[4]*3600+D[5]*60+D[6];
},_settingsCountdown:function(H,D){if(!D){return I.countdown._defaults;
}var M=I.data(H,L);
return(D=="all"?M.options:M.options[D]);
},_attachCountdown:function(H,D){var O=I(H);
if(O.hasClass(this.markerClassName)){return ;
}O.addClass(this.markerClassName);
var M={options:I.extend({},D),_periods:[0,0,0,0,0,0,0]};
I.data(H,L,M);
this._changeCountdown(H);
},_addTarget:function(D){if(!this._hasTarget(D)){this._timerTargets.push(D);
}},_hasTarget:function(D){return(I.inArray(D,this._timerTargets)>-1);
},_removeTarget:function(D){this._timerTargets=I.map(this._timerTargets,function(H){return(H==D?null:H);
});
},_updateTargets:function(){for(var D=this._timerTargets.length-1;
D>=0;
D--){this._updateCountdown(this._timerTargets[D]);
}},_updateCountdown:function(V,U){var T=I(V);
U=U||I.data(V,L);
if(!U){return ;
}T.html(this._generateHTML(U));
T[(this._get(U,"isRTL")?"add":"remove")+"Class"]("countdown_rtl");
var S=this._get(U,"onTick");
if(S){var R=U._hold!="lap"?U._periods:this._calculatePeriods(U,U._show,this._get(U,"significant"),new Date());
var Q=this._get(U,"tickInterval");
if(Q==1||this.periodsToSeconds(R)%Q==0){S.apply(V,[R]);
}}var P=U._hold!="pause"&&(U._since?U._now.getTime()<U._since.getTime():U._now.getTime()>=U._until.getTime());
if(P&&!U._expiring){U._expiring=true;
if(this._hasTarget(V)||this._get(U,"alwaysExpire")){this._removeTarget(V);
var O=this._get(U,"onExpiry");
if(O){O.apply(V,[]);
}var M=this._get(U,"expiryText");
if(M){var H=this._get(U,"layout");
U.options.layout=M;
this._updateCountdown(V,U);
U.options.layout=H;
}var D=this._get(U,"expiryUrl");
if(D){window.location=D;
}}U._expiring=false;
}else{if(U._hold=="pause"){this._removeTarget(V);
}}I.data(V,L,U);
},_changeCountdown:function(H,D,Q){D=D||{};
if(typeof D=="string"){var P=D;
D={};
D[P]=Q;
}var O=I.data(H,L);
if(O){this._resetExtraLabels(O.options,D);
F(O.options,D);
this._adjustSettings(H,O);
I.data(H,L,O);
var M=new Date();
if((O._since&&O._since<M)||(O._until&&O._until>M)){this._addTarget(H);
}this._updateCountdown(H,O);
}},_resetExtraLabels:function(H,D){var O=false;
for(var M in D){if(M!="whichLabels"&&M.match(/[Ll]abels/)){O=true;
break;
}}if(O){for(var M in H){if(M.match(/[Ll]abels[0-9]/)){H[M]=null;
}}}},_adjustSettings:function(T,S){var R;
var Q=this._get(S,"serverSync");
var P=0;
var O=null;
for(var D=0;
D<this._serverSyncs.length;
D++){if(this._serverSyncs[D][0]==Q){O=this._serverSyncs[D][1];
break;
}}if(O!=null){P=(Q?O:0);
R=new Date();
}else{var M=(Q?Q.apply(T,[]):null);
R=new Date();
P=(M?R.getTime()-M.getTime():0);
this._serverSyncs.push([Q,P]);
}var H=this._get(S,"timezone");
H=(H==null?-R.getTimezoneOffset():H);
S._since=this._get(S,"since");
if(S._since!=null){S._since=this.UTCDate(H,this._determineTime(S._since,null));
if(S._since&&P){S._since.setMilliseconds(S._since.getMilliseconds()+P);
}}S._until=this.UTCDate(H,this._determineTime(this._get(S,"until"),R));
if(P){S._until.setMilliseconds(S._until.getMilliseconds()+P);
}S._show=this._determineShow(S);
},_destroyCountdown:function(H){var D=I(H);
if(!D.hasClass(this.markerClassName)){return ;
}this._removeTarget(H);
D.removeClass(this.markerClassName).empty();
I.removeData(H,L);
},_pauseCountdown:function(D){this._hold(D,"pause");
},_lapCountdown:function(D){this._hold(D,"lap");
},_resumeCountdown:function(D){this._hold(D,null);
},_hold:function(H,D){var O=I.data(H,L);
if(O){if(O._hold=="pause"&&!D){O._periods=O._savePeriods;
var M=(O._since?"-":"+");
O[O._since?"_since":"_until"]=this._determineTime(M+O._periods[0]+"y"+M+O._periods[1]+"o"+M+O._periods[2]+"w"+M+O._periods[3]+"d"+M+O._periods[4]+"h"+M+O._periods[5]+"m"+M+O._periods[6]+"s");
this._addTarget(H);
}O._hold=D;
O._savePeriods=(D=="pause"?O._periods:null);
I.data(H,L,O);
this._updateCountdown(H,O);
}},_getTimesCountdown:function(H){var D=I.data(H,L);
return(!D?null:(!D._hold?D._periods:this._calculatePeriods(D,D._show,this._get(D,"significant"),new Date())));
},_get:function(H,D){return(H.options[D]!=null?H.options[D]:I.countdown._defaults[D]);
},_determineTime:function(M,H){var D=function(R){var Q=new Date();
Q.setTime(Q.getTime()+R*1000);
return Q;
};
var P=function(Z){Z=Z.toLowerCase();
var Y=new Date();
var X=Y.getFullYear();
var W=Y.getMonth();
var V=Y.getDate();
var U=Y.getHours();
var T=Y.getMinutes();
var S=Y.getSeconds();
var R=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g;
var Q=R.exec(Z);
while(Q){switch(Q[2]||"s"){case"s":S+=parseInt(Q[1],10);
break;
case"m":T+=parseInt(Q[1],10);
break;
case"h":U+=parseInt(Q[1],10);
break;
case"d":V+=parseInt(Q[1],10);
break;
case"w":V+=parseInt(Q[1],10)*7;
break;
case"o":W+=parseInt(Q[1],10);
V=Math.min(V,I.countdown._getDaysInMonth(X,W));
break;
case"y":X+=parseInt(Q[1],10);
V=Math.min(V,I.countdown._getDaysInMonth(X,W));
break;
}Q=R.exec(Z);
}return new Date(X,W,V,U,T,S,0);
};
var O=(M==null?H:(typeof M=="string"?P(M):(typeof M=="number"?D(M):M)));
if(O){O.setMilliseconds(0);
}return O;
},_getDaysInMonth:function(H,D){return 32-new Date(H,D,32).getDate();
},_normalLabels:function(D){return D;
},_generateHTML:function(a){var Z=this._get(a,"significant");
a._periods=(a._hold?a._periods:this._calculatePeriods(a,a._show,Z,new Date()));
var Y=false;
var X=0;
var W=Z;
var V=I.extend({},a._show);
for(var U=C;
U<=G;
U++){Y|=(a._show[U]=="?"&&a._periods[U]>0);
V[U]=(a._show[U]=="?"&&!Y?null:a._show[U]);
X+=(V[U]?1:0);
W-=(a._periods[U]>0?1:0);
}var T=[false,false,false,false,false,false,false];
for(var U=G;
U>=C;
U--){if(a._show[U]){if(a._periods[U]){T[U]=true;
}else{T[U]=W>0;
W--;
}}}var S=this._get(a,"compact");
var R=this._get(a,"layout");
var Q=(S?this._get(a,"compactLabels"):this._get(a,"labels"));
var P=this._get(a,"whichLabels")||this._normalLabels;
var O=this._get(a,"timeSeparator");
var M=this._get(a,"description")||"";
var H=function(d){var c=I.countdown._get(a,"compactLabels"+P(a._periods[d]));
return(V[d]?a._periods[d]+(c?c[d]:Q[d])+" ":"");
};
var D=function(d){var c=I.countdown._get(a,"labels"+P(a._periods[d]));
return((!Z&&V[d])||(Z&&T[d])?'<span class="countdown_section"><span class="countdown_amount">'+a._periods[d]+"</span><br/>"+(c?c[d]:Q[d])+"</span>":"");
};
return(R?this._buildLayout(a,V,R,S,Z,T):((S?'<span class="countdown_row countdown_amount'+(a._hold?" countdown_holding":"")+'">'+H(C)+H(J)+H(E)+H(A)+(V[N]?this._minDigits(a._periods[N],2):"")+(V[K]?(V[N]?O:"")+this._minDigits(a._periods[K],2):"")+(V[G]?(V[N]||V[K]?O:"")+this._minDigits(a._periods[G],2):""):'<span class="countdown_row countdown_show'+(Z||X)+(a._hold?" countdown_holding":"")+'">'+D(C)+D(J)+D(E)+D(A)+D(N)+D(K)+D(G))+"</span>"+(M?'<span class="countdown_row countdown_descr">'+M+"</span>":"")));
},_buildLayout:function(Z,Y,X,W,V,U){var S=this._get(Z,(W?"compactLabels":"labels"));
var R=this._get(Z,"whichLabels")||this._normalLabels;
var Q=function(b){return(I.countdown._get(Z,(W?"compactLabels":"labels")+R(Z._periods[b]))||S)[b];
};
var P=function(d,c){return Math.floor(d/c)%10;
};
var O={desc:this._get(Z,"description"),sep:this._get(Z,"timeSeparator"),yl:Q(C),yn:Z._periods[C],ynn:this._minDigits(Z._periods[C],2),ynnn:this._minDigits(Z._periods[C],3),y1:P(Z._periods[C],1),y10:P(Z._periods[C],10),y100:P(Z._periods[C],100),y1000:P(Z._periods[C],1000),ol:Q(J),on:Z._periods[J],onn:this._minDigits(Z._periods[J],2),onnn:this._minDigits(Z._periods[J],3),o1:P(Z._periods[J],1),o10:P(Z._periods[J],10),o100:P(Z._periods[J],100),o1000:P(Z._periods[J],1000),wl:Q(E),wn:Z._periods[E],wnn:this._minDigits(Z._periods[E],2),wnnn:this._minDigits(Z._periods[E],3),w1:P(Z._periods[E],1),w10:P(Z._periods[E],10),w100:P(Z._periods[E],100),w1000:P(Z._periods[E],1000),dl:Q(A),dn:Z._periods[A],dnn:this._minDigits(Z._periods[A],2),dnnn:this._minDigits(Z._periods[A],3),d1:P(Z._periods[A],1),d10:P(Z._periods[A],10),d100:P(Z._periods[A],100),d1000:P(Z._periods[A],1000),hl:Q(N),hn:Z._periods[N],hnn:this._minDigits(Z._periods[N],2),hnnn:this._minDigits(Z._periods[N],3),h1:P(Z._periods[N],1),h10:P(Z._periods[N],10),h100:P(Z._periods[N],100),h1000:P(Z._periods[N],1000),ml:Q(K),mn:Z._periods[K],mnn:this._minDigits(Z._periods[K],2),mnnn:this._minDigits(Z._periods[K],3),m1:P(Z._periods[K],1),m10:P(Z._periods[K],10),m100:P(Z._periods[K],100),m1000:P(Z._periods[K],1000),sl:Q(G),sn:Z._periods[G],snn:this._minDigits(Z._periods[G],2),snnn:this._minDigits(Z._periods[G],3),s1:P(Z._periods[G],1),s10:P(Z._periods[G],10),s100:P(Z._periods[G],100),s1000:P(Z._periods[G],1000)};
var M=X;
for(var T=C;
T<=G;
T++){var H="yowdhms".charAt(T);
var D=new RegExp("\\{"+H+"<\\}(.*)\\{"+H+">\\}","g");
M=M.replace(D,((!V&&Y[T])||(V&&U[T])?"$1":""));
}I.each(O,function(d,c){var b=new RegExp("\\{"+d+"\\}","g");
M=M.replace(b,c);
});
return M;
},_minDigits:function(H,D){H=""+H;
if(H.length>=D){return H;
}H="0000000000"+H;
return H.substr(H.length-D);
},_determineShow:function(H){var D=this._get(H,"format");
var M=[];
M[C]=(D.match("y")?"?":(D.match("Y")?"!":null));
M[J]=(D.match("o")?"?":(D.match("O")?"!":null));
M[E]=(D.match("w")?"?":(D.match("W")?"!":null));
M[A]=(D.match("d")?"?":(D.match("D")?"!":null));
M[N]=(D.match("h")?"?":(D.match("H")?"!":null));
M[K]=(D.match("m")?"?":(D.match("M")?"!":null));
M[G]=(D.match("s")?"?":(D.match("S")?"!":null));
return M;
},_calculatePeriods:function(w,v,b,a){w._now=a;
w._now.setMilliseconds(0);
var Z=new Date(w._now.getTime());
if(w._since){if(a.getTime()<w._since.getTime()){w._now=a=Z;
}else{a=w._since;
}}else{Z.setTime(w._until.getTime());
if(a.getTime()>w._until.getTime()){w._now=a=Z;
}}var Y=[0,0,0,0,0,0,0];
if(v[C]||v[J]){var X=I.countdown._getDaysInMonth(a.getFullYear(),a.getMonth());
var W=I.countdown._getDaysInMonth(Z.getFullYear(),Z.getMonth());
var V=(Z.getDate()==a.getDate()||(Z.getDate()>=Math.min(X,W)&&a.getDate()>=Math.min(X,W)));
var U=function(c){return(c.getHours()*60+c.getMinutes())*60+c.getSeconds();
};
var T=Math.max(0,(Z.getFullYear()-a.getFullYear())*12+Z.getMonth()-a.getMonth()+((Z.getDate()<a.getDate()&&!V)||(V&&U(Z)<U(a))?-1:0));
Y[C]=(v[C]?Math.floor(T/12):0);
Y[J]=(v[J]?T-Y[C]*12:0);
a=new Date(a.getTime());
var S=(a.getDate()==X);
var R=I.countdown._getDaysInMonth(a.getFullYear()+Y[C],a.getMonth()+Y[J]);
if(a.getDate()>R){a.setDate(R);
}a.setFullYear(a.getFullYear()+Y[C]);
a.setMonth(a.getMonth()+Y[J]);
if(S){a.setDate(R);
}}var Q=Math.floor((Z.getTime()-a.getTime())/1000);
var P=function(d,c){Y[d]=(v[d]?Math.floor(Q/c):0);
Q-=Y[d]*c;
};
P(E,604800);
P(A,86400);
P(N,3600);
P(K,60);
P(G,1);
if(Q>0&&!w._since){var O=[1,12,4.3482,7,24,60,60];
var M=G;
var H=1;
for(var D=G;
D>=C;
D--){if(v[D]){if(Y[M]>=H){Y[M]=0;
Q=1;
}if(Q>0){Y[D]++;
Q=0;
M=D;
H=1;
}}H*=O[D];
}}if(b){for(var D=C;
D<=G;
D++){if(b&&Y[D]){b--;
}else{if(!b){Y[D]=0;
}}}}return Y;
}});
function F(H,D){I.extend(H,D);
for(var M in D){if(D[M]==null){H[M]=null;
}}return H;
}I.fn.countdown=function(H){var D=Array.prototype.slice.call(arguments,1);
if(H=="getTimes"||H=="settings"){return I.countdown["_"+H+"Countdown"].apply(I.countdown,[this[0]].concat(D));
}return this.each(function(){if(typeof H=="string"){I.countdown["_"+H+"Countdown"].apply(I.countdown,[this].concat(D));
}else{I.countdown._attachCountdown(this,H);
}});
};
I.countdown=new B();
})(jQuery);

(function(B){B.fn.bgiframe=(B.browser.msie&&/msie 6\.0/i.test(navigator.userAgent)?function(C){C=B.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:true,src:"javascript:false;"},C);
var D='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+C.src+'"style="display:block;position:absolute;z-index:-1;'+(C.opacity!==false?"filter:Alpha(Opacity='0');":"")+"top:"+(C.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":A(C.top))+";left:"+(C.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":A(C.left))+";width:"+(C.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":A(C.width))+";height:"+(C.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":A(C.height))+';"/>';
return this.each(function(){if(B(this).children("iframe.bgiframe").length===0){this.insertBefore(document.createElement(D),this.firstChild);
}});
}:function(){return this;
});
B.fn.bgIframe=B.fn.bgiframe;
function A(C){return C&&C.constructor===Number?C+"px":C;
}})(jQuery);

(function(B){function A(G,F){function I(K){if(!H){H=true;
J.start&&J.start(K,C);
}}function E(K,L){if(H){clearTimeout(D);
D=setTimeout(function(){H=false;
J.stop&&J.stop(K,C);
},L>=0?L:J.delay);
}}var J=B.extend({start:null,stop:null,delay:400},F),C=B(G),H=false,D;
C.keypress(I);
C.keydown(function(K){if(K.keyCode===8||K.keyCode===46){I(K);
}});
C.keyup(E);
C.blur(function(K){E(K,0);
});
}B.fn.typing=function(C){return this.each(function(D,E){A(E,C);
});
};
})(jQuery);

var caretPositionAmp=[];
jQuery.fn.extend({getSelection:function(){var I=this.jquery?this[0]:this,J,H,F,C=0;
I.onmousedown=function(){document.selection&&typeof I.selectionStart!="number"?document.selection.empty():window.getSelection().removeAllRanges();
};
if(document.selection){var G=document.selection.createRange(),E=0,D=0,B=0;
J=document.getElementsByTagName("TEXTAREA");
for(H=0;
H<J.length;
H++){if(J[H]==I){break;
}}if(I.value.match(/\n/g)!=null){C=I.value.match(/\n/g).length;
}if(G.text){F=G.text;
if(typeof I.selectionStart=="number"){J=I.selectionStart;
H=I.selectionEnd;
if(J==H){return{start:J,end:H,text:G.text,length:H-J};
}}else{J=I.createTextRange();
F=J.duplicate();
firstRe=J.text;
J.moveToBookmark(G.getBookmark());
secondRe=J.text;
F.setEndPoint("EndToStart",J);
if(firstRe==secondRe&&firstRe!=G.text||F.text.length>firstRe.length){return{start:caretPositionAmp[H],end:caretPositionAmp[H],text:"",length:0};
}J=F.text.length;
H=F.text.length+G.text.length;
}if(C>0){for(F=0;
F<=C;
F++){var A=I.value.indexOf("\n",D);
if(A!=-1&&A<J){D=A+1;
E++;
B=E;
}else{if(A!=-1&&A>=J&&A<=H){if(A==J+1){E--;
B--;
D=A+1;
}else{D=A+1;
B++;
}}else{F=C;
}}}}if(G.text.indexOf("\n",0)==1){B+=2;
}J-=E;
H-=B;
return{start:J,end:H,text:G.text,length:H-J};
}I.focus();
if(typeof I.selectionStart=="number"){J=I.selectionStart;
}else{G=document.selection.createRange();
J=I.createTextRange();
F=J.duplicate();
J.moveToBookmark(G.getBookmark());
F.setEndPoint("EndToStart",J);
J=F.text.length;
}if(C>0){for(F=0;
F<=C;
F++){A=I.value.indexOf("\n",D);
if(A!=-1&&A<J){D=A+1;
E++;
}else{F=C;
}}}J-=E;
if(J==0&&typeof I.selectionStart!="number"){J=caretPositionAmp[H];
H=caretPositionAmp[H];
}return{start:J,end:J,text:G.text,length:0};
}else{if(typeof I.selectionStart=="number"){J=I.selectionStart;
H=I.selectionEnd;
F=I.value.substring(I.selectionStart,I.selectionEnd);
return{start:J,end:H,text:F,length:H-J};
}else{return{start:undefined,end:undefined,text:undefined,length:undefined};
}}},replaceSelection:function(L){var M=this.jquery?this[0]:this,K,I;
I=0;
var F,J,H=0,G=0,E=M.scrollTop==undefined?0:M.scrollTop;
K=document.getElementsByTagName("TEXTAREA");
for(var C=0;
C<K.length;
C++){if(K[C]==M){break;
}}if(document.selection&&typeof M.selectionStart!="number"){E=document.selection.createRange();
if(typeof M.selectionStart!="number"){var D;
J=M.createTextRange();
F=J.duplicate();
K=J.text;
J.moveToBookmark(E.getBookmark());
D=J.text;
try{F.setEndPoint("EndToStart",J);
}catch(A){return this;
}if(K==D&&K!=E.text||F.text.length>K.length){return this;
}}if(E.text){part=E.text;
if(M.value.match(/\n/g)!=null){H=M.value.match(/\n/g).length;
}K=F.text.length;
if(H>0){for(D=0;
D<=H;
D++){var B=M.value.indexOf("\n",I);
if(B!=-1&&B<K){I=B+1;
G++;
}else{D=H;
}}}E.text=L;
caretPositionAmp[C]=F.text.length+L.length;
J.move("character",caretPositionAmp[C]);
document.selection.empty();
M.blur();
}return this;
}else{if(typeof M.selectionStart=="number"&&M.selectionStart!=M.selectionEnd){K=M.selectionStart;
I=M.selectionEnd;
M.value=M.value.substr(0,K)+L+M.value.substr(I);
I=K+L.length;
M.setSelectionRange(I,I);
M.scrollTop=E;
return this;
}}return this;
},setSelection:function(H,I){H=parseInt(H);
I=parseInt(I);
var G=this.jquery?this[0]:this;
G.focus();
if(typeof G.selectionStart!="number"){re=G.createTextRange();
if(re.text.length<I){I=re.text.length+1;
}}if(I<H){return this;
}if(document.selection){var E=0,B=0,F=0,D=0;
if(typeof G.selectionStart!="number"){re.collapse(true);
re.moveEnd("character",I);
re.moveStart("character",H);
re.select();
}else{if(typeof G.selectionStart=="number"){if(G.value.match(/\n/g)!=null){E=G.value.match(/\n/g).length;
}if(E>0){for(var C=0;
C<=E;
C++){var A=G.value.indexOf("\n",F);
if(A!=-1&&A<H){F=A+1;
B++;
D=B;
}else{if(A!=-1&&A>=H&&A<=I){if(A==H+1){B--;
D--;
F=A+1;
}else{F=A+1;
D++;
}}else{C=E;
}}}}H+=B;
I+=D;
G.selectionStart=H;
G.selectionEnd=I;
}G.focus();
}return this;
}else{if(G.selectionStart||G.selectionStart==0){G.focus();
window.getSelection().removeAllRanges();
G.selectionStart=H;
G.selectionEnd=I;
G.focus();
return this;
}}},insertAtCaretPos:function(L){var M=this.jquery?this[0]:this,K,I,F,J,H,G,E;
K=I=0;
var C=M.scrollTop==undefined?0:M.scrollTop;
E=document.getElementsByTagName("TEXTAREA");
for(var D=0;
D<E.length;
D++){if(E[D]==M){break;
}}M.focus();
if(document.selection&&typeof M.selectionStart!="number"){if(M.value.match(/\n/g)!=null){K=M.value.match(/\n/g).length;
}E=parseInt(caretPositionAmp[D]);
if(K>0){for(var A=0;
A<=K;
A++){var B=M.value.indexOf("\n",F);
if(B!=-1&&B<=E){F=B+1;
E-=1;
I++;
}}}}caretPositionAmp[D]=parseInt(caretPositionAmp[D]);
M.onkeyup=function(){if(document.selection&&typeof M.selectionStart!="number"){M.focus();
J=document.selection.createRange();
H=M.createTextRange();
G=H.duplicate();
H.moveToBookmark(J.getBookmark());
G.setEndPoint("EndToStart",H);
caretPositionAmp[D]=G.text.length;
}};
M.onmouseup=function(){if(document.selection&&typeof M.selectionStart!="number"){M.focus();
J=document.selection.createRange();
H=M.createTextRange();
G=H.duplicate();
H.moveToBookmark(J.getBookmark());
G.setEndPoint("EndToStart",H);
caretPositionAmp[D]=G.text.length;
}};
if(document.selection&&typeof M.selectionStart!="number"){J=document.selection.createRange();
if(J.text.length!=0){return this;
}H=M.createTextRange();
textLength=H.text.length;
G=H.duplicate();
H.moveToBookmark(J.getBookmark());
G.setEndPoint("EndToStart",H);
K=G.text.length;
if(caretPositionAmp[D]>0&&K==0){I=caretPositionAmp[D]-I;
H.move("character",I);
H.select();
J=document.selection.createRange();
caretPositionAmp[D]+=L.length;
}else{if(!(caretPositionAmp[D]>=0)&&textLength==0){J=document.selection.createRange();
caretPositionAmp[D]=L.length+textLength;
}else{if(!(caretPositionAmp[D]>=0)&&K==0){H.move("character",textLength);
H.select();
J=document.selection.createRange();
caretPositionAmp[D]=L.length+textLength;
}else{if(!(caretPositionAmp[D]>=0)&&K>0){H.move("character",0);
document.selection.empty();
H.select();
J=document.selection.createRange();
caretPositionAmp[D]=K+L.length;
}else{if(caretPositionAmp[D]>=0&&caretPositionAmp[D]==textLength){if(textLength!=0){H.move("character",textLength);
H.select();
}else{H.move("character",0);
}J=document.selection.createRange();
caretPositionAmp[D]=L.length+textLength;
}else{if(caretPositionAmp[D]>=0&&K!=0&&caretPositionAmp[D]>=K){I=caretPositionAmp[D]-K;
H.move("character",I);
}else{caretPositionAmp[D]>=0&&K!=0&&caretPositionAmp[D]<K&&H.move("character",0);
}document.selection.empty();
H.select();
J=document.selection.createRange();
caretPositionAmp[D]+=L.length;
}}}}}J.text=L;
M.focus();
return this;
}else{if(typeof M.selectionStart=="number"&&M.selectionStart==M.selectionEnd){F=M.selectionStart+L.length;
K=M.selectionStart;
I=M.selectionEnd;
M.value=M.value.substr(0,K)+L+M.value.substr(I);
M.setSelectionRange(F,F);
M.scrollTop=C;
return this;
}}return this;
},setCaretPos:function(A){var B=this.jquery?this[0]:this,H,F=0,C=0,G;
G=document.getElementsByTagName("TEXTAREA");
for(var E=0;
E<G.length;
E++){if(G[E]==B){break;
}}B.focus();
if(parseInt(A)==0){return this;
}if(parseInt(A)>0){A=parseInt(A)-1;
if(document.selection&&typeof B.selectionStart=="number"&&B.selectionStart==B.selectionEnd){if(B.value.match(/\n/g)!=null){F=B.value.match(/\n/g).length;
}if(F>0){for(var D=0;
D<=F;
D++){G=B.value.indexOf("\n",H);
if(G!=-1&&G<=A){H=G+1;
A=parseInt(A)+1;
}}}}}else{if(parseInt(A)<0){A=parseInt(A)+1;
if(document.selection&&typeof B.selectionStart!="number"){A=B.value.length+parseInt(A);
if(B.value.match(/\n/g)!=null){F=B.value.match(/\n/g).length;
}if(F>0){for(D=0;
D<=F;
D++){G=B.value.indexOf("\n",H);
if(G!=-1&&G<=A){H=G+1;
A=parseInt(A)-1;
C+=1;
}}A=A+C-F;
}}else{if(document.selection&&typeof B.selectionStart=="number"){A=B.value.length+parseInt(A);
if(B.value.match(/\n/g)!=null){F=B.value.match(/\n/g).length;
}if(F>0){A=parseInt(A)-F;
for(D=0;
D<=F;
D++){G=B.value.indexOf("\n",H);
if(G!=-1&&G<=A){H=G+1;
A=parseInt(A)+1;
C+=1;
}}}}else{A=B.value.length+parseInt(A);
}}}else{return this;
}}if(document.selection&&typeof B.selectionStart!="number"){H=document.selection.createRange();
if(H.text!=0){return this;
}B=B.createTextRange();
B.collapse(true);
B.moveEnd("character",A);
B.moveStart("character",A);
B.select();
caretPositionAmp[E]=A;
return this;
}else{if(typeof B.selectionStart=="number"&&B.selectionStart==B.selectionEnd){B.setSelectionRange(A,A);
return this;
}}return this;
},countCharacters:function(){var A=this.jquery?this[0]:this;
if(A.value.match(/\r/g)!=null){return A.value.length-A.value.match(/\r/g).length;
}return A.value.length;
},setMaxLength:function(A,B){this.each(function(){var F=this.jquery?this[0]:this,D=F.type,C,E;
if(parseInt(A)<0){A=100000000;
}if(D=="text"){F.maxLength=A;
}if(D=="textarea"||D=="text"){F.onkeypress=function(H){var G=F.value.match(/\r/g);
E=A;
if(G!=null){E=parseInt(E)+G.length;
}H=H||event;
G=H.keyCode;
C=document.selection?document.selection.createRange().text.length>0:F.selectionStart!=F.selectionEnd;
if(F.value.length>=E&&(G>47||G==32||G==0||G==13)&&!H.ctrlKey&&!H.altKey&&!C){F.value=F.value.substring(0,E);
typeof B=="function"&&B();
return false;
}};
F.onkeyup=function(){var J=F.value.match(/\r/g),I=0,H=0;
E=A;
if(J!=null){for(var G=0;
G<=J.length;
G++){if(F.value.indexOf("\n",H)<=parseInt(A)){I++;
H=F.value.indexOf("\n",H)+1;
}}E=parseInt(A)+I;
}if(F.value.length>E){F.value=F.value.substring(0,E);
typeof B=="function"&&B();
return this;
}};
}else{return this;
}});
return this;
}});

(function(A){A.fn.extend({autocomplete:function(B,C){var D=typeof B=="string";
C=A.extend({},A.Autocompleter.defaults,{url:D?B:null,data:D?null:B,delay:D?A.Autocompleter.defaults.delay:10,max:C&&!C.scroll?10:150},C);
C.highlight=C.highlight||function(E){return E;
};
C.formatMatch=C.formatMatch||C.formatItem;
C.itemsKey=C.itemsKey||"searchSuggstion";
C.left=C.left||0;
C.top=C.top||0;
return this.each(function(){new A.Autocompleter(this,C);
});
},result:function(B){return this.bind("result",B);
},search:function(B){return this.trigger("search",[B]);
},flushCache:function(){return this.trigger("flushCache");
},setOptions:function(B){return this.trigger("setOptions",[B]);
},unautocomplete:function(){return this.trigger("unautocomplete");
}});
A.Autocompleter=function(L,G){var C={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};
var B=A(L).attr("autocomplete","off").addClass(G.inputClass);
var J;
var R="";
var O;
var M=A.Autocompleter.Cache(G);
var E=0;
var V;
var Y={mouseDownOnSelect:false};
var S=A.Autocompleter.Select(G,L,D,Y);
var X;
A.browser.opera&&A(L.form).bind("submit.autocomplete",function(){if(X){X=false;
return false;
}});
B.bind((A.browser.opera?"keypress":"keydown")+".autocomplete",function(Z){E=1;
V=Z.keyCode;
switch(Z.keyCode){case C.UP:Z.preventDefault();
if(S.visible()){S.prev();
}else{U(0,true);
}break;
case C.DOWN:Z.preventDefault();
if(S.visible()){S.next();
}else{U(0,true);
}break;
case C.PAGEUP:Z.preventDefault();
if(S.visible()){S.pageUp();
}else{U(0,true);
}break;
case C.PAGEDOWN:Z.preventDefault();
if(S.visible()){S.pageDown();
}else{U(0,true);
}break;
case G.multiple&&A.trim(G.multipleSeparator)==","&&C.COMMA:case C.TAB:case C.RETURN:if(D()){Z.preventDefault();
X=true;
return false;
}break;
case C.ESC:S.hide();
break;
default:clearTimeout(J);
J=setTimeout(U,G.delay);
break;
}}).focus(function(){E++;
}).blur(function(){E=0;
if(!Y.mouseDownOnSelect){T();
}}).click(function(){if(E++>1&&!S.visible()){U(0,true);
}}).bind("search",function(){var Z=(arguments.length>1)?arguments[1]:null;
function a(e,d){var b;
if(d&&d.length){for(var c=0;
c<d.length;
c++){if(d[c].result.toLowerCase()==e.toLowerCase()){b=d[c];
break;
}}}if(typeof Z=="function"){Z(b);
}else{B.trigger("result",b&&[b]);
}}A.each(H(B.val()),function(b,c){F(c,a,a);
});
}).bind("flushCache",function(){M.flush();
}).bind("setOptions",function(){A.extend(G,arguments[1]);
if("data" in arguments[1]){M.populate();
}}).bind("unautocomplete",function(){S.unbind();
B.unbind();
A(L.form).unbind(".autocomplete");
});
A(window).resize(function(){if(S.visible()){S.show();
}});
function D(){var c=S.selected();
if(!c||B.val().length<G.minChars){return false;
}var Z=c.result;
R=Z;
if(G.multiple){var f=H(B.val());
if(f.length>1){var b=G.multipleSeparator.length;
var e=A(L).selection().start;
var d,a=0;
A.each(f,function(g,h){a+=h.length;
if(e<=a){d=g;
return false;
}a+=b;
});
f[d]=Z;
Z=f.join(G.multipleSeparator);
}Z+=G.multipleSeparator;
}B.val(Z);
W();
B.trigger("result",[c]);
return true;
}function U(b,a){if(V==C.DEL){S.hide();
return ;
}var Z=B.val();
if(!a&&Z==R){return ;
}R=Z;
Z=I(Z);
if(Z.length>=G.minChars){B.addClass(G.loadingClass);
if(!G.matchCase){Z=Z.toLowerCase();
}F(Z,K,W);
}else{N();
S.hide();
}}function H(Z){if(!Z){return[""];
}if(!G.multiple){return[A.trim(Z)];
}return A.map(Z.split(G.multipleSeparator),function(a){return A.trim(Z).length?A.trim(a):null;
});
}function I(Z){if(!G.multiple){return Z;
}var b=H(Z);
if(b.length==1){return b[0];
}var a=A(L).selection().start;
if(a==Z.length){b=H(Z);
}else{b=H(Z.replace(Z.substring(a),""));
}return b[b.length-1];
}function Q(Z,a){if(G.autoFill&&(I(B.val()).toLowerCase()==Z.toLowerCase())&&V!=C.BACKSPACE){B.val(B.val()+a.substring(I(R).length));
A(L).selection(R.length,R.length+a.length);
}}function T(){clearTimeout(J);
J=setTimeout(W,200);
}function W(){var Z=S.visible();
S.hide();
clearTimeout(J);
N();
if(G.mustMatch){B.search(function(a){if(!a){if(G.multiple){var b=H(B.val()).slice(0,-1);
B.val(b.join(G.multipleSeparator)+(b.length?G.multipleSeparator:""));
}else{B.val("");
B.trigger("result",null);
}}});
}}function K(a,Z){if(O){clearTimeout(O);
O=null;
}if(Z&&Z.length&&E){var b=function(){N();
S.emptyList();
S.display(Z,a);
Q(a,Z[0].value);
S.show();
};
if(G.adProvider&&!G.adProvider.getSuggestAd(a)){O=setTimeout(b,100);
}else{b();
}}else{S.emptyList();
W();
}}function F(a,c,Z){if(G.adProvider){G.adProvider.getSuggestAd(a);
}if(!G.matchCase){a=a.toLowerCase();
}var b=M.load(a);
if(b&&b.length){c(a,b);
}else{if((typeof G.url=="string")&&(G.url.length>0)){var d={timestamp:+new Date()};
A.each(G.extraParams,function(e,f){d[e]=typeof f=="function"?f():f;
});
A.ajax({mode:"abort",port:"autocomplete"+L.name,dataType:G.dataType,url:G.url,data:A.extend({q:I(a),limit:G.max,cid:JASK.ssCfg.cid,token:JASK.ssCfg.token,lang:JASK.ssCfg.lang},d),success:function(f){if(!f||!A.trim(f).length){f=A(document.body).data(G.itemsKey);
}var e=G.parse&&G.parse(f)||P(f);
M.add(a,e);
c(a,e);
}});
}else{S.emptyList();
Z(a);
}}}function P(c){var Z=[];
var b=c.split("\n");
for(var a=0;
a<b.length;
a++){var d=A.trim(b[a]);
if(d){d=d.split("|");
Z[Z.length]={data:d,value:d[0],result:G.formatResult&&G.formatResult(d,d[0])||d[0]};
}}return Z;
}function N(){B.removeClass(G.loadingClass);
}};
A.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:false,matchSubset:true,matchContains:false,cacheLength:10,max:100,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(B){return B[0];
},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:", ",highlight:function(C,B){return C.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+B.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>");
},scroll:true,scrollHeight:180};
A.Autocompleter.Cache=function(C){var F={};
var D=0;
function H(K,J){if(!C.matchCase){K=K.toLowerCase();
}var I=K.indexOf(J);
if(C.matchContains=="word"){I=K.toLowerCase().search("\\b"+J.toLowerCase());
}if(I==-1){return false;
}return I==0||C.matchContains;
}function G(J,I){if(D>C.cacheLength){B();
}if(!F[J]){D++;
}F[J]=I;
}function E(){if(!C.data){return false;
}var J={},I=0;
if(!C.url){C.cacheLength=1;
}J[""]=[];
for(var L=0,K=C.data.length;
L<K;
L++){var O=C.data[L];
O=(typeof O=="string")?[O]:O;
var N=C.formatMatch(O,L+1,C.data.length);
if(N===false){continue;
}var M=N.charAt(0).toLowerCase();
if(!J[M]){J[M]=[];
}var P={value:N,data:O,result:C.formatResult&&C.formatResult(O)||N};
J[M].push(P);
if(I++<C.max){J[""].push(P);
}}A.each(J,function(Q,R){C.cacheLength++;
G(Q,R);
});
}setTimeout(E,25);
function B(){F={};
D=0;
}return{flush:B,add:G,populate:E,load:function(L){if(!C.cacheLength||!D){return null;
}if(!C.url&&C.matchContains){var K=[];
for(var I in F){if(I.length>0){var M=F[I];
A.each(M,function(O,N){if(H(N.value,L)){K.push(N);
}});
}}return K;
}else{if(F[L]){return F[L];
}else{if(C.matchSubset){for(var J=L.length-1;
J>=C.minChars;
J--){var M=F[L.substr(0,J)];
if(M){var K=[];
A.each(M,function(O,N){if(H(N.value,L)){K[K.length]=N;
}});
return K;
}}}}}return null;
}};
};
A.Autocompleter.Select=function(E,K,M,Q){var J={ACTIVE:"ac_over"};
var L,F=-1,S,N="",T=true,C,P;
var H=null;
function O(){if(!T){return ;
}C=A("<div/>").hide().addClass(E.resultsClass).css("position","absolute");
if(E.setUITemplate){E.setUITemplate(C);
}if(A.fn.bgiframe){C.bgiframe();
}C.appendTo(document.body);
P=A("<ul/>").appendTo(C).mouseover(function(U){if(R(U).nodeName&&R(U).nodeName.toUpperCase()=="LI"){F=A("li",P).removeClass(J.ACTIVE).index(R(U));
A(R(U)).addClass(J.ACTIVE);
}}).mouseout(function(){}).click(function(U){A(R(U)).addClass(J.ACTIVE);
H=L&&L.filter("."+J.ACTIVE).removeClass(J.ACTIVE);
M();
K.focus();
return false;
}).mousedown(function(){Q.mouseDownOnSelect=true;
}).mouseup(function(){Q.mouseDownOnSelect=false;
});
if(E.width>0){C.css("width",E.width);
}if(E.setTurnOffComponent){E.setTurnOffComponent(C,K);
}T=false;
}function R(V){var U=V.target;
while(U&&U.tagName!="LI"){U=U.parentNode;
}if(!U){return[];
}return U;
}function I(U){L.slice(F,F+1).removeClass(J.ACTIVE);
G(U);
H=L.slice(F,F+1).addClass(J.ACTIVE);
if(S[F]&&A.data(H[0],"ac_data").result){A(K).val(A.data(H[0],"ac_data").result);
}else{A(K).val(N);
}if(E.scroll){var V=0;
L.slice(0,F).each(function(){V+=this.offsetHeight;
});
if((V+H[0].offsetHeight-P.scrollTop())>P[0].clientHeight){P.scrollTop(V+H[0].offsetHeight-P.innerHeight());
}else{if(V<P.scrollTop()){P.scrollTop(V);
}}}}function G(U){F+=U;
if(F<-1){F=L.size()-1;
}else{if(F>=L.size()){F=-1;
}}}function B(U){return E.max&&E.max<U?E.max:U;
}function D(){var X,Z=function(){};
if(E.adProvider&&E.adProvider.getSuggestAd&&E.formatAd){X=E.adProvider.getSuggestAd(N);
if(X){Z=function(){var b=E.formatAd(X);
if(b===false){return ;
}var a=A("<li/>").addClass("ac_ad").html(b).appendTo(P)[0];
A.data(a,"ac_data",X);
};
}}P.empty();
if(X&&X.position&&X.position==="Top"){Z();
}var V=B(S.length);
for(var W=0;
W<V;
W++){if(!S[W]){continue;
}var Y=E.formatItem(S[W],W+1,V);
if(Y===false){continue;
}var U=A("<li/>").html(E.highlight(Y,N)).addClass(W%2==0?"ac_even":"ac_odd").appendTo(P)[0];
A.data(U,"ac_data",S[W]);
}if(X&&(!X.position||X.position!=="Top")){Z();
}L=P.find("li");
if(E.selectFirst){L.slice(0,1).addClass(J.ACTIVE);
F=0;
}}return{display:function(V,U){O();
S=V;
N=U;
D();
},next:function(){I(1);
},prev:function(){I(-1);
},pageUp:function(){if(F!=0&&F-8<0){I(-F);
}else{I(-8);
}},pageDown:function(){if(F!=L.size()-1&&F+8>L.size()){I(L.size()-1-F);
}else{I(8);
}},hide:function(){C&&C.hide();
L&&L.removeClass(J.ACTIVE);
F=-1;
},visible:function(){return C&&C.is(":visible");
},current:function(){return this.visible()&&(L.filter("."+J.ACTIVE)[0]||E.selectFirst&&L[0]);
},show:function(){var W=A(K).offset();
C.css({width:typeof E.width=="string"||E.width>0?E.width:A(K).width(),top:W.top+K.offsetHeight+E.top,left:W.left+E.left}).show();
if(E.scroll){P.scrollTop(0);
P.css({maxHeight:E.scrollHeight,overflow:"auto"});
if(A.browser.msie&&typeof document.body.style.maxHeight==="undefined"){var U=0;
L.each(function(){U+=this.offsetHeight;
});
var V=U>E.scrollHeight;
P.css("height",V?E.scrollHeight:U);
if(!V){L.width(P.width()-parseInt(L.css("padding-left"))-parseInt(L.css("padding-right")));
}}}},selected:function(){return H&&H.length&&A.data(H[0],"ac_data");
},emptyList:function(){P&&P.empty();
},unbind:function(){C&&C.remove();
}};
};
A.fn.selection=function(I,B){if(I!==undefined){return this.each(function(){if(this.createTextRange){var J=this.createTextRange();
if(B===undefined||I==B){J.move("character",I);
J.select();
}else{J.collapse(true);
J.moveStart("character",I);
J.moveEnd("character",B);
J.select();
}}else{if(this.setSelectionRange){this.setSelectionRange(I,B);
}else{if(this.selectionStart){this.selectionStart=I;
this.selectionEnd=B;
}}}});
}var G=this[0];
if(G.createTextRange){var C=document.selection.createRange(),H=G.value,F="<->",D=C.text.length;
C.text=F;
var E=G.value.indexOf(F);
G.value=H;
this.selection(E,E+D);
return{start:E,end:E+D};
}else{if(G.selectionStart!==undefined){return{start:G.selectionStart,end:G.selectionEnd};
}}};
})(jQuery);

if(!("console" in window)){window.console={log:function(){}};
}var JASK=JASK||{};
jQuery.noConflict();
var $j=jQuery;
JASK.cfg=JASK.cfg||{};
JASK.ssCfg=JASK.ssCfg||{};
JASK.namespace=function namespace(){var A=arguments,E=null,C,B,D;
for(C=0;
C<A.length;
C=C+1){D=(""+A[C]).split(".");
E=JASK;
for(B=(D[0]=="JASK")?1:0;
B<D.length;
B=B+1){E[D[B]]=E[D[B]]||{};
E=E[D[B]];
}}return E;
};
JASK.namespace("ja");

jQuery.noConflict();
var $j=jQuery;
$j.expr[":"].containsIgnoreCase=function(B,C,A){return $j(B).text().toUpperCase().indexOf(A[3].toUpperCase())>=0;
};
(function(A){A.serializeObject=function(D){var C={};
var B=(typeof D=="string")?A("#"+D):A(D);
B.find("*[name]").each(function(E,F){C[F.name]=F.value;
});
return C;
};
})(jQuery);
(function(A){A.capitalize=function(B){return B.charAt(0).toUpperCase()+B.substring(1).toLowerCase();
};
})(jQuery);
(function(A){A.noOfLinksInText=function(E){var C=/(\b(http:\/\/|https:\/\/|www[.])[\-A-Za-z0-9+&@#\/%?=~_()|!:,.;]*[\-A-Za-z0-9+&@#\/%=~_()|])/ig;
var D=0,B;
while((B=C.exec(E))!==null){D++;
}return D;
};
})(jQuery);
(function(A){A.prefixHttp=function(B){if(B&&B.toLowerCase().indexOf("http://")===0){return B;
}else{return"http://"+B;
}};
})(jQuery);
(function(A){A.hasHTML=function(B){if(B){return !!B.match(/<(.|\n)*?>/mg);
}else{return false;
}};
})(jQuery);
(function(A){A.isValidEmail=function(B){return !!(B.match(/^[a-zA-Z0-9._\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,4}$/));
};
})(jQuery);
(function(A){A.stripURLs=function(B){return B.replace(/(ftp|http|https|file):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/gim,"");
};
})(jQuery);
(function(A){A.uniqueArray=function(C){var D={};
var B=[];
for(var E=0;
E<C.length;
E++){var F=C[E];
if(typeof D[F]==="undefined"){B.push(F);
D[F]=F;
}}return B;
};
})(jQuery);
(function(A){A.getUrlParams=function(){var B={},E,D=window.location.search.substring(1);
var C=/([^&=]+)=([^&]+)/g;
while((E=C.exec(D))!==null){B[decodeURIComponent(E[1])]=decodeURIComponent(E[2]);
}return B;
};
A.getUrlParam=function(B){return A.getUrlParams()[B];
};
})(jQuery);
(function(A){A.effects.fade=function(B){return this.queue(function(){var E=A(this);
var C=B.options.duration||300;
var D=B.options.mode||"show";
if(D=="show"){E.fadeIn(C);
}else{E.fadeOut(C);
}E.queue("fx",function(){E.dequeue();
});
E.dequeue();
});
};
})(jQuery);


JASK.ja.maxTopicLength=50;
JASK.ja.topicLengthErrMsg="Sorry, that topic is too long. Please enter one topic at a time and keep them concise but descriptive.";
JASK.ja.fid="generic";
JASK.ja.hasQuestionErrors=0;
JASK.ja.hasTagsErrors=0;
JASK.ja.hasDetailErrors=0;
JASK.ja.hasQuestionWarnings=0;
JASK.ja.communityQMustHaveInterrogatives="";
JASK.namespace("ask_dialog");
JASK.ask_dialog=(function(Ba,BT){var B3=new JASK.logging.JALogger();
var Ay=null;
var y=(BT.recaptchaEnabled=="true")?true:false;
var z=(BT.spellcheckEnabled=="true")?true:false;
var AX=false;
var BJ="signin";
var CF=false;
var B="asker";
var r="learnmore";
var Bw="generic";
var Ar={"asker":"jrf","learnmore":"jaf","generic":"jgf","komen":"jkl"};
var W="ccf";
var k="jfc";
var A7=Bx(BA(BT.sessionTracker1));
var G=Bx(BA(BT.sessionTracker2));
var F=Bx(BA(BT.sessionTracker3));
var h=Bx(BA(BT.sessionTracker4));
var BF=Bx(BA(BT.sessionTracker5));
var A8=Bx(BA(BT.sessionTracker6));
var X=Bx(BA(BT.sessionTracker7));
var I=Bx(BA(BT.sessionTracker8));
var Bt=JASK.cfg.trackerData.qsrc||121;
var AB=BT.qBoxCharLimit;
var O=JASK.cfg.queryid;
var Bm=_claraAdcat||"24";
var B1=$j.getUrlParam("id");
var CB=$j.getUrlParam("tokentype")||"";
if(B1!=null){var BK=BT.protocol+"://"+BT.secureDomain+"/ja-new-user?token="+encodeURIComponent(B1)+"&tokentype="+CB+"&qsrc=";
}else{var BK=BT.protocol+"://"+BT.secureDomain+"/ja-new-user?qsrc=";
}var A3="";
var Bk="http://"+BT.resultsDomain+"/ja-new-question?qid="+BT.qid+"&qsrc=";
var o="http://"+BT.resultsDomain+"/ja-send-email?qsrc=";
var L="http://"+BT.spellcheckDomain+"/ja-spellcheck";
var Ac=BT.EMAIL_UNAVAILABLE;
var A5=BT.EMAIL_INVALID;
var Y=BT.USER_TOOSHORT;
var C=BT.USER_UNAVAILABLE;
var Bd=BT.USER_INVALID;
var Aw=BT.USER_NONEXISTENT;
var BL=BT.PASS_TOOSHORT;
var Ag=BT.PASS_HASSPACE;
var l=BT.PASS_NOMATCH;
var Bb=BT.CAPTCHA_INCORRECT;
var V=BT.USER_UNDERSCORE;
var AT=BT.USER_CONS_UNDERSCORES;
var BY=BT.EMAIL_HELP;
var Ai=BT.USER_HELP;
var AR=BT.PASS_HELP;
var Ah=BT.CAPTCHA_HELP;
var AD=BT.TOPICS_EMPTY;
var e=BT.TOPICS_EXCEEDS;
var i=BT.DUPLICATE_TOPIC;
var Aq=BT.TOPICS_CHARACTER_LIMIT;
var Am=BT.QUESTION_EMPTY;
var An=BT.QUESTION_CAPS;
var BM=BT.QUESTION_LEN;
var Av=BT.DETAILS_LEN;
var AO=BT.DETAILS_LONG;
var B6=BT.NOT_A_QUESTION;
var BH=BT.AS_A_QUESTION;
var AU="       "+BT.ANALYZING;
var d=BT.NO_HTML;
var c=BT.SIGNIN_EMPTY;
var By=BT.SIGNIN_FAIL;
var Bc=BT.ADD_PLACE;
var Bi=BT.ADD_INTEREST;
var b=BT.OOPS;
var AE=BT.AJAXERR;
var Al=BT.QUESTION_POST_ERROR;
var AG=BT.QUESTION_DAILY_THROTTLE_ERROR;
var AW=BT.QUESTION_MULTI_QUES_MARK;
var At=BT.QUESTION_SHORT_TEXT;
var AA=BT.QUESTION_CAPS_LIMITED;
var a=BT.ALREADY_LINKED;
var s=["","","",""];
var BO=BT.INVALID_SHORTHAND_WORDS;
var n=false;
var Bz=false;
var N=false;
var m=false;
var j=false;
var Bg="";
var AQ=[BT.threshold1,BT.threshold2,BT.threshold3];
var Bo=false;
function CJ(){var CN=100;
var CM=999;
var J=CM-CN;
var CL=Math.floor(Math.random()*J+CN);
var CK=Math.floor(Math.random()*J+CN);
return CL.toString()+CK.toString();
}function BA(J){var CK=CJ();
return $j.param.querystring(J,"ord="+CK);
}function Bx(CK){var J=JASK.logging.getLdIdFromLdptCookie();
return $j.param.querystring(CK,"ld="+J);
}function Aj(J){return $j.param.querystring(J,"c="+Ar[JASK.ja.fid]);
}function Au(J){JASK.ja.fid=J||JASK.ja.fid;
}function Br(J){A3=J;
}function CG(CK){if(CK){return true;
}var J=true;
$j("#signupform").find(".txtin").each(function(){if(!this.value){JASK.showValidateMsg("error","#signup_ok",c);
J=false;
}});
if(!J){return false;
}if(!Ba.validatePassword()){J=false;
}if(!Ba.confirmPassword()){J=false;
}if(($j("#dialog_email").data("email")!=$j("#dialog_email").val())&&!$j("#dialog_email").data("isPending")){J=false;
}if((($j("#dialog_username").data("user")!=$j("#dialog_username").val())||!$j("#dialog_username").val())&&!$j("#dialog_username").data("isPending")){J=false;
}if($j("#dialog_pusername").length>0&&(($j("#dialog_pusername").data("puser")!=$j("#dialog_pusername").val())||!$j("#dialog_pusername").val())&&!$j("#dialog_pusername").data("isPending")){J=false;
}if((y&&!$j("#signupform input[id=recaptcha_response_field]").val()||$j("#signupform input[id=recaptcha_response_field]").data("captcha")!=$j("#signupform input[id=recaptcha_response_field]").val())&&!$j("#signupform input[id=recaptcha_response_field]").data("isPending")){J=false;
}return J;
}function AP(CK){if(CK){return true;
}var J=true;
if(!AM($j("#signin_email").val())){JASK.showValidateMsg("error","#signin_ok",A5);
J=false;
}if(!$j("#signin_password").val()){JASK.showValidateMsg("error","#signin_ok",c);
J=false;
}return J;
}function AF(){var J=true;
if(!AM($j("#linkacct_email").val())){JASK.showValidateMsg("error","#linkacct_ok",A5);
J=false;
}if(!$j("#linkacct_password").val()){JASK.showValidateMsg("error","#linkacct_ok",c);
J=false;
}return J;
}Ba.checkPUserName=function CA(){q("#dialog_pusername");
if($j("#dialog_pusername").val().length==0){JASK.showValidateMsg("error","#pusername_ok",Y);
$j("#dialog_pusername").removeData("puser");
return false;
}else{$j("#dialog_pusername").trigger("success");
$j("#dialog_pusername").data("puser",$j("#dialog_pusername").val());
$j("#dialog_pusername").data("isPending",1);
$j.get("http://"+BT.resultsDomain+"/paid-user-validate",{"provider":$j("#dialog_pusername").val()},function(J){$j("#dialog_pusername").removeData("isPending");
if(J&&J.status["@code"]==100){JASK.showValidateMsg("success","#pusername_ok");
$j("#dialog_pusername").trigger("success");
$j("#dialog_pusername").data("puser",$j("#dialog_pusername").val());
}else{if(J&&J.status["@code"]!=100){JASK.showValidateMsg("error","#pusername_ok",Aw);
$j("#dialog_pusername").removeData("puser");
}else{JASK.showValidateMsg("error","#pusername_ok",AE);
}}},"json");
}};
Ba.checkUserName=function T(J,CL,CK){q(J);
if($j(J).val().length<3){JASK.showValidateMsg("error",CK,Y);
$j(J).removeData("user");
return false;
}else{if($j(J).val().match(/\W/)){JASK.showValidateMsg("error",CK,Bd);
$j(J).removeData("user");
return false;
}else{if($j(J).val().match(/^_/)||$j(J).val().match(/_$/)){JASK.showValidateMsg("error",CK,V);
$j(J).removeData("user");
return false;
}else{if($j(J).val().match(/_{2,}/)){JASK.showValidateMsg("error",CK,AT);
$j(J).removeData("user");
return false;
}else{$j(J).data("isPending",1);
$j.get($j(CL).attr("action"),{"username":$j(J).val(),"engine_id":"add_user"},function(CM){$j(J).removeData("isPending");
if(CM&&CM.status["@code"]==100){JASK.showValidateMsg("error",CK,C);
$j(J).removeData("user");
}else{if(CM){JASK.showValidateMsg("success",CK);
$j(J).trigger("success");
$j(J).data("user",$j(J).val());
}else{JASK.showValidateMsg("error",CK,AE);
}}},"json");
}}}}};
Ba.validateEmail=function v(J,CL,CK){$j(CK).removeClass("email_info_2line");
q(J);
if(AM($j(J).val())){$j(J).data("isPending",1);
$j.get($j(CL).attr("action"),{"email":$j(J).val(),"engine_id":"add_user"},function(CM){$j(J).removeData("isPending");
if(CM&&CM.status["@code"]==100){JASK.showValidateMsg("error",CK,Ac);
$j(J).removeData("email");
}else{if(CM){JASK.showValidateMsg("success",CK);
$j(J).trigger("success");
$j(J).data("email",$j(J).val());
}else{JASK.showValidateMsg("error",CK,AE);
}}},"json");
JASK.showValidateMsg("success",CK);
return true;
}else{JASK.showValidateMsg("error",CK,A5);
return false;
}};
JASK.ja.okToAsk=function BG(){var J=true;
J=Ba.validateQuestion()&&Ba.validateCategory()&&Ba.validateDetail();
return J;
};
JASK.ja.validateQuestionTextArea=function AI(){Ba.validateQuestion();
};
JASK.ja.validateDetailTextArea=function A(){Ba.validateDetail();
};
JASK.ja.clearSpellErrors=function A9(){$j("#questinbox").trigger("clearSpellErrors");
$j("#detail").trigger("clearSpellErrors");
};
Ba.validateCategory=function BR(){if($j("#inboundCategories").val()==-1){$j(".askq_cat_label").addClass("validate_error");
return false;
}else{return true;
}};
Ba.validateQuestion=function Bs(){var CU=true;
var CL="";
var CK=$j("#questionbox");
CL=CK.val();
var CM=$j.trim(CL).length;
if(CM==0){JASK.showValidateMsg("error","#question_cont_err",Am);
CU=false;
}else{if(CL.length>AB){JASK.showValidateMsg("error","#question_cont_err",BM);
CU=false;
}else{var CQ=$j.trim(CL).split(" ");
var CO=CQ.length;
var CS=$j.trim(CL).replace(/[^a-zA-Z 0-9]+/g,"").split(" ");
var CR=CS.length;
if((CO<15)&&JASK.serp&&(!JASK.serp.isQuestion())){JASK.ja.hasQuestionWarnings=1;
JASK.showValidateMsg("error","#question_cont_err",BH);
CU=true;
}if(CO<=2){JASK.showValidateMsg("error","#question_cont_err",BH);
CU=false;
}else{if($j.trim(CL).match(/[A-Z]/)&&!$j.trim(CL).match(/[a-z0-9]/)){JASK.showValidateMsg("error","#question_cont_err",An);
CU=false;
}else{if((CL.replace(/\s\s+/g,"").indexOf("??")>-1)||(CL.replace(/\s\s+/g,"").indexOf("? ?")>-1)){JASK.showValidateMsg("error","#question_cont_err",AW);
CU=false;
}else{for(var CP=0;
CP<CR;
CP++){if(($j.inArray(CS[CP].toLowerCase(),BO.split(","))>-1)){if(CU){JASK.showValidateMsg("error","#question_cont_err",At);
CU=false;
break;
}}}if(CU){var J=$j.trim(CL).match(/\b[^\Wa-z0-9_]+\b/g);
var CT=J!=null?J.length:0;
if(CT>0){var CN=0;
if(CR==3){CN=Math.round(CR*(33/100));
}else{CN=Math.round(CR*(40/100));
}if(CT>CN){JASK.showValidateMsg("error","#question_cont_err",AA);
CU=false;
}}}}}}}}JASK.ja.hasQuestionErrors=(CU?0:1);
return CU;
};
Ba.validateTagList=function B8(){var J=true;
var CK=$j(".keywords_list_topic").length;
if(CK<=0){JASK.showValidateMsg("errTip","#q_modal_error",AD);
JASK.showValidateMsg("tipTitle","#q_error_title","Whoops!");
J=false;
}else{JASK.ja.hasTagsErrors=0;
}JASK.ja.hasTagsErrors=(J?0:1);
return J;
};
function BP(CK){var J=false;
var CM=$j.trim(CK);
if(CM==null||CM==""||CM=="Add a keyword"){JASK.showValidateMsg("errTip","#q_modal_error",AD);
JASK.showValidateMsg("tipTitle","#q_error_title","Whoops!");
J=true;
}else{if($j.hasHTML(CM)){JASK.showValidateMsg("errTip","#q_modal_error",d);
JASK.showValidateMsg("tipTitle","#q_error_title","Whoops!");
J=true;
}else{var CL=Az(CM);
if(!CL&&CM!="Add a keyword"){J=!Bq(CM);
}else{J=true;
}}}$j("#askq_tt").children().remove();
JASK.ja.displayToolTip("#tagList",(J)?"#askq_error":"#topics_tt_cnt");
return !J;
}function Az(J){var CK=false;
$j("#keywords_list .tags-left").each(function(){var CL=$j.trim($j(this).text());
if(CL.toLowerCase()==J.toLowerCase()){JASK.showValidateMsg("errTip","#q_modal_error",i);
JASK.showValidateMsg("tipTitle","#q_error_title","Whoops!");
CK=true;
}});
JASK.ja.hasTagsErrors=(CK?1:0);
return CK;
}Ba.validateDetail=function AK(){var J=true;
var CK=$j.trim($j("#detail").val());
if($j.hasHTML(CK)){JASK.showValidateMsg("error","#question_detail_err",d);
J=false;
}else{if(CK.length>1200){JASK.showValidateMsg("error",".question_detail_err",AO);
JASK.showValidateMsg("error","#question_detail_err",Av);
J=false;
}}JASK.ja.hasDetailErrors=(J?0:1);
return J;
};
Ba.validateCaptcha=function AL(){if(!y){return true;
}if($j("#signupform input[id=recaptcha_response_field]").val()){$j("#signupform input[id=recaptcha_response_field]").data("isPending",1);
$j.get("http://"+BT.resultsDomain+"/ja-recaptcha-ajax",{"recaptcha_response_field":$j("#signupform input[id=recaptcha_response_field]").val(),"recaptcha_challenge_field":$j("#recaptcha_challenge_field").val(),"engine_id":"captcha"},function(J){$j("#signupform input[id=recaptcha_response_field]").removeData("isPending");
if(J&&J.status=="failure"){JASK.showValidateMsg("error","#captcha_ok",Bb);
$j("#signupform input[id=recaptcha_response_field]").removeData("captcha");
Recaptcha.reload();
return false;
}else{JASK.showValidateMsg("success","#captcha_ok");
$j("#signupform input[id=recaptcha_response_field]").data("captcha",$j("#signupform input[id=recaptcha_response_field]").val());
$j("#signupform input[id=recaptcha_response_field]").trigger("success");
return true;
}},"json");
}else{JASK.showValidateMsg("error","captcha_ok",Bb);
return false;
}};
Ba.validatePassword=function CE(){q("#dialog_password");
if($j("#dialog_password").val().length<6){JASK.showValidateMsg("error","#password_ok",BL);
return false;
}else{if($j("#dialog_password").val().match(/ /)){JASK.showValidateMsg("error","#password_ok",Ag);
return false;
}else{JASK.showValidateMsg("success","#password_ok");
if($j("#dialog_password2").val()){if(!Ba.confirmPassword()){return false;
}}return true;
}}};
Ba.confirmPassword=function BV(){if($j("#dialog_password").val()&&$j("#dialog_password").val()==$j("#dialog_password2").val()){JASK.showValidateMsg("success","#password_confirm");
return true;
}else{JASK.showValidateMsg("error","#password_confirm",l);
return false;
}};
Ba.askQuestion=function AY(){if(Bz){return ;
}$j("#question_ajx_err").ajaxError(function(){JASK.showValidateMsg("error","#question_ajx_err",AE);
$j("#question_ajx_err").unbind();
});
$j.post($j("#ask_form").attr("action"),$j.serializeObject("ask_form"),function(CK){if(CK){$j("#origTagList").val(AC(CK.question,0,AQ));
var J=AC(CK.question,0,AQ).split(",");
if(J!=null&&J!=""){$j.each(J,function(){var CM=this.length;
var CL=this;
pattern=new RegExp("(\\s|<|\\s)");
if(this.match(pattern)){CL=this.replace(/</g,"&lt;");
}if(CM<=49){$j("#keywords_list").append($j('<div class="clearfix keywords_list_topic"><div class="tags-left">'+CL+'</div><div style="float:left"><div class="tags-right" ><a  class="tags-close tags-topic-close" style="text-decoration:none;cursor:pointer" href="#"> </a></div></div></div>'));
}});
}Bg=AC(CK.question,1);
}else{$j("#tagList,#origTagList").val("");
}$j("#question_ajx_err").unbind();
},"json");
Bz=true;
$j("#questionbox").keyup();
$j("#keywords_list").html("");
};
function x(){var J=[];
$j("#keywords_list .tags-left").each(function(){J.push($j.trim($j(this).text()));
});
return J.join(",");
}Ba.updateQuestion=function BX(){if(JASK.ja.okToAsk()&&!n){if(JASK.isAuthenticated()){$j("#question_ajx_err").ajaxError(function(){JASK.showValidateMsg("error","#question_ajx_err",AE);
$j("#question_ajx_err").unbind();
$j("#askq_form_submit").showDone();
});
var CK=$j("#detail");
if(CK.data("unmodified")==true){CK.data("unmodified",false);
CK.val("");
}var J=$j.extend($j.serializeObject("ask_form"),{"update_w_user":"1"},{"tagList":x()});
if(y&&$j("#recaptchaDialog").is(":visible")){if($j.trim($j("#answerRecaptcha .recaptcha").val()).length==0){$j("#recaptchaError").hide();
$j("#recaptchaEmpty").show();
return ;
}J["recaptcha_challenge_field"]=Recaptcha.get_challenge();
J["recaptcha_response_field"]=$j("#answerRecaptcha .recaptcha").val();
$j("#recaptchaEmpty").hide();
$j("#recaptchaDialog").dialog("close");
}J["spellingErrorCount"]=($j("#questionbox").data("spellErrors")+CK.data("spellErrors"));
var CN=Aa("question_asked");
var CL="j_cat="+Bg;
$j("#askq_form_submit").showBusy();
$j.post((Bk+Bt+"&j_cat="+Bg+"&tfid=JAAskQForm&iId="+encodeURIComponent(CN)+"&ex="+encodeURIComponent(CL)),J,function(CP){n=false;
sct(53701);
if(CP.status["@code"]==100){$j(document).trigger("questionAsked",[CP.status["id"]]);
}else{if(y&&CP.status["@code"]==1){$j("#recaptchaError").hide();
$j("#recaptchaEmpty").hide();
$j("#recaptchaBtn").unbind("click");
$j("#recaptchaBtn").bind("click",Ba.updateQuestion);
$j("#recaptcha_image").attr("id","recaptcha_image_old");
$j("#answerRecaptcha #answerRecaptchaImage").attr("id","recaptcha_image");
Recaptcha.focus_response_field=function(){};
Recaptcha.create("6LeUnAIAAAAAAFK4AJHqebEoW5xCHMe5MmwvQHJL","recaptcha_image",{theme:"custom"});
var CO=$j("#answerRecaptcha .recaptcha");
CO.val(CO.attr("default"));
CO.toggleClass("prefocus",true);
CO.toggleClass("postfocus",false);
$j("#recaptchaDialog").dialog("open");
}else{if(y&&CP.status["@code"]==2){$j("#recaptchaError").show();
$j("#recaptchaEmpty").hide();
$j("#recaptchaBtn").unbind("click");
$j("#recaptchaBtn").bind("click",Ba.updateQuestion);
Recaptcha.reload();
var CO=$j("#answerRecaptcha .recaptcha");
CO.val(CO.attr("default"));
CO.toggleClass("prefocus",true);
CO.toggleClass("postfocus",false);
$j("#recaptchaDialog").dialog("open");
}else{if(CP.status["@code"]==159){$j(document).trigger("questionAsked",[0]);
}else{if(CP.status["@code"]==160){JASK.showValidateMsg("error","#question_ajx_err",Al);
$j("#question_ajx_err").unbind();
return ;
}else{if(CP.status["@code"]==164){JASK.showValidateMsg("error","#question_ajx_err",AG);
$j("#question_ajx_err").unbind();
return ;
}}}}}}$j("#askq_form_submit").showDone();
Ba.cancel();
$j("#question_ajx_err").unbind();
},"json");
n=true;
}else{S();
}D("SignUp");
}else{if($j.trim($j("#aq_err_id").val()).length>0){var CM={"iId":"/"+JASK.ja.fid+"/question/"+$j("#aq_err_id").val(),"qsrc":Bt,"q":$j("#questionbox").val()};
B3.impression(CM);
}}if(JASK.ja.hasQuestionErrors){$j("#questionbox").focus();
}else{if(JASK.ja.hasTagsErrors){$j("#tagList").focus();
$j("#tagList").val("Add a keyword");
$j("#tagList").css("color","#AAA");
}else{if(JASK.ja.hasDetailErrors){$j("#detail").focus();
}}}};
function CI(CL,CM){if(CG(CM)&&!m){$j(".userinfo_submit").showBusy();
var J="#signup_ajx_err";
var CN=setTimeout(function(){JASK.showValidateMsg("error",J,AE);
clearTimeout(CN);
$j(".userinfo_submit").showDone();
},90000);
var CK=$j.serializeObject("signupform");
CK["news_optin"]=$j("input[name=news_optin]:checked").val();
CK["origin"]=0;
if(Bv()){$j.ajax({url:BK+Bt,data:CK,success:function(CO){clearTimeout(CN);
m=false;
if(CO&&CO.status["@code"]==100){$j("#ask_form #userId").val(CO.status["id"]);
Ae(function(){if(typeof CL==="function"){CL.apply(Ba);
}});
}else{if(CO){JASK.showValidateMsg("error","#signup_ok",b);
}else{JASK.showValidateMsg("error",J,AE);
}}$j(".userinfo_submit").showDone();
},dataType:"json",crossDomain:true,xhrFields:{withCredentials:true},type:"POST"});
}else{$j.getJSON(BK+Bt+"&callback=?",CK,function(CO){clearTimeout(CN);
m=false;
if(CO&&CO.status["@code"]==100){$j("#ask_form #userId").val(CO.status["id"]);
Ae(function(){if(typeof CL==="function"){CL.apply(Ba);
}});
}else{if(CO){JASK.showValidateMsg("error","#signup_ok",b);
}else{JASK.showValidateMsg("error",J,AE);
}}$j(".userinfo_submit").showDone();
});
}m=true;
}}function Be(){if(Ay){Ay.apply(this);
}else{$j(document).trigger("userCreated");
}Ba.cancel();
}function Ae(J){sct(53706);
var CK=setTimeout(function(){JASK.showValidateMsg("error","#signup_ajx_err",AE);
clearTimeout(CK);
},90000);
logicalMatchId=Aa("signup");
if(Bv()){$j.ajax({url:$j("#signinform").attr("action"),data:{"engine_id":"sign_in","login":"true","username":$j("#dialog_email").val(),"password":encodeURIComponent($j("#dialog_password").val()),"tfid":"JALoginForm","iId":encodeURIComponent(logicalMatchId),"qsrc":Bt},success:function(CL){clearTimeout(CK);
if(CL&&CL.status["@code"]==100){if(typeof J==="function"){J.apply(Ba);
CF=true;
}K(Bt);
}else{if(CL){JASK.showValidateMsg("error","#signup_ajx_err",By);
}else{JASK.showValidateMsg("error","#signup_ajx_err",AE);
}}},dataType:"json",crossDomain:true,xhrFields:{withCredentials:true},type:"POST"});
}else{$j.getJSON($j("#signinform").attr("action")+"?callback=?",{"engine_id":"sign_in","login":"true","username":$j("#dialog_email").val(),"password":encodeURIComponent($j("#dialog_password").val()),"tfid":"JALoginForm","iId":encodeURIComponent(logicalMatchId),"qsrc":Bt},function(CL){clearTimeout(CK);
if(CL&&CL.status["@code"]==100){if(typeof J==="function"){J.apply(Ba);
CF=true;
}K(Bt);
}else{if(CL){JASK.showValidateMsg("error","#signup_ajx_err",By);
}else{JASK.showValidateMsg("error","#signup_ajx_err",AE);
}}});
}}Ba.addUser=function BW(CL){if(CG(CL)&&!m){var J=(BJ=="askq")?"#signup_ajx_err":"#topics_ajx_err";
var CM=setTimeout(function(){JASK.showValidateMsg("error",J,AE);
clearTimeout(CM);
$j("#topics_submit,.userinfo_submit").showDone();
},90000);
var CK=$j.serializeObject("signupform");
CK["news_optin"]=$j("input[name=news_optin]:checked").val();
CK["origin"]=0;
if(!CL){$j(".userinfo_submit").showBusy();
}if(Bv()){$j.ajax({url:BK+Bt,data:CK,success:function(CN){clearTimeout(CM);
m=false;
if(CN&&CN.status["@code"]==100){$j("#ask_form #userId").val(CN.status["id"]);
if(BJ=="askq"){Ba.updateQuestion();
}Ba.signIn($j("#dialog_email").val(),$j("#dialog_password").val(),true,"signup");
}else{if(CN){JASK.showValidateMsg("error","#signup_ok",b);
}else{JASK.showValidateMsg("error",J,AE);
}}$j("#topics_submit,.userinfo_submit").showDone();
},dataType:"json",crossDomain:true,xhrFields:{withCredentials:true},type:"POST"});
}else{$j.getJSON(BK+Bt+"&callback=?",CK,function(CN){clearTimeout(CM);
m=false;
if(CN&&CN.status["@code"]==100){$j("#ask_form #userId").val(CN.status["id"]);
if(BJ=="askq"){Ba.updateQuestion();
}Ba.signIn($j("#dialog_email").val(),$j("#dialog_password").val(),true,"signup");
}else{if(CN){JASK.showValidateMsg("error","#signup_ok",b);
}else{JASK.showValidateMsg("error",J,AE);
}}$j("#topics_submit,.userinfo_submit").showDone();
});
}m=true;
}};
function K(J){$j.getJSON(o+J+"&callback=?",{"":""},function(CK){if(CK&&CK.status["@code"]==100){}});
}function Bn(J){$j("#signup_panel,#ask_question_panel,#signin_panel,#topics_panel,#forgot_panel,#notificationPanel,#learn_more_panel,#linkacct_panel,#social_panel").hide();
$j(J).show();
if($j(J).attr("data-impression")){Bu($j(J).attr("data-impression"));
}}function CD(){$j("#signup_panel,#ask_question_panel,#signin_panel,#topics_panel,#forgot_panel,#notificationPanel,#learn_more_panel,#linkacct_panel,#social_panel").hide();
}function B7(){window.location.href="http://"+BT.resultsDomain+"/jsignin?redirect="+escape(window.location);
}Ba.toggleSignInUp=function B2(){if($j("#signin_panel").css("display")!="block"){Bn("#signin_panel");
$j("#signin_email").focus();
D("SignIn");
}else{if(JASK.cfg.isSignUpEnabled){Bn("#signup_panel");
D("SignUp");
$j("#dialog_email").focus();
}else{B7();
}}};
function BN(CL,CK){var J=true;
$j(CL).find(".txtin").each(function(){if($j(this).data("isPending")){J=false;
$j(this).unbind("success");
$j(this).bind("success",CK);
}});
return J;
}function AN(CM,CN){if(CM&&CM.user){var CO=CM.user.interests?CM.user.interests.split(","):[];
var CK=CM.user.favorite_places?CM.user.favorite_places.split(","):[];
for(var CL=0;
CL<CO.length;
CL++){p($j.trim(CO[CL]),"interest",true);
}for(var J=0;
J<CK.length;
J++){p($j.trim(CK[J]),"place",true);
}if(CN=="facebook"){$j("#fbImportSignup").hide();
$j("#importSignupProvider").text("Facebook");
$j("#importSignupSuccess").show();
}if(CN=="linkedin"){$j("#liImportSignup").hide();
$j("#importSignupProvider").text("LinkedIn");
$j("#importSignupSuccess").show();
}}}function A1(){if(BN("#signupform",function(){A1();
})&&CG()){CI(function(){Be();
});
}}function S(){if($j.cookie("cu.wz")==2){Bn("#signin_panel");
$j("#signin_email").focus();
}else{Bn("#signup_panel");
$j("#dialog_email").focus();
}}function A0(){D("AskQuestion");
Bn("#ask_question_panel");
$j("#inboundCategories").selectmenu({style:"dropdown",menuWidth:268});
$j("#questionbox").focus();
}function Bv(){return(XMLHttpRequest&&"withCredentials" in new XMLHttpRequest());
}Ba.signIn=function U(CK,CM,CL,J){if(AP(CL)&&!N){sct(53706);
$j(".signin_submit").showBusy();
var CN=setTimeout(function(){JASK.showValidateMsg("error","#signin_ajx_err",AE);
clearTimeout(CN);
$j(".signin_submit").showDone();
},90000);
var CO="";
if(J=="signup"){CO=Aa("signup");
}else{CO=Aa("signin");
}if(Bv()){$j.ajax({url:$j("#signinform").attr("action"),data:{"engine_id":"sign_in","login":"true","username":CK,"password":encodeURIComponent(CM),"tfid":"JALoginForm","iId":encodeURIComponent(CO),"qsrc":Bt},success:function(CP){N=false;
clearTimeout(CN);
$j(".signin_submit").showDone();
Ak(CP,J);
},dataType:"json",crossDomain:true,xhrFields:{withCredentials:true},type:"POST"});
}else{$j.getJSON($j("#signinform").attr("action")+"?callback=?",{"engine_id":"sign_in","login":"true","username":CK,"password":encodeURIComponent(CM),"tfid":"JALoginForm","iId":encodeURIComponent(CO),"qsrc":Bt},function(CP){N=false;
clearTimeout(CN);
$j(".signin_submit").showDone();
Ak(CP,J);
});
}N=true;
}};
function Ak(CK,J){var CL=function(){$j("#userId","#ask_form").val(CK.status["id"]);
if(BJ=="askq"){Ba.updateQuestion();
}Ba.cancel();
if(J=="signup"){K(Bt);
if(Ay){Ay.apply(this,[CK]);
}else{if(BJ!="askq"){$j(document).trigger("userCreated");
}}}else{if(Ay){Ay.apply(this,[CK]);
}else{if(BJ!="askq"){$j(document).trigger("login");
}}}};
if(CK&&CK.status["@code"]==99){CF=true;
if(J=="signup"){CL();
}else{Ba.initPrivacyPolicy(CL);
}}else{if(CK&&CK.status["@code"]==100){CF=true;
CL();
}else{if(CK){JASK.showValidateMsg("error","#signin_ok",By);
}else{JASK.showValidateMsg("error","#signin_ajx_err",AE);
}}}}Ba.cancel=function Q(){$j(".learn_more_video").html("");
if($j("#ask_question_dialog").dialog("isOpen")===false){return ;
}$j("#ask_question_dialog").dialog("close");
$j("#ask_question_dialog_container").append($j("#ask_question_dialog").children());
$j("#ask_question_dialog").empty();
$j("#keywords_list").html("");
$j(".askq_cat_label").removeClass("validate_error");
if(CF){if(BJ=="askq"&&$j.cookie("hc")==1){JASK.serp.createAskDialog();
}}JASK.ja.clearSpellErrors();
return false;
};
Ba.socialSignIn=function(J){if(!JASK.cfg.isSignUpEnabled){B7();
return ;
}if(Bo){gigya.services.socialize.login(JASK.social.conf,{provider:J,callback:Ba.socialSignInSuccess});
}};
Ba.socialSignUp=function(J){if(Bo){gigya.services.socialize.login(JASK.social.conf,{provider:J,callback:Ba.socialSignUpSuccess});
}};
Ba.socialSignInSuccess=function(J){if(J.user){Br(J.user.loginProvider);
if(J.user.isSiteUID){Ba.authenticateSocialAtAsk(J,J.UID,J.signatureTimestamp,J.UIDSignature);
}else{if(J.user.email){$j.get(JASK.cfg.ldomain+"/ja-linkuser-ok",{"email":J.user.email,"engine_id":"add_user","type":"full"},function(CK){if(CK&&CK.status["@code"]==100){A2(J);
}else{if(CK){Ba.socialInfoImported(J);
}else{JASK.showValidateMsg("error",msgId,AE);
}}},"json");
}else{Ba.socialInfoImported(J);
}}}};
Ba.socialSignUpSuccess=function(J,CK){if(J.user){Br(J.user.loginProvider);
if(!J.user.isSiteUID){if(J.user.email){$j.get(JASK.cfg.ldomain+"/ja-linkuser-ok",{"email":J.user.email,"engine_id":"add_user","type":"full"},function(CL){if(CL&&CL.status["@code"]==100){A2(J);
}else{if(CL){Ba.socialInfoImported(J);
}else{JASK.showValidateMsg("error",msgId,AE);
}}},"json");
}else{Ba.socialInfoImported(J);
}}else{Ba.authenticateSocialAtAsk(J,J.user.UID,J.user.signatureTimestamp,J.user.UIDSignature);
}}};
function M(J){JASK.deleteUserCookies();
Ba.socialInfoImported(J,true);
}function A2(J){D("SocialLink");
Bn("#linkacct_panel");
$j("#linkacct_email").val(J.user.email);
$j(".linkacct_provider").text($j.capitalize(J.user.loginProvider));
$j(".linkacct_submit,#abort_link_acct").unbind();
$j(".linkacct_submit").click(function(CK){CK.preventDefault();
P(J);
});
$j("#abort_link_acct").click(function(CK){CK.preventDefault();
M(J);
});
$j("#linkacct_panel").keyup(function(CK){Ad(CK,"linkacct_panel");
});
}function P(J){if(AF()){var CK=setTimeout(function(){JASK.showValidateMsg("error","#linkacct_ajx_err",AE);
clearTimeout(CK);
},90000);
if(Bv()){$j.ajax({url:$j("#linkacctform").attr("action"),data:{"engine_id":"sign_in","login":"true","username":$j("#linkacct_email").val(),"password":encodeURIComponent($j("#linkacct_password").val()),"tfid":"JALoginForm"},success:function(CL){clearTimeout(CK);
if(CL&&CL.status["@code"]==100){Ba.socialLinkAcctInfoImported(J);
}else{if(CL&&CL.status["@code"]==99){Ba.socialLinkAcctInfoImported(J);
}else{if(CL){JASK.showValidateMsg("error","#linkacct_ok",By);
}else{JASK.showValidateMsg("error","#linkacct_ajx_err",AE);
}}}},dataType:"json",crossDomain:true,xhrFields:{withCredentials:true},type:"POST"});
}else{$j.getJSON($j("#linkacctform").attr("action")+"?callback=?",{"engine_id":"sign_in","login":"true","username":$j("#linkacct_email").val(),"password":encodeURIComponent($j("#linkacct_password").val()),"tfid":"JALoginForm"},function(CL){clearTimeout(CK);
if(CL&&CL.status["@code"]==100){Ba.socialLinkAcctInfoImported(J);
}else{if(CL&&CL.status["@code"]==99){Ba.socialLinkAcctInfoImported(J);
}else{if(CL){JASK.showValidateMsg("error","#linkacct_ok",By);
}else{JASK.showValidateMsg("error","#linkacct_ajx_err",AE);
}}}});
}}}Ba.bindQuestionTip=function(){$j("#askq_tt").children().remove();
JASK.showValidateMsg("clearTip","#q_modal_error");
JASK.showValidateMsg("tipTitle","#q_error_title","Whoops!");
Ba.validateQuestion();
var J=$j("#questionbox").data("spellErrors");
if(JASK.ja.hasQuestionErrors==1){JASK.ja.displayToolTip("#questionbox","#askq_error");
}else{if(J!=undefined&&J>0){$j("#questionbox").trigger("displaySpellErrors");
}else{if(JASK.ja.hasQuestionWarnings==1){JASK.ja.displayToolTip("#questionbox","#askq_error");
}else{JASK.ja.displayToolTip("#questionbox","#q_tt_cnt");
}}}};
Ba.bindDetailsTip=function(){$j("#askq_tt").children().remove();
JASK.showValidateMsg("clearTip","#q_modal_error");
Ba.validateDetail();
var J=$j("#detail").data("spellErrors");
if(JASK.ja.hasDetailErrors==1){JASK.showValidateMsg("tipTitle","#q_error_title","Whoops!");
JASK.ja.displayToolTip("#detail","#askq_error","lb");
}else{if(J!=undefined&&J>0){$j("#detail").trigger("displaySpellErrors");
}else{JASK.ja.displayToolTip("#detail","#other_tt_cnt","lb");
}}};
Ba.bindTagListFocus=function Bh(){var J=$j("#tagList").val();
$j("#tagList").focus();
BP(J);
$j("#tagList").blur();
};
Ba.bindTagDetailsTip=function(){$j("#askq_tt").children().remove();
JASK.showValidateMsg("clearTip","#q_modal_error");
A6();
var J=$j("#origTagList").val();
if(JASK.ja.hasTagsErrors!=1){if(J==null||J==""){JASK.ja.hasTagsErrors=0;
}else{Ba.validateTagList();
}}if(JASK.ja.hasTagsErrors==1){JASK.showValidateMsg("errTip","#q_modal_error",AD);
JASK.showValidateMsg("tipTitle","#q_error_title","Whoops!");
JASK.ja.displayToolTip("#tagList","#askq_error");
}else{JASK.ja.displayToolTip("#tagList","#topics_tt_cnt");
}};
Ba.bindTopicCloseDetailsTip=function(){var J=$j.trim($j("#tagList").val());
$j("#askq_tt").children().remove();
if(J!="Add a keyword"){JASK.showValidateMsg("clearTip","#q_modal_error");
Ba.validateTagList();
}JASK.ja.displayToolTip("#tagList",(JASK.ja.hasTagsErrors)?"#askq_error":"#topics_tt_cnt");
};
function A6(){var J=$j("#tagList").val();
if($j.trim(J).length<=0||J=="Add a keyword"){$j("#tagList").val("");
$j("#tagList").removeClass("taglist");
$j("#tagList").css("color","#333");
}}$j("#tagList").bind("blur",function(CK){var J=$j("#tagList").val();
JASK.ja.hasTagsErrors=0;
if($j.trim(J).length<=0||J==""||J=="Add a keyword"){$j("#tagList").val("Add a keyword");
$j("#tagList").addClass("taglist");
$j("#tagList").css("color","#AAA");
}});
Ba.initSocialSignup=function(J){if(w()){$j("#social_panel").keyup(function(CK){Ad(CK,"social_panel");
});
D("SocialImport");
Bn("#social_panel");
$j("#network_name").html($j.capitalize(J));
$j("#social_email").focus();
}};
Ba.socialInfoImported=function(CK,CL){$j(".linkacct_provider").text($j.capitalize(CK.user.loginProvider));
$j("#linkacct_link").unbind();
$j("#linkacct_link").click(function(CM){CM.preventDefault();
A2(CK);
});
var J=CK.user;
$j("#social_firstname").val(J.firstName);
$j("#social_lastname").val(J.lastName);
if(!CL){$j("#social_email").val($j.trim(J.email));
if($j("#social_email").val()!=""){Ba.validateEmail("#social_email","#social_signup_form","#social_email_ok");
}$j("#social_username").val(J.nickname.replace(" ",""));
if($j("#social_username").val()!=""){Ba.checkUserName("#social_username","#social_signup_form","#social_username_ok");
}}else{JASK.showValidateMsg("help","#social_email_ok",BY);
JASK.showValidateMsg("help","#social_username_ok",Ai);
}$j("#social_timestamp").val(CK.signatureTimestamp);
$j("#social_signature").val(CK.UIDSignature);
if(!CK.isSiteUID){$j("#social_UID").val(CK.UID);
}$j("#social_avatar").hide();
if(J.thumbnailURL){$j("#social_avatar_url").val(J.thumbnailURL);
$j("#social_img_avatar_url").attr("src",J.thumbnailURL);
$j("#social_avatar").show();
}else{$j("#social_avatar_url").val("");
}JASK.ask_dialog.initSocialSignup(CK.user.loginProvider);
};
Ba.initSocialLinkAcctSignup=function(J){if(w()){$j("#social_panel").keyup(function(CK){Ad(CK,"social_panel");
});
D("SocialImport");
Bn("#social_panel");
$j("#network_name").html($j.capitalize(J.user.loginProvider));
$j("#social_email").focus();
$j(".socialinfo_submit").unbind();
$j(".socialinfo_submit").click(function(CK){CK.preventDefault();
Bj(J);
});
}};
Ba.socialLinkAcctInfoImported=function(CK){var J=CK.user;
$j("#social_firstname").val(J.firstName);
$j("#social_lastname").val(J.lastName);
$j("#social_email").parent().css("padding","10px 0px");
$j("#social_email").parent().text(J.email);
$j("#social_username").parent().parent().hide();
$j("#linkacct_link_social_signup").hide();
$j("#social_timestamp").val(CK.signatureTimestamp);
$j("#social_signature").val(CK.UIDSignature);
if(!CK.isSiteUID){$j("#social_UID").val(CK.UID);
}$j("#social_avatar").hide();
if(J.thumbnailURL){$j("#social_avatar_url").val(J.thumbnailURL);
$j("#social_img_avatar_url").attr("src",J.thumbnailURL);
$j("#social_avatar").show();
}else{$j("#social_avatar_url").val("");
}JASK.ask_dialog.initSocialLinkAcctSignup(CK);
};
function Bj(J){var CK=$j.serializeObject("social_signup_form");
CK["engine_id"]="linkuserprofile";
var CL=Aa("link_success");
$j.post(JASK.cfg.ldomain+"/ja-ajax-edit-profile?iId="+encodeURIComponent(CL)+"&qsrc="+Bt,CK,function(CN){if(CN&&CN.status["@code"]==100&&CN.social){var CM={siteUID:CN.status["id"],timestamp:CN.social["timestamp"],signature:CN.social["signature"],callback:function(CO){if(CO.errorCode!="409001"){$j("#ask_form #userId").val(CN.status["id"]);
if(BJ=="askq"){Ba.updateQuestion();
}Ba.cancel();
if(Ay){Ay.apply(this,[CN]);
}else{$j(document).trigger("login");
}}else{JASK.showValidateMsg("error","#social_signup_ok",a);
JASK.deleteUserCookies();
}}};
gigya.services.socialize.setUID(JASK.social.conf,CM);
}else{if(CN){JASK.showValidateMsg("error","#social_signup_ok",b);
}else{JASK.showValidateMsg("error","#social_signup_ajx_err",AE);
}}},"json");
}Ba.addSocialUser=function(){if(BE()){var CK=setTimeout(function(){JASK.showValidateMsg("error","#social_signup_ajx_err",AE);
clearTimeout(CK);
},90000);
var J=$j.serializeObject("social_signup_form");
J["origin"]=(A3=="facebook")?"1":"2";
if(Bv()){$j.ajax({url:BK+Bt,data:J,success:function(CM){clearTimeout(CK);
m=false;
if(CM&&CM.status["@code"]==100&&CM.social){var CL={siteUID:CM.status["id"],timestamp:CM.social["timestamp"],signature:CM.social["signature"],callback:function(CN){if(CN.errorCode==0){Ba.authenticateSocialAtAsk(CN,CM.status["id"],CM.social["timestamp"],CM.social["signature"],"signup");
}}};
gigya.services.socialize.setUID(JASK.social.conf,CL);
}else{if(CM){JASK.showValidateMsg("error","#social_signup_ok",b);
}else{JASK.showValidateMsg("error","#social_signup_ajx_err",AE);
}}},dataType:"json",crossDomain:true,xhrFields:{withCredentials:true},type:"POST"});
}else{$j.getJSON(BK+Bt+"&callback=?",J,function(CM){clearTimeout(CK);
m=false;
if(CM&&CM.status["@code"]==100&&CM.social){var CL={siteUID:CM.status["id"],timestamp:CM.social["timestamp"],signature:CM.social["signature"],callback:function(CN){if(CN.errorCode==0){Ba.authenticateSocialAtAsk(CN,CM.status["id"],CM.social["timestamp"],CM.social["signature"],"signup");
}}};
gigya.services.socialize.setUID(JASK.social.conf,CL);
}else{if(CM){JASK.showValidateMsg("error","#social_signup_ok",b);
}else{JASK.showValidateMsg("error","#social_signup_ajx_err",AE);
}}});
}m=true;
}};
function BE(){var J=true;
$j("#social_signup_form").find(".txtin").each(function(){if(!this.value){JASK.showValidateMsg("error","#social_signup_ok",c);
J=false;
}});
if(!J){return false;
}if(($j("#social_email").data("email")!=$j("#social_email").val())&&!$j("#social_email").data("isPending")){J=false;
}if((($j("#social_username").data("user")!=$j("#social_username").val())||!$j("#social_username").val())&&!$j("#social_username").data("isPending")){J=false;
}return J;
}Ba.authenticateSocialAtAsk=function(CN,CM,CK,CL,J){var CO=JASK.cfg.protocol+"://"+JASK.cfg.secureDomain+"/ja-social-authenticate";
if(!N){var CP=setTimeout(function(){JASK.showValidateMsg("error","#signin_ajx_err",AE);
clearTimeout(CP);
},90000);
var CQ="";
if(J=="signup"){CQ=Aa("signup");
}else{CQ=Aa("signin");
}if(Bv()){$j.ajax({url:CO,data:{"engine_id":"sign_in","login":"true","id":CM,"timestamp":CK,"signature":CL,"iId":encodeURIComponent(CQ),"qsrc":Bt},success:function(CR){N=false;
clearTimeout(CP);
Ao(CR,J);
},dataType:"json",crossDomain:true,xhrFields:{withCredentials:true},type:"POST"});
}else{$j.getJSON(CO+"?callback=?",{"engine_id":"sign_in","login":"true","id":CM,"timestamp":CK,"signature":CL,"iId":encodeURIComponent(CQ),"qsrc":Bt},function(CR){N=false;
clearTimeout(CP);
Ao(CR,J);
});
}N=true;
}};
function Ao(CK,J){var CL=function(){$j("#ask_form #userId").val(CK.status["id"]);
if(BJ=="askq"){Ba.updateQuestion();
}Ba.cancel();
if(J=="signup"){K(Bt);
if(Ay){Ay.apply(this,[CK]);
}else{$j(document).trigger("userCreated");
}}else{if(Ay){Ay.apply(this,[CK]);
}else{$j(document).trigger("login");
}}};
if(CK&&CK.status["@code"]==100){CF=true;
CL();
}else{if(CK){if(CK.status["@code"]==99){CF=true;
if(J=="signup"){CL();
}else{Ba.initPrivacyPolicy(CL);
}}else{if(CK.status["@code"]==103){JASK.showValidateMsg("error","#signin_ok",By);
}else{if(CK.status["@code"]==123){Ba.socialInfoImported(response,true);
}else{Ba.cancel();
}}}}else{JASK.showValidateMsg("error","#signin_ajx_err",AE);
}}}$j("#social_avatar_url").click(function(J){if($j("#social_avatar_url").attr("checked")){$j("#social_avatar_url").val($j("#social_img_avatar_url").attr("src"));
}else{$j("#social_avatar_url").val("");
}});
$j(".socialinfo_submit").click(function(J){J.preventDefault();
Ba.addSocialUser();
});
$j(".socialinfo_submit").keyup(function(CK){var J=(CK.keyCode?CK.keyCode:CK.which);
if(J==13){Ba.addSocialUser();
}});
function BC(CK){var J=(CK.keyCode?CK.keyCode:CK.which);
if(J==27){CK.stopImmediatePropagation();
CK.preventDefault();
Ba.closeConfirm();
}}Ba.openConfirm=function Bp(){if($j("#questionConfirmation").dialog("isOpen")===true){return ;
}j=false;
var CK=$j("#mini_me,#md_cna1").offset();
if(!CK){return ;
}var J=(CK.top+400)-$j(window).height();
if(J>0){window.scrollBy(0,J);
}$j("#questionConfirmation").dialog({autoOpen:false,height:300,width:600,modal:true,draggable:false,resizable:false,show:{effect:"fade",duration:400},hide:{effect:"fade",duration:400}});
if(CK){$j("#questionConfirmation").dialog("option","position",[(CK.left-440-$j(window).scrollLeft()),(CK.top+80-$j(window).scrollTop())]);
}$j("#questionConfirmation").dialog("open");
Bn("#questionConfirmation");
if(BJ=="askq"){$j("#qc_panel").show();
$j("#sc_panel").hide();
}else{$j("#qc_panel").hide();
$j("#sc_panel").show();
}$j(document).keyup(BC);
D("Confirm");
};
Ba.closeConfirm=function BI(){if(j){return false;
}if($j("#qc_dontshow:checked").length){var CM={"position":0,"value":$j("#qc_dontshow:checked").val()};
$j.post("http://"+BT.resultsDomain+"/ja-pref-update",CM);
var CK=$j.cookie("cp");
if(CK){var CO=CK.split("|");
var CN=(CO[0])+"|"+(CO[1])+"|1";
for(var CL=3;
CL<CO.length;
CL++){CN+="|"+CO[CL];
}var J=new Date();
J.setTime(J.getTime()+(10*365*24*60*60*1000));
document.cookie="cp="+CN+";path=/;domain=ask.com;expires="+J;
}}j=true;
$j("#questionConfirmation").dialog("close");
if(JASK.serp&&CF){$j("#questionConfirmation").remove();
JASK.serp.createAskDialog();
}else{if(CF){if(Ay){Ay.apply(this);
}else{$j(document).trigger("login");
}}}$j(document).unbind("keyup",BC);
return false;
};
function BB(){$j("#ask_form,#signupform,#topicsform,#signinform,#forgotpasswordform").unbind("submit");
$j("#ask_form,#signupform,#topicsform,#signinform,#forgotpasswordform").submit(function(J){J.preventDefault();
});
if(!AX){return ;
}$j("#inboundCategories").val(-1);
Ay=null;
A3="";
n=false;
Bz=false;
N=false;
m=false;
CF=false;
j=false;
$j("#ask_question_dialog *").unbind("keyup");
JASK.ja.hasTagsErrors=0;
$j("#addTopickeywords").unbind("click");
$j("#tagList").unbind("keyup");
$j(".add_topic_lnk").show();
if(y){$j("#recaptcha_audio_lnk").show();
$j("#recaptcha_image_lnk").hide();
}else{$j("#recaptcha_audio_lnk").hide();
$j("#recaptcha_image_lnk").hide();
}$j("#places_list,#interests_list").html("");
$j("#signup_panel,#ask_question_panel,#signin_panel").show();
$j("#social_panel").hide();
$j("#ask_form input[type=text],#ask_form textarea,#ask_form input[name=origTagList],#ask_form input[name=id]").val("");
$j("#signupform input:text,#signupform input:password").val("");
$j("#signinform input:text,#signinform input:password").val("");
$j("#topicsform input[type=text],#topicsform textarea").val("");
$j("#social_firstname,#social_lastname,#social_username,#social_email").val("");
$j("#forgotpasswordform input[type=text]").val("");
$j("#forgot_text").html("Forgot your password?").removeClass("validate_error");
$j("#oopsCheck").css("display","none");
$j(".form_error_field").html("");
$j(".cdisplay").text(AB);
$j("#hidden_interests").val("");
$j("#hidden_places").val("");
$j("#interests_list").html("");
$j(".signin_submit,#askq_form_submit,.userinfo_submit,#topics_submit,#topics_submit_later,#dialog_interest_btn,.add_topic_lnk").unbind("click");
$j("#dialog_email,#dialog_password,#dialog_username,#signupform #recaptcha_response_field").unbind("focus");
if(typeof $j("#questionConfirmation").dialog=="function"){$j("#questionConfirmation").dialog("destroy");
}B3.resetParams();
$j("#linkacct_panel").unbind("keyup");
t("questionbox");
t("detail");
$j("#dialog_place").removeData("edited");
$j("#dialog_interest").removeData("edited");
}function t(J){$j("#"+J).unbind("changeToSuggestionMode");
$j("#"+J).unbind("selectSuggestion");
$j("#"+J).unbind("ignoreSuggestion");
$j("#"+J).unbind("nextSpellingError");
$j("#"+J).unbind("displaySpellErrors");
$j("#"+J).unbind("clearSpellErrors");
$j("#"+J).unbind("keyup");
$j("#"+J).unbind("blur");
$j("#"+J).unbind("click");
}Ba.initQuestion=function R(CM,J,CN){if(JASK.isEraserOn()){window.location.href="http://"+BT.resultsDomain+"/settings?redirect="+escape(window.location)+"#askeraser";
return ;
}if(!(JASK.cfg.isSignUpEnabled||JASK.isAuthenticated())){B7();
return ;
}if(!w()){return false;
}BB();
var CK=$j("#detail");
JASK.answer.resetTxtBox(CK,CK.data("label"));
Bt=J||Bt;
BJ="askq";
$j("#askq_form_submit").keyup(function(CP){var CO=(CP.keyCode?CP.keyCode:CP.which);
if(CO==13){Ba.updateQuestion();
}});
$j(".userinfo_submit").keyup(function(CP){var CO=(CP.keyCode?CP.keyCode:CP.which);
if(CO==13){Ba.addUser();
}});
$j("#signin_email,#signin_password,.signin_submit").keyup(function(CP){var CO=(CP.keyCode?CP.keyCode:CP.which);
if(CO==13){Ba.signIn($j("#signin_email").val(),$j("#signin_password").val());
}});
$j(".askq_show").show();
$j(".signin_show").hide();
B0();
var CL=function(CT){var CU=CT.target;
var CS=$j(CT.target).parents("form");
var CO=CS.find(".cdisplay");
var CR=AB;
var CQ=CU.value.length;
var CP=CR-CQ;
if(CP<=0){$j(".charlimit").css("color","#B10000");
if(CP<0){if($j("#askq_form_submit").find(".JAButton").hasClass("cssButton")){$j("#askq_form_submit").find(".JAButton").toggleClass("cssButton cssButtonInactive");
}}else{if(CP==0){if($j("#askq_form_submit").find(".JAButton").hasClass("cssButtonInactive")){$j("#askq_form_submit").find(".JAButton").toggleClass("cssButton cssButtonInactive");
}}}}else{$j(".charlimit").css("color","#666666");
if($j("#askq_form_submit").find(".JAButton").hasClass("cssButtonInactive")){$j("#askq_form_submit").find(".JAButton").toggleClass("cssButton cssButtonInactive");
}}CO.text((CP<0)?0:CP);
};
$j("#questionbox").live("keyup",CL);
$j("#questionbox").live("updateCharCount",CL);
$j("#askq_form_submit").click(function(CO){CO.preventDefault();
Ba.updateQuestion();
});
$j(".userinfo_submit").click(function(CO){CO.preventDefault();
Ba.addUser();
});
$j(".signin_submit").click(function(CO){CO.preventDefault();
Ba.signIn($j("#signin_email").val(),$j("#signin_password").val());
});
$j("#dialog_email").focus(function(){if($j("#email_ok").text()==""){$j("#email_ok").addClass("email_info_2line");
}JASK.showValidateMsg("help","#email_ok",BY);
});
$j("#dialog_password").focus(function(){JASK.showValidateMsg("help","#password_ok",AR);
});
$j("#dialog_username").focus(function(){JASK.showValidateMsg("help","#username_ok",Ai);
});
$j("#dialog_pusername").focus(function(){JASK.showValidateMsg("help","#pusername_ok",Ai);
});
$j("#recaptcha_response_field").focus(function(){JASK.showValidateMsg("help","#captcha_ok",Ah);
});
$j("#questionbox").live("focus",function(){$j(".charlimit").fadeIn();
});
$j("#questionbox").live("blur",function(){$j(".charlimit").fadeOut();
});
$j("#recaptchaCancelBtn").click(function(){$j("#recaptchaDialog").dialog("close");
return false;
});
$j("#questionbox").bind("change",Ba.validateQuestion);
$j("#detail").bind("change",Ba.validateDetail);
if(y){$j("#recaptchaDialog").dialog({autoOpen:false,height:360,width:594,modal:true,draggable:false,resizable:false,show:{effect:"fade",duration:400},hide:{effect:"fade",duration:400},close:function(){Recaptcha.destroy();
}});
$j("#answerRecaptcha .recaptcha").bind("focus",function(CP){var CO=$j("#answerRecaptcha .recaptcha");
CO.val("");
CO.toggleClass("prefocus",false);
CO.toggleClass("postfocus",true);
});
$j("#answerRecaptcha .recaptcha").keyup(function(CP){var CO=(CP.keyCode?CP.keyCode:CP.which);
if(CO==13){$j("#recaptchaBtn").trigger("click");
return false;
}});
}$j("#ask_question_dialog").dialog({beforeClose:function(){$j(".learn_more_video").html("");
return true;
}});
$j("#ask_question_dialog").dialog("open");
AZ();
AX=true;
Bn("#ask_question_panel");
$j("#inboundCategories").selectmenu({style:"dropdown"});
if(CN===true){Au(B);
$j("#ask_question_panel").keyup(function(CO){Ad(CO,"ask_question_panel");
});
$j("#signup_panel").keyup(function(CO){Ad(CO,"signup_panel");
});
D("AskQuestion");
}if(CM){$j("#questionbox").val(CM);
setTimeout(function(){Ba.askQuestion();
},500);
}$j("#detail").change();
$j("#questionbox").change();
if(z){$j("#detail").ja_spellcheck({events:{shouldSpellCheck:function(){JASK.ja.validateDetailTextArea();
return !(JASK.ja.hasDetailErrors);
}},url:L,renderError:function(CR,CQ,CV){var CP=$j("#det_sec");
var CT=$j("#detail");
var CS=CT.data("spellErrors");
var CO=$j(".askq_sc_wrp",CP);
if(CS>0&&!JASK.ja.hasQuestionErrors){CO.find(".q_error_title").html(CR);
CO.find(".q_modal_error").html(CQ);
if(!CV){CO.hide();
$j(".sc-ques-err",CP).slideDown();
}var CU=CS+" misspelling"+((CS>1)?"s":"")+" found";
CP.find(".sc-count").html(CU);
CO.find(".sc-desc").html(CQ);
}else{CO.css("display","none");
CP.find(".sc-ques-err").slideUp();
}}});
$j("#questionbox").ja_spellcheck({events:{shouldSpellCheck:function(){JASK.ja.validateQuestionTextArea();
return !(JASK.ja.hasQuestionErrors);
}},url:L,renderError:function(CR,CQ,CV){var CP=$j("#q_qsec");
var CT=$j("#questionbox");
var CS=CT.data("spellErrors");
var CO=$j(".askq_sc_wrp",CP);
if(CS>0&&!JASK.ja.hasQuestionErrors){CO.find(".q_error_title").html(CR);
CO.find(".q_modal_error").html(CQ);
if(!CV){CO.hide();
$j(".sc-ques-err",CP).slideDown();
}var CU=CS+" misspelling"+((CS>1)?"s":"")+" found";
CP.find(".sc-count").html(CU);
CO.find(".sc-desc").html(CQ);
}else{CT.focus();
CO.css("display","none");
CP.find(".sc-ques-err").slideUp();
}}});
}$j("#questionbox").focus();
};
Ba.initLearnMore=function g(CK,J){if(JASK.isEraserOn()){window.location.href="http://"+BT.resultsDomain+"/settings?redirect="+escape(window.location)+"#askeraser";
return ;
}if(w()){var CL=false;
Ba.initQuestion(CK,J,CL);
Bt=J||Bt;
Au(r);
$j("#learnmore_advance").click(function(){$j(".learn_more_video").html("");
A0();
});
$j(".learn_more_close").click(function(){$j(".learn_more_video").html("");
Ba.cancel();
});
$j(".learn_more_video").css("display","none");
$j(".learn_more_cta").css("display","block");
$j(".learn_more_cta").click(function(){$j(".learn_more_video").css("display","block");
if(!$j("#learnMoreVideo").length){$j("<iframe id='learnMoreVideo' width='660' height='371' frameborder='0' src="+BT.learnMoreVideoURL+">").appendTo($j(".learn_more_video"));
}$j(this).css("display","none");
});
Bn("#learn_more_panel");
$j("#learn_more_panel").keyup(function(CM){Ad(CM,"learn_more_panel");
});
$j("#ask_question_panel").keyup(function(CM){Ad(CM,"ask_question_panel");
});
$j("#signup_panel").keyup(function(CM){Ad(CM,"signup_panel");
});
$j("#learn_more_panel").focus();
D("LearnMore");
}};
Ba.initSignup=function Ab(J,CK){if(JASK.isEraserOn()){window.location.href="http://"+BT.resultsDomain+"/settings?settingType=askeraser&redirect="+escape(window.location);
return ;
}if(!JASK.cfg.isSignUpEnabled){B7();
return ;
}if(w()){Bt=J||Bt;
Ay=CK||null;
if(JASK.ja.funnels&&JASK.ja.funnels.signup){Au(JASK.ja.funnels.signup);
}else{Au(Bw);
}D("SignUp");
Bl();
Bn("#signup_panel");
$j("#dialog_email").focus();
}};
Ba.initSignin=function AV(J,CK){if(JASK.isEraserOn()){window.location.href="http://"+BT.resultsDomain+"/settings?settingType=askeraser&redirect="+escape(window.location);
return ;
}if(w()){Bt=J||Bt;
Ay=CK||null;
Au(Bw);
D("SignIn");
Bl();
Bn("#signin_panel");
$j("#signin_email").focus();
}};
Ba.initSignInOrUp=function CC(J,CK){if(!JASK.isAuthenticated()){if($j.cookie("cu.wz")==2){Ba.initSignin(J,CK);
}else{Ba.initSignup(J,CK);
}}};
Ba.initForget=function BZ(J){if(JASK.isEraserOn()){window.location.href="http://"+BT.resultsDomain+"/settings?settingType=askeraser&redirect="+escape(window.location);
return ;
}if(w()){Bl();
Bt=J||Bt;
Bn("#forgot_panel");
$j("#emailAddressText").focus();
}};
function Bq(CM){var CL=CM.length;
if(CL>30){JASK.showValidateMsg("errTip","#q_modal_error",Aq);
JASK.showValidateMsg("tipTitle","#q_error_title","Whoops!");
return false;
}else{var J=CM;
pattern=new RegExp("(\\s|<|\\s)");
if(J.match(pattern)){var CK=J.replace(/</g,"&lt;");
J=CK;
}if(($j("#keywords_list").children(".keywords_list_topic").length)>5){JASK.showValidateMsg("errTip","#q_modal_error",e);
JASK.showValidateMsg("tipTitle","#q_error_title","That's good!");
return false;
}else{$j("#keywords_list").append($j('<div class="clearfix keywords_list_topic "><div class="tags-left">'+J+'</div><div style="float:left"><div class="tags-right" ><a  class="tags-close tags-topic-close" style="text-decoration:none;cursor:pointer;" href="#"> </a></div></div></div>'));
$j("#tagList").val("");
}}return true;
}Ba.doPickOnValidatedQuestion=function Af(J){if($j("#questionbox").val().match(/[a-z0-9]/)){if($j.trim($j("#questionbox").val()).split(" ").length>2){Ba.doPick(J);
}}};
var AH=0;
function B5(CL){var CK=(A3)?"/"+A3:"";
var J=(B3.getParams().iId.match(/\/link\//)&&(CL!="link"))?"/link":"";
return{"suffix":CK,"path":J};
}function As(CK){var J=function(){var CL={};
if($j("#tagList")&&$j("#origTagList")&&x()!=$j("#origTagList").val()){CL={"ex":"j_ot="+$j("#origTagList").val()+"&j_nt="+x()+"&j_qt="+$j("#questionbox").val()};
}$j.extend(CL,{"iId":B3.getParams().iId,"evId":$j(this).attr("data-activity"),"qsrc":B3.getParams().qsrc});
B3.activity(CL);
};
B3.bindActivity("*[data-impression="+CK+"]",J);
}function Bu(CK,J){clearTimeout(AH);
AH=setTimeout(function(){var CM=B5(CK);
var CL=J||{};
var CN={};
$j.extend(CN,{"iId":"/"+JASK.ja.fid+CM.path+"/"+CK+CM.suffix,"qsrc":Bt},CL);
B3.impression(CN);
B3.bindActivity("*[data-impression="+CK+"]");
if(CK=="question"){As(CK);
}},500);
}function Ap(CN,CM){var CK=B5(CN);
var J=CM||{};
var CL={};
$j.extend(CL,{"iId":"/l/"+JASK.ja.fid+CK.path+"/"+CN+CK.suffix,"qsrc":Bt},J);
B3.impression(CL);
}function Aa(CK){var J=B5(CK);
return"/l/"+JASK.ja.fid+J.path+"/"+CK+J.suffix;
}Ba.doPickOrdinal=function AS(CO,J){var CK="";
var CN=B4(CO,J);
var CM=encodeURI(_SP(CN));
CM=JASK.logging.setPickUrlLdId(CM);
if($j("#tagList")&&$j("#origTagList")&&x()!=$j("#origTagList").val()){CK=escape("j_ot="+$j("#origTagList").val()+"&j_nt="+x()+"&j_qt="+$j("#questionbox").val());
}CM=$j.param.querystring(CM,"c="+JASK.ja.fid);
CM=$j.param.querystring(CM,"qs="+Bt);
CM=$j.param.querystring(CM,"id="+O);
CM=decodeURI($j.param.querystring(CM,"p=1"));
CM+=("&ex="+CK);
var CL=new Image();
CL.src=CM;
};
Ba.doPick=function E(J){Ba.doPickOrdinal(J,"0");
};
function B4(CO,J){var CN={en:"",io:J,b:"",tp:"d",ec:"1",ex:""};
var CK=CO.split("-");
var CL=CK[0];
var CM=CK[1];
if(CM=="abandon"){CN.en=jaSharedAbandon;
}else{if(CM=="continue"){CN.en=jaSharedContinue;
}else{if(CM=="signin"){CN.en=jaSharedSignIn;
}else{if(CM=="skip"){CN.en=jagenSkip;
}else{if(CM=="save"){CN.en=jagenSaveInterest;
}else{if(CM=="ask"){CN.en=jaskerAskQuestion;
}else{if(CM=="cf_action"){CN.en=W;
}}}}}}}if(CL=="usersignin"){CN.b=sharedSignInDlgBlockID;
}else{if(JASK.ja.fid==r||JASK.ja.fid==B){if(CL=="learnmore"){CN.b=learnMoreDlgBlockID;
}else{if(CL=="askquestion"){CN.b=askQuestionDlgBlockID;
}else{if(CL=="usersignup"){CN.b=userSignUpDlgBlockID;
}}}}else{if(CL=="usersignup"){CN.b=genSignUpDlg1BlockID;
}else{if(CL=="addinterests"){CN.b=genSignUpDlg2BlockID;
}else{if(CL=="cfalert"){CN.b=k;
}}}}}return CN;
}function D(CK){var CL="";
if(CK=="LearnMore"){CL=Aj(A7);
}else{if(CK=="AskQuestion"){CL=Aj(G);
}else{if(CK=="SignUp"){CL=Aj(F);
}else{if(CK=="SignIn"){CL=Aj(A8);
}else{if(CK=="Confirm"){CL=Aj(BF);
}else{if(CK=="AddTopics"){CL=Aj(h);
}else{if(CK=="SocialLink"){CL=Aj(X);
}else{if(CK=="SocialImport"){CL=Aj(I);
}}}}}}}}var J=new Image();
J.height=1;
J.width=1;
J.id="SessionTracker";
J.src=CL;
}function BU(){$j.get("http://"+BT.resultsDomain+"/ja-local-zoom",null,function(CN){if(CN&&CN.locationList.length){var CM=CN.locationList[1].city;
var CK=CM+", "+CN.locationList[1].state;
var J=$j(".nearByCity").text();
$j(".nearByCity").text(CK);
var CL=new RegExp(J,"gi");
$j(".nearByCityLocal").each(function(){$j(this).text($j(this).text().replace(CL,CM));
});
}else{var CL=new RegExp($j(".nearByCity").text(),"gi");
$j(".nearByCityLocal").each(function(CO){if($j(this).text().match(CL)){$j(this).text(s[CO]);
}});
}},"json");
}function Bl(){BB();
BJ="signin";
BU();
$j(".askq_show").hide();
$j(".signin_show").show();
$j(".userinfo_submit").click(function(J){J.preventDefault();
A1();
});
$j("#topics_submit,#topics_submit_later").click(function(J){J.preventDefault();
sct(53313);
Be();
});
$j("#dialog_email").focus(function(){if($j("#email_ok").text()==""){$j("#email_ok").addClass("email_info_2line");
}JASK.showValidateMsg("help","#email_ok",BY);
});
$j("#dialog_password").focus(function(){JASK.showValidateMsg("help","#password_ok",AR);
});
$j("#dialog_username").focus(function(){JASK.showValidateMsg("help","#username_ok",Ai);
});
$j("#signupform #recaptcha_response_field").focus(function(){JASK.showValidateMsg("help","#captcha_ok",Ah);
});
B0();
$j(".signin_submit").click(function(J){J.preventDefault();
Ba.signIn($j("#signin_email").val(),$j("#signin_password").val());
});
$j("#signin_email,#signin_password,.signin_submit").keyup(function(CK){var J=(CK.keyCode?CK.keyCode:CK.which);
if(J==13){Ba.signIn($j("#signin_email").val(),$j("#signin_password").val());
}});
$j("#signup_panel").keyup(function(J){Ad(J,"signup_panel");
});
$j("#ask_question_panel").keyup(function(J){Ad(J,"ask_question_panel");
});
$j("#dialog_email,#dialog_password,#dialog_username,#signupform #recaptcha_response_field").keyup(function(CK){var J=(CK.keyCode?CK.keyCode:CK.which);
if(J==13){sct(53311);
A1();
}});
$j("#dialog_interest_btn").click(function(J){J.preventDefault();
p($j("#dialog_interest").val(),"interest");
$j("#dialog_interest").val("");
});
$j("#dialog_place_btn").click(function(J){J.preventDefault();
p($j("#dialog_place").val(),"place");
$j("#dialog_place").val("");
});
$j(".add_topic_lnk").click(function(CK){CK.preventDefault();
var J=($j(this).hasClass("topic_interest"))?"interest":"place";
p($j(this).text(),J);
});
$j("#dialog_interest,#dialog_place").keyup(function(CL){var CK=(CL.keyCode?CL.keyCode:CL.which);
if(CK==13){CL.preventDefault();
var J=($j(this).attr("id")==="dialog_interest")?"interest":"place";
p($j(this).val(),J);
$j(this).val("");
$j(".ac_results_profile").css("display","none");
}});
$j("#ask_question_dialog").dialog("open");
AZ();
AX=true;
}function Ad(CK,CM){var J=(CK.keyCode?CK.keyCode:CK.which);
if(J==27){CK.stopImmediatePropagation();
CK.preventDefault();
var CL={"iId":B3.getParams().iId,"evId":"cancel","qsrc":B3.getParams().qsrc};
B3.activity(CL);
Ba.cancel();
}}function AZ(){$j("#ask_question_dialog").append($j("#ask_question_dialog_container").children());
$j("#ask_question_dialog_container").empty();
}function B0(){if(y){Recaptcha.create("6LeUnAIAAAAAAFK4AJHqebEoW5xCHMe5MmwvQHJL","recaptcha_image",{theme:"custom"});
}}function w(){return(typeof $j("#ask_question_dialog").dialog=="function");
}function AC(CN,CL,CK){var CQ=CL||0;
var J=[];
if(CN&&CN.tagList){if(typeof CN.tagList.sort=="function"){J=CN.tagList;
}else{J[0]=CN.tagList;
}}J=J.sort(function(CS,CR){return CR.relevance-CS.relevance;
});
var CP=[];
var CM=0;
for(var CO=0;
CO<J.length;
CO++){if(J[CO].type==CQ){if(CK&&J[CO].relevance&&typeof CK[CM]!="undefined"){if(J[CO].relevance>CK[CM]){CP.push(J[CO].tag);
}CM++;
}else{CP.push(J[CO].tag);
}}}return CP.join(", ");
}function p(J,CL,CN){if(!$j.trim(J).length||J==Bc||J==Bi){return ;
}else{if($j.hasHTML(J)){JASK.showValidateMsg("error","#topics_ok",d);
return ;
}else{if($j("#topics_ok").text()==d){JASK.showValidateMsg("clear","#topics_ok");
}else{if($j.trim(J).length>JASK.ja.maxTopicLength){JASK.showValidateMsg("error","#topics_ok",JASK.ja.topicLengthErrMsg);
return ;
}else{if($j("#topics_ok").text()==JASK.ja.topicLengthErrMsg){JASK.showValidateMsg("clear","#topics_ok");
}}}}}$j(".add_topic_lnk:contains("+J+")").hide();
var CK=(CL=="interest")?"#interests_list":"#places_list";
$j(CK).find(".promo_content").remove();
$j(CK).mouseleave(function(){$j(".d_interest").css("border","1px solid #f7f7f7").find(".delete_icon").hide();
});
if(!CN){B9(J,CL);
}if($j(CK).find(".d_interest").length<JASK.ja.maxTopicLength){J=J.replace(/\,/," ").replace(/\>/,"&gt;").replace(/\</,"&lt;");
var CM=(J.length>30)?(J.substring(0,30)+"..."):J;
$j('<div rel="'+J+'" class="d_interest txt2 abstract"><div style="float:left">'+CM+'</div><div style="display:none;float:right;" class="delete_icon"></div></div>').hover(function(){$j(this).css("border","1px solid #CCCCCC").find(".delete_icon").show();
},function(){$j(this).css("border","1px solid #f7f7f7").find(".delete_icon").hide();
}).appendTo(CK).find(".delete_icon").hover(function(){$j(this).parent().css("border","1px solid #B10000");
$j(this).css("background-position","-9px -1396px");
},function(){$j(this).parent().css("border","1px solid #CCCCCC");
$j(this).css("background-position","-9px -1346px");
}).click(function(){u(this,CL);
});
}else{}}function u(CK,J){B9($j(CK).parent().attr("rel"),J,true);
$j(CK).parent().remove();
}function B9(CO,CQ,CS){var CL=JASK.cfg.ldomain+"/ja-profile-interests";
var CR=(CQ==="interest")?"intr":"place";
var CP=(CS)?"delintrs":"newintrs";
var CK=[],CN=$j("#interests_list").find(".d_interest").each(function(){CK.push($j(this).attr("rel"));
});
var J=[],CN=$j("#places_list").find(".d_interest").each(function(){J.push($j(this).attr("rel"));
});
var CM={"tfid":"JATopicsProfileForm","engine_id":"editprofile","interests":"["+CK.join(", ")+"]","places":"["+J.join(", ")+"]","engine":(CR+"change")};
CM[CP]=CO.replace(/,/," ");
$j.post(CL,CM,function(){});
}function q(J){var CK=$j(J);
if(CK.val()){CK.val($j.trim(CK.val()));
}}Ba.toggleForgotPanel=function A4(){Bn("#forgot_panel");
setTimeout(function(){$j("#emailAddressText").focus();
},10);
};
JASK.ja.displayToolTip=function f(CO,J,CL){$j(J).clone().attr("id",J+"_dup").css("display","block").appendTo("#askq_tt");
var CN=25;
var CM=25;
var CK=($j(CO).outerHeight()/2)+(CN*2);
if(CO=="#questionbox"){CK=CK+10;
}else{if(CO=="#tagList"){CK=CK-20;
CM=235;
}else{if(CO=="#detail"){CK=CK+52;
}}}if(CL=="lb"){$j(CO).ui_position({target:"#askq_tt_wrp",offset:[0,40],at:"bottom"});
$j(CO).data("ttPos",CL);
}$j(CO).tooltip({events:{input:"focus, dummyevent",def:"focus, dummyevent",tooltip:""},tip:"#askq_tt_wrp",relative:true,position:"bottom right",offset:[-CK,CM],onShow:function(){$j("#askq_tt_wrp .tt-beak").addClass("hide");
if(CL){$j("#askq_tt_wrp .jtt-"+CL).removeClass("hide");
}else{$j("#askq_tt_wrp .jtt-lt").removeClass("hide");
}}});
};
function Ax(){if(($j("#emailAddressText").data("email")==$j("#emailAddressText").val())){Bn("#notificationPanel");
$j("#email_ID").html($j("#emailAddressText").data("email"));
$j("#emailAddressText").removeData("email");
}}function H(){q("#emailAddressText");
if(AM($j("#emailAddressText").val())){$j("#emailAddressText").data("isPending",1);
$j.post($j("#forgotpasswordform").attr("action"),{"email":$j("#emailAddressText").val(),"engine_id":"reset"},function(J){$j("#emailAddressText").removeData("isPending");
if(J&&J.status["@code"]==100){$j("#emailAddressText").data("email",$j("#emailAddressText").val());
$j("#oopsCheck").css("display","none");
$j("#forgot_text").html("Forgot your password?").removeClass("validate_error");
Ax();
}else{$j("#oopsCheck").css("display","block");
JASK.showValidateMsg("error","#forgot_text","Oops. We couldn't find that email address. Please try again.");
$j("#emailAddressText").removeData("email");
}},"json");
return true;
}else{JASK.showValidateMsg("error","#forgot_text",A5);
return false;
}}Ba.initPrivacyPolicy=function BQ(J){$j("#privacyPolicyDialog").dialog({autoOpen:false,height:400,width:700,modal:true,draggable:false,resizable:false,show:{effect:"fade",duration:400},hide:{effect:"fade",duration:400}});
CD();
$j("#ppv_update_save").unbind("click");
$j("#ppv_update_cancel").unbind("click");
$j(document).unbind("keyup",Z);
var CK=typeof J==="function"?J:function(){};
$j("#ppv_update_save").bind("click",{cb:CK},BS);
$j("#ppv_update_cancel").bind("click",{cb:CK},AJ);
$j(document).bind("keyup",{cb:CK},Z);
B3.impression({"iId":"/"+JASK.ja.fid+"/tos"});
B3.bindActivity("#privacy_policy_panel");
$j("#privacyPolicyDialog").dialog("open");
};
function Z(CK){var J=(CK.keyCode?CK.keyCode:CK.which);
if(J==27){CK.stopImmediatePropagation();
CK.preventDefault();
AJ(CK);
}}Ba.closePrivacyPolicy=function Bf(){$j("#privacyPolicyDialog").dialog("close");
if(JASK.serp&&CF){$j("#privacyPolicyDialog").remove();
}};
function BS(CK){CK.preventDefault();
var J=JASK.cfg.ldomain+"/ja-update-user-tos";
$j.post(J,function(CL){if(CL){Ba.closePrivacyPolicy();
CK.data.cb.call(window);
}else{Ba.closePrivacyPolicy();
CK.data.cb.call(window);
}},"json");
}function AJ(J){J.preventDefault();
Ba.closePrivacyPolicy();
J.data.cb.call(window);
}$j("#forgotpasswordform").keyup(function(CK){var J=(CK.keyCode?CK.keyCode:CK.which);
if(J==13){CK.preventDefault();
H();
}});
$j(".resetPwdBtn").click(function(J){J.preventDefault();
H();
});
$j("#signup_panel,#ask_question_panel,#signin_panel,#topics_panel,#qc_panel").bgiframe();
Ba.addInterestsSetup=function CH(){if(!$j("#dialog_interest").data("edited")){$j("#dialog_interest").val("");
}$j("#dialog_interest").css("color","#333");
$j("#dialog_interest").profileSuggestion("http://"+JASK.ssCfg.server+"/query?sstype=soft&fn=topicsSuggestion&pn=ctopic","dialog_interest");
$j("#dialog_interest").data("edited","true");
};
Ba.addPlaceSetup=function BD(){if(!$j("#dialog_place").data("edited")){$j("#dialog_place").val("");
}$j("#dialog_place").css("color","#333");
$j("#dialog_place").profileSuggestion("http://"+JASK.ssCfg.server+"/query?sstype=prefix&fn=topicsSuggestion&pn=location","dialog_place");
$j("#dialog_place").data("edited","true");
};
function AM(J){return J.match(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/);
}Ba.setGigyaLoaded=function(J){Bo=J;
};
Ba.isGigyaLoaded=function(){return Bo;
};
return Ba;
});
$j.fn.ui_position=function(B){var E=$j(this);
var D=$j(B["target"]);
var F=B["offset"];
var A=B["at"];
if(!D){return false;
}var C=0;
if(A=="bottom"){C=(E.position()["top"]+E.height())-(D.height());
}else{C=E.position()["top"];
}D.css("top",C+F[1]+"px");
};
(function(A){A.fn.ja_expandquestionbox=function(){function B(E){var C=E.val().length;
var D=Math.ceil(C/50);
if(D>0&&parseInt(E.attr("rows"))<=D){D=(D>2)?2:D;
E.attr("rows",D);
E.removeClass("qinputheight");
}}return this.each(function(){A(this).keypress(function(C){B($j(C.target));
});
A(this).bind("paste",function(C){setTimeout(function(){B($j(C.target));
},0);
});
B($j(this));
});
};
})(jQuery);
JASK.ask_dialog.loadAskDialog=function loadAskDialog(){var A=JASK.cfg.ldomain+"/ja-ask-dialog?thinHeader="+JASK.cfg.thinHeader+"&fullFlex="+JASK.cfg.fullFlex;
if(window.location.href.indexOf("paid=true")!=-1){A+="&paid=true";
}$j("#ask_question_dialog_container").load(A,null,function(){$j("#ask_question_dialog").dialog({autoOpen:false,height:650,width:768,modal:true,draggable:false,resizable:false,show:{effect:"fade",mode:"show",speed:300},hide:{effect:"fade",mode:"hide",speed:300}});
$j("#recaptchaDialog").dialog({autoOpen:false,height:360,width:594,modal:true,draggable:false,resizable:false,show:{effect:"fade",duration:400},hide:{effect:"fade",duration:400},close:function(){Recaptcha.destroy();
}});
$j("#recaptchaCancelBtn").click(function(){$j("#recaptchaDialog").dialog("close");
return false;
});
$j("#answerRecaptcha .recaptcha").bind("focus",function(C){var B=$j("#answerRecaptcha .recaptcha");
B.val("");
B.toggleClass("prefocus",false);
B.toggleClass("postfocus",true);
});
$j("#answerRecaptcha .recaptcha").keyup(function(C){var B=(C.keyCode?C.keyCode:C.which);
if(B==13){$j("#recaptchaBtn").trigger("click");
return false;
}});
$j(document).trigger("askDialogLoaded");
});
};
$j(document).ready(function(){if(window["gigya"]){$j(document).bind("logout",function(){gigya.services.socialize.logout(JASK.social.conf);
});
}});

JASK.namespace("social");
JASK.social.conf=JASK.social.conf||{};
$j(document).ready(function(){JASK.social.importInterests=(function(){var H=null;
var O=null;
var AG=null;
var A=null;
var N=30;
var m=50;
var Q=30;
var Y=60*1000;
var r=0;
var c=false;
var AA=false;
var R=null;
var L=false;
var i=null;
var AB={APIKey:JASK.cfg.gigyaAPIKey,enabledProviders:"facebook,linkedin"};
function AM(AN){return(typeof AN!="string")?(AN+""):AN;
}function AE(AN){return l(AN).replace(/\>/,"&gt;").replace(/\</,"&lt;");
}function l(AN){return AM(AN).replace(/\n/g,"");
}function s(AN){return AM(AN).toUpperCase().replace(/\s/g,"");
}function J(AN,AP){var AO=AP||Q;
return(AN.length>AO)?(AN.substring(0,AO)+"..."):AN;
}function F(AN){return"<span class='b'>"+AN+"</span>";
}function t(AN,AQ,AP,AO){$j(AP).html(F(J(AN,40)));
var AR=$j(AO).html();
$j(AO).html("");
u(AN,AQ,AO,AR);
$j(AO+"> .d_interest").css({"width":"400px","margin-left":"-5px","overflow":"hidden"});
}function P(AN,AO,AP){$j("#import_avatar").remove();
u(AN,"user",AO,AP);
$j("#import_avatar").bind("load",function(){$j(this).parents(".d_interest").css("width",($j(this).outerWidth(true)+25+"px"));
$j(this).parent().siblings(".delete_icon").css({"margin-left":"5px","float":"left"});
});
AO.find(".d_interest").css({"height":"50px","padding":"10px"});
}function u(AN,AP,AO,AR){AN=AM(AN);
if(!$j.trim(AN).length){return ;
}if(!AR){var AQ=J(AE(AN));
}else{var AQ=AR;
}$j('<div rel="'+AN+'" class="d_interest"><div style="float:left">'+AQ+'</div><div style="display:none;float:right;" class="delete_icon"></div></div>').hover(function(){$j(this).css("border","1px solid #CCCCCC").find(".delete_icon").show();
},function(){$j(this).css("border","1px solid #f7f7f7").find(".delete_icon").hide();
}).appendTo(AO).find(".delete_icon").hover(function(){$j(this).css("background-position","-212px -45px").parent().css("border","1px solid #B10000");
},function(){$j(this).css("background-position","-212px -30px").parent().css("border","1px solid #CCCCCC");
}).click(function(){$j(this).parent().hide();
if(!L){n({"iId":i.getParams().iId,"evId":"edit"});
L=true;
}if(AP=="places"||AP=="interests"){var AS=$j("#import_"+AP);
var AT=AS.closest(".importField");
if(AS.html()==""){AT.hide();
}}});
}function W(AO){var AN=(AA)?"genericsignup":"profile";
i.impression({"iId":"/"+AN+"/import/"+AO});
i.bindActivity("#interestsDialog");
}function n(AN){i.activity(AN);
}function B(AN){if(AN.errorCode==0){H=AN.user;
z();
$j("#interestsDialog").dialog("open");
o();
}else{$j("#interestsDialog").dialog("open");
q();
AK("Error: "+AN.errorMessage);
}}function z(){var AN={callback:v,enabledProviders:"facebook"};
w();
gigya.services.socialize.getFriendsInfo(AB,AN);
}function v(AN){if(!c&&AN&&AN.friends){H["connections_size"]=AN.friends.getSize();
h(H.UID);
}}function h(AN){var AO={provider:"facebook",fields:"interests,activities,current_location,hometown_location",UID:AN,callback:j};
w();
gigya.services.socialize.getRawData(AB,AO);
}function j(AN){var AO=$j.parseJSON(AN.data);
if(AO.length){AH(AO);
}}function AH(AO){var AN={};
AO=AO[0];
if(AO.hometown_location&&AO.hometown_location.city){AN["cities"]=AO.hometown_location.city;
}if(AO.current_location&&AO.current_location.city){if(AN["cities"]){AN["cities"]+=", "+AO.current_location.city;
}else{AN["cities"]=AO.current_location.city;
}}AN["interests"]=AO.interests;
AN["activities"]=AO.activities;
$j.post(JASK.cfg.ldomain+"/ja-topics-import","json="+encodeURIComponent($j.toJSON(AN)),g,"json");
}function g(AN){if(!c){O=AN;
b(H);
p(O);
C(O);
E();
I();
AF();
W(H.loginProvider);
if(!AA){$j("#import_saveInfo").click(U);
}else{$j("#import_saveInfo").click(K);
}}}function T(AN,AR){var AO={};
var AQ=[];
AR.each(function(){AO[s($j(this).text())]=true;
});
for(var AP=0;
AP<AN.length;
AP++){if(typeof AO[s(AN[AP])]=="undefined"){AQ.push(AN[AP]);
}}return AQ;
}function p(AQ){var AP=k();
var AO=((m-AP)<N)?(m-AP):N;
if(AO>0){var AR="";
if(AQ.interests){AR+=AQ.interests;
}if(AQ.activities){AR+=","+AQ.activities;
}var AN=AR.split(",");
AN=T(AN,AG);
AN=(AN.length>AO)?AN.splice(0,AO):AN;
$j.each(AN,function(AT,AS){u(AS,"interests","#import_interests");
});
}}function b(AN){if(AN.identities.facebook.nickname){t(AN.identities.facebook.nickname,"user","#import_nickname","#pimport_nickname");
}if(AN.gender){var AO=(AN.gender=="m")?"male":"female";
t(AO,"user","#import_gender","#pimport_gender");
}if(AN.birthMonth&&AN.birthDay&&AN.birthYear){var AP=e([AN.birthMonth,AN.birthDay,AN.birthYear]);
t(AP,"user","#import_birthday","#pimport_birthday");
}if(AN.gender||AN.birthMonth){$j("#privacy_warning").show();
}else{$j("#privacy_warning").hide();
}if(typeof AN.connections_size!="undefined"||AN.connections_size!=null){t(AN.connections_size,"user","#import_connections","#pimport_connections");
}if(AN.photoURL){$j("#import_avatar").attr("src",AN.photoURL);
P(AN.identities.facebook.nickname,$j("#import_avatar").parent(),$j("#import_avatar").parent().html());
}}function C(AQ){var AP=a();
var AO=((m-AP)<N)?(m-AP):N;
if(AO>0){var AR="";
AR+=AQ.cities;
var AN=AR.split(",");
AN=T(AN,A);
AN=(AN.length>AO)?AN.splice(0,AO):AN;
$j.each(AN,function(AT,AS){u(AS,"places","#import_places");
});
}}function k(){AG=$j("#interestsContainer .intrcol");
return AG.length;
}function a(){A=$j("#placesContainer .intrcol");
return A.length;
}function E(){$j(".importValue").each(function(){if(!this.innerHTML){$j(this).parents(".importField").hide();
}});
if(!$j("#import_avatar").attr("src")){$j("#import_avatar").remove();
$j("#clear_avatar_link").remove();
}}function y(AN){$j(".importValue").text("");
$j(".importField").show();
$j("#import_avatar_container").html('<img style="height:50px" id="import_avatar">');
$j("#interestsDialog .d_interest").each(function(){var AQ=$j(this);
AQ.children(".delete_icon").remove();
var AO=AQ.html();
var AP=AQ.parent();
AQ.remove();
AP.html(AO);
});
H=null;
O=null;
L=false;
r=0;
c=false;
$j(".import_provider").text(D(AN));
$j("#import_provider_icon").removeClass();
if(AN=="facebook"){$j("#import_provider_icon").addClass("fb-icon-sm");
}else{if(AN=="linkedin"){$j("#import_provider_icon").addClass("li-icon-sm");
}}$j("#import_saveInfo").unbind("click");
$j("#importError").hide();
L=false;
if(i){i=null;
}i=new JASK.logging.JALogger();
}function S(AN){if(AN.errorCode==0){H=AN.user;
$j("#interestsDialog").dialog("open");
o();
if(H&&H["UID"]){AD(H["UID"]);
}else{AK("Error: No UID");
}}else{$j("#interestsDialog").dialog("open");
q();
AK("Error: "+AN.errorMessage);
}}function AD(AN){var AO={provider:"linkedin",fields:"interests,location,industry,headline,connections,specialties,associations",UID:AN,dataFormat:"xml",callback:AL};
w();
gigya.services.socialize.getRawData(AB,AO);
}function AL(AN){var AO=$j.parseXML(AN.data);
if(AO){AC(AO);
}}function Z(AN,AO){if(AN){if(AO["interests"]){AO["interests"]=AO["interests"]+","+AN;
}else{AO["interests"]=AN;
}}}function AC(AR){var AP={};
var AQ=l($j(AR.getElementsByTagName("specialties")[0]).text());
var AO=l($j(AR.getElementsByTagName("associations")[0]).text());
var AS=l($j(AR.getElementsByTagName("industry")[0]).text());
AP["interests"]=l($j(AR.getElementsByTagName("interests")[0]).text());
Z(AQ,AP);
Z(AO,AP);
Z(AS,AP);
var AN=$j.trim(l($j(AR.getElementsByTagName("location")[0]).text()));
if(AN.length>4){AN=$j.trim(AN.substring(0,AN.length-3));
}AP["cities"]=AN;
AP["industry"]=AS;
AP["headline"]=l($j(AR.getElementsByTagName("headline")[0]).text());
AP["connections"]=l($j(AR.getElementsByTagName("connections")[0]).attr("total"));
$j.post(JASK.cfg.ldomain+"/ja-topics-import","json="+encodeURIComponent($j.toJSON(AP)),V,"json");
}function V(AN){if(!c){O=AN;
d(H);
G(O);
f(O);
E();
I();
AF();
W(H.loginProvider);
if(!AA){$j("#import_saveInfo").click(U);
}else{$j("#import_saveInfo").click(K);
}}}function d(AN){if(AN.identities.linkedin.nickname){t(AN.identities.linkedin.nickname,"user","#import_nickname","#pimport_nickname");
}if(AN.gender){var AO=(AN.gender=="m")?"male":"female";
t(AO,"user","#import_gender","#pimport_gender");
}if(AN.birthMonth&&AN.birthDay&&AN.birthYear){var AP=e([AN.birthMonth,AN.birthDay,AN.birthYear]);
t(AP,"user","#import_birthday","#pimport_birthday");
}if(AN.gender||AN.birthMonth){$j("#privacy_warning").show();
}else{$j("#privacy_warning").hide();
}if(AN.photoURL){$j("#import_avatar").attr("src",AN.photoURL);
P(AN.identities.linkedin.nickname,$j("#import_avatar").parent(),$j("#import_avatar").parent().html());
}}function G(AQ){var AP=k();
var AO=((m-AP)<N)?(m-AP):N;
if(AO>0){var AR="";
AR+=AQ.interests;
var AN=AR.split(",");
AN=T(AN,AG);
AN=(AN.length>AO)?AN.splice(0,AO):AN;
$j.each(AN,function(AT,AS){u(AS,"interests","#import_interests");
});
if(AQ.headline){t(AQ.headline,"user","#import_title","#pimport_title");
}if(AQ.industry){t(AQ.industry,"user","#import_industry","#pimport_industry");
}if(typeof AQ.connections!="undefined"){t(AQ.connections,"user","#import_connections","#pimport_connections");
}}}function f(AP){var AO=N-a();
if(AO>0){var AQ="";
AQ+=AP.cities;
var AN=AQ.split(",");
AN=T(AN,A);
AN=(AN.length>AO)?AN.splice(0,AO):AN;
$j.each(AN,function(AS,AR){u(AR,"places","#import_places");
});
}}function e(AN){for(var AO=0;
AO<AN.length;
AO++){if(AN[AO]=="0"){return"";
}}return AN[0]+"/"+AN[1]+"/"+AN[2];
}function o(){$j("#importResult").hide();
$j("#importBusy").show();
}function I(){$j("#importResult").show();
$j("#importBusy").hide();
}function q(){$j("#importResult").hide();
$j("#importBusy").hide();
}function AK(AN){$j("#importError").show();
if(console){console.log(AN);
}}function AJ(){var AQ={"user":{},"attributes":{}};
var AP=[];
$j("#import_interests > .d_interest:visible").each(function(){AP.push($j(this).attr("rel"));
});
AQ.user["interests"]=AP.join();
AP=[];
$j("#import_places > .d_interest:visible").each(function(){AP.push($j(this).attr("rel"));
});
if(AP.length){AQ.user["favorite_places"]=AP.join();
}if(O.hometown_location){AQ.user["hometown"]=O.hometown_location;
}if(O.current_location){AQ.user["city"]=O.current_location;
}var AO=$j("#pimport_nickname > .d_interest:visible");
if(AO.length>0){AQ.user["firstName"]=H.firstName;
AQ.user["lastName"]=H.lastName;
}AQ.user["gender"]=$j("#pimport_gender > .d_interest:visible").attr("rel");
AQ.user["birthday"]=$j("#pimport_birthday > .d_interest:visible").attr("rel");
AQ.user["avatar_url"]=$j("#import_avatar:visible").attr("src");
AQ.attributes["title"]=[$j("#pimport_title > .d_interest:visible").attr("rel"),H.loginProvider];
AQ.attributes["industry"]=[$j("#pimport_industry > .d_interest:visible").attr("rel"),H.loginProvider];
AQ.attributes["connections"]=[$j("#pimport_connections > .d_interest:visible").attr("rel"),H.loginProvider];
AP=[];
$j("#import_interests > .d_interest:visible").each(function(){AP.push($j(this).attr("rel"));
});
AQ.attributes["interest_count"]=[AP.length,H.loginProvider];
AQ.attributes["interests"]=[AP.join(),H.loginProvider];
var AS=true;
for(var AN in AQ.user){if(!AQ.user[AN]){delete AQ.user[AN];
continue;
}AS=false;
}var AR=true;
for(var AT in AQ.attributes){if(!AQ.attributes[AT]||($j.isArray(AQ.attributes[AT])&&!AQ.attributes[AT][0])){delete AQ.attributes[AT];
continue;
}AR=false;
}if(AS&&AR){return null;
}else{return AQ;
}}function D(AN){if("linkedin"==AN){return"LinkedIn";
}else{return $j.capitalize(AN);
}}function K(AP){AP.preventDefault();
var AO=AJ();
if(AO){var AN=JASK.cfg.ldomain+"/ja-edit-social-profile";
$j("#import_saveInfo").showBusy();
$j.post(AN,"json="+encodeURIComponent($j.toJSON(AO))+"&provider="+H.loginProvider,function(AQ){$j("#import_saveInfo").showDone();
if(AQ&&AQ.status["@code"]==100){$j("#interestsDialog").dialog("close");
R.apply(window,[AO,H.loginProvider]);
}else{AK("save failed");
}},"json");
}else{}}function U(AP){AP.preventDefault();
var AO=AJ();
if(AO){var AN=JASK.cfg.ldomain+"/ja-edit-social-profile";
$j("#import_saveInfo").showBusy();
$j.post(AN,"json="+encodeURIComponent($j.toJSON(AO))+"&provider="+H.loginProvider,function(AQ){$j("#import_saveInfo").showDone();
if(AQ&&AQ.status["@code"]==100){$j("#interestsDialog").dialog("close");
$j.jStorage.set("importConfirmation",H.loginProvider);
setTimeout(function(){window.location.reload();
},250);
}else{AK("save failed");
}},"json");
}else{$j("#interestsDialog").dialog("close");
JASK.showValidateMsg("error_message","#errormsg","You did not import anything from "+D(H.loginProvider));
$j("#errormsg").show();
setTimeout(function(){$j("#errormsg").fadeOut();
},2000);
}}function X(){gigya.services.socialize.login(AB,{callback:B,provider:"facebook"});
}function x(){gigya.services.socialize.login(AB,{callback:S,provider:"linkedin"});
}function AI(AN){y(AN);
if(AN=="facebook"){X();
}else{x();
}}function w(){clearTimeout(r);
r=setTimeout(function(){AK("gigya timeout");
c=true;
},Y);
}function AF(){clearTimeout(r);
}function M(){$j("#interestsDialog").dialog("close");
}if($j.jStorage.get("importConfirmation")){$j(".import_provider").text(D($j.jStorage.get("importConfirmation")));
$j("#successmsg").show();
$j.jStorage.deleteKey("importConfirmation");
setTimeout(function(){$j("#successmsg").fadeOut();
},2000);
}return{close:function(AN){M();
},open:function(AN){AA=false;
window.scroll(0,0);
$j("#interestsDialog").dialog("option","position",JASK.getDialogOffset(800,900));
AI(AN);
},importIntoSignup:function(AO,AN){AA=true;
window.scroll(0,0);
R=typeof AN==="function"?AN:function(){};
AI(AO);
}};
})();
});

JASK.namespace("spellcheck");
JASK.spellcheck.ignoreList=[];
JASK.spellcheck.SpellChecker=function SpellChecker(A){this._errors=[];
this._errorCount=0;
this._currentIndex=0;
this._element=A;
this.conf={};
this.inCorrectionMode=false;
this.isRotating=false;
this.shouldSpellCheck=function(){return true;
};
this.onShow=function(){};
this.checkSpelling=function(){var B=$j("#"+this._element);
var C=B.val();
if(C!=""){$j.ajax({url:this.conf["url"],data:{"data":C},dataType:"jsonp",context:this,success:function(D){this.spellCheckCallback(D);
}});
}else{B.data("spellErrors",0);
}};
this.spellCheckCallback=function(E){var B=this;
B._errorMsg=E;
var F=this._errorMsg["results"];
var D=0;
B._errorCount=0;
B._errors=[];
B._currentIndex=0;
$j.each(F,function(H,G){var J=G["error"];
if(J["type"]=="spelling"){if((JASK.spellcheck.ignoreList.length==0||($j.inArray(J["string"],JASK.spellcheck.ignoreList)==-1))&&$j("#"+B._element).val().indexOf(J["string"])>=0){var I=B.buildErrorStructure(G);
if(I!=undefined){B._errors[D]=I;
D++;
}}}});
B._errorCount=D;
var C=B._element;
$j("#"+C).data("spellErrors",D);
if(D>0&&this.shouldSpellCheck()){this.displayErrors();
}else{if(this.conf.renderError){this.conf.renderError();
}}};
this.buildErrorStructure=function(C){var D;
var E=C["error"];
if(E["suggestions"]!=undefined){D=new Object();
D.suggestions=[];
var B=E["suggestions"]["option"];
$j.each(B,function(F,G){D.suggestions[F]=G;
});
D.actualWord=E["string"];
D.type=E["type"];
D.preContext=E["precontext"];
}return D;
};
this.displayErrors=function(){var C=this._element;
var B=$j("#"+C);
var I=B.val();
B.data("spellErrors",this._errorCount);
if(this._errorCount>0){var H=$j(this.suggestionMarkup(this._currentIndex));
var J="Did you mean?";
if(!this.inCorrectionMode&&!this.isRotating){J=this._errorCount+" misspelling"+((this._errorCount>1)?"s":"")+" found";
}if(this.conf.renderError){this.conf.renderError(J,$j(H),this.inCorrectionMode);
}var E=this._errors[this._currentIndex];
var G=0;
if(B.data("endIndex")!=undefined){G=B.data("endIndex");
}if(this.isRotating){this.isRotating=false;
return ;
}var F=I.indexOf(E.actualWord,G);
if(this._currentIndex==0||F<0){F=I.indexOf(E.actualWord);
}var D=E.actualWord.length;
if(this.inCorrectionMode){B.setSelection(F,F+D);
B.data("startIndex",F);
B.data("endIndex",F+D);
this.isRotating=true;
}this.onShow&&this.onShow();
}else{B.focus();
}};
this.markIgnored=function(E){var C=JASK.spellcheck.ignoreList.length;
var D=this._errors;
var B=[];
JASK.spellcheck.ignoreList[C]=E;
this._errors=$j.grep(this._errors,function(F){return F.actualWord==E;
},true);
this._errorCount=this._errors.length;
if(this._errorCount<=this._currentIndex){this._currentIndex=0;
}};
this.suggestionMarkup=function(B){var E=this._errors;
var D=$j("<ul/>").addClass("spell-suggestions");
var C=this._element;
var F=E[B].actualWord;
$j.each(E[B].suggestions,function(I,H){$j(D).append($j("<li><a onclick=\" JASK.spellcheck.suggestionCorrection('"+C+"',"+I+')" >'+H+"</a></li>"));
});
var G=$j("<div>").addClass("sc-footer").append("<a onclick=\"JASK.spellcheck.ignoreSuggestion('"+C+"','"+escape(F)+"')\">Ignore</a>");
if(E.length>1){G.append('<span class="sc-divider">|</span>').addClass("info").append("<a onclick=\"JASK.spellcheck.nextSpellingError('"+C+"')\">Next misspelling &raquo;</a>");
}return $j("<div>").append($j(D)).append(G);
};
this.getEventHandler=function(B){if(this.conf&&this.conf["events"]){return this.conf["events"][B];
}};
this.moveNext=function(){(this._currentIndex<(this._errorCount-1))?this._currentIndex++:(this._currentIndex=0);
};
this.makeCorrection=function(D){var E=this._errors[this._currentIndex];
var C=E.suggestions[D];
var B=$j("#"+this._element);
var G=B.data("startIndex");
var F=B.data("endIndex");
B.setSelection(G,F);
B.replaceSelection(C);
this.isRotating=false;
this._errors.splice(this._currentIndex,1);
this._errorCount--;
B.data("spellErrors",this._errorCount);
if(this._errorCount>0){this.inCorrectionMode=true;
if(this._errorCount==this._currentIndex){this._currentIndex=0;
}this.displayErrors();
}else{if(this.conf.renderError){this.conf.renderError();
}}};
};
JASK.spellcheck.showSuggestions=function(A){$j("#"+A).trigger("changeToSuggestionMode");
$j("#"+A).trigger("nextSpellingError");
};
JASK.spellcheck.suggestionCorrection=function(B,A){$j("#"+B).trigger("selectSuggestion",[A]);
};
JASK.spellcheck.nextSpellingError=function(A){$j("#"+A).trigger("nextSpellingError");
};
JASK.spellcheck.ignoreSuggestion=function(A,B){$j("#"+A).trigger("ignoreSuggestion",[B]);
};
(function(A){A.fn.ja_spellcheck=function(B){return this.each(function(){var D=$j(this).attr("id");
var C=new JASK.spellcheck.SpellChecker(D);
if(B){C.conf=B;
if(C.getEventHandler("shouldSpellCheck")!=undefined){C.shouldSpellCheck=C.getEventHandler("shouldSpellCheck");
}if(C.getEventHandler("onShow")!=undefined){C.onShow=C.getEventHandler("onShow");
}}$j(this).bind("changeToSuggestionMode",function(E){C._currentIndex=-1;
});
$j(this).bind("selectSuggestion",function(F,E){F.preventDefault();
C.makeCorrection(E);
$j(this).trigger("updateCharCount");
});
$j(this).bind("ignoreSuggestion",function(E,F){C.markIgnored(unescape(F));
$j(this).data("spellErrors",C._errorCount);
if(C._errorCount>0){C.inCorrectionMode=true;
C.isRotating=false;
C.displayErrors();
}else{if(C.conf.renderError){C.conf.renderError();
}}});
$j(this).bind("nextSpellingError",function(E){E.preventDefault();
C.inCorrectionMode=true;
C.isRotating=false;
C.moveNext();
C.displayErrors();
});
$j(this).bind("displaySpellErrors",function(E){C.displayErrors();
});
$j(this).typing({start:function(F,E){C.inCorrectionMode=false;
},stop:function(F,E){if(F.type!="blur"){C.checkSpelling();
}},delay:400});
$j(this).click(function(){C.inCorrectionMode=false;
C.isRotating=false;
if(C.conf.hideSuggestion){C.conf.hideSuggestion();
}});
$j(this).blur(function(){C.inCorrectionMode=false;
});
$j(this).bind("keyup",function(E){C.inCorrectionMode=false;
if(C.conf.hideSuggestion){C.conf.hideSuggestion();
}});
$j(this).bind("keydown",function(E){C.inCorrectionMode=false;
if(C.conf.hideSuggestion){C.conf.hideSuggestion();
}});
$j(this).bind("clearSpellErrors",function(){C._errorCount=0;
C._errors=[];
C._currentIndex=0;
JASK.spellcheck.ignoreList=[];
$j(this).data("spellErrors",0);
});
C.checkSpelling();
});
};
})(jQuery);

(function(A){A.fn.profileSuggestion=function(B,C){var D=409;
var E=$j("#profileSSWidth");
if(E.length>0&&E.val()){D=parseInt(E.val());
}if(C=="dialog_place"||C=="dialog_interest"){D=204;
}return this.each(function(){$j("#"+C).autocomplete(B,{width:D,top:2,selectFirst:false,highlight:false,scroll:false,max:8,minChars:2,cacheLength:30,matchSubset:false,itemsKey:"topicsSuggestion",setTurnOffComponent:F,dataType:"script",resultsClass:"ac_results_profile",parse:function(J){var G=[];
if(J==""){J[0]=$j("#"+C).val().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");
}for(var H=0;
H<J.length;
H++){var I=$j.trim(J[H]);
if(I){G[G.length]={data:I,value:I.replace(/(<([^>]+)>)/ig,""),result:I.replace(/(<([^>]+)>)/ig,""),url:JASK.ssCfg.ldomain+JASK.ssCfg.path+"?q="+I.replace(/(<([^>]+)>)/ig,"").replace(/(\s)/ig,"+")};
}}return G;
},formatItem:function(I,H,G){return $j("<a/>").attr("href",I.url).addClass("txt4").html(I.data);
}});
A(this).result(function(G,H){$j("#"+C).val(H.value);
});
});
function F(I,G){var H=A("<div/>",{"id":"ssdisable"}).appendTo(I);
}};
})(jQuery);
function topicsSuggestion(A){$j(document.body).data("topicsSuggestion",A[1]);
}
function searchSuggestion(A){$j(document.body).data("searchSuggestion",A[1]);
}JASK.namespace("ss");
JASK.ss.cookie={disable:function(){var B=window.location.hostname;
var I=window.location.hostname;
var E=window.location.hostname;
var F=window.location.hostname;
var D=window.location.hostname;
var A=$j.cookie("gset");
var G="";
var H=new Date();
H.setFullYear(H.getFullYear()+2);
if(A&&A.indexOf("&ss=1")!=-1){var C=A.split("&ss=1");
G=C.join("");
G+="&ss=0";
}else{G="ss=0";
}if(B.indexOf("pageset.com")!=-1){document.cookie="gset="+G+"; expires="+H.toGMTString()+"; path=/; domain=.pageset.com";
}else{if(I.indexOf("life123.com")!=-1){document.cookie="gset="+G+"; expires="+H.toGMTString()+"; path=/; domain=.life123.com";
}else{if(E.indexOf("shop-savvy.com")!=-1){document.cookie="gset="+G+"; expires="+H.toGMTString()+"; path=/; domain=.shop-savvy.com";
}else{if(F.indexOf("shop411.com")!=-1){document.cookie="gset="+G+"; expires="+H.toGMTString()+"; path=/; domain=.shop411.com";
}else{if(D.indexOf("about.com")!=-1){document.cookie="gset="+G+"; expires="+H.toGMTString()+"; path=/; domain=.about.com";
}else{document.cookie="gset="+G+"; expires="+H.toGMTString()+"; path=/; domain=.ask.com";
}}}}}},clear:function(){var B=window.location.hostname;
var E=window.location.hostname;
var A=window.location.hostname;
var D=window.location.hostname;
var F=window.location.hostname;
if(B.indexOf("pageset.com")!=-1){var C={path:"/",domain:"pageset.com"};
}else{if(E.indexOf("life123.com")!=-1){var C={path:"/",domain:"custom.life123.com"};
}else{if(A.indexOf("shop-savvy.com")!=-1){var C={path:"/",domain:"shop-savvy.com"};
}else{if(D.indexOf("shop411.com")!=-1){var C={path:"/",domain:"shop411.com"};
}else{if(F.indexOf("about.com")!=-1){var C={path:"/",domain:"about.com"};
}else{var C={path:"/",domain:"ask.com"};
}}}}}JASK.ssCfg.queryHistory=null;
$j.cookie("qh",null,C);
},isAvailable:function(){return(!$j.cookie("gset")||$j.cookie("gset").indexOf("ss=0")<0);
},getQueryHistory:function(){var A=JASK.ssCfg.queryHistory;
if(A!=null&&A.length>0){return A.split("|");
}return null;
}};
(function(A){A.fn.ja_getValue=function(C,B){var D=this.val();
if(!D||(B&&D==B)){D=C?C:"";
}return D;
};
})(jQuery);
(function(A){A.fn.searchsuggestion=function(){return this.each(function(){var N=D(this);
var K=window["googleSuggestAds"];
if(K&&K.initialize){K.initialize({client:"suggest-aj-cat",channel:"SuggestAffected",uid:$j.cookie("wz_uid")==null?"":$j.cookie("wz_uid")});
}A(this).autocomplete("http://"+JASK.ssCfg.server+"/query?sstype=prefix&fn=searchSuggestion",{width:N.width,selectFirst:false,highlight:false,scroll:false,max:JASK.ssCfg.max||8,minChars:2,cacheLength:30,matchSubset:false,dataType:"script",formatItem:J,parse:B,itemsKey:"searchSuggestion",setTurnOffComponent:C,left:N.left,top:N.top,adProvider:K,formatAd:G});
A(this).result(function(P,Q){window.location.href=Q.url;
});
function D(Q){var T=new Object();
var P=A("div[name=searchBoxContainer]:first");
var S=A(P).offset();
var R=A(Q).offset();
T.width=A(P).innerWidth()-8;
T.top=A(P).outerHeight(true)-A(Q).outerHeight(true)-(R.top-S.top)+1;
T.left=-2;
if(JASK.ssCfg.width){T.width=JASK.ssCfg.width;
T.top-=JASK.ssCfg.top;
T.left=JASK.ssCfg.left;
}else{if(JASK.ssCfg.channel=="homepage"){T.width=540;
T.top-=1;
T.left=-9;
}else{if(JASK.ssCfg.channel=="themes"){T.width=540;
T.top-=10;
T.left=-12;
}}}return T;
}var O="2352";
var H="0";
var I="dir";
var M=(function(){var R=new Array();
if(JASK.ssCfg.channel=="homepage"){R["qsrc"]="178";
}else{R["qsrc"]=O;
}R["o"]=A("input[name=o]").ja_getValue(H);
R["l"]=A("input[name=l]").ja_getValue(I,"0");
R["siteid"]=A("input[name=siteid]").ja_getValue();
R["vps"]=A("input[name=vps]").ja_getValue();
R["siteid"]=A("input[name=siteid]").ja_getValue();
if(window.location.hostname.indexOf("mypageset.com")!=-1){R["askid"]="undefined"!=typeof $j.cookie("askid")&&$j.cookie("askid")?$j.cookie("askid"):"";
}var P="";
for(var Q in R){if(!R[Q]==""){P+=("&"+Q+"="+R[Q]);
}}return P;
})();
var F=function(){var P="";
if(JASK.ssCfg.channel=="homepage"){if(document.getElementById("ctry_label")&&(document.getElementById("ctry_label").checked==true)){P="&dm=ctry";
}}else{if(document.getElementById("ctrytop")&&(document.getElementById("ctrytop").checked==true)){P="&dm=ctry";
}}return P;
};
function B(R){var Q="";
if(JASK.ssCfg.channel&&JASK.ssCfg.appendParams[JASK.ssCfg.channel]){Q=JASK.ssCfg.appendParams[JASK.ssCfg.channel]+"&";
}var U=F();
var T=[];
if(JASK.ssCfg.ssFromQueryHistory=="true"){var W=JASK.ss.cookie.getQueryHistory();
if(W!=null&&W.length>0){var P=M.replace(/(qsrc=)[^\&]+/,"$12991");
var X=E($j("input[name=q]:first:not(:hidden)").val(),W);
for(var S=0;
S<X.length;
S++){T[T.length]={data:X[S],value:X[S].replace(/(<([^>]+)>)/ig,""),result:X[S].replace(/(<([^>]+)>)/ig,""),url:JASK.ssCfg.ldomain+JASK.ssCfg.path+"?"+Q+"q="+X[S].replace(/(<([^>]+)>)/ig,"").replace(/(\s)/ig,"+")+P+U};
}R=L(X,R);
}}for(var S=0;
S<R.length;
S++){var V=A.trim(R[S]);
if(V){T[T.length]={data:V,value:V.replace(/(<([^>]+)>)/ig,""),result:V.replace(/(<([^>]+)>)/ig,""),url:JASK.ssCfg.ldomain+JASK.ssCfg.path+"?"+Q+"q="+V.replace(/(<([^>]+)>)/ig,"").replace(/(\s)/ig,"+")+M+U};
}}return T;
}function J(V,T,P){if(JASK.ssCfg.ssBold=="true"){var S=V.data;
return A("<a/>").attr("href",V.url).addClass("txt4").html(S.replace(/\\\"suggest\\\"/,"ac_ss_typedtxt"));
}if(JASK.ssCfg.ssFromQueryHistory=="true"){var R=E($j("input[name=q]:first:not(:hidden)").val(),JASK.ss.cookie.getQueryHistory());
if(T<=R.length){var W="#3300B5";
var U=JASK.ssCfg.queryHistoryContentColor.length==0?W:JASK.ssCfg.queryHistoryContentColor;
return A("<a/>").attr("href",V.url).addClass("txt4").css("color",U).html(V.data);
}}if(JASK.ssCfg.ssContentColor=="true"&&T<=JASK.ssCfg.ssItems){var W="#3300B5";
var Q=JASK.ssCfg.ssContentColorCode.length==0?W:JASK.ssCfg.ssContentColorCode;
return A("<a/>").attr("href",V.url).addClass("txt4").css("color",Q).html(V.data);
}return A("<a/>").attr("href",V.url).addClass("txt4").html(V.data);
}function G(P){if(P&&P.line1&&P.line2&&P.visible_url){var Q=A("<div/>");
Q.append(A("<div/>").addClass("label").html("Sponsored Result"));
Q.append(A("<div/>").addClass("line1").html(P.line1));
Q.append(A("<div/>").addClass("line2").html(P.line2));
Q.append(A("<div/>").addClass("url").html(P.visible_url));
return Q;
}return false;
}function C(S,P){var Q=A("<div/>",{"id":"ssdisable"}).appendTo(S);
var R=JASK.ss.cookie.getQueryHistory();
if(JASK.ssCfg.ssFromQueryHistory=="true"&&R!=null&&R.length>0){var U="#3300B5";
var T=JASK.ssCfg.queryHistoryContentColor.length==0?U:JASK.ssCfg.queryHistoryContentColor;
A("<a/>",{"href":"#","class":"txt1","style":"color:"+T,"text":JASK.ssCfg.clearSearchHistory,click:function(){JASK.ss.cookie.clear();
}}).appendTo(Q);
A("<span/>",{"text":" | ","class":"txt1"}).appendTo(Q);
}A("<a/>",{"href":"#","class":"txt1",text:"Turn off suggestions",click:function(){A(P).unautocomplete();
JASK.ss.cookie.disable();
}}).appendTo(Q);
}function E(T,S){var R=new Array();
if(S){var U="^"+A.trim(T)+".*$";
for(var Q=0,P=0;
Q<S.length;
Q++){var V=A.trim(S[Q]);
if(V.match(new RegExp(U,"i"))){R[P]=V;
P++;
}}}return R;
}function L(U,W){var P=new Array();
var R=0;
var V=null;
var T=false;
if(U&&W){for(var S=0;
S<W.length;
S++){for(var Q=0;
Q<U.length;
Q++){V=W[S].replace(/(<([^>]+)>)/ig,"");
if(V===U[Q]){T=true;
break;
}else{T=false;
}}if(!T&&A.inArray(W[S],P)==-1){P[R]=W[S];
R++;
}}}return P;
}});
};
})(jQuery);
$j(document).ready(function(){if(!JASK.ssCfg.disableSS&&JASK.ss.cookie.isAvailable()){if(!$j("input[name=q]:first:not(:hidden)").hasClass("ssDisabled")){$j("input[name=q]:first:not(:hidden)").searchsuggestion();
}}});

JASK.namespace("logging");
JASK.logging.JALogger=function JALogger(A){var D={iId:"0"};
$j.extend(D,JASK.cfg.trackerData);
if(A){$j.extend(D,A);
}var C=this;
function B(J,G,K){var F=(G)?G:JASK.cfg.trackerImpressionUri;
var I=K||function(){};
var H={};
$j.extend(H,JASK.cfg.trackerData,J);
$j.ajax({url:F,data:H,success:I,cache:false,global:false});
}function E(F){if(D.gaMode&&F.iId&&F.evId&&_gaq&&_gaq.push){_gaq.push(["_trackEvent",F.iId,F.evId,""]);
}}this.bindActivity=function(K,I){var H="*[data-activity]";
var F=(K)?$j(K).find(H):$j(H);
function G(){var L=$j(this).attr("data-activity");
B({"iId":D.iId,"evId":L,"qsrc":D.qsrc},JASK.cfg.trackerActivityUri);
E({"iId":D.iId,"evId":L});
}var J=I||G;
C.bind(F,J);
};
this.bind=function(F,H){if(typeof F=="string"){var G=$j(F);
}else{var G=F;
}G.each(function(){var I=($j(this).attr("data-eventType"))?$j(this).attr("data-eventType"):"mousedown";
$j(this).unbind(I+".activity");
$j(this).bind(I+".activity",H);
});
};
this.activity=function(F){B(F,JASK.cfg.trackerActivityUri);
E(F);
};
this.impression=function(F){B(F);
$j.extend(D,F);
};
this.setParams=function(F){$j.extend(D,F);
};
this.resetParams=function(){D={iId:"0"};
$j.extend(D,JASK.cfg.trackerData);
};
this.getParams=function(){return D;
};
};
JASK.logging.fid="generic";
(function(A){A.fn.ja_addClickId=function(B){return this.each(function(){A(this).mousedown(function(){if(B){sct(B);
}});
});
};
})(jQuery);
(function(A){A.fn.ja_impression=function(B,C){if(this.length<1){return ;
}A(window).load(function(){if(B&&B.length&&B.length>0){var D=A("<img />",{src:B}).get();
if(C){A(D).load(function(){A(D).hp_impression(C);
});
}}});
};
})(jQuery);
JASK.logging.doPickOrdinal=function doPickOrdinal(G,A){var E=121;
var F=JASK.cfg.queryid;
var D=JASK.logging.getPickFragmentOrdinal(G,A);
var C=encodeURI(_SP(D));
C=JASK.logging.setPickUrlLdId(C);
C=$j.param.querystring(C,"c="+JASK.logging.fid);
C=$j.param.querystring(C,"qs="+E);
C=$j.param.querystring(C,"id="+F);
C=decodeURI($j.param.querystring(C,"p=1"));
var B=new Image();
B.src=C;
};
JASK.logging.getLdIdFromLdptCookie=function getLdIdFromLdptCookie(){var A="0";
var D=$j.cookie("ldpt");
if(D&&D.length>0){var B=D.indexOf("porg=");
if(B!=-1){try{A=D.substring(B+5,B+9);
}catch(C){}}}return A;
};
JASK.logging.setPickUrlLdId=function setPickUrlLdId(C){var A=C;
var B=JASK.logging.getLdIdFromLdptCookie();
var D=C.indexOf("&ex=");
if(D!=-1){A=C.substring(0,D);
}return $j.param.querystring(A,"ld="+B);
};
JASK.logging.getPickFragmentOrdinal=function getPickFragmentOrdinal(F,A){var E={en:"",io:A,b:"",tp:"d",ec:"1",ex:""};
var B=F.split("-");
var C=B[0];
var D=B[1];
if(D=="cf_action"){E.en="ccf";
}if(C=="cfalert"){E.b="jfc";
}return E;
};
JASK.logging.getPickFragment=function getPickFragment(A){return JASK.logging.getPickFragmentOrdinal(A,"0");
};
JASK.logging.doPick=function doPick(A){JASK.logging.doPickOrdinal(A,"0");
};

function _RP(B){if(WZInfo.pickRedirectPrefix!=""){return WZInfo.pickRedirectPrefix+pob(B);
}else{var A=WZInfo.pickRedirectDefault.replace("c=a&","c=anc&");
A=A.replace("q=&","q=default&");
return A+pob(B);
}}function _SP(B){if(WZInfo.pickPrefix!=""){return WZInfo.pickPrefix+pob(B);
}else{var A=WZInfo.pickPrefix.replace("c=a&","c=anc&");
A=A.replace("q=&","q=default&");
return A+pob(B);
}}function ptxt(A){var B="";
if(A.innerHTML){B=A.innerHTML;
B=B.replace(/<\/?[^>]+>/ig,"");
B=B.replace(/&amp;/g,"&");
}return B;
}function pgptxt(B){var D="";
if(B){var E="";
if(typeof document.getElementsByClassName=="function"){if(B.getElementsByClassName("productTitle")[0]!=undefined){E=B.getElementsByClassName("productTitle")[0].lastChild.previousSibling;
}}else{var A=B.getElementsByTagName("li");
for(var C=0;
C<A.length;
C++){if(B.getElementsByTagName("li")[C].className[0]==="productTitle"&&B.getElementsByTagName("li")[C]!=undefined){E=B.getElementsByTagName("li")[C].lastChild.previousSibling;
}}}if(E){D=E.innerHTML;
D=D.replace(/<\/?[^>]+>/ig,"");
D=D.replace(/&amp;/g,"&");
}}return D;
}function pk(A,D,C){if(A&&A.href){if(A.wzup){return true;
}if(!D.u){D.u=A.href;
}if(document.all&&navigator.userAgent.indexOf("MSIE")!=-1){D.u=enc(D.u);
}var B=(C)?obj(C):A;
if(!D.pt){switch(D.en.toLowerCase()){case"js":case"is":D.pt=D.en.toUpperCase()+" thumbnail";
break;
default:D.pt=ptxt(B);
}}A.href=_RP(D);
A.wzup=1;
}return true;
}function pgpk(A,D,C){if(A&&A.href){if(A.wzup){return true;
}if(!D.u){D.u=A.href;
}if(document.all&&navigator.userAgent.indexOf("MSIE")!=-1){D.u=enc(D.u);
}var B=(C)?obj(C):A;
if(!D.pt){switch(D.en.toLowerCase()){case"js":case"is":D.pt=D.en.toUpperCase()+" thumbnail";
break;
default:D.pt=pgptxt(B);
}}A.href=_RP(D);
A.wzup=1;
}return true;
}function nopk(A,C,B){return true;
}function spk(A,E,D,C){if(A&&A.href&&E){if(!E.u){if(C){E.u=C;
}else{E.u=A.href;
}}if(!E.pt){var B=(D)?obj(D):A;
E.pt=ptxt(B);
}}return(new Image()).src=_SP(E);
}function ospk(A,C){spk(A,C);
var B=__va.getRARedirectURL(A);
if(!B){B=A.href;
}setTimeout('document.location = "'+B+'"',500);
}function noct(A,B){return true;
}function ct(A,C){if(A&&A.href&&C){if(!A.oUrl){A.oUrl=A.href;
}var B=A.innerHTML;
A.href=WZInfo.ctRedirectPrefix(C,A.oUrl);
if(navigator.userAgent.toLowerCase().indexOf("msie")!=-1&&A.innerHTML!=B){A.innerHTML=B;
}}return true;
}function nosct(E,A,B){if(E){var C="";
if(A){C=((A.href)?A.href:A);
}var D=C;
return D;
}}function sct(F,A,B){if(F){var D="";
if(A){D=((A.href)?A.href:A);
}var E=WZInfo.ctPrefix(F,D);
E=E+"&rnd="+Math.random().toString();
var C=new Image();
if(B){setTimeout(function(){C.src=E;
},100);
}else{C.src=E;
}return E;
}}function wzr(C,A){if(C&&A){var B=WZInfo.ctRedirectPrefix(C,A);
if(B){return B;
}}}function enc(A){return(typeof encodeURIComponent!="undefined")?encodeURIComponent(A):escape(A);
}function obj(C,B){if(!B){B=document;
}var A=B.getElementById(C);
return A;
}function pob(A){A=A||{};
return WZInfo.pickObjConversion(A);
}function h(A){return(A!=null&&A!="undefined")?A:"";
}function cspk(A,E,F,C){var B="co";
if(E=="ahdict"){B="dicp";
}if(E=="roget"){B="dicp";
}if(E=="wiki"){B="wk";
}if(E=="col"){B="cb";
}if(E=="hmwh"){B="h0";
}if(E=="hmff"){B="h1";
}if(E=="wordnet"){B="dicp";
}if(E=="wordnetuk"){B="dicp";
}var D={};
D.en=B;
D.b="sa";
D.tp="d";
D.ec="1";
D.io=F;
if(C){spk(A,D);
}else{pk(A,D);
}return true;
}function fp(O,C,F,I,D,E){if(O.href){var M=O.href.match(WZInfo.framedPickDomainRE);
if(M){var P,N,B,G,H,J,A;
G=M[1];
B=M[2];
H=WZInfo.framedPickSearchDomain;
J=WZInfo.framedPickAdvLang;
A=WZInfo.framedPickAdvCtry;
N=WZInfo.framedPickUrlPrefix;
if(H){N+="&dm="+H+"&advl="+J+"&advc="+A;
}G+="u="+B+"&bu="+enc(N)+WZInfo.framedPickUrlPrefix2;
if(H){G+="&dm="+H;
}if(D){G+="&ou="+enc(E);
}if(F=="true"){var K=_mb(I);
var L;
if(D){P=WZInfo.framedPickTitle+E;
L=WZInfo.framedPickAbstract+D;
}else{L=_ma(I);
}G+="&ma="+enc(L)+"&mt="+enc(P)+"&mb="+K;
}C.url=(E)?E:O.href;
C.u=G;
}pk(O,C);
}return true;
}function InitClickLog(){var D=function(){return sct(this.getAttribute("ask_clicklogid"),this);
};
var A=document.getElementsByTagName("A");
for(var B=A.length-1;
B>=0;
B--){var C=A[B].getAttribute("ask_clicklogid");
if(C){ask.util.Events.addListener(A[B],"mousedown",D);
}}A=document.getElementsByName("ask_clicklog");
for(var B=A.length-1;
B>=0;
B--){var C=A[B].getAttribute("ask_clicklogid");
if(C){ask.util.Events.addListener(A[B],"mousedown",D);
}}}function pkVig(A,D,B){if(A&&A.href){if(A.wzup){return true;
}var C=A.href;
pk(A,D,B);
C="http://"+_wzRedirDomain+"/vr"+A.href.substring(A.href.indexOf("?"))+"&loc=http://"+WZInfo.framedPickDomain+"&out="+enc(C);
A.href=C;
}return true;
}
JASK.isAuthenticated=function isAuthenticated(){return !!($j.cookie(JASK.cookieName));
};
JASK.doLogOut=function doLogOut(){JASK.doLogOutCookieLogic();
$j("a#signInUserLink").text("Sign In");
JASK.doLogOutTasks();
};
JASK.doLogOutTasks=function doLogOutTasks(){var A=function(){$j(document).trigger("logout");
};
if(window["gigya"]&&JASK.social){gigya.services.socialize.logout(JASK.social.conf,{callback:A});
}else{A();
}};
(function(A){A.fn.switchAuthentication=function(){return this.each(function(){A(this).click(function(B){if(!JASK.isAuthenticated()){sct(51143);
JASK.ask_dialog.initSignin(3123);
return false;
}else{sct(53316);
JASK.doLogOut();
}return false;
});
});
};
})(jQuery);

JASK.showValidateMsg=function showValidateMsg(C,B,E,D){var A=D?D:300;
if(C=="errTip"){$j(B).html("<span class='error tip_msg'>"+E+"</span>");
}else{if(C=="clearTip"){$j(B).text("");
}else{if(C=="error"){$j(B).fadeOut(A,function(){$j(this).html("<span class='validate_error b txt3'>"+E+"</span>").fadeIn(A);
});
}else{if(C=="success"){$j(B).html("<div class='green_check'></div>");
}else{if(C=="help"&&$j(B).text()==""){$j(B).fadeOut(A,function(){$j(this).html("<span class='txt2 info'>"+E+"</span>").fadeIn(A);
});
}else{if(C=="clear"){$j(B).fadeOut(A,function(){$j(this).text("").fadeIn(A);
});
}else{if(C=="success_message"){$j(B).html("<div class='green_check'></div><div class='validate_successmsg b txt3'>"+E+"</div>");
}else{if(C=="error_message"){$j(B).html("<div class='erroricon' style='float:left;margin-left:0;'></div><div class='validate_errormsg b txt3'>"+E+"</div>");
}else{if(C=="success_clear"){$j(B).html("<div class='green_check'></div><div class='validate_successmsg b txt3'>"+E+"</div>").fadeTo(D,1).fadeOut(800);
}else{if(C=="clear_html"){$j(B).fadeOut(A);
}else{if(C=="tipTitle"){$j(B).html(E);
}}}}}}}}}}}};
JASK.getDialogOffset=function(B,A){var C=[($j(window).width()-B)/2,100];
if(A<$j(window).height()){C[1]=($j(window).height()-A)*0.3;
}return C;
};
$j(document).ready(function(){$j.ui.dialog.prototype.options.autoReposition=($j.browser.msie&&(parseInt($j.browser.version)<8))?false:true;
$j(window).resize(function(){$j(".ui-dialog-content:visible").each(function(){var A=$j(this).data("dialog");
if(A.options.autoReposition){A.option("position",A.options.position);
}});
});
});
(function(A){A.fn.showBusy=function(B){return this.each(function(){if(($j(this).css("display")!="none")&&(!A.browser.msie||$j.browser.msie&&(parseInt($j.browser.version)>7))){$j(this).data("isBusy",true);
var C=($j(this).hasClass("JAButton"))?$j(this):$j(this).find(".JAButton");
if(C.length){var L=(A.browser.msie)?0:400;
var J=C.innerWidth();
var K=C.position(),I=C.innerHeight();
var H=(C.hasClass("cssButtonSecondary"))?"cssButtonSecondary":"cssButtonInactive";
var E=!B?"<img align='top' class='JASpinner' height='"+parseInt(I/2)+"' style='position:absolute;left:0px;top:0px;margin-left:42%;margin-top:"+parseInt(I/4)+"px;' src='http://"+JASK.cfg.staticDomain+"/sh/i/a14/ajax-loader-1.gif'>":"";
var F=C.text();
C.html("<div class='"+H+"' style='white-space:nowrap;float:left;text-align:center;color: #b2b2b2 ! important;width:"+(J-30)+"'>"+F+" "+E+"</div>");
var G=C.html();
C.html(F);
var D=A("<div class='overlay_button' style='display:none;position:absolute;top:"+K.top+";pxleft:"+K.left+";px'>"+G+"</div>").insertBefore(C);
D.fadeIn(L);
D.click(function(M){M.preventDefault();
M.stopPropagation();
});
}}});
};
})(jQuery);
(function(A){A.fn.showDone=function(B){return this.each(function(){if(($j(this).css("display")!="none")&&(!A.browser.msie||$j.browser.msie&&(parseInt($j.browser.version)>7))){$j(this).removeData("isBusy");
var E=($j(this).hasClass("JAButton"))?$j(this):$j(this).find(".JAButton");
if(E.length){var C=(A.browser.msie)?0:400;
var D=E.siblings(".overlay_button");
D.find(".JASpinner").hide();
if(B){D.remove();
}else{D.fadeOut(C,function(){$j(this).remove();
});
}}}});
};
})(jQuery);
(function(A){A.fn.ja_collapsibleMenu=function(){function B(E){A(document).one("mouseup",E,C);
}function D(E){E.toggle();
E.parent().css("zIndex",0);
E.parent().parent().css("zIndex",0);
}function C(I){var G=I.data,H=I.target,J=G.menu,K=G.menuId,F=A(H).parents("a"),E=A(H).parents(K).length===1;
E=!E?H.id===J[0].id:E;
if(E){if((H.tagName==="A"||H.tagName==="a"||F.length==1)&&I.button!==2){D(J);
}else{B(G);
}}else{if((H.tagName.toLowerCase()==="a"&&H.id==G.linkEl.id)||(F.length==1&&F.attr("id")==G.linkEl.id)){}else{D(J);
}}}return this.each(function(){var E=A(this);
if(!E.data("ja_collapsibleMenu")){E.data("ja_collapsibleMenu",1);
E.click(function(H){var G=this,F=G.id.split("-"),K=F[1],J="#collapsibleLinkmenu-"+K,I=A("#collapsibleLinkmenu-"+K);
if(I.is(":visible")){D(I);
return false;
}I.show();
if(I.is(":visible")){I.parent().css("zIndex",1002);
I.parent().parent().css("zIndex",1003);
}else{I.parent().css("zIndex",0);
I.parent().parent().css("zIndex",0);
}if(I.is(":visible")){B({menu:I,menuId:J,linkEl:G});
}return false;
});
}});
};
})(jQuery);
$j(document).ready(function(){$j("a.collapsibleLink").ja_collapsibleMenu();
});
(function(A){A.fn.ja_textarealimit=function(B){return this.each(function(){A(this).blur(function(E){var F=E.target;
B=B||{};
var D=(B.speed)?B.limit:2048;
var C=D-F.value.length;
if(C<=0){A(F).val(A(F).val().substring(0,D));
}});
A(this).keypress(function(F){var G=F.target;
B=B||{};
var E=(B.speed)?B.limit:2048;
var C=E-G.value.length;
var D=F.charCode?F.charCode:F.keyCode?F.keyCode:0;
if(C<=0){if((F.ctrlKey&&D==97)||(F.ctrlKey&&D==65)){return true;
}if((F.ctrlKey&&D==120)||(F.ctrlKey&&D==88)){return true;
}if((F.ctrlKey&&D==99)||(F.ctrlKey&&D==67)){return true;
}if((F.ctrlKey&&D==122)||(F.ctrlKey&&D==90)){return true;
}if((F.ctrlKey&&D==118)||(F.ctrlKey&&D==86)||(F.shiftKey&&D==45)){return true;
}if(D>32&&D<40){return true;
}return D==46||D==8||D==9;
}});
});
};
})(jQuery);
(function(A){A.fn.ja_slidablePost=function(C,B){A(this).click(function(){var E=this.id.split("-");
var H=E[0];
var G="#"+H+"-content";
B=B||{};
var F=A(G).is(":hidden");
if(!F){A("#"+H+"-link").text("Show "+C);
}else{A("#"+H+"-link").text("Hide "+C);
}A("#"+H+"-arrow").toggleClass("rightlinkimg",!F);
A("#"+H+"-arrow").toggleClass("droplinkimgmoderationmessage",F);
var D=(B.speed)?B.speed:200;
A(G).slideToggle(D);
return false;
});
};
})(jQuery);
(function(A){A.fn.ja_slidableLink=function(B){return this.each(function(){A(this).click(function(){var E=this.id.split("-");
var G=E[0];
var F="#"+G+"-content";
var D="#"+G+"-toggleStatus";
B=B||{};
var C=(B.speed)?B.speed:400;
A(F).slideToggle(C,function(){var H=A(F).is(":hidden");
A(D).toggleClass("tglplus",H);
A(D).toggleClass("tglminus",!H);
});
return false;
});
});
};
})(jQuery);
(function(A){A.fn.ja_defaultText=function(){return this.each(function(){if(this.type!="text"&&this.type!="password"&&this.type!="textarea"){return ;
}var B=$j(this).data("default-text");
if(this.value==""){this.value=B;
$j(this).addClass("info");
}else{return ;
}A(this).focus(function(){if(this.value==B){this.value="";
$j(this).removeClass("info");
}});
A(this).blur(function(){if(this.value==""){this.value=B;
$j(this).addClass("info");
}});
});
};
})(jQuery);

JASK.cookieName="cs";
JASK.deleteUserCookies=function deleteUserCookies(){if($j.cookie(JASK.cookieName)){$j.cookie("cu.wz","2",{path:"/",domain:"."+location.hostname.match(/\w+\.[^\.]+$/g)[0].replace(/\:\d+/,""),expires:63072000});
}$j.cookie(JASK.cookieName,null,{path:"/",domain:"."+location.hostname.match(/\w+\.[^\.]+$/g)[0].replace(/\:\d+/,""),expires:-1});
$j.cookie("cp",null,{path:"/",domain:"."+location.hostname.match(/\w+\.[^\.]+$/g)[0].replace(/\:\d+/,""),expires:-1});
$j.cookie("lcv",null,{path:"/",domain:"."+location.hostname.match(/\w+\.[^\.]+$/g)[0].replace(/\:\d+/,""),expires:-1});
};
JASK.doLogOutCookieLogic=function(){JASK.deleteUserCookies();
};
JASK.isEraserOn=function isEraserOn(){return !!($j.cookie("askeraser"));
};
JASK.CPCookie={getParsedValues:function(){var B=$j.cookie("cp"),A=[];
if(B){A=B.split("|");
}return A;
},getAvatarURL:function(){var A=this.getParsedValues();
return A[3]?A[3]:"http://"+JASK.cfg.staticDomain+"/sh/i/a14/c/generic.png";
},getUserName:function(){var A=this.getParsedValues();
return A[8]?A[8]:"";
},getBVPlayerId:function(){var A=this.getParsedValues();
return A[9]?A[9]:"";
}};

$j(document).ready(function(){JASK.ask_dialog.loadAskDialog();
});

$j(document).ready(function(){$j("#ftMobileSite").click(function(){jQuery.cookie("sp","1",{path:"/",domain:"."+location.hostname.match(/\w+\.[^\.]+$/g)[0].replace(/\:\d+/,""),expires:1});
window.location.href=jQuery.param.querystring(window.location.href,"qsrc=14164");
return false;
});
});

JASK.namespace("nanoMe");
(function(A){A.fn.cnb_addClickId=function(B){return this.each(function(){A(this).mousedown(function(){if(B){sct(B);
}});
});
};
})(jQuery);
$j(document).ready(function(){function D(){if($j("#cnbNanoMe")[0]){$j("#nmAvatar, #nmProfileName").cnb_addClickId(53320);
}}function E(){try{JASK.doLogOut();
B();
$j("#cnbSignInText, #a16CnbSignInText").text("Sign In");
$j("#nmAvatar, #nmProfileName").unbind();
$j("#cnbNanoMe, .nanome, #cnbNanoMeSeparator1").html("").hide();
$j("#nmSignInAvatar").show();
}catch(F){}}function B(){$j("#userInfo").load(JASK.cfg.ldomain+"/ja-user-info?rnd="+new Date().getTime(),function(){D();
$j("#cnbSignIn").click(C);
}).show();
}function A(){$j("#cnbSignInText, #a16CnbSignInText").text("Sign Out");
$j("#cnbNanoMe").load(JASK.cfg.ldomain+"/ja-load-nanome?rnd="+new Date().getTime(),function(){D();
}).show();
$j(".nanome").load(JASK.cfg.ldomain+"/ja-user-info?rnd="+new Date().getTime(),function(){D();
}).show();
B();
$j("#nmSignInAvatar").hide();
$j("#cnbNanoMeSeparator1").show();
}JASK.nanoMe.signedIn=A;
JASK.nanoMe.signedOut=E;
function C(F){if(JASK.isEraserOn()){return true;
}F.preventDefault();
if(!JASK.isAuthenticated()){if(JASK&&JASK.ask_dialog&&JASK.ask_dialog.initSignin){JASK.ask_dialog.initSignin(3123);
}else{JASK.ask_dialog.loadAskDialog();
}}else{E();
}}$j(document).bind("questionAsked",function(F,G){window.location.href=$j.param.querystring(JASK.cfg.ldomain+"/answers/browse",{"id":G});
});
$j(document).bind("login",A);
$j(document).bind("userCreated",function(){$j(document).trigger("login");
});
$j("#cnbSignIn, #a16CnbSignIn").click(C);
if(JASK.isAuthenticated&&JASK.isAuthenticated()){D();
}});

JASK.namespace("question");
JASK.question.hasQuestionWarnings=0;
JASK.question.submit=function(I,E){var K=JASK.communityCfg.qid;
var C=[JASK.communityCfg.threshold1,JASK.communityCfg.threshold2,JASK.communityCfg.threshold3];
var A=3160;
var B="http://"+JASK.cfg._ldomain+"/ja-new-question?qid="+K+"&tfid=JAAskQForm&qsrc=";
var M=E?E:function(){};
function L(){$j.post((B+A+"&j_cat="+H+"&tfid=JAAskQForm&iId="+encodeURIComponent(G)+"&ex="+encodeURIComponent(J)),$j.extend({},I,{update_w_user:1}),function(N){M($j.extend({success:true},N),I);
},"json").error(function(){M({success:false,error:"ajax",status:{"@code":"1001"}},I);
});
}function D(N){$j.post("http://"+JASK.cfg._ldomain+"/ja-get-topics",I,function(P){if(P){var O=F(P.question,0,C);
I["origTagList"]=O;
I["tagList"]=O;
L();
}else{N({success:false,error:"ajax",status:{"@code":"1001"}},I);
}},"json").error(function(){N({success:false,error:"ajax",status:{"@code":"1001"}},I);
});
}function F(R,P,O){var U=P||0;
var N=(R&&R.tagList&&typeof R.tagList.sort=="function")?R.tagList:[];
N=N.sort(function(W,V){return V.relevance-W.relevance;
});
var T=[];
var Q=0;
for(var S=0;
S<N.length;
S++){if(N[S].type==U){if(O&&N[S].relevance&&typeof O[Q]!="undefined"){if(N[S].relevance>O[Q]){T.push(N[S].tag);
}Q++;
}else{T.push(N[S].tag);
}}}return T.join(", ");
}if(JASK.isAuthenticated()){var H="";
var G="/l/asker/question_asked";
var J="j_cat=";
D();
}else{M({success:false,error:"authentication",status:{"@code":"1002"}},I);
}};
JASK.question.ask=function(C){if($j.trim(C).length){var B=$j.deparam.querystring();
delete B.q;
delete B.seltype;
delete B.id;
B.q=$j.trim(C);
var A=$j.param.querystring(JASK.cfg.ldomain+"/answers/browse",B);
A=$j.param.fragment(A,"#askq=1");
window.location=A;
}};
(function(A){A.fn.askQuestion=function(){return this.each(function(){var B=(this.tagName&&this.tagName.toLowerCase()==="form")?A(this):A(this).find("form");
var C=B.find(".aq_button");
C.click(function(){var D=B.find(".aq_txt[name='q']");
if(D&&D.data("unmodified")==true){D.data("unmodified",false);
D.val("");
}if(C.attr("id")=="aq_mod_button"){var E=$j.deparam.querystring().qsrc?$j.deparam.querystring().qsrc:121;
JASK.ask_dialog.initQuestion(B.find(".aq_txt[name='q']").val(),E,true);
}else{JASK.question.ask(B.find(".aq_txt[name='q']").val());
}});
});
};
})(jQuery);
(function(A){A.fn.submitQuestion=function(){return this.each(function(){var F=(this.tagName&&this.tagName.toLowerCase()==="form")?A(this):A(this).find("form");
var H=F.find(".sq_button");
var I=$j(".aq_form");
var B=I.find(".aq_button");
var D=F.find(".qdetail");
var G=F.find(".sq_error");
if(F.data().isquestion){B.removeClass("askpplbtn").addClass("askpplbtn-dis");
I.find(".aq_txt[name='q']").click(function(){B.removeClass("askpplbtn-dis").addClass("askpplbtn");
});
}else{H.showBusy(true);
$j("#qtxt").focus();
I.find(".aq_txt[name='q']").click(function(){H.showDone();
});
}D.click(function(){if($j(this).data().unmodified){$j(this).val("").data("unmodified",false);
$j("#qdetail").autoResize();
}});
function C(M,K){var J=JASK.communityCfg;
switch(M.status["@code"]){case"1":JASK.validation.getRecaptcha(false,function(N){$j.extend(K,N);
JASK.question.submit(K,func);
});
break;
case"2":JASK.validation.getRecaptcha(true,function(N){$j.extend(K,N);
JASK.question.submit(K,func);
});
break;
case"100":var L=$j.deparam.querystring();
delete L.q;
delete L.seltype;
L.id=M.status.id;
window.location.href=$j.param.querystring(JASK.cfg.ldomain+"/answers/browse",L);
break;
case"159":window.location.href=JASK.cfg.ldomain+"/answers/browse";
break;
case"160":G.text(J.QUESTION_POST_ERROR);
break;
case"164":G.text(J.QUESTION_DAILY_THROTTLE_ERROR);
break;
case"1001":G.text(J.AJAXERR);
break;
case"1002":JASK.ask_dialog.initSignInOrUp(JASK.cfg.trackerData.qsrc,function(N){if(N&&N.status["id"]){I.find("input[name='userId']").val(N.status["id"]);
}H.click();
});
break;
default:G.text(J.OOPS);
}H.showDone();
}H.click(function(){E();
});
function E(){if(D.data().unmodified){D.val("");
}var K=JASK.question.validateDetail(D.val());
var L=A.extend(A.serializeObject(F),A.serializeObject(I));
var J=JASK.question.validateQuestion(L.q);
G.text("");
if(J.valid&&K.valid){H.showBusy();
JASK.question.submit(L,C);
}else{$j("#nq_error").text("");
G.html(J.error||K.error);
}}});
};
})(jQuery);

JASK.namespace("question");
JASK.namespace("answer");
JASK.answer.throttle="throttle";
JASK.answer.dailyThrottle="dailyThrottle";
JASK.answer.duplicate="duplicate";
JASK.answer.spam="spam";
JASK.answer.recaptcha="recaptcha";
JASK.answer.authentication="authentication";
JASK.answer.general="general";
JASK.answer.askerAnswered="askerAnswered";
JASK.answer.answeredTwice="answeredTwice";
JASK.answer.duplicateError="Some one from your organization has already answered this question.";
JASK.answer.generalError="Sorry, there was an error saving your answer. Please try again.";
JASK.answer.askerAnsweredError="Sorry, you can't answer your own question";
JASK.answer.answeredTwiceError="Sorry, you've already answered this question.";
JASK.question.answer=function(B,D){var A=D?D:function(){};
var C=B["quickAnswer"]?B["quickAnswer"]:false;
if(C){url=JASK.cfg.ldomain+"/ja-quick-answer?qid="+JASK.cfg.queryid;
}else{url=JASK.cfg.ldomain+"/ja-submit-answer?qid="+JASK.cfg.queryid;
}if(JASK.isAuthenticated()){$j.post(url,B,function(E){if($j("errormessage",E).attr("type")=="error"&&$j("errormessage",E).attr("code")==161){A($j.extend(B,{success:false,error:JASK.answer.throttle}),E);
}else{if($j("errormessage",E).attr("type")=="error"&&$j("errormessage",E).attr("code")==165){A($j.extend(B,{success:false,error:JASK.answer.dailyThrottle}),E);
}else{if($j("errormessage",E).attr("type")=="error"&&$j("errormessage",E).attr("code")==112){A($j.extend(B,{success:false,error:JASK.answer.answeredTwice}),E);
}else{if($j("errormessage",E).attr("type")=="error"&&$j("errormessage",E).attr("code")==113){A($j.extend(B,{success:false,error:JASK.answer.askerAnswered}),E);
}else{if($j("errormessage",E).attr("type")=="error"&&$j("errormessage",E).attr("code")==173){A($j.extend(B,{success:false,error:JASK.answer.duplicate}),E);
}else{if($j("errormessage",E).attr("type")=="error"){JASK.cfg.ans_count=0;
A($j.extend(B,{success:false,error:JASK.answer.general}),E);
}else{if($j("errormessage",E).attr("type")=="spam"){JASK.cfg.ans_count=0;
A($j.extend(B,{success:false,error:JASK.answer.spam}),E);
}else{if($j("errormessage",E).attr("type")=="recaptcha"){JASK.cfg.ans_count=0;
A($j.extend(B,{success:false,error:JASK.answer.recaptcha}),E);
}else{A($j.extend(B,{success:true}),E);
}}}}}}}}},"xml");
}else{A($j.extend(B,{success:false,error:JASK.answer.authentication}));
}};
(function(A){A.fn.quickSubmitAnswer=function(){return A(this).live("click",function(){function E(M,O){var N=M["id"];
var L=A("#quickanswerfrm-"+N);
var K=A(".quickanswererr",L);
if(M.success){if(JASK.hp){sct(68);
}if(A("html",O).text()!=0){var J=A("html",O).text();
L.parent("div").replaceWith(J);
JASK.question.countDownTimer($j(".editCntDwn","#questionContent"+N));
}else{K.html("<span class='error b txt3'>"+JASK.answer.generalError+"</span>");
}}else{switch(M.error){case JASK.answer.throttle:K.html("<span class='error b txt3'>"+JASK.communityCfg.answerThrottleError+"</span>");
break;
case JASK.answer.dailyThrottle:K.html("<span class='error b txt3'>"+JASK.communityCfg.answerDailyThrottleError+"</span>");
break;
case JASK.answer.duplicate:K.html("<span class='error b txt3'>"+JASK.answer.duplicateError+"</span>");
break;
case JASK.answer.answeredTwice:K.html("<span class='error b txt3'>"+JASK.answer.answeredTwiceError+"</span>");
break;
case JASK.answer.askerAnswered:K.html("<span class='error b txt3'>"+JASK.answer.askerAnsweredError+"</span>");
break;
case JASK.answer.spam:if(JASK&&JASK.ask_dialog&&JASK.ask_dialog.initSignInOrUp){JASK.validation.getRecaptcha(false,function(P){$j.extend(M,P);
JASK.question.answer(M,E);
});
}else{$j(document).unbind("askDialogLoaded");
$j(document).bind("askDialogLoaded",function(){JASK.validation.getRecaptcha(false,function(P){$j.extend(M,P);
JASK.question.answer(M,E);
});
});
JASK.ask_dialog.loadAskDialog();
}break;
case JASK.answer.recaptcha:if(JASK&&JASK.ask_dialog&&JASK.ask_dialog.initSignInOrUp){JASK.validation.getRecaptcha(true,function(P){$j.extend(M,P);
JASK.question.answer(M,E);
});
}else{$j(document).unbind("askDialogLoaded");
$j(document).bind("askDialogLoaded",function(){JASK.validation.getRecaptcha(true,function(P){$j.extend(M,P);
JASK.question.answer(M,E);
});
});
JASK.ask_dialog.loadAskDialog();
}break;
case JASK.answer.authentication:var I=JASK.cfg.trackerData.qsrc;
if(JASK.hp&&JASK.hp.conf&&JASK.hp.conf.answerFunnelQsrc){I=JASK.hp.conf.answerFunnelQsrc;
}if(JASK&&JASK.ask_dialog&&JASK.ask_dialog.initSignInOrUp){JASK.ask_dialog.initSignInOrUp(I,function(){JASK.signin.changeState.signedIn();
JASK.question.answer(M,E);
});
}else{$j(document).unbind("askDialogLoaded");
$j(document).bind("askDialogLoaded",function(){JASK.ask_dialog.initSignInOrUp(I,function(){JASK.signin.changeState.signedIn();
JASK.question.answer(M,E);
});
});
JASK.ask_dialog.loadAskDialog();
}break;
case JASK.answer.general:K.html("<span class='error b txt3'>"+JASK.answer.generalError+"</span>");
break;
}}A("#quickanswerbtn-"+N).showDone();
}var H=A(this).attr("id").split("-")[1];
var F=$j(this).closest("form");
var C=F.find("#quickanswertxt-"+H);
var D=A(".quickanswererr",F);
if(C.data("unmodified")==true){C.data("unmodified",false);
C.val("");
}D.html("");
var G=A.serializeObject(F);
G["quickAnswer"]=true;
var B=JASK.question.validateAnswer(false,C.val());
if(B.valid){A(this).showBusy();
JASK.question.answer(G,E);
}else{D.html("<span class='error b txt3'>"+B.error+"</span>");
}});
};
})(jQuery);
JASK.answer.readyTxtBox=function(A){A.data("unmodified",false);
A.val("");
A.removeAttr("style");
};
JASK.answer.resetTxtBox=function(A,B){A.data("unmodified",true);
A.attr("style","color: #666;");
A.val(B);
};
JASK.answer.bindQuickAnswerSpellCheck=function bindQuickAnswerSpellCheck(B){var A=$j("#"+B).closest("form");
$j("#"+B).ja_spellcheck({events:{shouldSpellCheck:function(){var E=this._element;
var F=$j("#"+E);
var C=(F.data("spellErrors")>0);
if(!C){var D=$j("#ans-sc-wrp");
D.addClass("hide");
D.find(".sc-desc").html("");
}return C;
}},url:JASK.cfg.scDomain+"/ja-spellcheck",renderError:function(H,F){var I=$j("#"+B);
var C=B.split("-")[1];
var E=I.data("spellErrors");
var D=$j("#ans-sc-wrp");
if(E<=0){$j(".sc-answer-err",A).slideUp();
D.hide();
}else{if(E){$j(".sc-answer-err",A).slideDown();
$j("#answer_error").html("");
var G=E+" misspelling"+((E>1)?"s":"")+" found";
$j(".sc-count",A).html(G);
D.find(".sc-desc").html(F);
}}},hideSuggestion:function(){JASK.question.hideToolTip();
}});
};
function jaDisplaySpellcheckDetails(B,A){B.tooltip({events:{input:"focus, click dummyevent",tooltip:""},tip:"#ans-sc-wrp",position:"center right",offset:[0,20],onShow:function(){if(this.getTrigger().data("spellErrors")<=0){JASK.question.hideToolTip();
}else{var C=$j("#ans-sc-wrp");
if(C.data("animateMode")!="1"){C.animate({left:"-=15"});
C.data("animateMode","1");
}else{C.css("left",(C.position().left-15)+"px");
}}}});
JASK.spellcheck.showSuggestions(B.attr("id"));
}
JASK.namespace("signin");
JASK.signin.showDialog=function showDialog(A){var B=$j(A.target).offset();
$j("#signIn_signup_dialog").offset({left:B.left-200,top:B.top+30}).fadeIn();
};
JASK.signin.toggleDialog=function toggleDialog(A){$j(A.target).parents(".signIn_signup_dialog").find(".signin_panel,.signup_panel").toggle();
};
JASK.signin.authenticate=function authenticate(B,D,E){if(B&&D){var C=typeof E==="function"?E:function(){};
var A=$j.getJSON($j("#signinform").attr("action")+"?callback=?",{"engine_id":"sign_in","login":"true","username":B,"password":encodeURIComponent(D),"tfid":"JALoginForm","iId":0,"qsrc":0},function(F){C($j.extend({success:true},F));
});
A.error(function(){C({success:false,error:"ajax",status:{"@code":"1001"}});
});
}else{C({success:false,error:"validation failed",status:{"@code":"1002"}});
}};
(function(A){A.fn.signIn=function(){return this.each(function(){var B=(this.tagName&&this.tagName.toLowerCase()==="form")?A(this):A(this).find(".si_form");
var C=A(this).find(".si_error");
var E=B.find(".si_button");
function D(G){var F=JASK.communityCfg;
switch(G.status["@code"]){case"0":JASK.showValidateMsg("error",C,F.SIGNIN_FAIL);
break;
case"100":A(document).trigger("login");
break;
case"99":JASK.showValidateMsg("success_message",C,"privacy policy needs to be updated");
break;
case"1001":JASK.showValidateMsg("error",C,F.AJAXERR);
break;
default:JASK.showValidateMsg("error",C,F.OOPS);
}E.showDone();
}E.click(function(){var F=A.serializeObject(B);
JASK.showValidateMsg("clear",C);
if(F.user&&F.pass){E.showBusy();
JASK.signin.authenticate(F.user,F.pass,D);
}else{JASK.showValidateMsg("error",C,JASK.communityCfg.SIGNIN_EMPTY);
}});
});
};
})(jQuery);

JASK.namespace("signup");
JASK.signup.createAccount=function createAccount(B,F,E){var G=$j.getUrlParam("id"),D;
var A=$j.getUrlParam("tokentype")||"";
if(G!=null){D=conf.protocol+"://"+conf.secureDomain+"/ja-new-user?token="+encodeURIComponent(G)+"&tokentype="+A+"&qsrc=";
}else{D=conf.protocol+"://"+conf.secureDomain+"/ja-new-user?qsrc=";
}var C=$j.serializeObject("signupform");
C["news_optin"]=$j("input[name=news_optin]:checked").val();
C["origin"]=0;
$j.getJSON(D+qsrcID+"&callback=?",C,function(H){if(H&&H.status["@code"]==100){}else{if(H){JASK.showValidateMsg("error","#signup_ok",OOPS);
}else{JASK.showValidateMsg("error",errEl,AJAXERR);
}}});
};
JASK.signup.validatePassword=function validatePassword(A){var B=$j.trim(A);
if(B.length<6){return false;
}else{if(B.match(/ /)){return false;
}else{return true;
}}};
JASK.signup.validateUserName=function(A){};

JASK.namespace("validation");
JASK.validation.getRecaptcha=function(B,F){var E=(JASK.communityCfg.recaptchaEnabled==="true");
var C=$j("#recaptchaDialog");
C.bind("userClosedDialog",function(G){if(G.id==="recaptchaDialog"){C.data("canceled",true);
}});
if(!C.data().canceled){function A(){var H={};
if(E&&C.is(":visible")){var G=$j.trim($j("#answerRecaptcha .recaptcha").val());
if(G.length===0||G==="enter the words above"){$j("#recaptchaError").hide();
$j("#recaptchaEmpty").show();
}else{H["recaptcha_challenge_field"]=Recaptcha.get_challenge();
H["recaptcha_response_field"]=$j("#answerRecaptcha .recaptcha").val();
$j("#recaptchaEmpty").hide();
C.dialog("close");
}}return H;
}if(B){$j("#recaptchaError").show();
$j("#recaptchaEmpty").hide().bind("click",function(){var G=A();
if(typeof F==="function"&&G["recaptcha_response_field"]){F.apply(this,[G]);
}});
Recaptcha.reload();
}else{$j("#recaptchaError,#recaptchaEmpty").hide();
$j("#recaptchaBtn").unbind("click").bind("click",function(){var G=A();
if(typeof F==="function"&&G["recaptcha_response_field"]){F.apply(this,[A()]);
}});
$j("#recaptcha_image").attr("id","recaptcha_image_old");
$j("#answerRecaptcha #answerRecaptchaImage").attr("id","recaptcha_image");
Recaptcha.focus_response_field=function(){};
Recaptcha.create("6LeUnAIAAAAAAFK4AJHqebEoW5xCHMe5MmwvQHJL","recaptcha_image",{theme:"custom"});
}var D=$j("#answerRecaptcha .recaptcha");
D.val(D.attr("default"));
D.toggleClass("prefocus",true);
D.toggleClass("postfocus",false);
}C.dialog("open");
};

(function(C){var J=[];
C.fn.menu=function(M){var L=this;
var M=M;
var K=new D(L,M);
J.push(K);
C(this).mousedown(function(){if(!K.menuOpen){K.showLoading();
}}).click(function(){if(K.menuOpen==false){K.showMenu();
}else{K.kill();
}return false;
});
};
function D(N,M){var O=this;
var N=C(N);
var K=C('<div class="fg-menu-container ui-widget ui-widget-content ui-corner-all">'+M.content+"</div>");
this.menuOpen=false;
this.menuExists=false;
var M=jQuery.extend({content:null,width:180,maxHeight:180,positionOpts:{posX:"right",posY:"down",offsetX:0,offsetY:0,directionH:"left",directionV:"bottom",detectH:true,detectV:true,linkToFront:false},showSpeed:200,callerOnState:"ui-state-active",loadingState:"ui-state-loading",linkHover:"ui-state-hover",linkHoverSecondary:"li-hover",crossSpeed:200,crumbDefaultText:"Choose an option:",backLink:true,backLinkText:"Back",flyOut:false,flyOutOnState:"ui-state-default",nextMenuLink:"ui-icon-triangle-1-e",topLinkText:"All",nextCrumbLink:"ui-icon-carat-1-e"},M);
var L=function(){C.each(J,function(P){if(J[P].menuOpen){J[P].kill();
}});
};
this.kill=function(){N.removeClass(M.loadingState).removeClass("fg-menu-open").removeClass(M.callerOnState);
K.find("li").removeClass(M.linkHoverSecondary).find("a").removeClass(M.linkHover);
if(M.flyOutOnState){K.find("li a").removeClass(M.flyOutOnState);
}if(M.callerOnState){N.removeClass(M.callerOnState);
}if(K.is(".fg-menu-ipod")){O.resetDrilldownMenu();
}if(K.is(".fg-menu-flyout")){O.resetFlyoutMenu();
}K.parent().hide();
O.menuOpen=false;
C(document).unbind("click",L);
C(document).unbind("keydown");
};
this.showLoading=function(){N.addClass(M.loadingState);
};
this.showMenu=function(){L();
if(!O.menuExists){O.create();
}N.addClass("fg-menu-open").addClass(M.callerOnState);
K.parent().show().click(function(){O.kill();
return false;
});
K.hide().slideDown(M.showSpeed).find(".fg-menu:eq(0)");
O.menuOpen=true;
N.removeClass(M.loadingState);
C(document).click(L);
C(document).keydown(function(S){var T;
if(S.which!=""){T=S.which;
}else{if(S.charCode!=""){T=S.charCode;
}else{if(S.keyCode!=""){T=S.keyCode;
}}}var R=(C(S.target).parents("div").is(".fg-menu-flyout"))?"flyout":"ipod";
switch(T){case 37:if(R=="flyout"){C(S.target).trigger("mouseout");
if(C("."+M.flyOutOnState).size()>0){C("."+M.flyOutOnState).trigger("mouseover");
}}if(R=="ipod"){C(S.target).trigger("mouseout");
if(C(".fg-menu-footer").find("a").size()>0){C(".fg-menu-footer").find("a").trigger("click");
}if(C(".fg-menu-header").find("a").size()>0){C(".fg-menu-current-crumb").prev().find("a").trigger("click");
}if(C(".fg-menu-current").prev().is(".fg-menu-indicator")){C(".fg-menu-current").prev().trigger("mouseover");
}}return false;
break;
case 38:if(C(S.target).is("."+M.linkHover)){var Q=C(S.target).parent().prev().find("a:eq(0)");
if(Q.size()>0){C(S.target).trigger("mouseout");
Q.trigger("mouseover");
}}else{K.find("a:eq(0)").trigger("mouseover");
}return false;
break;
case 39:if(C(S.target).is(".fg-menu-indicator")){if(R=="flyout"){C(S.target).next().find("a:eq(0)").trigger("mouseover");
}else{if(R=="ipod"){C(S.target).trigger("click");
setTimeout(function(){C(S.target).next().find("a:eq(0)").trigger("mouseover");
},M.crossSpeed);
}}}return false;
break;
case 40:if(C(S.target).is("."+M.linkHover)){var P=C(S.target).parent().next().find("a:eq(0)");
if(P.size()>0){C(S.target).trigger("mouseout");
P.trigger("mouseover");
}}else{K.find("a:eq(0)").trigger("mouseover");
}return false;
break;
case 27:L();
break;
case 13:if(C(S.target).is(".fg-menu-indicator")&&R=="ipod"){C(S.target).trigger("click");
setTimeout(function(){C(S.target).next().find("a:eq(0)").trigger("mouseover");
},M.crossSpeed);
}break;
}});
};
this.create=function(){K.css({width:M.width}).appendTo("body").find("ul:first").not(".fg-menu-breadcrumb").addClass("fg-menu");
K.find("ul, li a").addClass("ui-corner-all");
K.find("ul").attr("role","menu").eq(0).attr("aria-activedescendant","active-menuitem").attr("aria-labelledby",N.attr("id"));
K.find("li").attr("role","menuitem");
K.find("li:has(ul)").attr("aria-haspopup","true").find("ul").attr("aria-expanded","false");
K.find("a").attr("tabindex","-1");
if(K.find("ul").size()>1){if(M.flyOut){O.flyout(K,M);
}else{O.drilldown(K,M);
}}else{K.find("a").click(function(){O.chooseItem(this);
return false;
});
}if(M.linkHover){var P=K.find(".fg-menu li a");
P.hover(function(){var Q=C(this);
C("."+M.linkHover).removeClass(M.linkHover).blur().parent().removeAttr("id");
C(this).addClass(M.linkHover).focus().parent().attr("id","active-menuitem");
},function(){C(this).removeClass(M.linkHover).blur().parent().removeAttr("id");
});
}if(M.linkHoverSecondary){K.find(".fg-menu li").hover(function(){C(this).siblings("li").removeClass(M.linkHoverSecondary);
if(M.flyOutOnState){C(this).siblings("li").find("a").removeClass(M.flyOutOnState);
}C(this).addClass(M.linkHoverSecondary);
},function(){C(this).removeClass(M.linkHoverSecondary);
});
}O.setPosition(K,N,M);
O.menuExists=true;
};
this.chooseItem=function(P){O.kill();
C("#menuSelection").text(C(P).text());
location.href=C(P).attr("href");
};
}D.prototype.flyout=function(K,L){var M=this;
this.resetFlyoutMenu=function(){var N=K.find("ul ul");
N.removeClass("ui-widget-content").hide();
};
K.addClass("fg-menu-flyout").find("li:has(ul)").each(function(){var O=K.width();
var Q,N;
var P=C(this).find("ul");
P.css({left:O,width:O}).hide();
C(this).find("a:eq(0)").addClass("fg-menu-indicator").html("<span>"+C(this).find("a:eq(0)").text()+'</span><span class="ui-icon '+L.nextMenuLink+'"></span>').hover(function(){clearTimeout(N);
var R=C(this).next();
if(!E(R,C(this).offset().top)){R.css({top:"auto",bottom:0});
}if(!G(R,C(this).offset().left+100)){R.css({left:"auto",right:O,"z-index":999});
}Q=setTimeout(function(){R.addClass("ui-widget-content").show(L.showSpeed).attr("aria-expanded","true");
},300);
},function(){clearTimeout(Q);
var R=C(this).next();
N=setTimeout(function(){R.removeClass("ui-widget-content").hide(L.showSpeed).attr("aria-expanded","false");
},400);
});
C(this).find("ul a").hover(function(){clearTimeout(N);
if(C(this).parents("ul").prev().is("a.fg-menu-indicator")){C(this).parents("ul").prev().addClass(L.flyOutOnState);
}},function(){N=setTimeout(function(){P.hide(L.showSpeed);
K.find(L.flyOutOnState).removeClass(L.flyOutOnState);
},500);
});
});
K.find("a").click(function(){M.chooseItem(this);
return false;
});
};
D.prototype.drilldown=function(K,V){var L=this;
var N=K.find(".fg-menu");
var R=C('<ul class="fg-menu-breadcrumb ui-widget-header ui-corner-all ui-helper-clearfix"></ul>');
var W=C('<li class="fg-menu-breadcrumb-text">'+V.crumbDefaultText+"</li>");
var S=(V.backLink)?V.backLinkText:V.topLinkText;
var M=(V.backLink)?"fg-menu-prev-list":"fg-menu-all-lists";
var U=(V.backLink)?"ui-state-default ui-corner-all":"";
var Q=(V.backLink)?'<span class="ui-icon ui-icon-triangle-1-w"></span>':"";
var P=C('<li class="'+M+'"><a href="#" class="'+U+'">'+Q+S+"</a></li>");
K.addClass("fg-menu-ipod");
if(V.backLink){R.addClass("fg-menu-footer").appendTo(K).hide();
}else{R.addClass("fg-menu-header").prependTo(K);
}R.append(W);
var T=function(X){if(X.height()>V.maxHeight){X.addClass("fg-menu-scroll");
}X.css({height:V.maxHeight});
};
var O=function(X){X.removeClass("fg-menu-scroll").removeClass("fg-menu-current").height("auto");
};
this.resetDrilldownMenu=function(){C(".fg-menu-current").removeClass("fg-menu-current");
N.animate({left:0},V.crossSpeed,function(){C(this).find("ul").each(function(){C(this).hide();
O(C(this));
});
N.addClass("fg-menu-current");
});
C(".fg-menu-all-lists").find("span").remove();
R.empty().append(W);
C(".fg-menu-footer").empty().hide();
T(N);
};
N.addClass("fg-menu-content fg-menu-current ui-widget-content ui-helper-clearfix").css({width:K.width()}).find("ul").css({width:K.width(),left:K.width()}).addClass("ui-widget-content").hide();
T(N);
N.find("a").each(function(){if(C(this).next().is("ul")){C(this).addClass("fg-menu-indicator").each(function(){C(this).html("<span>"+C(this).text()+'</span><span class="ui-icon '+V.nextMenuLink+'"></span>');
}).click(function(){var X=C(this).next();
var c=C(this).parents("ul:eq(0)");
var Y=(c.is(".fg-menu-content"))?0:parseFloat(N.css("left"));
var a=Math.round(Y-parseFloat(K.width()));
var e=C(".fg-menu-footer");
O(c);
T(X);
N.animate({left:a},V.crossSpeed);
X.show().addClass("fg-menu-current").attr("aria-expanded","true");
var d=function(h){var f=h;
var i=C(".fg-menu-current");
var g=i.parents("ul:eq(0)");
i.hide().attr("aria-expanded","false");
O(i);
T(g);
g.addClass("fg-menu-current").attr("aria-expanded","true");
if(g.hasClass("fg-menu-content")){f.remove();
e.hide();
}};
if(V.backLink){if(e.find("a").size()==0){e.show();
C('<a href="#"><span class="ui-icon ui-icon-triangle-1-w"></span> <span>Back</span></a>').appendTo(e).click(function(){var g=C(this);
var f=parseFloat(N.css("left"))+K.width();
N.animate({left:f},V.crossSpeed,function(){d(g);
});
return false;
});
}}else{if(R.find("li").size()==1){R.empty().append(P);
P.find("a").click(function(){L.resetDrilldownMenu();
return false;
});
}C(".fg-menu-current-crumb").removeClass("fg-menu-current-crumb");
var b=C(this).find("span:eq(0)").text();
var Z=C('<li class="fg-menu-current-crumb"><a href="javascript://" class="fg-menu-crumb">'+b+"</a></li>");
Z.appendTo(R).find("a").click(function(){if(C(this).parent().is(".fg-menu-current-crumb")){L.chooseItem(this);
}else{var f=-(C(".fg-menu-current").parents("ul").size()-1)*180;
N.animate({left:f},V.crossSpeed,function(){d();
});
C(this).parent().addClass("fg-menu-current-crumb").find("span").remove();
C(this).parent().nextAll().remove();
}return false;
});
Z.prev().append(' <span class="ui-icon '+V.nextCrumbLink+'"></span>');
}return false;
});
}else{C(this).click(function(){L.chooseItem(this);
return false;
});
}});
};
D.prototype.setPosition=function(N,L,S){var K=N;
var P=L;
var Q={refX:P.offset().left,refY:P.offset().top,refW:P.getTotalWidth(),refH:P.getTotalHeight()};
var S=S;
var R,O;
var M=C('<div class="positionHelper"></div>');
M.css({position:"absolute",left:Q.refX,top:Q.refY,width:Q.refW,height:Q.refH});
K.wrap(M);
switch(S.positionOpts.posX){case"left":R=0;
break;
case"center":R=Q.refW/2;
break;
case"right":R=Q.refW;
break;
}switch(S.positionOpts.posY){case"top":O=0;
break;
case"center":O=Q.refH/2;
break;
case"bottom":O=Q.refH;
break;
}R+=S.positionOpts.offsetX;
O+=S.positionOpts.offsetY;
if(S.positionOpts.directionV=="up"){K.css({top:"auto",bottom:O});
if(S.positionOpts.detectV&&!E(K)){K.css({bottom:"auto",top:O});
}}else{K.css({bottom:"auto",top:O});
if(S.positionOpts.detectV&&!E(K)){K.css({top:"auto",bottom:O});
}}if(S.positionOpts.directionH=="left"){K.css({left:"auto",right:R});
if(S.positionOpts.detectH&&!G(K)){K.css({right:"auto",left:R});
}}else{K.css({right:"auto",left:R});
if(S.positionOpts.detectH&&!G(K)){K.css({left:"auto",right:R});
}}if(S.positionOpts.linkToFront){P.clone().addClass("linkClone").css({position:"absolute",top:0,right:"auto",bottom:"auto",left:0,width:P.width(),height:P.height()}).insertAfter(K);
}};
function B(L,K){return K-L;
}jQuery.fn.getTotalWidth=function(){return C(this).width()+parseInt(C(this).css("paddingRight"))+parseInt(C(this).css("paddingLeft"))+parseInt(C(this).css("borderRightWidth"))+parseInt(C(this).css("borderLeftWidth"));
};
jQuery.fn.getTotalHeight=function(){return C(this).height()+parseInt(C(this).css("paddingTop"))+parseInt(C(this).css("paddingBottom"))+parseInt(C(this).css("borderTopWidth"))+parseInt(C(this).css("borderBottomWidth"));
};
function I(){return self.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;
}function F(){return self.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft;
}function H(){var K=document.documentElement;
return self.innerHeight||(K&&K.clientHeight)||document.body.clientHeight;
}function A(){var K=document.documentElement;
return self.innerWidth||(K&&K.clientWidth)||document.body.clientWidth;
}function G(L,M){var K=parseInt(M)||C(L).offset().left;
return(K+C(L).width()<=A()+F()&&K-F()>=0);
}function E(M,L){var K=parseInt(L)||C(M).offset().top;
return(K+C(M).height()<=H()+I()&&K-I()>=0);
}Number.prototype.pxToEm=String.prototype.pxToEm=function(L){L=jQuery.extend({scope:"body",reverse:false},L);
var O=(this=="")?0:parseFloat(this);
var N;
var M=function(){var Q=document.documentElement;
return self.innerWidth||(Q&&Q.clientWidth)||document.body.clientWidth;
};
if(L.scope=="body"&&C.browser.msie&&(parseFloat(C("body").css("font-size"))/M()).toFixed(1)>0){var P=function(){return(parseFloat(C("body").css("font-size"))/M()).toFixed(3)*16;
};
N=P();
}else{N=parseFloat(jQuery(L.scope).css("font-size"));
}var K=(L.reverse==true)?(O*N).toFixed(2)+"px":(O/N).toFixed(2)+"em";
return K;
};
})(jQuery);

(function(B){var A=200;
B(function(){B(".dropdown > li").hover(function(){var F=B(this),D=F.find("ul"),E=F.find("a"),C=D.height()*2.3,G=C/A;
F.data("origHeight",F.height());
E.addClass("hover");
B("#topblock").show();
D.show().css({});
B("#botblock").show();
if(G>1){F.css({height:A}).mousemove(function(I){var J=F.offset();
var H=((I.pageY-J.top)*G)-(F.data("origHeight")*G);
if(H>F.data("origHeight")){D.css("top",-H+F.data("origHeight"));
}});
}},function(){var C=B(this);
C.height(B(this).data("origHeight")).find("ul").css({top:40}).hide().end().find("a").removeClass("hover");
B("#topblock").hide();
B("#botblock").hide();
});
});
})(jQuery);

(function(C){var D={vertical:false,rtl:false,start:1,offset:1,size:null,scroll:3,visible:null,animation:"normal",easing:"swing",auto:0,wrap:null,initCallback:null,setupCallback:null,reloadCallback:null,itemLoadCallback:null,itemFirstInCallback:null,itemFirstOutCallback:null,itemLastInCallback:null,itemLastOutCallback:null,itemVisibleInCallback:null,itemVisibleOutCallback:null,animationStepCallback:null,buttonNextHTML:"<div></div>",buttonPrevHTML:"<div></div>",buttonNextEvent:"click",buttonPrevEvent:"click",buttonNextCallback:null,buttonPrevCallback:null,itemFallbackDimension:null},B=false;
C(window).bind("load.jcarousel",function(){B=true;
});
C.jcarousel=function(I,F){this.options=C.extend({},D,F||{});
this.locked=false;
this.autoStopped=false;
this.container=null;
this.clip=null;
this.list=null;
this.buttonNext=null;
this.buttonPrev=null;
this.buttonNextState=null;
this.buttonPrevState=null;
if(!F||F.rtl===undefined){this.options.rtl=(C(I).attr("dir")||C("html").attr("dir")||"").toLowerCase()=="rtl";
}this.wh=!this.options.vertical?"width":"height";
this.lt=!this.options.vertical?(this.options.rtl?"right":"left"):"top";
var M="",K=I.className.split(" ");
for(var H=0;
H<K.length;
H++){if(K[H].indexOf("jcarousel-skin")!=-1){C(I).removeClass(K[H]);
M=K[H];
break;
}}if(I.nodeName.toUpperCase()=="UL"||I.nodeName.toUpperCase()=="OL"){this.list=C(I);
this.clip=this.list.parents(".jcarousel-clip");
this.container=this.list.parents(".jcarousel-container");
}else{this.container=C(I);
this.list=this.container.find("ul,ol").eq(0);
this.clip=this.container.find(".jcarousel-clip");
}if(this.clip.size()===0){this.clip=this.list.wrap("<div></div>").parent();
}if(this.container.size()===0){this.container=this.clip.wrap("<div></div>").parent();
}if(M!==""&&this.container.parent()[0].className.indexOf("jcarousel-skin")==-1){this.container.wrap('<div class=" '+M+'"></div>');
}this.buttonPrev=C(".jcarousel-prev",this.container);
if(this.buttonPrev.size()===0&&this.options.buttonPrevHTML!==null){this.buttonPrev=C(this.options.buttonPrevHTML).appendTo(this.container);
}this.buttonPrev.addClass(this.className("jcarousel-prev"));
this.buttonNext=C(".jcarousel-next",this.container);
if(this.buttonNext.size()===0&&this.options.buttonNextHTML!==null){this.buttonNext=C(this.options.buttonNextHTML).appendTo(this.container);
}this.buttonNext.addClass(this.className("jcarousel-next"));
this.clip.addClass(this.className("jcarousel-clip")).css({position:"relative"});
this.list.addClass(this.className("jcarousel-list")).css({overflow:"hidden",position:"relative",top:0,margin:0,padding:0}).css((this.options.rtl?"right":"left"),0);
this.container.addClass(this.className("jcarousel-container")).css({position:"relative"});
if(!this.options.vertical&&this.options.rtl){this.container.addClass("jcarousel-direction-rtl").attr("dir","rtl");
}var J=this.options.visible!==null?Math.ceil(this.clipping()/this.options.visible):null;
var L=this.list.children("li");
var N=this;
if(L.size()>0){var E=0,G=this.options.offset;
L.each(function(){N.format(this,G++);
E+=N.dimension(this,J);
});
this.list.css(this.wh,(E+100)+"px");
if(!F||F.size===undefined){this.options.size=L.size();
}}this.container.css("display","block");
this.buttonNext.css("display","block");
this.buttonPrev.css("display","block");
this.funcNext=function(){N.next();
};
this.funcPrev=function(){N.prev();
};
this.funcResize=function(){if(N.resizeTimer){clearTimeout(N.resizeTimer);
}N.resizeTimer=setTimeout(function(){N.reload();
},100);
};
if(this.options.initCallback!==null){this.options.initCallback(this,"init");
}if(!B&&C.browser.safari){this.buttons(false,false);
C(window).bind("load.jcarousel",function(){N.setup();
});
}else{this.setup();
}};
var A=C.jcarousel;
A.fn=A.prototype={jcarousel:"0.2.8"};
A.fn.extend=A.extend=C.extend;
A.fn.extend({setup:function(){this.first=null;
this.last=null;
this.prevFirst=null;
this.prevLast=null;
this.animating=false;
this.timer=null;
this.resizeTimer=null;
this.tail=null;
this.inTail=false;
if(this.locked){return ;
}this.list.css(this.lt,this.pos(this.options.offset)+"px");
var E=this.pos(this.options.start,true);
this.prevFirst=this.prevLast=null;
this.animate(E,false);
C(window).unbind("resize.jcarousel",this.funcResize).bind("resize.jcarousel",this.funcResize);
if(this.options.setupCallback!==null){this.options.setupCallback(this);
}},reset:function(){this.list.empty();
this.list.css(this.lt,"0px");
this.list.css(this.wh,"10px");
if(this.options.initCallback!==null){this.options.initCallback(this,"reset");
}this.setup();
},reload:function(){if(this.tail!==null&&this.inTail){this.list.css(this.lt,A.intval(this.list.css(this.lt))+this.tail);
}this.tail=null;
this.inTail=false;
if(this.options.reloadCallback!==null){this.options.reloadCallback(this);
}if(this.options.visible!==null){var G=this;
var H=Math.ceil(this.clipping()/this.options.visible),F=0,E=0;
this.list.children("li").each(function(I){F+=G.dimension(this,H);
if(I+1<G.first){E=F;
}});
this.list.css(this.wh,F+"px");
this.list.css(this.lt,-E+"px");
}this.scroll(this.first,false);
},lock:function(){this.locked=true;
this.buttons();
},unlock:function(){this.locked=false;
this.buttons();
},size:function(E){if(E!==undefined){this.options.size=E;
if(!this.locked){this.buttons();
}}return this.options.size;
},has:function(F,G){if(G===undefined||!G){G=F;
}if(this.options.size!==null&&G>this.options.size){G=this.options.size;
}for(var E=F;
E<=G;
E++){var H=this.get(E);
if(!H.length||H.hasClass("jcarousel-item-placeholder")){return false;
}}return true;
},get:function(E){return C(">.jcarousel-item-"+E,this.list);
},add:function(I,M){var J=this.get(I),G=0,F=C(M);
if(J.length===0){var L,H=A.intval(I);
J=this.create(I);
while(true){L=this.get(--H);
if(H<=0||L.length){if(H<=0){this.list.prepend(J);
}else{L.after(J);
}break;
}}}else{G=this.dimension(J);
}if(F.get(0).nodeName.toUpperCase()=="LI"){J.replaceWith(F);
J=F;
}else{J.empty().append(M);
}this.format(J.removeClass(this.className("jcarousel-item-placeholder")),I);
var K=this.options.visible!==null?Math.ceil(this.clipping()/this.options.visible):null;
var E=this.dimension(J,K)-G;
if(I>0&&I<this.first){this.list.css(this.lt,A.intval(this.list.css(this.lt))-E+"px");
}this.list.css(this.wh,A.intval(this.list.css(this.wh))+E+"px");
return J;
},remove:function(E){var F=this.get(E);
if(!F.length||(E>=this.first&&E<=this.last)){return ;
}var G=this.dimension(F);
if(E<this.first){this.list.css(this.lt,A.intval(this.list.css(this.lt))+G+"px");
}F.remove();
this.list.css(this.wh,A.intval(this.list.css(this.wh))-G+"px");
},next:function(){if(this.tail!==null&&!this.inTail){this.scrollTail(false);
}else{this.scroll(((this.options.wrap=="both"||this.options.wrap=="last")&&this.options.size!==null&&this.last==this.options.size)?1:this.first+this.options.scroll);
}},prev:function(){if(this.tail!==null&&this.inTail){this.scrollTail(true);
}else{this.scroll(((this.options.wrap=="both"||this.options.wrap=="first")&&this.options.size!==null&&this.first==1)?this.options.size:this.first-this.options.scroll);
}},scrollTail:function(E){if(this.locked||this.animating||!this.tail){return ;
}this.pauseAuto();
var F=A.intval(this.list.css(this.lt));
F=!E?F-this.tail:F+this.tail;
this.inTail=!E;
this.prevFirst=this.first;
this.prevLast=this.last;
this.animate(F);
},scroll:function(F,E){if(this.locked||this.animating){return ;
}this.pauseAuto();
this.animate(this.pos(F),E);
},pos:function(S,F){var G=A.intval(this.list.css(this.lt));
if(this.locked||this.animating){return G;
}if(this.options.wrap!="circular"){S=S<1?1:(this.options.size&&S>this.options.size?this.options.size:S);
}var P=this.first>S;
var U=this.options.wrap!="circular"&&this.first<=1?1:this.first;
var X=P?this.get(U):this.get(this.last);
var R=P?U:U-1;
var V=null,Q=0,N=false,W=0,T;
while(P?--R>=S:++R<S){V=this.get(R);
N=!V.length;
if(V.length===0){V=this.create(R).addClass(this.className("jcarousel-item-placeholder"));
X[P?"before":"after"](V);
if(this.first!==null&&this.options.wrap=="circular"&&this.options.size!==null&&(R<=0||R>this.options.size)){T=this.get(this.index(R));
if(T.length){V=this.add(R,T.clone(true));
}}}X=V;
W=this.dimension(V);
if(N){Q+=W;
}if(this.first!==null&&(this.options.wrap=="circular"||(R>=1&&(this.options.size===null||R<=this.options.size)))){G=P?G+W:G-W;
}}var K=this.clipping(),M=[],E=0,L=0;
X=this.get(S-1);
R=S;
while(++E){V=this.get(R);
N=!V.length;
if(V.length===0){V=this.create(R).addClass(this.className("jcarousel-item-placeholder"));
if(X.length===0){this.list.prepend(V);
}else{X[P?"before":"after"](V);
}if(this.first!==null&&this.options.wrap=="circular"&&this.options.size!==null&&(R<=0||R>this.options.size)){T=this.get(this.index(R));
if(T.length){V=this.add(R,T.clone(true));
}}}X=V;
W=this.dimension(V);
if(W===0){throw new Error("jCarousel: No width/height set for items. This will cause an infinite loop. Aborting...");
}if(this.options.wrap!="circular"&&this.options.size!==null&&R>this.options.size){M.push(V);
}else{if(N){Q+=W;
}}L+=W;
if(L>=K){break;
}R++;
}for(var J=0;
J<M.length;
J++){M[J].remove();
}if(Q>0){this.list.css(this.wh,this.dimension(this.list)+Q+"px");
if(P){G-=Q;
this.list.css(this.lt,A.intval(this.list.css(this.lt))-Q+"px");
}}var I=S+E-1;
if(this.options.wrap!="circular"&&this.options.size&&I>this.options.size){I=this.options.size;
}if(R>I){E=0;
R=I;
L=0;
while(++E){V=this.get(R--);
if(!V.length){break;
}L+=this.dimension(V);
if(L>=K){break;
}}}var H=I-E+1;
if(this.options.wrap!="circular"&&H<1){H=1;
}if(this.inTail&&P){G+=this.tail;
this.inTail=false;
}this.tail=null;
if(this.options.wrap!="circular"&&I==this.options.size&&(I-E+1)>=1){var O=A.intval(this.get(I).css(!this.options.vertical?"marginRight":"marginBottom"));
if((L-O)>K){this.tail=L-K-O;
}}if(F&&S===this.options.size&&this.tail){G-=this.tail;
this.inTail=true;
}while(S-->H){G+=this.dimension(this.get(S));
}this.prevFirst=this.first;
this.prevLast=this.last;
this.first=H;
this.last=I;
return G;
},animate:function(I,E){if(this.locked||this.animating){return ;
}this.animating=true;
var F=this;
var G=function(){F.animating=false;
if(I===0){F.list.css(F.lt,0);
}if(!F.autoStopped&&(F.options.wrap=="circular"||F.options.wrap=="both"||F.options.wrap=="last"||F.options.size===null||F.last<F.options.size||(F.last==F.options.size&&F.tail!==null&&!F.inTail))){F.startAuto();
}F.buttons();
F.notify("onAfterAnimation");
if(F.options.wrap=="circular"&&F.options.size!==null){for(var K=F.prevFirst;
K<=F.prevLast;
K++){if(K!==null&&!(K>=F.first&&K<=F.last)&&(K<1||K>F.options.size)){F.remove(K);
}}}};
this.notify("onBeforeAnimation");
if(!this.options.animation||E===false){this.list.css(this.lt,I+"px");
G();
}else{var J=!this.options.vertical?(this.options.rtl?{"right":I}:{"left":I}):{"top":I};
var H={duration:this.options.animation,easing:this.options.easing,complete:G};
if(C.isFunction(this.options.animationStepCallback)){H.step=this.options.animationStepCallback;
}this.list.animate(J,H);
}},startAuto:function(F){if(F!==undefined){this.options.auto=F;
}if(this.options.auto===0){return this.stopAuto();
}if(this.timer!==null){return ;
}this.autoStopped=false;
var E=this;
this.timer=window.setTimeout(function(){E.next();
},this.options.auto*1000);
},stopAuto:function(){this.pauseAuto();
this.autoStopped=true;
},pauseAuto:function(){if(this.timer===null){return ;
}window.clearTimeout(this.timer);
this.timer=null;
},buttons:function(G,F){if(G==null){G=!this.locked&&this.options.size!==0&&((this.options.wrap&&this.options.wrap!="first")||this.options.size===null||this.last<this.options.size);
if(!this.locked&&(!this.options.wrap||this.options.wrap=="first")&&this.options.size!==null&&this.last>=this.options.size){G=this.tail!==null&&!this.inTail;
}}if(F==null){F=!this.locked&&this.options.size!==0&&((this.options.wrap&&this.options.wrap!="last")||this.first>1);
if(!this.locked&&(!this.options.wrap||this.options.wrap=="last")&&this.options.size!==null&&this.first==1){F=this.tail!==null&&this.inTail;
}}var E=this;
if(this.buttonNext.size()>0){this.buttonNext.unbind(this.options.buttonNextEvent+".jcarousel",this.funcNext);
if(G){this.buttonNext.bind(this.options.buttonNextEvent+".jcarousel",this.funcNext);
}this.buttonNext[G?"removeClass":"addClass"](this.className("jcarousel-next-disabled")).attr("disabled",G?false:true);
if(this.options.buttonNextCallback!==null&&this.buttonNext.data("jcarouselstate")!=G){this.buttonNext.each(function(){E.options.buttonNextCallback(E,this,G);
}).data("jcarouselstate",G);
}}else{if(this.options.buttonNextCallback!==null&&this.buttonNextState!=G){this.options.buttonNextCallback(E,null,G);
}}if(this.buttonPrev.size()>0){this.buttonPrev.unbind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev);
if(F){this.buttonPrev.bind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev);
}this.buttonPrev[F?"removeClass":"addClass"](this.className("jcarousel-prev-disabled")).attr("disabled",F?false:true);
if(this.options.buttonPrevCallback!==null&&this.buttonPrev.data("jcarouselstate")!=F){this.buttonPrev.each(function(){E.options.buttonPrevCallback(E,this,F);
}).data("jcarouselstate",F);
}}else{if(this.options.buttonPrevCallback!==null&&this.buttonPrevState!=F){this.options.buttonPrevCallback(E,null,F);
}}this.buttonNextState=G;
this.buttonPrevState=F;
},notify:function(E){var F=this.prevFirst===null?"init":(this.prevFirst<this.first?"next":"prev");
this.callback("itemLoadCallback",E,F);
if(this.prevFirst!==this.first){this.callback("itemFirstInCallback",E,F,this.first);
this.callback("itemFirstOutCallback",E,F,this.prevFirst);
}if(this.prevLast!==this.last){this.callback("itemLastInCallback",E,F,this.last);
this.callback("itemLastOutCallback",E,F,this.prevLast);
}this.callback("itemVisibleInCallback",E,F,this.first,this.last,this.prevFirst,this.prevLast);
this.callback("itemVisibleOutCallback",E,F,this.prevFirst,this.prevLast,this.first,this.last);
},callback:function(I,L,E,J,H,G,F){if(this.options[I]==null||(typeof this.options[I]!="object"&&L!="onAfterAnimation")){return ;
}var M=typeof this.options[I]=="object"?this.options[I][L]:this.options[I];
if(!C.isFunction(M)){return ;
}var N=this;
if(J===undefined){M(N,E,L);
}else{if(H===undefined){this.get(J).each(function(){M(N,this,J,E,L);
});
}else{var O=function(P){N.get(P).each(function(){M(N,this,P,E,L);
});
};
for(var K=J;
K<=H;
K++){if(K!==null&&!(K>=G&&K<=F)){O(K);
}}}}},create:function(E){return this.format("<li></li>",E);
},format:function(H,G){H=C(H);
var F=H.get(0).className.split(" ");
for(var E=0;
E<F.length;
E++){if(F[E].indexOf("jcarousel-")!=-1){H.removeClass(F[E]);
}}H.addClass(this.className("jcarousel-item")).addClass(this.className("jcarousel-item-"+G)).css({"float":(this.options.rtl?"right":"left"),"list-style":"none"}).attr("jcarouselindex",G);
return H;
},className:function(E){return E+" "+E+(!this.options.vertical?"-horizontal":"-vertical");
},dimension:function(G,H){var F=C(G);
if(H==null){return !this.options.vertical?(F.outerWidth(true)||A.intval(this.options.itemFallbackDimension)):(F.outerHeight(true)||A.intval(this.options.itemFallbackDimension));
}else{var E=!this.options.vertical?H-A.intval(F.css("marginLeft"))-A.intval(F.css("marginRight")):H-A.intval(F.css("marginTop"))-A.intval(F.css("marginBottom"));
C(F).css(this.wh,E+"px");
return this.dimension(F);
}},clipping:function(){return !this.options.vertical?this.clip[0].offsetWidth-A.intval(this.clip.css("borderLeftWidth"))-A.intval(this.clip.css("borderRightWidth")):this.clip[0].offsetHeight-A.intval(this.clip.css("borderTopWidth"))-A.intval(this.clip.css("borderBottomWidth"));
},index:function(E,F){if(F==null){F=this.options.size;
}return Math.round((((E-1)/F)-Math.floor((E-1)/F))*F)+1;
}});
A.extend({defaults:function(E){return C.extend(D,E||{});
},intval:function(E){E=parseInt(E,10);
return isNaN(E)?0:E;
},windowLoaded:function(){B=true;
}});
C.fn.jcarousel=function(G){if(typeof G=="string"){var E=C(this).data("jcarousel"),F=Array.prototype.slice.call(arguments,1);
return E[G].apply(E,F);
}else{return this.each(function(){var H=C(this).data("jcarousel");
if(H){if(G){C.extend(H.options,G);
}H.reload();
}else{C(this).data("jcarousel",new A(this,G));
}});
}};
})(jQuery);

(function(A){(function(B){B.fn.hoverIntent=function(J,I){var K={sensitivity:7,interval:100,timeout:0};
K=B.extend(K,I?{over:J,out:I}:J);
var M,L,G,E;
var F=function(N){M=N.pageX;
L=N.pageY;
};
var D=function(O,N){N.hoverIntent_t=clearTimeout(N.hoverIntent_t);
if((Math.abs(G-M)+Math.abs(E-L))<K.sensitivity){B(N).unbind("mousemove",F);
N.hoverIntent_s=1;
return K.over.apply(N,[O]);
}else{G=M;
E=L;
N.hoverIntent_t=setTimeout(function(){D(O,N);
},K.interval);
}};
var H=function(O,N){N.hoverIntent_t=clearTimeout(N.hoverIntent_t);
N.hoverIntent_s=0;
return K.out.apply(N,[O]);
};
var C=function(Q){var P=(Q.type=="mouseover"?Q.fromElement:Q.toElement)||Q.relatedTarget;
while(P&&P!=this){try{P=P.parentNode;
}catch(Q){P=this;
}}if(P==this){return false;
}var O=jQuery.extend({},Q);
var N=this;
if(N.hoverIntent_t){N.hoverIntent_t=clearTimeout(N.hoverIntent_t);
}if(Q.type=="mouseover"){G=O.pageX;
E=O.pageY;
B(N).bind("mousemove",F);
if(N.hoverIntent_s!=1){N.hoverIntent_t=setTimeout(function(){D(O,N);
},K.interval);
}}else{B(N).unbind("mousemove",F);
if(N.hoverIntent_s==1){N.hoverIntent_t=setTimeout(function(){H(O,N);
},K.timeout);
}}};
return this.mouseover(C).mouseout(C);
};
})(jQuery);
})(jQuery);

