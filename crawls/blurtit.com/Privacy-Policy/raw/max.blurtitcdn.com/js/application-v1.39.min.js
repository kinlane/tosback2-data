/*! jQuery v1.9.1 | (c) 2005, 2012 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery.min.map
*/(function(e,t){var n,r,i=typeof t,o=e.document,a=e.location,s=e.jQuery,u=e.$,l={},c=[],p="1.9.1",f=c.concat,d=c.push,h=c.slice,g=c.indexOf,m=l.toString,y=l.hasOwnProperty,v=p.trim,b=function(e,t){return new b.fn.init(e,t,r)},x=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=/\S+/g,T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,k=/^[\],:{}\s]*$/,E=/(?:^|:|,)(?:\s*\[)+/g,S=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,A=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,j=/^-ms-/,D=/-([\da-z])/gi,L=function(e,t){return t.toUpperCase()},H=function(e){(o.addEventListener||"load"===e.type||"complete"===o.readyState)&&(q(),b.ready())},q=function(){o.addEventListener?(o.removeEventListener("DOMContentLoaded",H,!1),e.removeEventListener("load",H,!1)):(o.detachEvent("onreadystatechange",H),e.detachEvent("onload",H))};b.fn=b.prototype={jquery:p,constructor:b,init:function(e,n,r){var i,a;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof b?n[0]:n,b.merge(this,b.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:o,!0)),C.test(i[1])&&b.isPlainObject(n))for(i in n)b.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(a=o.getElementById(i[2]),a&&a.parentNode){if(a.id!==i[2])return r.find(e);this.length=1,this[0]=a}return this.context=o,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):b.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),b.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return h.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return b.each(this,e,t)},ready:function(e){return b.ready.promise().done(e),this},slice:function(){return this.pushStack(h.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(b.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:d,sort:[].sort,splice:[].splice},b.fn.init.prototype=b.fn,b.extend=b.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},u=2),"object"==typeof s||b.isFunction(s)||(s={}),l===u&&(s=this,--u);l>u;u++)if(null!=(o=arguments[u]))for(i in o)e=s[i],r=o[i],s!==r&&(c&&r&&(b.isPlainObject(r)||(n=b.isArray(r)))?(n?(n=!1,a=e&&b.isArray(e)?e:[]):a=e&&b.isPlainObject(e)?e:{},s[i]=b.extend(c,a,r)):r!==t&&(s[i]=r));return s},b.extend({noConflict:function(t){return e.$===b&&(e.$=u),t&&e.jQuery===b&&(e.jQuery=s),b},isReady:!1,readyWait:1,holdReady:function(e){e?b.readyWait++:b.ready(!0)},ready:function(e){if(e===!0?!--b.readyWait:!b.isReady){if(!o.body)return setTimeout(b.ready);b.isReady=!0,e!==!0&&--b.readyWait>0||(n.resolveWith(o,[b]),b.fn.trigger&&b(o).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===b.type(e)},isArray:Array.isArray||function(e){return"array"===b.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[m.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==b.type(e)||e.nodeType||b.isWindow(e))return!1;try{if(e.constructor&&!y.call(e,"constructor")&&!y.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||y.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||o;var r=C.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=b.buildFragment([e],t,i),i&&b(i).remove(),b.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=b.trim(n),n&&k.test(n.replace(S,"@").replace(A,"]").replace(E,"")))?Function("return "+n)():(b.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&b.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(j,"ms-").replace(D,L)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,a=M(e);if(n){if(a){for(;o>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(a){for(;o>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:v&&!v.call("\ufeff\u00a0")?function(e){return null==e?"":v.call(e)}:function(e){return null==e?"":(e+"").replace(T,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?b.merge(n,"string"==typeof e?[e]:e):d.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(g)return g.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else while(n[o]!==t)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];if(a)for(;o>i;i++)r=t(e[i],i,n),null!=r&&(s[s.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(s[s.length]=r);return f.apply([],s)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),b.isFunction(e)?(r=h.call(arguments,2),i=function(){return e.apply(n||this,r.concat(h.call(arguments)))},i.guid=e.guid=e.guid||b.guid++,i):t},access:function(e,n,r,i,o,a,s){var u=0,l=e.length,c=null==r;if("object"===b.type(r)){o=!0;for(u in r)b.access(e,n,u,r[u],!0,a,s)}else if(i!==t&&(o=!0,b.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(b(e),n)})),n))for(;l>u;u++)n(e[u],r,s?i:i.call(e[u],u,n(e[u],r)));return o?e:c?n.call(e):l?n(e[0],r):a},now:function(){return(new Date).getTime()}}),b.ready.promise=function(t){if(!n)if(n=b.Deferred(),"complete"===o.readyState)setTimeout(b.ready);else if(o.addEventListener)o.addEventListener("DOMContentLoaded",H,!1),e.addEventListener("load",H,!1);else{o.attachEvent("onreadystatechange",H),e.attachEvent("onload",H);var r=!1;try{r=null==e.frameElement&&o.documentElement}catch(i){}r&&r.doScroll&&function a(){if(!b.isReady){try{r.doScroll("left")}catch(e){return setTimeout(a,50)}q(),b.ready()}}()}return n.promise(t)},b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function M(e){var t=e.length,n=b.type(e);return b.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}r=b(o);var _={};function F(e){var t=_[e]={};return b.each(e.match(w)||[],function(e,n){t[n]=!0}),t}b.Callbacks=function(e){e="string"==typeof e?_[e]||F(e):b.extend({},e);var n,r,i,o,a,s,u=[],l=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=u.length,n=!0;u&&o>a;a++)if(u[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,u&&(l?l.length&&c(l.shift()):r?u=[]:p.disable())},p={add:function(){if(u){var t=u.length;(function i(t){b.each(t,function(t,n){var r=b.type(n);"function"===r?e.unique&&p.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=u.length:r&&(s=t,c(r))}return this},remove:function(){return u&&b.each(arguments,function(e,t){var r;while((r=b.inArray(t,u,r))>-1)u.splice(r,1),n&&(o>=r&&o--,a>=r&&a--)}),this},has:function(e){return e?b.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],this},disable:function(){return u=l=r=t,this},disabled:function(){return!u},lock:function(){return l=t,r||p.disable(),this},locked:function(){return!l},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||i&&!l||(n?l.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},b.extend({Deferred:function(e){var t=[["resolve","done",b.Callbacks("once memory"),"resolved"],["reject","fail",b.Callbacks("once memory"),"rejected"],["notify","progress",b.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return b.Deferred(function(n){b.each(t,function(t,o){var a=o[0],s=b.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&b.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?b.extend(e,r):r}},i={};return r.pipe=r.then,b.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=h.call(arguments),r=n.length,i=1!==r||e&&b.isFunction(e.promise)?r:0,o=1===i?e:b.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?h.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,u,l;if(r>1)for(s=Array(r),u=Array(r),l=Array(r);r>t;t++)n[t]&&b.isFunction(n[t].promise)?n[t].promise().done(a(t,l,n)).fail(o.reject).progress(a(t,u,s)):--i;return i||o.resolveWith(l,n),o.promise()}}),b.support=function(){var t,n,r,a,s,u,l,c,p,f,d=o.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),r=d.getElementsByTagName("a")[0],!n||!r||!n.length)return{};s=o.createElement("select"),l=s.appendChild(o.createElement("option")),a=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==d.className,leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:!!a.value,optSelected:l.selected,enctype:!!o.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==o.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===o.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!l.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}a=o.createElement("input"),a.setAttribute("value",""),t.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","t"),a.setAttribute("name","t"),u=o.createDocumentFragment(),u.appendChild(a),t.appendChecked=a.checked,t.checkClone=u.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(f in{submit:!0,change:!0,focusin:!0})d.setAttribute(c="on"+f,"t"),t[f+"Bubbles"]=c in e||d.attributes[c].expando===!1;return d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip,b(function(){var n,r,a,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",u=o.getElementsByTagName("body")[0];u&&(n=o.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",u.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=d.getElementsByTagName("td"),a[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===a[0].offsetHeight,a[0].style.display="",a[1].style.display="none",t.reliableHiddenOffsets=p&&0===a[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===d.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==u.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(o.createElement("div")),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(u.style.zoom=1)),u.removeChild(n),n=d=a=r=null)}),n=s=u=l=r=a=null,t}();var O=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,B=/([A-Z])/g;function P(e,n,r,i){if(b.acceptData(e)){var o,a,s=b.expando,u="string"==typeof n,l=e.nodeType,p=l?b.cache:e,f=l?e[s]:e[s]&&s;if(f&&p[f]&&(i||p[f].data)||!u||r!==t)return f||(l?e[s]=f=c.pop()||b.guid++:f=s),p[f]||(p[f]={},l||(p[f].toJSON=b.noop)),("object"==typeof n||"function"==typeof n)&&(i?p[f]=b.extend(p[f],n):p[f].data=b.extend(p[f].data,n)),o=p[f],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[b.camelCase(n)]=r),u?(a=o[n],null==a&&(a=o[b.camelCase(n)])):a=o,a}}function R(e,t,n){if(b.acceptData(e)){var r,i,o,a=e.nodeType,s=a?b.cache:e,u=a?e[b.expando]:b.expando;if(s[u]){if(t&&(o=n?s[u]:s[u].data)){b.isArray(t)?t=t.concat(b.map(t,b.camelCase)):t in o?t=[t]:(t=b.camelCase(t),t=t in o?[t]:t.split(" "));for(r=0,i=t.length;i>r;r++)delete o[t[r]];if(!(n?$:b.isEmptyObject)(o))return}(n||(delete s[u].data,$(s[u])))&&(a?b.cleanData([e],!0):b.support.deleteExpando||s!=s.window?delete s[u]:s[u]=null)}}}b.extend({cache:{},expando:"jQuery"+(p+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?b.cache[e[b.expando]]:e[b.expando],!!e&&!$(e)},data:function(e,t,n){return P(e,t,n)},removeData:function(e,t){return R(e,t)},_data:function(e,t,n){return P(e,t,n,!0)},_removeData:function(e,t){return R(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&b.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),b.fn.extend({data:function(e,n){var r,i,o=this[0],a=0,s=null;if(e===t){if(this.length&&(s=b.data(o),1===o.nodeType&&!b._data(o,"parsedAttrs"))){for(r=o.attributes;r.length>a;a++)i=r[a].name,i.indexOf("data-")||(i=b.camelCase(i.slice(5)),W(o,i,s[i]));b._data(o,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){b.data(this,e)}):b.access(this,function(n){return n===t?o?W(o,e,b.data(o,e)):null:(this.each(function(){b.data(this,e,n)}),t)},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){b.removeData(this,e)})}});function W(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(B,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:O.test(r)?b.parseJSON(r):r}catch(o){}b.data(e,n,r)}else r=t}return r}function $(e){var t;for(t in e)if(("data"!==t||!b.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}b.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=b._data(e,n),r&&(!i||b.isArray(r)?i=b._data(e,n,b.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=b.queue(e,t),r=n.length,i=n.shift(),o=b._queueHooks(e,t),a=function(){b.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),o.cur=i,i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return b._data(e,n)||b._data(e,n,{empty:b.Callbacks("once memory").add(function(){b._removeData(e,t+"queue"),b._removeData(e,n)})})}}),b.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?b.queue(this[0],e):n===t?this:this.each(function(){var t=b.queue(this,e,n);b._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&b.dequeue(this,e)})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},delay:function(e,t){return e=b.fx?b.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=b.Deferred(),a=this,s=this.length,u=function(){--i||o.resolveWith(a,[a])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(s--)r=b._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(u));return u(),o.promise(n)}});var I,z,X=/[\t\r\n]/g,U=/\r/g,V=/^(?:input|select|textarea|button|object)$/i,Y=/^(?:a|area)$/i,J=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,G=/^(?:checked|selected)$/i,Q=b.support.getSetAttribute,K=b.support.input;b.fn.extend({attr:function(e,t){return b.access(this,b.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})},prop:function(e,t){return b.access(this,b.prop,e,t,arguments.length>1)},removeProp:function(e){return e=b.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,u="string"==typeof e&&e;if(b.isFunction(e))return this.each(function(t){b(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(w)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(X," "):" ")){o=0;while(i=t[o++])0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=b.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,u=0===arguments.length||"string"==typeof e&&e;if(b.isFunction(e))return this.each(function(t){b(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(w)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(X," "):"")){o=0;while(i=t[o++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?b.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return b.isFunction(e)?this.each(function(n){b(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var o,a=0,s=b(this),u=t,l=e.match(w)||[];while(o=l[a++])u=r?u:!s.hasClass(o),s[u?"addClass":"removeClass"](o)}else(n===i||"boolean"===n)&&(this.className&&b._data(this,"__className__",this.className),this.className=this.className||e===!1?"":b._data(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(X," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=b.isFunction(e),this.each(function(n){var o,a=b(this);1===this.nodeType&&(o=i?e.call(this,n,a.val()):e,null==o?o="":"number"==typeof o?o+="":b.isArray(o)&&(o=b.map(o,function(e){return null==e?"":e+""})),r=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,o,"value")!==t||(this.value=o))});if(o)return r=b.valHooks[o.type]||b.valHooks[o.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(U,""):null==n?"":n)}}}),b.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;for(;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(b.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&b.nodeName(n.parentNode,"optgroup"))){if(t=b(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n=b.makeArray(t);return b(e).find("option").each(function(){this.selected=b.inArray(b(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,r){var o,a,s,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u)return typeof e.getAttribute===i?b.prop(e,n,r):(a=1!==u||!b.isXMLDoc(e),a&&(n=n.toLowerCase(),o=b.attrHooks[n]||(J.test(n)?z:I)),r===t?o&&a&&"get"in o&&null!==(s=o.get(e,n))?s:(typeof e.getAttribute!==i&&(s=e.getAttribute(n)),null==s?t:s):null!==r?o&&a&&"set"in o&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+""),r):(b.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(w);if(o&&1===e.nodeType)while(n=o[i++])r=b.propFix[n]||n,J.test(n)?!Q&&G.test(n)?e[b.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:b.attr(e,n,""),e.removeAttribute(Q?n:r)},attrHooks:{type:{set:function(e,t){if(!b.support.radioValue&&"radio"===t&&b.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!b.isXMLDoc(e),a&&(n=b.propFix[n]||n,o=b.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):V.test(e.nodeName)||Y.test(e.nodeName)&&e.href?0:t}}}}),z={get:function(e,n){var r=b.prop(e,n),i="boolean"==typeof r&&e.getAttribute(n),o="boolean"==typeof r?K&&Q?null!=i:G.test(n)?e[b.camelCase("default-"+n)]:!!i:e.getAttributeNode(n);return o&&o.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?b.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&b.propFix[n]||n,n):e[b.camelCase("default-"+n)]=e[n]=!0,n}},K&&Q||(b.attrHooks.value={get:function(e,n){var r=e.getAttributeNode(n);return b.nodeName(e,"input")?e.defaultValue:r&&r.specified?r.value:t},set:function(e,n,r){return b.nodeName(e,"input")?(e.defaultValue=n,t):I&&I.set(e,n,r)}}),Q||(I=b.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&("id"===n||"name"===n||"coords"===n?""!==r.value:r.specified)?r.value:t},set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},b.attrHooks.contenteditable={get:I.get,set:function(e,t,n){I.set(e,""===t?!1:t,n)}},b.each(["width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}})})),b.support.hrefNormalized||(b.each(["href","src","width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null==r?t:r}})}),b.each(["href","src"],function(e,t){b.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),b.support.style||(b.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),b.support.optSelected||(b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),b.support.enctype||(b.propFix.enctype="encoding"),b.support.checkOn||b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],{set:function(e,n){return b.isArray(n)?e.checked=b.inArray(b(e).val(),n)>=0:t}})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;function it(){return!0}function ot(){return!1}b.event={global:{},add:function(e,n,r,o,a){var s,u,l,c,p,f,d,h,g,m,y,v=b._data(e);if(v){r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=b.guid++),(u=v.events)||(u=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof b===i||e&&b.event.triggered===e.type?t:b.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||"").match(w)||[""],l=n.length;while(l--)s=rt.exec(n[l])||[],g=y=s[1],m=(s[2]||"").split(".").sort(),p=b.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=b.event.special[g]||{},d=b.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&b.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=u[g])||(h=u[g]=[],h.delegateCount=0,p.setup&&p.setup.call(e,o,m,f)!==!1||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent("on"+g,f))),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),b.event.global[g]=!0;e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,p,f,d,h,g,m=b.hasData(e)&&b._data(e);if(m&&(c=m.events)){t=(t||"").match(w)||[""],l=t.length;while(l--)if(s=rt.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){p=b.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;while(o--)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a));u&&!f.length&&(p.teardown&&p.teardown.call(e,h,m.handle)!==!1||b.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)b.event.remove(e,d+t[l],n,r,!0);b.isEmptyObject(c)&&(delete m.handle,b._removeData(e,"events"))}},trigger:function(n,r,i,a){var s,u,l,c,p,f,d,h=[i||o],g=y.call(n,"type")?n.type:n,m=y.call(n,"namespace")?n.namespace.split("."):[];if(l=f=i=i||o,3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+b.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),u=0>g.indexOf(":")&&"on"+g,n=n[b.expando]?n:new b.Event(g,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:b.makeArray(r,[n]),p=b.event.special[g]||{},a||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!a&&!p.noBubble&&!b.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(l=l.parentNode);l;l=l.parentNode)h.push(l),f=l;f===(i.ownerDocument||o)&&h.push(f.defaultView||f.parentWindow||e)}d=0;while((l=h[d++])&&!n.isPropagationStopped())n.type=d>1?c:p.bindType||g,s=(b._data(l,"events")||{})[n.type]&&b._data(l,"handle"),s&&s.apply(l,r),s=u&&l[u],s&&b.acceptData(l)&&s.apply&&s.apply(l,r)===!1&&n.preventDefault();if(n.type=g,!(a||n.isDefaultPrevented()||p._default&&p._default.apply(i.ownerDocument,r)!==!1||"click"===g&&b.nodeName(i,"a")||!b.acceptData(i)||!u||!i[g]||b.isWindow(i))){f=i[u],f&&(i[u]=null),b.event.triggered=g;try{i[g]()}catch(v){}b.event.triggered=t,f&&(i[u]=f)}return n.result}},dispatch:function(e){e=b.event.fix(e);var n,r,i,o,a,s=[],u=h.call(arguments),l=(b._data(this,"events")||{})[e.type]||[],c=b.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=b.event.handlers.call(this,e,l),n=0;while((o=s[n++])&&!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;while((i=o.handlers[a++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((b.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,u),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],u=n.delegateCount,l=e.target;if(u&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(o=[],a=0;u>a;a++)i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?b(r,this).index(l)>=0:b.find(r,this,null,[l]).length),o[r]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return n.length>u&&s.push({elem:this,handlers:n.slice(u)}),s},fix:function(e){if(e[b.expando])return e;var t,n,r,i=e.type,a=e,s=this.fixHooks[i];s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new b.Event(a),t=r.length;while(t--)n=r[t],e[n]=a[n];return e.target||(e.target=a.srcElement||o),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,a,s=n.button,u=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||o,a=i.documentElement,r=i.body,e.pageX=n.clientX+(a&&a.scrollLeft||r&&r.scrollLeft||0)-(a&&a.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(a&&a.scrollTop||r&&r.scrollTop||0)-(a&&a.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&u&&(e.relatedTarget=u===e.target?n.toElement:u),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return b.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t}},focus:{trigger:function(){if(this!==o.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===o.activeElement&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=b.extend(new b.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?b.event.trigger(i,null,t):b.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},b.removeEvent=o.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},b.Event=function(e,n){return this instanceof b.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&b.extend(this,n),this.timeStamp=e&&e.timeStamp||b.now(),this[b.expando]=!0,t):new b.Event(e,n)},b.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;
return(!i||i!==r&&!b.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),b.support.submitBubbles||(b.event.special.submit={setup:function(){return b.nodeName(this,"form")?!1:(b.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=b.nodeName(n,"input")||b.nodeName(n,"button")?n.form:t;r&&!b._data(r,"submitBubbles")&&(b.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),b._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&b.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return b.nodeName(this,"form")?!1:(b.event.remove(this,"._submit"),t)}}),b.support.changeBubbles||(b.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(b.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),b.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),b.event.simulate("change",this,e,!0)})),!1):(b.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!b._data(t,"changeBubbles")&&(b.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||b.event.simulate("change",this.parentNode,e,!0)}),b._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return b.event.remove(this,"._change"),!Z.test(this.nodeName)}}),b.support.focusinBubbles||b.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){b.event.simulate(t,e.target,b.event.fix(e),!0)};b.event.special[t]={setup:function(){0===n++&&o.addEventListener(e,r,!0)},teardown:function(){0===--n&&o.removeEventListener(e,r,!0)}}}),b.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=ot;else if(!i)return this;return 1===o&&(s=i,i=function(e){return b().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=b.guid++)),this.each(function(){b.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,b(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=ot),this.each(function(){b.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){b.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?b.event.trigger(e,n,r,!0):t}}),function(e,t){var n,r,i,o,a,s,u,l,c,p,f,d,h,g,m,y,v,x="sizzle"+-new Date,w=e.document,T={},N=0,C=0,k=it(),E=it(),S=it(),A=typeof t,j=1<<31,D=[],L=D.pop,H=D.push,q=D.slice,M=D.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},_="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=F.replace("w","w#"),B="([*^$|!~]?=)",P="\\["+_+"*("+F+")"+_+"*(?:"+B+_+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+O+")|)|)"+_+"*\\]",R=":("+F+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+P.replace(3,8)+")*)|.*)\\)|)",W=RegExp("^"+_+"+|((?:^|[^\\\\])(?:\\\\.)*)"+_+"+$","g"),$=RegExp("^"+_+"*,"+_+"*"),I=RegExp("^"+_+"*([\\x20\\t\\r\\n\\f>+~])"+_+"*"),z=RegExp(R),X=RegExp("^"+O+"$"),U={ID:RegExp("^#("+F+")"),CLASS:RegExp("^\\.("+F+")"),NAME:RegExp("^\\[name=['\"]?("+F+")['\"]?\\]"),TAG:RegExp("^("+F.replace("w","w*")+")"),ATTR:RegExp("^"+P),PSEUDO:RegExp("^"+R),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+_+"*(even|odd|(([+-]|)(\\d*)n|)"+_+"*(?:([+-]|)"+_+"*(\\d+)|))"+_+"*\\)|)","i"),needsContext:RegExp("^"+_+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+_+"*((?:-\\d)?\\d*)"+_+"*\\)|)(?=[^-]|$)","i")},V=/[\x20\t\r\n\f]*[+~]/,Y=/^[^{]+\{\s*\[native code/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,G=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,K=/'|\\/g,Z=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,et=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,tt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{q.call(w.documentElement.childNodes,0)[0].nodeType}catch(nt){q=function(e){var t,n=[];while(t=this[e++])n.push(t);return n}}function rt(e){return Y.test(e+"")}function it(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>i.cacheLength&&delete e[t.shift()],e[n]=r}}function ot(e){return e[x]=!0,e}function at(e){var t=p.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function st(e,t,n,r){var i,o,a,s,u,l,f,g,m,v;if((t?t.ownerDocument||t:w)!==p&&c(t),t=t||p,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(!d&&!r){if(i=J.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&y(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return H.apply(n,q.call(t.getElementsByTagName(e),0)),n;if((a=i[3])&&T.getByClassName&&t.getElementsByClassName)return H.apply(n,q.call(t.getElementsByClassName(a),0)),n}if(T.qsa&&!h.test(e)){if(f=!0,g=x,m=t,v=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){l=ft(e),(f=t.getAttribute("id"))?g=f.replace(K,"\\$&"):t.setAttribute("id",g),g="[id='"+g+"'] ",u=l.length;while(u--)l[u]=g+dt(l[u]);m=V.test(e)&&t.parentNode||t,v=l.join(",")}if(v)try{return H.apply(n,q.call(m.querySelectorAll(v),0)),n}catch(b){}finally{f||t.removeAttribute("id")}}}return wt(e.replace(W,"$1"),t,n,r)}a=st.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},c=st.setDocument=function(e){var n=e?e.ownerDocument||e:w;return n!==p&&9===n.nodeType&&n.documentElement?(p=n,f=n.documentElement,d=a(n),T.tagNameNoComments=at(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),T.attributes=at(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),T.getByClassName=at(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),T.getByName=at(function(e){e.id=x+0,e.innerHTML="<a name='"+x+"'></a><div name='"+x+"'></div>",f.insertBefore(e,f.firstChild);var t=n.getElementsByName&&n.getElementsByName(x).length===2+n.getElementsByName(x+0).length;return T.getIdNotName=!n.getElementById(x),f.removeChild(e),t}),i.attrHandle=at(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==A&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},T.getIdNotName?(i.find.ID=function(e,t){if(typeof t.getElementById!==A&&!d){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){return e.getAttribute("id")===t}}):(i.find.ID=function(e,n){if(typeof n.getElementById!==A&&!d){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==A&&r.getAttributeNode("id").value===e?[r]:t:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){var n=typeof e.getAttributeNode!==A&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=T.tagNameNoComments?function(e,n){return typeof n.getElementsByTagName!==A?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},i.find.NAME=T.getByName&&function(e,n){return typeof n.getElementsByName!==A?n.getElementsByName(name):t},i.find.CLASS=T.getByClassName&&function(e,n){return typeof n.getElementsByClassName===A||d?t:n.getElementsByClassName(e)},g=[],h=[":focus"],(T.qsa=rt(n.querySelectorAll))&&(at(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||h.push("\\["+_+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||h.push(":checked")}),at(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&h.push("[*^$]="+_+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||h.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),h.push(",.*:")})),(T.matchesSelector=rt(m=f.matchesSelector||f.mozMatchesSelector||f.webkitMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&at(function(e){T.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),g.push("!=",R)}),h=RegExp(h.join("|")),g=RegExp(g.join("|")),y=rt(f.contains)||f.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},v=f.compareDocumentPosition?function(e,t){var r;return e===t?(u=!0,0):(r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&r||e.parentNode&&11===e.parentNode.nodeType?e===n||y(w,e)?-1:t===n||y(w,t)?1:0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t)return u=!0,0;if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:0;if(o===a)return ut(e,t);r=e;while(r=r.parentNode)s.unshift(r);r=t;while(r=r.parentNode)l.unshift(r);while(s[i]===l[i])i++;return i?ut(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0},u=!1,[0,0].sort(v),T.detectDuplicates=u,p):p},st.matches=function(e,t){return st(e,null,null,t)},st.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&c(e),t=t.replace(Z,"='$1']"),!(!T.matchesSelector||d||g&&g.test(t)||h.test(t)))try{var n=m.call(e,t);if(n||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return st(t,p,null,[e]).length>0},st.contains=function(e,t){return(e.ownerDocument||e)!==p&&c(e),y(e,t)},st.attr=function(e,t){var n;return(e.ownerDocument||e)!==p&&c(e),d||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):d||T.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},st.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},st.uniqueSort=function(e){var t,n=[],r=1,i=0;if(u=!T.detectDuplicates,e.sort(v),u){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e};function ut(e,t){var n=t&&e,r=n&&(~t.sourceIndex||j)-(~e.sourceIndex||j);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function lt(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function ct(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pt(e){return ot(function(t){return t=+t,ot(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}o=st.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=o(t);return n},i=st.selectors={cacheLength:50,createPseudo:ot,match:U,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(et,tt),e[3]=(e[4]||e[5]||"").replace(et,tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||st.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&st.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return U.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&z.test(n)&&(t=ft(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(et,tt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=k[e+" "];return t||(t=RegExp("(^|"+_+")"+e+"("+_+"|$)"))&&k(e,function(e){return t.test(e.className||typeof e.getAttribute!==A&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=st.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,p,f,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s;if(m){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){c=m[x]||(m[x]={}),l=c[e]||[],d=l[0]===N&&l[1],f=l[0]===N&&l[2],p=d&&m.childNodes[d];while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if(1===p.nodeType&&++f&&p===t){c[e]=[N,d,f];break}}else if(v&&(l=(t[x]||(t[x]={}))[e])&&l[0]===N)f=l[1];else while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(v&&((p[x]||(p[x]={}))[e]=[N,f]),p===t))break;return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||st.error("unsupported pseudo: "+e);return r[x]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ot(function(e,n){var i,o=r(e,t),a=o.length;while(a--)i=M.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:ot(function(e){var t=[],n=[],r=s(e.replace(W,"$1"));return r[x]?ot(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:ot(function(e){return function(t){return st(e,t).length>0}}),contains:ot(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:ot(function(e){return X.test(e||"")||st.error("unsupported lang: "+e),e=e.replace(et,tt).toLowerCase(),function(t){var n;do if(n=d?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:pt(function(){return[0]}),last:pt(function(e,t){return[t-1]}),eq:pt(function(e,t,n){return[0>n?n+t:n]}),even:pt(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:pt(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:pt(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:pt(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}};for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[n]=lt(n);for(n in{submit:!0,reset:!0})i.pseudos[n]=ct(n);function ft(e,t){var n,r,o,a,s,u,l,c=E[e+" "];if(c)return t?0:c.slice(0);s=e,u=[],l=i.preFilter;while(s){(!n||(r=$.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),n=!1,(r=I.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(W," ")}),s=s.slice(n.length));for(a in i.filter)!(r=U[a].exec(s))||l[a]&&!(r=l[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?st.error(e):E(e,u).slice(0)}function dt(e){var t=0,n=e.length,r="";for(;n>t;t++)r+=e[t].value;return r}function ht(e,t,n){var i=t.dir,o=n&&"parentNode"===i,a=C++;return t.first?function(t,n,r){while(t=t[i])if(1===t.nodeType||o)return e(t,n,r)}:function(t,n,s){var u,l,c,p=N+" "+a;if(s){while(t=t[i])if((1===t.nodeType||o)&&e(t,n,s))return!0}else while(t=t[i])if(1===t.nodeType||o)if(c=t[x]||(t[x]={}),(l=c[i])&&l[0]===p){if((u=l[1])===!0||u===r)return u===!0}else if(l=c[i]=[p],l[1]=e(t,n,s)||r,l[1]===!0)return!0}}function gt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function mt(e,t,n,r,i){var o,a=[],s=0,u=e.length,l=null!=t;for(;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function yt(e,t,n,r,i,o){return r&&!r[x]&&(r=yt(r)),i&&!i[x]&&(i=yt(i,o)),ot(function(o,a,s,u){var l,c,p,f=[],d=[],h=a.length,g=o||xt(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:mt(g,f,e,s,u),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,u),r){l=mt(y,d),r(l,[],s,u),c=l.length;while(c--)(p=l[c])&&(y[d[c]]=!(m[d[c]]=p))}if(o){if(i||e){if(i){l=[],c=y.length;while(c--)(p=y[c])&&l.push(m[c]=p);i(null,y=[],l,u)}c=y.length;while(c--)(p=y[c])&&(l=i?M.call(o,p):f[c])>-1&&(o[l]=!(a[l]=p))}}else y=mt(y===a?y.splice(h,y.length):y),i?i(null,a,y,u):H.apply(a,y)})}function vt(e){var t,n,r,o=e.length,a=i.relative[e[0].type],s=a||i.relative[" "],u=a?1:0,c=ht(function(e){return e===t},s,!0),p=ht(function(e){return M.call(t,e)>-1},s,!0),f=[function(e,n,r){return!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;o>u;u++)if(n=i.relative[e[u].type])f=[ht(gt(f),n)];else{if(n=i.filter[e[u].type].apply(null,e[u].matches),n[x]){for(r=++u;o>r;r++)if(i.relative[e[r].type])break;return yt(u>1&&gt(f),u>1&&dt(e.slice(0,u-1)).replace(W,"$1"),n,r>u&&vt(e.slice(u,r)),o>r&&vt(e=e.slice(r)),o>r&&dt(e))}f.push(n)}return gt(f)}function bt(e,t){var n=0,o=t.length>0,a=e.length>0,s=function(s,u,c,f,d){var h,g,m,y=[],v=0,b="0",x=s&&[],w=null!=d,T=l,C=s||a&&i.find.TAG("*",d&&u.parentNode||u),k=N+=null==T?1:Math.random()||.1;for(w&&(l=u!==p&&u,r=n);null!=(h=C[b]);b++){if(a&&h){g=0;while(m=e[g++])if(m(h,u,c)){f.push(h);break}w&&(N=k,r=++n)}o&&((h=!m&&h)&&v--,s&&x.push(h))}if(v+=b,o&&b!==v){g=0;while(m=t[g++])m(x,y,u,c);if(s){if(v>0)while(b--)x[b]||y[b]||(y[b]=L.call(f));y=mt(y)}H.apply(f,y),w&&!s&&y.length>0&&v+t.length>1&&st.uniqueSort(f)}return w&&(N=k,l=T),x};return o?ot(s):s}s=st.compile=function(e,t){var n,r=[],i=[],o=S[e+" "];if(!o){t||(t=ft(e)),n=t.length;while(n--)o=vt(t[n]),o[x]?r.push(o):i.push(o);o=S(e,bt(i,r))}return o};function xt(e,t,n){var r=0,i=t.length;for(;i>r;r++)st(e,t[r],n);return n}function wt(e,t,n,r){var o,a,u,l,c,p=ft(e);if(!r&&1===p.length){if(a=p[0]=p[0].slice(0),a.length>2&&"ID"===(u=a[0]).type&&9===t.nodeType&&!d&&i.relative[a[1].type]){if(t=i.find.ID(u.matches[0].replace(et,tt),t)[0],!t)return n;e=e.slice(a.shift().value.length)}o=U.needsContext.test(e)?0:a.length;while(o--){if(u=a[o],i.relative[l=u.type])break;if((c=i.find[l])&&(r=c(u.matches[0].replace(et,tt),V.test(a[0].type)&&t.parentNode||t))){if(a.splice(o,1),e=r.length&&dt(a),!e)return H.apply(n,q.call(r,0)),n;break}}}return s(e,p)(r,t,d,n,V.test(e)),n}i.pseudos.nth=i.pseudos.eq;function Tt(){}i.filters=Tt.prototype=i.pseudos,i.setFilters=new Tt,c(),st.attr=b.attr,b.find=st,b.expr=st.selectors,b.expr[":"]=b.expr.pseudos,b.unique=st.uniqueSort,b.text=st.getText,b.isXMLDoc=st.isXML,b.contains=st.contains}(e);var at=/Until$/,st=/^(?:parents|prev(?:Until|All))/,ut=/^.[^:#\[\.,]*$/,lt=b.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({find:function(e){var t,n,r,i=this.length;if("string"!=typeof e)return r=this,this.pushStack(b(e).filter(function(){for(t=0;i>t;t++)if(b.contains(r[t],this))return!0}));for(n=[],t=0;i>t;t++)b.find(e,this[t],n);return n=this.pushStack(i>1?b.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=b(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(b.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e,!1))},filter:function(e){return this.pushStack(ft(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?lt.test(e)?b(e,this.context).index(this[0])>=0:b.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,o=[],a=lt.test(e)||"string"!=typeof e?b(e,t||this.context):0;for(;i>r;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&11!==n.nodeType){if(a?a.index(n)>-1:b.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}}return this.pushStack(o.length>1?b.unique(o):o)},index:function(e){return e?"string"==typeof e?b.inArray(this[0],b(e)):b.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?b(e,t):b.makeArray(e&&e.nodeType?[e]:e),r=b.merge(this.get(),n);return this.pushStack(b.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),b.fn.andSelf=b.fn.addBack;function pt(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}b.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return b.dir(e,"parentNode")},parentsUntil:function(e,t,n){return b.dir(e,"parentNode",n)},next:function(e){return pt(e,"nextSibling")},prev:function(e){return pt(e,"previousSibling")},nextAll:function(e){return b.dir(e,"nextSibling")},prevAll:function(e){return b.dir(e,"previousSibling")},nextUntil:function(e,t,n){return b.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return b.dir(e,"previousSibling",n)},siblings:function(e){return b.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return b.sibling(e.firstChild)},contents:function(e){return b.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:b.merge([],e.childNodes)}},function(e,t){b.fn[e]=function(n,r){var i=b.map(this,t,n);return at.test(e)||(r=n),r&&"string"==typeof r&&(i=b.filter(r,i)),i=this.length>1&&!ct[e]?b.unique(i):i,this.length>1&&st.test(e)&&(i=i.reverse()),this.pushStack(i)}}),b.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?b.find.matchesSelector(t[0],e)?[t[0]]:[]:b.find.matches(e,t)},dir:function(e,n,r){var i=[],o=e[n];while(o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!b(o).is(r)))1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});function ft(e,t,n){if(t=t||0,b.isFunction(t))return b.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return b.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=b.grep(e,function(e){return 1===e.nodeType});if(ut.test(t))return b.filter(t,r,!n);t=b.filter(t,r)}return b.grep(e,function(e){return b.inArray(e,t)>=0===n})}function dt(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+ht+")[\\s/>]","i"),yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,Nt=/^(?:checkbox|radio)$/i,Ct=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:b.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},jt=dt(o),Dt=jt.appendChild(o.createElement("div"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,b.fn.extend({text:function(e){return b.access(this,function(e){return e===t?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(b.isFunction(e))return this.each(function(t){b(this).wrapAll(e.call(this,t))});if(this[0]){var t=b(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return b.isFunction(e)?this.each(function(t){b(this).wrapInner(e.call(this,t))}):this.each(function(){var t=b(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=b.isFunction(e);return this.each(function(n){b(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,"body")||b(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=0;for(;null!=(n=this[r]);r++)(!e||b.filter(e,[n]).length>0)&&(t||1!==n.nodeType||b.cleanData(Ot(n)),n.parentNode&&(t&&b.contains(n.ownerDocument,n)&&Mt(Ot(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&b.cleanData(Ot(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&b.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return b.clone(this,e,t)})},html:function(e){return b.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(gt,""):t;if(!("string"!=typeof e||Tt.test(e)||!b.support.htmlSerialize&&mt.test(e)||!b.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(b.cleanData(Ot(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=b.isFunction(e);return t||"string"==typeof e||(e=b(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(b(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=f.apply([],e);var i,o,a,s,u,l,c=0,p=this.length,d=this,h=p-1,g=e[0],m=b.isFunction(g);if(m||!(1>=p||"string"!=typeof g||b.support.checkClone)&&Ct.test(g))return this.each(function(i){var o=d.eq(i);m&&(e[0]=g.call(this,i,n?o.html():t)),o.domManip(e,n,r)});if(p&&(l=b.buildFragment(e,this[0].ownerDocument,!1,this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(n=n&&b.nodeName(i,"tr"),s=b.map(Ot(l,"script"),Ht),a=s.length;p>c;c++)o=l,c!==h&&(o=b.clone(o,!0,!0),a&&b.merge(s,Ot(o,"script"))),r.call(n&&b.nodeName(this[c],"table")?Lt(this[c],"tbody"):this[c],o,c);if(a)for(u=s[s.length-1].ownerDocument,b.map(s,qt),c=0;a>c;c++)o=s[c],kt.test(o.type||"")&&!b._data(o,"globalEval")&&b.contains(u,o)&&(o.src?b.ajax({url:o.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):b.globalEval((o.text||o.textContent||o.innerHTML||"").replace(St,"")));l=i=null}return this}});function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function Ht(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Mt(e,t){var n,r=0;for(;null!=(n=e[r]);r++)b._data(n,"globalEval",!t||b._data(t[r],"globalEval"))}function _t(e,t){if(1===t.nodeType&&b.hasData(e)){var n,r,i,o=b._data(e),a=b._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)b.event.add(t,n,s[n][r])}a.data&&(a.data=b.extend({},a.data))}}function Ft(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!b.support.noCloneEvent&&t[b.expando]){i=b._data(t);for(r in i.events)b.removeEvent(t,r,i.handle);t.removeAttribute(b.expando)}"script"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),b.support.html5Clone&&e.innerHTML&&!b.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Nt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){b.fn[e]=function(e){var n,r=0,i=[],o=b(e),a=o.length-1;for(;a>=r;r++)n=r===a?this:this.clone(!0),b(o[r])[t](n),d.apply(i,n.get());return this.pushStack(i)}});function Ot(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++)!n||b.nodeName(o,n)?s.push(o):b.merge(s,Ot(o,n));return n===t||n&&b.nodeName(e,n)?b.merge([e],s):s}function Bt(e){Nt.test(e.type)&&(e.defaultChecked=e.checked)}b.extend({clone:function(e,t,n){var r,i,o,a,s,u=b.contains(e.ownerDocument,e);if(b.support.html5Clone||b.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(b.support.noCloneEvent&&b.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||b.isXMLDoc(e)))for(r=Ot(o),s=Ot(e),a=0;null!=(i=s[a]);++a)r[a]&&Ft(i,r[a]);if(t)if(n)for(s=s||Ot(e),r=r||Ot(o),a=0;null!=(i=s[a]);a++)_t(i,r[a]);else _t(e,o);return r=Ot(o,"script"),r.length>0&&Mt(r,!u&&Ot(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){var i,o,a,s,u,l,c,p=e.length,f=dt(t),d=[],h=0;for(;p>h;h++)if(o=e[h],o||0===o)if("object"===b.type(o))b.merge(d,o.nodeType?[o]:o);else if(wt.test(o)){s=s||f.appendChild(t.createElement("div")),u=(bt.exec(o)||["",""])[1].toLowerCase(),c=At[u]||At._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],i=c[0];while(i--)s=s.lastChild;if(!b.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!b.support.tbody){o="table"!==u||xt.test(o)?"<table>"!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;while(i--)b.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l)
}b.merge(d,s.childNodes),s.textContent="";while(s.firstChild)s.removeChild(s.firstChild);s=f.lastChild}else d.push(t.createTextNode(o));s&&f.removeChild(s),b.support.appendChecked||b.grep(Ot(d,"input"),Bt),h=0;while(o=d[h++])if((!r||-1===b.inArray(o,r))&&(a=b.contains(o.ownerDocument,o),s=Ot(f.appendChild(o),"script"),a&&Mt(s),n)){i=0;while(o=s[i++])kt.test(o.type||"")&&n.push(o)}return s=null,f},cleanData:function(e,t){var n,r,o,a,s=0,u=b.expando,l=b.cache,p=b.support.deleteExpando,f=b.event.special;for(;null!=(n=e[s]);s++)if((t||b.acceptData(n))&&(o=n[u],a=o&&l[o])){if(a.events)for(r in a.events)f[r]?b.event.remove(n,r):b.removeEvent(n,r,a.handle);l[o]&&(delete l[o],p?delete n[u]:typeof n.removeAttribute!==i?n.removeAttribute(u):n[u]=null,c.push(o))}}});var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp("^("+x+")(.*)$","i"),Yt=RegExp("^("+x+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+x+")","i"),Gt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--)if(t=en[i]+n,t in e)return t;return r}function nn(e,t){return e=t||e,"none"===b.css(e,"display")||!b.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,o=[],a=0,s=e.length;for(;s>a;a++)r=e[a],r.style&&(o[a]=b._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(o[a]=b._data(r,"olddisplay",un(r.nodeName)))):o[a]||(i=nn(r),(n&&"none"!==n||!i)&&b._data(r,"olddisplay",i?n:b.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}b.fn.extend({css:function(e,n){return b.access(this,function(e,n,r){var i,o,a={},s=0;if(b.isArray(n)){for(o=Rt(e),i=n.length;i>s;s++)a[n[s]]=b.css(e,n[s],!1,o);return a}return r!==t?b.style(e,n,r):b.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:nn(this))?b(this).show():b(this).hide()})}}),b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,u=b.camelCase(n),l=e.style;if(n=b.cssProps[u]||(b.cssProps[u]=tn(l,u)),s=b.cssHooks[n]||b.cssHooks[u],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:l[n];if(a=typeof r,"string"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(b.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||b.cssNumber[u]||(r+="px"),b.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(l[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{l[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,u=b.camelCase(n);return n=b.cssProps[u]||(b.cssProps[u]=tn(e.style,u)),s=b.cssHooks[n]||b.cssHooks[u],s&&"get"in s&&(a=s.get(e,!0,r)),a===t&&(a=Wt(e,n,i)),"normal"===a&&n in Kt&&(a=Kt[n]),""===r||r?(o=parseFloat(a),r===!0||b.isNumeric(o)?o||0:a):a},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),u=s?s.getPropertyValue(n)||s[n]:t,l=e.style;return s&&(""!==u||b.contains(e.ownerDocument,e)||(u=b.style(e,n)),Yt.test(u)&&Ut.test(n)&&(i=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=u,u=s.width,l.width=i,l.minWidth=o,l.maxWidth=a)),u}):o.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),u=s?s[n]:t,l=e.style;return null==u&&l&&l[n]&&(u=l[n]),Yt.test(u)&&!zt.test(n)&&(i=l.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),l.left="fontSize"===n?"1em":u,u=l.pixelLeft+"px",l.left=i,a&&(o.left=a)),""===u?"auto":u});function on(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function an(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;for(;4>o;o+=2)"margin"===n&&(a+=b.css(e,n+Zt[o],!0,i)),r?("content"===n&&(a-=b.css(e,"padding"+Zt[o],!0,i)),"margin"!==n&&(a-=b.css(e,"border"+Zt[o]+"Width",!0,i))):(a+=b.css(e,"padding"+Zt[o],!0,i),"padding"!==n&&(a+=b.css(e,"border"+Zt[o]+"Width",!0,i)));return a}function sn(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Yt.test(i))return i;r=a&&(b.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+an(e,t,n||(a?"border":"content"),r,o)+"px"}function un(e){var t=o,n=Gt[e];return n||(n=ln(e,t),"none"!==n&&n||(Pt=(Pt||b("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=ln(e,t),Pt.detach()),Gt[e]=n),n}function ln(e,t){var n=b(t.createElement(e)).appendTo(t.body),r=b.css(n[0],"display");return n.remove(),r}b.each(["height","width"],function(e,n){b.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(b.css(e,"display"))?b.swap(e,Qt,function(){return sn(e,n,i)}):sn(e,n,i):t},set:function(e,t,r){var i=r&&Rt(e);return on(e,t,r?an(e,n,r,b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,i),i):0)}}}),b.support.opacity||(b.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=b.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===b.trim(o.replace($t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+" "+i)}}),b(function(){b.support.reliableMarginRight||(b.cssHooks.marginRight={get:function(e,n){return n?b.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):t}}),!b.support.pixelPosition&&b.fn.position&&b.each(["top","left"],function(e,n){b.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?b(e).position()[n]+"px":r):t}}})}),b.expr&&b.expr.filters&&(b.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!b.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||b.css(e,"display"))},b.expr.filters.visible=function(e){return!b.expr.filters.hidden(e)}),b.each({margin:"",padding:"",border:"Width"},function(e,t){b.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++)i[e+Zt[r]+t]=o[r]||o[r-2]||o[0];return i}},Ut.test(e)||(b.cssHooks[e+t].set=on)});var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=b.prop(this,"elements");return e?b.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Nt.test(e))}).map(function(e,t){var n=b(this).val();return null==n?null:b.isArray(n)?b.map(n,function(e){return{name:t.name,value:e.replace(fn,"\r\n")}}):{name:t.name,value:n.replace(fn,"\r\n")}}).get()}}),b.param=function(e,n){var r,i=[],o=function(e,t){t=b.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=b.ajaxSettings&&b.ajaxSettings.traditional),b.isArray(e)||e.jquery&&!b.isPlainObject(e))b.each(e,function(){o(this.name,this.value)});else for(r in e)gn(r,e[r],n,o);return i.join("&").replace(cn,"+")};function gn(e,t,n,r){var i;if(b.isArray(t))b.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==b.type(t))r(e,t);else for(i in t)gn(e+"["+i+"]",t[i],n,r)}b.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){b.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),b.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var mn,yn,vn=b.now(),bn=/\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Nn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Cn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=b.fn.load,An={},jn={},Dn="*/".concat("*");try{yn=a.href}catch(Ln){yn=o.createElement("a"),yn.href="",yn=yn.href}mn=En.exec(yn.toLowerCase())||[];function Hn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(w)||[];if(b.isFunction(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qn(e,n,r,i){var o={},a=e===jn;function s(u){var l;return o[u]=!0,b.each(e[u]||[],function(e,u){var c=u(n,r,i);return"string"!=typeof c||a||o[c]?a?!(l=c):t:(n.dataTypes.unshift(c),s(c),!1)}),l}return s(n.dataTypes[0])||!o["*"]&&s("*")}function Mn(e,n){var r,i,o=b.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&b.extend(!0,e,r),e}b.fn.load=function(e,n,r){if("string"!=typeof e&&Sn)return Sn.apply(this,arguments);var i,o,a,s=this,u=e.indexOf(" ");return u>=0&&(i=e.slice(u,e.length),e=e.slice(0,u)),b.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&b.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?b("<div>").append(b.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){b.fn[t]=function(e){return this.on(t,e)}}),b.each(["get","post"],function(e,n){b[n]=function(e,r,i,o){return b.isFunction(r)&&(o=o||i,i=r,r=t),b.ajax({url:e,type:n,dataType:o,data:r,success:i})}}),b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Nn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Mn(Mn(e,b.ajaxSettings),t):Mn(b.ajaxSettings,e)},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,o,a,s,u,l,c,p=b.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?b(f):b.event,h=b.Deferred(),g=b.Callbacks("once memory"),m=p.statusCode||{},y={},v={},x=0,T="canceled",N={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!c){c={};while(t=Tn.exec(a))c[t[1].toLowerCase()]=t[2]}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return x||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)m[t]=[m[t],e[t]];else N.always(e[N.status]);return this},abort:function(e){var t=e||T;return l&&l.abort(t),k(0,t),this}};if(h.promise(N).complete=g.add,N.success=N.done,N.error=N.fail,p.url=((e||p.url||yn)+"").replace(xn,"").replace(kn,mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=b.trim(p.dataType||"*").toLowerCase().match(w)||[""],null==p.crossDomain&&(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?80:443))==(mn[3]||("http:"===mn[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=b.param(p.data,p.traditional)),qn(An,p,n,N),2===x)return N;u=p.global,u&&0===b.active++&&b.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Cn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wn.test(o)?o.replace(wn,"$1_="+vn++):o+(bn.test(o)?"&":"?")+"_="+vn++)),p.ifModified&&(b.lastModified[o]&&N.setRequestHeader("If-Modified-Since",b.lastModified[o]),b.etag[o]&&N.setRequestHeader("If-None-Match",b.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&N.setRequestHeader("Content-Type",p.contentType),N.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dn+"; q=0.01":""):p.accepts["*"]);for(i in p.headers)N.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(p.beforeSend.call(f,N,p)===!1||2===x))return N.abort();T="abort";for(i in{success:1,error:1,complete:1})N[i](p[i]);if(l=qn(jn,p,n,N)){N.readyState=1,u&&d.trigger("ajaxSend",[N,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){N.abort("timeout")},p.timeout));try{x=1,l.send(y,k)}catch(C){if(!(2>x))throw C;k(-1,C)}}else k(-1,"No Transport");function k(e,n,r,i){var c,y,v,w,T,C=n;2!==x&&(x=2,s&&clearTimeout(s),l=t,a=i||"",N.readyState=e>0?4:0,r&&(w=_n(p,N,r)),e>=200&&300>e||304===e?(p.ifModified&&(T=N.getResponseHeader("Last-Modified"),T&&(b.lastModified[o]=T),T=N.getResponseHeader("etag"),T&&(b.etag[o]=T)),204===e?(c=!0,C="nocontent"):304===e?(c=!0,C="notmodified"):(c=Fn(p,w),C=c.state,y=c.data,v=c.error,c=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),N.status=e,N.statusText=(n||C)+"",c?h.resolveWith(f,[y,C,N]):h.rejectWith(f,[N,C,v]),N.statusCode(m),m=t,u&&d.trigger(c?"ajaxSuccess":"ajaxError",[N,p,c?y:v]),g.fireWith(f,[N,C]),u&&(d.trigger("ajaxComplete",[N,p]),--b.active||b.event.trigger("ajaxStop")))}return N},getScript:function(e,n){return b.get(e,t,n,"script")},getJSON:function(e,t,n){return b.get(e,t,n,"json")}});function _n(e,n,r){var i,o,a,s,u=e.contents,l=e.dataTypes,c=e.responseFields;for(s in c)s in r&&(n[c[s]]=r[s]);while("*"===l[0])l.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in u)if(u[s]&&u[s].test(o)){l.unshift(s);break}if(l[0]in r)a=l[0];else{for(s in r){if(!l[0]||e.converters[s+" "+l[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==l[0]&&l.unshift(a),r[a]):t}function Fn(e,t){var n,r,i,o,a={},s=0,u=e.dataTypes.slice(),l=u[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u[1])for(i in e.converters)a[i.toLowerCase()]=e.converters[i];for(;r=u[++s];)if("*"!==r){if("*"!==l&&l!==r){if(i=a[l+" "+r]||a["* "+r],!i)for(n in a)if(o=n.split(" "),o[1]===r&&(i=a[l+" "+o[0]]||a["* "+o[0]])){i===!0?i=a[n]:a[n]!==!0&&(r=o[0],u.splice(s--,0,r));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(c){return{state:"parsererror",error:i?c:"No conversion from "+l+" to "+r}}}l=r}return{state:"success",data:t}}b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return b.globalEval(e),e}}}),b.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),b.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=o.head||b("head")[0]||o.documentElement;return{send:function(t,i){n=o.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var On=[],Bn=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=On.pop()||b.expando+"_"+vn++;return this[e]=!0,e}}),b.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,u=n.jsonp!==!1&&(Bn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");return u||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=b.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,u?n[u]=n[u].replace(Bn,"$1"+o):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||b.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,On.push(o)),s&&b.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Pn,Rn,Wn=0,$n=e.ActiveXObject&&function(){var e;for(e in Pn)Pn[e](t,!0)};function In(){try{return new e.XMLHttpRequest}catch(t){}}function zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}b.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&In()||zn()}:In,Rn=b.ajaxSettings.xhr(),b.support.cors=!!Rn&&"withCredentials"in Rn,Rn=b.support.ajax=!!Rn,Rn&&b.ajaxTransport(function(n){if(!n.crossDomain||b.support.cors){var r;return{send:function(i,o){var a,s,u=n.xhr();if(n.username?u.open(n.type,n.url,n.async,n.username,n.password):u.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)u[s]=n.xhrFields[s];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)u.setRequestHeader(s,i[s])}catch(l){}u.send(n.hasContent&&n.data||null),r=function(e,i){var s,l,c,p;try{if(r&&(i||4===u.readyState))if(r=t,a&&(u.onreadystatechange=b.noop,$n&&delete Pn[a]),i)4!==u.readyState&&u.abort();else{p={},s=u.status,l=u.getAllResponseHeaders(),"string"==typeof u.responseText&&(p.text=u.responseText);try{c=u.statusText}catch(f){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(d){i||o(-1,d)}p&&o(s,c,p,l)},n.async?4===u.readyState?setTimeout(r):(a=++Wn,$n&&(Pn||(Pn={},b(e).unload($n)),Pn[a]=r),u.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp("^(?:([+-])=|)("+x+")([a-z%]*)$","i"),Jn=/queueHooks$/,Gn=[nr],Qn={"*":[function(e,t){var n,r,i=this.createTween(e,t),o=Yn.exec(t),a=i.cur(),s=+a||0,u=1,l=20;if(o){if(n=+o[2],r=o[3]||(b.cssNumber[e]?"":"px"),"px"!==r&&s){s=b.css(i.elem,e,!0)||n||1;do u=u||".5",s/=u,b.style(i.elem,e,s+r);while(u!==(u=i.cur()/a)&&1!==u&&--l)}i.unit=r,i.start=s,i.end=o[1]?s+(o[1]+1)*n:n}return i}]};function Kn(){return setTimeout(function(){Xn=t}),Xn=b.now()}function Zn(e,t){b.each(t,function(t,n){var r=(Qn[t]||[]).concat(Qn["*"]),i=0,o=r.length;for(;o>i;i++)if(r[i].call(e,t,n))return})}function er(e,t,n){var r,i,o=0,a=Gn.length,s=b.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;var t=Xn||Kn(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;for(;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:b.extend({},t),opts:b.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=b.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(tr(c,l.opts.specialEasing);a>o;o++)if(r=Gn[o].call(l,e,c,l.opts))return r;return Zn(l,c),b.isFunction(l.opts.start)&&l.opts.start.call(e,l),b.fx.timer(b.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function tr(e,t){var n,r,i,o,a;for(i in e)if(r=b.camelCase(i),o=t[r],n=e[i],b.isArray(n)&&(o=n[1],n=e[i]=n[0]),i!==r&&(e[r]=n,delete e[i]),a=b.cssHooks[r],a&&"expand"in a){n=a.expand(n),delete e[r];for(i in n)i in e||(e[i]=n[i],t[i]=o)}else t[r]=o}b.Animation=b.extend(er,{tweener:function(e,t){b.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}});function nr(e,t,n){var r,i,o,a,s,u,l,c,p,f=this,d=e.style,h={},g=[],m=e.nodeType&&nn(e);n.queue||(c=b._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,p=c.empty.fire,c.empty.fire=function(){c.unqueued||p()}),c.unqueued++,f.always(function(){f.always(function(){c.unqueued--,b.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===b.css(e,"display")&&"none"===b.css(e,"float")&&(b.support.inlineBlockNeedsLayout&&"inline"!==un(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",b.support.shrinkWrapBlocks||f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in t)if(a=t[i],Vn.exec(a)){if(delete t[i],u=u||"toggle"===a,a===(m?"hide":"show"))continue;g.push(i)}if(o=g.length){s=b._data(e,"fxshow")||b._data(e,"fxshow",{}),"hidden"in s&&(m=s.hidden),u&&(s.hidden=!m),m?b(e).show():f.done(function(){b(e).hide()}),f.done(function(){var t;b._removeData(e,"fxshow");for(t in h)b.style(e,t,h[t])});for(i=0;o>i;i++)r=g[i],l=f.createTween(r,m?s[r]:0),h[r]=s[r]||b.style(e,r),r in s||(s[r]=l.start,m&&(l.end=l.start,l.start="width"===r||"height"===r?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}b.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(b.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=b.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){b.fx.step[e.prop]?b.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[b.cssProps[e.prop]]||b.cssHooks[e.prop])?b.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},b.each(["toggle","show","hide"],function(e,t){var n=b.fn[t];b.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),b.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=b.isEmptyObject(e),o=b.speed(t,n,r),a=function(){var t=er(this,b.extend({},e),o);a.finish=function(){t.stop(!0)},(i||b._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=b.timers,a=b._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Jn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&b.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=b._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=b.timers,a=r?r.length:0;for(n.finish=!0,b.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}});function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Zt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}b.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){b.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),b.speed=function(e,t,n){var r=e&&"object"==typeof e?b.extend({},e):{complete:n||!n&&t||b.isFunction(e)&&e,duration:e,easing:n&&t||t&&!b.isFunction(t)&&t};return r.duration=b.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in b.fx.speeds?b.fx.speeds[r.duration]:b.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){b.isFunction(r.old)&&r.old.call(this),r.queue&&b.dequeue(this,r.queue)},r},b.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},b.timers=[],b.fx=rr.prototype.init,b.fx.tick=function(){var e,n=b.timers,r=0;for(Xn=b.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||b.fx.stop(),Xn=t},b.fx.timer=function(e){e()&&b.timers.push(e)&&b.fx.start()},b.fx.interval=13,b.fx.start=function(){Un||(Un=setInterval(b.fx.tick,b.fx.interval))},b.fx.stop=function(){clearInterval(Un),Un=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fx.step={},b.expr&&b.expr.filters&&(b.expr.filters.animated=function(e){return b.grep(b.timers,function(t){return e===t.elem}).length}),b.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){b.offset.setOffset(this,e,t)});var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s)return n=s.documentElement,b.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o},b.offset={setOffset:function(e,t,n){var r=b.css(e,"position");"static"===r&&(e.style.position="relative");var i=b(e),o=i.offset(),a=b.css(e,"top"),s=b.css(e,"left"),u=("absolute"===r||"fixed"===r)&&b.inArray("auto",[a,s])>-1,l={},c={},p,f;u?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),b.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(l.top=t.top-o.top+p),null!=t.left&&(l.left=t.left-o.left+f),"using"in t?t.using.call(e,l):i.css(l)}},b.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===b.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),b.nodeName(e[0],"html")||(n=e.offset()),n.top+=b.css(e[0],"borderTopWidth",!0),n.left+=b.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-b.css(r,"marginTop",!0),left:t.left-n.left-b.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||o.documentElement;while(e&&!b.nodeName(e,"html")&&"static"===b.css(e,"position"))e=e.offsetParent;return e||o.documentElement})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);b.fn[e]=function(i){return b.access(this,function(e,i,o){var a=or(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?b(a).scrollLeft():o,r?o:b(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}});function or(e){return b.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}b.each({Height:"height",Width:"width"},function(e,n){b.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){b.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return b.access(this,function(n,r,i){var o;return b.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?b.css(n,r,s):b.style(n,r,i,s)},n,a?i:t,a,null)}})}),e.jQuery=e.$=b,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return b})})(window);
/*! =============================================================
 * bootstrap-transition.js v2.2.2
 * http://twitter.github.com/bootstrap/javascript.html#typeahead
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(c){c(function(){var e=c.support,a;a:{a=document.createElement("bootstrap");var d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},b;for(b in d)if(void 0!==a.style[b]){a=d[b];break a}a=void 0}e.transition=a&&{end:a}})}(window.jQuery);
/*! =============================================================
 * bootstrap-collapse.js v2.2.2
 * http://twitter.github.com/bootstrap/javascript.html#typeahead
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(b){var f=function(a,c){this.$element=b(a);this.options=b.extend({},b.fn.collapse.defaults,c);this.options.parent&&(this.$parent=b(this.options.parent));this.options.toggle&&this.toggle()};f.prototype={constructor:f,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var a,c,d,e;if(!this.transitioning){a=this.dimension();c=b.camelCase(["scroll",a].join("-"));if((d=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&d.length){if((e=d.data("collapse"))&&
e.transitioning)return;d.collapse("hide");e||d.data("collapse",null)}this.$element[a](0);this.transition("addClass",b.Event("show"),"shown");b.support.transition&&this.$element[a](this.$element[0][c])}},hide:function(){var a;this.transitioning||(a=this.dimension(),this.reset(this.$element[a]()),this.transition("removeClass",b.Event("hide"),"hidden"),this.$element[a](0))},reset:function(a){var b=this.dimension();this.$element.removeClass("collapse")[b](a||"auto")[0].offsetWidth;this.$element[null!==
a?"addClass":"removeClass"]("collapse");return this},transition:function(a,c,d){var e=this,f=function(){"show"==c.type&&e.reset();e.transitioning=0;e.$element.trigger(d)};this.$element.trigger(c);c.isDefaultPrevented()||(this.transitioning=1,this.$element[a]("in"),b.support.transition&&this.$element.hasClass("collapse")?this.$element.one(b.support.transition.end,f):f())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var g=b.fn.collapse;b.fn.collapse=function(a){return this.each(function(){var c=
b(this),d=c.data("collapse"),e="object"==typeof a&&a;d||c.data("collapse",d=new f(this,e));if("string"==typeof a)d[a]()})};b.fn.collapse.defaults={toggle:!0};b.fn.collapse.Constructor=f;b.fn.collapse.noConflict=function(){b.fn.collapse=g;return this};b(document).on("click.collapse.data-api","[data-toggle=collapse]",function(a){var c=b(this),d;a=c.attr("data-target")||a.preventDefault()||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"");d=b(a).data("collapse")?"toggle":c.data();c[b(a).hasClass("in")?
"addClass":"removeClass"]("collapsed");b(a).collapse(d)})}(window.jQuery);
/*! =============================================================
 * bootstrap-modal.js v2.2.2
 * http://twitter.github.com/bootstrap/javascript.html#typeahead
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";function n(){var e=0;if(window.innerHeight){e=window.pageYOffset}else{if(doc.documentElement&&doc.documentElement.scrollTop){e=doc.documentElement.scrollTop}else{if(doc.body){e=doc.body.scrollTop}}}return parseInt(e,10)}var t=function(t,n){this.options=n;this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var t=this,r=e.Event("show");this.$element.trigger(r);if(this.isShown||r.isDefaultPrevented())return;this.isShown=true;this.escape();this.backdrop(function(){var r=e.support.transition&&t.$element.hasClass("fade");if(!t.$element.parent().length){t.$element.appendTo(document.body)}t.$element.show();if(r){t.$element[0].offsetWidth}t.$element.css({top:n()-100+"px"}).animate({top:n()+30+"px"},500);t.$element.addClass("in").attr("aria-hidden",false);t.enforceFocus();r?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")})},hide:function(t){t&&t.preventDefault();var n=this;t=e.Event("hide");this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=false;this.escape();e(document).off("focusin.modal");this.$element.removeClass("in").removeAttr("style").attr("aria-hidden",true);e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){if(t.$element[0]!==e.target&&!t.$element.has(e.target).length){t.$element.focus()}})},escape:function(){var e=this;if(this.isShown&&this.options.keyboard){this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()})}else if(!this.isShown){this.$element.off("keyup.dismiss.modal")}},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end);t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n);t.hideModal()})},hideModal:function(e){this.$element.hide().trigger("hidden");this.backdrop()},removeBackdrop:function(){this.$backdrop.remove();this.$backdrop=null},backdrop:function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body);this.$backdrop.click(this.options.backdrop=="static"?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this));if(i)this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");i?this.$backdrop.one(e.support.transition.end,t):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()}else if(t){t()}}};var r=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);if(!i)r.data("modal",i=new t(this,s));if(typeof n=="string")i[n]();else if(s.show)i.show()})};e.fn.modal.defaults={backdrop:true,keyboard:true,show:true};e.fn.modal.Constructor=t;e.fn.modal.noConflict=function(){e.fn.modal=r;return this};e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault();i.modal(s).one("hide",function(){n.focus()})})}(window.jQuery);/*! =============================================================
 * bootstrap-typeahead.js v2.2.2
 * http://twitter.github.com/bootstrap/javascript.html#typeahead
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(c){var f=function(a,b){this.$element=c(a);this.options=c.extend({},c.fn.typeahead.defaults,b);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.source=this.options.source;this.$menu=c(this.options.menu);this.shown=!1;this.listen()};f.prototype={constructor:f,select:function(){var a=this.$menu.find(".active").attr("data-value");this.$element.val(this.updater(a)).change();
return this.hide()},updater:function(a){return a},show:function(){var a=c.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});this.$menu.insertAfter(this.$element).css({top:a.top+a.height,left:a.left}).show();this.shown=!0;return this},hide:function(){this.$menu.hide();this.shown=!1;return this},lookup:function(){var a;this.query=this.$element.val();return!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(a=c.isFunction(this.source)?this.source(this.query,
c.proxy(this.process,this)):this.source)?this.process(a):this},process:function(a){var b=this;a=c.grep(a,function(a){return b.matcher(a)});a=this.sorter(a);return!a.length?this.shown?this.hide():this:this.render(a.slice(0,this.options.items)).show()},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){for(var b=[],c=[],d=[],e;e=a.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?c.push(e):d.push(e):b.push(e);return b.concat(c,
d)},highlighter:function(a){var b=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(a){var b=this;a=c(a).map(function(a,d){a=c(b.options.item).attr("data-value",d);a.find("a").html(b.highlighter(d));return a[0]});!0===b.autoSelect&&a.first().addClass("active");this.$menu.html(a);return this},next:function(){var a=this.$menu.find(".active"),b=this.$menu.find(".active").removeClass("active").next();
if((!0===this.autoSelect||!a.length)&&!b.length)b=c(this.$menu.find("li")[0]);b.length&&b.addClass("active")},prev:function(){var a=this.$menu.find(".active"),b=this.$menu.find(".active").removeClass("active").prev();if((!0===this.autoSelect||!a.length)&&!b.length)b=this.$menu.find("li").last();b.length&&b.addClass("active")},listen:function(){this.$element.on("blur",c.proxy(this.blur,this)).on("keypress",c.proxy(this.keypress,this)).on("keyup",c.proxy(this.keyup,this));if(this.eventSupported("keydown"))this.$element.on("keydown",
c.proxy(this.keydown,this));this.$menu.on("click",c.proxy(this.click,this)).on("mouseenter","li",c.proxy(this.mouseenter,this))},eventSupported:function(a){var b=a in this.$element;b||(this.$element.setAttribute(a,"return;"),b="function"===typeof this.$element[a]);return b},move:function(a){if(this.shown){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault();this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()}},keydown:function(a){this.suppressKeyPressRepeat=
~c.inArray(a.keyCode,[40,38,9,13,27]);this.move(a)},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation();a.preventDefault()},blur:function(){var a=this;setTimeout(function(){a.hide()},150)},click:function(a){a.stopPropagation();a.preventDefault();this.select()},
mouseenter:function(a){this.$menu.find(".active").removeClass("active");c(a.currentTarget).addClass("active")}};var h=c.fn.typeahead;c.fn.typeahead=function(a){return this.each(function(){var b=c(this),g=b.data("typeahead"),d="object"==typeof a&&a;g||b.data("typeahead",g=new f(this,d));if("string"==typeof a)g[a]()})};c.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1,autoSelect:!0};c.fn.typeahead.Constructor=f;c.fn.typeahead.noConflict=
function(){c.fn.typeahead=h;return this};c(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(a){var b=c(this);b.data("typeahead")||(a.preventDefault(),b.typeahead(b.data()))})}(window.jQuery);
var rwindow,rdocument;if("undefined"===typeof RELANG)var RELANG={};
var RLANG={html:"HTML",video:"Insert Video",image:"Insert Image",table:"Table",link:"Link",link_insert:"Insert link",unlink:"Unlink",formatting:"Formatting",paragraph:"Paragraph",quote:"Quote",code:"Code",header1:"Header 1",header2:"Header 2",header3:"Header 3",header4:"Header 4",bold:"Bold",italic:"Italic",fontcolor:"Font Color",backcolor:"Back Color",unorderedlist:"Unordered List",orderedlist:"Ordered List",outdent:"Outdent",indent:"Indent",cancel:"Cancel",insert:"Insert",save:"Save",_delete:"Delete",
insert_table:"Insert Table",insert_row_above:"Add Row Above",insert_row_below:"Add Row Below",insert_column_left:"Add Column Left",insert_column_right:"Add Column Right",delete_column:"Delete Column",delete_row:"Delete Row",delete_table:"Delete Table",rows:"Rows",columns:"Columns",add_head:"Add Head",delete_head:"Delete Head",title:"Title",image_position:"Position",none:"None",left:"Left",right:"Right",image_web_link:"Image Web Link",text:"Text",mailto:"Email",web:"URL",video_html_code:"Video Embed Code",
file:"Insert File",upload:"Upload",download:"Download",choose:"Choose",or_choose:"Or choose",drop_file_here:"Drop file here",align_left:"Align text to the left",align_center:"Center text",align_right:"Align text to the right",align_justify:"Justify text",horizontalrule:"Insert Horizontal Rule",deleted:"Deleted",anchor:"Anchor",link_new_tab:"Open link in new tab",underline:"Underline",alignment:"Alignment"};
(function(b){jQuery.fn.redactor=function(a){return this.each(function(){var c=b(this);c.data("redactor")||c.data("redactor",new h(this,a))})};var h=function(a,c){this.$el=b(a);"undefined"!==typeof c&&("undefined"!==typeof c.lang&&"en"!==c.lang&&"undefined"!==typeof RELANG[c.lang])&&(RLANG=RELANG[c.lang]);this.opts=b.extend({iframe:!1,css:!1,lang:"en",direction:"ltr",callback:!1,keyupCallback:!1,keydownCallback:!1,execCommandCallback:!1,plugins:!1,cleanup:!0,focus:!1,tabindex:!1,autoresize:!0,minHeight:!1,
fixed:!1,fixedTop:0,fixedBox:!1,source:!0,shortcuts:!0,mobile:!0,air:!1,wym:!1,convertLinks:!0,convertDivs:!0,protocol:"http://",autosave:!1,autosaveCallback:!1,interval:60,imageGetJson:!1,imageUpload:!1,imageUploadCallback:!1,imageUploadErrorCallback:!1,fileUpload:!1,fileUploadCallback:!1,fileUploadErrorCallback:!1,uploadCrossDomain:!1,uploadFields:!1,observeImages:!0,overlay:!0,allowedTags:"form input button select option datalist output textarea fieldset legend section header hgroup aside footer article details nav progress time canvas code span div label a br p b i del strike u img video source track audio iframe object embed param blockquote mark cite small ul ol li hr dl dt dd sup sub big pre code figure figcaption strong em table tr td th tbody thead tfoot h1 h2 h3 h4 h5 h6".split(" "),
toolbarExternal:!1,buttonsCustom:{},buttonsAdd:[],buttons:"html | formatting | bold italic deleted | unorderedlist orderedlist outdent indent | image video file table link | fontcolor backcolor | alignment | horizontalrule".split(" "),airButtons:"formatting | bold italic deleted | unorderedlist orderedlist outdent indent | fontcolor backcolor".split(" "),formattingTags:"p blockquote pre h1 h2 h3 h4".split(" "),activeButtons:"deleted italic bold underline unorderedlist orderedlist".split(" "),activeButtonsStates:{b:"bold",
strong:"bold",i:"italic",em:"italic",del:"deleted",strike:"deleted",ul:"unorderedlist",ol:"orderedlist",u:"underline"},colors:"#ffffff #000000 #eeece1 #1f497d #4f81bd #c0504d #9bbb59 #8064a2 #4bacc6 #f79646 #ffff00 #f2f2f2 #7f7f7f #ddd9c3 #c6d9f0 #dbe5f1 #f2dcdb #ebf1dd #e5e0ec #dbeef3 #fdeada #fff2ca #d8d8d8 #595959 #c4bd97 #8db3e2 #b8cce4 #e5b9b7 #d7e3bc #ccc1d9 #b7dde8 #fbd5b5 #ffe694 #bfbfbf #3f3f3f #938953 #548dd4 #95b3d7 #d99694 #c3d69b #b2a2c7 #b7dde8 #fac08f #f2c314 #a5a5a5 #262626 #494429 #17365d #366092 #953734 #76923c #5f497a #92cddc #e36c09 #c09100 #7f7f7f #0c0c0c #1d1b10 #0f243e #244061 #632423 #4f6128 #3f3151 #31859b #974806 #7f6000".split(" "),
emptyHtml:"<p><br /></p>",buffer:!1,visual:!0,modal_file:String()+'<div id="redactor_modal_content"><form id="redactorUploadFileForm" method="post" action="" enctype="multipart/form-data"><label>Name (optional)</label><input type="text" id="redactor_filename" class="redactor_input" /><div style="margin-top: 7px;"><input type="file" id="redactor_file" name="file" /></div></form><br></div>',modal_image_edit:String()+'<div id="redactor_modal_content"><label>'+RLANG.title+'</label><input id="redactor_file_alt" class="redactor_input" /><label>'+
RLANG.link+'</label><input id="redactor_file_link" class="redactor_input" /><label>'+RLANG.image_position+'</label><select id="redactor_form_image_align"><option value="none">'+RLANG.none+'</option><option value="left">'+RLANG.left+'</option><option value="right">'+RLANG.right+'</option></select></div><div id="redactor_modal_footer"><a href="javascript:void(null);" id="redactor_image_delete_btn" class="redactor_modal_btn">'+RLANG._delete+'</a>&nbsp;&nbsp;&nbsp;<a href="javascript:void(null);" class="redactor_modal_btn redactor_btn_modal_close">'+
RLANG.cancel+'</a><input type="button" name="save" class="redactor_modal_btn" id="redactorSaveBtn" value="'+RLANG.save+'" /></div>',modal_image:String()+'<div id="redactor_modal_content"><div id="redactor_tabs"><a href="javascript:void(null);" class="redactor_tabs_act">'+RLANG.upload+'</a><a href="javascript:void(null);">'+RLANG.choose+'</a><a href="javascript:void(null);">'+RLANG.link+'</a></div><form id="redactorInsertImageForm" method="post" action="" enctype="multipart/form-data"><div id="redactor_tab1" class="redactor_tab"><input type="file" id="redactor_file" name="file" /></div><div id="redactor_tab2" class="redactor_tab" style="display: none;"><div id="redactor_image_box"></div></div></form><div id="redactor_tab3" class="redactor_tab" style="display: none;"><label>'+
RLANG.image_web_link+'</label><input type="text" name="redactor_file_link" id="redactor_file_link" class="redactor_input"  /></div></div><div id="redactor_modal_footer"><a href="javascript:void(null);" class="redactor_modal_btn redactor_btn_modal_close">'+RLANG.cancel+'</a><input type="button" name="upload" class="redactor_modal_btn" id="redactor_upload_btn" value="'+RLANG.insert+'" /></div>',modal_link:String()+'<div id="redactor_modal_content"><form id="redactorInsertLinkForm" method="post" action=""><div id="redactor_tabs"><a href="javascript:void(null);" class="redactor_tabs_act">URL</a><a href="javascript:void(null);">Email</a><a href="javascript:void(null);">'+
RLANG.anchor+'</a></div><input type="hidden" id="redactor_tab_selected" value="1" /><div class="redactor_tab" id="redactor_tab1"><label>URL</label><input type="text" id="redactor_link_url" class="redactor_input"  /><label>'+RLANG.text+'</label><input type="text" class="redactor_input redactor_link_text" id="redactor_link_url_text" /><label><input type="checkbox" id="redactor_link_blank"> '+RLANG.link_new_tab+'</label></div><div class="redactor_tab" id="redactor_tab2" style="display: none;"><label>Email</label><input type="text" id="redactor_link_mailto" class="redactor_input" /><label>'+
RLANG.text+'</label><input type="text" class="redactor_input redactor_link_text" id="redactor_link_mailto_text" /></div><div class="redactor_tab" id="redactor_tab3" style="display: none;"><label>'+RLANG.anchor+'</label><input type="text" class="redactor_input" id="redactor_link_anchor"  /><label>'+RLANG.text+'</label><input type="text" class="redactor_input redactor_link_text" id="redactor_link_anchor_text" /></div></form></div><div id="redactor_modal_footer"><a href="javascript:void(null);" class="redactor_modal_btn redactor_btn_modal_close">'+
RLANG.cancel+'</a><input type="button" class="redactor_modal_btn" id="redactor_insert_link_btn" value="'+RLANG.insert+'" /></div>',modal_table:String()+'<div id="redactor_modal_content"><label>'+RLANG.rows+'</label><input type="text" size="5" value="2" id="redactor_table_rows" /><label>'+RLANG.columns+'</label><input type="text" size="5" value="3" id="redactor_table_columns" /></div><div id="redactor_modal_footer"><a href="javascript:void(null);" class="redactor_modal_btn redactor_btn_modal_close">'+
RLANG.cancel+'</a><input type="button" name="upload" class="redactor_modal_btn" id="redactor_insert_table_btn" value="'+RLANG.insert+'" /></div>',modal_video:String()+'<div id="redactor_modal_content"><form id="redactorInsertVideoForm"><label>'+RLANG.video_html_code+'</label><textarea id="redactor_insert_video_area" style="width: 99%; height: 160px;"></textarea></form></div><div id="redactor_modal_footer"><a href="javascript:void(null);" class="redactor_modal_btn redactor_btn_modal_close">'+RLANG.cancel+
'</a><input type="button" class="redactor_modal_btn" id="redactor_insert_video_btn" value="'+RLANG.insert+'" /></div>',toolbar:{html:{title:RLANG.html,func:"toggle"},formatting:{title:RLANG.formatting,func:"show",dropdown:{p:{title:RLANG.paragraph,exec:"formatblock"},blockquote:{title:RLANG.quote,exec:"formatblock",className:"redactor_format_blockquote"},pre:{title:RLANG.code,exec:"formatblock",className:"redactor_format_pre"},h1:{title:RLANG.header1,exec:"formatblock",className:"redactor_format_h1"},
h2:{title:RLANG.header2,exec:"formatblock",className:"redactor_format_h2"},h3:{title:RLANG.header3,exec:"formatblock",className:"redactor_format_h3"},h4:{title:RLANG.header4,exec:"formatblock",className:"redactor_format_h4"}}},bold:{title:RLANG.bold,exec:"bold"},italic:{title:RLANG.italic,exec:"italic"},deleted:{title:RLANG.deleted,exec:"strikethrough"},underline:{title:RLANG.underline,exec:"underline"},unorderedlist:{title:"&bull; "+RLANG.unorderedlist,exec:"insertunorderedlist"},orderedlist:{title:"1. "+
RLANG.orderedlist,exec:"insertorderedlist"},outdent:{title:"< "+RLANG.outdent,exec:"outdent"},indent:{title:"> "+RLANG.indent,exec:"indent"},image:{title:RLANG.image,func:"showImage"},video:{title:RLANG.video,func:"showVideo"},file:{title:RLANG.file,func:"showFile"},table:{title:RLANG.table,func:"show",dropdown:{insert_table:{title:RLANG.insert_table,func:"showTable"},separator_drop1:{name:"separator"},insert_row_above:{title:RLANG.insert_row_above,func:"insertRowAbove"},insert_row_below:{title:RLANG.insert_row_below,
func:"insertRowBelow"},insert_column_left:{title:RLANG.insert_column_left,func:"insertColumnLeft"},insert_column_right:{title:RLANG.insert_column_right,func:"insertColumnRight"},separator_drop2:{name:"separator"},add_head:{title:RLANG.add_head,func:"addHead"},delete_head:{title:RLANG.delete_head,func:"deleteHead"},separator_drop3:{name:"separator"},delete_column:{title:RLANG.delete_column,func:"deleteColumn"},delete_row:{title:RLANG.delete_row,func:"deleteRow"},delete_table:{title:RLANG.delete_table,
func:"deleteTable"}}},link:{title:RLANG.link,func:"show",dropdown:{link:{title:RLANG.link_insert,func:"showLink"},unlink:{title:RLANG.unlink,exec:"unlink"}}},fontcolor:{title:RLANG.fontcolor,func:"show"},backcolor:{title:RLANG.backcolor,func:"show"},alignment:{title:RLANG.alignment,func:"show",dropdown:{alignleft:{title:RLANG.align_left,exec:"JustifyLeft"},aligncenter:{title:RLANG.align_center,exec:"JustifyCenter"},alignright:{title:RLANG.align_right,exec:"JustifyRight"},justify:{title:RLANG.align_justify,
exec:"JustifyFull"}}},alignleft:{exec:"JustifyLeft",title:RLANG.align_left},aligncenter:{exec:"JustifyCenter",title:RLANG.align_center},alignright:{exec:"JustifyRight",title:RLANG.align_right},justify:{exec:"JustifyFull",title:RLANG.align_justify},horizontalrule:{exec:"inserthorizontalrule",title:RLANG.horizontalrule}}},c,this.$el.data());this.dropdowns=[];this.init()};h.prototype={init:function(){this.height=this.$el.css("height");this.width=this.$el.css("width");rdocument=this.document=document;
rwindow=this.window=window;if(!1===this.opts.mobile&&this.isMobile())return this.build(!0),!1;this.opts.iframe&&(this.opts.autoresize=!1);if(this.opts.air)this.opts.buttons=this.opts.airButtons;else if(!1!==this.opts.toolbar){if(!1===this.opts.source){var a=this.opts.buttons.indexOf("html"),c=this.opts.buttons[a+1];this.opts.buttons.splice(a,1);"undefined"!==typeof c&&"|"===c&&this.opts.buttons.splice(a,1)}b.extend(this.opts.toolbar,this.opts.buttonsCustom);b.each(this.opts.buttonsAdd,b.proxy(function(a,
b){this.opts.buttons.push(b)},this))}!1!==this.opts.toolbar&&b.each(this.opts.toolbar.formatting.dropdown,b.proxy(function(a){"-1"==b.inArray(a,this.opts.formattingTags)&&delete this.opts.toolbar.formatting.dropdown[a]},this));this.build(!1,function(){this.enableAir();this.buildToolbar();"object"===typeof this.opts.plugins&&b.each(this.opts.plugins,b.proxy(function(a,c){"undefined"!==typeof RedactorPlugins[c]&&(b.extend(this,RedactorPlugins[c]),"undefined"!==typeof RedactorPlugins[c].init&&this.init())},
this));if(!1!==this.opts.activeButtons&&!1!==this.opts.toolbar){var a=b.proxy(function(){this.observeFormatting()},this);this.$editor.click(a).keyup(a)}a=!1;this.browser("webkit")&&-1===navigator.userAgent.indexOf("Chrome")&&536>this.browser("version").split(".")[0]&&(a=!0);!1===this.isMobile(!0)&&!1===a&&this.$editor.bind("paste",b.proxy(function(){if(!1===this.opts.cleanup)return!0;this.pasteRunning=!0;this.setBuffer();this.saveScroll=!0===this.opts.autoresize?this.document.body.scrollTop:this.$editor.scrollTop();
var a=this.extractContent();setTimeout(b.proxy(function(){var b=this.extractContent();this.$editor.append(a);this.restoreSelection();b=this.getFragmentHtml(b);this.pasteCleanUp(b);this.pasteRunning=!1},this),1)},this));this.keyup();this.keydown();!1!==this.opts.autosave&&this.autoSave();setTimeout(b.proxy(function(){this.observeImages();this.observeTables()},this),1);if(this.browser("mozilla")){this.$editor.click(b.proxy(function(){this.saveSelection()},this));try{this.document.execCommand("enableObjectResizing",
!1,!1),this.document.execCommand("enableInlineTableEditing",!1,!1)}catch(c){}}this.opts.focus&&setTimeout(b.proxy(function(){this.$editor.focus()},this),1);this.opts.fixed&&(this.observeScroll(),b(document).scroll(b.proxy(this.observeScroll,this)));"function"===typeof this.opts.callback&&this.opts.callback(this);!1!==this.opts.toolbar&&this.$toolbar.find("a").attr("tabindex","-1")})},shortcuts:function(a,b){a.preventDefault();this.execCommand(b,!1)},keyup:function(){this.$editor.keyup(b.proxy(function(a){var b=
a.keyCode||a.which;this.browser("mozilla")&&!this.pasteRunning&&this.saveSelection();"function"===typeof this.opts.keyupCallback&&this.opts.keyupCallback(this,a);if(8===b||46===b)return this.observeImages(),this.formatEmpty(a);13===b&&(!a.shiftKey&&!a.ctrlKey&&!a.metaKey)&&(this.browser("webkit")&&this.formatNewLine(a),this.opts.convertLinks&&this.$editor.linkify());this.syncCode()},this))},keydown:function(){this.$editor.keydown(b.proxy(function(a){var c=a.keyCode||a.which,d=this.getParentNode(),
e=this.getCurrentNode(),f=!1,g=a.ctrlKey||a.metaKey;if((d||e)&&("PRE"===b(d).get(0).tagName||"PRE"===b(e).get(0).tagName))f=!0;"function"===typeof this.opts.keydownCallback&&this.opts.keydownCallback(this,a);g&&this.opts.shortcuts&&(90===c?!1!==this.opts.buffer?(a.preventDefault(),this.getBuffer()):a.shiftKey?this.shortcuts(a,"redo"):this.shortcuts(a,"undo"):77===c?this.shortcuts(a,"removeFormat"):66===c?this.shortcuts(a,"bold"):73===c?this.shortcuts(a,"italic"):74===c?this.shortcuts(a,"insertunorderedlist"):
75===c?this.shortcuts(a,"insertorderedlist"):76===c?this.shortcuts(a,"superscript"):72===c&&this.shortcuts(a,"subscript"));!g&&90!==c&&(this.opts.buffer=!1);if(!0===f&&13===c)return a.preventDefault(),a=b(e).parent().text(),this.insertNodeAtCaret(this.document.createTextNode("\r\n")),-1==a.search(/\s$/)&&this.insertNodeAtCaret(this.document.createTextNode("\r\n")),this.syncCode(),!1;if(this.opts.shortcuts&&!a.shiftKey&&9===c)if(!1===f)this.shortcuts(a,"indent");else return a.preventDefault(),this.insertNodeAtCaret(this.document.createTextNode("\t")),
this.syncCode(),!1;else this.opts.shortcuts&&(a.shiftKey&&9===c)&&this.shortcuts(a,"outdent");if(this.browser("webkit")&&-1===navigator.userAgent.indexOf("Chrome"))return this.safariShiftKeyEnter(a,c)},this))},build:function(a,c){if(!0!==a){this.$box=b('<div class="redactor_box"></div>');this.opts.air&&(this.air=b('<div class="redactor_air" style="display: none;"></div>'));this.$content=null;var d=function(){this.$editor=this.$content.contents().find("body").attr("contenteditable",!0).attr("dir",
this.opts.direction);rdocument=this.document=this.$editor[0].ownerDocument;rwindow=this.window=this.document.defaultView||window;!1!==this.opts.css&&this.$content.contents().find("head").append('<link rel="stylesheet" href="'+this.opts.css+'" />');this.$editor.html(g);c&&(c.call(this),c=null)};this.textareamode=!0;if("TEXTAREA"===this.$el.get(0).tagName){if(this.opts.iframe){var e=this;this.$content=b('<iframe style="width: 100%;" frameborder="0"></iframe>').load(function(){d.call(e)})}else this.$content=
this.$editor=b("<div></div>");var f=this.$el.get(0).className.split(/\s+/);b.each(f,b.proxy(function(a,b){this.$content.addClass("redactor_"+b)},this))}else this.textareamode=!1,this.$content=this.$editor=this.$el,this.$el=b('<textarea name="'+this.$editor.attr("id")+'"></textarea>').css("height",this.height);this.$editor&&this.$editor.addClass("redactor_editor").attr("contenteditable",!0).attr("dir",this.opts.direction);!1!==this.opts.tabindex&&this.$content.attr("tabindex",this.opts.tabindex);!1!==
this.opts.minHeight&&this.$content.css("min-height",this.opts.minHeight+"px");!0===this.opts.wym&&this.$content.addClass("redactor_editor_wym");!1===this.opts.autoresize&&this.$content.css("height",this.height);this.$el.hide();var g="";this.textareamode?(g=this.$el.val(),g=this.savePreCode(g),this.$box.insertAfter(this.$el).append(this.$content).append(this.$el)):(g=this.$editor.html(),g=this.savePreCode(g),this.$box.insertAfter(this.$content).append(this.$el).append(this.$editor));g=this.paragraphy(g);
this.$editor&&this.$editor.html(g);!1===this.textareamode&&this.syncCode()}else"TEXTAREA"!==this.$el.get(0).tagName&&(g=this.$el.val(),f=b('<textarea name="'+this.$editor.attr("id")+'"></textarea>').css("height",this.height).val(g),this.$el.hide(),this.$el.after(f));c&&this.$editor&&c.call(this)},enableAir:function(){if(!1===this.opts.air)return!1;this.air.hide();this.$editor.bind("textselect",b.proxy(function(a){this.showAir(a)},this));this.$editor.bind("textunselect",b.proxy(function(){this.air.hide()},
this))},showAir:function(a){b(".redactor_air").hide();var c=this.air.innerWidth(),d=a.clientX;b(this.document).width()<d+c&&(d-=c);a=a.clientY+b(document).scrollTop()+14;!0===this.opts.iframe&&(a+=this.$box.position().top,d+=this.$box.position().left);this.air.css({left:d+"px",top:a+"px"}).show()},syncCode:function(){this.$el.val(this.$editor.html())},setCode:function(a){a=this.stripTags(a);this.$editor.html(a).focus();this.syncCode()},getCode:function(){var a="",a=this.opts.visual?this.$editor.html():
this.$el.val();return this.stripTags(a)},insertHtml:function(a){this.$editor.focus();this.pasteHtmlAtCaret(a);this.observeImages();this.syncCode()},pasteHtmlAtCaret:function(a){var b,d;if(this.document.getSelection){if(b=this.window.getSelection(),b.getRangeAt&&b.rangeCount){d=b.getRangeAt(0);d.deleteContents();var e=this.document.createElement("div");e.innerHTML=a;a=this.document.createDocumentFragment();for(var f,g;f=e.firstChild;)g=a.appendChild(f);d.insertNode(a);g&&(d=d.cloneRange(),d.setStartAfter(g),
d.collapse(!0),b.removeAllRanges(),b.addRange(d))}}else this.document.selection&&"Control"!=this.document.selection.type&&this.document.selection.createRange().pasteHTML(a)},destroy:function(){var a=this.getCode();this.textareamode?(this.$box.after(this.$el),this.$box.remove(),this.$el.height(this.height).val(a).show()):(this.$box.after(this.$editor),this.$box.remove(),this.$editor.removeClass("redactor_editor").removeClass("redactor_editor_wym").attr("contenteditable",!1).html(a).show());this.opts.toolbarExternal&&
b(this.opts.toolbarExternal).empty();b(".redactor_air").remove();for(a=0;a<this.dropdowns.length;a++)this.dropdowns[a].remove(),delete this.dropdowns[a];!1!==this.opts.autosave&&clearInterval(this.autosaveInterval)},observeFormatting:function(){var a=this.getCurrentNode();this.inactiveAllButtons();b.each(this.opts.activeButtonsStates,b.proxy(function(c,e){0!=b(a).closest(c,this.$editor.get()[0]).length&&this.setBtnActive(e)},this));var c=b(a).closest("p div h1 h2 h3 h4 h5 h6 blockquote td".split(" "));
if("undefined"!==typeof c[0]&&"undefined"!==typeof c[0].elem&&0!=b(c[0].elem).size())switch(b(c[0].elem).css("text-align")){case "right":this.setBtnActive("alignright");break;case "center":this.setBtnActive("aligncenter");break;case "justify":this.setBtnActive("justify");break;default:this.setBtnActive("alignleft")}},observeImages:function(){if(!1===this.opts.observeImages)return!1;this.$editor.find("img").each(b.proxy(function(a,c){this.browser("msie")&&b(c).attr("unselectable","on");this.resizeImage(c)},
this))},observeTables:function(){this.$editor.find("table").click(b.proxy(this.tableObserver,this))},observeScroll:function(){var a=b(this.document).scrollTop(),c=this.$box.offset().top,d=0;a>c?(a="100%",this.opts.fixedBox&&(d=this.$box.offset().left,a=this.$box.innerWidth()),this.fixed=!0,this.$toolbar.css({position:"fixed",width:a,zIndex:1005,top:this.opts.fixedTop+"px",left:d})):(this.fixed=!1,this.$toolbar.css({position:"relative",width:"auto",zIndex:1,top:0,left:d}))},setBuffer:function(){this.saveSelection();
this.opts.buffer=this.$editor.html()},getBuffer:function(){if(!1===this.opts.buffer)return!1;this.$editor.html(this.opts.buffer);this.browser("msie")||this.restoreSelection();this.opts.buffer=!1},execCommand:function(a,c){if(!1==this.opts.visual)return this.$el.focus(),!1;try{var d;if("inserthtml"===a)this.browser("msie")?(this.$editor.focus(),this.document.selection.createRange().pasteHTML(c)):this.pasteHtmlAtCaret(c),this.observeImages();else if("unlink"===a)d=this.getParentNode(),"A"===b(d).get(0).tagName?
b(d).replaceWith(b(d).text()):this.execRun(a,c);else if("JustifyLeft"===a||"JustifyCenter"===a||"JustifyRight"===a||"JustifyFull"===a){d=this.getCurrentNode();var e=b(d).get(0).tagName;if(!1===this.opts.iframe&&0==b(d).parents(".redactor_editor").size())return!1;-1!=b.inArray(e,"P DIV H1 H2 H3 H4 H5 H6 BLOCKQUOTE TD".split(" "))?(e=!1,"JustifyCenter"===a?e="center":"JustifyRight"===a?e="right":"JustifyFull"===a&&(e="justify"),!1===e?b(d).css("text-align",""):b(d).css("text-align",e)):this.execRun(a,
c)}else if("formatblock"===a&&"blockquote"===c)if(d=this.getCurrentNode(),"BLOCKQUOTE"===b(d).get(0).tagName)if(this.browser("msie")){var f=b("<p>"+b(d).html()+"</p>");b(d).replaceWith(f)}else this.execRun(a,"p");else if("P"===b(d).get(0).tagName){var g=b(d).parent();"BLOCKQUOTE"===b(g).get(0).tagName?(f=b("<p>"+b(d).html()+"</p>"),b(g).replaceWith(f),this.setSelection(f[0],0,f[0],0)):this.browser("msie")?(f=b("<blockquote>"+b(d).html()+"</blockquote>"),b(d).replaceWith(f)):this.execRun(a,c)}else this.execRun(a,
c);else"formatblock"===a&&("pre"===c||"p"===c)?(d=this.getParentNode(),"PRE"===b(d).get(0).tagName?b(d).replaceWith("<p>"+this.encodeEntities(b(d).text())+"</p>"):this.execRun(a,c)):("inserthorizontalrule"===a&&this.browser("msie")&&this.$editor.focus(),"formatblock"===a&&this.browser("mozilla")&&this.$editor.focus(),this.execRun(a,c));"inserthorizontalrule"===a&&this.$editor.find("hr").removeAttr("id");this.syncCode();this.oldIE()&&this.$editor.focus();"function"===typeof this.opts.execCommandCallback&&
this.opts.execCommandCallback(this,a);this.opts.air&&this.air.hide()}catch(j){}},execRun:function(a,b){"formatblock"===a&&this.browser("msie")&&(b="<"+b+">");this.document.execCommand(a,!1,b)},formatNewLine:function(){var a=this.getParentNode();if("DIV"===a.nodeName&&"redactor_editor"===a.className&&(a=b(this.getCurrentNode()),"DIV"===a.get(0).tagName&&(""===a.html()||"<br>"===a.html()))){var c=b("<p>").append(a.clone().get(0).childNodes);a.replaceWith(c);c.html("<br />");this.setSelection(c[0],0,
c[0],0)}},safariShiftKeyEnter:function(a,c){return a.shiftKey&&13===c?(a.preventDefault(),this.insertNodeAtCaret(b("<span><br /></span>").get(0)),this.syncCode(),!1):!0},formatEmpty:function(a){var c=b.trim(this.$editor.html()),c=c.replace(/<br\s?\/?>/i,""),d=c.replace(/<p>\s?<\/p>/gi,"");if(""===c||""===d)return a.preventDefault(),a=b(this.opts.emptyHtml).get(0),this.$editor.html(a),this.setSelection(a,0,a,0),this.syncCode(),!1;this.syncCode()},paragraphy:function(a){a=b.trim(a);if(""===a||"<p></p>"===
a)return this.opts.emptyHtml;this.opts.convertDivs&&(a=a.replace(/<div(.*?)>([\w\W]*?)<\/div>/gi,"<p>$2</p>"));var c=function(a,b,c){return a.replace(RegExp(b,"g"),c)},d=function(b,d){return c(a,b,d)};a+="\n";d("<br />\\s*<br />","\n\n");d("(<(table|thead|tfoot|caption|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|select|form|blockquote|address|math|style|script|object|input|param|p|h[1-6])[^>]*>)","\n$1");d("(</(table|thead|tfoot|caption|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|select|form|blockquote|address|math|style|script|object|input|param|p|h[1-6])>)",
"$1\n\n");d("\r\n|\r","\n");d("\n\n+","\n\n");d("\n?((.|\n)+?)$","<p>$1</p>\n");d("<p>\\s*?</p>","");d("<p>(<div[^>]*>\\s*)","$1<p>");d("<p>([^<]+)\\s*?(</(div|address|form)[^>]*>)","<p>$1</p>$2");d("<p>\\s*(</?(table|thead|tfoot|caption|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|select|form|blockquote|address|math|style|script|object|input|param|p|h[1-6])[^>]*>)\\s*</p>","$1");d("<p>(<li.+?)</p>","$1");d("<p>\\s*(</?(table|thead|tfoot|caption|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|select|form|blockquote|address|math|style|script|object|input|param|p|h[1-6])[^>]*>)",
"$1");d("(</?(table|thead|tfoot|caption|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|select|form|blockquote|address|math|style|script|object|input|param|p|h[1-6])[^>]*>)\\s*</p>","$1");d("(</?(table|thead|tfoot|caption|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|select|form|blockquote|address|math|style|script|object|input|param|p|h[1-6])[^>]*>)\\s*<br />","$1");d("<br />(\\s*</?(p|li|div|dl|dd|dt|th|pre|td|ul|ol)[^>]*>)","$1");-1!=a.indexOf("<pre")&&d("(<pre(.|\n)*?>)((.|\n)*?)</pre>",
function(a,b,d,j){return c(b,"\\\\(['\"\\\\])","$1")+c(c(c(j,"<p>","\n"),"</p>|<br />",""),"\\\\(['\"\\\\])","$1")+"</pre>"});return d("\n</p>$","</p>")},stripTags:function(a){var c=this.opts.allowedTags;return a.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(a,e){return"-1"<b.inArray(e.toLowerCase(),c)?a:""})},savePreCode:function(a){var c=a.match(/<pre(.*?)>([\w\W]*?)<\/pre>/gi);null!==c&&b.each(c,b.proxy(function(b,c){var f=c.match(/<pre(.*?)>([\w\W]*?)<\/pre>/i);f[2]=this.encodeEntities(f[2]);
a=a.replace(c,"<pre"+f[1]+">"+f[2]+"</pre>")},this));return a},encodeEntities:function(a){a=String(a).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"');return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},cleanupPre:function(a){a=a.replace(/<br>/gi,"\n");a=a.replace(/<\/p>/gi,"\n");a=a.replace(/<\/div>/gi,"\n");var b=this.document.createElement("div");b.innerHTML=a;return b.textContent||b.innerText},pasteCleanUp:function(a){var c=
this.getParentNode();if("PRE"===b(c).get(0).tagName)return a=this.cleanupPre(a),this.pasteCleanUpInsert(a),!0;a=a.replace(/\x3c!--[\s\S]*?--\x3e|<\?(?:php)?[\s\S]*?\?>/gi,"");a=a.replace(/(&nbsp;){2,}/gi,"&nbsp;");a=a.replace(/<b\sid="internal-source-marker(.*?)">([\w\W]*?)<\/b>/gi,"$2");a=this.stripTags(a);a=a.replace(/<td><\/td>/gi,"[td]");a=a.replace(/<td>&nbsp;<\/td>/gi,"[td]");a=a.replace(/<td><br><\/td>/gi,"[td]");a=a.replace(/<a(.*?)href="(.*?)"(.*?)>([\w\W]*?)<\/a>/gi,'[a href="$2"]$4[/a]');
a=a.replace(/<iframe(.*?)>([\w\W]*?)<\/iframe>/gi,"[iframe$1]$2[/iframe]");a=a.replace(/<video(.*?)>([\w\W]*?)<\/video>/gi,"[video$1]$2[/video]");a=a.replace(/<audio(.*?)>([\w\W]*?)<\/audio>/gi,"[audio$1]$2[/audio]");a=a.replace(/<embed(.*?)>([\w\W]*?)<\/embed>/gi,"[embed$1]$2[/embed]");a=a.replace(/<object(.*?)>([\w\W]*?)<\/object>/gi,"[object$1]$2[/object]");a=a.replace(/<param(.*?)>/gi,"[param$1]");a=a.replace(/<img(.*?)style="(.*?)"(.*?)>/gi,"[img$1$3]");a=a.replace(/<(\w+)([\w\W]*?)>/gi,"<$1>");
a=a.replace(/<[^\/>][^>]*>(\s*|\t*|\n*|&nbsp;|<br>)<\/[^>]+>/gi,"");a=a.replace(/<[^\/>][^>]*>(\s*|\t*|\n*|&nbsp;|<br>)<\/[^>]+>/gi,"");a=a.replace(/\[td\]/gi,"<td>&nbsp;</td>");a=a.replace(/\[a href="(.*?)"\]([\w\W]*?)\[\/a\]/gi,'<a href="$1">$2</a>');a=a.replace(/\[iframe(.*?)\]([\w\W]*?)\[\/iframe\]/gi,"<iframe$1>$2</iframe>");a=a.replace(/\[video(.*?)\]([\w\W]*?)\[\/video\]/gi,"<video$1>$2</video>");a=a.replace(/\[audio(.*?)\]([\w\W]*?)\[\/audio\]/gi,"<audio$1>$2</audio>");a=a.replace(/\[embed(.*?)\]([\w\W]*?)\[\/embed\]/gi,
"<embed$1>$2</embed>");a=a.replace(/\[object(.*?)\]([\w\W]*?)\[\/object\]/gi,"<object$1>$2</object>");a=a.replace(/\[param(.*?)\]/gi,"<param$1>");a=a.replace(/\[img(.*?)\]/gi,"<img$1>");this.opts.convertDivs&&(a=a.replace(/<div(.*?)>([\w\W]*?)<\/div>/gi,"<p>$2</p>"));a=a.replace(/<span>([\w\W]*?)<\/span>/gi,"$1");a=a.replace(/\n{3,}/gi,"\n");a=a.replace(/<p><p>/gi,"<p>");a=a.replace(/<\/p><\/p>/gi,"</p>");this.browser("mozilla")&&(a=a.replace(/<br>$/gi,""));this.pasteCleanUpInsert(a)},pasteCleanUpInsert:function(a){this.execCommand("inserthtml",
a);!0===this.opts.autoresize?b(this.document.body).scrollTop(this.saveScroll):this.$editor.scrollTop(this.saveScroll)},formattingRemove:function(a){var c=[],d=a.match(/<pre(.*?)>([\w\W]*?)<\/pre>/gi);null!==d&&b.each(d,function(b,d){a=a.replace(d,"prebuffer_"+b);c.push(d)});a=a.replace(/\s{2,}/g," ");a=a.replace(/\n/g," ");a=a.replace(/[\t]*/g,"");a=a.replace(/\n\s*\n/g,"\n");a=a.replace(/^[\s\n]*/g,"");a=a.replace(/[\s\n]*$/g,"");a=a.replace(/>\s+</g,"><");c&&(b.each(c,function(b,c){a=a.replace("prebuffer_"+
b,c)}),c=[]);return a},formattingIndenting:function(a){a=a.replace(/<li/g,"\t<li");a=a.replace(/<tr/g,"\t<tr");a=a.replace(/<td/g,"\t\t<td");return a=a.replace(/<\/tr>/g,"\t</tr>")},formattingEmptyTags:function(a){for(var b="<pre></pre> <blockquote>\\s*</blockquote> <em>\\s*</em> <ul></ul> <ol></ol> <li></li> <table></table> <tr></tr> <span>\\s*<span> <span>&nbsp;<span> <b>\\s*</b> <b>&nbsp;</b> <p>\\s*</p> <p>&nbsp;</p> <p>\\s*<br>\\s*</p> <div>\\s*</div> <div>\\s*<br>\\s*</div>".split(" "),d=0;d<
b.length;++d)a=a.replace(RegExp(b[d],"gi"),"");return a},formattingAddBefore:function(a){for(var b="<p <form </ul> </ol> <fieldset <legend <object <embed <select <option <input <textarea <pre <blockquote <ul <ol <li <dl <dt <dd <table <thead <tbody <caption </caption> <th <tr <td <figure".split(" "),d=0;d<b.length;++d){var e=b[d];a=a.replace(RegExp(e,"gi"),"\r\n"+e)}return a},formattingAddAfter:function(a){for(var b="</p>;</div>;</h1>;</h2>;</h3>;</h4>;</h5>;</h6>;<br>;<br />;</dl>;</dt>;</dd>;</form>;</blockquote>;</pre>;</legend>;</fieldset>;</object>;</embed>;</textarea>;</select>;</option>;</table>;</thead>;</tbody>;</tr>;</td>;</th>;</figure>".split(";"),
d=0;d<b.length;++d){var e=b[d];a=a.replace(RegExp(e,"gi"),e+"\r\n")}return a},formatting:function(a){a=this.formattingRemove(a);a=this.formattingEmptyTags(a);a=this.formattingAddBefore(a);a=this.formattingAddAfter(a);return a=this.formattingIndenting(a)},toggle:function(){var a;if(this.opts.visual){var b=this.$editor.innerHeight();this.$editor.hide();this.$content.hide();a=this.$editor.html();this.$el.height(b).val(a).show().focus();this.setBtnActive("html");this.opts.visual=!1}else this.$el.hide(),
a=this.$el.val(),this.$editor.html(a).show(),this.$content.show(),""===this.$editor.html()&&this.setCode(this.opts.emptyHtml),this.$editor.focus(),this.setBtnInactive("html"),this.opts.visual=!0,this.observeImages(),this.observeTables()},autoSave:function(){this.autosaveInterval=setInterval(b.proxy(function(){b.ajax({url:this.opts.autosave,type:"post",data:this.$el.attr("name")+"="+escape(encodeURIComponent(this.getCode())),success:b.proxy(function(a){"function"===typeof this.opts.autosaveCallback&&
this.opts.autosaveCallback(a,this)},this)})},this),1E3*this.opts.interval)},buildToolbar:function(){if(!1===this.opts.toolbar)return!1;this.$toolbar=b("<ul>").addClass("redactor_toolbar");this.opts.air?(b(this.air).append(this.$toolbar),b("body").append(this.air)):!1===this.opts.toolbarExternal?this.$box.prepend(this.$toolbar):b(this.opts.toolbarExternal).html(this.$toolbar);b.each(this.opts.buttons,b.proxy(function(a,c){if("|"!==c&&"undefined"!==typeof this.opts.toolbar[c]){var d=this.opts.toolbar[c];
if(!1===this.opts.fileUpload&&"file"===c)return!0;this.$toolbar.append(b("<li>").append(this.buildButton(c,d)))}"|"===c&&this.$toolbar.append(b('<li class="redactor_separator"></li>'))},this))},buildButton:function(a,c){var d=b('<a href="javascript:void(null);" title="'+c.title+'" class="redactor_btn_'+a+'"></a>');"undefined"===typeof c.func?d.click(b.proxy(function(){-1!=b.inArray(a,this.opts.activeButtons)&&(this.inactiveAllButtons(),this.setBtnActive(a));this.browser("mozilla")&&this.$editor.focus();
this.execCommand(c.exec,a)},this)):"show"!==c.func&&d.click(b.proxy(function(a){this[c.func](a)},this));"undefined"!==typeof c.callback&&!1!==c.callback&&d.click(b.proxy(function(b){c.callback(this,b,a)},this));if("backcolor"===a||"fontcolor"===a||"undefined"!==typeof c.dropdown){var e=b('<div class="redactor_dropdown" style="display: none;">'),e="backcolor"===a||"fontcolor"===a?this.buildColorPicker(e,a):this.buildDropdown(e,c.dropdown);this.dropdowns.push(e.appendTo(b(document.body)));this.hdlShowDropDown=
b.proxy(function(b){this.showDropDown(b,e,a)},this);d.click(this.hdlShowDropDown)}return d},buildDropdown:function(a,c){b.each(c,b.proxy(function(c,e){"undefined"===typeof e.className&&(e.className="");var f;"undefined"!==typeof e.name&&"separator"===e.name?f=b('<a class="redactor_separator_drop">'):(f=b('<a href="javascript:void(null);" class="'+e.className+'">'+e.title+"</a>"),"function"===typeof e.callback?b(f).click(b.proxy(function(a){e.callback(this,a,c)},this)):"undefined"===typeof e.func?
b(f).click(b.proxy(function(){this.execCommand(e.exec,c)},this)):b(f).click(b.proxy(function(a){this[e.func](a)},this)));b(a).append(f)},this));return a},buildColorPicker:function(a,c){var d;d="backcolor"===c?this.browser("msie")?"BackColor":"hilitecolor":"forecolor";b(a).width(210);for(var e=this.opts.colors.length,f=0;f<e;++f){var g=this.opts.colors[f],g=b('<a rel="'+g+'" href="javascript:void(null);" class="redactor_color_link"></a>').css({backgroundColor:g});b(a).append(g);var j=this;b(g).click(function(){j.execCommand(d,
b(this).attr("rel"));"forecolor"===d&&j.$editor.find("font").replaceWith(function(){return b('<span style="color: '+b(this).attr("color")+';">'+b(this).html()+"</span>")});j.browser("msie")&&"BackColor"===d&&j.$editor.find("font").replaceWith(function(){return b('<span style="'+b(this).attr("style")+'">'+b(this).html()+"</span>")})})}e=b('<a href="javascript:void(null);" class="redactor_color_none"></a>').html(RLANG.none);"backcolor"===c?e.click(b.proxy(this.setBackgroundNone,this)):e.click(b.proxy(this.setColorNone,
this));b(a).append(e);return a},setBackgroundNone:function(){b(this.getParentNode()).css("background-color","transparent");this.syncCode()},setColorNone:function(){b(this.getParentNode()).attr("color","").css("color","");this.syncCode()},showDropDown:function(a,c,d){if(this.getBtn(d).hasClass("dropact"))this.hideAllDropDown();else{this.hideAllDropDown();this.setBtnActive(d);this.getBtn(d).addClass("dropact");var e=this.getBtn(d).offset().left;if(this.opts.air){var f=this.air.offset().top;b(c).css({position:"absolute",
left:e+"px",top:f+30+"px"}).show()}else this.opts.fixed&&this.fixed?b(c).css({position:"fixed",left:e+"px",top:"30px"}).show():(f=this.$toolbar.offset().top+30,b(c).css({position:"absolute",left:e+"px",top:f+"px"}).show())}e=b.proxy(function(a){this.hideDropDown(a,c,d)},this);b(document).one("click",e);this.$editor.one("click",e);this.$content.one("click",e);a.stopPropagation()},hideAllDropDown:function(){this.$toolbar.find("a.dropact").removeClass("redactor_act").removeClass("dropact");b(".redactor_dropdown").hide()},
hideDropDown:function(a,c){b(a.target).hasClass("dropact")||(b(c).removeClass("dropact"),this.showedDropDown=!1,this.hideAllDropDown())},getBtn:function(a){return!1===this.opts.toolbar?!1:b(this.$toolbar.find("a.redactor_btn_"+a))},setBtnActive:function(a){this.getBtn(a).addClass("redactor_act")},setBtnInactive:function(a){this.getBtn(a).removeClass("redactor_act")},inactiveAllButtons:function(){b.each(this.opts.activeButtons,b.proxy(function(a,b){this.setBtnInactive(b)},this))},changeBtnIcon:function(a,
b){this.getBtn(a).addClass("redactor_btn_"+b)},removeBtnIcon:function(a,b){this.getBtn(a).removeClass("redactor_btn_"+b)},addBtnSeparator:function(){this.$toolbar.append(b('<li class="redactor_separator"></li>'))},addBtnSeparatorAfter:function(a){this.getBtn(a).parent().after(b('<li class="redactor_separator"></li>'))},addBtnSeparatorBefore:function(a){this.getBtn(a).parent().before(b('<li class="redactor_separator"></li>'))},removeBtnSeparatorAfter:function(a){this.getBtn(a).parent().next().remove()},
removeBtnSeparatorBefore:function(a){this.getBtn(a).parent().prev().remove()},setBtnRight:function(a){if(!1===this.opts.toolbar)return!1;this.getBtn(a).parent().addClass("redactor_btn_right")},setBtnLeft:function(a){if(!1===this.opts.toolbar)return!1;this.getBtn(a).parent().removeClass("redactor_btn_right")},addBtn:function(a,c,d,e){if(!1===this.opts.toolbar)return!1;a=this.buildButton(a,{title:c,callback:d,dropdown:e});this.$toolbar.append(b("<li>").append(a))},addBtnFirst:function(a,c,d,e){if(!1===
this.opts.toolbar)return!1;a=this.buildButton(a,{title:c,callback:d,dropdown:e});this.$toolbar.prepend(b("<li>").append(a))},addBtnAfter:function(a,c,d,e,f){if(!1===this.opts.toolbar)return!1;c=this.buildButton(c,{title:d,callback:e,dropdown:f});this.getBtn(a).parent().after(b("<li>").append(c))},addBtnBefore:function(a,c,d,e,f){if(!1===this.opts.toolbar)return!1;c=this.buildButton(c,{title:d,callback:e,dropdown:f});this.getBtn(a).parent().before(b("<li>").append(c))},removeBtn:function(a,b){var d=
this.getBtn(a);!0===b&&d.parent().next().remove();d.parent().removeClass("redactor_btn_right");d.remove()},getFragmentHtml:function(a){a=a.cloneNode(!0);var b=this.document.createElement("div");b.appendChild(a);return b.innerHTML},extractContent:function(){for(var a=this.$editor.get(0),b=this.document.createDocumentFragment(),d;d=a.firstChild;)b.appendChild(d);return b},saveSelection:function(){this.$editor.focus();this.savedSel=this.getOrigin();this.savedSelObj=this.getFocus()},restoreSelection:function(){"undefined"!==
typeof this.savedSel&&null!==this.savedSel&&null!==this.savedSelObj&&"BODY"!==this.savedSel[0].tagName?!1===this.opts.iframe&&0==b(this.savedSel[0]).closest(".redactor_editor").size()?this.$editor.focus():(this.browser("opera")&&this.$editor.focus(),this.setSelection(this.savedSel[0],this.savedSel[1],this.savedSelObj[0],this.savedSelObj[1]),this.browser("mozilla")&&this.$editor.focus()):this.$editor.focus()},getSelection:function(){var a=this.document;return this.window.getSelection?this.window.getSelection():
a.getSelection?a.getSelection():a.selection.createRange()},hasSelection:function(){if(this.oldIE()){var a=this.$editor.get(0),b;a.focus();return!a.document.selection?!1:(b=a.document.selection.createRange())&&b.parentElement().document===a.document}return(a=this.getSelection())&&null!=a.focusNode&&null!=a.anchorNode},getOrigin:function(){if(this.oldIE()){var a=this.$editor.get(0),b;a.focus();if(!this.hasSelection())return null;b=a.document.selection.createRange();return this._getBoundary(a.document,
b,!0)}return!((a=this.getSelection())&&null!=a.anchorNode)?null:[a.anchorNode,a.anchorOffset]},getFocus:function(){if(this.oldIE()){var a=this.$editor.get(0),b;a.focus();if(!this.hasSelection())return null;b=a.document.selection.createRange();return this._getBoundary(a.document,b,!1)}return!((a=this.getSelection())&&null!=a.focusNode)?null:[a.focusNode,a.focusOffset]},setSelection:function(a,b,d,e){null==d&&(d=a);null==e&&(e=b);if(this.oldIE()){var f=this.$editor.get(0),g=f.document.body.createTextRange();
this._moveBoundary(f.document,g,!1,d,e);this._moveBoundary(f.document,g,!0,a,b);return g.select()}if(f=this.getSelection())if(f.collapse&&f.extend)f.collapse(a,b),f.extend(d,e);else{r=this.document.createRange();r.setStart(a,b);r.setEnd(d,e);try{f.removeAllRanges()}catch(j){}f.addRange(r)}},getCurrentNode:function(){if("undefined"!==typeof this.window.getSelection)return this.getSelectedNode().parentNode;if("undefined"!==typeof this.document.selection)return this.getSelection().parentElement()},getParentNode:function(){return b(this.getCurrentNode()).parent()[0]},
getSelectedNode:function(){if(this.oldIE())return this.getSelection().parentElement();if("undefined"!==typeof this.window.getSelection)return 0<this.window.getSelection().rangeCount?this.getSelection().getRangeAt(0).commonAncestorContainer:!1;if("undefined"!==typeof this.document.selection)return this.getSelection()},_getBoundary:function(a,b,d){var e,f;a=a.createElement("a");e=b.duplicate();e.collapse(d);for(f=e.parentElement();!(f.insertBefore(a,a.previousSibling),e.moveToElementText(a),!(0<e.compareEndPoints(d?
"StartToStart":"StartToEnd",b)&&null!=a.previousSibling)););-1===e.compareEndPoints(d?"StartToStart":"StartToEnd",b)&&a.nextSibling?(e.setEndPoint(d?"EndToStart":"EndToEnd",b),b=a.nextSibling,d=e.text.length):(b=a.parentNode,d=this._getChildIndex(a));a.parentNode.removeChild(a);return[b,d]},_moveBoundary:function(a,b,d,e,f){var g,j,h;h=0;g=this._isText(e)?e:e.childNodes[f];j=this._isText(e)?e.parentNode:e;this._isText(e)&&(h=f);e=a.createElement("a");j.insertBefore(e,g||null);a=a.body.createTextRange();
a.moveToElementText(e);e.parentNode.removeChild(e);b.setEndPoint(d?"StartToStart":"EndToEnd",a);return b[d?"moveStart":"moveEnd"]("character",h)},_isText:function(a){return null!=a?3==a.nodeType:!1},_getChildIndex:function(a){for(var b=0;a=a.previousSibling;)b++;return b},insertNodeAfterCaret:function(a){this.saveSelection();this.insertNodeAtCaret(a);this.restoreSelection()},insertNodeAtCaret:function(a){if(this.window.getSelection){var b=this.getSelection();if(b.rangeCount){var d=b.getRangeAt(0);
d.collapse(!1);d.insertNode(a);d=d.cloneRange();d.selectNodeContents(a);d.collapse(!1);b.removeAllRanges();b.addRange(d)}}else this.document.selection&&(b=1===a.nodeType?a.outerHTML:a.data,d="marker_"+(""+Math.random()).slice(2),b+='<span id="'+d+'"></span>',a=this.getSelection(),a.collapse(!1),a.pasteHTML(b),b=this.document.getElementById(d),a.moveToElementText(b),a.select(),b.parentNode.removeChild(b))},getSelectedHtml:function(){var a="";if(this.window.getSelection){var b=this.window.getSelection();
if(b.rangeCount){for(var a=this.document.createElement("div"),d=0,e=b.rangeCount;d<e;++d)a.appendChild(b.getRangeAt(d).cloneContents());a=a.innerHTML}}else this.document.selection&&"Text"===this.document.selection.type&&(a=this.document.selection.createRange().htmlText);return a},resizeImage:function(a){var c=!1,d=!1,e,f=b(a).width()/b(a).height();b(a).off("hover mousedown mouseup click mousemove");b(a).hover(function(){b(a).css("cursor","nw-resize")},function(){b(a).css("cursor","");c=!1});b(a).mousedown(function(g){g.preventDefault();
f=b(a).width()/b(a).height();d=c=!0;Math.round(g.pageX-b(a).eq(0).offset().left);e=Math.round(g.pageY-b(a).eq(0).offset().top)});b(a).mouseup(b.proxy(function(){c=!1;b(a).css("cursor","");this.syncCode()},this));b(a).click(b.proxy(function(a){d&&this.imageEdit(a)},this));b(a).mousemove(function(g){if(c){d=!1;Math.round(g.pageX-b(this).eq(0).offset().left);var j=Math.round(g.pageY-b(this).eq(0).offset().top)-e,h=b(a).height(),j=parseInt(h,10)+j,h=j*f;10<h&&b(a).width(h);10<j&&b(a).height(j);Math.round(g.pageX-
b(this).eq(0).offset().left);e=Math.round(g.pageY-b(this).eq(0).offset().top)}})},showTable:function(){this.saveSelection();this.modalInit(RLANG.table,this.opts.modal_table,300,b.proxy(function(){b("#redactor_insert_table_btn").click(b.proxy(this.insertTable,this));setTimeout(function(){b("#redactor_table_rows").focus()},200)},this))},insertTable:function(){for(var a=b("#redactor_table_rows").val(),c=b("#redactor_table_columns").val(),d=b("<div></div>"),e=Math.floor(99999*Math.random()),e=b('<table id="table'+
e+'"><tbody></tbody></table>'),f=0;f<a;f++){for(var g=b("<tr></tr>"),j=0;j<c;j++){var h=b("<td><br></td>");b(g).append(h)}b(e).append(g)}b(d).append(e);a=b(d).html()+"<p></p>";this.restoreSelection();this.execCommand("inserthtml",a);this.modalClose();this.observeTables()},tableObserver:function(a){this.$table=b(a.target).closest("table");this.$table_tr=this.$table.find("tr");this.$table_td=this.$table.find("td");this.$tbody=b(a.target).closest("tbody");this.$thead=b(this.$table).find("thead");this.$current_td=
b(a.target);this.$current_tr=b(a.target).closest("tr")},deleteTable:function(){b(this.$table).remove();this.$table=!1;this.syncCode()},deleteRow:function(){b(this.$current_tr).remove();this.syncCode()},deleteColumn:function(){var a=b(this.$current_td).get(0).cellIndex;b(this.$table).find("tr").each(function(){b(this).find("td").eq(a).remove()});this.syncCode()},addHead:function(){if(0!==b(this.$table).find("thead").size())this.deleteHead();else{var a=b(this.$table).find("tr").first().clone();a.find("td").html("&nbsp;");
this.$thead=b("<thead></thead>");this.$thead.append(a);b(this.$table).prepend(this.$thead);this.syncCode()}},deleteHead:function(){b(this.$thead).remove();this.$thead=!1;this.syncCode()},insertRowAbove:function(){this.insertRow("before")},insertRowBelow:function(){this.insertRow("after")},insertColumnLeft:function(){this.insertColumn("before")},insertColumnRight:function(){this.insertColumn("after")},insertRow:function(a){var c=b(this.$current_tr).clone();c.find("td").html("&nbsp;");"after"===a?b(this.$current_tr).after(c):
b(this.$current_tr).before(c);this.syncCode()},insertColumn:function(a){var c=0;this.$current_tr.find("td").each(b.proxy(function(a,e){b(e)[0]===this.$current_td[0]&&(c=a)},this));this.$table_tr.each(function(d,e){var f=b(e).find("td").eq(c),g=f.clone();g.html("&nbsp;");"after"===a?b(f).after(g):b(f).before(g)});this.syncCode()},showVideo:function(){this.saveSelection();this.modalInit(RLANG.video,this.opts.modal_video,600,b.proxy(function(){b("#redactor_insert_video_btn").click(b.proxy(this.insertVideo,
this));setTimeout(function(){b("#redactor_insert_video_area").focus()},200)},this))},insertVideo:function(){var a=b("#redactor_insert_video_area").val(),a=this.stripTags(a);this.restoreSelection();this.execCommand("inserthtml",a);this.modalClose()},imageEdit:function(a){var c=b(a.target),d=c.parent();a=b.proxy(function(){b("#redactor_file_alt").val(c.attr("alt"));b("#redactor_image_edit_src").attr("href",c.attr("src"));b("#redactor_form_image_align").val(c.css("float"));"A"===b(d).get(0).tagName&&
b("#redactor_file_link").val(b(d).attr("href"));b("#redactor_image_delete_btn").click(b.proxy(function(){this.imageDelete(c)},this));b("#redactorSaveBtn").click(b.proxy(function(){this.imageSave(c)},this))},this);this.modalInit(RLANG.image,this.opts.modal_image_edit,380,a)},imageDelete:function(a){var c=b(a).parent();0!=c.size()&&"A"==c[0].tagName?c.remove():b(a).remove();this.modalClose();this.syncCode()},imageSave:function(a){var c=b(a).parent();b(a).attr("alt",b("#redactor_file_alt").val());var d=
b("#redactor_form_image_align").val();"left"===d?b(a).css({"float":"left",margin:"0 10px 10px 0"}):"right"===d?b(a).css({"float":"right",margin:"0 0 10px 10px"}):b(a).css({"float":"none",margin:"0"});d=b.trim(b("#redactor_file_link").val());""!==d?"A"!==b(c).get(0).tagName?b(a).replaceWith('<a href="'+d+'">'+this.outerHTML(a)+"</a>"):b(c).attr("href",d):"A"===b(c).get(0).tagName&&b(c).replaceWith(this.outerHTML(a));this.modalClose();this.observeImages();this.syncCode()},showImage:function(){this.saveSelection();
var a=b.proxy(function(){b("#redactor_tabs a").eq(2).remove();!1!==this.opts.imageGetJson?b.getJSON(this.opts.imageGetJson,b.proxy(function(a){var c={},f=0;b.each(a,b.proxy(function(a,b){"undefined"!==typeof b.folder&&(f++,c[b.folder]=f)},this));var g=!1;b.each(a,b.proxy(function(a,d){var f="";"undefined"!==typeof d.title&&(f=d.title);var j=0;!b.isEmptyObject(c)&&"undefined"!==typeof d.folder&&(j=c[d.folder],!1===g&&(g=".redactorfolder"+j));f=b('<img src="'+d.thumb+'" class="redactorfolder redactorfolder'+
j+'" rel="'+d.image+'" title="'+f+'" />');b("#redactor_image_box").append(f);b(f).click(b.proxy(this.imageSetThumb,this))},this));if(!b.isEmptyObject(c)){b(".redactorfolder").hide();b(g).show();var j=b('<select id="redactor_image_box_select">');b.each(c,function(a,c){j.append(b('<option value="'+c+'">'+a+"</option>"))});b("#redactor_image_box").before(j);j.change(function(a){b(".redactorfolder").hide();b(".redactorfolder"+b(a.target).val()).show()})}},this)):b("#redactor_tabs a").eq(1).remove();if(!1!==
this.opts.imageUpload)!1===this.opts.uploadCrossDomain&&!1===this.isMobile()&&0!==b("#redactor_file").size()&&b("#redactor_file").dragupload({url:this.opts.imageUpload,uploadFields:this.opts.uploadFields,success:b.proxy(this.imageUploadCallback,this),error:b.proxy(this.opts.imageUploadErrorCallback,this)}),this.uploadInit("redactor_file",{auto:!0,url:this.opts.imageUpload,success:b.proxy(this.imageUploadCallback,this),error:b.proxy(this.opts.imageUploadErrorCallback,this)});else if(b(".redactor_tab").hide(),
!1===this.opts.imageGetJson)b("#redactor_tabs").remove(),b("#redactor_tab3").show();else{var a=b("#redactor_tabs a");a.eq(0).remove();a.eq(1).addClass("redactor_tabs_act");b("#redactor_tab2").show()}b("#redactor_upload_btn").click(b.proxy(this.imageUploadCallbackLink,this));!1===this.opts.imageUpload&&!1===this.opts.imageGetJson&&setTimeout(function(){b("#redactor_file_link").focus()},200)},this);this.modalInit(RLANG.image,this.opts.modal_image,610,a)},imageSetThumb:function(a){this._imageSet('<img src="'+
b(a.target).attr("rel")+'" alt="'+b(a.target).attr("title")+'" />',!0)},imageUploadCallbackLink:function(){if(""!==b("#redactor_file_link").val()){var a='<img src="'+b("#redactor_file_link").val()+'" />';this._imageSet(a,!0)}else this.modalClose()},imageUploadCallback:function(a){this._imageSet(a)},_imageSet:function(a,b){this.restoreSelection();if(!1!==a){var d="",d=!0!==b?'<p><img src="'+a.filelink+'" /></p>':a;this.execCommand("inserthtml",d);!0!==b&&"function"===typeof this.opts.imageUploadCallback&&
this.opts.imageUploadCallback(this,a)}this.modalClose();this.observeImages()},showLink:function(){this.saveSelection();var a=b.proxy(function(){this.insert_link_node=!1;var a=this.getSelection(),d="",e="",f="";this.browser("msie")?(e=this.getParentNode(),"A"===e.nodeName?(this.insert_link_node=b(e),e=this.insert_link_node.text(),d=this.insert_link_node.attr("href"),f=this.insert_link_node.attr("target")):e=this.oldIE()?a.text:a.toString()):a&&a.anchorNode&&"A"===a.anchorNode.parentNode.tagName?(d=
a.anchorNode.parentNode.href,e=a.anchorNode.parentNode.text,f=a.anchorNode.parentNode.target,""===a.toString()&&(this.insert_link_node=a.anchorNode.parentNode)):e=a.toString();b(".redactor_link_text").val(e);a=self.location.href.replace(/\/$/i,"");a=d.replace(a,"");0===d.search("mailto:")?(this.setModalTab(2),b("#redactor_tab_selected").val(2),b("#redactor_link_mailto").val(d.replace("mailto:",""))):0===a.search(/^#/gi)?(this.setModalTab(3),b("#redactor_tab_selected").val(3),b("#redactor_link_anchor").val(a.replace(/^#/gi,
""))):b("#redactor_link_url").val(a);"_blank"===f&&b("#redactor_link_blank").attr("checked",!0);b("#redactor_insert_link_btn").click(b.proxy(this.insertLink,this));setTimeout(function(){b("#redactor_link_url").focus()},200)},this);this.modalInit(RLANG.link,this.opts.modal_link,460,a)},insertLink:function(){var a=b("#redactor_tab_selected").val(),c="",d="",e="",f="";"1"===a?(c=b("#redactor_link_url").val(),d=b("#redactor_link_url_text").val(),b("#redactor_link_blank").prop("checked")&&(e=' target="_blank"',
f="_blank"),a=/^\/(w+:{0,1}w*@)?(S+)(:[0-9]+)?(\/|\/([w#!:.?+=&%@!-/]))?\//i,-1==c.search(/^(http|ftp|https):\/\/\/(w+:{0,1}w*@)?(S+)(:[0-9]+)?(\/|\/([w#!:.?+=&%@!-/]))?\//i)&&(0==c.search(a)&&!1!==this.opts.protocol)&&(c=this.opts.protocol+c)):"2"===a?(c="mailto:"+b("#redactor_link_mailto").val(),d=b("#redactor_link_mailto_text").val()):"3"===a&&(c="#"+b("#redactor_link_anchor").val(),d=b("#redactor_link_anchor_text").val());this._insertLink('<a href="'+c+'"'+e+">"+d+"</a>",b.trim(d),c,f)},_insertLink:function(a,
c,d,e){this.$editor.focus();this.restoreSelection();""!==c&&(this.insert_link_node?(b(this.insert_link_node).text(c),b(this.insert_link_node).attr("href",d),""!==e?b(this.insert_link_node).attr("target",e):b(this.insert_link_node).removeAttr("target"),this.syncCode()):this.execCommand("inserthtml",a));this.modalClose()},showFile:function(){this.saveSelection();var a=b.proxy(function(){var a=this.getSelection(),d="",d=this.oldIE()?a.text:a.toString();b("#redactor_filename").val(d);!1===this.opts.uploadCrossDomain&&
!1===this.isMobile()&&b("#redactor_file").dragupload({url:this.opts.fileUpload,uploadFields:this.opts.uploadFields,success:b.proxy(this.fileUploadCallback,this),error:b.proxy(this.opts.fileUploadErrorCallback,this)});this.uploadInit("redactor_file",{auto:!0,url:this.opts.fileUpload,success:b.proxy(this.fileUploadCallback,this),error:b.proxy(this.opts.fileUploadErrorCallback,this)})},this);this.modalInit(RLANG.file,this.opts.modal_file,500,a)},fileUploadCallback:function(a){this.restoreSelection();
if(!1!==a){var c=b("#redactor_filename").val();""===c&&(c=a.filename);c='<a href="'+a.filelink+'">'+c+"</a>";this.browser("webkit")&&this.window.chrome&&(c+="&nbsp;");this.execCommand("inserthtml",c);"function"===typeof this.opts.fileUploadCallback&&this.opts.fileUploadCallback(this,a)}this.modalClose()},modalInit:function(a,c,d,e){0===b("#redactor_modal_overlay").size()&&(this.overlay=b('<div id="redactor_modal_overlay" style="display: none;"></div>'),b("body").prepend(this.overlay));this.opts.overlay&&
(b("#redactor_modal_overlay").show(),b("#redactor_modal_overlay").click(b.proxy(this.modalClose,this)));0===b("#redactor_modal").size()&&(this.modal=b('<div id="redactor_modal" style="display: none;"><div id="redactor_modal_close">&times;</div><div id="redactor_modal_header"></div><div id="redactor_modal_inner"></div></div>'),b("body").append(this.modal));b("#redactor_modal_close").click(b.proxy(this.modalClose,this));this.hdlModalClose=b.proxy(function(a){if(27===a.keyCode)return this.modalClose(),
!1},this);b(document).keyup(this.hdlModalClose);this.$editor.keyup(this.hdlModalClose);0==c.indexOf("#")?b("#redactor_modal_inner").empty().append(b(c).html()):b("#redactor_modal_inner").empty().append(c);b("#redactor_modal_header").html(a);"undefined"!==typeof b.fn.draggable&&(b("#redactor_modal").draggable({handle:"#redactor_modal_header"}),b("#redactor_modal_header").css("cursor","move"));if(0!==b("#redactor_tabs").size()){var f=this;b("#redactor_tabs a").each(function(a,c){a++;b(c).click(function(){b("#redactor_tabs a").removeClass("redactor_tabs_act");
b(this).addClass("redactor_tabs_act");b(".redactor_tab").hide();b("#redactor_tab"+a).show();b("#redactor_tab_selected").val(a);if(!1===f.isMobile()){var c=b("#redactor_modal").outerHeight();b("#redactor_modal").css("margin-top","-"+(c+10)/2+"px")}})})}b("#redactor_modal .redactor_btn_modal_close").click(b.proxy(this.modalClose,this));!1===this.isMobile()?(b("#redactor_modal").css({position:"fixed",top:"-2000px",left:"50%",width:d+"px",marginLeft:"-"+(d+60)/2+"px"}).show(),this.modalSaveBodyOveflow=
b(document.body).css("overflow"),b(document.body).css("overflow","hidden")):b("#redactor_modal").css({position:"fixed",width:"100%",height:"100%",top:"0",left:"0",margin:"0",minHeight:"300px"}).show();"function"===typeof e&&e();!1===this.isMobile()&&setTimeout(function(){var a=b("#redactor_modal").outerHeight();b("#redactor_modal").css({top:"50%",height:"auto",minHeight:"auto",marginTop:"-"+(a+10)/2+"px"})},20)},modalClose:function(){b("#redactor_modal_close").unbind("click",this.modalClose);b("#redactor_modal").fadeOut("fast",
b.proxy(function(){b("#redactor_modal_inner").html("");this.opts.overlay&&(b("#redactor_modal_overlay").hide(),b("#redactor_modal_overlay").unbind("click",this.modalClose));b(document).unbind("keyup",this.hdlModalClose);this.$editor.unbind("keyup",this.hdlModalClose)},this));!1===this.isMobile()&&b(document.body).css("overflow",this.modalSaveBodyOveflow?this.modalSaveBodyOveflow:"visible");return!1},setModalTab:function(a){b(".redactor_tab").hide();var c=b("#redactor_tabs a");c.removeClass("redactor_tabs_act");
c.eq(a-1).addClass("redactor_tabs_act");b("#redactor_tab"+a).show()},uploadInit:function(a,c){this.uploadOptions={url:!1,success:!1,error:!1,start:!1,trigger:!1,auto:!1,input:!1};b.extend(this.uploadOptions,c);0!==b("#"+a).size()&&"INPUT"===b("#"+a).get(0).tagName?(this.uploadOptions.input=b("#"+a),this.element=b(b("#"+a).get(0).form)):this.element=b("#"+a);this.element_action=this.element.attr("action");this.uploadOptions.auto?b(this.uploadOptions.input).change(b.proxy(function(){this.element.submit(function(){return!1});
this.uploadSubmit()},this)):this.uploadOptions.trigger&&b("#"+this.uploadOptions.trigger).click(b.proxy(this.uploadSubmit,this))},uploadSubmit:function(){this.uploadForm(this.element,this.uploadFrame())},uploadFrame:function(){this.id="f"+Math.floor(99999*Math.random());var a=this.document.createElement("div");a.innerHTML='<iframe style="display:none" id="'+this.id+'" name="'+this.id+'"></iframe>';b(a).appendTo("body");this.uploadOptions.start&&this.uploadOptions.start();b("#"+this.id).load(b.proxy(this.uploadLoaded,
this));return this.id},uploadForm:function(a,c){if(this.uploadOptions.input){var d="redactorUploadForm"+this.id,e="redactorUploadFile"+this.id;this.form=b('<form  action="'+this.uploadOptions.url+'" method="POST" target="'+c+'" name="'+d+'" id="'+d+'" enctype="multipart/form-data"></form>');!1!==this.opts.uploadFields&&"object"===typeof this.opts.uploadFields&&b.each(this.opts.uploadFields,b.proxy(function(a,c){0===c.toString().indexOf("#")&&(c=b(c).val());var d=b("<input/>",{type:"hidden",name:a,
value:c});b(this.form).append(d)},this));var d=this.uploadOptions.input,f=b(d).clone();b(d).attr("id",e);b(d).before(f);b(d).appendTo(this.form);b(this.form).css("position","absolute");b(this.form).css("top","-2000px");b(this.form).css("left","-2000px");b(this.form).appendTo("body");this.form.submit()}else a.attr("target",c),a.attr("method","POST"),a.attr("enctype","multipart/form-data"),a.attr("action",this.uploadOptions.url),this.element.submit()},uploadLoaded:function(){var a=b("#"+this.id)[0],
a=a.contentDocument?a.contentDocument:a.contentWindow?a.contentWindow.document:window.frames[this.id].document;this.uploadOptions.success&&("undefined"!==typeof a?(a=a.body.innerHTML.match(/\{(.|\n)*\}/)[0],a=b.parseJSON(a),"undefined"==typeof a.error?this.uploadOptions.success(a):(this.uploadOptions.error(this,a),this.modalClose())):(alert("Upload failed!"),this.modalClose()));this.element.attr("action",this.element_action);this.element.attr("target","")},browser:function(a){var b=navigator.userAgent.toLowerCase(),
b=/(chrome)[ \/]([\w.]+)/.exec(b)||/(webkit)[ \/]([\w.]+)/.exec(b)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b)||/(msie) ([\w.]+)/.exec(b)||0>b.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b)||[];return"version"==a?b[2]:"webkit"==a?"chrome"==b[1]||"webkit"==b[1]:b[1]==a},oldIE:function(){return this.browser("msie")&&9>parseInt(this.browser("version"),10)?!0:!1},outerHTML:function(a){return b("<p>").append(b(a).eq(0).clone()).html()},normalize:function(a){return parseInt(a.replace("px",
""),10)},isMobile:function(a){return!0===a&&/(iPhone|iPod|iPad|BlackBerry|Android)/.test(navigator.userAgent)?!0:/(iPhone|iPod|BlackBerry|Android)/.test(navigator.userAgent)?!0:!1}};b.fn.getObject=function(){return this.data("redactor")};b.fn.getEditor=function(){return this.data("redactor").$editor};b.fn.getCode=function(){return b.trim(this.data("redactor").getCode())};b.fn.getText=function(){return this.data("redactor").$editor.text()};b.fn.getSelected=function(){return this.data("redactor").getSelectedHtml()};
b.fn.setCode=function(a){this.data("redactor").setCode(a)};b.fn.insertHtml=function(a){this.data("redactor").insertHtml(a)};b.fn.destroyEditor=function(){this.each(function(){"undefined"!=typeof b(this).data("redactor")&&(b(this).data("redactor").destroy(),b(this).removeData("redactor"))})};b.fn.setFocus=function(){this.data("redactor").$editor.focus()};b.fn.execCommand=function(a,b){this.data("redactor").execCommand(a,b)}})(jQuery);
(function(b){function h(a,c){this.opts=b.extend({url:!1,success:!1,error:!1,preview:!1,uploadFields:!1,text:RLANG.drop_file_here,atext:RLANG.or_choose},c);this.$el=b(a)}b.fn.dragupload=function(a){return this.each(function(){(new h(this,a)).init()})};h.prototype={init:function(){if(-1===navigator.userAgent.search("MSIE")){this.droparea=b('<div class="redactor_droparea"></div>');this.dropareabox=b('<div class="redactor_dropareabox">'+this.opts.text+"</div>");this.dropalternative=b('<div class="redactor_dropalternative">'+
this.opts.atext+"</div>");this.droparea.append(this.dropareabox);this.$el.before(this.droparea);this.$el.before(this.dropalternative);this.dropareabox.bind("dragover",b.proxy(function(){return this.ondrag()},this));this.dropareabox.bind("dragleave",b.proxy(function(){return this.ondragleave()},this));var a=b.proxy(function(a){a=parseInt(100*(a.loaded/a.total),10);this.dropareabox.text("Loading "+a+"%")},this),c=jQuery.ajaxSettings.xhr();c.upload&&c.upload.addEventListener("progress",a,!1);var d=function(){return c};
this.dropareabox.get(0).ondrop=b.proxy(function(a){a.preventDefault();this.dropareabox.removeClass("hover").addClass("drop");a=a.dataTransfer.files[0];var c=new FormData;!1!==this.opts.uploadFields&&"object"===typeof this.opts.uploadFields&&b.each(this.opts.uploadFields,b.proxy(function(a,d){0===d.toString().indexOf("#")&&(d=b(d).val());c.append(a,d)},this));c.append("file",a);b.ajax({url:this.opts.url,dataType:"html",data:c,xhr:d,cache:!1,contentType:!1,processData:!1,type:"POST",success:b.proxy(function(a){a=
b.parseJSON(a);"undefined"==typeof a.error?this.opts.success(a):(this.opts.error(this,a),this.opts.success(!1))},this)})},this)}},ondrag:function(){this.dropareabox.addClass("hover");return!1},ondragleave:function(){this.dropareabox.removeClass("hover");return!1}}})(jQuery);
(function(b){var h=/(^|&lt;|\s)(www\..+?\..+?)(\s|&gt;|$)/g,a=/(^|&lt;|\s)(((https?|ftp):\/\/|mailto:).+?)(\s|&gt;|$)/g,c=function(){for(var d=this.childNodes,e=d.length;e--;){var f=d[e];if(3===f.nodeType){var g=f.nodeValue;g&&(g=g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(h,'$1<a href="http://$2">$2</a>$3').replace(a,'$1<a href="$2">$2</a>$5'),b(f).after(g).remove())}else 1===f.nodeType&&!/^(a|button|textarea)$/i.test(f.tagName)&&c.call(f)}};b.fn.linkify=function(){this.each(c)}})(jQuery);
(function(b){b.event.special.textselect={setup:function(h){b(this).data("textselected",!1);b(this).data("ttt",h);b(this).on("mouseup",b.event.special.textselect.handler)},teardown:function(){b(this).off("mouseup",b.event.special.textselect.handler)},handler:function(h){var a=b(this).data("ttt"),a=b.event.special.textselect.getSelectedText(a).toString();""!=a&&(b(this).data("textselected",!0),h.type="textselect",h.text=a,b.event.dispatch.apply(this,arguments))},getSelectedText:function(){var b="";
rwindow.getSelection?b=rwindow.getSelection():rdocument.getSelection?b=rdocument.getSelection():rdocument.selection&&(b=rdocument.selection.createRange().text);return b}};b.event.special.textunselect={setup:function(h){b(this).data("rttt",h);b(this).data("textselected",!1);b(this).on("mouseup",b.event.special.textunselect.handler);b(this).on("keyup",b.event.special.textunselect.handlerKey)},teardown:function(){b(this).unbind("mouseup",b.event.special.textunselect.handler)},handler:function(h){if(b(this).data("textselected")){var a=
b(this).data("rttt");""==b.event.special.textselect.getSelectedText(a).toString()&&(b(this).data("textselected",!1),h.type="textunselect",b.event.dispatch.apply(this,arguments))}},handlerKey:function(h){if(b(this).data("textselected")){var a=b(this).data("rttt"),a=b.event.special.textselect.getSelectedText(a).toString();if((h.keyCode=27)&&""==a)b(this).data("textselected",!1),h.type="textunselect",b.event.dispatch.apply(this,arguments)}}}})(jQuery);
/*! Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
 * Dual licensed under the MIT (MIT_LICENSE.txt)
 * and GPL Version 2 (GPL_LICENSE.txt) licenses.
 *
 * Version: 1.1.1
 * Requires jQuery 1.3+
 * Docs: http://docs.jquery.com/Plugins/livequery
 */
(function(a){a.extend(a.fn,{livequery:function(c,b,d){var e=this,f;a.isFunction(c)&&(d=b,b=c,c=void 0);a.each(a.livequery.queries,function(a,h){if(e.selector==h.selector&&e.context==h.context&&c==h.type&&(!b||b.$lqguid==h.fn.$lqguid)&&(!d||d.$lqguid==h.fn2.$lqguid))return(f=h)&&!1});f=f||new a.livequery(this.selector,this.context,c,b,d);f.stopped=!1;f.run();return this},expire:function(c,b,d){var e=this;a.isFunction(c)&&(d=b,b=c,c=void 0);a.each(a.livequery.queries,function(f,g){e.selector==g.selector&&
(e.context==g.context&&(!c||c==g.type)&&(!b||b.$lqguid==g.fn.$lqguid)&&(!d||d.$lqguid==g.fn2.$lqguid)&&!this.stopped)&&a.livequery.stop(g.id)});return this}});a.livequery=function(c,b,d,e,f){this.selector=c;this.context=b;this.type=d;this.fn=e;this.fn2=f;this.elements=[];this.stopped=!1;this.id=a.livequery.queries.push(this)-1;e.$lqguid=e.$lqguid||a.livequery.guid++;f&&(f.$lqguid=f.$lqguid||a.livequery.guid++);return this};a.livequery.prototype={stop:function(){var a=this;this.type?this.elements.unbind(this.type,
this.fn):this.fn2&&this.elements.each(function(b,d){a.fn2.apply(d)});this.elements=[];this.stopped=!0},run:function(){if(!this.stopped){var c=this,b=this.elements,d=a(this.selector,this.context),e=d.not(b);this.elements=d;this.type?(e.bind(this.type,this.fn),0<b.length&&a.each(b,function(b,e){0>a.inArray(e,d)&&a.event.remove(e,c.type,c.fn)})):(e.each(function(){c.fn.apply(this)}),this.fn2&&0<b.length&&a.each(b,function(b,e){0>a.inArray(e,d)&&c.fn2.apply(e)}))}}};a.extend(a.livequery,{guid:0,queries:[],
queue:[],running:!1,timeout:null,checkQueue:function(){if(a.livequery.running&&a.livequery.queue.length)for(var c=a.livequery.queue.length;c--;)a.livequery.queries[a.livequery.queue.shift()].run()},pause:function(){a.livequery.running=!1},play:function(){a.livequery.running=!0;a.livequery.run()},registerPlugin:function(){a.each(arguments,function(c,b){if(a.fn[b]){var d=a.fn[b];a.fn[b]=function(){var b=d.apply(this,arguments);a.livequery.run();return b}}})},run:function(c){void 0!=c?0>a.inArray(c,
a.livequery.queue)&&a.livequery.queue.push(c):a.each(a.livequery.queries,function(b){0>a.inArray(b,a.livequery.queue)&&a.livequery.queue.push(b)});a.livequery.timeout&&clearTimeout(a.livequery.timeout);a.livequery.timeout=setTimeout(a.livequery.checkQueue,20)},stop:function(c){void 0!=c?a.livequery.queries[c].stop():a.each(a.livequery.queries,function(b){a.livequery.queries[b].stop()})}});a.livequery.registerPlugin("append","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass",
"toggleClass","empty","remove","html");a(function(){a.livequery.play()})})(jQuery);
/*!
 * jQuery Form Plugin
 * version: 3.24 (26-DEC-2012)
 * @requires jQuery v1.5 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses:
 *    http://malsup.github.com/mit-license.txt
 *    http://malsup.github.com/gpl-license-v2.txt
 */
(function(c){function v(a){var e=a.data;a.isDefaultPrevented()||(a.preventDefault(),c(this).ajaxSubmit(e))}function u(a){var e=a.target,f=c(e);if(!f.is("[type=submit],[type=image]")){e=f.closest("[type=submit]");if(0===e.length)return;e=e[0]}var b=this;b.clk=e;"image"==e.type&&(void 0!==a.offsetX?(b.clk_x=a.offsetX,b.clk_y=a.offsetY):"function"==typeof c.fn.offset?(f=f.offset(),b.clk_x=a.pageX-f.left,b.clk_y=a.pageY-f.top):(b.clk_x=a.pageX-e.offsetLeft,b.clk_y=a.pageY-e.offsetTop));setTimeout(function(){b.clk=
b.clk_x=b.clk_y=null},100)}function q(){if(c.fn.ajaxSubmit.debug){var a="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(a):window.opera&&window.opera.postError&&window.opera.postError(a)}}var B,C;B=void 0!==c("<input type='file'/>").get(0).files;C=void 0!==window.FormData;c.fn.ajaxSubmit=function(a){function e(b){function e(){function a(){try{var c=(r.contentWindow?r.contentWindow.document:r.contentDocument?r.contentDocument:r.document).readyState;
q("state = "+c);c&&"uninitialized"==c.toLowerCase()&&setTimeout(a,50)}catch(b){q("Server abort: ",b," (",b.name,")"),k(y),u&&clearTimeout(u),u=void 0}}var b=l.attr("target"),h=l.attr("action");g.setAttribute("target",n);f||g.setAttribute("method","POST");h!=d.url&&g.setAttribute("action",d.url);!d.skipEncodingOverride&&(!f||/post/i.test(f))&&l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});d.timeout&&(u=setTimeout(function(){v=!0;k(z)},d.timeout));var m=[];try{if(d.extraData)for(var j in d.extraData)d.extraData.hasOwnProperty(j)&&
(c.isPlainObject(d.extraData[j])&&d.extraData[j].hasOwnProperty("name")&&d.extraData[j].hasOwnProperty("value")?m.push(c('<input type="hidden" name="'+d.extraData[j].name+'">').val(d.extraData[j].value).appendTo(g)[0]):m.push(c('<input type="hidden" name="'+j+'">').val(d.extraData[j]).appendTo(g)[0]));d.iframeTarget||(x.appendTo("body"),r.attachEvent?r.attachEvent("onload",k):r.addEventListener("load",k,!1));setTimeout(a,15);g.submit()}finally{g.setAttribute("action",h),b?g.setAttribute("target",
b):l.removeAttr("target"),c(m).remove()}}function k(a){if(!h.aborted&&!C){try{s=r.contentWindow?r.contentWindow.document:r.contentDocument?r.contentDocument:r.document}catch(b){q("cannot access response document: ",b),a=y}if(a===z&&h)h.abort("timeout"),w.reject(h,"timeout");else if(a==y&&h)h.abort("server abort"),w.reject(h,"error","server abort");else if(s&&s.location.href!=d.iframeSrc||v){r.detachEvent?r.detachEvent("onload",k):r.removeEventListener("load",k,!1);a="success";var e;try{if(v)throw"timeout";
var f="xml"==d.dataType||s.XMLDocument||c.isXMLDoc(s);q("isXml="+f);if(!f&&(window.opera&&(null===s.body||!s.body.innerHTML))&&--B){q("requeing onLoad callback, DOM not available");setTimeout(k,250);return}var g=s.body?s.body:s.documentElement;h.responseText=g?g.innerHTML:null;h.responseXML=s.XMLDocument?s.XMLDocument:s;f&&(d.dataType="xml");h.getResponseHeader=function(a){return{"content-type":d.dataType}[a]};g&&(h.status=Number(g.getAttribute("status"))||h.status,h.statusText=g.getAttribute("statusText")||
h.statusText);var j=(d.dataType||"").toLowerCase(),l=/(json|script|text)/.test(j);if(l||d.textarea){var n=s.getElementsByTagName("textarea")[0];if(n)h.responseText=n.value,h.status=Number(n.getAttribute("status"))||h.status,h.statusText=n.getAttribute("statusText")||h.statusText;else if(l){var p=s.getElementsByTagName("pre")[0],D=s.getElementsByTagName("body")[0];p?h.responseText=p.textContent?p.textContent:p.innerText:D&&(h.responseText=D.textContent?D.textContent:D.innerText)}}else"xml"==j&&(!h.responseXML&&
h.responseText)&&(h.responseXML=F(h.responseText));try{var f=h,g=d,t=f.getResponseHeader("content-type")||"",G="xml"===j||!j&&0<=t.indexOf("xml"),A=G?f.responseXML:f.responseText;G&&"parsererror"===A.documentElement.nodeName&&c.error&&c.error("parsererror");g&&g.dataFilter&&(A=g.dataFilter(A,j));"string"===typeof A&&("json"===j||!j&&0<=t.indexOf("json")?A=I(A):("script"===j||!j&&0<=t.indexOf("javascript"))&&c.globalEval(A));E=A}catch(J){a="parsererror",h.error=e=J||a}}catch(H){q("error caught: ",
H),a="error",h.error=e=H||a}h.aborted&&(q("upload aborted"),a=null);h.status&&(a=200<=h.status&&300>h.status||304===h.status?"success":"error");"success"===a?(d.success&&d.success.call(d.context,E,"success",h),w.resolve(h.responseText,"success",h),m&&c.event.trigger("ajaxSuccess",[h,d])):a&&(void 0===e&&(e=h.statusText),d.error&&d.error.call(d.context,h,a,e),w.reject(h,"error",e),m&&c.event.trigger("ajaxError",[h,d,e]));m&&c.event.trigger("ajaxComplete",[h,d]);m&&!--c.active&&c.event.trigger("ajaxStop");
d.complete&&d.complete.call(d.context,h,a);C=!0;d.timeout&&clearTimeout(u);setTimeout(function(){d.iframeTarget||x.remove();h.responseXML=null},100)}}}var g=l[0],j,d,m,n,x,r,h,t,v,u;t=!!c.fn.prop;var w=c.Deferred();if(c("[name=submit],[id=submit]",g).length)return alert('Error: Form elements must not have name or id of "submit".'),w.reject(),w;if(b)for(j=0;j<p.length;j++)b=c(p[j]),t?b.prop("disabled",!1):b.removeAttr("disabled");d=c.extend(!0,{},c.ajaxSettings,a);d.context=d.context||d;n="jqFormIO"+
(new Date).getTime();d.iframeTarget?(x=c(d.iframeTarget),(b=x.attr("name"))?n=b:x.attr("name",n)):(x=c('<iframe name="'+n+'" src="'+d.iframeSrc+'" />'),x.css({position:"absolute",top:"-1000px",left:"-1000px"}));r=x[0];h={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(a){var b="timeout"===a?"timeout":"aborted";q("aborting upload... "+b);this.aborted=1;try{r.contentWindow.document.execCommand&&
r.contentWindow.document.execCommand("Stop")}catch(e){}x.attr("src",d.iframeSrc);h.error=b;d.error&&d.error.call(d.context,h,b,a);m&&c.event.trigger("ajaxError",[h,d,b]);d.complete&&d.complete.call(d.context,h,b)}};(m=d.global)&&0===c.active++&&c.event.trigger("ajaxStart");m&&c.event.trigger("ajaxSend",[h,d]);if(d.beforeSend&&!1===d.beforeSend.call(d.context,h,d))return d.global&&c.active--,w.reject(),w;if(h.aborted)return w.reject(),w;if(t=g.clk)if((b=t.name)&&!t.disabled)d.extraData=d.extraData||
{},d.extraData[b]=t.value,"image"==t.type&&(d.extraData[b+".x"]=g.clk_x,d.extraData[b+".y"]=g.clk_y);var z=1,y=2;t=c("meta[name=csrf-token]").attr("content");if((b=c("meta[name=csrf-param]").attr("content"))&&t)d.extraData=d.extraData||{},d.extraData[b]=t;d.forceSync?e():setTimeout(e,10);var E,s,B=50,C,F=c.parseXML||function(a,b){window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml");return b&&b.documentElement&&
"parsererror"!=b.documentElement.nodeName?b:null},I=c.parseJSON||function(a){return window.eval("("+a+")")};return w}if(!this.length)return q("ajaxSubmit: skipping submit process - no element selected"),this;var f,b,l=this;"function"==typeof a&&(a={success:a});f=this.attr("method");b=this.attr("action");(b=(b="string"===typeof b?c.trim(b):"")||window.location.href||"")&&(b=(b.match(/^([^#]+)/)||[])[1]);a=c.extend(!0,{url:b,success:c.ajaxSettings.success,type:f||"GET",iframeSrc:/^https/i.test(window.location.href||
"")?"javascript:false":"about:blank"},a);b={};this.trigger("form-pre-serialize",[this,a,b]);if(b.veto)return q("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(a.beforeSerialize&&!1===a.beforeSerialize(this,a))return q("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var g=a.traditional;void 0===g&&(g=c.ajaxSettings.traditional);var p=[],k,m=this.formToArray(a.semantic,p);a.data&&(a.extraData=a.data,k=c.param(a.data,g));if(a.beforeSubmit&&!1===a.beforeSubmit(m,this,
a))return q("ajaxSubmit: submit aborted via beforeSubmit callback"),this;this.trigger("form-submit-validate",[m,this,a,b]);if(b.veto)return q("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;b=c.param(m,g);k&&(b=b?b+"&"+k:k);"GET"==a.type.toUpperCase()?(a.url+=(0<=a.url.indexOf("?")?"&":"?")+b,a.data=null):a.data=b;var j=[];a.resetForm&&j.push(function(){l.resetForm()});a.clearForm&&j.push(function(){l.clearForm(a.includeHidden)});if(!a.dataType&&a.target){var E=a.success||function(){};
j.push(function(b){var e=a.replaceTarget?"replaceWith":"html";c(a.target)[e](b).each(E,arguments)})}else a.success&&j.push(a.success);a.success=function(b,c,e){for(var g=a.context||this,f=0,d=j.length;f<d;f++)j[f].apply(g,[b,c,e||l,l])};k=0<c('input[type=file]:enabled[value!=""]',this).length;b="multipart/form-data"==l.attr("enctype")||"multipart/form-data"==l.attr("encoding");g=B&&C;q("fileAPI :"+g);var y;if(!1!==a.iframe&&(a.iframe||(k||b)&&!g))a.closeKeepAlive?c.get(a.closeKeepAlive,function(){y=
e(m)}):y=e(m);else if((k||b)&&g){var v=new FormData;for(k=0;k<m.length;k++)v.append(m[k].name,m[k].value);if(a.extraData){k=c.param(a.extraData).split("&");b=k.length;var g={},z,u;for(z=0;z<b;z++)k[z]=k[z].replace(/\+/g," "),u=k[z].split("="),g[decodeURIComponent(u[0])]=decodeURIComponent(u[1]);for(var n in g)g.hasOwnProperty(n)&&v.append(n,g[n])}a.data=null;n=c.extend(!0,{},c.ajaxSettings,a,{contentType:!1,processData:!1,cache:!1,type:f||"POST"});a.uploadProgress&&(n.xhr=function(){var b=jQuery.ajaxSettings.xhr();
b.upload&&(b.upload.onprogress=function(b){var c=0,e=b.loaded||b.position,f=b.total;b.lengthComputable&&(c=Math.ceil(100*(e/f)));a.uploadProgress(b,e,f,c)});return b});n.data=null;var F=n.beforeSend;n.beforeSend=function(a,b){b.data=v;F&&F.call(this,a,b)};y=c.ajax(n)}else y=c.ajax(a);l.removeData("jqxhr").data("jqxhr",y);for(n=0;n<p.length;n++)p[n]=null;this.trigger("form-submit-notify",[this,a]);return this};c.fn.ajaxForm=function(a){a=a||{};a.delegation=a.delegation&&c.isFunction(c.fn.on);if(!a.delegation&&
0===this.length){var e=this.selector,f=this.context;if(!c.isReady&&e)return q("DOM not ready, queuing ajaxForm"),c(function(){c(e,f).ajaxForm(a)}),this;q("terminating; zero elements found by selector"+(c.isReady?"":" (DOM not ready)"));return this}return a.delegation?(c(document).off("submit.form-plugin",this.selector,v).off("click.form-plugin",this.selector,u).on("submit.form-plugin",this.selector,a,v).on("click.form-plugin",this.selector,a,u),this):this.ajaxFormUnbind().bind("submit.form-plugin",
a,v).bind("click.form-plugin",a,u)};c.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};c.fn.formToArray=function(a,e){var f=[];if(0===this.length)return f;var b=this[0],l=a?b.getElementsByTagName("*"):b.elements;if(!l)return f;var g,p,k,m,j,q;g=0;for(q=l.length;g<q;g++)if(j=l[g],k=j.name)if(a&&b.clk&&"image"==j.type)!j.disabled&&b.clk==j&&(f.push({name:k,value:c(j).val(),type:j.type}),f.push({name:k+".x",value:b.clk_x},{name:k+".y",value:b.clk_y}));else if((m=
c.fieldValue(j,!0))&&m.constructor==Array){e&&e.push(j);p=0;for(j=m.length;p<j;p++)f.push({name:k,value:m[p]})}else if(B&&"file"==j.type&&!j.disabled)if(e&&e.push(j),m=j.files,m.length)for(p=0;p<m.length;p++)f.push({name:k,value:m[p],type:j.type});else f.push({name:k,value:"",type:j.type});else null!==m&&"undefined"!=typeof m&&(e&&e.push(j),f.push({name:k,value:m,type:j.type,required:j.required}));if(!a&&b.clk&&(l=c(b.clk),g=l[0],(k=g.name)&&!g.disabled&&"image"==g.type))f.push({name:k,value:l.val()}),
f.push({name:k+".x",value:b.clk_x},{name:k+".y",value:b.clk_y});return f};c.fn.formSerialize=function(a){return c.param(this.formToArray(a))};c.fn.fieldSerialize=function(a){var e=[];this.each(function(){var f=this.name;if(f){var b=c.fieldValue(this,a);if(b&&b.constructor==Array)for(var l=0,g=b.length;l<g;l++)e.push({name:f,value:b[l]});else null!==b&&"undefined"!=typeof b&&e.push({name:this.name,value:b})}});return c.param(e)};c.fn.fieldValue=function(a){for(var e=[],f=0,b=this.length;f<b;f++){var l=
c.fieldValue(this[f],a);null===l||("undefined"==typeof l||l.constructor==Array&&!l.length)||(l.constructor==Array?c.merge(e,l):e.push(l))}return e};c.fieldValue=function(a,e){var f=a.name,b=a.type,l=a.tagName.toLowerCase();void 0===e&&(e=!0);if(e&&(!f||a.disabled||"reset"==b||"button"==b||("checkbox"==b||"radio"==b)&&!a.checked||("submit"==b||"image"==b)&&a.form&&a.form.clk!=a||"select"==l&&-1==a.selectedIndex))return null;if("select"==l){var g=a.selectedIndex;if(0>g)return null;for(var f=[],l=a.options,
p=(b="select-one"==b)?g+1:l.length,g=b?g:0;g<p;g++){var k=l[g];if(k.selected){var m=k.value;m||(m=k.attributes&&k.attributes.value&&!k.attributes.value.specified?k.text:k.value);if(b)return m;f.push(m)}}return f}return c(a).val()};c.fn.clearForm=function(a){return this.each(function(){c("input,select,textarea",this).clearFields(a)})};c.fn.clearFields=c.fn.clearInputs=function(a){var e=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var f=
this.type,b=this.tagName.toLowerCase();if(e.test(f)||"textarea"==b)this.value="";else if("checkbox"==f||"radio"==f)this.checked=!1;else if("select"==b)this.selectedIndex=-1;else if("file"==f)c.browser.msie?c(this).replaceWith(c(this).clone()):c(this).val("");else if(a&&(!0===a&&/hidden/.test(f)||"string"==typeof a&&c(this).is(a)))this.value=""})};c.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})};
c.fn.enable=function(a){void 0===a&&(a=!0);return this.each(function(){this.disabled=!a})};c.fn.selected=function(a){void 0===a&&(a=!0);return this.each(function(){var e=this.type;"checkbox"==e||"radio"==e?this.checked=a:"option"==this.tagName.toLowerCase()&&(e=c(this).parent("select"),a&&(e[0]&&"select-one"==e[0].type)&&e.find("option").selected(!1),this.selected=a)})};c.fn.ajaxSubmit.debug=!1})(jQuery);
window.log=function(){log.history=log.history||[];log.history.push(arguments);this.console&&console.log(Array.prototype.slice.call(arguments))};
var fixSidebar=function(){if(480>window.innerWidth)return!0;var a=$('.complimentary[role="complimentary"]'),b=$('.main[role="main"]'),a=a.height(),c=b.height();a>c&&b.css({"min-height":a+20+"px"})},modalFixSidebar=function(){var a=$(".modal .complimentary"),b=$(".modal .main"),c=$(".modal"),a=a.height(),d=b.height(),c=c.height();c>d?b.css({"min-height":c+"px"}):a>d&&b.css({"min-height":a+20+"px"})},getUrlData=function(a){a=a.attr("href");var b={},c=0,d={},d={};if(!a)return b;d=a.split(/\?/);script=
d[0];d=d[1];for(d=d.split(/\&/);c<d.length;)_var=d[c],_split=_var.split(/\=/),b[_split[0]]=_split[1],c++;b.script=script;return b},makeExpandingArea=function(a){var b=a.querySelector("textarea"),c=a.querySelector("span");b.addEventListener?(b.addEventListener("input",function(){c.textContent=b.value},!1),c.textContent=b.value):b.attachEvent&&(b.attachEvent("onpropertychange",function(){c.innerText=b.value}),c.innerText=b.value);a.className+=" active"},loading=function(a,b){switch(b){case "before":a.before('<div class="loading"></div>');
break;case "after":a.after('<div class="loading"></div>');break;case "append":setupLoadingDots(a);break;default:a.html('<div class="loading"></div>')}},setupLoadingDots=function(a){a.append('<span class="loading-dots">.</span>');setTimeout(function(){loadingDots(a.find(".loading-dots"))},1E3)},loadingDots=function(a){a.length&&(3<a.html().length?a.html("."):a.append("."),setTimeout(function(){loadingDots(a)},1E3))},gettingSeeMoreTopics=function(){},seeMoreTopicsError=function(){$(".see-more-topics").removeData("disable");
$(".loading").remove()},seeMoreTopicsSuccess=function(a){var b=$(a.classname),c=b.parent().parent().children("ul"),d=a.more_link;b.removeData("disable").attr("href",d);$(".loading").remove();c.html(a.html);a.still_some_left||b.remove()},gettingSeeMorePeople=function(){},seeMorePeopleError=function(){$(".see-more-people").removeData("disable");$(".loading").remove()},seeMorePeopleSuccess=function(a){var b=$(a.classname),c=b.parent().parent().children("ul"),d=a.more_link;b.removeData("disable").attr("href",
d);$(".loading").remove();c.html(a.html);a.still_some_left||b.remove()},showModal=function(){$("#genericModal").modal("show");return!0},getStatUserContent=function(a){if(null==a)return!1;$.ajax({url:a,dataType:"json",success:modalAjaxSuccess,beforeSend:modalLoading})},modalAjaxSuccess=function(a){!0===a.success&&($("#genericModal .main").html(a.main_content),$("#genericModal .complimentary").html(a.complimentary_content),setTimeout(function(){modalFixSidebar()},100))},modalLoading=function(){loading($("#genericModal .main"));
$("#genericModal .complimentary").html("");showModal()},modalActivateLink=function(a,b){a.closest(".page-options").find("a").not(b).removeClass("active");a.addClass("active")},tooltip=function(a,b){return'<div class="tooltip '+(b.length?"tooltip-"+b:"")+' bottom"><div class="tooltip-arrow"></div><div class="tooltip-inner">'+a+"</div></div>"},supportsSVG=function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect},responsiveNavigation=function(){var a=
$('header div[role="navigation"]'),b='<nav class="hide responsive-nav">'+$('header div[role="navigation"] nav:not(.responsive-navigation)').html()+"</nav>";a.append('<nav class="reponsive-navigation"><ul><li><a href="#search" id="responsive-search"><i class="icon-search"></i><span class="hide">Search</span></a></li><li><a href="#navigation" id="responsive-nav"><i class="icon-reorder"></i><span class="hide">Navigation</span></a></li></ul></nav>');$(".stripe").append('<form action="/search/" method="get" role="search" class="responsive-search hide"><input type="text" name="search-query" placeholder="Search questions, topics and people" class="search-input" value="" /><input type="hidden" name="filter" value="" /></form>');
$(".stripe").append(b);$("#ask_question").appendTo(".stripe .hlink-ask")};if(document.querySelectorAll)for(var areas=document.querySelectorAll(".expandingArea"),l=areas.length;l--;)makeExpandingArea(areas[l]);if(supportsSVG())document.documentElement.className+=" svg";else{document.documentElement.className+=" no-svg";for(var imgs=document.getElementsByTagName("img"),dotSVG=/.*\.svg$/,i=0;i!=imgs.length;++i)imgs[i].src.match(dotSVG)&&(imgs[i].src=imgs[i].src.slice(0,-3)+"png")}
$(function(){fixSidebar();480>window.innerWidth&&responsiveNavigation();$("#responsive-search").on("click",function(a){a.preventDefault();$("#responsive-nav").hasClass("active")&&$("#responsive-nav").click();$(this).toggleClass("active");$(".responsive-search").toggleClass("hide")});$("#responsive-nav").on("click",function(a){a.preventDefault();$("#responsive-search").hasClass("active")&&$("#responsive-search").click();$(this).toggleClass("active");$(".responsive-nav").toggleClass("hide")});$("body").delegate("#genericModal .who-dunnit a",
"click",function(a){a.preventDefault();a=a.target;var b=$(a);modalActivateLink(b,a);getStatUserContent("/ajax"+b.attr("href"))});$("body").delegate(".see-more-topics","click",function(a){a.preventDefault();a=$(this);"1"!=a.data("disable")&&(a.data("disable","1"),url_data=getUrlData(a),$.ajax({type:"GET",dataType:"json",url:"/ajax"+a.attr("href"),data:url_data,success:seeMoreTopicsSuccess,beforeSend:gettingSeeMoreTopics,error:seeMoreTopicsError}))});$("body").delegate(".see-more-people","click",function(a){a.preventDefault();
a=$(this);"1"!=a.data("disable")&&(a.data("disable","1"),url_data=getUrlData(a),$.ajax({type:"GET",dataType:"json",url:"/ajax"+a.attr("href"),data:url_data,success:seeMorePeopleSuccess,beforeSend:gettingSeeMorePeople,error:seeMorePeopleError}))});$(".kill-link").on("click",function(a){a.preventDefault()})});
$(function(){$(".search-typeahead").typeahead({source:function(a,e){names=[];map={};a=a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\+/g,"\\+").replace(/\-/g,"\\-").replace(/\&\&/g,"\\&\\&").replace(/\|\|/g,"\\|\\|").replace(/\!/g,"\\!").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\{/g,"\\{").replace(/\}/g,"\\}").replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/\~/g,"\\~").replace(/\*/g,"\\*").replace(/\?/g,"\\?").replace(/\:/g,"\\:");data=$.getJSON("/search.json",
{size:20,q:a+"*"},function(a){source=a;search_results=[];map={};var d;a=source.hits.hits;var b,c;for(d in a){result=a[d];c=b=null;switch(result._source.resource_type){case "question":b=result._source.question;c=result._source.page;break;case "category":b="Topic: "+result._source.category;c=result._source.url.replace(/^\//,"");break;case "user":b="Person: "+result._source.name,c="u/"+result._source.id+"/"}b&&c&&(str=b+'<span class="hidden_user_id">'+c+"</span>",search_results.push(str))}e(search_results)})},
items:5,minLength:1,updater:function(a){if(a&&a.length)return page=a.match(/<span[^>]*?>.*?<\/span>/)[0].replace(/<span[^>]*?>(.*?)<\/span>/,"$1"),name=a.replace(/<span[^>]*?>.*?<\/span>/,""),document.location.href="/"+page,name;$(".search-typeahead").closest("form").submit()},matcher:function(){return!0},highlighter:function(a){span=a.match(/<span[^>]*?>.*?<\/span>/)[0];string=a.replace(/<span[^>]*?>.*?<\/span>/,"");this.query=this.query.replace(/^\s\s*/,"").replace(/\s\s*$/,"");query=this.query.split(" ").join("|");
query=(query+"").replace(RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&");string=string.replace(RegExp("\\b("+query+")\\b","gi"),"<strong>$1</strong>");return string+span},menu:'<ul class="typeahead dropdown-menu search-suggestions"></ul>',autoselect:!1})});
var processingAskStepOne=function(){var a=$("#askStepOne button");a.data("originaltext",a.html()).html("Checking").attr("disabled","disabled");loading(a,"append")},processAskStepOne=function(a){!1===a.success&&a.redirect&&a.redirect.length?document.location.href=a.redirect:!1===a.success&&a.error_text?(handleAskErrors(a.error_text),a=$("#askStepOne button"),a.html(a.data("originaltext")).removeAttr("disabled").find(".loading-dots").remove()):$("#ask_popdown").html(a.html)},processAskStepOneError=
function(){var a=$("#askStepOne button");a.html(a.data("originaltext")).removeAttr("disabled").find(".loading-dots").remove()},processingAskStepTwo=function(){var a=$("#askStepTwo button");a.data("originaltext",a.html()).html("Asking").attr("disabled","disabled");loading(a,"append")},processAskStepTwo=function(a){!1===a.success&&a.redirect&&a.redirect.length?document.location.href=a.redirect:!1===a.success&&!1===a.loggedin?$("#loginModal").modal("show"):!1===a.success&&a.error_text?(a=$("#askStepTwo button"),
a.html(a.data("originaltext")).removeAttr("disabled").find(".loading-dots").remove(),$("#ask_popdown").html('<div class="error-text">'+error_text+"</div>")):($("#ask_popdown").html(a.html),0!=blurtit.user_id&&mixpanel.people.increment({Asked:1}))},processAskStepTwoError=function(){var a=$("#askStepTwo button");a.html(a.data("originaltext")).removeAttr("disabled").find(".loading-dots").remove()},retractAskPopdown=function(){$("#ask_question").collapse("hide");$("#ask_button").removeClass("active")},
resetAskPopdown=function(){$.ajax({url:"/ajax/templates/elements/ask_question.php",dataType:"html",success:function(a){$("#ask_popdown").html(a)}})},handleAskErrors=function(a){$("#ask_question .error-text").html(a)};
$(function(){setTimeout(resetAskPopdown,250);$("body").delegate(".category-selection input","click",function(){var a=$(this),b=$(".category-selection input"),c;for(c in b)$_input=b[c],"checkbox"==$_input.type&&$_input.value!==this.value&&$($_input).removeAttr("checked");a.attr("checked",!0)});$("body").delegate("#ask_button","click",function(a){a.preventDefault();$button=$(this);$button.hasClass("active")&&setTimeout(resetAskPopdown,1E3);$button.toggleClass("active");$(".collapse").collapse()});$("body").delegate("#askStepOne",
"submit",function(a){a.preventDefault();$form=$(this);$form.ajaxSubmit({dataType:"json",data:{ask_next:"1"},success:processAskStepOne,beforeSend:processingAskStepOne,error:processAskStepOneError})});$("#askStepTwo").livequery("submit",function(a){a.preventDefault();$form=$(this);$form.ajaxSubmit({dataType:"json",data:{ask_submit:"1"},success:processAskStepTwo,beforeSend:processingAskStepTwo,error:processAskStepTwoError})})});
var activateLink=function(a){$(a).closest(".login-nav").find("a").not(a).removeClass("active");$(a).addClass("active")},loadContent=function(a){a=tidyLinkText(a);"Sign Up"==a?loadSignup():"Login"==a&&loadLogin()},loadSignup=function(){$.ajax({url:"/ajax/signup_modal.php",data:{main:"1"},success:loadHTML})},loadLogin=function(){$.ajax({url:"/ajax/login_modal.php",data:{main:"1"},success:loadHTML})},loadHTML=function(a){$("#loginModal .main").html(a)},tidyLinkText=function(a){return link_text=a.innerHTML.replace(/<i[^>]*?>.*<\/i>/i,
"")};$(function(){$("body").delegate(".login-nav.page-options a","click",function(a){a.preventDefault();a=a.target;activateLink(a);loadContent(a)})});
var processingAnswer=function(){var a=$("#answerForm button");a.data("originaltext",a.html()).html("Answering").attr("disabled","disabled");loading(a,"append");window.onbeforeunload=null},processAnswer=function(a){if(!1===a.success&&a.redirect&&a.redirect.length)document.location.href=a.redirect;else if(!1===a.success&&!1===a.loggedin)$("#loginModal").modal("show");else if(!1===a.success&&a.error_text){var b=$("#answerForm button");b.html(b.data("originaltext")).removeAttr("disabled").find(".loading-dots").remove();
handleAnswerErrors(a.error_text)}else addAnswerToPage(a.html),removeAnswerForm(),0!=blurtit.user_id&&mixpanel.people.increment({Answered:1})},processAnswerError=function(){var a=$("#answerForm button");a.html(a.data("originaltext")).removeAttr("disabled").find(".loading-dots").remove()},handleAnswerErrors=function(a){$("#answerForm .redactor_box").after(tooltip(a,"danger")).closest("#answerForm").find(".tooltip").addClass("in")},addAnswerToPage=function(a){var b=$(".more-answers");0<b.length?b.before(a):
(log(a),$("#answers .heading-bar").length?$("#answers").append(a):$("#answers").append('<div class="clearfix heading-bar"><h2 class="pull-left">Answers</h2></div>').append(a));updateNumAnswers()},removeAnswerForm=function(){$("#answerForm").remove()},makeAnonymous=function(a){var b="1",c=a.closest("form").find("#answerAnonymous");"1"===c.val()?(b="0",c.val(b),a.html(a.data("originaltext")),a.closest("form").find(".media-thumb img").attr({src:blurtit.profile_pic,alt:blurtit.full_name}).end().closest("form").find("span.answerer-name").html(blurtit.fullname)):
(a.closest("form").find(".media-thumb img").attr({src:blurtit.anonymous_profile_pic,alt:blurtit.anonymous_name}).end().closest("form").find("span.answerer-name").html(blurtit.anonymous_name),a.data("originaltext",a.html()).html("Make public"));c.val(b);return b},updateNumAnswers=function(){var a,b,c;$(".complimentary nav.stats ul>li:first-child a").html().match(/answers/i)&&(a=$(".complimentary nav.stats ul>li:first-child a"),b=a.html().match(/\d+/),b=parseInt(b,10),b+=1,c=a.html().replace(/\d+/,
b),a.html(c));return b};
$(function(){$("body").delegate("#answerForm form","submit",function(a){a.preventDefault();a=$(this);var b=Math.round((new Date).getTime()/1E3);a.find("#time_on_submit").val(b).end().ajaxSubmit({dataType:"json",data:{answer_submit:"1"},success:processAnswer,beforeSend:processingAnswer,error:processAnswerError})});$("html:not(.lt-ie7) .wysiwyg").redactor({buttons:"bold italic underline | unorderedlist orderedlist outdent indent | image video link".split(" "),imageUpload:"/ajax/answerImageUpload.php"});$("body").delegate(".make-anon",
"click",function(a){a.preventDefault();a=$(this);makeAnonymous(a)});$("html:not(.lt-ie7) .bio-typeahead-answer").typeahead({source:function(a,b){return $.getJSON("/ajax/answer.php",{query:a,bio:1},function(a){return b(a)})},items:5});$("html:not(.lt-ie7) .wysiwyg, html:not(.lt-ie7) .redactor_wysiwyg").on("focusin",function(){var a,b=$("#time_on_focus");b.length&&0===b.val().length&&(a=Math.round((new Date).getTime()/1E3),b.val(a))});$("body").on("keypress",".wysiswyg, .redactor_wysiwyg, .redactor_editor",
function(){window.onbeforeunload=function(){return"You have unsaved changes!"}});$("html:not(.lt-ie7) .wysiwyg, html:not(.lt-ie7) .redactor_wysiwyg").on("keypress",function(){var a,b=$("#time_on_keypress");b.length&&0===b.val().length&&(a=Math.round((new Date).getTime()/1E3),b.val(a))})});
$(function(){$("body").delegate(".click-to-edit-question","click",function(a){if(!1===blurtit.loggedin)return!0;a.preventDefault();a=$(this);var b=$("#question"+a.data("questionid"));b.length&&(b.attr("contenteditable","true").focus(),a.html("Save Edit").attr("href","#save_edit").addClass("save-edit"))});$("body").delegate(".click-to-edit-question.save-edit","click",function(a){if(!1===blurtit.loggedin)return!0;a.preventDefault();var b=$(this);a=b.data("questionid");var c=$("#question"+a),d=c.html();
$.ajax({url:"/ajax/edit_question.php",data:{question_id:a,question_text:d,user_id:blurtit.user_id},dataType:"json",type:"POST",success:function(a){!0===a.success&&(c.attr("contenteditable","false"),b.html(a.link_text||"Suggestion Pending").attr("href","#suggest_question_edit").removeClass("save-edit"))}})});$("body").delegate(".click-to-edit","click",function(a){if(!1===blurtit.loggedin)return!0;a.preventDefault();a=$(this);$("#answer"+a.data("answerid")).redactor({focus:!0,buttons:"bold italic underline | unorderedlist orderedlist outdent indent | image video link".split(" "),
imageUpload:"/ajax/answerImageUpload.php"});a.html("Save Edit").attr("href","#save_edit").addClass("save-edit")});$("body").delegate(".click-to-edit.save-edit","click",function(a){if(!1===blurtit.loggedin)return!0;a.preventDefault();var b=$(this);a=b.data("answerid");var c=b.data("questionid"),d=$("#answer"+a),f=d.getCode();$.ajax({url:"/ajax/edit_answer.php",data:{answer_id:a,question_id:c,answer_text:f,user_id:blurtit.user_id},dataType:"json",type:"POST",success:function(a){!0===a.success&&(d.destroyEditor(),
b.html(a.link_text||"Suggestion Pending").attr("href","#suggest_edit").removeClass("save-edit"),window.onbeforeunload=null)}})});$("body").delegate(".save-edit-response","click",function(a){if(!1===blurtit.loggedin)return!0;a.preventDefault();var b=$(this);a=getUrlData(b);if("true"!==b.data("disabled")){b.data("disabled","true");var c=b.parents("ul").children("li").children("a.save-edit-response-inactive");$.ajax({url:a.script,data:a,dataType:"json",type:"POST",success:function(a){if(!0===a.success){switch(b.html()){case "Accept":b.html("Accepted");
c.html("Decline");break;case "Decline":b.html("Declined"),c.html("Accept")}b.addClass("save-edit-response-inactive");c.data("disabled","false").removeClass("save-edit-response-inactive")}else b.html("failed")}})}});$("body").on("click","#edit_category",function(a){if(!1===blurtit.loggedin)return!0;a.preventDefault();a=$(this);$(".edit-category-wrapper").length?($(".edit-category-wrapper").addClass("hide"),setTimeout(function(){$(".edit-category-wrapper").remove()},250)):$.ajax({url:"/ajax/edit_category.php",
data:{question_id:a.data("questionid"),step:"1"},dataType:"json",type:"POST",success:function(a){!0===a.success&&$(".breadcrumb").after(a.htmloutput)}})});$("body").on("click",".suggestions-tab, .browse-tab",function(a){a.preventDefault();var b=$(this);b.hasClass("active")||$.ajax({url:"/ajax/edit_category.php",data:{question_id:b.closest(".edit-category-wrapper").find("form #edit_question_question_id").val(),tab:b.attr("class")},dataType:"json",type:"POST",success:function(a){!0===a.success&&$(".category-option-holder").html(a.htmloutput)},
beforeSend:function(){b.parents("ul").find(".active").removeClass("active");b.addClass("active")}})});blurtit.categories={};$("body").on("click",".categories-item",function(a){a.preventDefault();if("click"==a.type){var b=$(this),c=b.closest(".categories-holder"),d=c.nextAll(".categories-holder"),f=$(d[0]),e={},g=3,h=c.prevAll(".categories-holder").length+1;a=function(){h>g&&(g=h);$categorie_holders=$(".categories-holder");for(var a=$categorie_holders.length-1;a>=g;a--)$($categorie_holders[a]).remove();
d.html("")};var j=function(a){a&&(blurtit.categories[e.category_id]!=a&&(blurtit.categories[e.category_id]=a),f=b.closest(".categories-holder").next(".categories-holder"),f.length?f.html(a):c.after('<div class="categories-holder pull-left"></div>').next(".categories-holder").html(a))};$("#category_id_input").val("");e.list_subcategories=1;e.category_id=b.attr("data-categoryid");b.siblings(".selected").removeClass("selected").end().addClass("selected");b.find(".is-parent").length&&(blurtit.categories&&
blurtit.categories[e.category_id]?(data=blurtit.categories[e.category_id],a(),j(data)):$.ajax({url:"/ajax/edit_category.php",data:e,type:"post",dataType:"html",success:j,beforeSend:a}))}});$("body").on("submit","#editCategoryStepTwo",function(a){a.stopPropagation();a.preventDefault();a=$(this);var b=$(".categories-browser-wrapper"),c={},c=$(".category-selection li");c.find(":checked").length?(b=c.find(":checked")[0],b=b.value):(b=b.find(".selected").last(),b=b.attr("data-categoryid"));c={category_id:b,
edit_category_submit:"1"};a.ajaxSubmit({url:"/ajax/edit_category.php",data:c,type:"post",dataType:"json",success:function(a){console.log(a);!0===a.success&&($(".edit-category-wrapper").remove(),$(".breadcrumb").replaceWith(a.breadcrumb_output))}})})});
var toggleDropdown=function(a){a.preventDefault();a=$(this);var b;a=getDropdownParent(a);b=a.hasClass("open");clearDropdownMenus();b||a.toggleClass("open");return!1},getDropdownParent=function(a){return a.parent()},clearDropdownMenus=function(){$(".dropdown-toggle").each(function(){getDropdownParent($(this)).removeClass("open")})};$(function(){$("body").on("click",".dropdown-toggle",toggleDropdown);$(document).on("click",clearDropdownMenus)});
$(function(){$("body").delegate(".following-button","mouseenter mouseleave",function(a){"mouseenter"==a.type?$(this).html("Unfollow").addClass("danger"):"mouseleave"==a.type&&$(this).html("Following").removeClass("danger")})});
$(function(){$("body").on("click",".help-link",function(a){a.preventDefault();a=$(this);a.siblings(".help-hint").toggleClass("hide").toggleClass("in");"?"==a.html()?a.html("x"):a.html("?")});$("body").on("click",".feed-cta .close-link",function(a){a.preventDefault();a=$(this);a.closest(".feed-cta").toggleClass("hide");$.ajax({url:"ajax/cta.php",type:"GET",data:{closed:1,cta_id:parseInt(a.attr("href").replace(/#close_/,""),10)}})})});
$(function(){$("body").delegate(".notice-close","click",function(a){a.preventDefault();$(this).closest(".notice").remove()})});
var rateSuccess=function(a){$(a.answer_article).find(".rating-button").removeAttr("style");"positive"===a.vote_type&&!$(a.answer_article).find(".rating-button.negative i").hasClass("icon-caret-down")?($(a.answer_article).find(".rating-button").removeClass("rated"),$(a.answer_article).find(".rating-button.negative i").attr("class","icon-caret-down")):"negative"===a.vote_type&&!$(a.answer_article).find(".rating-button.positive i").hasClass("icon-caret-up")&&($(a.answer_article).find(".rating-button").removeClass("rated"),
$(a.answer_article).find(".rating-button.positive i").attr("class","icon-caret-up"));$(a.answer_article).find(".rating-button."+a.vote_type).addClass("rated").find("i").attr("class","icon-ok")},pageOptionsSuccess=function(a){if(!0===a.success){a=$(a.classname);var b=a.attr("href").replace(/(follow=|favourite=)\d/,"$1"+a.data("linkvalue")),e=a.data("linktext"),d=a.html().replace(/<\w+[^>]*?>.*?<\/\w+[^>]*?>/,""),c=a.attr("href").match(/(follow=|favourite=)(\d)/)[2],f=a.html().replace(/(<\w+[^>]*?>.*?<\/\w+[^>]*?>).*/,
"$1");a.toggleClass("active").html(f+e).attr("href",b).data("linkvalue",c).data("linktext",d);type=a.attr("href").match(/(follow_question|favourite_question)/)[1];updateFollowingCount(a,c,type)}},buttonSuccess=function(a){if(!0===a.success){a=$(a.classname);var b="Follow"==a.html()?"Unfollow":"Follow",e=parseInt(a.attr("href").match(/follow=(\d)/)[1],10),d=1===e?0:1,d=a.attr("href").replace(/follow=\d/,"follow="+d);a.toggleClass("following-button primary").html(b).attr("href",d).removeClass("danger");
type=a.attr("href").match(/(follow_.*?)\.php/)[1];updateFollowingCount(a,e,type)}},updateFollowingCount=function(a,b,e){var d,c;if(null==b)return null;e=e.toLowerCase();switch(e){case "follow_user":c=$('.complimentary nav.stats a[href="/following/"]');break;case "follow_category":c=$('html:not(.question-page) .complimentary nav.stats a[href="?tab=followers"]');break;case "follow_question":c=$('.question-page .complimentary nav.stats a[href="?tab=followers"]');break;case "favourite_question":c=$('.question-page .complimentary nav.stats a[href="?tab=favourites"]');
break;case "share":c=a.find(".share-count")}c.length&&(d=0==b?-1:1,a=c.html().match(/\d+/),a=parseInt(a,10),d=a+d,a=c.html().replace(/\d+/,d),c.html(a));return d};
$(function(){$("body").delegate(".rating-button","click",function(a){if(!1===blurtit.loggedin)return!0;a.preventDefault();if($(this).parent().hasClass("disabled"))return!1;a=$(this);a=getUrlData(a);var b={type:"POST",dataType:"json",success:rateSuccess};b.url="/ajax"+a.script;b.data=a;$.ajax(b)});$("body").delegate(".follow-question, .favourite-question","click",function(a){if(!1===blurtit.loggedin)return!0;a.preventDefault();a=$(this);a=getUrlData(a);var b={type:"POST",dataType:"json",success:pageOptionsSuccess};
b.url="/ajax"+a.script;b.data=a;$.ajax(b)});$("body").delegate(".follow-button","click",function(a){if(!1===blurtit.loggedin)return!0;a.preventDefault();a=$(this);a=getUrlData(a);var b={type:"POST",dataType:"json",success:buttonSuccess};b.url="/ajax"+a.script;b.data=a;$.ajax(b)})});
var thankLinkSuccess=function(a){if(!0===a.success){a=$(a.classname);var b="Thank Writer"==a.html()?"Thanked Writer":"Thank Writer",d=parseInt(a.attr("href").match(/thank=(\d)/)[1],10),c=1===d?0:1,c=a.attr("href").replace(/thank=\d/,"thank="+c);a.html(b).attr("href",c);updateActionCount(a,d,".icon-thumbs-up")}},followLinkSuccess=function(a){if(!0===a.success){a=$(a.classname);var b="Follow"==a.html()?"Followed":"Follow",d=parseInt(a.attr("href").match(/follow=(\d)/)[1],10),c=1===d?0:1,c=a.attr("href").replace(/follow=\d/,
"follow="+c);a.html(b).attr("href",c);updateActionCount(a,d,".icon-group")}},shareLinkSuccess=function(a){if(!0===a.success){a=$(a.classname);var b="Blurt"==a.html()?"Blurted":"Blurt",d=parseInt(a.attr("href").match(/share=(\d)/)[1],10),c=1===d?0:1,c=a.attr("href").replace(/share=\d/,"share="+c);a.html(b).attr("href",c);updateActionCount(a,d,".icon-retweet")}},favouriteLinkSuccess=function(a){if(!0===a.success){a=$(a.classname);var b="Favorite"==a.html()?"Favorited":"Favorite",d=parseInt(a.attr("href").match(/favourite=(\d)/)[1],
10),c=1===d?0:1,c=a.attr("href").replace(/favourite=\d/,"favourite="+c);a.html(b).attr("href",c);updateActionCount(a,d,".icon-star")}},showAdditionalSummary=function(a){var b="."+a.data("summary")+"-summary";a.closest("footer").find(b).removeClass("hide").parent().removeClass("hide")},updateActionCount=function(a,b,d){var c,e,f;if(null==b)return null;b=0===b?-1:1;c=a.closest(".actions").find(".action-stats "+d).parent();e=c.html().match(/\d+/);e=parseInt(e,10);e+=b;f=c.html().replace(/\d+/,e);c.html(f);
0<b?(a.closest(".actions").find(".action-stats").removeClass("hide").find(d).closest("li").removeClass("hide"),a.closest(".actions").find(".action-links > li:last-child").addClass("separate")):(a.closest(".actions").find(".action-stats "+d).closest("li").addClass("hide"),0===a.closest(".actions").find(".action-stats li:not(.hide)").length&&(a.closest(".actions").find(".action-stats").addClass("hide"),a.closest(".actions").find(".action-links > li:last-child").removeClass("separate")));$wordier_count=
a.closest("footer").find(".additional-content "+d).parent();wordier_count=0;$wordier_count.find("a").length&&(wordier_count=$wordier_count.find("a").html().match(/\d+/),wordier_count=parseInt(wordier_count,10));a=$wordier_count;0<b?(0<wordier_count?a.removeClass("hide").find("i").after("You and "):a.removeClass("hide").find("i").after("You "),a.parent().removeClass("hide")):0<wordier_count?a.html(a.html().replace(/You and /i,"")):(a.addClass("hide"),a.html(a.html().replace(/You /i,"")),0===a.parent().find(".additional-summary").not(".hide").length&&
a.parent().addClass("hide"));return e};
$(function(){$("body").delegate(".show-summary","click",function(a){a.preventDefault();showAdditionalSummary($(this))});$("body").delegate(".follow-question-link","click",function(a){if(!1===blurtit.loggedin)return!0;a.preventDefault();"undefined"!==typeof mixpanel&&mixpanel.track(".follow-question-link","Feed Follow Question Clicked");a=$(this);a=getUrlData(a);var b={type:"POST",dataType:"json",success:followLinkSuccess};b.url="/ajax"+a.script;b.data=a;$.ajax(b)});$("body").delegate(".favourite-question-link",
"click",function(a){if(!1===blurtit.loggedin)return!0;a.preventDefault();"undefined"!==typeof mixpanel&&mixpanel.track(".favourite-question-link","Feed Favourite Clicked");a=$(this);a=getUrlData(a);var b={type:"POST",dataType:"json",success:favouriteLinkSuccess};b.url="/ajax"+a.script;b.data=a;$.ajax(b)});$("body").delegate(".thank-link","click",function(a){if(!1===blurtit.loggedin)return!0;a.preventDefault();a=$(this);a=getUrlData(a);var b={type:"POST",dataType:"json",success:thankLinkSuccess};b.url=
"/ajax"+a.script;b.data=a;$.ajax(b)});$("body").delegate(".share-link","click",function(a){if(!1===blurtit.loggedin)return!0;a.preventDefault();"undefined"!==typeof mixpanel&&mixpanel.track(".share-link","Feed Blurt Clicked");a=$(this);a=getUrlData(a);var b={type:"POST",dataType:"json",success:shareLinkSuccess};b.url="/ajax"+a.script;b.data=a;$.ajax(b)})});
var orderBySuccess=function(a){if(!0===a.success&&0<a.html.length){var b=$(".more-answers");b.length?(b.removeClass("hide").removeData("disable"),$("#answers").find(".loading").remove().end().find(".more-answers").before(a.html)):$("#answers").find(".loading").remove().end().append(a.html);a=document.querySelectorAll(".expandingArea");for(b=a.length;b--;)makeExpandingArea(a[b])}},orderByBefore=function(){$(".more-answers").length?$("#answers").find(".answer").remove().end().find(".more-answers").before('<div class="loading"></div>'):
$("#answers").find(".answer").remove().end().append('<div class="loading"></div>')},getVisibleAnswersForQuestion=function(){var a=[];$("article.answer .user-content").each(function(){answer_id=parseInt($(this).attr("id").replace(/answer/i,""),10);isNaN(answer_id)||a.push(answer_id)});return a},viewAllAnswersSuccess=function(a){if(!0===a.success){$(".more-answers");$("#answers").find(".loading").remove();$(a.classname).closest(".more-answers").before(a.html).addClass("hide");a=document.querySelectorAll(".expandingArea");
for(var b=a.length;b--;)makeExpandingArea(a[b])}},viewAllAnswersBefore=function(a){$(".more-answers").before('<div class="loading"></div>');$(a.classname).data("disable","1")};
$(function(){$("#order_by").change(function(){var a=$(this).closest("form"),b={dataType:"json",success:orderBySuccess,beforeSubmit:orderByBefore,url:"/ajax"+a.attr("action")};a.ajaxSubmit(b)});$("body").delegate(".more-answers-link","click",function(a){a.preventDefault();a=$(this);$(".more-answers");$("#answers").find("article.answer.hide").removeClass("hide");a.closest(".more-answers").addClass("hide")})});
var gettingMoreFeedItems=function(){var a=$(".more-feed-link").parent(),b=$(".more-feed-link");loading(a,"before");b.data("disable","1")},moreFeedItemsError=function(){$(".more-feed-link").removeData("disable");$(".loading").remove()},moreFeedItemsSuccess=function(a){var b=$(a.classname),c=b.parent(),d=b.attr("href").replace(/page=\d+/,"page="+a.page);b.removeData("disable").attr("href",d);$(".loading").remove();c.before(a.html);a.still_some_left||$(".long-button").remove()},gettingMoreTopicFeedItems=
function(){var a=$(".more-topic-link").parent(),b=$(".more-topic-link");loading(a,"before");b.data("disable","1")},moreTopicFeedItemsError=function(){$(".more-topic-link").removeData("disable");$(".loading").remove()},gettingMoreSearchFeedItems=function(){var a=$(".more-search-link"),b=$(".more-search-link").parent();loading(b,"before");a.data("disable","1")},moreSearchFeedItemsError=function(){$(".more-search-link").removeData("disable");$(".loading").remove()},getVisibleIds=function(){var a=[];
$(".feed-item").each(function(){id=parseInt($(this).attr("id").replace(/feed/i,""),10);isNaN(id)||a.push(id)});return a};
$(function(){$("body").delegate(".more-feed-link","click",function(a){a.preventDefault();a=$(this);"1"!=a.data("disable")&&(a.data("disable","1"),url_data=getUrlData(a),"ids"===a.data("excluding")?url_data.excluding_ids=getVisibleIds():$("nav-strip").length&&(url_data.filter=$(".nav-strip .active").attr("href").match(/filter=(.*)?&?/i)[1]),$(".page-options").length&&(url_data.tab=$(".page-options .active").attr("href").match(/tab=(.*)?&?/i)[1]),$.ajax({type:"GET",dataType:"json",url:"/ajax"+url_data.script,
data:url_data,success:moreFeedItemsSuccess,beforeSend:gettingMoreFeedItems,error:moreFeedItemsError}))});$("body").delegate(".more-topic-link","click",function(a){a.preventDefault();a=$(this);"1"!=a.data("disable")&&(a.data("disable","1"),url_data=getUrlData(a),$(".topic-tree").length&&(category_match=$(".topic-tree .active a").attr("href").match(/(\/(.*?)\/)/i),url_data.category=category_match&&1<category_match.length?category_match[1]:"/topics"),$.ajax({type:"GET",dataType:"json",url:"/ajax/more_topic_feed.php?more=1",
data:url_data,success:moreFeedItemsSuccess,beforeSend:gettingMoreTopicFeedItems,error:moreTopicFeedItemsError}))});$("body").delegate(".more-search-link","click",function(a){a.preventDefault();a=$(this);"1"!=a.data("disable")&&(a.data("disable","1"),url_data=getUrlData(a),$.ajax({type:"GET",dataType:"json",url:"/ajax/more_search_feed.php?more=1",data:url_data,success:moreFeedItemsSuccess,beforeSend:gettingMoreSearchFeedItems,error:moreSearchFeedItemsError}))});$("body").delegate(".more-user-link",
"click",function(a){a.preventDefault();a=$(this);"1"!=a.data("disable")&&(a.data("disable","1"),url_data=getUrlData(a),$("nav-strip").length&&(url_data.filter=$(".nav-strip .active").attr("href").match(/filter=(.*)?&?/i)[1]),$.ajax({type:"GET",dataType:"json",url:"/ajax"+url_data.script,data:url_data,success:moreFeedItemsSuccess,beforeSend:gettingMoreFeedItems,error:moreFeedItemsError}))})});
function preloader(){document.images&&((new Image).src="/img/ajax-loader.gif")}function addLoadEvent(a){var b=window.onload;window.onload="function"!=typeof window.onload?a:function(){b&&b();a()}}addLoadEvent(preloader);
$(function(){$("body").delegate(".modal-stats-link","click",function(a){var b=$(this);if("comments"===b.data("stattype"))return!0;a.preventDefault();getStatUserContent("/ajax"+b.attr("href"))});$("body").delegate(".modal-close","click",function(a){a.preventDefault();$("#genericModal").modal("hide")})});
var blurtitShareSuccess=function(a){if(!0===a.success){a=$(a.classname);var b=a.html().match(/Blurted/)?a.html().replace(/Blurted/,"Blurt"):a.html().replace(/Blurt/,"Blurted"),d=parseInt(a.attr("href").match(/share=(\d)/)[1],10),c=1===d?0:1,c=a.attr("href").replace(/share=\d/,"share="+c);a.html(b).attr("href",c);updateFollowingCount(a,d,"share")}};
$(function(){$("body").on("click",".share-blurtit-question",function(a){if(!1===blurtit.loggedin)return!0;a.preventDefault();a=$(this);a=getUrlData(a);var b={type:"POST",dataType:"json",success:blurtitShareSuccess};b.url="/ajax"+a.script;b.data=a;$.ajax(b)})});
var postLoadAnswerImages=function(){var d=$(".user-content img"),b=0,e=d.length,c,a;if(e)for(b;b<e;b++)c=d[b],a=$(c),a.data("src")&&(c.src=a.data("src"),!0!==a.data("keepdimensions")&&(a.css({width:"",height:""}),a.attr("style")||a.removeAttr("style")),a.data("src",null).data("keepdimensions",null))};$(function(){postLoadAnswerImages()});
var saveComment=function(a){a.ajaxSubmit({url:"/ajax"+a.attr("action"),dataType:"json",data:{comment_submit:"1"},success:processComment})},processComment=function(a){!1===a.success&&a.redirect&&a.redirect.length?document.location.href=a.redirect:!1===a.success&&a.error_text?handleCommentErrors(a.error_text,a.form):(addCommentToPage(a.html,a.form),resetCommentForm(a.form),0!=blurtit.user_id&&mixpanel.people.increment({Commented:1}))},handleCommentErrors=function(a,b){$(b).find(".expandingArea").after(tooltip(a,
"danger")).closest(b).find(".tooltip").addClass("in")},addCommentToPage=function(a,b){$(b).find(".tooltip").remove().end().before(a);updateCommentCount(b)},resetCommentForm=function(a){$(a).find("textarea").val("")},getVisibleCommentsForAnswer=function(a){var b=[];a.closest(".additional-summary").siblings("div").each(function(){$(this).find(".user-content").length&&(comment_id=parseInt($(this).find(".user-content").attr("id").replace(/comment/i,""),10),isNaN(comment_id)||b.push(comment_id))});return b},
viewAllSuccess=function(a){!0===a.success&&$(a.classname).data("disable","1").closest(".additional-summary").after(a.html).end().closest(".additional-summary").remove()},updateCommentCount=function(a){var b,c,d;b=$(a).parent().find(".view-all-comments");$count_holder_icon=$(a).closest("footer").find(".action-stats .icon-comments").parent();c=$count_holder_icon.html().match(/\d+/);c=parseInt(c,10);c+=1;b.length&&(d=b.html().replace(/\d+/,c),b.html(d));$count_holder_icon.length&&(d=$count_holder_icon.html().replace(/\d+/,
c),$count_holder_icon.html(d));$(a).closest("footer").find(".action-stats").removeClass("hide").find(".icon-comments").closest("li").removeClass("hide");$(a).closest("footer").find(".action-links > li:last-child").addClass("separate");return c};
$(function(){$("body").on("submit","form.comment-add",function(a){a.preventDefault();a.stopPropagation();saveComment($(this))});$("body").delegate(".comment-add textarea","focus",function(){if(!1===blurtit.loggedin)return!1;var a=$(this).closest("form.comment-add");a.find(".actions.hide").length&&a.find(".actions.hide").removeClass("hide")});$("body").delegate(".view-all-comments","click",function(a){a.preventDefault();a=$(this);"1"!=a.data("disable")&&(url_data=getUrlData(a),url_data.visible_comment_ids=
getVisibleCommentsForAnswer(a),$.ajax({type:"GET",dataType:"json",url:"/ajax"+url_data.script,data:url_data,success:viewAllSuccess}))});$("body").delegate(".comment-add-link","click",function(a){if(!1===blurtit.loggedin)return!0;a.preventDefault();a=$(this);var b=a.closest("div.actions").siblings(".additional-content");b.hasClass("hide")?b.removeClass("hide").find("form.hide").removeClass("hide"):b.find("form.hide").hasClass("hide")?b.find("form.hide").removeClass("hide"):document.location.href=a.attr("href")})});
!1===blurtit.local&&!0===blurtit.loggedin&&mixpanel.register_once({"Active User":blurtit.user_id});
