rb.registerNamespace("rb.widget");rb.widget.headerbar=rb.widget.base.extend({init:function(){this._super();this._miniEdge=80;this._widget=null;this._spaceArea=null;this._logoImage=null;this._logoImageMini=null;this._miniVisible=false;this._moviessubmenu=null;this._gamessubmenu=null},_onLoad:function(a,b){this._super(a,b);if(navigator.userAgent==null||navigator.userAgent.match(/iPad/i)==null){this._widget=this.getControl("Widget");this._spaceArea=this.getControl("SpaceArea");this._logoImage=this._widget.find("#header_LogoImage");this._logoImageMini=this._widget.find("#header_LogoImageMini");this._moviessubmenu=this._widget.find("#moviessubmenu");this._gamessubmenu=this._widget.find("#gamessubmenu");this._gamessubmenu.children().removeClass("active");this._moviessubmenu.children().removeClass("active");if($("body").hasClass("url-movies")){if($("body").hasClass("url-top20")){this._widget.find("#moviestop20").addClass("active")}else{if($("body").hasClass("url-comingsoon")){this._widget.find("#moviescomingsoon").addClass("active")}else{this._widget.find("#moviesallmovies").addClass("active")}}}else{if($("body").hasClass("url-games")){if($("body").hasClass("url-comingsoon")){this._widget.find("#gamescomingsoon").addClass("active")}else{this._widget.find("#gamesallgames").addClass("active")}}}if($(window).scrollTop()>this._miniEdge){this._loadMini()}var c=this;$(window).scroll(function(){if($(window).scrollTop()>c._miniEdge){c._showMini()}else{c._hideMini()}})}},_loadMini:function(){var a=this;setTimeout(function(){a._showMini()},500)},_showMini:function(){if(!this._miniVisible){this._miniVisible=true;this._widget.find(".head-top-area").hide();this._widget.find(".find-location").hide();this._logoImage.hide();this._logoImageMini.show();this._spaceArea.css("margin-top","150px");this._widget.find("#header").removeClass("mini").addClass("mini")}},_hideMini:function(){if(this._miniVisible){this._miniVisible=false;this._logoImage.show();this._logoImageMini.hide();this._spaceArea.css("margin-top","0px");this._widget.find(".head-top-area").show();this._widget.find(".find-location").show();this._widget.find("#header").removeClass("mini")}}});