rb.registerNamespace("rb.widget");rb.widget.search=rb.widget.base.extend({get_searchAcct:function(){return this._searchAcct},set_searchAcct:function(a){this._searchAcct=a},get_searchApi:function(){return this._searchApi},set_searchApi:function(a){this._searchApi=a},get_searchUrl:function(){return this._searchUrl},set_searchUrl:function(a){this._searchUrl=a},init:function(){this._super();this._widget=null;this._searchBox=null;this._searchForm=null;this._searchIcon=null;this._didYouMeanOriginalTerm=null;this._searchAcct=null;this._searchApi=null;this._searchUrl=null;this._delegates={onSearch:rb.createDelegate(this,this._onSearch),onSubmitSearch:rb.createDelegate(this,this._onSubmitSearch)}},_onLoad:function(a,b){this._widget=this.getControl("Widget");this._searchBox=this.getControl("SearchBox");this._searchForm=this.getControl("SearchForm");this._searchIcon=this.getControl("SearchIcon");this._didYouMeanOriginalTerm=this.getControl("DidYouMeanOriginalTerm");var c=this;this._searchIcon.click(this._delegates.onSubmitSearch);this._searchBox.AdobeAutocomplete({account:this._searchAcct,searchDomain:this._searchApi,inputElement:"input#"+this._searchBox.attr("id"),inputFormElement:"form#"+this._searchForm.attr("id"),delay:300,minLength:3,maxResults:10,browserAutocomplete:true,queryCaseSensitive:false,startsWith:false,submitOnSelect:true,onselect:this._delegates.onSearch}).attr("title",this.getText("SearchMoviesAndGames")).simpleWaterMark("watermark");if(this._searchBox.is(":disabled")){this._searchBox.prop("disabled",false)}},_onKeyEnter:function(){this._onSearch()},_onSubmitSearch:function(b,a){this._onSearch(b,a)},_onSearch:function(b,a){if(b&&b.originalTerm!="undefined"){this._didYouMeanOriginalTerm.val(b.originalTerm)}var d=this._searchBox.val();var c=this._didYouMeanOriginalTerm.val();this.navigate(this._searchUrl+"/?q="+d+"&d="+c)}});