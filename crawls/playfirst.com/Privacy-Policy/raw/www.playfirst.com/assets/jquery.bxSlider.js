/**
 * jQuery bxSlider v3.0
 * http://bxslider.com
 *
 * Copyright 2011, Steven Wanderski
 * http://bxcreative.com
 *
 * Free to use and abuse under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 * 
 */
(function(e){e.fn.bxSlider=function(t){function n(){r(t.startingSlide),"horizontal"==t.mode?(S.wrap('<div class="'+t.wrapperClass+'" style="width:'+A+'px; position:relative;"></div>').wrap('<div class="bx-window" style="position:relative; overflow:hidden;"></div>').css({width:"999999px",position:"relative",left:"-"+W+"px"}),S.children().css({width:E,"float":"left",listStyle:"none"}),k=S.parent().parent(),C.addClass("pager")):"vertical"==t.mode?(S.wrap('<div class="'+t.wrapperClass+'" style="width:'+_+'px; position:relative;"></div>').wrap('<div class="bx-window" style="width:'+_+"px; height:"+L+'px; position:relative; overflow:hidden;"></div>').css({height:"999999px",position:"relative",top:"-"+$+"px"}),S.children().css({listStyle:"none",height:I}),k=S.parent().parent(),C.addClass("pager")):"fade"==t.mode&&(S.wrap('<div class="'+t.wrapperClass+'" style="width:'+_+'px; position:relative;"></div>').wrap('<div class="bx-window" style="height:'+I+"px; width:"+_+'px; position:relative; overflow:hidden;"></div>'),S.children().css({listStyle:"none",position:"absolute",top:0,left:0,zIndex:98}),k=S.parent().parent(),C.not(":eq("+z+")").fadeTo(0,0),C.eq(z).css("zIndex",99)),t.captions&&null==t.captionsSelector&&k.append('<div class="bx-captions"></div>')}function r(){if("horizontal"==t.mode||"vertical"==t.mode){var n=b(C,0,t.moveSlideQty,"backward");e.each(n,function(){S.prepend(e(this))});var r=C.length+t.moveSlideQty-1,i=C.length-t.displaySlideQty,o=r-i,a=b(C,0,o,"forward");t.infiniteLoop&&e.each(a,function(){S.append(e(this))})}}function i(){""!=t.nextImage?(nextContent=t.nextImage,nextType="image"):(nextContent=t.nextText,nextType="text"),""!=t.prevImage?(prevContent=t.prevImage,prevType="image"):(prevContent=t.prevText,prevType="text"),p(nextType,nextContent,prevType,prevContent)}function o(){t.auto?t.infiniteLoop?"next"==t.autoDirection?H=setInterval(function(){F.goToNextSlide(!1)},t.pause):"prev"==t.autoDirection&&(H=setInterval(function(){F.goToPreviousSlide(!1)},t.pause)):"next"==t.autoDirection?H=setInterval(function(){z+=t.moveSlideQty,z>G&&(z%=C.length),F.goToSlide(z,!1)},t.pause):"prev"==t.autoDirection&&(H=setInterval(function(){z-=t.moveSlideQty,0>z&&(negativeOffset=z%C.length,z=0==negativeOffset?0:C.length+negativeOffset),F.goToSlide(z,!1)},t.pause)):t.ticker&&(t.tickerSpeed*=10,e(".pager",k).each(function(){Q+=e(this).width(),X+=e(this).height()}),"prev"==t.tickerDirection&&"horizontal"==t.mode?S.css("left","-"+(Q+W)+"px"):"prev"==t.tickerDirection&&"vertical"==t.mode&&S.css("top","-"+(X+$)+"px"),"horizontal"==t.mode?(V=parseInt(S.css("left")),a(V,Q,t.tickerSpeed)):"vertical"==t.mode&&(U=parseInt(S.css("top")),a(U,X,t.tickerSpeed)),t.tickerHover&&u())}function a(e,n,r){"horizontal"==t.mode?"next"==t.tickerDirection?S.animate({left:"-="+n+"px"},r,"linear",function(){S.css("left",e),a(e,Q,t.tickerSpeed)}):"prev"==t.tickerDirection&&S.animate({left:"+="+n+"px"},r,"linear",function(){S.css("left",e),a(e,Q,t.tickerSpeed)}):"vertical"==t.mode&&("next"==t.tickerDirection?S.animate({top:"-="+n+"px"},r,"linear",function(){S.css("top",e),a(e,X,t.tickerSpeed)}):"prev"==t.tickerDirection&&S.animate({top:"+="+n+"px"},r,"linear",function(){S.css("top",e),a(e,X,t.tickerSpeed)}))}function s(){""!=t.startImage?(startContent=t.startImage,startType="image"):(startContent=t.startText,startType="text"),""!=t.stopImage?(stopContent=t.stopImage,stopType="image"):(stopContent=t.stopText,stopType="text"),g(startType,startContent,stopType,stopContent)}function l(){k.find(".bx-window").hover(function(){R&&F.stopShow(!1)},function(){R&&F.startShow(!1)})}function u(){S.hover(function(){R&&F.stopTicker(!1)},function(){R&&F.startTicker(!1)})}function c(){C.not(":eq("+z+")").fadeTo(t.speed,0).css("zIndex",98),C.eq(z).css("zIndex",99).fadeTo(t.speed,1,function(){Y=!1,jQuery.browser.msie&&C.eq(z).get(0).style.removeAttribute("filter"),t.onAfterSlide(z,C.length,C.eq(z))})}function d(n){"full"==t.pagerType&&t.pager?(e("a",j).removeClass(t.pagerActiveClass),e("a",j).eq(n).addClass(t.pagerActiveClass)):"short"==t.pagerType&&t.pager&&e(".bx-pager-current",j).html(z+1)}function p(n,r,i,o){var a=e('<a id="ss" href="" class="bx-next"></a>'),s=e('<a id="gg" href="" class="bx-prev"></a>');"text"==n?a.html(r):a.html('<img src="'+r+'" />'),"text"==i?s.html(o):s.html('<img src="'+o+'" />'),t.prevSelector?e(t.prevSelector).append(s):k.append(s),t.nextSelector?e(t.nextSelector).append(a):k.append(a),a.click(function(){return F.goToNextSlide(),console.log("ssss"),a.addClass("bx-next-active"),s.removeClass("bx-prev-active"),!1}),s.click(function(){return F.goToPreviousSlide(),a.removeClass("bx-next-active"),s.addClass("bx-prev-active"),!1})}function f(n){var r=C.length;t.moveSlideQty>1&&(r=0!=C.length%t.moveSlideQty?Math.ceil(C.length/t.moveSlideQty):C.length/t.moveSlideQty);var i="";if(t.buildPager)for(var o=0;r>o;o++)i+=t.buildPager(o,C.eq(o*t.moveSlideQty));else if("full"==n)for(var o=1;r>=o;o++)i+='<a href="" class="pager-link pager-'+o+'">'+o+"</a>";else"short"==n&&(i='<span class="bx-pager-current">'+(t.startingSlide+1)+"</span> "+t.pagerShortSeparator+' <span class="bx-pager-total">'+C.length+"</span>");if(t.pagerSelector)e(t.pagerSelector).append(i),j=e(t.pagerSelector);else{var a=e('<div class="bx-pager"></div>');a.append(i),"top"==t.pagerLocation?k.prepend(a):"bottom"==t.pagerLocation&&k.append(a),j=e(".bx-pager",k)}j.children().click(function(){if("full"==t.pagerType){var e=j.children().index(this);t.moveSlideQty>1&&(e*=t.moveSlideQty),F.goToSlide(e)}return!1})}function h(){var n=e("img",C.eq(z)).attr("title");""!=n?t.captionsSelector?e(t.captionsSelector).html(n):e(".bx-captions",k).html(n):t.captionsSelector?e(t.captionsSelector).html("&nbsp;"):e(".bx-captions",k).html("&nbsp;")}function g(n,r,i,o){q=e('<a href="" class="bx-start"></a>'),O="text"==n?r:'<img src="'+r+'" />',P="text"==i?o:'<img src="'+o+'" />',t.autoControlsSelector?e(t.autoControlsSelector).append(q):(k.append('<div class="bx-auto"></div>'),e(".bx-auto",k).html(q)),q.click(function(){return t.ticker?e(this).hasClass("stop")?F.stopTicker():e(this).hasClass("start")&&F.startTicker():e(this).hasClass("stop")?F.stopShow(!0):e(this).hasClass("start")&&F.startShow(!0),!1})}function m(){!t.infiniteLoop&&t.hideControlOnEnd&&(z==J?e(".bx-prev",k).hide():e(".bx-prev",k).show(),z==G?e(".bx-next",k).hide():e(".bx-next",k).show())}function v(t,n){if("left"==n)var r=e(".pager",k).eq(t).position().left;else if("top"==n)var r=e(".pager",k).eq(t).position().top;return r}function y(){var e=N.outerWidth()*t.displaySlideQty;return e}function x(){var e=N.outerHeight()*t.displaySlideQty;return e}function b(t,n,r,i){var o=[],a=r,s=!1;for("backward"==i&&(t=e.makeArray(t),t.reverse());a>0;)e.each(t,function(t){return a>0?(s?(o.push(e(this).clone()),a--):t==n&&(s=!0,o.push(e(this).clone()),a--),void 0):!1});return o}var w={mode:"horizontal",infiniteLoop:!0,hideControlOnEnd:!1,controls:!0,speed:500,easing:"swing",pager:!1,pagerSelector:null,pagerType:"full",pagerLocation:"bottom",pagerShortSeparator:"/",pagerActiveClass:"pager-active",nextText:"next",nextSelector:null,prevSelector:null,captions:!1,captionsSelector:null,auto:!1,autoDirection:"next",autoControls:!1,autoControlsSelector:null,autoStart:!0,autoHover:!1,autoDelay:0,pause:3e3,startText:"start",startImage:"",stopText:"stop",stopImage:"",ticker:!1,tickerSpeed:5e3,tickerDirection:"next",tickerHover:!1,wrapperClass:"bx-wrapper",startingSlide:0,displaySlideQty:1,moveSlideQty:1,randomStart:!1,onBeforeSlide:function(){},onAfterSlide:function(){},onLastSlide:function(){},onFirstSlide:function(){},onNextSlide:function(){},onPrevSlide:function(){},buildPager:null},t=e.extend(w,t),F=this,S="",T="",C="",k="",N="",E="",D="",A="",L="",j="",H="",q="",M="",O="",P="",R=!0,B=!1,_=0,I=0,z=0,W=0,$=0,Q=0,X=0,V=0,U=0,Y=!1,J=0,G=C.length-1;return this.goToSlide=function(e,n){if(!Y){if(Y=!0,z=e,t.onBeforeSlide(z,C.length,C.eq(z)),"undefined"==typeof n)var n=!0;n&&t.auto&&F.stopShow(!0),slide=e,slide==J&&t.onFirstSlide(z,C.length,C.eq(z)),slide==G&&t.onLastSlide(z,C.length,C.eq(z)),"horizontal"==t.mode?S.animate({left:"-"+v(slide,"left")+"px"},t.speed,t.easing,function(){Y=!1,t.onAfterSlide(z,C.length,C.eq(z))}):"vertical"==t.mode?S.animate({top:"-"+v(slide,"top")+"px"},t.speed,t.easing,function(){Y=!1,t.onAfterSlide(z,C.length,C.eq(z))}):"fade"==t.mode&&c(),m(),t.moveSlideQty>1&&(e=Math.floor(e/t.moveSlideQty)),d(e),h()}},this.goToNextSlide=function(e){if("undefined"==typeof e)var e=!0;if(e&&t.auto&&F.stopShow(!0),t.infiniteLoop){if(!Y){Y=!0;var n=!1;if(z+=t.moveSlideQty,z>G&&(z%=C.length,n=!0),t.onNextSlide(z,C.length,C.eq(z)),t.onBeforeSlide(z,C.length,C.eq(z)),"horizontal"==t.mode){var r=t.moveSlideQty*D;S.animate({left:"-="+r+"px"},t.speed,t.easing,function(){Y=!1,n&&S.css("left","-"+v(z,"left")+"px"),t.onAfterSlide(z,C.length,C.eq(z))})}else if("vertical"==t.mode){var i=t.moveSlideQty*I;S.animate({top:"-="+i+"px"},t.speed,t.easing,function(){Y=!1,n&&S.css("top","-"+v(z,"top")+"px"),t.onAfterSlide(z,C.length,C.eq(z))})}else"fade"==t.mode&&c();t.moveSlideQty>1?d(Math.ceil(z/t.moveSlideQty)):d(z),h()}}else if(!Y){var n=!1;z+=t.moveSlideQty,G>=z?(m(),t.onNextSlide(z,C.length,C.eq(z)),F.goToSlide(z)):z-=t.moveSlideQty}},this.goToPreviousSlide=function(n){if("undefined"==typeof n)var n=!0;if(n&&t.auto&&F.stopShow(!0),t.infiniteLoop){if(!Y){Y=!0;var r=!1;if(z-=t.moveSlideQty,0>z&&(negativeOffset=z%C.length,z=0==negativeOffset?0:C.length+negativeOffset,r=!0),t.onPrevSlide(z,C.length,C.eq(z)),t.onBeforeSlide(z,C.length,C.eq(z)),"horizontal"==t.mode){var i=t.moveSlideQty*D;S.animate({left:"+="+i+"px"},t.speed,t.easing,function(){Y=!1,r&&S.css("left","-"+v(z,"left")+"px"),t.onAfterSlide(z,C.length,C.eq(z))})}else if("vertical"==t.mode){var o=t.moveSlideQty*I;S.animate({top:"+="+o+"px"},t.speed,t.easing,function(){Y=!1,r&&S.css("top","-"+v(z,"top")+"px"),t.onAfterSlide(z,C.length,C.eq(z))})}else"fade"==t.mode&&c();t.moveSlideQty>1?d(Math.ceil(z/t.moveSlideQty)):d(z),h()}}else if(!Y){var r=!1;z-=t.moveSlideQty,0>z&&(z=0,t.hideControlOnEnd&&e(".bx-prev",k).hide()),m(),t.onPrevSlide(z,C.length,C.eq(z)),F.goToSlide(z)}},this.goToFirstSlide=function(e){if("undefined"==typeof e)var e=!0;F.goToSlide(J,e)},this.goToLastSlide=function(){if("undefined"==typeof e)var e=!0;F.goToSlide(G,e)},this.getCurrentSlide=function(){return z},this.getSlideCount=function(){return C.length},this.stopShow=function(e){if(clearInterval(H),"undefined"==typeof e)var e=!0;e&&t.autoControls&&(q.html(O).removeClass("stop").addClass("start"),R=!1)},this.startShow=function(e){if("undefined"==typeof e)var e=!0;o(),e&&t.autoControls&&(q.html(P).removeClass("start").addClass("stop"),R=!0)},this.stopTicker=function(e){if(S.stop(),"undefined"==typeof e)var e=!0;e&&t.ticker&&(q.html(O).removeClass("stop").addClass("start"),R=!1)},this.startTicker=function(e){if("horizontal"==t.mode){if("next"==t.tickerDirection)var n=parseInt(S.css("left")),r=Q+n+C.eq(0).width();else if("prev"==t.tickerDirection)var n=-parseInt(S.css("left")),r=n-C.eq(0).width();var i=r*t.tickerSpeed/Q;a(V,r,i)}else if("vertical"==t.mode){if("next"==t.tickerDirection)var o=parseInt(S.css("top")),r=X+o+C.eq(0).height();else if("prev"==t.tickerDirection)var o=-parseInt(S.css("top")),r=o-C.eq(0).height();var i=r*t.tickerSpeed/X;if(a(U,r,i),"undefined"==typeof e)var e=!0;e&&t.ticker&&(q.html(P).removeClass("start").addClass("stop"),R=!0)}},this.initShow=function(){if(S=e(this),T=S.clone(),C=S.children(),k="",N=S.children(":first"),E=N.width(),_=0,D=N.outerWidth(),I=0,A=y(),L=x(),Y=!1,j="",z=0,W=0,$=0,H="",q="",M="",O="",P="",R=!0,B=!1,Q=0,X=0,V=0,U=0,J=0,G=C.length-1,C.each(function(){e(this).outerHeight()>I&&(I=e(this).outerHeight()),e(this).outerWidth()>_&&(_=e(this).outerWidth())}),t.randomStart){var r=Math.floor(Math.random()*C.length);z=r,W=D*(t.moveSlideQty+r),$=I*(t.moveSlideQty+r)}else z=t.startingSlide,W=D*(t.moveSlideQty+t.startingSlide),$=I*(t.moveSlideQty+t.startingSlide);n(),t.pager&&!t.ticker&&("full"==t.pagerType?f("full"):"short"==t.pagerType&&f("short")),t.controls&&!t.ticker&&i(),(t.auto||t.ticker)&&(t.autoControls&&s(),t.autoStart?setTimeout(function(){F.startShow(!0)},t.autoDelay):F.stopShow(!0),t.autoHover&&!t.ticker&&l()),t.moveSlideQty>1?d(Math.ceil(z/t.moveSlideQty)):d(z),m(),t.captions&&h(),t.onAfterSlide(z,C.length,C.eq(z))},this.destroyShow=function(){clearInterval(H),e(".bx-next, .bx-prev, .bx-pager, .bx-auto",k).remove(),S.unwrap().unwrap().removeAttr("style"),S.children().removeAttr("style").not(".pager").remove(),C.removeClass("pager")},this.reloadShow=function(){F.destroyShow(),F.initShow()},this.each(function(){e(this).children().length>0&&F.initShow()}),this},jQuery.fx.prototype.cur=function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var e=parseFloat(jQuery.css(this.elem,this.prop));return e}})(jQuery);