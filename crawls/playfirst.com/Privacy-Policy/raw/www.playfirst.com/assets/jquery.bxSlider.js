/**
 * jQuery bxSlider v3.0
 * http://bxslider.com
 *
 * Copyright 2011, Steven Wanderski
 * http://bxcreative.com
 *
 * Free to use and abuse under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 * 
 */
(function(e){e.fn.bxSlider=function(t){function D(){P(t.startingSlide),t.mode=="horizontal"?(i.wrap('<div class="'+t.wrapperClass+'" style="width:'+c+'px; position:relative;"></div>').wrap('<div class="bx-window" style="position:relative; overflow:hidden;"></div>').css({width:"999999px",position:"relative",left:"-"+T+"px"}),i.children().css({width:f,"float":"left",listStyle:"none"}),u=i.parent().parent(),o.addClass("pager")):t.mode=="vertical"?(i.wrap('<div class="'+t.wrapperClass+'" style="width:'+E+'px; position:relative;"></div>').wrap('<div class="bx-window" style="width:'+E+"px; height:"+h+'px; position:relative; overflow:hidden;"></div>').css({height:"999999px",position:"relative",top:"-"+N+"px"}),i.children().css({listStyle:"none",height:S}),u=i.parent().parent(),o.addClass("pager")):t.mode=="fade"&&(i.wrap('<div class="'+t.wrapperClass+'" style="width:'+E+'px; position:relative;"></div>').wrap('<div class="bx-window" style="height:'+S+"px; width:"+E+'px; position:relative; overflow:hidden;"></div>'),i.children().css({listStyle:"none",position:"absolute",top:0,left:0,zIndex:98}),u=i.parent().parent(),o.not(":eq("+x+")").fadeTo(0,0),o.eq(x).css("zIndex",99)),t.captions&&t.captionsSelector==null&&u.append('<div class="bx-captions"></div>')}function P(){if(t.mode=="horizontal"||t.mode=="vertical"){var n=Y(o,0,t.moveSlideQty,"backward");e.each(n,function(t){i.prepend(e(this))});var r=o.length+t.moveSlideQty-1,s=o.length-t.displaySlideQty,u=r-s,a=Y(o,0,u,"forward");t.infiniteLoop&&e.each(a,function(t){i.append(e(this))})}}function H(){t.nextImage!=""?(nextContent=t.nextImage,nextType="image"):(nextContent=t.nextText,nextType="text"),t.prevImage!=""?(prevContent=t.prevImage,prevType="image"):(prevContent=t.prevText,prevType="text"),z(nextType,nextContent,prevType,prevContent)}function B(){t.auto?t.infiniteLoop?t.autoDirection=="next"?d=setInterval(function(){r.goToNextSlide(!1)},t.pause):t.autoDirection=="prev"&&(d=setInterval(function(){r.goToPreviousSlide(!1)},t.pause)):t.autoDirection=="next"?d=setInterval(function(){x+=t.moveSlideQty,x>_&&(x%=o.length),r.goToSlide(x,!1)},t.pause):t.autoDirection=="prev"&&(d=setInterval(function(){x-=t.moveSlideQty,x<0&&(negativeOffset=x%o.length,negativeOffset==0?x=0:x=o.length+negativeOffset),r.goToSlide(x,!1)},t.pause)):t.ticker&&(t.tickerSpeed*=10,e(".pager",u).each(function(t){C+=e(this).width(),k+=e(this).height()}),t.tickerDirection=="prev"&&t.mode=="horizontal"?i.css("left","-"+(C+T)+"px"):t.tickerDirection=="prev"&&t.mode=="vertical"&&i.css("top","-"+(k+N)+"px"),t.mode=="horizontal"?(L=parseInt(i.css("left")),j(L,C,t.tickerSpeed)):t.mode=="vertical"&&(A=parseInt(i.css("top")),j(A,k,t.tickerSpeed)),t.tickerHover&&q())}function j(e,n,r){t.mode=="horizontal"?t.tickerDirection=="next"?i.animate({left:"-="+n+"px"},r,"linear",function(){i.css("left",e),j(e,C,t.tickerSpeed)}):t.tickerDirection=="prev"&&i.animate({left:"+="+n+"px"},r,"linear",function(){i.css("left",e),j(e,C,t.tickerSpeed)}):t.mode=="vertical"&&(t.tickerDirection=="next"?i.animate({top:"-="+n+"px"},r,"linear",function(){i.css("top",e),j(e,k,t.tickerSpeed)}):t.tickerDirection=="prev"&&i.animate({top:"+="+n+"px"},r,"linear",function(){i.css("top",e),j(e,k,t.tickerSpeed)}))}function F(){t.startImage!=""?(startContent=t.startImage,startType="image"):(startContent=t.startText,startType="text"),t.stopImage!=""?(stopContent=t.stopImage,stopType="image"):(stopContent=t.stopText,stopType="text"),V(startType,startContent,stopType,stopContent)}function I(){u.find(".bx-window").hover(function(){b&&r.stopShow(!1)},function(){b&&r.startShow(!1)})}function q(){i.hover(function(){b&&r.stopTicker(!1)},function(){b&&r.startTicker(!1)})}function R(){o.not(":eq("+x+")").fadeTo(t.speed,0).css("zIndex",98),o.eq(x).css("zIndex",99).fadeTo(t.speed,1,function(){O=!1,jQuery.browser.msie&&o.eq(x).get(0).style.removeAttribute("filter"),t.onAfterSlide(x,o.length,o.eq(x))})}function U(n){t.pagerType=="full"&&t.pager?(e("a",p).removeClass(t.pagerActiveClass),e("a",p).eq(n).addClass(t.pagerActiveClass)):t.pagerType=="short"&&t.pager&&e(".bx-pager-current",p).html(x+1)}function z(n,i,s,o){var a=e('<a id="ss" href="" class="bx-next"></a>'),f=e('<a id="gg" href="" class="bx-prev"></a>');n=="text"?a.html(i):a.html('<img src="'+i+'" />'),s=="text"?f.html(o):f.html('<img src="'+o+'" />'),t.prevSelector?e(t.prevSelector).append(f):u.append(f),t.nextSelector?e(t.nextSelector).append(a):u.append(a),a.click(function(){return r.goToNextSlide(),console.log("ssss"),a.addClass("bx-next-active"),f.removeClass("bx-prev-active"),!1}),f.click(function(){return r.goToPreviousSlide(),a.removeClass("bx-next-active"),f.addClass("bx-prev-active"),!1})}function W(n){var i=o.length;t.moveSlideQty>1&&(o.length%t.moveSlideQty!=0?i=Math.ceil(o.length/t.moveSlideQty):i=o.length/t.moveSlideQty);var s="";if(t.buildPager)for(var a=0;a<i;a++)s+=t.buildPager(a,o.eq(a*t.moveSlideQty));else if(n=="full")for(var a=1;a<=i;a++)s+='<a href="" class="pager-link pager-'+a+'">'+a+"</a>";else n=="short"&&(s='<span class="bx-pager-current">'+(t.startingSlide+1)+"</span> "+t.pagerShortSeparator+' <span class="bx-pager-total">'+o.length+"</span>");if(t.pagerSelector)e(t.pagerSelector).append(s),p=e(t.pagerSelector);else{var f=e('<div class="bx-pager"></div>');f.append(s),t.pagerLocation=="top"?u.prepend(f):t.pagerLocation=="bottom"&&u.append(f),p=e(".bx-pager",u)}p.children().click(function(){if(t.pagerType=="full"){var e=p.children().index(this);t.moveSlideQty>1&&(e*=t.moveSlideQty),r.goToSlide(e)}return!1})}function X(){var n=e("img",o.eq(x)).attr("title");n!=""?t.captionsSelector?e(t.captionsSelector).html(n):e(".bx-captions",u).html(n):t.captionsSelector?e(t.captionsSelector).html("&nbsp;"):e(".bx-captions",u).html("&nbsp;")}function V(n,i,s,o){v=e('<a href="" class="bx-start"></a>'),n=="text"?g=i:g='<img src="'+i+'" />',s=="text"?y=o:y='<img src="'+o+'" />',t.autoControlsSelector?e(t.autoControlsSelector).append(v):(u.append('<div class="bx-auto"></div>'),e(".bx-auto",u).html(v)),v.click(function(){return t.ticker?e(this).hasClass("stop")?r.stopTicker():e(this).hasClass("start")&&r.startTicker():e(this).hasClass("stop")?r.stopShow(!0):e(this).hasClass("start")&&r.startShow(!0),!1})}function J(){!t.infiniteLoop&&t.hideControlOnEnd&&(x==M?e(".bx-prev",u).hide():e(".bx-prev",u).show(),x==_?e(".bx-next",u).hide():e(".bx-next",u).show())}function K(t,n){if(n=="left")var r=e(".pager",u).eq(t).position().left;else if(n=="top")var r=e(".pager",u).eq(t).position().top;return r}function Q(){var e=a.outerWidth()*t.displaySlideQty;return e}function G(){var e=a.outerHeight()*t.displaySlideQty;return e}function Y(t,n,r,i){var s=[],o=r,u=!1;i=="backward"&&(t=e.makeArray(t),t.reverse());while(o>0)e.each(t,function(t,r){if(!(o>0))return!1;u?(s.push(e(this).clone()),o--):t==n&&(u=!0,s.push(e(this).clone()),o--)});return s}var n={mode:"horizontal",infiniteLoop:!0,hideControlOnEnd:!1,controls:!0,speed:500,easing:"swing",pager:!1,pagerSelector:null,pagerType:"full",pagerLocation:"bottom",pagerShortSeparator:"/",pagerActiveClass:"pager-active",nextText:"next",nextSelector:null,prevSelector:null,captions:!1,captionsSelector:null,auto:!1,autoDirection:"next",autoControls:!1,autoControlsSelector:null,autoStart:!0,autoHover:!1,autoDelay:0,pause:3e3,startText:"start",startImage:"",stopText:"stop",stopImage:"",ticker:!1,tickerSpeed:5e3,tickerDirection:"next",tickerHover:!1,wrapperClass:"bx-wrapper",startingSlide:0,displaySlideQty:1,moveSlideQty:1,randomStart:!1,onBeforeSlide:function(){},onAfterSlide:function(){},onLastSlide:function(){},onFirstSlide:function(){},onNextSlide:function(){},onPrevSlide:function(){},buildPager:null},t=e.extend(n,t),r=this,i="",s="",o="",u="",a="",f="",l="",c="",h="",p="",d="",v="",m="",g="",y="",b=!0,w=!1,E=0,S=0,x=0,T=0,N=0,C=0,k=0,L=0,A=0,O=!1,M=0,_=o.length-1;return this.goToSlide=function(e,n){if(!O){O=!0,x=e,t.onBeforeSlide(x,o.length,o.eq(x));if(typeof n=="undefined")var n=!0;n&&t.auto&&r.stopShow(!0),slide=e,slide==M&&t.onFirstSlide(x,o.length,o.eq(x)),slide==_&&t.onLastSlide(x,o.length,o.eq(x)),t.mode=="horizontal"?i.animate({left:"-"+K(slide,"left")+"px"},t.speed,t.easing,function(){O=!1,t.onAfterSlide(x,o.length,o.eq(x))}):t.mode=="vertical"?i.animate({top:"-"+K(slide,"top")+"px"},t.speed,t.easing,function(){O=!1,t.onAfterSlide(x,o.length,o.eq(x))}):t.mode=="fade"&&R(),J(),t.moveSlideQty>1&&(e=Math.floor(e/t.moveSlideQty)),U(e),X()}},this.goToNextSlide=function(e){if(typeof e=="undefined")var e=!0;e&&t.auto&&r.stopShow(!0);if(!t.infiniteLoop){if(!O){var n=!1;x+=t.moveSlideQty,x<=_?(J(),t.onNextSlide(x,o.length,o.eq(x)),r.goToSlide(x)):x-=t.moveSlideQty}}else if(!O){O=!0;var n=!1;x+=t.moveSlideQty,x>_&&(x%=o.length,n=!0),t.onNextSlide(x,o.length,o.eq(x)),t.onBeforeSlide(x,o.length,o.eq(x));if(t.mode=="horizontal"){var s=t.moveSlideQty*l;i.animate({left:"-="+s+"px"},t.speed,t.easing,function(){O=!1,n&&i.css("left","-"+K(x,"left")+"px"),t.onAfterSlide(x,o.length,o.eq(x))})}else if(t.mode=="vertical"){var u=t.moveSlideQty*S;i.animate({top:"-="+u+"px"},t.speed,t.easing,function(){O=!1,n&&i.css("top","-"+K(x,"top")+"px"),t.onAfterSlide(x,o.length,o.eq(x))})}else t.mode=="fade"&&R();t.moveSlideQty>1?U(Math.ceil(x/t.moveSlideQty)):U(x),X()}},this.goToPreviousSlide=function(n){if(typeof n=="undefined")var n=!0;n&&t.auto&&r.stopShow(!0);if(!t.infiniteLoop){if(!O){var s=!1;x-=t.moveSlideQty,x<0&&(x=0,t.hideControlOnEnd&&e(".bx-prev",u).hide()),J(),t.onPrevSlide(x,o.length,o.eq(x)),r.goToSlide(x)}}else if(!O){O=!0;var s=!1;x-=t.moveSlideQty,x<0&&(negativeOffset=x%o.length,negativeOffset==0?x=0:x=o.length+negativeOffset,s=!0),t.onPrevSlide(x,o.length,o.eq(x)),t.onBeforeSlide(x,o.length,o.eq(x));if(t.mode=="horizontal"){var a=t.moveSlideQty*l;i.animate({left:"+="+a+"px"},t.speed,t.easing,function(){O=!1,s&&i.css("left","-"+K(x,"left")+"px"),t.onAfterSlide(x,o.length,o.eq(x))})}else if(t.mode=="vertical"){var f=t.moveSlideQty*S;i.animate({top:"+="+f+"px"},t.speed,t.easing,function(){O=!1,s&&i.css("top","-"+K(x,"top")+"px"),t.onAfterSlide(x,o.length,o.eq(x))})}else t.mode=="fade"&&R();t.moveSlideQty>1?U(Math.ceil(x/t.moveSlideQty)):U(x),X()}},this.goToFirstSlide=function(e){if(typeof e=="undefined")var e=!0;r.goToSlide(M,e)},this.goToLastSlide=function(){if(typeof e=="undefined")var e=!0;r.goToSlide(_,e)},this.getCurrentSlide=function(){return x},this.getSlideCount=function(){return o.length},this.stopShow=function(e){clearInterval(d);if(typeof e=="undefined")var e=!0;e&&t.autoControls&&(v.html(g).removeClass("stop").addClass("start"),b=!1)},this.startShow=function(e){if(typeof e=="undefined")var e=!0;B(),e&&t.autoControls&&(v.html(y).removeClass("start").addClass("stop"),b=!0)},this.stopTicker=function(e){i.stop();if(typeof e=="undefined")var e=!0;e&&t.ticker&&(v.html(g).removeClass("stop").addClass("start"),b=!1)},this.startTicker=function(e){if(t.mode=="horizontal"){if(t.tickerDirection=="next")var n=parseInt(i.css("left")),r=C+n+o.eq(0).width();else if(t.tickerDirection=="prev")var n=-parseInt(i.css("left")),r=n-o.eq(0).width();var s=r*t.tickerSpeed/C;j(L,r,s)}else if(t.mode=="vertical"){if(t.tickerDirection=="next")var u=parseInt(i.css("top")),r=k+u+o.eq(0).height();else if(t.tickerDirection=="prev")var u=-parseInt(i.css("top")),r=u-o.eq(0).height();var s=r*t.tickerSpeed/k;j(A,r,s);if(typeof e=="undefined")var e=!0;e&&t.ticker&&(v.html(y).removeClass("start").addClass("stop"),b=!0)}},this.initShow=function(){i=e(this),s=i.clone(),o=i.children(),u="",a=i.children(":first"),f=a.width(),E=0,l=a.outerWidth(),S=0,c=Q(),h=G(),O=!1,p="",x=0,T=0,N=0,d="",v="",m="",g="",y="",b=!0,w=!1,C=0,k=0,L=0,A=0,M=0,_=o.length-1,o.each(function(t){e(this).outerHeight()>S&&(S=e(this).outerHeight()),e(this).outerWidth()>E&&(E=e(this).outerWidth())});if(t.randomStart){var n=Math.floor(Math.random()*o.length);x=n,T=l*(t.moveSlideQty+n),N=S*(t.moveSlideQty+n)}else x=t.startingSlide,T=l*(t.moveSlideQty+t.startingSlide),N=S*(t.moveSlideQty+t.startingSlide);D(),t.pager&&!t.ticker&&(t.pagerType=="full"?W("full"):t.pagerType=="short"&&W("short")),t.controls&&!t.ticker&&H();if(t.auto||t.ticker)t.autoControls&&F(),t.autoStart?setTimeout(function(){r.startShow(!0)},t.autoDelay):r.stopShow(!0),t.autoHover&&!t.ticker&&I();t.moveSlideQty>1?U(Math.ceil(x/t.moveSlideQty)):U(x),J(),t.captions&&X(),t.onAfterSlide(x,o.length,o.eq(x))},this.destroyShow=function(){clearInterval(d),e(".bx-next, .bx-prev, .bx-pager, .bx-auto",u).remove(),i.unwrap().unwrap().removeAttr("style"),i.children().removeAttr("style").not(".pager").remove(),o.removeClass("pager")},this.reloadShow=function(){r.destroyShow(),r.initShow()},this.each(function(){e(this).children().length>0&&r.initShow()}),this},jQuery.fx.prototype.cur=function(){if(this.elem[this.prop]==null||!!this.elem.style&&this.elem.style[this.prop]!=null){var e=parseFloat(jQuery.css(this.elem,this.prop));return e}return this.elem[this.prop]}})(jQuery);