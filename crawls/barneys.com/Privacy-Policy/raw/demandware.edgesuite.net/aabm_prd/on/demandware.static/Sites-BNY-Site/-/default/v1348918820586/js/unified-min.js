/*!
 * jQuery Cycle Plugin (with Transition Definitions)
 * Examples and documentation at: http://jquery.malsup.com/cycle/
 * Copyright (c) 2007-2010 M. Alsup
 * Version: 2.9999 (13-NOV-2011)
 * Dual licensed under the MIT and GPL licenses.
 * http://jquery.malsup.com/license.html
 * Requires: jQuery v1.3.2 or later
 */
(function(c,d){var b="2.9999";if(c.support==d){c.support={opacity:!(c.browser.msie)}}function g(u){c.fn.cycle.debug&&f(u)}function f(){window.console&&console.log&&console.log("[cycle] "+Array.prototype.join.call(arguments," "))}c.expr[":"].paused=function(u){return u.cyclePause};c.fn.cycle=function(v,u){var w={s:this.selector,c:this.context};if(this.length===0&&v!="stop"){if(!c.isReady&&w.s){f("DOM not ready, queuing slideshow");c(function(){c(w.s,w.c).cycle(v,u)});return this}f("terminating; zero elements found by selector"+(c.isReady?"":" (DOM not ready)"));return this}return this.each(function(){var A=m(this,v,u);if(A===false){return}A.updateActivePagerLink=A.updateActivePagerLink||c.fn.cycle.updateActivePagerLink;if(this.cycleTimeout){clearTimeout(this.cycleTimeout)}this.cycleTimeout=this.cyclePause=0;var B=c(this);var C=A.slideExpr?c(A.slideExpr,this):B.children();var y=C.get();var x=s(B,C,y,A,w);if(x===false){return}if(y.length<2){f("terminating; too few slides: "+y.length);return}var z=x.continuous?10:n(y[x.currSlide],y[x.nextSlide],x,!x.backwards);if(z){z+=(x.delay||0);if(z<10){z=10}g("first timeout: "+z);this.cycleTimeout=setTimeout(function(){o(y,x,0,!A.backwards)},z)}})};function l(u,x,w){var y=c(u).data("cycle.opts");var v=!!u.cyclePause;if(v&&y.paused){y.paused(u,y,x,w)}else{if(!v&&y.resumed){y.resumed(u,y,x,w)}}}function m(u,x,v){if(u.cycleStop==d){u.cycleStop=0}if(x===d||x===null){x={}}if(x.constructor==String){switch(x){case"destroy":case"stop":var z=c(u).data("cycle.opts");if(!z){return false}u.cycleStop++;if(u.cycleTimeout){clearTimeout(u.cycleTimeout)}u.cycleTimeout=0;z.elements&&c(z.elements).stop();c(u).removeData("cycle.opts");if(x=="destroy"){t(z)}return false;case"toggle":u.cyclePause=(u.cyclePause===1)?0:1;y(u.cyclePause,v,u);l(u);return false;case"pause":u.cyclePause=1;l(u);return false;case"resume":u.cyclePause=0;y(false,v,u);l(u);return false;case"prev":case"next":var z=c(u).data("cycle.opts");if(!z){f('options not found, "prev/next" ignored');return false}c.fn.cycle[x](z);return false;default:x={fx:x}}return x}else{if(x.constructor==Number){var w=x;x=c(u).data("cycle.opts");if(!x){f("options not found, can not advance slide");return false}if(w<0||w>=x.elements.length){f("invalid slide index: "+w);return false}x.nextSlide=w;if(u.cycleTimeout){clearTimeout(u.cycleTimeout);u.cycleTimeout=0}if(typeof v=="string"){x.oneTimeFx=v}o(x.elements,x,1,w>=x.currSlide);return false}}return x;function y(B,C,A){if(!B&&C===true){var D=c(A).data("cycle.opts");if(!D){f("options not found, can not resume");return false}if(A.cycleTimeout){clearTimeout(A.cycleTimeout);A.cycleTimeout=0}o(D.elements,D,1,!D.backwards)}}}function e(u,v){if(!c.support.opacity&&v.cleartype&&u.style.filter){try{u.style.removeAttribute("filter")}catch(w){}}}function t(u){if(u.next){c(u.next).unbind(u.prevNextEvent)}if(u.prev){c(u.prev).unbind(u.prevNextEvent)}if(u.pager||u.pagerAnchorBuilder){c.each(u.pagerAnchors||[],function(){this.unbind().remove()})}u.pagerAnchors=null;if(u.destroy){u.destroy(u)}}function s(E,S,B,A,L){var u;var J=c.extend({},c.fn.cycle.defaults,A||{},c.metadata?E.metadata():c.meta?E.data():{});var H=c.isFunction(E.data)?E.data(J.metaAttr):null;if(H){J=c.extend(J,H)}if(J.autostop){J.countdown=J.autostopCount||B.length}var x=E[0];E.data("cycle.opts",J);J.$cont=E;J.stopCount=x.cycleStop;J.elements=B;J.before=J.before?[J.before]:[];J.after=J.after?[J.after]:[];if(!c.support.opacity&&J.cleartype){J.after.push(function(){e(this,J)})}if(J.continuous){J.after.push(function(){o(B,J,0,!J.backwards)})}j(J);if(!c.support.opacity&&J.cleartype&&!J.cleartypeNoBg){a(S)}if(E.css("position")=="static"){E.css("position","relative")}if(J.width){E.width(J.width)}if(J.height&&J.height!="auto"){E.height(J.height)}if(J.startingSlide!=d){J.startingSlide=parseInt(J.startingSlide,10);if(J.startingSlide>=B.length||J.startSlide<0){J.startingSlide=0}else{u=true}}else{if(J.backwards){J.startingSlide=B.length-1}else{J.startingSlide=0}}if(J.random){J.randomMap=[];for(var Q=0;Q<B.length;Q++){J.randomMap.push(Q)}J.randomMap.sort(function(U,w){return Math.random()-0.5});if(u){for(var O=0;O<B.length;O++){if(J.startingSlide==J.randomMap[O]){J.randomIndex=O}}}else{J.randomIndex=1;J.startingSlide=J.randomMap[1]}}else{if(J.startingSlide>=B.length){J.startingSlide=0}}J.currSlide=J.startingSlide||0;var D=J.startingSlide;S.css({position:"absolute",top:0,left:0}).hide().each(function(w){var U;if(J.backwards){U=D?w<=D?B.length+(w-D):D-w:B.length-w}else{U=D?w>=D?B.length-(w-D):D-w:B.length-w}c(this).css("z-index",U)});c(B[D]).css("opacity",1).show();e(B[D],J);if(J.fit){if(!J.aspect){if(J.width){S.width(J.width)}if(J.height&&J.height!="auto"){S.height(J.height)}}else{S.each(function(){var U=c(this);var w=(J.aspect===true)?U.width()/U.height():J.aspect;if(J.width&&U.width()!=J.width){U.width(J.width);U.height(J.width/w)}if(J.height&&U.height()<J.height){U.height(J.height);U.width(J.height*w)}})}}if(J.center&&((!J.fit)||J.aspect)){S.each(function(){var w=c(this);w.css({"margin-left":J.width?((J.width-w.width())/2)+"px":0,"margin-top":J.height?((J.height-w.height())/2)+"px":0})})}if(J.center&&!J.fit&&!J.slideResize){S.each(function(){var w=c(this);w.css({"margin-left":J.width?((J.width-w.width())/2)+"px":0,"margin-top":J.height?((J.height-w.height())/2)+"px":0})})}var K=J.containerResize&&!E.innerHeight();if(K){var C=0,I=0;for(var N=0;N<B.length;N++){var v=c(B[N]),T=v[0],G=v.outerWidth(),R=v.outerHeight();if(!G){G=T.offsetWidth||T.width||v.attr("width")}if(!R){R=T.offsetHeight||T.height||v.attr("height")}C=G>C?G:C;I=R>I?R:I}if(C>0&&I>0){E.css({width:C+"px",height:I+"px"})}}var z=false;if(J.pause){E.hover(function(){z=true;this.cyclePause++;l(x,true)},function(){z&&this.cyclePause--;l(x,true)})}if(q(J)===false){return false}var y=false;A.requeueAttempts=A.requeueAttempts||0;S.each(function(){var W=c(this);this.cycleH=(J.fit&&J.height)?J.height:(W.height()||this.offsetHeight||this.height||W.attr("height")||0);this.cycleW=(J.fit&&J.width)?J.width:(W.width()||this.offsetWidth||this.width||W.attr("width")||0);if(W.is("img")){var U=(c.browser.msie&&this.cycleW==28&&this.cycleH==30&&!this.complete);var X=(c.browser.mozilla&&this.cycleW==34&&this.cycleH==19&&!this.complete);var V=(c.browser.opera&&((this.cycleW==42&&this.cycleH==19)||(this.cycleW==37&&this.cycleH==17))&&!this.complete);var w=(this.cycleH==0&&this.cycleW==0&&!this.complete);if(U||X||V||w){if(L.s&&J.requeueOnImageNotLoaded&&++A.requeueAttempts<100){f(A.requeueAttempts," - img slide not loaded, requeuing slideshow: ",this.src,this.cycleW,this.cycleH);setTimeout(function(){c(L.s,L.c).cycle(A)},J.requeueTimeout);y=true;return false}else{f("could not determine size of image: "+this.src,this.cycleW,this.cycleH)}}}return true});if(y){return false}J.cssBefore=J.cssBefore||{};J.cssAfter=J.cssAfter||{};J.cssFirst=J.cssFirst||{};J.animIn=J.animIn||{};J.animOut=J.animOut||{};S.not(":eq("+D+")").css(J.cssBefore);c(S[D]).css(J.cssFirst);if(J.timeout){J.timeout=parseInt(J.timeout,10);if(J.speed.constructor==String){J.speed=c.fx.speeds[J.speed]||parseInt(J.speed,10)}if(!J.sync){J.speed=J.speed/2}var M=J.fx=="none"?0:J.fx=="shuffle"?500:250;while((J.timeout-J.speed)<M){J.timeout+=J.speed}}if(J.easing){J.easeIn=J.easeOut=J.easing}if(!J.speedIn){J.speedIn=J.speed}if(!J.speedOut){J.speedOut=J.speed}J.slideCount=B.length;J.currSlide=J.lastSlide=D;if(J.random){if(++J.randomIndex==B.length){J.randomIndex=0}J.nextSlide=J.randomMap[J.randomIndex]}else{if(J.backwards){J.nextSlide=J.startingSlide==0?(B.length-1):J.startingSlide-1}else{J.nextSlide=J.startingSlide>=(B.length-1)?0:J.startingSlide+1}}if(!J.multiFx){var P=c.fn.cycle.transitions[J.fx];if(c.isFunction(P)){P(E,S,J)}else{if(J.fx!="custom"&&!J.multiFx){f("unknown transition: "+J.fx,"; slideshow terminating");return false}}}var F=S[D];if(!J.skipInitializationCallbacks){if(J.before.length){J.before[0].apply(F,[F,F,J,true])}if(J.after.length){J.after[0].apply(F,[F,F,J,true])}}if(J.next){c(J.next).bind(J.prevNextEvent,function(){return h(J,1)})}if(J.prev){c(J.prev).bind(J.prevNextEvent,function(){return h(J,0)})}if(J.pager||J.pagerAnchorBuilder){r(B,J)}k(J,B);return J}function j(u){u.original={before:[],after:[]};u.original.cssBefore=c.extend({},u.cssBefore);u.original.cssAfter=c.extend({},u.cssAfter);u.original.animIn=c.extend({},u.animIn);u.original.animOut=c.extend({},u.animOut);c.each(u.before,function(){u.original.before.push(this)});c.each(u.after,function(){u.original.after.push(this)})}function q(A){var y,w,v=c.fn.cycle.transitions;if(A.fx.indexOf(",")>0){A.multiFx=true;A.fxs=A.fx.replace(/\s*/g,"").split(",");for(y=0;y<A.fxs.length;y++){var z=A.fxs[y];w=v[z];if(!w||!v.hasOwnProperty(z)||!c.isFunction(w)){f("discarding unknown transition: ",z);A.fxs.splice(y,1);y--}}if(!A.fxs.length){f("No valid transitions named; slideshow terminating.");return false}}else{if(A.fx=="all"){A.multiFx=true;A.fxs=[];for(p in v){w=v[p];if(v.hasOwnProperty(p)&&c.isFunction(w)){A.fxs.push(p)}}}}if(A.multiFx&&A.randomizeEffects){var x=Math.floor(Math.random()*20)+30;for(y=0;y<x;y++){var u=Math.floor(Math.random()*A.fxs.length);A.fxs.push(A.fxs.splice(u,1)[0])}g("randomized fx sequence: ",A.fxs)}return true}function k(v,u){v.addSlide=function(x,y){var w=c(x),z=w[0];if(!v.autostopCount){v.countdown++}u[y?"unshift":"push"](z);if(v.els){v.els[y?"unshift":"push"](z)}v.slideCount=u.length;if(v.random){v.randomMap.push(v.slideCount-1);v.randomMap.sort(function(B,A){return Math.random()-0.5})}w.css("position","absolute");w[y?"prependTo":"appendTo"](v.$cont);if(y){v.currSlide++;v.nextSlide++}if(!c.support.opacity&&v.cleartype&&!v.cleartypeNoBg){a(w)}if(v.fit&&v.width){w.width(v.width)}if(v.fit&&v.height&&v.height!="auto"){w.height(v.height)}z.cycleH=(v.fit&&v.height)?v.height:w.height();z.cycleW=(v.fit&&v.width)?v.width:w.width();w.css(v.cssBefore);if(v.pager||v.pagerAnchorBuilder){c.fn.cycle.createPagerAnchor(u.length-1,z,c(v.pager),u,v)}if(c.isFunction(v.onAddSlide)){v.onAddSlide(w)}else{w.hide()}}}c.fn.cycle.resetState=function(v,u){u=u||v.fx;v.before=[];v.after=[];v.cssBefore=c.extend({},v.original.cssBefore);v.cssAfter=c.extend({},v.original.cssAfter);v.animIn=c.extend({},v.original.animIn);v.animOut=c.extend({},v.original.animOut);v.fxFn=null;c.each(v.original.before,function(){v.before.push(this)});c.each(v.original.after,function(){v.after.push(this)});var w=c.fn.cycle.transitions[u];if(c.isFunction(w)){w(v.$cont,c(v.elements),v)}};function o(A,u,z,C){if(z&&u.busy&&u.manualTrump){g("manualTrump in go(), stopping active transition");c(A).stop(true,true);u.busy=0}if(u.busy){g("transition active, ignoring new tx request");return}var x=u.$cont[0],F=A[u.currSlide],D=A[u.nextSlide];if(x.cycleStop!=u.stopCount||x.cycleTimeout===0&&!z){return}if(!z&&!x.cyclePause&&!u.bounce&&((u.autostop&&(--u.countdown<=0))||(u.nowrap&&!u.random&&u.nextSlide<u.currSlide))){if(u.end){u.end(u)}return}var B=false;if((z||!x.cyclePause)&&(u.nextSlide!=u.currSlide)){B=true;var y=u.fx;F.cycleH=F.cycleH||c(F).height();F.cycleW=F.cycleW||c(F).width();D.cycleH=D.cycleH||c(D).height();D.cycleW=D.cycleW||c(D).width();if(u.multiFx){if(C&&(u.lastFx==d||++u.lastFx>=u.fxs.length)){u.lastFx=0}else{if(!C&&(u.lastFx==d||--u.lastFx<0)){u.lastFx=u.fxs.length-1}}y=u.fxs[u.lastFx]}if(u.oneTimeFx){y=u.oneTimeFx;u.oneTimeFx=null}c.fn.cycle.resetState(u,y);if(u.before.length){c.each(u.before,function(G,H){if(x.cycleStop!=u.stopCount){return}H.apply(D,[F,D,u,C])})}var v=function(){u.busy=0;c.each(u.after,function(G,H){if(x.cycleStop!=u.stopCount){return}H.apply(D,[F,D,u,C])});if(!x.cycleStop){E()}};g("tx firing("+y+"); currSlide: "+u.currSlide+"; nextSlide: "+u.nextSlide);u.busy=1;if(u.fxFn){u.fxFn(F,D,u,v,C,z&&u.fastOnEvent)}else{if(c.isFunction(c.fn.cycle[u.fx])){c.fn.cycle[u.fx](F,D,u,v,C,z&&u.fastOnEvent)}else{c.fn.cycle.custom(F,D,u,v,C,z&&u.fastOnEvent)}}}else{E()}if(B||u.nextSlide==u.currSlide){u.lastSlide=u.currSlide;if(u.random){u.currSlide=u.nextSlide;if(++u.randomIndex==A.length){u.randomIndex=0;u.randomMap.sort(function(H,G){return Math.random()-0.5})}u.nextSlide=u.randomMap[u.randomIndex];if(u.nextSlide==u.currSlide){u.nextSlide=(u.currSlide==u.slideCount-1)?0:u.currSlide+1}}else{if(u.backwards){var w=(u.nextSlide-1)<0;if(w&&u.bounce){u.backwards=!u.backwards;u.nextSlide=1;u.currSlide=0}else{u.nextSlide=w?(A.length-1):u.nextSlide-1;u.currSlide=w?0:u.nextSlide+1}}else{var w=(u.nextSlide+1)==A.length;if(w&&u.bounce){u.backwards=!u.backwards;u.nextSlide=A.length-2;u.currSlide=A.length-1}else{u.nextSlide=w?0:u.nextSlide+1;u.currSlide=w?A.length-1:u.nextSlide-1}}}}if(B&&u.pager){u.updateActivePagerLink(u.pager,u.currSlide,u.activePagerClass)}function E(){var G=0,H=u.timeout;if(u.timeout&&!u.continuous){G=n(A[u.currSlide],A[u.nextSlide],u,C);if(u.fx=="shuffle"){G-=u.speedOut}}else{if(u.continuous&&x.cyclePause){G=10}}if(G>0){x.cycleTimeout=setTimeout(function(){o(A,u,0,!u.backwards)},G)}}}c.fn.cycle.updateActivePagerLink=function(u,w,v){c(u).each(function(){c(this).children().removeClass(v).eq(w).addClass(v)})};function n(y,w,x,v){if(x.timeoutFn){var u=x.timeoutFn.call(y,y,w,x,v);while(x.fx!="none"&&(u-x.speed)<250){u+=x.speed}g("calculated timeout: "+u+"; speed: "+x.speed);if(u!==false){return u}}return x.timeout}c.fn.cycle.next=function(u){h(u,1)};c.fn.cycle.prev=function(u){h(u,0)};function h(x,w){var A=w?1:-1;var v=x.elements;var z=x.$cont[0],y=z.cycleTimeout;if(y){clearTimeout(y);z.cycleTimeout=0}if(x.random&&A<0){x.randomIndex--;if(--x.randomIndex==-2){x.randomIndex=v.length-2}else{if(x.randomIndex==-1){x.randomIndex=v.length-1}}x.nextSlide=x.randomMap[x.randomIndex]}else{if(x.random){x.nextSlide=x.randomMap[x.randomIndex]}else{x.nextSlide=x.currSlide+A;if(x.nextSlide<0){if(x.nowrap){return false}x.nextSlide=v.length-1}else{if(x.nextSlide>=v.length){if(x.nowrap){return false}x.nextSlide=0}}}}var u=x.onPrevNextEvent||x.prevNextClick;if(c.isFunction(u)){u(A>0,x.nextSlide,v[x.nextSlide])}o(v,x,1,w);return false}function r(v,w){var u=c(w.pager);c.each(v,function(x,y){c.fn.cycle.createPagerAnchor(x,y,u,v,w)});w.updateActivePagerLink(w.pager,w.startingSlide,w.activePagerClass)}c.fn.cycle.createPagerAnchor=function(z,w,B,y,v){var C;if(c.isFunction(v.pagerAnchorBuilder)){C=v.pagerAnchorBuilder(z,w);g("pagerAnchorBuilder("+z+", el) returned: "+C)}else{C='<a href="#">'+(z+1)+"</a>"}if(!C){return}var x=c(C);if(x.parents("body").length===0){var A=[];if(B.length>1){B.each(function(){var F=x.clone(true);c(this).append(F);A.push(F[0])});x=c(A)}else{x.appendTo(B)}}v.pagerAnchors=v.pagerAnchors||[];v.pagerAnchors.push(x);var D=function(I){I.preventDefault();v.nextSlide=z;var H=v.$cont[0],G=H.cycleTimeout;if(G){clearTimeout(G);H.cycleTimeout=0}var F=v.onPagerEvent||v.pagerClick;if(c.isFunction(F)){F(v.nextSlide,y[v.nextSlide])}o(y,v,1,v.currSlide<z)};if(/mouseenter|mouseover/i.test(v.pagerEvent)){x.hover(D,function(){})}else{x.bind(v.pagerEvent,D)}if(!/^click/.test(v.pagerEvent)&&!v.allowPagerClickBubble){x.bind("click.cycle",function(){return false})}var E=v.$cont[0];var u=false;if(v.pauseOnPagerHover){x.hover(function(){u=true;E.cyclePause++;l(E,true,true)},function(){u&&E.cyclePause--;l(E,true,true)})}};c.fn.cycle.hopsFromLast=function(x,w){var v,u=x.lastSlide,y=x.currSlide;if(w){v=y>u?y-u:x.slideCount-u}else{v=y<u?u-y:u+x.slideCount-y}return v};function a(w){g("applying clearType background-color hack");function v(x){x=parseInt(x,10).toString(16);return x.length<2?"0"+x:x}function u(z){for(;z&&z.nodeName.toLowerCase()!="html";z=z.parentNode){var x=c.css(z,"background-color");if(x&&x.indexOf("rgb")>=0){var y=x.match(/\d+/g);return"#"+v(y[0])+v(y[1])+v(y[2])}if(x&&x!="transparent"){return x}}return"#ffffff"}w.each(function(){c(this).css("background-color",u(this))})}c.fn.cycle.commonReset=function(A,y,z,v,x,u){c(z.elements).not(A).hide();if(typeof z.cssBefore.opacity=="undefined"){z.cssBefore.opacity=1}z.cssBefore.display="block";if(z.slideResize&&v!==false&&y.cycleW>0){z.cssBefore.width=y.cycleW}if(z.slideResize&&x!==false&&y.cycleH>0){z.cssBefore.height=y.cycleH}z.cssAfter=z.cssAfter||{};z.cssAfter.display="none";c(A).css("zIndex",z.slideCount+(u===true?1:0));c(y).css("zIndex",z.slideCount+(u===true?0:1))};c.fn.cycle.custom=function(G,A,u,x,z,v){var F=c(G),B=c(A);var w=u.speedIn,E=u.speedOut,y=u.easeIn,D=u.easeOut;B.css(u.cssBefore);if(v){if(typeof v=="number"){w=E=v}else{w=E=1}y=D=null}var C=function(){B.animate(u.animIn,w,y,function(){x()})};F.animate(u.animOut,E,D,function(){F.css(u.cssAfter);if(!u.sync){C()}});if(u.sync){C()}};c.fn.cycle.transitions={fade:function(v,w,u){w.not(":eq("+u.currSlide+")").css("opacity",0);u.before.push(function(z,x,y){c.fn.cycle.commonReset(z,x,y);y.cssBefore.opacity=0});u.animIn={opacity:1};u.animOut={opacity:0};u.cssBefore={top:0,left:0}}};c.fn.cycle.ver=function(){return b};c.fn.cycle.defaults={activePagerClass:"activeSlide",after:null,allowPagerClickBubble:false,animIn:null,animOut:null,aspect:false,autostop:0,autostopCount:0,backwards:false,before:null,center:null,cleartype:!c.support.opacity,cleartypeNoBg:false,containerResize:1,continuous:0,cssAfter:null,cssBefore:null,delay:0,easeIn:null,easeOut:null,easing:null,end:null,fastOnEvent:0,fit:0,fx:"fade",fxFn:null,height:"auto",manualTrump:true,metaAttr:"cycle",next:null,nowrap:0,onPagerEvent:null,onPrevNextEvent:null,pager:null,pagerAnchorBuilder:null,pagerEvent:"click.cycle",pause:0,pauseOnPagerHover:0,prev:null,prevNextEvent:"click.cycle",random:0,randomizeEffects:1,requeueOnImageNotLoaded:true,requeueTimeout:250,rev:0,shuffle:null,skipInitializationCallbacks:false,slideExpr:null,slideResize:1,speed:1000,speedIn:null,speedOut:null,startingSlide:d,sync:1,timeout:4000,timeoutFn:null,updateActivePagerLink:null,width:null}})(jQuery);
/*!
 * jQuery Cycle Plugin Transition Definitions
 * This script is a plugin for the jQuery Cycle Plugin
 * Examples and documentation at: http://malsup.com/jquery/cycle/
 * Copyright (c) 2007-2010 M. Alsup
 * Version:	 2.73
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 */
(function(a){a.fn.cycle.transitions.none=function(c,d,b){b.fxFn=function(g,e,f,h){a(e).show();a(g).hide();h()}};a.fn.cycle.transitions.fadeout=function(c,d,b){d.not(":eq("+b.currSlide+")").css({display:"block",opacity:1});b.before.push(function(l,j,k,f,g,e){a(l).css("zIndex",k.slideCount+(!e===true?1:0));a(j).css("zIndex",k.slideCount+(!e===true?0:1))});b.animIn.opacity=1;b.animOut.opacity=0;b.cssBefore.opacity=1;b.cssBefore.display="block";b.cssAfter.zIndex=0};a.fn.cycle.transitions.scrollUp=function(d,e,c){d.css("overflow","hidden");c.before.push(a.fn.cycle.commonReset);var b=d.height();c.cssBefore.top=b;c.cssBefore.left=0;c.cssFirst.top=0;c.animIn.top=0;c.animOut.top=-b};a.fn.cycle.transitions.scrollDown=function(d,e,c){d.css("overflow","hidden");c.before.push(a.fn.cycle.commonReset);var b=d.height();c.cssFirst.top=0;c.cssBefore.top=-b;c.cssBefore.left=0;c.animIn.top=0;c.animOut.top=b};a.fn.cycle.transitions.scrollLeft=function(d,e,c){d.css("overflow","hidden");c.before.push(a.fn.cycle.commonReset);var b=d.width();c.cssFirst.left=0;c.cssBefore.left=b;c.cssBefore.top=0;c.animIn.left=0;c.animOut.left=0-b};a.fn.cycle.transitions.scrollRight=function(d,e,c){d.css("overflow","hidden");c.before.push(a.fn.cycle.commonReset);var b=d.width();c.cssFirst.left=0;c.cssBefore.left=-b;c.cssBefore.top=0;c.animIn.left=0;c.animOut.left=b};a.fn.cycle.transitions.scrollHorz=function(c,d,b){c.css("overflow","hidden").width();b.before.push(function(h,f,g,e){if(g.rev){e=!e}a.fn.cycle.commonReset(h,f,g);g.cssBefore.left=e?(f.cycleW-1):(1-f.cycleW);g.animOut.left=e?-h.cycleW:h.cycleW});b.cssFirst.left=0;b.cssBefore.top=0;b.animIn.left=0;b.animOut.top=0};a.fn.cycle.transitions.scrollVert=function(c,d,b){c.css("overflow","hidden");b.before.push(function(h,f,g,e){if(g.rev){e=!e}a.fn.cycle.commonReset(h,f,g);g.cssBefore.top=e?(1-f.cycleH):(f.cycleH-1);g.animOut.top=e?h.cycleH:-h.cycleH});b.cssFirst.top=0;b.cssBefore.left=0;b.animIn.top=0;b.animOut.left=0};a.fn.cycle.transitions.slideX=function(c,d,b){b.before.push(function(g,e,f){a(f.elements).not(g).hide();a.fn.cycle.commonReset(g,e,f,false,true);f.animIn.width=e.cycleW});b.cssBefore.left=0;b.cssBefore.top=0;b.cssBefore.width=0;b.animIn.width="show";b.animOut.width=0};a.fn.cycle.transitions.slideY=function(c,d,b){b.before.push(function(g,e,f){a(f.elements).not(g).hide();a.fn.cycle.commonReset(g,e,f,true,false);f.animIn.height=e.cycleH});b.cssBefore.left=0;b.cssBefore.top=0;b.cssBefore.height=0;b.animIn.height="show";b.animOut.height=0};a.fn.cycle.transitions.shuffle=function(e,f,d){var c,b=e.css("overflow","visible").width();f.css({left:0,top:0});d.before.push(function(j,g,h){a.fn.cycle.commonReset(j,g,h,true,true,true)});if(!d.speedAdjusted){d.speed=d.speed/2;d.speedAdjusted=true}d.random=0;d.shuffle=d.shuffle||{left:-b,top:15};d.els=[];for(c=0;c<f.length;c++){d.els.push(f[c])}for(c=0;c<d.currSlide;c++){d.els.push(d.els.shift())}d.fxFn=function(n,k,m,g,j){if(m.rev){j=!j}var h=j?a(n):a(k);a(k).css(m.cssBefore);var l=m.slideCount;h.animate(m.shuffle,m.speedIn,m.easeIn,function(){var q=a.fn.cycle.hopsFromLast(m,j);for(var r=0;r<q;r++){j?m.els.push(m.els.shift()):m.els.unshift(m.els.pop())}if(j){for(var s=0,o=m.els.length;s<o;s++){a(m.els[s]).css("z-index",o-s+l)}}else{var t=a(n).css("z-index");h.css("z-index",parseInt(t,10)+1+l)}h.animate({left:0,top:0},m.speedOut,m.easeOut,function(){a(j?this:n).hide();if(g){g()}})})};a.extend(d.cssBefore,{display:"block",opacity:1,top:0,left:0})};a.fn.cycle.transitions.turnUp=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,true,false);f.cssBefore.top=e.cycleH;f.animIn.height=e.cycleH;f.animOut.width=e.cycleW});b.cssFirst.top=0;b.cssBefore.left=0;b.cssBefore.height=0;b.animIn.top=0;b.animOut.height=0};a.fn.cycle.transitions.turnDown=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,true,false);f.animIn.height=e.cycleH;f.animOut.top=g.cycleH});b.cssFirst.top=0;b.cssBefore.left=0;b.cssBefore.top=0;b.cssBefore.height=0;b.animOut.height=0};a.fn.cycle.transitions.turnLeft=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,false,true);f.cssBefore.left=e.cycleW;f.animIn.width=e.cycleW});b.cssBefore.top=0;b.cssBefore.width=0;b.animIn.left=0;b.animOut.width=0};a.fn.cycle.transitions.turnRight=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,false,true);f.animIn.width=e.cycleW;f.animOut.left=g.cycleW});a.extend(b.cssBefore,{top:0,left:0,width:0});b.animIn.left=0;b.animOut.width=0};a.fn.cycle.transitions.zoom=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,false,false,true);f.cssBefore.top=e.cycleH/2;f.cssBefore.left=e.cycleW/2;a.extend(f.animIn,{top:0,left:0,width:e.cycleW,height:e.cycleH});a.extend(f.animOut,{width:0,height:0,top:g.cycleH/2,left:g.cycleW/2})});b.cssFirst.top=0;b.cssFirst.left=0;b.cssBefore.width=0;b.cssBefore.height=0};a.fn.cycle.transitions.fadeZoom=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,false,false);f.cssBefore.left=e.cycleW/2;f.cssBefore.top=e.cycleH/2;a.extend(f.animIn,{top:0,left:0,width:e.cycleW,height:e.cycleH})});b.cssBefore.width=0;b.cssBefore.height=0;b.animOut.opacity=0};a.fn.cycle.transitions.blindX=function(d,e,c){var b=d.css("overflow","hidden").width();c.before.push(function(h,f,g){a.fn.cycle.commonReset(h,f,g);g.animIn.width=f.cycleW;g.animOut.left=h.cycleW});c.cssBefore.left=b;c.cssBefore.top=0;c.animIn.left=0;c.animOut.left=b};a.fn.cycle.transitions.blindY=function(d,e,c){var b=d.css("overflow","hidden").height();c.before.push(function(h,f,g){a.fn.cycle.commonReset(h,f,g);g.animIn.height=f.cycleH;g.animOut.top=h.cycleH});c.cssBefore.top=b;c.cssBefore.left=0;c.animIn.top=0;c.animOut.top=b};a.fn.cycle.transitions.blindZ=function(e,f,d){var c=e.css("overflow","hidden").height();var b=e.width();d.before.push(function(j,g,h){a.fn.cycle.commonReset(j,g,h);h.animIn.height=g.cycleH;h.animOut.top=j.cycleH});d.cssBefore.top=c;d.cssBefore.left=b;d.animIn.top=0;d.animIn.left=0;d.animOut.top=c;d.animOut.left=b};a.fn.cycle.transitions.growX=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,false,true);f.cssBefore.left=this.cycleW/2;f.animIn.left=0;f.animIn.width=this.cycleW;f.animOut.left=0});b.cssBefore.top=0;b.cssBefore.width=0};a.fn.cycle.transitions.growY=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,true,false);f.cssBefore.top=this.cycleH/2;f.animIn.top=0;f.animIn.height=this.cycleH;f.animOut.top=0});b.cssBefore.height=0;b.cssBefore.left=0};a.fn.cycle.transitions.curtainX=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,false,true,true);f.cssBefore.left=e.cycleW/2;f.animIn.left=0;f.animIn.width=this.cycleW;f.animOut.left=g.cycleW/2;f.animOut.width=0});b.cssBefore.top=0;b.cssBefore.width=0};a.fn.cycle.transitions.curtainY=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,true,false,true);f.cssBefore.top=e.cycleH/2;f.animIn.top=0;f.animIn.height=e.cycleH;f.animOut.top=g.cycleH/2;f.animOut.height=0});b.cssBefore.height=0;b.cssBefore.left=0};a.fn.cycle.transitions.cover=function(f,g,e){var j=e.direction||"left";var b=f.css("overflow","hidden").width();var c=f.height();e.before.push(function(k,d,h){a.fn.cycle.commonReset(k,d,h);if(j=="right"){h.cssBefore.left=-b}else{if(j=="up"){h.cssBefore.top=c}else{if(j=="down"){h.cssBefore.top=-c}else{h.cssBefore.left=b}}}});e.animIn.left=0;e.animIn.top=0;e.cssBefore.top=0;e.cssBefore.left=0};a.fn.cycle.transitions.uncover=function(f,g,e){var j=e.direction||"left";var b=f.css("overflow","hidden").width();var c=f.height();e.before.push(function(k,d,h){a.fn.cycle.commonReset(k,d,h,true,true,true);if(j=="right"){h.animOut.left=b}else{if(j=="up"){h.animOut.top=-c}else{if(j=="down"){h.animOut.top=c}else{h.animOut.left=-b}}}});e.animIn.left=0;e.animIn.top=0;e.cssBefore.top=0;e.cssBefore.left=0};a.fn.cycle.transitions.toss=function(e,f,d){var b=e.css("overflow","visible").width();var c=e.height();d.before.push(function(j,g,h){a.fn.cycle.commonReset(j,g,h,true,true,true);if(!h.animOut.left&&!h.animOut.top){a.extend(h.animOut,{left:b*2,top:-c/2,opacity:0})}else{h.animOut.opacity=0}});d.cssBefore.left=0;d.cssBefore.top=0;d.animIn.left=0};a.fn.cycle.transitions.wipe=function(u,n,e){var s=u.css("overflow","hidden").width();var k=u.height();e.cssBefore=e.cssBefore||{};var g;if(e.clip){if(/l2r/.test(e.clip)){g="rect(0px 0px "+k+"px 0px)"}else{if(/r2l/.test(e.clip)){g="rect(0px "+s+"px "+k+"px "+s+"px)"}else{if(/t2b/.test(e.clip)){g="rect(0px "+s+"px 0px 0px)"}else{if(/b2t/.test(e.clip)){g="rect("+k+"px "+s+"px "+k+"px 0px)"}else{if(/zoom/.test(e.clip)){var q=parseInt(k/2,10);var f=parseInt(s/2,10);g="rect("+q+"px "+f+"px "+q+"px "+f+"px)"}}}}}}e.cssBefore.clip=e.cssBefore.clip||g||"rect(0px 0px 0px 0px)";var m=e.cssBefore.clip.match(/(\d+)/g);var v=parseInt(m[0],10),c=parseInt(m[1],10),o=parseInt(m[2],10),j=parseInt(m[3],10);e.before.push(function(x,h,t){if(x==h){return}var d=a(x),b=a(h);a.fn.cycle.commonReset(x,h,t,true,true,false);t.cssAfter.display="block";var r=1,l=parseInt((t.speedIn/13),10)-1;(function w(){var z=v?v-parseInt(r*(v/l),10):0;var A=j?j-parseInt(r*(j/l),10):0;var B=o<k?o+parseInt(r*((k-o)/l||1),10):k;var y=c<s?c+parseInt(r*((s-c)/l||1),10):s;b.css({clip:"rect("+z+"px "+y+"px "+B+"px "+A+"px)"});(r++<=l)?setTimeout(w,13):d.css("display","none")})()});a.extend(e.cssBefore,{display:"block",opacity:1,top:0,left:0});e.animIn={left:0};e.animOut={left:0}}})(jQuery);(function(a){a.fn.touchme=function(c){var b={min_move_x:20,min_move_y:20,wipeLeft:function(d){},wipeRight:function(d){},wipeUp:function(d){},wipeDown:function(d){},wipeDownRight:function(d){},wipeUpLeft:function(d){},wipeUpRight:function(d){},wipeDownLeft:function(d){},gestureChange:function(d){},onGestureEnd:function(d){},inMotion:function(d){},preventDefaultEvents:true};if(c){a.extend(b,c)}else{if(c.wipeLeft){b.wipeLeft=c.wipeLeft}else{if(c.wipeRight){b.wipeRight=c.wipeRight}else{if(c.wipeUp){b.wipeUp=c.wipeUp}else{if(c.wipeDown){b.wipeDown=c.wipeDown}else{if(c.wipeDownRight){b.wipeDownRight=c.wipeDownRight}else{if(c.wipeUpLeft){b.wipeUpLeft=c.wipeUpLeft}else{if(c.wipeUpRight){b.wipeUpRight=c.wipeUpRight}else{if(c.wipeDownLeft){b.wipeDownLeft=c.wipeDownLeft}else{if(c.gestureChange){b.gestureChange=c.gestureChange}else{if(c.onGestureEnd){b.onGestureEnd=c.onGestureEnd}else{if(c.inMotion){b.inMotion=c.inMotion}else{var c={isDetectHorizontalMovement:true,isDetectDiagonalMovement:false,isDetectVecticalMovement:true}}}}}}}}}}}}}this.each(function(){var e;var d;var l=false;function k(){this.removeEventListener("touchmove",g);e=null;d=null;l=false}function g(q){if(b.preventDefaultEvents){q.preventDefault()}if(l){b.inMotion(q);var m=q.touches[0].pageX;var r=q.touches[0].pageY;var o=e-m;var n=d-r;if(c.isDetectDiagonalMovement==true){if((Math.abs(o)>=b.min_move_x)&&(Math.abs(n)>=b.min_move_y)){k();if((n>0)&&(o>0)){b.wipeUpLeft(q.target)}else{if((o<0)&&(n<0)){b.wipeDownRight(q.target)}else{if((o>0)&&(n<0)){b.wipeDownLeft(q.target)}else{if((o<0)&&(n>0)){b.wipeUpRight(q.target)}}}}return}}if(c.isDetectHorizontalMovement==true){if(Math.abs(o)>=b.min_move_x){k();if(o>0){b.wipeLeft(q.target)}else{b.wipeRight(q.target)}}}if(c.isDetectVecticalMovement==true){if(Math.abs(n)>=b.min_move_y){k();if(n>0){b.wipeUp(q.target)}else{b.wipeDown(q.target)}}}}}function f(m){m.preventDefault();b.gestureChange(m)}function j(m){b.onGestureEnd(m)}function k(){this.removeEventListener("gesturechange",f);l=false}function h(m){if(m.touches.length==1){e=m.touches[0].pageX;d=m.touches[0].pageY;l=true;this.addEventListener("touchmove",g,false)}else{if(m.touches.length==2){l=true;this.addEventListener("gesturechange",f,false);this.addEventListener("gestureend",j,false)}}}this.addEventListener("touchstart",h,false)});return this}})(jQuery);(function(a){a.fn.hoverIntent=function(l,k){var m={sensitivity:7,interval:100,timeout:0};m=a.extend(m,k?{over:l,out:k}:l);var o,n,h,d;var e=function(f){o=f.pageX;n=f.pageY};var c=function(g,f){f.hoverIntent_t=clearTimeout(f.hoverIntent_t);if((Math.abs(h-o)+Math.abs(d-n))<m.sensitivity){a(f).unbind("mousemove",e);f.hoverIntent_s=1;return m.over.apply(f,[g])}else{h=o;d=n;f.hoverIntent_t=setTimeout(function(){c(g,f)},m.interval)}};var j=function(g,f){f.hoverIntent_t=clearTimeout(f.hoverIntent_t);f.hoverIntent_s=0;return m.out.apply(f,[g])};var b=function(q){var g=jQuery.extend({},q);var f=this;if(f.hoverIntent_t){f.hoverIntent_t=clearTimeout(f.hoverIntent_t)}if(q.type=="mouseenter"){h=g.pageX;d=g.pageY;a(f).bind("mousemove",e);if(f.hoverIntent_s!=1){f.hoverIntent_t=setTimeout(function(){c(g,f)},m.interval)}}else{a(f).unbind("mousemove",e);if(f.hoverIntent_s==1){f.hoverIntent_t=setTimeout(function(){j(g,f)},m.timeout)}}};return this.bind("mouseenter",b).bind("mouseleave",b)}})(jQuery);(function(d,e,f){d.fn.jScrollPane=function(a){function b(bs,bc){var bj,ba=this,a2,bF,aL,bD,a7,a1,s,aP,bY,bT,br,aX,bi,aY,aW,bP,a6,bz,a3,aN,bx,by,bK,bC,bm,aU,bt,bl,aJ,bp,bQ,a0,bf,bG=true,bb=true,bR=false,aV=false,bA=bs.clone(false,false).empty(),bN=d.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";bQ=bs.css("paddingTop")+" "+bs.css("paddingRight")+" "+bs.css("paddingBottom")+" "+bs.css("paddingLeft");a0=(parseInt(bs.css("paddingLeft"),10)||0)+(parseInt(bs.css("paddingRight"),10)||0);function bv(h){var n,l,m,q,g,j,k=false,o=false;bj=h;if(a2===f){g=bs.scrollTop();j=bs.scrollLeft();bs.css({overflow:"hidden",padding:0});bF=bs.innerWidth()+a0;aL=bs.innerHeight();bs.width(bF);a2=d('<div class="jspPane" />').css("padding",bQ).append(bs.children());bD=d('<div class="jspContainer" />').css({width:bF+"px",height:aL+"px"}).append(a2).appendTo(bs)}else{bs.css("width","");k=bj.stickToBottom&&bg();o=bj.stickToRight&&bw();q=bs.innerWidth()+a0!=bF||bs.outerHeight()!=aL;if(q){bF=bs.innerWidth()+a0;aL=bs.innerHeight();bD.css({width:bF+"px",height:aL+"px"})}if(!q&&bf==a7&&a2.outerHeight()==a1){bs.width(bF);return}bf=a7;a2.css("width","");bs.width(bF);bD.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}a2.css("overflow","auto");if(h.contentWidth){a7=h.contentWidth}else{a7=a2[0].scrollWidth}a1=a2[0].scrollHeight;a2.css("overflow","");s=a7/bF;aP=a1/aL;bY=aP>1;bT=s>1;if(!(bT||bY)){bs.removeClass("jspScrollable");a2.css({top:0,width:bD.width()-a0});aS();bq();a9();aK();bH()}else{bs.addClass("jspScrollable");n=bj.maintainPosition&&(bi||bP);if(n){l=bV();m=bX()}bS();c();bo();if(n){bd(o?(a7-bF):l,false);be(k?(a1-aL):m,false)}bh();bJ();bB();if(bj.enableKeyboardNavigation){a8()}if(bj.clickOnTrack){aQ()}bu();if(bj.hijackInternalLinks){aT()}}if(bj.autoReinitialise&&!bp){bp=setInterval(function(){bv(bj)},bj.autoReinitialiseDelay)}else{if(!bj.autoReinitialise&&bp){clearInterval(bp)}}g&&bs.scrollTop(0)&&be(g,false);j&&bs.scrollLeft(0)&&bd(j,false);bs.trigger("jsp-initialised",[bT||bY])}function bS(){if(bY){bD.append(d('<div class="jspVerticalBar" />').append(d('<div class="jspCap jspCapTop" />'),d('<div class="jspTrack" />').append(d('<div class="jspDrag" />').append(d('<div class="jspDragTop" />'),d('<div class="jspDragBottom" />'))),d('<div class="jspCap jspCapBottom" />')));a6=bD.find(">.jspVerticalBar");bz=a6.find(">.jspTrack");br=bz.find(">.jspDrag");if(bj.showArrows){by=d('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",bU(0,-1)).bind("click.jsp",bW);bK=d('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",bU(0,1)).bind("click.jsp",bW);if(bj.arrowScrollOnHover){by.bind("mouseover.jsp",bU(0,-1,by));bK.bind("mouseover.jsp",bU(0,1,bK))}bE(bz,bj.verticalArrowPositions,by,bK)}aN=aL;bD.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){aN-=d(this).outerHeight()});br.hover(function(){br.addClass("jspHover")},function(){br.removeClass("jspHover")}).bind("mousedown.jsp",function(h){d("html").bind("dragstart.jsp selectstart.jsp",bW);br.addClass("jspActive");var g=h.pageY-br.position().top;d("html").bind("mousemove.jsp",function(j){a5(j.pageY-g,false)}).bind("mouseup.jsp mouseleave.jsp",bn);return false});aR()}}function aR(){bz.height(aN+"px");bi=0;a3=bj.verticalGutter+bz.outerWidth();a2.width(bF-a3-a0);try{if(a6.position().left===0){a2.css("margin-left",a3+"px")}}catch(g){}}function c(){if(bT){bD.append(d('<div class="jspHorizontalBar" />').append(d('<div class="jspCap jspCapLeft" />'),d('<div class="jspTrack" />').append(d('<div class="jspDrag" />').append(d('<div class="jspDragLeft" />'),d('<div class="jspDragRight" />'))),d('<div class="jspCap jspCapRight" />')));bC=bD.find(">.jspHorizontalBar");bm=bC.find(">.jspTrack");aY=bm.find(">.jspDrag");if(bj.showArrows){bl=d('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",bU(-1,0)).bind("click.jsp",bW);aJ=d('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",bU(1,0)).bind("click.jsp",bW);if(bj.arrowScrollOnHover){bl.bind("mouseover.jsp",bU(-1,0,bl));aJ.bind("mouseover.jsp",bU(1,0,aJ))}bE(bm,bj.horizontalArrowPositions,bl,aJ)}aY.hover(function(){aY.addClass("jspHover")},function(){aY.removeClass("jspHover")}).bind("mousedown.jsp",function(h){d("html").bind("dragstart.jsp selectstart.jsp",bW);aY.addClass("jspActive");var g=h.pageX-aY.position().left;d("html").bind("mousemove.jsp",function(j){a4(j.pageX-g,false)}).bind("mouseup.jsp mouseleave.jsp",bn);return false});aU=bD.innerWidth();bI()}}function bI(){bD.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){aU-=d(this).outerWidth()});bm.width(aU+"px");bP=0}function bo(){if(bT&&bY){var h=bm.outerHeight(),g=bz.outerWidth();aN-=h;d(bC).find(">.jspCap:visible,>.jspArrow").each(function(){aU+=d(this).outerWidth()});aU-=g;aL-=g;bF-=h;bm.parent().append(d('<div class="jspCorner" />').css("width",h+"px"));aR();bI()}if(bT){a2.width((bD.outerWidth()-a0)+"px")}a1=a2.outerHeight();aP=a1/aL;if(bT){bt=Math.ceil(1/s*aU);if(bt>bj.horizontalDragMaxWidth){bt=bj.horizontalDragMaxWidth}else{if(bt<bj.horizontalDragMinWidth){bt=bj.horizontalDragMinWidth}}aY.width(bt+"px");aW=aU-bt;bL(bP)}if(bY){bx=Math.ceil(1/aP*aN);if(bx>bj.verticalDragMaxHeight){bx=bj.verticalDragMaxHeight}else{if(bx<bj.verticalDragMinHeight){bx=bj.verticalDragMinHeight}}br.height(bx+"px");aX=aN-bx;bM(bi)}}function bE(m,k,n,j){var g="before",l="after",h;if(k=="os"){k=/Mac/.test(navigator.platform)?"after":"split"}if(k==g){l=k}else{if(k==l){g=k;h=n;n=j;j=h}}m[g](n)[l](j)}function bU(j,g,h){return function(){bk(j,g,this,h);this.blur();return false}}function bk(l,m,g,h){g=d(g).addClass("jspActive");var k,n,o=true,j=function(){if(l!==0){ba.scrollByX(l*bj.arrowButtonSpeed)}if(m!==0){ba.scrollByY(m*bj.arrowButtonSpeed)}n=setTimeout(j,o?bj.initialDelay:bj.arrowRepeatFreq);o=false};j();k=h?"mouseout.jsp":"mouseup.jsp";h=h||d("html");h.bind(k,function(){g.removeClass("jspActive");n&&clearTimeout(n);n=null;h.unbind(k)})}function aQ(){aK();if(bY){bz.bind("mousedown.jsp",function(h){if(h.originalTarget===f||h.originalTarget==h.currentTarget){var l=d(this),g=l.offset(),k=h.pageY-g.top-bi,n,o=true,j=function(){var q=l.offset(),u=h.pageY-q.top-bx/2,t=aL*bj.scrollPagePercent,r=aX*t/(a1-aL);if(k<0){if(bi-r>u){ba.scrollByY(-t)}else{a5(u)}}else{if(k>0){if(bi+r<u){ba.scrollByY(t)}else{a5(u)}}else{m();return}}n=setTimeout(j,o?bj.initialDelay:bj.trackClickRepeatFreq);o=false},m=function(){n&&clearTimeout(n);n=null;d(document).unbind("mouseup.jsp",m)};j();d(document).bind("mouseup.jsp",m);return false}})}if(bT){bm.bind("mousedown.jsp",function(h){if(h.originalTarget===f||h.originalTarget==h.currentTarget){var l=d(this),g=l.offset(),k=h.pageX-g.left-bP,n,o=true,j=function(){var q=l.offset(),u=h.pageX-q.left-bt/2,t=bF*bj.scrollPagePercent,r=aW*t/(a7-bF);if(k<0){if(bP-r>u){ba.scrollByX(-t)}else{a4(u)}}else{if(k>0){if(bP+r<u){ba.scrollByX(t)}else{a4(u)}}else{m();return}}n=setTimeout(j,o?bj.initialDelay:bj.trackClickRepeatFreq);o=false},m=function(){n&&clearTimeout(n);n=null;d(document).unbind("mouseup.jsp",m)};j();d(document).bind("mouseup.jsp",m);return false}})}}function aK(){if(bm){bm.unbind("mousedown.jsp")}if(bz){bz.unbind("mousedown.jsp")}}function bn(){d("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");if(br){br.removeClass("jspActive")}if(aY){aY.removeClass("jspActive")}}function a5(g,h){if(!bY){return}if(g<0){g=0}else{if(g>aX){g=aX}}if(h===f){h=bj.animateScroll}if(h){ba.animate(br,"top",g,bM)}else{br.css("top",g);bM(g)}}function bM(l){if(l===f){l=br.position().top}bD.scrollTop(0);bi=l;var h=bi===0,k=bi==aX,j=l/aX,g=-j*(a1-aL);if(bG!=h||bR!=k){bG=h;bR=k;bs.trigger("jsp-arrow-change",[bG,bR,bb,aV])}aM(h,k);a2.css("top",g);bs.trigger("jsp-scroll-y",[-g,h,k]).trigger("scroll")}function a4(h,g){if(!bT){return}if(h<0){h=0}else{if(h>aW){h=aW}}if(g===f){g=bj.animateScroll}if(g){ba.animate(aY,"left",h,bL)}else{aY.css("left",h);bL(h)}}function bL(l){if(l===f){l=aY.position().left}bD.scrollTop(0);bP=l;var h=bP===0,j=bP==aW,k=l/aW,g=-k*(a7-bF);if(bb!=h||aV!=j){bb=h;aV=j;bs.trigger("jsp-arrow-change",[bG,bR,bb,aV])}aO(h,j);a2.css("left",g);bs.trigger("jsp-scroll-x",[-g,h,j]).trigger("scroll")}function aM(h,g){if(bj.showArrows){by[h?"addClass":"removeClass"]("jspDisabled");bK[g?"addClass":"removeClass"]("jspDisabled")}}function aO(h,g){if(bj.showArrows){bl[h?"addClass":"removeClass"]("jspDisabled");aJ[g?"addClass":"removeClass"]("jspDisabled")}}function be(g,j){var h=g/(a1-aL);a5(h*aX,j)}function bd(j,g){var h=j/(a7-bF);a4(h*aW,g)}function bO(h,n,w){var r,v,u,x=0,j=0,g,o,q,l,m,k;try{r=d(h)}catch(t){return}v=r.outerHeight();u=r.outerWidth();bD.scrollTop(0);bD.scrollLeft(0);while(!r.is(".jspPane")){x+=r.position().top;j+=r.position().left;r=r.offsetParent();if(/^body|html$/i.test(r[0].nodeName)){return}}g=bX();q=g+aL;if(x<g||n){m=x-bj.verticalGutter}else{if(x+v>q){m=x-aL+v+bj.verticalGutter}}if(m){be(m,w)}o=bV();l=o+bF;if(j<o||n){k=j-bj.horizontalGutter}else{if(j+u>l){k=j-bF+u+bj.horizontalGutter}}if(k){bd(k,w)}}function bV(){return -a2.position().left}function bX(){return -a2.position().top}function bg(){var g=a1-aL;return(g>20)&&(g-bX()<10)}function bw(){var g=a7-bF;return(g>20)&&(g-bV()<10)}function bJ(){bD.unbind(bN).bind(bN,function(j,h,k,m){var l=bP,g=bi;ba.scrollBy(k*bj.mouseWheelSpeed,-m*bj.mouseWheelSpeed,false);return l==bP&&g==bi})}function aS(){bD.unbind(bN)}function bW(){return false}function bh(){a2.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(g){bO(g.target,false)})}function bq(){a2.find(":input,a").unbind("focus.jsp")}function a8(){var g,k,h=[];bT&&h.push(bC[0]);bY&&h.push(a6[0]);a2.focus(function(){bs.focus()});bs.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(l){if(l.target!==this&&!(h.length&&d(l.target).closest(h).length)){return}var m=bP,n=bi;switch(l.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:g=l.keyCode;j();break;case 35:be(a1-aL);g=null;break;case 36:be(0);g=null;break}k=l.keyCode==g&&m!=bP||n!=bi;return !k}).bind("keypress.jsp",function(l){if(l.keyCode==g){j()}return !k});if(bj.hideFocus){bs.css("outline","none");if("hideFocus" in bD[0]){bs.attr("hideFocus",true)}}else{bs.css("outline","");if("hideFocus" in bD[0]){bs.attr("hideFocus",false)}}function j(){var l=bP,m=bi;switch(g){case 40:ba.scrollByY(bj.keyboardSpeed,false);break;case 38:ba.scrollByY(-bj.keyboardSpeed,false);break;case 34:case 32:ba.scrollByY(aL*bj.scrollPagePercent,false);break;case 33:ba.scrollByY(-aL*bj.scrollPagePercent,false);break;case 39:ba.scrollByX(bj.keyboardSpeed,false);break;case 37:ba.scrollByX(-bj.keyboardSpeed,false);break}k=l!=bP||m!=bi;return k}}function a9(){bs.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function bu(){if(location.hash&&location.hash.length>1){var h,k,j=escape(location.hash);try{h=d(j)}catch(g){return}if(h.length&&a2.find(j)){if(bD.scrollTop()===0){k=setInterval(function(){if(bD.scrollTop()>0){bO(j,true);d(document).scrollTop(bD.position().top);clearInterval(k)}},50)}else{bO(j,true);d(document).scrollTop(bD.position().top)}}}}function bH(){d("a.jspHijack").unbind("click.jsp-hijack").removeClass("jspHijack")}function aT(){bH();d("a[href^=#]").addClass("jspHijack").bind("click.jsp-hijack",function(){var g=this.href.split("#"),h;if(g.length>1){h=g[1];if(h.length>0&&a2.find("#"+h).length>0){bO("#"+h,true);return false}}})}function bB(){var l,m,j,k,h,g=false;bD.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(o){var n=o.originalEvent.touches[0];l=bV();m=bX();j=n.pageX;k=n.pageY;h=false;g=true}).bind("touchmove.jsp",function(n){if(!g){return}var o=n.originalEvent.touches[0],q=bP,r=bi;ba.scrollTo(l+j-o.pageX,m+k-o.pageY);h=h||Math.abs(j-o.pageX)>5||Math.abs(k-o.pageY)>5;return q==bP&&r==bi}).bind("touchend.jsp",function(n){g=false}).bind("click.jsp-touchclick",function(n){if(h){h=false;return false}})}function aZ(){var g=bX(),h=bV();bs.removeClass("jspScrollable").unbind(".jsp");bs.replaceWith(bA.append(a2.children()));bA.scrollTop(g);bA.scrollLeft(h)}d.extend(ba,{reinitialise:function(g){g=d.extend({},bj,g);bv(g)},scrollToElement:function(h,j,g){bO(h,j,g)},scrollTo:function(h,g,j){bd(h,j);be(g,j)},scrollToX:function(h,g){bd(h,g)},scrollToY:function(g,h){be(g,h)},scrollToPercentX:function(h,g){bd(h*(a7-bF),g)},scrollToPercentY:function(h,g){be(h*(a1-aL),g)},scrollBy:function(j,g,h){ba.scrollByX(j,h);ba.scrollByY(g,h)},scrollByX:function(g,j){var k=bV()+Math[g<0?"floor":"ceil"](g),h=k/(a7-bF);a4(h*aW,j)},scrollByY:function(g,j){var k=bX()+Math[g<0?"floor":"ceil"](g),h=k/(a1-aL);a5(h*aX,j)},positionDragX:function(g,h){a4(g,h)},positionDragY:function(h,g){a5(h,g)},animate:function(l,h,g,j){var k={};k[h]=g;l.animate(k,{duration:bj.animateDuration,easing:bj.animateEase,queue:false,step:j})},getContentPositionX:function(){return bV()},getContentPositionY:function(){return bX()},getContentWidth:function(){return a7},getContentHeight:function(){return a1},getPercentScrolledX:function(){return bV()/(a7-bF)},getPercentScrolledY:function(){return bX()/(a1-aL)},getIsScrollableH:function(){return bT},getIsScrollableV:function(){return bY},getContentPane:function(){return a2},scrollToBottom:function(g){a5(aX,g)},hijackInternalLinks:function(){aT()},destroy:function(){aZ()}});bv(bc)}a=d.extend({},d.fn.jScrollPane.defaults,a);d.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){a[this]=a[this]||a.speed});return this.each(function(){var h=d(this),c=h.data("jsp");if(c){c.reinitialise(a)}else{c=new b(h,a);h.data("jsp",c)}})};d.fn.jScrollPane.defaults={showArrows:false,maintainPosition:true,stickToBottom:false,stickToRight:false,clickOnTrack:true,autoReinitialise:false,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:f,animateScroll:false,animateDuration:300,animateEase:"linear",hijackInternalLinks:false,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:false,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:true,hideFocus:false,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}})(jQuery,this);
/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 * 
 * Requires: 1.2.2+
 */
(function(d){var b=["DOMMouseScroll","mousewheel"];if(d.event.fixHooks){for(var a=b.length;a;){d.event.fixHooks[b[--a]]=d.event.mouseHooks}}d.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var e=b.length;e;){this.addEventListener(b[--e],c,false)}}else{this.onmousewheel=c}},teardown:function(){if(this.removeEventListener){for(var e=b.length;e;){this.removeEventListener(b[--e],c,false)}}else{this.onmousewheel=null}}};d.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}});function c(k){var h=k||window.event,g=[].slice.call(arguments,1),l=0,j=true,f=0,e=0;k=d.event.fix(h);k.type="mousewheel";if(h.wheelDelta){l=h.wheelDelta/120}if(h.detail){l=-h.detail/3}e=l;if(h.axis!==undefined&&h.axis===h.HORIZONTAL_AXIS){e=0;f=-1*l}if(h.wheelDeltaY!==undefined){e=h.wheelDeltaY/120}if(h.wheelDeltaX!==undefined){f=-1*h.wheelDeltaX/120}g.unshift(k,l,f,e);return(d.event.dispatch||d.event.handle).apply(this,g)}})(jQuery);var $cookieUtility={};$(document).ready(function(){cookieUtility={setCookie:function(b,c,a){var d=new Date();d.setDate(d.getDate()+a);document.cookie=b+"="+escape(c)+((a==null)?"":";expires="+d.toGMTString())},getCookie:function(a){if(document.cookie.length>0){c_start=document.cookie.indexOf(a+"=");if(c_start!=-1){c_start=c_start+a.length+1;c_end=document.cookie.indexOf(";",c_start);if(c_end==-1){c_end=document.cookie.length}return unescape(document.cookie.substring(c_start,c_end))}}return""},checkCookie:function(b){var a=this;username=a.getCookie(b);if(username!=null&&username!=""){return true}else{a.setCookie(b,"active",365);return false}}}});
/*!
 * iScroll v4.1.9 ~ Copyright (c) 2011 Matteo Spinelli, http://cubiq.org
 * Released under MIT license, http://cubiq.org/license
 */
(function(){var t=Math,d=function(m){return m>>0},x=(/webkit/i).test(navigator.appVersion)?"webkit":(/firefox/i).test(navigator.userAgent)?"Moz":(/trident/i).test(navigator.userAgent)?"ms":"opera" in window?"O":"",y=(/android/gi).test(navigator.appVersion),j=(/iphone|ipad/gi).test(navigator.appVersion),c=(/playbook/gi).test(navigator.appVersion),o=(/hp-tablet/gi).test(navigator.appVersion),l="WebKitCSSMatrix" in window&&"m11" in new WebKitCSSMatrix(),w="ontouchstart" in window&&!o,f=x+"Transform" in document.documentElement.style,g=j||c,q=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(m){return setTimeout(m,1)}})(),n=(function(){return window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout})(),h="onorientationchange" in window?"orientationchange":"resize",b=w?"touchstart":"mousedown",r=w?"touchmove":"mousemove",e=w?"touchend":"mouseup",v=w?"touchcancel":"mouseup",s=x=="Moz"?"DOMMouseScroll":"mousewheel",a="translate"+(l?"3d(":"("),k=l?",0)":")",u=function(A,m){var B=this,C=document,z;B.wrapper=typeof A=="object"?A:C.getElementById(A);B.wrapper.style.overflow="hidden";B.scroller=B.wrapper.children[0];B.options={hScroll:true,vScroll:true,x:0,y:0,bounce:true,bounceLock:false,momentum:true,lockDirection:true,useTransform:true,useTransition:false,topOffset:0,checkDOMChanges:false,hScrollbar:true,vScrollbar:true,fixedScrollbar:y,hideScrollbar:j,fadeScrollbar:j&&l,scrollbarClass:"",zoom:false,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:false,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(D){D.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(z in m){B.options[z]=m[z]}B.x=B.options.x;B.y=B.options.y;B.options.useTransform=f?B.options.useTransform:false;B.options.hScrollbar=B.options.hScroll&&B.options.hScrollbar;B.options.vScrollbar=B.options.vScroll&&B.options.vScrollbar;B.options.zoom=B.options.useTransform&&B.options.zoom;B.options.useTransition=g&&B.options.useTransition;if(B.options.zoom&&y){a="translate(";k=")"}B.scroller.style[x+"TransitionProperty"]=B.options.useTransform?"-"+x.toLowerCase()+"-transform":"top left";B.scroller.style[x+"TransitionDuration"]="0";B.scroller.style[x+"TransformOrigin"]="0 0";if(B.options.useTransition){B.scroller.style[x+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)"}if(B.options.useTransform){B.scroller.style[x+"Transform"]=a+B.x+"px,"+B.y+"px"+k}else{B.scroller.style.cssText+=";position:absolute;top:"+B.y+"px;left:"+B.x+"px"}if(B.options.useTransition){B.options.fixedScrollbar=true}B.refresh();B._bind(h,window);B._bind(b);if(!w){B._bind("mouseout",B.wrapper);if(B.options.wheelAction!="none"){B._bind(s)}}if(B.options.checkDOMChanges){B.checkDOMTime=setInterval(function(){B._checkDOMChanges()},500)}};u.prototype={enabled:true,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(z){var m=this;switch(z.type){case b:if(!w&&z.button!==0){return}m._start(z);break;case r:m._move(z);break;case e:case v:m._end(z);break;case h:m._resize();break;case s:m._wheel(z);break;case"mouseout":m._mouseout(z);break;case"webkitTransitionEnd":m._transitionEnd(z);break}},_checkDOMChanges:function(){if(this.moved||this.zoomed||this.animating||(this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)){return}this.refresh()},_scrollbar:function(m){var A=this,B=document,z;if(!A[m+"Scrollbar"]){if(A[m+"ScrollbarWrapper"]){if(f){A[m+"ScrollbarIndicator"].style[x+"Transform"]=""}A[m+"ScrollbarWrapper"].parentNode.removeChild(A[m+"ScrollbarWrapper"]);A[m+"ScrollbarWrapper"]=null;A[m+"ScrollbarIndicator"]=null}return}if(!A[m+"ScrollbarWrapper"]){z=B.createElement("div");if(A.options.scrollbarClass){z.className=A.options.scrollbarClass+m.toUpperCase()}else{z.style.cssText="position:absolute;z-index:100;"+(m=="h"?"height:7px;bottom:1px;left:2px;right:"+(A.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(A.hScrollbar?"7":"2")+"px;top:2px;right:1px")}z.style.cssText+=";pointer-events:none;-"+x+"-transition-property:opacity;-"+x+"-transition-duration:"+(A.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(A.options.hideScrollbar?"0":"1");A.wrapper.appendChild(z);A[m+"ScrollbarWrapper"]=z;z=B.createElement("div");if(!A.options.scrollbarClass){z.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);-"+x+"-background-clip:padding-box;-"+x+"-box-sizing:border-box;"+(m=="h"?"height:100%":"width:100%")+";-"+x+"-border-radius:3px;border-radius:3px"}z.style.cssText+=";pointer-events:none;-"+x+"-transition-property:-"+x+"-transform;-"+x+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-"+x+"-transition-duration:0;-"+x+"-transform:"+a+"0,0"+k;if(A.options.useTransition){z.style.cssText+=";-"+x+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"}A[m+"ScrollbarWrapper"].appendChild(z);A[m+"ScrollbarIndicator"]=z}if(m=="h"){A.hScrollbarSize=A.hScrollbarWrapper.clientWidth;A.hScrollbarIndicatorSize=t.max(d(A.hScrollbarSize*A.hScrollbarSize/A.scrollerW),8);A.hScrollbarIndicator.style.width=A.hScrollbarIndicatorSize+"px";A.hScrollbarMaxScroll=A.hScrollbarSize-A.hScrollbarIndicatorSize;A.hScrollbarProp=A.hScrollbarMaxScroll/A.maxScrollX}else{A.vScrollbarSize=A.vScrollbarWrapper.clientHeight;A.vScrollbarIndicatorSize=t.max(d(A.vScrollbarSize*A.vScrollbarSize/A.scrollerH),8);A.vScrollbarIndicator.style.height=A.vScrollbarIndicatorSize+"px";A.vScrollbarMaxScroll=A.vScrollbarSize-A.vScrollbarIndicatorSize;A.vScrollbarProp=A.vScrollbarMaxScroll/A.maxScrollY}A._scrollbarPos(m,true)},_resize:function(){var m=this;setTimeout(function(){m.refresh()},y?200:0)},_pos:function(m,z){m=this.hScroll?m:0;z=this.vScroll?z:0;if(this.options.useTransform){this.scroller.style[x+"Transform"]=a+m+"px,"+z+"px"+k+" scale("+this.scale+")"}else{m=d(m);z=d(z);this.scroller.style.left=m+"px";this.scroller.style.top=z+"px"}this.x=m;this.y=z;this._scrollbarPos("h");this._scrollbarPos("v")},_scrollbarPos:function(m,B){var A=this,C=m=="h"?A.x:A.y,z;if(!A[m+"Scrollbar"]){return}C=A[m+"ScrollbarProp"]*C;if(C<0){if(!A.options.fixedScrollbar){z=A[m+"ScrollbarIndicatorSize"]+d(C*3);if(z<8){z=8}A[m+"ScrollbarIndicator"].style[m=="h"?"width":"height"]=z+"px"}C=0}else{if(C>A[m+"ScrollbarMaxScroll"]){if(!A.options.fixedScrollbar){z=A[m+"ScrollbarIndicatorSize"]-d((C-A[m+"ScrollbarMaxScroll"])*3);if(z<8){z=8}A[m+"ScrollbarIndicator"].style[m=="h"?"width":"height"]=z+"px";C=A[m+"ScrollbarMaxScroll"]+(A[m+"ScrollbarIndicatorSize"]-z)}else{C=A[m+"ScrollbarMaxScroll"]}}}A[m+"ScrollbarWrapper"].style[x+"TransitionDelay"]="0";A[m+"ScrollbarWrapper"].style.opacity=B&&A.options.hideScrollbar?"0":"1";A[m+"ScrollbarIndicator"].style[x+"Transform"]=a+(m=="h"?C+"px,0":"0,"+C+"px")+k},_start:function(E){var D=this,z=w?E.touches[0]:E,A,m,F,C,B;if(!D.enabled){return}if(D.options.onBeforeScrollStart){D.options.onBeforeScrollStart.call(D,E)}if(D.options.useTransition||D.options.zoom){D._transitionTime(0)}D.moved=false;D.animating=false;D.zoomed=false;D.distX=0;D.distY=0;D.absDistX=0;D.absDistY=0;D.dirX=0;D.dirY=0;if(D.options.zoom&&w&&E.touches.length>1){C=t.abs(E.touches[0].pageX-E.touches[1].pageX);B=t.abs(E.touches[0].pageY-E.touches[1].pageY);D.touchesDistStart=t.sqrt(C*C+B*B);D.originX=t.abs(E.touches[0].pageX+E.touches[1].pageX-D.wrapperOffsetLeft*2)/2-D.x;D.originY=t.abs(E.touches[0].pageY+E.touches[1].pageY-D.wrapperOffsetTop*2)/2-D.y;if(D.options.onZoomStart){D.options.onZoomStart.call(D,E)}}if(D.options.momentum){if(D.options.useTransform){A=getComputedStyle(D.scroller,null)[x+"Transform"].replace(/[^0-9-.,]/g,"").split(",");m=A[4]*1;F=A[5]*1}else{m=getComputedStyle(D.scroller,null).left.replace(/[^0-9-]/g,"")*1;F=getComputedStyle(D.scroller,null).top.replace(/[^0-9-]/g,"")*1}if(m!=D.x||F!=D.y){if(D.options.useTransition){D._unbind("webkitTransitionEnd")}else{n(D.aniTime)}D.steps=[];D._pos(m,F)}}D.absStartX=D.x;D.absStartY=D.y;D.startX=D.x;D.startY=D.y;D.pointX=z.pageX;D.pointY=z.pageY;D.startTime=E.timeStamp||Date.now();if(D.options.onScrollStart){D.options.onScrollStart.call(D,E)}D._bind(r);D._bind(e);D._bind(v)},_move:function(G){var E=this,H=w?G.touches[0]:G,C=H.pageX-E.pointX,A=H.pageY-E.pointY,m=E.x+C,I=E.y+A,D,B,z,F=G.timeStamp||Date.now();if(E.options.onBeforeScrollMove){E.options.onBeforeScrollMove.call(E,G)}if(E.options.zoom&&w&&G.touches.length>1){D=t.abs(G.touches[0].pageX-G.touches[1].pageX);B=t.abs(G.touches[0].pageY-G.touches[1].pageY);E.touchesDist=t.sqrt(D*D+B*B);E.zoomed=true;z=1/E.touchesDistStart*E.touchesDist*this.scale;if(z<E.options.zoomMin){z=0.5*E.options.zoomMin*Math.pow(2,z/E.options.zoomMin)}else{if(z>E.options.zoomMax){z=2*E.options.zoomMax*Math.pow(0.5,E.options.zoomMax/z)}}E.lastScale=z/this.scale;m=this.originX-this.originX*E.lastScale+this.x,I=this.originY-this.originY*E.lastScale+this.y;this.scroller.style[x+"Transform"]=a+m+"px,"+I+"px"+k+" scale("+z+")";if(E.options.onZoom){E.options.onZoom.call(E,G)}return}E.pointX=H.pageX;E.pointY=H.pageY;if(m>0||m<E.maxScrollX){m=E.options.bounce?E.x+(C/2):m>=0||E.maxScrollX>=0?0:E.maxScrollX}if(I>E.minScrollY||I<E.maxScrollY){I=E.options.bounce?E.y+(A/2):I>=E.minScrollY||E.maxScrollY>=0?E.minScrollY:E.maxScrollY}E.distX+=C;E.distY+=A;E.absDistX=t.abs(E.distX);E.absDistY=t.abs(E.distY);if(E.absDistX<6&&E.absDistY<6){return}if(E.options.lockDirection){if(E.absDistX>E.absDistY+5){I=E.y;A=0}else{if(E.absDistY>E.absDistX+5){m=E.x;C=0}}}E.moved=true;E._pos(m,I);E.dirX=C>0?-1:C<0?1:0;E.dirY=A>0?-1:A<0?1:0;if(F-E.startTime>300){E.startTime=F;E.startX=E.x;E.startY=E.y}if(E.options.onScrollMove){E.options.onScrollMove.call(E,G)}},_end:function(G){if(w&&G.touches.length!=0){return}var E=this,M=w?G.changedTouches[0]:G,H,L,A={dist:0,time:0},m={dist:0,time:0},D=(G.timeStamp||Date.now())-E.startTime,I=E.x,F=E.y,K,J,z,C,B;E._unbind(r);E._unbind(e);E._unbind(v);if(E.options.onBeforeScrollEnd){E.options.onBeforeScrollEnd.call(E,G)}if(E.zoomed){B=E.scale*E.lastScale;B=Math.max(E.options.zoomMin,B);B=Math.min(E.options.zoomMax,B);E.lastScale=B/E.scale;E.scale=B;E.x=E.originX-E.originX*E.lastScale+E.x;E.y=E.originY-E.originY*E.lastScale+E.y;E.scroller.style[x+"TransitionDuration"]="200ms";E.scroller.style[x+"Transform"]=a+E.x+"px,"+E.y+"px"+k+" scale("+E.scale+")";E.zoomed=false;E.refresh();if(E.options.onZoomEnd){E.options.onZoomEnd.call(E,G)}return}if(!E.moved){if(w){if(E.doubleTapTimer&&E.options.zoom){clearTimeout(E.doubleTapTimer);E.doubleTapTimer=null;if(E.options.onZoomStart){E.options.onZoomStart.call(E,G)}E.zoom(E.pointX,E.pointY,E.scale==1?E.options.doubleTapZoom:1);if(E.options.onZoomEnd){setTimeout(function(){E.options.onZoomEnd.call(E,G)},200)}}else{E.doubleTapTimer=setTimeout(function(){E.doubleTapTimer=null;H=M.target;while(H.nodeType!=1){H=H.parentNode}if(H.tagName!="SELECT"&&H.tagName!="INPUT"&&H.tagName!="TEXTAREA"){L=document.createEvent("MouseEvents");L.initMouseEvent("click",true,true,G.view,1,M.screenX,M.screenY,M.clientX,M.clientY,G.ctrlKey,G.altKey,G.shiftKey,G.metaKey,0,null);L._fake=true;H.dispatchEvent(L)}},E.options.zoom?250:0)}}E._resetPos(200);if(E.options.onTouchEnd){E.options.onTouchEnd.call(E,G)}return}if(D<300&&E.options.momentum){A=I?E._momentum(I-E.startX,D,-E.x,E.scrollerW-E.wrapperW+E.x,E.options.bounce?E.wrapperW:0):A;m=F?E._momentum(F-E.startY,D,-E.y,(E.maxScrollY<0?E.scrollerH-E.wrapperH+E.y-E.minScrollY:0),E.options.bounce?E.wrapperH:0):m;I=E.x+A.dist;F=E.y+m.dist;if((E.x>0&&I>0)||(E.x<E.maxScrollX&&I<E.maxScrollX)){A={dist:0,time:0}}if((E.y>E.minScrollY&&F>E.minScrollY)||(E.y<E.maxScrollY&&F<E.maxScrollY)){m={dist:0,time:0}}}if(A.dist||m.dist){z=t.max(t.max(A.time,m.time),10);if(E.options.snap){K=I-E.absStartX;J=F-E.absStartY;if(t.abs(K)<E.options.snapThreshold&&t.abs(J)<E.options.snapThreshold){E.scrollTo(E.absStartX,E.absStartY,200)}else{C=E._snap(I,F);I=C.x;F=C.y;z=t.max(C.time,z)}}E.scrollTo(d(I),d(F),z);if(E.options.onTouchEnd){E.options.onTouchEnd.call(E,G)}return}if(E.options.snap){K=I-E.absStartX;J=F-E.absStartY;if(t.abs(K)<E.options.snapThreshold&&t.abs(J)<E.options.snapThreshold){E.scrollTo(E.absStartX,E.absStartY,200)}else{C=E._snap(E.x,E.y);if(C.x!=E.x||C.y!=E.y){E.scrollTo(C.x,C.y,C.time)}}if(E.options.onTouchEnd){E.options.onTouchEnd.call(E,G)}return}E._resetPos(200);if(E.options.onTouchEnd){E.options.onTouchEnd.call(E,G)}},_resetPos:function(A){var m=this,B=m.x>=0?0:m.x<m.maxScrollX?m.maxScrollX:m.x,z=m.y>=m.minScrollY||m.maxScrollY>0?m.minScrollY:m.y<m.maxScrollY?m.maxScrollY:m.y;if(B==m.x&&z==m.y){if(m.moved){m.moved=false;if(m.options.onScrollEnd){m.options.onScrollEnd.call(m)}}if(m.hScrollbar&&m.options.hideScrollbar){if(x=="webkit"){m.hScrollbarWrapper.style[x+"TransitionDelay"]="300ms"}m.hScrollbarWrapper.style.opacity="0"}if(m.vScrollbar&&m.options.hideScrollbar){if(x=="webkit"){m.vScrollbarWrapper.style[x+"TransitionDelay"]="300ms"}m.vScrollbarWrapper.style.opacity="0"}return}m.scrollTo(B,z,A||0)},_wheel:function(D){var B=this,C,A,z,m,E;if("wheelDeltaX" in D){C=D.wheelDeltaX/12;A=D.wheelDeltaY/12}else{if("wheelDelta" in D){C=A=D.wheelDelta/12}else{if("detail" in D){C=A=-D.detail*3}else{return}}}if(B.options.wheelAction=="zoom"){E=B.scale*Math.pow(2,1/3*(A?A/Math.abs(A):0));if(E<B.options.zoomMin){E=B.options.zoomMin}if(E>B.options.zoomMax){E=B.options.zoomMax}if(E!=B.scale){if(!B.wheelZoomCount&&B.options.onZoomStart){B.options.onZoomStart.call(B,D)}B.wheelZoomCount++;B.zoom(D.pageX,D.pageY,E,400);setTimeout(function(){B.wheelZoomCount--;if(!B.wheelZoomCount&&B.options.onZoomEnd){B.options.onZoomEnd.call(B,D)}},400)}return}z=B.x+C;m=B.y+A;if(z>0){z=0}else{if(z<B.maxScrollX){z=B.maxScrollX}}if(m>B.minScrollY){m=B.minScrollY}else{if(m<B.maxScrollY){m=B.maxScrollY}}B.scrollTo(z,m,0)},_mouseout:function(z){var m=z.relatedTarget;if(!m){this._end(z);return}while(m=m.parentNode){if(m==this.wrapper){return}}this._end(z)},_transitionEnd:function(z){var m=this;if(z.target!=m.scroller){return}m._unbind("webkitTransitionEnd");m._startAni()},_startAni:function(){var E=this,z=E.x,m=E.y,C=Date.now(),D,B,A;if(E.animating){return}if(!E.steps.length){E._resetPos(400);return}D=E.steps.shift();if(D.x==z&&D.y==m){D.time=0}E.animating=true;E.moved=true;if(E.options.useTransition){E._transitionTime(D.time);E._pos(D.x,D.y);E.animating=false;if(D.time){E._bind("webkitTransitionEnd")}else{E._resetPos(0)}return}A=function(){var F=Date.now(),H,G;if(F>=C+D.time){E._pos(D.x,D.y);E.animating=false;if(E.options.onAnimationEnd){E.options.onAnimationEnd.call(E)}E._startAni();return}F=(F-C)/D.time-1;B=t.sqrt(1-F*F);H=(D.x-z)*B+z;G=(D.y-m)*B+m;E._pos(H,G);if(E.animating){E.aniTime=q(A)}};A()},_transitionTime:function(m){m+="ms";this.scroller.style[x+"TransitionDuration"]=m;if(this.hScrollbar){this.hScrollbarIndicator.style[x+"TransitionDuration"]=m}if(this.vScrollbar){this.vScrollbarIndicator.style[x+"TransitionDuration"]=m}},_momentum:function(F,z,D,m,H){var E=0.0006,A=t.abs(F)/z,B=(A*A)/(2*E),G=0,C=0;if(F>0&&B>D){C=H/(6/(B/A*E));D=D+C;A=A*D/B;B=D}else{if(F<0&&B>m){C=H/(6/(B/A*E));m=m+C;A=A*m/B;B=m}}B=B*(F<0?-1:1);G=A/E;return{dist:B,time:d(G)}},_offset:function(m){var A=-m.offsetLeft,z=-m.offsetTop;while(m=m.offsetParent){A-=m.offsetLeft;z-=m.offsetTop}if(m!=this.wrapper){A*=this.scale;z*=this.scale}return{left:A,top:z}},_snap:function(G,F){var D=this,C,B,E,A,z,m;E=D.pagesX.length-1;for(C=0,B=D.pagesX.length;C<B;C++){if(G>=D.pagesX[C]){E=C;break}}if(E==D.currPageX&&E>0&&D.dirX<0){E--}G=D.pagesX[E];z=t.abs(G-D.pagesX[D.currPageX]);z=z?t.abs(D.x-G)/z*500:0;D.currPageX=E;E=D.pagesY.length-1;for(C=0;C<E;C++){if(F>=D.pagesY[C]){E=C;break}}if(E==D.currPageY&&E>0&&D.dirY<0){E--}F=D.pagesY[E];m=t.abs(F-D.pagesY[D.currPageY]);m=m?t.abs(D.y-F)/m*500:0;D.currPageY=E;A=d(t.max(z,m))||200;return{x:G,y:F,time:A}},_bind:function(A,z,m){(z||this.scroller).addEventListener(A,this,!!m)},_unbind:function(A,z,m){(z||this.scroller).removeEventListener(A,this,!!m)},destroy:function(){var m=this;m.scroller.style[x+"Transform"]="";m.hScrollbar=false;m.vScrollbar=false;m._scrollbar("h");m._scrollbar("v");m._unbind(h,window);m._unbind(b);m._unbind(r);m._unbind(e);m._unbind(v);if(!m.options.hasTouch){m._unbind("mouseout",m.wrapper);m._unbind(s)}if(m.options.useTransition){m._unbind("webkitTransitionEnd")}if(m.options.checkDOMChanges){clearInterval(m.checkDOMTime)}if(m.options.onDestroy){m.options.onDestroy.call(m)}},refresh:function(){var B=this,D,A,m,z,E=0,C=0;if(B.scale<B.options.zoomMin){B.scale=B.options.zoomMin}B.wrapperW=B.wrapper.clientWidth||1;B.wrapperH=B.wrapper.clientHeight||1;B.minScrollY=-B.options.topOffset||0;B.scrollerW=d(B.scroller.offsetWidth*B.scale);B.scrollerH=d((B.scroller.offsetHeight+B.minScrollY)*B.scale);B.maxScrollX=B.wrapperW-B.scrollerW;B.maxScrollY=B.wrapperH-B.scrollerH+B.minScrollY;B.dirX=0;B.dirY=0;if(B.options.onRefresh){B.options.onRefresh.call(B)}B.hScroll=B.options.hScroll&&B.maxScrollX<0;B.vScroll=B.options.vScroll&&(!B.options.bounceLock&&!B.hScroll||B.scrollerH>B.wrapperH);B.hScrollbar=B.hScroll&&B.options.hScrollbar;B.vScrollbar=B.vScroll&&B.options.vScrollbar&&B.scrollerH>B.wrapperH;D=B._offset(B.wrapper);B.wrapperOffsetLeft=-D.left;B.wrapperOffsetTop=-D.top;if(typeof B.options.snap=="string"){B.pagesX=[];B.pagesY=[];z=B.scroller.querySelectorAll(B.options.snap);for(A=0,m=z.length;A<m;A++){E=B._offset(z[A]);E.left+=B.wrapperOffsetLeft;E.top+=B.wrapperOffsetTop;B.pagesX[A]=E.left<B.maxScrollX?B.maxScrollX:E.left*B.scale;B.pagesY[A]=E.top<B.maxScrollY?B.maxScrollY:E.top*B.scale}}else{if(B.options.snap){B.pagesX=[];while(E>=B.maxScrollX){B.pagesX[C]=E;E=E-B.wrapperW;C++}if(B.maxScrollX%B.wrapperW){B.pagesX[B.pagesX.length]=B.maxScrollX-B.pagesX[B.pagesX.length-1]+B.pagesX[B.pagesX.length-1]}E=0;C=0;B.pagesY=[];while(E>=B.maxScrollY){B.pagesY[C]=E;E=E-B.wrapperH;C++}if(B.maxScrollY%B.wrapperH){B.pagesY[B.pagesY.length]=B.maxScrollY-B.pagesY[B.pagesY.length-1]+B.pagesY[B.pagesY.length-1]}}}B._scrollbar("h");B._scrollbar("v");if(!B.zoomed){B.scroller.style[x+"TransitionDuration"]="0";B._resetPos(200)}},scrollTo:function(m,F,E,D){var C=this,B=m,A,z;C.stop();if(!B.length){B=[{x:m,y:F,time:E,relative:D}]}for(A=0,z=B.length;A<z;A++){if(B[A].relative){B[A].x=C.x-B[A].x;B[A].y=C.y-B[A].y}C.steps.push({x:B[A].x,y:B[A].y,time:B[A].time||0})}C._startAni()},scrollToElement:function(m,A){var z=this,B;m=m.nodeType?m:z.scroller.querySelector(m);if(!m){return}B=z._offset(m);B.left+=z.wrapperOffsetLeft;B.top+=z.wrapperOffsetTop;B.left=B.left>0?0:B.left<z.maxScrollX?z.maxScrollX:B.left;B.top=B.top>z.minScrollY?z.minScrollY:B.top<z.maxScrollY?z.maxScrollY:B.top;A=A===undefined?t.max(t.abs(B.left)*2,t.abs(B.top)*2):A;z.scrollTo(B.left,B.top,A)},scrollToPage:function(A,z,C){var B=this,m,D;C=C===undefined?400:C;if(B.options.onScrollStart){B.options.onScrollStart.call(B)}if(B.options.snap){A=A=="next"?B.currPageX+1:A=="prev"?B.currPageX-1:A;z=z=="next"?B.currPageY+1:z=="prev"?B.currPageY-1:z;A=A<0?0:A>B.pagesX.length-1?B.pagesX.length-1:A;z=z<0?0:z>B.pagesY.length-1?B.pagesY.length-1:z;B.currPageX=A;B.currPageY=z;m=B.pagesX[A];D=B.pagesY[z]}else{m=-B.wrapperW*A;D=-B.wrapperH*z;if(m<B.maxScrollX){m=B.maxScrollX}if(D<B.maxScrollY){D=B.maxScrollY}}B.scrollTo(m,D,C)},disable:function(){this.stop();this._resetPos(0);this.enabled=false;this._unbind(r);this._unbind(e);this._unbind(v)},enable:function(){this.enabled=true},stop:function(){if(this.options.useTransition){this._unbind("webkitTransitionEnd")}else{n(this.aniTime)}this.steps=[];this.moved=false;this.animating=false},zoom:function(m,D,C,B){var z=this,A=C/z.scale;if(!z.options.useTransform){return}z.zoomed=true;B=B===undefined?200:B;m=m-z.wrapperOffsetLeft-z.x;D=D-z.wrapperOffsetTop-z.y;z.x=m-m*A+z.x;z.y=D-D*A+z.y;z.scale=C;z.refresh();z.x=z.x>0?0:z.x<z.maxScrollX?z.maxScrollX:z.x;z.y=z.y>z.minScrollY?z.minScrollY:z.y<z.maxScrollY?z.maxScrollY:z.y;z.scroller.style[x+"TransitionDuration"]=B+"ms";z.scroller.style[x+"Transform"]=a+z.x+"px,"+z.y+"px"+k+" scale("+C+")";z.zoomed=false},isReady:function(){return !this.moved&&!this.zoomed&&!this.animating}};if(typeof exports!=="undefined"){exports.iScroll=u}else{window.iScroll=u}})();(function(e){var b={},l,n,q,k=e.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent),a=false;e.tooltip={blocked:false,defaults:{delay:200,fade:false,showURL:true,extraClass:"",top:15,left:15,id:"tooltip"},block:function(){e.tooltip.blocked=!e.tooltip.blocked}};e.fn.extend({tooltip:function(r){r=e.extend({},e.tooltip.defaults,r);h(r);return this.each(function(){e.data(this,"tooltip",r);this.tOpacity=b.parent.css("opacity");this.tooltipText=this.title;e(this).removeAttr("title");this.alt=""}).mouseover(m).mouseout(f).click(f)},fixPNG:k?function(){return this.each(function(){var r=e(this).css("backgroundImage");if(r.match(/^url\(["']?(.*\.png)["']?\)$/i)){r=RegExp.$1;e(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+r+"')"}).each(function(){var s=e(this).css("position");if(s!="absolute"&&s!="relative"){e(this).css("position","relative")}})}})}:function(){return this},unfixPNG:k?function(){return this.each(function(){e(this).css({filter:"",backgroundImage:""})})}:function(){return this},hideWhenEmpty:function(){return this.each(function(){e(this)[e(this).html()?"show":"hide"]()})},url:function(){return this.attr("href")||this.attr("src")}});function h(r){if(b.parent){return}b.parent=e('<div id="'+r.id+'"><h3></h3><div class="body"></div><div class="url"></div></div>').appendTo(document.body).hide();if(e.fn.bgiframe){b.parent.bgiframe()}b.title=e("h3",b.parent);b.body=e("div.body",b.parent);b.url=e("div.url",b.parent)}function c(r){return e.data(r,"tooltip")}function g(r){if(c(this).delay){q=setTimeout(o,c(this).delay)}else{o()}a=!!c(this).track;e(document.body).bind("mousemove",d);d(r)}function m(){if(e.tooltip.blocked||this==l||(!this.tooltipText&&!c(this).bodyHandler)){return}l=this;n=this.tooltipText;if(c(this).bodyHandler){b.title.hide();var u=c(this).bodyHandler.call(this);if(u.nodeType||u.jquery){b.body.empty().append(u)}else{b.body.html(u)}b.body.show()}else{if(c(this).showBody){var t=n.split(c(this).showBody);b.title.html(t.shift()).show();b.body.empty();for(var s=0,r;(r=t[s]);s++){if(s>0){b.body.append("<br/>")}b.body.append(r)}b.body.hideWhenEmpty()}else{b.title.html(n).show();b.body.hide()}}if(c(this).showURL&&e(this).url()){b.url.html(e(this).url().replace("http://","")).show()}else{b.url.hide()}b.parent.addClass(c(this).extraClass);if(c(this).fixPNG){b.parent.fixPNG()}g.apply(this,arguments)}function o(){q=null;if((!k||!e.fn.bgiframe)&&c(l).fade){if(b.parent.is(":animated")){b.parent.stop().show().fadeTo(c(l).fade,l.tOpacity)}else{b.parent.is(":visible")?b.parent.fadeTo(c(l).fade,l.tOpacity):b.parent.fadeIn(c(l).fade)}}else{b.parent.show()}d()}function d(u){if(e.tooltip.blocked){return}if(u&&u.target.tagName=="OPTION"){return}if(!a&&b.parent.is(":visible")){e(document.body).unbind("mousemove",d)}if(l==null){e(document.body).unbind("mousemove",d);return}b.parent.removeClass("viewport-right").removeClass("viewport-bottom");var x=b.parent[0].offsetLeft;var w=b.parent[0].offsetTop;if(u){x=u.pageX+c(l).left;w=u.pageY+c(l).top;var s="auto";if(c(l).positionLeft){s=e(window).width()-x;x="auto"}b.parent.css({left:x,right:s,top:w})}var r=j(),t=b.parent[0];if(r.x+r.cx<t.offsetLeft+t.offsetWidth){x-=t.offsetWidth+20+c(l).left;b.parent.css({left:x+"px"}).addClass("viewport-right")}if(r.y+r.cy<t.offsetTop+t.offsetHeight){w-=t.offsetHeight+20+c(l).top;b.parent.css({top:w+"px"}).addClass("viewport-bottom")}}function j(){return{x:e(window).scrollLeft(),y:e(window).scrollTop(),cx:e(window).width(),cy:e(window).height()}}function f(t){if(e.tooltip.blocked){return}if(q){clearTimeout(q)}l=null;var s=c(this);function r(){b.parent.removeClass(s.extraClass).hide().css("opacity","")}if((!k||!e.fn.bgiframe)&&s.fade){if(b.parent.is(":animated")){b.parent.stop().fadeTo(s.fade,0,r)}else{b.parent.stop().fadeOut(s.fade,r)}}else{r()}if(c(this).fixPNG){b.parent.unfixPNG()}}})(jQuery);var app=(function(a){if(!a){alert(app.resources.MISSING_LIB);return null}return{topCatImages:new Array(),URLs:{},resources:{},constants:{},containerId:"content",ProductCache:null,clearDivHtml:'<div class="clear"><!-- W3C Clearing --></div>',currencyCodes:{},dialogSettings:{bgiframe:true,autoOpen:false,buttons:{},modal:true,overlay:{opacity:0.5,background:"black"},height:530,width:800,title:"",hide:null,resizable:false},tooltipSettings:{delay:0,showURL:false,extraClass:"tooltipshadow tooltipshadow02",top:15,left:5},init:function(){this.minicart.init();this.execUjs()},ajax:{Success:"success",currentRequests:{},getJson:function(b){var c=this;if(!b.reqName||!this.currentRequests[b.reqName]){this.currentRequests[b.reqName]=true;if(b.async=="undefined"){b.async=true}a.ajax({contentType:"application/json; charset=utf-8",dataType:"json",url:b.url,cache:true,async:b.async,data:b.data,success:function(d,e){c.currentRequests[b.reqName]=false;if(!d.Success){}b.callback(d,e)},error:function(e,f,d){if(f==="parsererror"){alert(app.resources.BAD_RESPONSE)}b.callback({Success:false,data:{}})}})}},load:function(b){var c=this,d={};if(!b.reqName||!this.currentRequests[b.reqName]){this.currentRequests[b.reqName]=true;d=a.ajax({type:(b.type!=undefined&&(b.type==="GET"||b.type==="POST"))?b.type:"GET",processData:(b.processData!=undefined&&b.processData instanceof Boolean)?b.processData:true,dataType:"html",url:b.url,cache:true,data:b.data,success:function(e,f){c.currentRequests[b.reqName]=false;if(b.selector){a(b.selector).html(e)}(b.callback!=undefined?b.callback(e,f):null)},error:function(f,g,e){c.currentRequests[b.reqName]=false;if(g==="parsererror"){alert(app.resources.BAD_RESPONSE)}b.callback(null,g)}});return d}}},getProduct:function(c){var b=c.containerId||app.containerId,f=c.source||"",d=c.label||null,e={};a("#"+b).html(app.showProgress("productloader"));var g=c.url?c.url:app.util.appendParamToURL(app.URLs.getProductUrl,"pid",c.id);g=app.util.appendParamToURL(g,"source",f);e=app.ajax.load({selector:"#"+b,url:g,callback:function(h,j){(c.callback!=undefined?c.callback():null);if(d!==null){a("#"+b+" .addtocartbutton:last").html(d)}}});return e},minicart:{url:"",timer:null,init:function(){app.minicart.reset();a(".minicarttotal").hover(function(b){(app.minicart.isShow()?"":app.minicart.slide())});a(".minicartcontent").mouseenter(function(b){clearTimeout(app.minicart.timer);app.minicart.timer=null}).mouseleave(function(b){clearTimeout(app.minicart.timer);app.minicart.timer=null;app.minicart.timer=setTimeout("app.minicart.close()",30)});a(".minicartcontent .minicartclose").click(function(){app.minicart.reset();app.minicart.close(0)})},isShow:function(){return a(".minicartcontent").css("display")=="none"?false:true},reset:function(){a(".minicarttotal").unbind("hover");a(".minicartcontent").unbind("mouseenter").unbind("mouseleave");a(".minicartcontent .minicartclose").unbind("click")},show:function(b){a("#minicart").html(b);app.minicart.init();if(app.minicart.suppressSlideDown&&app.minicart.suppressSlideDown()){}else{app.minicart.slide()}},slide:function(){if(app.minicart.suppressSlideDown&&app.minicart.suppressSlideDown()){return}a(".minicartcontent").slideDown("slow");clearTimeout(app.minicart.timer);app.minicart.timer=null;app.minicart.timer=setTimeout("app.minicart.close()",5000)},add:function(f,e,j){var e=e;var h=[];var d=null;if(h.length===1){d=h[0]}var b=null;if(d!=null){b=d.src;d.src=f}var g=function(l){if(d!=null){d.src=b}a("#minicart").html(l);app.minicart.init();if(app.minicart.suppressSlideDown&&app.minicart.suppressSlideDown()){}else{var k=(a(window).width()-a(".minicartcontent").width())/2;a(".minicartcontent").addClass("fixed").css({right:k+"px"});app.minicart.slide()}if(j){j()}};var c=function(k){if(d!=null){d.src=b}};app.minicart.close();a.ajax({type:"POST",url:app.minicart.url,cache:true,data:e,success:g,error:c})},close:function(b){if(app.minicart.timer!=null||b==0){clearTimeout(app.minicart.timer);app.minicart.timer=null;a(".minicartcontent").fadeOut()}},suppressSlideDown:function(){return false}},refreshCart:function(){app.quickView.close();location.href=location.href},quickView:{bindEvents:function(b){a(b.imageSelector).hover(function(c){a(this).children(b.buttonSelector).children(".quickviewflyin").stop().fadeTo(500,1)},function(c){a(this).children(b.buttonSelector).children(".quickviewflyin").stop().fadeTo(500,0)});a(b.buttonLinkSelector).live("click",function(c){c.preventDefault();app.quickView.show({url:this.href,source:"quickview"})})},show:function(b){app.createDialog({id:"QuickViewDialog",options:{height:"auto",minHeight:530,width:676,dialogClass:"quickview",title:"Product Quickview",resizable:false}});a("#QuickViewDialog").dialog("open");app.getProduct({containerId:"QuickViewDialog",source:b.source,url:b.url,label:b.label});a("#QuickViewDialog a.attributecontentlink").click(function(c){if(a("#sizeChartDialog").length==0){a("<div/>").attr("id","sizeChartDialog").appendTo(document.body)}app.createDialog({id:"sizeChartDialog",options:{height:530,width:800,title:app.resources.SIZECHART_TITLE}});a("#sizeChartDialog").html("");a("#sizeChartDialog").dialog("open");a("#sizeChartDialog").load(this.href);return false})},close:function(){}},createDialog:function(b){a("#"+b.id).dialog(b.options)},showProgress:function(c){var b="loading";if(c){b+=" "+c}return a('<div class="'+b+'"/>').append(a("<img/>").attr("src",app.URLs.loadingBrowseImg))},hiddenData:function(){a.each(a(".hidden"),function(){var b=a(this).html();if(b===""){return}if(a(this).hasClass("json")){try{b=window["eval"]("("+b+")")}catch(c){}}a(this).prev().data("data",b);a(this).remove()})},addCountryListener:function(){var b=function(d){var c=this.options[this.selectedIndex].value;a(this).parents("form:first").find("input.phone").each(function(){var f=a(this).data("data");var e=(f&&typeof f=="object")?f:{};e.country=c;a(this).data("data",e)})};a("select.country").change(b).each(b)},execUjs:function(){this.hiddenData();this.addCountryListener()},captureCarouselRecommendations:function(f,b,d,e){a(b).find(".captureproductid").each(function(){dw.ac.capture({id:this.innerHTML,type:dw.ac.EV_PRD_RECOMMENDATION})})},producttile:{initAll:function(){var b={buttonSelector:"div.producttile div.quickviewbutton",imageSelector:"div.producttile div.image",buttonLinkSelector:"div.producttile div.quickviewbutton div.quickviewflyin a"};a("div.producttile div.swatches div.invisible").hide();a("div.producttile div.swatches a.swatch img.hiddenthumbnail").hide();a("div.producttile div.swatches > a").click(function(d){var c=a(this).parent().find("div.palette");c.show().focus();return false});a("div.producttile div.swatches div.invisible").mouseout(function(f){if(!f){var f=window.event}var d=(window.event)?f.srcElement:f.target;if(d.nodeName!="DIV"){return}var c=(f.relatedTarget)?f.relatedTarget:f.toElement;while(c!=d&&c.nodeName!="BODY"){c=c.parentNode}if(c==d){return}a(this).hide();return false});a("div.producttile div.swatches div.palette a.swatch").bind("mouseover mouseout",function(d){var c=a(this);app.producttile.toggleVariationThumbnail(c)});a("div.producttile div.swatches div.palette a.swatch").click(function(d){var c=a(this);app.producttile.selectVariation(c);return false})},selectVariation:function(d){var f=a(d.parents()[3]).find(".productimage img");var e=d.children("img.hiddenthumbnail");if(!f||!e){return}var c=d.parents(".producttile").find(".name a");var h=d.parents(".producttile").find(".quickviewbutton a");var b=d.parents(".producttile").find(".productimage a");var g=d.attr("href");c.attr("href",g);h.attr("href",g);b.attr("href",g);a(d.parents()[0]).find("a.swatch").removeClass("selected");d.addClass("selected");f.removeClass("temp original");e.removeClass("temp original")},toggleVariationThumbnail:function(c){var e=a(c.parents()[3]).find(".productimage img");var d=c.children("img.hiddenthumbnail");if(!d||!e){return}var b=a(c.parents()[0]).find("a.selected");var g=b.children("img.hiddenthumbnail");if(c.hasClass("selected")){return}if(e.hasClass("temp")){var f=g.clone().show().removeClass("original hiddenthumbnail");e.replaceWith(f[0])}else{var f=d.clone().show().addClass("temp").removeClass("hiddenthumbnail");e.replaceWith(f[0])}}},util:{disableAutoComplete:function(b){a("#"+b).attr("autocomplete","off")},trimPrefix:function(c,b){return c.substring(b.length)},appendParamToURL:function(d,b,e){var f="?";if(d.indexOf(f)!=-1){f="&"}return d+f+b+"="+encodeURIComponent(e)},loadCSSFile:function(b){var c=document.createElement("link");c.setAttribute("rel","stylesheet");c.setAttribute("type","text/css");c.setAttribute("href",b);if(typeof c!="undefined"){document.getElementsByTagName("head")[0].appendChild(c);app.util.loadedCSSFiles.push(b)}},loadedCSSFiles:[],clearDynamicCSS:function(){for(var b=0;b<app.util.loadedCSSFiles.length;b++){app.util.unloadCSSFile(app.util.loadedCSSFiles[b])}},unloadCSSFile:function(b){var d=document.getElementsByTagName("link");for(var c=d.length;c>=0;c--){if(d[c]&&d[c].getAttribute("href")!=null&&d[c].getAttribute("href").indexOf(b)!=-1){d[c].parentNode.removeChild(d[c])}}},cookiesEnabled:function(){var f=document.cookie.split(";");var c="";var b="";var e="";var d=false;for(i=0;i<f.length;i++){c=f[i].split("=");b=c[0].replace(/^\s+|\s+$/g,"");if(b==="sid"){if(c.length>1){e=unescape(c[1].replace(/^\s+|\s+$/g,""))}if(e.length>0){d=true;break}}c=null;b=""}return d},ie6ButtonFix:function(){a("button").click(function(){a(this.form).find("button").attr("disabled",true);a(this).attr("disabled",false)})}},dialog:{open:function(b,e,c,f,d){if(a("#dialogcontainer").length===0){a(document.body).append('<div id="dialogcontainer"></div>')}e=e||"Dialog";app.ajax.load({selector:"#dialogcontainer",url:b,callback:function(){app.dialog.checkOpen();app.dialog.setTitle(e);if(f!==undefined&&typeof f==="function"){f()}else{if(f!==undefined&&typeof f==="string"){var g=f.split(",");$.each(g,function(k,n){var h=n.split("."),m="",j=window;for(var l in h){m=m+h[l];j=j[h[l]];if(m===n&&typeof j==="function"){j(d);break}m=m+"."}})}}}})},openPost:function(b,c,d,f,e){if(a("#dialogcontainer").length===0){a(document.body).append('<div id="dialogcontainer"></div>')}d=d||"Dialog";app.ajax.load({selector:"#dialogcontainer",type:"POST",processData:false,url:b,data:c,reqName:f,callback:function(){app.dialog.checkOpen();app.dialog.setTitle(d);if(e!==undefined){e()}}})},init:function(){a(document).ready(function(){a("#dialogcontainer button").each(function(){a(this).click(function(){var b=a(this).attr("name");if(b){app.dialog.submit(b)}return false})});a("#dialogCancelBtn").click(function(){app.dialog.close();return false})})},setTitle:function(b){a("#dialogcontainer").dialog("option","title",b)},checkOpen:function(){if(!a("#dialogcontainer").dialog("isOpen")){a("#dialogcontainer").dialog({bgiframe:true,autoOpen:false,modal:true,overlay:{opacity:0.5,background:"black"},height:425,width:460,resizable:false});a("#dialogcontainer").dialog("open")}},close:function(){a("#dialogcontainer").dialog("close");a(document.body).trigger("dialogClosed")},onClose:function(b){if(b!==undefined){a(document.body).bind("dialogClosed",b)}},triggerApply:function(){a(document.body).trigger("dialogApplied")},onApply:function(b){if(b!==undefined){a(document.body).bind("dialogApplied",b)}},triggerDelete:function(){a(document.body).trigger("dialogDeleted")},onDelete:function(b){if(b!==undefined){a(document.body).bind("dialogDeleted",b)}},submit:function(d){a("#dialogcontainer form").append('<input name="'+d+'" type="hidden" />');var c=a("#dialogcontainer form").serialize();var b=a("#dialogcontainer form").attr("action");a.ajax({type:"POST",url:b,data:c,dataType:"html",success:function(e){a("#dialogcontainer").empty().html(e)},failure:function(e){alert(app.resources.SERVER_ERROR)}})}}}})(jQuery);(function(a){if(a){a.Product=function(d){var h=d.data;h.isOutfitItem=d.isOutfitItem;var f=d.isQuickView;var w=d.isBuyThisLook||false;h.isBuyThisLook=w;var j=(d.data.source=="lookbook")?true:false;var y="";var g="";var v=false;var z=function(C){v=true;a.ajax.getJson({url:a.URLs.getVariants,data:{pid:C.pid,format:"json"},callback:function(D){if(!D||!D.variations||!D.variations.variants){return}h.variations.variants=D.variations.variants;v=false;jQuery(C).trigger("VariationsLoaded")}})};var l=function(E,C){var D=(E.master?E.selectedVar.id:E.pid);a.ajax.getJson({url:a.URLs.getAvailability,data:{pid:D,Quantity:C,format:"json"},callback:function(F){if(!F||!F.avLevels){return}if(E.master){E.selectedVar.avLevels=F.avLevels;E.selectedVar.avStatusQuantity=F.avStatusQuantity}else{h.avLevels=F.avLevels;h.avStatusQuantity=F.avStatusQuantity}jQuery(E).trigger("ReloadAvailability")}})};var B=function(C){var E=0;for(var D=0;D<C.length;D++){variant=C[D];if(variant.ATS>0){E=E+variant.ATS}}return E};var c=function(C){jQuery(C+" .maywerecommend ul.carousel").show();if(jQuery(C+" .maywerecommend ul.carousel li").length>4){jQuery(C+" .maywerecommend ul.carousel").jcarousel({scroll:4,itemVisibleInCallback:a.captureCarouselRecommendations})}};var u=function(D){if(h.isOption){var C=jQuery(D.containerId+" .product_options:last select");C.change(function(F){var E=this.options[this.selectedIndex].value.split("%?%");D.selectedOptions[this.id]=E[0];D.selectedPrice[this.id]=E[1];D.showUpdatedPrice(s(D),h.pricing.standard)});C.each(function(E){var F=this.options[this.selectedIndex].value.split("%?%");D.selectedOptions[this.id]=F[0];D.selectedPrice[this.id]=F[1];D.showUpdatedPrice(s(D),h.pricing.standard)})}};var r=function(D){var C=jQuery(D.containerId+" .addtocartbutton:first").unbind("click");var C=jQuery(D.containerId+" .addtocartbutton:first").click(function(H){if(h.isOutfit||h.productSet){var E=D.subProducts;D.selectedOptions.childPids="";D.selectedOptions.Quantity="";for(var F=0;F<E.length;F++){var G=E[F];if(G.variant||G.master){if(G.selectedVar!==null&&G.selectedOptions.Quantity>0){D.selectedOptions.childPids=D.selectedOptions.childPids.length==0?G.selectedVar.id:D.selectedOptions.childPids+","+G.selectedVar.id;D.selectedOptions.Quantity=D.selectedOptions.Quantity.length==0?G.selectedOptions.Quantity.toString():D.selectedOptions.Quantity+","+G.selectedOptions.Quantity.toString()}}else{if(G.selectedOptions.Quantity>0){D.selectedOptions.childPids=D.selectedOptions.childPids.length==0?G.pid:D.selectedOptions.childPids+","+G.pid;D.selectedOptions.Quantity=D.selectedOptions.Quantity.length==0?G.selectedOptions.Quantity.toString():D.selectedOptions.Quantity+","+G.selectedOptions.Quantity.toString()}}}D.selectedOptions.pid=D.pid;if(D.selectedOptions.childPids.length<1){return false}}else{if(D.selectedOptions.Quantity<1){return false}if(h.master||h.variant){if(D.selectedVar===null){return false}D.selectedOptions.pid=D.selectedVar.id;D.selectedOptions.masterPid=D.pid}else{D.selectedOptions.pid=D.pid}}D.selectedOptions.SelectedFromCategory=h.selectedFromCategory;D.disableAllA2CButtons();a.quickView.close();a.ajax.getJson({url:a.URLs.validateProductForA2C,data:jQuery.extend({},D.selectedOptions,{format:"json"}),callback:function(M){if(!M||!M.processOk){alert("Product validation failed!");D.enableAllA2CButtons();return}if(M.validProductItems.length>0){if(M.invalidProductItems.length===0){if(jQuery.event.global.AddToCart===undefined||jQuery.event.global.AddToCart===null){a.minicart.add("",D.selectedOptions,function(){if(a.minicart.addScrollbars){a.minicart.addScrollbars()}D.trackAddToCartRequest(D.selectedOptions);D.enableAllA2CButtons();if(C.hasClass("quickview")){C.hide();$("#quickview-add-confirmation").show()}})}else{var L=jQuery.Event("AddToCart");L.selectedOptions=D.selectedOptions;jQuery(document).trigger(L)}return}else{var N={pid:M.outfitPid,childPids:"",Quantity:"",SelectedFromCategory:M.selectedFromCategory};for(var J=0;J<M.validProductItems.length;J++){if(J>0){N.childPids+=",";N.Quantity+=","}N.childPids+=M.validProductItems[J].pid;N.Quantity+=M.validProductItems[J].requestedQty}if(jQuery.event.global.AddToCart===undefined||jQuery.event.global.AddToCart===null){a.minicart.add("",N,function(){D.trackAddToCartRequest(N)});if(C.hasClass("quickview")){C.hide();$("#quickview-add-confirmation").show()}}else{var L=jQuery.Event("AddToCart");L.selectedOptions=N;jQuery(document).trigger(L)}}}if(M.invalidProductItems.length>0){var K=jQuery("#validation-dialog");var I={data:JSON.stringify(M)};if(K.length===0){jQuery(document.body).append('<div id="validation-dialog"></div>');K=jQuery("#validation-dialog").dialog({bgiframe:true,autoOpen:false,modal:true,height:300,width:400,resizable:false,title:a.resources.PRODUCT_VALIDATION_TITLE,position:["center","center"]})}a.ajax.load({selector:"#validation-dialog",type:"POST",processData:false,url:a.URLs.showProductValidationResultDlg,data:I,reqName:a.resources.PRODUCT_VALIDATION_TITLE,callback:function(){K.dialog("open");$(".dialog-close").bind("click",function(O){O.preventDefault();K.dialog("close")});D.enableAllA2CButtons()}})}}});return false});return C};var e=function(D){var C=function(){var F=null;try{F=parseInt(jQuery(D.containerId+" .quantityinput:last").val())}catch(E){F=null}if(F){D.selectedOptions.Quantity=F;D.enableA2CButton();jQuery(D).trigger("AddtoCartEnabled")}else{D.selectedOptions.Quantity=0;D.disableA2CButton();jQuery(D).trigger("AddtoCartDisabled")}};jQuery(D.containerId+" .quantityinput:last").change(function(E){C()});C()};var o=function(C){var D=jQuery(C+" #pdpTabsDiv");jQuery("a.printpage").click(function(){window.print();return false})};var t=function(D){var C=function(){if((h.master||h.variant)&&D.selectedVar===null){jQuery(D.containerId+" .addtowishlist, "+D.containerId+" .addtoregistry").addClass("unselectable")}};C();jQuery(D).bind("AddtoCartDisabled",{},C);jQuery(D).bind("AddtoCartEnabled",{},function(F,E){jQuery(D.containerId+" .addtowishlist, "+D.containerId+" .addtoregistry").removeClass("unselectable")});jQuery(D).bind("ReloadAvailability",{},function(F){var E=F.target.selectedVar;A(n(F.target,(E===null?h.avStatusQuantity:E.avStatusQuantity)));jQuery(F.target).trigger("AddtoCartEnabled")});jQuery(D.containerId+" .addtowishlist a, "+D.containerId+" .addtoregistry a").click(function(F){var G=jQuery.extend({},{},D.selectedOptions);if(h.master||h.variant){if(D.selectedVar!==null){G.pid=D.selectedVar.id}else{return false}}else{G.pid=D.pid}var E=this.href;if(!(E.indexOf("?")>0)){E=E+"?"}window.location=E+jQuery.param(G);return false})};var k=function(C){jQuery(C+" #pdpReadReview").click(function(D){jQuery(C+" #pdpTabsDiv").tabs("select","pdpReviewsTab")});jQuery(C+" #pdpWriteReview").click(function(D){})};var n=function(K,D){var C=K.getAvStatus();var E=a.resources[C];var H=K.getATS();var G=K.getAvLevels();var L=G[a.constants.AVAIL_STATUS_IN_STOCK];var I=G[a.constants.AVAIL_STATUS_BACKORDER];var F=G[a.constants.AVAIL_STATUS_PREORDER];var J=G[a.constants.AVAIL_STATUS_NOT_AVAILABLE];if(C===a.constants.AVAIL_STATUS_BACKORDER||C===a.constants.AVAIL_STATUS_PREORDER){if(D>H&&H>0){E=E+"<br/>"+jQuery.format(a.resources["QTY_"+C],H)}E=E+"<br/>"+q(K)}else{if(D>L&&C!==a.constants.AVAIL_STATUS_NOT_AVAILABLE){E="";if(L>0){E=E+"<br/>"+jQuery.format(a.resources["QTY_"+a.constants.AVAIL_STATUS_IN_STOCK],L)}if(I>0){E=E+"<br/>"+jQuery.format(a.resources["QTY_"+a.constants.AVAIL_STATUS_BACKORDER],I)}if(F>0){E=E+"<br/>"+jQuery.format(a.resources["QTY_"+a.constants.AVAIL_STATUS_PREORDER],F)}}}return E};var q=function(C){var D="";if(C.getInStockDate()&&C.getInStockDate()!=="null"){D=jQuery.format(a.resources.IN_STOCK_DATE,(new Date(C.getInStockDate())).toDateString())}return D};var A=function(C){jQuery(y+" .availability:last .value").html(C)};var s=function(D){var C=D.selectedVar!=null?D.selectedVar.pricing.sale:h.pricing.sale;jQuery.each(D.selectedPrice,function(){C=(new Number(C)+new Number(this)).toFixed(2)});return C};var b=function(){};var x=function(){jQuery(".attributecontentlink").click(function(C){if(jQuery("#sizeChartDialog").length==0){jQuery("<div/>").attr("id","sizeChartDialog").appendTo(document.body)}a.createDialog({id:"sizeChartDialog",options:{height:530,width:800,title:a.resources.SIZECHART_TITLE}});jQuery("#sizeChartDialog").html("");jQuery("#sizeChartDialog").dialog("open");jQuery("#sizeChartDialog").load(this.href);return false})};var m=function(E){var F="";var C=E.length;if(C==1||C==2){F=E.join(" & ")}else{for(var D=0;D<C;D++){if(D==C-2){F+=E[D]+" & "+E[D+1];break}else{F+=E[D]+", "}}}return F};return{pid:h.ID,pName:h.name,pricing:h.pricing,selectedFromCategory:h.selectedFromCategory,selectedFromCategoryName:h.selectedFromCategoryName,variant:h.variant,master:h.master,bundled:h.bundled,isOutfit:h.isOutfit,isOutfitItem:h.isOutfitItem,isBuyThisLook:h.isBuyThisLook,selectedVarAttribs:{},selectedVar:null,selectedOptions:{},selectedPrice:{},containerId:null,subProducts:[],mainImage:null,mainImageHuge:null,zoomImage:null,getVariant:function(D){var C=null;jQuery.each(h.variations.variants,function(){var E=this;if(E.id===D){C=E;return false}});return C},getProductFromSubProducts:function(D){var C=null;var E=this;jQuery.each(E.subProducts,function(){var G=this;if(G.ID===D){C=G;return false}else{if(G.master){var F=G.getVariant(D);if(F!==null){C=G;return false}}}});return C},trackAddToCartRequest:function(H){if(typeof performProductAdd2CartTracking!=="function"){return}var J=this;if(H.childPids===undefined){var D=J.isOutfit?J.getProductFromSubProducts(H.pid):J;if(D!==null){var I=null;var C=D.pName;if(!D.master){I=D.pricing}else{var F=D.getVariant(H.pid);if(F!==null){I=F.pricing}}if(I!==null){performProductAdd2CartTracking(H.pid,C,J.selectedFromCategory,J.selectedFromCategoryName,I.standard,I.sale,H.Quantity)}}}else{var K=H.childPids.split(",");var E=H.Quantity.split(",");var G=0;jQuery.each(K,function(){var L=this;var P=J.getProductFromSubProducts(L);var Q=E[G];if(P!==null){var M=null;var N=P.pName;if(!P.master){M=P.pricing}else{var O=P.getVariant(L);if(O!==null){M=O.pricing}}if(M!==null){performProductAdd2CartTracking(L,N,J.selectedFromCategory,J.selectedFromCategoryName,M.standard,M.sale,Q)}}G=G+1})}},enableA2CButton:function(){var C=jQuery(this.containerId+" .addtocartbutton:first"),D=C.siblings(".addtocart-disabled-cover");C.removeAttr("disabled").removeClass("disabled");C.parent().removeClass("disabled");D.hide()},enableAllA2CButtons:function(){if(jQuery(this.containerId).length>0){this.enableA2CButton();jQuery.each(this.subProducts,function(){this.enableA2CButton()})}},disableA2CButton:function(){var C=jQuery(this.containerId+" .addtocartbutton:last"),D=C.siblings(".addtocart-disabled-cover");C.attr("disabled","true").addClass("disabled");C.parent().addClass("disabled");D.show()},disableAllA2CButtons:function(){if(jQuery(this.containerId).length>0){this.disableA2CButton();jQuery.each(this.subProducts,function(){this.disableA2CButton()})}},isSubProduct:function(){return(h.productSetProduct||h.isOutfitItem)&&a.ProductCache.subProducts.length>0},showSelectedVarAttrVal:function(C,D){jQuery(this.containerId+" .variationattributes div:not(.clear)").each(function(){var E=jQuery(this).data("data");if(C===E){jQuery(this).find("span.selectedvarval").html(D)}})},readReviews:function(){jQuery(this.containerId+" #pdpTabsDiv").tabs("select","pdpReviewsTab")},showImages:function(D,E){var C=this;E=E||{};jQuery.each(E,function(){var F=-1;var H=this;if(this.val===D&&this.images){if(this.images.small.length>0){jQuery(C.containerId+" .productthumbnails:first").html("");if(C.mainImage!==null&&C.zoomImage!==null){C.mainImage.src=H.images.large[0].url;C.mainImageHuge.src=H.images.largeHuge[0].url;if(!f){C.zoomImage.src=(H.images.zoom[0]!=undefined&&H.images.zoom[0]!=null)?H.images.zoom[0].url:"";C.mainImage.src=H.images.largeHuge[0].url}}}var G=0;if(!C.isSubProduct()){G=this.images.large.length>=this.images.small.length?this.images.small.length:this.images.large.length}else{G=this.images.small.length}if(this.images.small.length>1||C.isSubProduct()){jQuery.each(this.images.small,function(){F++;var K=F;if(F>G-1){return}var I=jQuery("<img/>").attr("src",this.url).attr("alt",this.alt).attr("title",this.title);var J=(H.images.zoom[K]!=undefined&&H.images.zoom[K]!=null)?H.images.zoom[K].url:"";$(I).attr("zoom-url",J);if(!C.isSubProduct()&&!j){I.click(function(L){jQuery(C.containerId+" .productthumbnails:first").find(".productthumbnail-wrap").removeClass("selected");jQuery(this).parent().addClass("selected");if(C.mainImage!=null&&C.zoomImage!=null){C.mainImage.src=H.images.large[K].url;C.mainImageHuge.src=H.images.largeHuge[K].url;if(!f){C.zoomImage.src=(H.images.zoom[K]!=undefined&&H.images.zoom[K]!=null)?H.images.zoom[K].url:""}}})}if(j){I.click(function(L){jQuery(C.containerId+" .productthumbnails:first").find(".productthumbnail-wrap").removeClass("selected");jQuery(this).parent().addClass("selected");if(C.mainImage!=null&&C.zoomImage!=null){$("#lbImg").attr("src",H.images.large[K].url)}})}jQuery(C.containerId+" .productthumbnails:first").append(I);jQuery(I).wrap('<div class="productthumbnail-wrap" />')});jQuery(C.containerId+" .productthumbnails:first .productthumbnail-wrap:first").addClass("selected")}}})},varAttrSelected:function(G){this.showSelectedVarAttrVal(G.data.id,G.data.val||"");if(G.data.id.id==undefined){this.selectedVarAttribs[G.data.id]=G.data.val}else{this.selectedVarAttribs[G.data.id.id]=G.data.val}if(G.data.val==null){this.variant=false;this.showUpdatedPrice(null)}var F=this;if(!v){var E=G.data.val!=null?this.findVariations({id:G.data.id,val:G.data.val}):null;var I=jQuery.extend({},{},this.selectedVarAttribs);var D=null;var H=new Array();for(var C in I){if(I[C]){D=this.findVariations({id:C,val:I[C]},D)}else{H.push(C)}}jQuery.each(h.variations.attributes,function(){if((this.id!=G.data.id||G.data.val==null)&&I[this.id]==null){F.varAttrDisplayHandler(this.id,D)}else{if(this.id!=G.data.id&&I[this.id]!=null){F.varAttrDisplayHandler(this.id,E)}else{F.showImages(G.data.val,this.vals)}}});this.selectedVar=this.findVariation(this.selectedVarAttribs)}this.refreshView()},resetVariations:function(){if(v){return}var C=this;jQuery(this.containerId+" .variationattributes .swatches").each(function(){var D=jQuery(this).data("data");jQuery(this).find("a.swatchanchor").each(function(){if(C.isVariation({id:D,val:this.innerHTML})){jQuery(this).parent().removeClass("unselectable")}else{jQuery(this).parent().addClass("unselectable");jQuery(this).parent().removeClass("selected")}})})},varAttrDisplayHandler:function(E,C){var D=this;jQuery(this.containerId+" .variationattributes .swatches").each(function(){var F=jQuery(this).data("data");if(F===E){jQuery(this).find("a.swatchanchor").each(function(){var H=jQuery(this).parent();var G=D.findVariations({id:E,val:this.innerHTML},C);if(G.length>0){H.removeClass("unselectable")}else{H.addClass("unselectable");if(H.hasClass("selected")){D.showSelectedVarAttrVal(E,"");D.selectedVarAttribs[E]=null}H.removeClass("selected")}})}});jQuery(this.containerId+" .variationattributes .variantdropdown select").each(function(){var G=jQuery(this).data("data").id;if(G===E){var F=this.options.length;jQuery.each(this.options,function(){if(F>1&&this.index==0){return}var H=D.findVariations({id:E,val:this.value},C);if(H.length>0){this.disabled=false}else{this.disabled=true;if(this.selected){D.showSelectedVarAttrVal(E,"");D.selectedVarAttribs[E]=null}this.selected=false}})}})},refreshView:function(){var H=this;if(!v&&this.selectedVar==null){this.selectedVar=this.findVariation(this.selectedVarAttribs)}if(!v&&this.selectedVar!=null){A(n(H,1));this.showUpdatedPrice(s(H),this.selectedVar.pricing.standard);if(!(!this.selectedVar.inStock&&this.selectedVar.avStatus===a.constants.AVAIL_STATUS_NOT_AVAILABLE)&&(this.getPrice()>0||this.isPromoPrice())){this.enableA2CButton();jQuery(this).trigger("AddtoCartEnabled")}else{this.disableA2CButton();jQuery(this).trigger("AddtoCartDisabled")}}else{if(v){A(a.showProgress("productloader"))}else{A(a.resources.NON_SELECTED)}this.disableA2CButton();jQuery(this).trigger("AddtoCartDisabled")}var E=[];var D=null;for(var C in this.selectedVarAttribs){if(this.selectedVarAttribs[C]){D=this.findVariations({id:C,val:this.selectedVarAttribs[C]},D)}}jQuery.each(h.variations.attributes,function(){H.showSelectedVarAttrVal(this.id,H.selectedVarAttribs[this.id]);if(!H.selectedVarAttribs[this.id]||H.selectedVarAttribs[this.id]==""){E.push(this.name);H.varAttrDisplayHandler(this.id,D)}});var G=m(E);if(E.length>0){var F=jQuery.format(a.resources.MISSING_VAL,G);A(F);jQuery(H.containerId+" .addtocartbutton:last").attr("title",F)}},showUpdatedPrice:function(I,C){if(I===undefined||I===null){jQuery(this.containerId+" #pdpATCDiv"+this.containerId.substring(1)+" .price").html("&nbsp;")}else{var F=Number(C||0);var E=Number(I||0);var G="";var H={salePrice:E,standardPrice:F};a.ajax.getJson({url:a.URLs.formatMoney,cache:true,async:false,data:{salePrice:E,standardPrice:F},callback:function(J){H=J}});var D=H.salePrice;if(F>0&&F>E&&!h.omitSaleCallout){D+=" SALE"}G=(E>0||this.isPromoPrice())?'<div class="salesprice">'+D+"</div>":' <div class="salesprice"></div>';if(F>0&&F>E&&!h.omitSaleCallout){G='<div class="standardprice">'+H.standardPrice+" </div>"+G}jQuery(this.containerId+" #pdpATCDiv"+this.containerId.substring(1)+" .price").html(G)}},getPrice:function(){return s(this)},isPromoPrice:function(){return(this.selectedVar!=null?this.selectedVar.pricing.isPromoPrice:h.pricing.isPromoPrice)},isVariation:function(F,E){var D=null;for(var C=0;C<h.variations.variants.length;C++){D=h.variations.variants[C];if(D.attributes[F.id]==F.val&&(E==undefined||D.attributes[E.id]==E.val)){return true}}return false},findVariations:function(C,D){var G=new Array();D=D||h.variations.variants;var F=null;for(var E=0;E<D.length;E++){F=D[E];if((F.attributes[C.id]===C.val)&&(F.inStock||(F.avStatus===a.constants.AVAIL_STATUS_BACKORDER&&F.ATS>0)||(F.avStatus===a.constants.AVAIL_STATUS_PREORDER&&F.ATS>0))){G.push(F)}}return G},findVariation:function(C){if(!this.checkAttrs(C)){return null}var F=function(H){var G="";jQuery.each(h.variations.attributes,function(){G+=H[this.id]});return G};var E=F(C);for(var D=0;D<h.variations.variants.length;D++){variant=h.variations.variants[D];if(F(variant.attributes)===E){return variant}}return null},findVariationById:function(E){for(var D=0;D<h.variations.variants.length;D++){var C=h.variations.variants[D];if(C&&C.id===E){return C}}return{}},checkAttrs:function(C){for(var D=0;D<h.variations.attributes.length;D++){if(C[h.variations.attributes[D].id]==null){return false}}return true},getAttrByID:function(D){for(var C=0;C<h.variations.attributes.length;C++){if(h.variations.attributes[C].id===D){return h.variations.attributes[C]}}return{}},getAvStatus:function(){if((this.variant||this.master)&&this.selectedVar!==null){return this.selectedVar.avStatus}else{return h.avStatus}},getATS:function(){if((this.variant||this.master)&&this.selectedVar!==null){return this.selectedVar.ATS}else{return h.ATS}},getAvailabilityQty:function(){if((this.variant||this.master)&&this.selectedVar!==null){return this.selectedVar.avStatusQuantity}else{return h.avStatusQuantity}},getAvLevels:function(){if((this.variant||this.master)&&this.selectedVar!==null){return this.selectedVar.avLevels}else{return h.avLevels}},getInStockDate:function(){if((this.variant||this.master)&&this.selectedVar!==null){return this.selectedVar.inStockDate}else{return h.inStockDate}},isA2CEnabled:function(){if(this.variant||this.master){if(this.selectedVar!=null){return(this.selectedVar.avStatus===a.constants.AVAIL_STATUS_IN_STOCK||this.selectedVar.avStatus===a.constants.AVAIL_STATUS_BACKORDER||this.selectedVar.avStatus===a.constants.AVAIL_STATUS_PREORDER)}else{return false}}else{return(h.avStatus===a.constants.AVAIL_STATUS_IN_STOCK||h.avStatus===a.constants.AVAIL_STATUS_BACKORDER||h.avStatus===a.constants.AVAIL_STATUS_PREORDER)}},show:function(D){var E=this;if(!E.isSubProduct()){E.mainImage=new Image();E.mainImageHuge=new Image();E.zoomImage=new Image();if(!j){if(!f){E.mainImageHuge.onload=function(){jQuery(E.containerId+" .product-zoom-trigger").attr("href",E.zoomImage.src)}}else{E.mainImage.onload=function(){}}}}jQuery(this).bind("VariationsLoaded",{},function(H,G){E.resetVariations();var F=B(h.variations.variants);if(F===0){A(a.resources[a.constants.AVAIL_STATUS_NOT_AVAILABLE])}jQuery(E.containerId+" .variationattributes .swatches").each(function(){var I=jQuery(this),J=I.data("data");I.find(".selected a").each(function(){E.varAttrSelected({data:{id:J,val:this.innerHTML}})})});jQuery(E.containerId+" .variationattributes .variantdropdown select").each(function(){if(this.selectedIndex>=0&&this.options[this.selectedIndex].value!==""){E.varAttrSelected({data:{id:jQuery(this).data("data").id,val:this.options[this.selectedIndex].value}})}})});this.containerId="#"+D.containerId;y=this.containerId;b();x();if(h.master||h.variant){z(this);jQuery(E.containerId+" .variationattributes .variantdropdown select").each(function(){jQuery(this).data("data",{id:jQuery(this).data("data"),val:""}).change(function(F){if(this.selectedIndex===0&&this.options.length===1){return}F.data=jQuery(this).data("data");F.data.val=(this.selectedIndex===0)?null:this.options[this.selectedIndex].value;if(this.selectedIndex===0){E.resetVariations()}E.varAttrSelected(F)})});if(E.selectedVarAttribs.color){E.showImages(E.selectedVarAttribs.color,E.getAttrByID("color").vals)}else{E.showImages("",[{val:"",images:h.images}])}}else{E.showImages("",[{val:"",images:h.images}])}u(this);if(!h.productSet&&!h.isOutfit){e(this)}r(this);if(!(this.getPrice()>0||this.isPromoPrice())||h.master||h.variant||h.productSet||h.isOutfit||h.bundle||(!h.inStock&&h.avStatus===a.constants.AVAIL_STATUS_NOT_AVAILABLE&&!h.productSet)){this.disableA2CButton()}var C=function(){var F=false,G=E.subProducts,I=new Number(),H;for(H=0;H<G.length;H=H+1){var J=G[H].selectedOptions.Quantity;var K=false;if(G[H].variant||G[H].master){K=(G[H].selectedVar!=null&&J!=undefined&&J>0)}else{K=(J!=undefined&&J>0)}F=F||K;if(K){if(G[H].selectedVar!=null){G[H].selectedOptions.pid=G[H].selectedVar.pid}else{G[H].selectedOptions.pid=G[H].pid}I+=new Number(J*G[H].getPrice())}}if(F){E.enableA2CButton();E.showUpdatedPrice(I)}else{E.disableA2CButton();E.showUpdatedPrice(null)}};if(h.productSet||h.isOutfit){C()}jQuery.each(E.subProducts,function(){jQuery(this).bind("AddtoCartDisabled",{},C)});jQuery.each(E.subProducts,function(){jQuery(this).bind("AddtoCartEnabled",{},C)});t(this);c(this.containerId);o(this.containerId)},toString:function(){return this.model}}}}else{alert("app is undefined!")}})(app);window.BNY=window.BNY||{};BNY.errors=BNY.errors||{};$.extend(BNY.errors,function(){var a=this;a.output={common:{REQUIRED:"This is a required field.",NOSPACES:"No spaces allowed",NOSPECIALCHARS:"No special characters",NODIGITS:"No numeric characters",ALLOWHYPHEN:"Only letters and hyphens",PHONE:"Only numbers, spaces and hyphens",ALLOWEXCEPT:"Enter a valid value",FIELDSMISMATCH:"Value does not match conditions of another field",MULTIPLEEMAILS:"Enter multiple valid emails separated by commas",EMAIL:"Your email address is incomplete - please provide a valid e-mail address."},account:{loginDialog:{username:{REQUIRED:"Username cannot be blank.",EMAIL:"Your email address is incomplete - please provide a valid e-mail address."},password:{REQUIRED:"Password cannot be blank."}},forgotPassword:{dwfrm_requestpassword_email:{REQUIRED:"Your email address is incomplete - please provide a valid e-mail address.",EMAIL:"Please provide a valid e-mail address."}}},checkout:{shipping:{dwfrm_singleshipping_shippingAddress_addressFields_firstName:{REQUIRED:"Please provide a first name."},dwfrm_singleshipping_shippingAddress_addressFields_lastName:{REQUIRED:"Please provide a last name."},dwfrm_singleshipping_shippingAddress_addressFields_country:{REQUIRED:"To ensure prompt delivery, please select a country."},dwfrm_singleshipping_shippingAddress_addressFields_address1:{REQUIRED:"To ensure prompt delivery, please enter your street address."},dwfrm_singleshipping_shippingAddress_addressFields_city:{REQUIRED:"To ensure prompt delivery, please enter your city."},dwfrm_singleshipping_shippingAddress_addressFields_states_state:{REQUIRED:"To ensure prompt delivery, please enter your state."},dwfrm_singleshipping_shippingAddress_addressFields_zip:{REQUIRED:"To ensure prompt delivery, please enter your zip code."},dwfrm_singleshipping_shippingAddress_addressFields_phone:{REQUIRED:"Please provide a phone number.",PHONE:"Please provide a valid phone number."},dwfrm_singleshipping_shippingAddress_email_emailAddress:{REQUIRED:"Your email address is incomplete - please provide a valid e-mail address.",EMAIL:"Please provide a valid e-mail address."}},billing:{dwfrm_billing_billingAddress_addressFields_firstName:{REQUIRED:"Please provide a first name."},dwfrm_billing_billingAddress_addressFields_lastName:{REQUIRED:"Please provide a last name."},dwfrm_billing_billingAddress_addressFields_country:{REQUIRED:"Please enter the country of your billing address."},dwfrm_billing_billingAddress_addressFields_address1:{REQUIRED:"Please enter your billing street address."},dwfrm_billing_billingAddress_addressFields_city:{REQUIRED:"Please enter the city of your billing address."},dwfrm_billing_billingAddress_addressFields_states_state:{REQUIRED:"Please enter the state of your billing address."},dwfrm_billing_billingAddress_addressFields_zip:{REQUIRED:"Please enter the zip code of your billing address."},dwfrm_billing_billingAddress_addressFields_phone:{REQUIRED:"Please provide a phone number.",PHONE:"Please provide a valid phone number."}},payment:{dwfrm_billing_paymentMethods_creditCard_owner:{REQUIRED:"Please enter the name as it appears on the credit card."},dwfrm_billing_paymentMethods_creditCard_number:{REQUIRED:"Please enter your credit card number.",CREDIT_CARD:"Please enter a valid credit card number."},dwfrm_billing_paymentMethods_creditCard_month:{CC_EXPIRE_DATE:"The expiration date you have entered is expired."},dwfrm_billing_paymentMethods_creditCard_cvn:{REQUIRED:"Please enter your credit card's CVN."}}}};return a}.call(BNY.errors));if(!this.JSON){this.JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());