"undefined"==typeof window.AK_21&&(window.AK_21=function(){function k(g){var j=[],h;for(h in g)g.hasOwnProperty(h)&&(j[j.length]=[escape(h),escape(g[h])].join("="));return j.join("&")}var g={tmr:null,btns:[],c:{filename:"adkeeper.2.1.js",anchorClass:"kj_c21"},akbtn:function(o,j,h){this.bld="2.1_120516.0";this.markedClass="ak_btnd_21";this.idPrfx="ak21btn_";this.cmptAnchs=["kj_cx","kj_c11","kj_c2"];this.cmptScripts=["adkeeper.2.0."];this.anchor=h;this.callback=this.uniqueID=null;this.index=o;this.data=
j;this.display="block";this.kept=!1;this.btnId=null;this.pingSent=!1;this.adHeight=this.adWidth=this.fr=this.ff=this.page=null;this.crnr="bl";this.pady=this.padx=0;this.impUrl="http://impl.ackak.com/track.php";this.keepUrl="http://keep.adkeeper.com/keep.php";this.linkUrl="http://welcome.adkeeper.com/";this.linkUrlPopup="http://welcome.adkeeper.com/compact";this.cdn="http://a.akncdn.com/";this.popup=!0;this.popupWidth=445;this.popupHeight=370;this.pKeys=["akin","_akhostpage","_akbuttonReady","_akdecache",
"_akv"];this.zIndex="10001";this.cta=!0;this.gotoLinkOnClick=1;this.domIndex=this.scpIndex=0;this.buttonPos={top:0,left:0};this.buttonOffset={top:0,left:0};this.btnStyle=0;this.init=function(){try{this.uniqueID=parseFloat((new Date).valueOf())+Math.random();for(var a in this.data)this.data.hasOwnProperty(a)&&(this[a]=this.data[a]);this.crnr=this.crnr.toLowerCase();if(this.pad)this.padx=this.pady=this.data.pad;if(this.akWxH){arrWH=this.akWxH.split(/[a-z]+/i);if(2!=arrWH.length)throw Error("akWxH passed invalid value");
this.adWidth=parseInt(arrWH[0]);this.adHeight=parseInt(arrWH[1])}this.setStyle();this.framedetect();this.buttonize()}catch(b){this.log(b)}};this.buttonize=function(){var a=g.btns[this.index],b=this.anchor,c=this.grbEl(g.c.anchorClass,null,b.parentNode),d=this.grbEl(this.markedClass,null,b.parentNode);if(c!=d){this.scpIndex=d.length;this.addClass(b,this.markedClass);if(!this.btnId)this.btnId=this.idPrfx+this.index;c=document.createElement("div");c.style.width=this.crdU[2]+"px";c.style.height=this.crdU[3]+
"px";c.style.backgroundImage="url("+this.btnImg+")";c.style.backgroundRepeat="no-repeat";c.style.cursor="pointer";c.style.position="absolute";c.style.fontSize="0";c.style.display="none";c.style.zIndex=this.zIndex;c.setAttribute("id",this.btnId);this.addEv(c,"mouseover",function(){a.expand()});this.addEv(c,"mouseout",function(){a.shrink()});this.addEv(c,"click",function(){a.clickAction()});b.style.fontSize="0";if(null!==this.adWidth)b.style.width=this.adWidth+"px";b.style.zIndex=this.zIndex;b.style.position=
"relative";b.insertBefore(c,b.firstChild);this.shrink();d=document.createElement("img");d.setAttribute("src",this.btnImg);d.style.width="1px";d.style.height="1px";d.style.display="none";b.appendChild(d);if(0<this.pad)this.padx=this.pady=this.pad;var e=this.traverseDOM(b.parentNode);if(!e)e=b.parentNode;if(e){var f=null,f="BODY"==e.tagName?{top:0,left:0}:this.getOffset(e);f.top=Math.round(f.top);f.left=Math.round(f.left);e=this.getOffset(b);e.top=Math.round(e.top);e.left=Math.round(e.left);var b=f.top-
e.top,f=f.left-e.left,e=b,i=f;switch(this.crnr){case "tr":this.buttonOffset.top=this.pady;this.buttonOffset.left=0-this.padx;i=f+(this.adWidth-this.crdU[2]);break;case "tl":this.buttonOffset.top=this.pady;this.buttonOffset.left=this.padx;break;case "br":this.buttonOffset.top=0-this.pady;this.buttonOffset.left=0-this.padx;e=b+this.adHeight-this.crdU[3];i=f+this.adWidth-this.crdU[2];break;default:this.buttonOffset.top=0-this.pady,this.buttonOffset.left=this.padx,e=b+this.adHeight-this.crdU[3]}this.buttonPos.top=
e;this.buttonPos.left=i;c.style.top=e+this.buttonOffset.top+"px";c.style.left=i+this.buttonOffset.left+"px"}c.style.display=this.display;var l=null;d.complete?(l=(new Date).getTime()-g.tmr,a.sendPing(l)):this.addEv(d,"load",function(a){return function(){l=(new Date).getTime()-g.tmr;g.btns[a].sendPing(l)}}(a.index));this.sendPing("")}};this.sendPing=function(a){if(!this.pingSent){this.pingSent=!0;var b=this.pkgPrms();b._akhostpage=this.page;b._akbuttonReady=a;this.impUrl+="?"+k(b);a=document.createElement("img");
a.setAttribute("src",this.impUrl);a.style.width="1px";a.style.height="1px";a.style.display="none";g.btns[this.index].anchor.appendChild(a);this.runCallback()}};this.runCallback=function(){if(this.callback){for(var a=this.callback.split("."),b=window;value=a.shift();)b=b[value];b(g.btns[this.index])}};this.saveAd=function(){var a=this.pkgPrms();a._akhostpage=this.page;var a=this.keepUrl+"?"+k(a),b=document.createElement("img");b.setAttribute("src",a);b.style.width="1px";b.style.height="1px";b.style.display=
"none";g.btns[this.index].anchor.appendChild(b)};this.clickAction=function(){if(!this.kept){this.kept=!0;var a=null,a=this.cta?this.pkgPrms():{akin:this.data.akin,_akv:this.bld+"_"+this.btnStyle+"_"+this.crnr};a._akhostpage=this.page;var b=null,c=null;if(this.popup)var d=this.popupWidth,e=this.popupHeight,b=this.linkUrlPopup+"?"+k(a),c=function(){window.open(b,"_blank","width="+d+",height="+e)};else b=this.linkUrl+"?"+k(a),c=function(){window.open(b)};this.clickAction=c;this.expand();this.saveAd();
1==this.gotoLinkOnClick&&c()}};this.pkgPrms=function(){var a={akin:this.data.akin,_akdecache:this.uniqueID,_akv:this.bld+"_"+this.btnStyle+"_"+this.crnr};if(null==this.page)a._akhostpageff=this.ff,a._akhostpagefr=this.fr;for(var b in this.data)if("function"==typeof this.data[b]){var c=[],c=this.callback.toString().split("()"),c=c[0].split(" ");a[b]=c[1]}else"undefined"==typeof this.data[this.pKeys[b]]&&this.data.hasOwnProperty(b)&&(a[b]=this.data[b]);return a};this.expand=function(){this.resize(this.kept?
this.crdKM:this.crdUM,!0)};this.shrink=function(){this.resize(this.kept?this.crdK:this.crdU,!1)};this.resize=function(a,b){var c=document.getElementById(this.btnId),d=parseInt(c.style.width),e=parseInt(c.style.height);c.style.width=a[2]+"px";c.style.height=a[3]+"px";c.style.backgroundPosition="-"+a[0]+"px -"+a[1]+"px";var f=this.buttonPos.top,i=this.buttonPos.left;"r"==this.crnr.substring(1,2)&&(i=b?i-(parseInt(c.style.width)-parseInt(d)):i+(parseInt(d)-parseInt(c.style.width)));"b"==this.crnr.substring(0,
1)&&(f=b?f-(parseInt(c.style.height)-parseInt(e)):f+(parseInt(e)-parseInt(c.style.height)));this.buttonPos.top=f;this.buttonPos.left=i;c.style.top=f+this.buttonOffset.top+"px";c.style.left=i+this.buttonOffset.left+"px"};this.traverseDOM=function(a){var b=this.adWidth+"px",c=this.adHeight+"px",d=a.tagName;if(d&&"SCRIPT"!=d)if(this.getDimensions(a,"width")==b&&this.getDimensions(a,"height")==c){if("BODY"!=d&&"IFRAME"!=d&&(b=this.isCompeting(a),c=this.isCompeting(a.parentNode),!b&&!c)){if(this.domIndex==
this.scpIndex)return a;this.domIndex++}}else for(b=0;b<a.childNodes.length;b++)if(currentElementChild=a.childNodes[b],c=this.traverseDOM(currentElementChild),!1!=c)return c;return!1};this.isCompeting=function(a){if("EMBED"==a.tagName)return!1;for(var b=!1,c=0;a&&2>c;)if(c++,a=a.nextSibling,null!=a){if("SCRIPT"==a.tagName&&a.src)for(var d=0;d<this.cmptScripts.length;d++)if(a.src.match(RegExp(this.cmptScripts[d],"gi")))return!0;for(d=0;d<this.cmptAnchs.length;d++)if(this.hasClass(a,this.cmptAnchs[d])){b=
!0;break}}return b};this.log=function(a){"undefined"!=typeof console&&console.log(a)};this.setStyle=function(){var a,b,c,d,e;switch(this.btnStyle){case 4:switch(this.crnr){case "tr":a=this.cdn+"akbtn_4_tr.png";b=[1,2,114,25];c=[117,2,165,97];d=[286,2,25,25];e=[313,2,165,97];break;case "tl":a=this.cdn+"akbtn_4_tl.png";b=[2,2,114,25];c=[119,2,165,97];d=[287,2,25,25];e=[315,2,165,97];break;case "br":a=this.cdn+"akbtn_4_br.png";b=[1,1,114,25];c=[117,1,165,97];d=[286,1,25,25];e=[314,1,165,97];break;default:a=
this.cdn+"akbtn_4_bl.png",b=[2,1,114,25],c=[119,1,165,97],d=[287,1,25,25],e=[315,1,165,97]}break;case 3:a=this.cdn+"akbtn_3.png";b=[0,2,114,25];c=[117,2,114,25];d=[234,2,25,25];e=[262,2,125,25];break;case 2:switch(this.crnr){case "tr":a=this.cdn+"akbtn_2_tr.png";b=[0,3,25,25];c=[30,3,162,95];d=[196,3,25,25];e=[226,3,162,95];break;case "tl":a=this.cdn+"akbtn_2_tl.png";b=[3,3,25,25];c=[31,3,162,95];d=[199,3,25,25];e=[227,3,162,95];break;case "br":a=this.cdn+"akbtn_2_br.png";b=[0,0,25,25];c=[30,2,162,
95];d=[196,0,25,25];e=[227,2,162,95];break;default:a=this.cdn+"akbtn_2_bl.png",b=[3,0,25,25],c=[31,2,162,95],d=[199,0,25,25],e=[227,2,162,95]}break;case -1:a=this.cdn+"adkeeper_button.png";b=[0,0,18,17];c=[24,0,83,17];d=[113,0,18,17];e=[137,0,121,17];break;case 1:a=this.cdn+"akbtn_1.png";switch(this.crnr){case "tr":b=[0,3,25,25];c=[28,3,114,25];d=[145,3,25,25];e=[173,3,125,25];break;case "tl":b=[3,3,25,25];c=[31,3,114,25];d=[148,3,25,25];e=[176,3,125,25];break;case "br":b=[0,0,25,25];c=[28,0,114,
25];d=[145,0,25,25];e=[173,0,125,25];break;default:b=[3,0,25,25],c=[31,0,114,25],d=[148,0,25,25],e=[176,0,125,25]}break;default:switch(this.btnStyle=0,this.crnr){case "tr":a=this.cdn+"k2e_tr.png";b=[0,0,34,20];c=[38,0,125,79];d=[169,0,34,20];e=[207,0,125,79];break;case "tl":a=this.cdn+"k2e_tl.png";b=[0,0,35,20];c=[38,0,131,79];d=[169,0,35,20];e=[207,0,131,79];break;case "br":a=this.cdn+"k2e_br.png";b=[0,59,34,20];c=[38,0,123,79];d=[169,59,34,20];e=[207,0,123,79];break;default:a=this.cdn+"k2e_bl.png",
b=[0,59,34,20],c=[38,0,131,79],d=[169,59,35,20],e=[207,0,131,79]}}this.btnImg=this.btnImg||a;this.crdU=this.crdU||b;this.crdUM=this.crdUM||c;this.crdK=this.crdK||d;this.crdKM=this.crdKM||e};this.framedetect=function(a,b,c){"undefined"==typeof b&&(b=0);"undefined"==typeof a&&(a=window);"undefined"==typeof c&&(c=window);try{0!=a.location.href.length&&(c=a)}catch(d){}if(10==b)return this.ff=c.document.referrer.substring(0,300),this.fr="iframes_"+b,!0;if(a==top)return 0<b?c==a?this.page=a.location.href.substring(0,
300):c.parent==a?this.page=c.document.referrer.substring(0,300):(this.ff=c.document.referrer.substring(0,300),this.fr="iframes_"+b):this.page=location.href.substring(0,300),!0;b++;return this.framedetect(a.parent,b,c)};this.isWindow=function(a){return a&&"object"===typeof a&&"setInterval"in a};this.getWindow=function(a){return this.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1};this.getOffset=function(a){if("getBoundingClientRect"in document.documentElement){var b;if(!a||!a.ownerDocument)return null;
if(a===a.ownerDocument.body)return{top:f.offsetTop,left:f.offsetLeft};try{b=a.getBoundingClientRect()}catch(c){}var d=a.ownerDocument,e=d.documentElement,f=d.body,a=this.getWindow(d),d=b.top+(a.pageYOffset||f.scrollTop)-(e.clientTop||f.clientTop||0),i=b.left+(a.pageXOffset||f.scrollLeft)-(e.clientLeft||f.clientLeft||0)}else{if(!a||!a.ownerDocument)return null;if(a===a.ownerDocument.body)return{top:f.offsetTop,left:f.offsetLeft};var g;b=a.offsetParent;var d=a.ownerDocument,e=d.documentElement,f=d.body,
h=d.defaultView;g=h?h.getComputedStyle(a,null):a.currentStyle;d=a.offsetTop;for(i=a.offsetLeft;(a=a.parentNode)&&a!==f&&a!==e;)if(g=h?h.getComputedStyle(a,null):a.currentStyle,d-=a.scrollTop,i-=a.scrollLeft,a===b)d+=a.offsetTop,i+=a.offsetLeft,b=a.offsetParent;if("relative"===g.position||"static"===g.position)d+=f.offsetTop,i+=f.offsetLeft}return{top:d,left:i}};this.getDimensions=function(a,b){var c="width"===b?a.offsetWidth:a.offsetHeight;if(0<c)return c+"px";c=a.style[b]||0;c=parseFloat(c)||0;return c+
"px"};this.grbEl=function(a,b,c){if(document.getElementsByClassName)for(var d=c.getElementsByClassName(a),e=b?RegExp("\\b"+b+"\\b","i"):null,a=[],f,b=0,c=d.length;b<c;b+=1)f=d[b],(!e||e.test(f.nodeName))&&a.push(f);else if(document.evaluate){b=b||"*";f=a.split(" ");for(var e="",g="http://www.w3.org/1999/xhtml"===document.documentElement.namespaceURI?"http://www.w3.org/1999/xhtml":null,a=[],h=0,j=f.length;h<j;h+=1)e+="[contains(concat(' ', @class, ' '), ' "+f[h]+" ')]";try{d=document.evaluate(".//"+
b+e,c,g,0,null)}catch(k){d=document.evaluate(".//"+b+e,c,null,0,null)}for(;e=d.iterateNext();)a.push(e)}else{b=b||"*";f=a.split(" ");e=[];d="*"===b&&c.all?c.all:c.getElementsByTagName(b);a=[];b=0;for(c=f.length;b<c;b+=1)e.push(RegExp("(^|\\s)"+f[b]+"(\\s|$)"));c=0;for(g=d.length;c<g;c+=1){f=d[c];b=!1;h=0;for(j=e.length;h<j&&!(b=e[h].test(f.className),!b);h+=1);b&&a.push(f)}}return a};this.addClass=function(a,b){if(1===a.nodeType)if(a.className){var c=" "+a.className+" ";~c.indexOf(" "+b+" ")||(c+=
b+" ");a.className=c.replace(/^\s+|\s+$/g,"")}else a.className=b};this.hasClass=function(a,b){var c;return 1===a.nodeType&&-1<(" "+a.className+" ").replace(/[\n\t\r]/g," ").indexOf(" "+b+" ")?!0:!1};this.trmSt=function(a){return null==a?"":a.toString().replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,"")};this.addEv=function(a,b,c,d){if(a.addEventListener)return a.addEventListener(b,c,d),!0;if(a.attachEvent)return a.attachEvent("on"+b,c);a["on"+b]=c}},init:function(){this.tmr=(new Date).getTime();this.btns=
[];for(var k=document.getElementsByTagName("script"),j=0;j<k.length;j++){var h=k[j];if(h.src&&h.src.match(g.c.filename)){var a=h.src.split("#");if(1<a.length){for(var b={},a=a[1].split("&"),c=0;c<a.length;c++){var d=a[c].split("=");b[d[0]]=!isNaN(parseFloat(d[1]))&&isFinite(d[1])?parseInt(d[1]):/^\[.*\]$/.test(decodeURIComponent(d[1]))?eval(decodeURIComponent(d[1])):decodeURIComponent(d[1])}a=document.createElement("div");a.setAttribute("class",g.c.anchorClass);h=h.parentNode.insertBefore(a,h);b=
new g.akbtn(g.btns.length,b,h);g.btns.push(b);b.init()}}}}},m=window,n=document;"complete"==n.readyState?g.init():n.addEventListener?m.addEventListener("load",g.init,!1):m.attachEvent&&m.attachEvent("onload",g.init);return g}());
