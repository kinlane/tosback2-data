
(function(){'use strict';var globals=typeof window!=='undefined'?window:global;if(typeof globals.require==='function')return;var modules={};var cache={};var has=function(object,name){return({}).hasOwnProperty.call(object,name);};var expand=function(root,name){var results=[],parts,part;if(/^\.\.?(\/|$)/.test(name)){parts=[root,name].join('/').split('/');}else{parts=name.split('/');}
for(var i=0,length=parts.length;i<length;i++){part=parts[i];if(part==='..'){results.pop();}else if(part!=='.'&&part!==''){results.push(part);}}
return results.join('/');};var dirname=function(path){return path.split('/').slice(0,-1).join('/');};var localRequire=function(path){return function(name){var dir=dirname(path);var absolute=expand(dir,name);return globals.require(absolute);};};var initModule=function(name,definition){var module={id:name,exports:{}};definition(module.exports,localRequire(name),module);var exports=cache[name]=module.exports;return exports;};var require=function(name){var path=expand(name,'.');if(has(cache,path))return cache[path];if(has(modules,path))return initModule(path,modules[path]);var dirIndex=expand(path,'./index');if(has(cache,dirIndex))return cache[dirIndex];if(has(modules,dirIndex))return initModule(dirIndex,modules[dirIndex]);throw new Error('Cannot find module "'+name+'"');};var define=function(bundle){for(var key in bundle){if(has(bundle,key)){modules[key]=bundle[key];}}};globals.require=require;globals.require.define=define;})();
(function(con){var method;var dummy=function(){};var methods=('assert,count,debug,dir,dirxml,error,exception,group,'+'groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,'+'time,timeEnd,trace,warn').split(',');while(method==methods.pop()){con[method]=con[method]||dummy;}})(window.console=window.console||{});
(function(){var root=this;var previousUnderscore=root._;var breaker={};var ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype;var push=ArrayProto.push,slice=ArrayProto.slice,concat=ArrayProto.concat,unshift=ArrayProto.unshift,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty;var
nativeForEach=ArrayProto.forEach,nativeMap=ArrayProto.map,nativeReduce=ArrayProto.reduce,nativeReduceRight=ArrayProto.reduceRight,nativeFilter=ArrayProto.filter,nativeEvery=ArrayProto.every,nativeSome=ArrayProto.some,nativeIndexOf=ArrayProto.indexOf,nativeLastIndexOf=ArrayProto.lastIndexOf,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind;var _=function(obj){if(obj instanceof _)return obj;if(!(this instanceof _))return new _(obj);this._wrapped=obj;};if(typeof exports!=='undefined'){if(typeof module!=='undefined'&&module.exports){exports=module.exports=_;}
exports._=_;}else{root['_']=_;}
_.VERSION='1.4.2';var each=_.each=_.forEach=function(obj,iterator,context){if(obj==null)return;if(nativeForEach&&obj.forEach===nativeForEach){obj.forEach(iterator,context);}else if(obj.length===+obj.length){for(var i=0,l=obj.length;i<l;i++){if(iterator.call(context,obj[i],i,obj)===breaker)return;}}else{for(var key in obj){if(_.has(obj,key)){if(iterator.call(context,obj[key],key,obj)===breaker)return;}}}};_.map=_.collect=function(obj,iterator,context){var results=[];if(obj==null)return results;if(nativeMap&&obj.map===nativeMap)return obj.map(iterator,context);each(obj,function(value,index,list){results[results.length]=iterator.call(context,value,index,list);});return results;};_.reduce=_.foldl=_.inject=function(obj,iterator,memo,context){var initial=arguments.length>2;if(obj==null)obj=[];if(nativeReduce&&obj.reduce===nativeReduce){if(context)iterator=_.bind(iterator,context);return initial?obj.reduce(iterator,memo):obj.reduce(iterator);}
each(obj,function(value,index,list){if(!initial){memo=value;initial=true;}else{memo=iterator.call(context,memo,value,index,list);}});if(!initial)throw new TypeError('Reduce of empty array with no initial value');return memo;};_.reduceRight=_.foldr=function(obj,iterator,memo,context){var initial=arguments.length>2;if(obj==null)obj=[];if(nativeReduceRight&&obj.reduceRight===nativeReduceRight){if(context)iterator=_.bind(iterator,context);return arguments.length>2?obj.reduceRight(iterator,memo):obj.reduceRight(iterator);}
var length=obj.length;if(length!==+length){var keys=_.keys(obj);length=keys.length;}
each(obj,function(value,index,list){index=keys?keys[--length]:--length;if(!initial){memo=obj[index];initial=true;}else{memo=iterator.call(context,memo,obj[index],index,list);}});if(!initial)throw new TypeError('Reduce of empty array with no initial value');return memo;};_.find=_.detect=function(obj,iterator,context){var result;any(obj,function(value,index,list){if(iterator.call(context,value,index,list)){result=value;return true;}});return result;};_.filter=_.select=function(obj,iterator,context){var results=[];if(obj==null)return results;if(nativeFilter&&obj.filter===nativeFilter)return obj.filter(iterator,context);each(obj,function(value,index,list){if(iterator.call(context,value,index,list))results[results.length]=value;});return results;};_.reject=function(obj,iterator,context){var results=[];if(obj==null)return results;each(obj,function(value,index,list){if(!iterator.call(context,value,index,list))results[results.length]=value;});return results;};_.every=_.all=function(obj,iterator,context){iterator||(iterator=_.identity);var result=true;if(obj==null)return result;if(nativeEvery&&obj.every===nativeEvery)return obj.every(iterator,context);each(obj,function(value,index,list){if(!(result=result&&iterator.call(context,value,index,list)))return breaker;});return!!result;};var any=_.some=_.any=function(obj,iterator,context){iterator||(iterator=_.identity);var result=false;if(obj==null)return result;if(nativeSome&&obj.some===nativeSome)return obj.some(iterator,context);each(obj,function(value,index,list){if(result||(result=iterator.call(context,value,index,list)))return breaker;});return!!result;};_.contains=_.include=function(obj,target){var found=false;if(obj==null)return found;if(nativeIndexOf&&obj.indexOf===nativeIndexOf)return obj.indexOf(target)!=-1;found=any(obj,function(value){return value===target;});return found;};_.invoke=function(obj,method){var args=slice.call(arguments,2);return _.map(obj,function(value){return(_.isFunction(method)?method:value[method]).apply(value,args);});};_.pluck=function(obj,key){return _.map(obj,function(value){return value[key];});};_.where=function(obj,attrs){if(_.isEmpty(attrs))return[];return _.filter(obj,function(value){for(var key in attrs){if(attrs[key]!==value[key])return false;}
return true;});};_.max=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535){return Math.max.apply(Math,obj);}
if(!iterator&&_.isEmpty(obj))return-Infinity;var result={computed:-Infinity};each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed>=result.computed&&(result={value:value,computed:computed});});return result.value;};_.min=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535){return Math.min.apply(Math,obj);}
if(!iterator&&_.isEmpty(obj))return Infinity;var result={computed:Infinity};each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed<result.computed&&(result={value:value,computed:computed});});return result.value;};_.shuffle=function(obj){var rand;var index=0;var shuffled=[];each(obj,function(value){rand=_.random(index++);shuffled[index-1]=shuffled[rand];shuffled[rand]=value;});return shuffled;};var lookupIterator=function(value){return _.isFunction(value)?value:function(obj){return obj[value];};};_.sortBy=function(obj,value,context){var iterator=lookupIterator(value);return _.pluck(_.map(obj,function(value,index,list){return{value:value,index:index,criteria:iterator.call(context,value,index,list)};}).sort(function(left,right){var a=left.criteria;var b=right.criteria;if(a!==b){if(a>b||a===void 0)return 1;if(a<b||b===void 0)return-1;}
return left.index<right.index?-1:1;}),'value');};var group=function(obj,value,context,behavior){var result={};var iterator=lookupIterator(value);each(obj,function(value,index){var key=iterator.call(context,value,index,obj);behavior(result,key,value);});return result;};_.groupBy=function(obj,value,context){return group(obj,value,context,function(result,key,value){(_.has(result,key)?result[key]:(result[key]=[])).push(value);});};_.countBy=function(obj,value,context){return group(obj,value,context,function(result,key,value){if(!_.has(result,key))result[key]=0;result[key]++;});};_.sortedIndex=function(array,obj,iterator,context){iterator=iterator==null?_.identity:lookupIterator(iterator);var value=iterator.call(context,obj);var low=0,high=array.length;while(low<high){var mid=(low+high)>>>1;iterator.call(context,array[mid])<value?low=mid+1:high=mid;}
return low;};_.toArray=function(obj){if(!obj)return[];if(obj.length===+obj.length)return slice.call(obj);return _.values(obj);};_.size=function(obj){return(obj.length===+obj.length)?obj.length:_.keys(obj).length;};_.first=_.head=_.take=function(array,n,guard){return(n!=null)&&!guard?slice.call(array,0,n):array[0];};_.initial=function(array,n,guard){return slice.call(array,0,array.length-((n==null)||guard?1:n));};_.last=function(array,n,guard){if((n!=null)&&!guard){return slice.call(array,Math.max(array.length-n,0));}else{return array[array.length-1];}};_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,(n==null)||guard?1:n);};_.compact=function(array){return _.filter(array,function(value){return!!value;});};var flatten=function(input,shallow,output){each(input,function(value){if(_.isArray(value)){shallow?push.apply(output,value):flatten(value,shallow,output);}else{output.push(value);}});return output;};_.flatten=function(array,shallow){return flatten(array,shallow,[]);};_.without=function(array){return _.difference(array,slice.call(arguments,1));};_.uniq=_.unique=function(array,isSorted,iterator,context){var initial=iterator?_.map(array,iterator,context):array;var results=[];var seen=[];each(initial,function(value,index){if(isSorted?(!index||seen[seen.length-1]!==value):!_.contains(seen,value)){seen.push(value);results.push(array[index]);}});return results;};_.union=function(){return _.uniq(concat.apply(ArrayProto,arguments));};_.intersection=function(array){var rest=slice.call(arguments,1);return _.filter(_.uniq(array),function(item){return _.every(rest,function(other){return _.indexOf(other,item)>=0;});});};_.difference=function(array){var rest=concat.apply(ArrayProto,slice.call(arguments,1));return _.filter(array,function(value){return!_.contains(rest,value);});};_.zip=function(){var args=slice.call(arguments);var length=_.max(_.pluck(args,'length'));var results=new Array(length);for(var i=0;i<length;i++){results[i]=_.pluck(args,""+i);}
return results;};_.object=function(list,values){var result={};for(var i=0,l=list.length;i<l;i++){if(values){result[list[i]]=values[i];}else{result[list[i][0]]=list[i][1];}}
return result;};_.indexOf=function(array,item,isSorted){if(array==null)return-1;var i=0,l=array.length;if(isSorted){if(typeof isSorted=='number'){i=(isSorted<0?Math.max(0,l+isSorted):isSorted);}else{i=_.sortedIndex(array,item);return array[i]===item?i:-1;}}
if(nativeIndexOf&&array.indexOf===nativeIndexOf)return array.indexOf(item,isSorted);for(;i<l;i++)if(array[i]===item)return i;return-1;};_.lastIndexOf=function(array,item,from){if(array==null)return-1;var hasIndex=from!=null;if(nativeLastIndexOf&&array.lastIndexOf===nativeLastIndexOf){return hasIndex?array.lastIndexOf(item,from):array.lastIndexOf(item);}
var i=(hasIndex?from:array.length);while(i--)if(array[i]===item)return i;return-1;};_.range=function(start,stop,step){if(arguments.length<=1){stop=start||0;start=0;}
step=arguments[2]||1;var len=Math.max(Math.ceil((stop-start)/step),0);var idx=0;var range=new Array(len);while(idx<len){range[idx++]=start;start+=step;}
return range;};var ctor=function(){};_.bind=function bind(func,context){var bound,args;if(func.bind===nativeBind&&nativeBind)return nativeBind.apply(func,slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError;args=slice.call(arguments,2);return bound=function(){if(!(this instanceof bound))return func.apply(context,args.concat(slice.call(arguments)));ctor.prototype=func.prototype;var self=new ctor;var result=func.apply(self,args.concat(slice.call(arguments)));if(Object(result)===result)return result;return self;};};_.bindAll=function(obj){var funcs=slice.call(arguments,1);if(funcs.length==0)funcs=_.functions(obj);each(funcs,function(f){obj[f]=_.bind(obj[f],obj);});return obj;};_.memoize=function(func,hasher){var memo={};hasher||(hasher=_.identity);return function(){var key=hasher.apply(this,arguments);return _.has(memo,key)?memo[key]:(memo[key]=func.apply(this,arguments));};};_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args);},wait);};_.defer=function(func){return _.delay.apply(_,[func,1].concat(slice.call(arguments,1)));};_.throttle=function(func,wait){var context,args,timeout,throttling,more,result;var whenDone=_.debounce(function(){more=throttling=false;},wait);return function(){context=this;args=arguments;var later=function(){timeout=null;if(more){result=func.apply(context,args);}
whenDone();};if(!timeout)timeout=setTimeout(later,wait);if(throttling){more=true;}else{throttling=true;result=func.apply(context,args);}
whenDone();return result;};};_.debounce=function(func,wait,immediate){var timeout,result;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)result=func.apply(context,args);};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)result=func.apply(context,args);return result;};};_.once=function(func){var ran=false,memo;return function(){if(ran)return memo;ran=true;memo=func.apply(this,arguments);func=null;return memo;};};_.wrap=function(func,wrapper){return function(){var args=[func];push.apply(args,arguments);return wrapper.apply(this,args);};};_.compose=function(){var funcs=arguments;return function(){var args=arguments;for(var i=funcs.length-1;i>=0;i--){args=[funcs[i].apply(this,args)];}
return args[0];};};_.after=function(times,func){if(times<=0)return func();return function(){if(--times<1){return func.apply(this,arguments);}};};_.keys=nativeKeys||function(obj){if(obj!==Object(obj))throw new TypeError('Invalid object');var keys=[];for(var key in obj)if(_.has(obj,key))keys[keys.length]=key;return keys;};_.values=function(obj){var values=[];for(var key in obj)if(_.has(obj,key))values.push(obj[key]);return values;};_.pairs=function(obj){var pairs=[];for(var key in obj)if(_.has(obj,key))pairs.push([key,obj[key]]);return pairs;};_.invert=function(obj){var result={};for(var key in obj)if(_.has(obj,key))result[obj[key]]=key;return result;};_.functions=_.methods=function(obj){var names=[];for(var key in obj){if(_.isFunction(obj[key]))names.push(key);}
return names.sort();};_.extend=function(obj){each(slice.call(arguments,1),function(source){for(var prop in source){obj[prop]=source[prop];}});return obj;};_.pick=function(obj){var copy={};var keys=concat.apply(ArrayProto,slice.call(arguments,1));each(keys,function(key){if(key in obj)copy[key]=obj[key];});return copy;};_.omit=function(obj){var copy={};var keys=concat.apply(ArrayProto,slice.call(arguments,1));for(var key in obj){if(!_.contains(keys,key))copy[key]=obj[key];}
return copy;};_.defaults=function(obj){each(slice.call(arguments,1),function(source){for(var prop in source){if(obj[prop]==null)obj[prop]=source[prop];}});return obj;};_.clone=function(obj){if(!_.isObject(obj))return obj;return _.isArray(obj)?obj.slice():_.extend({},obj);};_.tap=function(obj,interceptor){interceptor(obj);return obj;};var eq=function(a,b,aStack,bStack){if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;if(a instanceof _)a=a._wrapped;if(b instanceof _)b=b._wrapped;var className=toString.call(a);if(className!=toString.call(b))return false;switch(className){case'[object String]':return a==String(b);case'[object Number]':return a!=+a?b!=+b:(a==0?1/a==1/b:a==+b);case'[object Date]':case'[object Boolean]':return+a==+b;case'[object RegExp]':return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase;}
if(typeof a!='object'||typeof b!='object')return false;var length=aStack.length;while(length--){if(aStack[length]==a)return bStack[length]==b;}
aStack.push(a);bStack.push(b);var size=0,result=true;if(className=='[object Array]'){size=a.length;result=size==b.length;if(result){while(size--){if(!(result=eq(a[size],b[size],aStack,bStack)))break;}}}else{var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&(aCtor instanceof aCtor)&&_.isFunction(bCtor)&&(bCtor instanceof bCtor))){return false;}
for(var key in a){if(_.has(a,key)){size++;if(!(result=_.has(b,key)&&eq(a[key],b[key],aStack,bStack)))break;}}
if(result){for(key in b){if(_.has(b,key)&&!(size--))break;}
result=!size;}}
aStack.pop();bStack.pop();return result;};_.isEqual=function(a,b){return eq(a,b,[],[]);};_.isEmpty=function(obj){if(obj==null)return true;if(_.isArray(obj)||_.isString(obj))return obj.length===0;for(var key in obj)if(_.has(obj,key))return false;return true;};_.isElement=function(obj){return!!(obj&&obj.nodeType===1);};_.isArray=nativeIsArray||function(obj){return toString.call(obj)=='[object Array]';};_.isObject=function(obj){return obj===Object(obj);};each(['Arguments','Function','String','Number','Date','RegExp'],function(name){_['is'+name]=function(obj){return toString.call(obj)=='[object '+name+']';};});if(!_.isArguments(arguments)){_.isArguments=function(obj){return!!(obj&&_.has(obj,'callee'));};}
if(typeof(/./)!=='function'){_.isFunction=function(obj){return typeof obj==='function';};}
_.isFinite=function(obj){return _.isNumber(obj)&&isFinite(obj);};_.isNaN=function(obj){return _.isNumber(obj)&&obj!=+obj;};_.isBoolean=function(obj){return obj===true||obj===false||toString.call(obj)=='[object Boolean]';};_.isNull=function(obj){return obj===null;};_.isUndefined=function(obj){return obj===void 0;};_.has=function(obj,key){return hasOwnProperty.call(obj,key);};_.noConflict=function(){root._=previousUnderscore;return this;};_.identity=function(value){return value;};_.times=function(n,iterator,context){for(var i=0;i<n;i++)iterator.call(context,i);};_.random=function(min,max){if(max==null){max=min;min=0;}
return min+(0|Math.random()*(max-min+1));};var entityMap={escape:{'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#x27;','/':'&#x2F;'}};entityMap.unescape=_.invert(entityMap.escape);var entityRegexes={escape:new RegExp('['+_.keys(entityMap.escape).join('')+']','g'),unescape:new RegExp('('+_.keys(entityMap.unescape).join('|')+')','g')};_.each(['escape','unescape'],function(method){_[method]=function(string){if(string==null)return'';return(''+string).replace(entityRegexes[method],function(match){return entityMap[method][match];});};});_.result=function(object,property){if(object==null)return null;var value=object[property];return _.isFunction(value)?value.call(object):value;};_.mixin=function(obj){each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];push.apply(args,arguments);return result.call(this,func.apply(_,args));};});};var idCounter=0;_.uniqueId=function(prefix){var id=idCounter++;return prefix?prefix+id:id;};_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/;var escapes={"'":"'",'\\':'\\','\r':'r','\n':'n','\t':'t','\u2028':'u2028','\u2029':'u2029'};var escaper=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(text,data,settings){settings=_.defaults({},settings,_.templateSettings);var matcher=new RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join('|')+'|$','g');var index=0;var source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){source+=text.slice(index,offset).replace(escaper,function(match){return'\\'+escapes[match];});source+=escape?"'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'":interpolate?"'+\n((__t=("+interpolate+"))==null?'':__t)+\n'":evaluate?"';\n"+evaluate+"\n__p+='":'';index=offset+match.length;});source+="';\n";if(!settings.variable)source='with(obj||{}){\n'+source+'}\n';source="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+
source+"return __p;\n";try{var render=new Function(settings.variable||'obj','_',source);}catch(e){e.source=source;throw e;}
if(data)return render(data,_);var template=function(data){return render.call(this,data,_);};template.source='function('+(settings.variable||'obj')+'){\n'+source+'}';return template;};_.chain=function(obj){return _(obj).chain();};var result=function(obj){return this._chain?_(obj).chain():obj;};_.mixin(_);each(['pop','push','reverse','shift','sort','splice','unshift'],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;method.apply(obj,arguments);if((name=='shift'||name=='splice')&&obj.length===0)delete obj[0];return result.call(this,obj);};});each(['concat','join','slice'],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return result.call(this,method.apply(this._wrapped,arguments));};});_.extend(_.prototype,{chain:function(){this._chain=true;return this;},value:function(){return this._wrapped;}});}).call(this);
(function(){var root=this;var previousBackbone=root.Backbone;var slice=Array.prototype.slice;var splice=Array.prototype.splice;var Backbone;if(typeof exports!=='undefined'){Backbone=exports;}else{Backbone=root.Backbone={};}
Backbone.VERSION='0.9.2';var _=root._;if(!_&&(typeof require!=='undefined'))_=require('underscore');var $=root.jQuery||root.Zepto||root.ender;Backbone.setDomLibrary=function(lib){$=lib;};Backbone.noConflict=function(){root.Backbone=previousBackbone;return this;};Backbone.emulateHTTP=false;Backbone.emulateJSON=false;var eventSplitter=/\s+/;var Events=Backbone.Events={on:function(events,callback,context){var calls,event,node,tail,list;if(!callback)return this;events=events.split(eventSplitter);calls=this._callbacks||(this._callbacks={});while(event=events.shift()){list=calls[event];node=list?list.tail:{};node.next=tail={};node.context=context;node.callback=callback;calls[event]={tail:tail,next:list?list.next:node};}
return this;},off:function(events,callback,context){var event,calls,node,tail,cb,ctx;if(!(calls=this._callbacks))return;if(!(events||callback||context)){delete this._callbacks;return this;}
events=events?events.split(eventSplitter):_.keys(calls);while(event=events.shift()){node=calls[event];delete calls[event];if(!node||!(callback||context))continue;tail=node.tail;while((node=node.next)!==tail){cb=node.callback;ctx=node.context;if((callback&&cb!==callback)||(context&&ctx!==context)){this.on(event,cb,ctx);}}}
return this;},trigger:function(events){var event,node,calls,tail,args,all,rest;if(!(calls=this._callbacks))return this;all=calls.all;events=events.split(eventSplitter);rest=slice.call(arguments,1);while(event=events.shift()){if(node=calls[event]){tail=node.tail;while((node=node.next)!==tail){node.callback.apply(node.context||this,rest);}}
if(node=all){tail=node.tail;args=[event].concat(rest);while((node=node.next)!==tail){node.callback.apply(node.context||this,args);}}}
return this;}};Events.bind=Events.on;Events.unbind=Events.off;var Model=Backbone.Model=function(attributes,options){var defaults;attributes||(attributes={});if(options&&options.parse)attributes=this.parse(attributes);if(defaults=getValue(this,'defaults')){attributes=_.extend({},defaults,attributes);}
if(options&&options.collection)this.collection=options.collection;this.attributes={};this._escapedAttributes={};this.cid=_.uniqueId('c');this.changed={};this._silent={};this._pending={};this.set(attributes,{silent:true});this.changed={};this._silent={};this._pending={};this._previousAttributes=_.clone(this.attributes);this.initialize.apply(this,arguments);};_.extend(Model.prototype,Events,{changed:null,_silent:null,_pending:null,idAttribute:'id',initialize:function(){},toJSON:function(options){return _.clone(this.attributes);},get:function(attr){return this.attributes[attr];},escape:function(attr){var html;if(html=this._escapedAttributes[attr])return html;var val=this.get(attr);return this._escapedAttributes[attr]=_.escape(val==null?'':''+val);},has:function(attr){return this.get(attr)!=null;},set:function(key,value,options){var attrs,attr,val;if(_.isObject(key)||key==null){attrs=key;options=value;}else{attrs={};attrs[key]=value;}
options||(options={});if(!attrs)return this;if(attrs instanceof Model)attrs=attrs.attributes;if(options.unset)for(attr in attrs)attrs[attr]=void 0;if(!this._validate(attrs,options))return false;if(this.idAttribute in attrs)this.id=attrs[this.idAttribute];var changes=options.changes={};var now=this.attributes;var escaped=this._escapedAttributes;var prev=this._previousAttributes||{};for(attr in attrs){val=attrs[attr];if(!_.isEqual(now[attr],val)||(options.unset&&_.has(now,attr))){delete escaped[attr];(options.silent?this._silent:changes)[attr]=true;}
options.unset?delete now[attr]:now[attr]=val;if(!_.isEqual(prev[attr],val)||(_.has(now,attr)!=_.has(prev,attr))){this.changed[attr]=val;if(!options.silent)this._pending[attr]=true;}else{delete this.changed[attr];delete this._pending[attr];}}
if(!options.silent)this.change(options);return this;},unset:function(attr,options){(options||(options={})).unset=true;return this.set(attr,null,options);},clear:function(options){(options||(options={})).unset=true;return this.set(_.clone(this.attributes),options);},fetch:function(options){options=options?_.clone(options):{};var model=this;var success=options.success;options.success=function(resp,status,xhr){if(!model.set(model.parse(resp,xhr),options))return false;if(success)success(model,resp);};options.error=Backbone.wrapError(options.error,model,options);return(this.sync||Backbone.sync).call(this,'read',this,options);},save:function(key,value,options){var attrs,current;if(_.isObject(key)||key==null){attrs=key;options=value;}else{attrs={};attrs[key]=value;}
options=options?_.clone(options):{};if(options.wait){if(!this._validate(attrs,options))return false;current=_.clone(this.attributes);}
var silentOptions=_.extend({},options,{silent:true});if(attrs&&!this.set(attrs,options.wait?silentOptions:options)){return false;}
var model=this;var success=options.success;options.success=function(resp,status,xhr){var serverAttrs=model.parse(resp,xhr);if(options.wait){delete options.wait;serverAttrs=_.extend(attrs||{},serverAttrs);}
if(!model.set(serverAttrs,options))return false;if(success){success(model,resp);}else{model.trigger('sync',model,resp,options);}};options.error=Backbone.wrapError(options.error,model,options);var method=this.isNew()?'create':'update';var xhr=(this.sync||Backbone.sync).call(this,method,this,options);if(options.wait)this.set(current,silentOptions);return xhr;},destroy:function(options){options=options?_.clone(options):{};var model=this;var success=options.success;var triggerDestroy=function(){model.trigger('destroy',model,model.collection,options);};if(this.isNew()){triggerDestroy();return false;}
options.success=function(resp){if(options.wait)triggerDestroy();if(success){success(model,resp);}else{model.trigger('sync',model,resp,options);}};options.error=Backbone.wrapError(options.error,model,options);var xhr=(this.sync||Backbone.sync).call(this,'delete',this,options);if(!options.wait)triggerDestroy();return xhr;},url:function(){var base=getValue(this,'urlRoot')||getValue(this.collection,'url')||urlError();if(this.isNew())return base;return base+(base.charAt(base.length-1)=='/'?'':'/')+encodeURIComponent(this.id);},parse:function(resp,xhr){return resp;},clone:function(){return new this.constructor(this.attributes);},isNew:function(){return this.id==null;},change:function(options){options||(options={});var changing=this._changing;this._changing=true;for(var attr in this._silent)this._pending[attr]=true;var changes=_.extend({},options.changes,this._silent);this._silent={};for(var attr in changes){this.trigger('change:'+attr,this,this.get(attr),options);}
if(changing)return this;while(!_.isEmpty(this._pending)){this._pending={};this.trigger('change',this,options);for(var attr in this.changed){if(this._pending[attr]||this._silent[attr])continue;delete this.changed[attr];}
this._previousAttributes=_.clone(this.attributes);}
this._changing=false;return this;},hasChanged:function(attr){if(!arguments.length)return!_.isEmpty(this.changed);return _.has(this.changed,attr);},changedAttributes:function(diff){if(!diff)return this.hasChanged()?_.clone(this.changed):false;var val,changed=false,old=this._previousAttributes;for(var attr in diff){if(_.isEqual(old[attr],(val=diff[attr])))continue;(changed||(changed={}))[attr]=val;}
return changed;},previous:function(attr){if(!arguments.length||!this._previousAttributes)return null;return this._previousAttributes[attr];},previousAttributes:function(){return _.clone(this._previousAttributes);},isValid:function(){return!this.validate(this.attributes);},_validate:function(attrs,options){if(options.silent||!this.validate)return true;attrs=_.extend({},this.attributes,attrs);var error=this.validate(attrs,options);if(!error)return true;if(options&&options.error){options.error(this,error,options);}else{this.trigger('error',this,error,options);}
return false;}});var Collection=Backbone.Collection=function(models,options){options||(options={});if(options.model)this.model=options.model;if(options.comparator)this.comparator=options.comparator;this._reset();this.initialize.apply(this,arguments);if(models)this.reset(models,{silent:true,parse:options.parse});};_.extend(Collection.prototype,Events,{model:Model,initialize:function(){},toJSON:function(options){return this.map(function(model){return model.toJSON(options);});},add:function(models,options){var i,index,length,model,cid,id,cids={},ids={},dups=[];options||(options={});models=_.isArray(models)?models.slice():[models];for(i=0,length=models.length;i<length;i++){if(!(model=models[i]=this._prepareModel(models[i],options))){throw new Error("Can't add an invalid model to a collection");}
cid=model.cid;id=model.id;if(cids[cid]||this._byCid[cid]||((id!=null)&&(ids[id]||this._byId[id]))){dups.push(i);continue;}
cids[cid]=ids[id]=model;}
i=dups.length;while(i--){models.splice(dups[i],1);}
for(i=0,length=models.length;i<length;i++){(model=models[i]).on('all',this._onModelEvent,this);this._byCid[model.cid]=model;if(model.id!=null)this._byId[model.id]=model;}
this.length+=length;index=options.at!=null?options.at:this.models.length;splice.apply(this.models,[index,0].concat(models));if(this.comparator)this.sort({silent:true});if(options.silent)return this;for(i=0,length=this.models.length;i<length;i++){if(!cids[(model=this.models[i]).cid])continue;options.index=i;model.trigger('add',model,this,options);}
return this;},remove:function(models,options){var i,l,index,model;options||(options={});models=_.isArray(models)?models.slice():[models];for(i=0,l=models.length;i<l;i++){model=this.getByCid(models[i])||this.get(models[i]);if(!model)continue;delete this._byId[model.id];delete this._byCid[model.cid];index=this.indexOf(model);this.models.splice(index,1);this.length--;if(!options.silent){options.index=index;model.trigger('remove',model,this,options);}
this._removeReference(model);}
return this;},push:function(model,options){model=this._prepareModel(model,options);this.add(model,options);return model;},pop:function(options){var model=this.at(this.length-1);this.remove(model,options);return model;},unshift:function(model,options){model=this._prepareModel(model,options);this.add(model,_.extend({at:0},options));return model;},shift:function(options){var model=this.at(0);this.remove(model,options);return model;},get:function(id){if(id==null)return void 0;return this._byId[id.id!=null?id.id:id];},getByCid:function(cid){return cid&&this._byCid[cid.cid||cid];},at:function(index){return this.models[index];},where:function(attrs){if(_.isEmpty(attrs))return[];return this.filter(function(model){for(var key in attrs){if(attrs[key]!==model.get(key))return false;}
return true;});},sort:function(options){options||(options={});if(!this.comparator)throw new Error('Cannot sort a set without a comparator');var boundComparator=_.bind(this.comparator,this);if(this.comparator.length==1){this.models=this.sortBy(boundComparator);}else{this.models.sort(boundComparator);}
if(!options.silent)this.trigger('reset',this,options);return this;},pluck:function(attr){return _.map(this.models,function(model){return model.get(attr);});},reset:function(models,options){models||(models=[]);options||(options={});for(var i=0,l=this.models.length;i<l;i++){this._removeReference(this.models[i]);}
this._reset();this.add(models,_.extend({silent:true},options));if(!options.silent)this.trigger('reset',this,options);return this;},fetch:function(options){options=options?_.clone(options):{};if(options.parse===undefined)options.parse=true;var collection=this;var success=options.success;options.success=function(resp,status,xhr){collection[options.add?'add':'reset'](collection.parse(resp,xhr),options);if(success)success(collection,resp);};options.error=Backbone.wrapError(options.error,collection,options);return(this.sync||Backbone.sync).call(this,'read',this,options);},create:function(model,options){var coll=this;options=options?_.clone(options):{};model=this._prepareModel(model,options);if(!model)return false;if(!options.wait)coll.add(model,options);var success=options.success;options.success=function(nextModel,resp,xhr){if(options.wait)coll.add(nextModel,options);if(success){success(nextModel,resp);}else{nextModel.trigger('sync',model,resp,options);}};model.save(null,options);return model;},parse:function(resp,xhr){return resp;},chain:function(){return _(this.models).chain();},_reset:function(options){this.length=0;this.models=[];this._byId={};this._byCid={};},_prepareModel:function(model,options){options||(options={});if(!(model instanceof Model)){var attrs=model;options.collection=this;model=new this.model(attrs,options);if(!model._validate(model.attributes,options))model=false;}else if(!model.collection){model.collection=this;}
return model;},_removeReference:function(model){if(this==model.collection){delete model.collection;}
model.off('all',this._onModelEvent,this);},_onModelEvent:function(event,model,collection,options){if((event=='add'||event=='remove')&&collection!=this)return;if(event=='destroy'){this.remove(model,options);}
if(model&&event==='change:'+model.idAttribute){delete this._byId[model.previous(model.idAttribute)];this._byId[model.id]=model;}
this.trigger.apply(this,arguments);}});var methods=['forEach','each','map','reduce','reduceRight','find','detect','filter','select','reject','every','all','some','any','include','contains','invoke','max','min','sortBy','sortedIndex','toArray','size','first','initial','rest','last','without','indexOf','shuffle','lastIndexOf','isEmpty','groupBy'];_.each(methods,function(method){Collection.prototype[method]=function(){return _[method].apply(_,[this.models].concat(_.toArray(arguments)));};});var Router=Backbone.Router=function(options){options||(options={});if(options.routes)this.routes=options.routes;this._bindRoutes();this.initialize.apply(this,arguments);};var namedParam=/:\w+/g;var splatParam=/\*\w+/g;var escapeRegExp=/[-[\]{}()+?.,\\^$|#\s]/g;_.extend(Router.prototype,Events,{initialize:function(){},route:function(route,name,callback){Backbone.history||(Backbone.history=new History);if(!_.isRegExp(route))route=this._routeToRegExp(route);if(!callback)callback=this[name];Backbone.history.route(route,_.bind(function(fragment){var args=this._extractParameters(route,fragment);callback&&callback.apply(this,args);this.trigger.apply(this,['route:'+name].concat(args));Backbone.history.trigger('route',this,name,args);},this));return this;},navigate:function(fragment,options){Backbone.history.navigate(fragment,options);},_bindRoutes:function(){if(!this.routes)return;var routes=[];for(var route in this.routes){routes.unshift([route,this.routes[route]]);}
for(var i=0,l=routes.length;i<l;i++){this.route(routes[i][0],routes[i][1],this[routes[i][1]]);}},_routeToRegExp:function(route){route=route.replace(escapeRegExp,'\\$&').replace(namedParam,'([^\/]+)').replace(splatParam,'(.*?)');return new RegExp('^'+route+'$');},_extractParameters:function(route,fragment){return route.exec(fragment).slice(1);}});var History=Backbone.History=function(){this.handlers=[];_.bindAll(this,'checkUrl');};var routeStripper=/^[#\/]/;var isExplorer=/msie [\w.]+/;History.started=false;_.extend(History.prototype,Events,{interval:50,getHash:function(windowOverride){var loc=windowOverride?windowOverride.location:window.location;var match=loc.href.match(/#(.*)$/);return match?match[1]:'';},getFragment:function(fragment,forcePushState){if(fragment==null){if(this._hasPushState||forcePushState){fragment=window.location.pathname;var search=window.location.search;if(search)fragment+=search;}else{fragment=this.getHash();}}
if(!fragment.indexOf(this.options.root))fragment=fragment.substr(this.options.root.length);return fragment.replace(routeStripper,'');},start:function(options){if(History.started)throw new Error("Backbone.history has already been started");History.started=true;this.options=_.extend({},{root:'/'},this.options,options);this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var fragment=this.getFragment();var docMode=document.documentMode;var oldIE=(isExplorer.exec(navigator.userAgent.toLowerCase())&&(!docMode||docMode<=7));if(oldIE){this.iframe=$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo('body')[0].contentWindow;this.navigate(fragment);}
if(this._hasPushState){$(window).bind('popstate',this.checkUrl);}else if(this._wantsHashChange&&('onhashchange'in window)&&!oldIE){$(window).bind('hashchange',this.checkUrl);}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval);}
this.fragment=fragment;var loc=window.location;var atRoot=loc.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!atRoot){this.fragment=this.getFragment(null,true);window.location.replace(this.options.root+'#'+this.fragment);return true;}else if(this._wantsPushState&&this._hasPushState&&atRoot&&loc.hash){this.fragment=this.getHash().replace(routeStripper,'');window.history.replaceState({},document.title,loc.protocol+'//'+loc.host+this.options.root+this.fragment);}
if(!this.options.silent){return this.loadUrl();}},stop:function(){$(window).unbind('popstate',this.checkUrl).unbind('hashchange',this.checkUrl);clearInterval(this._checkUrlInterval);History.started=false;},route:function(route,callback){this.handlers.unshift({route:route,callback:callback});},checkUrl:function(e){var current=this.getFragment();if(current==this.fragment&&this.iframe)current=this.getFragment(this.getHash(this.iframe));if(current==this.fragment)return false;if(this.iframe)this.navigate(current);this.loadUrl()||this.loadUrl(this.getHash());},loadUrl:function(fragmentOverride){var fragment=this.fragment=this.getFragment(fragmentOverride);var matched=_.any(this.handlers,function(handler){if(handler.route.test(fragment)){handler.callback(fragment);return true;}});return matched;},navigate:function(fragment,options){if(!History.started)return false;if(!options||options===true)options={trigger:options};var frag=(fragment||'').replace(routeStripper,'');if(this.fragment==frag)return;if(this._hasPushState){if(frag.indexOf(this.options.root)!=0)frag=this.options.root+frag;this.fragment=frag;window.history[options.replace?'replaceState':'pushState']({},document.title,frag);}else if(this._wantsHashChange){this.fragment=frag;this._updateHash(window.location,frag,options.replace);if(this.iframe&&(frag!=this.getFragment(this.getHash(this.iframe)))){if(!options.replace)this.iframe.document.open().close();this._updateHash(this.iframe.location,frag,options.replace);}}else{window.location.assign(this.options.root+fragment);}
if(options.trigger)this.loadUrl(fragment);},_updateHash:function(location,fragment,replace){if(replace){location.replace(location.toString().replace(/(javascript:|#).*$/,'')+'#'+fragment);}else{location.hash=fragment;}}});var View=Backbone.View=function(options){this.cid=_.uniqueId('view');this._configure(options||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents();};var delegateEventSplitter=/^(\S+)\s*(.*)$/;var viewOptions=['model','collection','el','id','attributes','className','tagName'];_.extend(View.prototype,Events,{tagName:'div',$:function(selector){return this.$el.find(selector);},initialize:function(){},render:function(){return this;},remove:function(){this.$el.remove();return this;},make:function(tagName,attributes,content){var el=document.createElement(tagName);if(attributes)$(el).attr(attributes);if(content)$(el).html(content);return el;},setElement:function(element,delegate){if(this.$el)this.undelegateEvents();this.$el=(element instanceof $)?element:$(element);this.el=this.$el[0];if(delegate!==false)this.delegateEvents();return this;},delegateEvents:function(events){if(!(events||(events=getValue(this,'events'))))return;this.undelegateEvents();for(var key in events){var method=events[key];if(!_.isFunction(method))method=this[events[key]];if(!method)throw new Error('Method "'+events[key]+'" does not exist');var match=key.match(delegateEventSplitter);var eventName=match[1],selector=match[2];method=_.bind(method,this);eventName+='.delegateEvents'+this.cid;if(selector===''){this.$el.bind(eventName,method);}else{this.$el.delegate(selector,eventName,method);}}},undelegateEvents:function(){this.$el.unbind('.delegateEvents'+this.cid);},_configure:function(options){if(this.options)options=_.extend({},this.options,options);for(var i=0,l=viewOptions.length;i<l;i++){var attr=viewOptions[i];if(options[attr])this[attr]=options[attr];}
this.options=options;},_ensureElement:function(){if(!this.el){var attrs=getValue(this,'attributes')||{};if(this.id)attrs.id=this.id;if(this.className)attrs['class']=this.className;this.setElement(this.make(this.tagName,attrs),false);}else{this.setElement(this.el,false);}}});var extend=function(protoProps,classProps){var child=inherits(this,protoProps,classProps);child.extend=this.extend;return child;};Model.extend=Collection.extend=Router.extend=View.extend=extend;var methodMap={'create':'POST','update':'PUT','delete':'DELETE','read':'GET'};Backbone.sync=function(method,model,options){var type=methodMap[method];options||(options={});var params={type:type,dataType:'json'};if(!options.url){params.url=getValue(model,'url')||urlError();}
if(!options.data&&model&&(method=='create'||method=='update')){params.contentType='application/json';params.data=JSON.stringify(model.toJSON());}
if(Backbone.emulateJSON){params.contentType='application/x-www-form-urlencoded';params.data=params.data?{model:params.data}:{};}
if(Backbone.emulateHTTP){if(type==='PUT'||type==='DELETE'){if(Backbone.emulateJSON)params.data._method=type;params.type='POST';params.beforeSend=function(xhr){xhr.setRequestHeader('X-HTTP-Method-Override',type);};}}
if(params.type!=='GET'&&!Backbone.emulateJSON){params.processData=false;}
return $.ajax(_.extend(params,options));};Backbone.wrapError=function(onError,originalModel,options){return function(model,resp){resp=model===originalModel?resp:model;if(onError){onError(originalModel,resp,options);}else{originalModel.trigger('error',originalModel,resp,options);}};};var ctor=function(){};var inherits=function(parent,protoProps,staticProps){var child;if(protoProps&&protoProps.hasOwnProperty('constructor')){child=protoProps.constructor;}else{child=function(){parent.apply(this,arguments);};}
_.extend(child,parent);ctor.prototype=parent.prototype;child.prototype=new ctor();if(protoProps)_.extend(child.prototype,protoProps);if(staticProps)_.extend(child,staticProps);child.prototype.constructor=child;child.__super__=parent.prototype;return child;};var getValue=function(object,prop){if(!(object&&object[prop]))return null;return _.isFunction(object[prop])?object[prop]():object[prop];};var urlError=function(){throw new Error('A "url" property or function must be specified');};}).call(this);
(function(){'use strict';var __hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key];}function ctor(){this.constructor=child;}ctor.prototype=parent.prototype;child.prototype=new ctor();child.__super__=parent.prototype;return child;},__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i;}return-1;},__bind=function(fn,me){return function(){return fn.apply(me,arguments);};},__slice=[].slice;require.define({'jquery':function(require,exports,module){return module.exports=$;},'underscore':function(require,exports,module){return module.exports=_;},'backbone':function(require,exports,module){return module.exports=Backbone;}});require.define({'chaplin/application':function(exports,require,module){var Application,Backbone,Dispatcher,EventBroker,Layout,Router,mediator;Backbone=require('backbone');mediator=require('chaplin/mediator');Dispatcher=require('chaplin/dispatcher');Layout=require('chaplin/views/layout');Router=require('chaplin/lib/router');EventBroker=require('chaplin/lib/event_broker');return module.exports=Application=(function(){function Application(){}
Application.extend=Backbone.Model.extend;_(Application.prototype).extend(EventBroker);Application.prototype.title='';Application.prototype.dispatcher=null;Application.prototype.layout=null;Application.prototype.router=null;Application.prototype.initialize=function(){};Application.prototype.initDispatcher=function(options){return this.dispatcher=new Dispatcher(options);};Application.prototype.initLayout=function(options){var _ref;if(options==null){options={};}
if((_ref=options.title)==null){options.title=this.title;}
return this.layout=new Layout(options);};Application.prototype.initRouter=function(routes,options){this.router=new Router(options);if(typeof routes==="function"){routes(this.router.match);}
return this.router.startHistory();};Application.prototype.disposed=false;Application.prototype.dispose=function(){var prop,properties,_i,_len;if(this.disposed){return;}
properties=['dispatcher','layout','router'];for(_i=0,_len=properties.length;_i<_len;_i++){prop=properties[_i];if(!(this[prop]!=null)){continue;}
this[prop].dispose();delete this[prop];}
this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0;};return Application;})();}});require.define({'chaplin/mediator':function(exports,require,module){var Backbone,mediator,support,utils,_;_=require('underscore');Backbone=require('backbone');support=require('chaplin/lib/support');utils=require('chaplin/lib/utils');mediator={};mediator.subscribe=Backbone.Events.on;mediator.unsubscribe=Backbone.Events.off;mediator.publish=Backbone.Events.trigger;mediator.on=mediator.subscribe;mediator._callbacks=null;utils.readonly(mediator,'subscribe','unsubscribe','publish','on');mediator.seal=function(){if(support.propertyDescriptors&&Object.seal){return Object.seal(mediator);}};utils.readonly(mediator,'seal');return module.exports=mediator;}});require.define({'chaplin/dispatcher':function(exports,require,module){var Backbone,Dispatcher,EventBroker,utils,_;_=require('underscore');Backbone=require('backbone');utils=require('chaplin/lib/utils');EventBroker=require('chaplin/lib/event_broker');return module.exports=Dispatcher=(function(){Dispatcher.extend=Backbone.Model.extend;_(Dispatcher.prototype).extend(EventBroker);Dispatcher.prototype.previousControllerName=null;Dispatcher.prototype.currentControllerName=null;Dispatcher.prototype.currentController=null;Dispatcher.prototype.currentAction=null;Dispatcher.prototype.currentParams=null;Dispatcher.prototype.url=null;function Dispatcher(){this.initialize.apply(this,arguments);}
Dispatcher.prototype.initialize=function(options){if(options==null){options={};}
this.settings=_(options).defaults({controllerPath:'controllers/',controllerSuffix:'_controller'});this.subscribeEvent('matchRoute',this.matchRoute);return this.subscribeEvent('!startupController',this.startupController);};Dispatcher.prototype.matchRoute=function(route,params,options){return this.startupController(route.controller,route.action,params,options);};Dispatcher.prototype.startupController=function(controllerName,action,params,options){var handler,isSameController;if(action==null){action='index';}
if(params==null){params={};}
if(options==null){options={};}
if(options.changeURL!==false){options.changeURL=true;}
if(options.forceStartup!==true){options.forceStartup=false;}
isSameController=!options.forceStartup&&this.currentControllerName===controllerName&&this.currentAction===action&&(!this.currentParams||_(params).isEqual(this.currentParams));if(isSameController){return;}
handler=_(this.controllerLoaded).bind(this,controllerName,action,params,options);return this.loadController(controllerName,handler);};Dispatcher.prototype.loadController=function(controllerName,handler){var controllerFileName,path;controllerFileName=utils.underscorize(controllerName)+this.settings.controllerSuffix;path=this.settings.controllerPath+controllerFileName;if(typeof define!=="undefined"&&define!==null?define.amd:void 0){return require([path],handler);}else{return handler(require(path));}};Dispatcher.prototype.controllerLoaded=function(controllerName,action,params,options,ControllerConstructor){var controller,currentController,currentControllerName;currentControllerName=this.currentControllerName||null;currentController=this.currentController||null;if(currentController){this.publishEvent('beforeControllerDispose',currentController);currentController.dispose(params,controllerName);}
controller=new ControllerConstructor(params,currentControllerName);controller[action](params,currentControllerName);if(controller.redirected){return;}
this.previousControllerName=currentControllerName;this.currentControllerName=controllerName;this.currentController=controller;this.currentAction=action;this.currentParams=params;this.adjustURL(controller,params,options);return this.publishEvent('startupController',{previousControllerName:this.previousControllerName,controller:this.currentController,controllerName:this.currentControllerName,params:this.currentParams});};Dispatcher.prototype.adjustURL=function(controller,params,options){var url;if(typeof options.path==='string'){url=options.path;}else if(typeof controller.historyURL==='function'){url=controller.historyURL(params);}else if(typeof controller.historyURL==='string'){url=controller.historyURL;}else{throw new Error('Dispatcher#adjustURL: controller for '+(""+this.currentControllerName+" does not provide a historyURL"));}
if(options.changeURL){this.publishEvent('!router:changeURL',url,options);}
return this.url=url;};Dispatcher.prototype.disposed=false;Dispatcher.prototype.dispose=function(){if(this.disposed){return;}
this.unsubscribeAllEvents();this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0;};return Dispatcher;})();}});require.define({'chaplin/controllers/controller':function(exports,require,module){var Backbone,Controller,EventBroker,_;_=require('underscore');Backbone=require('backbone');EventBroker=require('chaplin/lib/event_broker');return module.exports=Controller=(function(){Controller.extend=Backbone.Model.extend;_(Controller.prototype).extend(EventBroker);Controller.prototype.view=null;Controller.prototype.currentId=null;Controller.prototype.redirected=false;function Controller(){this.initialize.apply(this,arguments);}
Controller.prototype.initialize=function(){};Controller.prototype.redirectTo=function(arg1,action,params,options){this.redirected=true;if(arguments.length===1){return this.publishEvent('!router:route',arg1,{},function(routed){if(!routed){throw new Error('Controller#redirectTo: no route matched');}});}else{return this.publishEvent('!startupController',arg1,action,params,options);}};Controller.prototype.disposed=false;Controller.prototype.dispose=function(){var obj,prop,properties,_i,_len;if(this.disposed){return;}
for(prop in this){if(!__hasProp.call(this,prop))continue;obj=this[prop];if(obj&&typeof obj.dispose==='function'){obj.dispose();delete this[prop];}}
this.unsubscribeAllEvents();properties=['currentId','redirected'];for(_i=0,_len=properties.length;_i<_len;_i++){prop=properties[_i];delete this[prop];}
this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0;};return Controller;})();}});require.define({'chaplin/models/collection':function(exports,require,module){var Backbone,Collection,EventBroker,Model,_;_=require('underscore');Backbone=require('backbone');EventBroker=require('chaplin/lib/event_broker');Model=require('chaplin/models/model');return module.exports=Collection=(function(_super){__extends(Collection,_super);function Collection(){return Collection.__super__.constructor.apply(this,arguments);}
_(Collection.prototype).extend(EventBroker);Collection.prototype.model=Model;Collection.prototype.initDeferred=function(){return _(this).extend($.Deferred());};Collection.prototype.serialize=function(){var model,_i,_len,_ref,_results;_ref=this.models;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){model=_ref[_i];if(model instanceof Model){_results.push(model.serialize());}else{_results.push(model.toJSON());}}
return _results;};Collection.prototype.addAtomic=function(models,options){var direction,model;if(options==null){options={};}
if(!models.length){return;}
options.silent=true;direction=typeof options.at==='number'?'pop':'shift';while(model=models[direction]()){this.add(model,options);}
return this.trigger('reset');};Collection.prototype.update=function(models,options){var fingerPrint,i,ids,model,newFingerPrint,preexistent,_i,_ids,_len;if(options==null){options={};}
fingerPrint=this.pluck('id').join();ids=_(models).pluck('id');newFingerPrint=ids.join();if(newFingerPrint!==fingerPrint){_ids=_(ids);i=this.models.length;while(i--){model=this.models[i];if(!_ids.include(model.id)){this.remove(model);}}}
if(newFingerPrint!==fingerPrint||options.deep){for(i=_i=0,_len=models.length;_i<_len;i=++_i){model=models[i];preexistent=this.get(model.id);if(preexistent){if(options.deep){preexistent.set(model);}}else{this.add(model,{at:i});}}}};Collection.prototype.disposed=false;Collection.prototype.dispose=function(){var prop,properties,_i,_len;if(this.disposed){return;}
this.trigger('dispose',this);this.reset([],{silent:true});this.unsubscribeAllEvents();this.off();if(typeof this.reject==="function"){this.reject();}
properties=['model','models','_byId','_byCid','_callbacks'];for(_i=0,_len=properties.length;_i<_len;_i++){prop=properties[_i];delete this[prop];}
this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0;};return Collection;})(Backbone.Collection);}});require.define({'chaplin/models/model':function(exports,require,module){var Backbone,EventBroker,Model,utils,_;_=require('underscore');Backbone=require('backbone');utils=require('chaplin/lib/utils');EventBroker=require('chaplin/lib/event_broker');return module.exports=Model=(function(_super){var serializeAttributes,serializeModelAttributes;__extends(Model,_super);function Model(){return Model.__super__.constructor.apply(this,arguments);}
_(Model.prototype).extend(EventBroker);Model.prototype.initDeferred=function(){return _(this).extend($.Deferred());};Model.prototype.getAttributes=function(){return this.attributes;};serializeAttributes=function(model,attributes,modelStack){var delegator,key,otherModel,serializedModels,value,_i,_len,_ref;delegator=utils.beget(attributes);if(modelStack){modelStack.push(model);}else{modelStack=[model];}
for(key in attributes){value=attributes[key];if(value instanceof Backbone.Model){delegator[key]=serializeModelAttributes(value,model,modelStack);}else if(value instanceof Backbone.Collection){serializedModels=[];_ref=value.models;for(_i=0,_len=_ref.length;_i<_len;_i++){otherModel=_ref[_i];serializedModels.push(serializeModelAttributes(otherModel,model,modelStack));}
delegator[key]=serializedModels;}}
modelStack.pop();return delegator;};serializeModelAttributes=function(model,currentModel,modelStack){var attributes;if(model===currentModel||__indexOf.call(modelStack,model)>=0){return null;}
attributes=typeof model.getAttributes==='function'?model.getAttributes():model.attributes;return serializeAttributes(model,attributes,modelStack);};Model.prototype.serialize=function(){return serializeAttributes(this,this.getAttributes());};Model.prototype.disposed=false;Model.prototype.dispose=function(){var prop,properties,_i,_len;if(this.disposed){return;}
this.trigger('dispose',this);this.unsubscribeAllEvents();this.off();if(typeof this.reject==="function"){this.reject();}
properties=['collection','attributes','changed','_escapedAttributes','_previousAttributes','_silent','_pending','_callbacks'];for(_i=0,_len=properties.length;_i<_len;_i++){prop=properties[_i];delete this[prop];}
this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0;};return Model;})(Backbone.Model);}});require.define({'chaplin/views/layout':function(exports,require,module){var $,Backbone,EventBroker,Layout,utils,_;$=require('jquery');_=require('underscore');Backbone=require('backbone');utils=require('chaplin/lib/utils');EventBroker=require('chaplin/lib/event_broker');return module.exports=Layout=(function(){Layout.extend=Backbone.Model.extend;_(Layout.prototype).extend(EventBroker);Layout.prototype.title='';Layout.prototype.events={};Layout.prototype.el=document;Layout.prototype.$el=$(document);Layout.prototype.cid='chaplin-layout';function Layout(){this.openLink=__bind(this.openLink,this);this.initialize.apply(this,arguments);}
Layout.prototype.initialize=function(options){if(options==null){options={};}
this.title=options.title;this.settings=_(options).defaults({titleTemplate:_.template("<%= subtitle %> \u2013 <%= title %>"),openExternalToBlank:false,routeLinks:'a, .go-to',skipRouting:'.noscript',scrollTo:[0,0]});this.subscribeEvent('beforeControllerDispose',this.hideOldView);this.subscribeEvent('startupController',this.showNewView);this.subscribeEvent('startupController',this.adjustTitle);if(this.settings.routeLinks){this.startLinkRouting();}
return this.delegateEvents();};Layout.prototype.delegateEvents=Backbone.View.prototype.delegateEvents;Layout.prototype.undelegateEvents=Backbone.View.prototype.undelegateEvents;Layout.prototype.hideOldView=function(controller){var scrollTo,view;scrollTo=this.settings.scrollTo;if(scrollTo){window.scrollTo(scrollTo[0],scrollTo[1]);}
view=controller.view;if(view){return view.$el.css('display','none');}};Layout.prototype.showNewView=function(context){var view;view=context.controller.view;if(view){return view.$el.css({display:'block',opacity:1,visibility:'visible'});}};Layout.prototype.adjustTitle=function(context){var subtitle,title;title=this.title||'';subtitle=context.controller.title||'';title=this.settings.titleTemplate({title:title,subtitle:subtitle});return setTimeout((function(){return document.title=title;}),50);};Layout.prototype.startLinkRouting=function(){if(this.settings.routeLinks){return $(document).on('click',this.settings.routeLinks,this.openLink);}};Layout.prototype.stopLinkRouting=function(){if(this.settings.routeLinks){return $(document).off('click',this.settings.routeLinks);}};Layout.prototype.openLink=function(event){var $el,el,href,internal,isAnchor,path,skipRouting,type,_ref,_ref1;if(utils.modifierKeyPressed(event)){return;}
el=event.currentTarget;$el=$(el);isAnchor=el.nodeName==='A';href=$el.attr('href')||$el.data('href')||null;if(href===null||href===void 0||href===''||href.charAt(0)==='#'){return;}
if(isAnchor&&($el.attr('target')==='_blank'||$el.attr('rel')==='external'||((_ref=el.protocol)!=='http:'&&_ref!=='https:'&&_ref!=='file:'))){return;}
skipRouting=this.settings.skipRouting;type=typeof skipRouting;if(type==='function'&&!skipRouting(href,el)||type==='string'&&$el.is(skipRouting)){return;}
internal=!isAnchor||((_ref1=el.hostname)===location.hostname||_ref1==='');if(!internal){if(this.settings.openExternalToBlank){event.preventDefault();window.open(el.href);}
return;}
if(isAnchor){path=el.pathname+el.search;if(path.charAt(0)!=='/'){path="/"+path;}}else{path=href;}
this.publishEvent('!router:route',path,{},function(routed){if(routed){event.preventDefault();}else if(!isAnchor){location.href=path;}});};Layout.prototype.disposed=false;Layout.prototype.dispose=function(){if(this.disposed){return;}
this.stopLinkRouting();this.unsubscribeAllEvents();this.undelegateEvents();delete this.title;this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0;};return Layout;})();}});require.define({'chaplin/views/view':function(exports,require,module){var $,Backbone,Collection,EventBroker,Model,View,utils,_;$=require('jquery');_=require('underscore');Backbone=require('backbone');utils=require('chaplin/lib/utils');EventBroker=require('chaplin/lib/event_broker');Model=require('chaplin/models/model');Collection=require('chaplin/models/collection');return module.exports=View=(function(_super){__extends(View,_super);_(View.prototype).extend(EventBroker);View.prototype.autoRender=false;View.prototype.container=null;View.prototype.containerMethod='append';View.prototype.subviews=null;View.prototype.subviewsByName=null;function View(options){if(this.initialize!==View.prototype.initialize){utils.wrapMethod(this,'initialize');}
if(this.render!==View.prototype.render){utils.wrapMethod(this,'render');}else{this.render=_(this.render).bind(this);}
if(options){_(this).extend(_.pick(options,['autoRender','container','containerMethod']));}
View.__super__.constructor.apply(this,arguments);}
View.prototype.initialize=function(options){this.subviews=[];this.subviewsByName={};if(this.model||this.collection){this.modelBind('dispose',this.dispose);}
if(!this.initializeIsWrapped){return this.afterInitialize();}};View.prototype.afterInitialize=function(){if(this.autoRender){return this.render();}};View.prototype.delegate=function(eventType,second,third){var event,events,handler,list,selector;if(typeof eventType!=='string'){throw new TypeError('View#delegate: first argument must be a string');}
if(arguments.length===2){handler=second;}else if(arguments.length===3){selector=second;if(typeof selector!=='string'){throw new TypeError('View#delegate: '+'second argument must be a string');}
handler=third;}else{throw new TypeError('View#delegate: '+'only two or three arguments are allowed');}
if(typeof handler!=='function'){throw new TypeError('View#delegate: '+'handler argument must be function');}
list=(function(){var _i,_len,_ref,_results;_ref=eventType.split(' ');_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){event=_ref[_i];_results.push(""+event+".delegate"+this.cid);}
return _results;}).call(this);events=list.join(' ');handler=_(handler).bind(this);if(selector){this.$el.on(events,selector,handler);}else{this.$el.on(events,handler);}
return handler;};View.prototype.undelegate=function(){return this.$el.unbind(".delegate"+this.cid);};View.prototype.modelBind=function(type,handler){var modelOrCollection;if(typeof type!=='string'){throw new TypeError('View#modelBind: '+'type must be a string');}
if(typeof handler!=='function'){throw new TypeError('View#modelBind: '+'handler argument must be function');}
modelOrCollection=this.model||this.collection;if(!modelOrCollection){throw new TypeError('View#modelBind: no model or collection set');}
modelOrCollection.off(type,handler,this);return modelOrCollection.on(type,handler,this);};View.prototype.modelUnbind=function(type,handler){var modelOrCollection;if(typeof type!=='string'){throw new TypeError('View#modelUnbind: '+'type argument must be a string');}
if(typeof handler!=='function'){throw new TypeError('View#modelUnbind: '+'handler argument must be a function');}
modelOrCollection=this.model||this.collection;if(!modelOrCollection){return;}
return modelOrCollection.off(type,handler);};View.prototype.modelUnbindAll=function(){var modelOrCollection;modelOrCollection=this.model||this.collection;if(!modelOrCollection){return;}
return modelOrCollection.off(null,null,this);};View.prototype.pass=function(attribute,selector){var _this=this;return this.modelBind("change:"+attribute,function(model,value){var $el;$el=_this.$(selector);if($el.is('input, textarea, select, button')){return $el.val(value);}else{return $el.text(value);}});};View.prototype.subview=function(name,view){if(name&&view){this.removeSubview(name);this.subviews.push(view);this.subviewsByName[name]=view;return view;}else if(name){return this.subviewsByName[name];}};View.prototype.removeSubview=function(nameOrView){var index,name,otherName,otherView,view,_ref;if(!nameOrView){return;}
if(typeof nameOrView==='string'){name=nameOrView;view=this.subviewsByName[name];}else{view=nameOrView;_ref=this.subviewsByName;for(otherName in _ref){otherView=_ref[otherName];if(view===otherView){name=otherName;break;}}}
if(!(name&&view&&view.dispose)){return;}
view.dispose();index=_(this.subviews).indexOf(view);if(index>-1){this.subviews.splice(index,1);}
return delete this.subviewsByName[name];};View.prototype.getTemplateData=function(){var items,model,modelOrCollection,templateData,_i,_len,_ref;if(this.model){templateData=this.model instanceof Model?this.model.serialize():utils.beget(this.model.attributes);}else if(this.collection){if(this.collection instanceof Collection){items=this.collection.serialize();}else{items=[];_ref=this.collection.models;for(_i=0,_len=_ref.length;_i<_len;_i++){model=_ref[_i];items.push(utils.beget(model.attributes));}}
templateData={items:items};}else{templateData={};}
modelOrCollection=this.model||this.collection;if(modelOrCollection){if(typeof modelOrCollection.state==='function'&&!('resolved'in templateData)){templateData.resolved=modelOrCollection.state()==='resolved';}
if(typeof modelOrCollection.isSynced==='function'&&!('synced'in templateData)){templateData.synced=modelOrCollection.isSynced();}}
return templateData;};View.prototype.getTemplateFunction=function(){throw new Error('View#getTemplateFunction must be overridden');};View.prototype.render=function(){var html,templateFunc;if(this.disposed){return false;}
templateFunc=this.getTemplateFunction();if(typeof templateFunc==='function'){html=templateFunc(this.getTemplateData());this.$el.empty().append(html);}
if(!this.renderIsWrapped){this.afterRender();}
return this;};View.prototype.afterRender=function(){if(this.container){$(this.container)[this.containerMethod](this.el);return this.trigger('addedToDOM');}};View.prototype.disposed=false;View.prototype.dispose=function(){var prop,properties,subview,_i,_j,_len,_len1,_ref;if(this.disposed){return;}
if(this.subviews==null){throw new Error('Your `initialize` method must include a super call to\
        Chaplin `initialize`');}
_ref=this.subviews;for(_i=0,_len=_ref.length;_i<_len;_i++){subview=_ref[_i];subview.dispose();}
this.unsubscribeAllEvents();this.modelUnbindAll();this.off();this.$el.remove();properties=['el','$el','options','model','collection','subviews','subviewsByName','_callbacks'];for(_j=0,_len1=properties.length;_j<_len1;_j++){prop=properties[_j];delete this[prop];}
this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0;};return View;})(Backbone.View);}});require.define({'chaplin/views/collection_view':function(exports,require,module){var $,CollectionView,View,_;$=require('jquery');_=require('underscore');View=require('chaplin/views/view');return module.exports=CollectionView=(function(_super){__extends(CollectionView,_super);CollectionView.prototype.itemView=null;CollectionView.prototype.autoRender=true;CollectionView.prototype.renderItems=true;CollectionView.prototype.animationDuration=500;CollectionView.prototype.useCssAnimation=false;CollectionView.prototype.listSelector=null;CollectionView.prototype.$list=null;CollectionView.prototype.fallbackSelector=null;CollectionView.prototype.$fallback=null;CollectionView.prototype.loadingSelector=null;CollectionView.prototype.$loading=null;CollectionView.prototype.itemSelector=null;CollectionView.prototype.filterer=null;CollectionView.prototype.filterCallback=function(view,included){var display;display=included?'':'none';return view.$el.stop(true,true).css('display',display);};CollectionView.prototype.visibleItems=null;function CollectionView(options){this.renderAllItems=__bind(this.renderAllItems,this);this.showHideFallback=__bind(this.showHideFallback,this);this.itemsResetted=__bind(this.itemsResetted,this);this.itemRemoved=__bind(this.itemRemoved,this);this.itemAdded=__bind(this.itemAdded,this);if(options){_(this).extend(_.pick(options,['renderItems','itemView']));}
CollectionView.__super__.constructor.apply(this,arguments);}
CollectionView.prototype.initialize=function(options){if(options==null){options={};}
CollectionView.__super__.initialize.apply(this,arguments);this.visibleItems=[];this.addCollectionListeners();if(options.filterer!=null){return this.filter(options.filterer);}};CollectionView.prototype.addCollectionListeners=function(){this.modelBind('add',this.itemAdded);this.modelBind('remove',this.itemRemoved);return this.modelBind('reset',this.itemsResetted);};CollectionView.prototype.getTemplateFunction=function(){};CollectionView.prototype.render=function(){CollectionView.__super__.render.apply(this,arguments);this.$list=this.listSelector?this.$(this.listSelector):this.$el;this.initFallback();this.initLoadingIndicator();if(this.renderItems){return this.renderAllItems();}};CollectionView.prototype.itemAdded=function(item,collection,options){if(options==null){options={};}
return this.renderAndInsertItem(item,options.index);};CollectionView.prototype.itemRemoved=function(item){return this.removeViewForItem(item);};CollectionView.prototype.itemsResetted=function(){return this.renderAllItems();};CollectionView.prototype.initFallback=function(){if(!this.fallbackSelector){return;}
this.$fallback=this.$(this.fallbackSelector);this.on('visibilityChange',this.showHideFallback);this.modelBind('syncStateChange',this.showHideFallback);return this.showHideFallback();};CollectionView.prototype.showHideFallback=function(){var visible;visible=this.visibleItems.length===0&&(typeof this.collection.isSynced==='function'?this.collection.isSynced():true);return this.$fallback.css('display',visible?'block':'none');};CollectionView.prototype.initLoadingIndicator=function(){if(!(this.loadingSelector&&typeof this.collection.isSyncing==='function')){return;}
this.$loading=this.$(this.loadingSelector);this.modelBind('syncStateChange',this.showHideLoadingIndicator);return this.showHideLoadingIndicator();};CollectionView.prototype.showHideLoadingIndicator=function(){var visible;visible=this.collection.length===0&&this.collection.isSyncing();return this.$loading.css('display',visible?'block':'none');};CollectionView.prototype.getItemViews=function(){var itemViews,name,view,_ref;itemViews={};_ref=this.subviewsByName;for(name in _ref){view=_ref[name];if(name.slice(0,9)==='itemView:'){itemViews[name.slice(9)]=view;}}
return itemViews;};CollectionView.prototype.filter=function(filterer,filterCallback){var included,index,item,view,_i,_len,_ref;this.filterer=filterer;if(filterCallback){this.filterCallback=filterCallback;}
if(filterCallback==null){filterCallback=this.filterCallback;}
if(!_(this.getItemViews()).isEmpty()){_ref=this.collection.models;for(index=_i=0,_len=_ref.length;_i<_len;index=++_i){item=_ref[index];included=typeof filterer==='function'?filterer(item,index):true;view=this.subview("itemView:"+item.cid);if(!view){throw new Error('CollectionView#filter: '+("no view found for "+item.cid));}
this.filterCallback(view,included);this.updateVisibleItems(view.model,included,false);}}
return this.trigger('visibilityChange',this.visibleItems);};CollectionView.prototype.renderAllItems=function(){var cid,index,item,items,remainingViewsByCid,view,_i,_j,_len,_len1,_ref;items=this.collection.models;this.visibleItems=[];remainingViewsByCid={};for(_i=0,_len=items.length;_i<_len;_i++){item=items[_i];view=this.subview("itemView:"+item.cid);if(view){remainingViewsByCid[item.cid]=view;}}
_ref=this.getItemViews();for(cid in _ref){if(!__hasProp.call(_ref,cid))continue;view=_ref[cid];if(!(cid in remainingViewsByCid)){this.removeSubview("itemView:"+cid);}}
for(index=_j=0,_len1=items.length;_j<_len1;index=++_j){item=items[index];view=this.subview("itemView:"+item.cid);if(view){this.insertView(item,view,index,false);}else{this.renderAndInsertItem(item,index);}}
if(!items.length){return this.trigger('visibilityChange',this.visibleItems);}};CollectionView.prototype.renderAndInsertItem=function(item,index){var view;view=this.renderItem(item);return this.insertView(item,view,index);};CollectionView.prototype.renderItem=function(item){var view;view=this.subview("itemView:"+item.cid);if(!view){view=this.getView(item);this.subview("itemView:"+item.cid,view);}
view.render();return view;};CollectionView.prototype.getView=function(model){if(this.itemView){return new this.itemView({model:model});}else{throw new Error('The CollectionView#itemView property '+'must be defined or the getView() must be overridden.');}};CollectionView.prototype.insertView=function(item,view,index,enableAnimation){var $list,$next,$previous,$viewEl,children,included,length,position,viewEl,_this=this;if(index==null){index=null;}
if(enableAnimation==null){enableAnimation=true;}
position=typeof index==='number'?index:this.collection.indexOf(item);included=typeof this.filterer==='function'?this.filterer(item,position):true;viewEl=view.el;$viewEl=view.$el;if(included){if(enableAnimation){if(this.useCssAnimation){$viewEl.addClass('animated-item-view');}else{$viewEl.css('opacity',0);}}}else{this.filterCallback(view,included);}
$list=this.$list;children=this.itemSelector?$list.children(this.itemSelector):$list.children();if(children.get(position)!==viewEl){length=children.length;if(length===0||position===length){$list.append(viewEl);}else{if(position===0){$next=children.eq(position);$next.before(viewEl);}else{$previous=children.eq(position-1);$previous.after(viewEl);}}}
view.trigger('addedToDOM');this.updateVisibleItems(item,included);if(enableAnimation&&included){if(this.useCssAnimation){setTimeout(function(){return $viewEl.addClass('animated-item-view-end');},0);}else{$viewEl.animate({opacity:1},this.animationDuration);}}};CollectionView.prototype.removeViewForItem=function(item){this.updateVisibleItems(item,false);return this.removeSubview("itemView:"+item.cid);};CollectionView.prototype.updateVisibleItems=function(item,includedInFilter,triggerEvent){var includedInVisibleItems,visibilityChanged,visibleItemsIndex;if(triggerEvent==null){triggerEvent=true;}
visibilityChanged=false;visibleItemsIndex=_(this.visibleItems).indexOf(item);includedInVisibleItems=visibleItemsIndex>-1;if(includedInFilter&&!includedInVisibleItems){this.visibleItems.push(item);visibilityChanged=true;}else if(!includedInFilter&&includedInVisibleItems){this.visibleItems.splice(visibleItemsIndex,1);visibilityChanged=true;}
if(visibilityChanged&&triggerEvent){this.trigger('visibilityChange',this.visibleItems);}
return visibilityChanged;};CollectionView.prototype.dispose=function(){var prop,properties,_i,_len;if(this.disposed){return;}
properties=['$list','$fallback','$loading','visibleItems'];for(_i=0,_len=properties.length;_i<_len;_i++){prop=properties[_i];delete this[prop];}
return CollectionView.__super__.dispose.apply(this,arguments);};return CollectionView;})(View);}});require.define({'chaplin/lib/route':function(exports,require,module){var Backbone,Controller,EventBroker,Route,_;_=require('underscore');Backbone=require('backbone');EventBroker=require('chaplin/lib/event_broker');Controller=require('chaplin/controllers/controller');return module.exports=Route=(function(){var escapeRegExp,queryStringFieldSeparator,queryStringValueSeparator,reservedParams;Route.extend=Backbone.Model.extend;_(Route.prototype).extend(EventBroker);reservedParams=['path','changeURL'];escapeRegExp=/[-[\]{}()+?.,\\^$|#\s]/g;queryStringFieldSeparator='&';queryStringValueSeparator='=';function Route(pattern,target,options){var _ref;this.options=options!=null?options:{};this.handler=__bind(this.handler,this);this.addParamName=__bind(this.addParamName,this);this.pattern=pattern;if(this.options.name!=null){this.name=this.options.name;}
_ref=target.split('#'),this.controller=_ref[0],this.action=_ref[1];if(_(Controller.prototype).has(this.action)){throw new Error('Route: You should not use existing controller properties as action names');}
this.createRegExp();}
Route.prototype.reverse=function(params){var name,url,value;url=this.pattern;if(_.isRegExp(url)){return false;}
for(name in params){value=params[name];url=url.replace(RegExp(":"+name,"g"),value);url=url.replace(RegExp("\\*"+name,"g"),value);}
if(this.test(url)){return url;}else{return false;}};Route.prototype.createRegExp=function(){var pattern;if(_.isRegExp(this.pattern)){this.regExp=this.pattern;if(_.isArray(this.options.names)){this.paramNames=this.options.names;}
return;}
pattern=this.pattern.replace(escapeRegExp,'\\$&').replace(/(?::|\*)(\w+)/g,this.addParamName);return this.regExp=RegExp("^"+pattern+"(?=\\?|$)");};Route.prototype.addParamName=function(match,paramName){var _ref;if((_ref=this.paramNames)==null){this.paramNames=[];}
if(_(reservedParams).include(paramName)){throw new Error("Route#addParamName: parameter name "+paramName+" is reserved");}
this.paramNames.push(paramName);if(match.charAt(0)===':'){return'([^\/\?]+)';}else{return'(.*?)';}};Route.prototype.test=function(path){var constraint,constraints,matched,name,params;matched=this.regExp.test(path);if(!matched){return false;}
constraints=this.options.constraints;if(constraints){params=this.extractParams(path);for(name in constraints){if(!__hasProp.call(constraints,name))continue;constraint=constraints[name];if(!constraint.test(params[name])){return false;}}}
return true;};Route.prototype.handler=function(path,options){var params;if(options==null){options={};}
params=this.buildParams(path);options.path=path;return this.publishEvent('matchRoute',this,params,options);};Route.prototype.buildParams=function(path){return _.extend({},this.extractQueryParams(path),this.extractParams(path),this.options.params);};Route.prototype.extractParams=function(path){var index,match,matches,paramName,params,_i,_len,_ref;params={};matches=this.regExp.exec(path);_ref=matches.slice(1);for(index=_i=0,_len=_ref.length;_i<_len;index=++_i){match=_ref[index];paramName=this.paramNames?this.paramNames[index]:index;params[paramName]=match;}
return params;};Route.prototype.extractQueryParams=function(path){var current,field,matches,pair,pairs,params,queryString,regExp,value,_i,_len,_ref;params={};regExp=/\?(.+?)(?=#|$)/;matches=regExp.exec(path);if(!matches){return params;}
queryString=matches[1];pairs=queryString.split(queryStringFieldSeparator);for(_i=0,_len=pairs.length;_i<_len;_i++){pair=pairs[_i];if(!pair.length){continue;}
_ref=pair.split(queryStringValueSeparator),field=_ref[0],value=_ref[1];if(!field.length){continue;}
field=decodeURIComponent(field);value=decodeURIComponent(value);current=params[field];if(current){if(current.push){current.push(value);}else{params[field]=[current,value];}}else{params[field]=value;}}
return params;};return Route;})();}});require.define({'chaplin/lib/router':function(exports,require,module){var Backbone,EventBroker,Route,Router,mediator,_;_=require('underscore');Backbone=require('backbone');mediator=require('chaplin/mediator');EventBroker=require('chaplin/lib/event_broker');Route=require('chaplin/lib/route');return module.exports=Router=(function(){Router.extend=Backbone.Model.extend;_(Router.prototype).extend(EventBroker);function Router(options){this.options=options!=null?options:{};this.route=__bind(this.route,this);this.match=__bind(this.match,this);_(this.options).defaults({pushState:true});this.subscribeEvent('!router:route',this.routeHandler);this.subscribeEvent('!router:reverse',this.reverseHandler);this.subscribeEvent('!router:changeURL',this.changeURLHandler);this.createHistory();}
Router.prototype.createHistory=function(){return Backbone.history||(Backbone.history=new Backbone.History());};Router.prototype.startHistory=function(){return Backbone.history.start(this.options);};Router.prototype.stopHistory=function(){if(Backbone.History.started){return Backbone.history.stop();}};Router.prototype.match=function(pattern,target,options){var route;if(options==null){options={};}
route=new Route(pattern,target,options);Backbone.history.handlers.push({route:route,callback:route.handler});return route;};Router.prototype.route=function(path,options){var handler,_i,_len,_ref;if(options==null){options={};}
_(options).defaults({changeURL:true});path=path.replace(/^(\/#|\/)/,'');_ref=Backbone.history.handlers;for(_i=0,_len=_ref.length;_i<_len;_i++){handler=_ref[_i];if(handler.route.test(path)){handler.callback(path,options);return true;}}
return false;};Router.prototype.reverseHandler=function(name,params,callback){return callback(this.reverse(name,params));};Router.prototype.reverse=function(name,params){var handler,url,_i,_len,_ref;_ref=Backbone.history.handlers;for(_i=0,_len=_ref.length;_i<_len;_i++){handler=_ref[_i];if(!(handler.route.name===name)){continue;}
url=handler.route.reverse(params);if(url!==false){return url;}}
return false;};Router.prototype.routeHandler=function(path,options,callback){var routed;if(arguments.length===2&&typeof options==='function'){callback=options;options={};}
routed=this.route(path,options);return typeof callback==="function"?callback(routed):void 0;};Router.prototype.changeURL=function(url,options){var navigateOptions;if(options==null){options={};}
navigateOptions={trigger:options.trigger===true,replace:options.replace===true};return Backbone.history.navigate(url,navigateOptions);};Router.prototype.changeURLHandler=function(url,options){return this.changeURL(url,options);};Router.prototype.disposed=false;Router.prototype.dispose=function(){if(this.disposed){return;}
this.stopHistory();delete Backbone.history;this.unsubscribeAllEvents();this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0;};return Router;})();}});require.define({'chaplin/lib/delayer':function(exports,require,module){var Delayer;Delayer={setTimeout:function(name,time,handler){var handle,wrappedHandler,_ref,_this=this;if((_ref=this.timeouts)==null){this.timeouts={};}
this.clearTimeout(name);wrappedHandler=function(){delete _this.timeouts[name];return handler();};handle=setTimeout(wrappedHandler,time);this.timeouts[name]=handle;return handle;},clearTimeout:function(name){if(!(this.timeouts&&(this.timeouts[name]!=null))){return;}
clearTimeout(this.timeouts[name]);delete this.timeouts[name];},clearAllTimeouts:function(){var handle,name,_ref;if(!this.timeouts){return;}
_ref=this.timeouts;for(name in _ref){handle=_ref[name];this.clearTimeout(name);}},setInterval:function(name,time,handler){var handle,_ref;this.clearInterval(name);if((_ref=this.intervals)==null){this.intervals={};}
handle=setInterval(handler,time);this.intervals[name]=handle;return handle;},clearInterval:function(name){if(!(this.intervals&&this.intervals[name])){return;}
clearInterval(this.intervals[name]);delete this.intervals[name];},clearAllIntervals:function(){var handle,name,_ref;if(!this.intervals){return;}
_ref=this.intervals;for(name in _ref){handle=_ref[name];this.clearInterval(name);}},clearDelayed:function(){this.clearAllTimeouts();this.clearAllIntervals();}};if(typeof Object.freeze==="function"){Object.freeze(Delayer);}
return module.exports=Delayer;}});require.define({'chaplin/lib/event_broker':function(exports,require,module){var EventBroker,mediator;mediator=require('chaplin/mediator');EventBroker={subscribeEvent:function(type,handler){if(typeof type!=='string'){throw new TypeError('EventBroker#subscribeEvent: '+'type argument must be a string');}
if(typeof handler!=='function'){throw new TypeError('EventBroker#subscribeEvent: '+'handler argument must be a function');}
mediator.unsubscribe(type,handler,this);return mediator.subscribe(type,handler,this);},unsubscribeEvent:function(type,handler){if(typeof type!=='string'){throw new TypeError('EventBroker#unsubscribeEvent: '+'type argument must be a string');}
if(typeof handler!=='function'){throw new TypeError('EventBroker#unsubscribeEvent: '+'handler argument must be a function');}
return mediator.unsubscribe(type,handler);},unsubscribeAllEvents:function(){return mediator.unsubscribe(null,null,this);},publishEvent:function(){var args,type;type=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];if(typeof type!=='string'){throw new TypeError('EventBroker#publishEvent: '+'type argument must be a string');}
return mediator.publish.apply(mediator,[type].concat(__slice.call(args)));}};if(typeof Object.freeze==="function"){Object.freeze(EventBroker);}
return module.exports=EventBroker;}});require.define({'chaplin/lib/support':function(exports,require,module){var support;support={propertyDescriptors:(function(){var o;if(!(typeof Object.defineProperty==='function'&&typeof Object.defineProperties==='function')){return false;}
try{o={};Object.defineProperty(o,'foo',{value:'bar'});return o.foo==='bar';}catch(error){return false;}})()};return module.exports=support;}});require.define({'chaplin/lib/sync_machine':function(exports,require,module){var STATE_CHANGE,SYNCED,SYNCING,SyncMachine,UNSYNCED,event,_fn,_i,_len,_ref;UNSYNCED='unsynced';SYNCING='syncing';SYNCED='synced';STATE_CHANGE='syncStateChange';SyncMachine={_syncState:UNSYNCED,_previousSyncState:null,syncState:function(){return this._syncState;},isUnsynced:function(){return this._syncState===UNSYNCED;},isSynced:function(){return this._syncState===SYNCED;},isSyncing:function(){return this._syncState===SYNCING;},unsync:function(){var _ref;if((_ref=this._syncState)===SYNCING||_ref===SYNCED){this._previousSync=this._syncState;this._syncState=UNSYNCED;this.trigger(this._syncState,this,this._syncState);this.trigger(STATE_CHANGE,this,this._syncState);}},beginSync:function(){var _ref;if((_ref=this._syncState)===UNSYNCED||_ref===SYNCED){this._previousSync=this._syncState;this._syncState=SYNCING;this.trigger(this._syncState,this,this._syncState);this.trigger(STATE_CHANGE,this,this._syncState);}},finishSync:function(){if(this._syncState===SYNCING){this._previousSync=this._syncState;this._syncState=SYNCED;this.trigger(this._syncState,this,this._syncState);this.trigger(STATE_CHANGE,this,this._syncState);}},abortSync:function(){if(this._syncState===SYNCING){this._syncState=this._previousSync;this._previousSync=this._syncState;this.trigger(this._syncState,this,this._syncState);this.trigger(STATE_CHANGE,this,this._syncState);}}};_ref=[UNSYNCED,SYNCING,SYNCED,STATE_CHANGE];_fn=function(event){return SyncMachine[event]=function(callback,context){if(context==null){context=this;}
this.on(event,callback,context);if(this._syncState===event){return callback.call(context);}};};for(_i=0,_len=_ref.length;_i<_len;_i++){event=_ref[_i];_fn(event);}
if(typeof Object.freeze==="function"){Object.freeze(SyncMachine);}
return module.exports=SyncMachine;}});require.define({'chaplin/lib/utils':function(exports,require,module){var support,utils;support=require('chaplin/lib/support');utils={beget:(function(){var ctor;if(typeof Object.create==='function'){return Object.create;}else{ctor=function(){};return function(obj){ctor.prototype=obj;return new ctor;};}})(),readonly:(function(){var readonlyDescriptor;if(support.propertyDescriptors){readonlyDescriptor={writable:false,enumerable:true,configurable:false};return function(){var obj,prop,properties,_i,_len;obj=arguments[0],properties=2<=arguments.length?__slice.call(arguments,1):[];for(_i=0,_len=properties.length;_i<_len;_i++){prop=properties[_i];readonlyDescriptor.value=obj[prop];Object.defineProperty(obj,prop,readonlyDescriptor);}
return true;};}else{return function(){return false;};}})(),wrapMethod:function(instance,name){var func;func=instance[name];instance[""+name+"IsWrapped"]=true;return instance[name]=function(){if(instance.disposed){return false;}
func.apply(instance,arguments);instance["after"+(utils.upcase(name))].apply(instance,arguments);return instance;};},upcase:function(str){return str.charAt(0).toUpperCase()+str.substring(1);},underscorize:function(string){return string.replace(/[A-Z]/g,function(char,index){return(index!==0?'_':'')+char.toLowerCase();});},modifierKeyPressed:function(event){return event.shiftKey||event.altKey||event.ctrlKey||event.metaKey;}};if(typeof Object.seal==="function"){Object.seal(utils);}
return module.exports=utils;}});require.define({'chaplin':function(exports,require,module){var Application,Collection,CollectionView,Controller,Delayer,Dispatcher,EventBroker,Layout,Model,Route,Router,SyncMachine,View,mediator,support,utils;Application=require('chaplin/application');mediator=require('chaplin/mediator');Dispatcher=require('chaplin/dispatcher');Controller=require('chaplin/controllers/controller');Collection=require('chaplin/models/collection');Model=require('chaplin/models/model');Layout=require('chaplin/views/layout');View=require('chaplin/views/view');CollectionView=require('chaplin/views/collection_view');Route=require('chaplin/lib/route');Router=require('chaplin/lib/router');Delayer=require('chaplin/lib/delayer');EventBroker=require('chaplin/lib/event_broker');support=require('chaplin/lib/support');SyncMachine=require('chaplin/lib/sync_machine');utils=require('chaplin/lib/utils');return module.exports={Application:Application,mediator:mediator,Dispatcher:Dispatcher,Controller:Controller,Collection:Collection,Model:Model,Layout:Layout,View:View,CollectionView:CollectionView,Route:Route,Router:Router,Delayer:Delayer,EventBroker:EventBroker,support:support,SyncMachine:SyncMachine,utils:utils};}});}).call(this);
!function($){$(function(){"use strict";$.support.transition=(function(){var transitionEnd=(function(){var el=document.createElement('bootstrap'),transEndEventNames={'WebkitTransition':'webkitTransitionEnd','MozTransition':'transitionend','OTransition':'oTransitionEnd otransitionend','transition':'transitionend'},name
for(name in transEndEventNames){if(el.style[name]!==undefined){return transEndEventNames[name]}}}())
return transitionEnd&&{end:transitionEnd}})()})}(window.jQuery);
!function($){"use strict";var dismiss='[data-dismiss="alert"]',Alert=function(el){$(el).on('click',dismiss,this.close)}
Alert.prototype.close=function(e){var $this=$(this),selector=$this.attr('data-target'),$parent
if(!selector){selector=$this.attr('href')
selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,'')}
$parent=$(selector)
e&&e.preventDefault()
$parent.length||($parent=$this.hasClass('alert')?$this:$this.parent())
$parent.trigger(e=$.Event('close'))
if(e.isDefaultPrevented())return
$parent.removeClass('in')
function removeElement(){$parent.trigger('closed').remove()}
$.support.transition&&$parent.hasClass('fade')?$parent.on($.support.transition.end,removeElement):removeElement()}
$.fn.alert=function(option){return this.each(function(){var $this=$(this),data=$this.data('alert')
if(!data)$this.data('alert',(data=new Alert(this)))
if(typeof option=='string')data[option].call($this)})}
$.fn.alert.Constructor=Alert
$(function(){$('body').on('click.alert.data-api',dismiss,Alert.prototype.close)})}(window.jQuery);
!function($){"use strict";var Button=function(element,options){this.$element=$(element)
this.options=$.extend({},$.fn.button.defaults,options)}
Button.prototype.setState=function(state){var d='disabled',$el=this.$element,data=$el.data(),val=$el.is('input')?'val':'html'
state=state+'Text'
data.resetText||$el.data('resetText',$el[val]())
$el[val](data[state]||this.options[state])
setTimeout(function(){state=='loadingText'?$el.addClass(d).attr(d,d):$el.removeClass(d).removeAttr(d)},0)}
Button.prototype.toggle=function(){var $parent=this.$element.parent('[data-toggle="buttons-radio"]')
$parent&&$parent.find('.active').removeClass('active')
this.$element.toggleClass('active')}
$.fn.button=function(option){return this.each(function(){var $this=$(this),data=$this.data('button'),options=typeof option=='object'&&option
if(!data)$this.data('button',(data=new Button(this,options)))
if(option=='toggle')data.toggle()
else if(option)data.setState(option)})}
$.fn.button.defaults={loadingText:'loading...'}
$.fn.button.Constructor=Button
$(function(){$('body').on('click.button.data-api','[data-toggle^=button]',function(e){var $btn=$(e.target)
if(!$btn.hasClass('btn'))$btn=$btn.closest('.btn')
$btn.button('toggle')})})}(window.jQuery);
!function($){"use strict";var Collapse=function(element,options){this.$element=$(element)
this.options=$.extend({},$.fn.collapse.defaults,options)
if(this.options.parent){this.$parent=$(this.options.parent)}
this.options.toggle&&this.toggle()}
Collapse.prototype={constructor:Collapse,dimension:function(){var hasWidth=this.$element.hasClass('width')
return hasWidth?'width':'height'},show:function(){var dimension,scroll,actives,hasData
if(this.transitioning)return
dimension=this.dimension()
scroll=$.camelCase(['scroll',dimension].join('-'))
actives=this.$parent&&this.$parent.find('> .accordion-group > .in')
if(actives&&actives.length){hasData=actives.data('collapse')
if(hasData&&hasData.transitioning)return
actives.collapse('hide')
hasData||actives.data('collapse',null)}
this.$element[dimension](0)
this.transition('addClass',$.Event('show'),'shown')
$.support.transition&&this.$element[dimension](this.$element[0][scroll])},hide:function(){var dimension
if(this.transitioning)return
dimension=this.dimension()
this.reset(this.$element[dimension]())
this.transition('removeClass',$.Event('hide'),'hidden')
this.$element[dimension](0)},reset:function(size){var dimension=this.dimension()
this.$element.removeClass('collapse')
[dimension](size||'auto')
[0].offsetWidth
this.$element[size!==null?'addClass':'removeClass']('collapse')
return this},transition:function(method,startEvent,completeEvent){var that=this,complete=function(){if(startEvent.type=='show')that.reset()
that.transitioning=0
that.$element.trigger(completeEvent)}
this.$element.trigger(startEvent)
if(startEvent.isDefaultPrevented())return
this.transitioning=1
this.$element[method]('in')
$.support.transition&&this.$element.hasClass('collapse')?this.$element.one($.support.transition.end,complete):complete()},toggle:function(){this[this.$element.hasClass('in')?'hide':'show']()}}
$.fn.collapse=function(option){return this.each(function(){var $this=$(this),data=$this.data('collapse'),options=typeof option=='object'&&option
if(!data)$this.data('collapse',(data=new Collapse(this,options)))
if(typeof option=='string')data[option]()})}
$.fn.collapse.defaults={toggle:true}
$.fn.collapse.Constructor=Collapse
$(function(){$('body').on('click.collapse.data-api','[data-toggle=collapse]',function(e){var $this=$(this),href,target=$this.attr('data-target')||e.preventDefault()||(href=$this.attr('href'))&&href.replace(/.*(?=#[^\s]+$)/,''),option=$(target).data('collapse')?'toggle':$this.data()
$this[$(target).hasClass('in')?'addClass':'removeClass']('collapsed')
$(target).collapse(option)})})}(window.jQuery);
!function($){"use strict";var toggle='[data-toggle=dropdown]',Dropdown=function(element){var $el=$(element).on('click.dropdown.data-api',this.toggle)
$('html').on('click.dropdown.data-api',function(){$el.parent().removeClass('open')})}
Dropdown.prototype={constructor:Dropdown,toggle:function(e){var $this=$(this),$parent,isActive
if($this.is('.disabled, :disabled'))return
$parent=getParent($this)
isActive=$parent.hasClass('open')
clearMenus()
if(!isActive){$parent.toggleClass('open')
$this.focus()}
return false},keydown:function(e){var $this,$items,$active,$parent,isActive,index
if(!/(38|40|27)/.test(e.keyCode))return
$this=$(this)
e.preventDefault()
e.stopPropagation()
if($this.is('.disabled, :disabled'))return
$parent=getParent($this)
isActive=$parent.hasClass('open')
if(!isActive||(isActive&&e.keyCode==27))return $this.click()
$items=$('[role=menu] li:not(.divider) a',$parent)
if(!$items.length)return
index=$items.index($items.filter(':focus'))
if(e.keyCode==38&&index>0)index--
if(e.keyCode==40&&index<$items.length-1)index++
if(!~index)index=0
$items.eq(index).focus()}}
function clearMenus(){getParent($(toggle)).removeClass('open')}
function getParent($this){var selector=$this.attr('data-target'),$parent
$parent=$(selector)
$parent.length||($parent=$this.parent())
return $parent}
$.fn.dropdown=function(option){return this.each(function(){var $this=$(this),data=$this.data('dropdown')
if(!data)$this.data('dropdown',(data=new Dropdown(this)))
if(typeof option=='string')data[option].call($this)})}
$.fn.dropdown.Constructor=Dropdown
$(function(){$('html').on('click.dropdown.data-api touchstart.dropdown.data-api',clearMenus)
$('body').on('click.dropdown touchstart.dropdown.data-api','.dropdown',function(e){e.stopPropagation()}).on('click.dropdown.data-api touchstart.dropdown.data-api',toggle,Dropdown.prototype.toggle).on('keydown.dropdown.data-api touchstart.dropdown.data-api',toggle+', [role=menu]',Dropdown.prototype.keydown)})}(window.jQuery);
!function($){"use strict";var Modal=function(element,options){this.options=options
this.$element=$(element).delegate('[data-dismiss="modal"]','click.dismiss.modal',$.proxy(this.hide,this))
this.options.remote&&this.$element.find('.modal-body').load(this.options.remote)}
Modal.prototype={constructor:Modal,toggle:function(){return this[!this.isShown?'show':'hide']()},show:function(){var that=this,e=$.Event('show')
this.$element.trigger(e)
if(this.isShown||e.isDefaultPrevented())return
$('body').addClass('modal-open')
this.isShown=true
this.escape()
this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass('fade')
if(!that.$element.parent().length){that.$element.appendTo(document.body)}
that.$element.show()
if(transition){that.$element[0].offsetWidth}
that.$element.addClass('in').attr('aria-hidden',false).focus()
that.enforceFocus()
transition?that.$element.one($.support.transition.end,function(){that.$element.trigger('shown')}):that.$element.trigger('shown')})},hide:function(e){e&&e.preventDefault()
var that=this
e=$.Event('hide')
this.$element.trigger(e)
if(!this.isShown||e.isDefaultPrevented())return
this.isShown=false
$('body').removeClass('modal-open')
this.escape()
$(document).off('focusin.modal')
this.$element.removeClass('in').attr('aria-hidden',true)
$.support.transition&&this.$element.hasClass('fade')?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var that=this
$(document).on('focusin.modal',function(e){if(that.$element[0]!==e.target&&!that.$element.has(e.target).length){that.$element.focus()}})},escape:function(){var that=this
if(this.isShown&&this.options.keyboard){this.$element.on('keyup.dismiss.modal',function(e){e.which==27&&that.hide()})}else if(!this.isShown){this.$element.off('keyup.dismiss.modal')}},hideWithTransition:function(){var that=this,timeout=setTimeout(function(){that.$element.off($.support.transition.end)
that.hideModal()},500)
this.$element.one($.support.transition.end,function(){clearTimeout(timeout)
that.hideModal()})},hideModal:function(that){this.$element.hide().trigger('hidden')
this.backdrop()},removeBackdrop:function(){this.$backdrop.remove()
this.$backdrop=null},backdrop:function(callback){var that=this,animate=this.$element.hasClass('fade')?'fade':''
if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate
this.$backdrop=$('<div class="modal-backdrop '+animate+'" />').appendTo(document.body)
if(this.options.backdrop!='static'){this.$backdrop.click($.proxy(this.hide,this))}
if(doAnimate)this.$backdrop[0].offsetWidth
this.$backdrop.addClass('in')
doAnimate?this.$backdrop.one($.support.transition.end,callback):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass('in')
$.support.transition&&this.$element.hasClass('fade')?this.$backdrop.one($.support.transition.end,$.proxy(this.removeBackdrop,this)):this.removeBackdrop()}else if(callback){callback()}}}
$.fn.modal=function(option){return this.each(function(){var $this=$(this),data=$this.data('modal'),options=$.extend({},$.fn.modal.defaults,$this.data(),typeof option=='object'&&option)
if(!data)$this.data('modal',(data=new Modal(this,options)))
if(typeof option=='string')data[option]()
else if(options.show)data.show()})}
$.fn.modal.defaults={backdrop:true,keyboard:true,show:true}
$.fn.modal.Constructor=Modal
$(function(){$('body').on('click.modal.data-api','[data-toggle="modal"]',function(e){var $this=$(this),href=$this.attr('href'),$target=$($this.attr('data-target')||(href&&href.replace(/.*(?=#[^\s]+$)/,''))),option=$target.data('modal')?'toggle':$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data())
e.preventDefault()
$target.modal(option).one('hide',function(){$this.focus()})})})}(window.jQuery);
!function($){"use strict";var Tooltip=function(element,options){this.init('tooltip',element,options)}
Tooltip.prototype={constructor:Tooltip,init:function(type,element,options){var eventIn,eventOut
this.type=type
this.$element=$(element)
this.options=this.getOptions(options)
this.enabled=true
if(this.options.trigger=='click'){this.$element.on('click.'+this.type,this.options.selector,$.proxy(this.toggle,this))}else if(this.options.trigger!='manual'){eventIn=this.options.trigger=='hover'?'mouseenter':'focus'
eventOut=this.options.trigger=='hover'?'mouseleave':'blur'
this.$element.on(eventIn+'.'+this.type,this.options.selector,$.proxy(this.enter,this))
this.$element.on(eventOut+'.'+this.type,this.options.selector,$.proxy(this.leave,this))}
this.options.selector?(this._options=$.extend({},this.options,{trigger:'manual',selector:''})):this.fixTitle()},getOptions:function(options){options=$.extend({},$.fn[this.type].defaults,options,this.$element.data())
if(options.delay&&typeof options.delay=='number'){options.delay={show:options.delay,hide:options.delay}}
return options},enter:function(e){var self=$(e.currentTarget)[this.type](this._options).data(this.type)
if(!self.options.delay||!self.options.delay.show)return self.show()
clearTimeout(this.timeout)
self.hoverState='in'
this.timeout=setTimeout(function(){if(self.hoverState=='in')self.show()},self.options.delay.show)},leave:function(e){var self=$(e.currentTarget)[this.type](this._options).data(this.type)
if(this.timeout)clearTimeout(this.timeout)
if(!self.options.delay||!self.options.delay.hide)return self.hide()
self.hoverState='out'
this.timeout=setTimeout(function(){if(self.hoverState=='out')self.hide()},self.options.delay.hide)},show:function(){var $tip,inside,pos,actualWidth,actualHeight,placement,tp
if(this.hasContent()&&this.enabled){$tip=this.tip()
this.setContent()
if(this.options.animation){$tip.addClass('fade')}
placement=typeof this.options.placement=='function'?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement
inside=/in/.test(placement)
$tip.remove().css({top:0,left:0,display:'block'}).appendTo(inside?this.$element:document.body)
pos=this.getPosition(inside)
actualWidth=$tip[0].offsetWidth
actualHeight=$tip[0].offsetHeight
switch(inside?placement.split(' ')[1]:placement){case'bottom':tp={top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}
break
case'top':tp={top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}
break
case'left':tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}
break
case'right':tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}
break}
$tip.css(tp).addClass(placement).addClass('in')}},setContent:function(){var $tip=this.tip(),title=this.getTitle()
$tip.find('.tooltip-inner')[this.options.html?'html':'text'](title)
$tip.removeClass('fade in top bottom left right')},hide:function(){var that=this,$tip=this.tip()
$tip.removeClass('in')
function removeWithAnimation(){var timeout=setTimeout(function(){$tip.off($.support.transition.end).remove()},500)
$tip.one($.support.transition.end,function(){clearTimeout(timeout)
$tip.remove()})}
$.support.transition&&this.$tip.hasClass('fade')?removeWithAnimation():$tip.remove()
return this},fixTitle:function(){var $e=this.$element
if($e.attr('title')||typeof($e.attr('data-original-title'))!='string'){$e.attr('data-original-title',$e.attr('title')||'').removeAttr('title')}},hasContent:function(){return this.getTitle()},getPosition:function(inside){return $.extend({},(inside?{top:0,left:0}:this.$element.offset()),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var title,$e=this.$element,o=this.options
title=$e.attr('data-original-title')||(typeof o.title=='function'?o.title.call($e[0]):o.title)
return title},tip:function(){return this.$tip=this.$tip||$(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide()
this.$element=null
this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass('in')?'hide':'show']()},destroy:function(){this.hide().$element.off('.'+this.type).removeData(this.type)}}
$.fn.tooltip=function(option){return this.each(function(){var $this=$(this),data=$this.data('tooltip'),options=typeof option=='object'&&option
if(!data)$this.data('tooltip',(data=new Tooltip(this,options)))
if(typeof option=='string')data[option]()})}
$.fn.tooltip.Constructor=Tooltip
$.fn.tooltip.defaults={animation:true,placement:'top',selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:'hover',title:'',delay:0,html:true}}(window.jQuery);
!function($){"use strict";function ScrollSpy(element,options){var process=$.proxy(this.process,this),$element=$(element).is('body')?$(window):$(element),href
this.options=$.extend({},$.fn.scrollspy.defaults,options)
this.$scrollElement=$element.on('scroll.scroll-spy.data-api',process)
this.selector=(this.options.target||((href=$(element).attr('href'))&&href.replace(/.*(?=#[^\s]+$)/,''))||'')+' .nav li > a'
this.$body=$('body')
this.refresh()
this.process()}
ScrollSpy.prototype={constructor:ScrollSpy,refresh:function(){var self=this,$targets
this.offsets=$([])
this.targets=$([])
$targets=this.$body.find(this.selector).map(function(){var $el=$(this),href=$el.data('target')||$el.attr('href'),$href=/^#\w/.test(href)&&$(href)
return($href&&$href.length&&[[$href.position().top,href]])||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){self.offsets.push(this[0])
self.targets.push(this[1])})},process:function(){var scrollTop=this.$scrollElement.scrollTop()+this.options.offset,scrollHeight=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,maxScroll=scrollHeight-this.$scrollElement.height(),offsets=this.offsets,targets=this.targets,activeTarget=this.activeTarget,i
if(scrollTop>=maxScroll){return activeTarget!=(i=targets.last()[0])&&this.activate(i)}
for(i=offsets.length;i--;){activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(!offsets[i+1]||scrollTop<=offsets[i+1])&&this.activate(targets[i])}},activate:function(target){var active,selector
this.activeTarget=target
$(this.selector).parent('.active').removeClass('active')
selector=this.selector
+'[data-target="'+target+'"],'
+this.selector+'[href="'+target+'"]'
active=$(selector).parent('li').addClass('active')
if(active.parent('.dropdown-menu').length){active=active.closest('li.dropdown').addClass('active')}
active.trigger('activate')}}
$.fn.scrollspy=function(option){return this.each(function(){var $this=$(this),data=$this.data('scrollspy'),options=typeof option=='object'&&option
if(!data)$this.data('scrollspy',(data=new ScrollSpy(this,options)))
if(typeof option=='string')data[option]()})}
$.fn.scrollspy.Constructor=ScrollSpy
$.fn.scrollspy.defaults={offset:10}
$(window).on('load',function(){$('[data-spy="scroll"]').each(function(){var $spy=$(this)
$spy.scrollspy($spy.data())})})}(window.jQuery);
(function(Date,undefined){var moment,VERSION="1.7.0",round=Math.round,i,languages={},currentLanguage='en',hasModule=(typeof module!=='undefined'&&module.exports),langConfigProperties='months|monthsShort|weekdays|weekdaysShort|weekdaysMin|longDateFormat|calendar|relativeTime|ordinal|meridiem'.split('|'),aspNetJsonRegex=/^\/?Date\((\-?\d+)/i,formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?)/g,localFormattingTokens=/(LT|LL?L?L?)/g,formattingRemoveEscapes=/(^\[)|(\\)|\]$/g,parseMultipleFormatChunker=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,parseTokenOneOrTwoDigits=/\d\d?/,parseTokenOneToThreeDigits=/\d{1,3}/,parseTokenThreeDigits=/\d{3}/,parseTokenFourDigits=/\d{1,4}/,parseTokenWord=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,parseTokenTimezone=/Z|[\+\-]\d\d:?\d\d/i,parseTokenT=/T/i,isoRegex=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,isoFormat='YYYY-MM-DDTHH:mm:ssZ',isoTimes=[['HH:mm:ss.S',/T\d\d:\d\d:\d\d\.\d{1,3}/],['HH:mm:ss',/T\d\d:\d\d:\d\d/],['HH:mm',/T\d\d:\d\d/],['HH',/T\d\d/]],parseTimezoneChunker=/([\+\-]|\d\d)/gi,proxyGettersAndSetters='Month|Date|Hours|Minutes|Seconds|Milliseconds'.split('|'),unitMillisecondFactors={'Milliseconds':1,'Seconds':1e3,'Minutes':6e4,'Hours':36e5,'Days':864e5,'Months':2592e6,'Years':31536e6},formatFunctions={},formatFunctionStrings={M:'(a=t.month()+1)',MMM:'v("monthsShort",t.month())',MMMM:'v("months",t.month())',D:'(a=t.date())',DDD:'(a=new Date(t.year(),t.month(),t.date()),b=new Date(t.year(),0,1),a=~~(((a-b)/864e5)+1.5))',d:'(a=t.day())',dd:'v("weekdaysMin",t.day())',ddd:'v("weekdaysShort",t.day())',dddd:'v("weekdays",t.day())',w:'(a=new Date(t.year(),t.month(),t.date()-t.day()+5),b=new Date(a.getFullYear(),0,4),a=~~((a-b)/864e5/7+1.5))',YY:'p(t.year()%100,2)',YYYY:'p(t.year(),4)',a:'m(t.hours(),t.minutes(),!0)',A:'m(t.hours(),t.minutes(),!1)',H:'t.hours()',h:'t.hours()%12||12',m:'t.minutes()',s:'t.seconds()',S:'~~(t.milliseconds()/100)',SS:'p(~~(t.milliseconds()/10),2)',SSS:'p(t.milliseconds(),3)',Z:'((a=-t.zone())<0?((a=-a),"-"):"+")+p(~~(a/60),2)+":"+p(~~a%60,2)',ZZ:'((a=-t.zone())<0?((a=-a),"-"):"+")+p(~~(10*a/6),4)'},ordinalizeTokens='DDD w M D d'.split(' '),paddedTokens='M D H h m s w'.split(' ');while(ordinalizeTokens.length){i=ordinalizeTokens.pop();formatFunctionStrings[i+'o']=formatFunctionStrings[i]+'+o(a)';}
while(paddedTokens.length){i=paddedTokens.pop();formatFunctionStrings[i+i]='p('+formatFunctionStrings[i]+',2)';}
formatFunctionStrings.DDDD='p('+formatFunctionStrings.DDD+',3)';function Moment(date,isUTC,lang){this._d=date;this._isUTC=!!isUTC;this._a=date._a||null;date._a=null;this._lang=lang||false;}
function Duration(duration){var data=this._data={},years=duration.years||duration.y||0,months=duration.months||duration.M||0,weeks=duration.weeks||duration.w||0,days=duration.days||duration.d||0,hours=duration.hours||duration.h||0,minutes=duration.minutes||duration.m||0,seconds=duration.seconds||duration.s||0,milliseconds=duration.milliseconds||duration.ms||0;this._milliseconds=milliseconds+
seconds*1e3+
minutes*6e4+
hours*36e5;this._days=days+
weeks*7;this._months=months+
years*12;data.milliseconds=milliseconds%1000;seconds+=absRound(milliseconds/1000);data.seconds=seconds%60;minutes+=absRound(seconds/60);data.minutes=minutes%60;hours+=absRound(minutes/60);data.hours=hours%24;days+=absRound(hours/24);days+=weeks*7;data.days=days%30;months+=absRound(days/30);data.months=months%12;years+=absRound(months/12);data.years=years;this._lang=false;}
function absRound(number){if(number<0){return Math.ceil(number);}else{return Math.floor(number);}}
function leftZeroFill(number,targetLength){var output=number+'';while(output.length<targetLength){output='0'+output;}
return output;}
function addOrSubtractDurationFromMoment(mom,duration,isAdding){var ms=duration._milliseconds,d=duration._days,M=duration._months,currentDate;if(ms){mom._d.setTime(+mom+ms*isAdding);}
if(d){mom.date(mom.date()+d*isAdding);}
if(M){currentDate=mom.date();mom.date(1).month(mom.month()+M*isAdding).date(Math.min(currentDate,mom.daysInMonth()));}}
function isArray(input){return Object.prototype.toString.call(input)==='[object Array]';}
function compareArrays(array1,array2){var len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0,i;for(i=0;i<len;i++){if(~~array1[i]!==~~array2[i]){diffs++;}}
return diffs+lengthDiff;}
function dateFromArray(input,asUTC){var i,date;for(i=1;i<7;i++){input[i]=(input[i]==null)?(i===2?1:0):input[i];}
input[7]=asUTC;date=new Date(0);if(asUTC){date.setUTCFullYear(input[0],input[1],input[2]);date.setUTCHours(input[3],input[4],input[5],input[6]);}else{date.setFullYear(input[0],input[1],input[2]);date.setHours(input[3],input[4],input[5],input[6]);}
date._a=input;return date;}
function loadLang(key,values){var i,m,parse=[];if(!values&&hasModule){values=require('./lang/'+key);}
for(i=0;i<langConfigProperties.length;i++){values[langConfigProperties[i]]=values[langConfigProperties[i]]||languages.en[langConfigProperties[i]];}
for(i=0;i<12;i++){m=moment([2000,i]);parse[i]=new RegExp('^'+(values.months[i]||values.months(m,''))+'|^'+(values.monthsShort[i]||values.monthsShort(m,'')).replace('.',''),'i');}
values.monthsParse=values.monthsParse||parse;languages[key]=values;return values;}
function getLangDefinition(m){var langKey=(typeof m==='string')&&m||m&&m._lang||null;return langKey?(languages[langKey]||loadLang(langKey)):moment;}
function replaceFormatTokens(token){return formatFunctionStrings[token]?("'+("+formatFunctionStrings[token]+")+'"):token.replace(formattingRemoveEscapes,"").replace(/\\?'/g,"\\'");}
function replaceLongDateFormatTokens(input){return getLangDefinition().longDateFormat[input]||input;}
function makeFormatFunction(format){var output="var a,b;return '"+
format.replace(formattingTokens,replaceFormatTokens)+"';",Fn=Function;return new Fn('t','v','o','p','m',output);}
function makeOrGetFormatFunction(format){if(!formatFunctions[format]){formatFunctions[format]=makeFormatFunction(format);}
return formatFunctions[format];}
function formatMoment(m,format){var lang=getLangDefinition(m);function getValueFromArray(key,index){return lang[key].call?lang[key](m,format):lang[key][index];}
while(localFormattingTokens.test(format)){format=format.replace(localFormattingTokens,replaceLongDateFormatTokens);}
if(!formatFunctions[format]){formatFunctions[format]=makeFormatFunction(format);}
return formatFunctions[format](m,getValueFromArray,lang.ordinal,leftZeroFill,lang.meridiem);}
function getParseRegexForToken(token){switch(token){case'DDDD':return parseTokenThreeDigits;case'YYYY':return parseTokenFourDigits;case'S':case'SS':case'SSS':case'DDD':return parseTokenOneToThreeDigits;case'MMM':case'MMMM':case'dd':case'ddd':case'dddd':case'a':case'A':return parseTokenWord;case'Z':case'ZZ':return parseTokenTimezone;case'T':return parseTokenT;case'MM':case'DD':case'YY':case'HH':case'hh':case'mm':case'ss':case'M':case'D':case'd':case'H':case'h':case'm':case's':return parseTokenOneOrTwoDigits;default:return new RegExp(token.replace('\\',''));}}
function addTimeToArrayFromToken(token,input,datePartArray,config){var a;switch(token){case'M':case'MM':datePartArray[1]=(input==null)?0:~~input-1;break;case'MMM':case'MMMM':for(a=0;a<12;a++){if(getLangDefinition().monthsParse[a].test(input)){datePartArray[1]=a;break;}}
break;case'D':case'DD':case'DDD':case'DDDD':if(input!=null){datePartArray[2]=~~input;}
break;case'YY':input=~~input;datePartArray[0]=input+(input>70?1900:2000);break;case'YYYY':datePartArray[0]=~~Math.abs(input);break;case'a':case'A':config.isPm=((input+'').toLowerCase()==='pm');break;case'H':case'HH':case'h':case'hh':datePartArray[3]=~~input;break;case'm':case'mm':datePartArray[4]=~~input;break;case's':case'ss':datePartArray[5]=~~input;break;case'S':case'SS':case'SSS':datePartArray[6]=~~(('0.'+input)*1000);break;case'Z':case'ZZ':config.isUTC=true;a=(input+'').match(parseTimezoneChunker);if(a&&a[1]){config.tzh=~~a[1];}
if(a&&a[2]){config.tzm=~~a[2];}
if(a&&a[0]==='+'){config.tzh=-config.tzh;config.tzm=-config.tzm;}
break;}}
function makeDateFromStringAndFormat(string,format){var datePartArray=[0,0,1,0,0,0,0],config={tzh:0,tzm:0},tokens=format.match(formattingTokens),i,parsedInput;for(i=0;i<tokens.length;i++){parsedInput=(getParseRegexForToken(tokens[i]).exec(string)||[])[0];string=string.replace(getParseRegexForToken(tokens[i]),'');addTimeToArrayFromToken(tokens[i],parsedInput,datePartArray,config);}
if(config.isPm&&datePartArray[3]<12){datePartArray[3]+=12;}
if(config.isPm===false&&datePartArray[3]===12){datePartArray[3]=0;}
datePartArray[3]+=config.tzh;datePartArray[4]+=config.tzm;return dateFromArray(datePartArray,config.isUTC);}
function makeDateFromStringAndArray(string,formats){var output,inputParts=string.match(parseMultipleFormatChunker)||[],formattedInputParts,scoreToBeat=99,i,currentDate,currentScore;for(i=0;i<formats.length;i++){currentDate=makeDateFromStringAndFormat(string,formats[i]);formattedInputParts=formatMoment(new Moment(currentDate),formats[i]).match(parseMultipleFormatChunker)||[];currentScore=compareArrays(inputParts,formattedInputParts);if(currentScore<scoreToBeat){scoreToBeat=currentScore;output=currentDate;}}
return output;}
function makeDateFromString(string){var format='YYYY-MM-DDT',i;if(isoRegex.exec(string)){for(i=0;i<4;i++){if(isoTimes[i][1].exec(string)){format+=isoTimes[i][0];break;}}
return parseTokenTimezone.exec(string)?makeDateFromStringAndFormat(string,format+' Z'):makeDateFromStringAndFormat(string,format);}
return new Date(string);}
function substituteTimeAgo(string,number,withoutSuffix,isFuture,lang){var rt=lang.relativeTime[string];return(typeof rt==='function')?rt(number||1,!!withoutSuffix,string,isFuture):rt.replace(/%d/i,number||1);}
function relativeTime(milliseconds,withoutSuffix,lang){var seconds=round(Math.abs(milliseconds)/1000),minutes=round(seconds/60),hours=round(minutes/60),days=round(hours/24),years=round(days/365),args=seconds<45&&['s',seconds]||minutes===1&&['m']||minutes<45&&['mm',minutes]||hours===1&&['h']||hours<22&&['hh',hours]||days===1&&['d']||days<=25&&['dd',days]||days<=45&&['M']||days<345&&['MM',round(days/30)]||years===1&&['y']||['yy',years];args[2]=withoutSuffix;args[3]=milliseconds>0;args[4]=lang;return substituteTimeAgo.apply({},args);}
moment=function(input,format){if(input===null||input===''){return null;}
var date,matched;if(moment.isMoment(input)){return new Moment(new Date(+input._d),input._isUTC,input._lang);}else if(format){if(isArray(format)){date=makeDateFromStringAndArray(input,format);}else{date=makeDateFromStringAndFormat(input,format);}}else{matched=aspNetJsonRegex.exec(input);date=input===undefined?new Date():matched?new Date(+matched[1]):input instanceof Date?input:isArray(input)?dateFromArray(input):typeof input==='string'?makeDateFromString(input):new Date(input);}
return new Moment(date);};moment.utc=function(input,format){if(isArray(input)){return new Moment(dateFromArray(input,true),true);}
if(typeof input==='string'&&!parseTokenTimezone.exec(input)){input+=' +0000';if(format){format+=' Z';}}
return moment(input,format).utc();};moment.unix=function(input){return moment(input*1000);};moment.duration=function(input,key){var isDuration=moment.isDuration(input),isNumber=(typeof input==='number'),duration=(isDuration?input._data:(isNumber?{}:input)),ret;if(isNumber){if(key){duration[key]=input;}else{duration.milliseconds=input;}}
ret=new Duration(duration);if(isDuration){ret._lang=input._lang;}
return ret;};moment.humanizeDuration=function(num,type,withSuffix){return moment.duration(num,type===true?null:type).humanize(type===true?true:withSuffix);};moment.version=VERSION;moment.defaultFormat=isoFormat;moment.lang=function(key,values){var i;if(!key){return currentLanguage;}
if(values||!languages[key]){loadLang(key,values);}
if(languages[key]){for(i=0;i<langConfigProperties.length;i++){moment[langConfigProperties[i]]=languages[key][langConfigProperties[i]];}
moment.monthsParse=languages[key].monthsParse;currentLanguage=key;}};moment.langData=getLangDefinition;moment.isMoment=function(obj){return obj instanceof Moment;};moment.isDuration=function(obj){return obj instanceof Duration;};moment.lang('en',{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:function(hours,minutes,isLower){if(hours>11){return isLower?'pm':'PM';}else{return isLower?'am':'AM';}},calendar:{sameDay:'[Today at] LT',nextDay:'[Tomorrow at] LT',nextWeek:'dddd [at] LT',lastDay:'[Yesterday at] LT',lastWeek:'[last] dddd [at] LT',sameElse:'L'},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(number){var b=number%10;return(~~(number%100/10)===1)?'th':(b===1)?'st':(b===2)?'nd':(b===3)?'rd':'th';}});moment.fn=Moment.prototype={clone:function(){return moment(this);},valueOf:function(){return+this._d;},unix:function(){return Math.floor(+this._d/1000);},toString:function(){return this._d.toString();},toDate:function(){return this._d;},toArray:function(){var m=this;return[m.year(),m.month(),m.date(),m.hours(),m.minutes(),m.seconds(),m.milliseconds(),!!this._isUTC];},isValid:function(){if(this._a){return!compareArrays(this._a,(this._a[7]?moment.utc(this):this).toArray());}
return!isNaN(this._d.getTime());},utc:function(){this._isUTC=true;return this;},local:function(){this._isUTC=false;return this;},format:function(inputString){return formatMoment(this,inputString?inputString:moment.defaultFormat);},add:function(input,val){var dur=val?moment.duration(+val,input):moment.duration(input);addOrSubtractDurationFromMoment(this,dur,1);return this;},subtract:function(input,val){var dur=val?moment.duration(+val,input):moment.duration(input);addOrSubtractDurationFromMoment(this,dur,-1);return this;},diff:function(input,val,asFloat){var inputMoment=this._isUTC?moment(input).utc():moment(input).local(),zoneDiff=(this.zone()-inputMoment.zone())*6e4,diff=this._d-inputMoment._d-zoneDiff,year=this.year()-inputMoment.year(),month=this.month()-inputMoment.month(),date=this.date()-inputMoment.date(),output;if(val==='months'){output=year*12+month+date/30;}else if(val==='years'){output=year+(month+date/30)/12;}else{output=val==='seconds'?diff/1e3:val==='minutes'?diff/6e4:val==='hours'?diff/36e5:val==='days'?diff/864e5:val==='weeks'?diff/6048e5:diff;}
return asFloat?output:round(output);},from:function(time,withoutSuffix){return moment.duration(this.diff(time)).lang(this._lang).humanize(!withoutSuffix);},fromNow:function(withoutSuffix){return this.from(moment(),withoutSuffix);},calendar:function(){var diff=this.diff(moment().sod(),'days',true),calendar=this.lang().calendar,allElse=calendar.sameElse,format=diff<-6?allElse:diff<-1?calendar.lastWeek:diff<0?calendar.lastDay:diff<1?calendar.sameDay:diff<2?calendar.nextDay:diff<7?calendar.nextWeek:allElse;return this.format(typeof format==='function'?format.apply(this):format);},isLeapYear:function(){var year=this.year();return(year%4===0&&year%100!==0)||year%400===0;},isDST:function(){return(this.zone()<moment([this.year()]).zone()||this.zone()<moment([this.year(),5]).zone());},day:function(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return input==null?day:this.add({d:input-day});},startOf:function(val){switch(val.replace(/s$/,'')){case'year':this.month(0);case'month':this.date(1);case'day':this.hours(0);case'hour':this.minutes(0);case'minute':this.seconds(0);case'second':this.milliseconds(0);}
return this;},endOf:function(val){return this.startOf(val).add(val.replace(/s?$/,'s'),1).subtract('ms',1);},sod:function(){return this.clone().startOf('day');},eod:function(){return this.clone().endOf('day');},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset();},daysInMonth:function(){return moment.utc([this.year(),this.month()+1,0]).date();},lang:function(lang){if(lang===undefined){return getLangDefinition(this);}else{this._lang=lang;return this;}}};function makeGetterAndSetter(name,key){moment.fn[name]=function(input){var utc=this._isUTC?'UTC':'';if(input!=null){this._d['set'+utc+key](input);return this;}else{return this._d['get'+utc+key]();}};}
for(i=0;i<proxyGettersAndSetters.length;i++){makeGetterAndSetter(proxyGettersAndSetters[i].toLowerCase(),proxyGettersAndSetters[i]);}
makeGetterAndSetter('year','FullYear');moment.duration.fn=Duration.prototype={weeks:function(){return absRound(this.days()/7);},valueOf:function(){return this._milliseconds+
this._days*864e5+
this._months*2592e6;},humanize:function(withSuffix){var difference=+this,rel=this.lang().relativeTime,output=relativeTime(difference,!withSuffix,this.lang());if(withSuffix){output=(difference<=0?rel.past:rel.future).replace(/%s/i,output);}
return output;},lang:moment.fn.lang};function makeDurationGetter(name){moment.duration.fn[name]=function(){return this._data[name];};}
function makeDurationAsGetter(name,factor){moment.duration.fn['as'+name]=function(){return+this/factor;};}
for(i in unitMillisecondFactors){if(unitMillisecondFactors.hasOwnProperty(i)){makeDurationAsGetter(i,unitMillisecondFactors[i]);makeDurationGetter(i.toLowerCase());}}
makeDurationAsGetter('Weeks',6048e5);if(hasModule){module.exports=moment;}
if(typeof ender==='undefined'){this['moment']=moment;}
if(typeof define==="function"&&define.amd){define("moment",[],function(){return moment;});}}).call(this,Date);
var Handlebars={};Handlebars.VERSION="1.0.beta.6";Handlebars.helpers={};Handlebars.partials={};Handlebars.registerHelper=function(name,fn,inverse){if(inverse){fn.not=inverse;}
this.helpers[name]=fn;};Handlebars.registerPartial=function(name,str){this.partials[name]=str;};Handlebars.registerHelper('helperMissing',function(arg){if(arguments.length===2){return undefined;}else{throw new Error("Could not find property '"+arg+"'");}});var toString=Object.prototype.toString,functionType="[object Function]";Handlebars.registerHelper('blockHelperMissing',function(context,options){var inverse=options.inverse||function(){},fn=options.fn;var ret="";var type=toString.call(context);if(type===functionType){context=context.call(this);}
if(context===true){return fn(this);}else if(context===false||context==null){return inverse(this);}else if(type==="[object Array]"){if(context.length>0){for(var i=0,j=context.length;i<j;i++){ret=ret+fn(context[i]);}}else{ret=inverse(this);}
return ret;}else{return fn(context);}});Handlebars.registerHelper('each',function(context,options){var fn=options.fn,inverse=options.inverse;var ret="";if(context&&context.length>0){for(var i=0,j=context.length;i<j;i++){ret=ret+fn(context[i]);}}else{ret=inverse(this);}
return ret;});Handlebars.registerHelper('if',function(context,options){var type=toString.call(context);if(type===functionType){context=context.call(this);}
if(!context||Handlebars.Utils.isEmpty(context)){return options.inverse(this);}else{return options.fn(this);}});Handlebars.registerHelper('unless',function(context,options){var fn=options.fn,inverse=options.inverse;options.fn=inverse;options.inverse=fn;return Handlebars.helpers['if'].call(this,context,options);});Handlebars.registerHelper('with',function(context,options){return options.fn(context);});Handlebars.registerHelper('log',function(context){Handlebars.log(context);});;Handlebars.Exception=function(message){var tmp=Error.prototype.constructor.apply(this,arguments);for(var p in tmp){if(tmp.hasOwnProperty(p)){this[p]=tmp[p];}}
this.message=tmp.message;};Handlebars.Exception.prototype=new Error;Handlebars.SafeString=function(string){this.string=string;};Handlebars.SafeString.prototype.toString=function(){return this.string.toString();};(function(){var escape={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var badChars=/&(?!\w+;)|[<>"'`]/g;var possible=/[&<>"'`]/;var escapeChar=function(chr){return escape[chr]||"&amp;";};Handlebars.Utils={escapeExpression:function(string){if(string instanceof Handlebars.SafeString){return string.toString();}else if(string==null||string===false){return"";}
if(!possible.test(string)){return string;}
return string.replace(badChars,escapeChar);},isEmpty:function(value){if(typeof value==="undefined"){return true;}else if(value===null){return true;}else if(value===false){return true;}else if(Object.prototype.toString.call(value)==="[object Array]"&&value.length===0){return true;}else{return false;}}};})();;Handlebars.VM={template:function(templateSpec){var container={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(i,fn,data){var programWrapper=this.programs[i];if(data){return Handlebars.VM.program(fn,data);}else if(programWrapper){return programWrapper;}else{programWrapper=this.programs[i]=Handlebars.VM.program(fn);return programWrapper;}},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop};return function(context,options){options=options||{};return templateSpec.call(container,Handlebars,context,options.helpers,options.partials,options.data);};},programWithDepth:function(fn,data,$depth){var args=Array.prototype.slice.call(arguments,2);return function(context,options){options=options||{};return fn.apply(this,[context,options.data||data].concat(args));};},program:function(fn,data){return function(context,options){options=options||{};return fn(context,options.data||data);};},noop:function(){return"";},invokePartial:function(partial,name,context,helpers,partials,data){options={helpers:helpers,partials:partials,data:data};if(partial===undefined){throw new Handlebars.Exception("The partial "+name+" could not be found");}else if(partial instanceof Function){return partial(context,options);}else if(!Handlebars.compile){throw new Handlebars.Exception("The partial "+name+" could not be compiled when running in runtime-only mode");}else{partials[name]=Handlebars.compile(partial);return partials[name](context,options);}}};Handlebars.template=Handlebars.VM.template;;
//@ sourceMappingURL=vendor.js.map