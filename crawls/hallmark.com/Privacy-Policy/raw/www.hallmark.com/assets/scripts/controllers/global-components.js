define("assets/scripts/presenters/ImageCarousel",["jquery","assets/scripts/events"],function(e,t){"use strict";var n=function(t){var n=this,r={slideshowId:"",autoRotate:!1,eventListenerType:"",calculatedHeight:!0,counterElement:"",controllerContainer:undefined},i=e.extend({},r,t);this.autoRotate=i.autoRotate,this.eventListenerType=i.eventListenerType,this.calculatedHeight=i.calculatedHeight,this.counterElement=i.counterElement,this.isPaused=!1,this.currentSlideIndex=0,this.timer=0,this.transitionInterval=6e3,this.slideFadeInSpeed=900,this.slideFadeOutSpeed=600,this.$slideshowId=e(i.slideshowId),this.$slideNav=e(".js-slide-nav",this.$slideshowId),this.$slideNavItem=e(this.$slideNav).children(),this.$slides=e(".js-slide-content > li",this.$slideshowId),this.eventListeners=new Array,this.controllerContainer=e(i.controllerContainer),i.controllerContainer===undefined?n.$slideControls={$prev:e("> .prev",this.$slideshowId),$next:e("> .next",this.$slideshowId)}:n.$slideControls={$prev:e(".prev",n.controllerContainer),$next:e(".next",n.controllerContainer)},this.bind()};return n.prototype.bind=function(){var n=this;n.$slideNav.removeClass("is-hidden"),this.counterElement!==undefined&&n.bindCounter(n.counterElement);if(n.calculatedHeight===!0){var r=n.$slideshowId.find(".js-slide-content li"),i=null,s=0;e(r).each(function(){e(this).height()>s&&(s=e(this).height(),i=parseInt(s,10))}),n.$slideshowId.find(".js-slide-content").height(i)}n.$slides.addClass("is-absolute"),n.$slides.not(":eq(0)").hide(),n.eventListenerType==="click"?n.$slideNavItem.on({click:function(t){t.preventDefault(),n.changeActiveSlide(e(this).index())}}):n.$slideNavItem.on({mouseenter:function(t){n.changeActiveSlide(e(this).index())}}),n.autoRotate===!0&&(n.startSlideshow(),n.$slideshowId.on({mouseenter:function(){n.pauseSlideshow()},mouseleave:function(){n.resumeSlideshow()}})),t.$.on(t.MODAL_OPEN,function(){n.pauseSlideshow()}),t.$.on(t.MODAL_CLOSE,function(){n.resumeSlideshow()}),this.$slideControls.$next.on({click:function(e){e.preventDefault(),n.autoRotate===!0&&n.isPaused===!1&&n.pauseSlideshow(),n.nextSlide()}}),this.$slideControls.$prev.on({click:function(e){e.preventDefault(),n.autoRotate===!0&&n.isPaused===!1&&n.pauseSlideshow(),n.prevSlide()}})},n.prototype.bindCounter=function(t){var n=this,r=e(t);n.$totalCount=e("#js-total-count",r),n.$currentCount=e("#js-current-count",r),n.$currentCount.html(1),n.$totalCount.html(n.$slides.length)},n.prototype.changeActiveSlide=function(e){this.autoRotate===!0&&this.isPaused===!1&&this.pauseSlideshow(),this.currentSlideIndex!==e&&this.changeSlide(e)},n.prototype.startSlideshow=function(){var e=this;this.isPaused=!1,clearInterval(e.timer),e.timer=setInterval(function(){e.nextSlide()},e.transitionInterval)},n.prototype.pauseSlideshow=function(){var e=this;clearInterval(e.timer),this.isPaused=!0},n.prototype.resumeSlideshow=function(){var e=this;clearInterval(e.timer),e.startSlideshow()},n.prototype.nextSlide=function(){var e=this.currentSlideIndex+1;this.$slides.length===e&&(e=0),this.changeSlide(e)},n.prototype.prevSlide=function(){var e=this.currentSlideIndex-1;e===-1&&(e=this.$slides.length-1),this.changeSlide(e)},n.prototype.changeSlide=function(t){this.$slideNavItem.removeClass("active"),this.$slideNavItem.eq(t).addClass("active"),this.$slides.removeClass("is-visible"),this.$slides.hide(),this.$slides.eq(this.currentSlideIndex).show().addClass("is-visible"),this.$slides.eq(t).stop(!0,!0).fadeIn(this.slideFadeInSpeed),e(".is-visible").stop(!0,!0).fadeOut(this.slideFadeOutSpeed),this.currentSlideIndex=t,this.$currentCount!==undefined&&this.$currentCount.html(t+1),this.notifyChangeSlideSubscribers()},n.prototype.subscribeToChangeSlide=function(e){this.eventListeners.push(e)},n.prototype.notifyChangeSlideSubscribers=function(t){var n=this;e(this.eventListeners).each(function(e,t){try{var n=this;n()}catch(r){console.err("MQN Error: "+r+"\nError occured in:"+t)}})},n}),define("assets/scripts/presenters/explore/TrayCarousel",["jquery"],function(e){"use strict";var t=function(t){var n=this,r={slideShowId:"",slideVisibleIncrementor:5,navigationElement:"#js-slide-nav",generateNavigation:!1,eventListenerType:"click",animationDuration:1e3},i=e.extend({},r,t);this.slideshowId=i.slideShowId,this.eventListenerType=i.eventListenerType,this.slideVisibleIncrementor=i.slideVisibleIncrementor,this.slidesToMove=this.slideVisibleIncrementor,this.lastVisibleSlide=this.slideVisibleIncrementor,this.currentSlideIndex=0,this.atSlideshowEnd=!1,this.atSlideshowStart=!0,this.$slideshowControls={$prev:e(".prev",e(this.slideshowId)),$next:e(".next",e(this.slideshowId))},this.$navigationElement=e(i.navigationElement),this.$slideNavItem=undefined,this.generateNavigation=i.generateNavigation,this.$slideshowControls={$prev:e(".prev",e(this.slideshowId)),$next:e(".next",e(this.slideshowId))},this.$slides=e("li",e(this.slideshowId)),this.slideCount=this.$slides.length,this.animationDuration=i.animationDuration,this.slideMargin=parseInt(this.$slides.last().css("marginLeft"),10),this.slideWidth=this.$slides.outerWidth()+this.slideMargin,this.$slideContainerWidth=this.slideWidth*this.slideCount-this.slideMargin,this.visibleContentWidth=this.slideWidth*this.slideVisibleIncrementor,this.$slideWrapper=e(".tray-articles > ul",e(this.slideshowId)),this.moveWidth=this.visibleContentWidth,this.bind()};return t.prototype.bind=function(){var e=this;e.updateControls(),e.$slideWrapper.width(e.$slideContainerWidth),e.$slideshowControls.$prev.on({click:function(t){t.preventDefault(),e.atSlideshowStart===!1&&(e.atSlideshowEnd=!1,e.setSlidesToMove("backward"),e.currentSlideIndex=e.currentSlideIndex-e.slidesToMove,e.moveBackward())}}),e.$slideshowControls.$next.on({click:function(t){t.preventDefault(),e.atSlideshowEnd===!1&&(e.atSlideshowStart=!1,e.setSlidesToMove("forward"),e.currentSlideIndex=e.currentSlideIndex+e.slidesToMove,e.moveForward())}}),e.generateNavigation===!0&&e.createTrayNavigation(),e.bindNavigation()},t.prototype.bindNavigation=function(){var t=this;if(t.$slideNavItem===undefined)return;t.$slideNavItem.on({click:function(n){n.preventDefault();var r=e(this).index();t.setDistanceDirection(r),t.changeActiveSlide(r)}})},t.prototype.changeActiveSlide=function(t){var n=this;n.$slideNavItem!==undefined&&(n.$slideNavItem.removeClass("active"),e(n.$slideNavItem[t]).addClass("active"))},t.prototype.createTrayNavigation=function(){var e=this,t=this.slideCount,n=0;while(t>n)e.$navigationElement.append('<li><a href="#">Slide '+(n+1)+"</a></li>"),n++;e.$slideNavItem=null,e.$slideNavItem=e.$navigationElement.children(),e.$slideNavItem.eq(0).addClass("active")},t.prototype.setDistanceDirection=function(e){var t=this,n=0;if(e===t.currentSlideIndex)return;e>t.currentSlideIndex?(n=e+1-(t.currentSlideIndex+1),t.setMoveDistance(n),t.currentSlideIndex=e,t.lastVisibleSlide=e+1,t.moveForward()):(n=t.currentSlideIndex+1-(e+1),t.setMoveDistance(n),t.currentSlideIndex=e,t.lastVisibleSlide=e+1,t.moveBackward())},t.prototype.setMoveDistance=function(e){var t=this;t.moveWidth=e*t.slideWidth},t.prototype.moveForward=function(){var e=this;e.$slideWrapper.animate({marginLeft:"-="+e.moveWidth},e.animationDuration),e.updateControls()},t.prototype.moveBackward=function(){var e=this;e.$slideWrapper.animate({marginLeft:"+="+e.moveWidth},e.animationDuration),e.updateControls()},t.prototype.setSlidesToMove=function(e){var t=this;t.slidesToMove=t.slideVisibleIncrementor;switch(e){case"forward":t.lastVisibleSlide+t.slideVisibleIncrementor>=t.slideCount?(t.slidesToMove=t.slideCount-t.lastVisibleSlide,t.lastVisibleSlide=t.lastVisibleSlide+t.slidesToMove):(t.slidesToMove=t.slideVisibleIncrementor,t.lastVisibleSlide=t.lastVisibleSlide+t.slidesToMove),t.setMoveDistance(t.slidesToMove);break;case"backward":t.lastVisibleSlide-t.slideVisibleIncrementor<=t.slideVisibleIncrementor?(t.slidesToMove=t.lastVisibleSlide-t.slideVisibleIncrementor,t.lastVisibleSlide=t.lastVisibleSlide-t.slidesToMove):(t.slidesToMove=t.slideVisibleIncrementor,t.lastVisibleSlide=t.lastVisibleSlide-t.slidesToMove),t.setMoveDistance(t.slidesToMove)}},t.prototype.updateControls=function(){var e=this;e.currentSlideIndex+e.slideVisibleIncrementor<e.slideCount?(this.atSlideshowEnd=!1,this.$slideshowControls.$next.removeClass("is-disabled")):(this.atSlideshowEnd=!0,this.$slideshowControls.$next.addClass("is-disabled")),e.currentSlideIndex>0?(this.atSlideshowStart=!1,this.$slideshowControls.$prev.removeClass("is-disabled")):(this.atSlideshowStart=!0,this.$slideshowControls.$prev.addClass("is-disabled")),e.changeActiveSlide(e.currentSlideIndex)},t}),define("assets/scripts/libs/text!assets/scripts/views/modals/modal-slideshow-responsive.html",[],function(){return'<div class="modal modal-full modal-zoom-container is-hidden">\n    <div id="js-modal-slideshow" class="js-modal-slideshow wrapper-graphic">\n        <a href="#" class="icon icon-close js-modal-close icon-close-light with-content">Close Modal</a>\n    </div>\n</div>\n<div class="js-overlay-slideshow overlay-dark overlay is-hidden"></div>\n'}),define("assets/scripts/presenters/SlideShowZoomModal",["jquery","assets/scripts/libs/text!assets/scripts/views/modals/modal-slideshow-responsive.html"],function(e,t){"use strict";var n=function(n){var r=this;this.toggleButton=e("#js-toggleButton"),this.$documentBody=e("body"),this.modalTop=64,this.$slideshowOverlayTemplate=e(t),r.bind(n)};return n.prototype.bind=function(t){var n=this;n.toggleButton.on({click:function(e){e.preventDefault(),n.setVariables(t)}}),e("body").on({click:function(e){e.preventDefault(),n.setVariables(t)}},".js-modal-slideshow .js-modal-close"),e(window).on("keydown",function(e){e.keyCode=="27"&&n.setVariables(t)})},n.prototype.setVariables=function(t){var n=this;this.$slideshowOverlayTemplate.appendTo(n.$documentBody);var r={slideShowId:"#js-slideshow-list",inlineContext:"#js-inline-slideshow",modalContext:"#js-modal-slideshow",toggleButton:"#js-toggleButton",closeButton:".js-modal-close"},i=e.extend({},r,t);this.$slideShowId=e(i.slideShowId),this.$inlineContext=e(i.inlineContext),this.$modalContext=e(i.modalContext),this.$toggleButton=e(i.toggleButton),this.$closeButton=e(i.closeButton),n.contextSwitch()},n.prototype.contextSwitch=function(){var t=this,n=e(".modal-zoom-container");if(n.is(":visible")){e(".modal-zoom-container,.js-overlay-slideshow").fadeOut(150,function(){e(this).addClass("is-hidden")});var r=t.$inlineContext.width()/t.$modalContext.width(),i=t.$slideShowId.find(".js-slide-content").height()*r;t.$slideShowId.find(".js-slide-content").css({height:i}),t.$slideShowId.appendTo(t.$inlineContext)}else{n.removeClass("is-hidden").css("top",parseInt(this.modalTop,10)+e(window).scrollTop()).fadeIn(150,function(){e(this).removeClass("is-hidden")}),e(".js-overlay-slideshow").fadeIn(150,function(){e(this).removeClass("is-hidden")});var r=t.$modalContext.width()/t.$inlineContext.width(),i=t.$slideShowId.find(".js-slide-content").height()*r;t.$slideShowId.find(".js-slide-content").height(i),t.$slideShowId.appendTo("#js-modal-slideshow")}},n}),require(["jquery","assets/scripts/presenters/ImageCarousel","assets/scripts/presenters/explore/TrayCarousel","assets/scripts/view-models/product/AudioPlayer","assets/scripts/presenters/SlideShowZoomModal"],function(e,t,n,r,i){"use strict";e(function(){var s=this,o=e(".js-tray-carousel");o.each(function(){var t=e(this),r=t.data(),i=t.attr("id");r.slideShowId="#"+i;var s=new n(r)});var u=e(".js-image-carousel");u.each(function(){var n=e(this),r=n.data(),i=n.attr("id");r.slideshowId="#"+i;var s=new t(r)});var a=new r(".js-audio-plugin");if(e(".js-slideshow-zoomed").length!==0)var f=new i})}),define("assets/scripts/controllers/global-components",[],function(){})