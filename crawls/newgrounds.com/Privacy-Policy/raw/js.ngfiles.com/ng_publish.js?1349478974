(function(a){a.fn.down=function(c){if(typeof c==="undefined"){return this.children(":eq(0)")}else{return this.find(c+":first")}};a.fn.up=a.fn.closest;a.fn.Each=function(c){this.each(function(){c(this)})};a.Each=function(c,d){return a.each(c,function(e,f){d(f,e)})};a.method=function(d,c){return function(){d[c].apply(d,arguments)}};a.fn.serialize=function(c){if(c){return this.serializeArray()}else{return a.param(this.serializeArray())}};a.fn.isLoaded=function(d){var c=true;this.find("img").each(function(){if(this.fail){return}if(this.tagName==="IMG"){if(typeof(this.naturalWidth)!=="undefined"){c=c&&this.complete}else{if(typeof(this.complete)==="boolean"){c=c&&this.naturalWidth}else{c=c&&this.width}}}else{}});return c};a.fn.loaded=function(c,f){var e=0;if(!f){f={}}if(f.period===undefined){f.period=100}if(f.timeout===undefined){f.timeout=5000}var d=this;var g=function(){if(a(d).isLoaded()||e>f.timeout){c(d);if(d._loaded_timer){clearTimeout(d._loaded_timer)}}else{e+=f.period;d._loaded_timer=setTimeout(g,f.period)}};g()};a.fn.enable=function(){var c=a(this);if(c.is("form")){c.find("input, textarea, select, button").enable()}else{c.each(function(){c.disabled=false})}return c};a.fn.disable=function(){var c=a(this);if(c.is("form")){c.find("input, textarea, select, button").disable()}else{c.attr("disabled",true)}return c};a.fn.setUploadVal=function(c){if(typeof c=="undefined"){c=this.val()}if(this.is('input[type="file"]')){this.next().next().val(this.val())}return this};a.fn.validate=function(c){if(this.is("form")){this.bindValidator(new NgFormValidator(this,c))}return this};(function(){var c=function(d){return a(d).find('button[type!="reset"][type!="button"], input[type="submit"]o')};a.fn.disableSubmit=function(){c(this).disable()};a.fn.enableSubmit=function(){c(this).enable()}})();a.fn.preventDoubleSubmit=function(){this.submit(this.disableSubmit)};a.fn.allowDoubleSubmit=function(){this.unbind("submit",this.disableSubmit)};(function(){var d="validation",c=function(e){if(e){return function(f){e.validate();if(!e.isValid()){e.inform();f.stopImmediatePropagation();return false}}}};a.fn.bindValidator=function(f){var e=c(f);this.data(d,e);this.data("validator",f);return this.submit(e)};a.fn.unbindValidator=function(){return this.unbind("submit",this.data(d))}})();a.fn.exists=function(){return this.length>0};a.fn.Text=function(){return a.map(function(){return a(this).text()}).get()};var b=function(c,d){if(typeof c==="function"){return[c,d]}else{if(typeof c==="object"){return c.concat([d])}else{return d}}};a.fn.ajaxSubmit=function(f,d,c){var e=this;if(this.is("form")){if(c&&c.preventDouble){c.error=b(c.error,function(){e.enableSubmit()});this.disableSubmit()}return a.ajaxWait("post",this.attr("action"),this.serializeArray(),f,d,c)}};a.fn.ajaxify=function(f,d,c){if(this.is("form")){var e=this;this.delegate("button","click",function(){var g=e.serializeArray();g.push({name:this.name,value:this.value});a.ajaxWait("post",e.attr("action"),g,f,d,c);return false});return this.submit(function(){a(this).ajaxSubmit(f,d,c);return false})}};a.fn.getSelected=function(){if(this.is("select")){var c=this.get(0);if(c){if(!c.selectedIndex){c.selectedIndex=0}return a(c.options[c.selectedIndex])}else{return a()}}};a.fn.scrollTo=function(d){var c=this.offset().top;d=d||{};d.duration=d.duration||500;a("html:not(:animated), body:not(:animated)").animate({scrollTop:c-20},d)};(function(){var f=600,d=600;var c=function(){a(this).animate({opacity:1},d)};var e=function(){a(this).slideUp(f)};a.fn.appear=function(){return this.css("opacity",0).slideDown(f,c)};a.fn.disappear=function(){return this.animate({opacity:0},{duration:d,complete:e})};a.fn.animatedSwitch=function(){if(this.is(":visible")){return this.disappear()}else{return this.appear()}}})();(function(){var d=[],e=0,c=function(f){var g;for(g=0;g<d.length;++g){if(g!==f&&d[g].is(":visible")){d[g].fadeOut()}--e}};a.fn.fadeable=function(){if(!d.length){a(document.body).click(function(){if(e){c()}})}this.each(function(){var f,h;var g=a(this);f=g.is("div.select")?g:g.up("div.select");h=f.down("ul.filtermenu");if(h.length&&a.inArray(h,d)<0){d.push(h);h.data("fading_index",d.length-1).hide().css("overflow","visible");f.click(function(i){if(i.target.tagName.toLowerCase()!="a"){if(h.is(":hidden")){++e;h.fadeIn(300,function(){a(this).show()});c(h.data("fading_index"))}else{h.fadeOut();--e}return false}})}})}})();a.isString=function(c){return typeof c==="string"||c instanceof String};a.reverseString=function(c){return c.split("").reverse().join("")};a.unparam=function(d){var c={};d.split("&").Each(function(e){var f=e.split("=");c[f[0]]=f[1]});return c};a.isInteger=function(c){return typeof c==="number"&&parseInt(c,10)===c};a.range=function(e,j,h){var g,d=1,c=[],f;if((!a.isInteger(e)&&!a.isString(e))||(typeof e!==typeof j)){return c}if(typeof h!==undefined&&a.isInteger(h)&&a.isInteger(e)){d=h}if(a.isString(e)){e=parseInt(e.charCodeAt(0),10);j=parseInt(j.charCodeAt(0),10)}if(e>j){g=e;e=j;j=g}for(f=e;f<=j;f+=d){c.push(f)}return c};a.strip_text=function(c){return c.toLowerCase().replace(/[^a-z0-9]/g," ").replace(/\s+/g,"-").replace(/(^-+|-+$)/,"")};a.rInArray=function(d,c){return a.inArray(d,c)!==-1};a.any=function(d,g){var c=d.length;for(var e=0;e<c;e++){if(g(d[e])){return true}}return false};a.all=function(c,d){return !a.any(c,function(e){return !d(e)})};a.nub=function(d){var e=[],c=d.length,g,f,h;for(g=0;g<c;++g){h=false;for(f=g+1;f<c&&!h;++f){h=d[f]==d[g]}if(!h){e.unshift(d[g])}}return e};a.$=function(c){if(a.isString(c)){return a("#"+c)}else{return a(c)}};a.windowHeight=function(){return window.innerHeight?window.innerHeight:a(window).height()};a(document).ajaxError(function(f,g,c,d){if(g.status==403){a.showAjaxError(a.parseJSON(g.responseText))}});a.showAjaxError=function(d){if(d&&d.errors&&d.errors.join){var e=d.errors.join("\n");if(d.selector){a(d.selector).html(e)}else{alert(e)}}else{var c="Server error.  Please wait a moment and try again.";alert(c)}};a.checkAjaxErrorOld=function(c){var d="Server error.  Please wait a moment and try again.";if(!c){alert(d);return false}else{var e=a(c).find("errormsg");if(e.length){alert(e.text());return false}else{return true}}};a(document).ajaxComplete(function(d,f,c){if(f.uid){a.ajax.stopWaiting(f.uid)}if(window.QUnit){window.QUnit.ajaxing=false}enableSelectFacades()});(function(){var d={};var c="waiting";a.ajax.startWaiting=function(e,f){f.uid=a.now();e=a(e);d[f.uid]=e;e.addClass(c)};a.ajax.stopWaiting=function(e){d[e].removeClass(c);delete d[e]}})();a.ajaxWait=function(f,d,g,h,e,c){return a.ajax.startWaiting(e,a.ajax(a.extend({type:f,url:d,data:g,success:h},c)))};a.ajax.replace=function(e,d){var c=0;for(c=0;c<d.length;c++){a(d[c]).replaceWith(a(d[c],e))}};a.Event.prototype.closest=function(c){var d=this.target;while(d&&!a(d).is(c)){if(d==this.currentTarget){return}d=d.parentNode}return d};a.fn.insertRoundCaret=function(h){var d,s,r,k,g,c,p,o,l,n,m,q,e,f;return this.each(function(){d="["+h+"]";s="[/"+h+"]";if(document.selection){r=this.value;this.focus();g=document.selection.createRange();c=g.text;p=d+g.text+s;g.text=p;document.selection.empty();this.focus();k=this.value;n=k.lastIndexOf(p);o=this.createTextRange();l=r.substring(0,n).split("\n").length;n=n+3-l+h.length;m=c.length;o.move("character",n);o.moveEnd("character",m);o.select()}else{if(this.selectionStart||this.selectionStart=="0"){q=this.selectionStart;e=this.selectionEnd;f=this.scrollTop;this.value=this.value.substring(0,q)+d+this.value.substring(q,e)+s+this.value.substring(e,this.value.length);this.focus();this.selectionStart=q+d.length;this.selectionEnd=e+d.length;this.scrollTop=f}else{this.value+=d+s;this.focus()}}})};(function(){var f=a.range("A","Z"),e=a.range("a","z"),d=f.concat(e),c,g,i,h;a.fn.checkCapsLock=function(j){c=a("#"+a(this).attr("id")+"_caps");return(function(k){g=k.type;i=k.shiftKey;h=k.which;if(g==="blur"){c.hide()}else{if((a.rInArray(h,f)&&!i)||(a.rInArray(h,e)&&i)){c.show()}else{if(a.rInArray(h,d)&&c.is(":visible")){c.hide()}}}})(j)}})();(function(){a.fn.selectBoxOptions=function(){var f=this,e=0,d,c=document.getElementById(this.attr("id")).options;return{size:function(){return a(c).size()},set:function(h){e=0;for(var g in h){++e}c.length=e;e=0;for(g in h){c[e].value=g;c[e].text=h[g];++e}}}}})();(function(){a.fn.watchLinks=function(c){c=a.extend({parentNode:".podcontent",trustedDomains:[],spamDomains:[]},c);var d=new LinkWatcher();d.setParentNode(c.parentNode);d.setTrustedDomains(c.trustedDomains);d.setSpamDomains(c.spamDomains);d.pushElements(a(this));d.watch();return this};a.fn.watchEmbeds=function(){var l=[],m,g,c,j={youtube:[/^http:\/\/(www\.)?((youtube\.com\/(.*?watch\?v=|embed\/))|youtu\.be\/)([a-zA-Z0-9_\-]+).*$/,5,"video"],vimeo:[/^https?:\/\/(www\.)?vimeo\.com\/([0-9]+)\/?$/,2,"video"],soundcloud:[/^https?:\/\/(www\.)?(soundcloud\.com\/[^\/]+\/?([^\/]+\/?)?)$/,2,"audio"]},e=function(n){n.click(function(){a(this).next().toggle();return false})},f=function(n){return a('<div style="display:none; margin-top: 10px; width: 100%; height: auto;"><iframe width="590" height="332" frameborder="0" src="'+n+'" allowfullscreen></iframe></div>')},h=function(n){return a('<div style="display:none; margin-top: 10px; width: 100%; height: auto;"></div>').html(new FlashWriter(n+"&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0",590,332).ToString())},d=function(p,o,n){return a('<div style="display:none; margin-top: 10px; width: 100%; height: '+n+'px;">'+p+"</div>")},i=function(p,o,n){return a('<div style="display:none;">'+n+"</div>")},k=function(p,n,o){switch(p){case"youtube":c=f("http://www.youtube.com/embed/"+n);o.after(c);e(o);break;case"vimeo":c=h("http://vimeo.com/moogaloop.swf?clip_id="+n);o.after(c);e(o);break;case"soundcloud":a.ajax({url:"http://soundcloud.com/oembed?format=json&show_artwork=false&iframe=false&url=http://"+n,type:"get",context:o,dataType:"json",success:function(q){c=d(q.html.toString().replace(/\s*<span>.*<\/span>/,""),q.width,q.height);o.after(c);e(o)}});break;default:console.log("Bad site");break}};a(this).each(function(){g=a(this);for(var n in j){if(j.hasOwnProperty(n)){m=g.attr("href").match(j[n][0]);if(m){k(n.toString(),m[j[n][1]],g)}}}});return this}})()})(jQuery);jQuery.fx.interval=1/45*1000;jQuery.noConflict();function RunSearch(b,c){if(c!="portal"&&c!="audio"){return}var a=document.getElementById(b+"_terms"),d=a.value;if(!d.value){alert("Please enter your search terms.");a.focus();return}d=d.replace(/\//,"%1b");window.location.href="http://redirect.ngfiles.com/"+c+"/search/"+SelectValue(document.getElementById(b+"_type"))+"/"+d}function NewWindow(b,a,c,e){if(typeof e=="undefined"){e="newwin"+GetRandomNumber(1000000,9999999)}var d="height="+a+",width="+c+",top="+((screen.height-a)/2)+",left="+((screen.width-c)/2)+",status=yes,scrollbars=yes,resizable=yes,toolbar=no,location=no,menubar=no";var f=window.open(b,e,d);f.window.focus();return f}function Reload(){window.location.href=window.location.href}function IsValidInteger(a){return a.length&&!(/[^0-9]+/.exec(a))}function CountOccurences(c,b){var a=c.split(b);return a.length-1}function Trim(a){return String(a).replace(/(^\s*|\s*$)/g,"")}function Round(b,a){if(typeof a=="undefined"){a=0}var c=Math.pow(10,a);return Math.round(b*c)/c}function SelectValue(a){if(typeof a=="string"){return SelectValue(document.getElementById(a))}else{if(typeof a=="object"){return a.options[a.selectedIndex].value}else{alert("Don't know how to do a SelectValue on "+a);return null}}}function GetRadioValue(d,a){var b=document.forms[d].elements[a],c;for(c=0;c<b.length;c++){if(b[c].checked){return b[c].value}}return null}function FormatNumber(b){b=b.toString();var a=b.length;if(a<=3){return b}else{if(a<=6){return b.substring(0,a-3)+","+b.substring(a-3,a)}else{if(a<=9){return b.substring(0,a-6)+","+b.substring(a-6,a-3)+","+b.substring(a-3,a)}else{if(a<=12){return b.substring(0,a-9)+","+b.substring(a-9,a-6)+","+b.substring(a-6,a-3)+","+b.substring(a-3,a)}else{return -1}}}}}function GetRandomNumber(a,b){return Math.floor((Math.random()*(b-a+1))+a)}function GetPercentage(a,b){if(!a){return 0}return FormatNumber(a/b*100)}function HandleClick(b){var a=document.getElementById(b);if(a.disabled){return}if(a.type=="checkbox"){a.checked=!(a.checked)}else{if(a.type=="radio"){a.checked=true}}}function CharactersRemaining(a,c,d){if(PHP.get("DEBUG")&&!a){if(window.console&&console.log){console.log("missing textarea for CharsRemaining() in ng.js")}return}var b=c-a.value.length;if(b<0){a.value=a.value.substring(0,c);b=0}if(!d){d=document.getElementById(a.id+"_chars_remaining")}d.innerHTML=FormatNumber(b)}function CharactersRemainingMinusHTML(a,c,d){CharactersRemaining(a,d);var b=c-a.value.replace(/<\/?(a|i(ns)?|b|u|em|strong).*?>/ig,"").length;if(b<0){b=0}document.getElementById(a.id+"_chars_remaining_minus_html").innerHTML=FormatNumber(b)}(function(){var a=[];CheckCharsRemaining=function(d,c,b){if(b>0){CharactersRemainingMinusHTML(document.getElementById(d),c,b)}else{CharactersRemaining(document.getElementById(d),c)}a[d]=setTimeout("CheckCharsRemaining('"+d+"', "+c+", "+b+")",1500)};CheckCharsRemainingInElem=function(c,f,b,g){var e=$(c),d;if(b>0){d=function(){CharactersRemainingMinusHTML(e,f,b)}}else{d=function(){CharactersRemaining(e,f,g,g)}}d();a[e.identify()]=setInterval(d,1500)};StopCharsRemaining=function(b){clearTimeout(a[b])}})();function GetAge(f,b,d,g,c,e){var a=e-d;if(f<g){a--}else{if(f==g&&b>c){a--}}return a}function CheckDate(d,a,b){var c=new Date(d+"/"+a+"/"+b);if(c.getMonth()+1==d){return true}return false}function InArray(d,c){for(var b=0,a=c.length;b<a;b++){if(d==c[b]){return true}}return false}function remove_value(c,b){var a=jQuery.inArray(c,b);if(a>=0){b.splice(a,1)}return b}function DOMNodeFromHTML(b){var c=Builder.node("div");c.innerHTML=b;for(var a=0;a<c.childNodes.length;a++){if(c.childNodes[a].nodeType==1){return(c.childNodes[a])}}return(null)}function ScrollToElement(a){new Effect.ScrollTo(a)}var reviewmod_win;function OpenReviewModWindow(a){reviewmod_win=window.open("http://redirect.ngfiles.com"+a)}function CloseReviewModWindow(){reviewmod_win.close()}function DotAnimatedText(g,b){var j=5,i=0.5,f=null,a=1,l="",m="",h=(typeof b=="string"),c=null;this.Start=function(o){m=n().innerHTML;l=o;e()};this.Stop=function(){k();d(m)};function e(){var p="";if(h){p+='<span class="'+b+'">'}p+=l;for(var o=1;o<=a;o++){p+="."}a++;if(a>j){a=1}if(h){p+="</span>"}d(p);f=setTimeout(e,(i/j)*1000)}function n(){return $(g)}this.getElement=function(){return n()};function d(p){var o=n();if(o){o.innerHTML=p}else{k()}}function k(){if(f){clearTimeout(f);f=null}}}function HeaderAnimator(d,l){var m="i-activity",a=false,i=[],b=[],n=new DotAnimatedText(d+"_header"),c,k=c().firstChild.data,g=c().className,f=new Image();f.src="http://img.ngfiles.com/hicons/i67.gif";this.Start=function(o){if(!(a)){a=true;if(typeof o=="string"){l=o}n.Start(l);c().className=m;h()}};this.Stop=function(){if(a){a=false;n.Stop();c().className=g;j()}};function j(){var q=e();var p;for(var o=0;o<q.length;o++){p=q[o];p.innerHTML=i[o];p.className=b[o]}}function h(){var q=e();var p;for(var o=0;o<q.length;o++){p=q[o];i[o]=p.innerHTML;b[o]=p.className;p.innerHTML="<span>"+p.firstChild.innerHTML+"</span>";p.className="btn dead"}}c=function(){return document.getElementById(d+"_header")};function e(){var q=c().parentNode.getElementsByTagName("span"),p=[],o;for(o=0;o<q.length;o++){if(/_button$/.test(q[o].id)){p[p.length]=q[o]}}return p}}function AddRemoveSpace(a){if(typeof a.value=="string"){a.value+=" ";a.value=a.value.substring(0,a.value.length-1)}else{a.firstChild.data+=" XYZ";a.firstChild.data=a.firstChild.data.substring(0,a.firstChild.data.length-4)}}function FlashWriter(a,c,k){var m=function(){var o=12,n;if(navigator.plugins&&navigator.plugins.length){for(n=0;n<navigator.plugins.length;n++){if(navigator.plugins[n].name.indexOf("Shockwave Flash")!=-1){return(true)}}}else{if(window.ActiveXObject){for(n=2;n<=o;n++){try{var q=new ActiveXObject(ShockwaveFlash.ShockwaveFlash[n]);if(q){return true}}catch(p){}}}}return(false)},f="window",j="high",b="flash"+GetRandomNumber(1000000,9999999),d=f,e="sameDomain",g="false",l="false",h=null,i=m();this.SetQuality=function(n){j=n};this.SetID=function(n){b=n};this.SetTransparent=function(n){d=n?"transparent":f};this.SetOpaque=function(n){d=n?"opaque":f};this.SetDirect=function(n){d=n?"direct":f};this.SetFullScreen=function(n){g=n?"true":"false"};this.SetFullScreenOnSelection=function(n){l=n?"true":"false"};this.SetScriptAccess=function(n){e=n};this.SetParams=function(n){h=n};this.ToString=function(){var n="";if(i){n=[n,'<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+c+'" height="'+k+'" id="'+b+'">','<param name="allowScriptAccess" value="'+e+'" />','<param name="allowFullScreen" value="'+g+'" />','<param name="movie" value="'+a+'" /><param name="quality" value="'+j+'" />','<param name="wmode" value="'+d+'" />','<param name="fullScreenOnSelection" value="'+l+'" />'].join("");if(h){n+='<param name="flashvars" value="'+h+'" />'}n+='<embed src="'+a+'" quality="'+j+'" ';if(h){n+='flashvars="'+h+'" '}n=[n,'wmode="'+d+'" width="'+c+'" height="'+k+'" name="'+b+'" allowScriptAccess="'+e+'" ','fullScreenOnSelection="'+l+'" ','allowFullScreen="'+g+'" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />',"</object>"].join("")}else{n+='<p style="text-align: center; margin-top: 2em; margin-bottom: 2em; padding-top: 3em; padding-bottom: 3em; background: #333333">You don\'t appear to have <a target="_blank" href="http://getflash.ngfiles.com">Flash</a> installed. <a target="_blank" href="http://getflash.ngfiles.com">Click here</a> to get it (it\'s free).</p>'}return n};this.Print=function(){document.write(this.ToString())}}function CheckboxItems(d,e){var b=[],c=[];function a(f){return document.getElementById(e+f)}this.ToggleAll=function(){b=[];c=[];var f,j,h;for(var g=0;g<d;g++){h=a(g);f=h.checked;j=h.disabled;if(!f&&!j){c[c.length]=g;b[b.length]=h.value}if(!j){h.checked=!f}}};this.Toggle=function(h){var g=a(h),f;if(g.checked&&!InArray(g.value,b)){c[c.length]=h;b[b.length]=g.value}else{if(!g.checked&&InArray(g.value,b)){for(f=0;f<d;f++){if(g.value==b[f]){c.splice(f,1);b.splice(f,1);break}}}}};this.ClearAll=function(){b=[];c=[];for(var f=0;f<d;f++){a(f).checked=false}};this.SelectAll=function(){b=[];c=[];for(var f=0;f<d;f++){a(f).checked=true;c[c.length]=f;b[b.length]=a(f).value}};this.Enable=function(){for(var f=0;f<d;f++){a(f).disabled=false}};this.Disable=function(){for(var f=0;f<d;f++){a(f).disabled=true}};this.GetKey=function(f){return c[f]};this.GetKeys=function(){return c};this.GetID=function(f){return b[f]};this.GetIDS=function(){return b};this.IsToggled=function(){return b.length>0};this.GetNumChecked=function(){return b.length}}var PHP=(function(){var a={};return{get:function(c,b){return PHP.has(c)?a[c]:b},set:function(c,b){return(a[c]=b)},has:function(c,b){return typeof a[c]!=="undefined"},add:function(c,b){if(!PHP.has(c)){PHP.set(c,[])}return a[c].push(b)},merge:function(c){for(var b in c){if(c.hasOwnProperty(b)){PHP.set(b,c[b])}}}}})();var NiGhtBox=(function(e){var q="blackout-on",i="nodimming",p="visibility",h=27,r,j,d,n,f,l,b,c=false,g=true,o=function(){if(!f){f=e(".adunit")}return f},s=function(){o().css(p,"hidden")},k=function(){o().css(p,"visible")},m,a=function(){if(g&&c){e("body").keydown(m)}else{e("body").unbind("keydown",m)}};m=function(t){if(t.which==h){NiGhtBox.hide();a();return false}};return{init:function(){l=e("#blackout");b=e("#blackout_center");return NiGhtBox},load:function(t,v,u){if(!l||!b){NiGhtBox.init()}d=true;t.detach();b.append(t).loaded(function(){if(typeof v==="function"){j=v(b,l)}else{j=v}d=false;if(u){u()}});return NiGhtBox},show:function(u){if(!l||!b){NiGhtBox.init()}u=u?e.$(u):b.down();var v,t;if(u){if(!j){j=u.height()}if(j){t=Math.max(e("html").scrollTop(),e(window).scrollTop());v=e(window).height();if(j>v){b.css("margin-top",t+"px")}else{b.css("margin-top",t+(v-j)/2+"px")}}else{e(u).addClass()}}s();l.addClass(q);l.show();if(u){u.show()}c=true;if(g){a()}return NiGhtBox},hide:function(){k();l.removeClass(q);c=false;if(g){a()}return NiGhtBox},toggle:function(t){if(!l||!b){NiGhtBox.init()}if(l.hasClass(q)){return NiGhtBox.hide()}else{return NiGhtBox.show(t)}},visible:function(){return c},hideOnEsc:function(t){g=t;a();return NiGhtBox}}})(jQuery);var NgFormValidator=function(d,b){var f,h=[],c=jQuery,a;a=c(d);if(!a.length){throw"Form not found in NgFormValidator()"}var e=function(k){h.push({name:k.name||k[0],msg:k.msg||k[k.length-1]})},i=function(k){return c.any(h,function(l){return k==l.name})},j=function(o,m,k){var n=m.name||m[0],l=k.filter("[name='"+n+"']"),p,q;if(l.length===0){return true}else{if(l.length===1){if(l.attr("type")==="checkbox"){p=l.filter(":checked").val()}else{p=l.val()}}else{p=l.filter(":checked").first().val()}}if(PHP.get("DEBUG")&&!l.exists()&&o!=="checked"){throw"Required input does not exist: "+n}switch(o){case"require":q=p&&p.length;break;case"regex":q=!p||p.match(m.regex||m[1]);break;case"min_length":q=p&&p.length>=(m.length_requirement||m[1]);break;case"max_length":q=!p||p.length<=(m.length_requirement||m[1]);break;case"checked":q=!l.exists()||l.is(":checked");break;case"equals":q=!p||p===k.filter("[name='"+(m.second_value||m[1])+"']").val();break;default:throw"Unknown validation type: "+o}if(!q){e(m)}},g=function(k){if(k.depends&&!c.isArray(k.depends)){throw"'depends' property of validator must be an array"}return !k.depends||!c.any(k.depends,function(l){return i(l)})};this.validate=function(){h=[];f=a.find("input:enabled, textarea:enabled, select:enabled");if(f&&f.length){c.each(b,function(n,m){var k=m.length;for(var l=0;l<k;++l){if(g(m[l])){j(n,m[l],f)}}})}else{if(PHP.get("DEBUG")){if(window.console&&console.log){console.log("no inputs found")}}}return h.length===0};this.getErrors=function(){return h};this.isValid=function(){return h.length===0};this.getErrorMessages=function(){var l=[];for(var k=h.length-1;k>=0;--k){l.push(h[k].msg)}return c.nub(l)};this.getFailedInputs=function(){var l=[];for(var k=h.length-1;k>=0;--k){l.push(h[k].name)}return l};this.sendFocusTo=function(k){if(typeof k==="undefined"){f.filter("[name='"+(h.pop().name)+"']").focus()}else{if(PHP.get("DEBUG")&&!f.filter("[name='"+k+"']").exists()){throw"Cannot focus on this, as it does not exist: "+k}f.filter("[name='"+k+"']").focus()}}};NgFormValidator.prototype.inform=function(){alert(this.getErrorMessages().join("\n"))};NgXmlDom=function(a){this._xml=a};NgXmlDom.prototype={isValidDom:function(){if(this._is_valid_dom===undefined){this._is_valid_dom=this._xml&&this._xml.documentElement}return this._is_valid_dom},getXml:function(){return this._xml},getField:function(b){if(this.isValidDom()){var a=this._xml.documentElement.getElementsByTagName(b);if(a&&a.length==1&&a[0].firstChild){return a[0].firstChild.data}}},hasField:function(b){if(this.isValidDom()){var a=this._xml.documentElement.getElementsByTagName(b);return a&&a.length==1&&a[0].firstChild}},STATUS_ERROR:0,STATUS_SUCCESS:1,STATUS_ERROR_SILENT:2,validate:function(a){var b=this.getField("status");if(!b&&0!==b){alert("Server error.  Please wait a moment and try again.");if(a){a(this)}return false}else{switch(parseInt(b,10)){case this.STATUS_SUCCESS:return true;case this.STATUS_ERROR:alert("Error - "+this.getField("errormsg"));if(a){a(this)}return false;case this.STATUS_ERROR_SILENT:return false}}}};function enableSelectFacades(){var c=jQuery,b=function(d){var e=c(d);e.prev().text(e.getSelected().text())},a=function(){b(this)};c("div.select select").off("change",a).on("change",a).off("keyup",a).on("keyup",a).off("keydown",a).on("keydown",a).Each(b)}jQuery(function(e){var k=function(){var o=function(r){return'<li><a href="'+r.getLink()+'"><img title="" alt="Ad Icon" src="'+r.getImageUrl(70,70)+'" width="70" height="39" /></a><div><div><div><a href="'+r.getLink()+'">'+r.getTitle()+"</a><span>"+r.getDescription(100)+"</span></div></div></div></li>"};if(window.cpmStar){var p=e("div#webfeature"),m=e('<ul class="centeredblocks webfeature"></ul>'),q=8,n;for(n=q-1;n;--n){m.append(o(cpmStar));cpmStar.nextAd()}m.append(o(cpmStar));p.append(m)}};e("div.podtop a.min").click(function(p){if(e(this).hasClass("ignore")){return false}var o=e(this),n=o.parentsUntil("div.podtop").parent().parent(),m;m=o.parents("div.podtop:first");if(!m.hasClass("minimized")){m.addClass("minimized")}return false});e("div.podtop a.max").click(function(n){if(e(this).hasClass("ignore")){return false}var m=e(this).parents("div.podtop:first");if(m.hasClass("minimized")){m.removeClass("minimized")}return false});e('input[type="reset"]').click(function(m){return confirm("Are you sure you want to reset this form?")});e('input[type="file"]').change(function(m){e(this).setUploadVal()});e("table.alternate tr:odd").addClass("alt");if(PHP.get("is_ie")){e("label").click(function(m){e("#"+m.closest("label").attr("for")).click();m.preventDefault()})}(function(){var r,n=[],p=false,q=0,o=function(s){n=remove_value(s,n)},m=function(s){return !InArray(s,n)};e("#header_nav > dl").each(function(){this.my_dds=e(this).children("dd");this.uniq=++q}).mouseenter(function(t){var s=this.uniq,u=this.my_dds;p=s;if(m(s)){n.push(s);r={dds:u,uniq:s};this.my_dds.slideDown(50,function(){o(s);if(s!==p){u.hide()}})}return false}).mouseleave(function(t){var s=this.uniq,u=this.my_dds;p=false;if(m(s)){n.push(s);this.my_dds.slideUp("fast",function(){o(s);if(s===p){u.show()}})}return false})})();e("#topsearch").submit(function(o){o.preventDefault();var n=e("#topsearch_text").val().replace("/"," ");var m=PHP.get("search_urls")[e("#topsearch_type").getSelected().val()]+"/"+encodeURIComponent(n);document.location=m});var l=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad)/);var a=e("#header_label_username");if(a.length){var g=e("#header_label_password"),c=e("#username"),j=e("#password"),h=e("#remember"),f=function(m,n){n.click(function(){e(this).hide();m.focus()})},i=function(m,n){var o=function(){if(m.val()){n.hide()}else{n.show()}};m.focus(function(){n.hide()}).blur(o).blur();setTimeout(o,100)};i(c,a);i(j,g);if(l){f(c,a);f(j,g);h.css("z-index","9999")}h.next("span").click(function(){h.checked=!h.checked})}var b={};var d=true;e(".podtop").click(function(n){var m=e(n.closest("a"));if(m.length){if(m.hasClass("dim")){NiGhtBox.toggle(e(this).parent());if(d){d=false;e('div[id^="adcode_iframe_"]').each(function(){var p=e(this).attr("id");var o=e(this).html();b[p]=o;e(this).html("")})}else{d=true;e('div[id^="adcode_iframe_"]').each(function(){var p=e(this).attr("id");var o=b[p];e(this).html(o)});b={}}}else{if(m.hasClass("max")){e(this).removeClass("minimized")}else{if(m.hasClass("min")){m.addClass("minimized")}else{return}}}n.preventDefault()}});e(".pl-add").click(function(){e("#playlist_add").toggle();return false});if(e.browser.mozilla){e('input[type="radio"]').attr("autocomplete","off")}enableSelectFacades();k();e(document).ready(function(){var n,m=e("ul.checkboxes li span, table.pmlist tr td span, table#pending_requests tr td span");if(l){m.click(function(){n=e(this).prev("input");if(n.is('input[type="checkbox"]')||n.is('input[type="radio"]')){n.get(0).checked=!n.get(0).checked;n.get(0).focus();e(this).down().css("background-position",n.get(0).checked?"0 0px":"0 -17px")}})}})});var addSwappableElement,addSwappableHTML,drawSwappableElement,fillSwappableElements,clearSwappableElements;(function(){var e=true,a={},b=[];var c=function(g,h,f){return'<iframe src="http://www.newgrounds.com/promo/store_promo'+g+'.html" height="'+f+'" width="'+h+'" scrolling="no" frameborder="0"></iframe>'};var d={"728x90":c("_wide",728,90),"630x90":c("630x90",630,90),"125x600":c("125x600",600,125),"200x200":c("200x200",200,200),"300x250":c("300x250",250,300)};d.wide=d["728x90"];d.sky=d["125x600"];d.square=d["200x200"];d.box=d["300x250"];addSwappableElement=function(h,f,g){g=addSwappableHTML(h,f,g);drawSwappableElement(g)};addSwappableHTML=function(h,f,g){if(!g){g="swappable_html"}if(a[g]!==undefined){a[g]++;g=g+"_duplicate_"+a[g]}else{a[g]=0}if(f===undefined){f=null}b.push({element_id:g,base_code:h,code_type:f});return g};drawSwappableElement=function(f){document.write('<div id="'+f+'"></div>')};fillSwappableElements=function(){var h,g,f;for(h=0;h<b.length;h++){g=$("#"+b[h].element_id);if(g.length){f=b[h].code_type;if(e&&f!==null){if(d[f]===undefined){g.html(f)}else{g.html(d[f])}}else{g.html(b[h].base_code)}}}};clearSwappableElements=function(){for(var f=0;f<b.length;f++){$("#"+b[f].element_id).html("")}};(function(){var f=PHP.get("delayed_load"),g;if(f){for(g in f){if(f.hasOwnProperty(g)){$("#"+g).html(f[g])}}}})()})();