/*********************************************************
 *
 * Lexus cod.js
 *
 * @version: 2.2
 * @date: 2012.04.11 13:59
 *
 * THIS IS A GENERATED FILE - DO NOT MODIFY HERE
 *
 *********************************************************/
var omnixd_config=function(){var b;try{b=(/(tstcpd\d|devcpd\d|staging)\./g.test(document.domain))?true:false}catch(c){b=false}var a,d;if(b){a="http://staging.lexus.com/lexus-share/js/tracking_omn/omnixd.swf";d="https://secure.staging.lexus.com/lexus-share/js/tracking_omn/omnixd.swf"}else{a="http://www.lexus.com/lexus-share/js/tracking_omn/omnixd.swf";d="https://secure.lexus.com/lexus-share/js/tracking_omn/omnixd.swf"}return{conn:{swfURL:a,swfSecureURL:d,flashvars:{brandid:"lexus",debug:false}},dart:{staticsrc:"1044889",type:"lexus764"},log:{debug:false},senderConnectionDelay:2500}}();(function(a,b){var e=(b)?true:false;if(!a.Log){var d={add:function(f){if(f==null){return}var c="";if(arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name){c=arguments.callee.caller.name+":"}this.history.push(c+f.toString());if(this.history.length>400){this.history.shift()}},history:[],info:function(c){this.add(c)},warn:function(c){this.add(c)},log:function(c){this.add(c)},debug:function(c){this.add(c)}};a.Log=(a.console&&console.debug&&console.info&&console.warn&&console.log&&e)?a.console:d}})(window,(window.omnixd_config&&omnixd_config.log&&omnixd_config.log.debug)?true:false);var baker=function(b){if(window.console&&(typeof(console.log)=="function"||typeof(console.log)=="object")){try{window.console.log(b)}catch(a){}}};if(!window.omni_page_var){var omni_page_var={}}if(!window.omnixd_config){var omnixd_config={}}if(!omnixd_config.ns){omnixd_config.ns="s"}function mergeObject(b,c){var a={};for(var d in b){if(b.hasOwnProperty(d)){a[d]=b[d]}}for(var d in c){if(c.hasOwnProperty(d)){a[d]=c[d]}}return a}function fireTag(c,b){if(!c||c.length===0){baker("error: the tag id cannot be null");return}if(!b){b={}}var e=(omnixd_config&&omnixd_config.ns)?omnixd_config.ns:"s";var j=window[e];var h=null;var k=null;var d,a,l;if(!window.taglist){baker("error: JSON file not included");return}try{l=taglist["F"+String(c).replace(".","X")];if(!l){baker("error: Included JSON file does not contain codeblock "+c);return}if(!j){baker("error: Omniture Site Catalyst is missing");return}if(!j.tl){baker("error: Omniture Site Catalyst is overwritten");return}if("object"==typeof(window.omni_page_var)){b=mergeObject(omni_page_var,b)}if(window.omnixd_config&&omnixd_config.fireTag&&omnixd_config.fireTag.dynamicParamAdapter&&(typeof(omnixd_config.fireTag.dynamicParamAdapter)==="function")){var g=omnixd_config.fireTag.dynamicParamAdapter(c,b);if(g&&g.id){c=g.id}if(g&&g.dv){b=g.dv}}for(d in l){if(l.hasOwnProperty(d)){k=l[d];for(a in b){if(b.hasOwnProperty(a)){if(l[d].indexOf(a)!==-1){if(k===l[d]){k=l[d].replace(a,b[a])}else{k=k.replace(a,b[a])}}}}j[d]=k;if(h===null){h=e+"."+d+" = "+k}else{h=h+"\n"+e+"."+d+" = "+k}}}if(h!==null){baker("codeblock "+c+" found to contain:\n"+h);try{if(j.linkType){j.tl(this,j.linkType,j.linkName)}else{j.t()}baker("codeblock "+c+" Sent")}catch(f){baker("error: codeblock "+c+" was not sent");baker(f)}}h=null;for(d in l){if(l.hasOwnProperty(d)){j[d]=""}}}catch(i){baker("error: unknown error");baker(i)}}var MediaTrack=function(o,m,k){baker("MediaTrack("+o+","+m+","+k+")");var a=(omnixd_config&&omnixd_config.ns)?omnixd_config.ns:"s";var n=window[a];var l,e;if(m&&m.indexOf(":")>-1){l=m.split(":");m=l.split[1]}if(k&&k.indexOf(":")>-1){e=k.split(":");k=e.split[1]}if(window.omnixd_config&&omnixd_config.MediaTrack&&omnixd_config.MediaTrack.dynamicParamAdapter&&(typeof(omnixd_config.MediaTrack.dynamicParamAdapter)==="function")){var f=omnixd_config.MediaTrack.dynamicParamAdapter(o,m,k);if(f&&f.x){o=f.x}if(f&&f.y){m=f.y}if(f&&f.z){k=f.z}}var d="Player";if(window.omnixd_config&&omnixd_config.MediaTrack&&omnixd_config.MediaTrack.playerName&&(typeof(omnixd_config.MediaTrack.playerName)==="string")){d=omnixd_config.MediaTrack.playerName}try{var c=o;var p;if(!(/[^0-9|.]/gi.test(o))){p=taglist["F"+String(o).replace(".","X")];if(p&&p.mediaTitle){c=p.mediaTitle.toString()}}if(!n){baker("error: Omniture Site Catalyst is missing");return}if(!n.Media){baker("error: Omniture Site Catalyst is overwritten");return}if(m==="MediaOpen"){baker("open:"+c);try{n.Media.open(c,k,d);baker("MediaOpen Tracked!")}catch(b){baker("error: Did not track MediaOpen.")}}else{if(m==="MediaPlay"){baker("play:"+c);try{n.Media.play(c,k);baker("MediaPlay Tracked!")}catch(j){baker("error: Did not track MediaPlay.");baker(j)}}else{if(m==="MediaStop"){baker("stop:"+c);try{n.Media.stop(c,k);baker("MediaStop Tracked!")}catch(i){baker("error: Did not track MediaStop.");baker(i)}}else{if(m==="MediaClose"){baker("end:"+c);try{n.Media.stop(c,k);n.Media.close(c);baker("MediaEnd Tracked!")}catch(h){baker("error: Did not track MediaEnd.");baker(h)}}}}}}catch(g){baker("error: Codeblock not found.");baker(g)}};var omnixd=(function(y){var L=function(){this.lo={}};L.prototype.addEventListener=function(q,T){if(typeof(q)!=="string"||typeof(T)!=="function"){return}if(typeof this.lo[q]==="undefined"){this.lo[q]=[]}this.lo[q].push(T)};L.prototype.removeEventListener=function(U,V){if(typeof(U)!=="string"||typeof(V)!=="function"){return}if(this.lo[U] instanceof Array){var W=this.lo[U];for(var T=0,q=W.length;T<q;T+=1){if(W[T]===V){W.splice(T,1);break}}}};L.prototype.dispatchEvent=function(V){if(!(V&&V.type)){return}if(this.lo[V.type] instanceof Array){var W=(this.lo[V.type]).slice(0);for(var T=0,q=W.length;T<q;T+=1){try{W[T].call(this,V)}catch(U){}}}};var v=function(T,q){this.defaultInterval=200;this.defaultMaxAttempts=1;this.ed=new L();this.maxAttempts=(isNaN(q))?this.defaultMaxAttempts:q;this.attempt=0;this.inprogress=false;this.delayMS=(isNaN(T))?this.defaultInterval:T;this.pollTO=-1;this.done=false};v.EVENT_CHECK="poll_check";v.EVENT_SUCCESS="poll_success";v.EVENT_FAILED="poll_failed";v.EVENT_STOPPED="poll_stopped";v.SUCCESS="success";v.FAIL="fail";v.CONTINUE="continue";v.STOP="stop";v.prototype.start=function(){if(!this.inprogress){this.inprogress=true;this.attempt=1;this.done=false;this.delay()}};v.prototype.stop=function(){if(this.inprogress){this.inprogress=false;this.done=true;clearTimeout(this.pollTO);this.setResult(v.EVENT_STOPPED)}};v.prototype.delay=function(){if(this.attempt<this.maxAttempts){var q=(function(T){return function(){T.check()}})(this);this.pollTO=setTimeout(q,this.delayMS)}else{this.de(v.EVENT_FAILED)}};v.prototype.check=function(){this.de(v.EVENT_CHECK)};v.prototype.de=function(q){var T={type:q,target:this,attempt:this.attempt,maxAttempts:this.maxAttempts};this.ed.dispatchEvent(T)};v.prototype.addEventListener=function(q,T){return this.ed.addEventListener(q,T)};v.prototype.removeEventListener=function(q,T){return this.ed.removeEventListener(q,T)};v.prototype.isInProgress=function(){return this.inprogress};v.prototype.setResult=function(q){switch(q){case v.SUCCESS:this.done=true;this.de(v.EVENT_SUCCESS);break;case v.FAIL:this.done=true;this.de(v.EVENT_FAILED);break;case v.STOP:this.done=true;this.de(v.EVENT_STOPPED);break;case v.CONTINUE:if(!this.done){this.attempt++;this.delay()}break}};var R=function(){this.ed=new L();this._q=[];this.inprogress=false;this.delay=100};R.EVENT_CHANGE="queue_change";R.EVENT_UPDATE="queue_update";R.EVENT_START="queue_start";R.EVENT_COMPLETE="queue_complete";R.EVENT_STOP="queue_stop";R.prototype.enqueue=function(q){this._q.push(q);this.to=-1;this.stopped=false};R.prototype.dequeue=function(){var q=this._q.shift();return q};R.prototype.process=function(){var q;if(!this.inprogress){this.stopped=false;this.inprogress=true;this.de(R.EVENT_START,"");this._process()}};R.prototype._process=function(){if(!this.stopped){if(this.getAmountQueued()>0){var q=this.dequeue();this.de(R.EVENT_UPDATE,q);if(this.getAmountQueued()>0){var T=(function(U){return function(){U._process()}})(this);this.to=setTimeout(T,this.delay)}else{this.inprogress=false;this.de(R.EVENT_COMPLETE,"")}}else{this.inprogress=false;this.de(R.EVENT_COMPLETE,"")}}};R.prototype.stop=function(){clearTimeout(this.to);this.stopped=true;this.inprogress=false;this.de(R.EVENT_STOP,"")};R.prototype.getAmountQueued=function(){return this._q.length};R.prototype.isProcessing=function(){return this.inprogress};R.prototype.addEventListener=function(q,T){return this.ed.addEventListener(q,T)};R.prototype.removeEventListener=function(q,T){return this.ed.removeEventListener(q,T)};R.prototype.de=function(q,T){var U={type:q,target:this,amountQueued:this.getAmountQueued(),data:(T)?T:""};this.ed.dispatchEvent(U)};var B=(function(){var V=(function(){var aA=function(){var aU="undefined",a6="object",aF="Shockwave Flash",aB="ShockwaveFlash.ShockwaveFlash",a7="application/x-shockwave-flash",aG="SWFObjectExprInst",a0="onreadystatechange",aJ=window,be=document,a4=navigator,aE=false,aD=[bg],a9=[],aK=[],aP=[],bc,aH,aT,aW,aO=false,bn=false,ba,aR,bb=true,aL=function(){var bo=typeof be.getElementById!=aU&&typeof be.getElementsByTagName!=aU&&typeof be.createElement!=aU,bs=a4.userAgent.toLowerCase(),bq=a4.platform.toLowerCase(),bv=bq?/win/.test(bq):/win/.test(bs),bx=bq?/mac/.test(bq):/mac/.test(bs),bu=/webkit/.test(bs)?parseFloat(bs.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,br=!+"\v1",bt=[0,0,0],by=null;if(typeof a4.plugins!=aU&&typeof a4.plugins[aF]==a6){by=a4.plugins[aF].description;if(by&&!(typeof a4.mimeTypes!=aU&&a4.mimeTypes[a7]&&!a4.mimeTypes[a7].enabledPlugin)){aE=true;br=false;by=by.replace(/^.*\s+(\S+\s+\S+$)/,"$1");bt[0]=parseInt(by.replace(/^(.*)\..*$/,"$1"),10);bt[1]=parseInt(by.replace(/^.*\.(.*)\s.*$/,"$1"),10);bt[2]=/[a-zA-Z]/.test(by)?parseInt(by.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof aJ.ActiveXObject!=aU){try{var bw=new ActiveXObject(aB);if(bw){by=bw.GetVariable("$version");if(by){br=true;by=by.split(" ")[1].split(",");bt=[parseInt(by[0],10),parseInt(by[1],10),parseInt(by[2],10)]}}}catch(bp){}}}return{w3:bo,pv:bt,wk:bu,ie:br,win:bv,mac:bx}}(),bd=function(){if(!aL.w3){return}if((typeof be.readyState!=aU&&be.readyState=="complete")||(typeof be.readyState==aU&&(be.getElementsByTagName("body")[0]||be.body))){bi()}if(!aO){if(typeof be.addEventListener!=aU){be.addEventListener("DOMContentLoaded",bi,false)}if(aL.ie&&aL.win){be.attachEvent(a0,function(){if(be.readyState=="complete"){be.detachEvent(a0,arguments.callee);bi()}});if(aJ==top){(function(){if(aO){return}try{be.documentElement.doScroll("left")}catch(bo){setTimeout(arguments.callee,0);return}bi()})()}}if(aL.wk){(function(){if(aO){return}if(!/loaded|complete/.test(be.readyState)){setTimeout(arguments.callee,0);return}bi()})()}a5(bi)}}();function bi(){if(aO){return}try{var bp=be.getElementsByTagName("body")[0].appendChild(aV("span"));bp.parentNode.removeChild(bp)}catch(bo){return}aO=true;var br=aD.length;for(var bq=0;bq<br;bq++){aD[bq]()}}function aN(bo){if(aO){bo()}else{aD[aD.length]=bo}}function a5(bo){if(typeof aJ.addEventListener!=aU){aJ.addEventListener("load",bo,false)}else{if(typeof be.addEventListener!=aU){be.addEventListener("load",bo,false)}else{if(typeof aJ.attachEvent!=aU){bf(aJ,"onload",bo)}else{if(typeof aJ.onload=="function"){var bp=aJ.onload;aJ.onload=function(){bp();bo()}}else{aJ.onload=bo}}}}}function bg(){if(aE){aC()}else{aQ()}}function aC(){var br=be.getElementsByTagName("body")[0];var bp=aV(a6);bp.setAttribute("type",a7);var bo=br.appendChild(bp);if(bo){var bq=0;(function(){if(typeof bo.GetVariable!=aU){var bs=bo.GetVariable("$version");if(bs){bs=bs.split(" ")[1].split(",");aL.pv=[parseInt(bs[0],10),parseInt(bs[1],10),parseInt(bs[2],10)]}}else{if(bq<10){bq++;setTimeout(arguments.callee,10);return}}br.removeChild(bp);bo=null;aQ()})()}else{aQ()}}function aQ(){var bu=a9.length;if(bu>0){for(var bv=0;bv<bu;bv++){var bq=a9[bv].id;var bz=a9[bv].callbackFn;var bo={success:false,id:bq};if(aL.pv[0]>0){var bw=bl(bq);if(bw){if(aS(a9[bv].swfVersion)&&!(aL.wk&&aL.wk<312)){a1(bq,true);if(bz){bo.success=true;bo.ref=aY(bq);bz(bo)}}else{if(a9[bv].expressInstall&&aX()){var bs={};bs.data=a9[bv].expressInstall;bs.width=bw.getAttribute("width")||"0";bs.height=bw.getAttribute("height")||"0";if(bw.getAttribute("class")){bs.styleclass=bw.getAttribute("class")}if(bw.getAttribute("align")){bs.align=bw.getAttribute("align")}var bt={};var br=bw.getElementsByTagName("param");var by=br.length;for(var bx=0;bx<by;bx++){if(br[bx].getAttribute("name").toLowerCase()!="movie"){bt[br[bx].getAttribute("name")]=br[bx].getAttribute("value")}}aI(bs,bt,bq,bz)}else{a8(bw);if(bz){bz(bo)}}}}}else{a1(bq,true);if(bz){var bp=aY(bq);if(bp&&typeof bp.SetVariable!=aU){bo.success=true;bo.ref=bp}bz(bo)}}}}}function aY(bp){var br=null;var bq=bl(bp);if(bq&&bq.nodeName=="OBJECT"){if(typeof bq.SetVariable!=aU){br=bq}else{var bo=bq.getElementsByTagName(a6)[0];if(bo){br=bo}}}return br}function aX(){return !bn&&aS("6.0.65")&&(aL.win||aL.mac)&&!(aL.wk&&aL.wk<312)}function aI(bt,br,bv,bs){bn=true;aT=bs||null;aW={success:false,id:bv};var bo=bl(bv);if(bo){if(bo.nodeName=="OBJECT"){bc=bh(bo);aH=null}else{bc=bo;aH=bv}bt.id=aG;if(typeof bt.width==aU||(!/%$/.test(bt.width)&&parseInt(bt.width,10)<310)){bt.width="310"}if(typeof bt.height==aU||(!/%$/.test(bt.height)&&parseInt(bt.height,10)<137)){bt.height="137"}be.title=be.title.slice(0,47)+" - Flash Player Installation";var bp=aL.ie&&aL.win?"ActiveX":"PlugIn",bq="MMredirectURL="+aJ.location.toString().replace(/&/g,"%26")+"&MMplayerType="+bp+"&MMdoctitle="+be.title;if(typeof br.flashvars!=aU){br.flashvars+="&"+bq}else{br.flashvars=bq}if(aL.ie&&aL.win&&bo.readyState!=4){var bu=aV("div");bv+="SWFObjectNew";bu.setAttribute("id",bv);bo.parentNode.insertBefore(bu,bo);bo.style.display="none";(function(){if(bo.readyState==4){bo.parentNode.removeChild(bo)}else{setTimeout(arguments.callee,10)}})()}a3(bt,br,bv)}}function a8(bo){if(aL.ie&&aL.win&&bo.readyState!=4){var bp=aV("div");bo.parentNode.insertBefore(bp,bo);bp.parentNode.replaceChild(bh(bo),bp);bo.style.display="none";(function(){if(bo.readyState==4){bo.parentNode.removeChild(bo)}else{setTimeout(arguments.callee,10)}})()}else{bo.parentNode.replaceChild(bh(bo),bo)}}function bh(bp){var br=aV("div");if(aL.win&&aL.ie){br.innerHTML=bp.innerHTML}else{var bs=bp.getElementsByTagName(a6)[0];if(bs){var bo=bs.childNodes;if(bo){var bt=bo.length;for(var bq=0;bq<bt;bq++){if(!(bo[bq].nodeType==1&&bo[bq].nodeName=="PARAM")&&!(bo[bq].nodeType==8)){br.appendChild(bo[bq].cloneNode(true))}}}}}return br}function a3(bs,bu,bq){var br,bo=bl(bq);if(aL.wk&&aL.wk<312){return br}if(bo){if(typeof bs.id==aU){bs.id=bq}if(aL.ie&&aL.win){var bt="";for(var bw in bs){if(bs[bw]!=Object.prototype[bw]){if(bw.toLowerCase()=="data"){bu.movie=bs[bw]}else{if(bw.toLowerCase()=="styleclass"){bt+=' class="'+bs[bw]+'"'}else{if(bw.toLowerCase()!="classid"){bt+=" "+bw+'="'+bs[bw]+'"'}}}}}var bv="";for(var bx in bu){if(bu[bx]!=Object.prototype[bx]){bv+='<param name="'+bx+'" value="'+bu[bx]+'" />'}}bo.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+bt+">"+bv+"</object>";aK[aK.length]=bs.id;br=bl(bs.id)}else{var bp=aV(a6);bp.setAttribute("type",a7);for(var by in bs){if(bs[by]!=Object.prototype[by]){if(by.toLowerCase()=="styleclass"){bp.setAttribute("class",bs[by])}else{if(by.toLowerCase()!="classid"){bp.setAttribute(by,bs[by])}}}}for(var bz in bu){if(bu[bz]!=Object.prototype[bz]&&bz.toLowerCase()!="movie"){bj(bp,bz,bu[bz])}}bo.parentNode.replaceChild(bp,bo);br=bp}}return br}function bj(bp,br,bq){var bo=aV("param");bo.setAttribute("name",br);bo.setAttribute("value",bq);bp.appendChild(bo)}function aZ(bo){var bp=bl(bo);if(bp&&bp.nodeName=="OBJECT"){if(aL.ie&&aL.win){bp.style.display="none";(function(){if(bp.readyState==4){bm(bo)}else{setTimeout(arguments.callee,10)}})()}else{bp.parentNode.removeChild(bp)}}}function bm(bo){var bp=bl(bo);if(bp){for(var bq in bp){if(typeof bp[bq]=="function"){bp[bq]=null}}bp.parentNode.removeChild(bp)}}function bl(bo){var bq=null;try{bq=be.getElementById(bo)}catch(bp){}return bq}function aV(bo){return be.createElement(bo)}function bf(bo,bq,bp){bo.attachEvent(bq,bp);aP[aP.length]=[bo,bq,bp]}function aS(bo){var bp=aL.pv,bq=bo.split(".");bq[0]=parseInt(bq[0],10);bq[1]=parseInt(bq[1],10)||0;bq[2]=parseInt(bq[2],10)||0;return(bp[0]>bq[0]||(bp[0]==bq[0]&&bp[1]>bq[1])||(bp[0]==bq[0]&&bp[1]==bq[1]&&bp[2]>=bq[2]))?true:false}function a2(bp,bt,bo,bq){if(aL.ie&&aL.mac){return}var bs=be.getElementsByTagName("head")[0];if(!bs){return}var bu=(bo&&typeof bo=="string")?bo:"screen";if(bq){ba=null;aR=null}if(!ba||aR!=bu){var br=aV("style");br.setAttribute("type","text/css");br.setAttribute("media",bu);ba=bs.appendChild(br);if(aL.ie&&aL.win&&typeof be.styleSheets!=aU&&be.styleSheets.length>0){ba=be.styleSheets[be.styleSheets.length-1]}aR=bu}if(aL.ie&&aL.win){if(ba&&typeof ba.addRule==a6){ba.addRule(bp,bt)}}else{if(ba&&typeof be.createTextNode!=aU){ba.appendChild(be.createTextNode(bp+" {"+bt+"}"))}}}function a1(bo,bq){if(!bb){return}var bp=bq?"visible":"hidden";if(aO&&bl(bo)){bl(bo).style.visibility=bp}else{a2("#"+bo,"visibility:"+bp)}}function aM(bp){var bo=/[\\\"<>\.;]/;var bq=bo.exec(bp)!=null;return bq&&typeof encodeURIComponent!=aU?encodeURIComponent(bp):bp}var bk=function(){if(aL.ie&&aL.win){window.attachEvent("onunload",function(){var bo=aP.length;for(var bp=0;bp<bo;bp++){aP[bp][0].detachEvent(aP[bp][1],aP[bp][2])}var br=aK.length;for(var bq=0;bq<br;bq++){aZ(aK[bq])}for(var bs in aL){aL[bs]=null}aL=null;for(var bt in aA){aA[bt]=null}aA=null})}}();return{registerObject:function(bo,bs,bq,bp){if(aL.w3&&bo&&bs){var br={};br.id=bo;br.swfVersion=bs;br.expressInstall=bq;br.callbackFn=bp;a9[a9.length]=br;a1(bo,false)}else{if(bp){bp({success:false,id:bo})}}},getObjectById:function(bo){if(aL.w3){return aY(bo)}},embedSWF:function(by,bs,bv,bt,bq,bo,bp,bw,bu,bx){var br={success:false,id:bs};if(aL.w3&&!(aL.wk&&aL.wk<312)&&by&&bs&&bv&&bt&&bq){a1(bs,false);aN(function(){bv+="";bt+="";var bE={};if(bu&&typeof bu===a6){for(var bC in bu){bE[bC]=bu[bC]}}bE.data=by;bE.width=bv;bE.height=bt;var bB={};if(bw&&typeof bw===a6){for(var bD in bw){bB[bD]=bw[bD]}}if(bp&&typeof bp===a6){for(var bz in bp){if(typeof bB.flashvars!=aU){bB.flashvars+="&"+bz+"="+bp[bz]}else{bB.flashvars=bz+"="+bp[bz]}}}if(aS(bq)){var bA=a3(bE,bB,bs);if(bE.id==bs){a1(bs,true)}br.success=true;br.ref=bA}else{if(bo&&aX()){bE.data=bo;aI(bE,bB,bs,bx);return}else{a1(bs,true)}}if(bx){bx(br)}})}else{if(bx){bx(br)}}},switchOffAutoHideShow:function(){bb=false},ua:aL,getFlashPlayerVersion:function(){return{major:aL.pv[0],minor:aL.pv[1],release:aL.pv[2]}},hasFlashPlayerVersion:aS,createSWF:function(bo,bp,bq){if(aL.w3){return a3(bo,bp,bq)}else{return undefined}},showExpressInstall:function(bp,bo,br,bq){if(aL.w3&&aX()){aI(bp,bo,br,bq)}},removeSWF:function(bo){if(aL.w3){aZ(bo)}},createCSS:function(bp,bo,bq,br){if(aL.w3){a2(bp,bo,bq,br)}},addDomLoadEvent:aN,addLoadEvent:a5,getQueryParamValue:function(bp){var bo=be.location.search||be.location.hash;if(bo){if(/\?/.test(bo)){bo=bo.split("?")[1]}if(bp==null){return aM(bo)}var bq=bo.split("&");for(var br=0;br<bq.length;br++){if(bq[br].substring(0,bq[br].indexOf("="))==bp){return aM(bq[br].substring((bq[br].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(bn){var bo=bl(aG);if(bo&&bc){bo.parentNode.replaceChild(bc,bo);if(aH){a1(aH,true);if(aL.ie&&aL.win){bc.style.display="block"}}if(aT){aT(aW)}}bn=false}}}}();return aA})();var ay,az,ab,af,aj,Z,ai;var ah=30;var aa={divID:"__tms__div__",swfID:"omnixd",minVersion:"8.0.0",height:8,width:8,swfURL:"",swfSecureURL:"",flashvars:{},pollConnection:true,maxPollAttempts:30,pollInterval:100};var Y=new L();var W="update";var T={NOTSTARTED:"not started",CONNECTING:"connecting",CONNECTED:"connected",FAILED:"failed"};var ao=T.NOTSTARTED;function ad(aA){switch(aA){case T.NOTSTARTED:case T.CONNECTING:case T.CONNECTED:case T.FAILED:var aB={type:W,target:this,oldstatus:ao,status:aA};ao=aA;Y.dispatchEvent(aB)}}function aw(){Log.info(x+")"+l+"attachDiv");var aB=aa.divID;var aC=aa.swfID;var aE=document.getElementById(aB);if(aE){at()}var aD;aE=document.createElement("div");aE.setAttribute("id",aB);aD=document.createElement("div");aD.setAttribute("id",aC);aE.appendChild(aD);aE.style.width=aa.width+"px";aE.style.height=aa.height+"px";aE.style.position="fixed";aE.style.top="8px";aE.style.left="8px";aE.style.overflow="hidden";aE.style["z-index"]=3001;var aA=document.getElementsByTagName("body");if(aA.length>0){aA[0].appendChild(aE)}}function at(){var aA=aa.divID;var aB=document.getElementById(aA);if(aB){(aB.parentNode).removeChild(aB)}}function q(){return V.hasFlashPlayerVersion(aa.minVersion)}function av(aA){if(aj){Log.info(x+")"+l+"attempt"+aj.attempt+" of "+aj.maxAttempts+" checkSWFReady")}var aB=aa.swfID;var aD=false;try{if(ay&&typeof(ay.isReady)=="function"){aD=ay.isReady()}}catch(aC){Log.info(x+")"+l+"error:"+aC)}if(aD){aA.target.setResult(v.SUCCESS)}else{aA.target.setResult(v.CONTINUE)}}function au(){if(ap){Log.info(x+")"+l+"embedSuccess -> connecting");ai=true;if(Z){Log.info(x+")"+l+"embedSuccess");ad(T.CONNECTED);if(aj&&aj.isInProgress()){Log.info(x+")"+l+"stopping poll");aj.stop()}}}else{Log.info(x+")"+l+"embedSuccess -> already resolved")}}function ag(){ad(T.FAILED)}function an(aA){Log.info(x+")"+l+"soCallback-> is success: "+aA.success);if(aA.success){ay=aA.ref;Z=true;if(ai){Log.info(x+")"+l+"soCallback -> swf already announced ready - do success");au()}else{if(aa.pollConnection){aj=new v(aa.pollInterval,aa.maxPollAttempts);aj.addEventListener(v.EVENT_CHECK,av);aj.addEventListener(v.EVENT_SUCCESS,au);aj.addEventListener(v.EVENT_FAILED,ag);aj.start();Log.info(x+")"+l+"soCallback -> start polling for swf ready")}}}else{ad(T.FAILED)}}function ar(){Log.info(x+")"+l+"embedFlash");var aE=(window.self.location.protocol==="https:")?aa.swfSecureURL:aa.swfURL;var aA=aa.flashvars;var aD={allowscriptaccess:"always",wmode:"transparent"};var aB={};try{Z=false;ai=false;V.embedSWF(aE,aa.swfID,aa.width,aa.height,aa.minVersion,"expressInstall.swf",aA,aD,aB,an)}catch(aC){Log.info(x+")"+l+"Caught the embed error -> set embed failed");Log.warn(aC);ad(T.FAILED)}}function ac(aA,aB,aD){var aH=aA;var aG=aB;var aC=(aD)?true:false;var aF;for(aF in aG){if(aG.hasOwnProperty(aF)&&(aC)?aH.hasOwnProperty(aF):true){try{if(aG[aF].constructor===Object){if(!aH[aF]){aH[aF]={}}aH[aF]=ac(aH[aF],aG[aF],aC)}else{aH[aF]=aG[aF]}}catch(aE){aH[aF]=aG[aF]}}}return aH}function U(aA){if(aA){aa=ac(aa,aA,false)}ad(T.CONNECTING);if(q()){aw();ar()}else{ad(T.FAILED)}}function ax(){var aA=aa.divID;var aB=document.getElementById(aA);if(aB){at()}ad(T.NOTSTARTED)}function al(aA,aB){Y.addEventListener(aA,aB)}function am(aA,aB){Y.removeEventListener(aA,aB)}function X(){return ay}function ak(){return ao!==T.NOTSTARTED}function ap(){return ao===T.CONNECTING}function aq(){return ao===T.CONNECTED}function ae(){return ao===T.FAILED}return{swfobject:V,connect:U,disconnect:ax,connectionReady:au,connectionFailed:ag,getSwfRef:X,EVENT_UPDATE:W,addEventListener:al,removeEventListener:am,isStarted:ak,isConnecting:ap,isConnected:aq,isFailed:ae}})();var j=false,w=false,I=false,g=(window.self===window.top),l=(window.self===window.top)?"(Listener)":"(Sender)",x=(function(){var T=window.self.location.pathname;var q=T.split("/");return q[q.length-1]})(),d=window.fireTag,e=window.MediaTrack,H,M,F,i=(function(){var V=navigator.userAgent,U=function(){return V.match(/MSIE/i)!==null}(),Y=function(){return V.match(/Firefox/i)!==null}(),q=function(){return V.match(/Chrome/i)!==null}(),X=function(){return V.match(/Safari/i)!==null&&!q}(),W=function(){return V.match(/Opera/i)!==null}(),T="ot";if(U){T="ie"}else{if(Y){T="ff"}else{if(q){T="ch"}else{if(X){T="sa"}else{if(W){T="op"}}}}}return T})();function O(T){var q=T.split(".");if(q.length>2){T="."+q[q.length-2]+"."+q[q.length-1]}else{T=""}return T}var m=O(location.hostname);var f={fireTag:{},MediaTrack:{},cookie:{name:"s_vi",expire:3000,domain:m,path:"/",maxAttempts:6,pollInterval:250},conn:{swfURL:"",swfSecureURL:"",pollConnection:(window.self===window.top),width:10,height:10,flashvars:{pageid:Math.floor(Math.random()*100000000),isListener:g,browserid:i,brandid:"omni",pagename:x,debug:false,domainid:m}},senderConnectionDelay:1500,listenerConnectionDelay:0};function z(q,T,V){var Z=q;var Y=T;var U=(V)?true:false;var X;for(X in Y){if(Y.hasOwnProperty(X)&&(U)?Z.hasOwnProperty(X):true){try{if(Y[X].constructor===Object){if(!Z[X]){Z[X]={}}Z[X]=z(Z[X],Y[X],U)}else{Z[X]=Y[X]}}catch(W){Z[X]=Y[X]}}}return Z}function A(q,T){if(q&&typeof T==="function"){var U=window[q];window[q]=function(){if(typeof U==="function"){try{U()}catch(W){}}try{T()}catch(V){}}}}function Q(){if(B&&B.isConnected()){if(F){F.setActiveWindow()}}}function C(q,Y,U,V,aa){var T=(aa)?";path="+aa:"/";var W=(V)?";domain="+V:"";var X=new Date();X.setDate(X.getDate()+U);var Z=(U)?";expires="+X.toUTCString():"";document.cookie=q+"="+Y+W+T+Z}function u(T){var U,q;if(document.cookie.length>0){U=document.cookie.indexOf(T+"=");if(U!==-1){U=U+T.length+1;q=document.cookie.indexOf(";",U);if(q===-1){q=document.cookie.length}return unescape(document.cookie.substring(U,q))}}return""}function t(){return u(f.cookie.name)}function G(q){var T=f.cookie;C(T.name,q,T.expire,T.domain,T.path)}function r(){var T=Math.floor(Math.random()*100);var q="_avail";C(q,T,f.cookie.domain);var U=parseInt(u(q),10);return(T===U)}function n(V){w=true;var X=false;var q=B.getSwfRef();var Z=(q&&q.isPrefsAvailable());var aa=r();if(aa&&Z){var U=q.getPrefs();var Y=t();var T=U.length>0&&U!=="null";var ab=Y.length>0;var W=q.isSiteVisited(m);if(!ab&&W){Log.info("site visited but pref missing - clear remote pref");q.clearPrefs();q.clearVisited(m);X=true}else{if(!ab&&!T){Log.info("first time");X=true}else{if(ab&&!T){Log.info("store remote preference");q.setPrefs(Y)}else{if(T&&Y!==U){Log.info("write remote preference");G(U)}}}}q.setSiteVisited(m)}return X}function E(T){var q=t();if(q.length>0){T.target.setResult(v.SUCCESS)}else{T.target.setResult(v.CONTINUE)}}function N(T){var U=B.getSwfRef();if(T.type===v.EVENT_SUCCESS){Log.info("read new local pref = save to remote pref");var q=t();U.setPrefs(q);U.setSiteVisited(m)}else{Log.info("cannot read local pref - just process the queue")}H.process()}function K(){M=new v(100,20);M.addEventListener(v.EVENT_CHECK,E);M.addEventListener(v.EVENT_SUCCESS,N);M.addEventListener(v.EVENT_FAILED,N);M.start()}function b(q){switch(q.callback){case"localFireTag":d(q.id,q.obj);break;case"localMediaTrack":e(q.x,q.y,q.z);break}}function D(T){if(B.isConnected()&&g&&!w){var q=n(T);if(q){H.stop();b(T);K()}else{b(T)}}else{b(T)}}function o(){if(F){Log.info(x+")"+l+"makeConnection");F.connectToListener();H.process()}}function p(q){if(q.status==="connected"){Log.info(x+")"+l+"getStatusUpdate(connected) - make connection");F=B.getSwfRef();Log.info(x+")"+l+"got swf:"+F);o()}else{if(q.status==="failed"){H.process()}}}function a(T){Log.info(x+")"+l+" forward to parent "+T.command+"("+T.id+", obj)");var q=B.getSwfRef();switch(T.command){case"fireTag":var U=P(T.obj);q.fireTag(T.id,U);break;case"MediaTrack":q.MediaTrack(T.x,T.y,T.z);break}}function S(U){var q={};if(U){for(var T in U){if(U.hasOwnProperty(T)){if(T.indexOf("<")<0){q["<"+T+">"]=U[T]}else{q[T]=U[T]}}}U=q}return q}function P(V){var q={};var W,T,X;if(V){for(var U in V){if(V.hasOwnProperty(U)){W=U.indexOf("<");T=U.indexOf(">");if(W>-1&&T>-1){X=U.substring(W+1,T)}else{X=U}q[X]=V[U]}}}return q}function k(q){Log.info(x+")"+l+"makeCall ->conn.isConnected():"+B.isConnected());if(!g&&B.isConnected()){a(q.data)}else{D(q.data)}}function c(){Log.info("##### initialize ####");j=true;f=z(f,y);H=new R();H.addEventListener(R.EVENT_UPDATE,k);B.addEventListener(B.EVENT_UPDATE,p);var q;if(g){A("onfocus",Q);q=(!isNaN(f.listenerConnectionDelay))?f.listenerConnectionDelay:0}else{q=(!isNaN(f.senderConnectionDelay))?f.senderConnectionDelay:250}if(q>0){var T=(function(U){return function(){Log.info(x+")"+l+" delay complete-> conn.connect");B.connect(f.conn)}})(this);setTimeout(T,q)}else{B.connect(f.conn)}}function J(){Log.info(x+")"+l+"flashIsReady()");B.connectionReady()}function s(T,q){Log.info(x+")"+l+"omnixd.ft("+T+", obj)");if(!j){c()}q=S(q);H.enqueue({command:"fireTag",callback:"localFireTag",id:T,obj:q});Log.info("adding "+T+" at queue "+H.getAmountQueued());if((B.isConnected()||B.isFailed())){H.process()}}function h(q,U,T){if(!j){c()}H.enqueue({command:"MediaTrack",callback:"localMediaTrack",x:q,y:U,z:T});if(B.isConnected()||B.isFailed()){H.process()}}window.fireTag=s;window.MediaTrack=h;window.omnixdReady=J;B.swfobject.addLoadEvent(function(){if(!j){c()}})})(omnixd_config);if(!window.omnixd_config){omnixd_config={}}if(!omnixd_config.dart){omnixd_config.dart={staticsrc:"1044889",type:"lexus764"}}var staticsrc="1044889";if(window.omnixd_config&&omnixd_config.dart&&omnixd_config.dart.staticsrc){staticsrc=omnixd_config.dart.staticsrc}var floodLightType="unknw123";if(window.omnixd_config&&omnixd_config.dart&&omnixd_config.dart.type){floodLightType=omnixd_config.dart.type}var floodlightSrc="http://fls.doubleclick.net/activityi;src=1044889;type="+floodLightType+";";function spotTag(id,dv){var tagvars="";var newVar=null;var url=null;var json;if(!window.taglist){baker("error: JSON file not included");return}try{json=taglist["F"+String(id).replace(".","X")];var dv=eval(dv);if(!json){baker("error: Included JSON file does not contain codeblock "+id);return}baker(json);var hasord=false;var hasnum=false;var hassrc=false;for(var p in json){newVar=json[p];for(var q in dv){if(json[p].indexOf(q)!=-1){if(newVar==json[p]){newVar=json[p].replace(q,dv[q])}else{newVar=newVar.replace(q,dv[q])}}}if(p=="src"){hassrc=true;if(newVar==null){newVar=staticsrc}}else{if(p=="num"){hasnum=true;if(newVar=="<rand>"){newVar=getRandomNum()}}else{if(p=="ord"){newVar="1";hasord=true}}}if(json[p]!=-1){tagvars+=";"+p+"="+newVar}}if(hassrc==false){tagvars=";src="+staticsrc+tagvars}if(hasord==false){tagvars+=";ord=1"}if(hasnum==false){tagvars+=";num="+getRandomNum()}tagvars+="?";if(tagvars!=null){baker("codeblock "+id+" found to contain:\n"+tagvars);fullUrl="http://adregion.doubleclick.net/activity"+tagvars;baker(fullUrl);writeToBody(fullUrl,"img")}else{var dynamics="";if(dv){dynamics=", with dynamic variables ";for(var q in dv){dynamics=dynamics+" "+q+":"+dv[q]+" "}}baker("error: codeblock "+id+" is set to fire"+dynamics+", but it does not exist within the included JSON file")}}catch(err){baker("error: Unknown Error with tag id "+id)}}function floodTag(id,dv){var tagvars="";var newVar=null;var url=null;var json;if(!window.taglist){baker("error: JSON file not included");return}try{json=taglist["F"+String(id).replace(".","X")];if(!json){baker("error: Included JSON file does not contain codeblock "+id);return}var dv=eval(dv);baker(json);var hasord=false;var hasnum=false;var hassrc=false;baker();for(var p in json){newVar=json[p];for(var q in dv){if(json[p].indexOf(q)!=-1){if(newVar==json[p]){newVar=json[p].replace(q,dv[q])}else{newVar=newVar.replace(q,dv[q])}}}if(p=="src"){hassrc=true;if(newVar==null){newVar=staticsrc}}else{if(p=="num"){hasnum=true;if(newVar=="<rand>"){newVar=getRandomNum()}}else{if(p=="ord"){newVar="1";hasord=true}}}if(json[p]!=-1){tagvars+=";"+p+"="+newVar}}if(hassrc==false){tagvars=";src="+staticsrc+tagvars}if(hasord==false){tagvars+=";ord=1"}if(hasnum==false){tagvars+=";num="+getRandomNum()}tagvars+="?";if(tagvars!=null){baker("codeblock "+id+" found to contain:\n"+tagvars);fullUrl="http://fls.doubleclick.net/activityi"+tagvars;baker(fullUrl);writeToBody(fullUrl,"iframe")}else{var dynamics="";if(dv){dynamics=", with dynamic variables ";for(var q in dv){dynamics=dynamics+" "+q+":"+dv[q]+" "}}baker("error: codeblock "+id+" is set to fire"+dynamics+", but it does not exist within the included JSON file")}}catch(err){baker("error: Unknown Error with tag id "+id)}}function writeToBody(a,c){var b=document.createElement(c);b.setAttribute("src",a);b.setAttribute("width","1");b.setAttribute("height","1");b.setAttribute("frameborder","0");document.body.appendChild(b)}function getRandomNum(){var a=Math.random()+"";var b=a*10000000000000;return b};