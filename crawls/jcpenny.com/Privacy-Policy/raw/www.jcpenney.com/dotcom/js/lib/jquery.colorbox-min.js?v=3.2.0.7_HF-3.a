(function(ac,u,V){function aa(af){if(!j){a=af,W(),H=ac(a),b=0,g.rel!=="nofollow"&&(H=ac("."+ad).filter(function(){var ah=ac.data(this,Z).rel||this.rel;return ah===g.rel;}),b=H.index(a),b===-1&&(H=H.add(a),b=H.length-1));if(!f){f=h=!0,L.show();if(g.returnFocus){try{a.blur(),ac(a).one(p,function(){try{this.focus();
}catch(ah){}});}catch(ag){}}J.css({opacity:+g.opacity,cursor:g.overlayClose?"pointer":"auto"}).show(),g.w=U(g.initialWidth,"x"),g.h=U(g.initialHeight,"y"),n.position(),s&&I.bind("resize."+t+" scroll."+t,function(){J.css({width:I.width(),height:I.height(),top:I.scrollTop(),left:I.scrollLeft()});}).trigger("resize."+t),O(v,g.onOpen),e.add(y).hide(),d.html(g.close).show();
}n.load(!0);}}function Y(){var aj,ak=ab+"Slideshow_",af="click."+ab,ag,ah,ai;g.slideshow&&H[1]?(ag=function(){A.text(g.slideshowStop).unbind(af).bind(Q,function(){if(b<H.length-1||g.loop){aj=setTimeout(n.next,g.slideshowSpeed);}}).bind(w,function(){clearTimeout(aj);}).one(af+" "+o,ah),L.removeClass(ak+"off").addClass(ak+"on"),aj=setTimeout(n.next,g.slideshowSpeed);
},ah=function(){clearTimeout(aj),A.text(g.slideshowStart).unbind([Q,w,o,af].join(" ")).one(af,ag),L.removeClass(ak+"on").addClass(ak+"off");},g.slideshowAuto?ag():ah()):L.removeClass(ak+"off "+ak+"on");}function O(af,ag){ag&&ag.call(a),ac.event.trigger(af);}function W(af){g=ac.extend({},ac.data(a,Z));
for(af in g){ac.isFunction(g[af])&&af.substring(0,2)!=="on"&&(g[af]=g[af].call(a));}g.rel=g.rel||a.rel||"nofollow",g.href=g.href||ac(a).attr("href"),g.title=g.title||a.title,typeof g.href=="string"&&(g.href=ac.trim(g.href));}function K(af){return g.photo||/\.(gif|png|jpg|jpeg|bmp)(?:\?([^#]*))?(?:#(\.*))?$/i.test(af);
}function U(af,ag){return Math.round((/%/.test(af)?(ag==="x"?I.width():I.height())/100:1)*parseInt(af,10));}function ae(ah,af,ag){ag=u.createElement("div"),ah&&(ag.id=ab+ah),ag.style.cssText=af||"";return ac(ag);}var X={transition:"elastic",speed:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:0.9,preloading:!0,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",open:!1,returnFocus:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:!1},Z="colorbox",ab="cbox",ad=ab+"Element",v=ab+"_open",w=ab+"_load",Q=ab+"_complete",o=ab+"_cleanup",p=ab+"_closed",q=ab+"_purge",r=ac.browser.msie&&!ac.support.opacity,s=r&&ac.browser.version<7,t=ab+"_IE6",J,L,N,P,D,E,F,G,H,I,M,k,x,y,z,A,B,C,d,e,g,i,R,S,T,a,b,c,f,h,j,l,m,n;
n=ac.fn[Z]=ac[Z]=function(af,ag){var ah=this;af=af||{};if(!ah[0]){if(ah.selector){return ah;}ah=ac("<a/>"),af.open=!0;}ag&&(af.onComplete=ag),ah.each(function(){ac.data(this,Z,ac.extend({},ac.data(this,Z)||X,af)),ac(this).addClass(ad);}),(ac.isFunction(af.open)&&af.open.call(ah)||af.open)&&aa(ah[0]);
return ah;},n.init=function(){I=ac(V),L=ae().attr({id:Z,"class":r?ab+(s?"IE6":"IE"):""}),J=ae("Overlay",s?"position:absolute":"").hide(),N=ae("Wrapper"),P=ae("Content").append(M=ae("LoadedContent","width:0; height:0; overflow:hidden"),x=ae("LoadingOverlay").add(ae("LoadingGraphic")),y=ae("Title"),z=ae("Current"),B=ae("Next"),C=ae("Previous"),A=ae("Slideshow").bind(v,Y),d=ae("Close")),N.append(ae().append(ae("TopLeft"),D=ae("TopCenter"),ae("TopRight")),ae(!1,"clear:left").append(E=ae("MiddleLeft"),P,F=ae("MiddleRight")),ae(!1,"clear:left").append(ae("BottomLeft"),G=ae("BottomCenter"),ae("BottomRight"))).children().children().css({"float":"left"}),k=ae(!1,"position:absolute; width:9999px; visibility:hidden; display:none"),ac("body").prepend(J,L.append(N,k)),P.children().hover(function(){ac(this).addClass("hover");
},function(){ac(this).removeClass("hover");}).addClass("hover"),i=D.height()+G.height()+P.outerHeight(!0)-P.height(),R=E.width()+F.width()+P.outerWidth(!0)-P.width(),S=M.outerHeight(!0),T=M.outerWidth(!0),L.css({"padding-bottom":i,"padding-right":R}).hide(),B.click(function(){n.next();}),C.click(function(){n.prev();
}),d.click(function(){n.close();}),e=B.add(C).add(z).add(A),P.children().removeClass("hover"),J.click(function(){g.overlayClose&&n.close();}),ac(u).bind("keydown."+ab,function(af){var ag=af.keyCode;f&&g.escKey&&ag===27&&(af.preventDefault(),n.close()),f&&g.arrowKey&&H[1]&&(ag===37?(af.preventDefault(),C.click()):ag===39&&(af.preventDefault(),B.click()));
});},n.remove=function(){L.add(J).remove(),ac("."+ad).removeData(Z).removeClass(ad);},n.position=function(aj,af){function ai(ak){D[0].style.width=G[0].style.width=P[0].style.width=ak.style.width,x[0].style.height=x[1].style.height=P[0].style.height=E[0].style.height=F[0].style.height=ak.style.height;
}var ag=0,ah=0;I.unbind("resize."+ab),L.hide(),g.fixed&&!s?L.css({position:"fixed"}):(ag=I.scrollTop(),ah=I.scrollLeft(),L.css({position:"absolute"})),g.right!==!1?ah+=Math.max(I.width()-g.w-T-R-U(g.right,"x"),0):g.left!==!1?ah+=U(g.left,"x"):ah+=Math.round(Math.max(I.width()-g.w-T-R,0)/2),g.bottom!==!1?ag+=Math.max(u.documentElement.clientHeight-g.h-S-i-U(g.bottom,"y"),0):g.top!==!1?ag+=U(g.top,"y"):ag+=Math.round(Math.max(u.documentElement.clientHeight-g.h-S-i,0)/2),L.show(),aj=L.width()===g.w+T&&L.height()===g.h+S?0:aj||0,N[0].style.width=N[0].style.height="9999px",L.dequeue().animate({width:g.w+T,height:g.h+S,top:ag,left:ah},{duration:aj,complete:function(){ai(this),h=!1,N[0].style.width=g.w+T+R+"px",N[0].style.height=g.h+S+i+"px",af&&af(),setTimeout(function(){I.bind("resize."+ab,n.position);
},1);},step:function(){ai(this);}});},n.resize=function(af){if(f){af=af||{},af.width&&(g.w=U(af.width,"x")-T-R),af.innerWidth&&(g.w=U(af.innerWidth,"x")),M.css({width:g.w}),af.height&&(g.h=U(af.height,"y")-S-i),af.innerHeight&&(g.h=U(af.innerHeight,"y"));if(!af.innerHeight&&!af.height){var ag=M.wrapInner("<div style='overflow:auto'></div>").children();
g.h=ag.height(),ag.replaceWith(ag.children());}M.css({height:g.h}),n.position(g.transition==="none"?0:g.speed);}},n.prep=function(aj){function ai(){g.h=g.h||M.height(),g.h=g.mh&&g.mh<g.h?g.mh:g.h;return g.h;}function ah(){g.w=g.w||M.width(),g.w=g.mw&&g.mw<g.w?g.mw:g.w;return g.w;}if(!!f){var af,ag=g.transition==="none"?0:g.speed;
M.remove(),M=ae("LoadedContent").append(aj),M.hide().appendTo(k.show()).css({width:ah(),overflow:g.scrolling?"auto":"hidden"}).css({height:ai()}).prependTo(P),k.hide(),ac(c).css({"float":"none"}),s&&ac("select").not(L.find("select")).filter(function(){return this.style.visibility!=="hidden";}).css({visibility:"hidden"}).one(o,function(){this.style.visibility="inherit";
}),af=function(){function am(){r&&L[0].style.removeAttribute("filter");}var aq,al,an,ao,ap=H.length,ar,ak;!f||(ak=function(){clearTimeout(m),x.hide(),O(Q,g.onComplete);},r&&c&&M.fadeIn(100),y.html(g.title).add(M).show(),ap>1?(typeof g.current=="string"&&z.html(g.current.replace("{current}",b+1).replace("{total}",ap)).show(),B[g.loop||b<ap-1?"show":"hide"]().html(g.next),C[g.loop||b?"show":"hide"]().html(g.previous),aq=b?H[b-1]:H[ap-1],an=b<ap-1?H[b+1]:H[0],g.slideshow&&A.show(),g.preloading&&(ao=ac.data(an,Z).href||an.href,al=ac.data(aq,Z).href||aq.href,ao=ac.isFunction(ao)?ao.call(an):ao,al=ac.isFunction(al)?al.call(aq):al,K(ao)&&(ac("<img/>")[0].src=ao),K(al)&&(ac("<img/>")[0].src=al))):e.hide(),g.iframe?(ar=ac("<iframe/>").addClass(ab+"Iframe")[0],g.fastIframe?ak():ac(ar).one("load",ak),ar.name=ab+ +(new Date),ar.src=g.href,g.scrolling||(ar.scrolling="no"),r&&(ar.frameBorder=0,ar.allowTransparency="true"),ac(ar).appendTo(M).one(q,function(){ar.src="//about:blank";
})):ak(),g.transition==="fade"?L.fadeTo(ag,1,am):am());},g.transition==="fade"?L.fadeTo(ag,0,function(){n.position(0,af);}):n.position(ag,af);}},n.load=function(ah){var ai,af,ag=n.prep;h=!0,c=!1,a=H[b],ah||W(),O(q),O(w,g.onLoad),g.h=g.height?U(g.height,"y")-S-i:g.innerHeight&&U(g.innerHeight,"y"),g.w=g.width?U(g.width,"x")-T-R:g.innerWidth&&U(g.innerWidth,"x"),g.mw=g.w,g.mh=g.h,g.maxWidth&&(g.mw=U(g.maxWidth,"x")-T-R,g.mw=g.w&&g.w<g.mw?g.w:g.mw),g.maxHeight&&(g.mh=U(g.maxHeight,"y")-S-i,g.mh=g.h&&g.h<g.mh?g.h:g.mh),ai=g.href,m=setTimeout(function(){x.show();
},100),g.inline?(ae().hide().insertBefore(ac(ai)[0]).one(q,function(){ac(this).replaceWith(M.children());}),ag(ac(ai))):g.iframe?ag(" "):g.html?ag(g.html):K(ai)?(ac(c=new Image).addClass(ab+"Photo").error(function(){g.title=!1,ag(ae("Error").text("This image could not be loaded"));}).load(function(){var aj;
c.onload=null,g.scalePhotos&&(af=function(){c.height-=c.height*aj,c.width-=c.width*aj;},g.mw&&c.width>g.mw&&(aj=(c.width-g.mw)/c.width,af()),g.mh&&c.height>g.mh&&(aj=(c.height-g.mh)/c.height,af())),g.h&&(c.style.marginTop=Math.max(g.h-c.height,0)/2+"px"),H[1]&&(b<H.length-1||g.loop)&&(c.style.cursor="pointer",c.onclick=function(){n.next();
}),r&&(c.style.msInterpolationMode="bicubic"),setTimeout(function(){ag(c);},1);}),setTimeout(function(){c.src=ai;},1)):ai&&k.load(ai,g.data,function(al,aj,ak){ag(aj==="error"?ae("Error").text("Request unsuccessful: "+ak.statusText):ac(this).contents());});},n.next=function(){!h&&H[1]&&(b<H.length-1||g.loop)&&(b=b<H.length-1?b+1:0,n.load());
},n.prev=function(){!h&&H[1]&&(b||g.loop)&&(b=b?b-1:H.length-1,n.load());},n.close=function(){f&&!j&&(j=!0,f=!1,O(o,g.onCleanup),I.unbind("."+ab+" ."+t),J.fadeTo(200,0),L.stop().fadeTo(300,0,function(){L.add(J).css({opacity:1,cursor:"auto"}).hide(),O(q),M.remove(),setTimeout(function(){j=!1,O(p,g.onClosed);
},1);}));},n.element=function(){return ac(a);},n.settings=X,l=function(af){af.button!==0&&typeof af.button!="undefined"||af.ctrlKey||af.shiftKey||af.altKey||(af.preventDefault(),aa(this));},ac.fn.delegate?ac(u).delegate("."+ad,"click",l):ac("."+ad).live("click",l),ac(n.init);})(jQuery,document,this);
