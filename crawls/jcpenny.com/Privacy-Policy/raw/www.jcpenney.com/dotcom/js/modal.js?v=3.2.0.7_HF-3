(function(b){b.fn.modalWindow=function(h){var j={ajaxContent:false,openCallBack:false};var l=b("#jcpModal");var k=b("#jcpModalOverlay");var i=b("#jcpModalCloseBtn");if(l.length<1){l=b('<div id="jcpModal" class="modaWindowHolder"><div class="modalBox-bg" id="modalBox-bg-n"></div><div class="modalBox-bg" id="modalBox-bg-ne"></div><div class="modalBox-bg" id="modalBox-bg-e"></div><div class="modalBox-bg" id="modalBox-bg-se"></div><div class="modalBox-bg" id="modalBox-bg-s"></div><div class="modalBox-bg" id="modalBox-bg-sw"></div><div class="modalBox-bg" id="modalBox-bg-w"></div><div class="modalBox-bg" id="modalBox-bg-nw"></div><div class="modalWindowContent"></div></div>');
l.hide();b("body").append(l);}if(k.length<1){k=b('<div id="jcpModalOverlay" style="display:none; z-index:100; background: #777; opacity:0.7;filter: alpha(opacity = 70); position:fixed; top:0; left:0" class="jcpModalOverlay_effect"></div>').insertBefore(l);}if(i.length<1){i=b('<a href="#" id="jcpModalCloseBtn" class="closeBtn">Close</a>');
}var a=b.extend(j,h);return this.each(function(){var c=function(){l.find("a.cancel").each(function(){var f=b(this);f.bind("click",function(g){g.preventDefault();i.trigger("click");});});};var d=function(){if(a.openCallBack){a.openCallBack();}};var e=b(this);e.bind("click",function(f){f.preventDefault();
hrefVal=e.attr("href");if(hrefVal==undefined){hrefVal=e.closest("form").attr("action");}k.css("width","100%").css("height","100%").show();if(a.ajaxContent){ajaxUrl=hrefVal;b.ajax({url:ajaxUrl,type:"GET",asynch:false,success:function(u){l.find(".modalWindowContent").append(u);l.find(".modalWindowContent").append(i);
l.css("z-index","101");l.show();var g=l.width();var r=b(window).width();var s=b(document).height();var v=((r/2)-(g/2));var t=self.pageYOffset+50;l.css("top",t+"px");l.css("left",v+"px");c();d();}});}i.bind("click",function(g){g.preventDefault();l.find(".modalWindowContent").empty();l.hide();k.hide();
});});});};})(jQuery);