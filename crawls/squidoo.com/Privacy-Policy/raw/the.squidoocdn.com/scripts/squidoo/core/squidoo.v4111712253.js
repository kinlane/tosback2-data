!function($){if(!window.console){window.console={log:function(){},info:function(){},debug:function(){},error:function(){}}}$.fn.attention=function(opts){opts=$.extend({start:"#ff9",end:"white",delay:0,prop:"backgroundColor"},opts);var $this=$(this);setTimeout(function(){var start={};start[opts.prop]=opts.start;var end={};end[opts.prop]=opts.end;$this.css(start).animate(end,1500)},opts.delay)};$.fn.front=function(reveal){if(reveal===undefined){reveal="show"}var top=Math.max.apply(null,$.map($("body > *"),function(el,n){var pos=$(el).css("position");if(pos=="absolute"||pos=="fixed"){return parseInt($(el).css("z-index"))||1}else{return 0}}));this.each(function(i,e){$(e).css("z-index",++top);if(reveal){$(e)[reveal](reveal=="fadeIn"?"slow":null)}});return this};$.fn.fixAt=function(pos){this.addClass("absolute").css("top",($(window).scrollTop()+pos)+"px");return this};$.fn.destroy=function(){this.trigger("destroy");this.remove();return this};$.fn.captcha=function(image_only,tabindex){var element=this.first();tabindex=(tabindex==undefined?"":tabindex);$(element).load("/auth"+(image_only?"/ajax_captcha_image?tabindex="+tabindex:"/ajax_captcha?tabindex="+tabindex))};$.fn.wait=function(opts){var $this=$(this);var hide=false;if(opts===false){hide=true}else{if(opts==undefined){opts={lines:12,length:7,width:4,radius:10,color:"#000",speed:1,trail:60,shadow:false}}}if(hide&&$this.data("spinner")){$this.spin()}else{if(!hide&&!$this.data("spinner")){$this.spin(opts)}}return this};var depSrcsLoaded=[];var module_count=1;var nextModalId=0;var lazyLoad=[];var DEPS={};var Facebook={};var host="";var secure="";var isMobile=false;var isIPad=false;var statichost="";if("Squidoo" in window){host=window.Squidoo.host;secure=window.Squidoo.secure;isMobile=window.Squidoo.isMobile;isIPad=window.Squidoo.isIPad;statichost=window.Squidoo.statichost;if("lazyload" in Squidoo){lazyLoad=window.Squidoo.lazyLoad}if("DEPS" in Squidoo){DEPS=$.extend(DEPS,Squidoo.DEPS)}if("Facebook" in Squidoo){Facebook=$.extend(Facebook,Squidoo.Facebook)}}window._gaq=window._gaq?window._gaq:[];window.Squidoo=window.Squidoo||{};var self=window.$Sq=window.Squidoo={DEPS:DEPS,Facebook:Facebook,host:host,secure:secure,isMobile:isMobile,statichost:statichost,isIPad:isIPad,lazyLoad:lazyLoad,evt:function(category,action,opt_label,opt_value){if(arguments[0] instanceof Array){var cmds=[];for(var i=0;i<arguments.length;i++){var cmd=arguments[i];cmd.unshift("sqev._trackEvent");cmds.push(cmd)}_gaq.push.apply(_gaq,cmds)}else{_gaq.push(["sqev._trackEvent",category,action,opt_label,opt_value])}},onPageletLoad:function(pagelet){self.withDeps(pagelet.js?pagelet.js:[],function(){if(!$.trim(pagelet.html)){$("#"+pagelet.id).remove()}else{$("#"+pagelet.id).html(pagelet.html);$("#"+pagelet.id).children("*:first").unwrap()}},true)},lazyLoadModule:function(lmi,workshop){module_count++;setTimeout(function(){(function($){var mod=$("#module"+lmi+"_lazyload");var action=(workshop?"/utility/lazyload_draft/":"/utility/lazyload/")+lmi;if(window.isMAP){action+="?map=1"}$.get(action,function(data){mod.html(data);module_count--;if(workshop){}else{var clickout_interval=setInterval(function(){if(window.setClickOutTracking){clearInterval(clickout_interval);setClickOutTracking(mod.attr("id"))}},100)}})})(jQuery)},200*(module_count-1))},lazyLoadAll:function(draft){var pods=[];if(!this.lazyLoad.length){return}else{if(this.lazyLoad.length==1){pods=[this.lazyLoad]}else{var max=5;var maxEbay=1;var eBayType="52";pods=this.lazyLoad.chunk(max);for(var i=0;i<pods.length;i++){var p=pods[i];p=p.sort(function(a,b){return b.type==eBayType?1:-1});var contents=p.chunk(max);p=pods[i]=contents.shift();if(contents.length){pods[i+1]=Array.prototype.concat.apply(pods[i+1]||[],contents)}var types=$.map(p,function(mod){return mod.type});if(types.lastIndexOf(eBayType)>=maxEbay-1){var contents={ebay:p.slice(0,types.lastIndexOf(eBayType)+1),notEbay:p.slice(types.lastIndexOf(eBayType)+1)};var ebay=contents.ebay.chunk(maxEbay);p=pods[i]=contents.notEbay.concat(ebay.shift());if(ebay.length){pods[i+1]=Array.prototype.concat.apply(pods[i+1]||[],ebay)}}}}}for(var i=0;i<pods.length;i++){var p=pods[i];var action=(draft?"/utility/lazyload_draft/":"/utility/lazyload/")+$.map(p,function(mod){return mod.lmi});if(window.isMAP){action+="?map=1"}$.get(action,function(p){return function(content){var mods=[];if(p.length>1){var raw=content.split("M\x1A");$.each(raw,function(i,R){R=$.trim(R);if(R.length){var data=R.split("\x1B");mods.push({lmi:data.shift(),html:data.join("\x1B")})}})}else{mods.push({lmi:p[0].lmi,html:content})}$.each(mods,function(i,mod){var con=$("#module"+mod.lmi+"_lazyload");con.html(mod.html);if(!window.isWorkshop){var clickout_interval=setInterval(function(){if(window.setClickOutTracking){clearInterval(clickout_interval);setClickOutTracking(con.attr("id"))}},100)}})}}(p))}},wait:function(toggle,callback){if(toggle==undefined){toggle=true}else{if($.isFunction(toggle)){callback=toggle;toggle=true}}function doWithWait(){if(toggle){$(".loading_onion:first").front("fadeIn");$("#loading_modal:first").front("fadeIn")}else{$(".loading_onion").remove();$("#loading_modal").remove()}if($.isFunction(callback)){callback()}}if(!$("#loading_modal").size()){self.waitForSelection("body",function(){var src=(location.protocol=="https:"?"/imgs/loading_big.gif":"http://the.squidoocdn.com/imgs/loading_big.gif");$("body").append('<div class="loading_onion default_onion"></div><div id="loading_modal"><img src="'+src+'" alt="Loading" /></div>').find("#loading_modal");doWithWait()})}else{doWithWait()}},waitForSelection:function(selector,callback){var interval=setInterval(function(){if($(selector).size()){clearInterval(interval);callback()}},100)},getScriptSrc:function(ref){if(!ref||ref.match(/\.js$/i)){if(!ref.match(/^\/\//)){return(document.location.protocol.toLowerCase()!="https:"?Squidoo.statichost:"")+ref}else{return ref}}else{var url=("DEPS" in Squidoo&&"__HOST__" in Squidoo.DEPS?Squidoo.DEPS.__HOST__:"/")+"scripts/";if("DEPS" in Squidoo&&"__VERSIONS__" in Squidoo.DEPS&&Squidoo.DEPS.__VERSIONS__[ref]){url+=ref+".v"+Squidoo.DEPS.__VERSIONS__[ref]+".js"}else{url+=ref+".js"}return url}},withTemplates:function(callback){Squidoo.withDeps([Squidoo.DEPS.TEMPLATES],function(){callback()})},withTracker:function(token,member,callback){Squidoo.withDeps([Squidoo.DEPS.TRACKER],function(){Squidoo.Tracker.init(token,member,callback)})},withDeps:function(deps,callback,doCallbackWithoutDeps){if(deps==undefined||deps.length<1){return callback()}if(doCallbackWithoutDeps){callback();callback=null}var d=0;var loadNext=function(){var dep=deps[d++];if(!$.isPlainObject(dep)){dep={src:dep,isLoaded:function(callback){callback($.inArray(this.src,depSrcsLoaded)>-1)}}}dep.isLoaded(function(loaded){if(loaded){if(d<deps.length){loadNext()}else{callback?callback():null}}else{self.withDeps(dep.deps,function(){$.ajax({url:self.getScriptSrc(dep.src),dataType:"script",success:function(){depSrcsLoaded[dep.src]=true;var onAfterLoad=function(){if(d<deps.length){loadNext()}else{callback?callback():null}};"onLoad" in dep?dep.onLoad(onAfterLoad):onAfterLoad()},error:function(xhr){console.error("Failed to load dependency: "+dep.src,dep,xhr);if(dep.alt){$.ajax({url:self.getScriptSrc(dep.alt),dataType:"script",success:function(){var onAfterLoad=function(){if(d<deps.length){loadNext()}else{callback?callback():null}};"onLoad" in dep?dep.onLoad(onAfterLoad):onAfterLoad()},error:function(xhr){console.error("Failed to load dependency alternate: "+dep.alt,xhr)}})}}})})}})};loadNext()},handleAjaxError:function(xhr,textStatus,errorThrown){var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-185209-2"]);_gaq.push(["_setDomainName","www.squidoo.com"]);_gaq.push(["_trackEvent","Errors",'Exception, "'+xhr.responseText+'"']);(function(){var ga=document.createElement("script");ga.type="text/javascript";ga.async=true;ga.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(ga,s)})();alert("Oops! Squidoo's tentacles are in a twist. We're working to sort it out speedily.\n\nConsistently receiving this message? You can reach us at squidsupport@squidoo.com");Squidoo.wait(false)},waitFor:(function(){var waitFor=function(bool,callback,delay){if(delay==undefined){delay=100}var i=setInterval(function(){if(bool()){clearInterval(i)}else{return false}callback(jQuery)},delay)};waitFor.bootstrap=function(){return"jQuery" in window&&"button" in jQuery.fn};return waitFor})(),showDialog:function(selector){$this=$(selector).first();Squidoo.dialog({title:$this.data("info-title"),content:$this.data("info-content")})},dialog:function(opts){if(opts==undefined){opts={}}opts=$.extend({title:"",content:"",buttons:{"OK":false}},opts);$dialog=$('<div><div class="dialog-title"></div><div class="dialog-content"></div></div>');$close=$('<div><div class="close_bar"><a href="#" onclick="Squidoo.close(this); return false;" class="btn_social float_right">Close</a></div>');if(opts.title){$dialog.find(".dialog-title").replaceWith("<h3>"+opts.title+"</h3>")}if(opts.content){$dialog.find(".dialog-content").html(opts.content)}Squidoo.modal({html:'<div class="overlay">'+$dialog.html()+"</div>"+$close.html()},null,{type:"dialog",onSubmit:function(dialog){console.log(dialog.serialize());return true}})},_processModalPath:function(path,data,doWithModal){try{if($.isPlainObject(path)||opts.iframe){return doWithModal(path)}else{if($(path).size()){$path=$(path);if($path.attr("type")=="text/x-jquery-tmpl"){return Squidoo.Templates.render(path,data,function(html){data.html=html;doWithModal(data)})}else{return doWithModal({html:$path.clone()})}}}}catch(e){}self.withDeps([Squidoo.DEPS.JQUERY_UI],function(){$.ajax({type:"POST",url:path,data:data,success:doWithModal,error:Squidoo.handleAjaxError})})},layer:function(path,data,callback){if($.isFunction(data)){callback=data;data=null}self.waitForSelection("body",function(){var id="squidoo_modal"+(++nextModalId);var onion=$('<div class="layer_onion"></div>');$("body").append(onion);onion.front();var layerCon=$('<div class="layer"></div>');$("body").append(layerCon);layerCon.front();self.withDeps([Squidoo.DEPS.LAYERS],function(){self._processModalPath(path,data,function(layer){if(!$.isPlainObject(layer)){layer={html:layer}}self.withDeps("js" in layer?layer.js:[],function(){var data=($.isPlainObject(data)?data:{});data.callback=callback;var layerObj=$(layer.html);layerCon.append(layerObj);setTimeout(function(){$("#content_wrap").hide()},1000);layerObj.on("destroy",function(){$("#content_wrap").show();onion.remove();layerCon.remove()});var type=layerObj.data("layer");if(type){layerObj[type](data)}})})})})},modal:function(path,data,opts){if($.isFunction(data)){opts=data;data=null}if($.isFunction(opts)){opts={onLoad:opts,onSubmit:false}}opts=$.extend({type:"normal",iframe:false,wide:false},opts);if($.isFunction(opts.onSubmit)){opts.type="dialog"}var doWithModal=function(modal){if(!$.isPlainObject(modal)){modal={html:modal}}self.withDeps("js" in modal?modal.js:[],function(){self.waitForSelection("body",function(){var id="squidoo_modal_"+(++nextModalId);var onion=$("body").append('<div id="'+id+'_onion" class="default_onion"></div>').find("#"+id+"_onion").front();var con=$("body").append('<div id="'+id+'" class="squidoo_modal novib"></div>').find("#"+id);var dialog=false;var overlay=null;if(opts.type=="dialog"||opts.iframe){con.append(overlay=$('<div class="overlay_wrap '+(opts.wide?"overlay_tabs_wrap":"")+' squidoo_modal novib"></div>'));if(opts.type=="dialog"){dialog=overlay.append('<form action="#" method="post"></form>').find("form");dialog.html(modal.html)}}else{con.append(modal.html)}if(opts.iframe){var iframe_height,iframe;var src=modal.html;if(src.indexOf("?")===-1){src+="?"}src+="&_host="+encodeURIComponent(document.location);overlay.append(iframe=$('<iframe name="'+id+'_iframe" src="'+src+'" style="width:100%; height:427px; display:block;"></iframe>'));$(function(){$.receiveMessage(function(e){var h=Number(e.data.replace(/.*iframe_height=(\d+)(?:&|$)/,"$1"));if(!isNaN(h)&&h>0&&h!==iframe_height){iframe.height(iframe_height=h)}})})}con.bind("destroy",function(){con.remove();onion.remove()});if(opts.type!="dialog"){onion.click(function(){con.destroy()})}var $toCenter=con.find("*:first");$toCenter.fixAt((($(window).height()-$toCenter.height())/2)).front("fadeIn");if(jQuery.ui&&$.fn.tabs){con.find(".tabs").tabs()}if(dialog){if(!$.isFunction(opts.onSubmit)){opts.onSubmit=function(){return true}}dialog.submit(function(){var result=opts.onSubmit(dialog);if(result!==false){con.trigger("destroy")}return false});dialog[0].callback=function(value){var result=opts.onSubmit(value);if(result!==false){con.trigger("destroy")}}}if(opts.type!="iframe"&&$.isFunction(opts.onLoad)){opts.onLoad(con)}self.wait(false)})})};try{if($.isPlainObject(path)||opts.iframe){return doWithModal(path)}else{if($(path).size()){var $path=$(path);if($path.attr("type")=="text/x-jquery-tmpl"){return Squidoo.Templates.render(path,data,function(html){data.html=html;doWithModal(data)})}else{return doWithModal({html:$path.clone()})}}}}catch(e){}self.wait(function(){self.withDeps([Squidoo.DEPS.JQUERY_UI],function(){$.ajax({type:"POST",url:path,data:data,success:doWithModal,error:Squidoo.handleAjaxError})})})},notify:{info:function(message,options){$Sq.notify._notify(message,$.extend({barColor:"#ff9900",forgetful:true,onClose:function(){$("#hellobar-wrapper").remove()}},options))},error:function(message,options){$Sq.notify._notify(message,$.extend({barColor:"#990000",forgetful:true,onClose:function(){$("#hellobar-wrapper").remove()}},options))},_notify:function(message,options){if(message==undefined){message="Hello, Squidoo!"}new HelloBar(message,$.extend({helloBarLogo:false},options),1);$("#hellobar-wrapper").front()},hide:function(){$("#hellobar-wrapper").remove()}},shorten:function(string,maxLength){if(!string){return""}if(maxLength==undefined){maxLength=137}if(string.length<=maxLength){return string}var shorter=string.substr(0,maxLength);if(!shorter.match(/\s$/)){shorter=shorter.substr(0,shorter.lastIndexOf(" "))}return $J.trim(shorter)+"..."},close:function(el){var con;if("location" in el){con=$('iframe[name="'+el.name+'"]')}else{con=$(el).closest(".squidoo_modal")}con.closest(".squidoo_modal").fadeOut("fast",function(){$(this).destroy()})},hide:function(el){return $(el).closest(".squidoo_modal").hide()},profile:function(tab){self.modal("/profile/modal"+(tab?"#profile-"+tab:""),{},{iframe:true,wide:true})},bug:function(options){if(!$.isPlainObject(options)){options={lensName:options}}if(options.lensName==undefined&&"theLensName" in window){options.lensName=window.theLensName}if(options.lensName==undefined&&"theLens" in window){options.lensName=window.theLens.lensName}self.modal("/bug/modal"+(options.lensName?"/"+options.lensName:"")+"?"+$.param(options),{},{iframe:true})},og:function(lens_name,settings){if(lens_name==undefined){lens_name=window.theLensName}if(lens_name==undefined){lens_name=window.theLens.lensName}Squidoo.modal("/workshop/ajax_opengraph_modal/"+(lens_name?lens_name:"__INPROGRESS__"),{og_settings:settings})},login:function(target,bindEvent,callback){Squidoo._openAuthModal(target,bindEvent,callback,"login");return false},register:function(target,bindEvent,callback){Squidoo._openAuthModal(target,bindEvent,callback,"registration");return false},_openAuthModal:function(target,bindEvent,callback,screen){var openModal=function($button){var left=($(window).width()-850)/2;var top=($(window).height()-500)/2;var windowName=Math.floor(Math.random()*10000000)+"sso";var popup=window.open($Sq.secure+"/member/"+screen+"?modal",windowName,"width=850,height=650,status=1,toolbar=0,left="+left+",top="+top);var check=setInterval(function(){if(popup.closed){clearInterval(check);Squidoo.getLoginStatus(function(response){window.isLoggedIn=response.status=="connected";window.theMember=response.member;window.__squid_like?(window.__squid_like.logged_in=true):false;Squidoo.wait(false);if($.isFunction(callback)){callback(response.status=="connected",response,$button)}else{if(response.status=="connected"){document.location.reload()}}})}},100)};if($.isFunction(target)){callback=target;openModal();return false}if($.isFunction(bindEvent)){if(!screen&&callback){screen=callback}callback=bindEvent;bindEvent="click"}var $button=$J(target);$button.unbind(bindEvent);$button.bind(bindEvent,function(){var $this=$(this);if(window.isLoggedIn){if($.isFunction(callback)){return callback(true,{status:"connected",member:window.theMember},$this)}else{return true}}Squidoo.wait();openModal($this);return false})},getLoginStatus:function(callback){$.get("/auth/json_status",function(response){if(response.status!="connected"){window.isLoggedIn=false;window.theMember=false}callback(response)})},logout:function(btn,callback){Squidoo.wait();window.isLoggedIn=false;window.theMember=false;if($.isFunction(btn)){callback=btn;btn=null}var doLogout=function(){document.location="/member/logout"};var planB=setTimeout(doLogout,2000);Squidoo.withDeps([Squidoo.DEPS.FACEBOOK],function(){Squidoo.Facebook.withFB(function(){FB.getLoginStatus(function(response){FB.logout(function(){clearTimeout(planB);doLogout()})})})})},api:function(path,method,data,onSuccess,onError,onTransportError){if($.isFunction(method)){onSuccess=method;data={};method="get"}else{if($.isFunction(data)){if($.isPlainObject(method)){onSuccess=data;data=method;method="get"}else{onSuccess=data;data={}}}else{if($.isPlainObject(method)&&$.isPlainObject(data)){onSuccess=data;data=method;method="get"}}}if($.isPlainObject(onSuccess)){onError=onSuccess.error;onTransportError=onSuccess.transportError;onSuccess=onSuccess.success}if(method.toLowerCase()!="get"&&method.toLowerCase()!="post"){console.error("Invalid HTTP method: "+method.toUpperCase());return}var defaultApiErrorHandler=function(response){console.error(response)};var defaultTransportErrorHandler=function(jqXHR,textStatus,errorThrown){console.error(path,jqXHR,textStatus,errorThrown)};if(!$.isFunction(onError)){onError=defaultApiErrorHandler}if(!$.isFunction(onTransportError)){onTransportError=defaultTransportErrorHandler}if(path.substring(0,1)=="/"){path=path.substring(1)}var host=Squidoo.host||"http://www.squidoo.com";$.ajax({type:method.toUpperCase(),url:Squidoo.host+"/api/"+path,data:data,dataType:document.location.host.match(/(www|octo)\.squidoo\.com$/i)?"json":"jsonp",success:function(response){if(response.errors){onError((function(packet){return{type:function(){return packet[0].type},message:function(){return packet[0].message},hasType:function(type){for(var i=0;i<packet.length;i++){if(packet[i].type==type){return true}}return false},hasCode:function(code){for(var i=0;i<packet.length;i++){if(packet[i].code==code){return true}}return false},all:function(type){if(type==undefined){return packet}else{var errors=[];for(var i=0;i<packet.length;i++){if(packet[i].type==type){errors.push(packet[i])}}return errors}}}})(response.errors))}else{if($.isFunction(onSuccess)){onSuccess(response.result)}}},error:function(jqXHR,textStatus,errorThrown){onTransportError(jqXHR,textStatus,errorThrown)}})}};var isProfileRequest=document.location.hash.match(/profile(\-(\d+))?/);if(isProfileRequest&&document.location.pathname!="/profile/modal"){Squidoo.profile(isProfileRequest[2])}if(document.location.hash.match(/bugbox/)){Squidoo.bug()}Squidoo.Validation=("Validation" in Squidoo)?Squidoo.Validation:{};if(!$.fn.validatable){$.fn.validatable=function(enable_client_side,onSuccess,onErrors,onReset){var forms=this;Squidoo.withDeps([Squidoo.DEPS.VALIDATION],function(){Squidoo.Validation.apply(forms,enable_client_side,onSuccess,onErrors,onReset)})}}Squidoo.Upload=Squidoo.Upload||{};Squidoo.Upload.apply=function(selector,options){Squidoo.withDeps([Squidoo.DEPS.UPLOAD],function(){$(selector).upload(options)})};Squidoo.Autocomplete=Squidoo.Autocomplete||{};Squidoo.Autocomplete.apply=function(selector,options){Squidoo.withDeps([Squidoo.DEPS.AUTOCOMPLETE],function(){Squidoo.Autocomplete.apply(selector,options)})};Squidoo.Autocomplete.lens=function(selector,lens_name_field){Squidoo.withDeps([Squidoo.DEPS.AUTOCOMPLETE],function(){Squidoo.Autocomplete.lens(selector,lens_name_field)})};Squidoo.Templates={};Squidoo.Templates.apply=function(selector,template,data){Squidoo.withDeps([Squidoo.DEPS.TEMPLATES],function(){Squidoo.Templates.apply(selector,template,data)})};Squidoo.Templates.render=function(template,data,callback){Squidoo.withDeps([Squidoo.DEPS.TEMPLATES],function(){callback(Squidoo.Templates.render(template,data))})};Squidoo.Facebook.login=function(target,opts,callback){var args=arguments;if(opts==undefined){opts={}}else{if($.isFunction(opts)){callback=opts;opts={}}}Squidoo.withDeps([Squidoo.DEPS.FACEBOOK],function(){Squidoo.Facebook.withFB(function(){$(target).unbind("click");$(target).click(function(){var $button=$(this);FB.login(function(response){if(response.authResponse){Squidoo.getLoginStatus(function(logged_in){if(callback){if(!$J.isFunction(callback)){document.location=callback}else{callback(response)}}else{if($button.attr("href")&&$button.attr("href")!="#"){document.location=$button.attr("href")}else{document.location.reload()}}})}},opts);return false})})})};Squidoo.Facebook.logout=function(){Squidoo.withDeps([Squidoo.DEPS.FACEBOOK],function(){Squidoo.Facebook.logout()})};Squidoo.Facebook.isAuthorized=function(perms,callback){Squidoo.withDeps([Squidoo.DEPS.FACEBOOK],function(){Squidoo.Facebook.isAuthorized(perms,callback)})};var facebook_init;Squidoo.Facebook.init=function(){if(facebook_init){return}facebook_init=true;var args=arguments;Squidoo.withDeps([Squidoo.DEPS.FACEBOOK],function(){})};Squidoo.Media={};if(!$.fn.uploadable){$.fn.uploadable=function(){var div=this;Squidoo.withDeps([Squidoo.DEPS.MEDIA],function(){Squidoo.Media.Uploadable.apply(div)})}}Squidoo.popover=function(selector,options,action){if(!$.isPlainObject(options)){action=options;options=false}Squidoo.withDeps([Squidoo.DEPS.TOOLTIP],function(){var $this=$(selector);if(options){options=$.extend({"animation":true,"placement":"right","selector":false,"trigger":"manual","title":"","content":"","delay":0||{show:500,hide:100},"closeable":false},options);$popover=$this.data("popover");if($popover){$popover.tip().remove();$this.data("popover",false)}$this.popover(options);$this.popover().tip().front()}if(action=="remove"){if($this.data("popover")){$this.data("popover").tip().remove();$this.data("popover",false)}}else{if(action){if($this.data("popover")){$this.popover(action)}}}})},Squidoo.tooltip=function(selector,options,action,callback){if(!$J.isPlainObject(options)){action=options;options={}}if(!action){action="show"}Squidoo.withDeps([Squidoo.DEPS.TOOLTIP],function(){options=$.extend({"animation":true,"placement":"right","selector":false,"trigger":"hover","title":"","delay":0||{show:500,hide:100}},options);$J(selector).tooltip(options).tooltip(action);if($J.isFunction(callback)){callback()}})},Squidoo.getQuery=function(s){var query={};s.replace(/\b([^&=]*)=([^&=]*)\b/g,function(m,a,d){if(typeof query[a]!="undefined"){query[a]+=","+d}else{query[a]=d}});return query};Squidoo.formatDate=function(date,format){var MONTH_NAMES=new Array("January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec");var DAY_NAMES=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tue","Wed","Thu","Fri","Sat");function LZ(x){return(x<0||x>9?"":"0")+x}format=format+"";var result="";var i_format=0;var c="";var token="";var y=date.getYear()+"";var M=date.getMonth()+1;var d=date.getDate();var E=date.getDay();var H=date.getHours();var m=date.getMinutes();var s=date.getSeconds();var yyyy,yy,MMM,MM,dd,hh,h,mm,ss,ampm,HH,H,KK,K,kk,k;var value=new Object();if(y.length<4){y=""+(y-0+1900)}value["y"]=""+y;value["yyyy"]=y;value["yy"]=y.substring(2,4);value["M"]=M;value["MM"]=LZ(M);value["MMM"]=MONTH_NAMES[M-1];value["NNN"]=MONTH_NAMES[M+11];value["d"]=d;value["dd"]=LZ(d);value["E"]=DAY_NAMES[E+7];value["EE"]=DAY_NAMES[E];value["H"]=H;value["HH"]=LZ(H);if(H==0){value["h"]=12}else{if(H>12){value["h"]=H-12}else{value["h"]=H}}value["hh"]=LZ(value["h"]);if(H>11){value["K"]=H-12}else{value["K"]=H}value["k"]=H+1;value["KK"]=LZ(value["K"]);value["kk"]=LZ(value["k"]);if(H>11){value["a"]="pm"}else{value["a"]="am"}value["m"]=m;value["mm"]=LZ(m);value["s"]=s;value["ss"]=LZ(s);while(i_format<format.length){c=format.charAt(i_format);token="";while((format.charAt(i_format)==c)&&(i_format<format.length)){token+=format.charAt(i_format++)}if(value[token]!=null){result=result+value[token]}else{result=result+token}}return result};Squidoo.meebo=function(infolinks){window.Meebo||function(b){function p(){return["<",i,' onload="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='//",b.stage?"stage-":"","cim.meebo.com/cim?iv=",a.v,"&",q,"=",b[q],b[l]?"&"+l+"="+b[l]:"",b[e]?"&"+e+"="+b[e]:"","'\"></",i,">"].join("")}var f=window,a=f.Meebo=f.Meebo||function(){(a._=a._||[]).push(arguments)},d=document,i="body",m=d[i],r;if(!m){r=arguments.callee;return setTimeout(function(){r(b)},100)}a.$={0:+new Date};a.T=function(u){a.$[u]=new Date-a.$[0]};a.v=4;var j="appendChild",h="createElement",k="src",l="lang",q="network",e="domain",n=d[h]("div"),v=n[j](d[h]("m")),c=d[h]("iframe"),g="document",o,s=function(){a.T("load");a("load")};f.addEventListener?f.addEventListener("load",s,false):f.attachEvent("onload",s);n.style.display="none";m.insertBefore(n,m.firstChild).id="meebo";c.frameBorder="0";c.id="meebo-iframe";c.allowTransparency="true";v[j](c);try{c.contentWindow[g].open()}catch(w){b[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";c[k]=o+"void(0);"}try{var t=c.contentWindow[g];t.write(p());t.close()}catch(x){c[k]=o+'d.write("'+p().replace(/"/g,'\\"')+'");d.close();'}a.T(1)}({network:"squidoo"});Meebo("addButton",{id:"meebobutton1",type:"menu",icon:"http://the.squidoocdn.com/imgs/modules/meebo/smiley.png",label:"Fun stuff to DO!",items:[{value:"http://blogs.squidoo.com/lensoftheday/",text:"Lens of the Day"},{value:"http://www.squidoo.com/browse/top_lenses",text:"See the Top 100"},{value:"http://www.squidoo.com/build/start",text:"Make a lens"},{value:"http://squidu.com/forum",text:"Say hi in the forum"},{value:"http://www.squidoo.com/squidquiz/hq",text:"P.S. Take a quiz!"},{value:"http://www.squidoo.com/squidwho/hq",text:"P.P.S. Get famous"},],onSelect:function(url){window.open(url,"resizable=1,scrolling=1,scrollbars=1,status=1,toolbar=1")}});Meebo("domReady")};if(document.location.hostname.match(/(www|octo)\.squidoo\.com$/)){var img=new Image();img.src=(location.protocol=="https:"?"/imgs/loading_big.gif":"http://the.squidoocdn.com/imgs/loading_big.gif")}$(function($){$("form.login_reg_form input").bind("focus.labelPlaceholder",function(){$(this).prev().hide()}).bind("blur.labelPlaceholder",function(){$(this).prev()[!this.value?"show":"hide"]()}).trigger("blur.labelPlaceholder");if($("form.login_reg_form input").size()){setInterval(function(){$("form.login_reg_form input").each(function(i,input){if($(input).val()){$(input).prev().hide()}})},100)}});$(function(){if(screen.width<=800){$("#squidnav_wrap").css("position","static");$("body").css("padding-top","0")}});$("#squidnav div").live("mouseenter",function(){$(this).parents("li").addClass("active_li")}).live("mouseleave",function(){$(this).parents("li").removeClass("active_li")})}(jQuery);!function($){!function(){$.fn["adaptImages"]=$.fn["adapt"]=function(){return this.find(".adaptive_resize").each(function(){$(this).find("img").parent().each(function(){var $parent=$(this);$parent.css("max-height",$parent.width())})})};var timeout;$(function(){$("body").adapt()});$(window).resize(function(){clearTimeout(timeout);timeout=setTimeout(function(){$("body").adapt()},1000)})}()}(jQuery);!function($){$Sq.bless=function(namespace,prototype){if($.isPlainObject(prototype)){var P=function(element,options){this._init($(element),options||{})};P.prototype=$.extend({_init:function($element,opts){this.$el=$element;if("init" in this){this.init(opts,this)}}},prototype);prototype=P}$.fn[namespace]=function(action,options){return this.each(function(){var $this=$(this);var data=$this.data(namespace);if(!data){$this.data(namespace,(data=new prototype(this,typeof action!="string"?action:null)))}if(typeof action=="string"){data[action](options)}})};$.fn[namespace].Constructor=prototype}}(jQuery);!function($){window.CACHE_MIN=60;window.CACHE_5MIN=300;window.CACHE_10MIN=600;window.CACHE_HOUR=3600;window.CACHE_8HOURS=28800;window.CACHE_DAY=86400;window.CACHE_WEEK=604800;window.CACHE_MONTH=18144000;Squidoo.Cache={store:function(group){return{get:function(key,defaultValue){var packet=$.jStorage.get(group+"_"+key);if(packet&&(packet.t==-1||(new Date().getTime()/1000)<packet.t)){return packet.d}else{return defaultValue}},set:function(key,data,timeout){var packet={d:data,t:(timeout==undefined||timeout==0)?-1:((new Date().getTime()/1000)+timeout)};$.jStorage.set(group+"_"+key,packet);return this},del:function(key){$.jStorage.deleteKey(group+"_"+key);return this},flush:function(){$.each($.jStorage.index(),function(i,key){if(key.indexOf(group+"_")===0){$.jStorage.deleteKey(key)}});return this}}}}}(jQuery);Array.prototype.unique=function(){if(this===void 0||this===null){throw new TypeError()}var t=Object(this);var len=t.length>>>0;var res=[];var thisp=arguments[1];for(var i=0;i<len;i++){if(i in t){var val=t[i];if($J.inArray(val,res)==-1){res.push(val)}}}return res};if(!Array.prototype.chunk){Array.prototype.chunk=function(s){if(this===void 0||this===null){throw new TypeError()}var t=Object(this);var len=t.length>>>0;for(var x,i=0,c=-1,l=len,n=[];i<l;i++){(x=i%s)?n[c][x]=t[i]:n[++c]=[t[i]]}return n}}if(!Array.prototype.filter){Array.prototype.filter=function(fun){if(this===void 0||this===null){throw new TypeError()}var t=Object(this);var len=t.length>>>0;if(typeof fun!=="function"){throw new TypeError()}var res=[];var thisp=arguments[1];for(var i=0;i<len;i++){if(i in t){var val=t[i];if(fun.call(thisp,val,i,t)){res.push(val)}}}return res}}if(!Array.prototype.map){Array.prototype.map=function(fun){if(this===void 0||this===null){throw new TypeError()}var t=Object(this);var len=t.length>>>0;if(typeof fun!=="function"){throw new TypeError()}var res=new Array(len);var thisp=arguments[1];for(var i=0;i<len;i++){if(i in t){res[i]=fun.call(thisp,t[i],i,t)}}return res}}if(!Array.prototype.filter){Array.prototype.filter=function(fun){if(this===void 0||this===null){throw new TypeError()}var t=Object(this);var len=t.length>>>0;if(typeof fun!=="function"){throw new TypeError()}var res=[];var thisp=arguments[1];for(var i=0;i<len;i++){if(i in t){var val=t[i];if(fun.call(thisp,val,i,t)){res.push(val)}}}return res}}if(!Array.prototype.combine){Array.prototype.combine=function(arr){if(arr){for(var i=0;i<arr.length;i++){this.push(arr[i])}}}}if(!Array.prototype.sum){Array.prototype.sum=function(){var sum=0;for(var i=0,sum=0;i<this.length;sum+=parseFloat(this[i++])){}return sum}}(function(window,document,undefined){var prefixes=["webkit","Moz","ms","O"];var animations={};var useCssAnimations;function createEl(tag,prop){var el=document.createElement(tag||"div");var n;for(n in prop){el[n]=prop[n]}return el}function ins(parent){for(var i=1,n=arguments.length;i<n;i++){parent.appendChild(arguments[i])}return parent}var sheet=function(){var el=createEl("style");ins(document.getElementsByTagName("head")[0],el);return el.sheet||el.styleSheet}();function addAnimation(alpha,trail,i,lines){var name=["opacity",trail,~~(alpha*100),i,lines].join("-");var start=0.01+i/lines*100;var z=Math.max(1-(1-alpha)/trail*(100-start),alpha);var prefix=useCssAnimations.substring(0,useCssAnimations.indexOf("Animation")).toLowerCase();var pre=prefix&&"-"+prefix+"-"||"";if(!animations[name]){sheet.insertRule("@"+pre+"keyframes "+name+"{"+"0%{opacity:"+z+"}"+start+"%{opacity:"+alpha+"}"+(start+0.01)+"%{opacity:1}"+(start+trail)%100+"%{opacity:"+alpha+"}"+"100%{opacity:"+z+"}"+"}",0);animations[name]=1}return name}function vendor(el,prop){var s=el.style;var pp;var i;if(s[prop]!==undefined){return prop}prop=prop.charAt(0).toUpperCase()+prop.slice(1);for(i=0;i<prefixes.length;i++){pp=prefixes[i]+prop;if(s[pp]!==undefined){return pp}}}function css(el,prop){for(var n in prop){el.style[vendor(el,n)||n]=prop[n]}return el}function merge(obj){for(var i=1;i<arguments.length;i++){var def=arguments[i];for(var n in def){if(obj[n]===undefined){obj[n]=def[n]}}}return obj}function pos(el){var o={x:el.offsetLeft,y:el.offsetTop};while((el=el.offsetParent)){o.x+=el.offsetLeft;o.y+=el.offsetTop}return o}var defaults={lines:12,length:7,width:5,radius:10,rotate:0,color:"#000",speed:1,trail:100,opacity:1/4,fps:20,zIndex:2000000000,className:"spinner",top:"auto",left:"auto"};var Spinner=function Spinner(o){if(!this.spin){return new Spinner(o)}this.opts=merge(o||{},Spinner.defaults,defaults)};Spinner.defaults={};merge(Spinner.prototype,{spin:function(target){this.stop();var self=this;var o=self.opts;var el=self.el=css(createEl(0,{className:o.className}),{position:"relative",zIndex:o.zIndex});var mid=o.radius+o.length+o.width;var ep;var tp;if(target){target.insertBefore(el,target.firstChild||null);tp=pos(target);ep=pos(el);css(el,{left:(o.left=="auto"?tp.x-ep.x+(target.offsetWidth>>1):o.left+mid)+"px",top:(o.top=="auto"?tp.y-ep.y+(target.offsetHeight>>1):o.top+mid)+"px"})}el.setAttribute("aria-role","progressbar");self.lines(el,self.opts);if(!useCssAnimations){var i=0;var fps=o.fps;var f=fps/o.speed;var ostep=(1-o.opacity)/(f*o.trail/100);var astep=f/o.lines;!function anim(){i++;for(var s=o.lines;s;s--){var alpha=Math.max(1-(i+s*astep)%f*ostep,o.opacity);self.opacity(el,o.lines-s,alpha,o)}self.timeout=self.el&&setTimeout(anim,~~(1000/fps))}()}return self},stop:function(){var el=this.el;if(el){clearTimeout(this.timeout);if(el.parentNode){el.parentNode.removeChild(el)}this.el=undefined}return this},lines:function(el,o){var i=0;var seg;function fill(color,shadow){return css(createEl(),{position:"absolute",width:(o.length+o.width)+"px",height:o.width+"px",background:color,boxShadow:shadow,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*i+o.rotate)+"deg) translate("+o.radius+"px"+",0)",borderRadius:(o.width>>1)+"px"})}for(;i<o.lines;i++){seg=css(createEl(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:useCssAnimations&&addAnimation(o.opacity,o.trail,i,o.lines)+" "+1/o.speed+"s linear infinite"});if(o.shadow){ins(seg,css(fill("#000","0 0 4px "+"#000"),{top:2+"px"}))}ins(el,ins(seg,fill(o.color,"0 0 1px rgba(0,0,0,.1)")))}return el},opacity:function(el,i,val){if(i<el.childNodes.length){el.childNodes[i].style.opacity=val}}});!function(){function vml(tag,attr){return createEl("<"+tag+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',attr)}var s=css(createEl("group"),{behavior:"url(#default#VML)"});if(!vendor(s,"transform")&&s.adj){sheet.addRule(".spin-vml","behavior:url(#default#VML)");Spinner.prototype.lines=function(el,o){var r=o.length+o.width;var s=2*r;function grp(){return css(vml("group",{coordsize:s+" "+s,coordorigin:-r+" "+-r}),{width:s,height:s})}var margin=-(o.width+o.length)*2+"px";var g=css(grp(),{position:"absolute",top:margin,left:margin});var i;function seg(i,dx,filter){ins(g,ins(css(grp(),{rotation:360/o.lines*i+"deg",left:~~dx}),ins(css(vml("roundrect",{arcsize:1}),{width:r,height:o.width,left:o.radius,top:-o.width>>1,filter:filter}),vml("fill",{color:o.color,opacity:o.opacity}),vml("stroke",{opacity:0}))))}if(o.shadow){for(i=1;i<=o.lines;i++){seg(i,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)")}}for(i=1;i<=o.lines;i++){seg(i)}return ins(el,g)};Spinner.prototype.opacity=function(el,i,val,o){var c=el.firstChild;o=o.shadow&&o.lines||0;if(c&&i+o<c.childNodes.length){c=c.childNodes[i+o];c=c&&c.firstChild;c=c&&c.firstChild;if(c){c.opacity=val}}}}else{useCssAnimations=vendor(s,"animation")}}();window.Spinner=Spinner})(window,document);var SPINNER_HOME={lines:8,trail:51,length:7,width:9,radius:16,color:"#555",opacity:1/4,speed:1};var SPINNER_FIT;var SPINNER_SMALL;(function($){$.fn.spin=function(opts){if(opts==undefined){}this.each(function(){var $this=$(this),data=$this.data();if(data.spinner){data.spinner.stop();delete data.spinner}if(opts!==false){data.spinner=new Spinner($.extend({color:$this.css("color")},opts)).spin(this)}});return this}})(jQuery);var sprintf=(function(){function get_type(variable){return Object.prototype.toString.call(variable).slice(8,-1).toLowerCase()}function str_repeat(input,multiplier){for(var output=[];multiplier>0;output[--multiplier]=input){}return output.join("")}var str_format=function(){if(!str_format.cache.hasOwnProperty(arguments[0])){str_format.cache[arguments[0]]=str_format.parse(arguments[0])}return str_format.format.call(null,str_format.cache[arguments[0]],arguments)};str_format.format=function(parse_tree,argv){var cursor=1,tree_length=parse_tree.length,node_type="",arg,output=[],i,k,match,pad,pad_character,pad_length;for(i=0;i<tree_length;i++){node_type=get_type(parse_tree[i]);if(node_type==="string"){output.push(parse_tree[i])}else{if(node_type==="array"){match=parse_tree[i];if(match[2]){arg=argv[cursor];for(k=0;k<match[2].length;k++){if(!arg.hasOwnProperty(match[2][k])){throw (sprintf('[sprintf] property "%s" does not exist',match[2][k]))}arg=arg[match[2][k]]}}else{if(match[1]){arg=argv[match[1]]}else{arg=argv[cursor++]}}if(/[^s]/.test(match[8])&&(get_type(arg)!="number")){throw (sprintf("[sprintf] expecting number but found %s",get_type(arg)))}switch(match[8]){case"b":arg=arg.toString(2);break;case"c":arg=String.fromCharCode(arg);break;case"d":arg=parseInt(arg,10);break;case"e":arg=match[7]?arg.toExponential(match[7]):arg.toExponential();break;case"f":arg=match[7]?parseFloat(arg).toFixed(match[7]):parseFloat(arg);break;case"o":arg=arg.toString(8);break;case"s":arg=((arg=String(arg))&&match[7]?arg.substring(0,match[7]):arg);break;case"u":arg=Math.abs(arg);break;case"x":arg=arg.toString(16);break;case"X":arg=arg.toString(16).toUpperCase();break}arg=(/[def]/.test(match[8])&&match[3]&&arg>=0?"+"+arg:arg);pad_character=match[4]?match[4]=="0"?"0":match[4].charAt(1):" ";pad_length=match[6]-String(arg).length;pad=match[6]?str_repeat(pad_character,pad_length):"";output.push(match[5]?arg+pad:pad+arg)}}}return output.join("")};str_format.cache={};str_format.parse=function(fmt){var _fmt=fmt,match=[],parse_tree=[],arg_names=0;while(_fmt){if((match=/^[^\x25]+/.exec(_fmt))!==null){parse_tree.push(match[0])}else{if((match=/^\x25{2}/.exec(_fmt))!==null){parse_tree.push("%")}else{if((match=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(_fmt))!==null){if(match[2]){arg_names|=1;var field_list=[],replacement_field=match[2],field_match=[];if((field_match=/^([a-z_][a-z_\d]*)/i.exec(replacement_field))!==null){field_list.push(field_match[1]);while((replacement_field=replacement_field.substring(field_match[0].length))!==""){if((field_match=/^\.([a-z_][a-z_\d]*)/i.exec(replacement_field))!==null){field_list.push(field_match[1])}else{if((field_match=/^\[(\d+)\]/.exec(replacement_field))!==null){field_list.push(field_match[1])}else{throw ("[sprintf] huh?")}}}}else{throw ("[sprintf] huh?")}match[2]=field_list}else{arg_names|=2}if(arg_names===3){throw ("[sprintf] mixing positional and named placeholders is not (yet) supported")}parse_tree.push(match)}else{throw ("[sprintf] huh?")}}}_fmt=_fmt.substring(match[0].length)}return parse_tree};return str_format})();var vsprintf=function(fmt,argv){argv.unshift(fmt);return sprintf.apply(null,argv)};(function($){var escapeable=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};$.toJSON=typeof JSON==="object"&&JSON.stringify?JSON.stringify:function(o){if(o===null){return"null"}var type=typeof o;if(type==="undefined"){return undefined}if(type==="number"||type==="boolean"){return""+o}if(type==="string"){return $.quoteString(o)}if(type==="object"){if(typeof o.toJSON==="function"){return $.toJSON(o.toJSON())}if(o.constructor===Date){var month=o.getUTCMonth()+1,day=o.getUTCDate(),year=o.getUTCFullYear(),hours=o.getUTCHours(),minutes=o.getUTCMinutes(),seconds=o.getUTCSeconds(),milli=o.getUTCMilliseconds();if(month<10){month="0"+month}if(day<10){day="0"+day}if(hours<10){hours="0"+hours}if(minutes<10){minutes="0"+minutes}if(seconds<10){seconds="0"+seconds}if(milli<100){milli="0"+milli}if(milli<10){milli="0"+milli}return'"'+year+"-"+month+"-"+day+"T"+hours+":"+minutes+":"+seconds+"."+milli+'Z"'}if(o.constructor===Array){var ret=[];for(var i=0;i<o.length;i++){ret.push($.toJSON(o[i])||"null")}return"["+ret.join(",")+"]"}var name,val,pairs=[];for(var k in o){type=typeof k;if(type==="number"){name='"'+k+'"'}else{if(type==="string"){name=$.quoteString(k)}else{continue}}type=typeof o[k];if(type==="function"||type==="undefined"){continue}val=$.toJSON(o[k]);pairs.push(name+":"+val)}return"{"+pairs.join(",")+"}"}};$.evalJSON=typeof JSON==="object"&&JSON.parse?JSON.parse:function(src){return eval("("+src+")")};$.secureEvalJSON=typeof JSON==="object"&&JSON.parse?JSON.parse:function(src){var filtered=src.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered)){return eval("("+src+")")}else{throw new SyntaxError("Error parsing JSON, source is not valid.")}};$.quoteString=function(string){if(string.match(escapeable)){return'"'+string.replace(escapeable,function(a){var c=meta[a];if(typeof c==="string"){return c}c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"'}return'"'+string+'"'}})(jQuery);(function(e){function k(){if(d.jStorage){try{c=l(String(d.jStorage))}catch(a){d.jStorage="{}"}}else{d.jStorage="{}"}g=d.jStorage?String(d.jStorage).length:0}function h(){try{d.jStorage=m(c),b&&(b.setAttribute("jStorage",d.jStorage),b.save("jStorage")),g=d.jStorage?String(d.jStorage).length:0}catch(a){}}function i(a){if(!a||typeof a!="string"&&typeof a!="number"){throw new TypeError("Key name must be string or numeric")}return true}if(!e||!e.toJSON&&!Object.toJSON&&!window.JSON){throw Error("jQuery, MooTools or Prototype needs to be loaded before jStorage!")}var c={},d={jStorage:"{}"},b=null,g=0,m=e.toJSON||Object.toJSON||window.JSON&&(JSON.encode||JSON.stringify),l=e.evalJSON||window.JSON&&(JSON.decode||JSON.parse)||function(a){return String(a).evalJSON()},f=false,j={isXML:function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false},encode:function(a){if(!this.isXML(a)){return false}try{return(new XMLSerializer).serializeToString(a)}catch(b){try{return a.xml}catch(c){}}return false},decode:function(a){var b="DOMParser" in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(a){var b=new ActiveXObject("Microsoft.XMLDOM");b.async="false";b.loadXML(a);return b};if(!b){return false}a=b.call("DOMParser" in window&&new DOMParser||window,a,"text/xml");return this.isXML(a)?a:false}};e.jStorage={version:"0.1.5.4",set:function(a,b){i(a);j.isXML(b)&&(b={_is_xml:true,xml:j.encode(b)});c[a]=b;h();return b},get:function(a,b){i(a);return a in c?c[a]&&typeof c[a]=="object"&&c[a]._is_xml&&c[a]._is_xml?j.decode(c[a].xml):c[a]:typeof b=="undefined"?null:b},deleteKey:function(a){i(a);return a in c?(delete c[a],h(),true):false},flush:function(){c={};h();return true},storageObj:function(){function a(){}a.prototype=c;return new a},index:function(){var a=[],b;for(b in c){c.hasOwnProperty(b)&&a.push(b)}return a},storageSize:function(){return g},currentBackend:function(){return f},storageAvailable:function(){return !!f},reInit:function(){var a;if(b&&b.addBehavior){a=document.createElement("link");b.parentNode.replaceChild(a,b);b=a;b.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(b);b.load("jStorage");a="{}";try{a=b.getAttribute("jStorage")}catch(c){}d.jStorage=a;f="userDataBehavior"}k()}};(function(){var a=false;if("localStorage" in window){try{window.localStorage.setItem("_tmptest","tmpval"),a=true,window.localStorage.removeItem("_tmptest")}catch(c){}}if(a){try{if(window.localStorage){d=window.localStorage,f="localStorage"}}catch(e){}}else{if("globalStorage" in window){try{window.globalStorage&&(d=window.globalStorage[window.location.hostname],f="globalStorage")}catch(g){}}else{if(b=document.createElement("link"),b.addBehavior){b.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(b);b.load("jStorage");a="{}";try{a=b.getAttribute("jStorage")}catch(h){}d.jStorage=a;f="userDataBehavior"}else{b=null;return}}}k()})()})(window.jQuery||window.$);(function(jQuery,undefined){var stepHooks="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),rplusequals=/^([\-+])=\s*(\d+\.?\d*)/,stringParsers=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1],execResult[2],execResult[3],execResult[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[2.55*execResult[1],2.55*execResult[2],2.55*execResult[3],execResult[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(execResult){return[parseInt(execResult[1]+execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(execResult){return[execResult[1],execResult[2]/100,execResult[3]/100,execResult[4]]}}],color=jQuery.Color=function(color,green,blue,alpha){return new jQuery.Color.fn.parse(color,green,blue,alpha)},spaces={rgba:{cache:"_rgba",props:{red:{idx:0,type:"byte",empty:true},green:{idx:1,type:"byte",empty:true},blue:{idx:2,type:"byte",empty:true},alpha:{idx:3,type:"percent",def:1}}},hsla:{cache:"_hsla",props:{hue:{idx:0,type:"degrees",empty:true},saturation:{idx:1,type:"percent",empty:true},lightness:{idx:2,type:"percent",empty:true}}}},propTypes={"byte":{floor:true,min:0,max:255},"percent":{min:0,max:1},"degrees":{mod:360,floor:true}},rgbaspace=spaces.rgba.props,support=color.support={},colors,each=jQuery.each;spaces.hsla.props.alpha=rgbaspace.alpha;function clamp(value,prop,alwaysAllowEmpty){var type=propTypes[prop.type]||{},allowEmpty=prop.empty||alwaysAllowEmpty;if(allowEmpty&&value==null){return null}if(prop.def&&value==null){return prop.def}if(type.floor){value=~~value}else{value=parseFloat(value)}if(value==null||isNaN(value)){return prop.def}if(type.mod){value=value%type.mod;return value<0?type.mod+value:value}return type.min>value?type.min:type.max<value?type.max:value}color.fn=color.prototype={constructor:color,parse:function(red,green,blue,alpha){if(red===undefined){this._rgba=[null,null,null,null];return this}if(red instanceof jQuery||red.nodeType){red=red instanceof jQuery?red.css(green):jQuery(red).css(green);green=undefined}var inst=this,type=jQuery.type(red),rgba=this._rgba=[],source;if(green!==undefined){red=[red,green,blue,alpha];type="array"}if(type==="string"){red=red.toLowerCase();each(stringParsers,function(i,parser){var match=parser.re.exec(red),values=match&&parser.parse(match),parsed,spaceName=parser.space||"rgba",cache=spaces[spaceName].cache;if(values){parsed=inst[spaceName](values);inst[cache]=parsed[cache];rgba=inst._rgba=parsed._rgba;return false}});if(rgba.length!==0){if(Math.max.apply(Math,rgba)===0){jQuery.extend(rgba,colors.transparent)}return this}red=colors[red]||colors._default;return this.parse(red)}if(type==="array"){each(rgbaspace,function(key,prop){rgba[prop.idx]=clamp(red[prop.idx],prop)});return this}if(type==="object"){if(red instanceof color){each(spaces,function(spaceName,space){if(red[space.cache]){inst[space.cache]=red[space.cache].slice()}})}else{each(spaces,function(spaceName,space){each(space.props,function(key,prop){var cache=space.cache;if(!inst[cache]&&space.to){if(red[key]==null||key==="alpha"){return}inst[cache]=space.to(inst._rgba)}inst[cache][prop.idx]=clamp(red[key],prop,true)})})}return this}},is:function(compare){var is=color(compare),same=true,myself=this;each(spaces,function(_,space){var isCache=is[space.cache],localCache;if(isCache){localCache=myself[space.cache]||space.to&&space.to(myself._rgba)||[];each(space.props,function(_,prop){if(isCache[prop.idx]!=null){same=(isCache[prop.idx]==localCache[prop.idx]);return same}})}return same});return same},_space:function(){var used=[],inst=this;each(spaces,function(spaceName,space){if(inst[space.cache]){used.push(spaceName)}});return used.pop()},transition:function(other,distance){var end=color(other),spaceName=end._space(),space=spaces[spaceName],start=this[space.cache]||space.to(this._rgba),result=start.slice();end=end[space.cache];each(space.props,function(key,prop){var index=prop.idx,startValue=start[index],endValue=end[index],type=propTypes[prop.type]||{};if(endValue===null){return}if(startValue===null){result[index]=endValue}else{if(type.mod){if(endValue-startValue>type.mod/2){startValue+=type.mod}else{if(startValue-endValue>type.mod/2){startValue-=type.mod}}}result[prop.idx]=clamp((endValue-startValue)*distance+startValue,prop)}});return this[spaceName](result)},blend:function(opaque){if(this._rgba[3]===1){return this}var rgb=this._rgba.slice(),a=rgb.pop(),blend=color(opaque)._rgba;return color(jQuery.map(rgb,function(v,i){return(1-a)*blend[i]+a*v}))},toRgbaString:function(){var prefix="rgba(",rgba=jQuery.map(this._rgba,function(v,i){return v==null?(i>2?1:0):v});if(rgba[3]===1){rgba.pop();prefix="rgb("}return prefix+rgba.join(",")+")"},toHslaString:function(){var prefix="hsla(",hsla=jQuery.map(this.hsla(),function(v,i){if(v==null){v=i>2?1:0}if(i&&i<3){v=Math.round(v*100)+"%"}return v});if(hsla[3]==1){hsla.pop();prefix="hsl("}return prefix+hsla.join(",")+")"},toHexString:function(includeAlpha){var rgba=this._rgba.slice(),alpha=rgba.pop();if(includeAlpha){rgba.push(~~(alpha*255))}return"#"+jQuery.map(rgba,function(v,i){v=(v||0).toString(16);return v.length==1?"0"+v:v}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}};color.fn.parse.prototype=color.fn;function hue2rgb(p,q,h){h=(h+1)%1;if(h*6<1){return p+(q-p)*6*h}if(h*2<1){return q}if(h*3<2){return p+(q-p)*((2/3)-h)*6}return p}spaces.hsla.to=function(rgba){if(rgba[0]==null||rgba[1]==null||rgba[2]==null){return[null,null,null,rgba[3]]}var r=rgba[0]/255,g=rgba[1]/255,b=rgba[2]/255,a=rgba[3],max=Math.max(r,g,b),min=Math.min(r,g,b),diff=max-min,add=max+min,l=add*0.5,h,s;if(min===max){h=0}else{if(r===max){h=(60*(g-b)/diff)+360}else{if(g===max){h=(60*(b-r)/diff)+120}else{h=(60*(r-g)/diff)+240}}}if(l===0||l===1){s=l}else{if(l<=0.5){s=diff/add}else{s=diff/(2-add)}}return[Math.round(h)%360,s,l,a==null?1:a]};spaces.hsla.from=function(hsla){if(hsla[0]==null||hsla[1]==null||hsla[2]==null){return[null,null,null,hsla[3]]}var h=hsla[0]/360,s=hsla[1],l=hsla[2],a=hsla[3],q=l<=0.5?l*(1+s):l+s-l*s,p=2*l-q,r,g,b;return[Math.round(hue2rgb(p,q,h+(1/3))*255),Math.round(hue2rgb(p,q,h)*255),Math.round(hue2rgb(p,q,h-(1/3))*255),a]};each(spaces,function(spaceName,space){var props=space.props,cache=space.cache,to=space.to,from=space.from;color.fn[spaceName]=function(value){if(to&&!this[cache]){this[cache]=to(this._rgba)}if(value===undefined){return this[cache].slice()}var type=jQuery.type(value),arr=(type==="array"||type==="object")?value:arguments,local=this[cache].slice(),ret;each(props,function(key,prop){var val=arr[type==="object"?key:prop.idx];if(val==null){val=local[prop.idx]}local[prop.idx]=clamp(val,prop)});if(from){ret=color(from(local));ret[cache]=local;return ret}else{return color(local)}};each(props,function(key,prop){if(color.fn[key]){return}color.fn[key]=function(value){var vtype=jQuery.type(value),fn=(key==="alpha"?(this._hsla?"hsla":"rgba"):spaceName),local=this[fn](),cur=local[prop.idx],match;if(vtype==="undefined"){return cur}if(vtype==="function"){value=value.call(this,cur);vtype=jQuery.type(value)}if(value==null&&prop.empty){return this}if(vtype==="string"){match=rplusequals.exec(value);if(match){value=cur+parseFloat(match[2])*(match[1]==="+"?1:-1)}}local[prop.idx]=value;return this[fn](local)}})});each(stepHooks,function(i,hook){jQuery.cssHooks[hook]={set:function(elem,value){value=color(value);if(!support.rgba&&value._rgba[3]!==1){var backgroundColor,curElem=hook==="backgroundColor"?elem.parentNode:elem;do{backgroundColor=jQuery.curCSS(curElem,"backgroundColor")}while((backgroundColor===""||backgroundColor==="transparent")&&(curElem=curElem.parentNode)&&curElem.style);value=value.blend(backgroundColor&&backgroundColor!=="transparent"?backgroundColor:"_default")}value=value.toRgbaString();elem.style[hook]=value}};jQuery.fx.step[hook]=function(fx){if(!fx.colorInit){fx.start=color(fx.elem,hook);fx.end=color(fx.end);fx.colorInit=true}jQuery.cssHooks[hook].set(fx.elem,fx.start.transition(fx.end,fx.pos))}});jQuery(function(){var div=document.createElement("div"),div_style=div.style;div_style.cssText="background-color:rgba(1,1,1,.5)";support.rgba=div_style.backgroundColor.indexOf("rgba")>-1});colors=jQuery.Color.names={aqua:"#00ffff",azure:"#f0ffff",beige:"#f5f5dc",black:"#000000",blue:"#0000ff",brown:"#a52a2a",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkviolet:"#9400d3",fuchsia:"#ff00ff",gold:"#ffd700",green:"#008000",indigo:"#4b0082",khaki:"#f0e68c",lightblue:"#add8e6",lightcyan:"#e0ffff",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightyellow:"#ffffe0",lime:"#00ff00",magenta:"#ff00ff",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#ffa500",pink:"#ffc0cb",purple:"#800080",violet:"#800080",red:"#ff0000",silver:"#c0c0c0",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);
/*!
 * jQuery postMessage - v0.5 - 9/11/2009
 * http://benalman.com/projects/jquery-postmessage-plugin/
 * 
 * Copyright (c) 2009 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($){var interval_id,last_hash,cache_bust=1,rm_callback,window=this,FALSE=!1,postMessage="postMessage",addEventListener="addEventListener",p_receiveMessage,has_postMessage=window[postMessage]&&!$.browser.opera;$[postMessage]=function(message,target_url,target){if(!target_url){return}message=typeof message==="string"?message:$.param(message);target=target||parent;if(has_postMessage){target[postMessage](message,target_url.replace(/([^:]+:\/\/[^\/]+).*/,"$1"))}else{if(target_url){target.location=target_url.replace(/#.*$/,"")+"#"+(+new Date)+(cache_bust++)+"&"+message}}};$.receiveMessage=p_receiveMessage=function(callback,source_origin,delay){if(has_postMessage){if(callback){rm_callback&&p_receiveMessage();rm_callback=function(e){if((typeof source_origin==="string"&&e.origin!==source_origin)||($.isFunction(source_origin)&&source_origin(e.origin)===FALSE)){return FALSE}callback(e)}}if(window[addEventListener]){window[callback?addEventListener:"removeEventListener"]("message",rm_callback,FALSE)}else{window[callback?"attachEvent":"detachEvent"]("onmessage",rm_callback)}}else{interval_id&&clearInterval(interval_id);interval_id=null;if(callback){delay=typeof source_origin==="number"?source_origin:typeof delay==="number"?delay:100;interval_id=setInterval(function(){var hash=document.location.hash,re=/^#?\d+&/;if(hash!==last_hash&&re.test(hash)){last_hash=hash;callback({data:hash.replace(re,"")})}},delay)}}}})(jQuery);!function($){$.fn.expando=function(value){return this.each(function(){var $this=$(this);var data=$this.data("expando");if(!("expando" in $.valHooks)){$.valHooks["expando"]={get:function(el){return $(el).find("textarea").val()},set:function(el,value){$el=$(el);var area=$el.find("textarea")[0];var span=$el.find("span")[0];area.value=value;if(area.addEventListener){span.textContent=area.value}else{if(area.attachEvent){span.innerText=area.value}}}}}if(!data){$this.removeClass("expando").addClass("expandable");$this.wrap('<div class="expando"></div>');$this=$this.parent();$this.prepend("<pre><span></span><br></pre>");var span=$this.find("span");var area=$this.find("textarea");$this.attr("style",area.attr("style"));area.attr("style","");$this[0].type="expando";area=area[0];span=span[0];if(area.addEventListener){area.addEventListener("input",function(){console.log(area.value);span.textContent=area.value},false);span.textContent=area.value}else{if(area.attachEvent){area.attachEvent("onpropertychange",function(){span.innerText=area.value});span.innerText=area.value}}$this.addClass("active");$this.data("expando",true)}if(value!=undefined){$this.val(value)}})}}(jQuery);(function($){$.prettyDate={template:function(source,params){if(arguments.length==1){return function(){var args=$.makeArray(arguments);args.unshift(source);return $.prettyDate.template.apply(this,args)}}if(arguments.length>2&&params.constructor!=Array){params=$.makeArray(arguments).slice(1)}if(params.constructor!=Array){params=[params]}$.each(params,function(i,n){source=source.replace(new RegExp("\\{"+i+"\\}","g"),n)});return source},now:function(){return new Date()},fromUTC:function(utcDate,isUTC){if(!isUTC){return utcDate}else{var date=new Date();date.setUTCDate(utcDate.getDate());date.setUTCHours(utcDate.getHours());date.setUTCMonth(utcDate.getMonth());date.setUTCFullYear(utcDate.getFullYear());date.setUTCMinutes(utcDate.getMinutes());date.setUTCSeconds(utcDate.getSeconds());date.setUTCMilliseconds(utcDate.getMilliseconds());return date}},format:function(time,isUTC){var date=$.prettyDate.fromUTC(new Date(time),isUTC),diff=($.prettyDate.now().getTime()-date.getTime())/1000,day_diff=Math.floor(diff/86400);if(isNaN(day_diff)||day_diff<0||day_diff>=31){return}var messages=$.prettyDate.messages;return day_diff==0&&(diff<60&&messages.now||diff<120&&messages.minute||diff<3600&&messages.minutes(Math.floor(diff/60))||diff<7200&&messages.hour||diff<86400&&messages.hours(Math.floor(diff/3600)))||day_diff==1&&messages.yesterday||day_diff<7&&messages.days(day_diff)||day_diff<8&&messages.week||day_diff<14&&messages.days(day_diff)||day_diff<31&&messages.weeks(Math.ceil(day_diff/7))}};$.prettyDate.messages={now:"just now",minute:"1 minute ago",minutes:$.prettyDate.template("{0} minutes ago"),hour:"1 hour ago",hours:$.prettyDate.template("{0} hours ago"),yesterday:"Yesterday",days:$.prettyDate.template("{0} days ago"),weeks:$.prettyDate.template("{0} weeks ago"),week:"1 week ago"};$.fn.prettyDate=function(options){options=$.extend({value:function(){return $(this).attr(options.attribute)},interval:10000,attribute:"title",isUTC:false},options);var elements=this;function format(){elements.each(function(){var date=$.prettyDate.format(options.value.apply(this),options.isUTC);if(date&&$(this).text()!=date){$(this).text(date)}})}format();if(options.interval){setInterval(format,options.interval)}return this}})(jQuery);var HelloBar=function(message,atts,version_id){var self=this,_url="http://www.hellobar.com",_tagline="The HelloBar - a little bar that gets noticed!",_ns="hellobar",_sessionBegin,_opts={},_defaultBarHeight=30,_defaultBarBorderSize=3,_shadowSize=5,_defaults={afterOpen:null,afterClose:null,onOpen:null,onClose:null,onReady:null,height:_defaultBarHeight,borderSize:_defaultBarBorderSize,showWait:0,hideAfter:-1,wiggleWait:15000,barColor:"#eb593c",shadow:true,textColor:"#ffffff",linkColor:"#80ccff",linkStyle:"button",forgetful:false,positioning:"sticky",transition:"bouncy",speed:500,closable:true,helloBarLogo:true,tabSide:"right",showTabInstantly:false,texture:""};var _show=true,_alreadyShown=false,_isOpen=self.isOpen=true,_els=["wrapper","container","content","shadow","logo","close","open","pusher"],_ids={},_atts={wrapper:{type:"DIV",style:"display:none;"},container:{type:"DIV"},content:{type:"DIV"},shadow:{type:"DIV"},logo:{type:"A",href:_url,title:_tagline,text:_tagline,target:"_blank"},close:{type:"A",href:"#close",text:"Close",onclick:function(){self.close();return false},onmouseover:function(){openCloseOver()},onmouseout:function(){openCloseOut()}},open:{type:"A",href:"#close",text:"Open",onclick:function(){self.open();return false},onmouseover:function(){openCloseOver()},onmouseout:function(){openCloseOut()}},pusher:{type:"DIV"}};var UA=navigator.userAgent.toLowerCase(),Browser={chrome:UA.match(/chrome/)?true:false,firefox:UA.match(/firefox/)?true:false,firefox2:UA.match(/firefox\/2/)?true:false,firefox30:UA.match(/firefox\/3\.[0-9]/)?true:false,firefox40:UA.match(/firefox\/4\.[0-9]/)?true:false,msie:UA.match(/msie/)?true:false,msie6:(UA.match(/msie 6/)&&!UA.match(/msie 7|8/))?true:false,msie7:UA.match(/msie 7/)?true:false,msie8:UA.match(/msie 8/)?true:false,chromeFrame:(UA.match(/msie/)&&UA.match(/chrome/))?true:false,opera:UA.match(/opera/)?true:false,safari:(UA.match(/safari/)&&!UA.match(/chrome/))?true:false};function build(){var elements={};for(var i=0;i<_els.length;i++){var el=_els[i],valid=true;if(_opts.closable===false){if(el=="close"||el=="open"){valid=false}}if(typeof(_opts.helloBarLogo)!="undefined"){if(_opts.helloBarLogo){if(el=="logo"){valid=true}}}if(valid===true){var element;for(var a in _atts[el]){var val=_atts[el][a];switch(a){case"type":element=document.createElement(val);break;case"text":element.appendChild(document.createTextNode(val));break;case"onclick":element.onclick=val;break;case"onmouseover":element.onmouseover=val;break;case"onmouseout":element.onmouseout=val;break;default:element.setAttribute(a,val);break}}element.id=_ids[el];elements[el]=element}}if(_show===false){elements.container.style.top=(0-(_opts.height+_opts.borderSize))+"px"}if(_opts.positioning=="fixed"||_opts.positioning=="sticky"){if(Browser.msie6){_opts.positioning="overlap";elements.pusher.style.display="none"}}switch(_opts.positioning){case"push":break;case"overlap":elements.wrapper.style.position="absolute";elements.wrapper.style.width="100%";elements.wrapper.style.top="0";elements.wrapper.style.left="0";elements.wrapper.style.zIndex="5000";break;case"fixed":elements.wrapper.style.position="fixed";elements.wrapper.style.width="100%";elements.wrapper.style.top="0";elements.wrapper.style.left="0";elements.wrapper.style.zIndex="5000";break;case"sticky":elements.wrapper.style.position="fixed";elements.wrapper.style.width="100%";elements.wrapper.style.top="0";elements.wrapper.style.left="0";elements.wrapper.style.zIndex="5000";break}elements.container.style.height=_opts.height+"px";elements.wrapper.style.height=_opts.height+"px";elements.pusher.style.height=0+"px";if(_opts.height<60){if(typeof(_opts.helloBarLogo)!="undefined"){if(_opts.helloBarLogo){elements.logo.style.marginTop="-11px";elements.logo.style.top="50%"}}if(elements.close){elements.close.style.marginTop="-10px";elements.close.style.top="50%"}}if(typeof(_opts.texture)!="undefined"){if(_opts.texture!==""){var containerClasses=elements.container.className.split(" ");containerClasses.push("texture");containerClasses.push(_opts.texture);elements.container.className=containerClasses.join(" ")}}if(typeof(_opts.tabRadius)!="undefined"){if(_opts.tabRadius!==""){var browsers=["borderRadius","mozBorderRadius","webkitBorderRadius","oBorderRadius","khtmlBorderRadius"];for(var k in browsers){if(typeof(document.body.style[browsers[k]])!=="undefined"){elements.open.style[browsers[k]]=_opts.tabRadius}}}}if(typeof(_opts.borderSize)!="undefined"){if(_opts.borderSize!==""){elements.container.style.borderBottomWidth=_opts.borderSize+"px";elements.shadow.style.bottom=(0-(_opts.borderSize+_shadowSize))+"px";if(elements.open){elements.open.style.borderWidth=_opts.borderSize+"px"}}}if(typeof(_opts.borderColor)!="undefined"){if(_opts.borderColor!==""){elements.container.style.borderBottomColor=_opts.borderColor;elements.open.style.borderColor=_opts.borderColor}}if(typeof(_opts.shadow)!="undefined"){if(!_opts.shadow){elements.shadow.style.display="none"}}if(typeof(_opts.barColor)!="undefined"){if(_opts.barColor!==""){brightnessCheck(_opts.barColor);elements.container.style.backgroundColor=_opts.barColor;if(elements.open){elements.open.style.backgroundColor=_opts.barColor}}}if(typeof(_opts.textColor)!="undefined"){if(_opts.textColor!==""){elements.container.style.color=_opts.textColor}}if(typeof(_opts.fontWeight)!="undefined"){if(_opts.fontWeight!==""){elements.container.style.fontWeight=_opts.fontWeight}}if(typeof(_opts.fontStyle)!="undefined"){if(_opts.fontStyle!==""){elements.container.style.fontStyle=_opts.fontStyle}}if(typeof(_opts.lineHeight)!="undefined"){if(_opts.lineHeight!==""){elements.container.style.lineHeight=_opts.lineHeight}}else{elements.container.style.lineHeight=_opts.height+"px"}if(typeof(_opts.fontSize)!="undefined"){if(_opts.fontSize!==""){elements.container.style.fontSize=_opts.fontSize}}if(typeof(_opts.fonts)!="undefined"){if(_opts.fonts!==""){elements.container.style.fontFamily=_opts.fonts}}if(typeof(_opts.googleFont)!="undefined"){if(_opts.googleFont!==""){if(typeof(WebFontConfig)=="undefined"){WebFontConfig={google:{families:[_opts.googleFont]}};(function(){var hb_wf=document.createElement("script");hb_wf.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js";hb_wf.type="text/javascript";hb_wf.async="true";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hb_wf,s)})()}elements.container.style.fontFamily=_opts.googleFont.split(":")[0].replace(/\+/g," ")}}var wrapperClasses=elements.wrapper.className.split(" ");wrapperClasses.push(_ns+"-"+_opts.tabSide);wrapperClasses.push(_ns+"-"+_opts.imageStyle);if(_opts.linkStyle!="link"){wrapperClasses.push(_ns+"-"+_opts.linkStyle)}elements.wrapper.className=wrapperClasses.join(" ");elements.content.innerHTML=unescape(self.message.replace(/\+/g," "));elements.container.appendChild(elements.content);if(typeof(_opts.helloBarLogo)!="undefined"){if(_opts.helloBarLogo){elements.container.appendChild(elements.logo)}}if(typeof(elements.logo)!="undefined"){elements.logo.href=elements.logo.href+="?utm_source="+document.location.hostname+"&utm_medium=hellobar&utm_campaign=HBSolo"}if(_opts.closable===true){elements.container.appendChild(elements.close)}elements.container.appendChild(elements.shadow);elements.wrapper.appendChild(elements.container);if(_opts.closable===true){elements.wrapper.appendChild(elements.open)}document.body.children[0].parentNode.insertBefore(elements.wrapper,document.body.children[0]);if(_opts.positioning=="sticky"){document.body.children[0].parentNode.insertBefore(elements.pusher,document.body.children[0])}var links=document.getElementById("hellobar-container").getElementsByTagName("A");for(var l in links){var link=links[l],oldOnClick=null;if(typeof(oldOnClick)=="function"){oldOnClick()}if(link.id===""){if(typeof(_opts.linkColor)!="undefined"){if(_opts.linkColor!==""){link.style.color=_opts.linkColor}}link.onclick=function(){if(typeof(oldOnClick)=="function"){oldOnClick()}}}else{if(link.id==_ns+"-logo"){link.onclick=function(){if(typeof(oldOnClick)=="function"){oldOnClick()}return false}}}}}function getCookie(){var cookies=document.cookie.split("; ");for(var i=0;i<cookies.length;i++){var key=cookies[i].split("=")[0],val=cookies[i].split("=")[1];if(key==_ns+"_"+version_id+"_hide"){_show=val==1?false:true}if(key==_ns+"_"+version_id+"_shown"){_alreadyShown=val==1?true:false}}}function setCookie(cookiename,val,clearCookie){if(_opts.forgetful===true){return false}var expireOnSessionClose=false,date=new Date(),days=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Nov","Dec"],D=new Date(date.getTime()+(365*86400000));if(typeof(clearCookie)!="undefined"){if(clearCookie===true){D=new Date(date.getTime()-(1*86400000))}if(clearCookie=="this_session"){expireOnSessionClose=true}}var dateStr=days[D.getUTCDay()]+", "+D.getUTCDate()+" "+months[D.getUTCMonth()]+" "+D.getUTCFullYear()+" "+D.getUTCHours()+":"+D.getUTCMinutes()+":"+D.getUTCSeconds()+" UTC";if(expireOnSessionClose){document.cookie=cookiename+"="+val+"; path=/"}else{document.cookie=cookiename+"="+val+"; expires="+dateStr+"; path=/"}}function close(callback){if(_isOpen){setCookie(_ns+"_"+version_id+"_hide",1);setCookie(_ns+"_"+version_id+"_shown",0,"this_session");if(typeof(_opts.onClose)=="function"){_opts.onClose(self,_opts,"onClose")}showTab(hideBar(function(){if(typeof(_opts.afterClose)=="function"){_opts.afterClose(self,_opts,"afterClose")}if(typeof(callback)=="function"){callback(self,_opts,"afterClose")}}));_isOpen=self.isOpen=false}}function open(callback){if(!_isOpen){if(_opts.hideAfter<_opts.showWait){clearInterval(window._hellobar_wiggleWaitTimer);clearTimeout(window._hellobar_hideAfterTimer)}setCookie(_ns+"_"+version_id+"_hide",0,true);setCookie(_ns+"_"+version_id+"_shown",1,"this_session");if(typeof(_opts.onOpen)=="function"){_opts.onOpen(self,_opts,"onOpen")}hideTab(showBar(function(){if(typeof(_opts.afterOpen)=="function"){_opts.afterOpen(self,_opts,"afterOpen")}if(typeof(callback)=="function"){callback(self,_opts,"afterOpen")}}));_isOpen=self.isOpen=true}}function openCloseOver(){self.elements.open.style.backgroundColor=brightenAndReturnRGB(_opts.barColor)}function openCloseOut(){self.elements.open.style.backgroundColor=_opts.barColor}function wiggleMe(){var wiggles=3;return function(pos){return((-Math.cos(pos*Math.PI*((1+(2*wiggles))*pos))/2)+0.5)}}function wiggle(){var animator=new Animator({transition:wiggleMe(),duration:500}).addSubject(new NumericalStyleSubject(self.elements.open,"right",10,13));animator.play()}function startWiggling(){if(_opts.wiggleWait>0){window._hellobar_wiggleWaitTimer="";window._hellobar_wiggleWaitTimer=setInterval(function(){wiggle()},_opts.wiggleWait)}}function showTab(callback){var animator=new Animator({transition:Animator.tx[_opts.transition],duration:_opts.speed,onComplete:function(){if(typeof(callback)=="function"){callback()}}}).addSubject(new NumericalStyleSubject(self.elements.open,"top",-96,-50));animator.play()}function showTabInstantly(){self.elements.open.style.top="-50px"}function hideTab(callback){var animator=new Animator({transition:Animator.tx[_opts.transition],duration:_opts.speed,onComplete:function(){if(typeof(callback)=="function"){callback()}}}).addSubject(new NumericalStyleSubject(self.elements.open,"top",-50,-96));animator.play()}function showBar(callback){var animator=new Animator({transition:Animator.tx[_opts.transition],duration:_opts.speed,onComplete:function(){callback(self,_opts,"afterOpen")}}).addSubject(new NumericalStyleSubject(self.elements.wrapper,"height",0,(_opts.height+_opts.borderSize))).addSubject(new NumericalStyleSubject(self.elements.container,"top",(0-(_opts.height+_opts.borderSize+_shadowSize)),0));if(_opts.positioning=="sticky"){animator.addSubject(new NumericalStyleSubject(self.elements.pusher,"height",0,(0)))}animator.play()}function hideBar(callback){var animator=new Animator({transition:Animator.tx.easeOut,duration:_opts.speed,onComplete:function(){callback(self,_opts,"afterClose")}}).addSubject(new NumericalStyleSubject(self.elements.wrapper,"height",(_opts.height+_opts.borderSize),0)).addSubject(new NumericalStyleSubject(self.elements.container,"top",0,(0-(_opts.height+_opts.borderSize+_shadowSize))));if(_opts.positioning=="sticky"){animator.addSubject(new NumericalStyleSubject(self.elements.pusher,"height",(0),0))}animator.play()}function cleanHexColor(hex){if(!hex.match("^#")){hex="#"+hex}if(hex.length==4){return"#"+hex.substr(1,3)+hex.substr(1,3)}return hex}function hex2rgb(hex){return new RGBColor(hex)}function isRGB(color){if(color.match("^rgb")){return true}else{return false}}function cleanRGB(rgba){var parts=rgba.match(/((\d+)?\.?\d+)/g);return{r:parts[0],g:parts[1],b:parts[2]}}function darkImages(color){if(isRGB(color)){rgb=cleanRGB(color)}else{hex=cleanHexColor(color);rgb=hex2rgb(hex)}if(rgb){var result=((rgb.r*299)+(rgb.g*587)+(rgb.b*114))/1000;if(result>125){return true}else{return false}}}function brightnessCheck(color){if(darkImages(color)){_opts.imageStyle="dark-images"}else{_opts.imageStyle="light-images"}}function brightenAndReturnRGB(color){if(isRGB(color)){rgb=cleanRGB(color)}else{hex=cleanHexColor(color);rgb=hex2rgb(hex)}if(darkImages(color)){var boost=38;return"rgb("+Math.min(rgb.r+boost,255)+","+Math.min(rgb.g+boost,255)+","+Math.min(rgb.b+boost,255)+")"}else{var boost=(0-38);return"rgb("+Math.max(rgb.r+boost,0)+","+Math.max(rgb.g+boost,0)+","+Math.max(rgb.b+boost,0)+")"}var boost=38;return"rgb("+Math.min(rgb.r+boost,255)+","+Math.min(rgb.g+boost,255)+","+Math.min(rgb.b+boost,255)+")"}function generateTimestamp(){var timestamp=Math.floor(new Date().getTime()/1000);return timestamp}this.close=function(callback){close(callback);return false};this.open=function(callback){open(callback);clearTimeout(window._hellobar_wiggleWaitTimer);return false};function initialize(message,atts,version_id){self.message=message;if(document.getElementById("hellobar-wrapper")){document.getElementById("hellobar-wrapper").parentNode.removeChild(document.getElementById("hellobar-wrapper"))}if(document.getElementById("hellobar-pusher")){document.getElementById("hellobar-pusher").parentNode.removeChild(document.getElementById("hellobar-pusher"))}clearTimeout(window._hellobar_showWaitTimer);clearTimeout(window._hellobar_hideAfterTimer);clearTimeout(window._hellobar_wiggleWaitTimer);var currentCookieMatch=document.cookie.match(/hellobar_current\=([0-9]+)/);if(currentCookieMatch){var currentCookieId=currentCookieMatch[1];if(parseInt(currentCookieId,10)!=parseInt(version_id,10)){var oldCookies=document.cookie.match(/hellobar_([0-9]+)_(variation|hide|shown)/g);for(var cookie in oldCookies){var oldCookie=oldCookies[cookie];setCookie(oldCookie,0,true)}setCookie("hellobar_current",0,true)}}setCookie("hellobar_current",version_id);_sessionBegin=generateTimestamp();for(var i in _els){keyname=_els[i];_ids[keyname]=[_ns,keyname].join("-")}for(var k in _defaults){_opts[k]=_defaults[k]}if(typeof(atts)!="undefined"){for(var k in atts){_opts[k]=atts[k]}}if(typeof(_opts.hideDestination)!="undefined"){if(_opts.hideDestination==1&&document.location.href==_opts.destinationUrl){return false}}if(_opts.forgetful===false){getCookie()}else{startWiggling()}_opts.height=Math.max(_opts.height,_defaultBarHeight);if(_opts.height>_defaultBarHeight){_opts.texture=""}if(!document.getElementById(_ids.wrapper)){build();self.elements={};for(var i=0;i<_els.length;i++){var _slug=_els[i];self.elements[_slug]=document.getElementById(_ids[_slug])}document.getElementById(_ids.wrapper).hellobar=self;if(typeof(_opts.onReady)=="function"){_opts.onReady(self,_opts,"onReady")}}if(_show===true&&_alreadyShown===true){self.elements.wrapper.style.display="block";self.elements.container.style.top="0px";self.elements.wrapper.style.height=(_opts.height+_opts.borderSize)+"px";if(_opts.positioning=="sticky"){self.elements.pusher.style.height=(0-(0))+"px"}}self.elements.wrapper.style.display="block";if(_show===true){if(self.elements.open){self.elements.open.style.top="-96px"}if(_alreadyShown!==true){if(_opts.showWait>0){if((_opts.showWait<_opts.hideAfter)||(_opts.hideAfter<0)){self.elements.container.style.top=(0-(_opts.height+_opts.borderSize+_shadowSize))+"px";self.elements.wrapper.style.height="0px";if(_opts.positioning=="sticky"){self.elements.pusher.style.height="0px"}if(_opts.showTabInstantly){showTabInstantly()}else{showTab()}_isOpen=self.isOpen=false}window._hellobar_showWaitTimer="";window._hellobar_showWaitTimer=setTimeout(function(){open()},_opts.showWait)}else{open()}}if(_opts.hideAfter>0){_opts.hideAfter=_opts.hideAfter+_opts.showWait;window._hellobar_hideAfterTimer="";window._hellobar_hideAfterTimer=setTimeout(function(){close()},_opts.hideAfter)}}else{self.elements.container.style.top=(0-(_opts.height+_opts.borderSize+_shadowSize))+"px";self.elements.wrapper.style.height="0px";if(_opts.positioning=="sticky"){self.elements.pusher.style.height="0px"}showTab();_isOpen=self.isOpen=false;startWiggling()}}initialize(message,atts,version_id)};function Animator(a){this.setOptions(a);var b=this;this.timerDelegate=function(){b.onTimerEvent()};this.subjects=[];this.state=this.target=0;this.lastTime=null}Animator.prototype={setOptions:function(a){this.options=Animator.applyDefaults({interval:20,duration:400,onComplete:function(){},onStep:function(){},transition:Animator.tx.easeInOut},a)},seekTo:function(a){this.seekFromTo(this.state,a)},seekFromTo:function(a,b){this.target=Math.max(0,Math.min(1,b));this.state=Math.max(0,Math.min(1,a));this.lastTime=(new Date).getTime();if(!this.intervalId){this.intervalId=window.setInterval(this.timerDelegate,this.options.interval)}},jumpTo:function(a){this.target=this.state=Math.max(0,Math.min(1,a));this.propagate()},toggle:function(){this.seekTo(1-this.target)},addSubject:function(a){this.subjects[this.subjects.length]=a;return this},clearSubjects:function(){this.subjects=[]},propagate:function(){for(var a=this.options.transition(this.state),b=0;b<this.subjects.length;b++){if(this.subjects[b].setState){this.subjects[b].setState(a)}else{this.subjects[b](a)}}},onTimerEvent:function(){var a=(new Date).getTime(),b=a-this.lastTime;this.lastTime=a;a=b/this.options.duration*(this.state<this.target?1:-1);Math.abs(a)>=Math.abs(this.state-this.target)?this.state=this.target:this.state+=a;try{this.propagate()}finally{this.options.onStep.call(this),this.target==this.state&&this.stop()}},stop:function(){if(this.intervalId){window.clearInterval(this.intervalId),this.intervalId=null,this.options.onComplete.call(this)}},play:function(){this.seekFromTo(0,1)},reverse:function(){this.seekFromTo(1,0)},inspect:function(){for(var a="#<Animator:\n",b=0;b<this.subjects.length;b++){a+=this.subjects[b].inspect()}a+=">";return a}};Animator.applyDefaults=function(a,b){var b=b||{},c,d={};for(c in a){d[c]=b[c]!==void 0?b[c]:a[c]}return d};Animator.makeArrayOfElements=function(a){if(a==null){return[]}if("string"==typeof a){return[document.getElementById(a)]}if(!a.length){return[a]}for(var b=[],c=0;c<a.length;c++){b[c]="string"==typeof a[c]?document.getElementById(a[c]):a[c]}return b};Animator.camelize=function(a){var b=a.split("-");if(b.length==1){return b[0]}for(var a=a.indexOf("-")==0?b[0].charAt(0).toUpperCase()+b[0].substring(1):b[0],c=1,d=b.length;c<d;c++){var e=b[c];a+=e.charAt(0).toUpperCase()+e.substring(1)}return a};Animator.apply=function(a,b,c){if(b instanceof Array){return(new Animator(c)).addSubject(new CSSStyleSubject(a,b[0],b[1]))}return(new Animator(c)).addSubject(new CSSStyleSubject(a,b))};Animator.makeEaseIn=function(a){return function(b){return Math.pow(b,a*2)}};Animator.makeEaseOut=function(a){return function(b){return 1-Math.pow(1-b,a*2)}};Animator.makeElastic=function(a){return function(b){b=Animator.tx.easeInOut(b);return(1-Math.cos(b*Math.PI*a))*(1-b)+b}};Animator.makeADSR=function(a,b,c,d){d==null&&(d=0.5);return function(e){if(e<a){return e/a}if(e<b){return 1-(e-a)/(b-a)*(1-d)}if(e<c){return d}return d*(1-(e-c)/(1-c))}};Animator.makeBounce=function(a){var b=Animator.makeElastic(a);return function(a){a=b(a);return a<=1?a:2-a}};Animator.tx={easeInOut:function(a){return -Math.cos(a*Math.PI)/2+0.5},linear:function(a){return a},easeIn:Animator.makeEaseIn(1.5),easeOut:Animator.makeEaseOut(1.5),strongEaseIn:Animator.makeEaseIn(2.5),strongEaseOut:Animator.makeEaseOut(2.5),elastic:Animator.makeElastic(1),veryElastic:Animator.makeElastic(3),bouncy:Animator.makeBounce(1),veryBouncy:Animator.makeBounce(3)};function NumericalStyleSubject(a,b,c,d,e){this.els=Animator.makeArrayOfElements(a);this.property=b=="opacity"&&window.ActiveXObject?"filter":Animator.camelize(b);this.from=parseFloat(c);this.to=parseFloat(d);this.units=e!=null?e:"px"}NumericalStyleSubject.prototype={setState:function(a){for(var a=this.getStyle(a),b=0,c=0;c<this.els.length;c++){try{this.els[c].style[this.property]=a}catch(d){if(this.property!="fontWeight"){throw d}}if(b++>20){break}}},getStyle:function(a){a=this.from+(this.to-this.from)*a;if(this.property=="filter"){return"alpha(opacity="+Math.round(a*100)+")"}if(this.property=="opacity"){return a}return Math.round(a)+this.units},inspect:function(){return"\t"+this.property+"("+this.from+this.units+" to "+this.to+this.units+")\n"}};function ColorStyleSubject(a,b,c,d){this.els=Animator.makeArrayOfElements(a);this.property=Animator.camelize(b);this.to=this.expandColor(d);this.from=this.expandColor(c);this.origFrom=c;this.origTo=d}ColorStyleSubject.prototype={expandColor:function(a){var b,c;if(b=ColorStyleSubject.parseColor(a)){return a=parseInt(b.slice(1,3),16),c=parseInt(b.slice(3,5),16),b=parseInt(b.slice(5,7),16),[a,c,b]}window.ANIMATOR_DEBUG&&alert("Invalid colour: '"+a+"'")},getValueForState:function(a,b){return Math.round(this.from[a]+(this.to[a]-this.from[a])*b)},setState:function(a){for(var a="#"+ColorStyleSubject.toColorPart(this.getValueForState(0,a))+ColorStyleSubject.toColorPart(this.getValueForState(1,a))+ColorStyleSubject.toColorPart(this.getValueForState(2,a)),b=0;b<this.els.length;b++){this.els[b].style[this.property]=a}},inspect:function(){return"\t"+this.property+"("+this.origFrom+" to "+this.origTo+")\n"}};ColorStyleSubject.parseColor=function(a){var b="#",c;if(c=ColorStyleSubject.parseColor.rgbRe.exec(a)){for(var d=1;d<=3;d++){a=Math.max(0,Math.min(255,parseInt(c[d]))),b+=ColorStyleSubject.toColorPart(a)}return b}if(c=ColorStyleSubject.parseColor.hexRe.exec(a)){if(c[1].length==3){for(d=0;d<3;d++){b+=c[1].charAt(d)+c[1].charAt(d)}return b}return"#"+c[1]}return !1};ColorStyleSubject.toColorPart=function(a){a>255&&(a=255);var b=a.toString(16);if(a<16){return"0"+b}return b};ColorStyleSubject.parseColor.rgbRe=/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i;ColorStyleSubject.parseColor.hexRe=/^\#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/;function DiscreteStyleSubject(a,b,c,d,e){this.els=Animator.makeArrayOfElements(a);this.property=Animator.camelize(b);this.from=c;this.to=d;this.threshold=e||0.5}DiscreteStyleSubject.prototype={setState:function(a){for(var b=0;b<this.els.length;b++){this.els[b].style[this.property]=a<=this.threshold?this.from:this.to}},inspect:function(){return"\t"+this.property+"("+this.from+" to "+this.to+" @ "+this.threshold+")\n"}};function CSSStyleSubject(a,b,c){a=Animator.makeArrayOfElements(a);this.subjects=[];if(a.length!=0){var d;if(c){b=this.parseStyle(b,a[0]),c=this.parseStyle(c,a[0])}else{for(d in c=this.parseStyle(b,a[0]),b={},c){b[d]=CSSStyleSubject.getStyle(a[0],d)}}for(d in b){b[d]==c[d]&&(delete b[d],delete c[d])}var e,f,h,j;for(d in b){var i=String(b[d]),g=String(c[d]);if(c[d]==null){window.ANIMATOR_DEBUG&&alert("No to style provided for '"+d+'"')}else{if(h=ColorStyleSubject.parseColor(i)){j=ColorStyleSubject.parseColor(g),f=ColorStyleSubject}else{if(i.match(CSSStyleSubject.numericalRe)&&g.match(CSSStyleSubject.numericalRe)){h=parseFloat(i),j=parseFloat(g),f=NumericalStyleSubject,e=CSSStyleSubject.numericalRe.exec(i),g=CSSStyleSubject.numericalRe.exec(g),e=e[1]!=null?e[1]:g[1]!=null?g[1]:g}else{if(i.match(CSSStyleSubject.discreteRe)&&g.match(CSSStyleSubject.discreteRe)){h=i,j=g,f=DiscreteStyleSubject,e=0}else{window.ANIMATOR_DEBUG&&alert("Unrecognised format for value of "+d+": '"+b[d]+"'");continue}}}this.subjects[this.subjects.length]=new f(a,d,h,j,e)}}}}CSSStyleSubject.prototype={parseStyle:function(a,b){var c={};if(a.indexOf(":")!=-1){for(var d=a.split(";"),e=0;e<d.length;e++){var f=CSSStyleSubject.ruleRe.exec(d[e]);f&&(c[f[1]]=f[2])}}else{var h;h=b.className;b.className=a;for(e=0;e<CSSStyleSubject.cssProperties.length;e++){d=CSSStyleSubject.cssProperties[e],f=CSSStyleSubject.getStyle(b,d),f!=null&&(c[d]=f)}b.className=h}return c},setState:function(a){for(var b=0;b<this.subjects.length;b++){this.subjects[b].setState(a)}},inspect:function(){for(var a="",b=0;b<this.subjects.length;b++){a+=this.subjects[b].inspect()}return a}};CSSStyleSubject.getStyle=function(a,b){var c;if(document.defaultView&&document.defaultView.getComputedStyle&&(c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b))){return c}b=Animator.camelize(b);a.currentStyle&&(c=a.currentStyle[b]);return c||a.style[b]};CSSStyleSubject.ruleRe=/^\s*([a-zA-Z\-]+)\s*:\s*(\S(.+\S)?)\s*$/;CSSStyleSubject.numericalRe=/^-?\d+(?:\.\d+)?(%|[a-zA-Z]{2})?$/;CSSStyleSubject.discreteRe=/^\w+$/;CSSStyleSubject.cssProperties=["azimuth","background","background-attachment","background-color","background-image","background-position","background-repeat","border-collapse","border-color","border-spacing","border-style","border-top","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width","border-width","bottom","clear","clip","color","content","cursor","direction","display","elevation","empty-cells","css-float","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","height","left","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-top","margin-right","margin-bottom","margin-left","max-height","max-width","min-height","min-width","orphans","outline","outline-color","outline-style","outline-width","overflow","padding","padding-top","padding-right","padding-bottom","padding-left","pause","position","right","size","table-layout","text-align","text-decoration","text-indent","text-shadow","text-transform","top","vertical-align","visibility","white-space","width","word-spacing","z-index","opacity","outline-offset","overflow-x","overflow-y"];function AnimatorChain(a,b){this.animators=a;this.setOptions(b);for(var c=0;c<this.animators.length;c++){this.listenTo(this.animators[c])}this.forwards=!1;this.current=0}AnimatorChain.prototype={setOptions:function(a){this.options=Animator.applyDefaults({resetOnPlay:!0},a)},play:function(){this.forwards=!0;this.current=-1;if(this.options.resetOnPlay){for(var a=0;a<this.animators.length;a++){this.animators[a].jumpTo(0)}}this.advance()},reverse:function(){this.forwards=!1;this.current=this.animators.length;if(this.options.resetOnPlay){for(var a=0;a<this.animators.length;a++){this.animators[a].jumpTo(1)}}this.advance()},toggle:function(){this.forwards?this.seekTo(0):this.seekTo(1)},listenTo:function(a){var b=a.options.onComplete,c=this;a.options.onComplete=function(){b&&b.call(a);c.advance()}},advance:function(){this.forwards?this.animators[this.current+1]!=null&&(this.current++,this.animators[this.current].play()):this.animators[this.current-1]!=null&&(this.current--,this.animators[this.current].reverse())},seekTo:function(a){a<=0?(this.forwards=!1,this.animators[this.current].seekTo(0)):(this.forwards=!0,this.animators[this.current].seekTo(1))}};function RGBColor(color_string){this.ok=false;if(color_string.charAt(0)=="#"){color_string=color_string.substr(1,6)}color_string=color_string.replace(/ /g,"");color_string=color_string.toLowerCase();var simple_colors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var key in simple_colors){if(color_string==key){color_string=simple_colors[key]}}var color_defs=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(bits){return[parseInt(bits[1]),parseInt(bits[2]),parseInt(bits[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(bits){return[parseInt(bits[1],16),parseInt(bits[2],16),parseInt(bits[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(bits){return[parseInt(bits[1]+bits[1],16),parseInt(bits[2]+bits[2],16),parseInt(bits[3]+bits[3],16)]}}];for(var i=0;i<color_defs.length;i++){var re=color_defs[i].re,processor=color_defs[i].process,bits=re.exec(color_string);if(bits){channels=processor(bits);this.r=channels[0];this.g=channels[1];this.b=channels[2];this.ok=true}}this.r=(this.r<0||isNaN(this.r))?0:((this.r>255)?255:this.r);this.g=(this.g<0||isNaN(this.g))?0:((this.g>255)?255:this.g);this.b=(this.b<0||isNaN(this.b))?0:((this.b>255)?255:this.b);this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"};this.toHex=function(){var r=this.r.toString(16),g=this.g.toString(16),b=this.b.toString(16);if(r.length==1){r="0"+r}if(g.length==1){g="0"+g}if(b.length==1){b="0"+b}return"#"+r+g+b};this.getHelpXML=function(){var examples=new Array();for(var i=0;i<color_defs.length;i++){var example=color_defs[i].example;for(var j=0;j<example.length;j++){examples[examples.length]=example[j]}}for(var sc in simple_colors){examples[examples.length]=sc}var xml=document.createElement("ul");xml.setAttribute("id","rgbcolor-examples");for(var i=0;i<examples.length;i++){try{var list_item=document.createElement("li"),list_color=new RGBColor(examples[i]),example_div=document.createElement("div");example_div.style.cssText="margin: 3px; border: 1px solid black; background:"+list_color.toHex()+"; color:"+list_color.toHex();example_div.appendChild(document.createTextNode("test"));var list_item_value=document.createTextNode(" "+examples[i]+" -> "+list_color.toRGB()+" -> "+list_color.toHex());list_item.appendChild(example_div);list_item.appendChild(list_item_value);xml.appendChild(list_item)}catch(e){}}return xml}}(function($){$.cookie=function(key,value,options){if(arguments.length>1&&String(value)!=="[object Object]"){options=jQuery.extend({},options);if(value===null||value===undefined){options.expires=-1}if(typeof options.expires==="number"){var days=options.expires,t=options.expires=new Date();t.setDate(t.getDate()+days)}value=String(value);return(document.cookie=[encodeURIComponent(key),"=",options.raw?value:encodeURIComponent(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join(""))}options=value||{};var result,decode=options.raw?function(s){return s}:decodeURIComponent;return(result=new RegExp("(?:^|; )"+encodeURIComponent(key)+"=([^;]*)").exec(document.cookie))?decode(result[1]):null}})(jQuery);
/*! 
* FitVids 1.0
*
* Copyright 2011, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
* Date: Thu Sept 01 18:00:00 2011 -0500
*/
(function($){$.fn.fitVids=function(options){var settings={customSelector:null};var div=document.createElement("div"),ref=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0];div.className="fit-vids-style";div.innerHTML="&shy;<style>               .fluid-width-video-wrapper {                 width: 100%;                              position: relative;                       padding: 0;                            }                                                                                   .fluid-width-video-wrapper iframe,        .fluid-width-video-wrapper object,        .fluid-width-video-wrapper embed {           position: absolute;                       top: 0;                                   left: 0;                                  width: 100%;                              height: 100%;                          }                                       </style>";ref.parentNode.insertBefore(div,ref);if(options){$.extend(settings,options)}return this.each(function(){var selectors=["iframe[src*='player.vimeo.com']","iframe[src*='www.youtube.com']","iframe[src*='www.kickstarter.com']","object","embed"];if(settings.customSelector){selectors.push(settings.customSelector)}var $allVideos=$(this).find(selectors.join(","));$allVideos.each(function(){var $this=$(this);if(this.tagName.toLowerCase()=="embed"&&$this.parent("object").length||$this.parent(".fluid-width-video-wrapper").length){return}var height=this.tagName.toLowerCase()=="object"?$this.attr("height"):$this.height(),aspectRatio=height/$this.width();if(!$this.attr("id")){var videoID="fitvid"+Math.floor(Math.random()*999999);$this.attr("id",videoID)}$this.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",(aspectRatio*100)+"%");$this.removeAttr("height").removeAttr("width")})})}})(jQuery);