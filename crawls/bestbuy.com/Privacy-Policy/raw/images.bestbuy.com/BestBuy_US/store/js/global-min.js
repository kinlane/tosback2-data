function displayReview(e,t,n,r){var i,s,o,u,a=$("#productsummary .customer-reviews");if(a){i=r.toFixed(1);s=(""+i).replace(".","_");o="";o+='<div id="reviewband"><strong>Customer Reviews:&nbsp;</strong>';u=" ";if(i>0){u=imgServer+"images/global/misc/ratings_star_"+s+".gif"}else{u=imgServer+"images/global/misc/ratings_star_0_0.gif"}o+='<img src="'+u+'" alt="'+i+' out of 5 stars"/>';if(typeof totalReviewsCount!="undefined"){if(totalReviewsCount>0){o+='<span id="reviewscore"><strong>&nbsp;'+i+'</strong></span><span id="reviewnum">';o+='&nbsp;<a href="#tabbed-customerreviews">Read reviews ('+e+")</a></span>"}else{o+='<span id="reviewnum">&nbsp;<a href="#tabbed-customerreviews">'+"Be the first to write a review.</a></span>"}}o+="</div>";a.innerHTML=o}}var bbyAds,addthis_config,bbyBrowsers,html5audio,ojfunc,Nav,bbyon,bbyonPanelLB,MP;if(typeof globalJSIncluded=="undefined"){addthis_config={services_exclude:"facebook"};bbyBrowsers=true;html5audio={init:function(){if(templateName=="PDMU"){if(!!document.createElement("audio").play){var e=document.createElement("audio");var t=!!e.canPlayType&&""!=e.canPlayType("audio/mpeg");if(t==true){window.addEventListener("load",function(){var e=$("audio");$.each(e,function(e,t){t.removeAttribute("controls");var n=document.createElement("img");n.src="http://images.bestbuy.com/BestBuy_US/store/images/global/buttons/play_btn.png";n.setAttribute("class","playbtn");var r=document.createElement("input");r.setAttribute("class","timebar");r.setAttribute("type","range");r.setAttribute("step","any");r.value=0;r.min=t.startTime;r.max=t.startTime+t.duration;$(this).parent().prepend(n);t.parentNode.appendChild(r);n.addEventListener("click",function(e){if(t.paused){t.play();this.src="http://images.bestbuy.com/BestBuy_US/store/images/global/buttons/pause_btn.png"}else{if(t.ended){this.src="http://images.bestbuy.com/BestBuy_US/store/images/global/buttons/play_btn.png"}else{this.src="http://images.bestbuy.com/BestBuy_US/store/images/global/buttons/play_btn.png";t.pause()}}},true);t.addEventListener("timeupdate",function(e){var t=this.currentTime/this.duration*100;var n=$(this).next().next("input");n.css({width:t*3.85})},true);t.addEventListener("play",function(e){$(this).siblings(".timebar").css({height:"7px","margin-bottom":"10px","margin-top":"10px"})},true);t.addEventListener("pause",function(e){if(t.ended){t.play()}},true);t.addEventListener("ended",function(e){$(this).siblings(".playbtn").attr("src","http://images.bestbuy.com/BestBuy_US/store/images/global/buttons/play_btn.png");$(this).siblings(".timebar").css({height:"0px","margin-bottom":"0px","margin-top":"0px"})},true)})},true)}else{window.addEventListener("load",function(e){var t=$(".listen");$.each(t,function(e,t){$(this).parent("audio").after(t)})},true)}}else{if(window.addEventListener){window.addEventListener("load",function(e){var t=$(".listen");$.each(t,function(e,t){$(this).parent("audio").after(t)})},true)}else{window.attachEvent("onload",function(e){var t=$(".listen");$.each(t,function(e,t){$(this).parent("audio").after(t)})},true)}}}}};function displayImg(e,t,n,r,i){var s='<img src="'+imgServer;if(e){if(e){s=s+e+'"'}if(t){s=s+" height="+t}if(n){s=s+" width="+n}s=s+" border=0";if(r){s=s+' alt="'+r+'"'}if(i){s=s+' align="'+i+'"'}s=s+">";document.write(s)}else{}}function logout(){document.logoutForm.submit()}(function(e){function t(t,n){return parseInt(e.css(t[0],n))||0}function n(e){return e[0].offsetWidth+t(e,"marginLeft")+t(e,"marginRight")}function r(e){return e[0].offsetHeight+t(e,"marginTop")+t(e,"marginBottom")}e.fn.jCarouselLite=function(t){t=e.extend({btnPrev:null,btnNext:null,btnGo:null,mouseWheel:false,auto:null,speed:200,easing:null,vertical:false,circular:true,visible:3,start:0,scroll:1,beforeStart:null,afterEnd:null},t||{});return this.each(function(){function b(){return i.slice(u).slice(0,y)}function w(n){if(!c){if(t.beforeStart)t.beforeStart.call(this,b());if(t.circular){if(n<=t.start-y-1){v.css(h,-((s-y*2)*a)+"px");u=n==t.start-y-1?s-y*2-1:s-y*2-t.scroll}else if(n>=s-y+1){v.css(h,-(y*a)+"px");u=n==s-y+1?y+1:y+t.scroll}else u=n}else{if(n<0||n>s-y)return;else u=n}c=true;v.animate(h=="left"?{left:-(u*a)}:{top:-(u*a)},t.speed,t.easing,function(){if(t.afterEnd)t.afterEnd.call(this,b());c=false});if(!t.circular){e(t.btnPrev+","+t.btnNext).removeClass("disabled");e(u-t.scroll<0&&t.btnPrev||u+t.scroll>s-y&&t.btnNext||[]).addClass("disabled")}}return false}var i,s,u,a,f,l,c=false,h=t.vertical?"top":"left",p=t.vertical?"height":"width",d=e(this),v=e("ul",d),m=e("li",v),g=m.size(),y=t.visible;if(t.circular){v.prepend(m.slice(g-y-1+1).clone()).append(m.slice(0,y).clone());t.start+=y}i=e("li",v),s=i.size(),u=t.start;d.css("visibility","visible");i.css({overflow:"hidden","float":t.vertical?"none":"left"});v.css({margin:"0",padding:"0",position:"relative","list-style-type":"none","z-index":"1"});d.css({overflow:"hidden",position:"relative","z-index":"2",left:"0px"});a=t.vertical?r(i):n(i);f=a*s;l=a*y;i.css({width:i.width(),height:i.height()});v.css(p,f+"px").css(h,-(u*a));d.css(p,l+"px");if(t.btnPrev)e(t.btnPrev).click(function(){return w(u-t.scroll)});if(t.btnNext)e(t.btnNext).click(function(){return w(u+t.scroll)});if(t.btnGo)e.each(t.btnGo,function(n,r){e(r).click(function(){return w(t.circular?t.visible+n:n)})});if(t.mouseWheel&&d.mousewheel)d.mousewheel(function(e,n){return n>0?w(u-t.scroll):w(u+t.scroll)});if(t.auto)setInterval(function(){w(u+t.scroll)},t.auto+t.speed);})};})(jQuery);function popNew(){var e;if(arguments[1]=="kiosk"){if(bbyUrl.indexOf("kiosk")>=0){e=window.open(arguments[0],"BestBuy","toolbar=0,scrollbars=1,location=0,statusbar=0,menubar=0,resizable=1,width=825,height=525");e.focus();return false}else{e=window.open(arguments[0],"_blank");e.focus();return false}}else{if(!arguments[1]){width=800}if(!arguments[2]){height=600}if(!arguments[3]){features="width="+arguments[1]+",height="+arguments[2]+",toolbar=0,location=0,directories=0,statusbar=0,menubar=0,scrollbars=1,resizable=1"}else{features="width="+arguments[1]+",height="+arguments[2]+","+arguments[3]}e=window.open(arguments[0],"BestBuy",features);e.focus();return false}}function getQueryVariable(e){var t,n,r=window.location.search.substring(1),i=r.split("&");for(t=0;t<i.length;t++){n=i[t].split("=");if(n[0]==e){return n[1]}}}function switchKiosk(e){var t=e+"_reg",n=e+"_kiosk";if(bbyUrl.indexOf("kiosk")>=0){document.getElementById(t).style.display="none";document.getElementById(n).style.display="block"}}function readCookie(e){var t,n,r=e+"=",i=document.cookie.split(";");for(t=0;t<i.length;t++){n=i[t];while(n.charAt(0)==" ")n=n.substring(1,n.length);if(n.indexOf(r)==0)return unescape(n.substring(r.length,n.length))}return null}function setCookie(e,t,n){var r=new Date;r.setDate(r.getDate()+n);document.cookie=e+"="+escape(t)+";path=/;domain=.bestbuy.com"+(n==null?"":";expires="+r.toGMTString())}GetCookie=readCookie;function addOnloadEvent(e){var t;if(typeof window.addEventListener!="undefined")window.addEventListener("load",e,false);else if(typeof window.attachEvent!="undefined"){window.attachEvent("onload",e)}else{if(window.onload!=null){t=window.onload;window.onload=function(n){t(n);window[e]()}}else window.onload=e}}function addCommas(e){var t;x=e.split(".");x1=x[0];x2=x.length>1?"."+x[1]:"";t=/(\d+)(\d{3})/;while(t.test(x1)){x1=x1.replace(t,"$1"+","+"$2")}return x1+x2}function loadjscssfile(e,t){var n;if(t=="js"){n=document.createElement("script");n.setAttribute("type","text/javascript");n.setAttribute("src",e)}else if(t=="css"){n=document.createElement("link");n.setAttribute("rel","stylesheet");n.setAttribute("type","text/css");n.setAttribute("href",e)}if(typeof n!="undefined"){document.getElementsByTagName("head")[0].appendChild(n)}}BBY={};BBY.dhtml={carousels:-1,forwardbutton:[],backbutton:[],visible:[],contentframe:[],Carousel:function(e){BBY.dhtml.carousels++;BBY.dhtml.forwardbutton[BBY.dhtml.carousels]="#"+e.forwardbutton;BBY.dhtml.backbutton[BBY.dhtml.carousels]="#"+e.backbutton;BBY.dhtml.visible[BBY.dhtml.carousels]=e.visible;BBY.dhtml.contentframe[BBY.dhtml.carousels]="#"+e.contentframe}};BBY.dhtml.PDPSlider=function(e){$("#"+e.triggerelement).click(function(){$("#"+e.animated).css("height","auto")})};function vehicleFitGuidePopup(e,t){if(t.indexOf("type=product")!=-1){fitGuideURL="olspage.jsp?id="+trim(e)+"&isPDP=true&type=page&parentURL="+escape(t)}else{fitGuideURL="olspage.jsp?id="+trim(e)+"&type=page&parentURL="+escape(t)}popUp(fitGuideURL,"FitGuide","4","0")}function dlbox(){var e,t,n,r,i,s;if(typeof dlURL!="undefined"){e=document.getElementById("downloadwidget");t=document.getElementById("downloadcontent");n=dltitle;n=n+"<br/><a href=\"javascript:popUpRawURL('"+dlURL+"','','6','1');\" name=\"&lid=digitaldownload\">";n=n+'<img src="'+imgServer+'/en_US/images/global/buttons/btn_download_pdp.gif" width="113" height="27" alt="download this software" class="dlbutton" border="0"/>';n=n+"</a>";t.innerHTML=n;e.style.display="block"}if(typeof ggURL!="undefined"){r=document.getElementById("gameguidewidget");i=document.getElementById("ggdownloadcontent");s=ggTitle;s=s+'<br/><a href="#" onclick="javascript:window.open(\''+ggURL+"','','toolbar=0,location=0,directories=0,status=0,menubar=0,scrollbars=1,resizable=1,width=915,height=675,left=50,top=200');\" name=\"&lid=digitaldownload\">";s=s+'<img src="'+imgServer+'/en_US/images/global/buttons/btn_download_pdp.gif" width="113" height="27" alt="download this software" class="dlbutton" border="0"/>';s=s+"</a>";i.innerHTML=s;r.style.display="block"}}function topHatPop(e,t,n){window.open(e,"twindow","toolbar=1,scrollbars=1,location=0,statusbar=0,menubar=0,resizable=1,width="+t+",height="+n)}function pop360(e){var t;url=imgServer+"en_US/images/global/360/360pop.html?sku="+e;features="location=0,statusbar=0,menubar=0,width=475,height=450";target="_blank";t=window.open(url,target,features);t.focus()}function _hbSet(){return}function _hbSend(){return}function _hbLink(){return}function _hbDownload(){return}$(document).ready(function(){var e;$("#sitesearch form").submit(function(){var e=/^ +$/;if(e.test($("#st").attr("value"))||$("#st").attr("value")==""||$("#st").attr("value")=="%"||$("#st").attr("value")=="Search by Keyword, SKU # or Item #"){alert("Please enter keyword(s) or item number and try again.");return false}});$("#st").focus(function(){if($(this).val()=="Search by Keyword, SKU # or Item #"){$(this).val("")}});$("#st").blur(function(){if($(this).val()==""){$(this).val("Search by Keyword, SKU # or Item #")}});$("#notificationPanel .notification div.closeWidget").each(function(){$(this).click(function(){jQuery(this.parentNode.parentNode.parentNode).fadeOut()})});$("#b52.b52").click(function(){var e,t,n,r=$("#b52 a:first"),i=r.attr("href");if(i=="#"||i==undefined){return false}else{try{e=r.attr("name");e=e.substring(e.indexOf("=")+1,e.length);if(typeof track.catId!=="undefined"){e=track.catId+": "+e}if(typeof track.parentCatId!=="undefined"){e=track.parentCatId+": "+e}if(typeof track.uberCatId!=="undefined"){e=track.uberCatId+": "+e}trackEvent.event("event.link",{lid:e})}catch(s){}t=r.attr("target");if(typeof t=="undefined"||t==null||t.length==0){window.location.replace(i)}else{window.open(i,t)}n=r.attr("onclick");if(typeof n=="function")n()}});for(i=0;i<=BBY.dhtml.carousels;i++){$(BBY.dhtml.contentframe[i]).jCarouselLite({btnNext:BBY.dhtml.forwardbutton[i],btnPrev:BBY.dhtml.backbutton[i],visible:BBY.dhtml.visible[i]})}if(typeof DART=="undefined"||$("#dart-container-728x90").length==0||$("#dart-container-728x90 iframe, #dart-container-728x90 div, #dart-container-728x90 a, #dart-container-728x90 img").length==0){$("#hdr-ad").hide()}if(typeof skuId!="undefined"){try{loadTabUI()}catch(t){}}Nav.init();$("#hdr-top a").click(function(){trackEvent.event("event.cache",{lid:$(this).attr("data-lid")})});$("#nav a").click(function(){trackEvent.event("event.cache",{lid:$(this).attr("data-lid")})});$("#ftr a").click(function(){trackEvent.event("event.cache",{lid:$(this).attr("data-lid")})});e="";$("#quickNav li a").each(function(){e+='<option value="'+$(this).attr("href")+'">'+$(this).text()+"</option>"});$("#quickNav").html('<form action="/" method="get"><select><option value="">More Best Buy Sites</option>'+e+"</select></form>");$("#quickNav select").change(function(){if($(this).val()!=""){try{closeTrackerWin()}catch(e){}location.href=$(this).val()}});modalManager.registerProfile("fsdiCreditApp",{width:"785px",height:"750px",title:"Best Buy Reward Zone Credit Card Application",rootClass:"fsdiCreditApp",scrolling:true,overlayClose:false,escKey:false,extendDefault:true});modalManager.registerProfile("bbyonModal",{width:"952px",height:"430px",title:"Best Buy On",extendDefault:true});modalManager.registerProfile("bbyonPanelLB",{iframe:false,width:"668px",height:"415px",title:"Best Buy",extendDefault:true});modalManager.registerProfile("mobileUGC",{width:"512px",height:"560px",title:"Best Buy Mobile Upgrade Checker",rootClass:"mobileUGC",extendDefault:true});modalManager.registerProfile("mobileGFConfirmation",{width:"512px",height:"560px",title:"Best Buy Mobile Upgrade Checker",rootClass:"mobileUGC",extendDefault:true,overlayClose:false});modalManager.registerProfile("mobileDeviceAdded",{width:"570px",height:"400px",title:"Build Your Mobile Package",escKey:false,overlayClose:false,closable:false,rootClass:"mobileNoClose",extendDefault:true});modalManager.registerProfile("mobileMetroCoverageCheck",{width:"540px",height:"270px",title:"Coverage Check",escKey:false,overlayClose:false,closable:false,rootClass:"mobileNoClose",extendDefault:true});modalManager.registerProfile("mobileInlineSmall",{width:"400px",iframe:false,inline:true});modalManager.registerProfile("mobileClearPackage",{width:"560px",height:"220px",iframe:true,extendDefault:true});modalManager.registerProfile("mobileAddALine",{width:"410px",height:"290px",title:"Add A New Device to Your Account",iframe:true,extendDefault:true,escKey:false,overlayClose:false,closable:false});modalManager.registerProfile("mobileUpgradePhone",{width:"410px",height:"290px",title:"Add a Line",iframe:true,extendDefault:true});modalManager.registerProfile("mobileReplacePhone",{width:"530px",height:"200px",title:"Replace Your Phone",iframe:true,extendDefault:true});modalManager.registerProfile("mobileAccessoryFinder",{width:"800px",height:"500px",title:"Mobile Phone Accessory Finder",iframe:true,extendDefault:true,rootClass:"modal-mobileAccessoryFinder"});modalManager.registerProfile("multipleItemBuy",{width:"680px",height:"450px",title:"Included Free",iframe:true,extendDefault:true,scrolling:true,rootClass:"mib"});modalManager.registerProfile("csmModal",{width:"550px",height:"400px",title:"Commonsense Media Review",iframe:true,extendDefault:true,scrolling:true});modalManager.registerProfile("storeLocator",{width:"920px",height:"675px",title:"Shop Local Deals.",rootClass:"store_locator",extendDefault:true});modalManager.registerProfile("mobileCarrierFees",{width:"540px",iframe:false,title:"Additional Line Fees",html:$("#carrierFeesModalContent")});modalManager.registerProfile("mobileShippingNote",{width:"500px",iframe:false,title:"Important Note About Shipping",html:$("#ctt-tabletShippingAvailability")});modalManager.activateModalLinks(".widgetModal")});if(typeof ModalManager=="undefined"){ModalManager=function(){var e=this;this.vars={modalProfiles:{defaultProfile:{width:"640",height:"465",iframe:true,transition:"fade"}},currentProfile:false,currentProfileName:false};$("#cboxClose").live("click",function(){e.closeUI()})}}else{try{console.log("ModalManager already defined typeof="+typeof ModalMananger)}catch(e){}}ModalManager.prototype.activateModalLinks=function(e,t,n){jQuery(e).each(function(){modalManager.activateModalLink.call(this,t,n)})};ModalManager.prototype.activateModalLink=function(inDefaultProfileName,inForce){var config,onOpen=false,onClosed=false,profileName=jQuery(this).attr("data-modal");if(inForce===true&&profileName===undefined){profileName=""}if(profileName!==undefined){config=modalManager.getProfile(profileName,inDefaultProfileName);if(jQuery(this).attr("data-config")!==undefined&&jQuery(this).attr("data-config").length>0){eval("config = jQuery.extend({}, config,"+jQuery(this).attr("data-config")+");")}config=jQuery.extend({},config);if(config.onOpen!==undefined){onOpen=config.onOpen}if(config.onClosed!==undefined){onClosed=config.onClosed}config.onOpen=function(){if(typeof config.rootClass=="string"){jQuery("#colorbox").addClass(config.rootClass)}if(typeof config.closable=="boolean"&&!config.closable){$("#cboxClose").addClass("hideControls")}modalManager.vars.currentProfile=config;modalManager.vars.currentProfileName=profileName;if(onOpen){onOpen()}return false};config.onClosed=function(){if(typeof config.rootClass=="string"){jQuery("#colorbox").removeClass(config.rootClass)}modalManager.vars.currentProfile=false;modalManager.vars.currentProfileName=false;if(onClosed){onClosed()}return false};jQuery(this).colorbox(config)}};ModalManager.prototype.bind=function(e){this.activateModalLinks(e,inDefaultProfileName,true)};ModalManager.prototype.bindClose=function(e){var t=this;e=e==undefined?".mm-close":e;$(e).click(function(){t.close()})};ModalManager.prototype.close=function(){if(typeof jQuery.colorbox!="undefined"){jQuery.colorbox.close();$("#cboxClose").removeClass("hideControls");return true}else if(typeof parent.modalManager!="undefined"){return parent.modalManager.close()}return false};ModalManager.prototype.closeUI=function(){if(this.vars.currentProfile.hasOwnProperty("closable")&&this.vars.currentProfile.closable==false){return false}return this.close()};ModalManager.prototype.getProfile=function(e,t){e=e===undefined?"":e;if(e.length==0&&t!==undefined)e=t;if(this.vars.modalProfiles.hasOwnProperty(e)){if(this.vars.modalProfiles[e].hasOwnProperty("extendDefault")){return jQuery.extend({},this.vars.modalProfiles.defaultProfile,this.vars.modalProfiles[e])}return jQuery.extend({},this.vars.modalProfiles[e])}return jQuery.extend({},this.vars.modalProfiles.defaultProfile)};ModalManager.prototype.registerProfile=function(e,t){if(this.vars.modalProfiles.hasOwnProperty(e)){if(console&&console.log){console.log("ModalManager.registerConfig: ModalManager already has profile "+e)}return false}this.vars.modalProfiles[e]=t;return true};ModalManager.prototype.setTitle=function(e){if(window!=parent){if(typeof parent.modalManager!="undefined"){parent.modalManager.setTitle(e)}else{try{console.log("modalManager: error - parent has no modalManager")}catch(t){}}return false}else{$("#cboxTitle").html(e)}return true};ModalManager.prototype.show=function(e,t){var n,r,i;switch(typeof e){case"string":n=jQuery.extend({},this.getProfile(e),t);break;case"object":n=jQuery.extend({},this.getProfile(),e);break;default:}if(n.onOpen!==undefined){r=n.onOpen}if(n.onClosed!==undefined){i=n.onClosed}n.onOpen=function(){if(typeof n.rootClass=="string"){jQuery("#colorbox").addClass(n.rootClass)}if(typeof n.closable=="boolean"&&!n.closable){$("#cboxClose").addClass("hideControls")}modalManager.vars.currentProfile=n;modalManager.vars.currentProfileName=e;if(r){r()}return false};n.onClosed=function(){if(typeof n.rootClass=="string"){jQuery("#colorbox").removeClass(n.rootClass)}modalManager.vars.currentProfile=false;modalManager.vars.currentProfileName=false;if(i){i()}return false};jQuery.fn.colorbox(n);return true};ModalManager.prototype.getInnerHeight=function(e){if(e===undefined){e=window}if(e.innerHeight==undefined){return e.document.documentElement.clientHeight}return e.innerHeight};ModalManager.prototype.resize=function(e){var t,n,r=0;if(typeof e=="object"&&e.hasOwnProperty("context")){n=jQuery(e.context);if(n.length>0){e.contextBox=e.hasOwnProperty("contextBox")?e.contextBox:"";if(e.context=="body"||e.context=="html"&&$.browser.msie){if($($("body").children()[0]).css("display")=="block"){r=$($("body").children()[0]).css("margin-top").indexOf("px")>0?parseInt($($("body").children()[0]).css("margin-top")):0}}switch(e.contextBox){case"inner":e.width=n.innerWidth();e.height=n.innerHeight();break;case"outer":e.width=n.outerWidth(true);e.height=n.outerHeight(true);break;case"scroll":e.width=n.attr("scrollHeight");e.height=n.attr("scrollWidth");default:e.width=n.width();e.height=n.height()}e.height+=r;if(typeof e.additionalIeMargin==="number"){e.height+=e.additionalIeMargin}e.box="inner";delete e.context}else{return false}}if(window!=parent){if(typeof parent.modalManager!="undefined"){if(typeof e=="undefined"){parent.modalManager.resize()}else{parent.modalManager.resize(e)}}else{try{console.log("parent has no modalManager")}catch(i){}}return false}else{t={};switch(typeof e){case"object":jQuery.extend(t,e);delete t.box;if(!e.hasOwnProperty("box")){e.box="outer"}break;case"string":if(e=="profile"){e.width="auto";e.height="auto";e.box="outer";if(console&&console.log){console.log("error resizing to profile is not supported")}return false};case"undefined":default:e={};e.width="auto";e.height="auto";e.box="inner"}if(e.hasOwnProperty("width")){if(e.width=="auto"){t.innerWidth=jQuery("#cboxLoadedContent iframe").contents().width()}else{if(e.box=="inner"){t.innerWidth=e.width}else{t.width=e.width}}}if(e.hasOwnProperty("height")){if(e.height=="auto"){t.innerHeight=jQuery("#cboxLoadedContent iframe").contents().height()}else{if(e.box=="inner"){t.innerHeight=e.height}else{t.height=e.height}}}try{jQuery.colorbox.resize(t)}catch(i){if(window.console){console.log("error calling colorbox resize: ",i)}return false}return true}};if(typeof modalManager=="undefined"){modalManager=new ModalManager}(function(e){e.fn.hoverIntent=function(t,n){var r,i,s,o,u,a,f,l,c={sensitivity:7,interval:100,timeout:0};c=e.extend(c,n?{over:t,out:n}:t);u=function(e){r=e.pageX;i=e.pageY};a=function(t,n){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);if(Math.abs(s-r)+Math.abs(o-i)<c.sensitivity){e(n).unbind("mousemove",u);n.hoverIntent_s=1;return c.over.apply(n,[t])}else{s=r;o=i;n.hoverIntent_t=setTimeout(function(){a(t,n)},c.interval)}};f=function(e,t){t.hoverIntent_t=clearTimeout(t.hoverIntent_t);t.hoverIntent_s=0;return c.out.apply(t,[e])};l=function(t){var n=jQuery.extend({},t);var r=this;if(r.hoverIntent_t){r.hoverIntent_t=clearTimeout(r.hoverIntent_t)}if(t.type=="mouseenter"){s=n.pageX;o=n.pageY;e(r).bind("mousemove",u);if(r.hoverIntent_s!=1){r.hoverIntent_t=setTimeout(function(){a(n,r)},c.interval)}}else{e(r).unbind("mousemove",u);if(r.hoverIntent_s==1){r.hoverIntent_t=setTimeout(function(){f(n,r)},c.timeout)}}};return this.bind("mouseenter",l).bind("mouseleave",l)}})(jQuery);(function(e){e.fn.bby_tooltips=function(){return this.each(function(){function u(){clearTimeout(n);if(e(this).hasClass("help_icon")||e(this).is("img")){e(this).parent().addClass("relativeWrapper")}else{e(this).addClass("relativeWrapper")}e(this).find("div.tooltip-contents a").each(function(){e(this).click(function(){var t=e(this).attr("href");location.href=t})});l();if(e(".hproduct").length>0){e(this).parents(".hproduct").nextAll("div.hproduct").addClass("staticWrapper");e("div#btm-padbar").addClass("staticWrapper")}if(e("tr.cart-grouped-item").length>0){e(this).parents("tr").next("tr").find("div.product-summary").css("position","static")}return false}function a(){n=setTimeout(function(){f()},1e3)}function f(){if(e(this).hasClass("help_icon")){e(this).parent().removeClass("relativeWrapper")}else{e(this).removeClass("relativeWrapper")}t.css("left","-9999px");if(e(".hproduct").length>0){e("div.hproduct").removeClass("staticWrapper");e("div#btm-padbar").removeClass("staticWrapper")}if(e("div.staticWrapper").length>0){e("div.product-summary").css("position","relative")}}function l(){switch(r){case"top":t.css({top:-(t.height()+o),left:-(t.width()*.43)+s}).fadeIn();break;case"right":t.css({top:-(t.height()*.3)+o,left:-(t.width()*.4)+s}).fadeIn();break;case"bottom":t.css({top:32+o,left:-(t.width()*.4)+s}).fadeIn();break;case"bottom grey":t.css({top:32+o,left:-(t.width()*.4+s)}).fadeIn();break;case"left":t.css({top:-(t.height()*.4)+o,left:-t.width()+s}).fadeIn();break}}var t,n,r,i,s,o;if(e(this).has("div.tooltip-wrapper").length>0){t=e(this).find("div.tooltip-wrapper")}else if(e(this).parents().is("p, span")){t=e(this).parents().next("div.tooltip-wrapper")}else{t=e(this).next("div.tooltip-wrapper")}r=t.attr("data-tooltip-pos");if(t.find(".tooltip-header").length>0){i=".tooltip-header"}else{i=".tooltip-contents"}t.find(i).append('<a href="#" class="tooltip-closeBtn"><span class="closeText">close</span> &#215;</a>');switch(r){case"top":e('<div class="tooltip-arrow bottomArrow" />').insertBefore(t.find(i));break;case"right":e('<div class="tooltip-arrow leftArrow" />').insertBefore(t.find(i));break;case"bottom":e('<div class="tooltip-arrow topArrow" />').insertBefore(t.find(i));break;case"bottom grey":e('<div class="tooltip-arrow topGreyArrow" />').insertBefore(t.find(i));break;case"bottom-grey":e('<div class="tooltip-arrow topGreyArrow" />').insertBefore(t.find(i));break;case"left":e('<div class="tooltip-arrow rightArrow" />').insertBefore(t.find(i));break;default:e('<div class="tooltip-arrow topArrow" />').insertBefore(t.find(i));break}if(e(this).is("a")){t.appendTo(e(this))}e(this).hoverIntent({over:u,out:a});e(this).bind("click",u);e("a.tooltip-closeBtn").bind("click",function(){e(this).parents("div.tooltip-wrapper").hide();return false});if(t.attr("data-tooltip-xpos")){s=Number(t.attr("data-tooltip-xpos"))}else{s=0}if(t.attr("data-tooltip-ypos")){o=Number(t.attr("data-tooltip-ypos"))}else{o=0}})}})(jQuery);$(function(){try{$(".tooltips").bby_tooltips();$(document).bind("cbox_complete",function(){$(".css-price .tooltips").parents(".css-price").css("overflow","visible");$(".css-price .tooltip-wrapper").attr("data-tooltip-pos","bottom").attr("data-tooltip-xpos",75).css("z-index","15000");$(".css-price .tooltips").bby_tooltips()})}catch(e){}});if(typeof TooltipFactory=="undefined"){TooltipFactory=function(){this.$html=$("html");this.vars={id:{defaultPrefix:"bbyToolTips__",defaultTipPrefix:"bbyToolTip__",defaultTriggerPrefix:"bbyTooltipTrigger__"},html:{arrow:function(e){return'<div class="css-tt-arrow '+e+'" style="display:none" />'},arrowContainer:function(e){return'<div id="'+e+'" style="display:block; position:absolute; left:-10000px; top:-10000px"/>'},closeButton:function(){return'<a class="w-tt-closeBtn css-tt-closeBtn" style="cursor:pointer"><span class="css-closeText">close</span> &#215;</a>'},header:function(){return""}},loggingEnabled:false,onprofile:{},profiles:{},tooltips:{},triggers:{}};this.profile(this.PROFILE_NAME_DEFAULT,{extend:false,on:"hover",waitHover:100,waitClose:500,header:true,positions:[{name:"top",arrowClass:"bottomArrow"},{name:"right",arrowClass:"leftArrow"},{name:"bottom",arrowClass:"topGreyArrow"},{name:"left",arrowClass:"rightArrow"}]})};TooltipFactory.prototype.PROFILE_NAME_DEFAULT="_default";TooltipFactory.prototype.CSS_TIP_WRAPPER_SELECTOR="div.w-tt-wrapper";TooltipFactory.prototype.bindTooltips=function(e){var t=this;e=typeof e=="string"?e:".w-tt";this.log($(e).length);$(e).each(function(){new TooltipTrigger(this,t)})};TooltipFactory.prototype.createID=function(e){var t;e=e?e:this.vars.id.defaultPrefix;t=e+Math.floor(Math.random()*1e3);while(jQuery("#"+t).length>0){t=e+Math.floor(Math.random()*1e3)}return t};TooltipFactory.prototype.log=function(){var e;if(this.vars.loggingEnabled){for(e=0;e<arguments.length;e++){try{console.log(arguments[e])}catch(t){}}}};TooltipFactory.prototype.onprofile=function(e,t){var n;e=e?e:this.PROFILE_NAME_DEFAULT;if(typeof t=="undefined"){if(this.vars.onprofile.hasOwnProperty(e)){for(n=0;n<this.vars.onprofile[e].length;n++){this.vars.onprofile[e][n](this.profile(e))}}}else if(this.vars.profiles.hasOwnProperty(e)&&this.vars.profiles[e].initialized){t(this.vars.profiles[e])}else{if(!this.vars.onprofile.hasOwnProperty(e)){this.vars.onprofile[e]=[]}this.vars.onprofile[e].push(t)}};TooltipFactory.prototype.profile=function(e,t){var n,r,s=t,o=this,u="center",a="center";if(typeof t=="undefined"){if(!e){return this.vars.profiles["_default"]}if(this.vars.profiles.hasOwnProperty(e)){return this.vars.profiles[e]}else{this.log("could not find specified style '"+e+"'");return this.vars.profiles["_default"]}}try{t.initialized=t.hasOwnProperty("initialized")?t.initialized:false;if(s.hasOwnProperty("extend")){if(s.extend===true){s=$.extend({},this.vars.profiles[this.PROFILE_NAME_DEFAULT],s)}else if(s.extend&&this.vars.profiles.hasOwnProperty(s.extend)){s=$.extend({},this.vars.profiles[s.extend],s)}}if(!s.initialized){for(i=0;i<s.positions.length;i++){if(!s.positions[i].hasOwnProperty("edgeAlign")){s.positions[i].edgeAlign="center"}}jQuery(document).ready(function(){var t,i,u,a;n=o.createID();s.posByName={};jQuery("body").append(o.vars.html.arrowContainer(n));t=$("#"+n);for(i=0;i<s.positions.length;i++){u=i+1;a=i-1;if(a<0){a=s.positions.length-1}else if(u==s.positions.length){u=0}s.positions[i].prev=s.positions[a];s.positions[i].next=s.positions[u];s.positions[i].html=o.vars.html.arrow(s.positions[i].arrowClass);r=$(s.positions[i].html);t.append(r);r.css("display","block");s.positions[i].arrowHeight=r.outerHeight();s.positions[i].arrowWidth=r.outerWidth();s.posByName[s.positions[i].name]=s.positions[i]}s.initialized=true;o.onprofile(e)});this.vars.profiles[e]=s;return s}}catch(f){return false}return false};TooltipFactory.prototype.screenDims=function(){var e;if(!this.hasOwnProperty("$html"))this.$html=$("html");if(!this.hasOwnProperty("$body"))this.$body=$("body");if(!this.hasOwnProperty("$window"))this.$window=$(window);e=this.$body.scrollTop()>0||this.$body.scrollLeft()>0?this.$body:this.$html;return{top:e.scrollTop(),left:e.scrollLeft(),bottom:this.$window.height()+e.scrollTop(),right:this.$window.width()+e.scrollLeft()}};TooltipFactory.prototype.tooltip=function(e,t){if(typeof t=="undefined"){if(!this.vars.tooltips.hasOwnProperty(e)){this.log("TooltipFactory.tooltip: cannot get tooltip '"+e+"' - does not exist");return false}return this.vars.tooltips[e]}if(this.vars.tooltips.hasOwnProperty(e)){this.log("TooltipFactory.tooltip: cannot set tooltip '"+e+"' already exists",t);return false}return this.vars.tooltips[e]=t};TooltipFactory.prototype.trigger=function(e,t){if(typeof tt=="undefined"){if(!this.vars.triggers.hasOwnProperty(e)){this.log("TooltipFactory.trigger: cannot get trigger '"+e+"' - does not exist");return false}return this.vars.triggers[e]}if(this.vars.triggers.hasOwnProperty(e)){this.log("TooltipFactory.trigger: cannot set trigger '"+e+"' already exists",t);return false}return this.vars.triggers[e]=t};TooltipTrigger=function(e,t){var n,r=false,i=this;this.$elm=$(e);this.id=this.$elm.attr("id");this.factory=t;this.vars={initialized:false,on:false,position:false,profile:false,tt:false};if(typeof this.$elm.data("tt")!="undefined"){t.log("trigger already initialized for element ",$trigger[0]);return false}if(typeof this.id=="undefined"){this.id=t.createID();this.$elm.attr("id",this.id)}this.$elm.data("tt",this);n=this.$elm.data("tt-profile");if(typeof n=="undefined"){t.log("didn't find data-tt-profile for trigger",e);n=""}else{n=n.split("|")[0]}if(this.$elm.has(t.CSS_TIP_WRAPPER_SELECTOR).length>0){r=this.$elm.find(t.CSS_TIP_WRAPPER_SELECTOR)}else{r=this.$elm.next(t.CSS_TIP_WRAPPER_SELECTOR);if(!r){r=this.$elm.parents().next(t.CSS_TIP_WRAPPER_SELECTOR)}}if(r){if(r.data("tt")){this.vars.tt=r.data("tt");this.vars.tt.trigger(this.id,this)}else{this.vars.tt=new Tooltip(r[0],t,n);t.log(this.vars.tt)}if(this.vars.tt){this.vars.tt.trigger(this.id,this)}else{t.log("TooltipTrigger: tooltip failed to create for trigger",e)}}else{t.log("TooltipTrigger: couldn't find tooltip html ",e)}this.$elm.click(function(){i.vars.tt.toggle(i.$elm[0],i.vars.position)});t.onprofile(n,function(){i._init()});return this};TooltipTrigger.prototype._init=function(){var config=this.$elm.data("tt-config"),profileArgs=this.$elm.data("tt-profile"),trigger=this;this.factory.log("TooltipTrigger._init ",this.$elm[0]);if(this.vars.initialized){this.factory.log("TooltipTrigger._init: already initialized",this.$elm[0]);return false}if(typeof profileArgs=="undefined"){profileArgs=[""]}else{profileArgs=profileArgs.split("|")}this.factory.log("_init",'"'+profileArgs[0]+'"',this.$elm);this.vars.profile=this.factory.profile(profileArgs[0]);if(typeof config=="string"){try{eval("config = "+config)}catch(e){this.factory.log("TooltipTrigger._init tt-config is not a valid object",config,this.$elm)}if(typeof config!="object"){this.factory.log("TooltipTrigger._init tt-config is not a valid object",config,this.$elm)}else{this.vars.profile=$.extend({},this.vars.profile,config)}}if(profileArgs.length>1&&profileArgs[1]){this.vars.position=profileArgs[1]}this.vars.on=this.vars.profile.on;if(profileArgs.length>2&&
profileArgs[2]){this.vars.on=profileArgs[2]}switch(this.vars.on){case"hover":this.$elm.hover(function(){trigger.vars.tt.timeout(false,function(){trigger.show()},trigger.profile("waitHover")?trigger.profile("waitHover"):500)},function(){if(trigger.vars.profile.hasOwnProperty("waitClose")){trigger.vars.tt.timeout(false,function(){trigger.vars.tt.hide()},trigger.profile("waitClose")?trigger.profile("waitClose"):1e3)}});case"click":default:}return this.vars.initialized=true};TooltipTrigger.prototype.profile=function(e){if(this.vars.profile.hasOwnProperty(e)){return this.vars.profile[e]}return false};TooltipTrigger.prototype.show=function(){this.vars.tt.show(this.$elm[0],this.vars.position)};Tooltip=function(e,t,n){var r=this;this.factory=t;this.vars={$anchor:false,cssClasses:{},currPos:false,html:t.vars.html,layoutComplete:false,position:false,profile:false,profileName:false,showing:false,timeouts:[],triggers:{}};this.$elm=$(e);if(this.$elm.data("tt")!=undefined){t.log("tooltip already initialized for element ",this.$elm[0]);return false}this.$elm.data("tt",this);this.id=this.$elm.attr("id");if(typeof this.id=="undefined"){this.id=t.createID();this.$elm.attr("id",this.id)}this.vars.profileName=this.$elm.data("tt-profile")?this.$elm.data("tt-profile"):n;if(!t.tooltip(this.id,this)){return false}t.onprofile(this.vars.profileName,function(e){r._init(e)});return this};Tooltip.prototype._init=function(e){var t,n,r=this;if(!this.vars.layoutComplete){this.$elm.css(this.CSS_HIDE);this.$elm.appendTo("body");if(e.hasOwnProperty("wrapperClass")){this.$elm.addClass(e.wrapperClass);this.vars.cssClasses[e.wrapperClass]=true}n=this.$elm.find(".w-tt-content");n.addClass("css-tt-content");if(this.$elm.find(".w-tt-header").length>0){n=this.$elm.find(".w-tt-header").addClass("css-tt-header")}n.append(this.vars.html.closeButton());for(t=0;t<e.positions.length;t++){$(e.positions[t].html).insertBefore(n[0]);this.$elm.find("."+e.positions[t].arrowClass).css({display:"none"})}this.$elm.find(".w-tt-closeBtn").click(function(){r.hide()});this.$elm.hover(function(){r.timeout(false)},function(){r.onHoverout()});this.calcDimensions();this.vars.profile=e;this.vars.layoutComplete=true}};Tooltip.prototype.onHoverout=function(){var e=this,t=this.vars.profile.hasOwnProperty("waitClose")?this.vars.profile.waitClose:0;if(this.vars.$anchor.data("tt").profile("on")=="hover"){t=this.vars.$anchor.data("tt").profile("waitClose")?this.vars.$anchor.data("tt").profile("waitClose"):t;this.timeout(false,function(){e.hide()},t)}};Tooltip.prototype.CSS_HIDE={display:"none",position:"absolute",left:"-9999px"};Tooltip.prototype.CSS_OFFSCREEN={display:"none",position:"absolute",left:"-9999px"};Tooltip.prototype.addClass=function(e){if(this.$elm.hasClass(e)){return false}if(this.vars.showing){this.$elm.fadeOut()}this.$elm.addClass(e);this.vars.cssClasses[e]=true;this.calcDimensions();if(this.vars.showing){this.vars.showing=false;this.show(this.vars.$anchor,this.vars.currPos.name)}};Tooltip.prototype.removeClass=function(e){if(!this.$elm.hasClass(e)){return false}if(this.vars.showing){this.$elm.fadeOut()}this.$elm.removeClass(e);delete this.vars.cssClasses[e];this.calcDimensions();if(this.vars.showing){this.vars.showing=false;this.show(this.vars.$anchor,this.vars.currPos.name)}};Tooltip.prototype.calcDimensions=function(){this.$elm.css(this.CSS_HIDE);this.$elm.css({display:"block"});this.vars.width=this.$elm.outerWidth();this.vars.height=this.$elm.outerHeight()};Tooltip.prototype.hide=function(e){var t=this;this.timeout(false);this.$elm.hide(0,function(){t.$elm.css(t.CSS_OFFSCREEN);t.$elm.find(".css-tt-arrow").css({display:"none"});t.$elm.css(t.CSS_HIDE);if(typeof e=="function"){e()}});this.vars.showing=false};Tooltip.prototype.show=function(e,t){var n,r,i,s,o,u,a,f,l,c=$(e),h={};this.timeout(false);if(!this.vars.layoutComplete){this._init(this.factory.profile(this.vars.profileName))}if(this.showing()){if(this.vars.$anchor&&this.vars.$anchor[0]==e){return false}else{this.$elm.css(this.CSS_HIDE)}}this.vars.$anchor=c;f=this.factory.screenDims();i=c.offset();i.width=c.width();i.height=c.height();a=t&&this.vars.profile.posByName.hasOwnAttribute(t)?this.vars.profile.posByName[t]:this.vars.profile.positions[0];u=true;o=this.vars.profile.positions.length;while(u){u=false;s=this.vars.height;l=this.vars.width;switch(a.name){case"left":case"right":l=a.arrowWidth+this.vars.width;break;case"top":case"bottom":s=a.arrowHeight+this.vars.height;break}switch(a.name){case"left":case"right":if(a.edgeAlign=="top"){h.top=i.top+i.height-s}else if(a.edgeAlign=="bottom"){h.top=i.top}else{h.top=i.top+(i.height-s)/2}if(a.name=="left"){h.left=i.left-l}else{h.left=i.left+i.width+a.arrowWidth}break;case"top":case"bottom":if(a.edgeAlign=="left"){h.left=i.left}else if(a.edgeAlign=="right"){h.left=i.left+i.width-l}else{h.left=i.left+(i.width-l)/2}if(a.name=="top"){h.top=i.top-s}else{h.top=i.top+i.height+a.arrowHeight}break}n={down:false,up:false,left:false,right:false};if(h.top<f.top){n.down=true}else if(h.top+this.vars.height>f.bottom){n.up=true}if(h.left+this.vars.width>f.right){n.left=true}else if(h.left<f.left){n.right=true}u=false;if(n.down){if(a.name=="top"){u=true}else{h.top=f.top}}else if(n.up){if(a.name=="bottom"){u=true}else{h.top=f.bottom-s}}if(n.left){if(a.name=="right"){u=true}else{h.left=f.right-l}}else if(n.right){if(a.name=="left"){u=true}else{h.left=f.left}}o--;if(u){if(o<=0)u=false;else a=a.next}}r={display:"block"};switch(a.name){case"left":r.top=i.top-h.top+i.height/2-a.arrowHeight/2;break;case"right":r.top=i.top-h.top+i.height/2-a.arrowHeight/2;break;case"top":r.left=i.left-h.left+i.width/2-a.arrowWidth/2;break;case"bottom":r.left=i.left-h.left+i.width/2-a.arrowWidth/2;break}this.vars.showing=true;this.vars.currPos=a;this.$elm.find("."+a.arrowClass).css(r);this.$elm.css(this.CSS_HIDE);this.$elm.css(h);this.$elm.show();return true};Tooltip.prototype.showing=function(){return this.vars.showing==true};Tooltip.prototype.timeout=function(){var e,t=[];for(e=0;e<arguments.length;e++){t.push(arguments[e])}if(typeof t[0]=="boolean"){if(!t.shift()){for(e=0;e<this.vars.timeouts.length;e++){clearTimeout(this.vars.timeouts[e])}this.vars.timeouts=[]}}if(t.length==2){this.vars.timeouts.push(setTimeout(t[0],t[1]))}};Tooltip.prototype.toggle=function(e,t){if(this.showing()){this.hide()}else{this.show(e,t)}};Tooltip.prototype.trigger=function(e,t){if(typeof t=="undefined"){if(this.vars.triggers.hasOwnProperty(e)){return this.vars.triggers[e]}return false}return this.vars.triggers[e]=t};ttFactory=new TooltipFactory;jQuery(document).ready(function(){ttFactory.bindTooltips(".w-tt")})}function SnippetLib(e){this.snippets={};this.isSnippetLib=true;this.reg={};this.reg.tagOpen=/\{#snippet name="([a-z]|[A-Z]|[0-9]|_)+" *\}/;if(typeof e=="object"||typeof e=="string")this.add(e)}SnippetLib.prototype.has=function(e){if(this.snippets.hasOwnProperty(e))return this.snippets[e];return false};SnippetLib.prototype.add=function(e,t){var n,r,i,s;if(typeof e=="object"){for(n in e)if(e.hasOwnProperty(n)){this.snippets[n]=new Snippet(e[n],this)}}else if(typeof t=="string"){this.snippets[e]=new Snippet(t,this)}else{r=e;while(true){i=this.reg.tagOpen.exec(r);if(i==null)break;s=i[0].substring(16,i[0].length-2);r=r.substring(r.indexOf(i[0])+i[0].length);this.snippets[s]=new Snippet(r.substring(0,r.indexOf("{/snippet}")),this);r=r.substring(r.indexOf("{/snippet}")+"{/snippet}".length)}}};SnippetLib.prototype.fill=function(e,t,n){var r,i;if(!this.snippets.hasOwnProperty(e)){r="SnippetLib Error: snippet '"+e+"' not set";jQuery.log(r);return false}if(typeof n=="object"){if(n.hasOwnProperty("parent")){this.snippets[e].parent=n.parent;i=this.snippets[e].fill(t);this.snippets[e].parent=false;return i}}return this.snippets[e].fill(t)};SnippetLib.prototype.fillString=function(e,t){var n=new Snippet(e,this),r=n.fill(t);delete n;return r};function Snippet(e,t,n){var r,i,s,o,u,a,f,l,c,h,p;this.isSnippet=true;this.config={caseConvert:false,chopTo:false,collapsewhite:false,dateFormat:false,htmlentities:false,maxend:"",maxchop:0,maxlen:false,maxnohtml:false,maxwords:false,numberFormat:false};this.cycleInc=0;this.cycleName=false;this.cycleValues=[];this.defaultVal="";this.includeSnippet=false;this.inputString=e;this.key=null;this.listInc=0;this.listPos=0;this.parent=false;this.sLib=false;this.tag=null;this.type="";this.elements=[];this.transforms=[];if(typeof n=="object"&&n.isSnippet)this.parent=n;if(typeof t=="object"&&t.isSnippetLib)this.sLib=t;i=this.tagOpen.exec(e);if(!this.parent){this.tag="root{}";this.type=this.tagType(this.tag)}else{if(i===null)throw"Snippet Error: bad open tag";this.tag=i[0].substring(1,i[0].length-1);this.type=this.tagType(this.tag);e=e.substring(i[0].length-1);switch(this.type){case"if":break;case"function":if(this.tag=="#func")this.parseConfig(e.substring(1));else this.parseConfig(e.substring(1,e.indexOf("}}")));e=e.substring(e.indexOf("}}")+2);break;default:this.parseConfig(e.substring(1,e.indexOf("}")));e=e.substring(e.indexOf("}")+1)}}if(this.type=="value"){this.fillFunc=this.fillVal}else if(this.type=="if"){this.fillFunc=this.fillIf}else if(this.type=="elseif"){this.fillFunc=this.fillElseIf}else if(this.type=="object"){this.fillFunc=this.fillObj}else if(this.type=="array"){this.fillFunc=this.fillArray}else if(this.type=="function"){this.fillFunc=this.fillFunction}else if(this.type=="include"){this.fillFunc=this.fillIncl}if(this.type=="if"){this.key="";this.constructIf(e)}else if(this.type=="elseif"){}else if(this.type=="object"||this.type=="array"||this.type=="function"){if(this.type=="#func")return this;this.key=this.tag.substring(0,this.tag.length-2);s=null;o=null;u=e;a=null;f=0;while(true){i=this.tagOpen.exec(u);if(i==null)break;this.elements.push(u.substring(0,i.index));u=u.substring(i.index);o=i[0];l=o.substring(1,o.length-1);s=this.tagType(l);switch(s){case"object":case"array":case"function":case"if":a=this.getCloseTag(l);c=u.indexOf(o,o.length);h=u.indexOf(a);if(h==-1)throw"Snippet Error: no close for '"+this.tagType(l)+"' "+l;p=0;while(c<h&&c>-1){c=u.indexOf(o,c+o.length);h=u.indexOf(a,h+a.length);if(h==-1&&c==-1)throw"Snippet Error, no close for '"+this.tagType(l)+" "+l+"' iteration:"+p;p++}r=new Snippet(this.rework(l,s,u,h),this.sLib,this);this.elements.push(r);u=u.substring(h+a.length);break;case"literal":a="{/lit}";h=u.indexOf(a);if(h==-1)throw"Snippet Error: no close for '"+this.tagType(l)+"'";this.elements.push(u.substring(6,h));u=u.substring(h+a.length);h=u.indexOf(a,h+a.length);break;default:h=u.indexOf("}");if(h==-1)throw"Snippet Error: no close for '"+l+"' near '"+e.substring(0,10)+"...'";r=new Snippet(this.rework(l,s,u,h+1),this.sLib,this);this.elements.push(r);u=u.substring(h+1)}f++}this.elements.push(u)}else{this.key=this.tag}return this}Snippet.prototype.getCloseTag=function(e){var t,n,r;if(e.indexOf("#")==0){t=e.substring(1);if(e=="#func"){n="}}"}else{n="{/"+t+"}"}}else{r=e.substring(e.length-2);t=e.substring(0,e.length-2);n="{"+r+t+"}"}delete t,r;return n};Snippet.prototype.listLength=function(){return this.getObjValue("listLen")};Snippet.prototype.listPos=function(){return this.getObjValue("listPos")};Snippet.prototype.listIndex=function(){return this.getObjValue("listInc")};Snippet.prototype.arrayIndex=function(){return this.getObjValue("arrayInc")};Snippet.prototype.rework=function(e,t,n,r){var i="",s="",o=n.substring(0,r),u=e.split(".");if(e.indexOf(".")>0){switch(t){case"value":n=o.split(".");o=n.shift()+"{}}";o+="{"+n.join(".");break;case"object":case"array":o=o.substring(e.length+1);s+="{"+u.shift()+"{}}";while(u.length>1){i="{{}"+u[0]+"}"+i;s+="{"+u.shift()+"{}}"}o=s+"{"+u[0]+""+o+this.getCloseTag(u[0])+i}}return o};Snippet.prototype.reg={htmltag:/<(?:.|\s)*?>/,whitespaceG:/\s+/g,nbspG:/&nbsp;/g};Snippet.prototype.collapseWhite=function(e){e=e.replace(this.reg.nbspG," ");return e.replace(this.reg.whitespaceG," ")};Snippet.prototype.constructIf=function(e){var t,n,r,i,s,o=new Snippet("{#elseif"+e.substring(0,e.indexOf("}")+1),this.sLib,this.parent),u=null,a=null,f=null,l=null,c=null,h=e.substring(e.indexOf("}")+1),p=null,d=null,v=0;while(true){l=this.tagOpen.exec(h);if(l==null)break;o.elements.push(h.substring(0,l.index));h=h.substring(l.index);c=l[0];if(c=="{#else")u=c.substring(1);else u=c.substring(1,c.length-1);f=this.tagType(u);switch(f){case"elseif":this.elements.push(o);o=new Snippet(h.substring(0,h.indexOf("}")+1),this.sLib,this.parent);h=h.substring(h.indexOf("}")+1);break;case"else":this.elements.push(o);o=new Snippet("{#elseif true}",this.sLib,this.parent);h=h.substring(h.indexOf("}")+1);break;case"object":case"array":case"function":case"if":d=this.getCloseTag(u);t=h.indexOf(c,c.length);n=h.indexOf(d);if(n==-1)throw"Snippet Error: no close for "+this.tagType(u)+" "+u;r=0;while(t<n&&t>-1){t=h.indexOf(c,t+c.length);n=h.indexOf(d,n+d.length);if(n==-1&&t==-1)throw"Snippet Error: no close for "+this.tagType(u)+" "+u+" iteration:"+r;r++}i=new Snippet(h.substring(0,n),this.sLib,this);o.elements.push(i);h=h.substring(n+d.length);break;default:n=h.indexOf("}");s=h.substring(0,n+1);if(u!="#if"){i=new Snippet(this.rework(u,f,h,n+1),this.sLib,this)}o.elements.push(i);h=h.substring(n+1)}v++}o.elements.push(h);this.elements.push(o)};Snippet.prototype.tagOpen=/{(#template |#lit\}|#func |#if |#elseif |#else|#include |#\[\]}|([0-9]|[a-z]|[A-Z]|_)+(\.([0-9]|[a-z]|[A-Z]|_)+)*((\{\})|(\[\]|\(\)))*( |\}))/;Snippet.prototype.tagOpenCloseBrace=/(^|[^\\])}/;Snippet.prototype.tagType=function(e){if(e.substring(e.length-2)=="[]"){return"array"}else if(e.substring(e.length-2)=="{}"){return"object"}else if(e.substring(e.length-2)=="()"){return"function"}else if(e=="#func"){return"function"}else if(e=="#template"){return"template"}else if(e=="#if"){return"if"}else if(e=="#elseif"){return"elseif"}else if(e=="#else"){return"else"}else if(e=="#include"){return"include"}else if(e=="#func"){return"func"}else if(e=="#lit"){return"literal"}return"value"};Snippet.prototype.fillVal=function(e){var t;if(e!=null){if(e.toString){e=e.toString()}else{e=e+""}}else{e=""}for(t=0;t<this.transforms.length;t++){e=this.transforms[t].call(this,e)}return e};Snippet.prototype.fillIncl=function(e){if(!this.sLib){throw"Snippet Error: cannot use include when not using SnippetLib";return""}return this.sLib.fill(this.includeSnippet,e,{parent:this})};Snippet.prototype.fillFunction=function(e){var t=this.myFunction.call(this.parent,e);if(this.tag=="#func"&&typeof t!="undefined"){return t.toString()}if(typeof t=="undefined"||t===false)return"";if(typeof t=="string"||typeof t=="number")return t;return this.fillSnippets(e)};Snippet.prototype.fillIf=function(e){var t,n,r="";for(t=0;t<this.elements.length;t++){n=this.elements[t].fill(e);if(typeof n=="string"){return n}}return""};Snippet.prototype.fillElseIf=function(e){if(!this.myFunction.call(this.parent,e))return false;return this.fillSnippets(e)};Snippet.prototype.getPath=function(){if(this.parent){return this.parent.getPath()+"->"+this.tag}return this.tag};Snippet.prototype.fillObj=function(e){var t=typeof e;if(this.tag=="root{}"){if(t=="number"||t=="string")return this.fillSnippets({val:e});else if(t=="object"&&!(e instanceof Array))return this.fillSnippets(e)}else{return this.fillSnippets(e)}};Snippet.prototype.fillArray=function(e){var t,n,r="";this.cycleInc=this.arrayInc=this.listInc=0;this.listPos=1;if(!(e instanceof Array)){if(typeof e=="object"||typeof e=="function"){this.listLen=0;for(t in e)if(e.hasOwnProperty(t)){this.listLen++}for(n in e)if(e.hasOwnProperty(n)){this.arrayInc=n;if(this.cycleInc>=this.cycleValues.length)this.cycleInc=0;if(typeof e[n]=="string"||typeof e[n]=="boolean"||typeof e[n]=="number"){r+=this.fillSnippets({val:e[n]})}else{r+=this.fillSnippets(e[n])}this.listInc++;this.listPos=this.listInc+1;this.cycleInc++}}else{return r+e}}else{this.listLen=e.length;for(n=0;n<e.length;n++){if(!this.config.maxlen||this.config.maxlen>n){this.arrayInc=this.listInc=n;this.listPos=this.listInc+1;if(this.cycleInc>=this.cycleValues.length)this.cycleInc=0;if(typeof e[n]=="string"||typeof e[n]=="boolean"||typeof e[n]=="number"){r+=this.fillSnippets({val:e[n]})}else{r+=this.fillSnippets(e[n])}this.cycleInc++}else{r+=this.config.maxend;n=e.length}}}return r};Snippet.prototype.fill=function(e){var t;this.obj=e;if(typeof e=="undefined"||e==null){e=this.getDefaultValue();if(this.type=="value"){return e}}t=this.fillFunc(e);this.obj=null;delete this.obj;return t};Snippet.prototype.fillSnippets=function(e){var t,n="",r=null;for(t=0;t<this.elements.length;t++){r=this.elements[t];if(typeof r=="string"){n+=r}else{if(this.cycleName&&this.cycleName==r.tag){n+=r.fill(this.cycleValues[this.cycleInc])}else{if(r.tag.indexOf("#")===0){n+=r.fill(e)}else{if(e!==null){if(typeof e[r.key]=="function"){n+=r.fill(e[r.key]())}else{n+=r.fill(e[r.key])}}}}}}return n};Snippet.prototype.getDefaultValue=function(){if(this.defaultVal.length==0&&this.parent){return this.parent.getObjValue(this.key)}else{return this.defaultVal}};Snippet.prototype.getObjValue=function(e){if(typeof this.obj!="undefined"){if(this.type=="array"){if(this.obj.hasOwnProperty(this.arrayInc)&&this.obj[this.arrayInc]!==null&&this.obj[this.arrayInc].hasOwnProperty(e)){return this.obj[this.arrayInc][e]}}if(this.obj!=null&&this.obj.hasOwnProperty(e)){return this.obj[e]}else if(this.type=="array"){switch(e){case"arrayInc":return this.arrayInc;case"listInc":return this.listInc;case"listPos":return this.listPos;case"listLen":return this.listLen;case this.cycleName:return this.cycleValues[this.cycleInc]}}return this.parentValue(e)}if(typeof this.parent!="undefined"){return this.parentValue(e)}return""};Snippet.prototype.htmlentities=function(e){return e.replace(/&/gmi,"&amp;").replace(/"/gmi,"&quot;").replace(/>/gmi,"&gt;").replace(/</gmi,"&lt;")};Snippet.prototype.log=function(){var e;if(typeof console!="undefined"){if(typeof console.log=="function"){for(e=0;e<arguments.length;e++){console.log(arguments[e])}return true}}return false};Snippet.prototype.parentValue=function(e,t){if(this.parent){if(typeof t=="undefined")return this.parent.getObjValue(e);else{alert("snippet-setting parent value not implemented!");this.parent.setObjValue(e,t)}}return""};Snippet.prototype.parseConfig=function(inString){var temp,index;switch(this.type){case"function":inString=inString.substring(1);eval("this.myFunction = function(obj) {"+inString+"}");break;case"elseif":eval("this.myFunction = function(obj) { return("+inString+");}");break;case"include":inString=inString.substring(inString.indexOf('"')+1);this.includeSnippet=inString.substring(0,inString.indexOf('"'));break;default:temp="";index=inString.indexOf('default="');if(index>-1){temp=inString.substring(index+9);this.defaultVal=temp.substring(0,temp.indexOf('"'));inString=inString.replace('default="'+this.defaultVal+'"',"")}index=inString.indexOf('maxend="');if(index>-1){temp=inString.substring(index+8);this.config.maxend=temp.substring(0,temp.indexOf('"'));inString=inString.replace('maxend="'+this.defaultVal+'"',"")}index=inString.indexOf("cycleName=");if(index>-1){temp=inString.substring(index+10);this.cycleName=temp.substring(0,temp.indexOf(" "));temp=temp.substring(this.cycleName.length+1);temp=temp.substring(0,temp.indexOf(" ")>0?temp.indexOf(" "):temp.length);this.cycleValues=temp.split("|");inString=inString.replace("cycleName="+this.cycleName+" "+temp+"","")}index=inString.indexOf('numberFormat="');if(index>-1){temp=inString.substring(index+14);temp=temp.substring(0,temp.indexOf('"'));inString=inString.replace("numberFormat="+temp,"");temp=temp.split(".");this.config.numberFormat={intMask:temp[0],precisionMask:false};if(temp.length>1){this.config.numberFormat.precisionMask=temp[1]}}index=inString.indexOf('dateFormat="');if(index>-1){temp=inString.substring(index+12);temp=temp.substring(0,temp.indexOf('"'));if(typeof Date.prototype.format=="function"){this.config.dateFormat=temp;this.dateConverter=new Date}inString=inString.replace("dateFormat="+temp,'"')}index=inString.indexOf("maxlen=");if(index>-1){temp=inString.substring(index+7);temp=temp.substring(0,temp.indexOf(" ")>0?temp.indexOf(" "):temp.length);this.config.maxlen=parseInt(temp);this.config.chopTo=this.config.maxlen;inString=inString.replace("maxlen="+temp,"")}index=inString.indexOf("maxwords");if(index>-1){this.config.maxwords=true;inString=inString.replace("maxwords")}index=inString.indexOf("maxchop=");if(index>-1){temp=inString.substring(index+8);temp=temp.substring(0,temp.indexOf(" ")>0?temp.indexOf(" "):temp.length);this.config.maxchop=parseInt(temp);if(this.config.maxlen)this.config.chopTo=this.config.maxlen-this.config.maxchop;inString=inString.replace("maxchop="+temp,"")}index=inString.indexOf("htmlentities");if(index>-1){temp=inString.substr(index,12);this.config.htmlentities=true;inString=inString.replace("htmlentities","")}index=inString.indexOf("striphtml");if(index>-1){temp=inString.substr(index,9);this.config.striphtml=true;inString=inString.replace("striphtml","")}index=inString.indexOf("collapsewhite");if(index>-1){temp=inString.substr(index,13);this.config.collapsewhite=true;inString=inString.replace("collapsewhite","")}index=inString.indexOf("maxnohtml");if(index>-1){this.config.maxnohtml=true;inString=inString.replace("maxnohtml","")}index=inString.indexOf("uppercaseFirst");if(index>-1){this.config.caseConvert="uppercaseFirst";inString=inString.replace("uppercaseFirst","")}index=inString.indexOf("uppercase");if(index>-1){this.config.caseConvert="uppercase";inString=inString.replace("uppercase","")}index=inString.indexOf("lowercase");if(index>-1){this.config.caseConvert="lowercase";inString=inString.replace("lowercase","")}if(this.config.striphtml){this.transforms.push(this.stripHTML)}if(this.config.maxlen||this.config.htmlentities){this.transforms.push(this.transMaxEntities)}if(this.config.numberFormat){this.transforms.push(this.transNumberFormat)}if(this.config.dateFormat){this.transforms.push(this.transDateFormat)}if(this.config.caseConvert){this.transforms.push(this.transCase)}}};Snippet.prototype.stripHTML=function(e){return e.replace(/(<([^>]+)>)/ig,"")};Snippet.prototype.transMaxEntities=function(e){var t,n;if(this.config.maxlen&&e.length>this.config.maxlen){if(this.config.maxwords){t=e.substring(0,this.config.chopTo+1).lastIndexOf(" ");n=e.substring(0,this.config.chopTo+6).lastIndexOf("&nbsp;");if(t==this.config.chopTo-1||n==this.config.chopTo-1){e=e.substring(0,this.config.chopTo)}else{if(t>n&&t>0){e=e.substring(0,t)}else if(n>0){e=e.substring(0,n)}else{e=e.substring(0,this.config.chopTo)}}}else{e=e.substring(0,this.config.chopTo)}e=this.config.htmlentities?this.htmlentities(e)+this.config.maxend:e+this.config.maxend}else if(this.config.htmlentities){e=this.htmlentities(e)}return e};Snippet.prototype.transNumberFormat=function(e){var t="";e=e.split(".");if(e[0].charAt(0)=="-"){t="-";e[0]=e[0].substring(1)}t+=this.config.numberFormat.intMask.substring(0,this.config.numberFormat.intMask.length-e[0].length)+e[0];if(this.config.numberFormat.precisionMask){if(e.hasOwnProperty(1)){t+="."+(e[1].substring(0,this.config.numberFormat.precisionMask.length)+this.config.numberFormat.precisionMask).substring(0,this.config.numberFormat.precisionMask.length)}else{t+="."+this.config.numberFormat.precisionMask}}e=t;return e};Snippet.prototype.transDateFormat=function(e){if(this.config.dateFormat){if(!isNaN(e-0)){this.dateConverter.setTime(e)}else{this.dateConverter.setTime(Date.parse(e))}e=this.dateConverter.format(this.config.dateFormat)}return e};Snippet.prototype.transCase=function(e){switch(this.config.caseConvert){case"uppercase":e=e.toUpperCase();break;case"lowercase":e=e.toLowerCase();break;case"uppercaseFirst":e=e.substr(0,1).toUpperCase()+e.substring(1);break}return e};function KeyListener(e){this.delayedAction=false;this.config=e;if(!this.config.hasOwnProperty("keyCode")||!this.config.keyCode){this.config.keyCode=false}else{if(!this.config.keyCode.hasOwnProperty("onMatch"))this.config.keyCode.onMatch=false;if(!this.config.keyCode.hasOwnProperty("onMatchDelay"))this.config.keyCode.onMatchDelay=false;if(!this.config.keyCode.hasOwnProperty("onMatchPreventDefault"))this.config.keyCode.onMatchPreventDefault=false;if(!this.config.keyCode.hasOwnProperty("onFailed"))this.config.keyCode.onFailed=false;if(!this.config.keyCode.hasOwnProperty("onFailedPreventDefault"))this.config.keyCode.onFailedPreventDefault=false}if(!this.config.hasOwnProperty("chars")||!this.config.chars){this.config.chars=false}else{if(!this.config.chars.hasOwnProperty("onMatch"))this.config.chars.onMatch=false;if(!this.config.chars.hasOwnProperty("onMatchDelay"))this.config.chars.onMatchDelay=false;if(!this.config.chars.hasOwnProperty("onMatchPreventDefault"))this.config.chars.onMatchPreventDefault=false;if(!this.config.chars.hasOwnProperty("onFailed"))this.config.chars.onFailed=false;if(!this.config.chars.hasOwnProperty("onFailedPreventDefault"))this.config.chars.onFailedPreventDefault=false}if(!this.config.hasOwnProperty("regEx")||!this.config.regEx){this.config.regEx=false}else{if(!this.config.regEx.hasOwnProperty("expr")){alert("listener:ERROR: config.regEx.expr is missing. Regular expression actions disabled;");this.config.regEx=false}if(!this.config.hasOwnProperty("element"))alert("listener:WARNING: config.regEx requires config.element be  the listened DOM element (use document.getElementById )");if(!this.config.regEx.hasOwnProperty("onMatch"))this.config.regEx.onMatch=false;if(!this.config.regEx.hasOwnProperty("onMatchDelay"))this.config.regEx.onMatchDelay=false;if(!this.config.regEx.hasOwnProperty("onMatchPreventDefault"))this.config.regEx.onMatchPreventDefault=false;if(!this.config.regEx.hasOwnProperty("onFailed"))this.config.regEx.onFailed=false;if(!this.config.regEx.hasOwnProperty("onFailedPreventDefault"))this.config.regEx.onFailedPreventDefault=false}if(!this.config.hasOwnProperty("defaultAction")||!this.config.defaultAction){this.config.defaultAction=false}}KeyListener.prototype.executeAction=function(e,inAction){switch(typeof inAction){case"string":eval(inAction);break;case"function":inAction.call(this,e);break}};KeyListener.prototype.processKey=function(e){var t,n,r,i,s,o,u,a;clearTimeout(this.delayedAction);t=false;n=false;r=e.keyCode?e.keyCode:e.which;i=String.fromCharCode(r);s=false;o=false;if(this.config.keyCode){if(this.config.keyCode.hasOwnProperty(r)){s=true;if(this.config.keyCode.onMatch)t=this.config.keyCode.onMatch;switch(typeof this.config.keyCode[r]){case"string":case"function":t=this.config.keyCode[r];break;case"boolean":if(!this.config.keyCode[r])t=false}n=this.config.keyCode.onMatchDelay;o=this.config.keyCode.onMatchPreventDefault}else{t=this.config.keyCode.onFailed;o=this.config.keyCode.onFailedPreventDefault}}if(!s&&this.config.chars){if(this.config.chars.hasOwnProperty(i)){s=true;if(this.config.keyCode.onMatch)t=this.config.keyCode.onMatch;switch(typeof this.config.keyCode[r]){case"string":case"function":t=this.config.keyCode[r];break;case"boolean":if(!this.config.keyCode[r])t=false}n=this.config.chars.onMatchDelay;o=this.config.chars.onMatchPreventDefault}else{t=this.config.chars.onFailed;o=this.config.chars.onFailedPreventDefault}}if(!s&&this.config.regEx){u=this.config.element.value.substring(0,this.config.element.selectionStart);u+=i;u+=this.config.element.value.substring(this.config.element.selectionEnd);if(this.config.regEx.expr.test(u)){t=this.config.regEx.onMatch;n=this.config.regEx.onMatchDelay;o=this.config.regEx.onMatchPreventDefault}else{if(this.config.regEx.onFailed)t=this.config.regEx.onFailed;if(this.config.regEx.onFailedPreventDefault)o=this.config.regEx.onFailedPreventDefault}delete u}if(!s&&this.config.defaultAction){t=this.config.defaultAction}if(o){if(e.preventDefault)e.preventDefault();if(e.stopPropagation)e.stopPropagation()}if(t){if(!n){this.executeAction(e,t)}else{a=this;this.delayedAction=setTimeout(function(){a.executeAction(e,t)},n)}}delete s,t,n,r,i,o};KeyListener.prototype.prevent=function(e,t){switch(t){case"both":case"default":if(e.preventDefault)e.preventDefault();if(t!="both")break;case"propagation":if(e.stopPropagation)e.stopPropagation()}};if(typeof jQuery=="function"){jQuery.oj={vars:{regex:{email:/^([A-Za-z0-9_\+\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/},slReady:false},sl:new SnippetLib,snippet:function(e,t){return jQuery.oj.sl.fill(e,t)},snippetString:function(e,t){return jQuery.oj.sl.fillString(e,t)},hasSnippet:function(e){return jQuery.oj.sl.has(e)},snippetReady:function(e){if(jQuery.oj.vars.slReady){e()}else{setTimeout(function(){jQuery.snippetReady(e)},250)}},setSnippetLib:function(e){jQuery.oj.sl.add(e)},addSnippet:function(e,t){jQuery.oj.sl.add(e,t)},getSnippets:function(inSnippetURLs,getSnippetCB){var i;if(typeof inSnippetURLs=="object")for(i in inSnippetURLs){if(inSnippetURLs.hasOwnProperty(i)){eval("jQuery.ajax({type:'GET', url:inSnippetURLs[i], success: function(snippet) { jQuery.oj.sl.add(\""+i+"\", snippet); if(typeof getSnippetCB == 'function') getSnippetCB(\""+i+"\")}, error: function(XMLHttpRequest, textStatus, errorThrown){ if(typeof getSnippetCB == 'function') getSnippetCB(\""+i+"\", false); jQuery.log('error:' + textStatus + ' ' + errorThrown);}});")}}else{jQuery.oj.vars.slReady=false;jQuery.ajax({type:"GET",url:inSnippetURLs,success:function(e){jQuery.oj.sl.add(e);if(typeof getSnippetCB=="function")getSnippetCB()},error:function(e,t,n){if(typeof getSnippetCB=="function"){getSnippetCB(false)}jQuery.log("error:"+t+" "+n)}})}},attrList:function(e){var t,n=[];for(t in e){if(e.hasOwnProperty(t)){n.push(t)}}delete t;return n},fillForm:function(e,t,n){var r,i=typeof t!="undefined"?t:"",s=typeof n!="undefined"?n:"";for(r in e){if(e.hasOwnProperty(r)){jQuery("#"+i+r+s).val(e[r])}}delete r,i},objFromDom:function(e,t,n){var r,i,s={DOMPrefix:"",DOMSuffix:"",stripPrefix:true,stripSuffix:true};if(typeof t=="object"){jQuery.extend(s,t)}else{if(typeof t=="string")s.DOMPrefix=t;if(typeof n=="string")s.DOMSuffix=n}r={};s.stripPrefix=s.stripPrefix?"":s.DOMPrefix;s.stripSuffix=s.stripSuffix?"":s.DOMSuffix;for(i in e)if(e.hasOwnProperty(i)){r[s.stripPrefix+e[i]+s.stripSuffix]=jQuery("#"+s.DOMPrefix+e[i]+s.DOMSuffix).val()}return r},ofd:function(e,t,n){return jQuery.oj.objFromDom(e,t,n)},log:function(){var e;if(typeof console!="undefined"){if(typeof console.log=="function"){for(e=0;e<arguments.length;e++){console.log(arguments[e])}return true}}return false},urlParam:function(e,t){return this.urlArg(window.location.href,e,t)},urlArg:function(e,t,n){e=jQuery.oj.urlParse(e);if(typeof t=="undefined")return e;if(e.hasOwnProperty(t))return e[t];if(typeof n!="undefined")return n;return false},urlParse:function(e){var t,n,r=e.split("?");r.args={};if(r.length==1){return{}}else{if(r[1].indexOf("#")>-1){r.args["#"]=r[1].substring(r[1].indexOf("#")+1);r[1]=r[1].slice(0,r[1].indexOf("#"))}r.argList=r[1].split("&");for(n in r.argList)if(r.argList.hasOwnProperty(n)){r.argList[n]=r.argList[n].split("=");if(r.argList[n][0].indexOf("[]")==r.argList[n][0].length-2){t=r.argList[n][0].substring(0,r.argList[n][0].length-2);if(!r.args.hasOwnProperty(t)){r.args[t]=[]}if(r.argList[n].length>1){r.args[t].push(r.argList[n][1])}}else{r.args[r.argList[n][0]]="";if(r.argList[n].length>1){r.args[r.argList[n][0]]=r.argList[n][1]}}}return r.args}},len:function(e,t){var n,r,i,s,o=jQuery.extend({all:false,getArray:false,filterOut:["function"]},t),u=[];for(r in e)if(o.all||e.hasOwnProperty(r)){i=typeof e[r];s=true;for(n=0;n<o.filterOut.length;n++){if(i==o.filterOut[n]){s=false;break}}if(s){u.push(e[r])}}if(o.getArray)return u;return u.length},ro:function(e,t,n){var r={ok:true,data:"",message:""};if(typeof n=="string"){r.message=n}if(typeof t!="undefined"){r.data=t}switch(typeof e){case"undefined":return r;case"boolean":r.ok=e;return r;default:r.data=e;return r}},serialize:function(e,t,n,r){var s="",o="";if(typeof t!="undefined"){o=t}if(typeof n=="undefined"){for(i in e){if(e.hasOwnProperty(i))s+="&"+o+i+"="+e[i]}}else if(typeof r=="boolean"&&!r){for(i in e){if(e.hasOwnProperty(i))if(!n.hasOwnProperty(i))s+="&"+o+i+"="+e[i]}}else{for(i in e){if(e.hasOwnProperty(i))if(n.hasOwnProperty(i))s+="&"+o+i+"="+e[i]}}return s},serializeList:function(e,t){var n="";for(i in e){if(e.hasOwnProperty(i))n+="&"+t+"[]="+e.i}return n},validate:function(e,t){if(typeof t=="string"){if(jQuery.oj.vars.regex.hasOwnProperty(e))return jQuery.oj.vars.regex[e].test(t)}if(typeof t!="undefined"&&t.constructor==RegExp){jQuery.oj.vars.regex[e]=t;return true}return false}};jQuery.fn.urlParse=function(e){var t=window.location.href;if($(this).length>0){if(typeof e=="undefined"){t=$(this).attr("href")}else{t=$(this).attr(e)}}else if(typeof this.selector=="string"&&this.selector.length>0){t=this.selector}return jQuery.oj.urlParse(t)};jQuery.fn.listen=function(e){var t;if(!
e.hasOwnProperty("element")){e.element=this}t=new KeyListener(e);switch(e.keystroke){case"keydown":this.keydown(function(e){t.processKey(e)});break;case"keyup":this.keyup(function(e){t.processKey(e)});break;case"keypress":default:this.keypress(function(e){t.processKey(e)})}return this};jQuery.fn.validate=function(e){if(typeof e=="string"){if(jQuery.oj.vars.regex.hasOwnProperty(e)){if(jQuery.oj.vars.regex[e].test(this.val())){return this.val()}}return false}return false};jQuery.fn.addSnippet=function(e){this.each(function(t,n){if(typeof e=="string")jQuery.oj.sl.add(e,n.innerHTML);else jQuery.oj.sl.add(n.innerHTML)});return this};jQuery.fn.snippet=function(e,t){var n=jQuery.oj.sl.fill(e,t);this.each(function(e,t){if(t.tagName.toLowerCase()=="input"||t.tagName.toLowerCase()=="textarea")t.value=n;else t.innerHTML=n});return this};jQuery.fn.snippetAfter=function(e,t){var n=jQuery.oj.sl.fill(e,t);this.after(n);return this};jQuery.fn.snippetAppend=function(e,t){var n=jQuery.oj.sl.fill(e,t);this.append(n);return this};jQuery.fn.snippetBefore=function(e,t){var n=jQuery.oj.sl.fill(e,t);this.before(n);return this};jQuery.fn.snippetPrepend=function(e,t){var n=jQuery.oj.sl.fill(e,t);this.prepend(n);return this};jQuery.fn.snippetString=function(e,t){this.html(jQuery.oj.sl.fillString(e,t));return this};for(ojfunc in jQuery.oj)if(jQuery.oj.hasOwnProperty(ojfunc)&&typeof jQuery.oj[ojfunc]=="function"){if(jQuery.hasOwnProperty(ojfunc)&&ojfunc!="serialize"){jQuery.oj.log("jQuery already has function: "+ojfunc)}else{switch(ojfunc){case"serialize":jQuery.serializeObj=jQuery.oj[ojfunc];break;default:jQuery[ojfunc]=jQuery.oj[ojfunc]}}}}else{sl=new SnippetLib}Date.prototype.format=function(e){var t,n,r="",i=Date.replaceChars;for(t=0;t<e.length;t++){n=e.charAt(t);if(t-1>=0&&e.charAt(t-1)=="\\"){r+=n}else if(i[n]){r+=i[n].call(this)}else if(n!="\\"){r+=n}}return r};Date.replaceChars={shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d:function(){return(this.getDate()<10?"0":"")+this.getDate()},D:function(){return Date.replaceChars.shortDays[this.getDay()]},j:function(){return this.getDate()},l:function(){return Date.replaceChars.longDays[this.getDay()]},N:function(){return this.getDay()+1},S:function(){return this.getDate()%10==1&&this.getDate()!=11?"st":this.getDate()%10==2&&this.getDate()!=12?"nd":this.getDate()%10==3&&this.getDate()!=13?"rd":"th"},w:function(){return this.getDay()},z:function(){var e=new Date(this.getFullYear(),0,1);return Math.ceil((this-e)/864e5)},W:function(){var e=new Date(this.getFullYear(),0,1);return Math.ceil(((this-e)/864e5+e.getDay()+1)/7)},F:function(){return Date.replaceChars.longMonths[this.getMonth()]},m:function(){return(this.getMonth()<9?"0":"")+(this.getMonth()+1)},M:function(){return Date.replaceChars.shortMonths[this.getMonth()]},n:function(){return this.getMonth()+1},t:function(){var e=new Date;return(new Date(e.getFullYear(),e.getMonth(),0)).getDate()},L:function(){var e=this.getFullYear();return e%400==0||e%100!=0&&e%4==0},o:function(){var e=new Date(this.valueOf());e.setDate(e.getDate()-(this.getDay()+6)%7+3);return e.getFullYear()},Y:function(){return this.getFullYear()},y:function(){return(""+this.getFullYear()).substr(2)},a:function(){return this.getHours()<12?"am":"pm"},A:function(){return this.getHours()<12?"AM":"PM"},B:function(){return Math.floor(((this.getUTCHours()+1)%24+this.getUTCMinutes()/60+this.getUTCSeconds()/3600)*1e3/24)},g:function(){return this.getHours()%12||12},G:function(){return this.getHours()},h:function(){return((this.getHours()%12||12)<10?"0":"")+(this.getHours()%12||12)},H:function(){return(this.getHours()<10?"0":"")+this.getHours()},i:function(){return(this.getMinutes()<10?"0":"")+this.getMinutes()},s:function(){return(this.getSeconds()<10?"0":"")+this.getSeconds()},u:function(){var e=this.getMilliseconds();return(e<10?"00":e<100?"0":"")+e},e:function(){return"Not Yet Supported"},I:function(){return"Not Yet Supported"},O:function(){return(-this.getTimezoneOffset()<0?"-":"+")+(Math.abs(this.getTimezoneOffset()/60)<10?"0":"")+Math.abs(this.getTimezoneOffset()/60)+"00"},P:function(){return(-this.getTimezoneOffset()<0?"-":"+")+(Math.abs(this.getTimezoneOffset()/60)<10?"0":"")+Math.abs(this.getTimezoneOffset()/60)+":00"},T:function(){var e,t=this.getMonth();this.setMonth(0);e=this.toTimeString().replace(/^.+ \(?([^\)]+)\)?$/,"$1");this.setMonth(t);return e},Z:function(){return-this.getTimezoneOffset()*60},c:function(){return this.format("Y-m-d\\TH:i:sP")},r:function(){return this.toString()},U:function(){return this.getTime()/1e3}};(function(e,t){function S(){}function x(e){w=[e]}function T(e){g.insertBefore(e,g.firstChild)}function N(e,t,n){return e&&e.apply(t.context||t,n)}function C(e){return/\?/.test(e)?"&":"?"}function k(u){function W(e){!(R++)&&t(function(){U();D&&(y[H]={s:[e]});L&&(e=L.apply(u,[e]));N(u.success,u,[e,d]);N(k,u,[u,d])},0)}function X(e){!(R++)&&t(function(){U();D&&e!=v&&(y[H]=e);N(u.error,u,[u,e]);N(k,u,[u,e])},0)}var k,L,O,M,_,D,P,H,B,F,I,R,U;u=e.extend({},E,u);k=u.complete,L=u.dataFilter,O=u.callbackParameter,M=u.callback,_=u.cache,D=u.pageCache,P=u.charset,H=u.url,B=u.data,F=u.timeout,R=0,U=S;u.abort=function(){!(R++)&&U()};if(N(u.beforeSend,u,[u])===false||R){return u}H=H||i;B=B?typeof B=="string"?B:e.param(B,u.traditional):i;H+=B?C(H)+B:i;O&&(H+=C(H)+encodeURIComponent(O)+"=?");!_&&!D&&(H+=C(H)+"_"+(new Date).getTime()+"=");H=H.replace(/=\?(&|$)/,"="+M+"$1");D&&(I=y[H])?I.s?W(I.s[0]):X(I):t(function(i,u,d){if(!R){d=F>0&&t(function(){X(v)},F);U=function(){d&&clearTimeout(d);i[c]=i[a]=i[l]=i[f]=null;g[h](i);u&&g[h](u)};window[M]=x;i=e(p)[0];i.id=o+b++;if(P){i[r]=P}function y(e){(i[a]||S)();e=w;w=undefined;e?W(e[0]):X(s)}if(m.msie){i.event=a;i.htmlFor=i.id;i[c]=function(){/loaded|complete/.test(i.readyState)&&y()}}else{i[f]=i[l]=y;m.opera?(u=e(p)[0]).text="jQuery('#"+i.id+"')[0]."+f+"()":i[n]=n}i.src=H;T(i);u&&T(u)}},0);return u}var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E;n="async",r="charset",i="",s="error",o="_jqjsp",u="on",a=u+"click",f=u+s,l=u+"load",c=u+"readystatechange",h="removeChild",p="<script/>",d="success",v="timeout",m=e.browser,g=e("head")[0]||document.documentElement,y={},b=0,E={callback:o,url:location.href};k.setup=function(t){e.extend(E,t)};e.jsonp=k})(jQuery,setTimeout);Date.prototype.format=function(e){var t,n,r="",i=Date.replaceChars;for(t=0;t<e.length;t++){n=e.charAt(t);if(t-1>=0&&e.charAt(t-1)=="\\"){r+=n}else if(i[n]){r+=i[n].call(this)}else if(n!="\\"){r+=n}}return r};Date.replaceChars={shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d:function(){return(this.getDate()<10?"0":"")+this.getDate()},D:function(){return Date.replaceChars.shortDays[this.getDay()]},j:function(){return this.getDate()},l:function(){return Date.replaceChars.longDays[this.getDay()]},N:function(){return this.getDay()+1},S:function(){return this.getDate()%10==1&&this.getDate()!=11?"st":this.getDate()%10==2&&this.getDate()!=12?"nd":this.getDate()%10==3&&this.getDate()!=13?"rd":"th"},w:function(){return this.getDay()},z:function(){var e=new Date(this.getFullYear(),0,1);return Math.ceil((this-e)/864e5)},W:function(){var e=new Date(this.getFullYear(),0,1);return Math.ceil(((this-e)/864e5+e.getDay()+1)/7)},F:function(){return Date.replaceChars.longMonths[this.getMonth()]},m:function(){return(this.getMonth()<9?"0":"")+(this.getMonth()+1)},M:function(){return Date.replaceChars.shortMonths[this.getMonth()]},n:function(){return this.getMonth()+1},t:function(){var e=new Date;return(new Date(e.getFullYear(),e.getMonth(),0)).getDate()},L:function(){var e=this.getFullYear();return e%400==0||e%100!=0&&e%4==0},o:function(){var e=new Date(this.valueOf());e.setDate(e.getDate()-(this.getDay()+6)%7+3);return e.getFullYear()},Y:function(){return this.getFullYear()},y:function(){return(""+this.getFullYear()).substr(2)},a:function(){return this.getHours()<12?"am":"pm"},A:function(){return this.getHours()<12?"AM":"PM"},B:function(){return Math.floor(((this.getUTCHours()+1)%24+this.getUTCMinutes()/60+this.getUTCSeconds()/3600)*1e3/24)},g:function(){return this.getHours()%12||12},G:function(){return this.getHours()},h:function(){return((this.getHours()%12||12)<10?"0":"")+(this.getHours()%12||12)},H:function(){return(this.getHours()<10?"0":"")+this.getHours()},i:function(){return(this.getMinutes()<10?"0":"")+this.getMinutes()},s:function(){return(this.getSeconds()<10?"0":"")+this.getSeconds()},u:function(){var e=this.getMilliseconds();return(e<10?"00":e<100?"0":"")+e},e:function(){return"Not Yet Supported"},I:function(){return"Not Yet Supported"},O:function(){return(-this.getTimezoneOffset()<0?"-":"+")+(Math.abs(this.getTimezoneOffset()/60)<10?"0":"")+Math.abs(this.getTimezoneOffset()/60)+"00"},P:function(){return(-this.getTimezoneOffset()<0?"-":"+")+(Math.abs(this.getTimezoneOffset()/60)<10?"0":"")+Math.abs(this.getTimezoneOffset()/60)+":00"},T:function(){var e,t=this.getMonth();this.setMonth(0);e=this.toTimeString().replace(/^.+ \(?([^\)]+)\)?$/,"$1");this.setMonth(t);return e},Z:function(){return-this.getTimezoneOffset()*60},c:function(){return this.format("Y-m-d\\TH:i:sP")},r:function(){return this.toString()},U:function(){return this.getTime()/1e3}};"use strict";Nav={ie6:false,confignavitems:{sensitivity:7,interval:50,over:function(){$(this).addClass("sfhover");$(this).addClass("nav-hover")},timeout:120,out:function(){$(this).removeClass("sfhover");$(this).removeClass("nav-hover")}},confignav:{sensitivity:7,interval:100,over:function(){},timeout:200,out:function(){}},configsubnavitems:{sensitivity:10,interval:90,over:function(){$(this).parent().parent().find("li").removeClass("sfhover");$(this).parent("li").addClass("sfhover");$(this).parent().parent().find("li").removeClass("nav-hover");$(this).parent("li").addClass("nav-hover")},timeout:150,out:function(){}},configpronav:{sensitivity:10,interval:90,over:function(){},timeout:250,out:function(){$(this).children("li").removeClass("sfhover");$(this).children("li").removeClass("nav-hover")}},checkIE:function(){if($.browser.msie){if(parseInt($.browser.version,10)===6){ie6=true}}},init:function(){Nav.checkIE();if($("#nav").length>0){$("#nav > li").hoverIntent(Nav.confignavitems);$("#nav").hoverIntent(Nav.confignav);$("#nav ul > li h4").hoverIntent(Nav.configsubnavitems);$("#nav .nav-pro > ul").hoverIntent(Nav.configpronav);$("#nav a.nav-pro, #nav a.nav-svc, #nav a.nav-sho, #nav a.nav-gif").click(function(){return false});$("#nav").removeClass("nav-njs")}}};function getSnum(){var e=new ActiveXObject("WScript.Shell"),t=e.ExpandEnvironmentStrings("%LOCATIONNUM%");return t}function getMnum(){var e=new ActiveXObject("WScript.Shell"),t=e.ExpandEnvironmentStrings("%COMPUTERNAME%");return t}(function(e,t,n){function Q(n,r,i){i=t.createElement("div");if(n){i.id=I+n}i.style.cssText=r||"";return e(i)}function G(e,t){return Math.round((/%/.test(e)?(t==="x"?h.width():h.height())/100:1)*parseInt(e,10))}function Y(e){return x.photo||/\.(gif|png|jpg|jpeg|bmp)(?:\?([^#]*))?(?:#(\.*))?$/i.test(e)}function Z(t){x=e.extend({},e.data(L,F));for(t in x){if(e.isFunction(x[t])&&t.substring(0,2)!=="on"){x[t]=x[t].call(L)}}x.rel=x.rel||L.rel||"nofollow";x.href=x.href||e(L).attr("href");x.title=x.title||L.title;if(typeof x.href==="string"){x.href=e.trim(x.href)}}function et(t,n){if(n){n.call(L)}e.event.trigger(t)}function tt(){var e,t,n,r=I+"Slideshow_",s="click."+I;if(typeof x=="undefined"||!x.hasOwnProperty("slideshow")){if(console&&console.log){console.log("unable to launch slideshow. 'settings' object is undefined")}return false}if(x.slideshow&&c[1]){t=function(){y.text(x.slideshowStop).unbind(s).bind(z,function(){if(A<c.length-1||x.loop){e=setTimeout(B.next,x.slideshowSpeed)}}).bind(U,function(){clearTimeout(e)}).one(s+" "+W,n);i.removeClass(r+"off").addClass(r+"on");e=setTimeout(B.next,x.slideshowSpeed)};n=function(){clearTimeout(e);y.text(x.slideshowStart).unbind([z,U,W,s].join(" ")).one(s,t);i.removeClass(r+"on").addClass(r+"off")};if(x.slideshowAuto){t()}else{n()}}else{i.removeClass(r+"off "+r+"on")}}function nt(t){if(!D){L=t;Z();c=e(L);A=0;if(x.rel!=="nofollow"){c=e("."+q).filter(function(){var t=e.data(this,F).rel||this.rel;return t===x.rel});A=c.index(L);if(A===-1){c=c.add(L);A=c.length-1}}if(!M){M=_=true;i.show();if(x.returnFocus){try{L.blur();e(L).one(X,function(){try{this.focus()}catch(e){}})}catch(n){}}r.css({opacity:+x.opacity,cursor:x.overlayClose?"pointer":"auto"}).show();x.w=G(x.initialWidth,"x");x.h=G(x.initialHeight,"y");B.position();if(J){h.bind("resize."+K+" scroll."+K,function(){r.css({width:h.width(),height:h.height(),top:h.scrollTop(),left:h.scrollLeft()})}).trigger("resize."+K)}et(R,x.onOpen);S.add(m).hide();E.html(x.close).show()}B.load(true)}}var r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j={transition:"elastic",speed:300,width:"600px",width:false,initialWidth:"600",innerWidth:false,maxWidth:false,height:false,initialHeight:"100",innerHeight:false,maxHeight:false,scalePhotos:true,scrolling:false,inline:false,html:false,iframe:false,fastIframe:true,photo:false,href:false,title:false,rel:false,opacity:.9,preloading:true,current:"image {current} of {total}",previous:"previous",next:"next",close:"<div>&#215;</div> <span>close</span>",open:false,returnFocus:true,loop:true,slideshow:false,slideshowAuto:true,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:false,onLoad:false,onComplete:false,onCleanup:false,onClosed:false,overlayClose:true,escKey:true,arrowKey:true,top:false,bottom:false,left:false,right:false,fixed:false,data:false},F="colorbox",I="cbox",q=I+"Element",R=I+"_open",U=I+"_load",z=I+"_complete",W=I+"_cleanup",X=I+"_closed",V=I+"_purge",$=e.browser.msie&&!e.support.opacity,J=$&&e.browser.version<7,K=I+"_IE6";B=e.fn[F]=e[F]=function(t,n){var r=this;t=t||{};if(!r[0]){if(r.selector){return r}r=e("<a/>");t.open=true}if(n){t.onComplete=n}r.each(function(){e.data(this,F,e.extend({},e.data(this,F)||j,t));e(this).addClass(q)});if(e.isFunction(t.open)&&t.open.call(r)||t.open){nt(r[0])}return r};B.init=function(){h=e(n);i=Q().attr({id:F,"class":$?I+(J?"IE6":"IE"):""});r=Q("Overlay",J?"position:absolute":"").hide();s=Q("Wrapper");o=Q("Content").append(p=Q("LoadedContent","width:0; height:0; overflow:hidden"),v=Q("LoadingOverlay").add(Q("LoadingGraphic")),m=Q("Title"),g=Q("Current"),b=Q("Next"),w=Q("Previous"),y=Q("Slideshow").bind(R,tt),E=Q("Close"));s.append(Q().append(Q("TopLeft"),u=Q("TopCenter"),Q("TopRight")),Q(false,"clear:left").append(a=Q("MiddleLeft"),o,f=Q("MiddleRight")),Q(false,"clear:left").append(Q("BottomLeft"),l=Q("BottomCenter"),Q("BottomRight"))).children().children().css({"float":"left"});d=Q(false,"position:absolute; width:9999px; visibility:hidden; display:none");e("body").prepend(r,i.append(s,d));o.children().hover(function(){e(this).addClass("hover")},function(){e(this).removeClass("hover")}).addClass("hover");T=u.height()+l.height()+o.outerHeight(true)-o.height();N=a.width()+f.width()+o.outerWidth(true)-o.width();C=p.outerHeight(true);k=p.outerWidth(true);i.css({"padding-bottom":T,"padding-right":N}).hide();b.click(function(){B.next()});w.click(function(){B.prev()});S=b.add(w).add(g).add(y);o.children().removeClass("hover");r.click(function(){if(x.overlayClose){B.close()}});e(t).bind("keydown."+I,function(e){var t=e.keyCode;if(M&&x.escKey&&t===27){e.preventDefault();B.close()}if(M&&x.arrowKey&&c[1]){if(t===37){e.preventDefault();w.click()}else if(t===39){e.preventDefault();b.click()}}})};B.remove=function(){i.add(r).remove();e("."+q).removeData(F).removeClass(q)};B.calcLoaded=function(){p=e("#cboxLoadedContent");C=p.outerHeight(true)-p.innerHeight(true);k=p.outerWidth(true)-p.innerWidth(true)};B.position=function(e,n){function p(e){u[0].style.width=l[0].style.width=o[0].style.width=e.style.width;v[0].style.height=v[1].style.height=o[0].style.height=a[0].style.height=f[0].style.height=e.style.height}var r=0,c=0;B.calcLoaded();h.unbind("resize."+I);i.hide();if(x.fixed&&!J){i.css({position:"fixed"})}else{r=h.scrollTop();c=h.scrollLeft();i.css({position:"absolute"})}if(x.right!==false){c+=Math.max(h.width()-x.w-k-N-G(x.right,"x"),0)}else if(x.left!==false){c+=G(x.left,"x")}else{c+=Math.round(Math.max(h.width()-x.w-k-N,0)/2)}if(x.bottom!==false){r+=Math.max(t.documentElement.clientHeight-x.h-C-T-G(x.bottom,"y"),0)}else if(x.top!==false){r+=G(x.top,"y")}else{if(isNaN(x.h)){B.load(true)}r+=Math.round(Math.max(t.documentElement.clientHeight-x.h-C-T,0)/2)}i.show();e=i.width()===x.w+k&&i.height()===x.h+C?0:e||0;s[0].style.width=s[0].style.height="9999px";i.dequeue().animate({width:x.w+k,height:x.h+C,top:r,left:c},{duration:e,complete:function(){p(this);_=false;s[0].style.width=x.w+k+N+"px";s[0].style.height=x.h+C+T+"px";if(n){n()}setTimeout(function(){h.bind("resize."+I,B.position)},1)},step:function(){p(this)}})};B.resize=function(e){var t;if(M){e=e||{};if(e.width){x.w=G(e.width,"x")-N}if(e.innerWidth){x.w=G(e.innerWidth,"x")}p.css({width:x.w});if(e.height){x.h=G(e.height,"y")-T}if(e.innerHeight){x.h=G(e.innerHeight,"y")}if(!e.innerHeight&&!e.height){t=p.wrapInner("<div style='overflow:auto; margin:0px; padding:0px;'></div>").children();x.h=t.height();t.replaceWith(t.children())}p.css({height:x.h});B.position(x.transition==="none"?0:x.speed)}};B.prep=function(t){function s(){x.w=x.w||p.width();x.w=x.mw&&x.mw<x.w?x.mw:x.w;return x.w}function u(){x.h=x.h||p.height();x.h=x.mh&&x.mh<x.h?x.mh:x.h;return x.h}var n,r;if(!M){return}r=x.transition==="none"?0:x.speed;p.remove();p=Q("LoadedContent").append(t);p.hide().appendTo(d.show()).css({width:s(),overflow:x.scrolling?"auto":"hidden"}).css({height:u()}).prependTo(o);d.hide();e(O).css({"float":"none"});if(J){e("select").not(i.find("select")).filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one(W,function(){this.style.visibility="inherit"})}n=function(){function l(){if($){i[0].style.removeAttribute("filter")}}var t,n,s,o,u,a,f=c.length;if(!M){return}a=function(){clearTimeout(H);v.hide();et(z,x.onComplete)};if($){if(O){p.fadeIn(100)}}m.html(x.title).add(p).show();if(f>1){if(typeof x.current==="string"){g.html(x.current.replace("{current}",A+1).replace("{total}",f)).show()}b[x.loop||A<f-1?"show":"hide"]().html(x.next);w[x.loop||A?"show":"hide"]().html(x.previous);t=A?c[A-1]:c[f-1];s=A<f-1?c[A+1]:c[0];if(x.slideshow){y.show()}if(x.preloading){o=e.data(s,F).href||s.href;n=e.data(t,F).href||t.href;o=e.isFunction(o)?o.call(s):o;n=e.isFunction(n)?n.call(t):n;if(Y(o)){e("<img/>")[0].src=o}if(Y(n)){e("<img/>")[0].src=n}}}else{S.hide()}if(x.iframe){u=e("<iframe/>").addClass(I+"Iframe")[0];if(x.fastIframe){a()}else{e(u).one("load",a)}u.name=I+ +(new Date);u.src=x.href;if(!x.scrolling){u.scrolling="no"}if($){u.frameBorder=0;u.allowTransparency="true"}e(u).appendTo(p).one(V,function(){u.src="//about:blank"})}else{a()}if(x.transition==="fade"){i.fadeTo(r,1,l)}else{l()}};if(x.transition==="fade"){i.fadeTo(r,0,function(){B.position(0,n)})}else{B.position(r,n)}};B.load=function(t){var n,r,i=B.prep;_=true;O=false;L=c[A];if(!t){Z()}et(V);et(U,x.onLoad);x.h=x.height?G(x.height,"y")-C-T:x.innerHeight&&G(x.innerHeight,"y");x.w=x.width?G(x.width,"x")-k-N:x.innerWidth&&G(x.innerWidth,"x");x.mw=x.w;x.mh=x.h;if(x.maxWidth){x.mw=G(x.maxWidth,"x")-k-N;x.mw=x.w&&x.w<x.mw?x.w:x.mw}if(x.maxHeight){x.mh=G(x.maxHeight,"y")-C-T;x.mh=x.h&&x.h<x.mh?x.h:x.mh}n=x.href;H=setTimeout(function(){v.show()},100);if(x.inline){Q().hide().insertBefore(e(n)[0]).one(V,function(){e(this).replaceWith(p.children())});i(e(n))}else if(x.iframe){i(" ")}else if(x.html){i(x.html)}else if(Y(n)){e(O=new Image).addClass(I+"Photo").error(function(){x.title=false;i(Q("Error").text("This image could not be loaded"))}).load(function(){var e;O.onload=null;if(x.scalePhotos){r=function(){O.height-=O.height*e;O.width-=O.width*e};if(x.mw&&O.width>x.mw){e=(O.width-x.mw)/O.width;r()}if(x.mh&&O.height>x.mh){e=(O.height-x.mh)/O.height;r()}}if(x.h){O.style.marginTop=Math.max(x.h-O.height,0)/2+"px"}if(c[1]&&(A<c.length-1||x.loop)){O.style.cursor="pointer";O.onclick=function(){B.next()}}if($){O.style.msInterpolationMode="bicubic"}setTimeout(function(){i(O)},1)});setTimeout(function(){O.src=n},1)}else if(n){d.load(n,x.data,function(t,n,r){i(n==="error"?Q("Error").text("Request unsuccessful: "+r.statusText):e(this).contents())})}};B.next=function(){if(!_&&c[1]&&(A<c.length-1||x.loop)){A=A<c.length-1?A+1:0;B.load()}};B.prev=function(){if(!_&&c[1]&&(A||x.loop)){A=A?A-1:c.length-1;B.load()}};B.close=function(){if(M&&!D){D=true;M=false;et(W,x.onCleanup);h.unbind("."+I+" ."+K);r.fadeTo(200,0);i.stop().fadeTo(300,0,function(){i.add(r).css({opacity:1,cursor:"auto"}).hide();et(V);p.remove();setTimeout(function(){D=false;et(X,x.onClosed)},1)})}};B.element=function(){return e(L)};B.settings=j;P=function(e){if(!(e.button!==0&&typeof e.button!=="undefined"||e.ctrlKey||e.shiftKey||e.altKey)){e.preventDefault();nt(this)}};if(e.fn.delegate){e(t).delegate("."+q,"click",P)}else{e("."+q).live("click",P)}e(B.init)})(jQuery,document,this);bbyjsoop={};bbyjsoop.extend=function(e,t){function n(){}n.prototype=e.prototype;t.prototype=new n;t.prototype.constructor=e;t.baseConstructor=e;t.superClass=e.prototype};function CLog(e){this.tag=typeof e=="string"?e:"cLog";this.mode=jQuery.urlParam("debug",readCookie("cLogMode"))||0;if(this.mode&&this.mode!=0){if(console.log){this.init(e);return true}alert("Sorry, your browser does not support console logging. \nPlease install firebug or firebug lite.")}setCookie("cLogMode",0,-1);CLog.prototype.wr=function(){return false}}CLog.prototype.init=function(){this.shortChars=130;setCookie("cLogMode",this.mode,1);CLog.prototype.wr=this.wrOn;this.guide="Start cLog (mode:"+this.mode+") Guide: url param debug=0/off, !0/on, long/full output. Persistent until changed again.";this.wr(this.guide,this.tag)};CLog.prototype.wrOn=function(e,t){var n;e=!e?"console log request made with no data to log":e;t=t||this.tag;if(this.mode.toString().indexOf("long")==-1&&e.length>this.shortChars){e=e.substring(0,this.shortChars)+"..."}n=t+": "+e;try{console.log(n)}catch(r){}};function objectToString(e){var t=function n(e){var t=[],r;for(var i in e){if(e.hasOwnProperty(i)){r=e[i];if(r&&typeof r=="object"){if(r.constructor==Array){t[t.length]=i+":["+n(r).join(", ")+"]"}else{t[t.length]=i+":{"+n(r).join(", ")+"}"}}else{if(typeof r=="string"){t[t.length]=[i+': "'+r.toString()+'"']}else{if(r===null){t[t.length]=[i+": null"]}else if(r===undefined){t[t.length]=[i+": undefined"]}else{t[t.length]=[i+": "+r.toString()]}}}}}return t};return"{"+t(e).join(", ")+"}"}function BBYOn(){var e,t,n,r;this.cLog=new CLog("BBYOn");this.debug=this.cLog.mode==0?false:this.cLog.mode;e="constructor()",t="";this.cLog.wr(e);this.vars={urlBase:(location.hostname.indexOf("preview")>-1?"http://preview.bestbuy.com":"http://www.bestbuy.com")+"/site/Entertainment-Offers/null/pcmcat249300050019.c?id=pcmcat249300050019",urlNid:parseInt(jQuery.urlParam("nid",false),10)||false,urlTid:parseInt(jQuery.urlParam("tid",false),10)||false,urlVideoId:jQuery.urlParam("videoid",false),urlKalturaId:jQuery.urlParam("ss_kaltura_entryId",false),mnContext:false,relQty:parseInt(jQuery.urlParam("relContent",3),10)||3,idTypes:"nid, ss_kaltura_entryId, tid",displayMainContent:false,starImcSrcBase:"http://images.bestbuy.com/BestBuy_US/images/global/misc/ratings_star_",bbyonSiteLink:"http://www.bestbuyon.com/?utm_campaign=SeeMore&utm_medium=Link_BB&utm_source=bestbuy.com&utm_content=Module",imageRootURL:"http://www.bestbuyon.com/",enableABTesting:false,cookieLife:2};n=false,r=false;if(this.vars.urlNid){r="nid"}else if(this.vars.urlTid){r="tid"}else if(this.vars.urlVideoId||this.vars.urlKalturaId){r="ss_kaltura_entryId"}this.jsonp={max:3,interval:3e3,cStop:{}};this.solrQuery={urlProd:"http://content.bestbuyon.com",urlStage:"http://staging-content.bestbuyon.criticalmass.com",urlPath:"/solr/select/",start:"q=-tid:1487",types:" AND (ss_type:kaltura_entry2 OR ss_type:gallery OR ss_type:article)",notSymLinks:" AND -type:dotcom_symlink",fields:"&fl=changed,created,nid,sis_content_link,ss_feature_desc,ss_field_bbydotcom_main_image,ss_field_bbydotcom_thumb_image,ss_field_video_thumbnail,ss_kaltura_entryId,ss_type,title,type,sis_field_dotcom_slot",sort:"&sort=sis_field_dotcom_slot asc,sis_field_yellow_tag_rating desc,created desc",stdParams:"&start=0&indent=on&wt=json&qt=standard",callbackParam:"&json.wrf="};this.solrQuery.url=jQuery.urlParam("bbyonSolrDomain",this.solrQuery.urlProd)+this.solrQuery.urlPath;this.content={cache:{},mainNid:false,relatedNids:[],related:{}}}BBYOn.prototype.jsonpReq=function(e){var t,n,r,i,s,o,u="jsonpReq",a="";if(this.debug){a="(requestObj: "+objectToString(e)+")";this.cLog.wr(u+a)}t=[];if(typeof e.url!="string"||typeof e.query!="string"){t.push("missing url and/or query in request object")}if(typeof e.cbSuccess!="string"){t.push("missing cbSuccess string")}else if(typeof this[e.cbSuccess]!="function"){t.push("cbSuccess is not a function")}if(t.length>0){if(this.debug){this.cLog.wr(u+": "+t.join(", "))}return false}if(typeof e.cbFail!=="string"||typeof this[e.cbFail]!="function"){t.push("cbFail not a function, using default/doing nothing");e.cbFail="jsonpReqCbFailDefault"}e.cbParam=typeof e.cbParam=="string"||typeof e.cbParam===false?e.cbParam:"callback";e.attempts=typeof e.attempts=="number"?Math.min(e.attempts,this.jsonp.max):this.jsonp.max;e.interval=typeof e.interval=="number"?Math.round(e.interval):this.jsonp.interval;e.callStop=typeof e.callStop=="string"?e.callStop:e.cbSuccess;e.wrapper=typeof e.wrapper=="string"?e.wrapper:"bbyonjsonp";this.jsonp.cStop[e.callStop]=false;n=1;r=this;i=function(){clearInterval(s);if(r.jsonp.cStop[e.callStop]==false){if(r.debug){a=": sending request for cbSuccess "+e.cbSuccess+" attempt/max/interval: "+[n,e.attempts,e.interval].join("/");r.cLog.wr(u+a)}o(e);n++;if(n<=e.attempts){s=setInterval(i,e.interval)}else{r.cLog.wr(u+": reached max attempts for "+e.cbSuccess+", quiting.")}}else{if(r.debug){r.cLog.wr(u+": response already received for "+e.cbSuccess+", aborting further request attempts")}}};s=setInterval(i,0);o=function(e){$.jsonp({context:r,cache:true,url:e.url,callback:e.wrapper,data:encodeURI(e.query),callbackParameter:e.cbParam,success:function(t){try{this[e.cbSuccess](t)}catch(n){a=": success callback "+e.cbSuccess+" undefined/failed, exception caught with error: "+n.description;if(this.debug){this.cLog.wr(u+a)}}},error:function(e,t){a=": error sending GET request: "+t;if(this.debug){this.cLog.wr(u+a)}},complete:function(t,n){if(n.indexOf("success")<0){try{this[e.cbFail]()}catch(r){a=": fail callback "+e.cbFail+" undefined/failed, exception caught with error: "+r.description;if(this.debug){this.cLog.wr(u+a)}}}}})}};BBYOn.prototype.jsonpReqCbFailDefault=function(){};BBYOn.prototype.cacheContent=function(e){var t,n,r,i,s="cacheContent",o="";this.cLog.wr(s+"(content)("+typeof e+")");if(e&&e.response.numFound>0){t=e.response.docs,n=0;for(r=0;r<t.length;r++){i=t[r];if(i.type=="dotcom_symlink"&&parseInt(i.sis_content_link)!=NaN){i.link=this.getContentLink(i.sis_content_link)}else{i.link=this.getContentLink(i.nid)}i.displayDate=this.dateFormat(i.changed||i.created);this.content.cache[i.nid]=i;if(typeof i.tid!="undefined"){i.doPreroll=this.setDoPreroll(i.tid)}if(this.vars.displayMainContent&&(!this.content.mainNid||this.content.mainNid==false)){this.content.mainNid=i.nid;o+="main content: "}else{this.content.relatedNids.push(i.nid);if(this.content.related){this.content.related[i.nid]=i}o+="related/module content: "}this.cLog.wr(s+": "+o+i.nid+" with url: "+i.link);n++}this.cLog.wr(s+": cached data from query response")}else{this.cLog.wr(s+": no content to save")}return n};BBYOn.prototype.getContentLink=function(e,t){var n="getContentLink";if(this.debug){this.cLog.wr(n+"(id, idType)("+e+", "+t+")")}t=t||"nid";return this.vars.urlBase+"&"+t+"="+e};BBYOn.prototype.dateFormat=function(e){var t,n,r,i,s,o="dateFormat";if(this.debug){this.cLog.wr(o+"(contentDateStr)("+e+")")}if(!e||typeof e!="string"||e.length==0){return false}t=e;t=t.substring(0,10);n=t.substr(0,4);r=parseInt(t.substr(5,2));i=parseInt(t.substr(8,2));s=Date.replaceChars.longMonths[r-1]+" "+i+", "+n;if(this.debug){this.cLog.wr(o+": returning: "+s)}return s};BBYOn.prototype.loadSnippetData=function(e,t){var n,r,i,s,o,u="loadSnippetData";if(this.debug){this.cLog.wr(u+"(snippet, data)("+e+", "+objectToString(t)+")")}if(typeof e!="string"){if(this.debug){this.cLog.wr(u+": snippet not a string as expected")}return false}n=[];if(typeof t=="object"){for(r in t){i=t[r];i=typeof i=="number"||typeof i=="string"?i:"";s="{"+r+"}",o=new RegExp(s,"g");e=e.replace(o,i);n.push(r)}}if(this.debug){this.cLog.wr(u+": returning snippet with data loaded for: "+n.join())}return e};BBYOn.prototype.setSwitchCookie=function(e,t,n){var r="setSwitchCookie";if(this.debug){this.cLog.wr(r+"(switchVal, switchCookie, type)("+[e,t,n].join()+")")}if(!e||e==0||e=="false"){setCookie(t,0,-1);return false}e=n=="val"?e:true;setCookie(t,e,3);return e};BBYOn.prototype.getSetPrerollParams=function(){var e,t,n,r="getSetPrerollParams";if(this.debug){this.cLog.wr(r)}e=function(e){var t={params:false,page:e||false,mncc:jQuery.urlParam("mncc",false)};if(t.mncc){t.mncp=jQuery.urlParam("mncp","a000000");t.page=t.mncc+":"+t.mncp;return t}t.page=jQuery.urlParam("name",false)||t.page;if(t.page){return t}t.params=decodeURIComponent(readCookie("mnprp"))||false;t.page=decodeURIComponent(readCookie("mnContext"))||"ghp";return t};t=e(this.vars.mnContext);if(t.params===false||t.params=="false"){if(t.mncc){t.params=this.makePrerollParams(t.mncc,t.mncp)}else{n=this.getSiteZone(t.page);if(n){t.params="&zone="+n.zone+"&doubleclick.adTagUrl="+escape(n.prerollUrl)}}}this.vars.mnContext=t.page;setCookie("mnContext",decodeURIComponent(t.page),this.vars.cookieLife);this.vars.mnprp=t.params;setCookie("mnprp",decodeURIComponent(t.params),this.vars.cookieLife);if(this.debug){this.cLog.wr(r+": context: "+t.params+", "+t.page)}return t.params};BBYOn.prototype.makePrerollParams=function(e,t){var n,r,i="makePrerollParams";if(this.debug){this.cLog.wr(i)}if(typeof e==="string"&&typeof t==="string"){n="http://ad.doubleclick.net/pfadx/cm.bby."+e+"/"+e+";sz=5x5;dcmt=text/xml;ord=?";r="&zone="+t+"&doubleclick.adTagUrl="+escape(n);return r}return""};BBYOn.prototype.getSiteZone=function(e){var t,n,r="getSiteZone("+e+")";this.cLog.wr(r);if(typeof e!="string"){if(this.debug){this.cLog.wr(r+": page argument not a string as expected, returning false.")}return false}e=e.indexOf(" ")>-1?encodeURIComponent(e):e;t={ghp:{zone:"cm.bby.ghp/ghp",prerollUrl:"http://ad.doubleclick.net/pfadx/cm.bby.ghp/ghp;sz=5x5;dcmt=text/xml;ord=?"},"GHP-Panel":{zone:"cm.bby.ghp/ghp",prerollUrl:"http://ad.doubleclick.net/pfadx/cm.bby.ghp/ghp;sz=6x6;dcmt=text/xml;ord=?"}};n=t[e];if(!n){n="did not find site/zone for given page";if(this.debug){this.cLog.wr(r+": site/zone not found, returning false")}return false}if(this.debug){this.cLog.wr(r+": returning site/zone: "+objectToString(n))}return n};BBYOn.prototype.setDoPreroll=function(e){var t,n="setDoPreroll";if(this.debug){this.cLog.wr(n+"("+e.join()+")")}t=true;try{if(e.length>0&&(e.join()+",").indexOf("1806,")>-1){t=false}}catch(r){if(this.debug){this.cLog.wr(n+"error processing term identifiers (tids): "+r)}}return t};BBYOn.prototype.contentRenderVideo=function(e,t,n){var r,i,s,o,u,a,f,l="contentRenderVideo",c="";if(this.debug){this.cLog.wr(l+"(contentItem, inclRelProds)("+e.nid+", "+n+")")}if(!e){if(this.debug){this.cLog.wr(l+": no contentItem provided - aborting video render")}return false}if(!t||typeof t!="string"||t.length==0){t="video"}if(!n||n==false||n=="false"){n=false}else{n=true}r=e.doPreroll?this.vars.mnprp:"&doubleclick.preSequence=0";i={layoutId:"fullLarge"+r,k_watermark_click_path:e.url,pd_original_url:e.url,"omniture.account":"bbymainprod",widescreen:1};s={wmode:"opaque",allowFullScreen:"TRUE",allowScriptAccess:"always",allowNetworking:"all",flashvars:"autoPlay=true&shareBtnStartScreen.visible=false&externalInterfaceDisabled=false"};o=jQuery.urlParam("kuicid","5070921");u={url:"http://www.kaltura.com/kwidget/wid/_37945/entry_id/"+e.ss_kaltura_entryId+"/uiconf_id/"+o,htmlId:t,width:"640",height:"357"
,flshMinVer:"9",xpressInst:false,callback:null};if(this.debug){c=l+": running swfobject->Kaltura player with:"+" swfVars:"+objectToString(u)+" flashvars:"+objectToString(i)+" params:"+objectToString(s);this.cLog.wr(c)}if(typeof a=="undefined"){a=function(){function k(){if(w){return}try{var e=f.getElementsByTagName("body")[0].appendChild(z("span"));e.parentNode.removeChild(e)}catch(t){return}w=true;var n=h.length;for(var r=0;r<n;r++){h[r]()}}function L(e){if(w){e()}else{h[h.length]=e}}function A(t){if(typeof u.addEventListener!=e){u.addEventListener("load",t,false)}else{if(typeof f.addEventListener!=e){f.addEventListener("load",t,false)}else{if(typeof u.attachEvent!=e){W(u,"onload",t)}else{if(typeof u.onload=="function"){var n=u.onload;u.onload=function(){n();t()}}else{u.onload=t}}}}}function O(){if(c){M()}else{_()}}function M(){var n=f.getElementsByTagName("body")[0];var r=z(t);r.setAttribute("type",i);var s=n.appendChild(r);if(s){var o=0;(function(){if(typeof s.GetVariable!=e){var t=s.GetVariable("$version");if(t){t=t.split(" ")[1].split(",");N.pv=[parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10)]}}else{if(o<10){o++;setTimeout(arguments.callee,10);return}}n.removeChild(r);s=null;_()})()}else{_()}}function _(){var t=p.length;if(t>0){for(var n=0;n<t;n++){var r=p[n].id;var i=p[n].callbackFn;var s={success:false,id:r};if(N.pv[0]>0){var o=U(r);if(o){if(X(p[n].swfVersion)&&!(N.wk&&N.wk<312)){$(r,true);if(i){s.success=true;s.ref=D(r);i(s)}}else{if(p[n].expressInstall&&P()){var u={};u.data=p[n].expressInstall;u.width=o.getAttribute("width")||"0";u.height=o.getAttribute("height")||"0";if(o.getAttribute("class")){u.styleclass=o.getAttribute("class")}if(o.getAttribute("align")){u.align=o.getAttribute("align")}var a={};var f=o.getElementsByTagName("param");var l=f.length;for(var c=0;c<l;c++){if(f[c].getAttribute("name").toLowerCase()!="movie"){a[f[c].getAttribute("name")]=f[c].getAttribute("value")}}H(u,a,r,i)}else{B(o);if(i){i(s)}}}}}else{$(r,true);if(i){var h=D(r);if(h&&typeof h.SetVariable!=e){s.success=true;s.ref=h}i(s)}}}}}function D(n){var r=null;var i=U(n);if(i&&i.nodeName=="OBJECT"){if(typeof i.SetVariable!=e){r=i}else{var s=i.getElementsByTagName(t)[0];if(s){r=s}}}return r}function P(){return!E&&X("6.0.65")&&(N.win||N.mac)&&!(N.wk&&N.wk<312)}function H(t,n,r,i){E=true;y=i||null;b={success:false,id:r};var o=U(r);if(o){if(o.nodeName=="OBJECT"){m=j(o);g=null}else{m=o;g=r}t.id=s;if(typeof t.width==e||!/%$/.test(t.width)&&parseInt(t.width,10)<310){t.width="310"}if(typeof t.height==e||!/%$/.test(t.height)&&parseInt(t.height,10)<137){t.height="137"}f.title=f.title.slice(0,47)+" - Flash Player Installation";var a=N.ie&&N.win?"ActiveX":"PlugIn",l="MMredirectURL="+u.location.toString().replace(/&/g,"%26")+"&MMplayerType="+a+"&MMdoctitle="+f.title;if(typeof n.flashvars!=e){n.flashvars+="&"+l}else{n.flashvars=l}if(N.ie&&N.win&&o.readyState!=4){var c=z("div");r+="SWFObjectNew";c.setAttribute("id",r);o.parentNode.insertBefore(c,o);o.style.display="none";(function(){if(o.readyState==4){o.parentNode.removeChild(o)}else{setTimeout(arguments.callee,10)}})()}F(t,n,r)}}function B(e){if(N.ie&&N.win&&e.readyState!=4){var t=z("div");e.parentNode.insertBefore(t,e);t.parentNode.replaceChild(j(e),t);e.style.display="none";(function(){if(e.readyState==4){e.parentNode.removeChild(e)}else{setTimeout(arguments.callee,10)}})()}else{e.parentNode.replaceChild(j(e),e)}}function j(e){var n=z("div");if(N.win&&N.ie){n.innerHTML=e.innerHTML}else{var r=e.getElementsByTagName(t)[0];if(r){var i=r.childNodes;if(i){var s=i.length;for(var o=0;o<s;o++){if(!(i[o].nodeType==1&&i[o].nodeName=="PARAM")&&!(i[o].nodeType==8)){n.appendChild(i[o].cloneNode(true))}}}}}return n}function F(n,r,s){var o,u=U(s);if(N.wk&&N.wk<312){return o}if(u){if(typeof n.id==e){n.id=s}if(N.ie&&N.win){var a="";for(var f in n){if(n[f]!=Object.prototype[f]){if(f.toLowerCase()=="data"){r.movie=n[f]}else{if(f.toLowerCase()=="styleclass"){a+=' class="'+n[f]+'"'}else{if(f.toLowerCase()!="classid"){a+=" "+f+'="'+n[f]+'"'}}}}}var l="";for(var c in r){if(r[c]!=Object.prototype[c]){l+='<param name="'+c+'" value="'+r[c]+'" />'}}u.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+a+">"+l+"</object>";d[d.length]=n.id;o=U(n.id)}else{var h=z(t);h.setAttribute("type",i);for(var p in n){if(n[p]!=Object.prototype[p]){if(p.toLowerCase()=="styleclass"){h.setAttribute("class",n[p])}else{if(p.toLowerCase()!="classid"){h.setAttribute(p,n[p])}}}}for(var v in r){if(r[v]!=Object.prototype[v]&&v.toLowerCase()!="movie"){I(h,v,r[v])}}u.parentNode.replaceChild(h,u);o=h}}return o}function I(e,t,n){var r=z("param");r.setAttribute("name",t);r.setAttribute("value",n);e.appendChild(r)}function q(e){var t=U(e);if(t&&t.nodeName=="OBJECT"){if(N.ie&&N.win){t.style.display="none";(function(){if(t.readyState==4){R(e)}else{setTimeout(arguments.callee,10)}})()}else{t.parentNode.removeChild(t)}}}function R(e){var t=U(e);if(t){for(var n in t){if(typeof t[n]=="function"){t[n]=null}}t.parentNode.removeChild(t)}}function U(e){var t=null;try{t=f.getElementById(e)}catch(n){}return t}function z(e){return f.createElement(e)}function W(e,t,n){e.attachEvent(t,n);v[v.length]=[e,t,n]}function X(e){var t=N.pv,n=e.split(".");n[0]=parseInt(n[0],10);n[1]=parseInt(n[1],10)||0;n[2]=parseInt(n[2],10)||0;return t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]?true:false}function V(n,r,i,s){if(N.ie&&N.mac){return}var o=f.getElementsByTagName("head")[0];if(!o){return}var u=i&&typeof i=="string"?i:"screen";if(s){S=null;x=null}if(!S||x!=u){var a=z("style");a.setAttribute("type","text/css");a.setAttribute("media",u);S=o.appendChild(a);if(N.ie&&N.win&&typeof f.styleSheets!=e&&f.styleSheets.length>0){S=f.styleSheets[f.styleSheets.length-1]}x=u}if(N.ie&&N.win){if(S&&typeof S.addRule==t){S.addRule(n,r)}}else{if(S&&typeof f.createTextNode!=e){S.appendChild(f.createTextNode(n+" {"+r+"}"))}}}function $(e,t){if(!T){return}var n=t?"visible":"hidden";if(w&&U(e)){U(e).style.visibility=n}else{V("#"+e,"visibility:"+n)}}function J(t){var n=/[\\\"<>\.;]/;var r=n.exec(t)!=null;return r&&typeof encodeURIComponent!=e?encodeURIComponent(t):t}var e="undefined",t="object",n="Shockwave Flash",r="ShockwaveFlash.ShockwaveFlash",i="application/x-shockwave-flash",s="SWFObjectExprInst",o="onreadystatechange",u=window,f=document,l=navigator,c=false,h=[O],p=[],d=[],v=[],m,g,y,b,w=false,E=false,S,x,T=true,N=function(){var s=typeof f.getElementById!=e&&typeof f.getElementsByTagName!=e&&typeof f.createElement!=e,o=l.userAgent.toLowerCase(),a=l.platform.toLowerCase(),h=a?/win/.test(a):/win/.test(o),p=a?/mac/.test(a):/mac/.test(o),d=/webkit/.test(o)?parseFloat(o.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,v=!+"1",m=[0,0,0],g=null;if(typeof l.plugins!=e&&typeof l.plugins[n]==t){g=l.plugins[n].description;if(g&&!(typeof l.mimeTypes!=e&&l.mimeTypes[i]&&!l.mimeTypes[i].enabledPlugin)){c=true;v=false;g=g.replace(/^.*\s+(\S+\s+\S+$)/,"$1");m[0]=parseInt(g.replace(/^(.*)\..*$/,"$1"),10);m[1]=parseInt(g.replace(/^.*\.(.*)\s.*$/,"$1"),10);m[2]=/[a-zA-Z]/.test(g)?parseInt(g.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof u.ActiveXObject!=e){try{var y=new ActiveXObject(r);if(y){g=y.GetVariable("$version");if(g){v=true;g=g.split(" ")[1].split(",");m=[parseInt(g[0],10),parseInt(g[1],10),parseInt(g[2],10)]}}}catch(b){}}}return{w3:s,pv:m,wk:d,ie:v,win:h,mac:p}}(),C=function(){if(!N.w3){return}if(typeof f.readyState!=e&&f.readyState=="complete"||typeof f.readyState==e&&(f.getElementsByTagName("body")[0]||f.body)){k()}if(!w){if(typeof f.addEventListener!=e){f.addEventListener("DOMContentLoaded",k,false)}if(N.ie&&N.win){f.attachEvent(o,function(){if(f.readyState=="complete"){f.detachEvent(o,arguments.callee);k()}});if(u==top){(function(){if(w){return}try{f.documentElement.doScroll("left")}catch(e){setTimeout(arguments.callee,0);return}k()})()}}if(N.wk){(function(){if(w){return}if(!/loaded|complete/.test(f.readyState)){setTimeout(arguments.callee,0);return}k()})()}A(k)}}();var K=function(){if(N.ie&&N.win){window.attachEvent("onunload",function(){var e=v.length;for(var t=0;t<e;t++){v[t][0].detachEvent(v[t][1],v[t][2])}var n=d.length;for(var r=0;r<n;r++){q(d[r])}for(var i in N){N[i]=null}N=null;for(var s in a){a[s]=null}a=null})}}();return{registerObject:function(e,t,n,r){if(N.w3&&e&&t){var i={};i.id=e;i.swfVersion=t;i.expressInstall=n;i.callbackFn=r;p[p.length]=i;$(e,false)}else{if(r){r({success:false,id:e})}}},getObjectById:function(e){if(N.w3){return D(e)}},embedSWF:function(n,r,i,s,o,u,a,f,l,c){var h={success:false,id:r};if(N.w3&&!(N.wk&&N.wk<312)&&n&&r&&i&&s&&o){$(r,false);L(function(){i+="";s+="";var p={};if(l&&typeof l===t){for(var d in l){p[d]=l[d]}}p.data=n;p.width=i;p.height=s;var v={};if(f&&typeof f===t){for(var m in f){v[m]=f[m]}}if(a&&typeof a===t){for(var g in a){if(typeof v.flashvars!=e){v.flashvars+="&"+g+"="+a[g]}else{v.flashvars=g+"="+a[g]}}}if(X(o)){var y=F(p,v,r);if(p.id==r){$(r,true)}h.success=true;h.ref=y}else{if(u&&P()){p.data=u;H(p,v,r,c);return}else{$(r,true)}}if(c){c(h)}})}else{if(c){c(h)}}},switchOffAutoHideShow:function(){T=false},ua:N,getFlashPlayerVersion:function(){return{major:N.pv[0],minor:N.pv[1],release:N.pv[2]}},hasFlashPlayerVersion:X,createSWF:function(e,t,n){if(N.w3){return F(e,t,n)}else{return undefined}},showExpressInstall:function(e,t,n,r){if(N.w3&&P()){H(e,t,n,r)}},removeSWF:function(e){if(N.w3){q(e)}},createCSS:function(e,t,n,r){if(N.w3){V(e,t,n,r)}},addDomLoadEvent:L,addLoadEvent:A,getQueryParamValue:function(e){var t=f.location.search||f.location.hash;if(t){if(/\?/.test(t)){t=t.split("?")[1]}if(e==null){return J(t)}var n=t.split("&");for(var r=0;r<n.length;r++){if(n[r].substring(0,n[r].indexOf("="))==e){return J(n[r].substring(n[r].indexOf("=")+1))}}}return""},expressInstallCallback:function(){if(E){var e=U(s);if(e&&m){e.parentNode.replaceChild(m,e);if(g){$(g,true);if(N.ie&&N.win){m.style.display="block"}}if(y){y(b)}}E=false}}}}()}if(this.debug){this.cLog.wr(l+": eval typeof swfobject: "+typeof a)}a.embedSWF(u.url,u.htmlId,u.width,u.height,u.flshMinVer,u.xpressInst,i,s,{},false);if(n){f=this.relProductsGetSkus(e);if(f){this.relProductsFetch(f)}}};if(location.href.indexOf("/pcmcat249300050019.c?id=pcmcat249300050019")>-1){loadjscssfile(imgServer+"en_US/images/global/on/css/bbyon2-page-min.css","css");loadjscssfile("http://www.bestbuyon.com/sites/all/themes/bbyon_cm_theme/css/surveyAd_styles.css","css")}function BBYOnMod(){var e;BBYOnMod.baseConstructor.call(this);this.cLog.tag+=": BBYOnMod";e="constructor()";this.cLog.wr(e)}bbyjsoop.extend(BBYOn,BBYOnMod);BBYOnMod.prototype.init=function(e,t,n,r,i){var s="init";if(this.debug){this.cLog.wr(s+"(args: "+objectToString(arguments)+")")}this.vars.mnContext=typeof t=="string"?decodeURIComponent(t):false;this.getSetPrerollParams();this.vars.modFormat0=0,this.vars.modFormat1=1,this.vars.modFormat2=2,this.vars.modFormat3=3,this.vars.modFormats=[0,1,2];this.vars.modFormatDefault=this.vars.modFormat0;this.vars.modFormat=this.modFormatGet(i);if(this.debug){this.cLog.wr(s+": returned modFormat: "+this.vars.modFormat)}if(this.debug){this.cLog.wr(s+": object state this.vars: "+objectToString(this.vars))}this.contentFetch(e)};BBYOnMod.prototype.modFormatGet=function(e){var t,n="modFormatGet";if(this.debug){this.cLog.wr(n+"(format)("+e+")")}t=Number(jQuery.urlParam("bbyonModFormat",-1));if(this.modFormatIsValid(t)){if(this.debug){this.cLog.wr(n+": returning valid url override format "+t)}return t}if(this.vars.enableABTesting){t=this.modFormatABTest(e);if(this.modFormatIsValid(t)){if(this.debug){this.cLog.wr(n+": returning AB Testing format "+t)}return t}}if(this.modFormatIsValid(e)){if(this.debug){this.cLog.wr(n+": returning given valid format "+e)}return e}if(this.debug){this.cLog.wr(n+": returning default format "+this.vars.modFormatDefault)}return this.vars.modFormatDefault};BBYOnMod.prototype.modFormatABTest=function(e){var t="modFormatABTest";if(this.debug){this.cLog.wr(t+"(format)("+e+")")}return e};BBYOnMod.prototype.modFormatIsValid=function(e){var t,n,r="modFormatIsValid";if(this.debug){this.cLog.wr(r+"(format)("+e+")")}t=false;if(typeof e=="number"){for(n=0;n<this.vars.modFormats.length;n++){if(this.vars.modFormats[n]==e){t=true}}}if(this.debug){this.cLog.wr(r+": "+e+": "+t)}return t};BBYOnMod.prototype.contentFetch=function(e){var t,n,r="contentFetch";if(this.debug){this.cLog.wr(r+"(tid)("+e+")")}if(!this.vars.urlTid){e=e||1630}else{e=this.vars.urlTid}this.vars.relQty=this.vars.modFormat==1||this.vars.modFormat==2?4:this.vars.relQty;t=this.solrQuery.start+" AND tid:"+e+this.solrQuery.types+this.solrQuery.fields+this.solrQuery.sort+this.solrQuery.stdParams+"&rows="+this.vars.relQty;n=this.jsonpReq({url:this.solrQuery.url,query:t,cbSuccess:"contentFetchCB",cbParam:"json.wrf"})};BBYOnMod.prototype.contentFetchCB=function(e){var t,n="contentFetchCB";if(this.debug){this.cLog.wr(n+"(data: "+objectToString(e)+")")}if(!this.jsonp.cStop[n]||this.jsonp.cStop[n]==false){t=Number(this.cacheContent(e));if(t>0){this.jsonp.cStop[n]=true;this.contentRender(this.content.cache)}else{if(this.debug){this.cLog.wr(n+": no related content cached - aborting")}}}else{if(this.debug){this.cLog.wr(n+": redundant server response - occluding")}}};BBYOnMod.prototype.getContentItemBySisFieldDotcomSlot=function(e,t){var n,r,i;for(n in e){r=e[n];if(r.sis_field_dotcom_slot===t){return r}}t--;i=0;for(n in e){r=e[n];if(i===t){return r}i++}};BBYOnMod.prototype.contentRender=function(e){var t,n,r,s,o,u,a,f,l,c,h,p,d="contentRender";if(this.debug){this.cLog.wr(d+"("+e+")")}t=this.vars.modFormat!=0?"Best Buy Video":"Videos &amp; More",n='<div class="bbyonMod">'+'<div class="modHeader">'+'<h2 class="modTitle">'+t+"</h2>"+'<div class="bbyonLink">'+'<a href="'+this.vars.bbyonSiteLink+'">More at Best Buy On'+'<span class="rasquo">&#155;</span>'+"</a>"+"</div>"+"</div>"+'<div class="modPoster"></div><!-- end body of .modPoster -->'+'<div class="modBody"></div><!-- end .modBody -->'+'<div class="bbyonLink">'+'<a href="'+this.vars.bbyonSiteLink+'">More at Best Buy On'+'<span class="rasquo">&#155;</span>'+"</a>"+"</div>"+"</div><!-- end .bbyonMod -->",r="trackEvent.event('event.link',{video:'video launch'})",s='<a class="item {class}" onclick="'+r+'" href="{link}" title="{desc}">'+'<img class="itemThumb" src="http://www.bestbuyon.com/{thumb}" alt="{title}" />'+'<div class="itemCaption">'+'<h3 class="itemTitle">{title}</h3>'+'<div class="itemDesc">{desc}</div>'+"</div>"+'<div class="itemPosterCache">'+'<img src="http://www.bestbuyon.com/{poster}" alt="{title}" />'+"<div>{desc}</div>"+"</div>"+"</a>",o="",u=0,a=[];try{for(i in e){f=this.getContentItemBySisFieldDotcomSlot(e,u+1);l={"class":"item"+u,link:f["link"],title:f["title"],desc:f["ss_feature_desc"],thumb:f["ss_field_video_thumbnail"],poster:f["ss_field_bbydotcom_main_image"]};o+=this.loadSnippetData(s,l);a.push(f.nid+"("+f.sis_content_link+")");u++}if(this.debug){this.cLog.wr(d+": loaded for nids(origins) "+a.join(", ")+": "+o)}if(this.vars.modFormat==2){$("#bbyon").hide();$("#footer").before($("#bbyon"))}$("#bbyon").addClass("modFormat"+this.vars.modFormat);$("#on-loading").html(n);$("#bbyon .modBody").html(o);$("#bbyon").show();if(this.vars.modFormat==0||this.vars.modFormat==3){c=$("#bbyon .bbyonMod .item0 .itemPosterCache").html(),h=$("#bbyon .bbyonMod .item0").attr("href"),p='<a class="posterLink" href="'+h+'" onclick="'+r+'" >'+c+"</a>";$("#bbyon .modPoster").html(p);$("#bbyon .item0").addClass("active");this.modBindPosterBehavior()}if(this.debug){this.cLog.wr(d+": module render complete")}}catch(v){if(this.debug){this.cLog.wr(d+": failed to load/render media into template html")}}};BBYOnMod.prototype.modBindPosterBehavior=function(){var e="modBindPosterBehavior";if(this.debug){this.cLog.wr(e)}$("#bbyon .item").mouseover(function(){$("#bbyon .item").removeClass("active");$(this).addClass("active");$("#bbyon .posterLink").html($("div.itemPosterCache",this).html());$("#bbyon .posterLink").attr("href",$(this).attr("href"));$("#bbyon .posterLink").attr("onclick",$(this).attr("onclick"))})};function BBYOnPanelLB(){var e;BBYOnPanelLB.baseConstructor.call(this);this.cLog.tag+=": BBYOnPanelLB";e="constructor()";this.cLog.wr(e)}bbyjsoop.extend(BBYOn,BBYOnPanelLB);BBYOnPanelLB.prototype.init=function(e){var t,n="init";if(this.debug){this.cLog.wr(n+"(spotlightObj)("+objectToString(e)+")")}if(!e||typeof e!="object"){if(this.debug){this.cLog.wr(n+": no spotlightObj provided - aborting")}return false}e.id=parseInt(e.id);e.id=isNaN(e.id)?1630:e.id;e.idType=e.idType!="nid"?"tid":e.idType;this.vars.mnContext=typeof e.page=="string"?e.page:false;e.htmlElem=typeof e.htmlElem!="string"?"#bbyonSpotlight":e.htmlElem;this.getSetPrerollParams();this.vars.displayMainContent=true;this.solrQuery.fields="&fl=nid,ss_feature_desc,ss_field_bbydotcom_main_image,ss_kaltura_entryId,ss_type,tid,title,url";this.vars.spotlightObj=e;t=this;$(e.htmlElem).on("click",function(n){n.preventDefault();t.contentFetch(e.id,e.idType)});if(this.debug){this.cLog.wr(n+": initialized")}};BBYOnPanelLB.prototype.contentFetch=function(e,t){var n,r,i="contentFetch";if(this.debug){this.cLog.wr(i+"(id, idType)("+e+", "+t+")")}if(this.debug){this.cLog.wr(i+": looking for content in cache: this.content.cache["+e+"]: "+this.content.cache[e])}if(t==="nid"&&this.content.cache[e]){if(this.debug){this.cLog.wr(i+": found in cache, skipping query: "+this.content.cache[e])}this.content.mainNid=e;this.contentRender(this.content.cache[this.content.mainNid])}else{if(this.debug){this.cLog.wr(i+": not in cache or no cache defined, running query")}n=this.solrQuery.start+" AND "+t+":"+e+this.solrQuery.types+this.solrQuery.fields+this.solrQuery.sort+this.solrQuery.stdParams+"&rows=1";r=this.jsonpReq({url:this.solrQuery.url,query:n,cbSuccess:"contentFetchCB",cbParam:"json.wrf"})}};BBYOnPanelLB.prototype.contentFetchCB=function(e){var t,n="contentFetchCB";if(this.debug){this.cLog.wr(n+"(data: "+objectToString(e)+")")}if(typeof this.jsonp.cStop[n]=="undefined"||this.jsonp.cStop[n]==false){t=Number(this.cacheContent(e));if(t>0){this.jsonp.cStop[n]=true;this.contentRender(this.content.cache[this.content.mainNid])}else{if(this.debug){this.cLog.wr(n+": no content in cache - aborting")}}}else{if(this.debug){this.cLog.wr(n+": redundant server response - occluding")}}};BBYOnPanelLB.prototype.contentRender=function(e){var t,n="contentRender";if(this.debug){this.cLog.wr(n+"(contentItem: "+e.nid+")")}if(!e){if(this.debug){this.cLog.wr(n+": no content data - aborting")}return false}if(this.debug){this.cLog.wr(n+": launching light box for contentItem.ss_type: "+e.ss_type+" title: "+e.title)}t='<div id="bbyon_video"><div id="bbyonLBVideo"></div></div>';modalManager.show("bbyonPanelLB",{html:t,title:e.title});modalManager.resize({height:365,width:648,box:"outer"});switch(e.ss_type){case"kaltura_entry2":this.contentRenderVideo(e,"bbyonLBVideo");break;case"gallery":break;case"article":break;default:}return true};if(location.href.indexOf("/pcmcat249300050019.c?id=pcmcat249300050019")==-1){bbyon=new BBYOnMod}bbyonPanelLB=new BBYOnPanelLB;jQuery(document).ready(function(){var e;jQuery.ajaxSetup({error:function(e,t,n,r){if(console&&console.log){console.log("bbyon2: ajax error: "+n.url+" / "+r)}}});e=jQuery.urlParam("bbyonSpotlightTest",false);if(typeof templateName=="string"&&templateName=="GHP"&&e){$("#flashcontent").append('<h1 id="bbyonSpotlightTest">Launch GHP Spotlight LB</h1>');bbyonPanelLB.init({id:"2501",idType:"nid",page:"GHP-Panel",htmlElem:"#bbyonSpotlightTest"})}});function bbyBrowsersMsg(){if(bbyBrowsers){if(readCookie("bby-browsers")==null){$.colorbox({html:'<div id="browsers"><p>For a better experience on BestBuy.com and other sites, please upgrade <br/>to a modern browser.  Here are some choices:</p><ul><li><a class="browsers-firefox" href="http://www.mozilla.com/en-US/firefox/"><span>Firefox</span></a></li><li><a class="browsers-chrome" href="http://www.google.com/chrome"><span>Chrome</span></a></li><li><a class="browsers-safari" href="http://www.apple.com/safari/download/"><span>Safari</span></a></li><li><a class="browsers-ie" href="http://www.microsoft.com/windows/internet-explorer/worldwide-sites.aspx"><span>Internet<br/>Explorer 8</span></a></li></ul></div>',width:410,initialWidth:410,title:"Hey, we see you&#39;re using an outdated browser."});setCookie("bby-browsers","on",30)}}}MP={Version:"1.0.22a",Domains:{"eshttp:":"espanol.bestbuy.com","eshttps:":"espanol-ssl.bestbuy.com"},SrcLang:"en",UrlLang:"mp_js_current_lang",SrcUrl:decodeURIComponent("mp_js_orgin_url"),init:function(){if(MP.UrlLang.indexOf("p_js_")==1){MP.SrcUrl=window.top.document.location.href;MP.UrlLang=MP.SrcLang}},getCookie:function(e){var t=document.cookie.indexOf(e+"=");if(t<0)return null;t=t+e.length+1;var n=document.cookie.indexOf(";",t);if(n<0)n=document.cookie.length;while(document.cookie.charAt(t)==" "){t++}return unescape(document.cookie.substring(t,n))},setCookie:function(e,t,n,r){var i=e+"="+escape(t);if(n)i+="; path="+n;if(r)i+="; domain="+r;var s=new Date;s.setTime(s.getTime()+1e3*60*60*24*365);i+="; expires="+s.toUTCString();document.cookie=i},switchLanguage:function(e){if(e!=MP.SrcLang){var t=document.createElement("SCRIPT");t.src=location.protocol+"//"+MP.Domains[e+location.protocol]+"/"+MP.SrcLang+e+"/?1023749632;"+encodeURIComponent(MP.SrcUrl);document.body.appendChild(t)}else if(e==MP.SrcLang&&MP.UrlLang!=MP.SrcLang){var t=document.createElement("SCRIPT");t.src=location.protocol+"//"+MP.Domains[MP.UrlLang+location.protocol]+"/"+MP.SrcLang+MP.UrlLang+"/?1023749634;"+encodeURIComponent(location.href);document.body.appendChild(t)}return false},switchToLang:function(e){window.top.location.href=e}}}globalJSIncluded=true;jQuery.fn.bby_slider=function(e){var t={init:function(e){return this.each(function(){var t=jQuery(this);var n=t.parent().parent();t.data("bby-slider-options",e);var r=e.viewport;var i=e.content;r.css("padding-left","0px");var s=i.find("div.bby-slider-item");var o=s.first();var u=s.last();o.addClass("bby-slider-item-first");u.addClass("bby-slider-item-last");var a=s.eq(1).outerWidth(true);var f=o.outerWidth(true);var l=u.outerWidth(true);var c=a*(s.length-2)+f+l;i.css("width",c+"px");if(c>r.width()){t.slider({slide:function(e,t){if(i.width()>r.width())i.css("margin-left",Math.round(t.value/100*(r.width()-i.width()))+"px");else i.css("margin-left",0)}});n.show();var h=r.width()-i.width();var p=i.css("margin-left")==="auto"?0:parseInt(i.css("margin-left"));var d=Math.round(p/h*100);$(this).slider("value",d)}else n.hide()})},update:function(){return this.each(function(){var e=$(this).data("bby-slider-options");var t=e.content.find("div.bby-slider-item");t.removeClass("bby-slider-item-first");t.removeClass("bby-slider-item-last");$(this).bby_slider(e)})},addItem:function(e,t){if(typeof t=="undefined")var t;return this.each(function(){var n=$(this);var r=n.data("bby-slider-options");var i=r.content;if(typeof t=="undefined")t=-1;if(t==-1||t>=i.children().length-2)i.children().last().before(e);else if(t<=0)i.prepend(e);else i.children().eq(t).before(e);n.bby_slider("update")})},removeItem:function(e){return this.each(function(){var t=$(this).data("bby-slider-options");var n=t.content;n.children().eq(e).remove()})},itemCount:function(){var e=$(this).data("bby-slider-options");var t=e.content;return t.children().length-1}};if(t[e])return t[e].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof e==="object"||!e)return t.init.apply(this,arguments);else jQuery.error("Method "+e+" does not exist on jQuery.bby_slider")};if(typeof wS=="undefined"){wS=function(){}}jQuery.fn.bbySlider=jQuery.fn.bby_slider;$(document).ready(function(){var e=$("#paymentform div.ctt-gs-paymentMethod");if(e.length>0){$("#paypalContinue").empty()}});