/* UI BUILD: Thursday, Jan 24 2013 at  4:14:54 AM */

"use strict";function google_ad_request_done(e){google_display_ads(e)}function google_afs_request_done(e){google_display_ads(e)}function google_display_ads(e){function u(e){var e=e||"",t='<div class="google-ads-wrapper">',n=e.indexOf("popup")>-1?'<h3>Ads by Google</h3><h4><a class="google_explain" href="#" onclick="GoogleAds.google_msg();return false;">What&#39;s this?</a></h4>':"<h3>Ads by Google</h3>",r=e.indexOf("narrow")>-1?'<div id="google-ads-narrow"></div>':'<div id="google-ads"></div>',i='</div><div class="clearer"></div>',s=t+n+r+i;return s}var t,n,r,i,s,o;if(getQueryVariable("google")!==undefined){}t=[],i=0,s=0;for(n=0;n<e.length;n++){if(getQueryVariable("google")!==undefined){}t[n]='<div class="google-ad ';if(e[n].type=="text/narrow"||GoogleAds.google_case==6&&i>=4){s++;t[n]+=" google-narrow"}else{i++}t[n]+='"><a class="google-ad-title" href="'+e[n].url+'" target="_blank">'+e[n].line1+"</a><br/>"+'<span class="google-ad-text">'+e[n].line2;if(e[n].type=="text/narrow"||GoogleAds.google_case==6||GoogleAds.google_case==7){t[n]+=" "+e[n].line3}t[n]+="</span>"+'<br/><a class="google-ad-url" href="'+e[n].url+'" target="_blank">';if(e[n].type=="text/narrow"||GoogleAds.google_case==6&&i>=4){o=e[n].visible_url.replace("/b>","xxx");o=o.replace("/b&gt","xxxxx");if(o.indexOf("/")!=-1){e[n].visible_url=e[n].visible_url.substr(0,o.indexOf("/"))}while(e[n].visible_url.indexOf(".")!=e[n].visible_url.lastIndexOf(".")){e[n].visible_url=e[n].visible_url.substr(e[n].visible_url.indexOf(".")+1,e[n].visible_url.length)}}t[n]+=e[n].visible_url;t[n]+="</a></div>"}if(typeof t[0]!=="undefined"){if(getQueryVariable("google")!==undefined){}switch(GoogleAds.google_case){case 0:case 2:case 1:case 4:if(i>0){$("#btm-padbar").before(u("popup"))}if(s>0){$("#leftcol .narrow").after(u("popup narrow"))}break;case 3:if(i>0){$("#newsearch").after(u("popup"))}break;case 5:break;case 6:if(i>0&&$("#pdptabs").length>0){$("#pdptabs").after(u())}if(s>0){$("#servicescol").append(u("narrow"))}break;case 7:if(i>0){$("#main").append(u())}break}for(r=0;r<t.length;r++){if(t[r].indexOf("google-narrow")>-1){$("#google-ads-narrow").append(t[r])}else{$("#google-ads").append(t[r])}}$("#google-ads").append('<div class="clearer"></div>')}else{if(getQueryVariable("google")!==undefined){}}}function GoogleCSA(){this.tag="GoogleCSA:";this.adCase=GoogleAds.google_case;if(typeof this.adCase==="number"){this.initAds()}else{}}var google_afs_qry_ctxt,google_afs_qry_lnk,google_afs_client,google_afs_channel,google_afs_query,google_afs_gm,google_afs_ad,google_afs_adpage,google_afs_oe,google_afs_adsafe,google_afs_adtest,google_afs_hl,google_ad_client,google_ad_output,google_max_num_ads,google_ad_channel,google_ad_type,google_safe,google_encoding,google_adtest,google_language,google_markup,google_subcase,GoogleAds={isSpanish:imgServer.indexOf("espanol")>-1,google_case:null,google_track_channel:"",google_check_site:function(){if($("#btm-padbar").length>0&&catid==="pcat17071"){this.google_case=1;return true}else if($("#btm-padbar").length>0&&getQueryVariable("searchterm")!==undefined){this.google_case=0;return true}else if($("#searchstatered").length>0&&$("#searchstatered").html().indexOf("We didn't find any matches")!==-1){this.google_case=3;return true}else if($("#searchstate").length>0&&$("#btm-padbar").length>0){this.google_case=4;return true}else if($("#pdptabs").length>0){this.google_case=6;this.google_subcase="pdp";return true}else if(document.title=="Deal of the Day"){this.google_case=7;this.google_subcase="dotd";return true}else{return false}},google_define_query:function(){var e="",t=getQueryVariable("sc"),n=0;switch(this.google_case){case 0:google_afs_ad="w4n3";google_afs_query=getQueryVariable("searchterm");google_afs_qry_lnk=getQueryVariable("searchterm");google_afs_client=this.isSpanish?"bestbuy-alt1_js":"bestbuy-alt2_js";google_afs_channel=this.isSpanish?"searchcatpage-alt1":"searchcatpage";break;case 1:google_afs_ad="w4n3";google_afs_query=getQueryVariable("st").replace(/\+/g," ");google_afs_qry_lnk=getQueryVariable("st").replace(/\+/g," ");if(google_afs_query==null){google_afs_query=getQueryVariable("searchterm").replace(/\+/g," ");google_afs_qry_lnk=getQueryVariable("searchterm").replace(/\+/g," ")}if(google_afs_query.indexOf("_")!==-1){if($("#listView div.hproduct:first h3 a").html()===null){google_afs_query=google_afs_query.replace(/_/g," ")}else{google_afs_query=$("#listView div.hproduct:first h3 a").html()}google_afs_client=this.isSpanish?"bestbuy-alt1_js":"bestbuy-alt2_js";google_afs_channel=this.isSpanish?"altcategory-alt1":"altcategory"}else if(/^[0-9][0-9][0-9][0-9][0-9][0-9][0-9]/.test(google_afs_query)){google_afs_query=$("#listView div.hproduct:first h3 a").html();google_afs_client=this.isSpanish?"bestbuy-alt1_js":"bestbuy-alt2_js";google_afs_channel=this.isSpanish?"search-alt1":"search"}else{switch(t){case"TVVideoSP":google_afs_query=google_afs_query+" TV Video";break;case"audioSP":google_afs_query=google_afs_query+" Audio";break;case"carSP":google_afs_query=google_afs_query+" Car";break;case"abCameraCamcorderSP":google_afs_query=google_afs_query+" Cameras and Camcorders";break;case"abComputerSP":google_afs_query=google_afs_query+" Computers";break;case"abSoftwareSP":google_afs_query=google_afs_query+" Software";break;case"phoneOfficeSP":google_afs_query=google_afs_query+" Phones and Office";break;case"musicSP":google_afs_query=google_afs_query+" Music";break;case"artistSP":google_afs_query=google_afs_query+" Music Artist";break;case"songSP":google_afs_query=google_afs_query+" Music Song";break;case"albumTitleSP":google_afs_query=google_afs_query+" Music Album";break;case"movieSP":google_afs_query=google_afs_query+" Movies";break;case"titleSP":google_afs_query=google_afs_query+" Movie Title";break;case"personSP":google_afs_query=google_afs_query+" Movie Person";break;case"gameToySP":google_afs_query=google_afs_query+" Games and Toys";break;case"abHomeAppSP":google_afs_query=google_afs_query+" Home Appliances";break;default:break}if($("#searchstate a").length>0||$("#searchstate b").length>0){$("#searchstate a, #searchstate b").each(function(){n++;if(n>3){e=$(this).html().replace(/^\s+|\s+$/g,"").replace("|"," ").split(":&nbsp;",1)+"";e=e.replace(/&amp; /,"").replace(/All Categories /,"").replace(/Best Buy /,"").replace(/Name Brands /,"").replace(/&nbsp;/g," ").replace(/^\s+|\s+$/g,"");google_afs_query+="|"+e}});google_afs_qry_ctxt=google_afs_query.replace(google_afs_qry_lnk,"").replace(/^\s+|\s+$/g,"");google_afs_query=google_afs_query.replace(/^\s+|\s+$/g,"").replace(/\|/g," ")}google_afs_client=this.isSpanish?"bestbuy-alt1_js":"bestbuy-alt2_js";google_afs_channel=this.isSpanish?"search-alt1":"search"}break;case 3:google_afs_ad="w4n3";google_afs_query=getQueryVariable("st");google_afs_client=this.isSpanish?"bestbuy-alt1_js":"bestbuy-alt2_js";google_afs_channel=this.isSpanish?"searchnoresults-alt1":"searchnoresults";break;case 4:google_afs_ad="w4n3";google_afs_client=this.isSpanish?"bestbuy-alt1-browse_js":"bestbuy-alt2-browse_js";if($("#searchstate").length>0){try{if($("#searchstate b").length>0){google_afs_qry_lnk=$("#searchstate b").text().replace(/^\s+|\s+$/g,"")}else if($("#searchstate span").length>0){google_afs_qry_lnk=$("#searchstate span").text().replace(/^\s+|\s+$/g,"")}google_afs_query_tmp=$("#searchstate").text().replace(/^\s*/,"").replace(/^\s*/,"").replace(new RegExp(String.fromCharCode(8250),"g"),">").replace(/\n/g," ");google_afs_query_tmp=google_afs_query_tmp.split(">");google_afs_query="";google_afs_qry_ctxt="";for(i=google_afs_query_tmp.length;i>1;i--){google_afs_query+=google_afs_query_tmp[i-1].replace(/^\s+|\s+$/g,"");if(i!==2){google_afs_query+=" "}}for(i=1;i<=google_afs_query_tmp.length-2;i++){google_afs_qry_ctxt+=google_afs_query_tmp[i].replace(/^\s+|\s+$/g,"");if(i!==google_afs_query_tmp.length-2){google_afs_qry_ctxt+="|"}}}catch(r){google_afs_query=$("#searchstate").text().replace(/\n/g," ").replace(/>/g," ").replace(/Best Buy/g,"").replace(/^\s*/,"").replace(/\s*$/,"")}}google_afs_channel=this.isSpanish?"browsecatpage-alt1":"browsecatpage";if(catid!==""){google_afs_channel=google_afs_channel+","+catid}if(strCat!==""){google_afs_channel=google_afs_channel+","+strCat}if(this.isSpanish)google_afs_channel+="-alt1";break;case 6:google_max_num_ads="7";case 7:google_max_num_ads=google_max_num_ads||"7";google_ad_channel=this.google_subcase;google_afs_query="";google_ad_client=this.isSpanish?"ca-bestbuy-alt1_js":"ca-bestbuy_js";google_ad_type="text";google_ad_output="js";break}if(!this.isSpanish&&bby.sysdate>=new Date("06/14/2012")&&bby.sysdate<=new Date("06/20/2012")){var s=bby.cookie.read("groupab");var o=null;if(s=="b"){o="testB"}if(o){if(this.google_case==0||this.google_case==1||this.google_case==4){google_afs_channel=o;if(this.google_case==4){if(catid!==""){google_afs_channel=google_afs_channel+","+catid}if(strCat!==""){google_afs_channel=google_afs_channel+","+strCat}}}else if(this.google_case==6){google_ad_channel=o}}}},google_msg:function(){errorpop.show('<a class="closePop" href="javascript:errorpop.hide()"><span>close</span></a><h3>Ads by Google</h3><p>The links below are sponsored links that are administered, sorted, and maintained by Google. Companies pay to have these links appear when particular keywords and phrases are searched. These Ads by Google are always clearly labeled.</p><p>Clicking on any of the sponsored links will take you away from BestBuy.com to an external Web site hosted and operated by its respective owner. Different terms and conditions will apply. Please consult each site&#39;s Privacy Policy. The Web site you link to is not endorsed by, nor affiliated with, Best Buy or BestBuy.com.</p>');return false},INIT:function(){if(this.google_check_site()){this.google_define_query(this.google_case);this.google_request_ads()}},google_request_ads:function(){if(typeof google_afs_query!=="undefined"){switch(GoogleAds.google_case){case 0:case 1:case 2:case 3:case 4:case 5:google_afs_adpage=getQueryVariable("cp");if(google_afs_adpage===null){google_afs_adpage=1}google_afs_oe="ISO-8859-1";if(this.isSpanish){google_afs_hl="es"}else{google_afs_hl="en"}google_afs_adsafe="high";if(imgServer==="http://images.bestbuy.com:80/BestBuy_US/"||this.isSpanish){google_afs_adtest="off"}else{google_afs_adtest="on"}this.doCSA=true;if(this.doCSA){try{this.CSA=new GoogleCSA}catch(e){}}else{document.write("<scr"+'ipt language="JavaScript" src="//www.google.com/afsonline/show_afs_ads.js"></scr'+"ipt>")}break;case 6:case 7:google_safe="high";google_encoding="ISO-8859-1";if(this.isSpanish){google_language="es"}if(imgServer==="http://images.bestbuy.com:80/BestBuy_US/"||this.isSpanish){google_adtest="off"}else{google_adtest="on"}document.write("<scr"+'ipt language="JavaScript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></scr'+"ipt>");break}if(getQueryVariable("google")!==undefined){}}}};GoogleCSA.prototype.initAds=function(){document.write("<scr"+'ipt src="http://www.google.com/adsense/search/ads.js" type="text/javascript"></scr'+"ipt>");this.defineAdObjects();this.placeContainers();this.getAds()};GoogleCSA.prototype.defineAdObjects=function(){var e=this.tag+" f()defineAdObjects",t=this;this.adsDomainColor="#085eb9";this.adsDomainLinkColor="#004691";this.adsDomainTitleColor="#004691";this.pageOptions={linkTarget:"_blank",pubId:google_afs_client,adtest:google_afs_adtest,oe:"ISO-8859-1",hl:google_afs_hl,query:google_afs_query,channel:"csa-"+google_afs_channel,siteLinks:true,domainLinkAboveDescription:true,adPage:google_afs_adpage,titleBold:true,colorDomainLink:"#004691",colorTitleLink:"#004691"};this.adUnitWide={container:"gAdUnitWideAds",number:4,titleBold:true,colorDomainLink:this.adsDomainLinkColor,colorTitleLink:this.adsDomainTitleColor,longerHeadlines:true,sellerRatings:true,adLoadedCallback:function(e,n){var r,i="#gAdUnitWide";if(n){r="completed";try{t.displayAdUnit(i)}catch(s){r="failed with "+s.message}}}};this.adUnitNarrow={container:"gAdUnitNarrowAds",number:3,width:"168px",titleBold:true,colorDomainLink:"#004691",colorTitleLink:"#004691",sellerRatings:true,adLoadedCallback:function(e,n){var r,i="#gAdUnitNarrow";if(n){r="completed";try{t.displayAdUnit(i)}catch(s){r="failed with "+s.message}}}};this.contWide=['<div id="gAdUnitWide" class="gAdUnit wide gAdUnitHidden"><div class="adTitle"><h3>Ads by Google</h3><h4><a class="google_explain" href="#" onclick="GoogleAds.google_msg();return false;">What&#39;s this?</a></h4></div><div id="',this.adUnitWide.container,'" class="widecontent gAds"></div><div class="clearer"></div></div>'].join("");this.contNarrow=['<div id="gAdUnitNarrow" class="gAdUnit narrow gAdUnitHidden"><div class="adTitle"><h2>Ads by Google</h2><h4><a class="google_explain" href="#" onclick="GoogleAds.google_msg();return false;">What&#39;s this?</a></h4><div class="clearer">***</div></div><div id="',this.adUnitNarrow.container,'" class="narrowcontent gAds"></div><div class="clearer"></div></div>'].join("")};GoogleCSA.prototype.placeContainers=function(){if(this.adCase===3){$("#newsearch").after(this.contWide)}else{$("#listView").after(this.contWide);$("#leftcol .narrow").after(this.contNarrow)}};GoogleCSA.prototype.displayAdUnit=function(e){$(e).removeClass("gAdUnitHidden")};GoogleCSA.prototype.getAds=function(){var e=this;jQuery(document).ready(function(){if(typeof google!=="undefined"){if(e.adCase===3){new google.ads.search.Ads(e.pageOptions,e.adUnitWide)}else{new google.ads.search.Ads(e.pageOptions,e.adUnitWide,e.adUnitNarrow)}}})};try{GoogleAds.INIT()}catch(e){};