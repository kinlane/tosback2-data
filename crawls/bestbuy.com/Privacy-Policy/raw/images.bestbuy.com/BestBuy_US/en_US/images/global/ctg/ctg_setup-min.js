var ns={Register:function(e){var a=false;var b="";var d=e.split(".");for(var c=0;c<d.length;c++){if(b!=""){b+="."}b+=d[c];a=this.Exists(b);if(!a){this.Create(b)}}if(a){throw"Namespace: "+e+" is already defined."}},Create:function(_Src){eval("window."+_Src+" = new Object();")},Exists:function(_Src){eval("var NE = false; try{if("+_Src+"){NE = true;}else{NE = false;}}catch(err){NE=false;}");return NE}};ns.Register("CTG");CTG.Track=function(){return{debug_level:0,pagename:track.catName,set_campaign:0,set_pagename:0,track_string:"",link_type:"",link_header:"",link_clicked:"",ttype:"CTG",tcampaign:"",setDebug:function(){var b="ctgdbg";b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a="[\\?&]"+b+"=([^&#]*)";var d=new RegExp(a);var c=d.exec(window.location.href);if(c==null){}else{this.debug_level=c[1]}},setCampaign:function(a){if(a==0){this.set_campaign=0}else{this.set_campaign=1}},setPagename:function(a){if(a==0){this.set_pagename=0}else{this.set_pagename=1}},checkCookie:function(b){var c,a,e,d=document.cookie.split(";");for(c=0;c<d.length;c++){a=d[c].substr(0,d[c].indexOf("="));e=d[c].substr(d[c].indexOf("=")+1);a=a.replace(/^\s+|\s+$/g,"");if(a==b){return unescape(e)}}},elementBind:function(a,b,c){if($(b).length!=0){$(a).on("mousedown.ctg",b,c);if(this.debug_level>=1&&this.debug_level<=4){$(a).find(b).css("background","#99FF99")}if(this.debug_level==4){if(typeof(console)!=="undefined"&&typeof(console.log)!=="undefined"){console.log("Bind: ID= "+a+" Ele= "+b)}}}},imageLink:function(e){var f=$(e).parents("li");var d=0;var c="";var b="";$(f).find("a").each(function(a){if(c==$(this).attr("href")){d++}c=$(this).attr("href")});if(d>=1){var g=$(f).find("a").length;for(i=0;i<=g;++i){b=$(f).find("a:eq("+i+")").text();if(b.length>1){this.link_clicked=b}}}else{if($(e).children("img").length>0){this.link_clicked=$(e).children("img").attr("alt")}else{this.link_clicked=$(e).text()}}},appendSegment:function(c,b,a){b=this.trimSpaces(b);return(c==null||c.length==0||c=="")?b:c+a+b},trimSpaces:function(a){a=a.replace(/(^\s*)|(\s*$)/gi,"");a=a.replace(/[ ]{2,}/gi," ");a=a.replace(/\n /,"\n");return a},buildTString:function(){if(this.link_type!=""){this.track_string=this.appendSegment(this.track_string,this.link_type,":")}if(this.link_header!=""){this.track_string=this.appendSegment(this.track_string,this.link_header,":")}if(this.link_clicked!=""){this.track_string=this.appendSegment(this.track_string,this.link_clicked,":")}function a(c){c=c.replace(/[\r\n\t]+/g,"");return c}function b(c){c.replace(/&(lt|gt);/g,"").replace(/<\/?[^>]+(>|$)/g,"");return c}this.track_string=b(this.track_string);this.track_string=a(this.track_string)},sendTrackingData:function(){this.buildTString();if(this.debug_level==2){if(this.set_campaign==1){alert(this.pagename+":"+this.ttype+":"+this.track_string+" campaignv4= "+this.tcampaign)}else{alert(this.pagename+":"+this.ttype+":"+this.track_string)}}else{if(this.set_campaign==0){trackEvent.event("event.view",{lastLink:this.pagename+":"+this.ttype+":"+this.track_string,page:this.pagename})}else{if(this.set_campaign==1){trackEvent.event("event.view",{lastLink:this.pagename+":"+this.ttype+":"+this.track_string,pageCampaign:this.tcampaign})}}}this.link_type="";this.link_header="";this.link_clicked="";this.track_string="";this.tcampaign=""}}};