var ns={Register:function(e){var a=false;var b="";var d=e.split(".");for(var c=0;c<d.length;c++){if(b!=""){b+="."}b+=d[c];a=this.Exists(b);if(!a){this.Create(b)}}if(a){throw"Namespace: "+e+" is already defined."}},Create:function(_Src){eval("window."+_Src+" = new Object();")},Exists:function(_Src){eval("var NE = false; try{if("+_Src+"){NE = true;}else{NE = false;}}catch(err){NE=false;}");return NE}};ns.Register("CTG");CTG.Track=function(){return{debug_level:0,pagename:track.catName,track_string:"",link_type:"",link_header:"",link_clicked:"",ttype:"CTG",elementBind:function(a,b,c){if($(b).length!=0){$(a).find(b).bind("click.ctg",c);if(this.debug_level>=1&&this.debug_level<=2){$(a).find(b).css("background","#99FF99")}}},elementUnbind:function(a,c,b,d){if(d==1){$(b+"["+a+"*='"+c+"']").unbind("click.ctg")}else{$(b+"["+a+"*='"+c+"'] a").unbind("click.ctg")}if(this.debug_level>=1&&this.debug_level<=2){$(b+"["+a+"*='"+c+"']").css("background","none")}},imageLink:function(b){if($(b).children("img").length>0){this.link_clicked=$(b).children("img").attr("alt")}else{this.link_clicked=$(b).text()}},buildTString:function(){if(this.link_type!=""){this.track_string=this.appendSegment(this.track_string,this.link_type,":")}if(this.link_header!=""){this.track_string=this.appendSegment(this.track_string,this.link_header,":")}if(this.link_clicked!=""){this.track_string=this.appendSegment(this.track_string,this.link_clicked,":")}},appendSegment:function(c,b,a){b=$.trim(b);return(c==null||c.length==0||c=="")?b:c+a+b},sendTrackingData:function(){function a(c){c.replace(/[\r\n]+/g,"");return c}function b(c){c=c.replace(/&(lt|gt);/g,"").replace(/<\/?[^>]+(>|$)/g,"");return c}track_string=b(this.track_string);track_string=a(this.track_string);if(this.debug_level==2){alert(this.pagename+":"+this.ttype+":"+this.track_string)}trackEvent.event("event.link",{lid:this.pagename+":"+this.ttype+":"+this.track_string,lastLink:this.ttype+":"+this.track_string});this.link_type="";this.link_header="";this.link_clicked="";this.track_string=""}}};