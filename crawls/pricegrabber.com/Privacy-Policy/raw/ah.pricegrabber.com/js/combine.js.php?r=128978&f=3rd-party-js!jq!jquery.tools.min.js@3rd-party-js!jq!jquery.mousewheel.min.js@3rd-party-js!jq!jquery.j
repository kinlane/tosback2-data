/*
 * jQuery Tools 1.2.5 - The missing UI library for the Web
 * 
 * [toolbox.flashembed, toolbox.history, toolbox.expose, toolbox.mousewheel, tabs, tabs.slideshow, tooltip, tooltip.slide, tooltip.dynamic, scrollable, scrollable.autoscroll, scrollable.navigator, overlay, overlay.apple, dateinput, rangeinput, validator]
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/
 * 
 * jquery.event.wheel.js - rev 1 
 * Copyright (c) 2008, Three Dub Media (http://threedubmedia.com)
 * Liscensed under the MIT License (MIT-LICENSE.txt)
 * http://www.opensource.org/licenses/mit-license.php
 * Created: 2008-07-01 | Updated: 2008-07-14
 * 
 * -----
 * 
 * File generated: Wed Sep 22 06:12:53 GMT 2010
 */
(function(){function f(a,b){if(b)for(var c in b)if(b.hasOwnProperty(c))a[c]=b[c];return a}function l(a,b){var c=[];for(var d in a)if(a.hasOwnProperty(d))c[d]=b(a[d]);return c}function m(a,b,c){if(e.isSupported(b.version))a.innerHTML=e.getHTML(b,c);else if(b.expressInstall&&e.isSupported([6,65]))a.innerHTML=e.getHTML(f(b,{src:b.expressInstall}),{MMredirectURL:location.href,MMplayerType:"PlugIn",MMdoctitle:document.title});else{if(!a.innerHTML.replace(/\s/g,"")){a.innerHTML="<h2>Flash version "+b.version+
" or greater is required</h2><h3>"+(g[0]>0?"Your version is "+g:"You have no flash plugin installed")+"</h3>"+(a.tagName=="A"?"<p>Click here to download latest version</p>":"<p>Download latest version from <a href='"+k+"'>here</a></p>");if(a.tagName=="A")a.onclick=function(){location.href=k}}if(b.onFail){var d=b.onFail.call(this);if(typeof d=="string")a.innerHTML=d}}if(i)window[b.id]=document.getElementById(b.id);f(this,{getRoot:function(){return a},getOptions:function(){return b},getConf:function(){return c},
getApi:function(){return a.firstChild}})}var i=document.all,k="http://www.adobe.com/go/getflashplayer",n=typeof jQuery=="function",o=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,j={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowfullscreen:true,allowscriptaccess:"always",quality:"high",version:[3,0],onFail:null,expressInstall:null,w3c:false,cachebusting:false};window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){}});
window.flashembed=function(a,b,c){if(typeof a=="string")a=document.getElementById(a.replace("#",""));if(a){if(typeof b=="string")b={src:b};return new m(a,f(f({},j),b),c)}};var e=f(window.flashembed,{conf:j,getVersion:function(){var a,b;try{b=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(c){try{b=(a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"))&&a.GetVariable("$version")}catch(d){try{b=(a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"))&&a.GetVariable("$version")}catch(h){}}}return(b=
o.exec(b))?[b[1],b[3]]:[0,0]},asString:function(a){if(a===null||a===undefined)return null;var b=typeof a;if(b=="object"&&a.push)b="array";switch(b){case "string":a=a.replace(new RegExp('(["\\\\])',"g"),"\\$1");a=a.replace(/^\s?(\d+\.?\d+)%/,"$1pct");return'"'+a+'"';case "array":return"["+l(a,function(d){return e.asString(d)}).join(",")+"]";case "function":return'"function()"';case "object":b=[];for(var c in a)a.hasOwnProperty(c)&&b.push('"'+c+'":'+e.asString(a[c]));return"{"+b.join(",")+"}"}return String(a).replace(/\s/g,
" ").replace(/\'/g,'"')},getHTML:function(a,b){a=f({},a);var c='<object width="'+a.width+'" height="'+a.height+'" id="'+a.id+'" name="'+a.id+'"';if(a.cachebusting)a.src+=(a.src.indexOf("?")!=-1?"&":"?")+Math.random();c+=a.w3c||!i?' data="'+a.src+'" type="application/x-shockwave-flash"':' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"';c+=">";if(a.w3c||i)c+='<param name="movie" value="'+a.src+'" />';a.width=a.height=a.id=a.w3c=a.src=null;a.onFail=a.version=a.expressInstall=null;for(var d in a)if(a[d])c+=
'<param name="'+d+'" value="'+a[d]+'" />';a="";if(b){for(var h in b)if(b[h]){d=b[h];a+=h+"="+(/function|object/.test(typeof d)?e.asString(d):d)+"&"}a=a.slice(0,-1);c+='<param name="flashvars" value=\''+a+"' />"}c+="</object>";return c},isSupported:function(a){return g[0]>a[0]||g[0]==a[0]&&g[1]>=a[1]}}),g=e.getVersion();if(n){jQuery.tools=jQuery.tools||{version:"1.2.5"};jQuery.tools.flashembed={conf:j};jQuery.fn.flashembed=function(a,b){return this.each(function(){$(this).data("flashembed",flashembed(this,
a,b))})}}})();
(function(b){function h(c){if(c){var a=d.contentWindow.document;a.open().close();a.location.hash=c}}var g,d,f,i;b.tools=b.tools||{version:"1.2.5"};b.tools.history={init:function(c){if(!i){if(b.browser.msie&&b.browser.version<"8"){if(!d){d=b("<iframe/>").attr("src","javascript:false;").hide().get(0);b("body").append(d);setInterval(function(){var a=d.contentWindow.document;a=a.location.hash;g!==a&&b.event.trigger("hash",a)},100);h(location.hash||"#")}}else setInterval(function(){var a=location.hash;
a!==g&&b.event.trigger("hash",a)},100);f=!f?c:f.add(c);c.click(function(a){var e=b(this).attr("href");d&&h(e);if(e.slice(0,1)!="#"){location.href="#"+e;return a.preventDefault()}});i=true}}};b(window).bind("hash",function(c,a){a?f.filter(function(){var e=b(this).attr("href");return e==a||e==a.replace("#","")}).trigger("history",[a]):f.eq(0).trigger("history",[a]);g=a});b.fn.history=function(c){b.tools.history.init(this);return this.bind("history",c)}})(jQuery);
(function(b){function k(){if(b.browser.msie){var a=b(document).height(),d=b(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a-d<20?d:a]}return[b(document).width(),b(document).height()]}function h(a){if(a)return a.call(b.mask)}b.tools=b.tools||{version:"1.2.5"};var l;l=b.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:true,closeOnEsc:true,zIndex:9998,opacity:0.8,startOpacity:0,color:"#fff",onLoad:null,
onClose:null}};var c,i,e,g,j;b.mask={load:function(a,d){if(e)return this;if(typeof a=="string")a={color:a};a=a||g;g=a=b.extend(b.extend({},l.conf),a);c=b("#"+a.maskId);if(!c.length){c=b("<div/>").attr("id",a.maskId);b("body").append(c)}var m=k();c.css({position:"absolute",top:0,left:0,width:m[0],height:m[1],display:"none",opacity:a.startOpacity,zIndex:a.zIndex});a.color&&c.css("backgroundColor",a.color);if(h(a.onBeforeLoad)===false)return this;a.closeOnEsc&&b(document).bind("keydown.mask",function(f){f.keyCode==
27&&b.mask.close(f)});a.closeOnClick&&c.bind("click.mask",function(f){b.mask.close(f)});b(window).bind("resize.mask",function(){b.mask.fit()});if(d&&d.length){j=d.eq(0).css("zIndex");b.each(d,function(){var f=b(this);/relative|absolute|fixed/i.test(f.css("position"))||f.css("position","relative")});i=d.css({zIndex:Math.max(a.zIndex+1,j=="auto"?0:j)})}c.css({display:"block"}).fadeTo(a.loadSpeed,a.opacity,function(){b.mask.fit();h(a.onLoad);e="full"});e=true;return this},close:function(){if(e){if(h(g.onBeforeClose)===
false)return this;c.fadeOut(g.closeSpeed,function(){h(g.onClose);i&&i.css({zIndex:j});e=false});b(document).unbind("keydown.mask");c.unbind("click.mask");b(window).unbind("resize.mask")}return this},fit:function(){if(e){var a=k();c.css({width:a[0],height:a[1]})}},getMask:function(){return c},isLoaded:function(a){return a?e=="full":e},getConf:function(){return g},getExposed:function(){return i}};b.fn.mask=function(a){b.mask.load(a);return this};b.fn.expose=function(a){b.mask.load(a,this);return this}})(jQuery);
(function(b){function c(a){switch(a.type){case "mousemove":return b.extend(a.data,{clientX:a.clientX,clientY:a.clientY,pageX:a.pageX,pageY:a.pageY});case "DOMMouseScroll":b.extend(a,a.data);a.delta=-a.detail/3;break;case "mousewheel":a.delta=a.wheelDelta/120;break}a.type="wheel";return b.event.handle.call(this,a,a.delta)}b.fn.mousewheel=function(a){return this[a?"bind":"trigger"]("wheel",a)};b.event.special.wheel={setup:function(){b.event.add(this,d,c,{})},teardown:function(){b.event.remove(this,
d,c)}};var d=!b.browser.mozilla?"mousewheel":"DOMMouseScroll"+(b.browser.version<"1.9"?" mousemove":"")})(jQuery);
(function(c){function p(d,b,a){var e=this,l=d.add(this),h=d.find(a.tabs),i=b.jquery?b:d.children(b),j;h.length||(h=d.children());i.length||(i=d.parent().find(b));i.length||(i=c(b));c.extend(this,{click:function(f,g){var k=h.eq(f);if(typeof f=="string"&&f.replace("#","")){k=h.filter("[href*="+f.replace("#","")+"]");f=Math.max(h.index(k),0)}if(a.rotate){var n=h.length-1;if(f<0)return e.click(n,g);if(f>n)return e.click(0,g)}if(!k.length){if(j>=0)return e;f=a.initialIndex;k=h.eq(f)}if(f===j)return e;
g=g||c.Event();g.type="onBeforeClick";l.trigger(g,[f]);if(!g.isDefaultPrevented()){o[a.effect].call(e,f,function(){g.type="onClick";l.trigger(g,[f])});j=f;h.removeClass(a.current);k.addClass(a.current);return e}},getConf:function(){return a},getTabs:function(){return h},getPanes:function(){return i},getCurrentPane:function(){return i.eq(j)},getCurrentTab:function(){return h.eq(j)},getIndex:function(){return j},next:function(){return e.click(j+1)},prev:function(){return e.click(j-1)},destroy:function(){h.unbind(a.event).removeClass(a.current);
i.find("a[href^=#]").unbind("click.T");return e}});c.each("onBeforeClick,onClick".split(","),function(f,g){c.isFunction(a[g])&&c(e).bind(g,a[g]);e[g]=function(k){k&&c(e).bind(g,k);return e}});if(a.history&&c.fn.history){c.tools.history.init(h);a.event="history"}h.each(function(f){c(this).bind(a.event,function(g){e.click(f,g);return g.preventDefault()})});i.find("a[href^=#]").bind("click.T",function(f){e.click(c(this).attr("href"),f)});if(location.hash&&a.tabs=="a"&&d.find("[href="+location.hash+"]").length)e.click(location.hash);
else if(a.initialIndex===0||a.initialIndex>0)e.click(a.initialIndex)}c.tools=c.tools||{version:"1.2.5"};c.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",rotate:false,history:false},addEffect:function(d,b){o[d]=b}};var o={"default":function(d,b){this.getPanes().hide().eq(d).show();b.call()},fade:function(d,b){var a=this.getConf(),e=a.fadeOutSpeed,l=this.getPanes();e?l.fadeOut(e):l.hide();l.eq(d).fadeIn(a.fadeInSpeed,b)},slide:function(d,
b){this.getPanes().slideUp(200);this.getPanes().eq(d).slideDown(400,b)},ajax:function(d,b){this.getPanes().eq(0).load(this.getTabs().eq(d).attr("href"),b)}},m;c.tools.tabs.addEffect("horizontal",function(d,b){m||(m=this.getPanes().eq(0).width());this.getCurrentPane().animate({width:0},function(){c(this).hide()});this.getPanes().eq(d).animate({width:m},function(){c(this).show();b.call()})});c.fn.tabs=function(d,b){var a=this.data("tabs");if(a){a.destroy();this.removeData("tabs")}if(c.isFunction(b))b=
{onBeforeClick:b};b=c.extend({},c.tools.tabs.conf,b);this.each(function(){a=new p(c(this),d,b);c(this).data("tabs",a)});return b.api?a:this}})(jQuery);
(function(c){function p(g,a){function m(f){var e=c(f);return e.length<2?e:g.parent().find(f)}var b=this,i=g.add(this),d=g.data("tabs"),h,j=true,n=m(a.next).click(function(){d.next()}),k=m(a.prev).click(function(){d.prev()});c.extend(b,{getTabs:function(){return d},getConf:function(){return a},play:function(){if(h)return b;var f=c.Event("onBeforePlay");i.trigger(f);if(f.isDefaultPrevented())return b;h=setInterval(d.next,a.interval);j=false;i.trigger("onPlay");return b},pause:function(){if(!h)return b;
var f=c.Event("onBeforePause");i.trigger(f);if(f.isDefaultPrevented())return b;h=clearInterval(h);i.trigger("onPause");return b},stop:function(){b.pause();j=true}});c.each("onBeforePlay,onPlay,onBeforePause,onPause".split(","),function(f,e){c.isFunction(a[e])&&c(b).bind(e,a[e]);b[e]=function(q){return c(b).bind(e,q)}});a.autopause&&d.getTabs().add(n).add(k).add(d.getPanes()).hover(b.pause,function(){j||b.play()});a.autoplay&&b.play();a.clickable&&d.getPanes().click(function(){d.next()});if(!d.getConf().rotate){var l=
a.disabledClass;d.getIndex()||k.addClass(l);d.onBeforeClick(function(f,e){k.toggleClass(l,!e);n.toggleClass(l,e==d.getTabs().length-1)})}}var o;o=c.tools.tabs.slideshow={conf:{next:".forward",prev:".backward",disabledClass:"disabled",autoplay:false,autopause:true,interval:3E3,clickable:true,api:false}};c.fn.slideshow=function(g){var a=this.data("slideshow");if(a)return a;g=c.extend({},o.conf,g);this.each(function(){a=new p(c(this),g);c(this).data("slideshow",a)});return g.api?a:this}})(jQuery);
(function(f){function p(a,b,c){var h=c.relative?a.position().top:a.offset().top,d=c.relative?a.position().left:a.offset().left,i=c.position[0];h-=b.outerHeight()-c.offset[0];d+=a.outerWidth()+c.offset[1];if(/iPad/i.test(navigator.userAgent))h-=f(window).scrollTop();var j=b.outerHeight()+a.outerHeight();if(i=="center")h+=j/2;if(i=="bottom")h+=j;i=c.position[1];a=b.outerWidth()+a.outerWidth();if(i=="center")d-=a/2;if(i=="left")d-=a;return{top:h,left:d}}function u(a,b){var c=this,h=a.add(c),d,i=0,j=
0,m=a.attr("title"),q=a.attr("data-tooltip"),r=o[b.effect],l,s=a.is(":input"),v=s&&a.is(":checkbox, :radio, select, :button, :submit"),t=a.attr("type"),k=b.events[t]||b.events[s?v?"widget":"input":"def"];if(!r)throw'Nonexistent effect "'+b.effect+'"';k=k.split(/,\s*/);if(k.length!=2)throw"Tooltip: bad events configuration for "+t;a.bind(k[0],function(e){clearTimeout(i);if(b.predelay)j=setTimeout(function(){c.show(e)},b.predelay);else c.show(e)}).bind(k[1],function(e){clearTimeout(j);if(b.delay)i=
setTimeout(function(){c.hide(e)},b.delay);else c.hide(e)});if(m&&b.cancelDefault){a.removeAttr("title");a.data("title",m)}f.extend(c,{show:function(e){if(!d){if(q)d=f(q);else if(b.tip)d=f(b.tip).eq(0);else if(m)d=f(b.layout).addClass(b.tipClass).appendTo(document.body).hide().append(m);else{d=a.next();d.length||(d=a.parent().next())}if(!d.length)throw"Cannot find tooltip for "+a;}if(c.isShown())return c;d.stop(true,true);var g=p(a,d,b);b.tip&&d.html(a.data("title"));e=e||f.Event();e.type="onBeforeShow";
h.trigger(e,[g]);if(e.isDefaultPrevented())return c;g=p(a,d,b);d.css({position:"absolute",top:g.top,left:g.left});l=true;r[0].call(c,function(){e.type="onShow";l="full";h.trigger(e)});g=b.events.tooltip.split(/,\s*/);if(!d.data("__set")){d.bind(g[0],function(){clearTimeout(i);clearTimeout(j)});g[1]&&!a.is("input:not(:checkbox, :radio), textarea")&&d.bind(g[1],function(n){n.relatedTarget!=a[0]&&a.trigger(k[1].split(" ")[0])});d.data("__set",true)}return c},hide:function(e){if(!d||!c.isShown())return c;
e=e||f.Event();e.type="onBeforeHide";h.trigger(e);if(!e.isDefaultPrevented()){l=false;o[b.effect][1].call(c,function(){e.type="onHide";h.trigger(e)});return c}},isShown:function(e){return e?l=="full":l},getConf:function(){return b},getTip:function(){return d},getTrigger:function(){return a}});f.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(e,g){f.isFunction(b[g])&&f(c).bind(g,b[g]);c[g]=function(n){n&&f(c).bind(g,n);return c}})}f.tools=f.tools||{version:"1.2.5"};f.tools.tooltip=
{conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,position:["top","center"],offset:[0,0],relative:false,cancelDefault:true,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(a,b,c){o[a]=[b,c]}};var o={toggle:[function(a){var b=this.getConf(),c=this.getTip();b=b.opacity;b<1&&c.css({opacity:b});c.show();a.call()},function(a){this.getTip().hide();
a.call()}],fade:[function(a){var b=this.getConf();this.getTip().fadeTo(b.fadeInSpeed,b.opacity,a)},function(a){this.getTip().fadeOut(this.getConf().fadeOutSpeed,a)}]};f.fn.tooltip=function(a){var b=this.data("tooltip");if(b)return b;a=f.extend(true,{},f.tools.tooltip.conf,a);if(typeof a.position=="string")a.position=a.position.split(/,?\s/);this.each(function(){b=new u(f(this),a);f(this).data("tooltip",b)});return a.api?b:this}})(jQuery);
(function(d){var i=d.tools.tooltip;d.extend(i.conf,{direction:"up",bounce:false,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!d.browser.msie});var e={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};i.addEffect("slide",function(g){var a=this.getConf(),f=this.getTip(),b=a.slideFade?{opacity:a.opacity}:{},c=e[a.direction]||e.up;b[c[1]]=c[0]+"="+a.slideOffset;a.slideFade&&f.css({opacity:0});f.show().animate(b,a.slideInSpeed,g)},function(g){var a=this.getConf(),f=a.slideOffset,
b=a.slideFade?{opacity:0}:{},c=e[a.direction]||e.up,h=""+c[0];if(a.bounce)h=h=="+"?"-":"+";b[c[1]]=h+"="+f;this.getTip().animate(b,a.slideOutSpeed,function(){d(this).hide();g.call()})})})(jQuery);
(function(g){function j(a){var c=g(window),d=c.width()+c.scrollLeft(),h=c.height()+c.scrollTop();return[a.offset().top<=c.scrollTop(),d<=a.offset().left+a.width(),h<=a.offset().top+a.height(),c.scrollLeft()>=a.offset().left]}function k(a){for(var c=a.length;c--;)if(a[c])return false;return true}var i=g.tools.tooltip;i.dynamic={conf:{classNames:"top right bottom left"}};g.fn.dynamic=function(a){if(typeof a=="number")a={speed:a};a=g.extend({},i.dynamic.conf,a);var c=a.classNames.split(/\s/),d;this.each(function(){var h=
g(this).tooltip().onBeforeShow(function(e,f){e=this.getTip();var b=this.getConf();d||(d=[b.position[0],b.position[1],b.offset[0],b.offset[1],g.extend({},b)]);g.extend(b,d[4]);b.position=[d[0],d[1]];b.offset=[d[2],d[3]];e.css({visibility:"hidden",position:"absolute",top:f.top,left:f.left}).show();f=j(e);if(!k(f)){if(f[2]){g.extend(b,a.top);b.position[0]="top";e.addClass(c[0])}if(f[3]){g.extend(b,a.right);b.position[1]="right";e.addClass(c[1])}if(f[0]){g.extend(b,a.bottom);b.position[0]="bottom";e.addClass(c[2])}if(f[1]){g.extend(b,
a.left);b.position[1]="left";e.addClass(c[3])}if(f[0]||f[2])b.offset[0]*=-1;if(f[1]||f[3])b.offset[1]*=-1}e.css({visibility:"visible"}).hide()});h.onBeforeShow(function(){var e=this.getConf();this.getTip();setTimeout(function(){e.position=[d[0],d[1]];e.offset=[d[2],d[3]]},0)});h.onHide(function(){var e=this.getTip();e.removeClass(a.classNames)});ret=h});return a.api?ret:this}})(jQuery);
(function(e){function p(f,c){var b=e(c);return b.length<2?b:f.parent().find(c)}function u(f,c){var b=this,n=f.add(b),g=f.children(),l=0,j=c.vertical;k||(k=b);if(g.length>1)g=e(c.items,f);e.extend(b,{getConf:function(){return c},getIndex:function(){return l},getSize:function(){return b.getItems().size()},getNaviButtons:function(){return o.add(q)},getRoot:function(){return f},getItemWrap:function(){return g},getItems:function(){return g.children(c.item).not("."+c.clonedClass)},move:function(a,d){return b.seekTo(l+
a,d)},next:function(a){return b.move(1,a)},prev:function(a){return b.move(-1,a)},begin:function(a){return b.seekTo(0,a)},end:function(a){return b.seekTo(b.getSize()-1,a)},focus:function(){return k=b},addItem:function(a){a=e(a);if(c.circular){g.children("."+c.clonedClass+":last").before(a);g.children("."+c.clonedClass+":first").replaceWith(a.clone().addClass(c.clonedClass))}else g.append(a);n.trigger("onAddItem",[a]);return b},seekTo:function(a,d,h){a.jquery||(a*=1);if(c.circular&&a===0&&l==-1&&d!==
0)return b;if(!c.circular&&a<0||a>b.getSize()||a<-1)return b;var i=a;if(a.jquery)a=b.getItems().index(a);else i=b.getItems().eq(a);var r=e.Event("onBeforeSeek");if(!h){n.trigger(r,[a,d]);if(r.isDefaultPrevented()||!i.length)return b}i=j?{top:-i.position().top}:{left:-i.position().left};l=a;k=b;if(d===undefined)d=c.speed;g.animate(i,d,c.easing,h||function(){n.trigger("onSeek",[a])});return b}});e.each(["onBeforeSeek","onSeek","onAddItem"],function(a,d){e.isFunction(c[d])&&e(b).bind(d,c[d]);b[d]=function(h){h&&
e(b).bind(d,h);return b}});if(c.circular){var s=b.getItems().slice(-1).clone().prependTo(g),t=b.getItems().eq(1).clone().appendTo(g);s.add(t).addClass(c.clonedClass);b.onBeforeSeek(function(a,d,h){if(!a.isDefaultPrevented())if(d==-1){b.seekTo(s,h,function(){b.end(0)});return a.preventDefault()}else d==b.getSize()&&b.seekTo(t,h,function(){b.begin(0)})});b.seekTo(0,0,function(){})}var o=p(f,c.prev).click(function(){b.prev()}),q=p(f,c.next).click(function(){b.next()});if(!c.circular&&b.getSize()>1){b.onBeforeSeek(function(a,
d){setTimeout(function(){if(!a.isDefaultPrevented()){o.toggleClass(c.disabledClass,d<=0);q.toggleClass(c.disabledClass,d>=b.getSize()-1)}},1)});c.initialIndex||o.addClass(c.disabledClass)}c.mousewheel&&e.fn.mousewheel&&f.mousewheel(function(a,d){if(c.mousewheel){b.move(d<0?1:-1,c.wheelSpeed||50);return false}});if(c.touch){var m={};g[0].ontouchstart=function(a){a=a.touches[0];m.x=a.clientX;m.y=a.clientY};g[0].ontouchmove=function(a){if(a.touches.length==1&&!g.is(":animated")){var d=a.touches[0],h=
m.x-d.clientX;d=m.y-d.clientY;b[j&&d>0||!j&&h>0?"next":"prev"]();a.preventDefault()}}}c.keyboard&&e(document).bind("keydown.scrollable",function(a){if(!(!c.keyboard||a.altKey||a.ctrlKey||e(a.target).is(":input")))if(!(c.keyboard!="static"&&k!=b)){var d=a.keyCode;if(j&&(d==38||d==40)){b.move(d==38?-1:1);return a.preventDefault()}if(!j&&(d==37||d==39)){b.move(d==37?-1:1);return a.preventDefault()}}});c.initialIndex&&b.seekTo(c.initialIndex,0,function(){})}e.tools=e.tools||{version:"1.2.5"};e.tools.scrollable=
{conf:{activeClass:"active",circular:false,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:null,items:".items",keyboard:true,mousewheel:false,next:".next",prev:".prev",speed:400,vertical:false,touch:true,wheelSpeed:0}};var k;e.fn.scrollable=function(f){var c=this.data("scrollable");if(c)return c;f=e.extend({},e.tools.scrollable.conf,f);this.each(function(){c=new u(e(this),f);e(this).data("scrollable",c)});return f.api?c:this}})(jQuery);
(function(b){var f=b.tools.scrollable;f.autoscroll={conf:{autoplay:true,interval:3E3,autopause:true}};b.fn.autoscroll=function(c){if(typeof c=="number")c={interval:c};var d=b.extend({},f.autoscroll.conf,c),g;this.each(function(){var a=b(this).data("scrollable");if(a)g=a;var e,h=true;a.play=function(){if(!e){h=false;e=setInterval(function(){a.next()},d.interval)}};a.pause=function(){e=clearInterval(e)};a.stop=function(){a.pause();h=true};d.autopause&&a.getRoot().add(a.getNaviButtons()).hover(a.pause,
a.play);d.autoplay&&a.play()});return d.api?g:this}})(jQuery);
(function(d){function p(b,g){var h=d(g);return h.length<2?h:b.parent().find(g)}var m=d.tools.scrollable;m.navigator={conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:false,idPrefix:null,history:false}};d.fn.navigator=function(b){if(typeof b=="string")b={navi:b};b=d.extend({},m.navigator.conf,b);var g;this.each(function(){function h(a,c,i){e.seekTo(c);if(j){if(location.hash)location.hash=a.attr("href").replace("#","")}else return i.preventDefault()}function f(){return k.find(b.naviItem||
"> *")}function n(a){var c=d("<"+(b.naviItem||"a")+"/>").click(function(i){h(d(this),a,i)}).attr("href","#"+a);a===0&&c.addClass(l);b.indexed&&c.text(a+1);b.idPrefix&&c.attr("id",b.idPrefix+a);return c.appendTo(k)}function o(a,c){a=f().eq(c.replace("#",""));a.length||(a=f().filter("[href="+c+"]"));a.click()}var e=d(this).data("scrollable"),k=b.navi.jquery?b.navi:p(e.getRoot(),b.navi),q=e.getNaviButtons(),l=b.activeClass,j=b.history&&d.fn.history;if(e)g=e;e.getNaviButtons=function(){return q.add(k)};
f().length?f().each(function(a){d(this).click(function(c){h(d(this),a,c)})}):d.each(e.getItems(),function(a){n(a)});e.onBeforeSeek(function(a,c){setTimeout(function(){if(!a.isDefaultPrevented()){var i=f().eq(c);!a.isDefaultPrevented()&&i.length&&f().removeClass(l).eq(c).addClass(l)}},1)});e.onAddItem(function(a,c){c=n(e.getItems().index(c));j&&c.history(o)});j&&f().history(o)});return b.api?g:this}})(jQuery);
(function(a){function t(d,b){var c=this,j=d.add(c),o=a(window),k,f,m,g=a.tools.expose&&(b.mask||b.expose),n=Math.random().toString().slice(10);if(g){if(typeof g=="string")g={color:g};g.closeOnClick=g.closeOnEsc=false}var p=b.target||d.attr("rel");f=p?a(p):d;if(!f.length)throw"Could not find Overlay: "+p;d&&d.index(f)==-1&&d.click(function(e){c.load(e);return e.preventDefault()});a.extend(c,{load:function(e){if(c.isOpened())return c;var h=q[b.effect];if(!h)throw'Overlay: cannot find effect : "'+b.effect+
'"';b.oneInstance&&a.each(s,function(){this.close(e)});e=e||a.Event();e.type="onBeforeLoad";j.trigger(e);if(e.isDefaultPrevented())return c;m=true;g&&a(f).expose(g);var i=b.top,r=b.left,u=f.outerWidth({margin:true}),v=f.outerHeight({margin:true});if(typeof i=="string")i=i=="center"?Math.max((o.height()-v)/2,0):parseInt(i,10)/100*o.height();if(r=="center")r=Math.max((o.width()-u)/2,0);h[0].call(c,{top:i,left:r},function(){if(m){e.type="onLoad";j.trigger(e)}});g&&b.closeOnClick&&a.mask.getMask().one("click",
c.close);b.closeOnClick&&a(document).bind("click."+n,function(l){a(l.target).parents(f).length||c.close(l)});b.closeOnEsc&&a(document).bind("keydown."+n,function(l){l.keyCode==27&&c.close(l)});return c},close:function(e){if(!c.isOpened())return c;e=e||a.Event();e.type="onBeforeClose";j.trigger(e);if(!e.isDefaultPrevented()){m=false;q[b.effect][1].call(c,function(){e.type="onClose";j.trigger(e)});a(document).unbind("click."+n).unbind("keydown."+n);g&&a.mask.close();return c}},getOverlay:function(){return f},
getTrigger:function(){return d},getClosers:function(){return k},isOpened:function(){return m},getConf:function(){return b}});a.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(e,h){a.isFunction(b[h])&&a(c).bind(h,b[h]);c[h]=function(i){i&&a(c).bind(h,i);return c}});k=f.find(b.close||".close");if(!k.length&&!b.close){k=a('<a class="close"></a>');f.prepend(k)}k.click(function(e){c.close(e)});b.load&&c.load()}a.tools=a.tools||{version:"1.2.5"};a.tools.overlay={addEffect:function(d,
b,c){q[d]=[b,c]},conf:{close:null,closeOnClick:true,closeOnEsc:true,closeSpeed:"fast",effect:"default",fixed:!a.browser.msie||a.browser.version>6,left:"center",load:false,mask:null,oneInstance:true,speed:"normal",target:null,top:"10%"}};var s=[],q={};a.tools.overlay.addEffect("default",function(d,b){var c=this.getConf(),j=a(window);if(!c.fixed){d.top+=j.scrollTop();d.left+=j.scrollLeft()}d.position=c.fixed?"fixed":"absolute";this.getOverlay().css(d).fadeIn(c.speed,b)},function(d){this.getOverlay().fadeOut(this.getConf().closeSpeed,
d)});a.fn.overlay=function(d){var b=this.data("overlay");if(b)return b;if(a.isFunction(d))d={onBeforeLoad:d};d=a.extend(true,{},a.tools.overlay.conf,d);this.each(function(){b=new t(a(this),d);s.push(b);a(this).data("overlay",b)});return d.api?b:this}})(jQuery);
(function(h){function k(d){var e=d.offset();return{top:e.top+d.height()/2,left:e.left+d.width()/2}}var l=h.tools.overlay,f=h(window);h.extend(l.conf,{start:{top:null,left:null},fadeInSpeed:"fast",zIndex:9999});function o(d,e){var a=this.getOverlay(),c=this.getConf(),g=this.getTrigger(),p=this,m=a.outerWidth({margin:true}),b=a.data("img"),n=c.fixed?"fixed":"absolute";if(!b){b=a.css("backgroundImage");if(!b)throw"background-image CSS property not set for overlay";b=b.slice(b.indexOf("(")+1,b.indexOf(")")).replace(/\"/g,
"");a.css("backgroundImage","none");b=h('<img src="'+b+'"/>');b.css({border:0,display:"none"}).width(m);h("body").append(b);a.data("img",b)}var i=c.start.top||Math.round(f.height()/2),j=c.start.left||Math.round(f.width()/2);if(g){g=k(g);i=g.top;j=g.left}if(c.fixed){i-=f.scrollTop();j-=f.scrollLeft()}else{d.top+=f.scrollTop();d.left+=f.scrollLeft()}b.css({position:"absolute",top:i,left:j,width:0,zIndex:c.zIndex}).show();d.position=n;a.css(d);b.animate({top:a.css("top"),left:a.css("left"),width:m},
c.speed,function(){a.css("zIndex",c.zIndex+1).fadeIn(c.fadeInSpeed,function(){p.isOpened()&&!h(this).index(a)?e.call():a.hide()})}).css("position",n)}function q(d){var e=this.getOverlay().hide(),a=this.getConf(),c=this.getTrigger();e=e.data("img");var g={top:a.start.top,left:a.start.left,width:0};c&&h.extend(g,k(c));a.fixed&&e.css({position:"absolute"}).animate({top:"+="+f.scrollTop(),left:"+="+f.scrollLeft()},0);e.animate(g,a.closeSpeed,d)}l.addEffect("apple",o,q)})(jQuery);
(function(d){function R(a,c){return 32-(new Date(a,c,32)).getDate()}function S(a,c){a=""+a;for(c=c||2;a.length<c;)a="0"+a;return a}function T(a,c,j){var q=a.getDate(),h=a.getDay(),r=a.getMonth();a=a.getFullYear();var f={d:q,dd:S(q),ddd:B[j].shortDays[h],dddd:B[j].days[h],m:r+1,mm:S(r+1),mmm:B[j].shortMonths[r],mmmm:B[j].months[r],yy:String(a).slice(2),yyyy:a};c=c.replace(X,function(s){return s in f?f[s]:s.slice(1,s.length-1)});return Y.html(c).html()}function v(a){return parseInt(a,10)}function U(a,
c){return a.getFullYear()===c.getFullYear()&&a.getMonth()==c.getMonth()&&a.getDate()==c.getDate()}function C(a){if(a){if(a.constructor==Date)return a;if(typeof a=="string"){var c=a.split("-");if(c.length==3)return new Date(v(c[0]),v(c[1])-1,v(c[2]));if(!/^-?\d+$/.test(a))return;a=v(a)}c=new Date;c.setDate(c.getDate()+a);return c}}function Z(a,c){function j(b,e,g){n=b;D=b.getFullYear();E=b.getMonth();G=b.getDate();g=g||d.Event("api");g.type="change";H.trigger(g,[b]);if(!g.isDefaultPrevented()){a.val(T(b,
e.format,e.lang));a.data("date",b);h.hide(g)}}function q(b){b.type="onShow";H.trigger(b);d(document).bind("keydown.d",function(e){if(e.ctrlKey)return true;var g=e.keyCode;if(g==8){a.val("");return h.hide(e)}if(g==27)return h.hide(e);if(d(V).index(g)>=0){if(!w){h.show(e);return e.preventDefault()}var i=d("#"+f.weeks+" a"),t=d("."+f.focus),o=i.index(t);t.removeClass(f.focus);if(g==74||g==40)o+=7;else if(g==75||g==38)o-=7;else if(g==76||g==39)o+=1;else if(g==72||g==37)o-=1;if(o>41){h.addMonth();t=d("#"+
f.weeks+" a:eq("+(o-42)+")")}else if(o<0){h.addMonth(-1);t=d("#"+f.weeks+" a:eq("+(o+42)+")")}else t=i.eq(o);t.addClass(f.focus);return e.preventDefault()}if(g==34)return h.addMonth();if(g==33)return h.addMonth(-1);if(g==36)return h.today();if(g==13)d(e.target).is("select")||d("."+f.focus).click();return d([16,17,18,9]).index(g)>=0});d(document).bind("click.d",function(e){var g=e.target;if(!d(g).parents("#"+f.root).length&&g!=a[0]&&(!L||g!=L[0]))h.hide(e)})}var h=this,r=new Date,f=c.css,s=B[c.lang],
k=d("#"+f.root),M=k.find("#"+f.title),L,I,J,D,E,G,n=a.attr("data-value")||c.value||a.val(),m=a.attr("min")||c.min,p=a.attr("max")||c.max,w;if(m===0)m="0";n=C(n)||r;m=C(m||c.yearRange[0]*365);p=C(p||c.yearRange[1]*365);if(!s)throw"Dateinput: invalid language: "+c.lang;if(a.attr("type")=="date"){var N=d("<input/>");d.each("class,disabled,id,maxlength,name,readonly,required,size,style,tabindex,title,value".split(","),function(b,e){N.attr(e,a.attr(e))});a.replaceWith(N);a=N}a.addClass(f.input);var H=
a.add(h);if(!k.length){k=d("<div><div><a/><div/><a/></div><div><div/><div/></div></div>").hide().css({position:"absolute"}).attr("id",f.root);k.children().eq(0).attr("id",f.head).end().eq(1).attr("id",f.body).children().eq(0).attr("id",f.days).end().eq(1).attr("id",f.weeks).end().end().end().find("a").eq(0).attr("id",f.prev).end().eq(1).attr("id",f.next);M=k.find("#"+f.head).find("div").attr("id",f.title);if(c.selectors){var z=d("<select/>").attr("id",f.month),A=d("<select/>").attr("id",f.year);M.html(z.add(A))}for(var $=
k.find("#"+f.days),O=0;O<7;O++)$.append(d("<span/>").text(s.shortDays[(O+c.firstDay)%7]));d("body").append(k)}if(c.trigger)L=d("<a/>").attr("href","#").addClass(f.trigger).click(function(b){h.show();return b.preventDefault()}).insertAfter(a);var K=k.find("#"+f.weeks);A=k.find("#"+f.year);z=k.find("#"+f.month);d.extend(h,{show:function(b){if(!(a.attr("readonly")||a.attr("disabled")||w)){b=b||d.Event();b.type="onBeforeShow";H.trigger(b);if(!b.isDefaultPrevented()){d.each(W,function(){this.hide()});
w=true;z.unbind("change").change(function(){h.setValue(A.val(),d(this).val())});A.unbind("change").change(function(){h.setValue(d(this).val(),z.val())});I=k.find("#"+f.prev).unbind("click").click(function(){I.hasClass(f.disabled)||h.addMonth(-1);return false});J=k.find("#"+f.next).unbind("click").click(function(){J.hasClass(f.disabled)||h.addMonth();return false});h.setValue(n);var e=a.offset();if(/iPad/i.test(navigator.userAgent))e.top-=d(window).scrollTop();k.css({top:e.top+a.outerHeight({margins:true})+
c.offset[0],left:e.left+c.offset[1]});if(c.speed)k.show(c.speed,function(){q(b)});else{k.show();q(b)}return h}}},setValue:function(b,e,g){var i=v(e)>=-1?new Date(v(b),v(e),v(g||1)):b||n;if(i<m)i=m;else if(i>p)i=p;b=i.getFullYear();e=i.getMonth();g=i.getDate();if(e==-1){e=11;b--}else if(e==12){e=0;b++}if(!w){j(i,c);return h}E=e;D=b;g=new Date(b,e,1-c.firstDay);g=g.getDay();var t=R(b,e),o=R(b,e-1),P;if(c.selectors){z.empty();d.each(s.months,function(x,F){m<new Date(b,x+1,-1)&&p>new Date(b,x,0)&&z.append(d("<option/>").html(F).attr("value",
x))});A.empty();i=r.getFullYear();for(var l=i+c.yearRange[0];l<i+c.yearRange[1];l++)m<=new Date(l+1,-1,1)&&p>new Date(l,0,0)&&A.append(d("<option/>").text(l));z.val(e);A.val(b)}else M.html(s.months[e]+" "+b);K.empty();I.add(J).removeClass(f.disabled);l=!g?-7:0;for(var u,y;l<(!g?35:42);l++){u=d("<a/>");if(l%7===0){P=d("<div/>").addClass(f.week);K.append(P)}if(l<g){u.addClass(f.off);y=o-g+l+1;i=new Date(b,e-1,y)}else if(l>=g+t){u.addClass(f.off);y=l-t-g+1;i=new Date(b,e+1,y)}else{y=l-g+1;i=new Date(b,
e,y);if(U(n,i))u.attr("id",f.current).addClass(f.focus);else U(r,i)&&u.attr("id",f.today)}m&&i<m&&u.add(I).addClass(f.disabled);p&&i>p&&u.add(J).addClass(f.disabled);u.attr("href","#"+y).text(y).data("date",i);P.append(u)}K.find("a").click(function(x){var F=d(this);if(!F.hasClass(f.disabled)){d("#"+f.current).removeAttr("id");F.attr("id",f.current);j(F.data("date"),c,x)}return false});f.sunday&&K.find(f.week).each(function(){var x=c.firstDay?7-c.firstDay:0;d(this).children().slice(x,x+1).addClass(f.sunday)});
return h},setMin:function(b,e){m=C(b);e&&n<m&&h.setValue(m);return h},setMax:function(b,e){p=C(b);e&&n>p&&h.setValue(p);return h},today:function(){return h.setValue(r)},addDay:function(b){return this.setValue(D,E,G+(b||1))},addMonth:function(b){return this.setValue(D,E+(b||1),G)},addYear:function(b){return this.setValue(D+(b||1),E,G)},hide:function(b){if(w){b=d.Event();b.type="onHide";H.trigger(b);d(document).unbind("click.d").unbind("keydown.d");if(b.isDefaultPrevented())return;k.hide();w=false}return h},
getConf:function(){return c},getInput:function(){return a},getCalendar:function(){return k},getValue:function(b){return b?T(n,b,c.lang):n},isOpen:function(){return w}});d.each(["onBeforeShow","onShow","change","onHide"],function(b,e){d.isFunction(c[e])&&d(h).bind(e,c[e]);h[e]=function(g){g&&d(h).bind(e,g);return h}});a.bind("focus click",h.show).keydown(function(b){var e=b.keyCode;if(!w&&d(V).index(e)>=0){h.show(b);return b.preventDefault()}return b.shiftKey||b.ctrlKey||b.altKey||e==9?true:b.preventDefault()});
C(a.val())&&j(n,c)}d.tools=d.tools||{version:"1.2.5"};var W=[],Q,V=[75,76,38,39,74,72,40,37],B={};Q=d.tools.dateinput={conf:{format:"mm/dd/yy",selectors:false,yearRange:[-5,5],lang:"en",offset:[0,0],speed:0,firstDay:0,min:undefined,max:undefined,trigger:false,css:{prefix:"cal",input:"date",root:0,head:0,title:0,prev:0,next:0,month:0,year:0,days:0,body:0,weeks:0,today:0,current:0,week:0,off:0,sunday:0,focus:0,disabled:0,trigger:0}},localize:function(a,c){d.each(c,function(j,q){c[j]=q.split(",")});
B[a]=c}};Q.localize("en",{months:"January,February,March,April,May,June,July,August,September,October,November,December",shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",days:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",shortDays:"Sun,Mon,Tue,Wed,Thu,Fri,Sat"});var X=/d{1,4}|m{1,4}|yy(?:yy)?|"[^"]*"|'[^']*'/g,Y=d("<a/>");d.expr[":"].date=function(a){var c=a.getAttribute("type");return c&&c=="date"||!!d(a).data("dateinput")};d.fn.dateinput=function(a){if(this.data("dateinput"))return this;
a=d.extend(true,{},Q.conf,a);d.each(a.css,function(j,q){if(!q&&j!="prefix")a.css[j]=(a.css.prefix||"")+(q||j)});var c;this.each(function(){var j=new Z(d(this),a);W.push(j);j=j.getInput().data("dateinput",j);c=c?c.add(j):j});return c?c:this}})(jQuery);
(function(e){function F(d,a){a=Math.pow(10,a);return Math.round(d*a)/a}function q(d,a){if(a=parseInt(d.css(a),10))return a;return(d=d[0].currentStyle)&&d.width&&parseInt(d.width,10)}function C(d){return(d=d.data("events"))&&d.onSlide}function G(d,a){function h(c,b,f,j){if(f===undefined)f=b/k*z;else if(j)f-=a.min;if(s)f=Math.round(f/s)*s;if(b===undefined||s)b=f*k/z;if(isNaN(f))return g;b=Math.max(0,Math.min(b,k));f=b/k*z;if(j||!n)f+=a.min;if(n)if(j)b=k-b;else f=a.max-f;f=F(f,t);var r=c.type=="click";
if(D&&l!==undefined&&!r){c.type="onSlide";A.trigger(c,[f,b]);if(c.isDefaultPrevented())return g}j=r?a.speed:0;r=r?function(){c.type="change";A.trigger(c,[f])}:null;if(n){m.animate({top:b},j,r);a.progress&&B.animate({height:k-b+m.width()/2},j)}else{m.animate({left:b},j,r);a.progress&&B.animate({width:b+m.width()/2},j)}l=f;H=b;d.val(f);return g}function o(){if(n=a.vertical||q(i,"height")>q(i,"width")){k=q(i,"height")-q(m,"height");u=i.offset().top+k}else{k=q(i,"width")-q(m,"width");u=i.offset().left}}
function v(){o();g.setValue(a.value!==undefined?a.value:a.min)}var g=this,p=a.css,i=e("<div><div/><a href='#'/></div>").data("rangeinput",g),n,l,u,k,H;d.before(i);var m=i.addClass(p.slider).find("a").addClass(p.handle),B=i.find("div").addClass(p.progress);e.each("min,max,step,value".split(","),function(c,b){c=d.attr(b);if(parseFloat(c))a[b]=parseFloat(c,10)});var z=a.max-a.min,s=a.step=="any"?0:a.step,t=a.precision;if(t===undefined)try{t=s.toString().split(".")[1].length}catch(I){t=0}if(d.attr("type")==
"range"){var w=e("<input/>");e.each("class,disabled,id,maxlength,name,readonly,required,size,style,tabindex,title,value".split(","),function(c,b){w.attr(b,d.attr(b))});w.val(a.value);d.replaceWith(w);d=w}d.addClass(p.input);var A=e(g).add(d),D=true;e.extend(g,{getValue:function(){return l},setValue:function(c,b){o();return h(b||e.Event("api"),undefined,c,true)},getConf:function(){return a},getProgress:function(){return B},getHandle:function(){return m},getInput:function(){return d},step:function(c,
b){b=b||e.Event();var f=a.step=="any"?1:a.step;g.setValue(l+f*(c||1),b)},stepUp:function(c){return g.step(c||1)},stepDown:function(c){return g.step(-c||-1)}});e.each("onSlide,change".split(","),function(c,b){e.isFunction(a[b])&&e(g).bind(b,a[b]);g[b]=function(f){f&&e(g).bind(b,f);return g}});m.drag({drag:false}).bind("dragStart",function(){o();D=C(e(g))||C(d)}).bind("drag",function(c,b,f){if(d.is(":disabled"))return false;h(c,n?b:f)}).bind("dragEnd",function(c){if(!c.isDefaultPrevented()){c.type=
"change";A.trigger(c,[l])}}).click(function(c){return c.preventDefault()});i.click(function(c){if(d.is(":disabled")||c.target==m[0])return c.preventDefault();o();var b=m.width()/2;h(c,n?k-u-b+c.pageY:c.pageX-u-b)});a.keyboard&&d.keydown(function(c){if(!d.attr("readonly")){var b=c.keyCode,f=e([75,76,38,33,39]).index(b)!=-1,j=e([74,72,40,34,37]).index(b)!=-1;if((f||j)&&!(c.shiftKey||c.altKey||c.ctrlKey)){if(f)g.step(b==33?10:1,c);else if(j)g.step(b==34?-10:-1,c);return c.preventDefault()}}});d.blur(function(c){var b=
e(this).val();b!==l&&g.setValue(b,c)});e.extend(d[0],{stepUp:g.stepUp,stepDown:g.stepDown});v();k||e(window).load(v)}e.tools=e.tools||{version:"1.2.5"};var E;E=e.tools.rangeinput={conf:{min:0,max:100,step:"any",steps:0,value:0,precision:undefined,vertical:0,keyboard:true,progress:false,speed:100,css:{input:"range",slider:"slider",progress:"progress",handle:"handle"}}};var x,y;e.fn.drag=function(d){document.ondragstart=function(){return false};d=e.extend({x:true,y:true,drag:true},d);x=x||e(document).bind("mousedown mouseup",
function(a){var h=e(a.target);if(a.type=="mousedown"&&h.data("drag")){var o=h.position(),v=a.pageX-o.left,g=a.pageY-o.top,p=true;x.bind("mousemove.drag",function(i){var n=i.pageX-v;i=i.pageY-g;var l={};if(d.x)l.left=n;if(d.y)l.top=i;if(p){h.trigger("dragStart");p=false}d.drag&&h.css(l);h.trigger("drag",[i,n]);y=h});a.preventDefault()}else try{y&&y.trigger("dragEnd")}finally{x.unbind("mousemove.drag");y=null}});return this.data("drag",true)};e.expr[":"].range=function(d){var a=d.getAttribute("type");
return a&&a=="range"||!!e(d).filter("input").data("rangeinput")};e.fn.rangeinput=function(d){if(this.data("rangeinput"))return this;d=e.extend(true,{},E.conf,d);var a;this.each(function(){var h=new G(e(this),e.extend(true,{},d));h=h.getInput().data("rangeinput",h);a=a?a.add(h):h});return a?a:this}})(jQuery);
(function(e){function t(a,b,c){var k=a.offset().top,f=a.offset().left,l=c.position.split(/,?\s+/),p=l[0];l=l[1];k-=b.outerHeight()-c.offset[0];f+=a.outerWidth()+c.offset[1];if(/iPad/i.test(navigator.userAgent))k-=e(window).scrollTop();c=b.outerHeight()+a.outerHeight();if(p=="center")k+=c/2;if(p=="bottom")k+=c;a=a.outerWidth();if(l=="center")f-=(a+b.outerWidth())/2;if(l=="left")f-=a;return{top:k,left:f}}function y(a){function b(){return this.getAttribute("type")==a}b.key="[type="+a+"]";return b}function u(a,
b,c){function k(g,d,i){if(!(!c.grouped&&g.length)){var j;if(i===false||e.isArray(i)){j=h.messages[d.key||d]||h.messages["*"];j=j[c.lang]||h.messages["*"].en;(d=j.match(/\$\d/g))&&e.isArray(i)&&e.each(d,function(m){j=j.replace(this,i[m])})}else j=i[c.lang]||i;g.push(j)}}var f=this,l=b.add(f);a=a.not(":button, :image, :reset, :submit");e.extend(f,{getConf:function(){return c},getForm:function(){return b},getInputs:function(){return a},reflow:function(){a.each(function(){var g=e(this),d=g.data("msg.el");
if(d){g=t(g,d,c);d.css({top:g.top,left:g.left})}});return f},invalidate:function(g,d){if(!d){var i=[];e.each(g,function(j,m){j=a.filter("[name='"+j+"']");if(j.length){j.trigger("OI",[m]);i.push({input:j,messages:[m]})}});g=i;d=e.Event()}d.type="onFail";l.trigger(d,[g]);d.isDefaultPrevented()||q[c.effect][0].call(f,g,d);return f},reset:function(g){g=g||a;g.removeClass(c.errorClass).each(function(){var d=e(this).data("msg.el");if(d){d.remove();e(this).data("msg.el",null)}}).unbind(c.errorInputEvent||
"");return f},destroy:function(){b.unbind(c.formEvent+".V").unbind("reset.V");a.unbind(c.inputEvent+".V").unbind("change.V");return f.reset()},checkValidity:function(g,d){g=g||a;g=g.not(":disabled");if(!g.length)return true;d=d||e.Event();d.type="onBeforeValidate";l.trigger(d,[g]);if(d.isDefaultPrevented())return d.result;var i=[];g.not(":radio:not(:checked)").each(function(){var m=[],n=e(this).data("messages",m),v=r&&n.is(":date")?"onHide.v":c.errorInputEvent+".v";n.unbind(v);e.each(w,function(){var o=
this,s=o[0];if(n.filter(s).length){o=o[1].call(f,n,n.val());if(o!==true){d.type="onBeforeFail";l.trigger(d,[n,s]);if(d.isDefaultPrevented())return false;var x=n.attr(c.messageAttr);if(x){m=[x];return false}else k(m,s,o)}}});if(m.length){i.push({input:n,messages:m});n.trigger("OI",[m]);c.errorInputEvent&&n.bind(v,function(o){f.checkValidity(n,o)})}if(c.singleError&&i.length)return false});var j=q[c.effect];if(!j)throw'Validator: cannot find effect "'+c.effect+'"';if(i.length){f.invalidate(i,d);return false}else{j[1].call(f,
g,d);d.type="onSuccess";l.trigger(d,[g]);g.unbind(c.errorInputEvent+".v")}return true}});e.each("onBeforeValidate,onBeforeFail,onFail,onSuccess".split(","),function(g,d){e.isFunction(c[d])&&e(f).bind(d,c[d]);f[d]=function(i){i&&e(f).bind(d,i);return f}});c.formEvent&&b.bind(c.formEvent+".V",function(g){if(!f.checkValidity(null,g))return g.preventDefault()});b.bind("reset.V",function(){f.reset()});a[0]&&a[0].validity&&a.each(function(){this.oninvalid=function(){return false}});if(b[0])b[0].checkValidity=
f.checkValidity;c.inputEvent&&a.bind(c.inputEvent+".V",function(g){f.checkValidity(e(this),g)});a.filter(":checkbox, select").filter("[required]").bind("change.V",function(g){var d=e(this);if(this.checked||d.is("select")&&e(this).val())q[c.effect][1].call(f,d,g)});var p=a.filter(":radio").change(function(g){f.checkValidity(p,g)});e(window).resize(function(){f.reflow()})}e.tools=e.tools||{version:"1.2.5"};var z=/\[type=([a-z]+)\]/,A=/^-?[0-9]*(\.[0-9]+)?$/,r=e.tools.dateinput,B=/^([a-z0-9_\.\-\+]+)@([\da-z\.\-]+)\.([a-z\.]{2,6})$/i,
C=/^(https?:\/\/)?[\da-z\.\-]+\.[a-z\.]{2,6}[#&+_\?\/\w \.\-=]*$/i,h;h=e.tools.validator={conf:{grouped:false,effect:"default",errorClass:"invalid",inputEvent:null,errorInputEvent:"keyup",formEvent:"submit",lang:"en",message:"<div/>",messageAttr:"data-message",messageClass:"error",offset:[0,0],position:"center right",singleError:false,speed:"normal"},messages:{"*":{en:"Please correct this value"}},localize:function(a,b){e.each(b,function(c,k){h.messages[c]=h.messages[c]||{};h.messages[c][a]=k})},
localizeFn:function(a,b){h.messages[a]=h.messages[a]||{};e.extend(h.messages[a],b)},fn:function(a,b,c){if(e.isFunction(b))c=b;else{if(typeof b=="string")b={en:b};this.messages[a.key||a]=b}if(b=z.exec(a))a=y(b[1]);w.push([a,c])},addEffect:function(a,b,c){q[a]=[b,c]}};var w=[],q={"default":[function(a){var b=this.getConf();e.each(a,function(c,k){c=k.input;c.addClass(b.errorClass);var f=c.data("msg.el");if(!f){f=e(b.message).addClass(b.messageClass).appendTo(document.body);c.data("msg.el",f)}f.css({visibility:"hidden"}).find("p").remove();
e.each(k.messages,function(l,p){e("<p/>").html(p).appendTo(f)});f.outerWidth()==f.parent().width()&&f.add(f.find("p")).css({display:"inline"});k=t(c,f,b);f.css({visibility:"visible",position:"absolute",top:k.top,left:k.left}).fadeIn(b.speed)})},function(a){var b=this.getConf();a.removeClass(b.errorClass).each(function(){var c=e(this).data("msg.el");c&&c.css({visibility:"hidden"})})}]};e.each("email,url,number".split(","),function(a,b){e.expr[":"][b]=function(c){return c.getAttribute("type")===b}});
e.fn.oninvalid=function(a){return this[a?"bind":"trigger"]("OI",a)};h.fn(":email","Please enter a valid email address",function(a,b){return!b||B.test(b)});h.fn(":url","Please enter a valid URL",function(a,b){return!b||C.test(b)});h.fn(":number","Please enter a numeric value.",function(a,b){return A.test(b)});h.fn("[max]","Please enter a value smaller than $1",function(a,b){if(b===""||r&&a.is(":date"))return true;a=a.attr("max");return parseFloat(b)<=parseFloat(a)?true:[a]});h.fn("[min]","Please enter a value larger than $1",
function(a,b){if(b===""||r&&a.is(":date"))return true;a=a.attr("min");return parseFloat(b)>=parseFloat(a)?true:[a]});h.fn("[required]","Please complete this mandatory field.",function(a,b){if(a.is(":checkbox"))return a.is(":checked");return!!b});h.fn("[pattern]",function(a){var b=new RegExp("^"+a.attr("pattern")+"$");return b.test(a.val())});e.fn.validator=function(a){var b=this.data("validator");if(b){b.destroy();this.removeData("validator")}a=e.extend(true,{},h.conf,a);if(this.is("form"))return this.each(function(){var c=
e(this);b=new u(c.find(":input"),c,a);c.data("validator",b)});else{b=new u(this,this.eq(0).closest("form"),a);return this.data("validator",b)}}})(jQuery);
/* Copyright (c) 2009 Brandon Aaron (http://brandonaaron.net)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 *
 * Version: 3.0.2
 * 
 * Requires: 1.2.2+
 */
(function(c){var a=["DOMMouseScroll","mousewheel"];c.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var d=a.length;d;){this.addEventListener(a[--d],b,false)}}else{this.onmousewheel=b}},teardown:function(){if(this.removeEventListener){for(var d=a.length;d;){this.removeEventListener(a[--d],b,false)}}else{this.onmousewheel=null}}};c.fn.extend({mousewheel:function(d){return d?this.bind("mousewheel",d):this.trigger("mousewheel")},unmousewheel:function(d){return this.unbind("mousewheel",d)}});function b(f){var d=[].slice.call(arguments,1),g=0,e=true;f=c.event.fix(f||window.event);f.type="mousewheel";if(f.wheelDelta){g=f.wheelDelta/120}if(f.detail){g=-f.detail/3}d.unshift(f,g);return c.event.handle.apply(this,d)}})(jQuery);/*
 * jScrollPane - v2.0.0beta5 - 2010-09-18
 * http://jscrollpane.kelvinluck.com/
 *
 * Copyright (c) 2010 Kelvin Luck
 * Dual licensed under the MIT and GPL licenses.
 */
(function(b,a,c){b.fn.jScrollPane=function(f){function d(C,L){var au,N=this,V,ah,v,aj,Q,W,y,q,av,aB,ap,i,H,h,j,X,R,al,U,t,A,am,ac,ak,F,l,ao,at,x,aq,aE,g,aA,ag=true,M=true,aD=false,k=false,Z=b.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";aE=C.css("paddingTop")+" "+C.css("paddingRight")+" "+C.css("paddingBottom")+" "+C.css("paddingLeft");g=(parseInt(C.css("paddingLeft"))||0)+(parseInt(C.css("paddingRight"))||0);an(L);function an(aH){var aL,aK,aJ,aG,aF,aI;au=aH;if(V==c){C.css({overflow:"hidden",padding:0});ah=C.innerWidth()+g;v=C.innerHeight();C.width(ah);V=b('<div class="jspPane" />').wrap(b('<div class="jspContainer" />').css({width:ah+"px",height:v+"px"}));C.wrapInner(V.parent());aj=C.find(">.jspContainer");V=aj.find(">.jspPane");V.css("padding",aE)}else{C.css("width",null);aI=C.outerWidth()+g!=ah||C.outerHeight()!=v;if(aI){ah=C.innerWidth()+g;v=C.innerHeight();aj.css({width:ah+"px",height:v+"px"})}aA=V.innerWidth();if(!aI&&V.outerWidth()==Q&&V.outerHeight()==W){if(aB||av){V.css("width",aA+"px");C.css("width",(aA+g)+"px")}return}V.css("width",null);C.css("width",(ah)+"px");aj.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}aL=V.clone().css("position","absolute");aK=b('<div style="width:1px; position: relative;" />').append(aL);b("body").append(aK);Q=Math.max(V.outerWidth(),aL.outerWidth());aK.remove();W=V.outerHeight();y=Q/ah;q=W/v;av=q>1;aB=y>1;if(!(aB||av)){C.removeClass("jspScrollable");V.css({top:0,width:aj.width()-g});n();D();O();w();af()}else{C.addClass("jspScrollable");aJ=au.maintainPosition&&(H||X);if(aJ){aG=ay();aF=aw()}aC();z();E();if(aJ){K(aG);J(aF)}I();ad();if(au.enableKeyboardNavigation){P()}if(au.clickOnTrack){p()}B();if(au.hijackInternalLinks){m()}}if(au.autoReinitialise&&!aq){aq=setInterval(function(){an(au)},au.autoReinitialiseDelay)}else{if(!au.autoReinitialise&&aq){clearInterval(aq)}}C.trigger("jsp-initialised",[aB||av])}function aC(){if(av){aj.append(b('<div class="jspVerticalBar" />').append(b('<div class="jspCap jspCapTop" />'),b('<div class="jspTrack" />').append(b('<div class="jspDrag" />').append(b('<div class="jspDragTop" />'),b('<div class="jspDragBottom" />'))),b('<div class="jspCap jspCapBottom" />')));R=aj.find(">.jspVerticalBar");al=R.find(">.jspTrack");ap=al.find(">.jspDrag");if(au.showArrows){am=b('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",az(0,-1)).bind("click.jsp",ax);ac=b('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",az(0,1)).bind("click.jsp",ax);if(au.arrowScrollOnHover){am.bind("mouseover.jsp",az(0,-1,am));ac.bind("mouseover.jsp",az(0,1,ac))}ai(al,au.verticalArrowPositions,am,ac)}t=v;aj.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){t-=b(this).outerHeight()});ap.hover(function(){ap.addClass("jspHover")},function(){ap.removeClass("jspHover")}).bind("mousedown.jsp",function(aF){b("html").bind("dragstart.jsp selectstart.jsp",function(){return false});ap.addClass("jspActive");var s=aF.pageY-ap.position().top;b("html").bind("mousemove.jsp",function(aG){S(aG.pageY-s,false)}).bind("mouseup.jsp mouseleave.jsp",ar);return false});o()}}function o(){al.height(t+"px");H=0;U=au.verticalGutter+al.outerWidth();V.width(ah-U-g);if(R.position().left==0){V.css("margin-left",U+"px")}}function z(){if(aB){aj.append(b('<div class="jspHorizontalBar" />').append(b('<div class="jspCap jspCapLeft" />'),b('<div class="jspTrack" />').append(b('<div class="jspDrag" />').append(b('<div class="jspDragLeft" />'),b('<div class="jspDragRight" />'))),b('<div class="jspCap jspCapRight" />')));ak=aj.find(">.jspHorizontalBar");F=ak.find(">.jspTrack");h=F.find(">.jspDrag");if(au.showArrows){at=b('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",az(-1,0)).bind("click.jsp",ax);x=b('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",az(1,0)).bind("click.jsp",ax);
if(au.arrowScrollOnHover){at.bind("mouseover.jsp",az(-1,0,at));x.bind("mouseover.jsp",az(1,0,x))}ai(F,au.horizontalArrowPositions,at,x)}h.hover(function(){h.addClass("jspHover")},function(){h.removeClass("jspHover")}).bind("mousedown.jsp",function(aF){b("html").bind("dragstart.jsp selectstart.jsp",function(){return false});h.addClass("jspActive");var s=aF.pageX-h.position().left;b("html").bind("mousemove.jsp",function(aG){T(aG.pageX-s,false)}).bind("mouseup.jsp mouseleave.jsp",ar);return false});l=aj.innerWidth();ae()}else{}}function ae(){aj.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){l-=b(this).outerWidth()});F.width(l+"px");X=0}function E(){if(aB&&av){var aF=F.outerHeight(),s=al.outerWidth();t-=aF;b(ak).find(">.jspCap:visible,>.jspArrow").each(function(){l+=b(this).outerWidth()});l-=s;v-=s;ah-=aF;F.parent().append(b('<div class="jspCorner" />').css("width",aF+"px"));o();ae()}if(aB){V.width((aj.outerWidth()-g)+"px")}W=V.outerHeight();q=W/v;if(aB){ao=1/y*l;if(ao>au.horizontalDragMaxWidth){ao=au.horizontalDragMaxWidth}else{if(ao<au.horizontalDragMinWidth){ao=au.horizontalDragMinWidth}}h.width(ao+"px");j=l-ao;ab(X)}if(av){A=1/q*t;if(A>au.verticalDragMaxHeight){A=au.verticalDragMaxHeight}else{if(A<au.verticalDragMinHeight){A=au.verticalDragMinHeight}}ap.height(A+"px");i=t-A;aa(H)}}function ai(aG,aI,aF,s){var aK="before",aH="after",aJ;if(aI=="os"){aI=/Mac/.test(navigator.platform)?"after":"split"}if(aI==aK){aH=aI}else{if(aI==aH){aK=aI;aJ=aF;aF=s;s=aJ}}aG[aK](aF)[aH](s)}function az(aF,s,aG){return function(){G(aF,s,this,aG);this.blur();return false}}function G(aH,aF,aK,aJ){aK=b(aK).addClass("jspActive");var aI,s=function(){if(aH!=0){T(X+aH*au.arrowButtonSpeed,false)}if(aF!=0){S(H+aF*au.arrowButtonSpeed,false)}},aG=setInterval(s,au.arrowRepeatFreq);s();aI=aJ==c?"mouseup.jsp":"mouseout.jsp";aJ=aJ||b("html");aJ.bind(aI,function(){aK.removeClass("jspActive");clearInterval(aG);aJ.unbind(aI)})}function p(){w();if(av){al.bind("mousedown.jsp",function(aH){if(aH.originalTarget==c||aH.originalTarget==aH.currentTarget){var aG=b(this),s=setInterval(function(){var aI=aG.offset(),aJ=aH.pageY-aI.top;if(H+A<aJ){S(H+au.trackClickSpeed)}else{if(aJ<H){S(H-au.trackClickSpeed)}else{aF()}}},au.trackClickRepeatFreq),aF=function(){s&&clearInterval(s);s=null;b(document).unbind("mouseup.jsp",aF)};b(document).bind("mouseup.jsp",aF);return false}})}if(aB){F.bind("mousedown.jsp",function(aH){if(aH.originalTarget==c||aH.originalTarget==aH.currentTarget){var aG=b(this),s=setInterval(function(){var aI=aG.offset(),aJ=aH.pageX-aI.left;if(X+ao<aJ){T(X+au.trackClickSpeed)}else{if(aJ<X){T(X-au.trackClickSpeed)}else{aF()}}},au.trackClickRepeatFreq),aF=function(){s&&clearInterval(s);s=null;b(document).unbind("mouseup.jsp",aF)};b(document).bind("mouseup.jsp",aF);return false}})}}function w(){F&&F.unbind("mousedown.jsp");al&&al.unbind("mousedown.jsp")}function ar(){b("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");ap&&ap.removeClass("jspActive");h&&h.removeClass("jspActive")}function S(s,aF){if(!av){return}if(s<0){s=0}else{if(s>i){s=i}}if(aF==c){aF=au.animateScroll}if(aF){N.animate(ap,"top",s,aa)}else{ap.css("top",s);aa(s)}}function aa(aF){if(aF==c){aF=ap.position().top}aj.scrollTop(0);H=aF;var aI=H==0,aG=H==i,aH=aF/i,s=-aH*(W-v);if(ag!=aI||aD!=aG){ag=aI;aD=aG;C.trigger("jsp-arrow-change",[ag,aD,M,k])}u(aI,aG);V.css("top",s);C.trigger("jsp-scroll-y",[-s,aI,aG])}function T(aF,s){if(!aB){return}if(aF<0){aF=0}else{if(aF>j){aF=j}}if(s==c){s=au.animateScroll}if(s){N.animate(h,"left",aF,ab)}else{h.css("left",aF);ab(aF)}}function ab(aF){if(aF==c){aF=h.position().left}aj.scrollTop(0);X=aF;var aI=X==0,aH=X==j,aG=aF/j,s=-aG*(Q-ah);if(M!=aI||k!=aH){M=aI;k=aH;C.trigger("jsp-arrow-change",[ag,aD,M,k])}r(aI,aH);V.css("left",s);C.trigger("jsp-scroll-x",[-s,aI,aH])}function u(aF,s){if(au.showArrows){am[aF?"addClass":"removeClass"]("jspDisabled");ac[s?"addClass":"removeClass"]("jspDisabled")}}function r(aF,s){if(au.showArrows){at[aF?"addClass":"removeClass"]("jspDisabled");
x[s?"addClass":"removeClass"]("jspDisabled")}}function J(s,aF){var aG=s/(W-v);S(aG*i,aF)}function K(aF,s){var aG=aF/(Q-ah);T(aG*j,s)}function Y(aN,aL,aF){var aJ,aH,s=0,aG,aK,aM;try{aJ=b(aN)}catch(aI){return}aH=aJ.outerHeight();aj.scrollTop(0);while(!aJ.is(".jspPane")){s+=aJ.position().top;aJ=aJ.offsetParent();if(/^body|html$/i.test(aJ[0].nodeName)){return}}aG=aw();aK=aG+v;if(s<aG||aL){aM=s-au.verticalGutter}else{if(s+aH>aK){aM=s-v+aH+au.verticalGutter}}if(aM){J(aM,aF)}}function ay(){return -V.position().left}function aw(){return -V.position().top}function ad(){aj.unbind(Z).bind(Z,function(aI,aJ,aH,aF){var aG=X,s=H;T(X+aH*au.mouseWheelSpeed,false);S(H-aF*au.mouseWheelSpeed,false);return aG==X&&s==H})}function n(){aj.unbind(Z)}function ax(){return false}function I(){V.unbind("focusin.jsp").bind("focusin.jsp",function(s){if(s.target===V[0]){return}Y(s.target,false)})}function D(){V.unbind("focusin.jsp")}function P(){var aF,s;C.attr("tabindex",0).unbind("keydown.jsp").bind("keydown.jsp",function(aJ){if(aJ.target!==C[0]){return}var aH=X,aG=H,aI=aF?2:16;switch(aJ.keyCode){case 40:S(H+aI,false);break;case 38:S(H-aI,false);break;case 34:case 32:J(aw()+Math.max(32,v)-16);break;case 33:J(aw()-v+16);break;case 35:J(W-v);break;case 36:J(0);break;case 39:T(X+aI,false);break;case 37:T(X-aI,false);break}if(!(aH==X&&aG==H)){aF=true;clearTimeout(s);s=setTimeout(function(){aF=false},260);return false}});if(au.hideFocus){C.css("outline","none");if("hideFocus" in aj[0]){C.attr("hideFocus",true)}}else{C.css("outline","");if("hideFocus" in aj[0]){C.attr("hideFocus",false)}}}function O(){C.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp")}function B(){if(location.hash&&location.hash.length>1){var aG,aF;try{aG=b(location.hash)}catch(s){return}if(aG.length&&V.find(aG)){if(aj.scrollTop()==0){aF=setInterval(function(){if(aj.scrollTop()>0){Y(location.hash,true);b(document).scrollTop(aj.position().top);clearInterval(aF)}},50)}else{Y(location.hash,true);b(document).scrollTop(aj.position().top)}}}}function af(){b("a.jspHijack").unbind("click.jsp-hijack").removeClass("jspHijack")}function m(){af();b("a[href^=#]").addClass("jspHijack").bind("click.jsp-hijack",function(){var s=this.href.split("#"),aF;if(s.length>1){aF=s[1];if(aF.length>0&&V.find("#"+aF).length>0){Y("#"+aF,true);return false}}})}b.extend(N,{reinitialise:function(aF){aF=b.extend({},aF,au);an(aF)},scrollToElement:function(aG,aF,s){Y(aG,aF,s)},scrollTo:function(aG,s,aF){K(aG,aF);J(s,aF)},scrollToX:function(aF,s){K(aF,s)},scrollToY:function(s,aF){J(s,aF)},scrollBy:function(aF,s,aG){N.scrollByX(aF,aG);N.scrollByY(s,aG)},scrollByX:function(s,aG){var aF=ay()+s,aH=aF/(Q-ah);T(aH*j,aG)},scrollByY:function(s,aG){var aF=aw()+s,aH=aF/(W-v);S(aH*i,aG)},animate:function(aF,aI,s,aH){var aG={};aG[aI]=s;aF.animate(aG,{duration:au.animateDuration,ease:au.animateEase,queue:false,step:aH})},getContentPositionX:function(){return ay()},getContentPositionY:function(){return aw()},getIsScrollableH:function(){return aB},getIsScrollableV:function(){return av},getContentPane:function(){return V},scrollToBottom:function(s){S(i,s)},hijackInternalLinks:function(){m()}})}f=b.extend({},b.fn.jScrollPane.defaults,f);var e;this.each(function(){var g=b(this),h=g.data("jsp");if(h){h.reinitialise(f)}else{h=new d(g,f);g.data("jsp",h)}e=e?e.add(g):g});return e};b.fn.jScrollPane.defaults={showArrows:false,maintainPosition:true,clickOnTrack:true,autoReinitialise:false,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,animateScroll:false,animateDuration:300,animateEase:"linear",hijackInternalLinks:false,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:10,arrowButtonSpeed:10,arrowRepeatFreq:100,arrowScrollOnHover:false,trackClickSpeed:30,trackClickRepeatFreq:100,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:true,hideFocus:false}})(jQuery,this);
(function(d){d.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(f,e){d.fx.step[e]=function(g){if(g.state==0){g.start=c(g.elem,e);g.end=b(g.end)}g.elem.style[e]="rgb("+[Math.max(Math.min(parseInt((g.pos*(g.end[0]-g.start[0]))+g.start[0]),255),0),Math.max(Math.min(parseInt((g.pos*(g.end[1]-g.start[1]))+g.start[1]),255),0),Math.max(Math.min(parseInt((g.pos*(g.end[2]-g.start[2]))+g.start[2]),255),0)].join(",")+")"}});function b(f){var e;if(f&&f.constructor==Array&&f.length==3){return f}if(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(f)){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}if(e=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(f)){return[parseFloat(e[1])*2.55,parseFloat(e[2])*2.55,parseFloat(e[3])*2.55]}if(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(f)){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}if(e=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(f)){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}return a[d.trim(f).toLowerCase()]}function c(g,e){var f;do{f=d.curCSS(g,e);if(f!=""&&f!="transparent"||d.nodeName(g,"body")){break}e="backgroundColor"}while(g=g.parentNode);return b(f)}var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);var pxl_pgclick;PgClick={use_pixel:false,use_sleep:0,rand:function(length){var chars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";var randomstring='';for(var i=0;i<length;i++){var rnum=Math.floor(Math.random()*chars.length);randomstring+=chars.substring(rnum,rnum+1);}
return randomstring;},sleep:function(ms){var startTime=new Date().getTime();while(new Date().getTime()<startTime+ms);},send:function(click_data){if(this.use_pixel==true){var qstring=$.param(click_data);var dev_user=(pgbundle.dev_user)?pgbundle.dev_user+'.':'';var default_url='www.'+dev_user+'pricegrabber.com';var url=(pgbundle.cobrand_server?pgbundle.cobrand_server:'http://'+default_url)+'/pgclick.php?'+qstring;if(document.location.protocol=='https:'){url=(pgbundle.secure_server?pgbundle.secure_server:'https://'+default_url)+'/pgclick.php?'+qstring;}
if(typeof pxl_pgclick!='undefined'){pxl_pgclick.attr('src',url);}
else{pxl_pgclick=$('<img/>',{'src':url});pxl_pgclick.hide();$('body').append(pxl_pgclick);}}
else{$.ajax({url:'/pgclick.php',data:click_data,cache:false,async:false});}},parse_pgip:function(class_attr){if(typeof class_attr=='undefined'){return null;}
click_data=[];if(class_attr.match(/pgip_/)){var i=0;var classes=[],class_fields=[];classes=class_attr.split(' ');for(i=0;i<classes.length;i++){if(classes[i].match(/^pgip_/)){class_fields=classes[i].split('_');click_data[0]={};click_data[0].mof_id=(class_fields[1]>0)?class_fields[1]:'';click_data[0].mof_line_id=(class_fields[2]>0)?class_fields[2]:'';click_data[0].client_id=(class_fields[3]>0)?class_fields[3]:'';click_data[0].target_product_id=(class_fields.length>4&&class_fields[4]>0)?class_fields[4]:'';break;}}}
return(click_data.length>0)?click_data[0]:null;},parse_pgtarget:function(class_attr){if(typeof class_attr=='undefined'){return null;}
click_data=[];if(class_attr.match(/pgtarget\-/)){var i=0;var classes=[],class_fields=[];classes=class_attr.split(' ');for(i=0;i<classes.length;i++){if(classes[i].match(/^pgtarget\-/)){class_fields=classes[i].split('-');click_data[0]={};click_data[0].identifier2=(class_fields[1].length>0)?class_fields[1]:'';break;}}}
return(click_data.length>0)?click_data[0]:null;},parse_pgposition:function(class_attr){if(typeof class_attr=='undefined'){return null;}
click_data=[];if(class_attr.match(/pgposition\-/)){var i=0;var classes=[],class_fields=[];classes=class_attr.split(' ');for(i=0;i<classes.length;i++){if(classes[i].match(/^pgposition\-/)){class_fields=classes[i].split('-');click_data[0]={};click_data[0].position=(class_fields[1].length>0)?class_fields[1]:'';break;}}}
return(click_data.length>0)?click_data[0]:null;},track:function(element,click_data){if(!(click_data instanceof Object)){click_data={};}
if(!click_data.click_type){this._parseClickTypeData(element,click_data);}
if(!click_data.click_type){return;}
var pgip_data=this.parse_pgip($(element).attr('class'));if(pgip_data!=null){click_data.mof_id=pgip_data.mof_id;click_data.mof_line_id=pgip_data.mof_line_id;click_data.client_id=pgip_data.client_id;click_data.target_product_id=pgip_data.target_product_id;}
var pgtarget_data=this.parse_pgtarget($(element).attr('class'));if(pgtarget_data!=null&&(typeof click_data.identifier2=='unidentified'||click_data.identifier2==null)){click_data.identifier2=pgtarget_data.identifier2;}
var pgposition_data=this.parse_pgposition($(element).attr('class'));if(pgposition_data!=null){click_data.position=pgposition_data.position;}
$(element).trigger({'type':'pgclick','click_data':click_data});},trigger_send:function(extra_click_data){click_data={};if(this.use_pixel==true){click_data.k=this.rand(10);}
if(pgbundle.ab_name){click_data.ab_name=pgbundle.ab_name;}
if(pgbundle.ab_test_group){click_data.ab_test_group=pgbundle.ab_test_group;}
if(pgbundle.current_page){click_data.page_type=pgbundle.current_page;}
if(pgbundle.topcat_id){click_data.topcat_id=pgbundle.topcat_id;}
if(pgbundle.catzero_id){click_data.catzero_id=pgbundle.catzero_id;}
if(pgbundle.page_id){click_data.page_id=pgbundle.page_id;}
if(pgbundle.product_id){click_data.product_id=pgbundle.product_id;}
if(pgbundle.product_id_type){click_data.product_id_type=pgbundle.product_id_type;}
if(pgbundle.traffic_type){click_data.traffic_type=pgbundle.traffic_type;}
if(pgbundle.is_landing){click_data.is_landing=pgbundle.is_landing;}
if(pgbundle.display_layout){click_data.list_grid=pgbundle.display_layout;}
if($('div.single_seller').length>0){click_data.single_seller_count=$('div.single_seller').length;}
if($('P.singleSeller').length>0&&pgbundle.traffic_type!=='paid'){click_data.single_seller_count=$('P.singleSeller').length;}
if(pgbundle.offer_count){click_data.offer_count=pgbundle.offer_count;}
if(pgbundle.page_view_id){click_data.page_view_id=pgbundle.page_view_id;}
if(pgbundle.dw_search_epoch_time){click_data.search_epoch_time=pgbundle.dw_search_epoch_time;}
click_data.search_id=pgbundle.dw_search_id;click_data.session_id=pgbundle.dw_session_id;click_data.page_uri=pgbundle.page_uri?pgbundle.page_uri:window.location.href;$.extend(click_data,extra_click_data);PgClick.send(click_data);},_parseClickTypeData:function(element,click_data){if(!click_data.click_type){link=element.className||$(element).attr("class");var type=/\bpgc(om|dw)?_(\d+)\b/.exec(link);if(type){var click_info=pgbundle[type[2]];if(click_info&&typeof click_info=='object'){click_data.click_type=click_info.click_type;if(click_info.identifier1){click_data.identifier1=click_info.identifier1;}
if(click_info.identifier2){click_data.identifier2=click_info.identifier2;}
if(click_info.identifier3){click_data.identifier3=click_info.identifier3;}
if(click_info.identifier4){click_data.identifier4=click_info.identifier4;}
if(click_info.identifier5){click_data.identifier5=click_info.identifier5;}}
else{click_data.click_type=click_info;}}}},_getPropName:function(current_page){var prop_map={'home':'prop48','search':'prop49','search_arbitrage':'prop49','topcat_search':'prop49','search_attrib':'prop50','home_deals':'prop53','deals_category':'prop53','deals_attrib':'prop53','deals_getprod':'prop53','search_getprod':'prop54','rating_getprodrev':'prop54','pur_index':'prop54','home_catpage':'prop57','search_compare':'prop53'};if(prop_map[current_page]){return prop_map[current_page];}
else{return'prop30';}},getModuleIdentifier:function(element){link=element.className||$(element).attr("class");var module_identifier=/\bpgm?_(\d+)\b/.exec(link);if(module_identifier[1]&&pgbundle[module_identifier[1]]){return pgbundle[module_identifier[1]];}
return'';},getLinkText:function(element){var text_nodes=$(element).contents().filter(function(){return this.nodeType==3;});var link_text='';text_nodes.each(function(){if(link_text!=''){link_text+=' ';}
link_text+=$.trim($(this).text());});return link_text;},getElementLinkText:function(element){var link_text=$.trim($(element).text());return link_text;},getLinkTextInParent:function(element,child_selector){var link_text=$.trim($(element).parent().children(child_selector).text());return link_text;},getLinkTextInChild:function(element,child_selector){var link_text=$.trim($(element).children(child_selector).text());return link_text;},getLinkTextInFind:function(element,child_selector){var link_text=$.trim($(element).find(child_selector).text());return link_text;},getLinkAttrInChild:function(element,child_selector,attr_name){var link_text=$.trim($(element).children(child_selector).attr(attr_name));return link_text;},getLinkPosition:function(element,selector){return $(element).parent().find(selector).index(element)+1;},getSelectLinkPosition:function(element,pselector,selector){return $(element).parents(pselector).find(selector).index(element)+1;},getSpecificSelectLinkPosition:function(element,pselector,selector,iselector){return $(element).parents(pselector).find(selector).index(iselector)+1;},getLinkPositionByAddon:function(element,selector,addon){return $(element).parent().find(selector).index(element)+addon;},getProductId:function(element,selector_type){return $(element).attr(selector_type).replace(/[^0-9]+/g,'');},getProductIdFromParent:function(element,pselector,pselector_type){return $(element).parents(pselector).attr(pselector_type).replace(/[^0-9]+/g,'');},getProductIdFromParentSplit:function(element,pselector,pselector_type,index){var fields=$(element).parents(pselector).attr(pselector_type).split('_');return fields[index];}};if(typeof pgbundle!='undefined'&&pgbundle.current_page=='rating_merchrevpopjs'){if(typeof(pgbundle.pgclick_pxl)!='undefined'){PgClick.use_pixel=(pgbundle.pgclick_pxl)?true:false;}}
else{$(window).load(function(){if(typeof(pgbundle.pgclick_pxl)!='undefined'){PgClick.use_pixel=(pgbundle.pgclick_pxl)?true:false;}
if(PgClick.use_pixel&&typeof(pgbundle.pgclick_pxl)!='undefined'){pgbundle.pgclick_sleep=parseInt(pgbundle.pgclick_sleep);PgClick.use_sleep=(pgbundle.pgclick_sleep>0)?pgbundle.pgclick_sleep:0;}
$('body').delegate('div[class~="pgmodule"]','pgclick',function(e){var identifier1=PgClick.getModuleIdentifier(this);if(identifier1){e.click_data.identifier1=identifier1;}});$("body").bind("pgclick",function(e){if(e.click_data){PgClick.trigger_send(e.click_data);}});$('body').delegate('a[class~="pgtrack"], img[class~="pgtrack"], div[class~="pgtrack"], span[class~="pgtrack"]','click',function(e){if(!$(this).hasClass('noautotrack')){PgClick.track(this);}});$(window).bind('beforeunload',function(){if(PgClick.use_pixel&&PgClick.use_sleep>0){PgClick.sleep(PgClick.use_sleep);}});});}
PgLogin={_loginOverlayId:"login_client_overlay",_registerOverlayId:"register_client_overlay",_cookieDomain:pgbundle.cookie_host,_securePath:pgbundle.secure_server,_securityToken:pgbundle.security_token,_ut:pgbundle.ut,_domain0:pgbundle.domain0,_search_id:pgbundle.dw_search_id,_search_epoch_time:pgbundle.dw_search_epoch_time,_page_type:pgbundle.current_page,_overlayConfig:{closeOnClick:true,speed:100,onBeforeLoad:function(){PgLogin._fire("open");},onClose:function(){PgLogin._fire("close");},top:40,mask:{color:'#000',loadSpeed:200,closeSpeed:0,opacity:0.4}},getUser:function(){return this._user;},login:function(cb){this._syncUser();if(this._user){if(cb)cb.call(this,this._user);return;}
this.show();if(cb){function proxy(){cb.apply(this,arguments);this.unsubscribe("close",proxy);}
this.subscribe("close",proxy);}
alignLoginOverlay('#login_client_overlay');},register:function(cb){this._syncUser();if(this._user){if(cb)cb.call(this,this._user);return;}
this.showregister();if(cb){function proxy(){cb.apply(this,arguments);this.unsubscribe("close",proxy);}
this.subscribe("close",proxy);}
alignLoginOverlay('#register_client_overlay');},showregister:function(){var uri=this._server("register",{rel:"parent",interactive:"1"});this._registerOverlayApi(uri).load();},hideregister:function(){this._registerOverlayApi().close();},logout:function(){this._forgetUser();this._syncUser();if(pgbundle.current_page=="favorites"){window.location.reload();}
jQuery.getScript(this._server("logout"));},show:function(){var uri=this._server("login",{rel:"parent",interactive:"1"});this._loginOverlayApi(uri).load();},hide:function(){this._loginOverlayApi().close();},_loginOverlayApi:function(uri){var overlay=document.getElementById(this._loginOverlayId);if(uri||!overlay){if(!uri)uri="about:blank";var iframe=$("<iframe/>",{src:uri,frameborder:0,scrolling:"no"});}
if(overlay){if(uri)$("iframe:first",overlay).replaceWith(iframe);return $(overlay).data("overlay");}
overlay=$("<div/>",{id:this._loginOverlayId}).append('<p style="text-align:right;padding:0 25px 5px 0;"><span style="color: #333333;">'+pgbundle.translations.not_a_member+' <a href="#" id="joinnow" style="color:#006AB2;">'+pgbundle.translations.join_now+'</a></span></p>').append(iframe).appendTo(document.body);$("#joinnow").click(function(e){e.preventDefault();PgLogin.register();});return overlay.overlay(this._overlayConfig).data("overlay");},_registerOverlayApi:function(uri){var overlay=document.getElementById(this._registerOverlayId);if(uri||!overlay){if(!uri)uri="about:blank";var iframe=jQuery("<iframe/>",{src:uri,frameborder:0,scrolling:"no"});}
if(overlay){if(uri)jQuery("iframe:first",overlay).replaceWith(iframe);return jQuery(overlay).data("overlay");}
overlay=jQuery("<div/>",{id:this._registerOverlayId}).append('<p style="padding:0 25px 5px 0;text-align: right;"><span style="color: #333333;"><a href="#" id="alreadyamember" style="color:#006AB2;">'+pgbundle.translations.already_a_member+'</a></span></p>').append(iframe).appendTo(document.body);$("#alreadyamember").click(function(e){e.preventDefault();PgLogin.login();});return overlay.overlay(this._overlayConfig).data("overlay");},_syncUser:function(extras){var user=this._readUser();if(!user||!user.id){if(this._user){this._user=null;this._fire("logout");this._fire("status");this._fire("display");}
return;}
if(this._user&&this._user.id!=user.id){this._user=null;this._fire("logout");}
function applyExtras(t){if(extras)for(var key in extras){t._user[key]=extras[key];}}
if(!this._user){this._user=user;applyExtras(this);this._fire("login");this._fire("status");this._fire("display");}
else if(this._user.name!=user.name||this._user.display!=user.display){this._user.name=user.name;this._user.display=user.display;applyExtras(this);this._fire("display");}
else{applyExtras(this);}},_server:function(action,params){var origin=location.host;if(!params)params={};params.token=this._securityToken;if(location.protocol+"//"+origin!=this._securePath){params.origin=origin;}
params.utxd=this._ut;params.source="new_account";params.search_id=this._search_id;params.search_epoch_time=this._search_epoch_time;params.page_type=this._page_type;params["domain[0]"]=this._domain0;var url=this._securePath+"/login_server.php?action="+encodeURIComponent(action);for(var name in params){var value=params[name];if(!value)continue;url+="&"+encodeURIComponent(name)+"="+encodeURIComponent(value);}
return url;},_recv:function(xd){var extras={facebook:Boolean(xd.facebook),signup:Boolean(xd.signup),signin:Boolean(xd.signin)}
this._syncUser(extras);if(this._user){if(xd.signup)this._fire("signup");if(xd.signin)this._fire("signin");}
if(xd.interactive){this.hide();this.hideregister();}
if(xd.page_type=="favorites"){window.location.reload();}},_readUser:function(){var jar=this._readCookies();if(!jar.bake_userid)return null;var user={id:jar.bake_userid,name:jar.bake_username,display:jar.bake_firstname};if(!user.name)user.name=user.id;if(!user.display)user.display=user.name;return user;},_forgetUser:function(){var date=new Date();date.setTime(date.getTime()-86400000);var suffix="=; path=/; expires="+date.toGMTString()+"; domain="+this._cookieDomain;document.cookie="bake_userid"+suffix;document.cookie="bake_username"+suffix;document.cookie="bake_firstname"+suffix;},_readCookies:function(){var str=document.cookie.split(";");var jar={};for(var i=0;i<str.length;++i){var c=str[i];while(c.charAt(0)==" ")c=c.substring(1);c=c.split("=",2);jar[c[0]]=decodeURIComponent(c[1]);}
return jar;},_listeners:{},subscribe:function(name,cb){if(this._listeners[name]){this._listeners[name].push(cb);}else{this._listeners[name]=[cb];}},unsubscribe:function(name,cb){var subs=this._listeners[name];if(subs)for(var i in subs){if(subs[i]==cb){subs[i]=null;}}},_fire:function(name){var subs=this._listeners[name];if(subs)for(var i in subs.slice()){if(subs[i])subs[i].call(this,this._user);}}}
if($.browser.msie){PgLogin._overlayConfig.fixed=false;}
if(!PgLogin._cookieDomain||!PgLogin._securePath)(function(){var parts=/\.((?:[a-z0-9-]+\.)?)(\w+\.(?:co\.)?\w+)$/i.exec(location.hostname);if(!parts)parts=[null,"","pricegrabber.com"];PgLogin._cookieDomain=parts[2];PgLogin._securePath="https://www."+parts[1]+"pricegrabber.com";})();PgLogin._user=PgLogin._readUser();setInterval(function(){PgLogin._syncUser();},1000);function alignLoginOverlay(overlay_selector){var jquery_version_arr=$().jquery.split('.');if(jquery_version_arr[1]>=8){var $login_client_overlay=$(overlay_selector);var width=$login_client_overlay.width();var win_width=$(window).width();var left_pos=(win_width/2)-(width/2);$login_client_overlay.css('left',left_pos);}}
function addToCompare(id,e){if(id.length<=0||isNaN(id)){alert('Invalid input');return FALSE;}
var product_compare=$.cookie("product_compare");if(product_compare==null){product_compare=id;}
else{var product_compare_array=product_compare.split('|');if(product_compare_array.length>0){for(var i=0;i<product_compare_array.length;i++){if(id==product_compare_array[i]){return false;}}
product_compare=product_compare+'|'+id;}}
var cookie_options=new Object();cookie_options.expires=30;cookie_options.domain='.pricegrabber.com';cookie_options.path='/';$.cookie('product_compare',product_compare,cookie_options);$(e).attr('onClick','').text('Added to compare')}
jQuery(function($){var active_overlay;$("#footer_ribbon div.ribbon_overlay").prepend('<div class="borderkiller"></div><a href="#" class="overlay_close_btn" title="Close"></a>');$("#footer_ribbon div.products").append('<div class="scroll_container"><div class="scroll_prod"><div class="loading_wrapper"><div class="loading_text_wrap">'+
'<div>'+pgbundle.loading_text+'</div><img src="'+pgbundle.img_server+'/searchAtt2/imagePopupLoad.gif" alt="'+pgbundle.loading_text+'">'+
'</div></div></div></div>');$("#footer_ribbon")
.delegate("div.optionLinks a.recently_viewed_remove","click",removeRecentlyViewed)
.delegate("a.recently_viewed_remove_all","click",removeAllRecentlyViewed)
.delegate("div.optionLinks a.price_alert_edit","click",editPriceAlert)
.delegate("#pricealert_overlay div.copy a.price_alert_edit","click",editPriceAlert)
.delegate("div.optionLinks a.price_alert_remove","click",removePriceAlert)
.delegate("div.optionLinks a.favorites_remove","click",removeFavoriteProduct)
.delegate("div.optionLinks a","click",function(e){if(!($(this).hasClass('add_to_compare')||$(this).hasClass('added_to_favorites'))){e.preventDefault();}});$("#footer_ribbon").delegate("div.optionLinks a.add_to_favorites","click",function(e){e.preventDefault();var element=this;if(PgLogin!=null){PgLogin.login(function(user){if(user)addFavoriteProduct.call(element);});}});$("#ribbonLinkList li.ribbon_btn > a").click(function(e){$('#custommail .scrm-closewindow').click();e.preventDefault();e.stopPropagation();$(this).blur();var buttonLi=$(this).parent();var isActive=buttonLi.hasClass('active');hideAllOverlays();if(!isActive){buttonLi.addClass("active");buttonLi.find("div.ribbon_overlay").fadeIn(100);buttonLi.trigger("open");}});$('#fb_overlay').siblings('a').click(function(){getFacebookPanel();});$('#favorites_overlay').siblings('a').click(function(){getFavoritesPanel();});$('#recentlyview_overlay').siblings('a').click(function(){getRecentlyViewedPanel();});$('#pricealert_overlay').siblings('a').click(function(){getPriceAlertsPanel();});$('#feedback_overlay').siblings('a').click(function(){if($(this).closest("li.ribbon_btn").hasClass("active"))active_overlay='feedback';});$("#footer_ribbon").delegate('a.overlay_close_btn','click',function(e){e.preventDefault();e.stopPropagation();hideAllOverlays(true);});function hideAllOverlays(intentional){$("#footer_ribbon div.ribbon_error_container").hide();$("#ribbonLinkList li.ribbon_btn.active").removeClass("active")
.trigger("close",{intentional:intentional})
.find("div.ribbon_overlay").fadeOut(100);active_overlay=undefined;$('div#custommail a.scrm-closewindow').click();$('.ps_rating2_overlay a.close').click();}
$("#footer_ribbon").bind("mousewheel",function(e){e.preventDefault();e.stopPropagation();}).delegate("div.scroll_container","mousewheel",function(e,delta){$(this).scrollTop($(this).scrollTop()-40*delta);});$(document).click(function(e){if(active_overlay&&!$(e.target).closest("#footer_ribbon").length){hideAllOverlays();}});function updateUserDisplay(user){if(user){var content=$('<p class="welcome_logged">Welcome <span></span></p>');var displayName=user.display;if(displayName.length>20){displayName=displayName.substring(0,20)+"...";}
if(displayName.length){displayName=displayName.substring(0,1).toUpperCase()+displayName.substring(1);}
$("span",content).html($('<a class="account_link" href="'+pgbundle.user_account_link+'">'+displayName+'</a>'));}else{var content=$('<p>Welcome <span><a href="#" id="ribbon_sign_in">Sign in</a> or <a href="#" id="ribbon_register">Register</a></span></p>');$("a#ribbon_sign_in",content).click(function(e){e.preventDefault();hideAllOverlays();PgLogin.login();});$("a#ribbon_register",content).click(function(e){e.preventDefault();hideAllOverlays();PgLogin.register();});$('div#userWelcome').delegate('a#ribbon_sign_in','click',function(){PgClick.track(this,{'click_type':'signin','identifier2':'internal_module'});});$('div#userWelcome').delegate('a#ribbon_register','click',function(){PgClick.track(this,{'click_type':'register','identifier2':'internal_module'});});}
$("#userWelcome").empty().append(content);}
PgLogin.subscribe("display",updateUserDisplay);updateUserDisplay(PgLogin.getUser());var tip=jQuery("<div>").attr("class","pg_definition_tooltip").width(250);if(pgbundle.ribbon_whats_this_title){tip.append(jQuery("<div>").attr("class","pg_definition_tooltip_title").text(pgbundle.ribbon_whats_this_title));}
if(pgbundle.ribbon_whats_this_text){tip.append(pgbundle.ribbon_whats_this_text).append(jQuery("<div>").attr("class","pg_definition_tooltip_callout"));}
tip.appendTo(document.body);jQuery($("#whatsthis")).tooltip({tip:tip,position:'top right',offset:[-15,-90],predelay:300,delay:300}).dynamic();var minWidth="85px";$("#minmaxRibbon").click(function(e){e.preventDefault();e.stopPropagation();var state=$(this).text();$("#footer_ribbon").css({'min-width':minWidth});if(state=="Hide"){toggleRibbon('hide');}
else{toggleRibbon('show');}});$("#footer_ribbon").show();if(pgbundle.ribbon_initial_state=='hide'){hideRibbon(0);}else{showRibbon(0);}
function showError(message,parentElement){var parentElement=$(parentElement||"#footer_ribbon");$("div.ribbon_error_container",parentElement).text(message).show();setTimeout(function(){$("div.ribbon_error_container",parentElement).hide(500);},5000);}
function toggleRibbon(new_state){if(new_state=='hide'){hideRibbon(1000);}else{showRibbon(1000);}
var ajax_url="/ajax_ribbon.php?action=toggleRibbon&state="+new_state;ajax_url+="&security_token="+pgbundle.security_token;$.get(ajax_url,function(data){},'xml');}
function hideRibbon(duration){$("#footer_ribbon").css({'min-width':minWidth});$("#ribbonLinkList, #whatsthis, #userWelcome").fadeOut(duration*0.2);$("#footer_ribbon").animate({width:minWidth},duration*0.8,'swing');$("#minmaxRibbon").text("Maximize +");}
function showRibbon(duration){$("#footer_ribbon").css({'min-width':minWidth});$("#footer_ribbon").animate({width:"100%"},duration*0.8,'swing',function(){$("#minmaxRibbon").text("Hide");$("#ribbonLinkList, #whatsthis, #userWelcome").fadeIn(duration*0.2);$("#footer_ribbon").css({'min-width':'985px'});});}
function ribbon_initScroll(e){var settings={showArrows:true,autoReinitialise:false,animateScroll:false};var pane=$(e).jScrollPane(settings);var api=pane.data('jsp');api.reinitialise();}
function getFacebookPanel(){var buttonLi=$("#facebook_ribbon_btn");var isActive=buttonLi.hasClass('active');if(isActive){active_overlay='facebook';}}
function getFavoritesPanel(){var buttonLi=$("#favorites_ribbon_btn");var isActive=buttonLi.hasClass('active');if(isActive){var ajax_url="/ajax_ribbon.php?action=getFavoritesPanel";$.get(ajax_url,function(data){if(data.length>0){$("#favorites_overlay").html(data);if($("#favorites_overlay span.panel_count").length){$("#favorites_ribbon_btn span.panel_count").text($("#favorites_overlay span.panel_count").text());}}},'html');active_overlay='favorites';}}
function getRecentlyViewedPanel(){var buttonLi=$("#recently_viewed_ribbon_btn");var isActive=buttonLi.hasClass('active');if(isActive){var ajax_url="/ajax_ribbon.php?action=getRecentlyViewedPanel";$.get(ajax_url,function(data){if(data.length>0){$("#recentlyview_overlay").html(data);if($("#recentlyview_overlay span.panel_count").length){$("#recently_viewed_ribbon_btn span.panel_count").text($("#recentlyview_overlay span.panel_count").text());}}},'html');active_overlay='recently_viewed';}}
function getPriceAlertsPanel(){var buttonLi=$("#price_alert_ribbon_btn");var isActive=buttonLi.hasClass('active');if(isActive){var ajax_url="/ajax_ribbon.php?action=getpricealertspanel";$.get(ajax_url,function(data){if(data.length>0){$("#pricealert_overlay").html(data);if($("#pricealert_overlay span.panel_count").length){$("#price_alert_ribbon_btn span.panel_count").text($("#pricealert_overlay span.panel_count").text());}}},'html');active_overlay='price_alerts';}}
function getPriceAlertHitStatus(){var ajax_url="/ajax_ribbon.php?action=getPriceAlertHitStatus";$.get(ajax_url,function(data){if(data.price_alert_hit==1){$("#price_alert_hit").show();}
else{$("#price_alert_hit").hide();}},'json');}
function removeRecentlyViewed(){var reg=new RegExp(/\d+/);var anchor_elem=$(this);var product_id=reg.exec($(this).attr('class'));if(product_id<=0){return false;}
var ajax_url="/ajax_ribbon.php?action=removeRecentlyViewed&product_id="+product_id;ajax_url+="&security_token="+pgbundle.security_token;$.get(ajax_url,function(data){if(data.success){$("#recently_viewed_ribbon_btn li.recently_viewed_"+product_id).fadeOut(300,function(){$(this).remove();});if(data.count>=0){$("#recently_viewed_ribbon_btn span.panel_count").text(data.count);if(data.count==0){getRecentlyViewedPanel();}
}}
else if(data.error_message){showError(data.error_message);}},'json');var comparison=$("#recent_compare").data("PgCompare");if(comparison)comparison.removeProduct(product_id);return false;}
function removeAllRecentlyViewed(){var ajax_url="/ajax_ribbon.php?action=removeAllRecentlyViewed";ajax_url+="&security_token="+pgbundle.security_token;$.get(ajax_url,function(data){if(data.success){$("#recently_viewed_ribbon_btn span.panel_count").text(0);getRecentlyViewedPanel();}
else if(data.error_message){showError(data.error_message);}},'json');var comparison=$("#recent_compare").data("PgCompare");if(comparison)comparison.clearProducts();return false;}
function editPriceAlert(){var reg=new RegExp(/\d+/);var anchor_elem=$(this);var product_id=reg.exec($(this).attr('class'));if(product_id<=0){return false;}
openPriceAlertOverlay(product_id);return false;}
function removePriceAlert(){var reg=new RegExp(/\d+/);var anchor_elem=$(this);var alert_id=reg.exec($(this).attr('class'));var product_id=reg.exec($('li.price_alert_'+alert_id+' div.optionLinks a.price_alert_edit').attr('class'));if(alert_id<=0){return false;}
var ajax_url="/ajax_ribbon.php?action=removePriceAlert&alert_id="+alert_id;ajax_url+="&security_token="+pgbundle.security_token;$.get(ajax_url,function(data){if(data.success){$("#price_alert_ribbon_btn li.price_alert_"+alert_id).fadeOut(300,function(){$(this).remove();});if(data.count>=0){$("#price_alert_ribbon_btn span.panel_count").text(data.count);if(data.count==0){getPriceAlertsPanel();}
getPriceAlertHitStatus();flashRibbonPanel($("#price_alert_ribbon_btn"));}
if($('div.overlay_pg_footer_view1').length){$('div.overlay_pg_footer_view1 a.price_alert_edit.'+product_id+'').text(pgbundle.translations.set_price_alert);}
if($('div#pg_contentbox div.list_view_box').length){$('div#pg_contentbox div.list_view_box div.product_navOption a.addAlert[href*='+product_id+']').text("Add Price Alert");}
if($('div#pg_contentbox div.grid_view_box').length){$('div#pg_contentbox div.grid_view_box div.gridV a.addAlert[onclick*='+product_id+']').removeClass('prAlert_set_anchor').addClass('prAlert_anchor');}
if($('div#sa_products div.search_gridView_container_box').length){$('div#sa_products a.prAlert_anchor[onclick*='+product_id+']').removeClass('prAlert_set_anchor').addClass('prAlert_anchor');}
if($('div#sa_products div.productsContainer').length){$('div#sa_products a[onclick*='+product_id+'][onclick*=PriceAlertOverlay]').text(pgbundle.translations.set_price_alert);}
if($("ul#user_options li.alert a").length){if((pgbundle.ab_name=="PPR3")&&($.inArray(pgbundle.ab_test_group,["Test1"])>-1)){$("ul#user_options li.alert a."+product_id+" div.tool_image").removeClass('price_alert_on').addClass('price_alert');}else{$("ul#user_options li.alert a."+product_id).text(pgbundle.translations.set_price_alert);}}
if($("div#gp_mast_optsV2 a.price_alert."+product_id).length){$("div#gp_mast_optsV2 a.price_alert."+product_id).text(pgbundle.translations.set_price_alert);}
if($("div#gp_mast_optsV2 a.alert."+product_id).length){$("div#gp_mast_optsV2 a.alert."+product_id).text(pgbundle.translations.set_price_alert);}}
else if(data.error_message){showError(data.error_message);}},'json');var productId=/\bproduct_(\w+)\b/.exec($(this).siblings("a.pgcp").attr("class"));var comparison=$("#alert_compare").data("PgCompare");if(productId&&comparison)comparison.removeProduct(productId[1]);return false;}
function addFavoriteProduct(e){var reg=new RegExp(/\d+/);var anchor_elem=$(this);var product_id=reg.exec($(this).attr('class'));if(product_id<=0){return false;}
var ajax_url="/ajax.php?action=addFavoriteProduct&product_id="+product_id;ajax_url+="&security_token="+pgbundle.security_token;$.get(ajax_url,function(data){if(data.success){anchor_elem.text(data.message);updatePanelCount('favorites');anchor_elem.css('text-decoration','none');anchor_elem.hover(function(){this.css('text-decoration','none')});anchor_elem.addClass('added_to_favorites');anchor_elem.removeClass('add_to_favorites');if($("#pageOptions a.add_to_favorites").length){var add_to_favorite_link=$("#pageOptions a.add_to_favorites:first");if(add_to_favorite_link.hasClass(product_id)){add_to_favorite_link.text(pgbundle.translations.favorite);add_to_favorite_link.removeClass('add_to_favorites');add_to_favorite_link.addClass('added_to_favorites');}}
if($('div.overlay_pg_footer_view1').length){$('div.overlay_pg_footer_view1 a.lnk_addfavs.'+product_id+'').text(pgbundle.translations.favorite).removeClass('add_to_favorites').addClass('added_to_favorites');}
if($('div#pg_contentbox div.list_view_box').length){$('div#pg_contentbox div.list_view_box div.product_navOption a.addAlert[href*='+product_id+']').parent().siblings().has('a.add_to_favorites').children().text(pgbundle.translations.favorite).removeClass('add_to_favorites').addClass('added_to_favorites');}
if($('div#pg_contentbox div.grid_view_box').length){$('div#pg_contentbox div.grid_view_box div.gridV a.add_to_favorites.'+product_id+'').removeClass('add_to_favorites').addClass('added_to_favorites');}
if($('div#product_grid_view div.user_links li.fav a.'+product_id)){$('div#product_grid_view div.user_links li.fav a.'+product_id).text(pgbundle.translations.favorite).addClass('added_to_favorites').removeClass('add_to_favorites');}
if($('div#product_list_view ul.user_links li.fav a.'+product_id)){$('div#product_list_view ul.user_links li.fav a.'+product_id).text(pgbundle.translations.favorite).addClass('added_to_favorites').removeClass('add_to_favorites');}
if($('div#sa_products div.search_gridView_container_box').length){$('div#sa_products a.add_to_favorites.'+product_id+'').removeClass('add_to_favorites').addClass('added_to_favorites');}
if($('div#sa_products div.productsContainer').length){$('div#sa_products a.add_to_favorites.'+product_id+'').text(pgbundle.translations.favorite).removeClass('add_to_favorites').addClass('added_to_favorites');}
if($("ul#user_options li.fav a").length){$("ul#user_options li.fav a."+product_id+":first").text(pgbundle.translations.favorite).removeClass('add_to_favorites').addClass('added_to_favorites');}
if($('div#gp_mast_optsV2 a.add_to_favorites.'+product_id).length){$('div#gp_mast_optsV2 a.add_to_favorites.'+product_id).text(pgbundle.translations.favorite).removeClass('add_to_favorites').addClass('added_to_favorites');}}
else if(data.logged_in==0){showError(pgbundle.ribbon_error_messages_not_logged_in);}
else if(data.error_message){showError(data.error_message);}},'json');return false;}
function setPanelCount(panel_name,panel_value){if(panel_name=='favorites'){var panel_button_elem=$("#favorites_ribbon_btn");}
else if(panel_name=='price_alerts'){var panel_button_elem=$("#price_alert_ribbon_btn");}
else if(panel_name=='recently_viewed'){var panel_button_elem=$("#recently_viewed_ribbon_btn");}
else{return false;}
$("span.panel_count",panel_button_elem).text(panel_value);flashRibbonPanel(panel_button_elem);}
function removeFavoriteProduct(){var reg=new RegExp(/\d+/);var anchor_elem=$(this);var product_id=reg.exec($(this).attr('class'));if(product_id<=0){return false;}
var ajax_url="/ajax.php?action=removeFavoriteProduct&product_ids[]="+product_id;ajax_url+="&security_token="+pgbundle.security_token;$.get(ajax_url,function(data){if(data.success){$("#favorites_ribbon_btn li."+product_id).fadeOut(300,function(){$(this).remove();});updatePanelCount('favorites');if($("#favorites_ribbon_btn span.panel_count").first().text()==0){getFavoritesPanel();}
if($('div.overlay_pg_footer_view1').length){$('div.overlay_pg_footer_view1 a.lnk_addfavs.'+product_id+'').text(pgbundle.translations.add_to_favorites).addClass('add_to_favorites').removeClass('added_to_favorites');}
if($('div#pg_contentbox div.list_view_box').length){$('div#pg_contentbox div.list_view_box div.product_navOption a.addAlert[href*='+product_id+']').parent().siblings().has('a.added_to_favorites').children().text(pgbundle.translations.add_to_favorites).addClass('add_to_favorites').removeClass('added_to_favorites');}
if($('div#pg_contentbox div.grid_view_box').length){$('div#pg_contentbox div.grid_view_box div.gridV a.add_to_favorites.'+product_id+'').addClass('add_to_favorites').removeClass('added_to_favorites');}
if($('div#sa_products div.search_gridView_container_box').length){$('div#sa_products a.add_to_favorites.'+product_id+'').addClass('add_to_favorites').removeClass('added_to_favorites');}
if($('div#sa_products div.productsContainer').length){$('div#sa_products a.add_to_favorites.'+product_id+'').text(pgbundle.translations.add_to_favorites).addClass('add_to_favorites').removeClass('added_to_favorites');}
if($('div#product_grid_view div.user_links li.fav a.'+product_id)){$('div#product_grid_view div.user_links li.fav a.'+product_id).text(pgbundle.translations.add_to_favorites).addClass('add_to_favorites').removeClass('added_to_favorites');}
if($('div#product_list_view ul.user_links li.fav a.'+product_id)){$('div#product_list_view ul.user_links li.fav a.'+product_id).text(pgbundle.translations.add_to_favorites).addClass('add_to_favorites').removeClass('added_to_favorites');}
if($("ul#user_options li.fav a").length){if((pgbundle.ab_name=="PPR3")&&($.inArray(pgbundle.ab_test_group,["Test1"])>-1)){$("div#product_info ul#user_options li.fav a."+product_id+":first div.tool_image").addClass('add_favorites').removeClass('add_favorites_on');$("ul#user_options li.fav a."+product_id+":first").addClass('add_to_favorites').removeClass('added_to_favorites');}else{$("ul#user_options li.fav a."+product_id+":first").text(pgbundle.translations.add_to_favorites).addClass('add_to_favorites').removeClass('added_to_favorites');}}
if($("div#gp_mast_optsV2 a.added_to_favorites."+product_id).length){$("div#gp_mast_optsV2 a.added_to_favorites."+product_id).text(pgbundle.translations.add_to_favorites).addClass('add_to_favorites').removeClass('added_to_favorites');}}},'json');var comparison=$("#favorites_compare").data("PgCompare");if(comparison)comparison.removeProduct(product_id);return false;}
function updatePanelCount(panel){var panel=panel;var ajax_url="/ajax_ribbon.php?action=getPanelCounts";ajax_url+="&security_token="+pgbundle.security_token;$.get(ajax_url,function(data){if(panel=='favorites'){setPanelCount(panel,data.favorites);}
else if(panel=='recently_viewed'&&data.recently_viewed>=0){setPanelCount(panel,data.recently_viewed);}
else if(panel=='price_alerts'&&data.price_alerts>=0){setPanelCount(panel,data.price_alerts);}
else{return false;}},'json');}
function updateLoggedInPanelCounts(){var ajax_url="/ajax_ribbon.php?action=getPanelCounts";ajax_url+="&security_token="+pgbundle.security_token;$.get(ajax_url,function(data){if(data.favorites>=0){setPanelCount('favorites',data.favorites);}
if(data.price_alerts>=0){getPriceAlertHitStatus();setPanelCount('price_alerts',data.price_alerts);}
if(data.favorites>=0){setPanelCount('favorites',data.favorites);}},'json');}
function logoutPanelCounts(){setPanelCount('favorites',0);setPanelCount('price_alerts',0);getPriceAlertHitStatus();}
function getPanelCount(name){if(name=='favorites'){return parseInt($("#favorites_ribbon_btn span.panel_count:first").text());}
else if(name=='recently_viewed'){return parseInt($("#recently_viewed_ribbon_btn span.panel_count:first").text());}
else if(name=='price_alerts'){return parseInt($("#price_alert_ribbon_btn span.panel_count:first").text());}
else if(name=='facebook_friends'){if(PgRibbon.fbFriendsCount===undefined){return'-';}
else{return PgRibbon.fbFriendsCount;}
return'-';}
else if(name=='facebook_everyone'){return $('#fb_overlay_everyone li').length||'-';}
return 0;}
function flashRibbonPanel(elem){var orig_background=$(elem).css('background-color');var orig_border=$(elem).css('border');$(elem).css('background-color','#B3EA50');setTimeout(function(){$(elem).animate({backgroundColor:'#FFFFFF'},1000);},500);}
function feedbackError(message){var form=$("#feedback_pg_content form");$("p.error_feedback",form).remove();$("<p/>",{"class":"error_feedback",text:message}).prependTo(form);}
$("#feedback_pg_content form").submit(function(e){e.preventDefault();var fields={};$("#feedback_pg_content form").find("textarea, input[name]")
.not(":button, :submit, :reset").each(function(){fields[this.name]=this.value;});fields.security_token=pgbundle.security_token;fields.dw_search_id=pgbundle.dw_search_id;$.ajax({type:"POST",url:"/ajax.php?action=sendFeedback",data:fields,success:function(msg){var response=$.parseJSON(msg);if(response.success){hideAllOverlays();var form=$("#feedback_pg_content form");$("textarea, input[name]",form).not(":button, :submit, :reset, :hidden").val("");$("p.error_feedback",form).remove();}else{feedbackError(response.error);}}});});function prop47(type,toggled,tabCount){var tabCounts=[getPanelCount('facebook_friends'),getPanelCount('facebook_everyone'),getPanelCount('favorites'),getPanelCount('recently_viewed'),getPanelCount('price_alerts'),getPanelCount('product_compare')].join(",");var user=PgLogin.getUser();var pgUser=user?"y":"n";var fbUser="-";if(window.FB){fbUser=FB.getLoginStatus()?"y":"n";}
else if(user&&user.facebook!==undefined)fbUser=user.facebook?"y":"n";var loginSuccess=type=="button-signin"||type=="button-fblogin"?"y":"-";var signupSuccess=type=="button-register"?"y":"-";return["ribbon",type,pgbundle.ribbon_prop47,toggled?toggled:"-",tabCount?tabCount:"-",tabCounts,pgUser,fbUser,loginSuccess,signupSuccess].join("|");}
window.PgRibbon={hideAllOverlays:hideAllOverlays,flashRibbonPanel:flashRibbonPanel,getPriceAlertHitStatus:getPriceAlertHitStatus,updatePanelCount:updatePanelCount}
PgLogin.subscribe("login",updateLoggedInPanelCounts);PgLogin.subscribe("logout",logoutPanelCounts);if($("#pgPageContent").height()<620&&!($.browser.msie&&$.browser.version<8.0)){$("#pgPageContent").css('min-height','620px');}
setTimeout(function(){$("#footerCopyRight").css('margin-bottom',(1.1*$("#footer_ribbon").height())+'px');},2000);$("#footerCopyRight").css('margin-bottom',$("#footer_ribbon").height()+'px');$("#pg_footer2").css('margin-bottom',$("#footer_ribbon").height()+10+'px');$("#footer_ribbon").show();$("div#footer_ribbon").bind('pgclick',function(e){if(!e.click_data.module){e.click_data.module='ribbon';}});$('div#fb_overlay').delegate('a.overlay_close_btn','click',function(){PgClick.track(this,{'click_type':'fb_close','identifier2':'internal_module'});});$('div#fb_overlay_everyone').delegate('div.scroll_container ul li div.copy h3 a','click',function(){PgClick.track(this,{'click_type':'fb_title','identifier2':'internal_link','target_product_id':PgClick.getProductIdFromParent(this,'.product','class')});});$('div#fb_overlay_everyone').delegate('div.scroll_container ul li div.copy p.price a','click',function(){PgClick.track(this,{'click_type':'fb_price','identifier2':'internal_link','target_product_id':PgClick.getProductIdFromParent(this,'.product','class')});});$('div#fb_overlay_everyone').delegate('div.scroll_container ul li div.copy p.seller a','click',function(){PgClick.track(this,{'click_type':'fb_merchant','identifier2':'internal_link','target_product_id':PgClick.getProductIdFromParent(this,'.product','class')});});$('div#fb_overlay_friends').delegate('div.scroll_container ul li div.copy h3 a','click',function(){PgClick.track(this,{'click_type':'fb_title','identifier2':'internal_link','target_product_id':PgClick.getProductIdFromParent(this,'.product','class')});});$('div#fb_overlay_friends').delegate('div.scroll_container ul li div.copy p.price a','click',function(){PgClick.track(this,{'click_type':'fb_price','identifier2':'internal_link','target_product_id':PgClick.getProductIdFromParent(this,'.product','class')});});$('div#fb_overlay_friends').delegate('div.scroll_container ul li div.copy p.seller a','click',function(){PgClick.track(this,{'click_type':'fb_merchant','identifier2':'internal_link','target_product_id':PgClick.getProductIdFromParent(this,'.product','class')});});$('li#favorites_ribbon_btn').delegate('div.overlay_minicompare ul li a','click',function(){PgClick.track(this,{'click_type':'fav_remove_queue','identifier2':'internal_module'});});$('li#favorites_ribbon_btn').delegate('div.overlay_minicompare div.compare a','click',function(){if(!$(this).hasClass('disabled')){PgClick.track(this,{'click_type':'fav_compare','identifier2':'internal_link'});}});$('li#favorites_ribbon_btn').delegate('div#favorites_overlay a.overlay_close_btn','click',function(){PgClick.track(this,{'click_type':'fav_close','identifier2':'internal_module'});});$('li#favorites_ribbon_btn').delegate('div.scroll_container ul li div.prd_img a','click',function(){PgClick.track(this,{'click_type':'fav_image','identifier2':'internal_link','target_product_id':PgClick.getProductIdFromParent(this,'.favorite_product','class')});});$('li#favorites_ribbon_btn').delegate('div.scroll_container ul li div.copy h3 a','click',function(){PgClick.track(this,{'click_type':'fav_title','identifier2':'internal_link','target_product_id':PgClick.getProductIdFromParent(this,'.favorite_product','class')});});$('li#favorites_ribbon_btn').delegate('div.scroll_container ul li div.copy p.price a','click',function(){PgClick.track(this,{'click_type':'fav_price','identifier2':'internal_link','target_product_id':PgClick.getProductIdFromParent(this,'.favorite_product','class')});});$('li#favorites_ribbon_btn').delegate('div.scroll_container ul li div.copy p.seller a','click',function(){PgClick.track(this,{'click_type':'fav_merchant','identifier2':'internal_link','target_product_id':PgClick.getProductIdFromParent(this,'.favorite_product','class')});});$('li#favorites_ribbon_btn').delegate('div.scroll_container ul li div.optionLinks a.pgcp','click',function(){if(!$(this).hasClass('disabled')){PgClick.track(this,{'click_type':'fav_add','identifier2':'internal_module'});}});$('li#favorites_ribbon_btn').delegate('div.scroll_container ul li div.optionLinks a.price_alert_edit','click',function(){PgClick.track(this,{'click_type':'fav_price_alert','identifier2':'internal_module'});});$('li#favorites_ribbon_btn').delegate('div.scroll_container ul li div.optionLinks a.favorites_remove','click',function(){PgClick.track(this,{'click_type':'fav_removed','identifier2':'internal_module'});});$('li#recently_viewed_ribbon_btn').delegate('div.overlay_minicompare ul li a','click',function(){PgClick.track(this,{'click_type':'viewed_remove_queue','identifier2':'internal_module'});});$('li#recently_viewed_ribbon_btn').delegate('div#recentlyview_overlay a.recently_viewed_remove_all','click',function(){PgClick.track(this,{'click_type':'viewed_remove_all','identifier2':'internal_module'});});$('div#recentlyview_overlay').delegate('a.overlay_close_btn','click',function(){PgClick.track(this,{'click_type':'viewed_close','identifier2':'internal_link','identifier2':'internal_module'});});$('li#recently_viewed_ribbon_btn').delegate('div.overlay_minicompare div.compare a.pgcb','click',function(){if(!$(this).hasClass('disabled')){PgClick.track(this,{'click_type':'viewed_compare','identifier2':'internal_link'});}});$('li#recently_viewed_ribbon_btn').delegate('div.scroll_prod ul li div.prd_img a','click',function(){PgClick.track(this,{'click_type':'viewed_image','target_product_id':PgClick.getProductIdFromParent(this,'.recently_viewed','class')});});$('li#recently_viewed_ribbon_btn').delegate('div.scroll_prod ul li div.copy h3 a','click',function(){PgClick.track(this,{'click_type':'viewed_title','identifier2':'internal_link','target_product_id':PgClick.getProductIdFromParent(this,'.recently_viewed','class')});});$('li#recently_viewed_ribbon_btn').delegate('div.scroll_prod ul li div.copy p.price a','click',function(){PgClick.track(this,{'click_type':'viewed_price','identifier2':'internal_link','target_product_id':PgClick.getProductIdFromParent(this,'.recently_viewed','class')});});$('li#recently_viewed_ribbon_btn').delegate('div.scroll_prod ul li div.copy p.seller a','click',function(){PgClick.track(this,{'click_type':'viewed_merchant','identifier2':'internal_link','target_product_id':PgClick.getProductIdFromParent(this,'.recently_viewed','class')});});$('li#recently_viewed_ribbon_btn').delegate('div.scroll_prod ul li div.optionLinks a.add_to_favorites','click',function(){PgClick.track(this,{'click_type':'viewed_favorites','identifier2':'internal_module'});});$('li#recently_viewed_ribbon_btn').delegate('div.scroll_prod ul li div.optionLinks a.pgcp','click',function(){if(!$(this).hasClass('disabled')){PgClick.track(this,{'click_type':'viewed_add','identifier2':'internal_link'});}});$('li#recently_viewed_ribbon_btn').delegate('div.scroll_prod ul li div.optionLinks a.price_alert_edit','click',function(){PgClick.track(this,{'click_type':'viewed_price_alert','identifier2':'internal_module'});});$('li#recently_viewed_ribbon_btn').delegate('div.scroll_prod ul li div.optionLinks a.recently_viewed_remove','click',function(){PgClick.track(this,{'click_type':'viewed_remove','identifier2':'internal_module'});});$('li#price_alert_ribbon_btn').delegate('div.overlay_minicompare ul li a','click',function(){PgClick.track(this,{'click_type':'alerts_remove_queue','identifier2':'internal_module'});});$('li#price_alert_ribbon_btn').delegate('div.overlay_minicompare div.compare a.pgcb','click',function(){if(!$(this).hasClass('disabled')){PgClick.track(this,{'click_type':'alerts_compare','identifier2':'internal_link'});}});$('li#price_alert_ribbon_btn').delegate('a.overlay_close_btn','click',function(){PgClick.track(this,{'click_type':'alerts_close','identifier2':'internal_module'});});$('li#price_alert_ribbon_btn').delegate('div.scroll_container ul li div.prd_img a','click',function(){PgClick.track(this,{'click_type':'alerts_image','identifier2':'internal_link','target_product_id':PgClick.getProductIdFromParent(this,'.product','class')});});$('li#price_alert_ribbon_btn').delegate('div.scroll_container ul li div.copy h3 a','click',function(){PgClick.track(this,{'click_type':'alerts_title','identifier2':'internal_link','target_product_id':PgClick.getProductIdFromParent(this,'.product','class')});});$('li#price_alert_ribbon_btn').delegate('div.scroll_container ul li div.copy p.price a','click',function(){PgClick.track(this,{'click_type':'alerts_price','identifier2':'internal_link','target_product_id':PgClick.getProductIdFromParent(this,'.product','class')});});$('li#price_alert_ribbon_btn').delegate('div.scroll_container ul li div.copy p.alert a','click',function(){PgClick.track(this,{'click_type':'alerts_price_alert','identifier2':'internal_link','target_product_id':PgClick.getProductIdFromParent(this,'.product','class')});});$('li#price_alert_ribbon_btn').delegate('div.scroll_container ul li div.optionLinks a.add_to_favorites','click',function(){PgClick.track(this,{'click_type':'alerts_favorites','identifier2':'internal_module'});});$('li#price_alert_ribbon_btn').delegate('div.scroll_container ul li div.optionLinks a.pgcp','click',function(){if(!$(this).hasClass('disabled')){PgClick.track(this,{'click_type':'alerts_add','identifier2':'internal_module'});}});$('li#price_alert_ribbon_btn').delegate('div.scroll_container ul li div.optionLinks a.price_alert_edit','click',function(){PgClick.track(this,{'click_type':'alerts_edit','identifier2':'internal_module'});});$('li#price_alert_ribbon_btn').delegate('div.scroll_container ul li div.optionLinks a.price_alert_remove','click',function(){PgClick.track(this,{'click_type':'alerts_remove','identifier2':'internal_module'});});$('li#feedback_ribbon_btn').delegate('a.overlay_close_btn','click',function(){PgClick.track(this,{'click_type':'feedback_close','identifier2':'internal_module'});});$('li#feedback_ribbon_btn').delegate('div#feedback_pg_content p.txtcenter input','click',function(){PgClick.track(this,{'click_type':'feedback_submit','identifier2':'internal_module'});});});jQuery(function($){var survey=pgbundle.abFeedbackSurvey;if(!survey)return;$('.feedback_survey_qcom').hide();$('.feedback_survey_q').click(function(){$('input[name*="qcom'+$(this).attr('name').substring(1)+'"]').hide();if($(this).hasClass('survey_other_choice')){$(this).parent().next().show();}});function readSurveyCookie(){var cookie=/(?:^|;)\s*pg_feedback_survey=([^;]*?)\s*(?:;|$)/.exec(document.cookie);return cookie?parseInt(decodeURIComponent(cookie[1])):0;}
function writeSurveyCookie(value){if(readSurveyCookie()>value)return;var cookieDomain=(/\w+\.(?:co\.)?\w+$/.exec(location.hostname)||["pricegrabber.com"])[0];document.cookie="pg_feedback_survey="+encodeURIComponent(value)
+"; path=/; expires="+getNextCutoffDate()+"; domain="+cookieDomain;}
function writeCounterCookie(){if(survey.landing){value=1;}else if(readCounterCookie()){value=readCounterCookie()+1;}
var cookieDomain=(/\w+\.(?:co\.)?\w+$/.exec(location.hostname)||["pricegrabber.com"])[0];document.cookie="page_view_counter="+encodeURIComponent(value)
+"; path=/; expires="+getNextCutoffDate()+"; domain="+cookieDomain;}
function readCounterCookie(){var cookie=/(?:^|;)\s*page_view_counter=([^;]*?)\s*(?:;|$)/.exec(document.cookie);return cookie?parseInt(decodeURIComponent(cookie[1])):0;}
if((survey.group=="Test5")||(survey.group=="Test4")){writeCounterCookie();}
function getNextCutoffDate(){var current_time=new Date();if(current_time.getUTCDate()<30||(current_time.getUTCDate()==30&&((current_time.getUTCMonth()!=11&&current_time.getUTCHours()<7)||(current_time.getUTCMonth()==11&&current_time.getUTCHours()<8)))){var cutoff_month=(Math.floor((current_time.getUTCMonth())/3)*3)+2;}
else{var cutoff_month=(Math.floor(((current_time.getUTCMonth())/3)+1)*3)+2;}
var cutoff_year=current_time.getUTCFullYear();if(cutoff_month>11){cutoff_month=cutoff_month%12;cutoff_year=parseInt(cutoff_year)+1;}
var cutoff_hour=7;if(cutoff_month==11){cutoff_hour=8;}
var cutoff_time=new Date(0);cutoff_time.setUTCFullYear(cutoff_year);cutoff_time.setUTCMonth(cutoff_month);cutoff_time.setUTCDate(30);cutoff_time.setUTCHours(cutoff_hour);return cutoff_time.toUTCString();}
function displaySurvey(){$("#survey_pg_content").closest("li.ribbon_btn").children("a").trigger("click");}
var suppressEvent=false;function surveyEvent(eventName,questionCount){if(suppressEvent)return;}
function withoutTracking(cb){var original=suppressEvent;suppressEvent=true;cb();suppressEvent=original;}
$("#feedback_ribbon_btn").bind("open",function(){surveyEvent("expand");writeSurveyCookie(200);}).bind("close",function(e,d){if(suppressEvent)return;if(d.intentional){writeSurveyCookie(400);surveyEvent("dismiss");}else{writeSurveyCookie(300);surveyEvent("collapse");}
showSurveyMarker();});function showSurveyMarker(){removeSurveyMarker();$("<span/>",{"class":"tabval red",text:"+"}).prependTo("#feedback_ribbon_btn");}
function removeSurveyMarker(){$("#feedback_ribbon_btn > span.tabval.red").remove();}
function surveyError(message){var form=$("#survey_pg_content form");$("p.error_feedback",form).remove();$("input:submit:first",form).before($("<p/>",{"class":"error_feedback",text:message}));}
var submitting=false;$("#survey_pg_content form").submit(function(e){e.preventDefault();if(submitting)return;submitting=true;var fields={action:"submitSurvey",security_token:pgbundle.security_token,topcat_id:pgbundle.topcatId,ab_case_id:survey.caseId,zip_code:pgbundle.zip_code||pgbundle.zipCode,current_page:pgbundle.current_page,dw_session_id:pgbundle.dw_session_id,dw_search_id:pgbundle.dw_search_id,ut:pgbundle.ut};var completedQuestions=0;$(this).find("textarea, input[name]").not(":button, :submit, :reset").each(function(){if(this.type=='radio'&&this.checked||this.type=='text'||this.type=='textarea'){fields[this.name]=this.value;++completedQuestions;}});$.ajax({type:"POST",url:"/ajax_ribbon.php",data:fields,dataType:"json",success:function(response){if(response.success){writeSurveyCookie(500);surveyEvent("submit",completedQuestions);suppressEvent=true;PgRibbon.hideAllOverlays();removeSurveyMarker();setTimeout(function(){$("#survey_pg_content").remove();$("#feedback_pg_content").show();},201);}else{surveyEvent("error",completedQuestions);surveyError(response.error);}
submitting=false;},error:function(){surveyError("Network error");submitting=false;}});});var initialState=readSurveyCookie();$((initialState>=500)?"#survey_pg_content":"#feedback_pg_content").hide();if(initialState>=300&&initialState<500)showSurveyMarker();if(initialState>=400)return;if(survey.group=="Test5"){page_count=readCounterCookie();if(survey.traffic=="Direct"){if(page_count>3){withoutTracking(displaySurvey);}}else if(survey.traffic=="Paid"){if(page_count>1){withoutTracking(displaySurvey);}}else if(survey.traffic=="Free"){if(page_count>2){withoutTracking(displaySurvey);}}}else if(survey.group=="Test4"){page_count=readCounterCookie();if(page_count>2){setTimeout(function(){withoutTracking(displaySurvey);},survey.idleTime*1000);}else if(page_count>1){withoutTracking(displaySurvey);}}
else{if(survey.onload){withoutTracking(displaySurvey);}else if(survey.idleTime){writeSurveyCookie(100);setTimeout(function(){withoutTracking(displaySurvey);},survey.idleTime*1000);}}});jQuery(function($){var friendsLoading=false;var everyoneLoading=false;var ajaxBase="/ajax_ribbon.php?security_token="+pgbundle.security_token+"&action=facebook";var loadingHtml=$("#fb_overlay_everyone div.scroll_prod:first").html();function initialize(){if($("#fb_overlay_friends").length){switchToFriendsPane(false);}else{switchToEveryonePane();}
$(this).unbind("click",initialize);}
$("#facebook_ribbon_btn > a:first").click(initialize);function switchToFriendsPane(interactive){highlightFilter($("#fb_overlay_filter a.friends:first"));$("#fb_overlay_everyone").hide();$("#fb_overlay_friends").show();loadFriendsPane(interactive);}
function switchToEveryonePane(){highlightFilter($("#fb_overlay_filter a.everyone:first"));$("#fb_overlay_everyone").show();$("#fb_overlay_friends").hide();loadEveryonePane();}
$("#fb_overlay_filter").delegate("a","click",function(e){e.preventDefault();if($(this).hasClass("friends")){switchToFriendsPane(true);}else{switchToEveryonePane();}});function loadFriendsPane(interactive){if(friendsLoading)return;var defunct=false;function libraryHandler(){if(defunct)return;FB.getLoginStatus(statusHandler,true);}
function statusHandler(response){if(defunct)return;if(response.authResponse){$.get(ajaxBase+"Friends",friendsHandler,'html');}else{$.get(ajaxBase+"Auth",contentHandler,'html');}}
function contentHandler(html){if(defunct)return;var target=$("#fb_overlay_friends div.scroll_prod:first");target.html(html).scrollTop(0);if(window.FB&&target.length)FB.XFBML.parse(target.get(0));}
function friendsHandler(html){if(defunct)return;contentHandler(html);PgRibbon.fbFriendsCount=$("#fb_overlay_friends div.product").length;if(!interactive&&!PgRibbon.fbFriendsCount){friendsLoading=false;switchToEveryonePane();}}
function refreshHandler(user){defunct=true;PgLogin.unsubscribe("logout",refreshHandler);PgLogin.unsubscribe("signin",refreshHandler);contentHandler(loadingHtml);PgRibbon.fbFriendsCount=undefined;friendsLoading=false;loadFriendsPane(true);}
if(!PgLogin.getUser()){if(!interactive){switchToEveryonePane();}else{friendsLoading=true;statusHandler({});}}else{friendsLoading=true;PgFB.load(libraryHandler);}
if(friendsLoading){PgLogin.subscribe("logout",refreshHandler);PgLogin.subscribe("signin",refreshHandler);}}
function loadEveryonePane(){if(everyoneLoading)return;var latch=2;function parseXfbml(){if(--latch>0)return;var target=$("#fb_overlay_everyone div.scroll_prod:first");if(target.length)FB.XFBML.parse(target.get(0));}
$.get(ajaxBase+"Everyone",function(data){var target=$("#fb_overlay_everyone div.scroll_prod:first");target.html(data).scrollTop(0);parseXfbml();},'html');everyoneLoading=true;PgFB.load(parseXfbml);}
function highlightFilter(link){if($(link).hasClass("active"))return;$(link).addClass("active").siblings("a").removeClass("active");}});
$("#favorites")
.delegate("a.delete_price_alert","click",deletePriceAlert)
function createPriceAlertOverlay(){if($("#price_alert_overlay_container").length)return;$(document.body).append('<div id="price_alert_overlay_container"></div>');}
function openPriceAlertOverlay(product_id){$('#custommail .scrm-closewindow').click();if(window.PgLogin&&!PgLogin.getUser()){PgLogin.login(function(user){if(user)openPriceAlertOverlay(product_id);},'pricealert');return false;}
if(window.PgRibbon){PgRibbon.hideAllOverlays();}
createPriceAlertOverlay();if(product_id>0){var ajax_url="/ajax_price_alerts.php?action=getPriceAlertOverlay&product_id="+product_id;ajax_url+='&security_token='+pgbundle.security_token;$.get(ajax_url,function(data){if(data.length>100){if($("#price_alert_overlay").length){$("#price_alert_overlay").html($(data).html());}
else{$("#price_alert_overlay_container").html(data);}
$("#price_alert_overlay_form").keypress(function(e){if(e.which==13){e.preventDefault();setPriceAlert();}});}
else{$("#price_alert_overlay_container").html("<b>We are unable to process your request at this time. Please refresh and try again.</b>&nbsp;&nbsp;&nbsp;");}
$("#price_alert_overlay_container").overlay({color:'#ccc',fixed:false,expose:{color:"#333",opacity:0.4,loadSpeed:"fast",closeSpeed:"fast"},left:"center",closeOnClick:false,load:true,onClose:function(){$("#price_alert_overlay_container").remove();}});},'html');}
return false;}
function setPriceAlert(){var price_alert_form=$("#price_alert_overlay_form");var product_id=jQuery.trim(price_alert_form.find("input[name=product_id]").val());var target_price=jQuery.trim(price_alert_form.find("input[name=target_price]").val());var selected_qualities=price_alert_form.find("input[name=quality]:checked");var filter_merchant_mode=price_alert_form.find("input[name=filter_merchants]:checked").val();var selected_merchants=price_alert_form.find("select[name=selected_merchants] option");var merchant_rating=price_alert_form.find("input[name=merchant_rating]:checked").val();var availability_notification='n';if(price_alert_form.find("input[name=availability_notification]:checked").length){availability_notification=price_alert_form.find("input[name=availability_notification]:checked").val();if(availability_notification&&target_price.length==0){price_alert_form.find("input[name=target_price]").val('0');target_price=jQuery.trim(price_alert_form.find("input[name=target_price]").val());}}
if(product_id.length==0||product_id<=0){alert('The product_id is invalid.');return;}
if(target_price.length==0||(target_price-0)!=target_price){alert('Please enter a valid price.');return;}
if(selected_qualities.length==0){alert('You must select a quality preference.');return;}
if((filter_merchant_mode=='exclude'||filter_merchant_mode=='include')&&selected_merchants.length==0){alert('You must select merchants to '+filter_merchant_mode+'.');return;}
var ajax_url="/ajax_price_alerts.php?action=setPriceAlert";ajax_url+='&product_id='+product_id;ajax_url+='&target_price='+target_price;ajax_url+='&product_id='+product_id;ajax_url+='&selected_qualities=';selected_qualities.each(function(index,element){if(index>0){ajax_url+=',';}
ajax_url+=$(element).val();});ajax_url+='&filter_merchant_mode='+filter_merchant_mode;if(filter_merchant_mode=='exclude'||filter_merchant_mode=='include'){ajax_url+='&selected_merchants=';selected_merchants.each(function(index,element){if(index>0){ajax_url+=',';}
ajax_url+=$(element).val();});}
ajax_url+='&merchant_rating='+merchant_rating;ajax_url+='&availability_notification='+availability_notification;ajax_url+='&security_token='+pgbundle.security_token;$.get(ajax_url,function(data){if(data['success']){if($('div#pg_contentbox div.list_view_box').length){$('div#pg_contentbox div.list_view_box div.product_navOption a.addAlert[href*='+product_id+']').parent().siblings().has('a.add_to_favorites').children().text(pgbundle.translations.favorite).removeClass('add_to_favorites').addClass('added_to_favorites');$('div#pg_contentbox div.list_view_box div.product_navOption a.addAlert[href*='+product_id+']').text(pgbundle.translations.price_alert_set);}
if($('div#pg_contentbox div.grid_view_box').length){$('div#pg_contentbox div.grid_view_box div.gridV a.add_to_favorites.'+product_id+'').removeClass('add_to_favorites').addClass('added_to_favorites');$('div#pg_contentbox div.grid_view_box div.gridV a.addAlert[onclick*='+product_id+']').removeClass('prAlert_anchor').addClass('prAlert_set_anchor');}
if($('div#sa_products div.search_gridView_container_box').length){$('div#sa_products a.add_to_favorites.'+product_id+'').removeClass('add_to_favorites').addClass('added_to_favorites');$('div#sa_products a.prAlert_anchor[onclick*='+product_id+']').removeClass('prAlert_anchor').addClass('prAlert_set_anchor');}
if($('div#sa_products div.productsContainer').length){$('div#sa_products a.add_to_favorites.'+product_id+'').text(pgbundle.translations.favorite).removeClass('add_to_favorites').addClass('added_to_favorites');$('div#sa_products a[onclick*='+product_id+'][onclick*=PriceAlertOverlay]').text(pgbundle.translations.price_alert_set);}
if($('div.overlay_pg_footer_view1').length){$('div.overlay_pg_footer_view1 a.lnk_addfavs.'+product_id+'').text(pgbundle.translations.favorite).removeClass('add_to_favorites').addClass('added_to_favorites');$('div.overlay_pg_footer_view1 a.price_alert_edit.'+product_id+'').text(pgbundle.translations.price_alert_set);}
if($('div#gp_mast_optsV2 a.price_alert.'+product_id).length){$('div#gp_mast_optsV2 a.price_alert.'+product_id).text(pgbundle.translations.price_alert_set);$('div#gp_mast_optsV2 a.add_to_favorites.'+product_id).text(pgbundle.translations.favorite).removeClass('add_to_favorites').addClass('added_to_favorites');}
if($('div#pgPageContent > div#favorites').length){tprice=target_price*1;target_price=tprice.toFixed(2);if(data['action']=='added'){$('a[href^="/user_addprodtrack.php/masterid='+product_id+'"]').remove();}
if(data['action']=='updated'){$('div#favorite_'+product_id+'  div.reviewLinkGreen_square_btn').remove();$('div#favorite_'+product_id+'  div.reviewLinkRed_square_btn').remove();$('div#favorite_'+product_id+'  div.reviewBar a.reviewLink_sq_btn[onclick^=openPriceAlertOverlay]').remove();}
alert_id=data['alert_id'];if(data['price_alert_hit']){div_class="reviewLinkGreen_square_btn";span_class="green";a_text="Price Alert Hit";}else{div_class="reviewLinkRed_square_btn";span_class="red";a_text=pgbundle.translations.price_alert_set;}
html_to_append='\
                    <div class="'+div_class+'"><span class="'+span_class+' bold">\
                        <a onclick="openPriceAlertOverlay(\''+product_id+'\');return false;" href="/user_addprodtrack.php/masterid='+product_id+'/mode=prodtrack">'+a_text+'</a>\
                        <a class="delete_price_alert '+alert_id+'" href="#"><img class="vMiddle" src="http://i.pgcdn.com/images/youraccount/'+span_class+'cross_btn.gif" alt="Delete Alert"></a></span>\
                    </div>\
                    <a onclick="openPriceAlertOverlay(\''+product_id+'\'); return false;" class="reviewLink_sq_btn">\
                        <span class="'+span_class+'">Target Price: $'+target_price+'</span></a>';$('#favorite_'+product_id+'  div:.reviewBar').append(html_to_append);}
if(data['count']>-1){$("#price_alert_ribbon_btn span.panel_count").text(data['count']);}
$("#price_alert_overlay_container").overlay().close();if(window.PgRibbon){PgRibbon.updatePanelCount('favorites');PgRibbon.flashRibbonPanel($("#price_alert_ribbon_btn"));PgRibbon.flashRibbonPanel($("#favorites_ribbon_btn"));PgRibbon.getPriceAlertHitStatus();}
if(pgbundle.current_page=='favorites'){window.location='/favorites.php';}
if($("#pageOptions a.add_to_favorites").length){var add_to_favorite_link=$("#pageOptions a.add_to_favorites:first");if(add_to_favorite_link.hasClass(product_id)){add_to_favorite_link.text(pgbundle.translations.favorite);add_to_favorite_link.removeClass('add_to_favorites');add_to_favorite_link.addClass('added_to_favorites');}}
if((pgbundle.ab_name=="PPR3")&&($.inArray(pgbundle.ab_test_group,["Test1"])>-1)){var add_to_favorite_link=$("ul#user_options li.fav a").find('div.tool_image.add_favorites');if(add_to_favorite_link.length){add_to_favorite_link.removeClass('add_favorites').addClass('add_favorites_on');}
if($("ul#user_options li.fav a.add_to_favorites").length){var add_to_favorite_link=$("ul#user_options li.fav a.add_to_favorites:first");if(add_to_favorite_link.hasClass(product_id)){add_to_favorite_link.removeClass('add_to_favorites');add_to_favorite_link.addClass('added_to_favorites');}}}else{if($("ul#user_options li.fav a.add_to_favorites").length){var add_to_favorite_link=$("ul#user_options li.fav a.add_to_favorites:first");if(add_to_favorite_link.hasClass(product_id)){add_to_favorite_link.text(pgbundle.translations.favorite);add_to_favorite_link.removeClass('add_to_favorites');add_to_favorite_link.addClass('added_to_favorites');}}}
if($("#pageOptions a.alert").length){var add_price_alert_link=$("#pageOptions a.alert:first");if(add_price_alert_link.hasClass(product_id)){add_price_alert_link.text(pgbundle.translations.price_alert_set);}}
if($("ul#user_options li.alert a").length){if((pgbundle.ab_name=="PPR3")&&($.inArray(pgbundle.ab_test_group,["Test1"])>-1)){var add_price_alert_link=$("ul#user_options li.alert a:first div.tool_image");add_price_alert_link.removeClass('price_alert').addClass('price_alert_on');}else{var add_price_alert_link=$("ul#user_options li.alert a:first");add_price_alert_link.text(pgbundle.translations.price_alert_set);}}
if($("div#product_grid_view div.user_links li.fav a."+product_id).length){$("div#product_grid_view div.user_links li.fav a."+product_id).removeClass("add_to_favorites").addClass("added_to_favorites").text(pgbundle.translations.favorite);}
if($("div#product_list_view ul.user_links li.fav a."+product_id).length){$("div#product_list_view ul.user_links li.fav a."+product_id).removeClass("add_to_favorites").addClass("added_to_favorites").text(pgbundle.translations.favorite);}}
else{alert('Unable to Set PriceAlert!');}},'json');return false;}
function deletePriceAlert(){var reg=new RegExp(/\d+/);var anchor_elem=$(this);var alert_id=reg.exec($(this).attr('class'));if(alert_id>0){var ajax_url="/ajax_price_alerts.php?action=deletePriceAlert&alert_id="+alert_id;ajax_url+='&security_token='+pgbundle.security_token;var delete_box=$(this).parent();$.get(ajax_url,function(data){if(data['success']){if(window.PgRibbon){if(data['count']>-1){$("#price_alert_ribbon_btn span.panel_count").text(data['count']);}
if($("#footer_ribbon pricealert_overlay .price_alert_"+alert_id).length){$("#footer_ribbon pricealert_overlay .price_alert_"+alert_id).remove();}}
window.location='/favorites.php';}},'json');}
return false;}
function setMerchantFilterMode(show_merchants,msg){if(show_merchants){$('#PA_merchantselect').show();}
else{$('#PA_merchantselect').hide();}
$('#PA_merchantselect p.PA_alert').text(msg);}
function swapMerchant(origin,destination){if($('#'+origin+' option:selected').length){$('#'+destination+' option:selected').removeAttr("selected");$('#'+origin+' option:selected').each(function(index,element){$('#'+destination).append(element);});sortMerchantOptions(origin);sortMerchantOptions(destination);}}
jQuery.fn.sortOptions=function(){return this.pushStack([].sort.apply(this,arguments),[]);};function sortMerchantOptionsCallback(x,y){if(jQuery(x).text()=='Storefronts'){return-1;}
else if(jQuery(y).text()=='Storefronts'){return 1;}
var xText=jQuery(x).text().toUpperCase();var yText=jQuery(y).text().toUpperCase();return(xText<yText)?-1:(xText>yText)?1:0;}
function sortMerchantOptions(element){if($('option','#'+element)){$('option','#'+element).sortOptions(sortMerchantOptionsCallback).appendTo('#'+element);}}
/*!
 * jQuery UI 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(c,j){function k(a,b){var d=a.nodeName.toLowerCase();if("area"===d){b=a.parentNode;d=b.name;if(!a.href||!d||b.nodeName.toLowerCase()!=="map")return false;a=c("img[usemap=#"+d+"]")[0];return!!a&&l(a)}return(/input|select|textarea|button|object/.test(d)?!a.disabled:"a"==d?a.href||b:b)&&l(a)}function l(a){return!c(a).parents().andSelf().filter(function(){return c.curCSS(this,"visibility")==="hidden"||c.expr.filters.hidden(this)}).length}c.ui=c.ui||{};if(!c.ui.version){c.extend(c.ui,{version:"1.8.16",
keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});c.fn.extend({propAttr:c.fn.prop||c.fn.attr,_focus:c.fn.focus,focus:function(a,b){return typeof a==="number"?this.each(function(){var d=
this;setTimeout(function(){c(d).focus();b&&b.call(d)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;a=c.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(c.curCSS(this,"position",1))&&/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(c.curCSS(this,
"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?c(document):a},zIndex:function(a){if(a!==j)return this.css("zIndex",a);if(this.length){a=c(this[0]);for(var b;a.length&&a[0]!==document;){b=a.css("position");if(b==="absolute"||b==="relative"||b==="fixed"){b=parseInt(a.css("zIndex"),10);if(!isNaN(b)&&b!==0)return b}a=a.parent()}}return 0},disableSelection:function(){return this.bind((c.support.selectstart?"selectstart":
"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});c.each(["Width","Height"],function(a,b){function d(f,g,m,n){c.each(e,function(){g-=parseFloat(c.curCSS(f,"padding"+this,true))||0;if(m)g-=parseFloat(c.curCSS(f,"border"+this+"Width",true))||0;if(n)g-=parseFloat(c.curCSS(f,"margin"+this,true))||0});return g}var e=b==="Width"?["Left","Right"]:["Top","Bottom"],h=b.toLowerCase(),i={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,
outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};c.fn["inner"+b]=function(f){if(f===j)return i["inner"+b].call(this);return this.each(function(){c(this).css(h,d(this,f)+"px")})};c.fn["outer"+b]=function(f,g){if(typeof f!=="number")return i["outer"+b].call(this,f);return this.each(function(){c(this).css(h,d(this,f,true,g)+"px")})}});c.extend(c.expr[":"],{data:function(a,b,d){return!!c.data(a,d[3])},focusable:function(a){return k(a,!isNaN(c.attr(a,"tabindex")))},tabbable:function(a){var b=c.attr(a,
"tabindex"),d=isNaN(b);return(d||b>=0)&&k(a,!d)}});c(function(){var a=document.body,b=a.appendChild(b=document.createElement("div"));c.extend(b.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});c.support.minHeight=b.offsetHeight===100;c.support.selectstart="onselectstart"in b;a.removeChild(b).style.display="none"});c.extend(c.ui,{plugin:{add:function(a,b,d){a=c.ui[a].prototype;for(var e in d){a.plugins[e]=a.plugins[e]||[];a.plugins[e].push([b,d[e]])}},call:function(a,b,d){if((b=a.plugins[b])&&
a.element[0].parentNode)for(var e=0;e<b.length;e++)a.options[b[e][0]]&&b[e][1].apply(a.element,d)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(a,b){if(c(a).css("overflow")==="hidden")return false;b=b&&b==="left"?"scrollLeft":"scrollTop";var d=false;if(a[b]>0)return true;a[b]=1;d=a[b]>0;a[b]=0;return d},isOverAxis:function(a,b,d){return a>b&&a<b+d},isOver:function(a,b,d,e,h,i){return c.ui.isOverAxis(a,d,h)&&
c.ui.isOverAxis(b,e,i)}})}})(jQuery);
;/*!
 * jQuery UI Widget 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(b,j){if(b.cleanData){var k=b.cleanData;b.cleanData=function(a){for(var c=0,d;(d=a[c])!=null;c++)try{b(d).triggerHandler("remove")}catch(e){}k(a)}}else{var l=b.fn.remove;b.fn.remove=function(a,c){return this.each(function(){if(!c)if(!a||b.filter(a,[this]).length)b("*",this).add([this]).each(function(){try{b(this).triggerHandler("remove")}catch(d){}});return l.call(b(this),a,c)})}}b.widget=function(a,c,d){var e=a.split(".")[0],f;a=a.split(".")[1];f=e+"-"+a;if(!d){d=c;c=b.Widget}b.expr[":"][f]=
function(h){return!!b.data(h,a)};b[e]=b[e]||{};b[e][a]=function(h,g){arguments.length&&this._createWidget(h,g)};c=new c;c.options=b.extend(true,{},c.options);b[e][a].prototype=b.extend(true,c,{namespace:e,widgetName:a,widgetEventPrefix:b[e][a].prototype.widgetEventPrefix||a,widgetBaseClass:f},d);b.widget.bridge(a,b[e][a])};b.widget.bridge=function(a,c){b.fn[a]=function(d){var e=typeof d==="string",f=Array.prototype.slice.call(arguments,1),h=this;d=!e&&f.length?b.extend.apply(null,[true,d].concat(f)):
d;if(e&&d.charAt(0)==="_")return h;e?this.each(function(){var g=b.data(this,a),i=g&&b.isFunction(g[d])?g[d].apply(g,f):g;if(i!==g&&i!==j){h=i;return false}}):this.each(function(){var g=b.data(this,a);g?g.option(d||{})._init():b.data(this,a,new c(d,this))});return h}};b.Widget=function(a,c){arguments.length&&this._createWidget(a,c)};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(a,c){b.data(c,this.widgetName,this);this.element=b(c);this.options=
b.extend(true,{},this.options,this._getCreateOptions(),a);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+
"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(a,c){var d=a;if(arguments.length===0)return b.extend({},this.options);if(typeof a==="string"){if(c===j)return this.options[a];d={};d[a]=c}this._setOptions(d);return this},_setOptions:function(a){var c=this;b.each(a,function(d,e){c._setOption(d,e)});return this},_setOption:function(a,c){this.options[a]=c;if(a==="disabled")this.widget()[c?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",
c);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(a,c,d){var e=this.options[a];c=b.Event(c);c.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();d=d||{};if(c.originalEvent){a=b.event.props.length;for(var f;a;){f=b.event.props[--a];c[f]=c.originalEvent[f]}}this.element.trigger(c,d);return!(b.isFunction(e)&&e.call(this.element[0],c,d)===false||c.isDefaultPrevented())}}})(jQuery);
;/*!
 * jQuery UI Mouse 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(b){var d=false;b(document).mouseup(function(){d=false});b.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(c){return a._mouseDown(c)}).bind("click."+this.widgetName,function(c){if(true===b.data(c.target,a.widgetName+".preventClickEvent")){b.removeData(c.target,a.widgetName+".preventClickEvent");c.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+
this.widgetName)},_mouseDown:function(a){if(!d){this._mouseStarted&&this._mouseUp(a);this._mouseDownEvent=a;var c=this,f=a.which==1,g=typeof this.options.cancel=="string"&&a.target.nodeName?b(a.target).closest(this.options.cancel).length:false;if(!f||g||!this._mouseCapture(a))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){this._mouseStarted=
this._mouseStart(a)!==false;if(!this._mouseStarted){a.preventDefault();return true}}true===b.data(a.target,this.widgetName+".preventClickEvent")&&b.removeData(a.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(e){return c._mouseMove(e)};this._mouseUpDelegate=function(e){return c._mouseUp(e)};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);a.preventDefault();return d=true}},_mouseMove:function(a){if(b.browser.msie&&
!(document.documentMode>=9)&&!a.button)return this._mouseUp(a);if(this._mouseStarted){this._mouseDrag(a);return a.preventDefault()}if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==false)?this._mouseDrag(a):this._mouseUp(a);return!this._mouseStarted},_mouseUp:function(a){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=
false;a.target==this._mouseDownEvent.target&&b.data(a.target,this.widgetName+".preventClickEvent",true);this._mouseStop(a)}return false},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
;/*
 * jQuery UI Position 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Position
 */
(function(c){c.ui=c.ui||{};var n=/left|center|right/,o=/top|center|bottom/,t=c.fn.position,u=c.fn.offset;c.fn.position=function(b){if(!b||!b.of)return t.apply(this,arguments);b=c.extend({},b);var a=c(b.of),d=a[0],g=(b.collision||"flip").split(" "),e=b.offset?b.offset.split(" "):[0,0],h,k,j;if(d.nodeType===9){h=a.width();k=a.height();j={top:0,left:0}}else if(d.setTimeout){h=a.width();k=a.height();j={top:a.scrollTop(),left:a.scrollLeft()}}else if(d.preventDefault){b.at="left top";h=k=0;j={top:b.of.pageY,
left:b.of.pageX}}else{h=a.outerWidth();k=a.outerHeight();j=a.offset()}c.each(["my","at"],function(){var f=(b[this]||"").split(" ");if(f.length===1)f=n.test(f[0])?f.concat(["center"]):o.test(f[0])?["center"].concat(f):["center","center"];f[0]=n.test(f[0])?f[0]:"center";f[1]=o.test(f[1])?f[1]:"center";b[this]=f});if(g.length===1)g[1]=g[0];e[0]=parseInt(e[0],10)||0;if(e.length===1)e[1]=e[0];e[1]=parseInt(e[1],10)||0;if(b.at[0]==="right")j.left+=h;else if(b.at[0]==="center")j.left+=h/2;if(b.at[1]==="bottom")j.top+=
k;else if(b.at[1]==="center")j.top+=k/2;j.left+=e[0];j.top+=e[1];return this.each(function(){var f=c(this),l=f.outerWidth(),m=f.outerHeight(),p=parseInt(c.curCSS(this,"marginLeft",true))||0,q=parseInt(c.curCSS(this,"marginTop",true))||0,v=l+p+(parseInt(c.curCSS(this,"marginRight",true))||0),w=m+q+(parseInt(c.curCSS(this,"marginBottom",true))||0),i=c.extend({},j),r;if(b.my[0]==="right")i.left-=l;else if(b.my[0]==="center")i.left-=l/2;if(b.my[1]==="bottom")i.top-=m;else if(b.my[1]==="center")i.top-=
m/2;i.left=Math.round(i.left);i.top=Math.round(i.top);r={left:i.left-p,top:i.top-q};c.each(["left","top"],function(s,x){c.ui.position[g[s]]&&c.ui.position[g[s]][x](i,{targetWidth:h,targetHeight:k,elemWidth:l,elemHeight:m,collisionPosition:r,collisionWidth:v,collisionHeight:w,offset:e,my:b.my,at:b.at})});c.fn.bgiframe&&f.bgiframe();f.offset(c.extend(i,{using:b.using}))})};c.ui.position={fit:{left:function(b,a){var d=c(window);d=a.collisionPosition.left+a.collisionWidth-d.width()-d.scrollLeft();b.left=
d>0?b.left-d:Math.max(b.left-a.collisionPosition.left,b.left)},top:function(b,a){var d=c(window);d=a.collisionPosition.top+a.collisionHeight-d.height()-d.scrollTop();b.top=d>0?b.top-d:Math.max(b.top-a.collisionPosition.top,b.top)}},flip:{left:function(b,a){if(a.at[0]!=="center"){var d=c(window);d=a.collisionPosition.left+a.collisionWidth-d.width()-d.scrollLeft();var g=a.my[0]==="left"?-a.elemWidth:a.my[0]==="right"?a.elemWidth:0,e=a.at[0]==="left"?a.targetWidth:-a.targetWidth,h=-2*a.offset[0];b.left+=
a.collisionPosition.left<0?g+e+h:d>0?g+e+h:0}},top:function(b,a){if(a.at[1]!=="center"){var d=c(window);d=a.collisionPosition.top+a.collisionHeight-d.height()-d.scrollTop();var g=a.my[1]==="top"?-a.elemHeight:a.my[1]==="bottom"?a.elemHeight:0,e=a.at[1]==="top"?a.targetHeight:-a.targetHeight,h=-2*a.offset[1];b.top+=a.collisionPosition.top<0?g+e+h:d>0?g+e+h:0}}}};if(!c.offset.setOffset){c.offset.setOffset=function(b,a){if(/static/.test(c.curCSS(b,"position")))b.style.position="relative";var d=c(b),
g=d.offset(),e=parseInt(c.curCSS(b,"top",true),10)||0,h=parseInt(c.curCSS(b,"left",true),10)||0;g={top:a.top-g.top+e,left:a.left-g.left+h};"using"in a?a.using.call(b,g):d.css(g)};c.fn.offset=function(b){var a=this[0];if(!a||!a.ownerDocument)return null;if(b)return this.each(function(){c.offset.setOffset(this,b)});return u.call(this)}}})(jQuery);
;/*
 * jQuery UI Sortable 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Sortables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function(d){d.widget("ui.sortable",d.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");
this.refresh();this.floating=this.items.length?a.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData("sortable-item");return this},_setOption:function(a,b){if(a===
"disabled"){this.options[a]=b;this.widget()[b?"addClass":"removeClass"]("ui-sortable-disabled")}else d.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(a,b){if(this.reverting)return false;if(this.options.disabled||this.options.type=="static")return false;this._refreshItems(a);var c=null,e=this;d(a.target).parents().each(function(){if(d.data(this,"sortable-item")==e){c=d(this);return false}});if(d.data(a.target,"sortable-item")==e)c=d(a.target);if(!c)return false;if(this.options.handle&&
!b){var f=false;d(this.options.handle,c).find("*").andSelf().each(function(){if(this==a.target)f=true});if(!f)return false}this.currentItem=c;this._removeCurrentsFromItems();return true},_mouseStart:function(a,b,c){b=this.options;var e=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(a);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,
left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");d.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};
this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();b.containment&&this._setContainment();if(b.cursor){if(d("body").css("cursor"))this._storedCursor=d("body").css("cursor");d("body").css("cursor",b.cursor)}if(b.opacity){if(this.helper.css("opacity"))this._storedOpacity=this.helper.css("opacity");this.helper.css("opacity",b.opacity)}if(b.zIndex){if(this.helper.css("zIndex"))this._storedZIndex=this.helper.css("zIndex");this.helper.css("zIndex",b.zIndex)}if(this.scrollParent[0]!=
document&&this.scrollParent[0].tagName!="HTML")this.overflowOffset=this.scrollParent.offset();this._trigger("start",a,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!c)for(c=this.containers.length-1;c>=0;c--)this.containers[c]._trigger("activate",a,e._uiHash(this));if(d.ui.ddmanager)d.ui.ddmanager.current=this;d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a);this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(a);
return true},_mouseDrag:function(a){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs)this.lastPositionAbs=this.positionAbs;if(this.options.scroll){var b=this.options,c=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-a.pageY<b.scrollSensitivity)this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop+b.scrollSpeed;else if(a.pageY-this.overflowOffset.top<
b.scrollSensitivity)this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop-b.scrollSpeed;if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<b.scrollSensitivity)this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft+b.scrollSpeed;else if(a.pageX-this.overflowOffset.left<b.scrollSensitivity)this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft-b.scrollSpeed}else{if(a.pageY-d(document).scrollTop()<b.scrollSensitivity)c=d(document).scrollTop(d(document).scrollTop()-
b.scrollSpeed);else if(d(window).height()-(a.pageY-d(document).scrollTop())<b.scrollSensitivity)c=d(document).scrollTop(d(document).scrollTop()+b.scrollSpeed);if(a.pageX-d(document).scrollLeft()<b.scrollSensitivity)c=d(document).scrollLeft(d(document).scrollLeft()-b.scrollSpeed);else if(d(window).width()-(a.pageX-d(document).scrollLeft())<b.scrollSensitivity)c=d(document).scrollLeft(d(document).scrollLeft()+b.scrollSpeed)}c!==false&&d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,
a)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(b=this.items.length-1;b>=0;b--){c=this.items[b];var e=c.item[0],f=this._intersectsWithPointer(c);if(f)if(e!=this.currentItem[0]&&this.placeholder[f==1?"next":"prev"]()[0]!=e&&!d.ui.contains(this.placeholder[0],e)&&(this.options.type=="semi-dynamic"?!d.ui.contains(this.element[0],
e):true)){this.direction=f==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(c))this._rearrange(a,c);else break;this._trigger("change",a,this._uiHash());break}}this._contactContainers(a);d.ui.ddmanager&&d.ui.ddmanager.drag(this,a);this._trigger("sort",a,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(a,b){if(a){d.ui.ddmanager&&!this.options.dropBehaviour&&d.ui.ddmanager.drop(this,a);if(this.options.revert){var c=this;b=c.placeholder.offset();
c.reverting=true;d(this.helper).animate({left:b.left-this.offset.parent.left-c.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:b.top-this.offset.parent.top-c.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){c._clear(a)})}else this._clear(a,b);return false}},cancel:function(){var a=this;if(this.dragging){this._mouseUp({target:null});this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):
this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--){this.containers[b]._trigger("deactivate",null,a._uiHash(this));if(this.containers[b].containerCache.over){this.containers[b]._trigger("out",null,a._uiHash(this));this.containers[b].containerCache.over=0}}}if(this.placeholder){this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove();d.extend(this,{helper:null,
dragging:false,reverting:false,_noFinalSort:null});this.domPosition.prev?d(this.domPosition.prev).after(this.currentItem):d(this.domPosition.parent).prepend(this.currentItem)}return this},serialize:function(a){var b=this._getItemsAsjQuery(a&&a.connected),c=[];a=a||{};d(b).each(function(){var e=(d(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[-=_](.+)/);if(e)c.push((a.key||e[1]+"[]")+"="+(a.key&&a.expression?e[1]:e[2]))});!c.length&&a.key&&c.push(a.key+"=");return c.join("&")},
toArray:function(a){var b=this._getItemsAsjQuery(a&&a.connected),c=[];a=a||{};b.each(function(){c.push(d(a.item||this).attr(a.attribute||"id")||"")});return c},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,e=this.positionAbs.top,f=e+this.helperProportions.height,g=a.left,h=g+a.width,i=a.top,k=i+a.height,j=this.offset.click.top,l=this.offset.click.left;j=e+j>i&&e+j<k&&b+l>g&&b+l<h;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||
this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?j:g<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<h&&i<e+this.helperProportions.height/2&&f-this.helperProportions.height/2<k},_intersectsWithPointer:function(a){var b=d.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height);a=d.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width);b=b&&a;a=this._getDragVerticalDirection();
var c=this._getDragHorizontalDirection();if(!b)return false;return this.floating?c&&c=="right"||a=="down"?2:1:a&&(a=="down"?2:1)},_intersectsWithSides:function(a){var b=d.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height);a=d.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width);var c=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&e?e=="right"&&a||e=="left"&&!a:c&&(c=="down"&&b||c=="up"&&!b)},
_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?"right":"left")},refresh:function(a){this._refreshItems(a);this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(a){var b=[],c=[],e=this._connectWith();
if(e&&a)for(a=e.length-1;a>=0;a--)for(var f=d(e[a]),g=f.length-1;g>=0;g--){var h=d.data(f[g],"sortable");if(h&&h!=this&&!h.options.disabled)c.push([d.isFunction(h.options.items)?h.options.items.call(h.element):d(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h])}c.push([d.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):d(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),
this]);for(a=c.length-1;a>=0;a--)c[a][0].each(function(){b.push(this)});return d(b)},_removeCurrentsFromItems:function(){for(var a=this.currentItem.find(":data(sortable-item)"),b=0;b<this.items.length;b++)for(var c=0;c<a.length;c++)a[c]==this.items[b].item[0]&&this.items.splice(b,1)},_refreshItems:function(a){this.items=[];this.containers=[this];var b=this.items,c=[[d.isFunction(this.options.items)?this.options.items.call(this.element[0],a,{item:this.currentItem}):d(this.options.items,this.element),
this]],e=this._connectWith();if(e)for(var f=e.length-1;f>=0;f--)for(var g=d(e[f]),h=g.length-1;h>=0;h--){var i=d.data(g[h],"sortable");if(i&&i!=this&&!i.options.disabled){c.push([d.isFunction(i.options.items)?i.options.items.call(i.element[0],a,{item:this.currentItem}):d(i.options.items,i.element),i]);this.containers.push(i)}}for(f=c.length-1;f>=0;f--){a=c[f][1];e=c[f][0];h=0;for(g=e.length;h<g;h++){i=d(e[h]);i.data("sortable-item",a);b.push({item:i,instance:a,width:0,height:0,left:0,top:0})}}},refreshPositions:function(a){if(this.offsetParent&&
this.helper)this.offset.parent=this._getParentOffset();for(var b=this.items.length-1;b>=0;b--){var c=this.items[b];if(!(c.instance!=this.currentContainer&&this.currentContainer&&c.item[0]!=this.currentItem[0])){var e=this.options.toleranceElement?d(this.options.toleranceElement,c.item):c.item;if(!a){c.width=e.outerWidth();c.height=e.outerHeight()}e=e.offset();c.left=e.left;c.top=e.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(b=
this.containers.length-1;b>=0;b--){e=this.containers[b].element.offset();this.containers[b].containerCache.left=e.left;this.containers[b].containerCache.top=e.top;this.containers[b].containerCache.width=this.containers[b].element.outerWidth();this.containers[b].containerCache.height=this.containers[b].element.outerHeight()}return this},_createPlaceholder:function(a){var b=a||this,c=b.options;if(!c.placeholder||c.placeholder.constructor==String){var e=c.placeholder;c.placeholder={element:function(){var f=
d(document.createElement(b.currentItem[0].nodeName)).addClass(e||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!e)f.style.visibility="hidden";return f},update:function(f,g){if(!(e&&!c.forcePlaceholderSize)){g.height()||g.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10));g.width()||g.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||
0,10))}}}}b.placeholder=d(c.placeholder.element.call(b.element,b.currentItem));b.currentItem.after(b.placeholder);c.placeholder.update(b,b.placeholder)},_contactContainers:function(a){for(var b=null,c=null,e=this.containers.length-1;e>=0;e--)if(!d.ui.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(!(b&&d.ui.contains(this.containers[e].element[0],b.element[0]))){b=this.containers[e];c=e}}else if(this.containers[e].containerCache.over){this.containers[e]._trigger("out",
a,this._uiHash(this));this.containers[e].containerCache.over=0}if(b)if(this.containers.length===1){this.containers[c]._trigger("over",a,this._uiHash(this));this.containers[c].containerCache.over=1}else if(this.currentContainer!=this.containers[c]){b=1E4;e=null;for(var f=this.positionAbs[this.containers[c].floating?"left":"top"],g=this.items.length-1;g>=0;g--)if(d.ui.contains(this.containers[c].element[0],this.items[g].item[0])){var h=this.items[g][this.containers[c].floating?"left":"top"];if(Math.abs(h-
f)<b){b=Math.abs(h-f);e=this.items[g]}}if(e||this.options.dropOnEmpty){this.currentContainer=this.containers[c];e?this._rearrange(a,e,null,true):this._rearrange(a,null,this.containers[c].element,true);this._trigger("change",a,this._uiHash());this.containers[c]._trigger("change",a,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[c]._trigger("over",a,this._uiHash(this));this.containers[c].containerCache.over=1}}},_createHelper:function(a){var b=
this.options;a=d.isFunction(b.helper)?d(b.helper.apply(this.element[0],[a,this.currentItem])):b.helper=="clone"?this.currentItem.clone():this.currentItem;a.parents("body").length||d(b.appendTo!="parent"?b.appendTo:this.currentItem[0].parentNode)[0].appendChild(a[0]);if(a[0]==this.currentItem[0])this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};if(a[0].style.width==
""||b.forceHelperSize)a.width(this.currentItem.width());if(a[0].style.height==""||b.forceHelperSize)a.height(this.currentItem.height());return a},_adjustOffsetFromHelper:function(a){if(typeof a=="string")a=a.split(" ");if(d.isArray(a))a={left:+a[0],top:+a[1]||0};if("left"in a)this.offset.click.left=a.left+this.margins.left;if("right"in a)this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;if("top"in a)this.offset.click.top=a.top+this.margins.top;if("bottom"in a)this.offset.click.top=
this.helperProportions.height-a.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&d.browser.msie)a=
{top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),
10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;if(a.containment=="parent")a.containment=this.helper[0].parentNode;if(a.containment=="document"||a.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,d(a.containment=="document"?
document:window).width()-this.helperProportions.width-this.margins.left,(d(a.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)){var b=d(a.containment)[0];a=d(a.containment).offset();var c=d(b).css("overflow")!="hidden";this.containment=[a.left+(parseInt(d(b).css("borderLeftWidth"),10)||0)+(parseInt(d(b).css("paddingLeft"),10)||0)-this.margins.left,a.top+(parseInt(d(b).css("borderTopWidth"),
10)||0)+(parseInt(d(b).css("paddingTop"),10)||0)-this.margins.top,a.left+(c?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(d(b).css("borderLeftWidth"),10)||0)-(parseInt(d(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,a.top+(c?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(d(b).css("borderTopWidth"),10)||0)-(parseInt(d(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(a,b){if(!b)b=
this.position;a=a=="absolute"?1:-1;var c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(c[0].tagName);return{top:b.top+this.offset.relative.top*a+this.offset.parent.top*a-(d.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:c.scrollTop())*a),left:b.left+this.offset.relative.left*a+this.offset.parent.left*a-(d.browser.safari&&
this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:c.scrollLeft())*a)}},_generatePosition:function(a){var b=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(c[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();
var f=a.pageX,g=a.pageY;if(this.originalPosition){if(this.containment){if(a.pageX-this.offset.click.left<this.containment[0])f=this.containment[0]+this.offset.click.left;if(a.pageY-this.offset.click.top<this.containment[1])g=this.containment[1]+this.offset.click.top;if(a.pageX-this.offset.click.left>this.containment[2])f=this.containment[2]+this.offset.click.left;if(a.pageY-this.offset.click.top>this.containment[3])g=this.containment[3]+this.offset.click.top}if(b.grid){g=this.originalPageY+Math.round((g-
this.originalPageY)/b.grid[1])*b.grid[1];g=this.containment?!(g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3])?g:!(g-this.offset.click.top<this.containment[1])?g-b.grid[1]:g+b.grid[1]:g;f=this.originalPageX+Math.round((f-this.originalPageX)/b.grid[0])*b.grid[0];f=this.containment?!(f-this.offset.click.left<this.containment[0]||f-this.offset.click.left>this.containment[2])?f:!(f-this.offset.click.left<this.containment[0])?f-b.grid[0]:f+b.grid[0]:f}}return{top:g-
this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(d.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:c.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(d.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:c.scrollLeft())}},_rearrange:function(a,b,c,e){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],
this.direction=="down"?b.item[0]:b.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var f=this,g=this.counter;window.setTimeout(function(){g==f.counter&&f.refreshPositions(!e)},0)},_clear:function(a,b){this.reverting=false;var c=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var e in this._storedCSS)if(this._storedCSS[e]=="auto"||this._storedCSS[e]=="static")this._storedCSS[e]=
"";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!b&&c.push(function(f){this._trigger("receive",f,this._uiHash(this.fromOutside))});if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!b)c.push(function(f){this._trigger("update",f,this._uiHash())});if(!d.ui.contains(this.element[0],this.currentItem[0])){b||c.push(function(f){this._trigger("remove",
f,this._uiHash())});for(e=this.containers.length-1;e>=0;e--)if(d.ui.contains(this.containers[e].element[0],this.currentItem[0])&&!b){c.push(function(f){return function(g){f._trigger("receive",g,this._uiHash(this))}}.call(this,this.containers[e]));c.push(function(f){return function(g){f._trigger("update",g,this._uiHash(this))}}.call(this,this.containers[e]))}}for(e=this.containers.length-1;e>=0;e--){b||c.push(function(f){return function(g){f._trigger("deactivate",g,this._uiHash(this))}}.call(this,
this.containers[e]));if(this.containers[e].containerCache.over){c.push(function(f){return function(g){f._trigger("out",g,this._uiHash(this))}}.call(this,this.containers[e]));this.containers[e].containerCache.over=0}}this._storedCursor&&d("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);if(this._storedZIndex)this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex);this.dragging=false;if(this.cancelHelperRemoval){if(!b){this._trigger("beforeStop",
a,this._uiHash());for(e=0;e<c.length;e++)c[e].call(this,a);this._trigger("stop",a,this._uiHash())}return false}b||this._trigger("beforeStop",a,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!b){for(e=0;e<c.length;e++)c[e].call(this,a);this._trigger("stop",a,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){d.Widget.prototype._trigger.apply(this,arguments)===false&&this.cancel()},
_uiHash:function(a){var b=a||this;return{helper:b.helper,placeholder:b.placeholder||d([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,item:b.currentItem,sender:a?a.element:null}}});d.extend(d.ui.sortable,{version:"1.8.16"})})(jQuery);
;/*
 * jQuery UI Autocomplete 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Autocomplete
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */
(function(d){var e=0;d.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var a=this,b=this.element[0].ownerDocument,g;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(c){if(!(a.options.disabled||a.element.propAttr("readOnly"))){g=
false;var f=d.ui.keyCode;switch(c.keyCode){case f.PAGE_UP:a._move("previousPage",c);break;case f.PAGE_DOWN:a._move("nextPage",c);break;case f.UP:a._move("previous",c);c.preventDefault();break;case f.DOWN:a._move("next",c);c.preventDefault();break;case f.ENTER:case f.NUMPAD_ENTER:if(a.menu.active){g=true;c.preventDefault()}case f.TAB:if(!a.menu.active)return;a.menu.select(c);break;case f.ESCAPE:a.element.val(a.term);a.close(c);break;default:clearTimeout(a.searching);a.searching=setTimeout(function(){if(a.term!=
a.element.val()){a.selectedItem=null;a.search(null,c)}},a.options.delay);break}}}).bind("keypress.autocomplete",function(c){if(g){g=false;c.preventDefault()}}).bind("focus.autocomplete",function(){if(!a.options.disabled){a.selectedItem=null;a.previous=a.element.val()}}).bind("blur.autocomplete",function(c){if(!a.options.disabled){clearTimeout(a.searching);a.closing=setTimeout(function(){a.close(c);a._change(c)},150)}});this._initSource();this.response=function(){return a._response.apply(a,arguments)};
this.menu=d("<ul></ul>").addClass("ui-autocomplete").appendTo(d(this.options.appendTo||"body",b)[0]).mousedown(function(c){var f=a.menu.element[0];d(c.target).closest(".ui-menu-item").length||setTimeout(function(){d(document).one("mousedown",function(h){h.target!==a.element[0]&&h.target!==f&&!d.ui.contains(f,h.target)&&a.close()})},1);setTimeout(function(){clearTimeout(a.closing)},13)}).menu({focus:function(c,f){f=f.item.data("item.autocomplete");false!==a._trigger("focus",c,{item:f})&&/^key/.test(c.originalEvent.type)&&
a.element.val(f.value)},selected:function(c,f){var h=f.item.data("item.autocomplete"),i=a.previous;if(a.element[0]!==b.activeElement){a.element.focus();a.previous=i;setTimeout(function(){a.previous=i;a.selectedItem=h},1)}false!==a._trigger("select",c,{item:h})&&a.element.val(h.value);a.term=a.element.val();a.close(c);a.selectedItem=h},blur:function(){a.menu.element.is(":visible")&&a.element.val()!==a.term&&a.element.val(a.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");
d.fn.bgiframe&&this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();d.Widget.prototype.destroy.call(this)},_setOption:function(a,b){d.Widget.prototype._setOption.apply(this,arguments);a==="source"&&this._initSource();if(a==="appendTo")this.menu.element.appendTo(d(b||"body",this.element[0].ownerDocument)[0]);a==="disabled"&&
b&&this.xhr&&this.xhr.abort()},_initSource:function(){var a=this,b,g;if(d.isArray(this.options.source)){b=this.options.source;this.source=function(c,f){f(d.ui.autocomplete.filter(b,c.term))}}else if(typeof this.options.source==="string"){g=this.options.source;this.source=function(c,f){a.xhr&&a.xhr.abort();a.xhr=d.ajax({url:g,data:c,dataType:"json",autocompleteRequest:++e,success:function(h){this.autocompleteRequest===e&&f(h)},error:function(){this.autocompleteRequest===e&&f([])}})}}else this.source=
this.options.source},search:function(a,b){a=a!=null?a:this.element.val();this.term=this.element.val();if(a.length<this.options.minLength)return this.close(b);clearTimeout(this.closing);if(this._trigger("search",b)!==false)return this._search(a)},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.source({term:a},this.response)},_response:function(a){if(!this.options.disabled&&a&&a.length){a=this._normalize(a);this._suggest(a);this._trigger("open")}else this.close();
this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(a){clearTimeout(this.closing);if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.deactivate();this._trigger("close",a)}},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){if(a.length&&a[0].label&&a[0].value)return a;return d.map(a,function(b){if(typeof b==="string")return{label:b,value:b};return d.extend({label:b.label||
b.value,value:b.value||b.label},b)})},_suggest:function(a){var b=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(b,a);this.menu.deactivate();this.menu.refresh();b.show();this._resizeMenu();b.position(d.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next(new d.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth(),this.element.outerWidth()))},_renderMenu:function(a,b){var g=this;
d.each(b,function(c,f){g._renderItem(a,f)})},_renderItem:function(a,b){return d("<li></li>").data("item.autocomplete",b).append(d("<a></a>").text(b.label)).appendTo(a)},_move:function(a,b){if(this.menu.element.is(":visible"))if(this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a)){this.element.val(this.term);this.menu.deactivate()}else this.menu[a](b);else this.search(null,b)},widget:function(){return this.menu.element}});d.extend(d.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,
"\\$&")},filter:function(a,b){var g=new RegExp(d.ui.autocomplete.escapeRegex(b),"i");return d.grep(a,function(c){return g.test(c.label||c.value||c)})}})})(jQuery);
(function(d){d.widget("ui.menu",{_create:function(){var e=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(a){if(d(a.target).closest(".ui-menu-item a").length){a.preventDefault();e.select(a)}});this.refresh()},refresh:function(){var e=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",
-1).mouseenter(function(a){e.activate(a,d(this).parent())}).mouseleave(function(){e.deactivate()})},activate:function(e,a){this.deactivate();if(this.hasScroll()){var b=a.offset().top-this.element.offset().top,g=this.element.scrollTop(),c=this.element.height();if(b<0)this.element.scrollTop(g+b);else b>=c&&this.element.scrollTop(g+b-c+a.height())}this.active=a.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",e,{item:a})},deactivate:function(){if(this.active){this.active.children("a").removeClass("ui-state-hover").removeAttr("id");
this._trigger("blur");this.active=null}},next:function(e){this.move("next",".ui-menu-item:first",e)},previous:function(e){this.move("prev",".ui-menu-item:last",e)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(e,a,b){if(this.active){e=this.active[e+"All"](".ui-menu-item").eq(0);e.length?this.activate(b,e):this.activate(b,this.element.children(a))}else this.activate(b,
this.element.children(a))},nextPage:function(e){if(this.hasScroll())if(!this.active||this.last())this.activate(e,this.element.children(".ui-menu-item:first"));else{var a=this.active.offset().top,b=this.element.height(),g=this.element.children(".ui-menu-item").filter(function(){var c=d(this).offset().top-a-b+d(this).height();return c<10&&c>-10});g.length||(g=this.element.children(".ui-menu-item:last"));this.activate(e,g)}else this.activate(e,this.element.children(".ui-menu-item").filter(!this.active||
this.last()?":first":":last"))},previousPage:function(e){if(this.hasScroll())if(!this.active||this.first())this.activate(e,this.element.children(".ui-menu-item:last"));else{var a=this.active.offset().top,b=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var g=d(this).offset().top-a+b-d(this).height();return g<10&&g>-10});result.length||(result=this.element.children(".ui-menu-item:first"));this.activate(e,result)}else this.activate(e,this.element.children(".ui-menu-item").filter(!this.active||
this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[d.fn.prop?"prop":"attr"]("scrollHeight")},select:function(e){this._trigger("selected",e,{item:this.active})}})})(jQuery);
;jQuery.cookie=function(name,value,options){if(typeof value!='undefined'){options=options||{};if(value===null){value='';options.expires=-1;}var expires='';if(options.expires&&(typeof options.expires=='number'||options.expires.toUTCString)){var date;if(typeof options.expires=='number'){date=new Date();date.setTime(date.getTime()+(options.expires*24*60*60*1000));}else{date=options.expires;}expires='; expires='+date.toUTCString();}var path=options.path?'; path='+(options.path):'';var domain=options.domain?'; domain='+(options.domain):'';var secure=options.secure?'; secure':'';document.cookie=[name,'=',encodeURIComponent(value),expires,path,domain,secure].join('');}else{var cookieValue=null;if(document.cookie&&document.cookie!=''){var cookies=document.cookie.split(';');for(var i=0;i<cookies.length;i++){var cookie=jQuery.trim(cookies[i]);if(cookie.substring(0,name.length+1)==(name+'=')){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break;}}}return cookieValue;}};/* Modernizr 2.5.3 (Custom Build) | MIT & BSD
 * Build: http://www.modernizr.com/download/#-fontface-backgroundsize-borderimage-borderradius-boxshadow-flexbox-flexbox_legacy-hsla-multiplebgs-opacity-rgba-textshadow-cssanimations-csscolumns-generatedcontent-cssgradients-cssreflections-csstransforms-csstransforms3d-csstransitions-applicationcache-canvas-canvastext-draganddrop-hashchange-history-audio-video-indexeddb-input-inputtypes-localstorage-postmessage-sessionstorage-websockets-websqldatabase-webworkers-inlinesvg-svg-svgclippaths-shiv-mq-cssclasses-teststyles-testprop-testallprops-hasevent-prefixes-domprefixes-load
 */
;window.Modernizr=function(a,b,c){function D(a){j.cssText=a}function E(a,b){return D(n.join(a+";")+(b||""))}function F(a,b){return typeof a===b}function G(a,b){return!!~(""+a).indexOf(b)}function H(a,b){for(var d in a)if(j[a[d]]!==c)return b=="pfx"?a[d]:!0;return!1}function I(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:F(f,"function")?f.bind(d||b):f}return!1}function J(a,b,c){var d=a.charAt(0).toUpperCase()+a.substr(1),e=(a+" "+p.join(d+" ")+d).split(" ");return F(b,"string")||F(b,"undefined")?H(e,b):(e=(a+" "+q.join(d+" ")+d).split(" "),I(e,b,c))}function L(){e.input=function(c){for(var d=0,e=c.length;d<e;d++)u[c[d]]=c[d]in k;return u.list&&(u.list=!!b.createElement("datalist")&&!!a.HTMLDataListElement),u}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),e.inputtypes=function(a){for(var d=0,e,f,h,i=a.length;d<i;d++)k.setAttribute("type",f=a[d]),e=k.type!=="text",e&&(k.value=l,k.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&k.style.WebkitAppearance!==c?(g.appendChild(k),h=b.defaultView,e=h.getComputedStyle&&h.getComputedStyle(k,null).WebkitAppearance!=="textfield"&&k.offsetHeight!==0,g.removeChild(k)):/^(search|tel)$/.test(f)||(/^(url|email)$/.test(f)?e=k.checkValidity&&k.checkValidity()===!1:/^color$/.test(f)?(g.appendChild(k),g.offsetWidth,e=k.value!=l,g.removeChild(k)):e=k.value!=l)),t[a[d]]=!!e;return t}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d="2.5.3",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k=b.createElement("input"),l=":)",m={}.toString,n=" -webkit- -moz- -o- -ms- ".split(" "),o="Webkit Moz O ms",p=o.split(" "),q=o.toLowerCase().split(" "),r={svg:"http://www.w3.org/2000/svg"},s={},t={},u={},v=[],w=v.slice,x,y=function(a,c,d,e){var f,i,j,k=b.createElement("div"),l=b.body,m=l?l:b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),k.appendChild(j);return f=["&#173;","<style>",a,"</style>"].join(""),k.id=h,(l?k:m).innerHTML+=f,m.appendChild(k),l||(m.style.background="",g.appendChild(m)),i=c(k,a),l?k.parentNode.removeChild(k):m.parentNode.removeChild(m),!!i},z=function(b){var c=a.matchMedia||a.msMatchMedia;if(c)return c(b).matches;var d;return y("@media "+b+" { #"+h+" { position: absolute; } }",function(b){d=(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle)["position"]=="absolute"}),d},A=function(){function d(d,e){e=e||b.createElement(a[d]||"div"),d="on"+d;var f=d in e;return f||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(d,""),f=F(e[d],"function"),F(e[d],"undefined")||(e[d]=c),e.removeAttribute(d))),e=null,f}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return d}(),B={}.hasOwnProperty,C;!F(B,"undefined")&&!F(B.call,"undefined")?C=function(a,b){return B.call(a,b)}:C=function(a,b){return b in a&&F(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=w.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(w.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(w.call(arguments)))};return e});var K=function(a,c){var d=a.join(""),f=c.length;y(d,function(a,c){var d=b.styleSheets[b.styleSheets.length-1],g=d?d.cssRules&&d.cssRules[0]?d.cssRules[0].cssText:d.cssText||"":"",h=a.childNodes,i={};while(f--)i[h[f].id]=h[f];e.csstransforms3d=(i.csstransforms3d&&i.csstransforms3d.offsetLeft)===9&&i.csstransforms3d.offsetHeight===3,e.generatedcontent=(i.generatedcontent&&i.generatedcontent.offsetHeight)>=1,e.fontface=/src/i.test(g)&&g.indexOf(c.split(" ")[0])===0},f,c)}(['@font-face {font-family:"font";src:url("https://")}',["@media (",n.join("transform-3d),("),h,")","{#csstransforms3d{left:9px;position:absolute;height:3px;}}"].join(""),['#generatedcontent:after{content:"',l,'";visibility:hidden}'].join("")],["fontface","csstransforms3d","generatedcontent"]);s.flexbox=function(){return J("flexOrder")},s["flexbox-legacy"]=function(){return J("boxDirection")},s.canvas=function(){var a=b.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")},s.canvastext=function(){return!!e.canvas&&!!F(b.createElement("canvas").getContext("2d").fillText,"function")},s.postmessage=function(){return!!a.postMessage},s.websqldatabase=function(){return!!a.openDatabase},s.indexedDB=function(){return!!J("indexedDB",a)},s.hashchange=function(){return A("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},s.history=function(){return!!a.history&&!!history.pushState},s.draganddrop=function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a},s.websockets=function(){for(var b=-1,c=p.length;++b<c;)if(a[p[b]+"WebSocket"])return!0;return"WebSocket"in a},s.rgba=function(){return D("background-color:rgba(150,255,150,.5)"),G(j.backgroundColor,"rgba")},s.hsla=function(){return D("background-color:hsla(120,40%,100%,.5)"),G(j.backgroundColor,"rgba")||G(j.backgroundColor,"hsla")},s.multiplebgs=function(){return D("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(j.background)},s.backgroundsize=function(){return J("backgroundSize")},s.borderimage=function(){return J("borderImage")},s.borderradius=function(){return J("borderRadius")},s.boxshadow=function(){return J("boxShadow")},s.textshadow=function(){return b.createElement("div").style.textShadow===""},s.opacity=function(){return E("opacity:.55"),/^0.55$/.test(j.opacity)},s.cssanimations=function(){return J("animationName")},s.csscolumns=function(){return J("columnCount")},s.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return D((a+"-webkit- ".split(" ").join(b+a)+n.join(c+a)).slice(0,-a.length)),G(j.backgroundImage,"gradient")},s.cssreflections=function(){return J("boxReflect")},s.csstransforms=function(){return!!J("transform")},s.csstransforms3d=function(){var a=!!J("perspective");return a&&"webkitPerspective"in g.style&&(a=e.csstransforms3d),a},s.csstransitions=function(){return J("transition")},s.fontface=function(){return e.fontface},s.generatedcontent=function(){return e.generatedcontent},s.video=function(){var a=b.createElement("video"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(d){}return c},s.audio=function(){var a=b.createElement("audio"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),c.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(d){}return c},s.localstorage=function(){try{return localStorage.setItem(h,h),localStorage.removeItem(h),!0}catch(a){return!1}},s.sessionstorage=function(){try{return sessionStorage.setItem(h,h),sessionStorage.removeItem(h),!0}catch(a){return!1}},s.webworkers=function(){return!!a.Worker},s.applicationcache=function(){return!!a.applicationCache},s.svg=function(){return!!b.createElementNS&&!!b.createElementNS(r.svg,"svg").createSVGRect},s.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==r.svg},s.svgclippaths=function(){return!!b.createElementNS&&/SVGClipPath/.test(m.call(b.createElementNS(r.svg,"clipPath")))};for(var M in s)C(s,M)&&(x=M.toLowerCase(),e[x]=s[M](),v.push((e[x]?"":"no-")+x));return e.input||L(),D(""),i=k=null,function(a,b){function g(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function h(){var a=k.elements;return typeof a=="string"?a.split(" "):a}function i(a){var b={},c=a.createElement,e=a.createDocumentFragment,f=e();a.createElement=function(a){var e=(b[a]||(b[a]=c(a))).cloneNode();return k.shivMethods&&e.canHaveChildren&&!d.test(a)?f.appendChild(e):e},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+h().join().replace(/\w+/g,function(a){return b[a]=c(a),f.createElement(a),'c("'+a+'")'})+");return n}")(k,f)}function j(a){var b;return a.documentShived?a:(k.shivCSS&&!e&&(b=!!g(a,"article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}audio{display:none}canvas,video{display:inline-block;*display:inline;*zoom:1}[hidden]{display:none}audio[controls]{display:inline-block;*display:inline;*zoom:1}mark{background:#FF0;color:#000}")),f||(b=!i(a)),b&&(a.documentShived=b),a)}var c=a.html5||{},d=/^<|^(?:button|form|map|select|textarea)$/i,e,f;(function(){var a=b.createElement("a");a.innerHTML="<xyz></xyz>",e="hidden"in a,f=a.childNodes.length==1||function(){try{b.createElement("a")}catch(a){return!0}var c=b.createDocumentFragment();return typeof c.cloneNode=="undefined"||typeof c.createDocumentFragment=="undefined"||typeof c.createElement=="undefined"}()})();var k={elements:c.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:c.shivCSS!==!1,shivMethods:c.shivMethods!==!1,type:"default",shivDocument:j};a.html5=k,j(b)}(this,b),e._version=d,e._prefixes=n,e._domPrefixes=q,e._cssomPrefixes=p,e.mq=z,e.hasEvent=A,e.testProp=function(a){return H([a])},e.testAllProps=J,e.testStyles=y,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+v.join(" "):""),e}(this,this.document),function(a,b,c){function d(a){return o.call(a)=="[object Function]"}function e(a){return typeof a=="string"}function f(){}function g(a){return!a||a=="loaded"||a=="complete"||a=="uninitialized"}function h(){var a=p.shift();q=1,a?a.t?m(function(){(a.t=="c"?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){a!="img"&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l={},o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};y[c]===1&&(r=1,y[c]=[],l=b.createElement(a)),a=="object"?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),a!="img"&&(r||y[c]===2?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i(b=="c"?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),p.length==1&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&o.call(a.opera)=="[object Opera]",l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return o.call(a)=="[object Array]"},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,i){var j=b(a),l=j.autoCallback;j.url.split(".").pop().split("?").shift(),j.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]||h),j.instead?j.instead(a,e,f,g,i):(y[j.url]?j.noexec=!0:y[j.url]=1,f.load(j.url,j.forceCSS||!j.forceJS&&"css"==j.url.split(".").pop().split("?").shift()?"c":c,j.noexec,j.attrs,j.timeout),(d(e)||d(l))&&f.load(function(){k(),e&&e(j.origUrl,i,g),l&&l(j.origUrl,i,g),y[j.url]=2})))}function i(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var j,l,m=this.yepnope.loader;if(e(a))g(a,0,m,0);else if(w(a))for(j=0;j<a.length;j++)l=a[j],e(l)?g(l,0,m,0):w(l)?B(l):Object(l)===l&&i(l,m);else Object(a)===a&&i(a,m)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,b.readyState==null&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement("script"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement("link"),j,c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};var mast_login=(pgbundle.view=='pglean')?'#user':'.mast_log_in';var shopForInput=$("#shopForInput");var $refine_search_input=$('#refine_search_input');var mastsearch=$("#mastsearch");var $topcats_list_wrapper=$('#topcats_list_wrapper');var $top_searches_mast_dropdown=$('#top_searches_mast_dropdown');var catnavintend=0;var catnavintendpop=0;var mouseoverflyout=0;var append_keyword=true;$(document).ready(function(){$(shopForInput).focus();$(document).ajaxStart(function(){});single_seller_count=$('div.single_seller').length;});if(pgbundle.view=='pglean'){if(!$(mastsearch).find('INPUT[name=some_id]').val()){append_keyword=true;}
$('#mast_top_searches_link').click(function(e){e.preventDefault();stopPropagation(e);var link_pos=$(this).position();$top_searches_mast_dropdown.css({left:link_pos.left+'px',top:(link_pos.top+25)+'px'}).toggle(100);});}
if(getJQueryVersion()[1]>8){$(document).on('submit','#refine_search_form',function(e){return true;e.preventDefault();$('#topcat_menu').remove();$('#refine_search').val($('#refine_search_input').val());ajaxHandler.showLoadingIndicator();$('#mastsearch').submit();});}
if(pgbundle.ab_name=='MRD'&&pgbundle.ab_group=='Test1'){var search_dd_channel=$("div#mast_main_search div#search_allcat p#allcat").text();}else{var search_dd_channel=$("#allcat").text();}
var search_keyword='';var tracking_generic='';jQuery(function($){var placeholderText=pgbundle.mastPlaceholderText||"";if(window.location.protocol.indexOf('https')>=0){$("HTML").addClass('https');}
if($(shopForInput).val()==''){$(shopForInput)
.css('color','#000000')
.val(placeholderText)
.each(function(){if($(this).find(":visible").length>0){if(this.setSelectionRange){this.setSelectionRange(0,0);}
else if(this.createTextRange){var range=this.createTextRange();range.collapse(true);range.moveEnd('character',0);range.moveStart('character',0);range.select();}}});}
if($(shopForInput).val()!=placeholderText&&$.trim($(shopForInput).val())){search_keyword=$(shopForInput).val();}else{search_keyword='-';if($(shopForInput).length!=0&&$(shopForInput).offset().top>$(window).scrollTop()){$(shopForInput).focus();}}
$(shopForInput)
.keypress(function(){if($(this).val()==placeholderText){$(this).val('').css('color','#000000');}})
.keyup(function(){if($.trim($(this).val())){search_keyword=$(this).val();}else{search_keyword='-';}})
.click(function(e){if($(this).val()==placeholderText){$(this).val('').css('color','#000000');}
if(pgbundle.ab_name=='MRD'&&pgbundle.ab_group=='Test1'){if($('div#topcats_list_wrapper').is(':visible')){$('div#pg_wide_mast div#mast_main_wrapper A#browse').click();}}});$('#mast_catbrowse A, #mast_catbrowse2 A').click(function(e){e.preventDefault();stopPropagation(e);$('#topcats_list_wrapper').toggle();});if(pgbundle.ab_name=='MRD'&&pgbundle.ab_group=='Test1'){var activeLIMast=$("#pg_wide_mast div#topbar UL.top_links LI.single_top_link > A");$("#pg_wide_mast div#topbar ul.top_links li a.overlay_close_btn").click(function(e){e.preventDefault();e.stopPropagation();$(this).parents('div.top_dropdown').fadeOut(100).parent().removeClass("active");});}
else{$("div#mast_tabs_wrap ul#mast_tabs li.mast_btn > a")
var activeLIMast=$("div#mast_tabs_wrap ul#mast_tabs li.mast_btn > a");$("div#mast_tabs_wrap ul#mast_tabs li.mast_btn a.overlay_close_btn").click(function(e){e.preventDefault();e.stopPropagation();$(this).parent().fadeOut(100).parent().removeClass("active");});}
activeLIMast.click(function(e){if(pgbundle.ab_name=='MRD'&&pgbundle.ab_group=='Test1'){var parentLI=$(this).parent();var isActive=parentLI.hasClass("active");if(isActive){parentLI.removeClass('active').find('.top_dropdown').toggle();return;}
if(parentLI.hasClass("linkOut")){var url=$(this).attr('href');window.location=url;}
else{e.preventDefault();var aWidth=parentLI.width()+20;$('#pg_wide_mast div#topbar UL.top_links li.single_top_link').each(function(i){$(this).removeClass("active");$('.top_dropdown').css("display","none");});parentLI.addClass("active");parentLI.find('.top_dropdown').toggle()
.find('.border_rmv')
.css({"width":aWidth+"px"})
.end()
.css({"min-width":aWidth+"px"});}}
else{$('#custommail .scrm-closewindow').click();var isActive=$(this).parent().hasClass("active");activeLIMast.each(function(i){$(this).parent().removeClass("active").find("div.mast_overlay").fadeOut(100);});if(isActive){return;}}
if($(this).attr('class')=="weekly"){$("#weekSpec").html('<a href="#" class="overlay_close_btn" title="'+pgbundle.translations.close+'"></a>'
+'<div id="getProd_newsletter_weekly">'
+'<div id="getProd_newsletter_img_weekly">'
+'<img width="321" height="125" src="'+pgbundle.img_server+'/getprod2/getProd_superDealNewsletter2_'+pgbundle.langCode+'.jpg" alt="Newsletter"></div>'
+'<div id="getProd_newsletter_subscribe_weekly">'
+'<input type="text" size="20" value="'+pgbundle.translations.enter_your_email+'" class="email" name="email" id="email">'
+'<input type="image" style="margin:0px;" src="'+pgbundle.img_server+'/getprod2/superdeal_signupToday_'+pgbundle.langCode+'.png"'
+' class="signup"></div></div>'
+'<div id="error"><p style="color:red;" class="error">'+pgbundle.translations.retry_email+'</p></div>');if(pgbundle.ab_name=='MRD'&&pgbundle.ab_group=='Test1'){$("div#topbar ul li div#weekSpec a.overlay_close_btn").click(function(e){e.preventDefault();e.stopPropagation();$(this).parents('div.top_dropdown').fadeOut(100).parent().removeClass("active");PgClick.track(this,{'click_type':'weekly_specials_close','identifier2':'internal_module'});});$("div#topbar ul li div#weekSpec input.signup").click(function(e){PgClick.track(this,{'click_type':'weekly_specials','identifier2':'internal_module'});});}
else{$("div#mast_tabs_wrap ul#mast_tabs li.mast_btn div#weekSpec a.overlay_close_btn").click(function(e){e.preventDefault();e.stopPropagation();$(this).parent().fadeOut(100).parent().removeClass("active");PgClick.track(this,{'click_type':'weekly_specials_close','identifier2':'internal_module'});});$("div#mast_tabs_wrap ul#mast_tabs li.mast_btn div#weekSpec input.signup").click(function(e){PgClick.track(this,{'click_type':'weekly_specials','identifier2':'internal_module'});});}
$("div#error").hide();$("#email").focus(function(){$(this).val('');});$(".signup").click(function(){$("div#error").hide();if(!isValidEmail($("#email").val())){var message="<b>Whoops!</b> Please type a valid email address.";$("div#weekSpec div#error").show();}
else{newsletterSendWeeklyMast($("#email").val(),'Nav Mast','');}});}
else if($(this).attr('class')=="popular"){$(this).parent().addClass("active");$(this).parent().find("div.mast_overlay").fadeIn(100);initScroll($("#topSearches div.scroll_container"));if(pgbundle.ab_name=='MRD'&&pgbundle.ab_group=='Test1'){$("div#topbar ul li div#topSearches a.overlay_close_btn").click(function(e){e.preventDefault();e.stopPropagation();$(this).parent('div.top_dropdown').fadeOut(100).parent().removeClass("active");});}
else{$("div#mast_tabs_wrap ul#mast_tabs li.mast_btn div#topSearches a.overlay_close_btn").click(function(e){e.preventDefault();e.stopPropagation();$(this).parent().fadeOut(100).parent().removeClass("active");});}}
else if($(this).attr('class')=="coupons"){$("#coupons .mast_scrollable .items #loader").css('display','block');if(pgbundle.topcat_id){var topcat_id=pgbundle.topcat_id;}
else{var topcat_id=0;}
$.ajax({type:"POST",url:"/ajax.php?action=MastHead&task=getCoupons&cobrand_id="+pgbundle.cobrand_id,data:"topcat_id="+topcat_id,success:function(msg){var coupons=$.parseJSON(msg);var html='';if(coupons!==null){for(var index=0;index<coupons.length;index++){if(index==0||(index%3)==0){if(index>0){html+='</div>';}
html+='<div class="coupon_row">';}
html+="<div class='item'>";html+="<div class='dealImg'>"+coupons[index]['logo']+"</div>";html+="<p class='f18 b'>"+coupons[index]['amount']+"</p>";html+="<p class='copy'>"+coupons[index]['description']+"</p>";html+="<div class='expdate'>";if(coupons[index]['expire']){html+="<p class='exp'>"+pgbundle.translations.expires+"<br><span>"+coupons[index]['expire']+"</span></p>";}
html+="<p class=\"get_coupon\"><a href='"+coupons[index]['redirect_url'].replace('http:',document.location.protocol)+"' target='_blank'><img src='"+pgbundle.img_server+"/mastv2/get_coupon_btn_"+pgbundle.langCode+".png' alt='' /></a></p>";html+="</div></div>";}}
$("#coupons a.mast_browse").css('display','block');$("#coupons div.navi").css('display','block');$("#coupons .mast_scrollable .items").html(html);if(pgbundle.ab_name=='MRD'&&pgbundle.ab_group=='Test1'){$("div#topbar ul li div#coupons a.overlay_close_btn").unbind('click');$("div#topbar ul li div#coupons a.overlay_close_btn").click(function(e){e.preventDefault();e.stopPropagation();$(this).parents('div.top_dropdown').fadeOut(100).parent().removeClass("active");PgClick.track(this,{'click_type':'coupons_close','identifier2':'internal_module'});});$("div#topbar ul li div.coupon_row div.item div.expdate p.get_coupon a").click(function(e){PgClick.track(this,{'click_type':'coupons','identifier2':'merchant_link'});});$("div#topbar ul li div#coupons div.navi a").click(function(e){PgClick.track(this,{'click_type':'coupons_scroll','identifier2':'internal_module'});});}
else{$("div#mast_tabs_wrap ul#mast_tabs li.mast_btn div#coupons a.overlay_close_btn").unbind('click');$("div#mast_tabs_wrap ul#mast_tabs li.mast_btn div#coupons a.overlay_close_btn").click(function(e){e.preventDefault();e.stopPropagation();$(this).parent().fadeOut(100).parent().removeClass("active");PgClick.track(this,{'click_type':'coupons_close','identifier2':'internal_module'});});$("div#mast_tabs_wrap ul#mast_tabs li.mast_btn div.coupon_row div.item div.expdate p.get_coupon a").click(function(e){PgClick.track(this,{'click_type':'coupons','identifier2':'merchant_link'});});$("div#mast_tabs_wrap ul#mast_tabs li.mast_btn div#coupons div.navi a").click(function(e){PgClick.track(this,{'click_type':'coupons_scroll','identifier2':'internal_module'});});}}});}
if($(this).attr('class')!="popular"){$(this).parent().addClass("active");$(this).parent().find("div.mast_overlay").fadeIn(100);}});if(pgbundle.ab_name=='MRD'&&pgbundle.ab_group=='Test1'){$("div#topbar .mast_scrollable").scrollable().navigator();}
else{$(".mast_scrollable").scrollable().navigator();}
var dropList=$("DIV#mast_search_wrap DIV#seeall_dropmenu UL#channels");var show_menu_timeout_id;$("DIV#mast_search_wrap DIV#seeall_dropmenu").live("mouseenter mouseleave",function(e){$('#custommail .scrm-closewindow').click();e.preventDefault();if(show_menu_timeout_id){clearTimeout(show_menu_timeout_id);}
if(e.type=="mouseleave"){$("DIV#mast_search_wrap DIV#seeall_dropmenu a#seeall").removeClass("opened");hideCatMenuFlyout();dropList.css({'display':'none'});}
else if(e.type=="mouseenter"){$('#shopForInput').blur();$('.ps_rating2_overlay a.close').click();show_menu_timeout_id=setTimeout(function(){dropList.css({'display':'block'});$("DIV#mast_search_wrap DIV#seeall_dropmenu a#seeall").addClass("opened");if($("div#main").height()){var page_height=$("div#main").height();var list_height=dropList.height();if(page_height<list_height){$("div#main").height(list_height);}}},500);}});if(pgbundle.ab_name=='MRD'&&pgbundle.ab_group=='Test1'){var inAlldropList=$("div#mast_main_search div#search_allcat ul");$("div#mast_main_search div#search_allcat p#allcat").click(function(e){e.preventDefault();e.stopPropagation();$('div.ps_rating2_overlay a.close').click();if($('div#topcats_list_wrapper').is(':visible')){$('div#pg_wide_mast div#mast_main_wrapper A#browse').click();}
inAlldropList.toggle();});$("div#mast_main_search div#search_allcat ul li p").click(function(e){search_dd_channel=$(this).text();var target_id=e.target.id;var topcat_id=target_id.split("_")[2];$("div#mast_main_search div#search_allcat p#allcat").html(search_dd_channel);$('#topcat_menu').val(topcat_id).trigger("change");inAlldropList.toggle();e.preventDefault();});}else{var inAlldropList=$("div#searchbar1 div#search_allcat ul");$("div#searchbar1 div#search_allcat p#allcat").click(function(e){e.preventDefault();e.stopPropagation();$('div.ps_rating2_overlay a.close').click();inAlldropList.toggle();});$("div#searchbar1 div#search_allcat ul li p").click(function(e){search_dd_channel=$(this).text();var target_id=e.target.id;var topcat_id=target_id.split("_")[2];$("div#searchbar1 div#search_allcat p#allcat").html(search_dd_channel);$('#topcat_menu').val(topcat_id).trigger("change");inAlldropList.toggle();e.preventDefault();});}
$("div#hd_mast_row3_links ul li a.deal_submast_link").each(function(){var href=$(this).attr('href');$(this).attr('href',href+(href.indexOf('?')>0?'&':'?')+'new=1');});if(window.PgLogin){function updateUserDisplay(user){if(user){$("#user .loggedIn").show();$("#user .loggedOut").hide();var displayName=user.display;if(displayName.length>25){displayName=displayName.substring(0,25)+"...";}
if(displayName.length){displayName=displayName.substring(0,1).toUpperCase()+displayName.substring(1);}
$("#user .loggedIn span.signed").text(displayName);}else{$("#user .loggedIn").hide();$("#user .loggedOut").show();}}
updateUserDisplay(PgLogin.getUser());PgLogin.subscribe("display",updateUserDisplay);if(location.href.protocol!="https")$("#user .loggedIn a[href*='/user_process.php']").click(function(e){e.preventDefault();PgLogin.logout();});$("#user .loggedOut a[href*='/account.php']").click(function(e){e.preventDefault();PgLogin.login();});}
function linkType(link){link=link.className||$(link).attr("class");var type=/\blnk_(\d+)\b/.exec(link);return type?pgbundle[type[1]]:null;}
$("div#hd_mast_row3_links").delegate("a.subBuyGuide","click",function(e){var click_type=linkType(this);link_text=$(this).text();});$('div#hd_mast').delegate('div#mast_tabs_wrap ul li a.weekly','click',function(){PgClick.track(this,{'click_type':'weekly_specials_tab','identifier2':'internal_module'});});$('div#hd_mast').delegate('div#mast_tabs_wrap ul li a.popular','click',function(){PgClick.track(this,{'click_type':'top_searches_tab','identifier2':'internal_module'});});$("div#mast_tabs_wrap ul#mast_tabs li.mast_btn div#topSearches a.overlay_close_btn").click(function(e){PgClick.track(this,{'click_type':'top_searches_close','identifier2':'internal_module'});});$("div#mast_tabs_wrap ul#mast_tabs li.mast_btn div#topSearches div.scroll_prod ul li a").click(function(e){PgClick.track(this,{'click_type':'top_searches','identifier2':'internal_link'});});$('div#hd_mast').delegate('div#mast_tabs_wrap ul li a.coupons','click',function(){PgClick.track(this,{'click_type':'coupons_tab','identifier2':'internal_module'});});$('div#hd_mast').delegate('div#mast_tabs_wrap ul li a.mobile','click',function(){PgClick.track(this,{'click_type':'mobile_apps_tab','identifier2':'internal_link'});});$('#mast_logo_advertisement').bind('click',function(){PgClick.track(this,{'click_type':'search_mast_logo'});});$('#mast_logo_advertisement').bind('pgclick',function(e){var pgip_data=PgClick.parse_pgip($(this).attr('class'));e.click_data.identifier2='media_link';if(pgip_data!=null){e.click_data.mof_id=pgip_data.mof_id;e.click_data.mof_line_id=pgip_data.mof_line_id;e.click_data.client_id=pgip_data.client_id;}});if(pgbundle.country_code=='GB'&&pgbundle.pg_look=='y'&&navigator.cookieEnabled&&!(pgbundle.current_page.match(/pgr_iframe/))){showCookieBanner();}});function showCookieBanner(){var info_data='<div id="clb_content">This site uses cookies.  By continuing to browse the site you are agreeing to our use of cookies. ';info_data+='<a href="'+pgbundle.cobrand_server+'/info_disclaimer.php#cookies" target="_blank">Find out more here</a><a href="#" class="banner_close_btn" title="Close"><img src="http://i.pgcdn.com/images/cookie_close.png"></a></div>';var ajax_url="/ajax.php?action=CookieLawBanner&task=showCookieBanner";$.get(ajax_url,function(data){if(data!=true){$('<div class="clb">'+info_data+'</div>').prependTo('body');$('a.banner_close_btn').click(function(){hideCookieBanner();});}},'json');}
function hideCookieBanner(){$(".clb").slideUp('Slow');var ajax_url="/ajax.php?action=CookieLawBanner&task=hideCookieBanner";$.get(ajax_url,function(data){});}
function newsletterSendWeeklyMast(email,referral,margin){var nws=document.getElementById('getProd_newsletter_weekly');var nwsLoad=document.getElementById('getProd_newsletter_loading_weekly');if(nws&&nwsLoad){nws.style.display='none';nwsLoad.style.display='';}
var current_page=pgbundle.current_page;if(pgbundle.is_sem_arbitrage){current_page='search arbitrage';}
$.ajax({type:"GET",url:"/newsletter_landing.php",data:"temp_newsletter_req=yes&email="+encodeURIComponent(email)+"&referral="+referral+"&margin="+margin+"&page_type="+current_page+"&search_id="+pgbundle.dw_search_id+"&search_epoch_time="+pgbundle.dw_search_epoch_time+((pgbundle.cobrand_id!=1)?"&domain[0]="+pgbundle.domain0:''),success:function(msg){newsletterCallbackWeekly(msg);}});}
function isValidEmail(emailStr){emailStr=emailStr.replace(/^\s*|\s*$/g,'');var emailPat=/^(.+)@(.+)$/;var specialChars="\\(\\)<>@,;:\\\\\\\"\\.\\[\\]";var validChars="\[^\\s"+specialChars+"\]";var quotedUser="(\"[^\"]*\")";var ipDomainPat=/^\[(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})\]$/;var atom=validChars+'+';var word="("+atom+"|"+quotedUser+")";var userPat=new RegExp("^"+word+"(\\."+word+")*$");var domainPat=new RegExp("^"+atom+"(\\."+atom+")*$");var matchArray=emailStr.match(emailPat);if(matchArray==null){return false;}
var user=matchArray[1];var domain=matchArray[2];if(user.match(userPat)==null){return false;}
var IPArray=domain.match(ipDomainPat);if(IPArray!=null){for(var i=1;i<=4;i++){if(IPArray[i]>255){return false;}}
return true;}
var domainArray=domain.match(domainPat);if(domainArray==null){return false;}
var atomPat=new RegExp(atom,"g");var domArr=domain.match(atomPat);var len=domArr.length;if(domArr[domArr.length-1].length<2||domArr[domArr.length-1].length>4){return false;}
if(len<2){return false;}
return true;}
function newsletterCallbackWeekly(XmlResp){if(!XmlResp){return false;}
else{var result=XmlResp.getElementsByTagName("result")[0].firstChild.nodeValue;var message=XmlResp.getElementsByTagName("message")[0].firstChild.nodeValue;try{var margin=XmlResp.getElementsByTagName("margin")[0].firstChild.nodeValue;}catch(err){}
if(result=='fail'){$("#error").html('<p class="error" style="color: red;">'+message+'</p>').show();}
else{$("#error").hide();if(pgbundle.ab_name=='MRD'&&pgbundle.ab_group=='Test1'){$("#weekSpec").html('<a href="#" onClick="$(this).parents(\'li.single_top_link.active\').removeClass(\'active\').find(\'.top_dropdown\').hide();return false;" class="overlay_close_btn" title="Close"><\/a>'+message+'<script>$(document).ready(function(){setTimeout(function(){$("div#topbar ul.top_links li.single_top_link.active div.top_dropdown").fadeOut().parent().removeClass("active");},3000);})</script>');}else{$("#weekSpec").html('<a href="#" onClick="$(this).parent().hide();return false;" class="overlay_close_btn" title="Close"><\/a>'+message+'<script>$(document).ready(function(){setTimeout(function(){$(\'#weekSpec\').hide();$("#mast_tabs .mast_btn").removeClass("active");},3000);})</script>');}}}}
function initScroll(e){var settings={showArrows:false
};var pane=$(e).jScrollPane(settings);var api=pane.data('jsp');api.reinitialise();}
function catnavmouseover(cat_id){if(cat_id==1&&pgbundle.country_code=="GB"){return;}
catnavintend=1;setTimeout('showCatMenuFlyout('+cat_id+');',500);}
function showCatMenuFlyout(cat_id){if(catnavintend){$("div [id^='tc_']").css('display','none');var winHeight=$(window).height()+$("html").scrollTop();$("#tc_"+cat_id).css('display','block');if($("#tc_"+cat_id).offset()){offTop=$("#tc_"+cat_id).offset().top;var subMenuPos=offTop+$("#tc_"+cat_id).height();if(subMenuPos>(winHeight-10)){newTop=$("#tc_"+cat_id).offset().top-Math.ceil((subMenuPos-winHeight));$("#tc_"+cat_id).offset({top:newTop});}}
catnavintendpop=cat_id;}}
function catnavmouseout(){catnavintend=0;setTimeout('hideCatMenuFlyout();',500);}
function hideCatMenuFlyout(){if(!mouseoverflyout&&!catnavintend){catnavintendpop=0;if(typeof pgbundle.view=='undefined'||pgbundle.view!='pglean')$("div [id^='tc_']").css('display','none');}}
function browserCookiesEnabled(){var cookieEnabled=(navigator.cookieEnabled)?true:false;if(typeof navigator.cookieEnabled=='undefined'&&!cookieEnabled){document.cookie='testcookiestate';cookieEnabled=(document.cookie.indexOf('testcookiestate')!=-1)?true:false;}
return(cookieEnabled);}
if(pgbundle.ab_name=='MRD'&&pgbundle.ab_group=='Test1'){$('div#topcats_list').delegate('li a.topcat','click',function(){PgClick.track(this,{'click_type':'leftnav_topcat','link_text':$(this).text()});});$('div#topcats_list').delegate('li a.topcat','pgclick',function(e){e.click_data.identifier2='internal_link';if($(this).hasClass('dd')){e.click_data.identifier2='internal_module';}});$('div#topcats_list').delegate('li p.lvl2 a.page_ids','click',function(){PgClick.track(this,{'click_type':'leftnav_pageids','identifier2':'internal_link'});});}else{$("div [id^='tc_']").mouseleave(function(event){mouseoverflyout=0;setTimeout("hideCatMenuFlyout();",500);});$("div [id^='tc_']").mouseenter(function(event){mouseoverflyout=1;});$('ul#channels').delegate('li a.topcat','click',function(){PgClick.track(this,{'click_type':'leftnav_topcat','identifier2':'internal_link','link_text':$(this).text()});});$('ul#channels').delegate('li.l0 div.l1 div.catZero ul li a','click',function(){PgClick.track(this,{'click_type':'leftnav_pageids','identifier2':'internal_link'});});}
function setfocus(){$("#mastsearch input#shopForInput").focus();}
function updateUserDisplayMast(user){if(user){var content=$('<p class="welcome_logged">'+pgbundle.translations.welcome+' <span></span></p>');var displayName=user.display;if(displayName.length>20){displayName=displayName.substring(0,20)+"...";}
if(displayName.length){displayName=displayName.substring(0,1).toUpperCase()+displayName.substring(1);}
$("span",content).html($('<a class="account_link" href="'+pgbundle.user_account_link+'">'+
displayName+'</a> <a class="logout_link" href="#">('+pgbundle.translations.logout+')</a>'));$("a.logout_link",content).click(function(e){e.preventDefault();PgClick.track($(this),{click_type:'logout',identifier2:'internal_module',module:'mast'});PgLogin.logout();});}else{var content=$('<p>'+pgbundle.translations.welcome+' <span>'+
'<a href="#" id="mast_sign_in">'+pgbundle.translations.sign_in+'</a> '+
pgbundle.translations.or+' <a href="#" id="mast_register">'+pgbundle.translations.register+'</a></span></p>');$("a#mast_sign_in",content).click(function(e){e.preventDefault();$('#custommail .scrm-closewindow').click();PgLogin.login();});$("a#mast_register",content).click(function(e){e.preventDefault();$('#custommail .scrm-closewindow').click();PgClick.track($(this),{click_type:'register',identifier2:'internal_module',module:'mast'});PgLogin.register();});}
$(mast_login).empty().append(content);}
$(window).load(function(){if(window.PgLogin&&(pgbundle&&pgbundle.current_page!="account")){PgLogin.subscribe("display",updateUserDisplayMast);updateUserDisplayMast(PgLogin.getUser());}
if(pgbundle.ab_name=='MRD'&&pgbundle.ab_group=='Test1'){$('div[id^="mast_main_wrapper"], div[id^="topbar"]').bind('pgclick',function(e){if(!e.click_data.module){e.click_data.module='mast';}});$('div#mast_main_wrapper p#mastlinks').delegate('a','pgclick',function(e){e.click_data.link_text=PgClick.getElementLinkText(this);});$('div#topbar ul.top_links div#topSearches').delegate('a','pgclick',function(e){e.click_data.link_text=PgClick.getElementLinkText(this);});}
$('div[id^="mast_head"], div[id^="hd_mast"], div[id^="hd_bd_mast"] ').bind('pgclick',function(e){if(!e.click_data.module){e.click_data.module='mast';}});$('div.comcast_header, div#comcast_navbar, div#abh, div#aol_hat').bind('pgclick',function(e){if(!e.click_data.module){e.click_data.module='mast';}});$('form#mastsearch').bind('pgclick',function(e){var search_category=$("div#search_allcat p#allcat").text();e.click_data.search_category=search_category;});$(mastsearch).submit(function(e){if(typeof pgbundle.refine_search_submitted!='undefined'&&pgbundle.refine_search_submitted===true){return;}
if($("#mastsearch input[name=kw_suggest]").val()==1){PgClick.track(this,{'click_type':'search_sug','identifier2':'internal_link','module':'mast'});}
else{PgClick.track(this,{'click_type':'search','identifier2':'internal_link','module':'mast'});}});$('.comcast_header h1 a').bind('click',function(e){PgClick.track(this,{'click_type':'logo','identifier2':'internal_link'});});$('.comcast_navbar #navbar_top li a').bind('click',function(e){PgClick.track(this,{'click_type':'category'});});$('.comcast_navbar #navbar_bottom li a').bind('click',function(e){PgClick.track(this,{'click_type':'subcategory'});});$('.comcast_navbar #navbar_top').delegate('li a','pgclick',function(e){e.click_data.link_text=PgClick.getLinkTextInParent(this,'a');e.click_data.position=PgClick.getLinkPosition($(this).parent(),'li[class!="navbar_seperator"]');e.click_data.identifier2='internal_link';if($(this).attr('href').indexOf('pricegrabber')==-1){e.click_data.identifier2='other_exit';}});$('.comcast_navbar #navbar_bottom').delegate('li a','pgclick',function(e){e.click_data.link_text=PgClick.getLinkTextInParent(this,'a');e.click_data.position=PgClick.getLinkPosition($(this).parent(),'li');e.click_data.identifier2='internal_link';});$('#aol_hat #aol_hat_logo_cont').bind('click',function(e){PgClick.track(this,{'click_type':'logo','identifier2':'internal_link'});});$('#aol_hat #aol_hat_links a').bind('click',function(e){PgClick.track(this,{'click_type':'toolbar'});});$('#aol_hat #aol_hat_links').delegate('a','pgclick',function(e){e.click_data.link_text=PgClick.getElementLinkText(this);e.click_data.position=PgClick.getLinkPosition(this,'a');e.click_data.identifier2='other_exit';});$('#abh .mast .logoabout a').bind('click',function(e){PgClick.track(this,{'click_type':'logo','identifier2':'other_exit'});});$('#abh .mast h2 a').bind('click',function(e){PgClick.track(this,{'click_type':'logo','identifier2':'internal_link'});});$('#abh .crumbtrail li a').bind('click',function(e){PgClick.track(this,{'click_type':'breadcrumb'});});$('#abh .crumbtrail').delegate('li a','pgclick',function(e){e.click_data.link_text=PgClick.getLinkTextInParent(this,'a');e.click_data.position=PgClick.getLinkPosition($(this).parent(),'li');e.click_data.identifier2='internal_link';if($(this).parent().hasClass('home')){e.click_data.identifier2='other_exit';}});$('#abh .gsearch .searchabout').bind('click',function(e){PgClick.track(this,{'click_type':'search','identifier2':'other_exit'});});if(!browserCookiesEnabled()){var search_target=$('form#mastsearch').attr('action').replace('.php/ut=','.php?ut=');$('form#mastsearch').attr('action',search_target);}});(function($){$.fn.lazyload=function(trigger_event,trigger_func,timeout,abort_event,abort_func){var timer=null;var original_elem=this;$(this).live(trigger_event,function(e){var ev=e;if(ie_version!=null&&ie_version<9){trigger_func.call($(this),ev);}else{timer=setTimeout(function(original_elem){trigger_func.call(original_elem,ev)},timeout,this);}});if(abort_event==undefined){return;}
$(this).live(abort_event,function(e){if(timer!=null){clearTimeout(timer);}
abort_func.call(original_elem);});};})(jQuery);function getJQueryVersion(){return $().jquery.split('.');}
jQuery(function($){$("div.SPL_Results div.adContainer").delegate('a.top','click',function(e){var main_pos=$(this).parents('div.SPL_Results').find('div.adContainer').index($(this).parents('div.adContainer'))+1;if($(this).hasClass('site_link_pw')){var pos=$(this).parents('table.site_links').find('a').index($(this))+1;PgClick.track(this,{'click_type':'site_link','identifier2':'adsense_link','position':'top','identifier1':main_pos+','+pos});}else{PgClick.track(this,{'click_type':'spl','position':'top','identifier1':main_pos,'identifier2':'adsense_link'});}});$("div.SPL_Results div.adContainer").delegate('a.bottom','click',function(e){var main_pos=$(this).parents('div.SPL_Results').find('div.adContainer').index($(this).parents('div.adContainer'))+1;if($(this).hasClass('site_link_pw')){var pos=$(this).parents('table.site_links').find('a').index($(this))+1;PgClick.track(this,{'click_type':'site_link','position':'bottom','identifier1':main_pos+','+pos,'identifier2':'adsense_link'});}else{PgClick.track(this,{'click_type':'spl','position':'bottom','identifier1':main_pos,'identifier2':'adsense_link'});}});$("div#SPL_Results div.adContainer").delegate('a.top','click',function(e){var main_pos=$(this).parents('div#SPL_Results').find('div.adContainer').index($(this).parents('div.adContainer'))+1;if($(this).hasClass('site_link_pw')){var pos=$(this).parents('table.site_links').find('a').index($(this))+1;PgClick.track(this,{'click_type':'site_link','position':'top','identifier1':main_pos+','+pos,'identifier2':'adsense_link'});}else{PgClick.track(this,{'click_type':'spl','position':'top','identifier1':main_pos,'identifier2':'adsense_link'});}});$("div#SPL_Results div.adContainer").delegate('a.bottom','click',function(e){var main_pos=$(this).parents('div#SPL_Results').find('div.adContainer').index($(this).parents('div.adContainer'))+1;if($(this).hasClass('site_link_pw')){var pos=$(this).parents('table.site_links').find('a').index($(this))+1;PgClick.track(this,{'click_type':'site_link','position':'bottom','identifier1':main_pos+','+pos,'identifier2':'adsense_link'});}else{PgClick.track(this,{'click_type':'spl','position':'bottom','identifier1':main_pos,'identifier2':'adsense_link'});}});});
var shopForInput=$('#shopForInput');var search_suggestion_hide=$('#search_suggestion_hide');var search_suggestion_show=$('#search_suggestion_show');var hitEvent='ontouchstart'in document.documentElement?'touchstart':'click';jQuery(function($){var autocomplete_positioned=false;if($(shopForInput).length){$(document).delegate('#search_suggestion_hide',hitEvent,function(e){e.stopPropagation();disableSearchSuggestions()});$(document).delegate('#search_suggestion_show',hitEvent,function(e){e.stopPropagation();enableSearchSuggestions()});$(shopForInput).autocomplete({minLength:3,source:function(request,response){var additional_params='';var topcat_menu=$("#topcat_menu").val();if(pgbundle.topcatId&&isNaN(topcat_menu)){additional_params+='&topcat_id='+pgbundle.topcatId;}
else if(parseInt(topcat_menu)&&topcat_menu!=99){additional_params+='&topcat_id='+parseInt(topcat_menu);}
var ajax_url="/ajax.php?action=getSearchSuggestions&lang_id=en&market=US&term="+encodeURIComponent(request.term)+additional_params
$.get(ajax_url,function(data){response($.map(data,function(item){return{label:item.keyword,value:item.keyword,click_tracking:item.click_tracking,click_type:item.click_type,click_var:item.click_var}}));},'json');},search:function(){var enable_search_suggestions=getSearchSuggestionCookie();if(enable_search_suggestions!=null&&enable_search_suggestions==0){$(search_suggestion_show).remove();var show_suggestion_div=$('<div id="search_suggestion_show">'+pgbundle.translations.show_suggestions+'</div>');show_suggestion_div.css({'width':$(shopForInput).width()-15,'z-index':2000});if(pgbundle.ab_name=='MRD'&&pgbundle.ab_group=='Test1'){$(show_suggestion_div).appendTo('#mast_main_wrapper').position({my:'left top',at:'left bottom',of:'#mastsearch #shopForInput',collision:'none'});}else{var mast_selector=($('#hd_mast').length===0)?$('#hd_mast'):$('#mastsearch');if($('#hd_mast').length===0){mast_selector=$('#mastsearch');}
$(show_suggestion_div).appendTo(mast_selector).position({my:'left top',at:'left bottom',of:'#mastsearch #shopForInput',collision:'none'});}
return false;}},open:function(){if(!autocomplete_positioned){if(pgbundle.ab_name=='MRD'&&pgbundle.ab_group=='Test1'){$('.ui-autocomplete').appendTo('#mast_main_wrapper').position({my:'left top',at:'left bottom',of:'#mastsearch #shopForInput',collision:'none'});}else{$('.ui-autocomplete').appendTo('#hd_mast').position({my:'left top',at:'left bottom',of:'#mastsearch #shopForInput',collision:'none'});}
autocomplete_positioned=true;}
$(".ui-autocomplete").prepend($('<li class="ui-autocomplete-options">'+pgbundle.translations.search_suggestions+': <span id="search_suggestion_hide">'+pgbundle.translations.hide+'</span></li>'));$(".ui-autocomplete").removeClass('ui-corner-all').css('z-index',2000);},select:function(event,ui){$(shopForInput).val(ui.item.label);$("#mastsearch input[name=kw_suggest]").val(1);$("form#mastsearch").submit();},messages:{noResults:'',results:function(){}}})
$(shopForInput).change(function(){if($(search_suggestion_show).length&&$(shopForInput).val().length<3){$(search_suggestion_show).slideUp('fast');}});}
function getSearchSuggestionCookie(){return $.cookie('enable_search_suggestions');}
function setSearchSuggestionCookie(value){$.cookie('enable_search_suggestions',value,{expires:14,secure:false});}
function enableSearchSuggestions(){setSearchSuggestionCookie(1);$('#search_suggestion_show').remove();$(shopForInput).autocomplete("search");}
function disableSearchSuggestions(){setSearchSuggestionCookie(0);$(shopForInput).autocomplete("close");}});
jQuery(function($){var isHomepage=pgbundle.current_page=="home";var defaultAction=pgbundle.searchSubmitDefault||$("form#mastsearch").attr("action"),actionMap=pgbundle.searchSubmit||{};function adjustSearchAction(){var action=actionMap[$(this).val()]||defaultAction
$("form#mastsearch").attr("action",action);}
$("form#mastsearch").submit(function(e){var val=$("input#shopForInput",this).val();keyword=val.replace("I am shopping for","").replace("I am for","").replace("...","");if(keyword!=val){$("input#shopForInput",this).val(keyword);}
if(isHomepage&&!$.trim(keyword)){e.preventDefault();return false;}
if(pgbundle.nmrAbGroup){var linkName=$("input[name=kw_suggest]",this).val()?"searghsug":"findit";var selectedCategory=$("input#topcat_menu, select#topcat_menu",this).val();track(linkName,keyword.replace("|"," "),selectedCategory);}});$("input#topcat_menu, select#topcat_menu","form#mastsearch")
.change(adjustSearchAction).each(adjustSearchAction);function track(linkName,keyword,selectedCategory){}});
var $footer=(pgbundle.view==='pglean')?$('#ft'):$('#pg_footer2');var $col1=$footer.find('.col1');var $col2=$footer.find('.col2');var $col3=$footer.find('.col3');var $col4=$footer.find('.col4');var $col5=$footer.find('.col5');var $col6=$footer.find('.col6');var $market_dropmenu=$('#market_dropmenu');var $market_dropmenu_ul=$market_dropmenu.find('UL');var $market_select=$market_dropmenu.find('#market_select');var rollout_speed=(pgbundle.view=='pglean')?300:0;(function($){$(document).click(function(e){$market_dropmenu_ul.hide(rollout_speed);});$col5.css({'display':'block'});$market_dropmenu_ul
.css({'display':'none'})
.find("li a").click(function(e){e.preventDefault();e.stopPropagation();$market_select.text($(this).text());$market_dropmenu_ul.toggle();var redirect=$(this).attr('href');location.href=redirect;return redirect;});$market_select.click(function(e){e.preventDefault();e.stopPropagation();$market_dropmenu_ul.toggle(rollout_speed);});$col5.css({'display':'block'});$market_dropmenu.css({'display':'block'});$market_dropmenu_ul.css({'display':'none'});$("#footer_email_news").focus(function(){$(this).val('');});$("input#footer_signup_news").click(function(e){e.preventDefault();if(!isValidEmail($("#footer_email_news").val())){var message=pgbundle.translations.retry_email+"<br><br><a href='javascript:void(0);' onclick='retry_news();'><span id='retry_news'>"+pgbundle.translations.try_again+"</span></a>";$("p#nws_signup").hide();$("p#footer_msg").html(message);$("p#footer_msg").css('color','#CF232E');$("p#footer_msg").show();setTimeout(function(){$("p#footer_msg").hide();},3000);setTimeout(function(){$("p#nws_signup").show();},3000);}else{newsletterSendWeekly($("#footer_email_news").val(),'Footer');}});$('#pg_footer2, div#abf').bind('pgclick',function(e){e.click_data.module='footer';});$('#abf .mast .logoabout a').bind('click',function(e){PgClick.track(this,{'click_type':'logo','identifier2':'other_exit'});});$('#abf .mast h2 a').bind('click',function(e){PgClick.track(this,{'click_type':'logo','identifier2':'internal_link'});});$('#abf .crumbtrail li a').bind('click',function(e){PgClick.track(this,{'click_type':'breadcrumb'});});$('#abf .crumbtrail').delegate('li a','pgclick',function(e){e.click_data.link_text=PgClick.getLinkTextInParent(this,'a');e.click_data.position=PgClick.getLinkPosition($(this).parent(),'li');e.click_data.identifier2='internal_link';if($(this).parent().hasClass('home')){e.click_data.identifier2='other_exit';}});$("input#footer_signup_news").click(function(){PgClick.track(this,{'click_type':'newsletter_signup','identifier2':'internal_module'});});$('#pricegrabber_disclaimer .poweredbypg').bind('click',function(e){PgClick.track(this,{'click_type':'powered_by','module':'footer','identifier2':'internal_link'});});if(pgbundle.view==='pglean'){if(typeof footer_signup_form!=='undefined'){PgNewsletterSignup.assignEventHandling(footer_signup_form);$(footer_signup_form).find('INPUT.signup_form_submit').click(function(){PgClick.track(this,{'click_type':'newsletter_signup','identifier2':'internal_module','module':'footer'});});}
$('#iPhoneAppLink').click(function(){PgClick.track(this,{'click_type':'mobile_iphone_dl','module':'main','identifier2':'internal_link'});});$('#iPadAppLink').click(function(){PgClick.track(this,{'click_type':'mobile_ipad_dl','module':'main','identifier2':'internal_link'});});$('#androidAppLink').click(function(){PgClick.track(this,{'click_type':'mobile_android_dl','module':'main','identifier2':'internal_link'});});$('#iPhoneDealGrabberLink').click(function(){PgClick.track(this,{'click_type':'mobile_deals_iphone_dl','module':'main','identifier2':'internal_link'});});$('#androidDealGrabberLink').click(function(){PgClick.track(this,{'click_type':'mobile_deals_android_dl','module':'main','identifier2':'internal_link'});});$col2.find('A').click(function(){PgClick.track(this,{'click_type':'pricegrabber','identifier2':'internal_link','module':'footer','link_text':$(this).text()});});$col3.find('A').click(function(){PgClick.track(this,{'click_type':'support','identifier2':'internal_link','module':'footer','link_text':$(this).text()});});$col4.find('A').click(function(){PgClick.track(this,{'click_type':'legal','identifier2':'internal_link','module':'footer','link_text':$(this).text()});});$('#twitter-share').click(function(){PgClick.track(this,{'click_type':'twitter','module':'footer'});});$('#fb_overlay').siblings('a').click(function(){getFacebookPanel();});$('div#fb_overlay').delegate('a.overlay_close_btn','click',function(){PgClick.track(this,{'click_type':'fb_close','identifier2':'internal_module'});});$('div#fb_overlay_everyone').delegate('div.scroll_container ul li div.copy h3 a','click',function(){PgClick.track(this,{'click_type':'fb_title','identifier2':'internal_link','target_product_id':PgClick.getProductIdFromParent(this,'.product','class')});});$('div#fb_overlay_everyone').delegate('div.scroll_container ul li div.copy p.price a','click',function(){PgClick.track(this,{'click_type':'fb_price','identifier2':'internal_link','target_product_id':PgClick.getProductIdFromParent(this,'.product','class')});});$('div#fb_overlay_everyone').delegate('div.scroll_container ul li div.copy p.seller a','click',function(){PgClick.track(this,{'click_type':'fb_merchant','identifier2':'internal_link','target_product_id':PgClick.getProductIdFromParent(this,'.product','class')});});$('div#fb_overlay_friends').delegate('div.scroll_container ul li div.copy h3 a','click',function(){PgClick.track(this,{'click_type':'fb_title','identifier2':'internal_link','target_product_id':PgClick.getProductIdFromParent(this,'.product','class')});});$('div#fb_overlay_friends').delegate('div.scroll_container ul li div.copy p.price a','click',function(){PgClick.track(this,{'click_type':'fb_price','identifier2':'internal_link','target_product_id':PgClick.getProductIdFromParent(this,'.product','class')});});$('div#fb_overlay_friends').delegate('div.scroll_container ul li div.copy p.seller a','click',function(){PgClick.track(this,{'click_type':'fb_merchant','identifier2':'internal_link','target_product_id':PgClick.getProductIdFromParent(this,'.product','class')});});}})(jQuery);function retry_news(){$("#footer_email_news").val(pgbundle.translations.enter_your_email);$("p#footer_msg").hide();$("p#nws_signup").show();}
function newsletterSendWeekly(email,referral){var current_page=pgbundle.current_page;if(pgbundle.is_sem_arbitrage){current_page='search arbitrage';}
$.ajax({type:"GET",url:"/newsletter_landing.php",data:"temp_newsletter_req=yes&email="+encodeURIComponent(email)+"&referral="+referral+"&page_type="+current_page+"&search_id="+pgbundle.dw_search_id+"&search_epoch_time="+pgbundle.dw_search_epoch_time+((pgbundle.cobrand_id!=1)?"&domain[0]="+pgbundle.domain0:''),success:function(msg){var message=$(msg).find('message').text();var result=$(msg).find('result').text();$("p#nws_signup").hide();$("#footer_email_news").val('Enter your email');$("p#footer_msg").html(message);if(result=='ok'){$("p#footer_msg").css('color','#000000');}else{$("p#footer_msg").css('color','#CF232E');}
$("#footer_msg").show();setTimeout(function(){$("p#footer_msg").hide();},4000);setTimeout(function(){$("p#nws_signup").show();},4003);}});}
function isValidEmail(emailStr){emailStr=emailStr.replace(/^\s*|\s*$/g,'');var emailPat=/^(.+)@(.+)$/;var specialChars="\\(\\)<>@,;:\\\\\\\"\\.\\[\\]";var validChars="\[^\\s"+specialChars+"\]";var quotedUser="(\"[^\"]*\")";var ipDomainPat=/^\[(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})\]$/;var atom=validChars+'+';var word="("+atom+"|"+quotedUser+")";var userPat=new RegExp("^"+word+"(\\."+word+")*$");var domainPat=new RegExp("^"+atom+"(\\."+atom+")*$");var matchArray=emailStr.match(emailPat);if(matchArray==null){return false;}
var user=matchArray[1];var domain=matchArray[2];if(user.match(userPat)==null){return false;}
var IPArray=domain.match(ipDomainPat);if(IPArray!=null){for(var i=1;i<=4;i++){if(IPArray[i]>255){return false;}}
return true;}
var domainArray=domain.match(domainPat);if(domainArray==null){return false;}
var atomPat=new RegExp(atom,"g");var domArr=domain.match(atomPat);var len=domArr.length;if(domArr[domArr.length-1].length<2||domArr[domArr.length-1].length>4){return false;}
if(len<2){return false;}
return true;}
function loadjsfile(filename,container_name){var fileref=document.createElement('script');fileref.setAttribute('type','text/javascript');fileref.setAttribute('src',filename);if(container_name!=undefined){var container=document.getElementById(container_name);container.appendChild(fileref);}else{var body=document.getElementsByTagName('BODY')[0];body.appendChild(fileref);}}
function injectjscode(code_innerHTML,container_name){var code=document.createElement('script');code.setAttribute('type','text/javascript');code.text=code_innerHTML;if(container_name!=undefined){var container=document.getElementById(container_name);container.appendChild(code);}else{var body=document.getElementsByTagName('BODY')[0];body.appendChild(code);}}
function injecthtmlcode(code_innerHTML,container_name){if(container_name!=undefined){var container=document.getElementById(container_name);container.innerHTML+=code_innerHTML;}else{var body=document.getElementsByTagName('BODY')[0];var div=document.createElement('div');div.innerHTML=code_innerHTML;body.appendChild(div);}}
PgFB={_domainConfig:{"pricegrabber.com":["125855144111382","en_US"],"pricegrabber.co.uk":["125855144111382","en_GB"],"pricegrabber.ca":["125855144111382","en_US"],"bottomdollar.com":["134910729865137","en_US"],"preciomania.com":["136304436397098","es_MX"],"precomania.com":["130582066980645","pt_BR"]},_domain:(/\w+\.(?:co\.)?\w+$/.exec(location.hostname)||["pricegrabber.com"])[0],_lazyListeners:[],_windowLoading:true,getAppId:function(){return(typeof this._domainConfig[this._domain]!='undefined')?this._domainConfig[this._domain][0]:'125855144111382';},getLocale:function(){return(typeof this._domainConfig[this._domain]!='undefined')?this._domainConfig[this._domain][1]:"en_US";},subscribe:function(name,cb){if(window.FB){if(name=="init")return cb();FB.Event.subscribe(name,cb);}else{this._lazyListeners.push(name,cb);}},load:function(cb){if(window.FB){if(cb)cb();return;}
if(cb)PgFB.subscribe("init",cb);if(PgFB._windowLoading){jQuery(window).load(PgFB.load);return;}
if(jQuery("#fb-root").length)return;jQuery("<div/>",{id:"fb-root"}).appendTo(document.body);var uri=location.protocol+"//connect.facebook.net/"+PgFB.getLocale()+"/all.js";jQuery.getScript(uri);}}
fbAsyncInit=function(){FB.init({appId:PgFB.getAppId(),cookie:true,oauth:true,xfbml:true});var list=PgFB._lazyListeners;PgFB._lazyListeners=undefined;for(var i=0;i<list.length;i+=2){var name=list[i],cb=list[i+1];if(name=="init"){cb();}else{FB.Event.subscribe(name,cb);}}}
function autoLoginViaFB(){FB.getLoginStatus(function(response){if(response.authResponse){var uri='/fbconnect.php?action=autoLoginViaFB&fb_userid='+response.authResponse.userID+(typeof pgbundle.domain0!='undefined'?'&domain[0]='+pgbundle.domain0:'');$('<iframe />',{src:uri,width:1,height:1,frameborder:0}).appendTo('body');}else{}});}
if(typeof pgbundle!='undefined'&&pgbundle.current_page=='rating_merchrevpopjs'){PgFB._windowLoading=false;setTimeout('PgFB.load(autoLoginViaFB);',500);}else{jQuery(window).load(function(){if(typeof pgbundle!='undefined'){PgFB._windowLoading=false;setTimeout('PgFB.load(autoLoginViaFB);',300);}});}
