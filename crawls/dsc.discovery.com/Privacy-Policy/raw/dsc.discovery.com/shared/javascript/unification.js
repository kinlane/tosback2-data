var DIT={};window.DIT=DIT;DIT.debug=(function(){return{log:function(s){if(window.console){console.log(s)}}}}());var urlData={protocol:window.location.protocol,hostname:window.location.hostname,pathname:window.location.pathname,query:window.location.search,hash:window.location.hash,fullyQualified:window.location.href,refer:document.referrer},testingDomainAlias=new Array("dev","test","stg","newprod"),hostContainsTestSub=false,hostnameSplit=(urlData.hostname).split("."),pathnameSplit=(urlData.pathname).split("/"),referSplit=(urlData.refer).split("/"),dciLinkPattern=/.discovery.com/gi,protocolPattern=/^http/,homepagePattern=/\.(\w+)\/$/,pageNumberString=new String(Math.random()),pageRandomNumber=(pageNumberString.substring(2,11)).replace(/0/g,"1");for(var i=0;i<testingDomainAlias.length;i++){if(hostnameSplit[1]==testingDomainAlias[i]){hostContainsTestSub=true;break}}function setCookie(name,value,expires,path,domain,secure){var curCookie=name+"="+escape(value)+((expires)?"; expires="+expires.toGMTString():"")+((path)?"; path="+path:"/")+((domain)?"; domain="+domain:"")+((secure)?"; secure":"");document.cookie=curCookie}function getCookie(name){var dc=document.cookie;var prefix=name+"=";var begin=dc.indexOf("; "+prefix);if(begin==-1){begin=dc.indexOf(prefix);if(begin!=0){return null}}else{begin+=2}var end=document.cookie.indexOf(";",begin);if(end==-1){end=dc.length}return unescape(dc.substring(begin+prefix.length,end))}function deleteCookie(name,path,domain){if(getCookie(name)){document.cookie=name+"="+((path)?"; path="+path:"")+((domain)?"; domain="+domain:"")+"; expires=Thu, 01-Jan-70 00:00:01 GMT"}}var END_OF_INPUT=-1;var base64Chars=new Array("A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"),reverseBase64Chars=new Array();for(var i=0;i<base64Chars.length;i++){reverseBase64Chars[base64Chars[i]]=i}var base64Str;var base64Count;function setBase64Str(str){base64Str=str;base64Count=0}function readBase64(){if(!base64Str){return END_OF_INPUT}if(base64Count>=base64Str.length){return END_OF_INPUT}var c=base64Str.charCodeAt(base64Count)&255;base64Count++;return c}function readReverseBase64(){if(!base64Str){return END_OF_INPUT}while(true){if(base64Count>=base64Str.length){return END_OF_INPUT}var nextCharacter=base64Str.charAt(base64Count);base64Count++;if(reverseBase64Chars[nextCharacter]){return reverseBase64Chars[nextCharacter]}if(nextCharacter=="A"){return 0}}return END_OF_INPUT}function ntos(n){n=n.toString(16);if(n.length==1){n="0"+n}n="%"+n;return unescape(n)}function encodeBase64(str){setBase64Str(str);var result="";var inBuffer=new Array(3);var lineCount=0;var done=false;while(!done&&(inBuffer[0]=readBase64())!=END_OF_INPUT){inBuffer[1]=readBase64();inBuffer[2]=readBase64();result+=(base64Chars[inBuffer[0]>>2]);if(inBuffer[1]!=END_OF_INPUT){result+=(base64Chars[((inBuffer[0]<<4)&48)|(inBuffer[1]>>4)]);if(inBuffer[2]!=END_OF_INPUT){result+=(base64Chars[((inBuffer[1]<<2)&60)|(inBuffer[2]>>6)]);result+=(base64Chars[inBuffer[2]&63])}else{result+=(base64Chars[((inBuffer[1]<<2)&60)]);result+=("=");done=true}}else{result+=(base64Chars[((inBuffer[0]<<4)&48)]);result+=("=");result+=("=");done=true}lineCount+=4;if(lineCount>=76){result+=("\n");lineCount=0}}return result}function decodeBase64(str){setBase64Str(str);var result="";var inBuffer=new Array(4);var done=false;while(!done&&(inBuffer[0]=readReverseBase64())!=END_OF_INPUT&&(inBuffer[1]=readReverseBase64())!=END_OF_INPUT){inBuffer[2]=readReverseBase64();inBuffer[3]=readReverseBase64();result+=ntos((((inBuffer[0]<<2)&255)|inBuffer[1]>>4));if(inBuffer[2]!=END_OF_INPUT){result+=ntos((((inBuffer[1]<<4)&255)|inBuffer[2]>>2));if(inBuffer[3]!=END_OF_INPUT){result+=ntos((((inBuffer[2]<<6)&255)|inBuffer[3]))}else{done=true}}else{done=true}}return result}var digitArray=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f");function toHex(n){var result="";var start=true;for(var i=32;i>0;){i-=4;var digit=(n>>i)&15;if(!start||digit!=0){start=false;result+=digitArray[digit]}}return(result==""?"0":result)}function pad(str,len,pad){var result=str;for(var i=str.length;i<len;i++){result=pad+result}return result}function encodeHex(str){var result="";for(var i=0;i<str.length;i++){result+=pad(toHex(str.charCodeAt(i)&255),2,"0")}return result}function decodeHex(str){str=str.replace(new RegExp("s/[^0-9a-zA-Z]//g"));var result="";var nextchar="";for(var i=0;i<str.length;i++){nextchar+=str.charAt(i);if(nextchar.length==2){result+=ntos(eval("0x"+nextchar));nextchar=""}}return result}function imageHoverHandler(imageId){var currentImage=document.getElementById(imageId);currentImage.src=currentImage.src.replace(/(\.[a-z0-9]+)$/i,"-on$1")}function imageNormalizeHandler(imageId){var currentImage=document.getElementById(imageId);currentImage.src=currentImage.src.replace(/-on(\.[a-z0-9]+)$/i,"$1")}function normalizeXHTMLData(object,encode){if(typeof object=="string"){object=document.getElementById(object)}var open="";var content="";var close="";var tagname=object.nodeName.toLowerCase();var emptytag=(object.nodeName.match(/area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param/i))?true:false;open="<"+tagname;for(var i=0;i<object.attributes.length;i++){if(object.attributes[i].specified&&"null"!=object.attributes[i].value){open+=" "+object.attributes[i].name.toLowerCase()+'="'+object.attributes[i].value+'"'}}open+=(emptytag)?" />":">";if(!emptytag){for(var i=0;i<object.childNodes.length;i++){var node=object.childNodes[i];if(3==node.nodeType){content+=node.data}else{if(1==node.nodeType){content+=normalizeXHTMLData(object.childNodes[i],false)}else{content+=" "}}}close="</"+tagname+">"}return("undefined"==typeof(encode)||true==encode)?encodeURIComponent(open+content+close):open+content+close}function getParam(paramName,pos){var startPos=(pos)?pos:0;var url,paramBegin,paramEnd,valueBegin,paramValue;url=window.location.search;paramBegin=url.indexOf(paramName,startPos);if(paramBegin==-1){return false}paramEnd=paramBegin+paramName.length;param=url.substring(paramBegin,paramEnd);var valBegin=url.indexOf("=",paramEnd);var nextParam=url.indexOf("&",paramEnd);var valLen=(nextParam==-1)?(url.length-(valBegin)):(nextParam-valBegin);var valEnd=(nextParam==-1)?valBegin+valLen:nextParam;valueBegin=paramEnd+1;paramValue=url.substring(valueBegin,valEnd);if((nextParam!=-1)&&(valBegin>nextParam)){return getParam(param,paramEnd)}else{for(i=0;i<paramValue.length;i++){paramValue=paramValue.replace("+"," ");paramValue=paramValue.replace("%20"," ");paramValue=paramValue.replace("%26","&");paramValue=paramValue.replace("%27","'");paramValue=paramValue.replace("%28","(");paramValue=paramValue.replace("%29",")")}return paramValue}}var socialSharing=new Object;socialSharing={toggleme:function(utilityButton,container){var itemCount=2,utilityId="active-utility-toggle",swapElement;for(var i=1;i<=itemCount;i++){if(document.getElementById("share-menu-"+i+"-open")){var activeButton=document.getElementById(utilityId),activeMenu=document.getElementById("share-menu-"+i+"-open");swapElement=document.getElementById("share-menu-"+i+"-open").id;activeMenu.setAttribute("id","share-menu-"+i);activeButton.className=activeButton.className.replace("-open","");activeButton.setAttribute("id","");utilityButton.className=utilityButton.className.replace("-open","");utilityButton.style.display=""}}if((container+"-open")!=swapElement){document.getElementById(container).setAttribute("id",container+"-open");utilityButton.setAttribute("id",utilityId);utilityButton.className=utilityButton.className+"-open"}},stafPing:function(formObject,pingImage,submitButtonId,displayMessageToElementId){if(""!=formObject.toName.value&&""!=formObject.toAddress.value&&""!=formObject.fromName.value&&""!=formObject.fromAddress.value){var stafPingImage=new Image(1,1);stafPingImage.src="http://appsnew.discovery.com/webapps/staf/staf.jsp?subject="+formObject.subject.value+"&header1="+formObject.header1.value+"&header2=&header3=&format=standard&thanksFile="+encodeURIComponent(formObject.thanksFile.value)+"&refPage="+encodeURIComponent(formObject.refPage.value)+"&toName="+formObject.toName.value+"&toAddress="+formObject.toAddress.value+"&fromName="+formObject.fromName.value+"&fromAddress="+formObject.fromAddress.value+"&userMessage="+encodeURIComponent(formObject.userMessage.value);document.getElementById(submitButtonId).style.display="none";document.getElementById(displayMessageToElementId).innerHTML="<strong>Message Sent!</strong>";document.getElementById(pingImage).src=stafPingImage.src;document.getElementById("reset-email").style.display="block"}else{alert("Please provide your friend's name, their email address, your name and your email address.")}},countCharacters:function(field,maxCharacters,displayCountToElementId){var currentCount=field.value.length,characterLeft=maxCharacters-currentCount;document.getElementById(displayCountToElementId).value="characters left = "+characterLeft;if(field.value.length>maxCharacters){field.value=field.value.substring(0,maxCharacters)}else{displayCountToElementId.value=maxCharacters-field.value.length}},openForm:function(){document.getElementById("email-overlay").style.display="block"},resetForm:function(){document.getElementById("toName").value="";document.getElementById("toAddress").value="";document.getElementById("fromName").value="";document.getElementById("fromAddress").value="";document.getElementById("userMessage").value="";document.getElementById("character-count").value="characters left = 100";document.getElementById("post-email-message").innerHTML="";document.getElementById("reset-email-over").style.display="none";document.getElementById("post-email").style.display="block"},closeEmail:function(){document.getElementById("email-overlay").style.display="none"},emailPanel:function(){document.getElementById("email-overlay").style.display="block";document.getElementById("character-count").value="characters left = 100";document.getElementById("post-email-message").innerHTML=""}};function openEmailBlock(){document.getElementById("email-overlay-social-media-block").innerHTML=document.getElementById("email-overlay-container").innerHTML;document.getElementById("email-overlay-social-media-block").style.display="block";document.getElementById("reset-email").style.display="none"}function openEmailBarToggle(){document.getElementById("email-overlay-social-media-block").innerHTML="";document.getElementById("email-overlay-social-media-block").style.display="none";document.getElementById("email-overlay-social-media-bar").innerHTML=document.getElementById("email-overlay-container").innerHTML;document.getElementById("email-overlay-social-media-bar").style.display="block";document.getElementById("reset-email").style.display="none"}function openEmailBar(){document.getElementById("email-overlay-social-media-bar").innerHTML=document.getElementById("email-overlay-container").innerHTML;document.getElementById("email-overlay-social-media-bar").style.display="block";document.getElementById("reset-email").style.display="none"}function windowOpen(url,name,width,height,scroll,resize){if(scroll==""){scroll="0"}if(resize==""){resize="0"}var options="width="+width+",height="+height+",status=0,toolbar=0,menubar=0,location=0,scrollbars="+scroll+",resizable="+resize;window.open(url,name,options);return false}function toParent(url){opener.location.href=url;window.close()}function interactiveReload(){if(""!=pageLevelInteractiveRuleSet){}else{var leaderboard=document.getElementById("ad-container-leaderboard");if(leaderboard){leaderboard.src=leaderboard.src}var rectangle=document.getElementById("ad-container-rectangle");if(rectangle){rectangle.src=rectangle.src}var skyscraper=document.getElementById("ad-container-skyscraper");if(skyscraper){skyscraper.src=skyscraper.src}}}var nav_click_count=0,rotate_count=1;function onShowNewFocus(id,oldFocus,newFocus){nav_click_count++;if(nav_click_count==rotate_count){nav_click_count=0;OmniView("Ad_Refresh");containerAds.loop("",1)}}function shiftSlide(module,direction,currentPosition,totalSlides){var toPosition="",previousPosition="",nextPosition="";if("prev"==direction){toPosition=currentPosition-1;if(1>toPosition){toPosition=totalSlides;previousPosition=toPosition-1;nextPosition=1}else{previousPosition=toPosition-1;nextPosition=toPosition+1}}else{toPosition=currentPosition+1;if(totalSlides<toPosition){toPosition=1;previousPosition=totalSlides;nextPosition=toPosition+1}else{previousPosition=toPosition-1;nextPosition=toPosition+1}}var updatedSlideAnchor=document.getElementById("s"+module+"url"+toPosition).getAttribute("href"),updateSlideImage=document.getElementById("s"+module+"img"+toPosition).getAttribute("src"),updateSlideshowCaption=document.getElementById("s"+module+"img"+toPosition).getAttribute("alt");document.getElementById("slideshow-anchor-"+module).setAttribute("href",updatedSlideAnchor);document.getElementById("slideshow-image-"+module).setAttribute("src",updateSlideImage);document.getElementById("slideshow-image-"+module).setAttribute("alt",updateSlideshowCaption);document.getElementById("slideshow-caption-"+module).innerHTML=updateSlideshowCaption;var previousLink="javascript: shiftSlide('"+module+"', 'prev', "+toPosition+", "+totalSlides+");",nextLink="javascript: shiftSlide('"+module+"', 'next', "+toPosition+", "+totalSlides+");";document.getElementById("slideshow-previous-"+module).setAttribute("href",previousLink);document.getElementById("slideshow-next-"+module).setAttribute("href",nextLink)}DIT.utilities={loadScript:function(uri,callback){var head=document.getElementsByTagName("head")[0],script=document.createElement("script");script.src=uri;head.appendChild(script);script.onload=script.onreadystatechange=function(){if(!script.readyState||"loaded"==script.readyState||"complete"==script.readyState){if(typeof callback=="function"){callback()}}}}};