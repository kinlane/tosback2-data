var JSON;JSON||(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)typeof rep[n]=="string"&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(){var e,t,n,r,i,s,o,u,a,f=[].slice,l={}.hasOwnProperty,c=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},h=function(e,t){function r(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};if(typeof s=="undefined"||s===null)s={};s.util==null&&(s.util={}),s.layer==null&&(s.layer={}),s.layer.base==null&&(s.layer.base={}),s.layer.logging==null&&(s.layer.logging={}),s.layer.dispatch==null&&(s.layer.dispatch={}),s.layer.event==null&&(s.layer.event={}),s.layer.cookie==null&&(s.layer.cookie={}),s.layer.optout==null&&(s.layer.optout={}),s.adapters==null&&(s.adapters={}),s.adapters.base==null&&(s.adapters.base={}),s.adapters.logging==null&&(s.adapters.logging={}),s.adapters.vInsight==null&&(s.adapters.vInsight={}),this.vInsight==null&&(this.vInsight=s),s.collector==null&&(s.collector={}),s.collector.api==null&&(s.collector.api={}),s.collector.logging==null&&(s.collector.logging={}),s.util.Messages={ERROR_MIN_TWO_ARGUMENTS:"you need at least to specify 2 objects!",ERROR_WRONG_ARGUMENT_TYPES:"you need at least 2 objects to call this function",ERROR_RUN_FUNC_PARAM:"wa_queue.push was not called with valid param (must be array with 1 element)",ERROR_RUN_FUNC:"VALITON_WA.0 does not exist!",FATAL_TRACK:"track-method threw exception 0"},s.util.Logger=function(){function n(){}var e,t;return e=typeof console!="undefined"&&console!==null?console:null,n.debug=function(){var e;return e=1<=arguments.length?f.call(arguments,0):[],t("DEBUG",e)},n.info=function(){var e;return e=1<=arguments.length?f.call(arguments,0):[],t("INFO",e)},n.error=function(){var e;return e=1<=arguments.length?f.call(arguments,0):[],t("ERROR",e)},n.fatal=function(){var e;return e=1<=arguments.length?f.call(arguments,0):[],t("FATAL",e)},n.setConsole=function(t){return e=t},t=function(t,n){var r,i,s,o,u,a,f;if(typeof (e!=null?e.log:void 0)!="function")return;i=""+t+": "+n[0],f=n.splice(1);for(r=u=0,a=f.length;u<a;r=++u)o=f[r],s=new RegExp("#{"+r+"\\}","gi"),i=i.replace(s,o);return e.log(i)},n}(),s.util.DateUtil=function(){function e(){}return e.getCurrentTime=function(){return(new Date).getTime()},e}(),s.util.StringUtil=function(){function e(){}return e.trim=function(e,t){var n;return t==null&&(t=!0),n=t?/^\s+|\s+$|\r\n|\n|\r/g:/^\s+|\s+$/g,typeof e=="string"?e.replace(n,""):e},e}(),s.util.Properties=function(){function r(){}var e,t,n;return t=s.util.Messages,e=s.util.Logger,r.extend=function(){var r,i,s,o,u,a;return r=1<=arguments.length?f.call(arguments,0):[],r.length<2?(e.error(t.ERROR_MIN_TWO_ARGUMENTS),{}):(r.length===2&&(u=[!1,r[0],r[1]],i=u[0],s=u[1],o=u[2]),r.length>2&&(a=[r[0],r[1],r[2]],i=a[0],s=a[1],o=a[2]),typeof i!="boolean"||typeof s!="object"||typeof o!="object"?(e.error(t.ERROR_WRONG_ARGUMENT_TYPES),{}):n(i,s,o))},r.isEmpty=function(e){var t,n;for(t in e){n=e[t];if(e.hasOwnProperty(t))return!1}return!0},n=function(e,t,r){var i,s;for(i in r){if(!l.call(r,i))continue;s=r[i],t[i]==null||typeof s!="object"||!e?t[i]=s:t[i]=n(e,t[i],s)}return t},r}(),s.util.ISO_COUNTRIES=["af","ax","al","dz","as","ad","ao","ai","aq","ag","ar","am","aw","au","at","az","bs","bh","bd","bb","by","be","bz","bj","bm","bt","bo","bq","ba","bw","bv","br","io","bn","bg","bf","bi","kh","cm","ca","cv","ky","cf","td","cl","cn","cx","cc","co","km","cg","cd","ck","cr","ci","hr","cu","cw","cy","cz","dk","dj","dm","do","ec","eg","sv","gq","er","ee","et","fk","fo","fj","fi","fr","gf","pf","tf","ga","gm","ge","de","gh","gi","gr","gl","gd","gp","gu","gt","gg","gn","gw","gy","ht","hm","va","hn","hk","hu","is","in","id","ir","iq","ie","im","il","it","jm","jp","je","jo","kz","ke","ki","kp","kr","kw","kg","la","lv","lb","ls","lr","ly","li","lt","lu","mo","mk","mg","mw","my","mv","ml","mt","mh","mq","mr","mu","yt","mx","fm","md","mc","mn","me","ms","ma","mz","mm","na","nr","np","nl","nc","nz","ni","ne","ng","nu","nf","mp","no","om","pk","pw","ps","pa","pg","py","pe","ph","pn","pl","pt","pr","qa","re","ro","ru","rw","bl","sh","kn","lc","mf","pm","vc","ws","sm","st","sa","sn","rs","sc","sl","sg","sx","sk","si","sb","so","za","gs","ss","es","lk","sd","sr","sj","sz","se","ch","sy","tw","tj","tz","th","tl","tg","tk","to","tt","tn","tr","tm","tc","tv","ug","ua","ae","gb","us","um","uy","uz","vu","ve","vn","vg","vi","wf","eh","ye","zm","zw"],s.util.PAYMENT_TYPES={"000":"Sonstige",101:"Kreditkarte - Visa",102:"Kreditkarte - MasterCard",103:"Kreditkarte - American Express",104:"EC-Karte",105:"ELV",106:"Giropay",201:"Rechnung",202:"Bar",203:"Vorkasse",204:"Nachname",301:"PayPal",302:"Click & Buy",303:"SofortÃ¼berweisung",401:"Leasing",402:"Finanzierung"},s.util.FieldHelper=function(){function t(){}var e;return e=s.util.Properties,t.propsLoop=function(e,t){var n,r,i;i=[];for(n in t)r=t[n],r[4]!=null&&typeof e[n]=="string"&&e[n].length>r[4]&&(e[n]=e[n].substring(0,r[4])),this.ensureProp(e,n,r[0],r[1]),r[3]!=null&&r[3]&&this.tolower(e,n),r[2]!=null?i.push(this.checkForValid(e,n,r[2],r[0])):i.push(void 0);return i},t.ensureProp=function(t,n,r,i){var s;if(i!=="array"&&i!=="object"){if(typeof t[n]!==i)return i==="number"&&typeof t[n]?(t[n]=typeof t[n]=="string"?t[n].replace(/,/g,".").replace(/\s/g,""):t[n],t[n]=isNaN(s=parseFloat(t[n]))?r:s):t[n]=r}else{if(typeof t[n]!="object")return t[n]=r;if(i==="object"&&e.isEmpty(t[n]))return t[n]=r;if(i==="array"&&!(t[n].length&&t[n].length>0))return t[n]=r}},t.tolower=function(e,t){var n,r,i,s,o;if(typeof e[t]=="string")return e[t]=e[t].toLowerCase();if(typeof e[t]=="object"&&e.length)return e[t]=function(){var r,i,s,o;s=e[t],o=[];for(r=0,i=s.length;r<i;r++)n=s[r],o.push(n.toLowerCase());return o}();if(typeof e[t]=="object"){i=e[t],s=[];for(r in i)o=i[r],s.push(e[t][r]=o.toLowerCase());return s}},t.checkForValid=function(e,t,n,r){var i;if(i=e[t],c.call(n,i)<0)return e[t]=r},t.ensureZip=function(e){var t;return t=typeof e.zip=="string"?e.zip:"00000",typeof e.country=="string"&&this.tolower(e,"country")==="de"?(t="00000"+t,e.zip=t.substring(t.length-5,t.length)):e.zip=t},t.copyValidProps=function(e,t){var n,r,i,s;n={};for(i=0,s=t.length;i<s;i++)r=t[i],e.hasOwnProperty(r)&&(n[r]=e[r]);return n},t}(),s.layer.logging.Messages={ERROR_DEFAULT_CONFIG_NO_OBJECT:"your default config specified is no valid object",ERROR_NO_EVENT:"event is not defined",ERROR_NO_MODULE:"module is not defined",ERROR_NO_TRACKER_NAME:"no tracker.NAME",ERROR_NO_VALID_CONFIG_OBJECT:"no valid config-object in setConfig",ERROR_OVERRIDE_CONFIG_NO_OBJECT:"your override config specified is no valid object",ERROR_PROCESS_DID_NOT_RETURN_OBJECT:"processConfig did not return an object, and is not used!",ERROR_PROCESS_PARAM_IS_NOT_A_FUNCTION:"param to processConfig is not a function",ERROR_REGISTER_NO_VALID_TRACKER:"you tried to register a not valid tracker-object #{0}",ERROR_WHILE_TRACKING_DOCUMENT_COMPLETE:"error while tracking document complete event #{0}",FATAL_DISPATCHER_CALL_TRACK:"There was an error while binding the objects metaData to the trackers #{0}",FATAL_DISPATCHER_HAS_NO_VALID_OBJ:"track method of dispatcher needs a valid pageObj",FATAL_NO_TRACKERS_IN_DISPATCHER:"you need to register at least 1 tracker in dispatcher"},s.layer.event.EventHandler=function(){function e(){}return e.addEvent=function(e,t){if(typeof window!="undefined"&&window!==null&&window.addEventListener!=null){window.addEventListener(e,t,!1);return}if(typeof document!="undefined"&&document!==null&&document.addEventListener!=null){document.addEventListener(e,t,!1);return}if(typeof window!="undefined"&&window!==null&&window.attachEvent!=null){window.attachEvent("on"+e,t);return}typeof document!="undefined"&&document!==null&&document.attachEvent!=null&&document.attachEvent("on"+e,t)},e}(),s.layer.dispatch.Dispatcher=function(){function o(){}var e,t,n,r,i;return n=null,i=null,r=null,e=s.util.Logger,t=s.layer.logging.Messages,o.INSTANCE=function(){return n==null&&(n=new this,n._init()),n},o.prototype.track=function(r){var s,o,u,a;if(r==null||r.tracker==null){e.fatal(t.FATAL_DISPATCHER_HAS_NO_VALID_OBJ);return}a=[];for(o=0,u=i.length;o<u;o++){s=i[o];if(n._isValidTracker(s)&&r.tracker.indexOf(s.NAME)!==-1)try{a.push(s.track(r))}catch(f){a.push(e.fatal(t.FATAL_DISPATCHER_CALL_TRACK,f))}else a.push(void 0)}return a},o.prototype.getTrackers=function(){return i},o.prototype.getTrackerNames=function(){return r},o.prototype.register=function(e){var t,r,i,s;r=typeof e=="object"&&e.length!=null?e:[e];for(i=0,s=r.length;i<s;i++)t=r[i],n._registerTracker(t);return n._setTrackerNames()},o.prototype._registerTracker=function(r){var s;return n._isValidTracker(r)?i.push(r):(s=r!=null&&r.NAME!=null?r.NAME:t.ERROR_NO_TRACKER_NAME,e.error(t.ERROR_REGISTER_NO_VALID_TRACKER,s))},o.prototype._setTrackerNames=function(){var e;return r=function(){var t,n,r;r=[];for(t=0,n=i.length;t<n;t++)e=i[t],r.push(e.NAME);return r}().join(",")},o.prototype._isValidTracker=function(e){return typeof e=="object"&&typeof e.track=="function"&&e.NAME!=null},o.prototype._init=function(){return i=[],r=""},o}(),s.layer.dispatch.PreDispatcher=function(){function n(){}var e,t;return n.DEFAULT_MODULE="page",n.DEFAULT_EVENT="view",n.EMPTY_DEFAULT_VALUE="null",e=s.util.Logger,t=s.layer.logging.Messages,n.getConfigForTrack=function(n,r,i){var s,o;return r!=null?(r.module==null&&r.event==null&&(r.module=this.DEFAULT_MODULE,r.event=this.DEFAULT_EVENT),r.module==null&&(r.module=this.EMPTY_DEFAULT_VALUE,e.error(t.ERROR_NO_MODULE)),r.event==null&&(r.event=this.EMPTY_DEFAULT_VALUE,e.error(t.ERROR_NO_EVENT)),(s=r.tracker)==null&&(r.tracker=n!=null&&n.tracker!=null?n.tracker:i),r):n!=null?(n.module==null&&n.event==null&&(n.module=this.DEFAULT_MODULE,n.event=this.DEFAULT_EVENT),(o=n.tracker)==null&&(n.tracker=i),n):{module:this.EMPTY_DEFAULT_VALUE,event:this.EMPTY_DEFAULT_VALUE,tracker:this.EMPTY_DEFAULT_VALUE}},n}(),s.layer.cookie.CookieHandler=function(){function e(){}return e.getCookieArray=function(){var e;return e=document.cookie.split(";")},e.getCookie=function(e){var t,n,r,i,s,o,u;t=this.getCookieArray();for(n=o=0,u=t.length-1;0<=u?o<=u:o>=u;n=0<=u?++o:--o){r=t[n].indexOf("="),i=t[n].substr(0,r),s=t[n].substr(r+1),i=i.replace(/^\s+|\s+$/g,"");if(i===e)return s}return null},e.setCookie=function(e,t,n,r){var i,s;return s=new Date,s.setDate(s.getDate()+n),i=escape(t)+(n===null?"":"; expires="+s.toUTCString()+"; path="+r),document.cookie=""+e+"="+i+";"},e.removeCookie=function(e){return this.setCookie(e,null,-1)},e}(),s.layer.optout.OptOut=function(){function e(){}return e.c_name="optedOut",e.__CookieHandler=s.layer.cookie.CookieHandler,e.optOut=function(){return this.setOptCookie(!0,99999)},e.optIn=function(){return this.setOptCookie(!1,99999)},e.isOptedOut=function(){var e;return e=this.__CookieHandler.getCookie(this.c_name),e!=null?e==="true":!1},e.setOptCookie=function(e,t){return this.__CookieHandler.setCookie(this.c_name,e,t,"/")},e.removeOptCookie=function(){return this.__CookieHandler.removeCookie(this.c_name)},e}(),s.layer.base.Base=function(){function v(){}var e,t,n,r,i,o,u,a,f,l,c,h,p,d;return v.NO_DOCUMENT_TITLE="notitle",f=null,l=null,c=null,h=null,t=s.layer.dispatch.Dispatcher,u=s.layer.dispatch.PreDispatcher,r=s.util.Logger,i=s.layer.logging.Messages,n=s.layer.event.EventHandler,e=s.util.DateUtil,a=s.util.Properties,o=s.layer.optout.OptOut,v.init=function(){return p(),d()},v.track=function(e){var n,s;if(o.isOptedOut())return;n=t.INSTANCE().getTrackerNames();if(n==null||n.length<=0){r.fatal(i.FATAL_NO_TRACKERS_IN_DISPATCHER);return}return s=u.getConfigForTrack(this.getConfig(),e,n),t.INSTANCE().track(s)},v.setConfig=function(e){var t,n;if(e==null||typeof e!="object"){r.error(i.ERROR_NO_VALID_CONFIG_OBJECT);return}f=e,this.getDefaultConfig()&&(f=a.extend(this.getDefaultConfig(),f)),this.getOverrideConfig()&&(f=a.extend(f,this.getOverrideConfig())),typeof this.getProcessConfig()=="function"&&(n=this.getProcessConfig()(f),typeof n=="object"?f=n:r.error(i.ERROR_PROCESS_DID_NOT_RETURN_OBJECT)),t=typeof document!="undefined"&&document!==null&&document.title!=null?document.title:this.NO_DOCUMENT_TITLE,f=a.extend(f,{titel:t});if(f.firsttracker!=null)return f.tracker=f.firsttracker,delete f.firsttracker},v.getConfig=function(){return f},v.resetConfig=function(){return f=null},v.setDefaultConfig=function(e){return typeof e=="object"?l=e:r.error(i.ERROR_DEFAULT_CONFIG_NO_OBJECT)},v.getDefaultConfig=function(){return l},v.setOverrideConfig=function(e){return typeof e=="object"?c=e:r.error(i.ERROR_OVERRIDE_CONFIG_NO_OBJECT)},v.getOverrideConfig=function(){return c},v.setProcessConfig=function(e){return typeof e=="function"||e===null?h=e:r.error(i.ERROR_PROCESS_PARAM_IS_NOT_A_FUNCTION)},v.getProcessConfig=function(){return h},v.getLastTrackers=function(){return f!=null?f.lasttracker:void 0},d=function(){return n.addEvent("unload",function(){return s.layer.base.Base.track({module:"document",event:"unloaded"})})},p=function(){return n.addEvent("load",function(){s.layer.base.Base.track({module:"document",event:"loaded"});if(s.layer.base.Base.getLastTrackers()!=null)try{return s.layer.base.Base.track({tracker:s.layer.base.Base.getLastTrackers()})}catch(e){return r.error(i.ERROR_WHILE_TRACKING_DOCUMENT_COMPLETE,e)}})},v}(),s.adapters.logging.Messages={INFO_UNHANDLED_EVENT:"unhandled event in Adapter #{0}: #{1}",ERROR_IN_CONFIG_OF_TRACK_METHOD:"you called the track-method of adapter #{0} with a non valid config",ERROR_NO_VALID_EVENT:"you tried to register non valid events to adapter #{0}",ERROR_NO_VALID_OBJECT:"no valid object in adapter #{0}",ERROR_NOT_ALL_PROPERTIES_OF_EVENTS_ARE_VALID:"not all properties when registering events to adapter #{0} are correct (string: function)"},s.adapters.base.BaseAdapter=function(){function r(e,t){this.NAME=e,this.NATIVE=t,this.events={}}var e,t,n;return e=s.util.Logger,n=s.util.Properties,t=s.adapters.logging.Messages,r.prototype.track=function(n){var r;if(n==null||typeof n!="object"){e.error(t.ERROR_IN_CONFIG_OF_TRACK_METHOD,this.NAME);return}return r=""+n.module+"_"+n.event,this.events[r]!=null&&typeof this.events[r]=="function"?this.events[r].call(this.NATIVE,n):e.info(t.INFO_UNHANDLED_EVENT,this.NAME,r)},r.prototype.registerEvents=function(r){var i,s;if(typeof r!="object"){e.error(t.ERROR_NO_VALID_EVENT,this.NAME);return}for(i in r){s=r[i];if(typeof i!="string"||typeof s!="function"){e.error(t.ERROR_NOT_ALL_PROPERTIES_OF_EVENTS_ARE_VALID,this.NAME);return}}return n.extend(this.events,r)},r.prototype.getEvents=function(){return this.events},r}(),s.adapters.vInsight.VInsightAdapter=function(e){function t(e,n,r){this.NAME=e,this.NATIVE=n,t.__super__.constructor.apply(this,arguments);if(typeof r!="object"){s.util.Logger.error(s.adapters.logging.Messages.ERROR_NO_VALID_OBJECT,this.NAME);return}this.NATIVE.setConfig(r)}return h(t,e),t}(s.adapters.base.BaseAdapter),s.collector.logging.Messages={INFO_WRONG_NUMBER_OF_ARGUMENTS:"The Function 'pushVar' has not the right number of arguments: must have a valid (String)key,(String)value",ERROR_COULD_NOT_ADD_TO_CART:"could not add to cart, not a valid product-object"},{ERROR_COULD_NOT_REMOVE_FROM_CART:"could not remove from cart, not a valid product-object",ERROR_COULD_NOT_ADD_PRODUCT_VIEW:"could not add product-view, not a valid product-object",ERROR_COULD_NOT_ADD_CHECKOUT:"could not add checkout, not a valid cart-object",ERROR_SUB_COULD_NOT_VIEW_DETAIL:"could not viewdetail, not a valid subscription-object",ERROR_SUB_COULD_NOT_CHOOSE:"could not choose, not a valid subscription-object",ERROR_SUB_COULD_NOT_CHECKOUT:"could not checkout, not a valid checkout-object",ERROR_SUB_COULD_NOT_UPGRADE:"could not upgrade, not a valid checkout-object",ERROR_AD_COULD_NOT_VALIDATE:"could not validate, not a valid ad-object"},s.collector.EC=function(){function E(){}var e,t,n,r,i,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w;return a=["low","medium","high"],r=s.util.CURRENCIES,n=s.util.ISO_COUNTRIES,i=[0,1,2],e=function(){var e,t;t=[];for(p=e=10;e<101;p=++e)t.push(p);return t}(),l=["standard","express","overnight"],u=function(){var e,t;e=s.util.PAYMENT_TYPES,t=[];for(h in e)g=e[h],t.push(parseInt(h,10));return t}(),f=["product_id","name","description","categories","brand","amount","price","price_level","currency","photo"],t=["order_id","customer_id","gender","age","zip","country","currency","total_price","tax","shipping_price","shipping_type","payment_type","coupon_code","coupon_discount","products"],o="missing",c={order_id:[o,"string"],customer_id:[void 0,"string"],gender:[void 0,"number",i],age:[void 0,"number",e,null,3],country:[o,"string",n,!0],currency:[void 0,"string",r,!0],total_price:[-1,"number"],tax:[void 0,"number"],shipping_price:[-1,"number"],shipping_type:[void 0,"string",l,!0],payment_type:[void 0,"number",u,!0],coupon_code:[void 0,"string"],coupon_discount:[void 0,"number"],products:[[{missing:o}],"array"]},d={product_id:[{missing:o},"object"],name:[o,"string"],description:[void 0,"string",null,null,200],categories:[[o],"array",null,!0],brand:[o,"string",null,!0],photo:[void 0,"string"],currency:[void 0,"string",r,!0]},v={amount:[-1,"number"],price:[-1,"number"],price_level:[o,"string",a,!0]},m={amount:[void 0,"number"],price:[void 0,"number"],price_level:[void 0,"string",a,!0]},b=s.util.Logger,y=s.util.FieldHelper,w=s.collector.logging.Messages,E.addToCart=function(e){return typeof e!="object"||e.length?(b.error(w.ERROR_COULD_NOT_ADD_TO_CART),null):this._cart(e,"addtocart")},E.removeFromCart=function(e){return typeof e!="object"||e.length?(b.error(w.ERROR_COULD_NOT_REMOVE_FROM_CART),null):this._cart(e,"removefromcart")},E.productView=function(e){return typeof e!="object"||e.length?(b.error(w.ERROR_COULD_NOT_ADD_PRODUCT_VIEW),null):(y.propsLoop(e,d),y.propsLoop(e,m),y.copyValidProps(e,f))},E.checkout=function(e){return typeof e!="object"||e.length?(b.error(w.ERROR_COULD_NOT_ADD_CHECKOUT),null):(y.ensureZip(e),y.propsLoop(e,c),y.copyValidProps(e,t))},E._cart=function(e,t){return y.propsLoop(e,d),y.propsLoop(e,v),y.copyValidProps(e,f)},E}(),s.collector.AD=function(){function a(){}var e,t,n,r,i,o,u;return e=["ad_id","ad_place","session_id","timestamp","ad_vars","status"],n="missing",t=["load","failed","success"],n="missing",r={ad_id:[n,"string"],ad_place:[n,"string",null,!0],session_id:[n,"string"],status:[n,"string",t,!0]},o=s.util.Logger,i=s.util.FieldHelper,u=s.collector.logging.Messages,a.validate=function(t){var n,s,a,f;if(typeof t!="object"||t.length)return o.error(u.ERROR_AD_COULD_NOT_VALIDATE),null;i.ensureProp(t,"ads",[],"array"),f=t.ads;for(s=0,a=f.length;s<a;s++)n=f[s],i.propsLoop(n,r),n.timestamp=(new Date).getTime(),i.copyValidProps(n,e);return i.copyValidProps(t,["ads"])},a}(),s.collector.Subscription=function(){function y(){}var e,t,n,r,i,o,u,a,f,l,c,h,p,d,v,m,g;return a=["low","medium","high"],r=s.util.CURRENCIES,n=s.util.ISO_COUNTRIES,i=[0,1,2],e=function(){var e,t;t=[];for(h=e=10;e<101;h=++e)t.push(h);return t}(),u=function(){var e,t;e=s.util.PAYMENT_TYPES,t=[];for(c in e)d=e[c],t.push(parseInt(c,10));return t}(),f=["subscription_id","name","description","interval","price","currency","price_level"],t=["order_id","customer_id","gender","age","zip","country","payment_type","coupon_code","payment_interval","subscriptions"],o="missing",l={order_id:[o,"string"],customer_id:[void 0,"string"],gender:[void 0,"number",i],age:[void 0,"number",e,null,3],country:[o,"string",n,!0],payment_type:[void 0,"number",u,!0],coupon_code:[void 0,"string"],payment_interval:[void 0,"number"],subscriptions:[[{missing:o}],"array"]},p={subscription_id:[o,"string"],name:[void 0,"string"],description:[void 0,"string",null,null,200],interval:[-1,"number"],price:[-1,"number"],currency:[void 0,"string",r,!0],price_level:[o,"string",a,!0]},m=s.util.Logger,v=s.util.FieldHelper,g=s.collector.logging.Messages,y.viewDetail=function(e){return typeof e!="object"||e.length?(m.error(g.ERROR_SUB_COULD_NOT_VIEW_DETAIL),null):(v.propsLoop(e,p),v.copyValidProps(e,f))},y.choose=function(e){return typeof e!="object"||e.length?(m.error(g.ERROR_SUB_COULD_NOT_CHOOSE),null):(v.propsLoop(e,p),v.copyValidProps(e,f))},y.checkout=function(e){return typeof e!="object"||e.length?(m.error(g.ERROR_SUB_COULD_NOT_CHECKOUT),null):(v.propsLoop(e,l),v.ensureZip(e),v.copyValidProps(e,t))},y.upgrade=function(e){return typeof e!="object"||e.length?(m.error(g.ERROR_SUB_COULD_NOT_UPGRADE),null):(v.propsLoop(e,l),v.ensureZip(e),v.copyValidProps(e,t))},y}(),s.collector.AdManager=function(){function o(){}var e,t,n,r,i;return n=5e3,i=null,r={},e=s.collector.AD,t=s.util.Properties,o.add=function(e,t,n){return this.cb=n,this.active(e,t,this.cb)},o.active=function(s,o,u){var a,f,l,c,h,p,d,v,m,g=this;this.cb=u;if(s==="ad_load"){window.clearTimeout(i),r={},v=o.ads;for(c=0,p=v.length;c<p;c++)a=v[c],r[a.ad_id+a.ad_place]=t.extend({status:"failed"},a),a.status="load";return i=window.setTimeout(function(){return g.__finish.call(g)},n),typeof this.cb=="function"?this.cb(e.validate(o),s):void 0}if(s==="ad_view"){m=o.ads;for(h=0,d=m.length;h<d;h++)a=m[h],f=a.ad_id+a.ad_place,r.hasOwnProperty(f)&&(r[f].status="success");for(l in r){a=r[l];if(a.status==="failed")return typeof this.cb=="function"?this.cb(null):void 0}return this.__finish()}},o.inactive=function(e,t,n){return this.cb=n,typeof this.cb=="function"?this.cb(null):void 0},o.__finish=function(){var t,n,s;n=[],window.clearTimeout(i);for(s in r)t=r[s],n.push(t);return this.add=this.inactive,typeof this.cb=="function"?this.cb(e.validate({ads:n}),"ad_view"):void 0},o}(),s.collector.Api=function(){function p(){}var e,t,n,r,i,o,u,a,f,l,c,h;return c="nourl",h="nourl",a={},f={page:{},session:{},visitor:{},"vinsight-test":{},social:{},ecommerce:{},subscription:{},ad:{}},n=s.util.Logger,i=s.util.StringUtil,r=s.collector.logging.Messages,t=s.collector.EC,o=s.collector.Subscription,e=s.collector.AdManager,u={ecommerce_addtocart:function(e){return t.addToCart(e)},ecommerce_removefromcart:function(e){return t.removeFromCart(e)},ecommerce_productview:function(e){return t.productView(e)},ecommerce_checkout:function(e){return t.checkout(e)}},l={subscription_viewdetail:function(e){return o.viewDetail(e)},subscription_choose:function(e){return o.choose(e)},subscription_checkout:function(e){return o.checkout(e)},subscription_upgrade:function(e){return o.upgrade(e)}},p.setConfig=function(e){return c=e.trackerURL,h=e.trackerURLSSL},p.trackPageview=function(){return this.pushEvent("page_view"),s.collector.Sender.send(this.getVariables()),this.clearEvents()},p.trackSocial=function(e){return this.pushEvent(i.trim(e)),s.collector.Sender.send(this.getVariables()),this.clearSocial(),this.clearEvents()},p.trackEcommerce=function(e,t){var n;if(typeof u[e]=="function"){n=u[e](t);if(typeof n=="object")return f.ecommerce=n,this.pushEvent(i.trim(e)),s.collector.Sender.send(this.getVariables()),this.clearEcommerce(),this.clearEvents()}},p.trackSubscription=function(e,t){var n;if(typeof l[e]=="function"){n=l[e](t);if(typeof n=="object")return f.subscription=n,this.pushEvent(i.trim(e)),s.collector.Sender.send(this.getVariables()),this.clearSubscription(),this.clearEvents()}},p.trackAd=function(t,n){var r=this;return e.add(t,n,function(e,t){if(typeof e=="object"&&e!==null)return f.ad=e,r.pushEvent(i.trim(t)),s.collector.Sender.send(r.getVariables()),r.clearAd(),r.clearEvents()})},p.clearEvents=function(){return a={}},p.clearSocial=function(){return f.social={}},p.clearEcommerce=function(){return f.ecommerce={}},p.clearSubscription=function(){return f.subscription={}},p.clearAd=function(){return f.ad={}},p.resetCollector=function(){return a={},f={page:{},session:{},visitor:{},"vinsight-test":{},social:{},ecommerce:{},subscription:{},ad:{}}},p.pushVars=function(e,t,n){var r,i,s,o;o=[];for(i=0,s=t.length;i<s;i++)r=t[i],o.push(this.pushVar(r,e[r],n));return o},p.pushVar=function(e,t,n){var r;n==null&&(n="page"),e=i.trim(e),t=i.trim(t),r=f[n]||f.page;if(e!=null&&t!=null&&e!==""&&t!==""&&t!=="undefined")return r[e]=t},p.pushEvent=function(e){if(e==null)return;return e=i.trim(e),a[e]!=null?a[e]=a[e]+1:a[e]=1},p.getVariables=function(){return{__events:a,__pageVariables:f.page,__sessionVariables:f.session,__visitorVariables:f.visitor,__socialVariables:f.social,__eCommerceVariables:f.ecommerce,__subscriptionVariables:f.subscription,__adVariables:f.ad,__testVariables:f["vinsight-test"],__trackerURL:c,__trackerURLSSL:h}},p.getTrackerURL=function(){return c},p.getTrackerURLSSL=function(){return h},p}(),s.collector.Sender=function(){function i(){}var t,n,r;return r="nourl",t=s.util.Logger,n=s.util.StringUtil,i.send=function(e){var t;return r=this.toURL(e),t=this.createNewImage(),t.src=r},i.toURL=function(e){var t;return e=this.extendObj(e),t=this.createParams(),this.createBaseUrl(e,t)},i.createParams=function(){var t,n,r,i,s,o;return n=(s=typeof e!=="undefined"&&e!==null?e.INFO:void 0)!=null?s:{},t=typeof document!="undefined"&&document!==null?document:{},i=(o=typeof window!=="undefined"&&window!==null?window.screen:void 0)!=null?o:{},r={t:(new Date).getTime(),ref:this.ensure(t.referrer,"direct"),url:this.ensure(t.URL,"nourl"),width:this.ensure(i.width),height:this.ensure(i.height),customer_id:this.ensure(n.customer_id,"nocustomerid"),versions:{framework:this.ensure(n.version,"noversion"),layer:this.ensure(n.layer_version,"noversion"),util:this.ensure(n.util_version,"noversion"),adapter:this.ensure(n.adapter_version,"noversion"),collector:this.ensure(n.collector_version,"noversion")}}},i.ensure=function(e,t){return e=n.trim(e),e!=null&&e!==""?e:t},i.extendObj=function(e){var t,r,i,s,o;return(i=e.__pageVariables)==null&&(e.__pageVariables={}),r=typeof document!="undefined"&&document!==null&&document.title!=null&&document.title!==""?n.trim(document.title):"notitle",((s=e.__pageVariables)!=null?s.pagename:void 0)==null?e.__pageVariables.pagename=r:e.__pageVariables.doctitle=r,t=typeof document!="undefined"&&document!==null&&document.domain!=null&&document.domain!==""?n.trim(document.domain):"nodomain",((o=e.__pageVariables)!=null?o.domain:void 0)==null&&(e.__pageVariables.domain=t),e},i.createBaseUrl=function(e,t){var n,r,i;return n="https:"===document.location.protocol?""+((i=e.__trackerURLSSL)!=null?i:e.__trackerURL):""+e.__trackerURL,r=this.appendToObj({},"pv",e.__pageVariables),r=this.appendToObj(r,"sv",e.__sessionVariables),r=this.appendToObj(r,"vv",e.__visitorVariables),r=this.appendToObj(r,"ev",e.__events),r=this.appendToObj(r,"pr",t),r=this.appendToObj(r,"sv",e.__socialVariables),r=this.appendToObj(r,"ec",e.__eCommerceVariables),r=this.appendToObj(r,"su",e.__subscriptionVariables),r=this.appendToObj(r,"ad",e.__adVariables),r=this.appendToObj(r,"testparams",e.__testVariables),this.appendToURL(n,"vidat",r)},i.appendToObj=function(e,t,n){return typeof e!="object"&&(e={}),typeof t=="string"&&typeof n=="object"&&!this.isEmptyObj(n)&&(e[t]=n),e},i.appendToURL=function(e,n,r){var i;if(e==null)return t.error("not a valid url, could not append params"),"";if(r==null||r===""||n==null||n==="")return e;if(typeof r=="object"){r=JSON.stringify(r);if(r==="{}")return e}else if(typeof r!="string")return e;return i="&",e.match(/\?/)||(i="?"),e+=""+i+n+"="+encodeURIComponent(r)},i.isEmptyObj=function(e){var t,n;for(t in e){n=e[t];if(e.hasOwnProperty(t))return!1}return!0},i.createNewImage=function(){return new Image},i}(),this.VALITON_WA=e={track:function(e){try{return s.layer.base.Base.track(e)}catch(t){return s.util.Logger.fatal(s.util.Messages.FATAL_TRACK,t)}},ready:function(e){if(typeof e=="function")return typeof e=="function"?e():void 0},setProp:function(e){return s.layer.base.Base.setConfig(e)},register:function(e){return s.layer.dispatch.Dispatcher.INSTANCE().register(e)},setDefaultProp:function(e){return s.layer.base.Base.setDefaultConfig(e)},setOverrideProp:function(e){return s.layer.base.Base.setOverrideConfig(e)},setProcessProp:function(e){return s.layer.base.Base.setProcessConfig(e)},optOut:function(){return s.layer.optout.OptOut.optOut()},optIn:function(){return s.layer.optout.OptOut.optIn()},isOptedOut:function(){return s.layer.optout.OptOut.isOptedOut()}},i=function(t,n,r){var i,s,o,u;if(!n||typeof n!="object")return;i={facebook:n.response,twitter:function(){var e,t;if(((e=n.response)!=null?(t=e.target)!=null?t.nodeName:void 0:void 0)==="IFRAME")return n.response.target.src}(),google:(s=n.response)!=null?s.href:void 0},t.pushVar("response_url",i[r.split("_")[0]],"social"),((o=n.response)!=null?o.data:void 0)!=null&&typeof n.response.data=="object"&&t.pushVar("response_data",n.response.data,"social");if((e!=null?(u=e.INFO)!=null?u.active_pixel:void 0:void 0)!==!1)return t.trackSocial(r)},u={document_loaded:function(e){},document_unloaded:function(e){},page_view:function(t){var n;if(!t||typeof t!="object")return;this.pushVars(t,["domain","subdomain","pagename","section_1","section_2","section_3","section_4","section_5","contentType"]);if((e!=null?(n=e.INFO)!=null?n.active_pixel:void 0:void 0)!==!1)return this.trackPageview()},facebook_like:function(e){return i(this,e,"facebook_like")},facebook_unlike:function(e){return i(this,e,"facebook_unlike")},facebook_share:function(e){return i(this,e,"facebook_share")},twitter_tweet:function(e){return i(this,e,"twitter_tweet")},twitter_follow:function(e){return i(this,e,"twitter_follow")},google_plusone:function(e){return i(this,e,"google_plusone")},ecommerce_addtocart:function(e){return this.trackEcommerce("ecommerce_addtocart",e)},ecommerce_removefromcart:function(e){return this.trackEcommerce("ecommerce_removefromcart",e)},ecommerce_productview:function(e){return this.trackEcommerce("ecommerce_productview",e)},ecommerce_checkout:function(e){return this.trackEcommerce("ecommerce_checkout",e)},subscription_viewdetail:function(e){return this.trackSubscription("subscription_viewdetail",e)},subscription_choose:function(e){return this.trackSubscription("subscription_choose",e)},subscription_checkout:function(e){return this.trackSubscription("subscription_checkout",e)},subscription_upgrade:function(e){return this.trackSubscription("subscription_upgrade",e)},ad_load:function(e){return this.trackAd("ad_load",e)},ad_view:function(e){return this.trackAd("ad_view",e)}},o=new s.adapters.vInsight.VInsightAdapter("vInsightAdapter",this.vInsight.collector.Api,{trackerURL:"http://tracker.vinsight.de/",trackerURLSSL:"https://tracker.vinsight.de"}),o.registerEvents(u),e.register(o),e.INFO={name:"layer",environment:"production",customer_id:"chip",version:"4.7.10",description:"WA Framework for chip",author:"Valiton GmbH",created:"Mon Oct 15 2012 10:08:29 GMT+0200 (CEST)",util_version:"0.3.11",layer_version:"0.2.1",adapter_version:"0.1.3",collector_version:"0.7.2",active_pixel:!1},a=this,t=function(t){var n,r,i,s,o;n=t.split("."),i=e;for(s=0,o=n.length;s<o;s++){r=n[s];if(!i.hasOwnProperty(r))return;i=i[r]}return i},r=function(n){var r,i;return n==null||!n.length||n.length===0?s.util.Logger.error(s.util.Messages.ERROR_RUN_FUNC_PARAM):(r=n.shift(),i=t(r),typeof i=="function"?i.apply(e,n):s.util.Logger.error(s.util.Messages.ERROR_RUN_FUNC,r))},(n=function(){var e,t,n,i;s.layer.base.Base.init(),i=a.wa_queue;if(i!=null&&i.length&&i.length>0)for(t=0,n=i.length;t<n;t++)e=i[t],r(e);return a.wa_queue={push:function(){var e,t,n,i,s;t=1<=arguments.length?f.call(arguments,0):[],s=[];for(n=0,i=t.length;n<i;n++)e=t[n],s.push(r(e));return s}}})()}.call(this)