var menuEffects=new Class({initialize:function(f,g){this.options=Object.extend({dropdownheight:100,dropdownwidth:100,parentdomelement:"#topMenu",childdomelement:"btmMenu",droponclick:!1,sweepdropdown:!1,dropdowndelay:0,rollupdelay:2E3,openSearchImageElement:"imgOpenLink",openSearchImageDisabledElement:"imgOpenLinkDisabled"},g||{});var d="closed",a,c,e,j=!1,k=null,i=null,h=null,m=new Fx.Slide("RecipeSearch"),n=function(b){d=="open"&&b!=a&&l();d=="closed"&&(d="open",a=b,$defined(k)&&k.setStyle("display", "none"),$defined(i)&&i.setStyle("display","inline"),$defined(h)&&h.setStyle("display","inline"),m.slideIn())}.bind(this),l=function(){a&&($(a).getStyle("visibility")=="visible"&&(m.slideOut(),$defined(k)&&k.setStyle("display","inline"),$defined(i)&&i.setStyle("display","none"),$defined(h)&&h.setStyle("display","none")),d="closed",a="")}.bind(this);$ES(f+" li ul").each(function(b){b.setStyles({display:"block",opacity:0});elParent=$(b.parentNode);currentMenu=new Fx.Style(b,"opacity");elParent.addEvents({mouseover:function(){$clear(c); e=n.delay(this.options.dropdowndelay,this,b.id)}.bind(this).pass([currentMenu,elParent]),mouseout:function(){j==!1&&(c=l.delay(this.options.rollupdelay));$clear(e)}.bind(this).pass([currentMenu,elParent])})}.bind(this));$$(this.options.parentdomelement+" input",this.options.parentdomelement+" select",this.options.parentdomelement+" a").each(function(b){b.name!="closeLink"&&b.addEvents({focus:function(){a||n(this.options.childdomelement);$clear(c);j=!0}.bind(this),blur:function(){c=l.delay(this.options.rollupdelay); j=!1}.bind(this)})}.bind(this));$$(this.options.parentdomelement+" a").each(function(b){b.name=="closeLink"&&(b.addEvents({click:function(b){j=!1;$clear(e);$clear(c);l();(new Event(b)).stop()}.bind(this)}),h=b);b.name=="openLink"&&b.addEvents({click:function(b){a||n(this.options.childdomelement);$clear(c);j=!0;(new Event(b)).stop()}.bind(this)})}.bind(this));$$(this.options.parentdomelement+" img").each(function(b){b.name==this.options.openSearchImageElement&&(k=b);b.name==this.options.openSearchImageDisabledElement&& (i=b,i.setStyle("display","none"))}.bind(this));m.hide();$(this.options.childdomelement).setStyle("opacity",1);$defined(h)&&h.setStyle("display","none")}}),moochained=new Class({initialize:function(f,g,d,a){var c=function(a){var c=$(g),d=0;c.disabled=!1;c.options.length=0;a.each(function(a){var e=new Element("option");e.setProperty("value",a.optionValue);e.setHTML(a.optionText);c.adopt(e);d++});if(d<2)c.disabled=!0};$(f).addEvent("change",function(e){e=(new Event(e)).stop();e=d;this.options[this.selectedIndex].value!= "0"&&(e=a!=null?e+"?tid="+this.options[this.selectedIndex].value+"&group_id="+a:e+"?tid="+this.options[this.selectedIndex].value);(new Json.Remote(e,{onComplete:function(a){c(a.subCategories)}})).send()})}}),moomultiajax={initialize:function(f,g){this.options=Object.extend({ajaxUrls:"",ajaxTargets:"",ajaxLinks:""},g||{});var d=0;this.options.ajaxUrls.each(function(){++d});for(var a=0,c=[];a<d;a++)c.push(new Ajax(this.options.ajaxUrls[a],{method:"get",evalScripts:!0,evalResponse:!0,update:$(this.options.ajaxTargets[a])})); d=0;this.options.ajaxLinks.each(function(a,d){$(a).addEvent("click",function(a){(new Event(a)).stop();c.each(function(a){a.url+=d+1;a.request();a.url=a.url.substring(0,a.url.length-1)})})})},open:function(f,g){var d=0;f.each(function(){++d});for(var a=0,c=[];a<d;a++)c.push(new Ajax(f[a],{method:"get",evalScripts:!0,evalResponse:!0,update:$(g[a])}));c.each(function(a){a.request()})}};