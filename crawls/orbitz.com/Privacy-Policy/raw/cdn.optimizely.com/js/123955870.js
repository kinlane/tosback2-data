if (typeof(optimizely_perf) != "undefined") { optimizely_perf.load_times[1] = new Date().valueOf() - optimizely_perf.begin_ts; optimizely_perf.loaded_a = true; optimizely_perf.loaded_b = true; optimizely_perf.loadJs("geo", "", true, function() {}); }





(function(){
var DATA={"public_suffixes":{"orbztest.com":["qa1.orbztest.com"],"orbitz.com":["www.orbitz.com","orbitz.com"]},"log_host":"log3","api_host":"api","variations":{"136019622":{"name":"HotAirDp"},"136206566":{"code":"$(\"meta[name='WT.si_n']\").attr('content') == \"HOT\" ? ($('html').attr('lang') == \"es_US\" || $('html').attr('lang') == \"es-US\") ? (function() { $(\".resultsLink\").text(\"Ver m\u00e1s hoteles\"); })() : (function() { $(\".resultsLink\").text(\"View more hotels\"); })() : (function() { return })()","name":"ViewMoreHotels"},"136019623":{"name":"HotDpAir"},"138465903":{"name":"Test"},"136036346":{"name":"AirHotDp"},"138448701":{"name":"Control"},"135351706":{"name":"BackToSearchResults"}},"experiments":{"138450675":{"name":"Dummy A-A test","enabled":true,"variation_ids":["138448701","138465903"],"enabled_variation_ids":["138448701","138465903"],"variation_weights":{"138465903":5000,"138448701":5000},"conditions":[{"type":"url","values":[{"value":"orbitz.com","match":"substring"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"136220731":{"name":"947","manual":true,"enabled":true,"variation_ids":["135351706","136206566"],"enabled_variation_ids":["135351706","136206566"],"variation_weights":{"136206566":5000,"135351706":5000},"conditions":[{"type":"code","value":"($(\"meta[name='WT.ti']\").attr(\"content\") == \"ubp300\" || $(\"meta[name='WT.ti']\").attr(\"content\") == \"ubp323\")"},{"type":"url","values":[{"value":"orbitz.com","match":"substring"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"135998887":{"name":"1087","manual":true,"variation_ids":["136019622","136019623","136036346"],"enabled_variation_ids":["136019622","136019623","136036346"],"conditions":[{"not":true,"type":"cookies","values":["es_US"],"names":["AustinLocale"]},{"type":"url","values":[{"value":"orbitz.com","match":"substring"}]},{"only_first_time":true,"type":"visitor","value":"all"}]}},"click_goals":[{"event_name":"backtosearchresultslinkclick","experiments":[136220731],"selector":".resultsLink"},{"event_name":"global_nav_clicks","experiments":[135998887],"selector":".headerMain"},{"event_name":"second_tab_nav_clicks","experiments":[135998887],"selector":".headerTabBar > ul > li:eq(1) > a:eq(0)"},{"event_name":"third_tab_nav_clicks","experiments":[135998887],"selector":".headerTabBar > ul > li:eq(2) > a:eq(0)"},{"event_name":"first_tab_nav_clicks","experiments":[135998887],"selector":".headerTabBar > ul > li:eq(0) > a:eq(0)"}],"version":"www-master-932.363034742170494072","admin_account_id":113619073,"www_host":"www.optimizely.com","project_id":123955870,"revision":31};

//
var GEOTARGETING = {
  'city': "SANFRANCISCO",
  'continent': "NA",
  'country': "US",
  'region': "CA"
};


var optly={nativity:{}};optly.nativity.getNativeGetElementsByClassName=function(){var a=document.getElementsByClassName;if(!optly.nativity.isNativeFunction(a))var a=(window.optimizely||{}).getElementsByClassName,b=(window.optly||{}).getElementsByClassName,a=optly.nativity.isNativeFunction(a)?a:optly.nativity.isNativeFunction(b)?b:null;return a};optly.nativity.isNativeFunction=function(a){return a&&-1!==String(a).indexOf("[native code]")};optly.Cleanse={};optly.Cleanse.each=function(a,b,c){var f=!!Object.prototype.__lookupGetter__,d;for(d in a)if(a.hasOwnProperty(d)){var g=f?a.__lookupGetter__(d):null;try{b.call(c,d,!g?a[d]:null,g)}catch(e){}}};
optly.Cleanse.finish=function(){if(optly.Cleanse.running){optly.Cleanse.running=!1;optly.Cleanse.each(optly.Cleanse.types,function(a,b){Object.prototype.__defineGetter__&&optly.Cleanse.each(optly.Cleanse.getters[a],function(c,e){b.prototype.__defineGetter__(c,e);optly.Cleanse.log("restored getter",a,c)});optly.Cleanse.each(optly.Cleanse.properties[a],function(c,e){b.prototype[c]=e;optly.Cleanse.log("restored property",a,c)})});optly.Cleanse.unfixGetElementsByClassName();optly.Cleanse.log("finish");
var a=window.console;if((-1!==window.location.hash.indexOf("optimizely_log=true")||-1!==window.location.search.indexOf("optimizely_log=true"))&&a&&a.log)for(var b=optly.Cleanse.logs,c=0;c<b.length;c++)a.log(b[c])}};optly.Cleanse.log=function(a,b,c){b?(b=b.replace(/_/g,""),optly.Cleanse.logs.push("Optimizely / Info / Cleanse / "+a+": "+b+"."+c)):optly.Cleanse.logs.push("Optimizely / Info / Cleanse / "+a)};
optly.Cleanse.start=function(){var a=window.location.hostname;if(!(-1!==a.indexOf("optimizely")&&-1===a.indexOf("edit")&&-1===a.indexOf("preview")&&-1===a.indexOf("test"))){optly.Cleanse.log("start");optly.Cleanse.running=!0;for(var b in optly.Cleanse.types)optly.Cleanse.types[b]||delete optly.Cleanse.types[b];optly.Cleanse.each(optly.Cleanse.types,function(a,b){optly.Cleanse.getters[a]={};optly.Cleanse.properties[a]={};optly.Cleanse.each(b.prototype,function(d,g,e){e?(optly.Cleanse.getters[a][d]=
e,optly.Cleanse.log("cleansed getter",a,d)):(optly.Cleanse.properties[a][d]=g,optly.Cleanse.log("cleansed property",a,d));delete b.prototype[d]})});optly.Cleanse.fixGetElementsByClassName();optly.Cleanse.hasRunStart=!0}};
optly.Cleanse.fixGetElementsByClassName=function(){if(!optly.nativity.isNativeFunction(document.getElementsByClassName)){var a=optly.nativity.getNativeGetElementsByClassName();a?(optly.Cleanse.getElementsByClassName=document.getElementsByClassName,document.getElementsByClassName=a):optly.Cleanse.log("Error: native HTMLElement.prototype.getElementsByClassName missing")}};
optly.Cleanse.unfixGetElementsByClassName=function(){optly.Cleanse.getElementsByClassName&&(document.getElementsByClassName=optly.Cleanse.getElementsByClassName,optly.Cleanse.getElementsByClassName=null)};optly.Cleanse.getElementsByClassName=null;optly.Cleanse.getters={};optly.Cleanse.logs=[];optly.Cleanse.properties={};optly.Cleanse.types={HTMLElement_:window.HTMLElement,Object_:Object};window.optly=window.optly||{};window.optly.Cleanse={finish:optly.Cleanse.finish,logs:optly.Cleanse.logs,start:optly.Cleanse.start};optly.domain={};optly.domain.check=function(a){for(var b=0,c=optly.domain.BLACK_LIST.length;b<c;b++){var f=optly.domain.BLACK_LIST[b];if(f.test(a))return!1}b=0;for(c=optly.domain.WHITE_LIST.length;b<c;b++)if(f=optly.domain.WHITE_LIST[b],f.test(a))return!0;return!1};optly.domain.BLACK_LIST=[/(edit|preview)(-local)?\.optimizely\.com/,/optimizelyedit\.appspot\.com/];optly.domain.WHITE_LIST=[/^(https:)?\/\/www\.local\//,/^(https:)?\/\/([A-Za-z0-9\-]+\.)?optimizely\.com\//,/^(https:)?\/\/([A-Za-z0-9\-]+\.)?optimizely(-hrd)?\.appspot\.com\//];
optly.Cleanse.start();
var $=jQuery;
var h=void 0,i=!0,j=null,k=!1,aa=window.OPTIMIZELY_TEST_MODULE,ba="com local net org xxx edu es gov biz info fr nl ca de kr it me ly tv mx cn jp il in iq".split(" "),ca=/\/\* _optimizely_variation_url( +include="([^"]*)")?( +exclude="([^"]*)")?( +match_type="([^"]*)")?( +include_match_types="([^"]*)")?( +exclude_match_types="([^"]*)")? +\*\//;function da(a){a=a||{};if(ea){a&&a.sVariable&&(fa=a.sVariable);var b=fa||("undefined"!==typeof window.s?window.s:j);if(b)if(ga){if((a=ha)&&b)try{n("Integrator","Fixing SiteCatalyst referrer to %s",a),b.referrer=String(a)}catch(c){n("Integrator","Error setting SiteCatalyst referrer: %s",c)}n("Integrator","Tracking with SiteCatalyst");o(ia(),function(a){var c=p(a),a=q(c,a,100,100,25,i),f=a.key+": "+a.value,a=[],g=r(c,"site_catalyst_evar")||j,c=r(c,"site_catalyst_prop")||j;g!==j&&a.push("eVar"+g);c!==
j&&a.push("prop"+c);o(a,function(a){n("Integrator","Setting SiteCatalyst %s='%s'",a,f);b[a]=f})})}else ja=i;else u("Integrator","Error with SiteCatalyst integration: 's' variable not defined")}}function ka(a,b){return a.replace(/[^a-zA-Z0-9\.\~\!\*\(\)\']+/g,"_").substring(0,b)}
function q(a,b,c,d,e,f){a=la+(r(a,"name")||"");b=ma(b);1<b.length?(b=$.map(b,function(a){return a.substr(0,e-1)}),b=b.join("~")):b=b[0];f?(a=ka(a,c),b=ka(b.replace("#",""),d)):(a=a.substring(0,c),b=b.substring(0,d));return{key:a,value:b}}
function na(){if(ea){var a=v("optimizelyReferrer");a&&0<a.length&&(ha=a,y("optimizelyReferrer",""));if(a=ha)try{n("Integrator","Fixing _gaq._setReferrerOverride with %s",a),_gaq.push(["_setReferrerOverride",a])}catch(b){n("Integrator","Error setting Google Analytics referrer: %s",b)}o(ia(),function(a){var b=p(a);if(r(b,"chartbeat")){var c=la;la="";var g=q(b,a,10,10,5,k);la=c;c=oa(a);pa=g.key+": "+String(c);try{n("Integrator","Calling _cbq.push");_cbq.push(["_optlyx",pa])}catch(l){u("Integrator","Error sending Chartbeat data for "+
z(b))}}if(r(b,"crazyegg")){g=q(b,a,100,100,15,k);try{n("Integrator","Defining CE_SNAPSHOT_NAME");window.CE_SNAPSHOT_NAME=g.key+": "+g.value}catch(t){u("Integrator","Error sending CrazyEgg data for "+z(b))}}if(qa(b)){g=qa(b);c=0;A(g)&&(c=g.slot||c);var g=c,c=qa(b),m="";A(c)&&(m=c.tracker||m);c=m;m=q(b,a,28,24,5,i);try{var w="";c!==""&&(w=c+".");n("Integrator","Calling _gaq._setCustomVar for slot %d",g);_gaq.push([w+"_setCustomVar",g,m.key,m.value,2])}catch(Q){u("Integrator","Error sending Google Analytics data for "+
z(b))}}if(B("kissmetrics")){g=q(b,a,100,100,15,i);c={};c[g.key]=g.value;try{n("Integrator","Calling _kmq.set");_kmq.push(["set",c])}catch(M){u("Integrator","Error sending KISSmetrics data for "+z(b))}}if(r(b,"mixpanel")){a=q(b,a,100,100,15,k);g={};g[a.key]=a.value;try{n("Integrator","Calling mixpanel.push");mixpanel.push(["register",g])}catch(ra){u("Integrator","Error sending Mixpanel data for "+z(b))}}});a=v("optimizelyChartbeat")||"";try{if(a&&pa!=a&&(n("Integrator","Calling _cbq.push for referral"),
_cbq.push(["_optlyr",a])),pa!=a)n("Integrator","Set new Chartbeat referral cookie."),y("optimizelyChartbeat",pa)}catch(c){u("Integrator","Error sending Chartbeat referral for "+a)}ga=i;ja&&(da(),ja=k)}}function ia(){var a=sa.concat(C),b=[];o(ta(),function(c){var d=p(c),e=k;if(ua(d)){var f=va(c);D(a,d)&&(n("Integrator",'"%s" relevant because experiment active',f),e=i);wa(xa(c))&&(n("Integrator",'"%s" relevant because it redirects',f),e=i);e&&b.push(c)}});return b}
var ja=k,pa="",ga=k,la="Optimizely ",fa=j,ha=j;function ya(a,b,c){za=i;E&&c!==i&&F.e(document.location.href);a=String(a);b=String(b);if("-1"===b){G[a]&&delete G[a];Aa[a]&&delete Aa[a];for(c=0;c<H.length;c++)H[c].j===a&&H.splice(c,1);Ba()}else{c=j;if(256>=Number(b)){var c=String,d=Ca(a),e=j;try{e=d[b]}catch(f){}c=c(e)}else c=String(b);if((b=I(a))&&0<b.length){a:{b=I(a);for(d=0;d<b.length;d++)if(e=Da(b[d]),D(e,c)){b=b[d];break a}b=""}Ea[a]=Ea[a]||{};Ea[a][b]=c;u("Distributor","Preferring variation partial "+c+" of section "+b+" of experiment "+
a);a=Fa(a);1===a.length&&Ga(a[0],"api.bucketUser",k,i)}else Ga(c,"api.bucketUser",k,i)}Ia()}function Ja(a){a&&"tracking"===a||(E=k);ea=k}
function Ka(){La={};J={};Ma={};o(ta(),function(a){var b=p(a);La[b]=a.split("_");J[b]=oa(a);Ma[b]=va(a)});L={experiments:{},sections:{},segments:{},state:{},variations:{},visitor:{}};for(var a=Na(),b=0;b<a.length;b++){var c=a[b],d={};d.code=r(c,"code")||"";d.name=r(c,"name")||"";d.manual=Oa(c);d.section_ids=I(c);d.variation_ids=Ca(c);L.experiments[c]=d}a=Pa();for(b=0;b<a.length;b++)c=a[b],L.segments[c]={name:Qa(c,"name")||""};a=Ra(B("sections")||{});for(b=0;b<a.length;b++)c=a[b],d={},d.name=B("sections",
c,"name")||"",d.variation_ids=Da(c),L.sections[c]=d;a=Ra(B("variations")||{});for(b=0;b<a.length;b++)c=a[b],d={},d.name=va(c),d.code=xa(c),L.variations[c]=d;a={};b=Sa();a.browser={ff:"Firefox",ie:"Internet Explorer",safari:"Safari",gc:"Google Chrome",opera:"Opera"}[b]||"";b=Ta();a.location={city:b.city,state:b.region,country:b.country};a.params={};c=Ua();c.reverse();b=0;for(d=c.length;b<d;b++)a.params[c[b][0]]=decodeURIComponent(c[b][1]);a.referrer=String(document.referrer);a.segments=Va();a.mobile=
"unknown"!==Wa();a.os=Xa();L.visitor=a;b={};b.activeExperiments=sa||[];b.variationIdsMap=La;b.variationMap=J;b.variationNamesMap=Ma;L.state=b;Ya(window.optimizely,{activeExperiments:sa,allExperiments:Za(),all_experiments:Za(),data:L,variationIdsMap:La,variationMap:J,variationNamesMap:Ma,variation_map:J})}var L={},La={},J={},Ma={};function $a(a,b){var b=b===i,c,d=j;o(H,function(b){a==b.j&&(d=b.id)});if((c=d)&&0<c.length)return u("Distributor","Not distributing experiment "+a+" (already in plan)"),i;if(b||a in G)return u("Distributor","Not distributing experiment "+a+" (is ignored)"),N[a]="it is ignored",k;c=r(a,"enabled_variation_ids")||[];if(0===c.length)return u("Distributor","Permanently ignoring experiment "+a+" (no enabled variations)"),N[a]="it has no enabled variations",ab(a),k;var e=r(a,"ignore")||0;if(e>Math.floor(100*
Math.random()))return u("Distributor","Permanently ignoring experiment "+a+"("+e+"% likelihood)"),ab(a),k;e=c;Ea[a]!==h&&(u("Distributor","Taking into account bucketUser variations for experiment "+a),e=Fa(a));var f;f=e;var g=[],l=r(a,"variation_weights")||{};o(f,function(a){g.push(l[a])});f=bb(g);e=e[f];u("Distributor","Picked variation "+e+" [index "+f+" of "+c.length+"]");Ga(e,"distributor",k);return i}
function Fa(a){var b=[];o(r(a,"enabled_variation_ids")||[],function(c){var d=i,e;for(e in Ea[a])-1===c.indexOf(Ea[a][e])&&(d=k);d&&b.push(c)});return b}var Ea={};function Ua(){var a=window.location.search||"";0===a.indexOf("?")&&(a=a.substring(1));for(var a=a.split("&"),b=[],c=0;c<a.length;c++){var d="",e="",f=a[c].split("=");0<f.length&&(d=f[0]);1<f.length&&(e=f[1]);b.push([d,e])}return b}function cb(a){for(var b=Ua(),c=0;c<b.length;c++){var d=b[c];if(d[0]===a)return d[1]}return j};function db(a){return a&&-1!==String(a).indexOf("[native code]")};function wa(a){return-1!==a.indexOf("_optimizely_redirect")}function eb(a){return-1!==a.indexOf("_optimizely_redirect_no_cookie")}function fb(a){if(eb(a||""))return i;a=v("optimizelyRedirect");return a===h||a===j||""===a};function gb(){var a=navigator.userAgent,b=hb([{id:"gc",substring:"Chrome",g:"Chrome"},{id:"safari",N:navigator.vendor,substring:"Apple",g:"Version"},{id:"ff",substring:"Firefox",g:"Firefox"},{id:"opera",prop:window.opera,g:"Opera"},{id:"ie",substring:"MSIE",g:"MSIE"}],a),c=hb([{id:"android",substring:"Android"},{id:"blackberry",substring:"BlackBerry"},{id:"ipad",substring:"iPad"},{id:"iphone",substring:"iPhone"},{id:"ipod",substring:"iPod"},{id:"windows phone",substring:"Windows Phone"}],a),d=j,e=
b.g;e&&(d=ib(a,e)||ib(navigator.appVersion,e));return{z:b.id||"unknown",A:d||"unknown",L:c.id||"unknown"}}function ib(a,b){var c=a.indexOf(b),d=j;-1!==c&&(c+=b.length+1,d=parseFloat(a.substring(c)));return d}function hb(a,b){return o(a,function(a){var d=a.N||b;if(d&&-1!==d.indexOf(a.substring)||a.prop)return a})||{}};var jb=0,E=i,kb=j,O="",lb=k,P=k,mb=k,za=k,nb=k,ea=i;var ob,pb;
(function(){function a(a){d.lastIndex=0;return d.test(a)?'"'+a.replace(d,function(a){var b=g[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function b(c,d){var g,Q,M,ra,Ha=e,K,x=d[c];"function"===typeof l&&(x=l.call(d,c,x));switch(typeof x){case "string":return a(x);case "number":return isFinite(x)?String(x):"null";case "boolean":case "null":return String(x);case "object":if(!x)return"null";e+=f;K=[];if("[object Array]"===Object.prototype.toString.apply(x)){ra=x.length;
for(g=0;g<ra;g+=1)K[g]=b(g,x)||"null";M=0===K.length?"[]":e?"[\n"+e+K.join(",\n"+e)+"\n"+Ha+"]":"["+K.join(",")+"]";e=Ha;return M}if(l&&"object"===typeof l){ra=l.length;for(g=0;g<ra;g+=1)"string"===typeof l[g]&&(Q=l[g],(M=b(Q,x))&&K.push(a(Q)+(e?": ":":")+M))}else for(Q in x)Object.prototype.hasOwnProperty.call(x,Q)&&(M=b(Q,x))&&K.push(a(Q)+(e?": ":":")+M);M=0===K.length?"{}":e?"{\n"+e+K.join(",\n"+e)+"\n"+Ha+"}":"{"+K.join(",")+"}";e=Ha;return M}}var c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,f,g={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;ob=function(a,c,d){var g;f=e="";if("number"===typeof d)for(g=0;g<d;g+=1)f+=" ";else"string"===typeof d&&(f=d);if((l=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return b("",{"":a})};pb=function(a,b){function d(a,c){var e,f,g=a[c];
if(g&&"object"===typeof g)for(e in g)Object.prototype.hasOwnProperty.call(g,e)&&(f=d(g,e),f!==h?g[e]=f:delete g[e]);return b.call(a,c,g)}var e,a=String(a);c.lastIndex=0;c.test(a)&&(a=a.replace(c,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===
typeof b?d({"":e},""):e;throw new SyntaxError("JSON.parse");}})();var F={v:function(a,b){var c={},c=b&&qb(b)?{revenue:Number(b)}:b;F.e(a,"custom",c)},e:function(a,b,c){c=c||{};rb(a,c);ea&&(F.l.push({name:a,type:b,options:c}),F.u?(F.q(),u("Tracker","Tracking event '"+a+"'")):u("Tracker","Queued tracking event '"+a+"'"))},D:function(){$("html").one("mousedown",sb(F.e,"engagement"))},F:function(a){return function(){F.M(a)}},m:function(){var a=v("optimizelyPendingLogEvents")||"[]",b=[];try{b=pb(a)}catch(c){}if(R(b))for(var a=0,d=b.length;a<d;a++){var e=b[a];if("string"!==
typeof e){b=[];break}else try{pb(e);b=[];break}catch(f){}}else b=[];return b},J:function(a,b){F.H(a)?F.K(a,b):F.o(a,b)},o:function(a,b){var c=tb();u("Tracker","Making "+c.length+" log image request(s).");for(var d=0;d<c.length;d++){var e=c[d],f=new Image;f.onload=b;ub("log_host");e=e+"/event?"+a;e=F.O(e);f.src=e;F.images.push(f)}},K:function(a,b){var c=tb();u("Tracker","Making "+c.length+" log XHR request(s).");for(var d=0;d<c.length;d++){var e=c[d]+"/event?"+a;try{var f=new XMLHttpRequest;if("withCredentials"in
f)f.onerror=b,f.onload=b,f.open("GET",e,i),f.withCredentials=i,f.send();else throw"CORS with credentials is not supported.";}catch(g){u("Tracker","Found that XHR with credentials is not supported in this browser."),F.o(a,b)}}},H:function(a){return-1!==a.indexOf(F.k)},O:function(a){return a.replace("&"+F.k,"")},p:function(a){var b=(a=a===i||"true"===a)?"true":"false";a?(y("optimizelyOptOut",b,31536E4),y("optimizelyBuckets",b,31536E4),alert("You have successfully opted out of Optimizely for this domain.")):
(y("optimizelyOptOut",b,31536E4),alert("You are NOT opted out of Optimizely for this domain."))},M:function(a){for(var b=F.m(),c=0,d=b.length;c<d;c++)if(b[c]===a){b.splice(c,1);break}F.t(b);u("Tracker","Removed a pending log event from the pending events cookie.")},l:[],u:k,q:function(){var a=["a="+vb(),"d="+wb(),"y="+!!B("ip_anonymization")];za&&a.push("override=true");o(ta(),function(b){var c=p(b);a.push("x"+c+"="+b)});a.push("f="+xb().join(","));o(Va(),function(b,c){a.push("s"+b+"="+c)});var b=
a.join("&"),c=[];o(F.l,function(a){var b=[];a.name&&b.push("n="+encodeURIComponent(a.name));a.options.revenue&&b.push("v="+encodeURIComponent(a.options.revenue));a.options.anonymous!==i&&b.push("u="+yb());"pageview"===a.type&&b.push(F.k);b.push("t="+ +new Date);c.push(b.join("&"));if("custom"===a.type)try{F.Q(a.name)}catch(d){}});var d=c.concat(F.m());F.t(d);d=F.r?c:d;F.r=i;for(var e=0,f=d.length;e<f;e++){var g=d[e];F.J(b+"&"+g,F.F(g))}F.l=[];F.u=i},t:function(a){for(var b=ob(a);1536<b.length;)a=
a.slice(0,-1),b=ob(a);y("optimizelyPendingLogEvents",b,15)},Q:function(a){var b=yb(),c=v("optimizelyCustomEvents")||"{}";try{c=pb(c)}catch(d){c={}}var e=c[b]||(c[b]=[]),e=R(e)?e:[];-1!==$.inArray(a,e)&&e.splice($.inArray(a,e),1);e.push(a);10<e.length&&e.shift();c[b]=e;var a=0,e=j,f=0,g;for(g in c)c.hasOwnProperty(g)&&(a++,c[g].length>f&&g!==b&&(e=g,f=c[g].length));10<a&&e!==j&&delete c[e];y("optimizelyCustomEvents",ob(c),31536E4)},images:[],r:k,k:"wxhr=true"};function zb(a,b){var c;c=$.trim(b);var d="";if(window.optimizely&&window.optimizely.data)if(d=c.match(Ab))d=window.optimizely.data.visitor.params[d[1]],d===h&&(d="");else{for(var d=c.split("."),e=window.optimizely,f=0,g=d.length;f<g;f++)if(e=e[d[f]],e===h||e===j){e="";break}d=""+e}u("Template",c+" evaluated to: '"+d+"'");return d}var Bb=/\{\{ *optimizely\.([^\n\r{}<>]*)\}\}/g,Ab=/^data\.visitor\.params\.(.*)$/;function rb(a,b){var b=b||{},c=window.optimizelyPreview;c||(c=[],window.optimizelyPreview=c);Cb||(c.push(["addEvent",window.location.href,{type:"url"}]),Cb=i);c.push(["addEvent",a,b])}function Db(){u("Preview","Will load preview script");var a=["https://",B("www_host"),"/js/preview-",B("version"),".js?account_id=",wb()].join("");u("Preview","Now loading preview script "+a);Eb(a)}var Cb=k,Fb=k,Gb=[],N={};function v(a){var b=a+"=",c=[];o((document.cookie||"").split(/\s*;\s*/),function(a){0===a.indexOf(b)&&c.push(decodeURIComponent(a.substr(b.length)))});var d=c.length;1<d&&n("Cookie","Values found for %s: %s",a,d);return 0===d?j:c[0]}
function y(a,b,c){var d=S||Hb,e=document.location.hostname;!S&&B("remote_public_suffix")&&Ib.push({w:c,name:a,value:b});S&&S!==Hb&&(Jb(a,e),Jb(a,Hb));Kb(a,b,d,c);var f=v(a);f===b?n("Cookie","Successful set %s=%s on %s",a,b,d):(n("Cookie","Setting %s on %s apparently failed (%s != %s)",a,d,f,b),n("Cookie","Setting %s on %s",a,e),Kb(a,b,e,c),f=v(a),f===b&&(n("Cookie","Setting %s on %s worked; saving as new public suffix",a,e),Hb=e))}
function Jb(a,b){n("Cookie","Deleting %s on %s",a,b);document.cookie=[a,"=; domain=.",b,"; path=/; expires=",(new Date(0)).toUTCString()].join("")}function Lb(a){S=a.public_suffix;n("Cookie","Public suffix request returned: %s",S);y("optimizelyPublicSuffix",S,31536E4);if(S!==Hb)for(;0<Ib.length;)a=Ib.shift(),y(a.name,a.value,a.w);Ib=[]}
function Mb(a){var a=ub("api_host")+"/iapi/public_suffix?host="+encodeURIComponent(a),b="callback"+Math.random().toString().replace("0.",""),c=document,d=c.head||c.getElementsByTagName("head")[0]||c.documentElement,c=c.createElement("script");window.optimizely[b]=Lb;c.async="async";c.src=[a,-1!==a.indexOf("?")?"&":"?","callback=optimizely.",b].join("");d.insertBefore(c,d.firstChild)}
function Kb(a,b,c,d){a=[a,"=",encodeURIComponent(b),"; domain=.",c,"; path=/"];d&&a.push("; expires=",(new Date(+new Date+1E3*d)).toUTCString());document.cookie=a.join("")}var Hb="",S="",Ib=[];var T;function Sa(){function a(){return T.z}T=T||gb();Sa=a;return a()}function Nb(){var a="";try{a=navigator.userLanguage||window.navigator.language,a=a.toLowerCase()}catch(b){a=""}return a}function Ob(){function a(){return T.A}T=T||gb();Ob=a;return a()}function Pb(a){if(!a)return"";try{return a.match(/:\/\/(?:www[0-9]?\.)?(.[^/:]+)/)[1]}catch(b){return""}}function Qb(){return v("optimizelyReferrer")||document.referrer||""}
function yb(){var a=v("optimizelyEndUserId");a||(a="oeu"+ +new Date+"r"+Math.random(),y("optimizelyEndUserId",a,31536E4));return a}function Ta(){var a={};try{a=GEOTARGETING}catch(b){}var c="",d="",e="",f="";try{d=a.country.toUpperCase()||""}catch(g){d=""}try{e=a.region.toUpperCase()||""}catch(l){e=""}"N/A"===e&&(e="");try{f=a.city.toUpperCase()||""}catch(t){f=""}"N/A"===f&&(f="");try{c=a.continent.toUpperCase()||""}catch(m){c=""}"N/A"===c&&(c="");return{city:f,continent:c,country:d,region:e}}
function Wa(){function a(){return T.L}T=T||gb();Wa=a;return a()}function Xa(){var a=navigator.appVersion||"",b="";-1!==a.indexOf("Win")&&(b="Windows");-1!==a.indexOf("Mac")&&(b="Mac");-1!==a.indexOf("Linux")&&(b="Linux");return b}
function Rb(){var a=Qb();if(cb("utm_source")||cb("gclid"))return"campaign";for(var b=["google\\.\\w{2,3}(\\.\\w{2,3})?/(search|url)","bing\\.\\w{2,3}(\\.\\w{2,3})?/(search|url)","yahoo\\.\\w{2,3}(\\.\\w{2,3})?/search","baidu\\.\\w{2,3}(\\.\\w{2,3})?/s?"],c=0;c<b.length;c++)if(a.match(b[c]))return"search";return a&&Pb(a)!==Pb(window.location.href)?"referral":"direct"}var Sb=h;function Tb(a,b){if(E){R(a)?Ub(a):(a=[],Ub(b));a=a.concat(C);C=[];for(var c=0;c<a.length;c++)D(sa,a[c])||sa.push(a[c]);c=a;c===h?c=[]:qb(c)&&(c=[c]);for(var d=ta(c),e=[],f=[],g=[],l=[],t=Vb(Wb(),function(a){return a.experiments?k:Xb(a.url_conditions||[])}),m=0,w=t.length;m<w;m++)e.push({i:t[m].event_name,f:t[m].selector,type:"event '"+t[m].event_name+"' (click goal)",h:i});o(c,function(a){var b={},c=r(a,"events")||{};o(c,function(a,c){b[a]=[c]});for(var c=Vb(Wb(),function(b){return D(b.experiments||
[],a)}),d=0;d<c.length;d++){var m=c[d];b[m.selector]||(b[m.selector]=[]);b[m.selector].push(m.event_name)}o(b,function(b,c){o(c,function(c){e.push({i:c,f:b,type:"event '"+c+"' (experiment "+a+")",h:i})})});c=r(a,"css")||"";d=r(a,"code")||"";(m=r(a,"html")||"")&&g.push({code:'$("body").append("<div style=\'display:none\'>'+m.replace(/([\f\n\r\t\\'"])/g,"\\$1")+'</div>");',f:"body",type:"global html (experiment "+a+")",h:i});c&&g.push({code:'$("body").append("<style>'+c.replace(/([\f\n\r\t\\'"])/g,
"\\$1")+'</style>");',f:"body",type:"global css (experiment "+a+")",h:i});d&&Yb(d,f,l)});o(d,function(a){for(var a=xa(a),a=a.split("\n"),b=[],c=i,d=0,e=a.length;d<e;d++){var g=$.trim(a[d]);if(g==="/* _optimizely_variation_url_end */")c=i;else if(g!==""){var m=ca.exec(g);if(m&&m.length===11){var w=m[2]?m[2].split(" "):[],g=m[4]?m[4].split(" "):[],t=m[6]?m[6]:"substring",jd=m[8]?m[8].split(" "):[],m=m[10]?m[10].split(" "):[];if(w.length>0){c=Zb(w,jd,t);c=Xb(c)}if(c&&g.length>0){c=Zb(g,m,t);c=!Xb(c)}}else c&&
b.push(g)}}a=b.join("\n");Yb(a,f,l)});c=[];c.push.apply(c,f);c.push.apply(c,g);c.push.apply(c,l);c.push.apply(c,e);$b.push.apply($b,c);ac()}}
function ac(){var a=k;bc=j;for(u("Evaluator",cc+" times waited");!a&&0<$b.length;){u("Evaluator",$b.length+" steps remaining");var b=$b.shift(),c=b,a=k;if(c.R&&!dc)u("Evaluator","Document not ready yet"),a=i;else if(c.h&&!dc&&(c=c.f))for(var c=R(c)?c:[c],d=0;d<c.length;d++){var e=c[d];if(!(e===j||e===h||!e.length)&&0===$(e).length)u("Evaluator","'"+e+"' not found"),a=i}a?$b.unshift(b):b.i?(u("Evaluator","Bound event "+b.i+" to selector "+b.f),ec(b.f,b.i)):b.code&&(u("Evaluator","Run code: "+b.code),
fc(b.code))}a?(bc=setTimeout(ac,0===cc?10:50),cc++):u("Evaluator",cc+" total times waited")}
function fc(a){a=a.replace(Bb,zb);if(wa(a))if(u("Evaluator","Redirect detected"),fb(a))u("Evaluator","OK to redirect"),eb(a)||(u("Evaluator","NOT setting a redirect cookie"),y("optimizelyRedirect",window.location.href,5)),y("optimizelyReferrer",document.referrer||"http://www.optimizely.com/redirect-no-referrer");else{u("Evaluator","NOT OK to redirect");return}eval("var $j = $;");try{eval(a)}catch(b){var c=P;P=i;u("Evaluator","Error: "+b.message);u("Evaluator","Code: "+a);P=c;u("Evaluator","Failed to run code: "+
b.message)}}function ec(a,b){if(!gc[a]||!gc[a][b]){var c="mousedown",d=Wa();if("iphone"===d||"ipad"===d||"ipod"===d)c="touchstart";$(a).bind(c,function(){F.e.call(F,b,"custom")});gc[a]||(gc[a]={});gc[a][b]=c}}function Ub(a){a||(a=Na());for(var b=0;b<a.length;b++){var c=a[b],d=N[c];d?(rb("Not activating "+z(c)+" because "+d+".",{type:"explanation"}),delete N[c]):rb("Activating "+z(c)+".",{type:"activation",experimentId:c})}}var gc={},sa=[],C=C||[],hc=0,dc=k,$b=[],bc=j,cc=0;
$(function(){dc=i;bc!==j&&(u("Evaluator","Document is ready"),clearTimeout(bc),0<hc?setTimeout(ac,hc):ac())});function wb(){return B("admin_account_id")}function Wb(){if(!ic){var a=B("click_goals")||[];ic=[];for(var b=0,c=a.length;b<c;b++)for(var d=a[b],e=d.selector.split(","),f=0,g=e.length;f<g;f++){var l=e[f];l&&(l={event_name:d.event_name,selector:l},d.experiments!==h?l.experiments=d.experiments:d.url_conditions!==h&&(l.url_conditions=d.url_conditions),ic.push(l))}}return ic}function xb(){var a=Vb(Na(),ua);xb=function(){return a};return a}function Za(){return B("experiments")||{}}
function Na(){return Ra(B("experiments")||{})}function Oa(a){return r(a,"manual")||k}function z(a){return'experiment "'+(r(a,"name")||"")+'" ('+a+")"}function I(a){return r(a,"section_ids")||[]}function Ca(a){return r(a,"variation_ids")||[]}function tb(){var a=[ub("log_host")];B("use_staging_log")&&a.push(ub("staging_log_host"));return a}function vb(){return B("project_id")}function Pa(){return Ra(B("segments")||{})}
function jc(a){var b={},c=B("public_suffixes")||{};o(c,function(a,c){o(c,function(c){b[c]=a})});jc=function(a){return b[a]||""};return jc.call(j,a)}function Da(a){return B("sections",a,"variation_ids")||[]}function xa(a){var b=[];o(a.split("_"),function(a){(a=B("variations",a,"code"))&&b.push(a)});return b.join("\n")}
function p(a){var b={};o(Na(),function(a){o(I(a),function(d){o(Da(d),function(d){b[d]=a})});o(Ca(a),function(d){b[d]=a})});p=function(a){return b[a.split("_")[0]]||""};return p.call(j,a)}function oa(a){var b=p(a),c=I(b);if(0===c.length){c=Ca(b);for(b=0;b<c.length;b++)if(c[b]===a)return b}else{for(var a=a.split("_"),b=[],d=0;d<c.length;d++)for(var e=Da(c[d]),f=0;f<e.length;f++)e[f]===a[d]&&b.push(f);if(b!==[])return b}return-1}function va(a){var b;return ma(a).join(b||", ")}
function ma(a){var b=[];o(a.split("_"),function(a){b.push(B("variations",a,"name")||"Unnamed")});return b}function ua(a){return!!r(a,"enabled")}function r(a,b){return B("experiments",a,b)}function qa(a){return r(a,"google_analytics")}function B(a){var b=DATA;if(o(arguments,function(a){a=b[a];if(A(a))b=a;else return j})!==j)return b}function Qa(a,b){return B("segments",a,b)}
function ub(a){var a=B(a),b=document.location.protocol;"chrome-extension:"===b&&(b="http:");return b+"//"+a+".optimizely.com"}var ic=j;function kc(a,b){var c=b.manualMode===i,d=b.objectType?b.objectType:"experiment",e="experiment"===d,f=b.addToSegment===i?"add":"remove",g=b.defaultFail===i;u("Condition","Testing "+d+" "+a);var l=e&&ua(a),t=e&&Oa(a);a:switch(d){case "experiment":f=r(a,"conditions")||[];break a;case "segment":f=Qa(a,("remove"===f?"remove":"add")+"_condition")||[];break a;default:f=[]}if(e&&!l&&kb!==a)return u("Condition","Failed for "+d+" "+a+" (paused)"),N[a]="it is paused",k;var m="experiment"===(d||"experiment"),
w=i;g&&(w=k);o(f,function(b){var c=b.type;if(m&&b.only_first_time&&lc(a))u("Condition",c+" condition passed because it only gets checked when bucketing",i);else{var d=!b.not,e=(0,mc[c])(b),b=e!==d,c="the visitor "+(e?"passed":"failed")+" a "+c+" targeting condition  when it needed to "+(d?"pass":"fail");u("Condition","Found that "+c,!b);if(b)return w=k,N[a]=c,k}});if(w){if(e&&!c&&t)return u("Condition"," Failed for "+d+" "+a+" (manual activation mode)"),N[a]="it is set to use manual activation mode",
k}else return u("Condition","Failed for "+d+" "+a+" (condition failed)"),k;return i}function Xb(a){for(var b=window.location.href,c=0;c<a.values.length;c++){var d=a.values[c],e=d.value,d=d.match,f=nc(b,e,d);u("Condition","Testing URL "+b+" against  "+e+" ("+d+")",i);if(f)return i}return k}
var mc={browser:function(a){var b=Sa(),c=Ob(),d=k,e=Wa();o(a.values,function(a){"unknown"!==e?(d="mobile"===a||a===e,u("Condition",e,i)):0===a.indexOf(b)&&(a=a.substr(b.length),d=""===a||a<=c&&c<Number(a)+1);if(d)return j});return d},code:function(a){a=a.value;if(a===h)return i;try{return Boolean(eval(a))}catch(b){return k}},cookies:function(a){for(var b=k,c=a.names||[],a=a.values||[],d=0;d<c.length;d++){var e=v(c[d]);if(b=A(a[d])&&""!==oc(a[d])?b||a[d]===e:b||e!==j&&e!==h)return i}return k},event:function(a){var b=
v("optimizelyCustomEvents")||"{}";try{b=pb(b)}catch(c){b={}}var d=b[yb()]||[];R(d)||(d=[]);var e=k;o(a.values,function(a){if(-1!==$.inArray(a,d))return e=i});return e},language:function(a){var b=Nb(),c=k;o(a.values,function(a){if(c="any"===a||0===b.indexOf(a))return j});return c},location:function(a){for(var b=Ta(),c=0;c<a.values.length;c++){var d=a.values[c].split("|"),e=$.trim(d[0]),f=$.trim(d[1]),g=$.trim(d[2]),l=$.trim(d[3]);switch(d.length){case 1:if(b.country===e)return i;break;case 2:if(b.region===
f&&b.country===e)return i;break;case 3:if(b.city===g&&(b.region===f||""===f)&&b.country===e)return i;break;case 4:if(b.continent===l)return i}}return k},query:function(a){if(0===a.values.length)return i;var b=k,c=Ua();o(a.values,function(a){for(var e=a.key,a=a.value||"",f=0;f<c.length;f++){var g=c[f],l=g[0],g=g[1];if(""!==e&&e===l&&(""===a||a===g))return b=i}});return b},referrer:function(a){for(var b=document.referrer,c=0;c<a.values.length;c++){var d=a.values[c],e=d.value,d=d.match,f=nc(b,e,d);u("Condition",
"Testing referrer "+b+" against  "+e+" ("+d+")",i);if(f)return i}return k},segment:function(a){var b=k,c=[];o(pc,function(a,b){b&&c.push(a)});o(a.values,function(a){D(c,a)&&(b=i)});return b},url:Xb,visitor:function(a){var b=Sb?"returning":"new";switch(a.value){case "new":if("returning"===b)return k;break;case "returning":return"returning"===b}return i}};function qc(){var a={};o(pc,function(b,c){c&&(a[b]=c)});y("optimizelySegments",ob(a),31536E4)}function rc(a,b){!b&&""!==b&&(b=i);pc[a]=b;sc()}function sc(){o(tc,function(a){a()})}
function uc(){switch(Qa(U,"segment_value_type")||""){case "browser":return V(Sa()||"unknown");case "campaign":return V(cb("utm_campaign")||"none");case "country":return V(Ta().country||"unknown");case "language":return V(Nb()||"unknown");case "mobile":return V("unknown"!==Wa());case "os":return V(Xa()||"unknown");case "referrer":var a;a=Qb();a=Pb(a);return V(a||"none");case "source_type":return V(Rb())}return j}function Va(){var a={};o(pc,function(b,c){c&&(a[String(b)]=c)});return a}
function vc(a){pc[a]=k;sc()}function V(a){var b;b=b||wc;return String(a).toLowerCase().substring(0,b)}function xc(a){var b=U,c="add"===a?"adding":"removing",d="add"===a?"to":"from",e=N[b];e?(rb("Not "+c+" visitor "+d+" segment "+(Qa(b,"name")||"")+" because "+e+".",{type:"explanation"}),delete N[b]):rb("Segment "+a+" condition matches, "+c+d+" segment "+(Qa(b,"name")||""),{type:"explanation"})}var tc=[],pc={},wc=20;function nc(a,b,c){switch(c){case "exact":return a=yc(a),a=zc(a,"optimizely_log"),a=zc(a,"optimizely_verbose"),a===yc(b);case "regex":try{return Boolean(a.match(b))}catch(d){return k}case "simple":return a=yc(Ac(a)),b=yc(Ac(b)),a===b;case "substring":return a=yc(a,i),b=yc(b,i),-1!==a.indexOf(b);default:return k}}function Ac(a){var b=a.indexOf("?");-1!==b&&(a=a.substring(0,b));b=a.indexOf("#");-1!==b&&(a=a.substring(0,b));return a}
function zc(a,b){return a.replace("&"+b+"=true","").replace("?"+b+"=true&","?").replace("?"+b+"=true","")}function yc(a,b){for(var a=a.toLowerCase(),c=a.charAt(a.length-1);"/"===c||"&"===c||"?"===c;)a=a.substring(0,a.length-1),c=a.charAt(a.length-1);c=Bc.slice(0);b||(c=c.concat(Cc));for(var d=c.length,e=0;e<d;e++)a=a.replace(RegExp("^"+c[e]),"");return a}var Bc=["https?://edit.local/","https?://.*?.?optimizelyedit.appspot.com/","https?://preview.optimizely.com/","https?://"],Cc=["www."];function u(a,b,c){Dc.push({C:new Date,B:a,message:b,n:c||k});Ec&&Fc()}function Fc(){P&&(o(Dc,function(a){if(!a.I&&(!a.n||a.n===mb)){var b=+a.C;n(a.B,a.message+(" [time "+(Gc?b-Gc:0)+" +"+(Hc?b-Hc:0)+"]"));Hc=b;Gc||(Gc=b);a.I=i}}),Ec=i)}var Hc=j,Gc=j,Dc=[],Ec=k;function D(a,b){for(var c=0;c<a.length;c++)if(b==a[c])return i;return k}function bb(a){var b=a.length;if(0===b)return j;if(1===b)return 0;for(var c=0,d=0;d<b;d++)c+=a[d];c*=Math.random();for(d=0;d<b;d++){if(c<a[d])return d;c-=a[d]}return Math.floor(Math.random()*b)}function sb(a,b){var c=Ic(arguments,1);return function(){var b=Ic(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}
function o(a,b){var c=j;if(R(a))for(var d=a.length,e=0;e<d&&!(c=b.call(h,a[e],e),A(c));++e);else for(d in a)if(Object.prototype.hasOwnProperty.call(a,d)&&(c=b.call(h,d,a[d]),A(c)))break;return c}function Ya(a,b){o(b,function(b,d){a[b]=d})}function Vb(a,b){for(var c=[],d=0,e=a.length;d<e;d++){var f=a[d];b(f)&&c.push(f)}return c}function Jc(a,b){return o(b,function(b){if(b===a)return i})||k}function R(a){return a&&"object"===typeof a&&a.length&&"number"===typeof a.length}
function A(a){return"undefined"!==typeof a}function qb(a){return("number"===typeof a||"string"===typeof a)&&Number(a)==a}function Ra(a){Ra=Object.S||function(a){var c=[];o(a,function(a){c.push(a)});return c};return Ra.call(j,a)}function Eb(a){var b=document.head||document.getElementsByTagName("head")[0]||document.documentElement,c=document.createElement("script");c.src=a;c.type="text/javascript";b.appendChild(c)}
function n(a,b,c){var d=window.console;if(P&&d&&d.log){var e=Ic(arguments,1);e[0]="Optimizely / "+a+" / "+b;Function.prototype.apply.call(d.log,d,e)}}function Ic(a,b){return Array.prototype.slice.call(a,b||0,a.length)}function oc(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function Mc(a){return function(b){if("object"===typeof b&&Nc()){var c=j,d;for(d in b)b.hasOwnProperty(d)&&(c=a.call(this,d,b[d]));return c}return a.apply(this,arguments)}}function Nc(){for(var a in{})return i;return k};function Oc(){for(var a=O,b=0,c=Pc.length;b<c;b++){var d=Pc[b];if(d.test(a))return k}b=0;for(c=Qc.length;b<c;b++)if(d=Qc[b],d.test(a))return i;return k}var Pc=[/(edit|preview)(-local)?\.optimizely\.com/,/optimizelyedit\.appspot\.com/],Qc=[/^(https:)?\/\/www\.local\//,/^(https:)?\/\/([A-Za-z0-9\-]+\.)?optimizely\.com\//,/^(https:)?\/\/([A-Za-z0-9\-]+\.)?optimizely(-hrd)?\.appspot\.com\//];function Ga(a,b,c,d){var c=c===i,d=d===i,e=k,f=p(a);if(f&&(d||!lc(f))){e=i;if(d&&lc(f))for(d=0;d<H.length;d++)H[d].j===f&&H.splice(d,1);H.push({j:f,id:a,source:b});c&&(C=C||[],C.push(f));Aa[f]=i;Ba();u("Plan","Added experiment "+f+" and variation id "+a+" to the plan, source is "+b,i)}return e}function lc(a){return a in G||a in Aa}function ta(a){var b=[],c=!A(a),a=a||[];o(H,function(d){(c||D(a,d.j))&&b.push(d.id)});return b}function ab(a){var b;if(b===i||!lc(a))G[a]=i,Ba()}
function Ia(){var a={};o(Rc,function(b,c){a[b]=c});o(H,function(b){var c=p(b.id);a[c]=b.id});o(G,function(b){a[b]="0"});y("optimizelyBuckets",ob(a),31536E4)}function Ba(){o(Sc,function(a){a()})}
function Yb(a,b,c){if(-1!==a.indexOf("_optimizely_redirect"))b.push({code:a,type:"code forced (redirect)"});else{for(var a=a.split("\n"),d=k,e=k,f=[],g=[];0<a.length;){var l=oc(a.shift()),t=0<g.length;if(l)if(Boolean(l.match(/_optimizely_evaluate\s{0,9}=\s{0,9}force/i)))e=i;else if(Boolean(l.match(/_optimizely_evaluate\s{0,9}=\s{0,9}safe/i))||Boolean(l.match(/_optimizely_evaluate\s{0,9}=\s{0,9}end_force/i)))e=k;else if(Boolean(l.match(/_optimizely_evaluate\s{0,9}=\s{0,9}editor_only/i)))d=i;else if(Boolean(l.match(/_optimizely_evaluate\s{0,9}=\s{0,9}end_editor_only/i)))d=
k;else if(!d)if(e)f.push(l);else{if(!t){var m=Tc.exec(l),w=[];m?(w.push(m[1]),(m=Uc.exec(l))&&4<m.length&&w.push(m[4]),c.push({code:l,f:w,type:"safe jquery",h:i})):t=i}t&&g.push(l)}}0<f.length&&b.push({code:f.join("\n"),type:"forced evaluation"});0<g.length&&c.push({code:g.join("\n"),type:"safe non-jquery",R:i})}}function Zb(a,b,c){for(var d={values:[]},e=0,f=a.length;e<f;e++)d.values.push({value:a[e],match:b[e]||c});return d}
var Sc=[],Rc={},G={},Tc=/^\$j?\(['"](.+?)['"]\)\..+;\s*$/,Uc=/^\$j?\(['"](.+?)['"]\)\.detach\(\)\.(appendTo|insertAfter|insertBefore|prependTo)\(['"](.+?)['"]\);\s*$/,Aa={},H=[];if(!aa){var X=$;X.fn.attr=Mc(X.fn.attr);X.fn.css=Mc(X.fn.css);X.fn.extend=Mc(X.fn.extend);var Vc=X.each;X.each=function(a,b,c){if(!(a.length===h||X.isFunction(a))||!Nc())Vc.apply(this,arguments);else if(c)for(var d in a){if(a.hasOwnProperty(d)&&b.apply(a[d],c)===k)break}else for(d in a)if(a.hasOwnProperty(d)&&!b.call(a[d],d,a[d])===k)break;return a};var Wc=X.fn.G,Xc=function(a,b,c){return new Wc(a,b,c)},Yc,Zc=document.getElementsByClassName;if(!db(Zc))var $c=(window.optimizely||{}).getElementsByClassName,
ad=(window.optly||{}).getElementsByClassName,Zc=db($c)?$c:db(ad)?ad:j;Yc=Zc;X.fn.G=function(a,b,c){var d=Xc,e=document.getElementsByClassName;!db(e)&&Yc&&(d=function(a,b,c){document.getElementsByClassName=Yc;a=Xc(a,b,c);document.getElementsByClassName=e;return a});if(!("string"===typeof a&&b&&"object"===X.type(b)&&Nc()))return d(a,b,c);a=d(a,h,c);a.attr(b);return a}}u("Main","Started, revision "+B("revision"));
for(var bd=window.location.search,cd,dd=/optimizely_([^=]+)=([^&]*)/g,Y={};cd=dd.exec(bd);)Y[cd[1]]=decodeURIComponent(cd[2]);var ed=/x(\d+)/,fd=k;o(Y,function(a,b){var c=ed.exec(a);if(c&&(fd=i,kb=c=c[1],"-1"!==b)){var d,e=b.split("_");d=I(c);var f=[];if(d.length===e.length)o(d,function(a,b){var c=e[b];if(c=Da(a)[c])f.push(c);else return f=[],j});else if(1===e.length){d=Ca(c);var g=e[0],l=d[g];!l&&D(d,g)&&(l=g);l&&f.push(l)}d=f.join("_");g=!Oa(c);Ga(d,"query",g);Gb.push(c)}});
("true"===Y.opt_out||"false"===Y.opt_out)&&F.p("true"===Y.opt_out);var E="true"!==Y.disable&&"true"!==Y.opt_out&&"true"!==v("optimizelyOptOut"),O=Y.load_script,lb="true"===Y.preview,P="true"===Y.log,mb="true"===Y.verbose,gd="true"===Y.force_tracking,fd=fd||lb,ea=!fd||gd;"false"===Y.client&&(E=k,O="js/"+vb()+".js");O&&(Oc()||(O=""));var hd=document.location.hostname,Z=hd.split("."),id=hd,kd=Z[Z.length-1];
2<Z.length&&"appspot"===Z[Z.length-2]&&"com"===kd?id=Z[Z.length-3]+".appspot.com":1<Z.length&&Jc(kd,ba)&&(id=Z[Z.length-2]+"."+kd);Hb=id;n("Cookie","Guessed public suffix: %s",Hb);S=jc(hd);n("Cookie","Public suffix (from data): %s",S);S||(S=v("optimizelyPublicSuffix")||"",n("Cookie","Public suffix (from cookie): %s",S));!S&&B("remote_public_suffix")&&(n("Cookie","Making request for public suffix on DOM ready"),$(sb(Mb,hd)));var ld=v("optimizelyBuckets"),Sb=ld!==h&&ld!==j,md;
a:{for(var nd=["googlebot","yahoo! slurp","bingbot","msnbot"],od=navigator.userAgent.toLowerCase(),pd=0;pd<nd.length;pd++)if(-1!==od.indexOf(nd[pd])){md=i;break a}md=k}md&&(ea=k);var qd=v("optimizelyBuckets");
if(qd){try{qd=pb(qd)}catch(rd){qd={}}var sd={};o(qd,function(a,b){var b=String(b),c=p(b);if(I(c).length>1&&b.indexOf("_")===-1){sd[c]=sd[c]||{};sd[c][a]=b}else b!=="0"?Ga(b,"cookie",k)||(Rc[a]=b):ab(a)});o(sd,function(a,b){var c;a:{c=[];for(var d=I(a),e=0;e<d.length;e++){var f=b[d[e]];if(f==="0"){c="";break a}c.push(f)}c=c.join("_")}c.length>0?Ga(c,"cookie",k):ab(a)})}tc.push(Ka);Sc.push(Ka);
var td={$:$,activeExperiments:sa||[],allExperiments:Za(),all_experiments:Za(),allVariations:B("variations")||{},data:L,getElementsByClassName:document.getElementsByClassName,revision:B("revision"),variationIdsMap:La,variation_map:J,variationMap:J,variationNamesMap:Ma},ud={},vd=sb(function(a,b){var c=[],d=b;if(R(b)){c=Ic(b,1);d=b[0]}var e=a[d];if(e){u("API",'Called function "'+d+'"');d!=="acknowledgePreviewMode"&&rb(d,{type:"api"});e.apply(j,c)}else u("API",'Error for unknown function "'+d+'"');Fc()},
ud);
Ya(ud,{acknowledgePreviewMode:function(){u("Preview","Preview acknowledgement received");Fb=i},activate:function(a,b,c){if(!E)return k;var d=typeof b==="number"||typeof b==="string"?String(b):j,e=b===i||b&&b.force===i||c&&c.force===i,f=typeof b==="object"&&b.skip===i||typeof c==="object"&&c.skip===i,b=typeof b==="object"&&b.skipPageview===i||typeof c==="object"&&c.skipPageview===i;if(d)try{ya(a,d,i)}catch(g){u("API","Error while activating experiment "+a+" for variation "+d+" -- proceeding without bucketing user.")}var l=j,
t=[],m=[];qb(a)?t.push(a):o(Na(),function(a){Oa(a)&&t.push(a)});o(t,function(a){if(e||kc(a,{manualMode:i,objectType:"experiment"}))(l=$a(a,f))&&m.push(a)});Tb(m,t);Ia();na();E&&!b&&F.e(document.location.href)},activateSiteCatalyst:da,addToSegment:rc,bucketUser:ya,bucketVisitor:ya,clickTaleRecord:function(){n("Integrator","Tracking with ClickTale.");typeof window.ClickTaleField=="function"?o(ia(),function(a){var b=p(a),c=q(b,a,100,100,15,k),c=c.key+": "+c.value+" (x"+b+"="+a+")";n("Integrator","Setting ClickTale - %s",
c);window.ClickTaleField(b,a);window.ClickTaleEvent(c)}):n("Integrator","ClickTaleField() not defined.")},clickTalePlayback:function(){if(window.ClickTaleContext)if(window.ClickTaleContext.getAggregationContextAsync)try{window.ClickTaleContext.getAggregationContextAsync("1",function(a){for(var b in a.PageEvents){var e=a.PageEvents[b][2].match(/x[0-9]+=[0-9_]+/g);n("Integrator","Playback ClickTale Integration - %s",e);for(b in e){n("Integrator","Playback ClickTale Integration - %s",e[b]);var f=e[b].split("=")[0].substr(1),
g=e[b].split("=")[1].split("_");for(b in g)window.optimizely.push(["activate",f,g[b],{force:i}])}}})}catch(a){n("Integrator","Playback ClickTale Aggregation Integration failed.")}else try{window.ClickTaleContext.getRecordingContextAsync("1.1",function(a){n("Integrator","Playback ClickTale getRecordingContextAsync callback");for(var b in a.fields){n("Integrator","Playback ClickTale Integration - %s=%s",b,a.fields[b]);window.optimizely.push(["activate",b,a.fields[b],{force:i}])}})}catch(b){n("Integrator",
"Playback ClickTale Recording Integration failed.")}else n("Integrator","ClickTaleContext not defined.")},delayDomReadyEval:function(a){hc=a},delayPageviewTracking:function(a){if(!qb(a))return k;jb=Number(a)},disable:Ja,log:function(){P=i},getAccountId:wb,getProjectId:vb,integrationPrefix:function(a){la=a},optOut:F.p,preview:function(){Fb||Db()},push:vd,removeFromAllSegments:function(){var a=Pa();o(a,function(a){vc(a)})},removeFromSegment:vc,sc_activate:da,sc_svar:function(a){fa=a},skipPageTracking:function(){nb=
i},timeout:Ja,trackEvent:F.v,verbose:function(){mb=P=i}});Ya(td,ud);var wd=window.optimizely;R(wd)&&o(wd,function(a){vd(a)});window.optimizely=td;u("Info","Is enabled: "+E);u("Info","Script to load: "+(O||"none"));u("Info","Browser type: "+Sa());u("Info","Browser version: "+Ob());var xd=Wa();"unknown"!==xd&&u("Info","Mobile browser type: "+xd);u("Info","New vs returning: "+(Sb?"returning":"new"));u("Info","Source type: "+Rb());u("Info","User ID: "+yb());O&&Eb(O);
if(E){u("Segmenter","Loading segments cookie.");var yd=v("optimizelySegments");if(yd){try{yd=pb(yd)}catch(zd){yd={}}o(yd,function(a,b){u("Segmenter","Segments cookie contains segment id: "+a);pc[a]=b})}u("Segmenter","Evaluating all segments.");for(var Ad=Pa(),Bd=0;Bd<Ad.length;Bd++){var U=Ad[Bd];u("Segmenter","Evaluating segment "+U);if(Qa(U,"is_api_only"))u("Segmenter","Not doing anything since segment "+U+" is api only.");else{u("Segmenter","Testing whether to add to segment "+U);var Cd=kc(U,{addToSegment:i,
objectType:"segment"});xc("add");u("Segmenter","Testing whether to remove from segment "+U);var Dd=kc(U,{addToSegment:k,defaultFail:i,objectType:"segment"});xc("remove");if(Cd&&!Dd){var Ed=uc();Ed===j&&(Ed=i);rc(U,Ed)}else Dd&&vc(U)}}tc.push(qc);sc();o(Na(),function(a){if(!Jc(a,C)&&kc(a,{objectType:"experiment"})){u("Distributor","Going to distribute "+z(a));var b=$a(a),c=k;if(Gb.length>0&&!D(Gb,a)){u("Distributor","Not going to evaluate because of preview mode, for "+z(a));c=i;N[a]="it is not being previewed"}if(b&&
!c){C=C||[];C.push(a)}}});Ia();F.D();nb||(0<jb?setTimeout(function(){F.e(document.location.href,"pageview")},jb):F.e(document.location.href,"pageview"));F.q();na()}P&&(o(G,function(a){var b=r(a,"name")||"";u("Plan","Ignore experiment '"+b+"' ("+a+")")}),o(H,function(a){var b=p(a.id),c=va(a.id);u("Plan",z(b)+' in variation "'+c+'" ('+a.id+")")}));E&&(Tb(),u("API","Finalizing API."),Ka(),Fc());lb&&Db();u("Main","End of main");
optly.Cleanse.finish();
})();

if (typeof(optimizely_perf) != "undefined") { optimizely_perf.post_results(); }