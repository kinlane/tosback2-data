/*
 New BSD License <http://creativecommons.org/licenses/BSD/>
 New BSD License <http://creativecommons.org/licenses/BSD/>

 Edited 05/2012
 Removed hashtag management features
 @author henry
 Public Domain
 @author Benjamin Arthur Lupton <contact@balupton.com>
 @author James Padolsey <https://gist.github.com/527683>
 Public Domain
 @author Benjamin Arthur Lupton <contact@balupton.com>
 http://opensource.org/licenses/bsd-license.php New BSD License
 @author Paul Serby <paul.serby@clock.co.uk>
*/
C=function(b){for(var b=b.split("."),a=window.C,e=0;e<b.length;e++)var i=b[e],a=a[i]||(a[i]={});return a};C("utility");C.utility.exists=function(b,a){for(var a=a.split("."),e=b,i=0;i<a.length;i++){var m=a[i];if(e[m]===void 0)return!1;e=e[m]}return!0};C.utility.getMaxIndex=function(){for(var b=C.dom.$root.children(),a=[10],e=0;e<b.length;e++)a.push(+b[e].style.zIndex||0);return C.utility.max(a)};
C.utility.loadScript=function(b,a){var e=document.createElement("script");e.setAttribute("type","text/javascript");e.setAttribute("charset","utf-8");e.readyState?e.onreadystatechange=function(){if(e.readyState=="loaded"||e.readyState=="complete")e.onreadystatechange=null,a()}:e.onload=function(){a()};e.src=b;document.getElementsByTagName("head")[0].appendChild(e)};C.utility.max=function(b){return Math.max.apply(Math,b)};C.utility.min=function(b){return Math.min.apply(Math,b)};
C.utility.addCommasToInt=function(b){b=b.toString();return b.match(/\D/)?null:b=b.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")};C.utility.processPlaceholders=function(){$("[placeholder]").each(function(){var b=$(this),a=b.attr("placeholder");b.placeholder(a)})};C.utility.getParams=function(){return C.utility.getParamsByUrl(window.location.href)};
C.utility.getParamsByUrl=function(b){var a={},e=b.indexOf("?");if(e==-1)return a;for(var b=b.substr(e+1,b.length),b=b.split("&"),i=0;i<b.length;i++)e=b[i].split("="),e[0]=decodeURIComponent(e[0]),e[1]=e[1]==void 0?1:decodeURIComponent(e[1]),a[e[0]]?(Object.prototype.toString.call(a[e[0]])!="[object Array]"&&(a[e[0]]=[a[e[0]]]),a[e[0]].push(e[1])):a[e[0]]=e[1];return a};
C.dump=function(){if(!(top.location.href.indexOf("www.chegg.com")>-1)){for(var b=0,a=arguments.length;b<a;b++)C.log("Variable type: "+Object.prototype.toString.call(arguments[b])),C.log("Variable value: ",arguments[b]);C.log(C.log.divider(10)+" Stacktrace "+C.log.divider(10));console.trace()}};C.log=function(){C.utility.getCookie("logging")!=null&&Function.prototype.bind&&console&&console.log&&Function.prototype.bind.call(console.log,console).apply(console,arguments)};
C.log.divider=function(b){for(var a="",e=0;e<b;e++)a+="=";return a};C.utility.clone=function(b,a){if(b==null||typeof b!="object")return b;var e=new b.constructor,i;for(i in b)a&&i.indexOf(a)!=-1||(e[i]=this.clone(b[i]));return e};
C.utility.bookCover=function(b,a,e){var i="",m="",k="",q="";"undefined"!==typeof e&&null!==e&&("undefined"!==typeof e.isReadNow&&e.isReadNow?q='<div class="read-now-strip"><span class="read-now-icon"></span> Read Now</div>':"undefined"!==typeof e.isRwyw&&e.isRwyw&&(k="undefined"!==typeof e.stripVersion&&e.stripVersion?'<div class="instant-access-strip">Instant Access</div>':'<div class="instant-access">Includes free <span>Instant Access<span></div>'));switch(a){case 1:case 2:i=b.imgThumb;m="book-overlay-60.png";
break;case 3:i=b.imgSmall;m="book-overlay-100.png";break;case 4:i=b.imgMedium;m="book-overlay-140.png";break;case 5:i=b.imgLarge,m="book-overlay-180.png"}i.indexOf("http")===-1&&(i=C.global.coversBaseUrl+i);m=C.global.staticBaseUrl+"s/_global/images/"+m;return'<div class="book-img-'+a+'"><img class="book-cover" src="'+i+'" onerror="this.src=\''+C.global.errorImage+'\'" /><img class="book-overlay" src="'+m+'" />'+k+q+"</div>"};C.utility.bookCover.dropdown=1;C.utility.bookCover.thumb=2;
C.utility.bookCover.small=3;C.utility.bookCover.medium=4;C.utility.bookCover.large=5;
(function(){var b={},a=["$","_","Backbone","C","Class","console","History","jQuery","swfobject","matchMedia","CRITEO","_FirebugCommandLine","FxFrames","Fx","MathJax","SelectParser","AbstractChosen","get_side_border_padding","SkypeClick2Call","tinyMCE","tinymce","cheggmathjax","WebFont","WebFontConfig","insertSteps","allocatedAxes","ctx","startAngle","FB","fbAsyncInit","fb_xdm_frame_http","fb_xdm_frame_https","BrightTag","btServe","bt_parameter","bt_meta","bt_data","bt_data_escaped","bt_log","bt_handle_exception",
"_bt_url_prefix","_bt_referrer","_bt_site","_bt_mode"],e;for(e in window)b[e]=1;for(e=0;e<a.length;e++)b[a[e]]=1;C.utility.checkPollution=function(){for(var a in window)!b[a]&&a.indexOf("jQuery")!==0&&C.log("pollution of window."+a)}})();
C.utility.navigate=function(b){var a=C.dom.$window.triggerHandler("beforeunload");if(a!==void 0)if(confirm(""+a+"\n\nAre you sure you want to leave this page?"))C.dom.$window.unobserve("beforeunload",this);else return;if(History.enabled)try{b!=location.href?History.pushState(null,null,b):C.utility._handleRequest(b)}catch(e){location.href=b}else location.href=b};C.utility.refresh=function(){C.utility.navigate(location.href)};
C.utility.escapeRegEx=function(b){return b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};C.utility.serializeFormToJson=function(b){var b=(b.jQuery?b:$(b)).serializeArray(),a={};$.each(b,function(b,i){var m=i.name,k=i.value;a[m]=a[m]===void 0?k:$.isArray(a[m])?a[m].concat(k):[a[m],k]});return a};C.utility.attrSupportedByEl=function(b,a){var e=C.utility.attrSupportedByEl.cache[b]||document.createElement(b);C.utility.attrSupportedByEl.cache[b]||(C.utility.attrSupportedByEl.cache[b]=e);return a in e};
C.utility.attrSupportedByEl.cache={};C.utility.rgba2rgb=function(b){var a=b.match(/rgba\((.+)\)/);if(!a)return b;a=a[1].split(",");a.pop();return"rgb("+a.join(",")+")"};C.utility.unique=function(b){var a=[],e=0,i=b.length;a:for(;e<i;e++){for(var m=e+1;m<i;m++)if(b[m]===b[e])continue a;a.push(b[e])}return a};C.utility.setCookie=function(b,a,e){var i=new Date;i.setDate(i.getDate()+e);a=escape(a)+(e==null?"":";expires="+i.toUTCString())+";path=/";document.cookie=b+"="+a+";domain="+C.global.cookieDomain};
C.utility.getCookie=function(b){var a,e,i,m=document.cookie.split(";");for(a=0;a<m.length;a++)if(e=m[a].substr(0,m[a].indexOf("=")),i=m[a].substr(m[a].indexOf("=")+1),e=e.replace(/^\s+|\s+$/g,""),e==b)return unescape(i)};C.utility.getActiveExperiments=function(){var b=C.utility.getCookie("exp");return b&&b.length?b.toUpperCase().split("|"):[]};
C.utility.isExperimentActive=function(b,a){b=b.toUpperCase();a&&(a=a.toUpperCase());for(var e=C.utility.getActiveExperiments(),i=0;i<e.length;i++)if(a){if(e[i]==b+a)return!0}else if(e[i].indexOf(b)===0)return!0;return!1};C.utility.couponDialog={};
C.utility.showCouponDialog=function(b,a){var e='<div class="dialog-1"><div class="dialog-hdr"><div class="dialog-close-wrapper"><button type="icon" class="btn-secondary-sm chg-dialog-close"><span class="icn-cross">Close</span></button></div></div><div class="dialog-content"><section class="chg-cpn-dialog-content"><span class="chg-cpn-slanted"></span><p><span class="chg-cpn-txt-lrg"> '+b+' </span></p><p><span class="txt-2-small">'+a+'.</span></p><button class="btn-secondary-dk-sm chg-dialog-close">Got it, thanks</button></section></div></div>';
typeof C.utility.couponDialog.destroy==="function"&&C.utility.couponDialog.destroy();C.utility.couponDialog=new C.widget.dialog({content:e})};
C.utility.updateCart=function(b){$.ajax({url:"/_ajax/cart/count",complete:function(a){a=$.parseJSON(a.responseText);if((a.coupons==0||a.coupons==null)&&(a.items==0||a.items==null))$(".chg-cart-area").css({display:"none"}),$(".hide-with-cart").css({display:"none"}),$(".chg-hdr-coupon-area").css({display:"none"}),$(".hide-with-coupon").css({display:"none"});else if($(".chg-cart-area").css({display:"inline"}),$(".hide-with-cart").css({display:"inline-block"}),$(".chg-cart-count").text(a.items),a.items==
null&&$(".chg-cart-count").text(0),a.coupons!=0){var e='<ul class="hdr-nav"><li class="hdr-border"><span class="hdr-nav-spacer">Coupons</span></li>';for(key in a.couponText)e+='<li class="hdr-border"><span class="hdr-nav-spacer"><span class="chg-hdr-coupon-icon"></span>'+a.couponText[key]+"</span></li>";e+='<li class="hdr-no-border"><span class="txt-2-small">Coupons applied at checkout</span></li></ul>';new C.widget.popup({el:".chg-hdr-coupon-area",width:"300px",content:e,trigger:"hover",side:"bottom",
margin:0,padding:"0px",pointerEdgePadding:"90%",overhang:255,hideTimeout:200});$(".chg-hdr-coupon-area").css({display:"inline-block"});$(".hide-with-coupon").css({display:"inline-block"})}else $(".chg-hdr-coupon-area").css({display:"none"});typeof b==="function"&&b(a)}})};
(function(b,a){function e(c){var f=U[c]={},d,a,c=c.split(/\s+/);d=0;for(a=c.length;d<a;d++)f[c[d]]=!0;return f}function i(c,f,s){if(s===a&&c.nodeType===1)if(s="data-"+f.replace(V,"-$1").toLowerCase(),s=c.getAttribute(s),typeof s==="string"){try{s=s==="true"?!0:s==="false"?!1:s==="null"?null:d.isNumeric(s)?parseFloat(s):S.test(s)?d.parseJSON(s):s}catch(b){}d.data(c,f,s)}else s=a;return s}function m(c){for(var f in c)if(!(f==="data"&&d.isEmptyObject(c[f]))&&f!=="toJSON")return!1;return!0}function k(c,
f,a){var b=f+"defer",o=f+"queue",e=f+"mark",g=d._data(c,b);g&&(a==="queue"||!d._data(c,o))&&(a==="mark"||!d._data(c,e))&&setTimeout(function(){!d._data(c,o)&&!d._data(c,e)&&(d.removeData(c,b,!0),g.fire())},0)}function q(){return!1}function t(){return!0}function A(c,f,a){f=f||0;if(d.isFunction(f))return d.grep(c,function(c,d){return!!f.call(c,d,c)===a});else if(f.nodeType)return d.grep(c,function(c){return c===f===a});else if(typeof f==="string"){var b=d.grep(c,function(c){return c.nodeType===1});
if(Sa.test(f))return d.filter(f,b,!a);else f=d.filter(f,b)}return d.grep(c,function(c){return d.inArray(c,f)>=0===a})}function y(c){var f=sa.split("|"),c=c.createDocumentFragment();if(c.createElement)for(;f.length;)c.createElement(f.pop());return c}function B(c,f){if(f.nodeType===1&&d.hasData(c)){var a,b,o;b=d._data(c);var e=d._data(f,b),g=b.events;if(g)for(a in delete e.handle,e.events={},g){b=0;for(o=g[a].length;b<o;b++)d.event.add(f,a+(g[a][b].namespace?".":"")+g[a][b].namespace,g[a][b],g[a][b].data)}if(e.data)e.data=
d.extend({},e.data)}}function g(c,f){var a;if(f.nodeType===1){f.clearAttributes&&f.clearAttributes();f.mergeAttributes&&f.mergeAttributes(c);a=f.nodeName.toLowerCase();if(a==="object")f.outerHTML=c.outerHTML;else if(a==="input"&&(c.type==="checkbox"||c.type==="radio")){if(c.checked)f.defaultChecked=f.checked=c.checked;if(f.value!==c.value)f.value=c.value}else if(a==="option")f.selected=c.defaultSelected;else if(a==="input"||a==="textarea")f.defaultValue=c.defaultValue;f.removeAttribute(d.expando)}}
function F(c){return typeof c.getElementsByTagName!=="undefined"?c.getElementsByTagName("*"):typeof c.querySelectorAll!=="undefined"?c.querySelectorAll("*"):[]}function H(c){if(c.type==="checkbox"||c.type==="radio")c.defaultChecked=c.checked}function p(c){var f=(c.nodeName||"").toLowerCase();f==="input"?H(c):f!=="script"&&typeof c.getElementsByTagName!=="undefined"&&d.grep(c.getElementsByTagName("input"),H)}function z(c,f){f.src?d.ajax({url:f.src,async:!1,dataType:"script"}):d.globalEval((f.text||
f.textContent||f.innerHTML||"").replace(Ta,"/*$0*/"));f.parentNode&&f.parentNode.removeChild(f)}function v(c,f,a){var b=f==="width"?c.offsetWidth:c.offsetHeight,o=f==="width"?Ua:Va,e=0,g=o.length;if(b>0){if(a!=="border")for(;e<g;e++)a||(b-=parseFloat(d.css(c,"padding"+o[e]))||0),a==="margin"?b+=parseFloat(d.css(c,a+o[e]))||0:b-=parseFloat(d.css(c,"border"+o[e]+"Width"))||0;return b+"px"}b=Z(c,f,f);if(b<0||b==null)b=c.style[f]||0;b=parseFloat(b)||0;if(a)for(;e<g;e++)b+=parseFloat(d.css(c,"padding"+
o[e]))||0,a!=="padding"&&(b+=parseFloat(d.css(c,"border"+o[e]+"Width"))||0),a==="margin"&&(b+=parseFloat(d.css(c,a+o[e]))||0);return b+"px"}function x(c){return function(f,a){var r;typeof f!=="string"&&(a=f,f="*");if(d.isFunction(a))for(var b=f.toLowerCase().split(ta),o=0,e=b.length,g,l;o<e;o++)g=b[o],(l=/^\+/.test(g))&&(g=g.substr(1)||"*"),r=c[g]=c[g]||[],g=r,g[l?"unshift":"push"](a)}}function E(c,f,d,b,o,e){o=o||f.dataTypes[0];e=e||{};e[o]=!0;for(var o=c[o],g=0,l=o?o.length:0,h=c===ka,n;g<l&&(h||
!n);g++)n=o[g](f,d,b),typeof n==="string"&&(!h||e[n]?n=a:(f.dataTypes.unshift(n),n=E(c,f,d,b,n,e)));if((h||!n)&&!e["*"])n=E(c,f,d,b,"*",e);return n}function W(c,f){var b,r,o=d.ajaxSettings.flatOptions||{};for(b in f)f[b]!==a&&((o[b]?c:r||(r={}))[b]=f[b]);r&&d.extend(!0,c,r)}function O(c,f,a,b){if(d.isArray(f))d.each(f,function(f,o){a||Wa.test(c)?b(c,o):O(c+"["+(typeof o==="object"||d.isArray(o)?f:"")+"]",o,a,b)});else if(!a&&f!=null&&typeof f==="object")for(var o in f)O(c+"["+o+"]",f[o],a,b);else b(c,
f)}function j(){try{return new b.XMLHttpRequest}catch(c){}}function D(){setTimeout(M,0);return fa=d.now()}function M(){fa=a}function I(c,f){var a={};d.each(ua.concat.apply([],ua.slice(0,f)),function(){a[this]=c});return a}function N(c){if(!la[c]){var f=n.body,a=d("<"+c+">").appendTo(f),b=a.css("display");a.remove();if(b==="none"||b===""){if(!T)T=n.createElement("iframe"),T.frameBorder=T.width=T.height=0;f.appendChild(T);if(!aa||!T.createElement)aa=(T.contentWindow||T.contentDocument).document,aa.write((n.compatMode===
"CSS1Compat"?"<!doctype html>":"")+"<html><body>"),aa.close();a=aa.createElement(c);aa.body.appendChild(a);b=d.css(a,"display");f.removeChild(T)}la[c]=b}return la[c]}function h(c){return d.isWindow(c)?c:c.nodeType===9?c.defaultView||c.parentWindow:!1}var n=b.document,Q=b.navigator,J=b.location,d=function(){function c(){if(!f.isReady){try{n.documentElement.doScroll("left")}catch(d){setTimeout(c,1);return}f.ready()}}var f=function(c,d){return new f.fn.init(c,d,o)},d=b.jQuery,r=b.$,o,e=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,
g=/\S/,l=/^\s+/,h=/\s+$/,i=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,u=/^[\],:{}\s]*$/,k=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,j=/(?:^|:|,)(?:\s*\[)+/g,m=/(webkit)[ \/]([\w.]+)/,w=/(opera)(?:.*version)?[ \/]([\w.]+)/,G=/(msie) ([\w.]+)/,z=/(mozilla)(?:.*? rv:([\w.]+))?/,x=/-([a-z]|[0-9])/ig,J=/^-ms-/,q=function(c,f){return(f+"").toUpperCase()},v=Q.userAgent,ga,ba,Ya=Object.prototype.toString,ma=Object.prototype.hasOwnProperty,na=Array.prototype.push,
ea=Array.prototype.slice,P=String.prototype.trim,va=Array.prototype.indexOf,y={};f.fn=f.prototype={constructor:f,init:function(c,d,b){var s;if(!c)return this;if(c.nodeType)return this.context=this[0]=c,this.length=1,this;if(c==="body"&&!d&&n.body)return this.context=n,this[0]=n.body,this.selector=c,this.length=1,this;if(typeof c==="string")if((s=c.charAt(0)==="<"&&c.charAt(c.length-1)===">"&&c.length>=3?[null,c,null]:e.exec(c))&&(s[1]||!d))if(s[1])return b=(d=d instanceof f?d[0]:d)?d.ownerDocument||
d:n,(c=i.exec(c))?f.isPlainObject(d)?(c=[n.createElement(c[1])],f.fn.attr.call(c,d,!0)):c=[b.createElement(c[1])]:(c=f.buildFragment([s[1]],[b]),c=(c.cacheable?f.clone(c.fragment):c.fragment).childNodes),f.merge(this,c);else{if((d=n.getElementById(s[2]))&&d.parentNode){if(d.id!==s[2])return b.find(c);this.length=1;this[0]=d}this.context=n;this.selector=c;return this}else return!d||d.jquery?(d||b).find(c):this.constructor(d).find(c);else if(f.isFunction(c))return b.ready(c);if(c.selector!==a)this.selector=
c.selector,this.context=c.context;return f.makeArray(c,this)},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return ea.call(this,0)},get:function(c){return c==null?this.toArray():c<0?this[this.length+c]:this[c]},pushStack:function(c,d,a){var b=this.constructor();f.isArray(c)?na.apply(b,c):f.merge(b,c);b.prevObject=this;b.context=this.context;if(d==="find")b.selector=this.selector+(this.selector?" ":"")+a;else if(d)b.selector=this.selector+"."+d+"("+a+")";
return b},each:function(c,d){return f.each(this,c,d)},ready:function(c){f.bindReady();ga.add(c);return this},eq:function(c){c=+c;return c===-1?this.slice(c):this.slice(c,c+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(ea.apply(this,arguments),"slice",ea.call(arguments).join(","))},map:function(c){return this.pushStack(f.map(this,function(f,d){return c.call(f,d,f)}))},end:function(){return this.prevObject||this.constructor(null)},
push:na,sort:[].sort,splice:[].splice};f.fn.init.prototype=f.fn;f.extend=f.fn.extend=function(){var c,d,b,s,r,o=arguments[0]||{},e=1,g=arguments.length,l=!1;typeof o==="boolean"&&(l=o,o=arguments[1]||{},e=2);typeof o!=="object"&&!f.isFunction(o)&&(o={});g===e&&(o=this,--e);for(;e<g;e++)if((c=arguments[e])!=null)for(d in c)b=o[d],s=c[d],o!==s&&(l&&s&&(f.isPlainObject(s)||(r=f.isArray(s)))?(r?(r=!1,b=b&&f.isArray(b)?b:[]):b=b&&f.isPlainObject(b)?b:{},o[d]=f.extend(l,b,s)):s!==a&&(o[d]=s));return o};
f.extend({noConflict:function(c){if(b.$===f)b.$=r;if(c&&b.jQuery===f)b.jQuery=d;return f},isReady:!1,readyWait:1,holdReady:function(c){c?f.readyWait++:f.ready(!0)},ready:function(c){if(c===!0&&!--f.readyWait||c!==!0&&!f.isReady){if(!n.body)return setTimeout(f.ready,1);f.isReady=!0;c!==!0&&--f.readyWait>0||(ga.fireWith(n,[f]),f.fn.trigger&&f(n).trigger("ready").off("ready"))}},bindReady:function(){if(!ga){ga=f.Callbacks("once memory");if(n.readyState==="complete")return setTimeout(f.ready,1);if(n.addEventListener)n.addEventListener("DOMContentLoaded",
ba,!1),b.addEventListener("load",f.ready,!1);else if(n.attachEvent){n.attachEvent("onreadystatechange",ba);b.attachEvent("onload",f.ready);var d=!1;try{d=b.frameElement==null}catch(a){}n.documentElement.doScroll&&d&&c()}}},isFunction:function(c){return f.type(c)==="function"},isArray:Array.isArray||function(c){return f.type(c)==="array"},isWindow:function(c){return c&&typeof c==="object"&&"setInterval"in c},isNumeric:function(c){return!isNaN(parseFloat(c))&&isFinite(c)},type:function(c){return c==
null?String(c):y[Ya.call(c)]||"object"},isPlainObject:function(c){if(!c||f.type(c)!=="object"||c.nodeType||f.isWindow(c))return!1;try{if(c.constructor&&!ma.call(c,"constructor")&&!ma.call(c.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}for(var b in c);return b===a||ma.call(c,b)},isEmptyObject:function(c){for(var f in c)return!1;return!0},error:function(c){throw Error(c);},parseJSON:function(c){if(typeof c!=="string"||!c)return null;c=f.trim(c);if(b.JSON&&b.JSON.parse)return b.JSON.parse(c);
if(u.test(c.replace(k,"@").replace(p,"]").replace(j,"")))return(new Function("return "+c))();f.error("Invalid JSON: "+c)},parseXML:function(c){var d,s;try{b.DOMParser?(s=new DOMParser,d=s.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(r){d=a}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&f.error("Invalid XML: "+c);return d},noop:function(){},globalEval:function(c){c&&g.test(c)&&(b.execScript||function(c){b.eval.call(b,
c)})(c)},camelCase:function(c){return c.replace(J,"ms-").replace(x,q)},nodeName:function(c,f){return c.nodeName&&c.nodeName.toUpperCase()===f.toUpperCase()},each:function(c,d,b){var s,r=0,o=c.length,e=o===a||f.isFunction(c);if(b)if(e)for(s in c){if(d.apply(c[s],b)===!1)break}else for(;r<o;){if(d.apply(c[r++],b)===!1)break}else if(e)for(s in c){if(d.call(c[s],s,c[s])===!1)break}else for(;r<o;)if(d.call(c[r],r,c[r++])===!1)break;return c},trim:P?function(c){return c==null?"":P.call(c)}:function(c){return c==
null?"":c.toString().replace(l,"").replace(h,"")},makeArray:function(c,d){var a=d||[];if(c!=null){var b=f.type(c);c.length==null||b==="string"||b==="function"||b==="regexp"||f.isWindow(c)?na.call(a,c):f.merge(a,c)}return a},inArray:function(c,f,d){var a;if(f){if(va)return va.call(f,c,d);a=f.length;for(d=d?d<0?Math.max(0,a+d):d:0;d<a;d++)if(d in f&&f[d]===c)return d}return-1},merge:function(c,f){var d=c.length,b=0;if(typeof f.length==="number")for(var s=f.length;b<s;b++)c[d++]=f[b];else for(;f[b]!==
a;)c[d++]=f[b++];c.length=d;return c},grep:function(c,f,d){for(var a=[],b,d=!!d,s=0,r=c.length;s<r;s++)b=!!f(c[s],s),d!==b&&a.push(c[s]);return a},map:function(c,d,b){var s,r,o=[],e=0,g=c.length;if(c instanceof f||g!==a&&typeof g==="number"&&(g>0&&c[0]&&c[g-1]||g===0||f.isArray(c)))for(;e<g;e++)s=d(c[e],e,b),s!=null&&(o[o.length]=s);else for(r in c)s=d(c[r],r,b),s!=null&&(o[o.length]=s);return o.concat.apply([],o)},guid:1,proxy:function(c,d){if(typeof d==="string")var b=c[d],d=c,c=b;if(!f.isFunction(c))return a;
var s=ea.call(arguments,2),b=function(){return c.apply(d,s.concat(ea.call(arguments)))};b.guid=c.guid=c.guid||b.guid||f.guid++;return b},access:function(c,d,b,s,r,o){var e=c.length;if(typeof d==="object"){for(var g in d)f.access(c,g,d[g],s,r,b);return c}if(b!==a){s=!o&&s&&f.isFunction(b);for(g=0;g<e;g++)r(c[g],d,s?b.call(c[g],g,r(c[g],d)):b,o);return c}return e?r(c[0],d):a},now:function(){return(new Date).getTime()},uaMatch:function(c){c=c.toLowerCase();c=m.exec(c)||w.exec(c)||G.exec(c)||c.indexOf("compatible")<
0&&z.exec(c)||[];return{browser:c[1]||"",version:c[2]||"0"}},sub:function(){function c(f,d){return new c.fn.init(f,d)}f.extend(!0,c,this);c.superclass=this;c.fn=c.prototype=this();c.fn.constructor=c;c.sub=this.sub;c.fn.init=function(a,b){b&&b instanceof f&&!(b instanceof c)&&(b=c(b));return f.fn.init.call(this,a,b,d)};c.fn.init.prototype=c.fn;var d=c(n);return c},browser:{}});f.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(c,f){y["[object "+f+"]"]=f.toLowerCase()});
v=f.uaMatch(v);if(v.browser)f.browser[v.browser]=!0,f.browser.version=v.version;if(f.browser.webkit)f.browser.safari=!0;g.test("\u00a0")&&(l=/^[\s\xA0]+/,h=/[\s\xA0]+$/);o=f(n);n.addEventListener?ba=function(){n.removeEventListener("DOMContentLoaded",ba,!1);f.ready()}:n.attachEvent&&(ba=function(){n.readyState==="complete"&&(n.detachEvent("onreadystatechange",ba),f.ready())});return f}(),U={};d.Callbacks=function(c){var c=c?U[c]||e(c):{},f=[],b=[],r,o,g,l,h,n=function(a){var b,s,r,o;b=0;for(s=a.length;b<
s;b++)r=a[b],o=d.type(r),o==="array"?n(r):o==="function"&&(!c.unique||!u.has(r))&&f.push(r)},i=function(d,a){a=a||[];r=!c.memory||[d,a];o=!0;h=g||0;g=0;for(l=f.length;f&&h<l;h++)if(f[h].apply(d,a)===!1&&c.stopOnFalse){r=!0;break}o=!1;f&&(c.once?r===!0?u.disable():f=[]:b&&b.length&&(r=b.shift(),u.fireWith(r[0],r[1])))},u={add:function(){if(f){var c=f.length;n(arguments);o?l=f.length:r&&r!==!0&&(g=c,i(r[0],r[1]))}return this},remove:function(){if(f)for(var d=arguments,a=0,b=d.length;a<b;a++)for(var s=
0;s<f.length;s++)if(d[a]===f[s]&&(o&&s<=l&&(l--,s<=h&&h--),f.splice(s--,1),c.unique))break;return this},has:function(c){if(f)for(var d=0,a=f.length;d<a;d++)if(c===f[d])return!0;return!1},empty:function(){f=[];return this},disable:function(){f=b=r=a;return this},disabled:function(){return!f},lock:function(){b=a;(!r||r===!0)&&u.disable();return this},locked:function(){return!b},fireWith:function(f,d){b&&(o?c.once||b.push([f,d]):(!c.once||!r)&&i(f,d));return this},fire:function(){u.fireWith(this,arguments);
return this},fired:function(){return!!r}};return u};var K=[].slice;d.extend({Deferred:function(c){var f=d.Callbacks("once memory"),a=d.Callbacks("once memory"),b=d.Callbacks("memory"),o="pending",e={resolve:f,reject:a,notify:b},g={done:f.add,fail:a.add,progress:b.add,state:function(){return o},isResolved:f.fired,isRejected:a.fired,then:function(c,f,d){l.done(c).fail(f).progress(d);return this},always:function(){l.done.apply(l,arguments).fail.apply(l,arguments);return this},pipe:function(c,f,a){return d.Deferred(function(b){d.each({done:[c,
"resolve"],fail:[f,"reject"],progress:[a,"notify"]},function(c,f){var a=f[0],s=f[1],r;if(d.isFunction(a))l[c](function(){if((r=a.apply(this,arguments))&&d.isFunction(r.promise))r.promise().then(b.resolve,b.reject,b.notify);else b[s+"With"](this===l?b:this,[r])});else l[c](b[s])})}).promise()},promise:function(c){if(c==null)c=g;else for(var f in g)c[f]=g[f];return c}},l=g.promise({}),h;for(h in e)l[h]=e[h].fire,l[h+"With"]=e[h].fireWith;l.done(function(){o="resolved"},a.disable,b.lock).fail(function(){o=
"rejected"},f.disable,b.lock);c&&c.call(l,l);return l},when:function(c){function f(c){return function(f){b[c]=arguments.length>1?K.call(arguments,0):f;--l||h.resolveWith(h,b)}}function a(c){return function(f){g[c]=arguments.length>1?K.call(arguments,0):f;h.notifyWith(n,g)}}var b=K.call(arguments,0),o=0,e=b.length,g=Array(e),l=e,h=e<=1&&c&&d.isFunction(c.promise)?c:d.Deferred(),n=h.promise();if(e>1){for(;o<e;o++)b[o]&&b[o].promise&&d.isFunction(b[o].promise)?b[o].promise().then(f(o),h.reject,a(o)):
--l;l||h.resolveWith(h,b)}else h!==c&&h.resolveWith(h,e?[c]:[]);return n}});d.support=function(){var c,f,a,r,o,e,g,l,h=n.createElement("div");h.setAttribute("className","t");h.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";f=h.getElementsByTagName("*");a=h.getElementsByTagName("a")[0];if(!f||!f.length||!a)return{};r=n.createElement("select");o=r.appendChild(n.createElement("option"));f=h.getElementsByTagName("input")[0];c={leadingWhitespace:h.firstChild.nodeType===
3,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(a.getAttribute("style")),hrefNormalized:a.getAttribute("href")==="/a",opacity:/^0.55/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,checkOn:f.value==="on",optSelected:o.selected,getSetAttribute:h.className!=="t",enctype:!!n.createElement("form").enctype,html5Clone:n.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,
deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0};f.checked=!0;c.noCloneChecked=f.cloneNode(!0).checked;r.disabled=!0;c.optDisabled=!o.disabled;try{delete h.test}catch(i){c.deleteExpando=!1}!h.addEventListener&&h.attachEvent&&h.fireEvent&&(h.attachEvent("onclick",function(){c.noCloneEvent=!1}),h.cloneNode(!0).fireEvent("onclick"));f=n.createElement("input");f.value="t";f.setAttribute("type","radio");c.radioValue=f.value==="t";f.setAttribute("checked",
"checked");h.appendChild(f);a=n.createDocumentFragment();a.appendChild(h.lastChild);c.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;c.appendChecked=f.checked;a.removeChild(f);a.appendChild(h);h.innerHTML="";if(b.getComputedStyle)f=n.createElement("div"),f.style.width="0",f.style.marginRight="0",h.style.width="2px",h.appendChild(f),c.reliableMarginRight=(parseInt((b.getComputedStyle(f,null)||{marginRight:0}).marginRight,10)||0)===0;if(h.attachEvent)for(g in{submit:1,change:1,focusin:1})f=
"on"+g,l=f in h,l||(h.setAttribute(f,"return;"),l=typeof h[f]==="function"),c[g+"Bubbles"]=l;a.removeChild(h);a=r=o=f=h=f=null;d(function(){var f,a,b,s,r=n.getElementsByTagName("body")[0];if(r){f=n.createElement("div");f.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";r.insertBefore(f,r.firstChild);h=n.createElement("div");f.appendChild(h);h.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";e=h.getElementsByTagName("td");
l=e[0].offsetHeight===0;e[0].style.display="";e[1].style.display="none";c.reliableHiddenOffsets=l&&e[0].offsetHeight===0;h.innerHTML="";h.style.width=h.style.paddingLeft="1px";d.boxModel=c.boxModel=h.offsetWidth===2;if(typeof h.style.zoom!=="undefined")h.style.display="inline",h.style.zoom=1,c.inlineBlockNeedsLayout=h.offsetWidth===2,h.style.display="",h.innerHTML="<div style='width:4px;'></div>",c.shrinkWrapBlocks=h.offsetWidth!==2;h.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;visibility:hidden;border:0;";
h.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;'><div></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";a=h.firstChild;b=a.firstChild;s={doesNotAddBorder:b.offsetTop!==5,doesAddBorderForTableAndCells:a.nextSibling.firstChild.firstChild.offsetTop===5};b.style.position="fixed";b.style.top="20px";s.fixedPosition=
b.offsetTop===20||b.offsetTop===15;b.style.position=b.style.top="";a.style.overflow="hidden";a.style.position="relative";s.subtractsBorderForOverflowNotVisible=b.offsetTop===-5;s.doesNotIncludeMarginInBodyOffset=r.offsetTop!==1;r.removeChild(f);h=null;d.extend(c,s)}});return c}();var S=/^(?:\{.*\}|\[.*\])$/,V=/([A-Z])/g;d.extend({cache:{},uuid:0,expando:"jQuery"+(d.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(c){c=
c.nodeType?d.cache[c[d.expando]]:c[d.expando];return!!c&&!m(c)},data:function(c,f,b,r){if(d.acceptData(c)){var o;o=d.expando;var e=typeof f==="string",g=c.nodeType,h=g?d.cache:c,l=g?c[o]:c[o]&&o,n=f==="events";if(l&&h[l]&&(n||r||h[l].data)||!(e&&b===a)){l||(g?c[o]=l=++d.uuid:l=o);if(!h[l]&&(h[l]={},!g))h[l].toJSON=d.noop;if(typeof f==="object"||typeof f==="function")r?h[l]=d.extend(h[l],f):h[l].data=d.extend(h[l].data,f);o=c=h[l];if(!r){if(!c.data)c.data={};c=c.data}b!==a&&(c[d.camelCase(f)]=b);if(n&&
!c[f])return o.events;e?(b=c[f],b==null&&(b=c[d.camelCase(f)])):b=c;return b}}},removeData:function(c,f,a){if(d.acceptData(c)){var b,o,e,g=d.expando,h=c.nodeType,l=h?d.cache:c,n=h?c[g]:g;if(l[n]){if(f&&(b=a?l[n]:l[n].data)){d.isArray(f)||(f in b?f=[f]:(f=d.camelCase(f),f=f in b?[f]:f.split(" ")));o=0;for(e=f.length;o<e;o++)delete b[f[o]];if(!(a?m:d.isEmptyObject)(b))return}if(!a&&(delete l[n].data,!m(l[n])))return;d.support.deleteExpando||!l.setInterval?delete l[n]:l[n]=null;h&&(d.support.deleteExpando?
delete c[g]:c.removeAttribute?c.removeAttribute(g):c[g]=null)}}},_data:function(c,f,a){return d.data(c,f,a,!0)},acceptData:function(c){if(c.nodeName){var f=d.noData[c.nodeName.toLowerCase()];if(f)return!(f===!0||c.getAttribute("classid")!==f)}return!0}});d.fn.extend({data:function(c,f){var b,r,o,e=null;if(typeof c==="undefined"){if(this.length&&(e=d.data(this[0]),this[0].nodeType===1&&!d._data(this[0],"parsedAttrs"))){r=this[0].attributes;for(var g=0,h=r.length;g<h;g++)o=r[g].name,o.indexOf("data-")===
0&&(o=d.camelCase(o.substring(5)),i(this[0],o,e[o]));d._data(this[0],"parsedAttrs",!0)}return e}else if(typeof c==="object")return this.each(function(){d.data(this,c)});b=c.split(".");b[1]=b[1]?"."+b[1]:"";return f===a?(e=this.triggerHandler("getData"+b[1]+"!",[b[0]]),e===a&&this.length&&(e=d.data(this[0],c),e=i(this[0],c,e)),e===a&&b[1]?this.data(b[0]):e):this.each(function(){var a=d(this),r=[b[0],f];a.triggerHandler("setData"+b[1]+"!",r);d.data(this,c,f);a.triggerHandler("changeData"+b[1]+"!",r)})},
removeData:function(c){return this.each(function(){d.removeData(this,c)})}});d.extend({_mark:function(c,f){c&&(f=(f||"fx")+"mark",d._data(c,f,(d._data(c,f)||0)+1))},_unmark:function(c,f,a){c!==!0&&(a=f,f=c,c=!1);if(f){var a=a||"fx",b=a+"mark";(c=c?0:(d._data(f,b)||1)-1)?d._data(f,b,c):(d.removeData(f,b,!0),k(f,a,"mark"))}},queue:function(c,f,a){var b;if(c)return f=(f||"fx")+"queue",b=d._data(c,f),a&&(!b||d.isArray(a)?b=d._data(c,f,d.makeArray(a)):b.push(a)),b||[]},dequeue:function(c,f){var f=f||"fx",
a=d.queue(c,f),b=a.shift(),o={};b==="inprogress"&&(b=a.shift());b&&(f==="fx"&&a.unshift("inprogress"),d._data(c,f+".run",o),b.call(c,function(){d.dequeue(c,f)},o));a.length||(d.removeData(c,f+"queue "+f+".run",!0),k(c,f,"queue"))}});d.fn.extend({queue:function(c,f){typeof c!=="string"&&(f=c,c="fx");return f===a?d.queue(this[0],c):this.each(function(){var a=d.queue(this,c,f);c==="fx"&&a[0]!=="inprogress"&&d.dequeue(this,c)})},dequeue:function(c){return this.each(function(){d.dequeue(this,c)})},delay:function(c,
f){c=d.fx?d.fx.speeds[c]||c:c;return this.queue(f||"fx",function(f,d){var a=setTimeout(f,c);d.stop=function(){clearTimeout(a)}})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c){function f(){--e||b.resolveWith(r,[r])}typeof c!=="string"&&(c=a);var c=c||"fx",b=d.Deferred(),r=this,o=r.length,e=1,g=c+"defer",h=c+"queue";c+="mark";for(var l;o--;)if(l=d.data(r[o],g,a,!0)||(d.data(r[o],h,a,!0)||d.data(r[o],c,a,!0))&&d.data(r[o],g,d.Callbacks("once memory"),!0))e++,l.add(f);f();
return b.promise()}});var l=/[\n\t\r]/g,u=/\s+/,w=/\r/g,G=/^(?:button|input)$/i,P=/^(?:button|input|object|select|textarea)$/i,ha=/^a(?:rea)?$/i,ca=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,wa=d.support.getSetAttribute,L,xa,ya;d.fn.extend({attr:function(c,f){return d.access(this,c,f,!0,d.attr)},removeAttr:function(c){return this.each(function(){d.removeAttr(this,c)})},prop:function(c,f){return d.access(this,c,f,!0,
d.prop)},removeProp:function(c){c=d.propFix[c]||c;return this.each(function(){try{this[c]=a,delete this[c]}catch(f){}})},addClass:function(c){var f,a,b,o,e,g,h;if(d.isFunction(c))return this.each(function(f){d(this).addClass(c.call(this,f,this.className))});if(c&&typeof c==="string"){f=c.split(u);a=0;for(b=this.length;a<b;a++)if(o=this[a],o.nodeType===1)if(!o.className&&f.length===1)o.className=c;else{e=" "+o.className+" ";g=0;for(h=f.length;g<h;g++)~e.indexOf(" "+f[g]+" ")||(e+=f[g]+" ");o.className=
d.trim(e)}}return this},removeClass:function(c){var f,b,r,o,e,g,h;if(d.isFunction(c))return this.each(function(f){d(this).removeClass(c.call(this,f,this.className))});if(c&&typeof c==="string"||c===a){f=(c||"").split(u);b=0;for(r=this.length;b<r;b++)if(o=this[b],o.nodeType===1&&o.className)if(c){e=(" "+o.className+" ").replace(l," ");g=0;for(h=f.length;g<h;g++)e=e.replace(" "+f[g]+" "," ");o.className=d.trim(e)}else o.className=""}return this},toggleClass:function(c,f){var a=typeof c,b=typeof f===
"boolean";return d.isFunction(c)?this.each(function(a){d(this).toggleClass(c.call(this,a,this.className,f),f)}):this.each(function(){if(a==="string")for(var e,g=0,h=d(this),l=f,n=c.split(u);e=n[g++];)l=b?l:!h.hasClass(e),h[l?"addClass":"removeClass"](e);else if(a==="undefined"||a==="boolean")this.className&&d._data(this,"__className__",this.className),this.className=this.className||c===!1?"":d._data(this,"__className__")||""})},hasClass:function(c){for(var c=" "+c+" ",f=0,d=this.length;f<d;f++)if(this[f].nodeType===
1&&(" "+this[f].className+" ").replace(l," ").indexOf(c)>-1)return!0;return!1},val:function(c){var f,b,r,e=this[0];if(arguments.length)return r=d.isFunction(c),this.each(function(b){var s=d(this);if(this.nodeType===1&&(b=r?c.call(this,b,s.val()):c,b==null?b="":typeof b==="number"?b+="":d.isArray(b)&&(b=d.map(b,function(c){return c==null?"":c+""})),f=d.valHooks[this.nodeName.toLowerCase()]||d.valHooks[this.type],!f||!("set"in f)||f.set(this,b,"value")===a))this.value=b});else if(e){if((f=d.valHooks[e.nodeName.toLowerCase()]||
d.valHooks[e.type])&&"get"in f&&(b=f.get(e,"value"))!==a)return b;b=e.value;return typeof b==="string"?b.replace(w,""):b==null?"":b}}});d.extend({valHooks:{option:{get:function(c){var f=c.attributes.value;return!f||f.specified?c.value:c.text}},select:{get:function(c){var f,a,b=c.selectedIndex,e=[],g=c.options,h=c.type==="select-one";if(b<0)return null;c=h?b:0;for(a=h?b+1:g.length;c<a;c++)if(f=g[c],f.selected&&(d.support.optDisabled?!f.disabled:f.getAttribute("disabled")===null)&&(!f.parentNode.disabled||
!d.nodeName(f.parentNode,"optgroup"))){f=d(f).val();if(h)return f;e.push(f)}return h&&!e.length&&g.length?d(g[b]).val():e},set:function(c,f){var a=d.makeArray(f);d(c).find("option").each(function(){this.selected=d.inArray(d(this).val(),a)>=0});if(!a.length)c.selectedIndex=-1;return a}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(c,f,b,e){var g,h,l=c.nodeType;if(c&&!(l===3||l===8||l===2)){if(e&&f in d.attrFn)return d(c)[f](b);if(typeof c.getAttribute===
"undefined")return d.prop(c,f,b);if(e=l!==1||!d.isXMLDoc(c))f=f.toLowerCase(),h=d.attrHooks[f]||(ca.test(f)?xa:L);if(b!==a)if(b===null)d.removeAttr(c,f);else return h&&"set"in h&&e&&(g=h.set(c,b,f))!==a?g:(c.setAttribute(f,""+b),b);else return h&&"get"in h&&e&&(g=h.get(c,f))!==null?g:(g=c.getAttribute(f),g===null?a:g)}},removeAttr:function(c,f){var a,b,e,g,h=0;if(f&&c.nodeType===1){b=f.toLowerCase().split(u);for(g=b.length;h<g;h++)if(e=b[h])a=d.propFix[e]||e,d.attr(c,e,""),c.removeAttribute(wa?e:
a),ca.test(e)&&a in c&&(c[a]=!1)}},attrHooks:{type:{set:function(c,f){if(G.test(c.nodeName)&&c.parentNode)d.error("type property can't be changed");else if(!d.support.radioValue&&f==="radio"&&d.nodeName(c,"input")){var a=c.value;c.setAttribute("type",f);if(a)c.value=a;return f}}},value:{get:function(c,f){return L&&d.nodeName(c,"button")?L.get(c,f):f in c?c.value:null},set:function(c,f,a){if(L&&d.nodeName(c,"button"))return L.set(c,f,a);c.value=f}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",
"for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(c,f,b){var e,g,h=c.nodeType;if(c&&!(h===3||h===8||h===2)){if(h!==1||!d.isXMLDoc(c))f=d.propFix[f]||f,g=d.propHooks[f];return b!==a?g&&"set"in g&&(e=g.set(c,b,f))!==a?e:c[f]=b:g&&"get"in g&&(e=g.get(c,f))!==null?e:c[f]}},propHooks:{tabIndex:{get:function(c){var f=c.getAttributeNode("tabindex");
return f&&f.specified?parseInt(f.value,10):P.test(c.nodeName)||ha.test(c.nodeName)&&c.href?0:a}}}});d.attrHooks.tabindex=d.propHooks.tabIndex;xa={get:function(c,f){var b,e=d.prop(c,f);return e===!0||typeof e!=="boolean"&&(b=c.getAttributeNode(f))&&b.nodeValue!==!1?f.toLowerCase():a},set:function(c,f,a){f===!1?d.removeAttr(c,a):(f=d.propFix[a]||a,f in c&&(c[f]=!0),c.setAttribute(a,a.toLowerCase()));return a}};if(!wa)ya={name:!0,id:!0},L=d.valHooks.button={get:function(c,f){var d;return(d=c.getAttributeNode(f))&&
(ya[f]?d.nodeValue!=="":d.specified)?d.nodeValue:a},set:function(c,f,d){var a=c.getAttributeNode(d);a||(a=n.createAttribute(d),c.setAttributeNode(a));return a.nodeValue=f+""}},d.attrHooks.tabindex.set=L.set,d.each(["width","height"],function(c,f){d.attrHooks[f]=d.extend(d.attrHooks[f],{set:function(c,d){if(d==="")return c.setAttribute(f,"auto"),d}})}),d.attrHooks.contenteditable={get:L.get,set:function(c,f,d){f===""&&(f="false");L.set(c,f,d)}};d.support.hrefNormalized||d.each(["href","src","width",
"height"],function(c,f){d.attrHooks[f]=d.extend(d.attrHooks[f],{get:function(c){c=c.getAttribute(f,2);return c===null?a:c}})});if(!d.support.style)d.attrHooks.style={get:function(c){return c.style.cssText.toLowerCase()||a},set:function(c,f){return c.style.cssText=""+f}};if(!d.support.optSelected)d.propHooks.selected=d.extend(d.propHooks.selected,{get:function(){return null}});if(!d.support.enctype)d.propFix.enctype="encoding";d.support.checkOn||d.each(["radio","checkbox"],function(){d.valHooks[this]=
{get:function(c){return c.getAttribute("value")===null?"on":c.value}}});d.each(["radio","checkbox"],function(){d.valHooks[this]=d.extend(d.valHooks[this],{set:function(c,f){if(d.isArray(f))return c.checked=d.inArray(d(c).val(),f)>=0}})});var oa=/^(?:textarea|input|select)$/i,za=/^([^\.]*)?(?:\.(.+))?$/,Za=/\bhover(\.\S+)?\b/,$a=/^key/,ab=/^(?:mouse|contextmenu)|click/,Aa=/^(?:focusinfocus|focusoutblur)$/,bb=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,cb=function(c){if(c=bb.exec(c))c[1]=(c[1]||"").toLowerCase(),
c[3]=c[3]&&RegExp("(?:^|\\s)"+c[3]+"(?:\\s|$)");return c},Ba=function(c){return d.event.special.hover?c:c.replace(Za,"mouseenter$1 mouseleave$1")};d.event={add:function(c,f,b,e,g){var h,l,n,i,u,k,p,j,m;if(!(c.nodeType===3||c.nodeType===8||!f||!b||!(h=d._data(c)))){if(b.handler)p=b,b=p.handler;if(!b.guid)b.guid=d.guid++;n=h.events;if(!n)h.events=n={};l=h.handle;if(!l)h.handle=l=function(c){return typeof d!=="undefined"&&(!c||d.event.triggered!==c.type)?d.event.dispatch.apply(l.elem,arguments):a},l.elem=
c;f=d.trim(Ba(f)).split(" ");for(h=0;h<f.length;h++){i=za.exec(f[h])||[];u=i[1];k=(i[2]||"").split(".").sort();m=d.event.special[u]||{};u=(g?m.delegateType:m.bindType)||u;m=d.event.special[u]||{};i=d.extend({type:u,origType:i[1],data:e,handler:b,guid:b.guid,selector:g,quick:cb(g),namespace:k.join(".")},p);j=n[u];if(!j&&(j=n[u]=[],j.delegateCount=0,!m.setup||m.setup.call(c,e,k,l)===!1))c.addEventListener?c.addEventListener(u,l,!1):c.attachEvent&&c.attachEvent("on"+u,l);if(m.add&&(m.add.call(c,i),!i.handler.guid))i.handler.guid=
b.guid;g?j.splice(j.delegateCount++,0,i):j.push(i);d.event.global[u]=!0}c=null}},global:{},remove:function(c,f,a,b,e){var g=d.hasData(c)&&d._data(c),h,l,n,i,u,m,j,k,p,w;if(g&&(j=g.events)){f=d.trim(Ba(f||"")).split(" ");for(h=0;h<f.length;h++)if(l=za.exec(f[h])||[],n=i=l[1],l=l[2],n){k=d.event.special[n]||{};n=(b?k.delegateType:k.bindType)||n;p=j[n]||[];u=p.length;l=l?RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(m=0;m<p.length;m++)if(w=p[m],(e||i===w.origType)&&(!a||
a.guid===w.guid)&&(!l||l.test(w.namespace))&&(!b||b===w.selector||b==="**"&&w.selector))p.splice(m--,1),w.selector&&p.delegateCount--,k.remove&&k.remove.call(c,w);p.length===0&&u!==p.length&&((!k.teardown||k.teardown.call(c,l)===!1)&&d.removeEvent(c,n,g.handle),delete j[n])}else for(n in j)d.event.remove(c,n+f[h],a,b,!0);if(d.isEmptyObject(j)){if(f=g.handle)f.elem=null;d.removeData(c,["events","handle"],!0)}}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,f,e,g){if(!e||!(e.nodeType===
3||e.nodeType===8)){var h=c.type||c,l=[],n,i,u,k,p;if(!Aa.test(h+d.event.triggered)&&(h.indexOf("!")>=0&&(h=h.slice(0,-1),n=!0),h.indexOf(".")>=0&&(l=h.split("."),h=l.shift(),l.sort()),e&&!d.event.customEvent[h]||d.event.global[h]))if(c=typeof c==="object"?c[d.expando]?c:new d.Event(h,c):new d.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=n,c.namespace=l.join("."),c.namespace_re=c.namespace?RegExp("(^|\\.)"+l.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,n=h.indexOf(":")<0?"on"+h:"",e){c.result=a;if(!c.target)c.target=
e;f=f!=null?d.makeArray(f):[];f.unshift(c);u=d.event.special[h]||{};if(!(u.trigger&&u.trigger.apply(e,f)===!1)){p=[[e,u.bindType||h]];if(!g&&!u.noBubble&&!d.isWindow(e)){k=u.delegateType||h;l=Aa.test(k+h)?e:e.parentNode;for(i=null;l;l=l.parentNode)p.push([l,k]),i=l;i&&i===e.ownerDocument&&p.push([i.defaultView||i.parentWindow||b,k])}for(i=0;i<p.length&&!c.isPropagationStopped();i++)l=p[i][0],c.type=p[i][1],(k=(d._data(l,"events")||{})[c.type]&&d._data(l,"handle"))&&k.apply(l,f),(k=n&&l[n])&&d.acceptData(l)&&
k.apply(l,f)===!1&&c.preventDefault();c.type=h;if(!g&&!c.isDefaultPrevented()&&(!u._default||u._default.apply(e.ownerDocument,f)===!1)&&!(h==="click"&&d.nodeName(e,"a"))&&d.acceptData(e))if(n&&e[h]&&(h!=="focus"&&h!=="blur"||c.target.offsetWidth!==0)&&!d.isWindow(e))(i=e[n])&&(e[n]=null),d.event.triggered=h,e[h](),d.event.triggered=a,i&&(e[n]=i);return c.result}}else for(i in e=d.cache,e)e[i].events&&e[i].events[h]&&d.event.trigger(c,f,e[i].handle.elem,!0)}},dispatch:function(c){var c=d.event.fix(c||
b.event),f=(d._data(this,"events")||{})[c.type]||[],e=f.delegateCount,h=[].slice.call(arguments,0),g=!c.exclusive&&!c.namespace,l=[],n,i,u,k,p,m,j;h[0]=c;c.delegateTarget=this;if(e&&!c.target.disabled&&!(c.button&&c.type==="click")){u=d(this);u.context=this.ownerDocument||this;for(i=c.target;i!=this;i=i.parentNode||this){p={};m=[];u[0]=i;for(n=0;n<e;n++){k=f[n];j=k.selector;if(p[j]===a){var w=p,Q=j,G;if(k.quick){G=k.quick;var z=i.attributes||{};G=(!G[1]||i.nodeName.toLowerCase()===G[1])&&(!G[2]||
(z.id||{}).value===G[2])&&(!G[3]||G[3].test((z["class"]||{}).value))}else G=u.is(j);w[Q]=G}p[j]&&m.push(k)}m.length&&l.push({elem:i,matches:m})}}f.length>e&&l.push({elem:this,matches:f.slice(e)});for(n=0;n<l.length&&!c.isPropagationStopped();n++){e=l[n];c.currentTarget=e.elem;for(f=0;f<e.matches.length&&!c.isImmediatePropagationStopped();f++)if(k=e.matches[f],g||!c.namespace&&!k.namespace||c.namespace_re&&c.namespace_re.test(k.namespace))if(c.data=k.data,c.handleObj=k,k=((d.event.special[k.origType]||
{}).handle||k.handler).apply(e.elem,h),k!==a)c.result=k,k===!1&&(c.preventDefault(),c.stopPropagation())}return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(c,f){if(c.which==null)c.which=f.charCode!=null?f.charCode:f.keyCode;return c}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(c,f){var d,b,e=f.button,h=f.fromElement;if(c.pageX==null&&f.clientX!=null)d=c.target.ownerDocument||n,b=d.documentElement,d=d.body,c.pageX=f.clientX+(b&&b.scrollLeft||d&&d.scrollLeft||0)-(b&&b.clientLeft||d&&d.clientLeft||0),c.pageY=f.clientY+(b&&b.scrollTop||d&&d.scrollTop||0)-(b&&b.clientTop||d&&d.clientTop||0);if(!c.relatedTarget&&h)c.relatedTarget=h===c.target?f.toElement:h;if(!c.which&&e!==a)c.which=e&1?1:e&2?3:e&4?2:0;return c}},fix:function(c){if(c[d.expando])return c;var f,
b,e=c,h=d.event.fixHooks[c.type]||{},g=h.props?this.props.concat(h.props):this.props,c=d.Event(e);for(f=g.length;f;)b=g[--f],c[b]=e[b];if(!c.target)c.target=e.srcElement||n;if(c.target.nodeType===3)c.target=c.target.parentNode;if(c.metaKey===a)c.metaKey=c.ctrlKey;return h.filter?h.filter(c,e):c},special:{ready:{setup:d.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(c,f,a){if(d.isWindow(this))this.onbeforeunload=a},teardown:function(c,
f){if(this.onbeforeunload===f)this.onbeforeunload=null}}},simulate:function(c,f,a,b){c=d.extend(new d.Event,a,{type:c,isSimulated:!0,originalEvent:{}});b?d.event.trigger(c,null,f):d.event.dispatch.call(f,c);c.isDefaultPrevented()&&a.preventDefault()}};d.event.handle=d.event.dispatch;d.removeEvent=n.removeEventListener?function(c,f,d){c.removeEventListener&&c.removeEventListener(f,d,!1)}:function(c,f,d){c.detachEvent&&c.detachEvent("on"+f,d)};d.Event=function(c,f){if(!(this instanceof d.Event))return new d.Event(c,
f);c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||c.returnValue===!1||c.getPreventDefault&&c.getPreventDefault()?t:q):this.type=c;f&&d.extend(this,f);this.timeStamp=c&&c.timeStamp||d.now();this[d.expando]=!0};d.Event.prototype={preventDefault:function(){this.isDefaultPrevented=t;var c=this.originalEvent;if(c)c.preventDefault?c.preventDefault():c.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=t;var c=this.originalEvent;if(c)c.stopPropagation&&
c.stopPropagation(),c.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=t;this.stopPropagation()},isDefaultPrevented:q,isPropagationStopped:q,isImmediatePropagationStopped:q};d.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(c,f){d.event.special[c]={delegateType:f,bindType:f,handle:function(c){var a=c.relatedTarget,b=c.handleObj,e;if(!a||a!==this&&!d.contains(this,a))c.type=b.origType,e=b.handler.apply(this,arguments),c.type=f;return e}}});if(!d.support.submitBubbles)d.event.special.submit=
{setup:function(){if(d.nodeName(this,"form"))return!1;d.event.add(this,"click._submit keypress._submit",function(c){c=c.target;if((c=d.nodeName(c,"input")||d.nodeName(c,"button")?c.form:a)&&!c._submit_attached)d.event.add(c,"submit._submit",function(c){this.parentNode&&!c.isTrigger&&d.event.simulate("submit",this.parentNode,c,!0)}),c._submit_attached=!0})},teardown:function(){if(d.nodeName(this,"form"))return!1;d.event.remove(this,"._submit")}};if(!d.support.changeBubbles)d.event.special.change={setup:function(){if(oa.test(this.nodeName)){if(this.type===
"checkbox"||this.type==="radio")d.event.add(this,"propertychange._change",function(c){if(c.originalEvent.propertyName==="checked")this._just_changed=!0}),d.event.add(this,"click._change",function(c){if(this._just_changed&&!c.isTrigger)this._just_changed=!1,d.event.simulate("change",this,c,!0)});return!1}d.event.add(this,"beforeactivate._change",function(c){c=c.target;if(oa.test(c.nodeName)&&!c._change_attached)d.event.add(c,"change._change",function(c){this.parentNode&&!c.isSimulated&&!c.isTrigger&&
d.event.simulate("change",this.parentNode,c,!0)}),c._change_attached=!0})},handle:function(c){var f=c.target;if(this!==f||c.isSimulated||c.isTrigger||f.type!=="radio"&&f.type!=="checkbox")return c.handleObj.handler.apply(this,arguments)},teardown:function(){d.event.remove(this,"._change");return oa.test(this.nodeName)}};d.support.focusinBubbles||d.each({focus:"focusin",blur:"focusout"},function(c,f){var a=0,b=function(c){d.event.simulate(f,c.target,d.event.fix(c),!0)};d.event.special[f]={setup:function(){a++===
0&&n.addEventListener(c,b,!0)},teardown:function(){--a===0&&n.removeEventListener(c,b,!0)}}});d.fn.extend({on:function(c,f,b,e,h){var g,l;if(typeof c==="object"){typeof f!=="string"&&(b=f,f=a);for(l in c)this.on(l,f,b,c[l],h);return this}b==null&&e==null?(e=f,b=f=a):e==null&&(typeof f==="string"?(e=b,b=a):(e=b,b=f,f=a));if(e===!1)e=q;else if(!e)return this;if(h===1)g=e,e=function(c){d().off(c);return g.apply(this,arguments)},e.guid=g.guid||(g.guid=d.guid++);return this.each(function(){d.event.add(this,
c,e,b,f)})},one:function(c,f,d,a){return this.on.call(this,c,f,d,a,1)},off:function(c,f,b){if(c&&c.preventDefault&&c.handleObj){var e=c.handleObj;d(c.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler);return this}if(typeof c==="object"){for(e in c)this.off(e,f,c[e]);return this}if(f===!1||typeof f==="function")b=f,f=a;b===!1&&(b=q);return this.each(function(){d.event.remove(this,c,b,f)})},bind:function(c,f,d){return this.on(c,null,f,d)},unbind:function(c,f){return this.off(c,
null,f)},live:function(c,f,a){d(this.context).on(c,this.selector,f,a);return this},die:function(c,f){d(this.context).off(c,this.selector||"**",f);return this},delegate:function(c,f,d,a){return this.on(f,c,d,a)},undelegate:function(c,f,d){return arguments.length==1?this.off(c,"**"):this.off(f,c,d)},trigger:function(c,f){return this.each(function(){d.event.trigger(c,f,this)})},triggerHandler:function(c,f){if(this[0])return d.event.trigger(c,f,this[0],!0)},toggle:function(c){var f=arguments,a=c.guid||
d.guid++,b=0,e=function(a){var e=(d._data(this,"lastToggle"+c.guid)||0)%b;d._data(this,"lastToggle"+c.guid,e+1);a.preventDefault();return f[e].apply(this,arguments)||!1};for(e.guid=a;b<f.length;)f[b++].guid=a;return this.click(e)},hover:function(c,f){return this.mouseenter(c).mouseleave(f||c)}});d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(c,f){d.fn[f]=function(c,d){d==null&&(d=c,c=null);return arguments.length>0?this.on(f,null,c,d):this.trigger(f)};d.attrFn&&(d.attrFn[f]=!0);if($a.test(f))d.event.fixHooks[f]=d.event.keyHooks;if(ab.test(f))d.event.fixHooks[f]=d.event.mouseHooks});(function(){function c(c,f,d,a,b,h){for(var b=0,g=a.length;b<g;b++){var l=a[b];if(l){for(var n=!1,l=l[c];l;){if(l[e]===d){n=a[l.sizset];break}if(l.nodeType===1&&!h)l[e]=d,l.sizset=b;if(l.nodeName.toLowerCase()===f){n=l;break}l=l[c]}a[b]=n}}}function f(c,
f,d,a,b,h){for(var b=0,g=a.length;b<g;b++){var l=a[b];if(l){for(var n=!1,l=l[c];l;){if(l[e]===d){n=a[l.sizset];break}if(l.nodeType===1){if(!h)l[e]=d,l.sizset=b;if(typeof f!=="string"){if(l===f){n=!0;break}}else if(j.filter(f,[l]).length>0){n=l;break}}l=l[c]}a[b]=n}}}var b=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e="sizcache"+(Math.random()+"").replace(".",""),h=0,g=Object.prototype.toString,l=!1,i=!0,u=/\\/g,
k=/\r\n/g,p=/\W/;[0,0].sort(function(){i=!1;return 0});var j=function(c,f,d,a){var d=d||[],e=f=f||n;if(f.nodeType!==1&&f.nodeType!==9)return[];if(!c||typeof c!=="string")return d;var h,l,r,o,i,u=!0,k=j.isXML(f),p=[],m=c;do if(b.exec(""),h=b.exec(m))if(m=h[3],p.push(h[1]),h[2]){o=h[3];break}while(h);if(p.length>1&&Q.exec(c))if(p.length===2&&w.relative[p[0]])l=P(p[0]+p[1],f,a);else for(l=w.relative[p[0]]?[f]:j(p.shift(),f);p.length;)c=p.shift(),w.relative[c]&&(c+=p.shift()),l=P(c,l,a);else if(!a&&p.length>
1&&f.nodeType===9&&!k&&w.match.ID.test(p[0])&&!w.match.ID.test(p[p.length-1])&&(h=j.find(p.shift(),f,k),f=h.expr?j.filter(h.expr,h.set)[0]:h.set[0]),f){h=a?{expr:p.pop(),set:x(a)}:j.find(p.pop(),p.length===1&&(p[0]==="~"||p[0]==="+")&&f.parentNode?f.parentNode:f,k);l=h.expr?j.filter(h.expr,h.set):h.set;for(p.length>0?r=x(l):u=!1;p.length;)h=i=p.pop(),w.relative[i]?h=p.pop():i="",h==null&&(h=f),w.relative[i](r,h,k)}else r=[];r||(r=l);r||j.error(i||c);if(g.call(r)==="[object Array]")if(u)if(f&&f.nodeType===
1)for(c=0;r[c]!=null;c++)r[c]&&(r[c]===!0||r[c].nodeType===1&&j.contains(f,r[c]))&&d.push(l[c]);else for(c=0;r[c]!=null;c++)r[c]&&r[c].nodeType===1&&d.push(l[c]);else d.push.apply(d,r);else x(r,d);o&&(j(o,e,d,a),j.uniqueSort(d));return d};j.uniqueSort=function(c){if(q&&(l=i,c.sort(q),l))for(var f=1;f<c.length;f++)c[f]===c[f-1]&&c.splice(f--,1);return c};j.matches=function(c,f){return j(c,null,null,f)};j.matchesSelector=function(c,f){return j(f,null,null,[c]).length>0};j.find=function(c,f,d){var a,
b,e,h,l,g;if(!c)return[];b=0;for(e=w.order.length;b<e;b++)if(l=w.order[b],h=w.leftMatch[l].exec(c))if(g=h[1],h.splice(1,1),g.substr(g.length-1)!=="\\"&&(h[1]=(h[1]||"").replace(u,""),a=w.find[l](h,f,d),a!=null)){c=c.replace(w.match[l],"");break}a||(a=typeof f.getElementsByTagName!=="undefined"?f.getElementsByTagName("*"):[]);return{set:a,expr:c}};j.filter=function(c,f,d,b){for(var e,h,l,g,r,n,o,s,i=c,u=[],p=f,k=f&&f[0]&&j.isXML(f[0]);c&&f.length;){for(l in w.filter)if((e=w.leftMatch[l].exec(c))!=
null&&e[2])if(n=w.filter[l],r=e[1],h=!1,e.splice(1,1),r.substr(r.length-1)!=="\\"){p===u&&(u=[]);if(w.preFilter[l])if(e=w.preFilter[l](e,p,d,u,b,k)){if(e===!0)continue}else h=g=!0;if(e)for(o=0;(r=p[o])!=null;o++)r&&(g=n(r,e,o,p),s=b^g,d&&g!=null?s?h=!0:p[o]=!1:s&&(u.push(r),h=!0));if(g!==a){d||(p=u);c=c.replace(w.match[l],"");if(!h)return[];break}}if(c===i)if(h==null)j.error(c);else break;i=c}return p};j.error=function(c){throw Error("Syntax error, unrecognized expression: "+c);};var m=j.getText=
function(c){var f,d;f=c.nodeType;var a="";if(f)if(f===1||f===9)if(typeof c.textContent==="string")return c.textContent;else if(typeof c.innerText==="string")return c.innerText.replace(k,"");else for(c=c.firstChild;c;c=c.nextSibling)a+=m(c);else{if(f===3||f===4)return c.nodeValue}else for(f=0;d=c[f];f++)d.nodeType!==8&&(a+=m(d));return a},w=j.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,
ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(c){return c.getAttribute("href")},
type:function(c){return c.getAttribute("type")}},relative:{"+":function(c,f){var d=typeof f==="string",a=d&&!p.test(f),d=d&&!a;a&&(f=f.toLowerCase());for(var a=0,b=c.length,e;a<b;a++)if(e=c[a]){for(;(e=e.previousSibling)&&e.nodeType!==1;);c[a]=d||e&&e.nodeName.toLowerCase()===f?e||!1:e===f}d&&j.filter(f,c,!0)},">":function(c,f){var d,a=typeof f==="string",b=0,e=c.length;if(a&&!p.test(f))for(f=f.toLowerCase();b<e;b++){if(d=c[b])d=d.parentNode,c[b]=d.nodeName.toLowerCase()===f?d:!1}else{for(;b<e;b++)(d=
c[b])&&(c[b]=a?d.parentNode:d.parentNode===f);a&&j.filter(f,c,!0)}},"":function(d,a,b){var e,l=h++,g=f;typeof a==="string"&&!p.test(a)&&(e=a=a.toLowerCase(),g=c);g("parentNode",a,l,d,e,b)},"~":function(d,a,b){var e,l=h++,g=f;typeof a==="string"&&!p.test(a)&&(e=a=a.toLowerCase(),g=c);g("previousSibling",a,l,d,e,b)}},find:{ID:function(c,f,d){if(typeof f.getElementById!=="undefined"&&!d)return(c=f.getElementById(c[1]))&&c.parentNode?[c]:[]},NAME:function(c,f){if(typeof f.getElementsByName!=="undefined"){for(var d=
[],a=f.getElementsByName(c[1]),b=0,e=a.length;b<e;b++)a[b].getAttribute("name")===c[1]&&d.push(a[b]);return d.length===0?null:d}},TAG:function(c,f){if(typeof f.getElementsByTagName!=="undefined")return f.getElementsByTagName(c[1])}},preFilter:{CLASS:function(c,f,d,a,b,e){c=" "+c[1].replace(u,"")+" ";if(e)return c;for(var e=0,h;(h=f[e])!=null;e++)h&&(b^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(c)>=0)?d||a.push(h):d&&(f[e]=!1));return!1},ID:function(c){return c[1].replace(u,
"")},TAG:function(c){return c[1].replace(u,"").toLowerCase()},CHILD:function(c){if(c[1]==="nth"){c[2]||j.error(c[0]);c[2]=c[2].replace(/^\+|\s*/g,"");var f=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(c[2]==="even"&&"2n"||c[2]==="odd"&&"2n+1"||!/\D/.test(c[2])&&"0n+"+c[2]||c[2]);c[2]=f[1]+(f[2]||1)-0;c[3]=f[3]-0}else c[2]&&j.error(c[0]);c[0]=h++;return c},ATTR:function(c,f,d,a,b,e){f=c[1]=c[1].replace(u,"");!e&&w.attrMap[f]&&(c[1]=w.attrMap[f]);c[4]=(c[4]||c[5]||"").replace(u,"");c[2]==="~="&&(c[4]=" "+c[4]+
" ");return c},PSEUDO:function(c,f,d,a,e){if(c[1]==="not")if((b.exec(c[3])||"").length>1||/^\w/.test(c[3]))c[3]=j(c[3],null,null,f);else return c=j.filter(c[3],f,d,1^e),d||a.push.apply(a,c),!1;else if(w.match.POS.test(c[0])||w.match.CHILD.test(c[0]))return!0;return c},POS:function(c){c.unshift(!0);return c}},filters:{enabled:function(c){return c.disabled===!1&&c.type!=="hidden"},disabled:function(c){return c.disabled===!0},checked:function(c){return c.checked===!0},selected:function(c){return c.selected===
!0},parent:function(c){return!!c.firstChild},empty:function(c){return!c.firstChild},has:function(c,f,d){return!!j(d[3],c).length},header:function(c){return/h\d/i.test(c.nodeName)},text:function(c){var f=c.getAttribute("type"),d=c.type;return c.nodeName.toLowerCase()==="input"&&"text"===d&&(f===d||f===null)},radio:function(c){return c.nodeName.toLowerCase()==="input"&&"radio"===c.type},checkbox:function(c){return c.nodeName.toLowerCase()==="input"&&"checkbox"===c.type},file:function(c){return c.nodeName.toLowerCase()===
"input"&&"file"===c.type},password:function(c){return c.nodeName.toLowerCase()==="input"&&"password"===c.type},submit:function(c){var f=c.nodeName.toLowerCase();return(f==="input"||f==="button")&&"submit"===c.type},image:function(c){return c.nodeName.toLowerCase()==="input"&&"image"===c.type},reset:function(c){var f=c.nodeName.toLowerCase();return(f==="input"||f==="button")&&"reset"===c.type},button:function(c){var f=c.nodeName.toLowerCase();return f==="input"&&"button"===c.type||f==="button"},input:function(c){return/input|select|textarea|button/i.test(c.nodeName)},
focus:function(c){return c===c.ownerDocument.activeElement}},setFilters:{first:function(c,f){return f===0},last:function(c,f,d,a){return f===a.length-1},even:function(c,f){return f%2===0},odd:function(c,f){return f%2===1},lt:function(c,f,d){return f<d[3]-0},gt:function(c,f,d){return f>d[3]-0},nth:function(c,f,d){return d[3]-0===f},eq:function(c,f,d){return d[3]-0===f}},filter:{PSEUDO:function(c,f,d,a){var b=f[1],e=w.filters[b];if(e)return e(c,d,f,a);else if(b==="contains")return(c.textContent||c.innerText||
m([c])||"").indexOf(f[3])>=0;else if(b==="not"){f=f[3];d=0;for(a=f.length;d<a;d++)if(f[d]===c)return!1;return!0}else j.error(b)},CHILD:function(c,f){var d,a,b,h,l,g;d=f[1];g=c;switch(d){case "only":case "first":for(;g=g.previousSibling;)if(g.nodeType===1)return!1;if(d==="first")return!0;g=c;case "last":for(;g=g.nextSibling;)if(g.nodeType===1)return!1;return!0;case "nth":d=f[2];a=f[3];if(d===1&&a===0)return!0;b=f[0];if((h=c.parentNode)&&(h[e]!==b||!c.nodeIndex)){l=0;for(g=h.firstChild;g;g=g.nextSibling)if(g.nodeType===
1)g.nodeIndex=++l;h[e]=b}g=c.nodeIndex-a;return d===0?g===0:g%d===0&&g/d>=0}},ID:function(c,f){return c.nodeType===1&&c.getAttribute("id")===f},TAG:function(c,f){return f==="*"&&c.nodeType===1||!!c.nodeName&&c.nodeName.toLowerCase()===f},CLASS:function(c,f){return(" "+(c.className||c.getAttribute("class"))+" ").indexOf(f)>-1},ATTR:function(c,f){var d=f[1],d=j.attr?j.attr(c,d):w.attrHandle[d]?w.attrHandle[d](c):c[d]!=null?c[d]:c.getAttribute(d),a=d+"",b=f[2],e=f[4];return d==null?b==="!=":!b&&j.attr?
d!=null:b==="="?a===e:b==="*="?a.indexOf(e)>=0:b==="~="?(" "+a+" ").indexOf(e)>=0:!e?a&&d!==!1:b==="!="?a!==e:b==="^="?a.indexOf(e)===0:b==="$="?a.substr(a.length-e.length)===e:b==="|="?a===e||a.substr(0,e.length+1)===e+"-":!1},POS:function(c,f,d,a){var b=w.setFilters[f[2]];if(b)return b(c,d,f,a)}}},Q=w.match.POS,G=function(c,f){return"\\"+(f-0+1)},z;for(z in w.match)w.match[z]=RegExp(w.match[z].source+/(?![^\[]*\])(?![^\(]*\))/.source),w.leftMatch[z]=RegExp(/(^(?:.|\r|\n)*?)/.source+w.match[z].source.replace(/\\(\d+)/g,
G));var x=function(c,f){c=Array.prototype.slice.call(c,0);return f?(f.push.apply(f,c),f):c};try{Array.prototype.slice.call(n.documentElement.childNodes,0)}catch(J){x=function(c,f){var d=0,a=f||[];if(g.call(c)==="[object Array]")Array.prototype.push.apply(a,c);else if(typeof c.length==="number")for(var b=c.length;d<b;d++)a.push(c[d]);else for(;c[d];d++)a.push(c[d]);return a}}var q,v;n.documentElement.compareDocumentPosition?q=function(c,f){return c===f?(l=!0,0):!c.compareDocumentPosition||!f.compareDocumentPosition?
c.compareDocumentPosition?-1:1:c.compareDocumentPosition(f)&4?-1:1}:(q=function(c,f){if(c===f)return l=!0,0;else if(c.sourceIndex&&f.sourceIndex)return c.sourceIndex-f.sourceIndex;var d,a,b=[],e=[];d=c.parentNode;a=f.parentNode;var h=d;if(d===a)return v(c,f);else if(d){if(!a)return 1}else return-1;for(;h;)b.unshift(h),h=h.parentNode;for(h=a;h;)e.unshift(h),h=h.parentNode;d=b.length;a=e.length;for(h=0;h<d&&h<a;h++)if(b[h]!==e[h])return v(b[h],e[h]);return h===d?v(c,e[h],-1):v(b[h],f,1)},v=function(c,
f,d){if(c===f)return d;for(c=c.nextSibling;c;){if(c===f)return-1;c=c.nextSibling}return 1});(function(){var c=n.createElement("div"),f="script"+(new Date).getTime(),d=n.documentElement;c.innerHTML="<a name='"+f+"'/>";d.insertBefore(c,d.firstChild);if(n.getElementById(f))w.find.ID=function(c,f,d){if(typeof f.getElementById!=="undefined"&&!d)return(f=f.getElementById(c[1]))?f.id===c[1]||typeof f.getAttributeNode!=="undefined"&&f.getAttributeNode("id").nodeValue===c[1]?[f]:a:[]},w.filter.ID=function(c,
f){var d=typeof c.getAttributeNode!=="undefined"&&c.getAttributeNode("id");return c.nodeType===1&&d&&d.nodeValue===f};d.removeChild(c);d=c=null})();(function(){var c=n.createElement("div");c.appendChild(n.createComment(""));if(c.getElementsByTagName("*").length>0)w.find.TAG=function(c,f){var d=f.getElementsByTagName(c[1]);if(c[1]==="*"){for(var a=[],b=0;d[b];b++)d[b].nodeType===1&&a.push(d[b]);d=a}return d};c.innerHTML="<a href='#'></a>";if(c.firstChild&&typeof c.firstChild.getAttribute!=="undefined"&&
c.firstChild.getAttribute("href")!=="#")w.attrHandle.href=function(c){return c.getAttribute("href",2)};c=null})();n.querySelectorAll&&function(){var c=j,f=n.createElement("div");f.innerHTML="<p class='TEST'></p>";if(!(f.querySelectorAll&&f.querySelectorAll(".TEST").length===0)){j=function(f,d,a,b){d=d||n;if(!b&&!j.isXML(d)){var e=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(f);if(e&&(d.nodeType===1||d.nodeType===9))if(e[1])return x(d.getElementsByTagName(f),a);else if(e[2]&&w.find.CLASS&&d.getElementsByClassName)return x(d.getElementsByClassName(e[2]),
a);if(d.nodeType===9){if(f==="body"&&d.body)return x([d.body],a);else if(e&&e[3]){var h=d.getElementById(e[3]);if(h&&h.parentNode){if(h.id===e[3])return x([h],a)}else return x([],a)}try{return x(d.querySelectorAll(f),a)}catch(g){}}else if(d.nodeType===1&&d.nodeName.toLowerCase()!=="object"){var e=d,l=(h=d.getAttribute("id"))||"__sizzle__",r=d.parentNode,o=/^\s*[+~]/.test(f);h?l=l.replace(/'/g,"\\$&"):d.setAttribute("id",l);if(o&&r)d=d.parentNode;try{if(!o||r)return x(d.querySelectorAll("[id='"+l+
"'] "+f),a)}catch(s){}finally{h||e.removeAttribute("id")}}}return c(f,d,a,b)};for(var d in c)j[d]=c[d];f=null}}();(function(){var c=n.documentElement,f=c.matchesSelector||c.mozMatchesSelector||c.webkitMatchesSelector||c.msMatchesSelector;if(f){var d=!f.call(n.createElement("div"),"div"),a=!1;try{f.call(n.documentElement,"[test!='']:sizzle")}catch(b){a=!0}j.matchesSelector=function(c,b){b=b.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!j.isXML(c))try{if(a||!w.match.PSEUDO.test(b)&&!/!=/.test(b)){var e=
f.call(c,b);if(e||!d||c.document&&c.document.nodeType!==11)return e}}catch(h){}return j(b,null,null,[c]).length>0}}})();(function(){var c=n.createElement("div");c.innerHTML="<div class='test e'></div><div class='test'></div>";if(c.getElementsByClassName&&c.getElementsByClassName("e").length!==0&&(c.lastChild.className="e",c.getElementsByClassName("e").length!==1))w.order.splice(1,0,"CLASS"),w.find.CLASS=function(c,f,d){if(typeof f.getElementsByClassName!=="undefined"&&!d)return f.getElementsByClassName(c[1])},
c=null})();j.contains=n.documentElement.contains?function(c,f){return c!==f&&(c.contains?c.contains(f):!0)}:n.documentElement.compareDocumentPosition?function(c,f){return!!(c.compareDocumentPosition(f)&16)}:function(){return!1};j.isXML=function(c){return(c=(c?c.ownerDocument||c:0).documentElement)?c.nodeName!=="HTML":!1};var P=function(c,f,d){for(var a,b=[],e="",f=f.nodeType?[f]:f;a=w.match.PSEUDO.exec(c);)e+=a[0],c=c.replace(w.match.PSEUDO,"");c=w.relative[c]?c+"*":c;a=0;for(var h=f.length;a<h;a++)j(c,
f[a],b,d);return j.filter(e,b)};j.attr=d.attr;j.selectors.attrMap={};d.find=j;d.expr=j.selectors;d.expr[":"]=d.expr.filters;d.unique=j.uniqueSort;d.text=j.getText;d.isXMLDoc=j.isXML;d.contains=j.contains})();var db=/Until$/,eb=/^(?:parents|prevUntil|prevAll)/,fb=/,/,Sa=/^.[^:#\[\.,]*$/,gb=Array.prototype.slice,Ca=d.expr.match.POS,hb={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({find:function(c){var f=this,a,b;if(typeof c!=="string")return d(c).filter(function(){a=0;for(b=f.length;a<b;a++)if(d.contains(f[a],
this))return!0});var e=this.pushStack("","find",c),h,g,l;a=0;for(b=this.length;a<b;a++)if(h=e.length,d.find(c,this[a],e),a>0)for(g=h;g<e.length;g++)for(l=0;l<h;l++)if(e[l]===e[g]){e.splice(g--,1);break}return e},has:function(c){var f=d(c);return this.filter(function(){for(var c=0,a=f.length;c<a;c++)if(d.contains(this,f[c]))return!0})},not:function(c){return this.pushStack(A(this,c,!1),"not",c)},filter:function(c){return this.pushStack(A(this,c,!0),"filter",c)},is:function(c){return!!c&&(typeof c===
"string"?Ca.test(c)?d(c,this.context).index(this[0])>=0:d.filter(c,this).length>0:this.filter(c).length>0)},closest:function(c,f){var a=[],b,e,h=this[0];if(d.isArray(c)){for(e=1;h&&h.ownerDocument&&h!==f;){for(b=0;b<c.length;b++)d(h).is(c[b])&&a.push({selector:c[b],elem:h,level:e});h=h.parentNode;e++}return a}var g=Ca.test(c)||typeof c!=="string"?d(c,f||this.context):0;b=0;for(e=this.length;b<e;b++)for(h=this[b];h;)if(g?g.index(h)>-1:d.find.matchesSelector(h,c)){a.push(h);break}else if(h=h.parentNode,
!h||!h.ownerDocument||h===f||h.nodeType===11)break;a=a.length>1?d.unique(a):a;return this.pushStack(a,"closest",c)},index:function(c){return!c?this[0]&&this[0].parentNode?this.prevAll().length:-1:typeof c==="string"?d.inArray(this[0],d(c)):d.inArray(c.jquery?c[0]:c,this)},add:function(c,f){var a=typeof c==="string"?d(c,f):d.makeArray(c&&c.nodeType?[c]:c),b=d.merge(this.get(),a);return this.pushStack(!a[0]||!a[0].parentNode||a[0].parentNode.nodeType===11||!b[0]||!b[0].parentNode||b[0].parentNode.nodeType===
11?b:d.unique(b))},andSelf:function(){return this.add(this.prevObject)}});d.each({parent:function(c){return(c=c.parentNode)&&c.nodeType!==11?c:null},parents:function(c){return d.dir(c,"parentNode")},parentsUntil:function(c,f,a){return d.dir(c,"parentNode",a)},next:function(c){return d.nth(c,2,"nextSibling")},prev:function(c){return d.nth(c,2,"previousSibling")},nextAll:function(c){return d.dir(c,"nextSibling")},prevAll:function(c){return d.dir(c,"previousSibling")},nextUntil:function(c,f,a){return d.dir(c,
"nextSibling",a)},prevUntil:function(c,f,a){return d.dir(c,"previousSibling",a)},siblings:function(c){return d.sibling(c.parentNode.firstChild,c)},children:function(c){return d.sibling(c.firstChild)},contents:function(c){return d.nodeName(c,"iframe")?c.contentDocument||c.contentWindow.document:d.makeArray(c.childNodes)}},function(c,f){d.fn[c]=function(a,b){var e=d.map(this,f,a);db.test(c)||(b=a);b&&typeof b==="string"&&(e=d.filter(b,e));e=this.length>1&&!hb[c]?d.unique(e):e;if((this.length>1||fb.test(b))&&
eb.test(c))e=e.reverse();return this.pushStack(e,c,gb.call(arguments).join(","))}});d.extend({filter:function(c,f,a){a&&(c=":not("+c+")");return f.length===1?d.find.matchesSelector(f[0],c)?[f[0]]:[]:d.find.matches(c,f)},dir:function(c,f,b){for(var e=[],c=c[f];c&&c.nodeType!==9&&(b===a||c.nodeType!==1||!d(c).is(b));)c.nodeType===1&&e.push(c),c=c[f];return e},nth:function(c,f,d){for(var f=f||1,a=0;c;c=c[d])if(c.nodeType===1&&++a===f)break;return c},sibling:function(c,f){for(var d=[];c;c=c.nextSibling)c.nodeType===
1&&c!==f&&d.push(c);return d}});var sa="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ib=/ jQuery\d+="(?:\d+|null)"/g,pa=/^\s+/,Da=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Ea=/<([\w:]+)/,jb=/<tbody/i,kb=/<|&#?\w+;/,lb=/<(?:script|style)/i,mb=/<(?:script|object|embed|option|style)/i,Fa=RegExp("<(?:"+sa+")","i"),Ga=/checked\s*(?:[^=]|=\s*.checked.)/i,nb=/\/(java|ecma)script/i,
Ta=/^\s*<!(?:\[CDATA\[|\-\-)/,R={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ha=y(n);R.optgroup=R.option;R.tbody=R.tfoot=R.colgroup=R.caption=R.thead;R.th=R.td;if(!d.support.htmlSerialize)R._default=[1,"div<div>","</div>"];
d.fn.extend({text:function(c){return d.isFunction(c)?this.each(function(f){var a=d(this);a.text(c.call(this,f,a.text()))}):typeof c!=="object"&&c!==a?this.empty().append((this[0]&&this[0].ownerDocument||n).createTextNode(c)):d.text(this)},wrapAll:function(c){if(d.isFunction(c))return this.each(function(f){d(this).wrapAll(c.call(this,f))});if(this[0]){var f=d(c,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&f.insertBefore(this[0]);f.map(function(){for(var c=this;c.firstChild&&c.firstChild.nodeType===
1;)c=c.firstChild;return c}).append(this)}return this},wrapInner:function(c){return d.isFunction(c)?this.each(function(f){d(this).wrapInner(c.call(this,f))}):this.each(function(){var f=d(this),a=f.contents();a.length?a.wrapAll(c):f.append(c)})},wrap:function(c){var f=d.isFunction(c);return this.each(function(a){d(this).wrapAll(f?c.call(this,a):c)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,"body")||d(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,
!0,function(c){this.nodeType===1&&this.appendChild(c)})},prepend:function(){return this.domManip(arguments,!0,function(c){this.nodeType===1&&this.insertBefore(c,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(c){this.parentNode.insertBefore(c,this)});else if(arguments.length){var c=d.clean(arguments);c.push.apply(c,this.toArray());return this.pushStack(c,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,
!1,function(c){this.parentNode.insertBefore(c,this.nextSibling)});else if(arguments.length){var c=this.pushStack(this,"after",arguments);c.push.apply(c,d.clean(arguments));return c}},remove:function(c,f){for(var a=0,b;(b=this[a])!=null;a++)if(!c||d.filter(c,[b]).length)!f&&b.nodeType===1&&(d.cleanData(b.getElementsByTagName("*")),d.cleanData([b])),b.parentNode&&b.parentNode.removeChild(b);return this},empty:function(){for(var c=0,f;(f=this[c])!=null;c++)for(f.nodeType===1&&d.cleanData(f.getElementsByTagName("*"));f.firstChild;)f.removeChild(f.firstChild);
return this},clone:function(c,f){c=c==null?!1:c;f=f==null?c:f;return this.map(function(){return d.clone(this,c,f)})},html:function(c){if(c===a)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(ib,""):null;else if(typeof c==="string"&&!lb.test(c)&&(d.support.leadingWhitespace||!pa.test(c))&&!R[(Ea.exec(c)||["",""])[1].toLowerCase()]){c=c.replace(Da,"<$1></$2>");try{for(var f=0,b=this.length;f<b;f++)if(this[f].nodeType===1)d.cleanData(this[f].getElementsByTagName("*")),this[f].innerHTML=
c}catch(e){this.empty().append(c)}}else d.isFunction(c)?this.each(function(f){var a=d(this);a.html(c.call(this,f,a.html()))}):this.empty().append(c);return this},replaceWith:function(c){if(this[0]&&this[0].parentNode){if(d.isFunction(c))return this.each(function(f){var a=d(this),b=a.html();a.replaceWith(c.call(this,f,b))});typeof c!=="string"&&(c=d(c).detach());return this.each(function(){var f=this.nextSibling,a=this.parentNode;d(this).remove();f?d(f).before(c):d(a).append(c)})}else return this.length?
this.pushStack(d(d.isFunction(c)?c():c),"replaceWith",c):this},detach:function(c){return this.remove(c,!0)},domManip:function(c,f,b){var e,h,g,l=c[0],n=[];if(!d.support.checkClone&&arguments.length===3&&typeof l==="string"&&Ga.test(l))return this.each(function(){d(this).domManip(c,f,b,!0)});if(d.isFunction(l))return this.each(function(e){var h=d(this);c[0]=l.call(this,e,f?h.html():a);h.domManip(c,f,b)});if(this[0]){e=l&&l.parentNode;e=d.support.parentNode&&e&&e.nodeType===11&&e.childNodes.length===
this.length?{fragment:e}:d.buildFragment(c,this,n);g=e.fragment;if(h=g.childNodes.length===1?g=g.firstChild:g.firstChild){f=f&&d.nodeName(h,"tr");h=0;for(var i=this.length,u=i-1;h<i;h++)b.call(f?d.nodeName(this[h],"table")?this[h].getElementsByTagName("tbody")[0]||this[h].appendChild(this[h].ownerDocument.createElement("tbody")):this[h]:this[h],e.cacheable||i>1&&h<u?d.clone(g,!0,!0):g)}n.length&&d.each(n,z)}return this}});d.buildFragment=function(c,f,a){var b,e,h,g,l=c[0];f&&f[0]&&(g=f[0].ownerDocument||
f[0]);g.createDocumentFragment||(g=n);if(c.length===1&&typeof l==="string"&&l.length<512&&g===n&&l.charAt(0)==="<"&&!mb.test(l)&&(d.support.checkClone||!Ga.test(l))&&(d.support.html5Clone||!Fa.test(l)))e=!0,(h=d.fragments[l])&&h!==1&&(b=h);b||(b=g.createDocumentFragment(),d.clean(c,g,b,a));e&&(d.fragments[l]=h?b:1);return{fragment:b,cacheable:e}};d.fragments={};d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,f){d.fn[c]=function(a){var b=
[],a=d(a),e=this.length===1&&this[0].parentNode;if(e&&e.nodeType===11&&e.childNodes.length===1&&a.length===1)return a[f](this[0]),this;else{for(var e=0,h=a.length;e<h;e++){var g=(e>0?this.clone(!0):this).get();d(a[e])[f](g);b=b.concat(g)}return this.pushStack(b,c,a.selector)}}});d.extend({clone:function(c,f,a){var b,e,h;d.support.html5Clone||!Fa.test("<"+c.nodeName)?b=c.cloneNode(!0):(b=n.createElement("div"),Ha.appendChild(b),b.innerHTML=c.outerHTML,b=b.firstChild);var l=b;if((!d.support.noCloneEvent||
!d.support.noCloneChecked)&&(c.nodeType===1||c.nodeType===11)&&!d.isXMLDoc(c)){g(c,l);b=F(c);e=F(l);for(h=0;b[h];++h)e[h]&&g(b[h],e[h])}if(f&&(B(c,l),a)){b=F(c);e=F(l);for(h=0;b[h];++h)B(b[h],e[h])}return l},clean:function(c,f,a,b){f=f||n;typeof f.createElement==="undefined"&&(f=f.ownerDocument||f[0]&&f[0].ownerDocument||n);for(var e=[],h,g=0,l;(l=c[g])!=null;g++)if(typeof l==="number"&&(l+=""),l){if(typeof l==="string")if(kb.test(l)){l=l.replace(Da,"<$1></$2>");h=(Ea.exec(l)||["",""])[1].toLowerCase();
var i=R[h]||R._default,u=i[0],j=f.createElement("div");f===n?Ha.appendChild(j):y(f).appendChild(j);for(j.innerHTML=i[1]+l+i[2];u--;)j=j.lastChild;if(!d.support.tbody){u=jb.test(l);i=h==="table"&&!u?j.firstChild&&j.firstChild.childNodes:i[1]==="<table>"&&!u?j.childNodes:[];for(h=i.length-1;h>=0;--h)d.nodeName(i[h],"tbody")&&!i[h].childNodes.length&&i[h].parentNode.removeChild(i[h])}!d.support.leadingWhitespace&&pa.test(l)&&j.insertBefore(f.createTextNode(pa.exec(l)[0]),j.firstChild);l=j.childNodes}else l=
f.createTextNode(l);var k;if(!d.support.appendChecked)if(l[0]&&typeof(k=l.length)==="number")for(h=0;h<k;h++)p(l[h]);else p(l);l.nodeType?e.push(l):e=d.merge(e,l)}if(a){c=function(c){return!c.type||nb.test(c.type)};for(g=0;e[g];g++)b&&d.nodeName(e[g],"script")&&(!e[g].type||e[g].type.toLowerCase()==="text/javascript")?b.push(e[g].parentNode?e[g].parentNode.removeChild(e[g]):e[g]):(e[g].nodeType===1&&(f=d.grep(e[g].getElementsByTagName("script"),c),e.splice.apply(e,[g+1,0].concat(f))),a.appendChild(e[g]))}return e},
cleanData:function(c){for(var f,a,b=d.cache,e=d.event.special,h=d.support.deleteExpando,l=0,g;(g=c[l])!=null;l++)if(!g.nodeName||!d.noData[g.nodeName.toLowerCase()])if(a=g[d.expando]){if((f=b[a])&&f.events){for(var n in f.events)e[n]?d.event.remove(g,n):d.removeEvent(g,n,f.handle);if(f.handle)f.handle.elem=null}h?delete g[d.expando]:g.removeAttribute&&g.removeAttribute(d.expando);delete b[a]}}});var qa=/alpha\([^)]*\)/i,ob=/opacity=([^)]*)/,pb=/([A-Z]|^ms)/g,Ia=/^-?\d+(?:px)?$/i,qb=/^-?\d/,rb=/^([\-+])=([\-+.\de]+)/,
sb={position:"absolute",visibility:"hidden",display:"block"},Ua=["Left","Right"],Va=["Top","Bottom"],Z,Ja,Ka;d.fn.css=function(c,f){return arguments.length===2&&f===a?this:d.access(this,c,f,!0,function(c,f,b){return b!==a?d.style(c,f,b):d.css(c,f)})};d.extend({cssHooks:{opacity:{get:function(c,f){if(f){var d=Z(c,"opacity","opacity");return d===""?"1":d}else return c.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":d.support.cssFloat?
"cssFloat":"styleFloat"},style:function(c,f,b,e){if(c&&!(c.nodeType===3||c.nodeType===8||!c.style)){var h,g=d.camelCase(f),l=c.style,n=d.cssHooks[g],f=d.cssProps[g]||g;if(b!==a){e=typeof b;if(e==="string"&&(h=rb.exec(b)))b=+(h[1]+1)*+h[2]+parseFloat(d.css(c,f)),e="number";if(!(b==null||e==="number"&&isNaN(b)))if(e==="number"&&!d.cssNumber[g]&&(b+="px"),!n||!("set"in n)||(b=n.set(c,b))!==a)try{l[f]=b}catch(i){}}else return n&&"get"in n&&(h=n.get(c,!1,e))!==a?h:l[f]}},css:function(c,f,b){var e,h,f=
d.camelCase(f);h=d.cssHooks[f];f=d.cssProps[f]||f;f==="cssFloat"&&(f="float");if(h&&"get"in h&&(e=h.get(c,!0,b))!==a)return e;else if(Z)return Z(c,f)},swap:function(c,f,d){var a={},b;for(b in f)a[b]=c.style[b],c.style[b]=f[b];d.call(c);for(b in f)c.style[b]=a[b]}});d.curCSS=d.css;d.each(["height","width"],function(c,f){d.cssHooks[f]={get:function(c,a,b){var e;if(a){if(c.offsetWidth!==0)return v(c,f,b);else d.swap(c,sb,function(){e=v(c,f,b)});return e}},set:function(c,f){if(Ia.test(f)){if(f=parseFloat(f),
f>=0)return f+"px"}else return f}}});if(!d.support.opacity)d.cssHooks.opacity={get:function(c,f){return ob.test((f&&c.currentStyle?c.currentStyle.filter:c.style.filter)||"")?parseFloat(RegExp.$1)/100+"":f?"1":""},set:function(c,f){var a=c.style,b=c.currentStyle,e=d.isNumeric(f)?"alpha(opacity="+f*100+")":"",h=b&&b.filter||a.filter||"";a.zoom=1;if(f>=1&&d.trim(h.replace(qa,""))===""&&(a.removeAttribute("filter"),b&&!b.filter))return;a.filter=qa.test(h)?h.replace(qa,e):h+" "+e}};d(function(){if(!d.support.reliableMarginRight)d.cssHooks.marginRight=
{get:function(c,f){var a;d.swap(c,{display:"inline-block"},function(){a=f?Z(c,"margin-right","marginRight"):c.style.marginRight});return a}}});n.defaultView&&n.defaultView.getComputedStyle&&(Ja=function(c,f){var a,b,e,f=f.replace(pb,"-$1").toLowerCase();if((b=c.ownerDocument.defaultView)&&(e=b.getComputedStyle(c,null)))a=e.getPropertyValue(f),a===""&&!d.contains(c.ownerDocument.documentElement,c)&&(a=d.style(c,f));return a});n.documentElement.currentStyle&&(Ka=function(c,f){var a,d,b=c.currentStyle&&
c.currentStyle[f],e=c.style;if(b===null&&e&&(a=e[f]))b=a;if(!Ia.test(b)&&qb.test(b)){a=e.left;if(d=c.runtimeStyle&&c.runtimeStyle.left)c.runtimeStyle.left=c.currentStyle.left;e.left=f==="fontSize"?"1em":b||0;b=e.pixelLeft+"px";e.left=a;if(d)c.runtimeStyle.left=d}return b===""?"auto":b});Z=Ja||Ka;if(d.expr&&d.expr.filters)d.expr.filters.hidden=function(c){var f=c.offsetHeight;return c.offsetWidth===0&&f===0||!d.support.reliableHiddenOffsets&&(c.style&&c.style.display||d.css(c,"display"))==="none"},
d.expr.filters.visible=function(c){return!d.expr.filters.hidden(c)};var tb=/%20/g,Wa=/\[\]$/,La=/\r?\n/g,ub=/#.*$/,vb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,wb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,xb=/^(?:GET|HEAD)$/,yb=/^\/\//,Ma=/\?/,zb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Ab=/^(?:select|textarea)/i,ta=/\s+/,Bb=/([?&])_=[^&]*/,Na=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Oa=d.fn.load,ka={},Pa={},X,Y,Qa=
["*/"]+["*"];try{X=J.href}catch(Hb){X=n.createElement("a"),X.href="",X=X.href}Y=Na.exec(X.toLowerCase())||[];d.fn.extend({load:function(c,f,b){if(typeof c!=="string"&&Oa)return Oa.apply(this,arguments);else if(!this.length)return this;var e=c.indexOf(" ");if(e>=0)var h=c.slice(e,c.length),c=c.slice(0,e);e="GET";f&&(d.isFunction(f)?(b=f,f=a):typeof f==="object"&&(f=d.param(f,d.ajaxSettings.traditional),e="POST"));var g=this;d.ajax({url:c,type:e,dataType:"html",data:f,complete:function(c,f,a){a=c.responseText;
c.isResolved()&&(c.done(function(c){a=c}),g.html(h?d("<div>").append(a.replace(zb,"")).find(h):a));b&&g.each(b,[a,f,c])}});return this},serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?d.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Ab.test(this.nodeName)||wb.test(this.type))}).map(function(c,f){var a=d(this).val();return a==null?null:d.isArray(a)?d.map(a,function(c){return{name:f.name,
value:c.replace(La,"\r\n")}}):{name:f.name,value:a.replace(La,"\r\n")}}).get()}});d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(c,f){d.fn[f]=function(c){return this.on(f,c)}});d.each(["get","post"],function(c,f){d[f]=function(c,b,e,h){d.isFunction(b)&&(h=h||e,e=b,b=a);return d.ajax({type:f,url:c,data:b,success:e,dataType:h})}});d.extend({getScript:function(c,f){return d.get(c,a,f,"script")},getJSON:function(c,f,a){return d.get(c,f,a,"json")},ajaxSetup:function(c,
f){f?W(c,d.ajaxSettings):(f=c,c=d.ajaxSettings);W(c,f);return c},ajaxSettings:{url:X,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Y[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Qa},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":b.String,
"text html":!0,"text json":d.parseJSON,"text xml":d.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:x(ka),ajaxTransport:x(Pa),ajax:function(c,f){function b(c,f,j,p){if(z!==2){z=2;Q&&clearTimeout(Q);m=a;k=p||"";v.readyState=c>0?4:0;var w,s,G,p=f;if(j){var q=e,J=v,P=q.contents,y=q.dataTypes,ha=q.responseFields,t,E,M,ca;for(E in ha)E in j&&(J[ha[E]]=j[E]);for(;y[0]==="*";)y.shift(),t===a&&(t=q.mimeType||J.getResponseHeader("content-type"));if(t)for(E in P)if(P[E]&&P[E].test(t)){y.unshift(E);
break}if(y[0]in j)M=y[0];else{for(E in j){if(!y[0]||q.converters[E+" "+y[0]]){M=E;break}ca||(ca=E)}M=M||ca}M?(M!==y[0]&&y.unshift(M),j=j[M]):j=void 0}else j=a;if(c>=200&&c<300||c===304){if(e.ifModified){if(t=v.getResponseHeader("Last-Modified"))d.lastModified[u]=t;if(t=v.getResponseHeader("Etag"))d.etag[u]=t}if(c===304)p="notmodified",w=!0;else try{t=e;t.dataFilter&&(j=t.dataFilter(j,t.dataType));var U=t.dataTypes;E={};var I,A,F=U.length,B,K=U[0],N,D,S,H,L;for(I=1;I<F;I++){if(I===1)for(A in t.converters)typeof A===
"string"&&(E[A.toLowerCase()]=t.converters[A]);N=K;K=U[I];if(K==="*")K=N;else if(N!=="*"&&N!==K){D=N+" "+K;S=E[D]||E["* "+K];if(!S)for(H in L=a,E)if(B=H.split(" "),B[0]===N||B[0]==="*")if(L=E[B[1]+" "+K]){H=E[H];H===!0?S=L:L===!0&&(S=H);break}!S&&!L&&d.error("No conversion from "+D.replace(" "," to "));S!==!0&&(j=S?S(j):L(H(j)))}}s=j;p="success";w=!0}catch(Xa){p="parsererror",G=Xa}}else if(G=p,!p||c)p="error",c<0&&(c=0);v.status=c;v.statusText=""+(f||p);w?l.resolveWith(h,[s,p,v]):l.rejectWith(h,[v,
p,G]);v.statusCode(i);i=a;x&&g.trigger("ajax"+(w?"Success":"Error"),[v,e,w?s:G]);n.fireWith(h,[v,p]);x&&(g.trigger("ajaxComplete",[v,e]),--d.active||d.event.trigger("ajaxStop"))}}typeof c==="object"&&(f=c,c=a);var f=f||{},e=d.ajaxSetup({},f),h=e.context||e,g=h!==e&&(h.nodeType||h instanceof d)?d(h):d.event,l=d.Deferred(),n=d.Callbacks("once memory"),i=e.statusCode||{},u,j={},p={},k,w,m,Q,G,z=0,x,q,v={readyState:0,setRequestHeader:function(c,f){if(!z){var a=c.toLowerCase(),c=p[a]=p[a]||c;j[c]=f}return this},
getAllResponseHeaders:function(){return z===2?k:null},getResponseHeader:function(c){var f;if(z===2){if(!w)for(w={};f=vb.exec(k);)w[f[1].toLowerCase()]=f[2];f=w[c.toLowerCase()]}return f===a?null:f},overrideMimeType:function(c){if(!z)e.mimeType=c;return this},abort:function(c){c=c||"abort";m&&m.abort(c);b(0,c);return this}};l.promise(v);v.success=v.done;v.error=v.fail;v.complete=n.add;v.statusCode=function(c){if(c){var f;if(z<2)for(f in c)i[f]=[i[f],c[f]];else f=c[v.status],v.then(f,f)}return this};
e.url=((c||e.url)+"").replace(ub,"").replace(yb,Y[1]+"//");e.dataTypes=d.trim(e.dataType||"*").toLowerCase().split(ta);if(e.crossDomain==null)G=Na.exec(e.url.toLowerCase()),e.crossDomain=!(!G||!(G[1]!=Y[1]||G[2]!=Y[2]||(G[3]||(G[1]==="http:"?80:443))!=(Y[3]||(Y[1]==="http:"?80:443))));if(e.data&&e.processData&&typeof e.data!=="string")e.data=d.param(e.data,e.traditional);E(ka,e,f,v);if(z===2)return!1;x=e.global;e.type=e.type.toUpperCase();e.hasContent=!xb.test(e.type);x&&d.active++===0&&d.event.trigger("ajaxStart");
if(!e.hasContent&&(e.data&&(e.url+=(Ma.test(e.url)?"&":"?")+e.data,delete e.data),u=e.url,e.cache===!1)){G=d.now();var J=e.url.replace(Bb,"$1_="+G);e.url=J+(J===e.url?(Ma.test(e.url)?"&":"?")+"_="+G:"")}(e.data&&e.hasContent&&e.contentType!==!1||f.contentType)&&v.setRequestHeader("Content-Type",e.contentType);e.ifModified&&(u=u||e.url,d.lastModified[u]&&v.setRequestHeader("If-Modified-Since",d.lastModified[u]),d.etag[u]&&v.setRequestHeader("If-None-Match",d.etag[u]));v.setRequestHeader("Accept",e.dataTypes[0]&&
e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+(e.dataTypes[0]!=="*"?", "+Qa+"; q=0.01":""):e.accepts["*"]);for(q in e.headers)v.setRequestHeader(q,e.headers[q]);if(e.beforeSend&&(e.beforeSend.call(h,v,e)===!1||z===2))return v.abort(),!1;for(q in{success:1,error:1,complete:1})v[q](e[q]);if(m=E(Pa,e,f,v)){v.readyState=1;x&&g.trigger("ajaxSend",[v,e]);e.async&&e.timeout>0&&(Q=setTimeout(function(){v.abort("timeout")},e.timeout));try{z=1,m.send(j,b)}catch(P){if(z<2)b(-1,P);else throw P;}}else b(-1,
"No Transport");return v},param:function(c,f){var b=[],e=function(c,f){f=d.isFunction(f)?f():f;b[b.length]=encodeURIComponent(c)+"="+encodeURIComponent(f)};if(f===a)f=d.ajaxSettings.traditional;if(d.isArray(c)||c.jquery&&!d.isPlainObject(c))d.each(c,function(){e(this.name,this.value)});else for(var h in c)O(h,c[h],f,e);return b.join("&").replace(tb,"+")}});d.extend({active:0,lastModified:{},etag:{}});var Cb=d.now(),ia=/(\=)\?(&|$)|\?\?/i;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return d.expando+
"_"+Cb++}});d.ajaxPrefilter("json jsonp",function(c,f,a){f=c.contentType==="application/x-www-form-urlencoded"&&typeof c.data==="string";if(c.dataTypes[0]==="jsonp"||c.jsonp!==!1&&(ia.test(c.url)||f&&ia.test(c.data))){var e,h=c.jsonpCallback=d.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,g=b[h],l=c.url,n=c.data,i="$1"+h+"$2";c.jsonp!==!1&&(l=l.replace(ia,i),c.url===l&&(f&&(n=n.replace(ia,i)),c.data===n&&(l+=(/\?/.test(l)?"&":"?")+c.jsonp+"="+h)));c.url=l;c.data=n;b[h]=function(c){e=
[c]};a.always(function(){b[h]=g;if(e&&d.isFunction(g))b[h](e[0])});c.converters["script json"]=function(){e||d.error(h+" was not called");return e[0]};c.dataTypes[0]="json";return"script"}});d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(c){d.globalEval(c);return c}}});d.ajaxPrefilter("script",function(c){if(c.cache===a)c.cache=!1;if(c.crossDomain)c.type=
"GET",c.global=!1});d.ajaxTransport("script",function(c){if(c.crossDomain){var f,d=n.head||n.getElementsByTagName("head")[0]||n.documentElement;return{send:function(b,e){f=n.createElement("script");f.async="async";if(c.scriptCharset)f.charset=c.scriptCharset;f.src=c.url;f.onload=f.onreadystatechange=function(c,b){if(b||!f.readyState||/loaded|complete/.test(f.readyState))f.onload=f.onreadystatechange=null,d&&f.parentNode&&d.removeChild(f),f=a,b||e(200,"success")};d.insertBefore(f,d.firstChild)},abort:function(){if(f)f.onload(0,
1)}}}});var ra=b.ActiveXObject?function(){for(var c in da)da[c](0,1)}:!1,Db=0,da;d.ajaxSettings.xhr=b.ActiveXObject?function(){var c;if(!(c=!this.isLocal&&j()))a:{try{c=new b.ActiveXObject("Microsoft.XMLHTTP");break a}catch(f){}c=void 0}return c}:j;(function(c){d.extend(d.support,{ajax:!!c,cors:!!c&&"withCredentials"in c})})(d.ajaxSettings.xhr());d.support.ajax&&d.ajaxTransport(function(c){if(!c.crossDomain||d.support.cors){var f;return{send:function(e,h){var g=c.xhr(),l,n;c.username?g.open(c.type,
c.url,c.async,c.username,c.password):g.open(c.type,c.url,c.async);if(c.xhrFields)for(n in c.xhrFields)g[n]=c.xhrFields[n];c.mimeType&&g.overrideMimeType&&g.overrideMimeType(c.mimeType);!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(n in e)g.setRequestHeader(n,e[n])}catch(i){}g.send(c.hasContent&&c.data||null);f=function(b,e){var n,i,j,u,p;try{if(f&&(e||g.readyState===4)){f=a;if(l)g.onreadystatechange=d.noop,ra&&delete da[l];if(e)g.readyState!==4&&g.abort();
else{n=g.status;j=g.getAllResponseHeaders();u={};if((p=g.responseXML)&&p.documentElement)u.xml=p;u.text=g.responseText;try{i=g.statusText}catch(w){i=""}!n&&c.isLocal&&!c.crossDomain?n=u.text?200:404:n===1223&&(n=204)}}}catch(k){e||h(-1,k)}u&&h(n,i,u,j)};!c.async||g.readyState===4?f():(l=++Db,ra&&(da||(da={},d(b).unload(ra)),da[l]=f),g.onreadystatechange=f)},abort:function(){f&&f(0,1)}}}});var la={},T,aa,Eb=/^(?:toggle|show|hide)$/,Fb=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,ja,ua=[["height","marginTop",
"marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],fa;d.fn.extend({show:function(c,f,a){if(c||c===0)return this.animate(I("show",3),c,f,a);else{for(var a=0,b=this.length;a<b;a++)if(c=this[a],c.style){f=c.style.display;if(!d._data(c,"olddisplay")&&f==="none")f=c.style.display="";f===""&&d.css(c,"display")==="none"&&d._data(c,"olddisplay",N(c.nodeName))}for(a=0;a<b;a++)if(c=this[a],c.style&&(f=c.style.display,f===""||f==="none"))c.style.display=
d._data(c,"olddisplay")||"";return this}},hide:function(c,f,a){if(c||c===0)return this.animate(I("hide",3),c,f,a);else{for(var a=0,b=this.length;a<b;a++)c=this[a],c.style&&(f=d.css(c,"display"),f!=="none"&&!d._data(c,"olddisplay")&&d._data(c,"olddisplay",f));for(a=0;a<b;a++)if(this[a].style)this[a].style.display="none";return this}},_toggle:d.fn.toggle,toggle:function(c,f,a){var b=typeof c==="boolean";d.isFunction(c)&&d.isFunction(f)?this._toggle.apply(this,arguments):c==null||b?this.each(function(){var f=
b?c:d(this).is(":hidden");d(this)[f?"show":"hide"]()}):this.animate(I("toggle",3),c,f,a);return this},fadeTo:function(c,f,a,b){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:f},c,a,b)},animate:function(c,f,a,b){function e(){var o;h.queue===!1&&d._mark(this);var f=d.extend({},h),a=this.nodeType===1,b=a&&d(this).is(":hidden"),g,l,n,i,j;f.animatedProperties={};for(n in c){g=d.camelCase(n);n!==g&&(c[g]=c[n],delete c[n]);l=c[g];d.isArray(l)?(f.animatedProperties[g]=l[1],o=
c[g]=l[0],l=o):f.animatedProperties[g]=f.specialEasing&&f.specialEasing[g]||f.easing||"swing";if(l==="hide"&&b||l==="show"&&!b)return f.complete.call(this);if(a&&(g==="height"||g==="width"))if(f.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],d.css(this,"display")==="inline"&&d.css(this,"float")==="none")!d.support.inlineBlockNeedsLayout||N(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1}if(f.overflow!=null)this.style.overflow="hidden";for(n in c)if(a=
new d.fx(this,f,n),l=c[n],Eb.test(l))if(g=d._data(this,"toggle"+n)||(l==="toggle"?b?"show":"hide":0))d._data(this,"toggle"+n,g==="show"?"hide":"show"),a[g]();else a[l]();else g=Fb.exec(l),i=a.cur(),g?(l=parseFloat(g[2]),j=g[3]||(d.cssNumber[n]?"":"px"),j!=="px"&&(d.style(this,n,(l||1)+j),i*=(l||1)/a.cur(),d.style(this,n,i+j)),g[1]&&(l=(g[1]==="-="?-1:1)*l+i),a.custom(i,l,j)):a.custom(i,l,"");return!0}var h=d.speed(f,a,b);if(d.isEmptyObject(c))return this.each(h.complete,[!1]);c=d.extend({},c);return h.queue===
!1?this.each(e):this.queue(h.queue,e)},stop:function(c,f,b){typeof c!=="string"&&(b=f,f=c,c=a);f&&c!==!1&&this.queue(c||"fx",[]);return this.each(function(){function f(c,a,e){a=a[e];d.removeData(c,e,!0);a.stop(b)}var a,e=!1,h=d.timers,g=d._data(this);b||d._unmark(!0,this);if(c==null)for(a in g)g[a]&&g[a].stop&&a.indexOf(".run")===a.length-4&&f(this,g,a);else g[a=c+".run"]&&g[a].stop&&f(this,g,a);for(a=h.length;a--;)if(h[a].elem===this&&(c==null||h[a].queue===c)){if(b)h[a](!0);else h[a].saveState();
e=!0;h.splice(a,1)}(!b||!e)&&d.dequeue(this,c)})}});d.each({slideDown:I("show",1),slideUp:I("hide",1),slideToggle:I("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,f){d.fn[c]=function(c,a,b){return this.animate(f,c,a,b)}});d.extend({speed:function(c,f,a){var b=c&&typeof c==="object"?d.extend({},c):{complete:a||!a&&f||d.isFunction(c)&&c,duration:c,easing:a&&f||f&&!d.isFunction(f)&&f};b.duration=d.fx.off?0:typeof b.duration==="number"?b.duration:
b.duration in d.fx.speeds?d.fx.speeds[b.duration]:d.fx.speeds._default;if(b.queue==null||b.queue===!0)b.queue="fx";b.old=b.complete;b.complete=function(c){d.isFunction(b.old)&&b.old.call(this);b.queue?d.dequeue(this,b.queue):c!==!1&&d._unmark(this)};return b},easing:{linear:function(c,f,a,b){return a+b*c},swing:function(c,f,a,b){return(-Math.cos(c*Math.PI)/2+0.5)*b+a}},timers:[],fx:function(c,f,a){this.options=f;this.elem=c;this.prop=a;f.orig=f.orig||{}}});d.fx.prototype={update:function(){this.options.step&&
this.options.step.call(this.elem,this.now,this);(d.fx.step[this.prop]||d.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var c,f=d.css(this.elem,this.prop);return isNaN(c=parseFloat(f))?!f||f==="auto"?0:f:c},custom:function(c,f,b){function e(c){return h.step(c)}var h=this,g=d.fx;this.startTime=fa||D();this.end=f;this.now=this.start=c;this.pos=this.state=0;this.unit=b||this.unit||(d.cssNumber[this.prop]?
"":"px");e.queue=this.options.queue;e.elem=this.elem;e.saveState=function(){h.options.hide&&d._data(h.elem,"fxshow"+h.prop)===a&&d._data(h.elem,"fxshow"+h.prop,h.start)};e()&&d.timers.push(e)&&!ja&&(ja=setInterval(g.tick,g.interval))},show:function(){var c=d._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=c||d.style(this.elem,this.prop);this.options.show=!0;c!==a?this.custom(this.cur(),c):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());d(this.elem).show()},hide:function(){this.options.orig[this.prop]=
d._data(this.elem,"fxshow"+this.prop)||d.style(this.elem,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(c){var f,a=fa||D(),b=!0,e=this.elem,h=this.options;if(c||a>=h.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();h.animatedProperties[this.prop]=!0;for(f in h.animatedProperties)h.animatedProperties[f]!==!0&&(b=!1);if(b){h.overflow!=null&&!d.support.shrinkWrapBlocks&&d.each(["","X","Y"],function(c,f){e.style["overflow"+f]=h.overflow[c]});h.hide&&
d(e).hide();if(h.hide||h.show)for(f in h.animatedProperties)d.style(e,f,h.orig[f]),d.removeData(e,"fxshow"+f,!0),d.removeData(e,"toggle"+f,!0);if(c=h.complete)h.complete=!1,c.call(e)}return!1}else h.duration==Infinity?this.now=a:(c=a-this.startTime,this.state=c/h.duration,this.pos=d.easing[h.animatedProperties[this.prop]](this.state,c,0,1,h.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return!0}};d.extend(d.fx,{tick:function(){for(var c,f=d.timers,a=0;a<f.length;a++)c=
f[a],!c()&&f[a]===c&&f.splice(a--,1);f.length||d.fx.stop()},interval:13,stop:function(){clearInterval(ja);ja=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(c){d.style(c.elem,"opacity",c.now)},_default:function(c){c.elem.style&&c.elem.style[c.prop]!=null?c.elem.style[c.prop]=c.now+c.unit:c.elem[c.prop]=c.now}}});d.each(["width","height"],function(c,f){d.fx.step[f]=function(c){d.style(c.elem,f,Math.max(0,c.now)+c.unit)}});if(d.expr&&d.expr.filters)d.expr.filters.animated=function(c){return d.grep(d.timers,
function(f){return c===f.elem}).length};var Gb=/^t(?:able|d|h)$/i,Ra=/^(?:body|html)$/i;d.fn.offset="getBoundingClientRect"in n.documentElement?function(c){var f=this[0],a;if(c)return this.each(function(a){d.offset.setOffset(this,c,a)});if(!f||!f.ownerDocument)return null;if(f===f.ownerDocument.body)return d.offset.bodyOffset(f);try{a=f.getBoundingClientRect()}catch(b){}var e=f.ownerDocument,g=e.documentElement;if(!a||!d.contains(g,f))return a?{top:a.top,left:a.left}:{top:0,left:0};f=e.body;e=h(e);
return{top:a.top+(e.pageYOffset||d.support.boxModel&&g.scrollTop||f.scrollTop)-(g.clientTop||f.clientTop||0),left:a.left+(e.pageXOffset||d.support.boxModel&&g.scrollLeft||f.scrollLeft)-(g.clientLeft||f.clientLeft||0)}}:function(c){var a=this[0];if(c)return this.each(function(a){d.offset.setOffset(this,c,a)});if(!a||!a.ownerDocument)return null;if(a===a.ownerDocument.body)return d.offset.bodyOffset(a);var b,e=a.offsetParent,h=a.ownerDocument,g=h.documentElement,l=h.body;b=(h=h.defaultView)?h.getComputedStyle(a,
null):a.currentStyle;for(var n=a.offsetTop,i=a.offsetLeft;(a=a.parentNode)&&a!==l&&a!==g;){if(d.support.fixedPosition&&b.position==="fixed")break;b=h?h.getComputedStyle(a,null):a.currentStyle;n-=a.scrollTop;i-=a.scrollLeft;if(a===e){n+=a.offsetTop;i+=a.offsetLeft;if(d.support.doesNotAddBorder&&(!d.support.doesAddBorderForTableAndCells||!Gb.test(a.nodeName)))n+=parseFloat(b.borderTopWidth)||0,i+=parseFloat(b.borderLeftWidth)||0;e=a.offsetParent}d.support.subtractsBorderForOverflowNotVisible&&b.overflow!==
"visible"&&(n+=parseFloat(b.borderTopWidth)||0,i+=parseFloat(b.borderLeftWidth)||0)}if(b.position==="relative"||b.position==="static")n+=l.offsetTop,i+=l.offsetLeft;d.support.fixedPosition&&b.position==="fixed"&&(n+=Math.max(g.scrollTop,l.scrollTop),i+=Math.max(g.scrollLeft,l.scrollLeft));return{top:n,left:i}};d.offset={bodyOffset:function(c){var a=c.offsetTop,b=c.offsetLeft;d.support.doesNotIncludeMarginInBodyOffset&&(a+=parseFloat(d.css(c,"marginTop"))||0,b+=parseFloat(d.css(c,"marginLeft"))||0);
return{top:a,left:b}},setOffset:function(c,a,b){var e=d.css(c,"position");if(e==="static")c.style.position="relative";var h=d(c),g=h.offset(),l=d.css(c,"top"),n=d.css(c,"left"),i={},j={};(e==="absolute"||e==="fixed")&&d.inArray("auto",[l,n])>-1?(j=h.position(),e=j.top,n=j.left):(e=parseFloat(l)||0,n=parseFloat(n)||0);d.isFunction(a)&&(a=a.call(c,b,g));if(a.top!=null)i.top=a.top-g.top+e;if(a.left!=null)i.left=a.left-g.left+n;"using"in a?a.using.call(c,i):h.css(i)}};d.fn.extend({position:function(){if(!this[0])return null;
var c=this[0],a=this.offsetParent(),b=this.offset(),e=Ra.test(a[0].nodeName)?{top:0,left:0}:a.offset();b.top-=parseFloat(d.css(c,"marginTop"))||0;b.left-=parseFloat(d.css(c,"marginLeft"))||0;e.top+=parseFloat(d.css(a[0],"borderTopWidth"))||0;e.left+=parseFloat(d.css(a[0],"borderLeftWidth"))||0;return{top:b.top-e.top,left:b.left-e.left}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent||n.body;c&&!Ra.test(c.nodeName)&&d.css(c,"position")==="static";)c=c.offsetParent;return c})}});
d.each(["Left","Top"],function(c,b){var e="scroll"+b;d.fn[e]=function(b){var f,g;return b===a?(f=this[0],!f?null:(g=h(f))?"pageXOffset"in g?g[c?"pageYOffset":"pageXOffset"]:d.support.boxModel&&g.document.documentElement[e]||g.document.body[e]:f[e]):this.each(function(){(g=h(this))?g.scrollTo(!c?b:d(g).scrollLeft(),c?b:d(g).scrollTop()):this[e]=b})}});d.each(["Height","Width"],function(c,b){var e=b.toLowerCase();d.fn["inner"+b]=function(){var c=this[0];return c?c.style?parseFloat(d.css(c,e,"padding")):
this[e]():null};d.fn["outer"+b]=function(c){var a=this[0];return a?a.style?parseFloat(d.css(a,e,c?"margin":"border")):this[e]():null};d.fn[e]=function(c){var h=this[0];if(!h)return c==null?null:this;if(d.isFunction(c))return this.each(function(a){var b=d(this);b[e](c.call(this,a,b[e]()))});if(d.isWindow(h)){var g=h.document.documentElement["client"+b],l=h.document.body;return h.document.compatMode==="CSS1Compat"&&g||l&&l["client"+b]||g}else return h.nodeType===9?Math.max(h.documentElement["client"+
b],h.body["scroll"+b],h.documentElement["scroll"+b],h.body["offset"+b],h.documentElement["offset"+b]):c===a?(h=d.css(h,e),g=parseFloat(h),d.isNumeric(g)?g:h):this.css(e,typeof c==="string"?c:c+"px")}});b.jQuery=b.$=d;typeof define==="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return d})})(window);var JSON;JSON||(JSON={});
(function(){function b(a){return a<10?"0"+a:a}function a(a){m.lastIndex=0;return m.test(a)?'"'+a.replace(m,function(a){var b=t[a];return typeof b==="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function e(b,i){var g,m,t,p,z=k,v,x=i[b];x&&typeof x==="object"&&typeof x.toJSON==="function"&&(x=x.toJSON(b));typeof A==="function"&&(x=A.call(i,b,x));switch(typeof x){case "string":return a(x);case "number":return isFinite(x)?String(x):"null";case "boolean":case "null":return String(x);
case "object":if(!x)return"null";k+=q;v=[];if(Object.prototype.toString.apply(x)==="[object Array]"){p=x.length;for(g=0;g<p;g+=1)v[g]=e(g,x)||"null";t=v.length===0?"[]":k?"[\n"+k+v.join(",\n"+k)+"\n"+z+"]":"["+v.join(",")+"]";k=z;return t}if(A&&typeof A==="object"){p=A.length;for(g=0;g<p;g+=1)typeof A[g]==="string"&&(m=A[g],(t=e(m,x))&&v.push(a(m)+(k?": ":":")+t))}else for(m in x)Object.prototype.hasOwnProperty.call(x,m)&&(t=e(m,x))&&v.push(a(m)+(k?": ":":")+t);t=v.length===0?"{}":k?"{\n"+k+v.join(",\n"+
k)+"\n"+z+"}":"{"+v.join(",")+"}";k=z;return t}}if(typeof Date.prototype.toJSON!=="function")Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var i=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
m=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k,q,t={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},A;if(typeof JSON.stringify!=="function")JSON.stringify=function(a,b,g){var i;q=k="";if(typeof g==="number")for(i=0;i<g;i+=1)q+=" ";else typeof g==="string"&&(q=g);if((A=b)&&typeof b!=="function"&&(typeof b!=="object"||typeof b.length!=="number"))throw Error("JSON.stringify");return e("",
{"":a})};if(typeof JSON.parse!=="function")JSON.parse=function(a,b){function e(a,i){var k,m,x=a[i];if(x&&typeof x==="object")for(k in x)Object.prototype.hasOwnProperty.call(x,k)&&(m=e(x,k),m!==void 0?x[k]=m:delete x[k]);return b.call(a,i,x)}var k,a=String(a);i.lastIndex=0;i.test(a)&&(a=a.replace(i,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return k=eval("("+a+")"),typeof b==="function"?e({"":k},""):k;throw new SyntaxError("JSON.parse");}})();
(function(){var b=this,a=b._,e={},i=Array.prototype,m=Object.prototype,k=i.push,q=i.slice,t=i.concat,A=m.toString,y=m.hasOwnProperty,B=i.forEach,g=i.map,F=i.reduce,H=i.reduceRight,p=i.filter,z=i.every,v=i.some,x=i.indexOf,E=i.lastIndexOf,m=Array.isArray,W=Object.keys,O=Function.prototype.bind,j=function(a){if(a instanceof j)return a;if(!(this instanceof j))return new j(a);this._wrapped=a};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports)exports=module.exports=j;exports._=
j}else b._=j;j.VERSION="1.4.3";var D=j.each=j.forEach=function(a,b,d){if(a!=null)if(B&&a.forEach===B)a.forEach(b,d);else if(a.length===+a.length)for(var h=0,g=a.length;h<g;h++){if(b.call(d,a[h],h,a)===e)break}else for(h in a)if(j.has(a,h)&&b.call(d,a[h],h,a)===e)break};j.map=j.collect=function(a,b,d){var e=[];if(a==null)return e;if(g&&a.map===g)return a.map(b,d);D(a,function(a,h,g){e[e.length]=b.call(d,a,h,g)});return e};j.reduce=j.foldl=j.inject=function(a,b,d,e){var h=arguments.length>2;a==null&&
(a=[]);if(F&&a.reduce===F)return e&&(b=j.bind(b,e)),h?a.reduce(b,d):a.reduce(b);D(a,function(a,g,l){h?d=b.call(e,d,a,g,l):(d=a,h=!0)});if(!h)throw new TypeError("Reduce of empty array with no initial value");return d};j.reduceRight=j.foldr=function(a,b,d,e){var h=arguments.length>2;a==null&&(a=[]);if(H&&a.reduceRight===H)return e&&(b=j.bind(b,e)),h?a.reduceRight(b,d):a.reduceRight(b);var g=a.length;if(g!==+g)var n=j.keys(a),g=n.length;D(a,function(i,j,p){j=n?n[--g]:--g;h?d=b.call(e,d,a[j],j,p):(d=
a[j],h=!0)});if(!h)throw new TypeError("Reduce of empty array with no initial value");return d};j.find=j.detect=function(a,b,d){var e;M(a,function(a,h,g){if(b.call(d,a,h,g))return e=a,!0});return e};j.filter=j.select=function(a,b,d){var e=[];if(a==null)return e;if(p&&a.filter===p)return a.filter(b,d);D(a,function(a,h,g){b.call(d,a,h,g)&&(e[e.length]=a)});return e};j.reject=function(a,b,d){return j.filter(a,function(a,e,h){return!b.call(d,a,e,h)},d)};j.every=j.all=function(a,b,d){b||(b=j.identity);
var h=!0;if(a==null)return h;if(z&&a.every===z)return a.every(b,d);D(a,function(a,g,l){if(!(h=h&&b.call(d,a,g,l)))return e});return!!h};var M=j.some=j.any=function(a,b,d){b||(b=j.identity);var h=!1;if(a==null)return h;if(v&&a.some===v)return a.some(b,d);D(a,function(a,g,l){if(h||(h=b.call(d,a,g,l)))return e});return!!h};j.contains=j.include=function(a,b){return a==null?!1:x&&a.indexOf===x?a.indexOf(b)!=-1:M(a,function(a){return a===b})};j.invoke=function(a,b){var d=q.call(arguments,2),e=j.isFunction(b);
return j.map(a,function(a){return(e?b:a[b]).apply(a,d)})};j.pluck=function(a,b){return j.map(a,function(a){return a[b]})};j.where=function(a,b){return j.isEmpty(b)?[]:j.filter(a,function(a){for(var d in b)if(b[d]!==a[d])return!1;return!0})};j.max=function(a,b,d){if(!b&&j.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&j.isEmpty(a))return-Infinity;var e={computed:-Infinity,value:-Infinity};D(a,function(a,h,g){h=b?b.call(d,a,h,g):a;h>=e.computed&&(e={value:a,computed:h})});
return e.value};j.min=function(a,b,d){if(!b&&j.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&j.isEmpty(a))return Infinity;var e={computed:Infinity,value:Infinity};D(a,function(a,h,g){h=b?b.call(d,a,h,g):a;h<e.computed&&(e={value:a,computed:h})});return e.value};j.shuffle=function(a){var b,d=0,e=[];D(a,function(a){b=j.random(d++);e[d-1]=e[b];e[b]=a});return e};var I=function(a){return j.isFunction(a)?a:function(b){return b[a]}};j.sortBy=function(a,b,d){var e=I(b);return j.pluck(j.map(a,
function(a,b,h){return{value:a,index:b,criteria:e.call(d,a,b,h)}}).sort(function(a,b){var d=a.criteria,e=b.criteria;if(d!==e){if(d>e||d===void 0)return 1;if(d<e||e===void 0)return-1}return a.index<b.index?-1:1}),"value")};var N=function(a,b,d,e){var h={},g=I(b||j.identity);D(a,function(b,n){var i=g.call(d,b,n,a);e(h,i,b)});return h};j.groupBy=function(a,b,d){return N(a,b,d,function(a,b,d){(j.has(a,b)?a[b]:a[b]=[]).push(d)})};j.countBy=function(a,b,d){return N(a,b,d,function(a,b){j.has(a,b)||(a[b]=
0);a[b]++})};j.sortedIndex=function(a,b,d,e){for(var d=d==null?j.identity:I(d),b=d.call(e,b),h=0,g=a.length;h<g;){var n=h+g>>>1;d.call(e,a[n])<b?h=n+1:g=n}return h};j.toArray=function(a){return!a?[]:j.isArray(a)?q.call(a):a.length===+a.length?j.map(a,j.identity):j.values(a)};j.size=function(a){return a==null?0:a.length===+a.length?a.length:j.keys(a).length};j.first=j.head=j.take=function(a,b,d){return a==null?void 0:b!=null&&!d?q.call(a,0,b):a[0]};j.initial=function(a,b,d){return q.call(a,0,a.length-
(b==null||d?1:b))};j.last=function(a,b,d){return a==null?void 0:b!=null&&!d?q.call(a,Math.max(a.length-b,0)):a[a.length-1]};j.rest=j.tail=j.drop=function(a,b,d){return q.call(a,b==null||d?1:b)};j.compact=function(a){return j.filter(a,j.identity)};var h=function(a,b,d){D(a,function(a){j.isArray(a)?b?k.apply(d,a):h(a,b,d):d.push(a)});return d};j.flatten=function(a,b){return h(a,b,[])};j.without=function(a){return j.difference(a,q.call(arguments,1))};j.uniq=j.unique=function(a,b,d,e){j.isFunction(b)&&
(e=d,d=b,b=!1);var d=d?j.map(a,d,e):a,h=[],g=[];D(d,function(d,e){if(b?!e||g[g.length-1]!==d:!j.contains(g,d))g.push(d),h.push(a[e])});return h};j.union=function(){return j.uniq(t.apply(i,arguments))};j.intersection=function(a){var b=q.call(arguments,1);return j.filter(j.uniq(a),function(a){return j.every(b,function(b){return j.indexOf(b,a)>=0})})};j.difference=function(a){var b=t.apply(i,q.call(arguments,1));return j.filter(a,function(a){return!j.contains(b,a)})};j.zip=function(){for(var a=q.call(arguments),
b=j.max(j.pluck(a,"length")),d=Array(b),e=0;e<b;e++)d[e]=j.pluck(a,""+e);return d};j.object=function(a,b){if(a==null)return{};for(var d={},e=0,h=a.length;e<h;e++)b?d[a[e]]=b[e]:d[a[e][0]]=a[e][1];return d};j.indexOf=function(a,b,d){if(a==null)return-1;var e=0,h=a.length;if(d)if(typeof d=="number")e=d<0?Math.max(0,h+d):d;else return e=j.sortedIndex(a,b),a[e]===b?e:-1;if(x&&a.indexOf===x)return a.indexOf(b,d);for(;e<h;e++)if(a[e]===b)return e;return-1};j.lastIndexOf=function(a,b,d){if(a==null)return-1;
var e=d!=null;if(E&&a.lastIndexOf===E)return e?a.lastIndexOf(b,d):a.lastIndexOf(b);for(d=e?d:a.length;d--;)if(a[d]===b)return d;return-1};j.range=function(a,b,d){arguments.length<=1&&(b=a||0,a=0);for(var d=arguments[2]||1,e=Math.max(Math.ceil((b-a)/d),0),h=0,g=Array(e);h<e;)g[h++]=a,a+=d;return g};var n=function(){};j.bind=function(a,b){var d,e;if(a.bind===O&&O)return O.apply(a,q.call(arguments,1));if(!j.isFunction(a))throw new TypeError;d=q.call(arguments,2);return e=function(){if(!(this instanceof
e))return a.apply(b,d.concat(q.call(arguments)));n.prototype=a.prototype;var h=new n;n.prototype=null;var g=a.apply(h,d.concat(q.call(arguments)));return Object(g)===g?g:h}};j.bindAll=function(a){var b=q.call(arguments,1);b.length===0&&(b=j.functions(a));D(b,function(b){a[b]=j.bind(a[b],a)});return a};j.memoize=function(a,b){var d={};b||(b=j.identity);return function(){var e=b.apply(this,arguments);return j.has(d,e)?d[e]:d[e]=a.apply(this,arguments)}};j.delay=function(a,b){var d=q.call(arguments,
2);return setTimeout(function(){return a.apply(null,d)},b)};j.defer=function(a){return j.delay.apply(j,[a,1].concat(q.call(arguments,1)))};j.throttle=function(a,b){var d,e,h,g,n=0,i=function(){n=new Date;h=null;g=a.apply(d,e)};return function(){var j=new Date,p=b-(j-n);d=this;e=arguments;p<=0?(clearTimeout(h),h=null,n=j,g=a.apply(d,e)):h||(h=setTimeout(i,p));return g}};j.debounce=function(a,b,d){var e,h;return function(){var g=this,n=arguments,i=d&&!e;clearTimeout(e);e=setTimeout(function(){e=null;
d||(h=a.apply(g,n))},b);i&&(h=a.apply(g,n));return h}};j.once=function(a){var b=!1,d;return function(){if(b)return d;b=!0;d=a.apply(this,arguments);a=null;return d}};j.wrap=function(a,b){return function(){var d=[a];k.apply(d,arguments);return b.apply(this,d)}};j.compose=function(){var a=arguments;return function(){for(var b=arguments,d=a.length-1;d>=0;d--)b=[a[d].apply(this,b)];return b[0]}};j.after=function(a,b){return a<=0?b():function(){if(--a<1)return b.apply(this,arguments)}};j.keys=W||function(a){if(a!==
Object(a))throw new TypeError("Invalid object");var b=[],d;for(d in a)j.has(a,d)&&(b[b.length]=d);return b};j.values=function(a){var b=[],d;for(d in a)j.has(a,d)&&b.push(a[d]);return b};j.pairs=function(a){var b=[],d;for(d in a)j.has(a,d)&&b.push([d,a[d]]);return b};j.invert=function(a){var b={},d;for(d in a)j.has(a,d)&&(b[a[d]]=d);return b};j.functions=j.methods=function(a){var b=[],d;for(d in a)j.isFunction(a[d])&&b.push(d);return b.sort()};j.extend=function(a){D(q.call(arguments,1),function(b){if(b)for(var d in b)a[d]=
b[d]});return a};j.pick=function(a){var b={},d=t.apply(i,q.call(arguments,1));D(d,function(d){d in a&&(b[d]=a[d])});return b};j.omit=function(a){var b={},d=t.apply(i,q.call(arguments,1)),e;for(e in a)j.contains(d,e)||(b[e]=a[e]);return b};j.defaults=function(a){D(q.call(arguments,1),function(b){if(b)for(var d in b)a[d]==null&&(a[d]=b[d])});return a};j.clone=function(a){return!j.isObject(a)?a:j.isArray(a)?a.slice():j.extend({},a)};j.tap=function(a,b){b(a);return a};var Q=function(a,b,d,e){if(a===b)return a!==
0||1/a==1/b;if(a==null||b==null)return a===b;if(a instanceof j)a=a._wrapped;if(b instanceof j)b=b._wrapped;var h=A.call(a);if(h!=A.call(b))return!1;switch(h){case "[object String]":return a==String(b);case "[object Number]":return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object")return!1;for(var g=
d.length;g--;)if(d[g]==a)return e[g]==b;d.push(a);e.push(b);var g=0,n=!0;if(h=="[object Array]"){if(g=a.length,n=g==b.length)for(;g--;)if(!(n=Q(a[g],b[g],d,e)))break}else{var h=a.constructor,i=b.constructor;if(h!==i&&(!j.isFunction(h)||!(h instanceof h&&j.isFunction(i)&&i instanceof i)))return!1;for(var p in a)if(j.has(a,p)&&(g++,!(n=j.has(b,p)&&Q(a[p],b[p],d,e))))break;if(n){for(p in b)if(j.has(b,p)&&!g--)break;n=!g}}d.pop();e.pop();return n};j.isEqual=function(a,b){return Q(a,b,[],[])};j.isEmpty=
function(a){if(a==null)return!0;if(j.isArray(a)||j.isString(a))return a.length===0;for(var b in a)if(j.has(a,b))return!1;return!0};j.isElement=function(a){return!!(a&&a.nodeType===1)};j.isArray=m||function(a){return A.call(a)=="[object Array]"};j.isObject=function(a){return a===Object(a)};D(["Arguments","Function","String","Number","Date","RegExp"],function(a){j["is"+a]=function(b){return A.call(b)=="[object "+a+"]"}});if(!j.isArguments(arguments))j.isArguments=function(a){return!(!a||!j.has(a,"callee"))};
if(typeof/./!=="function")j.isFunction=function(a){return typeof a==="function"};j.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};j.isNaN=function(a){return j.isNumber(a)&&a!=+a};j.isBoolean=function(a){return a===!0||a===!1||A.call(a)=="[object Boolean]"};j.isNull=function(a){return a===null};j.isUndefined=function(a){return a===void 0};j.has=function(a,b){return y.call(a,b)};j.noConflict=function(){b._=a;return this};j.identity=function(a){return a};j.times=function(a,b,d){for(var e=
Array(a),h=0;h<a;h++)e[h]=b.call(d,h);return e};j.random=function(a,b){b==null&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};var J={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};J.unescape=j.invert(J.escape);var d={escape:RegExp("["+j.keys(J.escape).join("")+"]","g"),unescape:RegExp("("+j.keys(J.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(a){j[a]=function(b){return b==null?"":(""+b).replace(d[a],function(b){return J[a][b]})}});
j.result=function(a,b){if(a==null)return null;var d=a[b];return j.isFunction(d)?d.call(a):d};j.mixin=function(a){D(j.functions(a),function(b){var d=j[b]=a[b];j.prototype[b]=function(){var a=[this._wrapped];k.apply(a,arguments);a=d.apply(j,a);return this._chain?j(a).chain():a}})};var U=0;j.uniqueId=function(a){var b=++U+"";return a?a+b:b};j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,S={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t",
"\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(a,b,d){var e,d=j.defaults({},d,j.templateSettings),h=RegExp([(d.escape||K).source,(d.interpolate||K).source,(d.evaluate||K).source].join("|")+"|$","g"),g=0,n="__p+='";a.replace(h,function(b,d,e,h,i){n+=a.slice(g,i).replace(V,function(a){return"\\"+S[a]});d&&(n+="'+\n((__t=("+d+"))==null?'':_.escape(__t))+\n'");e&&(n+="'+\n((__t=("+e+"))==null?'':__t)+\n'");h&&(n+="';\n"+h+"\n__p+='");g=i+b.length;return b});n+=
"';\n";d.variable||(n="with(obj||{}){\n"+n+"}\n");n="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+n+"return __p;\n";try{e=new Function(d.variable||"obj","_",n)}catch(i){throw i.source=n,i;}if(b)return e(b,j);b=function(a){return e.call(this,a,j)};b.source="function("+(d.variable||"obj")+"){\n"+n+"}";return b};j.chain=function(a){return j(a).chain()};j.mixin(j);D(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=i[a];j.prototype[a]=
function(){var d=this._wrapped;b.apply(d,arguments);(a=="shift"||a=="splice")&&d.length===0&&delete d[0];return this._chain?j(d).chain():d}});D(["concat","join","slice"],function(a){var b=i[a];j.prototype[a]=function(){var a=b.apply(this._wrapped,arguments);return this._chain?j(a).chain():a}});j.extend(j.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this);
(function(){var b=this,a=b.Backbone,e=Array.prototype.slice,i=Array.prototype.splice,m;m=typeof exports!=="undefined"?exports:b.Backbone={};m.VERSION="0.9.2";var k=b._;!k&&typeof require!=="undefined"&&(k=require("underscore"));var q=b.jQuery||b.Zepto||b.ender;m.setDomLibrary=function(a){q=a};m.noConflict=function(){b.Backbone=a;return this};m.emulateHTTP=!1;m.emulateJSON=!1;var t=/\s+/,A=m.Events={on:function(a,b,e){var g,d,i,j,p;if(!b)return this;a=a.split(t);for(g=this._callbacks||(this._callbacks=
{});d=a.shift();)i=(p=g[d])?p.tail:{},i.next=j={},i.context=e,i.callback=b,g[d]={tail:j,next:p?p.next:i};return this},off:function(a,b,e){var g,d,i,j,p,m;if(d=this._callbacks){if(!a&&!b&&!e)return delete this._callbacks,this;for(a=a?a.split(t):k.keys(d);g=a.shift();)if(i=d[g],delete d[g],i&&(b||e))for(j=i.tail;(i=i.next)!==j;)if(p=i.callback,m=i.context,b&&p!==b||e&&m!==e)this.on(g,p,m);return this}},trigger:function(a){var b,g,i,d,j,p;if(!(i=this._callbacks))return this;j=i.all;a=a.split(t);for(p=
e.call(arguments,1);b=a.shift();){if(g=i[b])for(d=g.tail;(g=g.next)!==d;)g.callback.apply(g.context||this,p);if(g=j){d=g.tail;for(b=[b].concat(p);(g=g.next)!==d;)g.callback.apply(g.context||this,b)}}return this}};A.bind=A.on;A.unbind=A.off;var y=m.Model=function(a,b){var e;a||(a={});b&&b.parse&&(a=this.parse(a));if(e=I(this,"defaults"))a=k.extend({},e,a);if(b&&b.collection)this.collection=b.collection;this.attributes={};this._escapedAttributes={};this.cid=k.uniqueId("c");this.changed={};this._silent=
{};this._pending={};this.set(a,{silent:!0});this.changed={};this._silent={};this._pending={};this._previousAttributes=k.clone(this.attributes);this.initialize.apply(this,arguments)};k.extend(y.prototype,A,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(){return k.clone(this.attributes)},get:function(a){return this.attributes[a]},escape:function(a){var b;if(b=this._escapedAttributes[a])return b;b=this.get(a);return this._escapedAttributes[a]=k.escape(b==
null?"":""+b)},has:function(a){return this.get(a)!=null},set:function(a,b,e){var g,d;k.isObject(a)||a==null?(g=a,e=b):(g={},g[a]=b);e||(e={});if(!g)return this;if(g instanceof y)g=g.attributes;if(e.unset)for(d in g)g[d]=void 0;if(!this._validate(g,e))return!1;if(this.idAttribute in g)this.id=g[this.idAttribute];var b=e.changes={},i=this.attributes,j=this._escapedAttributes,p=this._previousAttributes||{};for(d in g){a=g[d];if(!k.isEqual(i[d],a)||e.unset&&k.has(i,d))delete j[d],(e.silent?this._silent:
b)[d]=!0;e.unset?delete i[d]:i[d]=a;!k.isEqual(p[d],a)||k.has(i,d)!=k.has(p,d)?(this.changed[d]=a,e.silent||(this._pending[d]=!0)):(delete this.changed[d],delete this._pending[d])}e.silent||this.change(e);return this},unset:function(a,b){(b||(b={})).unset=!0;return this.set(a,null,b)},clear:function(a){(a||(a={})).unset=!0;return this.set(k.clone(this.attributes),a)},fetch:function(a){var a=a?k.clone(a):{},b=this,e=a.success;a.success=function(g,d,i){if(!b.set(b.parse(g,i),a))return!1;e&&e(b,g)};
a.error=m.wrapError(a.error,b,a);return(this.sync||m.sync).call(this,"read",this,a)},save:function(a,b,e){var g,d;k.isObject(a)||a==null?(g=a,e=b):(g={},g[a]=b);e=e?k.clone(e):{};if(e.wait){if(!this._validate(g,e))return!1;d=k.clone(this.attributes)}a=k.extend({},e,{silent:!0});if(g&&!this.set(g,e.wait?a:e))return!1;var i=this,j=e.success;e.success=function(a,b,d){b=i.parse(a,d);e.wait&&(delete e.wait,b=k.extend(g||{},b));if(!i.set(b,e))return!1;j?j(i,a):i.trigger("sync",i,a,e)};e.error=m.wrapError(e.error,
i,e);b=this.isNew()?"create":"update";b=(this.sync||m.sync).call(this,b,this,e);e.wait&&this.set(d,a);return b},destroy:function(a){var a=a?k.clone(a):{},b=this,e=a.success,g=function(){b.trigger("destroy",b,b.collection,a)};if(this.isNew())return g(),!1;a.success=function(d){a.wait&&g();e?e(b,d):b.trigger("sync",b,d,a)};a.error=m.wrapError(a.error,b,a);var d=(this.sync||m.sync).call(this,"delete",this,a);a.wait||g();return d},url:function(){var a=I(this,"urlRoot")||I(this.collection,"url")||N();
return this.isNew()?a:a+(a.charAt(a.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},change:function(a){a||(a={});var b=this._changing;this._changing=!0;for(var e in this._silent)this._pending[e]=!0;var g=k.extend({},a.changes,this._silent);this._silent={};for(e in g)this.trigger("change:"+e,this,this.get(e),a);if(b)return this;for(;!k.isEmpty(this._pending);){this._pending=
{};this.trigger("change",this,a);for(e in this.changed)!this._pending[e]&&!this._silent[e]&&delete this.changed[e];this._previousAttributes=k.clone(this.attributes)}this._changing=!1;return this},hasChanged:function(a){return!arguments.length?!k.isEmpty(this.changed):k.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?k.clone(this.changed):!1;var b,e=!1,g=this._previousAttributes,d;for(d in a)if(!k.isEqual(g[d],b=a[d]))(e||(e={}))[d]=b;return e},previous:function(a){return!arguments.length||
!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return k.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(a,b){if(b.silent||!this.validate)return!0;var a=k.extend({},this.attributes,a),e=this.validate(a,b);if(!e)return!0;b&&b.error?b.error(this,e,b):this.trigger("error",this,e,b);return!1}});var B=m.Collection=function(a,b){b||(b={});if(b.model)this.model=b.model;if(b.comparator)this.comparator=
b.comparator;this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,{silent:!0,parse:b.parse})};k.extend(B.prototype,A,{model:y,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},add:function(a,b){var e,g,d,j,p,m={},z={},l=[];b||(b={});a=k.isArray(a)?a.slice():[a];e=0;for(g=a.length;e<g;e++){if(!(d=a[e]=this._prepareModel(a[e],b)))throw Error("Can't add an invalid model to a collection");j=d.cid;p=d.id;m[j]||this._byCid[j]||p!=null&&(z[p]||this._byId[p])?
l.push(e):m[j]=z[p]=d}for(e=l.length;e--;)a.splice(l[e],1);e=0;for(g=a.length;e<g;e++)(d=a[e]).on("all",this._onModelEvent,this),this._byCid[d.cid]=d,d.id!=null&&(this._byId[d.id]=d);this.length+=g;i.apply(this.models,[b.at!=null?b.at:this.models.length,0].concat(a));this.comparator&&this.sort({silent:!0});if(b.silent)return this;e=0;for(g=this.models.length;e<g;e++)if(m[(d=this.models[e]).cid])b.index=e,d.trigger("add",d,this,b);return this},remove:function(a,b){var e,g,d,i;b||(b={});a=k.isArray(a)?
a.slice():[a];e=0;for(g=a.length;e<g;e++)if(i=this.getByCid(a[e])||this.get(a[e])){delete this._byId[i.id];delete this._byCid[i.cid];d=this.indexOf(i);this.models.splice(d,1);this.length--;if(!b.silent)b.index=d,i.trigger("remove",i,this,b);this._removeReference(i)}return this},push:function(a,b){a=this._prepareModel(a,b);this.add(a,b);return a},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){a=this._prepareModel(a,b);this.add(a,k.extend({at:0},b));return a},
shift:function(a){var b=this.at(0);this.remove(b,a);return b},get:function(a){return a==null?void 0:this._byId[a.id!=null?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},where:function(a){return k.isEmpty(a)?[]:this.filter(function(b){for(var e in a)if(a[e]!==b.get(e))return!1;return!0})},sort:function(a){a||(a={});if(!this.comparator)throw Error("Cannot sort a set without a comparator");var b=k.bind(this.comparator,this);this.comparator.length==
1?this.models=this.sortBy(b):this.models.sort(b);a.silent||this.trigger("reset",this,a);return this},pluck:function(a){return k.map(this.models,function(b){return b.get(a)})},reset:function(a,b){a||(a=[]);b||(b={});for(var e=0,g=this.models.length;e<g;e++)this._removeReference(this.models[e]);this._reset();this.add(a,k.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return this},fetch:function(a){a=a?k.clone(a):{};if(a.parse===void 0)a.parse=!0;var b=this,e=a.success;a.success=function(g,
d,i){b[a.add?"add":"reset"](b.parse(g,i),a);e&&e(b,g)};a.error=m.wrapError(a.error,b,a);return(this.sync||m.sync).call(this,"read",this,a)},create:function(a,b){var e=this,b=b?k.clone(b):{},a=this._prepareModel(a,b);if(!a)return!1;b.wait||e.add(a,b);var g=b.success;b.success=function(d,i){b.wait&&e.add(d,b);g?g(d,i):d.trigger("sync",a,i,b)};a.save(null,b);return a},parse:function(a){return a},chain:function(){return k(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId=
{};this._byCid={}},_prepareModel:function(a,b){b||(b={});if(a instanceof y){if(!a.collection)a.collection=this}else{var e;b.collection=this;a=new this.model(a,b);a._validate(a.attributes,b)||(a=!1)}return a},_removeReference:function(a){this==a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,e,g){(a=="add"||a=="remove")&&e!=this||(a=="destroy"&&this.remove(b,g),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],this._byId[b.id]=
b),this.trigger.apply(this,arguments))}});k.each(["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"],function(a){B.prototype[a]=function(){return k[a].apply(k,[this.models].concat(k.toArray(arguments)))}});var g=m.Router=function(a){a||(a={});if(a.routes)this.routes=
a.routes;this._bindRoutes();this.initialize.apply(this,arguments)},F=/:\w+/g,H=/\*\w+/g,p=/[-[\]{}()+?.,\\^$|#\s]/g;k.extend(g.prototype,A,{initialize:function(){},route:function(a,b,e){m.history||(m.history=new z);k.isRegExp(a)||(a=this._routeToRegExp(a));e||(e=this[b]);m.history.route(a,k.bind(function(g){g=this._extractParameters(a,g);e&&e.apply(this,g);this.trigger.apply(this,["route:"+b].concat(g));m.history.trigger("route",this,b,g)},this));return this},navigate:function(a,b){m.history.navigate(a,
b)},_bindRoutes:function(){if(this.routes){var a=[],b;for(b in this.routes)a.unshift([b,this.routes[b]]);b=0;for(var e=a.length;b<e;b++)this.route(a[b][0],a[b][1],this[a[b][1]])}},_routeToRegExp:function(a){a=a.replace(p,"\\$&").replace(F,"([^/]+)").replace(H,"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}});var z=m.History=function(){this.handlers=[];k.bindAll(this,"checkUrl")},v=/^[#\/]/,x=/msie [\w.]+/;z.started=!1;k.extend(z.prototype,A,{interval:50,
getHash:function(a){return(a=(a?a.location:window.location).href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,b){if(a==null)if(this._hasPushState||b){var a=window.location.pathname,e=window.location.search;e&&(a+=e)}else a=this.getHash();a.indexOf(this.options.root)||(a=a.substr(this.options.root.length));return a.replace(v,"")},start:function(a){if(z.started)throw Error("Backbone.history has already been started");z.started=!0;this.options=k.extend({},{root:"/"},this.options,a);this._wantsHashChange=
this.options.hashChange!==!1;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState);var a=this.getFragment(),b=document.documentMode;if(b=x.exec(navigator.userAgent.toLowerCase())&&(!b||b<=7))this.iframe=q('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a);if(this._hasPushState)q(window).bind("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in
window&&!b)q(window).bind("hashchange",this.checkUrl);else if(this._wantsHashChange)this._checkUrlInterval=setInterval(this.checkUrl,this.interval);this.fragment=a;a=window.location;b=a.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!b)return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0;else if(this._wantsPushState&&this._hasPushState&&b&&a.hash)this.fragment=this.getHash().replace(v,""),window.history.replaceState({},
document.title,a.protocol+"//"+a.host+this.options.root+this.fragment);if(!this.options.silent)return this.loadUrl()},stop:function(){q(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);z.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();a==this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a==this.fragment)return!1;this.iframe&&this.navigate(a);
this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return k.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},navigate:function(a,b){if(!z.started)return!1;if(!b||b===!0)b={trigger:b};var e=(a||"").replace(v,"");if(this.fragment!=e)this._hasPushState?(e.indexOf(this.options.root)!=0&&(e=this.options.root+e),this.fragment=e,window.history[b.replace?"replaceState":"pushState"]({},document.title,e)):this._wantsHashChange?
(this.fragment=e,this._updateHash(window.location,e,b.replace),this.iframe&&e!=this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,b.replace))):window.location.assign(this.options.root+a),b.trigger&&this.loadUrl(a)},_updateHash:function(a,b,e){e?a.replace(a.toString().replace(/(javascript:|#).*$/,"")+"#"+b):a.hash=b}});var E=m.View=function(a){this.cid=k.uniqueId("view");this._configure(a||{});this._ensureElement();this.initialize.apply(this,
arguments);this.delegateEvents()},W=/^(\S+)\s*(.*)$/,O=["model","collection","el","id","attributes","className","tagName"];k.extend(E.prototype,A,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();return this},make:function(a,b,e){a=document.createElement(a);b&&q(a).attr(b);e&&q(a).html(e);return a},setElement:function(a,b){this.$el&&this.undelegateEvents();this.$el=a instanceof q?a:q(a);this.el=this.$el[0];
b!==!1&&this.delegateEvents();return this},delegateEvents:function(a){if(a||(a=I(this,"events"))){this.undelegateEvents();for(var b in a){var e=a[b];k.isFunction(e)||(e=this[a[b]]);if(!e)throw Error('Method "'+a[b]+'" does not exist');var g=b.match(W),d=g[1],g=g[2],e=k.bind(e,this);d+=".delegateEvents"+this.cid;g===""?this.$el.bind(d,e):this.$el.delegate(g,d,e)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(a){this.options&&(a=k.extend({},this.options,
a));for(var b=0,e=O.length;b<e;b++){var g=O[b];a[g]&&(this[g]=a[g])}this.options=a},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var a=I(this,"attributes")||{};if(this.id)a.id=this.id;if(this.className)a["class"]=this.className;this.setElement(this.make(this.tagName,a),!1)}}});y.extend=B.extend=g.extend=E.extend=function(a,b){var e=M(this,a,b);e.extend=this.extend;return e};var j={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};m.sync=function(a,b,e){var g=j[a];e||
(e={});var d={type:g,dataType:"json"};if(!e.url)d.url=I(b,"url")||N();if(!e.data&&b&&(a=="create"||a=="update"))d.contentType="application/json",d.data=JSON.stringify(b.toJSON());if(m.emulateJSON)d.contentType="application/x-www-form-urlencoded",d.data=d.data?{model:d.data}:{};if(m.emulateHTTP&&(g==="PUT"||g==="DELETE")){if(m.emulateJSON)d.data._method=g;d.type="POST";d.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",g)}}if(d.type!=="GET"&&!m.emulateJSON)d.processData=!1;return q.ajax(k.extend(d,
e))};m.wrapError=function(a,b,e){return function(g,d){d=g===b?d:g;a?a(b,d,e):b.trigger("error",b,d,e)}};var D=function(){},M=function(a,b,e){var g;g=b&&b.hasOwnProperty("constructor")?b.constructor:function(){a.apply(this,arguments)};k.extend(g,a);D.prototype=a.prototype;g.prototype=new D;b&&k.extend(g.prototype,b);e&&k.extend(g,e);g.prototype.constructor=g;g.__super__=a.prototype;return g},I=function(a,b){return!a||!a[b]?null:k.isFunction(a[b])?a[b]():a[b]},N=function(){throw Error('A "url" property or function must be specified');
}}).call(this);(function(b){for(var b=b||{},a=["debug","info","warn","error","assert","clear","dir","dirxml","trace","group","groupCollapsed","groupEnd","time","timeEnd","profile","profileEnd","count","exception","table"],e=0;e<a.length;e++)b[a[e]]=b[a[e]]||function(){};var b=C.utility.getParams(),i;for(i in b)if(i=="profile")C("global").profile=1;C("global").profile&&console.profile("Global package profiler")})(window.console);C("support");C.support.touch="ontouchstart"in document.documentElement;
C.support.placeholder=C.utility.attrSupportedByEl("input","placeholder");
(function(){var b=document.createElement("p");try{b.style.color="rgba(1,1,1,0.5)"}catch(a){}C.support.rgba=/^rgba/.test(b.style.color);b=null;C.support.util={moved:!1,slideRight:!1,slideLeft:!1,resetTouch:function(){C.support.util.moved=!1;C.support.util.slideRight=!1;C.support.util.slideLeft=!1;C.support.util.startX=0;C.support.util.startY=0;C.support.util.diffX=0;C.support.util.diffY=0;C.support.util.changeX=0;C.support.util.changeY=0},cancelClick:function(a){a.preventDefault()},onTouchMove:function(a){a=
a.originalEvent.touches[0];C.support.util.diffX=a.clientX-C.support.util.startX;C.support.util.diffY=a.clientY-C.support.util.startY;C.support.util.changeX=Math.abs(C.support.util.diffX);C.support.util.changeY=Math.abs(C.support.util.diffY);if(C.support.util.changeX>15||C.support.util.changeY>15)C.support.util.moved=!0;C.support.util.diffX>60&&C.support.util.changeY<50?C.support.util.slideRight=!0:C.support.util.diffX<-60&&C.support.util.changeY<50?C.support.util.slideLeft=!0:(C.support.util.slideRight=
!1,C.support.util.slideLeft=!1)},onTouchStart:function(a){a=a.originalEvent.touches[0];C.support.util.resetTouch();C.support.util.startX=a.clientX;C.support.util.startY=a.clientY}};C.support.util.resetTouch();$("body").on("touchstart",C.support.util.onTouchStart).on("touchmove",C.support.util.onTouchMove)})();
(function(){var b={},a,e,i,m,k,q;for(q in document.body.style)if(e=q.match(/^(webkit|Moz|O|ms)/),a=q,e?(m||(m=e[0]?e[0].toLowerCase():null,k=RegExp("/-"+m+"-/","g")),e=("-"+q.replace(/([A-Z])/g,function(a){return"-"+a}).toLowerCase()).replace("--","-"),i=e.replace("-"+m+"-","")):(a=q,i=e=q.replace(/([A-Z])/g,function(a){return"-"+a}).toLowerCase()),!b[i]&&!(i in document.body.style&&(a!=i||e!=i)))b[i]={css:e,js:a};$.fn._css=$.fn.css;$.fn.css=function(){if(arguments.length&&Object.prototype.toString.call(arguments[0])==
"[object Object]")for(var a in arguments[0])Object.prototype.toString.call(arguments[0][a])=="[object String]"&&(arguments[0][a]=arguments[0][a].replace(k,"")),b[a]&&b[a].js!=a&&(arguments[0][b[a].js]=arguments[0][a],delete arguments[0][a]);return this._css.apply(this,arguments)}})();C("dom");C.dom.$window=$(window);C.dom.$html=$(document.documentElement);C.dom.$header=$(".chg-header");C.dom.$headerRoot=$(".chg-hdr-root");C.dom.$content=$(".chg-content");C.dom.$nav=$(".chg-nav");C.dom.$body=$(document.body);
C.dom.$root=$(".chg-root");C.dom.$container=$(".chg-container");C.dom.$navToggle=$(".icn-menu-toggle");(function(b,a){var e=b.History=b.History||{},i=b.jQuery;if(typeof e.Adapter!=="undefined")throw Error("History.js Adapter has already been loaded...");e.Adapter={bind:function(a,b,e){i(a).bind(b,e)},trigger:function(a,b,e){i(a).trigger(b,e)},extractEventData:function(b,e,i){return e&&e.originalEvent&&e.originalEvent[b]||i&&i[b]||a},onDomLoad:function(a){i(a)}};typeof e.init!=="undefined"&&e.init()})(window);
(function(b,a){var e=b.console||a,i=b.document,m=b.navigator,k=b.setTimeout,q=b.clearTimeout,t=b.setInterval,A=b.clearInterval,y=b.JSON,B=b.alert,g=b.History=b.History||{},F=b.history;y.stringify=y.stringify||y.encode;y.parse=y.parse||y.decode;if(typeof g.init!=="undefined")throw Error("History.js Core has already been loaded...");g.init=function(){if(typeof g.Adapter==="undefined")return!1;typeof g.initCore!=="undefined"&&g.initCore();typeof g.initHtml4!=="undefined"&&g.initHtml4();return!0};g.initCore=
function(){if(typeof g.initCore.initialized!=="undefined")return!1;else g.initCore.initialized=!0;g.options=g.options||{};g.options.hashChangeInterval=g.options.hashChangeInterval||100;g.options.safariPollInterval=g.options.safariPollInterval||500;g.options.doubleCheckInterval=g.options.doubleCheckInterval||500;g.options.storeInterval=g.options.storeInterval||1E3;g.options.busyDelay=g.options.busyDelay||250;g.options.debug=g.options.debug||!1;g.options.initialTitle=g.options.initialTitle||i.title;
g.intervalList=[];g.clearAllIntervals=function(){var a,b=g.intervalList;if(typeof b!=="undefined"&&b!==null){for(a=0;a<b.length;a++)A(b[a]);g.intervalList=null}};g.debug=function(){g.options.debug&&g.log.apply(g,arguments)};g.log=function(){var a=!(typeof e==="undefined"||typeof e.log==="undefined"||typeof e.log.apply==="undefined"),b=i.getElementById("log"),g,k,m,q;a?(k=Array.prototype.slice.call(arguments),g=k.shift(),typeof e.debug!=="undefined"?e.debug.apply(e,[g,k]):e.log.apply(e,[g,k])):g="\n"+
arguments[0]+"\n";k=1;for(m=arguments.length;k<m;++k){q=arguments[k];if(typeof q==="object"&&typeof y!=="undefined")try{q=y.stringify(q)}catch(t){}g+="\n"+q+"\n"}b?(b.value+=g+"\n-----\n",b.scrollTop=b.scrollHeight-b.clientHeight):a||B(g);return!0};g.getInternetExplorerMajorVersion=function(){return g.getInternetExplorerMajorVersion.cached=typeof g.getInternetExplorerMajorVersion.cached!=="undefined"?g.getInternetExplorerMajorVersion.cached:function(){for(var a=3,b=i.createElement("div"),e=b.getElementsByTagName("i");(b.innerHTML=
"<\!--[if gt IE "+ ++a+"]><i></i><![endif]--\>")&&e[0];);return a>4?a:!1}()};g.isInternetExplorer=function(){return g.isInternetExplorer.cached=typeof g.isInternetExplorer.cached!=="undefined"?g.isInternetExplorer.cached:Boolean(g.getInternetExplorerMajorVersion())};g.emulated={pushState:!Boolean(b.history&&b.history.pushState&&b.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(m.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(m.userAgent))),hashChange:Boolean(!("onhashchange"in
b||"onhashchange"in i)||g.isInternetExplorer()&&g.getInternetExplorerMajorVersion()<8)};g.enabled=!g.emulated.pushState;g.bugs={setHash:Boolean(!g.emulated.pushState&&m.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(m.userAgent)),safariPoll:Boolean(!g.emulated.pushState&&m.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(m.userAgent)),ieDoubleCheck:Boolean(g.isInternetExplorer()&&g.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(g.isInternetExplorer()&&
g.getInternetExplorerMajorVersion()<7)};g.isEmptyObject=function(a){for(var b in a)return!1;return!0};g.cloneObject=function(a){a?(a=y.stringify(a),a=y.parse(a)):a={};return a};g.getRootUrl=function(){var a=i.location.protocol+"//"+(i.location.hostname||i.location.host);i.location.port&&(a+=":"+i.location.port);a+="/";return a};g.getBaseHref=function(){var a=i.getElementsByTagName("base"),b=null,b="";a.length===1&&(b=a[0],b=b.href.replace(/[^\/]+$/,""));(b=b.replace(/\/+$/,""))&&(b+="/");return b};
g.getBaseUrl=function(){return g.getBaseHref()||g.getBasePageUrl()||g.getRootUrl()};g.getPageUrl=function(){return((g.getState(!1,!1)||{}).url||i.location.href.replace(/#.*/,"")).replace(/\/+$/,"").replace(/[^\/]+$/,function(a){return/\./.test(a)?a:a+"/"})};g.getBasePageUrl=function(){return i.location.href.replace(/[#\?].*/,"").replace(/[^\/]+$/,function(a){return/[^\/]$/.test(a)?"":a}).replace(/\/+$/,"")+"/"};g.getFullUrl=function(a,b){var e=a,i=a.substring(0,1),b=typeof b==="undefined"?!0:b;/[a-z]+\:\/\//.test(a)||
(e=i==="/"?g.getRootUrl()+a.replace(/^\/+/,""):i==="#"?g.getPageUrl().replace(/#.*/,"")+a:i==="?"?g.getPageUrl().replace(/[\?#].*/,"")+a:b?g.getBaseUrl()+a.replace(/^(\.\/)+/,""):g.getBasePageUrl()+a.replace(/^(\.\/)+/,""));return e.replace(/\#$/,"")};g.getShortUrl=function(a){var b=g.getBaseUrl(),e=g.getRootUrl();g.emulated.pushState&&(a=a.replace(b,""));a=a.replace(e,"/");g.isTraditionalAnchor(a)&&(a="./"+a);return a=a.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")};g.store={};g.idToState=g.idToState||
{};g.stateToId=g.stateToId||{};g.urlToId=g.urlToId||{};g.storedStates=g.storedStates||[];g.savedStates=g.savedStates||[];g.normalizeStore=function(){g.store.idToState=g.store.idToState||{};g.store.urlToId=g.store.urlToId||{};g.store.stateToId=g.store.stateToId||{}};g.getState=function(a,b){typeof a==="undefined"&&(a=!0);typeof b==="undefined"&&(b=!0);var e=g.getLastSavedState();!e&&b&&(e=g.createStateObject());if(a)e=g.cloneObject(e),e.url=e.cleanUrl||e.url;return e};g.getIdByState=function(a){var b=
g.extractId(a.url),e;if(!b)if(e=g.getStateString(a),typeof g.stateToId[e]!=="undefined")b=g.stateToId[e];else if(typeof g.store.stateToId[e]!=="undefined")b=g.store.stateToId[e];else{for(;;)if(b=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),typeof g.idToState[b]==="undefined"&&typeof g.store.idToState[b]==="undefined")break;g.stateToId[e]=b;g.idToState[b]=a}return b};g.normalizeState=function(a){var b;if(!a||typeof a!=="object")a={};if(typeof a.normalized!=="undefined")return a;if(!a.data||
typeof a.data!=="object")a.data={};b={normalized:!0};b.title=a.title||"";b.url=g.getFullUrl(g.unescapeString(a.url||i.location.href.replace(/#.*/,"")));b.hash=g.getShortUrl(b.url);b.data=g.cloneObject(a.data);b.id=g.getIdByState(b);b.cleanUrl=b.url.replace(/\??\&_suid.*/,"");b.url=b.cleanUrl;a=!g.isEmptyObject(b.data);if(b.title||a)b.hash=g.getShortUrl(b.url).replace(/\??\&_suid.*/,""),/\?/.test(b.hash)||(b.hash+="?"),b.hash+="&_suid="+b.id;b.hashedUrl=g.getFullUrl(b.hash);if((g.emulated.pushState||
g.bugs.safariPoll)&&g.hasUrlDuplicate(b))b.url=b.hashedUrl;return b};g.createStateObject=function(a,b,e){a={data:a,title:b,url:e};return a=g.normalizeState(a)};g.getStateById=function(b){b=String(b);return g.idToState[b]||g.store.idToState[b]||a};g.getStateString=function(a){a={data:g.normalizeState(a).data,title:a.title,url:a.url};return y.stringify(a)};g.getStateId=function(a){return g.normalizeState(a).id};g.getHashByState=function(a){return g.normalizeState(a).hash};g.extractId=function(a){return((a=
/(.*)\&_suid=([0-9]+)$/.exec(a))?String(a[2]||""):"")||!1};g.isTraditionalAnchor=function(a){return!/[\/\?\.]/.test(a)};g.extractState=function(a,b){var e=null,i,k,b=b||!1;(i=g.extractId(a))&&(e=g.getStateById(i));e||(k=g.getFullUrl(a),(i=g.getIdByUrl(k)||!1)&&(e=g.getStateById(i)),!e&&b&&!g.isTraditionalAnchor(a)&&(e=g.createStateObject(null,null,k)));return e};g.getIdByUrl=function(b){return g.urlToId[b]||g.store.urlToId[b]||a};g.getLastSavedState=function(){return g.savedStates[g.savedStates.length-
1]||a};g.getLastStoredState=function(){return g.storedStates[g.storedStates.length-1]||a};g.hasUrlDuplicate=function(a){var b=!1;return b=(b=g.extractState(a.url))&&b.id!==a.id};g.storeState=function(a){g.urlToId[a.url]=a.id;g.storedStates.push(g.cloneObject(a));return a};g.isLastSavedState=function(a){var b=!1;if(g.savedStates.length)a=a.id,b=g.getLastSavedState(),b=b.id,b=a===b;return b};g.saveState=function(a){if(g.isLastSavedState(a))return!1;g.savedStates.push(g.cloneObject(a));return!0};g.getStateByIndex=
function(a){var b=null;return b=typeof a==="undefined"?g.savedStates[g.savedStates.length-1]:a<0?g.savedStates[g.savedStates.length+a]:g.savedStates[a]};g.getHash=function(){return g.unescapeHash(i.location.hash)};g.unescapeString=function(a){return a};g.unescapeHash=function(a){a=g.normalizeHash(a);return a=g.unescapeString(a)};g.normalizeHash=function(a){return a.replace(/[^#]*#/,"").replace(/#.*/,"")};g.setHash=function(a,b){var e,k;if(b!==!1&&g.busy())return g.pushQueue({scope:g,callback:g.setHash,
args:arguments,queue:b}),!1;e=g.escapeHash(a);g.busy(!0);if((k=g.extractState(a,!0))&&!g.emulated.pushState)g.pushState(k.data,k.title,k.url,!1);else if(i.location.hash!==e)g.bugs.setHash?(k=g.getPageUrl(),g.pushState(null,null,k+"#"+e,!1)):i.location.hash=e;return g};g.escapeHash=function(a){a=g.normalizeHash(a);a=b.escape(a);g.bugs.hashEscape||(a=a.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?"));return a};g.getHashByUrl=function(a){a=String(a).replace(/([^#]*)#?([^#]*)#?(.*)/,
"$2");return a=g.unescapeHash(a)};g.setTitle=function(a){var b=a.title,e;b||(e=g.getStateByIndex(0))&&e.url===a.url&&(b=e.title||g.options.initialTitle);try{i.getElementsByTagName("title")[0].innerHTML=b.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(k){}i.title=b;return g};g.queues=[];g.busy=function(a){if(typeof a!=="undefined")g.busy.flag=a;else if(typeof g.busy.flag==="undefined")g.busy.flag=!1;if(!g.busy.flag){q(g.busy.timeout);var b=function(){var a,e;if(!g.busy.flag)for(a=
g.queues.length-1;a>=0;--a)if(e=g.queues[a],e.length!==0)e=e.shift(),g.fireQueueItem(e),g.busy.timeout=k(b,g.options.busyDelay)};g.busy.timeout=k(b,g.options.busyDelay)}return g.busy.flag};g.busy.flag=!1;g.fireQueueItem=function(a){return a.callback.apply(a.scope||g,a.args||[])};g.pushQueue=function(a){g.queues[a.queue||0]=g.queues[a.queue||0]||[];g.queues[a.queue||0].push(a);return g};g.queue=function(a,b){typeof a==="function"&&(a={callback:a});if(typeof b!=="undefined")a.queue=b;g.busy()?g.pushQueue(a):
g.fireQueueItem(a);return g};g.clearQueue=function(){g.busy.flag=!1;g.queues=[];return g};g.stateChanged=!1;g.doubleChecker=!1;g.doubleCheckComplete=function(){g.stateChanged=!0;g.doubleCheckClear();return g};g.doubleCheckClear=function(){if(g.doubleChecker)q(g.doubleChecker),g.doubleChecker=!1;return g};g.doubleCheck=function(a){g.stateChanged=!1;g.doubleCheckClear();if(g.bugs.ieDoubleCheck)g.doubleChecker=k(function(){g.doubleCheckClear();g.stateChanged||a();return!0},g.options.doubleCheckInterval);
return g};g.safariStatePoll=function(){var a=g.extractState(i.location.href.replace(/#.*/,""));if(!g.isLastSavedState(a))return a||g.createStateObject(),g.Adapter.trigger(b,"popstate"),g};g.back=function(a){if(a!==!1&&g.busy())return g.pushQueue({scope:g,callback:g.back,args:arguments,queue:a}),!1;g.busy(!0);g.doubleCheck(function(){g.back(!1)});F.go(-1);return!0};g.forward=function(a){if(a!==!1&&g.busy())return g.pushQueue({scope:g,callback:g.forward,args:arguments,queue:a}),!1;g.busy(!0);g.doubleCheck(function(){g.forward(!1)});
F.go(1);return!0};g.go=function(a,b){var e;if(a>0)for(e=1;e<=a;++e)g.forward(b);else if(a<0)for(e=-1;e>=a;--e)g.back(b);else throw Error("History.go: History.go requires a positive or negative integer passed.");return g};if(g.emulated.pushState){var H=function(){};g.pushState=g.pushState||H;g.replaceState=g.replaceState||H}else g.onPopState=function(a,e){var k=!1,k=!1;g.doubleCheckComplete();(k=(k=g.Adapter.extractEventData("state",a,e)||!1)?g.getStateById(k):g.expectedStateId?g.getStateById(g.expectedStateId):
g.extractState(i.location.href.replace(/#.*/,"")))||(k=g.createStateObject(null,null,i.location.href.replace(/#.*/,"")));g.expectedStateId=!1;if(g.isLastSavedState(k))return g.busy(!1),!1;g.storeState(k);g.saveState(k);g.setTitle(k);g.Adapter.trigger(b,"statechange");g.busy(!1);return!0},g.Adapter.bind(b,"popstate",g.onPopState),g.pushState=function(a,e,i,k){if(g.getHashByUrl(i)&&g.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(k!==
!1&&g.busy())return g.pushQueue({scope:g,callback:g.pushState,args:arguments,queue:k}),!1;g.busy(!0);var m=g.createStateObject(a,e,i);g.isLastSavedState(m)?g.busy(!1):(g.storeState(m),g.expectedStateId=m.id,F.pushState(m.id,m.title,m.url),g.Adapter.trigger(b,"popstate"));return!0},g.replaceState=function(a,e,i,k){if(g.getHashByUrl(i)&&g.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(k!==!1&&g.busy())return g.pushQueue({scope:g,
callback:g.replaceState,args:arguments,queue:k}),!1;g.busy(!0);var m=g.createStateObject(a,e,i);g.isLastSavedState(m)?g.busy(!1):(g.storeState(m),g.expectedStateId=m.id,F.replaceState(m.id,m.title,m.url),g.Adapter.trigger(b,"popstate"));return!0};g.store={};g.normalizeStore();g.Adapter.bind(b,"beforeunload",g.clearAllIntervals);g.Adapter.bind(b,"unload",g.clearAllIntervals);g.saveState(g.storeState(g.extractState(i.location.href.replace(/#.*/,""),!0)));if(!g.emulated.pushState&&(g.bugs.safariPoll&&
g.intervalList.push(t(g.safariStatePoll,g.options.safariPollInterval)),m.vendor==="Apple Computer, Inc."||(m.appCodeName||"")==="Mozilla"))if(g.Adapter.bind(b,"hashchange",function(){g.Adapter.trigger(b,"popstate")}),g.getHash())g.Adapter.onDomLoad(function(){g.Adapter.trigger(b,"hashchange")})};g.init()})(window);
window.matchMedia=window.matchMedia||function(b){var a,e=b.documentElement,i=e.firstElementChild||e.firstChild,m=b.createElement("body"),k=b.createElement("div");k.id="mq-test-1";k.style.cssText="position:absolute;top:-100em";m.style.background="none";m.appendChild(k);return function(b){k.innerHTML='&shy;<style media="'+b+'"> #mq-test-1 { width: 42px; }</style>';e.insertBefore(m,i);a=k.offsetWidth==42;e.removeChild(m);return{matches:a,media:b}}}(document);
(function(b){b.fn.placeholder=function(a){return this.each(function(){function e(a){i(b(a.target))}function i(){if(k.val()===""){if(k.attr("type")==="password")try{k.attr("type","text")}catch(a){return!1}k.val(q);k.addClass("ui-placeholder")}}function m(){k.removeClass("ui-placeholder");k.val()===q&&k.val("")}var k=b(this),q,t="placeholder"in document.createElement("input");q=a===void 0?b(this).attr("placeholder"):a;t?k.attr("placeholder",q):(i(k.blur(e).focus(m).addClass("ui-placeholder")),k.parents("form").submit(function(){k.val()===
q&&k.val("")}))})}})(jQuery);
(function(){var b=!1,a=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(e){var i=this.prototype;b=!0;var m=new this;b=!1;for(var k in e)m[k]=typeof e[k]=="function"&&typeof i[k]=="function"&&a.test(e[k])?function(a,b){return function(){var e=this._super;this._super=i[a];var k=b.apply(this,arguments);this._super=e;return k}}(k,e[k]):e[k];k=function(){!b&&this.init&&this.init.apply(this,arguments)};k.prototype=m;k.prototype.constructor=k;k.extend=arguments.callee;
return k}})();C("widget");
C.widget.__base={init:function(){this.instanceNumber=++C.global.instanceCounter;C("widget."+this.instanceNumber);C.widget[this.instanceNumber]._widget=[];this.eventNamespace="widget"+this.instanceNumber;this.construct.apply(this,arguments)},destroy:function(){this.destruct();if(this.eventNamespace){var b="."+this.eventNamespace;$(window).off(b);$("*").off(b)}for(b=0;b<C.widget[this.instanceNumber]._widget.length;b++)C.widget[this.instanceNumber]._widget[b].destroy?C.widget[this.instanceNumber]._widget[b].destroy():C.log("Widget "+
b+" does not have a destroy method");for(;C.widget[this.instanceNumber]._widget.length;)C.widget[this.instanceNumber]._widget.pop()},addWidget:function(b){C.widget[this.instanceNumber]._widget.push(b)},construct:function(){C.log("Missing widget construct(opts) function!")},destruct:function(){C.log("Missing widget destruct() function!")}};C.widget._base=Class.extend(C.widget.__base);C("widget.backbone");C.widget.backbone.view=Backbone.View.extend(_.extend(C.widget.__base,{initialize:function(b){this.init(b)}}));
C("page");
C.page._base=Class.extend({init:function(){this.arguments=arguments;C.page._widget=C.page._widget||[];this.instanceNumber=++C.global.pageCounter;this.eventNamespace="page"+this.instanceNumber;this.construct.apply(this,arguments)},getData:function(){return this.arguments},destroy:function(){this.destruct();if(this.eventNamespace){var b="."+this.eventNamespace;$(window).off(b);$("*").off(b)}for(b=0;b<C.page._widget.length;b++)C.page._widget[b].destroy?C.page._widget[b].destroy():C.log("Widget "+C.page._widget[b].toString()+
" does not have a destroy method");for(;C.page._widget.length;)C.page._widget.pop()},addWidget:function(b){C.page._widget.push(b)},construct:function(){C.log("Missing page construct(opts) function!")},destruct:function(){C.log("Missing page destruct() function!")}});C.Collection=Backbone.Collection.extend({objName:"C.Collection",destroy:function(){for(this.log("destroy");this.length>0;)this.at(0).destroy(),this.remove(this.at(0));this.trigger("destroy")}});
C.Model=Backbone.Model.extend({objName:"C.Model",destroy:function(){this.trigger("destroy")}});C.View=Backbone.View.extend({objName:"C.View"});C.Collection.prototype.log=C.Model.prototype.log=C.View.prototype.log=function(){var b=Array.prototype.slice.call(arguments);b.unshift(this.objName);C.log.apply(this,b)};jQuery.extend(jQuery,{escapeSelector:function(){var b=RegExp("(#|&|~|=|>|'|:|\"|!|;|,|\\.|\\*|\\+|\\||\\[|\\]|\\(|\\)|\\/|\\^|\\$)","g");return function(a){return a.replace(b,"\\$1")}}()});
$.fn.observe=function(){var b=arguments,a,e,i,m=b[0],k,q=this,t=function(a,b){for(var a=a.split(/\s+/),e=[],i=0;i<a.length;i++)e.push(a[i]+b);return e.join(" ")};if(b.length==2){a=b[1];k=typeof a.eventNamespace=="string"?"."+a.eventNamespace:"";for(var A in m)(function(b){if(b=="click"&&C.support.touch)q.on(t("touchmove",k),C.support.util.onTouchMove).on(t("click",k),C.support.util.cancelClick).on(t("touchend",k),function(e){return C.support.util.moved?void 0:m[b].call(a,e)});else q.on(t(b,k),function(e){return m[b].call(a,
e)})})(A)}else if(b.length==3)if(typeof m=="object")for(A in i=b[1],a=b[2],k=typeof a.eventNamespace=="string"?"."+a.eventNamespace:"",m)(function(b){if(b=="click"&&C.support.touch)q.on(t("touchmove",k),i,C.support.util.onTouchMove).on(t("click",k),i,C.support.util.cancelClick).on(t("touchend",k),i,function(e){return C.support.util.moved?void 0:m[b].call(a,e)});else q.on(t(b,k),i,function(e){return m[b].call(a,e)})})(A);else if(e=b[1],a=b[2],k=typeof a.eventNamespace=="string"?"."+a.eventNamespace:
"",m=="click"&&C.support.touch)this.on(t("touchmove",k),C.support.util.onTouchMove).on(t("click",k),C.support.util.cancelClick).on(t("touchend",k),function(b){return C.support.util.moved?void 0:e.call(a,b)});else this.on(t(m,k),function(b){return e.call(a,b)});else if(b.length==4)if(i=b[1],e=b[2],a=b[3],k=typeof a.eventNamespace=="string"?"."+a.eventNamespace:"",m=="click"&&C.support.touch)this.on(t("touchmove",k),i,C.support.util.onTouchMove).on(t("click",k),i,C.support.util.cancelClick).on(t("touchend",
k),i,function(b){return C.support.util.moved?void 0:e.call(a,b)});else this.on(t(m,k),i,function(b){return e.call(a,b)});return this};
$.fn.unobserve=function(){var b=arguments,a,e=b[0],i,m=this,k=function(a,b){for(var a=a.split(/\s+/),e=[],i=0;i<a.length;i++)e.push(a[i]+b);return e.join(" ")};if(b.length==2)if(b=b[1],i=typeof b.eventNamespace=="string"?"."+b.eventNamespace:"",typeof e=="object")for(var q in e)(function(a){a=="click"&&C.support.touch?m.off(k("touchmove",i)).off(k("click",i)).off(k("touchend",i)):m.off(k(a,i))})(q);else e=="click"&&C.support.touch?this.off(k("touchmove",i)).off(k("click",i)).off(k("touchend",i)):
this.off(k(e,i));else if(b.length==3)if(a=b[1],b=b[2],i=typeof b.eventNamespace=="string"?"."+b.eventNamespace:"",typeof e=="object")for(q in e)(function(b){b=="click"&&C.support.touch?m.off(k("touchmove",i),a).off(k("click",i),a).off(k("touchend",i),a):m.off(k(b,i),a)})(q);else e=="click"&&C.support.touch?this.off(k("touchmove",i),a).off(k("click",i),a).off(k("touchend",i),a):this.off(k(e,i),a);return this};
(function(b){C("widget");C.widget.spinner=C.widget._base.extend({construct:function(a){this.options=b.extend({spokes:16,animTime:75,color:"#666666",type:"round"},a);this.$set=this.options.canvas.jquery?this.options.canvas:b(this.options.canvas);this.canvases=this.getAndValidateCanvases(this.$set);if(this.canvases.length)this.rotation=Math.PI*2/this.options.spokes,this.rgbColor=this.getRGBColor(this.options.color),this.contexts=this.setupContexts(this.canvases),this.draw()},draw:function(){var a=this;
this.translateContexts(this.contexts);this.drawIntervalID=setInterval(function(){a.paintFrame()},this.options.animTime)},clearFrame:function(a){a.ctx.clearRect(a.negHalf,a.negHalf,a.size,a.size)},paintFrame:function(){for(var a=0;a<this.contexts.length;a++){var b=this.contexts[a];if(this.isPresent(b.ctx.canvas)){this.clearFrame(b);b.ctx.rotate(this.rotation);for(var i=0;i<this.options.spokes;i++)b.ctx.rotate(this.rotation),b.ctx.strokeStyle=this.rgbColor+i/this.options.spokes+")",b.ctx.beginPath(),
b.ctx.moveTo(0,b.startPos),b.ctx.lineTo(0,b.endPos),b.ctx.stroke()}else this.contexts.splice(a,1),a--}if(!this.contexts.length)for(b in clearInterval(this.drawIntervalID),this.contexts)this.contexts.hasOwnProperty(b)&&(b=this.contexts[b],this.clearFrame(b),this.translateContext(b,!0))},isPresent:function(a){return!!b(a).closest("body").length},getAndValidateCanvases:function(a){var b=[];a.each(function(a,m){m.nodeName==="CANVAS"&&b.push(m)});return b},setupContexts:function(a){var e=[],i;for(i in a)if(a.hasOwnProperty(i)){i=
a[i];var m=b(i);if(m.is(":visible")){var m=m.height(),k=0.5*m,q=-1*k,t=Math.floor(1/3*m),A=m*(m<30?0.08:0.0625),y=Math.floor(0.5*m)-A,B=i.getContext("2d");B.lineWidth=A;B.lineCap=this.options.type;e.push({ctx:B,size:m,halfSize:k,negHalf:q,startPos:t,endPos:y,thickness:A})}}return e},translateContext:function(a,b){b?a.ctx.translate(a.negHalf,a.negHalf):a.ctx.translate(a.halfSize,a.halfSize)},translateContexts:function(a,b){for(var i in a)a.hasOwnProperty(i)&&(i=a[i],this.translateContext(i,b))},getRGBColor:function(a){function b(a){return a.charAt(0)==
"#"?a.substring(1,7):a}return["rgba(",parseInt(b(a).substring(0,2),16),",",parseInt(b(a).substring(2,4),16),",",parseInt(b(a).substring(4,6),16),","].join("")},clearAllCanvases:function(){for(var a=0;a<this.contexts.length;a++){var b=this.contexts[a];this.isPresent(b.ctx.canvas)?this.clearFrame(b):(this.contexts.splice(a,1),a--)}},destruct:function(){clearInterval(this.drawIntervalID);this.clearAllCanvases()}})})(jQuery);
(function(b){C("widget");C.widget.autoComplete=C.widget._base.extend({construct:function(a){C.log("autocomplete:construct");this.opts=b.extend({minChar:1,delay:200,paramName:"search_by",ajaxParamName:"search_by",button:".search-submit",dropdownOverride:null,overrideActiveClass:null,topOffset:0,showTypeIcons:!1,showCommentCounts:!1,limitParamsString:"",additionalGetParamsString:"",cssPositioning:"absolute",combineResultSets:!1,callback:null,lastItem:null,lastItemCallback:null,track:null,refreshAfterSchoolChange:!1,
urlToNavigateToAfterSchoolChange:null,schoolChangeCallback:null,useSpinner:!1},a);this.mouseInDropdown=!1;this.$initializationElement=this.opts.el.jquery?this.opts.el:b(this.opts.el);this.$lastItem=this.opts.lastItem?this.opts.lastItem.jquery?this.opts.lastItem:b(this.opts.lastItem):null;if(this.$initializationElement.length)this.$initializationElement.is("input")||this.$initializationElement.is("textarea")?(this.$input=this.$initializationElement,this.$el=this.$input.offsetParent(),this.inputInitialized=
!0):(this.$el=this.$initializationElement,this.favorWrapElem=!0,this.$input=this.$el.find("input[name="+this.opts.paramName+"]"),this.inputInitialized=!1),this.activeQuestionsListWidget=null,this.needsQuestionsLists=!1,this.type=this.opts.type||"combined",this.determineQuestionsListNeeded(),this.isHeaderChild=(this.$parentHeaderSelector=this.$input.closest(".chg-header, .chg-hdr-root"))&&this.$parentHeaderSelector.length,this.isDialogChild=(this.$dialogParentSelector=this.$input.closest(".dialog-widget"))&&
this.$dialogParentSelector.length,this.$appendTarget=this.isHeaderChild?C.dom.$headerRoot:C.dom.$root,this.isFixedCss=this.opts.cssPositioning.toLowerCase()==="fixed",this.$input.attr("autocomplete","off"),this.$form=this.$input.parents("form"),this.$button=this.$form.parent().find(this.opts.button),this.buttonRestoreHtml=this.$button.html(),this.submitButtonSpinner=this.liRestoreHtml=null,this.url="/_ajax/autocomplete",this.xhrCounter=0,this.xhr=[],this.canShow=0,this.lastQuery=this.suggestVal="",
this.userForcedSubmission=!1,this.saveClickedHeader=null,this.changeSchoolUrl="/_ajax/user/changeschool",this.createDropdownContainer(),this.doBind(),this.hasRoundedCorners=parseInt(this.$input.css("border-bottom-right-radius"),10)},destruct:function(){C.log("autocomplete:destruct");this.$dropdown&&this.opts.dropdownOverride&&this.opts.overrideActiveClass?(this.$dropdown.hasClass(this.opts.overrideActiveClass)||this.$dropdown.addClass(this.opts.overrideActiveClass),this.$dropdown.remove()):(this.activeQuestionsListWidget&&
this.activeQuestionsListWidget.destroy(),this.submitButtonSpinner&&this.submitButtonSpinner.destroy(),this.$dropdown&&this.$dropdown.length&&this.$dropdown.remove())},determineQuestionsListNeeded:function(){var a=/instantanswers/i,b=/homeworkhelp/i,i=this.type;if(/question/i.test(i)||a.test(i)||b.test(i))this.needsQuestionsLists=!0},createDropdownContainer:function(){if(this.opts.dropdownOverride&&this.opts.overrideActiveClass){if(typeof this.opts.dropdownOverride==="string")this.opts.dropdownOverride=
b(this.opts.dropdownOverride);this.$dropdown=this.opts.dropdownOverride;this.$dropdown.addClass("chg-autocomplete-container")}else this.$dropdown=b('<div class="chg-autocomplete-container" id="autocomplete-'+this.instanceNumber+'"></div>').appendTo(this.$appendTarget).hide().css({position:this.opts.cssPositioning,zIndex:-1,width:this.opts.width})},doBind:function(){this.$input.observe({"focus.autocomplete":this.onTextboxFocus,"blur.autocomplete":this.onTextboxBlur,"keydown.autocomplete":this.onKeyDown,
"keyup.autocomplete":this.onKeyUp},this);this.$dropdown.observe({mouseover:this.onMouseOverSelection,mousedown:this.onSelectionClick,mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave},this);this.$button.observe("click",this.onButtonClick,this);b(window).observe("resize",this.hideDropdown,this)},getParsedUrl:function(){var a="",b="",i="",m="";this.opts.additionalGetParamsString.length&&(m=this.opts.additionalGetParamsString.substring(1)=="&"?"":"&",a=m+this.opts.additionalGetParamsString);
this.opts.limitParamsString.length&&(m=this.opts.limitParamsString.substring(1)=="&"?"":"&",b=m+this.opts.limitParamsString);this.opts.combineResultSets&&(i="&combine_results="+this.opts.combineResultsString);return this.url+"?"+this.opts.ajaxParamName+"="+encodeURIComponent(this.$input.val())+"&type="+this.type+a+b+i},fireAjax:function(){clearTimeout(this.ajaxTimeout);var a=this;this.ajaxTimeout=setTimeout(function(){a.callAjax()},this.opts.delay)},callAjax:function(){if(this.canShow){if(this.opts.useSpinner&&
this.$button.length&&this.buttonRestoreHtml&&!this.submitButtonSpinner){this.$button.html('<canvas class="loading" width="15" height="15"><img src="/s/_global/images/ajax-loader.gif"></canvas>');var a=this.$button.find("canvas.loading");this.submitButtonSpinner=new C.widget.spinner({canvas:a,color:"#000000"})}this.xhr.push(b.ajax({url:this.getParsedUrl(),dataType:"json",context:this,success:this.onAjaxSuccess,error:this.onAjaxError}))}},onAjaxSuccess:function(a,b,i){if(this.canShow&&this.isResponseInOrder(i))this.onAjaxResponse(a)},
onAjaxError:function(){},isResponseInOrder:function(a){var b;for(b=0;b<this.xhr.length;b++)if(this.xhr[b]===a)break;return b>=this.xhrCounter?(this.xhrCounter=b,!0):!1},onAjaxResponse:function(a){if(this.buildAutocompleteDropdown(a)){if(this.$button.length&&this.submitButtonSpinner)this.$button.html(this.buttonRestoreHtml),this.submitButtonSpinner=null;this.showDropdown()}},showDropdown:function(){if(this.canShow&&!this.userForcedSubmission)if(this.opts.dropdownOverride&&this.opts.overrideActiveClass)this.$dropdown&&
!this.$dropdown.hasClass(this.opts.overrideActiveClass)&&this.$dropdown.addClass(this.opts.overrideActiveClass);else{var a=this.opts.width||this.$input.outerWidth(),e=this.$input.offset(),i=this.favorWrapElem?this.$initializationElement:this.$input;this.isFixedCss?i.position():i.offset();var m=i.outerHeight(!0),k=e.left;m+=this.opts.topOffset;var q=[0];this.$input.parents().each(function(a,e){q.push(+b(e).css("zIndex")||0)});q=C.utility.max(q);this.opts.cssPositioning!=="fixed"&&!this.isHeaderChild?
(i=this.$input.scrollTop(),m+=i+e.top):this.isDialogChild&&(m+=i.position().top+parseInt(this.$dialogParentSelector.css("top"),10));this.$dropdown.css({position:this.opts.cssPositioning,zIndex:q,width:a+"px",left:k+"px",top:m+"px"}).show();this.hasRoundedCorners&&this.$input.css({"border-radius":"5px 5px 0 0"});this.userForcedSubmission=!1}},hideDropdown:function(){var a=this;this.opts.dropdownOverride&&this.opts.overrideActiveClass?this.$dropdown.hasClass(this.opts.overrideActiveClass)&&this.$dropdown.removeClass(this.opts.overrideActiveClass):
setTimeout(function(){a.hasRoundedCorners&&a.$input.css({"border-radius":"5px"});a.$dropdown.hide()},300)},onTextboxFocus:function(){if(this.$input.val().length&&this.$dropdown.html().length)this.canShow=1,this.showDropdown()},onTextboxBlur:function(){if(!this.mouseInDropdown&&!this.$input.is(":focus"))this.canShow=0,this.hideDropdown()},onMouseEnter:function(){if(!this.mouseInDropdown)this.mouseInDropdown=!0},onMouseLeave:function(){if(this.mouseInDropdown)this.mouseInDropdown=!1,this.onTextboxBlur()},
onKeyUp:function(a){if(a.keyCode==13)this.userForcedSubmission=!0,this.hideDropdown();else if(a=b.trim(this.$input.val()),this.lastQuery!=a){this.lastQuery=a;var e=String(this.$input.attr("textvalue"));if(a==e||a===""||a.length<this.opts.minChar){if(this.$button.length&&this.submitButtonSpinner)this.$button.html(this.buttonRestoreHtml),this.submitButtonSpinner=null;this.canShow=0;this.hideDropdown()}else this.canShow=1,this.suggestVal="",this.fireAjax(),this.userForcedSubmission=!1}},onKeyDown:function(a){if(a.keyCode==
40)this.doNextSelection(a),a.preventDefault();else if(a.keyCode==38)this.doPrevSelection(a),a.preventDefault();else if(a.keyCode==27)this.$input.blur();else if(a.keyCode==13)this.onSubmit(a)},onMouseOverSelection:function(a){var e=this.getTargetedLi(a),a=a.currentTarget;e.length&&(b(a).find("li").removeClass("suggest-selected"),e.addClass("suggest-selected"));this.changeSelection(e)},getTargetedLi:function(a){return b(a.target).closest("li")},doNextSelection:function(){var a=this.$dropdown.find("li"),
b=a.index(this.$dropdown.find("li.suggest-selected"));a.removeClass("suggest-selected");this.changeSelection(b==-1||b>=a.length-1?a.eq(0).addClass("suggest-selected"):a.eq(b+1).addClass("suggest-selected"))},doPrevSelection:function(){var a=this.$dropdown.find("li"),b=a.index(this.$dropdown.find("li.suggest-selected"));a.removeClass("suggest-selected");this.changeSelection(b==-1||b===0?a.eq(a.length-1).addClass("suggest-selected"):a.eq(b-1).addClass("suggest-selected"))},onButtonClick:function(){var a=
b.trim(this.$input.val());a==this.$input.attr("textvalue")||a===""||this.$form.submit();return!1},changeSelection:function(a){this.$curLi=a;a=this.$curLi.find(".autocomplete-hdr");this.suggestVal=this.saveClickedHeader=a.length?a.text():null},onSubmit:function(a){if(!this.$curLi)return this.opts.track&&(a=this.opts.track.split("="),this.$form.append('<input type="hidden" name="'+a[0]+'" value="'+a[1]+'" />')),!0;if(this.suggestVal.length){a.preventDefault();this.hideDropdown();var b=this.$curLi.find(".autocomplete-hdr");
if(b.length)this.saveClickedHeader=b.text();if(this.opts.callback&&this.$curLi)return this.opts.callback(a,this.$curLi,this.$initializationElement),!1;if(this.$curLi.hasClass("school-change"))return this.changeUserSchool(a,this.$curLi),!1;a=this.$curLi.attr("data-url");b=this.$curLi.attr("data-ii");b!=void 0&&(a=a.indexOf("?")==-1?a+"?ii="+b:a+"&ii="+b,this.opts.track&&(a+="&"+this.opts.track));C.utility.navigate(a);return!1}return!0},buildAutocompleteSectionItem:function(a,e){var i=[],m=a.title?
a.title.toLowerCase().indexOf("question")>=0:!1,k=m?a.replaceIsSafe:!0,m=m&&k?b.trim(a.replaceTerm):b.trim(this.$input.val()),m=RegExp("("+this.RegExpQuote(m)+")","i"),q=b("<div/>").html(a.title).text(),t=typeof a.hasTBS!=="undefined"&&a.hasTBS?a.hasTBS:!1,A='<li data-ii="'+e+'" ';a.listClass&&(A+='class="'+a.listClass+'" ');i.push(A);if(a.attributes)for(var y in a.attributes)i.push(y+'="'+a.attributes[y]+'" ');i.push(">");a.img&&(a.img.url&&(i.push('<img src="'+a.img.url+'"'),i.push(' alt="'+(a.img.alt?
a.img.alt:"chegg image")+'"'),a.img.width&&i.push(' width="'+a.img.width+'"'),a.img.height&&i.push(' height="'+a.img.height+'"'),i.push(" />")),i.push("<div>"));a.typeicon&&this.opts.showTypeIcons&&(a.typeicon.type==="count"&&a.countDisplay?i.push('<span class="icn-count-22 '+a.typeicon.iconclass+'">'+a.countDisplay+"</span>"):i.push('<span class="autocomplete-type-icon '+a.typeicon.iconclass+'">'+a.typeicon.type+"</span>"));typeof a.starRating!=="undefined"&&a.starRating&&i.push('<div class="autocomplete-star-rating"><span class="star-'+
a.starRating+'-sm">'+a.starRating+" Stars</span></div>");t&&a.solutionsUrl&&i.push('<a class="autocomplete-hasTBS" href="'+a.solutionsUrl+'"></a>');a.title&&(y=k?q.replace(m,'<span class="chg-suggest-term">$1</span>'):a.title,i.push('<p class="autocomplete-hdr">'+y+"</p>"));a.subtitle&&(k=k?a.subtitle.replace(m,'<span class="chg-suggest-term">$1</span>'):a.subtitle,i.push('<p class="autocomplete-subtitle">'+k+"</p>"));a.author&&(k=a.author.replace(m,'<span class="chg-suggest-term">$1</span>'),i.push('<p class="autocomplete-author">'+
k+"</p>"));a.isbnText&&(k=a.isbnText.replace(m,'<span class="chg-suggest-term">$1</span>'),k=k.replace("&amp;nbsp;"," &nbsp; "),a.editionNo&&a.editionNo!=0&&(k="Edition: "+a.editionNo+" "+k),i.push('<p class="autocomplete-isbn">'+k+"</p>"));a.coursename&&(m=a.coursename.replace(m,'<span class="chg-suggest-term">$1</span>'),i.push('<p class="autocomplete-course">'+m+"</p>"));this.showCommentCounts&&a.commentCount>0&&i.push('<span class="comment-count">'+a.commentCount+"</span>");a.button&&i.push("<button"+
(a.button.id?' id="'+a.button.id+'"':"")+(a.button.btnclass?' class="'+a.button.btnclass+'"':"btn-primary-mini")+">"+(a.button.text?a.button.text:"go")+"</button>");a.img&&i.push("</div>");i.push("</li>");return i.join("")},buildAutocompleteDropdown:function(a){if(a=typeof a=="object"?a:jQuery.parseJSON(a)){var e='<div id="'+this.opts.type.replace("|","_")+'_autocomplete"></div>',e=b(e),i=1;if(a){for(var m in a)if(a[m].title){e.append(b('<p class="automplete-sec-hdr">'+a[m].title+"</p>"));var k=b("<ul></ul>");
this.needsQuestionsLists&&k.addClass("questions-list");for(var q in a[m].items){var t=this.buildAutocompleteSectionItem(a[m].items[q],i),t=b(t);t.data("itemDetail",a[m].items[q]);k.append(t);i++}this.$lastItem&&(this.$lastItem.addClass("last-item"),k.append(this.$lastItem));e.append(k)}this.$lastItem&&e.find("ul").length==0&&(this.$lastItem.addClass("last-item"),m=b("<ul></ul>"),m.append(this.$lastItem),e.append(m));this.$dropdown.html(e).find("li:last-child").css({borderBottom:0});return e.html()==
""?!1:!0}}},wireQuestionsList:function(a){this.activeQuestionsListWidget&&this.activeQuestionsListWidget.destroy();var b=this.$dropdown.find(".questions-list");if(b.length)this.activeQuestionsListWidget=new C.widget.questionsList({el:b});(a=a||null)&&this.activeQuestionsListWidget&&this.activeQuestionsListWidget.getAjaxQuestion(a)},RegExpQuote:function(a){return(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},onSelectionClick:function(a){if(!b(a.target).hasClass("autocomplete-hasTBS")&&a.which===
1){this.$curLi=this.getTargetedLi(a);this.hideDropdown();if(this.$curLi.hasClass("last-item"))return this.opts.lastItemCallback&&this.opts.lastItemCallback(a,this.$curLi,this.$initializationElement),!1;if(this.$curLi.hasClass("question-get")&&!this.$curLi.hasClass("no-modal"))return this.wireQuestionsList(this.$curLi.attr("data-qid")),!1;if(this.opts.callback)this.opts.callback(a,this.$curLi,this.$initializationElement);else{var e=this.$curLi.find(".autocomplete-hdr");if(e.length)this.saveClickedHeader=
e.text(),this.updateInputVal();this.liRestoreHtml=this.$curLi.html();this.$curLi.html('<canvas class="loading" width="20" height="20"><img src="/s/_global/images/ajax-loader.gif"></canvas>');e=this.$curLi.find("canvas.loading");new C.widget.spinner({canvas:e,color:"#000000"});if(this.$curLi.hasClass("school-change"))return this.changeUserSchool(a,this.$curLi),!1;a=this.$curLi.attr("data-url");e=this.$curLi.attr("data-ii");e!=void 0&&(a=a.indexOf("?")==-1?a+"?ii="+e:a+"&ii="+e,this.opts.track&&(a+=
"&"+this.opts.track));if(this.liRestoreHtml)this.$curLi.html(this.liRestoreHtml),this.liRestoreHtml=null;C.utility.navigate(a)}}},changeType:function(a,e){var i=e||{},m=this.opts;typeof a!=="string"&&JSON.stringify(a);this.type=a;this.opts=b.extend({type:a},m,i);this.$dropdown&&(this.hideDropdown(),this.$dropdown.html(""));this.determineQuestionsListNeeded()},setPlaceholder:function(a){this.$input.attr("placeholder",a)},changeUserSchool:function(a,e){var i=e.jQuery?e:b(e),m=i.attr("data-schoolid");
this.updateInputVal();if(this.liRestoreHtml)this.$curLi.html(this.liRestoreHtml),this.liRestoreHtml=null;if(this.opts.schoolChangeCallback)return this.opts.schoolChangeCallback(a,i),!1;this.submitUserSchool(m)},submitUserSchool:function(a){a={gid:a};this.addAPITokenTo(a);var e=this.opts.refreshAfterSchoolChange,i=this.opts.urlToNavigateToAfterSchoolChange;b.ajax({type:"POST",dataType:"json",url:this.changeSchoolUrl,data:a,success:function(){i?C.utility.navigate(i):e&&(b(".chg-content > div").css({opacity:0.5}),
top.location.reload())},error:function(){return!1}})},updateInputVal:function(){if(this.saveClickedHeader)this.$input.off(".autocomplete"),this.$input.val(this.saveClickedHeader),this.$input.blur(),this.$input.observe({"focus.autocomplete":this.onTextboxFocus,"blur.autocomplete":this.onTextboxBlur,"keydown.autocomplete":this.onKeyDown,"keyup.autocomplete":this.onKeyUp},this),this.saveClickedHeader=null},addAPITokenTo:function(a){a.token=C.global.csrfToken}})})(jQuery);
(function(b){C("widget");C.widget.floatingMenu=C.widget._base.extend({construct:function(a){this.opts=b.extend({contentArea:C.dom.$content,fixedClass:null},a);this.elem=a.el.jquery?a.el:b(a.el);this.marginTop=a.marginTop;this.cssPosition=this.elem.css("position");this.cssTop=this.elem.css("top");this.cssWidth=this.elem.width();this.setDiv=b("<div></div>");this.elem.before(this.setDiv);C.dom.$window.observe("scroll",this.doScroll,this);C.dom.$window.observe("resize",this.doScroll,this);this.doScroll()},
doScroll:function(){var a=this.setDiv.offset().top-this.marginTop;if(b(window).scrollTop()>=a){this.elem.css({visibility:"hidden",position:"fixed",top:this.marginTop,width:this.cssWidth});this.opts.fixedClass&&this.elem.addClass(this.opts.fixedClass);var a=this.getContentBottom(),e=this.getElemBottom();e>=a&&this.elem.css("top",this.marginTop-(e-a));this.elem.css("visibility","visible")}else this.opts.fixedClass&&this.elem.removeClass(this.opts.fixedClass),this.elem.css({position:this.cssPosition,
top:this.cssTop})},getContentBottom:function(){var a=this.opts.contentArea;return a.length===0?0:a.offset().top+a.outerHeight()},getElemBottom:function(){return this.elem.length===0?0:this.elem.offset().top+this.elem.outerHeight()+parseFloat(this.elem.css("margin-bottom").replace("px",""))},destruct:function(){this.setDiv.remove()}})})(jQuery);C("widget");
C.widget.dialog=C.widget._base.extend({construct:function(b){this.opts=$.extend({top:"50",type:"string",content:"",overlay:!0,background:"#000",opacity:0.4,overlayClose:!0,resizeClose:!1,successCallback:null,errorCallback:null,showPaging:!1,pageRightCallback:null,pageLeftCallback:null,contentChangeCallback:null,fixed:!0,afterHideCallback:null,afterHideCallbackContext:null,destroyOnClose:!1},b);this.$root=C.dom.$root;this.$window=C.dom.$window;if(this.$root.length&&this.$window.length)this.closeDialog=
".chg-dialog-close",this.isHidden=!0,this.$body=C.dom.$body||null,this.isResizing=!1,this.overlayZIndex=0,this.createOverlay(),this.createDialog(),this.createPagingButtons(),this.doBind(),this.handlingScroll=!1,this.lastScrollTop=null,this.opts.content.length&&(this.opts.type=="ajax"?this.doAjax():this.opts.type=="string"&&this.doString())},createOverlay:function(){this.overlayZIndex=C.utility.getMaxIndex()+1;if(this.opts.overlay)this.$overlay=$('<div style="position:fixed;top:0;left:0;z-index:-1;" id="overlay-'+
this.eventNamespace+'"></div>').appendTo(this.$root).css({background:this.opts.background,opacity:this.opts.opacity}).hide()},createDialog:function(){var b=this.opts.fixed?"fixed":"absolute";this.$dialog=$('<div id="dialog-'+this.eventNamespace+'" class="dialog-widget"></div>').appendTo(this.$root).css({position:b,zIndex:-1,top:"-9999px",left:"-9999px"})},createPagingButtons:function(){if(this.opts.showPaging)this.$pageLeft=this.$pageLeft||$('<div class="dialog-pg-lt-wrap"><button class="dialog-pg-lt" type="button"> </button></div>'),
this.$pageRight=this.$pageRight||$('<div class="dialog-pg-rt-wrap"><button class="dialog-pg-rt" type="button"> </button></div>')},positionPagingButtons:function(){if(this.$dialog&&this.opts.showPaging&&(this.$dialog.find(".dialog-pg-lt-wrap").length||(this.$dialog.append(this.$pageLeft),this.$dialog.append(this.$pageRight)),this.$pageLeft&&this.$pageRight))if(this.opts.fixed){var b=($(document).width()-this.$dialog.width())/2,a=+this.$dialog.outerWidth(),a=b+a;this.$pageLeft.css({left:b-50+"px"});
this.$pageRight.css({left:a+"px"})}else b=$(".dialog-pg-lt-wrap"),a=$(".dialog-pg-rt-wrap"),b.css({position:"absolute",top:"100px"}),a.css({position:"absolute",top:"100px"}),this.$pageLeft.css({left:"-50px"}),this.$pageRight.css({right:"-50px"})},showOverLay:function(b){if(this.$overlay){var a=$(document),e=a.width(),a=a.height();this.$overlay.css({width:e+"px",height:a+"px"}).show();this.isHidden=!1;b&&this.$overlay.css({zIndex:this.overlayZIndex})}},showDialog:function(){var b=$(document).width(),
a=this.overlayZIndex+1;this.$dialog.css({top:this.getDialogTopPositionVal()+"px",left:(b-this.$dialog.width())/2+"px",zIndex:a});this.opts.fixed&&this.setMaxDialogContentHeight();this.$dialog.show();this.showOverLay(1);this.isHidden=!1},applySizeChangeAfterHide:function(){var b=$(document),a=b.width(),b=b.height();this.$overlay.css({width:a+"px",height:b+"px"});var b=this.overlayZIndex+1,e=this.getDialogTopPositionVal();this.$dialog.css({zIndex:b});this.$dialog.css({top:e+"px",left:(a-this.$dialog.width())/
2+"px"});this.opts.fixed&&this.setMaxDialogContentHeight();this.positionPagingButtons()},getDialogTopPositionVal:function(){var b=parseInt(this.opts.top,10);this.opts.fixed||(b+=parseInt(C.dom.$window.scrollTop(),10));return b},handleResize:function(){if(this.$dialog&&!this.isResizing)this.isResizing=!0,this.opts.resizeClose?(this.hideDialog(),this.hideOverlay(),this.applySizeChangeAfterHide()):(!this.$overlay&&this.opts.overlay&&this.createOverlay(),this.$dialog||this.createDialog(),this.isHidden?
this.applySizeChangeAfterHide():this.showDialog(),this.positionPagingButtons(),this.isResizing=!1)},setMaxDialogContentHeight:function(){if(this.$dialog){var b=this.$dialog.find(".dialog-hdr"),a=this.$dialog.find(".dialog-ftr"),e=this.$dialog.find(".dialog-content"),b=+b.outerHeight(),a=+a.outerHeight(),a=$(window).height()-2*+this.opts.top-b-a;e.css({"max-height":a+"px","overflow-y":"auto"})}},doBind:function(){this.$dialog.observe("click",this.closeDialog,this.fireClose,this);this.opts.overlayClose&&
this.$overlay.observe("click",this.hide,this);this.$window.observe("resize",this.handleResize,this);this.$window.observe("scroll",this.pagerButtonsHandleScroll,this);this.opts.showPaging&&(this.$pageLeft.observe("click",this.handlePageLeft,this),this.$pageRight.observe("click",this.handlePageRight,this),this.$body&&this.$body.observe("keyup",this.pagingKeyUp,this),C.support.touch&&this.$dialog.observe("touchend",function(b){this.isHidden||(C.support.util.slideLeft?(this.handlePageRight(),b.preventDefault(),
b.stopPropagation()):C.support.util.slideRight&&(this.handlePageLeft(),b.preventDefault(),b.stopPropagation()))},this))},pagerButtonsHandleScroll:function(){if(this.opts.showPaging&&!this.handlingScroll&&!this.opts.fixed)this.handlingScroll=!0,setTimeout($.proxy(function(){var b=$(".dialog-pg-lt-wrap"),a=$(".dialog-pg-rt-wrap"),e=parseInt(b.css("top")),i=parseInt(this.$dialog.css("top"),10),m=C.dom.$body.scrollTop()-i,k=this.$dialog.outerHeight(),q=k-i-100;if(k<200)this.handlingScroll=!1;else{e=this.lastScrollTop&&
m<this.lastScrollTop?e-m:e+m;e>q&&(e=q);if(e<100||C.dom.$body.scrollTop()<i)e=100;this.lastScrollTop=e;b.animate({top:e+"px"},250);a.animate({top:e+"px"},250);var t=this;setTimeout(function(){t.handlingScroll=!1},300)}},this),1E3)},pagingKeyUp:function(b){if(!this.isHidden&&this.$dialog){var a=$(":focus");if(!this.$dialog.find(".mceIframeContainer").length&&!a.is("textarea, input"))return b=b.which,b===39&&this.handlePageRight(),b===37&&this.handlePageLeft(),!1}},handlePageRight:function(){this.opts.pageRightCallback()},
handlePageLeft:function(){this.opts.pageLeftCallback()},disablePaging:function(){this.disablePageLeft();this.disablePageRight()},disablePageLeft:function(){this.$pageLeft&&(this.$pageLeft.find(".dialog-pg-lt").attr("disabled","disabled"),this.$pageLeft.off("click"))},disablePageRight:function(){this.$pageRight&&(this.$pageLeft.find(".dialog-pg-rt").attr("disabled","disabled"),this.$pageRight.off("click"))},show:function(){this.opts.overlay&&(this.$overlay||this.createOverlay(),this.$overlay.show());
this.$dialog||this.createDialog();this.opts.fixed||this.$dialog.css({top:this.getDialogTopPositionVal()+"px"});this.$dialog.show();this.isHidden=!1},fireClose:function(){this.opts.destroyOnClose?this.destroy():this.hide()},hide:function(){this.hideOverlay();this.hideDialog();this.opts.afterHideCallback&&(this.opts.afterHideCallbackContext?this.opts.afterHideCallback.call(this.opts.afterHideCallbackContext):this.opts.afterHideCallback())},hideOverlay:function(){this.$overlay.hide()},getHiddenValue:function(){return this.isHidden},
hideDialog:function(){this.$dialog.hide();this.isHidden=!0},remove:function(){this.$dialog&&this.$dialog.remove();this.$overlay&&this.$overlay.remove()},doAjax:function(){this.$dialog.css({"min-width":"600px"});this.showLoader();$.ajax({url:this.opts.content,context:this,success:this.onAjaxSuccess,error:this.onAjaxError})},showLoader:function(){this.populateDialog('<canvas class="chg-dialog-spinner" width="40" height="40"><div class="chg-dialog-spinner-fallback"></div></canvas>');this.showDialog();
new C.widget.spinner({canvas:".chg-dialog-spinner",color:"#ffffff",spokes:15,thickness:3})},onAjaxSuccess:function(b){this.showLoader();this.populateDialog(b);this.opts.successCallback&&this.opts.successCallback()},populateDialog:function(b){this.$dialog&&(typeof b=="string"?this.$dialog.html(b):(this.$dialog.empty(),this.$dialog.append(b)),this.opts.showPaging&&this.positionPagingButtons(),this.onDialogContentChange())},doString:function(){this.populateDialog(this.opts.content);this.showDialog()},
onAjaxError:function(){this.opts.errorCallback&&this.opts.errorCallback()},onDialogContentChange:function(){typeof this.opts.onContentChange=="function"&&this.opts.contentChangeCallback()},destruct:function(){C.log("dialog:destruct");this.$overlay.remove();this.$dialog.remove()}});C("widget");
C.widget.popup=C.widget._base.extend({construct:function(b){var a={color:"#fff",borderRadius:"5px",background:"rgba(0,0,0,0.8)",shadow:"rgba(0,0,0,0.25)"};if(b&&b.opacity&&typeof b.opacity=="number"&&b.opacity<=1)a.background="rgba(0,0,0,"+b.opacity+")";b&&b.template&&(b.template=="gray"?a={color:"#333",borderRadius:"5px",background:"rgba(230,230,230,1)",shadow:"rgba(0,0,0,0.25)"}:b.template=="white"?a={color:"#000",borderRadius:"5px",background:"#fff",shadow:"rgba(0,0,0,0.25)"}:b.template=="header"&&
(a={color:"white",borderRadius:"0 0 5px 5px",background:"#DC6E04",shadow:"rgba(0,0,0,0.25)"}));this.opts=$.extend({padding:"15px",side:"right",width:"auto",height:"auto",margin:5,overhang:15,pointerEdgePadding:15,pointerSize:10,content:"attr",attr:"title",trigger:"hover",template:null,url:"",method:"get",autoCenter:!1,showDelay:0,hideTimeout:500},a,b);if(!C.support.rgba)this.opts.color=C.utility.rgba2rgb(this.opts.color),this.opts.background=C.utility.rgba2rgb(this.opts.background),this.opts.shadow=
C.utility.rgba2rgb(this.opts.shadow);this.hideTimer=this.delayTimer=null;this.$el=b.el.jquery?b.el:$(b.el);this.$appendTarget=(this.isHeaderChild=(this.$parentHeaderSelector=this.$el.closest(".chg-header, .chg-hdr-root"))&&this.$parentHeaderSelector.length)?C.dom.$headerRoot:C.dom.$root;this.createPopup();this.doBind()},destruct:function(){clearTimeout(this.delayTimer);clearTimeout(this.hideTimer);this.$container.length&&this.$container.remove()},createPopup:function(){this.$container=this.$container||
$('<div id="popup-'+this.instanceNumber+'"><div></div></div>').appendTo(this.$appendTarget).children().css({position:"absolute","border-radius":this.opts.borderRadius,"background-color":this.opts.background,padding:this.opts.padding,color:this.opts.color,width:this.opts.width,"z-index":-1,visibility:"hidden"});var b=["transparent","transparent","transparent","transparent"];b[{top:0,right:1,bottom:2,left:3}[this.opts.side]]=this.opts.background;b={width:0,height:0,position:"absolute",borderColor:b.join(" "),
borderStyle:"solid",borderWidth:this.opts.pointerSize};this.$pointer=$("<div></div>").css(b)},doBind:function(){this.opts.trigger=="hover"?(this.$el.observe({mouseover:this.toggleContainer,mouseout:this.hidePopup},this),this.$container.observe({mouseover:this.holdContainer,mouseout:this.hidePopup},this)):this.opts.trigger=="click"&&(this.$el.observe({click:this.toggleContainer},this),this.$container.observe({mouseover:this.holdContainer,mouseout:this.hidePopup},this))},holdContainer:function(){clearTimeout(this.hideTimer)},
toggleContainer:function(b){clearTimeout(this.hideTimer);if(this.$container.is(":hidden"))this.hidePopup();else{var a=$(b.currentTarget),e=this.opts.getData?this.opts.getData.call(this,a):this.getData(a),i=this;if(e&&e.length)this.delayTimer=setTimeout(function(){i.showPopup(a,e)},this.opts.showDelay)}},hidePopup:function(){clearTimeout(this.delayTimer);var b=this;this.hideTimer=setTimeout(function(){b.$container.css({zIndex:-1,visibility:"hidden"})},this.opts.hideTimeout)},getData:function(b){var a=
this;if(this.opts.content=="attr"){if(this.opts.attr=="title"){if(!this.title)this.title=b.attr(this.opts.attr),b.removeAttr(this.opts.attr);return this.title}return b.attr(this.opts.attr)}else if(this.opts.content=="ajax")$.ajax({url:this.opts.url,method:this.opts.method,success:function(e){a.showPopup(b,e)}});else return this.opts.content},positionPopup:function(b){var a=b.offset(),e,i,m;this.isHeaderChild&&(a=b.position());this.opts.side=="top"?this.opts.autoCenter?(e=b.outerWidth(),b.outerHeight(),
b=this.$container.outerWidth(),m=this.$container.outerHeight(),e={top:a.top-m-this.opts.pointerSize-this.opts.margin,left:a.left+e/2-b/2,"box-shadow":"2px -2px 2px "+this.opts.shadow},m={bottom:this.opts.pointerSize*-2,left:b/2-this.opts.pointerSize}):(e={top:a.top-this.$container.outerHeight()-this.opts.pointerSize-this.opts.margin,left:a.left-this.opts.overhang,"box-shadow":"2px -2px 2px "+this.opts.shadow},m={bottom:this.opts.pointerSize*-2,left:this.opts.pointerEdgePadding}):this.opts.side=="left"?
this.opts.autoCenter?(b.outerWidth(),i=b.outerHeight(),b=this.$container.outerWidth(),m=this.$container.outerHeight(),e={top:a.top+i/2-m/2,left:a.left-b-this.opts.pointerSize-this.opts.margin},m={right:this.opts.pointerSize*-2,top:m/2-this.opts.pointerSize}):(e={top:a.top-this.opts.overhang,left:a.left-this.$container.outerWidth()-this.opts.pointerSize-this.opts.margin},m={right:this.opts.pointerSize*-2,top:this.opts.pointerEdgePadding}):this.opts.side=="right"?this.opts.autoCenter?(e=b.outerWidth(),
i=b.outerHeight(),this.$container.outerWidth(),m=this.$container.outerHeight(),e={top:a.top+i/2-m/2,left:a.left+e+this.opts.pointerSize+this.opts.margin},m={left:this.opts.pointerSize*-2,top:m/2-this.opts.pointerSize}):(e={top:a.top-this.opts.overhang,left:a.left+b.outerWidth()+this.opts.pointerSize+this.opts.margin},m={left:this.opts.pointerSize*-2,top:this.opts.pointerEdgePadding}):this.opts.side=="bottom"&&(this.opts.autoCenter?(e=b.outerWidth(),i=b.outerHeight(),b=this.$container.outerWidth(),
this.$container.outerHeight(),e={top:a.top+i+this.opts.pointerSize+this.opts.margin,left:a.left+e/2-b/2,"box-shadow":"2px 2px 2px "+this.opts.shadow},m={top:this.opts.pointerSize*-2,left:b/2-this.opts.pointerSize}):(e={top:a.top+b.outerHeight()+this.opts.pointerSize+this.opts.margin,left:a.left-this.opts.overhang,"box-shadow":"2px 2px 2px "+this.opts.shadow},m={top:this.opts.pointerSize*-2,left:this.opts.pointerEdgePadding}));this.$container.css(e);this.$pointer.css(m)},showPopup:function(b,a){a&&
a.length&&(this.$container.html(a),this.opts.positionCallback?this.opts.positionCallback.call(this,b):this.positionPopup(b),this.opts.afterInsertCallback&&this.opts.afterInsertCallback.call(this,b,this.$container),this.$container.append(this.$pointer).css({zIndex:C.utility.getMaxIndex()+1,visibility:"visible"}))}});C("ever");C.ever.kv={};C.ever.set=function(b,a){a===void 0||a==="undefined"||(a=$.trim(a),C.ever.setWindow(b,a),C.ever.setLocal(b,a),C.ever.setCookie(b,a),C.ever.kv[b]=a)};
C.ever.get=function(b){var a;a=(a=(a=(a=a||C.ever.getWindow(b))||C.ever.getLocal(b))||C.ever.getCookie(b))||C.ever.kv[b];C.ever.set(b,a);return $.trim(a)};C.ever.setCookie=function(b,a){var e=C.global&&C.global.cookieDomain?";domain="+C.global.cookieDomain:"";document.cookie=b+"=; expires=Mon, 20 Sep 2010 00:00:00 UTC; path=/"+e;document.cookie=b+"="+a+"; expires=Tue, 31 Dec 2050 00:00:00 UTC; path=/"+e};C.ever.getCookie=function(b){return C.ever.getFromSerializedString(document.cookie,";",b,1)};
C.ever.setWindow=function(b,a){window.name=C.ever.getSetIntoSerializedStringResult(window.name,"&",b,a,1)};C.ever.getWindow=function(b){if(window.name)return C.ever.getFromSerializedString(window.name,"&",b,1)};C.ever.setLocal=function(b,a){window.localStorage&&window.localStorage.setItem&&localStorage.setItem(b,a)};C.ever.getLocal=function(b){if(window.localStorage&&window.localStorage.getItem)return localStorage.getItem(b)};
C.ever.getSetIntoSerializedStringResult=function(b,a,e,i,m){e+="=";if(!b.length)return e+(m?escape(i):i);for(var k=0,b=b.split(a),q=0;q<b.length;q++)b[q].indexOf(e)===0&&(b[q]=e+(m?escape(i):i),k=1);k||b.push(e+(m?escape(i):i));return b.join(a)};C.ever.getFromSerializedString=function(b,a,e,i){b=b.split(a);e+="=";for(a=0;a<b.length;a++)if($.trim(b[a]).indexOf(e)===0)return $.trim(i?unescape(b[a].replace(e,"")):b[a].replace(e,""))};
C.dom.$window.bind("beforeunload",function(){for(var b in C.ever.kv)C.ever.set(b,C.ever.kv[b])});C("global");C.global.cachedJS=[];C.global.pageObject={};C.global.instanceCounter=C.global.instanceCounter||0;C.global.pageCounter=C.global.pageCounter||0;
$(function(){var b=[],a=0,e={},i=!1,m=[],k=[],q,t,A=C.utility.showSpinner=function(){y();$(".chg-module").length?$(".chg-module > div").css("opacity","0.5"):$(".chg-content > div").css("opacity","0.5");t=setTimeout(function(){C.dom.$content.append('<div class="chg-loading" style="display: none"><canvas height="30" width="30"></canvas><br/>Loading</div>');$(".chg-loading").fadeIn();q=new C.widget.spinner({canvas:$(".chg-loading canvas"),color:"#ffffff"})},300)},y=C.utility.hideSpinner=function(){clearTimeout(t);
q&&(q.destroy(),q=null,$(".chg-loading").remove());$(".chg-module").length?$(".chg-module > div").css("opacity","1"):$(".chg-content > div").css("opacity","1")},B=function(a){var b=a.currentTarget.getAttribute("href");if(b&&(b.indexOf("mailto:")===0||b.indexOf("//")===0||b.indexOf("#")===0||b.indexOf("/#")!==-1)){if(b.indexOf("#")===0){var e=$(b).offset().top-60;window.location.replace(b);window.scrollTo(0,e);a.preventDefault()}}else!a.ctrlKey&&!a.metaKey&&(a.preventDefault(),C.utility.navigate(b))},
g=C.utility._handleRequest=function(a){C.dom.$html.find("*").off(".chg-page-widget");C.logger.referrer_url=History.getStateByIndex(-2)?History.getStateByIndex(-2).url:location.href;A();$("#ajax_loaded").val("0");$("html, body").stop().animate({scrollTop:0},300);C.dom.$html.css("cursor","progress");b.push($.ajax({type:"post",url:a,data:{orig_referrer:C.logger.referrer_url},dataType:"json",success:F,error:function(){C.log("Failed to load page: "+a);location.replace(a)}}));O()},F=function(g,j,q){for(j=
j=0;j<b.length;j++)if(b[j]===q)break;if(j>=a)if(a=j,typeof C.global.pageObject.destroy==="function"&&C.global.pageObject.destroy(),m[a]=0,k[a]=0,e={},i=!1,y(),C.dom.$content.empty(),$('link[data-scope="content"]').each(function(){this.disabled=!0}),e=g,C.logger.loadTime=e.loadTime,e.redirect)location.replace(e.redirect);else{$("title").html(e.title);e.fixedWidth?C.dom.$container.addClass("no-resize"):C.dom.$container.removeClass("no-resize");H(e.nav);m[a]+=e.css.length;k[a]+=e.js.length;z();for(var h in e.css){h=
e.css[h];var n=a;x(h,function(){p("css",n)})}for(var t in e.js)t=e.js[t],function(a,b){C.dom.$window.queue("chg-js-"+b,function(){E(a,function(){p("js",b)})})}(t,a);C.dom.$window.dequeue("chg-js-"+a)}},H=function(a){if(a){C.dom.$container.removeClass("no-nav");C.dom.$navToggle.removeClass("hidden");var b="",e="main";a.main.selected&&(e="main selected");var g=a.main.label;g.length>20&&(g=g.substr(0,17)+"...");b+='<a href="'+a.main.url+'" class="'+e+'"><div><img src="'+a.main.img+'" /></div>'+g+"</a>";
if(a.list)for(var i in a.list)i=a.list[i],e="",i.selected&&(e="selected"),b+='<a href="'+i.url+'" class="'+i.img+" "+e+'"><span class="nav-icon '+i.img+'"></span><span class="nav-label">'+i.label+"</span></a>";C.dom.$nav.html(b)}else C.dom.$container.addClass("no-nav"),C.dom.$navToggle.addClass("hidden")},p=function(a,b){a=="css"?m[b]--:a=="js"&&(C.dom.$window.dequeue("chg-js-"+b),k[b]--);z()},z=function(){m[a]==0&&(i||(i=!0,C.dom.$content.html(e.html)));if(k[a]==0&&m[a]==0)e.init?($.globalEval("C.global.pageObject = "+
e.init),typeof C.global.pageObject.postConstruct=="function"&&C.global.pageObject.postConstruct()):C.global.pageObject={},D(),C.dom.$html.css("cursor","auto"),$(window).trigger("navigatePage",[location.href,"ajax"])},v={},x=function(a,b){var e,g;v[a]?(v[a][0].disabled=!1,b()):(e=$('<link id="css_'+a+'" rel="stylesheet" type="text/css" href="'+a+'" media="all" data-scope="content" />').appendTo(document.head),v[a]=e,g=setTimeout(function(){g=null;b()},1E3),e=new Image,e.src=a,e.onerror=function(){g&&
(clearTimeout(g),setTimeout(function(){b()},250))})},E=function(a,b){C.global.cachedJS[a]?b():C.utility.loadScript(a,function(){C.global.cachedJS[a]=!0;b()})},W=function(){C.dom.$navToggle.hasClass("clicked")||(C.dom.$window.on("resize.cheggNav",O),C.dom.$html.css({"overflow-x":"hidden",width:C.dom.$html.width()}),C.dom.$body.css({overflow:"hidden",width:C.dom.$body.width()}),C.dom.$nav.css({zIndex:0,display:"block"}),C.dom.$content.css({zIndex:1,width:C.dom.$content.width()}),C.dom.$content.stop().animate({marginLeft:"160px"},
300,function(){C.dom.$nav.css("z-index","");C.dom.$content.css("z-index","");C.dom.$navToggle.addClass("clicked")}))},O=function(){C.dom.$navToggle.hasClass("clicked")&&(C.dom.$window.off("resize.cheggNav"),C.dom.$nav.css("z-index",0),C.dom.$content.css("z-index",1),C.dom.$content.stop().animate({marginLeft:0},300,function(){C.dom.$nav.css({zIndex:"",display:""});C.dom.$content.css({zIndex:"",width:"auto",marginLeft:""});C.dom.$body.css({overflow:"auto",width:"auto"});C.dom.$html.css({"overflow-x":"auto",
width:"auto"});C.dom.$navToggle.removeClass("clicked")}))},j=function(){C.dom.$navToggle.hasClass("clicked")?O():W()},D=function(){C.utility.processPlaceholders();$(".chg-nav a.main div").css("height","auto");$("#ajax_loaded").val("1");C.utility.updateCart();try{gapi.plusone.go()}catch(a){}C.utility.checkPollution()};$("#ajax_loaded").length==0&&C.dom.$root.append('<input id="ajax_loaded" type="hidden" value="0" />');D();History.enabled&&(C.dom.$body.observe("click.cheggNavigation","a:not([data-noajax])",
B,C.dom.$window),C.dom.$window.on("statechange",function(){g(History.getState().url)}),setTimeout(function(){C.dom.$body.unobserve("click.cheggNavigation",C.dom.$window)},6E5));C.global.headerAutocomplete=new C.widget.autoComplete({el:".chg-header-search",type:"combined",topOffset:0,paramName:"search_by",button:"#header_autocomplete_submit",cssPositioning:"fixed",width:531,useSpinner:!0});$(".chg-header-search-input").observe("focus",function(){$(".chg-header-search").addClass("focused")},C.dom.$window);
$(".chg-header-search-input").observe("blur",function(){$(".chg-header-search").removeClass("focused")},C.dom.$window);new C.widget.popup({el:".chg-header-username",width:"140px",content:'<ul class="hdr-nav"><a href="'+C.global.liveSiteUrl+'my/courses" rel="nofollow"><li class="hdr-border"><span class="nav-icon course"></span>Courses</li></a><a href="'+C.global.liveSiteUrl+'my/schedule" rel="nofollow"><li class="hdr-border"><span class="nav-icon schedule"></span>Schedule</li></a><a href="'+C.global.liveSiteUrl+
'my/questions-and-answers" rel="nofollow"><li class="hdr-border"><span class="nav-icon qna"></span>Q&A</li></a><a href="'+C.global.liveSiteUrl+'my/books" rel="nofollow"><li class="hdr-border"><span class="nav-icon book"></span>Books</li></a><a href="'+C.global.liveSiteUrl+'my/scholarships" rel="nofollow"><li class="hdr-border"><span class="nav-icon sship"></span>Scholarships</li></a><a class="chg-signout" href="'+C.global.cheggSiteUrl+"signout?token="+C.global.csrfToken+'" rel="nofollow"><li class="hdr-no-border"><span class="nav-icon signout"></span>Sign Out</li></a></ul>',
trigger:"hover",side:"bottom",margin:0,padding:"0",overhang:0,hideTimeout:200});new C.widget.popup({el:".chg-header-help",width:"130px",content:'<ul class="hdr-nav"><a href="'+C.global.liveSiteUrl+'my/account/tracker"><li class="hdr-border"><span class="hdr-nav-spacer">Track books</span></li></a><a href="'+C.global.liveSiteUrl+'my/account/returnbooks"><li class="hdr-border"><span class="hdr-nav-spacer">Return books</span></li></a><a href="'+C.global.liveSiteUrl+'my/account/extendables"><li class="hdr-border"><span class="hdr-nav-spacer">Extend/Purchase</span></li></a><a data-noajax="true" href="'+
C.global.liveSiteUrl+'my/orders"><li class="hdr-border"><span class="hdr-nav-spacer">Modify order</span></li></a><a href="'+C.global.liveSiteUrl+'my/account"><li class="hdr-no-border"><span class="hdr-nav-spacer">See all &raquo;</span></li></a></ul>',trigger:"hover",side:"bottom",margin:0,padding:"0",overhang:0,hideTimeout:200});C.logger.referrer_url=document.referrer;window.matchMedia("(min-width:0)").matches?(C.dom.$navToggle.observe("click",j,C.dom.$window),C.support.touch&&C.dom.$content.observe("click",
"[type=submit]",function(a){var b=$(a.currentTarget),a=b.closest("form"),e=b.attr("name"),b=b.val(),e=$('<input type="hidden" name="'+e+'" value="'+b+'" />');a.append(e);a.submit();e.remove()},C.dom.$window)):(C.dom.$navToggle.css("display","none"),C.dom.$nav.css({display:"block",position:"absolute"}),C.dom.$content.css("margin-left","160px"),C.dom.$container.css("min-width","980px"),$(".chg-header-content").css("min-width","950px"),$(".chg-footer-container").css("min-width","980px"),$(".no-nav .chg-nav").css("display",
"block"),$(".no-nav .chg-content").css("margin-left",0));new C.widget.floatingMenu({el:".chg-nav",marginTop:70});C.dom.$nav.observe("click","a",function(a){C.dom.$nav.find(".selected").removeClass("selected");$(a.currentTarget).addClass("selected");History.enabled||A()},C.dom.$window);$(".chg-banner").observe("click",function(){new C.widget.dialog({type:"ajax",content:"/_ajax/dialog/browserupgrade"})},C.dom.$window);$(".chg-header-search-form").observe("submit",function(){var a=/\/courses\/([^/#]+)/g.exec(window.location.href);
a?C.utility.navigate(C.global.cheggSiteUrl+"search/"+encodeURIComponent($(".chg-header-search-input").val())+"/courses/"+a[1]):C.utility.navigate(C.global.cheggSiteUrl+"search/"+encodeURIComponent($(".chg-header-search-input").val())+"/books")},C.dom.$window);if(C.support.touch)C.dom.$window.observe("click","label[for]",function(a){a=$("#"+$.escapeSelector($(a.currentTarget).attr("for")));a.attr("checked",!a.attr("checked"));a.trigger("change")},C.dom.$window),C.dom.$content[0].style.webkitBackfaceVisibility=
"hidden",C.dom.$content[0].style.webkitPerspective=1E3;C.dom.$body.observe("click",".chg-dialog-link",function(a){a.preventDefault();new C.widget.dialog({type:"ajax",content:a.currentTarget.href,fixed:!1});return!1},this)});C("logger");
C.logger=function(){var b=function(a,b){null!==a&&$.ajax({url:"/_ajax/log",type:"GET",data:{type:a.type,value:JSON.stringify(a)},success:function(){typeof b==="function"&&b()},error:function(b){C.log(a.type+" log failed with error: "+JSON.stringify(b))}})};return{doEventLog:function(a,e){a.parent_page_url=window.location.href;a.parent_page_timestamp=C.logger.loadTime;a.referrer_url=window.location.href;a.destination_url=window.location.href;a.type="event";b(a,e)},doSessionLog:function(a,e){a.destination_url=
window.location.href;a.referrer_url=C.logger.referrer_url;a.type="session";b(a,e)}}}();C("facebook");window.fbAsyncInit=function(){FB.init({appId:"107051471700",channelUrl:"/channel.php",status:!0,cookie:!0,xfbml:!0});C.facebook.initialized=!0};C.facebook.queue=function(b,a,e){if(!e)e=location.href;if(a||location.href==e)C.facebook.initialized?b():setTimeout(function(){C.facebook.queue(b,a,e)},500)};
(function(b){var a=b.getElementsByTagName("script")[0];if(!b.getElementById("facebook-jssdk"))b=b.createElement("script"),b.id="facebook-jssdk",b.async=!0,b.src="//connect.facebook.net/en_US/all.js",a.parentNode.insertBefore(b,a)})(document);C("logs.events");C.logs.events.common={getOnlyEventName:function(b){return{event_name:b}}};C("logs.events");
C.logs.events.my=function(){return{onLoad:function(b){return{event_name:"on_load_person_overview",school_id:b.schoolId,question_for_me_ids:b.questions_for_me_ids.join("+"),qa_ids:b.qa_ids.join("+"),notes_ids:b.notes_ids.join("+")}}}}();
try{var CRITEO=function(){function b(){var a=F[3].charAt(0);return typeof a!="undefined"&&a==1}function a(){var a=F[3].charAt(1);return typeof a!="undefined"&&a==1}function e(){var a=F[3].charAt(2);return!z&&typeof a!="undefined"&&a==1}function i(){var a=(document.location.protocol=="https:"&&"https:"||"http:")+"//dis.",b="";typeof F[2]!="undefined"&&F[2]!=""&&(b=F[2],b.charAt(b.length-1)!="."&&(b+="."));return a+b+"criteo.com/dis/dis.aspx"}function m(){for(var a="",b=H&&H.length||0,e=F[4],g=1,i=
0;i<b;i++)for(var k=0;k<e.length;k++){g>1&&(a+="&");var m;var p=H[i],q=g;m=e[k];var h=v[p.pageType];if(h){var n=F[5],t="",A="";for(name in n)if(p.hasOwnProperty(name)){var d=n[name][0],z=n[name][1],y=n[name][2],B="";if(B=typeof p[name]=="function"?p[name]():p[name])switch(z){case 0:A+="&"+d+"="+B;break;case 1:var V;typeof B==="string"?V=B.split(p.delimiter):Object.prototype.toString.apply(B)==="[object Array]"&&(V=B);z=V.length;typeof y!="undefined"&&z>y&&(z=y);for(y=1;y<=z;y++)A+="&"+d+y+"="+V[y-
1];break;case 2:t+="&"+d+"="+encodeURIComponent(B)}}var p="t"+q+"="+h.eventType+"&p"+q+"=",q=encodeURIComponent,n=h.params+"&wi=",l;b:switch(h.eventType){case "sendEvent":l=m[0];break b;case "transaction":l=m[1]}m=p+q(n+l+A)+t}else m=void 0;a+=m;g++}return a}function k(){var a=i()+"?p="+F[0]+"&cb="+Math.floor(Math.random()*99999999999);try{a+="&ref="+encodeURIComponent(document.referrer)}catch(b){}try{a+="&sc_r="+encodeURIComponent(screen.width+"x"+screen.height)}catch(e){}try{a+="&sc_d="+encodeURIComponent(screen.colorDepth)}catch(g){}return a.substring(0,
2E3)}function q(){var a=i()+"?p="+F[0];a+="&"+m();a+="&cb="+Math.floor(Math.random()*99999999999);try{a+="&ref="+encodeURIComponent(document.referrer)}catch(b){}try{a+="&sc_r="+encodeURIComponent(screen.width+"x"+screen.height)}catch(e){}try{a+="&sc_d="+encodeURIComponent(screen.colorDepth)}catch(g){}return a.substring(0,2E3)}function t(a){if(window.addEventListener)window.addEventListener("load",a,!1);else if(window.attachEvent)window.attachEvent("onload",a);else{var b=window.onload;window.onload=
function(){if(b&&typeof b.fired=="undefined")b.fired=!0,b();a()}}}function A(){var a=[];if(b()){if(document.createElement){var e=document.createElement("iframe");if(e)e.width="1px",e.height="1px",e.style.display="none",e.src=q();a.push(e)}}else{if(e=document.createElement("img"))e.width="1px",e.height="1px",e.style.display="none",e.src=(document.location.protocol=="https:"?"https://sslwidget.":"http://widget.")+"criteo.com/"+F[1]+"/display.js?resptype=gif&"+m();var g=document.createElement("iframe");
if(g)g.width="1px",g.height="1px",g.style.display="none",g.src=k(),e.onload=function(){B(g)};a.push(e)}return a}function y(){for(var a=A(),b=0;b<a.length;b++)B(a[b])}function B(a){var b;if(e())b=document.getElementById("cto_mg_div");else{b=document.getElementsByTagName("body");if(!b||b.length==0)return;b=b[0]}b!=null&&b.appendChild&&b.appendChild(a)}function g(){a()?t(function(){y()}):y()}var F,H,p=!1,z=!1,v={home:{eventType:"sendEvent",params:"v=2&pt1=0&pt2=1"},product:{eventType:"sendEvent",params:"v=2&pt1=2"},
list:{eventType:"sendEvent",params:"v=2&pt1=3"},basket:{eventType:"transaction",params:"v=2&s=0"},confirmation:{eventType:"transaction",params:"v=2&s=1"},search:{eventType:"sendEvent",params:"v=2&pt1=4"}};return{Load:function(a){typeof CRITEO_CONF=="undefined"||p||(p=!0,z=a,F=CRITEO_CONF[1],H=CRITEO_CONF[0],e()&&document.write("<div id='cto_mg_div' style='display:none;'></div>"),g())}}}()}catch(err$$3){}CRITEO.Load(!0);C("logs.events");
C.logs.events.qa=function(){return{onLoadMyQuestions:function(b){var a=[],b=b.questions_for_me,e;for(e in b)a.push(b[e].id);return{event_name:"on_load_my_questions",questions_for_me_ids:a.join("+")}},onLoadTextbooksQA:function(b){var a=[],e;for(e in b.questions)a.push(b.questions[e].id);return{event_name:"on_load_textbooks_questions",question_ids:a.join("+"),book_id:b.book_id}},onQuestionClick:function(b,a,e){return{event_name:"on_click_question",pcscrumb:e,qid:b}},onClickAnswer:function(b){return{event_name:"on_submit_answer",
qid:b}},onSubmitQuestion:function(b){b=b.response;return{event_name:"on_submit_ask_question",question_id:b.id,is_anonymous:b.anonymous,course_id:b.questionCourse.id}},onClickSeeAllQA:function(){return C.logs.events.common.getOnlyEventName("on_click_see_all_qa")},onClickQuestionsTab:function(b,a){var e=[],i="";a=="asked"?i="on_click_asked_questions":a=="answered"&&(i="on_click_answered_questions");for(var m in b)null!==b[m]&&e.push(b[m].id);return{event_name:i,ids:e.join("+")}},onClickHWHSubscribe:function(b,
a){return{event_name:"on_click_hwh_subscribe",id:typeof a==="undefined"?null:a}},onClickInstantQuestion:function(b){return{event_name:"on_click_instant_question",question_id:b}}}}();C("logs.events");
C.logs.events.books=function(){return{onClickSeeAllBooks:function(){return C.logs.events.common.getOnlyEventName("on_click_see_all_books")},onClickAddBooks:function(){return C.logs.events.common.getOnlyEventName("on_click_add_books")},onLoadCoursesBooks:function(b){return{event_name:"on_load_courses_books",required_isbns:b.required.join("+"),recommended_isbns:b.recommended.join("+")}},onToggleCheckBoxForCart:function(b){var a=$(b).is(":checked"),b=$(b).attr("id").split("include")[1];return a?{event_name:"on_check_book_for_add_to_cart",
isbn:b}:{event_name:"on_uncheck_book_for_add_to_cart",isbn:b}},onClickAddToCart:function(b){return{event_name:"on_add_to_cart",isbns:b.isbns.join("+"),list_price:b.list_price,total_price:b.total_price}},onLoadPersonBooks:function(b){var a=b.userBooks,b=b.orderedBooks,e=[],i=[];if(null!=a)for(var m in a)if(a[m].no)for(var k in a[m].no)e.push(a[m].no[k]);if(null!=b)for(m in b)b[m]&&i.push(b[m].ean);return{event_name:"on_load_person_books",books_for_me_ids:e.join("+"),books_i_have_ids:i.join("+")}}}}();
C("logs.events");C.logs.events.notes=function(){return{onClickSeeAllNotes:function(){return C.logs.events.common.getOnlyEventName("on_click_see_all_notes")}}}();C("logs.events");
C.logs.events.course=function(){var b=function(a){return{event_name:a,schPrefix:this.schPrefix,schoolId:this.schoolId,subjCode:this.subjCode,subject:this.subject,term:this.term,year:this.year}};return{onLoadCoursesCourse:function(a){return{event_name:"on_load_courses_course",question_ids:a.questionIds.join("+"),review_ids:a.reviewIds.join("+"),is_planned:a.statusInfo.is_planned?1:0,is_rated:a.statusInfo.is_rated?1:0,current_term:a.studentInfo.term,student_count:a.studentInfo.count}},onClickIAmInThisCourse:function(a){return b.call(a,
"on_click_i_am_in_this_course")},onClickRateThisCourse:function(a){return b.call(a,"on_click_rate_this_course")},onClickSeeAllInfoReviews:function(){return C.logs.events.common.getOnlyEventName("on_click_see_all_info_reviews")},onClickSeeAllStudents:function(){return C.logs.events.common.getOnlyEventName("on_click_see_all_students")},onClickWriteReview:function(){return C.logs.events.common.getOnlyEventName("on_click_write_a_review")},onSubmitRateCourse:function(a){return{event_name:"on_submit_rate_course",
school:a.school,subject:a.subject,code:a.code,rating:a.currentRating,grade:a.currentGrade,year:a.currentYear,term:a.currentTerm}},onLoadCoursesQuestions:function(a){return{event_name:"on_load_courses_questions",school_id:a.course.schoolId,course_number:a.course.catalogNumber,subject_code:a.course.subjectCode,year:a.course.academicYear}}}}();C("logs.events");
C.logs.events.schedule=function(){return{onLoadSuccess:function(b){var a=[],e;for(e in b.courses)a.push({term:b.courses[e].academicTerm,year:b.courses[e].academicYear,catalogNumber:b.courses[e].catalogNumber,subjectCode:b.courses[e].subjectCode,schoolId:b.courses[e].schoolId});return{event_name:"on_load_person_schedule",course_info:JSON.stringify(a)}},onClickAddCourse:function(b){return{event_name:"on_click_add_course",catalog_number:b.code,school_id:b.school,subject:b.subject,term:b.term,year:b.year}}}}();
C("logs.events");
C.logs.events.home=function(){var b=function(a){var b=[];if(null!==a)for(var i in a){var m=i,k=[],q;for(q in a[i].books)k.push(a[i].books[q].isbn);b.push({info:m,isbns:k.join("+")})}return b};return{onLoad:function(a){return{event_name:"on_load_home",courses_info:JSON.stringify(b(a.courses)),school_name:a.user_info.school,school_id:a.user_info.schoolId,term:a.user_info.term,year:a.user_info.year}},onSubmitAddRemoveCourse:function(a,b){return{event_name:b=="add"?"on_submit_add_course":"on_submit_remove_course",
subject:a.subject,code:a.code,term:a.term,year:a.year,school:a.school}},OnHoverCourseItem:function(a,b){var i={event_name:b=="info"?"on_hover_course_info":"on_hover_course_book",year:a.year,term:a.term,code:a.code,subject:a.subject};return b=="book"?$.extend(i,{isbn:a.isbn}):i},onClickInfoLink:function(a,b){return{event_name:b,id:a}},onClickSeeMoreCourses:function(a){return{event_name:"on_click_see_course_info",school:a.school,subject:a.subject,code:a.code}}}}();C("logs.events");
C.logs.events.solution=function(){return{onLoadBookSolutions:function(b){return{event_name:"on_load_books_solution",isbn:b.isbn,problem_id:b.vmJson.problemId,solution_id:b.vmJson.solutionId}},onClickHWHSubscribe:function(b,a){return{event_name:"on_click_HWH_subscribe",isbn:b,solution_id:a}}}}();C("tou");
C.tou.model=C.Model.extend({objName:"C.tou.model",initialize:function(){},fetch:function(){$.ajax({context:this,type:"post",dataType:"json",url:"/_ajax/tou",success:function(b){this.set({version:b.version});this.trigger("fetch:success")}})},submit:function(){$.ajax({context:this,type:"post",dataType:"json",url:"/_ajax/tou/accept",data:{token:C.global.csrfToken},success:function(){this.trigger("submit:success")}})}});
C.tou.view=C.View.extend({objName:"C.tou.view",className:"tou clearfix",tmpl:_.template('<div class="dialog-4"><div class="dialog-hdr"><h2 class="dialog-title">Terms of Use and Privacy Policy</h2><div class="dialog-close-wrapper"><button class="btn-secondary-sm tou-close"><span class="icn-cross">Close</span> </button></div></div><div class="dialog-content"><p>Chegg has updated its Terms of Use and Privacy Policy.</p><p>Please review carefully.</p></div><form class="touForm"><div class="touContent"><%=version%></div><div class="dialog-ftr"><input type="checkbox" id="tou-agree"/><label class="form-checkbox" for="tou-agree">&nbsp;</label><label class="tou-label" for="tou-agree">&nbsp;I agree to Chegg\'s Terms of Use and Privacy Policy</label><button class="continue-button btn-primary-sm" disabled="true">Continue</button></div></form></div>'),tmplMessage:_.template('<div class="dialog-4"><div class="dialog-hdr"><h2 class="dialog-title">Terms of Use and Privacy Policy</h2><div class="dialog-close-wrapper"><button class="btn-secondary-sm ok-button"><span class="icn-cross">Close</span> </button></div></div><div class="dialog-content"><p>Please accept the Terms of Use and Privacy Policy to continue.</p><p>Click Logout to sign out of Chegg.</p></div><div class="dialog-ftr"><button class="tou-logout-button btn-secondary-sm">Logout</button><button class="ok-button btn-secondary-sm">Ok</button></div></div>'),
events:{"click .cancel-button":"onClickCancel","click .tou-close":"onClickCancel","click .continue-button":"onClickContinue","change #tou-agree":"onAgreeChange"},initialize:function(){this.model.on("destroy",this.destroy,this);this.model.on("submit:success",this.destroy,this);this.model.on("fetch:success",this.render,this)},render:function(){if($("div.dialog-widget").length>0&&$("div.tou").length>0)return C.log("tou found"),!0;this.$el.append($(this.tmpl(this.model.toJSON())));this.showDialog();return this},
destroy:function(){this.remove();this.dialog&&this.dialog.destroy();this.message&&this.message.destroy()},showDialog:function(){this.dialog=new C.widget.dialog({content:this.$el,overlayClose:!1})},showMessage:function(){this.message=new C.widget.dialog({content:$(this.tmplMessage()),overlayClose:!1});$(".ok-button").click(_.bind(this.onClickOk,this));$(".tou-logout-button").click(_.bind(this.onClickLogout,this))},onClickContinue:function(b){b.preventDefault();this.$("#tou-agree").is(":checked")?this.model.submit():
this.showMessage()},onClickCancel:function(b){b.preventDefault();this.showMessage()},onClickOk:function(b){b.preventDefault();this.message&&this.message.destroy()},onClickLogout:function(b){b.preventDefault();this.message&&this.message.destroy();window.location.href="/signout?token="+C.global.csrfToken},onAgreeChange:function(b){$(b.target).is(":checked")?$(".continue-button").removeAttr("disabled"):$(".continue-button").attr("disabled","disabled")}});C("global").profile&&console.profileEnd();
