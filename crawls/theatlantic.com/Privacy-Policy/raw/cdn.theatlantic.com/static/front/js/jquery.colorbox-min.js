(function(b,B,aa){function c(a,g,c){a=B.createElement(a);if(g)a.id=o+g;if(c)a.style.cssText=c;return b(a)}function K(a){var b=j.length,a=(q+a)%b;return 0>a?b+a:a}function l(a,b){return Math.round((/%/.test(a)?("x"===b?k.width():k.height())/100:1)*parseInt(a,10))}function ba(n){return a.photo||/\.(gif|png|jpe?g|bmp|ico)((#|\?).*)?$/i.test(n)}function ca(){var n;h[b.expando]||(h[b.expando]=parseInt(h.getAttribute("data-expando-id"),10));var g=b.data(h,p);a=b.extend({},g);for(n in a)b.isFunction(a[n])&&
"on"!==n.slice(0,2)&&(a[n]=a[n].call(h));a.rel=a.rel||h.rel||"nofollow";a.href=a.href||b(h).attr("href");a.title=a.title||h.title;if("string"===typeof a.href)a.href=b.trim(a.href)}function y(a,g){b.event.trigger(a);g&&g.call(h)}function ja(){var n,b=o+"Slideshow_",c="click."+o,d,f;a.slideshow&&j[1]?(d=function(){C.text(a.slideshowStop).unbind(c).bind(P,function(){if(a.loop||j[q+1])n=setTimeout(e.next,a.slideshowSpeed)}).bind(Q,function(){clearTimeout(n)}).one(c+" "+L,f);i.removeClass(b+"off").addClass(b+
"on");n=setTimeout(e.next,a.slideshowSpeed)},f=function(){clearTimeout(n);C.text(a.slideshowStart).unbind([P,Q,L,c].join(" ")).one(c,function(){e.next();d()});i.removeClass(b+"on").addClass(b+"off")},a.slideshowAuto?d():f()):i.removeClass(b+"off "+b+"on")}function da(n){if(!M){h=n;ca();j=b(h);q=0;"nofollow"!==a.rel&&(j=b("."+D).filter(function(){this[b.expando]||(this[b.expando]=parseInt(this.getAttribute("data-expando-id"),10));return(b.data(this,p).rel||this.rel)===a.rel}),q=j.index(h),-1===q&&
(j=j.add(h),q=j.length-1));if(!r){r=E=!0;i.show();if(a.returnFocus)b(h).blur().one(ea,function(){b(this).focus()});v.css({opacity:+a.opacity,cursor:a.overlayClose?"pointer":"auto"}).show();a.w=l(a.initialWidth,"x");a.h=l(a.initialHeight,"y");e.position();F&&k.bind("resize."+N+" scroll."+N,function(){v.css({width:k.width(),height:k.height(),top:k.scrollTop(),left:k.scrollLeft()})}).trigger("resize."+N);y(fa,a.onOpen);R.add(S).hide();T.html(a.close||"close").show()}e.load(!0)}}function ga(){!i&&B.body&&
(U=!1,k=b(aa),i=c(d).attr({id:p,"class":G?o+(F?"IE6":"IE"):""}).hide(),v=c(d,"Overlay",F?"position:absolute":"").hide(),z=c(d,"Wrapper"),s=c(d,"Content").append(m=c(d,"LoadedContent","width:0; height:0; overflow:hidden"),V=c(d,"LoadingOverlay").add(c(d,"LoadingGraphic")),S=c(d,"Title"),W=c(d,"Current"),H=c(d,"Next"),I=c(d,"Previous"),C=c(d,"Slideshow").bind(fa,ja),T=c(d,"Close")),z.append(c(d).append(c(d,"TopLeft"),X=c(d,"TopCenter"),c(d,"TopRight")),c(d,!1,"clear:left").append(Y=c(d,"MiddleLeft"),
s,Z=c(d,"MiddleRight")),c(d,!1,"clear:left").append(c(d,"BottomLeft"),$=c(d,"BottomCenter"),c(d,"BottomRight"))).find("div div").css({"float":"left"}),J=c(d,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),R=H.add(I).add(W).add(C),b(B.body).append(v,i.append(z,J)))}function ka(){return i?(U||(U=!0,w=X.height()+$.height()+s.outerHeight(!0)-s.height(),x=Y.width()+Z.width()+s.outerWidth(!0)-s.width(),t=m.outerHeight(!0),u=m.outerWidth(!0),i.css({"padding-bottom":w,"padding-right":x}),
H.click(function(){e.next()}),I.click(function(){e.prev()}),T.click(function(){e.close()}),v.click(function(){a.overlayClose&&e.close()}),b(B).bind("keydown."+o,function(b){var c=b.keyCode;r&&a.escKey&&27===c&&(b.preventDefault(),e.close());r&&a.arrowKey&&j[1]&&(37===c?(b.preventDefault(),I.click()):39===c&&(b.preventDefault(),H.click()))}),b("."+D,B).live("click",function(a){1<a.which||a.shiftKey||a.altKey||a.metaKey||(a.preventDefault(),da(this))})),!0):!1}var ha={transition:"elastic",speed:300,
width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:0.9,preloading:!0,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",open:!1,returnFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:!1,onLoad:!1,
onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0},p="colorbox",o="cbox",D=o+"Element",fa=o+"_open",Q=o+"_load",P=o+"_complete",L=o+"_cleanup",ea=o+"_closed",O=o+"_purge",G=!b.support.opacity&&!b.support.style,F=G&&!aa.XMLHttpRequest,N=o+"_IE6",v,i,z,s,X,Y,Z,$,j,k,m,J,V,S,W,C,H,I,T,R,a,w,x,t,u,h,q,f,r,E,M,ia,e,d="div",U;if(!b.colorbox)b(ga),e=b.fn[p]=b[p]=function(a,c){var d=this,a=a||{};ga();if(ka()){if(!d[0]){if(d.selector)return d;
d=b("<a/>");a.open=!0}if(c)a.onComplete=c;d.each(function(){b(this);var c=b.data(this,p)||{},c=b.extend({},c,ha,a);b.data(this,p,c);this.setAttribute("data-expando-id",this[b.expando])}).addClass(D);(b.isFunction(a.open)&&a.open.call(d)||a.open)&&da(d[0])}return d},e.position=function(b,c){function d(a){X[0].style.width=$[0].style.width=s[0].style.width=a.style.width;s[0].style.height=Y[0].style.height=Z[0].style.height=a.style.height}var f=0,A=0,j=i.offset(),m=k.scrollTop(),h=k.scrollLeft();k.unbind("resize."+
o);i.css({top:-9E4,left:-9E4});a.fixed&&!F?(j.top-=m,j.left-=h,i.css({position:"fixed"})):(f=m,A=h,i.css({position:"absolute"}));A=!1!==a.right?A+Math.max(k.width()-a.w-u-x-l(a.right,"x"),0):!1!==a.left?A+l(a.left,"x"):A+Math.round(Math.max(k.width()-a.w-u-x,0)/2);f=!1!==a.bottom?f+Math.max(k.height()-a.h-t-w-l(a.bottom,"y"),0):!1!==a.top?f+l(a.top,"y"):f+Math.round(Math.max(k.height()-a.h-t-w,0)/2);i.css({top:j.top,left:j.left});b=i.width()===a.w+u&&i.height()===a.h+t?0:b||0;z[0].style.width=z[0].style.height=
"9999px";i.dequeue().animate({width:a.w+u,height:a.h+t,top:f,left:A},{duration:b,complete:function(){d(this);E=!1;z[0].style.width=a.w+u+x+"px";z[0].style.height=a.h+t+w+"px";a.reposition&&setTimeout(function(){k.bind("resize."+o,e.position)},1);c&&c()},step:function(){d(this)}})},e.resize=function(b){if(r){b=b||{};if(b.width)a.w=l(b.width,"x")-u-x;if(b.innerWidth)a.w=l(b.innerWidth,"x");m.css({width:a.w});if(b.height)a.h=l(b.height,"y")-t-w;if(b.innerHeight)a.h=l(b.innerHeight,"y");if(!b.innerHeight&&
!b.height)m.css({height:"auto"}),a.h=m.height();m.css({height:a.h});e.position("none"===a.transition?0:a.speed)}},e.prep=function(h){if(r){var g,k="none"===a.transition?0:a.speed;m.remove();m=c(d,"LoadedContent").append(h);m.hide().appendTo(J.show()).css({width:function(){a.w=a.w||m.width();a.w=a.mw&&a.mw<a.w?a.mw:a.w;return a.w}(),overflow:a.scrolling?"auto":"hidden"}).css({height:function(){a.h=a.h||m.height();a.h=a.mh&&a.mh<a.h?a.mh:a.h;return a.h}()}).prependTo(s);J.hide();b(f).css({"float":"none"});
if(F)b("select").not(i.find("select")).filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one(L,function(){this.style.visibility="inherit"});g=function(){function d(){G&&i[0].style.removeAttribute("filter")}var e,h;e=j.length;var g,n,l;if(r){n=function(){clearTimeout(ia);V.hide();y(P,a.onComplete)};G&&f&&m.fadeIn(100);S.html(a.title).add(m).show();if(1<e){if("string"===typeof a.current&&W.html(a.current.replace("{current}",q+1).replace("{total}",e)).show(),H[a.loop||
q<e-1?"show":"hide"]().html(a.next),I[a.loop||q?"show":"hide"]().html(a.previous),a.slideshow&&C.show(),a.preloading)for(e=[K(-1),K(1)];h=j[e.pop()];)if(h[b.expando]||(h[b.expando]=parseInt(h.getAttribute("data-expando-id"),10)),l=b.data(h,p).href||h.href,b.isFunction(l)&&(l=l.call(h)),ba(l))h=new Image,h.src=l}else R.hide();if(a.iframe){g=c("iframe")[0];"frameBorder"in g&&(g.frameBorder=0);"allowTransparency"in g&&(g.allowTransparency="true");g.name=o+ +new Date;if(a.fastIframe)n();else b(g).one("load",
n);g.src=a.href;if(!a.scrolling)g.scrolling="no";b(g).addClass(o+"Iframe").appendTo(m).one(O,function(){g.src="//about:blank"})}else n();"fade"===a.transition?i.fadeTo(k,1,d):d()}};"fade"===a.transition?i.fadeTo(k,0,function(){e.position(0,g)}):e.position(k,g)}},e.load=function(i){var g,k,p=e.prep;E=!0;f=!1;h=j[q];i||ca();y(O);y(Q,a.onLoad);a.h=a.height?l(a.height,"y")-t-w:a.innerHeight&&l(a.innerHeight,"y");a.w=a.width?l(a.width,"x")-u-x:a.innerWidth&&l(a.innerWidth,"x");a.mw=a.w;a.mh=a.h;if(a.maxWidth)a.mw=
l(a.maxWidth,"x")-u-x,a.mw=a.w&&a.w<a.mw?a.w:a.mw;if(a.maxHeight)a.mh=l(a.maxHeight,"y")-t-w,a.mh=a.h&&a.h<a.mh?a.h:a.mh;g=a.href;ia=setTimeout(function(){V.show()},100);a.inline?(c(d).hide().insertBefore(b(g)[0]).one(O,function(){b(this).replaceWith(m.children())}),p(b(g))):a.iframe?p(" "):a.html?p(a.html):ba(g)?(b(f=new Image).addClass(o+"Photo").error(function(){a.title=!1;p(c(d,"Error").text("This image could not be loaded"))}).load(function(){var b;f.onload=null;a.scalePhotos&&(k=function(){f.height-=
f.height*b;f.width-=f.width*b},a.mw&&f.width>a.mw&&(b=(f.width-a.mw)/f.width,k()),a.mh&&f.height>a.mh&&(b=(f.height-a.mh)/f.height,k()));if(a.h)f.style.marginTop=Math.max(a.h-f.height,0)/2+"px";if(j[1]&&(a.loop||j[q+1]))f.style.cursor="pointer",f.onclick=function(){e.next()};if(G)f.style.msInterpolationMode="bicubic";setTimeout(function(){p(f)},1)}),setTimeout(function(){f.src=g},1)):g&&J.load(g,a.data,function(a,e,f){p("error"===e?c(d,"Error").text("Request unsuccessful: "+f.statusText):b(this).contents())})},
e.next=function(){if(!E&&j[1]&&(a.loop||j[q+1]))q=K(1),e.load()},e.prev=function(){if(!E&&j[1]&&(a.loop||q))q=K(-1),e.load()},e.close=function(){r&&!M&&(M=!0,r=!1,y(L,a.onCleanup),k.unbind("."+o+" ."+N),v.fadeTo(200,0),i.stop().fadeTo(300,0,function(){i.add(v).css({opacity:1,cursor:"auto"}).hide();y(O);m.remove();setTimeout(function(){M=!1;y(ea,a.onClosed)},1)}))},e.remove=function(){b([]).add(i).add(v).remove();i=null;b("."+D).removeData(p).removeClass(D).die()},e.element=function(){return b(h)},
e.settings=ha})(jQuery,document,this);
