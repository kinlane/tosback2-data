(function(a){a.fn.autofocus=function(){return!0!==this.first().autofocus?this.focus():this}})(jQuery);(function(c){c.fn.autogrow=function(a){return this.each(function(){new c.autogrow(this,a)})};c.autogrow=function(a,b){this.textarea=$(a);this.options=b||{};this.interval=this.shadow=null;this.fontSize=this.textarea.css("fontSize");this.lineHeight=this.options.lineHeight||this.textarea.css("line-height");this.minHeight=this.options.minHeight||this.textarea.css("min-height");this.maxHeight=this.options.maxHeight||this.textarea.css("max-height");this.animateSpeed=this.options.animateSpeed||250;"string"===
typeof this.expandTolerance?this.expandTolerance=parseInt(this.expandTolerance):"number"!=typeof this.expandTolerance&&(this.expandTolerance=-1);this.expandTolerance=!isNaN(this.options.expandTolerance)&&0<=this.options.expandTolerance?this.options.expandTolerance:0.45;this.fontSize=this.fontSize.replace(/px$/,"");this.minHeight&&(this.minHeight=this.minHeight.replace(/px$/,""));"normal"===this.lineHeight&&(this.lineHeight=this.fontSize-0+2);"auto"===this.minHeight&&(this.minHeight=0);"undefined"===
typeof this.maxHeight&&(this.maxHeight=0);this.lineHeight=parseFloat(this.lineHeight,10);isNaN(this.lineHeight)&&(this.lineHeight=0);$.browser.msie&&0<this.lineHeight&&this.textarea.css("line-height",this.lineHeight+"px");this.textarea.height(parseFloat(this.lineHeight,10)*(parseInt(this.textarea.attr("rows"),10)||1));if(isNaN(this.minHeight)||0==this.minHeight)this.minHeight=Math.max(this.textarea.height(),this.lineHeight);isNaN(this.maxHeight)&&(this.maxHeight=0);$.browser.msie&&(this.widthSet=
!1);var d=this;this.textarea.get(0).resetAutogrow=function(){d.init()};this.init()};c.autogrow.fn=c.autogrow.prototype={autogrow:"1.2.3"};c.autogrow.fn.extend=c.autogrow.extend=c.extend;c.autogrow.fn.extend({init:function(){var a=this;this.textarea.css({overflow:"hidden",display:"block"});this.textarea.bind("focus",function(){a.checkExpand(!0);a.startExpand();return!0}).bind("blur",function(){a.stopExpand();return!0});this.checkExpand(!0)},startExpand:function(){var a=this;this.interval=window.setInterval(function(){a.checkExpand(!1)},
400)},stopExpand:function(){clearInterval(this.interval)},checkExpand:function(a){null==this.shadow?(this.shadow=$("<div></div>"),this.shadow.css({"font-size":this.textarea.css("font-size"),"font-family":this.textarea.css("font-family"),"padding-top":this.textarea.css("padding-top"),"padding-right":this.textarea.css("padding-right"),"padding-bottom":this.textarea.css("padding-bottom"),"padding-left":this.textarea.css("padding-left"),"line-height":this.lineHeight+"px","overflow-x":"hidden",position:"absolute",
top:-1E4,left:-1E4,"background-color":"white",border:"1px solid black"}),this.shadow.appendTo("body")):this.shadow.show();var b=this.shadow.width(),d=this.textarea.innerWidth();if(0<d&&(b!=d&&this.shadow.width(d),$.browser.msie&&!this.widthSet&&(this.textarea.width(this.textarea.width()+"px"),this.widthSet=!0),b=this.textarea.val().toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/^ /,"&nbsp;").replace(/  /g," &nbsp;")+".",b=$.browser.msie?b.replace(/\n/g,"<BR>"):
b.replace(/\n/g,"<br>"),b+=".",a||this.shadow.html()!=b))if(a=this.expandTolerance*this.lineHeight,this.shadow.html(b),0<this.maxHeight&&this.shadow.height()+a>this.maxHeight)this.textarea.css("overflow-y","auto"),this.textarea.height()<this.maxHeight&&this.textarea.animate({height:this.maxHeight+a+"px"},this.animateSpeed);else{"hidden"!==this.textarea.css("overflow-y")&&this.textarea.css("overflow-y","hidden");var b=this.textarea.height(),c=!1,d=Math.max(this.shadow.height(),this.minHeight),d=Math.floor(d+
a);$.browser.msie?Math.abs(b-d)>this.lineHeight/2&&(c=!0):b!=d&&(c=!0);c&&this.textarea.animate({height:d+"px"},this.animateSpeed)}this.shadow.hide()}})})(jQuery);var jaaulde=window.jaaulde||{};jaaulde.utils=jaaulde.utils||{};
jaaulde.utils.cookies=function(){var f,h,d,e,b={expiresAt:null,path:"/",domain:null,secure:!1};f=function(a){var c,g;if("object"!==typeof a||null===a)c=b;else if(c={expiresAt:b.expiresAt,path:b.path,domain:b.domain,secure:b.secure},"object"===typeof a.expiresAt&&a.expiresAt instanceof Date?c.expiresAt=a.expiresAt:"number"===typeof a.hoursToLive&&0!==a.hoursToLive&&(g=new Date,g.setTime(g.getTime()+36E5*a.hoursToLive),c.expiresAt=g),"string"===typeof a.path&&""!==a.path&&(c.path=a.path),"string"===
typeof a.domain&&""!==a.domain&&(c.domain=a.domain),!0===a.secure)c.secure=a.secure;return c};h=function(a){a=f(a);return("object"===typeof a.expiresAt&&a.expiresAt instanceof Date?"; expires="+a.expiresAt.toGMTString():"")+"; path="+a.path+("string"===typeof a.domain?"; domain="+a.domain:"")+(!0===a.secure?"; secure":"")};d=function(){var a={},c,g,d,b,e=document.cookie.split(";"),f;for(c=0;c<e.length;c+=1){g=e[c].split("=");d=g[0].replace(/^\s*/,"").replace(/\s*$/,"");try{b=decodeURIComponent(g[1])}catch(h){b=
g[1]}if("object"===typeof JSON&&null!==JSON&&"function"===typeof JSON.parse)try{f=b,b=JSON.parse(b)}catch(i){b=f}a[d]=b}return a};e=function(){};e.prototype.get=function(a){var c,g,b=d();if("string"===typeof a)c="undefined"!==typeof b[a]?b[a]:null;else if("object"===typeof a&&null!==a)for(g in c={},a)c[a[g]]="undefined"!==typeof b[a[g]]?b[a[g]]:null;else c=b;return c};e.prototype.filter=function(a){var c,b={},e=d();"string"===typeof a&&(a=RegExp(a));for(c in e)c.match(a)&&(b[c]=e[c]);return b};e.prototype.set=
function(a,c,b){if("object"!==typeof b||null===b)b={};if("undefined"===typeof c||null===c)c="",b.hoursToLive=-8760;else if("string"!==typeof c)if("object"===typeof JSON&&null!==JSON&&"function"===typeof JSON.stringify)c=JSON.stringify(c);else throw Error("cookies.set() received non-string value and could not serialize.");b=h(b);document.cookie=a+"="+encodeURIComponent(c)+b};e.prototype.del=function(a,c){var b={},d;if("object"!==typeof c||null===c)c={};"boolean"===typeof a&&!0===a?b=this.get():"string"===
typeof a&&(b[a]=!0);for(d in b)"string"===typeof d&&""!==d&&this.set(d,null,c)};e.prototype.test=function(){var a=!1;this.set("cT","data");"data"===this.get("cT")&&(this.del("cT"),a=!0);return a};e.prototype.setOptions=function(a){"object"!==typeof a&&(a=null);b=f(a)};return new e}();
(function(){window.jQuery&&function(f){f.cookies=jaaulde.utils.cookies;f.each({cookify:function(h){return this.each(function(){var d,e=["name","id"],b,a=f(this),c;for(d in e)if(!isNaN(d)&&(b=a.attr(e[d]),"string"===typeof b&&""!==b)){a.is(":checkbox, :radio")?a.attr("checked")&&(c=a.val()):c=a.is(":input")?a.val():a.html();if("string"!==typeof c||""===c)c=null;f.cookies.set(b,c,h);break}})},cookieFill:function(){return this.each(function(){var h,d,e=["name","id"],b,a=f(this);for(d=function(){h=e.pop();
return!!h};d();)if(b=a.attr(h),"string"===typeof b&&""!==b){d=f.cookies.get(b);null!==d&&(a.is(":checkbox, :radio")?a.val()===d?a.attr("checked","checked"):a.removeAttr("checked"):a.is(":input")?a.val(d):a.html(d));break}})},cookieBind:function(h){return this.each(function(){var d=f(this);d.cookieFill().change(function(){d.cookify(h)})})}},function(h){f.fn[h]=this})}(window.jQuery)})();jQuery.easing.jswing=jQuery.easing.swing;
jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,a,c,b,d){return jQuery.easing[jQuery.easing.def](e,a,c,b,d)},easeInQuad:function(e,a,c,b,d){return b*(a/=d)*a+c},easeOutQuad:function(e,a,c,b,d){return-b*(a/=d)*(a-2)+c},easeInOutQuad:function(e,a,c,b,d){return 1>(a/=d/2)?b/2*a*a+c:-b/2*(--a*(a-2)-1)+c},easeInCubic:function(e,a,c,b,d){return b*(a/=d)*a*a+c},easeOutCubic:function(e,a,c,b,d){return b*((a=a/d-1)*a*a+1)+c},easeInOutCubic:function(e,a,c,b,d){return 1>(a/=d/2)?b/2*a*a*a+c:
b/2*((a-=2)*a*a+2)+c},easeInQuart:function(e,a,c,b,d){return b*(a/=d)*a*a*a+c},easeOutQuart:function(e,a,c,b,d){return-b*((a=a/d-1)*a*a*a-1)+c},easeInOutQuart:function(e,a,c,b,d){return 1>(a/=d/2)?b/2*a*a*a*a+c:-b/2*((a-=2)*a*a*a-2)+c},easeInQuint:function(e,a,c,b,d){return b*(a/=d)*a*a*a*a+c},easeOutQuint:function(e,a,c,b,d){return b*((a=a/d-1)*a*a*a*a+1)+c},easeInOutQuint:function(e,a,c,b,d){return 1>(a/=d/2)?b/2*a*a*a*a*a+c:b/2*((a-=2)*a*a*a*a+2)+c},easeInSine:function(e,a,c,b,d){return-b*Math.cos(a/
d*(Math.PI/2))+b+c},easeOutSine:function(e,a,c,b,d){return b*Math.sin(a/d*(Math.PI/2))+c},easeInOutSine:function(e,a,c,b,d){return-b/2*(Math.cos(Math.PI*a/d)-1)+c},easeInExpo:function(e,a,c,b,d){return 0==a?c:b*Math.pow(2,10*(a/d-1))+c},easeOutExpo:function(e,a,c,b,d){return a==d?c+b:b*(-Math.pow(2,-10*a/d)+1)+c},easeInOutExpo:function(e,a,c,b,d){return 0==a?c:a==d?c+b:1>(a/=d/2)?b/2*Math.pow(2,10*(a-1))+c:b/2*(-Math.pow(2,-10*--a)+2)+c},easeInCirc:function(e,a,c,b,d){return-b*(Math.sqrt(1-(a/=d)*
a)-1)+c},easeOutCirc:function(e,a,c,b,d){return b*Math.sqrt(1-(a=a/d-1)*a)+c},easeInOutCirc:function(e,a,c,b,d){return 1>(a/=d/2)?-b/2*(Math.sqrt(1-a*a)-1)+c:b/2*(Math.sqrt(1-(a-=2)*a)+1)+c},easeInElastic:function(e,a,c,b,d){var e=1.70158,f=0,g=b;if(0==a)return c;if(1==(a/=d))return c+b;f||(f=0.3*d);g<Math.abs(b)?(g=b,e=f/4):e=f/(2*Math.PI)*Math.asin(b/g);return-(g*Math.pow(2,10*(a-=1))*Math.sin((a*d-e)*2*Math.PI/f))+c},easeOutElastic:function(e,a,c,b,d){var e=1.70158,f=0,g=b;if(0==a)return c;if(1==
(a/=d))return c+b;f||(f=0.3*d);g<Math.abs(b)?(g=b,e=f/4):e=f/(2*Math.PI)*Math.asin(b/g);return g*Math.pow(2,-10*a)*Math.sin((a*d-e)*2*Math.PI/f)+b+c},easeInOutElastic:function(e,a,c,b,d){var e=1.70158,f=0,g=b;if(0==a)return c;if(2==(a/=d/2))return c+b;f||(f=d*0.3*1.5);g<Math.abs(b)?(g=b,e=f/4):e=f/(2*Math.PI)*Math.asin(b/g);return 1>a?-0.5*g*Math.pow(2,10*(a-=1))*Math.sin((a*d-e)*2*Math.PI/f)+c:0.5*g*Math.pow(2,-10*(a-=1))*Math.sin((a*d-e)*2*Math.PI/f)+b+c},easeInBack:function(e,a,c,b,d,f){void 0==
f&&(f=1.70158);return b*(a/=d)*a*((f+1)*a-f)+c},easeOutBack:function(e,a,c,b,d,f){void 0==f&&(f=1.70158);return b*((a=a/d-1)*a*((f+1)*a+f)+1)+c},easeInOutBack:function(e,a,c,b,d,f){void 0==f&&(f=1.70158);return 1>(a/=d/2)?b/2*a*a*(((f*=1.525)+1)*a-f)+c:b/2*((a-=2)*a*(((f*=1.525)+1)*a+f)+2)+c},easeInBounce:function(e,a,c,b,d){return b-jQuery.easing.easeOutBounce(e,d-a,0,b,d)+c},easeOutBounce:function(e,a,c,b,d){return(a/=d)<1/2.75?b*7.5625*a*a+c:a<2/2.75?b*(7.5625*(a-=1.5/2.75)*a+0.75)+c:a<2.5/2.75?
b*(7.5625*(a-=2.25/2.75)*a+0.9375)+c:b*(7.5625*(a-=2.625/2.75)*a+0.984375)+c},easeInOutBounce:function(e,a,c,b,d){return a<d/2?0.5*jQuery.easing.easeInBounce(e,2*a,0,b,d)+c:0.5*jQuery.easing.easeOutBounce(e,2*a-d,0,b,d)+0.5*b+c}});(function(b){b.fn.isChildOf=function(a){return"string"===typeof a?0<this.parents(a).length:0<=this.parents(a).index(a)}})(jQuery);(function(j){var e=function(a){return void 0!==a&&null!==a},m=function(a){setTimeout(a,0)},y=j("head"),q={},s={callback:"C",url:location.href},f=function(a){var a=j.extend({},s,a),b=a.beforeSend,k=0;a.abort=function(){k=1};if(e(b)&&(!1===b(a,a)||k))return a;var f=a.success,g=a.complete,t=a.error,u=a.dataFilter,c=a.callbackParameter,n=a.callback,h=a.cache,o=a.pageCache,i=a.url,b=a.data,v=a.timeout,i=e(i)?i:"",b=e(b)?"string"==typeof b?b:j.param(b):"";e(c)&&(b+=(""==b?"":"&")+escape(c)+"=?");!h&&!o&&
(b+=(""==b?"":"&")+"_"+(new Date).getTime()+"=");c=i.split("?");""!=b&&(b=b.split("?"),(h=c.length-1)&&(c[h]+="&"+b.shift()),c=c.concat(b));b=c.length-2;0<b&&(c[b]+=n+c.pop());var p=c.join("?"),w=function(b){e(u)&&(b=u.apply(a,[b]));var d=a,b=[b,"success"];e(f)&&f.apply(d,b);d=a;b=[a,"success"];e(g)&&g.apply(d,b)},x=function(b){var d=a,c=[a,b];e(t)&&t.apply(d,c);d=a;b=[a,b];e(g)&&g.apply(d,b)},r=q[p];if(o&&e(r))return m(function(){e(r.s)?w(r.s):x("error")}),a;m(function(){if(!k){var b=j("<iframe style='display:none' />").appendTo(y),
d=b[0],c=d.contentWindow||d.contentDocument,d=c.document,f,g,h=function(b,a){o&&!e(a)&&(q[p]="");f();x(e(a)?a:"error")},i=function(a){c[a]=void 0;try{delete c[a]}catch(b){}},l=n=="E"?"X":"E";if(!e(d)){d=c;c=d.getParentNode()}d.open();c[n]=function(a){k=1;o&&(q[p]={s:a});m(function(){f();w(a)})};c[l]=function(a){(!a||a=="complete")&&!k++&&m(h)};a.abort=f=function(){clearTimeout(g);i(l);i(n);b.remove()};d.write(['<html><head><script src="',p,'" onload="',l,'()" onreadystatechange="',l,'(this.readyState)"><\/script></head><body onload="',
l,'()"></body></html>'].join(""));d.close();v>0&&(g=setTimeout(function(){!k&&h("","timeout")},v))}});return a};f.setup=function(a){j.extend(s,a)};j.jsonp=f})(jQuery);(function(f){f.fn.marquee=function(h){function l(b,a,d,e){var c=f(a.contents[e].selector).not(".mqWrapper *"),b=c.clone(),c=c.width(),g;a.contents[e].segmentWidth?g=a.contents[e].segmentWidth:(g=Math.min(a.width,currScrollerWidth),a.contents[e].segmentWidth=g);c=Math.ceil(c/g)*g;b.css("display","block");d.empty().append(b).css("width",c)}function m(b){var b=f(".mqWrapper",b),a=b.position().left,d=f("div:first",b),e=d.width();b.append(d);b.css("left",a+e)}function j(b,a){var d=f(".mqWrapper",b),e=
d.position().left,c=f("div.mqScroller:first",d),g=c.width(),i=!0;0>=e+g&&(m(b,a),e=d.position().left,c=f("div:first",d),g=c.width());var c=b.attr("currContentsIndex")-0,h=a.contents[c].segmentWidth;Math.abs(e-h)>=g&&(d=f("div.mqScroller:last",d),c+=1,c>=a.contents.length&&(a.looping?c=0:i=!1),i&&(l(b,a,d,c),b.attr("currContentsIndex",c)));if(i){var e={left:e-h},i=a.contents[c].speed||"normal",d=a.contents[c].easing||null,k=a.contents[c].pause||1E3;f(".mqWrapper",b).animate(e,i,d,function(){setTimeout(function(){j(b,
a)},k)})}}function k(b,a){var d=a.startBlank?a.width+1:0;f("div.mqWrapper",b).css("left",d);b.attr("currContentsIndex",0);l(b,a,f(".mq1",b),0);a.startBlank?j(b,a):setTimeout(function(){j(b,a)},a.contents[0].pause)}if(0==this.length)return this;h=f.extend({width:100,height:50,contents:[],startBlank:!0,looping:!0},h||{});(function(b,a){var d=f(b);d.css({position:"relative",overflow:"hidden",width:a.width,height:a.height});"boolean"!==typeof a.looping&&(a.looping=!0);if(a.contents&&a.contents.length){var e=
f("<div class='mqWrapper'>"),c=f("<div class='mqScroller mq1'>"),g=f("<div class='mqScroller mq2'>");e.append(c).append(g);d.append(e);e.css({position:"absolute",top:0,height:a.height,width:2E3,"white-space":"nowrap"});f("div",e).css({"float":"left"});k(d,a)}})(this[0],h);return this}})(jQuery);(function(b){var g=null;b.quickFlip={wrappers:[],opts:[],objs:[],init:function(a,f){a=a||{};a.closeSpeed=a.closeSpeed||180;a.openSpeed=a.openSpeed||120;a.ctaSelector=a.ctaSelector||".quickFlipCta";a.refresh=a.refresh||!1;a.easing=a.easing||"swing";a.noResize=a.noResize||!1;a.vertical=a.vertical||!1;var d="undefined"!=typeof f?b(f):b(".quickFlip"),c=d.children();"static"==d.css("position")&&d.css("position","relative");var e=b.quickFlip.wrappers.length;c.each(function(c){var d=b(this);a.ctaSelector&&
d.find(a.ctaSelector).click(function(a){a.preventDefault();b.quickFlip.flip(e)});c&&d.hide()});b.quickFlip.opts.push(a);b.quickFlip.objs.push({$box:b(d),$kids:b(c)});b.quickFlip.build(e);a.noResize||b(window).resize(function(){for(var a=0;a<b.quickFlip.wrappers.length;a++)b.quickFlip.removeFlipDivs(a),b.quickFlip.build(a)})},build:function(a,f){function d(a,d){function e(a,c){var d=b("<div></div>"),f=a.panels[c].clone().show();d.css(i);d.html(f);return d}var f=b("<div></div>");a.panels[d].html();
var i={width:c.vertical?c.panelWidth:a.half,height:c.vertical?a.half:c.panelHeight,position:"absolute",overflow:"hidden",margin:0,padding:0};c.vertical?i.left=0:i.top=0;var k=b(e(a,d)).appendTo(f),l=b(e(a,d)).appendTo(f);c.vertical?(k.css("bottom",a.half),l.css("top",a.half),l.children().css({top:g,bottom:0})):(k.css("right",a.half),l.css("left",a.half),l.children().css({right:0,left:"auto"}));return f}b.quickFlip.opts[a].panelWidth=b.quickFlip.opts[a].panelWidth||b.quickFlip.objs[a].$box.width();
b.quickFlip.opts[a].panelHeight=b.quickFlip.opts[a].panelHeight||b.quickFlip.objs[a].$box.height();var c=b.quickFlip.opts[a],e={wrapper:b.quickFlip.objs[a].$box,index:a,half:parseInt((c.vertical?c.panelHeight:c.panelWidth)/2),panels:[],flipDivs:[],flipDivCols:[],currPanel:f||0,options:c};b.quickFlip.objs[a].$kids.each(function(a){var f=b(this).css({position:"absolute",top:0,left:0,margin:0,padding:0,width:c.panelWidth,height:c.panelHeight});e.panels[a]=f;f=d(e,a).hide().appendTo(e.wrapper);e.flipDivs[a]=
f;e.flipDivCols[a]=f.children()});b.quickFlip.wrappers[a]=e},flip:function(a,f,d,c){if(!("number"!=typeof a||"undefined"==typeof b.quickFlip.wrappers[a])){var e=b.quickFlip.wrappers[a],j=e.currPanel,h="undefined"!=typeof f&&f!=g?f:e.panels.length>j+1?j+1:0;e.currPanel=h;d="undefined"!=typeof d&&d!=g?d:1;c=function(a,b){a=a||{};b=b||{};for(opt in a)b[opt]=a[opt];return b}(c,b.quickFlip.opts[a]);e.panels[j].hide();c.refresh&&(b.quickFlip.removeFlipDivs(a),b.quickFlip.build(a,h),e=b.quickFlip.wrappers[a]);
e.flipDivs[j].show();var m=0,n=0,i=c.vertical?{height:0}:{width:0},k=c.vertical?{height:e.half}:{width:e.half};e.flipDivCols[j].animate(i,c.closeSpeed,c.easing,function(){if(m){e.flipDivs[h].show();e.flipDivCols[h].css(i);e.flipDivCols[h].animate(k,c.openSpeed,c.easing,function(){if(n){e.flipDivs[h].hide();e.panels[h].show();switch(d){case 0:case -1:b.quickFlip.flip(a,g,-1);break;case 1:break;default:b.quickFlip.flip(a,g,d-1)}}else n++})}else m++})}},removeFlipDivs:function(a){for(var f=0;f<b.quickFlip.wrappers[a].flipDivs.length;f++)b.quickFlip.wrappers[a].flipDivs[f].remove()}};
b.fn.quickFlip=function(a){this.each(function(){new b.quickFlip.init(a,this)});return this};b.fn.whichQuickFlip=function(){for(var a=g,f=0;f<b.quickFlip.wrappers.length;f++){var d;a:if(d=b(b.quickFlip.wrappers[f].wrapper),!this||!d||!this.length||!d.length||this.length!=d.length)d=!1;else{for(var c=0;c<this.length;c++)if(this[c]!==d[c]){d=!1;break a}d=!0}d&&(a=f)}return a};b.fn.quickFlipper=function(a,f,d){this.each(function(){var c=b(this),e=c.whichQuickFlip();e==g&&(c.quickFlip(a),e=c.whichQuickFlip());
b.quickFlip.flip(e,f,d,a)})}})(jQuery);(function(c){function h(b){return"object"==typeof b?b:{top:b,left:b}}var l=c.scrollTo=function(b,d,a){c(window).scrollTo(b,d,a)};l.defaults={axis:"xy",duration:1.3<=parseFloat(c.fn.jquery)?0:1};l.window=function(){return c(window)._scrollable()};c.fn._scrollable=function(){return this.map(function(){if(this.nodeName&&-1==c.inArray(this.nodeName.toLowerCase(),["iframe","#document","html","body"]))return this;var b=(this.contentWindow||this).document||this.ownerDocument||this;return c.browser.safari||
"BackCompat"==b.compatMode?b.body:b.documentElement})};c.fn.scrollTo=function(b,d,a){"object"==typeof d&&(a=d,d=0);"function"==typeof a&&(a={onAfter:a});"max"==b&&(b=9E9);a=c.extend({},l.defaults,a);d=d||a.speed||a.duration;a.queue=a.queue&&1<a.axis.length;a.queue&&(d/=2);a.offset=h(a.offset);a.over=h(a.over);return this._scrollable().each(function(){function n(c){i.animate(e,d,a.easing,c&&function(){c.call(this,b,a)})}var j=this,i=c(j),g=b,m,e={},p=i.is("html,body");switch(typeof g){case "number":case "string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(g)){g=
h(g);break}g=c(g,this);case "object":if(g.is||g.style)m=(g=c(g)).offset()}c.each(a.axis.split(""),function(b,c){var d=c=="x"?"Left":"Top",k=d.toLowerCase(),f="scroll"+d,h=j[f],o=l.max(j,c);if(m){e[f]=m[k]+(p?0:h-i.offset()[k]);if(a.margin){e[f]=e[f]-(parseInt(g.css("margin"+d))||0);e[f]=e[f]-(parseInt(g.css("border"+d+"Width"))||0)}e[f]=e[f]+(a.offset[k]||0);a.over[k]&&(e[f]=e[f]+g[c=="x"?"width":"height"]()*a.over[k])}else{d=g[k];e[f]=d.slice&&d.slice(-1)=="%"?parseFloat(d)/100*o:d}/^\d+$/.test(e[f])&&
(e[f]=e[f]<=0?0:Math.min(e[f],o));if(!b&&a.queue){h!=e[f]&&n(a.onAfterFirst);delete e[f]}});n(a.onAfter)}).end()};l.max=function(b,d){var a="x"==d?"Width":"Height",h="scroll"+a;if(!c(b).is("html,body"))return b[h]-c(b)[a.toLowerCase()]();var a="client"+a,j=b.ownerDocument.documentElement,i=b.ownerDocument.body;return Math.max(j[h],i[h])-Math.min(j[a],i[a])}})(jQuery);(function(e){e.extend({twitUserTimeline:function(a,d,c,b){b||(b=10);a&&e.isFunction(d)&&(a={count:b,user_id:a},c&&(a.since_id=c),jQuery.ajax({dataType:"jsonp",url:"http://api.twitter.com/1/statuses/user_timeline.json",data:a,timeout:3E3,success:function(a,b){d.call(this,a,b,c)},error:function(a,b){d.call(this,null,b,c)}}))},twitSearch:function(a,d,c,b,f){b?100<b&&(b=100):b=10;a&&e.isFunction(d)&&(a={q:a,rpp:b,result_type:"recent"},c&&(a.since_id=c),f&&(a.lang=f),jQuery.ajax({dataType:"jsonp",url:"http://search.twitter.com/search.json",
data:a,timeout:3E3,success:function(a,b){d.call(this,a,b,c)},error:function(a,b){d.call(this,null,b,c)}}))}})})(jQuery);(function(c){c.extend({tablesorter:new function(){function a(b,k){l(b+","+((new Date).getTime()-k.getTime())+"ms")}function l(b){"undefined"!=typeof console&&"undefined"!=typeof console.debug?console.log(b):alert(b)}function g(b,k){if(b.config.debug)var a="";if(0!=b.tBodies.length){var e=b.tBodies[0].rows;if(e[0])for(var d=[],q=e[0].cells.length,h=0;h<q;h++){var i=!1;c.metadata&&c(k[h]).metadata()&&c(k[h]).metadata().sorter?i=m(c(k[h]).metadata().sorter):b.config.headers[h]&&b.config.headers[h].sorter&&
(i=m(b.config.headers[h].sorter));if(!i)a:{for(var i=b,j=e,n=-1,g=h,t=p.length,u=!1,o=!1,r=!0;""==o&&r;)n++,j[n]?(u=j[n].cells[g],o=c.trim(v(i.config,u)),i.config.debug&&l("Checking if value was empty on row:"+n)):r=!1;for(j=1;j<t;j++)if(p[j].is(o,i,u)){i=p[j];break a}i=p[0]}b.config.debug&&(a+="column:"+h+" parser:"+i.id+"\n");d.push(i)}b.config.debug&&l(a);return d}}function m(b){for(var k=p.length,a=0;a<k;a++)if(p[a].id.toLowerCase()==b.toLowerCase())return p[a];return!1}function o(b){if(b.config.debug)var k=
new Date;for(var f=b.tBodies[0]&&b.tBodies[0].rows.length||0,e=b.tBodies[0].rows[0]&&b.tBodies[0].rows[0].cells.length||0,d=b.config.parsers,q={row:[],normalized:[]},h=0;h<f;++h){var i=c(b.tBodies[0].rows[h]),j=[];if(i.hasClass(b.config.cssChildRow))q.row[q.row.length-1]=q.row[q.row.length-1].add(i);else{q.row.push(i);for(var n=0;n<e;++n)j.push(d[n].format(v(b.config,i[0].cells[n]),b,i[0].cells[n]));j.push(q.normalized.length);q.normalized.push(j)}}b.config.debug&&a("Building cache for "+f+" rows:",
k);return q}function v(b,a){var f="";if(!a)return"";b.supportsTextContent||(b.supportsTextContent=a.textContent||!1);return f="simple"==b.textExtraction?b.supportsTextContent?a.textContent:a.childNodes[0]&&a.childNodes[0].hasChildNodes()?a.childNodes[0].innerHTML:a.innerHTML:"function"==typeof b.textExtraction?b.textExtraction(a):c(a).text()}function w(b,k){if(b.config.debug)var f=new Date;for(var e=k.row,d=k.normalized,q=d.length,h=d[0].length-1,i=c(b.tBodies[0]),j=[],n=0;n<q;n++){var l=d[n][h];
j.push(e[l]);if(!b.config.appender)for(var t=e[l].length,g=0;g<t;g++)i[0].appendChild(e[l][g])}b.config.appender&&b.config.appender(b,j);j=null;b.config.debug&&a("Rebuilt table:",f);x(b);setTimeout(function(){c(b).trigger("sortEnd")},0)}function C(b){if(b.config.debug)var k=new Date;var f=D(b);$tableHeaders=c(b.config.selectorHeaders,b).each(function(a){this.column=f[this.parentNode.rowIndex+"-"+this.cellIndex];this.count=this.order="Number"!=typeof b.config.sortInitialOrder?"desc"==b.config.sortInitialOrder.toLowerCase()?
1:0:1==b.config.sortInitialOrder?1:0;if(c.metadata&&!1===c(this).metadata().sorter||b.config.headers[a]&&!1===b.config.headers[a].sorter)this.sortDisabled=!0;y(b,a)&&(this.order=this.lockedOrder=y(b,a));if(!this.sortDisabled){var k=c(this).addClass(b.config.cssHeader);b.config.onRenderHeader&&b.config.onRenderHeader.apply(k)}b.config.headerList[a]=this});b.config.debug&&(a("Built headers:",k),l($tableHeaders));return $tableHeaders}function D(b){for(var a=[],f={},b=b.getElementsByTagName("THEAD")[0].getElementsByTagName("TR"),
e=0;e<b.length;e++)for(var d=b[e].cells,c=0;c<d.length;c++){var h=d[c],i=h.parentNode.rowIndex,j=i+"-"+h.cellIndex,n=h.rowSpan||1,h=h.colSpan||1,l;"undefined"==typeof a[i]&&(a[i]=[]);for(var g=0;g<a[i].length+1;g++)if("undefined"==typeof a[i][g]){l=g;break}f[j]=l;for(g=i;g<i+n;g++){"undefined"==typeof a[g]&&(a[g]=[]);for(var j=a[g],m=l;m<l+h;m++)j[m]="x"}}return f}function y(b,a){return b.config.headers[a]&&b.config.headers[a].lockedOrder?b.config.headers[a].lockedOrder:!1}function x(b){for(var a=
b.config.widgets,c=a.length,e=0;e<c;e++)z(a[e]).format(b)}function z(b){for(var a=r.length,c=0;c<a;c++)if(r[c].id.toLowerCase()==b.toLowerCase())return r[c]}function E(b,a){for(var c=a.length,e=0;e<c;e++)if(a[e][0]==b)return!0;return!1}function A(b,a,f,e){a.removeClass(e[0]).removeClass(e[1]);var d=[];a.each(function(){this.sortDisabled||(d[this.column]=c(this))});b=f.length;for(a=0;a<b;a++)d[f[a][0]].addClass(e[f[a][1]])}function F(a){if(a.config.widthFixed){var k=c("<colgroup>");c("tr:first td",
a.tBodies[0]).each(function(){k.append(c("<col>").css("width",c(this).width()))});c(a).prepend(k)}}function B(b,c,f){if(b.config.debug)var e=new Date;for(var d="var sortWrapper = function(a,b) {",g=c.length,h=0;h<g;h++)var i=c[h][0],j=c[h][1],i="text"==b.config.parsers[i].type?0==j?s("text","asc",i):s("text","desc",i):0==j?s("numeric","asc",i):s("numeric","desc",i),n="e"+h,d=d+("var "+n+" = "+i),d=d+("if("+n+") { return "+n+"; } "),d=d+"else { ";h=f.normalized[0].length-1;d+="return a["+h+"]-b["+
h+"];";for(h=0;h<g;h++)d+="}; ";d+="return 0; }; ";b.config.debug&&a("Evaling expression:"+d,new Date);eval(d);f.normalized.sort(sortWrapper);b.config.debug&&a("Sorting on "+c.toString()+" and dir "+j+" time:",e);return f}function s(a,c,f){var e="a["+f+"]",f="b["+f+"]";if("text"==a&&"asc"==c)return"("+e+" == "+f+" ? 0 : ("+e+" === null ? Number.POSITIVE_INFINITY : ("+f+" === null ? Number.NEGATIVE_INFINITY : ("+e+" < "+f+") ? -1 : 1 )));";if("text"==a&&"desc"==c)return"("+e+" == "+f+" ? 0 : ("+e+
" === null ? Number.POSITIVE_INFINITY : ("+f+" === null ? Number.NEGATIVE_INFINITY : ("+f+" < "+e+") ? -1 : 1 )));";if("numeric"==a&&"asc"==c)return"("+e+" === null && "+f+" === null) ? 0 :("+e+" === null ? Number.POSITIVE_INFINITY : ("+f+" === null ? Number.NEGATIVE_INFINITY : "+e+" - "+f+"));";if("numeric"==a&&"desc"==c)return"("+e+" === null && "+f+" === null) ? 0 :("+e+" === null ? Number.POSITIVE_INFINITY : ("+f+" === null ? Number.NEGATIVE_INFINITY : "+f+" - "+e+"));"}var p=[],r=[];this.defaults=
{cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:!0,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:!1,cancelSelection:!0,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:!1};this.benchmark=a;this.construct=function(a){return this.each(function(){if(this.tHead&&
this.tBodies){var k,f,e,d;this.config={};d=c.extend(this.config,c.tablesorter.defaults,a);k=c(this);c.data(this,"tablesorter",d);f=C(this);this.config.parsers=g(this,f);e=o(this);var l=[d.cssDesc,d.cssAsc];F(this);f.click(function(a){var b=k[0].tBodies[0]&&k[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&0<b){k.trigger("sortStart");c(this);b=this.column;this.order=this.count++%2;this.lockedOrder&&(this.order=this.lockedOrder);if(a[d.sortMultiSortKey])if(E(b,d.sortList))for(a=0;a<d.sortList.length;a++){var j=
d.sortList[a],g=d.headerList[j[0]];j[0]==b&&(g.count=j[1],g.count++,j[1]=g.count%2)}else d.sortList.push([b,this.order]);else{d.sortList=[];if(null!=d.sortForce){j=d.sortForce;for(a=0;a<j.length;a++)j[a][0]!=b&&d.sortList.push(j[a])}d.sortList.push([b,this.order])}setTimeout(function(){A(k[0],f,d.sortList,l);w(k[0],B(k[0],d.sortList,e))},1);return!1}}).mousedown(function(){if(d.cancelSelection)return this.onselectstart=function(){return!1},!1});k.bind("update",function(){var a=this;setTimeout(function(){a.config.parsers=
g(a,f);e=o(a)},1)}).bind("updateCell",function(a,b){var c=this.config,d=[b.parentNode.rowIndex-1,b.cellIndex];e.normalized[d[0]][d[1]]=c.parsers[d[1]].format(v(c,b),b)}).bind("sorton",function(a,b){c(this).trigger("sortStart");d.sortList=b;for(var g=d.sortList,k=this.config,m=g.length,o=0;o<m;o++){var p=g[o],r=k.headerList[p[0]];r.count=p[1];r.count++}A(this,f,g,l);w(this,B(this,g,e))}).bind("appendCache",function(){w(this,e)}).bind("applyWidgetId",function(a,b){z(b).format(this)}).bind("applyWidgets",
function(){x(this)});c.metadata&&c(this).metadata()&&c(this).metadata().sortlist&&(d.sortList=c(this).metadata().sortlist);0<d.sortList.length&&k.trigger("sorton",[d.sortList]);x(this)}})};this.addParser=function(a){for(var c=p.length,f=!0,e=0;e<c;e++)p[e].id.toLowerCase()==a.id.toLowerCase()&&(f=!1);f&&p.push(a)};this.addWidget=function(a){r.push(a)};this.formatFloat=function(a){a=parseFloat(a);return isNaN(a)?0:a};this.formatInt=function(a){a=parseInt(a);return isNaN(a)?0:a};this.isDigit=function(a){return/^[-+]?\d*$/.test(c.trim(a.replace(/[,.']/g,
"")))};this.clearTableBody=function(a){c.browser.msie?function(){for(;this.firstChild;)this.removeChild(this.firstChild)}.apply(a.tBodies[0]):a.tBodies[0].innerHTML=""}}});c.fn.extend({tablesorter:c.tablesorter.construct});var m=c.tablesorter;m.addParser({id:"text",is:function(){return!0},format:function(a){return c.trim(a.toLocaleLowerCase())},type:"text"});m.addParser({id:"digit",is:function(a,l){return c.tablesorter.isDigit(a,l.config)},format:function(a){return c.tablesorter.formatFloat(a)},type:"numeric"});
m.addParser({id:"currency",is:function(a){return/^[�$���?.]/.test(a)},format:function(a){return c.tablesorter.formatFloat(a.replace(RegExp(/[�$���]/g),""))},type:"numeric"});m.addParser({id:"ipAddress",is:function(a){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(a)},format:function(a){for(var a=a.split("."),l="",g=a.length,m=0;m<g;m++)var o=a[m],l=2==o.length?l+("0"+o):l+o;return c.tablesorter.formatFloat(l)},type:"numeric"});m.addParser({id:"url",is:function(a){return/^(https?|ftp|file):\/\/$/.test(a)},
format:function(a){return jQuery.trim(a.replace(RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});m.addParser({id:"isoDate",is:function(a){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},format:function(a){return c.tablesorter.formatFloat(""!=a?(new Date(a.replace(RegExp(/-/g),"/"))).getTime():"0")},type:"numeric"});m.addParser({id:"percent",is:function(a){return/\%$/.test(c.trim(a))},format:function(a){return c.tablesorter.formatFloat(a.replace(RegExp(/%/g),""))},type:"numeric"});m.addParser({id:"usLongDate",
is:function(a){return a.match(RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(a){return c.tablesorter.formatFloat((new Date(a)).getTime())},type:"numeric"});m.addParser({id:"shortDate",is:function(a){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(a)},format:function(a,l){var g=l.config,a=a.replace(/\-/g,"/");if("us"==g.dateFormat)a=a.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2");else if("uk"==
g.dateFormat)a=a.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1");else if("dd/mm/yy"==g.dateFormat||"dd-mm-yy"==g.dateFormat)a=a.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3");return c.tablesorter.formatFloat((new Date(a)).getTime())},type:"numeric"});m.addParser({id:"time",is:function(a){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(a)},format:function(a){return c.tablesorter.formatFloat((new Date("2000/01/01 "+a)).getTime())},type:"numeric"});
m.addParser({id:"metadata",is:function(){return!1},format:function(a,l,g){a=l.config;a=!a.parserMetadataName?"sortValue":a.parserMetadataName;return c(g).metadata()[a]},type:"numeric"});m.addWidget({id:"zebra",format:function(a){if(a.config.debug)var l=new Date;var g,m=-1,o;c("tr:visible",a.tBodies[0]).each(function(){g=c(this);g.hasClass(a.config.cssChildRow)||m++;o=0==m%2;g.removeClass(a.config.widgetZebra.css[o?0:1]).addClass(a.config.widgetZebra.css[o?1:0])});a.config.debug&&c.tablesorter.benchmark("Applying Zebra widget",
l)}})})(jQuery);(function(d){function f(b,e){for(var a=decodeURI(b),a=g[e?"strict":"loose"].exec(a),c={attr:{},param:{},seg:{}},d=14;d--;)c.attr[h[d]]=a[d]||"";c.param.query={};c.param.fragment={};c.attr.query.replace(i,function(a,b,d){b&&(c.param.query[b]=d)});c.attr.fragment.replace(j,function(a,b,d){b&&(c.param.fragment[b]=d)});c.seg.path=c.attr.path.replace(/^\/+|\/+$/g,"").split("/");c.seg.fragment=c.attr.fragment.replace(/^\/+|\/+$/g,"").split("/");c.attr.base=c.attr.host?c.attr.protocol+"://"+c.attr.host+
(c.attr.port?":"+c.attr.port:""):"";return c}function k(b){b=b.tagName;return void 0!==b?l[b.toLowerCase()]:b}var l={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},h="source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,fragment".split(","),m={anchor:"fragment"},g={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},
i=/(?:^|&|;)([^&=;]*)=?([^&;]*)/g,j=/(?:^|&|;)([^&=;]*)=?([^&;]*)/g;d.fn.url=function(b){var e="";this.length&&(e=d(this).attr(k(this[0]))||"");return d.url(e,b)};d.url=function(b,d){1===arguments.length&&!0===b&&(d=!0,b=void 0);b=b||window.location.toString();return{data:f(b,d||!1),attr:function(a){a=m[a]||a;return a!==void 0?this.data.attr[a]:this.data.attr},param:function(a){return a!==void 0?this.data.param.query[a]:this.data.param.query},fparam:function(a){return a!==void 0?this.data.param.fragment[a]:
this.data.param.fragment},segment:function(a){if(a===void 0)return this.data.seg.path;a=a<0?this.data.seg.path.length+a:a-1;return this.data.seg.path[a]},fsegment:function(a){if(a===void 0)return this.data.seg.fragment;a=a<0?this.data.seg.fragment.length+a:a-1;return this.data.seg.fragment[a]}}}})(jQuery);jQuery.fn.log=function(c){console.log("%s: %o",c,this);return this};
jQuery.fn.maxlength=function(c){this.filter("input,textarea").each(function(){var a=$(this),d=function(b,e){if(0<e&&b.value.length>e){var c=a.val().substr(0,e);a.val(c)}};a.attr("maxlength",c);a.keydown(function(b){var a=b.which,c=$(this).attr("maxlength");if(0<c&&(32<=a||13==a||10==a||8==a))if(this.value.length>=c&&8!=a&&!(37<=a&&40>=a)&&!b.metaKey&&!b.ctrlKey&&b.preventDefault(),d(this,c),86==a&&(b.metaKey||b.ctrlKey)){var f=this;setTimeout(function(){d(f,c)},10)}});a.bind("click blur focus change paste",
function(){var b=$(this).attr("maxlength");0<b&&this.value.length>b&&(b=a.val().substr(0,b),a.val(b))})});return this};$.extend({getUrlVars:function(){for(var c=[],a,d=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),b=0;b<d.length;b++)a=d[b].split("="),c.push(a[0]),c[a[0]]=a[1];return c},getUrlVar:function(c){return $.getUrlVars()[c]}});if("undefined"==typeof GD)var GD={};function id(a){return"string"==typeof a?(a=$("#"+a),0<a.size()?a.get(0):null):a}GD.runAfterBody=function(a,b){if(window.isBodyLoaded)try{a()}catch(c){Logger.error("Exception running function after body load with GD.runAfterBody: "+c)}else b=isNaN(b)?0:0>b?0:10<b?10:b-0,GD.runAfterBody.funcs.push({priority:b,afterBodyFunction:a})};GD.runAfterBody.sortPriorities=function(a,b){return b.priority-a.priority};GD.runAfterBody.funcs=[];
GD.runAfterBody.run=function(){window.isBodyLoaded=!0;GD.runAfterBody.funcs.sort(GD.runAfterBody.sortPriorities);for(var a=0;a<GD.runAfterBody.funcs.length;a+=1)GD.runAfterBody.runOneFunc(GD.runAfterBody.funcs[a].afterBodyFunction,a);delete GD.runAfterBody.funcs;delete GD.runAfterBody.runOneFunc;delete GD.runAfterBody.sortPriorities;delete GD.runAfterBody.run};
GD.runAfterBody.runOneFunc=function(a,b){try{a()}catch(c){Logger.error("Exception running function during loop "+b+" of GD.runAfterBody: "+c)}};GD.runOnFacebookLoad=function(a){if(window.isFacebookLoaded)try{a()}catch(b){Logger.error("Exception running function after Facebook load with GD.runOnFacebookLoad: "+b)}else GD.runOnFacebookLoad.funcs.push({afterFbFunction:a})};GD.runOnFacebookLoad.funcs=[];
GD.runOnFacebookLoad.run=function(){window.isFacebookLoaded=!0;for(var a=0;a<GD.runOnFacebookLoad.funcs.length;a+=1)GD.runOnFacebookLoad.runOneFunc(GD.runOnFacebookLoad.funcs[a].afterFbFunction,a);delete GD.runOnFacebookLoad.funcs;delete GD.runOnFacebookLoad.runOneFunc;delete GD.runOnFacebookLoad.run;Logger.info("GD.runOnFacebookLoad.run() completed.")};
GD.runOnFacebookLoad.runOneFunc=function(a,b){try{a()}catch(c){Logger.error("Exception running function during loop "+b+" of GD.runOnFacebookLoad: "+c)}};GD.Class=function(a){var b=a.hasOwnProperty("constructor")?a.constructor:function(){};a.constructor=b;b.prototype=a;return b};if("undefined"==typeof GD)var GD={};"undefined"==typeof GD.dom&&(GD.dom={});GD.dom.getDocUrl=function(){return document.location.href};GD.dom.submitForm=function(a,b){var c=$(a);if(c.length){GD.dom.clearPage(null,b);c.submit()}return false};
GD.dom.clearPage=function(a,b){typeof a!=="string"&&(a=".pageInsideContent");b&&(b=b.trim());b||(b="Loading...");var c=$(a);if(c.length>0){var d=$("#InterstitialDisplay"),f=$("img",d);$("p.message",d).html(b);$(document).prop("title",b+" | Glassdoor");$("embed, object",c).css("display","none");$("#ModalScreen,#GenericPopupOuterFrame").css("visibility","hidden");c.css("visibility","hidden");c.find("iframe").css("display","none");$("#UserAlertDrawer").css("visibility","hidden");$("#UserAlertBar").css("visibility",
"hidden");d=d.clone(true);c.after(d);d.show();f.length&&f.css("display","none").attr("src",f.attr("src")).css("display","");jQuery&&jQuery.scrollTo?jQuery.scrollTo({top:0,left:0,axis:"yx",easing:"easeInOutExpo",queue:false}):window.scrollTo(0,1)}};GD.dom.clearWindowAndRedirect=function(a,b,c,d){if(typeof a==="string"){GD.dom.clearPage(c,d);setTimeout(function(){GD.dom.loadUrl(a,b)},10)}};
GD.dom.clearPageAndRedirect=function(a,b,c){if(typeof a==="string"){GD.dom.clearPage(b,c);setTimeout(function(){GD.dom.loadUrl(a,"_top")},10)}};GD.dom.loadUrl=function(a,b){typeof b!="string"&&(b="_self");if(typeof a==="string")b?GD.dom.loadNewWindow(a,b):window.location.href=a;return true};GD.dom.loadNewWindow=function(a,b){if(typeof b!=="string"||!b)b="_blank";var c=window.open(a,b);if(c){c.focus&&c.focus();return false}return true};
GD.dom.disableAnchor=function(a,b){typeof b==="undefined"&&(b=true);if(typeof b!=="boolean")throw"The 'disable' parameter to GD.dom.disableAnchor must be a boolean value.";var c=$(a);c.is("a")||(c=$("a",c));c.each(function(a,c){var e=$(c);if(b){var g=e.attr("href");g&&e.data("storedHref",g);e.attr("href","#")}else{e.attr("href",e.data("storedHref"));e.removeData("storedHref")}})};
GD.dom.getRadioValue=function(a){if(!a)return"";var b=a.length;if(b==void 0)return a.checked?a.value:"";for(var c=0;c<b;c++)if(a[c].checked)return a[c].value;return""};GD.dom.setRadioValue=function(a,b){if(a){var c=a.length;if(c==void 0)a.checked=a.value==b.toString();else for(var d=0;d<c;d++){a[d].checked=false;if(a[d].value==b.toString())a[d].checked=true}}};GD.dom.clearList=function(a){if((a=id(a))&&a.options&&a.options.length)for(var a=a.options,b=0;b<a.length;b++)a[b].selected=false};
GD.dom.addListTitles=function(a){if((a=id(a))&&a.options&&a.options.length)for(var a=a.options,b=0;b<a.length;b++){var c=a[b].text,c=c.replace(/^[\s\-]*/,"");a[b].title=c}};GD.dom._cachedScrollWidth=-1;
GD.dom.getScrollerWidth=function(){if(GD.dom._cachedScrollWidth<=0){var a=null,b=0,a=0;scrollingDiv=document.createElement("div");scrollingDiv.style.position="absolute";scrollingDiv.style.top="-1000px";scrollingDiv.style.left="-1000px";scrollingDiv.style.width="100px";scrollingDiv.style.height="50px";scrollingDiv.style.overflow="hidden";scrollingDiv.style.border="1px dotted blue";a=document.createElement("div");a.style.width="100%";a.style.height="200px";scrollingDiv.appendChild(a);document.body.appendChild(scrollingDiv);
b=a.offsetWidth;scrollingDiv.style.overflow="scroll";a=a.offsetWidth;if(b==a)a=scrollingDiv.clientWidth;document.body.removeChild(scrollingDiv);GD.dom._cachedScrollWidth=b-a}return GD.dom._cachedScrollWidth};if("undefined"==typeof GD)var GD={};"undefined"==typeof GD.util&&(GD.util={});window.noop=function(){};
var toType=function(b){return{}.toString.call(b).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},ObjectHandler={clone:function(b){var c={};if(typeof b=="object")for(prop in b)c[prop]=typeof b[prop]=="object"&&b[prop].__isArray?this.cloneArray(b[prop]):typeof b[prop]=="object"?this.clone(b[prop]):b[prop];return c},cloneArray:function(b){for(var c=[],d=0;d<=b.length;d++)typeof b[d]=="object"?c.push(this.getCloneOfObject(b[d])):c.push(b[d]);return c}};Array.prototype.__isArray=!0;
"undefined"==typeof String.prototype.trim&&(String.prototype.trim=function(){a=this.replace(/^\s+/,"");return a.replace(/\s+$/,"")});String.prototype.equalsIgnoreCase=function(b){b=b.escapeForRegex();return this.match(RegExp(b,"i"))};String.prototype.startsWith=function(b){return this.indexOf(b)==0};String.prototype.contains=function(b){return this.indexOf(b)>=0};String.prototype.endsWith=function(b){var c=this.length-b.length;return c>=0&&this.lastIndexOf(b)==c};
String.prototype.countWords=function(){var b=0,c;c=this.trim().replace(/\s/g," ");c=c.split(/[ ,\.\(\)\[\]]+/);for(index=0;index<c.length;index++)c[index].length>0&&b++;return b};String.prototype.capitalize=function(){return this.replace(/\w+/g,function(b){return b.charAt(0).toUpperCase()+b.substr(1).toLowerCase()})};
String.prototype.toTitleCase=function(){return this.replace(/([\w&`'‘’"“.@:\/\{\(\[<>_]+-? *)/g,function(b,c,d,e){return d>0&&e.charAt(d-2)!==":"&&b.search(/^(a(nd?|s|t)?|b(ut|y)|en|for|i[fn]|o[fnr]|t(he|o)|vs?\.?|via)[ \-]/i)>-1?b.toLowerCase():e.substring(d-1,d+1).search(/['"_{(\[]/)>-1?b.charAt(0)+b.charAt(1).toUpperCase()+b.substr(2):b.substr(1).search(/[A-Z]+|&|[\w]+[._][\w]+/)>-1||e.substring(d-1,d+1).search(/[\])}]/)>-1?b:b.charAt(0).toUpperCase()+b.substr(1)})};
String.prototype.removeToken=function(b){if(!b)return this;var c=this.indexOf(b);return c==-1?this:this.substring(0,c)+this.substring(c+b.length).removeToken(b)};String.prototype.encodeHTML=function(){var b=this.toString(),b=b.replace(/&/g,"&amp;"),b=b.replace(/</g,"&lt;"),b=b.replace(/>/g,"&gt;"),b=b.replace(/"/g,"&quot;");return b=b.replace(/'/g,"&apos;")};
String.prototype.decodeHTML=function(){var b=this.toString(),b=b.replace(/&gt;/g,">"),b=b.replace(/&lt;/g,"<"),b=b.replace(/&amp;/g,"&"),b=b.replace(/&quot;/g,'"');return b=b.replace(/&apos;/g,"'")};String.prototype.truncateToLength=function(b,c,d){var e=this.toString();if(e.length>b){if(c){for(;b>0;){if(/\s/.test(e.charAt(b-1)))break;b--}for(;b>0&&!/\s/.test(e.charAt(b-1));)b--}e=e.substr(0,b).trim();d||(e=e+"&hellip;")}return e};
String.prototype.entityToPlainText={lt:"<",gt:">",amp:"&","#32":" ",nbsp:" ","#39":"'",apos:"'",quot:'"',cent:"¢",pound:"£",yen:"¥",copy:"©",reg:"®",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",ldquo:"“",rdquo:"”",bull:"•",hellip:"…",euro:"€",trade:"™",infin:"∞"};String.prototype.entitiesToText=function(b){var c=this.toString();return c=c.replace(/&([\w#]{1}[\w]{1,5});/g,function(c,e){var f=String.prototype.entityToPlainText[e];f||(f=b?" ":c);return f})};
String.prototype.stripHtml=function(b){var c=b?"":"[\\r\\n\\s]*",b=b?"   ":"",d;d=this.replace(RegExp("<[/]?(p|div)[^>]*>"+c,"gim"),"\n");d=d.replace(RegExp("<li[^/>]*>"+c,"gim"),"\n"+b+"• ");d=d.replace(RegExp("<(\\?xml:|/)?[\\w]+[^>]*>","gim"),"");d=d.replace(RegExp("\\w{50,}","g"),"");d=d.replace(RegExp("<\!--"+c+".+"+c+"--\>","gm"),"\n");d=d.entitiesToText(true);return d.trim()};String.prototype.plainTextLength=function(b){var c=/[\s\t]{2,}/g,d;d=this.stripHtml(b);b||(d=d.replace(c," "));return d.length};
String.prototype.escapeForRegex=function(){return this.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};String.prototype.printf=function(){for(var b=arguments.length,c=this,d=0;d<b;d=d+1)c=c.replace(RegExp("\\{"+d+"\\}","g"),arguments[d]);return c.toString()};Number.prototype.addCommas=function(){var b=this.toString();if(this.valueOf()<1E3)return b;for(var c=b.split("."),b=c[0],c=c.length>1?"."+c[1]:"",d=/(\d+)(\d{3})/;d.test(b);)b=b.replace(d,"$1,$2");return b+c};
Array.prototype.contains=function(b){for(var c=this.length;c--;)if(this[c]===b)return true;return false};Array.prototype.chain=function(b){var c=this,d=0,b=b||100;setTimeout(function(){var e=c[d++],f=b;typeof e==="function"?e():typeof e==="number"&&(f=e);d<c.length&&setTimeout(arguments.callee,f)},b);return this};Array.prototype.shuffle=function(){for(var b=this.length,c=b;c--;){var d=parseInt(Math.random()*b),e=this[c];this[c]=this[d];this[d]=e}};
GD.log=function(b){b="GLASSDOOR: "+b;console&&console.log?console.log(b):opera&&opera.postError&&opera.postError(b)};GD.isNumber=function(b){return!isNaN(b)};GD.getIEVersion=function(){var b=window.navigator.userAgent,c=b.indexOf("MSIE ");return c>0?parseInt(b.substring(c+5,b.indexOf(".",c))):0};GD.isIE=function(){return GD.getIEVersion()!=0};GD.isIE6=function(){var b=GD.getIEVersion();return b>0&&b<7};
GD.currencyDecimals={BIF:0,BYR:0,CLF:0,CLP:0,DJF:0,GNF:0,JPY:0,KMF:0,KRW:0,MGA:0,PYG:0,RWF:0,VUV:0,BHD:3,IQD:3,JOD:3,KWD:3,LYD:3,OMR:3,TND:3};
GD.formatNumber=function(b,c,d,e,f){if(typeof c=="undefined"||c==null)c="";if(typeof d!="number"){d=c.length>0?GD.currencyDecimals[c]:0;typeof d!="number"&&(d=2)}d<0?d=0:d>4&&(d=4);typeof e!="boolean"&&(e=true);var h=Math.pow(10,d),b=b.toString().replace(/\$|\,/g,"");isNaN(b)&&(b="0");sign=b==(b=Math.abs(b));for(var b=Math.floor(b*h+0.50000000001),g=b%h,b=Math.floor(b/h).toString(),g=g.toString();g.length<d;)g="0"+g;if(e)for(e=0;e<Math.floor((b.length-(1+e))/3);e=e+1)b=b.substring(0,b.length-(4*e+
3))+","+b.substring(b.length-(4*e+3));b=(sign?"":"-")+b;d>0&&(b=b+("."+g));if(c.length>0){d="";g=true;switch(c){case "USD":d="$";g=f;break;case "EUR":d="&euro; ";g=false;break;case "GBP":d="&pound; ";g=false;break;case "JPY":d="&yen; ";g=false}g&&(b=b+" "+c);return d+b}return b};GD.util.getReviewsURL=function(b,c){b=b.replace(/[\W]+/g,"-");return"/Reviews/"+b+"-Reviews-E"+c+".htm"};GD.util.getSalariesURL=function(b,c){b=b.replace(/[\W]+/g,"-");return"/Salaries/"+b+"-Salaries-E"+c+".htm"};
GD.util.durationInPast=function(b){var b=(new Date).getTime()-b.getTime(),b=Math.floor(b/1E3/3600),c=Math.floor(b/24),d="";if(b<1)d="in the last hour";else if(b<12){d=b+" hour";b!=1&&(d=d+"s");d=d+" ago"}else d=c<1?"today":c<2?"yesterday":c<3?"the day before yesterday":c<6?c-1+" days ago":c<=7?"in the last week":c<=14?"in the last 2 weeks":c<=31?"in the last month":c<=35?"5 weeks ago":c<=42?"6 weeks ago":c<=49?"7 weeks ago":c<=75?"2 months ago":c<=105?"3 months ago":c<=138?"4 months ago":c<=170?"5 months ago":
c<=210?"6 months ago":"over 6 months ago";return d};GD.util.addUrlParam=function(b,c,d){var d=encodeURIComponent(d),e=b.split("#"),b=e[0],e=e.length>1?e[1]:"",f=b.split("?");if(f.length>1){b=f[0];params=f[1]}else params="";params&&(params=params+"&");params=params+(c+"="+d);b=b+("?"+params);e&&(b=b+("#"+e));return b};GD.util.getAjaxUrlRespectingSecurity=function(b){var c=b,d=window.location;d&&d.protocol=="https:"&&(c=d.protocol+"//"+d.host+"/secure"+b);return c};
GD.util.openWindow=function(b,c){typeof c!=="string"?c="_blank":c.length<=0&&(c="_blank");window.open(b,c).focus();return false};GD.util.openCenteredPercentWindow=function(b,c,d){if(typeof d=="number"){d=d/100;return GD.util.openCenteredWindow(b,c,screen.width*d,screen.height*d)}};
GD.util.openCenteredWindow=function(b,c,d,e,f){d||(d=Math.floor(screen.width*0.8));e||(e=Math.floor(screen.height*0.8));f||(f="location=yes, menubar=yes, status=yes, toolbar=yes, scrollbars=yes, resizable=yes");d=d+32;e=e+96;wleft=(screen.width-d)/2;wtop=(screen.height-e)/2;if(wleft<0){d=screen.width;wleft=0}if(wtop<0){e=screen.height;wtop=0}b=window.open(b,c,"width="+d+", height="+e+", left="+wleft+", top="+wtop+f);b.resizeTo(d,e);b.moveTo(wleft,wtop);b.focus();return false};
GD.util.sendWLToken=function(b){b=MD5.md5(b);jQuery.ajax({url:GD.util.getAjaxUrlRespectingSecurity("/util/ajax/bwl.htm"),type:"POST",dataType:"json",data:{bwl:b,guid:GD.pageInfo.guid}})};if("undefined"==typeof GD)var GD={};"undefined"===typeof GD.event&&(GD.event={});GD.event.BACKSPACE=8;GD.event.TAB=9;GD.event.ENTER=13;GD.event.SHIFT=16;GD.event.CONTROL=17;GD.event.ALT=18;GD.event.ESCAPE=27;GD.event.SPACE=32;GD.event.PAGE_UP=33;GD.event.PAGE_DOWN=34;GD.event.END=35;GD.event.HOME=36;GD.event.ARROW_LEFT=37;GD.event.ARROW_UP=38;GD.event.ARROW_RIGHT=39;GD.event.ARROW_DOWN=40;GD.event.INSERT=45;GD.event.DELETE=46;
GD.event.fixEvent=function(a){if(!a)a=window.event;if(a){if(a.target){if(a.target.nodeType===3)a.target=a.target.parentNode}else if(a.srcElement)a.target=a.srcElement;if(a.which==null&&(a.charCode!=null||a.keyCode!=null))a.which=a.charCode!=null?a.charCode:a.keyCode;if(typeof a.metaKey=="undefined"&&a.ctrlKey)a.metaKey=a.ctrlKey}return a};
GD.event.stopEventPropagation=function(a){if(navigator.userAgent.toLowerCase().indexOf("msie")!=-1&&document.all){window.event.cancelBubble=true;window.event.returnValue=false}else a.stopPropagation();return false};GD.event.isTextChangeKeystroke=function(a){if(a.which==99&&(a.ctrlKey||a.metaKey))return false;switch(a.keyCode){case GD.event.TAB:case GD.event.ENTER:case GD.event.ESCAPE:case GD.event.ARROW_LEFT:case GD.event.ARROW_UP:case GD.event.ARROW_RIGHT:case GD.event.ARROW_DOWN:case GD.event.PAGE_UP:case GD.event.PAGE_DOWN:case GD.event.END:case GD.event.HOME:case GD.event.INSERT:return false}return true};
GD.event.Manager=GD.Class({constructor:function(){this.subscribers={}},checkType:function(a,c){if(typeof a!=="string")throw new TypeError("GD.event.Manager."+c+": type param must be a string.");},checkArgs:function(a,c,b,e){this.checkType(c,a);if(typeof b!=="function")throw new SyntaxError("GD.event.Manager."+a+": callback param must be a function.");if(!e)throw new SyntaxError("GD.event.Manager."+a+": context param must be an object.");},subscribe:function(a,c,b){this.checkArgs("subscribe",a,c,b);
this.subscribers[a]=this.subscribers[a]||[];this.subscribers[a].push({fn:c,context:b})},unsubscribe:function(a,c,b){this.checkArgs("unsubscribe",a,c,b);for(var e=(a=this.subscribers[a])?a.length:0,d=0;d<e;d++)a[d].fn===c&&a[d].context===b&&a.splice(d,1)},fire:function(a,c){this.checkType(a,"fire");for(var b=this.subscribers[a],e=b?b.length:0,d=0;d<e;d++)b[d].fn.call(b[d].context,c)}});window.GD=window.GD||{};GD.ads=GD.ads||{};GD.ads.adSlotOpenTime=800;GD.ads.maxJobTitleLen=75;GD.ads.CORE_SEARCH_TERMS="job";GD.ads.TARGETING_COOKIE_NAME="ht";GD.ads.BIZO_REQUEST_URL="http://api.bizographics.com/v2/profile.json?api_key=8f97ff8af0f84ecda0969d0911f844fc";GD.ads.reloadAll=function(){googletag.pubads().refresh();$("div.gdGoogleAfs").each(function(){var a=$(this),b=a.attr("id");a.empty();b&&GD.ads.loadAfs(b)})};
GD.ads.loadAfs=function(a,b,c,d,e,g){b&&(b=GD.ads._processSearchTerms(b));b=GD.ads._storeAfsParam("searchTerms",b,"string");c=GD.ads._storeAfsParam("testMode",c,"boolean");d=GD.ads._storeAfsParam("maxAds",d,"number");e=GD.ads._storeAfsParam("pubId",e,"string");g=GD.ads._storeAfsParam("channelId",g,"string");if(0>=d)throw"maxAds param to GD.ads.loadAfs should not be zero.  Overriding to 4.";new google.ads.search.Ads({pubId:e,channel:g,query:b,adtest:c},{container:a,number:d,colorBackground:"#eeeeee",
colorTitleLink:"#0066cc",colorDomainLink:"#007600"})};GD.ads._processSearchTerms=function(a){a=a.trim();a=a.replace(/"/g,'\\"');a=a.replace(/\s{2,}/g," ");a+=" "+GD.ads.CORE_SEARCH_TERMS;return a.trim()};GD.ads._storeAfsParam=function(a,b,c){GD.ads.loadAfs.defaults=GD.ads.loadAfs.defaults||{};typeof b===c?GD.ads.loadAfs.defaults[a]=b:b=GD.ads.loadAfs.defaults[a];return b};
GD.ads.load=function(a,b,c,d){if(a&&a.length)try{for(var e=a.split(","),a="",g=0;g<=e.length;g++)0<$("#"+e[g]+"-holder").length&&(0<a.length&&(a+=","),a+=e[g]);if(a&&0<a.length){var f;f="/getAdSlotContentsAjax.htm?slots="+encodeURIComponent(a);b&&0<b.length&&(f+="&segments="+encodeURIComponent(b));d&&0<d.length&&(f+="&"+d);c&&0<c.length&&(f+="&prguid="+c);jQuery.ajax({url:f,dataType:"html",success:function(b){GD.ads._onAdSlotRequestSuccess(a,b)},error:function(){GD.ads._onAdSlotRequestFailure(a)},
timeout:6E4})}}catch(h){Logger.warn("Exception in makeIndeedAjaxCall():"+h)}};GD.ads._submitSearchForm=function(a){var b=!0;GD.ads._prepareSubmit(a);jQuery.isFunction(a[0].onsubmit)&&(b=a[0].onsubmit());var c=a.attr("disambigComplete");b&&a.submit();c&&GD.dom.clearPage();return!1};GD.ads._closeSearchForm=function(a){$(".moreFields",a).slideUp(200);return!1};GD.ads._prepareSubmit=function(a){GD.augments.uninstallPlaceholders($("input[placeholder]",a))};
GD.ads._onAdSlotRequestSuccess=function(a,b){if(a&&a.length){var c=a.split(","),d=$("<div>");d.html(b);for(var e=0;e<c.length;e++){var g=$("#"+c[e]+"-holder");if(0<g.length){var f=$("#"+c[e],d),h=$("form.jobsSearch",f);f.outerHeight();h.length&&GD.ads._augmentSearchForm(h);0<f.length?(f.hide(),g.hide(),g.children().remove(),g.replaceWith(f),f.slideDown(GD.ads.adSlotOpenTime),GD.augments.augmentTargetedLinks("_job",f,!0)):(g.css("display","none"),message="<p>Unable to find job opportunities at this time.</p>",
g.html(message))}else Logger.error("Ad slot '"+c[e]+"' should be on the page somewhere.  It was not found.")}}};GD.ads._onAdSlotRequestFailure=function(a){if(a&&a.length)for(var a=a.split(","),b=0;b<=a.length;b++){var c=$("#"+a[b]+"-holder");0<c.length&&(c.css("display","none"),message="<p>Unable to find job opportunities at this time.</p>",c.html(message))}};
GD.ads._augmentSearchForm=function(a){GD.augments.augmentPlaceholders($("input[placeholder]",a));GD.ajax.initLocationDisambig($("input.jobsSearchLocation",a),$("input.jobsSearchLocationType",a),$("input.jobsSearchLocationId",a),null,a,56,0,280,!1,function(){return GD.ads._submitSearchForm(a)},null,null,!1);$("input.jobsSearchKeyword",a).focus(function(){GD.ads._revealSearchForm(a)});$("div.buttons .gdLinkBtn",a).click(function(b){GD.ads._submitSearchForm(a);b.preventDefault()});$("div.buttons span.cancelLink",
a).click(function(b){GD.ads._closeSearchForm(a);b.preventDefault()});$("input.jobsSearchKeyword, input.jobsSearchLocation",a).keypress(function(b){return GD.ads._onKeyPress(b,a)})};GD.ads._revealSearchForm=function(a){$(".moreFields",a).slideDown(200)};GD.ads._onKeyPress=function(a,b){return 13==a.keyCode?(setTimeout(function(){GD.ads._submitSearchForm(b)},1),!1):!0};GD.ads.setAdTargetingAttr=function(a,b){googletag.pubads().setTargeting(a,b)};GD.ads._htServices=["quantcast","bizo"];
GD.ads._htData={};GD.ads.getTargetingSegments=function(a,b){GD.ads._loadTargetingCache()||(GD.ads._pendingServicesCount=0,a||(GD.ads._pendingServicesCount+=1),b||(GD.ads._pendingServicesCount+=1),a||GD.ads._fetchBizoTargeting(),b||GD.ads._fetchQuantcastTargeting())};
GD.ads.writeTargetingSegments=function(a){if(GD.ads._htData&&(GD.ads._htData.quantcast&&GD.ads._htData.quantcast.length||GD.ads._htData.bizo&&GD.ads._htData.bizo.length)){for(var a=$(a),b=a.html().trim(),c=0;c<GD.ads._htServices.length;c++){var d=GD.ads._htServices[c],e=GD.ads._htData[d];if(jQuery.isArray(e)&&e.length){b&&(b+=", ");b+=d+"=[";for(d=0;d<e.length;d++)0<d&&(b+=","),b+=e[d];b+="]"}}a.html(b)}};
GD.ads._fetchBizoTargeting=function(){jQuery.ajax({url:GD.ads.BIZO_REQUEST_URL,dataType:"jsonp",success:function(a){GD.ads._onBizoComplete(a)},error:function(){GD.ads._onBizoComplete(null)}})};GD.ads._onBizoComplete=function(a){GD.ads._htData.bizo=[];if(a&&a.bizographics){var a=a.bizographics,b;for(b in a)if(a.hasOwnProperty(b)){var c=a[b];if(c)if(jQuery.isArray(c))for(var d=0;d<c.length;d++){var e=c[d];e.code&&GD.ads._htData.bizo.push(e.code)}else c.code&&GD.ads._htData.bizo.push(c.code)}}GD.ads._checkAllFetchesComplete()};
GD.ads._fetchQuantcastTargeting=function(){jQuery.ajax({url:"http://pixel.quantserve.com/api/segments.json",data:{a:"p-77hG-A4X4ka9Q"},dataType:"jsonp",success:function(a){GD.ads._onQuantcastComplete(a)},error:function(){GD.ads._onQuantcastComplete(null)}})};GD.ads._onQuantcastComplete=function(a){GD.ads._htData.quantcast=[];if(a&&a.segments&&(a=a.segments,jQuery.isArray(a)&&0<a.length))for(var b=0;b<a.length;b++)GD.ads._htData.quantcast.push(a[b].id);GD.ads._checkAllFetchesComplete()};
GD.ads._checkAllFetchesComplete=function(){GD.ads._pendingServicesCount-=1;0>=GD.ads._pendingServicesCount&&(GD.ads._setTargetingCache(),GD.ads._setTargetSegments())};GD.ads._loadTargetingCache=function(){var a=!1,b=jQuery.cookies.get(GD.ads.TARGETING_COOKIE_NAME);if(b&&(b.quantcast||b.bizo))GD.ads._htData=b,GD.ads._setTargetSegments(),a=!0;return a};GD.ads._setTargetingCache=function(){var a=new Date,a=new Date(a.getTime()+864E5);jQuery.cookies.set(GD.ads.TARGETING_COOKIE_NAME,GD.ads._htData,{expiresAt:a})};
GD.ads._setTargetSegments=function(){if(GD.ads._htData)for(var a=0;a<GD.ads._htServices.length;a++){var b=GD.ads._htServices[a];GD.ads.setAdTargetingAttr(b,GD.ads._htData[b])}};if("undefined"===typeof GD)var GD={};"undefined"===typeof GD.ajax&&(GD.ajax={});GD.ajax.jsonUrls={};GD.ajax.jsonUrls.LOCATION_AUTOCOMPLETE="/findCityAjax.htm";GD.ajax.jsonUrls.GRAPH_AUTOCOMPLETE={employer:"/findGraphEmployerAjax.htm",school:"/findGraphSchoolAjax.htm"};
GD.ajax.submitForm=function(a,c,b,d){if(typeof a!=="string"&&typeof a!=="object")throw"form passed to 'GD.ajax.submitForm' must be a form ID string or form object!";a=$(a);if(typeof c!=="string")throw"formHandlerUrl passed to 'GD.ajax.submitForm' must be a string!";if(typeof d!=="function")throw"callbackFunc passed to 'GD.ajax.submitForm' must be a function!";a=a.serialize();jQuery.ajax({url:c,data:a,dataType:b,error:function(a,b){d(b,null)},success:function(a,b){d(b,a)}})};
GD.ajax._formatACItem=function(a,c,b){var a=a.val(),d=b.label?b.label:b;a&&(d=GD.ajax._findAndBoldQueryString(a,d));return $("<li></li>").data("item.autocomplete",b).append("<a>"+d+"</a>").appendTo(c)};
GD.ajax.createEmployerAutoComplete=function(a,c,b){var d=$(a),e=$(c);(a=d.attr("id"))||(a="EmployerEditField");if(d.length==0)Logger.warn("GD.ajax.createEmployerAutoComplete called with invalid employer edit field: "+a);else{d.keypress(function(a){return GD.ajax._onACKeyPress(a,e)});d.blur(function(){d.hasClass("ui-autocomplete-opened")||d.autocomplete("close").autocomplete("disable").autocomplete("enable")});d.autocomplete({minLength:2,delay:100,source:"/findEmployerAjax.htm?ac=true",create:function(){var b=
d.data("autocomplete");d.addClass("glassdoorAC");b.menu.element.addClass("employer-ac-results");b.menu.element.attr("id",a+"_ACPopup")},select:function(a,c){if(c.item){d.val(c.item.label).focus();e.val(c.item.id);if(jQuery.isFunction(b))try{b(c.item.label,c.item.id)}catch(g){Logger.error("Error calling onSelect method for GD.ajax.createEmployerAutoComplete",g)}}return false},open:function(){d.addClass("ui-autocomplete-opened")},close:function(){d.removeClass("ui-autocomplete-opened")}}).data("autocomplete")._renderItem=
function(a,b){return GD.ajax._formatACItem(d,a,b)}}};
GD.ajax.createJobSourceAutoComplete=function(a,c,b){var d=$(a),e=$(c);(a=d.attr("id"))||(a="JobSourceEditField");if(d.length==0)Logger.warn("GD.ajax.createJobSourceAutoComplete called with invalid jobSource edit field: "+a);else{typeof b!=="function"&&(b=null);d.keypress(function(a){return GD.ajax._onACKeyPress(a,e)});d.blur(function(){d.hasClass("ui-autocomplete-opened")||d.autocomplete("disable").autocomplete("close").autocomplete("enable")});d.autocomplete({minLength:2,delay:100,source:"/findJobSourceAjax.htm?ac=true",
create:function(){var b=d.data("autocomplete");d.addClass("glassdoorAC");b.menu.element.addClass("jobSource-ac-results");b.menu.element.attr("id",a+"_ACPopup")},select:function(a,c){if(c.item){d.val(c.item.label).focus();e.val(c.item.id);if(jQuery.isFunction(b))try{b(c.item.label,c.item.id)}catch(g){Logger.error("Error calling onSelect method for GD.ajax.createJobSourceAutoComplete",g)}}return false},open:function(){d.addClass("ui-autocomplete-opened")},close:function(){d.removeClass("ui-autocomplete-opened")}}).data("autocomplete")._renderItem=
function(a,b){return GD.ajax._formatACItem(d,a,b)}}};GD.ajax.createGraphEmployerAutoComplete=function(a,c,b){a=$(a);c=$(c);GD.ajax._createGraphAutoComplete("employer","GD.ajax.createGraphEmployerAutoComplete",a,c,b)};GD.ajax.createGraphSchoolAutoComplete=function(a,c,b){a=$(a);c=$(c);GD.ajax._createGraphAutoComplete("school","GD.ajax.createGraphSchoolAutoComplete",a,c,b)};
GD.ajax._createGraphAutoComplete=function(a,c,b,d,e){var f,h=a.toTitleCase(),g=GD.ajax.jsonUrls.GRAPH_AUTOCOMPLETE[a];if(b.length==0)Logger.warn(c+" called with invalid edit field: "+f);else{f=b.attr("id");if(!f){f="Graph"+h+"EditField-"+(new Date).getTime();b.attr("id",f)}jQuery.isFunction(e)||(e=null);c={minLength:2,delay:100,source:g,create:function(){var c=b.data("autocomplete");b.addClass("glassdoorAC");c.menu.element.addClass(a+"-ac-results graph-"+a+"-ac-results graph-ac-results");c.menu.element.attr("id",
f+"_ACPopup");return true},select:function(a,c){if(c.item){b.val(c.item.name).focus();d.val(c.item.id);e&&e(c.item.name,c.item.id,c.item)}return false},open:function(){var a=b.data("autocomplete"),a=$(a.menu.element);b.addClass("ui-autocomplete-opened");GD.ajax._scrollToACMenu(a);return true},close:function(){b.removeClass("ui-autocomplete-opened");return true}};b.keypress(function(a){return GD.ajax._onACKeyPress(a,d)});b.blur(function(){b.hasClass("ui-autocomplete-opened")||b.autocomplete("disable").autocomplete("close").autocomplete("enable")});
b.autocomplete(c).data("autocomplete")._renderItem=function(a,c){return GD.ajax._formatGraphACItem(b,a,c)}}};GD.ajax._scrollToACMenu=function(a){setTimeout(function(){var c=$(window),b=c.scrollTop(),c=c.height(),d=a.offset(),e=a.outerHeight();if(e+40<c){b=d.top+e-(b+c)+10;b>0&&$.scrollTo("+="+b+"px",{duration:400})}},50)};
GD.ajax._formatGraphACItem=function(a,c,b){var d=a.val(),a=b.name;d&&(a=GD.ajax._findAndBoldQueryString(d,a));d=$("<li></li>");d.data("item.autocomplete",b);var e=$("<div class='desc'></div>");e.append($("<p class='graphName'></p>").html(a));a=$("<a></a>");b.avatarSqThumbUrl?a.append("<img src='"+b.avatarSqThumbUrl+"' />"):a.append("<img src='/static/img/spacer.gif' class='noAvatar generic' />");a.append(e);a.append("<div class='clear'></div>");d.append(a);return d.appendTo(c)};
GD.ajax.createLocationAutoComplete=function(a,c,b,d,e){var f=GD.util.getAjaxUrlRespectingSecurity(GD.ajax.jsonUrls.LOCATION_AUTOCOMPLETE),h=$(a),g=$(c),j=$(b),i=$(e),k=g.attr("id");k||(k="CityEditField-"+(new Date).getTime());if(g.length==0)Logger.warn("GD.ajax.createLocationAutoComplete called with invalid city edit field: "+c);else if(j.length==0)Logger.warn("GD.ajax.createLocationAutoComplete called with invalid city ID field: "+b);else{queryUrl=f;if(h.length){(a=$("option:selected",h).val())||
(a=1);queryUrl=queryUrl+("?countryId="+a)}a={minLength:2,delay:100,source:queryUrl,create:function(){var a=g.data("autocomplete");g.addClass("glassdoorAC");a.menu.element.addClass("location-ac-results");a.menu.element.attr("id",k+"_ACPopup")},select:function(a,b){if(b.item){g.val(b.item.label).focus();j.val(b.item.locationId)}jQuery.isFunction(d)&&d(b.item.label,b.item.locationId);return false},open:function(){g.addClass("ui-autocomplete-opened");return true},close:function(){g.removeClass("ui-autocomplete-opened");
return true}};if(h.length)h[0].updateCityField=function(a){var b=$("option:selected",h).val(),c=true;if(!b||b<=0)c=false;if(a)if(c){a.autocomplete("enable");i.show();a.show()}else{i.hide();a.hide();a.autocomplete("disable")}};h.change(function(){GD.ajax.createLocationAutoComplete.onCountryListChange(this.updateCityField,h,g,j,f);return true});h.keydown(function(a){GD.ajax.createLocationAutoComplete.onCountryListKeyDown(a,this.updateCityField,h,g,j,f);return true});g.keypress(function(a){return GD.ajax._onACKeyPress(a,
j)});g.blur(function(){g.hasClass("ui-autocomplete-opened")||g.autocomplete("disable").autocomplete("close").autocomplete("enable");g.val().length<1&&j.val("0")});g.autocomplete(a).data("autocomplete")._renderItem=function(a,b){return GD.ajax._formatACItem(g,a,b)}}};GD.ajax.createLocationAutoComplete.onCountryListKeyDown=function(a,c,b,d,e,f){a.keyCode!=GD.event.TAB&&setTimeout(function(){GD.ajax.createLocationAutoComplete.onCountryListChange(c,b,d,e,f)},1);return true};
GD.ajax.createLocationAutoComplete.onCountryListChange=function(a,c,b,d,e){jQuery.isFunction(a)&&a(b);GD.augments.setPlaceholderVal(b,"");d.val("");a=$("option:selected",c).val();if(!a||a<=0)a=1;b.autocomplete("option","source",e+"?countryId="+a);return true};
GD.ajax.createJobAutoComplete=function(a,c,b,d){var e=$(a),f=$(c);(a=e.attr("id"))||(a="JobTitleEditField");e.length==0?Logger.warn("GD.ajax.createEmployerAutoComplete called with invalid job title edit field: "+a):f.length==0?Logger.warn("GD.ajax.createEmployerAutoComplete called with invalid occupation ID field: "+c):e.autocomplete({minLength:1,delay:100,create:function(){var b=e.data("autocomplete");e.addClass("glassdoorAC");b.menu.element.addClass("job-title-ac-results");b.menu.element.attr("id",
a+"_ACPopup");return true},source:function(a,c){GD.ajax.getMatchingItemsFromStaticList(a,c,b,10)},focus:function(a,b){e.val(b.item.label);return false},select:function(a,b){if(b.item){e.val(b.item.label).focus();f.val(b.item.value);jQuery.isFunction(d)&&d(b.item.label,b.item.value)}return false},open:function(){e.addClass("ui-autocomplete-opened")},close:function(){e.removeClass("ui-autocomplete-opened")}}).data("autocomplete")._renderItem=function(a,b){return GD.ajax._formatACItem(e,a,b)}};
GD.ajax.createEmployerAwardNameAutoComplete=function(a,c){var b=$(a),d;(a=b.attr("id"))||(a="AwardNameEditField");if(b.length==0)Logger.warn("GD.ajax.createEmployerAutoComplete called with invalid award name edit field: "+a);else{d={minLength:2,delay:100,source:"/findEmployerAwardNameAjax.htm",create:function(){var c=b.data("autocomplete");b.addClass("glassdoorAC");c.menu.element.addClass("award-name-ac-results");c.menu.element.attr("id",a+"_ACPopup")},open:function(){b.addClass("ui-autocomplete-opened")},
close:function(){b.removeClass("ui-autocomplete-opened")}};if(jQuery.isFunction(c))d.select=function(a,b){c(b.item.label)};b.autocomplete(d).data("autocomplete")._renderItem=function(a,c){return GD.ajax._formatACItem(b,a,c)}}};
GD.ajax.createEmployerAwardSourceAutoComplete=function(a,c){var b=$(a),d;(a=b.attr("id"))||(a="AwardSourceEditField");if(b.length==0)Logger.warn("GD.ajax.createEmployerAwardSourceAutoComplete called with invalid award source edit field: "+a);else{d={minLength:2,delay:100,source:"/findEmployerAwardSourceAjax.htm",create:function(){var c=b.data("autocomplete");b.addClass("glassdoorAC");c.menu.element.addClass("award-source-ac-results");c.menu.element.attr("id",a+"_ACPopup")},open:function(){b.addClass("ui-autocomplete-opened")},
close:function(){b.removeClass("ui-autocomplete-opened")}};if(jQuery.isFunction(c))d.select=function(a,b){c(b.item.label)};b.autocomplete(d).data("autocomplete")._renderItem=function(a,c){return GD.ajax._formatACItem(b,a,c)}}};
GD.ajax.createPartnerAutoComplete=function(a,c,b){var d=$(a),e=$(c);(a=d.attr("id"))||(a="PartnerEditField");if(d.length==0)Logger.warn("GD.ajax.createPartnerAutoComplete called with invalid partner edit field: "+a);else if(e.length==0)Logger.warn("GD.ajax.createPartnerAutoComplete called with invalid partner ID field: "+c);else{typeof b!=="function"&&(b=null);d.keypress(function(a){return GD.ajax._onACKeyPress(a,e)});d.autocomplete({minLength:2,delay:100,source:"findPartnerAjax.htm?ac=true",create:function(){var b=
d.data("autocomplete");d.addClass("glassdoorAC");b.menu.element.addClass("partner-ac-results");b.menu.element.attr("id",a+"_ACPopup")},select:function(a,c){if(c.item){d.val(c.item.label).focus();e.val(c.item.id);jQuery.isFunction(b)&&b(c.item.label,c.item.id)}return false},open:function(){d.addClass("ui-autocomplete-opened")},close:function(){d.removeClass("ui-autocomplete-opened")}}).data("autocomplete")._renderItem=function(a,b){return GD.ajax._formatACItem(d,a,b)}}};
GD.ajax.createImportConfigAutoComplete=function(a,c,b){var d=$(a),e=$(c);(a=d.attr("id"))||(a="ImportConfigEditField");if(d.length==0)Logger.warn("GD.ajax.createImportConfigAutoComplete called with invalid importConfig edit field: "+a);else if(e.length==0)Logger.warn("GD.ajax.createImportConfigAutoComplete called with invalid importConfig ID field: "+c);else{typeof b!=="function"&&(b=null);d.keypress(function(a){return GD.ajax._onACKeyPress(a,e)});d.autocomplete({minLength:2,delay:100,source:"findImportConfigAjax.htm?autocomplete=true&showDisabled=true",
create:function(){var b=d.data("autocomplete");d.addClass("glassdoorAC");b.menu.element.addClass("importConfig-ac-results");b.menu.element.attr("id",a+"_ACPopup")},select:function(a,c){if(c.item){d.val(c.item.label).focus();e.val(c.item.id);jQuery.isFunction(b)&&b(c.item.label,c.item.id)}return false},open:function(){d.addClass("ui-autocomplete-opened")},close:function(){d.removeClass("ui-autocomplete-opened")}}).data("autocomplete")._renderItem=function(a,b){return GD.ajax._formatACItem(d,a,b)}}};
GD.ajax.selectAutoComplete=function(a,c,b,d,e,f){var h=$(a),c=$("select",h),g=c.attr("id"),j=c.attr("name"),i;c.length&&(i=$("option",c));h.addClass("multipleAC cf");var k=[];i.each(function(){var a=$(this),a={id:a.val(),label:a.text(),selected:a.is(":selected")};k.push(a)});h.data("acItems",k);h.data("selectName",j);c.remove();var l=$("<input type='text' class='acEditField' />");g&&l.attr("id",g);h.empty();h.append(l);for(i=0;i<k.length;i++){var n=k[i];n.selected&&GD.ajax.selectAutoComplete._addSelectedItem(h,
l,n,e,f)}h.click(function(a){l.focus();a.stopPropagation()});l.keydown(function(a){GD.ajax.selectAutoComplete._onKeydown(a,h,l)});l.autocomplete({minLength:1,delay:100,create:function(){l.data("autocomplete").menu.element.addClass("multi-ac-results");return true},source:d+"?autocomplete=true",focus:function(a,b){l.val(b.item.label);return false},select:function(c,d){var g=true;jQuery.isFunction(b)&&(g=b(a,l,n));d.item&&g&&GD.ajax.selectAutoComplete._selectItem(h,l,d.item,e,f);g&&l.val("");return false}}).data("autocomplete")._renderItem=
function(a,b){return GD.ajax._formatACItem(l,a,b)}};GD.ajax.selectAutoComplete._onKeydown=function(a,c,b){c=true;b=b.val().trim().length>0;if(a&&b){a.which===13&&(c=false);switch(String.fromCharCode(a.which)){case "\t":c=false;break;case "\n":case "\r":c=false}}if(!c){a.preventDefault();a.stopPropagation()}};GD.ajax.selectAutoComplete._selectItem=function(a,c,b,d,e){GD.ajax.selectAutoComplete._addSelectedItem(a,c,b,d,e);b.selected=true};
GD.ajax.selectAutoComplete._addSelectedItem=function(a,c,b,d,e){var f="div ";e&&(f="span ");var e="<"+f+'class="selectedItem" title="%TITLE%"><span class="textPart"></span><img src=\'/static/img/spacer.gif\' class=\'closeBox\' /></'+f+">",h="<"+f+"class=\"selectedItem\" title=\"%TITLE%\"><a href='%URL%' target='_blank'><span class='textPart'></span></a><img src='/static/img/spacer.gif' class='closeBox' /></"+f+">",f=b.label,g=a.data("selectName");if(jQuery.isFunction(d))(d=d(a,b))&&(e=h.replace(/%URL%/,
d));d="ID "+b.id;d=d.replace('"',"");e=e.replace(/%TITLE%/,d);e=$(e);c.before(e);e.attr("value",b.id);$(".textPart",e).html(f);$("img",e).click(function(c){GD.ajax.selectAutoComplete._onCloseBoxClick(a,b,c);c.stopPropagation()});$('input[type="hidden"][value="'+b.id+'"]',a).length==0&&a.append('<input type="hidden" name="'+g+'" value="'+b.id+'" />')};GD.ajax.selectAutoComplete._onCloseBoxClick=function(a,c){GD.ajax.selectAutoComplete._deselectItem(a,c.id)};
GD.ajax.selectAutoComplete._deselectItem=function(a,c){var b=$('.selectedItem[value="'+c+'"]',a),d=a.data("acItems",d),e=false;a.data("selectName");b.remove();$("input.acEditField",a).focus();for(b=0;b<d.length&&!e;b++){var f=d[b];if(f.id==c){f.selected=false;e=true}}d=$('input[type="hidden"][value="'+c+'"]',a);d.length&&d.remove()};
GD.ajax.getMatchingItemsFromStaticList=function(a,c,b,d){var e=[];if(a&&a.term)for(var a=a.term.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),a=RegExp(a,"i"),f=0;f<b.length&&e.length<d;f++)b[f].label&&a.test(b[f].label)?e.push(b[f]):a.test(b[f])&&e.push(b[f]);c(e)};GD.ajax.DISAMBIG_RESULTS_WINDOW_ID="AjaxLocationDisambigResults";GD.ajax.TRUNC_NUM_RESULTS_TO_SHOW=5;
GD.ajax.initLocationDisambig=function(a,c,b,d,e,f,h,g,j,i,k,l,n,p){var m=$(a),s=$(p),q=m.closest("form");typeof n!=="boolean"&&(n=false);g||(g=330);if(q.length){var r=$(c),o=$(b),m=$(a);q.bind("submit",function(){var a=true;GD.augments.uninstallPlaceholders(m);var b=m.val();b&&(b=b.trim());if(b){if(!q.attr("disambigComplete")){GD.ajax._doLocationDisambig(m,r,o,t,e,f,h,g,j,i,k,l,n,s);a=false}}else q.attr("disambigComplete","true");return a});var t=$(d),a=GD.ajax._getDisambigKeyDownFunc(r,o,t);m.keydown(a)}};
GD.ajax._getDisambigKeyDownFunc=function(a,c,b){return function(d){if(d.keyCode<33||d.keyCode>40){a.val("");c.val("");b.val("")}GD.ajax._closeLocDisambigPanel();return true}};
GD.ajax._doLocationDisambig=function(a,c,b,d,e,f,h,g,j,i,k,l,n,p){var m=$(a),s=$(c),q=$(b),r=$(d);GD.augments.uninstallPlaceholderField(m);var o="";if(o=m.val()){o=o.trim();m.val(o)}allowPostalCodes=p.val()=="true";o||GD.ajax._handleAllLocationSelect(m,s,q,r,i);a="/findLocationsByFullTextAjax.htm?locationSearchString="+encodeURIComponent(o);a=GD.util.getAjaxUrlRespectingSecurity(a+("&allowPostalCodes="+allowPostalCodes));a={url:a,dataType:"json",success:function(a){GD.ajax._disambigLocationAjaxHandler(a.locations,
o,e,f,h,g,j,m,s,q,r,i,k,n)},error:function(){GD.ajax._disambigLocationAjaxHandler(null,o,e,f,h,g,j,null,null,null,null,null,k,n);disambigHandler=GD.ajax._getDisambigHandler();disambigHandler()}};if(k&&l){k=$(k);k.attr("defaultLabel",k.html()).attr("submittingLabel",l).html(l)}jQuery.ajax(a);GD.augments.augmentPlaceholderField(m);return false};
GD.ajax._disambigLocationAjaxHandler=function(a,c,b,d,e,f,h,g,j,i,k,l,n,p){if(a){j=$(j);i=$(i);k=$(k);if(a.length==1||a.length>0&&p){GD.ajax._closeLocDisambigPanel();b=a[0];GD.ajax._setLocation(b.name,b.type,b.id,g,j,i,k);g.parents("form:first").attr("disambigComplete","true");l()}else{var m=null;if(a.length==0)if(p)GD.ajax._handleAllLocationSelect(g,j,i,k,l);else{m=$("<div class='locDisambigNoResults'><img src='/static/img/spacer.gif' class='warning' />"+("<p class='header'>No matches for <strong>"+
c+"</strong></p>")+"<p>Please try a different location or see results for <a>all available locations</a>.</p></div>");$("a",m).mousedown(function(){GD.ajax._handleAllLocationSelect(g,j,i,k,l)})}else m=GD.ajax._populateSelectPanel(c,a,g,j,i,k,l);GD.ajax._restoreSubmitLabel(n);if(m){GD.ajax._showLocDisambigPanel(b,d,e,f,h,g);GD.dialogManager.panelSetContents("#"+GD.ajax.DISAMBIG_RESULTS_WINDOW_ID,m)}}}else if(p)GD.ajax._handleAllLocationSelect(g,j,i,k,l);else{a="<p><strong>An error occurred in processing the location '"+
c+"'.</strong></p><p>Please try again.  If the problem persists, please be assured that our engineers are scrambling to fix the problem.</p>";GD.ajax._restoreSubmitLabel(n);GD.augments.augmentPlaceholderField(g);GD.ajax._showLocDisambigPanel(b,d,e,f,null,g);GD.dialogManager.panelSetContents("#"+GD.ajax.DISAMBIG_RESULTS_WINDOW_ID,a)}};
GD.ajax._populateSelectPanel=function(a,c,b,d,e,f,h){var g=$("<div class='locDisambigPanel'>"),j=$("<div class='locDisambigResults truncDisambig'>"),i,k=GD.ajax.TRUNC_NUM_RESULTS_TO_SHOW;g.append("<img src='/static/img/spacer.gif' class='circledGreenCheck' />");g.append("<p class='header'>We found <strong>"+c.length+"</strong> results for <strong>"+a+"</strong></p>");c.length>GD.ajax.TRUNC_NUM_RESULTS_TO_SHOW+1?i=$("<div class='locDisambigResults fullDisambig hidden'>"):c.length==GD.ajax.TRUNC_NUM_RESULTS_TO_SHOW+
1&&k++;for(a=0;a<c.length;a++){var l=c[a],n;n=GD.ajax._getSelectPanelItem(l,b,d,e,f,h);c.length>k&&i.append(n);if(a<k){n=GD.ajax._getSelectPanelItem(l,b,d,e,f,h);j.append(n)}}if(c.length>k){j.append("<p class='footer'><a onmousedown='return GD.ajax._showFullDisambigList(true);'>More results</a></p>");i.append("<p class='footer'><a onmousedown='return GD.ajax._showFullDisambigList(false);'>Fewer results</a></p>")}g.append(j);i&&g.append(i);return g};
GD.ajax._getSelectPanelItem=function(a,c,b,d,e,f){var h=$("<p>"),g=$("<a></a>"),c=GD.ajax._getLocSelectHandler(c,a.name,b,a.type,d,a.id,e,f);g.html(a.name);g.click(c);h.append(g);return h};GD.ajax._getLocSelectHandler=function(a,c,b,d,e,f,h,g){return function(){GD.ajax._handleLocationSelect(a,c,b,d,e,f,h,g);return false}};
GD.ajax._showFullDisambigList=function(a){typeof a!=="boolean"&&(a=true);if(a){$("#"+GD.ajax.DISAMBIG_RESULTS_WINDOW_ID+" .truncDisambig").hide();$("#"+GD.ajax.DISAMBIG_RESULTS_WINDOW_ID+" .fullDisambig").show()}else{$("#"+GD.ajax.DISAMBIG_RESULTS_WINDOW_ID+" .fullDisambig").hide();$("#"+GD.ajax.DISAMBIG_RESULTS_WINDOW_ID+" .truncDisambig").show()}return false};
GD.ajax._handleLocationSelect=function(a,c,b,d,e,f,h,g){$("#AjaxLocationDisambigResults").css("display","none");GD.ajax._setLocation(c,d,f,a,b,e,h);a.parents("form:first").attr("disambigComplete","true");g()};GD.ajax._handleAllLocationSelect=function(a,c,b,d,e){$("#AjaxLocationDisambigResults").remove();GD.ajax._setLocation("","","",a,c,b,d);a.parents("form:first").attr("disambigComplete","true");e()};
GD.ajax._setLocation=function(a,c,b,d,e,f,h){d.length&&d.val(a);if(e.length&&f.length){e.val(c);f.val(b)}h.length&&(c&&b?h.val(c+","+b):h.val(""))};
GD.ajax._showLocDisambigPanel=function(a,c,b,d,e,f){GD.ajax._closeLocDisambigPanel();a=$(a);a=a.length?a[0]:null;GD.dialogManager.panelCreate("AjaxLocationDisambigResults",null,a,d,c,b,null,null,null,null,true,false,function(){GD.ajax._onLocDisambigPanelClose(f)});GD.dialogManager.panelShow("#AjaxLocationDisambigResults");e&&jQuery.scrollTo($("#AjaxLocationDisambigResults"),{axis:"y",duration:200,offset:{left:0,top:10}})};GD.ajax._closeLocDisambigPanel=function(){try{GD.dialogManager.panelClose("#AjaxLocationDisambigResults")}catch(a){}return false};
GD.ajax._onLocDisambigPanelClose=function(a){a.focus().select()};GD.ajax._restoreSubmitLabel=function(a){var a=$(a),c=a.attr("defaultLabel");c&&a.html(c)};GD.ajax._onACKeyPress=function(a,c,b){if(GD.event.isTextChangeKeystroke(a)){c&&c.length&&c.val("");b&&b.length&&b.val("")}return true};GD.ajax._boldString=function(a){return a.indexOf("<")===-1?"<b>"+a+"</b>":a};
GD.ajax._expandGeoAbbreviations=function(a){a=GD.ajax._abbreviationReplaceHelper(a,"ft","Fort");a=GD.ajax._abbreviationReplaceHelper(a,"mt","Mount");a=GD.ajax._abbreviationReplaceHelper(a,"pt","Point");a=GD.ajax._abbreviationReplaceHelper(a,"st","Saint");a=GD.ajax._abbreviationReplaceHelper(a,"intl","International");a=GD.ajax._abbreviationReplaceHelper(a,"n","North");a=GD.ajax._abbreviationReplaceHelper(a,"s","South");a=GD.ajax._abbreviationReplaceHelper(a,"e","East");a=GD.ajax._abbreviationReplaceHelper(a,
"w","West");a=GD.ajax._abbreviationReplaceHelper(a,"ne","Northeast");a=GD.ajax._abbreviationReplaceHelper(a,"nw","Northwest");a=GD.ajax._abbreviationReplaceHelper(a,"se","Southeast");return a=GD.ajax._abbreviationReplaceHelper(a,"sw","Southwest")};
GD.ajax._expandOccupationAbbreviations=function(a){a=GD.ajax._abbreviationReplaceHelper(a,"sr","Senior");a=GD.ajax._abbreviationReplaceHelper(a,"jr","Junior");a=GD.ajax._abbreviationReplaceHelper(a,"mgr","Manager");return a=GD.ajax._abbreviationReplaceHelper(a,"dir","Director")};GD.ajax._abbreviationReplaceHelper=function(a,c,b){a=GD.ajax._replaceStringSmartCase(a,c+"\\.",b);return a=GD.ajax._replaceStringSmartCase(a,c,b)};
GD.ajax._replaceStringSmartCase=function(a,c,b){if(a.length==c.length)return a;a=a.replace(RegExp("\\b"+c.toLowerCase()+"( |$|\\b)"),b+" ").trim();a=a.replace(RegExp("\\b"+c.toUpperCase()+"( |$|\\b)"),b+" ").trim();a=a.replace(RegExp("\\b"+c.capitalize()+"( |$|\\b)"),b+" ").trim();return a=a.replace(/ ,/,",")};
GD.ajax._cleanSearchString=function(a){a=GD.ajax._replaceStringSmartCase(a,"http","");a=GD.ajax._replaceStringSmartCase(a,"www\\.","");a=GD.ajax._replaceStringSmartCase(a,"intl","");a=GD.ajax._replaceStringSmartCase(a,"int'l","");a=GD.ajax._replaceStringSmartCase(a,"corp","");a=GD.ajax._replaceStringSmartCase(a,"corp.","");a=GD.ajax._replaceStringSmartCase(a,"corporation","");a=GD.ajax._replaceStringSmartCase(a,"inc","");a=GD.ajax._replaceStringSmartCase(a,"inc.","");a=GD.ajax._replaceStringSmartCase(a,
"incorporated","");a=GD.ajax._replaceStringSmartCase(a,"cos","");a=GD.ajax._replaceStringSmartCase(a,"cos.","");a=GD.ajax._replaceStringSmartCase(a,"svcs","");a=GD.ajax._replaceStringSmartCase(a,"mgmt","");a=GD.ajax._expandGeoAbbreviations(a);a=GD.ajax._expandOccupationAbbreviations(a);a=a.replace(/(\\b[A-Za-z][A-Za-z]{0,2})[ ]*&[ ]*([A-Za-z][A-Za-z]{0,2}\\b)/g,"$1$2");a=a.replace(/\&/g," ");a=a.replace(/[\&\'\!\|~\*]/g,"");a=a.replace(/\.[^c]/g,"");return a=a.replace(/[\?\^\-\:\;\(\)\+\/\\\[\]]/g,
" ")};GD.ajax._findAndBoldQueryString=function(a,c){var b=GD.ajax._cleanSearchString(a).trim().split(/\s+/),d,e="(<.+>)",f=false;for(d=0;d<b.length;d=d+1){if(b[d].length>0){f?f=false:e=e+"|";e=e+"(\\b"+b[d]+")"}c=c.replace(RegExp(e,"ig"),GD.ajax._boldString)}return c};GD.ajax.setDisambiguatedCity=function(a,c,b){var a=$(a),a=$("option:selected",a),c=$(c),b=$(b),d;d=a.length&&a.val()<=0?"":a.text();c.val(d);b.val(a.val())};
GD.ajax.updateWordCounter=function(a,c,b,d,e){if(c=id(c)){a=id(a).value.countWords();c.innerHTML=e&&a<=0?"&nbsp;":GD.formatNumber(a)+" words completed"}};GD.ajax.updateCharCounter=function(a,c,b,d,e){if(id(c)){a=id(a).value.length;e&&a<=0?id(c).innerHTML="&nbsp;":id(c).innerHTML=a+" characters entered"}};GD.ajax.keepAliveIntervalId=null;GD.ajax.keepAliveHoursSoFar=0;GD.ajax.keepAliveHoursMax=0;
GD.ajax.keepSessionAlive=function(a){a=parseInt(a);isNaN(a)?a=24:a<0&&(a=8765);if(GD.ajax.keepAliveIntervalId)try{window.clearInterval(GD.ajax.keepAliveIntervalId)}catch(c){}GD.ajax.keepAliveHoursSoFar=0;GD.ajax.keepAliveHoursMax=0;if(a>0){GD.ajax.keepAliveHoursMax=a;GD.ajax.keepAliveIntervalId=window.setInterval(GD.ajax._keepSessionAliveWorker,18E5)}};
GD.ajax._keepSessionAliveWorker=function(){GD.ajax.keepAliveHoursSoFar=GD.ajax.keepAliveHoursSoFar+1;if(GD.ajax.keepAliveHoursSoFar>=GD.ajax.keepAliveHoursMax)try{window.clearInterval(GD.ajax.keepAliveIntervalId)}catch(a){}else jQuery.ajax({url:"/extendSessionAjax.htm",dataType:"json"})};
GD.ajax.initEditInPlace=function(a,c,b,d,e){if(typeof a!=="string"||a.length===0)throw"idPrefix must be specified as a non-empty string to GD.ajax.initEditInPlace";typeof c!=="boolean"&&(c=false);typeof b!=="boolean"&&(b=false);typeof d!=="function"&&(d=null);typeof e!=="function"&&(e=null);var f=$("#"+a+"View"),h=$("#"+a+"Wrapper"),g=$("#"+a+"ViewControls"),j=$("#"+a+"EditControls"),i=$("#"+a+"Edit");f[0].editor=i;if(h.length)f[0].wrapper=h;if(g.length)f[0].viewControls=g;if(d)f[0].onEditEnter=d;
if(e)f[0].onEditCancel=e;if(j.length){f[0].editControls=j;j.attr("prevDisplay",j.css("display"));j.css("display","none")}d=function(){GD.ajax.showEditInPlace(a);return false};c?f.dblclick(d):b&&f.click(d);i.keydown(function(a){if(a.keyCode===GD.event.TAB){a=true;f[0].onEditEnter&&(a=f[0].onEditEnter());a&&GD.ajax.finishEditInPlace(this)}});i.keyup(function(b){if(b.keyCode===GD.event.ESCAPE){b=true;f[0].onEditCancel&&(b=f[0].onEditCancel());b&&GD.ajax.finishEditInPlace(a,true);return false}return b.keyCode===
GD.event.TAB?false:true})};
GD.ajax.showEditInPlace=function(a){var c=$("#"+a+"View"),a=c[0].editor,b=c[0].wrapper,d=c[0].viewControls,e=c[0].editControls;if(!a)return true;a[0].currentView&&GD.ajax.finishEditInPlace(a);a[0].currentView=c;a.keypress(function(a){if(a.keyCode===13){a=true;c[0].onEditEnter&&(a=c[0].onEditEnter());a&&GD.ajax.finishEditInPlace(this,false);return false}return true});if(a[0].nodeName==="TEXTAREA"){a.css("width",c.offsetWidth);a.css("height",c.offsetHeight)}a.val(c.html());a.css("visibility","visible");
a.css("display","inline");b.length&&b.css("visibility","hidden");c.css("visibility","hidden");if(d.length){d.attr("prevDisplay",d.css("display"));d.css("display","none")}if(e.length){e.attr("prevDisplay")!="none"?e.css("display",e.attr("prevDisplay")):e.css("display","block");e.removeAttr("prevDisplay")}a.focus();return false};
GD.ajax.finishEditInPlace=function(a,c){typeof c!=="boolean"&&(c=false);typeof a==="string"&&(a="#"+a+"Edit");var a=$(a),b=a[0].currentView;if(b&&b.length){var d=b[0].wrapper,e=b[0].viewControls,f=b[0].editControls;c||b.html(a.val());a.css("visibility","hidden");a.css("display","none");d.length&&d.css("visibility","visible");if(f.length){f.attr("prevDisplay",f.css("display"));f.css("display","none")}if(e.length){e.attr("prevDisplay")!="none"?e.css("display",e.prevDisplay):e.css("display","block");
e.removeAttr("prevDisplay")}b.css("visibility","visible")}a.removeAttr("currentView")};GD.ajax.isEditInPlace=function(a){var c=false,a=$("#"+a+"View"),b=a[0].editor;if(b&&b.length)(b=b[0].currentView)&&b.length&&(c=a[0]===b[0]);return c};if("undefined"===typeof GD)var GD={};"undefined"===typeof GD.augments&&(GD.augments={});GD.augments.augmentTargetedLinks=function(a,b,c){b=$(b);if(a){b.length==0&&(b=null);$("a[target="+a+"]",b).each(function(){var a=$(this),b=a.attr("href");a.data("href",b);a.click(function(a){if(!c){var e=window.open(b,"_blank");e.focus&&e.focus()}a.preventDefault()}).removeAttr("href").removeAttr("target")});return false}Logger.error("GD.augments.augmentTargetedLinks called without 'target' attribute.")};
GD.augments.augmentEmbedLinks=function(a){a=$(a);a.length==0&&(a=document);$(".embedWidgetLink",a).click(function(){GD.analytics.trackPartnerShare("embed");GD.shareContent.sharedContentPopup(0,$(this).attr("builderUrl"));return false}).removeClass("embedWidgetLink")};
GD.augments.augmentButtons=function(){try{$("button.gd-button").each(function(){var a=$(this),c=a.attr("name");c&&a.attr("gdName",c).removeAttr("name")});$("button.gd-button:not(.ui-state-disabled)").hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}).mousedown(function(){var a=$(this);a.parents(".gd-buttonset-single:first").find(".gd-button.ui-state-active").removeClass("ui-state-active");a.is(".ui-state-active.gd-button-toggleable, .gd-buttonset-multi .ui-state-active")?
a.removeClass("ui-state-active"):a.addClass("ui-state-active")}).mouseup(function(){$(this).is(".gd-button-toggleable, .gd-buttonset-single .gd-button,  .gd-buttonset-multi .gd-button")||$(this).removeClass("ui-state-active")}).keydown(function(a){if(a.keyCode==13||a.keyCode==32){a=$(this);a.parents(".gd-buttonset-single:first").find(".gd-button.ui-state-active").removeClass("ui-state-active");a.is(".ui-state-active.gd-button-toggleable, .gd-buttonset-multi .ui-state-active")?a.removeClass("ui-state-active"):
a.addClass("ui-state-active")}return true})}catch(a){Logger.fatal("GD.augments.augmentButtons",a)}};GD.augments.addHiddenButtonFieldsToForm=function(a){a=a?$(a):$("form");a.each(function(){var b=$(this);b.find("button.ui-state-active").each(function(){var c=$(this),e=c.attr("gdName"),c=c.attr("value"),d=b.find("input[type='hidden'][name='"+e+"']");if(e&&c){c==="NA"&&(c=0);if(d.length)d.val(c);else{d=$("<input type='hidden'>");d.attr("name",e).attr("value",c);a.append(d)}}else d&&d.remove()})})};
GD.augments.MIN_AD_SLOT_HEIGHT=10;GD.augments.hideUnusedAdSlots=function(){try{$(".adSlotContainer").each(function(){var a=$(this);a.height()<GD.augments.MIN_AD_SLOT_HEIGHT&&a.css("display","none")})}catch(a){Logger.fatal("GD.augments.collapseAdSlots",a)}};GD.augments.CONTEXT_HELP_OK="contextHelpOK";
GD.augments.augmentContextHelpNodes=function(a){$nodes=a?$(a).not("."+GD.augments.CONTEXT_HELP_OK):$(".contextHelpLink").not("."+GD.augments.CONTEXT_HELP_OK);$nodes.each(function(){$(this).find("span[href]").each(function(){var a=$(this),c=a.attr("constrainTo"),e=a.attr("href").split("#")[1];if(e){var d=a.attr("helpWidth")||400,d=d-0;a.removeAttr("href").addClass("link");a.click(function(a){a=$(a.target);a.is(".contextHelpLink")||(a=a.closest(".contextHelpLink"));a.length&&GD.augments._contextHelpToggle(a,
"#"+e,d,c)})}})});$nodes.addClass(GD.augments.CONTEXT_HELP_OK)};GD.augments._contextHelpToggle=function(a,b,c,e){try{GD.dialog.contextHelpShown==true?GD.dialog.contextHelpShown=false:GD.dialogManager.showHelp(a,b,c,e)}catch(d){Logger.fatal("GD.augments.contextHelpToggle",d)}};GD.augments.PLACEHOLDER_OK="placeholderOK";GD.augments.ATTR_PLACEHOLDER="placeholder";GD.augments.CLASS_PLACEHOLDER_ACTIVE="placeholder";GD.augments.CLASS_PLACEHOLDER_INACTIVE="nonPlaceholder";
GD.augments.PLACEHOLDER_SELECTOR="input[placeholder], textarea[placeholder]";GD.augments.augmentPlaceholders=function(a){try{a=a?a.not("."+GD.augments.PLACEHOLDER_OK):$(GD.augments.PLACEHOLDER_SELECTOR).not("."+GD.augments.PLACEHOLDER_OK);a.each(function(){var a=$(this),b=a.attr(GD.augments.ATTR_PLACEHOLDER);typeof b==="string"&&b.length>0&&GD.augments.augmentPlaceholderField(a,b)})}catch(b){Logger.fatal("GD.augments.augmentPlaceholders",b)}};
GD.augments.getPlaceholderVal=function(a){var a=$(a),b;if(a.length)if(!Modernizr.input.placeholder&&a.hasClass(GD.augments.PLACEHOLDER_OK)){b=a.attr(GD.augments.ATTR_PLACEHOLDER);a=a.val();b=b&&a==b?"":a}else b=a.val();return b};
GD.augments.setPlaceholderVal=function(a,b){var c=$(a);if(c.length)if(!Modernizr.input.placeholder&&c.hasClass(GD.augments.PLACEHOLDER_OK)){var e=c.attr(GD.augments.ATTR_PLACEHOLDER);if(b){c.val(b);c.removeClass(GD.augments.CLASS_PLACEHOLDER_ACTIVE);c.addClass(GD.augments.CLASS_PLACEHOLDER_INACTIVE)}else{c.val(e);c.removeClass(GD.augments.CLASS_PLACEHOLDER_INACTIVE);c.addClass(GD.augments.CLASS_PLACEHOLDER_ACTIVE)}}else c.val(b);return b};
GD.augments.changePlaceholderText=function(a,b){if(b){var c=$(a);if(c.length&&c.hasClass(GD.augments.PLACEHOLDER_OK)){c.attr(GD.augments.ATTR_PLACEHOLDER,b);Modernizr.input.placeholder||c.hasClass(GD.augments.CLASS_PLACEHOLDER_ACTIVE)&&c.val(b)}}};GD.augments.uninstallPlaceholders=function(a){try{typeof a=="undefined"&&(a=$(GD.augments.PLACEHOLDER_SELECTOR));a.each(function(){var a=$(this);GD.augments.uninstallPlaceholderField(a)})}catch(b){Logger.fatal("GD.augments.uninstallPlaceholders",b)}};
GD.augments.augmentPlaceholderField=function(a,b){try{a=$(a);if(a.length&&!a.hasClass(GD.augments.PLACEHOLDER_OK)){jQuery.type(b)==="string"?a.attr(GD.augments.ATTR_PLACEHOLDER,b):b=a.attr(GD.augments.ATTR_PLACEHOLDER);if(a.val()===b){a.removeClass(GD.augments.CLASS_PLACEHOLDER_INACTIVE);a.addClass(GD.augments.CLASS_PLACEHOLDER_ACTIVE)}else{a.removeClass(GD.augments.CLASS_PLACEHOLDER_ACTIVE);a.addClass(GD.augments.CLASS_PLACEHOLDER_INACTIVE)}a.addClass(GD.augments.PLACEHOLDER_OK);a.focus(GD.augments.onPlaceholderFocus);
a.blur(GD.augments.onPlaceholderBlur);a.blur()}if(b){var c=a.parents("form:first");GD.augments.augmentPlaceholderForm(c)}}catch(e){Logger.fatal("GD.augments.augmentPlaceholderField",e)}};GD.augments.augmentPlaceholderForm=function(a){a&&a.each(function(){var a=$(this);if(!a.attr("isPlaceholderEnabled")){a.bind("submit",function(a){a=$(GD.augments.PLACEHOLDER_SELECTOR,a.target);GD.augments.uninstallPlaceholders(a)});a.attr("isPlaceholderEnabled","true")}})};
GD.augments.uninstallPlaceholderField=function(a){try{if(a.hasClass(GD.augments.PLACEHOLDER_OK)){var b=a.attr(GD.augments.ATTR_PLACEHOLDER);if(b){a.unbind("focus",GD.augments.onPlaceholderFocus);a.unbind("blur",GD.augments.onPlaceholderBlur);if(!Modernizr.input.placeholder)if(a.hasClass(GD.augments.CLASS_PLACEHOLDER_ACTIVE)){a.val()===b&&a.val("");a.removeClass(GD.augments.CLASS_PLACEHOLDER_ACTIVE)}else a.hasClass(GD.augments.CLASS_PLACEHOLDER_INACTIVE)&&a.removeClass(GD.augments.CLASS_PLACEHOLDER_INACTIVE)}a.removeClass(GD.augments.PLACEHOLDER_OK)}}catch(c){Logger.fatal("GD.augments.uninstallPlaceholderField",
c)}};GD.augments.onPlaceholderFocus=function(a){a=a instanceof jQuery?a:typeof a==="string"?$(a):$(a.target);if(a.hasClass(GD.augments.PLACEHOLDER_OK)){if(!Modernizr.input.placeholder){var b=a.attr(GD.augments.ATTR_PLACEHOLDER);a.val()===b&&a.val("")}a.removeClass(GD.augments.CLASS_PLACEHOLDER_ACTIVE);a.addClass(GD.augments.CLASS_PLACEHOLDER_INACTIVE)}return true};
GD.augments.onPlaceholderBlur=function(a){$field=a instanceof jQuery?a:typeof a==="string"?$(a):$(a.target);if($field.hasClass(GD.augments.PLACEHOLDER_OK)){var a=$field.attr(GD.augments.ATTR_PLACEHOLDER),b=$field.val();if(b===""||b===a){Modernizr.input.placeholder||$field.val(a);$field.removeClass(GD.augments.CLASS_PLACEHOLDER_INACTIVE);$field.addClass(GD.augments.CLASS_PLACEHOLDER_ACTIVE)}else if(b!==""&&b!==a){$field.removeClass(GD.augments.CLASS_PLACEHOLDER_ACTIVE);$field.addClass(GD.augments.CLASS_PLACEHOLDER_INACTIVE)}}return true};
GD.augments.START_DEFAULT_TIME="00:00";GD.augments.END_DEFAULT_TIME="23:59";
GD.augments.augmentDateRange=function(a,b,c,e,d,f){var g=$(a),h=$(b),i=$(c),j=$(e),k=$(d),l=$(f),a={changeMonth:true,changeYear:true,contrainInput:true,showAnim:"fadeIn",yearRange:"c-1:c+2",onSelect:function(a){GD.augments.onSelectDateRange(this,a,g,h)},onClose:function(a,b){if(b.input[0]==g[0])GD.augments.onCloseDateRange(g,i,k,GD.augments.START_DEFAULT_TIME);else GD.augments.onCloseDateRange(h,j,l,GD.augments.END_DEFAULT_TIME)}};i.change(function(){GD.augments.mergeDateData(g,i,k,GD.augments.START_DEFAULT_TIME)}).keydown(function(){GD.augments.mergeDateData(g,
i,k,GD.augments.START_DEFAULT_TIME)});j.change(function(){GD.augments.mergeDateData(h,j,l,GD.augments.END_DEFAULT_TIME)}).keydown(function(){GD.augments.mergeDateData(h,j,l,GD.augments.END_DEFAULT_TIME)});g.datepicker(a);h.datepicker(a)};
GD.augments.onSelectDateRange=function(a,b,c,e){var d=a==c[0],a=$(a).data("datepicker"),b=$.datepicker.parseDate(a.settings.dateFormat||$.datepicker._defaults.dateFormat,b,a.settings);d?e.datepicker("option","minDate",b).trigger("change"):c.datepicker("option","maxDate",b).trigger("change")};GD.augments.onCloseDateRange=function(a,b,c,e){GD.augments.onPlaceholderBlur(a);GD.augments.mergeDateData(a,b,c,e);a.focus()};
GD.augments.mergeDateData=function(a,b,c,e){if(a.length&&c.length){var a=GD.augments.getPlaceholderVal(a).trim(),d,f="";d=b.length?GD.augments.getPlaceholderVal(b).trim():e;if(a){f=a;if(!d){d=e;GD.augments.setPlaceholderVal(b,d)}f=f+(" "+d)}else f="";c.val(f)}};GD.augments.tagsMaxTagLength=50;GD.augments.maxInitialSuggestions=8;GD.augments.maxSuggestions=50;GD.augments.tagsEditAreaPostfix="_Edit";GD.augments.tagsEditFieldPostfix="_EditField";GD.augments.tagsFieldValuePostfix="_Value";
GD.augments.tagsHelpAreaPostfix="_Help";GD.augments.tagsSeeMoreLinkPostfix="_SeeMoreLink";GD.augments.tagsSeeMoreTagsPostfix="_SeeMoreTags";GD.augments.classNameTagEditor="tagEditor";GD.augments.classNameTagEditorEditArea="editArea";GD.augments.classNameTagEditorEditField="editField";GD.augments.classNameTagEditorHelpArea="helpArea";GD.augments.classNameTagEditorEnteredTag="enteredTag";GD.augments.classNameTagEditorEnteredTagHilited="enteredTagHilited";
GD.augments.classNameTagEditorEnteredTagText="enteredTagText";GD.augments.classNameTagEditorEnteredTagClose="closeBox";GD.augments.classNameTagEditorAutoComplete="tagEditorAC";GD.augments.augmentTagFields=function(){for(var a=$("input.tagEditor"),b=0;b<a.length;b++)GD.augments.augmentTagField(a.get(b))};
GD.augments.augmentTagField=function(a){var a=$(a),b=a.attr("id"),c=a.attr("name").trim(),e=a.val().trim(),d=a.attr("onchange"),f=a.attr("suggestions"),g=a.attr("existingTagsId"),h=a.attr("existingTagsList"),i;if(g){g=g.trim();if(g.length>0)if(g=id(g))i=g.innerHTML}if(h){h=h.trim();h.length>0&&(i=i+(","+h.trim()))}typeof f==="string"&&(f=f.trim());a.attr("id",b+"_OldNode");if(typeof d==="string")d=new Function(d);else if(typeof d!=="function"){d=null;Logger.warn("GD.augments.augmentTagField: onchange must be function or string.")}c=
GD.augments._createTagEditorNode(b,c,e,f,i,d);if(c.length){a.replaceWith(c);GD.augments._tagAutoComplete(b,i)}};
GD.augments.createTagField=function(a,b,c,e,d,f){var g=id(a);if(g)if(g.nodeName.toLowerCase()!="input")alert("tag field should be applied to an 'input' element.  You tried to apply it to a '"+g.nodeName.toLowerCase()+"' element.");else{(a=GD.augments._createTagEditorNode(b,c,e,d,f))&&g.appendChild(a);GD.augments._tagAddAutoComplete(b,f)}else alert("GD.augments.addTagField called without valid container: '"+a+"'")};
GD.augments.addTags=function(a,b){var c=$("#"+a+GD.augments.tagsEditAreaPostfix),e=$("#"+a+GD.augments.tagsFieldValuePostfix);GD.augments._addTags(a,c,e,b)};
GD.augments.removeTags=function(a,b){if(!(typeof a!=="string"||typeof b!=="string")){var c=id(a+GD.augments.tagsEditAreaPostfix),b=b.trim();if(!(b.length<=0)){for(var e=$(c).find("span."+GD.augments.classNameTagEditorEnteredTagText),d=b.split(","),f=0;f<d.length;f++)for(var g=d[f],g=g.trim(),h=0;h<e.length;h++){var i=e.get(h);i.firstChild&&i.firstChild.nodeValue===g&&c.removeChild(i.parentNode)}GD.augments._removeTagValues(a,c,b)}}};
GD.augments.clearTags=function(a){var b=id(a+GD.augments.tagsFieldValuePostfix).value;GD.augments.removeTags(a,b)};
GD.augments._createTagEditorNode=function(a,b,c,e,d,f){if(typeof a!=="string")alert("GD.augments.addTagField called without valid tagEditorId.");else{a=a.trim();if(a.length<=0)alert("GD.augments.addTagField called with an empty tagEditorId.");else if(typeof b!=="string")alert("tag field name is required.");else{b=b.trim();typeof c!=="string"&&(c="");c=c.trim();typeof e!=="string"&&(e="");e=e.trim();d=$("<div>");d.attr("id",a);d.addClass(GD.augments.classNameTagEditor);d.click(function(b){GD.augments._onTagEditorClick(b,
a)});GD.augments._addTagEditAreaNode(a,d,b,c,f);GD.augments._addTagHelpNode(a,d,e);return d}}};GD.augments._addTags=function(a,b,c,e){if(typeof e==="string"){var d=c.val(),f;if(d){d=d.trim();d.length>0&&(f=d.split(","))}f||(f=[]);e=e.split(",");for(d=0;d<e.length;d=d+1){var g=e[d].trim();if(g.length>0&&!f.contains(g)){f.push(g);g=GD.augments._createEnteredTagNode(a,g);b.children(":last").before(g)}}f.sort();c.val(f.join());b&&GD.augments._callOnChangeHandler(b.onchange)}};
GD.augments._removeTagValues=function(a,b,c){if(id(a)&&c){if(typeof c==="string"){c=c.trim();c=c.length>0?c.split(","):[]}if(c.length&&!(c.length<=0)){if(a=id(a+GD.augments.tagsFieldValuePostfix)){for(var e=a.value.trim(),d=[],e=e.length>0?e.split(","):[],f=0;f<e.length;f++){for(var g=e[f],h=true,i=0;i<c.length&&h;i=i+1)c[i].toLowerCase()===g&&(h=false);h&&d.push(g)}a.value=d.length>0?d.join():""}b&&GD.augments._callOnChangeHandler(b.onchange)}}};
GD.augments._addTagEditAreaNode=function(a,b,c,e,d){try{var f=$("<div>");f.attr("id",a+GD.augments.tagsEditAreaPostfix);f.addClass(GD.augments.classNameTagEditorEditArea);f.addClass("cf");b.append(f);var g=$("<input>");g.attr("id",a+GD.augments.tagsEditFieldPostfix);g.addClass(GD.augments.classNameTagEditorEditField);g.attr("name","temp_edit_"+c);g.attr("type","text");g.attr("maxLength",GD.augments.tagsMaxTagLength);g.keypress(function(b){return GD.augments._onTagEditorKeyPress(b,a)}).keydown(function(b){return GD.augments._onTagEditorKeyPress(b,
a)});g.blur(function(){return GD.augments._onTagEditorBlur(a)});f.append(g);g.attr("addTagOnReturn",true);g.attr("addTagOnFocusLoss",true);var h=$("<input>");h.attr("id",a+GD.augments.tagsFieldValuePostfix);h.attr("name",c);h.attr("type","hidden");b.append(h);GD.augments._addTags(a,f,h,e);f.change(d)}catch(i){Logger.fatal("GD.augments._addTagEditAreaNode",i)}};
GD.augments._addTagHelpNode=function(a,b,c){try{var e=$("<div>");e.attr("id",a+GD.augments.tagsHelpAreaPostfix);e.addClass(GD.augments.classNameTagEditorHelpArea);e.addClass("minorText");if(c){if(typeof c==="string"){c=c.trim();c=c.split(",")}}else c=[];var d="";if(c.length>0){for(var f=c.length>GD.augments.maxInitialSuggestions+1,g=Math.min(c.length,GD.augments.maxSuggestions),d=d+"<span class='suggestedTags keepTogether'>Suggested Tags: ",h=0;h<g;h++){var i=c[h];if(f&&h==GD.augments.maxInitialSuggestions){var j;
j="onclick=\"GD.augments._seeMore('"+a+"')\"";d=d+("<span id='"+(a+GD.augments.tagsSeeMoreLinkPostfix)+"'>&nbsp;");d=d+("&nbsp; <a "+j+" class='link'><strong class='keepTogether'>See more</strong></a></span>");d=d+("<span class='hidden' id='"+(a+GD.augments.tagsSeeMoreTagsPostfix)+"'>")}h>0&&(d=d+", ");var k=i.replace("'","&#39;"),l='GD.augments.addTags("'+a+'", "'+k+'");',d=d+"<span class='keepTogether'>",d=d+("<a onclick='"+l+"'>"),d=d+i,d=d+"</a>",d=d+"</span>"}f&&(d=d+(" &nbsp; <a "+("onclick=\"GD.augments._seeLess('"+
a+"')\"")+" class='link'><strong class='keepTogether'>See less</strong></a>")+"</span>");d=d+"</span>"}e.html(d);b.append(e)}catch(m){Logger.fatal("GD.augments._addTagHelpNode",m)}};
GD.augments._createEnteredTagNode=function(a,b){try{var c=document.createElement("div");c.className=GD.augments.classNameTagEditorEnteredTag;var e=document.createElement("span");e.innerHTML=b;e.className=GD.augments.classNameTagEditorEnteredTagText;var d=document.createElement("div");d.className=GD.augments.classNameTagEditorEnteredTagClose;d.onmouseover=GD.augments._onCloseBoxMouseOver;d.onmouseout=GD.augments._onCloseBoxMouseOut;d.onclick=function(c){GD.augments._onCloseBoxClick(c,a,b)};c.appendChild(e);
c.appendChild(d);return c}catch(f){Logger.fatal("GD.augments._createEnteredTagNode",f)}};GD.augments._onCloseBoxMouseOver=function(a){try{a=GD.event.fixEvent(a);if(a.target){var b=a.target.parentNode;if(b.className==GD.augments.classNameTagEditorEnteredTag)b.className=GD.augments.classNameTagEditorEnteredTagHilited}}catch(c){Logger.fatal("GD.augments._onCloseBoxMouseOver",c)}};
GD.augments._onCloseBoxMouseOut=function(a){try{a=GD.event.fixEvent(a);if(a.target){var b=a.target.parentNode;if(b.className==GD.augments.classNameTagEditorEnteredTagHilited)b.className=GD.augments.classNameTagEditorEnteredTag}}catch(c){Logger.fatal("GD.augments._onCloseBoxMouseOut",c)}};
GD.augments._onCloseBoxClick=function(a,b,c){try{GD.augments._onCloseBoxMouseOut(a);GD.augments.removeTags(b,c);$("#"+b+GD.augments.tagsEditFieldPostfix).focus()}catch(e){Logger.fatal("GD.augments._onCloseBoxClick",e)}};GD.augments._onTagEditorClick=function(a,b){try{$("#"+b+GD.augments.tagsEditFieldPostfix).focus()}catch(c){Logger.fatal("GD.augments._onTagEditorClick",c)}};
GD.augments._onTagEditorBlur=function(a){try{var b=$("#"+a+GD.augments.tagsEditFieldPostfix);if(b.attr("addTagOnFocusLoss")){var c=b.val().trim().toLowerCase();if(c.length>0){GD.augments.addTags(a,c);b.val("")}}}catch(e){Logger.fatal("GD.augments._onTagEditorBlur",e)}};
GD.augments._onTagEditorKeyPress=function(a,b){var c=true,e=$("#"+b+GD.augments.tagsEditFieldPostfix);if(a&&e.length){var d=false,f=e.val().trim().toLowerCase(),g=f.length>0;if(a.which===13&&g){d=e.attr("addTagOnReturn");c=false}if(a.ctrlKey||a.altKey)return true;switch(String.fromCharCode(a.which)){case ",":c=false;g&&(d=true);break;case '"':c=false;break;case " ":c=e.val().trim().length<=0?false:true;break;case "\t":if(g){d=e.attr("addTagOnReturn")=="true";c=false}break;case "\n":case "\r":if(g){d=
e.attr("addTagOnReturn")=="true";c=false}}if(d){GD.augments.addTags(b,f);e.val("").focus()}}return c};
GD.augments._tagAutoComplete=function(a,b){var c=$("#"+a);$("#"+a+GD.augments.tagsEditAreaPostfix);if(b){b=b.trim();b.length<=0&&(b=null)}if(c&&b){var e,d=$("#"+a+GD.augments.tagsEditFieldPostfix);e=b.split(",");for(c=0;c<e.length;c++)e[c]=e[c].trim();d.autocomplete({minLength:1,delay:100,source:function(a,b){GD.ajax.getMatchingItemsFromStaticList(a,b,e,10)},open:function(){GD.augments._tagAutoComplete.onResultsShow(d)},select:function(b,c){GD.augments._tagAutoComplete.onItemSelect(a,d,c.item);b.preventDefault()},
close:function(){GD.augments._tagAutoComplete.onResultsClose(d)}}).data("autocomplete")._renderItem=function(a,b){return GD.ajax._formatACItem(d,a,b)}}};GD.augments._tagAutoComplete.onItemSelect=function(a,b,c){setTimeout(function(){if(b.length&&c.label){GD.augments.addTags(a,c.label);b.val("").focus()}},10);return true};GD.augments._tagAutoComplete.onResultsShow=function(a){if(a.length){a.removeAttr("addTagOnReturn");a.removeAttr("addTagOnFocusLoss")}return true};
GD.augments._tagAutoComplete.onResultsClose=function(a){if(a.length){a.focus();a.attr("addTagOnReturn",true);a.attr("addTagOnFocusLoss",true)}return true};GD.augments._seeMore=function(a){try{var b=id(a+GD.augments.tagsSeeMoreLinkPostfix),c=id(a+GD.augments.tagsSeeMoreTagsPostfix);b.style.display="none";c.style.display="inline"}catch(e){Logger.fatal("GD.augments._seeMore",e)}};
GD.augments._seeLess=function(a){try{var b=id(a+GD.augments.tagsSeeMoreLinkPostfix),c=id(a+GD.augments.tagsSeeMoreTagsPostfix);b.style.display="inline";c.style.display="none"}catch(e){Logger.fatal("GD.augments._seeLess",e)}};GD.augments._callOnChangeHandler=function(a){try{typeof a==="string"?eval(a):typeof a==="function"&&a()}catch(b){Logger.fatal("GD.augments._callOnChangeHandler",b)}};
GD.augments.konamiCode={konamiKeys:[],konami:"38,38,40,40,37,39,37,39,66,65",konamiKeyCount:10,addListener:function(a){typeof a=="function"&&window.addEventListener&&window.addEventListener("keydown",function(b){GD.augments.konamiCode.konamiKeys.push(b.keyCode);GD.augments.konamiCode.konamiKeys.length>GD.augments.konamiCode.konamiKeyCount&&GD.augments.konamiCode.konamiKeys.shift();GD.augments.konamiCode.konamiKeys.toString().indexOf(GD.augments.konamiCode.konami)>=0&&a();clearTimeout(GD.augments.konamiCode.clear);
GD.augments.konamiCode.clear=setTimeout("GD.augments.konamiCode.clearInput()",2E3)},true)},clear:setTimeout("GD.augments.konamiCode.clearInput()",2E3),clearInput:function(){GD.augments.konamiCode.konamiKeys=[];clearTimeout(GD.augments.konamiCode.clear)}};
GD.augments.egg={REVERT_MILLIS:2E4,team:[{name:"Tim Anderson",title:"Product Manager",photoURL:"/crs/team/tim-anderson.jpg"},{name:"Ryan Aylward",title:"VP Engineering",photoURL:"/crs/team/ryan-aylward.jpg"},{name:"Tim Besse",title:"Chief Caffeine Officer",photoURL:"/crs/team/tim-besse.jpg"},{name:"Becky Bochatey",title:"UE Designer",photoURL:"/crs/team/becky-bochatey.jpg"},{name:"Melissa Fernandez",title:"Reviewer",photoURL:"/crs/team/melissa-fernandez.jpg"},{name:"Lynda Gordon",title:"Reviewer",
photoURL:"/crs/team/lynda-gordon.jpg"},{name:"A.J. Guerrero",title:"Community Manager",photoURL:"/crs/team/aj-guerrero.jpg"},{name:"Robert Hohlman",title:"CEO",photoURL:"/crs/team/robert-hohlman.jpg"},{name:"Eduard Kotysh",title:"Lead Software Engineer",photoURL:"/crs/team/ed.jpg"},{name:"Ron Lussier",title:"Artsy Web Geek",photoURL:"/crs/team/ron-lussier.jpg"},{name:"Dawn Lyon",title:"Public Relations",photoURL:"/crs/team/dawn-lyon.jpg"},{name:"Manan Mehra",title:"Codeaholic",photoURL:"/crs/team/manan-mehra.jpg"},
{name:"Jeff Michael",title:"QA Manager",photoURL:"/crs/team/jeff-michael.jpg"},{name:"Stacy Norris",title:"Reviewer",photoURL:"/crs/team/stacy-norris.jpg"},{name:"Steve Odden",title:"DB Developer",photoURL:"/crs/team/steve-odden.jpg"},{name:"Mark Palmer",title:"Schmoozer",photoURL:"/crs/team/mark-palmer.jpg"},{name:"Samantha Weeks",title:"Public Relations",photoURL:"/crs/team/samantha-weeks.jpg"}],teamPhotoWidth:150,teamPhotoHeight:187.5,teamPhotoPadding:15,topOffset:90,teamPhotoTitleHeight:50,teamUsed:[],
cheers:"Muy Bueno;Champion;Best;Brilliant;Fantastic;Fine;Gifted;Headbanger;Hero;Indispensible;Kahuna;Muckamuck;Nonpareil;Overachiever;Perfect;Prime;Rocking Out;Silly;Score on Tetris;Star;Super;Superstar;Top Marks;Tops;Ultimate;VIP;Wicked Awesome;Yummy, like Bacon".split(";"),cheersUsed:[],activate:function(){GD.effects.occludePage(GD.augments.egg.activate2,GD.augments.egg.onclick,null,null,0.95)},activate2:function(){var a=0;$(window).scrollTop(0);GD.augments.egg.showTeam();GD.augments.egg.initUnused();
$(".hExecutive").each(function(){if(GD.augments.egg.addMember($(this))){a=a+1;if(a>=GD.augments.egg.team.length)return false}return true})},showTeam:function(){var a=$(window),b,c,e=$("<div id='EggParent'>");a.width();b=Math.floor(a.width()/(GD.augments.egg.teamPhotoWidth+GD.augments.egg.teamPhotoPadding));c=new Number($("#GDOverlay").css("z-index"));isNaN(c)&&(c=6E4);e.css("position","absolute").css("top",0).css("left",0).css("width","100%").css("height","100%").css("z-index",c+1).keydown(GD.augments.egg.onkey).appendTo("body");
a.bind("keydown",GD.augments.egg.onkey);GD.augments.egg.initUnused();b=Math.min(b,6);rows=Math.ceil(GD.augments.egg.team.length/b);c=(a.width()-(b*(GD.augments.egg.teamPhotoWidth+GD.augments.egg.teamPhotoPadding)-GD.augments.egg.teamPhotoPadding))/2;c=Math.floor(c);for(var a=a.scrollTop()+GD.augments.egg.topOffset,d=0,f=0,g=0;g<GD.augments.egg.team.length;g++){var h=GD.augments.egg.findUnused(GD.augments.egg.team,GD.augments.egg.teamUsed),i=$("<div>").css("position","absolute"),j=$("<img>"),k=$("<p>"),
l;l=GD.augments.egg.team[h].photoURL.replace(".jpg","-lg.jpg");j.attr("width",GD.augments.egg.teamPhotoWidth).attr("height",GD.augments.egg.teamPhotoHeight).attr("src",l);i.append(j);i.css("top",a+d*(GD.augments.egg.teamPhotoHeight+GD.augments.egg.teamPhotoTitleHeight)).css("left",c+f*(GD.augments.egg.teamPhotoWidth+GD.augments.egg.teamPhotoPadding)).attr("width",GD.augments.egg.teamPhotoWidth).attr("height",GD.augments.egg.teamPhotoWidth+GD.augments.egg.teamPhotoTitleHeight);k.css("background-color",
"white").css("padding","3px 5px").html("<strong>"+GD.augments.egg.team[h].name+"</strong><br/>"+GD.augments.egg.team[h].title);i.append(k);e.append(i);f=f+1;if(f>=b){d=d+1;f=0;if(d+1==rows){h=GD.augments.egg.team.length-(g+1);h<b-1&&(f=Math.floor((b-h)/2))}}}var m=$("<h1>").html("Why?  Because we &#x2661; you!").css("text-align","center").css("font-weight","bold").css("font-size","24px").css("margin-top","20px").css("display","none"),n=$("<h2>").html("&mdash; the Glassdoor Team").css("text-align",
"center").css("font-weight","bold").css("font-size","20px").css("line-height","1em").css("margin-top","5px").css("display","none"),o=$("<h3>").html("(press escape)").css("position","absolute").css("top",20).css("right",50).css("text-align","right").css("font-size","18px").css("line-height","1em").css("display","none");e.append(m);e.append(n);e.append(o);e.focus();setTimeout(function(){m.fadeIn(1E3,function(){setTimeout(function(){n.fadeIn(1E3,function(){setTimeout(function(){o.show("pulsate",1E3)},
1E3)})},500)})},200)},onkey:function(a){if(a.keyCode==27)GD.augments.egg.onclick()},onclick:function(){$("#EggParent").appendTo("#GDOverlay");GD.effects.revealPage(GD.augments.egg.onReveal,1E3)},onReveal:function(){GD.augments.egg.deactivate();setTimeout(GD.augments.egg.deactivate2,GD.augments.egg.REVERT_MILLIS)},deactivate:function(){$(window).unbind("keydown",GD.augments.egg.onclick);$("#GDOverlay").remove();$("#EggParent").remove()},deactivate2:function(){$(".hExecutive").each(function(){GD.augments.egg.revert($(this))})},
addMember:function(a){var b=false,c=a.find("img.photo,.photo img");if(c.length){var b=GD.augments.egg.findUnused(GD.augments.egg.team,GD.augments.egg.teamUsed),e=GD.augments.egg.findUnused(GD.augments.egg.cheers,GD.augments.egg.cheersUsed),e=GD.augments.egg.cheers[e],d;d=a.find(".org");d.attr("preTreatVal",d.html());d.html("Glassdoor.com");d=a.find(".url");d.attr("preTreatVal",d.html());d.html("www.glassdoor.com");d=a.find(".adr .value");d.attr("preTreatVal",d.html());d.html("Sausalito, CA");d=a.find(".stock");
d.attr("preTreatVal",d.html());d.html("");d=a.find(".rating .average");d.attr("preTreatVal",d.html());d.html("5.0");d=a.find(".rating .graphic");d.attr("preTreatVal",d.html());d.html("/static/img/rating/sm/rating_scale_50.gif");d=a.find(".fn");var f=a.find(".title"),g=a.find(".rating .approvalPercent"),a=a.find(".rating .ratingDesc");d.attr("preTreatVal",d.html());d.html(GD.augments.egg.team[b].name);f.attr("preTreatVal",f.html());f.html(GD.augments.egg.team[b].title);g.attr("preTreatVal",g.html());
g.html("100");a.attr("preTreatVal",a.html());a.html("&ldquo;<strong>"+e+"</strong>&rdquo;");c.attr("preTreatVal",c.attr("src"));c.attr("preTreatTitleVal",c.attr("title"));c.hide().attr("src",GD.augments.egg.team[b].photoURL).attr("title","Glassdoor "+GD.augments.egg.team[b].title+" "+GD.augments.egg.team[b].name).fadeIn(1E3);b=GD.augments.egg.teamUsed[b]=true}return b},revert:function(a){var b=a.find("img.photo,.photo img");if(b.length){var c=function(a){a.length&&a.attr("preTreatVal")&&a.html(a.attr("preTreatVal"))},
e;e=a.find(".org");c(e);e=a.find(".url");c(e);e=a.find(".adr .value");c(e);e=a.find(".stock");c(e);e=a.find(".rating .average");c(e);e=a.find(".rating .graphic");c(e);e=a.find(".fn");var d=a.find(".title"),f=a.find(".rating .approvalPercent"),a=a.find(".rating .ratingDesc");c(e);c(d);c(f);c(a);if(b.length&&b.attr("preTreatVal")){b.attr("src",b.attr("preTreatVal"));b.attr("title",b.attr("preTreatTitleVal"))}}},initUnused:function(){GD.augments.egg.teamUsed=[];GD.augments.egg.cheersUsed=[];for(var a=
0;a<GD.augments.egg.team.length;a++)GD.augments.egg.teamUsed.push(false);for(a=0;a<GD.augments.egg.cheers.length;a++)GD.augments.egg.cheersUsed.push(false)},findUnused:function(a,b){for(var c=0,e=0;e<a.length;e++)b[e]||(c=c+1);if(c>0)for(var d=0,c=Math.floor(Math.random()*c),e=0;e<a.length;e++)if(!b[e]){d=d+1;if(d>c){b[e]=true;return e}}return-1}};GD.augments.dnArrowImg="url(/static/img/icons/arrows/down.gif)";GD.augments.rtArrowImg="url(/static/img/icons/arrows/right.gif)";
GD.augments.hiliteColor="#ffffcc";GD.augments.hiliteSeconds=3;
GD.augments.augmentCollapsibleItems=function(){var a=$("div.collapsibleItems");$("div[data-role=collapsible]",a).each(function(){var a=$(this),b=$("h5:first",a),a=a.children().not(b);b.addClass("toggle link");b.click(GD.augments._onClickToggleItem);a.wrap("<div class='collapsibleBody'>")});a.show();if(window.location.search){var a=window.location.search.replace(/\?[a-z]*[=]?/g,""),b=$("#"+a);b.length&&setTimeout(function(){GD.augments._doItemToggle(b,true)},1E3)}};
GD.augments.closeAllToggleItems=function(){$("dl.toggleItems dt").each(function(){GD.augments._displayToggleItemBlock($(this),false)})};GD.augments._onClickToggleItem=function(){GD.augments._doItemToggle($(this))};GD.augments._hiliteToggleItemBlock=function(a){a.next().css("background-color","#fff").animate({backgroundColor:GD.augments.hiliteColor},3E3,null,function(){setTimeout(function(){GD.augments._dehiliteToggleItemBlock(a)},GD.augments.hiliteSeconds*1E3)})};
GD.augments._dehiliteToggleItemBlock=function(a){a.next().animate({backgroundColor:"transparent"},3E3)};GD.augments._doItemToggle=function(a,b){var c=a.next().css("display")=="none";c||(b=false);GD.augments._displayToggleItemBlock(a,c,b)};
GD.augments._displayToggleItemBlock=function(a,b,c){typeof c!="boolean"&&(c=false);var e=a.next(),d;e.css("background-color","transparent");c&&(d=function(){GD.augments._hiliteToggleItemBlock(a)});if(b){e.css("display","none");e.show("blind",null,"normal",d);a.addClass("opened")}else{e.hide("blind",null,"normal",d);a.removeClass("opened")}};GD.augments.dancingEllipsesInterval=400;
GD.augments.augmentDancingEllipses=function(){var a=$(document);if(!a.data("dancingEllipses")){setTimeout(GD.augments.processDancingEllipses,GD.augments.dancingEllipsesInterval);a.data("dancingEllipses",true)}};GD.augments.processDancingEllipses=function(){$(".dancingEllipses").each(function(){var a=$(this),b=a.html(),c=0,e="...";if(b){if(b.endsWith("...")){c=3;e=""}else e=".";c>0&&(b=b.substring(0,b.length-c));a.html(b+e)}});setTimeout(GD.augments.processDancingEllipses,GD.augments.dancingEllipsesInterval)};
GD.augments.addDynamicForIds=function(a){var b;b=a?$(a):null;$("label[data-for-id]",b).each(function(a,e){GD.augments._doDynamicForId($(e),b)})};GD.augments._doDynamicForId=function(a,b){var c=$(a),e=c.data("forId"),d='[data-for-id="'+e+'"]',d=$("select"+d+",input"+d+",textarea"+d,b),f=(new Date).getTime(),e=e+"-"+f;c.attr("for",e);d.attr("id",e)};if("undefined"==typeof GD)var GD={};"undefined"==typeof GD.btn&&(GD.btn={});GD.btn.init=function(a){if(a){a=$(a);a.length&&!a.is("span.gdBtn")&&(a=a.closest("span.gdBtn"));a=a.not(".gdBtnOK")}else a=$(".gdBtn").not(".gdBtnOK");a.each(function(){GD.btn._initOne($(this))})};
GD.btn.enable=function(a,b){var c=GD.btn._normalize(a),d=$("a",c);if(c.length){typeof b==="undefined"&&(b=true);typeof b!=="boolean"&&(b=true);b?d.removeClass("disabled"):d.addClass("disabled");setTimeout(function(){GD.dom.disableAnchor(c,!b)},15);$("input.gdBtnReturnKeyCatcher",c).prop("disabled",!b)}};GD.btn.setLabel=function(a,b){var c=GD.btn._normalize(a);$(".btnLabel",c).html(b)};
GD.btn._initOne=function(a){var b=false;if(a.is(".gdLinkBtn")){$("a",a).each(function(){var c=$(this),b=c.attr("href");if(b){a.data("href",b);c.attr("href","#")}});a.click(function(a){return GD.btn._onLinkClick(a)});a.keypress(function(a){if(GD.btn._isButtonClickKey(a)){a.stopPropagation();return GD.btn._onLinkClick(a)}});b=true}else if(a.is(".gdSubmitBtn")){b=$("input.gdBtnReturnKeyCatcher",a);a.click(function(a){return GD.btn._onSubmitClick(a)});b.click(function(a){return GD.btn._onSubmitClick(a)});
a.keypress(function(a){if(GD.btn._isButtonClickKey(a)){a.stopPropagation();return GD.btn._onSubmitClick(a)}});b=true}if(b){b=a.data("disabled");a.addClass("gdBtnOK");b&&GD.btn.enable(a,false)}};GD.btn._onLinkClick=function(a){var b=GD.btn._getBtnFromEvent(a),c=false,d=$("a",b),c=d.hasClass("disabled");if(!c&&b.length){b.data("onclick");if(GD.btn._handleOnClickCode(b,a)){GD.btn._handleOneClick(b);(a=b.data("href"))&&GD.dom.loadUrl(a,d.attr("target"))}}return false};
GD.btn._onSubmitClick=function(a){var b=GD.btn._getBtnFromEvent(a),c=false,c=$("a",b).hasClass("disabled");if(!c){b.blur();c=b.closest("form");if(GD.btn._handleOnClickCode(b,a)){GD.btn._handleOneClick(b);if(c.length){GD.btn._setupHiddenField(b,c);c.submit()}}}return false};GD.btn._normalize=function(a){a=$(a);a.length&&(a.is(".gdBtn")||(a=a.closest(".gdBtn")));return a};GD.btn._getBtnFromEvent=function(a){a=$(a.target);if(!a.is(".gdBtn")){a=a.closest(".gdBtn");a.is(".gdBtn")||(a=null)}return a};
GD.btn._isButtonClickKey=function(a){return a.which==GD.event.SPACE||a.which==GD.event.ENTER};GD.btn._handleOneClick=function(a){if(a.data("oneClick")){GD.btn.enable(a,false);var b=a.data("oneClickLabel");b&&$("span>i",a).html(b)}};GD.btn._handleOnClickCode=function(a,b){var c=a.data("onclick"),d=true;if(c)try{(new Function("event",c)).call(a,b)===false&&(d=false)}catch(e){}return d};
GD.btn._setupHiddenField=function(a,b){var c=a.data("name"),d=a.data("value");if(c&&d){var e=$("input[type='hidden'][name='"+c+"']",b);e.length?e.attr({name:c,value:d}):$("<input type='hidden'>").attr({name:c,value:d}).appendTo(b)}};if("undefined"==typeof GD)var GD={};"undefined"==typeof GD.effects&&(GD.effects={});GD.effects.OVERLAY_Z_INDEX=2E3;GD.effects.DEFAULT_OCCLUDE_SPEED=200;GD.effects.DEFAULT_OCCLUDE_OPACITY=0.7;
GD.effects.showPopup=function(a,b,d,e,f,c,h,i){var a=$(a),g=$(d);typeof b!=="boolean"&&(b=true);if(a.length)if(b){var b={top:0,left:0},j=d=0;a.hide();if(g.length){b=g.offset();d=g.outerWidth();j=g.outerHeight()}a.parent().is("body")||$("body").append(a);if(typeof e==="number")a.css({bottom:"auto",top:Math.floor(b.top+e)});else if(typeof c==="number"){e=Math.floor(b.top+j);g=a.outerHeight();a.css({bottom:"auto",top:e-c-g})}else a.css({bottom:"auto",top:Math.floor(b.top)});if(typeof f==="number")a.css({right:"auto",
left:Math.floor(b.left+f)});else if(typeof h==="number"){f=Math.floor(b.left+d);c=a.outerWidth();a.css({right:"auto",left:f-h-c})}else a.css({right:"auto",left:Math.floor(b.left)});a.fadeIn(100);typeof i==="number"&&a.css("zIndex",i)}else a.fadeOut(100)};
GD.effects.occludePage=function(a,b,d,e,f){if(typeof d=="undefined"||d==null)d=GD.effects.DEFAULT_OCCLUDE_SPEED;if(typeof e!="number")e=GD.effects.OVERLAY_Z_INDEX;if(typeof f!="number")f=GD.effects.DEFAULT_OCCLUDE_OPACITY;var c=$("#GDOverlay");if(!c.length){c=$("<div id='GDOverlay'>");c.appendTo("body").css({"z-index":e,opacity:0,top:0,left:0})}typeof b==="function"?c.bind("click",b):c.unbind("click");GD.effects._hideTroublesomeElements();b=$(window).width();e=$(window).height();c.css("position",
"fixed");c.width(b).height(e);if(c.css("opacity")==0||!c.is(":visible")){c.css("opacity",0);c.show()}c.fadeTo(d,f,a)};GD.effects.revealPage=function(a,b){if(typeof b=="undefined")b=GD.effects.DEFAULT_OCCLUDE_SPEED;var d=$("#GDOverlay");if(d.length&&d.css("display")!=="none"){var e=GD.effects._onRevealPageComplete;typeof a=="function"&&(e=function(){GD.effects._onRevealPageComplete(a)});d.fadeOut(b,e)}};
GD.effects.initLightbox=function(){$("a[rel=lightbox]").fancybox({transitionIn:"elastic",transitionOut:"elastic",opacity:true,overlayColor:"#fff",overlayOpacity:0.75,title:"press [esc] to close"})};GD.effects._onRevealPageComplete=function(a){var b=$("#GDOverlay");if(b.length){b.hide();GD.effects._showTroublesomeElements();typeof a==="function"&&a()}};
GD.effects._showTroublesomeElements=function(){var a=GD.effects._getTroublesomeElements();$(a).each(function(){var b=$(this),a=b.data("oldVisibility");if(a){b.css("visibility",a);b.removeData("oldVisibility")}})};GD.effects._hideTroublesomeElements=function(){var a=GD.effects._getTroublesomeElements();$(a).each(function(){var a=$(this),d=a.css("visibility");d?a.data("oldVisibility",d):a.data("oldVisibility","inherit");a.css("visibility","hidden")})};
GD.effects._getTroublesomeElements=function(){troubleElements="object,embed,select";if(jQuery.browser.webkit&&/Chrome/i.test(navigator.userAgent)||jQuery.browser.msie)troubleElements=troubleElements+",iframe";return troubleElements};if("undefined"==typeof GD)var GD={};"undefined"==typeof GD.jobs&&(GD.jobs={});GD.jobs.showJobApplication=function(a){typeof a=="string"&&a.length>0&&(a.toLowerCase().indexOf("mailto:")>-1?GD.dom.loadUrl(a,"_self"):GD.dom.loadUrl(a))};
GD.jobs.initJobViewSigninCTA=function(){var a=$("#GenericPopupOuterFrame");$("img.closeBox",a).on("click keypress",function(){a.addClass("hidden");GD.effects.revealPage();GD.dom.loadUrl("/job-listing/jobClickCompletedSignIn.htm")});$(".softSellApplyButton").on("click keypress",function(){var b=document.createElement("script");b.type="text/javascript";b.src="/job-listing/jobsSoftSellSetAdTracking.htm";a.append(b);GD.effects.occludePage();a.removeClass("hidden")})};GD.jobs.REVEAL_TIME_MS=500;
GD.jobs.initJobSearch=function(a){$("#JobSearchRadiusSelect").on("change",function(b){GD.jobs._trackEvent(b);GD.jobs.doJobSearch(a)});$("#JobSearchFilters input[type='radio']").on("change",function(b){GD.jobs._trackEvent(b);GD.jobs.doJobSearch(a)})};GD.jobs.doJobSearch=function(a){$("#AjaxSpinner").show();var b=$("#JobSearchRadiusSelect").val()||"",c=$("#JobFreshnessSelect :checked").val()||"",d=$("#EmployerMinRatingSelect :checked").val()||"";GD.jobs._jobSearch(a,b,c,d);GD.ads.reloadAll()};
GD.jobs._jobSearch=function(a,b,c,d){var e=GD.jobs._getSeoPathUrl();jQuery.ajax({url:b==void 0?e+("?fromAge="+c+"&minRating="+d):e+("?radius="+b+"&fromAge="+c+"&minRating="+d),dataType:"html",success:function(b){b||Logger.error("No data returned for GD.jobs.displayFeaturedJobs");GD.jobs._processJobs(b,a)},error:function(a,b,c){Logger.inspect(c,"GD.jobs.displayFeaturedJobs error: "+b);GD.jobs._processJobs(null)}})};
GD.jobs._getSeoPathUrl=function(){var a=$('meta[property="og:url"]').attr("content"),a=a.replace(/_IP[0-9]*/,""),b=a.lastIndexOf("/");return"/Job/ajax"+a.toString().substring(b)};GD.jobs._processJobs=function(a,b){if(a){var c=$(b);c.empty();c.html(a);c.slideDown(GD.jobs.REVEAL_TIME_MS);c=$("#SearchNoResults",c).length?"/search/jobsFiltered/noData":"/search/jobsFiltered";GD.analytics.trackPageView(c)}};
GD.jobs._trackEvent=function(a){var b=a.currentTarget.id,a=a.currentTarget.value,c;if(b.indexOf("JobFreshness")==0)c="Freshness";else if(b.indexOf("EmployerMinRating")==0)c="Company Rating";else if(b=="JobSearchRadiusSelect")c="Distance";else if(b=="AllIndustriesId")a=c="Industry";else if(b=="AllExperienceLevelsId"){c="Experience;";a="Experience"}c&&GD.analytics.trackEvent("jobSearchFilter",c,a)};if("undefined"==typeof GD)var GD={};"undefined"==typeof GD.rollover&&(GD.rollover={});GD.rollover.imgHolderClass=function(){this.hover=[];this.click=[];this.src=[];this.store=function(a,b,d){var c=this.src.length;if(a!=null&&a.length>0){this.src[c]=new Image;this.src[c].src=a}else this.src[c]=null;if(d!=null&&d.length>0){this.hover[c]=new Image;this.hover[c].src=d}else this.nover[c]=null;if(b!=null&&b.length>0){this.click[c]=new Image;this.click[c].src=b}else this.click[c]=null}};
GD.rollover.imgHolder=new GD.rollover.imgHolderClass;
GD.rollover.preloader=function(a){for(i=0;i<a.length;i++)if(a[i].getAttribute("srchover")||a[i].getAttribute("srcclick")){GD.rollover._storeImgs(a[i]);var b="",b=a[i].getAttribute("srchover")?b+"A":b+"",b=a[i].getAttribute("srcclick")?b+"B":b+"";switch(b){case "A":GD.rollover.mouseover(a[i]);GD.rollover.mouseout(a[i]);break;case "B":GD.rollover.mousedown(a[i]);GD.rollover.mouseup2(a[i]);break;case "AB":GD.rollover.mouseover(a[i]);GD.rollover.mouseout(a[i]);GD.rollover.mousedown(a[i]);GD.rollover.mouseup(a[i]);
break;default:return}a[i].src&&a[i].setAttribute("oldsrc",a[i].src)}};GD.rollover.mouseup=function(a){var b;if(a.onmouseup){a.oldmouseup=a.onmouseup;b=function(){this.src=this.getAttribute("srchover");this.oldmouseup()}}else b=function(){this.src=this.getAttribute("srchover")};a.onmouseup=b};
GD.rollover.mouseup2=function(a){var b;if(a.onmouseup){a.oldmouseup=a.onmouseup;b=function(){this.src=this.getAttribute("oldsrc");this.oldmouseup()}}else b=function(){this.src=this.getAttribute("oldsrc")};a.onmouseup=b};GD.rollover.mousedown=function(a){if(a.onmousedown)a.oldmousedown=a.onmousedown;a.onmousedown=function(){this.src=this.getAttribute("srcclick")}};
GD.rollover.mouseover=function(a){var b;if(a.onmouseover){a.oldmouseover=a.onmouseover;b=function(){this.src=this.getAttribute("srchover");this.oldmouseover()}}else b=function(){this.src=this.getAttribute("srchover")};a.onmouseover=b};GD.rollover.mouseout=function(a){var b;if(a.onmouseout){a.oldmouseout=a.onmouseout;b=function(){this.src=this.getAttribute("oldsrc");this.oldmouseout()}}else b=function(){this.src=this.getAttribute("oldsrc")};a.onmouseout=b};
GD.rollover._storeImgs=function(a){var b=a.getAttribute("src")?a.getAttribute("src"):"",d=a.getAttribute("srcclick")?a.getAttribute("srcclick"):"",a=a.getAttribute("srchover")?a.getAttribute("srchover"):"";GD.rollover.imgHolder.store(b,d,a)};GD.rollover._preLoadImgs=function(){if(document.getElementById){var a=document.getElementsByTagName("IMG"),b=document.getElementsByTagName("INPUT");GD.rollover.preloader(a);GD.rollover.preloader(b)}};
window.addEventListener?window.addEventListener("load",GD.rollover._preLoadImgs,!1):window.attachEvent?window.attachEvent("onload",GD.rollover._preLoadImgs):document.getElementById&&(window.onload=GD.rollover._preLoadImgs);window.GD=window.GD||{};GD.site=GD.site||{};GD.header=GD.header||{};GD.site.COOKIE_NAME_FORCE_UNCOMPRESSED="gdTesterOverride_forceUncompressed";GD.site.COOKIE_NAME_FORCE_MOBILE="gdTesterOverride_forceMobile";GD.site.closeCompletedAction=function(){$("#CompletedAction").hide("blind");return!1};GD.site.initFbSigninCTA=function(){GD.runOnFacebookLoad(function(){GD.fb.getFbLoginStatus(function(a){"connected"==a||"not_authorized"==a?GD.site.initFbFacepilePlugin():GD.site.initFbSigninCTALink()},!0)})};
GD.site.initFbFacepilePlugin=function(){$("div.fbSigninCTAWrapper").addClass("facepileView");$("div.fbFacepilePluginWrapper").show(25)};GD.site.initFbSigninCTALink=function(){$(".fbSigninCTA a.link").bind("click keypress",function(){var a=$(".fbSigninCTA div.fbSigninCTALink"),b=$(".fbSigninCTA ul.fbSigninCTAList");a.hide(25);b.show(25);return!1});$(".fbSigninCTA div.fbSigninCTALink").show(25)};
GD.site.initGdSigninOptionLink=function(a){function b(){$("#CreateAccountForm").show(500)}"1"===a||!$("#actionErrorBlock").hasClass("hidden")?b():$(".gdSigninOptionLink").bind("click keypress",function(){0<$("#CreateAccountForm:hidden").length?b():$("#CreateAccountForm").hide(500)})};
GD.site.onHeaderTabClick=function(a){GD.augments.uninstallPlaceholders($("#SiteSearchAdvancedForm input[placeholder],#SiteSearchBarTop .siteSearchForm input[placeholder]"));var a=$(a.target).data("searchUrl"),b=$("#SiteSearchBarTop .siteSearchForm"),b=$(".siteSearchKeyword",b).val().trim(),c=!0;a&&b&&(c="",b&&(c="sc.keyword="+encodeURIComponent(b)),0<c.length&&(c+="&"),c+="clickSource=tab",a.contains("?")?GD.dom.clearWindowAndRedirect(a+"&"+c,"_top"):GD.dom.clearWindowAndRedirect(a+"?"+c,"_top"),
c=!1);return c};GD.site.relocateFooterText=function(){var a=$("#PageDescText"),b=$("#PageAboutTextContainer");a.length&&b.length&&(b.append(a),a.show())};"undefined"==typeof GD.ssSorts&&(GD.ssSorts={});GD.ssSorts.advancedSalarySortsLimited=[{label:"Relevance (by Company)",key:"MV",ascending:!1},{label:"Relevance (by Job Title)",key:"JR",ascending:!1},{label:"# of Salaries",key:"MC",ascending:!1}];
GD.ssSorts.advancedSalarySorts=[{label:"Relevance (by Company)",key:"MV",ascending:!1},{label:"Relevance (by Job Title)",key:"JR",ascending:!1},{label:"# of Salaries",key:"MC",ascending:!1},{label:"Avg. Salary (high to low)",key:"AS",ascending:!1},{label:"Avg. Salary (low to high)",key:"AS",ascending:!0}];
GD.ssSorts.advancedEmployerSorts=[{label:"Relevance",key:"MV",ascending:!1},{label:"# of Reviews",key:"MC",ascending:!1},{label:"Overall Rating (high to low)",key:"OR",ascending:!1},{label:"Overall Rating (low to high)",key:"OR",ascending:!0},{label:"CEO Approval Rating (high to low)",key:"CR",ascending:!1},{label:"CEO Approval Rating (low to high)",key:"CR",ascending:!0}];
GD.ssSorts.advancedInterviewSorts=[{label:"Relevance",key:"MV",ascending:!1},{label:"Most Answers",key:"MC",ascending:!1},{label:"Date Posted + Helpful",key:"DH",ascending:!1},{label:"Date Posted (new to old)",key:"RD",ascending:!1},{label:"Date Posted (old to new)",key:"RD",ascending:!0}];GD.header.searchButtonLabel={SALARIES:"Search Salaries",REVIEWS:"Search Companies",INTERVIEWS:"Search Interviews",JOBS:"Search Jobs"};
GD.header.siteSectionToSearchType={SALARIES:"SALARY",REVIEWS:"EMPLOYER",INTERVIEWS:"INTERVIEW",JOBS:"JOBS"};GD.header.siteSearchOptions={};GD.header.inSubmit=!1;
GD.header.siteSearchInit=function(a,b,c,e){$("#"+a+" form.siteSearchForm input[type='text']").keypress(function(b){return GD.header.onKeyPress(b,a)});GD.ajax.initLocationDisambig("#"+a+" .siteSearchLocation","#"+a+" .siteSearchLocType","#"+a+" .siteSearchLocId",null,"#"+a+" .locationDisambigPosPt",0,0,e,b=="Bottom",function(){return GD.header.submitSiteSearch("#"+a)},null,null,c,"#AllowPostalCodesField");$(".siteSearchForm select").change(function(a){GD.header.onSearchTypeChange(a)})};
GD.header.siteAdvancedSearchInit=function(a){GD.header.siteSearchOptions=a};GD.header.onSearchTypeChange=function(a){var b=$(a.currentTarget).parents(".siteSearchForm:first"),c=$("option:selected",a.currentTarget),a=c.attr("placeholder"),c=c.attr("allowPostalCodes");GD.augments.changePlaceholderText($("input.siteSearchKeyword",b),a);$("#AllowPostalCodesField").val(c);return true};
GD.header.setSiteSearchFormAction=function(a){var b=$("span.siteSearchUrl,select.siteSearchUrl",a);(b=b.is("span")?b.html():b.val())&&a.attr("action",b)};GD.header.onSiteSearchPrepareSubmit=function(a){GD.header.setSiteSearchFormAction(a);GD.augments.uninstallPlaceholders($("input[placeholder]",a));return true};
GD.header.submitSiteSearch=function(a){var a=$(a+" form.siteSearchForm"),b=true;GD.header.onSiteSearchPrepareSubmit(a);jQuery.isFunction(a[0].onsubmit)&&(b=a[0].onsubmit());var c=a.attr("disambigComplete");b&&a.submit();c&&GD.dom.clearPage();return false};GD.header.onKeyPress=function(a,b){if(a.keyCode==13){setTimeout(function(){GD.header.submitSiteSearch("#"+b)},1);return false}return true};
GD.header.onSiteSearchAdvancedSubmit=function(){if(!GD.header.inSubmit){GD.header.setSiteSearchAdvancedFormAction();GD.augments.uninstallPlaceholders($("#SiteSearchAdvancedForm input[placeholder]"));GD.header.onSiteSearchAdvancedUserSubmit()?GD.header.doSiteSearchAdvancedSubmit():GD.augments.augmentPlaceholders($("#SiteSearchAdvancedForm input[placeholder]"))}return false};
GD.header.onSiteSearchAdvancedKeyPress=function(a){var b=true;if(GD.event.fixEvent(a).keyCode===13){GD.header.setSiteSearchAdvancedFormAction();if(GD.header.onSiteSearchAdvancedUserSubmit()){GD.header.inSubmit=true;setTimeout(GD.header.doSiteSearchAdvancedSubmit,1)}b=false}return b};GD.header.setSiteSearchAdvancedFormAction=function(){var a=$("#SiteSearchAdvancedType option:selected"),b=$("#SiteSearchAdvancedForm");a.length&&b.length&&b.attr("action",a.val())};
GD.header.onSiteSearchAdvancedUserSubmit=function(){var a=$("#SiteSearchAdvancedCountry option:selected").val(),b=$("#SiteSearchAdvancedCity").val(),c=$("#SiteSearchAdvancedCityId").val();b&&(b=b.trim());if(b&&!c){if(a>0){GD.header.clearSiteSearchErrors();if(c=id("SiteSearchAdvancedNoCityIdWait"))c.style.display="block";GD.header.siteSearchRequestMatchingCities(a,b)}else{$("#CountryNotSpecifiedError").show();GD.header.setSiteSearchAdvancedFieldPrompts()}return false}a=$("#SiteSearchAdvancedForm input[placeholder]");
GD.augments.uninstallPlaceholders(a);return true};GD.header.doSiteSearchAdvancedSubmit=function(){GD.header.closeSiteSearchAdvanced();id("SiteSearchAdvancedForm").submit();GD.dom.clearPage()};
GD.header.onSiteSearchAdvancedTypeChange=function(){var a=$("#SiteSearchAdvancedType option:selected");if(a.length){var b=a.attr("siteSection");a.val();GD.header.setSiteSearchAdvancedSorts(GD.header.siteSectionToSearchType[b],null);GD.header.showTagsField(b==="INTERVIEWS");a=$("#SiteSearchAdvancedForm .formButtons .gdBtn");a.length&&GD.btn.setLabel(a,GD.header.searchButtonLabel[b])}};
GD.header.setSiteSearchAdvancedSorts=function(a,b){var c=$("#SiteSearchAdvancedSort"),e=$("#SiteSearchAdvancedIndustryRow");if(a=="JOBS"){c.children().remove();c.hide();$("#SiteSearchAdvancedSortJobs").show();$("label,select",e).hide();$("select option:first",e).attr("selected","selected")}else{var d;typeof b!=="string"&&(b=null);if(!b){var g=$("#SiteSearchAdvancedDefaultType"),f=$("#SiteSearchAdvancedDefaultSort");if(g&&f){g=g.html();a===g&&(b=f.html())}}if(GD.ssSorts)if(a=="SALARY"&&GD.header.siteSearchOptions.hasSalaryAccess&&
GD.ssSorts.advancedSalarySorts)d=GD.ssSorts.advancedSalarySorts;else if(a=="SALARY"&&GD.ssSorts.advancedSalarySortsLimited)d=GD.ssSorts.advancedSalarySortsLimited;else if(a=="EMPLOYER"&&GD.ssSorts.advancedEmployerSorts)d=GD.ssSorts.advancedEmployerSorts;else if(a=="INTERVIEW"&&GD.ssSorts.advancedInterviewSorts)d=GD.ssSorts.advancedInterviewSorts;if(c.length&&d){c.children().remove();for(f=0;f<d.length;f++){var g=d[f].key+"-"+d[f].ascending.toString(),h=$("<option value='"+g+"'>");h.text(d[f].label);
g==b&&h.attr("selected","selected");c.append(h)}}$("label,select",e).show();$("#SiteSearchAdvancedSortJobs").hide();c.show()}GD.header.onSiteSearchAdvancedSortChange()};GD.header.onSiteSearchAdvancedSortChange=function(){var a=$("#SiteSearchAdvancedSortType"),b=$("#SiteSearchAdvancedSortAscending"),c=$("#SiteSearchAdvancedSort option:selected").val();if(c){c=c.split("-");a.val(c[0]);b.val(c[1])}};GD.header.onSiteSearchAdvancedCountryChange=function(){GD.header.clearSiteSearchErrors()};
GD.header.onSiteSearchAdvancedCityKeyPress=function(){GD.header.clearSiteSearchErrors()};
GD.header.resetSiteSearchAdvanced=function(a){a=a=="SALARY";GD.header.clearSiteSearchErrors();$("#SiteSearchAdvancedJob").val("");$("#SiteSearchAdvancedCompany").val("");$("#SiteSearchAdvancedTags").val("");GD.header.setSiteSearchAdvancedFieldPrompts();field=$("#SiteSearchAdvancedType");if(field.length)field[0].selectedIndex=a?0:1;field=$("#SiteSearchAdvancedIndustry");if(field.length)field[0].selectedIndex=0;field=$("#SiteSearchAdvancedCountry");if(field.length)field[0].selectedIndex=0;a=$("#SiteSearchAdvancedCity");
a;a.val("").hide();$("#SiteSearchAdvancedCityId").val("");field=$("#SiteSearchAdvancedSort");if(field.length)field[0].selectedIndex=0;GD.header.onSiteSearchAdvancedTypeChange();return false};GD.header.clearSiteSearchErrors=function(){$("#CountryNotSpecifiedError").css("display","none");$("#LocAjaxError").css("display","none");$("#SiteSearchAdvancedNoCityIdWait").css("display","none");$("#SiteSearchAdvancedLocCityNotFound").css("display","none");$("#CityDisambig").css("display","none")};
GD.header.setSiteSearchAdvancedFieldPrompts=function(){id("SiteSearchAdvancedJob");$("#SiteSearchAdvancedCity")};GD.header.showTagsField=function(a){var b=id("SiteSearchAdvancedTags"),c=id("SiteSearchAdvancedTagsLabel");if(a){b.style.visibility="visible";c.style.visibility="visible"}else{b.style.visibility="hidden";c.style.visibility="hidden"}};
GD.header.onSiteSearchAdvancedCityDisambigChange=function(){var a=id("SiteSearchAdvancedCityDisambigSelect"),a=a.options[a.selectedIndex],b=id("SiteSearchAdvancedCityId");if(a.value>0){var c=id("SiteSearchAdvancedCity");b.value=a.value;c.value=a.text}else b.value=""};
GD.header.siteSearchRequestMatchingCities=function(a,b){jQuery.ajax({url:"findCityAjax.htm",data:{partialWordMode:true,maxCitiesToReturn:15,countryId:a,q:b},dataType:"text",success:function(a){GD.header.siteSearchLocationResponseHandler(a)},error:function(){GD.header.siteSearchLocationResponseHandler(null)}})};
GD.header.siteSearchLocationResponseHandler=function(a){GD.header.clearSiteSearchErrors();if(a){var b=a.split("\n");if(b.length==1){var a=b[0].split(""),b=$("#SiteSearchAdvancedCity"),c=$("#SiteSearchAdvancedCityId");b.val(a[0]);c.val(a[1]);GD.header.doSiteSearchAdvancedSubmit()}else if(b.length==0)$("#SiteSearchAdvancedLocCityNotFound").css("display","block");else{var c=$("#SiteSearchAdvancedCityDisambigSelect"),e;if(c.length){c[0].options.length=1;for(e=0;e<b.length;e++){var a=b[e].split(""),
d=document.createElement("option");d.text=a[0];d.value=a[1];c[0].options[c[0].options.length]=d}c[0].selectedIndex=0;$("#CityDisambig").css("display","block")}}}else if(a=id("LocAjaxError"))a.style.display="block"};GD.header.removeCobrand=function(){var a=$("#CobrandBanner");a.css("border-bottom-width",0);a.animate({height:0},{duration:300,easing:"easeOutQuad",complete:function(){a.hide().remove()}});jQuery.post("/removeCobrand.htm");return false};GD.header.pageSearchBarHeightClosed=42;
GD.header.pageSearchBarHeightOpened=14;GD.header.advSearchLinkTopClosed=21;GD.header.advSearchLinkTopOpened=8;GD.header.showHideSearchFormSeconds=0.2;GD.header.showHideSearchBarSeconds=0.4;GD.header.advSearchLinkSeconds=0.4;GD.header.showHideAdvSearchFormSeconds=0.4;
GD.header.toggleSiteSearchAdvanced=function(){var a=$("#SiteSearchBarTop .siteSearchAdvancedLink");a.length&&(a.hasClass("advLinkOpened")?GD.header.animateCloseSiteSearchAdvanced():$("#SiteSearchAdvanced").length?GD.header.animateOpenSiteSearchAdvanced():GD.header.loadSiteSearchAdvanced());return false};
GD.header.loadSiteSearchAdvanced=function(){var a=GD.util.getAjaxUrlRespectingSecurity("/parts/siteSearchAdvanced.htm");jQuery.ajax({url:a,data:GD.header.siteSearchOptions,dataType:"text",success:function(a){GD.header._onLoadSiteSearchAdvancedComplete(a,null)},error:function(a){GD.header._onLoadSiteSearchAdvancedComplete(null,a.statusText)}})};
GD.header._onLoadSiteSearchAdvancedComplete=function(a,b){if(a)var c=$(a);else{var c=$("<div id='SiteSearchAdvanced' class='error'>"),e=$("<p class='errorMessage'>"),d="Advanced site search is currently unavailable.  Please check back later.";b&&(d=d+("<br/>("+b+")"));e.html(d);c.append(e)}$("body").append(c);(c=$("#SiteSearchAdvancedDefaultSort").html())?GD.header.setSiteSearchAdvancedSorts(GD.header.siteSearchOptions.primarySearchType,c):GD.header.setSiteSearchAdvancedSorts(GD.header.siteSearchOptions.primarySearchType,
"MV-false");GD.ajax.createLocationAutoComplete("#SiteSearchAdvancedCountry","#SiteSearchAdvancedCity","#SiteSearchAdvancedCityId");GD.header.animateOpenSiteSearchAdvanced()};GD.header.animateOpenSiteSearchAdvanced=function(){GD.userAlert&&jQuery.isFunction(GD.userAlert.closeDrawer)&&GD.userAlert.closeDrawer();var a=$("#SiteSearchBarTop .siteSearchAdvancedLink");a.addClass("advLinkOpened");a.removeClass("advLinkClosed");$("#SiteSearchBarTop").after($("#SiteSearchAdvanced"));GD.header.animateShowSiteSearchAdvancedForm()};
GD.header.closeSiteSearchAdvanced=function(){var a=$("#SiteSearchBarTop .siteSearchAdvancedLink");if(a.length){var b=a[0].className;if(b&&b=="advLinkOpened"){b=id("SiteSearchAdvanced");a[0].className="advLinkClosed";a.css("top",""+GD.header.advSearchLinkTopClosed+"px");if(b){b.style.height="0px";b.style.display="none"}a=$("#SiteSearchBarTop");if(a.length){a[0].className="activeSearchBar";a.css("height",""+GD.header.pageSearchBarHeightClosed+"px")}a=$("#SiteSearchBarTop .siteSearchTable");a.length&&
a.css("opacity",1)}}};GD.header.animateCloseSiteSearchAdvanced=function(){$("#SiteSearchAdvanced").is(":visible")&&GD.header.animateHideSiteSearchAdvancedForm()};
GD.header.animHideSearchForm=function(){GD.isIE()?$("#SiteSearchBarTop .siteSearchTable").css("display","none"):$("#SiteSearchBarTop .siteSearchTable").animate({opacity:0},1E3*GD.header.showHideSearchFormSeconds);var a={height:GD.header.pageSearchBarHeightOpened},b={top:GD.header.advSearchLinkTopOpened};$("#SiteSearchBarTop").animate(a,1E3*GD.header.showHideSearchBarSeconds,"swing",GD.header.onAnimateHideSiteSearchComplete);$("#SiteSearchBarTop .siteSearchAdvancedLink").animate(b,1E3*GD.header.advSearchLinkSeconds)};
GD.header.animateShowSiteSearchForm=function(){GD.isIE()?$("#SiteSearchBarTop .siteSearchTable").css({display:"block"}):$("#SiteSearchBarTop .siteSearchTable").animate({opacity:1},1E3*GD.header.showHideSearchFormSeconds)};GD.header.animateShowSiteSearchAdvancedForm=function(){$("#SiteSearchAdvanced");GD.header.onSiteSearchAdvancedTypeChange();GD.header.animHideSearchForm();$("#SiteSearchAdvanced").css({display:"none",height:"auto"}).show("blind",null,1E3*GD.header.showHideAdvSearchFormSeconds,GD.header.onAnimateShowSiteSearchAdvancedComplete)};
GD.header.animateHideSiteSearchAdvancedForm=function(){var a=$("#SiteSearchBarTop"),b=$("#SiteSearchAdvanced");if(b.is(":visible")&&!a.is(".homeSearchBar")){a=$("#SiteSearchBarTop .siteSearchAdvancedLink");a.addClass("advLinkClosed");a.removeClass("advLinkOpened");GD.header.animateShowSiteSearch();b.hide("blind",null,1E3*GD.header.showHideAdvSearchFormSeconds,GD.header.onAnimateHideSiteSearchAdvancedComplete)}};GD.header.onAnimateHideSiteSearchComplete=function(){$("#SiteSearchBarTop").removeClass("activeSearchBar").addClass("inactiveSearchBar")};
GD.header.onAnimateShowSiteSearchAdvancedComplete=function(){var a=id("SiteSearchAdvancedType");a&&a.focus();GD.header.setSiteSearchAdvancedFieldPrompts();$("#SiteSearchAdvancedCountry").val()<=0&&$("#SiteSearchAdvancedCity").hide()};GD.header.onAnimateHideSiteSearchAdvancedComplete=function(){$("#SiteSearchAdvanced").css({display:"none"})};
GD.header.animateShowSiteSearch=function(){var a={height:GD.header.pageSearchBarHeightClosed},b={top:GD.header.advSearchLinkTopClosed};$("#SiteSearchBarTop").removeClass("inactiveSearchBar").addClass("activeSearchBar").animate(a,1E3*GD.header.showHideSearchBarSeconds,"swing",GD.header.onAnimateShowSiteSearchComplete);$("#SiteSearchBarTop .siteSearchAdvancedLink").animate(b,1E3*GD.header.advSearchLinkSeconds)};GD.header.onAnimateShowSiteSearchComplete=function(){GD.header.animateShowSiteSearchForm()};
"undefined"==typeof GD.userAlert&&(GD.userAlert={});GD.userAlert.drawerSpeed=600;GD.userAlert.tabSpeed=800;GD.userAlert.textSpeed=400;GD.userAlert.tabHeightOpen=19;GD.userAlert.tabHeightClose=18;GD.isIE6()&&(GD.userAlert.tabHeightClose=23);GD.userAlert.tabEasing="easeInOutExpo";
GD.userAlert.openDrawer=function(a){typeof a!=="boolean"&&(a=false);GD.header&&typeof GD.header.animateHideSiteSearchAdvancedForm==="function"&&GD.header.animateHideSiteSearchAdvancedForm();a&&jQuery.scrollTo({top:0,left:0,axis:"yx",easing:"easeInOutExpo",queue:false});$("#UserAlertDrawer").prev().attr("id")!="UserAlertBar"&&$("#UserAlertBar").after($("#UserAlertDrawer"));$("#UserAlertBarOpenTab").blur();$("#UserAlertDrawer").show("blind",{},GD.userAlert.drawerSpeed);GD.userAlert.switchTabs("UserAlertBarOpenTab",
"UserAlertBarCloseTab",GD.userAlert.tabHeightClose);$("#UserAlertBar .userAlertBarOpenText").fadeOut(GD.userAlert.textSpeed,function(){$("#UserAlertBar .userAlertBarCloseText").fadeIn(GD.userAlert.textSpeed)});return false};
GD.userAlert.closeDrawer=function(){if($("#UserAlertDrawer").is(":visible")){$("#UserAlertBarCloseTab").blur();$("#UserAlertDrawer").hide("blind",{},GD.userAlert.drawerSpeed);GD.userAlert.switchTabs("UserAlertBarCloseTab","UserAlertBarOpenTab",GD.userAlert.tabHeightOpen);$("#UserAlertBar .userAlertBarCloseText").fadeOut(GD.userAlert.textSpeed,function(){$("#UserAlertBar .userAlertBarOpenText").fadeIn(GD.userAlert.textSpeed)})}return false};
GD.userAlert.closePopup=function(){$("#GenericPopupFrame").fadeOut(150,GD.userAlert._closePopupBackground);return false};GD.userAlert._closePopupBackground=function(){setTimeout(function(){$("#ModalScreen").fadeOut(400,function(){$(this).remove()})},1)};
GD.userAlert.switchTabs=function(a,b,c){$("#"+a+" a").blur();$("#"+a).animate({height:0},{queue:false,duration:GD.userAlert.tabSpeed,easing:GD.userAlert.tabEasing,complete:function(){$("#"+a).css("display","none")}});$("#"+b).css("display","block").animate({height:c},{queue:false,duration:GD.userAlert.tabSpeed,easing:GD.userAlert.tabEasing});return false};GD.userAlert.enable=function(){$(".userAlertBarCloseText, #UserAlertBarCloseTab").click(GD.userAlert.closeDrawer);$(".userAlertBarOpenText, #UserAlertBarOpenTab").click(GD.userAlert.openDrawer)};
GD.userAlert.ERR_EMAIL_INVALID="Please enter a valid email address";GD.userAlert.ERR_AJAX="Your request could not be completed.  Please try again.";
GD.userAlert.sendValidationEmail=function(){var a=$("#ResendActivationEmailAddress").val();if(a&&a.trim()){jQuery.ajax({url:"/unvalidatedAccount/sendValidationEmailJson.htm",data:{email:a},dataType:"json",success:function(a){GD.userAlert._sendValidationEmailComplete(a)},error:function(){GD.userAlert._sendValidationEmailComplete(null)}});$("#ResendActivationPlaceholder").css("display","none");$("#ResendActivationSpinner").css("display","inline")}else GD.userAlert._sendValidationEmailError(GD.userAlert.ERR_EMAIL_INVALID)};
GD.userAlert._sendValidationEmailComplete=function(a){if(a!=null)if(a.errorMessage)GD.userAlert._sendValidationEmailError(a.errorMessage);else{GD.augments.closeAllToggleItems();GD.userAlert._sendValidationEmailError(null);if(!a.email)a.email="your email address";$("#ActivateNeededBlock .emailAddress").html(a.email);$("#ResendActivationEmailAddress").val("");$("#ActivateNeededBlockInitial").css("display","none");$("#ActivateNeededBlockResent").css("display","block")}else GD.userAlert._sendValidationEmailError(GD.userAlert.ERR_AJAX);
$("#ResendActivationSpinner").css("display","none");$("#ResendActivationPlaceholder").css("display","inline")};GD.userAlert._sendValidationEmailError=function(a){var b=$("#SendActivationEmailForm .fieldError"),c=$("#SendActivationEmailForm p.stopIcon");if(a){c.html(a);b.css("display","block")}else{c.html("");b.css("display","none")}};if("undefined"==typeof GD)var GD={};"undefined"==typeof GD.analytics&&(GD.analytics={});GD.analytics.GWO_ACCOUNT="UA-2595786-5";GD.analytics.showPageInfoPopup=function(){var a=$("#DebugInfoPopup");if(a.length){var b=a.parent();b.fadeIn("normal",function(){b.scrollTo("#DebugInfoPopup")})}else{a=$("#DebugInfoFooter").clone();a.attr("id","DebugInfoPopup").css("display","block");a.dialog({title:"Page Info",draggable:true,width:978,height:180,position:"bottom"})}};
GD.analytics.trackPageView=function(a){try{if(_gaq){window.googleId&&_gaq.push(["_setAccount",window.googleId]);_gaq.push(["_trackPageview",a])}var b=$(".debugInfo .webAnalyticsPageList"),d=b.html();b.html(d+("<br/>"+a));Logger.info("Tracking: "+a)}catch(e){Logger.warn("Exception while tracking '"+a+'": '+e)}};GD.analytics.trackPartnerShare=function(a){GD.analytics.trackPageView("/partner/share/"+a)};
GD.analytics.trackPartnerAuth=function(a,b){GD.analytics.trackPageView("/partner/auth/"+a+"/"+(b?"link":"delink"))};
GD.analytics.trackEvent=function(a,b,d,e){var c=a+": "+b;try{if(_gaq){window.googleId&&_gaq.push(["_setAccount",window.googleId]);_gaq.push(["_trackEvent",a,b,d,e])}var f=$(".debugInfo .webAnalyticsEventList");if(f.length){var g=f.html().trim();if(d||e){c=c+" [";d&&(c=c+d);if(e){d&&(c=c+" ");c=c+("&times; "+e)}c=c+"]"}g&&(g=g+"<br/>");f.html(g+c);Logger.info("Event: "+c)}}catch(h){Logger.warn("Exception while tracking event '"+c+'": '+h)}return true};
GD.analytics.trackGoal=function(a){try{if(_gaq){window.googleId&&_gaq.push(["_setAccount",window.googleId]);_gaq.push(["_trackPageview",a])}var b=$(".debugInfo .webAnalyticsPageList");if(b.length){var d=b.html();b.html((d=="none"?"":d+"<br/>")+a);Logger.info("Goal! "+url)}}catch(e){Logger.warn("Exception while tracking '"+a+'": '+e)}};GD.analytics.trackMvGoal=function(a){if(!a)a=window._gdMvTestGoalKey;if(a){window._gaq=window._gaq||[];_gaq.push(["gwo._trackPageview","/"+a+"/goal"])}else Logger.error("GD.analytics.trackMvGoal() called on page without <gd:mvTestGoal> tag.")};
GD.analytics.setTrackingVar=function(a,b,d,e){_gaq.push(["_setCustomVar",a,b,d,e]);GD.runAfterBody(function(){var c=$("#DebugInfoFooter #WebAnalyticsVars");if(c.length){var f=c.html().trim(),g;switch(e){case 1:g="visitor";break;case 2:g="session";break;case 3:g="page";break;default:g="UNKNOWN"}f.length>0&&(f=f+"<br/>");f=f+("("+a+") "+b+' = "'+d+'" ('+g+" scope)");c.html(f)}})};if("undefined"==typeof GD)var GD={};"undefined"==typeof GD.socialSharing&&(GD.socialSharing={});GD.socialSharing.LEFT_OFFSET=100;GD.socialSharing.TOP_OFFSET=2;GD.socialSharing.FLOATING_CLASS="floating";GD.socialSharing.FIXED_CLASS="fixed";GD.socialSharing.UPPER_MARGIN=20;GD.socialSharing.MIN_VISIBLE_WIDTH=1220;GD.socialSharing.BOUNCE_DIST=5;GD.socialSharing.BOUNCE_TIME=80;GD.socialSharing.isNarrowWindow=null;
GD.socialSharing.init=function(){var a=$("#SocialSharingBtns");if(GD.socialSharing.isNarrow())a.remove();else{GD.socialSharing.idealViewportTopOffset=a.offset().top;if(a.length){$(window).resize(function(b){GD.socialSharing._resize(b,a)});$(window).scroll(function(b){GD.socialSharing._scroll(b,a)});$(window).resize();$(window).scroll()}}};
GD.socialSharing.initHeader=function(){var a=$(".employerHeader .h1,.employerHeader h1, #JobSearchResults h1");if(GD.socialSharing.isNarrow()){a.addClass("narrowH1");$(".employerHeader .shareContent,  #JobSearchResults .shareContent").show()}else $(".employerHeader .shareContent").remove();a.removeClass("notShown")};
GD.socialSharing.isNarrow=function(){if(typeof GD.socialSharing.isNarrowWindow==="boolean")return GD.socialSharing.isNarrowWindow;GD.socialSharing.isNarrowWindow=false;if(jQuery.browser.msie&&jQuery.browser.version<8)GD.socialSharing.isNarrowWindow=true;else if($(window).width()<GD.socialSharing.MIN_VISIBLE_WIDTH)GD.socialSharing.isNarrowWindow=true;return GD.socialSharing.isNarrowWindow};
GD.socialSharing._resize=function(a,b){var c=$(window).width();if(b.hasClass("fixed")){var d=b.parent().offset().left-GD.socialSharing.LEFT_OFFSET;b.css({left:d})}if(c>=GD.socialSharing.MIN_VISIBLE_WIDTH){if(b.hasClass("offScreen")){b.addClass("hidden");b.removeClass("offScreen")}if(b.is(":hidden")){b.css({display:"none",opacity:1});b.fadeIn(200,GD.socialSharing._onFadeInComplete)}}else b.is(":visible")&&b.fadeOut(200)};
GD.socialSharing._onFadeInComplete=function(){if(jQuery.browser.msie){var a=$("#SocialSharingBtns"),a=$(".fbLikeButton iframe",a);if(a.length){a=a[0];a.src=a.src}}};
GD.socialSharing._scroll=function(a,b){var c=$(window).scrollTop(),d=b.offset().top-c,e=b.offset().left;b.hasClass(GD.socialSharing.FIXED_CLASS)?c<=GD.socialSharing.idealViewportTopOffset-GD.socialSharing.UPPER_MARGIN&&GD.socialSharing._floatSharingButtons(b,d,e):b.hasClass(GD.socialSharing.FLOATING_CLASS)&&d<GD.socialSharing.UPPER_MARGIN&&GD.socialSharing._fixSharingButtons(b,d,e)};
GD.socialSharing._fixSharingButtons=function(a,b,c){a.removeClass(GD.socialSharing.FLOATING_CLASS);a.addClass(GD.socialSharing.FIXED_CLASS);a.css({position:"fixed",top:b,left:c});b<GD.socialSharing.UPPER_MARGIN&&GD.socialSharing._bounceDownBtns(a,b)};GD.socialSharing._floatSharingButtons=function(a){a.removeClass(GD.socialSharing.FIXED_CLASS);a.addClass(GD.socialSharing.FLOATING_CLASS);a.css({position:"absolute",top:GD.socialSharing.TOP_OFFSET,left:-GD.socialSharing.LEFT_OFFSET})};
GD.socialSharing._bounceDownBtns=function(a,b){a.animate({top:b-GD.socialSharing.BOUNCE_DIST},GD.socialSharing.BOUNCE_TIME,"easeOutQuint",function(){GD.socialSharing._bounceDownBtns2(a)})};GD.socialSharing._bounceDownBtns2=function(a){a.animate({top:GD.socialSharing.UPPER_MARGIN},GD.socialSharing.BOUNCE_TIME,"easeInQuint")};"undefined"==typeof GD.flipper&&(GD.flipper={});GD.flipper.speed=800;
GD.flipper.flipToIntl=function(a){var b=$("#"+a+"UsaBtn"),c=$("#"+a+"IntlBody"),d=$("#"+a+"IntlBtn");GD.flipper.checkNoDataPane(a,c);d.addClass("selected");b.removeClass("selected");$("#"+a+"UsaMap").css("display","none");$("#"+a+"IntlMap").css("display","block");$("#"+a+"UsaBody").css("display","none");c.css("display","block");GD.flipper.adjustButtons(a)};
GD.flipper.flipToUSA=function(a){var b=$("#"+a+"UsaBody"),c=$("#"+a+"UsaBtn"),d=$("#"+a+"IntlBtn");GD.flipper.checkNoDataPane(a,b);d.removeClass("selected");c.addClass("selected");$("#"+a+"UsaMap").css("display","block");$("#"+a+"IntlMap").css("display","none");b.css("display","block");$("#"+a+"IntlBody").css("display","none");GD.flipper.adjustButtons(a)};
GD.flipper.checkNoDataPane=function(a,b){var c=false,d=$(b).find(".noData");d.length&&d.get(0).parentNode==b&&(c=true);var d=$("#"+a+"LtFade"),e=$("#"+a+"RtFade"),f=$("#"+a+"RtHide"),g=$("#"+a+"SlideButtons");if(c){d.addClass("hidden");e.addClass("hidden");f.addClass("hidden");g.addClass("hidden")}else{d.removeClass("hidden");e.removeClass("hidden");f.removeClass("hidden");g.removeClass("hidden")}};
GD.flipper.scrollLeft=function(a){var b=GD.flipper.getSliderPane(a),c=b.offsetWidth,d=id(a+"Content").offsetWidth-2;if(b.style.left){var e=Number((""+b.style.left).replace(/px/,"")),f=d*2-c,e=e-d;e<f&&(e=f)}else e=-d;$(b).animate({left:e},GD.flipper.speed,"easeInOutExpo");GD.flipper.adjustButtons(a,b,c,d,-e)};
GD.flipper.scrollRight=function(a){var b=GD.flipper.getSliderPane(a),c=b.offsetWidth,d=id(a+"Content").offsetWidth-2;if(b.style.left){var e=Number((""+b.style.left).replace(/px/,"")),e=e+d;e>0&&(e=0)}else e=0;$(b).animate({left:e},GD.flipper.speed,"easeInOutExpo");GD.flipper.adjustButtons(a,b,c,d,-e)};GD.flipper.getSliderPane=function(a){var a=$("#"+a+"UsaBtn").hasClass("selected")?$("#"+a+"UsaBody"):$("#"+a+"IntlBody"),b=a.find(".slider");b.length&&(a=b.get(0));return a};
GD.flipper.adjustButtons=function(a,b,c,d,e){if(!b){b=GD.flipper.getSliderPane(a);c=b.offsetWidth;d=id(a+"Content").offsetWidth-2;e=b.style.left?-Number((""+b.style.left).replace(/px/,"")):0}c=c-d*2;e<0&&(e=0);e>c&&(e=c);b=e<=0;e=e>=c;c=$("#"+a+"PrevBtn").parent();a=$("#"+a+"NextBtn").parent();b?c.addClass("disabled"):c.removeClass("disabled");e?a.addClass("disabled"):a.removeClass("disabled")};
GD.flipper.showPane=function(a,b,c){var d=$("#"+a+"Body"+b);if(d.hasClass("hidden")){var e=b==1?2:1,f=$("#"+a+"Body"+e),b=$("#"+a+"Label"+b),e=$("#"+a+"Label"+e);f.addClass("hidden");d.removeClass("hidden");b.addClass("disabled");e.removeClass("disabled");if(c){a=$("#"+a+"Title");a.length&&a.html(c)}}return false};"undefined"==typeof GD.shareContent&&(GD.shareContent={});
GD.shareContent.initEmbedLinks=function(){var a=$("span.embedPopupLink").not(".embedPopupLinkOK");a.click(GD.shareContent._onEmbedClick);a.addClass("embedPopupLinkOK")};GD.shareContent._onEmbedClick=function(){var a=$(this);GD.analytics.trackPartnerShare("embed");GD.shareContent.sharedContentPopup(a,a.data("builderUrl"),a.data("pageUrl"),a.data("section"),a.data("linkType"));return false};
GD.shareContent.sharedContentPopup=function(a,b,c,d,e){if(b){var e=window.screen.availWidth-10,f=window.screen.availHeight-50,a=f*0.8,f=(f-a)/2*0.6,e=(e-740)/2;if(typeof d==="string"&&d.length>0){b=b.indexOf("?")!=-1?b+"&":b+"?";b=b+"section="+d}if(c){b=b.indexOf("?")!=-1?b+"&":b+"?";b=b+"permalink="+encodeURIComponent(c)}win=window.open(b,"sharePopup","top="+f+",left="+e+"height="+a+",width=740,location=0,toolbar=0,menubar=0,scrollbars=1",false);typeof win.focus==="function"&&win.focus()}else GD.shareContent._showPermalinkPopup(c,
e);return false};
GD.shareContent._showPermalinkPopup=function(a,b){GD.analytics.trackPartnerShare("permalink");var c,d;if(typeof b!=="string"||!b.length)b="Page";c="Link To This "+b;d=$("<input type='text'>").val(a).click(GD.shareContent._onClickPermalinkPopup);d=$("<p>").append(d);c=$("<div id='PermalinkPopup'>").append("<h3><strong>"+c+"</strong></h3>").append("<p>Copy and paste this link into a web page or blog post.  Anyone clicking the link will see this page as if they were a Glassdoor member.</p>").append(d);GD.dialogManager.addCustomDialog(c,
430,true,true,true,null,"dataPopup",GD.shareContent._onClickPermalinkPopup,null,true)};GD.shareContent._onClickPermalinkPopup=function(){var a=$("#PermalinkPopup input");a.select();a.focus()};"undefined"==typeof GD.jobsLink&&(GD.jobsLink={});
GD.jobsLink.track=function(a){var a=GD.event.fixEvent(a),b=$(a.target);b.is("a")||(b=b.closest("a"));if(a=b.data("href")){var c=b.data("ctScr");if(c)try{var d=document.createElement("a"),e=new Function(c);d.href=a;e.call(d);a=d.href}catch(f){}var d=b.data("ctPn"),c=b.data("ctPid"),e=b.data("ctJid"),g=b.data("evA"),h=d;c&&(h=h+" ("+c+")");g&&GD.analytics.trackEvent("jobListing",g,h);c=b.data("ctT");b=b.data("ctV");c&&GD.jobsLink.trackClick(c,d,b,e);a=window.open(a,"_blank");a.focus&&a.focus()}return false};
GD.jobsLink.trackClick=function(a,b,c,d){GD.analytics.trackPageView("/partner/jobs/"+a+"/"+b);GD.jobsLink.trackJobClickValue(c,d);return true};
GD.jobsLink.trackJobClickValue=function(a,b){if(a){a=parseFloat(a);if(!isNaN(a)){var c="http://www.googleadservices.com/pagead/conversion/1064892929/?value="+a+"&label=xA6ZCLv0igIQgfTj-wM&guid=ON&script=0&cachebuster="+(new Date).getTime(),c=$("<img src='"+c+"' width='1' height='1' style='border-style:none;' alt='' class='offScreen' />");$("body").append(c);GD.jobsLink.trackKenshoo("jobclick",a,b,"","USD")}}};
GD.jobsLink.trackKenshoo=function(a,b,c,d,e){a=("https:"==document.location.protocol?"https":"http")+"://1155.xg4ken.com/media/redir.php?track=1&id=6f408f0a-a582-403f-b85e-aa227bc6078b&type="+a+"&val="+b+"&orderId="+c+"&valueCurrency="+e+"&promoCode="+d+"&ref="+document.URL+"&cb="+(new Date).getTime();b=new Image(1,1);b.src=a;b.onload=function(){}};"undefined"==typeof GD.flagContent&&(GD.flagContent={});GD.flagContent.$savedPopupContents=void 0;GD.flagContent.savedInputText="";
GD.flagContent.showPopup=function(a,b,c){if(a==null)throw"flagContent.showPopup must have an id.";if(b==null)throw"flagContent.showPopup must have a type indicator.";GD.flagContent.closePopup();var d=$("#FlagContentPopup").html();if(b=="EMPLOYER_REVIEW"||b=="INTERVIEW_REVIEW")d=d.printf("review","Review",a,b);else if(b=="USER_QUESTION")d=d.printf("question","Question",a,b);else if(b=="USER_RESPONSE")d=c=="USER_QUESTION"?d.printf("answer","Answer",a,b):d.printf("comment","Comment",a,b);else if(b==
"COMPANY_PHOTO")d=d.printf("photo","Photo",a,b);else throw"flagContent.showPopup called with invalid type indicator.";a=$('<div id="FlagContentDialog"></div>').html(d);b=$("#FlagContentPopupButtons").children().clone(true);$("div.dialogButtons",a).append(b);GD.flagContent.setupTextArea(a.find("textarea"),"");b=a.find(".primary");c=b.closest(".flagContentDialogBody");GD.btn.setLabel(b,c.data("flagLabel"));a.dialog({width:440,minHeight:0,dialogClass:"noCloseBox noScrollBars",resizable:false,close:function(){GD.flagContent.onCloseComplete()}});
GD.btn.init();a.parent().find(".ui-dialog-title").css({display:"none"});GD.flagContent.$savedPopupContents=a.children().clone(true)};GD.flagContent.setupTextArea=function(a,b){a.keyup(GD.flagContent.reasonChangeEvent).keypress(GD.flagContent.reasonChangeEvent).change(GD.flagContent.reasonChangeEvent).mouseup(GD.flagContent.reasonChangeEvent).val(b).focus()};
GD.flagContent.reasonChangeEvent=function(){var a=$("#FlagContentDialog"),a=$("textarea",a);a.length&&GD.btn.enable("#FlagContentDialog .gdBtn .primary",a.val().length>0);return true};GD.flagContent.closePopup=function(){var a=$("#FlagContentDialog");a.length&&a.dialog("close");return false};GD.flagContent.onCloseComplete=function(){var a=$("#FlagContentDialog");if(a.length){a.dialog("destroy");a.remove()}};
GD.flagContent.setPopupContent=function(a){var b=$("#FlagContentDialog");b.parent().find(".ui-dialog-titlebar");if(a instanceof jQuery){b.children().remove();b.append(a)}else b.html(a)};GD.flagContent.showSuccess=function(){var a=$("#FlagContentSuccess").children().clone(true);GD.flagContent.setPopupContent(a);$(".gdBtn .primary",a).focus()};GD.flagContent.showFailure=function(){var a=$("#FlagContentFailure").children().clone(true);GD.flagContent.setPopupContent(a);$(".gdBtn .primary",a).focus()};
GD.flagContent.restoreInput=function(){GD.flagContent.setPopupContent(GD.flagContent.$savedPopupContents);GD.flagContent.setupTextArea($("#FlagContentDialog textarea"),GD.flagContent.savedInputText);GD.flagContent.reasonChangeEvent();return false};
GD.flagContent.submit=function(){var a=$("#FlagContentDialog"),b=$(".flagContentDialogBody",a),a=$("textarea",b),c=b.data("approvableId"),b=b.data("entityType");if(a.length){var d=a.val();if(d.length>0){GD.flagContent.savedInputText=d;d=encodeURIComponent(d);a={async:false,url:"flagApprovableAjax.htm?approvableId="+c+"&entityTypeStr="+b+"&comment="+d,dataType:"json",success:function(){GD.flagContent.showSuccess()},error:function(){GD.flagContent.showFailure()}};jQuery.ajax(a)}else a.focus()}return false};
"undefined"==typeof GD.tagList&&(GD.tagList={});GD.tagList.expand=function(a){var b=id("TagListCompressed_"+a),a=id("TagListExpanded_"+a);if(b&&a){b.style.display="none";a.style.display="inline"}return false};GD.tagList.collapse=function(a){var b=id("TagListCompressed_"+a),a=id("TagListExpanded_"+a);if(b&&a){b.style.display="inline";a.style.display="none"}return false};
GD.tagList.addTags=function(a,b){var c=$("#TagListExpanded_"+a).css("display")!="none",d=$("#TagListThreshold_"+a),d=d.length?d.html():999,e=id("TagListCompressed_"+a);if(b.length&&b.length>0){var f=Math.min(b.length,d),g=GD.tagList.build(b,0,f-1);if(g.length>0){var h=id("TagListCompressedData_"+a);if(h)h.innerHTML=g}if(f<b.length){g=GD.tagList.build(b,f,b.length-1);if(g.length>0)if(f=id("TagListExpandedData_"+a))f.innerHTML=g}if(!c&&b.length>d)e.style.display="inline"}else e.style.display="none"};
GD.tagList.build=function(a,b,c){try{for(var d="";b<=c;b++){var e=a[b],f,g,h;if(e){if(e.tag){f=e.tag;g=e.link}else{f=e;g=null}if((h=GD.tagList.buildTagLinkHtml(f,g))&&h.length>0){d=d+h;b<c&&(d=d+", ")}}}return d}catch(i){Logger.fatal("interviews.js / GD.tagList.build()",i)}};
GD.tagList.buildTagLinkHtml=function(a,b){try{var c="",d="";if(a){a.contains(" ")&&(d=" class='keepTogether'");b?c=c+("<a href='"+b+"'"+d+">"):d.length>0&&(c=c+("<span"+d+">"));c=c+a;b?c=c+"</a>":d.length>0&&(c=c+"</span>")}return c}catch(e){Logger.fatal("interviews.js / buildTagLink()",e)}};"undefined"==typeof GD.compChart&&(GD.compChart={});GD.compChart.augment=function(){$("tr.dataRow .toggle a, tr.dataRow .toggle img").click(GD.compChart.toggleRowClick)};
GD.compChart.toggleRowClick=function(a){var b=$(a.target).parents("span.toggle"),a=$(a.target).parents("tbody");if(b&&a){a=a.next();if(a.length&&a[0].tagName=="TBODY")if(b.is(".expanded")){a.css("display","none");b.removeClass("expanded");b.addClass("contracted")}else{GD.isIE()&&GD.getIEVersion()<8?a.css("display","block"):a.css("display","table-row-group");b.removeClass("contracted");b.addClass("expanded")}}return false};"undefined"==typeof GD.socialNet&&(GD.socialNet={});
GD.socialNet.MAX_TWITTER_SEARCH_QUERY_LEN=140;GD.socialNet.REFRESH_TIME=2E4;GD.socialNet.NO_DATA_REFRESH_TIME=3E4;GD.socialNet.firstTwitterRequest=!0;GD.socialNet.initSocialNetworkFeed=function(a,b,c,d){GD.socialNet.initTwitterFeed(a,b,c,d)};GD.socialNet.initTwitterFeed=function(a,b,c,d){a=GD.socialNet.constructTwitterSearch(a,c,d);GD.socialNet.refreshTwitterFeed(b,a,0)};
GD.socialNet.refreshTwitterFeed=function(a,b,c){c||(c=0);jQuery.twitSearch(b,function(b,c,f){GD.socialNet.twitterResults(a,b,c,f)},c,15)};
GD.socialNet.constructTwitterSearch=function(a,b,c){a="";b=b.split(",");if(c)for(c=0;c<b.length;c++){var d=b[c].trim(),e="";c>0&&(e=e+" OR ");e=d.match(/\s/)?e+d:e+("from:"+d);a.length+e.length<GD.socialNet.MAX_TWITTER_SEARCH_QUERY_LEN&&(a=a+e)}else for(c=0;c<b.length;c++){d=b[c].replace('"',"").trim();if(d.length>0){e="";c>0&&(e=e+" OR ");e=d.match(/\s/)?e+('"'+d+'"'):e+d;a.length+e.length<GD.socialNet.MAX_TWITTER_SEARCH_QUERY_LEN&&(a=a+e)}}return a.trim()};
GD.socialNet.twitterResults=function(a,b,c,d){if(b&&b.results){var e=$("#"+a+" .twitterService");e.is(":visible")?$(".waiting",e).fadeOut():$(".waiting",e).css("display","none");var c=b.results,f=GD.socialNet.REFRESH_TIME;if(c.length>0){var e=$(".tweets",e),g=$("<div>"),h=e.children().length==0,i=-1;e.prepend(g);g.css("display","none");for(var k=0;k<c.length;k++){var j=c[k];if(j.id>d){var l=$("<div class='tweet'><span class='name'></span><span class='separator'>: </span><span class='text'></span></div>");
g.append(l);$(".name",l).html(j.from_user);$(".text",l).html(j.text);if(i<j.id)i=j.id}}if(i>0){g.slideDown("fast",function(){GD.socialNet.twitterTrim(a,!h)});e.attr("max_id",i)}}else if(GD.socialNet.firstTwitterRequest){e.is(":visible")?$(".noData",e).fadeIn():$(".noData",e).css("display","block");f=GD.socialNet.NO_DATA_REFRESH_TIME}GD.socialNet.firstTwitterRequest=false;setTimeout(function(){var c=b.query.replace(/\+/g," "),c=decodeURIComponent(c);GD.socialNet.refreshTwitterFeed(a,c,b.max_id)},f)}};
GD.socialNet.twitterTrim=function(a,b){var c=$("#"+a+" .twitterService"),d=$(".tweets",c),e=$(".tweet",d);if(e.length>0){var c=d.offset().top+d.innerHeight(),c=c-(parseInt(d.css("padding-top"))+parseInt(d.css("padding-bottom"))),f=$(e[e.length-1]),d=f.offset().top;if(d>c){c=f.parent();f.remove();c.children().length==0&&c.remove();GD.socialNet.twitterTrim(a,b)}else d+f.outerHeight()>c&&f.fadeOut(b?"fast":0,function(){var a=f.parent();f.remove();a.children().length==0&&a.remove()})}};
GD.socialNet.showFacebookFeed=function(a){$("#"+a+" .serviceTabs .tab img.pointer").hide();$("#"+a+" .fbServiceTab img.pointer").show();$("#"+a+" .service").hide();$("#"+a+" .facebookService").show();return true};GD.socialNet.showTwitterFeed=function(a){$("#"+a+" .serviceTabs .tab img.pointer").hide();$("#"+a+" .twitServiceTab img.pointer").show();$("#"+a+" .service").hide();$("#"+a+" .twitterService").show();GD.socialNet.twitterTrim(a,false);return true};
"undefined"==typeof GD.expText&&(GD.expText={});GD.expText.initExpandingText=function(){var a=$("div.expTxt");a.removeClass("expTxt").addClass("expTxtRdy");$("span.more",a).click(GD.expText._onExpandingTextMore);$("span.less",a).click(GD.expText._onExpandingTextLess);a.each(function(){var a=$(this),c=a.attr("maxHeight");c?a.css({maxHeight:c-0,overflow:"hidden"}):a.css({overflow:"hidden"})})};
GD.expText._onExpandingTextMore=function(a){a=$(a.target).closest(".expTxtRdy");a.css("overflow","auto");$("span.ellipses",a).hide();$("span.more",a).hide();$("span.expanded",a).show();$("span.less",a).show();return false};GD.expText._onExpandingTextLess=function(a){a=$(a.target).closest(".expTxtRdy");a.css("overflow","hidden");a.scrollTo(0,0);$("span.less",a).hide();$("span.expanded",a).hide();$("span.ellipses",a).show();$("span.more",a).show();return false};if("undefined"==typeof GD)var GD={};"undefined"==typeof GD.dialog&&(GD.dialog={});
GD.dialogManagerImpl=function(){function q(){document.onclick=function(a){var b=id(GD.dialog._contextHelpId),a=GD.event.fixEvent(a),b=$(a.target).parents().index(b)>=0;if(a.target){if(!b){document.onclick=null;k("#"+GD.dialog._contextHelpId);GD.dialog.contextHelpShown=false}}else alert("target is null");return true}}function l(a,b,c,d,h,j,f,e,g,r,n,k,l){typeof r!=="string"&&(r="white");if(!b||!b.jquery)typeof b!=="string"&&(b="");c=$(c);if(!c.length){c=$("#PageContent");c.length||(c=$("body:first"))}typeof d!==
"number"&&(d=200);typeof h!=="number"&&(h=null);typeof j!=="number"&&(j=null);typeof f!=="number"&&(f=null);typeof e!=="number"&&(e=null);h==null&&f==null&&(h=1);j==null&&e==null&&(j=1);typeof g!=="number"&&(g=1E4);typeof n!=="boolean"&&(n=true);if(c.length){var m=$("<div>"),i=c.offset();m.attr("clickAwayClose",k);m.attr("id",a);m.addClass("gdPanel dropShadow");m.css({display:"none","background-color":r,"z-index":g}).width(d);typeof h==="number"&&m.css("top",Math.floor(i.top+h)+"px");typeof j==="number"&&
m.css("left",Math.floor(i.left+j)+"px");typeof f==="number"&&m.css("bottom",Math.floor(i.left+c.outerHeight()+f)+"px");typeof e==="number"&&m.css("right",Math.floor(i.left+c.outerWidth()+e)+"px");$("body:first").append(m);c=$("<div class='gdPanelContents'>");d="";n&&(d=d+("<a href='#' onclick='return GD.dialogManager.panelClose(\"#"+a+"\");'><div class='closeBox'></div></a>"));d=d+"<div class='panelContents'></div>";n&&(d="<div class='gdPanelClosable'>"+d+"</div>");c.append(d);c.append(b);m.append(c);
if(jQuery.isFunction(l))m[0].onCloseCallback=l}}function i(a){a=$(a);a.length&&a.css("display","block")}function o(a){a=$(a);a.length&&a.hide();return false}function k(a){a=$(a);if(a.length){o(a);if(jQuery.isFunction(a[0].onCloseCallback))a[0].onCloseCallback();a.remove()}return false}function p(a,b,c,d,h){if(typeof c!=="string"||c!=="info"&&c!=="prompt"&&c!=="success"&&c!=="warning")c="error";typeof a!=="string"&&(a="");var j;j=b instanceof jQuery?b:typeof b==="string"?$(b):$("<p></p>");typeof h!==
"boolean"&&(h=true);var b=$("#GDPopupDialog"),f,e,g,i,n;if(b.length==0){b=$("<div></div>");b.attr("id","GDPopupDialog");b.addClass("dropShadow");f=$("<div></div>");f.attr("id","GDPopupDialogHeader");g=document.createElement("div");g.id="GDPopupDialogTitle";e=$("<div></div>");e.attr("id","GDPopupDialogClose");e.addClass("closeBox");i=$("<div></div>");i.attr("id","GDPopupDialogContent");n=document.createElement("div");n.id="GDPopupDialogMask";document.body.appendChild(n);$("body").append(b);b.append(f);
f.append(g);f.append(e);b.append(i);e.click(GD.dialogManager.hideDialog)}else{f=$("#GDPopupDialogHeader");g=id("GDPopupDialogTitle");e=$("#GDPopupDialogClose");i=$("#GDPopupDialogContent");n=id("GDPopupDialogMask");n.style.visibility="visible";b.css("visibility","visible")}b.css("opacity",0);b.css("filter","alpha(opacity=0)");b.data("alpha",0);var k=window.innerWidth!=null?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body!=
null?document.body.clientWidth:null,l=window.innerHeight!=null?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body!=null?document.body.clientHeight:null,m=typeof window.pageXOffset!="undefined"?window.pageXOffset:document.documentElement&&document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft?document.body.scrollLeft:0,o=typeof window.pageYOffset!="undefined"?window.pageYOffset:
document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0,p=b.outerWidth(),q=b.outerHeight(),l=Math.round(o+l/3-q/2),k=Math.round(m+k/2-p/2),k=""+k+"px";b.css("top",""+l+"px");b.css("left",k);f.addClass(c+"Header");a&&a.length>0?g.innerHTML=a:g.style.display="none";i.addClass(c);i.empty().append(j);a=id(GD.dialog.WRAPPER);n.style.height=a.offsetHeight+"px";b.data("timer",setInterval("GD.dialogManager._fadeDialog(true)",
GD.dialog.TIMER));if(d>0){e.css("visibility","hidden");window.setTimeout("GD.dialogManager.hideDialog()",d*1E3)}else h?e.css("visibility","visible"):e.css("visibility","hidden");GD.btn.init()}this.CURRENT_Z_INDEX=typeof GD.effects!="undefined"&&typeof GD.effects.OVERLAY_Z_INDEX!="undefined"?GD.effects.OVERLAY_Z_INDEX+10:100;this.activeDialogList=[];this.occlusionComplete=this.fetchComplete=false;this.ajaxTextStatus=this.ajaxData=null;GD.dialog.OVERLAY_OPACITY=0.8;GD.dialog.TIMER=5;GD.dialog.SPEED=
10;GD.dialog.WRAPPER="PageContent";GD.dialog._contextHelpId="GDContextHelpPanel";GD.dialog.contextHelpShown=false;this.showHelp=function(a,b,c,d){a=$(a);b=$(b);if(!a.length){a=$("#PageContent");if(!a){$("body:first");return}}if(b.length){typeof c==="undefined"&&(c=250);b=b.html().trim();if(GD.dialog.contextHelpShown){k("#"+GD.dialog._contextHelpId);document.onclick=null}d&&(d=$(d));var h=-5;if(d&&d.length){var j=d.offset().left,d=d.width(),f=j+d,e=a.offset(),g=c;g>d?h=-(e.left-j)-5:e.left+g>f&&(h=
f-g-5-e.left)}l(GD.dialog._contextHelpId,b,a,c,17,h,null,null,null,"#e3e3e3",false,true);setTimeout(q,1);i("#"+GD.dialog._contextHelpId);GD.dialog.contextHelpShown=true;a=$(window).scrollTop()+$(window).height();c=$("#"+GD.dialog._contextHelpId);c=Math.ceil(c.offset().top)+c.outerHeight();c+10>a&&jQuery.scrollTo("+="+(c-a+10)+"px",500,{easing:"swing",axis:"y"});return false}alert("Sorry, help cannot be displayed...")};this.panelCreate=l;this.panelShow=i;this.panelHide=o;this.panelClose=k;this.panelSetContents=
function(a,b){var c=$(a);if(c.length){c=$(".panelContents",c);typeof b==="string"?c.html(b):c.empty().append(b)}};this.showPromptDialog=function(a,b,c,d,h){p(a,b,"prompt",null,d,h)};this.showDialog=p;this.hideDialog=function(){var a=$("#GDPopupDialog");clearInterval(a.data("timer"));a.data("timer",setInterval("GD.dialogManager._fadeDialog(false)",GD.dialog.TIMER))};this.addCustomDialog=function(a,b,c,d,h,j,f,e,g){typeof b!="number"&&(b=-1);typeof c!="boolean"&&(c=true);typeof e!="function"&&(e=null);
typeof g=="undefined"&&(g=null);if(c){this.isAjaxDialog=false;this.ajaxTextStatus=this.ajaxData=null;this.fetchComplete=true;this.occlusionComplete=false;c=null;h&&(c=function(){GD.dialogManager.closeAllDialogs()});this.activeDialogList.push(new GD.dialog(a,b,this.CURRENT_Z_INDEX+1,d,h,j,f,e,g));GD.effects.occludePage(this._onOcclusionComplete,c,null,this.CURRENT_Z_INDEX);this.CURRENT_Z_INDEX=this.CURRENT_Z_INDEX+2}else{this.activeDialogList.push(new GD.dialog(a,b,this.CURRENT_Z_INDEX,d,h,j,f,e,g));
this.CURRENT_Z_INDEX++;this.getCurrentDialog().display()}};this.addAjaxDialog=function(a,b,c,d,h,j,f,e,g){typeof b!="number"&&(b=-1);typeof c!="boolean"&&(c=true);typeof e!="function"&&(e=null);typeof g=="undefined"&&(g=null);this.activeDialogList.push(new GD.dialog(null,b,this.CURRENT_Z_INDEX+1,d,h,j,f,e,g));this.isAjaxDialog=true;this.ajaxTextStatus=this.ajaxData=null;this.fetchComplete=false;if(c){this.occlusionComplete=false;GD.effects.occludePage(this._onOcclusionComplete,null,null,this.CURRENT_Z_INDEX);
this.CURRENT_Z_INDEX++}else this.occlusionComplete=true;this._fetchAjaxDialog(a);this.CURRENT_Z_INDEX++};this.getCurrentDialog=function(){return this.activeDialogList==null||this.activeDialogList.length==0?null:this.activeDialogList[this.activeDialogList.length-1]};this.deleteCurrentDialog=function(){if(!(GD.dialogManager.activeDialogList==null||GD.dialogManager.activeDialogList.length==0)){var a=GD.dialogManager.activeDialogList.pop();a.dialogElement.parentNode.removeChild(a.dialogElement)}};this.closeAllDialogs=
function(a){GD.dialogManager.deleteCurrentDialog();a||GD.effects.revealPage();return false};this._fetchAjaxDialog=function(a){var b=this;jQuery.ajax({url:a,dataType:"html",error:function(a,d){b._onFetchAjaxDialogComplete(null,d)},success:function(a,d){b._onFetchAjaxDialogComplete(a,d)}})};this._onOcclusionComplete=function(){var a=GD.dialogManager,b=a.getCurrentDialog(),c;a.occlusionComplete=true;if(a.fetchComplete)if(a.isAjaxDialog&&!a.ajaxData)a._displayAjaxError(a.ajaxTextStatus);else{if(a.isAjaxDialog)c=
a.ajaxData;b.display(c);if(typeof b.onLoadComplete=="function")b.onLoadComplete(b.getExtraData())}};this._onFetchAjaxDialogComplete=function(a,b){var c=this.getCurrentDialog();this.fetchComplete=true;this.ajaxData=a;this.ajaxTextStatus=b;if(this.occlusionComplete)if(a){c.display(a);if(typeof c.onLoadComplete=="function")c.onLoadComplete(c.getExtraData())}else this._displayAjaxError(b)};this._displayAjaxError=function(a){alert("There was a problem loading this dialog.  Please try again a little later. ('"+
a+"')");GD.effects.revealPage(null)};this._fadeDialog=function(a){typeof a!=="boolean"&&(a=true);var b=$("#GDPopupDialog"),a=a?b.data("alpha")+GD.dialog.SPEED:b.data("alpha")-GD.dialog.SPEED;b.data("alpha",a);b.css("opacity",a/100);b.css("filter","alpha(opacity="+a+")");if(a>=99){clearInterval(b.data("timer"));b.removeData("timer")}else if(a<=1){b.css("visibility","hidden");$("#GDPopupDialogMask").css("visibility","hidden");clearInterval(b.data("timer"))}}};
GD.dialog=function(q,l,i,o,k,p,a,b,c){typeof l==="undefined"&&(l=-1);typeof q==="undefined"&&(q="<div>dialog contents not specified</div>");typeof i==="undefined"&&(i=0);typeof o!=="boolean"&&(o=false);typeof k!=="boolean"&&(k=false);typeof p!=="string"&&(p=null);typeof b!=="function"&&(b=null);typeof c==="undefined"&&(c=null);this.width=l;this.dialogContents=this.dialogElement=null;this.zIndex=i;this.draggable=o;this.closeable=k;this.onClose=p;this.wrapperClass=a;this.onLoadComplete=b;this.extraData=
c;this.setContents=function(a){if(a&&a.jquery)this.contents=a;else if(typeof a==="string")this.contents=$(a);else if(a&&a.tagName)this.contents=$(a);else return;if(this.dialogContents&&typeof this.dialogContents==="object"){a=$(this.dialogContents);a.children();a.children().remove();a.append(this.contents)}};this.display=function(a){if(typeof this.dialogContents=="undefined"||this.dialogContents==null){a&&this.setContents(a);var b=$("<div class='gdDialog'>").css("zIndex",this.zIndex),a=$("<div class='dialogFrame dropShadow'>");
a.width(this.width>0?this.width:700);if(this.closeable){var c=$("<div class='closeBox'>"),f=this.onClose;c.click(function(){typeof f==="function"&&f();GD.dialogManager.closeAllDialogs()});c.css("zIndex",this.zIndex+1);a.append(c)}var e=b,c=$("<div>").css("min-height","50px");a.append(c);if(this.wrapperClass){e=$("<div>").addClass(this.wrapperClass);b.append(e)}e.append(a);k&&b.keypress(function(a){if(a.keyCode==27){a=this.onClose;typeof a==="function"&&a();GD.dialogManager.closeAllDialogs()}});b.hide();
$("body").append(b);this.dialogContents=c.get(0);this.dialogElement=b.get(0)}a=$(this.dialogContents);a.children().remove();a.append(this.contents);a=$(window).height();c=b.height();a=Math.round(a/2-c/2);a=a-Math.round(a*0.1);b.css({position:"fixed",top:a});b.show()};this.getExtraData=function(){return this.extraData};this.setContents(q)};"undefined"==typeof GD.dialogManager&&(GD.dialogManager=new GD.dialogManagerImpl);if("undefined"==typeof GD)var GD={};"undefined"==typeof GD.coach&&(GD.coach={});
GD.coach.cheer=function(d,b,a,f,k,h,i){d=id(d);typeof i!="boolean"&&(i=true);var c=b[a];if(typeof c=="object"){var a=b.$cheerPrefix,g=b.$cheerSuffix;typeof a!="string"&&(a="");typeof g!="string"&&(g="");if(i){c=c.messages;if(typeof c!="object")return;for(var e=false,j=c.length-1;j>=0;j--){var l=c[j];if(f>=l[0]){d.innerHTML=a+l[1]+g;e=true;break}}if(!e)d.innerHTML=""}else{e="";f<k?typeof c.tooFew=="string"&&(e=a+c.tooFew+g):h>0&&f>h&&typeof c.tooMany=="string"&&(e=a+c.tooMany+g);d.innerHTML=e}a=true;
f<k?a=false:h>0&&f>h&&(a=false);if(i)if(a){if(typeof b.$validColor=="string")d.style.color=b.$validColor}else{if(typeof b.$defaultColor=="string")d.style.color=b.$defaultColor}else if(a){if(typeof b.$validColor=="string")d.style.color=b.$validColor}else if(typeof b.$errorColor=="string")d.style.color=b.$errorColor}};if("undefined"===typeof GD)var GD={};"undefined"===typeof GD.overview&&(GD.overview={});GD.overview.initPage=function(){$(".employerSuppliedContent a, #OverviewFinancialInfo a").attr("target","_blank").attr("rel","nofollow");GD.overview.checkHashTag()};GD.overview.checkHashTag=function(){var a=window.location.hash;if(a&&a.startsWith("#")&&a.indexOf("-")>=0){a=a.split("-");if(a.length)switch(a[0].substr(1)){case "section":a.length>1&&GD.overview.showOverviewSection(a[1],true)}}};
GD.overview.showOverviewSection=function(a,b){var e=$("#WhyWorkForUsTabBar li span[class!=divider]"),f=$("#WhyWorkForUs .overviewSectionBody"),c=$("#WhyWorkForUsTab-"+a),d=$("#WhyWorkForUs-"+a);if(c.length&&d.length){e.addClass("link");c.removeClass("link");f.hide();d.show();b&&jQuery.scrollTo("#WhyWorkForUs",{axis:"y"})}return false};GD.overview.onNewsComplete=function(a,b){b>0&&$("#OverviewNews").slideDown(400)};if("undefined"===typeof GD)var GD={};"undefined"===typeof GD.fb&&(GD.fb={});GD.fb.UPDATE_FB_AUTH_URL="/profile/ajax/updateFacebookAuthAjax.htm";
GD.fb.getAuthState=function(){GD.fb.getFbLoginStatus(function(a,b){var c="",e=0,d="https://"+document.location.hostname;document.location.port&&document.location.port!="80"&&(d=d+":8443");d=d+GD.fb.UPDATE_FB_AUTH_URL;if(a==="connected"){c=b.authResponse.accessToken;e=b.authResponse.userID}jQuery.ajax({url:d,data:{token:c,socialId:e},dataType:"jsonp",success:function(){},error:function(){}})})};
GD.fb.initLinkSettings=function(a){$("div.fbSettings .linked span.link").click(function(){GD.fb.facebookDelink(a)});$("div.fbSettings .unlinked span.link").click(function(){GD.fb.facebookLink(a)});GD.fb.getFbLoginStatus(function(a){$("div.fbSettings .checking").hide();if(a==="connected"){$("div.fbSettings .unlinked").hide();$("div.fbSettings .linked").show()}else{Logger.debug("Facebook login response is :"+(a?a:"null"));$("div.fbSettings .unlinked").show()}})};
GD.fb.facebookLink=function(a){GD.fb.facebookLogin(a,"/profile/socialUserLink.htm",GD.dom.getDocUrl())};
GD.fb.onFacebookLink=function(a){var b=false;a&&a.status==="connected"&&(b=true);if(b){GD.analytics.trackPartnerAuth("facebook",true);jQuery.ajax({url:"/profile/socialUserLinkAjax.htm",data:{token:a.authResponse.accessToken,socialUid:a.authResponse.userID,socialNetwork:"FACEBOOK"},dataType:"json",success:function(a){if(a.redirectURL)GD.dom.clearWindowAndRedirect(a.redirectURL);else if(a.successful){$("div.fbSettings .unlinked").hide();$("div.fbSettings .linked").show()}else{if(!a.errorMessage)a.errorMessage=
"Something went wrong while authorizing you with Facebook.  Could you try again?";alert(a.errorMessage)}},error:function(){alert("Something went wrong while authorizing you with Facebook.  Could you try again?")}})}};GD.fb.facebookDelink=function(){GD.analytics.trackPartnerAuth("facebook",false);FB.api({method:"Auth.revokeAuthorization"},function(){GD.fb.onFacebookDelink()})};
GD.fb.onFacebookDelink=function(){jQuery.ajax({url:"/profile/delinkSocialUserAjax.htm",data:{socialNetwork:"FACEBOOK"},dataType:"json",success:function(a){if(a.loggedIn&&!a.redirectURL){$("div.fbSettings .linked").hide();$("div.fbSettings .unlinked").show()}else{if(!a.redirectURL)a.redirectUrl="/index.htm";GD.dom.clearWindowAndRedirect(a.redirectURL)}},error:function(){GD.dom.clearWindowAndRedirect("/index.htm")}})};
GD.fb.checkPublishStreamPermission=function(a){var b=false,c=10,e=setInterval(function(){if(c>0){c=c-1;try{FB.api("/me/permissions",function(c){Logger.inspect(c,"inviteHandler permissions check");if(!c||!c.data)Logger.inspect({error:"Error retrieving permissions from Facebook",data:c.data||c});else{b=c.data[0].publish_stream===1;clearInterval(e);a(b)}})}catch(d){Logger.inspect(d,"Bad permissions fetch")}}else{clearInterval(e);a(b)}},500)};
GD.fb.initFBWallPostInviteHandler=function(a,b){var c=new GD.fb.TrackingHandler("/track/ajax/invitationTracking.htm","FB_WALL_INVITE",function(a){GD.graph._updateProfileOnInvite(a)});return new GD.fb.FBWallPostInviteHandler({fbAuthToken:a,fbInviteParams:["link","picture","name","description","caption"],selector:"span.fbInviteBtn",$context:b,inviteTracker:c})};
GD.fb.FBWallPostInviteHandler=GD.Class({constructor:function(a){var b=this;b.fbAuthToken=a.fbAuthToken;if(a.fbInviteParams){var c=$("[data-fb-link]:first");if(!(c.length<1)){b.fbInviteParams={};for(var e=a.fbInviteParams,d=e.length,f,g=0,h;g<d;g++){f=e[g];(h=c.attr("data-fb-"+f).trim())&&(h=h.trim());b.fbInviteParams[f]=h}(a.$context?$(a.$context):$(a.selector)).bind("click keypress",function(c){c=$(c.target).closest(a.selector);c.length===1&&b.invite(c);return false});b.inviteTracker=a.inviteTracker;
b.hasPermission=false;GD.fb.checkPublishStreamPermission(function(a){if(a)b.hasPermission=true})}}},setFbInvited:function(a){a.closest(".fbInviteAction").addClass("fbInviteSent fbInvited")},setFbDailyLimit:function(a){a.closest(".fbInviteAction").addClass("fbInviteSent fbDailyLimit")},setFbError:function(a){a.closest(".fbInviteAction").addClass("fbInviteSent fbError")},success:function(a){Logger.inspect(a,"invite success");a=a.data.$btn;this.setFbInvited(a);this.inviteTracker.trackWallPostInvite(a.attr("data-to-sid"))},
error:function(a){Logger.inspect(a,"invite error");var b=a.data.$btn,c=a.error.message;c.indexOf("#200")!=-1?this.setFbInvited(b):c.indexOf("#341")!=-1?this.setFbDailyLimit(b):this.setFbError(b);Logger.logToServer("facebook wall post failed: "+a.error.message+" [fr="+b.attr("data-from-gid")+",to="+b.attr("data-to-gid")+"]",Logger.ERROR)},handleResponse:function(a){!a||a.error?this.error(a):this.success(a)},invite:function(a){this.hasPermission!==true?this.promptToSendWallPost(a):this.sendWallPost(a)},
promptToSendWallPost:function(a){Logger.debug("sending publish_stream permissions.request for wall post invite");var b=this,c={method:"permissions.request",perms:"publish_stream",display:"popup"};try{FB.ui(c,function(d){if(d.perms===c.perms){b.hasPermission=true;b.sendWallPost(a)}})}catch(e){Logger.debug(e.message)}},sendWallPost:function(a){var b=this,c=a.attr("data-to-sid"),e=b.fbAuthToken,d=b.fbInviteParams;Logger.debug("sending invite to Facebook sid: "+c);var f={url:"/"+c+"/feed?access_token="+
e,method:"post",params:d,$btn:a,callback:function(a){a||(a={error:"empty response"});a.data=f;b.handleResponse(a);delete b;delete f}};try{FB.api(f.url,f.method,f.params,f.callback)}catch(g){Logger.error(g.message)}}});
GD.fb.initFbSendDialog=function(a){function b(a){d&&d.close();d=window.open("","Send_Message",e);d.location=c+a;d.focus()}var c="https://www.facebook.com/dialog/send?app_id="+a+"&link=https://apps.facebook.com/glassdoor&name=Sent via Glassdoor - it's an inside look at jobs and companies&description=Get access to salaries, reviews and your inside connections&redirect_uri="+document.location.protocol+"//"+document.location.host+"/Connections/sendMessage/complete.htm&to=",e="height=400, width=900, left=100, top=100, scrollbars=yes",
d;$(".fbSendDialogLink").bind("click keypress",function(){b($(this).attr("data-to"));return false});return b};
GD.fb.FeedDialog=GD.Class({constructor:function(a){this.feedTracker=a},bind:function(a,b){a.bind("click keypress",b)},promptToFeed:function(a,b){GD.effects.occludePage();GD.fb.fbRootReset();var c=this;FB.ui({method:"feed",link:a.data("fbFeedLink"),picture:a.data("fbFeedPicture"),name:a.data("fbFeedName"),caption:a.data("fbFeedCaption"),description:a.data("fbFeedDescription")},function(e){GD.effects.revealPage();c.handleFbResponse(e,a,"_PREVIEW");typeof b=="function"&&b(e)})},postToFeed:function(a,
b){var c=this,e={link:a.data("fbFeedLink"),picture:a.data("fbFeedPicture"),name:a.data("fbFeedName"),caption:a.data("fbFeedCaption"),description:a.data("fbFeedDescription")};FB.api("/me/feed","post",e,function(d){c.handleFbResponse(d,a,"_AUTO");typeof b=="function"&&b(d)})},handleEmptyResponse:function(){Logger.error("No response from Facebook - post probably cancelled.")},handleFbResponse:function(a,b,c){if(a){Logger.inspect(a);var e=b.data("eventType");e==="NEW_USER_WALL_POST"&&(e=e+c);a.eventType=
e;a.sid=b.data("sid");var d;a.error?d="fb wallpost failed: c="+a.error.code+",m="+a.error.message+" [fr="+b.data("gid")+"]":a.error_code&&a.error_msg&&(d="fb wallpost failed: c="+a.error_code+",m="+a.error_msg+" [fr="+b.data("gid")+"]");d?this.handleFbError(d):this.handleFbSuccess(a)}else this.handleEmptyResponse()},handleFbError:function(a){Logger.error("GD.fb.FeedDialog: "+a);Logger.logToServer(a,LOGGER.ERROR)},handleFbSuccess:function(a){this.feedTracker.trackWallPostFeed(a.sid,a.eventType)}});
GD.fb.initFbFeedDialogLink=function(){var a=new GD.fb.TrackingHandler("/track/ajax/invitationTracking.htm"),b=new GD.fb.FeedDialog(a);b.bind($("a.fbFeedDialogLink"),function(){b.promptToFeed($(this));return false});return b};GD.fb.initUserAlertConnections=function(){$("#UserAlertContinueBtn").on("click keypress",function(){GD.userAlert.closePopup()});$("#UserAlertSocialNetworkLinked .closeBox").click(function(){GD.userAlert.closePopup()})};if("undefined"===typeof GD)var GD={};"undefined"===typeof GD.fb&&(GD.fb={});GD.fb.INCLUDE_FRIENDS_AJAX_URL="/member/ajax/includeFriendsAjax.htm";GD.fb.INCLUDE_FRIENDS_TRACKING_AJAX_URL="/track/ajax/invitationTracking.htm";GD.fb.INCLUDE_FRIENDS_THROTTLING_AJAX_URL="/track/ajax/invitationThrottling.htm";GD.fb.INCLUDE_FRIENDS_COMPLETE_CHECK_PACING_MILLIS=500;GD.fb.MAX_FRIEND_LOAD_ATTEMPTS=40;GD.fb.NETWORK_ID_PREFIX="Network-";
GD.fb.initIncludeFriendsPage=function(a,b){var e=$("body").is(".mobile"),c=$("div#IncludeFriends"),d=c.data("maxNetworksShown"),f=new GD.fb.IncludeFriendsView(e,a),c=$("div.network",c);f.initNetworks(c);var c=new GD.fb.TrackingHandler(GD.fb.INCLUDE_FRIENDS_TRACKING_AJAX_URL,"FB_APP_REQUEST"),c=new GD.fb.FBAppRequestHandler(e,c),g=null;a&&f.updateProgressBar();b||(g=new GD.fb.InviteFriendsLoader(a,b,d,GD.fb.INCLUDE_FRIENDS_AJAX_URL,GD.fb.INCLUDE_FRIENDS_COMPLETE_CHECK_PACING_MILLIS,GD.fb.MAX_FRIEND_LOAD_ATTEMPTS));
var h=new GD.fb.IncludeFriendsController(e,c,g,f,a,b);$("#SkipPage .loaded a").on("click",function(a){h.onNextButton(a)});$("#IncludeFriends div.friendAddedBox img.closeBox").on("click",function(a){h.closePromoBox(a)})};
GD.fb.IncludeFriendsController=GD.Class({constructor:function(a,b,e,c,d,f){var g=this;g.isMobile=a;g.isAllFriendsLoaded=d;g.isFriendsLoaded=d;g.isFinishedLoading=f;g.requestHandler=b;g.friendsLoader=e;g.view=c;g.$includeFriends=$("div#IncludeFriends");g.$includeFriends.data("endGame",false);b.bind("requestComplete",function(a){g.handleRequestComplete(a)});b.bind("requestCancel",function(){g.view.updateProgressBar()});c.bind("sendRequest",function(a){g.handleSendRequest(a)});if(!d){e.bind("friendsLoaded",
function(a){g.handleFriendsLoaded(a)});GD.fb.getFriends(function(a,b){g.handleAllFriendsLoaded(a,b)},"id,name,installed,picture")}if(!f){e.bind("finishedLoading",function(){g.view.handleFinishedLoading()});e.poll(f)}},handleAllFriendsLoaded:function(a,b){if(!this.isAllFriendsLoaded&&a){this._getThrottlingList(a);this.view.initAllFriends(a);this.isAllFriendsLoaded=true;if(this.isFriendsLoaded)this.onAllNetworksLoaded(true)}!a&&b&&Logger.warn('handleAllFriendsLoaded got error: "'+b+'". Probably because access token expired.')},
handleFriendsLoaded:function(a){if(!this.isFriendsLoaded){if(!this.isAllFriendsLoaded&&a.friends&&a.friends.length){this.view.initAllFriends(a.friends,a.facepileFriends,a.friendsUsingGdCount);this.isAllFriendsLoaded=true}var b=a&&a.invitableFriendsCount>0;this.isFriendsLoaded=true;if(b)this.view.initFriends(a,this.isAllFriendsLoaded);else this.onPageComplete(true);this.onAllNetworksLoaded(b)}},onAllNetworksLoaded:function(a){this.friendsLoader.setFinishedLoading();this.view.onAllNetworksComplete(a)},
handleSendRequest:function(a){this.requestHandler.sendRequest(a,this.view)},handleRequestComplete:function(a){var b=this.$includeFriends.data("endGame"),e=true;if(a)if(e=this.view.updateInvitedFriends(a)){var c=0;this.view.updateProgressBar(true,true);if(!this.isMobile){c=$("#"+GD.fb.NETWORK_ID_PREFIX+a.networkId);c=$("div.networkFriendsList div.notInvited",c);c=$("input:checked",c).length}if(c>0)this.view.doAppRequests(this.view.$currentInviteNetwork,false);else if(!b)this.view.onInvitesComplete()}if(a&&
!e)this.onPageComplete(b);else if(b)this.onPageComplete(!a)},onNextButton:function(a){GD.analytics.trackEvent(this.view.SOCIAL_CLICKS_CATEGORY,"next-button");a.preventDefault();this.onPageComplete()},closePromoBox:function(a){var b=$(a.target).closest("div.promoBox");b.hide("blind",400,function(){b.remove()})},onPageComplete:function(a){var b=this.$includeFriends.data("facebookHosted"),e=this.$includeFriends.data("newUser"),c=this.$includeFriends.data("endGame"),d;if(c)a&&(d=!e||f||b?this.$includeFriends.data("nextUrl"):
this.$includeFriends.data("nextUrlWithoutInvitesOnGd"));else{var f=this.$includeFriends.data("invitedFriendsCount")>0;if(a||f||!e)d=this.$includeFriends.data("nextUrl");else if(!c&&e&&!this.isMobile){this.$includeFriends.data("endGame",true);this.view.doAppRequests($("#Network-All"),true,true)}else d=b?this.$includeFriends.data("nextUrl"):this.$includeFriends.data("nextUrlWithoutInvitesOnGd")}if(d){this.view.updateProgressBar(false);GD.dom.loadUrl(d,"_top")}},_getThrottlingList:function(a){var b=
this;if(a.length){for(var e=GD.fb.INCLUDE_FRIENDS_THROTTLING_AJAX_URL,c="",d=0;d<a.length;++d){d>0&&(c=c+",");c=c+a[d].id}jQuery.ajax({type:"POST",url:e,data:{sourceIds:c},success:function(a){b._onThrottlingListComplete(a)},error:function(a,b,c){Logger.error("Request failed to URL ("+e+').  Error thrown is "'+c+'"')}})}},_onThrottlingListComplete:function(a){a&&a.throttledSourceIds&&a.throttledSourceIds.length&&this.view.setThrottledSourceIds(a.throttledSourceIds);return true}});
GD.fb.InviteFriendsLoader=GD.Class({constructor:function(a,b,e,c,d,f){this.ajaxUrl=c;this.attemptIntervalMs=d;this.maxAttempts=f;this.isFriendsLoaded=a;this.isFinishedLoading=b;this.maxNetworksShown=e},setFinishedLoading:function(){this.isFinishedLoading=true;this.onFinishedLoading()},onFriendsLoaded:function(a){Logger.inspect(a,"GD.fb.InviteFriendsLoader.onFriendsLoaded() expected to be re-defined by the controller via 'bind'")},onFinishedLoading:function(){Logger.warn("GD.fb.InviteFriendsLoader.onFinishedLoading() expected to be re-defined by the controller via 'bind'")},
bind:function(a,b){if(typeof b!="function")throw Error("FBAppRequestHandler#bind() expects function argument");switch(a){case "friendsLoaded":this.onFriendsLoaded=b;break;case "finishedLoading":this.onFinishedLoading=b;break;default:throw Error("InviteFriendsLoader#bind() unexpected method: '"+a+"'");}},poll:function(){var a=this,b={url:GD.util.getAjaxUrlRespectingSecurity(a.ajaxUrl),dataType:"json",data:{friendsNeeded:!a.isFriendsLoaded,maxNetworks:a.maxNetworksShown},success:function(b){b||Logger.error("No data returned for GD.fb.InviteFriendsLoader.poll()");
a.process(b)},error:function(b,c,d){Logger.inspect(d,"GD.fb.InviteFriendsLoader.poll() error: "+c);a.process(null)}};jQuery.ajax(b)},process:function(a){var b=this;if(a&&a.friendsLoaded&&!b.isFriendsLoaded){b.isFriendsLoaded=a.isFriendsLoaded;b.onFriendsLoaded(a)}if(a&&a.finishedLoading&&!b.isFinishedLoading){b.isFinishedLoading=true;b.onFinishedLoading()}if(b.maxAttempts<=0){if(!b.isFriendsLoaded){b.isFriendsLoaded=true;b.onFriendsLoaded()}if(!b.isFinishedLoading){b.isFinishedLoading=true;b.onFinishedLoading()}}else if(!b.isFinishedLoading){b.maxAttempts=
b.maxAttempts-1;setTimeout(function(){b.poll()},b.attemptIntervalMs)}}});
GD.fb.IncludeFriendsView=GD.Class({INCLUDE_BTN_ID_PREFIX:"IncludeBtn-",FRIEND_CHK_ID_PREFIX:"Friend-",FACEBOOK_FRIENDS_SUFFIX:"All",SOCIAL_CLICKS_CATEGORY:"social-clicks",MAX_NUMBER_OF_LOGO_FRIENDS:5,PROGRESS_FLOATING_GAP:30,PROGRESS_BAR_ANIMATION_TIME:600,HEADER_FLOATING_TIMEOUT:250,MAX_FACEPILE_FRIENDS:8,constructor:function(a,b){this.isMobile=a;this.isFriendsLoaded=b;this.$includeFriends=$("div#IncludeFriends");this.maxNetworksShown=this.$includeFriends.data("maxNetworksShown");this.batchMaximum=
this.$includeFriends.data("fbBatchMaximum");this.$includeFriends.data("invitedFriendsCount",0);this.$currentInviteNetwork=this.throttledSourceIds=null},initNetworks:function(a){var b=this;if(!b.isMobile)$(".toggle",a).not(".allUsers").on("click",function(){var a=$(this).closest("div.network"),a=$(".networkFriendsList",a);b.toggleFriendsList(a)});a=$(".listAction.gdBtn",a);a.each(function(){var a=$(this),c=a.closest("div.network").data("networkId");a.attr("id",b.INCLUDE_BTN_ID_PREFIX+c)});a.bind("click keypress",
function(a){b.doAppRequests($(this).closest("div.network"),true);a.preventDefault()})},doAppRequests:function(a,b){this.$currentInviteNetwork=a;var e=a.attr("id").split("-")[1],c=$("div.networkFriendsList",a),c=$("div.notInvited",c),d=$("input:checked",c),f=d.length;if(f<1)alert("Please select some friends to invite from "+$(".title h3",a).text()+".");else{var g=GD.dom.getDocUrl(),c="new_user";~g.indexOf("utm_source=")&&(c=g.split("utm_source=")[1].split("&")[0]);g="ADD_NEXT_BATCH";if(b){this.isMobile||
GD.effects.occludePage(null,null,null,null,0.95);this.updateProgressBar(true);var h=a.data("networkType"),j="include-them-",i=a.data("networkName");i||(i="<unknown>");switch(h){case "FACEBOOK_FRIENDS":j=j+"all";g="ADD_ALL_FRIENDS";break;case "GRAPH_EMPLOYER":j=j+"work";g="ADD_WORK_FRIENDS";break;case "GRAPH_SCHOOL":j=j+"school";g="ADD_SCHOOL_FRIENDS";break;default:j=j+"unknown-type"}GD.analytics.trackEvent(this.SOCIAL_CLICKS_CATEGORY,j,i)}i=0;h=[];for(j=[];i<f;){var k=$(d[i]).closest("div.friend"),
l=k.data("sid");if(this.throttledSourceIds&&this.throttledSourceIds.indexOf(l)>=0)this._updateInvitedFriend(k);else{j[j.length]=k.data("gid");h[h.length]=l;if(h.length===this.batchMaximum)break}i=i+1}i=this.$includeFriends.data("endGame");d=a.data("friendsCount");f=a.data("invitedFriendsCount");if(f>0){i=a.data("fbTitle2");i=i.replace("{invites}",f.addCommas()).replace("{potential}",d.addCommas())}else i=i?a.data("fbTitleEndGame"):a.data("fbTitle");d=a.data("fbMessage");if(~d.indexOf(this.FACEBOOK_FRIENDS_COUNT_TEMPLATE)){d=
d.replace(this.FACEBOOK_FRIENDS_COUNT_TEMPLATE,this.$includeFriends.data("invitableFriendsCount"));a.data("fbMessage",d)}Logger.info("GD.fb.IncludeFriendsController:doAppRequests: sending request to FB");this.onSendRequest({networkId:e,toGids:j,toSids:h,message:a.data("fbMessage"),title:i,entry:c,triggerButton:g})}},setThrottledSourceIds:function(a){this.throttledSourceIds=a},onSendRequest:function(){Logger.warn("friendsView.onSendRequest() expected to be re-defined by the controller")},bind:function(a,
b){if(typeof b!="function")throw Error("IncludeFriendsView#bind() expects function argument");switch(a){case "sendRequest":this.onSendRequest=b;break;default:throw Error("IncludeFriendsView#bind() unexpected method: '"+a+"'");}},initFriends:function(a,b){if(a&&a.invitableFriendsCount>0){var e=a.networksWithFriends;this.$includeFriends.data("invitableFriendsCount",a.invitableFriendsCount);this.$includeFriends.data("friendsUsingGdCount",a.friendsUsingGdCount);if(!b){var c=$("#"+GD.fb.NETWORK_ID_PREFIX+
this.FACEBOOK_FRIENDS_SUFFIX);this.addAllFriendsLogo(a.facepileFriends,friendsUsingGdCount);this.finalizeNetworkActions(c,true)}for(c=0;c<e.length;++c)this.addNetworkFriends(e[c],false);this.finalizeNetworks()}},initAllFriends:function(a,b,e){var c=0;e||(e=0);if(b)c=a.length;else if(a){for(var b=[],d=[],c=0;c<a.length;c++){e=a[c];e.installed?b[b.length]=e:d.push(e)}c=d.length;e=b.length;a=d}this.$includeFriends.data("invitableFriendsCount",c);this.$includeFriends.data("friendsUsingGdCount",e);if(e>
0){if(!b){b=[];for(d=0;d<a.length;d++)a[d].installed&&(b[b.length]=a[d])}this.addAllFriendsLogo(b,e)}this.finalizeNetworkActions($("#"+GD.fb.NETWORK_ID_PREFIX+this.FACEBOOK_FRIENDS_SUFFIX),true);b={};b.invitableFriendsCount=c;b.friends=a;this.addNetworkFriends(b,true);c>0&&this.updateProgressBar(false)},addNetworkFriends:function(a,b){if(!a.friends||a.friends.length<0){Logger.error("error adding network friends");return false}var e=b?this.FACEBOOK_FRIENDS_SUFFIX:a.sourceId,c=$("#"+GD.fb.NETWORK_ID_PREFIX+
e),d=$(".toggle",c),f=0,g=a&&a.invitableFriendsCount>0;networkName=$(".title h3",c).text().trim();if(g){c.data("friendsCount",a.invitableFriendsCount);f=a.invitableFriendsCount.addCommas();g=c.data("fbMessage");g=g.replace(this.FACEBOOK_FRIENDS_COUNT,this.$includeFriends.data("invitableFriendsCount"));c.data("fbMessage",g)}b||$(".count",d).html(f);a.friends.length==1&&$(".plural",d).hide();c=$(".networkFriendsList",c);this.addFriendsList(e,c,a.friends);d.removeClass("hidden")},addAllFriendsLogo:function(a,
b){for(var e=$("#"+GD.fb.NETWORK_ID_PREFIX+this.FACEBOOK_FRIENDS_SUFFIX),c=$("div.logo",e),d=Math.min(a.length,this.MAX_NUMBER_OF_LOGO_FRIENDS),f=0;f<d;f++){var g=a[f],h=$("<img class='avatar'>");h.attr("src",g.avatarSqThumbUrl||g.picture);g.name&&h.attr("title",g.name);$(".tinyAvatars",c).append(h)}d=$(".toggle",e);c=$(".count",d);d=$(".message",d);if(!this.isMobile&&d.length>0){f=d.data("predicate");g=a.length!==1?d.data("subject"):d.data("singular");c.html(b).show().removeClass("hidden");d.html(g+
f)}e.removeClass("emptyNetwork")},addFriendsList:function(a,b,e){var c=b.closest("div.network"),d=$("#NetworkFriendsListTmpl .friendTmpl").clone(true),f=null,g=false;d.removeClass("friendTmpl");c.data("uninvitedFriendsCount",e.length);for(var c=0,h,j,i,k,l;c<e.length;++c){i=e[c];j=i.sourceId||i.id;k=this.FRIEND_CHK_ID_PREFIX+a+"-"+j;h=d.clone();h.data({sid:j,gid:i.id});h.attr("sid",j);if(l=c%2===0){f=$("<div class='row'>");g&&f.addClass("oddRow");h.addClass("firstInRow")}else g=!g;j=$("label",h);
j.attr("for",k);$(":checkbox",h).attr("id",k);$("span",j).text(i.name);f.append(h);if(!l){b.append(f);f.append("<div class='clear'></div>");f=null}}if(f){f.append("<div class='clear'></div>");b.append(f)}},toggleFriendsList:function(a){if(!a.is(":animated")){var b=a.is(":visible");a.closest(".network");b?a.hide("blind",null,"fast"):a.show("blind",null,"fast")}},handleFinishedLoading:function(){this.finishedLoading=true},updateProgressBar:function(a,b){var e=$("#ProgressBarHeader"),c=$("div.progressBar",
e),d=$(".contents",c),f=this.$includeFriends.data("friendsUsingGdCount"),g=this.$includeFriends.data("invitedFriendsCount"),h=this.$includeFriends.data("invitableFriendsCount");if(h>0&&GD.isNumber(f)&&GD.isNumber(g)){h=f+h;g=(f+g)/h*100;g=g>99?100:g>0&&g<1?1:Math.floor(g);f=f/h*100;f>0&&f<1&&(f=1);this.totalInvitedFriendsPercent=g-f;$("div.existingFriends",c).css("width",f+"%");f=$("#Network-All .action .listActionAll .btnLabel");if(f.length){h=f.html();h=h.replace(/\d+/,100-Math.floor(g));f.html(h)}if(this.totalInvitedFriendsPercent>
0){f=$("div.newFriends",c);f.show();f.animate({width:this.totalInvitedFriendsPercent+"%"},this.PROGRESS_BAR_ANIMATION_TIME)}$("p.msg",d).hide();if(g<=0)$("p.percent0",d).show();else if(g<=20){f=$("p.percentTo20",d);$("span.num",f).html(g);f.show()}else if(g>99)$("p.percent100",d).show();else{f=g>95?$("p.percentOver95",d):$("p.floatingPercentage",d);$("span",f).html(g);f.show()}if($("div.tick:visible:first",c).length==0){g=$(".tickTmpl",d);f=d.width();for(h=1;h<10;h++){var j=Math.floor(f*0.1*h),i=
g.clone();i.css("left",j);i.removeClass("hidden tickTmpl");d.prepend(i)}}c.is(":hidden")&&c.show();b||this.positionProgressBar(a,e)}},positionProgressBar:function(a,b,e){var c=this;if(!c.isMobile){if(!b||b.length==0)b=$("#ProgressBarHeader");if($("div.progressBar",b).is(":visible"))if(a){var d;e&&e.isChildOf("body")&&(d=e.offset());if(d&&d.top>=0&&d.left>=0){d=e.offset();var f=d.top-(b.height()+c.PROGRESS_FLOATING_GAP),e=d.left+(e.width()-b.width())/2;if(c.headerTop!=f||c.headerLeft!=e)if(f>0){if(b.parent().is("div.headerHolder")){$("body").append(b);
b.css({zIndex:5E3,top:f,left:e})}else b.css({top:f,left:e});c.headerTop=f;c.headerLeft=e;if(c.floatingHeaderPositionTimeout){clearTimeout(c.floatingHeaderPositionTimeout);c.floatingHeaderPositionTimeout=null}}else{if(b.parent().is("body")){b.appendTo(".headerHolder",c.$includeFriends);b.css({zIndex:"auto",top:0,left:0})}c.headerTop=-99999;c.headerLeft=-99999}}else{var e=$("body #fb-root div.fb_dialog iframe.FB_UI_Dialog"),g=null;if(e.length>1)for(f=0;f<e.length;f++){var h=$(e[f]);d=h.offset();if(d.top>=
0&&d.left>=0){g=h;break}}else g=e;c.headerTop=-99999;c.headerLeft=-99999;if(!g||!g.length)g=null;c.floatingHeaderPositionTimeout=setTimeout(function(){c.positionProgressBar(a,b,g)},c.HEADER_FLOATING_TIMEOUT)}}else{if(c.floatingHeaderPositionTimeout){clearInterval(c.floatingHeaderPositionTimeout);c.floatingHeaderPositionTimeout=null}e=$(".headerHolder",c.$includeFriends);if(!b.isChildOf(e)){b.appendTo(e);b.css({zIndex:"auto",top:0,left:0})}}}},finalizeNetworks:function(){var a=this;$networksContainer=
$("#IncludeFriendsNetworks .networks",a.$includeFriends);var b=[];$("div.network",$networksContainer).each(function(){var c=$(this);if(c.data("friendsCount")<=0){var f=$(".title h3",c).text().trim();Logger.debug("Removing empty network: "+f);c.remove()}else{c.hide();b.push({network:c,count:c.data("friendsCount")});a.finalizeNetworkActions(c)}});if(b.length>0){b.sort(function(a,b){return b.count-a.count});b.length>0&&$(".networksSeparator").fadeIn(250);for(var e=0;e<b.length;e++){var c=b[e].network;
$networksContainer.append(c);c.fadeIn(250).removeClass("hidden")}}},finalizeNetworkActions:function(a,b){if(b){a.fadeIn(250).removeClass("hidden");this.onAllNetworksComplete(this.$includeFriends.data("invitableFriendsCount")>0)}$(".action .loading",a).hide();$(".action .notComplete",a).show()},onAllNetworksComplete:function(a){if(a){var b=$("#SkipPage .loaded");b.hide();$("#SkipPage .notLoaded").fadeOut(function(){b.fadeIn()})}},updateInvitedFriends:function(a){var b=this,a=a.toSids,e=$("#IncludeFriendsNetworks div.network",
b.$includeFriends),c=$("div.networkFriendsList",e),d=b.$includeFriends.data("invitedFriendsCount");b.$includeFriends.data("invitedFriendsCount",d+a.length);for(var d=0,f;d<a.length;++d){f=$("div.friend[sid="+a[d]+"]",c);f.length&&f.each(function(){b._updateInvitedFriend($(this))})}var g=false;e.each(function(){$(this).data("uninvitedFriendsCount")>0&&(g=true)});if(!g)b.onInvitesComplete();return g},_updateInvitedFriend:function(a){a.removeClass("notInvited").addClass("invited");$(":checkbox",a).prop("disabled",
true);a=a.closest("div.networkFriendsList").closest(".network");a.data("invitedFriendsCount",a.data("invitedFriendsCount")+1);var b=a.data("uninvitedFriendsCount")-1;a.data("uninvitedFriendsCount",b);b<=0&&this.showCompletedNetwork(a)},onInvitesComplete:function(){if(this.floatingHeaderPositionTimeout){clearInterval(this.floatingHeaderPositionTimeout);this.floatingHeaderPositionTimeout=null}this.updateProgressBar(false);this.isMobile||GD.effects.revealPage();this.$currentInviteNetwork=null},showCompletedNetwork:function(a){var b=
$("div.action",a),a=$(".notComplete",b);a.is(":visible")&&!a.is(":animated")&&$(".notComplete",b).fadeOut(400,function(){$(".complete",b).fadeIn(400)})}});
GD.fb.FBAppRequestHandler=GD.Class({constructor:function(a,b){this.isMobile=a;this.tracker=b;this.$includeFriends=$("div#IncludeFriends")},onRequestComplete:function(){Logger.warn("GD.fb.FBAppRequestHandler.onRequestComplete(): expected to be re-defined by the controller via 'bind'")},onRequestCancel:function(){Logger.warn("GD.fb.FBAppRequestHandler.onRequestCancel(): expected to be re-defined by the controller via 'bind'")},bind:function(a,b){if(typeof b!="function")throw Error("GD.fb.FBAppRequestHandler.bind() expects function argument");
switch(a){case "requestComplete":this.onRequestComplete=b;break;case "requestCancel":this.onRequestCancel=b;break;default:throw Error("FBAppRequestHandler#bind() unexpected method: '"+a+"'");}},sendRequest:function(a,b){var e=this;e.isMobile||GD.fb.fbRootReset();var c=!document.location.port||document.location.port=="80"?"dialog":"popup";e.isMobile&&(c=null);FB.ui({display:c,method:"apprequests",new_style_message:true,message:a.message,title:a.title,to:""+a.toSids},function(c){if(c){c.networkId=a.networkId;
c.toGids=a.toGids;c.toSids=a.toSids;c.entry=a.entry;c.triggerButton=a.triggerButton}e.handleResponse(c,b)})},handleResponse:function(a,b){Logger.debug("server response recieved");if(a&&!a.error&&!a.error_code&&!a.error_msg){this.tracker.trackAppRequest(a);this.onRequestComplete(a)}else if(this.$includeFriends.data("endGame")){this.onRequestCancel(a);this.onRequestComplete(a)}else{a?this.error(a):Logger.debug("GD.fb.FBAppRequestHandler.handleResponse(): fbResponse is null -- probably cancelled");b.onInvitesComplete()}},
error:function(a){Logger.inspect(a,"GD.fb.FBAppRequestHandler.error(): app request error");a="fb apprequest failed: c="+a.error_code+",m="+a.error_msg+" [fr="+response.authResponse.userID+", to="+a.toSids+"]";Logger.error("GD.fb.FBAppRequestHandler.error(): "+a);Logger.logToServer(a,LOGGER.ERROR)}});if("undefined"===typeof GD)var GD={};"undefined"===typeof GD.fb&&(GD.fb={});GD.fb.LOGIN_TIMEOUT=5E3;
GD.fb.getFbLoginStatus=function(b,a){Logger.info("GD.fb.getFbLoginStatus() enter");if(typeof b!=="function")Logger.fatal("GD.fb.getFbLoginStatus() required callback function param.");else{var c,d=false;c=setTimeout(function(){d=true;Logger.info("FB.getLoginStatus timed out");b(null)},GD.fb.LOGIN_TIMEOUT);FB.getLoginStatus(function(a){clearTimeout(c);if(!d)if(a&&a.status){Logger.info('FB.getLoginStatus returned "'+a.status+'"');b(a.status,a)}else{Logger.info("FB.getLoginStatus returned null");b(null,
a)}},a);Logger.info("GD.fb.getFbLoginStatus() exit")}};
GD.fb.getFriends=function(b,a,c,d){typeof b!=="function"&&Logger.error("GD.fb.getFriends should be called with a handler function.");a||(a="id,name");typeof c!=="number"&&(c=5E3);GD.fb.getFbLoginStatus(function(e,g){if(e=="connected"){var f="/me/friends?fields="+a;g&&g.authResponse&&g.authResponse.accessToken&&(f=f+("&limit="+c+"&access_token="+g.authResponse.accessToken));d&&typeof d==="number"&&(f=f+("&offset="+d));FB.api(f,function(a){b(a.data)})}else b(null,"not connected")})};
GD.fb.authLoginSubscribed=!1;GD.fb.FB_LOGIN_BTN_OK="fbLoginBtnOK";GD.fb.initLoginButtons=function(b,a,c){if(!GD.fb.authLoginSubscribed){FB.Event.subscribe("auth.login",function(){GD.fb._onFacebookLogin(null,a,c)});GD.fb.authLoginSubscribed=true}$(".fbSigninBtnLink, .facebookLoginBtn, .facebookJoinNowBtn").not("."+GD.fb.FB_LOGIN_BTN_OK).click(function(){GD.fb.facebookLogin(b,a,c)}).addClass(GD.fb.FB_LOGIN_BTN_OK)};
GD.fb.facebookLogin=function(b,a,c){try{GD.fb._doFacebookLoginPopup(b,a,c)}catch(d){Logger.error("GD.fb.facebookLogin: 'FB.getLoginStatus' threw message: "+d)}};GD.fb._doFacebookLoginPopup=function(b,a,c){FB.login(function(b){GD.fb._onFacebookLogin(b,a,c)},{scope:b})};
GD.fb._onFacebookLogin=function(b,a,c){var d=false;b&&b.authResponse&&(b.status==="connected"?d=true:b.status==="not_authorized"&&(d=true));if(d){GD.analytics.trackPartnerAuth("facebook",true);a=a.indexOf("?")<0?a+"?":a+"&";a=a+("socialNetwork=FACEBOOK&token="+b.authResponse.accessToken+"&socialUid="+b.authResponse.userID+"&signedRequest="+b.authResponse.signedRequest+"&midTx=false");c&&(a=a+("&u="+encodeURIComponent(c)));GD.dom.clearWindowAndRedirect(a)}};
GD.fb.TrackingHandler=GD.Class({SOCIAL_INVITATION_CATEGORY:"social-invitation",constructor:function(b,a,c,d){this.trackingUrl=b;this.eventType=a;this.success=typeof c=="function"?c:this.success;this.error=typeof d=="function"?d:this.error},success:function(b){Logger.debug("GD.fb.TrackingHandler: tracking success: "+b)},error:function(b){Logger.debug("GD.fb.TrackingHandler: tracking error: "+b)},trackAppRequest:function(b){var a=b.request,c=b.toSids;if(typeof a=="string"||typeof a=="number"){typeof c==
"string"&&(c=c.split(","));if({}.toString.call(c)!="[object Array]")Logger.error("GD.fb.TrackingHandler: Expected 'toSids' field in FB response to be an array.");else{for(var a="invitationType="+this.eventType,d=0;d<c.length;++d)a=a+("&sourceId="+c[d]);b.entry&&(a=a+("&entry="+b.entry));b.triggerButton&&(a=a+("&triggerButton="+b.triggerButton));GD.analytics.trackEvent(this.SOCIAL_INVITATION_CATEGORY,this.eventType,null,c.length);jQuery.ajax({url:this.trackingUrl,type:"POST",data:a,success:function(a){Logger.debug("GD.fb.TrackingHandler: trackAppRequest success: "+
a)},error:function(a,b,c){Logger.debug("GD.fb.TrackingHandler: trackAppRequest error: "+c)}})}}else Logger.error("GD.fb.TrackingHandler: Expected 'data.request' field in FB response to be a string or number.")},trackWallPostInvite:function(b){var a=this;GD.analytics.trackEvent(a.SOCIAL_INVITATION_CATEGORY,a.eventType);jQuery.ajax({url:a.trackingUrl,type:"POST",dataType:"json",data:{invitationType:a.eventType,sourceId:b},success:function(c){c.sourceId=b;c.success?a.success(c):a.error(c);delete a},
error:function(c,d,e){a.error({sourceId:b,textStatus:d,errorThrown:e});delete a}})},trackWallPostFeed:function(b,a){GD.analytics.trackEvent(this.SOCIAL_INVITATION_CATEGORY,a);jQuery.ajax({url:this.trackingUrl,type:"POST",dataType:"json",data:{invitationType:a,sourceId:b},success:function(a){Logger.debug("GD.fb.TrackingHandler: trackWallPostFeed success: "+a)},error:function(a,b,e){Logger.debug("GD.fb.TrackingHandler: trackWallPostFeed error: "+e)}})}});
GD.fb.fbRootReset=function(){var b=$("#fb-root").get(0);b.style.position="absolute";b.scrollIntoView(false);b.style.position="fixed"};window.GD=window.GD||{};GD.graph=GD.graph||{};GD.graph.BASIC_INFO_UPDATE_URL="/Resume/ajax/editGraphUser.htm";GD.graph.EDU_INSERT_URL="/Resume/ajax/editEducation_insert.htm";GD.graph.EDU_UPDATE_URL="/Resume/ajax/editEducation_update.htm";GD.graph.EDU_DELETE_URL="/Resume/ajax/editEducation_delete.htm";GD.graph.JOB_INSERT_URL="/Resume/ajax/editWorkHistory_insert.htm";GD.graph.JOB_UPDATE_URL="/Resume/ajax/editWorkHistory_update.htm";GD.graph.JOB_DELETE_URL="/Resume/ajax/editWorkHistory_delete.htm";
GD.graph.initProfile=function(a){a&&GD.augments.augmentPlaceholders()};GD.graph.initBasicInfo=function(a){a&&(a=$(".basicInfo .basicInfoRecord"),$("input[name=locationName]",a),$("input[name=locationId]",a),GD.graph._initBasicInfoCitySelect(),a=$("div.basicInfo.historySection div.historyRecord"),GD.graph._initActionButtons(a))};GD.graph.initWorkHistory=function(a){a&&(GD.graph._initEmployerAutocomplete(),$records=$("div.workHistory div.historyList div.historyRecord"),GD.graph._initActionButtons($records))};
GD.graph.initEducation=function(a){a&&(GD.graph._initSchoolAutocomplete(),a=$("div.eduHistory div.historyList div.historyRecord"),GD.graph._initActionButtons(a))};GD.graph.unsavedRecordCount=0;
GD.graph._onFieldChange=function(a){var b=$(a.target).closest(".recordEditorTemplate"),c=!0;b.data("dirtyRecord")||("keydown"==a.type&&(c=GD.event.isTextChangeKeystroke(a.which)),c&&(b.data("dirtyRecord",!0),GD.graph.unsavedRecordCount+=1,1==GD.graph.unsavedRecordCount&&$(window).bind("beforeunload",function(){return"You have unsaved changes.  Are you sure you want to leave this page?"})));return!0};
GD.graph._onRecordClean=function(a){a.data("dirtyRecord")&&(a.data("dirtyRecord",!1),GD.graph.unsavedRecordCount-=1,0>=GD.graph.unsavedRecordCount&&(GD.graph.unsavedRecordCount=0,$(window).unbind("beforeunload")))};GD.graph.isBasicInfoAjaxActive=!1;GD.graph._editBasicInfoItem=function(a){var b=$("div.currentLocation",a),a=$("div.editLocation",a);b.hide();a.show();$("input[name=locationName]",a).select().focus()};
GD.graph._onBasicInfoCitySelect=function(a,b){var c=$(".basicInfo .basicInfoRecord");c.data("isChanged",!0);setTimeout(function(){GD.graph._clearLocationNameFieldError();GD.graph._commitBasicInfo(c,a,b)},1)};GD.graph._initBasicInfoCitySelect=function(){var a=$(".basicInfo .basicInfoRecord"),b=$("input[name=locationName]",a),a=$("input[name=locationId]",a);b.blur(function(){setTimeout(GD.graph._onBasicInfoLocationNameBlur,1)});GD.ajax.createLocationAutoComplete(null,b,a,GD.graph._onBasicInfoCitySelect)};
GD.graph._onBasicInfoLocationNameBlur=function(){var a=$(".basicInfo .basicInfoRecord"),b=$("input[name=locationName]",a),c=$("input[name=locationId]",a),d=b.val().trim(),c=c.val(),c=jQuery.isNumeric(c)?c-0:0;0<c?GD.graph._commitBasicInfo(a,d,c):(0==d.length&&GD.graph._clearLocationNameFieldError(),b.hasClass("ui-autocomplete-opened")||GD.graph._checkInvalidLocationName(a,d,c))};
GD.graph._checkInvalidLocationName=function(a,b,c){if(!$("div.currentLocation",a).is(":visible")){var d=$("input[name=locationName]",a);b&&0>=c&&(d.hasClass("ui-autocomplete-opened")||d.autocomplete("disable").autocomplete("enable"),a=$(".fieldError",a),a.is(":hidden")&&a.show("blind"))}};GD.graph._clearLocationNameFieldError=function(){var a=$(".basicInfo .basicInfoRecord .fieldError");a.is(":visible")&&a.hide("blind")};
GD.graph._commitBasicInfo=function(a,b,c){c?(GD.graph._clearLocationNameFieldError(),b={},GD.graph._getBasicInfoFields(a,b),GD.graph._saveBasicInfo(a,b)):GD.graph._checkInvalidLocationName(a,b,c)};GD.graph._deleteBasicInfoItem=function(a){GD.graph._saveBasicInfo(a,{locationName:"",locationId:0,locationType:""})};
GD.graph._saveBasicInfo=function(a,b){if(!GD.graph.isBasicInfoAjaxActive){var c=a.data("isChanged"),d=!b.locationId&&!b.locationName;if(c||d)GD.graph._setBasicInfoFields(a,b),GD.graph.isBasicInfoAjaxActive=!0,GD.graph._ajaxAction(GD.graph.BASIC_INFO_UPDATE_URL,b,a,GD.graph._onBasicInfoSaveComplete);a.data("isChanged",!1);c=$("div.currentLocation",a);d=$("div.editLocation",a);b.locationName?(d.hide(),c.show(),GD.graph._showActions(a,!0)):(c.hide(),d.show(),$("input[name=locationName]",d).focus(),GD.graph._showActions(a,
!1))}};GD.graph._onBasicInfoSaveComplete=function(a){GD.graph.isBasicInfoAjaxActive=!1;a||($(".basicInfo .basicInfoRecord").data("isChanged",!0),setTimeout(GD.graph._editBasicInfoItem,100))};
GD.graph._initWorkHistoryItem=function(a,b){var c={};GD.graph._getRelationshipId(b,c);GD.graph._getJobDataFields(b,c);GD.graph._getDateRangeFields(b,c);GD.graph._setJobDataFields(a,c);GD.graph._setDateRangeFields(a,c);var d=$("input[name=currentJob]",a);d.click(function(){GD.graph._handleCurrentJobCheck(a,d)});var c=$("input:text,textarea",a),e=$("select",a),f=$("input:checkbox",a);c.keydown(GD.graph._onFieldChange);e.change(GD.graph._onFieldChange);f.click(GD.graph._onFieldChange);GD.graph._handleCurrentJobCheck(a,
d);GD.ajax.createLocationAutoComplete(null,$("input[name=locationName]",a),$("input[name=locationId]",a))};
GD.graph._initEmployerAutocomplete=function(){var a=$("#EmployerNameEditField");GD.ajax.createGraphEmployerAutoComplete(a,null,GD.graph._onEmployerSelect);a.keydown(function(b){return GD.graph._isNameEntered(a)&&(b.which==GD.event.ENTER||b.which==GD.event.TAB)?(GD.graph._onEmployerSelect(a.val(),0),!1):!0});a.blur(function(){a.hasClass("ui-autocomplete-opened")||GD.graph._isNameEntered(a)&&GD.graph._onEmployerSelect(a.val(),0)})};
GD.graph._onEmployerSelect=function(a,b,c){var d=$("#EmployerNameEditField");d.autocomplete("close").autocomplete("disable").autocomplete("enable");d.val("");var e,f;f={employerName:a,employerId:b};e=GD.graph._createEmployerEditor(f,c);setTimeout(function(){GD.graph._ajaxAction(GD.graph.JOB_INSERT_URL,f,e,function(a,b){GD.graph._onRecordAdded(e,b)})},1);return!0};
GD.graph._createEmployerEditor=function(a,b){var c={},d=$("div.workHistory");a.employerName&&(c.name=a.employerName,c.id=a.employerId);b&&(c.avatar=b.avatarSqThumbUrl,c.relationshipId=b.relationshipId,c.profileCompletePercentage=b.profileCompletePercentage);c.avatarClass="";c.avatar||(c.avatar="/static/img/spacer.gif",c.avatarClass="genericAvatar");c=GD.graph._createNewItemEditor(d,c);d.removeClass("emptySection");return c};
GD.graph._getJobDataFields=function(a,b){var c=a.is(".recordEditorTemplate"),d;if(d=c?$("input[name=jobTitle]",a).val():$("span.jobTitle",a).text())if(d=d.trim())b.jobTitle=d;if(d=c?$("input[name=locationName]",a).val():$("span.locationName",a).text()){if(d=d.trim())b.locationName=d;b.locationId=0;if(d=$("input[name=locationId]",a).val())if((d=d.trim())&&jQuery.isNumeric(d))b.locationId=d-0,b.locationId&&(b.locationType="C")}if(d=c?$("textarea[name=itemDesc]",a).val():$("p.itemDesc",a).text())if(d=
d.trim())b.description=d;GD.graph._getDateRangeFields(a,b)};
GD.graph._setJobDataFields=function(a,b){var c=a.is(".recordEditorTemplate"),d=b.jobTitle,e=b.locationName,d=d?d.trim():"",e=e?e.trim():"";c?($("input[name=jobTitle]",a).val(b.jobTitle),$("input[name=locationName]",a).val(b.locationName),$("textarea[name=itemDesc]",a).val(b.description),d&&$("input[name=jobTitle]",a).val(d)):($("p.itemDesc",a).text(b.description),$(".position .jobTitle",a).html(d),$(".position span.locationName",a).text(e),d&&(b.hasDate||e)?$("span.jobTitleSeparator",a).show():$("span.jobTitleSeparator",
a).hide(),b.hasDate&&e?$("span.dateLocSeparator",a).show():$("span.dateLocSeparator",a).hide());$("input[name=locationId]",a).val(b.locationId);$("input[name=locationType]",a).val(b.locationType);GD.graph._setDateRangeFields(a,b)};
GD.graph._validateJobFields=function(a,b){var c=a.is(".recordEditorTemplate");b.valid=!0;if(c&&(b.locationName&&!b.locationId?(b.valid=!1,$("div.fieldErrorInvalidCity",a).show("blind",200)):$("div.fieldErrorInvalidCity",a).hide(),b.hasDate))if(c=!1,0<b.startMonth&&0>=b.startYear?(b.valid=!1,$("div.fieldErrorNoStartYear",a).show("blind",200),c=!0):$("div.fieldErrorNoStartYear",a).hide(),!b.isCurrent)if(0<=b.endMonth&&0>=b.endYear?(b.valid=!1,$("div.fieldErrorNoEndYear",a).show("blind",200),c=!0):$("div.fieldErrorNoEndYear",
a).hide(),!b.isCurrent&&!c&&0<b.startYear){var d=c=0,e=0;0<b.startMonth&&(c=b.startMonth-1);d=new Date(b.startYear,c);0<b.endYear&&(c=11,0<b.endMonth&&(c=b.endMonth-1),e=new Date(b.endYear,c));d.getTime()>e.getTime()?(b.valid=!1,$("div.fieldErrorReversedDates",a).show("blind",200)):$("div.fieldErrorReversedDates",a).hide()}b.valid&&$("div.fieldError",a).hide()};GD.graph.schoolTypeHS="HIGH_SCHOOL";GD.graph.schoolTypeCollege="COLLEGE";GD.graph.numShownConcentrations=3;
GD.graph._initEducationItem=function(a,b){var c={};GD.graph._getRelationshipId(b,c);GD.graph._getEduDataFields(b,c);GD.graph._getDateRangeFields(b,c);GD.graph._setEduDataFields(a,c);GD.graph._setDateRangeFields(a,c);GD.graph._handleSchoolTypeRadio(a);$("input:radio[name=schoolType]",a).change(function(){GD.graph._handleSchoolTypeRadio(a);return!0});var c=$("input:text",a),d=$("select",a),e=$("input:radio",a);c.keydown(GD.graph._onFieldChange);d.change(GD.graph._onFieldChange);e.change(GD.graph._onFieldChange)};
GD.graph._initSchoolAutocomplete=function(){var a=$("#SchoolNameEditField");GD.ajax.createGraphSchoolAutoComplete(a,null,GD.graph._onSchoolSelect);a.keydown(function(b){return GD.graph._isNameEntered(a)&&(b.which==GD.event.ENTER||b.which==GD.event.TAB)?(GD.graph._onSchoolSelect(a.val(),0),!1):!0});a.blur(function(){a.hasClass("ui-autocomplete-opened")||GD.graph._isNameEntered(a)&&GD.graph._onSchoolSelect(a.val(),0)})};
GD.graph._onSchoolSelect=function(a,b,c){var d=$("#SchoolNameEditField");d.autocomplete("close").autocomplete("disable").autocomplete("enable");d.val("");var e,f;f={schoolName:a,schoolId:b};e=GD.graph._createSchoolEditor(f,c);setTimeout(function(){GD.graph._ajaxAction(GD.graph.EDU_INSERT_URL,f,e,function(a,b){GD.graph._onRecordAdded(e,b)})},1);return!0};
GD.graph._createSchoolEditor=function(a,b){var c={},d=$("div.eduHistory");a.schoolName&&(c.name=a.schoolName,c.id=a.schoolId);b&&(c.avatar=b.avatarSqThumbUrl,c.relationshipId=b.relationshipId,c.profileCompletePercentage=b.profileCompletePercentage);c.avatarClass="";c.avatar||(c.avatar="/static/img/spacer.gif",c.avatarClass="genericAvatar");c=GD.graph._createNewItemEditor(d,c);d.removeClass("emptySection");return c};
GD.graph._getEduDataFields=function(a,b){var c=a.is(".recordEditorTemplate"),d;if(d=c?$("input:radio[name=schoolType]:checked",a).val():$("input:hidden[name=schoolType]",a).val())if(d=d.trim())b.type=d;if(b.type!=GD.graph.schoolTypeHS){if(d=c?$("input[name=degree]",a).val():$(".schoolDetails .degree",a).html())if(d=d.trim())b.degree=d;(c?$("input[name=concentration]",a):$(".schoolDetails .concentrationList .concentrationName",a)).each(function(){var a=$(this);if(d=a.is(":input")?a.val():a.html())if(d=
d.trim())b.concentration||(b.concentration=[]),b.concentration.push(d)});b.hasConcentrations=b.concentration&&0<b.concentration.length}GD.graph._getDateRangeFields(a,b)};
GD.graph._setEduDataFields=function(a,b){var c=a.is(".recordEditorTemplate"),d,e;c?($("input:radio[name=schoolType]",a).prop("checked",!1),e=b.type?b.type:GD.graph.schoolTypeCollege,$('input[value="'+e+'"]',a).prop("checked",!0).change()):(d=$("input:hidden[name=schoolType]",a),e=b.type?b.type:-1,d.val(e));if(b.type!=GD.graph.schoolTypeHS)if(c){if(d=$("input[name=degree]",a),b.degree?d.val(b.degree):d.val(""),b.hasConcentrations){d=$("input:text[name=concentration]",a);e="";for(c=0;c<b.concentration.length;c++)c<
d.length?$(d[c]).val(b.concentration[c]):e+='<input type="hidden" name="concentration" value="'+b.concentration[c]+'" />\n';$(".surplusConcentrations",a).html(e)}}else{d=$(".schoolDetails .degree",a);b.degree?d.html(b.degree):d.html("");if(b.hasConcentrations){e=[];d=Math.min(b.concentration.length,GD.graph.numShownConcentrations);for(c=0;c<d;c++)e.push("<span class='concentrationName'>"+b.concentration[c]+"</span>");c=e.join(", ");$(".concentrationList .shownConcentrations",a).html(c);c="";if(d<
b.concentration.length){e=[];for(c=GD.graph.numShownConcentrations;c<b.concentration.length;c++)e.push("<span class='concentrationName'>"+b.concentration[c]+"</span>");c=e.join("\n")}$(".concentrationList .hiddenConcentrations",a).html(c)}b.degree&&(b.hasDate||b.hasConcentrations)?$("span.dateDegreeSep",a).show():$("span.dateDegreeSep",a).hide();b.degree&&b.hasConcentrations?$("span.degreeConcentrationSep",a).show():$("span.degreeConcentrationSep",a).hide()}GD.graph._setDateRangeFields(a,b)};
GD.graph._validateEduFields=function(a,b){var c=a.is(".recordEditorTemplate");b.valid=!0;c&&b.hasDate&&(0<b.startYear&&0<b.endYear&&b.endYear<b.startYear?(b.valid=!1,$("div.fieldErrorReversedDates",a).show("blind",200)):$("div.fieldErrorReversedDates",a).hide());b.valid&&$("div.fieldError",a).hide()};
GD.graph._handleSchoolTypeRadio=function(a){var b=$("input:radio[name=schoolType]:checked",a),c=$("div.higherEdFields",a);b.val()==GD.graph.schoolTypeHS?"none"!=c.css("display")&&c.hide("blind",200):"none"==c.css("display")&&(a.is(":visible")?c.show("blind",200):c.show())};
GD.graph._getDateRangeFields=function(a,b){a.is(".recordEditorTemplate");b.hasDate=!1;b.startMonth=$("[name=startMonth]",a).val();b.startYear=$("[name=startYear]",a).val();b.endMonth=$("[name=endMonth]",a).val();b.endYear=$("[name=endYear]",a).val();if(0<b.startYear||0<b.startMonth||0<b.endYear||0<b.endMonth)b.hasDate=!0;b.isCurrent=!1;0>=b.endYear&&0>=b.endMonth&&(b.isCurrent=!0)};
GD.graph._makeDateFieldsNumeric=function(a){a.startMonth=jQuery.isNumeric(a.startMonth)?a.startMonth-0:0;a.startYear=jQuery.isNumeric(a.startYear)?a.startYear-0:0;a.endMonth=jQuery.isNumeric(a.endMonth)?a.endMonth-0:0;a.endYear=jQuery.isNumeric(a.endYear)?a.endYear-0:0};
GD.graph._setDateRangeFields=function(a,b){var c=a.is(".recordEditorTemplate"),d=a;d.is(".historyRecord")||(d=d.closest(".historyRecord"));b.isCurrent=!0;$("[name=startMonth]",a).val(b.startMonth);$("[name=startYear]",a).val(b.startYear);$("[name=endMonth]",a).val(b.endMonth);$("[name=endYear]",a).val(b.endYear);b.isCurrent=!(0<b.endYear);if(c)d.is(".workItem")&&(c=$("input[name=currentJob]",a),c.prop("checked",b.isCurrent),GD.graph._handleCurrentJobCheck(a,c));else if(d.is(".eduItem")){c="";0<b.startYear&&
0<b.endYear?c=b.startYear==b.endYear?b.endYear:b.startYear+" &ndash; "+b.endYear:0<b.startYear?c=b.startYear+" &ndash;":0<b.endYear&&(c=b.endYear);var d=$(".schoolDetails .schoolYears",a),e=$(".dateConcentrationSep",a);d.html(c);c?e.show():e.hide()}else d.is(".workItem")&&(0<b.startYear?(0<b.startMonth?(c=new Date(b.startYear,b.startMonth-1),c=b.startYear==b.endYear&&0<=b.startMonth&&0<=b.endMonth&&b.startMonth!=b.endMonth?c.f("NNN"):c.f("NNN yyyy")):c=new String(b.startYear),c=c.toString(),d=b.isCurrent?
"Present":0<b.endMonth?(new Date(b.endYear,b.endMonth-1)).f("NNN yyyy"):new String(b.endYear),d=d.toString(),$(".position .dateDesc",a).html(c==d?c:c+" &ndash; "+d),(c=$(".position .jobTitle",a).html())&&c.trim()?$("span.jobTitleSeparator",a).show():$("span.jobTitleSeparator",a).hide()):($("span.dateDesc",a).html(""),$("span.dateLocSeparator",a).hide()))};
GD.graph._handleCurrentJobCheck=function(a,b){var c=b.prop("checked"),d=$("span.jobNotCurrentFields",a),e=$("span.jobIsCurrentFields",a);c?($("select[name=endMonth]",d).val(-1),$("select[name=endYear]",d).val(-1),d.hide(),e.show()):(e.hide(),d.show())};GD.graph._isNameEntered=function(a){var b=a.val(),a=a.attr(GD.augments.ATTR_PLACEHOLDER);b&&(b=b.trim());b==a&&(b="");return!!b};
GD.graph._onRecordAdded=function(a,b){var c=a;c&&(c.is(".historyRecord")||(c=c.closest(".historyRecord")));if(b){b.relationshipId&&c.data("relationshipId",b.relationshipId);if(b.name){var d=$("h3.itemName",c);d.html()!=b.name&&d.html(b.name)}b.avatarSqThumbUrl&&(c=$("img.avatar",c),c.attr("src")!=b.avatarSqThumbUrl&&(c.attr("src",b.avatarSqThumbUrl),c.removeClass("genericAvatar")))}};
GD.graph._editItem=function(a){GD.graph._showActions(a,!1);if(a.is(".basicInfoRecord"))GD.graph._editBasicInfoItem(a);else{var b=$(".editableData",a);b.hide("blind",400,function(){GD.graph._initEditFields(a,b)})}};
GD.graph._deleteItem=function(a){var b=null;if(a.is(".basicInfoRecord"))b="your current location";else{var c=$("h3",a);c.length&&(b=c.html().trim());b||(b="this item")}if(confirm("Are you sure that you want to delete "+b+" from your profile?"))if(a.is(".basicInfoRecord"))GD.graph._deleteBasicInfoItem(a);else{var d,b={};GD.graph._getRelationshipId(a,b);a.is(".eduItem")?d=GD.graph.EDU_DELETE_URL:a.is(".workItem")&&(d=GD.graph.JOB_DELETE_URL);GD.graph._ajaxAction(d,b);a.hide("blind","fast",function(){var b=
a.closest(".historyList");a.remove();GD.graph._recalcLastItem(b)})}};GD.graph._initActionButtons=function(a){a.each(function(){var a=$(this),c=$(".actions span.edit",a),d=$(".actions span.delete",a);c.click(function(){GD.graph._editItem(a)});d.click(function(){GD.graph._deleteItem(a)})})};
GD.graph._initEditFields=function(a,b){var c=a.closest(".historySection"),d=$(".recordEditorTemplate:first",c),e;1>d.length||(e=d.clone(),$(".editArea",a).append(e),c.is(".workHistory")?GD.graph._initWorkHistoryItem(e,b):c.is(".eduHistory")?GD.graph._initEducationItem(e,b):Logger.error("GD.graph._initEditFields() -- case where section was not education or work."),GD.augments.addDynamicForIds(e),$(".saveBtn",e).click(function(){GD.graph._saveEdit(a,e)}),$(".cancelBtn",e).click(function(){GD.graph._closeEdit(a,
e)}),a.is(":visible")?e.show("blind",200):e.show(),$(".focus:first",e).focus().select())};
GD.graph._saveEdit=function(a,b){var c=$(".editableData",a),d={};GD.graph._getRelationshipId(a,d);a.is(".eduItem")?(url=GD.graph.EDU_UPDATE_URL,GD.graph._getEduDataFields(b,d),GD.graph._getDateRangeFields(b,d),GD.graph._setEduDataFields(c,d),GD.graph._setDateRangeFields(c,d),GD.graph._validateEduFields(b,d)):a.is(".workItem")&&(url=GD.graph.JOB_UPDATE_URL,GD.graph._getJobDataFields(b,d),GD.graph._getDateRangeFields(b,d),GD.graph._setJobDataFields(c,d),GD.graph._setDateRangeFields(c,d),GD.graph._validateJobFields(b,
d));d.valid&&(GD.graph._ajaxAction(url,d,a),GD.graph._closeEdit(a,b))};GD.graph._closeEdit=function(a,b){b.hide("blind",400,function(){GD.graph._showActions(a,!0);b.remove();$(".editableData",a).show("blind",400);$(".editArea",a).html("")});GD.graph._onRecordClean(b)};
GD.graph._createNewItemEditor=function(a,b){var c=$(".newItemEditorTemplate div.historyRecord.editableItem",a).clone();GD.graph._initActionButtons(c);if(c.length){var d=0;b.relationshipId&&(d=b.relationshipId);c.data("relationshipId",d);$("h3.itemName",c).html(b.name);$("img.avatar",c).attr("src",b.avatar).removeClass("genericAvatar").addClass(b.avatarClass);c.hide();$(".historyList",a).prepend(c);d=$(".editableData",c);d.hide();GD.graph._initEditFields(c,d);GD.graph._showActions(c,!1);d=$(".focus:first",
c);c.show("blind",400);d.focus().select()}return c};
GD.graph._ajaxAction=function(a,b,c,d){c&&(c.is(".historyRecord")||(c=c.closest(".historyRecord")));c&&$("img.spinner",c).show();jQuery.ajax({url:a,data:b,traditional:!0,type:"POST",success:function(a){var f=!0;c&&$("img.spinner",c).hide();if(!a||!a.success)f=!1,a?Logger.inspect(a,"Response: "):Logger.error("No response object returned.");a&&a.profileCompletePercentage&&GD.graph._updateProfileComplete(a);a&&a.relationshipId&&(b.relationshipId=a.relationshipId,GD.graph._setRelationshipId(c,b.relationshipId));
jQuery.isFunction(d)&&d(f,a,a.errorMsg)},error:function(a){Logger.inspect(a,"GD.graph._ajaxAction() error");c&&$("img.spinner",c).hide();jQuery.isFunction(d)&&d(success,null,a.errorMessage)}})};GD.graph._showActions=function(a,b){b?$("div.actions",a).show():$("div.actions",a).hide()};GD.graph._getRelationshipId=function(a,b){var c=a.data("relationshipId");c&&(b.relationshipId=c)};GD.graph._setRelationshipId=function(a,b){a.data("relationshipId",b)};
GD.graph._getBasicInfoFields=function(a,b){var c;if(c=$("div.editLocation",a).is(":visible")?$("input[name=locationName]",a).val():$("div.currentLocation",a).text())if(c=c.trim())b.locationName=c;if(c=$("input[name=locationId]",a).val())if(c=c.trim())b.locationId=c;if(c=$("input[name=locationType]",a).val())if(c=c.trim())b.locationType=c};
GD.graph._setBasicInfoFields=function(a,b){$("input[name=locationName]",a).val(b.locationName);$("div.currentLocation",a).text(b.locationName);$("input[name=locationId]",a).val(b.locationId)};GD.graph._recalcLastItem=function(a){if(a.length){var b=$(".historyRecord:not(:last)",a);b.removeClass("lastItem");$(".historyRecord:last",a).addClass("lastItem");var c=a.closest("div.historySection"),b=$("div.historyRecord",a);0==b.length&&c.addClass("emptySection")}};
GD.graph._updateProfileComplete=function(a){var b=a.profileCompletePercentage;0>b?b=0:100<b&&(b=100);var c=$("div#ProfileCompletePercentage"),d=$("span.completeVal",c).add("h1 span.completeVal"),e=$(".progressBar .pctComplete",c),f=$("p.titleBar",c);d.html(b);e.animate({width:b+"%"},400);100>b?(f.is(":hidden")&&f.show(),c.is(":hidden")&&c.show(700)):f.hide(700);$("li.location",c)[a.locationComplete?"hide":"show"](200);$("li.workHistory",c)[a.workHistoryComplete?"hide":"show"](200);$("li.education",
c)[a.educationComplete?"hide":"show"](200);$("li.likedApp",c)[a.likedApp?"hide":"show"](200)};GD.graph._updateProfileOnInvite=function(a){a.minimumInvitationsSentCountReached&&$("ul.profileSteps li.invitation").hide(200);var a=a.profileCompletePercentage,b=$("div#ProfileCompletePercentage"),c=$("span.completeVal",b).add("h1 span.completeVal"),d=$(".progressBar .pctComplete",b),b=$("p.titleBar",b);c.html(a);d.animate({width:a+"%"},400);100==a&&b.hide(700)};
GD.graph._updateProfileOnLikedApp=function(a){var a=a.profileCompletePercentage,b=$("div#ProfileCompletePercentage"),c=$("span.completeVal",b).add("h1 span.completeVal"),d=$(".progressBar .pctComplete",b),b=$("p.titleBar",b);c.html(a);d.animate({width:a+"%"},400);100==a&&b.hide(700)};GD.graph.INVITE_DIALOG_CONNECTIONS_URL="/Connections/ajax/inviteDialogConnections.htm";GD.graph.initFbInviteDialogLink=function(a){$("span.fbInviteDialogLink").click(function(){GD.graph.showInviteDialog(a);return!1})};
GD.graph.showInviteDialog=function(a){var b=$("#FBInviteDialogTemplate").clone().attr("id","FBInviteDialog").get(0);GD.dialogManager.addCustomDialog(b,590,!0,!1,!0,null,"connectionsInviteDialog",function(){GD.analytics.trackPageView("/Connections/popup/invite");$(this.dialogElement).css({position:"fixed",top:"5%"});var b=$("#FBInviteDialog");$("div.connectionsLoading p.message",b).show();$("div.connectionsLoading p.error",b).hide();b.show();$.ajax({url:GD.graph.INVITE_DIALOG_CONNECTIONS_URL,type:"GET",
dataType:"json",timeout:15E3,success:function(b){GD.graph._onInviteDialogConnectionsLoadSuccess(a,b)},error:function(a,b,c){Logger.trace("jqXHR: "+a);Logger.trace("textStatus: "+b);Logger.trace("errorThrown:  "+c);GD.graph._onInviteDialogConnectionsLoadError()}})},null)};
GD.graph._onInviteDialogConnectionsLoadSuccess=function(a,b){function c(a){var h=a+3,k=b.totalConnectionCount,n=b.invitableConnections,o=b.senderId,p=b.senderSourceId,l,g,i,m;h>k&&(h=k);for(l=document.createDocumentFragment();a<h;a++)g=a+1,i=n[a],m=f.clone(),m.find("img.avatar").attr({alt:i.name,src:i.avatarSqThumbUrl}),m.find("p.name").each(function(){i.inviteEligible||$(this).append('<br/><span class="subtleText">Previously invited</span>')}),m.find("span.connectionName").text(i.name),i.inviteEligible&&
m.find("span.fbInviteBtn").attr({"data-to-sid":i.sourceId,"data-to-gid":i.id,"data-from-sid":p,"data-from-gid":o}).closest("div.fbInviteAction").removeClass("hidden"),l.appendChild(m.get(0));(0===g%3||g===k)&&e.append(l);g<k?setTimeout(function(){c(g)},0):GD.graph.filter({$list:e,$filter:$("div.connectionsFilter",d),$noData:$("div.connectionsFilterNoData",d),textNodeSelector:"p.name"})}var d=$("#FBInviteDialog");$("div.connectionsLoading",d).hide();var e=$("ul.connections",d),f=$("li.connection",
e).remove();e.show();GD.fb.initFBWallPostInviteHandler(a,e);c(0)};GD.graph._onInviteDialogConnectionsLoadError=function(){var a=$("#FBInviteDialog");$("div.connectionsLoading p.message",a).hide();$("div.connectionsLoading p.error",a).show()};
(function(a,b){function c(a){for(var b=!0,a=a.replace(/[\.]/g,"\\.").toLowerCase().trim(),c=a.split(" "),d={},f=0,h=c.length,g,j;f<h;++f)g=c[f],j=a.match(g).length,d[g]=d[g]?d[g]+j:j;$("li.connection",e).each(function(){var a=$(this),c=a.find(n)[0],c=" "+$(c).text().toLowerCase().trim(),e=a.css("display"),f=!0,g,i;for(i in d)if(g=c.match(RegExp(" "+i,"g")),!g||g.length!==d[i]){f=!1;break}f?("none"==e&&a.show(),b&&(b=!1)):"none"!=e&&a.hide()});b?(k.html('No results for "'+a+'"'),k.show()):k.hide()}
function d(){$("li.connection",e).each(function(){$(this).show()});h.val("");j.hide();k.hide()}a.filter=function(a){e=a.$list;f=a.$filter;j=$("div.clearBox",f);h=$("input.filterText",f);k=a.$noData;n=a.textNodeSelector;$(".connectionsFilterLoading",f).hide();h.css("visibility","visible").focus();b(h);j.click(d);h.keyup(function(){var a=(new Date).getTime(),b=h.val();a-p<o&&clearTimeout(g);p=a;b!==l&&(l=b);1>b.length?d():(j.show(),g=setTimeout(function(){c(b)},o))})};a.clearFilter=d;var e,f,j,h,k,
n,o=200,p=0,l="",g}).call({},GD.graph,GD.augments.augmentPlaceholders);GD.graph.GRAPH_LOADING_AJAX_URL="/profile/graphLoadingStatusAjax.htm";GD.graph.LOAD_MSG_PACING_MILLIS=3E3;GD.graph.GRAPH_LOADING_CHECK_MILLIS=500;GD.graph.numTriesRemaining=60;GD.graph.isDisplayingMessages=!1;GD.graph.initGraphLoadingPage=function(a,b){GD.graph.pollGraphLoading(a,b)};GD.graph.pollGraphLoading=function(a,b){GD.graph._doLoadingAjax(GD.graph.GRAPH_LOADING_AJAX_URL,GD.graph._processGraphLoadingPollResults,a,b)};
GD.graph._showGraphLoadingMsg=function(a){var b=$("#GraphLoading .loadingMsg h2"),c=b.filter("h2:visible"),d=$(b.get(a));c.length?c.fadeOut(400,function(){d.fadeIn(400)}):d.fadeIn(400);a+=1;a>=b.length&&(a=0);setTimeout(function(){GD.graph._showGraphLoadingMsg(a)},GD.graph.LOAD_MSG_PACING_MILLIS)};
GD.graph._processGraphLoadingPollResults=function(a,b,c){0>=GD.graph.numTriesRemaining||a&&a.completelyLoaded?(a=null,c&&(a="_top"),GD.dom.loadUrl(b,a)):(GD.graph.numTriesRemaining-=1,GD.graph.isDisplayingMessages||(setTimeout(function(){GD.graph._showGraphLoadingMsg(0)},GD.graph.LOAD_MSG_PACING_MILLIS),GD.graph.isDisplayingMessages=!0),setTimeout(function(){GD.graph.pollGraphLoading(b,c)},GD.graph.GRAPH_LOADING_CHECK_MILLIS))};
GD.graph._doLoadingAjax=function(a,b,c,d){jQuery.ajax({url:a,dataType:"json",success:function(a){a||Logger.error("No data returned for GD.graph._doLoadingAjax");jQuery.isFunction(b)&&b(a,c,d)},error:function(a,f,j){Logger.inspect(j,"GD.graph._doLoadingAjax() error: "+f);jQuery.isFunction(b)&&b(null,c,d)}})};
GD.graph.initProfileSocialSharing=function(){var a=$(".profileSteps .likedApp"),b=new GD.graph.LikedAppHandler(a);GD.graph.initGPlusHandler(b);GD.runOnFacebookLoad(function(){GD.graph.initFBLikeButtonHandler(b)});$("#ProfileSocialSharingLink").on("click keypress",function(){$(".profileSocialSharingBtns").toggle("slow");return!1});jQuery().url&&(a=$.url().param("showSocial"),void 0!=a&&$("#ProfileSocialSharingLink").click())};
GD.graph.LikedAppHandler=GD.Class({constructor:function(a){this.updatePath="/Resume/ajax/graphUserSetDataAjax.htm";this.$node=a},save:function(a,b){var c=this;jQuery.ajax({type:"POST",url:GD.util.getAjaxUrlRespectingSecurity(c.updatePath),data:{name:a,val:!!b},dataType:"json",success:function(d){d.liked=b;d.name=a;d.success?c.success(d):c.error(d)},error:function(d,e,f){data.liked=b;data.name=a;data.textStatus=e;data.errorThrown=f;c.error(data)}})},hide:function(){this.$node.hide("slow")},error:function(a){Logger.info(a,
"likedApp.save - error")},success:function(a){Logger.info(a,"likedApp.save - success");a.likedCanvasApp&&a.likedGooglePlus?(GD.graph._updateProfileOnLikedApp(a),this.hide()):a.liked&&("GPLUS_LIKED"===a.name&&$(".gPlusButton",this.$node).hide(),"FB_LIKED"===a.name&&$(".fbLikeButton",this.$node).hide())}});GD.graph.initGPlusHandler=function(a){window.gPlusCallback=function(b){b.state&&b.href?"on"==b.state?a.save("GPLUS_LIKED",!0):a.save("GPLUS_LIKED",!1):b||Logger.trace("googlePlusone - no response")}};
GD.graph.initFBLikeButtonHandler=function(a){FB.Event.subscribe("edge.create",function(){a.save("FB_LIKED",!0)});FB.Event.subscribe("edge.remove",function(){a.save("FB_LIKED",!1)})};GD.graph.FEATUED_JOBS_AJAX="/member/ajax/featuredJobsAjax.htm";GD.graph.featuredJobsOpenTime=500;
GD.graph._displayFeaturedJobs=function(a,b){jQuery.ajax({url:a,dataType:"html",success:function(a){a||Logger.error("No data returned for GD.graph.displayFeaturedJobs");jQuery.isFunction(b)&&b(a)},error:function(a,d,e){Logger.inspect(e,"GD.graph.displayFeaturedJobs error: "+d);jQuery.isFunction(b)&&b(null)}})};GD.graph._processFeaturedJobs=function(a){if(a){var b=$("#MemberHome div.jobs");b.hide();b.html(a);b.slideDown(GD.graph.featuredJobsOpenTime)}};
GD.graph.getFeaturedJobs=function(){GD.graph._displayFeaturedJobs(GD.graph.FEATUED_JOBS_AJAX,GD.graph._processFeaturedJobs)};if("undefined"===typeof GD)var GD={};"undefined"===typeof GD.browse&&(GD.browse={});GD.browse.interviewSearchSubmit=function(){GD.dom.clearPage();return true};"undefined"==typeof GD.flip&&(GD.flip={});GD.flip.speed=800;GD.flip.resetSpeed=3E3;GD.flip.vivifyInactiveSeconds=10;GD.flip.vivifyFlipPauseSeconds=10;
GD.flip.scrollLeft=function(a,c,d){try{var e=GD.flip.getSliderPane(a),g=e.offsetWidth,b=id(a),h=b.offsetWidth-2;if(!c){if(b.vivifyInactiveTimeoutId){clearTimeout(b.vivifyInactiveTimeoutId);b.vivifyInactiveTimeoutId=null;b.isAutoScrolling=false}if(b.vivifyActiveTimerId){clearTimeout(b.vivifyActiveTimerId);b.vivifyActiveTimerId=null;b.isAutoScrolling=false}b.vivified&&GD.flip.vivify(a,true)}if(b.slideAnim&&b.slideAnim.isAnimated()&&typeof b.slideDest==="number"){b.slideAnim.stop();e.style.left=b.slideDest+
"px"}if(e.style.left){var f=Number((""+e.style.left).replace(/px/,"")),i=h*2-g,f=f-(h+2);f<i&&(f=i)}else f=-(h+2);b.slideDest=f;b=null;c&&d&&(b=function(){GD.flip._setNextVivifiedScrollTimeout(a)});$(e).animate({left:f},GD.flip.speed,"easeInOutExpo",b);GD.flip.adjustButtons(a,e,g,h,-f)}catch(j){Logger.fatal("GD.flip.scrollLeft",j)}};
GD.flip.scrollRight=function(a,c,d){try{var e=GD.flip.getSliderPane(a),g=e.offsetWidth,b=id(a),h=b.offsetWidth-2;if(!c){if(b.vivifyInactiveTimeoutId){clearTimeout(b.vivifyInactiveTimeoutId);b.vivifyInactiveTimeoutId=null;b.isAutoScrolling=false}if(b.vivifyActiveTimerId){clearTimeout(b.vivifyActiveTimerId);b.vivifyActiveTimerId=null;b.isAutoScrolling=false}b.vivified&&GD.flip.vivify(a,true)}if(b.slideAnim&&b.slideAnim.isAnimated()&&typeof b.slideDest==="number"){b.slideAnim.stop();e.style.left=b.slideDest+
"px"}if(e.style.left){var f=Number((""+e.style.left).replace(/px/,"")),f=f+(h+2);f>0&&(f=0)}else f=0;b.slideDest=f;b=null;c&&d&&(b=function(){GD.flip._setNextVivifiedScrollTimeout(a)});$(e).animate({left:f},GD.flip.speed,"easeInOutExpo",b);GD.flip.adjustButtons(a,e,g,h,-f)}catch(i){Logger.fatal("GD.flip.scrollRight",i)}};GD.flip.getSliderPane=function(a){try{return id(a+"Slider")}catch(c){Logger.fatal("GD.flip.getSliderPane",c)}};
GD.flip.adjustButtons=function(a,c,d,e,g){try{var b=GD.flip.isAtStart(a,c,g),h=GD.flip.isAtEnd(a,c,d,e,g),f=$("#"+a+"PrevBtn").parent(),i=$("#"+a+"NextBtn").parent();b?f.addClass("disabled"):f.removeClass("disabled");h?i.addClass("disabled"):i.removeClass("disabled")}catch(j){Logger.fatal("GD.flip.adjustButtons",j)}};
GD.flip.isAtStart=function(a,c,d){try{if(!c){c=GD.flip.getSliderPane(a);d=c.style.left?-Number((""+c.style.left).replace(/px/,"")):0}d<0&&(d=0);return d<=0}catch(e){Logger.fatal("GD.flip.isAtStart",e)}};GD.flip.isAtEnd=function(a,c,d,e,g){try{if(!c)var b=id(a),c=GD.flip.getSliderPane(a),d=c.offsetWidth,e=b.offsetWidth-2,g=c.style.left?-Number((""+c.style.left).replace(/px/,"")):0;a=d-e*2;g<0&&(g=0);g+10>a&&(g=a);return g>=a}catch(h){Logger.fatal("GD.flip.isAtEnd",h)}};
GD.flip.adjustHeight=function(a){try{var c=id(a),d=id(a+"Slider").offsetHeight;c.style.height=d+"px";c.style.minHeight=d+"px"}catch(e){Logger.fatal("GD.flip.adjustHeight",e)}};
GD.flip.vivify=function(a,c){try{var d=id(a);typeof c!=="boolean"&&(c=true);d.vivified=c;d.isAutoScrolling=false;if(c){var e=GD.flip.isAtStart(a),g=GD.flip.isAtEnd(a);if(!e||!g)d.vivifyInactiveTimeoutId=setTimeout(function(){GD.flip._activateVivification(a)},GD.flip.vivifyInactiveSeconds*1E3)}else{if(d.vivifyInactiveTimeoutId){clearTimeout(d.vivifyInactiveTimeoutId);d.vivifyInactiveTimeoutId=null}if(d.vivifyActiveTimerId){clearTimeout(d.vivifyActiveTimerId);d.vivifyActiveTimerId=null}}}catch(b){Logger.fatal("GD.flip.vivify",
b)}};GD.flip._activateVivification=function(a){try{var c=id(a);c.isAutoScrolling=true;GD.flip._vivifiedScroll(a,false);c.vivifyActiveTimerId=setTimeout(function(){GD.flip._vivifiedScroll(a,true)},GD.flip.vivifyFlipPauseSeconds*1E3)}catch(d){Logger.fatal("GD.flip._activateVivification",d)}};
GD.flip._vivifiedScroll=function(a,c){try{var d=id(a);if(d.isAutoScrolling)if(GD.flip.isAtEnd(a)){var e=GD.flip.getSliderPane(a),g=e.offsetWidth,b=d.offsetWidth-2;d.slideDest=0;d=null;c&&(d=function(){GD.flip._setNextVivifiedScrollTimeout(a)});$(e).animate({left:0},GD.flip.resetSpeed,"easeInOutExpo",d);GD.flip.adjustButtons(a,e,g,b,0)}else GD.flip.scrollLeft(a,true,c)}catch(h){Logger.fatal("GD.flip._vivifiedScroll",h)}};
GD.flip._setNextVivifiedScrollTimeout=function(a){id(a).vivifyActiveTimerId=setTimeout(function(){GD.flip._vivifiedScroll(a,true)},GD.flip.vivifyFlipPauseSeconds*1E3)};if("undefined"===typeof GD)var GD={};"undefined"===typeof GD.empInfo&&(GD.empInfo={});GD.empInfo.awardFadeSpeed=100;GD.empInfo.awardRevealSpeed=500;GD.empInfo.awardHideSpeed=500;GD.empInfo._deepLinkTimeout=null;GD.empInfo.initDeepLinklSocialSharingBar=function(){var a=$("#DeepLinkSocialSharingBar");$(".closeBox",a).click(function(){GD.empInfo._closeDeepLinkBar(a)});$(window).scroll(GD.empInfo._showDeepLinkBar);GD.empInfo._deepLinkTimeout=setTimeout(GD.empInfo._showDeepLinkBar,1E4)};
GD.empInfo._showDeepLinkBar=function(){if(GD.empInfo._deepLinkTimeout){clearTimeout(GD.empInfo._deepLinkTimeout);GD.empInfo._deepLinkTimeout=null}$(window).unbind("scroll",GD.empInfo._showDeepLinkBar);var a=$("#DeepLinkSocialSharingBar");a.css({display:"none",height:"0"});a.fadeIn(100,function(){a.animate({height:45},{queue:false,duration:600,easing:"easeOutQuint"})})};GD.empInfo._closeDeepLinkBar=function(a){a.animate({height:0},{queue:false,duration:600,easing:"easeOutQuint",complete:function(){a.fadeOut(100)}})};
GD.empInfo.gotoEditEmployerInfo=function(a,b){var d=location.pathname,b=b.contains("?")?b+"&":b+"?",d=b+"employerId="+a+"&redirectURL="+encodeURIComponent(d)+"&minimal=true";GD.dom.clearWindowAndRedirect(d);return false};
GD.empInfo.editEmployerInfoInit=function(){GD.ajax.createLocationAutoComplete("#CompanyCountryField","#CompanyCityField","#CompanyCityIdField");GD.ajax.createEmployerAutoComplete("#CompanyCompetitorNameField1","#CompanyCompetitorIdField1");GD.ajax.createEmployerAutoComplete("#CompanyCompetitorNameField2","#CompanyCompetitorIdField2");GD.ajax.createEmployerAutoComplete("#CompanyCompetitorNameField3","#CompanyCompetitorIdField3");$("#NotesToTeam").autogrow()};
GD.empInfo.editEmployerCompleteClose=function(){var a=$("#CompanyEditsReceivedAlert");a.hide("blind",null,200,function(){a.remove()});return false};GD.empInfo.submitEmployerInfoFilter=function(a){if((a=id(a))&&a.submit){GD.augments.uninstallPlaceholderField($("#FilterJobTitle"));a.submit();GD.dom.clearPage()}return false};GD.empInfo.processHashTag=function(){var a=location.hash;if(a){a=a.substring(1).toLowerCase();a==="awards"&&$("#ShowMoreAwards").length&&GD.empInfo.showMoreAwards(true)}return true};
GD.empInfo.showMoreAwards=function(a){var b=$(".awardsShortList"),d=$("#ShowLessAwards"),c=$(".awardsScroller"),e=$("#ShowMoreAwards"),f=b.height(),g=c.height(),h=c.css("max-height").replace(/[^0-9]+/g,"");b.stop(true,true);c.stop(true,true);g=Math.min(g,h);c.css("overflow-y","hidden");c.height(f);b.fadeOut(a?0:GD.empInfo.awardFadeSpeed,function(){c.fadeIn(a?0:GD.empInfo.awardFadeSpeed,function(){e.hide();d.show();c.animate({height:g},a?0:GD.empInfo.awardHideSpeed,"easeInOutQuint",function(){c.css("overflow-y",
"auto")})})});return false};GD.empInfo.showLessAwards=function(){var a=$(".awardsShortList"),b=$("#ShowLessAwards"),d=$(".awardsScroller"),c=$("#ShowMoreAwards"),e=a.height();a.stop(true,true);d.stop(true,true);c.show();b.hide();a={height:e};d.css("overflow-y","hidden");d.animate(a,GD.empInfo.awardRevealSpeed,"easeInOutQuint",GD.empInfo.onAwardsHidden);return false};
GD.empInfo.onAwardsHidden=function(){var a=$(".awardsShortList"),b=$(".awardsScroller");b.fadeOut(GD.empInfo.awardFadeSpeed,function(){a.fadeIn(GD.empInfo.awardFadeSpeed,function(){b.css({height:""})})});return false};
GD.empInfo.showAddEmployerAwardDialogBox=function(a){urlAddAward="/award/addEmployerAwardPopup_input.htm?employerId="+a;GD.dialogManager.addAjaxDialog(urlAddAward,575,true,false,true,"GD.dialogManager.closeAllDialogs();",null,function(){GD.empInfo.onShowAddEmployerAwardDialogBox(true)});return false};
GD.empInfo.onShowAddEmployerAwardDialogBox=function(a){a&&GD.analytics.trackPageView("/employerInfo/popup/addAward");GD.ajax.createEmployerAwardNameAutoComplete("#AwardName");GD.ajax.createEmployerAwardSourceAutoComplete("#AwardSource");GD.augments.augmentPlaceholderField("#AwardSource","e.g. Fortune");GD.augments.augmentPlaceholderField("#AwardName","e.g. 100 Best Companies to Work For");GD.augments.augmentPlaceholderField("#ExternalWebsite","e.g. http://www.fortune.com/bestcompanies")};
GD.empInfo.submitAwardDialog=function(){var a=document.getElementById("AddEmployerAwardForm");GD.augments.uninstallPlaceholders($("#AddEmployerAwardForm input[placeholder]"));GD.ajax.submitForm("#AddEmployerAwardForm",a.action,"html",GD.empInfo.processAddAwardDialogResult);return false};GD.empInfo.processAddAwardDialogResult=function(a,b){if(b)if(b.trim().length==0)GD.empInfo.onAwardDialogCommError();else{GD.dialogManager.getCurrentDialog().setContents(b);GD.empInfo.onShowAddEmployerAwardDialogBox(false)}else GD.empInfo.onAwardDialogCommError()};
GD.empInfo.onAwardDialogCommError=function(){$("#AddEmployerAwardPopup").hide();$("#AddEmployerAwardErrorPopup").show();return false};GD.empInfo.retryAwardDialog=function(){GD.btn.enable("#AddEmployerAwardFormButton");$("#AddEmployerAwardPopup .fieldError").remove();$("#AddEmployerAwardPopup .errorHeader").hide();$("#AddEmployerAwardErrorPopup").hide();$("#AddEmployerAwardPopup").show();return false};
GD.empInfo.submitJobDetailsFilter=function(){var a=id("SalaryJobSummaryFilterForm");a&&a.submit&&a.submit();return false};GD.empInfo.submitSalaryBasicFilter=function(){var a=id("SalaryFilterForm");if(a&&a.submit){GD.augments.uninstallPlaceholderField($("#FilterJobTitle"));a.submit();GD.dom.clearPage()}return false};GD.empInfo.submitEmpInfoSortChange=function(a){if(a&&a.options)(a=a.options[a.selectedIndex].value)&&GD.dom.clearWindowAndRedirect(a)};
GD.empInfo.getEmployerOverallRatingDetails=function(a,b,d,c,e,f){var g=$("#CompanyRatingDetailsContainer");if(!(g.html().trim().length>0||isNaN(a))){g.html("<img src='/static/img/spinners/round-gray-16.gif' width='16' height='16' alt='please wait...' class='spinner' />");a="/Reviews/findEmployerOverallRollupDetailsAjax.htm?employerId="+a;b.trim().length!=0&&d.trim().length!=0&&(a=a+("&locationId="+b+"&locationType="+d));if(c.trim().length!=0){c=c.decodeHTML();a=a+("&jobTitle="+encodeURIComponent(c))}e!=
null&&e.trim().length!=0&&(a=a+("&startDate="+encodeURIComponent(e)));f!=null&&f.trim().length!=0&&(a=a+("&endDate="+encodeURIComponent(f)));jQuery.ajax({url:a,dataType:"json",success:function(a){GD.empInfo.ratingDetailsResponseHandler(a)},error:function(){GD.empInfo.ratingDetailsResponseHandler(null)}})}};
GD.empInfo.ratingDetailsResponseHandler=function(a){if(a==null)a="<p><strong>An error occurred in retrieving the details for this company.</strong></p><p>Please try again.  If the problem persists, please be assured that our engineers are scrambling to fix the problem.</p>";else{for(var b=a.resultSet,a="<table>",d=0;d<b.length;d++){var c=b[d];if(c.value>0){a=a+"<tr>";a=a+('<th style="border: 1px solid red;">'+c.question+"</th>");a=a+('<td style="border: 1px solid red;">'+c.value+"</td>");a=a+"</tr>"}}a=
a+"</table>"}$("#CompanyRatingDetailsContainer").html(a)};
GD.empInfo.markHelpfulReview=function(a,b,d){if(a==null)throw"GD.empInfo.markHelpfulReview must have an id.";if(b==null)throw"GD.empInfo.markHelpfulReview must have a type indicator.";if(d==null)throw"GD.empInfo.markHelpfulReview must have a helpful indicator.";var c;b=="EMPLOYER_REVIEW"?c="/Reviews/markHelpfulReviewAjax.htm":b=="INTERVIEW_REVIEW"?c="/Interview/markHelpfulReviewAjax.htm":b=="USER_QUESTION"?c="/Interview/markHelpfulQuestionAjax.htm":b=="USER_RESPONSE"?c="/employerInfoAndSearch/markHelpfulResponseAjax.htm":
b=="COMPANY_PHOTO"&&(c="/Photos/markHelpfulPhotoAjax.htm");jQuery.ajax({url:c,data:"respondableId="+a+"&helpful="+d,dataType:"json",error:function(a,b){GD.empInfo.markHelpfulReviewCallback(b,null)},success:function(a,b){GD.empInfo.markHelpfulReviewCallback(b,a)}});return false};
GD.empInfo.markHelpfulReviewCallback=function(a,b){if(b&&b.respondableId&&b.type&&b.responseResult&&b.responseResultMessage){var d=$("#helpful_"+b.type+"_"+b.respondableId);d.length&&d.html(b.responseResultMessage);var d=$("#helpfulSummary_"+b.type+"_"+b.respondableId),c=id("helpfulCount_"+b.type+"_"+b.respondableId),e=id("helpfulTotal_"+b.type+"_"+b.respondableId);if(d.length&&c&&e&&b.responseResult=="SUCCESS"){if(b.helpful)c.innerHTML=c.innerHTML-0+1;e.innerHTML=e.innerHTML-0+1;d.hasClass("hidden")?
d.removeClass("hidden"):d[0].tagName=="SPAN"?d.css("display","inline"):d.css("display","block")}}else throw"GD.empInfo.markHelpfulReviewCallback - missing response.";};GD.empInfo.onInterviewReviewSearchButtonClick=function(){GD.augments.uninstallPlaceholderField($("#FilterJobTitle"));GD.dom.clearPage();return true};GD.empInfo.showAllInterviewTopJobs=function(){var a=$("#TopJobsListShort"),b=$("#TopJobsListLong");a.hide();b.show();return false};
GD.empInfo.toggleAddTagModule=function(a){var b=$("#AddTagsForm_"+a),a=$("#AddTagsToggle_"+a);if(b.length)if(b.css("display")!="none"){b.css("display","none");a.length&&a.css("background-image","url(/static/img/icons/arrows/right.gif)")}else{b.css("display","block");a.length&&a.css("background-image","url(/static/img/icons/arrows/down.gif)");b.find("input[type='text']").focus()}return false};GD.empInfo.cancelAddTag=function(a,b){GD.empInfo.toggleAddTagModule(a);GD.augments.clearTags(b);return false};
GD.empInfo.addTagsToQuestion=function(a){try{if(a==null)throw"must have a question id.";var b=id("QuestionTagEditor_"+a+"_Value");if(b==null)throw"must have tag editor input field.";var d;d=b.value;if(d==null||d.length==0){var c=id("TagError_"+a);c.innerHTML="You must enter a value for this field.";c.style.display="block";return}c=id("TagError_"+a);c.innerHTML="";c.style.display="none";options={url:"/Interview/addTagsToQuestion.htm",data:{questionId:a,newTags:d},dataType:"json",error:function(b,c){GD.empInfo.addTagsToQuestionCallback(c,
null,"QuestionTagEditor_"+a)},success:function(b,c){GD.empInfo.addTagsToQuestionCallback(c,b,"QuestionTagEditor_"+a)}};jQuery.ajax(options);GD.empInfo.toggleAddTagModule()}catch(e){Logger.fatal("GD.empInfo.addTagsToQuestion",e)}return false};
GD.empInfo.addTagsToQuestionCallback=function(a,b,d){try{if(b&&b.questionId)if(b.tagsWithLinks){var c=id("QuestionTags_"+b.questionId);GD.tagList.addTags(b.questionId,b.tagsWithLinks);c.style.display="block";d&&GD.augments.clearTags(d)}else throw"missing error or tags.";else{var e=id("TagError_"+b.questionId);e.innerHTML=b.error;e.style.display="block"}}catch(f){Logger.fatal("interviews.js / GD.empInfo.addTagsToQuestionCallback()",f)}};
GD.empInfo.checkForCommentsError=function(){var a=$("form#PostCommentForm");$(".fieldError",a).length>0&&jQuery.scrollTo(a,400,{easing:"easeInOutCubic"})};GD.empInfo.initJobsPage=function(){GD.ajax.initLocationDisambig("#FilterLocation",null,null,"#FilterLocationString","#FilterLocationDisambigPP",25,0,null,false,GD.empInfo.doJobsFilterFormSubmit);GD.augments.augmentPlaceholders($("#JobsFilterForm input[placeholder]"))};
GD.empInfo.doJobsFilterFormSubmit=function(){GD.augments.uninstallPlaceholders($("#JobsFilterForm input[placeholder]"));GD.dom.clearPage();$("#JobsFilterForm")[0].submit();return false};GD.empInfo.initToggles=function(){$(".toggleable a.openToggle").not(".initialized").addClass("initialized").on("click",GD.empInfo.openToggle);$(".toggleable a.closeToggle").not(".initialized").addClass("initialized").on("click",GD.empInfo.closeToggle)};
GD.empInfo.openToggle=function(){$(this).toggleClass("hidden");$(this).siblings(".closeToggle").toggleClass("hidden");$(this).closest(".toggleable").find(".toggleBody").show()};GD.empInfo.closeToggle=function(){$(this).toggleClass("hidden");$(this).siblings(".openToggle").toggleClass("hidden");$(this).closest(".toggleable").find(".toggleBody").hide()};GD.runAfterBody(GD.empInfo.initToggles);if("undefined"===typeof GD)var GD={};"undefined"===typeof GD.help&&(GD.help={});if("undefined"===typeof GD)var GD={};"undefined"===typeof GD.home&&(GD.home={});GD.home.changeSearchType=function(c,d){var a=$("#NonMemberSearchForm"),b=$("#NonMemberSearchFormSubmitLabel");if(a.length)a[0].action=d;b.length&&b.html("Search "+c);return true};GD.home.onSearchSubmit=function(){GD.dom.clearPage();return true};if("undefined"===typeof GD)var GD={};"undefined"===typeof GD.edu&&(GD.edu={});GD.edu.onDegreeProgramSearchSubmit=function(){GD.dom.clearPage();return true};GD.edu.onCategoryChange=function(a){var b=$("#AreaOfStudySelect").val(),d=$("#ConcentrationsSelect"),c=b!=0;if(c&&d.length){a||(a=-1);a=GD.edu.loadConcentrations(d,b,a);if(!a||a.length==0)c=false}d.css("display",c?"block":"none");return true};
GD.edu.loadConcentrations=function(a,b,d){if(!GD.edu.concentrationsMap)return null;a=$(a);a.empty();a.append("<option value='0'>- Select a Concentration -</option>");if(b=GD.edu.concentrationsMap[b])for(var c=0;c<b.length;c++){var e="<option value='"+b[c].id+"'";b[c].id===d&&(e=e+" selected='selected'");e=e+">"+b[c].label+"</option>";a.append(e)}return b};if("undefined"===typeof GD)var GD={};"undefined"===typeof GD.profile&&(GD.profile={});GD.profile.onMembershipLevelClick=function(c,d){var a=$("#TrialAccountDesc"),b=a.is(":visible");if(c){b&&a.hide("blind");$("#CreateAccountFormButtonLabel").html(d?"Create My Account":"Next")}else{b||a.show("blind");$("#CreateAccountFormButtonLabel").html("Create My Account")}return true};if("undefined"===typeof GD)var GD={};"undefined"===typeof GD.search&&(GD.search={});GD.search.submitSearchLocationFilter=function(){var a=$("#LocationFilterForm");if(a){a.submit();GD.dom.clearPage()}return false};GD.search.submitJobsSearchLocationFilter=function(){var a=$("#JobsSearchFilterForm");if(a.length){GD.dom.clearPage();a.submit()}return false};GD.search.submitSearchSortChange=function(a){if(a&&a.options)(a=a.options[a.selectedIndex].value)&&GD.dom.clearWindowAndRedirect(a)};
GD.search.baseLineHeight=16;GD.search.feedbackURL="/search/feedbackAjax.htm";GD.search.showThanksSeconds=2;GD.search.standardAnimationDuration=200;
GD.search.initFeedback=function(){var a=$(".searchFeedbackRequest span.link");a.click(GD.search.submitFeedback);a.parents(".searchFeedbackRequest").each(function(){var a=$(this);a.attr("defaultHeight",GD.search.baseLineHeight);a.css("min-height",GD.search.baseLineHeight)});var a=$(".searchFeedbackRequest .gdBtn"),b=$(".searchFeedbackRequest a.cancelBtn");a.click(GD.search.sendNotHelpfulFeedback);b.click(GD.search.cancelFeedbackForm)};
GD.search.submitFeedback=function(a){var a=$(a.target),b=a.parents(".searchFeedbackRequest:first");if(a.hasClass("helpful")){GD.search.sendHelpfulFeedback(b);GD.search.thankFeedback(b)}else GD.search.expandNotHelpfulForm(b)};
GD.search.sendNotHelpfulFeedback=function(a){var b=$(a.target).parents(".searchFeedbackRequest:first"),c=$(".notHelpfulForm",b),d=$("form.searchDataForm",b).serialize().trim(),c=$("form",c).serialize().trim();c.length&&d.length&&(c=c+"&");GD.search.sendAjaxFeedback(c+d);GD.search.thankFeedback(b);a.preventDefault()};
GD.search.cancelFeedbackForm=function(a){var b=$(a.target).parents(".searchFeedbackRequest:first");$(".notHelpfulForm",b).fadeOut(GD.search.standardAnimationDuration,function(){GD.search.shrinkNotHelpfulForm(b)});a.preventDefault()};GD.search.expandNotHelpfulForm=function(a){$(".requestPart:visible",a).fadeOut(GD.search.standardAnimationDuration,function(){GD.search.showNotHelpfulForm(a)})};
GD.search.shrinkNotHelpfulForm=function(a){$(".requestPart:visible",a);var b={height:a.attr("defaultHeight")};a.animate(b,{duration:GD.search.standardAnimationDuration,complete:function(){GD.search.showFeedbackPrompt(a)}})};GD.search.showNotHelpfulForm=function(a){var b={height:$(".notHelpfulForm").height()+20};a.animate(b,{duration:GD.search.standardAnimationDuration,complete:function(){$(".notHelpfulForm",a).fadeIn(GD.search.standardAnimationDuration,function(){$(".notHelpfulForm textarea",a).focus()})}})};
GD.search.sendHelpfulFeedback=function(a){a=$("form.searchDataForm",a).serialize().trim();a.length&&(a=a+"&");GD.search.sendAjaxFeedback(a+"helpful=true")};GD.search.sendAjaxFeedback=function(a){jQuery.ajax({url:GD.search.feedbackURL,data:a,dataType:"json"})};GD.search.showFeedbackPrompt=function(a){$(".request",a).fadeIn(GD.search.standardAnimationDuration)};
GD.search.thankFeedback=function(a){$(".requestPart:visible",a).fadeOut(GD.search.standardAnimationDuration,function(){var b=a.height(),c=a.attr("defaultHeight");b==c?GD.search.showThankFeedback(a):a.animate({height:c},{duration:GD.search.standardAnimationDuration,complete:function(){GD.search.showThankFeedback(a)}})})};
GD.search.showThankFeedback=function(a){$(".requestThanks",a).fadeIn(GD.search.standardAnimationDuration,function(){setTimeout(function(){GD.search.hideThankFeedbackAgain(a)},GD.search.showThanksSeconds*1E3)})};
GD.search.hideThankFeedbackAgain=function(a){var b=$(".requestThanks",a);a.css("height",a.height());a.css("min-height",0);b.fadeOut(GD.search.standardAnimationDuration,function(){b.hide();a.css({padding:0,height:a.innerHeight()});a.animate({height:0},{duration:GD.search.standardAnimationDuration,complete:function(){GD.search.removeFeedbackRequest(a)}})})};GD.search.removeFeedbackRequest=function(a){a.css("border-bottom-width",0)};if("undefined"===typeof GD)var GD={};"undefined"===typeof GD.staticList&&(GD.staticList={});GD.staticList.expandBestPlacesMethodology=function(){var a=id("BestPlacesMethodologyClosed"),b=id("BestPlacesMethodologyOpened");if(a)a.style.display="none";if(b)b.style.display="block"};window.GD=window.GD||{};GD.jobScope=GD.jobScope||{};GD.jobScope.PANEL_WIDTH=600;GD.jobScope.ANIMATE_SPEED=400;GD.jobScope.MAX_NEWS_ITEMS=2;GD.jobScope.googleSearchKey=null;GD.jobScope.facebookRequestedPerms=null;
GD.jobScope.init=function(a,b,c){GD.jobScope.googleSearchKey=a;GD.jobScope.facebookRequestedPerms=b;$("body").data("jobScopeAutoOpenEnabled",c);$(".jobScopePanel").each(function(){var a=$(this),b=GD.jobScope._getJobInfo(a);$(".panelHeader .jobScopeToggle",a).click(function(){GD.jobScope.toggle(a,b,!1)});$(".jobScopeTabs li",a).click(function(c){c=$(c.target);c.is("li")||(c=c.parents("li:first"));if($(".fbSignInPrompt",c).is(":visible"))return GD.fb.facebookLogin(GD.jobScope.facebookRequestedPerms,
"/profile/createSocialNetworkAccount.htm",GD.dom.getDocUrl()),!1;c.attr("contentPanelId").trim();var g=$(".tabbed",a),h=g.is(":visible");if($(".jobScopeTabs li.selected",a).is(c)&&h)return GD.jobScope.toggle(a,b,!1),!0;h?GD.jobScope._selectTab(a,c,!1):(GD.analytics.trackEvent("jobPanel","open",b.employerShortName),GD.jobScope.open(a,g,c,!1));return!0})});$(".jobScopeLink").click(function(a){var a=$(a.currentTarget),b=a.attr("jobScopeId"),a=a.attr("jobScopeTab");if(b){var b=$("#"+b),c=$(".tabbed",
b).is(":visible");selectedTabType=$(".selected",b).attr("tabType");c&&a==selectedTabType?GD.jobScope.toggle(b):GD.jobScope.showTab(b,a)}})};GD.jobScope._logTabClick=function(a){(a=a.attr("loggingUrl"))&&jQuery.ajax({url:a,dataType:"json"})};GD.jobScope._disableAutoOpen=function(){$("body").data("jobScopeAutoOpenEnabled")&&(jQuery.ajax({url:"/jobScope/panels/jobScopeDisableAutoOpen.htm",dataType:"json"}),$("body").data("jobScopeAutoOpenEnabled",!1))};
GD.jobScope.toggle=function(a,b,c){b||(b=GD.jobScope._getJobInfo(a));var d=$(".tabbed",a);d.is(":animated")||(d.is(":visible")?(GD.analytics.trackEvent("jobPanel","close",b.employerShortName),GD.jobScope._close(a)):(c?GD.analytics.trackEvent("jobPanel","auto-open",b.employerShortName):GD.analytics.trackEvent("jobPanel","open",b.employerShortName),GD.jobScope.open(a,d,null,c)));c||GD.jobScope._disableAutoOpen();return!1};
GD.jobScope.showTab=function(a,b){var c=$(".tabbed",a),d=c.is(":visible"),e=$(".jobScopeTabs li[tabType='"+b+"']",a);d?GD.jobScope._selectTab(a,e):(GD.jobScope.open(a,c,e,!1),GD.jobScope._disableAutoOpen())};
GD.jobScope.open=function(a,b,c,d){var e=a.attr("panelDefaultBgColor");if(!e||"transparent"===e)e="white";a.is(".initialized")||GD.jobScope._initPanel(a,b);if(null==c){var f=a.attr("selectedTab");f&&(c=$(".jobScopeTabs li[tabType='"+f+"']",a));c||(c=$(".jobScopeTabs li:first",a))}c&&GD.jobScope._selectTab(a,c,d);a.toggleClass("jobScopePanelOpened");a.css({backgroundColor:e,borderColor:"white"});a.animate({backgroundColor:"#e8f3e8",borderTopColor:"#cae8ca",borderRightColor:"#cae8ca",borderBottomColor:"#cae8ca",
borderLeftColor:"#cae8ca"},GD.jobScope.ANIMATE_SPEED);b.slideDown(GD.jobScope.ANIMATE_SPEED);b=$(".panelHeader .jobScopeTabs .hiddenWhenOpened",a);0<b.length?b.fadeOut(GD.jobScope.ANIMATE_SPEED/2,function(){GD.jobScope._showOpenedTabs(a)}):GD.jobScope._showOpenedTabs(a);$(".panelHeader div.closeBox",a).fadeIn(GD.jobScope.ANIMATE_SPEED);a.is(".jobScopePanelLast")&&(b=a.parents(".featuredJobListings"),b.length&&b.animate({paddingBottom:"5px"},GD.jobScope.ANIMATE_SPEED))};
GD.jobScope._showOpenedTabs=function(a){$(".panelHeader .jobScopeTabs li.hiddenWhenClosed",a).fadeIn(GD.jobScope.ANIMATE_SPEED)};
GD.jobScope._close=function(a){$panelContent=a.find(".tabbed").first();var b=a.attr("panelDefaultBgColor");if(!b||"transparent"===b)b="white";$panelContent.slideUp(GD.jobScope.ANIMATE_SPEED);a.animate({backgroundColor:b,borderTopColor:b,borderRightColor:b,borderBottomColor:b,borderLeftColor:b,paddingBottom:0},GD.jobScope.ANIMATE_SPEED);a.animate({marginBottom:0},GD.jobScope.ANIMATE_SPEED/2);a.is(".jobScopePanelLast")&&(b=a.parents(".featuredJobListings"),b.length&&b.animate({paddingBottom:0},GD.jobScope.ANIMATE_SPEED));
a.toggleClass("jobScopePanelOpened");$(".jobScopeTabs li:visible",a).not(":first").children(".divider").css("border-left-width",1);$(".jobScopeTabs li",a).removeClass("selectedTabNext");var b=$(".panelHeader .jobScopeTabs li.hiddenWhenClosed,.panelHeader div.closeBox",a),c=$(".panelHeader .jobScopeTabs .fbSignInPrompt",a);0<c.length&&b.add('.panelHeader .jobScopeTabs li[tabType="CONNECTIONS"] .tabLinkConnected',a);b.fadeOut(GD.jobScope.ANIMATE_SPEED/2,function(){GD.jobScope._showClosedTabs(a,c)})};
GD.jobScope._showClosedTabs=function(a,b){b&&b.length&&b.fadeIn(GD.jobScope.ANIMATE_SPEED)};GD.jobScope._initPanel=function(a){closeBox=$(".panelHeader .closeBox",a);closeBox.on("click",GD.jobScope._clickAndCloseJobScopePanel);a.closeBox=closeBox;panelDefaultBgColor=a.css("border-top-color");a.attr("panelDefaultBgColor",panelDefaultBgColor);a.addClass("initialized")};
GD.jobScope._clickAndCloseJobScopePanel=function(){jobScopePanel=$(this).closest(".jobScopePanel");employerShortName=GD.jobScope._getJobInfo(jobScopePanel).employerShortName;GD.analytics.trackEvent("jobPanel","close",employerShortName);GD.jobScope._close(jobScopePanel);GD.jobScope._disableAutoOpen()};
GD.jobScope._selectTab=function(a,b,c){var d=b.attr("contentPanelId").trim(),e=b.attr("tabType").trim(),f=!1,g=null;if(d&&e){var f=$(".tabContent",a),h=$(".jobScopeTabs li",a),g=$("#"+d);h.not(b);d=b.next("li");h.removeClass("selectedTabNext");d.addClass("selectedTabNext");h.removeClass("selected");b.addClass("selected");g.show();f.not(g).hide();f=GD.jobScope._populateTabContents(a,g,e)}c||GD.analytics.trackEvent("jobPanel","tabView",e);!f&&g&&GD.jobScope._logTabClick(g)};
GD.jobScope._populateTabContents=function(a,b,c){var a=GD.jobScope._getJobInfo(a),d=!1;b.is(".alreadyLoaded")?$(".focus:first",b).focus():(b.is(".cloneable")&&GD.jobScope._cloneTabContents(b,c,a),b.is(".alreadyLoaded")||(d=GD.jobScope._loadTabContents(b,c,a,GD.jobScope.googleSearchKey)),b.addClass("alreadyLoaded"));return d};
GD.jobScope._cloneTabContents=function(a,b,c){var b=b.toLowerCase()+"Panel",d=null;a.is(".cloneableByEmployer")?c.employerId&&(d=$(".jobScopePanel[employerId="+c.employerId+"] .tabContent."+b+".cloneable.alreadyLoaded:first")):d=$(".jobScopePanel .tabContent."+b+".cloneable.alreadyLoaded:first");d.length&&(c=d.children().clone(!0),a.children().remove(),a.append(c),a.addClass("alreadyLoaded"),$(".focus:first",a).focus())};
GD.jobScope._loadTabContents=function(a,b,c,d){var e=a.attr("contentsUrl"),f=!1;if(e)GD.jobScope._loadAjaxTabContent(a,b,c,e),f=!0;else switch(b){case "WEBSEARCH":GD.jobScope._loadWebSearchContent(a,c);break;case "MAP":GD.jobScope._loadMapContent(a,c);break;case "NEWS":0<c.employerId?GD.jobScope._loadNewsSourceData(a,c,d):GD.jobScope._loadNewsContent(a,c,d);break;default:GD.jobScope._removeSpinner(a)}return f};
GD.jobScope._loadAjaxTabContent=function(a,b,c,d){jQuery.ajax({url:d,dataType:"html",error:function(d,f){GD.jobScope._loadAjaxTabContentComplete(a,b,c,null,f)},success:function(d,f){GD.jobScope._loadAjaxTabContentComplete(a,b,c,d,f)}})};
GD.jobScope._loadAjaxTabContentComplete=function(a,b,c,d){d&&(d=d.trim());if(d)switch(a.html(d+"<div class='clear'></div>"),$(".contentIconsCol .icons .icon[openTab]",a).each(function(){$(this).click(GD.jobScope._onOverviewIconClick)}),b){case "CONNECTIONS":GD.augments.augmentContextHelpNodes($(".contextHelpLink",a)),GD.runOnFacebookLoad(function(){GD.fb.initLoginButtons(GD.jobScope.facebookRequestedPerms,"/profile/createSocialNetworkAccount.htm",GD.dom.getDocUrl())})}else a.html("<div class='tabContentInside'><p class='ajaxError'>Sorry, this information is currently unavailable.  Please check back in a few minutes.</p></div>");
GD.jobScope._removeSpinner(a)};GD.jobScope._onOverviewIconClick=function(a){var b=$(a.currentTarget),c=b.attr("openTab"),b=b.parents(".jobScopePanel:first");c&&GD.jobScope.showTab(b,c);a.preventDefault();a.stopPropagation();return!1};GD.jobScope._onTabContentsLoaded=function(a,b){$("a[target]",b);$("form[target]",b);$(".focus:first",b).focus()};
GD.jobScope._loadWebSearchContent=function(a,b){var c=a.parents(".jobScopePanel:first").attr("id"),d=$(".webResultsContainer",a),e=$(".webSearchField input:first",a),f=['"'+b.employerName+'"','"'+b.employerShortName+'"'];(new GoogleSearchControl(d,e,b,function(){setTimeout(function(){GD.jobScope._onTabContentsLoaded(c,a)},1)})).execute(f)};
GD.jobScope._loadMapContent=function(a,b){var c=a.parents(".jobScopePanel:first").attr("id");GD.maps.loadMap({$tabContent:a,jobInfo:b,jobScopePanelId:c,searchTerms:['"'+b.employerName+'"','"'+b.employerShortName+'"']})};GD.maps={};GD.maps.loadMap=function(a){GD.maps.loadMap=function(){};GD.maps.loadParams=a;a=document.createElement("script");a.type="text/javascript";a.src="//maps.googleapis.com/maps/api/js?v=3.6&sensor=false&callback=GD.maps.initialize";(document.body||document.documentElement).appendChild(a)};
GD.maps.initialize=function(){GD.maps.loadMap=function(a){var b=a.$tabContent,c=a.jobScopePanelId,d=a.searchTerms;(new MapSearchControl(b,a.jobInfo,function(){setTimeout(function(){GD.jobScope._onTabContentsLoaded(c,b)},1)})).execute(d)};GD.maps.loadMap(GD.maps.loadParams);delete GD.maps.loadParams;delete GD.maps.initialize};
GD.jobScope._loadNewsSourceData=function(a,b,c){jQuery.ajax({url:"/jobScope/panels/jobScopeEmployerNewsSource.htm?employerId="+b.employerId,dataType:"json",error:function(d,e){GD.jobScope._onLoadNewsSourceComplete(a,b,c,null,e)},success:function(d,e){GD.jobScope._onLoadNewsSourceComplete(a,b,c,d,e)}})};
GD.jobScope._onLoadNewsSourceComplete=function(a,b,c,d){d&&d.newsSource?(b.newsSource=d.newsSource,b.newsSourceData=d.newsSourceData,b.googleKeywords=d.googleKeywords,b.rssAttribName=d.rssAttribName):(b.newsSource="GOOGLE",b.newsSourceData=b.employerShortName);GD.jobScope._loadNewsContent(a,b,c)};
GD.jobScope._loadNewsContent=function(a,b){var c=$(".contentHolder",a);GD.news.initNewsFeed(c,b.employerShortName,{newsSource:b.newsSource,newsSourceData:b.newsSourceData,googleKeywords:b.googleKeywords,rssAttribName:b.rssAttribName,maxItems:GD.jobScope.MAX_NEWS_ITEMS,onCompleteCallback:function(a,c){GD.jobScope._onNewsComplete(a,c,b)}})};
GD.jobScope._getJobInfo=function(a){var b={};if(a&&a.length){var c=a.attr("employerId");c?(c=Number(c),isNaN(c)&&(c=0)):c=0;b.jobScopeId=a.attr("id");b.employerId=c;a.attr("employerName")&&(b.employerName=a.attr("employerName"));a.attr("employerShortName")&&(b.employerShortName=a.attr("employerShortName"));a.attr("employerUrl")&&(b.employerUrl=a.attr("employerUrl"));a.attr("location")&&(b.location=a.attr("location"))}return b};
GD.jobScope._onNewsComplete=function(a,b,c){if(0<b)a.is(".tabContentInside")||a.parents(".tabContentInside:first"),"GOOGLE"===c.newsSource?(c=$("<div class='credit googleCredit minorText'>"),c.html("Provided by Google News"),a.append(c)):"PRESS_CENTER"===c.newsSource&&(c=$("<div class='credit pressCenterCredit minorText'>"),c.html("Provided by employer"),a.append(c));else{var b=$("#NewsSearchPanelTemplate").html(),d=RegExp("%JOB_SCOPE_ID%".escapeForRegex(),"g"),e=RegExp("%SEARCH_TERM%".escapeForRegex(),
"g"),f=RegExp("%URL_ENCODED_SEARCH_TERM%".escapeForRegex(),"g"),g='"'+c.employerShortName.replace('"',"")+'"',b=b.replace(d,c.jobScopeId),b=b.replace(e,c.employerShortName),b=b.replace(f,encodeURIComponent(g));a.empty().html(b);$(".focus:first",a).focus()}};GD.jobScope._removeSpinner=function(a){$(".spinner:first",a).remove()};
GD.jobScope._getNoResultsMessage=function(a){var b="<img src='/static/img/spacer.gif' class='warning' />Sorry, we could not find anything";a.employerShortName&&(b+=" matching <span class='keepTogether'>\""+a.employerShortName+'"</span>');a.location&&(b+=" in <span class='keepTogether'>"+a.location+"</span>");return"<p class='noResults'>"+(b+".")+"</p>"};
function GoogleSearchControl(a,b,c,d){this.jobInfo=c;this.container=$(a);this.searchField=$(b);this.onLoadCallback=d;this.webSearch=new google.search.WebSearch;this.webSearch.setResultSetSize(2);this.webSearch.setSearchCompleteCallback(this,this._searchComplete)}
GoogleSearchControl.prototype._searchComplete=function(){var a=this.container,b=$("<div class='results webSearchResults'>");results=this.webSearch.results;if(results.length){for(loop=0;loop<results.length&&2>loop;loop++){var c=results[loop],d=$("<div class='data wideData'>");d.append(c.html.cloneNode(!0));c=$("<div class='resultItem'>");c.append(d);c.append("<div class='clear'>");b.append(c)}var c=this.queryArray[this.currentQueryIndex],d=$("<div class='moreResults'>"),c="http://www.google.com/search?q="+
encodeURIComponent(c),e=$("<a>More Google results &raquo;</a>");e.attr("href",c);e.attr("rel","nofollow");e.attr("target","_blank");d.append(e);b.append(d);a.empty();a.append(b);this.searchField.val(this.queryArray[this.currentQueryIndex]);if(jQuery.isFunction(this.onLoadCallback))this.onLoadCallback()}else if(this.currentQueryIndex+1>=this.queryArray.length){if(this.searchField.val(webSearchControl.queryArray[webSearchControl.currentQueryIndex]),jQuery.isFunction(this.onLoadCallback))this.onLoadCallback()}else this.currentQueryIndex+=
1,this.webSearch.execute(this.queryArray[this.currentQueryIndex])};GoogleSearchControl.prototype.execute=function(a){this.queryArray=a;this.currentQueryIndex=0;this.webSearch.execute(this.queryArray[this.currentQueryIndex])};
function MapSearchControl(a,b,c){this.jobInfo=b;this.container=$(a);this.onLoadCallback=c;this.localSearch=new google.search.LocalSearch;this.localSearch.setCenterPoint(b.location);this.localSearch.setResultSetSize(2);this.localSearch.setAddressLookupMode(google.search.LocalSearch.ADDRESS_LOOKUP_DISABLED);this.localSearch.setSearchCompleteCallback(this,this._searchComplete)}MapSearchControl.prototype.execute=function(a){this.queryArray=a;this.currentQueryIndex=0;this.localSearch.execute(this.queryArray[this.currentQueryIndex])};
MapSearchControl.prototype._searchComplete=function(){var a=this.container,b=a.parents(".jobScopePanel:first").attr("id"),c=this.localSearch.results,d=!1,e=$("<div class='tabContentInside mapSearchResults'>");c.length&&(c=this._filterResults(c));if(c.length){var f=$("<div class='data'>"),g="A";f.append("<h3 class='contentDesc'>Possible locations</h3>");for(var h=0;2>h&&h<c.length;h++){var i=c[h],k=$("<div class='text'>"),j=$("<div class='resultItem"+(0==h?" resultItemSelected":"")+"'>");i.lat&&i.lng&&
(d=$("<img class='pin'>"),c[h].mapPin="http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld="+g+"|FF0000|000000",d.attr("src",c[h].mapPin),j.append(d),g=String.fromCharCode(g.charCodeAt(0)+1),d=!0);k.append(i.html.cloneNode(!0));j.append(k);j.append("<img src='/static/img/spacer.gif' class='beak' />");j.append("<div class='clear'>");f.append(j);i=this._createPinClickHandler(e,h);j.click(i)}f.append("<div class='clear'>");h=this.queryArray[this.currentQueryIndex]+encodeURIComponent(" "+this.jobInfo.location);
g=$("<div class='moreResults'>");h="http://maps.google.com/maps?q="+h;j=$('<span><a>See all results for "'+this.jobInfo.employerShortName+'" &raquo;</a></span>');i=$("a",j);i.attr("href",h);i.attr("rel","nofollow");i.attr("target","_blank");f.append(g);g.append(j);e.append(f);e.append("<div id='GoogleMapCanvas' class='googleMap'>")}else this.currentQueryIndex+1>=this.queryArray.length?(f=GD.jobScope._getNoResultsMessage(this.jobInfo),e.append(f)):(this.currentQueryIndex+=1,this.localSearch.execute(this.queryArray[this.currentQueryIndex]));
e.append("<div class='clear'></div>");a.empty();a.append(e);d&&(this._getPins(c),this._drawMap(e,b));if(jQuery.isFunction(this.onLoadCallback))this.onLoadCallback()};MapSearchControl.prototype._filterResults=function(a){var b=this.queryArray[this.currentQueryIndex];'"'==b.charAt(0)&&(b=b.substring(1));'"'==b.charAt(b.length-1)&&(b=b.substring(0,b.length-1));a=this._filterExactMatches(a,b);return a=this._filterNonMatches(a,b)};MapSearchControl.prototype.PUNCT_REGEX=/[!\?.,|\-=\+\$\*\(\)]+/g;
MapSearchControl.prototype.MULTI_SPACE_REGEX=/ {2,}/g;
MapSearchControl.prototype._filterExactMatches=function(a,b){for(var c=!1,d=b.replace(this.PUNCT_REGEX," ").replace(this.MULTI_SPACE_REGEX," ").trim(),e=0;e<a.length&&!c;e+=1)var c=a[e],f=c.titleNoFormatting.replace(this.PUNCT_REGEX," ").replace(this.MULTI_SPACE_REGEX," ").trim(),c=d.equalsIgnoreCase(f);if(c){for(var g=[],e=0;e<a.length;e+=1)c=a[e],f=c.titleNoFormatting.replace(this.PUNCT_REGEX," ").replace(this.MULTI_SPACE_REGEX," ").trim(),d.equalsIgnoreCase(f)&&g.push(c);a=g}return a};
MapSearchControl.prototype._filterNonMatches=function(a,b){for(var c=[],d=b.replace(this.PUNCT_REGEX," ").replace(this.MULTI_SPACE_REGEX," ").trim(),e=0;e<a.length;e+=1){var f=a[e],g=f.titleNoFormatting.replace(this.PUNCT_REGEX," ").replace(this.MULTI_SPACE_REGEX," ").trim(),g=this._getWordMatch(d,g);0.5<g&&(f.wordMatch=g,c.push(f))}return c};
MapSearchControl.prototype._commonEmployerNameWords={and:!0,associates:!0,association:!0,co:!0,com:!0,company:!0,corp:!0,corporation:!0,cos:!0,group:!0,holding:!0,holdings:!0,"in":!0,inc:!0,incorporated:!0,international:!0,intl:!0,limited:!0,llc:!0,llp:!0,lp:!0,ltd:!0,of:!0,plc:!0,the:!0};
MapSearchControl.prototype._getWordMatch=function(a,b){var c=/[\b\s&!\.,\?\-]+/,d=/([a-zA-Z])[\.\&]([a-zA-Z])/g,e=0,f=0;a||(a="");b||(b="");for(var a=a.replace(d,"$1$2"),b=b.replace(d,"$1$2"),d=a.split(c).sort(),g=b.split(c),c={},h=null,i=0;i<g.length;i++)c[g[i].toLowerCase()]=!0;for(i=0;i<d.length;i++){var g=d[i].toLowerCase(),k=this._commonEmployerNameWords[g];0<g.trim().length&&h!=g&&(k||(e+=1),c[g]&&(k||(f+=1)),h=g)}return f/e};
MapSearchControl.prototype._createPinClickHandler=function(a,b){var c=this;return function(d){c._onPinSelect(d,a,b)}};MapSearchControl.prototype._onPinSelect=function(a,b,c){c!=this.selectedPin&&($(".resultItemSelected",this.container).removeClass("resultItemSelected"),a=$(a.target),a.is(".resultItem")||(a=a.parents(".resultItem:first")),a.addClass("resultItemSelected"),this._setActiveMarker(c,!0))};
MapSearchControl.prototype._setActiveMarker=function(a,b){this.activeMarker&&this.activeMarker.setMap(null);var c=this.pins[a];this.activeMarker=new google.maps.Marker({position:c.center,map:this.map,icon:c.image,title:c.title});this.selectedPin=a;b&&this.map.panTo(c.center)};MapSearchControl.prototype._getPins=function(a){this.pins=[];for(var b=0;b<a.length;b++){var c=a[b];c.mapPin&&this.pins.push({center:new google.maps.LatLng(c.lat,c.lng),image:c.mapPin,title:c.titleNoFormatting})}};
MapSearchControl.prototype._drawMap=function(a,b){var c={zoom:13,center:this.pins[0].center,mapTypeId:google.maps.MapTypeId.ROADMAP,backgroundColor:"white",mapTypeControl:!1},d=$("#"+b+" .mapSearchResults .googleMap");d.length&&(this.map=new google.maps.Map(d[0],c),this._setActiveMarker(0,!1))};if("undefined"===typeof GD)var GD={};"undefined"===typeof GD.news&&(GD.news={});GD.news.initNewsFeed=function(a,c,b){switch(b.newsSource){case "FINS_GOOGLE":GD.news.getGenericRssFeed(a,c,b);break;case "PRESS_CENTER":GD.news.getPressCenterFeed(a,c,b);break;default:GD.news.getGoogleNewsFeed(a,c,b)}};
GD.news.getGenericRssFeed=function(a,c,b){a=$(a);a.empty().append("<div class='rssNewsItems'>");a=$(".rssNewsItems",a);(new GD.news.RssReader(a)).show(b.newsSourceData,{employerName:c,maxPosts:b.maxItems,maxAgeDays:30,showFeedTitle:false,dateClass:"minorText",moreNewsLinkText:b.moreNewsLinkText},b)};
GD.news.getPressCenterFeed=function(a,c,b){a=$(a);a.empty().append("<div class='rssNewsItems'>");a=$(".rssNewsItems",a);a=new GD.news.RssReader(a);c={employerName:c,maxPosts:b.maxItems,showFeedTitle:false,dateClass:"minorText",rssAttribName:b.rssAttribName,moreNewsLinkText:b.moreNewsLinkText};if(b.googleKeywords)c.googleKeywords=b.googleKeywords;a.show(b.newsSourceData,c,b)};
GD.news.getGoogleNewsFeed=function(a,c,b,d){var e=b.googleKeywords,e=e?'"'+e.replace('"',"")+'"':'"'+c.replace('"',"")+'"',a=$(a);jQuery.ajax({url:"http://ajax.googleapis.com/ajax/services/search/news",data:{v:"1.0",key:b.googleSearchKey,q:e,rsz:"small"},dataType:"jsonp",success:function(l){GD.news.onGoogleNewsResponse(c,a,l,e,b,d)},error:function(){GD.news.onGoogleNewsResponse(c,a,null,e,b,d)}})};
GD.news.onGoogleNewsResponse=function(a,c,b,d,e,l){var m,a=true;if(b&&b.responseData)m=b.responseData.results;if(c&&m&&m.length){var j=false,n=999;if(l){a=false;n=l.fillCount}else if(e.maxItems)n=e.maxItems;n<0&&(n=1);if(l){b=$(".rssItems",c);if(!b.length){b=$("<div class='rssItems'></div>");c.append(b)}}else{b=$("<div class='results newsSearchResults'>");c.empty();c.append(b)}if(a){for(var f=0;f<m.length&&f<n&&!j;f++)m[f].image&&(j=true);j&&b.addClass("newsSearchResultsWithPhotos")}for(var i,f=0;f<
m.length&&f<n;f++){var h=m[f],o=$("<div class='storyCol'>"),g=null;i=$("<div class='entry'>");b.append(i);if(j&&a){g=$("<div class='photoCol'>");i.append(g)}i.append(o);if(h.image&&a){var k=$("<a>"),p=$("<img>");p.attr("src",h.image.url).attr("width",h.image.tbWidth).attr("height",h.image.tbHeight);k.attr("href",h.image.originalContextUrl).attr("rel","nofollow").attr("target","_blank");k.append(p);g.append(k)}g=$("<div class='title'>");k=$("<a>"+h.title+"</a>");k.attr("href",h.unescapedUrl).attr("rel",
"nofollow").attr("target","_blank");g.append(k);o.append(g);if(h.content){g=$("<p class='content'>");k=$("<a>Read More</a>");k.attr("href",h.unescapedUrl).attr("rel","nofollow").attr("target","_blank");g.html(h.content+" &ndash; ");g.append(k);o.append(g)}k=null;h.publishedDate&&(k=new Date(Date.parse(h.publishedDate)));if(h.publisher||k){g=$("<p class='storyInfo'>");if(h.publisher){g.html("From: "+h.publisher+" (via Google News)");k&&g.html(g.html()+" &ndash; ")}if(k){h=$("<span class='date'>");
k=GD.util.durationInPast(k);h.html(k);g.append(h)}o.append(g)}i.append("<div class='clear'>")}if(l&&e.newsSourceAttrib){a=$(e.newsSourceAttrib);j="Provided by ";l.initialSourceAttrib&&(j=j+(l.initialSourceAttrib+" and "));a.html(j+"Google")}i&&i.addClass("lastEntry");i=$("<p class='moreResults'>");a=$("<a>");j="http://news.google.com/news?q="+encodeURIComponent(d);a.html("<strong>More news matching "+d+" &raquo;</strong>");a.attr("href",j).attr("rel","nofollow").attr("target","_blank");i.append(a);
b.append(i)}if(l){if(l.onComplete)l.onComplete(m.length)}else if(jQuery.isFunction(e.onCompleteCallback))e.onCompleteCallback(c,m.length,e)};GD.news.monthNames="January,February,March,April,May,June,July,August,September,October,November,December".split(",");GD.news.RssReader=function(a){this.rssFeedContainer=$(a)};
GD.news.RssReader.prototype.defaultSettings={maxPosts:4,noDataHideSelector:null,showFeedTitle:!0,showAuthor:!0,showDate:!0,showSnippet:!0,showMoreLink:!0,dateClass:"",moreNewsLinkText:null,onCompleteCallback:null};GD.news.RssReader.prototype.show=function(a,c,b){a.indexOf("feed://")==0&&(a="http"+a.substr(4));var d=new google.feeds.Feed(a),e=this;e.options={};e.options=jQuery.extend(e.options,e.defaultSettings,c);e.options.url=a;d.load(function(a){e.render(a,c.maxAgeDays,b)})};
GD.news.RssReader.prototype.render=function(a,c,b){var d=this,e=0,l=false;b||(b={});if(a.feed&&a.feed.entries&&a.feed.entries.length>0){if(d.rssFeedContainer&&d.rssFeedContainer.length){d.rssFeedContainer.empty();var m=$("<div class='rssItems'>");d.rssFeedContainer.append(m);if(d.options.showFeedTitle){var j=$("<h2>"),n=$("<a>");m.append(j);n.attr("href",a.feed.link).html(a.feed.title);j.append(n);m.append(j)}j=Math.min(a.feed.entries.length,d.options.maxPosts);for(n=0;n<j;n++){var f=a.feed.entries[n],
i=Date.parse(f.publishedDate),h=$("<div class='entry'>"),o=$("<p class='title'>"),g=$("<a>"),k=true;if(f.title&&f.contentSnippet&&f.link){if(i){i=new Date(i);if(c){var p=(new Date).diff(i,"d");if(p=="same")p=0;else{p=parseInt(p);isNaN(p)&&(p=0)}p>c&&(k=false)}}if(k){g.attr("href",f.link).attr("rel","nofollow").attr("target","_blank").html(f.title);o.append(g);h.append(o);if(f.author&&d.options.showAuthor){o=$("<div class='author'>");o.html("Posted by "+f.author);h.append(o)}if(f.contentSnippet&&d.options.showSnippet){o=
$("<p class='snippet'>");g=$("<span class='snippetText'></span>");h.append(o);o.append(g);g.html(f.contentSnippet);if(f.link){g=$("<a>");o.append("<span class='separator'> &ndash; </span>");o.append(g);g.attr("href",f.link).attr("rel","nofollow").attr("target","_blank").html("Read More")}}if(i&&d.options.showDate){f=$("<div class='date "+d.options.dateClass+"'>");i=GD.news.monthNames[i.getMonth()]+" "+i.getDate()+", "+i.getFullYear();f.html(i);h.append(f)}m.append(h);e++}}}if(e<d.options.maxPosts&&
b.googleKeywords){a={fillCount:d.options.maxPosts-e,initialSourceAttrib:e>0?b.rssAttribName:null,onComplete:function(a){d._onRssNewsComplete(e+a,b)}};GD.news.getGoogleNewsFeed(d.rssFeedContainer,d.options.employerName,b,a);l=true}else{b.newsSourceAttrib&&b.rssAttribName&&$(b.newsSourceAttrib).html("Provided by "+b.rssAttribName);if(a.feed.link){c=$("<p class='moreResults'>");j=$("<a>");n=d.options.moreNewsLinkText?d.options.moreNewsLinkText:d.options.employerName?"More "+d.options.employerName+" News":
"More News";j.attr("href",a.feed.link).attr("rel","nofollow").attr("target","_blank");j.html("<strong>"+n+"</strong>");c.append(j);m.append(c)}}}}else if(b.googleKeywords){a={fillCount:d.options.maxPosts,initialSourceAttrib:null,onComplete:function(a){d._onRssNewsComplete(a,b)}};GD.news.getGoogleNewsFeed(d.rssFeedContainer,d.options.employerName,b,a);l=true}l||d._onRssNewsComplete(e,b)};
GD.news.RssReader.prototype._onRssNewsComplete=function(a,c){if(this.options&&jQuery.isFunction(this.options.onCompleteCallback))this.options.onCompleteCallback(this.rssFeedContainer,a,this.options);if(c&&jQuery.isFunction(c.onCompleteCallback))c.onCompleteCallback(this.rssFeedContainer,a,c)};if("undefined"===typeof GD)var GD={};"undefined"===typeof GD.photos&&(GD.photos={});GD.photos.isFirstPage=!0;GD.photos.isLastPage=!0;GD.photos.firstRecordIndexOnPage=0;GD.photos.pagePhotoIds=[];GD.photos.firstPhotoId=0;GD.photos.lastPhotoId=0;GD.photos.currentPhotoId=0;GD.photos.currentPhotoIndex=-1;GD.photos.currentPhotoFromHash=!1;GD.photos.prevPageUrl="";GD.photos.nextPageUrl="";GD.photos.isExpectingAjaxResponse=!1;GD.photos.employerId="";GD.photos.location="";GD.photos.isInitialPagePhoto=!0;
GD.photos.ARROW_LEFT=37;GD.photos.ARROW_UP=38;GD.photos.ARROW_RIGHT=39;GD.photos.ARROW_DOWN=40;GD.photos.photoViewAnalyticsURL="/employerInfo/Photos/employer-photo-view";GD.photos.photoViewTrackURL="/Photos/track/view.htm";
GD.photos.initPhotoPage=function(a,b,c){GD.photos.employerId=a;GD.photos.location=b;if(GD.photos.pagePhotoIds.length<=0||GD.photos.firstPhotoId<=0||GD.photos.lastPhotoId<=0)Logger.error("Photo browse page variables not set properly before calling GD.photos.initPhotoPage().");else{a=GD.photos.checkHashTag();GD.photos.currentPhotoFromHash?GD.photos.getHashPhoto(a):c||(a>0?GD.photos.selectPhoto(a,true):GD.photos.selectPhoto(GD.photos.pagePhotoIds[0],true));$("#PhotosDataHeader .thumbs .frame a").click(GD.photos.onThumbClick).keydown(GD.photos.onThumbKeyDown);
if(!c){$("#LocalNavPrev").click(GD.photos.onLocalNavClick).keydown(GD.photos.onLocalNavKeyDown);$("#LocalNavNext").click(GD.photos.onLocalNavClick).keydown(GD.photos.onLocalNavKeyDown);$("#PhotosDataHeader .pageNav a.prevPage, #PhotosDataHeader .pageNav a.nextPage").click(GD.photos.gotoPage);setTimeout(GD.photos.preloadPhoto,10)}}};
GD.photos.checkHashTag=function(){var a=window.location.hash,b=0;if(a&&a.startsWith("#")&&a.indexOf("-")>=0){a=a.split("-");if(a.length>1){a=a[1];if(a=="last")b=GD.photos.pagePhotoIds[GD.photos.pagePhotoIds.length-1];else{a=parseInt(a);if(a!=NaN){b=a;GD.photos.currentPhotoFromHash=true}}}}if(GD.photos.currentPhotoFromHash)for(a=0;a<GD.photos.pagePhotoIds.length;a++)if(GD.photos.pagePhotoIds[a]==b){GD.photos.currentPhotoFromHash=false;break}return b};
GD.photos.selectPhoto=function(a,b){GD.photos.isExpectingAjaxResponse=false;if(a!=GD.photos.currentPhotoId){for(var c=0;c<GD.photos.pagePhotoIds.length;c++)if(GD.photos.pagePhotoIds[c]==a){GD.photos.currentPhotoIndex=c;break}c=(GD.photos.firstRecordIndexOnPage+GD.photos.currentPhotoIndex+1).addCommas();$("#PhotoContainer .nav .count .currItemIndex").html(c);$("#PhotoContainer .nav .count").show();$("#PhotosDataHeader .thumbs .frame").removeClass("currPhoto");$("#PhotoThumbnailFrame_"+a).addClass("currPhoto");
b&&$("#PhotoThumbnailFrame_"+a+" a").focus();$("#PhotosList .photo").addClass("hidden");$("#Photo_"+a).removeClass("hidden transparent");GD.photos.loadPhoto(a);GD.photos.currentPhotoId=a;GD.photos.updateLocalNavButtons()}};
GD.photos.loadPhoto=function(a){var b=$("#Photo_"+a+" img.companyPhoto"),c=b.attr("src"),d=b.attr("photoUrl");if(!b.attr("photoComplete")&&d&&c!=d){$("#PhotosListSpinner").show();b.load(function(){$("#PhotosListSpinner").hide();b.attr("photoComplete","true")}).error(function(){$("#PhotosListSpinner").hide();b.attr("photoComplete","true");GD.photos.brokenImage(b)});b.attr("src",d)}GD.photos.trackPhoto(a)};
GD.photos.trackPhoto=function(a){GD.analytics.trackPageView(GD.photos.photoViewAnalyticsURL);GD.photos.isInitialPagePhoto||jQuery.ajax({url:GD.photos.photoViewTrackURL,data:{photoId:a,employerId:GD.photos.employerId,location:GD.photos.location},dataType:"json"});GD.photos.isInitialPagePhoto=false};
GD.photos.preloadPhoto=function(){for(var a=0;a<GD.photos.pagePhotoIds.length;a++){var b=$("#Photo_"+GD.photos.pagePhotoIds[a]+" img.companyPhoto"),c=b.attr("src"),d=b.attr("photoUrl");if(!b.attr("photoComplete")&&d&&c!=d){b.one("load",function(){setTimeout(GD.photos.preloadPhoto,10);b.attr("photoComplete","true")});b.one("error",function(){GD.photos.brokenImage(b);b.attr("photoComplete","true");setTimeout(GD.photos.preloadPhoto,10)});Logger.info("Preloading photo id="+GD.photos.pagePhotoIds[a]);
b.attr("src",d);break}}};GD.photos.onThumbError=function(a){a=$(a);a.attr("src","/static/img/icons/broken/broken-50.png");a.attr("width","50");a.attr("height","50")};GD.photos.brokenImage=function(a){a.attr("src","/static/img/icons/broken/broken-200.png");a.attr("width","200");a.attr("height","200")};
GD.photos.getHashPhoto=function(a){a="/GD/Photos/getPhotoMetadataAjax.htm?photoId="+a;$("#PhotosDataHeader .thumbs .frame").removeClass("currPhoto");$("#PhotosList .photo").addClass("hidden");$("#Photo_0").removeClass("hidden");$("#PhotosListSpinner").show();$("#PhotoContainer .nav .count").hide();a={url:a,dataType:"json",success:function(a){GD.photos.onHashPhotoResponse(a)},error:function(){GD.photos.onHashPhotoResponse(null)}};GD.photos.isExpectingAjaxResponse=true;jQuery.ajax(a)};
GD.photos.onHashPhotoResponse=function(a){if(a&&GD.photos.isExpectingAjaxResponse){var b=$("#Photo_0 .empShortName").html(),b=b+" &ndash; ";a.location&&(b=b+(a.location+" &ndash; "));b=b+"Posted ";a.employerPhoto?b=b+"by <strong>employer</strong>":a.credit&&(b=b+("by <strong>"+a.credit+"</strong>"));b=b+(" on "+a.createDate);$("#Photo_0 .photoData").html(b);$("#Photo_0 .caption").html(a.caption);$("#Photo_0 img").attr({height:a.mediumHeight,width:a.mediumWidth});$("#Photo_0 img.companyPhoto").attr("photoUrl",
a.srcMedium);GD.photos.loadPhoto(0);GD.photos.currentPhotoId=-1;GD.photos.updateLocalNavButtons()}else selectPhoto(GD.photos.pagePhotoIds[0]);GD.photos.isExpectingAjaxResponse=false};
GD.photos.nextPhoto=function(a){var b=true;GD.photos.currentPhotoIndex==-1?GD.photos.currentPhotoIndex=0:GD.photos.currentPhotoIndex<GD.photos.pagePhotoIds.length-1?GD.photos.currentPhotoIndex++:GD.photos.nextPageUrl?GD.photos.loadNextPage(GD.photos.nextPageUrl,false):GD.photos.pagePhotoIds.length==1?b=false:GD.photos.currentPhotoIndex=0;b&&GD.photos.selectPhoto(GD.photos.pagePhotoIds[GD.photos.currentPhotoIndex],a);GD.photos.updateLocalNavButtons()};
GD.photos.prevPhoto=function(a){var b=true;GD.photos.currentPhotoIndex==-1?GD.photos.currentPhotoIndex=GD.photos.pagePhotoIds.length-1:GD.photos.currentPhotoIndex>0?GD.photos.currentPhotoIndex--:GD.photos.prevPageUrl?GD.photos.loadNextPage(GD.photos.prevPageUrl,true):GD.photos.pagePhotoIds.length==1?b=false:GD.photos.currentPhotoIndex=GD.photos.pagePhotoIds.length-1;b&&GD.photos.selectPhoto(GD.photos.pagePhotoIds[GD.photos.currentPhotoIndex],a);GD.photos.updateLocalNavButtons()};
GD.photos.updateLocalNavButtons=function(){};GD.photos.loadNextPageCounter=0;GD.photos.loadNextPage=function(a,b){b&&(a=a+"#Photo-last");var c=function(){GD.photos.loadNextPageCounter=GD.photos.loadNextPageCounter+1;if(GD.photos.loadNextPageCounter>=2){$("#PhotosThumbsSpinner").show();GD.dom.loadUrl(a)}},d={opacity:0};$("#PhotosListSpinner").show().css("z-index","5");$("#PhotosDataHeader .thumbSliderContainer").animate(d,"fast",c);$("#PhotosList").animate(d,"fast",c)};
GD.photos.onThumbClick=function(a){var b=$(a.currentTarget).attr("photoId");a.preventDefault();GD.photos.selectPhoto(b)};
GD.photos.onThumbKeyDown=function(a){if(a.which==10||a.which==13||a.which==32){var b=$(a.currentTarget).attr("photoId");GD.photos.selectPhoto(b);a.preventDefault()}else{b=true;switch(a.which){case GD.photos.ARROW_LEFT:GD.photos.prevPhoto(true);break;case GD.photos.ARROW_RIGHT:GD.photos.nextPhoto(true);break;case GD.photos.ARROW_UP:GD.photos.selectPhoto(GD.photos.pagePhotoIds[0],true);break;case GD.photos.ARROW_DOWN:GD.photos.selectPhoto(GD.photos.pagePhotoIds[GD.photos.pagePhotoIds.length-1],true);
break;default:b=false}b&&a.preventDefault()}};GD.photos.onLocalNavClick=function(a){var b=$(a.currentTarget).attr("id");a.preventDefault();if(b=="LocalNavPrev"){"";GD.photos.prevPhoto(false)}else GD.photos.nextPhoto(false)};GD.photos.onLocalNavKeyDown=function(a){if(a.which==10||a.which==13||a.which==32){$(a.currentTarget).click();a.preventDefault()}};GD.photos.gotoPage=function(a){var b=$(a.currentTarget).attr("href");GD.photos.loadNextPage(b,false);a.preventDefault()};if("undefined"==typeof GD)var GD={};"undefined"==typeof GD.industrySelect&&(GD.industrySelect={});GD.industrySelect.init=function(a,d,b){try{GD.industrySelect.loadSectors(a);isNaN(b)&&(b=0);GD.industrySelect.loadIndustries();GD.industrySelect.selectSavedValues(d,b)}catch(c){Logger.fatal("industrySelect.js / GD.industrySelect.init()",c)}};
GD.industrySelect.loadSectors=function(a){var d=$("#SectorSelectControl");d.empty();a&&d.append("<option value='-1'>- Sector -</option>");for(a=0;a<sectorList.length;a++)d.append("<option value='"+sectorList[a].id+"'>"+sectorList[a].name+"</option>\n")};
GD.industrySelect.loadIndustries=function(){var a=$("#SectorSelectControl"),d=$("#IndustrySelectControl"),b=$("option:selected",a);if(b.length==0){$("option:first",a).attr("selected","selected");b=$("option:selected",a)}a=b.val();d.empty();a<=0?d.attr("disabled","disabled"):d.removeAttr("disabled");if(a>0)for(var c,f,b=0;b<sectorList.length;b++){var e=sectorList[b];if(e.id==a){a=e.children;for(b=0;b<a.length;b++){c=a[b].name;f=a[b].id;c=c.trim();c="<option value='"+f+"' title='"+c+"'>"+c+"</option>\n";
d.append(c);for(var e=a[b].children,g=0;g<e.length;g++){c=GD.industrySelect._makeNonBreakingSpaces(e[g].name);f=e[g].id;c=c.trim();c="<option value='"+f+"' title='"+c+"' class='spacedOption'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+c+"</option>\n";d.append(c)}}break}}};
GD.industrySelect.selectSavedValues=function(a,d){if(!isNaN(a)){var b=$("#SectorSelectControl"),c=$("#IndustrySelectControl");$('option[value="'+a+'"]',b).attr("selected","selected");if($("option:selected",b).length){GD.industrySelect.loadIndustries();isNaN(d)||$('option[value="'+d+'"]',c).attr("selected","selected")}}};GD.industrySelect._makeNonBreakingSpaces=function(a){for(;a.charAt(0)===" ";)a=a.substr(0,0)+" "+a.substr(1);return a};if("undefined"===typeof GD)var GD={};"undefined"===typeof GD.videos&&(GD.videos={});GD.videos.TYPE_YT_VIDEO_RECORDS="YT_VIDEO_RECORDS";GD.videos.TYPE_YT_VIDEO_LIST="YT_VIDEO_LIST";GD.videos.VIDEO_STATE_UNSTARTED=-1;GD.videos.VIDEO_STATE_ENDED=0;GD.videos.VIDEO_STATE_PLAYING=1;GD.videos.VIDEO_STATE_PAUSED=2;GD.videos.VIDEO_STATE_BUFFERING=3;GD.videos.VIDEO_STATE_VIDEO_CUED=5;GD.videos.videoViewTrackURL="/employerInfo/Videos/employer-video-view";GD.videos.VIDEO_PLAYER_PLACEHOLDER_ID_POSTFIX="-player";
GD.videos.VIDEO_PLAYER_ID_POSTFIX="-ytPLayer";GD.videos.VIDEO_DEFAULT_WIDTH=280;GD.videos.VIDEO_DEFAULT_HEIGHT=225;
GD.videos.initVideoModule=function(a,b,c,d,e,h,i,g,j,k,l){var f=$(a);if(!e)e=GD.videos.VIDEO_DEFAULT_WIDTH;if(!h)h=GD.videos.VIDEO_DEFAULT_HEIGHT;f.length&&(a=f[0]);typeof i!=="boolean"&&(i=false);if(!j||j<0)j=0;f.data("videoWidth",e);f.data("videoHeight",h);f.data("showHD",i);f.data("maxTitleLength",j);f.data("useTitleQuotes",k);f.data("useTitleSeparatorPrefix",l);g&&f.data("titleContainerSelector",g);if(a)if(c.trim()){a.ytUsername=c;a.videoList||jQuery.ajax({url:"http://gdata.youtube.com/feeds/api/users/"+
c+"/uploads",data:{v:"2",alt:"jsonc"},dataType:"jsonp",success:function(a){GD.videos.onYouTubeResponse(f,a)},error:function(){GD.videos.onYouTubeResponse(f,null)}})}else if(d){b=d.split(",");a.recordType=GD.videos.TYPE_YT_VIDEO_LIST;a.videoData={};a.videoData.items=b;a.videoData.itemsPerPage=b.length;a.videoData.totalItems=b.length;a.videoData.startIndex=1;GD.videos.getRandomStartIndex(a);GD.videos.onVideosListReady(f)}else GD.videos.displayError(f,"No videos to display for "+b+".");else GD.videos.displayError(f,
"Video module error.")};GD.videos.onYouTubeResponse=function(a,b){var c=$(".vidContainer",a),d=a[0];if(c.length&&b&&b.data){c=b.data;d.recordType=GD.videos.TYPE_YT_VIDEO_RECORDS;d.videoData=c;GD.videos.getRandomStartIndex(d);GD.videos.onVideosListReady(a)}else b&&b.error&&b.error.message?GD.videos.displayError(a,"YouTube user '"+d.ytUsername+"': "+b.error.message):GD.videos.displayError(a,"Got an error for '"+options.url+"' &ndash; no items.")};
GD.videos.onVideosListReady=function(a){var b=a[0];$(".vidControl .max",a).html(b.videoData.totalItems);GD.videos.createVideoPlayer(a);$(".vidNav .prev",a).click(function(){GD.videos.showPreviousVideo(a)});$(".vidNav .next",a).click(function(){GD.videos.showNextVideo(a)});GD.videos.checkNav(a)};GD.videos.displayError=function(a,b){var c=$(".vidContainer",a),d=$("<p class='errorMessage'>");d.html(b);c.empty().append(d)};
GD.videos.getRandomStartIndex=function(a){var b=a.videoData,c=b.items.length,d=b.startIndex+Math.floor(Math.random()*c);d<1?d=1:d>=b.startIndex+c&&(d=b.startIndex+c-1);a.currentVideoIndex=d};GD.videos.showPreviousVideo=function(a){var b=a[0];b.currentVideoIndex>1&&(b.currentVideoIndex<=b.videoData.startIndex?GD.videos.loadAndShowVideo(a,b.videoData.startIndex-b.videoData.itemsPerPage,b.currentVideoIndex-1):GD.videos.showVideo(a,b.currentVideoIndex-1))};
GD.videos.showNextVideo=function(a){var b=a[0];if(b.currentVideoIndex<b.videoData.totalItems){var c=b.videoData.startIndex+b.videoData.items.length-1;b.currentVideoIndex>=c?GD.videos.loadAndShowVideo(a,b.currentVideoIndex+1,c+1):GD.videos.showVideo(a,b.currentVideoIndex+1)}};
GD.videos.loadAndShowVideo=function(a,b,c){var d=a[0],e="http://gdata.youtube.com/feeds/api/users/"+d.ytUsername+"/uploads";b<1?b=1:b>d.videoData.totalItems&&(b=d.videoData.totalItems-d.videoData.itemsPerPage+1);jQuery.ajax({url:e,data:{v:"2",alt:"jsonc","start-index":b},dataType:"jsonp",success:function(b){GD.videos.onLoadAndShowVideoComplete(a,b,c)},error:function(){GD.videos.onLoadAndShowVideoComplete(a,null)}})};
GD.videos.onLoadAndShowVideoComplete=function(a,b,c){if($(".vidContainer",a).length&&b&&b.data){var d=a[0];d.videoData=b.data;GD.videos.showVideo(a,c)}else b&&b.error&&b.error.message?GD.videos.displayError(a,"YouTube user '"+d.ytUsername+"': "+b.error.message):GD.videos.displayError(a,"Got an error for '"+options.url+"' &ndash; no items.")};
GD.videos.showVideo=function(a,b){var c=a.attr("id")+GD.videos.VIDEO_PLAYER_ID_POSTFIX,d=GD.videos.getVideoId(a[0],b),c=id(c),e=null;a.data("showHD")&&(e="large");c&&c.cueVideoById(d,null,e);GD.videos.showVideoInfo(a,b)};
GD.videos.createVideoPlayer=function(a){var b=a.attr("id"),c=b+GD.videos.VIDEO_PLAYER_ID_POSTFIX,d=a[0];$(".vidContainer",a);var e=a.data("videoWidth"),h=a.data("videoHeight"),i=a.data("showHD"),g="http://www.youtube.com/v/"+GD.videos.getVideoId(d,d.currentVideoIndex),g=g+("?rel=0&fs=1&enablejsapi=1&version=3&iv_load_policy=3&showinfo=0&playerapiid="+c);i&&(g=g+"&hd=1");swfobject.embedSWF(g,b+GD.videos.VIDEO_PLAYER_PLACEHOLDER_ID_POSTFIX,e,h,"8",null,null,{allowScriptAccess:"always",rel:"0",allowFullScreen:"true",
wmode:"transparent"},{id:c},function(a){GD.videos.onFlashInjection(a,b)});GD.videos.showVideoInfo(a,d.currentVideoIndex)};GD.videos.showVideoInfo=function(a,b){var c=a[0],d=c.videoData.items[b-c.videoData.startIndex].title;d&&(d=d.trim());c.currentVideoIndex=b;$(".vidControl .curr",a).html(b);if(d)GD.videos.showVideoTitle(a,d);else{GD.videos.showVideoTitle(a,"");c.recordType==GD.videos.TYPE_YT_VIDEO_LIST&&GD.videos.getVideoTitle(a,b)}GD.videos.checkNav(a)};
GD.videos.getVideoTitle=function(a,b){var c;c={url:"http://gdata.youtube.com/feeds/api/videos/"+GD.videos.getVideoId(a[0],b),data:{alt:"json"},dataType:"jsonp",success:function(c){GD.videos.onGetVideoTitle(a,b,c)},error:function(){GD.videos.onGetVideoTitle(a,b,null)}};jQuery.ajax(c)};
GD.videos.onGetVideoTitle=function(a,b,c){if(c){var d=null;try{d=c.entry.title.$t}catch(e){}GD.videos.setVideoTitle(a[0],b,d);if(d)(b=a.data("maxTitleLength"))&&b>0&&(d=d.truncateToLength(b,true));GD.videos.showVideoTitle(a,d)}};
GD.videos.showVideoTitle=function(a,b){var c=a.data("titleContainerSelector"),d=a.data("useTitleQuotes"),e=a.data("useTitleSeparatorPrefix"),h="",i="",g="";if(c){c=$(c);b&&e&&(h=" &ndash; ")}else c=$(".vidTitle",a);if(b){var e=a.data("maxTitleLength"),j=b;e&&e>0&&(b=b.truncateToLength(e,true));if(d){i="&ldquo;";g="&rdquo;"}c.html(h+i+b+g).show();b.length!=j.length?c.attr("title",j):c.removeAttr("title")}else c.html("&nbsp;")};
GD.videos.getVideoId=function(a,b){var c=a.videoData.items,d=null;if(b>0&&b-a.videoData.startIndex<c.length)(c=c[b-a.videoData.startIndex])&&(typeof c==="string"?d=c.trim():c.id&&(d=c.id.trim()));return d};GD.videos.setVideoTitle=function(a,b,c){var d=a.videoData.items;if(b>0&&b-a.videoData.startIndex<d.length)if(typeof d[b-a.videoData.startIndex]=="string"){var e={};e.id=d[b-a.videoData.startIndex];e.title=c;d[b-a.videoData.startIndex]=e}else d[b-a.videoData.startIndex].title=c};
GD.videos.onFlashInjection=function(a,b){a.success||$("#"+b).hide()};GD.videos.checkNav=function(a){var b=a[0],c=b.videoData,b=b.currentVideoIndex;c.totalItems>1&&$(".vidControl").show();b==1?$(".vidNav .prev",a).removeClass("link"):$(".vidNav .prev",a).addClass("link");b>=c.totalItems?$(".vidNav .next",a).removeClass("link"):$(".vidNav .next",a).addClass("link")};
GD.videos.onStateChange=function(a,b){switch(a){case GD.videos.VIDEO_STATE_PLAYING:var c=id(b),d=GD.videos.videoViewTrackURL;if(c)if(c=c.getVideoUrl())(c=c.match(/[&\?]v=([\w]+)[^\w]*/))&&c.length>1&&(d=d+("/"+c[1]));GD.analytics.trackPageView(d)}};function onYouTubePlayerReady(a){var b=id(a);b&&b.addEventListener("onStateChange","(function(state) { return GD.videos.onStateChange(state, '"+a+"');})")};window.Date.prototype.f=function(a){if("@"==a)return this.getTime();if("REL"==a){var a=((new Date).getTime()-this.getTime())/1E3,b=Math.floor(a/86400);return 0==b&&(-60<a&&"right now"||-120<a&&"1 minute from now"||-3600<a&&-Math.floor(a/60)+" minutes from now"||-7200<a&&"1 hour ago"||-86400<a&&-Math.floor(a/3600)+" hours from now"||60>a&&"just now"||120>a&&"1 minute ago"||3600>a&&Math.floor(a/60)+" minutes ago"||7200>a&&"1 hour ago"||86400>a&&Math.floor(a/3600)+" hours ago")||0==b&&"Tomorrow"||-7<
b&&-b+" days from now"||1==-Math.ceil(b/7)&&"1 week from now"||-78<b&&-Math.ceil(b/7)+" weeks from now"||-730<b&&-Math.ceil(b/30)+" months from now"||-730>=b&&-Math.ceil(b/365)+" years from now"||1==b&&"Yesterday"||7>b&&b+" days ago"||1==Math.ceil(b/7)&&"1 week ago"||78>b&&Math.ceil(b/7)+" weeks ago"||730>b&&Math.ceil(b/30)+" months ago"||Math.ceil(b/365)+" years ago"}var b="January,February,March,April,May,June,July,August,September,October,November,December".split(","),e="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),
j=function(b){return(0>b||9<b?"":"0")+b},a=a+"",k="",i=0,f="",h="",f=this.getYear()+"",h=this.getMonth()+1,l=this.getDate(),c=this.getDay(),d=this.getHours(),m=this.getMinutes(),n=this.getSeconds(),g={};4>f.length&&(f=""+(f-0+1900));g.y=""+f;g.yyyy=f;g.yy=f.substr(2,4);g.M=h;g.MM=j(h);g.MMM=b[h-1];g.NNN=b[h-1].substr(0,3);g.N=b[h-1].substr(0,1);g.d=l;g.dd=j(l);g.e=e[c].substr(0,1);g.ee=e[c].substr(0,2);g.E=e[c].substr(0,3);g.EE=e[c];g.H=d;g.HH=j(d);g.h=0==d?12:12<d?d-12:d;g.hh=j(g.h);g.K=11<d?d-12:
d;g.k=d+1;g.KK=j(g.K);g.kk=j(g.k);g.a=11<d?"PM":"AM";g.m=m;g.mm=j(m);g.s=n;for(g.ss=j(n);i<a.length;){f=a.charAt(i);for(h="";a.charAt(i)==f&&i<a.length;)h+=a.charAt(i++);k=null!=g[h]?k+g[h]:k+h}return k};
window.Date.prototype.diff=function(a,b){var e={};"string"==typeof a?"Invalid Date"!=new Date(a)&&"NaN"!=new Date(a)?a=new Date(a):(b=a,a=new Date):"object"==typeof a&&!a.getTime&&(e=a,a=new Date);"object"==typeof b&&(e=b,b=e.breakdown||"*");e.labels=e.labels||{};if(b){var j=function(a){var c=null;if(f>=h[a]){if(a=="Y"||a=="D"||a=="C"||a=="T")for(var d=k;d.getFullYear()<=i.getFullYear();d.setYear(d.getFullYear()+1))d.isLeapYear()&&(f=f-h.d);if(f>=h[a]){c=Math.floor(f/h[a])+" "+(Math.floor(f/h[a])==
1&&l[a][0]||l[a][1]);f=f%h[a]}}a=RegExp(a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"g");b=b.replace(a,"");return c},k=a<=this&&a||a>this&&this,i=a>this&&a||a<=this&&this,f=i.getTime()-k.getTime(),h={T:31536E9,C:31536E8,D:31536E7,Y:31536E6,M:24192E5,W:6048E5,d:864E5,H:36E5,m:6E4,S:1E3,N:1},l={T:e.labels.T||["Mellinium","Mellinia"],C:e.labels.C||["Century","Centuries"],D:e.labels.D||["Decade","Decades"],Y:e.labels.Y||["Year","Years"],M:e.labels.M||["Month","Months"],W:e.labels.W||["Week","Weeks"],
d:e.labels.d||["Day","Days"],H:e.labels.H||["Hour","Hours"],m:e.labels.m||["Minute","Minutes"],S:e.labels.S||["Second","Seconds"],N:e.labels.N||["Millisecond","Milliseconds"]};if(e.len)for(var c in l)l[c]=l[c].substr(0,e.len);c=new Date(k.toString());for(1<i.getFullYear()-c.getFullYear()&&c.setYear(i.getFullYear()-1);c<i;)c.isDayLightSavingsDay()&&5>c.getMonth()?f+=h.H:c.isDayLightSavingsDay()&&(f-=h.H),c.setDate(c.getDate()+1);if((i.getMonth()==i.getDayLightSavingsDays()[0].getMonth()&&i.getDate()<
i.getDayLightSavingsDays()[0].getDate()||i.getMonth()<i.getDayLightSavingsDays()[0].getMonth())&&i.getMonth()==k.getMonth())f+=h.H;else if((k.getMonth()==k.getDayLightSavingsDays()[1].getMonth()&&k.getDate()>k.getDayLightSavingsDays()[1].getDate()||k.getMonth()<k.getDayLightSavingsDays()[1].getMonth())&&k.getMonth()==k.getMonth())f-=h.H;c=[];for(var d;0<f;)if("*"==b)b="TCDYMWdHmSN";else if(-1<b.indexOf("T")){if(d=j("T"))c[c.length]=d}else if(-1<b.indexOf("C")){if(d=j("C"))c[c.length]=d}else if(-1<
b.indexOf("D")){if(d=j("D"))c[c.length]=d}else if(-1<b.indexOf("Y")){if(d=j("Y"))c[c.length]=d}else if(-1<b.indexOf("M")){if(f>=h.M){d=new Date(i.getTime()-f);for(var m=0,n=0,g=d.getFullYear();g<=i.getFullYear();g++)for(;d.getFullYear()==g&&!(n=d.getTime(),d.setMonth(d.getMonth()+1),0<=f-(d.getTime()-n)&&(m++,f-=d.getTime()-n),g==i.getFullYear()&&d.getMonth()==i.getMonth()););m&&(c[c.length]=m+" "+(1==m&&l.M[0]||l.M[1]))}b=b.replace(/M/g,"")}else if(-1<b.indexOf("W")){if(d=j("W"))c[c.length]=d}else if(-1<
b.indexOf("d")){if(d=j("d"))c[c.length]=d}else if(-1<b.indexOf("H")){if(d=j("H"))c[c.length]=d}else if(-1<b.indexOf("m")){if(d=j("m"))c[c.length]=d}else if(-1<b.indexOf("S")){if(d=j("S"))c[c.length]=d}else if(-1<b.indexOf("N")){if(d=j("N"))c[c.length]=d}else f=0;e.divider=e.divider||", ";", "==e.divider&&1<c.length&&!e.hideAnd&&(c[c.length-1]="and "+c[c.length-1]);f=c.join(e.divider)}""==f&&(f="Same");e.lc&&(f=f.toLowerCase());return f};
window.Date.prototype.getDaysInMonth=function(){return[31,28,31,30,31,30,31,31,30,31,30,31][this.getMonth()]};window.Date.prototype.isLeapYear=function(){return 29==(new Date(this.getFullYear(),1,29)).getDate()};
window.Date.prototype.getDayLightSavingsDays=function(){for(var a=[],b=new Date("03/07/"+this.getFullYear()),e=new Date("03/06/"+this.getFullYear());3>b.getMonth()||3==b.getMonth()&&16>b.getDate();)24!=(b.getTime()-e.getTime())/1E3/60/60&&(a[a.length]=new Date(e.getTime())),b.setDate(b.getDate()+1),e.setDate(e.getDate()+1);b=new Date("10/31/"+this.getFullYear());for(e=new Date("10/30/"+this.getFullYear());11>b.getMonth()||10==b.getMonth()&&9>b.getDate();)24!=(b.getTime()-e.getTime())/1E3/60/60&&(a[a.length]=
new Date(e.getTime())),b.setDate(b.getDate()+1),e.setDate(e.getDate()+1);return a};window.Date.prototype.isDayLightSavingsDay=function(){var a=new Date(this.getTime());a.setDate(a.getDate()+1);return 24!=(a.getTime()-this.getTime())/1E3/60/60};var JSON;JSON||(JSON={});
(function(){function k(a){return 10>a?"0"+a:a}function o(a){p.lastIndex=0;return p.test(a)?'"'+a.replace(p,function(a){var c=r[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function m(a,j){var c,d,h,n,g=e,f,b=j[a];b&&"object"===typeof b&&"function"===typeof b.toJSON&&(b=b.toJSON(a));"function"===typeof i&&(b=i.call(j,a,b));switch(typeof b){case "string":return o(b);case "number":return isFinite(b)?""+b:"null";case "boolean":case "null":return""+b;
case "object":if(!b)return"null";e+=l;f=[];if("[object Array]"===Object.prototype.toString.apply(b)){n=b.length;for(c=0;c<n;c+=1)f[c]=m(c,b)||"null";h=0===f.length?"[]":e?"[\n"+e+f.join(",\n"+e)+"\n"+g+"]":"["+f.join(",")+"]";e=g;return h}if(i&&"object"===typeof i){n=i.length;for(c=0;c<n;c+=1)"string"===typeof i[c]&&(d=i[c],(h=m(d,b))&&f.push(o(d)+(e?": ":":")+h))}else for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(h=m(d,b))&&f.push(o(d)+(e?": ":":")+h);h=0===f.length?"{}":e?"{\n"+e+f.join(",\n"+
e)+"\n"+g+"}":"{"+f.join(",")+"}";e=g;return h}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+k(this.getUTCMonth()+1)+"-"+k(this.getUTCDate())+"T"+k(this.getUTCHours())+":"+k(this.getUTCMinutes())+":"+k(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var q=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
p=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,l,r={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,j,c){var d;l=e="";if(typeof c==="number")for(d=0;d<c;d=d+1)l=l+" ";else typeof c==="string"&&(l=c);if((i=j)&&typeof j!=="function"&&(typeof j!=="object"||typeof j.length!=="number"))throw Error("JSON.stringify");return m("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,e){function c(a,d){var g,f,b=a[d];if(b&&typeof b==="object")for(g in b)if(Object.prototype.hasOwnProperty.call(b,g)){f=c(b,g);f!==void 0?b[g]=f:delete b[g]}return e.call(a,d,b)}var d,a=""+a;q.lastIndex=0;q.test(a)&&(a=a.replace(q,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){d=eval("("+a+")");return typeof e==="function"?c({"":d},""):d}throw new SyntaxError("JSON.parse");})})();var MD5;MD5||(MD5={});
(function(){function l(f,e){var d=f[0],a=f[1],b=f[2],c=f[3],d=g(d,a,b,c,e[0],7,-680876936),c=g(c,d,a,b,e[1],12,-389564586),b=g(b,c,d,a,e[2],17,606105819),a=g(a,b,c,d,e[3],22,-1044525330),d=g(d,a,b,c,e[4],7,-176418897),c=g(c,d,a,b,e[5],12,1200080426),b=g(b,c,d,a,e[6],17,-1473231341),a=g(a,b,c,d,e[7],22,-45705983),d=g(d,a,b,c,e[8],7,1770035416),c=g(c,d,a,b,e[9],12,-1958414417),b=g(b,c,d,a,e[10],17,-42063),a=g(a,b,c,d,e[11],22,-1990404162),d=g(d,a,b,c,e[12],7,1804603682),c=g(c,d,a,b,e[13],12,-40341101),
b=g(b,c,d,a,e[14],17,-1502002290),a=g(a,b,c,d,e[15],22,1236535329),d=i(d,a,b,c,e[1],5,-165796510),c=i(c,d,a,b,e[6],9,-1069501632),b=i(b,c,d,a,e[11],14,643717713),a=i(a,b,c,d,e[0],20,-373897302),d=i(d,a,b,c,e[5],5,-701558691),c=i(c,d,a,b,e[10],9,38016083),b=i(b,c,d,a,e[15],14,-660478335),a=i(a,b,c,d,e[4],20,-405537848),d=i(d,a,b,c,e[9],5,568446438),c=i(c,d,a,b,e[14],9,-1019803690),b=i(b,c,d,a,e[3],14,-187363961),a=i(a,b,c,d,e[8],20,1163531501),d=i(d,a,b,c,e[13],5,-1444681467),c=i(c,d,a,b,e[2],9,-51403784),
b=i(b,c,d,a,e[7],14,1735328473),a=i(a,b,c,d,e[12],20,-1926607734),d=h(a^b^c,d,a,e[5],4,-378558),c=h(d^a^b,c,d,e[8],11,-2022574463),b=h(c^d^a,b,c,e[11],16,1839030562),a=h(b^c^d,a,b,e[14],23,-35309556),d=h(a^b^c,d,a,e[1],4,-1530992060),c=h(d^a^b,c,d,e[4],11,1272893353),b=h(c^d^a,b,c,e[7],16,-155497632),a=h(b^c^d,a,b,e[10],23,-1094730640),d=h(a^b^c,d,a,e[13],4,681279174),c=h(d^a^b,c,d,e[0],11,-358537222),b=h(c^d^a,b,c,e[3],16,-722521979),a=h(b^c^d,a,b,e[6],23,76029189),d=h(a^b^c,d,a,e[9],4,-640364487),
c=h(d^a^b,c,d,e[12],11,-421815835),b=h(c^d^a,b,c,e[15],16,530742520),a=h(b^c^d,a,b,e[2],23,-995338651),d=j(d,a,b,c,e[0],6,-198630844),c=j(c,d,a,b,e[7],10,1126891415),b=j(b,c,d,a,e[14],15,-1416354905),a=j(a,b,c,d,e[5],21,-57434055),d=j(d,a,b,c,e[12],6,1700485571),c=j(c,d,a,b,e[3],10,-1894986606),b=j(b,c,d,a,e[10],15,-1051523),a=j(a,b,c,d,e[1],21,-2054922799),d=j(d,a,b,c,e[8],6,1873313359),c=j(c,d,a,b,e[15],10,-30611744),b=j(b,c,d,a,e[6],15,-1560198380),a=j(a,b,c,d,e[13],21,1309151649),d=j(d,a,b,c,
e[4],6,-145523070),c=j(c,d,a,b,e[11],10,-1120210379),b=j(b,c,d,a,e[2],15,718787259),a=j(a,b,c,d,e[9],21,-343485551);f[0]=k(d,f[0]);f[1]=k(a,f[1]);f[2]=k(b,f[2]);f[3]=k(c,f[3])}function h(f,e,d,a,b,c){e=k(k(e,f),k(a,c));return k(e<<b|e>>>32-b,d)}function g(f,e,d,a,b,c,g){return h(e&d|~e&a,f,e,b,c,g)}function i(f,e,d,a,b,c,g){return h(e&a|d&~a,f,e,b,c,g)}function j(f,e,d,a,b,c,g){return h(d^(e|~a),f,e,b,c,g)}function m(f){var e=f,d=e.length,f=[1732584193,-271733879,-1732584194,271733878],a;for(a=64;a<=
e.length;a+=64){for(var b=f,c=e.substring(a-64,a),g=[],h=void 0,h=0;64>h;h+=4)g[h>>2]=c.charCodeAt(h)+(c.charCodeAt(h+1)<<8)+(c.charCodeAt(h+2)<<16)+(c.charCodeAt(h+3)<<24);l(b,g)}e=e.substring(a-64);b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(a=0;a<e.length;a++)b[a>>2]|=e.charCodeAt(a)<<(a%4<<3);b[a>>2]|=128<<(a%4<<3);if(55<a){l(f,b);for(a=0;16>a;a++)b[a]=0}b[14]=8*d;l(f,b);for(e=0;e<f.length;e++){d=f;a=e;b=f[e];c="";for(g=0;4>g;g++)c+=n[b>>8*g+4&15]+n[b>>8*g&15];d[a]=c}return f.join("")}function k(f,
e){return f+e&4294967295}var n="0,1,2,3,4,5,6,7,8,9,a,b,c,d,e,f".split(",");"5d41402abc4b2a76b9719d911017c592"!=m("hello")&&(k=function(f,e){var d=(f&65535)+(e&65535);return(f>>16)+(e>>16)+(d>>16)<<16|d&65535});MD5.md5=m})();window.Modernizr=function(n,c,F){function A(){e.input=function(m){for(var d=0,p=m.length;d<p;d++)q[m[d]]=m[d]in a;return q.list&&(q.list=!!c.createElement("datalist")&&!!n.HTMLDataListElement),q}("autocomplete,autofocus,list,placeholder,max,min,multiple,pattern,required,step".split(","));e.inputtypes=function(m){for(var d=0,p,k,f,w=m.length;d<w;d++)a.setAttribute("type",k=m[d]),(p="text"!==a.type)&&(a.value=E,a.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(k)&&a.style.WebkitAppearance!==
F?(o.appendChild(a),f=c.defaultView,p=f.getComputedStyle&&"textfield"!==f.getComputedStyle(a,null).WebkitAppearance&&0!==a.offsetHeight,o.removeChild(a)):/^(search|tel)$/.test(k)||(/^(url|email)$/.test(k)?p=a.checkValidity&&!1===a.checkValidity():/^color$/.test(k)?(o.appendChild(a),p=a.value!=E,o.removeChild(a)):p=a.value!=E)),r[m[d]]=!!p;return r}("search,tel,url,email,datetime,date,month,week,time,datetime-local,number,range,color".split(","))}var e={},o=c.documentElement,x=c.createElement("modernizr"),
x=x.style,a=c.createElement("input"),E=":)",G={}.toString,t={},r={},q={},s=[],y=s.slice,u,z=function(m,d,a,k){var f,w,e,j=c.createElement("div"),b=c.body,l=b?b:c.createElement("body");if(parseInt(a,10))for(;a--;)e=c.createElement("div"),e.id=k?k[a]:"modernizr"+(a+1),j.appendChild(e);return f=["&#173;<style>",m,"</style>"].join(""),j.id="modernizr",l.innerHTML+=f,l.appendChild(j),b||(l.style.background="",o.appendChild(l)),w=d(j,m),b?j.parentNode.removeChild(j):l.parentNode.removeChild(l),!!w},B={}.hasOwnProperty,
C;"undefined"!==typeof B&&"undefined"!==typeof B.call?C=function(a,d){return B.call(a,d)}:C=function(a,d){return d in a&&"undefined"===typeof a.constructor.prototype[d]};Function.prototype.bind||(Function.prototype.bind=function(a){var d=this;if("function"!=typeof d)throw new TypeError;var c=y.call(arguments,1),k=function(){if(this instanceof k){var f=function(){};f.prototype=d.prototype;var f=new f,e=d.apply(f,c.concat(y.call(arguments)));return Object(e)===e?e:f}return d.apply(a,c.concat(y.call(arguments)))};
return k});t.svg=function(){return!!c.createElementNS&&!!c.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect};t.inlinesvg=function(){var a=c.createElement("div");return a.innerHTML="<svg/>","http://www.w3.org/2000/svg"==(a.firstChild&&a.firstChild.namespaceURI)};t.svgclippaths=function(){return!!c.createElementNS&&/SVGClipPath/.test(G.call(c.createElementNS("http://www.w3.org/2000/svg","clipPath")))};for(var D in t)C(t,D)&&(u=D.toLowerCase(),e[u]=t[D](),s.push((e[u]?"":"no-")+u));
e.input||A();x.cssText="";return x=a=null,function(a,c){function e(){var b=l.elements;return"string"==typeof b?b.split(" "):b}function k(b){var a={},c=b.createElement,d=b.createDocumentFragment,g=d();b.createElement=function(b){var h=(a[b]||(a[b]=c(b))).cloneNode();return l.shivMethods&&h.canHaveChildren&&!o.test(b)?g.appendChild(h):h};b.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+e().join().replace(/\w+/g,function(b){return a[b]=
c(b),g.createElement(b),'c("'+b+'")'})+");return n}")(l,g)}function f(a){var c;if(!a.documentShived){if(l.shivCSS&&!j){c=a.createElement("p");var d=a.getElementsByTagName("head")[0]||a.documentElement;c=!!(c.innerHTML="x<style>article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}audio{display:none}canvas,video{display:inline-block;*display:inline;*zoom:1}[hidden]{display:none}audio[controls]{display:inline-block;*display:inline;*zoom:1}mark{background:#FF0;color:#000}</style>",
d.insertBefore(c.lastChild,d.firstChild))}a=(b||(c=!k(a)),c&&(a.documentShived=c),a)}return a}var n=a.html5||{},o=/^<|^(?:button|form|map|select|textarea)$/i,j,b;(function(){var a=c.createElement("a");a.innerHTML="<xyz></xyz>";j="hidden"in a;if(!(a=1==a.childNodes.length))a:{try{c.createElement("a")}catch(l){a=!0;break a}a=c.createDocumentFragment();a="undefined"==typeof a.cloneNode||"undefined"==typeof a.createDocumentFragment||"undefined"==typeof a.createElement}b=a})();var l={elements:n.elements||
"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==n.shivCSS,shivMethods:!1!==n.shivMethods,type:"default",shivDocument:f};a.html5=l;f(c)}(this,c),e._version="2.5.3",e.mq=function(a){var c=n.matchMedia||n.msMatchMedia;if(c)return c(a).matches;var e;return z("@media "+a+" { #modernizr { position: absolute; } }",function(a){e="absolute"==(n.getComputedStyle?getComputedStyle(a,null):
a.currentStyle).position}),e},e.testStyles=z,o.className=o.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" ok-js ok-"+s.join(" ok-")),e}(this,this.document);
(function(n,c,F){function A(b){return"[object Function]"==y.call(b)}function e(b){return"string"==typeof b}function o(){}function x(b){return!b||"loaded"==b||"complete"==b||"uninitialized"==b}function a(){var b=u.shift();z=1;b?b.t?q(function(){("c"==b.t?j.injectCss:j.injectJs)(b.s,0,b.a,b.x,b.e,1)},0):(b(),a()):z=0}function E(b,l,d,e,k,n,g){function I(c){if(!J&&x(h.readyState)&&(m.r=J=1,!z&&a(),h.onload=h.onreadystatechange=null,c)){"img"!=b&&q(function(){D.removeChild(h)},50);for(var d in f[l])f[l].hasOwnProperty(d)&&
f[l][d].onload()}}var g=g||j.errorTimeout,h={},J=0,o=0,m={t:d,s:l,e:k,a:n,x:g};1===f[l]&&(o=1,f[l]=[],h=c.createElement(b));"object"==b?h.data=l:(h.src=l,h.type=b);h.width=h.height="0";h.onerror=h.onload=h.onreadystatechange=function(){I.call(this,o)};u.splice(e,0,m);"img"!=b&&(o||2===f[l]?(D.insertBefore(h,C?null:s),q(I,g)):f[l].push(h))}function G(b,c,f,j,k){return z=0,c=c||"j",e(b)?E("c"==c?d:m,b,c,this.i++,f,j,k):(u.splice(this.i++,0,b),1==u.length&&a()),this}function t(){var b=j;return b.loader=
{load:G,i:0},b}var r=c.documentElement,q=n.setTimeout,s=c.getElementsByTagName("script")[0],y={}.toString,u=[],z=0,B="MozAppearance"in r.style,C=B&&!!c.createRange().compareNode,D=C?r:s.parentNode,r=n.opera&&"[object Opera]"==y.call(n.opera),r=!!c.attachEvent&&!r,m=B?"object":r?"script":"img",d=r?"script":m,p=Array.isArray||function(b){return"[object Array]"==y.call(b)},k=[],f={},w={timeout:function(b,a){return a.length&&(b.timeout=a[0]),b}},H,j;j=function(b){function c(a){var a=a.split("!"),b=k.length,
d=a.pop(),l=a.length,d={url:d,origUrl:d,prefixes:a},e,i,f;for(i=0;i<l;i++)f=a[i].split("="),(e=w[f.shift()])&&(d=e(d,f));for(i=0;i<b;i++)d=k[i](d);return d}function d(b,h,e,g,j){var i=c(b),n=i.autoCallback;i.url.split(".").pop().split("?").shift();i.bypass||(h&&(h=A(h)?h:h[b]||h[g]||h[b.split("/").pop().split("?")[0]]||a),i.instead?i.instead(b,h,e,g,j):(f[i.url]?i.noexec=!0:f[i.url]=1,e.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":F,i.noexec,i.attrs,i.timeout),
(A(h)||A(n))&&e.load(function(){t();h&&h(i.origUrl,j,g);n&&n(i.origUrl,j,g);f[i.url]=2})))}function n(a,b){function c(a,f){if(a)if(e(a))f||(i=function(){var a=[].slice.call(arguments);g.apply(this,a);j()}),d(a,i,b,0,l);else{if(Object(a)===a)for(k in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(k)&&(!f&&!--m&&(A(i)?i=function(){var a=[].slice.call(arguments);g.apply(this,a);j()}:i[k]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,
b);j()}}(g[k])),d(a[k],i,b,k,l))}else!f&&j()}var l=!!a.test,f=a.load||a.both,i=a.callback||o,g=i,j=a.complete||o,m,k;c(l?a.yep:a.nope,!!f);f&&c(f)}var m,v,g=this.yepnope.loader;if(e(b))d(b,0,g,0);else if(p(b))for(m=0;m<b.length;m++)v=b[m],e(v)?d(v,0,g,0):p(v)?j(v):Object(v)===v&&n(v,g);else Object(b)===b&&n(b,g)};j.addPrefix=function(a,c){w[a]=c};j.addFilter=function(a){k.push(a)};j.errorTimeout=1E4;null==c.readyState&&c.addEventListener&&(c.readyState="loading",c.addEventListener("DOMContentLoaded",
H=function(){c.removeEventListener("DOMContentLoaded",H,0);c.readyState="complete"},0));n.yepnope=t();n.yepnope.executeStack=a;n.yepnope.injectJs=function(b,d,f,e,k,n){var g=c.createElement("script"),m,h,e=e||j.errorTimeout;g.src=b;for(h in f)g.setAttribute(h,f[h]);d=n?a:d||o;g.onreadystatechange=g.onload=function(){!m&&x(g.readyState)&&(m=1,d(),g.onload=g.onreadystatechange=null)};q(function(){m||(m=1,d(1))},e);k?g.onload():s.parentNode.insertBefore(g,s)};n.yepnope.injectCss=function(b,d,f,e,j,k){var e=
c.createElement("link"),g,d=k?a:d||o;e.href=b;e.rel="stylesheet";e.type="text/css";for(g in f)e.setAttribute(g,f[g]);j||(s.parentNode.insertBefore(e,s),q(d,0))}})(this,document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};window.Logger=window.Logger||{};
(function(a,e){function g(a,c){c?("string"===typeof a&&(a+="["+a+"] "),a=c.message?a+c.message:a+c):a=""+a;return a}var f={a:0,i:10,d:20,w:30,e:40,f:50,"0":100},j,h,k,i;a.version=3;a.enabled=!0;a.ALL="a";a.INFO="i";a.DEBUG="d";a.WARNING="w";a.ERROR="e";a.FATAL="f";a.NONE="0";a.setLoggingLevel=function(b){var c=j;j=b==a.ALL||b==a.INFO||b==a.DEBUG||b==a.WARNING||b==a.ERROR||b==a.FATAL?b:a.NONE;h=f[j];return c};a.setServerLoggingLevel=function(b){var c=k;k=b==a.ALL||b==a.INFO||b==a.DEBUG||b==a.WARNING||
b==a.ERROR||b==a.FATAL?b:a.NONE;i=f[k];return c};a.info=function(b,c){try{var d;a.enabled&&h<=f[a.INFO]&&(d=g(b,c),"object"===typeof console&&"function"===typeof console.info&&console.info(d));a.enabled&&i<=f[a.INFO]&&(d=d||g(b,c),a.logToServer(d,LOGGER.INFO))}catch(e){}};a.debug=function(b,c){try{var d;a.enabled&&h<=f[a.DEBUG]&&(d=g(b,c),"object"===typeof console&&"function"===typeof console.info&&console.info(d));a.enabled&&i<=f[a.DEBUG]&&(d=d||g(b,c),a.logToServer(d,a.DEBUG))}catch(e){}};a.warn=
function(b,c){try{var d;a.enabled&&h<=f[a.WARNING]&&(d=g(b,c),"object"===typeof console&&"function"===typeof console.warn&&console.warn(d));a.enabled&&i<=f[a.WARNING]&&(d=d||g(b,c),a.logToServer(d,LOGGER.WARNING))}catch(e){}};a.error=function(b,c){try{var d;a.enabled&&h<=f[a.ERROR]&&(d=g(b,c),"object"===typeof console&&"function"===typeof console.error&&console.error(d));a.enabled&&i<=f[a.ERROR]&&(d=d||g(b,c),a.logToServer(d,LOGGER.ERROR))}catch(e){}};a.fatal=function(b,c){try{var d;a.enabled&&h<=
f[a.FATAL]&&(d=g(b,c),"object"===typeof console&&"function"===typeof console.error&&console.error("FATAL: ",d));a.enabled&&i<=f[a.FATAL]&&(d=d||g(b,c),a.logToServer(d,LOGGER.FATAL))}catch(e){}};a.inspect=function(b,c){try{if(a.enabled&&h<=f[a.DEBUG])if(c&&a.debug("Inspect: "+c),navigator.userAgent.match(/iPhone/i)||-1<navigator.userAgent.toLowerCase().indexOf("android"))if(JSON&&JSON.stringify){var d=JSON.stringify(b);a.info(d)}else a.info("JSON && JSON.stringify missing"),console.log(b);else"object"===
typeof console&&"function"===typeof console.dir&&console.dir(b);a.enabled&&h<=f[a.DEBUG]&&(c&&a.logToServer("Inspect: "+c,a.DEBUG),JSON&&JSON.stringify&&(d=JSON.stringify(b),a.logToServer(d,a.DEBUG)))}catch(e){}};a.logToServer=function(b,c,d){b&&(b="[JS-LOG] "+b,c||(c=a.INFO),b={url:GD.util.getAjaxUrlRespectingSecurity("/util/ajax/lgr.htm"),type:"POST",dataType:"json",data:{m:b,l:c},async:!d},jQuery.ajax(b))};a.trace=function(b){try{a.enabled&&(b&&a.info("Trace: "+b),"object"===typeof console&&"function"===
typeof console.trace&&console.trace())}catch(c){}};a.timer=function(b){try{a.enabled&&"object"===typeof console&&"function"===typeof console.time&&console.time(b)}catch(c){}};a.timerEnd=function(b){try{a.enabled&&"object"===typeof console&&"function"===typeof console.timeEnd&&console.timeEnd(b)}catch(c){}};a.profile=function(b){try{a.enabled&&"object"===typeof console&&"function"===typeof console.profile&&console.profile(b)}catch(c){}};a.profileEnd=function(){try{a.enabled&&"object"===typeof console&&
"function"===typeof console.profileEnd&&console.profileEnd()}catch(b){}};a.windowError=function(b,c,d){a.fatal("Error on line "+d+" of document "+c+": "+b);return!0};e=e||{};e.clientLevel=e.clientLevel||"ALL";e.serverLevel=e.serverLevel||"ERROR";a.setLoggingLevel(a[e.clientLevel]);a.setServerLoggingLevel(a[e.serverLevel]);a.enabled&&(window.onerror=a.windowError)})(window.Logger,{clientLevel:"ALL",serverLevel:"ERROR"});Logger.setLoggingLevel(Logger.NONE);Logger.setServerLoggingLevel(Logger.NONE);