(function(a){a.fn.autofocus=function(){return!0!==this.first().autofocus?this.focus():this}})(jQuery);(function(c){c.fn.autogrow=function(a){return this.each(function(){new c.autogrow(this,a)})};c.autogrow=function(a,b){this.textarea=$(a);this.options=b||{};this.interval=this.shadow=null;this.fontSize=this.textarea.css("fontSize");this.lineHeight=this.options.lineHeight||this.textarea.css("line-height");this.minHeight=this.options.minHeight||this.textarea.css("min-height");this.maxHeight=this.options.maxHeight||this.textarea.css("max-height");this.animateSpeed=this.options.animateSpeed||250;this.DEFAULT_TOLERANCE=
0.45;this.DEFAULT_TOP_PADDING=3;"string"===typeof this.expandTolerance?this.expandTolerance=parseInt(this.expandTolerance):"number"!=typeof this.expandTolerance&&(this.expandTolerance=-1);this.expandTolerance=!isNaN(this.options.expandTolerance)&&0<=this.options.expandTolerance?this.options.expandTolerance:this.DEFAULT_TOLERANCE;this.fontSize=parseFloat(this.fontSize,10);this.lineHeight=parseFloat(this.lineHeight,10);if(isNaN(this.lineHeight)||this.lineHeight<this.fontSize)this.lineHeight=this.fontSize-
0+this.DEFAULT_TOP_PADDING;$.browser.msie&&0<this.lineHeight&&this.textarea.css("line-height",this.lineHeight+"px");this.textarea.height(parseFloat(this.lineHeight,10)*parseInt(this.textarea.attr("rows"),10));"auto"===this.minHeight&&(this.minHeight=0);this.minHeight&&(this.minHeight=parseFloat(this.minHeight,10));if(isNaN(this.minHeight)||0==this.minHeight)this.minHeight=Math.max(this.textarea.height(),this.lineHeight);"undefined"===typeof this.maxHeight&&(this.maxHeight=0);isNaN(this.maxHeight)&&
(this.maxHeight=0);$.browser.msie&&(this.widthSet=!1);var d=this;this.textarea.get(0).resetAutogrow=function(){d.init()};this.init()};c.autogrow.fn=c.autogrow.prototype={autogrow:"1.2.3"};c.autogrow.fn.extend=c.autogrow.extend=c.extend;c.autogrow.fn.extend({init:function(){var a=this;this.textarea.css({overflow:"hidden",display:"block"});this.textarea.bind("focus",function(){a.checkExpand(!0);a.startExpand();return!0}).bind("blur",function(){a.stopExpand();return!0});this.checkExpand(!0)},startExpand:function(){var a=
this;this.interval=window.setInterval(function(){a.checkExpand(!1)},400)},stopExpand:function(){clearInterval(this.interval)},checkExpand:function(a){null==this.shadow?(this.shadow=$("<div></div>"),this.shadow.css({"font-size":this.textarea.css("font-size"),"font-family":this.textarea.css("font-family"),"padding-top":this.textarea.css("padding-top"),"padding-right":this.textarea.css("padding-right"),"padding-bottom":this.textarea.css("padding-bottom"),"padding-left":this.textarea.css("padding-left"),
"line-height":this.lineHeight+"px","overflow-x":"hidden",position:"absolute",top:-1E4,left:-1E4,"background-color":"white",border:"1px solid black"}),this.shadow.appendTo("body")):this.shadow.show();var b=this.shadow.width(),d=this.textarea.innerWidth();if(0<d&&(b!=d&&this.shadow.width(d),$.browser.msie&&!this.widthSet&&(this.textarea.width(this.textarea.width()+"px"),this.widthSet=!0),b=this.textarea.val().toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/^ /,"&nbsp;").replace(/  /g,
" &nbsp;")+".",b=$.browser.msie?b.replace(/\n/g,"<BR>"):b.replace(/\n/g,"<br>"),b+=".",a||this.shadow.html()!=b))if(a=this.expandTolerance*this.lineHeight,this.shadow.html(b),0<this.maxHeight&&this.shadow.height()+a>this.maxHeight)this.textarea.css("overflow-y","auto"),this.textarea.height()<this.maxHeight&&this.textarea.animate({height:this.maxHeight+a+"px"},this.animateSpeed);else{"hidden"!==this.textarea.css("overflow-y")&&this.textarea.css("overflow-y","hidden");var b=this.textarea.height(),c=
!1,d=Math.max(this.shadow.height(),this.minHeight),d=Math.floor(d+a);$.browser.msie?Math.abs(b-d)>this.lineHeight/2&&(c=!0):b!=d&&(c=!0);c&&this.textarea.animate({height:d+"px"},this.animateSpeed)}this.shadow.hide()}})})(jQuery);var jaaulde=window.jaaulde||{};jaaulde.utils=jaaulde.utils||{};
jaaulde.utils.cookies=function(){var f,h,d,e,b={expiresAt:null,path:"/",domain:null,secure:!1};f=function(a){var c,g;if("object"!==typeof a||null===a)c=b;else if(c={expiresAt:b.expiresAt,path:b.path,domain:b.domain,secure:b.secure},"object"===typeof a.expiresAt&&a.expiresAt instanceof Date?c.expiresAt=a.expiresAt:"number"===typeof a.hoursToLive&&0!==a.hoursToLive&&(g=new Date,g.setTime(g.getTime()+36E5*a.hoursToLive),c.expiresAt=g),"string"===typeof a.path&&""!==a.path&&(c.path=a.path),"string"===
typeof a.domain&&""!==a.domain&&(c.domain=a.domain),!0===a.secure)c.secure=a.secure;return c};h=function(a){a=f(a);return("object"===typeof a.expiresAt&&a.expiresAt instanceof Date?"; expires="+a.expiresAt.toGMTString():"")+"; path="+a.path+("string"===typeof a.domain?"; domain="+a.domain:"")+(!0===a.secure?"; secure":"")};d=function(){var a={},c,g,d,b,e=document.cookie.split(";"),f;for(c=0;c<e.length;c+=1){g=e[c].split("=");d=g[0].replace(/^\s*/,"").replace(/\s*$/,"");try{b=decodeURIComponent(g[1])}catch(h){b=
g[1]}if("object"===typeof JSON&&null!==JSON&&"function"===typeof JSON.parse)try{f=b,b=JSON.parse(b)}catch(i){b=f}a[d]=b}return a};e=function(){};e.prototype.get=function(a){var c,g,b=d();if("string"===typeof a)c="undefined"!==typeof b[a]?b[a]:null;else if("object"===typeof a&&null!==a)for(g in c={},a)c[a[g]]="undefined"!==typeof b[a[g]]?b[a[g]]:null;else c=b;return c};e.prototype.filter=function(a){var c,b={},e=d();"string"===typeof a&&(a=RegExp(a));for(c in e)c.match(a)&&(b[c]=e[c]);return b};e.prototype.set=
function(a,c,b){if("object"!==typeof b||null===b)b={};if("undefined"===typeof c||null===c)c="",b.hoursToLive=-8760;else if("string"!==typeof c)if("object"===typeof JSON&&null!==JSON&&"function"===typeof JSON.stringify)c=JSON.stringify(c);else throw Error("cookies.set() received non-string value and could not serialize.");b=h(b);document.cookie=a+"="+encodeURIComponent(c)+b};e.prototype.del=function(a,c){var b={},d;if("object"!==typeof c||null===c)c={};"boolean"===typeof a&&!0===a?b=this.get():"string"===
typeof a&&(b[a]=!0);for(d in b)"string"===typeof d&&""!==d&&this.set(d,null,c)};e.prototype.test=function(){var a=!1;this.set("cT","data");"data"===this.get("cT")&&(this.del("cT"),a=!0);return a};e.prototype.setOptions=function(a){"object"!==typeof a&&(a=null);b=f(a)};return new e}();
(function(){window.jQuery&&function(f){f.cookies=jaaulde.utils.cookies;f.each({cookify:function(h){return this.each(function(){var d,e=["name","id"],b,a=f(this),c;for(d in e)if(!isNaN(d)&&(b=a.attr(e[d]),"string"===typeof b&&""!==b)){a.is(":checkbox, :radio")?a.attr("checked")&&(c=a.val()):c=a.is(":input")?a.val():a.html();if("string"!==typeof c||""===c)c=null;f.cookies.set(b,c,h);break}})},cookieFill:function(){return this.each(function(){var h,d,e=["name","id"],b,a=f(this);for(d=function(){h=e.pop();
return!!h};d();)if(b=a.attr(h),"string"===typeof b&&""!==b){d=f.cookies.get(b);null!==d&&(a.is(":checkbox, :radio")?a.val()===d?a.attr("checked","checked"):a.removeAttr("checked"):a.is(":input")?a.val(d):a.html(d));break}})},cookieBind:function(h){return this.each(function(){var d=f(this);d.cookieFill().change(function(){d.cookify(h)})})}},function(h){f.fn[h]=this})}(window.jQuery)})();(function(f,s,p){function n(b,a,c){var e,d;e=b.attr("data-dk-dropdown-value");b=b.text();d=a.data("dropkick");$select=d.$select;$select.val(e);a.find(".dk_label").text(b);d.settings.change&&!c&&d.settings.change.call($select,e,b);$select.trigger("change")}function l(b,a){a.find(".dk_option_current").removeClass("dk_option_current");b.addClass("dk_option_current");var c=b.prevAll("li").outerHeight()*b.prevAll("li").length;a.find(".dk_options_inner").animate({scrollTop:c+"px"},0)}function o(b){b.data("dropkick");
b.find(".dk_options").css({top:b.find(".dk_toggle").outerHeight()-1});b.toggleClass("dk_open")}function t(b,a){var c,e=[];c=b.replace("{{ id }}",a.id);c=c.replace("{{ label }}",a.label);c=c.replace("{{ tabindex }}",a.tabindex);if(a.options&&a.options.length)for(var d=0,h=a.options.length;d<h;d++){var i=f(a.options[d]),j=u,j=j.replace("{{ value }}",i.val()),j=j.replace("{{ current }}",q(i.val())===a.value?"dk_option_current":""),j=j.replace("{{ text }}",i.text());e[e.length]=j}c=f(c);c.find(".dk_options_inner").html(e.join(""));
return c}function q(b){return 0<f.trim(b).length?b:!1}var r=!1;f.browser.msie&&7>f.browser.version.substr(0,1)?r=!0:p.documentElement.className+=" dk_fouc";var k={},m=[],u='<li class="{{ current }}"><a data-dk-dropdown-value="{{ value }}">{{ text }}</a></li>',v={startSpeed:1E3,theme:!1,change:!1};k.init=function(b){b=f.extend({},v,b);return this.each(function(){var a=f(this),c=a.find(":selected").first(),e=a.find("option"),d=a.data("dropkick")||{},h=a.attr("id")||a.attr("name"),i=b.width||a.outerWidth(),
j=a.attr("tabindex")?a.attr("tabindex"):"1",g=!1;if(d.id)return a;d.settings=b;d.tabindex=j;d.id=h;d.$original=c;d.$select=a;d.value=q(a.val())||q(c.attr("value"));d.label=c.text();d.options=e;g=t('<div class="dk_container" id="dk_container_{{ id }}" tabindex="{{ tabindex }}"><a class="dk_toggle"><span class="dk_label">{{ label }}</span><span class="icon"><i></i></span></a><div class="dk_options"><ul class="dk_options_inner"></ul></div></div>',d);g.find(".dk_toggle").css({width:i+"px"});a.before(g);
g=f("#dk_container_"+h).fadeIn(b.startSpeed);c=b.theme?b.theme:"default";g.addClass("dk_theme_"+c);d.theme=c;d.$dk=g;a.data("dropkick",d);g.data("dropkick",d);m[m.length]=a;f.browser.msie?f("body").click(function(a){f(a.target).parents(".dk_container").length||g.removeClass("dk_open")}):g.bind("focus.dropkick",function(){g.addClass("dk_focus")}).bind("blur.dropkick",function(){g.removeClass("dk_open dk_focus")});setTimeout(function(){a.hide()},0)})};k.theme=function(b){var a=f(this).data("dropkick");
a.$dk.removeClass("dk_theme_"+a.theme).addClass("dk_theme_"+b);a.theme=b};k.select=function(b){for(var a=0,c=m.length;a<c;a++){var e=m[a].data("dropkick"),d=e.$dk;if(f(this)[0]==d.next()[0]){a=f(d.find('li a[data-dk-dropdown-value="'+b+'"]')[0]).closest("li");d.find(".dk_label").text(e.label);d.find(".dk_options_inner").animate({scrollTop:0},0);l(a,d);n(a,d,!0);d.data("dropkick").$select.val(b);f.browser.msie?a.find("a").trigger("mousedown"):a.find("a").trigger("click");break}}};k.reload=function(){var b=
f(this),a=b.data("dropkick");b.removeData("dropkick");f("#dk_container_"+a.id).remove();b.dropkick(a.settings)};k.reset=function(){for(var b=0,a=m.length;b<a;b++){var c=m[b].data("dropkick"),e=c.$dk,d=e.find("li").first();e.find(".dk_label").text(c.label);e.find(".dk_options_inner").animate({scrollTop:0},0);l(d,e);n(d,e,!0)}};f.fn.dropkick=function(b){if(!r){if(k[b])return k[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return k.init.apply(this,arguments)}};f(function(){f(".dk_toggle").live("click",
function(b){var a=f(this).parents(".dk_container").first();o(a);"ontouchstart"in s&&(a.addClass("dk_touch"),a.find(".dk_options_inner").addClass("scrollable vertical"));b.preventDefault();return!1});f(".dk_options a").live(f.browser.msie?"mousedown":"click",function(b){var a=f(this),c=a.parents(".dk_container").first();c.data("dropkick");c.removeClass("dk_open");n(a,c);l(a.parent(),c);b.preventDefault();return!1});f(p).bind("keydown.dk_nav",function(b){var a=f(".dk_container.dk_open"),c=f(".dk_container.dk_focus"),
e=null;a.length?e=a:c.length&&!a.length&&(e=c);if(e){var a=e,d=b.keyCode;a.data("dropkick");var h=a.find(".dk_options"),c=a.hasClass("dk_open"),i=a.find(".dk_option_current"),e=h.find("li").first(),h=h.find("li").last();switch(d){case 13:c?(n(i.find("a"),a),a.removeClass("dk_open")):o(a);b.preventDefault();break;case 38:e=i.prev("li");c?e.length?l(e,a):l(h,a):o(a);b.preventDefault();break;case 40:c?(c=i.next("li").first(),c.length?l(c,a):l(e,a)):o(a),b.preventDefault()}}})})})(jQuery,window,document);(function(b){b.fn.isChildOf=function(a){return"string"===typeof a?0<this.parents(a).length:0<=this.parents(a).index(a)}})(jQuery);(function(j){var e=function(a){return void 0!==a&&null!==a},m=function(a){setTimeout(a,0)},y=j("head"),q={},s={callback:"C",url:location.href},f=function(a){var a=j.extend({},s,a),b=a.beforeSend,k=0;a.abort=function(){k=1};if(e(b)&&(!1===b(a,a)||k))return a;var f=a.success,g=a.complete,t=a.error,u=a.dataFilter,c=a.callbackParameter,n=a.callback,h=a.cache,o=a.pageCache,i=a.url,b=a.data,v=a.timeout,i=e(i)?i:"",b=e(b)?"string"==typeof b?b:j.param(b):"";e(c)&&(b+=(""==b?"":"&")+escape(c)+"=?");!h&&!o&&
(b+=(""==b?"":"&")+"_"+(new Date).getTime()+"=");c=i.split("?");""!=b&&(b=b.split("?"),(h=c.length-1)&&(c[h]+="&"+b.shift()),c=c.concat(b));b=c.length-2;0<b&&(c[b]+=n+c.pop());var p=c.join("?"),w=function(b){e(u)&&(b=u.apply(a,[b]));var d=a,b=[b,"success"];e(f)&&f.apply(d,b);d=a;b=[a,"success"];e(g)&&g.apply(d,b)},x=function(b){var d=a,c=[a,b];e(t)&&t.apply(d,c);d=a;b=[a,b];e(g)&&g.apply(d,b)},r=q[p];if(o&&e(r))return m(function(){e(r.s)?w(r.s):x("error")}),a;m(function(){if(!k){var b=j("<iframe style='display:none' />").appendTo(y),
d=b[0],c=d.contentWindow||d.contentDocument,d=c.document,f,g,h=function(b,a){o&&!e(a)&&(q[p]="");f();x(e(a)?a:"error")},i=function(a){c[a]=void 0;try{delete c[a]}catch(b){}},l=n=="E"?"X":"E";if(!e(d)){d=c;c=d.getParentNode()}d.open();c[n]=function(a){k=1;o&&(q[p]={s:a});m(function(){f();w(a)})};c[l]=function(a){(!a||a=="complete")&&!k++&&m(h)};a.abort=f=function(){clearTimeout(g);i(l);i(n);b.remove()};d.write(['<html><head><script src="',p,'" onload="',l,'()" onreadystatechange="',l,'(this.readyState)"><\/script></head><body onload="',
l,'()"></body></html>'].join(""));d.close();v>0&&(g=setTimeout(function(){!k&&h("","timeout")},v))}});return a};f.setup=function(a){j.extend(s,a)};j.jsonp=f})(jQuery);(function(c){function h(b){return"object"==typeof b?b:{top:b,left:b}}var l=c.scrollTo=function(b,d,a){c(window).scrollTo(b,d,a)};l.defaults={axis:"xy",duration:1.3<=parseFloat(c.fn.jquery)?0:1};l.window=function(){return c(window)._scrollable()};c.fn._scrollable=function(){return this.map(function(){if(this.nodeName&&-1==c.inArray(this.nodeName.toLowerCase(),["iframe","#document","html","body"]))return this;var b=(this.contentWindow||this).document||this.ownerDocument||this;return c.browser.safari||
"BackCompat"==b.compatMode?b.body:b.documentElement})};c.fn.scrollTo=function(b,d,a){"object"==typeof d&&(a=d,d=0);"function"==typeof a&&(a={onAfter:a});"max"==b&&(b=9E9);a=c.extend({},l.defaults,a);d=d||a.speed||a.duration;a.queue=a.queue&&1<a.axis.length;a.queue&&(d/=2);a.offset=h(a.offset);a.over=h(a.over);return this._scrollable().each(function(){function n(c){i.animate(e,d,a.easing,c&&function(){c.call(this,b,a)})}var j=this,i=c(j),g=b,m,e={},p=i.is("html,body");switch(typeof g){case "number":case "string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(g)){g=
h(g);break}g=c(g,this);case "object":if(g.is||g.style)m=(g=c(g)).offset()}c.each(a.axis.split(""),function(b,c){var d=c=="x"?"Left":"Top",k=d.toLowerCase(),f="scroll"+d,h=j[f],o=l.max(j,c);if(m){e[f]=m[k]+(p?0:h-i.offset()[k]);if(a.margin){e[f]=e[f]-(parseInt(g.css("margin"+d))||0);e[f]=e[f]-(parseInt(g.css("border"+d+"Width"))||0)}e[f]=e[f]+(a.offset[k]||0);a.over[k]&&(e[f]=e[f]+g[c=="x"?"width":"height"]()*a.over[k])}else{d=g[k];e[f]=d.slice&&d.slice(-1)=="%"?parseFloat(d)/100*o:d}/^\d+$/.test(e[f])&&
(e[f]=e[f]<=0?0:Math.min(e[f],o));if(!b&&a.queue){h!=e[f]&&n(a.onAfterFirst);delete e[f]}});n(a.onAfter)}).end()};l.max=function(b,d){var a="x"==d?"Width":"Height",h="scroll"+a;if(!c(b).is("html,body"))return b[h]-c(b)[a.toLowerCase()]();var a="client"+a,j=b.ownerDocument.documentElement,i=b.ownerDocument.body;return Math.max(j[h],i[h])-Math.min(j[a],i[a])}})(jQuery);(function(f){f.extend({twitUserTimeline:function(a,c,d,b){b||(b=10);a&&f.isFunction(c)&&(a={count:b,user_id:a},d&&(a.since_id=d),jQuery.ajax({dataType:"jsonp",url:"http://api.twitter.com/1/statuses/user_timeline.json",data:a,timeout:3E3,success:function(a,b){c.call(this,a,b,d)},error:function(a,b){c.call(this,null,b,d)}}))},twitSearch:function(a,c,d,b,e,g){e?100<e&&(e=100):e=10;a&&f.isFunction(d)&&(a={q:a,rpp:e,result_type:"recent"},b&&(a.since_id=b),g&&(a.lang=g),jQuery.ajax({dataType:"jsonp",url:(c?
"https":"http")+"://search.twitter.com/search.json",data:a,timeout:3E3,success:function(a,c){d.call(this,a,c,b)},error:function(a,c){d.call(this,null,c,b)}}))}})})(jQuery);(function(d){function f(b,e){for(var a=decodeURI(b),a=g[e?"strict":"loose"].exec(a),c={attr:{},param:{},seg:{}},d=14;d--;)c.attr[h[d]]=a[d]||"";c.param.query={};c.param.fragment={};c.attr.query.replace(i,function(a,b,d){b&&(c.param.query[b]=d)});c.attr.fragment.replace(j,function(a,b,d){b&&(c.param.fragment[b]=d)});c.seg.path=c.attr.path.replace(/^\/+|\/+$/g,"").split("/");c.seg.fragment=c.attr.fragment.replace(/^\/+|\/+$/g,"").split("/");c.attr.base=c.attr.host?c.attr.protocol+"://"+c.attr.host+
(c.attr.port?":"+c.attr.port:""):"";return c}function k(b){b=b.tagName;return void 0!==b?l[b.toLowerCase()]:b}var l={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},h="source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,fragment".split(","),m={anchor:"fragment"},g={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},
i=/(?:^|&|;)([^&=;]*)=?([^&;]*)/g,j=/(?:^|&|;)([^&=;]*)=?([^&;]*)/g;d.fn.url=function(b){var e="";this.length&&(e=d(this).attr(k(this[0]))||"");return d.url(e,b)};d.url=function(b,d){1===arguments.length&&!0===b&&(d=!0,b=void 0);b=b||window.location.toString();return{data:f(b,d||!1),attr:function(a){a=m[a]||a;return a!==void 0?this.data.attr[a]:this.data.attr},param:function(a){return a!==void 0?this.data.param.query[a]:this.data.param.query},fparam:function(a){return a!==void 0?this.data.param.fragment[a]:
this.data.param.fragment},segment:function(a){if(a===void 0)return this.data.seg.path;a=a<0?this.data.seg.path.length+a:a-1;return this.data.seg.path[a]},fsegment:function(a){if(a===void 0)return this.data.seg.fragment;a=a<0?this.data.seg.fragment.length+a:a-1;return this.data.seg.fragment[a]}}}})(jQuery);jQuery.fn.log=function(c){console.log("%s: %o",c,this);return this};
jQuery.fn.maxlength=function(c){this.filter("input,textarea").each(function(){var a=$(this),d=function(b,e){if(0<e&&b.value.length>e){var c=a.val().substr(0,e);a.val(c)}};a.attr("maxlength",c);a.keydown(function(b){var a=b.which,c=$(this).attr("maxlength");if(0<c&&(32<=a||13==a||10==a||8==a))if(this.value.length>=c&&8!=a&&!(37<=a&&40>=a)&&!b.metaKey&&!b.ctrlKey&&b.preventDefault(),d(this,c),86==a&&(b.metaKey||b.ctrlKey)){var f=this;setTimeout(function(){d(f,c)},10)}});a.bind("click blur focus change paste",
function(){var b=$(this).attr("maxlength");0<b&&this.value.length>b&&(b=a.val().substr(0,b),a.val(b))})});return this};$.extend({getUrlVars:function(){for(var c=[],a,d=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),b=0;b<d.length;b++)a=d[b].split("="),c.push(a[0]),c[a[0]]=a[1];return c},getUrlVar:function(c){return $.getUrlVars()[c]}});window.GD=window.GD||{};function id(a){return"string"==typeof a?(a=$("#"+a),0<a.size()?a.get(0):null):a}GD.runAfterBody=function(a,b){if(window.isBodyLoaded)try{a()}catch(c){Logger.error("Exception running function after body load with GD.runAfterBody: "+c)}else b=isNaN(b)?0:0>b?0:10<b?10:b-0,GD.runAfterBody.funcs.push({priority:b,afterBodyFunction:a})};GD.runAfterBody.sortPriorities=function(a,b){return b.priority-a.priority};GD.runAfterBody.funcs=[];
GD.runAfterBody.run=function(){window.isBodyLoaded=!0;GD.runAfterBody.funcs.sort(GD.runAfterBody.sortPriorities);for(var a=0;a<GD.runAfterBody.funcs.length;a+=1)GD.runAfterBody.runOneFunc(GD.runAfterBody.funcs[a].afterBodyFunction,a);delete GD.runAfterBody.funcs;delete GD.runAfterBody.runOneFunc;delete GD.runAfterBody.sortPriorities;delete GD.runAfterBody.run};
GD.runAfterBody.runOneFunc=function(a,b){try{a()}catch(c){Logger.error("Exception running function during loop "+b+" of GD.runAfterBody: "+c)}};GD.runOnFacebookLoad=function(a){if(window.isFacebookLoaded)try{a()}catch(b){Logger.error("Exception running function after Facebook load with GD.runOnFacebookLoad: "+b)}else GD.runOnFacebookLoad.funcs.push({afterFbFunction:a})};GD.runOnFacebookLoad.funcs=[];
GD.runOnFacebookLoad.run=function(){window.isFacebookLoaded=!0;for(var a=0;a<GD.runOnFacebookLoad.funcs.length;a+=1)GD.runOnFacebookLoad.runOneFunc(GD.runOnFacebookLoad.funcs[a].afterFbFunction,a);delete GD.runOnFacebookLoad.funcs;delete GD.runOnFacebookLoad.runOneFunc;delete GD.runOnFacebookLoad.run;Logger.info("GD.runOnFacebookLoad.run() completed.")};
GD.runOnFacebookLoad.runOneFunc=function(a,b){try{a()}catch(c){Logger.error("Exception running function during loop "+b+" of GD.runOnFacebookLoad: "+c)}};GD.Class=function(a){var b=a.hasOwnProperty("constructor")?a.constructor:function(){};a.constructor=b;b.prototype=a;return b};window.GD=window.GD||{};GD.dom=GD.dom||{};GD.dom.getDocUrl=function(){return document.location.href};GD.dom.submitForm=function(a,b){var c=$(a);c.length&&(GD.dom.clearPage(null,b),c.submit());return!1};
GD.dom.clearPage=function(a,b){var c,d;"string"!==typeof a&&(a=".pageInsideContent");c=$(a);1>c.length||(b=(b||"Loading...").trim(),d=$("#InterstitialDisplay"),d.find("p.message").html(b),$(document).prop("title",b+" | Glassdoor"),c.find("embed, object").css("display","none"),0<c.length&&(d=$("#InterstitialDisplay"),$("img",d),$("#ModalScreen, #GenericPopupOuterFrame").css("visibility","hidden"),c.css("visibility","hidden"),c.find("iframe").css("display","none"),$("#UserAlertDrawer").css("visibility",
"hidden"),$("#UserAlertBar").css("visibility","hidden"),d=d.clone(!0),c.after(d),d.show(),jQuery&&jQuery.scrollTo?jQuery.scrollTo({top:0,left:0,axis:"yx",easing:"easeInOutExpo",queue:!1}):window.scrollTo(0,1)))};GD.dom.clearWindowAndRedirect=function(a,b,c,d){if("string"===typeof a)try{GD.dom.clearPage(c,d)}catch(e){Logger.info("unable to clear the page for "+a)}finally{GD.wait().then(function(){GD.dom.loadUrl(a,b)})}};
GD.dom.clearPageAndRedirect=function(a,b,c){"string"===typeof a&&(GD.dom.clearPage(b,c),GD.wait().then(function(){GD.dom.loadUrl(a,"_top")}))};GD.dom.loadUrl=function(a,b){"string"!=typeof b&&(b="_self");"string"===typeof a&&(b?GD.dom.loadNewWindow(a,b):window.location.href=a);return!0};GD.dom.reloadPage=function(){history.go(0)};GD.dom.loadNewWindow=function(a,b){if("string"!==typeof b||!b)b="_blank";var c=window.open(a,b);return c?(c.focus&&c.focus(),!1):!0};
GD.dom.loadScript=function(a,b){var c=document.createElement("script");c.src=a;c.async=c.defer=!0;"function"==typeof b&&(c.onload=c.onreadystatechange=function(){var a=c.readyState;if(!a||"loaded"==a||"complete"==a)c.onload=c.onreadystatechange=null,b()});document.getElementsByTagName("head")[0].appendChild(c)};GD.dom.execScript=function(a){var b=document.createElement("script");b.text=a;b.async=b.defer=!0;document.getElementsByTagName("head")[0].appendChild(b)};
GD.dom.getRadioValue=function(a){if(!a)return"";var b=a.length;if(void 0==b)return a.checked?a.value:"";for(var c=0;c<b;c++)if(a[c].checked)return a[c].value;return""};GD.dom.setRadioValue=function(a,b){if(a){var c=a.length;if(void 0==c)a.checked=a.value==b.toString();else for(var d=0;d<c;d++)a[d].checked=!1,a[d].value==b.toString()&&(a[d].checked=!0)}};GD.dom.clearList=function(a){if((a=id(a))&&a.options&&a.options.length)for(var a=a.options,b=0;b<a.length;b++)a[b].selected=!1};
GD.dom.addListTitles=function(a){if((a=id(a))&&a.options&&a.options.length)for(var a=a.options,b=0;b<a.length;b++){var c=a[b].text,c=c.replace(/^[\s\-]*/,"");a[b].title=c}};GD.dom._cachedScrollWidth=-1;
GD.dom.getScrollerWidth=function(){if(0>=GD.dom._cachedScrollWidth){var a=null,b=0,a=0;scrollingDiv=document.createElement("div");scrollingDiv.style.position="absolute";scrollingDiv.style.top="-1000px";scrollingDiv.style.left="-1000px";scrollingDiv.style.width="100px";scrollingDiv.style.height="50px";scrollingDiv.style.overflow="hidden";scrollingDiv.style.border="1px dotted blue";a=document.createElement("div");a.style.width="100%";a.style.height="200px";scrollingDiv.appendChild(a);document.body.appendChild(scrollingDiv);
b=a.offsetWidth;scrollingDiv.style.overflow="scroll";a=a.offsetWidth;b==a&&(a=scrollingDiv.clientWidth);document.body.removeChild(scrollingDiv);GD.dom._cachedScrollWidth=b-a}return GD.dom._cachedScrollWidth};window.GD=window.GD||{};GD.util=GD.util||{};GD.util.NUM_GROUP_SEP=",";window.noop=function(){};var toType=function(b){return{}.toString.call(b).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()};GD.wait=function(b){if("number"!==typeof b||0>=b)b=1;return jQuery.Deferred(function(c){setTimeout(c.resolve,b)})};
var ObjectHandler={clone:function(b){var c={};if("object"==typeof b)for(prop in b)c[prop]="object"==typeof b[prop]&&b[prop].__isArray?this.cloneArray(b[prop]):"object"==typeof b[prop]?this.clone(b[prop]):b[prop];return c},cloneArray:function(b){for(var c=[],d=0;d<=b.length;d++)"object"==typeof b[d]?c.push(this.getCloneOfObject(b[d])):c.push(b[d]);return c}};Array.prototype.__isArray=!0;
"undefined"==typeof String.prototype.trim&&(String.prototype.trim=function(){a=this.replace(/^\s+/,"");return a.replace(/\s+$/,"")});String.prototype.equalsIgnoreCase=function(b){b=b.escapeForRegex();return this.match(RegExp(b,"i"))};String.prototype.startsWith=function(b){return this.indexOf(b)==0};String.prototype.contains=function(b){return this.indexOf(b)>=0};String.prototype.endsWith=function(b){var c=this.length-b.length;return c>=0&&this.lastIndexOf(b)==c};
String.prototype.splice=function(b,c,d){return this.slice(0,b)+d+this.slice(b+Math.abs(c))};String.prototype.countWords=function(){var b=0,c;c=this.trim().replace(/\s/g," ");c=c.split(/[ ,\.\(\)\[\]]+/);for(index=0;index<c.length;index++)c[index].length>0&&b++;return b};String.prototype.capitalize=function(){return this.replace(/\w+/g,function(b){return b.charAt(0).toUpperCase()+b.substr(1).toLowerCase()})};
String.prototype.toTitleCase=function(){return this.replace(/([\w&`'‘’"“.@:\/\{\(\[<>_]+-? *)/g,function(b,c,d,e){return d>0&&e.charAt(d-2)!==":"&&b.search(/^(a(nd?|s|t)?|b(ut|y)|en|for|i[fn]|o[fnr]|t(he|o)|vs?\.?|via)[ \-]/i)>-1?b.toLowerCase():e.substring(d-1,d+1).search(/['"_{(\[]/)>-1?b.charAt(0)+b.charAt(1).toUpperCase()+b.substr(2):b.substr(1).search(/[A-Z]+|&|[\w]+[._][\w]+/)>-1||e.substring(d-1,d+1).search(/[\])}]/)>-1?b:b.charAt(0).toUpperCase()+b.substr(1)})};
String.prototype.removeToken=function(b){if(!b)return this;var c=this.indexOf(b);return c==-1?this:this.substring(0,c)+this.substring(c+b.length).removeToken(b)};String.prototype.encodeHTML=function(){var b=this.toString(),b=b.replace(/&/g,"&amp;"),b=b.replace(/</g,"&lt;"),b=b.replace(/>/g,"&gt;"),b=b.replace(/"/g,"&quot;");return b=b.replace(/'/g,"&apos;")};
String.prototype.decodeHTML=function(){var b=this.toString(),b=b.replace(/&gt;/g,">"),b=b.replace(/&lt;/g,"<"),b=b.replace(/&amp;/g,"&"),b=b.replace(/&quot;/g,'"');return b=b.replace(/&apos;/g,"'")};String.prototype.truncateToLength=function(b,c,d){var e=this.toString();if(e.length>b){if(c){for(;b>0;){if(/\s/.test(e.charAt(b-1)))break;b--}for(;b>0&&!/\s/.test(e.charAt(b-1));)b--}e=e.substr(0,b).trim();d||(e=e+"&hellip;")}return e};
String.prototype.entityToPlainText={lt:"<",gt:">",amp:"&","#32":" ",nbsp:" ","#39":"'",apos:"'",quot:'"',cent:"¢",pound:"£",yen:"¥",copy:"©",reg:"®",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",ldquo:"“",rdquo:"”",bull:"•",hellip:"…",euro:"€",trade:"™",infin:"∞"};String.prototype.entitiesToText=function(b){var c=this.toString();return c=c.replace(/&([\w#]{1}[\w]{1,5});/g,function(c,e){var f=String.prototype.entityToPlainText[e];f||(f=b?" ":c);return f})};
String.prototype.stripHtml=function(b){var c=b?"":"[\\r\\n\\s]*",b=b?"   ":"",d;d=this.replace(RegExp("<[/]?(p|div)[^>]*>"+c,"gim"),"\n");d=d.replace(RegExp("<li[^/>]*>"+c,"gim"),"\n"+b+"• ");d=d.replace(RegExp("<(\\?xml:|/)?[\\w]+[^>]*>","gim"),"");d=d.replace(RegExp("\\w{50,}","g"),"");d=d.replace(RegExp("<\!--"+c+".+"+c+"--\>","gm"),"\n");d=d.entitiesToText(true);return d.trim()};String.prototype.plainTextLength=function(b){var c=/[\s\t]{2,}/g,d;d=this.stripHtml(b);b||(d=d.replace(c," "));return d.length};
String.prototype.escapeForRegex=function(){return this.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};String.prototype.removeSeparators=function(){var b=this.replace(RegExp(GD.util.NUM_GROUP_SEP,"g"),"");return parseInt(b)};String.prototype.addUrlParam=function(b,c){var d=this,c=encodeURIComponent(c),e=d.split("#"),d=e[0],e=e.length>1?e[1]:"",f=d.split("?");if(f.length>1){d=f[0];params=f[1]}else params="";params&&(params=params+"&");params=params+(b+"="+c);d=d+("?"+params);e&&(d=d+("#"+e));return d};
String.prototype.printf=function(){for(var b=arguments.length,c=this,d=0;d<b;d=d+1)c=c.replace(RegExp("\\{"+d+"\\}","g"),arguments[d]);return c.toString()};Number.prototype.addSeparators=function(){var b=this.toString();if(this.valueOf()<1E3)return b;for(var c=b.split("."),b=c[0],c=c.length>1?"."+c[1]:"",d=/(\d+)(\d{3})/;d.test(b);)b=b.replace(d,"$1"+GD.util.NUM_GROUP_SEP+"$2");return b+c};Array.prototype.contains=function(b){for(var c=this.length;c--;)if(this[c]===b)return true;return false};
Array.prototype.chain=function(b){var c=this,d=0,b=b||100;GD.wait(b).then(function(){var e=c[d++],f=b;typeof e==="function"?e():typeof e==="number"&&(f=e);d<c.length&&GD.wait(f).then(arguments.callee)});return this};Array.prototype.shuffle=function(){for(var b=this.length,c=b;c--;){var d=parseInt(Math.random()*b),e=this[c];this[c]=this[d];this[d]=e}};GD.counter=function(b){b||(b="default");if(!GD.counter)GD.counter={};GD.counter[b]=typeof GD.counter[b]!=="number"?1:GD.counter[b]+1;return GD.counter[b]};
GD.log=function(b){b="GLASSDOOR: "+b;console&&console.log?console.log(b):opera&&opera.postError&&opera.postError(b)};GD.isNumber=function(b){return!isNaN(b)};GD.getIEVersion=function(){var b=window.navigator.userAgent,c=b.indexOf("MSIE ");return c>0?parseInt(b.substring(c+5,b.indexOf(".",c))):0};GD.isIE=function(){return GD.getIEVersion()!=0};GD.isIE6=function(){var b=GD.getIEVersion();return b>0&&b<7};
GD.currencyDecimals={BIF:0,BYR:0,CLF:0,CLP:0,DJF:0,GNF:0,JPY:0,KMF:0,KRW:0,MGA:0,PYG:0,RWF:0,VUV:0,BHD:3,IQD:3,JOD:3,KWD:3,LYD:3,OMR:3,TND:3};
GD.formatNumber=function(b,c,d,e,f){if(typeof c=="undefined"||c==null)c="";if(typeof d!="number"){d=c.length>0?GD.currencyDecimals[c]:0;typeof d!="number"&&(d=2)}d<0?d=0:d>4&&(d=4);typeof e!="boolean"&&(e=true);var h=Math.pow(10,d),b=b.toString().replace(/\$|\,/g,"");isNaN(b)&&(b="0");sign=b==(b=Math.abs(b));for(var b=Math.floor(b*h+0.50000000001),g=b%h,b=Math.floor(b/h).toString(),g=g.toString();g.length<d;)g="0"+g;if(e)for(e=0;e<Math.floor((b.length-(1+e))/3);e=e+1)b=b.substring(0,b.length-(4*e+
3))+","+b.substring(b.length-(4*e+3));b=(sign?"":"-")+b;d>0&&(b=b+("."+g));if(c.length>0){d="";g=true;switch(c){case "USD":d="$";g=f;break;case "EUR":d="&euro; ";g=false;break;case "GBP":d="&pound; ";g=false;break;case "JPY":d="&yen; ";g=false}g&&(b=b+" "+c);return d+b}return b};GD.util.getReviewsURL=function(b,c){b=b.replace(/[\W]+/g,"-");return"/Reviews/"+b+"-Reviews-E"+c+".htm"};GD.util.getSalariesURL=function(b,c){b=b.replace(/[\W]+/g,"-");return"/Salaries/"+b+"-Salaries-E"+c+".htm"};
GD.util.durationInPast=function(b){var b=(new Date).getTime()-b.getTime(),b=Math.floor(b/1E3/3600),c=Math.floor(b/24),d="";if(b<1)d="in the last hour";else if(b<12){d=b+" hour";b!=1&&(d=d+"s");d=d+" ago"}else d=c<1?"today":c<2?"yesterday":c<3?"the day before yesterday":c<6?c-1+" days ago":c<=7?"in the last week":c<=14?"in the last 2 weeks":c<=31?"in the last month":c<=35?"5 weeks ago":c<=42?"6 weeks ago":c<=49?"7 weeks ago":c<=75?"2 months ago":c<=105?"3 months ago":c<=138?"4 months ago":c<=170?"5 months ago":
c<=210?"6 months ago":"over 6 months ago";return d};GD.util.getAjaxUrlRespectingSecurity=function(b){var c=b,d=window.location;d&&d.protocol=="https:"&&(c=d.protocol+"//"+d.host+"/secure"+b);return c};GD.util.openWindow=function(b,c){typeof c!=="string"?c="_blank":c.length<=0&&(c="_blank");window.open(b,c).focus();return false};GD.util.openCenteredPercentWindow=function(b,c,d){if(typeof d=="number"){d=d/100;return GD.util.openCenteredWindow(b,c,screen.width*d,screen.height*d)}};
GD.util.openCenteredWindow=function(b,c,d,e,f){d||(d=Math.floor(screen.width*0.8));e||(e=Math.floor(screen.height*0.8));f||(f="location=yes, menubar=yes, status=yes, toolbar=yes, scrollbars=yes, resizable=yes");d=d+32;e=e+96;wleft=(screen.width-d)/2;wtop=(screen.height-e)/2;if(wleft<0){d=screen.width;wleft=0}if(wtop<0){e=screen.height;wtop=0}b=window.open(b,c,"width="+d+", height="+e+", left="+wleft+", top="+wtop+f);b.resizeTo(d,e);b.moveTo(wleft,wtop);b.focus();return false};
GD.util.sendWLToken=function(b){b=MD5.md5(b);jQuery.ajax({url:"/util/ajax/bwl.htm",type:"POST",dataType:"json",data:{bwl:b,guid:GD.pageInfo.guid}})};GD.util.checkMatchingInputFields=function(b,c){var d=$("#"+b).val(),e=$("#"+c).val();return d==e?true:false};GD.util.validateEmail=function(b){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(b)};
GD.util.validateForm=function(b,c,d){var e=true,f={required:"",email:"",identical:"",system:""};if(c){if(typeof c.required!=="undefined"){var h;$(c.required).each(function(d,g){h=b.find("."+g);if(h.length)if($.trim(h.val())==""){e=false;h.removeClass("validateError, validateOk").addClass("validateError");f.required=c.requiredErr}else h.removeClass("validateError, validateOk").addClass("validateOk");else{e=false;f.system="Form Validation Error - Mandatory Fields"}})}if(typeof c.identical!=="undefined"){var g=
"";$(c.identical).each(function(d,h){var i=b.find("."+h);if(i.length){var k=i.val();if(d==0)g=k;else if(k!=g){e=false;i.removeClass("validateError, validateOk").addClass("validateError");f.identical=c.identicalErr}else i.removeClass("validateError, validateOk").addClass("validateOk")}else{e=false;f.system="Form Validation Error - Identical Fields"}})}typeof c.emailCheck!=="undefined"&&$(c.emailCheck).each(function(c,d){var g=b.find("."+d);if(g.length){var h=g.val();if(GD.util.validateEmail(h))g.removeClass("validateError, validateOk").addClass("validateOk");
else{e=false;g.removeClass("validateError, validateOk").addClass("validateError");f.email="Please enter valid email(s)."}}else{e=false;f.system="Form Validation Error - Email Check"}})}var j={};j.success=e;j.error=f;d(j);return e};GD.util.convertOnes=function(b){var c=["","one","two","three","four","five","six","seven","eight","nine"];return b!=0?b<10?c[b]:"tenplus":"zero"};window.GD=window.GD||{};GD.event=GD.event||{};GD.event.BACKSPACE=8;GD.event.TAB=9;GD.event.ENTER=13;GD.event.SHIFT=16;GD.event.CONTROL=17;GD.event.ALT=18;GD.event.ESCAPE=27;GD.event.SPACE=32;GD.event.PAGE_UP=33;GD.event.PAGE_DOWN=34;GD.event.END=35;GD.event.HOME=36;GD.event.ARROW_LEFT=37;GD.event.ARROW_UP=38;GD.event.ARROW_RIGHT=39;GD.event.ARROW_DOWN=40;GD.event.INSERT=45;GD.event.DELETE=46;
GD.event.fixEvent=function(a){a||(a=window.event);if(a){a.target?3===a.target.nodeType&&(a.target=a.target.parentNode):a.srcElement&&(a.target=a.srcElement);if(null==a.which&&(null!=a.charCode||null!=a.keyCode))a.which=null!=a.charCode?a.charCode:a.keyCode;"undefined"==typeof a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey)}return a};
GD.event.stopEventPropagation=function(a){-1!=navigator.userAgent.toLowerCase().indexOf("msie")&&document.all?(window.event.cancelBubble=!0,window.event.returnValue=!1):a.stopPropagation();return!1};GD.event.isTextChangeKeystroke=function(a){if(99==a.which&&(a.ctrlKey||a.metaKey))return!1;switch(a.keyCode){case GD.event.TAB:case GD.event.ENTER:case GD.event.ESCAPE:case GD.event.ARROW_LEFT:case GD.event.ARROW_UP:case GD.event.ARROW_RIGHT:case GD.event.ARROW_DOWN:case GD.event.PAGE_UP:case GD.event.PAGE_DOWN:case GD.event.END:case GD.event.HOME:case GD.event.INSERT:return!1}return!0};
GD.event.Manager=GD.Class({constructor:function(){this.subscribers={}},checkType:function(a,c){if("string"!==typeof a)throw new TypeError("GD.event.Manager."+c+": type param must be a string.");},checkArgs:function(a,c,b,e){this.checkType(c,a);if("function"!==typeof b)throw new SyntaxError("GD.event.Manager."+a+": callback param must be a function.");if(!e)throw new SyntaxError("GD.event.Manager."+a+": context param must be an object.");},subscribe:function(a,c,b){this.checkArgs("subscribe",a,c,b);
this.subscribers[a]=this.subscribers[a]||[];this.subscribers[a].push({fn:c,context:b})},unsubscribe:function(a,c,b){this.checkArgs("unsubscribe",a,c,b);for(var e=(a=this.subscribers[a])?a.length:0,d=0;d<e;d++)a[d].fn===c&&a[d].context===b&&a.splice(d,1)},fire:function(a,c){this.checkType(a,"fire");for(var b=this.subscribers[a],e=b?b.length:0,d=0;d<e;d++)b[d].fn.call(b[d].context,c)}});window.GD=window.GD||{};GD.ads=GD.ads||{};GD.ads.afsAdIds=GD.ads.afsAdIds||[];GD.ads.adSlotOpenTime=800;GD.ads.maxJobTitleLen=75;GD.ads.CORE_SEARCH_TERMS="job";GD.ads.TARGETING_COOKIE_NAME="ht";GD.ads.BIZO_REQUEST_URL="http://api.bizographics.com/v2/profile.json?api_key=8f97ff8af0f84ecda0969d0911f844fc";
GD.ads.reloadAll=function(){googletag.pubads().refresh();var a=$("#searchTerms").val(),b=$("#channel").val(),d=$("#testMode").val(),e=$("#pubId").val();$("div.gdGoogleAfs").each(function(){$(this).empty()});GD.ads.loadAllAfsAds(a,b,d,e)};GD.ads.addAfsSlot=function(a){GD.ads.afsAdIds.push(a)};GD.ads.hasAfsSlots=function(){return 0<GD.ads.afsAdIds.length};
GD.ads.loadAllAfsAds=function(a,b,d,e){if(3<GD.ads.afsAdIds.length)Logger.error("More than 3 AFS ads on a page is not currently supported.");else{var c=[],f=0;for(f;f<GD.ads.afsAdIds.length;f++){var g=GD.ads.afsAdIds[f],h=$("div#"+g),i={colorBackground:"#eeeeee",colorTitleLink:"#0066cc",colorDomainLink:"#007600",colorText:"#333333"};i.container=g;i.number=h.data("maxAds");if(g=h.data("colorBackground"))i.colorBackground=g;if(g=h.data("colorTitleLink"))i.colorTitleLink=g;if(g=h.data("colorDomainLink"))i.colorDomainLink=
g;if(g=h.data("colorText"))i.colorText=g;c.push(i)}GD.ads.loadAfs(a,d,e,b,c)}};GD.ads.loadAfs=function(a,b,d,e,c){0<c.length&&(a&&(a=GD.ads._processSearchTerms(a)),a={pubId:d,channel:e,query:a,adtest:b},1===c.length?new google.ads.search.Ads(a,c[0]):2===c.length?new google.ads.search.Ads(a,c[0],c[1]):3===c.length&&new google.ads.search.Ads(a,c[0],c[1],c[2]))};GD.ads._processSearchTerms=function(a){a=a.trim();a=a.replace(/"/g,'\\"');a=a.replace(/\s{2,}/g," ");a+=" "+GD.ads.CORE_SEARCH_TERMS;return a.trim()};
GD.ads.load=function(a,b,d){var e=GD.ads._getPageAdSlots();if(e&&e.length)try{for(var c="",f=0;f<e.length;f++){var g=$("div.adSlot-"+e[f]+"-holder");g.length&&($("div.adSlotData",g).remove(),$("div.loadingMsg",g).show(),c.length&&(c+=","),c+=e[f])}0<c.length&&GD.ads.loadAdSlot("/getAdSlotContentsAjax.htm",c,a,d,b,GD.ads._onAdSlotRequestSuccess)}catch(h){Logger.warn("Exception in GD.ads.load():"+h)}};
GD.ads.loadAdSlot=function(a,b,d,e,c,f){a+="?slots="+encodeURIComponent(b);d&&0<d.length&&(a+="&segments="+encodeURIComponent(d));e&&0<e.length&&(a+="&"+e);c&&0<c.length&&(a+="&prguid="+c);jQuery.ajax({url:a,dataType:"html",success:function(a){f(b,a)},error:function(){GD.ads._onAdSlotRequestFailure(b)},timeout:6E4})};
GD.ads.refreshFeaturedJobsList=function(){for(var a=$("#FeaturedJobsList"),b=a.data("slots"),d=b.split(","),e,c=0;c<d.length;++c)if(e=d[c],-1!==e.indexOf("-lf-right")){b=e;break}d=a.data("segments");e=a.data("hostSiteParam");a=a.data("prguid");GD.ads.loadAdSlot("/getAdSlotFeaturedJobsListAjax.htm",b,d,e,a,GD.ads._onRefreshJobsListSuccess)};
GD.ads._getPageAdSlots=function(a){var b=[],d=/^adSlot\-([\w\-]+)\-holder/;$("div.featuredJobsAdSlot",a).each(function(){for(var a=$(this).attr("class").split(" "),c=0;c<a.length;c++){var f=a[c];f&&(f=d.exec(f))&&1<f.length&&b.push(f[1])}});return b};GD.ads._onRefreshJobsListSuccess=function(a,b){$("#FeaturedJobsList").replaceWith(b)};
GD.ads._submitSearchForm=function(a){var b=!0;GD.ads._prepareSubmit(a);jQuery.isFunction(a[0].onsubmit)&&(b=a[0].onsubmit());var d=a.data("disambigOk");b&&a.submit();d&&GD.dom.clearPage();return!1};GD.ads._closeSearchForm=function(a){$(".moreFields",a).slideUp(200);return!1};GD.ads._prepareSubmit=function(a){GD.aug.uninstallPlaceholders($("input[placeholder]",a))};
GD.ads._onAdSlotRequestSuccess=function(a,b){if(a&&a.length){var d=a.split(","),e=$("<div>");e.html(b);for(var c=0;c<d.length;c++){var f=$("div.adSlot-"+d[c]+"-holder");if(0<f.length){var g=$("div.adSlotData-"+d[c],e),h=$("form.jobsSearch",g);g.outerHeight();h.length&&GD.ads._augmentSearchForm(h);0<g.length?(f.hide(),$("div.adSlotJobListings",f).remove(),f.append(g),h=$("ul.featuredJobsList",g),h.length&&"function"===typeof h.listview&&h.listview(),$("div.loadingMsg",f).hide(),f.slideDown(GD.ads.adSlotOpenTime),
GD.link.initTargetedLinks("_job",g,!0)):(f.css("display","none"),message="<p>Unable to find job opportunities at this time.</p>",f.html(message))}else Logger.error("Ad slot '"+d[c]+"' should be on the page somewhere.  It was not found.")}}};GD.ads._onAdSlotRequestFailure=function(a){if(a&&a.length)for(var a=a.split(","),b=0;b<=a.length;b++){var d=$("#"+a[b]+"-holder");0<d.length&&(d.css("display","none"),message="<p>Unable to find job opportunities at this time.</p>",d.html(message))}};
GD.ads._augmentSearchForm=function(a){GD.aug.augmentPlaceholders($("input[placeholder]",a));GD.srch.initLocDisambig($("input.jobsSearchLocation",a),$("input.jobsSearchLocationType",a),$("input.jobsSearchLocationId",a),null,a,56,0,280,!1,!1,function(){return GD.ads._submitSearchForm(a)});$("input.jobsSearchKeyword",a).focus(function(){GD.ads._revealSearchForm(a)});$("div.buttons .gd-btn-link",a).click(function(b){GD.ads._submitSearchForm(a);b.preventDefault()});$("div.buttons span.cancelLink",a).click(function(b){GD.ads._closeSearchForm(a);
b.preventDefault()});$("input.jobsSearchKeyword, input.jobsSearchLocation",a).keypress(function(b){return GD.ads._onKeyPress(b,a)})};GD.ads._revealSearchForm=function(a){$(".moreFields",a).slideDown(200)};GD.ads._onKeyPress=function(a,b){return 13==a.keyCode?(GD.wait().then(function(){GD.ads._submitSearchForm(b)}),!1):!0};GD.ads.setAdTargetingAttr=function(a,b){googletag.pubads().setTargeting(a,b)};GD.ads._htServices=["quantcast","bizo"];GD.ads._htData={};
GD.ads.getTargetingSegments=function(a,b){GD.ads._loadTargetingCache()||(GD.ads._pendingServicesCount=0,a||(GD.ads._pendingServicesCount+=1),b||(GD.ads._pendingServicesCount+=1),a||GD.ads._fetchBizoTargeting(),b||GD.ads._fetchQuantcastTargeting())};
GD.ads.writeTargetingSegments=function(a){if(GD.ads._htData&&(GD.ads._htData.quantcast&&GD.ads._htData.quantcast.length||GD.ads._htData.bizo&&GD.ads._htData.bizo.length)){for(var a=$(a),b=a.html().trim(),d=0;d<GD.ads._htServices.length;d++){var e=GD.ads._htServices[d],c=GD.ads._htData[e];if(jQuery.isArray(c)&&c.length){b&&(b+=", ");b+=e+"=[";for(e=0;e<c.length;e++)0<e&&(b+=",<wbr>"),b+=c[e];b+="]"}}a.html(b)}};
GD.ads._fetchBizoTargeting=function(){jQuery.ajax({url:GD.ads.BIZO_REQUEST_URL,dataType:"jsonp",success:function(a){GD.ads._onBizoComplete(a)},error:function(){GD.ads._onBizoComplete(null)}})};GD.ads._onBizoComplete=function(a){GD.ads._htData.bizo=[];if(a&&a.bizographics){var a=a.bizographics,b;for(b in a)if(a.hasOwnProperty(b)){var d=a[b];if(d)if(jQuery.isArray(d))for(var e=0;e<d.length;e++){var c=d[e];c.code&&GD.ads._htData.bizo.push(c.code)}else d.code&&GD.ads._htData.bizo.push(d.code)}}GD.ads._checkAllFetchesComplete()};
GD.ads._fetchQuantcastTargeting=function(){jQuery.ajax({url:"http://pixel.quantserve.com/api/segments.json",data:{a:"p-77hG-A4X4ka9Q"},dataType:"jsonp",success:function(a){GD.ads._onQuantcastComplete(a)},error:function(){GD.ads._onQuantcastComplete(null)}})};GD.ads._onQuantcastComplete=function(a){GD.ads._htData.quantcast=[];if(a&&a.segments&&(a=a.segments,jQuery.isArray(a)&&0<a.length))for(var b=0;b<a.length;b++)GD.ads._htData.quantcast.push(a[b].id);GD.ads._checkAllFetchesComplete()};
GD.ads._checkAllFetchesComplete=function(){GD.ads._pendingServicesCount-=1;0>=GD.ads._pendingServicesCount&&(GD.ads._setTargetingCache(),GD.ads._setTargetSegments())};GD.ads._loadTargetingCache=function(){var a=!1,b=jQuery.cookies.get(GD.ads.TARGETING_COOKIE_NAME);if(b&&(b.quantcast||b.bizo))GD.ads._htData=b,GD.ads._setTargetSegments(),a=!0;return a};GD.ads._setTargetingCache=function(){var a=new Date,a=new Date(a.getTime()+864E5);jQuery.cookies.set(GD.ads.TARGETING_COOKIE_NAME,GD.ads._htData,{expiresAt:a})};
GD.ads._setTargetSegments=function(){if(GD.ads._htData)for(var a=0;a<GD.ads._htServices.length;a++){var b=GD.ads._htServices[a];GD.ads.setAdTargetingAttr(b,GD.ads._htData[b])}};window.GD=window.GD||{};GD.ajax=GD.ajax||{};GD.ajax.jsonUrls={};GD.ajax.jsonUrls.CITY_AUTOCOMPLETE="/findCityAjax.htm";GD.ajax.jsonUrls.ANY_LOCATION_AUTOCOMPLETE="/findAnyLocationAjax.htm";GD.ajax.jsonUrls.GRAPH_AUTOCOMPLETE={employer:"/findGraphEmployerAjax.htm",school:"/findGraphSchoolAjax.htm"};
GD.ajax.submitForm=function(a,c,b,d){if("string"!==typeof a&&"object"!==typeof a)throw"form passed to 'GD.ajax.submitForm' must be a form ID string or form object!";a=$(a);if("string"!==typeof c)throw"formHandlerUrl passed to 'GD.ajax.submitForm' must be a string!";if("function"!==typeof d)throw"callbackFunc passed to 'GD.ajax.submitForm' must be a function!";a=a.serialize();jQuery.ajax({url:c,data:a,dataType:b,error:function(a,b){d(b,null)},success:function(a,b){d(b,a)}})};
GD.ajax.formatACItem=function(a,c,b){var a=a.val(),d=b.label?b.label:b;a&&(d=GD.ajax._findAndBoldQueryString(a,d));return $("<li></li>").data("item.autocomplete",b).append("<a>"+d+"</a>").appendTo(c)};
GD.ajax.createEmployerAutoComplete=function(a,c,b){var d=GD.util.getAjaxUrlRespectingSecurity("/findEmployerAjax.htm?ac=true"),e=$(a),f=$(c);(a=e.attr("id"))||(a="EmployerEditField");0==e.length?Logger.warn("GD.ajax.createEmployerAutoComplete called with invalid employer edit field: "+a):(c={minLength:2,delay:100,source:d,create:function(){var b=e.data("autocomplete");e.addClass("glassdoorAC");b.menu.element.addClass("employer-ac-results");b.menu.element.attr("id",a+"_ACPopup")},select:function(a,
c){if(c.item&&(e.val(c.item.label),f.val(c.item.id),jQuery.isFunction(b)))try{b(c.item.label,c.item.id)}catch(d){Logger.error("Error calling onSelect method for GD.ajax.createEmployerAutoComplete",d)}return!1},open:function(){e.addClass("ui-autocomplete-opened")},close:function(){e.removeClass("ui-autocomplete-opened")}},e.keydown(function(a){return GD.ajax._onACKeyPress(a,f)}),e.blur(function(){e.hasClass("ui-autocomplete-opened")||e.autocomplete("close").autocomplete("disable").autocomplete("enable")}),
e.autocomplete(c).data("autocomplete")._renderItem=function(a,b){return GD.ajax.formatACItem(e,a,b)})};
GD.ajax.createJobSourceAutoComplete=function(a,c,b){var d=$(a),e=$(c);(a=d.attr("id"))||(a="JobSourceEditField");0==d.length?Logger.warn("GD.ajax.createJobSourceAutoComplete called with invalid jobSource edit field: "+a):("function"!==typeof b&&(b=null),d.keydown(function(a){return GD.ajax._onACKeyPress(a,e)}),d.blur(function(){d.hasClass("ui-autocomplete-opened")||d.autocomplete("disable").autocomplete("close").autocomplete("enable")}),d.autocomplete({minLength:2,delay:100,source:"/findJobSourceAjax.htm?ac=true",
create:function(){var b=d.data("autocomplete");d.addClass("glassdoorAC");b.menu.element.addClass("jobSource-ac-results");b.menu.element.attr("id",a+"_ACPopup")},select:function(a,c){if(c.item&&(d.val(c.item.label).focus(),e.val(c.item.id),jQuery.isFunction(b)))try{b(c.item.label,c.item.id)}catch(h){Logger.error("Error calling onSelect method for GD.ajax.createJobSourceAutoComplete",h)}return!1},open:function(){d.addClass("ui-autocomplete-opened")},close:function(){d.removeClass("ui-autocomplete-opened")}}).data("autocomplete")._renderItem=
function(a,b){return GD.ajax.formatACItem(d,a,b)})};GD.ajax.createGraphEmployerAutoComplete=function(a,c,b){a=$(a);c=$(c);GD.ajax._createGraphAutoComplete("employer","GD.ajax.createGraphEmployerAutoComplete",a,c,b)};GD.ajax.createGraphSchoolAutoComplete=function(a,c,b){a=$(a);c=$(c);GD.ajax._createGraphAutoComplete("school","GD.ajax.createGraphSchoolAutoComplete",a,c,b)};
GD.ajax._createGraphAutoComplete=function(a,c,b,d,e){var f,g=a.toTitleCase(),h=GD.ajax.jsonUrls.GRAPH_AUTOCOMPLETE[a];0==b.length?Logger.warn(c+" called with invalid edit field: "+f):(f=b.attr("id"),f||(f="Graph"+g+"EditField-"+(new Date).getTime(),b.attr("id",f)),jQuery.isFunction(e)||(e=null),c={minLength:2,delay:100,source:h,create:function(){var c=b.data("autocomplete");b.addClass("glassdoorAC");c.menu.element.addClass(a+"-ac-results graph-"+a+"-ac-results graph-ac-results");c.menu.element.attr("id",
f+"_ACPopup");return true},select:function(a,c){if(c.item){b.val(c.item.name).focus();d.val(c.item.id);e&&e(c.item.name,c.item.id,c.item)}return false},open:function(){var a=b.data("autocomplete"),a=$(a.menu.element);b.addClass("ui-autocomplete-opened");GD.ajax._scrollToACMenu(a);return true},close:function(){b.removeClass("ui-autocomplete-opened");return true}},b.keydown(function(a){return GD.ajax._onACKeyPress(a,d)}),b.blur(function(){b.hasClass("ui-autocomplete-opened")||b.autocomplete("disable").autocomplete("close").autocomplete("enable")}),
b.autocomplete(c).data("autocomplete")._renderItem=function(a,c){return GD.ajax._formatGraphACItem(b,a,c)})};GD.ajax._scrollToACMenu=function(a){GD.wait(50).then(function(){var c=$(window),b=c.scrollTop(),c=c.height(),d=a.offset(),e=a.outerHeight();e+40<c&&(b=d.top+e-(b+c)+10,0<b&&$.scrollTo("+="+b+"px",{duration:400}))})};
GD.ajax._formatGraphACItem=function(a,c,b){var d=a.val(),a=b.name;d&&(a=GD.ajax._findAndBoldQueryString(d,a));d=$("<li></li>");d.data("item.autocomplete",b);var e=$("<div class='desc'></div>");e.append($("<p class='graphName'></p>").html(a));a=$("<a></a>");b.avatarSqThumbUrl?a.append("<img src='"+b.avatarSqThumbUrl+"' />"):a.append("<img src='/static/img/spacer.gif' class='noAvatar generic' />");a.append(e);a.append("<div class='clear'></div>");d.append(a);return d.appendTo(c)};
GD.ajax.createLocationAutoComplete=function(a,c,b,d,e){var f=GD.util.getAjaxUrlRespectingSecurity(GD.ajax.jsonUrls.CITY_AUTOCOMPLETE),g=$(a),h=$(c),i=$(b),j=$(e),l=h.attr("id");l||(l="CityEditField-"+(new Date).getTime());if(0==h.length)Logger.warn("GD.ajax.createLocationAutoComplete called with invalid city edit field: "+c);else if(0==i.length)Logger.warn("GD.ajax.createLocationAutoComplete called with invalid city ID field: "+b);else{queryUrl=f;if(g.length){a=$("option:selected",g).val();"string"===
typeof a&&(a=parseInt(a),isNaN(a)&&(a=0));if(!a||0>=a)a=1;queryUrl+="?countryId="+a}a={minLength:2,delay:100,source:queryUrl,create:function(){var a=h.data("autocomplete");h.addClass("glassdoorAC");a.menu.element.addClass("location-ac-results");a.menu.element.attr("id",l+"_ACPopup")},select:function(a,b){b.item&&(h.val(b.item.label).focus(),i.val(b.item.locationId));jQuery.isFunction(d)&&d(b.item.label,b.item.locationId);return!1},open:function(){h.addClass("ui-autocomplete-opened");return!0},close:function(){h.removeClass("ui-autocomplete-opened");
return!0}};g.length&&(g[0].updateCityField=function(a){var b=$("option:selected",g).val(),c=!0;if(!b||0>=b)c=!1;a&&(c?(a.autocomplete("enable"),j.show(),a.show()):(j.hide(),a.hide(),a.autocomplete("disable")))});g.change(function(){GD.ajax.createLocationAutoComplete.onCountryListChange(this.updateCityField,g,h,i,f);return true});g.keydown(function(a){GD.ajax.createLocationAutoComplete.onCountryListKeyDown(a,this.updateCityField,g,h,i,f);return true});h.keydown(function(a){return GD.ajax._onACKeyPress(a,
i)});h.blur(function(){h.hasClass("ui-autocomplete-opened")||h.autocomplete("disable").autocomplete("close").autocomplete("enable");h.val().length<1&&i.val("0")});h.autocomplete(a).data("autocomplete")._renderItem=function(a,b){return GD.ajax.formatACItem(h,a,b)}}};GD.ajax.createLocationAutoComplete.onCountryListKeyDown=function(a,c,b,d,e,f){a.keyCode!=GD.event.TAB&&GD.wait().then(function(){GD.ajax.createLocationAutoComplete.onCountryListChange(c,b,d,e,f)});return!0};
GD.ajax.createLocationAutoComplete.onCountryListChange=function(a,c,b,d,e){jQuery.isFunction(a)&&a(b);GD.aug.setPlaceholderVal(b,"");d.val("");a=$("option:selected",c).val();if(!a||0>=a)a=1;b.autocomplete("option","source",e+"?countryId="+a);return!0};
GD.ajax.createJobAutoComplete=function(a,c,b,d){var e=$(a),f=$(c);(a=e.attr("id"))||(a="JobTitleEditField");0==e.length?Logger.warn("GD.ajax.createEmployerAutoComplete called with invalid job title edit field: "+a):0==f.length?Logger.warn("GD.ajax.createEmployerAutoComplete called with invalid occupation ID field: "+c):e.autocomplete({minLength:1,delay:100,create:function(){var b=e.data("autocomplete");e.addClass("glassdoorAC");b.menu.element.addClass("job-title-ac-results");b.menu.element.attr("id",
a+"_ACPopup");return!0},source:function(a,c){GD.ajax.getMatchingItemsFromStaticList(a,c,b,10)},focus:function(a,b){e.val(b.item.label);return!1},select:function(a,b){b.item&&(e.val(b.item.label).focus(),f.val(b.item.value),jQuery.isFunction(d)&&d(b.item.label,b.item.value));return!1},open:function(){e.addClass("ui-autocomplete-opened")},close:function(){e.removeClass("ui-autocomplete-opened")}}).data("autocomplete")._renderItem=function(a,b){return GD.ajax.formatACItem(e,a,b)}};
GD.ajax.createEmployerAwardNameAutoComplete=function(a,c){var b=$(a),d;(a=b.attr("id"))||(a="AwardNameEditField");0==b.length?Logger.warn("GD.ajax.createEmployerAutoComplete called with invalid award name edit field: "+a):(d={minLength:2,delay:100,source:"/findEmployerAwardNameAjax.htm",create:function(){var c=b.data("autocomplete");b.addClass("glassdoorAC");c.menu.element.addClass("award-name-ac-results");c.menu.element.attr("id",a+"_ACPopup")},open:function(){b.addClass("ui-autocomplete-opened")},
close:function(){b.removeClass("ui-autocomplete-opened")}},jQuery.isFunction(c)&&(d.select=function(a,b){c(b.item.label)}),b.autocomplete(d).data("autocomplete")._renderItem=function(a,c){return GD.ajax.formatACItem(b,a,c)})};
GD.ajax.createEmployerAwardSourceAutoComplete=function(a,c){var b=$(a),d;(a=b.attr("id"))||(a="AwardSourceEditField");0==b.length?Logger.warn("GD.ajax.createEmployerAwardSourceAutoComplete called with invalid award source edit field: "+a):(d={minLength:2,delay:100,source:"/findEmployerAwardSourceAjax.htm",create:function(){var c=b.data("autocomplete");b.addClass("glassdoorAC");c.menu.element.addClass("award-source-ac-results");c.menu.element.attr("id",a+"_ACPopup")},open:function(){b.addClass("ui-autocomplete-opened")},
close:function(){b.removeClass("ui-autocomplete-opened")}},jQuery.isFunction(c)&&(d.select=function(a,b){c(b.item.label)}),b.autocomplete(d).data("autocomplete")._renderItem=function(a,c){return GD.ajax.formatACItem(b,a,c)})};
GD.ajax.createPartnerAutoComplete=function(a,c,b){var d=$(a),e=$(c);(a=d.attr("id"))||(a="PartnerEditField");0==d.length?Logger.warn("GD.ajax.createPartnerAutoComplete called with invalid partner edit field: "+a):0==e.length?Logger.warn("GD.ajax.createPartnerAutoComplete called with invalid partner ID field: "+c):("function"!==typeof b&&(b=null),d.keydown(function(a){return GD.ajax._onACKeyPress(a,e)}),d.autocomplete({minLength:2,delay:100,source:"findPartnerAjax.htm?ac=true",create:function(){var b=
d.data("autocomplete");d.addClass("glassdoorAC");b.menu.element.addClass("partner-ac-results");b.menu.element.attr("id",a+"_ACPopup")},select:function(a,c){c.item&&(d.val(c.item.label).focus(),e.val(c.item.id),jQuery.isFunction(b)&&b(c.item.label,c.item.id));return!1},open:function(){d.addClass("ui-autocomplete-opened")},close:function(){d.removeClass("ui-autocomplete-opened")}}).data("autocomplete")._renderItem=function(a,b){return GD.ajax.formatACItem(d,a,b)})};
GD.ajax.createImportConfigAutoComplete=function(a,c,b){var d=$(a),e=$(c);(a=d.attr("id"))||(a="ImportConfigEditField");0==d.length?Logger.warn("GD.ajax.createImportConfigAutoComplete called with invalid importConfig edit field: "+a):0==e.length?Logger.warn("GD.ajax.createImportConfigAutoComplete called with invalid importConfig ID field: "+c):("function"!==typeof b&&(b=null),d.keydown(function(a){return GD.ajax._onACKeyPress(a,e)}),d.autocomplete({minLength:2,delay:100,source:"findImportConfigAjax.htm?autocomplete=true&showDisabled=true",
create:function(){var b=d.data("autocomplete");d.addClass("glassdoorAC");b.menu.element.addClass("importConfig-ac-results");b.menu.element.attr("id",a+"_ACPopup")},select:function(a,c){c.item&&(d.val(c.item.label).focus(),e.val(c.item.id),jQuery.isFunction(b)&&b(c.item.label,c.item.id));return!1},open:function(){d.addClass("ui-autocomplete-opened")},close:function(){d.removeClass("ui-autocomplete-opened")}}).data("autocomplete")._renderItem=function(a,b){return GD.ajax.formatACItem(d,a,b)})};
GD.ajax.selectAutoComplete=function(a,c,b,d,e,f){var g=$(a),c=$("select",g),h=c.attr("id"),i=c.attr("name"),j;c.length&&(j=$("option",c));g.addClass("multipleAC cf");var l=[];j.each(function(){var a=$(this),a={id:a.val(),label:a.text(),selected:a.is(":selected")};l.push(a)});g.data("acItems",l);g.data("selectName",i);c.remove();var k=$("<input type='text' class='acEditField' />");h&&k.attr("id",h);g.empty();g.append(k);for(j=0;j<l.length;j++){var m=l[j];m.selected&&GD.ajax.selectAutoComplete._addSelectedItem(g,
k,m,e,f,b)}g.click(function(a){k.focus();a.stopPropagation()});k.keydown(function(a){GD.ajax.selectAutoComplete._onKeydown(a,g,k)});k.autocomplete({minLength:1,delay:100,create:function(){k.data("autocomplete").menu.element.addClass("multi-ac-results");return!0},source:d+"?autocomplete=true",focus:function(a,b){k.val(b.item.label);return!1},select:function(c,d){var h=!0;jQuery.isFunction(b)&&(h=b(a,k,m));d.item&&h&&GD.ajax.selectAutoComplete._selectItem(g,k,d.item,e,f,b);h&&k.val("");return!1}}).data("autocomplete")._renderItem=
function(a,b){return GD.ajax.formatACItem(k,a,b)}};GD.ajax.selectAutoComplete._onKeydown=function(a,c,b){c=!0;b=0<b.val().trim().length;if(a&&b)switch(13===a.which&&(c=!1),String.fromCharCode(a.which)){case "\t":c=!1;break;case "\n":case "\r":c=!1}c||(a.preventDefault(),a.stopPropagation())};GD.ajax.selectAutoComplete._selectItem=function(a,c,b,d,e,f){GD.ajax.selectAutoComplete._addSelectedItem(a,c,b,d,e,f);b.selected=!0};
GD.ajax.selectAutoComplete._addSelectedItem=function(a,c,b,d,e,f){var g="div ";e&&(g="span ");var e="<"+g+'class="selectedItem" title="%TITLE%"><span class="textPart"></span><img src=\'/static/img/spacer.gif\' class=\'closeBox\' /></'+g+">",h="<"+g+"class=\"selectedItem\" title=\"%TITLE%\"><a href='%URL%' target='_blank'><span class='textPart'></span></a><img src='/static/img/spacer.gif' class='closeBox' /></"+g+">",g=b.label,i=a.data("selectName");jQuery.isFunction(d)&&(d=d(a,b))&&(e=h.replace(/%URL%/,
d));d="ID "+b.id;d=d.replace('"',"");e=e.replace(/%TITLE%/,d);e=$(e);c.before(e);e.attr("value",b.id);$(".textPart",e).html(g);$("img",e).click(function(c){GD.ajax.selectAutoComplete._onCloseBoxClick(a,b,c,f);c.stopPropagation()});0==$('input[type="hidden"][value="'+b.id+'"]',a).length&&a.append('<input type="hidden" name="'+i+'" value="'+b.id+'" />')};GD.ajax.selectAutoComplete._onCloseBoxClick=function(a,c,b,d){GD.ajax.selectAutoComplete._deselectItem(a,c.id);jQuery.isFunction(d)&&d()};
GD.ajax.selectAutoComplete._deselectItem=function(a,c){var b=$('.selectedItem[value="'+c+'"]',a),d=a.data("acItems",d),e=!1;a.data("selectName");b.remove();$("input.acEditField",a).focus();for(b=0;b<d.length&&!e;b++){var f=d[b];f.id==c&&(f.selected=!1,e=!0)}d=$('input[type="hidden"][value="'+c+'"]',a);d.length&&d.remove()};
GD.ajax.getMatchingItemsFromStaticList=function(a,c,b,d){var e=[];if(a&&a.term)for(var a=a.term.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),a=RegExp(a,"i"),f=0;f<b.length&&e.length<d;f++)b[f].label&&a.test(b[f].label)?e.push(b[f]):a.test(b[f])&&e.push(b[f]);c(e)};GD.ajax._onACKeyPress=function(a,c,b){GD.event.isTextChangeKeystroke(a)&&(c&&c.length&&c.val(""),b&&b.length&&b.val(""));return!0};GD.ajax._boldString=function(a){return-1===a.indexOf("<")?"<b>"+a+"</b>":a};
GD.ajax._expandGeoAbbreviations=function(a){a=GD.ajax._abbreviationReplaceHelper(a,"ft","Fort");a=GD.ajax._abbreviationReplaceHelper(a,"mt","Mount");a=GD.ajax._abbreviationReplaceHelper(a,"pt","Point");a=GD.ajax._abbreviationReplaceHelper(a,"st","Saint");a=GD.ajax._abbreviationReplaceHelper(a,"intl","International");a=GD.ajax._abbreviationReplaceHelper(a,"n","North");a=GD.ajax._abbreviationReplaceHelper(a,"s","South");a=GD.ajax._abbreviationReplaceHelper(a,"e","East");a=GD.ajax._abbreviationReplaceHelper(a,
"w","West");a=GD.ajax._abbreviationReplaceHelper(a,"ne","Northeast");a=GD.ajax._abbreviationReplaceHelper(a,"nw","Northwest");a=GD.ajax._abbreviationReplaceHelper(a,"se","Southeast");return a=GD.ajax._abbreviationReplaceHelper(a,"sw","Southwest")};
GD.ajax._expandOccupationAbbreviations=function(a){a=GD.ajax._abbreviationReplaceHelper(a,"sr","Senior");a=GD.ajax._abbreviationReplaceHelper(a,"jr","Junior");a=GD.ajax._abbreviationReplaceHelper(a,"mgr","Manager");return a=GD.ajax._abbreviationReplaceHelper(a,"dir","Director")};GD.ajax._abbreviationReplaceHelper=function(a,c,b){a=GD.ajax._replaceStringSmartCase(a,c+"\\.",b);return a=GD.ajax._replaceStringSmartCase(a,c,b)};
GD.ajax._replaceStringSmartCase=function(a,c,b){if(a.length==c.length)return a;a=a.replace(RegExp("\\b"+c.toLowerCase()+"( |$|\\b)"),b+" ").trim();a=a.replace(RegExp("\\b"+c.toUpperCase()+"( |$|\\b)"),b+" ").trim();a=a.replace(RegExp("\\b"+c.capitalize()+"( |$|\\b)"),b+" ").trim();return a=a.replace(/ ,/,",")};
GD.ajax._cleanSearchString=function(a){a=GD.ajax._replaceStringSmartCase(a,"http","");a=GD.ajax._replaceStringSmartCase(a,"www\\.","");a=GD.ajax._replaceStringSmartCase(a,"intl","");a=GD.ajax._replaceStringSmartCase(a,"int'l","");a=GD.ajax._replaceStringSmartCase(a,"corp","");a=GD.ajax._replaceStringSmartCase(a,"corp.","");a=GD.ajax._replaceStringSmartCase(a,"corporation","");a=GD.ajax._replaceStringSmartCase(a,"inc","");a=GD.ajax._replaceStringSmartCase(a,"inc.","");a=GD.ajax._replaceStringSmartCase(a,
"incorporated","");a=GD.ajax._replaceStringSmartCase(a,"cos","");a=GD.ajax._replaceStringSmartCase(a,"cos.","");a=GD.ajax._replaceStringSmartCase(a,"svcs","");a=GD.ajax._replaceStringSmartCase(a,"mgmt","");a=GD.ajax._expandGeoAbbreviations(a);a=GD.ajax._expandOccupationAbbreviations(a);a=a.replace(/(\\b[A-Za-z][A-Za-z]{0,2})[ ]*&[ ]*([A-Za-z][A-Za-z]{0,2}\\b)/g,"$1$2");a=a.replace(/\&/g," ");a=a.replace(/[\&\'\!\|~\*]/g,"");a=a.replace(/\.[^c]/g,"");return a=a.replace(/[\?\^\-\:\;\(\)\+\/\\\[\]]/g,
" ")};GD.ajax._findAndBoldQueryString=function(a,c){for(var b=GD.ajax._cleanSearchString(a).trim().split(/\s+/),d="(<.+>)",e=!1,f=0;f<b.length;f+=1)0<b[f].length&&(e?e=!1:d+="|",d=d+"(\\b"+b[f]+")"),c=c.replace(RegExp(d,"ig"),GD.ajax._boldString);return c};GD.ajax.setDisambiguatedCity=function(a,c,b){var a=$(a),a=$("option:selected",a),c=$(c),b=$(b),d;d=a.length&&0>=a.val()?"":a.text();c.val(d);b.val(a.val())};
GD.ajax.updateWordCounter=function(a,c,b,d,e){if(c=id(c))a=id(a).value.countWords(),c.innerHTML=e&&0>=a?"&nbsp;":GD.formatNumber(a)+" words completed"};GD.ajax.updateCharCounter=function(a,c,b,d,e){id(c)&&(a=id(a).value.length,e&&0>=a?id(c).innerHTML="&nbsp;":id(c).innerHTML=a+" characters entered")};GD.ajax.keepAliveIntervalId=null;GD.ajax.keepAliveHoursSoFar=0;GD.ajax.keepAliveHoursMax=0;
GD.ajax.keepSessionAlive=function(a){a=parseInt(a);isNaN(a)?a=24:0>a&&(a=8765);if(GD.ajax.keepAliveIntervalId)try{window.clearInterval(GD.ajax.keepAliveIntervalId)}catch(c){}GD.ajax.keepAliveHoursSoFar=0;GD.ajax.keepAliveHoursMax=0;0<a&&(GD.ajax.keepAliveHoursMax=a,GD.ajax.keepAliveIntervalId=window.setInterval(GD.ajax._keepSessionAliveWorker,18E5))};
GD.ajax._keepSessionAliveWorker=function(){GD.ajax.keepAliveHoursSoFar+=1;if(GD.ajax.keepAliveHoursSoFar>=GD.ajax.keepAliveHoursMax)try{window.clearInterval(GD.ajax.keepAliveIntervalId)}catch(a){}else jQuery.ajax({url:"/extendSessionAjax.htm",dataType:"json"})};
GD.ajax.initEditInPlace=function(a,c,b,d,e){if("string"!==typeof a||0===a.length)throw"idPrefix must be specified as a non-empty string to GD.ajax.initEditInPlace";"boolean"!==typeof c&&(c=!1);"boolean"!==typeof b&&(b=!1);"function"!==typeof d&&(d=null);"function"!==typeof e&&(e=null);var f=$("#"+a+"View"),g=$("#"+a+"Wrapper"),h=$("#"+a+"ViewControls"),i=$("#"+a+"EditControls"),j=$("#"+a+"Edit");f[0].editor=j;g.length&&(f[0].wrapper=g);h.length&&(f[0].viewControls=h);d&&(f[0].onEditEnter=d);e&&(f[0].onEditCancel=
e);i.length&&(f[0].editControls=i,i.attr("prevDisplay",i.css("display")),i.css("display","none"));d=function(){GD.ajax.showEditInPlace(a);return false};c?f.dblclick(d):b&&f.click(d);j.keydown(function(a){if(a.keyCode===GD.event.TAB){a=true;f[0].onEditEnter&&(a=f[0].onEditEnter());a&&GD.ajax.finishEditInPlace(this)}});j.keyup(function(b){if(b.keyCode===GD.event.ESCAPE){b=true;f[0].onEditCancel&&(b=f[0].onEditCancel());b&&GD.ajax.finishEditInPlace(a,true);return false}return b.keyCode===GD.event.TAB?
false:true})};
GD.ajax.showEditInPlace=function(a){var c=$("#"+a+"View"),a=c[0].editor,b=c[0].wrapper,d=c[0].viewControls,e=c[0].editControls;if(!a)return!0;a[0].currentView&&GD.ajax.finishEditInPlace(a);a[0].currentView=c;a.keypress(function(a){return 13===a.keyCode?(a=!0,c[0].onEditEnter&&(a=c[0].onEditEnter()),a&&GD.ajax.finishEditInPlace(this,!1),!1):!0});"TEXTAREA"===a[0].nodeName&&(a.css("width",c.offsetWidth),a.css("height",c.offsetHeight));a.val(c.html());a.css("visibility","visible");a.css("display","inline");
b.length&&b.css("visibility","hidden");c.hide();d.length&&(d.attr("prevDisplay",d.css("display")),d.css("display","none"));e.length&&("none"!=e.attr("prevDisplay")?e.css("display",e.attr("prevDisplay")):e.css("display","block"),e.removeAttr("prevDisplay"));a.focus();return!1};
GD.ajax.finishEditInPlace=function(a,c){"boolean"!==typeof c&&(c=!1);"string"===typeof a&&(a="#"+a+"Edit");var a=$(a),b=a[0].currentView;if(b&&b.length){var d=b[0].wrapper,e=b[0].viewControls,f=b[0].editControls;c||b.html(a.val());a.css("visibility","hidden");a.css("display","none");d.length&&d.css("visibility","visible");f.length&&(f.attr("prevDisplay",f.css("display")),f.css("display","none"));e.length&&("none"!=e.attr("prevDisplay")?e.css("display",e.prevDisplay):e.css("display","block"),e.removeAttr("prevDisplay"));
b.show()}a.removeAttr("currentView")};GD.ajax.isEditInPlace=function(a){var c=!1,a=$("#"+a+"View"),b=a[0].editor;b&&b.length&&(b=b[0].currentView)&&b.length&&(c=a[0]===b[0]);return c};window.GD=window.GD||{};GD.aug=GD.aug||{};GD.aug.augmentEmbedLinks=function(a){a=$(a);0==a.length&&(a=document);$(".embedWidgetLink",a).click(function(){GD.analytics.trackPartnerShare("embed");GD.shareContent.sharedContentPopup(0,$(this).attr("builderUrl"));return!1}).removeClass("embedWidgetLink")};
GD.aug.augmentButtons=function(){try{$("button.gd-button").each(function(){var a=$(this),c=a.attr("name");c&&a.attr("gdName",c).removeAttr("name")}),$("button.gd-button:not(.ui-state-disabled)").hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}).mousedown(function(){var a=$(this);a.parents(".gd-buttonset-single:first").find(".gd-button.ui-state-active").removeClass("ui-state-active");a.is(".ui-state-active.gd-button-toggleable, .gd-buttonset-multi .ui-state-active")?
a.removeClass("ui-state-active"):a.addClass("ui-state-active")}).mouseup(function(){$(this).is(".gd-button-toggleable, .gd-buttonset-single .gd-button,  .gd-buttonset-multi .gd-button")||$(this).removeClass("ui-state-active")}).keydown(function(a){if(13==a.keyCode||32==a.keyCode)a=$(this),a.parents(".gd-buttonset-single:first").find(".gd-button.ui-state-active").removeClass("ui-state-active"),a.is(".ui-state-active.gd-button-toggleable, .gd-buttonset-multi .ui-state-active")?a.removeClass("ui-state-active"):
a.addClass("ui-state-active");return!0})}catch(a){Logger.fatal("GD.aug.augmentButtons",a)}};GD.aug.addHiddenButtonFieldsToForm=function(a){a=a?$(a):$("form");a.each(function(){var b=$(this);b.find("button.ui-state-active").each(function(){var c=$(this),e=c.attr("gdName"),c=c.attr("value"),d=b.find("input[type='hidden'][name='"+e+"']");e&&c?("NA"===c&&(c=0),d.length?d.val(c):(d=$("<input type='hidden'>"),d.attr("name",e).attr("value",c),a.append(d))):d&&d.remove()})})};GD.aug.MIN_AD_SLOT_HEIGHT=10;
GD.aug.hideUnusedAdSlots=function(){try{$(".adSlotContainer").each(function(){var a=$(this);a.height()<GD.aug.MIN_AD_SLOT_HEIGHT&&a.css("display","none")})}catch(a){Logger.fatal("GD.aug.collapseAdSlots",a)}};GD.aug.CONTEXT_HELP_OK="contextHelpOK";
GD.aug.augmentContextHelpNodes=function(a){$nodes=a?$(a).not("."+GD.aug.CONTEXT_HELP_OK):$(".contextHelpLink").not("."+GD.aug.CONTEXT_HELP_OK);$nodes.each(function(){$(this).find("span[href]").each(function(){var a=$(this),c=a.attr("constrainTo"),e=a.attr("href").split("#")[1];if(e){var d=a.attr("helpWidth")||400,d=d-0;a.removeAttr("href").addClass("link");a.click(function(a){a=$(a.target);a.is(".contextHelpLink")||(a=a.closest(".contextHelpLink"));a.length&&GD.aug._contextHelpToggle(a,$("#"+e),d,
c)})}})});$nodes.addClass(GD.aug.CONTEXT_HELP_OK)};GD.aug._contextHelpToggle=function(a,b,c,e){try{!0==GD.dialog.contextHelpShown?GD.dialog.contextHelpShown=!1:GD.dialogManager.showHelp(a,b,c,e)}catch(d){Logger.fatal("GD.aug.contextHelpToggle",d)}};GD.aug.PLACEHOLDER_OK="placeholderOK";GD.aug.ATTR_PLACEHOLDER="placeholder";GD.aug.CLASS_PLACEHOLDER_ACTIVE="placeholder";GD.aug.CLASS_PLACEHOLDER_INACTIVE="nonPlaceholder";GD.aug.PLACEHOLDER_SELECTOR="input[placeholder], textarea[placeholder]";
GD.aug.augmentPlaceholders=function(a){try{a=a?a.not("."+GD.aug.PLACEHOLDER_OK):$(GD.aug.PLACEHOLDER_SELECTOR).not("."+GD.aug.PLACEHOLDER_OK),a.each(function(){var a=$(this),b=a.attr(GD.aug.ATTR_PLACEHOLDER);"string"===typeof b&&0<b.length&&GD.aug.augmentPlaceholderField(a,b)})}catch(b){Logger.fatal("GD.aug.augmentPlaceholders",b)}};
GD.aug.getPlaceholderVal=function(a){var a=$(a),b;a.length&&(!Modernizr.input.placeholder&&a.hasClass(GD.aug.PLACEHOLDER_OK)?(b=a.attr(GD.aug.ATTR_PLACEHOLDER),a=a.val(),b=b&&a==b?"":a):b=a.val());return b};
GD.aug.setPlaceholderVal=function(a,b){var c=$(a);if(c.length)if(!Modernizr.input.placeholder&&c.hasClass(GD.aug.PLACEHOLDER_OK)){var e=c.attr(GD.aug.ATTR_PLACEHOLDER);b?(c.val(b),c.removeClass(GD.aug.CLASS_PLACEHOLDER_ACTIVE),c.addClass(GD.aug.CLASS_PLACEHOLDER_INACTIVE)):(c.val(e),c.removeClass(GD.aug.CLASS_PLACEHOLDER_INACTIVE),c.addClass(GD.aug.CLASS_PLACEHOLDER_ACTIVE))}else c.val(b);return b};
GD.aug.changePlaceholderText=function(a,b){if(b){var c=$(a);c.length&&c.hasClass(GD.aug.PLACEHOLDER_OK)&&(c.attr(GD.aug.ATTR_PLACEHOLDER,b),Modernizr.input.placeholder||c.hasClass(GD.aug.CLASS_PLACEHOLDER_ACTIVE)&&c.val(b))}};GD.aug.uninstallPlaceholders=function(a){try{"undefined"==typeof a&&(a=$(GD.aug.PLACEHOLDER_SELECTOR)),a.each(function(){var a=$(this);GD.aug.uninstallPlaceholderField(a)})}catch(b){Logger.fatal("GD.aug.uninstallPlaceholders",b)}};
GD.aug.augmentPlaceholderField=function(a,b){try{if(a=$(a),a.length&&!a.hasClass(GD.aug.PLACEHOLDER_OK)&&("string"===jQuery.type(b)?a.attr(GD.aug.ATTR_PLACEHOLDER,b):b=a.attr(GD.aug.ATTR_PLACEHOLDER),a.val()===b?(a.removeClass(GD.aug.CLASS_PLACEHOLDER_INACTIVE),a.addClass(GD.aug.CLASS_PLACEHOLDER_ACTIVE)):(a.removeClass(GD.aug.CLASS_PLACEHOLDER_ACTIVE),a.addClass(GD.aug.CLASS_PLACEHOLDER_INACTIVE)),a.addClass(GD.aug.PLACEHOLDER_OK),a.focus(GD.aug.onPlaceholderFocus),a.blur(GD.aug.onPlaceholderBlur),
a.blur()),b){var c=a.parents("form:first");GD.aug.augmentPlaceholderForm(c)}}catch(e){Logger.fatal("GD.aug.augmentPlaceholderField",e)}};GD.aug.augmentPlaceholderForm=function(a){a&&a.each(function(){var a=$(this);a.attr("isPlaceholderEnabled")||(a.bind("submit",function(a){a=$(GD.aug.PLACEHOLDER_SELECTOR,a.target);GD.aug.uninstallPlaceholders(a)}),a.attr("isPlaceholderEnabled","true"))})};
GD.aug.uninstallPlaceholderField=function(a){try{if(a.hasClass(GD.aug.PLACEHOLDER_OK)){var b=a.attr(GD.aug.ATTR_PLACEHOLDER);b&&(a.unbind("focus",GD.aug.onPlaceholderFocus),a.unbind("blur",GD.aug.onPlaceholderBlur),Modernizr.input.placeholder||(a.hasClass(GD.aug.CLASS_PLACEHOLDER_ACTIVE)?(a.val()===b&&a.val(""),a.removeClass(GD.aug.CLASS_PLACEHOLDER_ACTIVE)):a.hasClass(GD.aug.CLASS_PLACEHOLDER_INACTIVE)&&a.removeClass(GD.aug.CLASS_PLACEHOLDER_INACTIVE)));a.removeClass(GD.aug.PLACEHOLDER_OK)}}catch(c){Logger.fatal("GD.aug.uninstallPlaceholderField",
c)}};GD.aug.onPlaceholderFocus=function(a){a=a instanceof jQuery?a:"string"===typeof a?$(a):$(a.target);if(a.hasClass(GD.aug.PLACEHOLDER_OK)){if(!Modernizr.input.placeholder){var b=a.attr(GD.aug.ATTR_PLACEHOLDER);a.val()===b&&a.val("")}a.removeClass(GD.aug.CLASS_PLACEHOLDER_ACTIVE);a.addClass(GD.aug.CLASS_PLACEHOLDER_INACTIVE)}return!0};
GD.aug.onPlaceholderBlur=function(a){$field=a instanceof jQuery?a:"string"===typeof a?$(a):$(a.target);if($field.hasClass(GD.aug.PLACEHOLDER_OK)){var a=$field.attr(GD.aug.ATTR_PLACEHOLDER),b=$field.val();""===b||b===a?(Modernizr.input.placeholder||$field.val(a),$field.removeClass(GD.aug.CLASS_PLACEHOLDER_INACTIVE),$field.addClass(GD.aug.CLASS_PLACEHOLDER_ACTIVE)):""!==b&&b!==a&&($field.removeClass(GD.aug.CLASS_PLACEHOLDER_ACTIVE),$field.addClass(GD.aug.CLASS_PLACEHOLDER_INACTIVE))}return!0};
GD.aug.START_DEFAULT_TIME="00:00";GD.aug.END_DEFAULT_TIME="23:59";
GD.aug.augmentDateRange=function(a,b,c,e,d,f){var g=$(a),h=$(b),i=$(c),j=$(e),k=$(d),l=$(f),a={changeMonth:!0,changeYear:!0,contrainInput:!0,showAnim:"fadeIn",yearRange:"c-1:c+2",onSelect:function(a){GD.aug.onSelectDateRange(this,a,g,h)},onClose:function(a,b){if(b.input[0]==g[0])GD.aug.onCloseDateRange(g,i,k,GD.aug.START_DEFAULT_TIME);else GD.aug.onCloseDateRange(h,j,l,GD.aug.END_DEFAULT_TIME)}};i.change(function(){GD.aug.mergeDateData(g,i,k,GD.aug.START_DEFAULT_TIME)}).keydown(function(){GD.aug.mergeDateData(g,
i,k,GD.aug.START_DEFAULT_TIME)});j.change(function(){GD.aug.mergeDateData(h,j,l,GD.aug.END_DEFAULT_TIME)}).keydown(function(){GD.aug.mergeDateData(h,j,l,GD.aug.END_DEFAULT_TIME)});g.datepicker(a);h.datepicker(a)};GD.aug.onSelectDateRange=function(a,b,c,e){var d=a==c[0],a=$(a).data("datepicker"),b=$.datepicker.parseDate(a.settings.dateFormat||$.datepicker._defaults.dateFormat,b,a.settings);d?e.datepicker("option","minDate",b).trigger("change"):c.datepicker("option","maxDate",b).trigger("change")};
GD.aug.onCloseDateRange=function(a,b,c,e){GD.aug.onPlaceholderBlur(a);GD.aug.mergeDateData(a,b,c,e);a.focus()};GD.aug.mergeDateData=function(a,b,c,e){if(a.length&&c.length){var a=GD.aug.getPlaceholderVal(a).trim(),d,f="";d=b.length?GD.aug.getPlaceholderVal(b).trim():e;a?(f=a,d||(d=e,GD.aug.setPlaceholderVal(b,d)),f+=" "+d):f="";c.val(f)}};GD.aug.tagsMaxTagLength=50;GD.aug.maxInitialSuggestions=8;GD.aug.maxSuggestions=50;GD.aug.tagsEditAreaPostfix="_Edit";GD.aug.tagsEditFieldPostfix="_EditField";
GD.aug.tagsFieldValuePostfix="_Value";GD.aug.tagsHelpAreaPostfix="_Help";GD.aug.tagsSeeMoreLinkPostfix="_SeeMoreLink";GD.aug.tagsSeeMoreTagsPostfix="_SeeMoreTags";GD.aug.classNameTagEditor="tagEditor";GD.aug.classNameTagEditorEditArea="editArea";GD.aug.classNameTagEditorEditField="editField";GD.aug.classNameTagEditorHelpArea="helpArea";GD.aug.classNameTagEditorEnteredTag="enteredTag";GD.aug.classNameTagEditorEnteredTagHilited="enteredTagHilited";GD.aug.classNameTagEditorEnteredTagText="enteredTagText";
GD.aug.classNameTagEditorEnteredTagClose="closeBox";GD.aug.classNameTagEditorAutoComplete="tagEditorAC";GD.aug.augmentTagFields=function(){for(var a=$("input.tagEditor"),b=0;b<a.length;b++)GD.aug.augmentTagField(a.get(b))};
GD.aug.augmentTagField=function(a){var a=$(a),b=a.attr("id"),c=a.attr("name").trim(),e=a.val().trim(),d=a.attr("onchange"),f=a.attr("suggestions"),g=a.attr("existingTagsId"),h=a.attr("existingTagsList"),i;if(g&&(g=g.trim(),0<g.length&&(g=id(g))))i=g.innerHTML;h&&(h=h.trim(),0<h.length&&(i+=","+h.trim()));"string"===typeof f&&(f=f.trim());a.attr("id",b+"_OldNode");"string"===typeof d?d=new Function(d):"function"!==typeof d&&(d=null,Logger.warn("GD.aug.augmentTagField: onchange must be function or string."));
c=GD.aug._createTagEditorNode(b,c,e,f,i,d);c.length&&(a.replaceWith(c),GD.aug._tagAutoComplete(b,i))};GD.aug.createTagField=function(a,b,c,e,d,f){var g=id(a);g?"input"!=g.nodeName.toLowerCase()?alert("tag field should be applied to an 'input' element.  You tried to apply it to a '"+g.nodeName.toLowerCase()+"' element."):((a=GD.aug._createTagEditorNode(b,c,e,d,f))&&g.appendChild(a),GD.aug._tagAddAutoComplete(b,f)):alert("GD.aug.addTagField called without valid container: '"+a+"'")};
GD.aug.addTags=function(a,b){var c=$("#"+a+GD.aug.tagsEditAreaPostfix),e=$("#"+a+GD.aug.tagsFieldValuePostfix);GD.aug._addTags(a,c,e,b)};
GD.aug.removeTags=function(a,b){if(!("string"!==typeof a||"string"!==typeof b)){var c=id(a+GD.aug.tagsEditAreaPostfix),b=b.trim();if(!(0>=b.length)){for(var e=$(c).find("span."+GD.aug.classNameTagEditorEnteredTagText),d=b.split(","),f=0;f<d.length;f++)for(var g=d[f],g=g.trim(),h=0;h<e.length;h++){var i=e.get(h);i.firstChild&&i.firstChild.nodeValue===g&&c.removeChild(i.parentNode)}GD.aug._removeTagValues(a,c,b)}}};
GD.aug.clearTags=function(a){var b=id(a+GD.aug.tagsFieldValuePostfix).value;GD.aug.removeTags(a,b)};
GD.aug._createTagEditorNode=function(a,b,c,e,d,f){if("string"!==typeof a)alert("GD.aug.addTagField called without valid tagEditorId.");else if(a=a.trim(),0>=a.length)alert("GD.aug.addTagField called with an empty tagEditorId.");else if("string"!==typeof b)alert("tag field name is required.");else return b=b.trim(),"string"!==typeof c&&(c=""),c=c.trim(),"string"!==typeof e&&(e=""),e=e.trim(),d=$("<div>"),d.attr("id",a),d.addClass(GD.aug.classNameTagEditor),d.click(function(b){GD.aug._onTagEditorClick(b,
a)}),GD.aug._addTagEditAreaNode(a,d,b,c,f),GD.aug._addTagHelpNode(a,d,e),d};GD.aug._addTags=function(a,b,c,e){if("string"===typeof e){var d=c.val(),f;d&&(d=d.trim(),0<d.length&&(f=d.split(",")));f||(f=[]);e=e.split(",");for(d=0;d<e.length;d+=1){var g=e[d].trim();0<g.length&&!f.contains(g)&&(f.push(g),g=GD.aug._createEnteredTagNode(a,g),b.children(":last").before(g))}f.sort();c.val(f.join());b&&GD.aug._callOnChangeHandler(b.onchange)}};
GD.aug._removeTagValues=function(a,b,c){if(id(a)&&c&&("string"===typeof c&&(c=c.trim(),c=0<c.length?c.split(","):[]),c.length&&!(0>=c.length))){if(a=id(a+GD.aug.tagsFieldValuePostfix)){for(var e=a.value.trim(),d=[],e=0<e.length?e.split(","):[],f=0;f<e.length;f++){for(var g=e[f],h=!0,i=0;i<c.length&&h;i+=1)c[i].toLowerCase()===g&&(h=!1);h&&d.push(g)}a.value=0<d.length?d.join():""}b&&GD.aug._callOnChangeHandler(b.onchange)}};
GD.aug._addTagEditAreaNode=function(a,b,c,e,d){try{var f=$("<div>");f.attr("id",a+GD.aug.tagsEditAreaPostfix);f.addClass(GD.aug.classNameTagEditorEditArea);f.addClass("cf");b.append(f);var g=$("<input>");g.attr("id",a+GD.aug.tagsEditFieldPostfix);g.addClass(GD.aug.classNameTagEditorEditField);g.attr("name","temp_edit_"+c);g.attr("type","text");g.attr("maxLength",GD.aug.tagsMaxTagLength);g.keypress(function(b){return GD.aug._onTagEditorKeyPress(b,a)}).keydown(function(b){return GD.aug._onTagEditorKeyPress(b,
a)});g.blur(function(){return GD.aug._onTagEditorBlur(a)});f.append(g);g.attr("addTagOnReturn",!0);g.attr("addTagOnFocusLoss",!0);var h=$("<input>");h.attr("id",a+GD.aug.tagsFieldValuePostfix);h.attr("name",c);h.attr("type","hidden");b.append(h);GD.aug._addTags(a,f,h,e);f.change(d)}catch(i){Logger.fatal("GD.aug._addTagEditAreaNode",i)}};
GD.aug._addTagHelpNode=function(a,b,c){try{var e=$("<div>");e.attr("id",a+GD.aug.tagsHelpAreaPostfix);e.addClass(GD.aug.classNameTagEditorHelpArea);e.addClass("minorText");c?"string"===typeof c&&(c=c.trim(),c=c.split(",")):c=[];var d="";if(0<c.length){for(var f=c.length>GD.aug.maxInitialSuggestions+1,g=Math.min(c.length,GD.aug.maxSuggestions),d=d+"<span class='suggestedTags keepTogether'>Suggested Tags: ",h=0;h<g;h++){var i=c[h];if(f&&h==GD.aug.maxInitialSuggestions){var j;j="onclick=\"GD.aug._seeMore('"+
a+"')\"";d+="<span id='"+(a+GD.aug.tagsSeeMoreLinkPostfix)+"'>&nbsp;";d+="&nbsp; <a "+j+" class='link'><strong class='keepTogether'>See more</strong></a></span>";d+="<span class='hidden' id='"+(a+GD.aug.tagsSeeMoreTagsPostfix)+"'>"}0<h&&(d+=", ");var k=i.replace("'","&#39;"),l='GD.aug.addTags("'+a+'", "'+k+'");',d=d+"<span class='keepTogether'>",d=d+("<a onclick='"+l+"'>"),d=d+i,d=d+"</a>",d=d+"</span>"}f&&(d=d+(" &nbsp; <a "+("onclick=\"GD.aug._seeLess('"+a+"')\"")+" class='link'><strong class='keepTogether'>See less</strong></a>")+
"</span>");d+="</span>"}e.html(d);b.append(e)}catch(m){Logger.fatal("GD.aug._addTagHelpNode",m)}};
GD.aug._createEnteredTagNode=function(a,b){try{var c=document.createElement("div");c.className=GD.aug.classNameTagEditorEnteredTag;var e=document.createElement("span");e.innerHTML=b;e.className=GD.aug.classNameTagEditorEnteredTagText;var d=document.createElement("div");d.className=GD.aug.classNameTagEditorEnteredTagClose;d.onmouseover=GD.aug._onCloseBoxMouseOver;d.onmouseout=GD.aug._onCloseBoxMouseOut;d.onclick=function(c){GD.aug._onCloseBoxClick(c,a,b)};c.appendChild(e);c.appendChild(d);return c}catch(f){Logger.fatal("GD.aug._createEnteredTagNode",
f)}};GD.aug._onCloseBoxMouseOver=function(a){try{if(a=GD.event.fixEvent(a),a.target){var b=a.target.parentNode;b.className==GD.aug.classNameTagEditorEnteredTag&&(b.className=GD.aug.classNameTagEditorEnteredTagHilited)}}catch(c){Logger.fatal("GD.aug._onCloseBoxMouseOver",c)}};
GD.aug._onCloseBoxMouseOut=function(a){try{if(a=GD.event.fixEvent(a),a.target){var b=a.target.parentNode;b.className==GD.aug.classNameTagEditorEnteredTagHilited&&(b.className=GD.aug.classNameTagEditorEnteredTag)}}catch(c){Logger.fatal("GD.aug._onCloseBoxMouseOut",c)}};GD.aug._onCloseBoxClick=function(a,b,c){try{GD.aug._onCloseBoxMouseOut(a),GD.aug.removeTags(b,c),$("#"+b+GD.aug.tagsEditFieldPostfix).focus()}catch(e){Logger.fatal("GD.aug._onCloseBoxClick",e)}};
GD.aug._onTagEditorClick=function(a,b){try{$("#"+b+GD.aug.tagsEditFieldPostfix).focus()}catch(c){Logger.fatal("GD.aug._onTagEditorClick",c)}};GD.aug._onTagEditorBlur=function(a){try{var b=$("#"+a+GD.aug.tagsEditFieldPostfix);if(b.attr("addTagOnFocusLoss")){var c=b.val().trim().toLowerCase();0<c.length&&(GD.aug.addTags(a,c),b.val(""))}}catch(e){Logger.fatal("GD.aug._onTagEditorBlur",e)}};
GD.aug._onTagEditorKeyPress=function(a,b){var c=!0,e=$("#"+b+GD.aug.tagsEditFieldPostfix);if(a&&e.length){var d=!1,f=e.val().trim().toLowerCase(),g=0<f.length;13===a.which&&g&&(d=e.attr("addTagOnReturn"),c=!1);if(a.ctrlKey||a.altKey)return!0;switch(String.fromCharCode(a.which)){case ",":c=!1;g&&(d=!0);break;case '"':c=!1;break;case " ":c=0>=e.val().trim().length?!1:!0;break;case "\t":g&&(d="true"==e.attr("addTagOnReturn"),c=!1);break;case "\n":case "\r":g&&(d="true"==e.attr("addTagOnReturn"),c=!1)}d&&
(GD.aug.addTags(b,f),e.val("").focus())}return c};
GD.aug._tagAutoComplete=function(a,b){var c=$("#"+a);$("#"+a+GD.aug.tagsEditAreaPostfix);b&&(b=b.trim(),0>=b.length&&(b=null));if(c&&b){var e,d=$("#"+a+GD.aug.tagsEditFieldPostfix);e=b.split(",");for(c=0;c<e.length;c++)e[c]=e[c].trim();d.autocomplete({minLength:1,delay:100,source:function(a,b){GD.ajax.getMatchingItemsFromStaticList(a,b,e,10)},open:function(){GD.aug._tagAutoComplete.onResultsShow(d)},select:function(b,c){GD.aug._tagAutoComplete.onItemSelect(a,d,c.item);b.preventDefault()},close:function(){GD.aug._tagAutoComplete.onResultsClose(d)}}).data("autocomplete")._renderItem=
function(a,b){return GD.ajax.formatACItem(d,a,b)}}};GD.aug._tagAutoComplete.onItemSelect=function(a,b,c){GD.wait().then(function(){b.length&&c.label&&(GD.aug.addTags(a,c.label),b.val("").focus())});return!0};GD.aug._tagAutoComplete.onResultsShow=function(a){a.length&&(a.removeAttr("addTagOnReturn"),a.removeAttr("addTagOnFocusLoss"));return!0};GD.aug._tagAutoComplete.onResultsClose=function(a){a.length&&(a.focus(),a.attr("addTagOnReturn",!0),a.attr("addTagOnFocusLoss",!0));return!0};
GD.aug._seeMore=function(a){try{var b=id(a+GD.aug.tagsSeeMoreLinkPostfix),c=id(a+GD.aug.tagsSeeMoreTagsPostfix);b.style.display="none";c.style.display="inline"}catch(e){Logger.fatal("GD.aug._seeMore",e)}};GD.aug._seeLess=function(a){try{var b=id(a+GD.aug.tagsSeeMoreLinkPostfix),c=id(a+GD.aug.tagsSeeMoreTagsPostfix);b.style.display="inline";c.style.display="none"}catch(e){Logger.fatal("GD.aug._seeLess",e)}};
GD.aug._callOnChangeHandler=function(a){try{"string"===typeof a?eval(a):"function"===typeof a&&a()}catch(b){Logger.fatal("GD.aug._callOnChangeHandler",b)}};
GD.aug.konamiCode={konamiKeys:[],konami:"38,38,40,40,37,39,37,39,66,65",konamiKeyCount:10,addListener:function(a){"function"==typeof a&&window.addEventListener&&window.addEventListener("keydown",function(b){GD.aug.konamiCode.konamiKeys.push(b.keyCode);GD.aug.konamiCode.konamiKeys.length>GD.aug.konamiCode.konamiKeyCount&&GD.aug.konamiCode.konamiKeys.shift();0<=GD.aug.konamiCode.konamiKeys.toString().indexOf(GD.aug.konamiCode.konami)&&a();clearTimeout(GD.aug.konamiCode.clear);GD.aug.konamiCode.clear=
GD.wait(2E3).then("GD.aug.konamiCode.clearInput()")},!0)},clear:function(){GD.wait().then(function(){GD.aug.konamiCode.clearInput()})},clearInput:function(){GD.aug.konamiCode.konamiKeys=[];clearTimeout(GD.aug.konamiCode.clear)}};
GD.aug.egg={REVERT_MILLIS:2E4,team:[{name:"Tim Anderson",title:"Product Manager",photoURL:"/crs/team/tim-anderson.jpg"},{name:"Ryan Aylward",title:"VP Engineering",photoURL:"/crs/team/ryan-aylward.jpg"},{name:"Tim Besse",title:"Chief Caffeine Officer",photoURL:"/crs/team/tim-besse.jpg"},{name:"Becky Bochatey",title:"UE Designer",photoURL:"/crs/team/becky-bochatey.jpg"},{name:"Melissa Fernandez",title:"Reviewer",photoURL:"/crs/team/melissa-fernandez.jpg"},{name:"Lynda Gordon",title:"Reviewer",photoURL:"/crs/team/lynda-gordon.jpg"},
{name:"A.J. Guerrero",title:"Community Manager",photoURL:"/crs/team/aj-guerrero.jpg"},{name:"Robert Hohlman",title:"CEO",photoURL:"/crs/team/robert-hohlman.jpg"},{name:"Eduard Kotysh",title:"Lead Software Engineer",photoURL:"/crs/team/ed.jpg"},{name:"Ron Lussier",title:"Artsy Web Geek",photoURL:"/crs/team/ron-lussier.jpg"},{name:"Dawn Lyon",title:"Public Relations",photoURL:"/crs/team/dawn-lyon.jpg"},{name:"Manan Mehra",title:"Codeaholic",photoURL:"/crs/team/manan-mehra.jpg"},{name:"Jeff Michael",
title:"QA Manager",photoURL:"/crs/team/jeff-michael.jpg"},{name:"Stacy Norris",title:"Reviewer",photoURL:"/crs/team/stacy-norris.jpg"},{name:"Steve Odden",title:"DB Developer",photoURL:"/crs/team/steve-odden.jpg"},{name:"Mark Palmer",title:"Schmoozer",photoURL:"/crs/team/mark-palmer.jpg"},{name:"Samantha Weeks",title:"Public Relations",photoURL:"/crs/team/samantha-weeks.jpg"}],teamPhotoWidth:150,teamPhotoHeight:187.5,teamPhotoPadding:15,topOffset:90,teamPhotoTitleHeight:50,teamUsed:[],cheers:"Muy Bueno;Champion;Best;Brilliant;Fantastic;Fine;Gifted;Headbanger;Hero;Indispensible;Kahuna;Muckamuck;Nonpareil;Overachiever;Perfect;Prime;Rocking Out;Silly;Score on Tetris;Star;Super;Superstar;Top Marks;Tops;Ultimate;VIP;Wicked Awesome;Yummy, like Bacon".split(";"),
cheersUsed:[],activate:function(){GD.effects.occludePage(GD.aug.egg.activate2,GD.aug.egg.onclick,null,null,0.95)},activate2:function(){var a=0;$(window).scrollTop(0);GD.aug.egg.showTeam();GD.aug.egg.initUnused();$(".hExecutive").each(function(){return GD.aug.egg.addMember($(this))&&(a+=1,a>=GD.aug.egg.team.length)?!1:!0})},showTeam:function(){var a=$(window),b,c,e=$("<div id='EggParent'>");a.width();b=Math.floor(a.width()/(GD.aug.egg.teamPhotoWidth+GD.aug.egg.teamPhotoPadding));c=new Number($("#GDOverlay").css("z-index"));
isNaN(c)&&(c=6E4);e.css("position","absolute").css("top",0).css("left",0).css("width","100%").css("height","100%").css("z-index",c+1).keydown(GD.aug.egg.onkey).appendTo("body");a.bind("keydown",GD.aug.egg.onkey);GD.aug.egg.initUnused();b=Math.min(b,6);rows=Math.ceil(GD.aug.egg.team.length/b);c=(a.width()-(b*(GD.aug.egg.teamPhotoWidth+GD.aug.egg.teamPhotoPadding)-GD.aug.egg.teamPhotoPadding))/2;c=Math.floor(c);for(var a=a.scrollTop()+GD.aug.egg.topOffset,d=0,f=0,g=0;g<GD.aug.egg.team.length;g++){var h=
GD.aug.egg.findUnused(GD.aug.egg.team,GD.aug.egg.teamUsed),i=$("<div>").css("position","absolute"),j=$("<img>"),k=$("<p>"),l;l=GD.aug.egg.team[h].photoURL.replace(".jpg","-lg.jpg");j.attr("width",GD.aug.egg.teamPhotoWidth).attr("height",GD.aug.egg.teamPhotoHeight).attr("src",l);i.append(j);i.css("top",a+d*(GD.aug.egg.teamPhotoHeight+GD.aug.egg.teamPhotoTitleHeight)).css("left",c+f*(GD.aug.egg.teamPhotoWidth+GD.aug.egg.teamPhotoPadding)).attr("width",GD.aug.egg.teamPhotoWidth).attr("height",GD.aug.egg.teamPhotoWidth+
GD.aug.egg.teamPhotoTitleHeight);k.css("background-color","white").css("padding","3px 5px").html("<strong>"+GD.aug.egg.team[h].name+"</strong><br/>"+GD.aug.egg.team[h].title);i.append(k);e.append(i);f+=1;f>=b&&(d+=1,f=0,d+1==rows&&(h=GD.aug.egg.team.length-(g+1),h<b-1&&(f=Math.floor((b-h)/2))))}var m=$("<h1>").html("Why?  Because we &#x2661; you!").css("text-align","center").css("font-weight","bold").css("font-size","24px").css("margin-top","20px").css("display","none"),n=$("<h2>").html("&mdash; the Glassdoor Team").css("text-align",
"center").css("font-weight","bold").css("font-size","20px").css("line-height","1em").css("margin-top","5px").css("display","none"),o=$("<h3>").html("(press escape)").css("position","absolute").css("top",20).css("right",50).css("text-align","right").css("font-size","18px").css("line-height","1em").css("display","none");e.append(m);e.append(n);e.append(o);e.focus();GD.wait(200).then(function(){m.fadeIn(1E3,function(){GD.wait(500).then(function(){n.fadeIn(1E3,function(){GD.wait(1E3).then(function(){o.show("pulsate",
1E3)})})})})})},onkey:function(a){if(27==a.keyCode)GD.aug.egg.onclick()},onclick:function(){$("#EggParent").appendTo("#GDOverlay");GD.effects.revealPage(GD.aug.egg.onReveal,1E3)},onReveal:function(){GD.aug.egg.deactivate();GD.wait(GD.aug.egg.REVERT_MILLIS).then(GD.aug.egg.deactivate2)},deactivate:function(){$(window).unbind("keydown",GD.aug.egg.onclick);$("#GDOverlay").remove();$("#EggParent").remove()},deactivate2:function(){$(".hExecutive").each(function(){GD.aug.egg.revert($(this))})},addMember:function(a){var b=
!1,c=a.find("img.photo,.photo img");if(c.length){var b=GD.aug.egg.findUnused(GD.aug.egg.team,GD.aug.egg.teamUsed),e=GD.aug.egg.findUnused(GD.aug.egg.cheers,GD.aug.egg.cheersUsed),e=GD.aug.egg.cheers[e],d;d=a.find(".org");d.attr("preTreatVal",d.html());d.html("Glassdoor.com");d=a.find(".url");d.attr("preTreatVal",d.html());d.html("www.glassdoor.com");d=a.find(".adr .value");d.attr("preTreatVal",d.html());d.html("Sausalito, CA");d=a.find(".stock");d.attr("preTreatVal",d.html());d.html("");d=a.find(".rating .average");
d.attr("preTreatVal",d.html());d.html("5.0");d=a.find(".rating .graphic");d.attr("preTreatVal",d.html());d.html("/static/img/rating/sm/rating_scale_50.gif");d=a.find(".fn");var f=a.find(".title"),g=a.find(".rating .approvalPercent"),a=a.find(".rating .ratingDesc");d.attr("preTreatVal",d.html());d.html(GD.aug.egg.team[b].name);f.attr("preTreatVal",f.html());f.html(GD.aug.egg.team[b].title);g.attr("preTreatVal",g.html());g.html("100");a.attr("preTreatVal",a.html());a.html("&ldquo;<strong>"+e+"</strong>&rdquo;");
c.attr("preTreatVal",c.attr("src"));c.attr("preTreatTitleVal",c.attr("title"));c.hide().attr("src",GD.aug.egg.team[b].photoURL).attr("title","Glassdoor "+GD.aug.egg.team[b].title+" "+GD.aug.egg.team[b].name).fadeIn(1E3);b=GD.aug.egg.teamUsed[b]=!0}return b},revert:function(a){var b=a.find("img.photo,.photo img");if(b.length){var c=function(a){a.length&&a.attr("preTreatVal")&&a.html(a.attr("preTreatVal"))},e;e=a.find(".org");c(e);e=a.find(".url");c(e);e=a.find(".adr .value");c(e);e=a.find(".stock");
c(e);e=a.find(".rating .average");c(e);e=a.find(".rating .graphic");c(e);e=a.find(".fn");var d=a.find(".title"),f=a.find(".rating .approvalPercent"),a=a.find(".rating .ratingDesc");c(e);c(d);c(f);c(a);b.length&&b.attr("preTreatVal")&&(b.attr("src",b.attr("preTreatVal")),b.attr("title",b.attr("preTreatTitleVal")))}},initUnused:function(){GD.aug.egg.teamUsed=[];GD.aug.egg.cheersUsed=[];for(var a=0;a<GD.aug.egg.team.length;a++)GD.aug.egg.teamUsed.push(!1);for(a=0;a<GD.aug.egg.cheers.length;a++)GD.aug.egg.cheersUsed.push(!1)},
findUnused:function(a,b){for(var c=0,e=0;e<a.length;e++)b[e]||(c+=1);if(0<c)for(var d=0,c=Math.floor(Math.random()*c),e=0;e<a.length;e++)if(!b[e]&&(d+=1,d>c))return b[e]=!0,e;return-1}};GD.aug.dnArrowImg="url(/static/img/icons/arrows/down.gif)";GD.aug.rtArrowImg="url(/static/img/icons/arrows/right.gif)";GD.aug.hiliteColor="#ffffcc";GD.aug.hiliteSeconds=3;
GD.aug.augmentCollapsibleGroup=function(){var a=$("div.collapsibleGroup");$("div[data-role=collapsible]",a).each(function(){var a=$(this),b=$("h5:first",a),a=a.children().not(b);b.addClass("toggle link");b.on("click",GD.aug._onClickToggleItem);a.wrapAll("<div class='collapsibleBody'>")});a.show();if(window.location.search){var a=window.location.search.replace(/\?[a-z]*[=]?/g,""),b=$("#"+a);b.length&&GD.wait(1E3).then(function(){GD.aug._doItemToggle(b,!0)})}};
GD.aug.closeAllToggleItems=function(){$("dl.toggleItems dt").each(function(){GD.aug._displayToggleItemBlock($(this),!1)})};GD.aug._onClickToggleItem=function(){GD.aug._doItemToggle($(this))};GD.aug._hiliteToggleItemBlock=function(a){a.next().css("background-color","#fff").animate({backgroundColor:GD.aug.hiliteColor},3E3,null,function(){GD.wait(1E3*GD.aug.hiliteSeconds).then(function(){GD.aug._dehiliteToggleItemBlock(a)})})};
GD.aug._dehiliteToggleItemBlock=function(a){a.next().animate({backgroundColor:"transparent"},3E3)};GD.aug._doItemToggle=function(a,b){var c="none"==a.next().css("display");c||(b=!1);GD.aug._displayToggleItemBlock(a,c,b)};
GD.aug._displayToggleItemBlock=function(a,b,c){"boolean"!=typeof c&&(c=!1);var e=a.next(),d;e.css("background-color","transparent");c&&(d=function(){GD.aug._hiliteToggleItemBlock(a)});b?(e.css("display","none"),e.show("blind",null,"normal",d),a.addClass("opened")):(e.hide("blind",null,"normal",d),a.removeClass("opened"))};GD.aug.dancingEllipsesInterval=400;
GD.aug.augmentDancingEllipses=function(){var a=$(document);a.data("dancingEllipses")||(GD.wait(GD.aug.dancingEllipsesInterval).then(GD.aug.processDancingEllipses),a.data("dancingEllipses",!0))};GD.aug.processDancingEllipses=function(){$(".dancingEllipses").each(function(){var a=$(this),b=a.html(),c=0,e="...";b&&(b.endsWith("...")?(c=3,e=""):e=".",0<c&&(b=b.substring(0,b.length-c)),a.html(b+e))});GD.wait(GD.aug.dancingEllipsesInterval).then(GD.aug.processDancingEllipses)};
GD.aug.addDynamicForIds=function(a){var b;b=a?$(a):null;$("label[data-for-id]",b).each(function(a,e){GD.aug._doDynamicForId($(e),b)})};GD.aug._doDynamicForId=function(a,b){var c=$(a),e=c.data("forId"),d='[data-for-id="'+e+'"]',d=$("select"+d+",input"+d+",textarea"+d,b),f=(new Date).getTime(),e=e+"-"+f;c.attr("for",e);d.attr("id",e)};window.GD=window.GD||{};GD.btn=GD.btn||{};GD.btn.INIT_PLEASE="initPls";GD.btn.READY="ready";GD.btn.init=function(a){var c=$(a),c=0==c.length?$(".gd-btn."+GD.btn.INIT_PLEASE):c.filter("."+GD.btn.INIT_PLEASE);c.each(function(){GD.btn._initOne($(this));c.removeClass(GD.btn.INIT_PLEASE)})};GD.btn.isEnabled=function(a){return!$(a).is(".disabled")};
GD.btn.enable=function(a,c){var b=$(a);"boolean"!==typeof c&&(c=!0);b.is("a.gd-btn-link")?c?b.hasClass("disabled")&&(b.removeClass("disabled"),b.data("href")&&(b.attr("href",b.data("href")),b.removeData("href"))):b.hasClass("disabled")||(b.addClass("disabled"),b.attr("href")&&(b.data("href",b.attr("href")),b.removeAttr("href"))):b.is("button.gd-btn")&&(c?(b.removeClass("disabled"),b.removeProp("disabled")):(b.addClass("disabled"),b.prop("disabled","disabled")))};
GD.btn.label=function(a,c){var b=$(a);if(b.length)if(b=$("span",b),c)b.html(c.trim());else return b.html().trim()};GD.btn._initOne=function(a){a.on("click",function(c){GD.btn._onClick(a,c)});a.on("keypress",function(c){GD.btn._isButtonClickKey(c)&&(c.stopPropagation(),GD.btn._onClick(a,c))})};
GD.btn._onClick=function(a,c){if(GD.btn.isEnabled(a))if(GD.btn._handleOnClickCode(a,c)){if(GD.btn._handleOneClick(a),a.is("gd-btn-link")){var b=a.data("href");b||(b=a.attr("href"));b&&GD.dom.loadUrl(b,$anchor.attr("target"));c.preventDefault()}}else c.preventDefault()};GD.btn._getBtnFromEvent=function(a){a=$(a.target);return a.is(".gd-btn")?a:a.closest(".gd-btn")};GD.btn._isButtonClickKey=function(a){return a.which==GD.event.SPACE||a.which==GD.event.ENTER};
GD.btn._handleOneClick=function(a){if(a.data("oneClick")){GD.wait().then(function(){GD.btn.enable(a,!1)});var c=a.data("oneClickLabel");c&&GD.btn.label(a,c)}};GD.btn._handleOnClickCode=function(a,c){var b=a.data("onclick"),d=!0;if(b)try{!1===(new Function("event",b)).call(a,c)&&(d=!1)}catch(e){}return d};
GD.btn._setupHiddenField=function(a,c){var b=a.data("name"),d=a.data("value");if(b&&d){var e=$("input[type='hidden'][name='"+b+"']",c);e.length?e.attr({name:b,value:d}):$("<input type='hidden'>").attr({name:b,value:d}).appendTo(c)}};window.GD=window.GD||{};GD.effects=GD.effects||{};GD.effects.OVERLAY_Z_INDEX=2E3;GD.effects.DEFAULT_OCCLUDE_SPEED=200;GD.effects.DEFAULT_OCCLUDE_OPACITY=0.55;
GD.effects.showPopup=function(a,c,b,e,f,d,h,i){var a=$(a),g=$(b);"boolean"!==typeof c&&(c=!0);if(a.length)if(c){var c={top:0,left:0},j=b=0;a.hide();a.removeClass("hidden");g.length&&(c=g.offset(),b=g.outerWidth(),j=g.outerHeight());a.parent().is("body")||$("body").append(a);"number"===typeof e?a.css({bottom:"auto",top:Math.floor(c.top+e)}):"number"===typeof d?(e=Math.floor(c.top+j),g=a.outerHeight(),a.css({bottom:"auto",top:e-d-g})):a.css({bottom:"auto",top:Math.floor(c.top)});"number"===typeof f?
a.css({right:"auto",left:Math.floor(c.left+f)}):"number"===typeof h?(f=Math.floor(c.left+b),d=a.outerWidth(),a.css({right:"auto",left:f-h-d})):a.css({right:"auto",left:Math.floor(c.left)});a.fadeIn(100);"number"===typeof i&&a.css("zIndex",i)}else a.fadeOut(100)};
GD.effects.occludePage=function(a,c,b,e,f){if("undefined"==typeof b||null==b)b=GD.effects.DEFAULT_OCCLUDE_SPEED;"number"!=typeof e&&(e=GD.effects.OVERLAY_Z_INDEX);"number"!=typeof f&&(f=GD.effects.DEFAULT_OCCLUDE_OPACITY);var d=$("#GDOverlay");d.length||(d=$("<div>").attr("id","GDOverlay"),d.appendTo("body").css({"z-index":e,opacity:0,top:0,left:0}));if("function"===typeof c)d.on("click",c);else d.off("click");GD.effects._hideTroublesomeElements();$(window).width();$(window).height();d.css("position",
"fixed");if(0==d.css("opacity")||!d.is(":visible"))d.css("opacity",0),d.show();d.fadeTo(b,f,a)};GD.effects.revealPage=function(a,c){"undefined"==typeof c&&(c=GD.effects.DEFAULT_OCCLUDE_SPEED);var b=$("#GDOverlay");if(b.length&&"none"!==b.css("display")){var e=GD.effects._onRevealPageComplete;"function"==typeof a&&(e=function(){GD.effects._onRevealPageComplete(a)});b.fadeOut(c,e)}};
GD.effects.initLightbox=function(){$("a[rel=lightbox]").fancybox({transitionIn:"elastic",transitionOut:"elastic",opacity:!0,overlayColor:"#fff",overlayOpacity:0.75,title:"press [esc] to close"})};GD.effects._onRevealPageComplete=function(a){GD.effects._showTroublesomeElements();"function"===typeof a&&a()};
GD.effects._showTroublesomeElements=function(){var a=GD.effects._getTroublesomeElements();$(a).each(function(){var a=$(this),b=a.data("oldVisibility")||a.attr("data-old-visibility");b&&(a.css("visibility",b),a.removeData("oldVisibility"),a.attr("data-old-visibility",""))})};
GD.effects._hideTroublesomeElements=function(){var a=GD.effects._getTroublesomeElements();$(a).each(function(){var a=$(this),b=a.css("visibility")||"inherit";"OBJECT"==a[0].nodeName?a.attr("data-old-visibility",b):a.data("oldVisibility",b);a.css("visibility","hidden")})};GD.effects._getTroublesomeElements=function(){troubleElements="object,embed,select";if(jQuery.browser.webkit&&/Chrome/i.test(navigator.userAgent)||jQuery.browser.msie)troubleElements+=",iframe";return troubleElements};window.GD=window.GD||{};GD.jobs=GD.jobs||{};GD.jobs.savedJobs=GD.jobs.savedJobs||{};GD.jobs.apply=GD.jobs.apply||{};GD.jobs.showJobApplication=function(b){"string"==typeof b&&0<b.length&&(-1<b.toLowerCase().indexOf("index.htm")?GD.dom.loadUrl(b):GD.dom.loadUrl(b,"_blank"))};GD.jobs.fileTypes="application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,text/plain,text/rtf,application/vnd.oasis.opendocument.text".split(",");
GD.jobs.checkMaxWords=function(b,a){var c=$(b),d=c.val();return 0<d.length&&d.match(/\S+/g).length>a?(GD.struts.validation.addError(c[0],"Please make sure your cover letter is 1000 words or less."),!1):!0};
GD.jobs.fallbackUpload=function(){var b=$("#ResumeUploadField").val().replace("\\\\","\\").split("\\"),b=b[b.length-1],a=b.split(".").pop();$(".uploadifive-queue-item.error").css("display","none");if("rtf"==a||"rtx"==a)$("#ResumeContentType").val("text/rtf");else if("pdf"==a)$("#ResumeContentType").val("application/pdf");else if("txt"==a||"text"==a)$("#ResumeContentType").val("text/plain");else if("odt"==a)$("#ResumeContentType").val("application/vnd.oasis.opendocument.text");else if("docx"==a||"dotx"==
a||"docxml"==a)$("#ResumeContentType").val("application/vnd.openxmlformats-officedocument.wordprocessingml.document");else if("doc"==a||"docm"==a||"dotm"==a||"wpd"==a||"wps"==a)$("#ResumeContentType").val("application/msword");else{var a=$("<div>").addClass("uploadifive-queue-item").addClass("error"),c=$("<div>"),d=$("<span>").addClass("fileinfo").html(" Forbidden File Type");c.append(d);a.append(c);$("#uploadNonHTML5").append(a)}$("#ResumeFileName").val(b);$("#UploadFilename").html(b)};
GD.jobs.apply.init=function(b,a,c,d){$("#ResumeUploadifiveField").uploadifive({auto:!1,buttonText:"Select File",buttonClass:"gdUploadifiveBtn",fileSizeLimit:"2000",fileType:GD.jobs.fileTypes,height:15,queueSizeLimit:1,width:100,uploadScript:"/job-listing/apply.htm",onFallback:function(){$("#uploadHTML5").html("");$("#uploadNonHTML5").removeClass("hidden");$("#ApplyHTML5").addClass("hidden");$("#ApplyNonHTML5").removeClass("hidden")},onAddQueueItem:function(){$("#UploadFileType").css("padding-left",
"80px");$("#UploadFileType").css("line-height","8px");$("#uploadifive-ResumeUploadifiveField").css("display","none");$("#UploadBtnDisabled").css("display","inline")},onCancel:function(){$("#UploadBtnDisabled").css("display","none");$("#uploadifive-ResumeUploadifiveField").css("display","inline-block");$("#UploadFileType").css("padding-left","0");$("#UploadFileType").css("line-height","21px")},onUploadComplete:function(){$("#JobApplySuccessMessage").show();$("div.jobApplyContent").hide();$("div.jobDescriptionContent").show();
$("h3.jobDescriptionContent").show();$("div.similarJobs").show();$("div.zCol").show();$("a.applyButton").addClass("disabled")}});if(void 0!==$("#ApplicantCoverLetterEditField").onpropertychange&&typeof("object"==$("#ApplicantCoverLetterEditField").onpropertychange))$("#ApplicantCoverLetterEditField").on("propertychange",function(){GD.jobs.checkMaxWords($(this),1E3)});else $("#ApplicantCoverLetterEditField").on("input",function(){GD.jobs.checkMaxWords($(this),1E3)});$("#SubmitBtn").on("click",function(){GD.jobs.sendUploadForm()});
$("a.applyButton").on("click",function(){"#_"==$(this).attr("href")&&($("div.jobDescriptionContent").hide(),$("h3.jobDescriptionContent").hide(),$("div.similarJobs").hide(),$("div.zCol").hide(),$("div.jobApplyContent").show(),$("#ApplySidebar").addClass("disabled"))});$("#jobApplyCancel").on("click",function(){$("div.jobApplyContent").hide();$("div.jobDescriptionContent").show();$("h3.jobDescriptionContent").show();$("div.similarJobs").show();$("div.zCol").show();$("#ApplySidebar").removeClass("disabled")});
$("a.trackJobEOI").on("click",function(){GD.analytics.trackEvent("jobEOI",b+"-"+a,c,d)});$("#ApplyNowSubmit").on("click",function(){$(this).attr("value","Saving...");if(!GD.jobs.validateApplication())return GD.wait(500).then(function(){$("#ApplyNowSubmit").attr("value","Apply Now")}),!1})};
GD.jobs.checkMaxCoverLetterWords=function(b){1E3<$(b.target).val().match(/\S+/g).length?($("#ApplyNowBtn").addClass("disabled"),$(".textAreaNote").html("Please make sure your Cover Letter is 1000 words or less."),$(".textAreaNote").css("color","#990000")):($("#ApplyNowBtn").removeClass("disabled"),$(".textAreaNote").html("1000 word maximum."),$(".textAreaNote").css("color","#999999"))};
GD.jobs.validateApplication=function(){GD.struts.validation.clearErrorMessages(document.getElementById("ApplyJobForm"));var b=!0,a=$("#ApplicantNameEditField");a.val()?GD.struts.validation.profanityValidation(a," ")&&(b=!1):(GD.struts.validation.addError(a[0],"Please enter a value for Name"),b=!1);var a=$("#ApplicantEmailEditField"),c=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;!a.val()||!c.test(a.val())?(GD.struts.validation.addError(a[0],"Please enter a value for Email"),b=!1):GD.struts.validation.profanityValidation(a,
"@")&&(b=!1);var d=!1;$("#uploadNonHTML5").hasClass("hidden")?$('#uploadifive-ResumeUploadifiveField input[type="file"]').each(function(){$(this)[0].files.length==1&&(d=true)}):$("#ResumeUploadField").val()&&(d=!0);d||(0==$("#ResumeError").length&&(b=document.createElement("div"),b.className="fieldError",b.innerHTML="<div id='ResumeError' class='errorMessage'>\n    <p class='stopIcon'>Please upload a Resume file</p></div>\n<div class='clear'></div>",$(b).insertAfter($("#ResumeUploadLabel"))),b=!1);
a=$("#ApplicantCoverLetterEditField");0<a.val().length&&GD.struts.validation.profanityValidation(a," ")&&(b=!1);return b};
GD.jobs.upload=function(){GD.jobs.checkMaxWords("#ApplicantCoverLetterEditField",1E3)&&($('#uploadifive-ResumeUploadifiveField input[type="file"]').each(function(){1==$(this)[0].files.length&&(GD.jobs.uploadedFileType=$(this)[0].files[0].type)}),$("#ResumeUploadifiveField").data("uploadifive").settings.formData={applicantName:$("#ApplicantNameEditField").val(),applicantEmail:$("#ApplicantEmailEditField").val(),resumeContentType:GD.jobs.uploadedFileType,resumeFileName:$(".filename").first().html().replace(" ",
"_"),companyShortName:$("#CompanyShortNameField").val(),jobDescription:$("#JobDescriptionField").val(),adOrderId:$("#AdOrderIdField").val(),jobListingId:$("#JobListingIdField").val(),applicantCoverLetter:$("#ApplicantCoverLetterEditField").val()},$("#ResumeUploadifiveField").uploadifive("upload"))};GD.jobs.sendUploadForm=function(){var b=!0;if(GD.jobs.validateApplication()){GD.jobs.upload();var a=$("#WebAnalyticsPageURL").data("url");GD.analytics.trackPageView(a)}else b=!1;return b};
GD.jobs.initJobViewSigninCTA=function(){var b=$("#GenericPopupOuterFrame");$("img.closeBox",b).on("click keypress",function(){b.addClass("hidden");GD.effects.revealPage();GD.dom.loadUrl("/job-listing/jobClickCompletedSignIn.htm")});$(".softSellApplyButton").on("click keypress",function(){$.ajax({url:"/job-listing/jobsSoftSellSetAdTracking.htm",complete:function(){GD.effects.occludePage();b.removeClass("hidden")}})})};GD.jobs.REVEAL_TIME_MS=500;
GD.jobs.initJobSearch=function(b){$("#JobSearchRadiusSelect").on("change",function(a){GD.jobs._trackEvent(a);GD.jobs.doJobSearch(b)});$("#JobSearchFilters input[type='radio']").on("change",function(a){GD.jobs._trackEvent(a);GD.jobs.doJobSearch(b)})};
GD.jobs.doJobSearch=function(b){$("#AjaxSpinner").show();var a=$("#JobSearchRadiusSelect").val()||"",c=$("#JobFreshnessSelect :checked").val()||"",d=$("#EmployerMinRatingSelect :checked").val()||"",e=$("#JobTypeRatingSelect :checked").val()||"";GD.jobs._jobSearch(b,a,c,d,e);googletag.pubads().refresh();GD.ads.reloadAll()};
GD.jobs._jobSearch=function(b,a,c,d,e){var f=GD.jobs._getSeoPathUrl();jQuery.ajax({url:void 0==a?f+("?fromAge="+c+"&minRating="+d):f+("?radius="+a+"&fromAge="+c+"&minRating="+d+"&jobType="+e),dataType:"html",success:function(a){a||Logger.error("No data returned for GD.jobs.displayFeaturedJobs");GD.jobs._processJobs(a,b)},error:function(a,b,c){Logger.inspect(c,"GD.jobs.displayFeaturedJobs error: "+b);GD.jobs._processJobs(null)}})};
GD.jobs._getSeoPathUrl=function(){var b=$('meta[property="og:url"]').attr("content"),b=b.replace(/_IP[0-9]*/,""),a=b.lastIndexOf("/");return"/Job/ajax"+b.toString().substring(a)};GD.jobs._processJobs=function(b,a){if(b){var c=$(a);c.empty();c.html(b);c.slideDown(GD.jobs.REVEAL_TIME_MS);c=$("#SearchNoResults",c).length?"/search/jobsFiltered/noData":"/search/jobsFiltered";GD.analytics.trackPageView(c)}};
GD.jobs._trackEvent=function(b){var a=b.currentTarget.id,b=b.currentTarget.value,c;0==a.indexOf("JobFreshness")?c="Freshness":0==a.indexOf("EmployerMinRating")?c="Company Rating":"JobSearchRadiusSelect"==a?c="Distance":"AllIndustriesId"==a?b=c="Industry":"AllExperienceLevelsId"==a?b=c="Experience":0==a.indexOf("JobType")&&(b=c="Type");c&&GD.analytics.trackEvent("jobSearchFilter",c,b)};GD.jobs.shareJobs=GD.jobs.shareJobs||{};GD.jobs.shareJobs.CAN_SHARE_JOBS=!0;GD.jobs.shareJobs.SHARE_JOB_URL="/job-listing/shareJobAjax.htm";
GD.jobs.shareJobs.init=function(){if(GD.jobs.shareJobs.CAN_SHARE_JOBS)$(".shareJobLink").on("click",GD.jobs.shareJobs.share)};GD.jobs.shareJobs.share=function(b){b.preventDefault();b=$(this);if(void 0!=b)if(b.data("jobid")){var a={};a.jobId=b.data("jobid");a.aoId=b.data("aoid");a.isLoggedIn=b.data("isloggedin");a.empName=b.data("empname");a.jobTitle=b.data("jobtitle");GD.jobs.shareJobs.createDialog(a,a.jobTitle+" at "+a.empName)}else GD.jobs.sharedJobs.shareFailed(b)};
GD.jobs.shareJobs.createDialog=function(b,a){var c=$("div.shareJobDialogSource").clone();c.removeClass("hidden");c.find(".sub-heading").html(a);$form=c.find("form");$form.attr("id","shareJobForm");$msg=c.find(".share-msg");$send=c.find("button.shareJob");$cancel=c.find("a.cancel");c.find(".share-joblisting").val(b.jobId);c.find(".share-aoId").val(b.aoId);$send.on("click",function(a){a.preventDefault();c.find(".ajaxResult").hide();a=GD.jobs.shareJobs.validateForm($form);!0===a?GD.jobs.shareJobs.doShare($("#shareJobForm").serialize().stripHtml(),
c,b):(c.find(".ajaxResult .headline span").html(a.required+" "+a.email),c.find(".ajaxResult .headline img").removeClass("circledGreenCheck error").addClass("error"),c.find(".ajaxResult").addClass("error"),c.find(".ajaxResult").slideDown("slow"))});$cancel.on("click",function(a){a.preventDefault();GD.jobs.shareJobs.closeDialog()});GD.jobs.shareJobs.showDialog(c)};
GD.jobs.shareJobs.validateForm=function(b){var b=b.find(".required"),a=!0,c={required:"",email:""};$(b).each(function(b,e){var f=$.trim($(e).val());""===f?(a=!1,$(e).removeClass("error ok").addClass("error"),c.required="Name & Email are mandatory."):($(e).removeClass("error ok").addClass("ok"),$(e).hasClass("email")&&!GD.util.validateEmail(f)&&(c.email="Please enter valid email(s).",a=!1,$(e).removeClass("error ok").addClass("error")))});return!a?c:a};
GD.jobs.shareJobs.doShare=function(b,a,c){jQuery.ajax({url:GD.jobs.shareJobs.SHARE_JOB_URL,data:b,beforeSend:function(){a.find(".spinner").show();a.find(".ajaxResult").hide()},success:function(b){a.find(".spinner").hide();b||Logger.error("No data returned");GD.jobs.shareJobs.shareSuccess(b,a,c)},error:function(b,e,f){a.find(".spinner").hide();Logger.inspect(f,"GD.jobs.shareJobs.doShare error: "+e);GD.jobs.shareJobs.shareSuccess(null,a,c)}})};
GD.jobs.shareJobs.shareSuccess=function(b,a,c){a.find(".ajaxResult").show();null==b?(a.find(".ajaxResult .headline span").html("We're sorry. The email was not sent. Please try again!"),a.find(".ajaxResult .headline img").removeClass("circledGreenCheck error").addClass("error"),a.find(".ajaxResult").addClass("error")):!0==b.success?(a.find(".ajaxResult .headline span").html("This job has been shared! Share again with another recipient."),a.find(".ajaxResult .headline img").removeClass("circledGreenCheck error").addClass("circledGreenCheck"),
a.find(".ajaxResult").removeClass("error"),a.find(".share-to-email").val(""),a.find(".share-msg").val(""),GD.analytics.trackEvent("job-clicks","share-job",c.jobTitle+","+c.empName)):(a.find(".ajaxResult .headline span").html("We're sorry. The email was not sent as the job has been already shared with the recipient in the last 24 hours."),a.find(".ajaxResult .headline img").removeClass("circledGreenCheck error").addClass("error"),a.find(".ajaxResult").addClass("error"))};
GD.jobs.shareJobs.showDialog=function(b){GD.dialogManager.addCustomDialog(b,500,!0,!1,!0,function(){GD.jobs.shareJobs.closeDialog(b)},"shareJobDialog",function(){GD.analytics.trackPageView("/splash/share-job-v1")},null,!0)};GD.jobs.shareJobs.closeDialog=function(){setTimeout(function(){GD.dialogManager.closeAllDialogs()},50)};GD.jobs.shareJobs.lateCloseDialog=function(){setTimeout(function(){GD.dialogManager.closeAllDialogs()},1600)};GD.jobs.savedJobs.CAN_SAVE_JOBS=!0;
GD.jobs.savedJobs.CAN_REMOVE_JOBS=!1;GD.jobs.savedJobs.CAN_ADD_NOTES=!1;GD.jobs.savedJobs.SAVED_JOBS_URL="/member/account/savedJobs_input.htm";
GD.jobs.savedJobs.init=function(){GD.jobs.savedJobs.CAN_SAVE_JOBS&&($(".saveJobLink").on("click",GD.jobs.savedJobs.save),$(".saveJobLink span.saved").off("click"),$(".saveJobLink span.saved").on("click",function(b){b.stopPropagation();GD.dom.loadUrl(GD.jobs.savedJobs.SAVED_JOBS_URL);return!1}));GD.jobs.savedJobs.CAN_REMOVE_JOBS&&($(".saveJobLink span.saved").on("mouseover",function(){GD.jobs.savedJobs.changeCSSClass($(this).parent(),"remove");$(this).parent().fadeIn("fast")}),$(".saveJobLink span.remove").on("mouseout",
function(){GD.jobs.savedJobs.changeCSSClass($(this).parent(),"saved");$(this).parent().fadeIn("fast")}),$(".saveJobLink span.remove").on("click",function(b){b.stopPropagation()}));if(GD.jobs.savedJobs.CAN_ADD_NOTES)$(".addNoteToSavedJob").on("click",GD.jobs.savedJobs.showAddNoteTemplate)};
GD.jobs.savedJobs.save=function(b){b.preventDefault();var a=$(this);if(void 0!=a)if(a.data("jobid")){var c=a.data("jobid"),b=a.data("aoid"),d=a.data("isloggedin");if(void 0==c||void 0==d)GD.jobs.savedJobs.saveFailed(a);else{var e,c="/job-listing/saveJobAjax.htm?jobListingId="+c;void 0!=b&&(c+="&adOrderId="+b);e={url:c,dataType:"json",success:function(b){a.find(".spinner").hide();b||Logger.error("No data returned for GD.jobs.savedJobs.init");GD.jobs.savedJobs.processSave(b,a,d)},error:function(b,c,
e){a.find(".spinner").hide();Logger.inspect(e,"GD.jobs.savedJobs.init error: "+c);GD.jobs.savedJobs.processSave(null,a,d)}};b=function(){a.find(".spinner").show();$(".saveJobLink").data("isloggedin","true");$(".saveJobLink").attr("data-isloggedin","true");GD.jobs.savedJobs.changeCSSClass(a,"saving");jQuery.ajax(e)};d?b():GD.site.loginPopup.createDialog("Save jobs so you can apply to them later!","Please create an account or sign in to start saving jobs.",b)}}else GD.jobs.savedJobs.saveFailed(a)};
GD.jobs.savedJobs.changeCSSClass=function(b,a){$(["notsaved","saving","saved","remove","fail"]).each(function(a,d){b.removeClass(d)});b.addClass(a)};GD.jobs.savedJobs.processSave=function(b,a,c){void 0!=a&&(void 0==b?GD.jobs.savedJobs.saveFailed(a):!1===b.success?GD.jobs.savedJobs.saveFailed(a):(GD.jobs.savedJobs.changeCSSClass(a,"saved"),a.off("click"),b=a.data("jobtitle"),a=a.data("empname"),GD.analytics.trackEvent("job-clicks","save-job",b+","+a),c||GD.dom.reloadPage()))};
GD.jobs.savedJobs.saveFailed=function(b){void 0!=b&&(GD.jobs.savedJobs.changeCSSClass(b,"fail"),setTimeout(function(){GD.jobs.savedJobs.changeCSSClass(b,"notsaved")},2E3))};window.GD=window.GD||{};GD.jobs=GD.jobs||{};window.GD=window.GD||{};GD.link=GD.link||{};GD.link.initTargetedLinks=function(b,a,d){a=$(a);if(b)return 0==a.length&&(a=null),$("a[target="+b+"]",a).each(function(){var a=$(this),b=a.attr("href"),e=a.attr("target");a.data("url",b);a.data("offsiteTarget",e);a.click(function(a){if(!d){var c=window.open(b,"_blank");c.focus&&c.focus()}a.preventDefault()}).removeAttr("href").removeAttr("target")}),!1;Logger.error("GD.link.initTargetedLinks called without 'target' attribute.")};window.GD=window.GD||{};GD.rollover=GD.rollover||{};GD.rollover.imgHolderClass=function(){this.hover=[];this.click=[];this.src=[];this.store=function(a,b,d){var c=this.src.length;null!=a&&0<a.length?(this.src[c]=new Image,this.src[c].src=a):this.src[c]=null;null!=d&&0<d.length?(this.hover[c]=new Image,this.hover[c].src=d):this.nover[c]=null;null!=b&&0<b.length?(this.click[c]=new Image,this.click[c].src=b):this.click[c]=null}};GD.rollover.imgHolder=new GD.rollover.imgHolderClass;
GD.rollover.preloader=function(a){for(i=0;i<a.length;i++)if(a[i].getAttribute("srchover")||a[i].getAttribute("srcclick")){GD.rollover._storeImgs(a[i]);var b="",b=a[i].getAttribute("srchover")?b+"A":b+"",b=a[i].getAttribute("srcclick")?b+"B":b+"";switch(b){case "A":GD.rollover.mouseover(a[i]);GD.rollover.mouseout(a[i]);break;case "B":GD.rollover.mousedown(a[i]);GD.rollover.mouseup2(a[i]);break;case "AB":GD.rollover.mouseover(a[i]);GD.rollover.mouseout(a[i]);GD.rollover.mousedown(a[i]);GD.rollover.mouseup(a[i]);
break;default:return}a[i].src&&a[i].setAttribute("oldsrc",a[i].src)}};GD.rollover.mouseup=function(a){var b;a.onmouseup?(a.oldmouseup=a.onmouseup,b=function(){this.src=this.getAttribute("srchover");this.oldmouseup()}):b=function(){this.src=this.getAttribute("srchover")};a.onmouseup=b};GD.rollover.mouseup2=function(a){var b;a.onmouseup?(a.oldmouseup=a.onmouseup,b=function(){this.src=this.getAttribute("oldsrc");this.oldmouseup()}):b=function(){this.src=this.getAttribute("oldsrc")};a.onmouseup=b};
GD.rollover.mousedown=function(a){a.onmousedown&&(a.oldmousedown=a.onmousedown);a.onmousedown=function(){this.src=this.getAttribute("srcclick")}};GD.rollover.mouseover=function(a){var b;a.onmouseover?(a.oldmouseover=a.onmouseover,b=function(){this.src=this.getAttribute("srchover");this.oldmouseover()}):b=function(){this.src=this.getAttribute("srchover")};a.onmouseover=b};
GD.rollover.mouseout=function(a){var b;a.onmouseout?(a.oldmouseout=a.onmouseout,b=function(){this.src=this.getAttribute("oldsrc");this.oldmouseout()}):b=function(){this.src=this.getAttribute("oldsrc")};a.onmouseout=b};GD.rollover._storeImgs=function(a){var b=a.getAttribute("src")?a.getAttribute("src"):"",d=a.getAttribute("srcclick")?a.getAttribute("srcclick"):"",a=a.getAttribute("srchover")?a.getAttribute("srchover"):"";GD.rollover.imgHolder.store(b,d,a)};
GD.rollover._preLoadImgs=function(){if(document.getElementsByTagName){var a=document.getElementsByTagName("IMG"),b=document.getElementsByTagName("INPUT");GD.rollover.preloader(a);GD.rollover.preloader(b)}};window.addEventListener?window.addEventListener("load",GD.rollover._preLoadImgs,!1):window.attachEvent?window.attachEvent("onload",GD.rollover._preLoadImgs):function(){var a=window.onload;window.onload=function(b){a();GD.rollover._preLoadImgs(b)}}();window.GD=window.GD||{};GD.srch=GD.srch||{};GD.srch.DISAMBIG_RESULTS_WINDOW_ID="AjaxLocationDisambigResults";GD.srch.TRUNC_NUM_RESULTS_TO_SHOW=5;GD.srch._showDisambigError=function(a,b,e,f,g,c,d){GD.srch._installPlaceholder(c);GD.srch._showLocDisambigPanel(a,b,e,f,null,c,d)};
GD.srch._populateSelectPanel=function(a,b,e,f,g,c,d){var h=$("<div class='locDisambigPanel'>"),l=$("<div class='locDisambigResults truncDisambig'>"),i,j=GD.srch.TRUNC_NUM_RESULTS_TO_SHOW;h.append("<img src='/static/img/spacer.gif' class='circledGreenCheck' />");h.append("<p class='header'>We found <strong>"+b.length+"</strong> results for <strong>"+a+"</strong></p>");b.length>GD.srch.TRUNC_NUM_RESULTS_TO_SHOW+1?i=$("<div class='locDisambigResults fullDisambig hidden'>"):b.length==GD.srch.TRUNC_NUM_RESULTS_TO_SHOW+
1&&j++;for(a=0;a<b.length;a++){var m=b[a],k;k=GD.srch._getSelectPanelItem(m,e,f,g,c,d);b.length>j&&i.append(k);a<j&&(k=GD.srch._getSelectPanelItem(m,e,f,g,c,d),l.append(k))}b.length>j&&(l.append("<p class='footer'><a onmousedown='return GD.srch._showFullDisambigList(true);'>More results</a></p>"),i.append("<p class='footer'><a onmousedown='return GD.srch._showFullDisambigList(false);'>Fewer results</a></p>"));h.append(l);i&&h.append(i);return h};
GD.srch._showLocDisambigPanel=function(a,b,e,f,g,c,d){GD.srch._closeLocDisambigPanel();a&&!a.length&&(a=null);GD.dialogManager.panelCreate(GD.srch.DISAMBIG_RESULTS_WINDOW_ID,null,a,f,b,e,null,null,null,null,!0,!1,function(){GD.srch._onLocDisambigPanelClose(c)});GD.dialogManager.panelSetContents("#"+GD.srch.DISAMBIG_RESULTS_WINDOW_ID,d);GD.dialogManager.panelShow("#"+GD.srch.DISAMBIG_RESULTS_WINDOW_ID);g&&jQuery.scrollTo($("#"+GD.srch.DISAMBIG_RESULTS_WINDOW_ID),{axis:"y",duration:200,offset:{left:0,
top:10}})};GD.srch._closeLocDisambigPanel=function(){try{GD.dialogManager.panelClose("#"+GD.srch.DISAMBIG_RESULTS_WINDOW_ID)}catch(a){}return!1};GD.srch._removeLocDisambigPanel=function(){$("#"+GD.srch.DISAMBIG_RESULTS_WINDOW_ID).remove()};
GD.srch._showFullDisambigList=function(a){"boolean"!==typeof a&&(a=!0);a?($("#"+GD.srch.DISAMBIG_RESULTS_WINDOW_ID+" .truncDisambig").hide(),$("#"+GD.srch.DISAMBIG_RESULTS_WINDOW_ID+" .fullDisambig").show()):($("#"+GD.srch.DISAMBIG_RESULTS_WINDOW_ID+" .fullDisambig").hide(),$("#"+GD.srch.DISAMBIG_RESULTS_WINDOW_ID+" .truncDisambig").show());return!1};
GD.srch._getSelectPanelItem=function(a,b,e,f,g,c){var d=$("<p>"),h=$("<a></a>"),b=GD.srch._getLocSelectHandler(b,a.name,e,a.type,f,a.id,g,c);h.html(a.name);h.click(b);d.append(h);return d};
GD.srch._noMatchesError=function(a,b,e,f,g){var c=$("<div class='locDisambigNoResults'>"),d=a.val();c.append("<img src='/static/img/spacer.gif' class='warning' />");c.append("<p class='header'>No matches for <strong>"+d+"</strong></p>");c.append("<p>Please try a different location or see results for <a>all available locations</a>.</p>");$("a",c).on("click",function(){GD.srch._handleAllLocationSelect(a,b,e,f,g)});return c};window.GD=window.GD||{};GD.srch=GD.srch||{};
GD.srch.initLocDisambig=function(a,b,c,d,g,h,i,e,l,k,m){a||(a=$(null));b||(b=$(null));c||(c=$(null));d||(d=$(null));var j=a.closest("form");"boolean"!==typeof k&&(k=!1);e||(e=330);if(j.length){j.bind("submit",function(f){GD.srch._uninstallPlaceholder(a);var o=a.val(),p=b.val(),q=c.val(),r=d.val();o&&(o=o.trim());o?((r||b.length&&p&&b.length&&q)&&j.data("disambigOk",!0),j.data("disambigOk")||(GD.srch._doLocationDisambig(j,a,b,c,d,g,h,i,e,l,k,m),f.preventDefault(),f.stopPropagation())):j.data("disambigOk",
!0)});var f=GD.srch._getDisambigKeyDownFunc(b,c,d);a.keydown(f)}};GD.srch._getDisambigKeyDownFunc=function(a,b,c){return function(d){if(13==d.keyCode&&""!=a.val()&&""!=b.val()&&""!=c.val())return!0;if(33>d.keyCode||40<d.keyCode)a.val(""),b.val(""),c.val("");GD.srch._closeLocDisambigPanel();return!0}};
GD.srch._doLocationDisambig=function(a,b,c,d,g,h,i,e,l,k,m,j){a=a.data("zipcodesOk");GD.srch._uninstallPlaceholder(b);var f="";if(f=b.val())f=f.trim(),b.val(f);f||GD.srch._handleAllLocationSelect(b,c,d,g,j);jQuery.ajax({url:"/util/ajax/findLocationsByFullText.htm",dataType:"json",data:{locationSearchString:f,allowPostalCodes:a},success:function(a){GD.srch._disambigLocationAjaxHandler(a.locations,f,h,i,e,l,k,b,c,d,g,m,j)},error:function(){GD.srch._disambigLocationAjaxHandler(null,f,h,i,e,l,k,null,
null,null,null,m,null);disambigHandler=GD.srch._getDisambigHandler();disambigHandler()}});GD.srch._installPlaceholder(b);return!1};
GD.srch._disambigLocationAjaxHandler=function(a,b,c,d,g,h,i,e,l,k,m,j,f){if(a)if(1==a.length||0<a.length&&j)GD.srch._closeLocDisambigPanel(),a=a[0],GD.srch._setLocation(a.name,a.type,a.id,e,l,k,m),e.parents("form:first").data("disambigOk",!0),f();else{var n=null;0==a.length?j?GD.srch._handleAllLocationSelect(e,l,k,m,f):n=GD.srch._noMatchesError(e,l,k,m,f):n=GD.srch._populateSelectPanel(b,a,e,l,k,m,f);n&&n.length&&GD.srch._showLocDisambigPanel(c,d,g,h,i,e,n)}else j?GD.srch._handleAllLocationSelect(e,
l,k,m,f):GD.srch._showDisambigError(c,d,g,h,null,e,$("<p><strong>An error occurred in processing the location '"+b+"'.</strong></p><p>Please try again.  If the problem persists, please be assured that our engineers are scrambling to fix the problem.</p>"))};GD.srch._getLocSelectHandler=function(a,b,c,d,g,h,i,e){return function(){GD.srch._handleLocationSelect(a,b,c,d,g,h,i,e);return!1}};
GD.srch._handleLocationSelect=function(a,b,c,d,g,h,i,e){GD.srch._removeLocDisambigPanel();GD.srch._setLocation(b,d,h,a,c,g,i);a.parents("form:first").data("disambigOk",!0);e()};GD.srch._handleAllLocationSelect=function(a,b,c,d,g){GD.srch._removeLocDisambigPanel();GD.srch._setLocation("","","",a,b,c,d);a.parents("form:first").data("disambigOk",!0);"function"===typeof g&&g()};GD.srch._setLocation=function(a,b,c,d,g,h,i){d&&d.val(a);g&&h&&(g.val(b),h.val(c));i&&(b&&c?i.val(b+","+c):i.val(""))};
GD.srch._onLocDisambigPanelClose=function(a){a.focus().select()};GD.srch._installPlaceholder=function(a){GD.aug&&"function"===typeof GD.aug.augmentPlaceholderField&&GD.aug.augmentPlaceholderField(a)};GD.srch._uninstallPlaceholder=function(a){GD.aug&&"function"===typeof GD.aug.uninstallPlaceholders&&GD.aug.uninstallPlaceholders(a)};window.GD=window.GD||{};GD.site=GD.site||{};GD.hdr=GD.hdr||{};GD.site.COOKIE_NAME_FORCE_UNCOMPRESSED="gdTesterOverride_forceUncompressed";GD.site.COOKIE_NAME_FORCE_MOBILE="gdTesterOverride_forceMobile";GD.site.READY="ready";GD.site.closeCompletedAction=function(){$("#CompletedAction").hide("blind");return!1};
GD.site.initFbSigninCTA=function(){var a=!1;GD.runOnFacebookLoad(function(){GD.fb.getFbLoginStatus(function(b){a||(a=!0,"connected"==b||"not_authorized"==b?GD.site.initFbFacepilePlugin():GD.site.initFbSigninCTALink())},!0)})};GD.site.initFbFacepilePlugin=function(){$("div.fbSigninCTAWrapper").addClass("facepileView");$("div.fbFacepilePluginWrapper").show(25)};
GD.site.initFbSigninCTALink=function(){$(".fbSigninCTA a.link").on("click keypress",function(){var a=$(".fbSigninCTA div.fbSigninCTALink"),b=$(".fbSigninCTA ul.fbSigninCTAList");a.hide(25);b.show(25);return!1});$(".fbSigninCTA div.fbSigninCTALink").show(25)};GD.site.initGdSigninOptionLink=function(a){var b=$("#CreateAccountForm");if("1"===a||!$("#actionErrorBlock").hasClass("hidden"))b.show(500);else $(".gdSigninOptionLink").on("click keypress",function(){b.is(":hidden")?b.show(500):b.hide(500)})};
GD.site.onHeaderTabClick=function(a){GD.aug.uninstallPlaceholders($("#SiteSrchAdvForm input[placeholder],#SiteSearchTop form.siteSrchForm input[placeholder]"));var b=$(a.target),c=b.data("searchUrl"),e=$("#SiteSearchTop form.siteSrchForm"),d=$("input.keyword",e).val();if(c&&d){var f="";d&&(f="sc.keyword="+encodeURIComponent(d).trim());0<f.length&&(f+="&");f+="clickSource=tab";b.closest("li").hasClass("jobs")&&(b=$(".locType",e).val(),e=$(".locId",e).val(),0<f.length&&(f+="&"),b&&(f+="&locT="+b.trim()),
b&&(f+="&locId="+e.trim()));c.contains("?")?GD.dom.clearWindowAndRedirect(c+"&"+f,"_top"):GD.dom.clearWindowAndRedirect(c+"?"+f,"_top");a.preventDefault()}};GD.site.relocateFooterText=function(){var a=$("#AboutPage"),b=$("#AboutPageWrapper");a.length&&b.length&&(b.append(a),a.show())};"undefined"==typeof GD.ssSorts&&(GD.ssSorts={});
GD.ssSorts.advancedSalarySortsLimited=[{label:"Relevance (by Company)",key:"MV",ascending:!1},{label:"Relevance (by Job Title)",key:"JR",ascending:!1},{label:"# of Salaries",key:"MC",ascending:!1}];GD.ssSorts.advancedSalarySorts=[{label:"Relevance (by Company)",key:"MV",ascending:!1},{label:"Relevance (by Job Title)",key:"JR",ascending:!1},{label:"# of Salaries",key:"MC",ascending:!1},{label:"Avg. Salary (high to low)",key:"AS",ascending:!1},{label:"Avg. Salary (low to high)",key:"AS",ascending:!0}];
GD.ssSorts.advancedEmployerSorts=[{label:"Relevance",key:"MV",ascending:!1},{label:"# of Reviews",key:"MC",ascending:!1},{label:"Overall Rating (high to low)",key:"OR",ascending:!1},{label:"Overall Rating (low to high)",key:"OR",ascending:!0},{label:"CEO Approval Rating (high to low)",key:"CR",ascending:!1},{label:"CEO Approval Rating (low to high)",key:"CR",ascending:!0}];
GD.ssSorts.advancedInterviewSorts=[{label:"Relevance",key:"MV",ascending:!1},{label:"Most Answers",key:"MC",ascending:!1},{label:"Date Posted + Helpful",key:"DH",ascending:!1},{label:"Date Posted (new to old)",key:"RD",ascending:!1},{label:"Date Posted (old to new)",key:"RD",ascending:!0}];GD.hdr._srchButtonLabel={SALARIES:"Search Salaries",REVIEWS:"Search Companies",INTERVIEWS:"Search Interviews",JOBS:"Search Jobs"};
GD.hdr._srchSiteSection={SALARIES:"SALARY",REVIEWS:"EMPLOYER",INTERVIEWS:"INTERVIEW",JOBS:"JOBS"};GD.hdr._srchOpts={};GD.hdr._inSubmit=!1;
GD.hdr.initSiteSearch=function(a,b,c){var e=$("body").is(".part");c&&!e&&GD.hdr.initLocAC();var d=$("form.siteSrchForm").not(".ready"),f=$(d[0]).closest("#SiteSrchHome").length>0;d.each(function(){var d=$(this);d.find(".advancedSearchLink").on("click",function(a){a.preventDefault();GD.hdr.toggleSiteSrchAdv()});if(e)d.find("select.dropkick").on("change",function(){var a=$(this);GD.hdr._onSrchTypeChange(d,a.val(),c,e)});else{var h={theme:f?"gd-large":"gd",change:function(a){GD.hdr._onSrchTypeChange(d,
a,c,e)}};d.find("select.dropkick").dropkick(h)}d.find("input[type=text]").on("keypress",function(a){return GD.hdr._onKeyPress(a,d)});var h=d.find("input.loc"),i=d.find("input.locType"),j=d.find("input.locId"),k=d.find("span.locPosPt"),l=h.outerHeight()+2,m=h.outerWidth()-2;GD.srch.initLocDisambig(h,i,j,null,k,l,4,m,a==="Bottom",b||e,function(){return GD.hdr._onSubmitSiteSrch(d)});d.find("button.gd-button").on("click",function(){GD.hdr._onSubmitSiteSrch(d)});d.addClass("ready")})};
GD.hdr.initAdvSiteSearch=function(a){GD.hdr._srchOpts=a};
GD.hdr._onSrchTypeChange=function(a,b,c,e){var d=$("option:selected",a),f=d.data("placeholder"),g=d.data("subtitle"),d=d.data("zipcodesOk");GD.aug.changePlaceholderText($("input.keyword",a),f);a.data("zipcodesOk",d);f=$("input.keyword",a);d=$("input.loc",a);if(!e)if(b=="/GD/Job/jobs.htm"){f.autocomplete("enable");c&&d.autocomplete("enable")}else{f.autocomplete("option","disabled","true");c&&d.autocomplete("option","disabled","true")}g&&$("#SiteSrchHome p.subtitle").html(g);a.attr("action",b)};
GD.hdr._onSubmitSiteSrch=function(a){var b=true;GD.aug.uninstallPlaceholders($("input[placeholder]",a));jQuery.isFunction(a[0].onsubmit)&&(b=a[0].onsubmit());b&&a.submit();return false};GD.hdr._onKeyPress=function(a,b){if(a.keyCode==13){GD.wait().then(function(){GD.hdr._onSubmitSiteSrch(b)});return false}return true};
GD.hdr.initLocAC=function(){var a=$("form.siteSrchForm"),b=GD.util.getAjaxUrlRespectingSecurity(GD.ajax.jsonUrls.ANY_LOCATION_AUTOCOMPLETE),c=$("input.loc",a),e=$("input.locType",a),d=$("input.locId",a);c.autocomplete({minLength:2,delay:100,source:function(a,c){$.getJSON(b+"?maxLocationsToReturn=10",{term:a.term},function(a){c($.map(a,function(a){return{label:a.label,value:a.locationType+"_"+a.locationId}}))})},create:function(){var a=c.data("autocomplete");c.addClass("glassdoorAC");a.menu.element.addClass("location-ac-results");
a.menu.element.attr("id","LocText_ACPopup")},focus:function(a,b){var c=b.item.value.split("_"),i=c[1];e.val(c[0]);d.val(i);return false},select:function(a,b){var h=b.item.value.split("_"),i=h[1];e.val(h[0]);d.val(i);c.val(b.item.label);return false},open:function(){$("#LocText_ACPopup",a).addClass("ui-autocomplete-opened locationTermAutoComplete");$(this).autocomplete("widget").css("z-index","100");return true},close:function(){c.removeClass("ui-autocomplete-opened")}}).data("autocomplete")._renderItem=
function(a,b){return GD.ajax.formatACItem(c,a,b)}};
GD.hdr.initSrchAC=function(a){if(!$("body").is(".part")){var b=$("form.siteSrchForm"),c=$("input.typedKey",b),e=$("input.keyword",b),a=a=="JOBS"?false:true;e.on("keydown",function(a){var b=$.ui.keyCode;(a.keyCode==b.UP||a.keyCode==b.DOWN)&&c.val()==""&&c.val(e.val())});$("select.url option:selected");e.autocomplete({disabled:a,create:function(){var a=e.data("autocomplete");e.addClass("glassdoorAC");a.menu.element.attr("id","SrchKey_ACPopup")},open:function(){$("#SrchKey_ACPopup").addClass("ui-autocomplete-opened jobTermAutoComplete");$(this).autocomplete("widget").css("z-index",
"100");return true},source:function(a,b){jQuery.ajax({url:"findSearchTermAjax.htm",data:{siteSection:"jobs",countryId:2,term:a.term},dataType:"json",success:function(a){var c=[];$.each(a,function(a,b){c.push({value:b,label:b})});return b(c)},error:function(){}})},select:function(){c.val()==""&&c.val(e.val())}}).data("autocomplete")._renderItem=function(a,b){return GD.ajax.formatACItem(e,a,b)}}};
GD.hdr.onSiteSrchAdvSubmit=function(){if(!GD.hdr._inSubmit){var a=$("#SiteSrchAdvForm");GD.hdr._setSiteSrchAdvFormAction();GD.aug.uninstallPlaceholders($("input[placeholder]",a));GD.hdr.onSiteSrchAdvUserSubmit()?GD.hdr.doSiteSrchAdvSubmit():GD.aug.augmentPlaceholders($("input[placeholder]",a))}return false};
GD.hdr.onSiteSrchAdvKeyPress=function(a){var b=true;if(GD.event.fixEvent(a).keyCode===13){GD.hdr._setSiteSrchAdvFormAction();if(GD.hdr.onSiteSrchAdvUserSubmit()){GD.hdr._inSubmit=true;GD.wait().then(GD.hdr.doSiteSrchAdvSubmit)}b=false}return b};GD.hdr._setSiteSrchAdvFormAction=function(){var a=$("#SiteSrchAdvForm"),b=$("#SiteSrchAdvType",a);b.length&&a.length&&a.attr("action",b.val())};
GD.hdr.onSiteSrchAdvUserSubmit=function(){var a=$("#SiteSrchAdvCountry option:selected").val(),b=$("#SiteSrchAdvCity").val(),c=$("#SiteSrchAdvCityId").val();b&&(b=b.trim());if(b&&!c){if(a>0){GD.hdr.clearSiteSearchErrors();if(c=id("SiteSrchAdvNoCityIdWait"))c.style.display="block";GD.hdr.siteSearchRequestMatchingCities(a,b)}else{$("#CountryNotSpecifiedError").show();GD.hdr.setSiteSrchAdvFieldPrompts()}return false}a=$("#SiteSrchAdvForm input[placeholder]");GD.aug.uninstallPlaceholders(a);return true};
GD.hdr.doSiteSrchAdvSubmit=function(){GD.hdr.closeSiteSrchAdv();id("SiteSrchAdvForm").submit();GD.dom.clearPage()};GD.hdr._onSiteSrchAdvTypeChange=function(){var a=$("#SiteSrchAdvType option:selected");if(a.length){var b=a.attr("siteSection");a.val();GD.hdr._setSiteSrchAdvSorts(GD.hdr._srchSiteSection[b],null);GD.hdr.showTagsField(b==="INTERVIEWS");a=$("#SiteSrchAdvForm .buttons .gd-btn");GD.btn.label(a,GD.hdr._srchButtonLabel[b])}};
GD.hdr._setSiteSrchAdvSorts=function(a,b){var c=$("#SiteSrchAdvSort"),e=$("#SiteSrchAdvIndustryRow");if(a=="JOBS"){c.children().remove();$("#SiteSrchAdvSortsRow").hide();$("#SiteSrchAdvSortJobsRow").show();e.hide();$("select option:first",e).attr("selected","selected")}else{var d;typeof b!=="string"&&(b=null);if(!b){var f=$("#SiteSrchAdvDefaultType"),g=$("#SiteSrchAdvDefaultSort");if(f&&g){f=f.html();a===f&&(b=g.html())}}if(GD.ssSorts)if(a=="SALARY"&&GD.hdr._srchOpts.hasSalaryAccess&&GD.ssSorts.advancedSalarySorts)d=
GD.ssSorts.advancedSalarySorts;else if(a=="SALARY"&&GD.ssSorts.advancedSalarySortsLimited)d=GD.ssSorts.advancedSalarySortsLimited;else if(a=="EMPLOYER"&&GD.ssSorts.advancedEmployerSorts)d=GD.ssSorts.advancedEmployerSorts;else if(a=="INTERVIEW"&&GD.ssSorts.advancedInterviewSorts)d=GD.ssSorts.advancedInterviewSorts;if(c.length&&d){c.children().remove();for(g=0;g<d.length;g++){var f=d[g].key+"-"+d[g].ascending.toString(),h=$("<option value='"+f+"'>");h.text(d[g].label);f==b&&h.attr("selected","selected");
c.append(h)}}c.dropkick("reload");e.show();$("#SiteSrchAdvSortJobsRow").hide();$("#SiteSrchAdvSortsRow").show()}GD.hdr.onSiteSrchAdvSortChange()};GD.hdr.onSiteSrchAdvSortChange=function(){var a=$("#SiteSrchAdvSortType"),b=$("#SiteSrchAdvSortAscending"),c=$("#SiteSrchAdvSort option:selected").val();if(c){c=c.split("-");a.val(c[0]);b.val(c[1])}};
GD.hdr._onSiteSrchAdvCountryChange=function(a){var b=$("#SiteSrchAdvCityRow");if(a==0){$("#SiteSrchAdvCity").val();$("#SiteSrchAdvCityId").val();b.hide()}else b.show();GD.hdr.clearSiteSearchErrors()};GD.hdr.onSiteSrchAdvCityKeyPress=function(){GD.hdr.clearSiteSearchErrors()};
GD.hdr.resetSiteSrchAdv=function(a){GD.hdr.clearSiteSearchErrors();$("#SiteSrchAdvJob").val("");$("#SiteSrchAdvCompany").val("");$("#SiteSrchAdvTags").val("");GD.hdr.setSiteSrchAdvFieldPrompts();$("#SiteSrchAdvIndustry").dropkick("select",0);a||$("#SiteSrchAdvCountry").dropkick("select",0);var b=$("#SiteSrchAdvCity");if(!a){b.val("");$("#SiteSrchAdvCityId").val("");$("#SiteSrchAdvCityRow").hide()}$("#SiteSrchAdvSort").dropkick("select",0);GD.hdr._onSiteSrchAdvTypeChange()};
GD.hdr.clearSiteSearchErrors=function(){$("#CountryNotSpecifiedError").css("display","none");$("#LocAjaxError").css("display","none");$("#SiteSrchAdvNoCityIdWait").css("display","none");$("#SiteSrchAdvLocCityNotFound").css("display","none");$("#CityDisambig").css("display","none")};GD.hdr.setSiteSrchAdvFieldPrompts=function(){$("#SiteSrchAdvCity")};GD.hdr.showTagsField=function(a){var b=$("#SiteSrchAdvTagsRow");a?b.show():b.hide()};
GD.hdr._onSiteSrchAdvCityDisambigChange=function(){var a=id("SiteSrchAdvCityDisambigSelect"),a=a.options[a.selectedIndex],b=id("SiteSrchAdvCityId");if(a.value>0){var c=id("SiteSrchAdvCity");b.value=a.value;c.value=a.text}else b.value=""};GD.hdr.siteSearchRequestMatchingCities=function(a,b){jQuery.ajax({url:"findCityAjax.htm",data:{partialWordMode:true,maxCitiesToReturn:15,countryId:a,q:b},dataType:"text",success:function(a){GD.hdr.siteSrchLocHandler(a)},error:function(){GD.hdr.siteSrchLocHandler(null)}})};
GD.hdr.siteSrchLocHandler=function(a){GD.hdr.clearSiteSearchErrors();if(a){var b=a.split("\n");if(b.length==1){var a=b[0].split(""),b=$("#SiteSrchAdvCity"),c=$("#SiteSrchAdvCityId");b.val(a[0]);c.val(a[1]);GD.hdr.doSiteSrchAdvSubmit()}else if(b.length==0)$("#SiteSrchAdvLocCityNotFound").css("display","block");else{var c=$("#SiteSrchAdvCityDisambigSelect"),e;if(c.length){c[0].options.length=1;for(e=0;e<b.length;e++){var a=b[e].split(""),d=document.createElement("option");d.text=a[0];d.value=a[1];
c[0].options[c[0].options.length]=d}c[0].selectedIndex=0;$("#CityDisambig").css("display","block")}}}else if(a=id("LocAjaxError"))a.style.display="block"};GD.hdr.removeCobrand=function(){var a=$("#CobrandBanner");a.css("border-bottom-width",0);a.animate({height:0},{duration:300,easing:"easeOutQuad",complete:function(){a.hide().remove()}});jQuery.post("/removeCobrand.htm");return false};GD.hdr.PAGE_SEARCH_BAR_HEIGHT_CLOSED=50;GD.hdr.SHOW_HIDE_SEARCH_FORM_SECONDS=0.2;
GD.hdr.SHOW_HIDE_SEARCH_BAR_SECONDS=0.4;GD.hdr.SHOW_HIDE_ADV_SEARCH_FORM_SECONDS=0.4;GD.hdr.toggleSiteSrchAdv=function(){var a=$("#SiteSrchAdv"),b=false;a.length&&(b=a.is(":visible"));b?GD.hdr.animateCloseSiteSrchAdv():a.length?GD.hdr._animOpenSiteSrchAdv():GD.hdr.loadSiteSrchAdv()};
GD.hdr.loadSiteSrchAdv=function(){var a=GD.util.getAjaxUrlRespectingSecurity("/parts/siteSearchAdvanced.htm");jQuery.ajax({url:a,data:GD.hdr._srchOpts,dataType:"text",success:function(a){GD.hdr._onLoadSiteSrchAdvComplete(a,null)},error:function(a){GD.hdr._onLoadSiteSrchAdvComplete(null,a.statusText)}})};
GD.hdr._onLoadSiteSrchAdvComplete=function(a,b){if(a){var c=$("<div>").html(a);$("body").append(c);var c=$("#SiteSrchAdvForm"),e={theme:"gd-small",width:220};$("#SiteSrchAdvIndustry").dropkick(e);e.change=GD.hdr._onSiteSrchAdvTypeChange;$("#SiteSrchAdvType").dropkick(e);e.change=GD.hdr._onSiteSrchAdvCityDisambigChange;$("#SiteSrchAdvCityDisambigSelect").dropkick(e);e.change=GD.hdr._onSiteSrchAdvCountryChange;$("#SiteSrchAdvCountry").dropkick(e);GD.hdr._initAdvSort();c.find(".submit").on("click",function(a){a.preventDefault();
GD.hdr.onSiteSrchAdvSubmit()});c.find(".link.reset").on("click",function(a){a.preventDefault();GD.hdr.resetSiteSrchAdv()});c.find(".link.cancel").on("click",function(a){a.preventDefault();GD.hdr.toggleSiteSrchAdv()});c.find("input[type=text]").on("keypress",function(a){return GD.hdr.onSiteSrchAdvKeyPress(a)});GD.aug.augmentPlaceholderField("#SiteSrchAdvTags");GD.aug.augmentPlaceholderField("#SiteSrchAdvCompany");GD.aug.augmentPlaceholderField("#SiteSrchAdvCity");GD.aug.augmentPlaceholderField("#SiteSrchAdvJob");
(c=$("#SiteSrchAdvDefaultSort").html())?GD.hdr._setSiteSrchAdvSorts(GD.hdr._srchOpts.primarySearchType,c):GD.hdr._setSiteSrchAdvSorts(GD.hdr._srchOpts.primarySearchType,"MV-false");GD.ajax.createLocationAutoComplete($("#SiteSrchAdvCountry"),$("#SiteSrchAdvCity"),$("#SiteSrchAdvCityId"),null,$("#SiteSrchAdvCityRow"))}else{var c=$("<div>").attr("id","SiteSrchAdv").addClass("error"),e=$("<p>").addClass("errorMessage"),d="Advanced site search is currently unavailable.  Please check back later.";b&&(d=
d+("<br/>("+b+")"));e.html(d);c.append(e);$("body").append(c)}GD.hdr._animOpenSiteSrchAdv()};GD.hdr._initAdvSort=function(){var a={theme:"gd-small",width:220,change:GD.hdr.onSiteSrchAdvSortChange};$("#SiteSrchAdvSort").dropkick(a)};GD.hdr._animOpenSiteSrchAdv=function(){GD.userAlert&&jQuery.isFunction(GD.userAlert.closeDrawer)&&GD.userAlert.closeDrawer();$("#SiteSearchTop").after($("#SiteSrchAdv"));GD.hdr._animShowSiteSrchAdvForm()};
GD.hdr.closeSiteSrchAdv=function(){var a=$("#SiteSrchAdv");a.length&&a.css({height:0,display:"none"});a=$("#SiteSearchTop");if(a.length){a[0].className="activeSearchBar";a.css("height",""+GD.hdr.PAGE_SEARCH_BAR_HEIGHT_CLOSED+"px")}};GD.hdr.animateCloseSiteSrchAdv=function(){$("#SiteSrchAdv").is(":visible")&&GD.hdr._animHideSiteSrchAdvForm()};GD.hdr._animHideSearchForm=function(){var a=$("#SiteSearchTop");$("form",a).hide();a.hide()};
GD.hdr._animShowSiteSrchAdvForm=function(){var a=$("#SiteSrchAdv");$("#SiteSrchAdvType").dropkick("select",$("#SrchSelectTop").val());GD.hdr._onSiteSrchAdvTypeChange();GD.hdr._animHideSearchForm();a.css({display:"none",height:"auto"}).show("blind");GD.hdr.onAnimateShowSiteSrchAdvComplete()};GD.hdr._animHideSiteSrchAdvForm=function(){var a=$("#SiteSearchTop"),b=$("#SiteSrchAdv");if(b.is(":visible")&&!a.is(".homeSearchBar")){b.hide();GD.hdr.animateShowSiteSearch()}};
GD.hdr.onAnimateShowSiteSrchAdvComplete=function(){var a=id("SiteSrchAdvType");a&&a.focus();GD.hdr.resetSiteSrchAdv(true)};GD.hdr.animateShowSiteSearch=function(){var a=$("#SiteSearchTop"),b;a.height(GD.hdr.PAGE_SEARCH_BAR_HEIGHT_CLOSED);b=a.find("form");a.show();b.show()};GD.userAlert=GD.userAlert||{};GD.userAlert.drawerSpeed=600;GD.userAlert.tabSpeed=800;GD.userAlert.textSpeed=400;GD.userAlert.tabHeightOpen=19;GD.userAlert.tabHeightClose=18;GD.userAlert.tabEasing="easeInOutExpo";
GD.userAlert.openDrawer=function(a){typeof a!=="boolean"&&(a=false);GD.header&&typeof GD.hdr._animHideSiteSrchAdvForm==="function"&&GD.hdr._animHideSiteSrchAdvForm();a&&jQuery.scrollTo({top:0,left:0,axis:"yx",easing:"easeInOutExpo",queue:false});$("#UserAlertDrawer").prev().attr("id")!="UserAlertBar"&&$("#UserAlertBar").after($("#UserAlertDrawer"));$("#UserAlertDrawer").show("blind",null,GD.userAlert.drawerSpeed);$("#UserAlertBar .openDrawer").hide();$("#UserAlertBar .closeDrawer").show();return false};
GD.userAlert.closeDrawer=function(){if($("#UserAlertDrawer").is(":visible")){$("#UserAlertDrawer").hide("blind",{},GD.userAlert.drawerSpeed);$("#UserAlertBar .closeDrawer").hide();$("#UserAlertBar .openDrawer").show()}return false};GD.userAlert.closePopup=function(){$("#GenericPopupFrame").fadeOut(150,GD.userAlert._closePopupBackground);return false};GD.userAlert._closePopupBackground=function(){GD.wait().then(function(){$("#ModalScreen").fadeOut(400,function(){$(this).remove()})})};
GD.userAlert.enable=function(){$(".closeDrawer").click(GD.userAlert.closeDrawer);$(".openDrawer").click(GD.userAlert.openDrawer)};GD.userAlert.ERR_EMAIL_INVALID="Please enter a valid email address";GD.userAlert.ERR_AJAX="Your request could not be completed.  Please try again.";
GD.userAlert.sendValidationEmail=function(){GD.userAlert._setValidationEmailErrorMessage(null);var a=$("#ResendActivationEmailAddress").val();if(a&&a.trim()){jQuery.ajax({url:"/unvalidatedAccount/sendValidationEmailJson.htm",data:{email:a},dataType:"json",success:function(a){GD.userAlert._sendValidationEmailComplete(a)},error:function(){GD.userAlert._sendValidationEmailComplete(null)}});$("#ResendActivationPlaceholder").css("display","none");$("#ResendActivationSpinner").css("display","inline")}else GD.userAlert._setValidationEmailErrorMessage(GD.userAlert.ERR_EMAIL_INVALID)};
GD.userAlert._sendValidationEmailComplete=function(a){if(a!=null)if(a.errorMessage)GD.userAlert._setValidationEmailErrorMessage(a.errorMessage);else{GD.aug.closeAllToggleItems();GD.userAlert._setValidationEmailErrorMessage(null);if(!a.email)a.email="your email address";$("#ActivateNeededBlock .emailAddress").html(a.email);$("#ResendActivationEmailAddress").val("");$("#ActivateNeededBlockInitial").css("display","none");$("#ActivateNeededBlockResent").css("display","block")}else GD.userAlert._setValidationEmailErrorMessage(GD.userAlert.ERR_AJAX);
$("#ResendActivationSpinner").css("display","none");$("#ResendActivationPlaceholder").css("display","inline")};GD.userAlert._setValidationEmailErrorMessage=function(a){var b=$("#SendActivationEmailForm .fieldError"),c=$("#SendActivationEmailForm p.stopIcon");if(a){c.html(a);b.css("display","block")}else{c.html("");b.css("display","none")}};window.GD=window.GD||{};GD.site.loginPopup=GD.site.loginPopup||{};
new function(){var a=document.location.port;a.length>0&&(a=":8443");GD.site.loginPopup.AJAX_ROOT="https://"+document.location.hostname+a};GD.site.loginPopup.AJAX_GD_LOGIN_URL="/profile/ajax/loginAjax.htm";GD.site.loginPopup.AJAX_GD_SIGNUP_URL="/profile/ajax/joinNowAjax.htm";GD.site.loginPopup.AJAX_GD_FORGOT_PWD_URL="/profile/ajax/forgotPasswordAjax.htm";GD.site.loginPopup.AJAX_FB_LOGIN_URL="/profile/ajax/socialUserLoginAjax.htm";GD.site.loginPopup.AJAX_FB_SIGNUP_URL="/profile/ajax/createSocialNetworkAccountAjax.htm";
GD.site.loginPopup.tabs=function(a,b,c,e,d,f,g){this.name=a;this.parentClass=b;this.statusText=c;this.$spinner=e.find(".loginPopupSpinner");this.$status=e.find(".ajaxStatus span");this.$result=e.find("."+b+" .ajaxResult");this.$resultMsg=this.$result.find("span");this.showStatus=function(){this.$status.html(this.statusText)};this.clearStatus=function(){this.$status.html("")};this.init=function(){d()};this.hasValidation=f;this.validateOptions=g;this.doFormValidate=function(){if(this.hasValidation){var a=
e.find("."+this.validateOptions.formName).parent(),b=this.$result,c=this.$resultMsg;b.slideUp("fast");c.html("");return GD.util.validateForm(a,g,function(a){if(!a.success){b.slideDown("fast");c.html($.trim(a.error.system+" "+a.error.required+" "+a.error.email+" "+a.error.identical))}})}return true}};GD.site.loginPopup.initMiscComponents=function(a){GD.site.loginPopup.$closeAjaxResult=a.find(".ajaxResult .closeBox");GD.site.loginPopup.$closeAjaxResult.on("click",function(){$(this).parent().slideUp()})};
GD.site.loginPopup.initContainers=function(a,b){GD.site.loginPopup.SIGNIN_TAB=new GD.site.loginPopup.tabs("login","sign-in-tab","Signing you in...",a,function(){$signIn=a.find(".loginDlgSignInBtn");$signInEmail=a.find("input.signin-email");$signInPass=a.find("input.signin-password");$remember=a.find("input.remember");$signIn.on("click",function(){var a={};a.username=encodeURI($.trim($signInEmail.val()));a.password=$signInPass.val();a.rememberMe=$remember.attr("checked");GD.site.loginPopup._doGDLogin(a,
b)});$($signInEmail).add($signInPass).keypress(function(a){a.which==13&&$signIn.click()})},true,{formName:"signInForm",required:["signin-email","signin-password"],requiredErr:"Email and Password are mandatory."});GD.site.loginPopup.SIGNUP_TAB=new GD.site.loginPopup.tabs("signup","create-account-tab","Registering...",a,function(){$signUp=a.find(".loginDlgSignUpBtn");$signUpEmail=a.find("input.signup-email");$signUpPass=a.find("input.signup-password");$signUpVPass=a.find("input.signup-vpassword");$signUp.on("click",
function(){var a={};a.email=encodeURI($.trim($signUpEmail.val()));a.password=$signUpPass.val();a.passwordConfirm=$signUpVPass.val();GD.site.loginPopup._doGDSignup(a,b)});$($signUpEmail).add($signUpPass).add($signUpVPass).keypress(function(a){a.which==13&&$signUp.click()})},true,{formName:"signUpForm",required:["signup-email","signup-password","signup-vpassword"],identical:["signup-password","signup-vpassword"],requiredErr:"Email and Password are mandatory.",identicalErr:"Passwords should match."});
GD.site.loginPopup.FB_SIGNIN_TAB=new GD.site.loginPopup.tabs("fb","fb-sign-in-tab","Signing you in...",a,function(){var c=a.find(".fbSigninBtnLink, .facebookLoginBtn, .facebookJoinNowBtn, .fbLoginBtnOK");c.off("click");c.on("click",function(a){var a=$(a.target).closest("span.fbLoginBtnOK"),c="",f="";a.attr("data-onloginurl")&&(c=a.attr("data-onloginurl"));a.attr("data-postloginurl")&&(f=a.attr("data-postloginurl"));GD.site.loginPopup._doFBLogin(c,f,b)})},false,null);GD.site.loginPopup.FORGOT_PASS_TAB=
new GD.site.loginPopup.tabs("reset","sign-in-tab","Please wait...",a,function(){$reset=a.find(".loginDlgResetBtn");$signInEmail=a.find("input.signin-email");$backToSignIn=a.find(".back-to-signin");$forgotPass=a.find(".forgot-password");$forgotPass.on("click",function(){a.find(".block-signin").hide("slide",{direction:"left"},200,function(){a.find(".block-forgot").show("slide",{direction:"right"},300)})});$backToSignIn.on("click",function(){a.find(".block-forgot").hide("slide",{direction:"right"},200,
function(){a.find(".block-signin").show("slide",{direction:"left"},300)})});$reset.on("click",function(){var a={};a.emailAddress=encodeURI($.trim($signInEmail.val()));GD.site.loginPopup._doResetPass(a,null)})},true,{formName:"signInForm",required:["signin-email"],requiredErr:"Email is mandatory.",emailCheck:["signin-email"]})};
GD.site.loginPopup.createDialog=function(a,b,c){var e=$(".loginDlgSource").clone();e.removeClass("hidden");e.find(".heading").html(a);e.find(".sub-heading").html(b);e.find(".create-account-tab").attr("id","gd-popup-create-account");e.find(".sign-in-tab").attr("id","gd-popup-sign-in");GD.site.loginPopup.initContainers(e,c);GD.site.loginPopup.initMiscComponents(e);jQuery.isFunction(c)&&Logger.info("Callback to Sign-In method is a function");GD.site.loginPopup.showDialog(e)};
GD.site.loginPopup.showDialog=function(a){GD.dialogManager.addCustomDialog(a,755,true,false,true,function(){GD.site.loginPopup.closeDialog(a)},"loginDlg",function(){a.find(".signInTabs").tabs({active:0});a.find("label.linkify").on("click",function(){$cb=$(this).siblings("input:checkbox");$cb.attr("checked",!$cb.attr("checked"))});GD.site.loginPopup.SIGNIN_TAB.init();GD.site.loginPopup.SIGNUP_TAB.init();GD.site.loginPopup.FB_SIGNIN_TAB.init();GD.site.loginPopup.FORGOT_PASS_TAB.init()},null,true)};
GD.site.loginPopup.closeDialog=function(){setTimeout(function(){GD.dialogManager.closeAllDialogs()},600)};
GD.site.loginPopup._doFBLogin=function(a,b,c){function e(a){if(a)d.url=GD.site.loginPopup.AJAX_ROOT+a;GD.site.loginPopup._doAjaxLoginSignup(d,f,g,h,GD.site.loginPopup.FB_SIGNIN_TAB)}var d={url:GD.site.loginPopup.AJAX_ROOT+GD.site.loginPopup.AJAX_FB_SIGNUP_URL},f=function(){},g=function(){},h=function(a){a&&jQuery.isFunction(c)&&c()};try{FB.login(function(c){GD.fb._onFacebookLogin(c,a,b,false,e)},{scope:"email,user_location,friends_location,user_birthday,friends_birthday,user_education_history,friends_education_history,user_work_history,friends_work_history,publish_actions"})}catch(i){Logger.error("GD.site.loginPopup._doFBLogin: 'FB.getLoginStatus' threw message: "+
i)}};GD.site.loginPopup._doGDLogin=function(a,b){GD.site.loginPopup._doAjaxLoginSignup({url:GD.site.loginPopup.AJAX_ROOT+GD.site.loginPopup.AJAX_GD_LOGIN_URL,data:a},function(){},function(){},function(a){a&&jQuery.isFunction(b)&&b()},GD.site.loginPopup.SIGNIN_TAB)};GD.site.loginPopup._doGDSignup=function(a,b){GD.site.loginPopup._doAjaxLoginSignup({url:GD.site.loginPopup.AJAX_ROOT+GD.site.loginPopup.AJAX_GD_SIGNUP_URL,data:a},function(){},function(){},function(a){a&&jQuery.isFunction(b)&&b()},GD.site.loginPopup.SIGNUP_TAB)};
GD.site.loginPopup._doResetPass=function(a,b){GD.site.loginPopup._doAjaxLoginSignup({url:GD.site.loginPopup.AJAX_ROOT+GD.site.loginPopup.AJAX_GD_FORGOT_PWD_URL,data:a},function(){},function(){},function(a){a&&jQuery.isFunction(b)&&b()},GD.site.loginPopup.FORGOT_PASS_TAB)};
GD.site.loginPopup._doAjaxLoginSignup=function(a,b,c,e,d){a=$.extend({},{dataType:"jsonp",traditional:true,type:"GET",beforeSend:function(){d.$spinner.show();d.$result.slideUp();d.showStatus();b()},complete:function(){d.$spinner.hide();d.clearStatus();c()},success:function(a){d.$spinner.hide();var b=true;if(a){a.result==null&&(b=false);if(b)switch(a.result){case "input":d.$result.slideDown();d.$resultMsg.html(a.message[0]);break;case "success":case "redirect":case "redirectAfterIncludeThem":case "member-home":case "matchGlassdoorAccount":case "linkAccountsPermissions":case "savedRequestDispatcher":case "sendValidationEmail":if(d.name==
"reset"){d.$result.slideDown();d.$resultMsg.html("Please check your email for the Reset Password link.")}else GD.site.loginPopup.closeDialog();jQuery.isFunction(e)&&e(b,a)}else{d.$result.slideDown();d.$resultMsg.html(a.message.length>0?a.message[0]:"Error. Please try again!")}}else Logger.error("No response object returned")},error:function(a){Logger.inspect(a,"GD.site._doAjaxLoginSignup() error");d.$spinner.hide();d.$result.slideDown();d.$resultMsg.html("Error. Please try again!")}},a);d.hasValidation?
d.doFormValidate()&&jQuery.ajax(a):jQuery.ajax(a)};window.GD=window.GD||{};GD.analytics=GD.analytics||{};GD.analytics.GWO_ACCOUNT="UA-2595786-5";GD.analytics.showPageInfoPopup=function(){var a=$("#DebugInfoPopup");if(a.length){var d=a.parent();d.fadeIn("normal",function(){d.scrollTo("#DebugInfoPopup")})}else a=$(".pageInfo").clone(),a.attr("id","DebugInfoPopup").css("display","block"),a.dialog({title:"Page Info",draggable:!0,width:978,height:180,position:"bottom"})};
GD.analytics.trackPageView=function(a,d){try{_gaq&&(window.googleId&&_gaq.push(["_setAccount",window.googleId]),_gaq.push(["_trackPageview",a]));var b=$(".pageInfo .webAnalyticsPageList",d);if(b.length){var e=b.html().trim();b.html(e+("<br/>"+a))}Logger.info("Tracking: "+a)}catch(h){Logger.warn("Exception while tracking '"+a+'": '+h)}};GD.analytics.trackPartnerShare=function(a,d){GD.analytics.trackPageView("/partner/share/"+a,d)};
GD.analytics.trackPartnerAuth=function(a,d){GD.analytics.trackPageView("/partner/auth/"+a+"/"+(d?"link":"delink"))};
GD.analytics.trackEvent=function(a,d,b,e,h){var c=a+": "+d;try{_gaq&&(window.googleId&&_gaq.push(["_setAccount",window.googleId]),_gaq.push(["_trackEvent",a,d,b,e]));var f=$(".pageInfo .webAnalyticsEventList",h);if(f.length){$("span.none",f).remove();var f=f.not("span.none"),g=f.html().trim();if(b||e)c+=" [",b&&(c+=b),e&&(b&&(c+=" "),c+="&times; "+e),c+="]";g&&(g+="<br/>");f.html(g+c);Logger.info("Event: "+c)}}catch(i){Logger.warn("Exception while tracking event '"+c+'": '+i)}return!0};
GD.analytics.trackGoal=function(a,d){try{_gaq&&(window.googleId&&_gaq.push(["_setAccount",window.googleId]),_gaq.push(["_trackPageview",a]));var b=$(".pageInfo .webAnalyticsGoalList",d);if(b.length){$("span.none",b).remove();var b=b.not("span.none"),e=b.html().trim();e&&(e+="<br/>");b.html(e+a);Logger.info("Goal! "+url)}}catch(h){Logger.warn("Exception while tracking '"+a+'": '+h)}};
GD.analytics.trackMvGoal=function(a){a||(a=window._gdMvTestGoalKey);a?(window._gaq=window._gaq||[],_gaq.push(["gwo._trackPageview","/"+a+"/goal"])):Logger.error("GD.analytics.trackMvGoal() called on page without <gd:mvTestGoal> tag.")};
GD.analytics.setTrackingVar=function(a,d,b,e,h){_gaq.push(["_setCustomVar",a,d,b,e]);GD.runAfterBody(function(){var c=$(".pageInfo .webAnalyticsCustomVars",h);if(c.length){var f=c.html().trim(),g;switch(e){case 1:g="visitor";break;case 2:g="session";break;case 3:g="page";break;default:g="UNKNOWN"}0<f.length&&(f+="<br/>");f+="("+a+") "+d+' = "'+b+'" ('+g+" scope)";c.html(f)}})};window.GD=window.GD||{};GD.socialSharing=GD.socialSharing||{};GD.socialSharing.LEFT_OFFSET=100;GD.socialSharing.TOP_OFFSET=2;GD.socialSharing.FLOATING_CLASS="floating";GD.socialSharing.FIXED_CLASS="fixed";GD.socialSharing.UPPER_MARGIN=20;GD.socialSharing.MIN_VISIBLE_WIDTH=1220;GD.socialSharing.BOUNCE_DIST=5;GD.socialSharing.BOUNCE_TIME=80;GD.socialSharing.isNarrowWindow=null;
GD.socialSharing.init=function(){var a=$("#SocialSharingBtns");GD.socialSharing.isNarrow()?a.remove():(GD.socialSharing.idealViewportTopOffset=a.offset().top,a.length&&($(window).resize(function(b){GD.socialSharing._resize(b,a)}),$(window).scroll(function(b){GD.socialSharing._scroll(b,a)}),$(window).resize(),$(window).scroll()))};
GD.socialSharing.initHeader=function(){var a=$(".employerHeader .h1,.employerHeader h1, #JobSearchResults h1");GD.socialSharing.isNarrow()?(a.addClass("narrowH1"),$(".employerHeader .shareContent,  #JobSearchResults .shareContent").show()):$(".employerHeader .shareContent").remove();a.removeClass("notShown")};
GD.socialSharing.isNarrow=function(){if("boolean"===typeof GD.socialSharing.isNarrowWindow)return GD.socialSharing.isNarrowWindow;GD.socialSharing.isNarrowWindow=!1;jQuery.browser.msie&&8>jQuery.browser.version?GD.socialSharing.isNarrowWindow=!0:$(window).width()<GD.socialSharing.MIN_VISIBLE_WIDTH&&(GD.socialSharing.isNarrowWindow=!0);return GD.socialSharing.isNarrowWindow};
GD.socialSharing._resize=function(a,b){var d=$(window).width();if(b.hasClass("fixed")){var c=b.parent().offset().left-GD.socialSharing.LEFT_OFFSET;b.css({left:c})}if(d>=GD.socialSharing.MIN_VISIBLE_WIDTH){if(b.hasClass("offScreen")&&(b.addClass("hidden"),b.removeClass("offScreen")),b.is(":hidden"))b.css({display:"none",opacity:1}),b.fadeIn(200,GD.socialSharing._onFadeInComplete)}else b.is(":visible")&&b.fadeOut(200)};
GD.socialSharing._onFadeInComplete=function(){if(jQuery.browser.msie){var a=$("#SocialSharingBtns"),a=$(".fbLikeButton iframe",a);a.length&&(a=a[0],a.src=a.src)}};
GD.socialSharing._scroll=function(a,b){var d=$(window).scrollTop(),c=b.offset().top-d,e=b.offset().left;b.hasClass(GD.socialSharing.FIXED_CLASS)?d<=GD.socialSharing.idealViewportTopOffset-GD.socialSharing.UPPER_MARGIN&&GD.socialSharing._floatSharingButtons(b,c,e):b.hasClass(GD.socialSharing.FLOATING_CLASS)&&c<GD.socialSharing.UPPER_MARGIN&&GD.socialSharing._fixSharingButtons(b,c,e)};
GD.socialSharing._fixSharingButtons=function(a,b,d){a.removeClass(GD.socialSharing.FLOATING_CLASS);a.addClass(GD.socialSharing.FIXED_CLASS);a.css({position:"fixed",top:b,left:d});b<GD.socialSharing.UPPER_MARGIN&&GD.socialSharing._bounceDownBtns(a,b)};GD.socialSharing._floatSharingButtons=function(a){a.removeClass(GD.socialSharing.FIXED_CLASS);a.addClass(GD.socialSharing.FLOATING_CLASS);a.css({position:"absolute",top:GD.socialSharing.TOP_OFFSET,left:-GD.socialSharing.LEFT_OFFSET})};
GD.socialSharing._bounceDownBtns=function(a,b){a.animate({top:b-GD.socialSharing.BOUNCE_DIST},GD.socialSharing.BOUNCE_TIME,"easeOutQuint",function(){GD.socialSharing._bounceDownBtns2(a)})};GD.socialSharing._bounceDownBtns2=function(a){a.animate({top:GD.socialSharing.UPPER_MARGIN},GD.socialSharing.BOUNCE_TIME,"easeInQuint")};GD.flipper=GD.flipper||{};GD.flipper.speed=800;
GD.flipper.flipToIntl=function(a){var b=$("#"+a+"UsaBtn"),d=$("#"+a+"IntlBody"),c=$("#"+a+"IntlBtn");GD.flipper.checkNoDataPane(a,d);c.addClass("selected");b.removeClass("selected");$("#"+a+"UsaMap").css("display","none");$("#"+a+"IntlMap").css("display","block");$("#"+a+"UsaBody").css("display","none");d.css("display","block");GD.flipper.adjustButtons(a)};
GD.flipper.flipToUSA=function(a){var b=$("#"+a+"UsaBody"),d=$("#"+a+"UsaBtn"),c=$("#"+a+"IntlBtn");GD.flipper.checkNoDataPane(a,b);c.removeClass("selected");d.addClass("selected");$("#"+a+"UsaMap").css("display","block");$("#"+a+"IntlMap").css("display","none");b.css("display","block");$("#"+a+"IntlBody").css("display","none");GD.flipper.adjustButtons(a)};
GD.flipper.checkNoDataPane=function(a,b){var d=!1,c=$(b).find(".noData");c.length&&c.get(0).parentNode==b&&(d=!0);var c=$("#"+a+"LtFade"),e=$("#"+a+"RtFade"),f=$("#"+a+"RtHide"),g=$("#"+a+"SlideButtons");d?(c.addClass("hidden"),e.addClass("hidden"),f.addClass("hidden"),g.addClass("hidden")):(c.removeClass("hidden"),e.removeClass("hidden"),f.removeClass("hidden"),g.removeClass("hidden"))};
GD.flipper.scrollLeft=function(a){var b=GD.flipper.getSliderPane(a),d=b.offsetWidth,c=id(a+"Content").offsetWidth-2;if(b.style.left){var e=Number((""+b.style.left).replace(/px/,"")),f=2*c-d,e=e-c;e<f&&(e=f)}else e=-c;$(b).animate({left:e},GD.flipper.speed,"easeInOutExpo");GD.flipper.adjustButtons(a,b,d,c,-e)};
GD.flipper.scrollRight=function(a){var b=GD.flipper.getSliderPane(a),d=b.offsetWidth,c=id(a+"Content").offsetWidth-2;if(b.style.left){var e=Number((""+b.style.left).replace(/px/,"")),e=e+c;0<e&&(e=0)}else e=0;$(b).animate({left:e},GD.flipper.speed,"easeInOutExpo");GD.flipper.adjustButtons(a,b,d,c,-e)};GD.flipper.getSliderPane=function(a){var a=$("#"+a+"UsaBtn").hasClass("selected")?$("#"+a+"UsaBody"):$("#"+a+"IntlBody"),b=a.find(".slider");b.length&&(a=b.get(0));return a};
GD.flipper.adjustButtons=function(a,b,d,c,e){b||(b=GD.flipper.getSliderPane(a),d=b.offsetWidth,c=id(a+"Content").offsetWidth-2,e=b.style.left?-Number((""+b.style.left).replace(/px/,"")):0);d-=2*c;0>e&&(e=0);e>d&&(e=d);b=0>=e;e=e>=d;d=$("#"+a+"PrevBtn").parent();a=$("#"+a+"NextBtn").parent();b?d.addClass("disabled"):d.removeClass("disabled");e?a.addClass("disabled"):a.removeClass("disabled")};
GD.flipper.showPane=function(a,b,d){var c=$("#"+a+"Body"+b);if(c.hasClass("hidden")){var e=1==b?2:1,f=$("#"+a+"Body"+e),b=$("#"+a+"Label"+b),e=$("#"+a+"Label"+e);f.addClass("hidden");c.removeClass("hidden");b.addClass("disabled");e.removeClass("disabled");d&&(a=$("#"+a+"Title"),a.length&&a.html(d))}return!1};GD.shareContent=GD.shareContent||{};GD.shareContent.initEmbedLinks=function(){var a=$("span.embedPopupLink").not(".embedPopupLinkOK");a.click(GD.shareContent._onEmbedClick);a.addClass("embedPopupLinkOK")};
GD.shareContent._onEmbedClick=function(){var a=$(this);GD.analytics.trackPartnerShare("embed");GD.shareContent.sharedContentPopup(a,a.data("builderUrl"),a.data("pageUrl"),a.data("section"),a.data("linkType"));return!1};
GD.shareContent.sharedContentPopup=function(a,b,d,c,e){if(b){var e=window.screen.availWidth-10,f=window.screen.availHeight-50,a=0.8*f,f=0.6*((f-a)/2),e=(e-740)/2;"string"===typeof c&&0<c.length&&(b=-1!=b.indexOf("?")?b+"&":b+"?",b=b+"section="+c);d&&(b=-1!=b.indexOf("?")?b+"&":b+"?",b=b+"permalink="+encodeURIComponent(d));win=window.open(b,"sharePopup","top="+f+",left="+e+"height="+a+",width=740,location=0,toolbar=0,menubar=0,scrollbars=1",!1);"function"===typeof win.focus&&win.focus()}else GD.shareContent._showPermalinkPopup(d,
e);return!1};
GD.shareContent._showPermalinkPopup=function(a,b){GD.analytics.trackPartnerShare("permalink");var d,c;if("string"!==typeof b||!b.length)b="Page";d="Link To This "+b;c=$("<input type='text'>").val(a).click(GD.shareContent._onClickPermalinkPopup);c=$("<p>").append(c);d=$("<div id='PermalinkPopup'>").append("<h3><strong>"+d+"</strong></h3>").append("<p>Copy and paste this link into a web page or blog post.  Anyone clicking the link will see this page as if they were a Glassdoor member.</p>").append(c);GD.dialogManager.addCustomDialog(d,
430,!0,!0,!0,null,"dataPopup",GD.shareContent._onClickPermalinkPopup,null,!0)};GD.shareContent._onClickPermalinkPopup=function(){var a=$("#PermalinkPopup input");a.select();a.focus()};GD.flagContent=GD.flagContent||{};GD.flagContent.$savedPopupContents=void 0;GD.flagContent.savedInputText="";
GD.flagContent.show=function(a,b,d){if(null==a)throw"flagContent.showPopup must have an id.";if(null==b)throw"flagContent.showPopup must have a type indicator.";GD.flagContent.close();var c=$("#FlagContentDlgTmpl").html();if("EMPLOYER_REVIEW"==b||"INTERVIEW_REVIEW"==b)c=c.printf("review","Review",a,b);else if("USER_QUESTION"==b)c=c.printf("question","Question",a,b);else if("USER_RESPONSE"==b)c="USER_QUESTION"==d?c.printf("answer","Answer",a,b):c.printf("comment","Comment",a,b);else if("COMPANY_PHOTO"==
b)c=c.printf("photo","Photo",a,b);else throw"flagContent.show called with invalid type indicator.";a=$("<div>").attr("id","FlagContentDlg").html(c);b=$("#FlagContentBtns").children().clone(!0);$("div.btns",a).append(b);GD.flagContent.setupTextArea(a.find("textarea"),"");b=a.find(".gd-btn.submit");d=a.find(".gd-btn.closeDlg");GD.btn.label(b,a.data("flagLabel"));b.on("click",function(){GD.flagContent.submit()});d.on("click",function(){GD.flagContent.close()});a.dialog({width:440,minHeight:0,dialogClass:"noCloseBox noScrollBars",
resizable:!1,close:function(){GD.flagContent.onCloseComplete()}});GD.btn.init();a.parent().find(".ui-dialog-title").css({display:"none"});GD.flagContent.$savedPopupContents=a.children().clone(!0)};GD.flagContent.setupTextArea=function(a,b){a.keyup(GD.flagContent.reasonChangeEvent).keypress(GD.flagContent.reasonChangeEvent).change(GD.flagContent.reasonChangeEvent).mouseup(GD.flagContent.reasonChangeEvent).val(b).focus()};
GD.flagContent.reasonChangeEvent=function(){var a=$("#FlagContentDlg"),b=$("textarea",a);b.length&&GD.btn.enable($(".gd-btn",a),0<b.val().length)};GD.flagContent.close=function(){var a=$("#FlagContentDlg");a.length&&a.dialog("close")};GD.flagContent.onCloseComplete=function(){var a=$("#FlagContentDlg");a.length&&(a.dialog("destroy"),a.remove())};
GD.flagContent.setPopupContent=function(a){var b=$("#FlagContentDlg");b.parent().find(".ui-dialog-titlebar");a instanceof jQuery?(b.children().remove(),b.append(a)):b.html(a)};GD.flagContent.showSuccess=function(){var a=$("#FlagContentSuccess").children().clone(!0);GD.flagContent.setPopupContent(a);$(".gd-btn .gd-btn-1",a).focus()};GD.flagContent.showFailure=function(){var a=$("#FlagContentFailure").children().clone(!0);GD.flagContent.setPopupContent(a);$(".gd-btn .gd-btn-1",a).focus()};
GD.flagContent.restoreInput=function(){GD.flagContent.setPopupContent(GD.flagContent.$savedPopupContents);GD.flagContent.setupTextArea($("#FlagContentDlg textarea"),GD.flagContent.savedInputText);GD.flagContent.reasonChangeEvent();return!1};
GD.flagContent.submit=function(){var a=$("#FlagContentDlg"),b=$(".dlgContents",a),a=$("textarea",b),d=b.data("approvableId"),b=b.data("entityType");if(a.length){var c=a.val();0<c.length?(GD.flagContent.savedInputText=c,c=encodeURIComponent(c),a={async:!1,url:"flagApprovableAjax.htm?approvableId="+d+"&entityTypeStr="+b+"&comment="+c,dataType:"json",success:function(){GD.flagContent.showSuccess()},error:function(){GD.flagContent.showFailure()}},jQuery.ajax(a)):a.focus()}};
"undefined"==typeof GD.tagList&&(GD.tagList={});GD.tagList.expand=function(a){var b=id("TagListCompressed_"+a),a=id("TagListExpanded_"+a);if(b&&a){b.style.display="none";a.style.display="inline"}return false};GD.tagList.collapse=function(a){var b=id("TagListCompressed_"+a),a=id("TagListExpanded_"+a);if(b&&a){b.style.display="inline";a.style.display="none"}return false};
GD.tagList.addTags=function(a,b){var d=$("#TagListExpanded_"+a).css("display")!="none",c=$("#TagListThreshold_"+a),c=c.length?c.html():999,e=id("TagListCompressed_"+a);if(b.length&&b.length>0){var f=Math.min(b.length,c),g=GD.tagList.build(b,0,f-1);if(g.length>0){var h=id("TagListCompressedData_"+a);if(h)h.innerHTML=g}if(f<b.length){g=GD.tagList.build(b,f,b.length-1);if(g.length>0)if(f=id("TagListExpandedData_"+a))f.innerHTML=g}if(!d&&b.length>c)e.style.display="inline"}else e.style.display="none"};
GD.tagList.build=function(a,b,d){try{for(var c="";b<=d;b++){var e=a[b],f,g,h;if(e){if(e.tag){f=e.tag;g=e.link}else{f=e;g=null}if((h=GD.tagList.buildTagLinkHtml(f,g))&&h.length>0){c=c+h;b<d&&(c=c+", ")}}}return c}catch(k){Logger.fatal("interviews.js / GD.tagList.build()",k)}};
GD.tagList.buildTagLinkHtml=function(a,b){try{var d="",c="";if(a){a.contains(" ")&&(c=" class='keepTogether'");b?d=d+("<a href='"+b+"'"+c+">"):c.length>0&&(d=d+("<span"+c+">"));d=d+a;b?d=d+"</a>":c.length>0&&(d=d+"</span>")}return d}catch(e){Logger.fatal("interviews.js / buildTagLink()",e)}};"undefined"==typeof GD.compChart&&(GD.compChart={});GD.compChart.augment=function(){$("tr.dataRow .toggle a, tr.dataRow .toggle img").click(GD.compChart.toggleRowClick)};
GD.compChart.toggleRowClick=function(a){var b=$(a.target).parents("span.toggle"),a=$(a.target).parents("tbody");if(b&&a){a=a.next();if(a.length&&a[0].tagName=="TBODY")if(b.is(".expanded")){a.css("display","none");b.removeClass("expanded");b.addClass("contracted")}else{GD.isIE()&&GD.getIEVersion()<8?a.css("display","block"):a.css("display","table-row-group");b.removeClass("contracted");b.addClass("expanded")}}return false};"undefined"==typeof GD.socialNet&&(GD.socialNet={});
GD.socialNet.MAX_TWITTER_SEARCH_QUERY_LEN=140;GD.socialNet.REFRESH_TIME=2E4;GD.socialNet.NO_DATA_REFRESH_TIME=3E4;GD.socialNet.firstTwitterRequest=!0;GD.socialNet.initSocialNetworkFeed=function(a,b,d,c,e,f){GD.socialNet.initTwitterFeed(a,b,d,c,f)};GD.socialNet.initTwitterFeed=function(a,b,d,c,e){a=GD.socialNet.constructTwitterSearch(a,d,c);GD.socialNet.refreshTwitterFeed(b,e,a,0)};
GD.socialNet.refreshTwitterFeed=function(a,b,d,c){c||(c=0);jQuery.twitSearch(d,b,function(c,d,g){GD.socialNet.twitterResults(a,c,d,g,b)},c,15)};
GD.socialNet.constructTwitterSearch=function(a,b,d){a="";b=b.split(",");if(d)for(d=0;d<b.length;d++){var c=b[d].trim(),e="";d>0&&(e=e+" OR ");e=c.match(/\s/)?e+c:e+("from:"+c);a.length+e.length<GD.socialNet.MAX_TWITTER_SEARCH_QUERY_LEN&&(a=a+e)}else for(d=0;d<b.length;d++){c=b[d].replace('"',"").trim();if(c.length>0){e="";d>0&&(e=e+" OR ");e=c.match(/\s/)?e+('"'+c+'"'):e+c;a.length+e.length<GD.socialNet.MAX_TWITTER_SEARCH_QUERY_LEN&&(a=a+e)}}return a.trim()};
GD.socialNet.twitterResults=function(a,b,d,c,e){if(b&&b.results){var f=$("#"+a+" .twitterService");f.is(":visible")?$(".waiting",f).fadeOut():$(".waiting",f).css("display","none");var d=b.results,g=GD.socialNet.REFRESH_TIME;if(d.length>0){var f=$(".tweets",f),h=$("<div>"),k=f.children().length==0,j=-1;f.prepend(h);h.css("display","none");for(var l=0;l<d.length;l++){var i=d[l];if(i.id>c){var m=$("<div class='tweet'><span class='name'></span><span class='separator'>: </span><span class='text'></span></div>");
h.append(m);$(".name",m).html(i.from_user);$(".text",m).html(i.text);if(j<i.id)j=i.id}}if(j>0){h.slideDown("fast",function(){GD.socialNet.twitterTrim(a,!k)});f.attr("max_id",j)}}else if(GD.socialNet.firstTwitterRequest){f.is(":visible")?$(".noData",f).fadeIn():$(".noData",f).css("display","block");g=GD.socialNet.NO_DATA_REFRESH_TIME}GD.socialNet.firstTwitterRequest=false;GD.wait(g).then(function(){var c=b.query.replace(/\+/g," "),c=decodeURIComponent(c);GD.socialNet.refreshTwitterFeed(a,e,c,b.max_id)})}};
GD.socialNet.twitterTrim=function(a,b){var d=$("#"+a+" .twitterService"),c=$(".tweets",d),e=$(".tweet",c);if(e.length>0){var d=c.offset().top+c.innerHeight(),d=d-(parseInt(c.css("padding-top"))+parseInt(c.css("padding-bottom"))),f=$(e[e.length-1]),c=f.offset().top;if(c>d){d=f.parent();f.remove();d.children().length==0&&d.remove();GD.socialNet.twitterTrim(a,b)}else c+f.outerHeight()>d&&f.fadeOut(b?"fast":0,function(){var a=f.parent();f.remove();a.children().length==0&&a.remove()})}};
GD.socialNet.showFacebookFeed=function(a){$("#"+a+" .serviceTabs .tab img.pointer").hide();$("#"+a+" .fbServiceTab img.pointer").show();$("#"+a+" .service").hide();$("#"+a+" .facebookService").show();return true};GD.socialNet.showTwitterFeed=function(a){$("#"+a+" .serviceTabs .tab img.pointer").hide();$("#"+a+" .twitServiceTab img.pointer").show();$("#"+a+" .service").hide();$("#"+a+" .twitterService").show();GD.socialNet.twitterTrim(a,false);return true};
"undefined"==typeof GD.expText&&(GD.expText={});GD.expText.initExpandingText=function(){var a=$("div.expTxt");a.removeClass("expTxt").addClass("expTxtRdy");$("span.more",a).click(GD.expText._onExpandingTextMore);$("span.less",a).click(GD.expText._onExpandingTextLess);a.each(function(){var a=$(this),d=a.attr("maxHeight");d?a.css({maxHeight:d-0,overflow:"hidden"}):a.css({overflow:"hidden"})})};
GD.expText._onExpandingTextMore=function(a){a=$(a.target).closest(".expTxtRdy");a.css("overflow","auto");$("span.ellipses",a).hide();$("span.more",a).hide();$("span.expanded",a).show();$("span.less",a).show();return false};GD.expText._onExpandingTextLess=function(a){a=$(a.target).closest(".expTxtRdy");a.css("overflow","hidden");a.scrollTo(0,0);$("span.less",a).hide();$("span.expanded",a).hide();$("span.ellipses",a).show();$("span.more",a).show();return false};
"undefined"===typeof GD.survey&&(GD.survey={});GD.survey.selectRatingControl=function(){$(".selectRatingControl").not("."+GD.survey.selectRatingControl.OK_CLASSNAME).each(function(){GD.survey.selectRatingControl.init($(this))})};GD.survey.selectRatingControl.OK_CLASSNAME="selectRatingControlOK";
GD.survey.selectRatingControl.init=function(a){if(a.not("."+GD.survey.selectRatingControl.OK_CLASSNAME)){a.addClass(GD.survey.selectRatingControl.OK_CLASSNAME);a.$radioGroup=$("input.radio",a);a.$itemGroup=$("li",a);a.$hoverText=$(".hoverText",a);a.$selectedText=$(".selectedText",a);a.$prompt=$(".prompt",a);a.on("touchstart mousedown keydown","li",function(b){b=$(b.target).find("label");b=$(b).attr("forId");a.find("#"+b)[0].checked=true;GD.survey.selectRatingControl.select(a)});if(!("ontouchstart"in
window)){a.on("mouseover","li",function(b){var b=$(b.target),d=b.find("label").text();a.$hoverText.text(d).removeClass("notShown");a.$selectedText.addClass("notShown");GD.survey.selectRatingControl.include(a,b)});a.on("mouseout","li",function(){a.$hoverText.text("").addClass("notShown");a.$selectedText.removeClass("notShown");GD.survey.selectRatingControl.include(a)});a.on("mouseover","ul",function(){a.$prompt.css("display","none")});a.on("mouseout","li",function(){a.$prompt.css("display","inline")})}GD.survey.selectRatingControl.select(a)}};
GD.survey.selectRatingControl.include=function(a,b){for(var d=a.$itemGroup,c=d.length,e=false,f,b=b||a.find("li.selected");c--;){f=$(d[c]);if(f.is(b)){e=true;f.addClass("active_"+c)}else f.removeClass("active_"+c);e?f.addClass("included"):f.removeClass("included")}};
GD.survey.selectRatingControl.select=function(a){for(var b=a.$itemGroup,d=a.$radioGroup,c=d.length;c--;){var e=$(d[c]),f=$(b[c]),g;if(e.prop("checked")){g=f;g.addClass("selected");e=f.find("label").text();a.$selectedText.text(e);a.$prompt.length>0&&a.$prompt.remove()}else f.removeClass("selected")}GD.survey.selectRatingControl.include(a,g)};window.GD=window.GD||{};GD.jobsLink=GD.jobsLink||{};
GD.jobsLink.track=function(a){a=GD.event.fixEvent(a);a=$(a.target);a.is("a")||(a=a.closest("a"));var c=a.data("url");c||(c=a.attr("href"));if(c){var b=a.data("ctScr");if(b)try{var d=document.createElement("a"),f=new Function(b);d.href=c;f.call(d);c=d.href}catch(h){}var d=a.data("ctPn"),b=a.data("ctPid"),f=a.data("ctJid"),e=a.data("evA"),g=d;b&&(g=g+" ("+b+")");e&&GD.analytics.trackEvent("jobListing",e,g);b=a.data("ctT");e=a.data("ctV");b&&GD.jobsLink.trackClick(b,d,e,f);if(b=!!a.data("offsiteTarget"))a=
window.open(c,"_blank"),a.focus&&a.focus()}return!b};GD.jobsLink.trackClick=function(a,c,b,d){GD.analytics.trackPageView("/partner/jobs/"+a+"/"+c);GD.jobsLink.trackJobClickValue(b,d);return!0};
GD.jobsLink.trackJobClickValue=function(a){a&&(a=parseFloat(a),isNaN(a)||(a="http://www.googleadservices.com/pagead/conversion/1064892929/?value="+a+"&label=xA6ZCLv0igIQgfTj-wM&guid=ON&script=0&cachebuster="+(new Date).getTime(),a=$("<img>").attr("src",a).attr("width",1).attr("height",1).css("border",0).addClass("offScreen"),$("body").append(a)))};window.GD=window.GD||{};GD.dialog=GD.dialog||{};
GD.dialogManagerImpl=function(){function q(){document.onclick=function(a){var b=id(GD.dialog._contextHelpId),a=GD.event.fixEvent(a),b=0<=$(a.target).parents().index(b);a.target?b||(document.onclick=null,k("#"+GD.dialog._contextHelpId),GD.dialog.contextHelpShown=!1):alert("target is null");return!0}}function l(a,b,c,d,h,j,f,e,g,n,r,k,l){"string"!==typeof n&&(n="white");if(!b||!b.jquery)"string"!==typeof b&&(b="");if(!c||!c.length)c=$("#PageContent"),c.length||(c=$("body:first"));"number"!==typeof d&&
(d=200);"number"!==typeof h&&(h=null);"number"!==typeof j&&(j=null);"number"!==typeof f&&(f=null);"number"!==typeof e&&(e=null);null==h&&null==f&&(h=1);null==j&&null==e&&(j=1);"number"!==typeof g&&(g=1E4);"boolean"!==typeof r&&(r=!0);if(c.length){var m=$("<div>"),i=c.offset();m.attr("clickAwayClose",k);m.attr("id",a);m.addClass("gdPanel dropShadow");m.css({display:"none","background-color":n,"z-index":g}).width(d);"number"===typeof h&&m.css("top",Math.floor(i.top+h)+"px");"number"===typeof j&&m.css("left",
Math.floor(i.left+j)+"px");"number"===typeof f&&m.css("bottom",Math.floor(i.left+c.outerHeight()+f)+"px");"number"===typeof e&&m.css("right",Math.floor(i.left+c.outerWidth()+e)+"px");$("body:first").append(m);c=$("<div class='gdPanelContents'>");d="";r&&(d+="<a href='#' onclick='return GD.dialogManager.panelClose(\"#"+a+"\");'><div class='closeBox medium'><i class='medx'></i></div></a>");d+="<div class='panelContents'></div>";r&&(d="<div class='gdPanelClosable'>"+d+"</div>");c.append(d);c.append(b);
m.append(c);jQuery.isFunction(l)&&(m[0].onCloseCallback=l)}}function i(a){a=$(a);a.length&&a.css("display","block")}function o(a){a=$(a);a.length&&a.hide();return!1}function k(a){a=$(a);if(a.length){o(a);if(jQuery.isFunction(a[0].onCloseCallback))a[0].onCloseCallback();a.remove()}return!1}function p(a,b,c,d,h){if("string"!==typeof c||"info"!==c&&"prompt"!==c&&"success"!==c&&"warning"!==c)c="error";"string"!==typeof a&&(a="");var j;j=b instanceof jQuery?b:"string"===typeof b?$(b):$("<p></p>");"boolean"!==
typeof h&&(h=!0);var b=$("#GDPopupDialog"),f,e,g,n,i;0==b.length?(b=$("<div></div>"),b.attr("id","GDPopupDialog"),b.addClass("dropShadow"),f=$("<div></div>"),f.attr("id","GDPopupDialogHeader"),g=document.createElement("div"),g.id="GDPopupDialogTitle",e=$("<div></div>"),e.attr("id","GDPopupDialogClose"),e.addClass("closeBox medium"),e.append('<i class="medx"></i>'),n=$("<div></div>"),n.attr("id","GDPopupDialogContent"),i=document.createElement("div"),i.id="GDPopupDialogMask",document.body.appendChild(i),
$("body").append(b),b.append(f),f.append(g),f.append(e),b.append(n),e.click(GD.dialogManager.hideDialog)):(f=$("#GDPopupDialogHeader"),g=id("GDPopupDialogTitle"),e=$("#GDPopupDialogClose"),n=$("#GDPopupDialogContent"),i=id("GDPopupDialogMask"),i.style.visibility="visible",b.css("visibility","visible"));b.css("opacity",0);b.css("filter","alpha(opacity=0)");b.data("alpha",0);var k=null!=window.innerWidth?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:
null!=document.body?document.body.clientWidth:null,l=null!=window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:null!=document.body?document.body.clientHeight:null,m="undefined"!=typeof window.pageXOffset?window.pageXOffset:document.documentElement&&document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft?document.body.scrollLeft:0,o="undefined"!=typeof window.pageYOffset?
window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0,p=b.outerWidth(),q=b.outerHeight(),l=Math.round(o+l/3-q/2),k=Math.round(m+k/2-p/2),k=""+k+"px";b.css("top",""+l+"px");b.css("left",k);f.addClass(c+"Header");a&&0<a.length?g.innerHTML=a:g.style.display="none";n.addClass(c);n.empty().append(j);a=id(GD.dialog.WRAPPER);i.style.height=a.offsetHeight+"px";b.data("timer",setInterval("GD.dialogManager._fadeDialog(true)",
GD.dialog.TIMER));0<d?(e.css("visibility","hidden"),GD.wait(1E3*d).then(function(){GD.dialogManager.hideDialog()})):h?e.css("visibility","visible"):e.css("visibility","hidden");GD.btn.init()}this.CURRENT_Z_INDEX="undefined"!=typeof GD.effects&&"undefined"!=typeof GD.effects.OVERLAY_Z_INDEX?GD.effects.OVERLAY_Z_INDEX+10:100;this.activeDialogList=[];this.occlusionComplete=this.fetchComplete=!1;this.ajaxTextStatus=this.ajaxData=null;GD.dialog.OVERLAY_OPACITY=0.8;GD.dialog.TIMER=5;GD.dialog.SPEED=10;
GD.dialog.WRAPPER="PageContent";GD.dialog._contextHelpId="GDContextHelpPanel";GD.dialog.contextHelpShown=!1;this.showHelp=function(a,b,c,d){if(!a.length&&(a=$("#PageContent"),!a)){$("body:first");return}if(b.length){"undefined"===typeof c&&(c=250);b=b.html().trim();GD.dialog.contextHelpShown&&(k("#"+GD.dialog._contextHelpId),document.onclick=null);d&&(d=$(d));var h=-5;if(d&&d.length){var j=d.offset().left,d=d.width(),f=j+d,e=a.offset(),g=c;g>d?h=-(e.left-j)-5:e.left+g>f&&(h=f-g-5-e.left)}l(GD.dialog._contextHelpId,
b,a,c,17,h,null,null,null,"#e3e3e3",!1,!0);GD.wait().then(q);i("#"+GD.dialog._contextHelpId);GD.dialog.contextHelpShown=!0;a=$(window).scrollTop()+$(window).height();c=$("#"+GD.dialog._contextHelpId);c=Math.ceil(c.offset().top)+c.outerHeight();c+10>a&&jQuery.scrollTo("+="+(c-a+10)+"px",500,{easing:"swing",axis:"y"});return!1}alert("Sorry, help cannot be displayed...")};this.panelCreate=l;this.panelShow=i;this.panelHide=o;this.panelClose=k;this.panelSetContents=function(a,b){var c=$(a);c.length&&(c=
$(".panelContents",c),"string"===typeof b?c.html(b):c.empty().append(b))};this.showPromptDialog=function(a,b,c,d,h){p(a,b,"prompt",null,d,h)};this.showDialog=p;this.hideDialog=function(){var a=$("#GDPopupDialog");clearInterval(a.data("timer"));a.data("timer",setInterval("GD.dialogManager._fadeDialog(false)",GD.dialog.TIMER))};this.addCustomDialog=function(a,b,c,d,h,j,f,e,g,i){"number"!=typeof b&&(b=-1);"boolean"!=typeof c&&(c=!0);"function"!=typeof e&&(e=null);"undefined"==typeof g&&(g=null);c?(this.isAjaxDialog=
!1,this.ajaxTextStatus=this.ajaxData=null,this.fetchComplete=!0,this.occlusionComplete=!1,c=null,h&&!i&&(c=function(){GD.dialogManager.closeAllDialogs()}),this.activeDialogList.push(new GD.dialog(a,b,this.CURRENT_Z_INDEX+1,d,h,j,f,e,g)),GD.effects.occludePage(this._onOcclusionComplete,c,null,this.CURRENT_Z_INDEX),this.CURRENT_Z_INDEX+=2):(this.activeDialogList.push(new GD.dialog(a,b,this.CURRENT_Z_INDEX,d,h,j,f,e,g)),this.CURRENT_Z_INDEX++,this.getCurrentDialog().display())};this.addAjaxDialog=function(a,
b,c,d,h,j,f,e,g){"number"!=typeof b&&(b=-1);"boolean"!=typeof c&&(c=!0);"function"!=typeof e&&(e=null);"undefined"==typeof g&&(g=null);this.activeDialogList.push(new GD.dialog(null,b,this.CURRENT_Z_INDEX+1,d,h,j,f,e,g));this.isAjaxDialog=!0;this.ajaxTextStatus=this.ajaxData=null;this.fetchComplete=!1;c?(this.occlusionComplete=!1,GD.effects.occludePage(this._onOcclusionComplete,null,null,this.CURRENT_Z_INDEX),this.CURRENT_Z_INDEX++):this.occlusionComplete=!0;this._fetchAjaxDialog(a);this.CURRENT_Z_INDEX++};
this.getCurrentDialog=function(){return null==this.activeDialogList||0==this.activeDialogList.length?null:this.activeDialogList[this.activeDialogList.length-1]};this.deleteCurrentDialog=function(){if(!(null==GD.dialogManager.activeDialogList||0==GD.dialogManager.activeDialogList.length)){var a=GD.dialogManager.activeDialogList.pop();a.dialogElement.parentNode.removeChild(a.dialogElement)}};this.closeAllDialogs=function(a){GD.dialogManager.deleteCurrentDialog();a||GD.effects.revealPage();return!1};
this._fetchAjaxDialog=function(a){var b=this;jQuery.ajax({url:a,dataType:"html",error:function(a,d){b._onFetchAjaxDialogComplete(null,d)},success:function(a,d){b._onFetchAjaxDialogComplete(a,d)}})};this._onOcclusionComplete=function(){var a=GD.dialogManager,b=a.getCurrentDialog(),c;a.occlusionComplete=!0;if(a.fetchComplete)if(a.isAjaxDialog&&!a.ajaxData)a._displayAjaxError(a.ajaxTextStatus);else if(a.isAjaxDialog&&(c=a.ajaxData),b.display(c),"function"==typeof b.onLoadComplete)b.onLoadComplete(b.getExtraData())};
this._onFetchAjaxDialogComplete=function(a,b){var c=this.getCurrentDialog();this.fetchComplete=!0;this.ajaxData=a;this.ajaxTextStatus=b;if(this.occlusionComplete)if(a){if(c.display(a),"function"==typeof c.onLoadComplete)c.onLoadComplete(c.getExtraData())}else this._displayAjaxError(b)};this._displayAjaxError=function(a){alert("There was a problem loading this dialog.  Please try again a little later. ('"+a+"')");GD.effects.revealPage(null)};this._fadeDialog=function(a){"boolean"!==typeof a&&(a=!0);
var b=$("#GDPopupDialog"),a=a?b.data("alpha")+GD.dialog.SPEED:b.data("alpha")-GD.dialog.SPEED;b.data("alpha",a);b.css("opacity",a/100);b.css("filter","alpha(opacity="+a+")");99<=a?(clearInterval(b.data("timer")),b.removeData("timer")):1>=a&&(b.css("visibility","hidden"),$("#GDPopupDialogMask").css("visibility","hidden"),clearInterval(b.data("timer")))}};
GD.dialog=function(q,l,i,o,k,p,a,b,c){"undefined"===typeof l&&(l=-1);"undefined"===typeof q&&(q="<div>dialog contents not specified</div>");"undefined"===typeof i&&(i=0);"boolean"!==typeof o&&(o=!1);"boolean"!==typeof k&&(k=!1);"function"!==typeof p&&(p=null);"function"!==typeof b&&(b=null);"undefined"===typeof c&&(c=null);this.width=l;this.dialogContents=this.dialogElement=null;this.zIndex=i;this.draggable=o;this.closeable=k;this.onClose=p;this.wrapperClass=a;this.onLoadComplete=b;this.extraData=
c;this.setContents=function(a){if(a&&a.jquery)this.contents=a;else if("string"===typeof a)this.contents=$(a);else if(a&&a.tagName)this.contents=$(a);else return;this.dialogContents&&"object"===typeof this.dialogContents&&(a=$(this.dialogContents),a.children(),a.children().remove(),a.append(this.contents))};this.display=function(a){if("undefined"==typeof this.dialogContents||null==this.dialogContents){a&&this.setContents(a);var b=$("<div>").addClass("gdDialog").css("zIndex",this.zIndex),a=$("<div>").addClass("dialogFrame dropShadow");
a.width(0<this.width?this.width:700);if(this.closeable){var c=$("<div>").addClass("closeBox medium");c.append('<i class="medx"></i>');var f=this.onClose;c.on("click",function(){"function"===typeof f&&f();GD.dialogManager.closeAllDialogs()});c.css("zIndex",this.zIndex+1);a.append(c)}var e=b,c=$("<div>").css("min-height","50px");a.append(c);this.wrapperClass&&(e=$("<div>").addClass(this.wrapperClass),b.append(e));e.append(a);if(k)b.on("keypress",function(a){if(a.keyCode==27){a=this.onClose;typeof a===
"function"&&a();GD.dialogManager.closeAllDialogs()}});b.hide();$("body").append(b);this.dialogContents=c.get(0);this.dialogElement=b.get(0)}a=$(this.dialogContents);a.children().remove();a.append(this.contents);a=$(window).height();c=b.height();a=Math.round(a/2-c/2);a-=Math.round(0.1*a);b.css({position:"fixed",top:a});b.show()};this.getExtraData=function(){return this.extraData};this.setContents(q)};"undefined"==typeof GD.dialogManager&&(GD.dialogManager=new GD.dialogManagerImpl);window.GD=window.GD||{};GD.coach=GD.coach||{};
GD.coach.cheer=function(d,b,a,f,k,h,i){d=id(d);"boolean"!=typeof i&&(i=!0);var c=b[a];if("object"==typeof c){var a=b.$cheerPrefix,g=b.$cheerSuffix;"string"!=typeof a&&(a="");"string"!=typeof g&&(g="");if(i){c=c.messages;if("object"!=typeof c)return;for(var e=!1,j=c.length-1;0<=j;j--){var l=c[j];if(f>=l[0]){d.innerHTML=a+l[1]+g;e=!0;break}}e||(d.innerHTML="")}else e="",f<k?"string"==typeof c.tooFew&&(e=a+c.tooFew+g):0<h&&f>h&&"string"==typeof c.tooMany&&(e=a+c.tooMany+g),d.innerHTML=e;a=!0;f<k?a=!1:
0<h&&f>h&&(a=!1);i?a?"string"==typeof b.$validColor&&(d.style.color=b.$validColor):"string"==typeof b.$defaultColor&&(d.style.color=b.$defaultColor):a?"string"==typeof b.$validColor&&(d.style.color=b.$validColor):"string"==typeof b.$errorColor&&(d.style.color=b.$errorColor)}};window.GD=window.GD||{};GD.sendGrid=GD.sendGrid||{};GD.sendGrid.init=function(){$(".status").on("click",function(a){GD.sendGrid.ajax(a)});$("#EventTypeFilter").on("click",function(a){a&&"BOUNCE"!=a.target.value?$("#BounceTypeFieldDiv").hide():$("#BounceTypeFieldDiv").show()})};
GD.sendGrid.ajax=function(a){a.preventDefault();var a=$(a.target),c=a.data("email"),d=a.data("emailStatus"),e=a.data("userId"),b={};b.emailAddress=c;b.emailStatusEnum=d;b.userId=e;a.replaceWith("<strong>Processing</strong>");$.ajax({url:"/admin/email/unsubscribeAjax.htm",data:b,success:function(a){$("#Status_"+a.userId).replaceWith("Unsubscribed");$("#GdStatus_"+a.userId).replaceWith(a.emailStatusEnum)},error:function(a,b,c){Logger.error(c)}})};window.GD=window.GD||{};GD.overview=GD.overview||{};GD.overview.initPage=function(){$(".employerSuppliedContent a, #OverviewFinancialInfo a").attr("target","_blank").attr("rel","nofollow");GD.overview.checkHashTag()};GD.overview.checkHashTag=function(){var a=window.location.hash;if(a&&a.startsWith("#")&&0<=a.indexOf("-")&&(a=a.split("-"),a.length))switch(a[0].substr(1)){case "section":1<a.length&&GD.overview.showOverviewSection(a[1],!0)}};
GD.overview.showOverviewSection=function(a,b){var e=$("#WhyWorkForUsTabBar li span[class!=divider]"),f=$("#WhyWorkForUs .overviewSectionBody"),c=$("#WhyWorkForUsTab-"+a),d=$("#WhyWorkForUs-"+a);c.length&&d.length&&(e.addClass("link"),c.removeClass("link"),f.hide(),d.show(),b&&jQuery.scrollTo("#WhyWorkForUs",{axis:"y"}));return!1};GD.overview.onNewsComplete=function(a,b){0<b&&$("#OverviewNews").slideDown(400)};window.GD=window.GD||{};GD.fb=GD.fb||{};GD.fb.UPDATE_FB_AUTH_URL="/profile/ajax/updateFacebookAuthAjax.htm";GD.fb.getAuthState=function(){GD.fb.getFbLoginStatus(function(a,b){var c="",e=0,d="https://"+document.location.hostname;document.location.port&&"80"!=document.location.port&&(d+=":8443");d+=GD.fb.UPDATE_FB_AUTH_URL;"connected"===a&&(c=b.authResponse.accessToken,e=b.authResponse.userID);jQuery.ajax({url:d,data:{token:c,sourceId:e,status:a},dataType:"jsonp",success:function(){},error:function(){}})})};
GD.fb.initLinkSettings=function(a){var b=!1;$("div.fbSettings .linked span.link").on("click",function(){GD.fb.facebookDelink(a)});$("div.fbSettings .unlinked span.link").on("click",function(){GD.fb.facebookLink(a)});GD.fb.getFbLoginStatus(function(a){b||(b=!0,$("div.fbSettings .checking").hide(),"connected"===a?($("div.fbSettings .unlinked").hide(),$("div.fbSettings .linked").show()):(Logger.debug("Facebook login response is :"+(a?a:"null")),$("div.fbSettings .unlinked").show()))})};
GD.fb.facebookLink=function(a){GD.fb.facebookLogin(a,"/profile/socialUserLink.htm",GD.dom.getDocUrl())};
GD.fb.onFacebookLink=function(a){var b=!1;a&&"connected"===a.status&&(b=!0);b&&(GD.analytics.trackPartnerAuth("facebook",!0),jQuery.ajax({url:"/profile/socialUserLinkAjax.htm",data:{token:a.authResponse.accessToken,socialUid:a.authResponse.userID,socialNetwork:"FACEBOOK"},dataType:"json",success:function(a){a.redirectURL?GD.dom.clearWindowAndRedirect(a.redirectURL):a.successful?($("div.fbSettings .unlinked").hide(),$("div.fbSettings .linked").show()):(a.errorMessage||(a.errorMessage="Something went wrong while authorizing you with Facebook.  Could you try again?"),
alert(a.errorMessage))},error:function(){alert("Something went wrong while authorizing you with Facebook.  Could you try again?")}}))};GD.fb.facebookDelink=function(){GD.analytics.trackPartnerAuth("facebook",!1);FB.api({method:"Auth.revokeAuthorization"},function(){GD.fb.onFacebookDelink()})};
GD.fb.onFacebookDelink=function(){jQuery.ajax({url:"/profile/delinkSocialUserAjax.htm",data:{socialNetwork:"FACEBOOK"},dataType:"json",success:function(a){a.loggedIn&&!a.redirectURL?($("div.fbSettings .linked").hide(),$("div.fbSettings .unlinked").show()):(a.redirectURL||(a.redirectUrl="/index.htm"),GD.dom.clearWindowAndRedirect(a.redirectURL))},error:function(){GD.dom.clearWindowAndRedirect("/index.htm")}})};
GD.fb.checkPublishStreamPermission=function(a){var b=!1,c=10,e=setInterval(function(){if(0<c){c-=1;try{FB.api("/me/permissions",function(c){Logger.inspect(c,"inviteHandler permissions check");!c||!c.data?Logger.inspect({error:"Error retrieving permissions from Facebook",data:c.data||c}):(b=1===c.data[0].publish_stream,clearInterval(e),a(b))})}catch(d){Logger.inspect(d,"Bad permissions fetch")}}else clearInterval(e),a(b)},500)};
GD.fb.initFBWallPostInviteHandler=function(a,b){var c=new GD.fb.TrackingHandler("/track/ajax/invitationTracking.htm","FB_WALL_INVITE",function(a){GD.graph._updateProfileOnInvite(a)});return new GD.fb.FBWallPostInviteHandler({fbAuthToken:a,fbInviteParams:["link","picture","name","description","caption"],selector:"span.fbInviteBtn",$context:b,inviteTracker:c})};
GD.fb.FBWallPostInviteHandler=GD.Class({constructor:function(a){var b=this;b.fbAuthToken=a.fbAuthToken;if(a.fbInviteParams){var c=$("[data-fb-link]:first");if(!(1>c.length)){b.fbInviteParams={};for(var e=a.fbInviteParams,d=e.length,f,g=0,h;g<d;g++)f=e[g],(h=c.attr("data-fb-"+f).trim())&&(h=h.trim()),b.fbInviteParams[f]=h;(a.$context?$(a.$context):$(a.selector)).bind("click keypress",function(c){c=$(c.target).closest(a.selector);1===c.length&&b.invite(c);return!1});b.inviteTracker=a.inviteTracker;
b.hasPermission=!1;GD.fb.checkPublishStreamPermission(function(a){a&&(b.hasPermission=!0)})}}},setFbInvited:function(a){a.closest(".fbInviteAction").addClass("fbInviteSent fbInvited")},setFbDailyLimit:function(a){a.closest(".fbInviteAction").addClass("fbInviteSent fbDailyLimit")},setFbError:function(a){a.closest(".fbInviteAction").addClass("fbInviteSent fbError")},success:function(a){Logger.inspect(a,"invite success");a=a.data.$btn;this.setFbInvited(a);this.inviteTracker.trackWallPostInvite(a.attr("data-to-sid"))},
error:function(a){Logger.inspect(a,"invite error");var b=a.data.$btn,c=a.error.message;-1!=c.indexOf("#200")?this.setFbInvited(b):-1!=c.indexOf("#341")?this.setFbDailyLimit(b):this.setFbError(b);Logger.logToServer("facebook wall post failed: "+a.error.message+" [fr="+b.attr("data-from-gid")+",to="+b.attr("data-to-gid")+"]",Logger.ERROR)},handleResponse:function(a){!a||a.error?this.error(a):this.success(a)},invite:function(a){!0!==this.hasPermission?this.promptToSendWallPost(a):this.sendWallPost(a)},
promptToSendWallPost:function(a){Logger.debug("sending publish_stream permissions.request for wall post invite");var b=this,c={method:"permissions.request",perms:"publish_stream",display:"popup"};try{FB.ui(c,function(d){d.perms===c.perms&&(b.hasPermission=!0,b.sendWallPost(a))})}catch(e){Logger.debug(e.message)}},sendWallPost:function(a){var b=this,c=a.attr("data-to-sid"),e=b.fbAuthToken,d=b.fbInviteParams;Logger.debug("sending invite to Facebook sid: "+c);var f={url:"/"+c+"/feed?access_token="+e,
method:"post",params:d,$btn:a,callback:function(a){a||(a={error:"empty response"});a.data=f;b.handleResponse(a);delete b;delete f}};try{FB.api(f.url,f.method,f.params,f.callback)}catch(g){Logger.error(g.message)}}});
GD.fb.initFbSendDialog=function(a){function b(a){d&&d.close();d=window.open("","Send_Message",e);d.location=c+a;d.focus()}var c="https://www.facebook.com/dialog/send?app_id="+a+"&link=https://apps.facebook.com/glassdoor&name=Sent via Glassdoor - it's an inside look at jobs and companies&description=Get access to salaries, reviews and your inside connections&redirect_uri="+document.location.protocol+"//"+document.location.host+"/Connections/sendMessage/complete.htm&to=",e="height=400, width=900, left=100, top=100, scrollbars=yes",
d;$(".fbSendDialogLink").bind("click keypress",function(){b($(this).attr("data-to"));return!1});return b};
GD.fb.FeedDialog=GD.Class({constructor:function(a){this.feedTracker=a},bind:function(a,b){a.bind("click keypress",b)},promptToFeed:function(a,b){GD.effects.occludePage();GD.fb.fbRootReset();var c=this;FB.ui({method:"feed",link:a.data("fbFeedLink"),picture:a.data("fbFeedPicture"),name:a.data("fbFeedName"),caption:a.data("fbFeedCaption"),description:a.data("fbFeedDescription")},function(e){GD.effects.revealPage();c.handleFbResponse(e,a,"_PREVIEW");"function"==typeof b&&b(e)})},postToFeed:function(a,
b){var c=this,e={link:a.data("fbFeedLink"),picture:a.data("fbFeedPicture"),name:a.data("fbFeedName"),caption:a.data("fbFeedCaption"),description:a.data("fbFeedDescription")};FB.api("/me/feed","post",e,function(d){c.handleFbResponse(d,a,"_AUTO");"function"==typeof b&&b(d)})},handleEmptyResponse:function(){Logger.error("No response from Facebook - post probably cancelled.")},handleFbResponse:function(a,b,c){if(a){Logger.inspect(a);var e=b.data("eventType");"NEW_USER_WALL_POST"===e&&(e+=c);a.eventType=
e;a.sid=b.data("sid");var d;a.error?d="fb wallpost failed: c="+a.error.code+",m="+a.error.message+" [fr="+b.data("gid")+"]":a.error_code&&a.error_msg&&(d="fb wallpost failed: c="+a.error_code+",m="+a.error_msg+" [fr="+b.data("gid")+"]");d?this.handleFbError(d):this.handleFbSuccess(a)}else this.handleEmptyResponse()},handleFbError:function(a){Logger.error("GD.fb.FeedDialog: "+a);Logger.logToServer(a,LOGGER.ERROR)},handleFbSuccess:function(a){this.feedTracker.trackWallPostFeed(a.sid,a.eventType)}});
GD.fb.initFbFeedDialogLink=function(){var a=new GD.fb.TrackingHandler("/track/ajax/invitationTracking.htm"),b=new GD.fb.FeedDialog(a);b.bind($("a.fbFeedDialogLink"),function(){b.promptToFeed($(this));return!1});return b};GD.fb.initUserAlertConnections=function(){$("#UserAlertContinueBtn,#GenericPopupOuterFrame .closeBox,#UserAlertSocialNetworkLinked .closeBox").on("click keypress",function(){GD.userAlert.closePopup()})};window.GD=window.GD||{};GD.fb=GD.fb||{};GD.fb.INCLUDE_FRIENDS_AJAX_URL="/member/ajax/includeFriendsAjax.htm";GD.fb.INCLUDE_FRIENDS_TRACKING_AJAX_URL="/track/ajax/invitationTracking.htm";GD.fb.INCLUDE_FRIENDS_THROTTLING_AJAX_URL="/track/ajax/invitationThrottling.htm";GD.fb.INCLUDE_FRIENDS_COMPLETE_CHECK_PACING_MILLIS=500;GD.fb.MAX_FRIEND_LOAD_ATTEMPTS=40;GD.fb.NETWORK_ID_PREFIX="Network-";
GD.fb.initIncludeFriendsPage=function(a,b){var d=$("body").is(".mobile"),c=$("div#IncludeFriends"),e=c.data("maxNetworksShown"),f=new GD.fb.IncludeFriendsView(d,a),c=$("div.network",c);f.initNetworks(c);var c=new GD.fb.TrackingHandler(GD.fb.INCLUDE_FRIENDS_TRACKING_AJAX_URL,"FB_APP_REQUEST"),c=new GD.fb.FBAppRequestHandler(d,c),g=null;a&&f.updateProgressBar();b||(g=new GD.fb.InviteFriendsLoader(a,b,e,GD.fb.INCLUDE_FRIENDS_AJAX_URL,GD.fb.INCLUDE_FRIENDS_COMPLETE_CHECK_PACING_MILLIS,GD.fb.MAX_FRIEND_LOAD_ATTEMPTS));
var h=new GD.fb.IncludeFriendsController(d,c,g,f,a,b);$("#SkipPage .loaded a").on("click",function(a){h.onNextButton(a)});$("#IncludeFriends div.friendAddedBox img.closeBox").on("click",function(a){h.closePromoBox(a)})};
GD.fb.IncludeFriendsController=GD.Class({constructor:function(a,b,d,c,e,f){var g=this;g.isMobile=a;g.isAllFriendsLoaded=e;g.isFriendsLoaded=e;g.isFinishedLoading=f;g.requestHandler=b;g.friendsLoader=d;g.view=c;g.$includeFriends=$("div#IncludeFriends");g.$includeFriends.data("endGame",!1);b.bind("requestComplete",function(a){g.handleRequestComplete(a)});b.bind("requestCancel",function(){g.view.updateProgressBar()});c.bind("sendRequest",function(a){g.handleSendRequest(a)});e||(d.bind("friendsLoaded",
function(a){g.handleFriendsLoadedFromGlassdoor(a)}),GD.fb.getFriends(function(a,b){g.handleAllFriendsLoaded(a,b)},"id,name,installed,picture"));f||(d.bind("finishedLoading",function(){g.view.handleFinishedLoading()}),d.poll(f))},handleAllFriendsLoaded:function(a,b){if(!this.isAllFriendsLoaded&&a&&(this._getThrottlingList(a),this.view.initAllFriends(a),this.isAllFriendsLoaded=!0,this.isFriendsLoaded))this.onAllNetworksLoaded(!0);!this.isMobile&&a&&a.length?this._showActivitySharingDialog(a):b&&Logger.warn('handleAllFriendsLoaded got error: "'+
b+'". Probably because access token expired.')},handleFriendsLoadedFromGlassdoor:function(a){if(!this.isFriendsLoaded){var b=a&&0<a.invitableFriendsCount;if(!this.isAllFriendsLoaded&&a.friends&&a.friends.length&&(this.view.initAllFriends(a.friends,a.facepileFriends,a.friendsUsingGdCount),this.isAllFriendsLoaded=!0,this.isFriendsLoaded))this.onAllNetworksLoaded(!0);this.isFriendsLoaded=!0;if(b)this.view.initFriends(a,this.isAllFriendsLoaded);else this.onPageComplete(!0);this.onAllNetworksLoaded(b)}},
onAllNetworksLoaded:function(a){this.friendsLoader.setFinishedLoading();this.view.onAllNetworksComplete(a)},handleSendRequest:function(a){this.requestHandler.sendRequest(a,this.view)},handleRequestComplete:function(a){var b=this.$includeFriends.data("endGame"),d=!0;if(a&&(d=this.view.updateInvitedFriends(a))){var c=0;this.view.updateProgressBar(!0,!0);this.isMobile||(c=$("#"+GD.fb.NETWORK_ID_PREFIX+a.networkId),c=$("div.networkFriendsList div.notInvited",c),c=$("input:checked",c).length);if(0<c)this.view.doAppRequests(this.view.$currentInviteNetwork,
!1);else if(!b)this.view.onInvitesComplete()}if(a&&!d)this.onPageComplete(b);else if(b)this.onPageComplete(!a)},onNextButton:function(a){GD.analytics.trackEvent(this.view.SOCIAL_CLICKS_CATEGORY,"next-button");a.preventDefault();this.onPageComplete()},closePromoBox:function(a){var b=$(a.target).closest("div.promoBox");b.hide("blind",400,function(){b.remove()})},onPageComplete:function(a){var b=this.$includeFriends.data("facebookHosted"),d=this.$includeFriends.data("newUser"),c=this.$includeFriends.data("endGame"),
e;if(c)a&&(e=!d||f||b?this.$includeFriends.data("nextUrl"):this.$includeFriends.data("nextUrlWithoutInvitesOnGd"));else{var f=0<this.$includeFriends.data("invitedFriendsCount");a||f||!d?e=this.$includeFriends.data("nextUrl"):!c&&d&&!this.isMobile?(this.$includeFriends.data("endGame",!0),this.view.doAppRequests($("#Network-All"),!0,!0)):e=b?this.$includeFriends.data("nextUrl"):this.$includeFriends.data("nextUrlWithoutInvitesOnGd")}e&&(this.view.updateProgressBar(!1),GD.dom.loadUrl(e,"_top"))},_getThrottlingList:function(a){var b=
this;if(a.length){for(var d=GD.fb.INCLUDE_FRIENDS_THROTTLING_AJAX_URL,c="",e=0;e<a.length;++e)0<e&&(c+=","),c+=a[e].id;jQuery.ajax({type:"POST",url:d,data:{sourceIds:c},success:function(a){b._onThrottlingListComplete(a)},error:function(a,b,c){Logger.error("Request failed to URL ("+d+').  Error thrown is "'+c+'"')}})}},_onThrottlingListComplete:function(a){a&&a.throttledSourceIds&&a.throttledSourceIds.length&&this.view.setThrottledSourceIds(a.throttledSourceIds);return!0},_showActivitySharingDialog:function(a){if(this.$includeFriends.data("showActivitySharingDialog")){var b=
this.$includeFriends.data("friendsUsingGdCount");b&&GD.fb._showActivitySharingDialog(b,a)}}});
GD.fb.InviteFriendsLoader=GD.Class({constructor:function(a,b,d,c,e,f){this.ajaxUrl=c;this.attemptIntervalMs=e;this.maxAttempts=f;this.isFriendsLoaded=a;this.isFinishedLoading=b;this.maxNetworksShown=d},setFinishedLoading:function(){this.isFinishedLoading=!0;this.onFinishedLoading()},onFriendsLoaded:function(a){Logger.inspect(a,"GD.fb.InviteFriendsLoader.onFriendsLoaded() expected to be re-defined by the controller via 'bind'")},onFinishedLoading:function(){Logger.warn("GD.fb.InviteFriendsLoader.onFinishedLoading() expected to be re-defined by the controller via 'bind'")},
bind:function(a,b){if("function"!=typeof b)throw Error("FBAppRequestHandler#bind() expects function argument");switch(a){case "friendsLoaded":this.onFriendsLoaded=b;break;case "finishedLoading":this.onFinishedLoading=b;break;default:throw Error("InviteFriendsLoader#bind() unexpected method: '"+a+"'");}},poll:function(){var a=this;jQuery.ajax({url:a.ajaxUrl,dataType:"json",data:{friendsNeeded:!a.isFriendsLoaded,maxNetworks:a.maxNetworksShown},success:function(b){b||Logger.error("No data returned for GD.fb.InviteFriendsLoader.poll()");
a.process(b)},error:function(b,d,c){Logger.inspect(c,"GD.fb.InviteFriendsLoader.poll() error: "+d);a.process(null)}})},process:function(a){var b=this;a&&a.friendsLoaded&&!b.isFriendsLoaded&&(b.isFriendsLoaded=a.isFriendsLoaded,b.onFriendsLoaded(a));a&&a.finishedLoading&&!b.isFinishedLoading&&(b.isFinishedLoading=!0,b.onFinishedLoading());if(0>=b.maxAttempts){if(b.isFriendsLoaded||(b.isFriendsLoaded=!0,b.onFriendsLoaded()),!b.isFinishedLoading)b.isFinishedLoading=!0,b.onFinishedLoading()}else b.isFinishedLoading||
(b.maxAttempts-=1,GD.wait(b.attemptIntervalMs).then(function(){b.poll()}))}});
GD.fb.IncludeFriendsView=GD.Class({INCLUDE_BTN_ID_PREFIX:"IncludeBtn-",FRIEND_CHK_ID_PREFIX:"Friend-",FACEBOOK_FRIENDS_SUFFIX:"All",SOCIAL_CLICKS_CATEGORY:"social-clicks",MAX_NUMBER_OF_LOGO_FRIENDS:5,PROGRESS_FLOATING_GAP:30,PROGRESS_BAR_ANIMATION_TIME:600,HEADER_FLOATING_TIMEOUT:250,MAX_FACEPILE_FRIENDS:8,constructor:function(a,b){this.isMobile=a;this.isFriendsLoaded=b;this.$includeFriends=$("div#IncludeFriends");this.maxNetworksShown=this.$includeFriends.data("maxNetworksShown");this.batchMaximum=
this.$includeFriends.data("fbBatchMaximum");this.$includeFriends.data("invitedFriendsCount",0);this.$currentInviteNetwork=this.throttledSourceIds=null},initNetworks:function(a){var b=this;if(!b.isMobile)$(".toggle",a).not(".allUsers").on("click",function(){var a=$(this).closest("div.network"),a=$(".networkFriendsList",a);b.toggleFriendsList(a)});a=$(".listAction.gd-btn",a);a.each(function(){var a=$(this),c=a.closest("div.network").data("networkId");a.attr("id",b.INCLUDE_BTN_ID_PREFIX+c)});a.bind("click keypress",
function(a){b.doAppRequests($(this).closest("div.network"),!0);a.preventDefault()})},doAppRequests:function(a,b){this.$currentInviteNetwork=a;var d=a.attr("id").split("-")[1],c=$("div.networkFriendsList",a),c=$("div.notInvited",c),e=$("input:checked",c),f=e.length;if(1>f)alert("Please select some friends to invite from "+$(".title h3",a).text()+".");else{var g=GD.dom.getDocUrl(),c="new_user";~g.indexOf("utm_source=")&&(c=g.split("utm_source=")[1].split("&")[0]);g="ADD_NEXT_BATCH";if(b){this.isMobile||
GD.effects.occludePage(null,null,null,null,0.95);this.updateProgressBar(!0);var h=a.data("networkType"),j="include-them-",i=a.data("networkName");i||(i="<unknown>");switch(h){case "FACEBOOK_FRIENDS":j+="all";g="ADD_ALL_FRIENDS";break;case "GRAPH_EMPLOYER":j+="work";g="ADD_WORK_FRIENDS";break;case "GRAPH_SCHOOL":j+="school";g="ADD_SCHOOL_FRIENDS";break;default:j+="unknown-type"}GD.analytics.trackEvent(this.SOCIAL_CLICKS_CATEGORY,j,i)}i=0;h=[];for(j=[];i<f;){var k=$(e[i]).closest("div.friend"),l=k.data("sid");
if(this.throttledSourceIds&&0<=this.throttledSourceIds.indexOf(l))this._updateInvitedFriend(k);else if(j[j.length]=k.data("gid"),h[h.length]=l,h.length===this.batchMaximum)break;i+=1}i=this.$includeFriends.data("endGame");e=a.data("friendsCount");f=a.data("invitedFriendsCount");0<f?(i=a.data("fbTitle2"),i=i.replace("{invites}",f.addSeparators()).replace("{potential}",e.addSeparators())):i=i?a.data("fbTitleEndGame"):a.data("fbTitle");e=a.data("fbMessage");~e.indexOf(this.FACEBOOK_FRIENDS_COUNT_TEMPLATE)&&
(e=e.replace(this.FACEBOOK_FRIENDS_COUNT_TEMPLATE,this.$includeFriends.data("invitableFriendsCount")),a.data("fbMessage",e));Logger.info("GD.fb.IncludeFriendsController:doAppRequests: sending request to FB");this.onSendRequest({networkId:d,toGids:j,toSids:h,message:a.data("fbMessage"),title:i,entry:c,triggerButton:g})}},setThrottledSourceIds:function(a){this.throttledSourceIds=a},onSendRequest:function(){Logger.warn("friendsView.onSendRequest() expected to be re-defined by the controller")},bind:function(a,
b){if("function"!=typeof b)throw Error("IncludeFriendsView#bind() expects function argument");switch(a){case "sendRequest":this.onSendRequest=b;break;default:throw Error("IncludeFriendsView#bind() unexpected method: '"+a+"'");}},initFriends:function(a,b){if(a&&0<a.invitableFriendsCount){var d=a.networksWithFriends;this.$includeFriends.data("invitableFriendsCount",a.invitableFriendsCount);this.$includeFriends.data("friendsUsingGdCount",a.friendsUsingGdCount);if(!b){var c=$("#"+GD.fb.NETWORK_ID_PREFIX+
this.FACEBOOK_FRIENDS_SUFFIX);this.addAllFriendsLogo(a.facepileFriends,friendsUsingGdCount);this.finalizeNetworkActions(c,!0)}for(c=0;c<d.length;++c)this.addNetworkFriends(d[c],!1);this.finalizeNetworks()}},initAllFriends:function(a,b,d){var c=0;d||(d=0);if(b)c=a.length;else if(a){for(var b=[],e=[],c=0;c<a.length;c++)d=a[c],d.installed?b[b.length]=d:e.push(d);c=e.length;d=b.length;a=e}this.$includeFriends.data("invitableFriendsCount",c);this.$includeFriends.data("friendsUsingGdCount",d);if(0<d){if(!b){b=
[];for(e=0;e<a.length;e++)a[e].installed&&(b[b.length]=a[e])}this.addAllFriendsLogo(b,d)}this.finalizeNetworkActions($("#"+GD.fb.NETWORK_ID_PREFIX+this.FACEBOOK_FRIENDS_SUFFIX),!0);b={};b.invitableFriendsCount=c;b.friends=a;this.addNetworkFriends(b,!0);0<c&&this.updateProgressBar(!1)},addNetworkFriends:function(a,b){if(!a.friends||0>a.friends.length)return Logger.error("error adding network friends"),!1;var d=b?this.FACEBOOK_FRIENDS_SUFFIX:a.sourceId,c=$("#"+GD.fb.NETWORK_ID_PREFIX+d),e=$(".toggle",
c),f=0,g=a&&0<a.invitableFriendsCount;networkName=$(".title h3",c).text().trim();g&&(c.data("friendsCount",a.invitableFriendsCount),f=a.invitableFriendsCount.addSeparators(),g=c.data("fbMessage"),g=g.replace(this.FACEBOOK_FRIENDS_COUNT,this.$includeFriends.data("invitableFriendsCount")),c.data("fbMessage",g));b||$(".count",e).html(f);1==a.friends.length&&$(".plural",e).hide();c=$(".networkFriendsList",c);this.addFriendsList(d,c,a.friends);e.removeClass("hidden")},addAllFriendsLogo:function(a,b){for(var d=
$("#"+GD.fb.NETWORK_ID_PREFIX+this.FACEBOOK_FRIENDS_SUFFIX),c=$("div.logo",d),e=Math.min(a.length,this.MAX_NUMBER_OF_LOGO_FRIENDS),f=0;f<e;f++){var g=a[f],h=GD.fb.getFriendAvatar(g);h&&(g.name&&h.attr("title",g.name),$(".tinyAvatars",c).append(h))}e=$(".toggle",d);c=$(".count",e);e=$(".message",e);!this.isMobile&&0<e.length&&(f=e.data("predicate"),g=1!==a.length?e.data("subject"):e.data("singular"),c.html(b).show().removeClass("hidden"),e.html(g+f));d.removeClass("emptyNetwork")},addFriendsList:function(a,
b,d){var c=b.closest("div.network"),e=$("#NetworkFriendsListTmpl .friendTmpl").clone(!0),f=null,g=!1;e.removeClass("friendTmpl");c.data("uninvitedFriendsCount",d.length);for(var c=0,h,j,i,k,l;c<d.length;++c)if(i=d[c],j=i.sourceId||i.id,k=this.FRIEND_CHK_ID_PREFIX+a+"-"+j,h=e.clone(),h.data({sid:j,gid:i.id}),h.attr("sid",j),(l=0===c%2)?(f=$("<div class='row'>"),g&&f.addClass("oddRow"),h.addClass("firstInRow")):g=!g,j=$("label",h),j.attr("for",k),$(":checkbox",h).attr("id",k),$("span",j).text(i.name),
f.append(h),!l)b.append(f),f.append("<div class='clear'></div>"),f=null;f&&(f.append("<div class='clear'></div>"),b.append(f))},toggleFriendsList:function(a){if(!a.is(":animated")){var b=a.is(":visible");a.closest(".network");b?a.hide("blind",null,"fast"):a.show("blind",null,"fast")}},handleFinishedLoading:function(){this.finishedLoading=!0},updateProgressBar:function(a,b){var d=$("#ProgressBarHeader"),c=$("div.progressBar",d),e=$(".contents",c),f=this.$includeFriends.data("friendsUsingGdCount"),
g=this.$includeFriends.data("invitedFriendsCount"),h=this.$includeFriends.data("invitableFriendsCount");if(0<h&&GD.isNumber(f)&&GD.isNumber(g)){h=f+h;g=100*((f+g)/h);g=99<g?100:0<g&&1>g?1:Math.floor(g);f=100*(f/h);0<f&&1>f&&(f=1);this.totalInvitedFriendsPercent=g-f;$("div.existingFriends",c).css("width",f+"%");f=$("#Network-All .action .listActionAll .btnLabel");this.isMobile&&(f=f.closest(".action").find(".ui-btn-text"));f.length&&(h=f.html(),h=h.replace(/\d+/,100-Math.floor(g)),f.html(h));0<this.totalInvitedFriendsPercent&&
(f=$("div.newFriends",c),f.show(),f.animate({width:this.totalInvitedFriendsPercent+"%"},this.PROGRESS_BAR_ANIMATION_TIME));$("p.msg",e).hide();0>=g?$("p.percent0",e).show():20>=g?(f=$("p.percentTo20",e),$("span.num",f).html(g),f.show()):99<g?$("p.percent100",e).show():(f=95<g?$("p.percentOver95",e):$("p.floatingPercentage",e),$("span",f).html(g),f.show());if(0==$("div.tick:visible:first",c).length){g=$(".tickTmpl",e);f=e.width();for(h=1;10>h;h++){var j=Math.floor(f*0.1*h),i=g.clone();i.css("left",
j);i.removeClass("hidden tickTmpl");e.prepend(i)}}c.is(":hidden")&&c.show();b||this.positionProgressBar(a,d)}},positionProgressBar:function(a,b,d){var c=this;if(!c.isMobile){if(!b||0==b.length)b=$("#ProgressBarHeader");if($("div.progressBar",b).is(":visible"))if(a){var e;d&&d.isChildOf("body")&&(e=d.offset());if(e&&0<=e.top&&0<=e.left){e=d.offset();var f=e.top-(b.height()+c.PROGRESS_FLOATING_GAP),d=e.left+(d.width()-b.width())/2;if(c.headerTop!=f||c.headerLeft!=d)if(0<f){if(b.parent().is("div.headerHolder")?
($("body").append(b),b.css({zIndex:5E3,top:f,left:d})):b.css({top:f,left:d}),c.headerTop=f,c.headerLeft=d,c.floatingHeaderPositionTimeout)clearTimeout(c.floatingHeaderPositionTimeout),c.floatingHeaderPositionTimeout=null}else b.parent().is("body")&&(b.appendTo(".headerHolder",c.$includeFriends),b.css({zIndex:"auto",top:0,left:0})),c.headerTop=-99999,c.headerLeft=-99999}else{var d=$("body #fb-root div.fb_dialog iframe.FB_UI_Dialog"),g=null;if(1<d.length)for(f=0;f<d.length;f++){var h=$(d[f]);e=h.offset();
if(0<=e.top&&0<=e.left){g=h;break}}else g=d;c.headerTop=-99999;c.headerLeft=-99999;if(!g||!g.length)g=null;c.floatingHeaderPositionTimeout=GD.wait(c.HEADER_FLOATING_TIMEOUT).then(function(){c.positionProgressBar(a,b,g)})}}else if(c.floatingHeaderPositionTimeout&&(clearInterval(c.floatingHeaderPositionTimeout),c.floatingHeaderPositionTimeout=null),d=$(".headerHolder",c.$includeFriends),!b.isChildOf(d))b.appendTo(d),b.css({zIndex:"auto",top:0,left:0})}},finalizeNetworks:function(){var a=this;$networksContainer=
$("#IncludeFriendsNetworks .networks",a.$includeFriends);var b=[];$("div.network",$networksContainer).each(function(){var c=$(this);if(0>=c.data("friendsCount")){var d=$(".title h3",c).text().trim();Logger.debug("Removing empty network: "+d);c.remove()}else c.hide(),b.push({network:c,count:c.data("friendsCount")}),a.finalizeNetworkActions(c)});if(0<b.length){b.sort(function(a,b){return b.count-a.count});0<b.length&&$(".networksSeparator").fadeIn(250);for(var d=0;d<b.length;d++){var c=b[d].network;
$networksContainer.append(c);c.fadeIn(250).removeClass("hidden")}}},finalizeNetworkActions:function(a,b){b&&(a.fadeIn(250).removeClass("hidden"),this.onAllNetworksComplete(0<this.$includeFriends.data("invitableFriendsCount")));$(".action .loading",a).hide();$(".action .notComplete",a).show()},onAllNetworksComplete:function(a){if(a){var b=$("#SkipPage .loaded");b.hide();$("#SkipPage .notLoaded").fadeOut(function(){b.fadeIn()})}},updateInvitedFriends:function(a){var b=this,a=a.toSids,d=$("#IncludeFriendsNetworks div.network",
b.$includeFriends),c=$("div.networkFriendsList",d),e=b.$includeFriends.data("invitedFriendsCount");b.$includeFriends.data("invitedFriendsCount",e+a.length);for(var e=0,f;e<a.length;++e)f=$("div.friend[sid="+a[e]+"]",c),f.length&&f.each(function(){b._updateInvitedFriend($(this))});var g=!1;d.each(function(){0<$(this).data("uninvitedFriendsCount")&&(g=!0)});if(!g)b.onInvitesComplete();return g},_updateInvitedFriend:function(a){a.removeClass("notInvited").addClass("invited");$(":checkbox",a).prop("disabled",
!0);a=a.closest("div.networkFriendsList").closest(".network");a.data("invitedFriendsCount",a.data("invitedFriendsCount")+1);var b=a.data("uninvitedFriendsCount")-1;a.data("uninvitedFriendsCount",b);0>=b&&this.showCompletedNetwork(a)},onInvitesComplete:function(){this.floatingHeaderPositionTimeout&&(clearInterval(this.floatingHeaderPositionTimeout),this.floatingHeaderPositionTimeout=null);this.updateProgressBar(!1);this.isMobile||GD.effects.revealPage();this.$currentInviteNetwork=null},showCompletedNetwork:function(a){var b=
$("div.action",a),a=$(".notComplete",b);a.is(":visible")&&!a.is(":animated")&&$(".notComplete",b).fadeOut(400,function(){$(".complete",b).fadeIn(400)})}});
GD.fb.FBAppRequestHandler=GD.Class({constructor:function(a,b){this.isMobile=a;this.tracker=b;this.$includeFriends=$("div#IncludeFriends")},onRequestComplete:function(){Logger.warn("GD.fb.FBAppRequestHandler.onRequestComplete(): expected to be re-defined by the controller via 'bind'")},onRequestCancel:function(){Logger.warn("GD.fb.FBAppRequestHandler.onRequestCancel(): expected to be re-defined by the controller via 'bind'")},bind:function(a,b){if("function"!=typeof b)throw Error("GD.fb.FBAppRequestHandler.bind() expects function argument");
switch(a){case "requestComplete":this.onRequestComplete=b;break;case "requestCancel":this.onRequestCancel=b;break;default:throw Error("FBAppRequestHandler#bind() unexpected method: '"+a+"'");}},sendRequest:function(a,b){var d=this;d.isMobile||GD.fb.fbRootReset();var c=!document.location.port||"80"==document.location.port?"dialog":"popup";d.isMobile&&(c=null);FB.ui({display:c,method:"apprequests",new_style_message:!0,message:a.message,title:a.title,to:""+a.toSids},function(c){c&&(c.networkId=a.networkId,
c.toGids=a.toGids,c.toSids=a.toSids,c.entry=a.entry,c.triggerButton=a.triggerButton);d.handleResponse(c,b)})},handleResponse:function(a,b){Logger.debug("server response recieved");a&&!a.error&&!a.error_code&&!a.error_msg?(this.tracker.trackAppRequest(a),this.onRequestComplete(a)):this.$includeFriends.data("endGame")?(this.onRequestCancel(a),this.onRequestComplete(a)):(a?this.error(a):Logger.debug("GD.fb.FBAppRequestHandler.handleResponse(): fbResponse is null -- probably cancelled"),b.onInvitesComplete())},
error:function(a){Logger.inspect(a,"GD.fb.FBAppRequestHandler.error(): app request error");a="fb apprequest failed: c="+a.error_code+",m="+a.error_msg+" [fr="+response.authResponse.userID+", to="+a.toSids+"]";Logger.error("GD.fb.FBAppRequestHandler.error(): "+a);Logger.logToServer(a,LOGGER.ERROR)}});GD.fb.SHOW_ACTIVITY_URL="/member/ajax/publishActivateOpenGraphAjax.htm";
GD.fb._showActivitySharingDialog=function(a,b){var d;d=$("#ActivitySharingDlg").clone();d.removeAttr("id").removeClass("hidden");var c=d.data("maxAvatars"),c=Math.min(c,a);$("span.numFriends",d).html(a.addSeparators());GD.aug.addDynamicForIds(d);if(b&&b.length)for(var e=0,f=0;f<c&&e<b.length;e++){var g=b[e];if(g.installed){var h=GD.fb.getFriendAvatar(g);h&&(f==c-1&&h.addClass("last"),g.name&&h.attr("title",g.name),$(".avatars",d).append(h));f+=1}}$("button.gd-btn",d).click(function(){GD.fb._onCloseActivitySharingDialog(d);
GD.dialogManager.closeAllDialogs()});GD.dialogManager.addCustomDialog(d,480,!0,!1,!1,function(){GD.fb._onCloseActivitySharingDialog(d)})};GD.fb._onCloseActivitySharingDialog=function(a){a=$("input",a).prop("checked");GD.analytics.trackEvent("social-clicks",a?"og-continue-checked":"og-continue-unchecked");jQuery.ajax({url:GD.fb.SHOW_ACTIVITY_URL,data:{publishToFeed:a}})};window.GD=window.GD||{};GD.fb=GD.fb||{};
GD.fb.init=function(b,a){window.fbAsyncInit=function(){Logger.info("window.fbAsyncInit called.");FB.init({appId:b,oauth:!0,status:!0,cookie:!0,xfbml:!0,frictionlessRequests:!0,useCachedDialogs:!0,channelUrl:a});Logger.info("FB.init called.");delete window.fbAsyncInit};GD.dom.loadScript(document.location.protocol+"//connect.facebook.net/en_US/all.js",function(){GD.fb&&GD.fb.initAutoResize&&GD.fb.initAutoResize();GD&&GD.runOnFacebookLoad&&jQuery.isFunction(GD.runOnFacebookLoad.run)&&GD.runOnFacebookLoad.run()})};
GD.fb.onInitialized=function(b){"undefined"!==typeof window.fbAsyncInit?setTimeout(function(){GD.fb.onInitialized(b)},50):"function"===typeof b&&b()};GD.fb.LOGIN_TIMEOUT=1E4;
GD.fb.getFbLoginStatus=function(b,a){function c(a){clearTimeout(e);d||(a&&a.status?(Logger.info('FB.getLoginStatus returned "'+a.status+'"'),b(a.status,a)):(Logger.info("FB.getLoginStatus returned null"),b(null,a)))}Logger.info("GD.fb.getFbLoginStatus() enter");if("function"!==typeof b)Logger.fatal("GD.fb.getFbLoginStatus() required callback function param.");else{var d=!1,e=setTimeout(function(){d=!0;Logger.info("FB.getLoginStatus timed out");b(null)},GD.fb.LOGIN_TIMEOUT);GD.fb.onInitialized(function(){FB.getLoginStatus(c,
a)});Logger.info("GD.fb.getFbLoginStatus() exit")}};
GD.fb.getFriends=function(b,a,c,d){"function"!==typeof b&&Logger.error("GD.fb.getFriends should be called with a handler function.");a||(a="id,name");"number"!==typeof c&&(c=5E3);GD.fb.getFbLoginStatus(function(e,f){if("connected"==e){var g="/me/friends?fields="+a+"&limit="+c;f&&f.authResponse&&f.authResponse.accessToken&&(g+="&access_token="+f.authResponse.accessToken);d&&"number"===typeof d&&(g+="&offset="+d);FB.api(g,function(a){var c;a.error&&(c='Got FB error "'+a.error.message+'" for URL "'+
g);b(a.data,c)})}else b(null,"not connected")})};GD.fb.authLoginSubscribed=!1;GD.fb.FB_LOGIN_BTN_OK="fbLoginBtnOK";GD.fb.initLoginButtons=function(b,a,c){GD.fb.authLoginSubscribed||(FB.Event.subscribe("auth.login",function(){GD.fb._onFacebookLogin(null,a,c)}),GD.fb.authLoginSubscribed=!0);$(".fbSigninBtnLink, .facebookLoginBtn, .facebookJoinNowBtn, .fbSignInPrompt").not("."+GD.fb.FB_LOGIN_BTN_OK).on("click",function(){GD.fb.facebookLogin(b,a,c)}).addClass(GD.fb.FB_LOGIN_BTN_OK)};
GD.fb.facebookLogin=function(b,a,c){try{GD.fb._doFacebookLoginPopup(b,a,c)}catch(d){Logger.error("GD.fb.facebookLogin: 'FB.getLoginStatus' threw message: "+d)}};GD.fb._doFacebookLoginPopup=function(b,a,c){FB.login(function(b){GD.fb._onFacebookLogin(b,a,c)},{scope:b})};
GD.fb._onFacebookLogin=function(b,a,c,d,e){"undefined"===typeof d&&(d=!0);"undefined"===typeof e&&(e=null);var f=!1;b&&b.authResponse&&("connected"===b.status?f=!0:"not_authorized"===b.status&&(f=!0));f&&(GD.analytics.trackPartnerAuth("facebook",!0),a=0>a.indexOf("?")?a+"?":a+"&",a+="socialNetwork=FACEBOOK&token="+b.authResponse.accessToken+"&socialUid="+b.authResponse.userID+"&signedRequest="+b.authResponse.signedRequest+"&midTx=false",c&&(a+="&u="+encodeURIComponent(c)),d?GD.dom.clearWindowAndRedirect(a):
jQuery.isFunction(e)&&e(a))};
GD.fb.TrackingHandler=GD.Class({SOCIAL_INVITATION_CATEGORY:"social-invitation",constructor:function(b,a,c,d){this.trackingUrl=b;this.eventType=a;this.success="function"==typeof c?c:this.success;this.error="function"==typeof d?d:this.error},success:function(b){Logger.debug("GD.fb.TrackingHandler: tracking success: "+b)},error:function(b){Logger.debug("GD.fb.TrackingHandler: tracking error: "+b)},trackAppRequest:function(b){var a=b.request,c=b.toSids;if("string"==typeof a||"number"==typeof a)if("string"==
typeof c&&(c=c.split(",")),"[object Array]"!={}.toString.call(c))Logger.error("GD.fb.TrackingHandler: Expected 'toSids' field in FB response to be an array.");else{for(var a="invitationType="+this.eventType,d=0;d<c.length;++d)a+="&sourceId="+c[d];b.entry&&(a+="&entry="+b.entry);b.triggerButton&&(a+="&triggerButton="+b.triggerButton);GD.analytics.trackEvent(this.SOCIAL_INVITATION_CATEGORY,this.eventType,null,c.length);jQuery.ajax({url:this.trackingUrl,type:"POST",data:a,success:function(a){Logger.debug("GD.fb.TrackingHandler: trackAppRequest success: "+
a)},error:function(a,b,c){Logger.debug("GD.fb.TrackingHandler: trackAppRequest error: "+c)}})}else Logger.error("GD.fb.TrackingHandler: Expected 'data.request' field in FB response to be a string or number.")},trackWallPostInvite:function(b){var a=this;GD.analytics.trackEvent(a.SOCIAL_INVITATION_CATEGORY,a.eventType);jQuery.ajax({url:a.trackingUrl,type:"POST",dataType:"json",data:{invitationType:a.eventType,sourceId:b},success:function(c){c.sourceId=b;c.success?a.success(c):a.error(c);delete a},error:function(c,
d,e){a.error({sourceId:b,textStatus:d,errorThrown:e});delete a}})},trackWallPostFeed:function(b,a){GD.analytics.trackEvent(this.SOCIAL_INVITATION_CATEGORY,a);jQuery.ajax({url:this.trackingUrl,type:"POST",dataType:"json",data:{invitationType:a,sourceId:b},success:function(a){Logger.debug("GD.fb.TrackingHandler: trackWallPostFeed success: "+a)},error:function(a,b,e){Logger.debug("GD.fb.TrackingHandler: trackWallPostFeed error: "+e)}})}});
GD.fb.fbRootReset=function(){var b=$("#fb-root").get(0);b.style.position="absolute";b.scrollIntoView(!1);b.style.position="fixed"};GD.fb.getFriendAvatar=function(b){var a,c=b.avatarSqThumbUrl;if(!c)try{c=b.picture.data.url}catch(d){Logger.info("failed to retrive picture data for Facebook friend: "+b.id+", "+b.name)}"string"===typeof c&&(a=$("<img>").addClass("avatar").attr("src",c));return a};window.GD=window.GD||{};GD.graph=GD.graph||{};GD.graph.BASIC_INFO_UPDATE_URL="/Resume/ajax/editGraphUser.htm";GD.graph.EDU_INSERT_URL="/Resume/ajax/editEducation_insert.htm";GD.graph.EDU_UPDATE_URL="/Resume/ajax/editEducation_update.htm";GD.graph.EDU_DELETE_URL="/Resume/ajax/editEducation_delete.htm";GD.graph.JOB_INSERT_URL="/Resume/ajax/editWorkHistory_insert.htm";GD.graph.JOB_UPDATE_URL="/Resume/ajax/editWorkHistory_update.htm";GD.graph.JOB_DELETE_URL="/Resume/ajax/editWorkHistory_delete.htm";
GD.graph.initProfile=function(a){a&&GD.aug.augmentPlaceholders()};GD.graph.initBasicInfo=function(a){a&&(a=$(".basicInfo .basicInfoRecord"),$("input[name=locationName]",a),$("input[name=locationId]",a),GD.graph._initBasicInfoCitySelect(),a=$("div.basicInfo.historySection div.historyRecord"),GD.graph._initActionButtons(a))};GD.graph.initWorkHistory=function(a){a&&(GD.graph._initEmployerAutocomplete(),$records=$("div.workHistory div.historyList div.historyRecord"),GD.graph._initActionButtons($records))};
GD.graph.initEducation=function(a){a&&(GD.graph._initSchoolAutocomplete(),a=$("div.eduHistory div.historyList div.historyRecord"),GD.graph._initActionButtons(a))};GD.graph.unsavedRecordCount=0;
GD.graph._onFieldChange=function(a){var b=$(a.target).closest(".recordEditorTemplate"),c=!0;b.data("dirtyRecord")||("keydown"==a.type&&(c=GD.event.isTextChangeKeystroke(a.which)),c&&(b.data("dirtyRecord",!0),GD.graph.unsavedRecordCount+=1,1==GD.graph.unsavedRecordCount&&$(window).bind("beforeunload",function(){return"You have unsaved changes.  Are you sure you want to leave this page?"})));return!0};
GD.graph._onRecordClean=function(a){a.data("dirtyRecord")&&(a.data("dirtyRecord",!1),GD.graph.unsavedRecordCount-=1,0>=GD.graph.unsavedRecordCount&&(GD.graph.unsavedRecordCount=0,$(window).unbind("beforeunload")))};GD.graph.isBasicInfoAjaxActive=!1;GD.graph._editBasicInfoItem=function(a){var b=$("div.currentLocation",a),a=$("div.editLocation",a);b.hide();a.show();$("input[name=locationName]",a).select().focus()};
GD.graph._onBasicInfoCitySelect=function(a,b){var c=$(".basicInfo .basicInfoRecord");c.data("isChanged",!0);GD.wait(1).then(function(){GD.graph._clearLocationNameFieldError();GD.graph._commitBasicInfo(c,a,b)},1)};GD.graph._initBasicInfoCitySelect=function(){var a=$(".basicInfo .basicInfoRecord"),b=$("input[name=locationName]",a),a=$("input[name=locationId]",a);b.blur(function(){GD.wait(1).then(GD.graph._onBasicInfoLocationNameBlur)});GD.ajax.createLocationAutoComplete(null,b,a,GD.graph._onBasicInfoCitySelect)};
GD.graph._onBasicInfoLocationNameBlur=function(){var a=$(".basicInfo .basicInfoRecord"),b=$("input[name=locationName]",a),c=$("input[name=locationId]",a),d=b.val().trim(),c=c.val(),c=jQuery.isNumeric(c)?c-0:0;0<c?GD.graph._commitBasicInfo(a,d,c):(0==d.length&&GD.graph._clearLocationNameFieldError(),b.hasClass("ui-autocomplete-opened")||GD.graph._checkInvalidLocationName(a,d,c))};
GD.graph._checkInvalidLocationName=function(a,b,c){if(!$("div.currentLocation",a).is(":visible")){var d=$("input[name=locationName]",a);b&&0>=c&&(d.hasClass("ui-autocomplete-opened")||d.autocomplete("disable").autocomplete("enable"),a=$(".fieldError",a),a.is(":hidden")&&a.show("blind"))}};GD.graph._clearLocationNameFieldError=function(){var a=$(".basicInfo .basicInfoRecord .fieldError");a.is(":visible")&&a.hide("blind")};
GD.graph._commitBasicInfo=function(a,b,c){c?(GD.graph._clearLocationNameFieldError(),b={},GD.graph._getBasicInfoFields(a,b),GD.graph._saveBasicInfo(a,b)):GD.graph._checkInvalidLocationName(a,b,c)};GD.graph._deleteBasicInfoItem=function(a){GD.graph._saveBasicInfo(a,{locationName:"",locationId:0,locationType:""})};
GD.graph._saveBasicInfo=function(a,b){if(!GD.graph.isBasicInfoAjaxActive){var c=a.data("isChanged"),d=!b.locationId&&!b.locationName;if(c||d)GD.graph._setBasicInfoFields(a,b),GD.graph.isBasicInfoAjaxActive=!0,GD.graph._ajaxAction(GD.graph.BASIC_INFO_UPDATE_URL,b,a,GD.graph._onBasicInfoSaveComplete);a.data("isChanged",!1);c=$("div.currentLocation",a);d=$("div.editLocation",a);b.locationName?(d.hide(),c.show(),GD.graph._showActions(a,!0)):(c.hide(),d.show(),$("input[name=locationName]",d).focus(),GD.graph._showActions(a,
!1))}};GD.graph._onBasicInfoSaveComplete=function(a){GD.graph.isBasicInfoAjaxActive=!1;a||($(".basicInfo .basicInfoRecord").data("isChanged",!0),GD.wait(100).then(GD.graph._editBasicInfoItem))};
GD.graph._initWorkHistoryItem=function(a,b){var c={};GD.graph._getRelationshipId(b,c);GD.graph._getJobDataFields(b,c);GD.graph._getDateRangeFields(b,c);GD.graph._setJobDataFields(a,c);GD.graph._setDateRangeFields(a,c);var d=$("input[name=currentJob]",a);d.click(function(){GD.graph._handleCurrentJobCheck(a,d)});var c=$("input:text,textarea",a),e=$("select",a),f=$("input:checkbox",a);c.keydown(GD.graph._onFieldChange);e.change(GD.graph._onFieldChange);f.click(GD.graph._onFieldChange);GD.graph._handleCurrentJobCheck(a,
d);GD.ajax.createLocationAutoComplete(null,$("input[name=locationName]",a),$("input[name=locationId]",a))};
GD.graph._initEmployerAutocomplete=function(){var a=$("#EmployerNameEditField");GD.ajax.createGraphEmployerAutoComplete(a,null,GD.graph._onEmployerSelect);a.keydown(function(b){return GD.graph._isNameEntered(a)&&(b.which==GD.event.ENTER||b.which==GD.event.TAB)?(GD.graph._onEmployerSelect(a.val(),0),!1):!0});a.blur(function(){a.hasClass("ui-autocomplete-opened")||GD.graph._isNameEntered(a)&&GD.graph._onEmployerSelect(a.val(),0)})};
GD.graph._onEmployerSelect=function(a,b,c){var d=$("#EmployerNameEditField");d.autocomplete("close").autocomplete("disable").autocomplete("enable");d.val("");var e,f;f={employerName:a,employerId:b};e=GD.graph._createEmployerEditor(f,c);GD.wait().then(function(){GD.graph._ajaxAction(GD.graph.JOB_INSERT_URL,f,e,function(a,b){GD.graph._onRecordAdded(e,b)})});return!0};
GD.graph._createEmployerEditor=function(a,b){var c={},d=$("div.workHistory");a.employerName&&(c.name=a.employerName,c.id=a.employerId);b&&(c.avatar=b.avatarSqThumbUrl,c.relationshipId=b.relationshipId,c.profileCompletePercentage=b.profileCompletePercentage);c.avatarClass="";c.avatar||(c.avatar="/static/img/spacer.gif",c.avatarClass="genericAvatar");c=GD.graph._createNewItemEditor(d,c);d.removeClass("emptySection");return c};
GD.graph._getJobDataFields=function(a,b){var c=a.is(".recordEditorTemplate"),d;if(d=c?$("input[name=jobTitle]",a).val():$("span.jobTitle",a).text())if(d=d.trim())b.jobTitle=d;if(d=c?$("input[name=locationName]",a).val():$("span.locationName",a).text()){if(d=d.trim())b.locationName=d;b.locationId=0;if(d=$("input[name=locationId]",a).val())if((d=d.trim())&&jQuery.isNumeric(d))b.locationId=d-0,b.locationId&&(b.locationType="C")}if(d=c?$("textarea[name=itemDesc]",a).val():$("p.itemDesc",a).text())if(d=
d.trim())b.description=d;GD.graph._getDateRangeFields(a,b)};
GD.graph._setJobDataFields=function(a,b){var c=a.is(".recordEditorTemplate"),d=b.jobTitle,e=b.locationName,d=d?d.trim():"",e=e?e.trim():"";c?($("input[name=jobTitle]",a).val(b.jobTitle),$("input[name=locationName]",a).val(b.locationName),$("textarea[name=itemDesc]",a).val(b.description),d&&$("input[name=jobTitle]",a).val(d)):($("p.itemDesc",a).text(b.description),$(".position .jobTitle",a).html(d),$(".position span.locationName",a).text(e),d&&(b.hasDate||e)?$("span.jobTitleSeparator",a).show():$("span.jobTitleSeparator",
a).hide(),b.hasDate&&e?$("span.dateLocSeparator",a).show():$("span.dateLocSeparator",a).hide());$("input[name=locationId]",a).val(b.locationId);$("input[name=locationType]",a).val(b.locationType);GD.graph._setDateRangeFields(a,b)};
GD.graph._validateJobFields=function(a,b){var c=a.is(".recordEditorTemplate");b.valid=!0;if(c&&(b.locationName&&!b.locationId?(b.valid=!1,$("div.fieldErrorInvalidCity",a).show("blind",200)):$("div.fieldErrorInvalidCity",a).hide(),b.hasDate))if(c=!1,0<b.startMonth&&0>=b.startYear?(b.valid=!1,$("div.fieldErrorNoStartYear",a).show("blind",200),c=!0):$("div.fieldErrorNoStartYear",a).hide(),!b.isCurrent)if(0<=b.endMonth&&0>=b.endYear?(b.valid=!1,$("div.fieldErrorNoEndYear",a).show("blind",200),c=!0):$("div.fieldErrorNoEndYear",
a).hide(),!b.isCurrent&&!c&&0<b.startYear){var d=c=0,e=0;0<b.startMonth&&(c=b.startMonth-1);d=new Date(b.startYear,c);0<b.endYear&&(c=11,0<b.endMonth&&(c=b.endMonth-1),e=new Date(b.endYear,c));d.getTime()>e.getTime()?(b.valid=!1,$("div.fieldErrorReversedDates",a).show("blind",200)):$("div.fieldErrorReversedDates",a).hide()}b.valid&&$("div.fieldError",a).hide()};GD.graph.schoolTypeHS="HIGH_SCHOOL";GD.graph.schoolTypeCollege="COLLEGE";GD.graph.numShownConcentrations=3;
GD.graph._initEducationItem=function(a,b){var c={};GD.graph._getRelationshipId(b,c);GD.graph._getEduDataFields(b,c);GD.graph._getDateRangeFields(b,c);GD.graph._setEduDataFields(a,c);GD.graph._setDateRangeFields(a,c);GD.graph._handleSchoolTypeRadio(a);$("input:radio[name=schoolType]",a).change(function(){GD.graph._handleSchoolTypeRadio(a);return!0});var c=$("input:text",a),d=$("select",a),e=$("input:radio",a);c.keydown(GD.graph._onFieldChange);d.change(GD.graph._onFieldChange);e.change(GD.graph._onFieldChange)};
GD.graph._initSchoolAutocomplete=function(){var a=$("#SchoolNameEditField");GD.ajax.createGraphSchoolAutoComplete(a,null,GD.graph._onSchoolSelect);a.keydown(function(b){return GD.graph._isNameEntered(a)&&(b.which==GD.event.ENTER||b.which==GD.event.TAB)?(GD.graph._onSchoolSelect(a.val(),0),!1):!0});a.blur(function(){a.hasClass("ui-autocomplete-opened")||GD.graph._isNameEntered(a)&&GD.graph._onSchoolSelect(a.val(),0)})};
GD.graph._onSchoolSelect=function(a,b,c){var d=$("#SchoolNameEditField");d.autocomplete("close").autocomplete("disable").autocomplete("enable");d.val("");var e,f;f={schoolName:a,schoolId:b};e=GD.graph._createSchoolEditor(f,c);GD.wait().then(function(){GD.graph._ajaxAction(GD.graph.EDU_INSERT_URL,f,e,function(a,b){GD.graph._onRecordAdded(e,b)})});return!0};
GD.graph._createSchoolEditor=function(a,b){var c={},d=$("div.eduHistory");a.schoolName&&(c.name=a.schoolName,c.id=a.schoolId);b&&(c.avatar=b.avatarSqThumbUrl,c.relationshipId=b.relationshipId,c.profileCompletePercentage=b.profileCompletePercentage);c.avatarClass="";c.avatar||(c.avatar="/static/img/spacer.gif",c.avatarClass="genericAvatar");c=GD.graph._createNewItemEditor(d,c);d.removeClass("emptySection");return c};
GD.graph._getEduDataFields=function(a,b){var c=a.is(".recordEditorTemplate"),d;if(d=c?$("input:radio[name=schoolType]:checked",a).val():$("input:hidden[name=schoolType]",a).val())if(d=d.trim())b.type=d;if(b.type!=GD.graph.schoolTypeHS){if(d=c?$("input[name=degree]",a).val():$(".schoolDetails .degree",a).html())if(d=d.trim())b.degree=d;(c?$("input[name=concentration]",a):$(".schoolDetails .concentrationList .concentrationName",a)).each(function(){var a=$(this);if(d=a.is(":input")?a.val():a.html())if(d=
d.trim())b.concentration||(b.concentration=[]),b.concentration.push(d)});b.hasConcentrations=b.concentration&&0<b.concentration.length}GD.graph._getDateRangeFields(a,b)};
GD.graph._setEduDataFields=function(a,b){var c=a.is(".recordEditorTemplate"),d,e;c?($("input:radio[name=schoolType]",a).prop("checked",!1),e=b.type?b.type:GD.graph.schoolTypeCollege,$('input[value="'+e+'"]',a).prop("checked",!0).change()):(d=$("input:hidden[name=schoolType]",a),e=b.type?b.type:-1,d.val(e));if(b.type!=GD.graph.schoolTypeHS)if(c){if(d=$("input[name=degree]",a),b.degree?d.val(b.degree):d.val(""),b.hasConcentrations){d=$("input:text[name=concentration]",a);e="";for(c=0;c<b.concentration.length;c++)c<
d.length?$(d[c]).val(b.concentration[c]):e+='<input type="hidden" name="concentration" value="'+b.concentration[c]+'" />\n';$(".surplusConcentrations",a).html(e)}}else{d=$(".schoolDetails .degree",a);b.degree?d.html(b.degree):d.html("");if(b.hasConcentrations){e=[];d=Math.min(b.concentration.length,GD.graph.numShownConcentrations);for(c=0;c<d;c++)e.push("<span class='concentrationName'>"+b.concentration[c]+"</span>");c=e.join(", ");$(".concentrationList .shownConcentrations",a).html(c);c="";if(d<
b.concentration.length){e=[];for(c=GD.graph.numShownConcentrations;c<b.concentration.length;c++)e.push("<span class='concentrationName'>"+b.concentration[c]+"</span>");c=e.join("\n")}$(".concentrationList .hiddenConcentrations",a).html(c)}b.degree&&(b.hasDate||b.hasConcentrations)?$("span.dateDegreeSep",a).show():$("span.dateDegreeSep",a).hide();b.degree&&b.hasConcentrations?$("span.degreeConcentrationSep",a).show():$("span.degreeConcentrationSep",a).hide()}GD.graph._setDateRangeFields(a,b)};
GD.graph._validateEduFields=function(a,b){var c=a.is(".recordEditorTemplate");b.valid=!0;c&&b.hasDate&&(0<b.startYear&&0<b.endYear&&b.endYear<b.startYear?(b.valid=!1,$("div.fieldErrorReversedDates",a).show("blind",200)):$("div.fieldErrorReversedDates",a).hide());b.valid&&$("div.fieldError",a).hide()};
GD.graph._handleSchoolTypeRadio=function(a){var b=$("input:radio[name=schoolType]:checked",a),c=$("div.higherEdFields",a);b.val()==GD.graph.schoolTypeHS?"none"!=c.css("display")&&c.hide("blind",200):"none"==c.css("display")&&(a.is(":visible")?c.show("blind",200):c.show())};
GD.graph._getDateRangeFields=function(a,b){a.is(".recordEditorTemplate");b.hasDate=!1;b.startMonth=$("[name=startMonth]",a).val();b.startYear=$("[name=startYear]",a).val();b.endMonth=$("[name=endMonth]",a).val();b.endYear=$("[name=endYear]",a).val();if(0<b.startYear||0<b.startMonth||0<b.endYear||0<b.endMonth)b.hasDate=!0;b.isCurrent=!1;0>=b.endYear&&0>=b.endMonth&&(b.isCurrent=!0)};
GD.graph._makeDateFieldsNumeric=function(a){a.startMonth=jQuery.isNumeric(a.startMonth)?a.startMonth-0:0;a.startYear=jQuery.isNumeric(a.startYear)?a.startYear-0:0;a.endMonth=jQuery.isNumeric(a.endMonth)?a.endMonth-0:0;a.endYear=jQuery.isNumeric(a.endYear)?a.endYear-0:0};
GD.graph._setDateRangeFields=function(a,b){var c=a.is(".recordEditorTemplate"),d=a;d.is(".historyRecord")||(d=d.closest(".historyRecord"));b.isCurrent=!0;$("[name=startMonth]",a).val(b.startMonth);$("[name=startYear]",a).val(b.startYear);$("[name=endMonth]",a).val(b.endMonth);$("[name=endYear]",a).val(b.endYear);b.isCurrent=!(0<b.endYear);if(c)d.is(".workItem")&&(c=$("input[name=currentJob]",a),c.prop("checked",b.isCurrent),GD.graph._handleCurrentJobCheck(a,c));else if(d.is(".eduItem")){c="";0<b.startYear&&
0<b.endYear?c=b.startYear==b.endYear?b.endYear:b.startYear+" &ndash; "+b.endYear:0<b.startYear?c=b.startYear+" &ndash;":0<b.endYear&&(c=b.endYear);var d=$(".schoolDetails .schoolYears",a),e=$(".dateConcentrationSep",a);d.html(c);c?e.show():e.hide()}else d.is(".workItem")&&(0<b.startYear?(0<b.startMonth?(c=new Date(b.startYear,b.startMonth-1),c=b.startYear==b.endYear&&0<=b.startMonth&&0<=b.endMonth&&b.startMonth!=b.endMonth?c.f("NNN"):c.f("NNN yyyy")):c=new String(b.startYear),c=c.toString(),d=b.isCurrent?
"Present":0<b.endMonth?(new Date(b.endYear,b.endMonth-1)).f("NNN yyyy"):new String(b.endYear),d=d.toString(),$(".position .dateDesc",a).html(c==d?c:c+" &ndash; "+d),(c=$(".position .jobTitle",a).html())&&c.trim()?$("span.jobTitleSeparator",a).show():$("span.jobTitleSeparator",a).hide()):($("span.dateDesc",a).html(""),$("span.dateLocSeparator",a).hide()))};
GD.graph._handleCurrentJobCheck=function(a,b){var c=b.prop("checked"),d=$("span.jobNotCurrentFields",a),e=$("span.jobIsCurrentFields",a);c?($("select[name=endMonth]",d).val(-1),$("select[name=endYear]",d).val(-1),d.hide(),e.show()):(e.hide(),d.show())};GD.graph._isNameEntered=function(a){var b=a.val(),a=a.attr(GD.aug.ATTR_PLACEHOLDER);b&&(b=b.trim());b==a&&(b="");return!!b};
GD.graph._onRecordAdded=function(a,b){var c=a;c&&(c.is(".historyRecord")||(c=c.closest(".historyRecord")));if(b){b.relationshipId&&c.data("relationshipId",b.relationshipId);if(b.name){var d=$("h3.itemName",c);d.html()!=b.name&&d.html(b.name)}b.avatarSqThumbUrl&&(c=$("img.avatar",c),c.attr("src")!=b.avatarSqThumbUrl&&(c.attr("src",b.avatarSqThumbUrl),c.removeClass("genericAvatar")))}c=$(".focus:first",a);a.show("blind",400);c.focus().select()};
GD.graph._editItem=function(a){GD.graph._showActions(a,!1);if(a.is(".basicInfoRecord"))GD.graph._editBasicInfoItem(a);else{var b=$(".editableData",a);b.hide("blind",400,function(){GD.graph._initEditFields(a,b)})}};
GD.graph._deleteItem=function(a){var b=null;if(a.is(".basicInfoRecord"))b="your current location";else{var c=$("h3",a);c.length&&(b=c.html().trim());b||(b="this item")}if(confirm("Are you sure that you want to delete "+b+" from your profile?"))if(a.is(".basicInfoRecord"))GD.graph._deleteBasicInfoItem(a);else{var d,b={};GD.graph._getRelationshipId(a,b);a.is(".eduItem")?d=GD.graph.EDU_DELETE_URL:a.is(".workItem")&&(d=GD.graph.JOB_DELETE_URL);GD.graph._ajaxAction(d,b);a.hide("blind","fast",function(){var b=
a.closest(".historyList");a.remove();GD.graph._recalcLastItem(b)})}};GD.graph._initActionButtons=function(a){a.each(function(){var a=$(this),c=$(".actions span.edit",a),d=$(".actions span.delete",a);c.click(function(){GD.graph._editItem(a)});d.click(function(){GD.graph._deleteItem(a)})})};
GD.graph._initEditFields=function(a,b){var c=a.closest(".historySection"),d=$(".recordEditorTemplate:first",c),e;1>d.length||(e=d.clone(),$(".editArea",a).append(e),c.is(".workHistory")?GD.graph._initWorkHistoryItem(e,b):c.is(".eduHistory")?GD.graph._initEducationItem(e,b):Logger.error("GD.graph._initEditFields() -- case where section was not education or work."),GD.aug.addDynamicForIds(e),$(".saveBtn",e).click(function(){GD.graph._saveEdit(a,e)}),$(".cancelBtn",e).click(function(){GD.graph._closeEdit(a,
e)}),a.is(":visible")?e.show("blind",200):e.show(),$(".focus:first",e).focus().select())};
GD.graph._saveEdit=function(a,b){var c=$(".editableData",a),d={};GD.graph._getRelationshipId(a,d);a.is(".eduItem")?(url=GD.graph.EDU_UPDATE_URL,GD.graph._getEduDataFields(b,d),GD.graph._getDateRangeFields(b,d),GD.graph._setEduDataFields(c,d),GD.graph._setDateRangeFields(c,d),GD.graph._validateEduFields(b,d)):a.is(".workItem")&&(url=GD.graph.JOB_UPDATE_URL,GD.graph._getJobDataFields(b,d),GD.graph._getDateRangeFields(b,d),GD.graph._setJobDataFields(c,d),GD.graph._setDateRangeFields(c,d),GD.graph._validateJobFields(b,
d));d.valid&&(GD.graph._ajaxAction(url,d,a),GD.graph._closeEdit(a,b))};GD.graph._closeEdit=function(a,b){b.hide("blind",400,function(){GD.graph._showActions(a,!0);b.remove();$(".editableData",a).show("blind",400);$(".editArea",a).html("")});GD.graph._onRecordClean(b)};
GD.graph._createNewItemEditor=function(a,b){var c=$(".newItemEditorTemplate div.historyRecord.editableItem",a).clone();GD.graph._initActionButtons(c);if(c.length){var d=0;b.relationshipId&&(d=b.relationshipId);c.data("relationshipId",d);$("h3.itemName",c).html(b.name);$("img.avatar",c).attr("src",b.avatar).removeClass("genericAvatar").addClass(b.avatarClass);c.hide();$(".historyList",a).prepend(c);d=$(".editableData",c);d.hide();GD.graph._initEditFields(c,d);GD.graph._showActions(c,!1)}return c};
GD.graph._ajaxAction=function(a,b,c,d){c&&(c.is(".historyRecord")||(c=c.closest(".historyRecord")));c&&$("img.spinner",c).show();jQuery.ajax({url:a,data:b,traditional:!0,type:"POST",success:function(a){var f=!0;c&&$("img.spinner",c).hide();if(!a||!a.success)f=!1,a?Logger.inspect(a,"Response: "):Logger.error("No response object returned.");a&&a.profileCompletePercentage&&GD.graph._updateProfileComplete(a);a&&a.relationshipId&&(b.relationshipId=a.relationshipId,GD.graph._setRelationshipId(c,b.relationshipId));
jQuery.isFunction(d)&&d(f,a,a.errorMsg)},error:function(a){Logger.inspect(a,"GD.graph._ajaxAction() error");c&&$("img.spinner",c).hide();jQuery.isFunction(d)&&d(success,null,a.errorMessage)}})};GD.graph._showActions=function(a,b){b?$("div.actions",a).show():$("div.actions",a).hide()};GD.graph._getRelationshipId=function(a,b){var c=a.data("relationshipId");c&&(b.relationshipId=c)};GD.graph._setRelationshipId=function(a,b){a.data("relationshipId",b)};
GD.graph._getBasicInfoFields=function(a,b){var c;if(c=$("div.editLocation",a).is(":visible")?$("input[name=locationName]",a).val():$("div.currentLocation",a).text())if(c=c.trim())b.locationName=c;if(c=$("input[name=locationId]",a).val())if(c=c.trim())b.locationId=c;if(c=$("input[name=locationType]",a).val())if(c=c.trim())b.locationType=c};
GD.graph._setBasicInfoFields=function(a,b){$("input[name=locationName]",a).val(b.locationName);$("div.currentLocation",a).text(b.locationName);$("input[name=locationId]",a).val(b.locationId)};GD.graph._recalcLastItem=function(a){if(a.length){var b=$(".historyRecord:not(:last)",a);b.removeClass("lastItem");$(".historyRecord:last",a).addClass("lastItem");var c=a.closest("div.historySection"),b=$("div.historyRecord",a);0==b.length&&c.addClass("emptySection")}};
GD.graph._updateProfileComplete=function(a){var b=a.profileCompletePercentage;0>b?b=0:100<b&&(b=100);var c=$("div#ProfileCompletePercentage"),d=$("span.completeVal",c).add("h1 span.completeVal"),e=$(".progressBar .pctComplete",c),f=$("p.titleBar",c);d.html(b);e.animate({width:b+"%"},400);100>b?(f.is(":hidden")&&f.show(),c.is(":hidden")&&c.show(700)):f.hide(700);$("li.location",c)[a.locationComplete?"hide":"show"](200);$("li.workHistory",c)[a.workHistoryComplete?"hide":"show"](200);$("li.jobSearchCriteria",
c)[a.jobSearchCriteriaComplete?"hide":"show"](200);$("li.likedApp",c)[a.likedApp?"hide":"show"](200)};GD.graph._updateProfileOnInvite=function(a){a.minimumInvitationsSentCountReached&&$("ul.profileSteps li.invitation").hide(200);var a=a.profileCompletePercentage,b=$("#ProfileCompletePercentage"),c=$("span.completeVal",b).add("h1 span.completeVal"),d=$(".progressBar .pctComplete",b),b=$("p.titleBar",b);c.html(a);d.animate({width:a+"%"},400);100==a&&b.hide(700)};
GD.graph._updateProfileOnLikedApp=function(a){var a=a.profileCompletePercentage,b=$("#ProfileCompletePercentage"),c=$("span.completeVal",b).add("h1 span.completeVal"),d=$(".progressBar .pctComplete",b),b=$("p.titleBar",b);c.html(a);d.animate({width:a+"%"},400);100==a&&b.hide(700)};GD.graph.JOB_SEARCH_CRITERIA_AJAX="/member/edits/jobSearchCriteriaAjax_input.htm";
GD.graph.JOB_SEARCH_CRITERIA_CONTEXT={FEATURED_JOBS:"FEATURED_JOBS",GD_JOB_VIEW:"GD_JOB_VIEW",JOBS_TAB:"JOBS_TAB",NEW_FB_EMAIL:"NEW_FB_EMAIL",PROFILE_EDIT:"PROFILE_EDIT",PROFILE_HOME:"PROFILE_HOME"};
GD.graph.initJobSearchCriteriaDialog=function(a,b){if(a){var c=$(".jobSearchCriteriaDialog");if(1>c.length){c=$("<div>").addClass("jobSearchCriteriaDialog");c.data("jobSearchCriteriaContext",a);c.on("submit",function(a){GD.graph.onJobSearchCriteriaSubmit(c);a.preventDefault()});c.on("click",function(a){$(a.target).is(".closeDlg")&&(GD.graph.closeJobSearchCriteriaDialog(c),a.preventDefault())});c.data("status","");var d=$("<div>").addClass("hidden").append(c);$(document.body).append(d)}$(".jobSearchCriteriaLink").on("click",
function(a){a.preventDefault();"processing"!=c.data("status")&&(c.data("status","processing"),GD.graph.createJobSearchCriteriaDialog(c))});b&&GD.graph.createJobSearchCriteriaDialog(c)}else Logger.warn("jobSearchCriteriaContext not defined")};
GD.graph.createJobSearchCriteriaDialog=function(a){var b=a.data("jobSearchCriteriaContext");$.ajax({url:GD.graph.JOB_SEARCH_CRITERIA_AJAX,data:{jobSearchCriteriaContext:b},success:function(b){a.html(b);GD.aug.augmentPlaceholders($("#DefaultJobTitle",a));var b=$("input[name=defaultCity]",a),d=$("input[name=defaultCityId]",a);GD.ajax.createLocationAutoComplete(null,b,d);GD.graph.showJobSearchCriteriaDialog(a)},error:function(a,b,e){Logger.error(e)}})};
GD.graph.showJobSearchCriteriaDialog=function(a){var b=a.data("jobSearchCriteriaContext"),c=a.get(0);GD.dialogManager.addCustomDialog(c,590,!0,!1,!0,function(){GD.graph.closeJobSearchCriteriaDialog(a)},null,function(){$(this.dialogElement).css({position:"fixed",top:"100px"});GD.analytics.trackEvent("job-search-prefs","viewed-djs",b);$("input[name=defaultJobTitle]").focus()},null,!0)};
GD.graph.onJobSearchCriteriaSubmit=function(a){var b=$(".jobSearchCriteriaForm",a),c=b.attr("action"),d={};$("input",b).each(function(){d[this.name]=this.value});$(".fieldError").remove();$.ajax({url:c,data:d,success:function(b){if(b.match(/fieldError|errorMessage/gi))GD.graph.processJobSearchCriteriaErrors(b,a);else GD.graph.onJobSearchCriteriaComplete(a)},error:function(){alert("Sorry - there was an error on our side - you may try again or close this dialog")}})};
GD.graph.processJobSearchCriteriaErrors=function(a,b){var c=$("<div>").html(a);$(".fieldError",c).each(function(){var a=$(this),c=a.parent()[0].className;$("."+c,b).prepend(a)})};
GD.graph.onJobSearchCriteriaComplete=function(a){var b=a.data("jobSearchCriteriaContext");GD.analytics.trackEvent("job-search-prefs","updated-djs",b);GD.graph.closeJobSearchCriteriaDialog(a);(b===GD.graph.JOB_SEARCH_CRITERIA_CONTEXT.NEW_FB_EMAIL||b===GD.graph.JOB_SEARCH_CRITERIA_CONTEXT.PROFILE_EDIT||b===GD.graph.JOB_SEARCH_CRITERIA_CONTEXT.PROFILE_HOME)&&GD.graph.__updateProfileOnJobSearchComplete();b===GD.graph.JOB_SEARCH_CRITERIA_CONTEXT.JOBS_TAB&&GD.dom.loadUrl("/Jobs/jobs.htm");b===GD.graph.JOB_SEARCH_CRITERIA_CONTEXT.FEATURED_JOBS&&
GD.ads.refreshFeaturedJobsList()};GD.graph.closeJobSearchCriteriaDialog=function(a){a.data("status","");GD.aug.uninstallPlaceholders($("#DefaultJobTitle"));GD.dialogManager.closeAllDialogs()};
GD.graph.__updateProfileOnJobSearchComplete=function(){var a=$("#ProfileCompletePercentage");if(!(1>a.length)){var b=$(".jobSearchCriteria",a);b.hide(400);var c=$("span.completeVal",a).add("h1 span.completeVal"),d=$(".progressBar .pctComplete",a),a=$("p.titleBar",a),e=parseInt(c.text(),10),b=$(".pctValue",b).text(),b=parseInt(b.replace(/[^\d]/,"")),e=e+b;c.html(e);d.animate({width:e+"%"},400);100==e&&a.hide(700)}};GD.graph.GRAPH_LOADING_AJAX_URL="/profile/graphLoadingStatusAjax.htm";
GD.graph.LOAD_MSG_PACING_MILLIS=3E3;GD.graph.GRAPH_LOADING_CHECK_MILLIS=500;GD.graph.numTriesRemaining=60;GD.graph.isDisplayingMessages=!1;GD.graph.initGraphLoadingPage=function(a,b){GD.graph.pollGraphLoading(a,b)};GD.graph.pollGraphLoading=function(a,b){GD.graph._doLoadingAjax(GD.graph.GRAPH_LOADING_AJAX_URL,GD.graph._processGraphLoadingPollResults,a,b)};
GD.graph._showGraphLoadingMsg=function(a){var b=$("#GraphLoading .loadingMsg h2"),c=b.filter("h2:visible"),d=$(b.get(a));c.length?c.fadeOut(400,function(){d.fadeIn(400)}):d.fadeIn(400);a+=1;a>=b.length&&(a=0);GD.wait(GD.graph.LOAD_MSG_PACING_MILLIS).then(function(){GD.graph._showGraphLoadingMsg(a)})};
GD.graph._processGraphLoadingPollResults=function(a,b,c){0>=GD.graph.numTriesRemaining||a&&a.completelyLoaded?(a=null,c&&(a="_top"),GD.dom.loadUrl(b,a)):(GD.graph.numTriesRemaining-=1,GD.graph.isDisplayingMessages||(GD.wait(GD.graph.LOAD_MSG_PACING_MILLIS).then(function(){GD.graph._showGraphLoadingMsg(0)}),GD.graph.isDisplayingMessages=!0),GD.wait(GD.graph.GRAPH_LOADING_CHECK_MILLIS).then(function(){GD.graph.pollGraphLoading(b,c)}))};
GD.graph._doLoadingAjax=function(a,b,c,d){jQuery.ajax({url:a,dataType:"json",success:function(a){a||Logger.error("No data returned for GD.graph._doLoadingAjax");jQuery.isFunction(b)&&b(a,c,d)},error:function(a,f,g){Logger.inspect(g,"GD.graph._doLoadingAjax() error: "+f);jQuery.isFunction(b)&&b(null,c,d)}})};
GD.graph.initProfileSocialSharing=function(){var a=$(".profileSteps .likedApp"),b=new GD.graph.LikedAppHandler(a);GD.graph.initGPlusHandler(b);GD.runOnFacebookLoad(function(){GD.graph.initFBLikeButtonHandler(b)});$("#ProfileSocialSharingLink").on("click keypress",function(){$(".profileSocialSharingBtns").toggle("slow");return!1});jQuery().url&&(a=$.url().param("showSocial"),void 0!=a&&$("#ProfileSocialSharingLink").click())};
GD.graph.LikedAppHandler=GD.Class({constructor:function(a){this.updatePath="/Resume/ajax/graphUserSetDataAjax.htm";this.$node=a},save:function(a,b){var c=this;jQuery.ajax({type:"POST",url:GD.util.getAjaxUrlRespectingSecurity(c.updatePath),data:{name:a,val:!!b},dataType:"json",success:function(d){d.liked=b;d.name=a;d.success?c.success(d):c.error(d)},error:function(d,e,f){data.liked=b;data.name=a;data.textStatus=e;data.errorThrown=f;c.error(data)}})},hide:function(){this.$node.hide("slow")},error:function(a){Logger.info(a,
"likedApp.save - error")},success:function(a){Logger.info(a,"likedApp.save - success");a.likedCanvasApp&&a.likedGooglePlus?(GD.graph._updateProfileOnLikedApp(a),this.hide()):a.liked&&("GPLUS_LIKED"===a.name&&$(".gPlusButton",this.$node).hide(),"FB_LIKED"===a.name&&$(".fbLikeButton",this.$node).hide())}});GD.graph.initGPlusHandler=function(a){window.gPlusCallback=function(b){b.state&&b.href?"on"==b.state?a.save("GPLUS_LIKED",!0):a.save("GPLUS_LIKED",!1):b||Logger.trace("googlePlusone - no response")}};
GD.graph.initFBLikeButtonHandler=function(a){FB.Event.subscribe("edge.create",function(){a.save("FB_LIKED",!0)});FB.Event.subscribe("edge.remove",function(){a.save("FB_LIKED",!1)})};GD.graph.FEATURED_JOBS_AJAX="/member/ajax/featuredJobsAjax.htm";GD.graph.featuredJobsOpenTime=500;
GD.graph._displayFeaturedJobs=function(a,b){jQuery.ajax({url:a,dataType:"html",success:function(a){a||Logger.error("No data returned for GD.graph.displayFeaturedJobs");jQuery.isFunction(b)&&b(a)},error:function(a,d,e){Logger.inspect(e,"GD.graph.displayFeaturedJobs error: "+d);jQuery.isFunction(b)&&b(null)}})};GD.graph._processFeaturedJobs=function(a){if(a){var b=$("#MemberHome div.jobs");b.hide();b.html(a);b.slideDown(GD.graph.featuredJobsOpenTime)}};
GD.graph.getFeaturedJobs=function(){GD.graph._displayFeaturedJobs(GD.graph.FEATURED_JOBS_AJAX,GD.graph._processFeaturedJobs)};GD.graph.SALARY_RANKINGS_AJAX="/survey/salary/ajax/salaryRankingsAjax.htm";GD.graph.showSalaryRankings=function(a){var b=GD.graph.createSalaryRankingsDialog();$.ajax({url:GD.graph.SALARY_RANKINGS_AJAX,data:{salaryReviewId:a},success:function(a){GD.graph.onSalaryRankingsAjaxSuccess(a,b)},error:function(a,d,e){GD.graph.onSalaryRankingsAjaxError(e,b)}})};
GD.graph.createSalaryRankingsDialog=function(){var a=GD.graph.getSalaryRankingsDialogBody().get(0);GD.dialogManager.addCustomDialog(a,590,!0,!1,!0,null,"salaryRankingsDialog",function(){GD.analytics.trackPageView("/splash/salaryreport");$(this.dialogElement).css({position:"fixed",top:"20%"})},null)};
GD.graph.getSalaryRankingsDialogBody=function(){var a=$(".salaryRankingsDialogBody"),b=$("button.continue",a),c=$("button.retry",a);b.on("click",function(b){b.preventDefault();GD.graph.closeSalaryRankingsDialog(a)});c.on("click",function(a){a.preventDefault();GD.dom.reloadPage()});return a};GD.graph.closeSalaryRankingsDialog=function(){GD.dialogManager.closeAllDialogs()};GD.graph.showSalaryRankingsResults=function(a){$(".loading",a).hide();$(".results",a).show()};
GD.graph.onSalaryRankingsAjaxSuccess=function(a,b){GD.graph.showSalaryRankingsResults(b);var c=a.salaryRankings;if("ERROR"===(a.status||"").toUpperCase())GD.graph.onSalaryRankingsErrorStatus(b);else if(!c||1>c.length)GD.graph.onSalaryRankingsNoData(b);else GD.graph.onSalaryRankingsData(b,c)};GD.graph.onSalaryRankingsAjaxError=function(a,b){GD.graph.showSalaryRankingsResults(b);GD.graph.onSalaryRankingsErrorStatus(b)};GD.graph.onSalaryRankingsErrorStatus=function(a){$(".retry",a).show()};
GD.graph.onSalaryRankingsNoData=function(a){$(".continue",a).show();$(".no-data",a).show()};
GD.graph.onSalaryRankingsData=function(a,b){var c=$(".salaryRankings",a),d=$(".salaryRankingsGraph",a),c=$(".salaryRankings",a),e=$(".salaryRankingTemplate",c),f=$(".subheading",c),g,i,j,h;$(".continue",a).show();c.show();j=b.length;for(h=0;h<j;++h)g=b[h],c=Math.floor(g.rank,2)+"%",i=g.title,$clone=e.clone(),$clone.show(),$(".title",$clone).html(i),0===h&&(g=f.data("example"),g=g.replace(/{{value}}/,c).replace(/{{title}}/,i),f.append(g)),d.append($clone),function(a,b){var c=$(".bar",a),d=$(".value",
a);d.hide();setTimeout(function(){$(".pct",d).html(b);d.fadeIn(1E3)},500);c.animate({width:b},{duration:1500,easing:"linear"})}($clone,c)};window.GD=window.GD||{};GD.browse=GD.browse||{};"undefined"==typeof GD.flip&&(GD.flip={});GD.flip.ANIM_MS=800;GD.flip.RESET_MS=3E3;GD.flip.INACTIVE_SECS=8;GD.flip.FLIP_PAUSE_SECS=8;
GD.flip.init=function(a){var b=$("div.flipper:first",a);b.bind("mouseenter",function(){GD.flip._vivify(a,false)});b.bind("mouseleave",function(){GD.flip._vivify(a,true)});$(".flipperBtns .prev",a).bind("click",function(b){GD.flip._scrollRight(a);b.preventDefault()});$(".flipperBtns .next",a).bind("click",function(b){GD.flip._scrollLeft(a);b.preventDefault()});GD.flip._adjustHeight(b);GD.flip._vivify(a)};
GD.flip._vivify=function(a,b){try{var d=$("div.flipper:first",a);typeof b!=="boolean"&&(b=true);d.data("vivified",b);d.data("autoScrolling",false);if(b){var c=GD.flip._isAtStart(d),e=GD.flip._isAtEnd(d);(!c||!e)&&d.data("inactiveTimerId",setTimeout(function(){GD.flip._activateVivification(a)},GD.flip.INACTIVE_SECS*1E3))}else GD.flip._clearTimeouts(d)}catch(g){Logger.fatal("GD.flip._vivify",g)}};
GD.flip._scrollLeft=function(a,b,d){try{var c=$("div.flipper:first",a),e=GD.flip._getSliderPane(c),g=e.innerWidth(),h=c.innerWidth();if(!b){GD.flip._clearTimeouts(c);c.data("vivified")&&GD.flip._vivify(c,true)}e.is(":animated")&&e.stop(true,true);if(e.css("left")){var f=parseInt(e.css("left")),c=h*2-g,f=f-h;f<c&&(f=c)}else f=-h;c=null;b&&d&&(c=function(){GD.flip._setNextVivifiedScrollTimeout(a)});e.animate({left:f},GD.flip.ANIM_MS,"easeInOutExpo",c);GD.flip._adjustButtons(a,e,g,h,-f)}catch(i){Logger.fatal("GD.flip._scrollLeft",
i)}};
GD.flip._scrollRight=function(a,b,d){try{var c=$("div.flipper:first",c),e=GD.flip._getSliderPane(c),g=e.innerWidth(),h=c.innerWidth();if(!b){GD.flip._clearTimeouts(c);c.data("vivified")&&GD.flip._vivify(c,true)}e.is(":animated")&&e.stop(true,true);if(e.css("left")){var f=parseInt(e.css("left")),f=f+h;f>0&&(f=0)}else f=0;c=null;b&&d&&(c=function(){GD.flip._setNextVivifiedScrollTimeout(a)});e.animate({left:f},GD.flip.ANIM_MS,"easeInOutExpo",c);GD.flip._adjustButtons(a,e,g,h,-f)}catch(i){Logger.fatal("GD.flip._scrollRight",i)}};
GD.flip._getSliderPane=function(a){return $(".slidingWindow",a)};GD.flip._adjustButtons=function(a,b,d,c,e){try{var g=$("div.flipper:first",a),h=GD.flip._isAtStart(g,b,e),f=GD.flip._isAtEnd(g,b,d,c,e),i=$(".flipperBtns .prev",a).parent(),j=$(".flipperBtns .next",a).parent();h?i.addClass("disabled"):i.removeClass("disabled");f?j.addClass("disabled"):j.removeClass("disabled")}catch(k){Logger.fatal("GD.flip._adjustButtons",k)}};
GD.flip._isAtStart=function(a,b,d){try{if(!b){b=GD.flip._getSliderPane(a);d=b.css("left")?-parseInt(b.css("left")):0}d<0&&(d=0);return d<=0}catch(c){Logger.fatal("GD.flip._isAtStart",c)}};GD.flip._isAtEnd=function(a,b,d,c,e){try{if(!b){b=GD.flip._getSliderPane(a);d=b.innerWidth();c=a.innerWidth();e=b.css("left")?-parseInt(b.css("left")):0}a=d-c*2;e<0&&(e=0);e+10>a&&(e=a);return e>=a}catch(g){Logger.fatal("GD.flip._isAtEnd",g)}};
GD.flip._adjustHeight=function(a){try{var b=GD.flip._getSliderPane(a).outerHeight();a.css({height:b,minHeight:b})}catch(d){Logger.fatal("GD.flip._adjustHeight",d)}};GD.flip._activateVivification=function(a){try{var b=$("div.flipper:first",a);b.data("autoScrolling",true);GD.flip._vivifiedScroll(a,false);b.data("activeTimerId",setTimeout(function(){GD.flip._vivifiedScroll(a,true)},GD.flip.FLIP_PAUSE_SECS*1E3))}catch(d){Logger.fatal("GD.flip._activateVivification",d)}};
GD.flip._vivifiedScroll=function(a,b){try{var d=$("div.flipper:first",a);if(d.data("autoScrolling"))if(GD.flip._isAtEnd(d)){var c=GD.flip._getSliderPane(d),e=c.innerWidth(),g=d.innerWidth(),d=null;b&&(d=function(){GD.flip._setNextVivifiedScrollTimeout(a)});c.animate({left:0},GD.flip.RESET_MS,"easeInOutExpo",d);GD.flip._adjustButtons(a,c,e,g,0)}else GD.flip._scrollLeft(a,true,b)}catch(h){Logger.fatal("GD.flip._vivifiedScroll",h)}};
GD.flip._setNextVivifiedScrollTimeout=function(a){$("div.flipper:first",a).data("activeTimerId",setTimeout(function(){GD.flip._vivifiedScroll(a,true)},GD.flip.FLIP_PAUSE_SECS*1E3))};GD.flip._clearTimeouts=function(a){if(a.data("inactiveTimerId")){clearTimeout(a.data("inactiveTimerId"));a.removeData("inactiveTimerId");a.data("autoScrolling",false)}if(a.data("activeTimerId")){clearTimeout(a.data("activeTimerId"));a.removeData("activeTimerId");a.data("autoScrolling",false)}};window.GD=window.GD||{};GD.empInfo=GD.empInfo||{};GD.empInfo.awardFadeSpeed=100;GD.empInfo.awardRevealSpeed=500;GD.empInfo.awardHideSpeed=500;GD.empInfo.initFollowBtn=function(a){var b=$("div.followBtn"),d=$("a.gd-btn",b);d.click(function(){var c=b.height();GD.analytics.trackEvent("companyEOI","follow",a);d.fadeOut(function(){$(".notImplemented",b).css("line-height",c-1+"px").fadeIn();GD.wait(3E3).then(function(){b.fadeOut()})})})};GD.empInfo._popupBarTimeout=null;
GD.empInfo.popupBar=function(a){var b=$(a);$(".closeBox",b).on("click",function(){GD.empInfo._closePopupBar(b)});b.onWindowScroll=function(){GD.empInfo._showPopupBar(b)};$(window).on("scroll",b.onWindowScroll);GD.empInfo._popupBarTimeout=setTimeout(function(){GD.empInfo._showPopupBar(b)},1E4);return b};
GD.empInfo._showPopupBar=function(a){var b=a.css("height");GD.empInfo._popupBarTimeout&&(clearTimeout(GD.empInfo._popupBarTimeout),GD.empInfo._popupBarTimeout=null);$(window).off("scroll",a.onWindowScroll);a.css({display:"none",height:"0"});a.fadeIn(100,function(){a.animate({height:b},{queue:false,duration:600,easing:"easeOutQuint"})});"function"===typeof GD.empInfo._onShowPopupBar&&GD.empInfo._onShowPopupBar()};GD.empInfo._onShowPopupBar=function(a){GD.empInfo._onShowPopupBar=a};
GD.empInfo._closePopupBar=function(a,b){a.animate({height:0},{queue:!1,duration:"number"==typeof b&&0<b?b:600,easing:"easeOutQuint",complete:function(){a.fadeOut(100)}})};GD.empInfo.initDeepLinklSocialSharingBar=function(){GD.empInfo.popupBar("#DeepLinkSocialSharingBar")};
GD.empInfo.initInterviewsHelpfulBar=function(a){function b(a,b,c){a="Bad request to "+d+"; params[expressionOfInterestEnum="+a+"&employerId="+b+"]";"string"===typeof c&&(a+="; error: "+c);Logger.logToServer(a)}var d="/track/ajax/expressionOfInterestAjax.htm?",c,e=GD.empInfo.popupBar(".interviewsHelpfulBar"),g=$(".helpfulBtn, .closeBox",e);GD.empInfo._onShowPopupBar(function(){GD.analytics.trackEvent("content-interest","show-interview-bar",null,1,!0)});g.on("click",function(f){f=$(f.currentTarget);
if(f.is(".helpful")||f.is(".notHelpful"))c="INTERVIEW_"+(f.is(".helpful")?"HELPFUL":"NOTHELPFUL");else if(f.is(".closeBox"))c="INTERVIEW_BANNER_CLOSE";else return!1;$.ajax({url:d,method:"post",data:{expressionOfInterestEnum:c,employerId:a},success:function(d){"SUCCESS"!==d.status.toUpperCase()&&b(c,a)},error:function(d){b(c,a,d.statusText)},complete:function(){g.off("click");GD.empInfo._closePopupBar(e,1800)}})})};
GD.empInfo.gotoEditEmployerInfo=function(a,b){var d=location.pathname,b=b.contains("?")?b+"&":b+"?",d=b+"employerId="+a+"&redirectURL="+encodeURIComponent(d)+"&minimal=true";GD.dom.clearWindowAndRedirect(d);return!1};
GD.empInfo.editEmployerInfoInit=function(){GD.ajax.createLocationAutoComplete($("#CompanyCountryField"),$("#CompanyCityField"),$("#CompanyCityIdField"));GD.ajax.createEmployerAutoComplete("#CompanyCompetitorNameField1","#CompanyCompetitorIdField1");GD.ajax.createEmployerAutoComplete("#CompanyCompetitorNameField2","#CompanyCompetitorIdField2");GD.ajax.createEmployerAutoComplete("#CompanyCompetitorNameField3","#CompanyCompetitorIdField3");$("#NotesToTeam").autogrow()};
GD.empInfo.editEmployerCompleteClose=function(){var a=$("#CompanyEditsReceivedAlert");a.hide("blind",null,200,function(){a.remove()});return!1};GD.empInfo.submitEmployerInfoFilter=function(a){if((a=id(a))&&a.submit)GD.aug.uninstallPlaceholderField($("#FilterJobTitle")),a.submit(),GD.dom.clearPage();return!1};GD.empInfo.processHashTag=function(){var a=location.hash;a&&(a=a.substring(1).toLowerCase(),"awards"===a&&$("#ShowMoreAwards").length&&GD.empInfo.showMoreAwards(!0));return!0};
GD.empInfo.showMoreAwards=function(a){var b=$(".awardsShortList"),d=$("#ShowLessAwards"),c=$(".awardsScroller"),e=$("#ShowMoreAwards"),g=b.height(),f=c.height(),h=c.css("max-height").replace(/[^0-9]+/g,"");b.stop(!0,!0);c.stop(!0,!0);f=Math.min(f,h);c.css("overflow-y","hidden");c.height(g);b.fadeOut(a?0:GD.empInfo.awardFadeSpeed,function(){c.fadeIn(a?0:GD.empInfo.awardFadeSpeed,function(){e.hide();d.show();c.animate({height:f},a?0:GD.empInfo.awardHideSpeed,"easeInOutQuint",function(){c.css("overflow-y",
"auto")})})});return!1};GD.empInfo.showLessAwards=function(){var a=$(".awardsShortList"),b=$("#ShowLessAwards"),d=$(".awardsScroller"),c=$("#ShowMoreAwards"),e=a.height();a.stop(!0,!0);d.stop(!0,!0);c.show();b.hide();a={height:e};d.css("overflow-y","hidden");d.animate(a,GD.empInfo.awardRevealSpeed,"easeInOutQuint",GD.empInfo.onAwardsHidden);return!1};
GD.empInfo.onAwardsHidden=function(){var a=$(".awardsShortList"),b=$(".awardsScroller");b.fadeOut(GD.empInfo.awardFadeSpeed,function(){a.fadeIn(GD.empInfo.awardFadeSpeed,function(){b.css({height:""})})});return!1};GD.empInfo.showAddEmployerAwardDialogBox=function(a){urlAddAward="/award/addEmployerAwardPopup_input.htm?employerId="+a;GD.dialogManager.addAjaxDialog(urlAddAward,575,!0,!1,!0,"GD.dialogManager.closeAllDialogs();",null,function(){GD.empInfo.onShowAddEmployerAwardDialogBox(true)});return!1};
GD.empInfo.onShowAddEmployerAwardDialogBox=function(a){a&&GD.analytics.trackPageView("/employerInfo/popup/addAward");GD.ajax.createEmployerAwardNameAutoComplete("#AwardName");GD.ajax.createEmployerAwardSourceAutoComplete("#AwardSource");GD.aug.augmentPlaceholderField("#AwardSource","e.g. Fortune");GD.aug.augmentPlaceholderField("#AwardName","e.g. 100 Best Companies to Work For");GD.aug.augmentPlaceholderField("#ExternalWebsite","e.g. http://www.fortune.com/bestcompanies")};
GD.empInfo.submitAwardDialog=function(){var a=document.getElementById("AddEmployerAwardForm");GD.aug.uninstallPlaceholders($("#AddEmployerAwardForm input[placeholder]"));GD.ajax.submitForm("#AddEmployerAwardForm",a.action,"html",GD.empInfo.processAddAwardDialogResult);return!1};GD.empInfo.processAddAwardDialogResult=function(a,b){if(b)if(0==b.trim().length)GD.empInfo.onAwardDialogCommError();else GD.dialogManager.getCurrentDialog().setContents(b),GD.empInfo.onShowAddEmployerAwardDialogBox(!1);else GD.empInfo.onAwardDialogCommError()};
GD.empInfo.onAwardDialogCommError=function(){$("#AddEmployerAwardPopup").hide();$("#AddEmployerAwardErrorPopup").show();return!1};GD.empInfo.retryAwardDialog=function(){GD.btn.enable("#AddEmployerAwardFormButton");$("#AddEmployerAwardPopup .fieldError").remove();$("#AddEmployerAwardPopup .errorHeader").hide();$("#AddEmployerAwardErrorPopup").hide();$("#AddEmployerAwardPopup").show();return!1};
GD.empInfo.submitJobDetailsFilter=function(){var a=id("SalaryJobSummaryFilterForm");a&&a.submit&&a.submit();return!1};GD.empInfo.submitSalaryBasicFilter=function(){var a=id("SalaryFilterForm");a&&a.submit&&(GD.aug.uninstallPlaceholderField($("#FilterJobTitle")),a.submit(),GD.dom.clearPage());return!1};GD.empInfo.submitEmpInfoSortChange=function(a){a&&a.options&&(a=a.options[a.selectedIndex].value)&&GD.dom.clearWindowAndRedirect(a)};
GD.empInfo.getEmployerOverallRatingDetails=function(a,b,d,c,e,g){var f=$("#CompanyRatingDetailsContainer");0<f.html().trim().length||isNaN(a)||(f.html("<img src='/static/img/spinners/round-gray-16.gif' width='16' height='16' alt='please wait...' class='spinner' />"),a="/Reviews/findEmployerOverallRollupDetailsAjax.htm?employerId="+a,0!=b.trim().length&&0!=d.trim().length&&(a+="&locationId="+b+"&locationType="+d),0!=c.trim().length&&(c=c.decodeHTML(),a+="&jobTitle="+encodeURIComponent(c)),null!=e&&
0!=e.trim().length&&(a+="&startDate="+encodeURIComponent(e)),null!=g&&0!=g.trim().length&&(a+="&endDate="+encodeURIComponent(g)),jQuery.ajax({url:a,dataType:"json",success:function(a){GD.empInfo.ratingDetailsResponseHandler(a)},error:function(){GD.empInfo.ratingDetailsResponseHandler(null)}}))};
GD.empInfo.ratingDetailsResponseHandler=function(a){if(null==a)a="<p><strong>An error occurred in retrieving the details for this company.</strong></p><p>Please try again.  If the problem persists, please be assured that our engineers are scrambling to fix the problem.</p>";else{for(var b=a.resultSet,a="<table>",d=0;d<b.length;d++){var c=b[d];0<c.value&&(a+="<tr>",a+='<th style="border: 1px solid red;">'+c.question+"</th>",a+='<td style="border: 1px solid red;">'+c.value+"</td>",a+="</tr>")}a+="</table>"}$("#CompanyRatingDetailsContainer").html(a)};
GD.empInfo.markHelpfulReview=function(a,b,d){if(null==a)throw"GD.empInfo.markHelpfulReview must have an id.";if(null==b)throw"GD.empInfo.markHelpfulReview must have a type indicator.";if(null==d)throw"GD.empInfo.markHelpfulReview must have a helpful indicator.";var c;"EMPLOYER_REVIEW"==b?c="/Reviews/markHelpfulReviewAjax.htm":"INTERVIEW_REVIEW"==b?c="/Interview/markHelpfulReviewAjax.htm":"USER_QUESTION"==b?c="/Interview/markHelpfulQuestionAjax.htm":"USER_RESPONSE"==b?c="/employerInfoAndSearch/markHelpfulResponseAjax.htm":
"COMPANY_PHOTO"==b&&(c="/Photos/markHelpfulPhotoAjax.htm");jQuery.ajax({url:c,data:"respondableId="+a+"&helpful="+d,dataType:"json",error:function(a,b){GD.empInfo.markHelpfulReviewCallback(b,null)},success:function(a,b){GD.empInfo.markHelpfulReviewCallback(b,a)}});return!1};
GD.empInfo.markHelpfulReviewCallback=function(a,b){if(b&&b.respondableId&&b.type&&b.responseResult&&b.responseResultMessage){var d=$("#helpful_"+b.type+"_"+b.respondableId);d.length&&d.html(b.responseResultMessage);var d=$("#helpfulSummary_"+b.type+"_"+b.respondableId),c=id("helpfulCount_"+b.type+"_"+b.respondableId),e=id("helpfulTotal_"+b.type+"_"+b.respondableId);d.length&&c&&e&&"SUCCESS"==b.responseResult&&(b.helpful&&(c.innerHTML=c.innerHTML-0+1),e.innerHTML=e.innerHTML-0+1,d.hasClass("hidden")?
d.removeClass("hidden"):"SPAN"==d[0].tagName?d.css("display","inline"):d.css("display","block"))}else throw"GD.empInfo.markHelpfulReviewCallback - missing response.";};GD.empInfo.onInterviewReviewSearchButtonClick=function(){GD.aug.uninstallPlaceholderField($("#FilterJobTitle"));GD.dom.clearPage();return!0};GD.empInfo.showAllInterviewTopJobs=function(){var a=$("#TopJobsListShort"),b=$("#TopJobsListLong");a.toggleClass("hidden");b.toggleClass("hidden");return!1};
GD.empInfo.toggleAddTagModule=function(a){var b=$("#AddTagsForm_"+a),a=$("#AddTagsToggle_"+a);b.length&&("none"!=b.css("display")?(b.css("display","none"),a.length&&a.css("background-image","url(/static/img/icons/arrows/right.gif)")):(b.css("display","block"),a.length&&a.css("background-image","url(/static/img/icons/arrows/down.gif)"),b.find("input[type='text']").focus()));return!1};GD.empInfo.cancelAddTag=function(a,b){GD.empInfo.toggleAddTagModule(a);GD.aug.clearTags(b);return!1};
GD.empInfo.addTagsToQuestion=function(a){try{if(null==a)throw"must have a question id.";var b=id("QuestionTagEditor_"+a+"_Value");if(null==b)throw"must have tag editor input field.";var d;d=b.value;if(null==d||0==d.length){var c=id("TagError_"+a);c.innerHTML="You must enter a value for this field.";c.style.display="block";return}c=id("TagError_"+a);c.innerHTML="";c.style.display="none";options={url:"/Interview/addTagsToQuestion.htm",data:{questionId:a,newTags:d},dataType:"json",error:function(b,c){GD.empInfo.addTagsToQuestionCallback(c,
null,"QuestionTagEditor_"+a)},success:function(b,c){GD.empInfo.addTagsToQuestionCallback(c,b,"QuestionTagEditor_"+a)}};jQuery.ajax(options);GD.empInfo.toggleAddTagModule()}catch(e){Logger.fatal("GD.empInfo.addTagsToQuestion",e)}return!1};
GD.empInfo.addTagsToQuestionCallback=function(a,b,d){try{if(b&&b.questionId)if(b.tagsWithLinks){var c=id("QuestionTags_"+b.questionId);GD.tagList.addTags(b.questionId,b.tagsWithLinks);c.style.display="block";d&&GD.aug.clearTags(d)}else throw"missing error or tags.";else{var e=id("TagError_"+b.questionId);e.innerHTML=b.error;e.style.display="block"}}catch(g){Logger.fatal("interviews.js / GD.empInfo.addTagsToQuestionCallback()",g)}};
GD.empInfo.checkForCommentsError=function(){var a=$("form#PostCommentForm");0<$(".fieldError",a).length&&jQuery.scrollTo(a,400,{easing:"easeInOutCubic"})};GD.empInfo.initJobsPage=function(){GD.srch.initLocDisambig($("#FilterLocation"),null,null,$("#FilterLocationString"),$("#FilterLocationDisambigPP"),25,0,null,!1,GD.empInfo.doJobsFilterFormSubmit);GD.aug.augmentPlaceholders($("#JobsFilterForm input[placeholder]"))};
GD.empInfo.doJobsFilterFormSubmit=function(){GD.aug.uninstallPlaceholders($("#JobsFilterForm input[placeholder]"));GD.dom.clearPage();$("#JobsFilterForm")[0].submit();return!1};GD.empInfo.initToggles=function(){$(".toggleable a.toggleOn").not(".initialized").addClass("initialized").on("click",GD.empInfo.toggleOn);$(".toggleable a.toggleOff").not(".initialized").addClass("initialized").on("click",GD.empInfo.toggleOff)};
GD.empInfo.toggleOn=function(a){a.preventDefault();$(this).toggleClass("hidden");$(this).siblings(".toggleOff").toggleClass("hidden");$(this).closest(".toggleable").find(".toggleBody").toggleClass("hidden")};GD.empInfo.toggleOff=function(a){a.preventDefault();$(this).toggleClass("hidden");$(this).siblings(".toggleOn").toggleClass("hidden");$(this).closest(".toggleable").find(".toggleBody").toggleClass("hidden")};GD.runAfterBody(GD.empInfo.initToggles);
GD.empInfo.reviewFilter=function(){var a=$("#AddlCriteria"),b=$("#FilterInterviewOutcome"),d=$("#ReviewFilterForm");a.on("click",function(a){var e=a.target;$(e).is("a")&&(a.preventDefault(),b.val(e.rel),d.submit())})};window.GD=window.GD||{};GD.help=GD.help||{};window.GD=window.GD||{};GD.home=GD.home||{};GD.home.initNonMember=function(a){GD.runOnFacebookLoad(function(){GD.fb.initLoginButtons(a,"/profile/createSocialNetworkAccount.htm",GD.dom.getDocUrl())})};window.GD=window.GD||{};GD.edu=GD.edu||{};GD.edu.onDegreeProgramSrchSubmit=function(){GD.dom.clearPage();return!0};GD.edu.onCategoryChange=function(a){var b=$("#AreaOfStudySelect").val(),d=$("#ConcentrationsSelect"),c=0!=b;if(c&&d.length&&(a||(a=-1),a=GD.edu.loadConcentrations(d,b,a),!a||0==a.length))c=!1;d.css("display",c?"block":"none");return!0};
GD.edu.loadConcentrations=function(a,b,d){if(!GD.edu.concentrationsMap)return null;a=$(a);a.empty();a.append("<option value='0'>- Select a Concentration -</option>");if(b=GD.edu.concentrationsMap[b])for(var c=0;c<b.length;c++){var e="<option value='"+b[c].id+"'";b[c].id===d&&(e+=" selected='selected'");e=e+">"+b[c].label+"</option>";a.append(e)}return b};window.GD=window.GD||{};GD.profile=GD.profile||{};GD.profile.onMembershipLevelClick=function(c,d){var a=$("#TrialAccountDesc"),b=a.is(":visible");c?(b&&a.hide("blind"),$("#CreateAccountFormButtonLabel").html(d?"Create My Account":"Next")):(b||a.show("blind"),$("#CreateAccountFormButtonLabel").html("Create My Account"));return!0};window.GD=window.GD||{};GD.search=GD.search||{};GD.search.submitSearchLocationFilter=function(){var a=$("#LocationFilterForm");a&&(a.submit(),GD.dom.clearPage());return!1};GD.search.submitJobsSearchLocationFilter=function(){var a=$("#JobsSearchFilterForm");a.length&&(GD.dom.clearPage(),a.submit());return!1};GD.search.submitSearchSortChange=function(a){a&&a.options&&(a=a.options[a.selectedIndex].value)&&GD.dom.clearWindowAndRedirect(a)};GD.search.baseLineHeight=16;GD.search.feedbackURL="/search/feedbackAjax.htm";
GD.search.showThanksSeconds=2;GD.search.standardAnimationDuration=200;GD.search.initFeedback=function(){var a=$(".searchFeedbackRequest span.link");a.click(GD.search.submitFeedback);a.parents(".searchFeedbackRequest").each(function(){var a=$(this);a.attr("defaultHeight",GD.search.baseLineHeight);a.css("min-height",GD.search.baseLineHeight)});var a=$(".searchFeedbackRequest .gd-btn"),b=$(".searchFeedbackRequest a.cancelBtn");a.click(GD.search.sendNotHelpfulFeedback);b.click(GD.search.cancelFeedbackForm)};
GD.search.submitFeedback=function(a){var a=$(a.target),b=a.parents(".searchFeedbackRequest:first");a.hasClass("helpful")?(GD.search.sendHelpfulFeedback(b),GD.search.thankFeedback(b)):GD.search.expandNotHelpfulForm(b)};
GD.search.sendNotHelpfulFeedback=function(a){var b=$(a.target).parents(".searchFeedbackRequest:first"),c=$(".notHelpfulForm",b),d=$("form.searchDataForm",b).serialize().trim(),c=$("form",c).serialize().trim();c.length&&d.length&&(c+="&");GD.search.sendAjaxFeedback(c+d);GD.search.thankFeedback(b);a.preventDefault()};
GD.search.cancelFeedbackForm=function(a){var b=$(a.target).parents(".searchFeedbackRequest:first");$(".notHelpfulForm",b).fadeOut(GD.search.standardAnimationDuration,function(){GD.search.shrinkNotHelpfulForm(b)});a.preventDefault()};GD.search.expandNotHelpfulForm=function(a){$(".requestPart:visible",a).fadeOut(GD.search.standardAnimationDuration,function(){GD.search.showNotHelpfulForm(a)})};
GD.search.shrinkNotHelpfulForm=function(a){$(".requestPart:visible",a);var b={height:a.attr("defaultHeight")};a.animate(b,{duration:GD.search.standardAnimationDuration,complete:function(){GD.search.showFeedbackPrompt(a)}})};GD.search.showNotHelpfulForm=function(a){var b={height:$(".notHelpfulForm").height()+20};a.animate(b,{duration:GD.search.standardAnimationDuration,complete:function(){$(".notHelpfulForm",a).fadeIn(GD.search.standardAnimationDuration,function(){$(".notHelpfulForm textarea",a).focus()})}})};
GD.search.sendHelpfulFeedback=function(a){a=$("form.searchDataForm",a).serialize().trim();a.length&&(a+="&");GD.search.sendAjaxFeedback(a+"helpful=true")};GD.search.sendAjaxFeedback=function(a){jQuery.ajax({url:GD.search.feedbackURL,data:a,dataType:"json"})};GD.search.showFeedbackPrompt=function(a){$(".request",a).fadeIn(GD.search.standardAnimationDuration)};
GD.search.thankFeedback=function(a){$(".requestPart:visible",a).fadeOut(GD.search.standardAnimationDuration,function(){var b=a.height(),c=a.attr("defaultHeight");b==c?GD.search.showThankFeedback(a):a.animate({height:c},{duration:GD.search.standardAnimationDuration,complete:function(){GD.search.showThankFeedback(a)}})})};GD.search.showThankFeedback=function(a){$(".requestThanks",a).fadeIn(GD.search.standardAnimationDuration,function(){GD.wait(1E3*GD.search.showThanksSeconds).then(function(){GD.search.hideThankFeedbackAgain(a)})})};
GD.search.hideThankFeedbackAgain=function(a){var b=$(".requestThanks",a);a.css("height",a.height());a.css("min-height",0);b.fadeOut(GD.search.standardAnimationDuration,function(){b.hide();a.css({padding:0,height:a.innerHeight()});a.animate({height:0},{duration:GD.search.standardAnimationDuration,complete:function(){GD.search.removeFeedbackRequest(a)}})})};GD.search.removeFeedbackRequest=function(a){a.css("border-bottom-width",0)};window.GD=window.GD||{};GD.staticList=GD.staticList||{};GD.staticList.expandBestPlacesMethodology=function(){var a=id("BestPlacesMethodologyClosed"),b=id("BestPlacesMethodologyOpened");a&&(a.style.display="none");b&&(b.style.display="block")};GD.staticList.initArchiveList=function(){var a=$("select#listArchive"),b=$("option:selected",a).val();a.on("change",function(){var c=$("option:selected",a).data("url");b!=$("option:selected",a).val()&&GD.dom.loadUrl(c)})};
GD.staticList.initTabs=function(a){"ABOUTBPTW"==a?$("#bptwTabs").tabs({active:2}):"BPTW"==a&&$("#bptwTabs").tabs({active:1});$("#bptwTabs li a").on("click",function(){(""!=$(this).data("url")||"undefined"!==$(this).data("url"))&&GD.dom.loadUrl($(this).data("url"))})};window.GD=window.GD||{};GD.jobScope=GD.jobScope||{};GD.jobScope.PANEL_WIDTH=600;GD.jobScope.ANIMATE_SPEED=400;GD.jobScope.MAX_NEWS_ITEMS=2;GD.jobScope.googleSearchKey=null;GD.jobScope.facebookRequestedPerms=null;
GD.jobScope.init=function(a,b){GD.jobScope.googleSearchKey=a;GD.jobScope.facebookRequestedPerms=b;$(".jobScopePanel").each(function(){var a=$(this),b=GD.jobScope._getJobInfo(a);a.find(".panelHeader .jobScopeToggle").click(function(){GD.jobScope.toggle(a,b)});a.find(".jobScopeTabs ul").on("click",function(e){e=$(e.target);e.is("li")||(e=e.parents("li:first"));if(e.is(".fbSignInPrompt"))return GD.fb.facebookLogin(GD.jobScope.facebookRequestedPerms,"/profile/createSocialNetworkAccount.htm",GD.dom.getDocUrl()),
!1;e.attr("contentPanelId").trim();var f=a.find(".tabbed");f.is(":visible")?a.find(".jobScopeTabs li.selected").is(e)?GD.jobScope.toggle(a,b,!1):GD.jobScope._selectTab(a,e,!1):(GD.analytics.trackEvent("jobPanel","open",b.employerShortName),GD.jobScope.open(a,f,e,!1));return!0})});$(".jobScopeLink").on("click",function(a){var a=$(a.currentTarget),b=a.attr("jobScopeId"),a=a.attr("jobScopeTab");if(b){var b=$("#"+b),e=b.find(".tabbed").is(":visible");selectedTabType=$(".selected",b).attr("tabType");e&&
a==selectedTabType?GD.jobScope.toggle(b):GD.jobScope.showTab(b,a)}})};GD.jobScope._logTabClick=function(a){(a=a.attr("loggingUrl"))&&jQuery.ajax({url:a,dataType:"json"})};GD.jobScope._disableAutoOpen=function(){$("body").data("jobScopeAutoOpenEnabled")&&(jQuery.ajax({url:"/jobScope/panels/jobScopeDisableAutoOpen.htm",dataType:"json"}),$("body").data("jobScopeAutoOpenEnabled",!1))};
GD.jobScope.toggle=function(a,b){b||(b=GD.jobScope._getJobInfo(a));var c=$(".tabbed",a);c.is(":animated")||(c.is(":visible")?(GD.analytics.trackEvent("jobPanel","close",b.employerShortName),GD.jobScope._close(a)):(GD.analytics.trackEvent("jobPanel","open",b.employerShortName),GD.jobScope.open(a,c,null)));return!1};GD.jobScope.showTab=function(a,b){var c=$(".tabbed",a),d=c.is(":visible"),e=$(".jobScopeTabs li[tabType='"+b+"']",a);d?GD.jobScope._selectTab(a,e):GD.jobScope.open(a,c,e)};
GD.jobScope.open=function(a,b,c){var d=a.attr("panelDefaultBgColor");d||(d="white");a.is(".initialized")||GD.jobScope._initPanel(a,b);null==c&&((d=a.attr("selectedTab"))&&(c=$(".jobScopeTabs li[tabType='"+d+"']",a)),c||(c=$(".jobScopeTabs li:first",a)));c&&GD.jobScope._selectTab(a,c);a.toggleClass("jobScopePanelOpened");b.slideDown(GD.jobScope.ANIMATE_SPEED);b=$(".panelHeader .jobScopeTabs .hiddenWhenOpened",a);0<b.length?b.fadeOut(GD.jobScope.ANIMATE_SPEED/2,function(){GD.jobScope._showOpenedTabs(a)}):
GD.jobScope._showOpenedTabs(a);$(".panelHeader div.closeBox",a).fadeIn(GD.jobScope.ANIMATE_SPEED);a.is(".jobScopePanelLast")&&(b=a.parents(".featuredJobListings"),b.length&&b.animate({paddingBottom:"5px"},GD.jobScope.ANIMATE_SPEED))};GD.jobScope._showOpenedTabs=function(a){$(".panelHeader .jobScopeTabs li.hiddenWhenClosed",a).fadeIn(GD.jobScope.ANIMATE_SPEED)};
GD.jobScope._close=function(a){$panelContent=a.find(".tabbed").first();var b=a.attr("panelDefaultBgColor");if(!b||"transparent"===b)b="white";$panelContent.slideUp(GD.jobScope.ANIMATE_SPEED);a.animate({backgroundColor:b,borderTopColor:b,borderRightColor:b,borderBottomColor:b,borderLeftColor:b,paddingBottom:0},GD.jobScope.ANIMATE_SPEED);a.animate({marginBottom:0},GD.jobScope.ANIMATE_SPEED/2);a.is(".jobScopePanelLast")&&(b=a.parents(".featuredJobListings"),b.length&&b.animate({paddingBottom:0},GD.jobScope.ANIMATE_SPEED));
a.toggleClass("jobScopePanelOpened");$(".jobScopeTabs li:visible",a).not(":first").children(".divider").css("border-left-width",1);$(".jobScopeTabs li",a).removeClass("selectedTabNext");var b=$(".panelHeader .jobScopeTabs li.hiddenWhenClosed,.panelHeader div.closeBox",a),c=$(".panelHeader .jobScopeTabs .fbSignInPrompt",a);0<c.length&&b.add('.panelHeader .jobScopeTabs li[tabType="CONNECTIONS"] .tabLinkConnected',a);b.fadeOut(GD.jobScope.ANIMATE_SPEED/2,function(){GD.jobScope._showClosedTabs(a,c)})};
GD.jobScope._showClosedTabs=function(a,b){b&&b.length&&b.fadeIn(GD.jobScope.ANIMATE_SPEED)};GD.jobScope._initPanel=function(a){closeBox=$(".panelHeader .closeBox",a);closeBox.on("click",GD.jobScope._clickAndCloseJobScopePanel);a.closeBox=closeBox;panelDefaultBgColor=a.css("border-top-color");a.attr("panelDefaultBgColor",panelDefaultBgColor);a.addClass("initialized")};
GD.jobScope._clickAndCloseJobScopePanel=function(){jobScopePanel=$(this).closest(".jobScopePanel");employerShortName=GD.jobScope._getJobInfo(jobScopePanel).employerShortName;GD.analytics.trackEvent("jobPanel","close",employerShortName);GD.jobScope._close(jobScopePanel)};
GD.jobScope._selectTab=function(a,b){var c=b.attr("contentPanelId").trim(),d=b.attr("tabType").trim(),e=!1,f=null;if(c&&d){var e=$(".tabContent",a),g=$(".jobScopeTabs li",a),f=$("#"+c);g.not(b);c=b.next("li");g.removeClass("selectedTabNext");c.addClass("selectedTabNext");g.removeClass("selected");b.addClass("selected");f.show();e.not(f).hide();e=GD.jobScope._populateTabContents(a,f,d)}GD.analytics.trackEvent("jobPanel","tabView",d);!e&&f&&GD.jobScope._logTabClick(f)};
GD.jobScope._populateTabContents=function(a,b,c){var a=GD.jobScope._getJobInfo(a),d=!1;b.is(".alreadyLoaded")?$(".focus:first",b).focus():(b.is(".cloneable")&&GD.jobScope._cloneTabContents(b,c,a),b.is(".alreadyLoaded")||(d=GD.jobScope._loadTabContents(b,c,a,GD.jobScope.googleSearchKey)),b.addClass("alreadyLoaded"));return d};
GD.jobScope._cloneTabContents=function(a,b,c){var b=b.toLowerCase()+"Panel",d=null;a.is(".cloneableByEmployer")?c.employerId&&(d=$(".jobScopePanel[employerId="+c.employerId+"] .tabContent."+b+".cloneable.alreadyLoaded:first")):d=$(".jobScopePanel .tabContent."+b+".cloneable.alreadyLoaded:first");d.length&&(c=d.children().clone(!0),a.children().remove(),a.append(c),a.addClass("alreadyLoaded"),$(".focus:first",a).focus())};
GD.jobScope._loadTabContents=function(a,b,c,d){var e=a.attr("contentsUrl"),f=!1;if(e)GD.jobScope._loadAjaxTabContent(a,b,c,e),f=!0;else switch(b){case "WEBSEARCH":GD.jobScope._loadWebSearchContent(a,c);break;case "MAP":GD.jobScope._loadMapContent(a,c);break;case "NEWS":0<c.employerId?GD.jobScope._loadNewsSourceData(a,c,d):GD.jobScope._loadNewsContent(a,c,d);break;default:GD.jobScope._removeLoading(a)}return f};
GD.jobScope._loadAjaxTabContent=function(a,b,c,d){jQuery.ajax({url:d,dataType:"html",error:function(d,f){GD.jobScope._loadAjaxTabContentComplete(a,b,c,null,f)},success:function(d,f){GD.jobScope._loadAjaxTabContentComplete(a,b,c,d,f)}})};
GD.jobScope._loadAjaxTabContentComplete=function(a,b,c,d){d&&(d=d.trim());if(d)switch(a.html(d+"<div class='clear'></div>"),$(".contentIconsCol .icons .icon[openTab]",a).each(function(){$(this).click(GD.jobScope._onOverviewIconClick)}),b){case "CONNECTIONS":GD.aug.augmentContextHelpNodes($(".contextHelpLink",a)),GD.runOnFacebookLoad(function(){GD.fb.initLoginButtons(GD.jobScope.facebookRequestedPerms,"/profile/createSocialNetworkAccount.htm",GD.dom.getDocUrl())})}else a.html("<div class='tabContentInside'><p class='ajaxError'>Sorry, this information is currently unavailable.  Please check back in a few minutes.</p></div>");
GD.jobScope._removeLoading(a)};GD.jobScope._onOverviewIconClick=function(a){var b=$(a.currentTarget),c=b.attr("openTab"),b=b.parents(".jobScopePanel:first");c&&GD.jobScope.showTab(b,c);a.preventDefault();a.stopPropagation();return!1};GD.jobScope._onTabContentsLoaded=function(a,b){$("a[target]",b);$("form[target]",b);$(".focus:first",b).focus()};
GD.jobScope._loadWebSearchContent=function(a,b){function c(){(new GoogleSearchControl(e,f,b,function(){GD.wait().then(function(){GD.jobScope._onTabContentsLoaded(d,a)})})).execute(g)}var d=a.parents(".jobScopePanel:first").attr("id"),e=$(".webResultsContainer",a),f=$(".webSearchField input:first",a),g=['"'+b.employerName+'"','"'+b.employerShortName+'"'];"google"in window?google.search?c():GoogleSearchControl.loadGoogleSearch(c):Logger.error("google jsapi is not loaded")};
GD.jobScope._loadMapContent=function(a,b){var c=a.parents(".jobScopePanel:first").attr("id");GD.maps.loadMap({$tabContent:a,jobInfo:b,jobScopePanelId:c,searchTerms:['"'+b.employerName+'"','"'+b.employerShortName+'"']})};GD.maps={};GD.maps.loadMap=function(a){GD.maps.loadMap=function(){};GD.maps.loadParams=a;GD.dom.loadScript("//maps.googleapis.com/maps/api/js?v=3.6&libraries=places&sensor=false&callback=GD.maps.initialize")};
GD.maps.initialize=function(){function a(){GD.maps.loadMap=function(a){var c=a.$tabContent;(new MapSearchControl(c,a.jobInfo,function(){GD.wait().then(function(){GD.jobScope._onTabContentsLoaded(a.jobScopePanelId,c)})})).execute(a.searchTerms)};GD.maps.loadMap(GD.maps.loadParams);delete GD.maps.loadParams;delete GD.maps.initialize}"google"in window?google.search?a():GoogleSearchControl.loadGoogleSearch(a):Logger.error("google jsapi is not loaded")};
GD.jobScope._loadNewsSourceData=function(a,b,c){jQuery.ajax({url:"/jobScope/panels/jobScopeEmployerNewsSource.htm?employerId="+b.employerId,dataType:"json",error:function(d,e){GD.jobScope._onLoadNewsSourceComplete(a,b,c,null,e)},success:function(d,e){GD.jobScope._onLoadNewsSourceComplete(a,b,c,d,e)}})};
GD.jobScope._onLoadNewsSourceComplete=function(a,b,c,d){d&&d.newsSource?(b.newsSource=d.newsSource,b.newsSourceData=d.newsSourceData,b.googleKeywords=d.googleKeywords,b.rssAttribName=d.rssAttribName):(b.newsSource="GOOGLE",b.newsSourceData=b.employerShortName);GD.jobScope._loadNewsContent(a,b,c)};
GD.jobScope._loadNewsContent=function(a,b){var c=$(".contentHolder",a);GD.news.initNewsFeed(c,b.employerShortName,{newsSource:b.newsSource,newsSourceData:b.newsSourceData,googleKeywords:b.googleKeywords,rssAttribName:b.rssAttribName,maxItems:GD.jobScope.MAX_NEWS_ITEMS,onCompleteCallback:function(a,c){GD.jobScope._onNewsComplete(a,c,b)}})};
GD.jobScope._getJobInfo=function(a){var b={};if(a&&a.length){var c=a.attr("employerId");c?(c=Number(c),isNaN(c)&&(c=0)):c=0;b.jobScopeId=a.attr("id");b.employerId=c;a.attr("employerName")&&(b.employerName=a.attr("employerName"));a.attr("employerShortName")&&(b.employerShortName=a.attr("employerShortName"));a.attr("employerUrl")&&(b.employerUrl=a.attr("employerUrl"));a.attr("location")&&(b.location=a.attr("location"))}return b};
GD.jobScope._onNewsComplete=function(a,b,c){if(0<b)a.is(".tabContentInside")||a.parents(".tabContentInside:first"),"GOOGLE"===c.newsSource?(c=$("<div class='credit googleCredit minorText'>"),c.html("Provided by Google News"),a.append(c)):"PRESS_CENTER"===c.newsSource&&(c=$("<div class='credit pressCenterCredit minorText'>"),c.html("Provided by employer"),a.append(c));else{var b=$("#NewsSearchPanelTemplate").html(),d=RegExp("%JOB_SCOPE_ID%".escapeForRegex(),"g"),e=RegExp("%SEARCH_TERM%".escapeForRegex(),
"g"),f=RegExp("%URL_ENCODED_SEARCH_TERM%".escapeForRegex(),"g"),g='"'+c.employerShortName.replace('"',"")+'"',b=b.replace(d,c.jobScopeId),b=b.replace(e,c.employerShortName),b=b.replace(f,encodeURIComponent(g));a.empty().html(b);$(".focus:first",a).focus()}};GD.jobScope._removeLoading=function(a){a.find(".loading").remove()};
GD.jobScope._getNoResultsMessage=function(a){var b="<i class='warning'></i>Sorry, we could not find anything";a.employerShortName&&(b+=" matching <span class='keepTogether'>\""+a.employerShortName+'"</span>');a.location&&(b+=" in <span class='keepTogether'>"+a.location+"</span>");return"<p class='noResults'>"+(b+".")+"</p>"};
function GoogleSearchControl(a,b,c,d){this.jobInfo=c;this.container=$(a);this.searchField=$(b);this.onLoadCallback=d;this.webSearch=new google.search.WebSearch;this.webSearch.setResultSetSize(2);this.webSearch.setSearchCompleteCallback(this,this._searchComplete)}GoogleSearchControl.loadGoogleSearch=function(a){google.load("search","1",{callback:a})};
GoogleSearchControl.prototype._searchComplete=function(){var a=this.container,b=$("<div class='results webSearchResults'>");results=this.webSearch.results;if(results.length){for(loop=0;loop<results.length&&2>loop;loop++){var c=results[loop],d=$("<div class='data wideData'>");d.append(c.html.cloneNode(!0));c=$("<div class='resultItem'>");c.append(d);c.append("<div class='clear'>");b.append(c)}var c=this.queryArray[this.currentQueryIndex],d=$("<div class='moreResults'>"),c="http://www.google.com/search?q="+
encodeURIComponent(c),e=$("<a>More Google results &raquo;</a>");e.attr("href",c);e.attr("rel","nofollow");e.attr("target","_blank");d.append(e);b.append(d);a.empty();a.append(b);this.searchField.val(this.queryArray[this.currentQueryIndex]);if(jQuery.isFunction(this.onLoadCallback))this.onLoadCallback()}else if(this.currentQueryIndex+1>=this.queryArray.length){if(this.searchField.val(webSearchControl.queryArray[webSearchControl.currentQueryIndex]),jQuery.isFunction(this.onLoadCallback))this.onLoadCallback()}else this.currentQueryIndex+=
1,this.webSearch.execute(this.queryArray[this.currentQueryIndex])};GoogleSearchControl.prototype.execute=function(a){this.queryArray=a;this.currentQueryIndex=0;this.webSearch.execute(this.queryArray[this.currentQueryIndex])};
function MapSearchControl(a,b,c){this.jobInfo=b;this.container=$(a);this.onLoadCallback=c;this.localSearch=new google.search.LocalSearch;this.localSearch.setCenterPoint(b.location);this.localSearch.setResultSetSize(2);this.localSearch.setAddressLookupMode(google.search.LocalSearch.ADDRESS_LOOKUP_DISABLED);this.localSearch.setSearchCompleteCallback(this,this._searchComplete)}MapSearchControl.prototype.execute=function(a){this.queryArray=a;this.currentQueryIndex=0;this.localSearch.execute(this.queryArray[this.currentQueryIndex])};
MapSearchControl.prototype._searchComplete=function(){var a=this.container,b=a.parents(".jobScopePanel:first").attr("id"),c=this.localSearch.results,d=!1,e=$("<div class='tabContentInside mapSearchResults'>");c.length&&(c=this._filterResults(c));if(c.length){var f=$("<div class='data'>"),g="A";f.append("<h3 class='contentDesc'>Possible locations</h3>");for(var i=0;2>i&&i<c.length;i++){var h=c[i],k=$("<div class='text'>"),j=$("<div class='resultItem"+(0==i?" resultItemSelected":"")+"'>");h.lat&&h.lng&&
(d=$("<img class='pin'>"),c[i].mapPin="http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld="+g+"|FF0000|000000",d.attr("src",c[i].mapPin),j.append(d),g=String.fromCharCode(g.charCodeAt(0)+1),d=!0);k.append(h.html.cloneNode(!0));j.append(k);j.append("<img src='/static/img/spacer.gif' class='beak' />");j.append("<div class='clear'>");f.append(j);h=this._createPinClickHandler(e,i);j.click(h)}f.append("<div class='clear'>");i=this.queryArray[this.currentQueryIndex]+encodeURIComponent(" "+this.jobInfo.location);
g=$("<div class='moreResults'>");i="http://maps.google.com/maps?q="+i;j=$('<span><a>See all results for "'+this.jobInfo.employerShortName+'" &raquo;</a></span>');h=$("a",j);h.attr("href",i);h.attr("rel","nofollow");h.attr("target","_blank");f.append(g);g.append(j);e.append(f);e.append("<div id='GoogleMapCanvas' class='googleMap'>")}else this.currentQueryIndex+1>=this.queryArray.length?(f=GD.jobScope._getNoResultsMessage(this.jobInfo),e.append(f)):(this.currentQueryIndex+=1,this.localSearch.execute(this.queryArray[this.currentQueryIndex]));
e.append("<div class='clear'></div>");a.empty();a.append(e);d&&(this._getPins(c),this._drawMap(e,b));if(jQuery.isFunction(this.onLoadCallback))this.onLoadCallback()};MapSearchControl.prototype._filterResults=function(a){var b=this.queryArray[this.currentQueryIndex];'"'==b.charAt(0)&&(b=b.substring(1));'"'==b.charAt(b.length-1)&&(b=b.substring(0,b.length-1));a=this._filterExactMatches(a,b);return a=this._filterNonMatches(a,b)};MapSearchControl.prototype.PUNCT_REGEX=/[!\?.,|\-=\+\$\*\(\)]+/g;
MapSearchControl.prototype.MULTI_SPACE_REGEX=/ {2,}/g;
MapSearchControl.prototype._filterExactMatches=function(a,b){for(var c=!1,d=b.replace(this.PUNCT_REGEX," ").replace(this.MULTI_SPACE_REGEX," ").trim(),e=0;e<a.length&&!c;e+=1)var c=a[e],f=c.titleNoFormatting.replace(this.PUNCT_REGEX," ").replace(this.MULTI_SPACE_REGEX," ").trim(),c=d.equalsIgnoreCase(f);if(c){for(var g=[],e=0;e<a.length;e+=1)c=a[e],f=c.titleNoFormatting.replace(this.PUNCT_REGEX," ").replace(this.MULTI_SPACE_REGEX," ").trim(),d.equalsIgnoreCase(f)&&g.push(c);a=g}return a};
MapSearchControl.prototype._filterNonMatches=function(a,b){for(var c=[],d=b.replace(this.PUNCT_REGEX," ").replace(this.MULTI_SPACE_REGEX," ").trim(),e=0;e<a.length;e+=1){var f=a[e],g=f.titleNoFormatting.replace(this.PUNCT_REGEX," ").replace(this.MULTI_SPACE_REGEX," ").trim(),g=this._getWordMatch(d,g);0.5<g&&(f.wordMatch=g,c.push(f))}return c};
MapSearchControl.prototype._commonEmployerNameWords={and:!0,associates:!0,association:!0,co:!0,com:!0,company:!0,corp:!0,corporation:!0,cos:!0,group:!0,holding:!0,holdings:!0,"in":!0,inc:!0,incorporated:!0,international:!0,intl:!0,limited:!0,llc:!0,llp:!0,lp:!0,ltd:!0,of:!0,plc:!0,the:!0};
MapSearchControl.prototype._getWordMatch=function(a,b){var c=/[\b\s&!\.,\?\-]+/,d=/([a-zA-Z])[\.\&]([a-zA-Z])/g,e=0,f=0;a||(a="");b||(b="");for(var a=a.replace(d,"$1$2"),b=b.replace(d,"$1$2"),d=a.split(c).sort(),g=b.split(c),c={},i=null,h=0;h<g.length;h++)c[g[h].toLowerCase()]=!0;for(h=0;h<d.length;h++){var g=d[h].toLowerCase(),k=this._commonEmployerNameWords[g];0<g.trim().length&&i!=g&&(k||(e+=1),c[g]&&(k||(f+=1)),i=g)}return f/e};
MapSearchControl.prototype._createPinClickHandler=function(a,b){var c=this;return function(d){c._onPinSelect(d,a,b)}};MapSearchControl.prototype._onPinSelect=function(a,b,c){c!=this.selectedPin&&($(".resultItemSelected",this.container).removeClass("resultItemSelected"),a=$(a.target),a.is(".resultItem")||(a=a.parents(".resultItem:first")),a.addClass("resultItemSelected"),this._setActiveMarker(c,!0))};
MapSearchControl.prototype._setActiveMarker=function(a,b){this.activeMarker&&this.activeMarker.setMap(null);var c=this.pins[a];this.activeMarker=new google.maps.Marker({position:c.center,map:this.map,icon:c.image,title:c.title});this.selectedPin=a;b&&this.map.panTo(c.center)};MapSearchControl.prototype._getPins=function(a){this.pins=[];for(var b=0;b<a.length;b++){var c=a[b];c.mapPin&&this.pins.push({center:new google.maps.LatLng(c.lat,c.lng),image:c.mapPin,title:c.titleNoFormatting})}};
MapSearchControl.prototype._drawMap=function(a,b){var c={zoom:13,center:this.pins[0].center,mapTypeId:google.maps.MapTypeId.ROADMAP,backgroundColor:"white",mapTypeControl:!1},d=$("#"+b+" .mapSearchResults .googleMap");d.length&&(this.map=new google.maps.Map(d[0],c),this._setActiveMarker(0,!1))};window.GD=window.GD||{};GD.news=GD.news||{};GD.news.initNewsFeed=function(a,c,b){switch(b.newsSource){case "FINS_GOOGLE":GD.news.getGenericRssFeed(a,c,b);break;case "PRESS_CENTER":GD.news.getPressCenterFeed(a,c,b);break;default:GD.news.getGoogleNewsFeed(a,c,b)}};
GD.news.getGenericRssFeed=function(a,c,b){a=$(a);a.empty().append("<div class='rssNewsItems'>");a=$(".rssNewsItems",a);(new GD.news.RssReader(a)).show(b.newsSourceData,{employerName:c,maxPosts:b.maxItems,maxAgeDays:30,showFeedTitle:!1,dateClass:"minorText",moreNewsLinkText:b.moreNewsLinkText},b)};
GD.news.getPressCenterFeed=function(a,c,b){a=$(a);a.empty().append("<div class='rssNewsItems'>");a=$(".rssNewsItems",a);a=new GD.news.RssReader(a);c={employerName:c,maxPosts:b.maxItems,showFeedTitle:!1,dateClass:"minorText",rssAttribName:b.rssAttribName,moreNewsLinkText:b.moreNewsLinkText};b.googleKeywords&&(c.googleKeywords=b.googleKeywords);a.show(b.newsSourceData,c,b)};
GD.news.getGoogleNewsFeed=function(a,c,b,d){var e=b.googleKeywords,e=e?'"'+e.replace('"',"")+'"':'"'+c.replace('"',"")+'"',a=$(a);jQuery.ajax({url:"http://ajax.googleapis.com/ajax/services/search/news",data:{v:"1.0",key:b.googleSearchKey,q:e,rsz:"small"},dataType:"jsonp",success:function(l){GD.news.onGoogleNewsResponse(c,a,l,e,b,d)},error:function(){GD.news.onGoogleNewsResponse(c,a,null,e,b,d)}})};
GD.news.onGoogleNewsResponse=function(a,c,b,d,e,l){var m,a=!0;b&&b.responseData&&(m=b.responseData.results);if(c&&m&&m.length){var j=!1,n=999;l?(a=!1,n=l.fillCount):e.maxItems&&(n=e.maxItems);0>n&&(n=1);l?(b=$(".rssItems",c),b.length||(b=$("<div class='rssItems'></div>"),c.append(b))):(b=$("<div class='results newsSearchResults'>"),c.empty(),c.append(b));if(a){for(var f=0;f<m.length&&f<n&&!j;f++)m[f].image&&(j=!0);j&&b.addClass("newsSearchResultsWithPhotos")}for(var i,f=0;f<m.length&&f<n;f++){var h=
m[f],o=$("<div class='storyCol'>"),g=null;i=$("<div class='entry'>");b.append(i);j&&a&&(g=$("<div class='photoCol'>"),i.append(g));i.append(o);if(h.image&&a){var k=$("<a>"),p=$("<img>");p.attr("src",h.image.url).attr("width",h.image.tbWidth).attr("height",h.image.tbHeight);k.attr("href",h.image.originalContextUrl).attr("rel","nofollow").attr("target","_blank");k.append(p);g.append(k)}g=$("<div class='title'>");k=$("<a>"+h.title+"</a>");k.attr("href",h.unescapedUrl).attr("rel","nofollow").attr("target",
"_blank");g.append(k);o.append(g);h.content&&(g=$("<p class='content'>"),k=$("<a>Read More</a>"),k.attr("href",h.unescapedUrl).attr("rel","nofollow").attr("target","_blank"),g.html(h.content+" &ndash; "),g.append(k),o.append(g));k=null;h.publishedDate&&(k=new Date(Date.parse(h.publishedDate)));if(h.publisher||k)g=$("<p class='storyInfo'>"),h.publisher&&(g.html("From: "+h.publisher+" (via Google News)"),k&&g.html(g.html()+" &ndash; ")),k&&(h=$("<span class='date'>"),k=GD.util.durationInPast(k),h.html(k),
g.append(h)),o.append(g);i.append("<div class='clear'>")}l&&e.newsSourceAttrib&&(a=$(e.newsSourceAttrib),j="Provided by ",l.initialSourceAttrib&&(j+=l.initialSourceAttrib+" and "),a.html(j+"Google"));i&&i.addClass("lastEntry");i=$("<p class='moreResults'>");a=$("<a>");j="http://news.google.com/news?q="+encodeURIComponent(d);a.html("<strong>More news matching "+d+" &raquo;</strong>");a.attr("href",j).attr("rel","nofollow").attr("target","_blank");i.append(a);b.append(i)}if(l){if(l.onComplete)l.onComplete(m.length)}else if(jQuery.isFunction(e.onCompleteCallback))e.onCompleteCallback(c,
m.length,e)};GD.news.monthNames="January,February,March,April,May,June,July,August,September,October,November,December".split(",");GD.news.RssReader=function(a){this.rssFeedContainer=$(a)};GD.news.RssReader.prototype.defaultSettings={maxPosts:4,noDataHideSelector:null,showFeedTitle:!0,showAuthor:!0,showDate:!0,showSnippet:!0,showMoreLink:!0,dateClass:"",moreNewsLinkText:null,onCompleteCallback:null};
GD.news.RssReader.prototype.show=function(a,c,b){function d(){(new google.feeds.Feed(a)).load(function(a){e.render(a,c.maxAgeDays,b)})}0==a.indexOf("feed://")&&(a="http"+a.substr(4));var e=this;e.options={};e.options=jQuery.extend(e.options,e.defaultSettings,c);e.options.url=a;"google"in window?google.feeds?d():GD.news.loadGoogleFeeds(d):Logger.error("google jsapi is not loaded")};GD.news.loadGoogleFeeds=function(a){google.load("feeds","1",{callback:a})};
GD.news.RssReader.prototype.render=function(a,c,b){var d=this,e=0,l=!1;b||(b={});if(a.feed&&a.feed.entries&&0<a.feed.entries.length){if(d.rssFeedContainer&&d.rssFeedContainer.length){d.rssFeedContainer.empty();var m=$("<div class='rssItems'>");d.rssFeedContainer.append(m);if(d.options.showFeedTitle){var j=$("<h2>"),n=$("<a>");m.append(j);n.attr("href",a.feed.link).html(a.feed.title);j.append(n);m.append(j)}j=Math.min(a.feed.entries.length,d.options.maxPosts);for(n=0;n<j;n++){var f=a.feed.entries[n],
i=Date.parse(f.publishedDate),h=$("<div class='entry'>"),o=$("<p class='title'>"),g=$("<a>"),k=!0;if(f.title&&f.contentSnippet&&f.link){if(i&&(i=new Date(i),c)){var p=(new Date).diff(i,"d");"same"==p?p=0:(p=parseInt(p),isNaN(p)&&(p=0));p>c&&(k=!1)}k&&(g.attr("href",f.link).attr("rel","nofollow").attr("target","_blank").html(f.title),o.append(g),h.append(o),f.author&&d.options.showAuthor&&(o=$("<div class='author'>"),o.html("Posted by "+f.author),h.append(o)),f.contentSnippet&&d.options.showSnippet&&
(o=$("<p class='snippet'>"),g=$("<span class='snippetText'></span>"),h.append(o),o.append(g),g.html(f.contentSnippet),f.link&&(g=$("<a>"),o.append("<span class='separator'> &ndash; </span>"),o.append(g),g.attr("href",f.link).attr("rel","nofollow").attr("target","_blank").html("Read More"))),i&&d.options.showDate&&(f=$("<div class='date "+d.options.dateClass+"'>"),i=GD.news.monthNames[i.getMonth()]+" "+i.getDate()+", "+i.getFullYear(),f.html(i),h.append(f)),m.append(h),e++)}}e<d.options.maxPosts&&
b.googleKeywords?(a={fillCount:d.options.maxPosts-e,initialSourceAttrib:0<e?b.rssAttribName:null,onComplete:function(a){d._onRssNewsComplete(e+a,b)}},GD.news.getGoogleNewsFeed(d.rssFeedContainer,d.options.employerName,b,a),l=!0):(b.newsSourceAttrib&&b.rssAttribName&&$(b.newsSourceAttrib).html("Provided by "+b.rssAttribName),a.feed.link&&(c=$("<p class='moreResults'>"),j=$("<a>"),n=d.options.moreNewsLinkText?d.options.moreNewsLinkText:d.options.employerName?"More "+d.options.employerName+" News":"More News",
j.attr("href",a.feed.link).attr("rel","nofollow").attr("target","_blank"),j.html("<strong>"+n+"</strong>"),c.append(j),m.append(c)))}}else b.googleKeywords&&(a={fillCount:d.options.maxPosts,initialSourceAttrib:null,onComplete:function(a){d._onRssNewsComplete(a,b)}},GD.news.getGoogleNewsFeed(d.rssFeedContainer,d.options.employerName,b,a),l=!0);l||d._onRssNewsComplete(e,b)};
GD.news.RssReader.prototype._onRssNewsComplete=function(a,c){if(this.options&&jQuery.isFunction(this.options.onCompleteCallback))this.options.onCompleteCallback(this.rssFeedContainer,a,this.options);if(c&&jQuery.isFunction(c.onCompleteCallback))c.onCompleteCallback(this.rssFeedContainer,a,c)};window.GD=window.GD||{};GD.photos=GD.photos||{};GD.photos.isFirstPage=!0;GD.photos.isLastPage=!0;GD.photos.firstRecordIndexOnPage=0;GD.photos.pagePhotoIds=[];GD.photos.firstPhotoId=0;GD.photos.lastPhotoId=0;GD.photos.currentPhotoId=0;GD.photos.currentPhotoIndex=-1;GD.photos.currentPhotoFromHash=!1;GD.photos.prevPageUrl="";GD.photos.nextPageUrl="";GD.photos.isExpectingAjaxResponse=!1;GD.photos.employerId="";GD.photos.location="";GD.photos.isInitialPagePhoto=!0;GD.photos.ARROW_LEFT=37;
GD.photos.ARROW_UP=38;GD.photos.ARROW_RIGHT=39;GD.photos.ARROW_DOWN=40;GD.photos.photoViewAnalyticsURL="/employerInfo/Photos/employer-photo-view";GD.photos.photoViewTrackURL="/Photos/track/view.htm";GD.photos.navClickCount=0;
GD.photos.initPhotoPage=function(a,b,c){GD.photos.employerId=a;GD.photos.location=b;0>=GD.photos.pagePhotoIds.length||0>=GD.photos.firstPhotoId||0>=GD.photos.lastPhotoId?Logger.error("Photo browse page variables not set properly before calling GD.photos.initPhotoPage()."):(a=GD.photos.checkHashTag(),GD.photos.currentPhotoFromHash?GD.photos.getHashPhoto(a):c||(0<a?GD.photos.selectPhoto(a,!0):GD.photos.selectPhoto(GD.photos.pagePhotoIds[0],!0)),$("#PhotosDataHeader .thumbs .frame a").click(GD.photos.onThumbClick).keydown(GD.photos.onThumbKeyDown),
c||($("#LocalNavPrev").click(GD.photos.onLocalNavClick).keydown(GD.photos.onLocalNavKeyDown),$("#LocalNavNext").click(GD.photos.onLocalNavClick).keydown(GD.photos.onLocalNavKeyDown),$("#PhotosDataHeader .pageNav a.prevPage, #PhotosDataHeader .pageNav a.nextPage").click(GD.photos.gotoPage),GD.wait(10).then(GD.photos.preloadPhoto)),GD.aug.augmentPlaceholders())};
GD.photos.checkHashTag=function(){var a=window.location.hash,b=0;a&&a.startsWith("#")&&0<=a.indexOf("-")&&(a=a.split("-"),1<a.length&&(a=a[1],"last"==a?b=GD.photos.pagePhotoIds[GD.photos.pagePhotoIds.length-1]:(a=parseInt(a),NaN!=a&&(b=a,GD.photos.currentPhotoFromHash=!0))));if(GD.photos.currentPhotoFromHash)for(a=0;a<GD.photos.pagePhotoIds.length;a++)if(GD.photos.pagePhotoIds[a]==b){GD.photos.currentPhotoFromHash=!1;break}return b};
GD.photos.selectPhoto=function(a,b){GD.photos.isExpectingAjaxResponse=!1;if(a!=GD.photos.currentPhotoId){for(var c=0;c<GD.photos.pagePhotoIds.length;c++)if(GD.photos.pagePhotoIds[c]==a){GD.photos.currentPhotoIndex=c;break}c=(GD.photos.firstRecordIndexOnPage+GD.photos.currentPhotoIndex+1).addSeparators();$("#PhotoContainer .nav .count .currItemIndex").html(c);$("#PhotoContainer .nav .count").show();$("#PhotosDataHeader .thumbs .frame").removeClass("currPhoto");$("#PhotoThumbnailFrame_"+a).addClass("currPhoto");
b&&$("#PhotoThumbnailFrame_"+a+" a").focus();$("#PhotosList .photo").addClass("hidden");$("#Photo_"+a).removeClass("hidden transparent");GD.photos.loadPhoto(a);GD.photos.currentPhotoId=a;GD.photos.updateLocalNavButtons()}};
GD.photos.loadPhoto=function(a){var b=$("#Photo_"+a+" img.companyPhoto"),c=b.attr("src"),d=b.attr("photoUrl");!b.attr("photoComplete")&&d&&c!=d&&($("#PhotosListSpinner").show(),b.load(function(){$("#PhotosListSpinner").hide();b.attr("photoComplete","true")}).error(function(){$("#PhotosListSpinner").hide();b.attr("photoComplete","true");GD.photos.brokenImage(b)}),b.attr("src",d));GD.photos.trackPhoto(a)};
GD.photos.trackPhoto=function(a){GD.analytics.trackPageView(GD.photos.photoViewAnalyticsURL);GD.photos.isInitialPagePhoto||jQuery.ajax({url:GD.photos.photoViewTrackURL,data:{photoId:a,employerId:GD.photos.employerId,location:GD.photos.location},dataType:"json"});GD.photos.isInitialPagePhoto=!1};
GD.photos.preloadPhoto=function(){for(var a=0;a<GD.photos.pagePhotoIds.length;a++){var b=$("#Photo_"+GD.photos.pagePhotoIds[a]+" img.companyPhoto"),c=b.attr("src"),d=b.attr("photoUrl");if(!b.attr("photoComplete")&&d&&c!=d){b.one("load",function(){GD.wait(10).then(GD.photos.preloadPhoto);b.attr("photoComplete","true")});b.one("error",function(){GD.photos.brokenImage(b);b.attr("photoComplete","true");GD.wait(10).then(GD.photos.preloadPhoto)});Logger.info("Preloading photo id="+GD.photos.pagePhotoIds[a]);
b.attr("src",d);break}}};GD.photos.onThumbError=function(a){a=$(a);a.attr("src","/static/img/icons/broken/broken-50.png");a.attr("width","50");a.attr("height","50")};GD.photos.brokenImage=function(a){a.attr("src","/static/img/icons/broken/broken-200.png");a.attr("width","200");a.attr("height","200")};
GD.photos.getHashPhoto=function(a){a="/GD/Photos/getPhotoMetadataAjax.htm?photoId="+a;$("#PhotosDataHeader .thumbs .frame").removeClass("currPhoto");$("#PhotosList .photo").addClass("hidden");$("#Photo_0").removeClass("hidden");$("#PhotosListSpinner").show();$("#PhotoContainer .nav .count").hide();a={url:a,dataType:"json",success:function(a){GD.photos.onHashPhotoResponse(a)},error:function(){GD.photos.onHashPhotoResponse(null)}};GD.photos.isExpectingAjaxResponse=!0;jQuery.ajax(a)};
GD.photos.onHashPhotoResponse=function(a){if(a&&GD.photos.isExpectingAjaxResponse){var b=$("#Photo_0 .empShortName").html(),b=b+" &ndash; ";a.location&&(b+=a.location+" &ndash; ");b+="Posted ";a.employerPhoto?b+="by <strong>employer</strong>":a.credit&&(b+="by <strong>"+a.credit+"</strong>");b+=" on "+a.createDate;$("#Photo_0 .photoData").html(b);$("#Photo_0 .caption").html(a.caption);$("#Photo_0 img").attr({height:a.mediumHeight,width:a.mediumWidth});$("#Photo_0 img.companyPhoto").attr("photoUrl",
a.srcMedium);GD.photos.loadPhoto(0);GD.photos.currentPhotoId=-1;GD.photos.updateLocalNavButtons()}else selectPhoto(GD.photos.pagePhotoIds[0]);GD.photos.isExpectingAjaxResponse=!1};
GD.photos.nextPhoto=function(a){var b=!0;-1==GD.photos.currentPhotoIndex?GD.photos.currentPhotoIndex=0:GD.photos.currentPhotoIndex<GD.photos.pagePhotoIds.length-1?GD.photos.currentPhotoIndex++:GD.photos.nextPageUrl?GD.photos.loadNextPage(GD.photos.nextPageUrl,!1):1==GD.photos.pagePhotoIds.length?b=!1:GD.photos.currentPhotoIndex=0;b&&GD.photos.selectPhoto(GD.photos.pagePhotoIds[GD.photos.currentPhotoIndex],a);GD.photos.updateLocalNavButtons()};
GD.photos.prevPhoto=function(a){var b=!0;-1==GD.photos.currentPhotoIndex?GD.photos.currentPhotoIndex=GD.photos.pagePhotoIds.length-1:0<GD.photos.currentPhotoIndex?GD.photos.currentPhotoIndex--:GD.photos.prevPageUrl?GD.photos.loadNextPage(GD.photos.prevPageUrl,!0):1==GD.photos.pagePhotoIds.length?b=!1:GD.photos.currentPhotoIndex=GD.photos.pagePhotoIds.length-1;b&&GD.photos.selectPhoto(GD.photos.pagePhotoIds[GD.photos.currentPhotoIndex],a);GD.photos.updateLocalNavButtons()};
GD.photos.updateLocalNavButtons=function(){};GD.photos.loadNextPageCounter=0;GD.photos.loadNextPage=function(a,b){b&&(a+="#Photo-last");var c=function(){GD.photos.loadNextPageCounter+=1;2<=GD.photos.loadNextPageCounter&&($("#PhotosThumbsSpinner").show(),GD.dom.loadUrl(a))},d={opacity:0};$("#PhotosListSpinner").show().css("z-index","5");$("#PhotosDataHeader .thumbSliderContainer").animate(d,"fast",c);$("#PhotosList").animate(d,"fast",c)};
GD.photos.onThumbClick=function(a){var b=$(a.currentTarget).attr("photoId");a.preventDefault();GD.photos.selectPhoto(b);GD.photos.refreshAdsOnBrowse()};
GD.photos.onThumbKeyDown=function(a){if(10==a.which||13==a.which||32==a.which){var b=$(a.currentTarget).attr("photoId");GD.photos.selectPhoto(b);a.preventDefault()}else{b=!0;switch(a.which){case GD.photos.ARROW_LEFT:GD.photos.prevPhoto(!0);break;case GD.photos.ARROW_RIGHT:GD.photos.nextPhoto(!0);break;case GD.photos.ARROW_UP:GD.photos.selectPhoto(GD.photos.pagePhotoIds[0],!0);break;case GD.photos.ARROW_DOWN:GD.photos.selectPhoto(GD.photos.pagePhotoIds[GD.photos.pagePhotoIds.length-1],!0);break;default:b=
!1}b&&a.preventDefault()}};GD.photos.onLocalNavClick=function(a){var b=$(a.currentTarget).attr("id");a.preventDefault();"LocalNavPrev"==b?("",GD.photos.prevPhoto(!1)):GD.photos.nextPhoto(!1);GD.photos.refreshAdsOnBrowse()};GD.photos.refreshAdsOnBrowse=function(){GD.photos.navClickCount++;5==GD.photos.navClickCount&&(googletag.pubads().refresh(),GD.photos.navClickCount=0)};GD.photos.onLocalNavKeyDown=function(a){if(10==a.which||13==a.which||32==a.which)$(a.currentTarget).click(),a.preventDefault()};
GD.photos.gotoPage=function(a){var b=$(a.currentTarget).attr("href");GD.photos.loadNextPage(b,!1);a.preventDefault()};window.GD=window.GD||{};GD.industrySelect=GD.industrySelect||{};GD.industrySelect.init=function(a,d,b){try{GD.industrySelect.loadSectors(a),isNaN(b)&&(b=0),GD.industrySelect.loadIndustries(),GD.industrySelect.selectSavedValues(d,b)}catch(c){Logger.fatal("industrySelect.js / GD.industrySelect.init()",c)}};
GD.industrySelect.loadSectors=function(a){var d=$("#SectorSelectControl");d.empty();a&&d.append("<option value='-1'>- Sector -</option>");for(a=0;a<sectorList.length;a++)d.append("<option value='"+sectorList[a].id+"'>"+sectorList[a].name+"</option>\n")};
GD.industrySelect.loadIndustries=function(){var a=$("#SectorSelectControl"),d=$("#IndustrySelectControl"),b=$("option:selected",a);0==b.length&&($("option:first",a).attr("selected","selected"),b=$("option:selected",a));a=b.val();d.empty();0>=a?d.attr("disabled","disabled"):d.removeAttr("disabled");if(0<a)for(var c,f,b=0;b<sectorList.length;b++){var e=sectorList[b];if(e.id==a){a=e.children;for(b=0;b<a.length;b++){c=a[b].name;f=a[b].id;c=c.trim();c="<option value='"+f+"' title='"+c+"'>"+c+"</option>\n";
d.append(c);for(var e=a[b].children,g=0;g<e.length;g++)c=GD.industrySelect._makeNonBreakingSpaces(e[g].name),f=e[g].id,c=c.trim(),c="<option value='"+f+"' title='"+c+"' class='spacedOption'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+c+"</option>\n",d.append(c)}break}}};
GD.industrySelect.selectSavedValues=function(a,d){if(!isNaN(a)){var b=$("#SectorSelectControl"),c=$("#IndustrySelectControl");$('option[value="'+a+'"]',b).attr("selected","selected");$("option:selected",b).length&&(GD.industrySelect.loadIndustries(),isNaN(d)||$('option[value="'+d+'"]',c).attr("selected","selected"))}};GD.industrySelect._makeNonBreakingSpaces=function(a){for(;" "===a.charAt(0);)a=a.substr(0,0)+" "+a.substr(1);return a};window.GD=window.GD||{};GD.videos=GD.videos||{};GD.videos.TYPE_YT_VIDEO_RECORDS="YT_VIDEO_RECORDS";GD.videos.TYPE_YT_VIDEO_LIST="YT_VIDEO_LIST";GD.videos.VIDEO_STATE_UNSTARTED=-1;GD.videos.VIDEO_STATE_ENDED=0;GD.videos.VIDEO_STATE_PLAYING=1;GD.videos.VIDEO_STATE_PAUSED=2;GD.videos.VIDEO_STATE_BUFFERING=3;GD.videos.VIDEO_STATE_VIDEO_CUED=5;GD.videos.videoViewTrackURL="/employerInfo/Videos/employer-video-view";GD.videos.VIDEO_PLAYER_PLACEHOLDER_ID_POSTFIX="-player";
GD.videos.VIDEO_PLAYER_ID_POSTFIX="-ytPLayer";GD.videos.VIDEO_DEFAULT_WIDTH=280;GD.videos.VIDEO_DEFAULT_HEIGHT=225;
GD.videos.initVideoModule=function(a,b,c,d,e,h,i,g,j,k,l,m){var f=$(a);e||(e=GD.videos.VIDEO_DEFAULT_WIDTH);h||(h=GD.videos.VIDEO_DEFAULT_HEIGHT);f.length&&(a=f[0]);"boolean"!==typeof g&&(g=!1);if(!k||0>k)k=0;f.data("videoWidth",e);f.data("videoHeight",h);f.data("isSecure",i);f.data("showHD",g);f.data("maxTitleLength",k);f.data("useTitleQuotes",l);f.data("useTitleSeparatorPrefix",m);j&&f.data("titleContainerSelector",j);a?c.trim()?(a.ytUsername=c,a.videoList||jQuery.ajax({url:(i?"https":"http")+"://gdata.youtube.com/feeds/api/users/"+
c+"/uploads",data:{v:"2",alt:"jsonc"},dataType:"jsonp",success:function(a){GD.videos.onYouTubeResponse(f,a)},error:function(){GD.videos.onYouTubeResponse(f,null)}})):d?(b=d.split(","),a.recordType=GD.videos.TYPE_YT_VIDEO_LIST,a.videoData={},a.videoData.items=b,a.videoData.itemsPerPage=b.length,a.videoData.totalItems=b.length,a.videoData.startIndex=1,GD.videos.getRandomStartIndex(a),GD.videos.onVideosListReady(f)):GD.videos.displayError(f,"No videos to display for "+b+"."):GD.videos.displayError(f,
"Video module error.")};GD.videos.onYouTubeResponse=function(a,b){var c=$(".vidContainer",a),d=a[0];c.length&&b&&b.data?(c=b.data,d.recordType=GD.videos.TYPE_YT_VIDEO_RECORDS,d.videoData=c,GD.videos.getRandomStartIndex(d),GD.videos.onVideosListReady(a)):b&&b.error&&b.error.message?GD.videos.displayError(a,"YouTube user '"+d.ytUsername+"': "+b.error.message):GD.videos.displayError(a,"Got an error for '"+options.url+"' &ndash; no items.")};
GD.videos.onVideosListReady=function(a){var b=a[0];$(".vidControl .max",a).html(b.videoData.totalItems);GD.videos.createVideoPlayer(a);$(".vidNav .prev",a).on("click",function(){GD.videos.showPreviousVideo(a)});$(".vidNav .next",a).on("click",function(){GD.videos.showNextVideo(a)});GD.videos.checkNav(a)};GD.videos.displayError=function(a,b){var c=$(".vidContainer",a),d=$("<p class='errorMessage'>");d.html(b);c.empty().append(d)};
GD.videos.getRandomStartIndex=function(a){var b=a.videoData,c=b.items.length,d=b.startIndex+Math.floor(Math.random()*c);1>d?d=1:d>=b.startIndex+c&&(d=b.startIndex+c-1);a.currentVideoIndex=d};GD.videos.showPreviousVideo=function(a){var b=a[0];1<b.currentVideoIndex&&(b.currentVideoIndex<=b.videoData.startIndex?GD.videos.loadAndShowVideo(a,b.videoData.startIndex-b.videoData.itemsPerPage,b.currentVideoIndex-1):GD.videos.showVideo(a,b.currentVideoIndex-1))};
GD.videos.showNextVideo=function(a){var b=a[0];if(b.currentVideoIndex<b.videoData.totalItems){var c=b.videoData.startIndex+b.videoData.items.length-1;b.currentVideoIndex>=c?GD.videos.loadAndShowVideo(a,b.currentVideoIndex+1,c+1):GD.videos.showVideo(a,b.currentVideoIndex+1)}};
GD.videos.loadAndShowVideo=function(a,b,c){var d=a[0],e=(a.data("isSecure")?"https":"http")+"://gdata.youtube.com/feeds/api/users/"+d.ytUsername+"/uploads";1>b?b=1:b>d.videoData.totalItems&&(b=d.videoData.totalItems-d.videoData.itemsPerPage+1);jQuery.ajax({url:e,data:{v:"2",alt:"jsonc","start-index":b},dataType:"jsonp",success:function(b){GD.videos.onLoadAndShowVideoComplete(a,b,c)},error:function(){GD.videos.onLoadAndShowVideoComplete(a,null)}})};
GD.videos.onLoadAndShowVideoComplete=function(a,b,c){if($(".vidContainer",a).length&&b&&b.data){var d=a[0];d.videoData=b.data;GD.videos.showVideo(a,c)}else b&&b.error&&b.error.message?GD.videos.displayError(a,"YouTube user '"+d.ytUsername+"': "+b.error.message):GD.videos.displayError(a,"Got an error for '"+options.url+"' &ndash; no items.")};
GD.videos.showVideo=function(a,b){var c=a.attr("id")+GD.videos.VIDEO_PLAYER_ID_POSTFIX,d=GD.videos.getVideoId(a[0],b),c=id(c),e=null;a.data("showHD")&&(e="large");c&&c.cueVideoById(d,null,e);GD.videos.showVideoInfo(a,b)};
GD.videos.createVideoPlayer=function(a){if(window.swfobject){var b=a.attr("id"),c=b+GD.videos.VIDEO_PLAYER_ID_POSTFIX,d=a[0];$(".vidContainer",a);var e=a.data("videoWidth"),h=a.data("videoHeight"),i=a.data("showHD"),g=GD.videos.getVideoId(d,d.currentVideoIndex),g=(a.data("isSecure")?"https":"http")+"://www.youtube.com/v/"+g,g=g+("?rel=0&fs=1&enablejsapi=1&version=3&iv_load_policy=3&showinfo=0&playerapiid="+c);i&&(g+="&hd=1");swfobject.embedSWF(g,b+GD.videos.VIDEO_PLAYER_PLACEHOLDER_ID_POSTFIX,e,h,
"8",null,null,{allowScriptAccess:"always",rel:"0",allowFullScreen:"true",wmode:"transparent"},{id:c},function(a){GD.videos.onFlashInjection(a,b)});GD.videos.showVideoInfo(a,d.currentVideoIndex)}else GD.dom.loadScript("http://ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js",function(){GD.videos.createVideoPlayer(a)})};
GD.videos.showVideoInfo=function(a,b){var c=a[0],d=c.videoData.items[b-c.videoData.startIndex].title;d&&(d=d.trim());c.currentVideoIndex=b;$(".vidControl .curr",a).html(b);d?GD.videos.showVideoTitle(a,d):(GD.videos.showVideoTitle(a,""),c.recordType==GD.videos.TYPE_YT_VIDEO_LIST&&GD.videos.getVideoTitle(a,b));GD.videos.checkNav(a)};
GD.videos.getVideoTitle=function(a,b){var c=GD.videos.getVideoId(a[0],b),d=a.data("isSecure")?"https":"http";jQuery.ajax({url:d+"://gdata.youtube.com/feeds/api/videos/"+c,data:{alt:"json"},dataType:"jsonp",success:function(c){GD.videos.onGetVideoTitle(a,b,c)},error:function(){GD.videos.onGetVideoTitle(a,b,null)}})};
GD.videos.onGetVideoTitle=function(a,b,c){if(c){var d=null;try{d=c.entry.title.$t}catch(e){}GD.videos.setVideoTitle(a[0],b,d);d&&(b=a.data("maxTitleLength"))&&0<b&&(d=d.truncateToLength(b,!0));GD.videos.showVideoTitle(a,d)}};
GD.videos.showVideoTitle=function(a,b){var c=a.data("titleContainerSelector"),d=a.data("useTitleQuotes"),e=a.data("useTitleSeparatorPrefix"),h="",i="",g="";c?(c=$(c),b&&e&&(h=" &ndash; ")):c=$(".vidTitle",a);if(b){var e=a.data("maxTitleLength"),j=b;e&&0<e&&(b=b.truncateToLength(e,!0));d&&(i="&ldquo;",g="&rdquo;");c.html(h+i+b+g).show();b.length!=j.length?c.attr("title",j):c.removeAttr("title")}else c.html("&nbsp;")};
GD.videos.getVideoId=function(a,b){var c=a.videoData.items,d=null;0<b&&b-a.videoData.startIndex<c.length&&(c=c[b-a.videoData.startIndex])&&("string"===typeof c?d=c.trim():c.id&&(d=c.id.trim()));return d};GD.videos.setVideoTitle=function(a,b,c){var d=a.videoData.items;if(0<b&&b-a.videoData.startIndex<d.length)if("string"==typeof d[b-a.videoData.startIndex]){var e={};e.id=d[b-a.videoData.startIndex];e.title=c;d[b-a.videoData.startIndex]=e}else d[b-a.videoData.startIndex].title=c};
GD.videos.onFlashInjection=function(a,b){a.success||$("#"+b).hide()};GD.videos.checkNav=function(a){var b=a[0],c=b.videoData,b=b.currentVideoIndex;1<c.totalItems&&$(".vidControl").show();1==b?$(".vidNav .prev",a).removeClass("link"):$(".vidNav .prev",a).addClass("link");b>=c.totalItems?$(".vidNav .next",a).removeClass("link"):$(".vidNav .next",a).addClass("link")};
GD.videos.onStateChange=function(a,b){switch(a){case GD.videos.VIDEO_STATE_PLAYING:var c=id(b),d=GD.videos.videoViewTrackURL;if(c&&(c=c.getVideoUrl()))(c=c.match(/[&\?]v=([\w]+)[^\w]*/))&&1<c.length&&(d+="/"+c[1]);GD.analytics.trackPageView(d)}};function onYouTubePlayerReady(a){var b=id(a);b&&b.addEventListener("onStateChange","(function(state) { return GD.videos.onStateChange(state, '"+a+"');})")};window.Date.prototype.f=function(a){if("@"==a)return this.getTime();if("REL"==a){var a=((new Date).getTime()-this.getTime())/1E3,b=Math.floor(a/86400);return 0==b&&(-60<a&&"right now"||-120<a&&"1 minute from now"||-3600<a&&-Math.floor(a/60)+" minutes from now"||-7200<a&&"1 hour ago"||-86400<a&&-Math.floor(a/3600)+" hours from now"||60>a&&"just now"||120>a&&"1 minute ago"||3600>a&&Math.floor(a/60)+" minutes ago"||7200>a&&"1 hour ago"||86400>a&&Math.floor(a/3600)+" hours ago")||0==b&&"Tomorrow"||-7<
b&&-b+" days from now"||1==-Math.ceil(b/7)&&"1 week from now"||-78<b&&-Math.ceil(b/7)+" weeks from now"||-730<b&&-Math.ceil(b/30)+" months from now"||-730>=b&&-Math.ceil(b/365)+" years from now"||1==b&&"Yesterday"||7>b&&b+" days ago"||1==Math.ceil(b/7)&&"1 week ago"||78>b&&Math.ceil(b/7)+" weeks ago"||730>b&&Math.ceil(b/30)+" months ago"||Math.ceil(b/365)+" years ago"}var b="January,February,March,April,May,June,July,August,September,October,November,December".split(","),e="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),
j=function(b){return(0>b||9<b?"":"0")+b},a=a+"",k="",i=0,f="",h="",f=this.getYear()+"",h=this.getMonth()+1,l=this.getDate(),c=this.getDay(),d=this.getHours(),m=this.getMinutes(),n=this.getSeconds(),g={};4>f.length&&(f=""+(f-0+1900));g.y=""+f;g.yyyy=f;g.yy=f.substr(2,4);g.M=h;g.MM=j(h);g.MMM=b[h-1];g.NNN=b[h-1].substr(0,3);g.N=b[h-1].substr(0,1);g.d=l;g.dd=j(l);g.e=e[c].substr(0,1);g.ee=e[c].substr(0,2);g.E=e[c].substr(0,3);g.EE=e[c];g.H=d;g.HH=j(d);g.h=0==d?12:12<d?d-12:d;g.hh=j(g.h);g.K=11<d?d-12:
d;g.k=d+1;g.KK=j(g.K);g.kk=j(g.k);g.a=11<d?"PM":"AM";g.m=m;g.mm=j(m);g.s=n;for(g.ss=j(n);i<a.length;){f=a.charAt(i);for(h="";a.charAt(i)==f&&i<a.length;)h+=a.charAt(i++);k=null!=g[h]?k+g[h]:k+h}return k};
window.Date.prototype.diff=function(a,b){var e={};"string"==typeof a?"Invalid Date"!=new Date(a)&&"NaN"!=new Date(a)?a=new Date(a):(b=a,a=new Date):"object"==typeof a&&!a.getTime&&(e=a,a=new Date);"object"==typeof b&&(e=b,b=e.breakdown||"*");e.labels=e.labels||{};if(b){var j=function(a){var c=null;if(f>=h[a]){if(a=="Y"||a=="D"||a=="C"||a=="T")for(var d=k;d.getFullYear()<=i.getFullYear();d.setYear(d.getFullYear()+1))d.isLeapYear()&&(f=f-h.d);if(f>=h[a]){c=Math.floor(f/h[a])+" "+(Math.floor(f/h[a])==
1&&l[a][0]||l[a][1]);f=f%h[a]}}a=RegExp(a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"g");b=b.replace(a,"");return c},k=a<=this&&a||a>this&&this,i=a>this&&a||a<=this&&this,f=i.getTime()-k.getTime(),h={T:31536E9,C:31536E8,D:31536E7,Y:31536E6,M:24192E5,W:6048E5,d:864E5,H:36E5,m:6E4,S:1E3,N:1},l={T:e.labels.T||["Mellinium","Mellinia"],C:e.labels.C||["Century","Centuries"],D:e.labels.D||["Decade","Decades"],Y:e.labels.Y||["Year","Years"],M:e.labels.M||["Month","Months"],W:e.labels.W||["Week","Weeks"],
d:e.labels.d||["Day","Days"],H:e.labels.H||["Hour","Hours"],m:e.labels.m||["Minute","Minutes"],S:e.labels.S||["Second","Seconds"],N:e.labels.N||["Millisecond","Milliseconds"]};if(e.len)for(var c in l)l[c]=l[c].substr(0,e.len);c=new Date(k.toString());for(1<i.getFullYear()-c.getFullYear()&&c.setYear(i.getFullYear()-1);c<i;)c.isDayLightSavingsDay()&&5>c.getMonth()?f+=h.H:c.isDayLightSavingsDay()&&(f-=h.H),c.setDate(c.getDate()+1);if((i.getMonth()==i.getDayLightSavingsDays()[0].getMonth()&&i.getDate()<
i.getDayLightSavingsDays()[0].getDate()||i.getMonth()<i.getDayLightSavingsDays()[0].getMonth())&&i.getMonth()==k.getMonth())f+=h.H;else if((k.getMonth()==k.getDayLightSavingsDays()[1].getMonth()&&k.getDate()>k.getDayLightSavingsDays()[1].getDate()||k.getMonth()<k.getDayLightSavingsDays()[1].getMonth())&&k.getMonth()==k.getMonth())f-=h.H;c=[];for(var d;0<f;)if("*"==b)b="TCDYMWdHmSN";else if(-1<b.indexOf("T")){if(d=j("T"))c[c.length]=d}else if(-1<b.indexOf("C")){if(d=j("C"))c[c.length]=d}else if(-1<
b.indexOf("D")){if(d=j("D"))c[c.length]=d}else if(-1<b.indexOf("Y")){if(d=j("Y"))c[c.length]=d}else if(-1<b.indexOf("M")){if(f>=h.M){d=new Date(i.getTime()-f);for(var m=0,n=0,g=d.getFullYear();g<=i.getFullYear();g++)for(;d.getFullYear()==g&&!(n=d.getTime(),d.setMonth(d.getMonth()+1),0<=f-(d.getTime()-n)&&(m++,f-=d.getTime()-n),g==i.getFullYear()&&d.getMonth()==i.getMonth()););m&&(c[c.length]=m+" "+(1==m&&l.M[0]||l.M[1]))}b=b.replace(/M/g,"")}else if(-1<b.indexOf("W")){if(d=j("W"))c[c.length]=d}else if(-1<
b.indexOf("d")){if(d=j("d"))c[c.length]=d}else if(-1<b.indexOf("H")){if(d=j("H"))c[c.length]=d}else if(-1<b.indexOf("m")){if(d=j("m"))c[c.length]=d}else if(-1<b.indexOf("S")){if(d=j("S"))c[c.length]=d}else if(-1<b.indexOf("N")){if(d=j("N"))c[c.length]=d}else f=0;e.divider=e.divider||", ";", "==e.divider&&1<c.length&&!e.hideAnd&&(c[c.length-1]="and "+c[c.length-1]);f=c.join(e.divider)}""==f&&(f="Same");e.lc&&(f=f.toLowerCase());return f};
window.Date.prototype.getDaysInMonth=function(){return[31,28,31,30,31,30,31,31,30,31,30,31][this.getMonth()]};window.Date.prototype.isLeapYear=function(){return 29==(new Date(this.getFullYear(),1,29)).getDate()};
window.Date.prototype.getDayLightSavingsDays=function(){for(var a=[],b=new Date("03/07/"+this.getFullYear()),e=new Date("03/06/"+this.getFullYear());3>b.getMonth()||3==b.getMonth()&&16>b.getDate();)24!=(b.getTime()-e.getTime())/1E3/60/60&&(a[a.length]=new Date(e.getTime())),b.setDate(b.getDate()+1),e.setDate(e.getDate()+1);b=new Date("10/31/"+this.getFullYear());for(e=new Date("10/30/"+this.getFullYear());11>b.getMonth()||10==b.getMonth()&&9>b.getDate();)24!=(b.getTime()-e.getTime())/1E3/60/60&&(a[a.length]=
new Date(e.getTime())),b.setDate(b.getDate()+1),e.setDate(e.getDate()+1);return a};window.Date.prototype.isDayLightSavingsDay=function(){var a=new Date(this.getTime());a.setDate(a.getDate()+1);return 24!=(a.getTime()-this.getTime())/1E3/60/60};var JSON;JSON||(JSON={});
(function(){function k(a){return 10>a?"0"+a:a}function o(a){p.lastIndex=0;return p.test(a)?'"'+a.replace(p,function(a){var c=r[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function m(a,j){var c,d,h,n,g=e,f,b=j[a];b&&"object"===typeof b&&"function"===typeof b.toJSON&&(b=b.toJSON(a));"function"===typeof i&&(b=i.call(j,a,b));switch(typeof b){case "string":return o(b);case "number":return isFinite(b)?""+b:"null";case "boolean":case "null":return""+b;
case "object":if(!b)return"null";e+=l;f=[];if("[object Array]"===Object.prototype.toString.apply(b)){n=b.length;for(c=0;c<n;c+=1)f[c]=m(c,b)||"null";h=0===f.length?"[]":e?"[\n"+e+f.join(",\n"+e)+"\n"+g+"]":"["+f.join(",")+"]";e=g;return h}if(i&&"object"===typeof i){n=i.length;for(c=0;c<n;c+=1)"string"===typeof i[c]&&(d=i[c],(h=m(d,b))&&f.push(o(d)+(e?": ":":")+h))}else for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(h=m(d,b))&&f.push(o(d)+(e?": ":":")+h);h=0===f.length?"{}":e?"{\n"+e+f.join(",\n"+
e)+"\n"+g+"}":"{"+f.join(",")+"}";e=g;return h}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+k(this.getUTCMonth()+1)+"-"+k(this.getUTCDate())+"T"+k(this.getUTCHours())+":"+k(this.getUTCMinutes())+":"+k(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var q=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
p=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,l,r={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,j,c){var d;l=e="";if(typeof c==="number")for(d=0;d<c;d=d+1)l=l+" ";else typeof c==="string"&&(l=c);if((i=j)&&typeof j!=="function"&&(typeof j!=="object"||typeof j.length!=="number"))throw Error("JSON.stringify");return m("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,e){function c(a,d){var g,f,b=a[d];if(b&&typeof b==="object")for(g in b)if(Object.prototype.hasOwnProperty.call(b,g)){f=c(b,g);f!==void 0?b[g]=f:delete b[g]}return e.call(a,d,b)}var d,a=""+a;q.lastIndex=0;q.test(a)&&(a=a.replace(q,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){d=eval("("+a+")");return typeof e==="function"?c({"":d},""):d}throw new SyntaxError("JSON.parse");})})();var MD5;MD5||(MD5={});
(function(){function l(f,e){var d=f[0],a=f[1],b=f[2],c=f[3],d=g(d,a,b,c,e[0],7,-680876936),c=g(c,d,a,b,e[1],12,-389564586),b=g(b,c,d,a,e[2],17,606105819),a=g(a,b,c,d,e[3],22,-1044525330),d=g(d,a,b,c,e[4],7,-176418897),c=g(c,d,a,b,e[5],12,1200080426),b=g(b,c,d,a,e[6],17,-1473231341),a=g(a,b,c,d,e[7],22,-45705983),d=g(d,a,b,c,e[8],7,1770035416),c=g(c,d,a,b,e[9],12,-1958414417),b=g(b,c,d,a,e[10],17,-42063),a=g(a,b,c,d,e[11],22,-1990404162),d=g(d,a,b,c,e[12],7,1804603682),c=g(c,d,a,b,e[13],12,-40341101),
b=g(b,c,d,a,e[14],17,-1502002290),a=g(a,b,c,d,e[15],22,1236535329),d=i(d,a,b,c,e[1],5,-165796510),c=i(c,d,a,b,e[6],9,-1069501632),b=i(b,c,d,a,e[11],14,643717713),a=i(a,b,c,d,e[0],20,-373897302),d=i(d,a,b,c,e[5],5,-701558691),c=i(c,d,a,b,e[10],9,38016083),b=i(b,c,d,a,e[15],14,-660478335),a=i(a,b,c,d,e[4],20,-405537848),d=i(d,a,b,c,e[9],5,568446438),c=i(c,d,a,b,e[14],9,-1019803690),b=i(b,c,d,a,e[3],14,-187363961),a=i(a,b,c,d,e[8],20,1163531501),d=i(d,a,b,c,e[13],5,-1444681467),c=i(c,d,a,b,e[2],9,-51403784),
b=i(b,c,d,a,e[7],14,1735328473),a=i(a,b,c,d,e[12],20,-1926607734),d=h(a^b^c,d,a,e[5],4,-378558),c=h(d^a^b,c,d,e[8],11,-2022574463),b=h(c^d^a,b,c,e[11],16,1839030562),a=h(b^c^d,a,b,e[14],23,-35309556),d=h(a^b^c,d,a,e[1],4,-1530992060),c=h(d^a^b,c,d,e[4],11,1272893353),b=h(c^d^a,b,c,e[7],16,-155497632),a=h(b^c^d,a,b,e[10],23,-1094730640),d=h(a^b^c,d,a,e[13],4,681279174),c=h(d^a^b,c,d,e[0],11,-358537222),b=h(c^d^a,b,c,e[3],16,-722521979),a=h(b^c^d,a,b,e[6],23,76029189),d=h(a^b^c,d,a,e[9],4,-640364487),
c=h(d^a^b,c,d,e[12],11,-421815835),b=h(c^d^a,b,c,e[15],16,530742520),a=h(b^c^d,a,b,e[2],23,-995338651),d=j(d,a,b,c,e[0],6,-198630844),c=j(c,d,a,b,e[7],10,1126891415),b=j(b,c,d,a,e[14],15,-1416354905),a=j(a,b,c,d,e[5],21,-57434055),d=j(d,a,b,c,e[12],6,1700485571),c=j(c,d,a,b,e[3],10,-1894986606),b=j(b,c,d,a,e[10],15,-1051523),a=j(a,b,c,d,e[1],21,-2054922799),d=j(d,a,b,c,e[8],6,1873313359),c=j(c,d,a,b,e[15],10,-30611744),b=j(b,c,d,a,e[6],15,-1560198380),a=j(a,b,c,d,e[13],21,1309151649),d=j(d,a,b,c,
e[4],6,-145523070),c=j(c,d,a,b,e[11],10,-1120210379),b=j(b,c,d,a,e[2],15,718787259),a=j(a,b,c,d,e[9],21,-343485551);f[0]=k(d,f[0]);f[1]=k(a,f[1]);f[2]=k(b,f[2]);f[3]=k(c,f[3])}function h(f,e,d,a,b,c){e=k(k(e,f),k(a,c));return k(e<<b|e>>>32-b,d)}function g(f,e,d,a,b,c,g){return h(e&d|~e&a,f,e,b,c,g)}function i(f,e,d,a,b,c,g){return h(e&a|d&~a,f,e,b,c,g)}function j(f,e,d,a,b,c,g){return h(d^(e|~a),f,e,b,c,g)}function m(f){var e=f,d=e.length,f=[1732584193,-271733879,-1732584194,271733878],a;for(a=64;a<=
e.length;a+=64){for(var b=f,c=e.substring(a-64,a),g=[],h=void 0,h=0;64>h;h+=4)g[h>>2]=c.charCodeAt(h)+(c.charCodeAt(h+1)<<8)+(c.charCodeAt(h+2)<<16)+(c.charCodeAt(h+3)<<24);l(b,g)}e=e.substring(a-64);b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(a=0;a<e.length;a++)b[a>>2]|=e.charCodeAt(a)<<(a%4<<3);b[a>>2]|=128<<(a%4<<3);if(55<a){l(f,b);for(a=0;16>a;a++)b[a]=0}b[14]=8*d;l(f,b);for(e=0;e<f.length;e++){d=f;a=e;b=f[e];c="";for(g=0;4>g;g++)c+=n[b>>8*g+4&15]+n[b>>8*g&15];d[a]=c}return f.join("")}function k(f,
e){return f+e&4294967295}var n="0,1,2,3,4,5,6,7,8,9,a,b,c,d,e,f".split(",");"5d41402abc4b2a76b9719d911017c592"!=m("hello")&&(k=function(f,e){var d=(f&65535)+(e&65535);return(f>>16)+(e>>16)+(d>>16)<<16|d&65535});MD5.md5=m})();window.Modernizr=function(o,g,G){function A(c,b){for(var f in c){var i=c[f];if(!~(""+i).indexOf("-")&&K[i]!==G)return"pfx"==b?i:!0}return!1}function B(c,b,f){var i=c.charAt(0).toUpperCase()+c.slice(1),g=(c+" "+v.join(i+" ")+i).split(" ");if("string"===typeof b||"undefined"===typeof b)b=A(g,b);else{g=(c+" "+u.join(i+" ")+i).split(" ");a:{var c=g,m;for(m in c)if(i=b[c[m]],i!==G){b=!1===f?c[m]:"function"===typeof i?i.bind(f||b):i;break a}b=!1}}return b}function E(){var c=e,b;b="autocomplete,autofocus,list,placeholder,max,min,multiple,pattern,required,step".split(",");
for(var f=0,i=b.length;f<i;f++)w[b[f]]=b[f]in H;b=(w.list&&(w.list=!!g.createElement("datalist")&&!!o.HTMLDataListElement),w);c.input=b}var e={},j=g.documentElement,r=g.createElement("modernizr"),K=r.style,H=g.createElement("input"),s=["","-webkit-","-moz-","-o-","-ms-"],v=["Webkit","Moz","O","ms"],u=["webkit","moz","o","ms"],r={},w={},x=[],y=x.slice,C,I=function(c,b,f,i){var e,m,a,k,t=g.createElement("div"),p=g.body,n=p||g.createElement("body");if(parseInt(f,10))for(;f--;)a=g.createElement("div"),
a.id=i?i[f]:"modernizr"+(f+1),t.appendChild(a);return e=['&#173;<style id="smodernizr">',c,"</style>"].join(""),t.id="modernizr",(p?t:n).innerHTML+=e,n.appendChild(t),p||(n.style.background="",n.style.overflow="hidden",k=j.style.overflow,j.style.overflow="hidden",j.appendChild(n)),m=b(t,c),p?t.parentNode.removeChild(t):(n.parentNode.removeChild(n),j.style.overflow=k),!!m},F={}.hasOwnProperty,D;"undefined"!==typeof F&&"undefined"!==typeof F.call?D=function(c,b){return F.call(c,b)}:D=function(c,b){return b in
c&&"undefined"===typeof c.constructor.prototype[b]};Function.prototype.bind||(Function.prototype.bind=function(c){var b=this;if("function"!=typeof b)throw new TypeError;var f=y.call(arguments,1),g=function(){if(this instanceof g){var e=function(){};e.prototype=b.prototype;var e=new e,m=b.apply(e,f.concat(y.call(arguments)));return Object(m)===m?m:e}return b.apply(c,f.concat(y.call(arguments)))};return g});r.touch=function(){var c;return"ontouchstart"in o||o.DocumentTouch&&g instanceof DocumentTouch?
c=!0:I(["@media (",s.join("touch-enabled),("),"modernizr){#modernizr{top:9px;position:absolute}}"].join(""),function(b){c=9===b.offsetTop}),c};r.geolocation=function(){return"geolocation"in navigator};r.csstransforms=function(){return!!B("transform")};for(var J in r)D(r,J)&&(C=J.toLowerCase(),e[C]=r[J](),x.push((e[C]?"":"no-")+C));e.input||E();e.addTest=function(c,b){if("object"==typeof c)for(var f in c)D(c,f)&&e.addTest(f,c[f]);else{c=c.toLowerCase();if(e[c]!==G)return e;b="function"==typeof b?b():
b;j.className+=" ok-"+(b?"":"no-")+c;e[c]=b}return e};K.cssText="";return r=H=null,function(c,b){function f(){var a=z.elements;return"string"==typeof a?a.split(" "):a}function g(a){var b=q[a[N]];return b||(b={},h++,a[N]=h,q[h]=b),b}function e(a,c,d){c||(c=b);if(l)return c.createElement(a);d||(d=g(c));var k;return d.cache[a]?k=d.cache[a].cloneNode():p.test(a)?k=(d.cache[a]=d.createElem(a)).cloneNode():k=d.createElem(a),k.canHaveChildren&&!t.test(a)?d.frag.appendChild(k):k}function m(a,b){b.cache||
(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag());a.createElement=function(d){return z.shivMethods?e(d,a,b):b.createElem(d)};a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+f().join().replace(/\w+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(z,b.frag)}function a(a){a||(a=b);var c=g(a);if(z.shivCSS&&!n&&!c.hasCSS){var d,k=a;d=k.createElement("p");
k=k.getElementsByTagName("head")[0]||k.documentElement;d=(d.innerHTML="x<style>article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}</style>",k.insertBefore(d.lastChild,k.firstChild));c.hasCSS=!!d}return l||m(a,c),a}var k=c.html5||{},t=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,n,N="_html5shiv",h=0,q={},l;
(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>";n="hidden"in a;var c;if(!(c=1==a.childNodes.length)){b.createElement("a");var d=b.createDocumentFragment();c="undefined"==typeof d.cloneNode||"undefined"==typeof d.createDocumentFragment||"undefined"==typeof d.createElement}l=c}catch(k){l=n=!0}})();var z={elements:k.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",
shivCSS:!1!==k.shivCSS,supportsUnknownElements:l,shivMethods:!1!==k.shivMethods,type:"default",shivDocument:a,createElement:e,createDocumentFragment:function(a,c){a||(a=b);if(l)return a.createDocumentFragment();for(var c=c||g(a),d=c.frag.cloneNode(),k=0,e=f(),q=e.length;k<q;k++)d.createElement(e[k]);return d}};c.html5=z;a(b)}(this,g),e._version="2.6.2",e._prefixes=s,e._domPrefixes=u,e._cssomPrefixes=v,e.testProp=function(c){return A([c])},e.testAllProps=B,e.testStyles=I,j.className=j.className.replace(/(^|\s)no-js(\s|$)/,
"$1$2")+(" ok-js ok-"+x.join(" ok-")),e}(this,this.document);
(function(o,g,G){function A(a){return"[object Function]"==w.call(a)}function B(a){return"string"==typeof a}function E(){}function e(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function j(){var a=x.shift();y=1;a?a.t?v(function(){("c"==a.t?m.injectCss:m.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),j()):y=0}function r(a,b,c,p,n,i,h){function q(c){if(!z&&e(l.readyState)&&(O.r=z=1,!y&&j(),l.onload=l.onreadystatechange=null,c)){"img"!=a&&v(function(){F.removeChild(l)},50);for(var g in f[b])f[b].hasOwnProperty(g)&&
f[b][g].onload()}}var h=h||m.errorTimeout,l=g.createElement(a),z=0,L=0,O={t:c,s:b,e:n,a:i,x:h};1===f[b]&&(L=1,f[b]=[]);"object"==a?l.data=b:(l.src=b,l.type=a);l.width=l.height="0";l.onerror=l.onload=l.onreadystatechange=function(){q.call(this,L)};x.splice(p,0,O);"img"!=a&&(L||2===f[b]?(F.insertBefore(l,I?null:u),v(q,h)):f[b].push(l))}function K(a,b,c,g,e){return y=0,b=b||"j",B(a)?r("c"==b?J:D,a,b,this.i++,c,g,e):(x.splice(this.i++,0,a),1==x.length&&j()),this}function H(){var a=m;return a.loader={load:K,
i:0},a}var s=g.documentElement,v=o.setTimeout,u=g.getElementsByTagName("script")[0],w={}.toString,x=[],y=0,C="MozAppearance"in s.style,I=C&&!!g.createRange().compareNode,F=I?s:u.parentNode,s=o.opera&&"[object Opera]"==w.call(o.opera),s=!!g.attachEvent&&!s,D=C?"object":s?"script":"img",J=s?"script":D,c=Array.isArray||function(a){return"[object Array]"==w.call(a)},b=[],f={},i={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},M,m;m=function(a){function g(a){var a=a.split("!"),c=b.length,e=
a.pop(),k=a.length,e={url:e,origUrl:e,prefixes:a},f,d,h;for(d=0;d<k;d++)h=a[d].split("="),(f=i[h.shift()])&&(e=f(e,h));for(d=0;d<c;d++)e=b[d](e);return e}function e(a,b,c,h,j){var d=g(a),i=d.autoCallback;d.url.split(".").pop().split("?").shift();d.bypass||(b&&(b=A(b)?b:b[a]||b[h]||b[a.split("/").pop().split("?")[0]]),d.instead?d.instead(a,b,c,h,j):(f[d.url]?d.noexec=!0:f[d.url]=1,c.load(d.url,d.forceCSS||!d.forceJS&&"css"==d.url.split(".").pop().split("?").shift()?"c":G,d.noexec,d.attrs,d.timeout),
(A(b)||A(i))&&c.load(function(){H();b&&b(d.origUrl,j,h);i&&i(d.origUrl,j,h);f[d.url]=2})))}function p(a,b){function c(a,f){if(a)if(B(a))f||(d=function(){var a=[].slice.call(arguments);k.apply(this,a);h()}),e(a,d,b,0,g);else{if(Object(a)===a)for(i in j=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(i)&&(!f&&!--j&&(A(d)?d=function(){var a=[].slice.call(arguments);k.apply(this,a);h()}:d[i]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,
b);h()}}(k[i])),e(a[i],d,b,i,g))}else!f&&h()}var g=!!a.test,f=a.load||a.both,d=a.callback||E,k=d,h=a.complete||E,j,i;c(g?a.yep:a.nope,!!f);f&&c(f)}var n,j,h=this.yepnope.loader;if(B(a))e(a,0,h,0);else if(c(a))for(n=0;n<a.length;n++)j=a[n],B(j)?e(j,0,h,0):c(j)?m(j):Object(j)===j&&p(j,h);else Object(a)===a&&p(a,h)};m.addPrefix=function(a,b){i[a]=b};m.addFilter=function(a){b.push(a)};m.errorTimeout=1E4;null==g.readyState&&g.addEventListener&&(g.readyState="loading",g.addEventListener("DOMContentLoaded",
M=function(){g.removeEventListener("DOMContentLoaded",M,0);g.readyState="complete"},0));o.yepnope=H();o.yepnope.executeStack=j;o.yepnope.injectJs=function(a,b,c,f,i,o){var h=g.createElement("script"),q,l,f=f||m.errorTimeout;h.src=a;for(l in c)h.setAttribute(l,c[l]);b=o?j:b||E;h.onreadystatechange=h.onload=function(){!q&&e(h.readyState)&&(q=1,b(),h.onload=h.onreadystatechange=null)};v(function(){q||(q=1,b(1))},f);i?h.onload():u.parentNode.insertBefore(h,u)};o.yepnope.injectCss=function(a,b,c,e,f,i){var e=
g.createElement("link"),h,b=i?j:b||E;e.href=a;e.rel="stylesheet";e.type="text/css";for(h in c)e.setAttribute(h,c[h]);f||(u.parentNode.insertBefore(e,u),v(b,0))}})(this,document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};window.Logger=window.Logger||{};
(function(a,e){function g(a,c){c?("string"===typeof a&&(a+="["+a+"] "),a=c.message?a+c.message:a+c):a=""+a;return a}var f={a:0,i:10,d:20,w:30,e:40,f:50,"0":100},j,h,k,i;a.version=3;a.enabled=!0;a.ALL="a";a.INFO="i";a.DEBUG="d";a.WARNING="w";a.ERROR="e";a.FATAL="f";a.NONE="0";a.setLoggingLevel=function(b){var c=j;j=b==a.ALL||b==a.INFO||b==a.DEBUG||b==a.WARNING||b==a.ERROR||b==a.FATAL?b:a.NONE;h=f[j];return c};a.setServerLoggingLevel=function(b){var c=k;k=b==a.ALL||b==a.INFO||b==a.DEBUG||b==a.WARNING||
b==a.ERROR||b==a.FATAL?b:a.NONE;i=f[k];return c};a.info=function(b,c){try{var d;a.enabled&&h<=f[a.INFO]&&(d=g(b,c),"object"===typeof console&&"function"===typeof console.info&&console.info(d));a.enabled&&i<=f[a.INFO]&&(d=d||g(b,c),a.logToServer(d,LOGGER.INFO))}catch(e){}};a.debug=function(b,c){try{var d;a.enabled&&h<=f[a.DEBUG]&&(d=g(b,c),"object"===typeof console&&"function"===typeof console.info&&console.info(d));a.enabled&&i<=f[a.DEBUG]&&(d=d||g(b,c),a.logToServer(d,a.DEBUG))}catch(e){}};a.warn=
function(b,c){try{var d;a.enabled&&h<=f[a.WARNING]&&(d=g(b,c),"object"===typeof console&&"function"===typeof console.warn&&console.warn(d));a.enabled&&i<=f[a.WARNING]&&(d=d||g(b,c),a.logToServer(d,LOGGER.WARNING))}catch(e){}};a.error=function(b,c){try{var d;a.enabled&&h<=f[a.ERROR]&&(d=g(b,c),"object"===typeof console&&"function"===typeof console.error&&console.error(d));a.enabled&&i<=f[a.ERROR]&&(d=d||g(b,c),a.logToServer(d,LOGGER.ERROR))}catch(e){}};a.fatal=function(b,c){try{var d;a.enabled&&h<=
f[a.FATAL]&&(d=g(b,c),"object"===typeof console&&"function"===typeof console.error&&console.error("FATAL: ",d));a.enabled&&i<=f[a.FATAL]&&(d=d||g(b,c),a.logToServer(d,LOGGER.FATAL))}catch(e){}};a.inspect=function(b,c){try{if(a.enabled&&h<=f[a.DEBUG])if(c&&a.debug("Inspect: "+c),navigator.userAgent.match(/iPhone/i)||-1<navigator.userAgent.toLowerCase().indexOf("android"))if(JSON&&JSON.stringify){var d=JSON.stringify(b);a.info(d)}else a.info("JSON && JSON.stringify missing"),console.log(b);else"object"===
typeof console&&"function"===typeof console.dir&&console.dir(b);a.enabled&&h<=f[a.DEBUG]&&(c&&a.logToServer("Inspect: "+c,a.DEBUG),JSON&&JSON.stringify&&(d=JSON.stringify(b),a.logToServer(d,a.DEBUG)))}catch(e){}};a.logToServer=function(b,c,d){b&&(c||(c=a.INFO),jQuery.ajax({url:"/util/ajax/lgr.htm",type:"POST",dataType:"json",data:{m:"[JS-LOG] "+b,l:c},async:!d}))};a.trace=function(b){try{a.enabled&&(b&&a.info("Trace: "+b),"object"===typeof console&&"function"===typeof console.trace&&console.trace())}catch(c){}};
a.timer=function(b){try{a.enabled&&"object"===typeof console&&"function"===typeof console.time&&console.time(b)}catch(c){}};a.timerEnd=function(b){try{a.enabled&&"object"===typeof console&&"function"===typeof console.timeEnd&&console.timeEnd(b)}catch(c){}};a.profile=function(b){try{a.enabled&&"object"===typeof console&&"function"===typeof console.profile&&console.profile(b)}catch(c){}};a.profileEnd=function(){try{a.enabled&&"object"===typeof console&&"function"===typeof console.profileEnd&&console.profileEnd()}catch(b){}};
a.windowError=function(b,c,d){a.fatal("Error on line "+d+" of document "+c+": "+b);return!0};e=e||{};e.clientLevel=e.clientLevel||"ALL";e.serverLevel=e.serverLevel||"ERROR";a.setLoggingLevel(a[e.clientLevel]);a.setServerLoggingLevel(a[e.serverLevel]);a.enabled&&(window.onerror=a.windowError)})(window.Logger,{clientLevel:"ALL",serverLevel:"ERROR"});Logger.setLoggingLevel(Logger.NONE);Logger.setServerLoggingLevel(Logger.NONE);