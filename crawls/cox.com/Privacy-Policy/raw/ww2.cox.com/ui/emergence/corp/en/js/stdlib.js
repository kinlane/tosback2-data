dojo.provide("stdlib.behavior.AutoSuggest.SuggestNavigationBehavior");dojo.require("mojo.command.Behavior");dojo.declare("stdlib.behavior.AutoSuggest.SuggestNavigationBehavior",mojo.command.Behavior,{suggestionIndex:-1,suggestion:null,execute:function(j){var f=j.getEvent();var c=38;var h=40;var g=9;var b=j.getParams().suggestions;var a=b.length;if(b[0]&&b[0].innerHTML.indexOf("!{suggestion}")!=-1){a=0}this.suggestionIndex=-1;for(var d=0;d<a;d++){if(dojo.hasClass(b[d],"selected")){this.suggestionIndex=d;break}}if(f&&f.which){f=f;characterCode=f.which}else{f=event;characterCode=f.keyCode}if(a>0){switch(characterCode){case c:this.suggestionIndex--;if(this.suggestionIndex<0){this.suggestionIndex=a-1}this.suggestion=b[this.suggestionIndex];this.onNav();break;case h:this.suggestionIndex++;if(this.suggestionIndex>=a){this.suggestionIndex=0}this.suggestion=b[this.suggestionIndex];this.onNav();break}}},onNav:function(){}});dojo.provide("stdlib.behavior.CheckBoxSelectionBehavior");dojo.require("mojo.command.Behavior");dojo.declare("stdlib.behavior.CheckBoxSelectionBehavior",mojo.command.Behavior,{execute:function(e){var d=e.getParams(),c=d.element;if(!dojo.isArray(d.element)){c=[d.element]}for(var b=0,a=c.length;b<a;b++){if(d.checked){c[b].checked=true}else{c[b].checked=false}}}});dojo.provide("stdlib.behavior.ClearFormBehavior");dojo.require("mojo.command.Behavior");dojo.declare("stdlib.behavior.ClearFormBehavior",mojo.command.Behavior,{execute:function(a){var b=a.getParams();var j=a.contextObj;var k=false;var c=false;var e=false;if(!b){b={}}if(b.noload!=null){k=b.noload}if(b.formSet!=null){j=b.formSet}if(b.clearHidden!=null){c=b.clearHidden}if(b.clearImages!=null){e=b.clearImages}if(!k){var f=mojo.query("input",j);for(var d=0;d<f.length;d++){switch(f[d].type){case"hidden":if(c){f[d].value=""}break;case"image":if(e){f[d].value=""}break;case"checkbox":if(f[d].checked){f[d].checked=false}break;case"radio":if(f[d].checked){f[d].checked=false}break;case"button":break;case"submit":break;default:f[d].value=""}}var h=mojo.query("textarea",j);for(var d=0;d<h.length;d++){h[d].value=""}var g=mojo.query("select",j);for(var d=0;d<g.length;d++){g[d].selectedIndex=0}}}});dojo.provide("stdlib.behavior.DisableBoxBehavior");dojo.require("mojo.command.Behavior");dojo.declare("stdlib.behavior.DisableBoxBehavior",mojo.command.Behavior,{_box:null,execute:function(d){var c=d.getParams();if(!this._box){this._box=mojo.queryFirst("#disablebox");if(!this._box){this._box=document.createElement("div");this._box.id="disablebox";document.body.appendChild(this._box);this._box.style.position="absolute"}}this._box.innerHTML="";if(d.getParams().show){var a=document.createElement("div");a.className=c.throbberClass||"throbber";if(d.getParams().target){var b=dojo.position(d.getParams().target,true);this._box.style.top=b.y+"px";this._box.style.left=b.x+"px";this._box.style.width=b.w+"px";this._box.style.height=b.h+"px";a.style.left=((b.w/2)-16)+"px";a.style.top=((b.h/2)-16)+"px";this._box.appendChild(a)}else{var b={h:0,w:0};this._box.style.top="0px";this._box.style.left="0px";this._box.style.width="100%";this._box.style.height=(document.all)?document.body.offsetHeight+"px":"100%";a.style.left=((b.w/2)-16)+"px";a.style.top=((b.h/2)-16)+"px";this._box.appendChild(a)}this._box.style.zIndex="9999";this._box.style.display="block"}else{this._box.style.display="none"}}});dojo.provide("stdlib.behavior.DragBehavior");dojo.require("mojo.command.Behavior");dojo.declare("stdlib.behavior.DragBehavior",mojo.command.Behavior,{selectedIndex:0,execute:function(a){var g=a.getParams();var p=a.eventObj,f=g.element,h=dojo.position(f),q=g.draggable,c=g.container,m=dojo.position(c),d=g.orientation,k=g.tickSize,n,j,b,l;if(d=="vertical"){n="y";j="h";b="top";if(typeof g.position!="undefined"&&!isNaN(parseInt(g.position))){l=g.position+m[n]}else{l=p.clientY}}else{n="x";j="w";b="left";if(typeof g.position!="undefined"&&!isNaN(parseInt(g.position))){l=g.position+m[n]}else{l=p.clientX}}var o=m[n]+m[j]-h[j];if(l>=o){f.style[b]=(m[j]-h[j]-3)+"px"}else{if(l<=m[n]+1){f.style[b]=0+"px"}else{if(k){var e=(l-m[n]);this.selectedIndex=Math.round(e/k);f.style[b]=this.selectedIndex*k+"px"}else{f.style[b]=(l-m[n])+"px"}}}}});dojo.provide("stdlib.behavior.EnterKeyBehavior");dojo.require("mojo.command.Behavior");dojo.declare("stdlib.behavior.EnterKeyBehavior",mojo.command.Behavior,{execute:function(c){var b=c.eventObj;var a;if(b&&b.which){b=b;a=b.which}else{b=event;a=b.keyCode}if(a==13){this.onResponse();return false}else{return true}},onResponse:function(){}});dojo.provide("stdlib.behavior.FilterDropdownBehavior");dojo.require("mojo.command.Behavior");dojo.declare("stdlib.behavior.FilterDropdownBehavior",mojo.command.Behavior,{_optionsStorage:{},execute:function(h){var e=h.getParams();var g=e.selectObj;var f=e.filterClass;var b=e.minoption;if(e.minoption=="undefined"){b=0}else{b=-1}if(!g){return}var d=(g.name||g.id);if(typeof(this._optionsStorage[d])=="undefined"){this._optionsStorage[d]=[];for(var a=0;a<g.options.length;a++){this._optionsStorage[d][a]=g.options[a]}}for(var a=g.options.length-1;a>b;a--){g.removeChild(g.options[a])}for(var a=0;a<this._optionsStorage[d].length;a++){var c=this._optionsStorage[d][a];if(c.className.indexOf(f)>=0){g.appendChild(c)}}if(g.options.length>0&&f.length>0){g.selectedIndex=0}}});dojo.provide("stdlib.behavior.InsertHtmlBehavior");dojo.require("mojo.command.Behavior");dojo.declare("stdlib.behavior.InsertHtmlBehavior",mojo.command.Behavior,{execute:function(g){var d=g.getParams().element;var f=g.getParams().action;var b=g.getParams().insertHtml;if(d&&f){if(!dojo.isArray(d)){d=[d]}elmsLength=d.length;for(var c=0;c<elmsLength;c++){elm=d[c];isIE=elm.insertAdjacentHTML;var e=b;if(!isIE&&typeof b=="string"){if(b.length==0){f="empty"}else{var a=elm.ownerDocument.createRange();a.setStartBefore(elm);e=a.createContextualFragment(b)}}if(f.length>0){switch(f){case"empty":elm.innerHTML="";break;case"before":if(isIE){elm.insertAdjacentHTML("beforeBegin",b)}else{elm.parentNode.insertBefore(e,elm)}break;case"after":if(isIE){elm.insertAdjacentHTML("afterEnd",b)}else{if(elm.nextSibling){elm.parentNode.insertBefore(e,elm.nextSibling)}else{elm.parentNode.appendChild(e)}}break;case"prepend":if(isIE){elm.insertAdjacentHTML("afterBegin",b)}else{elm.insertBefore(e,elm.firstChild)}break;case"append":if(isIE){elm.insertAdjacentHTML("beforeEnd",b)}else{elm.appendChild(e)}break;case"replace":if(isIE){elm.innerHTML=b}else{elm.innerHTML="";elm.appendChild(e)}break}}}}}});dojo.provide("stdlib.behavior.InvokeFlashInterfaceBehavior");dojo.require("mojo.command.Behavior");dojo.declare("stdlib.behavior.InvokeFlashInterfaceBehavior",mojo.command.Behavior,{execute:function(g){var f=g.getParams();if(f.playerName){var c=f.playerName;var e=f.playerMethod;var b=f.playerArguments;var a=document[c];if(a){try{a[e](b)}catch(d){}}}}});dojo.provide("stdlib.behavior.MessagingBehavior");dojo.require("mojo.command.Behavior");dojo.declare("stdlib.behavior.MessagingBehavior",mojo.command.Behavior,{execute:function(a){mojo.Messaging.publish(a.paramsObj.topic,a.paramsObj.message)}});dojo.provide("stdlib.behavior.PopulateDateBehavior");dojo.require("mojo.command.Behavior");dojo.declare("stdlib.behavior.PopulateDateBehavior",mojo.command.Behavior,{months:["January","February","March","April","May","June","July","August","September","October","November","December"],execute:function(a){var c=a.getParams(),b=c.month,j=c.year,m=1920,f=c.year+50;var k=mojo.queryFirst("select.date-year",c.target);var l=mojo.queryFirst("select.date-month",c.target);k.innerHTML="";l.innerHTML="";for(var d=m;d<f;d++){var e=new Option(d.toString(),d);if(d==j){e.selected=true}k.options.add(e)}for(var d=0,h=this.months.length;d<h;d++){var n=this.months[d];var g=(d<=8)?"0"+(d+1):d+1;var e=new Option(n,g);if(d==b){e.selected=true}l.options.add(e)}}});dojo.provide("stdlib.behavior.PopulateDaysBehavior");dojo.require("mojo.command.Behavior");dojo.declare("stdlib.behavior.PopulateDaysBehavior",mojo.command.Behavior,{daysInMonth:function(b,a){return(new Date(a,b,0)).getDate()},execute:function(g){var f=g.getParams();if(!f.day){f.day=(new Date()).getDate()}var d=f.target;d.innerHTML="";var a=this.daysInMonth(f.month,f.year);for(var b=1;b<=a;b++){var e=(b<=9)?"0"+(b):b;var c=new Option(b,e);if(b==f.day){c.selected=true}d.options.add(c)}}});dojo.provide("stdlib.behavior.PreventDefaultEventBehavior");dojo.require("mojo.command.Command");dojo.declare("stdlib.behavior.PreventDefaultEventBehavior",mojo.command.Command,{execute:function(b){try{var a=b.eventObj;dojo.stopEvent(a)}catch(a){}}});dojo.provide("stdlib.behavior.RedirectBehavior");dojo.require("mojo.command.Behavior");dojo.declare("stdlib.behavior.RedirectBehavior",mojo.command.Behavior,{execute:function(e){var d=e.getParams();var c=25;if(d){var b=d.url;var a=d.removeHash||false;var c=d.delay||25}if(!b){if(a){window.location=window.location.href.replace(/#.*/,"");setTimeout("window.location.reload()",750)}else{window.location.reload()}}else{setTimeout(function(){window.location.href=b},c)}}});dojo.provide("stdlib.behavior.RefreshBehavior");dojo.require("mojo.command.Behavior");dojo.declare("stdlib.behavior.RefreshBehavior",mojo.command.Behavior,{execute:function(a){if(a.getParams()){if(a.getParams().removeHash){window.location=window.location.href.replace(/#.*/,"");setTimeout("window.location.reload()",750)}}else{window.location.reload()}}});dojo.provide("stdlib.behavior.RemoveElementsBehavior");dojo.declare("stdlib.behavior.RemoveElementsBehavior",mojo.command.Behavior,{execute:function(g){var a;var c;var e;var f;var d=g.paramsObj;if(d){if(d.className!=null){a=d.className}if(d.targetId!=null){c=d.targetId}if(d.target!=null){e=d.target}}if((a!=null)&&(c!=null||e!=null)){if(c&&!e){if(c.indexOf("#")!=0){c="#"+c}e=mojo.queryFirst(c)}f=mojo.query(a,e);if(f){if(f.length>0){for(var b=0;b<f.length;b++){if((f[b])&&(f[b].parentNode)){f[b].parentNode.removeChild(f[b])}}}else{if((f)&&(f.parentNode)){f.parentNode.removeChild(f)}}}}}});dojo.provide("stdlib.behavior.SetHistoryBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.History");dojo.declare("stdlib.behavior.SetHistoryBehavior",mojo.command.Behavior,{execute:function(e){if(e.getParams()){var a;var b=mojo.History.getInstance();var d=e.getParams();if(d){if(typeof d.clearHash!="undefined"){if(d.clearHash){window.location.hash="#"}}else{var c=b._parseObj(d);mojo.History.getInstance().setHash(c)}}}}});dojo.provide("stdlib.behavior.SubmitFormBehavior");dojo.require("mojo.command.Behavior");dojo.declare("stdlib.behavior.SubmitFormBehavior",mojo.command.Behavior,{execute:function(b){var a=b.getParams();if(a&&a.form){if(a.form.tagName.toLowerCase()!="form"){a.form=mojo.queryFirst("form",a.form)}a.form.submit()}}});dojo.provide("stdlib.behavior.SwfObjectBehavior");dojo.require("mojo.command.Behavior");dojo.declare("stdlib.behavior.SwfObjectBehavior",mojo.command.Behavior,{execute:function(c){var b=c.getParams();if(!deconcept.SWFObject){throw new Error("ERROR stdlib.behavior.SwfObjectBehavior.execute - SWFObject library cannot be found")}if(!b.elementId){throw new Error("ERROR stdlib.behavior.SwfObjectBehavior.execute - elementId is not set")}if(!b.src){throw new Error("ERROR stdlib.behavior.SwfObjectBehavior.execute - src is not set")}if(!b.containerId){throw new Error("ERROR stdlib.behavior.SwfObjectBehavior.execute - containerId is not set")}if(!b.width||!b.height){throw new Error("ERROR stdlib.behavior.SwfObjectBehavior.execute - width and/or height is not set")}if(!b.contentName){b.contentName="flash_module"}if(!b.version){b.version=9}if(!b.defaultBackground){b.defaultBackground="#fff"}if(!b.wmode){b.wmode="window"}var a=new SWFObject(b.src,b.contentName,b.width,b.height,b.version,b.defaultBackground);if(b.expressInstallSrc){a.useExpressInstall(b.expressInstallSrc)}a.addParam("base",b.basePath);a.addParam("wmode",b.wmode);a.addParam("allowFullScreen",b.allowFullScreen);a.addParam("allowScriptAccess",b.allowScriptAccess);a.addParam("flashvars",b.flashvars);a.write(b.elementId)}});dojo.provide("stdlib.behavior.TweenBehavior");dojo.require("mojo.command.Behavior");dojo.declare("stdlib.behavior.TweenBehavior",mojo.command.Behavior,{onComplete:function(){},onStart:function(){},_effect:null,execute:function(h){var c={};var f;if(h.getParams().width!=null){c.width=h.getParams().width}if(h.getParams().height!=null){c.height=h.getParams().height}if(dojo.isIE<7&&c.height==0){c.height=1}if(h.getParams().x!=null){c.left=h.getParams().x}if(h.getParams().y!=null){c.top=h.getParams().y}if(h.getParams().duration!=null){f=h.getParams().duration}else{f=600}var e=h.getParams().element;if(!dojo.isArray(e)){e=[e]}var a=e.length;var g=this;for(var b=0;b<a;b++){if(e[b]){if(e[b].style.height=="auto"&&c.height!=null){e[b].style.height=dojo.position(e[b]).h+"px"}var d=new Fx.Styles(e[b],{duration:f,transition:Fx.Transitions.Expo.easeInOut,onStart:function(){g.onStart();if(dojo.isIE<7&&this.from.height=="1"){this.element.style.display="block"}},onComplete:function(){if(dojo.isIE<7&&this.to.height=="1"){this.element.style.display="none"}if((this.from.height=="0")||(this.from.height=="1")){this.element.style.height="auto"}if(this.element.style.height=="auto"&&this.to.height>0&&dojo.position(this.element).h==0){this.element.style.height=this.to.height+"px"}g.onComplete()}});this._effect=d;d.start(c)}}}});dojo.provide("stdlib.behavior.UpdateCssClassBehavior");dojo.require("mojo.command.Behavior");dojo.declare("stdlib.behavior.UpdateCssClassBehavior",mojo.command.Behavior,{execute:function(h){if(!h.paramsObj){return}var e;var f=h.paramsObj.element;var g=h.paramsObj.action;var b=h.paramsObj.cssClass;if(!f){return}else{if(typeof f=="object"){if(dojo.isArray(f)&&f.length>0){for(var d=0;d<f.length;d++){if(typeof f[d]!="object"){throw new Error("ERROR stdlib.behavior.UpdateCssClassBehavior - element parameter is not an array of type Object");break}}}}else{throw new Error("ERROR stdlib.behavior.UpdateCssClassBehavior - element parameter is not a type Object")}}if(g==null||typeof g=="undefined"){throw new Error("ERROR stdlib.behavior.UpdateCssClassBehavior - action parameter is required")}else{if(typeof g!="string"){throw new Error("ERROR stdlib.behavior.UpdateCssClassBehavior - action parameter is not a type String")}else{if((g!="add")&&(g!="remove")&&(g!="set")&&(g!="toggle")){throw new Error("ERROR stdlib.behavior.UpdateCssClassBehavior - action parameter is invalid")}}}if(b==null||typeof b=="undefined"){throw new Error("ERROR stdlib.behavior.UpdateCssClassBehavior - CssClass parameter is required")}else{if(typeof b=="object"){if(b.length>0){for(var d=0;d<b.length;d++){if(typeof b[d]!="string"){throw new Error("ERROR stdlib.behavior.UpdateCssClassBehavior - CssClass parameter is not an array of type String");break}}}}else{if(typeof b!="string"){throw new Error("ERROR stdlib.behavior.UpdateCssClassBehavior - CssClass parameter is not a type String")}}}if(f){var a=function(j){if(!j.constructor||j.constructor.toString().toLowerCase().indexOf("array")==-1){return false}return true};if(!a(f)){f=[f]}if(!a(b)){b=[b]}cssLength=b.length;e=f.length;for(var d=0;d<e;d++){elm=f[d];for(var c=0;c<cssLength;c++){css=b[c];if(g.length>0){switch(g){case"add":dojo.addClass(elm,css);break;case"remove":dojo.removeClass(elm,css);break;case"set":elm.className="";dojo.addClass(elm,css);break;case"toggle":dojo.toggleClass(elm,css);break}}}}}},onResponse:function(){}});dojo.provide("stdlib.behavior.UpdateFormFieldBehavior");dojo.require("mojo.command.Behavior");dojo.declare("stdlib.behavior.UpdateFormFieldBehavior",mojo.command.Behavior,{execute:function(v){var f;var c=new Array();var b=new Array();var n=["INPUT","SELECT","TEXTAREA"];var u=v.getParams();if(!u){u={}}var l=u.fields;if(u.formId!=null){f=mojo.queryFirst("#"+u.formId)}if(u.formObj!=null){f=u.formObj}if(f){for(var s=0,q=n.length;s<q;s++){var d=mojo.query(n[s],f);for(var r=0,t=d.length;r<t;r++){c.push(d[r])}}for(var s=0,q=l.length;s<q;s++){var e=l[s].name;var w=l[s].value;for(var r=0,t=c.length;r<t;r++){var m=false;if(c[r].tagName.toUpperCase()=="SELECT"){if(c[r].name==e){for(var p=0,a=c[r].options.length;p<a;p++){var h=c[r].options[p];if(h.value==w){c[r].selectedIndex=p}}}}else{if(c[r].tagName.toUpperCase()=="TEXTAREA"){if(c[r].name==e){if(c[r].value==w){m=true}if(c[r].innerHTML==w){m=true}c[r].value=w;c[r].innerHTML=w}}else{if(c[r].tagName.toUpperCase()=="INPUT"){if(c[r].name==e){if((c[r].type=="radio")||(c[r].type=="checkbox")){if(c[r].value==w){c[r].checked="checked"}else{c[r].checked=""}}else{if((c[r].type=="text")||(c[r].type=="password")||(c[r].type=="hidden")){if(c[r].value!=w){m=true}c[r].value=w}}}}}}if(m){if(c[r].fireEvent){c[r].fireEvent("onchange")}if(document.createEvent){var g=document.createEvent("HTMLEvents");if(g.initEvent){g.initEvent("change",true,true)}if(c[r].dispatchEvent){c[r].dispatchEvent(g)}}}}}}}});dojo.provide("stdlib.behavior.dialog.DialogBehavior");dojo.require("mojo.command.Behavior");dojo.declare("stdlib.behavior.dialog.DialogBehavior",mojo.command.Behavior,{onComplete:function(){},onDataReady:function(){},_onDataReady:function(e){this.onDataReady();var c=mojo.queryFirst(e.elContent);var b=mojo.queryFirst(e.elContainer);var d=mojo.queryFirst(e.elTitle);var a=mojo.query("embed, object");d.innerHTML=e.title;if(dojo.isFF&&(navigator.appVersion.indexOf("Mac")!=-1)){this.hideFlash(a)}b.style.visibility="";this.onComplete()},execute:function(a){var f=a.getParams();if(!f.elContainer){f.elContainer=".dialog-component"}if(!f.elContent){f.elContent=".dialog-component-content"}if(!f.elTitle){f.elTitle=".dialog-component-title"}var k=mojo.query("embed, object");var d=mojo.queryFirst("#underlay");if(!d){d=document.createElement("div");d.id="underlay";if(dojo.isIE==6){var h=document.createElement("iframe");d.appendChild(h)}document.body.appendChild(d);d.style.display="block"}var b=mojo.queryFirst(f.elContainer);if(!b){throw new Error("stdlib.behavior.dialog.DialogBehavior - Unable to find the Dialog template");return}var l=mojo.queryFirst(f.elContent);var n=mojo.queryFirst(f.elTitle);var c=this;if(f.enabled&&f.width&&f.height){b.style.width=f.width+"px";b.style.height=(f.height==-1)?"auto":f.height+"px";b.style.display="block";d.style.display="block";b.style.visibility="hidden";if(f.href){dojo.xhrGet({url:f.href,load:function(t){l.innerHTML=t;if(f.substitutionMap){for(var r in f.substitutionMap){var s=dojo.query(r,l);for(i=0;i<s.length;i++){s[i].innerHTML=f.substitutionMap[r]}}}c._onDataReady(f)}})}else{if(f.xhrPost){var e=(typeof(f.xhrTimeout)!="undefined")?f.xhrTimeout:"20000";dojo.xhrPost({url:f.xhrPost,form:f.form,timeout:e,load:function(r){l.innerHTML=r;c._onDataReady(f)},error:function(){l.innerHTML="<div class='msgError'><p>We're unable to load this content.</p></div>";c._onDataReady(f)}})}else{if(f.id){var g=mojo.queryFirst(f.id);l.innerHTML=g.innerHTML;c._onDataReady(f)}else{if(f.element){l.style.height=(f.height==-1)?"auto":(f.height-52)+"px";f.element.origParent=f.element.parentNode;var q=dojo.position(f.element.parentNode);f.element.origParent.style.height=q.h+"px";var m=document.createElement("div");m.className="hide";m.id="dialog-return-breadcrumb";f.element.parentNode.insertBefore(m,f.element);l.appendChild(f.element);if(f.substitutionMap){for(var p in f.substitutionMap){var j=dojo.query(p,l);for(i=0;i<j.length;i++){j[i].innerHTML=f.substitutionMap[p]}}}c._onDataReady(f)}else{if(f.scriptText){l.innerHTML=f.text;c._onDataReady(f)}else{l.innerHTML="<div class='msgError'><p>We're unable to load this content.</p></div>";c._onDataReady(f);throw new Error("stdlib.behavior.dialog.DialogBehavior - Unable to find the Dialog content")}}}}}if(dojo.isIE){mojo.queryFirst("html").style.overflowX="hidden"}else{document.body.style.overflowX="hidden"}}else{if(l.firstChild&&l.firstChild.origParent){var o=l.firstChild.origParent;o.replaceChild(l.firstChild,document.getElementById("dialog-return-breadcrumb"));o.style.height="";o.style.width=""}if(dojo.isFF&&(navigator.appVersion.indexOf("Mac")!=-1)){this.showFlash(k)}l.innerHTML="";l.style.height="";d.style.display="none";b.style.display="none";if(dojo.isIE){mojo.queryFirst("html").style.overflowX="auto"}else{document.body.style.overflowX="auto"}}},hideFlash:function(c){for(var b=0,a=c.length;b<a;b++){c[b].style.display="none"}},showFlash:function(c){for(var b=0,a=c.length;b<a;b++){c[b].style.display="block"}}});dojo.provide("stdlib.behavior.dialog.EscapeKeyBehavior");dojo.require("mojo.command.Behavior");dojo.declare("stdlib.behavior.dialog.EscapeKeyBehavior",mojo.command.Behavior,{execute:function(c){var b=c.eventObj;var a;if(b&&b.which){b=b;a=b.which}else{b=event;a=b.keyCode}if(a==27){this.onResponse();return false}else{return true}},onResponse:function(){}});dojo.provide("stdlib.behavior.dialog.PositionBehavior");dojo.require("mojo.command.Behavior");dojo.declare("stdlib.behavior.dialog.PositionBehavior",mojo.command.Behavior,{execute:function(a){var f=a.getParams();var c=mojo.queryFirst("#underlay");var b=mojo.queryFirst(".dialog-component");var j=mojo.queryFirst(".dialog-component .dialog-component-content");if(!b||!c||!j){return}var d={};var m=0;if(typeof window.innerWidth!="undefined"){d.w=window.innerWidth;d.h=window.innerHeight;m=window.pageYOffset+window.innerHeight}else{if(typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth!=0){d.w=document.documentElement.clientWidth,d.h=document.documentElement.clientHeight;m=document.documentElement.scrollTop+document.documentElement.clientHeight}else{d.w=document.body.clientWidth;d.h=document.body.clientHeight;m=document.body.scrollTop+document.body.clientHeight}}c.style.width=d.w+"px";c.style.height=(dojo.position(mojo.queryFirst("body"),true)).h+"px";var k=dojo.position(b,true);var l=dojo.position(j,true);var e=Math.round(m-(d.h/2)-(k.h/2));var g=Math.round((d.w/2)-(k.w/2));b.style.top=e+"px";b.style.left=g+"px";var h;if(h=mojo.queryFirst("iframe",c)){h.style.top=b.style.top;h.style.left=b.style.left;h.style.width=k.w+"px";h.style.height=k.h+"px"}}});dojo.provide("stdlib.command.AutoSuggest.GetSuggestionsCommand");dojo.require("mojo.command.Command");dojo.require("mojo.Model");dojo.declare("stdlib.command.AutoSuggest.GetSuggestionsCommand",mojo.command.Command,{inputValue:null,_clearTimeout:null,_lastValue:null,execute:function(requestObj){if(requestObj.getParams().inputValue){this.inputValue=requestObj.getParams().inputValue.replace(/\s*$/g,"");clearTimeout(this._clearTimeout);if(this.inputValue.length>0){var thisObj=this;dojo.require(requestObj.getParams().serviceLocator);this._clearTimeout=setTimeout(function(){var locator=eval(requestObj.getParams().serviceLocator);locator.getInstance().getService(requestObj.getParams().serviceName).invoke({inputValue:thisObj.inputValue},thisObj)},400)}else{mojo.Model.remove(requestObj.getParams().model)}}},onResponse:function(c){var h=(this.getRequest().getParams().inputValue).length;var b=(this.getRequest().getParams().modelPath)?"."+this.getRequest().getParams().modelPath:"";var g=(this.getRequest().getParams().maxSuggestions);var d=c[this.getRequest().getParams().modelPath];var f=[];for(i=0;i<d.length;i++){if(d[i].suggestion.test("^"+this.inputValue,"i")){var a=d[i].suggestion.substring(0,h);var e=d[i].suggestion.substring(h,d[i].suggestion.length);if(f.length<g){f.push(d[i]);d[i].suggestionFormatted="<strong>"+a+"</strong>"+e}}}if(f.length<1){mojo.Model.remove(this.getRequest().getParams().model,f)}else{mojo.Model.set(this.getRequest().getParams().model,f)}},onError:function(a){}});dojo.provide("stdlib.command.ClearModelCommand");dojo.require("mojo.Model");dojo.declare("stdlib.command.ClearModelCommand",mojo.command.Command,{execute:function(c){var a=c.paramsObj.model;if(a==null||typeof a=="undefined"){throw new Error("ERROR stdlib.command.ClearModelCommand - model parameter is required")}else{if(typeof a=="array"||typeof a=="object"){if(a.length>0){for(var b=0;b<a.length;b++){if(typeof a[b]!="string"){throw new Error("ERROR stdlib.command.ClearModelCommand - model parameter is not an array of type String");break}}}}else{if(typeof a=="string"){if(a==""){throw new Error("ERROR stdlib.command.ClearModelCommand - model parameter must be a non-empty string")}}else{throw new Error("ERROR stdlib.command.ClearModelCommand - model parameter is not a type String")}}}if(a){if(typeof(a)=="string"){a=[a]}if(dojo.isArray(a)){for(b=0;b<a.length;b++){mojo.Model.remove(a[b])}}}}});dojo.provide("stdlib.command.GenericServiceCommand");dojo.require("mojo.command.Command");dojo.declare("stdlib.command.GenericServiceCommand",mojo.command.Command,{_model:null,execute:function(requestObj){var params=requestObj.getParams();if(!params){console.log("stdlib.command.GenericServiceCommand - Warning - No params passed.")}this._model=params.model;dojo.require(params.serviceLocator);(eval(params.serviceLocator)).getInstance().getService(params.serviceName).invoke(params.serviceParams,this)},onResponse:function(a){if(this._model){mojo.Model.set(this._model,a)}},onError:function(a){if(this._model){mojo.Model.set(this._model+".errors",a)}}});dojo.provide("stdlib.command.InsertIntoModelCommand");dojo.require("mojo.command.Command");dojo.require("mojo.Model");dojo.declare("stdlib.command.InsertIntoModelCommand",mojo.command.Command,{execute:function(a){var c;var f;var j;var e;var h=false;var g=a.getParams();if(!g){g={}}if(g.model!=null){c=g.model}if(g.index!=null){f=g.index}if(g.value!=null){j=g.value}if(c==null||typeof c=="undefined"){throw new Error("ERROR stdlib.command.InsertIntoModelCommand - model parameter is required")}else{if(c==""){throw new Error("ERROR stdlib.command.InsertIntoModelCommand - model parameter must be a non-empty string")}if(typeof c!="string"){throw new Error("ERROR stdlib.command.InsertIntoModelCommand - model parameter must be type String")}else{if(!mojo.Model.contains(c)){throw new Error("ERROR stdlib.command.InsertIntoModelCommand - specified model does not exist")}else{e=mojo.Model.get(c).length;if(typeof e!="number"){throw new Error("ERROR stdlib.command.InsertIntoModelCommand - specified model must be type Array")}}}}if(j==null||typeof j=="undefined"){throw new Error("ERROR stdlib.command.InsertIntoModelCommand - value is not set")}if(f!=null){if(typeof f!="number"){throw new Error("ERROR stdlib.command.InsertIntoModelCommand - index parameter must be type Number")}else{}}var b=mojo.Model.get(c);if(b.length!=0){if(typeof f=="undefined"||f<0||f>=b.length){var d=b.length}else{var d=f}}else{var d=0}if(b.length==0){mojo.Model.add(c,j)}else{if(d==b.length-1){mojo.Model.add(c,j)}else{b.splice(d,0,j);mojo.Model.set(c,b)}}},onResponse:function(a){},onError:function(a){}});dojo.provide("stdlib.command.MapControllersCommand");dojo.require("mojo.command.Command");dojo.declare("stdlib.command.MapControllersCommand",mojo.command.Command,{execute:function(b){var a=null;if(b.getParams()){a=b.getParams().contextObj}mojo.controller.Map.mapControllers(a)}});dojo.provide("stdlib.command.PaginationCommand");dojo.require("mojo.command.Command");dojo.declare("stdlib.command.PaginationCommand",mojo.command.Command,{model:"paginationState",execute:function(e){if(e.getParams().model!=null){this.model=e.getParams().model}mojo.Model.remove(this.model);if(typeof e.getParams().pageSize!="undefined"&&typeof e.getParams().total!="undefined"){if(e.getParams().pageSize<=0||e.getParams().total<=0){mojo.Model.set(this.model,{pageIndex:0,pageSize:0,total:0,from:0,to:0,pageNext:-1,pagePrev:-1,pageTotal:0,pages:[]})}else{var c={};c.pageSize=e.getParams().pageSize;c.total=e.getParams().total;c.pageIndex=0;if(e.getParams().pageIndex&&e.getParams().pageIndex>0){c.pageIndex=parseInt(e.getParams().pageIndex)}c.pageTotal=Math.ceil(c.total/c.pageSize);if(c.pageIndex>c.pageTotal){return}c.from=(c.pageSize*c.pageIndex)+1;c.to=c.pageSize*(c.pageIndex+1);if(c.to>c.total){c.to=c.total}c.pageNext=((c.pageIndex+1)>=c.pageTotal)?-1:(c.pageIndex+1);c.pagePrev=(c.pageIndex==0)?-1:(c.pageIndex-1);c.showPages=8;if(e.getParams().showPages&&e.getParams().showPages>0){c.showPages=e.getParams().showPages}var a=Math.ceil(c.showPages/2);var d=0;if((c.pageIndex-a)>0){d=c.pageIndex-a;if(d>0&&(c.pageTotal-c.pageIndex)<a){d=d-(a-(c.pageTotal-c.pageIndex));if(d<=0){d=0}}}c.pages=[];for(var b=d;b<(d+c.showPages);b++){if(b<c.pageTotal){c.pages.push(b+1)}}mojo.Model.set(this.model,c)}}}});dojo.provide("stdlib.command.RemoveFromModelCommand");dojo.require("mojo.command.Command");dojo.require("mojo.Model");dojo.declare("stdlib.command.RemoveFromModelCommand",mojo.command.Command,{execute:function(a){var e;var g;var l;var k;var d=true;var f;var j=false;var c=false;var h=a.getParams();if(!h){h={}}if(h.model!=null){e=h.model}if(h.index!=null){g=h.index}if(h.value!=null){k=h.value}if(h.key!=null){l=h.key}if(h.firstOnly!=null){d=h.firstOnly}if(e==null||typeof e=="undefined"){throw new Error("ERROR stdlib.command.RemoveFromModelCommand - model parameter is required")}else{if(e==""){throw new Error("ERROR stdlib.command.RemoveFromModelCommand - model parameter must be a non-empty string")}else{if(typeof e!="string"){throw new Error("ERROR stdlib.command.RemoveFromModelCommand - model parameter must be type String")}else{if(!mojo.Model.contains(e)){throw new Error("ERROR stdlib.command.RemoveFromModelCommand - specified model does not exist")}else{f=mojo.Model.get(e).length;if(typeof f!="number"){throw new Error("ERROR stdlib.command.RemoveFromModelCommand - specified model must be type Array")}}}}}if(g==null||typeof g=="undefined"){if((l==null||typeof l!="string"||l=="")||(k==null||typeof k=="undefined"||k=="")){if(l==null||typeof l=="undefined"){throw new Error("ERROR stdlib.command.RemoveFromModelCommand - either [index] parameter or [key and value] parameters are required")}else{if(l==""){throw new Error("ERROR stdlib.command.RemoveFromModelCommand - key parameter must be a non-empty string")}else{if(typeof l!="string"){throw new Error("ERROR stdlib.command.RemoveFromModelCommand - key parameter must be type String")}else{if(k==null||typeof k=="undefined"){throw new Error("ERROR stdlib.command.RemoveFromModelCommand - either [index] parameter or [key and value] parameters are required")}}}}}}else{if((l!=null)&&(typeof l!="undefined")&&(l=="")){throw new Error("ERROR stdlib.command.RemoveFromModelCommand - key parameter must be a non-empty string")}if(typeof g!="number"){throw new Error("ERROR stdlib.command.RemoveFromModelCommand - index parameter must be type Number")}else{if(g<0){throw new Error("ERROR stdlib.command.RemoveFromModelCommand - index parameter cannot be less than zero")}else{if(mojo.Model.contains(e)){if(g>=mojo.Model.get(e).length){throw new Error("ERROR stdlib.command.RemoveFromModelCommand - index parameter is out of bounds")}}}}}var b=mojo.Model.get(e);if((l!=null)&&(typeof l!="undefined")&&(l!="")&&(k!=null)&&(typeof k!="undefined")&&(k!="")){if(d){for(i=0;i<b.length;i++){if(typeof b[i][l]!="undefined"){if(b[i][l]==k){b.splice(i,1);mojo.Model.set(e,b);break}}}}else{for(i=b.length-1;i>=0;i--){if(typeof b[i][l]!="undefined"){if(b[i][l]==k){b.splice(i,1);c=true}}}if(c){mojo.Model.set(e,b)}}}else{if((g!=null)&&(typeof g!="undefined")&&(typeof g=="number")){b.splice(g,1);mojo.Model.set(e,b)}}},onResponse:function(a){},onError:function(a){}});dojo.provide("stdlib.command.RemoveObjectsCommand");dojo.declare("stdlib.command.RemoveObjectsCommand",mojo.command.Command,{execute:function(f){var a;var c;var e;var d=f.paramsObj;if(d){if(d.className!=null){a=d.className}if(d.targetId!=null){c=d.targetId}}if((a!=null)&&(c!=null)){if(c.indexOf("#")==0){c.substring(1,c.length)}e=mojo.query(a,c);if(e){if(e.length>0){for(var b=0;b<e.length;b++){if((e[b])&&(e[b].parentNode)){e[b].parentNode.removeChild(e[b])}}}else{if((e)&&(e.parentNode)){e.parentNode.removeChild(e)}}}}}});dojo.provide("stdlib.command.SetModelCommand");dojo.require("mojo.command.Command");dojo.require("mojo.Model");dojo.declare("stdlib.command.SetModelCommand",mojo.command.Command,{execute:function(c){var a=c.paramsObj.model;var b=c.paramsObj.set;if(a==null||typeof a=="undefined"){throw new Error("ERROR stdlib.command.SetModelCommand - model parameter is required")}else{if(typeof a=="string"){if(a==""){throw new Error("ERROR stdlib.command.SetModelCommand - model parameter must be a non-empty string")}}else{throw new Error("ERROR stdlib.command.SetModelCommand - model parameter must be type String")}}if(!b){b=mojo.Model.get(a)}mojo.Model.set(a,b);c.paramsObj.set=null}});dojo.provide("stdlib.command.UpdateControllerParamCommand");dojo.require("mojo.command.Command");dojo.declare("stdlib.command.UpdateControllerParamCommand",mojo.command.Command,{execute:function(g){var f;var c;var d;var b;var e=g.getParams();if(e){if(e.element!=null){f=e.element}if(e.control!=null){c=e.control}if(e.params!=null){d=e.params}if(e.value!=null){b=e.value}}try{if((c!=null)&&(d!=null)&&(b!=null)){if(f){if(f.mojoControllers[c]){f.mojoControllers[c].setValue(d,b)}}else{g.getController().getContextController(c).setValue(d,b)}}}catch(a){}},onResponse:function(){},onError:function(){}});dojo.provide("stdlib.command.UpdateObserversCommand");dojo.require("mojo.controller.Controller");dojo.require("mojo.command.Command");dojo.declare("stdlib.command.UpdateObserversCommand",mojo.command.Command,{execute:function(b){var a=setTimeout(function(){mojo.controller.Controller.updateObservers(b.getParams().controllerName);clearTimeout(a)},20)}});dojo.provide("stdlib.command.ValidateRulesCommand");dojo.require("mojo.command.Command");dojo.require("mojo.helper.Validation");dojo.require("mojo.helper.view.Error");dojo.require("mojo.query");dojo.declare("stdlib.command.ValidateRulesCommand",mojo.command.Command,{_targetElement:null,_checkAll:true,_output:function(b,a){},execute:function(requestObj){var rules;var formSet;var params=requestObj.getParams();if(params){if(params.targetElement!=null){this._targetElement=params.targetElement}if(params.checkAll!=null){this._checkAll=params.checkAll}if(params.rules!=null){rules=params.rules}if(params.formSet!=null){formSet=params.formSet}}if(rules){if(this._targetElement!=null){this._targetElement.innerHTML="";if(formSet){var clearTags=["label","inputs","textarea","select"];for(var i=0;i<clearTags.length;i++){var Tag=mojo.query(clearTags[i],formSet);for(var j=0;j<Tag.length;j++){dojo.removeClass(Tag[j],"error")}}}}if(typeof(rules)=="string"){dojo.require(rules);eval("requestObj.getParams().rules = "+rules)}var val=mojo.helper.Validation.getInstance();if((formSet)&&(this._checkAll)){var errorList=val.execute(requestObj.getParams().rules,formSet)}else{var errorList=val.execute(requestObj.getParams().rules,[requestObj.callerObj])}if(errorList.length>0){if(this._targetElement!=null){mojo.helper.view.Error.showElementErrors(errorList,this._targetElement);for(var i=0;i<errorList.length;i++){dojo.addClass(errorList[i].element,"error");if(errorList[i].element.parentNode.tagName=="LABEL"){dojo.addClass(errorList[i].element.parentNode,"error")}}}else{for(var i=0,len=errorList.length;i<len;i++){var error=errorList[i];var err=document.createElement("span");err.className="mojoValidationError";err.innerHTML=error.message;if(error.element.type=="checkbox"){if(error.element.parentNode.tagName=="LABEL"){dojo.place(err,error.element.parentNode,"after")}else{dojo.place(err,error.element,"after")}}else{dojo.place(err,error.element,"after")}}}this.onError()}else{if(requestObj.invocation){this.onResponse()}}}else{console.debug("ERROR stdlib.command.ValidateRulesCommand - No rules passed")}},onResponse:function(){},onError:function(){}});dojo.provide("stdlib.controller.AccordianController");dojo.require("mojo.controller.Controller");dojo.declare("stdlib.controller.AccordianController",mojo.controller.Controller,{params:{selectedIndex:{required:false,defaultValue:0,type:Number},activeOn:{required:false,defaultValue:"onclick"},toggleClose:{required:false,defaultValue:false},direction:{required:false,defaultValue:"vertical"}},addObservers:function(){var c=mojo.query("> .accordian-panel",this.getContextElement());var a=mojo.query("> .accordian-panel > .accordian",this.getContextElement());var b=mojo.query("> .accordian-panel > .accordian-content",this.getContextElement());this.addObserver("> .accordian-panel > .accordian",this.getValue("activeOn"),"UpdateClass",function(h,e){var g=a;var d=0;for(var f=0;f<g.length;f++){if(g[f]==e){d=f;break}}if(this.getController().getValue("toggleClose")&&d==this.getController().getValue("selectedIndex")){this.getController().setValue("selectedIndex",-1)}else{this.getController().setValue("selectedIndex",d)}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","Tween",function(f,e,d){return{height:(d.getValue("direction")=="vertical")?0:null,width:(d.getValue("direction")=="horizontal")?0:null,element:mojo.query("> .open > .accordian-content",f)}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(e,d){return{element:c,action:"remove",cssClass:"open"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(e,d){return{element:c[d.getValue()],action:"add",cssClass:"open"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","Tween",function(f,e,d){var g=b[e.getValue()];if(!g){return}return{element:g,height:(d.getValue("direction")=="vertical")?g.scrollHeight:null,width:(d.getValue("direction")=="horizontal")?g.scrollWidth:null}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Tween","stdlib.behavior.TweenBehavior")},addIntercepts:function(){}});dojo.provide("stdlib.controller.AutoSuggestController");dojo.require("mojo.controller.Controller");dojo.declare("stdlib.controller.AutoSuggestController",mojo.controller.Controller,{params:{model:{required:false,defaultValue:"suggestions"},modelPath:{required:false,defaultValue:"suggestions"},serviceLocator:{required:true,defaultValue:"cox.service.Locator"},serviceName:{required:false,defaultValue:"getSuggestions"},maxSuggestions:{required:false,defaultValue:"5"},doQuery:{defaultValue:true,type:Boolean}},addObservers:function(){this.addObserver("input.suggest-input","onkeyup","GetSuggestions",function(c,b,a){if(a.getValue("doQuery")){return{inputValue:b.value,model:this.getController().getValue("model"),modelPath:this.getController().getValue("modelPath"),serviceLocator:this.getController().getValue("serviceLocator"),serviceName:this.getController().getValue("serviceName"),maxSuggestions:this.getController().getValue("maxSuggestions")}}});this.addObserver("input.suggest-input","onkeydown","SuggestNavigation",function(b,a){return{suggestions:mojo.query(".suggestion",b)}});this.addObserver(this.getCommand("SuggestNavigation"),"onNav","UpdateClass",function(b,a){return{element:mojo.query(".suggestion",b),action:"remove",cssClass:"selected"}});this.addObserver(this.getCommand("SuggestNavigation"),"onNav","UpdateClass",function(b,a){return{element:a.suggestion,action:"add",cssClass:"selected"}});this.addObserver(".suggestion","onmouseover","UpdateClass",function(b,a){return{element:a,action:"add",cssClass:"selected"}});this.addObserver(".suggestion","onmouseout","UpdateClass",function(b,a){return{element:a,action:"remove",cssClass:"selected"}});this.addObserver(".suggestion a","onclick","PreventDefault");this.addObserver(".suggestion a","onmouseover","UpdateClass",function(c,b){var a=mojo.queryFirst("input.suggest-input",c);a.value=b.innerHTML.replace(/<\/?[^>]+(>|$)/g,"")});this.addObserver(this.getCommand("SuggestNavigation"),"onNav","UpdateClass",function(e,d,c){c.setValue("doQuery",false);var b=mojo.queryFirst("input.suggest-input",e);var a=dojo.trim(d.suggestion.innerHTML);b.value=a.replace(/<\/?[^>]+(>|$)/g,"")});this.addObserver("input.suggest-input","onblur","ClearModel",function(b,a){return{model:this.getController().getValue("model")}})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("SuggestNavigation","stdlib.behavior.AutoSuggest.SuggestNavigationBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("GetSuggestions","stdlib.command.AutoSuggest.GetSuggestionsCommand");this.addCommand("ClearModel","stdlib.command.ClearModelCommand")},addIntercepts:function(){}});dojo.provide("stdlib.controller.DateController");dojo.require("mojo.controller.Controller");dojo.declare("stdlib.controller.DateController",mojo.controller.Controller,{params:{date:{defaultValue:new Date()}},addObservers:function(){this.addObserver(this,"onInit","PopulateDate",function(b,a){return{target:this.getContextElement(),month:this.getController().getValue("date").getMonth(),year:this.getController().getValue("date").getFullYear()}});this.addObserver(this.getCommand("PopulateDate"),"execute","PopulateDays",function(b,a){return{target:mojo.queryFirst("> .date-day",b),day:(new Date()).getDate(),month:mojo.queryFirst("> .date-month",b).value,year:mojo.queryFirst("> .date-year",b).value}});this.addObserver("> .date-month","onchange","PopulateDays",function(b,a){return{target:mojo.queryFirst("> .date-day",b),month:mojo.queryFirst("> .date-month",b).value,year:mojo.queryFirst("> .date-year",b).value}});this.addObserver("> .date-year","onchange","PopulateDays",function(b,a){return{target:mojo.queryFirst("> .date-day",b),month:mojo.queryFirst("> .date-month",b).value,year:mojo.queryFirst("> .date-year",b).value}});this.addObserver(this.getConfig("params").date,"onChange","PopulateDate",function(b,a){return{target:this.getContextElement(),month:this.getController().getValue("date").getMonth(),year:this.getController().getValue("date").getFullYear()}})},addCommands:function(){this.addCommand("PopulateDate","stdlib.behavior.PopulateDateBehavior");this.addCommand("PopulateDays","stdlib.behavior.PopulateDaysBehavior")},addIntercepts:function(){}});dojo.provide("stdlib.controller.DialogController");dojo.require("mojo.controller.Controller");dojo.declare("stdlib.controller.DialogController",mojo.controller.Controller,{params:{container:{required:false,defaultValue:".dialog-component",type:String},title:{required:false,defaultValue:".dialog-component .dialog-component-title",type:String},titleText:{required:false,defaultValue:"Hello World",type:String},content:{required:false,defaultValue:".dialog-component .dialog-component-content",type:String},width:{defaultValue:0,type:Number},height:{defaultValue:0,type:Number}},addObservers:function(){var c=this.getValue("content"),d=this.getValue("title"),b=this.getValue("container"),a=this.getValue("titleText");this.addObserver(mojo.Messaging.getTopic("dialog"),"onPublish","Dialog",function(g,f){var e=f.getMessage();e.elContainer=b;e.elContent=c;e.elTitle=d;if(!e.title){e.title=a}this.getController().setValue("width",e.width);this.getController().setValue("height",e.height);mojo.Model.set("stlib.dialog.params",e);return e});this.addObserver(this.getCommand("Dialog"),"onComplete","MapControllers",function(){return{contextObj:mojo.queryFirst(this.getController().getValue("container"))}});this.addObserver(this.getCommand("Dialog"),"onComplete","UpdateObservers",function(f,e){return{controllerName:this.getController().declaredClass}});this.addObserver(this.getCommand("Dialog"),"onDataReady","Position");this.addObserver(window,"onresize","Position");this.addObserver(window,"onscroll","Position");this.addObserver(mojo.queryFirst(".btn-close"),"onclick","Messaging",function(f,e){return{topic:"dialog",message:{enabled:false}}})},addCommands:function(){this.addCommand("ClearModel","stdlib.command.ClearModelCommand");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("Dialog","stdlib.behavior.dialog.DialogBehavior");this.addCommand("Position","stdlib.behavior.dialog.PositionBehavior");this.addCommand("MapControllers","stdlib.command.MapControllersCommand");this.addCommand("UpdateObservers","stdlib.command.UpdateObserversCommand")},addIntercepts:function(){}});dojo.provide("stdlib.controller.FilmStripController");dojo.require("mojo.controller.Controller");dojo.declare("stdlib.controller.FilmStripController",mojo.controller.Controller,{params:{selectedIndex:{required:false,defaultValue:0,type:Number},loop:{required:false,defaultValue:false,type:Boolean}},addObservers:function(){var a=function(b){return mojo.query("> .filmstrip-viewer > .filmstrip-content > .filmstrip-page",b)};this.addObserver("> .filmstrip-next","onclick","UpdateClass",function(e,c){var d=a(e);var b=this.getController().getValue("selectedIndex");b++;if(b>=a(e).length){if(this.getController().getValue("loop")){this.getController().setValue("selectedIndex",0)}}else{this.getController().setValue("selectedIndex",b)}});this.addObserver("> .filmstrip-prev","onclick","UpdateClass",function(e,c){var d=a(e);var b=this.getController().getValue("selectedIndex");b--;if(b<0){if(this.getController().getValue("loop")){this.getController().setValue("selectedIndex",a(e).length-1)}}else{this.getController().setValue("selectedIndex",b)}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(d,c,b){return{element:mojo.query("> .filmstrip-next",d),action:(c.getValue()>=a(d).length-1)?"add":"remove",cssClass:"disabled"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(d,c,b){return{element:mojo.query("> .filmstrip-prev",d),action:(c.getValue()<=0)?"add":"remove",cssClass:"disabled"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","Tween",function(d,c,b){return{x:(-1*a(d)[c.getValue()].offsetLeft),y:(-1*a(d)[c.getValue()].offsetTop),element:mojo.query("> .filmstrip-viewer > .filmstrip-content",d)}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(c,b){return{element:a(c),action:"remove",cssClass:"selected"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(c,b){return{element:a(c)[b.getValue()],action:"add",cssClass:"selected"}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Tween","stdlib.behavior.TweenBehavior")},addIntercepts:function(){}});dojo.provide("stdlib.controller.FormController");dojo.require("mojo.controller.Controller");dojo.declare("stdlib.controller.FormController",mojo.controller.Controller,{params:{isSubmitted:{required:false,defaultValue:false,type:Boolean},formSubmitCommand:{required:true,defaultValue:"FormSubmitCommand",type:String},formRules:{required:true,defaultValue:"stdlib.rules.Rules",type:String},modelErrors:{required:false,defaultValue:"stdlib.myModel",type:String},formId:{required:true,defaultValue:"#form",type:String},submitButtonId:{required:true,defaultValue:"#submit-form",type:String},cancelButtonId:{required:false,defaultValue:"#cancel-form",type:String}},addObservers:function(){var b=this.getValue("formRules"),c=this.getValue("modelErrors"),a=this.getValue("formId");this.addObserver("input","onkeydown","EnterKey");this.addObserver("input","onblur","ValidateRules",function(e,d){if(!this.getController().getValue("isSubmitted")){return{rules:{},formSet:mojo.query(a)}}return{rules:b,formSet:mojo.query(a)}});this.addObserver("textarea","onblur","ValidateRules",function(e,d){if(!this.getController().getValue("isSubmitted")){return{rules:{},formSet:mojo.query(a)}}return{rules:b,formSet:mojo.query(a)}});this.addObserver("select","onchange","ValidateRules",function(e,d){if(!this.getController().getValue("isSubmitted")){return{rules:{},formSet:mojo.query(a)}}return{rules:b,formSet:mojo.query(a)}});this.addObserver(this.getCommand(this.getValue("formSubmitCommand")),"onResponse","ClearModel",function(){return{model:c}});this.addObserver(this.getValue("submitButtonId"),"onclick","UpdateControllerParam",function(f,e,d){return{control:this.getController().declaredClass,params:"isSubmitted",value:true,element:f}});this.addObserver(this.getConfig("params").isSubmitted,"onChange","ValidateRules",function(e,d){if(!this.getController().getValue("isSubmitted")){return{rules:{},formSet:mojo.query(a)}}return{rules:b,formSet:mojo.query(a)}});this.addObserver(this.getValue("cancelButtonId"),"onclick","ClearForm",function(e,d){return{formSet:mojo.queryFirst(this.getController().getValue("formId"),e)}})},addCommands:function(){this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("EnterKey","stdlib.behavior.EnterKeyBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand");this.addCommand("DisableBox","stdlib.behavior.DisableBoxBehavior");this.addCommand("ClearForm","stdlib.behavior.ClearFormBehavior");this.addCommand("ClearModel","stdlib.command.ClearModelCommand");this.addCommand("Redirect","stdlib.behavior.RedirectBehavior");this.addCommand("ValidateRules","stdlib.command.ValidateRulesCommand")},addIntercepts:function(){this.addIntercept("around",this.getValue("formSubmitCommand"),"ValidateRules",{rules:this.getValue("formRules"),formSet:mojo.query(this.getValue("formId"))})}});dojo.provide("stdlib.controller.FormValidationController");dojo.require("mojo.controller.Controller");dojo.declare("stdlib.controller.FormValidationController",mojo.controller.Controller,{params:{isSubmitted:{required:false,defaultValue:false,type:Boolean},formRules:{required:true,defaultValue:"stdlib.rules.Rules",type:String},submitButtonId:{required:true,defaultValue:"#submit-form",type:String},cancelButtonId:{required:false,defaultValue:"#cancel-form",type:String},errorsContainerId:{required:false,defaultValue:"",type:String},showDisableBox:{required:false,defaultValue:true}},addObservers:function(){var b=this.getValue("formRules");var a=(this.getValue("errorsContainerId")!="")?mojo.queryFirst(this.getValue("errorsContainerId")):null;this.addObserver("input","onkeydown","EnterKey");this.addObserver(this.getCommand("EnterKey"),"onResponse","UpdateControllerParam",function(d,c){return{control:this.getController().declaredClass,params:"isSubmitted",value:true,element:d}});this.addObserver(this.getCommand("EnterKey"),"onResponse","SubmitForm",function(d,c){return{form:this.getContextElement()}});this.addObserver(["input","textarea"],"onblur","ValidateRules",function(d,c){if(!this.getController().getValue("isSubmitted")){return{rules:{},formSet:this.getContextElement()}}return{rules:b,formSet:this.getContextElement(),targetElement:a}});this.addObserver("select","onchange","ValidateRules",function(d,c){if(!this.getController().getValue("isSubmitted")){return{rules:{},formSet:this.getContextElement()}}return{rules:b,formSet:this.getContextElement(),targetElement:a}});this.addObserver(this.getValue("submitButtonId"),"onclick","UpdateControllerParam",function(d,c){return{control:this.getController().declaredClass,params:"isSubmitted",value:true,element:d}});this.addObserver(this.getValue("submitButtonId"),"onclick","SubmitForm",function(d,c){return{form:this.getContextElement()}});this.addObserver(this.getCommand("SubmitForm"),"execute","DisableBox",function(d,c){if(!this.getController().getValue("showDisableBox")){return}return{show:true,target:d}});this.addObserver(this.getConfig("params").isSubmitted,"onChange","ValidateRules",function(d,c){if(!this.getController().getValue("isSubmitted")){return{rules:{},formSet:this.getContextElement()}}return{rules:b,formSet:this.getContextElement(),targetElement:a}});this.addObserver(this.getValue("cancelButtonId"),"onclick","ClearErrors",function(d,c){return{className:".mojoValidationError",target:this.getContextElement()}})},addCommands:function(){this.addCommand("EnterKey","stdlib.behavior.EnterKeyBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand");this.addCommand("ClearErrors","stdlib.behavior.RemoveElementsBehavior");this.addCommand("ValidateRules","stdlib.command.ValidateRulesCommand");this.addCommand("SubmitForm","stdlib.behavior.SubmitFormBehavior");this.addCommand("DisableBox","stdlib.behavior.DisableBoxBehavior")},addIntercepts:function(){this.addIntercept("around","SubmitForm","ValidateRules",{rules:this.getValue("formRules"),formSet:this.getContextElement(),targetElement:(this.getValue("errorsContainerId")!="")?mojo.queryFirst(this.getValue("errorsContainerId")):null})}});dojo.provide("stdlib.controller.SliderController");dojo.require("mojo.controller.Controller");dojo.declare("stdlib.controller.SliderController",mojo.controller.Controller,{params:{tickSize:{required:false,defaultValue:10,type:Number},tickValue:{required:false,defaultValue:1,type:Number},tickMaxValue:{required:false,defaultValue:10,type:Number},value:{required:false,defaultValue:0,type:Number},valueInput:{required:false,defaultValue:"slider-value-input",type:String},thumb:{required:false,defaultValue:".slider-thumb",type:String},draggable:{required:false,defaultValue:false,type:Boolean},selectedIndex:{required:false,defaultValue:0,type:Number},orientation:{required:false,defaultValue:"horizontal",type:String}},addObservers:function(){this.addObserver(this.getContextElement(),"onmousedown","UpdateControllerParam",function(b,a){return{control:"stdlib.controller.SliderController",params:"draggable",value:true}});this.addObserver(this.getContextElement(),"onmousedown","Drag",function(b,a){return{element:mojo.queryFirst(".slider-thumb",b),container:mojo.queryFirst(".slider-bg",b),orientation:this.getController().getValue("orientation"),tickSize:this.getController().getValue("tickSize")}});this.addObserver(document.body,"onmouseup","UpdateControllerParam",function(b,a){return{control:"stdlib.controller.SliderController",params:"draggable",value:false}});this.addObserver(this.getContextElement(),"onmousemove","Drag",function(b,a){if(!this.getController().getValue("draggable")){return}return{element:mojo.queryFirst(".slider-thumb",b),container:mojo.queryFirst(".slider-bg",b),orientation:this.getController().getValue("orientation"),tickSize:this.getController().getValue("tickSize")}});this.addObserver(this.getCommand("Drag"),"execute","UpdateControllerParam",function(b,a){if(!this.getController().getValue("draggable")){return}return{control:"stdlib.controller.SliderController",params:"selectedIndex",value:this.getController().getCommand("Drag").selectedIndex}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateControllerParam",function(b,a){if(!this.getController().getValue("draggable")){return}return{control:"stdlib.controller.SliderController",params:"value",value:a.getValue()*this.getController().getValue("tickValue")}});this.addObserver(this.getConfig("params").draggable,"onChange","UpdateFormField",function(b,a){if(this.getController().getValue("draggable")){return}return{formObj:b,fields:[{name:this.getController().getValue("valueInput"),value:this.getController().getValue("value")}]}});this.addObserver(mojo.queryFirst("#"+this.getValue("valueInput")),"onchange","UpdateControllerParam",function(b,a){if(this.getController().getValue("draggable")){return}return{control:"stdlib.controller.SliderController",params:"value",value:parseInt(a.value)}});this.addObserver(this.getConfig("params").value,"onChange","UpdateControllerParam",function(b,a){if(this.getController().getValue("draggable")){return}return{control:"stdlib.controller.SliderController",params:"selectedIndex",value:Math.round(a.getValue()/this.getController().getValue("tickValue"))}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","Drag",function(b,a){if(this.getController().getValue("draggable")){return}return{element:mojo.queryFirst(".slider-thumb",b),container:mojo.queryFirst(".slider-bg",b),orientation:this.getController().getValue("orientation"),tickSize:this.getController().getValue("tickSize"),position:a.getValue()*this.getController().getValue("tickSize")}})},addCommands:function(){this.addCommand("Drag","stdlib.behavior.DragBehavior");this.addCommand("Tween","stdlib.behavior.TweenBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand");this.addCommand("UpdateFormField","stdlib.behavior.UpdateFormFieldBehavior")},addIntercepts:function(){}});dojo.provide("stdlib.controller.TabController");dojo.require("mojo.controller.Controller");dojo.declare("stdlib.controller.TabController",mojo.controller.Controller,{params:{selectedIndex:{required:false,defaultValue:0,type:Number},activeOn:{required:false,defaultValue:"onclick"}},addObservers:function(){this.addObserver("> .tabs-nav > .tab",this.getValue("activeOn"),"UpdateClass",function(e,b){var d=mojo.query("> .tabs-nav > .tab",e);var a=0;for(var c=0;c<d.length;c++){if(d[c]==b){a=c;break}}this.getController().setValue("selectedIndex",a)});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(b,a){return{element:mojo.query("> .tabs-nav > .selected",b),action:"remove",cssClass:"selected"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(b,a){return{element:mojo.query("> .tabs-content > .selected",b),action:"remove",cssClass:"selected"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(b,a){return{element:mojo.query("> .tabs-nav > .tab",b)[a.getValue()],action:"add",cssClass:"selected"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(b,a){return{element:mojo.query("> .tabs-content > .tab-content",b)[a.getValue()],action:"add",cssClass:"selected"}});this.addObserver("> .add","onclick","UpdateClass",function(b,a){mojo.Model.add("testData",{name:"new",description:(new Date()).getTime()});this.getController().setValue("selectedIndex",0);this.getController().getConfig("params").selectedIndex.onChange()})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("stdlib.controller.TemplateController");dojo.require("mojo.controller.Controller");dojo.require("lib.trimpath.template");dojo.require("mojo.Model");dojo.declare("stdlib.controller.TemplateController",mojo.controller.Controller,{modelSource:"",_modelSourceHandle:null,templateObj:null,escapeQuotes:false,escapeHtml:false,onInit:function(){var a=this.getContextElement();var b=this._normalize(a.innerHTML);this.templateObj=TrimPath.parseTemplate(b);dojo.style(this.getContextElement(),"display","none");this.setModelSource(a.getAttribute("modelsource"))},getModelSource:function(){if(!this.modelSource){return""}return this.modelSource},setModelSource:function(a){if(this._modelSourceHandle){mojo.Model.removeObserver(this._modelSourceHandle)}this.modelSource=a;this._modelSourceHandle=mojo.Model.addObserver(this.modelSource,this,"onModelUpdate");this.onModelUpdate()},onModelUpdate:function(){this._bindToModel()},_bindToModel:function(){var h={escapeQuotes:function(l){l=l.toString();l=l.replace(/\"/g,"&#34;");l=l.replace(/\'/g,"&#39;");return l}};var e=this.getModelSource();if(e.length>0&&mojo.Model.contains(e)&&this.getContextElement()){var j=mojo.Model.get(e);var k=new Array();if(!dojo.isArray(j)){j=[j]}var c=j.length;for(var d=0,f=c;d<f;d++){if(j[d]){if(typeof(j[d])!="object"){var b=j[d].toString();j[d]=new Object();j[d].data=b}j[d].currentIndex=d;j[d].totalLength=f;if(this.escapeQuotes){j[d]._MODIFIERS=h;j[d].content=h.escapeQuotes(j[d].content)}k.push(this.templateObj.process(j[d]))}}var a=this.getContextElement();var g=k.join("");a.innerHTML="";a.innerHTML=g;dojo.style(this.getContextElement(),"display","block")}else{dojo.style(this.getContextElement(),"display","none")}},_normalize:function(e){var d=/[\!|\$]\{[^\}]*\}/g;var b=e.match(d);var f=e.split(d);var j=new Array();var a=0;if(b){a=b.length}for(var c=0;c<a;c++){j.push(f[c]);var h="$"+b[c].substring(1);var g="";if(this.escapeHtml){g+="|escape"}if(this.escapeQuotes){g+="|escapeQuotes"}h=h.substring(0,h.length-1)+g+"}";j.push(h)}j.push(f[a]);return j.join("")},addObservers:function(){},addCommands:function(){},addIntercepts:function(){}});