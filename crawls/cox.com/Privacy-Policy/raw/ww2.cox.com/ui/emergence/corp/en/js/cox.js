dojo.provide("cox.controller.FormController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.FormController",mojo.controller.Controller,{params:{isSubmitted:{required:false,defaultValue:false,type:Boolean},formSubmitCommand:{required:true,defaultValue:"FormSubmitCommand",type:String},formRules:{required:true,defaultValue:"application.rules.Rules",type:String},modelErrors:{required:true,defaultValue:"application.myModel",type:String},formId:{required:true,defaultValue:"#form",type:String},submitButtonId:{required:true,defaultValue:"#submit-form",type:String},cancelButtonId:{required:true,defaultValue:"#cancel-form",type:String},showDisableBox:{required:false,defaultValue:false,type:Boolean}},addObservers:function(){var b=this.getValue("formRules"),c=this.getValue("modelErrors"),a=this.getValue("formId");this.addObserver("input","onkeydown","EnterKey");this.addObserver(this.getCommand(this.getValue("formSubmitCommand")),"onError","DisableBox",function(e,d){if(!this.getController().getValue("showDisableBox")){return}return{target:e,show:false}});this.addObserver(this.getCommand(this.getValue("formSubmitCommand")),"onResponse","ClearModel",function(){return{model:c}});this.addObserver(this.getCommand(this.getValue("formSubmitCommand")),"onResponse","DisableBox",function(e,d){if(!this.getController().getValue("showDisableBox")){return}return{target:e,show:false}});this.addObserver(this.getValue("submitButtonId"),"onclick","UpdateControllerParam",function(f,e,d){return{control:this.getController().declaredClass,params:"isSubmitted",value:true,element:f}});this.addObserver(this.getConfig("params").isSubmitted,"onChange","ValidateRules",function(e,d){if(!this.getController().getValue("isSubmitted")){return{rules:{},formSet:mojo.query(a)}}return{rules:b,formSet:mojo.query(a)}});this.addObserver(this.getValue("cancelButtonId"),"onclick","ClearErrors",function(e,d){return{className:".mojoValidationError",targetId:this.getController().getValue("formId")}});this.addObserver(this.getValue("cancelButtonId"),"onclick","ClearForm",function(e,d){return{formSet:mojo.queryFirst(this.getController().getValue("formId"),e)}});this.addObserver(this.getCommand("ValidateRules"),"onResponse","DisableBox",function(e,d){if(!this.getController().getValue("showDisableBox")){return}return{target:e,show:true}})},addCommands:function(){this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("EnterKey","stdlib.behavior.EnterKeyBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand");this.addCommand("DisableBox","cox.behavior.DisableBoxBehavior");this.addCommand("ClearForm","stdlib.behavior.ClearFormBehavior");this.addCommand("ClearErrors","stdlib.command.RemoveObjectsCommand");this.addCommand("ClearModel","stdlib.command.ClearModelCommand");this.addCommand("Refresh","stdlib.behavior.RefreshBehavior");this.addCommand("ValidateRules","stdlib.command.ValidateRulesCommand")},addIntercepts:function(){this.addIntercept("around",this.getValue("formSubmitCommand"),"ValidateRules",{rules:this.getValue("formRules"),formSet:mojo.query(this.getValue("formId"))})}});dojo.provide("cox.controller.LocationController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.LocationController",mojo.controller.Controller,{params:{formSelector:{defaultValue:"",type:String},mode:{defaultValue:"hide",type:String},form:{defaultValue:null}},addObservers:function(){var a;if(this.getValue("formSelector")!=""){a=mojo.queryFirst(this.getValue("formSelector"))}else{a=this.getContextElement();if(a.tagName.toLowerCase()!="form"){a=mojo.queryFirst("form",a)}}if(a==null){return}this.setValue("form",a)},addCommands:function(){this.addCommand("UpdateObservers","stdlib.command.UpdateObserversCommand")},addIntercepts:function(){}});dojo.provide("cox.service.Locator");dojo.require("mojo.service.Locator");dojo.require("mojo.service.Service");var __coxServiceLocator=null;dojo.declare("cox.service.Locator",mojo.service.Locator,{addServices:function(){this.addService(new mojo.service.Service("getOffices",((typeof(locationUrl)!="undefined")?locationUrl:"/aboutus/contact-us/officelocations.coxsite"),{json:true,cache:true}));this.addService(new mojo.service.Service("getSuggestions",((typeof(suggestionUrl)!="undefined")?suggestionUrl:"/residential/KanaPredictiveTextServlet.json"),{json:true,cache:true}))}});cox.service.Locator.getInstance=function(){if(__coxServiceLocator==null){__coxServiceLocator=new cox.service.Locator()}return __coxServiceLocator};dojo.provide("cox.SiteMap");cox.SiteMap=[{pattern:"html",controllers:[{controller:"cox.controller.metrics.MetricsController"},{controller:"cox.controller.SessionVarController"},{controller:"cox.controller.site.GeneralMetricsController"}]},{pattern:"body",controllers:[{controller:"cox.controller.DialogController"}]},{pattern:"#container form",controllers:[{controller:"cox.controller.interface.form.FormValidatorController"}]},{pattern:"textarea",controllers:[{controller:"cox.controller.interface.form.TextareaController"}]},{pattern:"input.spin-button",controllers:[{controller:"cox.controller.interface.form.SpinBoxController"}]},{pattern:"#pf-header",controllers:[{controller:"cox.controller.interface.HeaderController"}]},{pattern:"#extras-panel",controllers:[{controller:"cox.controller.ExtrasFromCoxController"}]},{pattern:".landing-module .filmstrip-component",controllers:[{controller:"cox.controller.ToggleFilmStripController"}]},{pattern:"#main-rotator",controllers:[{controller:"cox.controller.interface.RotatorController"}]},{pattern:".filmstrip-module .filmstrip-component",controllers:[{controller:"cox.controller.ToggleFilmStripController"}]},{pattern:".container-carousel .filmstrip-component",controllers:[{controller:"cox.controller.ToggleFilmStripController"}]},{pattern:".toggle",controllers:[{controller:"cox.controller.ToggleController"}]},{pattern:".toggle-button",controllers:[{controller:"cox.controller.HoverController"}]},{pattern:".multitoggle",controllers:[{controller:"cox.controller.MultiToggleController"}]},{pattern:".tooltip-trigger",controllers:[{controller:"cox.controller.ToolTipController"}]},{pattern:"input.date-picker",controllers:[{controller:"cox.controller.interface.form.DatePickerController"}]},{pattern:".loading-wrapper",controllers:[{controller:"cox.controller.interface.LoadingController"}]},{pattern:".ajax-loader",controllers:[{controller:"cox.controller.interface.AjaxController"}]},{pattern:".scroll-box",controllers:[{controller:"cox.controller.ScrollController",params:{stepHeight:42}}]},{pattern:".enlarge a",controllers:[{controller:"cox.controller.interface.EnlargeImageController"}]},{pattern:".openwin-trigger",controllers:[{controller:"cox.controller.PopupController"}]},{pattern:".sorttable",controllers:[{controller:"cox.controller.interface.SortableTableController"}]},{pattern:"#login_widget2 form",controllers:[{controller:"cox.controller.site.LoginCookieController"}]},{pattern:"#login_widget2 .account-status",controllers:[{controller:"cox.controller.MessageCountsController"}]},{pattern:"#dashboard",controllers:[{controller:"cox.controller.MessageCountsController"}]},{pattern:"#google-searchbar",controllers:[{controller:"cox.controller.GoogleSearchBarController"}]},{pattern:"#residential-search-content",controllers:[{controller:"cox.controller.SearchResultsController"}]},{pattern:"#accountheader",controllers:[{controller:"cox.controller.resaccount.MyAccountHeaderController"}]},{pattern:".accountservicedetails",controllers:[{controller:"cox.controller.resaccount.MyAccountController"}]},{pattern:".accountservices #support-search",controllers:[{controller:"cox.controller.InputLabelController"}]},{pattern:"#myplace-controlpanel",controllers:[{controller:"cox.controller.MessageCountsController",params:{showNew:true}}]},{pattern:"#myplace-search.search-simple",controllers:[{controller:"cox.controller.myplace.SearchBasicController"}]},{pattern:"#myplace-search.search-advanced",controllers:[{controller:"cox.controller.myplace.SearchAdvancedController"}]},{pattern:"#business-top-panel",controllers:[{controller:"cox.controller.business.BusinessPanelController"}]},{pattern:"body.ID-11",controllers:[{controller:"cox.controller.business.BusinessHomeController"}]},{pattern:"body.ID-12",controllers:[{controller:"cox.controller.business.BusinessIndustriesHealthcareController"}]},{pattern:"body.ID-16a",controllers:[{controller:"cox.controller.SplashController"}]},{pattern:"body.ID-16b",controllers:[{controller:"cox.controller.SplashController"}]},{pattern:"#splash-location-init",controllers:[{controller:"cox.controller.SplashLocationController"}]},{pattern:"#splash-tab-component",controllers:[{controller:"cox.controller.SplashTabController",params:{selectedIndex:0}}]},{pattern:"form.leadForm",controllers:[{controller:"cox.controller.business.LeadFormController"}]},{pattern:"#map-wrapper",controllers:[{controller:"cox.controller.locationMap.OfficesMapController"}]},{pattern:"[id='map-address-container'], #map-end-address-container",controllers:[{controller:"cox.controller.locationMap.MapAddressInputController"}]},{pattern:"#map-wrapper form.regular li.form-text",controllers:[{controller:"cox.controller.InputLabelController"}]},{pattern:"#business-voicemanager-sub-section",controllers:[{controller:"cox.controller.business.ExtrasForDemoController"}]},{pattern:"#residential-pricing-plans",controllers:[{controller:"cox.controller.residential.ResidentialPricingPlansDetailController"}]},{pattern:"body.ID-53",controllers:[{controller:"cox.controller.business.BusinessVoiceManagerFeaturesController"}]},{pattern:".im-considering-view",controllers:[{controller:"cox.controller.business.ImConsideringController"}]},{pattern:"body.ID-57a .filmstrip-component",controllers:[{controller:"stdlib.controller.FilmStripController"}]},{pattern:"body.ID-57a",controllers:[{controller:"cox.controller.about.AboutServicesController"}]},{pattern:"#about-ourstory-services #residential-services .location form",controllers:[{controller:"cox.controller.LocationController",params:{mode:"disable"}}]},{pattern:"#about-ourstory-services #business-services .location form",controllers:[{controller:"cox.controller.LocationController",params:{mode:"disable"}}]},{pattern:"#about-ourstory-services-b #services-location-search form",controllers:[{controller:"cox.controller.LocationController",params:{mode:"disable"}}]},{pattern:"body.ID-xxa",controllers:[{controller:"cox.controller.residential.ResidentialContactUsLocal"}]},{pattern:"body.ID-xxb",controllers:[{controller:"cox.controller.residential.ResidentialContactUsCorporate"}]},{pattern:"#overview-page",controllers:[{controller:"cox.controller.ProductOverviewController"}]},{pattern:"#business-VM-content",controllers:[{controller:"cox.controller.ProductOverviewController"}]},{pattern:"#myplace-landing",controllers:[{controller:"cox.controller.myplace.LandingController"}]},{pattern:".snippet-frame, .snippet .filmstrip-component",controllers:[{controller:"cox.controller.HoverController"}]},{pattern:"#residential-myplace-whatson",controllers:[{controller:"cox.controller.myplace.OmnitureContentColumnController"}]},{pattern:"#residential-myplace-whatson form.regular li.form-text",controllers:[{controller:"cox.controller.InputLabelController"}]},{pattern:"#ID-38a form.regular li.form-text",controllers:[{controller:"cox.controller.InputLabelController"}]},{pattern:"#ID-38a",controllers:[{controller:"cox.controller.myplace.OmnitureContentColumnController"}]},{pattern:"#residential-myplace-moviefinder",controllers:[{controller:"cox.controller.myplace.MovieFinder"}]},{pattern:"#residential-myplace-moviefinder #myplace-favorites",controllers:[{controller:"cox.controller.myplace.FavoritesController"}]},{pattern:"#residential-myplace-moviefinder form.regular li.form-text",controllers:[{controller:"cox.controller.InputLabelController"}]},{pattern:"#myplace-news",controllers:[{controller:"cox.controller.myplace.OmnitureContentColumnController"}]},{pattern:"#myplace-news-listing",controllers:[{controller:"cox.controller.myplace.OmnitureContentColumnController"}]},{pattern:"#myplace-news-details",controllers:[{controller:"cox.controller.myplace.OmnitureContentColumnController"}]},{pattern:"#myplace-sports",controllers:[{controller:"cox.controller.myplace.OmnitureContentColumnController"}]},{pattern:"#myplace-weather form.regular li.form-text",controllers:[{controller:"cox.controller.InputLabelController"}]},{pattern:"#myplace-weather #userPrefsForm",controllers:[{controller:"cox.controller.myplace.WeatherMapPickerController"}]},{pattern:"#myplace-weather .myplace-current-weather form",controllers:[{controller:"cox.controller.myplace.WeatherCityPickerController"}]},{pattern:"#myplace-services",controllers:[{controller:"cox.controller.myplace.ServicesController"}]},{pattern:"#myplace-today",controllers:[{controller:"cox.controller.myplace.OmnitureContentColumnController"}]},{pattern:"body.ID-06",controllers:[{controller:"cox.controller.myplace.TVListingsController"}]},{pattern:"#tvlistings-container form.regular li.form-text",controllers:[{controller:"cox.controller.InputLabelController"}]},{pattern:"#myplace-slideshow",controllers:[{controller:"cox.controller.myplace.SlideshowController"}]},{pattern:"#myplace-slideshow .slideshow-detail",controllers:[{controller:"cox.controller.FilmStripController",params:{duration:0}}]},{pattern:"#myplace-slideshow .slidebox .filmstrip-component",controllers:[{controller:"cox.controller.FilmStripController"}]},{pattern:"#myplace-slideshow .filmstrip-next, #myplace .slideshow .filmstrip-prev, #myplace .slideshow .slide-poster a",controllers:[{controller:"cox.controller.HoverController"}]},{pattern:"#bundle-compare",controllers:[{controller:"cox.controller.residential.CompareBundlesController"}]},{pattern:"input[placeholder]",controllers:[{controller:"cox.controller.interface.form.PlaceholderController"}]},{pattern:"#basic-frame",controllers:[{controller:"cox.controller.SoleSurvivorController"}]},{pattern:".mojoTemplate",controllers:[{controller:"stdlib.controller.TemplateController"}]},{pattern:"#support",controllers:[{controller:"cox.controller.SupportController"}]},{pattern:"#support-search",controllers:[{controller:"stdlib.controller.AutoSuggestController"},{controller:"cox.controller.KanaSearchController"}]},{pattern:"#support form.regular li.form-textarea",controllers:[{controller:"cox.controller.TextareaLabelController"}]},{pattern:"#serviceappointments",controllers:[{controller:"cox.controller.residential.ServiceAppointmentsController"}]},{pattern:".service-appointment-calendar",controllers:[{controller:"cox.controller.residential.ServiceAppointmentsCalendarController"}]},{pattern:".connectionreset",controllers:[{controller:"cox.controller.residential.CableResetController"}]},{pattern:"#viewpaybill",controllers:[{controller:"cox.controller.residential.BillingController"}]},{pattern:"#onlineactivation",controllers:[{controller:"cox.controller.myplace.OnlineActivationController"}]},{pattern:".panes-switcher",controllers:[{controller:"cox.controller.ecomm.PanesSwitcherController"}]},{pattern:".calendar-component",controllers:[{controller:"cox.controller.ecomm.CalendarController"}]},{pattern:".ecomm-popup",controllers:[{controller:"cox.controller.ecomm.PopupDisplayController"}]},{pattern:".ecomm-popup-small-form",controllers:[{controller:"cox.controller.ecomm.PopupDisplayController"}]},{pattern:".ecomm-popup-small",controllers:[{controller:"cox.controller.ecomm.SmallPopupDisplayController"}]},{pattern:".cart-contention-component .selection-details",controllers:[{controller:"cox.controller.ToggleController"}]},{pattern:"#ecomm-multiple-addresses",controllers:[{controller:"cox.controller.ecomm.DifferentAddressToggle"}]},{pattern:"#column-structure, #myplace-ppv.ppv-checkout",controllers:[{controller:"cox.controller.DelegatedHoverController",params:{selector:".hoverbox",hoverClass:"hoverbox-hover"}},{controller:"cox.controller.ecomm.ToolTipController"}]},{pattern:"#disconnection-date input",controllers:[{controller:"cox.controller.interface.form.DatePickerController"}]},{pattern:"#bubble-special-offers",controllers:[{controller:"cox.controller.ecomm.FlyoutController"}]},{pattern:".ecomm-byob",controllers:[{controller:"cox.controller.ecomm.ByobController"}]},{pattern:".show-me-offers-for-module",controllers:[{controller:"cox.controller.ecomm.ShowMeOffersForModuleController"}]},{pattern:".have-a-promo-code-module",controllers:[{controller:"cox.controller.ecomm.PromoCodeModuleController"}]},{pattern:".ecomm-your-bundled-services",controllers:[{controller:"cox.controller.ecomm.YourBundledServicesModuleController"}]},{pattern:"#throbber",controllers:[{controller:"cox.controller.ecomm.ThrobberController"}]},{pattern:"select.incr-menu",controllers:[{controller:"cox.controller.ecomm.ToggleIncrementsController"}]},{pattern:"#serviceAddressWidget",controllers:[{controller:"cox.controller.ShoppingAssistantController"}]},{pattern:".pane-toggle",controllers:[{controller:"cox.controller.ecomm.PanesToggleController"}]},{pattern:"#omniture-response",controllers:[{controller:"cox.controller.metrics.OmnitureTrackingController"}]},{pattern:".disable-sibling-parent",controllers:[{controller:"cox.controller.ecomm.DisableSiblingField"}]},{pattern:".carousel-current-phone",controllers:[{controller:"cox.controller.ecomm.CarouselUpdatesPhoneName"}]},{pattern:".compare-grid",controllers:[{controller:"cox.controller.interface.CompareGridController"}]},{pattern:"#ecomm-shopping-cart.biz-ecomm,#ecomm-order-review.biz-ecomm",controllers:[{controller:"cox.controller.ecomm.FancyPrintController"}]}];dojo.provide("cox.behavior.AddtoBookmarksBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.AddtoBookmarksBehavior",mojo.command.Behavior,{execute:function(c){var b=function(d){mojo.Messaging.publish("error",{title:"Bookmark This Page",text:d})};var a=navigator.appVersion.indexOf("Mac")!=-1;if(dojo.isSafari||dojo.isFF){if(a){b("You need to press Command/Cmd + D to bookmark our site.")}else{b("You need to press Ctrl + D to bookmark our site.")}}else{if(dojo.isIE&&!a){window.external.AddFavorite(location.href,document.title)}else{b("In order to bookmark this site you need to do so manually through your browser.")}}}});dojo.provide("cox.behavior.AnimateWeatherMapBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.AnimateWeatherMapBehavior",mojo.command.Behavior,{execute:function(a){var d=a.getParams();if(!d.link||!d.image){return}var g=d.image.src;var e=g.lastIndexOf(".",g.length);var f=g.lastIndexOf("/",e)+1;var k=g.substring(0,f);var b=g.substring(f,e);var h=b.substring(0,2);var c=b.substring(2,8);if(d.action=="toggle"){d.action=this._isAnimated?"stop":"start"}if(d.action=="init"){if(c=="regrad"||c=="regsat"){dojo.removeClass(d.link,"hide")}else{dojo.addClass(d.link,"hide")}}else{if(d.action=="start"){if(!this._isAnimated){if(c=="regrad"||c=="regsat"){this._isAnimated=1;d.link.innerHTML="Stop animation";this._animate(k,h+c,1,d)}}}else{if(d.action=="stop"){this._isAnimated=0;window.clearTimeout(this._timeoutId);d.image.src=k+h+c+".jpg";d.link.innerHTML="See this map in motion"}}}},_animate:function(f,e,c,h){if(!this._isAnimated){return}window.clearTimeout(this._timeoutId);if(c<10){var b="0"+c}else{b=c}var d=250;var g=f+e+"_"+b+".jpg";if(this._imgCache[g]){h.image.src=g;c=c+1;d=250;if(c>30){c=1;d=2000}this._timeoutId=window.setTimeout(dojo.hitch(this,this._animate,f,e,c,h),d)}else{var a=new Image();dojo.connect(a,"onload",window,dojo.hitch(this,this._animate,f,e,c,h));this._imgCache[g]=a;a.src=g}},_imgCache:{},_isAnimated:0});dojo.provide("cox.behavior.BlockProceedBehavior");dojo.require("mojo.command.Command");dojo.declare("cox.behavior.BlockProceedBehavior",mojo.command.Command,{onBeforeProceed:function(){},onAfterProceed:function(){},onFailProceed:function(){},execute:function(b){var a=b.getParams();if((typeof a.condition=="function"&&a.condition())||(typeof a.condition!="function"&&a.condition)){this.onBeforeProceed();b.invocation.proceed();this.onAfterProceed()}else{this.onFailProceed()}}});dojo.provide("cox.behavior.DisableBoxBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.DisableBoxBehavior",mojo.command.Behavior,{_box:null,execute:function(c){if(!this._box){this._box=mojo.queryFirst("#disablebox");if(!this._box){this._box=document.createElement("div");this._box.id="disablebox";document.body.appendChild(this._box);this._box.style.position="absolute"}}this._box.innerHTML="";if(c.getParams().show){var a=document.createElement("img");a.style.position="absolute";a.src="/ui/emergence/corp/en/img/interface/icon-loading-throbber.gif";a.style.width="16px";a.style.height="16px";if(c.getParams().target){var b=dojo.position(c.getParams().target,true);this._box.style.top=b.y+"px";this._box.style.left=b.x+"px";this._box.style.width=b.w+"px";this._box.style.height=b.h+"px";a.style.left=((b.w/2)-8)+"px";a.style.top=((b.h/2)-8)+"px";this._box.appendChild(a)}else{this._box.style.top="0px";this._box.style.left="0px";this._box.style.width="100%";this._box.style.height=(document.all)?document.body.offsetHeight+"px":"100%";a.style.left=((b.w/2)-8)+"px";a.style.top=((b.h/2)-8)+"px";this._box.appendChild(a)}this._box.style.zIndex="9999";this._box.style.display="block"}else{this._box.style.display="none"}}});dojo.provide("cox.behavior.FadeBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.FadeBehavior",mojo.command.Behavior,{onComplete:function(){},execute:function(h){var g=h.getParams();var e=g.duration||600;var d=h.getParams().element;if(!dojo.isArray(d)){d=[d]}var a=d.length;var f=this;for(var b=0;b<a;b++){var c=new Fx.Styles(d[b],{duration:e,wait:false,onComplete:function(){f.onComplete()}});if(g.mode=="fadeIn"){d[b].style.opacity=0.3;c.start({opacity:1})}else{d[b].style.opacity=0;c.start({opacity:0})}}}});dojo.provide("cox.behavior.FocusBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.FocusBehavior",mojo.command.Behavior,{execute:function(b){var a=b.getParams();if(a.target){a.target.focus()}}});dojo.provide("cox.behavior.HideTextBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.HideTextBehavior",mojo.command.Behavior,{execute:function(e){var d=e.getParams();var c=d.element;if(!dojo.isArray(c)){c=[c]}for(var b=0,a=c.length;b<a;b++){c[b].innerHTML="";if(c[b].title){c[b]._mojoTooltip=c[b].title;c[b].title=""}}}});dojo.provide("cox.behavior.HoverLayerBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.Model");dojo.declare("cox.behavior.HoverLayerBehavior",mojo.command.Behavior,{execute:function(d){var c=d.getParams();var b;var a;if(c.show){if(c.newHover){dojo.removeClass(c.hoverContainer,"show-hover");(mojo.queryFirst(".bd",c.hoverContainer)).innerHTML=c.element.innerHTML;hover_trigger_coords=dojo.position(c.element,true);c.hoverContainer.style.left=(hover_trigger_coords.x+c.xOffset)+"px";c.hoverContainer.style.top=(hover_trigger_coords.y+c.yOffset)+"px";clearTimeout(window.hoverTimein);window.hoverTimein=setTimeout(function(){dojo.addClass(c.hoverContainer,"show-hover")},c.delay)}else{clearTimeout(window.hoverTimeout)}}if(c.hide){clearTimeout(window.hoverTimeout);window.hoverTimeout=setTimeout(function(){dojo.removeClass(c.hoverContainer,"show-hover")},c.delay)}}});dojo.provide("cox.behavior.InitGlossaryLinkBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.InitGlossaryLinkBehavior",mojo.command.Behavior,{execute:function(d){var c=mojo.queryFirst("#glossary-link");if(!c){return}var b=mojo.queryFirst("#corrected-search-string")||mojo.queryFirst("#search-string");var a=b.innerHTML;a=a.replace(/[^a-zA-Z]/g,"");if(a.length>0){c.href+="#"+a[0].toLowerCase()}}});dojo.provide("cox.behavior.InitPrintPreviewBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.InitPrintPreviewBehavior",mojo.command.Behavior,{execute:function(g){var f=g.getParams();var e=f.locationWindow.location;var b=(e.search&&e.search.length>0)?dojo.queryToObject(e.search.substr(1)):{};b.print="true";var a=e.protocol+"//"+e.host+e.pathname+"?"+dojo.objectToQuery(b)+e.hash;mojo.queryFirst("iframe[name='"+f.frameName+"']",f.dialogElement).src=a;var d=$(mojo.queryFirst("#print-dialog",f.dialogElement));var c=dojo.position(f.dialogElement);d.setStyle("height",(c.h-50)+"px")}});dojo.provide("cox.behavior.InitSearchHeader");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.InitSearchHeader",mojo.command.Behavior,{execute:function(b){var a=b.getParams();if(a.countURL){dojo.xhrGet({url:a.countURL,handleAs:"json",load:function(e,d){var c=e.CategoryResults["categories"];var h=mojo.query(".browse-by-topic li > a");for(var g=0;g<h.length;g++){var k=h[g];var f=c[g]?c[g]["numResults"]:null;if(f){k.innerHTML+=" ("+f+")"}else{k.className+=" disabled"}}return e}})}}});dojo.provide("cox.behavior.InitSessionVarBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.InitSessionVarBehavior",mojo.command.Behavior,{execute:function(c){dojo.query("#pf-header .pf-titlebar-entry .pf-titlebar-icon-cart").forEach(function(d){if(!document.cookie.match("cox-cart=cbecomm_items")){d.innerHTML="View Cart";document.cookie="cox-cart="+escape("cbecomm_items")+"; path=/; domain=.cox.com"}});var b=c.getParams();var a=b.elm;console.log([sessvars]);sessvars.pageCount=sessvars.pageCount||0;if(sessvars.pageCount==0){sessvars.contentTextSize=a.style.fontSize;sessvars.wishlistArray=new Array();sessvars.bundleWishlistArray=new Array();console.log("wishlist:",sessvars.bundleWishlistArray)}sessvars.pageCount++}});dojo.provide("cox.behavior.InitToggleBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.InitToggleBehavior",mojo.command.Behavior,{execute:function(a){var f=a.getParams();f.element=$(f.element);if(!f.element){return}var b=f.controller.getValue("isOpen");var c=mojo.queryFirst(".toggle-wrapper",f.controller.getContextElement());if(!c){c=new Element("div",{"class":"toggle-wrapper",styles:$extend(f.element.getStyles("margin"),{overflow:"hidden",position:"relative",zoom:"1"})}).injectAfter(f.element).adopt(f.element);b=!(f.element.getStyle("display")=="none");f.element.setStyle("margin",0);f.element.setStyle("display","block");c.setStyle("display","block")}f.controller.setValue("isOpenOriginal",b);var d=f.id;if(d){var k=window.location.hash;if(k.length>0){k=k.substring(1)}if(k.toLowerCase()=="null"||k.toLowerCase()=="undefined"){k=""}var l=new Object();var m=k.split("&");for(var h=0;h<m.length;h++){var g=m[h].split("=");if(g.length==2){l[g[0]]=unescape(g[1])}}var e=(l.toggle||"");if(e.indexOf(d)>-1){b=!b}}f.controller.setValue("isOpen",b);if(b){if(!c.offsetHeight){c.setStyle("height","")}}else{if(c.offsetHeight){c.setStyle("height",0)}}}});dojo.provide("cox.behavior.LoadContentBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.LoadContentBehavior",mojo.command.Behavior,{execute:function(b){var a=b.getParams();if(a.href){dojo.xhrGet({url:a.href,handleAs:"json",load:function(e,d){for(var c in a.replace){var f=mojo.queryFirst(c);if(f){f.innerHTML=e[a.replace[c]]||""}if(f&a.append){f.innerHTML=f.innerHTML+a.append}}}})}}});dojo.provide("cox.behavior.PopupWindowBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.PopupWindowBehavior",mojo.command.Behavior,{execute:function(c){var b=c.getParams();if(!b.url){return}var a=window.open(b.url,b.windowName,b.windowProps);a.focus()}});dojo.provide("cox.behavior.PrintBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.PrintBehavior",mojo.command.Behavior,{execute:function(c){var b=c.getParams();if(b.target){var a=mojo.queryFirst(b.target);window.frames[a.name].focus();window.frames[a.name].print()}else{window.print()}}});dojo.provide("cox.behavior.ReconcileComparablesBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ReconcileComparablesBehavior",mojo.command.Behavior,{execute:function(f){var d=f.getParams();var a=d.mainEntries;var c=d.cartEntries;var b=true;a.each(function(k,h){var g=mojo.queryFirst("input",c[h]);g.checked=k.checked;if(k.checked){dojo.addClass(c[h],"compare-cart-item-checked");c[h].childNodes[0].disabled=false;b=false}else{dojo.removeClass(c[h],"compare-cart-item-checked");c[h].childNodes[0].disabled=true}});var e=mojo.queryFirst("#compare-empty-text");if(e){if(b){dojo.removeClass(e,"hide")}else{dojo.addClass(e,"hide")}}},onResponse:function(){}});dojo.provide("cox.behavior.ScrollBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ScrollBehavior",mojo.command.Behavior,{execute:function(d){var c=d.getParams();if(window.getSelection){window.getSelection().removeAllRanges()}var b=c.victim;var a=function(){if(c.amount){var f=c.amount;var h=c.caller.className.split(" ");for(var e=0;e<h.length;e++){if(h[e]=="up"){f*=-1;break}}b.scrollTop+=f}var g;for(var e=0;e<b.childNodes.length;e++){if(b.childNodes[e].tagName){g=b.childNodes[e];break}}if(g.offsetHeight-b.scrollTop<b.clientHeight){b.scrollTop=g.offsetHeight-b.clientHeight}};if(c.hold){window.clearInterval(c.caller.repeatInterval);c.caller.repeatInterval=(c.amount)?window.setInterval(a,c.repeatRate):""}else{a()}}});dojo.provide("cox.behavior.SetHomepageBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.SetHomepageBehavior",mojo.command.Behavior,{execute:function(g){var f=function(h){mojo.Messaging.publish("error",{title:"Make This My Home",text:h})};var b=navigator.appVersion.indexOf("Mac")!=-1;var e=navigator.appVersion.indexOf("Chrome")!=-1;var a="To make My Connection your home page, follow these quick and easy steps:";if(dojo.isFF){if(b){f(a+"<ol><li>Click on Firefox and select Preferences</li><li>Select the Main tab on the left</li><li>Type www.cox.com/myconnection next to Home Page</li><li>Close the Preferences window</li></ol>")}else{f(a+"<ol><li>Click on Tools and select Options</li><li>Click the Main tab</li><li>Type www.cox.com/myconnection next to Home Page</li><li>Click OK</li></ol>")}}else{if(dojo.isSafari){if(b){f(a+"<ol><li>Click on Safari and select Preferences</li><li>Click the General tab</li><li>Type www.cox.com/myconnection next to Home Page</li><li>Click OK</li></ol>")}else{f(a+"<ol><li>Click on Edit and select Preferences</li><li>Click the General tab</li><li>Type www.cox.com/myconnection next to Home Page</li><li>Close the Preferences window</li></ol>")}}else{if(e){f(a+'<ol><li>Click on the "wrench" icon in the upper right hand corner of your browser and select Options</li><li>Click the Basics tab</li><li>Under the Home page section, type www.cox.com/myconnection next to Open this page</li><li>Click Close</li></ol>')}else{if(dojo.isIE&&!b){try{var d=mojo.queryFirst("#bookmark_widget a");d.style.behavior="url(#default#homepage)";d.setHomePage("http://www.cox.com/myconnection")}catch(c){f("We are unable to set your home page due to your system settings.")}}else{f("If you'd like to make My Connection your home page, please use your browser's Help section.")}}}}}});dojo.provide("cox.behavior.StoreLoginCookieBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.query");dojo.declare("cox.behavior.StoreLoginCookieBehavior",mojo.command.Behavior,{execute:function(h){var g=h.getParams();if(!g.form){return}var f={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(m){var k="";var u,r,p,t,q,o,n;var l=0;m=f._utf8_encode(m);while(l<m.length){u=m.charCodeAt(l++);r=m.charCodeAt(l++);p=m.charCodeAt(l++);t=u>>2;q=((u&3)<<4)|(r>>4);o=((r&15)<<2)|(p>>6);n=p&63;if(isNaN(r)){o=n=64}else{if(isNaN(p)){n=64}}k=k+this._keyStr.charAt(t)+this._keyStr.charAt(q)+this._keyStr.charAt(o)+this._keyStr.charAt(n)}return k},decode:function(m){var k="";var u,r,p;var t,q,o,n;var l=0;m=m.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(l<m.length){t=this._keyStr.indexOf(m.charAt(l++));q=this._keyStr.indexOf(m.charAt(l++));o=this._keyStr.indexOf(m.charAt(l++));n=this._keyStr.indexOf(m.charAt(l++));u=(t<<2)|(q>>4);r=((q&15)<<4)|(o>>2);p=((o&3)<<6)|n;k=k+String.fromCharCode(u);if(o!=64){k=k+String.fromCharCode(r)}if(n!=64){k=k+String.fromCharCode(p)}}k=f._utf8_decode(k);return k},_utf8_encode:function(l){l=l.replace(/\r\n/g,"\n");var k="";for(var o=0;o<l.length;o++){var m=l.charCodeAt(o);if(m<128){k+=String.fromCharCode(m)}else{if((m>127)&&(m<2048)){k+=String.fromCharCode((m>>6)|192);k+=String.fromCharCode((m&63)|128)}else{k+=String.fromCharCode((m>>12)|224);k+=String.fromCharCode(((m>>6)&63)|128);k+=String.fromCharCode((m&63)|128)}}}return k},_utf8_decode:function(k){var l="";var m=0;var n=c1=c2=0;while(m<k.length){n=k.charCodeAt(m);if(n<128){l+=String.fromCharCode(n);m++}else{if((n>191)&&(n<224)){c2=k.charCodeAt(m+1);l+=String.fromCharCode(((n&31)<<6)|(c2&63));m+=2}else{c2=k.charCodeAt(m+1);c3=k.charCodeAt(m+2);l+=String.fromCharCode(((n&15)<<12)|((c2&63)<<6)|(c3&63));m+=3}}}return l}};var d=new Date();d.setTime(d.getTime()+(365*24*60*60*1000));var c="; expires="+d.toGMTString();var b="; expires="+new Date(0).toGMTString();var a=mojo.queryFirst("input[name='rememberme']",g.form);var e=mojo.queryFirst("input[name='username']",g.form).value;if(a.checked==true){if(navigator.cookieEnabled){document.cookie="cox-rememberme-user="+f.encode(e)+c+"; path=/"}}else{document.cookie="cox-rememberme-user="+f.encode(e)+b+"; path=/"}}});dojo.provide("cox.behavior.SwapElementDisplay");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.SwapElementDisplay",mojo.command.Behavior,{execute:function(b){var a=b.controllerObj.params;dojo.forEach(a.displayBlockSelectors._value,function(e,d){var c=mojo.queryFirst(e,b.getContextElement());var f=mojo.query(".required-disabled",c);for(d=0;d<f.length;d++){f[d].className=f[d].className.replace("required-disabled","required")}c.style.display="block"});dojo.forEach(a.displayNoneSelectors._value,function(e,d){var c=mojo.queryFirst(e,b.getContextElement());var f=mojo.query(".required",c);for(d=0;d<f.length;d++){f[d].className=f[d].className.replace("required","required-disabled")}c.style.display="none"})},onResponse:function(){}});dojo.provide("cox.behavior.ToolTipBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.Model");dojo.declare("cox.behavior.ToolTipBehavior",mojo.command.Behavior,{_tooltip:null,_tooltipInfo:null,_lastCaller:null,_iframe:null,_timeout:null,execute:function(b){var g=b.getParams();try{window.clearTimeout(this._timeout)}catch(l){}if(g.anchorX==="cursor"&&typeof g._mouseX=="undefined"){g._mouseX=b.eventObj.pageX}if(g.anchorY==="cursor"&&typeof g._mouseY=="undefined"){g._mouseY=b.eventObj.pageY}if(g.delay){var h=g.delay;g.delay=0;this._timeout=window.setTimeout(dojo.hitch(this,this.execute,b),h);return}if(b.getParams().show){var d=g.template||'<div class="tooltip"><div class="dialog-pane-content"></div><div class="tooltip-arrow"></div></div>';if(!g.offsetX){g.offsetX=0}if(!g.offsetY){g.offsetY=0}if(dojo.isIE){if(!this._iframe){this._iframe=document.createElement("iframe");this._iframe.id="tooltipIFrame";this._iframe.frameBorder="0";this._iframe.style.zIndex=9998;this._iframe.style.overflow="hidden";this._iframe.style.position="absolute";this._iframe.scrolling="no";document.body.appendChild(this._iframe)}else{this._iframe=mojo.queryFirst("#tooltipIFrame")}}if(!this._tooltip){this._tooltip=mojo.queryFirst("#tooltip");if(!this._tooltip){this._tooltip=document.createElement("div");this._tooltip.id="tooltip";this._tooltip.style.zIndex=9999;this._tooltip.style.position="absolute";document.body.appendChild(this._tooltip)}}this._tooltip.innerHTML=d;this._tooltipInfo=g.info||b.getCaller()._mojoTooltip||b.getCaller().getAttribute("title");if(this._tooltipInfo){b.getCaller().setAttribute("title","");var k=mojo.queryFirst(".dialog-pane-content",this._tooltip);k.innerHTML=this._tooltipInfo}this._lastCaller=b.getCaller();if(this._tooltipInfo){dojo.style(this._tooltip,"display","block");var c=dojo.position(this._tooltip,true);var n=dojo.position(b.getCaller(),true);this._tooltip.style.left=((g.anchorX==="cursor"?g._mouseX:n.x)+g.offsetX)+"px";this._tooltip.style.top=((g.anchorY==="cursor"?g._mouseY:n.y)+g.offsetY)+"px";var a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;if(!dojo.isIE&&dojo.hasClass(b.callerObj,"watch-tooltip")&&dojo.coords(this._tooltip).t+dojo.coords(mojo.queryFirst(".wrapper",this._tooltip)).h>window.scrollY+a){var f=dojo.coords(this._tooltip).t;this._tooltip.style.top=dojo.coords(this._tooltip).t+(a-(dojo.coords(this._tooltip).t+dojo.coords(mojo.queryFirst(".wrapper",this._tooltip)).h))+window.scrollY+"px";mojo.queryFirst("div[class$='arrow']",this._tooltip).style.top=dojo.coords(mojo.queryFirst("div[class$='arrow']",this._tooltip),true).t+(f-dojo.coords(this._tooltip).t)+"px"}var m=g.underlayMark?mojo.queryFirst(g.underlayMark,this._tooltip):this._tooltip;var o=dojo.position(m,true);if(dojo.isIE){this._iframe.style.width=o.w+"px";this._iframe.style.height=o.h+"px";this._iframe.style.top=o.y+"px";this._iframe.style.left=o.x+"px";this._iframe.style.filter="alpha(opacity=0)";dojo.style(this._iframe,"display","block")}}}else{if(this._iframe){dojo.style(this._iframe,"display","none")}if(this._tooltip){dojo.style(this._tooltip,"display","none")}}}});dojo.provide("cox.behavior.business.ArrowButtonBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.ArrowButtonBehavior",mojo.command.Behavior,{onComplete:function(){},execute:function(e){var d=e.getParams();var a=d.element;var c=d.mode;var b=d.which;if(b=="toolbelt"){dojo.stopEvent(e.getEvent());a.style.background="none";if(d.show){if(dojo.isIE==6){a.style.background="url(/img/interface/filmstrip/"+c+"_circle.gif)"}else{a.style.background="url(/img/interface/filmstrip/"+c+"_circle.png)"}}else{if(dojo.isIE==6){a.style.background="url(/img/interface/filmstrip/"+c+"_blue.gif)"}else{a.style.background="url(/img/interface/filmstrip/"+c+"_blue.png)"}}}else{dojo.stopEvent(e.getEvent());a.style.background="none";if(d.show){if(dojo.isIE==6){a.style.background="url(/ui/emergence/corp/en/img/interface/rounded-buttons/blue-circle-"+c+"-hover.gif)"}else{a.style.background="url(/ui/emergence/corp/en/img/interface/rounded-buttons/blue-circle-"+c+"-hover.png)"}}else{if(dojo.isIE==6){a.style.background="url(/ui/emergence/corp/en/img/interface/rounded-buttons/blue-circle-"+c+".gif)"}else{a.style.background="url(/ui/emergence/corp/en/img/interface/rounded-buttons/blue-circle-"+c+".png)"}}}this.onComplete()}});dojo.provide("cox.behavior.business.CheckCheckedBoxBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.CheckCheckedBoxBehavior",mojo.command.Behavior,{execute:function(e){var b=mojo.query("input",mojo.queryFirst("#discuss-my-list"));var d=sessvars.wishlistArray;var c=false;for(i=0;i<b.length;i++){if(b[i].checked!=true){for(j=0;j<d.length;j++){if(d[j].id==b[i].id){sessvars.wishlistArray.splice(j,1)}}}else{for(j=0;j<d.length;j++){if(d[j].id==b[i].id){c=true}}if(!c){var a=new Object();a.id=b[i].id;a.name=b[i].name;a.value=b[i].value;a.label=b[i].id;sessvars.wishlistArray.push(a)}c=false}}}});dojo.provide("cox.behavior.business.InitKeepForConsiderationBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.InitKeepForConsiderationBehavior",mojo.command.Behavior,{execute:function(c){var a=mojo.query("#discuss-my-list input");var b=sessvars.wishlistArray;if(sessvars.wishlistArray.length!=0){for(j=0;j<sessvars.wishlistArray.length;j++){for(i=0;i<a.length;i++){if(sessvars.wishlistArray[j].id==a[i].id){a[i].checked="true"}}}}}});dojo.provide("cox.behavior.business.PopulateFromWishlistBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.PopulateFromWishlistBehavior",mojo.command.Behavior,{execute:function(e){var d=e.getParams();var a=sessvars.wishlistArray||[];for(var b=0;b<a.length;b++){var c=mojo.queryFirst("input[type='checkbox'][value='"+a[b].id+"']",d.formElement);if(c){c.checked=true}}}});dojo.provide("cox.behavior.business.WarpBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.WarpBehavior",mojo.command.Behavior,{onComplete:function(){},execute:function(b){var d=b.getParams();var c=d.element;var f=mojo.queryFirst(".toggle-button");var l=mojo.queryFirst(".filmstrip-content");var n=mojo.queryFirst(".filmstrip-component");var m=mojo.queryFirst(".toggle-label-open");var g=mojo.queryFirst(".toggle-label-closed");var k=mojo.queryFirst(".module .ft a.toggle-button span");var h=mojo.queryFirst("#content div.bd");var a=mojo.queryFirst(".filmstrip-prev");var e=mojo.queryFirst(".filmstrip-next");if(d.warp){n.warpHeight=dojo.position(n).h-40;c.warpHeight=dojo.position(c).h;f.title="See less";n.style.height="auto";c.style.height="auto";c.style.cssFloat="none";c.style.styleFloat="none";l.style.position="relative";l.style.zoom="1";l.style.width="auto";dojo.addClass(l,"clearfix");g.style.display="none";m.style.display="inline";a.style.display="none";e.style.display="none";k.className="ico-toggled"}else{f.title="See more";n.style.height=(n.warpHeight||"153")+"px";c.style.height=(c.warpHeight||"153")+"px";c.style.cssFloat="";c.style.styleFloat="";l.style.position="";l.style.width="10000px";h.style.overflow="";g.style.display="inline";m.style.display="none";a.style.display="block";e.style.display="block";k.className="ico"}this.onComplete()}});dojo.provide("cox.behavior.ecomm.ByobAccordion");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ecomm.ByobAccordion",mojo.command.Behavior,{execute:function(d){var c=d.getParams();var a=c.chosenPane;if(!a||dojo.hasClass(a,"open-pane")){return}dojo.addClass(a.parentNode,"animating");var b=mojo.queryFirst(".open-pane",a.parentNode);dojo.animateProperty({node:b,duration:600,easing:function(e){if(e==0){return 0}if(e==1){return 1}e=e*2;if(e<1){return Math.pow(2,10*(e-1))/2}--e;return(-1*Math.pow(2,-10*e)+2)/2},onAnimate:function(){b.setStyle("width",Math.floor(c.to-(this._getStep()*c.to)));a.setStyle("width",Math.floor(this._getStep()*c.to))},onEnd:function(){dojo.addClass(a.parentNode,"animating");dojo.removeClass(a.parentNode,"animating");dojo.removeClass(b,"open-pane");dojo.addClass(a,"open-pane");if((a.id=="pane-intro")||(b.id=="pane-intro")){mojo.Messaging.publish("/toggle/force",{toggle:(a.id!="pane-intro")?["ecomm-accordion-overview","ecomm-accordion-legend"]:[]})}}}).play()}});dojo.provide("cox.behavior.ecomm.CalendarPositionBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ecomm.CalendarPositionBehavior",mojo.command.Behavior,{execute:function(h){var f=h.getParams();var b=mojo.queryFirst(".calendar-component");if(!b){return}var g={};var c;if(typeof window.innerWidth!="undefined"){g.w=window.innerWidth;g.h=window.innerHeight;c=window.pageYOffset+window.innerHeight}else{if(typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth!=0){g.w=document.documentElement.clientWidth,g.h=document.documentElement.clientHeight;c=document.documentElement.scrollTop+document.documentElement.clientHeight}}var a=dojo.position(b,true);var d=Math.round(c-(g.h/2)-(a.h/2));var e=Math.round((g.w/2)-(a.w/2));console.debug(a);console.debug(g);b.style.top=d+"px";b.style.left=e+"px"}});dojo.provide("cox.behavior.ecomm.CalendarScheduleBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ecomm.CalendarScheduleBehavior",mojo.command.Behavior,{execute:function(b){var a=b.getParams();a.value.innerHTML=a.scheduled_time}});dojo.provide("cox.behavior.ecomm.PopupBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.query");dojo.declare("cox.behavior.ecomm.PopupBehavior",mojo.command.Behavior,{execute:function(h){var f=h.getParams();if(!mojo.query("#ecom-popup").length){var d=dojo.doc.createElement("div");dojo.place(d,"container","after");d.id="ecom-popup";d.innerHTML="<span class='top'><span class='left'></span><span class='right'></span></span><div class='content'><span class='left'></span><span class='right'></span><a href='#' class='close' title='Close me'>Close me</a><div id='ecom-popup-content'></div></div><span class='bottom'><span class='left'></span><span class='right'></span></span>";var a=dojo.doc.createElement("div");dojo.place(a,"ecom-popup","after");a.id="white-out"}else{var d=mojo.queryFirst("#ecom-popup");var a=mojo.queryFirst("#white-out")}dojo.query(".close",d).onclick(function(k){d.style.display="none";a.style.display="none";dojo.stopEvent(k)});var g=mojo.queryFirst("html").scrollHeight;var c=mojo.queryFirst("#ecom-popup-content",d);var e=f.caller.rel;var b=mojo.queryFirst("#"+e).innerHTML;c.innerHTML=b;a.style.height=g+"px";if(mojo.queryFirst("#"+e).className=="popup-container size-500"){mojo.queryFirst("#ecom-popup").style.marginLeft="-275px";mojo.queryFirst("#ecom-popup .content").style.width="460px"}else{mojo.queryFirst("#ecom-popup").style.marginLeft="-475px";mojo.queryFirst("#ecom-popup .content").style.width="750px";mojo.queryFirst("#ecom-popup .content").style.height=mojo.queryFirst("#ecom-popup .content").scrollHeight+"px"}a.style.display="block";d.style.display="block";dojo.stopEvent(h.getEvent())}});dojo.provide("cox.behavior.ecomm.PopupDisplayBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.query");dojo.declare("cox.behavior.ecomm.PopupDisplayBehavior",mojo.command.Behavior,{_iframe:null,_whiteout:null,execute:function(a){var g=a.paramsObj.element;var f=a.paramsObj.action;var l=a.paramsObj.cssClass;if(g){switch(f){case"add":dojo.addClass(document.body,"ecomm-popup-activated");var k,e,c=0;var b;var d=mojo.queryFirst("div.main div",g);if(window.innerHeight&&window.scrollMaxY){k=window.innerHeight+window.scrollMaxY}else{if(document.body.scrollHeight>document.body.offsetHeight){k=document.body.scrollHeight}else{k=document.body.offsetHeight}}if(self.innerHeight){b=self.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){b=document.documentElement.clientHeight}else{if(document.body){b=document.body.clientHeight}}}if(self.pageYOffset){e=self.pageYOffset}else{if(document.documentElement.scrollTop){e=document.documentElement.scrollTop}else{e=document.body.scrollTop}}if(g.parentNode.tagName!="BODY"){c-=g.parentNode.offsetTop}if(!this._whiteout){this._whiteout=mojo.queryFirst("#white-out")}if(k<b){this._whiteout.style.height=b+"px"}else{this._whiteout.style.height=k+"px"}this._whiteout.style.display="block";dojo.addClass(g,l);var h=(d.clientHeight||d.offsetHeight);if(h>b){d.style.height=(b/2)+"px"}if(!dojo.hasClass(g,"ecomm-popup-small-form")){popupTop=((e+b/2)-(g.clientHeight/2));if((popupTop<0)||(b<g.clientHeight)){popupTop=e+35}popupTop+=c}if(typeof(popupTop)!="undefined"){g.style.top=popupTop+"px"}if(dojo.isIE){if(!this._iframe){this._iframe=document.createElement("iframe");this._iframe.id="popupIFrame";this._iframe.frameBorder="0";this._iframe.src="javascript:false";this._iframe.style.overflow="hidden";this._iframe.style.position="absolute";this._iframe.style.left=g.offsetLeft;this._iframe.style.top=g.offsetTop;this._iframe.style.width=g.offsetWidth;this._iframe.style.height=g.offsetHeight;this._iframe.style.filter="progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)";this._iframe.scrolling="no";document.body.appendChild(this._iframe)}else{this._iframe=mojo.queryFirst("#popupIFrame")}}break;case"remove":dojo.removeClass(document.body,"ecomm-popup-activated");if(!this._whiteout){this._whiteout=mojo.queryFirst("#white-out")}this._whiteout.style.display="none";dojo.removeClass(g,l);if(dojo.isIE){document.body.removeChild(this._iframe);this._iframe=null}break}}},onResponse:function(){}});dojo.provide("cox.behavior.ecomm.SendFocusBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ecomm.SendFocusBehavior",mojo.command.Behavior,{execute:function(c){var a=c.paramsObj.element;var b=c.paramsObj.target;b.focus()}});dojo.provide("cox.behavior.ecomm.SubmitOnEnterBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ecomm.SubmitOnEnterBehavior",mojo.command.Behavior,{execute:function(d){var c=d.eventObj;var a=d.paramsObj.element.form;var b;if(c&&c.which){c=c;b=c.which}else{c=event;b=c.keyCode}if(b==13){this.onResponse();return false}else{return true}},onResponse:function(){__doPostBack("ctl00$ContentPlaceHolder1$PromoCodeControl$ApplyPromoCodeLinkButton","")}});dojo.provide("cox.behavior.ecomm.ToggleIncrementsBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ecomm.ToggleIncrementsBehavior",mojo.command.Behavior,{execute:function(g){var f=g.getParams();var a=f.contextElement.id;var c=mojo.queryFirst("#"+a+"-incr");var d=mojo.query(".incr",c);var b=f.contextElement.selectedIndex;var e=new RegExp("incr-[0-"+Number(b)+"]");for(i=0;i<d.length;i++){if(e.test(d[i].className)){dojo.removeClass(d[i],"incr-hide")}else{dojo.addClass(d[i],"incr-hide")}}}});dojo.provide("cox.behavior.ecomm.ValidatePromoCodeBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.query");dojo.declare("cox.behavior.ecomm.ValidatePromoCodeBehavior",mojo.command.Behavior,{_iframe:null,_whiteout:null,execute:function(f){var e=f.paramsObj.element;var d=f.paramsObj.errorField;if(e==null||typeof e=="undefined"){throw new Error("ERROR cox.behavior.ecomm.ValidatePromoCodeBehavior - element parameter is required")}else{if(typeof e=="object"){if(e.length>0){for(var a=0;a<e.length;a++){if(typeof e[a]!="object"){throw new Error("ERROR cox.behavior.ecomm.ValidatePromoCodeBehavior - element parameter is not an array of type Object");break}}}}else{throw new Error("ERROR cox.behavior.ecomm.ValidatePromoCodeBehavior - element parameter is not a type Object")}}var c=/^[A-Z][0-9]{6}$/i;if(e.value){var b=e.value;if(!b.match(c)){d.innerHTML="Sorry, "+b+" is not a valid promo code. Please try again."}else{if(b.toUpperCase()=="D039284"){d.innerHTML="Sorry, promo code "+b+" cannot be applied in the same order as promo code E259264."}else{if(b.toUpperCase()=="D039285"){d.innerHTML="Sorry, promo code "+b+" has expired and is no longer valid."}else{d.innerHTML=""}}}}},onResponse:function(){}});dojo.provide("cox.behavior.interface.AjaxBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.AjaxBehavior",mojo.command.Behavior,{execute:function(h){var g=h.getParams();var d=g.responseContainer;var c=g.loadingWrapperId;var f=g.activeLink;var b=(typeof(ajaxTimeout)!="undefined")?ajaxTimeout:"20000";if(typeof(f)!="undefined"){mojo.Messaging.publish("/throbber",{status:true,id:c});var a=function(k){d.innerHTML=k;mojo.Messaging.publish("remapControllers");mojo.Messaging.publish("/throbber",{status:false,id:c})};var e=function(){d.innerHTML="<div class='msgError'><p>We're sorry, we can't find this part of the page right now.</p></div>";mojo.Messaging.publish("/throbber",{status:false,id:c})};dojo.xhrGet({url:f,handleAs:"text",timeout:b,preventCache:true,load:a,error:e})}},onResponse:function(){}});dojo.provide("cox.behavior.interface.CompareGridBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.CompareGridBehavior",mojo.command.Behavior,{execute:function(d){var b=d.getCaller();var a=d.getController();if(dojo.hasClass(b,"prev")&&(a.getValue("curStartPosition")>a.getValue("minPosition"))){a.setValue("curStartPosition",a.getValue("curStartPosition")-1);a.setValue("curEndPosition",a.getValue("curEndPosition")-1)}if(dojo.hasClass(b,"next")&&(a.getValue("curStartPosition")<a.getValue("maxPosition"))){a.setValue("curStartPosition",a.getValue("curStartPosition")+1);a.setValue("curEndPosition",a.getValue("curEndPosition")+1)}if(a.getValue("curStartPosition")<a.getValue("minPosition")){a.setValue("curStartPosition",a.getValue("minPosition"));a.setValue("curEndPosition",a.getValue("curStartPosition")+dojo.query(".compare-options col").length)}if(a.getValue("curStartPosition")>a.getValue("maxPosition")){a.setValue("curStartPosition",a.getValue("maxPosition"));a.setValue("curEndPosition",a.getValue("curStartPosition")+dojo.query(".compare-options col").length)}dojo.query(".compare-buttons a").removeClass("disabled");if(a.getValue("curStartPosition")==a.getValue("minPosition")){dojo.query(".compare-buttons a.prev").addClass("disabled")}if(a.getValue("curStartPosition")==a.getValue("maxPosition")){dojo.query(".compare-buttons a.next").addClass("disabled")}dojo.query(".compare-table tr > *").forEach(function(e){dojo.addClass(e,"hide")});for(var c=0;c<dojo.query(".compare-static col").length;c++){dojo.query(".compare-table tr > *:nth-child("+(c+1)+")").forEach(function(e){dojo.removeClass(e,"hide")})}for(var c=a.getValue("curStartPosition");c<a.getValue("curEndPosition");c++){dojo.query(".compare-table tr > *:nth-child("+(c+1)+")").forEach(function(e){dojo.removeClass(e,"hide")})}}});dojo.provide("cox.behavior.interface.ParseRotatorXMLBehavior");dojo.require("mojo.command.Command");dojo.declare("cox.behavior.interface.ParseRotatorXMLBehavior",mojo.command.Command,{execute:function(g){var f=g.getParams();var e=new Object();var b=new Array();a(f.xml);function a(h){if(h){dojo.forEach(h.attributes,function(m,l,k){e[m.nodeName]=m.nodeValue});dojo.forEach(h.childNodes,function(n,m,l){if(n.nodeName=="image"){var k=new Object();dojo.forEach(n.attributes,function(o,q,p){k[o.nodeName]=o.nodeValue});b.push(k)}});e.rotatorType=="emergence"?c():d()}}function c(){dojo.forEach(b,function(m,k,h){var o="";if(m.path.indexOf(".swf")==-1){m.backgroundURL?o+='<div class="rotator-slide addPointer" href="'+m.backgroundURL+'"style="background-image:url('+m.path+');">':o+='<div class="rotator-slide" style="background-image:url('+m.path+')">'}else{m.backgroundURL?o+='<div class="rotator-slide addPointer" href="'+m.backgroundURL+'">':o+='<div class="rotator-slide">';o+='<embed style="position:absolute; z-index:0;" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" width="784" height="310" src="'+m.path+'" wmode="transparent"></embed>'}o+="<h2>"+m.headerText+"</h2><h3>"+m.subHeaderText+"</h3>";if(m.link1Text||m.link2Text||m.link3Text){o+='<div id="action-links" class="removePointer">'}if(m.link1Text){o+='<a class="rounded" href="'+m.link1URL+'" ><span>'+m.link1Text+"</span></a>"}if(m.link2Text){o+='<a class="rounded" href="'+m.link2URL+'" ><span>'+m.link2Text+"</span></a>"}if(m.link3Text){o+='<a class="rounded" href=" '+m.link3URL+'" ><span>'+m.link3Text+"</span></a>"}if(m.link1Text||m.link2Text||m.link3Text){o+='</div">'}o+="</div>";var l=dojo.query("#main-rotator").addClass(e.background);var n=dojo.query("#rotator-carousel").addContent(o)})}function d(){dojo.forEach(b,function(m,k,h){var o="";o+='<div class="rotator-slide addPointer" href="'+m.ImageURL+'"><img id="rotator-pic-link" src="'+m.path+'" /><div><h2>'+m.headerText+"</h2><h3>"+m.subHeaderText+'</h3><img src="/ui/emergence/corp/en/img/interface/rotator/hairlineDivider.png" /><p>'+m.description+' <a href="'+m.link1URL+'">'+m.link1Text+' ></a></p></div><a href="'+m.link2URL+'" class="rounded"><span>'+m.link2Text+"</span></a>";o+="</div>";var l=dojo.query("#main-rotator").addClass(e.background);var n=dojo.query("#rotator-carousel").addContent(o)})}}});dojo.provide("cox.behavior.interface.RotatorControlsBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.RotatorControlsBehavior",mojo.command.Behavior,{__rotatorInterval:null,__timer:null,__loop:true,execute:function(d){var c=d.getParams();this.__timer=c.timer;this.__loop=c.loop;var b=dojo.query(".rotator-slide");var a=b[b.length-1];switch(c.control){case"prev":if(!c.xmlError){this.previousView(a)}break;case"play":if(!c.xmlError){this.playView()}break;case"pause":if(!c.xmlError){this.pauseView()}break;case"next":if(!c.xmlError){this.nextView()}break}},previousView:function(a){dojo.query("#rotator-carousel").addContent(a,"first");dojo.animateProperty({node:dojo.byId("rotator-carousel"),duration:"1000",properties:{left:{start:(-1*dojo.position(dojo.byId("main-rotator")).w),end:"0"}}}).play()},nextView:function(){dojo.animateProperty({node:dojo.byId("rotator-carousel"),duration:"1000",properties:{left:{start:"0",end:(-1*dojo.position(dojo.byId("main-rotator")).w)}},onEnd:function(){var a=dojo.query(".rotator-slide");var b=a[0];dojo.query("#rotator-carousel").addContent(b,"last").style({left:"0"})}}).play()},playView:function(){dojo.style("play","display","none");dojo.style("pause","display","block");if(this.__loop){this.__rotatorInterval=setInterval(this.nextView,this.__timer*3000)}},pauseView:function(){dojo.style("pause","display","none");dojo.style("play","display","block");if(this.__rotatorInterval){clearInterval(this.__rotatorInterval)}}});dojo.provide("cox.behavior.interface.RoundedCornersBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.RoundedCornersBehavior",mojo.command.Behavior,{execute:function(e){var d=e.getParams();if(!d.target){throw new Error("Must have a target DOM element")}settings={tl:{radius:d.tl},tr:{radius:d.tr},bl:{radius:d.bl},br:{radius:d.br},antiAlias:d.antiAlias,autoPad:d.autoPad,validTags:d.validTags};var b=mojo.query(".rounded-box",target);for(var a=0;a<b.length;a++){var c=new curvyCorners(settings,b[a]);c.applyCornersToAll()}}});dojo.provide("cox.behavior.interface.XMLLoaderBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.XMLLoaderBehavior",mojo.command.Behavior,{execute:function(h){var g=h.getParams();var c=g.responseContainer;var b=g.url;var a="20000";var f=this;var e=function(k){k.documentElement.tagName=="parsererror"?d("***  There was a parse error on the xml response, might be bad xml ***"):f.xmlLoaded(k)};var d=function(k){f.writeToConsole(k);c.innerHTML="<div class='msgError default-rotator-dimensions'><p> We're sorry, we can't find this part of the page right now.</p></div>";mojo.Messaging.publish("errorLoadingXML")};dojo.xhrGet({url:b,handleAs:"xml",timeout:a,preventCache:true,load:e,error:d})},xmlLoaded:function(a){mojo.Messaging.publish("loadedSuccessfulXML",a)},writeToConsole:function(a){console.log("XMLLoaderBehavior ERROR:  "+a)}});dojo.provide("cox.behavior.interface.form.DatePickerBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.DatePickerBehavior",mojo.command.Behavior,{execute:function(d){var c=d.getParams().element;this.dayChars=1;this.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];this.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31];this.format="mm/dd/yyyy";this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];this.startDay=7;this.yearStart=(new Date().getFullYear());this.monthsAhead=3;if(c.value!=""){c.then=new Date(c.value);c.today=new Date()}else{c.then=c.today=new Date()}c.oldYear=c.year=c.then.getFullYear();c.oldMonth=c.month=c.then.getMonth();c.oldDay=c.then.getDate();c.nowYear=c.today.getFullYear();c.nowMonth=c.today.getMonth();c.nowDay=c.today.getDate();var a=new Date(c.today.getFullYear(),c.today.getMonth(),c.today.getDate());var b=(this.monthsAhead+1)*31;todayPlusDays=(typeof dpTodayPlusDays!="undefined")?dpTodayPlusDays:0;daysToDueDate=(typeof dpDaysToDueDate!="undefined")?dpDaysToDueDate:b;plusDays=(typeof dpPlusDays!="undefined")?dpPlusDays:b;disableWeekends=(typeof dpDisableWeekends!="undefined")?dpDisableWeekends:false;this.dueDate=new Date(a.setDate(a.getDate()+daysToDueDate));this.endDate=new Date(a.setDate(a.getDate()+plusDays));if(c.alt){options=Json.evaluate(c.alt)}else{options=[]}c.options={monthNames:(options.monthNames&&options.monthNames.length==12?options.monthNames:this.monthNames)||this.monthNames,daysInMonth:(options.daysInMonth&&options.daysInMonth.length==12?options.daysInMonth:this.daysInMonth)||this.daysInMonth,dayNames:(options.dayNames&&options.dayNames.length==7?options.dayNames:this.dayNames)||this.dayNames,startDay:options.startDay||this.startDay,dayChars:options.dayChars||this.dayChars,format:options.format||this.format,yearStart:options.yearStart||this.yearStart,monthsAhead:options.monthsAhead||this.monthsAhead};c.readonly=true;c.container=false;c.calendar=false;c.interval=null;c.active=false;c.onclick=c.onfocus=this.create.pass(c,this)},create:function(f){if(f.calendar){return false}var p=dojo.position(f,true);f.container=dojo.create("div",{"class":"dp_container"},dojo.body());dojo.style(f.container,"left",(p.x)+"px");dojo.style(f.container,"top",(p.y+p.h)+"px");f.container.onmouseover=f.onmouseover=function(){clearTimeout(f.interval);clearInterval(f.interval)};f.container.onmouseout=f.onmouseout=dojo.hitch(this,function(){f.interval=setInterval(dojo.hitch(this,function(){if(!f.active){this.remove(f)}}),500)});var r=dojo.create("div",{"class":"dp_header"},f.container);var o=dojo.create("div",{"class":"dp_main"},f.container);var d=dojo.create("div",{"class":"dp_footer"},f.container);f.calendar=dojo.create("div",{"class":"dp_cal"},o);var e=new Date();if((typeof f.month!="undefined")&&(typeof f.year!="undefined")){e.setFullYear(f.year,f.month,1)}else{f.month=e.getMonth();f.year=e.getFullYear();e.setDate(1)}f.year%4==0?f.options.daysInMonth[1]=29:f.options.daysInMonth[1]=28;var b=(1-(7+e.getDay()-f.options.startDay)%7);var g=dojo.create("a",{"class":"dp_prevmonth",href:"#"});var k=dojo.create("a",{"class":"dp_nextmonth",href:"#"});var a=dojo.create("h6",{"class":"dp_currentmonth",innerHTML:f.options.monthNames[f.month]+" "+f.year});calTable=dojo.create("table");calTableThead=dojo.create("thead");calSelRow=dojo.create("tr");calSelCell=dojo.create("th",{colspan:"7"});if(dojo.isIE){calSelCell.setAttribute("colSpan",7)}var c=new Date();var l=c.getFullYear();var m=c.getMonth();if(l*12+m<+f.year*12+ +f.month){dojo.place(g,calSelCell)}if(l*12+m+f.options.monthsAhead>+f.year*12+ +f.month){dojo.place(k,calSelCell)}dojo.place(a,calSelCell);dojo.place(calSelCell,calSelRow);dojo.place(calSelRow,calTableThead);calTableTbody=dojo.create("tbody");calDayNameRow=dojo.create("tr");for(var h=0;h<f.options.dayNames.length;h++){calDayNameCell=dojo.create("th",{innerHTML:f.options.dayNames[(f.options.startDay+h)%7].substr(0,f.options.dayChars)});dojo.place(calDayNameCell,calDayNameRow)}dojo.place(calDayNameRow,calTableTbody);while(b<=f.options.daysInMonth[f.month]){calDayRow=dojo.create("tr");f.nowDay=(c.getDate()+todayPlusDays);var n=new Date(f.nowYear,f.nowMonth,f.nowDay);for(h=0;h<7;h++){var q=new Date(f.year,f.month,b);if(q.getTime()-this.dueDate.getTime()==0){dojo.addClass(calDayCell,"dp_dueDate")}if((b<=f.options.daysInMonth[f.month])&&(b>0)){calDayCell=dojo.create("td",{"class":f.parentNode.id+"_calDay",axis:f.year+"|"+(parseInt(f.month)+1)+"|"+b,innerHTML:b});dojo.place(calDayCell,calDayRow)}else{calDayCell=dojo.create("td",{"class":"dp_empty",innerHTML:" "});dojo.place(calDayCell,calDayRow)}if((q<n||q>this.endDate)||(disableWeekends==true&&(h==6||h==0))){dojo.addClass(calDayCell,"dp_disabled")}if((b==f.nowDay)&&(f.month==f.nowMonth)&&(f.year==f.nowYear)){dojo.addClass(calDayCell,"dp_today")}if(q>n){dojo.addClass(calDayCell,"dp_valid")}b++}dojo.place(calDayRow,calTableTbody)}dojo.place(calTableThead,calTable);dojo.place(calTableTbody,calTable);dojo.place(calTable,f.calendar);dojo.query("td."+f.parentNode.id+"_calDay").forEach(dojo.hitch(this,function(t){t.onmouseover=dojo.hitch(this,function(){ds=t.axis.split("|");var u=new Date(ds[0],ds[1]-1,ds[2]);var v=new Date(c.getFullYear(),c.getMonth(),f.nowDay);if(disableWeekends==true){if(u>=v&&u<=this.endDate&&u.getDay()!=0&&u.getDay()!=6){dojo.addClass(t,"dp_roll")}}else{if(u>=v&&u<=this.endDate){dojo.addClass(t,"dp_roll")}}})}));dojo.query("td."+f.parentNode.id+"_calDay").forEach(dojo.hitch(this,function(t){t.onmouseout=dojo.hitch(this,function(){dojo.removeClass(t,"dp_roll")})}));dojo.query("td."+f.parentNode.id+"_calDay").forEach(dojo.hitch(this,function(t){t.onclick=dojo.hitch(this,function(){ds=t.axis.split("|");var u=new Date(ds[0],ds[1]-1,ds[2]);var v=new Date(c.getFullYear(),c.getMonth(),f.nowDay);if(disableWeekends==true){if(u>=v&&u<=this.endDate&&u.getDay()!=0&&u.getDay()!=6){f.value=this.formatValue(f,ds[0],ds[1],ds[2]);this.remove(f)}}else{if(u>=v&&u<=this.endDate){f.value=this.formatValue(f,ds[0],ds[1],ds[2]);this.remove(f)}}})}));g.onclick=dojo.hitch(this,function(){f.year=(+f.month==0)?+f.year-1:+f.year;f.month=(11+ +f.month)%12;this.remove(f);this.create(f);return false});k.onclick=dojo.hitch(this,function(){f.year=(+f.month==11)?+f.year+1:f.year;f.month=(1+ +f.month)%12;this.remove(f);this.create(f);return false})},formatValue:function(e,c,d,b){var a="";if(b<10){b="0"+b}if(d<10){d="0"+d}a=e.options.format.replace(/dd/i,b).replace(/mm/i,d).replace(/yyyy/i,c);e.month=e.oldMonth=""+(d-1)+"";e.year=e.oldYear=c;e.oldDay=b;return a},remove:function(a){clearTimeout(a.interval);clearInterval(a.interval);a.active=false;if(a.container){dojo.query(a.container).orphan()}a.calendar=false;a.container=false;dojo.query("select.dp_hide").removeClass("dp_hide")}});dojo.provide("cox.behavior.interface.form.EnforceMaxLengthBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.EnforceMaxLengthBehavior",mojo.command.Behavior,{execute:function(d){var b=d.getParams();var a=b.element.getAttribute("maxlength")||b.element.parentNode.getAttribute("maxlength");if(!a||isNaN(a=parseInt(a))){return}if(a<=0){return}if(b.element.value.length>a){b.element.value=b.element.value.substring(0,a)}var c;if(b.element.id){c=mojo.queryFirst("#"+b.element.id.replace(":","_")+"-countdown")}if(c){c.innerHTML=(a-b.element.value.length)}},onResponse:function(){}});dojo.provide("cox.behavior.interface.form.EnterKeyBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.EnterKeyBehavior",mojo.command.Behavior,{execute:function(c){var b=c.eventObj;var a;if(b&&b.which){b=b;a=b.which}else{b=event;a=b.keyCode}if(a==13){this.onResponse();mojo.Messaging.publish("enterKeyPress","enter");return false}else{return true}},onResponse:function(){}});dojo.provide("cox.behavior.interface.form.PlaceholderBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.PlaceholderBehavior",mojo.command.Behavior,{execute:function(e){var a=document.createElement("input");if(!("placeholder" in a)){var b=e.getContextElement();var d=e.getEvent();var c;if(d){c=d.type}switch(c){case"focus":if(b.value==dojo.attr(b,"placeholder")){dojo.toggleClass(b,"placeholder");b.value=""}break;default:if(b.value==""){dojo.toggleClass(b,"placeholder");b.value=dojo.attr(b,"placeholder")}}}}});dojo.provide("cox.behavior.interface.form.SetCheckedBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.SetCheckedBehavior",mojo.command.Behavior,{execute:function(c){var b=c.getParams();if(!dojo.isArray(b.target)){b.target=[b.target]}for(var a=0;a<b.target.length;a++){b.target[a].checked=true}}});dojo.provide("cox.behavior.interface.form.SetInputLabelBehavior");dojo.require("mojo.command.Command");dojo.declare("cox.behavior.interface.form.SetInputLabelBehavior",mojo.command.Command,{execute:function(c){var b=c.getParams();if(!b.input){return}if(typeof b.label=="string"){if(!b.show&&b.label==b.input.value){b.input.value="";try{if(b.type){b.input.type=b.type}}catch(a){}}else{if(b.show&&b.input.value==""){b.input.value=b.label;try{if(b.type){b.input.type="text"}}catch(a){}}}}else{if(!b.show){b.label.style.display="none"}else{if(b.input.value==""){b.label.style.display="block"}}}}});dojo.provide("cox.behavior.interface.form.SpinBoxBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.SpinBoxBehavior",mojo.command.Behavior,{execute:function(a){var d=a.getParams();var l=d.element;var c=l.value;var g="";var f=l.getAttribute("min");var m=l.getAttribute("max");var e=l.getAttribute("step");l.options={min:l&&!isNaN(parseFloat(f))?Number(f):null,max:l&&!isNaN(parseFloat(m))?Number(m):null,step:l&&!isNaN(parseFloat(e))?Number(e):1,reset:Number(c)};var b=dojo.create("div",{className:"spinner-wrapper"});dojo.place(b,l,"after");var k=dojo.create("input",{className:"spin-up",type:"button",title:"Increase",value:""},b);var h=dojo.create("input",{className:"spin-down",type:"button",title:"Decrease",value:""},b);k.onclick=function(){var o=mojo.queryFirst(l);var n=Number(o.value)+Number(l.options.step);if(l.options.min!==null){n=Math.max(n,l.options.min)}if(l.options.max!==null){n=Math.min(n,l.options.max)}o.value=n};h.onclick=function(){var o=mojo.queryFirst(l);var n=Number(o.value)+Number(-l.options.step);if(l.options.min!==null){n=Math.max(n,l.options.min)}if(l.options.max!==null){n=Math.min(n,l.options.max)}o.value=n}}});dojo.provide("cox.behavior.interface.form.SubmitFormBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.SubmitFormBehavior",mojo.command.Behavior,{execute:function(c){var b=c.getParams();var a;if(!b){b={}}if(b.formSet!=null){a=b.formSet}if(a!=null){if(b.delay){setTimeout(function(){a.submit()},b.delay)}else{a.submit()}}},onResponse:function(){}});dojo.provide("cox.behavior.interface.form.UpdateErrorBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.query");dojo.declare("cox.behavior.interface.form.UpdateErrorBehavior",mojo.command.Behavior,{execute:function(d){var c=d.getParams();if(!c.form){return}if(!mojo.query(".msgError",c.form).length){var a=dojo.create("div",{className:"msgError",id:"formErrors"},c.form,"first")}else{var a=mojo.queryFirst(".msgError",c.form)}switch(c.action){case"clear":a.innerHTML="";dojo.style(a,"display","none");break;case"add":a.innerHTML+="<p>"+c.text+"</p>";dojo.style(a,"display","block");var b=dojo.position(a).y;if(b<0){window.scrollBy(0,b)}break}}});dojo.provide("cox.behavior.interface.form.ValidateFormBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.query");dojo.declare("cox.behavior.interface.form.ValidateFormBehavior",mojo.command.Behavior,{execute:function(h){var f=h.getParams();mojo.Messaging.publish("formError",{action:"clear",form:f.form});mojo.query(".required",f.form).forEach(function(p,q,r){var l=mojo.queryFirst("label[for='"+p.id+"']",f.form);var t=l&&(l.innerText||l.textContent);var m=p.value.trim();var o=dojo.attr(p,"placeholder");var n=l.title;var u=n.match(/^[AaEeIiOoUu]/)!=null?" an ":" a ";var k=p.tagName=="SELECT"?"Please select":"Please enter";if(!m||!m.trim()||(m==t)||(m==o)){mojo.Messaging.publish("formError",{action:"add",form:f.form,text:k+u+n+"."});dojo.stopEvent(h.getEvent())}});mojo.query(".requiredchkbox",f.form).forEach(function(m,l,p){var o=mojo.queryFirst("label[for='"+m.id+"']",f.form);var n=m.checked;var k=o.title;if(!n){mojo.Messaging.publish("formError",{action:"add",form:f.form,text:k});dojo.stopEvent(h.getEvent())}});var c=/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,6})$/i;mojo.query(".email",f.form).forEach(function(l,k,p){var o=mojo.queryFirst("label[for='"+l.id+"']",f.form);var q=o&&(o.innerText||o.textContent);var m=l.value.trim();var n=dojo.attr(l,"placeholder");if(m.length>0&&(m!=q)&&!m.match(c)||(m==n)){mojo.Messaging.publish("formError",{action:"add",form:f.form,text:o.title+" is not a valid email address."});dojo.stopEvent(h.getEvent())}});var e=/(^-?\d\d*\.\d*$)|(^-?\d\d*$)|(^-?\.\d\d*$)/;mojo.query(".number",f.form).forEach(function(l,k,p){var o=mojo.queryFirst("label[for='"+l.id+"']",f.form);var q=o&&(o.innerText||o.textContent);var m=l.value.trim();var n=dojo.attr(l,"placeholder");if(m.length>0&&(m!=q)&&!m.match(e)||(m==n)){mojo.Messaging.publish("formError",{action:"add",form:f.form,text:o.title+" is not a valid number."});dojo.stopEvent(h.getEvent())}});var e=/^([0-9])*(\.[0-9]{1,2})?$/;mojo.query(".currency",f.form).forEach(function(l,k,p){var o=mojo.queryFirst("label[for='"+l.id+"']",f.form);var q=o&&(o.innerText||o.textContent);var m=l.value.trim();var n=dojo.attr(l,"placeholder");if(m.length>0&&(m!=q)&&!m.match(e)||(m==n)){mojo.Messaging.publish("formError",{action:"add",form:f.form,text:o.title+" is not a valid currency."});dojo.stopEvent(h.getEvent())}});var b=/^[a-zA-Z0-9]*$/;mojo.query(".alphanumeric",f.form).forEach(function(l,k,p){var o=mojo.queryFirst("label[for='"+l.id+"']",f.form);var m=l.value.trim();var n=dojo.attr(l,"placeholder");if(m.length>0&&!m.match(b)||(m==n)){mojo.Messaging.publish("formError",{action:"add",form:f.form,text:o.title+" must contain alphanumeric characters only."});dojo.stopEvent(h.getEvent())}});var g=/^[a-zA-Z]*$/;mojo.query(".alpha",f.form).forEach(function(l,k,p){var o=mojo.queryFirst("label[for='"+l.id+"']",f.form);var m=l.value.trim();var n=dojo.attr(l,"placeholder");if(m.length>0&&!m.match(g)||(m==n)){mojo.Messaging.publish("formError",{action:"add",form:f.form,text:o.title+" must contain alpha characters only."});dojo.stopEvent(h.getEvent())}});var d=/^\d{1,2}\/\d{1,2}\/\d{4}$/;mojo.query(".date",f.form).forEach(function(l,k,p){var o=mojo.queryFirst("label[for='"+l.id+"']",f.form);var m=l.value.trim();var n=dojo.attr(l,"placeholder");if(m.length>0&&!m.match(d)||(m==n)){mojo.Messaging.publish("formError",{action:"add",form:f.form,text:o.title+" must be in MM/DD/YYYY format."});dojo.stopEvent(h.getEvent())}});var a=/(^\d{5}$)|(^\d{5}-\d{4}$)/;mojo.query(".zip",f.form).forEach(function(l,k,p){var o=mojo.queryFirst("label[for='"+l.id+"']",f.form);var m=l.value.trim();var n=dojo.attr(l,"placeholder");if(m.length>0&&!m.match(a)||(m==n)){mojo.Messaging.publish("formError",{action:"add",form:f.form,text:o.title+" not valid."});dojo.stopEvent(h.getEvent())}})}});dojo.provide("cox.behavior.locationMap.GetDirectionsBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.locationMap.GetDirectionsBehavior",mojo.command.Behavior,{onResponse:function(){},onError:function(){},geocoder:null,execute:function(e){var d=e.getParams();if(!d||!d.map){return}var c=d.map;var a=c._mojoGDir;if(a&&d.action=="clear"){a.clear();return}if(!a){a=c._mojoGDir=new google.maps.Directions(c,mojo.queryFirst(".direction-list"));google.maps.Event.addListener(a,"load",this.onResponse);google.maps.Event.addListener(a,"error",dojo.hitch(this,this._handleErrors,a,d.form))}if(d.addresses){this.form=d.form;var b=c._mojoDirectionsAddresses={};dojo.forEach(["from","to"],function(g){var f=d.addresses["map-"+((g=="to")?"end-":"")+"address-input"];mojo.Messaging.publish("/verifyAddress/"+g,f.value)})}else{if(d.message){var b=c._mojoDirectionsAddresses;b[d.message.direction]=d.message;if(b.from&&b.to){if(b.from.placemark&&b.to.placemark){a.load("from: "+b.from.placemark[0].address+" to: "+b.to.placemark[0].address)}}}}},_handleErrors:function(b,c){var a="";if(b.getStatus().code==G_GEO_UNKNOWN_ADDRESS){a="No corresponding geographic location could be found for one of the specified addresses. This may be due to the fact that the address is relatively new, or it may be incorrect."}else{a="An error occurred. One of your locations may be invalid."}mojo.Messaging.publish("formError",{action:"add",form:this.form,text:a})}});dojo.provide("cox.behavior.locationMap.InitMapBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.locationMap.InitMapBehavior",mojo.command.Behavior,{_map:null,onMapReady:function(){},execute:function(a){if(google&&google.maps){window.setTimeout(dojo.hitch(this,this._onGoogleReady,a),200)}else{if(google&&google.load){google.load("maps","2",{callback:dojo.hitch(this,this._onGoogleReady,a)})}else{alert("Error loading google maps.")}}},_onGoogleReady:function(c){var b=c.getParams();var a=this._map=new google.maps.Map2(b.element);google.maps.Event.addListener(document.body,"unload",google.maps.Unload);google.maps.Event.addListener(this._map,"infowindowclose",dojo.hitch(null,function(){mojo.Messaging.publish("googleMap",{map:a})}));this.onMapReady()}});dojo.provide("cox.behavior.locationMap.MapReverseDirectionsBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.locationMap.MapReverseDirectionsBehavior",mojo.command.Behavior,{execute:function(d){var c=d.getParams();var b=c.form;var a=b["map-address-input"].value;b["map-address-input"].value=b["map-end-address-input"].value;b["map-end-address-input"].value=a;b["map-direction-submit"].click()}});dojo.provide("cox.behavior.locationMap.UpdateMapBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.locationMap.UpdateMapBehavior",mojo.command.Behavior,{execute:function(c){var b=c.getParams();if(!b||!b.map){return}var a=b.map;if(b.center){b.map.setCenter(new google.maps.LatLng(b.center.lat,b.center.lon))}if(b.zoom!==null&&typeof b.zoom!="undefined"){b.map.setZoom(b.zoom)}if(b.controls){if(b.controls.zoom=="small"&&b.controls.pan==false){this.removeControl("large-map",a);this.removeControl("small-map",a);this.addControl("small-zoom",a,google.maps.SmallZoomControl)}else{if(b.controls.zoom=="large"){this.removeControl("small-zoom",a);this.removeControl("small-map",a);this.addControl("large-map",a,google.maps.LargeMapControl)}else{if(b.controls.zoom=="small"||b.controls.pan==true){this.removeControl("small-zoom",a);this.removeControl("large-map",a);this.addControl("small-map",a,google.maps.SmallMapControl)}else{this.removeControl("small-zoom",a);this.removeControl("small-map",a);this.removeControl("large-map",a)}}}if(b.controls.scale){this.addControl("scale",a,google.maps.ScaleControl)}else{this.removeControl("scale",a)}if(b.controls.mapType){this.addControl("map-type",a,google.maps.MapTypeControl)}else{this.removeControl("map-type",a)}if(b.controls.overview){this.addControl("overview",a,google.maps.OverviewMapControl)}else{this.removeControl("overview",a)}}},removeControl:function(b,a){if(a._mojoControls&&a._mojoControls[b]){a.removeControl(a._mojoControls[b]);a._mojoControls[b]=null}},addControl:function(c,b,a){if(!b._mojoControls){b._mojoControls={}}if(!b._mojoControls[c]){b.addControl(b._mojoControls[c]=new a())}}});dojo.provide("cox.behavior.locationMap.UpdateMapPointSetsBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.locationMap.UpdateMapPointSetsBehavior",mojo.command.Behavior,{execute:function(a){console.log("updatePoints: ",a.getParams());var c=a.getParams();if(!c||!c.map){return}var b=c.map;var m=c.pointSetKey;var g=c.pointSet;var d;var k;if(!(d=b._mojoMarkerManager)){d=b._mojoMarkerManager=new google.maps.MarkerManager(b,{trackMarkers:true})}if(!b._mojoPointSets){b._mojoPointSets={}}if(!(k=b._mojoPointSets[m])){k=b._mojoPointSets[m]={points:[]}}while(k.points.length){d.removeMarker(k.points.pop())}if(!g.points||g.points.length==0){return}if(!k.icon||k.icon.image!=g.icon.url){var h=new google.maps.Icon();h.image=g.icon.url;h.iconSize=new google.maps.Size(g.icon.width,g.icon.height);h.iconAnchor=new google.maps.Point(g.icon.width>>1,g.icon.height>>1);h.shadow=g.iconShadow.url;h.shadowSize=new google.maps.Size(g.iconShadow.width,g.iconShadow.height);h.infoWindowAnchor=new GPoint(9,2);h.infoShadowAnchor=new GPoint(18,25);k.icon=h}for(var f=0;f<g.points.length;f++){var l=g.points[f];var e=new google.maps.Marker(new google.maps.LatLng(l.lat,l.lon),{title:"test",icon:k.icon,draggable:false});google.maps.Event.addListener(e,"click",dojo.hitch(null,function(n,o){n.openInfoWindowHtml(o)},e,'<div class="marker-info">'+l.info+"</div>"));if(g.visible===false||l.visible===false){e.hide()}else{e.show()}k.points.push(e)}d.addMarkers(k.points,g.zoom||1);d.refresh()}});dojo.provide("cox.behavior.locationMap.UpdateMapPointsBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.locationMap.UpdateMapPointsBehavior",mojo.command.Behavior,{execute:function(a){var c=a.getParams();if(!c||!c.map){return}var b=c.map,f=c.pointSet;if(c.pointSet&&b._coxCurrentState!=c.pointSet.state){while(b._mojoMarkers&&b._mojoMarkers.length){b.removeOverlay(b._mojoMarkers.pop())}b._mojoMarkers=[];b._coxLocations=[];b._coxCurrentState=c.pointSet.state;for(var e=0;e<c.pointSet.locations.length;e++){var n=c.pointSet.locations[e];var g=new google.maps.Marker(new google.maps.LatLng(n.lat,n.lon),{icon:this._getIcon(n),draggable:false});var o=mojo.queryFirst("#directions-balloon");var l="";if(o){l=o.innerHTML}var k=mojo.queryFirst("#directions-form");google.maps.Event.addListener(g,"click",dojo.hitch(null,function(p,q){p.openInfoWindowHtml(q)},g,'<div class="maps-marker-info">'+n.info+l+"</div>"));if(l.length){google.maps.Event.addListener(g,"infowindowopen",function(){var p=mojo.query("#map-container [id='directions-forms'] form");dojo.forEach(p,function(r){mojo.controller.Map.getInstance().mapController("cox.controller.InputLabelController",r)});var q=mojo.queryFirst("#map-container [id='directions-forms']");if(q){mojo.controller.Map.getInstance().mapController("cox.controller.MapInfoBoxController",q,{map:b})}})}n.marker=g;b._coxLocations.push(n);b._mojoMarkers.push(g)}dojo.forEach(b._mojoMarkers,function(p){b.addOverlay(p)})}if(c.show&&b._coxLocations){for(var e=0;e<b._coxLocations.length;e++){var h=b._coxLocations[e];var m=false;for(var d=0;d<c.show.length;d++){if(h.sets.indexOf(c.show[d])>-1){m=true}}if(m){h.marker.show()}else{h.marker.hide()}}}if(f&&typeof f.user!="undefined"){if(b._mojoUser){b.removeOverlay(b._mojoUser)}if(b._mojoGDir){b._mojoGDir.clear()}if(f.user!=null){var g=new google.maps.Marker(new google.maps.LatLng(f.user.lat,f.user.lon),{icon:this._getIcon("user"),draggable:false,clickable:false});b._mojoUser=g;b.addOverlay(g)}}},_getIcon:function(a){if(!this._icons){this._icons={}}var d=a==="user"?"user":a.sets.join("");if(this._icons[d]){return this._icons[d]}var c=d=="user"?"user":a.sets.length;var b=this._iconConfig[c+""];var e=new google.maps.Icon();e.image=this._iconConfig.basePath+d+".png";e.iconSize=new google.maps.Size(b.width,b.height);e.iconAnchor=new google.maps.Point(b.anchorX,b.anchorY);e.shadow=this._iconConfig.basePath+"shadow"+c+".png";e.shadowSize=new google.maps.Size(b.width,b.height);e.infoWindowAnchor=new google.maps.Point(b.anchorX,2);e.infoShadowAnchor=new google.maps.Point(b.width,25);return this._icons[d]=e},_iconConfig:{basePath:"/ui/emergence/corp/en/img/interface/map/",user:{width:13,height:14,anchorX:0,anchorY:0},"1":{width:90,height:48,anchorX:19,anchorY:45},"2":{width:99,height:49,anchorX:28,anchorY:44},"3":{width:115,height:52,anchorX:37,anchorY:49},"4":{width:136,height:58,anchorX:47,anchorY:49},"5":{width:158,height:62,anchorX:56,anchorY:54},"6":{width:150,height:62,anchorX:56,anchorY:54}}});dojo.provide("cox.behavior.locationMap.VerifyAddressBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.locationMap.VerifyAddressBehavior",mojo.command.Behavior,{onResponse:function(){},onError:function(){},geocoder:null,execute:function(g){var f=g.getParams();var e=f.direction;function a(m,h,k){var l=f.notification;switch(h){case"clear":dojo.style(l,"display","none");l.innerHTML="";break;case"error":dojo.style(l,"display","none");l.innerHTML="";var n=(m=="single")?"":((m=="from")?"start":"end");mojo.Messaging.publish("formError",{action:"add",form:f.input.form,text:["We could not find ",n," address: ",k,"."].join("")});break;case"multiple":dojo.style(l,"display","block");l.innerHTML=['<p class="alternates-explanation">We found multiple results. Did you mean:</p>','<ul class="alternates"><li class="first">',dojo.map(k,function(o){return"<a href='#'>"+o.address+"</a>"}).join("</li><li>"),"</li></ul>"].join("");break}}var d=this.geocoder=this.geocoder||new GClientGeocoder();var c=mojo.queryFirst("label[for='"+f.input.id+"']",f.input.form);var b=(f.input.value=="")||(c&&(c.childNodes[0].nodeValue==f.input.value));if(b){mojo.Messaging.publish("/verifiedAddresses/"+e,{direction:e,placemark:null})}else{d.getLocations(f.input.value,function(h){if(!h.Placemark){a(e,"error",h.name)}else{if(h.Placemark.length>1){a(e,"multiple",h.Placemark)}else{a(e,"clear")}}mojo.Messaging.publish("/verifiedAddresses/"+e,{direction:e,placemark:h.Placemark})})}}});dojo.provide("cox.behavior.myplace.SlideshowBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.myplace.SlideshowBehavior",mojo.command.Behavior,{execute:function(b){var a=b.getParams();if(a.action=="toggle"){a.action=this._interval?"pause":"play"}if(a.action=="pause"){a.controller.setValue("isPlaying",false);if(this._interval){window.clearInterval(this._interval);this._interval=null}}else{if(a.action=="play"){a.controller.setValue("isPlaying",true);if(!this._interval){this._interval=window.setInterval(dojo.hitch(this,this._ticker,a.controllerEl,a.length),a.duration*1000)}}}},_ticker:function(f,b){try{var a=f.mojoControllers["cox.controller.FilmStripController"]}catch(d){return}var c=a.getValue("selectedIndex");a.setValue("selectedIndex",c==b-1?0:c+1)}});dojo.provide("cox.behavior.myplace.WeatherMapPickerBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.myplace.WeatherMapPickerBehavior",mojo.command.Behavior,{updateCitiesList:function(){var b=mojo.queryFirst("#selectedCity");var a=mojo.queryFirst("#editCodes");a.value=dojo.map(b.options,function(c){return c.value}).join(",")},execute:function(a){var e=a.getParams();switch(e.action){case"add":this.updateCitiesList();break;case"save":this.updateCitiesList();break;case"delete":var c=mojo.queryFirst("#selectedCity");for(var k=c.options.length-1;k>=0;k--){if(c.options[k].selected&&(c.options.length>1)){c.options[k]=null}}this.updateCitiesList();break;case"move":var m=e.direction;var c=mojo.queryFirst("#selectedCity");if((c.length<2)||(c.selectedIndex<0)){return}var b=(m>0)?c.length-1:0;var f=(m>0)?0:c.length-1;for(var k=b;k!=f-m;k=k-m){var l=k+m;if((k==b)||c[l].selected||!c[k].selected){continue}var n=c[k].value;var p=c[k].text;c[k].value=c[l].value;c[k].text=c[l].text;c[l].value=n;c[l].text=p;c[l].selected=true;c[k].selected=false}this.updateCitiesList();break;case"changeMap":var h=document.images.map.src;var g="";if(e.type=="national"){g=document.getElementById("nationalMapType").value;if(g=="Not Selected"){return}document.getElementById("regionMapType").value=""}else{if(e.type=="regional"){var d=document.getElementById("mapRegion").value;var o=document.getElementById("regionMapType").value;if(o==""){alert("Please select one map type");return}else{if(o=="sir_"){g=o+d}else{g=d+o}}}}document.getElementById("weatherMap").value=g;h=a.getController().getValue("mapImagePrefix")+g+".jpg";document.images.map.src=h;break;case"changeMapType":document.getElementById("regionMapType").value=e.type;break}}});dojo.provide("cox.behavior.newsroom.ChangeContentBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.newsroom.ChangeContentBehavior",mojo.command.Behavior,{execute:function(k){try{var h=k.paramsObj.elm}catch(f){var h=k.getEvent().elm}var a=k.paramsObj.tag;var d=k.paramsObj.elm;var g=k.paramsObj.caller.id.replace("tab","");var b=k.paramsObj.cssClass;if(!dojo.isArray(d)=="array"){d=[d]}var c=navigator.appName;for(i=0;i<d.length;i++){if(i==g-1){d[i].setAttribute("class",a+" "+b);d[i].style.display="block"}else{d[i].setAttribute("class",a);d[i].style.display="none"}}}});dojo.provide("cox.behavior.newsroom.InitBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.newsroom.InitBehavior",mojo.command.Behavior,{execute:function(f){var e=f.getParams();var d=e.content;var c=f.paramsObj.links;if(!dojo.isArray(c)=="array"){c=[c]}var a=f.paramsObj.tag;var b=f.paramsObj.cssClass}});dojo.provide("cox.behavior.residential.bill.CalculatePaymentAmountBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.residential.bill.CalculatePaymentAmountBehavior",mojo.command.Behavior,{execute:function(b){var g=b.getParams();var n=g.multiAmountTotal;var c=g.paymentOptions;var m=g.otherAmount;var h=0;var l=0;for(var k=0;k<c.length;k++){var a=c[k];if(m&&m.checked!="checked"){mojo.queryFirst("#"+m+"-radio").checked=true}if(a.checked){if(dojo.hasAttr(a,"val")){l=dojo.attr(a,"val")}else{l=a.value}var f=mojo.queryFirst("#"+a.id);var d=/(^-?\d\d*\.\d*$)|(^-?\d\d*$)|(^-?\.\d\d*$)/;if(dojo.hasClass(a,"statement-other")&&(f.checked=true)){var e=f.id;e=e.replace("-radio","");l=mojo.queryFirst("#"+e).value}if(d.test(l)){h+=parseFloat(l)}}else{if(dojo.hasClass(a,"statement-other")){var e=mojo.queryFirst("#"+a.id).id;e=e.replace("-radio","");mojo.queryFirst("#"+e).value=""}}}n.innerHTML="$"+parseFloat(h).toFixed(2)}});dojo.provide("cox.behavior.splash.PopUpBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.splash.PopUpBehavior",mojo.command.Behavior,{execute:function(a){var d=a.getParams();if(d.show){var n=mojo.query(".location-record-bd");for(var e=0,f=n.length;e<f;e++){var l=n[e].parentNode.parentNode;$(l).removeClass("active")}var c=200;var h=d.element;var g=h.parentNode;var m=h.parentNode.parentNode;var b=m.parentNode;var k=mojo.queryFirst(".location-record-bd",g);if(k){if(m.offsetLeft+k.offsetWidth>b.offsetWidth-c){$(g).addClass("dialog-pane-content-right")}dojo.addClass(d.element.parentNode.parentNode,"active")}}else{dojo.removeClass(d.element.parentNode.parentNode.parentNode.parentNode,"active")}}});dojo.provide("cox.behavior.splash.RenderBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.splash.RenderBehavior",mojo.command.Behavior,{execute:function(b){var a=b.getParams();console.log("RenderBehavior -- EXECUTE with parameters: ",a)}});dojo.provide("cox.behavior.splash.UpdateFormBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.splash.UpdateFormBehavior",mojo.command.Behavior,{selectedCity:null,selectedState:null,onStateChange:function(){},execute:function(a){var f=a.getParams();var h=mojo.queryFirst("input",a.callerObj.parentNode);h=h.value;var g=h.split(","),e=g[0],c=g[1],b=g[2],l=g[3],k=g[4],d=g[5];this.selectedCity=c;mojo.queryFirst("#splash-zipcode").value=d}});dojo.provide("cox.command.ValidateRulesCommand");dojo.require("mojo.command.Command");dojo.require("mojo.helper.Validation");dojo.require("mojo.helper.view.Error");dojo.require("mojo.query");dojo.declare("cox.command.ValidateRulesCommand",mojo.command.Command,{_targetElement:null,_checkAll:true,_output:function(f,c){for(var d=0,a=f.length;d<a;d++){var b=f[d];var e=document.createElement("span");e.className="mojoValidationError";e.innerHTML=b.message;console.log(e);if(b.element.type=="checkbox"){if(b.element.parentNode.tagName=="LABEL"){dojo.place(e,b.element.parentNode,"after")}else{dojo.place(e,b.element,"after")}}else{dojo.place(e,b.element,"after")}}},execute:function(requestObj){var rules;var formSet;var limit;var title;var params=requestObj.getParams();if(params){if(params.targetElement!=null){this._targetElement=params.targetElement}if(params.checkAll!=null){this._checkAll=params.checkAll}if(params.rules!=null){rules=params.rules}if(params.formSet!=null){formSet=params.formSet}if(params.limit!=null){limit=params.limit}if(params.title!=null){title=params.title}}if(rules){if(this._targetElement!=null){this._targetElement.innerHTML="";if(formSet){try{var clearTags=["label","inputs","textarea","select"];for(var i=0;i<clearTags.length;i++){var Tag=mojo.query(clearTags[i],formSet);for(var j=0;j<Tag.length;j++){dojo.removeClass(Tag[j],"error")}}}catch(err){}}}if(typeof(rules)=="string"){dojo.require(rules);eval("requestObj.getParams().rules = "+rules)}var val=mojo.helper.Validation.getInstance();if((formSet)&&(this._checkAll)){var errorList=val.execute(requestObj.getParams().rules,formSet)}else{var errorList=val.execute(requestObj.getParams().rules,[requestObj.callerObj])}if(errorList.length>0){if(this._targetElement!=null){console.log(this._targetElement);var errorListLength=errorList.length;for(var i=0;i<errorListLength;i++){if(i==limit&&limit){}else{var error=errorList[i];var err=document.createElement("span");err.className="mojoValidationError";err.innerHTML=error.message;if(this._targetElement!=null){this._targetElement.innerHTML="<h5>"+title+"</h5>";this._targetElement.appendChild(err)}else{if(error.element.type=="checkbox"){if(error.element.parentNode.tagName=="LABEL"){dojo.place(err,error.element.parentNode,"after")}else{dojo.place(err,error.element,"after")}}else{dojo.place(err,error.element,"after")}}}}for(var i=0;i<errorList.length;i++){dojo.addClass(errorList[i].element,"error");if(errorList[i].element.parentNode.tagName=="LABEL"){dojo.addClass(errorList[i].element.parentNode,"error")}}}else{this._output(errorList)}this.onError()}else{if(requestObj.invocation){this.onResponse()}}}else{console.debug("ERROR stdlib.command.ValidateRulesCommand - No rules passed")}},onResponse:function(){},onError:function(){}});dojo.provide("cox.command.locationMap.GetOfficesCommand");dojo.require("mojo.command.Command");dojo.require("cox.service.Locator");dojo.declare("cox.command.locationMap.GetOfficesCommand",mojo.command.Command,{_targetElement:null,execute:function(b){var a=b.getParams()||{};cox.service.Locator.getInstance().getService("getOffices").invoke(a,this)},onResponse:function(a){if(a.errors){this.onError(a.errors)}else{mojo.Model.set("offices",a);this.onComplete()}},onError:function(a){},onComplete:function(){}});dojo.provide("cox.command.metrics.OmnitureInterfaceCommand");dojo.require("mojo.command.Command");dojo.declare("cox.command.metrics.OmnitureInterfaceCommand",mojo.command.Command,{constructor:function(){if(!mojo.Model.contains("/metrics/variables")){mojo.Model.set("/metrics/variables",{})}},onComplete:function(){},onError:function(){console.log("There was an error in the Metrics command.")},execute:function(a){if(cox.runmode=="testing"){return}if(typeof s!="undefined"&&s&&!!s.getQueryParam){if(!a.paramsObj.mode||!this[a.paramsObj.mode]){return}this.storedVariables=mojo.Model.get("/metrics/variables");this[a.paramsObj.mode](a.paramsObj.params||{},a)}},track:function(g,h){var c=g.type||"pageview";var b=g.clearVariables||false;var a=g.options||{};if(b){this.clearOmnitureVariables()}try{if(!s){return}switch(c){case"pageview":this.storeVariables(a);this.mapVariablesToOmnitureVariables(this.storedVariables);s.t();break;case"event":var f=this.mapVariablesToOmnitureVariables(a);if(f.events.length){f.vars.push("events")}if(f.vars.indexOf("pageName")==-1){f.vars.push("pageName")}s.linkTrackVars=f.vars.length?f.vars.join(","):"None";s.linkTrackEvents=f.events.length?f.events.join(","):"None";console.log("Event Tracked: ",s);if(a.customLink){s.tl(h.callerObj,"o",a.customLink)}else{if(a.eventName=="download"){s.tl(h.callerObj,"o",a.download)}else{if(a.eventName){s.tl(h.callerObj,"o",a.eventName)}else{if(a.actionPerformed){s.tl(h.callerObj,"o",a.actionPerformed)}else{console.log("No event, custom link, or action set during Omniture Track command.");s.tl(h.callerObj,"o","anonymousTrigger")}}}}break;default:console.log("A call to metrics was attempted, but no Type (pageview/event) was specified.")}this.onComplete()}catch(d){this.onError();console.log("Metrics call failed")}},storeVariables:function(a){if(a.eventName&&this.storedVariables.eventName){a.eventName+=","+this.storedVariables.eventName}this.storedVariables=dojo.mixin(this.storedVariables,a);mojo.Model.set("/metrics/variables",this.storedVariables)},overwriteVariables:function(a){this.storedVariables=dojo.mixin(this.storedVariables,a);mojo.Model.set("/metrics/variables",this.storedVariables)},clearOmnitureVariables:function(a){for(var b in this.storedVariables){this.storedVariables[b]=null}this.mapVariablesToOmnitureVariables(this.storedVariables);mojo.Model.set("/metrics/variables",{})},set:function(a,b){this.storeVariables(a);if(b.getParams().mapImmediately){this.mapVariablesToOmnitureVariables(this.storedVariables)}},mapVariablesToOmnitureVariables:function(c){var f={vars:[],events:[]};var d=function(g){s.events=s.events?s.events+","+g:g;f.events.push(g)};var a=false;for(var b in c){var e=c[b];switch(b){case"localePagename":if(e){s.pageName=e;s.eVar46=e;f.vars.push("eVar46")}break;case"pageName":if(e){s.prop30=e;f.vars.push("prop30")}d("event52");break;case"simplePageName":s.prop25=e;break;case"channel":if(e){s.channel=e}break;case"contentArea":s.channel=e;break;case"pageType":s.pageType=e;break;case"offerSource":s.eVar4=e;break;case"localeName":s.prop1=e;f.vars.push("prop1");s.eVar7=e;f.vars.push("eVar7");break;case"sectionName":s.prop2=e;f.vars.push("prop2");break;case"businessUnit":if(e=="businessstore"){a=true}s.prop3=e;f.vars.push("prop3");break;case"formName":s.prop4=e;f.vars.push("prop4");break;case"visitorStatus":if(!e){e="not logged in"}s.prop5=e;f.vars.push("prop5");break;case"businessLocal":s.prop6=e;f.vars.push("prop6");s.eVar35=e;f.vars.push("eVar35");break;case"campaign":s.campaign=e;f.vars.push("campaign");s.eVar34=e;f.vars.push("eVar34");break;case"searchResultsFlag":if(!e){e="false"}s.prop7=e;f.vars.push("prop7");break;case"pathingByCampaign":s.prop8=e;f.vars.push("prop8");break;case"productName":s.prop9=e;f.vars.push("prop9");break;case"customLink":s.prop10=s.eVar46+":"+e;f.vars.push("prop10");s.eVar16=s.eVar46+":"+e;f.vars.push("eVar16");d("event45");break;case"exitLink":s.prop30=e;f.vars.push("prop30");break;case"videoTitle":s.prop11=e;f.vars.push("prop11");s.eVar9=e;f.vars.push("eVar9");break;case"language":s.prop12=e;f.vars.push("prop12");break;case"kanaArticleId":s.prop18=e;f.vars.push("prop18");s.eVar21=e;f.vars.push("eVar21");break;case"confirmationMsg":s.prop31=e;f.vars.push("prop31");break;case"dvrFilter":s.prop32=e;f.vars.push("prop32");break;case"registrationType":if(!e){e="not set"}s.eVar1=e;f.vars.push("eVar1");break;case"products":s.products=e;break;case"download":s.eVar2=e;f.vars.push("eVar2");break;case"keyword":if(e.match(/^web -/)){e=e.replace(/^web - /,"");s.prop38=e.toLowerCase();f.vars.push("prop38")}else{e=e.toLowerCase();s.eVar3=e;f.vars.push("eVar3");s.prop36=e;f.vars.push("pro36")}d("event4");break;case"toolName":s.eVar4=e;f.vars.push("eVar4");break;case"actionPerformed":s.eVar5=e;f.vars.push("eVar5");break;case"logStatus":s.eVar6=e;f.vars.push("eVar6");break;case"dvrSearch":s.eVar47=e;f.vars.push("eVar47");break;case"contextualFlag":s.eVar8=e;f.vars.push("eVar8");break;case"campcode":s.eVar10=e;f.vars.push("eVar10");break;case"pcCode":s.eVar22=e;f.vars.push("eVar22");s.prop26=e;f.vars.push("prop26");break;case"ccCode":s.eVar23=e;f.vars.push("eVar23");s.prop27=e;f.vars.push("prop27");break;case"searchReferrer":s.eVar14=e;f.vars.push("eVar14");break;case"hier1":s.hier1=e;break;case"hier2":s.hier2=e;break;case"siteId":s.prop21=e;s.eVar17=e;break;case"franchiseId":s.prop22=e;s.eVar18=e;break;case"zip":s.zip=e;break;case"state":s.state=e;break;case"storeEvent":s.events=e;break;case"customerType":s.prop15=e;break;case"signInType":s.prop16=e;break;case"purchaseId":s.prop20=e;s.purchaseID=e;break;case"errorlist":s.prop33=e;break;case"errorAttempts":s.prop34=e;break;case"RGUSelected":s.eVar45=e;break;case"RGUSubscribed":s.eVar44=e;break;case"offer":s.eVar15=e;break;case"monthlyRecurringCharge":break;case"oneTimeCharge":break;case"totalOrderValue":break;case"totalInstallationCharges":break;case"totalMonthlySavings":d("event37");break;case"orderType":s.eVar27=e;break;case"leadId":s.prop28=e;break;case"leadType":s.prop17=e;break;case"totalOneTimeSavings":break;case"visitCount":s.eVar19=e;case"eventName":switch(e){case"productView":d("prodView");break;case"download":d("event3");break;case"searchResultClicked":d("event5");break;case"toolUsageInitiated":d("event6");break;case"toolUsageCompleted":d("event7");break;case"userLogStatus":if(!a){d("event8")}break;case"dvrRecord":d("event25");break;case"dvrSetRecord":d("event26");break;case"searchRecommendationClicked":d("event38");break;case"cancelAppointment":d("event46");break;case"rescheduleAppointment":d("event58");break;case"activateDevice":d("event53");break}break;default:break}if(cox.runmode=="development"||cox.runmode=="testing"){console.log(b," --> ",e)}}return f}});dojo.provide("cox.command.newsroom.AlertSignupCommand");dojo.require("mojo.command.Command");dojo.declare("cox.command.newsroom.AlertSignupCommand",mojo.command.Command,{execute:function(a){console.log("Command Executed: newsroom.AlertSignupCommand || params: ",a.getParams())},onResponse:function(a){},onError:function(a){}});dojo.provide("cox.command.newsroom.ValidateAlertSignupCommand");dojo.require("mojo.command.Command");dojo.declare("cox.command.newsroom.ValidateAlertSignupCommand",mojo.command.Rule,{execute:function(e){console.log("Validate AlertSignup || params: ",e.getParams());var d=e.getParams();var b=mojo.queryFirst("input#control_AlertEmail");var a=b.value;var c=mojo.helper.Validation.getInstance();if(c.isEmailAddress(a)&&c.isRequired(a)){d.targetElement.innerHTML="";this.onResponse();e.invocation.proceed()}else{d.targetElement.innerHTML="<h3>"+d.title+"</h3><span>"+d.text+"</span>";this.onError()}},onResponse:function(a){},onError:function(a){}});dojo.provide("cox.controller.DelegatedHoverController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.DelegatedHoverController",mojo.controller.Controller,{params:{selector:{defaultValue:"",type:String,required:true},hoverClass:{defaultValue:"",type:String,required:true}},addObservers:function(){this.addObserver(this.getValue("selector"),"onmouseover","UpdateClass",function(c,b,a){return{element:b,action:"add",cssClass:a.getValue("hoverClass")}});this.addObserver(this.getValue("selector"),"onmouseout","UpdateClass",function(c,b,a){if(window.event&&(toElement=window.event.toElement)){do{if(toElement==b){return}}while(toElement=toElement.parentNode)}return{element:b,action:"remove",cssClass:a.getValue("hoverClass")}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.DialogController");dojo.require("stdlib.controller.DialogController");dojo.declare("cox.controller.DialogController",stdlib.controller.DialogController,{params:{container:{required:false,defaultValue:".dialog-component",type:String},title:{required:false,defaultValue:".dialog-component .dialog-component-title",type:String},titleText:{required:false,defaultValue:"",type:String},content:{required:false,defaultValue:".dialog-component .dialog-component-content",type:String}},addObservers:function(){this.addObserver(mojo.queryFirst("#underlay"),"onclick","Messaging",function(b,a){return{topic:"dialog",message:{enabled:false}}});this.addObserver(".btn-icon-close","onclick","Messaging",function(b,a){return{topic:"dialog",message:{enabled:false}}});this.addObserver(".btn-close","onclick","PreventDefault");this.addObserver(".btn-close","onclick","Messaging",function(b,a){return{topic:"dialog",message:{enabled:false}}});this.addObserver("#btn-close","onclick","PreventDefault");this.addObserver("#btn-close","onclick","Messaging",function(b,a){return{topic:"dialog",message:{enabled:false}}});this.addObserver(".btn-print","onclick","Print",function(b,a){return{target:"#print-frame"}});this.addObserver(mojo.Messaging.getTopic("dialog"),"onPublish","DisableBox",function(b,a){if(a.getMessage()&&!a.getMessage().enabled){return{show:false}}});this.addObserver(".dialog-component img","onload","Position");this.addObserver(mojo.Messaging.getTopic("error"),"onPublish","Messaging",function(b,a){var d=a.getMessage();var c=d.text;if(!c.push){c=[c]}c="<p>"+c.join("</p><p>")+"</p>";return{topic:"dialog",message:{enabled:true,title:d.title,href:"/ui/emergence/corp/en/page/errorDialog.xhtml",substitutionMap:{"#error-text":c},nextTo:d.cause,width:430,height:-1}}});this.addObserver(mojo.Messaging.getTopic("termsConditionsDialog"),"onPublish","Messaging",function(b,a){var d=a.getMessage();var c=d.text;return{topic:"dialog",message:{enabled:true,title:d.title,href:"/ui/emergence/corp/en/page/termsConditions.xhtml",substitutionMap:{"#terms-text":c},nextTo:d.cause,width:590,height:-1}}})},addCommands:function(){this.addCommand("Print","cox.behavior.PrintBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("DisableBox","cox.behavior.DisableBoxBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ExtrasFromCoxController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ExtrasFromCoxController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query("#extras-panel .extras-view ul li span a"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{customLink:"extras:"+(a.title).toLowerCase()}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.FilmStripController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.FilmStripController",mojo.controller.Controller,{params:{selectedIndex:{required:false,defaultValue:0,type:Number},loop:{required:false,defaultValue:false,type:Boolean},duration:{required:false,defaultValue:600,type:Number}},addObservers:function(){var a=mojo.query("> .filmstrip-viewer > .filmstrip-content > .filmstrip-page",this.getContextElement());this.addObserver("> .filmstrip-next","onclick","UpdateClass",function(e,c){var d=a;var b=this.getController().getValue("selectedIndex");b++;if(b>=a.length){if(this.getController().getValue("loop")){this.getController().setValue("selectedIndex",0)}}else{this.getController().setValue("selectedIndex",b)}});this.addObserver("> .filmstrip-prev","onclick","UpdateClass",function(e,c){var d=a;var b=this.getController().getValue("selectedIndex");b--;if(b<0){if(this.getController().getValue("loop")){this.getController().setValue("selectedIndex",a.length-1)}}else{this.getController().setValue("selectedIndex",b)}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(d,c,b){return{element:mojo.query("> .filmstrip-next",d),action:(c.getValue()>=a.length-1)?"add":"remove",cssClass:"disabled"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(d,c,b){return{element:mojo.query("> .filmstrip-prev",d),action:(c.getValue()<=0)?"add":"remove",cssClass:"disabled"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","Tween",function(d,c,b){if(dojo.getComputedStyle(a[c.getValue()].parentNode).position!="static"){return{x:(-1*a[c.getValue()].offsetLeft),y:(-1*a[c.getValue()].offsetTop),element:mojo.query("> .filmstrip-viewer > .filmstrip-content",d),duration:b.getValue("duration")}}else{return{element:[]}}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(c,b){return{element:a,action:"remove",cssClass:"selected"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(c,b){return{element:a[b.getValue()],action:"add",cssClass:"selected"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","PublishMessage",function(d,c,b){return{topic:"/filmstrip/indexChanged",message:{context:d,selectedIndex:b.getValue("selectedIndex")}}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Tween","stdlib.behavior.TweenBehavior");this.addCommand("PublishMessage","stdlib.behavior.MessagingBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.GoogleSearchBarController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.GoogleSearchBarController",mojo.controller.Controller,{addObservers:function(){this.addObserver("form","onsubmit","PreventDefault")},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior")},addIntercepts:function(){this.addIntercept("around","PreventDefault","BlockProceed",function(c,b,a){var d=mojo.queryFirst("#google-search-input").value;if(!d||!d.trim()){return{condition:true}}})}});dojo.provide("cox.controller.HoverController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.HoverController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this.getContextElement(),"onmouseover","UpdateClass",function(b,a){return{element:a,action:"add",cssClass:"hover"}});this.addObserver(this.getContextElement(),"onmouseout","UpdateClass",function(b,a){return{element:a,action:"remove",cssClass:"hover"}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.HoverLayerController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.HoverLayerController",mojo.controller.Controller,{params:{x_offset:{required:false,defaultValue:0,type:Number},y_offset:{required:false,defaultValue:0,type:Number},delay:{required:false,defaultValue:1000,type:Number}},addObservers:function(){var d=mojo.queryFirst("#hover-layer");if(!d){d=new Element("div",{"class":"store-hover",id:"hover-layer"});d.innerHTML+='<div class="bd"></div><div class="ft"></div>';document.body.appendChild(d)}var b;var c;var a;this.addObserver(mojo.query(".call-hover-layer",this.getContextElement()),"onmouseover","HoverLayer",function(g,f,e){var h=f;for(var k=h;k.tagName!="HTML";k=k.parentNode){if(dojo.hasClass(k,"hover-box")){b=k}}if(c==b&&dojo.hasClass(d,"show-hover")){a=false}else{c=b;a=true}return{show:true,element:c,hoverContainer:d,xOffset:e.getValue("x_offset"),yOffset:e.getValue("y_offset"),delay:e.getValue("delay"),newHover:a}});this.addObserver(mojo.query(".call-hover-layer",this.getContextElement()),"onmouseout","HoverLayer",function(g,f,e){return{hide:true,hoverContainer:d,delay:e.getValue("delay")}});this.addObserver(d,"onmouseover","HoverLayer",function(g,f,e){clearTimeout(window.hoverTimeout)});this.addObserver(d,"onmouseout","HoverLayer",function(g,f,e){return{hide:true,hoverContainer:d,delay:e.getValue("delay")}})},addCommands:function(){this.addCommand("HoverLayer","cox.behavior.HoverLayerBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.InputLabelController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.InputLabelController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","SetInputLabel",function(){var a=(mojo.queryFirst("label[id$='-label']",this.getContextElement()).innerText||mojo.queryFirst("label[id$='-label']",this.getContextElement()).textContent);return{input:mojo.queryFirst("input[id$='-input']",this.getContextElement()),label:a,show:true}});this.addObserver("input[id$='-input']","onfocus","SetInputLabel",function(b,a){var c=(mojo.queryFirst("label[id$='-label']",this.getContextElement()).innerText||mojo.queryFirst("label[id$='-label']",this.getContextElement()).textContent);return{input:a,label:c,show:false}});this.addObserver("input[id$='-input']","onblur","SetInputLabel",function(b,a){var c=(mojo.queryFirst("label[id$='-label']",this.getContextElement()).innerText||mojo.queryFirst("label[id$='-label']",this.getContextElement()).textContent);return{input:a,label:c,show:true}})},addCommands:function(){this.addCommand("SetInputLabel","cox.behavior.interface.form.SetInputLabelBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.KanaSearchController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.KanaSearchController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query("form#support-search"),"onsubmit","PreventDefaultSearch")},addCommands:function(){this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("PreventDefaultSearch","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){this.addIntercept("around","PreventDefaultSearch","BlockProceed",function(d,c,b){var e=dojo.trim(mojo.queryFirst("#search-all-keyword-label").innerHTML);var a=dojo.trim(mojo.queryFirst("#search-all-keyword-input").value);if(a==e||!a){return{condition:true}}})}});dojo.provide("cox.controller.MapInfoBoxController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.MapInfoBoxController",mojo.controller.Controller,{params:{map:{defaultValue:null}},addObservers:function(){this.addObserver("form.get-directions-from-form","onsubmit","PreventDefault");this.addObserver("form.get-directions-from-form","onsubmit","Messaging",function(e,d,a){mojo.Messaging.publish("switchMapDirections","enable");var f=mojo.queryFirst("#directions-form");var g=mojo.queryFirst("#map-container form.get-directions-from-form");f["map-address-input"].value=mojo.queryFirst("#map-container .maps-marker-info .address").innerHTML.replace(/<br[^>]*>/gi,",");var b=mojo.queryFirst("input",g);var c=mojo.queryFirst("label[for='"+b.id+"']",g);f["map-end-address-input"].value=(c&&(c.childNodes[0].textContent==b.value))?"":b.value;a.getValue("map").closeInfoWindow();return{topic:"getMapDirections"}});this.addObserver("form.get-directions-to-form","onsubmit","PreventDefault");this.addObserver("form.get-directions-to-form","onsubmit","Messaging",function(e,d,a){mojo.Messaging.publish("switchMapDirections","enable");var f=mojo.queryFirst("#directions-form");var g=mojo.queryFirst("#map-container form.get-directions-to-form");var b=mojo.queryFirst("input",g);var c=mojo.queryFirst("label[for='"+b.id+"']",g);f["map-address-input"].value=(c&&(c.childNodes[0].textContent==b.value))?"":b.value;f["map-end-address-input"].value=mojo.queryFirst("#map-container .maps-marker-info .address").innerHTML.replace(/<br[^>]*>/gi,",");a.getValue("map").closeInfoWindow();return{topic:"getMapDirections"}});this.addObserver("form","onsubmit","ValidateForm",function(c,b,a){return{form:mojo.queryFirst("#directions-form")}});this.addObserver(".get-directions-links a","onclick","PreventDefault");this.addObserver(".get-directions-links a","onclick","UpdateClass",function(e,d,b){var c=/get-directions-\w*-/;var f=dojo.map(d.className.split(" "),function(g){return c.exec(g)[0]}).join("");var a=mojo.query(".active",e).length?"":"[class^='"+f+"']";return{element:mojo.query(".get-directions-links a"+a+", form"+a,e),action:"toggle",cssClass:"active"}})},addCommands:function(){this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("ValidateForm","cox.behavior.interface.form.ValidateFormBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.MessageCountsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.MessageCountsController",mojo.controller.Controller,{params:{showNew:{required:false,defaultValue:false,type:Boolean}},addObservers:function(){this.addObserver(this,"onInit","LoadMessages",function(b,a){var c=(typeof(messageCountsUrl)!="undefined")?messageCountsUrl:"/myconnection/messagecount.mapajax";var d=this.getController().getValue("showNew");if(this.getController().getValue("showNew")){return{href:c,append:" New",replace:{".count-email .total":"email",".count-voicemail .total":"voicemail"}}}else{return{href:c,replace:{"#count-email .total":"email","#count-voicemail .total":"voicemail","#count-appointment .total":"appointment"}}}})},addCommands:function(){this.addCommand("LoadMessages","cox.behavior.LoadContentBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.MultiToggleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.MultiToggleController",mojo.controller.Controller,{params:{},addObservers:function(){var a=mojo.query(".toggle",this.getContextElement());this.addObserver(mojo.Messaging.getTopic("/toggle/changed"),"onPublish","UpdateClass",function(e,c){var f=mojo.Model.get("toggle")||[];var b=true;for(var d=0;d<a.length;d++){if(f.indexOf(a[d].id)==-1){b=false}}return{element:this.getController().getContextElement(),action:b?"add":"remove",cssClass:"multitoggle-open"}});this.addObserver(".multitoggle-button, .multitoggle-button-partial","onclick","PreventDefault");this.addObserver(".multitoggle-button, .multitoggle-button-partial","onclick","Messaging",function(){var d=dojo.clone(mojo.Model.get("toggle"))||[];var b=true;for(var c=0;c<a.length;c++){if(d.indexOf(a[c].id)==-1){b=false}}for(var c=a.length-1;c>=0;c--){if(b){d.splice(d.indexOf(a[c].id),1)}else{if(d.indexOf(a[c].id)==-1){d.push(a[c].id)}}}return{topic:"/toggle/force",message:{toggle:d}}})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.PopupController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.PopupController",mojo.controller.Controller,{params:{action:{required:false,defaultValue:"onclick",type:String},windowName:{required:false,defaultValue:"COXPOP",type:String},windowWidth:{required:false,defaultValue:"985",type:String},windowHeight:{required:false,defaultValue:"500",type:String},windowProps:{required:false,defaultValue:{status:1,scrollbars:1,resizable:1,toolbar:1},type:Object}},addObservers:function(){var a=this.getValue("action");this.addObserver(this.getContextElement(),a,"PreventDefault");this.addObserver(this.getContextElement(),a,"PopupWindow",function(b,c,k){var m=k.getValue("windowProps");var l=[];var d=c.rel.split(",");var h=d[0];var g=d[1];var e=(h)?h:k.getValue("windowWidth");var f=(g)?g:k.getValue("windowHeight");for(var n in m){l.push(n+"="+m[n])}return{url:c.href,windowName:k.getValue("windowName"),windowProps:"width="+e+",height="+f+","+l.join(",")}})},addCommands:function(){this.addCommand("PopupWindow","cox.behavior.PopupWindowBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ProductOverviewController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ProductOverviewController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.Messaging.getTopic("/metrics/callForInfo"),"onPublish","Set",function(b,a){var c=mojo.queryFirst("#business-title-text");if(!c){return{}}else{c=c.innerHTML.toLowerCase();return{mode:"set",params:{eventName:"productView",products:";"+c,productName:c}}}})},addCommands:function(){this.addCommand("Set","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.ScrollController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ScrollController",mojo.controller.Controller,{params:{stepHeight:{defaultValue:50,type:Number},repeatRate:{defaultValue:200,type:Number}},addObservers:function(){this.addObserver(".scroll-button","onmousedown","Scroll",function(c,b,a){return{amount:a.getValue("stepHeight"),repeatRate:a.getValue("repeatRate"),hold:true,victim:mojo.query(".scroll-list",c)[0],caller:b}});this.addObserver(".scroll-button","onmouseup","Scroll",function(c,b,a){return{amount:0,hold:true,victim:mojo.query(".scroll-list",c)[0],caller:b}});this.addObserver(".scroll-button","onclick","Scroll",function(c,b,a){return{amount:a.getValue("stepHeight"),victim:mojo.query(".scroll-list",c)[0],caller:b}});this.addObserver(mojo.Messaging.getTopic("/toggle/changeCompleted"),"onPublish","Scroll",function(c,b,a){return{amount:0,victim:mojo.query(".scroll-list",c)[0]}});this.addObserver(".scroll-button","onselectstart","PreventDefault");this.addObserver(".scroll-button","onmousedown","PreventDefault")},addCommands:function(){this.addCommand("Scroll","cox.behavior.ScrollBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.SearchResultsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.SearchResultsController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","InitSearchHeader",function(){var a=mojo.queryFirst("#search-categories a");return{countURL:a?a.href:null}});this.addObserver(mojo.query("#categories ul li a"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{contextualFlag:"contextual search"}}}});this.addObserver(mojo.query("#residential-search-content #results a"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{eventName:"searchResultClicked"}}}});this.addObserver(mojo.query("#search-recommendations a"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{eventName:"searchRecommendationClicked"}}}})},addCommands:function(){this.addCommand("InitSearchHeader","cox.behavior.InitSearchHeader");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.SessionVarController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.SessionVarController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","InitSessionVar",function(b,a){return{elm:mojo.queryFirst("#content")}})},addCommands:function(){this.addCommand("InitSessionVar","cox.behavior.InitSessionVarBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ShoppingAssistantController");dojo.require("mojo.controller.Controller");var displayingLogin=false;dojo.declare("cox.controller.ShoppingAssistantController",mojo.controller.Controller,{params:{displayBlockSelectors:{defaultValue:[],type:Array},displayNoneSelectors:{defaultValue:[],type:Array}},addObservers:function(){this.addObserver(mojo.queryFirst(".sign-in-link"),"onclick","PreventDefault");this.addObserver(mojo.queryFirst(".sign-in-link"),"onclick","SwapElementDisplay",function(c,b,a){var d=["#loginTypeDiv","#imNotACoxCustomer","#refreshOffersDivPinIdm"];var e=["#imACoxCustomer","#getSpecialOffersText","#addressDisplay","#currentServicesDiv","#refreshOffersDiv"];d.push("#coxPinDiv","#editAddressDiv");e.push("#userNamePasswordDiv","#getSpecialOffersText");a.setValue("displayBlockSelectors",d);a.setValue("displayNoneSelectors",e)});this.addObserver(mojo.queryFirst(".sign-out-link"),"onclick","PreventDefault");this.addObserver(mojo.queryFirst(".sign-out-link"),"onclick","SwapElementDisplay",function(c,b,a){displayingLogin=false;a.setValue("displayBlockSelectors",["#editAddressDiv","#refreshOffersDiv","#imACoxCustomer","#getSpecialOffersText"]);a.setValue("displayNoneSelectors",["#loginTypeDiv","#refreshOffersDivPinIdm","#coxPinDiv","#imNotACoxCustomer","#userNamePasswordDiv","#addressDisplay","#currentServicesDiv"])});this.addObserver(mojo.queryFirst(".edit-address-link"),"onclick","PreventDefault");this.addObserver(mojo.queryFirst(".edit-address-link"),"onclick","SwapElementDisplay",function(c,b,a){a.setValue("displayBlockSelectors",["#editAddressDiv","#refreshOffersDiv","#imACoxCustomer"]);a.setValue("displayNoneSelectors",["#addressDisplay","#currentServicesDiv"])});this.addObserver(mojo.queryFirst(".shoppingAssistantForm"),"onsubmit","PreventDefault");this.addObserver(this.getCommand("ValidateRules"),"onResponse","Submit",function(b,a){return{formSet:mojo.queryFirst(".shoppingAssistantForm")}});this.addObserver(this.getCommand("ValidateRules"),"execute","UpdateCss",function(){var a=mojo.queryFirst("#shoppingassistant-form-errors .mojoValidationError");if(a){a.scrollIntoView()}})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("SwapElementDisplay","cox.behavior.SwapElementDisplay");this.addCommand("UpdateCss","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Submit","stdlib.behavior.SubmitFormBehavior");this.addCommand("ValidateRules","stdlib.command.ValidateRulesCommand");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior")},addIntercepts:function(){this.addIntercept("before","BlockProceed","ValidateRules",{targetElement:mojo.queryFirst("#shoppingassistant-form-errors"),rules:"cox.rules.residential.ShoppingAssistantRules",formSet:mojo.queryFirst(".shoppingAssistantForm")});this.addIntercept("around","PreventDefault","BlockProceed",function(){var a=mojo.queryFirst("#shoppingassistant-form-errors .mojoValidationError");return{condition:!!a}})}});function signMeInWithPin(){displayingLogin=true;document.getElementById("imNotACoxCustomer").style.display="block";document.getElementById("imACoxCustomer").style.display="none";document.getElementById("addressDisplay").style.display="none";document.getElementById("currentServicesDiv").style.display="none";document.getElementById("editAddressDiv").style.display="block";document.getElementById("coxPinDiv").style.display="block";document.getElementById("refreshOffersDiv").style.display="none";document.getElementById("refreshOffersDivPinIdm").style.display="block"}function signMeInNoPin(){displayingLogin=true;document.getElementById("imNotACoxCustomer").style.display="none";document.getElementById("imACoxCustomer").style.display="block";document.getElementById("addressDisplay").style.display="none";document.getElementById("currentServicesDiv").style.display="none";document.getElementById("editAddressDiv").style.display="block";document.getElementById("coxPinDiv").style.display="none";document.getElementById("refreshOffersDiv").style.display="block";document.getElementById("refreshOffersDivPinIdm").style.display="none"}function changeLoginType(){if(document.getElementById("login-type").selectedIndex==0){document.getElementById("coxPinDiv").style.display="block";document.getElementById("editAddressDiv").style.display="block";document.getElementById("userNamePasswordDiv").style.display="none"}else{document.getElementById("coxPinDiv").style.display="none";document.getElementById("editAddressDiv").style.display="none";document.getElementById("userNamePasswordDiv").style.display="block"}}function cancelLogin(){displayingLogin=false;document.getElementById("coxPinDiv").style.display="none";document.getElementById("imNotACoxCustomer").style.display="none";document.getElementById("imACoxCustomer").style.display="block";document.getElementById("userNamePasswordDiv").style.display="none";document.getElementById("editAddressDiv").style.display="block";document.getElementById("addressDisplay").style.display="none";document.getElementById("currentServicesDiv").style.display="none";document.getElementById("refreshOffersDiv").style.display="block";document.getElementById("refreshOffersDivPinIdm").style.display="none"}dojo.provide("cox.controller.SoleSurvivorController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.SoleSurvivorController",mojo.controller.Controller,{params:{},addObservers:function(){var b=document.location.hash;var a=/---ALONE$/i;var c=a.test(b);if(c){this.addObserver(this,"onInit","UpdateClass",function(f,e,d){b=b.replace(a,"").replace(/^#/,"");var g=mojo.queryFirst("div[id="+b+"]");if(!g){return}if(g.outerHTML){f.innerHTML=g.outerHTML}else{f.innerHTML="";f.appendChild(g)}if(f.outerHTML){document.body.innerHTML=f.outerHTML}else{document.body.innerHTML="";document.body.appendChild(f)}dojo.style(document.body,"background","none");mojo.query(".return-to-top").style("display","none");g=mojo.queryFirst("div[id="+b+"]");dojo.style(g,"fontSize","12px");dojo.style(g,"border","none");dojo.style(g,"padding","0 5px 0 0");document.documentElement.scrollTop=0})}},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.SplashController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.SplashController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","Focus",function(b,a){return{target:mojo.queryFirst("input[name='zipcode']")}});this.addObserver(mojo.Messaging.getTopic("/metrics/callForInfo"),"onPublish","Set",function(b,a){var d=mojo.queryFirst(".server-error");var c;if(d){c="splashlocation:error:zipcode"}else{c=null}return{mode:"set",params:{formName:c}}});this.addObserver("#splash-location-zipcode-form","onsubmit","Track",function(d,c){var e=mojo.queryFirst("#splash-zipcode");var a=mojo.queryFirst("#splash-state");var b;if(!e.value){b="splashlocation:success:state"}else{b="splashlocation:success:zipcode"}return{mode:"track",params:{type:"event",options:{formName:b}}}})},addCommands:function(){this.addCommand("Set","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("SubmitForm","cox.behavior.interface.form.SubmitFormBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Redirect","stdlib.behavior.RedirectBehavior");this.addCommand("Focus","cox.behavior.FocusBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.SplashLocationController");dojo.require("cox.controller.LocationController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.SplashLocationController",cox.controller.LocationController,{params:{isOpen:{defaultValue:false,type:Boolean},queryString:{defaultValue:"",type:String}},addObservers:function(){this.addObserver(mojo.query(".splash-tooltip"),"onmousemove","UpdateClass",function(b,a){return{element:a,action:"add",cssClass:"active-hover"}});this.addObserver(mojo.query(".splash-tooltip"),"onmouseleave","UpdateClass",function(b,a){return{element:a,action:"remove",cssClass:"active-hover"}});this.addObserver(mojo.query(".location-record-hd"),"onclick","PopUp",function(b,a){return{element:a,show:true}});this.addObserver(mojo.query(".location-record-hd"),"onclick","UpdateForm");this.addObserver(mojo.query(".location-record-close-button"),"onclick","PopUp",function(b,a){return{element:a,show:false}});this.addObserver(mojo.query(".location-record-bd a"),"onclick","PreventDefault");this.addObserver(mojo.query(".location-record-bd a"),"onclick","SetChecked",function(c,b){var a;if(dojo.hasClass(b,"btn-for-residential")){a=mojo.queryFirst("#radio-residential")}else{a=mojo.queryFirst("#radio-business")}return{target:a}});this.addObserver(this.getCommand("SetChecked"),"execute","DisableBox",function(b,a){return{show:true,target:mojo.queryFirst("#splash-location")}});this.addObserver(this.getCommand("DisableBox"),"execute","SubmitForm",function(b,a){return{formSet:mojo.queryFirst("#splash-location-zipcode-form"),delay:750}});this.addObserver(this.getCommand("UpdateForm"),"execute","AutoSubmitForm",function(b,a){return{formSet:mojo.queryFirst("#splash-location-zipcode-form"),delay:750}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand");this.addCommand("PopUp","cox.behavior.splash.PopUpBehavior");this.addCommand("SubmitForm","cox.behavior.interface.form.SubmitFormBehavior");this.addCommand("AutoSubmitForm","cox.behavior.interface.form.SubmitFormBehavior");this.addCommand("UpdateForm","cox.behavior.splash.UpdateFormBehavior");this.addCommand("SetChecked","cox.behavior.interface.form.SetCheckedBehavior");this.addCommand("Redirect","stdlib.behavior.RedirectBehavior");this.addCommand("DisableBox","cox.behavior.DisableBoxBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior")},addIntercepts:function(){this.addIntercept("around","AutoSubmitForm","BlockProceed",function(){return{condition:__coxOmnitureParams.sectionName=="intercept"}})}});dojo.provide("cox.controller.SplashTabController");dojo.require("mojo.controller.Controller");dojo.require("stdlib.controller.TabController");dojo.declare("cox.controller.SplashTabController",stdlib.controller.TabController,{addObservers:function(){this.addObserver(".tab","onclick","Fade",function(b,a){return{element:mojo.queryFirst(".tabs-content",b),mode:"fadeIn"}})},addCommands:function(){this.addCommand("Fade","cox.behavior.FadeBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.SupportController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.SupportController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query("#support #search-results h3 a"),"onclick","Track",function(){return{mode:"track",params:{type:"event",options:{eventName:"searchResultClicked"}}}});this.addObserver("form#support-feedback","onsubmit","PreventDefaultFeedback");this.addObserver("a.print","onclick","PreventDefault");this.addObserver(mojo.query("form#set-rating a"),"onmouseover","UpdateClass",function(c,b){var a=mojo.queryFirst("form#set-rating .rating-text");a.innerHTML=b.title});this.addObserver(mojo.query("form#set-rating a"),"onmouseout","UpdateClass",function(c,b){var a=mojo.queryFirst("form#set-rating .rating-text");a.innerHTML=""});this.addObserver("form#set-rating a","onclick","PreventDefault");this.addObserver("form#set-rating a","onclick","UpdateClass",function(e,d,b){var a=mojo.queryFirst("form#set-rating");var c=d.innerHTML;var f=mojo.query("input[name='articleId']",a)[0].value;a.innerHTML="<span class='rating rating-"+c+"'></span><span>Thank you for rating this article.</span>";dojo.xhrGet({url:a.action+"?rating="+c+"&articleId="+f,handleAs:"text",timeout:10000})});this.addObserver("form#narrow-search-form select","onchange","UpdateClass",function(d,b){var c=mojo.queryFirst("form#support-search");var a=mojo.queryFirst("input[name='filter']",c);a.value=b.value;c.submit()});this.addObserver(".guidedsolutionradio","onclick","UpdateClass",function(b,a){dojo.query(".guidedsolutionradio").forEach(function(c){dojo.removeClass(c,"selected")});dojo.addClass(a,"selected");mojo.queryFirst("input",a).checked=true});this.addObserver(".ghNavBottom a","onclick","PreventDefault");this.addObserver(".ghNavBottom a","onclick","AjaxBehavior",function(b,a){var c=false;var d="";var e="";dojo.query("input[type=radio]",b).forEach(function(f){if(f.checked){c=true;d=(a.search)?"&":"?";e=f.name+"="+f.value}});if(c||dojo.hasClass(a,"ghBack")){return{responseContainer:mojo.queryFirst(".response",b),loadingWrapperId:mojo.queryFirst(".loading-wrapper",b).id,activeLink:a.href+d+e}}})},addCommands:function(){this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("PreventDefaultFeedback","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("AjaxBehavior","cox.behavior.interface.AjaxBehavior")},addIntercepts:function(){this.addIntercept("around","PreventDefaultFeedback","BlockProceed",function(e,d,b){var a=mojo.queryFirst("#article-feedback-input").value.trim();var g=mojo.queryFirst("#article-feedback-label").innerHTML.trim();if(a!=g&&a!=""){var f=mojo.queryFirst("form#support-feedback .form-submit");f.innerHTML="<span class='feedback-confirm'>Thank you for taking the time to submit your comments. We use your valuable feedback to continue improving our site.</span>";dojo.xhrPost({url:d.action,form:d,handleAs:"text",timeout:10000});var c=mojo.queryFirst("#article-feedback-input");c.disabled=true}return{condition:true}})}});dojo.provide("cox.controller.TextFieldDefaultController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.TextFieldDefaultController",mojo.controller.Controller,{addObservers:function(){var a=this.getContextElement();var b=a.value;this.addObserver(this.getContextElement(),"onfocus","UpdateClass",function(d,c){if(a.value==b){a.value=""}});this.addObserver(this.getContextElement(),"onblur","UpdateClass",function(d,c){if(a.value==""){a.value=b}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.TextareaLabelController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.TextareaLabelController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","SetTextareaLabel",function(){var a=(mojo.queryFirst("label[id$='-label']",this.getContextElement()).innerText||mojo.queryFirst("label[id$='-label']",this.getContextElement()).textContent);return{input:mojo.queryFirst("textarea[id$='-input']",this.getContextElement()),label:a,show:true}});this.addObserver("textarea[id$='-input']","onfocus","SetTextareaLabel",function(b,a){var c=(mojo.queryFirst("label[id$='-label']",this.getContextElement()).innerText||mojo.queryFirst("label[id$='-label']",this.getContextElement()).textContent);return{input:a,label:c,show:false}});this.addObserver("textarea[id$='-input']","onblur","SetTextareaLabel",function(b,a){var c=(mojo.queryFirst("label[id$='-label']",this.getContextElement()).innerText||mojo.queryFirst("label[id$='-label']",this.getContextElement()).textContent);return{input:a,label:c,show:true}})},addCommands:function(){this.addCommand("SetTextareaLabel","cox.behavior.interface.form.SetInputLabelBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ToggleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ToggleController",mojo.controller.Controller,{params:{isOpen:{defaultValue:false,type:Boolean},isOpenOriginal:{defaultValue:false,type:Boolean},isAnimating:{defaultValue:false,type:Boolean},activeOn:{defaultValue:"onclick",type:String},duration:{defaultValue:400,type:Number}},addObservers:function(){this.addObserver(this,"onInit","InitToggle",function(){return{id:this.getContextElement().id,element:mojo.queryFirst(".toggle-element",this.getContextElement()),controller:this.getController()}});this.addObserver(".toggle-button",this.getValue("activeOn"),"PreventDefault");this.addObserver(".toggle-button",this.getValue("activeOn"),"Tween",function(){var a=mojo.queryFirst(".toggle-wrapper",this.getContextElement());return{element:a,height:this.getController().getValue("isOpen")?0:a.scrollHeight,duration:this.getController().getValue("duration")}});this.addObserver(".toggle-button",this.getValue("activeOn"),"PublishMessage",function(){var a=mojo.queryFirst(".toggle-wrapper",this.getContextElement());return{topic:"/toggle/userActivated",message:{context:this.getContextElement(),isOpen:this.getController().getValue("isOpen")}}});this.addObserver(mojo.Messaging.getTopic("/toggle/force"),"onPublish","ForceTween",function(){var a=mojo.queryFirst(".toggle-wrapper",this.getContextElement());return{element:a,height:this.getController().getValue("isOpen")?0:a.scrollHeight,duration:this.getController().getValue("duration")}});this.addObserver(this.getCommand("Tween"),"onComplete","UpdateControllerParam",function(c,b,a){return{control:this.getController().declaredClass,params:"isAnimating",value:false,element:c}});this.addObserver(this.getCommand("ForceTween"),"onComplete","UpdateControllerParam",function(c,b,a){return{control:this.getController().declaredClass,params:"isAnimating",value:false,element:c}});this.addObserver(this.getConfig("params").isOpen,"onChange","UpdateClass",function(){return{element:this.getController().getContextElement(),action:this.getController().getValue("isOpen")?"add":"remove",cssClass:"toggle-open"}});this.addObserver(this.getConfig("params").isOpen,"onChange","UpdateFormField",function(b,a){var c=mojo.queryFirst(".toggle-form-field input",b);if(!c){return}return{formObj:b,fields:[{name:c.name,value:this.getController().getValue("isOpen")?"true":"false"}]}});this.addObserver(this.getConfig("params").isOpen,"onChange","SetModel",function(){var b=this.getController();var d=b.getValue("isOpen");var e=this.getContextElement().id;var a=(dojo.clone(mojo.Model.get("toggle"))||[]);var c=a.indexOf(e);if(a.indexOf(e)!=-1){a.splice(c,1)}if(d!=b.getValue("isOpenOriginal")){a.push(e)}return{model:"toggle",set:a}});this.addObserver(this.getCommand("BlockProceed"),"onBeforeProceed","UpdateControllerParam",function(c,b,a){return{control:this.getController().declaredClass,params:"isAnimating",value:true,element:c}});this.addObserver(this.getCommand("BlockProceed"),"onAfterProceed","UpdateControllerParam",function(c,b,a){return{control:this.getController().declaredClass,params:"isOpen",value:!this.getController().getValue("isOpen"),element:c}});this.addObserver(this.getConfig("params").isOpen,"onChange","PublishMessage",function(){return{topic:"/toggle/changed",message:{context:this.getContextElement(),isOpen:this.getController().getValue("isOpen")}}});this.addObserver(this.getCommand("Tween"),"onComplete","PublishMessage",function(){return{topic:"/toggle/changeCompleted",message:{context:this.getContextElement(),isOpen:this.getController().getValue("isOpen")}}});this.addObserver(this.getCommand("ForceTween"),"onComplete","PublishMessage",function(){return{topic:"/toggle/forcedChangeCompleted",message:{context:this.getContextElement(),isOpen:this.getController().getValue("isOpen")}}});this.addObserver("#feature-header-text",this.getValue("activeOn"),"Tween",function(){var a=mojo.queryFirst(".toggle-wrapper",this.getContextElement());return{element:a,height:this.getController().getValue("isOpen")?0:a.scrollHeight,duration:this.getController().getValue("duration")}});this.addObserver("#feature-header-text",this.getValue("activeOn"),"PreventDefault")},addCommands:function(){this.addCommand("InitToggle","cox.behavior.InitToggleBehavior");this.addCommand("Tween","stdlib.behavior.TweenBehavior");this.addCommand("ForceTween","stdlib.behavior.TweenBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand");this.addCommand("PublishMessage","stdlib.behavior.MessagingBehavior");this.addCommand("SetModel","stdlib.command.SetModelCommand");this.addCommand("UpdateFormField","stdlib.behavior.UpdateFormFieldBehavior")},addIntercepts:function(){this.addIntercept("around","Tween","BlockProceed",function(){return{condition:!this.getController().getValue("isAnimating")}});this.addIntercept("around","ForceTween","BlockProceed",function(c,b,a){var d=false;if(c.id){d=(b.getMessage().toggle.indexOf(c.id)>-1)!=(a.getValue("isOpenOriginal")!=a.getValue("isOpen"))}return{condition:!this.getController().getValue("isAnimating")&&d}})}});dojo.provide("cox.controller.ToggleFilmStripController");dojo.require("stdlib.controller.FilmStripController");dojo.declare("cox.controller.ToggleFilmStripController",stdlib.controller.FilmStripController,{params:{isToggled:{defaultValue:false,type:Boolean}},addObservers:function(){var d=mojo.query(".filmstrip-item",this.getContextElement());this.addObserver(d,"onmouseleave","UpdateCss",function(){return{element:d,action:"remove",cssClass:"active"}});this.addObserver(d,"onmouseenter","UpdateCss",function(f,e){return{element:e,action:"add",cssClass:"active"}});this.addObserver(d,"onclick","Redirect",function(f,e){var g=mojo.queryFirst("a",e);return{url:g.href,delay:0}});var b=mojo.queryFirst(".filmstrip-next",this.getContextElement());var c=mojo.queryFirst(".filmstrip-prev",this.getContextElement());this.addObserver(this.getContextElement(),"onmouseover","UpdateClass",function(g,f){var e=this.getController().getValue("isToggled");if(dojo.hasClass(b,"disabled")||e){return}return{element:b,action:"remove",cssClass:"filmstrip-next-disabled"}});this.addObserver(this.getContextElement(),"onmouseover","UpdateClass",function(g,f){var e=this.getController().getValue("isToggled");if(dojo.hasClass(c,"disabled")||e){return}return{element:c,action:"remove",cssClass:"filmstrip-prev-disabled"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","PublishMessage",function(g,f,e){return{topic:"/togglefilmstrip/indexChanged",message:{context:g,selectedIndex:e.getValue("selectedIndex")}}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(h,g){var f=mojo.query("> .filmstrip-viewer > .filmstrip-content > .filmstrip-page",this.getContextElement());var e=this.getController().getValue("selectedIndex");if(f.length==1){b.style.display="none";c.style.display="none"}if(e==0){return{element:c,action:"add",cssClass:"filmstrip-prev-disabled"}}else{if(e==(f.length-1)){return{element:b,action:"add",cssClass:"filmstrip-next-disabled"}}}});for(var a=this.getContextElement();a.tagName!="BODY";a=a.parentNode){if(dojo.hasClass(a,"module")){this.addObserver(mojo.queryFirst(".ft a",a),"onclick","PreventDefault");this.addObserver(mojo.queryFirst(".ft a",a),"onclick","UpdateToggledState",function(f,e){var g=this.getController().getValue("isToggled");var h;if(!g){h=true}else{h=false}return{control:this.getController().declaredClass,params:"isToggled",value:h,element:f}});break}}this.addObserver(this.getCommand("UpdateToggledState"),"execute","Warp",function(g,f){var e=this.getController().getValue("isToggled");return{element:mojo.queryFirst(".filmstrip-viewer",g),warp:!!e}});this.addObserver(this.getConfig("params").isToggled,"onChange","UpdateSelectedIndex",function(f,e){return{control:this.getController().declaredClass,params:"selectedIndex",value:0,element:f}});this.addObserver(".filmstrip-next","onmouseover","UpdateClass",function(f,e){return{element:e,action:"add",cssClass:"filmstrip-next-hover"}});this.addObserver(".filmstrip-next","onmouseout","UpdateClass",function(f,e){return{element:e,action:"remove",cssClass:"filmstrip-next-hover"}});this.addObserver(".filmstrip-prev","onmouseover","UpdateClass",function(f,e){return{element:e,action:"add",cssClass:"filmstrip-prev-hover"}});this.addObserver(".filmstrip-prev","onmouseout","UpdateClass",function(f,e){return{element:e,action:"remove",cssClass:"filmstrip-prev-hover"}})},addCommands:function(){this.addCommand("UpdateCss","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("UpdateToggledState","stdlib.command.UpdateControllerParamCommand");this.addCommand("UpdateSelectedIndex","stdlib.command.UpdateControllerParamCommand");this.addCommand("Warp","cox.behavior.business.WarpBehavior");this.addCommand("ArrowButton","cox.behavior.business.ArrowButtonBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Redirect","stdlib.behavior.RedirectBehavior");this.addCommand("PublishMessage","stdlib.behavior.MessagingBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ToolTipController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ToolTipController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this.getContextElement(),"onclick","PreventDefault");this.addObserver(mojo.query(".tooltip-link"),"onclick","Redirect",function(c,b){return{url:b.href,delay:0}});var a=function(b,d){var n=dojo.position(d);var e=mojo.queryFirst(".tooltip-info",d.parentNode);var c=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(e){e=e.innerHTML}else{e="Tooltip not available."}var k=null;var l=dojo.hasClass(d,"wide-tooltip")?".wide-tooltip":".tooltip";var h=document.styleSheets;for(var g=0;g<h.length;g++){var f=h[g].rules||h[g].cssRules;for(var m=0;m<f.length;m++){if(f[m].selectorText==l){k=parseInt(f[m].style.width.replace("px",""))}if(k!=null){break}}if(k!=null){break}}if((n.x+n.w+k+15)>c){return{show:true,info:e,offsetX:n.w-n.w-(dojo.position(d,true).w*2)-25,offsetY:n.h/2-35,underlayMark:".wrapper",template:'<div class="tooltip"><div class="wrapper"><div class="rightarrow">&nbsp;</div><table class="head"><tr><td class="tl"></td><td class="t">&nbsp;</td><td class="tr"></td></tr></table><table class="body"><tr><td class="l"></td><td class="c"><div class="dialog-pane-content"></div></td><td class="r"></td></tr></table>\n<table class="foot"><tr><td class="bl"></td><td class="b">&nbsp;</td><td class="br"></td></tr></table></div></div>'}}else{return{show:true,info:e,offsetX:n.w+15,offsetY:n.h/2-35,underlayMark:".wrapper",template:'<div class="tooltip"><div class="wrapper"><div class="arrow">&nbsp;</div><table class="head"><tr><td class="tl"></td><td class="t">&nbsp;</td><td class="tr"></td></tr></table><table class="body"><tr><td class="l"></td><td class="c"><div class="dialog-pane-content"></div></td><td class="r"></td></tr></table>\n<table class="foot"><tr><td class="bl"></td><td class="b">&nbsp;</td><td class="br"></td></tr></table></div></div>'}}};this.addObserver(this.getContextElement(),"onmouseover","ToolTip",function(d,c){var b=a(d,c);if(dojo.hasClass(c,"wide-tooltip")){b.template=b.template.replace(/class="/i,'class="wide-tooltip ');if(b.offsetX<0){b.offsetX-=134}}if(dojo.hasClass(c,"watch-tooltip")){b.template=b.template.replace(/class="/i,'class="watch-tooltip ');b.offsetY=-28}return b});this.addObserver(this.getContextElement(),"onmouseout","ToolTip",function(){return{show:false}})},addCommands:function(){this.addCommand("ToolTip","cox.behavior.ToolTipBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Redirect","stdlib.behavior.RedirectBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.about.AboutServicesController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.about.AboutServicesController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query(".filmstrip-content .panel"),"onclick","Track",function(c,b){var a=mojo.queryFirst("h2 a",b);return{mode:"track",params:{type:"event",options:{customLink:"service:"+(a.innerHTML).toLowerCase()}}}});this.addObserver(mojo.query(".filmstrip-component .panel img",this.getContextElement()),"onmouseleave","ToolTip",function(){return{show:false}});this.addObserver(mojo.query(".filmstrip-component .panel img",this.getContextElement()),"onmouseenter","ToolTip",function(b,a){var c=mojo.queryFirst(".tooltip-info",a.parentNode.parentNode);if(c){c=c.innerHTML}else{c=""}return{show:true,info:c,offsetX:138,offsetY:0,template:this.getController()._tooltipTemplate}});this.addObserver(".filmstrip-component .filmstrip-next .target, .filmstrip-component .filmstrip-prev div","onmouseover","UpdateClass",function(b,a){return{element:a.previousSibling,action:"add",cssClass:"hover"}});this.addObserver(".filmstrip-component .filmstrip-next .target, .filmstrip-component .filmstrip-prev div","onmouseout","UpdateClass",function(b,a){return{element:a.previousSibling,action:"remove",cssClass:"hover"}});this.addObserver(this,"onInit","SetInputLabel",function(){var a=mojo.queryFirst("#about-ourstory-services #residential-services input[name='zipcode']");if(!a){return}return{input:a,label:mojo.queryFirst("label",a.parentNode),show:true}});this.addObserver(this,"onInit","SetInputLabel",function(){var a=mojo.queryFirst("#about-ourstory-services #business-services input[name='zipcode']");if(!a){return}return{input:a,label:mojo.queryFirst("label",a.parentNode),show:true}});this.addObserver("#about-ourstory-services .location input[name='zipcode']","onfocus","SetInputLabel",function(b,a){return{input:a,label:mojo.queryFirst("label",a.parentNode),show:false}});this.addObserver("#about-ourstory-services .location input[name='zipcode']","onblur","SetInputLabel",function(b,a){return{input:a,label:mojo.queryFirst("label",a.parentNode),show:true}})},addCommands:function(){this.addCommand("ToolTip","cox.behavior.ToolTipBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("SetInputLabel","cox.behavior.interface.form.SetInputLabelBehavior");this.addCommand("Set","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){},_tooltipTemplate:'<div class="aboutservices-tooltip tooltip"><div class="wrapper"><div class="arrow">&nbsp;</div><table class="head"><tr><td class="tl"></td><td class="t">&nbsp;</td><td class="tr"></div></td></tr></table><table class="body"><tr><td class="l"></td><td class="c"><div class="dialog-pane-content"></div></td><td class="r"></td></tr></table>\n<table class="foot"><tr><td class="bl"></td><td class="b">&nbsp;</td><td class="br"></td></tr></table></div></div>'});dojo.provide("cox.controller.business.BusinessHomeController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.BusinessHomeController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query(".business-extras-view a"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{customLink:"find it fast:"+(a.title).toLowerCase()}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.business.BusinessIndustriesHealthcareController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.BusinessIndustriesHealthcareController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query(".toggle-element a"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{customLink:"products:"+(a.title).toLowerCase()}}}});this.addObserver(mojo.query(".business-extras-view a"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{customLink:"extras:"+a.title.toLowerCase()}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.business.BusinessPanelController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.BusinessPanelController",mojo.controller.Controller,{addObservers:function(){var a=mojo.query(".filmstrip-item",this.getContextElement());this.addObserver(a,"onmouseleave","UpdateCss",function(){return{element:a,action:"remove",cssClass:"active"}});this.addObserver(a,"onmouseenter","UpdateCss",function(c,b){return{element:b,action:"add",cssClass:"active"}});this.addObserver(a,"onclick","Redirect",function(c,b){var d=mojo.queryFirst("a",b);return{url:d.href,delay:0}})},addCommands:function(){this.addCommand("UpdateCss","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Redirect","stdlib.behavior.RedirectBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.business.BusinessVoiceManagerFeaturesController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.BusinessVoiceManagerFeaturesController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query(".business-extras-voicemanager a"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{customLink:"extras:"+(a.title).toLowerCase()}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.business.ExtrasForDemoController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.ExtrasForDemoController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query(".business-extras-voicemanager a"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{customLink:"extras:"+(a.title).toLowerCase()}}}});this.addObserver(mojo.query(".business-extras-finditfast a"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{customLink:"find it fast:"+(a.title).toLowerCase()}}}});this.addObserver(mojo.query(".im-considering-view a"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{customLink:"discuss my list:"+(a.title).toLowerCase()}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.business.ImConsideringController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.ImConsideringController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","InitConsideration");this.addObserver(mojo.query("#discuss-my-list"),"onclick","CheckSelected");this.addObserver(mojo.queryFirst("#discuss-my-list #btn-discuss-my-list"),"onclick","PreventDefaultEvent")},addCommands:function(){this.addCommand("InitConsideration","cox.behavior.business.InitKeepForConsiderationBehavior");this.addCommand("CheckSelected","cox.behavior.business.CheckCheckedBoxBehavior");this.addCommand("PreventDefaultEvent","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.business.LeadFormController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.LeadFormController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","PopulateFromWishlist",function(a){return{formElement:a}});this.addObserver(this,"onInit","Focus",function(a){return{target:mojo.queryFirst("input[type='text']",a)}});this.addObserver(this.getContextElement(),"onsubmit","PreventDefault");this.addObserver(this.getCommand("ValidateRules"),"onResponse","Submit",function(b,a){return{formSet:mojo.queryFirst(".leadForm")}});this.addObserver(this.getCommand("ValidateRules"),"execute","UpdateCss",function(){var a=mojo.queryFirst("#site-form-errors .mojoValidationError");if(a){a.scrollIntoView()}})},addCommands:function(){this.addCommand("UpdateCss","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Submit","stdlib.behavior.SubmitFormBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("ValidateRules","stdlib.command.ValidateRulesCommand");this.addCommand("PopulateFromWishlist","cox.behavior.business.PopulateFromWishlistBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("Focus","cox.behavior.FocusBehavior")},addIntercepts:function(){this.addIntercept("before","BlockProceed","ValidateRules",{targetElement:mojo.queryFirst("#site-form-errors"),rules:"cox.rules.business.LeadRules",formSet:mojo.queryFirst(".leadForm")});this.addIntercept("around","PreventDefault","BlockProceed",function(){var a=mojo.queryFirst("#site-form-errors .mojoValidationError");return{condition:!!a}})}});dojo.provide("cox.controller.ecomm.ByobController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.ByobController",mojo.controller.Controller,{params:{isAnimating:{defaultValue:false,type:Boolean},currentPane:{},needPaneSwitch:{defaultValue:false,type:Boolean},displayBlockSelectors:{defaultValue:[],type:Array},displayNoneSelectors:{defaultValue:[],type:Array}},addObservers:function(){var getAccordionPane=function(el){while(el=el.parentNode){if(dojo.hasClass(el,"ecomm-accordion-pane")){return el}}return null};var getIcon=function(pane){return mojo.queryFirst(".ecomm-accordion-icon"+pane.id.replace("pane",""))};this.addObserver(this,"onInit","UpdateClass",function(context,caller,controller){var initialPane=mojo.queryFirst(".open-pane",context);if(initialPane.id!="pane-intro"){controller.setValue("needPaneSwitch",true);controller.setValue("currentPane",mojo.queryFirst(".open-pane",context))}});this.addObserver("a.ecomm-accordion-popsicle","onclick","PreventDefault");this.addObserver("a.ecomm-accordion-popsicle","onclick","ByobAccordion",function(context,caller,controller){var lastOpenPane=mojo.query(".open-pane",context).pop();var pane=getAccordionPane(caller);dojo.addClass(pane,"active-pane");var needRollup=mojo.queryFirst(".toggle-open",lastOpenPane);if(needRollup){controller.setValue("needPaneSwitch",true)}controller.setValue("currentPane",pane);if(!needRollup){return{chosenPane:pane,from:0,to:620}}});this.addObserver("a.ecomm-accordion-remove","onclick","PreventDefault");this.addObserver("a.ecomm-accordion-remove","onclick","UpdateClass",function(context,caller,controller){var pane=getAccordionPane(caller);return{element:mojo.query(".selected",pane),action:"remove",cssClass:"selected"}});this.addObserver("a.ecomm-accordion-remove","onclick","ByobAccordion",function(context,caller,controller){var pane=getAccordionPane(caller);dojo.removeClass(pane,"active-pane");var killedIcon=getIcon(pane);dojo.removeClass(killedIcon,"phantom-icon");dojo.removeClass(killedIcon,"icon-active");var lastActivePane=mojo.query(".active-pane",context).pop();var needRollup=mojo.queryFirst(".toggle-open",pane);if(needRollup){controller.setValue("needPaneSwitch",true)}controller.setValue("currentPane",lastActivePane);if(!needRollup){return{chosenPane:lastActivePane,from:0,to:620}}});this.addObserver(this.getConfig("params").currentPane,"onChange","PublishMessage",function(context,caller,controller){var oldPane=mojo.query(".open-pane",context).pop();if(!mojo.queryFirst(".selected",oldPane)&&(oldPane.id!="pane-intro")){dojo.removeClass(oldPane,"active-pane")}if(controller.getValue("needPaneSwitch")){var enabledToggles=(oldPane.id!="pane-intro")?["ecomm-accordion-overview","ecomm-accordion-legend"]:[];return{topic:"/toggle/force",message:{toggle:enabledToggles}}}else{return{topic:"/toggle/byobNoPaneSwitchNeeded"}}});this.addObserver(this.getConfig("params").currentPane,"onChange","UpdateClass",function(context,caller,controller){var pane=caller.getValue("currentPane");console.log("pane is: ",pane);var icons=mojo.query(".ecomm-accordion-icons li.icon-phantom",context);var newPhantom=getIcon(pane);if(newPhantom){icons.push(newPhantom)}return{element:icons,action:"toggle",cssClass:"icon-phantom"}});this.addObserver(mojo.Messaging.getTopic("/toggle/forcedChangeCompleted"),"onPublish","ByobAccordion",function(context,caller,controller){if(controller.getValue("needPaneSwitch")&&dojo.hasClass(caller.getMessage().context,"ecomm-accordion-wrapper-bd")){controller.setValue("needPaneSwitch",false);return{chosenPane:controller.getValue("currentPane"),from:0,to:620}}});this.addObserver(this.getConfig("params").currentPane,"onChange","UpdateClass",function(context,caller,controller){return{element:context,action:(caller.getValue("currentPane").id!="pane-intro")?"add":"remove",cssClass:"ecomm-byob-nonblank"}});this.addObserver(".ecomm-accordion-pane table.ecomm-accordion-comparison thead a","onclick","PreventDefault");this.addObserver(".ecomm-accordion-pane table.ecomm-accordion-comparison thead a","onclick","UpdateClass",function(context,caller,controller){var pane=getAccordionPane(caller);var oldActiveLevel=mojo.query(".selected",pane);oldActiveLevel.push(caller);dojo.addClass(getIcon(pane),"icon-active");return{element:oldActiveLevel,action:"toggle",cssClass:"selected"}});this.addObserver(".ecomm-accordion-pane table.ecomm-accordion-comparison thead a","onclick","UpdateClass",function(context,caller,controller){window.eval(caller.href.split("javascript:")[1])});this.addObserver(".wireless-select-plan input[name=selectAPlan]","onclick","SwapElementDisplay",function(context,caller,controller){switch(caller.id.match(/(.*)Plan/)[1]){case"family":controller.setValue("displayBlockSelectors",["div.wireless-family-plans"]);controller.setValue("displayNoneSelectors",["div.wireless-individual-plans"]);break;case"individual":controller.setValue("displayBlockSelectors",["div.wireless-individual-plans"]);controller.setValue("displayNoneSelectors",["div.wireless-family-plans"]);break}})},addCommands:function(){this.addCommand("ByobAccordion","cox.behavior.ecomm.ByobAccordion");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("PublishMessage","stdlib.behavior.MessagingBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("SwapElementDisplay","cox.behavior.SwapElementDisplay")},addIntercepts:function(){this.addIntercept("around","ByobAccordion","BlockProceed",function(c,b,a){return{condition:!mojo.queryFirst(".animating")}})}});dojo.provide("cox.controller.ecomm.CalendarController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.CalendarController",mojo.controller.Controller,{params:{pageIndex:{required:false,defaultValue:0,type:Number},slotIndex:{required:false,defaultValue:-1,type:Number},slots:{required:false,defaultValue:[],type:Array},oldSlots:{required:false,defaultValue:[],type:Array}},addObservers:function(){var b=mojo.query(".weeks",this.getContextElement());var h=mojo.query(".calendar-action");var f=mojo.query("#installation-date-choices .datechoice p");var n=mojo.queryFirst(".ecomm-subnav .datechoice p").textContent||mojo.queryFirst(".ecomm-subnav .datechoice p").innerText;var e=false;var d;this.addObserver(this,"onInit","UpdateClass",function(r,q,p){var o=mojo.query(".slot-0-chosen, .slot-1-chosen",r);p.params.slots._value=o;p.params.oldSlots._value=o});var m=this;var g=function(){m.addObserver(h,"onclick","DisplayPopup",function(r,q,p){var o=Math.min(p.getValue("slots").length,h.indexOf(q));p.setValue("slotIndex",o);return{element:r,action:"add",cssClass:"calendar-component-active"}});m.addObserver(h,"onclick","PreventDefault")};this.addObserver(mojo.Messaging.getTopic("/calendar/update"),"onPublish","UpdateClass",function(){h=mojo.query(".calendar-action");g()});g();this.addObserver(mojo.Messaging.getTopic("/throbber"),"onPublish","UpdateClass",function(q,p,o){h=mojo.query(".calendar-action");g()});this.addObserver(".close-button a, .calendar-buttons .cancel-button","onclick","UpdateClass",function(q,p,o){if(e){dojo.forEach(mojo.query(".ecomm-subnav .datechoice p",q),function(t,r){var u=mojo.queryFirst("#installation-date-choices .choice-"+r+" .choice-content p").innerHTML;t.innerHTML=u});dojo.forEach(o.getValue("oldSlots"),function(t,r){dojo.addClass(t,"chosen slot-"+r+"-chosen");console.log(t,"\tchosen slot-"+r+"-chosen")})}else{o.setValue("slots",o.getValue("oldSlots"));o.setValue("slotIndex",-1);dojo.forEach(mojo.query(".ecomm-subnav .datechoice p",q),function(t,r){t.innerHTML=n});dojo.forEach(o.getValue("slots"),function(t,r){dojo.addClass(t,"chosen slot-"+r+"-chosen")});dojo.forEach(mojo.query(".ecomm-subnav .clear-choice-button a",q),function(u,t){var r=mojo.queryFirst("span",u);if(r){r.style.display="none"}u.style.display="none"});return{element:mojo.query(".slot-0-chosen, .slot-1-chosen"),action:"remove",cssClass:["chosen","slot-0-chosen","slot-1-chosen"]}}});this.addObserver(".close-button a, .calendar-buttons .cancel-button, .calendar-buttons .finish-button","onclick","DisplayPopup",function(q,p,o){return{element:q,action:"remove",cssClass:"calendar-component-active"}});this.addObserver(".calendar-buttons .finish-button","onclick","UpdateClass",function(q,p,o){mojo.queryFirst("#installation-date").style.display="none";mojo.queryFirst("#installation-date-choices").style.display="block";if(h.length==3){h.shift()}o.setValue("oldSlots",o.getValue("slots"));dojo.forEach(o.getValue("slots"),function(w,u){var t=w;while(t&&!dojo.hasClass(t,"day")){t=t.parentNode}if(!t){return}dow=mojo.queryFirst("h5",t);t=mojo.queryFirst("h4",t);var x=((dow.textContent||dow.innerText)+", "+(t.textContent||t.innerText)+"<br/>"+(w.textContent||w.innerText)).replace(/\s+/g," ");f[u].innerHTML=x;var v=((dow.textContent||dow.innerText)+", "+(t.textContent||t.innerText)+" @ "+(w.textContent||w.innerText)).replace(/\s+/g," ");var r=mojo.queryFirst("input",f[u].parentNode.parentNode);if(r){r.value=v}})});this.addObserver(".close-button a","onclick","PreventDefault");this.addObserver(".choose-time","onclick","UpdateClass",function(o,q,t){var v=t.getValue("slotIndex");var w=Array.apply(Array,t.getValue("slots"));var z=mojo.query(".ecomm-subnav .datechoice p",this.getContextElement());w[v]=q;if(w.length<=2){var p=w[v];var y=w[v];while(y&&!dojo.hasClass(y,"day")){y=y.parentNode}if(!y){return}var A=mojo.queryFirst("h5",y);var y=mojo.queryFirst("h4",y);var r=((A.textContent||A.innerText)+", "+(y.textContent||y.innerText)+"<br/>"+(p.textContent||p.innerText)).replace(/\s+/g," ");z[v].innerHTML=r;var x="slot-"+v+"-chosen";var u=mojo.query("."+x,o);u.push(q);t.setValue("slots",w);t.setValue("slotIndex",v+1);if(!dojo.hasClass(q,"chosen")){return{element:u,action:"toggle",cssClass:["chosen",x]}}}});this.addObserver(".choose-time","onclick","PreventDefault");var l=mojo.queryFirst(".finish-button",this.getContextElement());var k=mojo.query(".ecomm-subnav .clear-choice-button a",this.getContextElement());var c=mojo.query("#installation-date-choices .edit-choice-button a");var a=function(r,q,o){var p=o.getValue("slotIndex");var t=o.getValue("slots");var u=function(w,x){if(!w){return}var v=mojo.queryFirst("span",w);if(v){v.style.display=x?"":"none"}w.style.display=x?"":"none"};u(l,(t.length==2));u(k[p],t[p]!=null)};this.addObserver(this.getConfig("params").slots,"onChange","UpdateClass",a);this.addObserver(this.getConfig("params").slotIndex,"onChange","UpdateClass",a);this.addObserver(k,"onclick","UpdateClass",function(o,p,t){var q=p;while(q&&!dojo.hasClass(q,"datechoice")){q=q.parentNode}var y=mojo.queryFirst("p",q);y.innerHTML=n;var v=t.getValue("slotIndex");var r=q.className.match(/choice-(\d*)/)[1];var w=Array.apply(Array,t.getValue("slots"));w[r]=null;t.setValue("slots",w);t.setValue("slotIndex",parseInt(r));var x="slot-"+r+"-chosen";var u=mojo.queryFirst("span",l);if(u){u.style.display="none"}l.style.display="none";return{element:mojo.query("."+x),action:"toggle",cssClass:["chosen",x]}});this.addObserver(c,"onclick","UpdateClass",function(p,q,u){e=true;var y=q;while(y&&!dojo.hasClass(y,"datechoice")){y=y.parentNode}var t=y.className.match(/choice-(\d*)/)[1];var o=k[t];var r=o;while(r&&!dojo.hasClass(r,"datechoice")){r=r.parentNode}var A=mojo.queryFirst("p",r);A.innerHTML=n;var w=u.getValue("slotIndex");var x=Array.apply(Array,u.getValue("slots"));x[t]=null;u.setValue("slots",x);u.setValue("slotIndex",parseInt(t));var z="slot-"+t+"-chosen";var v=mojo.queryFirst("span",l);if(v){v.style.display="none"}l.style.display="none";return{element:mojo.query("."+z),action:"toggle",cssClass:["chosen",z]}});this.addObserver(k,"onclick","PreventDefault");this.addObserver(c,"onclick","PreventDefault");this.addObserver(".calendar-buttons a","onclick","PreventDefault");this.addObserver(".next-weeks-button a","onclick","UpdateClass",function(r,p){var q=b;var o=this.getController().getValue("pageIndex");o++;if(o<b.length){this.getController().setValue("pageIndex",o)}});this.addObserver(".next-weeks-button a","onclick","PreventDefault");this.addObserver(".prev-weeks-button a","onclick","UpdateClass",function(r,p){var q=b;var o=this.getController().getValue("pageIndex");o--;if(o>=0){this.getController().setValue("pageIndex",o)}});this.addObserver(".prev-weeks-button a","onclick","PreventDefault");this.addObserver(this.getConfig("params").pageIndex,"onChange","UpdateClass",function(q,p,o){return{element:mojo.query(".next-weeks-button",q),action:(p.getValue()>=b.length-1)?"add":"remove",cssClass:"next-weeks-button-disabled"}});this.addObserver(this.getConfig("params").pageIndex,"onChange","UpdateClass",function(q,p,o){return{element:mojo.query(".prev-weeks-button",q),action:(p.getValue()<=0)?"add":"remove",cssClass:"prev-weeks-button-disabled"}});this.addObserver(this.getConfig("params").pageIndex,"onChange","Tween",function(q,p,o){return{x:(-1*b[p.getValue()].offsetLeft),y:(-1*b[p.getValue()].offsetTop),element:mojo.query(".weeks-container",q),duration:1000}})},addCommands:function(){this.addCommand("DisplayPopup","cox.behavior.ecomm.PopupDisplayBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Tween","stdlib.behavior.TweenBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("ChooseTime","cox.behavior.ecomm.CalendarScheduleBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.CarouselUpdatesPhoneName");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.CarouselUpdatesPhoneName",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","UpdateCSS",function(d,c,a){var b=mojo.query(".carousel-phone-item");this.getContextElement().innerHTML=b[0].innerHTML});this.addObserver(mojo.Messaging.getTopic("/togglefilmstrip/indexChanged"),"onPublish","UpdateCSS",function(e,d,a){var f=d.getMessage();var b=mojo.query(".carousel-phone-item");var c=mojo.query(".carousel-current-phone");dojo.forEach(c,function(h,g){h.innerHTML=b[f.selectedIndex].innerHTML})})},addCommands:function(){this.addCommand("UpdateCSS","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.DifferentAddressToggle");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.DifferentAddressToggle",mojo.controller.Controller,{params:{selectors:{required:false,defaultValue:[],type:Array}},addObservers:function(){this.addObserver(mojo.query(".calls-different-address"),"onclick","UpdateCSS",function(c,b,a){return{element:mojo.queryFirst(".different-address"),action:"add",cssClass:"different-address-show"}})},addCommands:function(){this.addCommand("UpdateCSS","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.DisableSiblingField");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.DisableSiblingField",mojo.controller.Controller,{addObservers:function(){var a=mojo.query(".disable-sibling-child",this.getContextElement());this.addObserver(a,"onkeyup","UpdateCSS",function(d,c,b){if(c.value==""){dojo.forEach(a,function(f,e){f.disabled=false});c.focus()}else{dojo.forEach(a,function(f,e){f.disabled=true});c.disabled=false;c.focus()}})},addCommands:function(){this.addCommand("UpdateCSS","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.FancyPrintController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.FancyPrintController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".fancy-print","onclick","PreventDefault",function(b,c,f){var l=mojo.queryFirst(".popup-trigger-small-content .header h3");var a=mojo.queryFirst(".popup-trigger-small-content .main div:first-child");var e=mojo.queryFirst(".ecomm-5col-module:last-child");var n=dojo.create("div",{id:"offer-details",className:"ecomm-5col-module"},e,"after");dojo.create("div",{className:"hd"},n);var d=dojo.create("div",{className:"bd order-header"},n);dojo.create("h2",{innerHTML:l.innerHTML},d);dojo.create("div",{className:"bd",innerHTML:a.innerHTML},n);dojo.create("div",{className:"ft"},n);for(var h=0;h<dojo.doc.styleSheets.length;h++){var k=dojo.doc.styleSheets.item(h);if(k.href){if((dummy=k.href.match(/print\./))){k.disabled=true}if((dummy=k.href.match(/all\./))||(dummy=k.href.match(/ecomm\./))){if(dojo.isIE<9){if(k.title=="smt_added"){continue}k.disabled=true;var m=document.getElementsByTagName("head")[0];var g=document.createElement("link");g.setAttribute("title","smt_added");g.setAttribute("media","screen,print");g.setAttribute("rel","stylesheet");g.setAttribute("type","text/css");g.setAttribute("href",k.href);m.appendChild(g)}else{k.media.appendMedium("print")}}}}window.print();setTimeout(function(q){for(var o=0;o<dojo.doc.styleSheets.length;o++){var p=dojo.doc.styleSheets.item(o);if(p.href){if((dummy=p.href.match(/print\./))){p.disabled=false}if((dummy=p.href.match(/all\./))||(dummy=p.href.match(/ecomm\./))){if(dojo.isIE<9){p.disabled=false;dojo.query("link[title='smt_added']").forEach(dojo.destroy)}else{if(p.media.mediaText.match(/print/)){p.media.deleteMedium("print")}}}}}dojo.destroy(n)},1000)})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.FlyoutController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.FlyoutController",mojo.controller.Controller,{params:{selectors:{required:false,defaultValue:[],type:Array}},addObservers:function(){this.addObserver(".find-bundles-btn","onclick","PreventDefault");this.addObserver(mojo.query(".find-bundles-btn"),"onclick","UpdateCSS",function(c,b,a){return{element:mojo.queryFirst(".bubble-blue"),action:"add",cssClass:"bubble-special-offers-noshow"}});this.addObserver(".submit-btn","onclick","PreventDefault");this.addObserver(mojo.query(".submit-btn"),"onclick","UpdateCSS",function(c,b,a){return{element:mojo.queryFirst(".bubble-blue"),action:"add",cssClass:"bubble-special-offers-noshow"}})},addCommands:function(){this.addCommand("UpdateCSS","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.PanesSwitcherController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.PanesSwitcherController",mojo.controller.Controller,{params:{selectedIndex:{required:false,defaultValue:0,type:Number}},addObservers:function(){this.addObserver("> .panes-nav select.panes-select","onchange","UpdateClass",function(d,c){this.getController().setValue("selectedIndex",c.selectedIndex)});var b=function(e,c){var f=mojo.query("> .panes-nav input.panes-select, > .panes-nav .panes-select input",e);for(var d=0;d<f.length;d++){if(f[d].checked){this.getController().setValue("selectedIndex",d);break}}};this.addObserver(mojo.query("> .panes-nav input.panes-select, > .panes-nav .panes-select input",this.getContextElement()),"onchange","UpdateClass",b);this.addObserver(mojo.query("> .panes-nav input.panes-select, > .panes-nav .panes-select input",this.getContextElement()),"onclick","UpdateClass",b);var a=function(e){if(typeof e.length=="undefined"){e=[e]}var d=[];dojo.forEach(e,function(g){var f=mojo.query("a.pane-delegate",g);if(f.length){d.push(f)}});d=[].concat.apply([],d);var c=dojo.filter(dojo.map(d,function(f){return mojo.queryFirst(f.hash)}),function(f){return f});return c};this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(e,c){var d=mojo.query("> .panes-content > .pane-content",e);dojo.forEach(a(d),function(f){dojo.addClass(f,"panes-hide")});return{element:d,action:"remove",cssClass:"pane-selected"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(e,c){var d=mojo.query("> .panes-content > .pane-content",e)[c.getValue()];dojo.forEach(a(d),function(f){dojo.removeClass(f,"panes-hide")});return{element:d,action:"add",cssClass:"pane-selected"}});this.addObserver(this,"onInit","UpdateClass",function(f,d){var c=mojo.queryFirst("> .panes-nav select.panes-select",f);if(c){this.getController().setValue("selectedIndex",c.selectedIndex)}var g=mojo.query("> .panes-nav input.panes-select, > .panes-nav .panes-select input",f);if(g){for(var e=0;e<g.length;e++){if(g[e].checked){this.getController().setValue("selectedIndex",e);break}}}return{element:f,action:"add",cssClass:"panes-switcher-active"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","PublishMessage",function(e,c){var d=mojo.query("> .panes-content > .pane-content",e)[c.getValue()];return{topic:"/paneswitcher/changed",message:{context:d}}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PublishMessage","stdlib.behavior.MessagingBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.PanesToggleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.PanesToggleController",mojo.controller.Controller,{params:{selectedIndex:{required:false,defaultValue:0,type:Number}},addObservers:function(){this.addObserver(this.getContextElement(),"onclick","UpdateClass",function(c,b){var d=(b.type=="radio")?"Yes":"";var a=(b.type=="radio")?"No":"";if((b.type=="checkbox"&&b.checked)||(b.type=="radio"&&b.value=="yes")){return{element:mojo.queryFirst("#"+c.id.replace(":","_").replace(d,"")+"-toggled-pane"),action:"add",cssClass:"toggled-pane-show"}}else{if((b.type=="checkbox"&&!b.checked)||(b.type=="radio"&&b.value=="no")){return{element:mojo.queryFirst("#"+c.id.replace(":","_").replace(a,"")+"-toggled-pane"),action:"remove",cssClass:"toggled-pane-show"}}else{if(b.type=="radio"){dojo.query(".toggled-pane-show").removeClass("toggled-pane-show");return{element:mojo.queryFirst("#"+c.id.replace(":","_").replace(a,"")+"-toggled-pane"),action:"add",cssClass:"toggled-pane-show"}}else{if(c.id=="toggle-all-open"){dojo.query(".toggled-pane").addClass("toggled-pane-show");dojo.query(c).addClass("pane-toggle-hide");dojo.query("#toggle-all-close",c.parentNode).removeClass("pane-toggle-hide");dojo.query(".pane-toggle:not([id*=bottom]):not([id*=all])").addClass("pane-toggle-open")}else{if(c.id=="toggle-all-close"){dojo.query(".toggled-pane-show").removeClass("toggled-pane-show");dojo.query(c).addClass("pane-toggle-hide");dojo.query("#toggle-all-open",c.parentNode).removeClass("pane-toggle-hide");dojo.query(".pane-toggle-open:not([id*=bottom]):not([id*=all])").removeClass("pane-toggle-open")}else{var f;var e;if(dojo.hasClass(mojo.queryFirst("#"+c.id.replace(":","_").replace("-bottom","").replace("-outside","")+"-toggled-pane"),"toggled-pane-show")){f="remove";e=-1;if(c.id.match("-bottom")){dojo.query("#"+c.id.replace(":","_").replace("-bottom","")).removeClass("pane-toggle-open");dojo.query("#"+c.id.replace(":","_").replace("-bottom","")+"-outside").removeClass("pane-toggle-open")}else{if(c.id.match("-outside")){dojo.query("#"+c.id.replace(":","_").replace("-outside","")).removeClass("pane-toggle-open");dojo.query("#"+c.id.replace(":","_").replace("-outside","")+"-outside").removeClass("pane-toggle-open")}else{dojo.query("#"+c.id.replace(":","_")).removeClass("pane-toggle-open");dojo.query("#"+c.id.replace(":","_")+"-outside").removeClass("pane-toggle-open")}}}else{f="add";e=1;dojo.query("#"+c.id.replace(":","_").replace("-bottom","").replace("-outside","")).addClass("pane-toggle-open");dojo.query("#"+c.id.replace(":","_").replace("-bottom","").replace("-outside","")+"-outside").addClass("pane-toggle-open")}if(dojo.query(".toggled-pane").length==dojo.query(".toggled-pane-show").length+e){dojo.query("#toggle-all-open").addClass("pane-toggle-hide");dojo.query("#toggle-all-close").removeClass("pane-toggle-hide")}else{dojo.query("#toggle-all-open").removeClass("pane-toggle-hide");dojo.query("#toggle-all-close").addClass("pane-toggle-hide")}return{element:mojo.queryFirst("#"+c.id.replace(":","_").replace("-bottom","").replace("-outside","")+"-toggled-pane"),action:f,cssClass:"toggled-pane-show"}}}}}}});this.addObserver(this,"onInit","UpdateClass",function(d,c,a){var e=(d.type=="radio")?"Yes":"";var b=(d.type=="radio")?"No":"";if((d.type=="checkbox"&&d.checked)||(d.type=="radio"&&d.value=="yes"&&d.checked)){return{element:mojo.queryFirst("#"+d.id.replace(":","_").replace(e,"")+"-toggled-pane"),action:"add",cssClass:"toggled-pane-show"}}else{if((d.type=="checkbox"&&!d.checked)||(d.type=="radio"&&d.value=="no"&&d.checked)){return{element:mojo.queryFirst("#"+d.id.replace(":","_").replace(b,"")+"-toggled-pane"),action:"remove",cssClass:"toggled-pane-show"}}else{if(d.type=="radio"){if(d.checked){return{element:mojo.queryFirst("#"+d.id.replace(":","_").replace(b,"")+"-toggled-pane"),action:"add",cssClass:"toggled-pane-show"}}}else{dojo.query(".toggled-pane-show").forEach(function(f){dojo.query("#"+f.id.replace("-toggled-pane","")).addClass("pane-toggle-open");dojo.query("#"+f.id.replace("-toggled-pane","")+"-outside").addClass("pane-toggle-open")});if(dojo.query(".toggled-pane").length==dojo.query(".toggled-pane-show").length){dojo.query("#toggle-all-open").addClass("pane-toggle-hide");dojo.query("#toggle-all-close").removeClass("pane-toggle-hide")}else{dojo.query("#toggle-all-open").removeClass("pane-toggle-hide");dojo.query("#toggle-all-close").addClass("pane-toggle-hide")}}}}});this.addObserver(this.getContextElement(),"onclick","UpdateClass",function(c,b){var d=(b.type=="radio")?"Yes":"";var a=(b.type=="radio")?"No":"";if((b.type=="checkbox"&&b.checked)||(b.type=="radio"&&b.value=="yes")){return{element:mojo.queryFirst("#"+c.id.replace(":","_").replace(d,"")+"-toggled-pane-alt"),action:"remove",cssClass:"toggled-pane-show"}}else{if((b.type=="checkbox"&&!b.checked)||(b.type=="radio"&&b.value=="no")){return{element:mojo.queryFirst("#"+c.id.replace(":","_").replace(a,"")+"-toggled-pane-alt"),action:"add",cssClass:"toggled-pane-show"}}}});this.addObserver(this,"onInit","UpdateClass",function(d,c,a){var e=(d.type=="radio")?"Yes":"";var b=(d.type=="radio")?"No":"";if((d.type=="checkbox"&&d.checked)||(d.type=="radio"&&d.value=="yes"&&d.checked)){return{element:mojo.queryFirst("#"+d.id.replace(":","_").replace(e,"")+"-toggled-pane-alt"),action:"remove",cssClass:"toggled-pane-show"}}else{if((d.type=="checkbox"&&!d.checked)||(d.type=="radio"&&d.value=="no"&&d.checked)){return{element:mojo.queryFirst("#"+d.id.replace(":","_").replace(b,"")+"-toggled-pane-alt"),action:"add",cssClass:"toggled-pane-show"}}}});this.addObserver(this.getContextElement(),"onclick","UpdateFormField",function(b,a){var d=mojo.queryFirst(".toggle-form-field",b);var c=mojo.queryFirst("input",d);if(c){if(dojo.hasClass(mojo.queryFirst("#"+b.id.replace(":","_").replace("-bottom","").replace("-outside","")+"-toggled-pane"),"toggled-pane-show")){return{formObj:b,fields:[{name:c.name,value:"true"}]}}else{return{formObj:b,fields:[{name:c.name,value:"false"}]}}}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("UpdateFormField","stdlib.behavior.UpdateFormFieldBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.PopupDisplayController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.PopupDisplayController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query(".popup-trigger"),"onclick","PreventDefault");this.addObserver(mojo.query(".popup-trigger"),"onclick","DisplayPopup",function(c,b,a){return{element:c,action:"add",cssClass:"ecomm-popup-active"}});this.addObserver(this,"onInit","DisplayPopup",function(c,b,a){if(dojo.hasClass(c,"ecomm-popup-pending")){return{element:c,action:"add",cssClass:"ecomm-popup-active"}}});this.addObserver(".close-button","onclick","PreventDefault");this.addObserver(".close-button","onclick","DisplayPopup",function(c,b,a){return{element:c,action:"remove",cssClass:"ecomm-popup-active"}});this.addObserver(".cancel-button","onclick","PreventDefault");this.addObserver(".cancel-button","onclick","DisplayPopup",function(c,b,a){return{element:c,action:"remove",cssClass:"ecomm-popup-active"}});this.addObserver(".back-button","onclick","PreventDefault");this.addObserver(".back-button","onclick","DisplayPopup",function(c,b,a){return{element:c,action:"remove",cssClass:"ecomm-popup-active"}})},addCommands:function(){this.addCommand("DisplayPopup","cox.behavior.ecomm.PopupDisplayBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.PromoCodeModuleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.PromoCodeModuleController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.queryFirst(".enter-code-link",this.getContextElement()),"onclick","PreventDefault");this.addObserver(mojo.queryFirst("#ctl00_ContentPlaceHolder1_PromoCodeControl_PromoCode",this.getContextElement()),"onkeyup","PreventDefault");this.addObserver(mojo.queryFirst(".submit-btn",this.getContextElement()),"onclick","PreventDefault");this.addObserver(mojo.queryFirst(".btn-grey",this.getContextElement()),"onclick","PreventDefault");this.addObserver(mojo.queryFirst(".enter-code-link",this.getContextElement()),"onclick","UpdateCSS",function(c,b,a){return{element:mojo.queryFirst(".promo-code-entry",c),action:"add",cssClass:"promo-code-entry-show"}});this.addObserver(mojo.queryFirst(".enter-code-link",this.getContextElement()),"onclick","UpdateCSS",function(c,b,a){return{element:b,action:"add",cssClass:"enter-code-link-hide"}});this.addObserver(mojo.queryFirst(".enter-code-link",this.getContextElement()),"onclick","SendFocus",function(c,b,a){return{element:b,target:mojo.queryFirst("#ctl00_ContentPlaceHolder1_PromoCodeControl_PromoCode")}});this.addObserver(mojo.queryFirst("#ctl00_ContentPlaceHolder1_PromoCodeControl_PromoCode",this.getContextElement()),"onkeyup","SubmitOnEnter",function(c,b,a){return{element:b}});this.addObserver(mojo.query(".submit-btn",this.getContextElement()),"onclick","ValidatePromoCode",function(c,b,a){return{errorField:mojo.queryFirst(".error",c),element:mojo.queryFirst("#ecomm-promo-code")}});this.addObserver(mojo.queryFirst(".btn-grey",this.getContextElement()),"onclick","UpdateCSS",function(c,b,a){return{element:mojo.queryFirst(".promo-code-entry"),action:"remove",cssClass:"promo-code-entry-show"}});this.addObserver(mojo.queryFirst(".btn-grey",this.getContextElement()),"onclick","UpdateCSS",function(c,b,a){return{element:mojo.queryFirst(".enter-code-link"),action:"remove",cssClass:"enter-code-link-hide"}})},addCommands:function(){this.addCommand("UpdateCSS","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("SendFocus","cox.behavior.ecomm.SendFocusBehavior");this.addCommand("SubmitOnEnter","cox.behavior.ecomm.SubmitOnEnterBehavior");this.addCommand("ValidatePromoCode","cox.behavior.ecomm.ValidatePromoCodeBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.ShowMeOffersForModuleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.ShowMeOffersForModuleController",mojo.controller.Controller,{params:{selectors:{required:false,defaultValue:[],type:Array}},addObservers:function(){this.addObserver(".signme-link","onclick","PreventDefault");this.addObserver(".signme-link","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".cox-user-login",c),action:"add",cssClass:"cox-user-login-show"}});this.addObserver(".signme-link","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".cox-user-address",c),action:"add",cssClass:"cox-user-address-hide"}});this.addObserver(".btn-grey","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".cox-user-login",c),action:"remove",cssClass:"cox-user-login-show"}});this.addObserver(".btn-grey","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".cox-user-address",c),action:"remove",cssClass:"cox-user-address-hide"}});this.addObserver(".submit-btn","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".cox-user-logged-in-noshow",c.parentNode),action:"add",cssClass:"cox-user-login-show"}});this.addObserver(".submit-btn","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".show-me-offers-for-module",c.parentNode),action:"add",cssClass:"show-me-offers-for-module-hide"}});this.addObserver(".signout-link","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".cox-user-logged-in-noshow",c.parentNode),action:"remove",cssClass:"cox-user-login-show"}});this.addObserver(".signout-link","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".show-me-offers-for-module",c.parentNode),action:"remove",cssClass:"show-me-offers-for-module-hide"}});this.addObserver(".find-bundles-btn","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".cox-user-not-logged-in-noshow",c.parentNode),action:"add",cssClass:"cox-user-login-show"}});this.addObserver(".find-bundles-btn","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".show-me-offers-for-module",c.parentNode),action:"add",cssClass:"show-me-offers-for-module-hide"}});this.addObserver(".signmein-link","onclick","PreventDefault");this.addObserver(".signmein-link","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".cox-user-login",c),action:"add",cssClass:"cox-user-login-show"}});this.addObserver(".signmein-link","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".cox-user-address",c),action:"add",cssClass:"cox-user-address-hide"}});this.addObserver(".signmein-link","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".show-me-offers-for-module",c),action:"remove",cssClass:"show-me-offers-for-module-hide"}});this.addObserver(".signmein-link","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".cox-user-not-logged-in-noshow",c),action:"remove",cssClass:"cox-user-login-show"}})},addCommands:function(){this.addCommand("UpdateCSS","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.SmallPopupDisplayController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.SmallPopupDisplayController",mojo.controller.Controller,{addObservers:function(){var b=function(c,d,h){var n=mojo.queryFirst(".popup-trigger-small-content",(d.parentNode.tagName=="P"||d.parentNode.tagName=="LABEL")?d.parentNode.parentNode:d.parentNode);if(n){c.innerHTML=n.innerHTML;var l=mojo.query(".command-link, .continue-button",n);var m=mojo.query(".command-link, .continue-button",c);if(l){for(var f=0;f<l.length;f++){if(l[f].onclick){m[f].onclick=l[f].onclick;var k=m[f].href;if(k.indexOf("?")==-1){m[f].href=m[f].href+"?cox"}}}}}if(dojo.hasClass(d,"iframe-toc")&&d.hash){var e=mojo.queryFirst("iframe",c);var g=function(){window.setTimeout(function(){dojo.addClass(e.parentNode,"iframe-toc-wrapper-active")},350)};e.onload=g;e.onreadystatechange=function(){if(e.readyState=="complete"){g()}};if(e){e.src=d.href+"---ALONE"}}return{element:c,action:"add",cssClass:"ecomm-popup-active"}};var a=mojo.query(".popup-trigger-small");this.addObserver(a,"onclick","PreventDefault");this.addObserver(a,"onclick","DisplayPopup",b);this.addObserver(mojo.Messaging.getTopic("/throbber"),"onPublish","UpdateClass",function(f,e,d){var c=mojo.query(".popup-trigger-small");c.forEach(function(g){if(!g.mojoObserve||!g.mojoObserve[d.declaredClass]){d.addObserver(g,"onclick","PreventDefault");d.addObserver(g,"onclick","DisplayPopup",b)}})});this.addObserver(this,"onInit","DisplayPopup",function(c,d,g){var m=mojo.queryFirst(".ecomm-popup-pending");if(m){if(dojo.hasClass(m,"ecomm-popup")||dojo.hasClass(m,"ecomm-popup-small-form")){return}if(m!=c){c.innerHTML=m.innerHTML;var k=mojo.query(".command-link, .continue-button",m);var l=mojo.query(".command-link, .continue-button",c);if(k){for(var f=0;f<k.length;f++){if(k[f].onclick){l[f].onclick=k[f].onclick;var h=l[f].href;if(h.indexOf("?")==-1){l[f].href=l[f].href+"?cox"}}}}var e=mojo.query("script",c);e.forEach(function(n){n.parentNode.removeChild(n)})}return{element:c,action:"add",cssClass:"ecomm-popup-active"}}});this.addObserver(".close-button","onclick","PreventDefault");this.addObserver(".cancel-button","onclick","PreventDefault");this.addObserver(".print-button","onclick","PreventDefault");this.addObserver(".close-button","onclick","DisplayPopup",function(e,d,c){return{element:e,action:"remove",cssClass:"ecomm-popup-active"}});this.addObserver(".cancel-button","onclick","DisplayPopup",function(e,d,c){return{element:e,action:"remove",cssClass:"ecomm-popup-active"}});this.addObserver(".print-button","onclick","UpdateClass",function(e,d,c){window.print()})},addCommands:function(){this.addCommand("DisplayPopup","cox.behavior.ecomm.PopupDisplayBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.ThrobberController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.ThrobberController",mojo.controller.Controller,{addObservers:function(){var b=0;var c;var a=function(h,g,f,l){if(!l&&!dojo.hasClass(h,"throbber-visible")){return}var d=(c&&c.parentNode&&c.parentNode.tagName)?dojo.position(c,true):{};var e=dojo.position(h.parentNode,true);var k=dojo.position(h,true);var m=(typeof d.y=="undefined")?b:d.y-e.y+d.h/2-k.h/2;b=Math.min(Math.max(m,document.documentElement.scrollTop-e.y),document.documentElement.scrollTop-e.y+document.documentElement.clientHeight-k.h);h.style.top=b+"px"};this.addObserver(mojo.Messaging.getTopic("/throbber"),"onPublish","UpdateClass",function(f,e,d){var k=e.getMessage();if(k.show){c=document.getElementById(k.id.replace(/\$/g,"_"));a(f,e,d,true)}var h=mojo.query(".pane-toggle");h.forEach(function(l){if(!l.mojoObserve||!l.mojoObserve[d.declaredClass]){mojo.controller.Map.getInstance().mapController("cox.controller.ecomm.PanesToggleController",l)}});var g=mojo.query(".toggle");g.forEach(function(l){if(!l.mojoObserve||!l.mojoObserve[d.declaredClass]){mojo.controller.Map.getInstance().mapController("cox.controller.ToggleController",l)}});return{element:f,action:k.show?"add":"remove",cssClass:"throbber-visible"}});this.addObserver(window,"onscroll","UpdateClass",a);this.addObserver(mojo.query("span.choice.checkbox span input"),"onclick","UpdateClass",function(f,e,d){c=e;a(f,e,d,true)})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.ToggleIncrementsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.ToggleIncrementsController",mojo.controller.Controller,{params:{},addObservers:function(){this.addObserver(this.getContextElement(),"onchange","ToggleIncrements",function(c,b,a){return{contextElement:c}});this.addObserver(this,"onInit","ToggleIncrements",function(c,b,a){return{contextElement:c}})},addCommands:function(){this.addCommand("ToggleIncrements","cox.behavior.ecomm.ToggleIncrementsBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.ToolTipController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.ToolTipController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".ecomm-tooltip-right, .ecomm-tooltip-left, .btn-help","onmouseover","ToolTip",function(c,b){var d=mojo.queryFirst(".tooltip-info",b.parentNode);if(d){d=d.innerHTML}else{d="fail"}var a={show:true,info:d,offsetX:-233,offsetY:-43,underlayMark:".wrapper",template:this.getController()._reverseTooltipTemplate};var e=!dojo.hasClass(b,"ecomm-tooltip-right");if(e){a.anchorX=1;a.anchorY=0;a.offsetX=dojo.position(b,true).w+20;a.offsetY=-28;a.template=this.getController()._tooltipTemplate}if(dojo.hasClass(b,"ecomm-tooltip-wide")){a.template=a.template.replace(/class="/i,'class="wide-tooltip ');if(a.offsetX<0){a.offsetX-=134}}if(dojo.hasClass(b,"watch-tooltip")){a.template=a.template.replace(/class="/i,'class="watch-tooltip ');a.offsetY=-28}return a});this.addObserver(".ecomm-tooltip-right, .ecomm-tooltip-left, .btn-help","onmouseout","ToolTip",function(b,a){return{show:false}});this.addObserver("a.ecomm-tooltip-right:not(.watch-tooltip), a.ecomm-tooltip-left:not(.watch-tooltip), a.btn-help","onclick","PreventDefault")},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("ToolTip","cox.behavior.ToolTipBehavior")},addIntercepts:function(){},_tooltipTemplate:'<div class="myplace-tooltip generic-tooltip tooltip" id="faq-content"><div class="wrapper"><div class="arrow">&nbsp;</div><table class="head"><tr><td class="tl"></td><td class="t">&nbsp;</td><td class="tr"></td></tr></table><table class="body"><tr><td class="l"></td><td class="c"><div class="dialog-pane-content reset-styles"></div></td><td class="r"></td></tr></table>\n<table class="foot"><tr><td class="bl"></td><td class="b">&nbsp;</td><td class="br"></td></tr></table></div></div>',_reverseTooltipTemplate:'<div class="myplace-tooltip generic-tooltip tooltip" id="faq-content"><div class="wrapper"><div class="rightarrow">&nbsp;</div><table class="head"><tr><td class="tl"></td><td class="t">&nbsp;</td><td class="tr"></td></tr></table><table class="body"><tr><td class="l"></td><td class="c"><div class="dialog-pane-content reset-styles"></div></td><td class="r"></td></tr></table>\n<table class="foot"><tr><td class="bl"></td><td class="b">&nbsp;</td><td class="br"></td></tr></table></div></div>'});dojo.provide("cox.controller.ecomm.YourBundledServicesModuleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.YourBundledServicesModuleController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".edit-wishlist-link","onclick","PreventDefault");this.addObserver(".submit-btn","onclick","PreventDefault");this.addObserver(mojo.query(".edit-wishlist-link"),"onclick","UpdateCSS",function(c,b,a){return{element:mojo.queryFirst(".regular",b.parentNode),action:"remove",cssClass:"hidden"}});this.addObserver(mojo.query(".edit-wishlist-link"),"onclick","UpdateCSS",function(c,b,a){return{element:b,action:"add",cssClass:"hidden"}});this.addObserver(mojo.query(".edit-wishlist-link"),"onclick","UpdateCSS",function(c,b,a){return{element:mojo.queryFirst(".currently-bundled-services",b.parentNode),action:"add",cssClass:"hidden"}});this.addObserver(mojo.query(".submit-btn"),"onclick","UpdateCSS",function(c,b,a){return{element:mojo.queryFirst(".edit-wishlist-link",b.parentNode.parentNode.parentNode),action:"remove",cssClass:"hidden"}});this.addObserver(mojo.query(".submit-btn"),"onclick","UpdateCSS",function(c,b,a){return{element:b.parentNode.parentNode,action:"add",cssClass:"hidden"}});this.addObserver(mojo.query(".submit-btn"),"onclick","UpdateCSS",function(c,b,a){return{element:mojo.queryFirst(".currently-bundled-services",b.parentNode.parentNode.parentNode),action:"remove",cssClass:"hidden"}})},addCommands:function(){this.addCommand("UpdateCSS","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.AjaxController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.AjaxController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","AjaxBehavior",function(e,d,c){var f;var b=mojo.queryFirst(".response",e);var g=mojo.queryFirst(".loading-wrapper",e).id;mojo.query(".ajax-links a",e).forEach(function(h,k){if(dojo.hasClass(h,"active")){f=h.href}});if(f){return{responseContainer:b,loadingWrapperId:g,activeLink:f}}if(typeof(ajaxUrl)!="undefined"){return{responseContainer:b,loadingWrapperId:g,activeLink:ajaxUrl}}});this.addObserver(".ajax-links a","onclick","PreventDefault");this.addObserver(".ajax-links a","onclick","UpdateClass",function(d,c,b){mojo.query(".ajax-links a",d).forEach(function(e,f){if(dojo.hasClass(e,"active")){dojo.removeClass(e,"active")}dojo.addClass(c,"active");if(e.href==c.href){dojo.addClass(e,"active")}})});this.addObserver(".ajax-links a","onclick","AjaxBehavior",function(d,c,b){return{responseContainer:mojo.queryFirst(".response",d),loadingWrapperId:mojo.queryFirst(".loading-wrapper",d).id,activeLink:c.href}});var a=function(d,c,b){b.addObserver(mojo.query(".ajax-select",d),"onchange","AjaxBehavior",function(g,f,e){return{responseContainer:mojo.queryFirst(".response",g),loadingWrapperId:mojo.queryFirst(".loading-wrapper",g).id,activeLink:f.form.action+f.value}})};this.addObserver(mojo.Messaging.getTopic("remapControllers"),"onPublish","MapControllers",function(d,c,b){a(d,c,b);return{contextObj:mojo.queryFirst(".response",d)}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("MapControllers","stdlib.command.MapControllersCommand");this.addCommand("AjaxBehavior","cox.behavior.interface.AjaxBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.CompareGridController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.CompareGridController",mojo.controller.Controller,{params:{curStartPosition:{defaultValue:1,type:Number},curEndPosition:{defaultValue:5,type:Number},minPosition:{defaultValue:1,type:Number},maxPosition:{defaultValue:5,type:Number}},addObservers:function(){this.addObserver(this,"onInit","CompareGrid",function(d,b,a){a.setValue("curStartPosition",dojo.query(".compare-static col").length);a.setValue("minPosition",a.getValue("curStartPosition"));a.setValue("curEndPosition",a.getValue("curStartPosition")+dojo.query(".compare-options col").length);a.setValue("maxPosition",dojo.query(".compare-table col").length-dojo.query(".compare-options col").length);for(var c=(a.getValue("curStartPosition")+dojo.query(".compare-options col").length);c<(a.getValue("curStartPosition")+dojo.query(".compare-options col").length+dojo.query(".compare-hidden col").length);c++){dojo.query(".compare-table tr > *:nth-child("+(c+1)+")").forEach(function(e){dojo.addClass(e,"hide")})}dojo.query(".compare-table col").forEach(function(k,g,f){if(dojo.hasClass(k,"in-cart")){var h=dojo.query(".compare-table tr > *:nth-child("+(g+1)+")");h.addClass("in-cart");var e=dojo.query(h.getLast());e.addClass("in-cart-last")}if(dojo.hasClass(k,"primary")){var h=dojo.query(".compare-table tr > *:nth-child("+(g+1)+")");h.addClass("primary");var e=dojo.query(h.getLast());e.addClass("primary-last");a.setValue("curStartPosition",(g-1));a.setValue("curEndPosition",(g-1)+dojo.query(".compare-options col").length)}})});this.addObserver(".compare-buttons a","onclick","PreventDefault");this.addObserver(".compare-buttons a","onclick","CompareGrid");this.addObserver(mojo.Messaging.getTopic("/throbber"),"onPublish","CompareGrid",function(d,b,a){a.setValue("curStartPosition",dojo.query(".compare-static col").length);a.setValue("minPosition",a.getValue("curStartPosition"));a.setValue("curEndPosition",a.getValue("curStartPosition")+dojo.query(".compare-options col").length);a.setValue("maxPosition",dojo.query(".compare-table col").length-dojo.query(".compare-options col").length);for(var c=(a.getValue("curStartPosition")+dojo.query(".compare-options col").length);c<(a.getValue("curStartPosition")+dojo.query(".compare-options col").length+dojo.query(".compare-hidden col").length);c++){dojo.query(".compare-table tr > *:nth-child("+(c+1)+")").forEach(function(e){dojo.addClass(e,"hide")})}dojo.query(".compare-table col").forEach(function(k,g,f){if(dojo.hasClass(k,"in-cart")){var h=dojo.query(".compare-table tr > *:nth-child("+(g+1)+")");h.addClass("in-cart");var e=dojo.query(h.getLast());e.addClass("in-cart-last")}if(dojo.hasClass(k,"primary")){var h=dojo.query(".compare-table tr > *:nth-child("+(g+1)+")");h.addClass("primary");var e=dojo.query(h.getLast());e.addClass("primary-last");a.setValue("curStartPosition",(g-1));a.setValue("curEndPosition",(g-1)+dojo.query(".compare-options col").length)}})})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("CompareGrid","cox.behavior.interface.CompareGridBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.EnlargeImageController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.EnlargeImageController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this.getContextElement(),"onclick","PreventDefault");this.addObserver(this.getContextElement(),"onclick","Messaging",function(c,d){var f=this.getContextElement().hash;var e="";var b=this.getContextElement().href;if((f.length>1)&&(f.match(/^#enlarge/))){var k=420;var l=540;var m=1.5;f=f.split("|");var h=+f[1];var g=+f[2];var a=Math.min(m,k/h,l/g);e=" width='"+Math.round(h*a)+"' height='"+Math.round(g*a)+"' ";if(dojo.isIE){b="/ui/emergence/corp/en/img/blank.gif' style='filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\""+b+'", sizingMethod="scale")'}}return{topic:"dialog",message:{enabled:true,title:this.getContextElement().title,href:"/ui/emergence/corp/en/page/enlargeImage.xhtml",substitutionMap:{"#bigImage":"<img src='"+b+"'"+e+"/>","#bigImageCaption":this.getContextElement().rel},width:560,height:-1}}})},addCommands:function(){this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.HeaderController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.HeaderController",mojo.controller.Controller,{addObservers:function(){this.addObserver("#pf-print","onclick","PreventDefault");this.addObserver("#pf-style-font-small","onclick","PreventDefault");this.addObserver("#pf-style-font-medium","onclick","PreventDefault");this.addObserver("#pf-style-font-large","onclick","PreventDefault")},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.LoadingController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.LoadingController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.Messaging.getTopic("/throbber"),"onPublish","UpdateClass",function(d,c,b){var e=c.getMessage();var a=mojo.query("#"+e.id.replace(/\$/g,"_"));return{element:a,action:e.status?"add":"remove",cssClass:"loading-wrapper-active"}});this.addObserver(".loading-trigger","onclick","UpdateClass",function(a){return{element:a,action:"add",cssClass:"loading-wrapper-active"}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.RotatorController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.RotatorController",mojo.controller.Controller,{params:{rotatorXML:{},transitionTimer:{defaultValue:"1",type:String},xmlError:{defaultValue:false,type:Boolean},loop:{defaultValue:true,type:Boolean}},addObservers:function(){this.addObserver(this,"onInit","LoadRotatorXML",function(c,d,b){if(typeof(xmlFile)!="undefined"){var f={getXML:function(h){b.setValue("rotatorXML",h.documentElement);b.setValue("transitionTimer",b.getValue("rotatorXML").attributes.getNamedItem("timer").nodeValue);b.getValue("rotatorXML").attributes.getNamedItem("looping").nodeValue=="yes"?b.setValue("loop",true):b.setValue("loop",false)}};var e={getErrorMSG:function(){b.setValue("xmlError",true)}};var a=mojo.Messaging.subscribe("loadedSuccessfulXML",f,"getXML");var g=mojo.Messaging.subscribe("errorLoadingXML",e,"getErrorMSG");return{url:xmlFile,responseContainer:dojo.byId("main-rotator")}}else{dojo.byId("main-rotator").innerHTML="<div class='msgError default-rotator-dimensions'><p> We're sorry, we can't find this part of the page right now.</p></div>";console.log("ROTATOR CONTROLLER ERROR: There was an error with the xml url variabled that was defined")}});this.addObserver(this.getCommand("LoadRotatorXML"),"xmlLoaded","ParseRotatorXML",function(b,c,a){return{xml:a.getValue("rotatorXML")}});this.addObserver(this.getCommand("LoadRotatorXML"),"xmlLoaded","RotatorControls",function(b,c,a){return{control:"play",timer:a.getValue("transitionTimer"),xmlError:a.getValue("xmlError"),loop:a.getValue("loop")}});this.addObserver(".rotator-controls li","onclick","PreventDefault");this.addObserver(".rotator-controls li","onclick","RotatorControls",function(b,c,a){return{control:c.id,timer:a.getValue("transitionTimer"),xmlError:a.getValue("xmlError"),loop:a.getValue("loop")}});this.addObserver(".rotator-slide a","onclick","PreventDefault",function(b,c,a){window.open(dojo.attr(c,"href"),"_self")});this.addObserver(".rotator-slide","onmouseover","RotatorControls",function(b,c,a){return{control:"pause",timer:a.getValue("transitionTimer"),xmlError:a.getValue("xmlError"),loop:a.getValue("loop")}});this.addObserver(".rotator-slide","onmouseout","RotatorControls",function(b,c,a){return{control:"play",timer:a.getValue("transitionTimer"),xmlError:a.getValue("xmlError"),loop:a.getValue("loop")}});this.addObserver(".rotator-slide","onclick","PreventDefault",function(b,c,a){window.open(dojo.attr(c,"href"),"_self")})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("LoadRotatorXML","cox.behavior.interface.XMLLoaderBehavior");this.addCommand("ParseRotatorXML","cox.behavior.interface.ParseRotatorXMLBehavior");this.addCommand("RotatorControls","cox.behavior.interface.RotatorControlsBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.SortableTableController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.SortableTableController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.Messaging.getTopic("/toggle/changed"),"onPublish","UpdateClass",function(c,b){var d=b.getMessage();var a=d.context;if(dojo.hasClass(a.parentNode,"order-history")){return{element:mojo.queryFirst("tr",a),action:d.isOpen?"add":"remove",cssClass:"expanded"}}});this.addObserver(this,"onInit","UpdateClass",function(d,b){var h=function(k){console.log(k+"\nTerminated.")};var g=function(k,l,m){switch(l){case"currency":k.sort(function(o,n){if(m=="asc"){return o.content-n.content}else{return n.content-o.content}});break;case"date":k.sort(function(o,n){if(m=="asc"){return o.content-n.content}else{return n.content-o.content}});break;case"text":k.sort(function(o,n){if(m=="asc"){return o.content>n.content?1:-1}else{return n.content>o.content?1:-1}});break;default:h("Missing or invalid th sorttype attribute for sortType function.");break}};var e=function(m,l){switch(l){case"currency":return m.replace(/[$()]/ig,"").trim();break;case"date":tmp=m.replace(new RegExp(/-/g),"/");var k=tmp.split("/");if(k.length==3){return new Date(tmp).getTime()}else{if(k.length==2){return new Date(k[0]+"/00/"+k[1]).getTime()}else{console.log("Invalid date format.")}}break;case"text":return m;break;default:h("Invalid column type specified for cleanType function.");break}};var f=d;if(!f){h("No table element found.");return}var a=$$(mojo.query("thead th.sortable",f));if(!a.length){h("No sortable headers found");return}a.each(function(k){k.setProperty("sortorder",k.hasClass("asc")?"asc":"desc")});a.addEvent("click",function(k){c(this)});var c=function(q){var o=q.cellIndex;var p=q.getProperty("sorttype");q.setProperty("sortorder",q.getProperty("sortorder")=="asc"?"desc":"asc");mojo.query(".active",f).removeClass("active");mojo.query("th",f).removeClass("asc");mojo.query("th",f).removeClass("desc");q.addClass("active");q.removeClass("asc").removeClass("desc").addClass(q.getProperty("sortorder"));var r=[];var k=[];var n=f.childNodes;for(var m=0;m<n.length;m++){if(n[m].tagName){var u=mojo.queryFirst("tr.brief",n[m]);if(u){k.push(u)}}}dojo.forEach(k,function(w,v){r.push({index:v,content:e($(mojo.query("td",w)[o]).getText(),p)})});g(r,p,q.getProperty("sortorder"));var t=$$(mojo.query("tbody",f)).removeElements();var l=[];r.each(function(w,v){l[v]=t[w.index]});l.each(function(v){v.injectInside(f)})}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.DatePickerController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.DatePickerController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","DatePicker",function(b,a){return{element:b}})},addCommands:function(){this.addCommand("DatePicker","cox.behavior.interface.form.DatePickerBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.FormValidatorController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.FormValidatorController",mojo.controller.Controller,{params:{selectors:{required:false,defaultValue:[],type:Array}},addObservers:function(){this.addObserver(this.getContextElement(),"onsubmit","ValidateForm",function(c,b,a){return{form:b}});this.addObserver(mojo.Messaging.getTopic("formError"),"onPublish","UpdateError",function(c,b,a){var d=b.getMessage();if(d.form!=c){return}return d})},addCommands:function(){this.addCommand("ValidateForm","cox.behavior.interface.form.ValidateFormBehavior");this.addCommand("UpdateError","cox.behavior.interface.form.UpdateErrorBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.PlaceholderController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.PlaceholderController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","Placeholder");this.addObserver(this.getContextElement(),"onfocus","Placeholder");this.addObserver(this.getContextElement(),"onblur","Placeholder")},addCommands:function(){this.addCommand("Placeholder","cox.behavior.interface.form.PlaceholderBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.SpinBoxController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.SpinBoxController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","FormSpinner",function(b,a){return{element:b}})},addCommands:function(){this.addCommand("FormSpinner","cox.behavior.interface.form.SpinBoxBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.TextareaController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.TextareaController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this.getContextElement(),"onkeyup","EnforceMaxLength",function(b,a){return{element:a}});this.addObserver(this.getContextElement(),"onclick","EnforceMaxLength",function(b,a){return{element:a}});this.addObserver(this.getContextElement(),"onblur","EnforceMaxLength",function(b,a){return{element:a}})},addCommands:function(){this.addCommand("EnforceMaxLength","cox.behavior.interface.form.EnforceMaxLengthBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.locationMap.MapAddressInputController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.locationMap.MapAddressInputController",mojo.controller.Controller,{params:{},addObservers:function(){var c=mojo.queryFirst(".map-notification-area",this.getContextElement());var b=c.id.split("-").pop();var a=mojo.queryFirst("input[id$='address-input']",this.getContextElement());this.addObserver(".alternates a","onclick","PreventDefault");this.addObserver(".alternates a","onclick","Messaging",function(e,d){dojo.style(c,"display","none");if(a){a.value=d.innerHTML.replace(/<[^>]*>/ig,"");mojo.Messaging.publish("formError",{action:"clear"});if(b=="single"){mojo.Messaging.publish("formError",{action:"clear",form:mojo.queryFirst("#address-form")});return{topic:"/verifyAddress/single"}}else{mojo.Messaging.publish("formError",{action:"clear",form:mojo.queryFirst("#directions-form")});return{topic:"getMapDirections",message:a.value}}}});this.addObserver(mojo.Messaging.getTopic("/verifyAddress/"+b),"onPublish","VerifyAddress",function(e,d){return{direction:b,notification:c,input:a}})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("BlockProceedForm","cox.behavior.BlockProceedBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("VerifyAddress","cox.behavior.locationMap.VerifyAddressBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.locationMap.MapController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.locationMap.MapController",mojo.controller.Controller,{params:{center:{defaultValue:{lat:38.6855,lon:-95.8}},zoom:{defaultValue:4},controls:{defaultValue:{pan:true,zoom:"large",scale:true,mapType:true,overview:true}},pointSets:{defaultValue:[]},map:{defaultValue:null}},addObservers:function(){this.addObserver(this,"onInit","InitMap",function(){return{element:mojo.queryFirst(".map",this.getContextElement())}});this.addObserver(this.getCommand("InitMap"),"onMapReady","UpdateControllerParam",function(d,c){console.log("UpdateController");return{control:this.getController().declaredClass,params:"map",value:c._map,element:d}});this.addObserver(this.getCommand("InitMap"),"onMapReady","UpdateMap",function(e,d){console.log("UpdateMap");var c=this.getController();return{map:d._map,zoom:c.getValue("zoom"),center:c.getValue("center"),controls:c.getValue("controls")}});this.addObserver(this.getConfig("params").center,"onChange","UpdateMap",function(){console.log("centerChange",this.getController().getValue("center"));return{map:this.getController().getValue("map"),center:this.getController().getValue("center")}});this.addObserver(this.getConfig("params").controls,"onChange","UpdateMap",function(){console.log("controlsChange",this.getController().getValue("controls"));return{map:this.getController().getValue("map"),controls:this.getController().getValue("controls")}});this.addObserver(this.getConfig("params").zoom,"onChange","UpdateMap",function(){console.log("zoomChange",this.getController().getValue("zoom"));return{map:this.getController().getValue("map"),zoom:this.getController().getValue("zoom")}});var b=this.getValue("pointSets")||[];for(var a=0;a<b.length;a++){console.log("onNotify for",b[a]);this.addObserver(mojo.Model.getReference(b[a]),"onNotify","UpdateMapPointSets",function(d,c){return{pointSetKey:c.getKey(),pointSet:c.getValue(),map:this.getController().getValue("map")}})}},addCommands:function(){this.addCommand("InitMap","cox.behavior.locationMap.InitMapBehavior");this.addCommand("UpdateMap","cox.behavior.locationMap.UpdateMapBehavior");this.addCommand("UpdateMapPointSets","cox.behavior.locationMap.UpdateMapPointSetsBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.locationMap.MapInfoBoxController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.locationMap.MapInfoBoxController",mojo.controller.Controller,{params:{map:{defaultValue:null}},addObservers:function(){this.addObserver("form.get-directions-from-form","onsubmit","PreventDefault");this.addObserver("form.get-directions-from-form","onsubmit","Messaging",function(e,d,a){mojo.Messaging.publish("switchMapDirections","enable");var f=mojo.queryFirst("#directions-form");var g=mojo.queryFirst("#map-container form.get-directions-from-form");f["map-address-input"].value=mojo.queryFirst("#map-container .maps-marker-info .address").innerHTML.replace(/<br[^>]*>/gi,",");var b=mojo.queryFirst("input",g);var c=mojo.queryFirst("label[for='"+b.id+"']",g);f["map-end-address-input"].value=(c&&(c.childNodes[0].textContent==b.value))?"":b.value;a.getValue("map").closeInfoWindow();return{topic:"getMapDirections"}});this.addObserver("form.get-directions-to-form","onsubmit","PreventDefault");this.addObserver("form.get-directions-to-form","onsubmit","Messaging",function(e,d,a){mojo.Messaging.publish("switchMapDirections","enable");var f=mojo.queryFirst("#directions-form");var g=mojo.queryFirst("#map-container form.get-directions-to-form");var b=mojo.queryFirst("input",g);var c=mojo.queryFirst("label[for='"+b.id+"']",g);f["map-address-input"].value=(c&&(c.childNodes[0].textContent==b.value))?"":b.value;f["map-end-address-input"].value=mojo.queryFirst("#map-container .maps-marker-info .address").innerHTML.replace(/<br[^>]*>/gi,",");a.getValue("map").closeInfoWindow();return{topic:"getMapDirections"}});this.addObserver("form","onsubmit","ValidateForm",function(c,b,a){return{form:mojo.queryFirst("#directions-form")}});this.addObserver(".get-directions-links a","onclick","PreventDefault");this.addObserver(".get-directions-links a","onclick","UpdateClass",function(e,d,b){var c=/get-directions-\w*-/;var f=dojo.map(d.className.split(" "),function(g){return c.exec(g)[0]}).join("");var a=mojo.query(".active",e).length?"":"[class^='"+f+"']";return{element:mojo.query(".get-directions-links a"+a+", form"+a,e),action:"toggle",cssClass:"active"}})},addCommands:function(){this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("ValidateForm","cox.behavior.interface.form.ValidateFormBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.locationMap.OfficesMapController");dojo.require("cox.controller.locationMap.MapController");dojo.declare("cox.controller.locationMap.OfficesMapController",cox.controller.locationMap.MapController,{params:{messageCount:{defaultValue:0},contextPath:{defaultValue:"/aboutus/contact-us"}},addObservers:function(){if(window.contextPath){this.setValue("contextPath",window.contextPath)}this.addObserver(mojo.Messaging.getTopic("/metrics/callForInfo"),"onPublish","Set",function(d,c){return{mode:"set",params:{eventName:"toolUsageInitiated",toolName:"search cox centers"}}});var a=function(d,f,h){var e=mojo.queryFirst(".map",d);var k=mojo.queryFirst("#map-radius",d).value;var o=Math.min(e.clientWidth,e.clientHeight);var n=10;var m=[256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288,1048576,2097152];var l=21117.8451;for(var g=m.length-1;g>=0;g--){if((l*o)/m[g]>k*2){n=g;break}}return{control:h.declaredClass,params:"zoom",value:n,element:d}};var b={};if(dojo.queryToObject(document.location.search.slice(1))["map-address-input"]){this.addObserver(this.getCommand("InitMap"),"onMapReady","Messaging",function(e,d,c){return{topic:"/verifyAddress/single"}})}else{if(!urlHasSite){this.addObserver(this.getCommand("InitMap"),"onMapReady","GetOffices")}else{this.addObserver(this.getCommand("InitMap"),"onMapReady","GetOfficesForm")}}this.addObserver(mojo.Model.getReference("offices"),"onNotify","UpdateControllerParam",function(e,d,c){console.log("setting center:",d.getValue().user);return{control:c.declaredClass,params:"center",value:d.getValue().user,element:e}});this.addObserver(this.getConfig("params").center,"onChange","UpdateMap",function(){var c=this.getController().getValue("center");return{map:this.getController().getValue("map"),center:c}});this.addObserver("#map-radius","onchange","Track",function(d,c){return{mode:"track",params:{type:"event",options:{actionPerformed:"search cox centers:change distance"}}}});this.addObserver(mojo.Messaging.getTopic("googleMap"),"onPublish","Track",function(){var c=this.getController().getValue("messageCount");if(c==0){this.getController().setValue("messageCount",1);return}return{mode:"track",params:{type:"event",options:{eventName:"toolUsageCompleted",toolName:"search cox centers"}}}});this.addObserver(mojo.Model.getReference("offices"),"onNotify","UpdateMapPoints",function(f,e,d){var g=mojo.query("#map-marker-toggles input",f),c=[];dojo.forEach(g,function(h){if(h.checked){c.push(parseInt(h.value))}});return{pointSet:e.getValue(),map:d.getValue("map"),show:c}});this.addObserver("#map-marker-toggles input","onclick","Track",function(d,c){return{mode:"track",params:{type:"event",options:{actionPerformed:"search cox centers:"+mojo.queryFirst("label",c.parentNode).innerHTML.toLowerCase()}}}});this.addObserver("#map-marker-toggles input","onclick","UpdateMapPoints",function(f,e,d){var g=mojo.query("#map-marker-toggles input",f),c=[];dojo.forEach(g,function(h){if(h.checked){c.push(parseInt(h.value))}});return{map:d.getValue("map"),show:c}});this.addObserver("#address-form","onsubmit","PreventDefault");this.addObserver("#address-form","onsubmit","Messaging",function(d,c){return{topic:"/verifyAddress/single"}});this.addObserver(mojo.Messaging.getTopic("getMapOffices"),"onPublish","GetOfficesForm",function(d,c){return c.getMessage()});this.addObserver(mojo.Messaging.getTopic("/verifiedAddresses/single"),"onPublish","GetOfficesForm",function(e,f){var k=dojo.formToObject(mojo.queryFirst("#address-form"));this._die=true;if(!f.getMessage().placemark||!f.getMessage().placemark.length){return}var m=f.getMessage().placemark[0];var c=function(n){return(typeof n!="undefined")};if(c(m.AddressDetails)&&c(m.AddressDetails.Country)&&c(m.AddressDetails.Country.AdministrativeArea)){if(m.AddressDetails.Country.CountryNameCode!="US"){mojo.Messaging.publish("formError",{action:"add",form:mojo.queryFirst("#address-form"),text:"The address you provided is outside United States. Currently, we support searches only within US."});return}this._die=false;var d=m.AddressDetails.Country.AdministrativeArea;var l;if(c(d)){l=d.PostalCode;if(l){k["map-zip-input"]=l.PostalCodeNumber}k["map-state-input"]=d.AdministrativeAreaName;if(c(d.SubAdministrativeArea)){d=d.SubAdministrativeArea}l=d.PostalCode;if(l){k["map-zip-input"]=l.PostalCodeNumber}var h=d.Locality;if(c(h)){var l=h.PostalCode;l=h.PostalCode;if(l){k["map-zip-input"]=l.PostalCodeNumber}var g=h.Thoroughfare;if(g){k["map-street-input"]=g.ThoroughfareName}k["map-city-input"]=h.LocalityName}}return k}mojo.Messaging.publish("formError",{action:"add",form:mojo.queryFirst("#address-form"),text:"An error occurred while processing this location. Please try providing more details."});return});this.addObserver("#address-form #map-direction-submit, #directions-form .map-it","onclick","PreventDefault");this.addObserver("#address-form #map-direction-submit, #directions-form .map-it","onclick","GetDirections",function(e,d,c){return{map:c.getValue("map"),action:"clear"}});this.addObserver(mojo.Messaging.getTopic("switchMapDirections"),"onPublish","UpdateClass",function(e,d){var g=d.getMessage();var c=mojo.queryFirst(".directions-form-elements");var f=dojo.hasClass(c,"hide");if(g==(f?"disable":"enable")){return}if(f){var k=mojo.queryFirst("#address-form");var h=mojo.queryFirst("#directions-form")}else{var h=mojo.queryFirst("#address-form");var k=mojo.queryFirst("#directions-form")}h["map-address-input"].value=k["map-address-input"].value;return{element:mojo.query("#address-form, .directions-form-elements"),action:"toggle",cssClass:"hide"}});this.addObserver("#address-form #map-direction-submit, #directions-form .map-it","onclick","Messaging",function(){return{topic:"switchMapDirections",message:"toggle"}});this.addObserver(this.getCommand("GetOfficesForm"),"onError","Messaging",function(e,d,c){return{topic:"dialog",message:{enabled:true,title:"Message",href:"/aboutus/ActivityMap.maperror",width:300,height:200}}});this.addObserver(".reverse-dir","onclick","PreventDefault");this.addObserver(".reverse-dir","onclick","ReverseDirections",function(){return{form:mojo.queryFirst("#directions-form")}});this.addObserver("h2.print a","onclick","PreventDefault");this.addObserver("h2.print a","onclick","Messaging",function(d,c){return{topic:"dialog",message:{enabled:true,element:mojo.queryFirst(".maps-printable",d),title:"&nbsp;",width:Math.min((window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-50,850),height:(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)-100}}});this.addObserver(mojo.query("#maps-print-button"),"onclick","Print",{});this.addObserver(mojo.Messaging.getTopic("dialog"),"onPublish","UpdateClass",function(d,c){return{element:document.body,action:c.getMessage().enabled?"add":"remove",cssClass:"map-print-dialog-active"}});this.addObserver("#directions-form","onsubmit","PreventDefault");this.addObserver("#directions-form","onsubmit","Messaging",function(e,d,c){return{topic:"getMapDirections",message:d}});this.addObserver(mojo.Messaging.getTopic("getMapDirections"),"onPublish","GetDirections",function(e,d,c){var f=mojo.queryFirst("#directions-form");return{addresses:dojo.formToObject(f),map:c.getValue("map"),form:f}});this.addObserver(mojo.Messaging.getTopic("/verifiedAddresses/to"),"onPublish","GetDirections",function(e,d,c){return{message:d.getMessage(),map:c.getValue("map")}});this.addObserver(mojo.Messaging.getTopic("/verifiedAddresses/from"),"onPublish","GetDirections",function(e,d,c){return{message:d.getMessage(),map:c.getValue("map")}});this.addObserver("#map-marker-toggles li label","onmouseover","ToolTip",function(){return{show:false}});this.addObserver("#map-marker-toggles li label","onmouseout","ToolTip",function(){return{show:false}});this.addObserver("#map-marker-toggles li label","onmouseover","ToolTip",function(d,c){var e=mojo.queryFirst(".tooltip-info",c.parentNode);if(e){e=e.innerHTML}else{e=""}return{show:true,delay:500,info:e,anchorX:"cursor",offsetX:-77,offsetY:0,template:this.getController()._tooltipTemplate}});this.addObserver("#map-radius","onchange","UpdateControllerParam",a);this.addObserver(this.getCommand("GetOfficesForm"),"onComplete","UpdateControllerParam",a)},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("BlockProceedForm","cox.behavior.BlockProceedBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("ToolTip","cox.behavior.ToolTipBehavior");this.addCommand("UpdateMapPoints","cox.behavior.locationMap.UpdateMapPointsBehavior");this.addCommand("GetOffices","cox.command.locationMap.GetOfficesCommand");this.addCommand("GetOfficesForm","cox.command.locationMap.GetOfficesCommand");this.addCommand("GetDirections","cox.behavior.locationMap.GetDirectionsBehavior");this.addCommand("ReverseDirections","cox.behavior.locationMap.MapReverseDirectionsBehavior");this.addCommand("Set","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("Print","cox.behavior.PrintBehavior")},addIntercepts:function(){this.addIntercept("around","GetOfficesForm","BlockProceedForm",function(b,a){return{condition:!a._die}})},_tooltipTemplate:'<div class="mapcontrols-tooltip tooltip"><div class="wrapper"><table class="head"><tr><td class="tl"></td><td class="t">&nbsp;</td><td class="tr"></div></td></tr></table><table class="body"><tr><td class="l"></td><td class="c"><div class="dialog-pane-content"></div></td><td class="r"></td></tr></table>\n<table class="foot"><tr><td class="bl"></td><td class="b">&nbsp;</td><td class="br"></td></tr></table>\n<div class="foot-arrow">&nbsp;</div></div></div>'});dojo.provide("cox.controller.metrics.MetricsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.metrics.MetricsController",mojo.controller.Controller,{params:{completed:{defaultValue:false,type:Boolean}},addObservers:function(){if(typeof s!="undefined"&&s&&!!s.getQueryParam){this.addObserver(mojo.controller.Map.getInstance(),"onComplete","Track",function(b,c){var e=dojo.clone(__coxOmnitureParams);if(e.logStatus!="not logged in"){e.eventName="userLogStatus"}var f=e.campaign||s.getQueryParam("scid")||s.getQueryParam("sc_id")||s.getQueryParam("s_cid");if(f){e.pathingByCampaign=f+":"+e.pageName;e.campaign=f}var h=s.getQueryParam("campcode");if(h!==""&&h!==null){e.campcode=h}e.businessLocal=e.businessUnit+":"+e.localeName;e.localePagename=e.localeName+":"+e.pageName;var g=mojo.queryFirst("#support-article");if(g&&window.location.search){var k=dojo.queryToObject(window.location.search.slice(1));var a=k.articleId;if(a){e.kanaArticleId=a}}var l=mojo.queryFirst("#online-activation-msg-track");if(l){var d=l.innerHTML;return{mode:"track",params:{type:"event",options:{confirmationMsg:"video activation: "+d.toLowerCase()}}}}return{mode:"track",params:{type:"pageview",options:e}}});this.addObserver(this.getCommand("Track"),"execute","UpdateControllerParam",function(){return{control:this.getController().declaredClass,params:"completed",value:true,element:this.getContextElement()}})}},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand")},addIntercepts:function(){this.addIntercept("around","Track","BlockProceed",function(){return{condition:!this.getController().getValue("completed")}});if(typeof s!="undefined"&&s&&!!s.getQueryParam){this.addIntercept("before","Track","Messaging",{topic:"/metrics/callForInfo"})}}});dojo.provide("cox.controller.metrics.OmnitureTrackingController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.metrics.OmnitureTrackingController",mojo.controller.Controller,{params:{},addObservers:function(){this.addObserver(mojo.Messaging.getTopic("/throbber"),"onPublish","Track",function(){var omnitureMessage=mojo.queryFirst("#omniture-response");if(omnitureMessage){msg=omnitureMessage.innerHTML;return{mode:"track",params:{type:"event",options:eval(msg)}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.FavoritesController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.FavoritesController",mojo.controller.Controller,{addObservers:function(){var b="./theater.favorites?id=";this.addObserver(this,"onInit","UpdateClass",function(d,c){favesList=mojo.queryFirst("#theater_favorites_tracker").value.split(",");dojo.forEach(favesList,function(e){var f=mojo.queryFirst("#addFav_theatre_"+e);if(f){f.checked="checked"}})});var a=function(d,c){d.checked=false;mojo.Messaging.publish("error",{title:"Error",text:"We are currently unable to update your favorites.",cause:mojo.queryFirst("input#addFav_theatre_"+c)})};this.addObserver(mojo.query("#finder-results input[type='checkbox']"),"onclick","UpdateClass",function(c,d){var e=d.value.split(";");var m=e[0];var f=e[1];var k=e[2];var g=dojo.hitch(this,a,d,k);if(d.checked){if(mojo.queryFirst("#theater_favorites_tracker").value==""){var l=k}else{var l=mojo.queryFirst("#theater_favorites_tracker").value+","+k}dojo.xhrGet({url:b+l,handleAs:"text",timeout:20000,load:function(t,r){if(t=="true"){var q=document.createElement("div");var p=document.getElementById("movie-search-zip-input").value;q.id="fav_"+k;q.className="myplace-seeall-wrap";var u=m+";"+f+";"+k+";";q.innerHTML='<input id="'+m+"-"+k+'" type="checkbox" value="'+u+'" checked="checked"/><label><a href="./theater-detail.cox?movie-search-theaters-input='+k+"&theaterId="+k+"&movie-search-zip-input="+p+'">'+f+"</a></label>";var o="fav-"+m;$(o).appendChild(q);var n="#"+o+"-wrapper .intro";mojo.queryFirst(n).style.display="none";if(mojo.queryFirst("#theater_favorites_tracker").value!=""){mojo.queryFirst("#theater_favorites_tracker").value+=","+k}else{mojo.queryFirst("#theater_favorites_tracker").value=k}mojo.controller.Controller.updateObservers("cox.controller.myplace.FavoritesController")}else{g()}},error:g})}else{var h="fav_"+k;if($(h)){favesList=mojo.queryFirst("#theater_favorites_tracker").value.split(",");favesList.splice(dojo.indexOf(favesList,k),1);dojo.xhrGet({url:b+favesList,handleAs:"text",timeout:20000,load:function(q,p){if(q=="true"){$(h).remove();mojo.queryFirst("#theater_favorites_tracker").value=favesList;var o="fav-"+m;if(mojo.queryFirst("#theater_favorites_tracker").value==""){var n="#"+o+"-wrapper .intro";mojo.queryFirst(n).style.display="block"}mojo.controller.Controller.updateObservers("cox.controller.myplace.FavoritesController")}else{g()}},error:g})}}mojo.controller.Controller.updateObservers("cox.controller.myplace.FavoritesController")});this.addObserver(mojo.query("#myplace-favorites input[type='checkbox']"),"onclick","UpdateClass",function(h,g){var l=g.value.split(";");var f=l[0];var e=l[1];var d=l[2];var k=dojo.hitch(this,a,g,d);var c="fav_"+d;if($(c)){favesList=mojo.queryFirst("#theater_favorites_tracker").value.split(",");favesList.splice(dojo.indexOf(favesList,d),1);dojo.xhrGet({url:b+favesList,handleAs:"text",timeout:20000,load:function(p,o){if(p=="true"){$(c).remove();mojo.queryFirst("#theater_favorites_tracker").value=favesList;var n="fav-"+f;if(mojo.queryFirst("#theater_favorites_tracker").value==""){var m="#"+n+"-wrapper .intro";mojo.queryFirst(m).style.display="block"}var q="addFav_"+f+"_"+d;if($(q)){$(q).checked=false}}else{k()}},error:k})}})},addCommands:function(){this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("UpdateObservers","stdlib.command.UpdateObserversCommand");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){this.addIntercept("around","UpdateClass","BlockProceed",function(d,c,a){if(!c.checked){return{condition:true}}var f=5;var e=$("fav-"+c.value.split(";")[0]);var b=mojo.query("label",e).length<f;if(!b){c.checked=false;mojo.Messaging.publish("error",{title:"Error with your request",text:["You can choose up to 5 favorite theaters and it looks like you already have 5 in your list."," If you remove one I can remember another you'd like to keep."],cause:c})}return{condition:b}})}});dojo.provide("cox.controller.myplace.LandingController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.LandingController",mojo.controller.Controller,{addObservers:function(){this.addObserver("#content a","onclick","Track",function(f,d){var c=d;if(!d.href){return}var b;var h=["snippet-frame","one-col-module","snippet-3up"];for(var a=d;a!=document.body;a=a.parentNode){for(var e=0;e<h.length;e++){if(dojo.hasClass(a,h[e])){b=mojo.queryFirst("h2 > span.middle",a);break}}if(b){break}}var g=b?b.innerHTML+":":"";return{mode:"track",params:{type:"event",options:{customLink:(g+(d.title||d.innerHTML)).toLowerCase()}}}});this.addObserver("#bookmark_widget a","onclick","PreventDefault");this.addObserver("#bookmark_widget a","onclick","SetHomepage")},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("SetHomepage","cox.behavior.SetHomepageBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.MovieFinder");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.MovieFinder",mojo.controller.Controller,{params:{selectedIndex:{required:false,defaultValue:0,type:Number}},addObservers:function(){this.addObserver(this,"onInit","UpdateClass",function(c,b){var a=mojo.query("#movie-finder input[type='radio']");if(a&&a.length!=0){var f=a[0].checked?"#title-search, #movie-search-ondemand":"#theater-search";if(a[1].checked){var e=mojo.queryFirst("#movie-finder form#title-search");dojo.removeClass(e,"active");var d=mojo.queryFirst("#movie-search-ondemand");dojo.removeClass(d,"active");return{element:mojo.query("#movie-finder form"+f),action:"add",cssClass:"active"}}}});this.addObserver(mojo.query("#movie-finder input[type='radio']"),"onclick","UpdateClass",function(b,a){return{element:mojo.query("#movie-finder form, #movie-search-ondemand"),action:"remove",cssClass:"active"}});this.addObserver(mojo.query("#movie-finder input[type='radio']"),"onclick","UpdateClass",function(c,b){var a=(b.value=="title");var d=a?"#title-search, #movie-search-ondemand":"#theater-search";return{element:mojo.query("#movie-finder form"+d),action:"add",cssClass:"active"}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.OmnitureContentColumnController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.OmnitureContentColumnController",mojo.controller.Controller,{addObservers:function(){this.addObserver("#content a","onclick","Track",function(f,d){var c=d;var b;var h=["one-col-module","two-col-module","three-col-module","four-col-module","five-col-module"];for(var a=d;a!=document.body;a=a.parentNode){for(var e=0;e<h.length;e++){if(dojo.hasClass(a,h[e])){b=mojo.queryFirst("h2 > span.middle",a);break}}if(b){break}}var g=b?b.innerHTML+":":"";return{mode:"track",params:{type:"event",options:{customLink:(g+(d.title||d.innerHTML)).toLowerCase()}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.OnlineActivationController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.OnlineActivationController",mojo.controller.Controller,{params:{displayBlockSelectors:{defaultValue:[],type:Array},displayNoneSelectors:{defaultValue:[],type:Array}},addObservers:function(){this.addObserver(mojo.queryFirst("#ddConfirmWith"),"onchange","PreventDefault");formDisplay=function(b){var a=mojo.queryFirst("#ddConfirmWith").value;if(a=="optPIN"){b.setValue("displayBlockSelectors",["#frmPIN"]);b.setValue("displayNoneSelectors",["#frmUID"])}else{b.setValue("displayBlockSelectors",["#frmUID"]);b.setValue("displayNoneSelectors",["#frmPIN"])}};this.addObserver(mojo.queryFirst("#ddConfirmWith"),"onchange","SwapElementDisplay",function(c,b,a){formDisplay(a)});this.addObserver(this,"onInit","SwapElementDisplay",function(c,b,a){if(mojo.query("#ddConfirmWith").length>0){formDisplay(a)}});this.addObserver(mojo.query("form#frmUID"),"onsubmit","StoreLoginCookie",function(b,a){return{form:a}});this.addObserver(".activate-device-form input","onclick","Messaging",function(a,b){return{topic:"dialog",message:{enabled:true,scriptText:true,title:'<h3 class="loading-title">Please wait...</h3>',text:'<div class="loading-message"><p>This may take a moment while we active your device.</p></div>',width:620,height:180}}});this.addObserver(mojo.query(".activate-device-form"),"onsubmit","Track",function(a,b){return{mode:"track",params:{type:"event",options:{eventName:"activateDevice"}}}})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("SwapElementDisplay","cox.behavior.SwapElementDisplay");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("StoreLoginCookie","cox.behavior.StoreLoginCookieBehavior");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.SearchAdvancedController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.SearchAdvancedController",mojo.controller.Controller,{params:{defaultSearchText:{defaultValue:"Use the form below and your search will appear here",type:String}},addObservers:function(){this.addObserver(this,"onInit","UpdateClass",function(d,c,b){var a=mojo.queryFirst("#search-input");if(!a.value){a.value=b.getValue("defaultSearchText");dojo.addClass("search-input","default")}});this.addObserver("input","onkeyup","UpdateClass",function(a,b,f){var g="";var h=" -";var l="";var d=mojo.queryFirst("#search-input");var c=mojo.queryFirst("#search-all-input").value;var n=mojo.queryFirst("#search-exact-input").value;var o=mojo.queryFirst("#search-or-input1").value;var m=mojo.queryFirst("#search-or-input2").value;var k=mojo.queryFirst("#search-or-input3").value;var p=mojo.queryFirst("#search-unwanted-input").value;if(n){n=' "'+n+'"'}if(o){o=' "'+o+'"'}if(c||n||o){g=" OR "}if(m){m=g+'"'+m+'"'}if(c||n||o||m){g=" OR "}if(k){k=g+'"'+k+'"'}if(p){params=p.split('"');for(var e=0;e<params.length;e++){if(params[e]!=""){if(params[e].match("^"+s)!=" "&&e>0){tmp='"'+params[e]+'"'}else{tmp=params[e].replace(/\s/g," -")}l+=tmp}}l=" -"+l}d.value=c+n+o+m+k+l;if(d.value==""){d.value=f.getValue("defaultSearchText");dojo.addClass("search-input","default")}else{dojo.removeClass("search-input","default")}});this.addObserver("a.basic-search","onclick","UpdateClass",function(f,e,d){var b=mojo.queryFirst("#search-input").value;var a=mojo.query("input[name='filter']");var g;dojo.forEach(a,function(h){if(h.checked){g=h.value}});var c=e.href;c=c+"?filter="+g;if(b&&(b!=d.getValue("defaultSearchText"))){c=c+"&term="+encodeURIComponent(b)}e.href=c});this.addObserver("form","onsubmit","PreventDefault");this.addObserver(".filter-radios input[type='radio']","onclick","UpdateClass",function(e,c,a){var d=c.form;var b=mojo.query(".filter-radios input[type='radio']");if(b[0].checked){c.form.action=internalUrl}else{c.form.action=externalUrl}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior")},addIntercepts:function(){this.addIntercept("around","PreventDefault","BlockProceed",function(d,c,b){var e=mojo.queryFirst("#search-input").value;var a=b.getValue("defaultSearchText");if(e==a){return{condition:true}}})}});dojo.provide("cox.controller.myplace.SearchBasicController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.SearchBasicController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".advanced-link a","onclick","UpdateClass",function(e,d,c){var b=mojo.queryFirst("#query-search-input").value;var a=mojo.query("input[name='filter']");var g;dojo.forEach(a,function(h){if(h.checked){g=h.value}});var f=d.href;f=f+"?filter="+g;if(b){f=f+"&term="+encodeURIComponent(b)}d.href=f});this.addObserver(".filter-radios input[type='radio']","onclick","UpdateClass",function(e,c,a){var d=c.form;var b=mojo.query(".filter-radios input[type='radio']");if(b[0].checked){c.form.action=internalUrl}else{c.form.action=externalUrl}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.ServicesController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.ServicesController",mojo.controller.Controller,{addObservers:function(){this.addObserver("#content a","onclick","Track",function(f,e){var d=e;var c;var h=["snippet-frame"];for(var b=e;b!=document.body;b=b.parentNode){if(dojo.hasClass(b,h)){c=mojo.queryFirst("h2.module-header",b);break}if(c){break}}var g=c?c.innerHTML+":":"";var a=__coxOmnitureParams?__coxOmnitureParams.pageName+":":"";return{mode:"track",params:{type:"event",options:{customLink:(a+g+(e.title||e.innerHTML)).toLowerCase()}}}})},addCommands:function(){this.addCommand("Set","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.SlideshowController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.SlideshowController",mojo.controller.Controller,{params:{selectedIndex:{required:false,defaultValue:0,type:Number},duration:{required:false,defaultValue:5,type:Number},autoPlay:{required:false,defaultValue:false,type:Boolean},isPlaying:{required:false,defaultValue:false,type:Boolean}},addObservers:function(){var d=mojo.queryFirst(".slideshow-detail",this.getContextElement());var b=mojo.query(".filmstrip-page",d);var a=mojo.queryFirst(".slidebox .filmstrip-component",this.getContextElement());var c=mojo.query(".filmstrip-content .step",mojo.queryFirst(".slidebox",this.getContextElement()));this.addObserver(this.getConfig("params").isPlaying,"onChange","UpdateCss",function(h,g,f){var e=mojo.query(".slideshow-detail .slide-poster a",h);if(g.getValue()){dojo.forEach(e,function(k){dojo.removeClass(k,"play");dojo.addClass(k,"pause")})}else{dojo.forEach(e,function(k){dojo.addClass(k,"play");dojo.removeClass(k,"pause")})}});this.addObserver(".slideshow-detail .slide-poster a","onclick","PreventDefault");this.addObserver(".slideshow-detail .slide-poster a","onclick","Slideshow",function(g,f,e){return{action:"toggle",duration:e.getValue("duration"),controllerEl:d,length:b.length,controller:e}});this.addObserver(".slideshow-detail .filmstrip-prev","onclick","PreventDefault");this.addObserver(".slideshow-detail .filmstrip-prev","onclick","UpdateCss",function(){var e=d.mojoControllers["cox.controller.FilmStripController"];var f=e.getValue("selectedIndex");if(f>0){e.setValue("selectedIndex",f-1)}else{if(e.getValue("loop")){e.setValue("selectedIndex",b.length-1)}}});this.addObserver(".slideshow-detail .filmstrip-next","onclick","PreventDefault");this.addObserver(".slideshow-detail .filmstrip-next","onclick","UpdateCss",function(){var e=d.mojoControllers["cox.controller.FilmStripController"];var f=e.getValue("selectedIndex");if(f<b.length-1){e.setValue("selectedIndex",f+1)}else{if(e.getValue("loop")){e.setValue("selectedIndex",0)}}});this.addObserver(".slidebox .filmstrip-content .step","onclick","PreventDefault");this.addObserver(".slidebox .filmstrip-content .step","onclick","UpdateCss",function(f,e){return{element:mojo.query(".slidebox .filmstrip-page a",f),action:"remove",cssClass:"active"}});this.addObserver(".slidebox .filmstrip-content .step","onclick","UpdateCss",function(g,f){var h=d.mojoControllers["cox.controller.FilmStripController"];for(var e=0;e<c.length;e++){if(c[e]==f){break}}if(e!=c.length){h.setValue("selectedIndex",e)}return{element:f,action:"add",cssClass:"active"}});this.addObserver(".slidebox .filmstrip-content .step, .slideshow-detail .filmstrip-prev, .slideshow-detail .filmstrip-next","onclick","Slideshow",function(g,f,e){return{action:"pause",duration:e.getValue("duration"),controllerEl:d,length:b.length,controller:e}});this.addObserver(mojo.Messaging.getTopic("/filmstrip/indexChanged"),"onPublish","UpdateCss",function(k,g,f){var l=g.getMessage();try{var m=d.mojoControllers["cox.controller.FilmStripController"];var h=a.mojoControllers["cox.controller.FilmStripController"]}catch(n){console.log("The controllers aren't attached to their elements yet.");return}if(l.context==d&&h){f.setValue("selectedIndex",l.selectedIndex);h.setValue("selectedIndex",Math.floor(l.selectedIndex/4));dojo.forEach(c,function(e){dojo.removeClass(e,"active")});dojo.addClass(c[l.selectedIndex],"active");var o=mojo.queryFirst(".ad-container iframe");if(o){o.src=o.src+";ord2="+Math.random()*10000000000000000}}})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateCss","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Slideshow","cox.behavior.myplace.SlideshowBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.TVListingsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.TVListingsController",mojo.controller.Controller,{params:{detailURL:{defaultValue:window.detailURL,type:String},isAnimating:{defaultValue:false,type:Boolean},doSearch:{defaultValue:true,type:Boolean},doCookieSet:{defaultValue:true,type:Boolean},currentTab:{}},addObservers:function(){this.addObserver("#tv-listing-data .channel-timeline li a","onclick","PreventDefault");var a;var f;var h=function(m,l,k){mojo.Messaging.publish("error",{title:"Service Unavailable",text:"This service is currently unavailable. Please try again later."});dojo.removeClass(l,"active");return c(m,l,k,false)};var c=function(n,m,l,q){a=l.getValue("currentTab");if((m==a)||dojo.hasClass(m,"close")){m=null;d("cox-tv-show","",false,"session")}else{if(q){var k=mojo.query("#griddate-input")[0].value;var o=mojo.query("#gridtime")[0].value;var p=k+"|"+o+"|"+m.id;d("cox-tv-show",p,true,"session")}}l.setValue("currentTab",m);return{element:dojo.filter([a,m],function(r){return r}),action:"toggle",cssClass:"active"}};var e=function(k,l,p,n,r){mojo.Messaging.publish("dialog",{enabled:true,scriptText:true,title:'<h3 class="loading-title">Please wait...</h3>',text:'<div class="loading-message"><p>This may take a moment while we pull up your TV Listings.</p></div>',width:620,height:180});var o=mojo.queryFirst("#tv-grid",k);p.setValue("doSearch",!!r);var t=document.location.search;var q=dojo.hitch(this,h,k,l,p);var m=function(v){mojo.Messaging.publish("dialog",{enabled:false});o.innerHTML=v;g(k,l,p);if(t&&p.getValue("doSearch")){var u=dojo.queryToObject(t.slice(1)).showid;var z=dojo.queryToObject(t.slice(1)).cookie;if(z){var y=b("cox-tv-show");if(y.length>0){var x=y.split("|");var u=x[2];if(u!=""){var w=mojo.queryFirst("#"+u);if(w){window.location.replace(window.location.toString().replace(window.location.hash,"")+"#"+u);l=w;dojo.addClass(w,"active");return c(k,w,p,false)}else{mojo.Messaging.publish("error",{title:"Program Unavailable",text:"We can't find the program you're looking for. Check the TV listings grid for the latest programming."})}}}}else{if(u){var w=mojo.queryFirst("#"+u);if(w){window.location.replace(window.location.toString().replace(window.location.hash,"")+"#"+u);l=w;dojo.addClass(w,"active");return c(k,w,p,true)}else{mojo.Messaging.publish("error",{title:"Program Unavailable",text:"We can't find the program you're looking for. Check the TV listings grid for the latest programming."})}}}}};window.setTimeout(function(){dojo.xhrGet({url:n,handleAs:"text",timeout:20000,load:m,error:q})},0)};var d=function(r,p,l,k){var q=p;var o=new Date();o.setTime(o.getTime()+(2*365*24*60*60*1000));if(k=="persistent"){var n="; expires="+o.toGMTString();var m="; expires="+new Date(0).toGMTString()}else{var n="";var m=""}if(navigator.cookieEnabled){if(l){document.cookie=r+"="+q+n+"; path=/"}else{document.cookie=r+"="+q+m+"; path=/"}}};var b=function(k){if(document.cookie.length>0){c_start=document.cookie.indexOf(k+"=");if(c_start!=-1){c_start=c_start+k.length+1;c_end=document.cookie.indexOf(";",c_start);if(c_end==-1){c_end=document.cookie.length}return unescape(document.cookie.substring(c_start,c_end))}}return""};this.addObserver(this,"onInit","UpdateClass",function(o,m,k){var r=mojo.queryFirst("#pf-onsuccess");var p=mojo.queryFirst("#pf-onfailure");if(r&&r.value.indexOf("cookie")==-1){var q=(r.value.indexOf("%3F")!=-1)?"%26":"%3F";r.value+=q+"cookie%3Dtrue";p.value+=q+"cookie%3Dtrue"}var r=mojo.queryFirst("#onsuccess");var p=mojo.queryFirst("#onfailure");if(r&&r.value.indexOf("cookie")==-1){var q=(r.value.indexOf("%3F")!=-1)?"%26":"%3F";r.value+=q+"cookie%3Dtrue";p.value+=q+"cookie%3Dtrue"}var l=mojo.queryFirst(".tvlistings-grid");if(l){var n=window.gridURL;return e(o,m,k,n,"doSearch")}});this.addObserver("#tv-listing-data a.close","onclick","PreventDefault");this.addObserver("#tv-listing-data .channel-timeline li, #tv-listing-data a.close","onclick","UpdateClass",function(m,l,k){return c(m,l,k,true)});this.addObserver("#tv-grid .tv-listing-nav li a","onclick","PreventDefault");this.addObserver("#tv-listing-nav-row-1 li a","onclick","UpdateClass",function(m,l,k){return e(m,l,k,l.href)});this.addObserver("#tv-listing-data th a, .tv-page-prev-next a","onclick","PreventDefault");this.addObserver("#tv-listing-data th a, .tv-page-prev-next a","onclick","UpdateClass",function(m,l,k){return e(m,l,k,l.href)});this.addObserver("#tv-grid .reload a","onclick","PreventDefault");this.addObserver("#tv-grid .reload a","onclick","UpdateClass",function(m,l,k){return e(m,l,k,l.href)});this.addObserver(this.getConfig("params").currentTab,"onChange","UpdateClass",function(k,l,o){l=o.getValue("currentTab")||a;var n=l.id;var q=document.getElementById(n);var p=dojo.hitch(this,h,k,l,o);var t;for(var r=l;r.tagName!="BODY";r=r.parentNode){if(r.tagName=="TR"){t=r.id;break}}var m=function(w){var z;if(l!=a){z=new Element("tr",{id:t+"-details",style:"display:table-row;*display:block;"});var x=new Element("td",{colspan:7,id:t+"-data"});x.inject(z);z.inject(t,"after");x.innerHTML=w;mojo.controller.Map.getInstance().mapController("cox.controller.ToggleController",z);mojo.controller.Map.getInstance().mapController("cox.controller.myplace.TVListingsSetScheduleController",z)}var y="259";var v=z&&$(mojo.queryFirst(".show-details-wrap",z));var u=f&&mojo.queryFirst(".show-details-wrap",f);dojo.animateProperty({node:z||f,duration:600,easing:function(A){if(A==0){return 0}if(A==1){return 1}A=A*2;if(A<1){return Math.pow(2,10*(A-1))/2}--A;return(-1*Math.pow(2,-10*A)+2)/2},onAnimate:function(){if(u){u.setStyle("height",Math.floor(y-(this._getStep()*y)))}if(v){v.setStyle("height",Math.floor(this._getStep()*y))}o.setValue("isAnimating",true)},onEnd:function(){if(u){f.remove()}if(v){v.setStyle("height","auto")}f=z;o.setValue("isAnimating",false)}}).play()};if(l==a){m()}else{dojo.xhrGet({url:detailURL+n,handleAs:"text",timeout:20000,load:m,error:p})}});this.addObserver("#change-location-input","onchange","UpdateClass",function(m,l,k){var n=mojo.queryFirst("#dateTimeForm");gridId=l.value;if(n){gridAction=n.action;gridDate=mojo.queryFirst("#griddate-input",n).value;gridTime=mojo.queryFirst("#gridtime",n).value;gridCat=mojo.queryFirst("#gridcat",n).value;gridURL=gridAction+"?gridid="+gridId+"&griddate="+gridDate+"&gridtime="+gridTime+"&cat="+gridCat+"&chanstart=0"}else{gridAction=window.gridURL;gridURL=gridURL.replace(/gridid=(.*?)&/,"gridid="+gridId+"&")}d("cox-tv-grid",gridId,true,"persistent");return e(m,l,k,gridURL)});var g=function(m,l,k){k.addObserver(mojo.query("#griddate-input",m),"onchange","UpdateClass",function(n,o,r){var u=mojo.queryFirst("#dateTimeForm");var y=u.action;var p=mojo.queryFirst("#gridid",u).value;var w=o.value;var v=mojo.queryFirst("#gridtime",u).value;var t=mojo.queryFirst("#gridcat",u).value;var x=mojo.queryFirst("#gridstart",u).value;var q=y+"?gridid="+p+"&griddate="+w+"&gridtime="+v+"&cat="+t+"&chanstart="+x;return e(n,o,r,q)});k.addObserver(mojo.query("#gridtime-input",m),"onchange","UpdateClass",function(n,o,r){var u=mojo.queryFirst("#dateTimeForm");var y=u.action;var p=mojo.queryFirst("#gridid",u).value;var w=mojo.queryFirst("#griddate-input",u).value;var v=o.value;var t=mojo.queryFirst("#gridcat",u).value;var x=mojo.queryFirst("#gridstart",u).value;var q=y+"?gridid="+p+"&griddate="+w+"&gridtime="+v+"&cat="+t+"&chanstart="+x;return e(n,o,r,q)});k.addObserver(mojo.query(".tv-page-jump select",m),"onchange","UpdateClass",function(n,o,r){var u=mojo.queryFirst("#dateTimeForm");var y=u.action;var p=mojo.queryFirst("#gridid",u).value;var w=mojo.queryFirst("#griddate-input",u).value;var v=mojo.queryFirst("#gridtime",u).value;var t=mojo.queryFirst("#gridcat",u).value;var x=o.value;var q=y+"?gridid="+p+"&griddate="+w+"&gridtime="+v+"&cat="+t+"&chanstart="+x;return e(n,o,r,q)});k.addObserver(mojo.query("#tv-grid form",m),"onsubmit","PreventDefault");k.addObserver(mojo.query(".tv-page-goto a"),"onclick","UpdateClass",function(u,q,n){var o=mojo.query(".tv-page-goto input");o=o[0].value||o[1].value;var p=mojo.queryFirst("#jump-select").options;var v=q.href;for(var t=0;t<p.length;t++){if((p[t].value==o)&&o!=""){var r=v+"&chanstart="+o;return e(u,q,n,r)}}});k.addObserver(mojo.query(".tv-page-goto input",m),"onkeydown","EnterKey");k.addObserver(mojo.Messaging.getTopic("enterKeyPress"),"onPublish","UpdateClass",function(t,p){var u=p.getMessage();if(u=="enter"){var n=mojo.query(".tv-page-goto input");n=n[0].value||n[1].value;var o=mojo.queryFirst("#jump-select").options;var v=mojo.queryFirst(".tv-page-goto a").href;for(var r=0;r<o.length;r++){if((o[r].value==n)&&n!=""){var q=v+"&chanstart="+n;return e(t,p,k,q)}}}})};this.addObserver("#tv-listing-nav-row-1 a","onclick","Track",function(l,k){return{mode:"track",params:{type:"event",options:{dvrFilter:(k.firstChild.innerHTML).toLowerCase()}}}});this.addObserver("form#searchListingsForm","onsubmit","Track",function(l,k){return{mode:"track",params:{type:"event",options:{dvrSearch:(mojo.query("#search-forecast-input")[0].value).toLowerCase()}}}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("EnterKey","cox.behavior.interface.form.EnterKeyBehavior");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){this.addIntercept("around","UpdateClass","BlockProceed",function(){return{condition:!this.getController().getValue("isAnimating")}})}});dojo.provide("cox.controller.myplace.TVListingsSetScheduleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.TVListingsSetScheduleController",mojo.controller.Controller,{params:{formChange:{}},addObservers:function(){var b=function(d){var f=mojo.queryFirst(".processing");var e=mojo.queryFirst(".note",d);var c=mojo.queryFirst(".btn-set-record");if(c){f.style.display="none";e.style.display="block";c.disabled=false;dojo.removeClass(c,"btn-set-record-disabled")}mojo.Messaging.publish("error",{title:"Service Unavailable",text:"This service is currently unavailable. Please try again later."})};this.addObserver(this,"onInit","UpdateClass",function(e,d,c){mojo.Messaging.publish("remapControllers")});this.addObserver("form.set-record","onsubmit","PreventDefault");this.addObserver("form.set-record","onsubmit","UpdateClass",function(c,d,k){var g=mojo.queryFirst(".note",d);var f=mojo.queryFirst(".processing",d);var h=mojo.queryFirst(".btn-set-record",d);var m=mojo.queryFirst("#set-dvr",c);var l=dojo.hitch(this,b,d);if(h){g.style.display="none";f.style.display="block";h.disabled=true;dojo.addClass(h,"btn-set-record-disabled")}var e=function(n){m.innerHTML=n;mojo.controller.Controller.updateObservers("cox.controller.myplace.TVListingsSetScheduleController");mojo.Messaging.publish("remapControllers");k.setValue("formChange",d)};dojo.xhrGet({url:d.action,form:d,handleAs:"text",timeout:20000,load:e,error:l})});this.addObserver("form.set-record .btn-record","onclick","Track",function(d,c){return{mode:"track",params:{type:"event",options:{eventName:"dvrRecord"}}}});this.addObserver("form.set-record .btn-set-record","onclick","Track",function(d,c){return{mode:"track",params:{type:"event",options:{eventName:"dvrSetRecord"}}}});this.addObserver(this.getConfig("params").formChange,"onChange","Track",function(){var c=mojo.queryFirst("#dvr-msg-track");if(c){msg=c.innerHTML;return{mode:"track",params:{type:"event",options:{confirmationMsg:"remote dvr: "+msg.toLowerCase()}}}}});this.addObserver(mojo.Messaging.getTopic("remapControllers"),"onPublish","MapControllers",function(){return{contextObj:mojo.queryFirst("#dvr-messaging")}});this.addObserver(mojo.query("#tv-grid .btn-help"),"onclick","PreventDefault");this.addObserver(mojo.query("#tv-grid .btn-help"),"onmouseover","ToolTip",function(d,c){return a(d,c)});this.addObserver(mojo.query("#tv-grid .btn-help"),"onmouseout","ToolTip",function(){return{show:false}});var a=function(e,c){var f=dojo.position(c);var g=mojo.queryFirst(".tooltip-info",c.parentNode);var d=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(g){g=g.innerHTML}else{g="Tooltip not available."}return{show:true,info:g,offsetX:f.w+15,offsetY:f.h/2-35,underlayMark:".wrapper",template:'<div class="tooltip"><div class="wrapper"><div class="arrow">&nbsp;</div><table class="head"><tr><td class="tl"></td><td class="t">&nbsp;</td><td class="tr"></td></tr></table><table class="body"><tr><td class="l"></td><td class="c"><div class="dialog-pane-content"></div></td><td class="r"></td></tr></table>\n<table class="foot"><tr><td class="bl"></td><td class="b">&nbsp;</td><td class="br"></td></tr></table></div></div>'}}},addCommands:function(){this.addCommand("ToolTip","cox.behavior.ToolTipBehavior");this.addCommand("MapControllers","stdlib.command.MapControllersCommand");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.WeatherCityPickerController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.WeatherCityPickerController",mojo.controller.Controller,{addObservers:function(){this.addObserver("select.select-weather","onchange","RedirectBehavior",function(c,b,a){var e=dojo.queryToObject(window.location.search.slice(1));e.city=b.value;var d="?"+dojo.objectToQuery(e);return{url:document.location.search?document.location.href.replace(document.location.search,d):document.location.href+d}})},addCommands:function(){this.addCommand("RedirectBehavior","stdlib.behavior.RedirectBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.WeatherMapPickerController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.WeatherMapPickerController",mojo.controller.Controller,{params:{mapImagePrefix:{defaultValue:"",type:String}},addObservers:function(){this.setValue("mapImagePrefix",window.mapImageUrl);this.addObserver("#add-location","onmousedown","WeatherPicker",function(c,b,a){return{action:"add"}});this.addObserver("#myplace-forecast-input","onfocus","WeatherPicker",function(c,b,a){return{action:"add"}});this.addObserver("#location-submit","onmousedown","WeatherPicker",function(c,b,a){return{action:"save"}});this.addObserver("#location-move-up","onclick","WeatherPicker",function(){return{action:"move",direction:-1}});this.addObserver("#location-move-up","onclick","PreventDefault");this.addObserver("#location-move-down","onclick","WeatherPicker",function(){return{action:"move",direction:1}});this.addObserver("#location-move-down","onclick","PreventDefault");this.addObserver("#location-delete","onclick","WeatherPicker",function(){return{action:"delete"}});this.addObserver("#location-delete","onclick","PreventDefault");this.addObserver("#preview-national","onclick","WeatherPicker",function(){return{action:"changeMap",type:"national"}});this.addObserver("#preview-regional","onclick","WeatherPicker",function(c,b,a){return{action:"changeMapType",type:dojo.formToObject(mojo.queryFirst("#userPrefsForm")).radmaptype}});this.addObserver("#preview-regional","onclick","WeatherPicker",function(){return{action:"changeMap",type:"regional"}});this.addObserver(this,"onInit","AnimateMap",function(b,a){return{action:"init",link:mojo.queryFirst(".myplace-weathermap-animate"),image:mojo.queryFirst(".myplace-weathermap")}});this.addObserver(mojo.query(".myplace-weathermap-animate"),"onclick","PreventDefault");this.addObserver(mojo.query(".myplace-weathermap-animate"),"onclick","AnimateMap",function(b,a){return{action:"toggle",link:a,image:mojo.queryFirst(".myplace-weathermap")}})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("WeatherPicker","cox.behavior.myplace.WeatherMapPickerBehavior");this.addCommand("AnimateMap","cox.behavior.AnimateWeatherMapBehavior")},addIntercepts:function(){this.addIntercept("before","WeatherPicker","AnimateMap",function(){return{action:"stop",link:mojo.queryFirst(".myplace-weathermap-animate"),image:mojo.queryFirst(".myplace-weathermap")}});this.addIntercept("after","WeatherPicker","AnimateMap",function(){return{action:"init",link:mojo.queryFirst(".myplace-weathermap-animate"),image:mojo.queryFirst(".myplace-weathermap")}})}});dojo.provide("cox.controller.resaccount.MyAccountController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.resaccount.MyAccountController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".sub-tabs a","onclick","Track",function(d,c){var a=__coxOmnitureParams?__coxOmnitureParams.pageName+":":"";var g=__coxOmnitureParams?__coxOmnitureParams.hier1+",":"";var e=__coxOmnitureParams?__coxOmnitureParams.hier2+",":"";var b=__coxOmnitureParams?__coxOmnitureParams.localeName+":":"";var f=c.title.toLowerCase();if(f){return{mode:"track",params:{type:"pageview",clearVariables:"true",options:{pageName:a+f,hier1:g+f,hier2:e+f,localePagename:b+a+f}}}}});this.addObserver(".allservices a.rounded","onclick","Track",function(b,a){var c=a.innerHTML.replace(/<\/?[^>]+(>|$)/g,"").toLowerCase();if(c){return{mode:"track",params:{type:"event",options:{customLink:c}}}}});this.addObserver("#promotion a.rounded-large","onclick","Track",function(b,a){var c=a.innerHTML.replace(/<\/?[^>]+(>|$)/g,"").toLowerCase();if(c){return{mode:"track",params:{type:"event",options:{customLink:"promo:"+c}}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.resaccount.MyAccountHeaderController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.resaccount.MyAccountHeaderController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query("#makepayment"),"onclick","Track",function(b,a){var c=a.innerHTML.replace(/<\/?[^>]+(>|$)/g,"").toLowerCase();if(c){return{mode:"track",params:{type:"event",options:{customLink:c}}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.residential.BillingController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.residential.BillingController",mojo.controller.Controller,{addObservers:function(){cancelPopup=function(a,b){return{topic:"dialog",message:{enabled:true,title:"",element:mojo.queryFirst(".cancel-popup",b.parentNode),width:440,height:110}}};this.addObserver(".recent-activity-cancel-link","onclick","PreventDefault");this.addObserver(".recent-activity-cancel-link","onclick","Messaging",cancelPopup);this.addObserver("a.printpage-link","onclick","PreventDefault");this.addObserver(".cancel-form","onsubmit","PreventDefault");this.addObserver(".cancel-form","onsubmit","Messaging",cancelPopup);toggleSteps=function(a){mojo.query(".payment-steps > li").forEach(function(b,c){if(dojo.hasClass(b,a.id+"Toggle")||dojo.hasClass(b,"payment-steps-always")){b.style.display="list-item"}else{b.style.display="none"}});if(a.id=="optPayWithCard"){if(window.reloadObject&&window.reloadObject.isBackLoad){mojo.queryFirst("#invalid-card-error").innerHTML="";mojo.query(".disable-toggle").toggleClass("disable-edit");mojo.queryFirst("#txtCardNum").disabled=true;mojo.queryFirst("#change-card-link").style.display="inline-block";mojo.queryFirst("#card-types-help").style.display="none";mojo.queryFirst("#subopt-validate-card").style.display="none";mojo.queryFirst("#subopt-type-and-name").style.display="block";mojo.queryFirst("form.cancel-form").style.display="block";mojo.queryFirst("#submitPayment").style.display="block";if(window.reloadObject.cardType=="ATM"){mojo.queryFirst("#subopt-process-choice").style.display="none";if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.addClass("subopt-debit","no-bullet")}mojo.queryFirst("#subopt-credit").style.display="none"}else{if(window.reloadObject.isDebitAllowed){mojo.queryFirst("#subopt-process-choice").style.display="block";if(mojo.queryFirst("#optPayByDebit").checked){if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.addClass("subopt-debit","no-bullet")}mojo.queryFirst("#subopt-credit").style.display="none"}else{if(mojo.queryFirst("#optPayByCredit").checked){mojo.queryFirst("#subopt-credit").style.display="block";if((dummy=mojo.queryFirst("#optSchedulePayment"))){dummy.style.display="list-item";if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.removeClass("subopt-debit","no-bullet")}}else{if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.addClass("subopt-debit","no-bullet")}}}}}else{mojo.queryFirst("#subopt-process-choice").style.display="none";mojo.queryFirst("#subopt-credit").style.display="block";if((dummy=mojo.queryFirst("#optSchedulePayment"))){dummy.style.display="list-item";if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.removeClass("subopt-debit","no-bullet")}}else{if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.addClass("subopt-debit","no-bullet")}}}}mojo.query("span.valid-card-type").forEach(function(b){b.innerHTML=window.reloadObject.cardType});mojo.queryFirst("#txtCardType").value=window.reloadObject.cardType;window.reloadObject=false}else{mojo.query(".disable-toggle").removeClass("disable-edit");if((dummy=mojo.queryFirst("#txtCardNum"))){dummy.disabled=false}if((dummy=mojo.queryFirst("#change-card-link"))){dummy.style.display="none"}if((dummy=mojo.queryFirst("#card-types-help"))){dummy.style.display="inline-block"}if((dummy=mojo.queryFirst("#subopt-validate-card"))){dummy.style.display="block"}if((dummy=mojo.queryFirst("#subopt-process-choice"))){dummy.style.display="none"}if((dummy=mojo.queryFirst("#subopt-type-and-name"))){dummy.style.display="none"}if((dummy=mojo.queryFirst("#subopt-debit"))){dummy.style.display="none"}if((dummy=mojo.queryFirst("#subopt-credit"))){dummy.style.display="none"}if((dummy=mojo.queryFirst("#validate-card"))){mojo.queryFirst("form.cancel-form").style.display="none";mojo.queryFirst("#submitPayment").style.display="none"}if((dummy=mojo.queryFirst("#optSchedulePayment"))){dummy.style.display="none"}}if((dummy=mojo.queryFirst("#optPayByDebit[checked]"))){if((dummy=mojo.queryFirst("input[name='optPayOn']"))){dummy.click()}}}else{if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.removeClass(dummy,"no-bullet")}if((dummy=mojo.queryFirst("#validate-card"))){mojo.queryFirst("form.cancel-form").style.display="block";mojo.queryFirst("#submitPayment").style.display="block"}}if(a.id=="optPayWithSavedMethod"){if((dummy=mojo.queryFirst("#saved-payment-method"))){dummy.style.display="block"}}else{if((dummy=mojo.queryFirst("#saved-payment-method"))){dummy.style.display="none"}}};toggleAmount=function(a){var b=mojo.queryFirst("#multi-amount-payment");if(a.id=="optPayAmtSelected"){if((dummy=b)){dummy.style.display="block"}}else{if((dummy=b)){dummy.style.display="none"}}};clearMsgError=function(b){var a=b.parentNode;if(a){while(a.tagName.toLowerCase()!="form"){a=a.parentNode}mojo.query(".msgError",a).forEach(function(c){c.style.display="none"})}};optValidateRequiredTxt=function(b){mojo.query("."+b.name).forEach(function(c){dojo.removeClass(c,"required");dojo.addClass(c,"required-disabled");c.disabled=true});var a;if(b.form[b.name].length){a=b.form[b.name]}else{a=[b.form[b.name]]}dojo.forEach(a,function(c){if(c.checked){mojo.query("."+c.id).forEach(function(d){dojo.removeClass(d,"required-disabled");dojo.addClass(d,"required");d.disabled=false})}})};cardContinue=function(d,c,b){var f=mojo.queryFirst("#txtCardNum").value.trim();if(window.validateCardURL.match(/json/)){switch(f){case"0000000000000000":window.validateCardURL="includes/validate-card-debit.json";break;case"1111111111111111":window.validateCardURL="includes/validate-card-credit.json";break;default:window.validateCardURL="includes/validate-card-invalid.json"}}clearMsgError(c);var e=function(){mojo.queryFirst("#invalid-card-error").innerHTML="<div class='msgError'><p>We're sorry. We could not validate the card number entered. Please re-enter the card number or select a different method of payment.</p></div>"};var a=function(g){if(g.cardType==""){e()}else{mojo.queryFirst("#invalid-card-error").innerHTML="";mojo.query(".disable-toggle").toggleClass("disable-edit");mojo.queryFirst("#txtCardNum").disabled=true;mojo.queryFirst("#change-card-link").style.display="inline-block";mojo.queryFirst("#card-types-help").style.display="none";mojo.queryFirst("#subopt-validate-card").style.display="none";mojo.queryFirst("#subopt-type-and-name").style.display="block";mojo.queryFirst("input[name='payment-method-pay-by']").checked="checked";mojo.queryFirst("form.cancel-form").style.display="block";mojo.queryFirst("#submitPayment").style.display="block";if(g.isDebit&&g.cardType=="ATM"){if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.addClass("subopt-debit","no-bullet")}mojo.queryFirst("#optPayByDebit").checked="checked";if((dummy=mojo.queryFirst("input[name='optPayOn']"))){dummy.click()}}else{if(g.isDebit){mojo.queryFirst("#subopt-process-choice").style.display="block";if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.addClass("subopt-debit","no-bullet")}mojo.queryFirst("#optPayByDebit").checked="checked";if((dummy=mojo.queryFirst("input[name='optPayOn']"))){dummy.click()}}else{mojo.queryFirst("#subopt-credit").style.display="block";if((dummy=mojo.queryFirst("#optSchedulePayment"))){dummy.style.display="list-item";if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.removeClass("subopt-debit","no-bullet")}}else{if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.addClass("subopt-debit","no-bullet")}}mojo.queryFirst("#optPayByCredit").checked="checked"}}mojo.query("span.valid-card-type").forEach(function(h){h.innerHTML=g.cardType});mojo.queryFirst("#txtCardType").value=g.cardType}};if(f==""){mojo.queryFirst("#invalid-card-error").innerHTML="<div class='msgError'><p>Please enter a Card #.</p></div>"}else{dojo.xhrPost({url:window.validateCardURL,content:{cardNumber:mojo.queryFirst("#txtCardNum").value},handleAs:"json",timeout:20000,load:a,error:e})}};this.addObserver(this,"onInit","UpdateClass",function(e,c,b){if((dummy=mojo.queryFirst(".authorized-user-popup"))){mojo.Messaging.publish("dialog",{enabled:true,title:"",element:dummy,width:440,height:-1})}mojo.query(".payment-steps input[checked][name='optAmtToPay']").forEach(function(h){toggleAmount(h)});mojo.query(".payment-steps input[checked].payment-method-opt-radio").forEach(function(h){toggleSteps(h)});mojo.query("input[type='radio']:not([name='saved-payment-radio'])",dojo.byId("viewpaybill")).forEach(function(h){optValidateRequiredTxt(h)});var g=mojo.queryFirst("#view-bill-details");var d=mojo.queryFirst("#view-bill-details.loading-wrapper");if(d){var a=function(h){g.innerHTML=h;mojo.Messaging.publish("remapControllers");mojo.Messaging.publish("/throbber",{status:false,id:"view-bill-details"})};var f=function(){g.innerHTML="<div class='msgError'><p>We're sorry, we can't find this part of the page right now.</p></div>"};dojo.xhrGet({url:window.billDetailsURL,handleAs:"text",timeout:20000,load:a,error:f})}});this.addObserver(mojo.Messaging.getTopic("remapControllers"),"onPublish","MapControllers",function(){return{contextObj:mojo.queryFirst("#view-bill-details")}});this.addObserver(mojo.query("input[type='radio'].payment-method-opt-radio"),"onclick","UpdateClass",function(c,b,a){toggleSteps(b)});this.addObserver(mojo.query("input[type='radio'][name='optAmtToPay']"),"onclick","UpdateClass",function(c,b,a){toggleAmount(b)});this.addObserver(mojo.query("#multi-amount-payment input[type='radio']"),"onclick","ToggleTotal",function(c,b,a){return{multiAmountTotal:mojo.queryFirst("#txtPaymentAmtSelected"),paymentOptions:dojo.query("#multi-amount-payment input[type='radio']")}});this.addObserver(mojo.query(".statement-other-input"),"onkeyup","ToggleTotal",function(c,b,a){return{multiAmountTotal:mojo.queryFirst("#txtPaymentAmtSelected"),paymentOptions:dojo.query("#multi-amount-payment input[type='radio']"),otherAmount:b.id}});this.addObserver("#txtCardNum","onkeydown","UpdateClass",function(d,c,a){var f=this.eventObj;var b;if(f&&f.which){f=f;b=f.which}else{f=event;b=f.keyCode}if(b==13){dojo.stopEvent(this.eventObj);cardContinue(d,c,a)}});this.addObserver("#validate-card","onclick","PreventDefault");this.addObserver("#validate-card","onclick","UpdateClass",function(c,b,a){cardContinue(c,b,a)});this.addObserver("#change-card-link","onclick","PreventDefault");this.addObserver("#change-card-link","onclick","UpdateClass",function(c,b,a){mojo.query(".disable-toggle").toggleClass("disable-edit");mojo.queryFirst("#txtCardNum").disabled=false;mojo.queryFirst("#change-card-link").style.display="none";mojo.queryFirst("#card-types-help").style.display="inline-block";mojo.queryFirst("#txtNameOnCard").value="";mojo.queryFirst("#ddExpDateMonth").selectedIndex=0;mojo.queryFirst("#ddExpDateYear").selectedIndex=0;mojo.queryFirst("#subopt-validate-card").style.display="block";mojo.queryFirst("#subopt-process-choice").style.display="none";mojo.queryFirst("#subopt-type-and-name").style.display="none";if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.removeClass("subopt-debit","no-bullet")}mojo.queryFirst("#subopt-credit").style.display="none";mojo.queryFirst("input[name='payment-method-pay-by']").checked="checked";mojo.queryFirst("form.cancel-form").style.display="none";mojo.queryFirst("#submitPayment").style.display="none";if((dummy=mojo.queryFirst("#optSchedulePayment"))){dummy.style.display="none"}if((dummy=mojo.queryFirst("input[name='optPayOn']"))){dummy.click()}});this.addObserver(mojo.query("input[name='payment-method-pay-by']"),"onclick","UpdateClass",function(c,b,a){mojo.query("li.optPayWithCardToggle div").forEach(function(d){if(dojo.hasClass(d,b.id+"Toggle")||dojo.hasClass(d,"debit-and-credit")){d.style.display="block"}else{d.style.display="none"}if(b.id=="optPayByDebit"){if((dummy=mojo.queryFirst("#optSchedulePayment"))){dummy.style.display="none"}if((dummy=mojo.queryFirst("input[name='optPayOn']"))){dummy.click()}if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.addClass("subopt-debit","no-bullet")}}else{if((dummy=mojo.queryFirst("#optSchedulePayment"))){dummy.style.display="list-item";if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.removeClass("subopt-debit","no-bullet")}}}})});this.addObserver(mojo.query("input[type='radio']:not([name='saved-payment-radio'])"),"onclick","UpdateClass",function(c,b,a){optValidateRequiredTxt(b)});this.addObserver(".terms-trigger","onclick","PreventDefault");this.addObserver(".terms-trigger","onclick","Messaging",function(c,b,a){return{topic:"termsConditionsDialog",message:{title:mojo.queryFirst(".terms-conditions-header h3").innerHTML,text:mojo.queryFirst(".terms-conditions-content").innerHTML}}});this.addObserver("#submitPayment input[type='submit']","onclick","UpdateClass",function(a,b){if(mojo.queryFirst("#optPayWithCard").checked){mojo.queryFirst("#txtCardNum").disabled=false}mojo.queryFirst("#txtCardType").disabled=false});this.addObserver(".submit-payment-button","onclick","Messaging",function(a,b){if((dummy=mojo.queryFirst("div.dupe-payment-popup"))){dojo.stopEvent(this.eventObj);return{topic:"dialog",message:{enabled:true,title:"",element:dummy,width:440,height:146}}}else{b.parentNode.style.display="none";return{topic:"dialog",message:{enabled:true,scriptText:true,title:'<h3 class="loading-title">Please wait...</h3>',text:'<div class="loading-message"><p>Your payment submission is being processed. (This may take a moment.)</p></div>',width:620,height:180}}}});this.addObserver(mojo.Messaging.getTopic("dialog"),"onPublish","UpdateClass",function(c,b,a){mojo.query("input.dupe-payment-popup-continue").forEach(function(d){if(!d.mojoObserve||!d.mojoObserve[a.declaredClass]){a.addObserver(d,"onclick","UpdateClass",function(){mojo.Messaging.publish("dialog",{enabled:false});mojo.Messaging.publish("dialog",{enabled:true,scriptText:true,title:'<h3 class="loading-title">Please wait...</h3>',text:'<div class="loading-message"><p>Your payment submission is being processed. (This may take a moment.)</p></div>',width:620,height:180});mojo.queryFirst("input.submit-payment-button").parentNode.style.display="none"})}})});this.addObserver("#txtBankRoutingNum","onblur","UpdateClass",function(f,e,c){var b=mojo.queryFirst("#routingNumberStatus");var d=mojo.queryFirst("#routingError");var a=function(h){if(h.match){b.style.display="block";b.innerHTML=h.response;d.innerHTML=""}else{b.style.display="none";d.innerHTML="<div class='msgError'><p>"+h.response+"</p></div>"}};var g=function(){d.innerHTML="<div class='msgError'><p>We're sorry, we can't find this part of the page right now.</p></div>"};dojo.xhrPost({url:window.validateRountingURL,content:{routingNumber:e.value},handleAs:"json",timeout:20000,load:a,error:g})})},addCommands:function(){this.addCommand("ToggleTotal","cox.behavior.residential.bill.CalculatePaymentAmountBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("MapControllers","stdlib.command.MapControllersCommand");this.addCommand("EnterKey","stdlib.behavior.EnterKeyBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.residential.CableResetController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.residential.CableResetController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","Track",function(b,a){return{mode:"set",params:{toolName:"self box hit"}}});this.addObserver(mojo.query(".connectionreset"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{eventName:"toolUsageCompleted"}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.residential.CompareBundlesController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.residential.CompareBundlesController",mojo.controller.Controller,{params:{comparables:{},cart:{},cartEntries:{}},addObservers:function(){this.setValue("comparables",mojo.query("input.compare-checkbox",this.getContextElement()));this.setValue("cart",mojo.queryFirst("#compare-cart-form"));this.addObserver(this,"onInit","UpdateClass",function(e,b,a){var d=function(h){var k=h;for(var g=h;g.tagName!="BODY";g=g.parentNode){if(dojo.hasClass(g,"bundle-group")){k=g;break}}var l=mojo.queryFirst("h2",k);return l?(l.textContent||l.innerText):"No title found"};var f=a.getValue("cart");var c=mojo.queryFirst("button",f);a.getValue("comparables").map(function(g){var h=new Element("div",{"class":"compare-cart-item"});h.innerHTML="<input type='hidden' name='"+g.name+"' value='"+g.value+"' />"+d(g)+"<a class='remove-compare' href='#' id='remove-"+g.name+"'>Remove</a>";f.insertBefore(h,c)});a.setValue("cartEntries",mojo.query(".compare-cart-item",f));a.addObserver(mojo.query("a.remove-compare",a.getValue("cart")),"onclick","PreventDefault");a.addObserver(mojo.query("a.remove-compare",a.getValue("cart")),"onclick","ReconcileComparables",function(k,h,g){var l=mojo.queryFirst("input[name="+h.id.replace(/^remove-/,"")+"]",k);l.checked=false;return{mainEntries:g.getValue("comparables"),cartEntries:g.getValue("cartEntries")}})});this.addObserver(this,"onInit","ReconcileComparables",function(e,d,a){var c=mojo.query(".compare-checkbox").length;if(c){var b=mojo.queryFirst("#compare-cart");if(b){b.style.display="block"}}return{mainEntries:a.getValue("comparables"),cartEntries:a.getValue("cartEntries")}});this.addObserver("input.compare-checkbox","onclick","InterruptibleReconcileComparables",function(c,b,a){return{mainEntries:a.getValue("comparables"),cartEntries:a.getValue("cartEntries")}});this.addObserver("form.compare-form","onsubmit","PreventDefault");this.addObserver(this.getValue("cart"),"onsubmit","PreventDefault")},addCommands:function(){this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("ReconcileComparables","cox.behavior.ReconcileComparablesBehavior");this.addCommand("InterruptibleReconcileComparables","cox.behavior.ReconcileComparablesBehavior")},addIntercepts:function(){var a=function(b){mojo.Messaging.publish("error",{title:"Before you continue&#8230;",text:b})};this.addIntercept("around","PreventDefault","BlockProceed",function(d,c,b){if(c.tagName!="FORM"){return{condition:true}}var e=(b.getValue("comparables").filter(function(f){return f.checked}).length<=1);if(e){a("Sorry, you have to select at least 2 items.")}return{condition:e}});this.addIntercept("around","InterruptibleReconcileComparables","BlockProceed",function(f,e,b){if(!e.checked){return{condition:true}}var d=5;var c=b.getValue("comparables").filter(function(g){return g.checked}).length<d;if(!c){e.checked=false;a("Sorry, you can only select up to 4 items at a time.")}return{condition:c}})}});dojo.provide("cox.controller.residential.MyAppointmentsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.residential.MyAppointmentsController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".cancel-appointment-form","onsubmit","PreventDefault");this.addObserver(".cancel-appointment-form","onsubmit","Messaging",function(a,b){return{topic:"dialog",message:{enabled:true,title:"",element:mojo.queryFirst(".cancel-appointment-popup",b.parentNode),width:440,height:110}}});this.addObserver(mojo.query(".cancel-appointment-popup-form"),"onsubmit","Track",function(a,b){return{mode:"track",params:{type:"event",options:{eventName:"cancelAppointment"}}}})},addCommands:function(){this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.residential.ResidentialContactUsCorporate");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.residential.ResidentialContactUsCorporate",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query("#link-content a"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{customLink:"contact us:"+a.innerHTML.toLowerCase()}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.residential.ResidentialPricingPlansDetailController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.residential.ResidentialPricingPlansDetailController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query(".special-offer"),"onclick","ToolTip",function(b,a){var c=dojo.position(a);var d=mojo.queryFirst(".tooltip-info",a.parentNode);if(d){d=d.innerHTML}else{d="Tooltip not available."}return{show:true,info:d,offsetX:c.w+15,offsetY:c.h/2-35,template:this.getController()._tooltipTemplate}})},addCommands:function(){this.addCommand("ToolTip","cox.behavior.ToolTipBehavior")},addIntercepts:function(){},_tooltipTemplate:'<div class="tooltip"><div class="wrapper"><div class="arrow">&nbsp;</div><table class="head"><tr><td class="tl"></td><td class="t">&nbsp;</td><td class="tr"></div></td></tr></table><table class="body"><tr><td class="l"></td><td class="c"><div class="dialog-pane-content"></div></td><td class="r"></td></tr></table>\n<table class="foot"><tr><td class="bl"></td><td class="b">&nbsp;</td><td class="br"></td></tr></table></div></div>'});dojo.provide("cox.controller.residential.ServiceAppointmentsCalendarController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.residential.ServiceAppointmentsCalendarController",mojo.controller.Controller,{params:{slotSelected:{required:true,defaultValue:false,type:Boolean}},addObservers:function(){this.addObserver("form","onsubmit","PreventDefault");this.addObserver("form","onsubmit","Track",function(c,d){var b=(typeof(ajaxTimeout)!="undefined")?ajaxTimeout:"30000";console.log(b);var a=function(f){mojo.Messaging.publish("dialog",{enabled:true,scriptText:true,title:'<h3 class="loading-title">Please wait...</h3>',text:'<div class="loading-message"><p>This may take a moment while we reschedule your appointment.</p></div>',width:620,height:180});if(f.status=="success"){window.location=f.url}else{mojo.Messaging.publish("dialog",{enabled:true,title:"Reschedule Appointment",xhrPost:f.url,width:912,height:-1})}};var e=function(){mojo.queryFirst(".loading-message").innerHTML="<div class='msgError'><p>We're sorry, we can't find this part of the page right now.</p></div>"};dojo.xhrPost({url:d.action,form:d,handleAs:"json",timeout:b,load:a,error:e});return{mode:"track",params:{type:"event",options:{eventName:"rescheduleAppointment"}}}});this.addObserver(".day a","onclick","PreventDefault");this.addObserver(".day a:not(.disabled)","onclick","UpdateClass",function(d,b,a){var c=a.getValue("slotSelected");if(!c){a.setValue("slotSelected",true);mojo.queryFirst("#finish-button").style.display="block"}var e=mojo.queryFirst(".chosen");if(e){dojo.removeClass(e,"chosen")}mojo.queryFirst("input#curDateTime").value=dojo.attr(b,"href");if(!dojo.hasClass(b,"chosen")){return{element:b,action:"toggle",cssClass:"chosen"}}});this.addObserver(".controls a","onclick","PreventDefault");this.addObserver(".controls a","onclick","UpdateClass",function(d,c,b){var a=(typeof(ajaxTimeout)!="undefined")?ajaxTimeout:"30000";console.log(a);b.setValue("slotSelected",false);dojo.xhrGet({url:c,timeout:a,load:function(e){d.innerHTML=e;mojo.controller.Controller.updateObservers("cox.controller.residential.ServiceAppointmentsCalendarController")},error:function(){d.innerHTML="<div class='msgError'><p>We're sorry, we are unable to access the calendar at this time. Please try again later.</p></div>"}})})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.residential.ServiceAppointmentsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.residential.ServiceAppointmentsController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","UpdateClass",function(c,a){var b=document.location.search;if(b){var d=dojo.queryToObject(b.slice(1)).rescheduleSuccess;if(d){location.href="#a"+d}}});this.addObserver(".cancel-appointment-btn","onclick","PreventDefault");this.addObserver(".cancel-appointment-btn","onclick","Messaging",function(a,b){return{topic:"dialog",message:{enabled:true,title:"Cancel Appointment?",element:mojo.queryFirst(".cancel-appointment-popup",b.parentNode),width:440,height:-1}}});this.addObserver(".reschedule-appointment-form","onsubmit","PreventDefault");this.addObserver(".reschedule-appointment-form","onsubmit","Messaging",function(b,c){var a=(typeof(ajaxTimeout)!="undefined")?ajaxTimeout:"30000";return{topic:"dialog",message:{enabled:true,title:"Reschedule Appointment",xhrPost:c.action,xhrTimeout:a,form:c,width:912,height:-1}}});this.addObserver(mojo.query(".cancel-appointment-popup-form"),"onsubmit","Track",function(a,b){return{mode:"track",params:{type:"event",options:{eventName:"cancelAppointment"}}}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.site.GeneralMetricsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.site.GeneralMetricsController",mojo.controller.Controller,{addObservers:function(){if(typeof s!="undefined"&&s.linkDownloadFileTypes){this.addObserver(mojo.query("#container a"),"onclick","TrackDownload",function(f,d){var c=d.href.toLowerCase().split("#")[0].split("?")[0];c=c.split("/");c=c[c.length-1];var e=c.split(".");e=e[e.length-1];c=c.substr(0,c.lastIndexOf(e)-1);return{mode:"track",params:{type:"event",options:{eventName:"download",download:"["+__coxOmnitureParams.pageName+"]:"+e+":"+c}}}});this.addObserver(mojo.query(".custom-link"),"onclick","Track",function(d,c){var e=c.innerHTML.replace(/<\/?[^>]+(>|$)/g,"");return{mode:"track",params:{type:"event",options:{customLink:(c.title||e).toLowerCase()}}}});this.addObserver(mojo.query(".exit-link"),"onclick","Track",function(f,e){var c=__coxOmnitureParams.pageName;var d=__coxOmnitureParams?__coxOmnitureParams.localeName+":":"";return{mode:"track",params:{type:"event",options:{exitLink:d+c}}}})}var b=[{select:"#ordernow-txt a",category:["promos"],name:"order now"},{select:"#btn-discuss-mylist",category:["lead gen"],name:"email form"},{select:"#button-print-pdf",category:"tools",name:"print pdf"},{select:".services .panel h2 a",category:["our services"]},{select:".tab-content-news .title-txt a",category:["newsroom"]},{select:"#awards-content-sidebar h2 a",category:["awards"]},{select:".contact-method a",category:["tools","contact us"]},{select:".need-help a",category:["need help"]},{select:".search-cloud a",category:["word cloud"]},{select:".promotion-box a",category:["promos"],name:function(c){return mojo.queryFirst("a.link",c.parentNode)}},{select:".filmstrip-item .item-group a",category:["promos",function(c){return mojo.queryFirst("h3",c.parentNode.parentNode)}]},{select:".solutions-boxes .solutions-links a",category:["promos",function(c){return mojo.queryFirst("h2",c.parentNode.parentNode)}]},{select:".listingWidget a",category:[function(c){return mojo.queryFirst("h2",c.parentNode.parentNode.parentNode.parentNode)}]}];var a=this;dojo.forEach(b,function(c){a.addObserver(mojo.query(c.select),"onclick","Track",function(g,f){var d=function(k){k=k||f;if(!k.toLowerCase){if(k instanceof Function){k=k(f)}if(k.nodeType){k=($(k).getText().trim()||k.title||mojo.queryFirst("img",k).alt).replace(":","-")}if(k instanceof Array){return k.map(d).join(":")}}return k.toLowerCase()};var h=d(c.category);var e=d(c.name);return{mode:"track",params:{type:"event",options:{customLink:h+":"+e}}}})})},addCommands:function(){this.addCommand("UpdateCss","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Set","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("TrackDownload","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior")},addIntercepts:function(){if(typeof s!="undefined"&&s.linkDownloadFileTypes){var a=new RegExp("(\\."+s.linkDownloadFileTypes.split(",").join("|\\.")+")$");this.addIntercept("around","TrackDownload","BlockProceed",function(c,b){return{condition:a.test(b.href.toLowerCase().split("#")[0].split("?")[0])}})}}});dojo.provide("cox.controller.site.LoginCookieController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.site.LoginCookieController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","UpdateClass",function(f,d,b){var g=mojo.queryFirst("#sign-in");var e=mojo.queryFirst("#sign-in .sign-in-form");if(e){var c=mojo.queryFirst("#bookmark_widget");var a=dojo.position(e).h;if(a>255){if(c){c.style.position="relative"}g.style.height=a+"px"}}});this.addObserver(this.getContextElement(),"onsubmit","StoreLoginCookie",function(c,b,a){return{form:b}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("StoreLoginCookie","cox.behavior.StoreLoginCookieBehavior")},addIntercepts:function(){}});dojo.provide("cox.rules.business.LeadRules");dojo.require("mojo.helper.Validation");var validate=mojo.helper.Validation.getInstance();cox.rules.business.LeadRules={fname:[{rule:validate.isRequired,errorMsg:"Please enter a First Name."}],lname:[{rule:validate.isRequired,errorMsg:"Please enter a Last Name."}],company:[{rule:validate.isRequired,errorMsg:"Please enter a Company Name."}],add1:[{rule:validate.isRequired,errorMsg:"Please enter an Address."}],city:[{rule:validate.isRequired,errorMsg:"Please enter a City."}],zip:[{rule:validate.isRequired,errorMsg:"Please enter a Zip code."},{rule:validate.isZipCode,errorMsg:"Zip Code must be a 5-digit number."}],phone:[{rule:validate.isRequired,errorMsg:"Please enter a Phone Number."},{rule:validate.isType,errorMsg:"Phone Number must contain numbers only.",params:{type:Number}}],email:[{rule:validate.isRequired,errorMsg:"Please enter an E-mail address."},{rule:validate.isEmailAddress,errorMsg:"E-mail address must be a valid address."}]};dojo.provide("cox.rules.residential.ShoppingAssistantRules");dojo.require("mojo.helper.Validation");var validate=mojo.helper.Validation.getInstance();cox.rules.residential.ShoppingAssistantRules={zip:[{rule:validate.isRequired,errorMsg:"Please enter a Zip Code."},{rule:validate.isZipCode,errorMsg:"Zip Code must be a 5-digit number."}]};