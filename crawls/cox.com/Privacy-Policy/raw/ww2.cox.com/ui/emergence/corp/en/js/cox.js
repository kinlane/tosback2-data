dojo.provide("cox.controller.FormController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.FormController",mojo.controller.Controller,{params:{isSubmitted:{required:false,defaultValue:false,type:Boolean},formSubmitCommand:{required:true,defaultValue:"FormSubmitCommand",type:String},formRules:{required:true,defaultValue:"application.rules.Rules",type:String},modelErrors:{required:true,defaultValue:"application.myModel",type:String},formId:{required:true,defaultValue:"#form",type:String},submitButtonId:{required:true,defaultValue:"#submit-form",type:String},cancelButtonId:{required:true,defaultValue:"#cancel-form",type:String},showDisableBox:{required:false,defaultValue:false,type:Boolean}},addObservers:function(){var B=this.getValue("formRules"),C=this.getValue("modelErrors"),A=this.getValue("formId");this.addObserver("input","onkeydown","EnterKey");this.addObserver(this.getCommand(this.getValue("formSubmitCommand")),"onError","DisableBox",function(E,D){if(!this.getController().getValue("showDisableBox")){return }return{target:E,show:false}});this.addObserver(this.getCommand(this.getValue("formSubmitCommand")),"onResponse","ClearModel",function(){return{model:C}});this.addObserver(this.getCommand(this.getValue("formSubmitCommand")),"onResponse","DisableBox",function(E,D){if(!this.getController().getValue("showDisableBox")){return }return{target:E,show:false}});this.addObserver(this.getValue("submitButtonId"),"onclick","UpdateControllerParam",function(F,E,D){return{control:this.getController().declaredClass,params:"isSubmitted",value:true,element:F}});this.addObserver(this.getConfig("params").isSubmitted,"onChange","ValidateRules",function(E,D){if(!this.getController().getValue("isSubmitted")){return{rules:{},formSet:mojo.query(A)}}return{rules:B,formSet:mojo.query(A)}});this.addObserver(this.getValue("cancelButtonId"),"onclick","ClearErrors",function(E,D){return{className:".mojoValidationError",targetId:this.getController().getValue("formId")}});this.addObserver(this.getValue("cancelButtonId"),"onclick","ClearForm",function(E,D){return{formSet:mojo.queryFirst(this.getController().getValue("formId"),E)}});this.addObserver(this.getCommand("ValidateRules"),"onResponse","DisableBox",function(E,D){if(!this.getController().getValue("showDisableBox")){return }return{target:E,show:true}})},addCommands:function(){this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("EnterKey","stdlib.behavior.EnterKeyBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand");this.addCommand("DisableBox","cox.behavior.DisableBoxBehavior");this.addCommand("ClearForm","stdlib.behavior.ClearFormBehavior");this.addCommand("ClearErrors","stdlib.command.RemoveObjectsCommand");this.addCommand("ClearModel","stdlib.command.ClearModelCommand");this.addCommand("Refresh","stdlib.behavior.RefreshBehavior");this.addCommand("ValidateRules","stdlib.command.ValidateRulesCommand")},addIntercepts:function(){this.addIntercept("around",this.getValue("formSubmitCommand"),"ValidateRules",{rules:this.getValue("formRules"),formSet:mojo.query(this.getValue("formId"))})}});dojo.provide("cox.controller.LocationController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.LocationController",mojo.controller.Controller,{params:{formSelector:{defaultValue:"",type:String},mode:{defaultValue:"hide",type:String},form:{defaultValue:null}},addObservers:function(){var A;if(this.getValue("formSelector")!=""){A=mojo.queryFirst(this.getValue("formSelector"))}else{A=this.getContextElement();if(A.tagName.toLowerCase()!="form"){A=mojo.queryFirst("form",A)}}if(A==null){return }this.setValue("form",A)},addCommands:function(){this.addCommand("UpdateObservers","stdlib.command.UpdateObserversCommand")},addIntercepts:function(){}});dojo.provide("cox.service.Locator");dojo.require("mojo.service.Locator");dojo.require("mojo.service.Service");var __coxServiceLocator=null;dojo.declare("cox.service.Locator",mojo.service.Locator,{addServices:function(){this.addService(new mojo.service.Service("getOffices",((typeof (locationUrl)!="undefined")?locationUrl:"/aboutus/contact-us/officelocations.coxsite"),{json:true,cache:true}));this.addService(new mojo.service.Service("getSuggestions",((typeof (suggestionUrl)!="undefined")?suggestionUrl:"/residential/KanaPredictiveTextServlet.json"),{json:true,cache:true}))}});cox.service.Locator.getInstance=function(){if(__coxServiceLocator==null){__coxServiceLocator=new cox.service.Locator()}return __coxServiceLocator};dojo.provide("cox.SiteMap");cox.SiteMap=[{pattern:"html",controllers:[{controller:"cox.controller.metrics.MetricsController"},{controller:"cox.controller.SessionVarController"},{controller:"cox.controller.site.GeneralMetricsController"}]},{pattern:"body",controllers:[{controller:"cox.controller.DialogController"}]},{pattern:"#container form",controllers:[{controller:"cox.controller.interface.form.FormValidatorController"}]},{pattern:"textarea",controllers:[{controller:"cox.controller.interface.form.TextareaController"}]},{pattern:"input.spin-button",controllers:[{controller:"cox.controller.interface.form.SpinBoxController"}]},{pattern:"#pf-header",controllers:[{controller:"cox.controller.interface.HeaderController"}]},{pattern:"#extras-panel",controllers:[{controller:"cox.controller.ExtrasFromCoxController"}]},{pattern:".landing-module .filmstrip-component",controllers:[{controller:"cox.controller.ToggleFilmStripController"}]},{pattern:"#main-rotator",controllers:[{controller:"cox.controller.interface.RotatorController"}]},{pattern:".filmstrip-module .filmstrip-component",controllers:[{controller:"cox.controller.ToggleFilmStripController"}]},{pattern:".container-carousel .filmstrip-component",controllers:[{controller:"cox.controller.ToggleFilmStripController"}]},{pattern:".toggle",controllers:[{controller:"cox.controller.ToggleController"}]},{pattern:".toggle-button",controllers:[{controller:"cox.controller.HoverController"}]},{pattern:".multitoggle",controllers:[{controller:"cox.controller.MultiToggleController"}]},{pattern:".tooltip-trigger",controllers:[{controller:"cox.controller.ToolTipController"}]},{pattern:"input.date-picker",controllers:[{controller:"cox.controller.interface.form.DatePickerController"}]},{pattern:".loading-wrapper",controllers:[{controller:"cox.controller.interface.LoadingController"}]},{pattern:".ajax-loader",controllers:[{controller:"cox.controller.interface.AjaxController"}]},{pattern:".scroll-box",controllers:[{controller:"cox.controller.ScrollController",params:{stepHeight:42}}]},{pattern:".enlarge a",controllers:[{controller:"cox.controller.interface.EnlargeImageController"}]},{pattern:".openwin-trigger",controllers:[{controller:"cox.controller.PopupController"}]},{pattern:".sorttable",controllers:[{controller:"cox.controller.interface.SortableTableController"}]},{pattern:"#login_widget2 form",controllers:[{controller:"cox.controller.site.LoginCookieController"}]},{pattern:"#login_widget2 .account-status",controllers:[{controller:"cox.controller.MessageCountsController"}]},{pattern:"#dashboard",controllers:[{controller:"cox.controller.MessageCountsController"}]},{pattern:"#google-searchbar",controllers:[{controller:"cox.controller.GoogleSearchBarController"}]},{pattern:"#residential-search-content",controllers:[{controller:"cox.controller.SearchResultsController"}]},{pattern:"#accountheader",controllers:[{controller:"cox.controller.resaccount.MyAccountHeaderController"}]},{pattern:".accountservicedetails",controllers:[{controller:"cox.controller.resaccount.MyAccountController"}]},{pattern:".accountservices #support-search",controllers:[{controller:"cox.controller.InputLabelController"}]},{pattern:"#myplace-controlpanel",controllers:[{controller:"cox.controller.MessageCountsController",params:{showNew:true}}]},{pattern:"#myplace-search.search-simple",controllers:[{controller:"cox.controller.myplace.SearchBasicController"}]},{pattern:"#myplace-search.search-advanced",controllers:[{controller:"cox.controller.myplace.SearchAdvancedController"}]},{pattern:"#business-top-panel",controllers:[{controller:"cox.controller.business.BusinessPanelController"}]},{pattern:"body.ID-11",controllers:[{controller:"cox.controller.business.BusinessHomeController"}]},{pattern:"body.ID-12",controllers:[{controller:"cox.controller.business.BusinessIndustriesHealthcareController"}]},{pattern:"body.ID-16a",controllers:[{controller:"cox.controller.SplashController"}]},{pattern:"body.ID-16b",controllers:[{controller:"cox.controller.SplashController"}]},{pattern:"#splash-location-init",controllers:[{controller:"cox.controller.SplashLocationController"}]},{pattern:"#splash-tab-component",controllers:[{controller:"cox.controller.SplashTabController",params:{selectedIndex:0}}]},{pattern:"form.leadForm",controllers:[{controller:"cox.controller.business.LeadFormController"}]},{pattern:"#map-wrapper",controllers:[{controller:"cox.controller.locationMap.OfficesMapController"}]},{pattern:"[id='map-address-container'], #map-end-address-container",controllers:[{controller:"cox.controller.locationMap.MapAddressInputController"}]},{pattern:"#map-wrapper form.regular li.form-text",controllers:[{controller:"cox.controller.InputLabelController"}]},{pattern:"#business-voicemanager-sub-section",controllers:[{controller:"cox.controller.business.ExtrasForDemoController"}]},{pattern:"#residential-pricing-plans",controllers:[{controller:"cox.controller.residential.ResidentialPricingPlansDetailController"}]},{pattern:"body.ID-53",controllers:[{controller:"cox.controller.business.BusinessVoiceManagerFeaturesController"}]},{pattern:".im-considering-view",controllers:[{controller:"cox.controller.business.ImConsideringController"}]},{pattern:"body.ID-57a .filmstrip-component",controllers:[{controller:"stdlib.controller.FilmStripController"}]},{pattern:"body.ID-57a",controllers:[{controller:"cox.controller.about.AboutServicesController"}]},{pattern:"#about-ourstory-services #residential-services .location form",controllers:[{controller:"cox.controller.LocationController",params:{mode:"disable"}}]},{pattern:"#about-ourstory-services #business-services .location form",controllers:[{controller:"cox.controller.LocationController",params:{mode:"disable"}}]},{pattern:"#about-ourstory-services-b #services-location-search form",controllers:[{controller:"cox.controller.LocationController",params:{mode:"disable"}}]},{pattern:"body.ID-xxa",controllers:[{controller:"cox.controller.residential.ResidentialContactUsLocal"}]},{pattern:"body.ID-xxb",controllers:[{controller:"cox.controller.residential.ResidentialContactUsCorporate"}]},{pattern:"#overview-page",controllers:[{controller:"cox.controller.ProductOverviewController"}]},{pattern:"#business-VM-content",controllers:[{controller:"cox.controller.ProductOverviewController"}]},{pattern:"#myplace-landing",controllers:[{controller:"cox.controller.myplace.LandingController"}]},{pattern:".snippet-frame, .snippet .filmstrip-component",controllers:[{controller:"cox.controller.HoverController"}]},{pattern:"#residential-myplace-whatson",controllers:[{controller:"cox.controller.myplace.OmnitureContentColumnController"}]},{pattern:"#residential-myplace-whatson form.regular li.form-text",controllers:[{controller:"cox.controller.InputLabelController"}]},{pattern:"#ID-38a form.regular li.form-text",controllers:[{controller:"cox.controller.InputLabelController"}]},{pattern:"#ID-38a",controllers:[{controller:"cox.controller.myplace.OmnitureContentColumnController"}]},{pattern:"#residential-myplace-moviefinder",controllers:[{controller:"cox.controller.myplace.MovieFinder"}]},{pattern:"#residential-myplace-moviefinder #myplace-favorites",controllers:[{controller:"cox.controller.myplace.FavoritesController"}]},{pattern:"#residential-myplace-moviefinder form.regular li.form-text",controllers:[{controller:"cox.controller.InputLabelController"}]},{pattern:"#myplace-news",controllers:[{controller:"cox.controller.myplace.OmnitureContentColumnController"}]},{pattern:"#myplace-news-listing",controllers:[{controller:"cox.controller.myplace.OmnitureContentColumnController"}]},{pattern:"#myplace-news-details",controllers:[{controller:"cox.controller.myplace.OmnitureContentColumnController"}]},{pattern:"#myplace-sports",controllers:[{controller:"cox.controller.myplace.OmnitureContentColumnController"}]},{pattern:"#myplace-weather form.regular li.form-text",controllers:[{controller:"cox.controller.InputLabelController"}]},{pattern:"#myplace-weather #userPrefsForm",controllers:[{controller:"cox.controller.myplace.WeatherMapPickerController"}]},{pattern:"#myplace-weather .myplace-current-weather form",controllers:[{controller:"cox.controller.myplace.WeatherCityPickerController"}]},{pattern:"#myplace-services",controllers:[{controller:"cox.controller.myplace.ServicesController"}]},{pattern:"#myplace-today",controllers:[{controller:"cox.controller.myplace.OmnitureContentColumnController"}]},{pattern:"body.ID-06",controllers:[{controller:"cox.controller.myplace.TVListingsController"}]},{pattern:"#tvlistings-container form.regular li.form-text",controllers:[{controller:"cox.controller.InputLabelController"}]},{pattern:"#myplace-slideshow",controllers:[{controller:"cox.controller.myplace.SlideshowController"}]},{pattern:"#myplace-slideshow .slideshow-detail",controllers:[{controller:"cox.controller.FilmStripController",params:{duration:0}}]},{pattern:"#myplace-slideshow .slidebox .filmstrip-component",controllers:[{controller:"cox.controller.FilmStripController"}]},{pattern:"#myplace-slideshow .filmstrip-next, #myplace .slideshow .filmstrip-prev, #myplace .slideshow .slide-poster a",controllers:[{controller:"cox.controller.HoverController"}]},{pattern:"#bundle-compare",controllers:[{controller:"cox.controller.residential.CompareBundlesController"}]},{pattern:"input[placeholder]",controllers:[{controller:"cox.controller.interface.form.PlaceholderController"}]},{pattern:"#basic-frame",controllers:[{controller:"cox.controller.SoleSurvivorController"}]},{pattern:".mojoTemplate",controllers:[{controller:"stdlib.controller.TemplateController"}]},{pattern:"#support",controllers:[{controller:"cox.controller.SupportController"}]},{pattern:"#support-search",controllers:[{controller:"stdlib.controller.AutoSuggestController"},{controller:"cox.controller.KanaSearchController"}]},{pattern:"#support form.regular li.form-textarea",controllers:[{controller:"cox.controller.TextareaLabelController"}]},{pattern:"#serviceappointments",controllers:[{controller:"cox.controller.residential.ServiceAppointmentsController"}]},{pattern:".service-appointment-calendar",controllers:[{controller:"cox.controller.residential.ServiceAppointmentsCalendarController"}]},{pattern:".connectionreset",controllers:[{controller:"cox.controller.residential.CableResetController"}]},{pattern:"#viewpaybill",controllers:[{controller:"cox.controller.residential.BillingController"}]},{pattern:"#onlineactivation",controllers:[{controller:"cox.controller.myplace.OnlineActivationController"}]},{pattern:".panes-switcher",controllers:[{controller:"cox.controller.ecomm.PanesSwitcherController"}]},{pattern:".calendar-component",controllers:[{controller:"cox.controller.ecomm.CalendarController"}]},{pattern:".ecomm-popup",controllers:[{controller:"cox.controller.ecomm.PopupDisplayController"}]},{pattern:".ecomm-popup-small-form",controllers:[{controller:"cox.controller.ecomm.PopupDisplayController"}]},{pattern:".ecomm-popup-small",controllers:[{controller:"cox.controller.ecomm.SmallPopupDisplayController"}]},{pattern:".cart-contention-component .selection-details",controllers:[{controller:"cox.controller.ToggleController"}]},{pattern:"#ecomm-multiple-addresses",controllers:[{controller:"cox.controller.ecomm.DifferentAddressToggle"}]},{pattern:"#column-structure, #myplace-ppv.ppv-checkout",controllers:[{controller:"cox.controller.DelegatedHoverController",params:{"selector":".hoverbox","hoverClass":"hoverbox-hover"}},{controller:"cox.controller.ecomm.ToolTipController"}]},{pattern:"#disconnection-date input",controllers:[{controller:"cox.controller.interface.form.DatePickerController"}]},{pattern:"#bubble-special-offers",controllers:[{controller:"cox.controller.ecomm.FlyoutController"}]},{pattern:".ecomm-byob",controllers:[{controller:"cox.controller.ecomm.ByobController"}]},{pattern:".show-me-offers-for-module",controllers:[{controller:"cox.controller.ecomm.ShowMeOffersForModuleController"}]},{pattern:".have-a-promo-code-module",controllers:[{controller:"cox.controller.ecomm.PromoCodeModuleController"}]},{pattern:".ecomm-your-bundled-services",controllers:[{controller:"cox.controller.ecomm.YourBundledServicesModuleController"}]},{pattern:"#throbber",controllers:[{controller:"cox.controller.ecomm.ThrobberController"}]},{pattern:"select.incr-menu",controllers:[{controller:"cox.controller.ecomm.ToggleIncrementsController"}]},{pattern:"#serviceAddressWidget",controllers:[{controller:"cox.controller.ShoppingAssistantController"}]},{pattern:".pane-toggle",controllers:[{controller:"cox.controller.ecomm.PanesToggleController"}]},{pattern:"#omniture-response",controllers:[{controller:"cox.controller.metrics.OmnitureTrackingController"}]},{pattern:".disable-sibling-parent",controllers:[{controller:"cox.controller.ecomm.DisableSiblingField"}]},{pattern:".carousel-current-phone",controllers:[{controller:"cox.controller.ecomm.CarouselUpdatesPhoneName"}]},{pattern:".compare-grid",controllers:[{controller:"cox.controller.interface.CompareGridController"}]},{pattern:"#ecomm-shopping-cart.biz-ecomm,#ecomm-order-review.biz-ecomm",controllers:[{controller:"cox.controller.ecomm.FancyPrintController"}]}];dojo.provide("cox.behavior.AddtoBookmarksBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.AddtoBookmarksBehavior",mojo.command.Behavior,{execute:function(C){var B=function(D){mojo.Messaging.publish("error",{title:"Bookmark This Page",text:D})};var A=navigator.appVersion.indexOf("Mac")!=-1;if(dojo.isSafari||dojo.isFF){if(A){B("You need to press Command/Cmd + D to bookmark our site.")}else{B("You need to press Ctrl + D to bookmark our site.")}}else{if(dojo.isIE&&!A){window.external.AddFavorite(location.href,document.title)}else{B("In order to bookmark this site you need to do so manually through your browser.")}}}});dojo.provide("cox.behavior.AnimateWeatherMapBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.AnimateWeatherMapBehavior",mojo.command.Behavior,{execute:function(A){var D=A.getParams();if(!D.link||!D.image){return }var G=D.image.src;var E=G.lastIndexOf(".",G.length);var F=G.lastIndexOf("/",E)+1;var I=G.substring(0,F);var B=G.substring(F,E);var H=B.substring(0,2);var C=B.substring(2,8);if(D.action=="toggle"){D.action=this._isAnimated?"stop":"start"}if(D.action=="init"){if(C=="regrad"||C=="regsat"){dojo.removeClass(D.link,"hide")}else{dojo.addClass(D.link,"hide")}}else{if(D.action=="start"){if(!this._isAnimated){if(C=="regrad"||C=="regsat"){this._isAnimated=1;D.link.innerHTML="Stop animation";this._animate(I,H+C,1,D)}}}else{if(D.action=="stop"){this._isAnimated=0;window.clearTimeout(this._timeoutId);D.image.src=I+H+C+".jpg";D.link.innerHTML="See this map in motion"}}}},_animate:function(F,E,C,H){if(!this._isAnimated){return }window.clearTimeout(this._timeoutId);if(C<10){var B="0"+C}else{B=C}var D=250;var G=F+E+"_"+B+".jpg";if(this._imgCache[G]){H.image.src=G;C=C+1;D=250;if(C>30){C=1;D=2000}this._timeoutId=window.setTimeout(dojo.hitch(this,this._animate,F,E,C,H),D)}else{var A=new Image();dojo.connect(A,"onload",window,dojo.hitch(this,this._animate,F,E,C,H));this._imgCache[G]=A;A.src=G}},_imgCache:{},_isAnimated:0});dojo.provide("cox.behavior.BlockProceedBehavior");dojo.require("mojo.command.Command");dojo.declare("cox.behavior.BlockProceedBehavior",mojo.command.Command,{onBeforeProceed:function(){},onAfterProceed:function(){},onFailProceed:function(){},execute:function(B){var A=B.getParams();if((typeof A.condition=="function"&&A.condition())||(typeof A.condition!="function"&&A.condition)){this.onBeforeProceed();B.invocation.proceed();this.onAfterProceed()}else{this.onFailProceed()}}});dojo.provide("cox.behavior.DisableBoxBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.DisableBoxBehavior",mojo.command.Behavior,{_box:null,execute:function(C){if(!this._box){this._box=mojo.queryFirst("#disablebox");if(!this._box){this._box=document.createElement("div");this._box.id="disablebox";document.body.appendChild(this._box);this._box.style.position="absolute"}}this._box.innerHTML="";if(C.getParams().show){var A=document.createElement("img");A.style.position="absolute";A.src="/ui/emergence/corp/en/img/interface/icon-loading-throbber.gif";A.style.width="16px";A.style.height="16px";if(C.getParams().target){var B=dojo.position(C.getParams().target,true);this._box.style.top=B.y+"px";this._box.style.left=B.x+"px";this._box.style.width=B.w+"px";this._box.style.height=B.h+"px";A.style.left=((B.w/2)-8)+"px";A.style.top=((B.h/2)-8)+"px";this._box.appendChild(A)}else{this._box.style.top="0px";this._box.style.left="0px";this._box.style.width="100%";this._box.style.height=(document.all)?document.body.offsetHeight+"px":"100%";A.style.left=((B.w/2)-8)+"px";A.style.top=((B.h/2)-8)+"px";this._box.appendChild(A)}this._box.style.zIndex="9999";this._box.style.display="block"}else{this._box.style.display="none"}}});dojo.provide("cox.behavior.FadeBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.FadeBehavior",mojo.command.Behavior,{onComplete:function(){},execute:function(H){var G=H.getParams();var E=G.duration||600;var D=H.getParams().element;if(!dojo.isArray(D)){D=[D]}var A=D.length;var F=this;for(var B=0;B<A;B++){var C=new Fx.Styles(D[B],{duration:E,wait:false,onComplete:function(){F.onComplete()}});if(G.mode=="fadeIn"){D[B].style.opacity=0.3;C.start({"opacity":1})}else{D[B].style.opacity=0;C.start({"opacity":0})}}}});dojo.provide("cox.behavior.FocusBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.FocusBehavior",mojo.command.Behavior,{execute:function(B){var A=B.getParams();if(A.target){A.target.focus()}}});dojo.provide("cox.behavior.HideTextBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.HideTextBehavior",mojo.command.Behavior,{execute:function(E){var D=E.getParams();var C=D.element;if(!dojo.isArray(C)){C=[C]}for(var B=0,A=C.length;B<A;B++){C[B].innerHTML="";if(C[B].title){C[B]._mojoTooltip=C[B].title;C[B].title=""}}}});dojo.provide("cox.behavior.HoverLayerBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.Model");dojo.declare("cox.behavior.HoverLayerBehavior",mojo.command.Behavior,{execute:function(D){var C=D.getParams();var B;var A;if(C.show){if(C.newHover){dojo.removeClass(C.hoverContainer,"show-hover");(mojo.queryFirst(".bd",C.hoverContainer)).innerHTML=C.element.innerHTML;hover_trigger_coords=dojo.position(C.element,true);C.hoverContainer.style.left=(hover_trigger_coords.x+C.xOffset)+"px";C.hoverContainer.style.top=(hover_trigger_coords.y+C.yOffset)+"px";clearTimeout(window.hoverTimein);window.hoverTimein=setTimeout(function(){dojo.addClass(C.hoverContainer,"show-hover")},C.delay)}else{clearTimeout(window.hoverTimeout)}}if(C.hide){clearTimeout(window.hoverTimeout);window.hoverTimeout=setTimeout(function(){dojo.removeClass(C.hoverContainer,"show-hover")},C.delay)}}});dojo.provide("cox.behavior.InitGlossaryLinkBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.InitGlossaryLinkBehavior",mojo.command.Behavior,{execute:function(D){var C=mojo.queryFirst("#glossary-link");if(!C){return }var B=mojo.queryFirst("#corrected-search-string")||mojo.queryFirst("#search-string");var A=B.innerHTML;A=A.replace(/[^a-zA-Z]/g,"");if(A.length>0){C.href+="#"+A[0].toLowerCase()}}});dojo.provide("cox.behavior.InitPrintPreviewBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.InitPrintPreviewBehavior",mojo.command.Behavior,{execute:function(G){var F=G.getParams();var E=F.locationWindow.location;var B=(E.search&&E.search.length>0)?dojo.queryToObject(E.search.substr(1)):{};B.print="true";var A=E.protocol+"//"+E.host+E.pathname+"?"+dojo.objectToQuery(B)+E.hash;mojo.queryFirst("iframe[name='"+F.frameName+"']",F.dialogElement).src=A;var D=$(mojo.queryFirst("#print-dialog",F.dialogElement));var C=dojo.position(F.dialogElement);D.setStyle("height",(C.h-50)+"px")}});dojo.provide("cox.behavior.InitSearchHeader");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.InitSearchHeader",mojo.command.Behavior,{execute:function(B){var A=B.getParams();if(A.countURL){dojo.xhrGet({url:A.countURL,handleAs:"json",load:function(E,D){var C=E["CategoryResults"]["categories"];var H=mojo.query(".browse-by-topic li > a");for(var G=0;G<H.length;G++){var I=H[G];var F=C[G]?C[G]["numResults"]:null;if(F){I.innerHTML+=" ("+F+")"}else{I.className+=" disabled"}}return E}})}}});dojo.provide("cox.behavior.InitSessionVarBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.InitSessionVarBehavior",mojo.command.Behavior,{execute:function(C){dojo.query("#pf-header .pf-titlebar-entry .pf-titlebar-icon-cart").forEach(function(D){if(!document.cookie.match("cox-cart=cbecomm_items")){D.innerHTML="View Cart";document.cookie="cox-cart="+escape("cbecomm_items")+"; path=/; domain=.cox.com"}});var B=C.getParams();var A=B.elm;console.log([sessvars]);sessvars.pageCount=sessvars.pageCount||0;if(sessvars.pageCount==0){sessvars.contentTextSize=A.style.fontSize;sessvars.wishlistArray=new Array();sessvars.bundleWishlistArray=new Array();console.log("wishlist:",sessvars.bundleWishlistArray)}sessvars.pageCount++}});dojo.provide("cox.behavior.InitToggleBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.InitToggleBehavior",mojo.command.Behavior,{execute:function(A){var F=A.getParams();F.element=$(F.element);if(!F.element){return }var B=F.controller.getValue("isOpen");var C=mojo.queryFirst(".toggle-wrapper",F.controller.getContextElement());if(!C){C=new Element("div",{"class":"toggle-wrapper","styles":$extend(F.element.getStyles("margin"),{"overflow":"hidden","position":"relative","zoom":"1"})}).injectAfter(F.element).adopt(F.element);B=!(F.element.getStyle("display")=="none");F.element.setStyle("margin",0);F.element.setStyle("display","block");C.setStyle("display","block")}F.controller.setValue("isOpenOriginal",B);var D=F.id;if(D){var I=window.location.hash;if(I.length>0){I=I.substring(1)}if(I.toLowerCase()=="null"||I.toLowerCase()=="undefined"){I=""}var J=new Object();var K=I.split("&");for(var H=0;H<K.length;H++){var G=K[H].split("=");if(G.length==2){J[G[0]]=unescape(G[1])}}var E=(J.toggle||"");if(E.indexOf(D)>-1){B=!B}}F.controller.setValue("isOpen",B);if(B){if(!C.offsetHeight){C.setStyle("height","")}}else{if(C.offsetHeight){C.setStyle("height",0)}}}});dojo.provide("cox.behavior.LoadContentBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.LoadContentBehavior",mojo.command.Behavior,{execute:function(B){var A=B.getParams();if(A.href){dojo.xhrGet({url:A.href,handleAs:"json",load:function(E,D){for(var C in A.replace){var F=mojo.queryFirst(C);if(F){F.innerHTML=E[A.replace[C]]||""}if(F&A.append){F.innerHTML=F.innerHTML+A.append}}}})}}});dojo.provide("cox.behavior.PopupWindowBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.PopupWindowBehavior",mojo.command.Behavior,{execute:function(C){var B=C.getParams();if(!B.url){return }var A=window.open(B.url,B.windowName,B.windowProps);A.focus()}});dojo.provide("cox.behavior.PrintBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.PrintBehavior",mojo.command.Behavior,{execute:function(C){var B=C.getParams();if(B.target){var A=mojo.queryFirst(B.target);window.frames[A.name].focus();window.frames[A.name].print()}else{window.print()}}});dojo.provide("cox.behavior.ReconcileComparablesBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ReconcileComparablesBehavior",mojo.command.Behavior,{execute:function(F){var D=F.getParams();var A=D.mainEntries;var C=D.cartEntries;var B=true;A.each(function(I,H){var G=mojo.queryFirst("input",C[H]);G.checked=I.checked;if(I.checked){dojo.addClass(C[H],"compare-cart-item-checked");C[H].childNodes[0].disabled=false;B=false}else{dojo.removeClass(C[H],"compare-cart-item-checked");C[H].childNodes[0].disabled=true}});var E=mojo.queryFirst("#compare-empty-text");if(E){if(B){dojo.removeClass(E,"hide")}else{dojo.addClass(E,"hide")}}},onResponse:function(){}});dojo.provide("cox.behavior.ScrollBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ScrollBehavior",mojo.command.Behavior,{execute:function(D){var C=D.getParams();if(window.getSelection){window.getSelection().removeAllRanges()}var B=C.victim;var A=function(){if(C.amount){var F=C.amount;var H=C.caller.className.split(" ");for(var E=0;E<H.length;E++){if(H[E]=="up"){F*=-1;break}}B.scrollTop+=F}var G;for(var E=0;E<B.childNodes.length;E++){if(B.childNodes[E].tagName){G=B.childNodes[E];break}}if(G.offsetHeight-B.scrollTop<B.clientHeight){B.scrollTop=G.offsetHeight-B.clientHeight}};if(C.hold){window.clearInterval(C.caller.repeatInterval);C.caller.repeatInterval=(C.amount)?window.setInterval(A,C.repeatRate):""}else{A()}}});dojo.provide("cox.behavior.SetHomepageBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.SetHomepageBehavior",mojo.command.Behavior,{execute:function(G){var F=function(H){mojo.Messaging.publish("error",{title:"Make This My Home",text:H})};var B=navigator.appVersion.indexOf("Mac")!=-1;var E=navigator.appVersion.indexOf("Chrome")!=-1;var A="To make My Connection your home page, follow these quick and easy steps:";if(dojo.isFF){if(B){F(A+"<ol><li>Click on Firefox and select Preferences</li><li>Select the Main tab on the left</li><li>Type www.cox.com/myconnection next to Home Page</li><li>Close the Preferences window</li></ol>")}else{F(A+"<ol><li>Click on Tools and select Options</li><li>Click the Main tab</li><li>Type www.cox.com/myconnection next to Home Page</li><li>Click OK</li></ol>")}}else{if(dojo.isSafari){if(B){F(A+"<ol><li>Click on Safari and select Preferences</li><li>Click the General tab</li><li>Type www.cox.com/myconnection next to Home Page</li><li>Click OK</li></ol>")}else{F(A+"<ol><li>Click on Edit and select Preferences</li><li>Click the General tab</li><li>Type www.cox.com/myconnection next to Home Page</li><li>Close the Preferences window</li></ol>")}}else{if(E){F(A+'<ol><li>Click on the "wrench" icon in the upper right hand corner of your browser and select Options</li><li>Click the Basics tab</li><li>Under the Home page section, type www.cox.com/myconnection next to Open this page</li><li>Click Close</li></ol>')}else{if(dojo.isIE&&!B){try{var D=mojo.queryFirst("#bookmark_widget a");D.style.behavior="url(#default#homepage)";D.setHomePage("http://www.cox.com/myconnection")}catch(C){F("We are unable to set your home page due to your system settings.")}}else{F("If you'd like to make My Connection your home page, please use your browser's Help section.")}}}}}});dojo.provide("cox.behavior.StoreLoginCookieBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.query");dojo.declare("cox.behavior.StoreLoginCookieBehavior",mojo.command.Behavior,{execute:function(H){var G=H.getParams();if(!G.form){return }var F={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(K){var I="";var R,P,N,Q,O,M,L;var J=0;K=F._utf8_encode(K);while(J<K.length){R=K.charCodeAt(J++);P=K.charCodeAt(J++);N=K.charCodeAt(J++);Q=R>>2;O=((R&3)<<4)|(P>>4);M=((P&15)<<2)|(N>>6);L=N&63;if(isNaN(P)){M=L=64}else{if(isNaN(N)){L=64}}I=I+this._keyStr.charAt(Q)+this._keyStr.charAt(O)+this._keyStr.charAt(M)+this._keyStr.charAt(L)}return I},decode:function(K){var I="";var R,P,N;var Q,O,M,L;var J=0;K=K.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(J<K.length){Q=this._keyStr.indexOf(K.charAt(J++));O=this._keyStr.indexOf(K.charAt(J++));M=this._keyStr.indexOf(K.charAt(J++));L=this._keyStr.indexOf(K.charAt(J++));R=(Q<<2)|(O>>4);P=((O&15)<<4)|(M>>2);N=((M&3)<<6)|L;I=I+String.fromCharCode(R);if(M!=64){I=I+String.fromCharCode(P)}if(L!=64){I=I+String.fromCharCode(N)}}I=F._utf8_decode(I);return I},_utf8_encode:function(J){J=J.replace(/\r\n/g,"\n");var I="";for(var L=0;L<J.length;L++){var K=J.charCodeAt(L);if(K<128){I+=String.fromCharCode(K)}else{if((K>127)&&(K<2048)){I+=String.fromCharCode((K>>6)|192);I+=String.fromCharCode((K&63)|128)}else{I+=String.fromCharCode((K>>12)|224);I+=String.fromCharCode(((K>>6)&63)|128);I+=String.fromCharCode((K&63)|128)}}}return I},_utf8_decode:function(I){var J="";var K=0;var L=c1=c2=0;while(K<I.length){L=I.charCodeAt(K);if(L<128){J+=String.fromCharCode(L);K++}else{if((L>191)&&(L<224)){c2=I.charCodeAt(K+1);J+=String.fromCharCode(((L&31)<<6)|(c2&63));K+=2}else{c2=I.charCodeAt(K+1);c3=I.charCodeAt(K+2);J+=String.fromCharCode(((L&15)<<12)|((c2&63)<<6)|(c3&63));K+=3}}}return J}};var D=new Date();D.setTime(D.getTime()+(365*24*60*60*1000));var C="; expires="+D.toGMTString();var B="; expires="+new Date(0).toGMTString();var A=mojo.queryFirst("input[name='rememberme']",G.form);var E=mojo.queryFirst("input[name='username']",G.form).value;if(A.checked==true){if(navigator.cookieEnabled){document.cookie="cox-rememberme-user="+F.encode(E)+C+"; path=/"}}else{document.cookie="cox-rememberme-user="+F.encode(E)+B+"; path=/"}}});dojo.provide("cox.behavior.SwapElementDisplay");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.SwapElementDisplay",mojo.command.Behavior,{execute:function(B){var A=B.controllerObj.params;dojo.forEach(A["displayBlockSelectors"]._value,function(E,D){var C=mojo.queryFirst(E,B.getContextElement());var F=mojo.query(".required-disabled",C);for(D=0;D<F.length;D++){F[D].className=F[D].className.replace("required-disabled","required")}C.style.display="block"});dojo.forEach(A["displayNoneSelectors"]._value,function(E,D){var C=mojo.queryFirst(E,B.getContextElement());var F=mojo.query(".required",C);for(D=0;D<F.length;D++){F[D].className=F[D].className.replace("required","required-disabled")}C.style.display="none"})},onResponse:function(){}});dojo.provide("cox.behavior.ToolTipBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.Model");dojo.declare("cox.behavior.ToolTipBehavior",mojo.command.Behavior,{_tooltip:null,_tooltipInfo:null,_lastCaller:null,_iframe:null,_timeout:null,execute:function(B){var F=B.getParams();try{window.clearTimeout(this._timeout)}catch(I){}if(F.anchorX==="cursor"&&typeof F._mouseX=="undefined"){F._mouseX=B.eventObj.pageX}if(F.anchorY==="cursor"&&typeof F._mouseY=="undefined"){F._mouseY=B.eventObj.pageY}if(F.delay){var G=F.delay;F.delay=0;this._timeout=window.setTimeout(dojo.hitch(this,this.execute,B),G);return }if(B.getParams().show){var D=F.template||'<div class="tooltip"><div class="dialog-pane-content"></div><div class="tooltip-arrow"></div></div>';if(!F.offsetX){F.offsetX=0}if(!F.offsetY){F.offsetY=0}if(dojo.isIE){if(!this._iframe){this._iframe=document.createElement("iframe");this._iframe.id="tooltipIFrame";this._iframe.frameBorder="0";this._iframe.style.zIndex=9998;this._iframe.style.overflow="hidden";this._iframe.style.position="absolute";this._iframe.scrolling="no";document.body.appendChild(this._iframe)}else{this._iframe=mojo.queryFirst("#tooltipIFrame")}}if(!this._tooltip){this._tooltip=mojo.queryFirst("#tooltip");if(!this._tooltip){this._tooltip=document.createElement("div");this._tooltip.id="tooltip";this._tooltip.style.zIndex=9999;this._tooltip.style.position="absolute";document.body.appendChild(this._tooltip)}}this._tooltip.innerHTML=D;this._tooltipInfo=F.info||B.getCaller()._mojoTooltip||B.getCaller().getAttribute("title");if(this._tooltipInfo){B.getCaller().setAttribute("title","");var H=mojo.queryFirst(".dialog-pane-content",this._tooltip);H.innerHTML=this._tooltipInfo}this._lastCaller=B.getCaller();if(this._tooltipInfo){dojo.style(this._tooltip,"display","block");var C=dojo.position(this._tooltip,true);var K=dojo.position(B.getCaller(),true);this._tooltip.style.left=((F.anchorX==="cursor"?F._mouseX:K.x)+F.offsetX)+"px";this._tooltip.style.top=((F.anchorY==="cursor"?F._mouseY:K.y)+F.offsetY)+"px";var A=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;if(!dojo.isIE&&dojo.hasClass(B.callerObj,"watch-tooltip")&&dojo.coords(this._tooltip).t+dojo.coords(mojo.queryFirst(".wrapper",this._tooltip)).h>window.scrollY+A){var E=dojo.coords(this._tooltip).t;this._tooltip.style.top=dojo.coords(this._tooltip).t+(A-(dojo.coords(this._tooltip).t+dojo.coords(mojo.queryFirst(".wrapper",this._tooltip)).h))+window.scrollY+"px";mojo.queryFirst("div[class$='arrow']",this._tooltip).style.top=dojo.coords(mojo.queryFirst("div[class$='arrow']",this._tooltip),true).t+(E-dojo.coords(this._tooltip).t)+"px"}var J=F.underlayMark?mojo.queryFirst(F.underlayMark,this._tooltip):this._tooltip;var L=dojo.position(J,true);if(dojo.isIE){this._iframe.style.width=L.w+"px";this._iframe.style.height=L.h+"px";this._iframe.style.top=L.y+"px";this._iframe.style.left=L.x+"px";this._iframe.style.filter="alpha(opacity=0)";dojo.style(this._iframe,"display","block")}}}else{if(this._iframe){dojo.style(this._iframe,"display","none")}if(this._tooltip){dojo.style(this._tooltip,"display","none")}}}});dojo.provide("cox.behavior.business.ArrowButtonBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.ArrowButtonBehavior",mojo.command.Behavior,{onComplete:function(){},execute:function(E){var D=E.getParams();var A=D.element;var C=D.mode;var B=D.which;if(B=="toolbelt"){dojo.stopEvent(E.getEvent());A.style.background="none";if(D.show){if(dojo.isIE==6){A.style.background="url(/img/interface/filmstrip/"+C+"_circle.gif)"}else{A.style.background="url(/img/interface/filmstrip/"+C+"_circle.png)"}}else{if(dojo.isIE==6){A.style.background="url(/img/interface/filmstrip/"+C+"_blue.gif)"}else{A.style.background="url(/img/interface/filmstrip/"+C+"_blue.png)"}}}else{dojo.stopEvent(E.getEvent());A.style.background="none";if(D.show){if(dojo.isIE==6){A.style.background="url(/ui/emergence/corp/en/img/interface/rounded-buttons/blue-circle-"+C+"-hover.gif)"}else{A.style.background="url(/ui/emergence/corp/en/img/interface/rounded-buttons/blue-circle-"+C+"-hover.png)"}}else{if(dojo.isIE==6){A.style.background="url(/ui/emergence/corp/en/img/interface/rounded-buttons/blue-circle-"+C+".gif)"}else{A.style.background="url(/ui/emergence/corp/en/img/interface/rounded-buttons/blue-circle-"+C+".png)"}}}this.onComplete()}});dojo.provide("cox.behavior.business.CheckCheckedBoxBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.CheckCheckedBoxBehavior",mojo.command.Behavior,{execute:function(E){var B=mojo.query("input",mojo.queryFirst("#discuss-my-list"));var D=sessvars.wishlistArray;var C=false;for(i=0;i<B.length;i++){if(B[i].checked!=true){for(j=0;j<D.length;j++){if(D[j].id==B[i].id){sessvars.wishlistArray.splice(j,1)}}}else{for(j=0;j<D.length;j++){if(D[j].id==B[i].id){C=true}}if(!C){var A=new Object();A.id=B[i].id;A.name=B[i].name;A.value=B[i].value;A.label=B[i].id;sessvars.wishlistArray.push(A)}C=false}}}});dojo.provide("cox.behavior.business.InitKeepForConsiderationBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.InitKeepForConsiderationBehavior",mojo.command.Behavior,{execute:function(C){var A=mojo.query("#discuss-my-list input");var B=sessvars.wishlistArray;if(sessvars.wishlistArray.length!=0){for(j=0;j<sessvars.wishlistArray.length;j++){for(i=0;i<A.length;i++){if(sessvars.wishlistArray[j].id==A[i].id){A[i].checked="true"}}}}}});dojo.provide("cox.behavior.business.PopulateFromWishlistBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.PopulateFromWishlistBehavior",mojo.command.Behavior,{execute:function(E){var D=E.getParams();var A=sessvars.wishlistArray||[];for(var B=0;B<A.length;B++){var C=mojo.queryFirst("input[type='checkbox'][value='"+A[B].id+"']",D.formElement);if(C){C.checked=true}}}});dojo.provide("cox.behavior.business.WarpBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.WarpBehavior",mojo.command.Behavior,{onComplete:function(){},execute:function(B){var D=B.getParams();var C=D.element;var F=mojo.queryFirst(".toggle-button");var J=mojo.queryFirst(".filmstrip-content");var L=mojo.queryFirst(".filmstrip-component");var K=mojo.queryFirst(".toggle-label-open");var G=mojo.queryFirst(".toggle-label-closed");var I=mojo.queryFirst(".module .ft a.toggle-button span");var H=mojo.queryFirst("#content div.bd");var A=mojo.queryFirst(".filmstrip-prev");var E=mojo.queryFirst(".filmstrip-next");if(D.warp){L.warpHeight=dojo.position(L).h-40;C.warpHeight=dojo.position(C).h;F.title="See less";L.style.height="auto";C.style.height="auto";C.style.cssFloat="none";C.style.styleFloat="none";J.style.position="relative";J.style.zoom="1";J.style.width="auto";dojo.addClass(J,"clearfix");G.style.display="none";K.style.display="inline";A.style.display="none";E.style.display="none";I.className="ico-toggled"}else{F.title="See more";L.style.height=(L.warpHeight||"153")+"px";C.style.height=(C.warpHeight||"153")+"px";C.style.cssFloat="";C.style.styleFloat="";J.style.position="";J.style.width="10000px";H.style.overflow="";G.style.display="inline";K.style.display="none";A.style.display="block";E.style.display="block";I.className="ico"}this.onComplete()}});dojo.provide("cox.behavior.ecomm.ByobAccordion");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ecomm.ByobAccordion",mojo.command.Behavior,{execute:function(D){var C=D.getParams();var A=C["chosenPane"];if(!A||dojo.hasClass(A,"open-pane")){return }dojo.addClass(A.parentNode,"animating");var B=mojo.queryFirst(".open-pane",A.parentNode);dojo.animateProperty({node:B,duration:600,easing:function(E){if(E==0){return 0}if(E==1){return 1}E=E*2;if(E<1){return Math.pow(2,10*(E-1))/2}--E;return(-1*Math.pow(2,-10*E)+2)/2},onAnimate:function(){B.setStyle("width",Math.floor(C.to-(this._getStep()*C.to)));A.setStyle("width",Math.floor(this._getStep()*C.to))},onEnd:function(){dojo.addClass(A.parentNode,"animating");dojo.removeClass(A.parentNode,"animating");dojo.removeClass(B,"open-pane");dojo.addClass(A,"open-pane");if((A.id=="pane-intro")||(B.id=="pane-intro")){mojo.Messaging.publish("/toggle/force",{toggle:(A.id!="pane-intro")?["ecomm-accordion-overview","ecomm-accordion-legend"]:[]})}}}).play()}});dojo.provide("cox.behavior.ecomm.CalendarPositionBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ecomm.CalendarPositionBehavior",mojo.command.Behavior,{execute:function(H){var F=H.getParams();var B=mojo.queryFirst(".calendar-component");if(!B){return }var G={};var C;if(typeof window.innerWidth!="undefined"){G.w=window.innerWidth;G.h=window.innerHeight;C=window.pageYOffset+window.innerHeight}else{if(typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth!=0){G.w=document.documentElement.clientWidth,G.h=document.documentElement.clientHeight;C=document.documentElement.scrollTop+document.documentElement.clientHeight}}var A=dojo.position(B,true);var D=Math.round(C-(G.h/2)-(A.h/2));var E=Math.round((G.w/2)-(A.w/2));console.debug(A);console.debug(G);B.style.top=D+"px";B.style.left=E+"px"}});dojo.provide("cox.behavior.ecomm.CalendarScheduleBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ecomm.CalendarScheduleBehavior",mojo.command.Behavior,{execute:function(B){var A=B.getParams();A.value.innerHTML=A.scheduled_time}});dojo.provide("cox.behavior.ecomm.PopupBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.query");dojo.declare("cox.behavior.ecomm.PopupBehavior",mojo.command.Behavior,{execute:function(H){var F=H.getParams();if(!mojo.query("#ecom-popup").length){var D=dojo.doc.createElement("div");dojo.place(D,"container","after");D.id="ecom-popup";D.innerHTML="<span class='top'><span class='left'></span><span class='right'></span></span><div class='content'><span class='left'></span><span class='right'></span><a href='#' class='close' title='Close me'>Close me</a><div id='ecom-popup-content'></div></div><span class='bottom'><span class='left'></span><span class='right'></span></span>";var A=dojo.doc.createElement("div");dojo.place(A,"ecom-popup","after");A.id="white-out"}else{var D=mojo.queryFirst("#ecom-popup");var A=mojo.queryFirst("#white-out")}dojo.query(".close",D).onclick(function(I){D.style.display="none";A.style.display="none";dojo.stopEvent(I)});var G=mojo.queryFirst("html").scrollHeight;var C=mojo.queryFirst("#ecom-popup-content",D);var E=F.caller.rel;var B=mojo.queryFirst("#"+E).innerHTML;C.innerHTML=B;A.style.height=G+"px";if(mojo.queryFirst("#"+E).className=="popup-container size-500"){mojo.queryFirst("#ecom-popup").style.marginLeft="-275px";mojo.queryFirst("#ecom-popup .content").style.width="460px"}else{mojo.queryFirst("#ecom-popup").style.marginLeft="-475px";mojo.queryFirst("#ecom-popup .content").style.width="750px";mojo.queryFirst("#ecom-popup .content").style.height=mojo.queryFirst("#ecom-popup .content").scrollHeight+"px"}A.style.display="block";D.style.display="block";dojo.stopEvent(H.getEvent())}});dojo.provide("cox.behavior.ecomm.PopupDisplayBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.query");dojo.declare("cox.behavior.ecomm.PopupDisplayBehavior",mojo.command.Behavior,{_iframe:null,_whiteout:null,execute:function(A){var G=A.paramsObj.element;var F=A.paramsObj.action;var J=A.paramsObj.cssClass;if(G){switch(F){case"add":dojo.addClass(document.body,"ecomm-popup-activated");var I,E,C=0;var B;var D=mojo.queryFirst("div.main div",G);if(window.innerHeight&&window.scrollMaxY){I=window.innerHeight+window.scrollMaxY}else{if(document.body.scrollHeight>document.body.offsetHeight){I=document.body.scrollHeight}else{I=document.body.offsetHeight}}if(self.innerHeight){B=self.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){B=document.documentElement.clientHeight}else{if(document.body){B=document.body.clientHeight}}}if(self.pageYOffset){E=self.pageYOffset}else{if(document.documentElement.scrollTop){E=document.documentElement.scrollTop}else{E=document.body.scrollTop}}if(G.parentNode.tagName!="BODY"){C-=G.parentNode.offsetTop}if(!this._whiteout){this._whiteout=mojo.queryFirst("#white-out")}if(I<B){this._whiteout.style.height=B+"px"}else{this._whiteout.style.height=I+"px"}this._whiteout.style.display="block";dojo.addClass(G,J);var H=(D.clientHeight||D.offsetHeight);if(H>B){D.style.height=(B/2)+"px"}if(!dojo.hasClass(G,"ecomm-popup-small-form")){popupTop=((E+B/2)-(G.clientHeight/2));if((popupTop<0)||(B<G.clientHeight)){popupTop=E+35}popupTop+=C}if(typeof (popupTop)!="undefined"){G.style.top=popupTop+"px"}if(dojo.isIE){if(!this._iframe){this._iframe=document.createElement("iframe");this._iframe.id="popupIFrame";this._iframe.frameBorder="0";this._iframe.src="javascript:false";this._iframe.style.overflow="hidden";this._iframe.style.position="absolute";this._iframe.style.left=G.offsetLeft;this._iframe.style.top=G.offsetTop;this._iframe.style.width=G.offsetWidth;this._iframe.style.height=G.offsetHeight;this._iframe.style.filter="progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)";this._iframe.scrolling="no";document.body.appendChild(this._iframe)}else{this._iframe=mojo.queryFirst("#popupIFrame")}}break;case"remove":dojo.removeClass(document.body,"ecomm-popup-activated");if(!this._whiteout){this._whiteout=mojo.queryFirst("#white-out")}this._whiteout.style.display="none";dojo.removeClass(G,J);if(dojo.isIE){document.body.removeChild(this._iframe);this._iframe=null}break}}},onResponse:function(){}});dojo.provide("cox.behavior.ecomm.SendFocusBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ecomm.SendFocusBehavior",mojo.command.Behavior,{execute:function(C){var A=C.paramsObj.element;var B=C.paramsObj.target;B.focus()}});dojo.provide("cox.behavior.ecomm.SubmitOnEnterBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ecomm.SubmitOnEnterBehavior",mojo.command.Behavior,{execute:function(D){var C=D.eventObj;var A=D.paramsObj.element.form;var B;if(C&&C.which){C=C;B=C.which}else{C=event;B=C.keyCode}if(B==13){this.onResponse();return false}else{return true}},onResponse:function(){__doPostBack("ctl00$ContentPlaceHolder1$PromoCodeControl$ApplyPromoCodeLinkButton","")}});dojo.provide("cox.behavior.ecomm.ToggleIncrementsBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ecomm.ToggleIncrementsBehavior",mojo.command.Behavior,{execute:function(G){var F=G.getParams();var A=F.contextElement.id;var C=mojo.queryFirst("#"+A+"-incr");var D=mojo.query(".incr",C);var B=F.contextElement.selectedIndex;var E=new RegExp("incr-[0-"+Number(B)+"]");for(i=0;i<D.length;i++){if(E.test(D[i].className)){dojo.removeClass(D[i],"incr-hide")}else{dojo.addClass(D[i],"incr-hide")}}}});dojo.provide("cox.behavior.ecomm.ValidatePromoCodeBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.query");dojo.declare("cox.behavior.ecomm.ValidatePromoCodeBehavior",mojo.command.Behavior,{_iframe:null,_whiteout:null,execute:function(F){var E=F.paramsObj.element;var D=F.paramsObj.errorField;if(E==null||typeof E=="undefined"){throw new Error("ERROR cox.behavior.ecomm.ValidatePromoCodeBehavior - element parameter is required")}else{if(typeof E=="object"){if(E.length>0){for(var A=0;A<E.length;A++){if(typeof E[A]!="object"){throw new Error("ERROR cox.behavior.ecomm.ValidatePromoCodeBehavior - element parameter is not an array of type Object");break}}}}else{throw new Error("ERROR cox.behavior.ecomm.ValidatePromoCodeBehavior - element parameter is not a type Object")}}var C=/^[A-Z][0-9]{6}$/i;if(E.value){var B=E.value;if(!B.match(C)){D.innerHTML="Sorry, "+B+" is not a valid promo code. Please try again."}else{if(B.toUpperCase()=="D039284"){D.innerHTML="Sorry, promo code "+B+" cannot be applied in the same order as promo code E259264."}else{if(B.toUpperCase()=="D039285"){D.innerHTML="Sorry, promo code "+B+" has expired and is no longer valid."}else{D.innerHTML=""}}}}},onResponse:function(){}});dojo.provide("cox.behavior.interface.AjaxBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.AjaxBehavior",mojo.command.Behavior,{execute:function(H){var G=H.getParams();var D=G.responseContainer;var C=G.loadingWrapperId;var F=G.activeLink;var B=(typeof (ajaxTimeout)!="undefined")?ajaxTimeout:"20000";if(typeof (F)!="undefined"){mojo.Messaging.publish("/throbber",{status:true,id:C});var A=function(I){D.innerHTML=I;mojo.Messaging.publish("remapControllers");mojo.Messaging.publish("/throbber",{status:false,id:C})};var E=function(){D.innerHTML="<div class='msgError'><p>We're sorry, we can't find this part of the page right now.</p></div>";mojo.Messaging.publish("/throbber",{status:false,id:C})};dojo.xhrGet({url:F,handleAs:"text",timeout:B,preventCache:true,load:A,error:E})}},onResponse:function(){}});dojo.provide("cox.behavior.interface.CompareGridBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.CompareGridBehavior",mojo.command.Behavior,{execute:function(D){var B=D.getCaller();var A=D.getController();if(dojo.hasClass(B,"prev")&&(A.getValue("curStartPosition")>A.getValue("minPosition"))){A.setValue("curStartPosition",A.getValue("curStartPosition")-1);A.setValue("curEndPosition",A.getValue("curEndPosition")-1)}if(dojo.hasClass(B,"next")&&(A.getValue("curStartPosition")<A.getValue("maxPosition"))){A.setValue("curStartPosition",A.getValue("curStartPosition")+1);A.setValue("curEndPosition",A.getValue("curEndPosition")+1)}if(A.getValue("curStartPosition")<A.getValue("minPosition")){A.setValue("curStartPosition",A.getValue("minPosition"));A.setValue("curEndPosition",A.getValue("curStartPosition")+dojo.query(".compare-options col").length)}if(A.getValue("curStartPosition")>A.getValue("maxPosition")){A.setValue("curStartPosition",A.getValue("maxPosition"));A.setValue("curEndPosition",A.getValue("curStartPosition")+dojo.query(".compare-options col").length)}dojo.query(".compare-buttons a").removeClass("disabled");if(A.getValue("curStartPosition")==A.getValue("minPosition")){dojo.query(".compare-buttons a.prev").addClass("disabled")}if(A.getValue("curStartPosition")==A.getValue("maxPosition")){dojo.query(".compare-buttons a.next").addClass("disabled")}dojo.query(".compare-table tr > *").forEach(function(E){dojo.addClass(E,"hide")});for(var C=0;C<dojo.query(".compare-static col").length;C++){dojo.query(".compare-table tr > *:nth-child("+(C+1)+")").forEach(function(E){dojo.removeClass(E,"hide")})}for(var C=A.getValue("curStartPosition");C<A.getValue("curEndPosition");C++){dojo.query(".compare-table tr > *:nth-child("+(C+1)+")").forEach(function(E){dojo.removeClass(E,"hide")})}}});dojo.provide("cox.behavior.interface.ParseRotatorXMLBehavior");dojo.require("mojo.command.Command");dojo.declare("cox.behavior.interface.ParseRotatorXMLBehavior",mojo.command.Command,{execute:function(G){var F=G.getParams();var E=new Object();var B=new Array();A(F.xml);function A(H){if(H){dojo.forEach(H.attributes,function(K,J,I){E[K.nodeName]=K.nodeValue});dojo.forEach(H.childNodes,function(L,K,J){if(L.nodeName=="image"){var I=new Object();dojo.forEach(L.attributes,function(M,O,N){I[M.nodeName]=M.nodeValue});B.push(I)}});E.rotatorType=="emergence"?C():D()}}function C(){dojo.forEach(B,function(K,I,H){var M="";if(K.path.indexOf(".swf")==-1){K.backgroundURL?M+='<div class="rotator-slide addPointer" href="'+K.backgroundURL+'"style="background-image:url('+K.path+');">':M+='<div class="rotator-slide" style="background-image:url('+K.path+')">'}else{K.backgroundURL?M+='<div class="rotator-slide addPointer" href="'+K.backgroundURL+'">':M+='<div class="rotator-slide">';M+='<embed style="position:absolute; z-index:0;" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" width="784" height="310" src="'+K.path+'" wmode="transparent"></embed>'}M+="<h2>"+K.headerText+"</h2><h3>"+K.subHeaderText+"</h3>";if(K.link1Text||K.link2Text||K.link3Text){M+='<div id="action-links" class="removePointer">'}if(K.link1Text){M+='<a class="rounded" href="'+K.link1URL+'" ><span>'+K.link1Text+"</span></a>"}if(K.link2Text){M+='<a class="rounded" href="'+K.link2URL+'" ><span>'+K.link2Text+"</span></a>"}if(K.link3Text){M+='<a class="rounded" href=" '+K.link3URL+'" ><span>'+K.link3Text+"</span></a>"}if(K.link1Text||K.link2Text||K.link3Text){M+='</div">'}M+="</div>";var J=dojo.query("#main-rotator").addClass(E.background);var L=dojo.query("#rotator-carousel").addContent(M)})}function D(){dojo.forEach(B,function(K,I,H){var M="";M+='<div class="rotator-slide addPointer" href="'+K.ImageURL+'"><img id="rotator-pic-link" src="'+K.path+'" /><div><h2>'+K.headerText+"</h2><h3>"+K.subHeaderText+'</h3><img src="/ui/emergence/corp/en/img/interface/rotator/hairlineDivider.png" /><p>'+K.description+' <a href="'+K.link1URL+'">'+K.link1Text+' ></a></p></div><a href="'+K.link2URL+'" class="rounded"><span>'+K.link2Text+"</span></a>";M+="</div>";var J=dojo.query("#main-rotator").addClass(E.background);var L=dojo.query("#rotator-carousel").addContent(M)})}}});dojo.provide("cox.behavior.interface.RotatorControlsBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.RotatorControlsBehavior",mojo.command.Behavior,{__rotatorInterval:null,__timer:null,__loop:true,execute:function(D){var C=D.getParams();this.__timer=C.timer;this.__loop=C.loop;var B=dojo.query(".rotator-slide");var A=B[B.length-1];switch(C.control){case"prev":if(!C.xmlError){this.previousView(A)}break;case"play":if(!C.xmlError){this.playView()}break;case"pause":if(!C.xmlError){this.pauseView()}break;case"next":if(!C.xmlError){this.nextView()}break}},previousView:function(A){dojo.query("#rotator-carousel").addContent(A,"first");dojo.animateProperty({node:dojo.byId("rotator-carousel"),duration:"1000",properties:{left:{start:(-1*dojo.position(dojo.byId("main-rotator")).w),end:"0"}}}).play()},nextView:function(){dojo.animateProperty({node:dojo.byId("rotator-carousel"),duration:"1000",properties:{left:{start:"0",end:(-1*dojo.position(dojo.byId("main-rotator")).w)}},onEnd:function(){var A=dojo.query(".rotator-slide");var B=A[0];dojo.query("#rotator-carousel").addContent(B,"last").style({left:"0"})}}).play()},playView:function(){dojo.style("play","display","none");dojo.style("pause","display","block");if(this.__loop){this.__rotatorInterval=setInterval(this.nextView,this.__timer*3000)}},pauseView:function(){dojo.style("pause","display","none");dojo.style("play","display","block");if(this.__rotatorInterval){clearInterval(this.__rotatorInterval)}}});dojo.provide("cox.behavior.interface.RoundedCornersBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.RoundedCornersBehavior",mojo.command.Behavior,{execute:function(E){var D=E.getParams();if(!D.target){throw new Error("Must have a target DOM element")}settings={tl:{radius:D.tl},tr:{radius:D.tr},bl:{radius:D.bl},br:{radius:D.br},antiAlias:D.antiAlias,autoPad:D.autoPad,validTags:D.validTags};var B=mojo.query(".rounded-box",target);for(var A=0;A<B.length;A++){var C=new curvyCorners(settings,B[A]);C.applyCornersToAll()}}});dojo.provide("cox.behavior.interface.XMLLoaderBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.XMLLoaderBehavior",mojo.command.Behavior,{execute:function(H){var G=H.getParams();var C=G.responseContainer;var B=G.url;var A="20000";var F=this;var E=function(I){I.documentElement.tagName=="parsererror"?D("***  There was a parse error on the xml response, might be bad xml ***"):F.xmlLoaded(I)};var D=function(I){F.writeToConsole(I);C.innerHTML="<div class='msgError default-rotator-dimensions'><p> We're sorry, we can't find this part of the page right now.</p></div>";mojo.Messaging.publish("errorLoadingXML")};dojo.xhrGet({url:B,handleAs:"xml",timeout:A,preventCache:true,load:E,error:D})},xmlLoaded:function(A){mojo.Messaging.publish("loadedSuccessfulXML",A)},writeToConsole:function(A){console.log("XMLLoaderBehavior ERROR:  "+A)}});dojo.provide("cox.behavior.interface.form.DatePickerBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.DatePickerBehavior",mojo.command.Behavior,{execute:function(D){var C=D.getParams().element;this.dayChars=1;this.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];this.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31];this.format="mm/dd/yyyy";this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];this.startDay=7;this.yearStart=(new Date().getFullYear());this.monthsAhead=3;if(C.value!=""){C.then=new Date(C.value);C.today=new Date()}else{C.then=C.today=new Date()}C.oldYear=C.year=C.then.getFullYear();C.oldMonth=C.month=C.then.getMonth();C.oldDay=C.then.getDate();C.nowYear=C.today.getFullYear();C.nowMonth=C.today.getMonth();C.nowDay=C.today.getDate();var A=new Date(C.today.getFullYear(),C.today.getMonth(),C.today.getDate());var B=(this.monthsAhead+1)*31;todayPlusDays=(typeof dpTodayPlusDays!="undefined")?dpTodayPlusDays:0;daysToDueDate=(typeof dpDaysToDueDate!="undefined")?dpDaysToDueDate:B;plusDays=(typeof dpPlusDays!="undefined")?dpPlusDays:B;disableWeekends=(typeof dpDisableWeekends!="undefined")?dpDisableWeekends:false;this.dueDate=new Date(A.setDate(A.getDate()+daysToDueDate));this.endDate=new Date(A.setDate(A.getDate()+plusDays));if(C.alt){options=Json.evaluate(C.alt)}else{options=[]}C.options={monthNames:(options.monthNames&&options.monthNames.length==12?options.monthNames:this.monthNames)||this.monthNames,daysInMonth:(options.daysInMonth&&options.daysInMonth.length==12?options.daysInMonth:this.daysInMonth)||this.daysInMonth,dayNames:(options.dayNames&&options.dayNames.length==7?options.dayNames:this.dayNames)||this.dayNames,startDay:options.startDay||this.startDay,dayChars:options.dayChars||this.dayChars,format:options.format||this.format,yearStart:options.yearStart||this.yearStart,monthsAhead:options.monthsAhead||this.monthsAhead};C.readonly=true;C.container=false;C.calendar=false;C.interval=null;C.active=false;C.onclick=C.onfocus=this.create.pass(C,this)},create:function(F){if(F.calendar){return false}var N=dojo.position(F,true);F.container=dojo.create("div",{"class":"dp_container"},dojo.body());dojo.style(F.container,"left",(N.x)+"px");dojo.style(F.container,"top",(N.y+N.h)+"px");F.container.onmouseover=F.onmouseover=function(){clearTimeout(F.interval);clearInterval(F.interval)};F.container.onmouseout=F.onmouseout=dojo.hitch(this,function(){F.interval=setInterval(dojo.hitch(this,function(){if(!F.active){this.remove(F)}}),500)});var P=dojo.create("div",{"class":"dp_header"},F.container);var M=dojo.create("div",{"class":"dp_main"},F.container);var D=dojo.create("div",{"class":"dp_footer"},F.container);F.calendar=dojo.create("div",{"class":"dp_cal"},M);var E=new Date();if((typeof F.month!="undefined")&&(typeof F.year!="undefined")){E.setFullYear(F.year,F.month,1)}else{F.month=E.getMonth();F.year=E.getFullYear();E.setDate(1)}F.year%4==0?F.options.daysInMonth[1]=29:F.options.daysInMonth[1]=28;var B=(1-(7+E.getDay()-F.options.startDay)%7);var G=dojo.create("a",{"class":"dp_prevmonth","href":"#"});var I=dojo.create("a",{"class":"dp_nextmonth","href":"#"});var A=dojo.create("h6",{"class":"dp_currentmonth","innerHTML":F.options.monthNames[F.month]+" "+F.year});calTable=dojo.create("table");calTableThead=dojo.create("thead");calSelRow=dojo.create("tr");calSelCell=dojo.create("th",{"colspan":"7"});if(dojo.isIE){calSelCell.setAttribute("colSpan",7)}var C=new Date();var J=C.getFullYear();var K=C.getMonth();if(J*12+K<+F.year*12+ +F.month){dojo.place(G,calSelCell)}if(J*12+K+F.options.monthsAhead>+F.year*12+ +F.month){dojo.place(I,calSelCell)}dojo.place(A,calSelCell);dojo.place(calSelCell,calSelRow);dojo.place(calSelRow,calTableThead);calTableTbody=dojo.create("tbody");calDayNameRow=dojo.create("tr");for(var H=0;H<F.options.dayNames.length;H++){calDayNameCell=dojo.create("th",{"innerHTML":F.options.dayNames[(F.options.startDay+H)%7].substr(0,F.options.dayChars)});dojo.place(calDayNameCell,calDayNameRow)}dojo.place(calDayNameRow,calTableTbody);while(B<=F.options.daysInMonth[F.month]){calDayRow=dojo.create("tr");F.nowDay=(C.getDate()+todayPlusDays);var L=new Date(F.nowYear,F.nowMonth,F.nowDay);for(H=0;H<7;H++){var O=new Date(F.year,F.month,B);if(O.getTime()-this.dueDate.getTime()==0){dojo.addClass(calDayCell,"dp_dueDate")}if((B<=F.options.daysInMonth[F.month])&&(B>0)){calDayCell=dojo.create("td",{"class":F.parentNode.id+"_calDay","axis":F.year+"|"+(parseInt(F.month)+1)+"|"+B,"innerHTML":B});dojo.place(calDayCell,calDayRow)}else{calDayCell=dojo.create("td",{"class":"dp_empty","innerHTML":" "});dojo.place(calDayCell,calDayRow)}if((O<L||O>this.endDate)||(disableWeekends==true&&(H==6||H==0))){dojo.addClass(calDayCell,"dp_disabled")}if((B==F.nowDay)&&(F.month==F.nowMonth)&&(F.year==F.nowYear)){dojo.addClass(calDayCell,"dp_today")}if(O>L){dojo.addClass(calDayCell,"dp_valid")}B++}dojo.place(calDayRow,calTableTbody)}dojo.place(calTableThead,calTable);dojo.place(calTableTbody,calTable);dojo.place(calTable,F.calendar);dojo.query("td."+F.parentNode.id+"_calDay").forEach(dojo.hitch(this,function(Q){Q.onmouseover=dojo.hitch(this,function(){ds=Q.axis.split("|");var R=new Date(ds[0],ds[1]-1,ds[2]);var S=new Date(C.getFullYear(),C.getMonth(),F.nowDay);if(disableWeekends==true){if(R>=S&&R<=this.endDate&&R.getDay()!=0&&R.getDay()!=6){dojo.addClass(Q,"dp_roll")}}else{if(R>=S&&R<=this.endDate){dojo.addClass(Q,"dp_roll")}}})}));dojo.query("td."+F.parentNode.id+"_calDay").forEach(dojo.hitch(this,function(Q){Q.onmouseout=dojo.hitch(this,function(){dojo.removeClass(Q,"dp_roll")})}));dojo.query("td."+F.parentNode.id+"_calDay").forEach(dojo.hitch(this,function(Q){Q.onclick=dojo.hitch(this,function(){ds=Q.axis.split("|");var R=new Date(ds[0],ds[1]-1,ds[2]);var S=new Date(C.getFullYear(),C.getMonth(),F.nowDay);if(disableWeekends==true){if(R>=S&&R<=this.endDate&&R.getDay()!=0&&R.getDay()!=6){F.value=this.formatValue(F,ds[0],ds[1],ds[2]);this.remove(F)}}else{if(R>=S&&R<=this.endDate){F.value=this.formatValue(F,ds[0],ds[1],ds[2]);this.remove(F)}}})}));G.onclick=dojo.hitch(this,function(){F.year=(+F.month==0)?+F.year-1:+F.year;F.month=(11+ +F.month)%12;this.remove(F);this.create(F);return false});I.onclick=dojo.hitch(this,function(){F.year=(+F.month==11)?+F.year+1:F.year;F.month=(1+ +F.month)%12;this.remove(F);this.create(F);return false})},formatValue:function(E,C,D,B){var A="";if(B<10){B="0"+B}if(D<10){D="0"+D}A=E.options.format.replace(/dd/i,B).replace(/mm/i,D).replace(/yyyy/i,C);E.month=E.oldMonth=""+(D-1)+"";E.year=E.oldYear=C;E.oldDay=B;return A},remove:function(A){clearTimeout(A.interval);clearInterval(A.interval);A.active=false;if(A.container){dojo.query(A.container).orphan()}A.calendar=false;A.container=false;dojo.query("select.dp_hide").removeClass("dp_hide")}});dojo.provide("cox.behavior.interface.form.EnforceMaxLengthBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.EnforceMaxLengthBehavior",mojo.command.Behavior,{execute:function(D){var B=D.getParams();var A=B.element.getAttribute("maxlength")||B.element.parentNode.getAttribute("maxlength");if(!A||isNaN(A=parseInt(A))){return }if(A<=0){return }if(B.element.value.length>A){B.element.value=B.element.value.substring(0,A)}var C;if(B.element.id){C=mojo.queryFirst("#"+B.element.id.replace(":","_")+"-countdown")}if(C){C.innerHTML=(A-B.element.value.length)}},onResponse:function(){}});dojo.provide("cox.behavior.interface.form.EnterKeyBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.EnterKeyBehavior",mojo.command.Behavior,{execute:function(C){var B=C.eventObj;var A;if(B&&B.which){B=B;A=B.which}else{B=event;A=B.keyCode}if(A==13){this.onResponse();mojo.Messaging.publish("enterKeyPress","enter");return false}else{return true}},onResponse:function(){}});dojo.provide("cox.behavior.interface.form.PlaceholderBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.PlaceholderBehavior",mojo.command.Behavior,{execute:function(E){var A=document.createElement("input");if(!("placeholder" in A)){var B=E.getContextElement();var D=E.getEvent();var C;if(D){C=D.type}switch(C){case"focus":if(B.value==dojo.attr(B,"placeholder")){dojo.toggleClass(B,"placeholder");B.value=""}break;default:if(B.value==""){dojo.toggleClass(B,"placeholder");B.value=dojo.attr(B,"placeholder")}}}}});dojo.provide("cox.behavior.interface.form.SetCheckedBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.SetCheckedBehavior",mojo.command.Behavior,{execute:function(C){var B=C.getParams();if(!dojo.isArray(B.target)){B.target=[B.target]}for(var A=0;A<B.target.length;A++){B.target[A].checked=true}}});dojo.provide("cox.behavior.interface.form.SetInputLabelBehavior");dojo.require("mojo.command.Command");dojo.declare("cox.behavior.interface.form.SetInputLabelBehavior",mojo.command.Command,{execute:function(C){var B=C.getParams();if(!B.input){return }if(typeof B.label=="string"){if(!B.show&&B.label==B.input.value){B.input.value="";try{if(B.type){B.input.type=B.type}}catch(A){}}else{if(B.show&&B.input.value==""){B.input.value=B.label;try{if(B.type){B.input.type="text"}}catch(A){}}}}else{if(!B.show){B.label.style.display="none"}else{if(B.input.value==""){B.label.style.display="block"}}}}});dojo.provide("cox.behavior.interface.form.SpinBoxBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.SpinBoxBehavior",mojo.command.Behavior,{execute:function(A){var D=A.getParams();var J=D.element;var C=J.value;var G="";var F=J.getAttribute("min");var K=J.getAttribute("max");var E=J.getAttribute("step");J.options={min:J&&!isNaN(parseFloat(F))?Number(F):null,max:J&&!isNaN(parseFloat(K))?Number(K):null,step:J&&!isNaN(parseFloat(E))?Number(E):1,reset:Number(C)};var B=dojo.create("div",{className:"spinner-wrapper"});dojo.place(B,J,"after");var I=dojo.create("input",{className:"spin-up",type:"button",title:"Increase",value:""},B);var H=dojo.create("input",{className:"spin-down",type:"button",title:"Decrease",value:""},B);I.onclick=function(){var M=mojo.queryFirst(J);var L=Number(M.value)+Number(J.options.step);if(J.options.min!==null){L=Math.max(L,J.options.min)}if(J.options.max!==null){L=Math.min(L,J.options.max)}M.value=L};H.onclick=function(){var M=mojo.queryFirst(J);var L=Number(M.value)+Number(-J.options.step);if(J.options.min!==null){L=Math.max(L,J.options.min)}if(J.options.max!==null){L=Math.min(L,J.options.max)}M.value=L}}});dojo.provide("cox.behavior.interface.form.SubmitFormBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.SubmitFormBehavior",mojo.command.Behavior,{execute:function(C){var B=C.getParams();var A;if(!B){B={}}if(B.formSet!=null){A=B.formSet}if(A!=null){if(B.delay){setTimeout(function(){A.submit()},B.delay)}else{A.submit()}}},onResponse:function(){}});dojo.provide("cox.behavior.interface.form.UpdateErrorBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.query");dojo.declare("cox.behavior.interface.form.UpdateErrorBehavior",mojo.command.Behavior,{execute:function(D){var C=D.getParams();if(!C.form){return }if(!mojo.query(".msgError",C.form).length){var A=dojo.create("div",{className:"msgError",id:"formErrors"},C.form,"first")}else{var A=mojo.queryFirst(".msgError",C.form)}switch(C.action){case"clear":A.innerHTML="";dojo.style(A,"display","none");break;case"add":A.innerHTML+="<p>"+C.text+"</p>";dojo.style(A,"display","block");var B=dojo.position(A).y;if(B<0){window.scrollBy(0,B)}break}}});dojo.provide("cox.behavior.interface.form.ValidateFormBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.query");dojo.declare("cox.behavior.interface.form.ValidateFormBehavior",mojo.command.Behavior,{execute:function(H){var F=H.getParams();mojo.Messaging.publish("formError",{action:"clear",form:F.form});mojo.query(".required",F.form).forEach(function(N,O,P){var J=mojo.queryFirst("label[for='"+N.id+"']",F.form);var Q=J&&(J.innerText||J.textContent);var K=N.value.trim();var M=dojo.attr(N,"placeholder");var L=J.title;var R=L.match(/^[AaEeIiOoUu]/)!=null?" an ":" a ";var I=N.tagName=="SELECT"?"Please select":"Please enter";if(!K||!K.trim()||(K==Q)||(K==M)){mojo.Messaging.publish("formError",{action:"add",form:F.form,text:I+R+L+"."});dojo.stopEvent(H.getEvent())}});mojo.query(".requiredchkbox",F.form).forEach(function(K,J,N){var M=mojo.queryFirst("label[for='"+K.id+"']",F.form);var L=K.checked;var I=M.title;if(!L){mojo.Messaging.publish("formError",{action:"add",form:F.form,text:I});dojo.stopEvent(H.getEvent())}});var C=/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,6})$/i;mojo.query(".email",F.form).forEach(function(J,I,N){var M=mojo.queryFirst("label[for='"+J.id+"']",F.form);var O=M&&(M.innerText||M.textContent);var K=J.value.trim();var L=dojo.attr(J,"placeholder");if(K.length>0&&(K!=O)&&!K.match(C)||(K==L)){mojo.Messaging.publish("formError",{action:"add",form:F.form,text:M.title+" is not a valid email address."});dojo.stopEvent(H.getEvent())}});var E=/(^-?\d\d*\.\d*$)|(^-?\d\d*$)|(^-?\.\d\d*$)/;mojo.query(".number",F.form).forEach(function(J,I,N){var M=mojo.queryFirst("label[for='"+J.id+"']",F.form);var O=M&&(M.innerText||M.textContent);var K=J.value.trim();var L=dojo.attr(J,"placeholder");if(K.length>0&&(K!=O)&&!K.match(E)||(K==L)){mojo.Messaging.publish("formError",{action:"add",form:F.form,text:M.title+" is not a valid number."});dojo.stopEvent(H.getEvent())}});var E=/^([0-9])*(\.[0-9]{1,2})?$/;mojo.query(".currency",F.form).forEach(function(J,I,N){var M=mojo.queryFirst("label[for='"+J.id+"']",F.form);var O=M&&(M.innerText||M.textContent);var K=J.value.trim();var L=dojo.attr(J,"placeholder");if(K.length>0&&(K!=O)&&!K.match(E)||(K==L)){mojo.Messaging.publish("formError",{action:"add",form:F.form,text:M.title+" is not a valid currency."});dojo.stopEvent(H.getEvent())}});var B=/^[a-zA-Z0-9]*$/;mojo.query(".alphanumeric",F.form).forEach(function(J,I,N){var M=mojo.queryFirst("label[for='"+J.id+"']",F.form);var K=J.value.trim();var L=dojo.attr(J,"placeholder");if(K.length>0&&!K.match(B)||(K==L)){mojo.Messaging.publish("formError",{action:"add",form:F.form,text:M.title+" must contain alphanumeric characters only."});dojo.stopEvent(H.getEvent())}});var G=/^[a-zA-Z]*$/;mojo.query(".alpha",F.form).forEach(function(J,I,N){var M=mojo.queryFirst("label[for='"+J.id+"']",F.form);var K=J.value.trim();var L=dojo.attr(J,"placeholder");if(K.length>0&&!K.match(G)||(K==L)){mojo.Messaging.publish("formError",{action:"add",form:F.form,text:M.title+" must contain alpha characters only."});dojo.stopEvent(H.getEvent())}});var D=/^\d{1,2}\/\d{1,2}\/\d{4}$/;mojo.query(".date",F.form).forEach(function(J,I,N){var M=mojo.queryFirst("label[for='"+J.id+"']",F.form);var K=J.value.trim();var L=dojo.attr(J,"placeholder");if(K.length>0&&!K.match(D)||(K==L)){mojo.Messaging.publish("formError",{action:"add",form:F.form,text:M.title+" must be in MM/DD/YYYY format."});dojo.stopEvent(H.getEvent())}});var A=/(^\d{5}$)|(^\d{5}-\d{4}$)/;mojo.query(".zip",F.form).forEach(function(J,I,N){var M=mojo.queryFirst("label[for='"+J.id+"']",F.form);var K=J.value.trim();var L=dojo.attr(J,"placeholder");if(K.length>0&&!K.match(A)||(K==L)){mojo.Messaging.publish("formError",{action:"add",form:F.form,text:M.title+" not valid."});dojo.stopEvent(H.getEvent())}})}});dojo.provide("cox.behavior.locationMap.GetDirectionsBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.locationMap.GetDirectionsBehavior",mojo.command.Behavior,{onResponse:function(){},onError:function(){},geocoder:null,execute:function(E){var D=E.getParams();if(!D||!D.map){return }var C=D.map;var A=C._mojoGDir;if(A&&D.action=="clear"){A.clear();return }if(!A){A=C._mojoGDir=new google.maps.Directions(C,mojo.queryFirst(".direction-list"));google.maps.Event.addListener(A,"load",this.onResponse);google.maps.Event.addListener(A,"error",dojo.hitch(this,this._handleErrors,A,D.form))}if(D.addresses){this.form=D.form;var B=C._mojoDirectionsAddresses={};dojo.forEach(["from","to"],function(G){var F=D.addresses["map-"+((G=="to")?"end-":"")+"address-input"];mojo.Messaging.publish("/verifyAddress/"+G,F.value)})}else{if(D.message){var B=C._mojoDirectionsAddresses;B[D.message.direction]=D.message;if(B["from"]&&B["to"]){if(B["from"].placemark&&B["to"].placemark){A.load("from: "+B["from"].placemark[0].address+" to: "+B["to"].placemark[0].address)}}}}},_handleErrors:function(B,C){var A="";if(B.getStatus().code==G_GEO_UNKNOWN_ADDRESS){A="No corresponding geographic location could be found for one of the specified addresses. This may be due to the fact that the address is relatively new, or it may be incorrect."}else{A="An error occurred. One of your locations may be invalid."}mojo.Messaging.publish("formError",{action:"add",form:this.form,text:A})}});dojo.provide("cox.behavior.locationMap.InitMapBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.locationMap.InitMapBehavior",mojo.command.Behavior,{_map:null,onMapReady:function(){},execute:function(A){if(google&&google.maps){window.setTimeout(dojo.hitch(this,this._onGoogleReady,A),200)}else{if(google&&google.load){google.load("maps","2",{"callback":dojo.hitch(this,this._onGoogleReady,A)})}else{alert("Error loading google maps.")}}},_onGoogleReady:function(C){var B=C.getParams();var A=this._map=new google.maps.Map2(B.element);google.maps.Event.addListener(document.body,"unload",google.maps.Unload);google.maps.Event.addListener(this._map,"infowindowclose",dojo.hitch(null,function(){mojo.Messaging.publish("googleMap",{map:A})}));this.onMapReady()}});dojo.provide("cox.behavior.locationMap.MapReverseDirectionsBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.locationMap.MapReverseDirectionsBehavior",mojo.command.Behavior,{execute:function(D){var C=D.getParams();var B=C.form;var A=B["map-address-input"].value;B["map-address-input"].value=B["map-end-address-input"].value;B["map-end-address-input"].value=A;B["map-direction-submit"].click()}});dojo.provide("cox.behavior.locationMap.UpdateMapBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.locationMap.UpdateMapBehavior",mojo.command.Behavior,{execute:function(C){var B=C.getParams();if(!B||!B.map){return }var A=B.map;if(B.center){B.map.setCenter(new google.maps.LatLng(B.center.lat,B.center.lon))}if(B.zoom!==null&&typeof B.zoom!="undefined"){B.map.setZoom(B.zoom)}if(B.controls){if(B.controls.zoom=="small"&&B.controls.pan==false){this.removeControl("large-map",A);this.removeControl("small-map",A);this.addControl("small-zoom",A,google.maps.SmallZoomControl)}else{if(B.controls.zoom=="large"){this.removeControl("small-zoom",A);this.removeControl("small-map",A);this.addControl("large-map",A,google.maps.LargeMapControl)}else{if(B.controls.zoom=="small"||B.controls.pan==true){this.removeControl("small-zoom",A);this.removeControl("large-map",A);this.addControl("small-map",A,google.maps.SmallMapControl)}else{this.removeControl("small-zoom",A);this.removeControl("small-map",A);this.removeControl("large-map",A)}}}if(B.controls.scale){this.addControl("scale",A,google.maps.ScaleControl)}else{this.removeControl("scale",A)}if(B.controls.mapType){this.addControl("map-type",A,google.maps.MapTypeControl)}else{this.removeControl("map-type",A)}if(B.controls.overview){this.addControl("overview",A,google.maps.OverviewMapControl)}else{this.removeControl("overview",A)}}},removeControl:function(B,A){if(A._mojoControls&&A._mojoControls[B]){A.removeControl(A._mojoControls[B]);A._mojoControls[B]=null}},addControl:function(C,B,A){if(!B._mojoControls){B._mojoControls={}}if(!B._mojoControls[C]){B.addControl(B._mojoControls[C]=new A())}}});dojo.provide("cox.behavior.locationMap.UpdateMapPointSetsBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.locationMap.UpdateMapPointSetsBehavior",mojo.command.Behavior,{execute:function(A){console.log("updatePoints: ",A.getParams());var C=A.getParams();if(!C||!C.map){return }var B=C.map;var K=C.pointSetKey;var G=C.pointSet;var D;var I;if(!(D=B._mojoMarkerManager)){D=B._mojoMarkerManager=new google.maps.MarkerManager(B,{trackMarkers:true})}if(!B._mojoPointSets){B._mojoPointSets={}}if(!(I=B._mojoPointSets[K])){I=B._mojoPointSets[K]={points:[]}}while(I.points.length){D.removeMarker(I.points.pop())}if(!G.points||G.points.length==0){return }if(!I.icon||I.icon.image!=G.icon.url){var H=new google.maps.Icon();H.image=G.icon.url;H.iconSize=new google.maps.Size(G.icon.width,G.icon.height);H.iconAnchor=new google.maps.Point(G.icon.width>>1,G.icon.height>>1);H.shadow=G.iconShadow.url;H.shadowSize=new google.maps.Size(G.iconShadow.width,G.iconShadow.height);H.infoWindowAnchor=new GPoint(9,2);H.infoShadowAnchor=new GPoint(18,25);I.icon=H}for(var F=0;F<G.points.length;F++){var J=G.points[F];var E=new google.maps.Marker(new google.maps.LatLng(J.lat,J.lon),{title:"test",icon:I.icon,draggable:false});google.maps.Event.addListener(E,"click",dojo.hitch(null,function(L,M){L.openInfoWindowHtml(M)},E,'<div class="marker-info">'+J.info+"</div>"));if(G.visible===false||J.visible===false){E.hide()}else{E.show()}I.points.push(E)}D.addMarkers(I.points,G.zoom||1);D.refresh()}});dojo.provide("cox.behavior.locationMap.UpdateMapPointsBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.locationMap.UpdateMapPointsBehavior",mojo.command.Behavior,{execute:function(A){var C=A.getParams();if(!C||!C.map){return }var B=C.map,F=C.pointSet;if(C.pointSet&&B._coxCurrentState!=C.pointSet.state){while(B._mojoMarkers&&B._mojoMarkers.length){B.removeOverlay(B._mojoMarkers.pop())}B._mojoMarkers=[];B._coxLocations=[];B._coxCurrentState=C.pointSet.state;for(var E=0;E<C.pointSet.locations.length;E++){var L=C.pointSet.locations[E];var G=new google.maps.Marker(new google.maps.LatLng(L.lat,L.lon),{icon:this._getIcon(L),draggable:false});var M=mojo.queryFirst("#directions-balloon");var J="";if(M){J=M.innerHTML}var I=mojo.queryFirst("#directions-form");google.maps.Event.addListener(G,"click",dojo.hitch(null,function(N,O){N.openInfoWindowHtml(O)},G,'<div class="maps-marker-info">'+L.info+J+"</div>"));if(J.length){google.maps.Event.addListener(G,"infowindowopen",function(){var N=mojo.query("#map-container [id='directions-forms'] form");dojo.forEach(N,function(P){mojo.controller.Map.getInstance().mapController("cox.controller.InputLabelController",P)});var O=mojo.queryFirst("#map-container [id='directions-forms']");if(O){mojo.controller.Map.getInstance().mapController("cox.controller.MapInfoBoxController",O,{map:B})}})}L.marker=G;B._coxLocations.push(L);B._mojoMarkers.push(G)}dojo.forEach(B._mojoMarkers,function(N){B.addOverlay(N)})}if(C.show&&B._coxLocations){for(var E=0;E<B._coxLocations.length;E++){var H=B._coxLocations[E];var K=false;for(var D=0;D<C.show.length;D++){if(H.sets.indexOf(C.show[D])>-1){K=true}}if(K){H.marker.show()}else{H.marker.hide()}}}if(F&&typeof F.user!="undefined"){if(B._mojoUser){B.removeOverlay(B._mojoUser)}if(B._mojoGDir){B._mojoGDir.clear()}if(F.user!=null){var G=new google.maps.Marker(new google.maps.LatLng(F.user.lat,F.user.lon),{icon:this._getIcon("user"),draggable:false,clickable:false});B._mojoUser=G;B.addOverlay(G)}}},_getIcon:function(A){if(!this._icons){this._icons={}}var D=A==="user"?"user":A.sets.join("");if(this._icons[D]){return this._icons[D]}var C=D=="user"?"user":A.sets.length;var B=this._iconConfig[C+""];var E=new google.maps.Icon();E.image=this._iconConfig.basePath+D+".png";E.iconSize=new google.maps.Size(B.width,B.height);E.iconAnchor=new google.maps.Point(B.anchorX,B.anchorY);E.shadow=this._iconConfig.basePath+"shadow"+C+".png";E.shadowSize=new google.maps.Size(B.width,B.height);E.infoWindowAnchor=new google.maps.Point(B.anchorX,2);E.infoShadowAnchor=new google.maps.Point(B.width,25);return this._icons[D]=E},_iconConfig:{basePath:"/ui/emergence/corp/en/img/interface/map/","user":{width:13,height:14,anchorX:0,anchorY:0},"1":{width:90,height:48,anchorX:19,anchorY:45},"2":{width:99,height:49,anchorX:28,anchorY:44},"3":{width:115,height:52,anchorX:37,anchorY:49},"4":{width:136,height:58,anchorX:47,anchorY:49},"5":{width:158,height:62,anchorX:56,anchorY:54},"6":{width:150,height:62,anchorX:56,anchorY:54}}});dojo.provide("cox.behavior.locationMap.VerifyAddressBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.locationMap.VerifyAddressBehavior",mojo.command.Behavior,{onResponse:function(){},onError:function(){},geocoder:null,execute:function(G){var F=G.getParams();var E=F.direction;function A(K,H,I){var J=F.notification;switch(H){case"clear":dojo.style(J,"display","none");J.innerHTML="";break;case"error":dojo.style(J,"display","none");J.innerHTML="";var L=(K=="single")?"":((K=="from")?"start":"end");mojo.Messaging.publish("formError",{action:"add",form:F.input.form,text:["We could not find ",L," address: ",I,"."].join("")});break;case"multiple":dojo.style(J,"display","block");J.innerHTML=['<p class="alternates-explanation">We found multiple results. Did you mean:</p>','<ul class="alternates"><li class="first">',dojo.map(I,function(M){return"<a href='#'>"+M.address+"</a>"}).join("</li><li>"),"</li></ul>"].join("");break}}var D=this.geocoder=this.geocoder||new GClientGeocoder();var C=mojo.queryFirst("label[for='"+F.input.id+"']",F.input.form);var B=(F.input.value=="")||(C&&(C.childNodes[0].nodeValue==F.input.value));if(B){mojo.Messaging.publish("/verifiedAddresses/"+E,{direction:E,placemark:null})}else{D.getLocations(F.input.value,function(H){if(!H.Placemark){A(E,"error",H.name)}else{if(H.Placemark.length>1){A(E,"multiple",H.Placemark)}else{A(E,"clear")}}mojo.Messaging.publish("/verifiedAddresses/"+E,{direction:E,placemark:H.Placemark})})}}});dojo.provide("cox.behavior.myplace.SlideshowBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.myplace.SlideshowBehavior",mojo.command.Behavior,{execute:function(B){var A=B.getParams();if(A.action=="toggle"){A.action=this._interval?"pause":"play"}if(A.action=="pause"){A.controller.setValue("isPlaying",false);if(this._interval){window.clearInterval(this._interval);this._interval=null}}else{if(A.action=="play"){A.controller.setValue("isPlaying",true);if(!this._interval){this._interval=window.setInterval(dojo.hitch(this,this._ticker,A.controllerEl,A.length),A.duration*1000)}}}},_ticker:function(E,B){try{var A=E.mojoControllers["cox.controller.FilmStripController"]}catch(D){return }var C=A.getValue("selectedIndex");A.setValue("selectedIndex",C==B-1?0:C+1)}});dojo.provide("cox.behavior.myplace.WeatherMapPickerBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.myplace.WeatherMapPickerBehavior",mojo.command.Behavior,{updateCitiesList:function(){var B=mojo.queryFirst("#selectedCity");var A=mojo.queryFirst("#editCodes");A.value=dojo.map(B.options,function(C){return C.value}).join(",")},execute:function(A){var E=A.getParams();switch(E.action){case"add":this.updateCitiesList();break;case"save":this.updateCitiesList();break;case"delete":var C=mojo.queryFirst("#selectedCity");for(var I=C.options.length-1;I>=0;I--){if(C.options[I].selected&&(C.options.length>1)){C.options[I]=null}}this.updateCitiesList();break;case"move":var K=E.direction;var C=mojo.queryFirst("#selectedCity");if((C.length<2)||(C.selectedIndex<0)){return }var B=(K>0)?C.length-1:0;var F=(K>0)?0:C.length-1;for(var I=B;I!=F-K;I=I-K){var J=I+K;if((I==B)||C[J].selected||!C[I].selected){continue}var L=C[I].value;var N=C[I].text;C[I].value=C[J].value;C[I].text=C[J].text;C[J].value=L;C[J].text=N;C[J].selected=true;C[I].selected=false}this.updateCitiesList();break;case"changeMap":var H=document.images.map.src;var G="";if(E.type=="national"){G=document.getElementById("nationalMapType").value;if(G=="Not Selected"){return }document.getElementById("regionMapType").value=""}else{if(E.type=="regional"){var D=document.getElementById("mapRegion").value;var M=document.getElementById("regionMapType").value;if(M==""){alert("Please select one map type");return }else{if(M=="sir_"){G=M+D}else{G=D+M}}}}document.getElementById("weatherMap").value=G;H=A.getController().getValue("mapImagePrefix")+G+".jpg";document.images.map.src=H;break;case"changeMapType":document.getElementById("regionMapType").value=E.type;break}}});dojo.provide("cox.behavior.newsroom.ChangeContentBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.newsroom.ChangeContentBehavior",mojo.command.Behavior,{execute:function(H){try{var G=H.paramsObj.elm}catch(E){var G=H.getEvent().elm}var A=H.paramsObj.tag;var D=H.paramsObj.elm;var F=H.paramsObj.caller.id.replace("tab","");var B=H.paramsObj.cssClass;if(!dojo.isArray(D)=="array"){D=[D]}var C=navigator.appName;for(i=0;i<D.length;i++){if(i==F-1){D[i].setAttribute("class",A+" "+B);D[i].style.display="block"}else{D[i].setAttribute("class",A);D[i].style.display="none"}}}});dojo.provide("cox.behavior.newsroom.InitBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.newsroom.InitBehavior",mojo.command.Behavior,{execute:function(F){var E=F.getParams();var D=E.content;var C=F.paramsObj.links;if(!dojo.isArray(C)=="array"){C=[C]}var A=F.paramsObj.tag;var B=F.paramsObj.cssClass}});dojo.provide("cox.behavior.residential.bill.CalculatePaymentAmountBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.residential.bill.CalculatePaymentAmountBehavior",mojo.command.Behavior,{execute:function(B){var G=B.getParams();var L=G.multiAmountTotal;var C=G.paymentOptions;var K=G.otherAmount;var H=0;var J=0;for(var I=0;I<C.length;I++){var A=C[I];if(K&&K.checked!="checked"){mojo.queryFirst("#"+K+"-radio").checked=true}if(A.checked){if(dojo.hasAttr(A,"val")){J=dojo.attr(A,"val")}else{J=A.value}var F=mojo.queryFirst("#"+A.id);var D=/(^-?\d\d*\.\d*$)|(^-?\d\d*$)|(^-?\.\d\d*$)/;if(dojo.hasClass(A,"statement-other")&&(F.checked=true)){var E=F.id;E=E.replace("-radio","");J=mojo.queryFirst("#"+E).value}if(D.test(J)){H+=parseFloat(J)}}else{if(dojo.hasClass(A,"statement-other")){var E=mojo.queryFirst("#"+A.id).id;E=E.replace("-radio","");mojo.queryFirst("#"+E).value=""}}}L.innerHTML="$"+parseFloat(H).toFixed(2)}});dojo.provide("cox.behavior.splash.PopUpBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.splash.PopUpBehavior",mojo.command.Behavior,{execute:function(A){var D=A.getParams();if(D.show){var L=mojo.query(".location-record-bd");for(var E=0,F=L.length;E<F;E++){var J=L[E].parentNode.parentNode;$(J).removeClass("active")}var C=200;var H=D.element;var G=H.parentNode;var K=H.parentNode.parentNode;var B=K.parentNode;var I=mojo.queryFirst(".location-record-bd",G);if(I){if(K.offsetLeft+I.offsetWidth>B.offsetWidth-C){$(G).addClass("dialog-pane-content-right")}dojo.addClass(D.element.parentNode.parentNode,"active")}}else{dojo.removeClass(D.element.parentNode.parentNode.parentNode.parentNode,"active")}}});dojo.provide("cox.behavior.splash.RenderBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.splash.RenderBehavior",mojo.command.Behavior,{execute:function(B){var A=B.getParams();console.log("RenderBehavior -- EXECUTE with parameters: ",A)}});dojo.provide("cox.behavior.splash.UpdateFormBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.splash.UpdateFormBehavior",mojo.command.Behavior,{selectedCity:null,selectedState:null,onStateChange:function(){},execute:function(A){var F=A.getParams();var H=mojo.queryFirst("input",A.callerObj.parentNode);H=H.value;var G=H.split(","),E=G[0],C=G[1],B=G[2],J=G[3],I=G[4],D=G[5];this.selectedCity=C;mojo.queryFirst("#splash-zipcode").value=D}});dojo.provide("cox.command.ValidateRulesCommand");dojo.require("mojo.command.Command");dojo.require("mojo.helper.Validation");dojo.require("mojo.helper.view.Error");dojo.require("mojo.query");dojo.declare("cox.command.ValidateRulesCommand",mojo.command.Command,{_targetElement:null,_checkAll:true,_output:function(F,C){for(var D=0,A=F.length;D<A;D++){var B=F[D];var E=document.createElement("span");E.className="mojoValidationError";E.innerHTML=B.message;console.log(E);if(B.element.type=="checkbox"){if(B.element.parentNode.tagName=="LABEL"){dojo.place(E,B.element.parentNode,"after")}else{dojo.place(E,B.element,"after")}}else{dojo.place(E,B.element,"after")}}},execute:function(requestObj){var rules;var formSet;var limit;var title;var params=requestObj.getParams();if(params){if(params.targetElement!=null){this._targetElement=params.targetElement}if(params.checkAll!=null){this._checkAll=params.checkAll}if(params.rules!=null){rules=params.rules}if(params.formSet!=null){formSet=params.formSet}if(params.limit!=null){limit=params.limit}if(params.title!=null){title=params.title}}if(rules){if(this._targetElement!=null){this._targetElement.innerHTML="";if(formSet){try{var clearTags=["label","inputs","textarea","select"];for(var i=0;i<clearTags.length;i++){var Tag=mojo.query(clearTags[i],formSet);for(var j=0;j<Tag.length;j++){dojo.removeClass(Tag[j],"error")}}}catch(err){}}}if(typeof (rules)=="string"){dojo.require(rules);eval("requestObj.getParams().rules = "+rules)}var val=mojo.helper.Validation.getInstance();if((formSet)&&(this._checkAll)){var errorList=val.execute(requestObj.getParams().rules,formSet)}else{var errorList=val.execute(requestObj.getParams().rules,[requestObj.callerObj])}if(errorList.length>0){if(this._targetElement!=null){console.log(this._targetElement);var errorListLength=errorList.length;for(var i=0;i<errorListLength;i++){if(i==limit&&limit){}else{var error=errorList[i];var err=document.createElement("span");err.className="mojoValidationError";err.innerHTML=error.message;if(this._targetElement!=null){this._targetElement.innerHTML="<h5>"+title+"</h5>";this._targetElement.appendChild(err)}else{if(error.element.type=="checkbox"){if(error.element.parentNode.tagName=="LABEL"){dojo.place(err,error.element.parentNode,"after")}else{dojo.place(err,error.element,"after")}}else{dojo.place(err,error.element,"after")}}}}for(var i=0;i<errorList.length;i++){dojo.addClass(errorList[i].element,"error");if(errorList[i].element.parentNode.tagName=="LABEL"){dojo.addClass(errorList[i].element.parentNode,"error")}}}else{this._output(errorList)}this.onError()}else{if(requestObj.invocation){this.onResponse()}}}else{console.debug("ERROR stdlib.command.ValidateRulesCommand - No rules passed")}},onResponse:function(){},onError:function(){}});dojo.provide("cox.command.locationMap.GetOfficesCommand");dojo.require("mojo.command.Command");dojo.require("cox.service.Locator");dojo.declare("cox.command.locationMap.GetOfficesCommand",mojo.command.Command,{_targetElement:null,execute:function(B){var A=B.getParams()||{};cox.service.Locator.getInstance().getService("getOffices").invoke(A,this)},onResponse:function(A){if(A.errors){this.onError(A.errors)}else{mojo.Model.set("offices",A);this.onComplete()}},onError:function(A){},onComplete:function(){}});dojo.provide("cox.command.metrics.OmnitureInterfaceCommand");dojo.require("mojo.command.Command");dojo.declare("cox.command.metrics.OmnitureInterfaceCommand",mojo.command.Command,{constructor:function(){if(!mojo.Model.contains("/metrics/variables")){mojo.Model.set("/metrics/variables",{})}},onComplete:function(){},onError:function(){console.log("There was an error in the Metrics command.")},execute:function(A){if(cox.runmode=="testing"){return }if(typeof s!="undefined"&&s&&!!s.getQueryParam){if(!A.paramsObj.mode||!this[A.paramsObj.mode]){return }this.storedVariables=mojo.Model.get("/metrics/variables");this[A.paramsObj.mode](A.paramsObj.params||{},A)}},track:function(F,G){var C=F["type"]||"pageview";var B=F["clearVariables"]||false;var A=F["options"]||{};if(B){this.clearOmnitureVariables()}try{if(!s){return }switch(C){case"pageview":this.storeVariables(A);this.mapVariablesToOmnitureVariables(this.storedVariables);s.t();break;case"event":var E=this.mapVariablesToOmnitureVariables(A);if(E.events.length){E.vars.push("events")}if(E.vars.indexOf("pageName")==-1){E.vars.push("pageName")}s.linkTrackVars=E.vars.length?E.vars.join(","):"None";s.linkTrackEvents=E.events.length?E.events.join(","):"None";console.log("Event Tracked: ",s);if(A.customLink){s.tl(G.callerObj,"o",A.customLink)}else{if(A.eventName=="download"){s.tl(G.callerObj,"o",A.download)}else{if(A.eventName){s.tl(G.callerObj,"o",A.eventName)}else{if(A.actionPerformed){s.tl(G.callerObj,"o",A.actionPerformed)}else{console.log("No event, custom link, or action set during Omniture Track command.");s.tl(G.callerObj,"o","anonymousTrigger")}}}}break;default:console.log("A call to metrics was attempted, but no Type (pageview/event) was specified.")}this.onComplete()}catch(D){this.onError();console.log("Metrics call failed")}},storeVariables:function(A){if(A.eventName&&this.storedVariables.eventName){A.eventName+=","+this.storedVariables.eventName}this.storedVariables=dojo.mixin(this.storedVariables,A);mojo.Model.set("/metrics/variables",this.storedVariables)},overwriteVariables:function(A){this.storedVariables=dojo.mixin(this.storedVariables,A);mojo.Model.set("/metrics/variables",this.storedVariables)},clearOmnitureVariables:function(A){for(var B in this.storedVariables){this.storedVariables[B]=null}this.mapVariablesToOmnitureVariables(this.storedVariables);mojo.Model.set("/metrics/variables",{})},set:function(A,B){this.storeVariables(A);if(B.getParams().mapImmediately){this.mapVariablesToOmnitureVariables(this.storedVariables)}},mapVariablesToOmnitureVariables:function(C){var F={vars:[],events:[]};var D=function(G){s.events=s.events?s.events+","+G:G;F.events.push(G)};var A=false;for(var B in C){var E=C[B];switch(B){case"localePagename":if(E){s.pageName=E;s.eVar46=E;F.vars.push("eVar46")}break;case"pageName":if(E){s.prop30=E;F.vars.push("prop30")}D("event52");break;case"simplePageName":s.prop25=E;break;case"channel":if(E){s.channel=E}break;case"contentArea":s.channel=E;break;case"pageType":s.pageType=E;break;case"offerSource":s.eVar4=E;break;case"localeName":s.prop1=E;F.vars.push("prop1");s.eVar7=E;F.vars.push("eVar7");break;case"sectionName":s.prop2=E;F.vars.push("prop2");break;case"businessUnit":if(E=="businessstore"){A=true}s.prop3=E;F.vars.push("prop3");break;case"formName":s.prop4=E;F.vars.push("prop4");break;case"visitorStatus":if(!E){E="not logged in"}s.prop5=E;F.vars.push("prop5");break;case"businessLocal":s.prop6=E;F.vars.push("prop6");s.eVar35=E;F.vars.push("eVar35");break;case"campaign":s.campaign=E;F.vars.push("campaign");s.eVar34=E;F.vars.push("eVar34");break;case"searchResultsFlag":if(!E){E="false"}s.prop7=E;F.vars.push("prop7");break;case"pathingByCampaign":s.prop8=E;F.vars.push("prop8");break;case"productName":s.prop9=E;F.vars.push("prop9");break;case"customLink":s.prop10=s.eVar46+":"+E;F.vars.push("prop10");s.eVar16=s.eVar46+":"+E;F.vars.push("eVar16");D("event45");break;case"exitLink":s.prop30=E;F.vars.push("prop30");break;case"videoTitle":s.prop11=E;F.vars.push("prop11");s.eVar9=E;F.vars.push("eVar9");break;case"language":s.prop12=E;F.vars.push("prop12");break;case"kanaArticleId":s.prop18=E;F.vars.push("prop18");s.eVar21=E;F.vars.push("eVar21");break;case"confirmationMsg":s.prop31=E;F.vars.push("prop31");break;case"dvrFilter":s.prop32=E;F.vars.push("prop32");break;case"registrationType":if(!E){E="not set"}s.eVar1=E;F.vars.push("eVar1");break;case"products":s.products=E;break;case"download":s.eVar2=E;F.vars.push("eVar2");break;case"keyword":if(E.match(/^web -/)){E=E.replace(/^web - /,"");s.prop38=E.toLowerCase();F.vars.push("prop38")}else{E=E.toLowerCase();s.eVar3=E;F.vars.push("eVar3");s.prop36=E;F.vars.push("pro36")}D("event4");break;case"toolName":s.eVar4=E;F.vars.push("eVar4");break;case"actionPerformed":s.eVar5=E;F.vars.push("eVar5");break;case"logStatus":s.eVar6=E;F.vars.push("eVar6");break;case"dvrSearch":s.eVar47=E;F.vars.push("eVar47");break;case"contextualFlag":s.eVar8=E;F.vars.push("eVar8");break;case"campcode":s.eVar10=E;F.vars.push("eVar10");break;case"pcCode":s.eVar22=E;F.vars.push("eVar22");s.prop26=E;F.vars.push("prop26");break;case"ccCode":s.eVar23=E;F.vars.push("eVar23");s.prop27=E;F.vars.push("prop27");break;case"searchReferrer":s.eVar14=E;F.vars.push("eVar14");break;case"hier1":s.hier1=E;break;case"hier2":s.hier2=E;break;case"siteId":s.prop21=E;s.eVar17=E;break;case"franchiseId":s.prop22=E;s.eVar18=E;break;case"zip":s.zip=E;break;case"state":s.state=E;break;case"storeEvent":s.events=E;break;case"customerType":s.prop15=E;break;case"signInType":s.prop16=E;break;case"purchaseId":s.prop20=E;s.purchaseID=E;break;case"errorlist":s.prop33=E;break;case"errorAttempts":s.prop34=E;break;case"RGUSelected":s.eVar45=E;break;case"RGUSubscribed":s.eVar44=E;break;case"offer":s.eVar15=E;break;case"monthlyRecurringCharge":break;case"oneTimeCharge":break;case"totalOrderValue":break;case"totalInstallationCharges":break;case"totalMonthlySavings":D("event37");break;case"orderType":s.eVar27=E;break;case"leadId":s.prop28=E;break;case"leadType":s.prop17=E;break;case"totalOneTimeSavings":break;case"visitCount":s.eVar19=E;case"eventName":switch(E){case"productView":D("prodView");break;case"download":D("event3");break;case"searchResultClicked":D("event5");break;case"toolUsageInitiated":D("event6");break;case"toolUsageCompleted":D("event7");break;case"userLogStatus":if(!A){D("event8")}break;case"dvrRecord":D("event25");break;case"dvrSetRecord":D("event26");break;case"searchRecommendationClicked":D("event38");break;case"cancelAppointment":D("event46");break;case"rescheduleAppointment":D("event58");break;case"activateDevice":D("event53");break}break;default:break}if(cox.runmode=="development"||cox.runmode=="testing"){console.log(B," --> ",E)}}return F}});dojo.provide("cox.command.newsroom.AlertSignupCommand");dojo.require("mojo.command.Command");dojo.declare("cox.command.newsroom.AlertSignupCommand",mojo.command.Command,{execute:function(A){console.log("Command Executed: newsroom.AlertSignupCommand || params: ",A.getParams())},onResponse:function(A){},onError:function(A){}});dojo.provide("cox.command.newsroom.ValidateAlertSignupCommand");dojo.require("mojo.command.Command");dojo.declare("cox.command.newsroom.ValidateAlertSignupCommand",mojo.command.Rule,{execute:function(E){console.log("Validate AlertSignup || params: ",E.getParams());var D=E.getParams();var B=mojo.queryFirst("input#control_AlertEmail");var A=B.value;var C=mojo.helper.Validation.getInstance();if(C.isEmailAddress(A)&&C.isRequired(A)){D.targetElement.innerHTML="";this.onResponse();E.invocation.proceed()}else{D.targetElement.innerHTML="<h3>"+D.title+"</h3><span>"+D.text+"</span>";this.onError()}},onResponse:function(A){},onError:function(A){}});dojo.provide("cox.controller.DelegatedHoverController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.DelegatedHoverController",mojo.controller.Controller,{params:{selector:{defaultValue:"",type:String,required:true},hoverClass:{defaultValue:"",type:String,required:true}},addObservers:function(){this.addObserver(this.getValue("selector"),"onmouseover","UpdateClass",function(C,B,A){return{element:B,action:"add",cssClass:A.getValue("hoverClass")}});this.addObserver(this.getValue("selector"),"onmouseout","UpdateClass",function(C,B,A){if(window.event&&(toElement=window.event.toElement)){do{if(toElement==B){return }}while(toElement=toElement.parentNode)}return{element:B,action:"remove",cssClass:A.getValue("hoverClass")}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.DialogController");dojo.require("stdlib.controller.DialogController");dojo.declare("cox.controller.DialogController",stdlib.controller.DialogController,{params:{container:{required:false,defaultValue:".dialog-component",type:String},title:{required:false,defaultValue:".dialog-component .dialog-component-title",type:String},titleText:{required:false,defaultValue:"",type:String},content:{required:false,defaultValue:".dialog-component .dialog-component-content",type:String}},addObservers:function(){this.addObserver(mojo.queryFirst("#underlay"),"onclick","Messaging",function(B,A){return{topic:"dialog",message:{enabled:false}}});this.addObserver(".btn-icon-close","onclick","Messaging",function(B,A){return{topic:"dialog",message:{enabled:false}}});this.addObserver(".btn-close","onclick","PreventDefault");this.addObserver(".btn-close","onclick","Messaging",function(B,A){return{topic:"dialog",message:{enabled:false}}});this.addObserver("#btn-close","onclick","PreventDefault");this.addObserver("#btn-close","onclick","Messaging",function(B,A){return{topic:"dialog",message:{enabled:false}}});this.addObserver(".btn-print","onclick","Print",function(B,A){return{target:"#print-frame"}});this.addObserver(mojo.Messaging.getTopic("dialog"),"onPublish","DisableBox",function(B,A){if(A.getMessage()&&!A.getMessage().enabled){return{show:false}}});this.addObserver(".dialog-component img","onload","Position");this.addObserver(mojo.Messaging.getTopic("error"),"onPublish","Messaging",function(B,A){var D=A.getMessage();var C=D.text;if(!C.push){C=[C]}C="<p>"+C.join("</p><p>")+"</p>";return{topic:"dialog",message:{enabled:true,title:D.title,href:"/ui/emergence/corp/en/page/errorDialog.xhtml",substitutionMap:{"#error-text":C},nextTo:D.cause,width:430,height:-1}}});this.addObserver(mojo.Messaging.getTopic("termsConditionsDialog"),"onPublish","Messaging",function(B,A){var D=A.getMessage();var C=D.text;return{topic:"dialog",message:{enabled:true,title:D.title,href:"/ui/emergence/corp/en/page/termsConditions.xhtml",substitutionMap:{"#terms-text":C},nextTo:D.cause,width:590,height:-1}}})},addCommands:function(){this.addCommand("Print","cox.behavior.PrintBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("DisableBox","cox.behavior.DisableBoxBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ExtrasFromCoxController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ExtrasFromCoxController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query("#extras-panel .extras-view ul li span a"),"onclick","Track",function(B,A){return{mode:"track",params:{type:"event",options:{customLink:"extras:"+(A.title).toLowerCase()}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.FilmStripController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.FilmStripController",mojo.controller.Controller,{params:{selectedIndex:{required:false,defaultValue:0,type:Number},loop:{required:false,defaultValue:false,type:Boolean},duration:{required:false,defaultValue:600,type:Number}},addObservers:function(){var A=mojo.query("> .filmstrip-viewer > .filmstrip-content > .filmstrip-page",this.getContextElement());this.addObserver("> .filmstrip-next","onclick","UpdateClass",function(E,C){var D=A;var B=this.getController().getValue("selectedIndex");B++;if(B>=A.length){if(this.getController().getValue("loop")){this.getController().setValue("selectedIndex",0)}}else{this.getController().setValue("selectedIndex",B)}});this.addObserver("> .filmstrip-prev","onclick","UpdateClass",function(E,C){var D=A;var B=this.getController().getValue("selectedIndex");B--;if(B<0){if(this.getController().getValue("loop")){this.getController().setValue("selectedIndex",A.length-1)}}else{this.getController().setValue("selectedIndex",B)}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(D,C,B){return{element:mojo.query("> .filmstrip-next",D),action:(C.getValue()>=A.length-1)?"add":"remove",cssClass:"disabled"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(D,C,B){return{element:mojo.query("> .filmstrip-prev",D),action:(C.getValue()<=0)?"add":"remove",cssClass:"disabled"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","Tween",function(D,C,B){if(dojo.getComputedStyle(A[C.getValue()].parentNode).position!="static"){return{x:(-1*A[C.getValue()].offsetLeft),y:(-1*A[C.getValue()].offsetTop),element:mojo.query("> .filmstrip-viewer > .filmstrip-content",D),duration:B.getValue("duration")}}else{return{element:[]}}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(C,B){return{element:A,action:"remove",cssClass:"selected"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(C,B){return{element:A[B.getValue()],action:"add",cssClass:"selected"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","PublishMessage",function(D,C,B){return{topic:"/filmstrip/indexChanged",message:{context:D,selectedIndex:B.getValue("selectedIndex")}}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Tween","stdlib.behavior.TweenBehavior");this.addCommand("PublishMessage","stdlib.behavior.MessagingBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.GoogleSearchBarController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.GoogleSearchBarController",mojo.controller.Controller,{addObservers:function(){this.addObserver("form","onsubmit","PreventDefault")},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior")},addIntercepts:function(){this.addIntercept("around","PreventDefault","BlockProceed",function(C,B,A){var D=mojo.queryFirst("#google-search-input").value;if(!D||!D.trim()){return{condition:true}}})}});dojo.provide("cox.controller.HoverController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.HoverController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this.getContextElement(),"onmouseover","UpdateClass",function(B,A){return{element:A,action:"add",cssClass:"hover"}});this.addObserver(this.getContextElement(),"onmouseout","UpdateClass",function(B,A){return{element:A,action:"remove",cssClass:"hover"}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.HoverLayerController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.HoverLayerController",mojo.controller.Controller,{params:{x_offset:{required:false,defaultValue:0,type:Number},y_offset:{required:false,defaultValue:0,type:Number},delay:{required:false,defaultValue:1000,type:Number}},addObservers:function(){var D=mojo.queryFirst("#hover-layer");if(!D){D=new Element("div",{"class":"store-hover","id":"hover-layer"});D.innerHTML+='<div class="bd"></div><div class="ft"></div>';document.body.appendChild(D)}var B;var C;var A;this.addObserver(mojo.query(".call-hover-layer",this.getContextElement()),"onmouseover","HoverLayer",function(G,F,E){var H=F;for(var I=H;I.tagName!="HTML";I=I.parentNode){if(dojo.hasClass(I,"hover-box")){B=I}}if(C==B&&dojo.hasClass(D,"show-hover")){A=false}else{C=B;A=true}return{show:true,element:C,hoverContainer:D,xOffset:E.getValue("x_offset"),yOffset:E.getValue("y_offset"),delay:E.getValue("delay"),newHover:A}});this.addObserver(mojo.query(".call-hover-layer",this.getContextElement()),"onmouseout","HoverLayer",function(G,F,E){return{hide:true,hoverContainer:D,delay:E.getValue("delay")}});this.addObserver(D,"onmouseover","HoverLayer",function(G,F,E){clearTimeout(window.hoverTimeout)});this.addObserver(D,"onmouseout","HoverLayer",function(G,F,E){return{hide:true,hoverContainer:D,delay:E.getValue("delay")}})},addCommands:function(){this.addCommand("HoverLayer","cox.behavior.HoverLayerBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.InputLabelController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.InputLabelController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","SetInputLabel",function(){var A=(mojo.queryFirst("label[id$='-label']",this.getContextElement()).innerText||mojo.queryFirst("label[id$='-label']",this.getContextElement()).textContent);return{input:mojo.queryFirst("input[id$='-input']",this.getContextElement()),label:A,show:true}});this.addObserver("input[id$='-input']","onfocus","SetInputLabel",function(B,A){var C=(mojo.queryFirst("label[id$='-label']",this.getContextElement()).innerText||mojo.queryFirst("label[id$='-label']",this.getContextElement()).textContent);return{input:A,label:C,show:false}});this.addObserver("input[id$='-input']","onblur","SetInputLabel",function(B,A){var C=(mojo.queryFirst("label[id$='-label']",this.getContextElement()).innerText||mojo.queryFirst("label[id$='-label']",this.getContextElement()).textContent);return{input:A,label:C,show:true}})},addCommands:function(){this.addCommand("SetInputLabel","cox.behavior.interface.form.SetInputLabelBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.KanaSearchController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.KanaSearchController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query("form#support-search"),"onsubmit","PreventDefaultSearch")},addCommands:function(){this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("PreventDefaultSearch","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){this.addIntercept("around","PreventDefaultSearch","BlockProceed",function(D,C,B){var E=dojo.trim(mojo.queryFirst("#search-all-keyword-label").innerHTML);var A=dojo.trim(mojo.queryFirst("#search-all-keyword-input").value);if(A==E||!A){return{condition:true}}})}});dojo.provide("cox.controller.MapInfoBoxController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.MapInfoBoxController",mojo.controller.Controller,{params:{map:{defaultValue:null}},addObservers:function(){this.addObserver("form.get-directions-from-form","onsubmit","PreventDefault");this.addObserver("form.get-directions-from-form","onsubmit","Messaging",function(E,D,A){mojo.Messaging.publish("switchMapDirections","enable");var F=mojo.queryFirst("#directions-form");var G=mojo.queryFirst("#map-container form.get-directions-from-form");F["map-address-input"].value=mojo.queryFirst("#map-container .maps-marker-info .address").innerHTML.replace(/<br[^>]*>/gi,",");var B=mojo.queryFirst("input",G);var C=mojo.queryFirst("label[for='"+B.id+"']",G);F["map-end-address-input"].value=(C&&(C.childNodes[0].textContent==B.value))?"":B.value;A.getValue("map").closeInfoWindow();return{topic:"getMapDirections"}});this.addObserver("form.get-directions-to-form","onsubmit","PreventDefault");this.addObserver("form.get-directions-to-form","onsubmit","Messaging",function(E,D,A){mojo.Messaging.publish("switchMapDirections","enable");var F=mojo.queryFirst("#directions-form");var G=mojo.queryFirst("#map-container form.get-directions-to-form");var B=mojo.queryFirst("input",G);var C=mojo.queryFirst("label[for='"+B.id+"']",G);F["map-address-input"].value=(C&&(C.childNodes[0].textContent==B.value))?"":B.value;F["map-end-address-input"].value=mojo.queryFirst("#map-container .maps-marker-info .address").innerHTML.replace(/<br[^>]*>/gi,",");A.getValue("map").closeInfoWindow();return{topic:"getMapDirections"}});this.addObserver("form","onsubmit","ValidateForm",function(C,B,A){return{form:mojo.queryFirst("#directions-form")}});this.addObserver(".get-directions-links a","onclick","PreventDefault");this.addObserver(".get-directions-links a","onclick","UpdateClass",function(E,D,B){var C=/get-directions-\w*-/;var F=dojo.map(D.className.split(" "),function(G){return C.exec(G)[0]}).join("");var A=mojo.query(".active",E).length?"":"[class^='"+F+"']";return{element:mojo.query(".get-directions-links a"+A+", form"+A,E),action:"toggle",cssClass:"active"}})},addCommands:function(){this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("ValidateForm","cox.behavior.interface.form.ValidateFormBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.MessageCountsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.MessageCountsController",mojo.controller.Controller,{params:{showNew:{required:false,defaultValue:false,type:Boolean}},addObservers:function(){this.addObserver(this,"onInit","LoadMessages",function(B,A){var C=(typeof (messageCountsUrl)!="undefined")?messageCountsUrl:"/myconnection/messagecount.mapajax";var D=this.getController().getValue("showNew");if(this.getController().getValue("showNew")){return{href:C,append:" New",replace:{".count-email .total":"email",".count-voicemail .total":"voicemail"}}}else{return{href:C,replace:{"#count-email .total":"email","#count-voicemail .total":"voicemail","#count-appointment .total":"appointment"}}}})},addCommands:function(){this.addCommand("LoadMessages","cox.behavior.LoadContentBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.MultiToggleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.MultiToggleController",mojo.controller.Controller,{params:{},addObservers:function(){var A=mojo.query(".toggle",this.getContextElement());this.addObserver(mojo.Messaging.getTopic("/toggle/changed"),"onPublish","UpdateClass",function(E,C){var F=mojo.Model.get("toggle")||[];var B=true;for(var D=0;D<A.length;D++){if(F.indexOf(A[D].id)==-1){B=false}}return{element:this.getController().getContextElement(),action:B?"add":"remove",cssClass:"multitoggle-open"}});this.addObserver(".multitoggle-button, .multitoggle-button-partial","onclick","PreventDefault");this.addObserver(".multitoggle-button, .multitoggle-button-partial","onclick","Messaging",function(){var D=dojo.clone(mojo.Model.get("toggle"))||[];var B=true;for(var C=0;C<A.length;C++){if(D.indexOf(A[C].id)==-1){B=false}}for(var C=A.length-1;C>=0;C--){if(B){D.splice(D.indexOf(A[C].id),1)}else{if(D.indexOf(A[C].id)==-1){D.push(A[C].id)}}}return{topic:"/toggle/force",message:{toggle:D}}})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.PopupController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.PopupController",mojo.controller.Controller,{params:{action:{required:false,defaultValue:"onclick",type:String},windowName:{required:false,defaultValue:"COXPOP",type:String},windowWidth:{required:false,defaultValue:"985",type:String},windowHeight:{required:false,defaultValue:"500",type:String},windowProps:{required:false,defaultValue:{status:1,scrollbars:1,resizable:1,toolbar:1},type:Object}},addObservers:function(){var A=this.getValue("action");this.addObserver(this.getContextElement(),A,"PreventDefault");this.addObserver(this.getContextElement(),A,"PopupWindow",function(B,C,I){var K=I.getValue("windowProps");var J=[];var D=C.rel.split(",");var H=D[0];var G=D[1];var E=(H)?H:I.getValue("windowWidth");var F=(G)?G:I.getValue("windowHeight");for(var L in K){J.push(L+"="+K[L])}return{url:C.href,windowName:I.getValue("windowName"),windowProps:"width="+E+",height="+F+","+J.join(",")}})},addCommands:function(){this.addCommand("PopupWindow","cox.behavior.PopupWindowBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ProductOverviewController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ProductOverviewController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.Messaging.getTopic("/metrics/callForInfo"),"onPublish","Set",function(B,A){var C=mojo.queryFirst("#business-title-text");if(!C){return{}}else{C=C.innerHTML.toLowerCase();return{mode:"set",params:{eventName:"productView",products:";"+C,productName:C}}}})},addCommands:function(){this.addCommand("Set","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.ScrollController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ScrollController",mojo.controller.Controller,{params:{stepHeight:{defaultValue:50,type:Number},repeatRate:{defaultValue:200,type:Number}},addObservers:function(){this.addObserver(".scroll-button","onmousedown","Scroll",function(C,B,A){return{amount:A.getValue("stepHeight"),repeatRate:A.getValue("repeatRate"),hold:true,victim:mojo.query(".scroll-list",C)[0],caller:B}});this.addObserver(".scroll-button","onmouseup","Scroll",function(C,B,A){return{amount:0,hold:true,victim:mojo.query(".scroll-list",C)[0],caller:B}});this.addObserver(".scroll-button","onclick","Scroll",function(C,B,A){return{amount:A.getValue("stepHeight"),victim:mojo.query(".scroll-list",C)[0],caller:B}});this.addObserver(mojo.Messaging.getTopic("/toggle/changeCompleted"),"onPublish","Scroll",function(C,B,A){return{amount:0,victim:mojo.query(".scroll-list",C)[0]}});this.addObserver(".scroll-button","onselectstart","PreventDefault");this.addObserver(".scroll-button","onmousedown","PreventDefault")},addCommands:function(){this.addCommand("Scroll","cox.behavior.ScrollBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.SearchResultsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.SearchResultsController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","InitSearchHeader",function(){var A=mojo.queryFirst("#search-categories a");return{countURL:A?A.href:null}});this.addObserver(mojo.query("#categories ul li a"),"onclick","Track",function(B,A){return{mode:"track",params:{type:"event",options:{contextualFlag:"contextual search"}}}});this.addObserver(mojo.query("#residential-search-content #results a"),"onclick","Track",function(B,A){return{mode:"track",params:{type:"event",options:{eventName:"searchResultClicked"}}}});this.addObserver(mojo.query("#search-recommendations a"),"onclick","Track",function(B,A){return{mode:"track",params:{type:"event",options:{eventName:"searchRecommendationClicked"}}}})},addCommands:function(){this.addCommand("InitSearchHeader","cox.behavior.InitSearchHeader");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.SessionVarController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.SessionVarController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","InitSessionVar",function(B,A){return{elm:mojo.queryFirst("#content")}})},addCommands:function(){this.addCommand("InitSessionVar","cox.behavior.InitSessionVarBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ShoppingAssistantController");dojo.require("mojo.controller.Controller");var displayingLogin=false;dojo.declare("cox.controller.ShoppingAssistantController",mojo.controller.Controller,{params:{displayBlockSelectors:{defaultValue:[],type:Array},displayNoneSelectors:{defaultValue:[],type:Array}},addObservers:function(){this.addObserver(mojo.queryFirst(".sign-in-link"),"onclick","PreventDefault");this.addObserver(mojo.queryFirst(".sign-in-link"),"onclick","SwapElementDisplay",function(C,B,A){var D=["#loginTypeDiv","#imNotACoxCustomer","#refreshOffersDivPinIdm"];var E=["#imACoxCustomer","#getSpecialOffersText","#addressDisplay","#currentServicesDiv","#refreshOffersDiv"];D.push("#coxPinDiv","#editAddressDiv");E.push("#userNamePasswordDiv","#getSpecialOffersText");A.setValue("displayBlockSelectors",D);A.setValue("displayNoneSelectors",E)});this.addObserver(mojo.queryFirst(".sign-out-link"),"onclick","PreventDefault");this.addObserver(mojo.queryFirst(".sign-out-link"),"onclick","SwapElementDisplay",function(C,B,A){displayingLogin=false;A.setValue("displayBlockSelectors",["#editAddressDiv","#refreshOffersDiv","#imACoxCustomer","#getSpecialOffersText"]);A.setValue("displayNoneSelectors",["#loginTypeDiv","#refreshOffersDivPinIdm","#coxPinDiv","#imNotACoxCustomer","#userNamePasswordDiv","#addressDisplay","#currentServicesDiv"])});this.addObserver(mojo.queryFirst(".edit-address-link"),"onclick","PreventDefault");this.addObserver(mojo.queryFirst(".edit-address-link"),"onclick","SwapElementDisplay",function(C,B,A){A.setValue("displayBlockSelectors",["#editAddressDiv","#refreshOffersDiv","#imACoxCustomer"]);A.setValue("displayNoneSelectors",["#addressDisplay","#currentServicesDiv"])});this.addObserver(mojo.queryFirst(".shoppingAssistantForm"),"onsubmit","PreventDefault");this.addObserver(this.getCommand("ValidateRules"),"onResponse","Submit",function(B,A){return{formSet:mojo.queryFirst(".shoppingAssistantForm")}});this.addObserver(this.getCommand("ValidateRules"),"execute","UpdateCss",function(){var A=mojo.queryFirst("#shoppingassistant-form-errors .mojoValidationError");if(A){A.scrollIntoView()}})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("SwapElementDisplay","cox.behavior.SwapElementDisplay");this.addCommand("UpdateCss","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Submit","stdlib.behavior.SubmitFormBehavior");this.addCommand("ValidateRules","stdlib.command.ValidateRulesCommand");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior")},addIntercepts:function(){this.addIntercept("before","BlockProceed","ValidateRules",{targetElement:mojo.queryFirst("#shoppingassistant-form-errors"),rules:"cox.rules.residential.ShoppingAssistantRules",formSet:mojo.queryFirst(".shoppingAssistantForm")});this.addIntercept("around","PreventDefault","BlockProceed",function(){var A=mojo.queryFirst("#shoppingassistant-form-errors .mojoValidationError");return{condition:!!A}})}});function signMeInWithPin(){displayingLogin=true;document.getElementById("imNotACoxCustomer").style.display="block";document.getElementById("imACoxCustomer").style.display="none";document.getElementById("addressDisplay").style.display="none";document.getElementById("currentServicesDiv").style.display="none";document.getElementById("editAddressDiv").style.display="block";document.getElementById("coxPinDiv").style.display="block";document.getElementById("refreshOffersDiv").style.display="none";document.getElementById("refreshOffersDivPinIdm").style.display="block"}function signMeInNoPin(){displayingLogin=true;document.getElementById("imNotACoxCustomer").style.display="none";document.getElementById("imACoxCustomer").style.display="block";document.getElementById("addressDisplay").style.display="none";document.getElementById("currentServicesDiv").style.display="none";document.getElementById("editAddressDiv").style.display="block";document.getElementById("coxPinDiv").style.display="none";document.getElementById("refreshOffersDiv").style.display="block";document.getElementById("refreshOffersDivPinIdm").style.display="none"}function changeLoginType(){if(document.getElementById("login-type").selectedIndex==0){document.getElementById("coxPinDiv").style.display="block";document.getElementById("editAddressDiv").style.display="block";document.getElementById("userNamePasswordDiv").style.display="none"}else{document.getElementById("coxPinDiv").style.display="none";document.getElementById("editAddressDiv").style.display="none";document.getElementById("userNamePasswordDiv").style.display="block"}}function cancelLogin(){displayingLogin=false;document.getElementById("coxPinDiv").style.display="none";document.getElementById("imNotACoxCustomer").style.display="none";document.getElementById("imACoxCustomer").style.display="block";document.getElementById("userNamePasswordDiv").style.display="none";document.getElementById("editAddressDiv").style.display="block";document.getElementById("addressDisplay").style.display="none";document.getElementById("currentServicesDiv").style.display="none";document.getElementById("refreshOffersDiv").style.display="block";document.getElementById("refreshOffersDivPinIdm").style.display="none"}dojo.provide("cox.controller.SoleSurvivorController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.SoleSurvivorController",mojo.controller.Controller,{params:{},addObservers:function(){var B=document.location.hash;var A=/---ALONE$/i;var C=A.test(B);if(C){this.addObserver(this,"onInit","UpdateClass",function(F,E,D){B=B.replace(A,"").replace(/^#/,"");var G=mojo.queryFirst("div[id="+B+"]");if(!G){return }if(G.outerHTML){F.innerHTML=G.outerHTML}else{F.innerHTML="";F.appendChild(G)}if(F.outerHTML){document.body.innerHTML=F.outerHTML}else{document.body.innerHTML="";document.body.appendChild(F)}dojo.style(document.body,"background","none");mojo.query(".return-to-top").style("display","none");G=mojo.queryFirst("div[id="+B+"]");dojo.style(G,"fontSize","12px");dojo.style(G,"border","none");dojo.style(G,"padding","0 5px 0 0");document.documentElement.scrollTop=0})}},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.SplashController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.SplashController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","Focus",function(B,A){return{target:mojo.queryFirst("input[name='zipcode']")}});this.addObserver(mojo.Messaging.getTopic("/metrics/callForInfo"),"onPublish","Set",function(B,A){var D=mojo.queryFirst(".server-error");var C;if(D){C="splashlocation:error:zipcode"}else{C=null}return{mode:"set",params:{formName:C}}});this.addObserver("#splash-location-zipcode-form","onsubmit","Track",function(D,C){var E=mojo.queryFirst("#splash-zipcode");var A=mojo.queryFirst("#splash-state");var B;if(!E.value){B="splashlocation:success:state"}else{B="splashlocation:success:zipcode"}return{mode:"track",params:{type:"event",options:{formName:B}}}})},addCommands:function(){this.addCommand("Set","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("SubmitForm","cox.behavior.interface.form.SubmitFormBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Redirect","stdlib.behavior.RedirectBehavior");this.addCommand("Focus","cox.behavior.FocusBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.SplashLocationController");dojo.require("cox.controller.LocationController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.SplashLocationController",cox.controller.LocationController,{params:{isOpen:{defaultValue:false,type:Boolean},queryString:{defaultValue:"",type:String}},addObservers:function(){this.addObserver(mojo.query(".splash-tooltip"),"onmousemove","UpdateClass",function(B,A){return{element:A,action:"add",cssClass:"active-hover"}});this.addObserver(mojo.query(".splash-tooltip"),"onmouseleave","UpdateClass",function(B,A){return{element:A,action:"remove",cssClass:"active-hover"}});this.addObserver(mojo.query(".location-record-hd"),"onclick","PopUp",function(B,A){return{element:A,show:true}});this.addObserver(mojo.query(".location-record-hd"),"onclick","UpdateForm");this.addObserver(mojo.query(".location-record-close-button"),"onclick","PopUp",function(B,A){return{element:A,show:false}});this.addObserver(mojo.query(".location-record-bd a"),"onclick","PreventDefault");this.addObserver(mojo.query(".location-record-bd a"),"onclick","SetChecked",function(C,B){var A;if(dojo.hasClass(B,"btn-for-residential")){A=mojo.queryFirst("#radio-residential")}else{A=mojo.queryFirst("#radio-business")}return{target:A}});this.addObserver(this.getCommand("SetChecked"),"execute","DisableBox",function(B,A){return{show:true,target:mojo.queryFirst("#splash-location")}});this.addObserver(this.getCommand("DisableBox"),"execute","SubmitForm",function(B,A){return{formSet:mojo.queryFirst("#splash-location-zipcode-form"),delay:750}});this.addObserver(this.getCommand("UpdateForm"),"execute","AutoSubmitForm",function(B,A){return{formSet:mojo.queryFirst("#splash-location-zipcode-form"),delay:750}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand");this.addCommand("PopUp","cox.behavior.splash.PopUpBehavior");this.addCommand("SubmitForm","cox.behavior.interface.form.SubmitFormBehavior");this.addCommand("AutoSubmitForm","cox.behavior.interface.form.SubmitFormBehavior");this.addCommand("UpdateForm","cox.behavior.splash.UpdateFormBehavior");this.addCommand("SetChecked","cox.behavior.interface.form.SetCheckedBehavior");this.addCommand("Redirect","stdlib.behavior.RedirectBehavior");this.addCommand("DisableBox","cox.behavior.DisableBoxBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior")},addIntercepts:function(){this.addIntercept("around","AutoSubmitForm","BlockProceed",function(){return{condition:__coxOmnitureParams.sectionName=="intercept"}})}});dojo.provide("cox.controller.SplashTabController");dojo.require("mojo.controller.Controller");dojo.require("stdlib.controller.TabController");dojo.declare("cox.controller.SplashTabController",stdlib.controller.TabController,{addObservers:function(){this.addObserver(".tab","onclick","Fade",function(B,A){return{element:mojo.queryFirst(".tabs-content",B),mode:"fadeIn"}})},addCommands:function(){this.addCommand("Fade","cox.behavior.FadeBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.SupportController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.SupportController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query("#support #search-results h3 a"),"onclick","Track",function(){return{mode:"track",params:{type:"event",options:{eventName:"searchResultClicked"}}}});this.addObserver("form#support-feedback","onsubmit","PreventDefaultFeedback");this.addObserver("a.print","onclick","PreventDefault");this.addObserver(mojo.query("form#set-rating a"),"onmouseover","UpdateClass",function(C,B){var A=mojo.queryFirst("form#set-rating .rating-text");A.innerHTML=B.title});this.addObserver(mojo.query("form#set-rating a"),"onmouseout","UpdateClass",function(C,B){var A=mojo.queryFirst("form#set-rating .rating-text");A.innerHTML=""});this.addObserver("form#set-rating a","onclick","PreventDefault");this.addObserver("form#set-rating a","onclick","UpdateClass",function(E,D,B){var A=mojo.queryFirst("form#set-rating");var C=D.innerHTML;var F=mojo.query("input[name='articleId']",A)[0].value;A.innerHTML="<span class='rating rating-"+C+"'></span><span>Thank you for rating this article.</span>";dojo.xhrGet({url:A.action+"?rating="+C+"&articleId="+F,handleAs:"text",timeout:10000})});this.addObserver("form#narrow-search-form select","onchange","UpdateClass",function(D,B){var C=mojo.queryFirst("form#support-search");var A=mojo.queryFirst("input[name='filter']",C);A.value=B.value;C.submit()});this.addObserver(".guidedsolutionradio","onclick","UpdateClass",function(B,A){dojo.query(".guidedsolutionradio").forEach(function(C){dojo.removeClass(C,"selected")});dojo.addClass(A,"selected");mojo.queryFirst("input",A).checked=true});this.addObserver(".ghNavBottom a","onclick","PreventDefault");this.addObserver(".ghNavBottom a","onclick","AjaxBehavior",function(B,A){var C=false;var D="";var E="";dojo.query("input[type=radio]",B).forEach(function(F){if(F.checked){C=true;D=(A.search)?"&":"?";E=F.name+"="+F.value}});if(C||dojo.hasClass(A,"ghBack")){return{responseContainer:mojo.queryFirst(".response",B),loadingWrapperId:mojo.queryFirst(".loading-wrapper",B).id,activeLink:A.href+D+E}}})},addCommands:function(){this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("PreventDefaultFeedback","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("AjaxBehavior","cox.behavior.interface.AjaxBehavior")},addIntercepts:function(){this.addIntercept("around","PreventDefaultFeedback","BlockProceed",function(E,D,B){var A=mojo.queryFirst("#article-feedback-input").value.trim();var G=mojo.queryFirst("#article-feedback-label").innerHTML.trim();if(A!=G&&A!=""){var F=mojo.queryFirst("form#support-feedback .form-submit");F.innerHTML="<span class='feedback-confirm'>Thank you for taking the time to submit your comments. We use your valuable feedback to continue improving our site.</span>";dojo.xhrPost({url:D.action,form:D,handleAs:"text",timeout:10000});var C=mojo.queryFirst("#article-feedback-input");C.disabled=true}return{condition:true}})}});dojo.provide("cox.controller.TextFieldDefaultController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.TextFieldDefaultController",mojo.controller.Controller,{addObservers:function(){var A=this.getContextElement();var B=A.value;this.addObserver(this.getContextElement(),"onfocus","UpdateClass",function(D,C){if(A.value==B){A.value=""}});this.addObserver(this.getContextElement(),"onblur","UpdateClass",function(D,C){if(A.value==""){A.value=B}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.TextareaLabelController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.TextareaLabelController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","SetTextareaLabel",function(){var A=(mojo.queryFirst("label[id$='-label']",this.getContextElement()).innerText||mojo.queryFirst("label[id$='-label']",this.getContextElement()).textContent);return{input:mojo.queryFirst("textarea[id$='-input']",this.getContextElement()),label:A,show:true}});this.addObserver("textarea[id$='-input']","onfocus","SetTextareaLabel",function(B,A){var C=(mojo.queryFirst("label[id$='-label']",this.getContextElement()).innerText||mojo.queryFirst("label[id$='-label']",this.getContextElement()).textContent);return{input:A,label:C,show:false}});this.addObserver("textarea[id$='-input']","onblur","SetTextareaLabel",function(B,A){var C=(mojo.queryFirst("label[id$='-label']",this.getContextElement()).innerText||mojo.queryFirst("label[id$='-label']",this.getContextElement()).textContent);return{input:A,label:C,show:true}})},addCommands:function(){this.addCommand("SetTextareaLabel","cox.behavior.interface.form.SetInputLabelBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ToggleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ToggleController",mojo.controller.Controller,{params:{isOpen:{defaultValue:false,type:Boolean},isOpenOriginal:{defaultValue:false,type:Boolean},isAnimating:{defaultValue:false,type:Boolean},activeOn:{defaultValue:"onclick",type:String},duration:{defaultValue:400,type:Number}},addObservers:function(){this.addObserver(this,"onInit","InitToggle",function(){return{id:this.getContextElement().id,element:mojo.queryFirst(".toggle-element",this.getContextElement()),controller:this.getController()}});this.addObserver(".toggle-button",this.getValue("activeOn"),"PreventDefault");this.addObserver(".toggle-button",this.getValue("activeOn"),"Tween",function(){var A=mojo.queryFirst(".toggle-wrapper",this.getContextElement());return{element:A,height:this.getController().getValue("isOpen")?0:A.scrollHeight,duration:this.getController().getValue("duration")}});this.addObserver(".toggle-button",this.getValue("activeOn"),"PublishMessage",function(){var A=mojo.queryFirst(".toggle-wrapper",this.getContextElement());return{topic:"/toggle/userActivated",message:{context:this.getContextElement(),isOpen:this.getController().getValue("isOpen")}}});this.addObserver(mojo.Messaging.getTopic("/toggle/force"),"onPublish","ForceTween",function(){var A=mojo.queryFirst(".toggle-wrapper",this.getContextElement());return{element:A,height:this.getController().getValue("isOpen")?0:A.scrollHeight,duration:this.getController().getValue("duration")}});this.addObserver(this.getCommand("Tween"),"onComplete","UpdateControllerParam",function(C,B,A){return{control:this.getController().declaredClass,params:"isAnimating",value:false,element:C}});this.addObserver(this.getCommand("ForceTween"),"onComplete","UpdateControllerParam",function(C,B,A){return{control:this.getController().declaredClass,params:"isAnimating",value:false,element:C}});this.addObserver(this.getConfig("params").isOpen,"onChange","UpdateClass",function(){return{element:this.getController().getContextElement(),action:this.getController().getValue("isOpen")?"add":"remove",cssClass:"toggle-open"}});this.addObserver(this.getConfig("params").isOpen,"onChange","UpdateFormField",function(B,A){var C=mojo.queryFirst(".toggle-form-field input",B);if(!C){return }return{formObj:B,fields:[{name:C.name,value:this.getController().getValue("isOpen")?"true":"false"}]}});this.addObserver(this.getConfig("params").isOpen,"onChange","SetModel",function(){var B=this.getController();var D=B.getValue("isOpen");var E=this.getContextElement().id;var A=(dojo.clone(mojo.Model.get("toggle"))||[]);var C=A.indexOf(E);if(A.indexOf(E)!=-1){A.splice(C,1)}if(D!=B.getValue("isOpenOriginal")){A.push(E)}return{model:"toggle",set:A}});this.addObserver(this.getCommand("BlockProceed"),"onBeforeProceed","UpdateControllerParam",function(C,B,A){return{control:this.getController().declaredClass,params:"isAnimating",value:true,element:C}});this.addObserver(this.getCommand("BlockProceed"),"onAfterProceed","UpdateControllerParam",function(C,B,A){return{control:this.getController().declaredClass,params:"isOpen",value:!this.getController().getValue("isOpen"),element:C}});this.addObserver(this.getConfig("params").isOpen,"onChange","PublishMessage",function(){return{topic:"/toggle/changed",message:{context:this.getContextElement(),isOpen:this.getController().getValue("isOpen")}}});this.addObserver(this.getCommand("Tween"),"onComplete","PublishMessage",function(){return{topic:"/toggle/changeCompleted",message:{context:this.getContextElement(),isOpen:this.getController().getValue("isOpen")}}});this.addObserver(this.getCommand("ForceTween"),"onComplete","PublishMessage",function(){return{topic:"/toggle/forcedChangeCompleted",message:{context:this.getContextElement(),isOpen:this.getController().getValue("isOpen")}}});this.addObserver("#feature-header-text",this.getValue("activeOn"),"Tween",function(){var A=mojo.queryFirst(".toggle-wrapper",this.getContextElement());return{element:A,height:this.getController().getValue("isOpen")?0:A.scrollHeight,duration:this.getController().getValue("duration")}});this.addObserver("#feature-header-text",this.getValue("activeOn"),"PreventDefault")},addCommands:function(){this.addCommand("InitToggle","cox.behavior.InitToggleBehavior");this.addCommand("Tween","stdlib.behavior.TweenBehavior");this.addCommand("ForceTween","stdlib.behavior.TweenBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand");this.addCommand("PublishMessage","stdlib.behavior.MessagingBehavior");this.addCommand("SetModel","stdlib.command.SetModelCommand");this.addCommand("UpdateFormField","stdlib.behavior.UpdateFormFieldBehavior")},addIntercepts:function(){this.addIntercept("around","Tween","BlockProceed",function(){return{condition:!this.getController().getValue("isAnimating")}});this.addIntercept("around","ForceTween","BlockProceed",function(C,B,A){var D=false;if(C.id){D=(B.getMessage().toggle.indexOf(C.id)>-1)!=(A.getValue("isOpenOriginal")!=A.getValue("isOpen"))}return{condition:!this.getController().getValue("isAnimating")&&D}})}});dojo.provide("cox.controller.ToggleFilmStripController");dojo.require("stdlib.controller.FilmStripController");dojo.declare("cox.controller.ToggleFilmStripController",stdlib.controller.FilmStripController,{params:{isToggled:{defaultValue:false,type:Boolean}},addObservers:function(){var D=mojo.query(".filmstrip-item",this.getContextElement());this.addObserver(D,"onmouseleave","UpdateCss",function(){return{element:D,action:"remove",cssClass:"active"}});this.addObserver(D,"onmouseenter","UpdateCss",function(F,E){return{element:E,action:"add",cssClass:"active"}});this.addObserver(D,"onclick","Redirect",function(F,E){var G=mojo.queryFirst("a",E);return{url:G.href,delay:0}});var B=mojo.queryFirst(".filmstrip-next",this.getContextElement());var C=mojo.queryFirst(".filmstrip-prev",this.getContextElement());this.addObserver(this.getContextElement(),"onmouseover","UpdateClass",function(G,F){var E=this.getController().getValue("isToggled");if(dojo.hasClass(B,"disabled")||E){return }return{element:B,action:"remove",cssClass:"filmstrip-next-disabled"}});this.addObserver(this.getContextElement(),"onmouseover","UpdateClass",function(G,F){var E=this.getController().getValue("isToggled");if(dojo.hasClass(C,"disabled")||E){return }return{element:C,action:"remove",cssClass:"filmstrip-prev-disabled"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","PublishMessage",function(G,F,E){return{topic:"/togglefilmstrip/indexChanged",message:{context:G,selectedIndex:E.getValue("selectedIndex")}}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(H,G){var F=mojo.query("> .filmstrip-viewer > .filmstrip-content > .filmstrip-page",this.getContextElement());var E=this.getController().getValue("selectedIndex");if(F.length==1){B.style.display="none";C.style.display="none"}if(E==0){return{element:C,action:"add",cssClass:"filmstrip-prev-disabled"}}else{if(E==(F.length-1)){return{element:B,action:"add",cssClass:"filmstrip-next-disabled"}}}});for(var A=this.getContextElement();A.tagName!="BODY";A=A.parentNode){if(dojo.hasClass(A,"module")){this.addObserver(mojo.queryFirst(".ft a",A),"onclick","PreventDefault");this.addObserver(mojo.queryFirst(".ft a",A),"onclick","UpdateToggledState",function(F,E){var G=this.getController().getValue("isToggled");var H;if(!G){H=true}else{H=false}return{control:this.getController().declaredClass,params:"isToggled",value:H,element:F}});break}}this.addObserver(this.getCommand("UpdateToggledState"),"execute","Warp",function(G,F){var E=this.getController().getValue("isToggled");return{element:mojo.queryFirst(".filmstrip-viewer",G),warp:!!E}});this.addObserver(this.getConfig("params").isToggled,"onChange","UpdateSelectedIndex",function(F,E){return{control:this.getController().declaredClass,params:"selectedIndex",value:0,element:F}});this.addObserver(".filmstrip-next","onmouseover","UpdateClass",function(F,E){return{element:E,action:"add",cssClass:"filmstrip-next-hover"}});this.addObserver(".filmstrip-next","onmouseout","UpdateClass",function(F,E){return{element:E,action:"remove",cssClass:"filmstrip-next-hover"}});this.addObserver(".filmstrip-prev","onmouseover","UpdateClass",function(F,E){return{element:E,action:"add",cssClass:"filmstrip-prev-hover"}});this.addObserver(".filmstrip-prev","onmouseout","UpdateClass",function(F,E){return{element:E,action:"remove",cssClass:"filmstrip-prev-hover"}})},addCommands:function(){this.addCommand("UpdateCss","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("UpdateToggledState","stdlib.command.UpdateControllerParamCommand");this.addCommand("UpdateSelectedIndex","stdlib.command.UpdateControllerParamCommand");this.addCommand("Warp","cox.behavior.business.WarpBehavior");this.addCommand("ArrowButton","cox.behavior.business.ArrowButtonBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Redirect","stdlib.behavior.RedirectBehavior");this.addCommand("PublishMessage","stdlib.behavior.MessagingBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ToolTipController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ToolTipController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this.getContextElement(),"onclick","PreventDefault");this.addObserver(mojo.query(".tooltip-link"),"onclick","Redirect",function(C,B){return{url:B.href,delay:0}});var A=function(B,D){var L=dojo.position(D);var E=mojo.queryFirst(".tooltip-info",D.parentNode);var C=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(E){E=E.innerHTML}else{E="Tooltip not available."}var I=null;var J=dojo.hasClass(D,"wide-tooltip")?".wide-tooltip":".tooltip";var H=document.styleSheets;for(var G=0;G<H.length;G++){var F=H[G].rules||H[G].cssRules;for(var K=0;K<F.length;K++){if(F[K].selectorText==J){I=parseInt(F[K].style.width.replace("px",""))}if(I!=null){break}}if(I!=null){break}}if((L.x+L.w+I+15)>C){return{show:true,info:E,offsetX:L.w-L.w-(dojo.position(D,true).w*2)-25,offsetY:L.h/2-35,underlayMark:".wrapper",template:'<div class="tooltip"><div class="wrapper"><div class="rightarrow">&nbsp;</div><table class="head"><tr><td class="tl"></td><td class="t">&nbsp;</td><td class="tr"></td></tr></table><table class="body"><tr><td class="l"></td><td class="c"><div class="dialog-pane-content"></div></td><td class="r"></td></tr></table>\n<table class="foot"><tr><td class="bl"></td><td class="b">&nbsp;</td><td class="br"></td></tr></table></div></div>'}}else{return{show:true,info:E,offsetX:L.w+15,offsetY:L.h/2-35,underlayMark:".wrapper",template:'<div class="tooltip"><div class="wrapper"><div class="arrow">&nbsp;</div><table class="head"><tr><td class="tl"></td><td class="t">&nbsp;</td><td class="tr"></td></tr></table><table class="body"><tr><td class="l"></td><td class="c"><div class="dialog-pane-content"></div></td><td class="r"></td></tr></table>\n<table class="foot"><tr><td class="bl"></td><td class="b">&nbsp;</td><td class="br"></td></tr></table></div></div>'}}};this.addObserver(this.getContextElement(),"onmouseover","ToolTip",function(D,C){var B=A(D,C);if(dojo.hasClass(C,"wide-tooltip")){B.template=B.template.replace(/class="/i,'class="wide-tooltip ');if(B.offsetX<0){B.offsetX-=134}}if(dojo.hasClass(C,"watch-tooltip")){B.template=B.template.replace(/class="/i,'class="watch-tooltip ');B.offsetY=-28}return B});this.addObserver(this.getContextElement(),"onmouseout","ToolTip",function(){return{show:false}})},addCommands:function(){this.addCommand("ToolTip","cox.behavior.ToolTipBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Redirect","stdlib.behavior.RedirectBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.about.AboutServicesController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.about.AboutServicesController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query(".filmstrip-content .panel"),"onclick","Track",function(C,B){var A=mojo.queryFirst("h2 a",B);return{mode:"track",params:{type:"event",options:{customLink:"service:"+(A.innerHTML).toLowerCase()}}}});this.addObserver(mojo.query(".filmstrip-component .panel img",this.getContextElement()),"onmouseleave","ToolTip",function(){return{show:false}});this.addObserver(mojo.query(".filmstrip-component .panel img",this.getContextElement()),"onmouseenter","ToolTip",function(B,A){var C=mojo.queryFirst(".tooltip-info",A.parentNode.parentNode);if(C){C=C.innerHTML}else{C=""}return{show:true,info:C,offsetX:138,offsetY:0,template:this.getController()._tooltipTemplate}});this.addObserver(".filmstrip-component .filmstrip-next .target, .filmstrip-component .filmstrip-prev div","onmouseover","UpdateClass",function(B,A){return{element:A.previousSibling,action:"add",cssClass:"hover"}});this.addObserver(".filmstrip-component .filmstrip-next .target, .filmstrip-component .filmstrip-prev div","onmouseout","UpdateClass",function(B,A){return{element:A.previousSibling,action:"remove",cssClass:"hover"}});this.addObserver(this,"onInit","SetInputLabel",function(){var A=mojo.queryFirst("#about-ourstory-services #residential-services input[name='zipcode']");if(!A){return }return{input:A,label:mojo.queryFirst("label",A.parentNode),show:true}});this.addObserver(this,"onInit","SetInputLabel",function(){var A=mojo.queryFirst("#about-ourstory-services #business-services input[name='zipcode']");if(!A){return }return{input:A,label:mojo.queryFirst("label",A.parentNode),show:true}});this.addObserver("#about-ourstory-services .location input[name='zipcode']","onfocus","SetInputLabel",function(B,A){return{input:A,label:mojo.queryFirst("label",A.parentNode),show:false}});this.addObserver("#about-ourstory-services .location input[name='zipcode']","onblur","SetInputLabel",function(B,A){return{input:A,label:mojo.queryFirst("label",A.parentNode),show:true}})},addCommands:function(){this.addCommand("ToolTip","cox.behavior.ToolTipBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("SetInputLabel","cox.behavior.interface.form.SetInputLabelBehavior");this.addCommand("Set","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){},_tooltipTemplate:'<div class="aboutservices-tooltip tooltip"><div class="wrapper"><div class="arrow">&nbsp;</div><table class="head"><tr><td class="tl"></td><td class="t">&nbsp;</td><td class="tr"></div></td></tr></table><table class="body"><tr><td class="l"></td><td class="c"><div class="dialog-pane-content"></div></td><td class="r"></td></tr></table>\n<table class="foot"><tr><td class="bl"></td><td class="b">&nbsp;</td><td class="br"></td></tr></table></div></div>'});dojo.provide("cox.controller.business.BusinessHomeController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.BusinessHomeController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query(".business-extras-view a"),"onclick","Track",function(B,A){return{mode:"track",params:{type:"event",options:{customLink:"find it fast:"+(A.title).toLowerCase()}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.business.BusinessIndustriesHealthcareController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.BusinessIndustriesHealthcareController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query(".toggle-element a"),"onclick","Track",function(B,A){return{mode:"track",params:{type:"event",options:{customLink:"products:"+(A.title).toLowerCase()}}}});this.addObserver(mojo.query(".business-extras-view a"),"onclick","Track",function(B,A){return{mode:"track",params:{type:"event",options:{customLink:"extras:"+A.title.toLowerCase()}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.business.BusinessPanelController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.BusinessPanelController",mojo.controller.Controller,{addObservers:function(){var A=mojo.query(".filmstrip-item",this.getContextElement());this.addObserver(A,"onmouseleave","UpdateCss",function(){return{element:A,action:"remove",cssClass:"active"}});this.addObserver(A,"onmouseenter","UpdateCss",function(C,B){return{element:B,action:"add",cssClass:"active"}});this.addObserver(A,"onclick","Redirect",function(C,B){var D=mojo.queryFirst("a",B);return{url:D.href,delay:0}})},addCommands:function(){this.addCommand("UpdateCss","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Redirect","stdlib.behavior.RedirectBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.business.BusinessVoiceManagerFeaturesController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.BusinessVoiceManagerFeaturesController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query(".business-extras-voicemanager a"),"onclick","Track",function(B,A){return{mode:"track",params:{type:"event",options:{customLink:"extras:"+(A.title).toLowerCase()}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.business.ExtrasForDemoController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.ExtrasForDemoController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query(".business-extras-voicemanager a"),"onclick","Track",function(B,A){return{mode:"track",params:{type:"event",options:{customLink:"extras:"+(A.title).toLowerCase()}}}});this.addObserver(mojo.query(".business-extras-finditfast a"),"onclick","Track",function(B,A){return{mode:"track",params:{type:"event",options:{customLink:"find it fast:"+(A.title).toLowerCase()}}}});this.addObserver(mojo.query(".im-considering-view a"),"onclick","Track",function(B,A){return{mode:"track",params:{type:"event",options:{customLink:"discuss my list:"+(A.title).toLowerCase()}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.business.ImConsideringController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.ImConsideringController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","InitConsideration");this.addObserver(mojo.query("#discuss-my-list"),"onclick","CheckSelected");this.addObserver(mojo.queryFirst("#discuss-my-list #btn-discuss-my-list"),"onclick","PreventDefaultEvent")},addCommands:function(){this.addCommand("InitConsideration","cox.behavior.business.InitKeepForConsiderationBehavior");this.addCommand("CheckSelected","cox.behavior.business.CheckCheckedBoxBehavior");this.addCommand("PreventDefaultEvent","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.business.LeadFormController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.LeadFormController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","PopulateFromWishlist",function(A){return{formElement:A}});this.addObserver(this,"onInit","Focus",function(A){return{target:mojo.queryFirst("input[type='text']",A)}});this.addObserver(this.getContextElement(),"onsubmit","PreventDefault");this.addObserver(this.getCommand("ValidateRules"),"onResponse","Submit",function(B,A){return{formSet:mojo.queryFirst(".leadForm")}});this.addObserver(this.getCommand("ValidateRules"),"execute","UpdateCss",function(){var A=mojo.queryFirst("#site-form-errors .mojoValidationError");if(A){A.scrollIntoView()}})},addCommands:function(){this.addCommand("UpdateCss","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Submit","stdlib.behavior.SubmitFormBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("ValidateRules","stdlib.command.ValidateRulesCommand");this.addCommand("PopulateFromWishlist","cox.behavior.business.PopulateFromWishlistBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("Focus","cox.behavior.FocusBehavior")},addIntercepts:function(){this.addIntercept("before","BlockProceed","ValidateRules",{targetElement:mojo.queryFirst("#site-form-errors"),rules:"cox.rules.business.LeadRules",formSet:mojo.queryFirst(".leadForm")});this.addIntercept("around","PreventDefault","BlockProceed",function(){var A=mojo.queryFirst("#site-form-errors .mojoValidationError");return{condition:!!A}})}});dojo.provide("cox.controller.ecomm.ByobController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.ByobController",mojo.controller.Controller,{params:{isAnimating:{defaultValue:false,type:Boolean},currentPane:{},needPaneSwitch:{defaultValue:false,type:Boolean},displayBlockSelectors:{defaultValue:[],type:Array},displayNoneSelectors:{defaultValue:[],type:Array}},addObservers:function(){var getAccordionPane=function(el){while(el=el.parentNode){if(dojo.hasClass(el,"ecomm-accordion-pane")){return el}}return null};var getIcon=function(pane){return mojo.queryFirst(".ecomm-accordion-icon"+pane.id.replace("pane",""))};this.addObserver(this,"onInit","UpdateClass",function(context,caller,controller){var initialPane=mojo.queryFirst(".open-pane",context);if(initialPane.id!="pane-intro"){controller.setValue("needPaneSwitch",true);controller.setValue("currentPane",mojo.queryFirst(".open-pane",context))}});this.addObserver("a.ecomm-accordion-popsicle","onclick","PreventDefault");this.addObserver("a.ecomm-accordion-popsicle","onclick","ByobAccordion",function(context,caller,controller){var lastOpenPane=mojo.query(".open-pane",context).pop();var pane=getAccordionPane(caller);dojo.addClass(pane,"active-pane");var needRollup=mojo.queryFirst(".toggle-open",lastOpenPane);if(needRollup){controller.setValue("needPaneSwitch",true)}controller.setValue("currentPane",pane);if(!needRollup){return{chosenPane:pane,from:0,to:620}}});this.addObserver("a.ecomm-accordion-remove","onclick","PreventDefault");this.addObserver("a.ecomm-accordion-remove","onclick","UpdateClass",function(context,caller,controller){var pane=getAccordionPane(caller);return{element:mojo.query(".selected",pane),action:"remove",cssClass:"selected"}});this.addObserver("a.ecomm-accordion-remove","onclick","ByobAccordion",function(context,caller,controller){var pane=getAccordionPane(caller);dojo.removeClass(pane,"active-pane");var killedIcon=getIcon(pane);dojo.removeClass(killedIcon,"phantom-icon");dojo.removeClass(killedIcon,"icon-active");var lastActivePane=mojo.query(".active-pane",context).pop();var needRollup=mojo.queryFirst(".toggle-open",pane);if(needRollup){controller.setValue("needPaneSwitch",true)}controller.setValue("currentPane",lastActivePane);if(!needRollup){return{chosenPane:lastActivePane,from:0,to:620}}});this.addObserver(this.getConfig("params").currentPane,"onChange","PublishMessage",function(context,caller,controller){var oldPane=mojo.query(".open-pane",context).pop();if(!mojo.queryFirst(".selected",oldPane)&&(oldPane.id!="pane-intro")){dojo.removeClass(oldPane,"active-pane")}if(controller.getValue("needPaneSwitch")){var enabledToggles=(oldPane.id!="pane-intro")?["ecomm-accordion-overview","ecomm-accordion-legend"]:[];return{topic:"/toggle/force",message:{toggle:enabledToggles}}}else{return{topic:"/toggle/byobNoPaneSwitchNeeded"}}});this.addObserver(this.getConfig("params").currentPane,"onChange","UpdateClass",function(context,caller,controller){var pane=caller.getValue("currentPane");console.log("pane is: ",pane);var icons=mojo.query(".ecomm-accordion-icons li.icon-phantom",context);var newPhantom=getIcon(pane);if(newPhantom){icons.push(newPhantom)}return{element:icons,action:"toggle",cssClass:"icon-phantom"}});this.addObserver(mojo.Messaging.getTopic("/toggle/forcedChangeCompleted"),"onPublish","ByobAccordion",function(context,caller,controller){if(controller.getValue("needPaneSwitch")&&dojo.hasClass(caller.getMessage().context,"ecomm-accordion-wrapper-bd")){controller.setValue("needPaneSwitch",false);return{chosenPane:controller.getValue("currentPane"),from:0,to:620}}});this.addObserver(this.getConfig("params").currentPane,"onChange","UpdateClass",function(context,caller,controller){return{element:context,action:(caller.getValue("currentPane").id!="pane-intro")?"add":"remove",cssClass:"ecomm-byob-nonblank"}});this.addObserver(".ecomm-accordion-pane table.ecomm-accordion-comparison thead a","onclick","PreventDefault");this.addObserver(".ecomm-accordion-pane table.ecomm-accordion-comparison thead a","onclick","UpdateClass",function(context,caller,controller){var pane=getAccordionPane(caller);var oldActiveLevel=mojo.query(".selected",pane);oldActiveLevel.push(caller);dojo.addClass(getIcon(pane),"icon-active");return{element:oldActiveLevel,action:"toggle",cssClass:"selected"}});this.addObserver(".ecomm-accordion-pane table.ecomm-accordion-comparison thead a","onclick","UpdateClass",function(context,caller,controller){window.eval(caller.href.split("javascript:")[1])});this.addObserver(".wireless-select-plan input[name=selectAPlan]","onclick","SwapElementDisplay",function(context,caller,controller){switch(caller.id.match(/(.*)Plan/)[1]){case"family":controller.setValue("displayBlockSelectors",["div.wireless-family-plans"]);controller.setValue("displayNoneSelectors",["div.wireless-individual-plans"]);break;case"individual":controller.setValue("displayBlockSelectors",["div.wireless-individual-plans"]);controller.setValue("displayNoneSelectors",["div.wireless-family-plans"]);break}})},addCommands:function(){this.addCommand("ByobAccordion","cox.behavior.ecomm.ByobAccordion");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("PublishMessage","stdlib.behavior.MessagingBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("SwapElementDisplay","cox.behavior.SwapElementDisplay")},addIntercepts:function(){this.addIntercept("around","ByobAccordion","BlockProceed",function(C,B,A){return{condition:!mojo.queryFirst(".animating")}})}});dojo.provide("cox.controller.ecomm.CalendarController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.CalendarController",mojo.controller.Controller,{params:{pageIndex:{required:false,defaultValue:0,type:Number},slotIndex:{required:false,defaultValue:-1,type:Number},slots:{required:false,defaultValue:[],type:Array},oldSlots:{required:false,defaultValue:[],type:Array}},addObservers:function(){var B=mojo.query(".weeks",this.getContextElement());var H=mojo.query(".calendar-action");var F=mojo.query("#installation-date-choices .datechoice p");var L=mojo.queryFirst(".ecomm-subnav .datechoice p").textContent||mojo.queryFirst(".ecomm-subnav .datechoice p").innerText;var E=false;var D;this.addObserver(this,"onInit","UpdateClass",function(P,O,N){var M=mojo.query(".slot-0-chosen, .slot-1-chosen",P);N.params.slots._value=M;N.params.oldSlots._value=M});var K=this;var G=function(){K.addObserver(H,"onclick","DisplayPopup",function(P,O,N){var M=Math.min(N.getValue("slots").length,H.indexOf(O));N.setValue("slotIndex",M);return{element:P,action:"add",cssClass:"calendar-component-active"}});K.addObserver(H,"onclick","PreventDefault")};this.addObserver(mojo.Messaging.getTopic("/calendar/update"),"onPublish","UpdateClass",function(){H=mojo.query(".calendar-action");G()});G();this.addObserver(mojo.Messaging.getTopic("/throbber"),"onPublish","UpdateClass",function(O,N,M){H=mojo.query(".calendar-action");G()});this.addObserver(".close-button a, .calendar-buttons .cancel-button","onclick","UpdateClass",function(O,N,M){if(E){dojo.forEach(mojo.query(".ecomm-subnav .datechoice p",O),function(Q,P){var R=mojo.queryFirst("#installation-date-choices .choice-"+P+" .choice-content p").innerHTML;Q.innerHTML=R});dojo.forEach(M.getValue("oldSlots"),function(Q,P){dojo.addClass(Q,"chosen slot-"+P+"-chosen");console.log(Q,"\tchosen slot-"+P+"-chosen")})}else{M.setValue("slots",M.getValue("oldSlots"));M.setValue("slotIndex",-1);dojo.forEach(mojo.query(".ecomm-subnav .datechoice p",O),function(Q,P){Q.innerHTML=L});dojo.forEach(M.getValue("slots"),function(Q,P){dojo.addClass(Q,"chosen slot-"+P+"-chosen")});dojo.forEach(mojo.query(".ecomm-subnav .clear-choice-button a",O),function(R,Q){var P=mojo.queryFirst("span",R);if(P){P.style.display="none"}R.style.display="none"});return{element:mojo.query(".slot-0-chosen, .slot-1-chosen"),action:"remove",cssClass:["chosen","slot-0-chosen","slot-1-chosen"]}}});this.addObserver(".close-button a, .calendar-buttons .cancel-button, .calendar-buttons .finish-button","onclick","DisplayPopup",function(O,N,M){return{element:O,action:"remove",cssClass:"calendar-component-active"}});this.addObserver(".calendar-buttons .finish-button","onclick","UpdateClass",function(O,N,M){mojo.queryFirst("#installation-date").style.display="none";mojo.queryFirst("#installation-date-choices").style.display="block";if(H.length==3){H.shift()}M.setValue("oldSlots",M.getValue("slots"));dojo.forEach(M.getValue("slots"),function(T,R){var Q=T;while(Q&&!dojo.hasClass(Q,"day")){Q=Q.parentNode}if(!Q){return }dow=mojo.queryFirst("h5",Q);Q=mojo.queryFirst("h4",Q);var U=((dow.textContent||dow.innerText)+", "+(Q.textContent||Q.innerText)+"<br/>"+(T.textContent||T.innerText)).replace(/\s+/g," ");F[R].innerHTML=U;var S=((dow.textContent||dow.innerText)+", "+(Q.textContent||Q.innerText)+" @ "+(T.textContent||T.innerText)).replace(/\s+/g," ");var P=mojo.queryFirst("input",F[R].parentNode.parentNode);if(P){P.value=S}})});this.addObserver(".close-button a","onclick","PreventDefault");this.addObserver(".choose-time","onclick","UpdateClass",function(M,O,Q){var S=Q.getValue("slotIndex");var T=Array.apply(Array,Q.getValue("slots"));var W=mojo.query(".ecomm-subnav .datechoice p",this.getContextElement());T[S]=O;if(T.length<=2){var N=T[S];var V=T[S];while(V&&!dojo.hasClass(V,"day")){V=V.parentNode}if(!V){return }var X=mojo.queryFirst("h5",V);var V=mojo.queryFirst("h4",V);var P=((X.textContent||X.innerText)+", "+(V.textContent||V.innerText)+"<br/>"+(N.textContent||N.innerText)).replace(/\s+/g," ");W[S].innerHTML=P;var U="slot-"+S+"-chosen";var R=mojo.query("."+U,M);R.push(O);Q.setValue("slots",T);Q.setValue("slotIndex",S+1);if(!dojo.hasClass(O,"chosen")){return{element:R,action:"toggle",cssClass:["chosen",U]}}}});this.addObserver(".choose-time","onclick","PreventDefault");var J=mojo.queryFirst(".finish-button",this.getContextElement());var I=mojo.query(".ecomm-subnav .clear-choice-button a",this.getContextElement());var C=mojo.query("#installation-date-choices .edit-choice-button a");var A=function(P,O,M){var N=M.getValue("slotIndex");var Q=M.getValue("slots");var R=function(T,U){if(!T){return }var S=mojo.queryFirst("span",T);if(S){S.style.display=U?"":"none"}T.style.display=U?"":"none"};R(J,(Q.length==2));R(I[N],Q[N]!=null)};this.addObserver(this.getConfig("params").slots,"onChange","UpdateClass",A);this.addObserver(this.getConfig("params").slotIndex,"onChange","UpdateClass",A);this.addObserver(I,"onclick","UpdateClass",function(M,N,Q){var O=N;while(O&&!dojo.hasClass(O,"datechoice")){O=O.parentNode}var V=mojo.queryFirst("p",O);V.innerHTML=L;var S=Q.getValue("slotIndex");var P=O.className.match(/choice-(\d*)/)[1];var T=Array.apply(Array,Q.getValue("slots"));T[P]=null;Q.setValue("slots",T);Q.setValue("slotIndex",parseInt(P));var U="slot-"+P+"-chosen";var R=mojo.queryFirst("span",J);if(R){R.style.display="none"}J.style.display="none";return{element:mojo.query("."+U),action:"toggle",cssClass:["chosen",U]}});this.addObserver(C,"onclick","UpdateClass",function(N,O,R){E=true;var V=O;while(V&&!dojo.hasClass(V,"datechoice")){V=V.parentNode}var Q=V.className.match(/choice-(\d*)/)[1];var M=I[Q];var P=M;while(P&&!dojo.hasClass(P,"datechoice")){P=P.parentNode}var X=mojo.queryFirst("p",P);X.innerHTML=L;var T=R.getValue("slotIndex");var U=Array.apply(Array,R.getValue("slots"));U[Q]=null;R.setValue("slots",U);R.setValue("slotIndex",parseInt(Q));var W="slot-"+Q+"-chosen";var S=mojo.queryFirst("span",J);if(S){S.style.display="none"}J.style.display="none";return{element:mojo.query("."+W),action:"toggle",cssClass:["chosen",W]}});this.addObserver(I,"onclick","PreventDefault");this.addObserver(C,"onclick","PreventDefault");this.addObserver(".calendar-buttons a","onclick","PreventDefault");this.addObserver(".next-weeks-button a","onclick","UpdateClass",function(P,N){var O=B;var M=this.getController().getValue("pageIndex");M++;if(M<B.length){this.getController().setValue("pageIndex",M)}});this.addObserver(".next-weeks-button a","onclick","PreventDefault");this.addObserver(".prev-weeks-button a","onclick","UpdateClass",function(P,N){var O=B;var M=this.getController().getValue("pageIndex");M--;if(M>=0){this.getController().setValue("pageIndex",M)}});this.addObserver(".prev-weeks-button a","onclick","PreventDefault");this.addObserver(this.getConfig("params").pageIndex,"onChange","UpdateClass",function(O,N,M){return{element:mojo.query(".next-weeks-button",O),action:(N.getValue()>=B.length-1)?"add":"remove",cssClass:"next-weeks-button-disabled"}});this.addObserver(this.getConfig("params").pageIndex,"onChange","UpdateClass",function(O,N,M){return{element:mojo.query(".prev-weeks-button",O),action:(N.getValue()<=0)?"add":"remove",cssClass:"prev-weeks-button-disabled"}});this.addObserver(this.getConfig("params").pageIndex,"onChange","Tween",function(O,N,M){return{x:(-1*B[N.getValue()].offsetLeft),y:(-1*B[N.getValue()].offsetTop),element:mojo.query(".weeks-container",O),duration:1000}})},addCommands:function(){this.addCommand("DisplayPopup","cox.behavior.ecomm.PopupDisplayBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Tween","stdlib.behavior.TweenBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("ChooseTime","cox.behavior.ecomm.CalendarScheduleBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.CarouselUpdatesPhoneName");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.CarouselUpdatesPhoneName",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","UpdateCSS",function(D,C,A){var B=mojo.query(".carousel-phone-item");this.getContextElement().innerHTML=B[0].innerHTML});this.addObserver(mojo.Messaging.getTopic("/togglefilmstrip/indexChanged"),"onPublish","UpdateCSS",function(E,D,A){var F=D.getMessage();var B=mojo.query(".carousel-phone-item");var C=mojo.query(".carousel-current-phone");dojo.forEach(C,function(H,G){H.innerHTML=B[F.selectedIndex].innerHTML})})},addCommands:function(){this.addCommand("UpdateCSS","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.DifferentAddressToggle");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.DifferentAddressToggle",mojo.controller.Controller,{params:{selectors:{required:false,defaultValue:[],type:Array}},addObservers:function(){this.addObserver(mojo.query(".calls-different-address"),"onclick","UpdateCSS",function(C,B,A){return{element:mojo.queryFirst(".different-address"),action:"add",cssClass:"different-address-show"}})},addCommands:function(){this.addCommand("UpdateCSS","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.DisableSiblingField");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.DisableSiblingField",mojo.controller.Controller,{addObservers:function(){var A=mojo.query(".disable-sibling-child",this.getContextElement());this.addObserver(A,"onkeyup","UpdateCSS",function(D,C,B){if(C.value==""){dojo.forEach(A,function(F,E){F.disabled=false});C.focus()}else{dojo.forEach(A,function(F,E){F.disabled=true});C.disabled=false;C.focus()}})},addCommands:function(){this.addCommand("UpdateCSS","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.FancyPrintController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.FancyPrintController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".fancy-print","onclick","PreventDefault",function(B,C,F){var J=mojo.queryFirst(".popup-trigger-small-content .header h3");var A=mojo.queryFirst(".popup-trigger-small-content .main div:first-child");var E=mojo.queryFirst(".ecomm-5col-module:last-child");var L=dojo.create("div",{id:"offer-details",className:"ecomm-5col-module"},E,"after");dojo.create("div",{className:"hd"},L);var D=dojo.create("div",{className:"bd order-header"},L);dojo.create("h2",{innerHTML:J.innerHTML},D);dojo.create("div",{className:"bd",innerHTML:A.innerHTML},L);dojo.create("div",{className:"ft"},L);for(var H=0;H<dojo.doc.styleSheets.length;H++){var I=dojo.doc.styleSheets.item(H);if(I.href){if((dummy=I.href.match(/print\./))){I.disabled=true}if((dummy=I.href.match(/all\./))||(dummy=I.href.match(/ecomm\./))){if(dojo.isIE<9){if(I.title=="smt_added"){continue}I.disabled=true;var K=document.getElementsByTagName("head")[0];var G=document.createElement("link");G.setAttribute("title","smt_added");G.setAttribute("media","screen,print");G.setAttribute("rel","stylesheet");G.setAttribute("type","text/css");G.setAttribute("href",I.href);K.appendChild(G)}else{I.media.appendMedium("print")}}}}window.print();setTimeout(function(O){for(var M=0;M<dojo.doc.styleSheets.length;M++){var N=dojo.doc.styleSheets.item(M);if(N.href){if((dummy=N.href.match(/print\./))){N.disabled=false}if((dummy=N.href.match(/all\./))||(dummy=N.href.match(/ecomm\./))){if(dojo.isIE<9){N.disabled=false;dojo.query("link[title='smt_added']").forEach(dojo.destroy)}else{if(N.media.mediaText.match(/print/)){N.media.deleteMedium("print")}}}}}dojo.destroy(L)},1000)})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.FlyoutController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.FlyoutController",mojo.controller.Controller,{params:{selectors:{required:false,defaultValue:[],type:Array}},addObservers:function(){this.addObserver(".find-bundles-btn","onclick","PreventDefault");this.addObserver(mojo.query(".find-bundles-btn"),"onclick","UpdateCSS",function(C,B,A){return{element:mojo.queryFirst(".bubble-blue"),action:"add",cssClass:"bubble-special-offers-noshow"}});this.addObserver(".submit-btn","onclick","PreventDefault");this.addObserver(mojo.query(".submit-btn"),"onclick","UpdateCSS",function(C,B,A){return{element:mojo.queryFirst(".bubble-blue"),action:"add",cssClass:"bubble-special-offers-noshow"}})},addCommands:function(){this.addCommand("UpdateCSS","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.PanesSwitcherController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.PanesSwitcherController",mojo.controller.Controller,{params:{selectedIndex:{required:false,defaultValue:0,type:Number}},addObservers:function(){this.addObserver("> .panes-nav select.panes-select","onchange","UpdateClass",function(D,C){this.getController().setValue("selectedIndex",C.selectedIndex)});var B=function(E,C){var F=mojo.query("> .panes-nav input.panes-select, > .panes-nav .panes-select input",E);for(var D=0;D<F.length;D++){if(F[D].checked){this.getController().setValue("selectedIndex",D);break}}};this.addObserver(mojo.query("> .panes-nav input.panes-select, > .panes-nav .panes-select input",this.getContextElement()),"onchange","UpdateClass",B);this.addObserver(mojo.query("> .panes-nav input.panes-select, > .panes-nav .panes-select input",this.getContextElement()),"onclick","UpdateClass",B);var A=function(E){if(typeof E.length=="undefined"){E=[E]}var D=[];dojo.forEach(E,function(G){var F=mojo.query("a.pane-delegate",G);if(F.length){D.push(F)}});D=[].concat.apply([],D);var C=dojo.filter(dojo.map(D,function(F){return mojo.queryFirst(F.hash)}),function(F){return F});return C};this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(E,C){var D=mojo.query("> .panes-content > .pane-content",E);dojo.forEach(A(D),function(F){dojo.addClass(F,"panes-hide")});return{element:D,action:"remove",cssClass:"pane-selected"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(E,C){var D=mojo.query("> .panes-content > .pane-content",E)[C.getValue()];dojo.forEach(A(D),function(F){dojo.removeClass(F,"panes-hide")});return{element:D,action:"add",cssClass:"pane-selected"}});this.addObserver(this,"onInit","UpdateClass",function(F,D){var C=mojo.queryFirst("> .panes-nav select.panes-select",F);if(C){this.getController().setValue("selectedIndex",C.selectedIndex)}var G=mojo.query("> .panes-nav input.panes-select, > .panes-nav .panes-select input",F);if(G){for(var E=0;E<G.length;E++){if(G[E].checked){this.getController().setValue("selectedIndex",E);break}}}return{element:F,action:"add",cssClass:"panes-switcher-active"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","PublishMessage",function(E,C){var D=mojo.query("> .panes-content > .pane-content",E)[C.getValue()];return{topic:"/paneswitcher/changed",message:{context:D}}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PublishMessage","stdlib.behavior.MessagingBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.PanesToggleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.PanesToggleController",mojo.controller.Controller,{params:{selectedIndex:{required:false,defaultValue:0,type:Number}},addObservers:function(){this.addObserver(this.getContextElement(),"onclick","UpdateClass",function(C,B){var D=(B.type=="radio")?"Yes":"";var A=(B.type=="radio")?"No":"";if((B.type=="checkbox"&&B.checked)||(B.type=="radio"&&B.value=="yes")){return{element:mojo.queryFirst("#"+C.id.replace(":","_").replace(D,"")+"-toggled-pane"),action:"add",cssClass:"toggled-pane-show"}}else{if((B.type=="checkbox"&&!B.checked)||(B.type=="radio"&&B.value=="no")){return{element:mojo.queryFirst("#"+C.id.replace(":","_").replace(A,"")+"-toggled-pane"),action:"remove",cssClass:"toggled-pane-show"}}else{if(B.type=="radio"){dojo.query(".toggled-pane-show").removeClass("toggled-pane-show");return{element:mojo.queryFirst("#"+C.id.replace(":","_").replace(A,"")+"-toggled-pane"),action:"add",cssClass:"toggled-pane-show"}}else{if(C.id=="toggle-all-open"){dojo.query(".toggled-pane").addClass("toggled-pane-show");dojo.query(C).addClass("pane-toggle-hide");dojo.query("#toggle-all-close",C.parentNode).removeClass("pane-toggle-hide");dojo.query(".pane-toggle:not([id*=bottom]):not([id*=all])").addClass("pane-toggle-open")}else{if(C.id=="toggle-all-close"){dojo.query(".toggled-pane-show").removeClass("toggled-pane-show");dojo.query(C).addClass("pane-toggle-hide");dojo.query("#toggle-all-open",C.parentNode).removeClass("pane-toggle-hide");dojo.query(".pane-toggle-open:not([id*=bottom]):not([id*=all])").removeClass("pane-toggle-open")}else{var F;var E;if(dojo.hasClass(mojo.queryFirst("#"+C.id.replace(":","_").replace("-bottom","").replace("-outside","")+"-toggled-pane"),"toggled-pane-show")){F="remove";E=-1;if(C.id.match("-bottom")){dojo.query("#"+C.id.replace(":","_").replace("-bottom","")).removeClass("pane-toggle-open");dojo.query("#"+C.id.replace(":","_").replace("-bottom","")+"-outside").removeClass("pane-toggle-open")}else{if(C.id.match("-outside")){dojo.query("#"+C.id.replace(":","_").replace("-outside","")).removeClass("pane-toggle-open");dojo.query("#"+C.id.replace(":","_").replace("-outside","")+"-outside").removeClass("pane-toggle-open")}else{dojo.query("#"+C.id.replace(":","_")).removeClass("pane-toggle-open");dojo.query("#"+C.id.replace(":","_")+"-outside").removeClass("pane-toggle-open")}}}else{F="add";E=1;dojo.query("#"+C.id.replace(":","_").replace("-bottom","").replace("-outside","")).addClass("pane-toggle-open");dojo.query("#"+C.id.replace(":","_").replace("-bottom","").replace("-outside","")+"-outside").addClass("pane-toggle-open")}if(dojo.query(".toggled-pane").length==dojo.query(".toggled-pane-show").length+E){dojo.query("#toggle-all-open").addClass("pane-toggle-hide");dojo.query("#toggle-all-close").removeClass("pane-toggle-hide")}else{dojo.query("#toggle-all-open").removeClass("pane-toggle-hide");dojo.query("#toggle-all-close").addClass("pane-toggle-hide")}return{element:mojo.queryFirst("#"+C.id.replace(":","_").replace("-bottom","").replace("-outside","")+"-toggled-pane"),action:F,cssClass:"toggled-pane-show"}}}}}}});this.addObserver(this,"onInit","UpdateClass",function(D,C,A){var E=(D.type=="radio")?"Yes":"";var B=(D.type=="radio")?"No":"";if((D.type=="checkbox"&&D.checked)||(D.type=="radio"&&D.value=="yes"&&D.checked)){return{element:mojo.queryFirst("#"+D.id.replace(":","_").replace(E,"")+"-toggled-pane"),action:"add",cssClass:"toggled-pane-show"}}else{if((D.type=="checkbox"&&!D.checked)||(D.type=="radio"&&D.value=="no"&&D.checked)){return{element:mojo.queryFirst("#"+D.id.replace(":","_").replace(B,"")+"-toggled-pane"),action:"remove",cssClass:"toggled-pane-show"}}else{if(D.type=="radio"){if(D.checked){return{element:mojo.queryFirst("#"+D.id.replace(":","_").replace(B,"")+"-toggled-pane"),action:"add",cssClass:"toggled-pane-show"}}}else{dojo.query(".toggled-pane-show").forEach(function(F){dojo.query("#"+F.id.replace("-toggled-pane","")).addClass("pane-toggle-open");dojo.query("#"+F.id.replace("-toggled-pane","")+"-outside").addClass("pane-toggle-open")});if(dojo.query(".toggled-pane").length==dojo.query(".toggled-pane-show").length){dojo.query("#toggle-all-open").addClass("pane-toggle-hide");dojo.query("#toggle-all-close").removeClass("pane-toggle-hide")}else{dojo.query("#toggle-all-open").removeClass("pane-toggle-hide");dojo.query("#toggle-all-close").addClass("pane-toggle-hide")}}}}});this.addObserver(this.getContextElement(),"onclick","UpdateClass",function(C,B){var D=(B.type=="radio")?"Yes":"";var A=(B.type=="radio")?"No":"";if((B.type=="checkbox"&&B.checked)||(B.type=="radio"&&B.value=="yes")){return{element:mojo.queryFirst("#"+C.id.replace(":","_").replace(D,"")+"-toggled-pane-alt"),action:"remove",cssClass:"toggled-pane-show"}}else{if((B.type=="checkbox"&&!B.checked)||(B.type=="radio"&&B.value=="no")){return{element:mojo.queryFirst("#"+C.id.replace(":","_").replace(A,"")+"-toggled-pane-alt"),action:"add",cssClass:"toggled-pane-show"}}}});this.addObserver(this,"onInit","UpdateClass",function(D,C,A){var E=(D.type=="radio")?"Yes":"";var B=(D.type=="radio")?"No":"";if((D.type=="checkbox"&&D.checked)||(D.type=="radio"&&D.value=="yes"&&D.checked)){return{element:mojo.queryFirst("#"+D.id.replace(":","_").replace(E,"")+"-toggled-pane-alt"),action:"remove",cssClass:"toggled-pane-show"}}else{if((D.type=="checkbox"&&!D.checked)||(D.type=="radio"&&D.value=="no"&&D.checked)){return{element:mojo.queryFirst("#"+D.id.replace(":","_").replace(B,"")+"-toggled-pane-alt"),action:"add",cssClass:"toggled-pane-show"}}}});this.addObserver(this.getContextElement(),"onclick","UpdateFormField",function(B,A){var D=mojo.queryFirst(".toggle-form-field",B);var C=mojo.queryFirst("input",D);if(C){if(dojo.hasClass(mojo.queryFirst("#"+B.id.replace(":","_").replace("-bottom","").replace("-outside","")+"-toggled-pane"),"toggled-pane-show")){return{formObj:B,fields:[{name:C.name,value:"true"}]}}else{return{formObj:B,fields:[{name:C.name,value:"false"}]}}}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("UpdateFormField","stdlib.behavior.UpdateFormFieldBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.PopupDisplayController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.PopupDisplayController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query(".popup-trigger"),"onclick","PreventDefault");this.addObserver(mojo.query(".popup-trigger"),"onclick","DisplayPopup",function(C,B,A){return{element:C,action:"add",cssClass:"ecomm-popup-active"}});this.addObserver(this,"onInit","DisplayPopup",function(C,B,A){if(dojo.hasClass(C,"ecomm-popup-pending")){return{element:C,action:"add",cssClass:"ecomm-popup-active"}}});this.addObserver(".close-button","onclick","PreventDefault");this.addObserver(".close-button","onclick","DisplayPopup",function(C,B,A){return{element:C,action:"remove",cssClass:"ecomm-popup-active"}});this.addObserver(".cancel-button","onclick","PreventDefault");this.addObserver(".cancel-button","onclick","DisplayPopup",function(C,B,A){return{element:C,action:"remove",cssClass:"ecomm-popup-active"}});this.addObserver(".back-button","onclick","PreventDefault");this.addObserver(".back-button","onclick","DisplayPopup",function(C,B,A){return{element:C,action:"remove",cssClass:"ecomm-popup-active"}})},addCommands:function(){this.addCommand("DisplayPopup","cox.behavior.ecomm.PopupDisplayBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.PromoCodeModuleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.PromoCodeModuleController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.queryFirst(".enter-code-link",this.getContextElement()),"onclick","PreventDefault");this.addObserver(mojo.queryFirst("#ctl00_ContentPlaceHolder1_PromoCodeControl_PromoCode",this.getContextElement()),"onkeyup","PreventDefault");this.addObserver(mojo.queryFirst(".submit-btn",this.getContextElement()),"onclick","PreventDefault");this.addObserver(mojo.queryFirst(".btn-grey",this.getContextElement()),"onclick","PreventDefault");this.addObserver(mojo.queryFirst(".enter-code-link",this.getContextElement()),"onclick","UpdateCSS",function(C,B,A){return{element:mojo.queryFirst(".promo-code-entry",C),action:"add",cssClass:"promo-code-entry-show"}});this.addObserver(mojo.queryFirst(".enter-code-link",this.getContextElement()),"onclick","UpdateCSS",function(C,B,A){return{element:B,action:"add",cssClass:"enter-code-link-hide"}});this.addObserver(mojo.queryFirst(".enter-code-link",this.getContextElement()),"onclick","SendFocus",function(C,B,A){return{element:B,target:mojo.queryFirst("#ctl00_ContentPlaceHolder1_PromoCodeControl_PromoCode")}});this.addObserver(mojo.queryFirst("#ctl00_ContentPlaceHolder1_PromoCodeControl_PromoCode",this.getContextElement()),"onkeyup","SubmitOnEnter",function(C,B,A){return{element:B}});this.addObserver(mojo.query(".submit-btn",this.getContextElement()),"onclick","ValidatePromoCode",function(C,B,A){return{errorField:mojo.queryFirst(".error",C),element:mojo.queryFirst("#ecomm-promo-code")}});this.addObserver(mojo.queryFirst(".btn-grey",this.getContextElement()),"onclick","UpdateCSS",function(C,B,A){return{element:mojo.queryFirst(".promo-code-entry"),action:"remove",cssClass:"promo-code-entry-show"}});this.addObserver(mojo.queryFirst(".btn-grey",this.getContextElement()),"onclick","UpdateCSS",function(C,B,A){return{element:mojo.queryFirst(".enter-code-link"),action:"remove",cssClass:"enter-code-link-hide"}})},addCommands:function(){this.addCommand("UpdateCSS","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("SendFocus","cox.behavior.ecomm.SendFocusBehavior");this.addCommand("SubmitOnEnter","cox.behavior.ecomm.SubmitOnEnterBehavior");this.addCommand("ValidatePromoCode","cox.behavior.ecomm.ValidatePromoCodeBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.ShowMeOffersForModuleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.ShowMeOffersForModuleController",mojo.controller.Controller,{params:{selectors:{required:false,defaultValue:[],type:Array}},addObservers:function(){this.addObserver(".signme-link","onclick","PreventDefault");this.addObserver(".signme-link","onclick","UpdateCSS",function(C,B,A){return{element:mojo.query(".cox-user-login",C),action:"add",cssClass:"cox-user-login-show"}});this.addObserver(".signme-link","onclick","UpdateCSS",function(C,B,A){return{element:mojo.query(".cox-user-address",C),action:"add",cssClass:"cox-user-address-hide"}});this.addObserver(".btn-grey","onclick","UpdateCSS",function(C,B,A){return{element:mojo.query(".cox-user-login",C),action:"remove",cssClass:"cox-user-login-show"}});this.addObserver(".btn-grey","onclick","UpdateCSS",function(C,B,A){return{element:mojo.query(".cox-user-address",C),action:"remove",cssClass:"cox-user-address-hide"}});this.addObserver(".submit-btn","onclick","UpdateCSS",function(C,B,A){return{element:mojo.query(".cox-user-logged-in-noshow",C.parentNode),action:"add",cssClass:"cox-user-login-show"}});this.addObserver(".submit-btn","onclick","UpdateCSS",function(C,B,A){return{element:mojo.query(".show-me-offers-for-module",C.parentNode),action:"add",cssClass:"show-me-offers-for-module-hide"}});this.addObserver(".signout-link","onclick","UpdateCSS",function(C,B,A){return{element:mojo.query(".cox-user-logged-in-noshow",C.parentNode),action:"remove",cssClass:"cox-user-login-show"}});this.addObserver(".signout-link","onclick","UpdateCSS",function(C,B,A){return{element:mojo.query(".show-me-offers-for-module",C.parentNode),action:"remove",cssClass:"show-me-offers-for-module-hide"}});this.addObserver(".find-bundles-btn","onclick","UpdateCSS",function(C,B,A){return{element:mojo.query(".cox-user-not-logged-in-noshow",C.parentNode),action:"add",cssClass:"cox-user-login-show"}});this.addObserver(".find-bundles-btn","onclick","UpdateCSS",function(C,B,A){return{element:mojo.query(".show-me-offers-for-module",C.parentNode),action:"add",cssClass:"show-me-offers-for-module-hide"}});this.addObserver(".signmein-link","onclick","PreventDefault");this.addObserver(".signmein-link","onclick","UpdateCSS",function(C,B,A){return{element:mojo.query(".cox-user-login",C),action:"add",cssClass:"cox-user-login-show"}});this.addObserver(".signmein-link","onclick","UpdateCSS",function(C,B,A){return{element:mojo.query(".cox-user-address",C),action:"add",cssClass:"cox-user-address-hide"}});this.addObserver(".signmein-link","onclick","UpdateCSS",function(C,B,A){return{element:mojo.query(".show-me-offers-for-module",C),action:"remove",cssClass:"show-me-offers-for-module-hide"}});this.addObserver(".signmein-link","onclick","UpdateCSS",function(C,B,A){return{element:mojo.query(".cox-user-not-logged-in-noshow",C),action:"remove",cssClass:"cox-user-login-show"}})},addCommands:function(){this.addCommand("UpdateCSS","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.SmallPopupDisplayController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.SmallPopupDisplayController",mojo.controller.Controller,{addObservers:function(){var B=function(C,D,H){var L=mojo.queryFirst(".popup-trigger-small-content",(D.parentNode.tagName=="P"||D.parentNode.tagName=="LABEL")?D.parentNode.parentNode:D.parentNode);if(L){C.innerHTML=L.innerHTML;var J=mojo.query(".command-link, .continue-button",L);var K=mojo.query(".command-link, .continue-button",C);if(J){for(var F=0;F<J.length;F++){if(J[F].onclick){K[F].onclick=J[F].onclick;var I=K[F].href;if(I.indexOf("?")==-1){K[F].href=K[F].href+"?cox"}}}}}if(dojo.hasClass(D,"iframe-toc")&&D.hash){var E=mojo.queryFirst("iframe",C);var G=function(){window.setTimeout(function(){dojo.addClass(E.parentNode,"iframe-toc-wrapper-active")},350)};E.onload=G;E.onreadystatechange=function(){if(E.readyState=="complete"){G()}};if(E){E.src=D.href+"---ALONE"}}return{element:C,action:"add",cssClass:"ecomm-popup-active"}};var A=mojo.query(".popup-trigger-small");this.addObserver(A,"onclick","PreventDefault");this.addObserver(A,"onclick","DisplayPopup",B);this.addObserver(mojo.Messaging.getTopic("/throbber"),"onPublish","UpdateClass",function(F,E,D){var C=mojo.query(".popup-trigger-small");C.forEach(function(G){if(!G.mojoObserve||!G.mojoObserve[D.declaredClass]){D.addObserver(G,"onclick","PreventDefault");D.addObserver(G,"onclick","DisplayPopup",B)}})});this.addObserver(this,"onInit","DisplayPopup",function(C,D,G){var K=mojo.queryFirst(".ecomm-popup-pending");if(K){if(dojo.hasClass(K,"ecomm-popup")||dojo.hasClass(K,"ecomm-popup-small-form")){return }if(K!=C){C.innerHTML=K.innerHTML;var I=mojo.query(".command-link, .continue-button",K);var J=mojo.query(".command-link, .continue-button",C);if(I){for(var F=0;F<I.length;F++){if(I[F].onclick){J[F].onclick=I[F].onclick;var H=J[F].href;if(H.indexOf("?")==-1){J[F].href=J[F].href+"?cox"}}}}var E=mojo.query("script",C);E.forEach(function(L){L.parentNode.removeChild(L)})}return{element:C,action:"add",cssClass:"ecomm-popup-active"}}});this.addObserver(".close-button","onclick","PreventDefault");this.addObserver(".cancel-button","onclick","PreventDefault");this.addObserver(".print-button","onclick","PreventDefault");this.addObserver(".close-button","onclick","DisplayPopup",function(E,D,C){return{element:E,action:"remove",cssClass:"ecomm-popup-active"}});this.addObserver(".cancel-button","onclick","DisplayPopup",function(E,D,C){return{element:E,action:"remove",cssClass:"ecomm-popup-active"}});this.addObserver(".print-button","onclick","UpdateClass",function(E,D,C){window.print()})},addCommands:function(){this.addCommand("DisplayPopup","cox.behavior.ecomm.PopupDisplayBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.ThrobberController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.ThrobberController",mojo.controller.Controller,{addObservers:function(){var B=0;var C;var A=function(H,G,F,J){if(!J&&!dojo.hasClass(H,"throbber-visible")){return }var D=(C&&C.parentNode&&C.parentNode.tagName)?dojo.position(C,true):{};var E=dojo.position(H.parentNode,true);var I=dojo.position(H,true);var K=(typeof D.y=="undefined")?B:D.y-E.y+D.h/2-I.h/2;B=Math.min(Math.max(K,document.documentElement.scrollTop-E.y),document.documentElement.scrollTop-E.y+document.documentElement.clientHeight-I.h);H.style.top=B+"px"};this.addObserver(mojo.Messaging.getTopic("/throbber"),"onPublish","UpdateClass",function(F,E,D){var I=E.getMessage();if(I.show){C=document.getElementById(I.id.replace(/\$/g,"_"));A(F,E,D,true)}var H=mojo.query(".pane-toggle");H.forEach(function(J){if(!J.mojoObserve||!J.mojoObserve[D.declaredClass]){mojo.controller.Map.getInstance().mapController("cox.controller.ecomm.PanesToggleController",J)}});var G=mojo.query(".toggle");G.forEach(function(J){if(!J.mojoObserve||!J.mojoObserve[D.declaredClass]){mojo.controller.Map.getInstance().mapController("cox.controller.ToggleController",J)}});return{element:F,action:I.show?"add":"remove",cssClass:"throbber-visible"}});this.addObserver(window,"onscroll","UpdateClass",A);this.addObserver(mojo.query("span.choice.checkbox span input"),"onclick","UpdateClass",function(F,E,D){C=E;A(F,E,D,true)})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.ToggleIncrementsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.ToggleIncrementsController",mojo.controller.Controller,{params:{},addObservers:function(){this.addObserver(this.getContextElement(),"onchange","ToggleIncrements",function(C,B,A){return{contextElement:C}});this.addObserver(this,"onInit","ToggleIncrements",function(C,B,A){return{contextElement:C}})},addCommands:function(){this.addCommand("ToggleIncrements","cox.behavior.ecomm.ToggleIncrementsBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.ToolTipController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.ToolTipController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".ecomm-tooltip-right, .ecomm-tooltip-left, .btn-help","onmouseover","ToolTip",function(C,B){var D=mojo.queryFirst(".tooltip-info",B.parentNode);if(D){D=D.innerHTML}else{D="fail"}var A={show:true,info:D,offsetX:-233,offsetY:-43,underlayMark:".wrapper",template:this.getController()._reverseTooltipTemplate};var E=!dojo.hasClass(B,"ecomm-tooltip-right");if(E){A.anchorX=1;A.anchorY=0;A.offsetX=dojo.position(B,true).w+20;A.offsetY=-28;A.template=this.getController()._tooltipTemplate}if(dojo.hasClass(B,"ecomm-tooltip-wide")){A.template=A.template.replace(/class="/i,'class="wide-tooltip ');if(A.offsetX<0){A.offsetX-=134}}if(dojo.hasClass(B,"watch-tooltip")){A.template=A.template.replace(/class="/i,'class="watch-tooltip ');A.offsetY=-28}return A});this.addObserver(".ecomm-tooltip-right, .ecomm-tooltip-left, .btn-help","onmouseout","ToolTip",function(B,A){return{show:false}});this.addObserver("a.ecomm-tooltip-right:not(.watch-tooltip), a.ecomm-tooltip-left:not(.watch-tooltip), a.btn-help","onclick","PreventDefault")},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("ToolTip","cox.behavior.ToolTipBehavior")},addIntercepts:function(){},_tooltipTemplate:'<div class="myplace-tooltip generic-tooltip tooltip" id="faq-content"><div class="wrapper"><div class="arrow">&nbsp;</div><table class="head"><tr><td class="tl"></td><td class="t">&nbsp;</td><td class="tr"></td></tr></table><table class="body"><tr><td class="l"></td><td class="c"><div class="dialog-pane-content reset-styles"></div></td><td class="r"></td></tr></table>\n<table class="foot"><tr><td class="bl"></td><td class="b">&nbsp;</td><td class="br"></td></tr></table></div></div>',_reverseTooltipTemplate:'<div class="myplace-tooltip generic-tooltip tooltip" id="faq-content"><div class="wrapper"><div class="rightarrow">&nbsp;</div><table class="head"><tr><td class="tl"></td><td class="t">&nbsp;</td><td class="tr"></td></tr></table><table class="body"><tr><td class="l"></td><td class="c"><div class="dialog-pane-content reset-styles"></div></td><td class="r"></td></tr></table>\n<table class="foot"><tr><td class="bl"></td><td class="b">&nbsp;</td><td class="br"></td></tr></table></div></div>'});dojo.provide("cox.controller.ecomm.YourBundledServicesModuleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.YourBundledServicesModuleController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".edit-wishlist-link","onclick","PreventDefault");this.addObserver(".submit-btn","onclick","PreventDefault");this.addObserver(mojo.query(".edit-wishlist-link"),"onclick","UpdateCSS",function(C,B,A){return{element:mojo.queryFirst(".regular",B.parentNode),action:"remove",cssClass:"hidden"}});this.addObserver(mojo.query(".edit-wishlist-link"),"onclick","UpdateCSS",function(C,B,A){return{element:B,action:"add",cssClass:"hidden"}});this.addObserver(mojo.query(".edit-wishlist-link"),"onclick","UpdateCSS",function(C,B,A){return{element:mojo.queryFirst(".currently-bundled-services",B.parentNode),action:"add",cssClass:"hidden"}});this.addObserver(mojo.query(".submit-btn"),"onclick","UpdateCSS",function(C,B,A){return{element:mojo.queryFirst(".edit-wishlist-link",B.parentNode.parentNode.parentNode),action:"remove",cssClass:"hidden"}});this.addObserver(mojo.query(".submit-btn"),"onclick","UpdateCSS",function(C,B,A){return{element:B.parentNode.parentNode,action:"add",cssClass:"hidden"}});this.addObserver(mojo.query(".submit-btn"),"onclick","UpdateCSS",function(C,B,A){return{element:mojo.queryFirst(".currently-bundled-services",B.parentNode.parentNode.parentNode),action:"remove",cssClass:"hidden"}})},addCommands:function(){this.addCommand("UpdateCSS","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.AjaxController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.AjaxController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","AjaxBehavior",function(E,D,C){var F;var B=mojo.queryFirst(".response",E);var G=mojo.queryFirst(".loading-wrapper",E).id;mojo.query(".ajax-links a",E).forEach(function(H,I){if(dojo.hasClass(H,"active")){F=H.href}});if(F){return{responseContainer:B,loadingWrapperId:G,activeLink:F}}if(typeof (ajaxUrl)!="undefined"){return{responseContainer:B,loadingWrapperId:G,activeLink:ajaxUrl}}});this.addObserver(".ajax-links a","onclick","PreventDefault");this.addObserver(".ajax-links a","onclick","UpdateClass",function(D,C,B){mojo.query(".ajax-links a",D).forEach(function(E,F){if(dojo.hasClass(E,"active")){dojo.removeClass(E,"active")}dojo.addClass(C,"active");if(E.href==C.href){dojo.addClass(E,"active")}})});this.addObserver(".ajax-links a","onclick","AjaxBehavior",function(D,C,B){return{responseContainer:mojo.queryFirst(".response",D),loadingWrapperId:mojo.queryFirst(".loading-wrapper",D).id,activeLink:C.href}});var A=function(D,C,B){B.addObserver(mojo.query(".ajax-select",D),"onchange","AjaxBehavior",function(G,F,E){return{responseContainer:mojo.queryFirst(".response",G),loadingWrapperId:mojo.queryFirst(".loading-wrapper",G).id,activeLink:F.form.action+F.value}})};this.addObserver(mojo.Messaging.getTopic("remapControllers"),"onPublish","MapControllers",function(D,C,B){A(D,C,B);return{contextObj:mojo.queryFirst(".response",D)}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("MapControllers","stdlib.command.MapControllersCommand");this.addCommand("AjaxBehavior","cox.behavior.interface.AjaxBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.CompareGridController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.CompareGridController",mojo.controller.Controller,{params:{curStartPosition:{defaultValue:1,type:Number},curEndPosition:{defaultValue:5,type:Number},minPosition:{defaultValue:1,type:Number},maxPosition:{defaultValue:5,type:Number}},addObservers:function(){this.addObserver(this,"onInit","CompareGrid",function(D,B,A){A.setValue("curStartPosition",dojo.query(".compare-static col").length);A.setValue("minPosition",A.getValue("curStartPosition"));A.setValue("curEndPosition",A.getValue("curStartPosition")+dojo.query(".compare-options col").length);A.setValue("maxPosition",dojo.query(".compare-table col").length-dojo.query(".compare-options col").length);for(var C=(A.getValue("curStartPosition")+dojo.query(".compare-options col").length);C<(A.getValue("curStartPosition")+dojo.query(".compare-options col").length+dojo.query(".compare-hidden col").length);C++){dojo.query(".compare-table tr > *:nth-child("+(C+1)+")").forEach(function(E){dojo.addClass(E,"hide")})}dojo.query(".compare-table col").forEach(function(I,G,F){if(dojo.hasClass(I,"in-cart")){var H=dojo.query(".compare-table tr > *:nth-child("+(G+1)+")");H.addClass("in-cart");var E=dojo.query(H.getLast());E.addClass("in-cart-last")}if(dojo.hasClass(I,"primary")){var H=dojo.query(".compare-table tr > *:nth-child("+(G+1)+")");H.addClass("primary");var E=dojo.query(H.getLast());E.addClass("primary-last");A.setValue("curStartPosition",(G-1));A.setValue("curEndPosition",(G-1)+dojo.query(".compare-options col").length)}})});this.addObserver(".compare-buttons a","onclick","PreventDefault");this.addObserver(".compare-buttons a","onclick","CompareGrid");this.addObserver(mojo.Messaging.getTopic("/throbber"),"onPublish","CompareGrid",function(D,B,A){A.setValue("curStartPosition",dojo.query(".compare-static col").length);A.setValue("minPosition",A.getValue("curStartPosition"));A.setValue("curEndPosition",A.getValue("curStartPosition")+dojo.query(".compare-options col").length);A.setValue("maxPosition",dojo.query(".compare-table col").length-dojo.query(".compare-options col").length);for(var C=(A.getValue("curStartPosition")+dojo.query(".compare-options col").length);C<(A.getValue("curStartPosition")+dojo.query(".compare-options col").length+dojo.query(".compare-hidden col").length);C++){dojo.query(".compare-table tr > *:nth-child("+(C+1)+")").forEach(function(E){dojo.addClass(E,"hide")})}dojo.query(".compare-table col").forEach(function(I,G,F){if(dojo.hasClass(I,"in-cart")){var H=dojo.query(".compare-table tr > *:nth-child("+(G+1)+")");H.addClass("in-cart");var E=dojo.query(H.getLast());E.addClass("in-cart-last")}if(dojo.hasClass(I,"primary")){var H=dojo.query(".compare-table tr > *:nth-child("+(G+1)+")");H.addClass("primary");var E=dojo.query(H.getLast());E.addClass("primary-last");A.setValue("curStartPosition",(G-1));A.setValue("curEndPosition",(G-1)+dojo.query(".compare-options col").length)}})})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("CompareGrid","cox.behavior.interface.CompareGridBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.EnlargeImageController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.EnlargeImageController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this.getContextElement(),"onclick","PreventDefault");this.addObserver(this.getContextElement(),"onclick","Messaging",function(C,D){var F=this.getContextElement().hash;var E="";var B=this.getContextElement().href;if((F.length>1)&&(F.match(/^#enlarge/))){var I=420;var J=540;var K=1.5;F=F.split("|");var H=+F[1];var G=+F[2];var A=Math.min(K,I/H,J/G);E=" width='"+Math.round(H*A)+"' height='"+Math.round(G*A)+"' ";if(dojo.isIE){B="/ui/emergence/corp/en/img/blank.gif' style='filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\""+B+'", sizingMethod="scale")'}}return{topic:"dialog",message:{enabled:true,title:this.getContextElement().title,href:"/ui/emergence/corp/en/page/enlargeImage.xhtml",substitutionMap:{"#bigImage":"<img src='"+B+"'"+E+"/>","#bigImageCaption":this.getContextElement().rel},width:560,height:-1}}})},addCommands:function(){this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.HeaderController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.HeaderController",mojo.controller.Controller,{addObservers:function(){this.addObserver("#pf-print","onclick","PreventDefault");this.addObserver("#pf-style-font-small","onclick","PreventDefault");this.addObserver("#pf-style-font-medium","onclick","PreventDefault");this.addObserver("#pf-style-font-large","onclick","PreventDefault")},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.LoadingController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.LoadingController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.Messaging.getTopic("/throbber"),"onPublish","UpdateClass",function(D,C,B){var E=C.getMessage();var A=mojo.query("#"+E.id.replace(/\$/g,"_"));return{element:A,action:E.status?"add":"remove",cssClass:"loading-wrapper-active"}});this.addObserver(".loading-trigger","onclick","UpdateClass",function(A){return{element:A,action:"add",cssClass:"loading-wrapper-active"}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.RotatorController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.RotatorController",mojo.controller.Controller,{params:{rotatorXML:{},transitionTimer:{defaultValue:"1",type:String},xmlError:{defaultValue:false,type:Boolean},loop:{defaultValue:true,type:Boolean}},addObservers:function(){this.addObserver(this,"onInit","LoadRotatorXML",function(C,D,B){if(typeof (xmlFile)!="undefined"){var F={getXML:function(H){B.setValue("rotatorXML",H.documentElement);B.setValue("transitionTimer",B.getValue("rotatorXML").attributes.getNamedItem("timer").nodeValue);B.getValue("rotatorXML").attributes.getNamedItem("looping").nodeValue=="yes"?B.setValue("loop",true):B.setValue("loop",false)}};var E={getErrorMSG:function(){B.setValue("xmlError",true)}};var A=mojo.Messaging.subscribe("loadedSuccessfulXML",F,"getXML");var G=mojo.Messaging.subscribe("errorLoadingXML",E,"getErrorMSG");return{url:xmlFile,responseContainer:dojo.byId("main-rotator")}}else{dojo.byId("main-rotator").innerHTML="<div class='msgError default-rotator-dimensions'><p> We're sorry, we can't find this part of the page right now.</p></div>";console.log("ROTATOR CONTROLLER ERROR: There was an error with the xml url variabled that was defined")}});this.addObserver(this.getCommand("LoadRotatorXML"),"xmlLoaded","ParseRotatorXML",function(B,C,A){return{xml:A.getValue("rotatorXML")}});this.addObserver(this.getCommand("LoadRotatorXML"),"xmlLoaded","RotatorControls",function(B,C,A){return{control:"play",timer:A.getValue("transitionTimer"),xmlError:A.getValue("xmlError"),loop:A.getValue("loop")}});this.addObserver(".rotator-controls li","onclick","PreventDefault");this.addObserver(".rotator-controls li","onclick","RotatorControls",function(B,C,A){return{control:C.id,timer:A.getValue("transitionTimer"),xmlError:A.getValue("xmlError"),loop:A.getValue("loop")}});this.addObserver(".rotator-slide a","onclick","PreventDefault",function(B,C,A){window.open(dojo.attr(C,"href"),"_self")});this.addObserver(".rotator-slide","onmouseover","RotatorControls",function(B,C,A){return{control:"pause",timer:A.getValue("transitionTimer"),xmlError:A.getValue("xmlError"),loop:A.getValue("loop")}});this.addObserver(".rotator-slide","onmouseout","RotatorControls",function(B,C,A){return{control:"play",timer:A.getValue("transitionTimer"),xmlError:A.getValue("xmlError"),loop:A.getValue("loop")}});this.addObserver(".rotator-slide","onclick","PreventDefault",function(B,C,A){window.open(dojo.attr(C,"href"),"_self")})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("LoadRotatorXML","cox.behavior.interface.XMLLoaderBehavior");this.addCommand("ParseRotatorXML","cox.behavior.interface.ParseRotatorXMLBehavior");this.addCommand("RotatorControls","cox.behavior.interface.RotatorControlsBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.SortableTableController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.SortableTableController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.Messaging.getTopic("/toggle/changed"),"onPublish","UpdateClass",function(C,B){var D=B.getMessage();var A=D.context;if(dojo.hasClass(A.parentNode,"order-history")){return{element:mojo.queryFirst("tr",A),action:D.isOpen?"add":"remove",cssClass:"expanded"}}});this.addObserver(this,"onInit","UpdateClass",function(D,B){var H=function(I){console.log(I+"\nTerminated.")};var G=function(I,J,K){switch(J){case"currency":I.sort(function(M,L){if(K=="asc"){return M.content-L.content}else{return L.content-M.content}});break;case"date":I.sort(function(M,L){if(K=="asc"){return M.content-L.content}else{return L.content-M.content}});break;case"text":I.sort(function(M,L){if(K=="asc"){return M.content>L.content?1:-1}else{return L.content>M.content?1:-1}});break;default:H("Missing or invalid th sorttype attribute for sortType function.");break}};var E=function(K,J){switch(J){case"currency":return K.replace(/[$()]/ig,"").trim();break;case"date":tmp=K.replace(new RegExp(/-/g),"/");var I=tmp.split("/");if(I.length==3){return new Date(tmp).getTime()}else{if(I.length==2){return new Date(I[0]+"/00/"+I[1]).getTime()}else{console.log("Invalid date format.")}}break;case"text":return K;break;default:H("Invalid column type specified for cleanType function.");break}};var F=D;if(!F){H("No table element found.");return }var A=$$(mojo.query("thead th.sortable",F));if(!A.length){H("No sortable headers found");return }A.each(function(I){I.setProperty("sortorder",I.hasClass("asc")?"asc":"desc")});A.addEvent("click",function(I){C(this)});var C=function(O){var M=O.cellIndex;var N=O.getProperty("sorttype");O.setProperty("sortorder",O.getProperty("sortorder")=="asc"?"desc":"asc");mojo.query(".active",F).removeClass("active");mojo.query("th",F).removeClass("asc");mojo.query("th",F).removeClass("desc");O.addClass("active");O.removeClass("asc").removeClass("desc").addClass(O.getProperty("sortorder"));var P=[];var I=[];var L=F.childNodes;for(var K=0;K<L.length;K++){if(L[K].tagName){var R=mojo.queryFirst("tr.brief",L[K]);if(R){I.push(R)}}}dojo.forEach(I,function(T,S){P.push({index:S,content:E($(mojo.query("td",T)[M]).getText(),N)})});G(P,N,O.getProperty("sortorder"));var Q=$$(mojo.query("tbody",F)).removeElements();var J=[];P.each(function(T,S){J[S]=Q[T.index]});J.each(function(S){S.injectInside(F)})}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.DatePickerController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.DatePickerController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","DatePicker",function(B,A){return{element:B}})},addCommands:function(){this.addCommand("DatePicker","cox.behavior.interface.form.DatePickerBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.FormValidatorController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.FormValidatorController",mojo.controller.Controller,{params:{selectors:{required:false,defaultValue:[],type:Array}},addObservers:function(){this.addObserver(this.getContextElement(),"onsubmit","ValidateForm",function(C,B,A){return{form:B}});this.addObserver(mojo.Messaging.getTopic("formError"),"onPublish","UpdateError",function(C,B,A){var D=B.getMessage();if(D.form!=C){return }return D})},addCommands:function(){this.addCommand("ValidateForm","cox.behavior.interface.form.ValidateFormBehavior");this.addCommand("UpdateError","cox.behavior.interface.form.UpdateErrorBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.PlaceholderController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.PlaceholderController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","Placeholder");this.addObserver(this.getContextElement(),"onfocus","Placeholder");this.addObserver(this.getContextElement(),"onblur","Placeholder")},addCommands:function(){this.addCommand("Placeholder","cox.behavior.interface.form.PlaceholderBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.SpinBoxController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.SpinBoxController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","FormSpinner",function(B,A){return{element:B}})},addCommands:function(){this.addCommand("FormSpinner","cox.behavior.interface.form.SpinBoxBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.TextareaController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.TextareaController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this.getContextElement(),"onkeyup","EnforceMaxLength",function(B,A){return{element:A}});this.addObserver(this.getContextElement(),"onclick","EnforceMaxLength",function(B,A){return{element:A}});this.addObserver(this.getContextElement(),"onblur","EnforceMaxLength",function(B,A){return{element:A}})},addCommands:function(){this.addCommand("EnforceMaxLength","cox.behavior.interface.form.EnforceMaxLengthBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.locationMap.MapAddressInputController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.locationMap.MapAddressInputController",mojo.controller.Controller,{params:{},addObservers:function(){var C=mojo.queryFirst(".map-notification-area",this.getContextElement());var B=C.id.split("-").pop();var A=mojo.queryFirst("input[id$='address-input']",this.getContextElement());this.addObserver(".alternates a","onclick","PreventDefault");this.addObserver(".alternates a","onclick","Messaging",function(E,D){dojo.style(C,"display","none");if(A){A.value=D.innerHTML.replace(/<[^>]*>/ig,"");mojo.Messaging.publish("formError",{action:"clear"});if(B=="single"){mojo.Messaging.publish("formError",{action:"clear",form:mojo.queryFirst("#address-form")});return{topic:"/verifyAddress/single"}}else{mojo.Messaging.publish("formError",{action:"clear",form:mojo.queryFirst("#directions-form")});return{topic:"getMapDirections",message:A.value}}}});this.addObserver(mojo.Messaging.getTopic("/verifyAddress/"+B),"onPublish","VerifyAddress",function(E,D){return{direction:B,notification:C,input:A}})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("BlockProceedForm","cox.behavior.BlockProceedBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("VerifyAddress","cox.behavior.locationMap.VerifyAddressBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.locationMap.MapController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.locationMap.MapController",mojo.controller.Controller,{params:{center:{defaultValue:{lat:38.6855,lon:-95.8}},zoom:{defaultValue:4},controls:{defaultValue:{pan:true,zoom:"large",scale:true,mapType:true,overview:true}},pointSets:{defaultValue:[]},map:{defaultValue:null}},addObservers:function(){this.addObserver(this,"onInit","InitMap",function(){return{element:mojo.queryFirst(".map",this.getContextElement())}});this.addObserver(this.getCommand("InitMap"),"onMapReady","UpdateControllerParam",function(D,C){console.log("UpdateController");return{control:this.getController().declaredClass,params:"map",value:C._map,element:D}});this.addObserver(this.getCommand("InitMap"),"onMapReady","UpdateMap",function(E,D){console.log("UpdateMap");var C=this.getController();return{map:D._map,zoom:C.getValue("zoom"),center:C.getValue("center"),controls:C.getValue("controls")}});this.addObserver(this.getConfig("params").center,"onChange","UpdateMap",function(){console.log("centerChange",this.getController().getValue("center"));return{map:this.getController().getValue("map"),center:this.getController().getValue("center")}});this.addObserver(this.getConfig("params").controls,"onChange","UpdateMap",function(){console.log("controlsChange",this.getController().getValue("controls"));return{map:this.getController().getValue("map"),controls:this.getController().getValue("controls")}});this.addObserver(this.getConfig("params").zoom,"onChange","UpdateMap",function(){console.log("zoomChange",this.getController().getValue("zoom"));return{map:this.getController().getValue("map"),zoom:this.getController().getValue("zoom")}});var B=this.getValue("pointSets")||[];for(var A=0;A<B.length;A++){console.log("onNotify for",B[A]);this.addObserver(mojo.Model.getReference(B[A]),"onNotify","UpdateMapPointSets",function(D,C){return{pointSetKey:C.getKey(),pointSet:C.getValue(),map:this.getController().getValue("map")}})}},addCommands:function(){this.addCommand("InitMap","cox.behavior.locationMap.InitMapBehavior");this.addCommand("UpdateMap","cox.behavior.locationMap.UpdateMapBehavior");this.addCommand("UpdateMapPointSets","cox.behavior.locationMap.UpdateMapPointSetsBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.locationMap.MapInfoBoxController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.locationMap.MapInfoBoxController",mojo.controller.Controller,{params:{map:{defaultValue:null}},addObservers:function(){this.addObserver("form.get-directions-from-form","onsubmit","PreventDefault");this.addObserver("form.get-directions-from-form","onsubmit","Messaging",function(E,D,A){mojo.Messaging.publish("switchMapDirections","enable");var F=mojo.queryFirst("#directions-form");var G=mojo.queryFirst("#map-container form.get-directions-from-form");F["map-address-input"].value=mojo.queryFirst("#map-container .maps-marker-info .address").innerHTML.replace(/<br[^>]*>/gi,",");var B=mojo.queryFirst("input",G);var C=mojo.queryFirst("label[for='"+B.id+"']",G);F["map-end-address-input"].value=(C&&(C.childNodes[0].textContent==B.value))?"":B.value;A.getValue("map").closeInfoWindow();return{topic:"getMapDirections"}});this.addObserver("form.get-directions-to-form","onsubmit","PreventDefault");this.addObserver("form.get-directions-to-form","onsubmit","Messaging",function(E,D,A){mojo.Messaging.publish("switchMapDirections","enable");var F=mojo.queryFirst("#directions-form");var G=mojo.queryFirst("#map-container form.get-directions-to-form");var B=mojo.queryFirst("input",G);var C=mojo.queryFirst("label[for='"+B.id+"']",G);F["map-address-input"].value=(C&&(C.childNodes[0].textContent==B.value))?"":B.value;F["map-end-address-input"].value=mojo.queryFirst("#map-container .maps-marker-info .address").innerHTML.replace(/<br[^>]*>/gi,",");A.getValue("map").closeInfoWindow();return{topic:"getMapDirections"}});this.addObserver("form","onsubmit","ValidateForm",function(C,B,A){return{form:mojo.queryFirst("#directions-form")}});this.addObserver(".get-directions-links a","onclick","PreventDefault");this.addObserver(".get-directions-links a","onclick","UpdateClass",function(E,D,B){var C=/get-directions-\w*-/;var F=dojo.map(D.className.split(" "),function(G){return C.exec(G)[0]}).join("");var A=mojo.query(".active",E).length?"":"[class^='"+F+"']";return{element:mojo.query(".get-directions-links a"+A+", form"+A,E),action:"toggle",cssClass:"active"}})},addCommands:function(){this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("ValidateForm","cox.behavior.interface.form.ValidateFormBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.locationMap.OfficesMapController");dojo.require("cox.controller.locationMap.MapController");dojo.declare("cox.controller.locationMap.OfficesMapController",cox.controller.locationMap.MapController,{params:{messageCount:{defaultValue:0},contextPath:{defaultValue:"/aboutus/contact-us"}},addObservers:function(){if(window.contextPath){this.setValue("contextPath",window.contextPath)}this.addObserver(mojo.Messaging.getTopic("/metrics/callForInfo"),"onPublish","Set",function(D,C){return{mode:"set",params:{eventName:"toolUsageInitiated",toolName:"search cox centers"}}});var A=function(C,E,G){var D=mojo.queryFirst(".map",C);var H=mojo.queryFirst("#map-radius",C).value;var L=Math.min(D.clientWidth,D.clientHeight);var K=10;var J=[256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288,1048576,2097152];var I=21117.8451;for(var F=J.length-1;F>=0;F--){if((I*L)/J[F]>H*2){K=F;break}}return{control:G.declaredClass,params:"zoom",value:K,element:C}};var B={};if(dojo.queryToObject(document.location.search.slice(1))["map-address-input"]){this.addObserver(this.getCommand("InitMap"),"onMapReady","Messaging",function(E,D,C){return{topic:"/verifyAddress/single"}})}else{if(!urlHasSite){this.addObserver(this.getCommand("InitMap"),"onMapReady","GetOffices")}else{this.addObserver(this.getCommand("InitMap"),"onMapReady","GetOfficesForm")}}this.addObserver(mojo.Model.getReference("offices"),"onNotify","UpdateControllerParam",function(E,D,C){console.log("setting center:",D.getValue().user);return{control:C.declaredClass,params:"center",value:D.getValue().user,element:E}});this.addObserver(this.getConfig("params").center,"onChange","UpdateMap",function(){var C=this.getController().getValue("center");return{map:this.getController().getValue("map"),center:C}});this.addObserver("#map-radius","onchange","Track",function(D,C){return{mode:"track",params:{type:"event",options:{actionPerformed:"search cox centers:change distance"}}}});this.addObserver(mojo.Messaging.getTopic("googleMap"),"onPublish","Track",function(){var C=this.getController().getValue("messageCount");if(C==0){this.getController().setValue("messageCount",1);return }return{mode:"track",params:{type:"event",options:{eventName:"toolUsageCompleted",toolName:"search cox centers"}}}});this.addObserver(mojo.Model.getReference("offices"),"onNotify","UpdateMapPoints",function(F,E,D){var G=mojo.query("#map-marker-toggles input",F),C=[];dojo.forEach(G,function(H){if(H.checked){C.push(parseInt(H.value))}});return{pointSet:E.getValue(),map:D.getValue("map"),show:C}});this.addObserver("#map-marker-toggles input","onclick","Track",function(D,C){return{mode:"track",params:{type:"event",options:{actionPerformed:"search cox centers:"+mojo.queryFirst("label",C.parentNode).innerHTML.toLowerCase()}}}});this.addObserver("#map-marker-toggles input","onclick","UpdateMapPoints",function(F,E,D){var G=mojo.query("#map-marker-toggles input",F),C=[];dojo.forEach(G,function(H){if(H.checked){C.push(parseInt(H.value))}});return{map:D.getValue("map"),show:C}});this.addObserver("#address-form","onsubmit","PreventDefault");this.addObserver("#address-form","onsubmit","Messaging",function(D,C){return{topic:"/verifyAddress/single"}});this.addObserver(mojo.Messaging.getTopic("getMapOffices"),"onPublish","GetOfficesForm",function(D,C){return C.getMessage()});this.addObserver(mojo.Messaging.getTopic("/verifiedAddresses/single"),"onPublish","GetOfficesForm",function(E,F){var I=dojo.formToObject(mojo.queryFirst("#address-form"));this._die=true;if(!F.getMessage().placemark||!F.getMessage().placemark.length){return }var K=F.getMessage().placemark[0];var C=function(L){return(typeof L!="undefined")};if(C(K.AddressDetails)&&C(K.AddressDetails.Country)&&C(K.AddressDetails.Country.AdministrativeArea)){if(K.AddressDetails.Country.CountryNameCode!="US"){mojo.Messaging.publish("formError",{action:"add",form:mojo.queryFirst("#address-form"),text:"The address you provided is outside United States. Currently, we support searches only within US."});return }this._die=false;var D=K.AddressDetails.Country.AdministrativeArea;var J;if(C(D)){J=D["PostalCode"];if(J){I["map-zip-input"]=J.PostalCodeNumber}I["map-state-input"]=D.AdministrativeAreaName;if(C(D.SubAdministrativeArea)){D=D.SubAdministrativeArea}J=D["PostalCode"];if(J){I["map-zip-input"]=J.PostalCodeNumber}var H=D.Locality;if(C(H)){var J=H["PostalCode"];J=H["PostalCode"];if(J){I["map-zip-input"]=J.PostalCodeNumber}var G=H["Thoroughfare"];if(G){I["map-street-input"]=G.ThoroughfareName}I["map-city-input"]=H.LocalityName}}return I}mojo.Messaging.publish("formError",{action:"add",form:mojo.queryFirst("#address-form"),text:"An error occurred while processing this location. Please try providing more details."});return });this.addObserver("#address-form #map-direction-submit, #directions-form .map-it","onclick","PreventDefault");this.addObserver("#address-form #map-direction-submit, #directions-form .map-it","onclick","GetDirections",function(E,D,C){return{map:C.getValue("map"),action:"clear"}});this.addObserver(mojo.Messaging.getTopic("switchMapDirections"),"onPublish","UpdateClass",function(E,D){var G=D.getMessage();var C=mojo.queryFirst(".directions-form-elements");var F=dojo.hasClass(C,"hide");if(G==(F?"disable":"enable")){return }if(F){var I=mojo.queryFirst("#address-form");var H=mojo.queryFirst("#directions-form")}else{var H=mojo.queryFirst("#address-form");var I=mojo.queryFirst("#directions-form")}H["map-address-input"].value=I["map-address-input"].value;return{element:mojo.query("#address-form, .directions-form-elements"),action:"toggle",cssClass:"hide"}});this.addObserver("#address-form #map-direction-submit, #directions-form .map-it","onclick","Messaging",function(){return{topic:"switchMapDirections",message:"toggle"}});this.addObserver(this.getCommand("GetOfficesForm"),"onError","Messaging",function(E,D,C){return{topic:"dialog",message:{enabled:true,title:"Message",href:"/aboutus/ActivityMap.maperror",width:300,height:200}}});this.addObserver(".reverse-dir","onclick","PreventDefault");this.addObserver(".reverse-dir","onclick","ReverseDirections",function(){return{form:mojo.queryFirst("#directions-form")}});this.addObserver("h2.print a","onclick","PreventDefault");this.addObserver("h2.print a","onclick","Messaging",function(D,C){return{topic:"dialog",message:{enabled:true,element:mojo.queryFirst(".maps-printable",D),title:"&nbsp;",width:Math.min((window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-50,850),height:(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)-100}}});this.addObserver(mojo.query("#maps-print-button"),"onclick","Print",{});this.addObserver(mojo.Messaging.getTopic("dialog"),"onPublish","UpdateClass",function(D,C){return{element:document.body,action:C.getMessage().enabled?"add":"remove",cssClass:"map-print-dialog-active"}});this.addObserver("#directions-form","onsubmit","PreventDefault");this.addObserver("#directions-form","onsubmit","Messaging",function(E,D,C){return{topic:"getMapDirections",message:D}});this.addObserver(mojo.Messaging.getTopic("getMapDirections"),"onPublish","GetDirections",function(E,D,C){var F=mojo.queryFirst("#directions-form");return{addresses:dojo.formToObject(F),map:C.getValue("map"),form:F}});this.addObserver(mojo.Messaging.getTopic("/verifiedAddresses/to"),"onPublish","GetDirections",function(E,D,C){return{message:D.getMessage(),map:C.getValue("map")}});this.addObserver(mojo.Messaging.getTopic("/verifiedAddresses/from"),"onPublish","GetDirections",function(E,D,C){return{message:D.getMessage(),map:C.getValue("map")}});this.addObserver("#map-marker-toggles li label","onmouseover","ToolTip",function(){return{show:false}});this.addObserver("#map-marker-toggles li label","onmouseout","ToolTip",function(){return{show:false}});this.addObserver("#map-marker-toggles li label","onmouseover","ToolTip",function(D,C){var E=mojo.queryFirst(".tooltip-info",C.parentNode);if(E){E=E.innerHTML}else{E=""}return{show:true,delay:500,info:E,anchorX:"cursor",offsetX:-77,offsetY:0,template:this.getController()._tooltipTemplate}});this.addObserver("#map-radius","onchange","UpdateControllerParam",A);this.addObserver(this.getCommand("GetOfficesForm"),"onComplete","UpdateControllerParam",A)},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("BlockProceedForm","cox.behavior.BlockProceedBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("ToolTip","cox.behavior.ToolTipBehavior");this.addCommand("UpdateMapPoints","cox.behavior.locationMap.UpdateMapPointsBehavior");this.addCommand("GetOffices","cox.command.locationMap.GetOfficesCommand");this.addCommand("GetOfficesForm","cox.command.locationMap.GetOfficesCommand");this.addCommand("GetDirections","cox.behavior.locationMap.GetDirectionsBehavior");this.addCommand("ReverseDirections","cox.behavior.locationMap.MapReverseDirectionsBehavior");this.addCommand("Set","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("Print","cox.behavior.PrintBehavior")},addIntercepts:function(){this.addIntercept("around","GetOfficesForm","BlockProceedForm",function(B,A){return{condition:!A._die}})},_tooltipTemplate:'<div class="mapcontrols-tooltip tooltip"><div class="wrapper"><table class="head"><tr><td class="tl"></td><td class="t">&nbsp;</td><td class="tr"></div></td></tr></table><table class="body"><tr><td class="l"></td><td class="c"><div class="dialog-pane-content"></div></td><td class="r"></td></tr></table>\n<table class="foot"><tr><td class="bl"></td><td class="b">&nbsp;</td><td class="br"></td></tr></table>\n<div class="foot-arrow">&nbsp;</div></div></div>'});dojo.provide("cox.controller.metrics.MetricsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.metrics.MetricsController",mojo.controller.Controller,{params:{completed:{defaultValue:false,type:Boolean}},addObservers:function(){if(typeof s!="undefined"&&s&&!!s.getQueryParam){this.addObserver(mojo.controller.Map.getInstance(),"onComplete","Track",function(B,C){var E=dojo.clone(__coxOmnitureParams);if(E.logStatus!="not logged in"){E.eventName="userLogStatus"}var F=E.campaign||s.getQueryParam("scid")||s.getQueryParam("sc_id")||s.getQueryParam("s_cid");if(F){E.pathingByCampaign=F+":"+E.pageName;E.campaign=F}var H=s.getQueryParam("campcode");if(H!==""&&H!==null){E.campcode=H}E.businessLocal=E.businessUnit+":"+E.localeName;E.localePagename=E.localeName+":"+E.pageName;var G=mojo.queryFirst("#support-article");if(G&&window.location.search){var I=dojo.queryToObject(window.location.search.slice(1));var A=I["articleId"];if(A){E.kanaArticleId=A}}var J=mojo.queryFirst("#online-activation-msg-track");if(J){var D=J.innerHTML;return{mode:"track",params:{type:"event",options:{confirmationMsg:"video activation: "+D.toLowerCase()}}}}return{mode:"track",params:{type:"pageview",options:E}}});this.addObserver(this.getCommand("Track"),"execute","UpdateControllerParam",function(){return{control:this.getController().declaredClass,params:"completed",value:true,element:this.getContextElement()}})}},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand")},addIntercepts:function(){this.addIntercept("around","Track","BlockProceed",function(){return{condition:!this.getController().getValue("completed")}});if(typeof s!="undefined"&&s&&!!s.getQueryParam){this.addIntercept("before","Track","Messaging",{topic:"/metrics/callForInfo"})}}});dojo.provide("cox.controller.metrics.OmnitureTrackingController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.metrics.OmnitureTrackingController",mojo.controller.Controller,{params:{},addObservers:function(){this.addObserver(mojo.Messaging.getTopic("/throbber"),"onPublish","Track",function(){var omnitureMessage=mojo.queryFirst("#omniture-response");if(omnitureMessage){msg=omnitureMessage.innerHTML;return{mode:"track",params:{type:"event",options:eval(msg)}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.FavoritesController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.FavoritesController",mojo.controller.Controller,{addObservers:function(){var B="./theater.favorites?id=";this.addObserver(this,"onInit","UpdateClass",function(D,C){favesList=mojo.queryFirst("#theater_favorites_tracker").value.split(",");dojo.forEach(favesList,function(E){var F=mojo.queryFirst("#addFav_theatre_"+E);if(F){F.checked="checked"}})});var A=function(D,C){D.checked=false;mojo.Messaging.publish("error",{title:"Error",text:"We are currently unable to update your favorites.",cause:mojo.queryFirst("input#addFav_theatre_"+C)})};this.addObserver(mojo.query("#finder-results input[type='checkbox']"),"onclick","UpdateClass",function(C,D){var E=D.value.split(";");var K=E[0];var F=E[1];var I=E[2];var G=dojo.hitch(this,A,D,I);if(D.checked){if(mojo.queryFirst("#theater_favorites_tracker").value==""){var J=I}else{var J=mojo.queryFirst("#theater_favorites_tracker").value+","+I}dojo.xhrGet({url:B+J,handleAs:"text",timeout:20000,load:function(Q,P){if(Q=="true"){var O=document.createElement("div");var N=document.getElementById("movie-search-zip-input").value;O.id="fav_"+I;O.className="myplace-seeall-wrap";var R=K+";"+F+";"+I+";";O.innerHTML='<input id="'+K+"-"+I+'" type="checkbox" value="'+R+'" checked="checked"/><label><a href="./theater-detail.cox?movie-search-theaters-input='+I+"&theaterId="+I+"&movie-search-zip-input="+N+'">'+F+"</a></label>";var M="fav-"+K;$(M).appendChild(O);var L="#"+M+"-wrapper .intro";mojo.queryFirst(L).style.display="none";if(mojo.queryFirst("#theater_favorites_tracker").value!=""){mojo.queryFirst("#theater_favorites_tracker").value+=","+I}else{mojo.queryFirst("#theater_favorites_tracker").value=I}mojo.controller.Controller.updateObservers("cox.controller.myplace.FavoritesController")}else{G()}},error:G})}else{var H="fav_"+I;if($(H)){favesList=mojo.queryFirst("#theater_favorites_tracker").value.split(",");favesList.splice(dojo.indexOf(favesList,I),1);dojo.xhrGet({url:B+favesList,handleAs:"text",timeout:20000,load:function(O,N){if(O=="true"){$(H).remove();mojo.queryFirst("#theater_favorites_tracker").value=favesList;var M="fav-"+K;if(mojo.queryFirst("#theater_favorites_tracker").value==""){var L="#"+M+"-wrapper .intro";mojo.queryFirst(L).style.display="block"}mojo.controller.Controller.updateObservers("cox.controller.myplace.FavoritesController")}else{G()}},error:G})}}mojo.controller.Controller.updateObservers("cox.controller.myplace.FavoritesController")});this.addObserver(mojo.query("#myplace-favorites input[type='checkbox']"),"onclick","UpdateClass",function(H,G){var J=G.value.split(";");var F=J[0];var E=J[1];var D=J[2];var I=dojo.hitch(this,A,G,D);var C="fav_"+D;if($(C)){favesList=mojo.queryFirst("#theater_favorites_tracker").value.split(",");favesList.splice(dojo.indexOf(favesList,D),1);dojo.xhrGet({url:B+favesList,handleAs:"text",timeout:20000,load:function(N,M){if(N=="true"){$(C).remove();mojo.queryFirst("#theater_favorites_tracker").value=favesList;var L="fav-"+F;if(mojo.queryFirst("#theater_favorites_tracker").value==""){var K="#"+L+"-wrapper .intro";mojo.queryFirst(K).style.display="block"}var O="addFav_"+F+"_"+D;if($(O)){$(O).checked=false}}else{I()}},error:I})}})},addCommands:function(){this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("UpdateObservers","stdlib.command.UpdateObserversCommand");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){this.addIntercept("around","UpdateClass","BlockProceed",function(D,C,A){if(!C.checked){return{condition:true}}var F=5;var E=$("fav-"+C.value.split(";")[0]);var B=mojo.query("label",E).length<F;if(!B){C.checked=false;mojo.Messaging.publish("error",{title:"Error with your request",text:["You can choose up to 5 favorite theaters and it looks like you already have 5 in your list."," If you remove one I can remember another you'd like to keep."],cause:C})}return{condition:B}})}});dojo.provide("cox.controller.myplace.LandingController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.LandingController",mojo.controller.Controller,{addObservers:function(){this.addObserver("#content a","onclick","Track",function(F,D){var C=D;if(!D.href){return }var B;var H=["snippet-frame","one-col-module","snippet-3up"];for(var A=D;A!=document.body;A=A.parentNode){for(var E=0;E<H.length;E++){if(dojo.hasClass(A,H[E])){B=mojo.queryFirst("h2 > span.middle",A);break}}if(B){break}}var G=B?B.innerHTML+":":"";return{mode:"track",params:{type:"event",options:{customLink:(G+(D.title||D.innerHTML)).toLowerCase()}}}});this.addObserver("#bookmark_widget a","onclick","PreventDefault");this.addObserver("#bookmark_widget a","onclick","SetHomepage")},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("SetHomepage","cox.behavior.SetHomepageBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.MovieFinder");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.MovieFinder",mojo.controller.Controller,{params:{selectedIndex:{required:false,defaultValue:0,type:Number}},addObservers:function(){this.addObserver(this,"onInit","UpdateClass",function(C,B){var A=mojo.query("#movie-finder input[type='radio']");if(A&&A.length!=0){var F=A[0].checked?"#title-search, #movie-search-ondemand":"#theater-search";if(A[1].checked){var E=mojo.queryFirst("#movie-finder form#title-search");dojo.removeClass(E,"active");var D=mojo.queryFirst("#movie-search-ondemand");dojo.removeClass(D,"active");return{element:mojo.query("#movie-finder form"+F),action:"add",cssClass:"active"}}}});this.addObserver(mojo.query("#movie-finder input[type='radio']"),"onclick","UpdateClass",function(B,A){return{element:mojo.query("#movie-finder form, #movie-search-ondemand"),action:"remove",cssClass:"active"}});this.addObserver(mojo.query("#movie-finder input[type='radio']"),"onclick","UpdateClass",function(C,B){var A=(B.value=="title");var D=A?"#title-search, #movie-search-ondemand":"#theater-search";return{element:mojo.query("#movie-finder form"+D),action:"add",cssClass:"active"}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.OmnitureContentColumnController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.OmnitureContentColumnController",mojo.controller.Controller,{addObservers:function(){this.addObserver("#content a","onclick","Track",function(F,D){var C=D;var B;var H=["one-col-module","two-col-module","three-col-module","four-col-module","five-col-module"];for(var A=D;A!=document.body;A=A.parentNode){for(var E=0;E<H.length;E++){if(dojo.hasClass(A,H[E])){B=mojo.queryFirst("h2 > span.middle",A);break}}if(B){break}}var G=B?B.innerHTML+":":"";return{mode:"track",params:{type:"event",options:{customLink:(G+(D.title||D.innerHTML)).toLowerCase()}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.OnlineActivationController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.OnlineActivationController",mojo.controller.Controller,{params:{displayBlockSelectors:{defaultValue:[],type:Array},displayNoneSelectors:{defaultValue:[],type:Array}},addObservers:function(){this.addObserver(mojo.queryFirst("#ddConfirmWith"),"onchange","PreventDefault");formDisplay=function(B){var A=mojo.queryFirst("#ddConfirmWith").value;if(A=="optPIN"){B.setValue("displayBlockSelectors",["#frmPIN"]);B.setValue("displayNoneSelectors",["#frmUID"])}else{B.setValue("displayBlockSelectors",["#frmUID"]);B.setValue("displayNoneSelectors",["#frmPIN"])}};this.addObserver(mojo.queryFirst("#ddConfirmWith"),"onchange","SwapElementDisplay",function(C,B,A){formDisplay(A)});this.addObserver(this,"onInit","SwapElementDisplay",function(C,B,A){if(mojo.query("#ddConfirmWith").length>0){formDisplay(A)}});this.addObserver(mojo.query("form#frmUID"),"onsubmit","StoreLoginCookie",function(B,A){return{form:A}});this.addObserver(".activate-device-form input","onclick","Messaging",function(A,B){return{topic:"dialog",message:{enabled:true,scriptText:true,title:'<h3 class="loading-title">Please wait...</h3>',text:'<div class="loading-message"><p>This may take a moment while we active your device.</p></div>',width:620,height:180}}});this.addObserver(mojo.query(".activate-device-form"),"onsubmit","Track",function(A,B){return{mode:"track",params:{type:"event",options:{eventName:"activateDevice"}}}})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("SwapElementDisplay","cox.behavior.SwapElementDisplay");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("StoreLoginCookie","cox.behavior.StoreLoginCookieBehavior");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.SearchAdvancedController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.SearchAdvancedController",mojo.controller.Controller,{params:{defaultSearchText:{defaultValue:"Use the form below and your search will appear here",type:String}},addObservers:function(){this.addObserver(this,"onInit","UpdateClass",function(D,C,B){var A=mojo.queryFirst("#search-input");if(!A.value){A.value=B.getValue("defaultSearchText");dojo.addClass("search-input","default")}});this.addObserver("input","onkeyup","UpdateClass",function(A,B,F){var G="";var H=" -";var J="";var D=mojo.queryFirst("#search-input");var C=mojo.queryFirst("#search-all-input").value;var L=mojo.queryFirst("#search-exact-input").value;var M=mojo.queryFirst("#search-or-input1").value;var K=mojo.queryFirst("#search-or-input2").value;var I=mojo.queryFirst("#search-or-input3").value;var N=mojo.queryFirst("#search-unwanted-input").value;if(L){L=' "'+L+'"'}if(M){M=' "'+M+'"'}if(C||L||M){G=" OR "}if(K){K=G+'"'+K+'"'}if(C||L||M||K){G=" OR "}if(I){I=G+'"'+I+'"'}if(N){params=N.split('"');for(var E=0;E<params.length;E++){if(params[E]!=""){if(params[E].match("^"+s)!=" "&&E>0){tmp='"'+params[E]+'"'}else{tmp=params[E].replace(/\s/g," -")}J+=tmp}}J=" -"+J}D.value=C+L+M+K+I+J;if(D.value==""){D.value=F.getValue("defaultSearchText");dojo.addClass("search-input","default")}else{dojo.removeClass("search-input","default")}});this.addObserver("a.basic-search","onclick","UpdateClass",function(F,E,D){var B=mojo.queryFirst("#search-input").value;var A=mojo.query("input[name='filter']");var G;dojo.forEach(A,function(H){if(H.checked){G=H.value}});var C=E.href;C=C+"?filter="+G;if(B&&(B!=D.getValue("defaultSearchText"))){C=C+"&term="+encodeURIComponent(B)}E.href=C});this.addObserver("form","onsubmit","PreventDefault");this.addObserver(".filter-radios input[type='radio']","onclick","UpdateClass",function(E,C,A){var D=C.form;var B=mojo.query(".filter-radios input[type='radio']");if(B[0].checked){C.form.action=internalUrl}else{C.form.action=externalUrl}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior")},addIntercepts:function(){this.addIntercept("around","PreventDefault","BlockProceed",function(D,C,B){var E=mojo.queryFirst("#search-input").value;var A=B.getValue("defaultSearchText");if(E==A){return{condition:true}}})}});dojo.provide("cox.controller.myplace.SearchBasicController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.SearchBasicController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".advanced-link a","onclick","UpdateClass",function(E,D,C){var B=mojo.queryFirst("#query-search-input").value;var A=mojo.query("input[name='filter']");var G;dojo.forEach(A,function(H){if(H.checked){G=H.value}});var F=D.href;F=F+"?filter="+G;if(B){F=F+"&term="+encodeURIComponent(B)}D.href=F});this.addObserver(".filter-radios input[type='radio']","onclick","UpdateClass",function(E,C,A){var D=C.form;var B=mojo.query(".filter-radios input[type='radio']");if(B[0].checked){C.form.action=internalUrl}else{C.form.action=externalUrl}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.ServicesController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.ServicesController",mojo.controller.Controller,{addObservers:function(){this.addObserver("#content a","onclick","Track",function(F,E){var D=E;var C;var H=["snippet-frame"];for(var B=E;B!=document.body;B=B.parentNode){if(dojo.hasClass(B,H)){C=mojo.queryFirst("h2.module-header",B);break}if(C){break}}var G=C?C.innerHTML+":":"";var A=__coxOmnitureParams?__coxOmnitureParams.pageName+":":"";return{mode:"track",params:{type:"event",options:{customLink:(A+G+(E.title||E.innerHTML)).toLowerCase()}}}})},addCommands:function(){this.addCommand("Set","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.SlideshowController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.SlideshowController",mojo.controller.Controller,{params:{selectedIndex:{required:false,defaultValue:0,type:Number},duration:{required:false,defaultValue:5,type:Number},autoPlay:{required:false,defaultValue:false,type:Boolean},isPlaying:{required:false,defaultValue:false,type:Boolean}},addObservers:function(){var D=mojo.queryFirst(".slideshow-detail",this.getContextElement());var B=mojo.query(".filmstrip-page",D);var A=mojo.queryFirst(".slidebox .filmstrip-component",this.getContextElement());var C=mojo.query(".filmstrip-content .step",mojo.queryFirst(".slidebox",this.getContextElement()));this.addObserver(this.getConfig("params").isPlaying,"onChange","UpdateCss",function(H,G,F){var E=mojo.query(".slideshow-detail .slide-poster a",H);if(G.getValue()){dojo.forEach(E,function(I){dojo.removeClass(I,"play");dojo.addClass(I,"pause")})}else{dojo.forEach(E,function(I){dojo.addClass(I,"play");dojo.removeClass(I,"pause")})}});this.addObserver(".slideshow-detail .slide-poster a","onclick","PreventDefault");this.addObserver(".slideshow-detail .slide-poster a","onclick","Slideshow",function(G,F,E){return{action:"toggle",duration:E.getValue("duration"),controllerEl:D,length:B.length,controller:E}});this.addObserver(".slideshow-detail .filmstrip-prev","onclick","PreventDefault");this.addObserver(".slideshow-detail .filmstrip-prev","onclick","UpdateCss",function(){var E=D.mojoControllers["cox.controller.FilmStripController"];var F=E.getValue("selectedIndex");if(F>0){E.setValue("selectedIndex",F-1)}else{if(E.getValue("loop")){E.setValue("selectedIndex",B.length-1)}}});this.addObserver(".slideshow-detail .filmstrip-next","onclick","PreventDefault");this.addObserver(".slideshow-detail .filmstrip-next","onclick","UpdateCss",function(){var E=D.mojoControllers["cox.controller.FilmStripController"];var F=E.getValue("selectedIndex");if(F<B.length-1){E.setValue("selectedIndex",F+1)}else{if(E.getValue("loop")){E.setValue("selectedIndex",0)}}});this.addObserver(".slidebox .filmstrip-content .step","onclick","PreventDefault");this.addObserver(".slidebox .filmstrip-content .step","onclick","UpdateCss",function(F,E){return{element:mojo.query(".slidebox .filmstrip-page a",F),action:"remove",cssClass:"active"}});this.addObserver(".slidebox .filmstrip-content .step","onclick","UpdateCss",function(G,F){var H=D.mojoControllers["cox.controller.FilmStripController"];for(var E=0;E<C.length;E++){if(C[E]==F){break}}if(E!=C.length){H.setValue("selectedIndex",E)}return{element:F,action:"add",cssClass:"active"}});this.addObserver(".slidebox .filmstrip-content .step, .slideshow-detail .filmstrip-prev, .slideshow-detail .filmstrip-next","onclick","Slideshow",function(G,F,E){return{action:"pause",duration:E.getValue("duration"),controllerEl:D,length:B.length,controller:E}});this.addObserver(mojo.Messaging.getTopic("/filmstrip/indexChanged"),"onPublish","UpdateCss",function(H,F,E){var I=F.getMessage();try{var J=D.mojoControllers["cox.controller.FilmStripController"];var G=A.mojoControllers["cox.controller.FilmStripController"]}catch(K){console.log("The controllers aren't attached to their elements yet.");return }if(I.context==D&&G){E.setValue("selectedIndex",I.selectedIndex);G.setValue("selectedIndex",Math.floor(I.selectedIndex/4));dojo.forEach(C,function(M){dojo.removeClass(M,"active")});dojo.addClass(C[I.selectedIndex],"active");var L=mojo.queryFirst(".ad-container iframe");if(L){L.src=L.src+";ord2="+Math.random()*10000000000000000}}})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateCss","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Slideshow","cox.behavior.myplace.SlideshowBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.TVListingsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.TVListingsController",mojo.controller.Controller,{params:{detailURL:{defaultValue:window.detailURL,type:String},isAnimating:{defaultValue:false,type:Boolean},doSearch:{defaultValue:true,type:Boolean},doCookieSet:{defaultValue:true,type:Boolean},currentTab:{}},addObservers:function(){this.addObserver("#tv-listing-data .channel-timeline li a","onclick","PreventDefault");var A;var F;var H=function(K,J,I){mojo.Messaging.publish("error",{title:"Service Unavailable",text:"This service is currently unavailable. Please try again later."});dojo.removeClass(J,"active");return C(K,J,I,false)};var C=function(L,K,J,O){A=J.getValue("currentTab");if((K==A)||dojo.hasClass(K,"close")){K=null;D("cox-tv-show","",false,"session")}else{if(O){var I=mojo.query("#griddate-input")[0].value;var M=mojo.query("#gridtime")[0].value;var N=I+"|"+M+"|"+K.id;D("cox-tv-show",N,true,"session")}}J.setValue("currentTab",K);return{element:dojo.filter([A,K],function(P){return P}),action:"toggle",cssClass:"active"}};var E=function(I,J,N,L,P){mojo.Messaging.publish("dialog",{enabled:true,scriptText:true,title:'<h3 class="loading-title">Please wait...</h3>',text:'<div class="loading-message"><p>This may take a moment while we pull up your TV Listings.</p></div>',width:620,height:180});var M=mojo.queryFirst("#tv-grid",I);N.setValue("doSearch",!!P);var Q=document.location.search;var O=dojo.hitch(this,H,I,J,N);var K=function(S){mojo.Messaging.publish("dialog",{enabled:false});M.innerHTML=S;G(I,J,N);if(Q&&N.getValue("doSearch")){var R=dojo.queryToObject(Q.slice(1)).showid;var W=dojo.queryToObject(Q.slice(1)).cookie;if(W){var V=B("cox-tv-show");if(V.length>0){var U=V.split("|");var R=U[2];if(R!=""){var T=mojo.queryFirst("#"+R);if(T){window.location.replace(window.location.toString().replace(window.location.hash,"")+"#"+R);J=T;dojo.addClass(T,"active");return C(I,T,N,false)}else{mojo.Messaging.publish("error",{title:"Program Unavailable",text:"We can't find the program you're looking for. Check the TV listings grid for the latest programming."})}}}}else{if(R){var T=mojo.queryFirst("#"+R);if(T){window.location.replace(window.location.toString().replace(window.location.hash,"")+"#"+R);J=T;dojo.addClass(T,"active");return C(I,T,N,true)}else{mojo.Messaging.publish("error",{title:"Program Unavailable",text:"We can't find the program you're looking for. Check the TV listings grid for the latest programming."})}}}}};window.setTimeout(function(){dojo.xhrGet({url:L,handleAs:"text",timeout:20000,load:K,error:O})},0)};var D=function(P,N,J,I){var O=N;var M=new Date();M.setTime(M.getTime()+(2*365*24*60*60*1000));if(I=="persistent"){var L="; expires="+M.toGMTString();var K="; expires="+new Date(0).toGMTString()}else{var L="";var K=""}if(navigator.cookieEnabled){if(J){document.cookie=P+"="+O+L+"; path=/"}else{document.cookie=P+"="+O+K+"; path=/"}}};var B=function(I){if(document.cookie.length>0){c_start=document.cookie.indexOf(I+"=");if(c_start!=-1){c_start=c_start+I.length+1;c_end=document.cookie.indexOf(";",c_start);if(c_end==-1){c_end=document.cookie.length}return unescape(document.cookie.substring(c_start,c_end))}}return""};this.addObserver(this,"onInit","UpdateClass",function(M,K,I){var P=mojo.queryFirst("#pf-onsuccess");var N=mojo.queryFirst("#pf-onfailure");if(P&&P.value.indexOf("cookie")==-1){var O=(P.value.indexOf("%3F")!=-1)?"%26":"%3F";P.value+=O+"cookie%3Dtrue";N.value+=O+"cookie%3Dtrue"}var P=mojo.queryFirst("#onsuccess");var N=mojo.queryFirst("#onfailure");if(P&&P.value.indexOf("cookie")==-1){var O=(P.value.indexOf("%3F")!=-1)?"%26":"%3F";P.value+=O+"cookie%3Dtrue";N.value+=O+"cookie%3Dtrue"}var J=mojo.queryFirst(".tvlistings-grid");if(J){var L=window.gridURL;return E(M,K,I,L,"doSearch")}});this.addObserver("#tv-listing-data a.close","onclick","PreventDefault");this.addObserver("#tv-listing-data .channel-timeline li, #tv-listing-data a.close","onclick","UpdateClass",function(K,J,I){return C(K,J,I,true)});this.addObserver("#tv-grid .tv-listing-nav li a","onclick","PreventDefault");this.addObserver("#tv-listing-nav-row-1 li a","onclick","UpdateClass",function(K,J,I){return E(K,J,I,J.href)});this.addObserver("#tv-listing-data th a, .tv-page-prev-next a","onclick","PreventDefault");this.addObserver("#tv-listing-data th a, .tv-page-prev-next a","onclick","UpdateClass",function(K,J,I){return E(K,J,I,J.href)});this.addObserver("#tv-grid .reload a","onclick","PreventDefault");this.addObserver("#tv-grid .reload a","onclick","UpdateClass",function(K,J,I){return E(K,J,I,J.href)});this.addObserver(this.getConfig("params").currentTab,"onChange","UpdateClass",function(I,J,M){J=M.getValue("currentTab")||A;var L=J.id;var O=document.getElementById(L);var N=dojo.hitch(this,H,I,J,M);var Q;for(var P=J;P.tagName!="BODY";P=P.parentNode){if(P.tagName=="TR"){Q=P.id;break}}var K=function(T){var W;if(J!=A){W=new Element("tr",{id:Q+"-details",style:"display:table-row;*display:block;"});var U=new Element("td",{colspan:7,id:Q+"-data"});U.inject(W);W.inject(Q,"after");U.innerHTML=T;mojo.controller.Map.getInstance().mapController("cox.controller.ToggleController",W);mojo.controller.Map.getInstance().mapController("cox.controller.myplace.TVListingsSetScheduleController",W)}var V="259";var S=W&&$(mojo.queryFirst(".show-details-wrap",W));var R=F&&mojo.queryFirst(".show-details-wrap",F);dojo.animateProperty({node:W||F,duration:600,easing:function(X){if(X==0){return 0}if(X==1){return 1}X=X*2;if(X<1){return Math.pow(2,10*(X-1))/2}--X;return(-1*Math.pow(2,-10*X)+2)/2},onAnimate:function(){if(R){R.setStyle("height",Math.floor(V-(this._getStep()*V)))}if(S){S.setStyle("height",Math.floor(this._getStep()*V))}M.setValue("isAnimating",true)},onEnd:function(){if(R){F.remove()}if(S){S.setStyle("height","auto")}F=W;M.setValue("isAnimating",false)}}).play()};if(J==A){K()}else{dojo.xhrGet({url:detailURL+L,handleAs:"text",timeout:20000,load:K,error:N})}});this.addObserver("#change-location-input","onchange","UpdateClass",function(K,J,I){var L=mojo.queryFirst("#dateTimeForm");gridId=J.value;if(L){gridAction=L.action;gridDate=mojo.queryFirst("#griddate-input",L).value;gridTime=mojo.queryFirst("#gridtime",L).value;gridCat=mojo.queryFirst("#gridcat",L).value;gridURL=gridAction+"?gridid="+gridId+"&griddate="+gridDate+"&gridtime="+gridTime+"&cat="+gridCat+"&chanstart=0"}else{gridAction=window.gridURL;gridURL=gridURL.replace(/gridid=(.*?)&/,"gridid="+gridId+"&")}D("cox-tv-grid",gridId,true,"persistent");return E(K,J,I,gridURL)});var G=function(K,J,I){I.addObserver(mojo.query("#griddate-input",K),"onchange","UpdateClass",function(L,M,P){var R=mojo.queryFirst("#dateTimeForm");var V=R.action;var N=mojo.queryFirst("#gridid",R).value;var T=M.value;var S=mojo.queryFirst("#gridtime",R).value;var Q=mojo.queryFirst("#gridcat",R).value;var U=mojo.queryFirst("#gridstart",R).value;var O=V+"?gridid="+N+"&griddate="+T+"&gridtime="+S+"&cat="+Q+"&chanstart="+U;return E(L,M,P,O)});I.addObserver(mojo.query("#gridtime-input",K),"onchange","UpdateClass",function(L,M,P){var R=mojo.queryFirst("#dateTimeForm");var V=R.action;var N=mojo.queryFirst("#gridid",R).value;var T=mojo.queryFirst("#griddate-input",R).value;var S=M.value;var Q=mojo.queryFirst("#gridcat",R).value;var U=mojo.queryFirst("#gridstart",R).value;var O=V+"?gridid="+N+"&griddate="+T+"&gridtime="+S+"&cat="+Q+"&chanstart="+U;return E(L,M,P,O)});I.addObserver(mojo.query(".tv-page-jump select",K),"onchange","UpdateClass",function(L,M,P){var R=mojo.queryFirst("#dateTimeForm");var V=R.action;var N=mojo.queryFirst("#gridid",R).value;var T=mojo.queryFirst("#griddate-input",R).value;var S=mojo.queryFirst("#gridtime",R).value;var Q=mojo.queryFirst("#gridcat",R).value;var U=M.value;var O=V+"?gridid="+N+"&griddate="+T+"&gridtime="+S+"&cat="+Q+"&chanstart="+U;return E(L,M,P,O)});I.addObserver(mojo.query("#tv-grid form",K),"onsubmit","PreventDefault");I.addObserver(mojo.query(".tv-page-goto a"),"onclick","UpdateClass",function(R,O,L){var M=mojo.query(".tv-page-goto input");M=M[0].value||M[1].value;var N=mojo.queryFirst("#jump-select").options;var S=O.href;for(var Q=0;Q<N.length;Q++){if((N[Q].value==M)&&M!=""){var P=S+"&chanstart="+M;return E(R,O,L,P)}}});I.addObserver(mojo.query(".tv-page-goto input",K),"onkeydown","EnterKey");I.addObserver(mojo.Messaging.getTopic("enterKeyPress"),"onPublish","UpdateClass",function(Q,N){var R=N.getMessage();if(R=="enter"){var L=mojo.query(".tv-page-goto input");L=L[0].value||L[1].value;var M=mojo.queryFirst("#jump-select").options;var S=mojo.queryFirst(".tv-page-goto a").href;for(var P=0;P<M.length;P++){if((M[P].value==L)&&L!=""){var O=S+"&chanstart="+L;return E(Q,N,I,O)}}}})};this.addObserver("#tv-listing-nav-row-1 a","onclick","Track",function(J,I){return{mode:"track",params:{type:"event",options:{dvrFilter:(I.firstChild.innerHTML).toLowerCase()}}}});this.addObserver("form#searchListingsForm","onsubmit","Track",function(J,I){return{mode:"track",params:{type:"event",options:{dvrSearch:(mojo.query("#search-forecast-input")[0].value).toLowerCase()}}}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("EnterKey","cox.behavior.interface.form.EnterKeyBehavior");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){this.addIntercept("around","UpdateClass","BlockProceed",function(){return{condition:!this.getController().getValue("isAnimating")}})}});dojo.provide("cox.controller.myplace.TVListingsSetScheduleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.TVListingsSetScheduleController",mojo.controller.Controller,{params:{formChange:{}},addObservers:function(){var B=function(D){var F=mojo.queryFirst(".processing");var E=mojo.queryFirst(".note",D);var C=mojo.queryFirst(".btn-set-record");if(C){F.style.display="none";E.style.display="block";C.disabled=false;dojo.removeClass(C,"btn-set-record-disabled")}mojo.Messaging.publish("error",{title:"Service Unavailable",text:"This service is currently unavailable. Please try again later."})};this.addObserver(this,"onInit","UpdateClass",function(E,D,C){mojo.Messaging.publish("remapControllers")});this.addObserver("form.set-record","onsubmit","PreventDefault");this.addObserver("form.set-record","onsubmit","UpdateClass",function(C,D,I){var G=mojo.queryFirst(".note",D);var F=mojo.queryFirst(".processing",D);var H=mojo.queryFirst(".btn-set-record",D);var K=mojo.queryFirst("#set-dvr",C);var J=dojo.hitch(this,B,D);if(H){G.style.display="none";F.style.display="block";H.disabled=true;dojo.addClass(H,"btn-set-record-disabled")}var E=function(L){K.innerHTML=L;mojo.controller.Controller.updateObservers("cox.controller.myplace.TVListingsSetScheduleController");mojo.Messaging.publish("remapControllers");I.setValue("formChange",D)};dojo.xhrGet({url:D.action,form:D,handleAs:"text",timeout:20000,load:E,error:J})});this.addObserver("form.set-record .btn-record","onclick","Track",function(D,C){return{mode:"track",params:{type:"event",options:{eventName:"dvrRecord"}}}});this.addObserver("form.set-record .btn-set-record","onclick","Track",function(D,C){return{mode:"track",params:{type:"event",options:{eventName:"dvrSetRecord"}}}});this.addObserver(this.getConfig("params").formChange,"onChange","Track",function(){var C=mojo.queryFirst("#dvr-msg-track");if(C){msg=C.innerHTML;return{mode:"track",params:{type:"event",options:{confirmationMsg:"remote dvr: "+msg.toLowerCase()}}}}});this.addObserver(mojo.Messaging.getTopic("remapControllers"),"onPublish","MapControllers",function(){return{contextObj:mojo.queryFirst("#dvr-messaging")}});this.addObserver(mojo.query("#tv-grid .btn-help"),"onclick","PreventDefault");this.addObserver(mojo.query("#tv-grid .btn-help"),"onmouseover","ToolTip",function(D,C){return A(D,C)});this.addObserver(mojo.query("#tv-grid .btn-help"),"onmouseout","ToolTip",function(){return{show:false}});var A=function(E,C){var F=dojo.position(C);var G=mojo.queryFirst(".tooltip-info",C.parentNode);var D=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(G){G=G.innerHTML}else{G="Tooltip not available."}return{show:true,info:G,offsetX:F.w+15,offsetY:F.h/2-35,underlayMark:".wrapper",template:'<div class="tooltip"><div class="wrapper"><div class="arrow">&nbsp;</div><table class="head"><tr><td class="tl"></td><td class="t">&nbsp;</td><td class="tr"></td></tr></table><table class="body"><tr><td class="l"></td><td class="c"><div class="dialog-pane-content"></div></td><td class="r"></td></tr></table>\n<table class="foot"><tr><td class="bl"></td><td class="b">&nbsp;</td><td class="br"></td></tr></table></div></div>'}}},addCommands:function(){this.addCommand("ToolTip","cox.behavior.ToolTipBehavior");this.addCommand("MapControllers","stdlib.command.MapControllersCommand");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.WeatherCityPickerController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.WeatherCityPickerController",mojo.controller.Controller,{addObservers:function(){this.addObserver("select.select-weather","onchange","RedirectBehavior",function(C,B,A){var E=dojo.queryToObject(window.location.search.slice(1));E.city=B.value;var D="?"+dojo.objectToQuery(E);return{url:document.location.search?document.location.href.replace(document.location.search,D):document.location.href+D}})},addCommands:function(){this.addCommand("RedirectBehavior","stdlib.behavior.RedirectBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.WeatherMapPickerController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.WeatherMapPickerController",mojo.controller.Controller,{params:{mapImagePrefix:{defaultValue:"",type:String}},addObservers:function(){this.setValue("mapImagePrefix",window.mapImageUrl);this.addObserver("#add-location","onmousedown","WeatherPicker",function(C,B,A){return{action:"add"}});this.addObserver("#myplace-forecast-input","onfocus","WeatherPicker",function(C,B,A){return{action:"add"}});this.addObserver("#location-submit","onmousedown","WeatherPicker",function(C,B,A){return{action:"save"}});this.addObserver("#location-move-up","onclick","WeatherPicker",function(){return{action:"move",direction:-1}});this.addObserver("#location-move-up","onclick","PreventDefault");this.addObserver("#location-move-down","onclick","WeatherPicker",function(){return{action:"move",direction:1}});this.addObserver("#location-move-down","onclick","PreventDefault");this.addObserver("#location-delete","onclick","WeatherPicker",function(){return{action:"delete"}});this.addObserver("#location-delete","onclick","PreventDefault");this.addObserver("#preview-national","onclick","WeatherPicker",function(){return{action:"changeMap",type:"national"}});this.addObserver("#preview-regional","onclick","WeatherPicker",function(C,B,A){return{action:"changeMapType",type:dojo.formToObject(mojo.queryFirst("#userPrefsForm")).radmaptype}});this.addObserver("#preview-regional","onclick","WeatherPicker",function(){return{action:"changeMap",type:"regional"}});this.addObserver(this,"onInit","AnimateMap",function(B,A){return{action:"init",link:mojo.queryFirst(".myplace-weathermap-animate"),image:mojo.queryFirst(".myplace-weathermap")}});this.addObserver(mojo.query(".myplace-weathermap-animate"),"onclick","PreventDefault");this.addObserver(mojo.query(".myplace-weathermap-animate"),"onclick","AnimateMap",function(B,A){return{action:"toggle",link:A,image:mojo.queryFirst(".myplace-weathermap")}})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("WeatherPicker","cox.behavior.myplace.WeatherMapPickerBehavior");this.addCommand("AnimateMap","cox.behavior.AnimateWeatherMapBehavior")},addIntercepts:function(){this.addIntercept("before","WeatherPicker","AnimateMap",function(){return{action:"stop",link:mojo.queryFirst(".myplace-weathermap-animate"),image:mojo.queryFirst(".myplace-weathermap")}});this.addIntercept("after","WeatherPicker","AnimateMap",function(){return{action:"init",link:mojo.queryFirst(".myplace-weathermap-animate"),image:mojo.queryFirst(".myplace-weathermap")}})}});dojo.provide("cox.controller.resaccount.MyAccountController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.resaccount.MyAccountController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".sub-tabs a","onclick","Track",function(D,C){var A=__coxOmnitureParams?__coxOmnitureParams.pageName+":":"";var G=__coxOmnitureParams?__coxOmnitureParams.hier1+",":"";var E=__coxOmnitureParams?__coxOmnitureParams.hier2+",":"";var B=__coxOmnitureParams?__coxOmnitureParams.localeName+":":"";var F=C.title.toLowerCase();if(F){return{mode:"track",params:{type:"pageview",clearVariables:"true",options:{pageName:A+F,hier1:G+F,hier2:E+F,localePagename:B+A+F}}}}});this.addObserver(".allservices a.rounded","onclick","Track",function(B,A){var C=A.innerHTML.replace(/<\/?[^>]+(>|$)/g,"").toLowerCase();if(C){return{mode:"track",params:{type:"event",options:{customLink:C}}}}});this.addObserver("#promotion a.rounded-large","onclick","Track",function(B,A){var C=A.innerHTML.replace(/<\/?[^>]+(>|$)/g,"").toLowerCase();if(C){return{mode:"track",params:{type:"event",options:{customLink:"promo:"+C}}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.resaccount.MyAccountHeaderController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.resaccount.MyAccountHeaderController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query("#makepayment"),"onclick","Track",function(B,A){var C=A.innerHTML.replace(/<\/?[^>]+(>|$)/g,"").toLowerCase();if(C){return{mode:"track",params:{type:"event",options:{customLink:C}}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.residential.BillingController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.residential.BillingController",mojo.controller.Controller,{addObservers:function(){cancelPopup=function(A,B){return{topic:"dialog",message:{enabled:true,title:"",element:mojo.queryFirst(".cancel-popup",B.parentNode),width:440,height:110}}};this.addObserver(".recent-activity-cancel-link","onclick","PreventDefault");this.addObserver(".recent-activity-cancel-link","onclick","Messaging",cancelPopup);this.addObserver("a.printpage-link","onclick","PreventDefault");this.addObserver(".cancel-form","onsubmit","PreventDefault");this.addObserver(".cancel-form","onsubmit","Messaging",cancelPopup);toggleSteps=function(A){mojo.query(".payment-steps > li").forEach(function(B,C){if(dojo.hasClass(B,A.id+"Toggle")||dojo.hasClass(B,"payment-steps-always")){B.style.display="list-item"}else{B.style.display="none"}});if(A.id=="optPayWithCard"){if(window.reloadObject&&window.reloadObject.isBackLoad){mojo.queryFirst("#invalid-card-error").innerHTML="";mojo.query(".disable-toggle").toggleClass("disable-edit");mojo.queryFirst("#txtCardNum").disabled=true;mojo.queryFirst("#change-card-link").style.display="inline-block";mojo.queryFirst("#card-types-help").style.display="none";mojo.queryFirst("#subopt-validate-card").style.display="none";mojo.queryFirst("#subopt-type-and-name").style.display="block";mojo.queryFirst("form.cancel-form").style.display="block";mojo.queryFirst("#submitPayment").style.display="block";if(window.reloadObject.cardType=="ATM"){mojo.queryFirst("#subopt-process-choice").style.display="none";if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.addClass("subopt-debit","no-bullet")}mojo.queryFirst("#subopt-credit").style.display="none"}else{if(window.reloadObject.isDebitAllowed){mojo.queryFirst("#subopt-process-choice").style.display="block";if(mojo.queryFirst("#optPayByDebit").checked){if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.addClass("subopt-debit","no-bullet")}mojo.queryFirst("#subopt-credit").style.display="none"}else{if(mojo.queryFirst("#optPayByCredit").checked){mojo.queryFirst("#subopt-credit").style.display="block";if((dummy=mojo.queryFirst("#optSchedulePayment"))){dummy.style.display="list-item";if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.removeClass("subopt-debit","no-bullet")}}else{if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.addClass("subopt-debit","no-bullet")}}}}}else{mojo.queryFirst("#subopt-process-choice").style.display="none";mojo.queryFirst("#subopt-credit").style.display="block";if((dummy=mojo.queryFirst("#optSchedulePayment"))){dummy.style.display="list-item";if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.removeClass("subopt-debit","no-bullet")}}else{if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.addClass("subopt-debit","no-bullet")}}}}mojo.query("span.valid-card-type").forEach(function(B){B.innerHTML=window.reloadObject.cardType});mojo.queryFirst("#txtCardType").value=window.reloadObject.cardType;window.reloadObject=false}else{mojo.query(".disable-toggle").removeClass("disable-edit");if((dummy=mojo.queryFirst("#txtCardNum"))){dummy.disabled=false}if((dummy=mojo.queryFirst("#change-card-link"))){dummy.style.display="none"}if((dummy=mojo.queryFirst("#card-types-help"))){dummy.style.display="inline-block"}if((dummy=mojo.queryFirst("#subopt-validate-card"))){dummy.style.display="block"}if((dummy=mojo.queryFirst("#subopt-process-choice"))){dummy.style.display="none"}if((dummy=mojo.queryFirst("#subopt-type-and-name"))){dummy.style.display="none"}if((dummy=mojo.queryFirst("#subopt-debit"))){dummy.style.display="none"}if((dummy=mojo.queryFirst("#subopt-credit"))){dummy.style.display="none"}if((dummy=mojo.queryFirst("#validate-card"))){mojo.queryFirst("form.cancel-form").style.display="none";mojo.queryFirst("#submitPayment").style.display="none"}if((dummy=mojo.queryFirst("#optSchedulePayment"))){dummy.style.display="none"}}if((dummy=mojo.queryFirst("#optPayByDebit[checked]"))){if((dummy=mojo.queryFirst("input[name='optPayOn']"))){dummy.click()}}}else{if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.removeClass(dummy,"no-bullet")}if((dummy=mojo.queryFirst("#validate-card"))){mojo.queryFirst("form.cancel-form").style.display="block";mojo.queryFirst("#submitPayment").style.display="block"}}if(A.id=="optPayWithSavedMethod"){if((dummy=mojo.queryFirst("#saved-payment-method"))){dummy.style.display="block"}}else{if((dummy=mojo.queryFirst("#saved-payment-method"))){dummy.style.display="none"}}};toggleAmount=function(A){var B=mojo.queryFirst("#multi-amount-payment");if(A.id=="optPayAmtSelected"){if((dummy=B)){dummy.style.display="block"}}else{if((dummy=B)){dummy.style.display="none"}}};clearMsgError=function(B){var A=B.parentNode;if(A){while(A.tagName.toLowerCase()!="form"){A=A.parentNode}mojo.query(".msgError",A).forEach(function(C){C.style.display="none"})}};optValidateRequiredTxt=function(B){mojo.query("."+B.name).forEach(function(C){dojo.removeClass(C,"required");dojo.addClass(C,"required-disabled");C.disabled=true});var A;if(B.form[B.name].length){A=B.form[B.name]}else{A=[B.form[B.name]]}dojo.forEach(A,function(C){if(C.checked){mojo.query("."+C.id).forEach(function(D){dojo.removeClass(D,"required-disabled");dojo.addClass(D,"required");D.disabled=false})}})};cardContinue=function(D,C,B){var F=mojo.queryFirst("#txtCardNum").value.trim();if(window.validateCardURL.match(/json/)){switch(F){case"0000000000000000":window.validateCardURL="includes/validate-card-debit.json";break;case"1111111111111111":window.validateCardURL="includes/validate-card-credit.json";break;default:window.validateCardURL="includes/validate-card-invalid.json"}}clearMsgError(C);var E=function(){mojo.queryFirst("#invalid-card-error").innerHTML="<div class='msgError'><p>We're sorry. We could not validate the card number entered. Please re-enter the card number or select a different method of payment.</p></div>"};var A=function(G){if(G.cardType==""){E()}else{mojo.queryFirst("#invalid-card-error").innerHTML="";mojo.query(".disable-toggle").toggleClass("disable-edit");mojo.queryFirst("#txtCardNum").disabled=true;mojo.queryFirst("#change-card-link").style.display="inline-block";mojo.queryFirst("#card-types-help").style.display="none";mojo.queryFirst("#subopt-validate-card").style.display="none";mojo.queryFirst("#subopt-type-and-name").style.display="block";mojo.queryFirst("input[name='payment-method-pay-by']").checked="checked";mojo.queryFirst("form.cancel-form").style.display="block";mojo.queryFirst("#submitPayment").style.display="block";if(G.isDebit&&G.cardType=="ATM"){if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.addClass("subopt-debit","no-bullet")}mojo.queryFirst("#optPayByDebit").checked="checked";if((dummy=mojo.queryFirst("input[name='optPayOn']"))){dummy.click()}}else{if(G.isDebit){mojo.queryFirst("#subopt-process-choice").style.display="block";if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.addClass("subopt-debit","no-bullet")}mojo.queryFirst("#optPayByDebit").checked="checked";if((dummy=mojo.queryFirst("input[name='optPayOn']"))){dummy.click()}}else{mojo.queryFirst("#subopt-credit").style.display="block";if((dummy=mojo.queryFirst("#optSchedulePayment"))){dummy.style.display="list-item";if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.removeClass("subopt-debit","no-bullet")}}else{if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.addClass("subopt-debit","no-bullet")}}mojo.queryFirst("#optPayByCredit").checked="checked"}}mojo.query("span.valid-card-type").forEach(function(H){H.innerHTML=G.cardType});mojo.queryFirst("#txtCardType").value=G.cardType}};if(F==""){mojo.queryFirst("#invalid-card-error").innerHTML="<div class='msgError'><p>Please enter a Card #.</p></div>"}else{dojo.xhrPost({url:window.validateCardURL,content:{cardNumber:mojo.queryFirst("#txtCardNum").value},handleAs:"json",timeout:20000,load:A,error:E})}};this.addObserver(this,"onInit","UpdateClass",function(E,C,B){if((dummy=mojo.queryFirst(".authorized-user-popup"))){mojo.Messaging.publish("dialog",{enabled:true,title:"",element:dummy,width:440,height:-1})}mojo.query(".payment-steps input[checked][name='optAmtToPay']").forEach(function(H){toggleAmount(H)});mojo.query(".payment-steps input[checked].payment-method-opt-radio").forEach(function(H){toggleSteps(H)});mojo.query("input[type='radio']:not([name='saved-payment-radio'])",dojo.byId("viewpaybill")).forEach(function(H){optValidateRequiredTxt(H)});var G=mojo.queryFirst("#view-bill-details");var D=mojo.queryFirst("#view-bill-details.loading-wrapper");if(D){var A=function(H){G.innerHTML=H;mojo.Messaging.publish("remapControllers");mojo.Messaging.publish("/throbber",{status:false,id:"view-bill-details"})};var F=function(){G.innerHTML="<div class='msgError'><p>We're sorry, we can't find this part of the page right now.</p></div>"};dojo.xhrGet({url:window.billDetailsURL,handleAs:"text",timeout:20000,load:A,error:F})}});this.addObserver(mojo.Messaging.getTopic("remapControllers"),"onPublish","MapControllers",function(){return{contextObj:mojo.queryFirst("#view-bill-details")}});this.addObserver(mojo.query("input[type='radio'].payment-method-opt-radio"),"onclick","UpdateClass",function(C,B,A){toggleSteps(B)});this.addObserver(mojo.query("input[type='radio'][name='optAmtToPay']"),"onclick","UpdateClass",function(C,B,A){toggleAmount(B)});this.addObserver(mojo.query("#multi-amount-payment input[type='radio']"),"onclick","ToggleTotal",function(C,B,A){return{multiAmountTotal:mojo.queryFirst("#txtPaymentAmtSelected"),paymentOptions:dojo.query("#multi-amount-payment input[type='radio']")}});this.addObserver(mojo.query(".statement-other-input"),"onkeyup","ToggleTotal",function(C,B,A){return{multiAmountTotal:mojo.queryFirst("#txtPaymentAmtSelected"),paymentOptions:dojo.query("#multi-amount-payment input[type='radio']"),otherAmount:B.id}});this.addObserver("#txtCardNum","onkeydown","UpdateClass",function(D,C,A){var E=this.eventObj;var B;if(E&&E.which){E=E;B=E.which}else{E=event;B=E.keyCode}if(B==13){dojo.stopEvent(this.eventObj);cardContinue(D,C,A)}});this.addObserver("#validate-card","onclick","PreventDefault");this.addObserver("#validate-card","onclick","UpdateClass",function(C,B,A){cardContinue(C,B,A)});this.addObserver("#change-card-link","onclick","PreventDefault");this.addObserver("#change-card-link","onclick","UpdateClass",function(C,B,A){mojo.query(".disable-toggle").toggleClass("disable-edit");mojo.queryFirst("#txtCardNum").disabled=false;mojo.queryFirst("#change-card-link").style.display="none";mojo.queryFirst("#card-types-help").style.display="inline-block";mojo.queryFirst("#txtNameOnCard").value="";mojo.queryFirst("#ddExpDateMonth").selectedIndex=0;mojo.queryFirst("#ddExpDateYear").selectedIndex=0;mojo.queryFirst("#subopt-validate-card").style.display="block";mojo.queryFirst("#subopt-process-choice").style.display="none";mojo.queryFirst("#subopt-type-and-name").style.display="none";if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.removeClass("subopt-debit","no-bullet")}mojo.queryFirst("#subopt-credit").style.display="none";mojo.queryFirst("input[name='payment-method-pay-by']").checked="checked";mojo.queryFirst("form.cancel-form").style.display="none";mojo.queryFirst("#submitPayment").style.display="none";if((dummy=mojo.queryFirst("#optSchedulePayment"))){dummy.style.display="none"}if((dummy=mojo.queryFirst("input[name='optPayOn']"))){dummy.click()}});this.addObserver(mojo.query("input[name='payment-method-pay-by']"),"onclick","UpdateClass",function(C,B,A){mojo.query("li.optPayWithCardToggle div").forEach(function(D){if(dojo.hasClass(D,B.id+"Toggle")||dojo.hasClass(D,"debit-and-credit")){D.style.display="block"}else{D.style.display="none"}if(B.id=="optPayByDebit"){if((dummy=mojo.queryFirst("#optSchedulePayment"))){dummy.style.display="none"}if((dummy=mojo.queryFirst("input[name='optPayOn']"))){dummy.click()}if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.addClass("subopt-debit","no-bullet")}}else{if((dummy=mojo.queryFirst("#optSchedulePayment"))){dummy.style.display="list-item";if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.removeClass("subopt-debit","no-bullet")}}}})});this.addObserver(mojo.query("input[type='radio']:not([name='saved-payment-radio'])"),"onclick","UpdateClass",function(C,B,A){optValidateRequiredTxt(B)});this.addObserver(".terms-trigger","onclick","PreventDefault");this.addObserver(".terms-trigger","onclick","Messaging",function(C,B,A){return{topic:"termsConditionsDialog",message:{title:mojo.queryFirst(".terms-conditions-header h3").innerHTML,text:mojo.queryFirst(".terms-conditions-content").innerHTML}}});this.addObserver("#submitPayment input[type='submit']","onclick","UpdateClass",function(A,B){if(mojo.queryFirst("#optPayWithCard").checked){mojo.queryFirst("#txtCardNum").disabled=false}mojo.queryFirst("#txtCardType").disabled=false});this.addObserver(".submit-payment-button","onclick","Messaging",function(A,B){if((dummy=mojo.queryFirst("div.dupe-payment-popup"))){dojo.stopEvent(this.eventObj);return{topic:"dialog",message:{enabled:true,title:"",element:dummy,width:440,height:146}}}else{B.parentNode.style.display="none";return{topic:"dialog",message:{enabled:true,scriptText:true,title:'<h3 class="loading-title">Please wait...</h3>',text:'<div class="loading-message"><p>Your payment submission is being processed. (This may take a moment.)</p></div>',width:620,height:180}}}});this.addObserver(mojo.Messaging.getTopic("dialog"),"onPublish","UpdateClass",function(C,B,A){mojo.query("input.dupe-payment-popup-continue").forEach(function(D){if(!D.mojoObserve||!D.mojoObserve[A.declaredClass]){A.addObserver(D,"onclick","UpdateClass",function(){mojo.Messaging.publish("dialog",{enabled:false});mojo.Messaging.publish("dialog",{enabled:true,scriptText:true,title:'<h3 class="loading-title">Please wait...</h3>',text:'<div class="loading-message"><p>Your payment submission is being processed. (This may take a moment.)</p></div>',width:620,height:180});mojo.queryFirst("input.submit-payment-button").parentNode.style.display="none"})}})});this.addObserver("#txtBankRoutingNum","onblur","UpdateClass",function(F,E,C){var B=mojo.queryFirst("#routingNumberStatus");var D=mojo.queryFirst("#routingError");var A=function(H){if(H.match){B.style.display="block";B.innerHTML=H.response;D.innerHTML=""}else{B.style.display="none";D.innerHTML="<div class='msgError'><p>"+H.response+"</p></div>"}};var G=function(){D.innerHTML="<div class='msgError'><p>We're sorry, we can't find this part of the page right now.</p></div>"};dojo.xhrPost({url:window.validateRountingURL,content:{routingNumber:E.value},handleAs:"json",timeout:20000,load:A,error:G})})},addCommands:function(){this.addCommand("ToggleTotal","cox.behavior.residential.bill.CalculatePaymentAmountBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("MapControllers","stdlib.command.MapControllersCommand");this.addCommand("EnterKey","stdlib.behavior.EnterKeyBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.residential.CableResetController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.residential.CableResetController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","Track",function(B,A){return{mode:"set",params:{toolName:"self box hit"}}});this.addObserver(mojo.query(".connectionreset"),"onclick","Track",function(B,A){return{mode:"track",params:{type:"event",options:{eventName:"toolUsageCompleted"}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.residential.CompareBundlesController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.residential.CompareBundlesController",mojo.controller.Controller,{params:{comparables:{},cart:{},cartEntries:{}},addObservers:function(){this.setValue("comparables",mojo.query("input.compare-checkbox",this.getContextElement()));this.setValue("cart",mojo.queryFirst("#compare-cart-form"));this.addObserver(this,"onInit","UpdateClass",function(E,B,A){var D=function(H){var I=H;for(var G=H;G.tagName!="BODY";G=G.parentNode){if(dojo.hasClass(G,"bundle-group")){I=G;break}}var J=mojo.queryFirst("h2",I);return J?(J.textContent||J.innerText):"No title found"};var F=A.getValue("cart");var C=mojo.queryFirst("button",F);A.getValue("comparables").map(function(G){var H=new Element("div",{"class":"compare-cart-item"});H.innerHTML="<input type='hidden' name='"+G.name+"' value='"+G.value+"' />"+D(G)+"<a class='remove-compare' href='#' id='remove-"+G.name+"'>Remove</a>";F.insertBefore(H,C)});A.setValue("cartEntries",mojo.query(".compare-cart-item",F));A.addObserver(mojo.query("a.remove-compare",A.getValue("cart")),"onclick","PreventDefault");A.addObserver(mojo.query("a.remove-compare",A.getValue("cart")),"onclick","ReconcileComparables",function(I,H,G){var J=mojo.queryFirst("input[name="+H.id.replace(/^remove-/,"")+"]",I);J.checked=false;return{mainEntries:G.getValue("comparables"),cartEntries:G.getValue("cartEntries")}})});this.addObserver(this,"onInit","ReconcileComparables",function(E,D,A){var C=mojo.query(".compare-checkbox").length;if(C){var B=mojo.queryFirst("#compare-cart");if(B){B.style.display="block"}}return{mainEntries:A.getValue("comparables"),cartEntries:A.getValue("cartEntries")}});this.addObserver("input.compare-checkbox","onclick","InterruptibleReconcileComparables",function(C,B,A){return{mainEntries:A.getValue("comparables"),cartEntries:A.getValue("cartEntries")}});this.addObserver("form.compare-form","onsubmit","PreventDefault");this.addObserver(this.getValue("cart"),"onsubmit","PreventDefault")},addCommands:function(){this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("ReconcileComparables","cox.behavior.ReconcileComparablesBehavior");this.addCommand("InterruptibleReconcileComparables","cox.behavior.ReconcileComparablesBehavior")},addIntercepts:function(){var A=function(B){mojo.Messaging.publish("error",{title:"Before you continue&#8230;",text:B})};this.addIntercept("around","PreventDefault","BlockProceed",function(D,C,B){if(C.tagName!="FORM"){return{condition:true}}var E=(B.getValue("comparables").filter(function(F){return F.checked}).length<=1);if(E){A("Sorry, you have to select at least 2 items.")}return{condition:E}});this.addIntercept("around","InterruptibleReconcileComparables","BlockProceed",function(F,E,B){if(!E.checked){return{condition:true}}var D=5;var C=B.getValue("comparables").filter(function(G){return G.checked}).length<D;if(!C){E.checked=false;A("Sorry, you can only select up to 4 items at a time.")}return{condition:C}})}});dojo.provide("cox.controller.residential.MyAppointmentsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.residential.MyAppointmentsController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".cancel-appointment-form","onsubmit","PreventDefault");this.addObserver(".cancel-appointment-form","onsubmit","Messaging",function(A,B){return{topic:"dialog",message:{enabled:true,title:"",element:mojo.queryFirst(".cancel-appointment-popup",B.parentNode),width:440,height:110}}});this.addObserver(mojo.query(".cancel-appointment-popup-form"),"onsubmit","Track",function(A,B){return{mode:"track",params:{type:"event",options:{eventName:"cancelAppointment"}}}})},addCommands:function(){this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.residential.ResidentialContactUsCorporate");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.residential.ResidentialContactUsCorporate",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query("#link-content a"),"onclick","Track",function(B,A){return{mode:"track",params:{type:"event",options:{customLink:"contact us:"+A.innerHTML.toLowerCase()}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.residential.ResidentialPricingPlansDetailController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.residential.ResidentialPricingPlansDetailController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query(".special-offer"),"onclick","ToolTip",function(B,A){var C=dojo.position(A);var D=mojo.queryFirst(".tooltip-info",A.parentNode);if(D){D=D.innerHTML}else{D="Tooltip not available."}return{show:true,info:D,offsetX:C.w+15,offsetY:C.h/2-35,template:this.getController()._tooltipTemplate}})},addCommands:function(){this.addCommand("ToolTip","cox.behavior.ToolTipBehavior")},addIntercepts:function(){},_tooltipTemplate:'<div class="tooltip"><div class="wrapper"><div class="arrow">&nbsp;</div><table class="head"><tr><td class="tl"></td><td class="t">&nbsp;</td><td class="tr"></div></td></tr></table><table class="body"><tr><td class="l"></td><td class="c"><div class="dialog-pane-content"></div></td><td class="r"></td></tr></table>\n<table class="foot"><tr><td class="bl"></td><td class="b">&nbsp;</td><td class="br"></td></tr></table></div></div>'});dojo.provide("cox.controller.residential.ServiceAppointmentsCalendarController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.residential.ServiceAppointmentsCalendarController",mojo.controller.Controller,{params:{slotSelected:{required:true,defaultValue:false,type:Boolean}},addObservers:function(){this.addObserver("form","onsubmit","PreventDefault");this.addObserver("form","onsubmit","Track",function(C,D){var B=(typeof (ajaxTimeout)!="undefined")?ajaxTimeout:"30000";console.log(B);var A=function(F){mojo.Messaging.publish("dialog",{enabled:true,scriptText:true,title:'<h3 class="loading-title">Please wait...</h3>',text:'<div class="loading-message"><p>This may take a moment while we reschedule your appointment.</p></div>',width:620,height:180});if(F.status=="success"){window.location=F.url}else{mojo.Messaging.publish("dialog",{enabled:true,title:"Reschedule Appointment",xhrPost:F.url,width:912,height:-1})}};var E=function(){mojo.queryFirst(".loading-message").innerHTML="<div class='msgError'><p>We're sorry, we can't find this part of the page right now.</p></div>"};dojo.xhrPost({url:D.action,form:D,handleAs:"json",timeout:B,load:A,error:E});return{mode:"track",params:{type:"event",options:{eventName:"rescheduleAppointment"}}}});this.addObserver(".day a","onclick","PreventDefault");this.addObserver(".day a:not(.disabled)","onclick","UpdateClass",function(D,B,A){var C=A.getValue("slotSelected");if(!C){A.setValue("slotSelected",true);mojo.queryFirst("#finish-button").style.display="block"}var E=mojo.queryFirst(".chosen");if(E){dojo.removeClass(E,"chosen")}mojo.queryFirst("input#curDateTime").value=dojo.attr(B,"href");if(!dojo.hasClass(B,"chosen")){return{element:B,action:"toggle",cssClass:"chosen"}}});this.addObserver(".controls a","onclick","PreventDefault");this.addObserver(".controls a","onclick","UpdateClass",function(D,C,B){var A=(typeof (ajaxTimeout)!="undefined")?ajaxTimeout:"30000";console.log(A);B.setValue("slotSelected",false);dojo.xhrGet({url:C,timeout:A,load:function(E){D.innerHTML=E;mojo.controller.Controller.updateObservers("cox.controller.residential.ServiceAppointmentsCalendarController")},error:function(){D.innerHTML="<div class='msgError'><p>We're sorry, we are unable to access the calendar at this time. Please try again later.</p></div>"}})})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.residential.ServiceAppointmentsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.residential.ServiceAppointmentsController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","UpdateClass",function(C,A){var B=document.location.search;if(B){var D=dojo.queryToObject(B.slice(1)).rescheduleSuccess;if(D){location.href="#a"+D}}});this.addObserver(".cancel-appointment-btn","onclick","PreventDefault");this.addObserver(".cancel-appointment-btn","onclick","Messaging",function(A,B){return{topic:"dialog",message:{enabled:true,title:"Cancel Appointment?",element:mojo.queryFirst(".cancel-appointment-popup",B.parentNode),width:440,height:-1}}});this.addObserver(".reschedule-appointment-form","onsubmit","PreventDefault");this.addObserver(".reschedule-appointment-form","onsubmit","Messaging",function(B,C){var A=(typeof (ajaxTimeout)!="undefined")?ajaxTimeout:"30000";return{topic:"dialog",message:{enabled:true,title:"Reschedule Appointment",xhrPost:C.action,xhrTimeout:A,form:C,width:912,height:-1}}});this.addObserver(mojo.query(".cancel-appointment-popup-form"),"onsubmit","Track",function(A,B){return{mode:"track",params:{type:"event",options:{eventName:"cancelAppointment"}}}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.site.GeneralMetricsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.site.GeneralMetricsController",mojo.controller.Controller,{addObservers:function(){if(typeof s!="undefined"&&s.linkDownloadFileTypes){this.addObserver(mojo.query("#container a"),"onclick","TrackDownload",function(F,D){var C=D.href.toLowerCase().split("#")[0].split("?")[0];C=C.split("/");C=C[C.length-1];var E=C.split(".");E=E[E.length-1];C=C.substr(0,C.lastIndexOf(E)-1);return{mode:"track",params:{type:"event",options:{eventName:"download",download:"["+__coxOmnitureParams.pageName+"]:"+E+":"+C}}}});this.addObserver(mojo.query(".custom-link"),"onclick","Track",function(D,C){var E=C.innerHTML.replace(/<\/?[^>]+(>|$)/g,"");return{mode:"track",params:{type:"event",options:{customLink:(C.title||E).toLowerCase()}}}});this.addObserver(mojo.query(".exit-link"),"onclick","Track",function(F,E){var C=__coxOmnitureParams.pageName;var D=__coxOmnitureParams?__coxOmnitureParams.localeName+":":"";return{mode:"track",params:{type:"event",options:{exitLink:D+C}}}})}var B=[{select:"#ordernow-txt a",category:["promos"],name:"order now"},{select:"#btn-discuss-mylist",category:["lead gen"],name:"email form"},{select:"#button-print-pdf",category:"tools",name:"print pdf"},{select:".services .panel h2 a",category:["our services"]},{select:".tab-content-news .title-txt a",category:["newsroom"]},{select:"#awards-content-sidebar h2 a",category:["awards"]},{select:".contact-method a",category:["tools","contact us"]},{select:".need-help a",category:["need help"]},{select:".search-cloud a",category:["word cloud"]},{select:".promotion-box a",category:["promos"],name:function(C){return mojo.queryFirst("a.link",C.parentNode)}},{select:".filmstrip-item .item-group a",category:["promos",function(C){return mojo.queryFirst("h3",C.parentNode.parentNode)}]},{select:".solutions-boxes .solutions-links a",category:["promos",function(C){return mojo.queryFirst("h2",C.parentNode.parentNode)}]},{select:".listingWidget a",category:[function(C){return mojo.queryFirst("h2",C.parentNode.parentNode.parentNode.parentNode)}]}];var A=this;dojo.forEach(B,function(C){A.addObserver(mojo.query(C["select"]),"onclick","Track",function(G,F){var D=function(I){I=I||F;if(!I.toLowerCase){if(I instanceof Function){I=I(F)}if(I.nodeType){I=($(I).getText().trim()||I.title||mojo.queryFirst("img",I).alt).replace(":","-")}if(I instanceof Array){return I.map(D).join(":")}}return I.toLowerCase()};var H=D(C["category"]);var E=D(C["name"]);return{mode:"track",params:{type:"event",options:{customLink:H+":"+E}}}})})},addCommands:function(){this.addCommand("UpdateCss","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Set","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("TrackDownload","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior")},addIntercepts:function(){if(typeof s!="undefined"&&s.linkDownloadFileTypes){var A=new RegExp("(\\."+s.linkDownloadFileTypes.split(",").join("|\\.")+")$");this.addIntercept("around","TrackDownload","BlockProceed",function(C,B){return{condition:A.test(B.href.toLowerCase().split("#")[0].split("?")[0])}})}}});dojo.provide("cox.controller.site.LoginCookieController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.site.LoginCookieController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","UpdateClass",function(F,D,B){var G=mojo.queryFirst("#sign-in");var E=mojo.queryFirst("#sign-in .sign-in-form");if(E){var C=mojo.queryFirst("#bookmark_widget");var A=dojo.position(E).h;if(A>255){if(C){C.style.position="relative"}G.style.height=A+"px"}}});this.addObserver(this.getContextElement(),"onsubmit","StoreLoginCookie",function(C,B,A){return{form:B}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("StoreLoginCookie","cox.behavior.StoreLoginCookieBehavior")},addIntercepts:function(){}});dojo.provide("cox.rules.business.LeadRules");dojo.require("mojo.helper.Validation");var validate=mojo.helper.Validation.getInstance();cox.rules.business.LeadRules={"fname":[{rule:validate.isRequired,errorMsg:"Please enter a First Name."}],"lname":[{rule:validate.isRequired,errorMsg:"Please enter a Last Name."}],"company":[{rule:validate.isRequired,errorMsg:"Please enter a Company Name."}],"add1":[{rule:validate.isRequired,errorMsg:"Please enter an Address."}],"city":[{rule:validate.isRequired,errorMsg:"Please enter a City."}],"zip":[{rule:validate.isRequired,errorMsg:"Please enter a Zip code."},{rule:validate.isZipCode,errorMsg:"Zip Code must be a 5-digit number."}],"phone":[{rule:validate.isRequired,errorMsg:"Please enter a Phone Number."},{rule:validate.isType,errorMsg:"Phone Number must contain numbers only.",params:{type:Number}}],"email":[{rule:validate.isRequired,errorMsg:"Please enter an E-mail address."},{rule:validate.isEmailAddress,errorMsg:"E-mail address must be a valid address."}]};dojo.provide("cox.rules.residential.ShoppingAssistantRules");dojo.require("mojo.helper.Validation");var validate=mojo.helper.Validation.getInstance();cox.rules.residential.ShoppingAssistantRules={"zip":[{rule:validate.isRequired,errorMsg:"Please enter a Zip Code."},{rule:validate.isZipCode,errorMsg:"Zip Code must be a 5-digit number."}]}