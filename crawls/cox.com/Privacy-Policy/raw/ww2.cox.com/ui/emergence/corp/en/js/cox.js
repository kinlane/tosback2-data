dojo.provide("cox.controller.FormController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.FormController",mojo.controller.Controller,{params:{isSubmitted:{required:false,defaultValue:false,type:Boolean},formSubmitCommand:{required:true,defaultValue:"FormSubmitCommand",type:String},formRules:{required:true,defaultValue:"application.rules.Rules",type:String},modelErrors:{required:true,defaultValue:"application.myModel",type:String},formId:{required:true,defaultValue:"#form",type:String},submitButtonId:{required:true,defaultValue:"#submit-form",type:String},cancelButtonId:{required:true,defaultValue:"#cancel-form",type:String},showDisableBox:{required:false,defaultValue:false,type:Boolean}},addObservers:function(){var b=this.getValue("formRules"),c=this.getValue("modelErrors"),a=this.getValue("formId");this.addObserver("input","onkeydown","EnterKey");this.addObserver(this.getCommand(this.getValue("formSubmitCommand")),"onError","DisableBox",function(e,d){if(!this.getController().getValue("showDisableBox")){return}return{target:e,show:false}});this.addObserver(this.getCommand(this.getValue("formSubmitCommand")),"onResponse","ClearModel",function(){return{model:c}});this.addObserver(this.getCommand(this.getValue("formSubmitCommand")),"onResponse","DisableBox",function(e,d){if(!this.getController().getValue("showDisableBox")){return}return{target:e,show:false}});this.addObserver(this.getValue("submitButtonId"),"onclick","UpdateControllerParam",function(f,e,d){return{control:this.getController().declaredClass,params:"isSubmitted",value:true,element:f}});this.addObserver(this.getConfig("params").isSubmitted,"onChange","ValidateRules",function(e,d){if(!this.getController().getValue("isSubmitted")){return{rules:{},formSet:mojo.query(a)}}return{rules:b,formSet:mojo.query(a)}});this.addObserver(this.getValue("cancelButtonId"),"onclick","ClearErrors",function(e,d){return{className:".mojoValidationError",targetId:this.getController().getValue("formId")}});this.addObserver(this.getValue("cancelButtonId"),"onclick","ClearForm",function(e,d){return{formSet:mojo.queryFirst(this.getController().getValue("formId"),e)}});this.addObserver(this.getCommand("ValidateRules"),"onResponse","DisableBox",function(e,d){if(!this.getController().getValue("showDisableBox")){return}return{target:e,show:true}})},addCommands:function(){this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("EnterKey","stdlib.behavior.EnterKeyBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand");this.addCommand("DisableBox","cox.behavior.DisableBoxBehavior");this.addCommand("ClearForm","stdlib.behavior.ClearFormBehavior");this.addCommand("ClearErrors","stdlib.command.RemoveObjectsCommand");this.addCommand("ClearModel","stdlib.command.ClearModelCommand");this.addCommand("Refresh","stdlib.behavior.RefreshBehavior");this.addCommand("ValidateRules","stdlib.command.ValidateRulesCommand")},addIntercepts:function(){this.addIntercept("around",this.getValue("formSubmitCommand"),"ValidateRules",{rules:this.getValue("formRules"),formSet:mojo.query(this.getValue("formId"))})}});dojo.provide("cox.controller.LocationController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.LocationController",mojo.controller.Controller,{params:{formSelector:{defaultValue:"",type:String},mode:{defaultValue:"hide",type:String},form:{defaultValue:null}},addObservers:function(){var a;if(this.getValue("formSelector")!=""){a=mojo.queryFirst(this.getValue("formSelector"))}else{a=this.getContextElement();if(a.tagName.toLowerCase()!="form"){a=mojo.queryFirst("form",a)}}if(a==null){return}this.setValue("form",a)},addCommands:function(){this.addCommand("UpdateObservers","stdlib.command.UpdateObserversCommand")},addIntercepts:function(){}});dojo.provide("cox.service.Locator");dojo.require("mojo.service.Locator");dojo.require("mojo.service.Service");var __coxServiceLocator=null;dojo.declare("cox.service.Locator",mojo.service.Locator,{addServices:function(){this.addService(new mojo.service.Service("getOffices",((typeof(locationUrl)!="undefined")?locationUrl:"/aboutus/contact-us/officelocations.coxsite"),{json:true,cache:true}));this.addService(new mojo.service.Service("getSuggestions",((typeof(suggestionUrl)!="undefined")?suggestionUrl:"/residential/KanaPredictiveTextServlet.json"),{json:true,cache:true}))}});cox.service.Locator.getInstance=function(){if(__coxServiceLocator==null){__coxServiceLocator=new cox.service.Locator()}return __coxServiceLocator};dojo.provide("cox.SiteMap");cox.SiteMap=[{pattern:"html",controllers:[{controller:"cox.controller.metrics.MetricsController"},{controller:"cox.controller.SessionVarController"},{controller:"cox.controller.site.GeneralMetricsController"}]},{pattern:"body",controllers:[{controller:"cox.controller.DialogController"}]},{pattern:"#container form",controllers:[{controller:"cox.controller.interface.form.FormValidatorController"}]},{pattern:".dialog-component-content form",controllers:[{controller:"cox.controller.interface.form.FormValidatorController"}]},{pattern:"textarea",controllers:[{controller:"cox.controller.interface.form.TextareaController"}]},{pattern:"form input.time-format",controllers:[{controller:"cox.controller.interface.form.TimeFormatterController"}]},{pattern:"input.spin-button",controllers:[{controller:"cox.controller.interface.form.SpinBoxController"}]},{pattern:"#pf-header",controllers:[{controller:"cox.controller.interface.HeaderController"}]},{pattern:"#extras-panel",controllers:[{controller:"cox.controller.ExtrasFromCoxController"}]},{pattern:".landing-module .filmstrip-component",controllers:[{controller:"cox.controller.ToggleFilmStripController"}]},{pattern:"#main-rotator",controllers:[{controller:"cox.controller.interface.RotatorController"}]},{pattern:".filmstrip-module .filmstrip-component",controllers:[{controller:"cox.controller.ToggleFilmStripController"}]},{pattern:".container-carousel .filmstrip-component",controllers:[{controller:"cox.controller.ToggleFilmStripController"}]},{pattern:".toggle",controllers:[{controller:"cox.controller.ToggleController"}]},{pattern:".tabletoggle",controllers:[{controller:"cox.controller.business.ScheduleMgmtEventsController"}]},{pattern:".toggle-button",controllers:[{controller:"cox.controller.HoverController"}]},{pattern:".multitoggle",controllers:[{controller:"cox.controller.MultiToggleController"}]},{pattern:".tooltip-trigger",controllers:[{controller:"cox.controller.ToolTipController"}]},{pattern:".modal-trigger",controllers:[{controller:"cox.controller.ModalController"}]},{pattern:"input.date-picker",controllers:[{controller:"cox.controller.interface.form.DatePickerController"}]},{pattern:".loading-wrapper",controllers:[{controller:"cox.controller.interface.LoadingController"}]},{pattern:".ajax-loader",controllers:[{controller:"cox.controller.interface.AjaxController"}]},{pattern:".ajax-form-submit",controllers:[{controller:"cox.controller.interface.form.AjaxFormSubmitController"}]},{pattern:".captureEvents",controllers:[{controller:"cox.controller.interface.form.CaptureEventNodeController"}]},{pattern:".simring-add-another",controllers:[{controller:"cox.controller.business.SimultaneousRingController"}]},{pattern:".vmnumber-add-another",controllers:[{controller:"cox.controller.business.VMNumberAddAnotherController"}]},{pattern:".scroll-box",controllers:[{controller:"cox.controller.ScrollController",params:{stepHeight:42}}]},{pattern:".enlarge a",controllers:[{controller:"cox.controller.interface.EnlargeImageController"}]},{pattern:".openwin-trigger",controllers:[{controller:"cox.controller.PopupController"}]},{pattern:".sorttable",controllers:[{controller:"cox.controller.interface.SortableTableController"}]},{pattern:".rearrange-datatable-style",controllers:[{controller:"cox.controller.interface.SortableTableController"}]},{pattern:"#login_widget2 form",controllers:[{controller:"cox.controller.site.LoginCookieController"}]},{pattern:"#login_widget2 .account-status",controllers:[{controller:"cox.controller.MessageCountsController"}]},{pattern:"#dashboard",controllers:[{controller:"cox.controller.MessageCountsController"}]},{pattern:"#google-searchbar",controllers:[{controller:"cox.controller.GoogleSearchBarController"}]},{pattern:"#residential-search-content",controllers:[{controller:"cox.controller.SearchResultsController"}]},{pattern:"#accountheader",controllers:[{controller:"cox.controller.resaccount.MyAccountHeaderController"}]},{pattern:".accountservicedetails",controllers:[{controller:"cox.controller.resaccount.MyAccountController"}]},{pattern:".accountservices #support-search",controllers:[{controller:"cox.controller.InputLabelController"}]},{pattern:"#myplace-controlpanel",controllers:[{controller:"cox.controller.MessageCountsController",params:{showNew:true}}]},{pattern:"#myplace-search.search-simple",controllers:[{controller:"cox.controller.myplace.SearchBasicController"}]},{pattern:"#myplace-search.search-advanced",controllers:[{controller:"cox.controller.myplace.SearchAdvancedController"}]},{pattern:"#business-top-panel",controllers:[{controller:"cox.controller.business.BusinessPanelController"}]},{pattern:"body.ID-11",controllers:[{controller:"cox.controller.business.BusinessHomeController"}]},{pattern:"body.ID-12",controllers:[{controller:"cox.controller.business.BusinessIndustriesHealthcareController"}]},{pattern:"body.ID-16a",controllers:[{controller:"cox.controller.SplashController"}]},{pattern:"body.ID-16b",controllers:[{controller:"cox.controller.SplashController"}]},{pattern:"#splash-location-init",controllers:[{controller:"cox.controller.SplashLocationController"}]},{pattern:"#splash-tab-component",controllers:[{controller:"cox.controller.SplashTabController",params:{selectedIndex:0}}]},{pattern:"form.leadForm",controllers:[{controller:"cox.controller.business.LeadFormController"}]},{pattern:"#map-wrapper",controllers:[{controller:"cox.controller.locationMap.OfficesMapController"}]},{pattern:"[id='map-address-container'], #map-end-address-container",controllers:[{controller:"cox.controller.locationMap.MapAddressInputController"}]},{pattern:"#map-wrapper form.regular li.form-text",controllers:[{controller:"cox.controller.InputLabelController"}]},{pattern:"#business-voicemanager-sub-section",controllers:[{controller:"cox.controller.business.ExtrasForDemoController"}]},{pattern:"#residential-pricing-plans",controllers:[{controller:"cox.controller.residential.ResidentialPricingPlansDetailController"}]},{pattern:"body.ID-53",controllers:[{controller:"cox.controller.business.BusinessVoiceManagerFeaturesController"}]},{pattern:".im-considering-view",controllers:[{controller:"cox.controller.business.ImConsideringController"}]},{pattern:"body.ID-57a .filmstrip-component",controllers:[{controller:"stdlib.controller.FilmStripController"}]},{pattern:"body.ID-57a",controllers:[{controller:"cox.controller.about.AboutServicesController"}]},{pattern:"#about-ourstory-services #residential-services .location form",controllers:[{controller:"cox.controller.LocationController",params:{mode:"disable"}}]},{pattern:"#about-ourstory-services #business-services .location form",controllers:[{controller:"cox.controller.LocationController",params:{mode:"disable"}}]},{pattern:"#about-ourstory-services-b #services-location-search form",controllers:[{controller:"cox.controller.LocationController",params:{mode:"disable"}}]},{pattern:"body.ID-xxa",controllers:[{controller:"cox.controller.residential.ResidentialContactUsLocal"}]},{pattern:"body.ID-xxb",controllers:[{controller:"cox.controller.residential.ResidentialContactUsCorporate"}]},{pattern:"#overview-page",controllers:[{controller:"cox.controller.ProductOverviewController"}]},{pattern:"#business-VM-content",controllers:[{controller:"cox.controller.ProductOverviewController"}]},{pattern:"#myplace-landing",controllers:[{controller:"cox.controller.myplace.LandingController"}]},{pattern:".snippet-frame, .snippet .filmstrip-component",controllers:[{controller:"cox.controller.HoverController"}]},{pattern:"#residential-myplace-whatson",controllers:[{controller:"cox.controller.myplace.OmnitureContentColumnController"}]},{pattern:"#residential-myplace-whatson form.regular li.form-text",controllers:[{controller:"cox.controller.InputLabelController"}]},{pattern:"#ID-38a form.regular li.form-text",controllers:[{controller:"cox.controller.InputLabelController"}]},{pattern:"#ID-38a",controllers:[{controller:"cox.controller.myplace.OmnitureContentColumnController"}]},{pattern:"#residential-myplace-moviefinder",controllers:[{controller:"cox.controller.myplace.MovieFinder"}]},{pattern:"#residential-myplace-moviefinder #myplace-favorites",controllers:[{controller:"cox.controller.myplace.FavoritesController"}]},{pattern:".bookmark-page",controllers:[{controller:"cox.controller.interface.BookmarkController"}]},{pattern:"#residential-myplace-moviefinder form.regular li.form-text",controllers:[{controller:"cox.controller.InputLabelController"}]},{pattern:"#myplace-news",controllers:[{controller:"cox.controller.myplace.OmnitureContentColumnController"}]},{pattern:"#myplace-news-listing",controllers:[{controller:"cox.controller.myplace.OmnitureContentColumnController"}]},{pattern:"#myplace-news-details",controllers:[{controller:"cox.controller.myplace.OmnitureContentColumnController"}]},{pattern:"#myplace-sports",controllers:[{controller:"cox.controller.myplace.OmnitureContentColumnController"}]},{pattern:"#myplace-weather form.regular li.form-text",controllers:[{controller:"cox.controller.InputLabelController"}]},{pattern:"#myplace-weather #userPrefsForm",controllers:[{controller:"cox.controller.myplace.WeatherMapPickerController"}]},{pattern:"#myplace-weather .myplace-current-weather form",controllers:[{controller:"cox.controller.myplace.WeatherCityPickerController"}]},{pattern:"#myplace-services",controllers:[{controller:"cox.controller.myplace.ServicesController"}]},{pattern:"#myplace-today",controllers:[{controller:"cox.controller.myplace.OmnitureContentColumnController"}]},{pattern:"body.ID-06",controllers:[{controller:"cox.controller.myplace.TVListingsController"}]},{pattern:"#tvlistings-container form.regular li.form-text",controllers:[{controller:"cox.controller.InputLabelController"}]},{pattern:"#myplace-slideshow",controllers:[{controller:"cox.controller.myplace.SlideshowController"}]},{pattern:"#myplace-slideshow .slideshow-detail",controllers:[{controller:"cox.controller.FilmStripController",params:{duration:0}}]},{pattern:"#myplace-slideshow .slidebox .filmstrip-component",controllers:[{controller:"cox.controller.FilmStripController"}]},{pattern:"#myplace-slideshow .filmstrip-next, #myplace .slideshow .filmstrip-prev, #myplace .slideshow .slide-poster a",controllers:[{controller:"cox.controller.HoverController"}]},{pattern:"#bundle-compare",controllers:[{controller:"cox.controller.residential.CompareBundlesController"}]},{pattern:"input[placeholder]",controllers:[{controller:"cox.controller.interface.form.PlaceholderController"}]},{pattern:"#basic-frame",controllers:[{controller:"cox.controller.SoleSurvivorController"}]},{pattern:".mojoTemplate",controllers:[{controller:"stdlib.controller.TemplateController"}]},{pattern:"#support",controllers:[{controller:"cox.controller.SupportController"}]},{pattern:"#support-search",controllers:[{controller:"stdlib.controller.AutoSuggestController"},{controller:"cox.controller.KanaSearchController"}]},{pattern:"#support form.regular li.form-textarea",controllers:[{controller:"cox.controller.TextareaLabelController"}]},{pattern:"#serviceappointments",controllers:[{controller:"cox.controller.residential.ServiceAppointmentsController"}]},{pattern:".service-appointment-calendar",controllers:[{controller:"cox.controller.residential.ServiceAppointmentsCalendarController"}]},{pattern:".connectionreset",controllers:[{controller:"cox.controller.residential.CableResetController"}]},{pattern:"#viewpaybill",controllers:[{controller:"cox.controller.residential.BillingController"}]},{pattern:"#onlineactivation",controllers:[{controller:"cox.controller.myplace.OnlineActivationController"}]},{pattern:".panes-switcher",controllers:[{controller:"cox.controller.ecomm.PanesSwitcherController"}]},{pattern:".calendar-component",controllers:[{controller:"cox.controller.ecomm.CalendarController"}]},{pattern:".ecomm-popup",controllers:[{controller:"cox.controller.ecomm.PopupDisplayController"}]},{pattern:".ecomm-popup-small-form",controllers:[{controller:"cox.controller.ecomm.PopupDisplayController"}]},{pattern:".ecomm-popup-small",controllers:[{controller:"cox.controller.ecomm.SmallPopupDisplayController"}]},{pattern:".cart-contention-component .selection-details",controllers:[{controller:"cox.controller.ToggleController"}]},{pattern:"#ecomm-multiple-addresses",controllers:[{controller:"cox.controller.ecomm.DifferentAddressToggle"}]},{pattern:"#column-structure, #myplace-ppv.ppv-checkout",controllers:[{controller:"cox.controller.DelegatedHoverController",params:{selector:".hoverbox",hoverClass:"hoverbox-hover"}},{controller:"cox.controller.ecomm.ToolTipController"}]},{pattern:"#disconnection-date input",controllers:[{controller:"cox.controller.interface.form.DatePickerController"}]},{pattern:"#bubble-special-offers",controllers:[{controller:"cox.controller.ecomm.FlyoutController"}]},{pattern:".ecomm-byob",controllers:[{controller:"cox.controller.ecomm.ByobController"}]},{pattern:".show-me-offers-for-module",controllers:[{controller:"cox.controller.ecomm.ShowMeOffersForModuleController"}]},{pattern:".have-a-promo-code-module",controllers:[{controller:"cox.controller.ecomm.PromoCodeModuleController"}]},{pattern:".ecomm-your-bundled-services",controllers:[{controller:"cox.controller.ecomm.YourBundledServicesModuleController"}]},{pattern:"#throbber",controllers:[{controller:"cox.controller.ecomm.ThrobberController"}]},{pattern:"select.incr-menu",controllers:[{controller:"cox.controller.ecomm.ToggleIncrementsController"}]},{pattern:"#serviceAddressWidget",controllers:[{controller:"cox.controller.ShoppingAssistantController"}]},{pattern:".pane-toggle",controllers:[{controller:"cox.controller.ecomm.PanesToggleController"}]},{pattern:"#omniture-response",controllers:[{controller:"cox.controller.metrics.OmnitureTrackingController"}]},{pattern:".disable-sibling-parent",controllers:[{controller:"cox.controller.ecomm.DisableSiblingField"}]},{pattern:".carousel-current-phone",controllers:[{controller:"cox.controller.ecomm.CarouselUpdatesPhoneName"}]},{pattern:".compare-grid",controllers:[{controller:"cox.controller.interface.CompareGridController"}]},{pattern:"#ecomm-shopping-cart.biz-ecomm,#ecomm-order-review.biz-ecomm",controllers:[{controller:"cox.controller.ecomm.FancyPrintController"}]},{pattern:".toggleDiv",controllers:[{controller:"cox.controller.ToggleDivController"}]},{pattern:".schedule-link",controllers:[{controller:"cox.controller.ScheduleLinkController"}]},{pattern:".add_number",controllers:[{controller:"cox.controller.business.AddNumberController"}]},{pattern:".childElement",controllers:[{controller:"cox.controller.ChildElementHandlerController"}]},{pattern:".check-all",controllers:[{controller:"cox.controller.interface.form.CheckAllController"}]},{pattern:".accAuth-ctrl",controllers:[{controller:"cox.controller.interface.PairupCheckboxGroupController"}]},{pattern:".accAuth-check-all",controllers:[{controller:"cox.controller.business.AccAuthCheckAllController"}]},{pattern:".seqOuterDiv",controllers:[{controller:"cox.controller.business.SequentialRingController"}]},{pattern:".captureHiddenValue",controllers:[{controller:"cox.controller.business.SequentialRingHiddenValueController"}]},{pattern:".swap-select",controllers:[{controller:"cox.controller.interface.form.SwapMultiSelectController"}]},{pattern:".file-input",controllers:[{controller:"cox.controller.interface.form.StyledFileInputController"}]},{pattern:".personalStatusManager",controllers:[{controller:"cox.controller.business.PersonalStatusMgrToggleController"}]},{pattern:".accAuth-mainController",controllers:[{controller:"cox.controller.business.AccAndAuthorisationCodesController"}]},{pattern:".accAuth-toggle",controllers:[{controller:"cox.controller.business.AccAndAuthCodesToggleController"}]},{pattern:".fileupload-controller",controllers:[{controller:"cox.controller.interface.form.FileUploadController"}]},{pattern:".browsefile-controller",controllers:[{controller:"cox.controller.interface.form.BrowseFileController"}]},{pattern:".mandatoryFields-activation",controllers:[{controller:"cox.controller.interface.form.MakeFieldsMandatoryController"}]},{pattern:".weightage-validator",controllers:[{controller:"cox.controller.interface.form.WeightageValidator"}]},{pattern:".trunkgrp-tabletoggle",controllers:[{controller:"cox.controller.business.TrunkGroupToggleController"}]},{pattern:".processphonenoarray",controllers:[{controller:"cox.controller.interface.form.ProcessPhoneNumberArrayController"}]},{pattern:".rearrange-datatable-style",controllers:[{controller:"cox.controller.interface.RearrangeDataTableStyleController"}]},{pattern:".process-association-limit",controllers:[{controller:"cox.controller.interface.form.ProcessAssociationLimitController"}]},{pattern:".toggledivid",controllers:[{controller:"cox.controller.interface.form.UpdateDivIdForToggleController"}]},{pattern:".togglejoinstate",controllers:[{controller:"cox.controller.interface.form.ToggleJoinStateController"}]},{pattern:"#getting-started",controllers:[{controller:"cox.controller.business.GettingStartedToggleController"}]}];dojo.provide("cox.behavior.AddtoBookmarksBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.AddtoBookmarksBehavior",mojo.command.Behavior,{execute:function(c){var b=function(d){mojo.Messaging.publish("error",{title:"Bookmark This Page",text:d})};var a=navigator.appVersion.indexOf("Mac")!=-1;if(dojo.isSafari||dojo.isFF){if(a){b("You need to press Command/Cmd + D to bookmark our site.")}else{b("You need to press Ctrl + D to bookmark our site.")}}else{if(dojo.isIE&&!a){window.external.AddFavorite(location.href,document.title)}else{b("In order to bookmark this site you need to do so manually through your browser.")}}}});dojo.provide("cox.behavior.AnimateWeatherMapBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.AnimateWeatherMapBehavior",mojo.command.Behavior,{execute:function(a){var d=a.getParams();if(!d.link||!d.image){return}var g=d.image.src;var e=g.lastIndexOf(".",g.length);var f=g.lastIndexOf("/",e)+1;var l=g.substring(0,f);var b=g.substring(f,e);var h=b.substring(0,2);var c=b.substring(2,8);if(d.action=="toggle"){d.action=this._isAnimated?"stop":"start"}if(d.action=="init"){if(c=="regrad"||c=="regsat"){dojo.removeClass(d.link,"hide")}else{dojo.addClass(d.link,"hide")}}else{if(d.action=="start"){if(!this._isAnimated){if(c=="regrad"||c=="regsat"){this._isAnimated=1;d.link.innerHTML="Stop animation";this._animate(l,h+c,1,d)}}}else{if(d.action=="stop"){this._isAnimated=0;window.clearTimeout(this._timeoutId);d.image.src=l+h+c+".jpg";d.link.innerHTML="See this map in motion"}}}},_animate:function(f,e,c,h){if(!this._isAnimated){return}window.clearTimeout(this._timeoutId);if(c<10){var b="0"+c}else{b=c}var d=250;var g=f+e+"_"+b+".jpg";if(this._imgCache[g]){h.image.src=g;c=c+1;d=250;if(c>30){c=1;d=2000}this._timeoutId=window.setTimeout(dojo.hitch(this,this._animate,f,e,c,h),d)}else{var a=new Image();dojo.connect(a,"onload",window,dojo.hitch(this,this._animate,f,e,c,h));this._imgCache[g]=a;a.src=g}},_imgCache:{},_isAnimated:0});dojo.provide("cox.behavior.AutomaticHideBehavior");dojo.require("mojo.command.Command");dojo.declare("cox.behavior.AutomaticHideBehavior",mojo.command.Behavior,{onComplete:function(){},execute:function(h){if(!h.paramsObj.element){return}var d=h.paramsObj.element;var f=h.paramsObj.openElement;var b=h.paramsObj.cssClass;for(var c=0;c<f.length;c++){var e=f[c];var a=e.getParent().nextElementSibling.getFirst();var g=mojo.queryFirst(".toggle-wrapper",a);g.setStyle("height",0);dojo.removeClass(e,b);dojo.addClass(d,b)}}});dojo.provide("cox.behavior.BlockProceedBehavior");dojo.require("mojo.command.Command");dojo.declare("cox.behavior.BlockProceedBehavior",mojo.command.Command,{onBeforeProceed:function(){},onAfterProceed:function(){},onFailProceed:function(){},execute:function(b){var a=b.getParams();if((typeof a.condition=="function"&&a.condition())||(typeof a.condition!="function"&&a.condition)){this.onBeforeProceed();b.invocation.proceed();this.onAfterProceed()}else{this.onFailProceed()}}});dojo.provide("cox.behavior.ChildElementHandlerBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ChildElementHandlerBehavior",mojo.command.Behavior,{doUpdateClass:function(b,d,a,c){mojo.Messaging.publish(b,{elements:d,applyStyle:a,action:c})},doStuff:function(b,d,c){var e=false;var f=mojo.query(".child_of_selective_rule",d);var a=f[0];if(c!="disableoncheck"){if(b.checked!=true){if(dojo.isArray(f)&&f.length>1){dojo.forEach(f,function(g){g.disabled=true})}this.doUpdateClass("/toggleCSSTopic",a,"requiredchkbox","remove");this.doUpdateClass("/toggleCSSTopic",a,"disabled-requiredchkbox","add")}else{dojo.forEach(f,function(g){g.disabled=false;if(g.checked==true&&e==false){e=true}});if(!e){this.doUpdateClass("/toggleCSSTopic",a,"disabled-requiredchkbox","remove");this.doUpdateClass("/toggleCSSTopic",a,"requiredchkbox","add")}}}else{if(b.checked!=false){if(dojo.isArray(f)&&f.length>1){dojo.forEach(f,function(g){g.disabled=true})}}else{dojo.forEach(f,function(g){g.disabled=false})}}},execute:function(e){var d=e.getParams();var a=d.caller;var c=d.context;var b=d.chkboxId;this.doStuff(a,c,b)}});dojo.provide("cox.behavior.CopyDisabledElementsBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.CopyDisabledElementsBehavior",mojo.command.Behavior,{clearHiddenFields:function(b,c){var a=mojo.query(".hiddendisabledelement",b);if(a!=null){dojo.forEach(a,function(d){dojo.destroy(d)})}dojo.forEach(c,function(f){var d=f.name;var e=d.split("-old");if(e!=null&&e.length>1){d=e[0]}f.name=d})},passtoServer:function(a,b){dojo.forEach(b,function(e){var f="";var c=e.name;var d=dojo.attr(e,"type");switch(e.tagName){case"INPUT":if(d=="checkbox"){f=e.checked?e.value:""}break;case"SELECT":f=e.value;break}dojo.create("input",{id:c,type:"hidden",name:c,value:f,"class":"hiddendisabledelement"},a,"last");e.name=c+"-old"})},execute:function(g){var f=g.getParams();var b=f.caller;var c=f.context;if(dojo.hasClass(c,"childElement-copydisabled")){var e=mojo.query(".child_of_selective_rule",c);if(e!=null){this.clearHiddenFields(c,e)}var d=mojo.queryFirst(".rule_select",c);var a=dojo.attr(d,"type");switch(d.tagName){case"INPUT":if(a=="checkbox"||a=="radio"){if(d.id!="disableoncheck"||dojo.hasClass(d,"disableoncheck")){if(!d.checked&&e!=null){this.passtoServer(c,e)}}else{if(d.checked&&e!=null){this.passtoServer(c,e)}}}break}}}});dojo.provide("cox.behavior.DisableBoxBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.DisableBoxBehavior",mojo.command.Behavior,{_box:null,execute:function(c){if(!this._box){this._box=mojo.queryFirst("#disablebox");if(!this._box){this._box=document.createElement("div");this._box.id="disablebox";document.body.appendChild(this._box);this._box.style.position="absolute"}}this._box.innerHTML="";if(c.getParams().show){var a=document.createElement("img");a.style.position="absolute";a.src="/ui/emergence/corp/en/img/interface/icon-loading-throbber.gif";a.style.width="16px";a.style.height="16px";if(c.getParams().target){var b=dojo.position(c.getParams().target,true);this._box.style.top=b.y+"px";this._box.style.left=b.x+"px";this._box.style.width=b.w+"px";this._box.style.height=b.h+"px";a.style.left=((b.w/2)-8)+"px";a.style.top=((b.h/2)-8)+"px";this._box.appendChild(a)}else{this._box.style.top="0px";this._box.style.left="0px";this._box.style.width="100%";this._box.style.height=(document.all)?document.body.offsetHeight+"px":"100%";a.style.left=((b.w/2)-8)+"px";a.style.top=((b.h/2)-8)+"px";this._box.appendChild(a)}this._box.style.zIndex="9999";this._box.style.display="block"}else{this._box.style.display="none"}}});dojo.provide("cox.behavior.EnableDisableRequiredBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.EnableDisableRequiredBehavior",mojo.command.Behavior,{doaddrequiredclass:function(a){if(a!=null){this.doUpdateClass("/toggleCSSTopic",a,"disabled-required","remove");this.doUpdateClass("/toggleCSSTopic",a,"required","add");if(a.type=="text"){a.removeAttribute("readOnly");this.doUpdateClass("/toggleCSSTopic",a,"disabledText","remove")}else{a.disabled=false}}},doremoverequiredclass:function(a){if(a!=null){this.doUpdateClass("/toggleCSSTopic",a,"required","remove");this.doUpdateClass("/toggleCSSTopic",a,"disabled-required","add");if(dojo.attr(a,"defvalue")!=undefined){a.value=dojo.attr(a,"defvalue")}if(a.type=="text"){a.setAttribute("readonly","readonly");this.doUpdateClass("/toggleCSSTopic",a,"disabledText","add")}else{a.disabled=true}}},doUpdateClass:function(b,d,a,c){mojo.Messaging.publish(b,{elements:d,applyStyle:a,action:c})},doStuff:function(f,g,e){switch(f.tagName){case"INPUT":var c=dojo.attr(f,"type");var b=null;if(g=="onclick"&&c=="checkbox"){b=mojo.query(".toggle-req-class",e);if(b.length>0){if(f.checked==true){for(i=0;i<b.length;i++){this.doremoverequiredclass(b[i])}}else{for(i=0;i<b.length;i++){this.doaddrequiredclass(b[i])}}}}if(g=="onclick"&&c=="radio"){b=mojo.query(".toggle-req-class",e);var d=mojo.query(".toggle-req-class-second",e);var a=dojo.attr(f,"todo");if(b.length>0){if(a=="remove"){for(i=0;i<b.length;i++){this.doremoverequiredclass(b[i])}}else{for(i=0;i<b.length;i++){this.doaddrequiredclass(b[i])}}}if(d.length>0){if(a=="remove"){for(i=0;i<d.length;i++){this.doaddrequiredclass(d[i])}}else{for(i=0;i<d.length;i++){this.doremoverequiredclass(d[i])}}}}break}},execute:function(e){var d=e.getParams();var b=d.element;var c=d.elementEvent;var a=d.context;this.doStuff(b,c,a)}});dojo.provide("cox.behavior.EnableDisableRequiredCheckboxBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.EnableDisableRequiredCheckboxBehavior",mojo.command.Behavior,{doaddrequiredclass:function(a){if(a!=null){this.doUpdateClass("/toggleCSSTopic",a,"requiredchkbox","add");this.doUpdateClass("/toggleCSSTopic",a,"disabled-requiredchkbox","remove");a.disabled=false}},doremoverequiredclass:function(a){if(a!=null){this.doUpdateClass("/toggleCSSTopic",a,"requiredchkbox","remove");this.doUpdateClass("/toggleCSSTopic",a,"disabled-requiredchkbox","add")}},doUpdateClass:function(b,d,a,c){mojo.Messaging.publish(b,{elements:d,applyStyle:a,action:c})},doStuff:function(e,d){var a=mojo.query(".ctrl-enabledisable-requiredcheckbox",d);var f=a[0];var b=false;if(dojo.isArray(a)&&a.length>1){for(var c=0;c<a.length;c++){if(a[c].disabled==false&&a[c].checked==true){b=true;break}}b?this.doremoverequiredclass(f):this.doaddrequiredclass(f)}},execute:function(d){var c=d.getParams();var b=c.caller;var a=c.context;this.doStuff(b,a)}});dojo.provide("cox.behavior.EndOptionSelectBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.EndOptionSelectBehavior",mojo.command.Behavior,{execute:function(h){var f=h.getParams();var g=f.dailyId;var b=f.weeklyId;var e=dojo.byId(g);var d=e.options[e.selectedIndex].value;var a=dojo.byId(b);var c=a.options[a.selectedIndex].value;mojo.queryFirst("#endafter").style.display="none";mojo.queryFirst("#enddate").style.display="none";if(d=="after"){mojo.queryFirst("#endafter").style.display="block"}if(d=="date"||c=="date"){mojo.queryFirst("#enddate").style.display="block"}}});dojo.provide("cox.behavior.FadeBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.FadeBehavior",mojo.command.Behavior,{onComplete:function(){},execute:function(h){var g=h.getParams();var e=g.duration||600;var d=h.getParams().element;if(!dojo.isArray(d)){d=[d]}var a=d.length;var f=this;for(var b=0;b<a;b++){var c=new Fx.Styles(d[b],{duration:e,wait:false,onComplete:function(){f.onComplete()}});if(g.mode=="fadeIn"){d[b].style.opacity=0.3;c.start({opacity:1})}else{d[b].style.opacity=0;c.start({opacity:0})}}}});dojo.provide("cox.behavior.FocusBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.FocusBehavior",mojo.command.Behavior,{execute:function(b){var a=b.getParams();if(a.target){a.target.focus()}}});dojo.provide("cox.behavior.HideTextBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.HideTextBehavior",mojo.command.Behavior,{execute:function(e){var d=e.getParams();var c=d.element;if(!dojo.isArray(c)){c=[c]}for(var b=0,a=c.length;b<a;b++){c[b].innerHTML="";if(c[b].title){c[b]._mojoTooltip=c[b].title;c[b].title=""}}}});dojo.provide("cox.behavior.HoverLayerBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.Model");dojo.declare("cox.behavior.HoverLayerBehavior",mojo.command.Behavior,{execute:function(d){var c=d.getParams();var b;var a;if(c.show){if(c.newHover){dojo.removeClass(c.hoverContainer,"show-hover");(mojo.queryFirst(".bd",c.hoverContainer)).innerHTML=c.element.innerHTML;hover_trigger_coords=dojo.position(c.element,true);c.hoverContainer.style.left=(hover_trigger_coords.x+c.xOffset)+"px";c.hoverContainer.style.top=(hover_trigger_coords.y+c.yOffset)+"px";clearTimeout(window.hoverTimein);window.hoverTimein=setTimeout(function(){dojo.addClass(c.hoverContainer,"show-hover")},c.delay)}else{clearTimeout(window.hoverTimeout)}}if(c.hide){clearTimeout(window.hoverTimeout);window.hoverTimeout=setTimeout(function(){dojo.removeClass(c.hoverContainer,"show-hover")},c.delay)}}});dojo.provide("cox.behavior.InitGlossaryLinkBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.InitGlossaryLinkBehavior",mojo.command.Behavior,{execute:function(d){var c=mojo.queryFirst("#glossary-link");if(!c){return}var b=mojo.queryFirst("#corrected-search-string")||mojo.queryFirst("#search-string");var a=b.innerHTML;a=a.replace(/[^a-zA-Z]/g,"");if(a.length>0){c.href+="#"+a[0].toLowerCase()}}});dojo.provide("cox.behavior.InitPrintPreviewBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.InitPrintPreviewBehavior",mojo.command.Behavior,{execute:function(g){var f=g.getParams();var e=f.locationWindow.location;var b=(e.search&&e.search.length>0)?dojo.queryToObject(e.search.substr(1)):{};b.print="true";var a=e.protocol+"//"+e.host+e.pathname+"?"+dojo.objectToQuery(b)+e.hash;mojo.queryFirst("iframe[name='"+f.frameName+"']",f.dialogElement).src=a;var d=$(mojo.queryFirst("#print-dialog",f.dialogElement));var c=dojo.position(f.dialogElement);d.setStyle("height",(c.h-50)+"px")}});dojo.provide("cox.behavior.InitSearchHeader");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.InitSearchHeader",mojo.command.Behavior,{execute:function(b){var a=b.getParams();if(a.countURL){dojo.xhrGet({url:a.countURL,handleAs:"json",load:function(e,d){var c=e.CategoryResults["categories"];var h=mojo.query(".browse-by-topic li > a");for(var g=0;g<h.length;g++){var l=h[g];var f=c[g]?c[g]["numResults"]:null;if(f){l.innerHTML+=" ("+f+")"}else{l.className+=" disabled"}}return e}})}}});dojo.provide("cox.behavior.InitSessionVarBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.InitSessionVarBehavior",mojo.command.Behavior,{execute:function(c){dojo.query("#pf-header .pf-titlebar-entry .pf-titlebar-icon-cart").forEach(function(d){if(!document.cookie.match("cox-cart=cbecomm_items")){d.innerHTML="View Cart";document.cookie="cox-cart="+escape("cbecomm_items")+"; path=/; domain=.cox.com"}});var b=c.getParams();var a=b.elm;console.log([sessvars]);sessvars.pageCount=sessvars.pageCount||0;if(sessvars.pageCount==0){sessvars.contentTextSize=a.style.fontSize;sessvars.wishlistArray=new Array();sessvars.bundleWishlistArray=new Array();console.log("wishlist:",sessvars.bundleWishlistArray)}sessvars.pageCount++}});dojo.provide("cox.behavior.InitToggleBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.InitToggleBehavior",mojo.command.Behavior,{execute:function(a){var f=a.getParams();f.element=$(f.element);if(!f.element){return}var b=f.controller.getValue("isOpen");var c=mojo.queryFirst(".toggle-wrapper",f.controller.getContextElement());if(!c){c=new Element("div",{"class":"toggle-wrapper",styles:$extend(f.element.getStyles("margin"),{overflow:"hidden",position:"relative",zoom:"1"})}).injectAfter(f.element).adopt(f.element);b=!(f.element.getStyle("display")=="none");f.element.setStyle("margin",0);f.element.setStyle("display","block");c.setStyle("display","block")}f.controller.setValue("isOpenOriginal",b);var d=f.id;if(d){var l=window.location.hash;if(l.length>0){l=l.substring(1)}if(l.toLowerCase()=="null"||l.toLowerCase()=="undefined"){l=""}var m=new Object();var n=l.split("&");for(var h=0;h<n.length;h++){var g=n[h].split("=");if(g.length==2){m[g[0]]=unescape(g[1])}}var e=(m.toggle||"");if(e.indexOf(d)>-1){b=!b}}f.controller.setValue("isOpen",b);if(b){if(!c.offsetHeight){c.setStyle("height","")}}else{if(c.offsetHeight){c.setStyle("height",0)}}}});dojo.provide("cox.behavior.LoadContentBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.LoadContentBehavior",mojo.command.Behavior,{execute:function(b){var a=b.getParams();if(a.href){dojo.xhrGet({url:a.href,handleAs:"json",load:function(e,d){for(var c in a.replace){var f=mojo.queryFirst(c);if(f){f.innerHTML=e[a.replace[c]]||""}if(f&a.append){f.innerHTML=f.innerHTML+a.append}}}})}}});dojo.provide("cox.behavior.PopupWindowBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.PopupWindowBehavior",mojo.command.Behavior,{execute:function(c){var b=c.getParams();if(!b.url){return}var a=window.open(b.url,b.windowName,b.windowProps);a.focus()}});dojo.provide("cox.behavior.PreExpandedTweenBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.PreExpandedTweenBehavior",mojo.command.Behavior,{onComplete:function(){},onStart:function(){},_effect:null,doUpdateClass:function(b,d,a,c){mojo.Messaging.publish(b,{elements:d,applyStyle:a,action:c})},execute:function(g){var d={};var f;var c=g.getParams().context;var a=g.getParams().height;var b=g.getParams().caller;e(this);if(a==0){this.doUpdateClass("/toggleCSSTopic",c,"toggle-open","remove")}else{this.doUpdateClass("/toggleCSSTopic",c,"toggle-open","add")}function e(l){if(g.getParams().width!=null){d.width=g.getParams().width}if(g.getParams().height!=null){d.height=g.getParams().height}if(dojo.isIE<7&&d.height==0){d.height=1}if(g.getParams().x!=null){d.left=g.getParams().x}if(g.getParams().y!=null){d.top=g.getParams().y}if(g.getParams().duration!=null){f=g.getParams().duration}else{f=600}var o=g.getParams().element;if(!dojo.isArray(o)){o=[o]}var h=o.length;var p=l;for(var m=0;m<h;m++){if(o[m]){if(o[m].style.height=="auto"&&d.height!=null){o[m].style.height=dojo.position(o[m]).h+"px"}var n=new Fx.Styles(o[m],{duration:f,transition:Fx.Transitions.Expo.easeInOut,onStart:function(){p.onStart();if(dojo.isIE<7&&this.from.height=="1"){this.element.style.display="block"}},onComplete:function(){if(dojo.isIE<7&&this.to.height=="1"){this.element.style.display="none"}if((this.from.height=="0")||(this.from.height=="1")){this.element.style.height="auto"}if(this.element.style.height=="auto"&&this.to.height>0&&dojo.position(this.element).h==0){this.element.style.height=this.to.height+"px"}p.onComplete()}});this._effect=n;n.start(d)}}}}});dojo.provide("cox.behavior.PrintBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.PrintBehavior",mojo.command.Behavior,{execute:function(c){var b=c.getParams();if(b.target){var a=mojo.queryFirst(b.target);window.frames[a.name].focus();window.frames[a.name].print()}else{window.print()}}});dojo.provide("cox.behavior.ReconcileComparablesBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ReconcileComparablesBehavior",mojo.command.Behavior,{execute:function(f){var d=f.getParams();var a=d.mainEntries;var c=d.cartEntries;var b=true;a.each(function(l,h){var g=mojo.queryFirst("input",c[h]);g.checked=l.checked;if(l.checked){dojo.addClass(c[h],"compare-cart-item-checked");c[h].childNodes[0].disabled=false;b=false}else{dojo.removeClass(c[h],"compare-cart-item-checked");c[h].childNodes[0].disabled=true}});var e=mojo.queryFirst("#compare-empty-text");if(e){if(b){dojo.removeClass(e,"hide")}else{dojo.addClass(e,"hide")}}},onResponse:function(){}});dojo.provide("cox.behavior.ScrollBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ScrollBehavior",mojo.command.Behavior,{execute:function(d){var c=d.getParams();if(window.getSelection){window.getSelection().removeAllRanges()}var b=c.victim;var a=function(){if(c.amount){var f=c.amount;var h=c.caller.className.split(" ");for(var e=0;e<h.length;e++){if(h[e]=="up"){f*=-1;break}}b.scrollTop+=f}var g;for(var e=0;e<b.childNodes.length;e++){if(b.childNodes[e].tagName){g=b.childNodes[e];break}}if(g.offsetHeight-b.scrollTop<b.clientHeight){b.scrollTop=g.offsetHeight-b.clientHeight}};if(c.hold){window.clearInterval(c.caller.repeatInterval);c.caller.repeatInterval=(c.amount)?window.setInterval(a,c.repeatRate):""}else{a()}}});dojo.provide("cox.behavior.SelectiveRuleCheckBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.SelectiveRuleCheckBehavior",mojo.command.Behavior,{doStuff:function(a,b){var c=mojo.query(".child_of_selective_rule",b);if(a.checked!=true){for(i=0;i<c.length;i++){c[i].checked=false;c[i].disabled=true}}else{for(i=0;i<c.length;i++){c[i].disabled=false}}},execute:function(d){var c=d.getParams();var a=c.caller;var b=c.element;this.doStuff(a,b)}});dojo.provide("cox.behavior.SetHomepageBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.SetHomepageBehavior",mojo.command.Behavior,{execute:function(g){var f=function(h){mojo.Messaging.publish("error",{title:"Make This My Home",text:h})};var b=navigator.appVersion.indexOf("Mac")!=-1;var e=navigator.appVersion.indexOf("Chrome")!=-1;var a="To make My Connection your home page, follow these quick and easy steps:";if(dojo.isFF){if(b){f(a+"<ol><li>Click on Firefox and select Preferences</li><li>Select the Main tab on the left</li><li>Type www.cox.com/myconnection next to Home Page</li><li>Close the Preferences window</li></ol>")}else{f(a+"<ol><li>Click on Tools and select Options</li><li>Click the General tab</li><li>Type www.cox.com/myconnection next to Home Page</li><li>Click OK</li></ol>")}}else{if(dojo.isSafari){if(b){f(a+"<ol><li>Click on Safari and select Preferences</li><li>Click the General tab</li><li>Type www.cox.com/myconnection next to Home Page</li><li>Click OK</li></ol>")}else{f(a+"<ol><li>Click on the settings icon in the upper right hand corner of your browser</li><li>Click the General tab</li><li>Type www.cox.com/myconnection next to Homepage</li><li>Close the Preferences window</li></ol>")}}else{if(e){f(a+'<ol><li>Click on the wrench icon in the upper right hand corner of your browser and select Settings</li><li>Under the "On startup" section, select "Open a specific page or set of pages" and click the "Set pages" link</li><li>Click the "Use current pages" button</li><li>Click OK</li></ol>')}else{if(dojo.isIE&&!b){try{var d=mojo.queryFirst("#bookmark_widget a");d.style.behavior="url(#default#homepage)";d.setHomePage("http://www.cox.com/myconnection")}catch(c){f("We are unable to set your home page due to your system settings.")}}else{f("If you'd like to make My Connection your home page, please use your browser's Help section.")}}}}}});dojo.provide("cox.behavior.ShowHideElementsBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ShowHideElementsBehavior",mojo.command.Behavior,{getElement:function(a){return mojo.queryFirst("#"+a)},disableValidation:function(a){this.doUpdateClass("/toggleCSSTopic",a,"disable-validation","add")},enableValidation:function(a){this.doUpdateClass("/toggleCSSTopic",a,"disable-validation","remove")},doMultipleDivs:function(f){var b=dojo.attr(f,"close-div");if(b!=null){var d=b.split(" ");if(dojo.isArray(d)&&d.length>1){var a=this;dojo.forEach(d,function(h){var g=a.getElement(h);a.doHideDiv(g)})}else{this.doHideDiv(this.getElement(b))}}var c=dojo.attr(f,"show-div");if(c!=null){var e=c.split(" ");if(dojo.isArray(e)&&e.length>1){var a=this;dojo.forEach(e,function(h){var g=a.getElement(h);a.doShowDiv(g)})}else{this.doShowDiv(this.getElement(c))}}},doUpdateClass:function(b,d,a,c){mojo.Messaging.publish(b,{elements:d,applyStyle:a,action:c})},doMore:function(c){var b=mojo.query(".showhide-trigger",c);if(b!=null&&b.length>0){for(var a=0;a<b.length;a++){if(b[a].tagName=="SELECT"){this.doStuff(b[a],"onchange")}}}},doShowDiv:function(a){if(a!=null){this.doUpdateClass("/toggleCSSTopic",a,"closedDiv","remove");this.doUpdateClass("/toggleCSSTopic",a,"openedDiv","add");var d=mojo.query(".disabled-required",a);if(d!=null&&d.length!=0){for(i=0;i<d.length;i++){if(!dojo.hasClass(d[i].parentElement,"closedDiv")){this.doUpdateClass("/toggleCSSTopic",d[i],"disabled-required","remove");this.doUpdateClass("/toggleCSSTopic",d[i],"required","add")}else{if(dojo.hasClass(d[i].parentElement,"closedDiv")){this.doUpdateClass("/toggleCSSTopic",d[i],"required","remove");this.doUpdateClass("/toggleCSSTopic",d[i],"disabled-required","add")}}}}var d=mojo.query(".disabled-date",a);if(d!=null&&d.length!=0){this.doUpdateClass("/toggleCSSTopic",d,"disabled-date","remove");this.doUpdateClass("/toggleCSSTopic",d,"date","add")}var d=mojo.query(".disabled-requiredchkbox",a);if(d!=null&&d.length!=0){this.doUpdateClass("/toggleCSSTopic",d,"disabled-requiredchkbox","remove");this.doUpdateClass("/toggleCSSTopic",d,"requiredchkbox","add")}var d=mojo.query(".disabled-required-mandatory",a);if(d!=null&&d.length!=0){for(i=0;i<d.length;i++){if(!dojo.hasClass(d[i].parentElement,"closedDiv")){this.doUpdateClass("/toggleCSSTopic",d[i],"disabled-required-mandatory","remove");this.doUpdateClass("/toggleCSSTopic",d[i],"required-mandatory","add")}else{if(dojo.hasClass(d[i].parentElement,"closedDiv")){this.doUpdateClass("/toggleCSSTopic",d[i],"required-mandatory","remove");this.doUpdateClass("/toggleCSSTopic",d[i],"disabled-required-mandatory","add")}}}}var d=mojo.query(".disabled-search-keyword-inClass",a);if(d!=null&&d.length!=0){this.doUpdateClass("/toggleCSSTopic",d,"disabled-search-keyword-inClass","remove");this.doUpdateClass("/toggleCSSTopic",d,"search-keyword-inClass","add")}var b=mojo.query("input",a);this.enableValidation(b);var c=mojo.query("select",a);this.enableValidation(c)}},doHideDiv:function(a){if(a!=null){this.doUpdateClass("/toggleCSSTopic",a,"openedDiv","remove");this.doUpdateClass("/toggleCSSTopic",a,"closedDiv","add");var d=mojo.query(".required",a);if(d!=null&&d.length!=0){this.doUpdateClass("/toggleCSSTopic",d,"required","remove");this.doUpdateClass("/toggleCSSTopic",d,"disabled-required","add")}var d=mojo.query(".date",a);if(d!=null&&d.length!=0){this.doUpdateClass("/toggleCSSTopic",d,"date","remove");this.doUpdateClass("/toggleCSSTopic",d,"disabled-date","add")}var d=mojo.query(".requiredchkbox",a);if(d!=null&&d.length!=0){this.doUpdateClass("/toggleCSSTopic",d,"requiredchkbox","remove");this.doUpdateClass("/toggleCSSTopic",d,"disabled-requiredchkbox","add")}var d=mojo.query(".required-mandatory",a);if(d!=null&&d.length!=0){this.doUpdateClass("/toggleCSSTopic",d,"required-mandatory","remove");this.doUpdateClass("/toggleCSSTopic",d,"disabled-required-mandatory","add")}var d=mojo.query(".search-keyword-inClass",a);if(d!=null&&d.length!=0){this.doUpdateClass("/toggleCSSTopic",d,"search-keyword-inClass","remove");this.doUpdateClass("/toggleCSSTopic",d,"disabled-search-keyword-inClass","add")}var b=mojo.query("input",a);this.disableValidation(b);var c=mojo.query("select",a);this.disableValidation(c)}},doStuff:function(d,l){var a=null;switch(d.tagName){case"SELECT":if(l=="onchange"){var g=d.options[d.selectedIndex].value;a=this.getElement(g);for(i=0;i<d.options.length;i++){var e=d.options[i];var c=this.getElement(e.value);if(c!=null&&c!=a){this.doHideDiv(c)}}this.doShowDiv(a)}break;case"A":this.doMultipleDivs(d);break;case"INPUT":var h=dojo.attr(d,"type");if(h=="radio"){this.doMultipleDivs(d)}else{if(h=="checkbox"){var b=dojo.attr(d,"show-chkBox");var f=this.getElement(b);if(d.checked!=true){this.doHideDiv(f)}else{this.doShowDiv(f)}}}break}if(a!=null){this.doMore(a)}},execute:function(d){var c=d.getParams();var a=c.element;var b=c.elementEvent;this.doStuff(a,b)}});dojo.provide("cox.behavior.StoreLoginCookieBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.query");dojo.declare("cox.behavior.StoreLoginCookieBehavior",mojo.command.Behavior,{execute:function(h){var g=h.getParams();if(!g.form){return}var f={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(n){var l="";var v,t,q,u,r,p,o;var m=0;n=f._utf8_encode(n);while(m<n.length){v=n.charCodeAt(m++);t=n.charCodeAt(m++);q=n.charCodeAt(m++);u=v>>2;r=((v&3)<<4)|(t>>4);p=((t&15)<<2)|(q>>6);o=q&63;if(isNaN(t)){p=o=64}else{if(isNaN(q)){o=64}}l=l+this._keyStr.charAt(u)+this._keyStr.charAt(r)+this._keyStr.charAt(p)+this._keyStr.charAt(o)}return l},decode:function(n){var l="";var v,t,q;var u,r,p,o;var m=0;n=n.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(m<n.length){u=this._keyStr.indexOf(n.charAt(m++));r=this._keyStr.indexOf(n.charAt(m++));p=this._keyStr.indexOf(n.charAt(m++));o=this._keyStr.indexOf(n.charAt(m++));v=(u<<2)|(r>>4);t=((r&15)<<4)|(p>>2);q=((p&3)<<6)|o;l=l+String.fromCharCode(v);if(p!=64){l=l+String.fromCharCode(t)}if(o!=64){l=l+String.fromCharCode(q)}}l=f._utf8_decode(l);return l},_utf8_encode:function(m){m=m.replace(/\r\n/g,"\n");var l="";for(var p=0;p<m.length;p++){var o=m.charCodeAt(p);if(o<128){l+=String.fromCharCode(o)}else{if((o>127)&&(o<2048)){l+=String.fromCharCode((o>>6)|192);l+=String.fromCharCode((o&63)|128)}else{l+=String.fromCharCode((o>>12)|224);l+=String.fromCharCode(((o>>6)&63)|128);l+=String.fromCharCode((o&63)|128)}}}return l},_utf8_decode:function(l){var m="";var n=0;var o=c1=c2=0;while(n<l.length){o=l.charCodeAt(n);if(o<128){m+=String.fromCharCode(o);n++}else{if((o>191)&&(o<224)){c2=l.charCodeAt(n+1);m+=String.fromCharCode(((o&31)<<6)|(c2&63));n+=2}else{c2=l.charCodeAt(n+1);c3=l.charCodeAt(n+2);m+=String.fromCharCode(((o&15)<<12)|((c2&63)<<6)|(c3&63));n+=3}}}return m}};var d=new Date();d.setTime(d.getTime()+(365*24*60*60*1000));var c="; expires="+d.toGMTString();var b="; expires="+new Date(0).toGMTString();var a=mojo.queryFirst("input[name='rememberme']",g.form);var e=mojo.queryFirst("input[name='username']",g.form).value;if(a.checked==true){if(navigator.cookieEnabled){document.cookie="cox-rememberme-user="+f.encode(e)+c+"; path=/"}}else{document.cookie="cox-rememberme-user="+f.encode(e)+b+"; path=/"}}});dojo.provide("cox.behavior.SwapElementDisplay");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.SwapElementDisplay",mojo.command.Behavior,{execute:function(b){var a=b.controllerObj.params;dojo.forEach(a.displayBlockSelectors._value,function(e,d){var c=mojo.queryFirst(e,b.getContextElement());var f=mojo.query(".required-disabled",c);for(d=0;d<f.length;d++){f[d].className=f[d].className.replace("required-disabled","required")}c.style.display="block"});dojo.forEach(a.displayNoneSelectors._value,function(e,d){var c=mojo.queryFirst(e,b.getContextElement());var f=mojo.query(".required",c);for(d=0;d<f.length;d++){f[d].className=f[d].className.replace("required","required-disabled")}c.style.display="none"})},onResponse:function(){}});dojo.provide("cox.behavior.ToggleCheckboxSelectBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ToggleCheckboxSelectBehavior",mojo.command.Behavior,{doUpdateClass:function(b,d,a,c){mojo.Messaging.publish(b,{elements:d,applyStyle:a,action:c})},doProcessHeaderCheckBox:function(c){checkboxListLength=c.length;for(var b=1;b<checkboxListLength;b++){var a=c[b];if(!a.checked){c[0].checked=false}}},execute:function(a){var g=a.getParams();var f=g.caller;var e=null;var b=dojo.byId("checkbox-pairup-main-table");var c=null;if(dojo.isIE<9){c=f.parentNode}else{c=f.parentElement}if(dojo.isIE<9){e=f.parentNode.parentNode}else{e=f.parentElement.parentElement}switch(c.tagName){case"TH":var d=dojo.attr(f,"name");if(d=="required-accountcode"&&f.checked){mojo.query(".check-all-group-accoptional",b).forEach(function(q){q.checked=false})}else{if(d=="optional-accountcode"&&f.checked){mojo.query(".check-all-group-accrequired",b).forEach(function(q){q.checked=false})}}break;default:var h=mojo.query(".checkbox-pairup-check",e);var o=f.checked;for(var m=0;m<h.length;m++){var p=h[m];p.checked=false}f.checked=o;if(f.checked){this.doUpdateClass("/toggleCSSTopic",mojo.queryFirst(".check-all-group-authrequired",e),"mark-checked","add")}else{this.doUpdateClass("/toggleCSSTopic",mojo.queryFirst(".check-all-group-authrequired]",e),"mark-checked","remove")}}var n=mojo.query(".check-all-group-accrequired",b);this.doProcessHeaderCheckBox(n);var l=mojo.query(".check-all-group-accoptional",b);this.doProcessHeaderCheckBox(l)}});dojo.provide("cox.behavior.ToolTipBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.Model");dojo.declare("cox.behavior.ToolTipBehavior",mojo.command.Behavior,{_tooltip:null,_tooltipInfo:null,_lastCaller:null,_iframe:null,_timeout:null,execute:function(b){var g=b.getParams();try{window.clearTimeout(this._timeout)}catch(m){}if(g.anchorX==="cursor"&&typeof g._mouseX=="undefined"){g._mouseX=b.eventObj.pageX}if(g.anchorY==="cursor"&&typeof g._mouseY=="undefined"){g._mouseY=b.eventObj.pageY}if(g.delay){var h=g.delay;g.delay=0;this._timeout=window.setTimeout(dojo.hitch(this,this.execute,b),h);return}if(b.getParams().show){var d=g.template||'<div class="tooltip"><div class="dialog-pane-content"></div><div class="tooltip-arrow"></div></div>';if(!g.offsetX){g.offsetX=0}if(!g.offsetY){g.offsetY=0}if(dojo.isIE){if(!this._iframe){this._iframe=document.createElement("iframe");this._iframe.id="tooltipIFrame";this._iframe.frameBorder="0";this._iframe.style.zIndex=9998;this._iframe.style.overflow="hidden";this._iframe.style.position="absolute";this._iframe.scrolling="no";document.body.appendChild(this._iframe)}else{this._iframe=mojo.queryFirst("#tooltipIFrame")}}if(!this._tooltip){this._tooltip=mojo.queryFirst("#tooltip");if(!this._tooltip){this._tooltip=document.createElement("div");this._tooltip.id="tooltip";this._tooltip.style.zIndex=9999;this._tooltip.style.position="absolute";document.body.appendChild(this._tooltip)}}this._tooltip.innerHTML=d;this._tooltipInfo=g.info||b.getCaller()._mojoTooltip;if(this._tooltipInfo){var l=mojo.queryFirst(".dialog-pane-content",this._tooltip);l.innerHTML=this._tooltipInfo}this._lastCaller=b.getCaller();if(this._tooltipInfo){dojo.style(this._tooltip,"display","block");var c=dojo.position(this._tooltip,true);var o=dojo.position(b.getCaller(),true);this._tooltip.style.left=((g.anchorX==="cursor"?g._mouseX:o.x)+g.offsetX)+"px";this._tooltip.style.top=((g.anchorY==="cursor"?g._mouseY:o.y)+g.offsetY)+"px";var a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;if(!dojo.isIE&&dojo.hasClass(b.callerObj,"watch-tooltip")&&dojo.coords(this._tooltip).t+dojo.coords(mojo.queryFirst(".wrapper",this._tooltip)).h>window.scrollY+a){var f=dojo.coords(this._tooltip).t;this._tooltip.style.top=dojo.coords(this._tooltip).t+(a-(dojo.coords(this._tooltip).t+dojo.coords(mojo.queryFirst(".wrapper",this._tooltip)).h))+window.scrollY+"px";mojo.queryFirst("div[class$='arrow']",this._tooltip).style.top=dojo.coords(mojo.queryFirst("div[class$='arrow']",this._tooltip),true).t+(f-dojo.coords(this._tooltip).t)+"px"}var n=g.underlayMark?mojo.queryFirst(g.underlayMark,this._tooltip):this._tooltip;var p=dojo.position(n,true);if(dojo.isIE){this._iframe.style.width=p.w+"px";this._iframe.style.height=p.h+"px";this._iframe.style.top=p.y+"px";this._iframe.style.left=p.x+"px";this._iframe.style.filter="alpha(opacity=0)";dojo.style(this._iframe,"display","block")}}}else{if(this._iframe){dojo.style(this._iframe,"display","none")}if(this._tooltip){dojo.style(this._tooltip,"display","none")}}}});dojo.provide("cox.behavior.business.AccAuthToggleTableColumnBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.AccAuthToggleTableColumnBehavior",mojo.command.Behavior,{doAddClass:function(d,a){for(var c=0;c<d.length;c++){var b=d[c];dojo.addClass(b,a)}},doRemoveClass:function(d,a){for(var c=0;c<d.length;c++){var b=d[c];dojo.removeClass(b,a)}},execute:function(A){var v=A.getParams();var c=v.element;var n=c.options[c.selectedIndex].value;var p=new Array();var b=new Array();var f=new Array();var w=new Array();var m=mojo.queryFirst(".account-and-auth-codes-container");var r=dojo.byId("accountcodeuserstoggle");var d=dojo.byId("accountcodesettingstoggle");var l=dojo.byId("accountcodesettingheader");var t=dojo.byId("acc-code-listing");var g=mojo.query(".accountcode-col",m);var h=dojo.byId("accountcodeusers");var q=dojo.byId("accountlisting");var a=dojo.byId("authcodesettingheader");var e=dojo.byId("auth-code-listing");var o=mojo.query(".authorizationcode-col",m);var u=dojo.byId("authorizationcodeusers");var z=dojo.byId("authorizationlisting");if(n!=null&&n=="account-codes"){this.doRemoveClass(f,"hideElementClass");this.doAddClass(w,"hideElementClass");this.doRemoveClass(g,"hideElementClass");this.doAddClass(o,"hideElementClass");p.push(a);p.push(e);p.push(z);p.push(u);b.push(l);b.push(t);b.push(q);b.push(h);this.doRemoveClass(b,"closedDiv");this.doAddClass(p,"closedDiv");r.innerHTML="Account Code Users";d.innerHTML="Account Code Settings"}else{if(n!=null&&n=="authorization-codes"){this.doRemoveClass(f,"hideElementClass");this.doAddClass(w,"hideElementClass");this.doRemoveClass(o,"hideElementClass");this.doAddClass(g,"hideElementClass");p.push(l);p.push(t);p.push(q);p.push(h);b.push(a);b.push(e);b.push(z);b.push(u);this.doRemoveClass(b,"closedDiv");this.doAddClass(p,"closedDiv");r.innerHTML="Authorization Code Users";d.innerHTML="Authorization Code Settings"}}}});dojo.provide("cox.behavior.business.AddNumberBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.AddNumberBehavior",mojo.command.Behavior,{doStuff:function(b){var d=b.parentNode.parentNode;var l=d.parentNode;var a=dojo.attr(b,"maxcount");var f=Number(a);f=(!f)?12:f;var e=mojo.query(".li_containing_input",d);var c=mojo.query(".li_containing_input",l);var g=c.length;var h=null;if(g<f){if(e.length==3){var n=dojo.create("li",{"class":"form-text no-label li_containing_input",innerHTML:"<label id='' title='phone number' for='phonenumber_"+g+"'></label><input id='phonenumber_"+g+"' name='phonenumber_"+g+"' type='text' class='cntrl-anyonedata' maxlength='161' size='18'>"});dojo.place(n,b.parentNode,"replace");var m=dojo.create("ol",{"class":"inline count bottom-align"},l,"last");dojo.create("li",{"class":"form-text no-label li_containing_input bottom-align",id:"rule-add",innerHTML:"<a class='add_number_link' maxcount='"+f+"'target='' href=''  title='Add Another Number'>Add Another Number</a>"},m,"first")}else{var n=dojo.create("li",{"class":"form-text no-label li_containing_input",innerHTML:"<label id='' title='phone number' for='phonenumber_"+g+"'></label><input id='phonenumber_"+g+"' name='phonenumber_"+g+"' type='text' maxlength='161' class='cntrl-anyonedata' size='18'>"});dojo.place(n,b.parentNode,"replace");dojo.create("li",{"class":"form-text no-label li_containing_input bottom-align",id:"rule-add",innerHTML:"<a class='add_number_link' maxcount='"+f+"' target='' href=''  title='Add Another Number'>Add Another Number</a>"},d,"last")}}else{var n=dojo.create("li",{"class":"form-text no-label li_containing_input",innerHTML:"<label id='' title='phone number' for='phonenumber_"+g+"'></label><input id='phonenumber_"+g+"' name='phonenumber_"+g+"' type='text' maxlength='161' class='cntrl-anyonedata' size='18'>"});dojo.place(n,b.parentNode,"replace")}},execute:function(c){var b=c.getParams();var a=b.caller;this.doStuff(a)}});dojo.provide("cox.behavior.business.ArrowButtonBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.ArrowButtonBehavior",mojo.command.Behavior,{onComplete:function(){},execute:function(e){var d=e.getParams();var a=d.element;var c=d.mode;var b=d.which;if(b=="toolbelt"){dojo.stopEvent(e.getEvent());a.style.background="none";if(d.show){if(dojo.isIE==6){a.style.background="url(/img/interface/filmstrip/"+c+"_circle.gif)"}else{a.style.background="url(/img/interface/filmstrip/"+c+"_circle.png)"}}else{if(dojo.isIE==6){a.style.background="url(/img/interface/filmstrip/"+c+"_blue.gif)"}else{a.style.background="url(/img/interface/filmstrip/"+c+"_blue.png)"}}}else{dojo.stopEvent(e.getEvent());a.style.background="none";if(d.show){if(dojo.isIE==6){a.style.background="url(/ui/emergence/corp/en/img/interface/rounded-buttons/blue-circle-"+c+"-hover.gif)"}else{a.style.background="url(/ui/emergence/corp/en/img/interface/rounded-buttons/blue-circle-"+c+"-hover.png)"}}else{if(dojo.isIE==6){a.style.background="url(/ui/emergence/corp/en/img/interface/rounded-buttons/blue-circle-"+c+".gif)"}else{a.style.background="url(/ui/emergence/corp/en/img/interface/rounded-buttons/blue-circle-"+c+".png)"}}}this.onComplete()}});dojo.provide("cox.behavior.business.CheckCheckedBoxBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.CheckCheckedBoxBehavior",mojo.command.Behavior,{execute:function(e){var b=mojo.query("input",mojo.queryFirst("#discuss-my-list"));var d=sessvars.wishlistArray;var c=false;for(i=0;i<b.length;i++){if(b[i].checked!=true){for(j=0;j<d.length;j++){if(d[j].id==b[i].id){sessvars.wishlistArray.splice(j,1)}}}else{for(j=0;j<d.length;j++){if(d[j].id==b[i].id){c=true}}if(!c){var a=new Object();a.id=b[i].id;a.name=b[i].name;a.value=b[i].value;a.label=b[i].id;sessvars.wishlistArray.push(a)}c=false}}}});dojo.provide("cox.behavior.business.CheckSpecPhoneNoBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.CheckSpecPhoneNoBehavior",mojo.command.Behavior,{doaddmandatoryphonenumber:function(a){if(a!=null){this.doUpdateClass("/toggleCSSTopic",a,"disabled-required","remove");this.doUpdateClass("/toggleCSSTopic",a,"required","add")}},doremovemandatoryphonenumber:function(a){if(a!=null){this.doUpdateClass("/toggleCSSTopic",a,"disabled-required","add");this.doUpdateClass("/toggleCSSTopic",a,"required","remove")}},doUpdateClass:function(b,d,a,c){mojo.Messaging.publish(b,{elements:d,applyStyle:a,action:c})},doStuff:function(d,b){var m=mojo.query(".cntrl-anycheckbox",b);var h=mojo.query(".cntrl-anyonedata",b);var l=mojo.queryFirst("#specific_ph_no",b);var c=dojo.attr(l,"class");var a=c.split(" ");var f=0;var g=0;for(x=0;x<a.length;x++){if(a[x]=="closedDiv"){f++}}for(y=0;y<a.length;y++){if(a[y]=="openedDiv"){g++}}if(f==1){this.doremovemandatoryphonenumber(h[0])}if(g==1){for(i=0;i<m.length;i++){if(m[i].checked==true){this.doremovemandatoryphonenumber(h[0]);break}else{var e=0;for(j=0;j<h.length;j++){if(h[j].value==null||h[j].value==""){e++}}if(e==h.length){this.doaddmandatoryphonenumber(h[0])}else{this.doremovemandatoryphonenumber(h[0])}}}}},execute:function(d){var c=d.getParams();var a=c.caller;var b=c.element;this.doStuff(a,b)}});dojo.provide("cox.behavior.business.CollapseDivBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.CollapseDivBehavior",mojo.command.Behavior,{setElementHeight:function(e,d,c){for(var b=0;b<e.length;b++){var a=e[b];a.setStyle(d,c)}},doRemoveClass:function(d,a){for(var c=0;c<d.length;c++){var b=d[c];dojo.removeClass(b,a)}},execute:function(f){var e=f.getParams();var c=e.context;var b=e.caller;var a=e.elementWrapper;var d=e.elementToggleClass;if(b==dojo.byId("acc-auth-donotuse-codes")){this.setElementHeight(a,"height",0);this.doRemoveClass(d,"toggle-open")}}});dojo.provide("cox.behavior.business.ConfirmationPopUpBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.ConfirmationPopUpBehavior",mojo.command.Behavior,{onComplete:function(){},execute:function(e){var d=e.getParams();var b=d.action;var a=d.url;var c=d.title;switch(b){case"Dirty":mojo.Messaging.publish("dialog",{enabled:true,href:a,title:c,width:400,height:135});break;case"New Code":mojo.Messaging.publish("dialog",{enabled:true,href:a,title:c,width:400,height:135});break;case"File Upload":mojo.Messaging.publish("dialog",{enabled:true,element:a,title:c,width:450,height:-1});this.onComplete();break;case"Suppress Pop Up":break}}});dojo.provide("cox.behavior.business.DecrementRowCountBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.DecrementRowCountBehavior",mojo.command.Behavior,{onAfterProceed:function(){},execute:function(a){var e=a.getParams();var g=e.noofleftrows;var l=e.noofrightrows;var f=e.control;var b=e.context;var c=e.caller;if(l!=0&&dojo.attr(c,"class")=="simring_removerow_left"){var d=mojo.queryFirst("#row-list-main-right li",b);var m=mojo.queryFirst("#row-list-main-left",b);h(d,m);if(l==1){dojo.byId("row-list-main-right").style.display="none";mojo.queryFirst(".simringinputbox",dojo.byId("row-list-main-right")).value="";mojo.queryFirst(".simringselect",dojo.byId("row-list-main-right")).value="No"}else{dojo.destroy(d)}}this.onAfterProceed();function h(t,q){var o=mojo.queryFirst(".simringselect",t).value;var u=dojo.place(dojo.clone(t),q);var n=mojo.queryFirst(".simring_removerow_right",u);dojo.attr(n,"class","simring_removerow_left");var r=mojo.queryFirst("span a",u);var v=dojo.attr(c,"id");var p=Number(v.replace("sim_removerow_",""))+5;dojo.attr(u,"id","sim_row_"+p);dojo.attr(r,"id","sim_removerow_"+p);mojo.queryFirst(".simringselect",u).value=o}}});dojo.provide("cox.behavior.business.EqualizePercentageBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.EqualizePercentageBehavior",mojo.command.Behavior,{onComplete:function(){},populateRecord:function(e,b,d){var a=b.length;for(var c=0;c<a;c++){b[c].value=e}b[a-1].value=e+d},execute:function(h){var g=h.getParams();var c=g.caller;var d=g.context;var b=mojo.query(".weightage-validator-input",d);var a=b.length;var f=null;var e=100%a;if(e!=0){f=(100-e)/a}else{f=100/a}this.populateRecord(f,b,e);this.onComplete()}});dojo.provide("cox.behavior.business.IncrementRowCountBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.IncrementRowCountBehavior",mojo.command.Behavior,{onAfterProceed:function(){},execute:function(f){var e=f.getParams();var d=e.noofleftrows;var b=e.noofrightrows;var c=e.control;var a=e.processdiv;this.onAfterProceed()}});dojo.provide("cox.behavior.business.InitKeepForConsiderationBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.InitKeepForConsiderationBehavior",mojo.command.Behavior,{execute:function(c){var a=mojo.query("#discuss-my-list input");var b=sessvars.wishlistArray;if(sessvars.wishlistArray.length!=0){for(j=0;j<sessvars.wishlistArray.length;j++){for(i=0;i<a.length;i++){if(sessvars.wishlistArray[j].id==a[i].id){a[i].checked="true"}}}}}});dojo.provide("cox.behavior.business.MakeFieldsMandatoryBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.MakeFieldsMandatoryBehavior",mojo.command.Behavior,{doUpdateClass:function(b,d,a,c){mojo.Messaging.publish(b,{elements:d,applyStyle:a,action:c})},execute:function(g){var f=g.getParams();var c=f.context;var e=f.action;var b=mojo.queryFirst(".search-keyword-inClass",c);var d=mojo.query(".required-mandatory",c);var a=["Save","Save and Return","Save and Continue"];(e=="Find")?dojo.attr(b,"data-min-length",2):dojo.attr(b,"data-min-length",0);if(dojo.indexOf(a,e)!=-1){this.doUpdateClass("/toggleCSSTopic",b,"required","remove");if(d!=null){this.doUpdateClass("/toggleCSSTopic",d,"required","add")}}else{this.doUpdateClass("/toggleCSSTopic",b,"required","add");if(d!=null){this.doUpdateClass("/toggleCSSTopic",d,"required","remove")}}}});dojo.provide("cox.behavior.business.PSMEnDisRequiredBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.PSMEnDisRequiredBehavior",mojo.command.Behavior,{doaddshowinput:function(a){if(a!=null){this.doUpdateClass("/toggleCSSTopic",a,"hideinput","remove");this.doUpdateClass("/toggleCSSTopic",a,"showinput","add")}},doremoveshowinput:function(a){if(a!=null){this.doUpdateClass("/toggleCSSTopic",a,"showinput","remove");this.doUpdateClass("/toggleCSSTopic",a,"hideinput","add")}},doaddshowlabel:function(a){if(a!=null){this.doUpdateClass("/toggleCSSTopic",a,"hidelabel","remove");this.doUpdateClass("/toggleCSSTopic",a,"showlabel","add")}},doremoveshowlabel:function(a){if(a!=null){this.doUpdateClass("/toggleCSSTopic",a,"showlabel","remove");this.doUpdateClass("/toggleCSSTopic",a,"hidelabel","add")}},doaddmandatoryphonenumber:function(a){if(a!=null){this.doUpdateClass("/toggleCSSTopic",a,"required","add")}},doremovemandatoryphonenumber:function(a){if(a!=null){this.doUpdateClass("/toggleCSSTopic",a,"required","remove")}},doUpdateClass:function(b,d,a,c){mojo.Messaging.publish(b,{elements:d,applyStyle:a,action:c})},doStuff:function(m,p,c){switch(m.tagName){case"SELECT":if(p=="onchange"){var n=m.options[m.selectedIndex];var a=dojo.attr(n,"name");var f=dojo.attr(n,"todo");var d=mojo.query("."+a,c);if(d.length>0){if(f=="remove"){for(i=0;i<d.length;i++){if(d[i].tagName=="INPUT"){this.doremoveshowinput(d[i])}else{this.doremoveshowlabel(d[i])}}}else{for(i=0;i<d.length;i++){if(d[i].tagName=="INPUT"){this.doaddshowinput(d[i])}else{this.doaddshowlabel(d[i])}}}}var b=c.parentNode.parentNode;var e=mojo.queryFirst(".toggle-open",b);var o=mojo.query(".showinput",e);var l=mojo.query(".hideinput",b);var h=mojo.query(".showinput",b);if(e.id=="AvailableIn"||e.id=="AvailableOut"){for(i=0;i<o.length;i++){this.doaddmandatoryphonenumber(o[i])}}if(e.id=="Busy"||e.id=="Unavailable"){this.doaddmandatoryphonenumber(o[0]);this.doaddmandatoryphonenumber(o[3])}}break;case"INPUT":if(p=="onclick"){var e=mojo.queryFirst(".toggle-open",c);var o=mojo.query(".showinput",e);var l=mojo.query(".hideinput",c);var h=mojo.query(".showinput",c);for(i=0;i<l.length;i++){this.doremovemandatoryphonenumber(l[i])}if(e.id=="AvailableIn"){for(i=0;i<o.length;i++){if(o[i].value==null||o[i].value==""){this.doaddmandatoryphonenumber(o[i])}else{this.doremovemandatoryphonenumber(o[i])}}}if(e.id=="Busy"){var g=0;for(i=0;i<o.length-1;i++){if(o[i].value==null||o[i].value==""){g++}}if(g==o.length-1){this.doaddmandatoryphonenumber(o[0])}else{this.doremovemandatoryphonenumber(o[0])}if(!(o[3]==null||o[3]=="")){this.doaddmandatoryphonenumber(o[3])}else{this.doremovemandatoryphonenumber(o[3])}}if(e.id=="Unavailable"){var g=0;for(i=0;i<o.length-1;i++){if(o[i].value==null||o[i].value==""){g++}}if(g==o.length-1){this.doaddmandatoryphonenumber(o[0])}else{this.doremovemandatoryphonenumber(o[0])}if(!(o[3]==null||o[3]=="")){this.doaddmandatoryphonenumber(o[3])}else{this.doremovemandatoryphonenumber(o[3])}}if(e.id=="AvailableOut"){var g=0;for(i=0;i<o.length;i++){if(o[i].value==null||o[i].value==""){g++}}if(g==o.length){this.doaddmandatoryphonenumber(o[0])}else{this.doremovemandatoryphonenumber(o[0])}}}}},execute:function(e){var d=e.getParams();var b=d.element;var c=d.elementEvent;var a=d.context;this.doStuff(b,c,a)}});dojo.provide("cox.behavior.business.PSMTweenBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.PSMTweenBehavior",mojo.command.Behavior,{onComplete:function(){},onStart:function(){},_effect:null,doUpdateClass:function(b,d,a,c){mojo.Messaging.publish(b,{elements:d,applyStyle:a,action:c})},execute:function(a){var g={};var e;var h=a.getParams().visibleDivElement;var b=a.getParams().context;var l=a.getParams().height;var c=a.getParams().caller;var f=a.getParams().action;if(f=="Do Nothing"){return}if(c!=null||c!=undefined){d(this);if(l==0){this.doUpdateClass("/toggleCSSTopic",b,"toggle-open","remove")}else{this.doUpdateClass("/toggleCSSTopic",b,"toggle-open","add")}}else{if(h!=null||h!=undefined){d(this);this.doUpdateClass("/toggleCSSTopic",h,"toggle-open","remove")}}function d(n){if(a.getParams().width!=null){g.width=a.getParams().width}if(a.getParams().height!=null){g.height=a.getParams().height}if(dojo.isIE<7&&g.height==0){g.height=1}if(a.getParams().x!=null){g.left=a.getParams().x}if(a.getParams().y!=null){g.top=a.getParams().y}if(a.getParams().duration!=null){e=a.getParams().duration}else{e=600}var q=a.getParams().element;if(!dojo.isArray(q)){q=[q]}var m=q.length;var r=n;for(var o=0;o<m;o++){if(q[o]){if(q[o].style.height=="auto"&&g.height!=null){q[o].style.height=dojo.position(q[o]).h+"px"}var p=new Fx.Styles(q[o],{duration:e,transition:Fx.Transitions.Expo.easeInOut,onStart:function(){r.onStart();if(dojo.isIE<7&&this.from.height=="1"){this.element.style.display="block"}},onComplete:function(){if(dojo.isIE<7&&this.to.height=="1"){this.element.style.display="none"}if((this.from.height=="0")||(this.from.height=="1")){this.element.style.height="auto"}if(this.element.style.height=="auto"&&this.to.height>0&&dojo.position(this.element).h==0){this.element.style.height=this.to.height+"px"}r.onComplete()}});this._effect=p;p.start(g)}}}}});dojo.provide("cox.behavior.business.PopulateFromWishlistBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.PopulateFromWishlistBehavior",mojo.command.Behavior,{execute:function(e){var d=e.getParams();var a=sessvars.wishlistArray||[];for(var b=0;b<a.length;b++){var c=mojo.queryFirst("input[type='checkbox'][value='"+a[b].id+"']",d.formElement);if(c){c.checked=true}}}});dojo.provide("cox.behavior.business.ProcessFileuploadBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.ProcessFileuploadBehavior",mojo.command.Behavior,{truncateFileName:function(a){var b="";if(a.length>=25){b=a.substring(0,25)+"..."}else{b=a}return b},execute:function(w){var t=w.getParams();var p=t.caller;var b=t.context;var g=null;var o=true;var q="";if(mojo.query(".msgError",b).length){g=mojo.queryFirst(".msgError",b);if(dojo.style(g,"display")!="none"){o=false}}if(o){var l=dojo.attr(p,"groupid");var a=l+"-file-input";var r=dojo.byId(a);var e=mojo.queryFirst(".newlycreated-filetag",b);if(r!=null){if(e.value!=""){dojo.place(e,r,"replace");dojo.removeClass(e,"newlycreated-filetag")}}mojo.Messaging.publish("dialog",{enabled:false});var f=dojo.byId(l);var z=mojo.queryFirst("."+l+"-selectedFile");var u=mojo.queryFirst("."+l+"-show");var d=mojo.queryFirst("."+l+"-hide");var c=dojo.byId(l+"-name");dojo.removeClass(u,"closedAnchor");dojo.addClass(d,"closedAnchor");dojo.removeClass(f,"closedDiv");if(dojo.isFF){var v=c.value;z.value=v;q=this.truncateFileName(v);f.innerHTML=q;dojo.attr(f,"title",v)}else{var n=c.value;var m=n.split("\\");var h=m[m.length-1];z.value=h;q=this.truncateFileName(h);f.innerHTML=q;dojo.attr(f,"title",h)}}else{dojo.stopEvent(w.getEvent())}}});dojo.provide("cox.behavior.business.SaveDataForServerBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.SaveDataForServerBehavior",mojo.command.Behavior,{execute:function(a){var d=a.getParams();var g=d.noofleftrows;var n=d.noofrightrows;var b=d.contextElem;var m=mojo.queryFirst("#left-simring-sample-input-validator",dojo.byId("row-list-main-left"));m.value="";var o=null;var l=null;var h=mojo.query(".simringrowlist",dojo.byId("row-list-main-left"));var c=mojo.query(".simringrowlist",dojo.byId("row-list-main-right"));var e=mojo.query(".simringserverhiddenfields",dojo.byId("input-row-outer"));for(var f=0;f<10;f++){dojo.byId("simring-phonenumber"+f).value="";dojo.byId("simring-answerconfirmation"+f).value="Yes"}for(var f=0;f<g;f++){dojo.byId("simring-phonenumber"+f).value=mojo.queryFirst("input",h[f]).value;dojo.byId("simring-answerconfirmation"+f).value=mojo.queryFirst("select",h[f]).value;if(mojo.queryFirst("input",h[f]).value!=null&&mojo.queryFirst("input",h[f]).value!=""){o=mojo.queryFirst("input",h[f]).value}}if((g+n)>=6){for(var f=0;f<n;f++){dojo.byId("simring-phonenumber"+(f+g)).value=mojo.queryFirst("input",c[f]).value;dojo.byId("simring-answerconfirmation"+(f+g)).value=mojo.queryFirst("select",c[f]).value;if(mojo.queryFirst("input",c[f]).value!=null&&mojo.queryFirst("input",c[f]).value!=""){l=mojo.queryFirst("input",c[f]).value}}}if(o!=null&&o!=""){m.value=o}else{if(l!=null&&l!=""){m.value=l}}}});dojo.provide("cox.behavior.business.SeqRingClearRowBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.SeqRingClearRowBehavior",mojo.command.Behavior,{execute:function(f){var e="";var b="no";var a="3";var d=f.getParams();var c=d.setToDefault;c[0].value=e;c[1].value=b;c[2].value=a}});dojo.provide("cox.behavior.business.SeqRingRemovePhoneNumberBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.SeqRingRemovePhoneNumberBehavior",mojo.command.Behavior,{doUpdateClass:function(b,d,a,c){mojo.Messaging.publish(b,{elements:d,applyStyle:a,action:c})},doCheckSequence:function(b){var a=mojo.queryFirst(".seqringcontentLoc",b);var d=mojo.query(".seqcounter",a);if(d.length!=0||d!=null){for(var c=0;c<d.length;c++){d[c].innerHTML=c+1}}},execute:function(a){var o="Clear";var d=a.getParams();var f=d.element;var g=d.context;var p=d.divContainer;var l=mojo.query(".seqringcontentrow",p);var c=l.length;var n=mojo.queryFirst("#add-anotherLinkContainer",g);var h=dojo.attr(f,"id");var b=Number(h.replace("seqring_removerow_",""));if(c==2){dojo.destroy(dojo.byId("seq_ring_"+b));var q=mojo.queryFirst(".seqringcontentrow",p);var m=mojo.queryFirst(".removePhoneNo",q);m.innerHTML=o;dojo.attr(m,"class","seq_clearrow")}else{dojo.destroy(dojo.byId("seq_ring_"+b))}var e=l[(c-1)];if(c<=5){dojo.addClass(e,"border-styling")}if(c<=5){this.doUpdateClass("/toggleCSSTopic",n,"closedDiv","remove");this.doUpdateClass("/toggleCSSTopic",n,"openedDiv","add")}else{this.doUpdateClass("/toggleCSSTopic",n,"openedDiv","remove");this.doUpdateClass("/toggleCSSTopic",n,"closedDiv","add")}this.doCheckSequence(p)}});dojo.provide("cox.behavior.business.SequentialAddRowBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.SequentialAddRowBehavior",mojo.command.Behavior,{doUpdateClass:function(b,d,a,c){mojo.Messaging.publish(b,{elements:d,applyStyle:a,action:c})},doCheckSequence:function(d){var a=mojo.queryFirst(".seqringcontentLoc",d);var c=mojo.query(".seqcounter",a);if(c.length!=0||c!=null){for(var b=0;b<c.length;b++){c[b].innerHTML=b+1}}},execute:function(a){var o="Remove";var h=a.getParams();var m=h.callerElement;var n=h.context;var p=h.divContainer;var q=mojo.query(".seqringcontentrow",p);var d=q.length;var u=mojo.queryFirst("#add-anotherLinkContainer",n);var l=q[(d-1)];if(d==1){var t=mojo.queryFirst(".seq_clearrow",l);dojo.attr(t,"class","removePhoneNo");t.innerHTML=o}if(p!=null){if(q!=0&&d<5){var r=dojo.clone(l);mojo.queryFirst(".seqringphoneno",r).value="";mojo.queryFirst(".seqringanswerconf",r).value="no";mojo.queryFirst(".seqringring",r).value="3";if(d==4){dojo.removeClass(r,"border-styling")}dojo.place(r,l,"after")}}var g=dojo.attr(l,"id");var c=Number(g.replace("seq_ring_",""))+1;dojo.attr(r,"id","seq_ring_"+c);var e=mojo.queryFirst("span a",r);var f=dojo.attr(e,"id");var b=Number(f.replace("seqring_removerow_",""))+1;dojo.attr(e,"id","seqring_removerow_"+b);this.doCheckSequence(p);if(q==0||d<4){this.doUpdateClass("/toggleCSSTopic",u,"closedDiv","remove");this.doUpdateClass("/toggleCSSTopic",u,"openedDiv","add")}else{this.doUpdateClass("/toggleCSSTopic",u,"openedDiv","remove");this.doUpdateClass("/toggleCSSTopic",u,"closedDiv","add")}}});dojo.provide("cox.behavior.business.SequentialRingHiddenValueBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.SequentialRingHiddenValueBehavior",mojo.command.Behavior,{execute:function(a){var c=a.getParams();var g=c.clickedElement;var f=c.elementContext;var l=c.divContainer;var d=c.hiddenFieldContainer;var h=mojo.query("li",l);var b=mojo.query("li",d);for(var e=0;e<h.length;e++){mojo.queryFirst(dojo.byId("seq_ring_phn"+(e+1))).value=mojo.queryFirst("input",h[e]).value;var m=mojo.query("span select",h[e]);mojo.queryFirst(dojo.byId("seq_ring_ansconf"+(e+1))).value=m[0].value;mojo.queryFirst(dojo.byId("seq_ring_ring"+(e+1))).value=m[1].value}}});dojo.provide("cox.behavior.business.SetDefaultParamValueBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.SetDefaultParamValueBehavior",mojo.command.Behavior,{execute:function(h){var g="block";var d=h.getParams();var f=d.serverValueContainer;var a=d.control;var c=0;for(var b=0;b<f.length;b++){var e=dojo.byId("simring-phonenumber"+b).value;if(e!=null&&e!=""){c=c+1}}if(c>5){a.setValue("leftrowscount",5);a.setValue("rightrowscount",c-5)}else{if(c!=0){a.setValue("leftrowscount",c);a.setValue("rightrowscount",0)}else{a.setValue("leftrowscount",1);a.setValue("rightrowscount",0)}}if(a.getValue("leftrowscount")>=5){dojo.byId("rightdiv-header").style.display=g}}});dojo.provide("cox.behavior.business.ShowFormSubmitThrobberBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.ShowFormSubmitThrobberBehavior",mojo.command.Behavior,{showThrobber:function(){mojo.Messaging.publish("dialog",{enabled:true,scriptText:true,title:'<h3 class="loading-title">Please wait...</h3>',text:'<div class="loading-message"><p>This may take a moment.</p></div>',width:500,height:-1})},execute:function(b){var a=b.getParams();if(dojo.isIE<9){if(b.getEvent().returnValue!=false){this.showThrobber()}}else{if(!b.eventObj.defaultPrevented){this.showThrobber()}}}});dojo.provide("cox.behavior.business.ShowScheduleEventsBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.ShowScheduleEventsBehavior",mojo.command.Behavior,{doUpdateClass:function(b,d,a,c){mojo.Messaging.publish(b,{elements:d,applyStyle:a,action:c})},execute:function(a){var e=a.getParams();var b=e.activeLink;var l=e.doAJAX;var m=e.loadingWrapperId;var g=e.responseContainer;var c=(typeof(ajaxTimeout)!="undefined")?ajaxTimeout:"30000";var d=function(p){switch(g.tagName){case"TBODY":var o=dojo.create("div",{innerHTML:"<table><tbody>"+p+"</tbody></table>"});if(dojo.isIE){var n=g.parentNode}else{var n=g.parentElement}var q=o.firstChild.firstChild;dojo.place(q,g,"before");dojo.destroy(o);break;default:g.innerHTML=p}mojo.Messaging.publish("remapControllers")};var h=function(){g.innerHTML="<div class='msgError'><p>We're sorry, we can't find this part of the page right now.</p></div>";mojo.Messaging.publish("/throbber",{status:false,id:m})};if(l){dojo.xhrGet({sync:true,url:b,handleAs:"text",timeout:c,preventCache:true,load:d,error:h});var f=mojo.queryFirst(".loader",m);if(f!=null){this.doUpdateClass("/toggleCSSTopic",f,"loader","remove");this.doUpdateClass("/toggleCSSTopic",f,"event-loader","add");mojo.Messaging.publish("/throbber",{status:false,id:m})}}},onResponse:function(){}});dojo.provide("cox.behavior.business.SimRingAddAnotherRowBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.SimRingAddAnotherRowBehavior",mojo.command.Behavior,{execute:function(z){var l="No";var d="";var u="block";var a="none";var A="Remove";var w=z.getParams();var m=z.controllerObj.params;var f=m.leftrowscount._value;var n=m.rightrowscount._value;var h=w.clickedNode;var e=w.contextElem;var r=w.rowContainer;var q=w.controller;var o=mojo.query(".simringrowlist",dojo.byId("row-list-main-left"));var t=mojo.queryFirst("#addAnotherNumberDivLeft",e);var p=mojo.queryFirst("#addAnotherNumberDivRight",e);if(dojo.attr(h,"class")=="add-anotherrow-left"){if(f<5){t.style.display=u;dojo.byId("rightdiv-header").style.display=a;p.style.display=a;var c=o[(f-1)];if(f==1){var b=mojo.queryFirst(".simring_clearrow_left",c);dojo.attr(b,"class","simring_removerow_left");b.innerHTML=A}g(c,r);if(f==4){t.style.display=a;dojo.byId("rightdiv-header").style.display=u;p.style.display=u}}}else{if(n==0){dojo.byId("rightdiv-header").style.display=u;dojo.byId("row-list-main-right").style.display=u;mojo.queryFirst(".simringinputbox",dojo.byId("row-list-main-right")).value=d;mojo.queryFirst(".simringselect",dojo.byId("row-list-main-right")).value=l}var v=mojo.query(".simringrowlist",r);if(n!=0&&n<5){dojo.byId("rightdiv-header").style.display=u;p.style.display=u;var B=v[(n-1)];g(B,r)}if(n==4){p.style.display=a}}function g(D,K){var E=dojo.place(dojo.clone(D),K);var G=mojo.queryFirst("span input",E);G.value=d;var F=mojo.queryFirst("span select",E);F.value=l;var I=mojo.queryFirst("span input",E);dojo.removeClass(I,"required");var J=mojo.queryFirst("span a",E);var C=dojo.attr(E,"id");var H=Number(C.replace("sim_row_",""))+1;dojo.attr(E,"id","sim_row_"+H);dojo.attr(J,"id","sim_removerow_"+H)}},onResponse:function(){}});dojo.provide("cox.behavior.business.SimRingClearRowBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.SimRingClearRowBehavior",mojo.command.Behavior,{execute:function(e){var b="";var d="No";var c=e.getParams();var a=c.fieldtoclear;a[0].value=b;a[1].value=d},onResponse:function(){}});dojo.provide("cox.behavior.business.SimRingRemoveRowBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.SimRingRemoveRowBehavior",mojo.command.Behavior,{execute:function(A){var h="No";var c="";var v="block";var b="none";var a="Clear";var z=A.getParams();var f=z.clickedNode;var d=z.contextElem;var r=z.rowContainer;var p=z.controller;var l=A.controllerObj.params;var e=l.leftrowscount._value;var m=l.rightrowscount._value;var t=mojo.queryFirst("#addAnotherNumberDivLeft",d);var o=mojo.queryFirst("#addAnotherNumberDivRight",d);if(e<=5&&m==0){t.style.display=v;o.style.display=b;dojo.byId("rightdiv-header").style.display=b}else{t.style.display=b;o.style.display=v;dojo.byId("rightdiv-header").style.display=v}var q=dojo.attr(f,"id");var g=Number(q.replace("sim_removerow_",""));var u=mojo.queryFirst("li",dojo.byId("row-list-main-left"));var w=mojo.queryFirst("span a",u);if(m==1&&dojo.attr(f,"class")=="simring_removerow_left"){dojo.destroy(dojo.byId("sim_row_"+g))}else{if(m==1){dojo.byId("row-list-main-right").style.display=b;mojo.queryFirst(".simringinputbox",dojo.byId("row-list-main-right")).value=c;mojo.queryFirst(".simringselect",dojo.byId("row-list-main-right")).value=h}else{if(e==2){dojo.destroy(dojo.byId("sim_row_"+g));var n=mojo.queryFirst("li",dojo.byId("row-list-main-left"));var u=mojo.queryFirst(".simring_removerow_left",n);u.innerHTML=a;dojo.attr(u,"class","simring_clearrow_left")}else{dojo.destroy(dojo.byId("sim_row_"+g))}}}},onResponse:function(){}});dojo.provide("cox.behavior.business.SimRingRuleToggleButtonBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.SimRingRuleToggleButtonBehavior",mojo.command.Behavior,{dotoggleradiobuttons:function(c,d,a){for(var b=0;b<c.length;b++){if(c[b].checked==true){a.checked=true;break}else{d.checked=true}}this.doUpdateClass("/toggleCSSTopic",c[0],"requiredchkbox","remove");this.doUpdateClass("/toggleCSSTopic",c[0],"disabled-requiredchkbox","add")},dotogglecheckboxes:function(b,c){for(var a=0;a<b.length;a++){if(b[a].checked==true){b[a].checked=false}}this.doUpdateClass("/toggleCSSTopic",b[0],"requiredchkbox","remove");this.doUpdateClass("/toggleCSSTopic",b[0],"disabled-requiredchkbox","add")},dovalidation:function(e,d,b){var a=mojo.queryFirst("#left-simring-sample-input-validator",dojo.byId("row-list-main-left"));if(b==dojo.byId("alwayson-input")){this.doUpdateClass("/toggleCSSTopic",a,"disabled-required","remove");this.doUpdateClass("/toggleCSSTopic",a,"required","add");this.doUpdateClass("/toggleCSSTopic",d[0],"requiredchkbox","remove");this.doUpdateClass("/toggleCSSTopic",d[0],"disabled-requiredchkbox","add")}else{if(b==dojo.byId("OnWithSimultaneousRingRules")){for(var c=0;c<d.length;c++){if(d[c].checked==true){this.doUpdateClass("/toggleCSSTopic",d[0],"requiredchkbox","remove");this.doUpdateClass("/toggleCSSTopic",d[0],"disabled-requiredchkbox","add");break}else{this.doUpdateClass("/toggleCSSTopic",d[0],"requiredchkbox","add");this.doUpdateClass("/toggleCSSTopic",d[0],"disabled-requiredchkbox","remove")}}this.doUpdateClass("/toggleCSSTopic",a,"required","add");this.doUpdateClass("/toggleCSSTopic",a,"disabled-required","remove")}else{this.doUpdateClass("/toggleCSSTopic",d[0],"requiredchkbox","remove");this.doUpdateClass("/toggleCSSTopic",d[0],"disabled-requiredchkbox","add");this.doUpdateClass("/toggleCSSTopic",a,"required","remove");this.doUpdateClass("/toggleCSSTopic",a,"disabled-required","add")}}},doUpdateClass:function(b,d,a,c){mojo.Messaging.publish(b,{elements:d,applyStyle:a,action:c})},execute:function(a){var f=a.getParams();var b=f.contextElem;var d=f.clickedNode;var c=dojo.byId("alwayson-input");var g=dojo.byId("OnWithSimultaneousRingRules");var m=dojo.query(".ctrl-toggle-simringruleradiobutton",b);var l=dojo.attr(d,"type");if(l=="checkbox"){this.dotoggleradiobuttons(m,c,g)}else{if(l=="radio"){var h=mojo.query(".simringrowlist",dojo.byId("row-list-main-left"));var e=mojo.query(".simringrowlist",dojo.byId("row-list-main-right"));if(c.checked==true){this.dotogglecheckboxes(m,c)}this.dovalidation(h,m,d)}}}});dojo.provide("cox.behavior.business.SyncAccAuthSelectedCodeBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.SyncAccAuthSelectedCodeBehavior",mojo.command.Behavior,{getParentElement:function(a){if(dojo.isIE<9){return a.parentNode.parentNode.parentNode}else{return a.parentElement.parentElement.parentElement}},execute:function(z){var w=z.getParams();var r=w.caller;if(r!="onInit"){var h=w.selectedUseCode;var q=new Array();var A=mojo.query(".check-all-group-accrequired");var o=A.length;var b=mojo.query(".check-all-group-accoptional");var B=b.length;var d=mojo.query(".check-all-group-authrequired");var g=d.length;if(h=="authorization-codes"){if(dojo.isArray(d)&&d.length>0){dojo.forEach(d,function(C){C.checked=false})}for(var t=0;t<o;t++){var l=A[t];if(l.checked){q.push(this.getParentElement(l))}}for(var t=0;t<B;t++){var l=b[t];if(l.checked){q.push(this.getParentElement(l))}}var e=q.length;if(e==(g-1)){mojo.queryFirst(".check-all-group-authrequired").checked=true}for(var t=0;t<e;t++){var f=q[t];var p=mojo.queryFirst(".check-all-group-authrequired",f);p.checked=true}}else{if(h=="account-codes"){for(var t=0;t<g;t++){var f=this.getParentElement(d[t]);var p=mojo.queryFirst(".check-all-group-authrequired",f);var c=mojo.queryFirst(".check-all-group-accoptional",f);var u=mojo.queryFirst(".check-all-group-accrequired",f);if(p.checked){if(!c.checked){u.checked=true}else{var m=this.getParentElement(d[0]);var a=mojo.queryFirst(".check-all-group-accrequired",m);a.checked=false}}else{var n=this.getParentElement(d[t]);var a=mojo.queryFirst(".check-all-group-accrequired",n);a.checked=false;var v=mojo.queryFirst(".check-all-group-accoptional",n);v.checked=false}}}}}}});dojo.provide("cox.behavior.business.ToggleMandatoryBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.ToggleMandatoryBehavior",mojo.command.Behavior,{doaddmandatoryphonenumber:function(a){if(a!=null){this.doUpdateClass("/toggleCSSTopic",a,"disabled-required","remove");this.doUpdateClass("/toggleCSSTopic",a,"required","add")}},doremovemandatoryphonenumber:function(a){if(a!=null){this.doUpdateClass("/toggleCSSTopic",a,"disabled-required","add");this.doUpdateClass("/toggleCSSTopic",a,"required","remove")}},doUpdateClass:function(b,d,a,c){mojo.Messaging.publish(b,{elements:d,applyStyle:a,action:c})},doStuff:function(c,d){var b=c.parentNode.parentNode;var a=mojo.queryFirst(".toggle-mandatory",b);if(c.checked==true){this.doaddmandatoryphonenumber(a)}else{this.doremovemandatoryphonenumber(a)}},execute:function(d){var c=d.getParams();var a=c.caller;var b=c.element;this.doStuff(a,b)}});dojo.provide("cox.behavior.business.ToggleSpecificClassBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.ToggleSpecificClassBehavior",mojo.command.Behavior,{doaddrequiredclassfortext:function(a){if(a!=null){this.doUpdateClass("/toggleCSSTopic",a,"disabled-required","remove");this.doUpdateClass("/toggleCSSTopic",a,"required","add");this.doUpdateClass("/toggleCSSTopic",a,"disabled","remove");a.disabled=false}},doremoverequiredclassfortext:function(a){if(a!=null){this.doUpdateClass("/toggleCSSTopic",a,"required","remove");a.value="";this.doUpdateClass("/toggleCSSTopic",a,"disabled-required","add");this.doUpdateClass("/toggleCSSTopic",a,"disabled","add");a.disabled=true}},doaddrequiredclassforselect:function(a){if(a!=null){this.doUpdateClass("/toggleCSSTopic",a,"disabled-required","remove");this.doUpdateClass("/toggleCSSTopic",a,"required","add");this.doUpdateClass("/toggleCSSTopic",a,"disabled","remove");a.disabled=false}},doremoverequiredclassforselect:function(a){if(a!=null){this.doUpdateClass("/toggleCSSTopic",a,"required","remove");a.value="AM";this.doUpdateClass("/toggleCSSTopic",a,"disabled-required","add");this.doUpdateClass("/toggleCSSTopic",a,"disabled","add");a.disabled=true}},doUpdateClass:function(b,d,a,c){mojo.Messaging.publish(b,{elements:d,applyStyle:a,action:c})},doStuff:function(c,d,b,a){if(c.checked==true){this.doremoverequiredclassfortext(a[0]);this.doremoverequiredclassforselect(a[1])}else{this.doaddrequiredclassfortext(a[0]);this.doaddrequiredclassforselect(a[1])}},execute:function(f){var e=f.getParams();var c=e.element;var d=e.elementEvent;var b=e.context;var a=e.clearFieldsId;this.doStuff(c,d,b,a)}});dojo.provide("cox.behavior.business.VMNumberAddAnotherRowBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.VMNumberAddAnotherRowBehavior",mojo.command.Behavior,{execute:function(z){var l="No";var d="";var u="block";var a="none";var A="Remove";var w=z.getParams();var m=z.controllerObj.params;var f=m.leftrowscount._value;var n=m.rightrowscount._value;var h=w.clickedNode;var e=w.contextElem;var r=w.rowContainer;var q=w.controller;var o=mojo.query(".vmNumberRowli",dojo.byId("row-list-main-left"));var t=mojo.queryFirst("#addAnotherNumberDivLeft",e);var p=mojo.queryFirst("#addAnotherNumberDivRight",e);if(dojo.attr(h,"class")=="add-anotherrow-left"){if(f<VMLEFTMAXROW){t.style.display=u;dojo.byId("rightdiv-header").style.display=a;p.style.display=a;var c=o[(f-1)];if(f==1){var b=mojo.queryFirst(".vmNumber-clearrow-left",c);dojo.attr(b,"class","vmNumber_removerow_left");b.innerHTML=A}g(c,r);if(f==(VMLEFTMAXROW-1)){t.style.display=a;dojo.byId("rightdiv-header").style.display=u;p.style.display=u}}}else{if(n==0){dojo.byId("rightdiv-header").style.display=u;dojo.byId("row-list-main-right").style.display=u;mojo.queryFirst(".vmNumberInputTextBox",dojo.byId("row-list-main-right")).value=d;mojo.queryFirst(".vmNumberSelect",dojo.byId("row-list-main-right")).value=l}var v=mojo.query(".vmNumberRowli",r);if(n!=0&&n<VMRIGHTMAXROW){dojo.byId("rightdiv-header").style.display=u;p.style.display=u;var B=v[(n-1)];g(B,r)}if(n==(VMRIGHTMAXROW-1)){p.style.display=a}}function g(D,K){var E=dojo.place(dojo.clone(D),K);var G=mojo.queryFirst("span input",E);G.value=d;var F=mojo.queryFirst("span select",E);F.value=l;var I=mojo.queryFirst("span input",E);dojo.removeClass(I,"required");var J=mojo.queryFirst("span a",E);var C=dojo.attr(E,"id");var H=Number(C.replace("vmnumber_row_",""))+1;dojo.attr(E,"id","vmnumber_row_"+H);dojo.attr(J,"id","vmnumber_removerow_"+H)}},onResponse:function(){}});dojo.provide("cox.behavior.business.VMNumberClearRowBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.VMNumberClearRowBehavior",mojo.command.Behavior,{execute:function(e){var b="";var d="No";var c=e.getParams();var a=c.fieldtoclear;a[0].value=b;a[1].value=d},onResponse:function(){}});dojo.provide("cox.behavior.business.VMNumberDecrementRowCountBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.VMNumberDecrementRowCountBehavior",mojo.command.Behavior,{onAfterProceed:function(){},execute:function(a){var e=a.getParams();var g=e.noofleftrows;var l=e.noofrightrows;var f=e.control;var b=e.context;var c=e.caller;if(l!=0&&dojo.attr(c,"class")=="vmNumber_removerow_left"){var d=mojo.queryFirst("#row-list-main-right li",b);var m=mojo.queryFirst("#row-list-main-left",b);h(d,m);if(l==1){dojo.byId("row-list-main-right").style.display="none";mojo.queryFirst(".vmNumberInputTextBox",dojo.byId("row-list-main-right")).value="";mojo.queryFirst(".vmNumberSelect",dojo.byId("row-list-main-right")).value="No"}else{dojo.destroy(d)}}this.onAfterProceed();function h(t,q){var o=mojo.queryFirst(".vmNumberSelect",t).value;var u=dojo.place(dojo.clone(t),q);var n=mojo.queryFirst(".vmNumber_removerow_right",u);dojo.attr(n,"class","vmNumber_removerow_left");var r=mojo.queryFirst("span a",u);var v=dojo.attr(c,"id");var p=Number(v.replace("vmnumber_removerow_",""))+5;dojo.attr(u,"id","vmnumber_row_"+p);dojo.attr(r,"id","vmnumber_removerow_"+p);mojo.queryFirst(".vmNumberSelect",u).value=o}}});dojo.provide("cox.behavior.business.VMNumberRemoveRowBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.VMNumberRemoveRowBehavior",mojo.command.Behavior,{execute:function(A){var h="No";var c="";var v="block";var b="none";var a="Clear";var z=A.getParams();var f=z.clickedNode;var d=z.contextElem;var r=z.rowContainer;var p=z.controller;var l=A.controllerObj.params;var e=l.leftrowscount._value;var m=l.rightrowscount._value;var t=mojo.queryFirst("#addAnotherNumberDivLeft",d);var o=mojo.queryFirst("#addAnotherNumberDivRight",d);if(e<=VMLEFTMAXROW&&m==0){t.style.display=v;o.style.display=b;dojo.byId("rightdiv-header").style.display=b}else{t.style.display=b;o.style.display=v;dojo.byId("rightdiv-header").style.display=v}var q=dojo.attr(f,"id");var g=Number(q.replace("vmnumber_removerow_",""));var u=mojo.queryFirst("li",dojo.byId("row-list-main-left"));var w=mojo.queryFirst("span a",u);if(m==1&&dojo.attr(f,"class")=="vmNumber_removerow_left"){dojo.destroy(dojo.byId("vmnumber_row_"+g))}else{if(m==1){dojo.byId("row-list-main-right").style.display=b;mojo.queryFirst(".vmNumberInputTextBox",dojo.byId("row-list-main-right")).value=c;mojo.queryFirst(".vmNumberSelect",dojo.byId("row-list-main-right")).value=h}else{if(e==2){dojo.destroy(dojo.byId("vmnumber_row_"+g));var n=mojo.queryFirst("li",dojo.byId("row-list-main-left"));var u=mojo.queryFirst(".vmNumber_removerow_left",n);u.innerHTML=a;dojo.attr(u,"class","vmNumber-clearrow-left")}else{dojo.destroy(dojo.byId("vmnumber_row_"+g))}}}},onResponse:function(){}});dojo.provide("cox.behavior.business.VMNumberSaveServerDataBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.VMNumberSaveServerDataBehavior",mojo.command.Behavior,{execute:function(a){var e=a.getParams();var h=e.noofleftrows;var o=e.noofrightrows;var b=e.contextElem;var n=mojo.queryFirst("#left-vmnumber-sample-input-validator",dojo.byId("row-list-main-left"));n.value="";var p=null;var m=null;var d=VMLEFTMAXROW+VMRIGHTMAXROW;var l=mojo.query(".vmNumberRowli",dojo.byId("row-list-main-left"));var c=mojo.query(".vmNumberRowli",dojo.byId("row-list-main-right"));var f=mojo.query(".vmnumberserverhiddenfields",dojo.byId("input-row-outer"));for(var g=0;g<d;g++){dojo.byId("vmnumber-phonenumber"+g).value="";dojo.byId("vmnumber-answerconfirmation"+g).value="Yes"}for(var g=0;g<h;g++){dojo.byId("vmnumber-phonenumber"+g).value=mojo.queryFirst("input",l[g]).value;dojo.byId("vmnumber-answerconfirmation"+g).value=mojo.queryFirst("select",l[g]).value;if(mojo.queryFirst("input",l[g]).value!=null&&mojo.queryFirst("input",l[g]).value!=""){p=mojo.queryFirst("input",l[g]).value}}if((h+o)>=VMLEFTMAXROW+1){for(var g=0;g<o;g++){dojo.byId("vmnumber-phonenumber"+(g+h)).value=mojo.queryFirst("input",c[g]).value;dojo.byId("vmnumber-answerconfirmation"+(g+h)).value=mojo.queryFirst("select",c[g]).value;if(mojo.queryFirst("input",c[g]).value!=null&&mojo.queryFirst("input",c[g]).value!=""){m=mojo.queryFirst("input",c[g]).value}}}if(p!=null&&p!=""){n.value=p}else{if(m!=null&&m!=""){n.value=m}}}});dojo.provide("cox.behavior.business.VMNumberSetDefaultParamValueBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.VMNumberSetDefaultParamValueBehavior",mojo.command.Behavior,{execute:function(h){var g="block";var d=h.getParams();var f=d.serverValueContainer;var a=d.control;var c=0;for(var b=0;b<f.length;b++){var e=dojo.byId("vmnumber-phonenumber"+b).value;if(e!=null&&e!=""){c=c+1}}if(c>VMLEFTMAXROW){a.setValue("leftrowscount",VMLEFTMAXROW);a.setValue("rightrowscount",c-VMLEFTMAXROW)}else{if(c!=0){a.setValue("leftrowscount",c);a.setValue("rightrowscount",0)}else{a.setValue("leftrowscount",1);a.setValue("rightrowscount",0)}}if(a.getValue("leftrowscount")>=VMLEFTMAXROW){dojo.byId("rightdiv-header").style.display=g}}});dojo.provide("cox.behavior.business.ValidateWeightageBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.ValidateWeightageBehavior",mojo.command.Behavior,{execute:function(a){var g=a.getParams();var e=g.context;var h=g.action;var f=g.caller;var b=0;var o=mojo.queryFirst(".weightage-validator-final",e);var d=mojo.query(".weightage-validator-input",e);var m=d.length;var n=mojo.queryFirst(".weightage-validator-numericerror",e);for(var l=0;l<m;l++){b=b+Number(d[l].value)}o.innerHTML=b+"%";if(b!=100){dojo.addClass(o,"error-text")}else{if(b==100){dojo.removeClass(o,"error-text")}}if(String(b)=="NaN"){var c=mojo.queryFirst(".weightage-validator-errorspan",e);dojo.addClass(n,"openedDiv");dojo.removeClass(n,"closedDiv");dojo.addClass(c,"error-text");dojo.addClass(o,"hideElementClass")}else{dojo.removeClass(n,"openedDiv");dojo.addClass(n,"closedDiv");dojo.removeClass(o,"hideElementClass")}}});dojo.provide("cox.behavior.business.WarpBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.business.WarpBehavior",mojo.command.Behavior,{onComplete:function(){},execute:function(b){var d=b.getParams();var c=d.element;var f=mojo.queryFirst(".toggle-button");var m=mojo.queryFirst(".filmstrip-content");var o=mojo.queryFirst(".filmstrip-component");var n=mojo.queryFirst(".toggle-label-open");var g=mojo.queryFirst(".toggle-label-closed");var l=mojo.queryFirst(".module .ft a.toggle-button span");var h=mojo.queryFirst("#content div.bd");var a=mojo.queryFirst(".filmstrip-prev");var e=mojo.queryFirst(".filmstrip-next");if(d.warp){o.warpHeight=dojo.position(o).h-40;c.warpHeight=dojo.position(c).h;f.title="See less";o.style.height="auto";c.style.height="auto";c.style.cssFloat="none";c.style.styleFloat="none";m.style.position="relative";m.style.zoom="1";m.style.width="auto";dojo.addClass(m,"clearfix");g.style.display="none";n.style.display="inline";a.style.display="none";e.style.display="none";l.className="ico-toggled"}else{f.title="See more";o.style.height=(o.warpHeight||"153")+"px";c.style.height=(c.warpHeight||"153")+"px";c.style.cssFloat="";c.style.styleFloat="";m.style.position="";m.style.width="10000px";h.style.overflow="";g.style.display="inline";n.style.display="none";a.style.display="block";e.style.display="block";l.className="ico"}this.onComplete()}});dojo.provide("cox.behavior.ecomm.ByobAccordion");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ecomm.ByobAccordion",mojo.command.Behavior,{execute:function(d){var c=d.getParams();var a=c.chosenPane;if(!a||dojo.hasClass(a,"open-pane")){return}dojo.addClass(a.parentNode,"animating");var b=mojo.queryFirst(".open-pane",a.parentNode);dojo.animateProperty({node:b,duration:600,easing:function(e){if(e==0){return 0}if(e==1){return 1}e=e*2;if(e<1){return Math.pow(2,10*(e-1))/2}--e;return(-1*Math.pow(2,-10*e)+2)/2},onAnimate:function(){b.setStyle("width",Math.floor(c.to-(this._getStep()*c.to)));a.setStyle("width",Math.floor(this._getStep()*c.to))},onEnd:function(){dojo.addClass(a.parentNode,"animating");dojo.removeClass(a.parentNode,"animating");dojo.removeClass(b,"open-pane");dojo.addClass(a,"open-pane");if((a.id=="pane-intro")||(b.id=="pane-intro")){mojo.Messaging.publish("/toggle/force",{toggle:(a.id!="pane-intro")?["ecomm-accordion-overview","ecomm-accordion-legend"]:[]})}}}).play()}});dojo.provide("cox.behavior.ecomm.CalendarPositionBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ecomm.CalendarPositionBehavior",mojo.command.Behavior,{execute:function(h){var f=h.getParams();var b=mojo.queryFirst(".calendar-component");if(!b){return}var g={};var c;if(typeof window.innerWidth!="undefined"){g.w=window.innerWidth;g.h=window.innerHeight;c=window.pageYOffset+window.innerHeight}else{if(typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth!=0){g.w=document.documentElement.clientWidth,g.h=document.documentElement.clientHeight;c=document.documentElement.scrollTop+document.documentElement.clientHeight}}var a=dojo.position(b,true);var d=Math.round(c-(g.h/2)-(a.h/2));var e=Math.round((g.w/2)-(a.w/2));console.debug(a);console.debug(g);b.style.top=d+"px";b.style.left=e+"px"}});dojo.provide("cox.behavior.ecomm.CalendarScheduleBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ecomm.CalendarScheduleBehavior",mojo.command.Behavior,{execute:function(b){var a=b.getParams();a.value.innerHTML=a.scheduled_time}});dojo.provide("cox.behavior.ecomm.PopupBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.query");dojo.declare("cox.behavior.ecomm.PopupBehavior",mojo.command.Behavior,{execute:function(h){var f=h.getParams();if(!mojo.query("#ecom-popup").length){var d=dojo.doc.createElement("div");dojo.place(d,"container","after");d.id="ecom-popup";d.innerHTML="<span class='top'><span class='left'></span><span class='right'></span></span><div class='content'><span class='left'></span><span class='right'></span><a href='#' class='close' title='Close me'>Close me</a><div id='ecom-popup-content'></div></div><span class='bottom'><span class='left'></span><span class='right'></span></span>";var a=dojo.doc.createElement("div");dojo.place(a,"ecom-popup","after");a.id="white-out"}else{var d=mojo.queryFirst("#ecom-popup");var a=mojo.queryFirst("#white-out")}dojo.query(".close",d).onclick(function(l){d.style.display="none";a.style.display="none";dojo.stopEvent(l)});var g=mojo.queryFirst("html").scrollHeight;var c=mojo.queryFirst("#ecom-popup-content",d);var e=f.caller.rel;var b=mojo.queryFirst("#"+e).innerHTML;c.innerHTML=b;a.style.height=g+"px";if(mojo.queryFirst("#"+e).className=="popup-container size-500"){mojo.queryFirst("#ecom-popup").style.marginLeft="-275px";mojo.queryFirst("#ecom-popup .content").style.width="460px"}else{mojo.queryFirst("#ecom-popup").style.marginLeft="-475px";mojo.queryFirst("#ecom-popup .content").style.width="750px";mojo.queryFirst("#ecom-popup .content").style.height=mojo.queryFirst("#ecom-popup .content").scrollHeight+"px"}a.style.display="block";d.style.display="block";dojo.stopEvent(h.getEvent())}});dojo.provide("cox.behavior.ecomm.PopupDisplayBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.query");dojo.declare("cox.behavior.ecomm.PopupDisplayBehavior",mojo.command.Behavior,{_iframe:null,_whiteout:null,execute:function(a){var g=a.paramsObj.element;var f=a.paramsObj.action;var m=a.paramsObj.cssClass;if(g){switch(f){case"add":dojo.addClass(document.body,"ecomm-popup-activated");var l,e,c=0;var b;var d=mojo.queryFirst("div.main div",g);if(window.innerHeight&&window.scrollMaxY){l=window.innerHeight+window.scrollMaxY}else{if(document.body.scrollHeight>document.body.offsetHeight){l=document.body.scrollHeight}else{l=document.body.offsetHeight}}if(self.innerHeight){b=self.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){b=document.documentElement.clientHeight}else{if(document.body){b=document.body.clientHeight}}}if(self.pageYOffset){e=self.pageYOffset}else{if(document.documentElement.scrollTop){e=document.documentElement.scrollTop}else{e=document.body.scrollTop}}if(g.parentNode.tagName!="BODY"){c-=g.parentNode.offsetTop}if(!this._whiteout){this._whiteout=mojo.queryFirst("#white-out")}if(l<b){this._whiteout.style.height=b+"px"}else{this._whiteout.style.height=l+"px"}this._whiteout.style.display="block";dojo.addClass(g,m);var h=(d.clientHeight||d.offsetHeight);if(h>b){d.style.height=(b/2)+"px"}if(!dojo.hasClass(g,"ecomm-popup-small-form")){popupTop=((e+b/2)-(g.clientHeight/2));if((popupTop<0)||(b<g.clientHeight)){popupTop=e+35}popupTop+=c}if(typeof(popupTop)!="undefined"){g.style.top=popupTop+"px"}if(dojo.isIE){if(!this._iframe){this._iframe=document.createElement("iframe");this._iframe.id="popupIFrame";this._iframe.frameBorder="0";this._iframe.src="javascript:false";this._iframe.style.overflow="hidden";this._iframe.style.position="absolute";this._iframe.style.left=g.offsetLeft;this._iframe.style.top=g.offsetTop;this._iframe.style.width=g.offsetWidth;this._iframe.style.height=g.offsetHeight;this._iframe.style.filter="progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)";this._iframe.scrolling="no";document.body.appendChild(this._iframe)}else{this._iframe=mojo.queryFirst("#popupIFrame")}}break;case"remove":dojo.removeClass(document.body,"ecomm-popup-activated");if(!this._whiteout){this._whiteout=mojo.queryFirst("#white-out")}this._whiteout.style.display="none";dojo.removeClass(g,m);if(dojo.isIE){document.body.removeChild(this._iframe);this._iframe=null}break}}},onResponse:function(){}});dojo.provide("cox.behavior.ecomm.SendFocusBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ecomm.SendFocusBehavior",mojo.command.Behavior,{execute:function(c){var a=c.paramsObj.element;var b=c.paramsObj.target;b.focus()}});dojo.provide("cox.behavior.ecomm.SubmitOnEnterBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ecomm.SubmitOnEnterBehavior",mojo.command.Behavior,{execute:function(d){var c=d.eventObj;var a=d.paramsObj.element.form;var b;if(c&&c.which){c=c;b=c.which}else{c=event;b=c.keyCode}if(b==13){this.onResponse();return false}else{return true}},onResponse:function(){__doPostBack("ctl00$ContentPlaceHolder1$PromoCodeControl$ApplyPromoCodeLinkButton","")}});dojo.provide("cox.behavior.ecomm.ToggleIncrementsBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.ecomm.ToggleIncrementsBehavior",mojo.command.Behavior,{execute:function(g){var f=g.getParams();var a=f.contextElement.id;var c=mojo.queryFirst("#"+a+"-incr");var d=mojo.query(".incr",c);var b=f.contextElement.selectedIndex;var e=new RegExp("incr-[0-"+Number(b)+"]");for(i=0;i<d.length;i++){if(e.test(d[i].className)){dojo.removeClass(d[i],"incr-hide")}else{dojo.addClass(d[i],"incr-hide")}}}});dojo.provide("cox.behavior.ecomm.ValidatePromoCodeBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.query");dojo.declare("cox.behavior.ecomm.ValidatePromoCodeBehavior",mojo.command.Behavior,{_iframe:null,_whiteout:null,execute:function(f){var e=f.paramsObj.element;var d=f.paramsObj.errorField;if(e==null||typeof e=="undefined"){throw new Error("ERROR cox.behavior.ecomm.ValidatePromoCodeBehavior - element parameter is required")}else{if(typeof e=="object"){if(e.length>0){for(var a=0;a<e.length;a++){if(typeof e[a]!="object"){throw new Error("ERROR cox.behavior.ecomm.ValidatePromoCodeBehavior - element parameter is not an array of type Object");break}}}}else{throw new Error("ERROR cox.behavior.ecomm.ValidatePromoCodeBehavior - element parameter is not a type Object")}}var c=/^[A-Z][0-9]{6}$/i;if(e.value){var b=e.value;if(!b.match(c)){d.innerHTML="Sorry, "+b+" is not a valid promo code. Please try again."}else{if(b.toUpperCase()=="D039284"){d.innerHTML="Sorry, promo code "+b+" cannot be applied in the same order as promo code E259264."}else{if(b.toUpperCase()=="D039285"){d.innerHTML="Sorry, promo code "+b+" has expired and is no longer valid."}else{d.innerHTML=""}}}}},onResponse:function(){}});dojo.provide("cox.behavior.interface.AddtoBookmarksBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.AddtoBookmarksBehavior",mojo.command.Behavior,{execute:function(c){var b=function(d){mojo.Messaging.publish("error",{title:"Bookmark This Page",text:d})};var a=navigator.appVersion.indexOf("Mac")!=-1;if(dojo.isSafari||dojo.isFF){if(dojo.isFF){window.sidebar.addPanel(document.title,location.href,"")}else{if(a){b("You need to press Command/Cmd + D to bookmark our site.")}else{b("You need to press Ctrl + D to bookmark our site.")}}}else{if(dojo.isIE&&!a){window.external.AddFavorite(location.href,document.title)}else{b("In order to bookmark this site you need to do so manually through your browser.")}}}});dojo.provide("cox.behavior.interface.AjaxBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.AjaxBehavior",mojo.command.Behavior,{execute:function(a){var f=a.getParams();var g=f.responseContainer;var l=f.loadingWrapperId;var b=f.activeLink;var c=f.placementPosition;if(typeof(c)=="undefined"||c==null){c="inner"}var d=(typeof(ajaxTimeout)!="undefined")?ajaxTimeout:"30000";if(typeof(b)!="undefined"){mojo.Messaging.publish("/throbber",{status:true,id:l});var e=function(m){if(c=="inner"){g.innerHTML=m}else{dojo.place(m,g,c)}mojo.Messaging.publish("remapControllers");mojo.Messaging.publish("/throbber",{status:false,id:l})};var h=function(){g.innerHTML="<div class='msgError'><span style=\"padding-left:10px;\"><p>We're sorry, we can't find this part of the page right now.</p></span></div>";mojo.Messaging.publish("/throbber",{status:false,id:l})};dojo.xhrGet({url:b,handleAs:"text",timeout:d,preventCache:true,load:e,error:h})}},onResponse:function(){}});dojo.provide("cox.behavior.interface.CompareGridBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.CompareGridBehavior",mojo.command.Behavior,{execute:function(d){var b=d.getCaller();var a=d.getController();if(dojo.hasClass(b,"prev")&&(a.getValue("curStartPosition")>a.getValue("minPosition"))){a.setValue("curStartPosition",a.getValue("curStartPosition")-1);a.setValue("curEndPosition",a.getValue("curEndPosition")-1)}if(dojo.hasClass(b,"next")&&(a.getValue("curStartPosition")<a.getValue("maxPosition"))){a.setValue("curStartPosition",a.getValue("curStartPosition")+1);a.setValue("curEndPosition",a.getValue("curEndPosition")+1)}if(a.getValue("curStartPosition")<a.getValue("minPosition")){a.setValue("curStartPosition",a.getValue("minPosition"));a.setValue("curEndPosition",a.getValue("curStartPosition")+dojo.query(".compare-options col").length)}if(a.getValue("curStartPosition")>a.getValue("maxPosition")){a.setValue("curStartPosition",a.getValue("maxPosition"));a.setValue("curEndPosition",a.getValue("curStartPosition")+dojo.query(".compare-options col").length)}dojo.query(".compare-buttons a").removeClass("disabled");if(a.getValue("curStartPosition")==a.getValue("minPosition")){dojo.query(".compare-buttons a.prev").addClass("disabled")}if(a.getValue("curStartPosition")==a.getValue("maxPosition")){dojo.query(".compare-buttons a.next").addClass("disabled")}dojo.query(".compare-table tr > *").forEach(function(e){dojo.addClass(e,"hide")});for(var c=0;c<dojo.query(".compare-static col").length;c++){dojo.query(".compare-table tr > *:nth-child("+(c+1)+")").forEach(function(e){dojo.removeClass(e,"hide")})}for(var c=a.getValue("curStartPosition");c<a.getValue("curEndPosition");c++){dojo.query(".compare-table tr > *:nth-child("+(c+1)+")").forEach(function(e){dojo.removeClass(e,"hide")})}}});dojo.provide("cox.behavior.interface.ParseRotatorXMLBehavior");dojo.require("mojo.command.Command");dojo.declare("cox.behavior.interface.ParseRotatorXMLBehavior",mojo.command.Command,{execute:function(g){var f=g.getParams();var e=new Object();var b=new Array();a(f.xml);function a(h){if(h){dojo.forEach(h.attributes,function(n,m,l){e[n.nodeName]=n.nodeValue});dojo.forEach(h.childNodes,function(o,n,m){if(o.nodeName=="image"){var l=new Object();dojo.forEach(o.attributes,function(p,r,q){l[p.nodeName]=p.nodeValue});b.push(l)}});e.rotatorType=="emergence"?c():d()}}function c(){dojo.forEach(b,function(n,l,h){var p="";if(n.path.indexOf(".swf")==-1){n.backgroundURL?p+='<div class="rotator-slide addPointer" href="'+n.backgroundURL+'"style="background-image:url('+n.path+');">':p+='<div class="rotator-slide" style="background-image:url('+n.path+')">'}else{n.backgroundURL?p+='<div class="rotator-slide addPointer" href="'+n.backgroundURL+'">':p+='<div class="rotator-slide">';p+='<embed style="position:absolute; z-index:0;" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" width="784" height="310" src="'+n.path+'" wmode="transparent"></embed>'}p+="<h2>"+n.headerText+"</h2><h3>"+n.subHeaderText+"</h3>";if(n.link1Text||n.link2Text||n.link3Text){p+='<div id="action-links" class="removePointer">'}if(n.link1Text){p+='<a class="rounded" href="'+n.link1URL+'" ><span>'+n.link1Text+"</span></a>"}if(n.link2Text){p+='<a class="rounded" href="'+n.link2URL+'" ><span>'+n.link2Text+"</span></a>"}if(n.link3Text){p+='<a class="rounded" href=" '+n.link3URL+'" ><span>'+n.link3Text+"</span></a>"}if(n.link1Text||n.link2Text||n.link3Text){p+='</div">'}p+="</div>";var m=dojo.query("#main-rotator").addClass(e.background);var o=dojo.query("#rotator-carousel").addContent(p)})}function d(){dojo.forEach(b,function(n,l,h){var p="";p+='<div class="rotator-slide addPointer" href="'+n.ImageURL+'"><img src="'+n.path+'" />';p+="</div>";var m=dojo.query("#main-rotator").addClass(e.background);var o=dojo.query("#rotator-carousel").addContent(p)})}}});dojo.provide("cox.behavior.interface.RearrangeDataTableStyleBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.RearrangeDataTableStyleBehavior",mojo.command.Behavior,{doUpdateClass:function(b,d,a,c){mojo.Messaging.publish(b,{elements:d,applyStyle:a,action:c})},doStuff:function(c,d){var a=mojo.query(".brief",d);var b=a.length;for(i=0;i<=b;i++){if((i+1)%2==0){this.doUpdateClass("/toggleCSSTopic",a[i],"even","add");this.doUpdateClass("/toggleCSSTopic",a[i],"odd","remove")}else{this.doUpdateClass("/toggleCSSTopic",a[i],"odd","add");this.doUpdateClass("/toggleCSSTopic",a[i],"even","remove")}}},execute:function(d){var c=d.getParams();var a=c.caller;var b=c.context;this.doStuff(a,b)}});dojo.provide("cox.behavior.interface.RotatorControlsBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.RotatorControlsBehavior",mojo.command.Behavior,{__rotatorInterval:null,__timer:null,__loop:true,execute:function(d){var c=d.getParams();this.__timer=c.timer;this.__loop=c.loop;var b=dojo.query(".rotator-slide");var a=b[b.length-1];switch(c.control){case"prev":if(!c.xmlError){this.previousView(a)}break;case"play":if(!c.xmlError){this.playView()}break;case"pause":if(!c.xmlError){this.pauseView()}break;case"next":if(!c.xmlError){this.nextView()}break}},previousView:function(a){dojo.query("#rotator-carousel").addContent(a,"first");dojo.animateProperty({node:dojo.byId("rotator-carousel"),duration:"1000",properties:{left:{start:(-1*dojo.position(dojo.byId("main-rotator")).w),end:"0"}}}).play()},nextView:function(){dojo.animateProperty({node:dojo.byId("rotator-carousel"),duration:"1000",properties:{left:{start:"0",end:(-1*dojo.position(dojo.byId("main-rotator")).w)}},onEnd:function(){var a=dojo.query(".rotator-slide");var b=a[0];dojo.query("#rotator-carousel").addContent(b,"last").style({left:"0"})}}).play()},playView:function(){dojo.style("play","display","none");dojo.style("pause","display","block");if(this.__loop){this.__rotatorInterval=setInterval(this.nextView,this.__timer*3000)}},pauseView:function(){dojo.style("pause","display","none");dojo.style("play","display","block");if(this.__rotatorInterval){clearInterval(this.__rotatorInterval)}}});dojo.provide("cox.behavior.interface.RoundedCornersBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.RoundedCornersBehavior",mojo.command.Behavior,{execute:function(e){var d=e.getParams();if(!d.target){throw new Error("Must have a target DOM element")}settings={tl:{radius:d.tl},tr:{radius:d.tr},bl:{radius:d.bl},br:{radius:d.br},antiAlias:d.antiAlias,autoPad:d.autoPad,validTags:d.validTags};var b=mojo.query(".rounded-box",target);for(var a=0;a<b.length;a++){var c=new curvyCorners(settings,b[a]);c.applyCornersToAll()}}});dojo.provide("cox.behavior.interface.XMLLoaderBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.XMLLoaderBehavior",mojo.command.Behavior,{execute:function(h){var g=h.getParams();var c=g.responseContainer;var b=g.url;var a="20000";var f=this;var e=function(l){l.documentElement.tagName=="parsererror"?d("***  There was a parse error on the xml response, might be bad xml ***"):f.xmlLoaded(l)};var d=function(l){f.writeToConsole(l);c.innerHTML="<div class='msgError default-rotator-dimensions'><p> We're sorry, we can't find this part of the page right now.</p></div>";mojo.Messaging.publish("errorLoadingXML")};dojo.xhrGet({url:b,handleAs:"xml",timeout:a,preventCache:true,load:e,error:d})},xmlLoaded:function(a){mojo.Messaging.publish("loadedSuccessfulXML",a)},writeToConsole:function(a){console.log("XMLLoaderBehavior ERROR:  "+a)}});dojo.provide("cox.behavior.interface.form.AjaxFormSubmitBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.AjaxFormSubmitBehavior",mojo.command.Behavior,{execute:function(a){var e=a.getParams();var h=e.responseContainer;var f=e.theForm;var m=e.formError;if(m!="add"){var d=(typeof(ajaxTimeout)!="undefined")?ajaxTimeout:"20000";var g=dojo.position(mojo.queryFirst(".dialog-component")).w-1;var b=mojo.queryFirst(".dialog-component-title").innerHTML.trim();var c=function(n){mojo.Messaging.publish("dialog",{enabled:true,scriptText:true,title:'<h3 class="loading-title">Please wait...</h3>',text:'<div class="loading-message"><p>This may take a moment.</p></div>',width:g,height:-1});if(n.status=="success"){window.location=n.url}else{mojo.Messaging.publish("dialog",{enabled:true,title:b,href:n.url,width:g,height:-1})}};var l=function(){h.innerHTML="<div class='msgError'><p>We're sorry, we can't find this part of the page right now.</p></div>"};dojo.xhrPost({url:f.action,form:f,handleAs:"json",timeout:d,load:c,error:l})}},onResponse:function(){}});dojo.provide("cox.behavior.interface.form.ArrangeMultiSelectBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.ArrangeMultiSelectBehavior",mojo.command.Behavior,{execute:function(a){var c=a.getContextElement();var f=a.getParams();var g=f.action;var m=mojo.queryFirst(".swap-select-target",c);var b=dojo.query("option",m);switch(g){case"up":var e;var l=false;dojo.query("option:checked",m).at(0).forEach(function(q){l=b[0]===q}).end().forEach(function(q){if(!l){e=q.previousSibling;while(e.nodeName=="#text"){e=e.previousSibling}dojo.place(q,e,"before")}});break;case"down":var p;var d=false;dojo.query("option:checked",m).reverse().at(0).forEach(function(q){d=b[b.length-1]===q}).end().forEach(function(q){if(!d){p=q.nextSibling;while(p.nodeName=="#text"){p=p.nextSibling}dojo.place(q,p,"after")}});break;case"top":var o,e,h;dojo.query("option:checked",m).at(0).forEach(function(q){dojo.place(q,m,"first");o=q;h=q}).end().forEach(function(q){if(q!==o){dojo.place(q,h,"after");h=q}});break;case"bottom":var n,p;dojo.query("option:checked",m).at(-1).forEach(function(q){dojo.place(q,m,"last");n=q}).end().forEach(function(q){if(q!==n){dojo.place(q,n,"before")}});break}}});dojo.provide("cox.behavior.interface.form.CaptureElementIDBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.CaptureElementIDBehavior",mojo.command.Behavior,{execute:function(e){var d=e.getParams();var b=d.clickedNode;var a=d.contextElem;var c=mojo.query(".copyElement",a);if(c!=null){if(dojo.isArray(c)&&c.length>0){dojo.forEach(c,function(f){mojo.Messaging.publish("updateCSSClassTopic",{clickedNode:f,action:"remove",cssClass:"copyElement"})})}}mojo.Messaging.publish("updateCSSClassTopic",{clickedNode:b,action:"add",cssClass:"copyElement"});var b=mojo.queryFirst(".copyElement",a);mojo.queryFirst(".formActionElement",a).value=b.id},onResponse:function(){}});dojo.provide("cox.behavior.interface.form.DatePickerBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.DatePickerBehavior",mojo.command.Behavior,{execute:function(d){var c=d.getParams().element;this.dayChars=1;this.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];this.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31];this.format="mm/dd/yyyy";this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];this.startDay=7;this.yearStart=(new Date().getFullYear());this.monthsAhead=60;if(c.value!=""){c.then=new Date(c.value);c.today=new Date()}else{c.then=c.today=new Date()}c.oldYear=c.year=c.then.getFullYear();c.oldMonth=c.month=c.then.getMonth();c.oldDay=c.then.getDate();c.nowYear=c.today.getFullYear();c.nowMonth=c.today.getMonth();c.nowDay=c.today.getDate();var a=new Date(c.today.getFullYear(),c.today.getMonth(),c.today.getDate());var b=(this.monthsAhead+1)*31;todayPlusDays=(typeof dpTodayPlusDays!="undefined")?dpTodayPlusDays:0;daysToDueDate=(typeof dpDaysToDueDate!="undefined")?dpDaysToDueDate:b;plusDays=(typeof dpPlusDays!="undefined")?dpPlusDays:b;disableWeekends=(typeof dpDisableWeekends!="undefined")?dpDisableWeekends:false;this.dueDate=new Date(a.setDate(a.getDate()+daysToDueDate));this.endDate=new Date(a.setDate(a.getDate()+plusDays));if(c.alt){options=dojo.fromJson(c.alt)}else{options=[]}c.options={monthNames:(options.monthNames&&options.monthNames.length==12?options.monthNames:this.monthNames)||this.monthNames,daysInMonth:(options.daysInMonth&&options.daysInMonth.length==12?options.daysInMonth:this.daysInMonth)||this.daysInMonth,dayNames:(options.dayNames&&options.dayNames.length==7?options.dayNames:this.dayNames)||this.dayNames,startDay:options.startDay||this.startDay,dayChars:options.dayChars||this.dayChars,format:options.format||this.format,yearStart:options.yearStart||this.yearStart,monthsAhead:options.monthsAhead||this.monthsAhead};c.readonly=true;c.container=false;c.calendar=false;c.interval=null;c.active=false;c.onclick=c.onfocus=this.create.pass(c,this)},create:function(p){if(p.calendar){return false}var q=dojo.position(p,true);p.container=dojo.create("div",{"class":"dp_container"},dojo.body());dojo.style(p.container,"left",(q.x)+"px");dojo.style(p.container,"top",(q.y+q.h)+"px");p.container.onmouseover=p.onmouseover=function(){clearTimeout(p.interval);clearInterval(p.interval)};p.container.onmouseout=p.onmouseout=dojo.hitch(this,function(){p.interval=setInterval(dojo.hitch(this,function(){if(!p.active){this.remove(p)}}),500)});var n=dojo.create("div",{"class":"dp_header"},p.container);var g=dojo.create("div",{"class":"dp_main"},p.container);var h=dojo.create("div",{"class":"dp_footer"},p.container);p.calendar=dojo.create("div",{"class":"dp_cal"},g);var u=new Date();if((typeof p.month!="undefined")&&(typeof p.year!="undefined")){u.setFullYear(p.year,p.month,1)}else{p.month=u.getMonth();p.year=u.getFullYear();u.setDate(1)}p.year%4==0?p.options.daysInMonth[1]=29:p.options.daysInMonth[1]=28;var l=(1-(7+u.getDay()-p.options.startDay)%7);var v=dojo.create("a",{"class":"dp_prevmonth",href:"#"});var a=dojo.create("a",{"class":"dp_nextmonth",href:"#"});var m=dojo.create("h6",{"class":"dp_currentmonth",innerHTML:p.options.monthNames[p.month]+" "+p.year});calTable=dojo.create("table");calTableThead=dojo.create("thead");calSelRow=dojo.create("tr");calSelCell=dojo.create("th",{colspan:"7"});if(dojo.isIE){calSelCell.setAttribute("colSpan",7)}var f=new Date();var w=f.getFullYear();var o=f.getMonth();if(w*12+o<+p.year*12+ +p.month){dojo.place(v,calSelCell)}if(w*12+o+p.options.monthsAhead>+p.year*12+ +p.month){if(typeof dpPlusDays=="undefined"){dojo.place(a,calSelCell)}else{if(+p.month<this.endDate.getMonth()){dojo.place(a,calSelCell)}}}dojo.place(m,calSelCell);dojo.place(calSelCell,calSelRow);dojo.place(calSelRow,calTableThead);calTableTbody=dojo.create("tbody");calDayNameRow=dojo.create("tr");for(var r=0;r<p.options.dayNames.length;r++){calDayNameCell=dojo.create("th",{innerHTML:p.options.dayNames[(p.options.startDay+r)%7].substr(0,p.options.dayChars)});dojo.place(calDayNameCell,calDayNameRow)}dojo.place(calDayNameRow,calTableTbody);while(l<=p.options.daysInMonth[p.month]){calDayRow=dojo.create("tr");p.nowDay=(f.getDate()+todayPlusDays);var t=new Date(p.nowYear,p.nowMonth,p.nowDay);for(r=0;r<7;r++){var b=new Date(p.year,p.month,l);if(b.getTime()-this.dueDate.getTime()==0){dojo.addClass(calDayCell,"dp_dueDate")}if((l<=p.options.daysInMonth[p.month])&&(l>0)){calDayCell=dojo.create("td",{"class":p.parentNode.id+"_calDay",axis:p.year+"|"+(parseInt(p.month)+1)+"|"+l,innerHTML:l});dojo.place(calDayCell,calDayRow)}else{calDayCell=dojo.create("td",{"class":"dp_empty",innerHTML:" "});dojo.place(calDayCell,calDayRow)}var d=p.id.match(/(.*?)-end/);if(d){var c=dojo.query("#"+d[1]+"-start");var e=Date.parse(c[0].value);if(isNaN(e)==false){t=new Date(c[0].value)}}if((b<t||b>this.endDate)||(disableWeekends==true&&(r==6||r==0))){dojo.addClass(calDayCell,"dp_disabled")}if((l==p.nowDay)&&(p.month==p.nowMonth)&&(p.year==p.nowYear)){dojo.addClass(calDayCell,"dp_today")}if(b>t){dojo.addClass(calDayCell,"dp_valid")}l++}dojo.place(calDayRow,calTableTbody)}dojo.place(calTableThead,calTable);dojo.place(calTableTbody,calTable);dojo.place(calTable,p.calendar);dojo.query("td."+p.parentNode.id+"_calDay").forEach(dojo.hitch(this,function(z){z.onmouseover=dojo.hitch(this,function(){ds=z.axis.split("|");var C=new Date(ds[0],ds[1]-1,ds[2]);var E=new Date(f.getFullYear(),f.getMonth(),p.nowDay);var B=p.id.match(/(.*?)-end/);if(B){var A=dojo.query("#"+B[1]+"-start");var D=Date.parse(A[0].value);if(isNaN(D)==false){E=new Date(A[0].value)}}if(disableWeekends==true){if(C>=E&&C<=this.endDate&&C.getDay()!=0&&C.getDay()!=6){dojo.addClass(z,"dp_roll")}}else{if(C>=E&&C<=this.endDate){dojo.addClass(z,"dp_roll")}}})}));dojo.query("td."+p.parentNode.id+"_calDay").forEach(dojo.hitch(this,function(z){z.onmouseout=dojo.hitch(this,function(){dojo.removeClass(z,"dp_roll")})}));dojo.query("td."+p.parentNode.id+"_calDay").forEach(dojo.hitch(this,function(z){z.onclick=dojo.hitch(this,function(){ds=z.axis.split("|");var I=new Date(ds[0],ds[1]-1,ds[2]);var C=new Date(f.getFullYear(),f.getMonth(),p.nowDay);if(disableWeekends==true){if(I>=C&&I<=this.endDate&&I.getDay()!=0&&I.getDay()!=6){p.value=this.formatValue(p,ds[0],ds[1],ds[2]);this.remove(p)}}else{if(I>=C&&I<=this.endDate){p.value=this.formatValue(p,ds[0],ds[1],ds[2]);this.remove(p)}}var H=p.id.match(/(.*?)-end/);if(H){var D=dojo.query("#"+H[1]+"-start");var A=Date.parse(D[0].value);if(isNaN(A)==false){C=new Date(D[0].value)}}var F=p.id.match(/(.*?)-start/);if(F){var E=dojo.query("#"+F[1]+"-end");var B=Date.parse(E[0].value);var D=dojo.query("#"+F[1]+"-start");var A=Date.parse(D[0].value);var G;if(isNaN(B)){G=I}else{if(I>new Date(B)){G=I;if(!isNaN(A)){G.setDate(G.getDate()+Math.abs((B-Date.parse(D[0].value))/(1000*60*60*24)))}}else{G=new Date(B)}}if(!isNaN(A)){E[0].value=this.formatValue(E[0],G.getFullYear(),G.getMonth()+1,G.getDate())}}})}));v.onclick=dojo.hitch(this,function(){p.year=(+p.month==0)?+p.year-1:+p.year;p.month=(11+ +p.month)%12;this.remove(p);this.create(p);return false});a.onclick=dojo.hitch(this,function(){p.year=(+p.month==11)?+p.year+1:p.year;p.month=(1+ +p.month)%12;this.remove(p);this.create(p);return false})},formatValue:function(e,c,d,b){var a="";if(b<10){b="0"+b}if(d<10){d="0"+d}a=e.options.format.replace(/dd/i,b).replace(/mm/i,d).replace(/yyyy/i,c);e.month=e.oldMonth=""+(d-1)+"";e.year=e.oldYear=c;e.oldDay=b;return a},remove:function(a){clearTimeout(a.interval);clearInterval(a.interval);a.active=false;if(a.container){dojo.query(a.container).orphan()}a.calendar=false;a.container=false;dojo.query("select.dp_hide").removeClass("dp_hide")}});dojo.provide("cox.behavior.interface.form.EnforceMaxLengthBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.EnforceMaxLengthBehavior",mojo.command.Behavior,{execute:function(d){var b=d.getParams();var a=b.element.getAttribute("maxlength")||b.element.parentNode.getAttribute("maxlength");if(!a||isNaN(a=parseInt(a))){return}if(a<=0){return}if(b.element.value.length>a){b.element.value=b.element.value.substring(0,a)}var c;if(b.element.id){c=mojo.queryFirst("#"+b.element.id.replace(":","_")+"-countdown")}if(c){c.innerHTML=(a-b.element.value.length)}},onResponse:function(){}});dojo.provide("cox.behavior.interface.form.EnterKeyBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.EnterKeyBehavior",mojo.command.Behavior,{execute:function(c){var b=c.eventObj;var a;if(b&&b.which){b=b;a=b.which}else{b=event;a=b.keyCode}if(a==13){this.onResponse();mojo.Messaging.publish("enterKeyPress","enter");return false}else{return true}},onResponse:function(){}});dojo.provide("cox.behavior.interface.form.PlaceholderBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.PlaceholderBehavior",mojo.command.Behavior,{execute:function(f){var b=f.getContextElement();var e;if(dojo.getObject("placeholder",false,f.getParams())!=undefined){e=f.getParams().placeholder}else{e=dojo.attr(b,"placeholder")}var a=document.createElement("input");if(!("placeholder" in a)){var d=f.getEvent();var c;if(d){c=d.type}switch(c){case"focus":if(b.value==e){dojo.toggleClass(b,"placeholder");b.value=""}break;default:if(b.value==""){dojo.toggleClass(b,"placeholder");b.value=e}}}else{if(!dojo.hasAttr(b,"placeholder")){dojo.attr(b,"placeholder",e)}}}});dojo.provide("cox.behavior.interface.form.ProcessAssociationLimitBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.ProcessAssociationLimitBehavior",mojo.command.Behavior,{doUpdateClass:function(b,d,a,c){mojo.Messaging.publish(b,{elements:d,applyStyle:a,action:c})},doStuff:function(b,a){var e=dojo.byId("hostassoclimit");var f=dojo.byId("guestassoclimit");var h=dojo.byId("custom-limit-radio");var d=f.value;var g=mojo.query(".checkForGuestUser",a);var c=dojo.byId("guest-radio-customlimit");dojo.attr(f,"max",999);if(e.tagName=="INPUT"){var l=e.value}else{var l=e.textContent}if(h.checked==true){if(l!=""&&d!=""){if(d>l){maxvalue=Number(l);dojo.attr(f,"max",maxvalue)}}if(g.length>=1){this.doUpdateClass("/toggleCSSTopic",c,"requiredchkbox","add")}else{this.doUpdateClass("/toggleCSSTopic",c,"requiredchkbox","remove")}}else{this.doUpdateClass("/toggleCSSTopic",c,"requiredchkbox","remove")}},execute:function(d){var c=d.getParams();var a=c.caller;var b=c.context;this.doStuff(a,b)}});dojo.provide("cox.behavior.interface.form.ProcessPhoneNoArrayBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.ProcessPhoneNoArrayBehavior",mojo.command.Behavior,{doUpdateClass:function(b,d,a,c){mojo.Messaging.publish(b,{elements:d,applyStyle:a,action:c})},doStuff:function(f,d,b){var e=dojo.byId("phnExt");var c=dojo.byId("phnId");var o=dojo.byId("autoattndantext");var p=dojo.byId("phnattendant");var q=p.options[p.selectedIndex].value;if(b=="onchange"){var n=phoneNumberArray;for(i=0;i<rows;i++){var l=0;if(n[i][l]==q){e.firstChild.data=n[i][l+1];o.value=n[i][l+1];c.firstChild.data=n[i][l+2]}}}else{if(b=="onclick"){var t=dojo.attr(f,"id");var r=dojo.byId("extPilotDiv");var u=dojo.byId("aaEditDivDir");var a=dojo.byId("aaEditDiv");var g=dojo.byId("extDirDiv");var h=dojo.byId("aaEditDiv");var m=dojo.byId("autoattndantextDir");if(t=="dir-number-hunt"){this.doUpdateClass("/toggleCSSTopic",r,"closedDiv","add");this.doUpdateClass("/toggleCSSTopic",g,"closedDiv","remove");this.doUpdateClass("/toggleCSSTopic",u,"closedDiv","remove");this.doUpdateClass("/toggleCSSTopic",o,"required","remove");this.doUpdateClass("/toggleCSSTopic",o,"required-mandatory","remove");this.doUpdateClass("/toggleCSSTopic",o,"disabled-required","add");this.doUpdateClass("/toggleCSSTopic",o,"disabled-required-mandatory","add");this.doUpdateClass("/toggleCSSTopic",m,"required","add");this.doUpdateClass("/toggleCSSTopic",m,"required-mandatory","add");this.doUpdateClass("/toggleCSSTopic",m,"disabled-required","remove");this.doUpdateClass("/toggleCSSTopic",m,"disabled-required-mandatory","remove")}else{if((t=="pilot-number-hunt")){this.doUpdateClass("/toggleCSSTopic",r,"closedDiv","remove");this.doUpdateClass("/toggleCSSTopic",g,"closedDiv","add");this.doUpdateClass("/toggleCSSTopic",u,"closedDiv","add");this.doUpdateClass("/toggleCSSTopic",m,"required","remove");this.doUpdateClass("/toggleCSSTopic",m,"required-mandatory","remove");this.doUpdateClass("/toggleCSSTopic",m,"disabled-required","add");this.doUpdateClass("/toggleCSSTopic",m,"disabled-required-mandatory","add");if(dojo.hasClass(h,"closedDiv")){this.doUpdateClass("/toggleCSSTopic",o,"required","remove");this.doUpdateClass("/toggleCSSTopic",o,"required-mandatory","remove");this.doUpdateClass("/toggleCSSTopic",o,"disabled-required","add");this.doUpdateClass("/toggleCSSTopic",o,"disabled-required-mandatory","add")}else{this.doUpdateClass("/toggleCSSTopic",o,"required","add");this.doUpdateClass("/toggleCSSTopic",o,"required-mandatory","add");this.doUpdateClass("/toggleCSSTopic",o,"disabled-required","remove");this.doUpdateClass("/toggleCSSTopic",o,"disabled-required-mandatory","remove")}}else{if((t=="instantgrp-extension")){c.firstChild.data=o.value}else{if(dojo.hasClass(h,"openedDiv")&&dojo.hasClass(h.parentElement,"closedDiv")){this.doUpdateClass("/toggleCSSTopic",o,"required","remove");this.doUpdateClass("/toggleCSSTopic",o,"required-mandatory","remove");this.doUpdateClass("/toggleCSSTopic",o,"disabled-required","add");this.doUpdateClass("/toggleCSSTopic",o,"disabled-required-mandatory","add")}}}}}}},execute:function(e){var d=e.getParams();var a=d.caller;var b=d.context;var c=d.elementEvent;this.doStuff(a,b,c)}});dojo.provide("cox.behavior.interface.form.SetCSSUniqueClassBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.SetCSSUniqueClassBehavior",mojo.command.Behavior,{execute:function(e){var d=e.getParams();var b=d.clickedNode;var a=d.contextElem;var c=mojo.query(".copyElement",a);if(c!=null){if(dojo.isArray(c)&&c.length>0){dojo.forEach(c,function(f){mojo.Messaging.publish("updateCSSClassTopic",{clickedNode:f,action:"remove",cssClass:"copyElement"})})}}mojo.Messaging.publish("updateCSSClassTopic",{clickedNode:b,action:"add",cssClass:"copyElement"});var b=mojo.queryFirst(".copyElement",a);mojo.queryFirst(".formActionElement",a).value=b.id},onResponse:function(){}});dojo.provide("cox.behavior.interface.form.SetCheckedBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.SetCheckedBehavior",mojo.command.Behavior,{execute:function(c){var b=c.getParams();if(!dojo.isArray(b.target)){b.target=[b.target]}for(var a=0;a<b.target.length;a++){b.target[a].checked=true}}});dojo.provide("cox.behavior.interface.form.SetInputLabelBehavior");dojo.require("mojo.command.Command");dojo.declare("cox.behavior.interface.form.SetInputLabelBehavior",mojo.command.Command,{execute:function(c){var b=c.getParams();if(!b.input){return}if(typeof b.label=="string"){if(!b.show&&b.label==b.input.value){b.input.value="";try{if(b.type){b.input.type=b.type}}catch(a){}}else{if(b.show&&b.input.value==""){b.input.value=b.label;try{if(b.type){b.input.type="text"}}catch(a){}}}}else{if(!b.show){b.label.style.display="none"}else{if(b.input.value==""){b.label.style.display="block"}}}}});dojo.provide("cox.behavior.interface.form.SpinBoxBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.SpinBoxBehavior",mojo.command.Behavior,{execute:function(a){var d=a.getParams();var m=d.element;var c=m.value;var g="";var f=m.getAttribute("min");var n=m.getAttribute("max");var e=m.getAttribute("step");m.options={min:m&&!isNaN(parseFloat(f))?Number(f):null,max:m&&!isNaN(parseFloat(n))?Number(n):null,step:m&&!isNaN(parseFloat(e))?Number(e):1,reset:Number(c)};var b=dojo.create("div",{className:"spinner-wrapper"});dojo.place(b,m,"after");var l=dojo.create("input",{className:"spin-up",type:"button",title:"Increase",value:""},b);var h=dojo.create("input",{className:"spin-down",type:"button",title:"Decrease",value:""},b);l.onclick=function(){var p=mojo.queryFirst(m);var o=Number(p.value)+Number(m.options.step);if(m.options.min!==null){o=Math.max(o,m.options.min)}if(m.options.max!==null){o=Math.min(o,m.options.max)}p.value=o};h.onclick=function(){var p=mojo.queryFirst(m);var o=Number(p.value)+Number(-m.options.step);if(m.options.min!==null){o=Math.max(o,m.options.min)}if(m.options.max!==null){o=Math.min(o,m.options.max)}p.value=o}}});dojo.provide("cox.behavior.interface.form.SubmitFormBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.SubmitFormBehavior",mojo.command.Behavior,{execute:function(c){var b=c.getParams();var a;if(!b){b={}}if(b.formSet!=null){a=b.formSet}if(a!=null){if(b.delay){setTimeout(function(){a.submit()},b.delay)}else{a.submit()}}},onResponse:function(){}});dojo.provide("cox.behavior.interface.form.SwapMultiSelectBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.SwapMultiSelectBehavior",mojo.command.Behavior,{clearError:function(b,a){mojo.query(".msgError p",b).forEach(function(d){if(d.innerHTML.search(a)!=-1){dojo.destroy(d)}});if(mojo.query(".msgError p",b).length==0){var c=dojo.byId("formErrors");dojo.destroy(c)}},showError:function(c,b,a){if(c!=null){mojo.Messaging.publish("formError",{action:"add",form:c,text:a+b+"."});dojo.stopEvent(requestObj.getEvent())}},execute:function(a){var b=a.getContextElement();var d=a.getParams();var e=d.action;var c=mojo.queryFirst(".swap-select-source",b);var m=mojo.queryFirst(".swap-select-target",b);var g=d.swapLimit;var h=d.errorText;var l=m.form;if(l!=null){this.clearError(l,h)}var f=function(n){selectOptions=dojo.query("option",n);if(!dojo.isIE){n.empty()}selectOptions.sort(function(p,o){if(p.text>o.text){return 1}else{return -1}}).forEach(function(o){dojo.place(o,n)})};switch(e){case"add":if(g!=null&&m.length>=g){this.showError(l,g,h)}else{dojo.query("option",c).forEach(function(n){if(n.selected){dojo.place(n,m)}});if(m.getAttribute("data-swap-select-sort")=="true"){f(m)}}break;case"add-all":if(g!=null&&(m.length>=g||c.length>=g)){this.showError(l,g,h)}else{dojo.query("option",c).forEach(function(n){dojo.place(n,m)});if(m.getAttribute("data-swap-select-sort")=="true"){f(m)}}break;case"remove":dojo.query("option",m).forEach(function(n){if(n.selected){dojo.place(n,c)}});if(c.getAttribute("data-swap-select-sort")=="true"){f(c)}break;case"remove-all":dojo.query("option",m).forEach(function(n){dojo.place(n,c)});if(c.getAttribute("data-swap-select-sort")=="true"){f(c)}break}}});dojo.provide("cox.behavior.interface.form.ToggleJoinStateBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.interface.form.ToggleJoinStateBehavior",mojo.command.Behavior,{execute:function(f){var e=f.getParams();var b=e.caller;var d=e.context;var c=e.chkboxId;var a=mojo.queryFirst(".togglejoinstate-peer",d);if(b.checked!=true){a.checked=false;a.disabled=true}else{a.disabled=false}}});dojo.provide("cox.behavior.interface.form.UpdateErrorBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.query");dojo.declare("cox.behavior.interface.form.UpdateErrorBehavior",mojo.command.Behavior,{execute:function(f){var e=f.getParams();var a=e.text;var c=mojo.queryFirst(".msgSuccess");if(c!=null){dojo.destroy(c)}if(!e.form){return}if(!mojo.query(".msgError",e.form).length){var b=dojo.create("div",{className:"msgError",id:"formErrors"},e.form,"first")}else{var b=mojo.queryFirst(".msgError",e.form)}switch(e.action){case"clear":b.innerHTML="";dojo.style(b,"display","none");break;case"add":if(a){b.innerHTML+="<p>"+a+"</p>";dojo.style(b,"display","block");var d=dojo.position(b).y;if(d<0){window.scrollBy(0,d)}}break}}});dojo.provide("cox.behavior.interface.form.ValidateFormBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.query");dojo.declare("cox.behavior.interface.form.ValidateFormBehavior",mojo.command.Behavior,{isValidationDisabled:function(a){if(dojo.hasClass(a,"disable-validation")){return true}else{return false}},isValidatedElement:function(a){if(dojo.hasClass(a,"validated")){return true}else{return false}},addValidated:function(a){if(a!=null){dojo.addClass(a,"validated")}},removeValidated:function(a){if(a!=null){dojo.removeClass(a,"validated")}},execute:function(a){var e=this;var f=a.getParams();mojo.Messaging.publish("formError",{action:"clear",form:f.form});mojo.query(".required",f.form).forEach(function(z,B,C){if(!e.isValidatedElement(z)&&!e.isValidationDisabled(z)){var t=mojo.queryFirst("label[for='"+z.id+"']",f.form);var D=t&&(t.innerText||t.textContent);var u=z.value.trim();var w=dojo.attr(z,"placeholder");var v=t.title;var E=v.match(/^[AaEeIiOoUu]/)!=null?" an ":" a ";var r=z.tagName=="SELECT"?"Please select":"Please enter";if(dojo.hasClass(z,"file-input-text")){r="Please select"}if(dojo.hasClass(z,"trim-msgprefix")){r="";E=""}if(!u||!u.trim()||(u==D)||(u==w)){var A="";if(!dojo.hasClass(z,"no-error")){A=r+E+v+"."}mojo.Messaging.publish("formError",{action:"add",form:f.form,text:A});e.addValidated(z);dojo.stopEvent(a.getEvent())}}});mojo.query(".requiredchkbox",f.form).forEach(function(u,t,z){if(!e.isValidatedElement(u)&&!e.isValidationDisabled(u)){var w=mojo.queryFirst("label[for='"+u.id+"']",f.form);var v=u.checked;var r=w.title;if(!v){mojo.Messaging.publish("formError",{action:"add",form:f.form,text:r});e.addValidated(u);dojo.stopEvent(a.getEvent())}}});var b=/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,6})$/i;mojo.query(".email",f.form).forEach(function(t,r,z){if(!e.isValidatedElement(t)&&!e.isValidationDisabled(t)){var w=mojo.queryFirst("label[for='"+t.id+"']",f.form);var A=w&&(w.innerText||w.textContent);var u=t.value.trim();var v=dojo.attr(t,"placeholder");if(u.length>0&&(u!=A)&&!u.match(b)||(u==v)){mojo.Messaging.publish("formError",{action:"add",form:f.form,text:"Please enter a valid email address for "+w.title+"."});e.addValidated(t);dojo.stopEvent(a.getEvent())}}});var g=/^ *[0-9]+ *$/;mojo.query(".wholenumber",f.form).forEach(function(t,r,z){if(!e.isValidatedElement(t)&&!e.isValidationDisabled(t)){var w=mojo.queryFirst("label[for='"+t.id+"']",f.form);var A=w&&(w.innerText||w.textContent);var u=t.value.trim();var v=dojo.attr(t,"placeholder");if(u.length>0&&(u!=A)&&!u.match(g)||(u==v)){mojo.Messaging.publish("formError",{action:"add",form:f.form,text:"Please enter a whole number for "+w.title+"."});e.addValidated(t);dojo.stopEvent(a.getEvent())}}});var g=/(^-?\d\d*\.\d*$)|(^-?\d\d*$)|(^-?\.\d\d*$)/;mojo.query(".number",f.form).forEach(function(t,r,z){if(!e.isValidatedElement(t)&&!e.isValidationDisabled(t)){var w=mojo.queryFirst("label[for='"+t.id+"']",f.form);var A=w&&(w.innerText||w.textContent);var u=t.value.trim();var v=dojo.attr(t,"placeholder");if(u.length>0&&(u!=A)&&!u.match(g)||(u==v)){mojo.Messaging.publish("formError",{action:"add",form:f.form,text:"Please enter a number for "+w.title+"."});e.addValidated(t);dojo.stopEvent(a.getEvent())}}});var g=/^([0-9])*(\.[0-9]{1,2})?$/;mojo.query(".currency",f.form).forEach(function(t,r,z){if(!e.isValidatedElement(t)&&!e.isValidationDisabled(t)){var w=mojo.queryFirst("label[for='"+t.id+"']",f.form);var A=w&&(w.innerText||w.textContent);var u=t.value.trim();var v=dojo.attr(t,"placeholder");if(u.length>0&&(u!=A)&&!u.match(g)||(u==v)){mojo.Messaging.publish("formError",{action:"add",form:f.form,text:"Please enter a valid currency for "+w.title+"."});e.addValidated(t);dojo.stopEvent(a.getEvent())}}});var o=/^[a-zA-Z0-9]*$/;mojo.query(".alphanumeric",f.form).forEach(function(t,r,z){if(!e.isValidatedElement(t)&&!e.isValidationDisabled(t)){var w=mojo.queryFirst("label[for='"+t.id+"']",f.form);var u=t.value.trim();var v=dojo.attr(t,"placeholder");if(u.length>0&&!u.match(o)||(u==v)){mojo.Messaging.publish("formError",{action:"add",form:f.form,text:"Please enter only alphanumeric characters for "+w.title+"."});e.addValidated(t);dojo.stopEvent(a.getEvent())}}});var l=/^[a-zA-Z]*$/;mojo.query(".alpha",f.form).forEach(function(t,r,z){if(!e.isValidatedElement(t)&&!e.isValidationDisabled(t)){var w=mojo.queryFirst("label[for='"+t.id+"']",f.form);var u=t.value.trim();var v=dojo.attr(t,"placeholder");if(u.length>0&&!u.match(l)||(u==v)){mojo.Messaging.publish("formError",{action:"add",form:f.form,text:"Please enter only alpha characters for "+w.title+"."});e.addValidated(t);dojo.stopEvent(a.getEvent())}}});var d=/^\d{1,2}\/\d{1,2}\/\d{4}$/;mojo.query(".date",f.form).forEach(function(t,r,z){if(!e.isValidatedElement(t)&&!e.isValidationDisabled(t)){var w=mojo.queryFirst("label[for='"+t.id+"']",f.form);var u=t.value.trim();var v=dojo.attr(t,"placeholder");if(u.length>0&&!u.match(d)||(u==v)){mojo.Messaging.publish("formError",{action:"add",form:f.form,text:w.title+" must be entered as mm/dd/yyyy."});e.addValidated(t);dojo.stopEvent(a.getEvent())}}});var p=/(^\d{5}$)|(^\d{5}-\d{4}$)/;mojo.query(".zip",f.form).forEach(function(t,r,z){if(!e.isValidatedElement(t)&&!e.isValidationDisabled(t)){var w=mojo.queryFirst("label[for='"+t.id+"']",f.form);var u=t.value.trim();var v=dojo.attr(t,"placeholder");if(u.length>0&&!u.match(p)||(u==v)){mojo.Messaging.publish("formError",{action:"add",form:f.form,text:"Please enter a valid zip code for "+w.title+"."});e.addValidated(t);dojo.stopEvent(a.getEvent())}}});mojo.query("[data-min-length]",f.form).forEach(function(t,r,A){if(!e.isValidatedElement(t)&&!e.isValidationDisabled(t)){var w=mojo.queryFirst("label[for='"+t.id+"']",f.form);var u=t.value.trim();var v=dojo.attr(t,"placeholder");var z=dojo.attr(t,"data-min-length");if(u.length<z&&(u!=v)&&(u!="")){mojo.Messaging.publish("formError",{action:"add",form:f.form,text:"Please enter at least "+z+" characters for "+w.title+"."});e.addValidated(t);dojo.stopEvent(a.getEvent())}}});mojo.query(".range",f.form).forEach(function(v,u,A){if(!e.isValidatedElement(v)&&!e.isValidationDisabled(v)){var z=mojo.queryFirst("label[for='"+v.id+"']",f.form);var w=v.value.trim();var r=dojo.attr(v,"min");var t=dojo.attr(v,"max");if(r!=null){if(t!=null){if((w<Number(r)||w>Number(t))&&(w!="")){mojo.Messaging.publish("formError",{action:"add",form:f.form,text:"Please enter a number between "+r+" and "+t+" for "+z.title+"."});e.addValidated(v);dojo.stopEvent(a.getEvent())}}else{if(w<Number(r)&&(w!="")){mojo.Messaging.publish("formError",{action:"add",form:f.form,text:"Please enter a number greater than "+r+" for "+z.title+"."});e.addValidated(v);dojo.stopEvent(a.getEvent())}}}else{if(w>Number(t)&&(w!="")){mojo.Messaging.publish("formError",{action:"add",form:f.form,text:"Please enter a number less than "+t+" for "+z.title+"."});e.addValidated(v);dojo.stopEvent(a.getEvent())}}}});mojo.query(".absolute",f.form).forEach(function(t,r,z){if(!e.isValidatedElement(t)&&!e.isValidationDisabled(t)){var w=mojo.queryFirst("label[for='"+t.id+"']",f.form);var u=t.firstChild.data;var v=dojo.attr(t,"permittedValue");if(u!=v){mojo.Messaging.publish("formError",{action:"add",form:f.form,text:w.title+" should be "+v+"."});e.addValidated(t);dojo.stopEvent(a.getEvent())}}});var m=mojo.query(".pwdValue",f.form);var n=mojo.query(".confirmPwdValue",f.form);if(m.length>=1&&n.length>=1){for(i=0;i<m.length;i++){var c=m[i];var q=n[i];if((!e.isValidatedElement(c)&&!e.isValidationDisabled(c))&&(!e.isValidatedElement(q)&&!e.isValidationDisabled(q))){var h=c.id;if(c.value!=q.value){mojo.Messaging.publish("formError",{action:"add",form:f.form,text:"New passwords do not match for "+h+"."});e.addValidated(q);e.addValidated(c);dojo.stopEvent(a.getEvent())}}}}mojo.query(".validated",f.form).forEach(function(t,r,u){e.removeValidated(t)})}});dojo.provide("cox.behavior.interface.form.ValidateModalPopUPBehavior");dojo.require("mojo.command.Behavior");dojo.require("mojo.query");dojo.declare("cox.behavior.interface.form.ValidateModalPopUPBehavior",mojo.command.Behavior,{execute:function(b){var a=b.getParams();mojo.Messaging.publish("modalPopUPError",{action:"clear",form:a.form});mojo.query(".modal-required",a.form).forEach(function(h,m,n){var d=mojo.queryFirst("label[for='"+h.id+"']",a.form);var o=d&&(d.innerText||d.textContent);var e=h.value.trim();var g=dojo.attr(h,"placeholder");var f=d.title;var p=f.match(/^[AaEeIiOoUu]/)!=null?" an ":" a ";var c="Please select";if(!e||!e.trim()||(e==o)||(e==g)){var l="";if(!dojo.hasClass(h,"no-error")){l=c+p+f+"."}mojo.Messaging.publish("modalPopUPError",{action:"add",form:a.form,text:l});dojo.stopEvent(b.getEvent())}});mojo.query(".modal-requiredchkbox",a.form).forEach(function(e,d,h){var g=mojo.queryFirst("label[for='"+e.id+"']",a.form);var f=e.checked;var c=g.title;if(!f){mojo.Messaging.publish("modalPopUPError",{action:"add",form:a.form,text:c});dojo.stopEvent(b.getEvent())}})}});dojo.provide("cox.behavior.locationMap.GetDirectionsBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.locationMap.GetDirectionsBehavior",mojo.command.Behavior,{onResponse:function(){},onError:function(){},geocoder:null,execute:function(e){var d=e.getParams();if(!d||!d.map){return}var c=d.map;var a=c._mojoGDir;if(a&&d.action=="clear"){a.clear();return}if(!a){a=c._mojoGDir=new google.maps.Directions(c,mojo.queryFirst(".direction-list"));google.maps.Event.addListener(a,"load",this.onResponse);google.maps.Event.addListener(a,"error",dojo.hitch(this,this._handleErrors,a,d.form))}if(d.addresses){this.form=d.form;var b=c._mojoDirectionsAddresses={};dojo.forEach(["from","to"],function(g){var f=d.addresses["map-"+((g=="to")?"end-":"")+"address-input"];mojo.Messaging.publish("/verifyAddress/"+g,f.value)})}else{if(d.message){var b=c._mojoDirectionsAddresses;b[d.message.direction]=d.message;if(b.from&&b.to){if(b.from.placemark&&b.to.placemark){a.load("from: "+b.from.placemark[0].address+" to: "+b.to.placemark[0].address)}}}}},_handleErrors:function(b,c){var a="";if(b.getStatus().code==G_GEO_UNKNOWN_ADDRESS){a="No corresponding geographic location could be found for one of the specified addresses. This may be due to the fact that the address is relatively new, or it may be incorrect."}else{a="An error occurred. One of your locations may be invalid."}mojo.Messaging.publish("formError",{action:"add",form:this.form,text:a})}});dojo.provide("cox.behavior.locationMap.InitMapBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.locationMap.InitMapBehavior",mojo.command.Behavior,{_map:null,onMapReady:function(){},execute:function(a){if(google&&google.maps){window.setTimeout(dojo.hitch(this,this._onGoogleReady,a),200)}else{if(google&&google.load){google.load("maps","2",{callback:dojo.hitch(this,this._onGoogleReady,a)})}else{alert("Error loading google maps.")}}},_onGoogleReady:function(c){var b=c.getParams();var a=this._map=new google.maps.Map2(b.element);google.maps.Event.addListener(document.body,"unload",google.maps.Unload);google.maps.Event.addListener(this._map,"infowindowclose",dojo.hitch(null,function(){mojo.Messaging.publish("googleMap",{map:a})}));this.onMapReady()}});dojo.provide("cox.behavior.locationMap.MapReverseDirectionsBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.locationMap.MapReverseDirectionsBehavior",mojo.command.Behavior,{execute:function(d){var c=d.getParams();var b=c.form;var a=b["map-address-input"].value;b["map-address-input"].value=b["map-end-address-input"].value;b["map-end-address-input"].value=a;b["map-direction-submit"].click()}});dojo.provide("cox.behavior.locationMap.UpdateMapBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.locationMap.UpdateMapBehavior",mojo.command.Behavior,{execute:function(c){var b=c.getParams();if(!b||!b.map){return}var a=b.map;if(b.center){b.map.setCenter(new google.maps.LatLng(b.center.lat,b.center.lon))}if(b.zoom!==null&&typeof b.zoom!="undefined"){b.map.setZoom(b.zoom)}if(b.controls){if(b.controls.zoom=="small"&&b.controls.pan==false){this.removeControl("large-map",a);this.removeControl("small-map",a);this.addControl("small-zoom",a,google.maps.SmallZoomControl)}else{if(b.controls.zoom=="large"){this.removeControl("small-zoom",a);this.removeControl("small-map",a);this.addControl("large-map",a,google.maps.LargeMapControl)}else{if(b.controls.zoom=="small"||b.controls.pan==true){this.removeControl("small-zoom",a);this.removeControl("large-map",a);this.addControl("small-map",a,google.maps.SmallMapControl)}else{this.removeControl("small-zoom",a);this.removeControl("small-map",a);this.removeControl("large-map",a)}}}if(b.controls.scale){this.addControl("scale",a,google.maps.ScaleControl)}else{this.removeControl("scale",a)}if(b.controls.mapType){this.addControl("map-type",a,google.maps.MapTypeControl)}else{this.removeControl("map-type",a)}if(b.controls.overview){this.addControl("overview",a,google.maps.OverviewMapControl)}else{this.removeControl("overview",a)}}},removeControl:function(b,a){if(a._mojoControls&&a._mojoControls[b]){a.removeControl(a._mojoControls[b]);a._mojoControls[b]=null}},addControl:function(c,b,a){if(!b._mojoControls){b._mojoControls={}}if(!b._mojoControls[c]){b.addControl(b._mojoControls[c]=new a())}}});dojo.provide("cox.behavior.locationMap.UpdateMapPointSetsBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.locationMap.UpdateMapPointSetsBehavior",mojo.command.Behavior,{execute:function(a){console.log("updatePoints: ",a.getParams());var c=a.getParams();if(!c||!c.map){return}var b=c.map;var n=c.pointSetKey;var g=c.pointSet;var d;var l;if(!(d=b._mojoMarkerManager)){d=b._mojoMarkerManager=new google.maps.MarkerManager(b,{trackMarkers:true})}if(!b._mojoPointSets){b._mojoPointSets={}}if(!(l=b._mojoPointSets[n])){l=b._mojoPointSets[n]={points:[]}}while(l.points.length){d.removeMarker(l.points.pop())}if(!g.points||g.points.length==0){return}if(!l.icon||l.icon.image!=g.icon.url){var h=new google.maps.Icon();h.image=g.icon.url;h.iconSize=new google.maps.Size(g.icon.width,g.icon.height);h.iconAnchor=new google.maps.Point(g.icon.width>>1,g.icon.height>>1);h.shadow=g.iconShadow.url;h.shadowSize=new google.maps.Size(g.iconShadow.width,g.iconShadow.height);h.infoWindowAnchor=new GPoint(9,2);h.infoShadowAnchor=new GPoint(18,25);l.icon=h}for(var f=0;f<g.points.length;f++){var m=g.points[f];var e=new google.maps.Marker(new google.maps.LatLng(m.lat,m.lon),{title:"test",icon:l.icon,draggable:false});google.maps.Event.addListener(e,"click",dojo.hitch(null,function(o,p){o.openInfoWindowHtml(p)},e,'<div class="marker-info">'+m.info+"</div>"));if(g.visible===false||m.visible===false){e.hide()}else{e.show()}l.points.push(e)}d.addMarkers(l.points,g.zoom||1);d.refresh()}});dojo.provide("cox.behavior.locationMap.UpdateMapPointsBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.locationMap.UpdateMapPointsBehavior",mojo.command.Behavior,{execute:function(a){var c=a.getParams();if(!c||!c.map){return}var b=c.map,f=c.pointSet;if(c.pointSet&&b._coxCurrentState!=c.pointSet.state){while(b._mojoMarkers&&b._mojoMarkers.length){b.removeOverlay(b._mojoMarkers.pop())}b._mojoMarkers=[];b._coxLocations=[];b._coxCurrentState=c.pointSet.state;for(var e=0;e<c.pointSet.locations.length;e++){var o=c.pointSet.locations[e];var g=new google.maps.Marker(new google.maps.LatLng(o.lat,o.lon),{icon:this._getIcon(o),draggable:false});var p=mojo.queryFirst("#directions-balloon");var m="";if(p){m=p.innerHTML}var l=mojo.queryFirst("#directions-form");google.maps.Event.addListener(g,"click",dojo.hitch(null,function(q,r){q.openInfoWindowHtml(r)},g,'<div class="maps-marker-info">'+o.info+m+"</div>"));if(m.length){google.maps.Event.addListener(g,"infowindowopen",function(){var q=mojo.query("#map-container [id='directions-forms'] form");dojo.forEach(q,function(t){mojo.controller.Map.getInstance().mapController("cox.controller.InputLabelController",t)});var r=mojo.queryFirst("#map-container [id='directions-forms']");if(r){mojo.controller.Map.getInstance().mapController("cox.controller.MapInfoBoxController",r,{map:b})}})}o.marker=g;b._coxLocations.push(o);b._mojoMarkers.push(g)}dojo.forEach(b._mojoMarkers,function(q){b.addOverlay(q)})}if(c.show&&b._coxLocations){for(var e=0;e<b._coxLocations.length;e++){var h=b._coxLocations[e];var n=false;for(var d=0;d<c.show.length;d++){if(h.sets.indexOf(c.show[d])>-1){n=true}}if(n){h.marker.show()}else{h.marker.hide()}}}if(f&&typeof f.user!="undefined"){if(b._mojoUser){b.removeOverlay(b._mojoUser)}if(b._mojoGDir){b._mojoGDir.clear()}if(f.user!=null){var g=new google.maps.Marker(new google.maps.LatLng(f.user.lat,f.user.lon),{icon:this._getIcon("user"),draggable:false,clickable:false});b._mojoUser=g;b.addOverlay(g)}}},_getIcon:function(a){if(!this._icons){this._icons={}}var d=a==="user"?"user":a.sets.join("");if(this._icons[d]){return this._icons[d]}var c=d=="user"?"user":a.sets.length;var b=this._iconConfig[c+""];var e=new google.maps.Icon();e.image=this._iconConfig.basePath+d+".png";e.iconSize=new google.maps.Size(b.width,b.height);e.iconAnchor=new google.maps.Point(b.anchorX,b.anchorY);e.shadow=this._iconConfig.basePath+"shadow"+c+".png";e.shadowSize=new google.maps.Size(b.width,b.height);e.infoWindowAnchor=new google.maps.Point(b.anchorX,2);e.infoShadowAnchor=new google.maps.Point(b.width,25);return this._icons[d]=e},_iconConfig:{basePath:"/ui/emergence/corp/en/img/interface/map/",user:{width:13,height:14,anchorX:0,anchorY:0},"1":{width:90,height:48,anchorX:19,anchorY:45},"2":{width:99,height:49,anchorX:28,anchorY:44},"3":{width:115,height:52,anchorX:37,anchorY:49},"4":{width:136,height:58,anchorX:47,anchorY:49},"5":{width:158,height:62,anchorX:56,anchorY:54},"6":{width:150,height:62,anchorX:56,anchorY:54}}});dojo.provide("cox.behavior.locationMap.VerifyAddressBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.locationMap.VerifyAddressBehavior",mojo.command.Behavior,{onResponse:function(){},onError:function(){},geocoder:null,execute:function(g){var f=g.getParams();var e=f.direction;function a(n,h,l){var m=f.notification;switch(h){case"clear":dojo.style(m,"display","none");m.innerHTML="";break;case"error":dojo.style(m,"display","none");m.innerHTML="";var o=(n=="single")?"":((n=="from")?"start":"end");mojo.Messaging.publish("formError",{action:"add",form:f.input.form,text:["We could not find ",o," address: ",l,"."].join("")});break;case"multiple":dojo.style(m,"display","block");m.innerHTML=['<p class="alternates-explanation">We found multiple results. Did you mean:</p>','<ul class="alternates"><li class="first">',dojo.map(l,function(p){return"<a href='#'>"+p.address+"</a>"}).join("</li><li>"),"</li></ul>"].join("");break}}var d=this.geocoder=this.geocoder||new GClientGeocoder();var c=mojo.queryFirst("label[for='"+f.input.id+"']",f.input.form);var b=(f.input.value=="")||(c&&(c.childNodes[0].nodeValue==f.input.value));if(b){mojo.Messaging.publish("/verifiedAddresses/"+e,{direction:e,placemark:null})}else{d.getLocations(f.input.value,function(h){if(!h.Placemark){a(e,"error",h.name)}else{if(h.Placemark.length>1){a(e,"multiple",h.Placemark)}else{a(e,"clear")}}mojo.Messaging.publish("/verifiedAddresses/"+e,{direction:e,placemark:h.Placemark})})}}});dojo.provide("cox.behavior.myplace.SlideshowBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.myplace.SlideshowBehavior",mojo.command.Behavior,{execute:function(b){var a=b.getParams();if(a.action=="toggle"){a.action=this._interval?"pause":"play"}if(a.action=="pause"){a.controller.setValue("isPlaying",false);if(this._interval){window.clearInterval(this._interval);this._interval=null}}else{if(a.action=="play"){a.controller.setValue("isPlaying",true);if(!this._interval){this._interval=window.setInterval(dojo.hitch(this,this._ticker,a.controllerEl,a.length),a.duration*1000)}}}},_ticker:function(f,b){try{var a=f.mojoControllers["cox.controller.FilmStripController"]}catch(d){return}var c=a.getValue("selectedIndex");a.setValue("selectedIndex",c==b-1?0:c+1)}});dojo.provide("cox.behavior.myplace.WeatherMapPickerBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.myplace.WeatherMapPickerBehavior",mojo.command.Behavior,{updateCitiesList:function(){var b=mojo.queryFirst("#selectedCity");var a=mojo.queryFirst("#editCodes");a.value=dojo.map(b.options,function(c){return c.value}).join(",")},execute:function(a){var e=a.getParams();switch(e.action){case"add":this.updateCitiesList();break;case"save":this.updateCitiesList();break;case"delete":var c=mojo.queryFirst("#selectedCity");for(var l=c.options.length-1;l>=0;l--){if(c.options[l].selected&&(c.options.length>1)){c.options[l]=null}}this.updateCitiesList();break;case"move":var n=e.direction;var c=mojo.queryFirst("#selectedCity");if((c.length<2)||(c.selectedIndex<0)){return}var b=(n>0)?c.length-1:0;var f=(n>0)?0:c.length-1;for(var l=b;l!=f-n;l=l-n){var m=l+n;if((l==b)||c[m].selected||!c[l].selected){continue}var o=c[l].value;var q=c[l].text;c[l].value=c[m].value;c[l].text=c[m].text;c[m].value=o;c[m].text=q;c[m].selected=true;c[l].selected=false}this.updateCitiesList();break;case"changeMap":var h=document.images.map.src;var g="";if(e.type=="national"){g=document.getElementById("nationalMapType").value;if(g=="Not Selected"){return}document.getElementById("regionMapType").value=""}else{if(e.type=="regional"){var d=document.getElementById("mapRegion").value;var p=document.getElementById("regionMapType").value;if(p==""){alert("Please select one map type");return}else{if(p=="sir_"){g=p+d}else{g=d+p}}}}document.getElementById("weatherMap").value=g;h=a.getController().getValue("mapImagePrefix")+g+".jpg";document.images.map.src=h;break;case"changeMapType":document.getElementById("regionMapType").value=e.type;break}}});dojo.provide("cox.behavior.newsroom.ChangeContentBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.newsroom.ChangeContentBehavior",mojo.command.Behavior,{execute:function(l){try{var h=l.paramsObj.elm}catch(f){var h=l.getEvent().elm}var a=l.paramsObj.tag;var d=l.paramsObj.elm;var g=l.paramsObj.caller.id.replace("tab","");var b=l.paramsObj.cssClass;if(!dojo.isArray(d)=="array"){d=[d]}var c=navigator.appName;for(i=0;i<d.length;i++){if(i==g-1){d[i].setAttribute("class",a+" "+b);d[i].style.display="block"}else{d[i].setAttribute("class",a);d[i].style.display="none"}}}});dojo.provide("cox.behavior.newsroom.InitBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.newsroom.InitBehavior",mojo.command.Behavior,{execute:function(f){var e=f.getParams();var d=e.content;var c=f.paramsObj.links;if(!dojo.isArray(c)=="array"){c=[c]}var a=f.paramsObj.tag;var b=f.paramsObj.cssClass}});dojo.provide("cox.behavior.residential.bill.CalculatePaymentAmountBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.residential.bill.CalculatePaymentAmountBehavior",mojo.command.Behavior,{execute:function(b){var g=b.getParams();var o=g.multiAmountTotal;var c=g.paymentOptions;var n=g.otherAmount;var h=0;var m=0;for(var l=0;l<c.length;l++){var a=c[l];if(n&&n.checked!="checked"){mojo.queryFirst("#"+n+"-radio").checked=true}if(a.checked){if(dojo.hasAttr(a,"val")){m=dojo.attr(a,"val")}else{m=a.value}var f=mojo.queryFirst("#"+a.id);var d=/(^-?\d\d*\.\d*$)|(^-?\d\d*$)|(^-?\.\d\d*$)/;if(dojo.hasClass(a,"statement-other")&&(f.checked=true)){var e=f.id;e=e.replace("-radio","");m=mojo.queryFirst("#"+e).value}if(d.test(m)){h+=parseFloat(m)}}else{if(dojo.hasClass(a,"statement-other")){var e=mojo.queryFirst("#"+a.id).id;e=e.replace("-radio","");mojo.queryFirst("#"+e).value=""}}}o.innerHTML="$"+parseFloat(h).toFixed(2)}});dojo.provide("cox.behavior.splash.PopUpBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.splash.PopUpBehavior",mojo.command.Behavior,{execute:function(a){var d=a.getParams();if(d.show){var o=mojo.query(".location-record-bd");for(var e=0,f=o.length;e<f;e++){var m=o[e].parentNode.parentNode;$(m).removeClass("active")}var c=200;var h=d.element;var g=h.parentNode;var n=h.parentNode.parentNode;var b=n.parentNode;var l=mojo.queryFirst(".location-record-bd",g);if(l){if(n.offsetLeft+l.offsetWidth>b.offsetWidth-c){$(g).addClass("dialog-pane-content-right")}dojo.addClass(d.element.parentNode.parentNode,"active")}}else{dojo.removeClass(d.element.parentNode.parentNode.parentNode.parentNode,"active")}}});dojo.provide("cox.behavior.splash.RenderBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.splash.RenderBehavior",mojo.command.Behavior,{execute:function(b){var a=b.getParams();console.log("RenderBehavior -- EXECUTE with parameters: ",a)}});dojo.provide("cox.behavior.splash.UpdateFormBehavior");dojo.require("mojo.command.Behavior");dojo.declare("cox.behavior.splash.UpdateFormBehavior",mojo.command.Behavior,{selectedCity:null,selectedState:null,onStateChange:function(){},execute:function(a){var f=a.getParams();var h=mojo.queryFirst("input",a.callerObj.parentNode);h=h.value;var g=h.split(","),e=g[0],c=g[1],b=g[2],m=g[3],l=g[4],d=g[5];this.selectedCity=c;mojo.queryFirst("#splash-zipcode").value=d}});dojo.provide("cox.command.ValidateRulesCommand");dojo.require("mojo.command.Command");dojo.require("mojo.helper.Validation");dojo.require("mojo.helper.view.Error");dojo.require("mojo.query");dojo.declare("cox.command.ValidateRulesCommand",mojo.command.Command,{_targetElement:null,_checkAll:true,_output:function(f,c){for(var d=0,a=f.length;d<a;d++){var b=f[d];var e=document.createElement("span");e.className="mojoValidationError";e.innerHTML=b.message;console.log(e);if(b.element.type=="checkbox"){if(b.element.parentNode.tagName=="LABEL"){dojo.place(e,b.element.parentNode,"after")}else{dojo.place(e,b.element,"after")}}else{dojo.place(e,b.element,"after")}}},execute:function(requestObj){var rules;var formSet;var limit;var title;var params=requestObj.getParams();if(params){if(params.targetElement!=null){this._targetElement=params.targetElement}if(params.checkAll!=null){this._checkAll=params.checkAll}if(params.rules!=null){rules=params.rules}if(params.formSet!=null){formSet=params.formSet}if(params.limit!=null){limit=params.limit}if(params.title!=null){title=params.title}}if(rules){if(this._targetElement!=null){this._targetElement.innerHTML="";if(formSet){try{var clearTags=["label","inputs","textarea","select"];for(var i=0;i<clearTags.length;i++){var Tag=mojo.query(clearTags[i],formSet);for(var j=0;j<Tag.length;j++){dojo.removeClass(Tag[j],"error")}}}catch(err){}}}if(typeof(rules)=="string"){dojo.require(rules);eval("requestObj.getParams().rules = "+rules)}var val=mojo.helper.Validation.getInstance();if((formSet)&&(this._checkAll)){var errorList=val.execute(requestObj.getParams().rules,formSet)}else{var errorList=val.execute(requestObj.getParams().rules,[requestObj.callerObj])}if(errorList.length>0){if(this._targetElement!=null){console.log(this._targetElement);var errorListLength=errorList.length;for(var i=0;i<errorListLength;i++){if(i==limit&&limit){}else{var error=errorList[i];var err=document.createElement("span");err.className="mojoValidationError";err.innerHTML=error.message;if(this._targetElement!=null){this._targetElement.innerHTML="<h5>"+title+"</h5>";this._targetElement.appendChild(err)}else{if(error.element.type=="checkbox"){if(error.element.parentNode.tagName=="LABEL"){dojo.place(err,error.element.parentNode,"after")}else{dojo.place(err,error.element,"after")}}else{dojo.place(err,error.element,"after")}}}}for(var i=0;i<errorList.length;i++){dojo.addClass(errorList[i].element,"error");if(errorList[i].element.parentNode.tagName=="LABEL"){dojo.addClass(errorList[i].element.parentNode,"error")}}}else{this._output(errorList)}this.onError()}else{if(requestObj.invocation){this.onResponse()}}}else{console.debug("ERROR stdlib.command.ValidateRulesCommand - No rules passed")}},onResponse:function(){},onError:function(){}});dojo.provide("cox.command.locationMap.GetOfficesCommand");dojo.require("mojo.command.Command");dojo.require("cox.service.Locator");dojo.declare("cox.command.locationMap.GetOfficesCommand",mojo.command.Command,{_targetElement:null,execute:function(b){var a=b.getParams()||{};cox.service.Locator.getInstance().getService("getOffices").invoke(a,this)},onResponse:function(a){if(a.errors){this.onError(a.errors)}else{mojo.Model.set("offices",a);this.onComplete()}},onError:function(a){},onComplete:function(){}});dojo.provide("cox.command.metrics.OmnitureInterfaceCommand");dojo.require("mojo.command.Command");dojo.declare("cox.command.metrics.OmnitureInterfaceCommand",mojo.command.Command,{constructor:function(){if(!mojo.Model.contains("/metrics/variables")){mojo.Model.set("/metrics/variables",{})}},onComplete:function(){},onError:function(){console.log("There was an error in the Metrics command.")},execute:function(a){if(cox.runmode=="testing"){return}if(typeof s!="undefined"&&s&&!!s.getQueryParam){if(!a.paramsObj.mode||!this[a.paramsObj.mode]){return}this.storedVariables=mojo.Model.get("/metrics/variables");this[a.paramsObj.mode](a.paramsObj.params||{},a)}},track:function(g,h){var c=g.type||"pageview";var b=g.clearVariables||false;var a=g.options||{};if(b){this.clearOmnitureVariables()}try{if(!s){return}switch(c){case"pageview":this.storeVariables(a);this.mapVariablesToOmnitureVariables(this.storedVariables);s.t();break;case"event":var f=this.mapVariablesToOmnitureVariables(a);if(f.events.length){f.vars.push("events")}if(f.vars.indexOf("pageName")==-1){f.vars.push("pageName")}s.linkTrackVars=f.vars.length?f.vars.join(","):"None";s.linkTrackEvents=f.events.length?f.events.join(","):"None";console.log("Event Tracked: ",s);if(a.customLink){s.tl(h.callerObj,"o",a.customLink)}else{if(a.eventName=="download"){s.tl(h.callerObj,"o",a.download)}else{if(a.eventName){s.tl(h.callerObj,"o",a.eventName)}else{if(a.actionPerformed){s.tl(h.callerObj,"o",a.actionPerformed)}else{console.log("No event, custom link, or action set during Omniture Track command.");s.tl(h.callerObj,"o","anonymousTrigger")}}}}break;default:console.log("A call to metrics was attempted, but no Type (pageview/event) was specified.")}this.onComplete()}catch(d){this.onError();console.log("Metrics call failed")}},storeVariables:function(a){if(a.eventName&&this.storedVariables.eventName){a.eventName+=","+this.storedVariables.eventName}this.storedVariables=dojo.mixin(this.storedVariables,a);mojo.Model.set("/metrics/variables",this.storedVariables)},overwriteVariables:function(a){this.storedVariables=dojo.mixin(this.storedVariables,a);mojo.Model.set("/metrics/variables",this.storedVariables)},clearOmnitureVariables:function(a){for(var b in this.storedVariables){this.storedVariables[b]=null}this.mapVariablesToOmnitureVariables(this.storedVariables);mojo.Model.set("/metrics/variables",{})},set:function(a,b){this.storeVariables(a);if(b.getParams().mapImmediately){this.mapVariablesToOmnitureVariables(this.storedVariables)}},mapVariablesToOmnitureVariables:function(c){var f={vars:[],events:[]};var d=function(g){s.events=s.events?s.events+","+g:g;f.events.push(g)};var a=false;for(var b in c){var e=c[b];switch(b){case"localePagename":if(e){s.pageName=e;s.eVar46=e;f.vars.push("eVar46")}break;case"pageName":if(e){s.prop30=e;f.vars.push("prop30")}d("event52");break;case"simplePageName":s.prop25=e;break;case"channel":if(e){s.channel=e}break;case"contentArea":s.channel=e;break;case"pageType":s.pageType=e;break;case"offerSource":s.eVar4=e;break;case"localeName":s.prop1=e;f.vars.push("prop1");s.eVar7=e;f.vars.push("eVar7");break;case"sectionName":s.prop2=e;f.vars.push("prop2");break;case"businessUnit":if(e=="businessstore"){a=true}s.prop3=e;f.vars.push("prop3");break;case"formName":s.prop4=e;f.vars.push("prop4");break;case"visitorStatus":if(!e){e="not logged in"}s.prop5=e;f.vars.push("prop5");break;case"businessLocal":s.prop6=e;f.vars.push("prop6");s.eVar35=e;f.vars.push("eVar35");break;case"campaign":s.campaign=e;f.vars.push("campaign");s.eVar34=e;f.vars.push("eVar34");break;case"searchResultsFlag":if(!e){e="false"}s.prop7=e;f.vars.push("prop7");break;case"pathingByCampaign":s.prop8=e;f.vars.push("prop8");break;case"productName":s.prop9=e;f.vars.push("prop9");break;case"customLink":s.prop10=s.eVar46+":"+e;f.vars.push("prop10");s.eVar16=s.eVar46+":"+e;f.vars.push("eVar16");d("event45");break;case"exitLink":s.prop30=e;f.vars.push("prop30");break;case"videoTitle":s.prop11=e;f.vars.push("prop11");s.eVar9=e;f.vars.push("eVar9");break;case"language":s.prop12=e;f.vars.push("prop12");break;case"kanaArticleId":s.prop18=e;f.vars.push("prop18");s.eVar21=e;f.vars.push("eVar21");break;case"confirmationMsg":s.prop31=e;f.vars.push("prop31");break;case"dvrFilter":s.prop32=e;f.vars.push("prop32");break;case"registrationType":if(!e){e="not set"}s.eVar1=e;f.vars.push("eVar1");break;case"products":s.products=e;break;case"download":s.eVar2=e;f.vars.push("eVar2");break;case"keyword":if(e.match(/^web -/)){e=e.replace(/^web - /,"");s.prop38=e.toLowerCase();f.vars.push("prop38")}else{e=e.toLowerCase();s.eVar3=e;f.vars.push("eVar3");s.prop36=e;f.vars.push("pro36")}d("event4");break;case"toolName":s.eVar4=e;f.vars.push("eVar4");break;case"actionPerformed":s.eVar5=e;f.vars.push("eVar5");break;case"logStatus":s.eVar6=e;f.vars.push("eVar6");break;case"dvrSearch":s.eVar47=e;f.vars.push("eVar47");break;case"contextualFlag":s.eVar8=e;f.vars.push("eVar8");break;case"campcode":s.eVar10=e;f.vars.push("eVar10");break;case"pcCode":s.eVar22=e;f.vars.push("eVar22");s.prop26=e;f.vars.push("prop26");break;case"ccCode":s.eVar23=e;f.vars.push("eVar23");s.prop27=e;f.vars.push("prop27");break;case"searchReferrer":s.eVar14=e;f.vars.push("eVar14");break;case"hier1":s.hier1=e;break;case"hier2":s.hier2=e;break;case"siteId":s.prop21=e;s.eVar17=e;break;case"franchiseId":s.prop22=e;s.eVar18=e;break;case"zip":s.zip=e;break;case"state":s.state=e;break;case"storeEvent":s.events=e;break;case"customerType":s.prop15=e;break;case"signInType":s.prop16=e;break;case"purchaseId":s.prop20=e;s.purchaseID=e;break;case"errorlist":s.prop33=e;break;case"errorAttempts":s.prop34=e;break;case"RGUSelected":s.eVar45=e;break;case"RGUSubscribed":s.eVar44=e;break;case"offer":s.eVar15=e;break;case"monthlyRecurringCharge":break;case"oneTimeCharge":break;case"totalOrderValue":break;case"totalInstallationCharges":break;case"totalMonthlySavings":d("event37");break;case"orderType":s.eVar27=e;break;case"leadId":s.prop28=e;break;case"leadType":s.prop17=e;break;case"totalOneTimeSavings":break;case"visitCount":s.eVar19=e;case"eventName":switch(e){case"productView":d("prodView");break;case"download":d("event3");break;case"searchResultClicked":d("event5");break;case"toolUsageInitiated":d("event6");break;case"toolUsageCompleted":d("event7");break;case"userLogStatus":if(!a){d("event8")}break;case"dvrRecord":d("event25");break;case"dvrSetRecord":d("event26");break;case"searchRecommendationClicked":d("event38");break;case"cancelAppointment":d("event46");break;case"rescheduleAppointment":d("event58");break;case"activateDevice":d("event53");break}break;default:break}if(cox.runmode=="development"||cox.runmode=="testing"){console.log(b," --> ",e)}}return f}});dojo.provide("cox.command.newsroom.AlertSignupCommand");dojo.require("mojo.command.Command");dojo.declare("cox.command.newsroom.AlertSignupCommand",mojo.command.Command,{execute:function(a){console.log("Command Executed: newsroom.AlertSignupCommand || params: ",a.getParams())},onResponse:function(a){},onError:function(a){}});dojo.provide("cox.command.newsroom.ValidateAlertSignupCommand");dojo.require("mojo.command.Command");dojo.declare("cox.command.newsroom.ValidateAlertSignupCommand",mojo.command.Rule,{execute:function(e){console.log("Validate AlertSignup || params: ",e.getParams());var d=e.getParams();var b=mojo.queryFirst("input#control_AlertEmail");var a=b.value;var c=mojo.helper.Validation.getInstance();if(c.isEmailAddress(a)&&c.isRequired(a)){d.targetElement.innerHTML="";this.onResponse();e.invocation.proceed()}else{d.targetElement.innerHTML="<h3>"+d.title+"</h3><span>"+d.text+"</span>";this.onError()}},onResponse:function(a){},onError:function(a){}});dojo.provide("cox.controller.ChildElementHandlerController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ChildElementHandlerController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".rule_select","onclick","ChildElementHandler",function(d,b,a){var c=dojo.attr(b,"id");dojo.addClass(d,"childElement-copydisabled");return{chkboxId:c,caller:b,context:d,elementEvent:"onclick"}});this.addObserver(".toggle-req-class-check","onclick","EnableDisableRequired",function(c,b,a){return{element:b,context:c,elementEvent:"onclick"}});this.addObserver(".ctrl-enabledisable-requiredcheckbox","onclick","EnableDisableRequiredCheckbox",function(c,b,a){return{caller:b,context:c,elementEvent:"onclick"}});this.addObserver(".toggle-mandatory-check","onclick","ToggleMandatory",function(c,b,a){return{caller:b,element:c,elementEvent:"onclick"}});this.addObserver(mojo.Messaging.getTopic("/toggleCSSTopic"),"onPublish","UpdateClass",function(b,a){var c=a.getMessage();return{element:c.elements,action:c.action,cssClass:c.applyStyle}});this.addObserver(this.getContextElement(),"onsubmit","CopyDisabledElements",function(b,a){return{caller:a,context:b}})},addCommands:function(){this.addCommand("ChildElementHandler","cox.behavior.ChildElementHandlerBehavior");this.addCommand("CopyDisabledElements","cox.behavior.CopyDisabledElementsBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("EnableDisableRequired","cox.behavior.EnableDisableRequiredBehavior");this.addCommand("EnableDisableRequiredCheckbox","cox.behavior.EnableDisableRequiredCheckboxBehavior");this.addCommand("ToggleMandatory","cox.behavior.business.ToggleMandatoryBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.DelegatedHoverController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.DelegatedHoverController",mojo.controller.Controller,{params:{selector:{defaultValue:"",type:String,required:true},hoverClass:{defaultValue:"",type:String,required:true}},addObservers:function(){this.addObserver(this.getValue("selector"),"onmouseover","UpdateClass",function(c,b,a){return{element:b,action:"add",cssClass:a.getValue("hoverClass")}});this.addObserver(this.getValue("selector"),"onmouseout","UpdateClass",function(c,b,a){if(window.event&&(toElement=window.event.toElement)){do{if(toElement==b){return}}while(toElement=toElement.parentNode)}return{element:b,action:"remove",cssClass:a.getValue("hoverClass")}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.DialogController");dojo.require("stdlib.controller.DialogController");dojo.declare("cox.controller.DialogController",stdlib.controller.DialogController,{params:{container:{required:false,defaultValue:".dialog-component",type:String},title:{required:false,defaultValue:".dialog-component .dialog-component-title",type:String},titleText:{required:false,defaultValue:"",type:String},content:{required:false,defaultValue:".dialog-component .dialog-component-content",type:String}},addObservers:function(){this.addObserver(mojo.queryFirst("#underlay"),"onclick","Messaging",function(b,a){return{topic:"dialog",message:{enabled:false}}});this.addObserver(".btn-icon-close","onclick","Messaging",function(b,a){return{topic:"dialog",message:{enabled:false}}});this.addObserver(".btn-close","onclick","PreventDefault");this.addObserver(".btn-close","onclick","Messaging",function(b,a){return{topic:"dialog",message:{enabled:false}}});this.addObserver("#btn-close","onclick","PreventDefault");this.addObserver("#btn-close","onclick","Messaging",function(b,a){return{topic:"dialog",message:{enabled:false}}});this.addObserver(".btn-print","onclick","Print",function(b,a){return{target:"#print-frame"}});this.addObserver(mojo.Messaging.getTopic("dialog"),"onPublish","DisableBox",function(b,a){if(a.getMessage()&&!a.getMessage().enabled){return{show:false}}});this.addObserver(".dialog-component img","onload","Position");this.addObserver(mojo.Messaging.getTopic("error"),"onPublish","Messaging",function(b,a){var d=a.getMessage();var c=d.text;if(!c.push){c=[c]}c="<p>"+c.join("</p><p>")+"</p>";return{topic:"dialog",message:{enabled:true,title:d.title,href:"/ui/emergence/corp/en/page/errorDialog.xhtml",substitutionMap:{"#error-text":c},nextTo:d.cause,width:430,height:-1}}});this.addObserver(mojo.Messaging.getTopic("termsConditionsDialog"),"onPublish","Messaging",function(b,a){var d=a.getMessage();var c=d.text;return{topic:"dialog",message:{enabled:true,title:d.title,href:"/ui/emergence/corp/en/page/termsConditions.xhtml",substitutionMap:{"#terms-text":c},nextTo:d.cause,width:590,height:-1}}})},addCommands:function(){this.addCommand("Print","cox.behavior.PrintBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("DisableBox","cox.behavior.DisableBoxBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ExtrasFromCoxController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ExtrasFromCoxController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query("#extras-panel .extras-view ul li span a"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{customLink:"extras:"+(a.title).toLowerCase()}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.FilmStripController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.FilmStripController",mojo.controller.Controller,{params:{selectedIndex:{required:false,defaultValue:0,type:Number},loop:{required:false,defaultValue:false,type:Boolean},duration:{required:false,defaultValue:600,type:Number}},addObservers:function(){var a=mojo.query("> .filmstrip-viewer > .filmstrip-content > .filmstrip-page",this.getContextElement());this.addObserver("> .filmstrip-next","onclick","UpdateClass",function(e,c){var d=a;var b=this.getController().getValue("selectedIndex");b++;if(b>=a.length){if(this.getController().getValue("loop")){this.getController().setValue("selectedIndex",0)}}else{this.getController().setValue("selectedIndex",b)}});this.addObserver("> .filmstrip-prev","onclick","UpdateClass",function(e,c){var d=a;var b=this.getController().getValue("selectedIndex");b--;if(b<0){if(this.getController().getValue("loop")){this.getController().setValue("selectedIndex",a.length-1)}}else{this.getController().setValue("selectedIndex",b)}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(d,c,b){return{element:mojo.query("> .filmstrip-next",d),action:(c.getValue()>=a.length-1)?"add":"remove",cssClass:"disabled"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(d,c,b){return{element:mojo.query("> .filmstrip-prev",d),action:(c.getValue()<=0)?"add":"remove",cssClass:"disabled"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","Tween",function(d,c,b){if(dojo.getComputedStyle(a[c.getValue()].parentNode).position!="static"){return{x:(-1*a[c.getValue()].offsetLeft),y:(-1*a[c.getValue()].offsetTop),element:mojo.query("> .filmstrip-viewer > .filmstrip-content",d),duration:b.getValue("duration")}}else{return{element:[]}}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(c,b){return{element:a,action:"remove",cssClass:"selected"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(c,b){return{element:a[b.getValue()],action:"add",cssClass:"selected"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","PublishMessage",function(d,c,b){return{topic:"/filmstrip/indexChanged",message:{context:d,selectedIndex:b.getValue("selectedIndex")}}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Tween","stdlib.behavior.TweenBehavior");this.addCommand("PublishMessage","stdlib.behavior.MessagingBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.GoogleSearchBarController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.GoogleSearchBarController",mojo.controller.Controller,{addObservers:function(){this.addObserver("form","onsubmit","PreventDefault")},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior")},addIntercepts:function(){this.addIntercept("around","PreventDefault","BlockProceed",function(c,b,a){var d=mojo.queryFirst("#google-search-input").value;if(!d||!d.trim()){return{condition:true}}})}});dojo.provide("cox.controller.HoverController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.HoverController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this.getContextElement(),"onmouseover","UpdateClass",function(b,a){return{element:a,action:"add",cssClass:"hover"}});this.addObserver(this.getContextElement(),"onmouseout","UpdateClass",function(b,a){return{element:a,action:"remove",cssClass:"hover"}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.HoverLayerController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.HoverLayerController",mojo.controller.Controller,{params:{x_offset:{required:false,defaultValue:0,type:Number},y_offset:{required:false,defaultValue:0,type:Number},delay:{required:false,defaultValue:1000,type:Number}},addObservers:function(){var d=mojo.queryFirst("#hover-layer");if(!d){d=new Element("div",{"class":"store-hover",id:"hover-layer"});d.innerHTML+='<div class="bd"></div><div class="ft"></div>';document.body.appendChild(d)}var b;var c;var a;this.addObserver(mojo.query(".call-hover-layer",this.getContextElement()),"onmouseover","HoverLayer",function(g,f,e){var h=f;for(var l=h;l.tagName!="HTML";l=l.parentNode){if(dojo.hasClass(l,"hover-box")){b=l}}if(c==b&&dojo.hasClass(d,"show-hover")){a=false}else{c=b;a=true}return{show:true,element:c,hoverContainer:d,xOffset:e.getValue("x_offset"),yOffset:e.getValue("y_offset"),delay:e.getValue("delay"),newHover:a}});this.addObserver(mojo.query(".call-hover-layer",this.getContextElement()),"onmouseout","HoverLayer",function(g,f,e){return{hide:true,hoverContainer:d,delay:e.getValue("delay")}});this.addObserver(d,"onmouseover","HoverLayer",function(g,f,e){clearTimeout(window.hoverTimeout)});this.addObserver(d,"onmouseout","HoverLayer",function(g,f,e){return{hide:true,hoverContainer:d,delay:e.getValue("delay")}})},addCommands:function(){this.addCommand("HoverLayer","cox.behavior.HoverLayerBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.InputLabelController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.InputLabelController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","SetInputLabel",function(){var a=(mojo.queryFirst("label[id$='-label']",this.getContextElement()).innerText||mojo.queryFirst("label[id$='-label']",this.getContextElement()).textContent);return{input:mojo.queryFirst("input[id$='-input']",this.getContextElement()),label:a,show:true}});this.addObserver("input[id$='-input']","onfocus","SetInputLabel",function(b,a){var c=(mojo.queryFirst("label[id$='-label']",this.getContextElement()).innerText||mojo.queryFirst("label[id$='-label']",this.getContextElement()).textContent);return{input:a,label:c,show:false}});this.addObserver("input[id$='-input']","onblur","SetInputLabel",function(b,a){var c=(mojo.queryFirst("label[id$='-label']",this.getContextElement()).innerText||mojo.queryFirst("label[id$='-label']",this.getContextElement()).textContent);return{input:a,label:c,show:true}})},addCommands:function(){this.addCommand("SetInputLabel","cox.behavior.interface.form.SetInputLabelBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.KanaSearchController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.KanaSearchController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query("form#support-search"),"onsubmit","PreventDefaultSearch")},addCommands:function(){this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("PreventDefaultSearch","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){this.addIntercept("around","PreventDefaultSearch","BlockProceed",function(d,c,b){var e=dojo.trim(mojo.queryFirst("#search-all-keyword-label").innerHTML);var a=dojo.trim(mojo.queryFirst("#search-all-keyword-input").value);if(a==e||!a){return{condition:true}}})}});dojo.provide("cox.controller.MapInfoBoxController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.MapInfoBoxController",mojo.controller.Controller,{params:{map:{defaultValue:null}},addObservers:function(){this.addObserver("form.get-directions-from-form","onsubmit","PreventDefault");this.addObserver("form.get-directions-from-form","onsubmit","Messaging",function(e,d,a){mojo.Messaging.publish("switchMapDirections","enable");var f=mojo.queryFirst("#directions-form");var g=mojo.queryFirst("#map-container form.get-directions-from-form");f["map-address-input"].value=mojo.queryFirst("#map-container .maps-marker-info .address").innerHTML.replace(/<br[^>]*>/gi,",");var b=mojo.queryFirst("input",g);var c=mojo.queryFirst("label[for='"+b.id+"']",g);f["map-end-address-input"].value=(c&&(c.childNodes[0].textContent==b.value))?"":b.value;a.getValue("map").closeInfoWindow();return{topic:"getMapDirections"}});this.addObserver("form.get-directions-to-form","onsubmit","PreventDefault");this.addObserver("form.get-directions-to-form","onsubmit","Messaging",function(e,d,a){mojo.Messaging.publish("switchMapDirections","enable");var f=mojo.queryFirst("#directions-form");var g=mojo.queryFirst("#map-container form.get-directions-to-form");var b=mojo.queryFirst("input",g);var c=mojo.queryFirst("label[for='"+b.id+"']",g);f["map-address-input"].value=(c&&(c.childNodes[0].textContent==b.value))?"":b.value;f["map-end-address-input"].value=mojo.queryFirst("#map-container .maps-marker-info .address").innerHTML.replace(/<br[^>]*>/gi,",");a.getValue("map").closeInfoWindow();return{topic:"getMapDirections"}});this.addObserver("form","onsubmit","ValidateForm",function(c,b,a){return{form:mojo.queryFirst("#directions-form")}});this.addObserver(".get-directions-links a","onclick","PreventDefault");this.addObserver(".get-directions-links a","onclick","UpdateClass",function(e,d,b){var c=/get-directions-\w*-/;var f=dojo.map(d.className.split(" "),function(g){return c.exec(g)[0]}).join("");var a=mojo.query(".active",e).length?"":"[class^='"+f+"']";return{element:mojo.query(".get-directions-links a"+a+", form"+a,e),action:"toggle",cssClass:"active"}})},addCommands:function(){this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("ValidateForm","cox.behavior.interface.form.ValidateFormBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.MessageCountsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.MessageCountsController",mojo.controller.Controller,{params:{showNew:{required:false,defaultValue:false,type:Boolean}},addObservers:function(){this.addObserver(this,"onInit","LoadMessages",function(b,a){var c=(typeof(messageCountsUrl)!="undefined")?messageCountsUrl:"/myconnection/messagecount.mapajax";var d=this.getController().getValue("showNew");if(this.getController().getValue("showNew")){return{href:c,append:" New",replace:{".count-email .total":"email",".count-voicemail .total":"voicemail"}}}else{return{href:c,replace:{"#count-tv .total":"tv","#count-email .total":"email","#count-voicemail .total":"voicemail","#count-appointment .total":"appointment"}}}})},addCommands:function(){this.addCommand("LoadMessages","cox.behavior.LoadContentBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ModalController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ModalController",mojo.controller.Controller,{params:{modalWidth:{required:false,defaultValue:564,type:Number},modalHeight:{required:false,defaultValue:-1,type:Number}},addObservers:function(){this.addObserver(this.getContextElement(),"onclick","PreventDefault");this.addObserver(this,"onInit","UpdateClass",function(d,c){if(dojo.hasClass(d,"auto-launch")){var a=dojo.attr(d,"data-modal-width")!=null?dojo.attr(d,"data-modal-width"):this.getController().getValue("modalWidth");var b=dojo.attr(d,"data-modal-height")!=null?dojo.attr(d,"data-modal-height"):this.getController().getValue("modalHeight");mojo.Messaging.publish("dialog",{enabled:true,href:d.href,title:d.title,width:a,height:b})}});this.addObserver(this.getContextElement(),"onclick","UpdateClass",function(d,c){var a=dojo.attr(c,"data-modal-width")!=null?dojo.attr(c,"data-modal-width"):this.getController().getValue("modalWidth");var b=dojo.attr(c,"data-modal-height")!=null?dojo.attr(c,"data-modal-height"):this.getController().getValue("modalHeight");mojo.Messaging.publish("dialog",{enabled:true,href:c.href,title:c.title,width:a,height:b})});this.addObserver(this,"onInit","Track",function(d,c){if(dojo.hasClass(d,"auto-launch")){var a=__coxOmnitureParams?__coxOmnitureParams.pageName+":":"";var f=__coxOmnitureParams?__coxOmnitureParams.hier1+",":"";var e=__coxOmnitureParams?__coxOmnitureParams.hier2+",":"";var b=__coxOmnitureParams?__coxOmnitureParams.localeName+":":"";var g=d.title.toLowerCase();if(g){return{mode:"track",params:{type:"pageview",clearVariables:"true",options:{pageName:a+g,hier1:f+g,hier2:e+g,localePagename:b+a+g}}}}}});this.addObserver(this.getContextElement(),"onclick","Track",function(d,c){var a=__coxOmnitureParams?__coxOmnitureParams.pageName+":":"";var f=__coxOmnitureParams?__coxOmnitureParams.hier1+",":"";var e=__coxOmnitureParams?__coxOmnitureParams.hier2+",":"";var b=__coxOmnitureParams?__coxOmnitureParams.localeName+":":"";var g=c.title.toLowerCase();if(g){return{mode:"track",params:{type:"pageview",clearVariables:"true",options:{pageName:a+g,hier1:f+g,hier2:e+g,localePagename:b+a+g}}}}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.MultiToggleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.MultiToggleController",mojo.controller.Controller,{params:{},addObservers:function(){var a=mojo.query(".toggle",this.getContextElement());this.addObserver(mojo.Messaging.getTopic("/toggle/changed"),"onPublish","UpdateClass",function(e,c){var f=mojo.Model.get("toggle")||[];var b=true;for(var d=0;d<a.length;d++){if(f.indexOf(a[d].id)==-1){b=false}}return{element:this.getController().getContextElement(),action:b?"add":"remove",cssClass:"multitoggle-open"}});this.addObserver(".multitoggle-button, .multitoggle-button-partial","onclick","PreventDefault");this.addObserver(".multitoggle-button, .multitoggle-button-partial","onclick","Messaging",function(){var d=dojo.clone(mojo.Model.get("toggle"))||[];var b=true;for(var c=0;c<a.length;c++){if(d.indexOf(a[c].id)==-1){b=false}}for(var c=a.length-1;c>=0;c--){if(b){d.splice(d.indexOf(a[c].id),1)}else{if(d.indexOf(a[c].id)==-1){d.push(a[c].id)}}}return{topic:"/toggle/force",message:{toggle:d}}})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.PopupController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.PopupController",mojo.controller.Controller,{params:{action:{required:false,defaultValue:"onclick",type:String},windowName:{required:false,defaultValue:"COXPOP",type:String},windowWidth:{required:false,defaultValue:"985",type:String},windowHeight:{required:false,defaultValue:"500",type:String},windowProps:{required:false,defaultValue:{status:1,scrollbars:1,resizable:1,toolbar:1},type:Object}},addObservers:function(){var a=this.getValue("action");this.addObserver(this.getContextElement(),a,"PreventDefault");this.addObserver(this.getContextElement(),a,"PopupWindow",function(b,c,l){var n=l.getValue("windowProps");var m=[];var d=c.rel.split(",");var h=d[0];var g=d[1];var e=(h)?h:l.getValue("windowWidth");var f=(g)?g:l.getValue("windowHeight");for(var o in n){m.push(o+"="+n[o])}return{url:c.href,windowName:l.getValue("windowName"),windowProps:"width="+e+",height="+f+","+m.join(",")}})},addCommands:function(){this.addCommand("PopupWindow","cox.behavior.PopupWindowBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ProductOverviewController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ProductOverviewController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.Messaging.getTopic("/metrics/callForInfo"),"onPublish","Set",function(b,a){var c=mojo.queryFirst("#business-title-text");if(!c){return{}}else{c=c.innerHTML.toLowerCase();return{mode:"set",params:{eventName:"productView",products:";"+c,productName:c}}}})},addCommands:function(){this.addCommand("Set","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.ScrollController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ScrollController",mojo.controller.Controller,{params:{stepHeight:{defaultValue:50,type:Number},repeatRate:{defaultValue:200,type:Number}},addObservers:function(){this.addObserver(".scroll-button","onmousedown","Scroll",function(c,b,a){return{amount:a.getValue("stepHeight"),repeatRate:a.getValue("repeatRate"),hold:true,victim:mojo.query(".scroll-list",c)[0],caller:b}});this.addObserver(".scroll-button","onmouseup","Scroll",function(c,b,a){return{amount:0,hold:true,victim:mojo.query(".scroll-list",c)[0],caller:b}});this.addObserver(".scroll-button","onclick","Scroll",function(c,b,a){return{amount:a.getValue("stepHeight"),victim:mojo.query(".scroll-list",c)[0],caller:b}});this.addObserver(mojo.Messaging.getTopic("/toggle/changeCompleted"),"onPublish","Scroll",function(c,b,a){return{amount:0,victim:mojo.query(".scroll-list",c)[0]}});this.addObserver(".scroll-button","onselectstart","PreventDefault");this.addObserver(".scroll-button","onmousedown","PreventDefault")},addCommands:function(){this.addCommand("Scroll","cox.behavior.ScrollBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.SearchResultsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.SearchResultsController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","InitSearchHeader",function(){var a=mojo.queryFirst("#search-categories a");return{countURL:a?a.href:null}});this.addObserver(mojo.query("#categories ul li a"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{contextualFlag:"contextual search"}}}});this.addObserver(mojo.query("#residential-search-content #results a"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{eventName:"searchResultClicked"}}}});this.addObserver(mojo.query("#search-recommendations a"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{eventName:"searchRecommendationClicked"}}}})},addCommands:function(){this.addCommand("InitSearchHeader","cox.behavior.InitSearchHeader");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.SelectiveRuleCheckController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.SelectiveRuleCheckController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".rule_select","onclick","SelectiveRuleCheck",function(c,b,a){return{caller:b,context:c,elementEvent:"onclick"}});this.addObserver(mojo.Messaging.getTopic("/toggleCSSClassTopic"),"onPublish","UpdateClass",function(b,a){var c=a.getMessage();return{element:c.elements,action:c.action,cssClass:c.applyStyle}});this.addObserver(".toggle-req-class-check","onclick","EnableDisableRequired",function(c,b,a){return{element:b,context:c,elementEvent:"onclick"}})},addCommands:function(){this.addCommand("SelectiveRuleCheck","cox.behavior.SelectiveRuleCheckBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("EnableDisableRequired","cox.behavior.EnableDisableRequiredBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.SessionVarController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.SessionVarController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","InitSessionVar",function(b,a){return{elm:mojo.queryFirst("#content")}})},addCommands:function(){this.addCommand("InitSessionVar","cox.behavior.InitSessionVarBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ShoppingAssistantController");dojo.require("mojo.controller.Controller");var displayingLogin=false;dojo.declare("cox.controller.ShoppingAssistantController",mojo.controller.Controller,{params:{displayBlockSelectors:{defaultValue:[],type:Array},displayNoneSelectors:{defaultValue:[],type:Array}},addObservers:function(){this.addObserver(mojo.queryFirst(".sign-in-link"),"onclick","PreventDefault");this.addObserver(mojo.queryFirst(".sign-in-link"),"onclick","SwapElementDisplay",function(c,b,a){var d=["#loginTypeDiv","#imNotACoxCustomer","#refreshOffersDivPinIdm"];var e=["#imACoxCustomer","#getSpecialOffersText","#addressDisplay","#currentServicesDiv","#refreshOffersDiv"];d.push("#coxPinDiv","#editAddressDiv");e.push("#userNamePasswordDiv","#getSpecialOffersText");a.setValue("displayBlockSelectors",d);a.setValue("displayNoneSelectors",e)});this.addObserver(mojo.queryFirst(".sign-out-link"),"onclick","PreventDefault");this.addObserver(mojo.queryFirst(".sign-out-link"),"onclick","SwapElementDisplay",function(c,b,a){displayingLogin=false;a.setValue("displayBlockSelectors",["#editAddressDiv","#refreshOffersDiv","#imACoxCustomer","#getSpecialOffersText"]);a.setValue("displayNoneSelectors",["#loginTypeDiv","#refreshOffersDivPinIdm","#coxPinDiv","#imNotACoxCustomer","#userNamePasswordDiv","#addressDisplay","#currentServicesDiv"])});this.addObserver(mojo.queryFirst(".edit-address-link"),"onclick","PreventDefault");this.addObserver(mojo.queryFirst(".edit-address-link"),"onclick","SwapElementDisplay",function(c,b,a){a.setValue("displayBlockSelectors",["#editAddressDiv","#refreshOffersDiv","#imACoxCustomer"]);a.setValue("displayNoneSelectors",["#addressDisplay","#currentServicesDiv"])});this.addObserver(mojo.queryFirst(".shoppingAssistantForm"),"onsubmit","PreventDefault");this.addObserver(this.getCommand("ValidateRules"),"onResponse","Submit",function(b,a){return{formSet:mojo.queryFirst(".shoppingAssistantForm")}});this.addObserver(this.getCommand("ValidateRules"),"execute","UpdateCss",function(){var a=mojo.queryFirst("#shoppingassistant-form-errors .mojoValidationError");if(a){a.scrollIntoView()}})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("SwapElementDisplay","cox.behavior.SwapElementDisplay");this.addCommand("UpdateCss","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Submit","stdlib.behavior.SubmitFormBehavior");this.addCommand("ValidateRules","stdlib.command.ValidateRulesCommand");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior")},addIntercepts:function(){this.addIntercept("before","BlockProceed","ValidateRules",{targetElement:mojo.queryFirst("#shoppingassistant-form-errors"),rules:"cox.rules.residential.ShoppingAssistantRules",formSet:mojo.queryFirst(".shoppingAssistantForm")});this.addIntercept("around","PreventDefault","BlockProceed",function(){var a=mojo.queryFirst("#shoppingassistant-form-errors .mojoValidationError");return{condition:!!a}})}});function signMeInWithPin(){displayingLogin=true;document.getElementById("imNotACoxCustomer").style.display="block";document.getElementById("imACoxCustomer").style.display="none";document.getElementById("addressDisplay").style.display="none";document.getElementById("currentServicesDiv").style.display="none";document.getElementById("editAddressDiv").style.display="block";document.getElementById("coxPinDiv").style.display="block";document.getElementById("refreshOffersDiv").style.display="none";document.getElementById("refreshOffersDivPinIdm").style.display="block"}function signMeInNoPin(){displayingLogin=true;document.getElementById("imNotACoxCustomer").style.display="none";document.getElementById("imACoxCustomer").style.display="block";document.getElementById("addressDisplay").style.display="none";document.getElementById("currentServicesDiv").style.display="none";document.getElementById("editAddressDiv").style.display="block";document.getElementById("coxPinDiv").style.display="none";document.getElementById("refreshOffersDiv").style.display="block";document.getElementById("refreshOffersDivPinIdm").style.display="none"}function changeLoginType(){if(document.getElementById("login-type").selectedIndex==0){document.getElementById("coxPinDiv").style.display="block";document.getElementById("editAddressDiv").style.display="block";document.getElementById("userNamePasswordDiv").style.display="none"}else{document.getElementById("coxPinDiv").style.display="none";document.getElementById("editAddressDiv").style.display="none";document.getElementById("userNamePasswordDiv").style.display="block"}}function cancelLogin(){displayingLogin=false;document.getElementById("coxPinDiv").style.display="none";document.getElementById("imNotACoxCustomer").style.display="none";document.getElementById("imACoxCustomer").style.display="block";document.getElementById("userNamePasswordDiv").style.display="none";document.getElementById("editAddressDiv").style.display="block";document.getElementById("addressDisplay").style.display="none";document.getElementById("currentServicesDiv").style.display="none";document.getElementById("refreshOffersDiv").style.display="block";document.getElementById("refreshOffersDivPinIdm").style.display="none"}dojo.provide("cox.controller.SoleSurvivorController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.SoleSurvivorController",mojo.controller.Controller,{params:{},addObservers:function(){var b=document.location.hash;var a=/---ALONE$/i;var c=a.test(b);if(c){this.addObserver(this,"onInit","UpdateClass",function(f,e,d){b=b.replace(a,"").replace(/^#/,"");var g=mojo.queryFirst("div[id="+b+"]");if(!g){return}if(g.outerHTML){f.innerHTML=g.outerHTML}else{f.innerHTML="";f.appendChild(g)}if(f.outerHTML){document.body.innerHTML=f.outerHTML}else{document.body.innerHTML="";document.body.appendChild(f)}dojo.style(document.body,"background","none");mojo.query(".return-to-top").style("display","none");g=mojo.queryFirst("div[id="+b+"]");dojo.style(g,"fontSize","12px");dojo.style(g,"border","none");dojo.style(g,"padding","0 5px 0 0");document.documentElement.scrollTop=0})}},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.SplashController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.SplashController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","Focus",function(b,a){return{target:mojo.queryFirst("input[name='zipcode']")}});this.addObserver(mojo.Messaging.getTopic("/metrics/callForInfo"),"onPublish","Set",function(b,a){var d=mojo.queryFirst(".server-error");var c;if(d){c="splashlocation:error:zipcode"}else{c=null}return{mode:"set",params:{formName:c}}});this.addObserver("#splash-location-zipcode-form","onsubmit","Track",function(d,c){var e=mojo.queryFirst("#splash-zipcode");var a=mojo.queryFirst("#splash-state");var b;if(!e.value){b="splashlocation:success:state"}else{b="splashlocation:success:zipcode"}return{mode:"track",params:{type:"event",options:{formName:b}}}})},addCommands:function(){this.addCommand("Set","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("SubmitForm","cox.behavior.interface.form.SubmitFormBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Redirect","stdlib.behavior.RedirectBehavior");this.addCommand("Focus","cox.behavior.FocusBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.SplashLocationController");dojo.require("cox.controller.LocationController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.SplashLocationController",cox.controller.LocationController,{params:{isOpen:{defaultValue:false,type:Boolean},queryString:{defaultValue:"",type:String}},addObservers:function(){this.addObserver(mojo.query(".splash-tooltip"),"onmousemove","UpdateClass",function(b,a){return{element:a,action:"add",cssClass:"active-hover"}});this.addObserver(mojo.query(".splash-tooltip"),"onmouseleave","UpdateClass",function(b,a){return{element:a,action:"remove",cssClass:"active-hover"}});this.addObserver(mojo.query(".location-record-hd"),"onclick","PopUp",function(b,a){return{element:a,show:true}});this.addObserver(mojo.query(".location-record-hd"),"onclick","UpdateForm");this.addObserver(mojo.query(".location-record-close-button"),"onclick","PopUp",function(b,a){return{element:a,show:false}});this.addObserver(mojo.query(".location-record-bd a"),"onclick","PreventDefault");this.addObserver(mojo.query(".location-record-bd a"),"onclick","SetChecked",function(c,b){var a;if(dojo.hasClass(b,"btn-for-residential")){a=mojo.queryFirst("#radio-residential")}else{a=mojo.queryFirst("#radio-business")}return{target:a}});this.addObserver(this.getCommand("SetChecked"),"execute","DisableBox",function(b,a){return{show:true,target:mojo.queryFirst("#splash-location")}});this.addObserver(this.getCommand("DisableBox"),"execute","SubmitForm",function(b,a){return{formSet:mojo.queryFirst("#splash-location-zipcode-form"),delay:750}});this.addObserver(this.getCommand("UpdateForm"),"execute","AutoSubmitForm",function(b,a){return{formSet:mojo.queryFirst("#splash-location-zipcode-form"),delay:750}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand");this.addCommand("PopUp","cox.behavior.splash.PopUpBehavior");this.addCommand("SubmitForm","cox.behavior.interface.form.SubmitFormBehavior");this.addCommand("AutoSubmitForm","cox.behavior.interface.form.SubmitFormBehavior");this.addCommand("UpdateForm","cox.behavior.splash.UpdateFormBehavior");this.addCommand("SetChecked","cox.behavior.interface.form.SetCheckedBehavior");this.addCommand("Redirect","stdlib.behavior.RedirectBehavior");this.addCommand("DisableBox","cox.behavior.DisableBoxBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior")},addIntercepts:function(){this.addIntercept("around","AutoSubmitForm","BlockProceed",function(){return{condition:__coxOmnitureParams.sectionName=="intercept"}})}});dojo.provide("cox.controller.SplashTabController");dojo.require("mojo.controller.Controller");dojo.require("stdlib.controller.TabController");dojo.declare("cox.controller.SplashTabController",stdlib.controller.TabController,{addObservers:function(){this.addObserver(".tab","onclick","Fade",function(b,a){return{element:mojo.queryFirst(".tabs-content",b),mode:"fadeIn"}})},addCommands:function(){this.addCommand("Fade","cox.behavior.FadeBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.SupportController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.SupportController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query("#support #search-results h3 a"),"onclick","Track",function(){return{mode:"track",params:{type:"event",options:{eventName:"searchResultClicked"}}}});this.addObserver("form#support-feedback","onsubmit","PreventDefaultFeedback");this.addObserver("a.print","onclick","PreventDefault");this.addObserver(mojo.query("form#set-rating a"),"onmouseover","UpdateClass",function(c,b){var a=mojo.queryFirst("form#set-rating .rating-text");a.innerHTML=b.title});this.addObserver(mojo.query("form#set-rating a"),"onmouseout","UpdateClass",function(c,b){var a=mojo.queryFirst("form#set-rating .rating-text");a.innerHTML=""});this.addObserver("form#set-rating a","onclick","PreventDefault");this.addObserver("form#set-rating a","onclick","UpdateClass",function(e,d,b){var a=mojo.queryFirst("form#set-rating");var c=d.innerHTML;var f=mojo.query("input[name='articleId']",a)[0].value;a.innerHTML="<span class='rating rating-"+c+"'></span><span>Thank you for rating this article.</span>";dojo.xhrGet({url:a.action+"?rating="+c+"&articleId="+f,handleAs:"text",timeout:10000})});this.addObserver("form#narrow-search-form select","onchange","UpdateClass",function(d,b){var c=mojo.queryFirst("form#support-search");var a=mojo.queryFirst("input[name='filter']",c);a.value=b.value;c.submit()});this.addObserver(".guidedsolutionradio","onclick","UpdateClass",function(b,a){dojo.query(".guidedsolutionradio").forEach(function(c){dojo.removeClass(c,"selected")});dojo.addClass(a,"selected");mojo.queryFirst("input",a).checked=true});this.addObserver(".ghNavBottom a","onclick","PreventDefault");this.addObserver(".ghNavBottom a","onclick","AjaxBehavior",function(b,a){var c=false;var d="";var e="";dojo.query("input[type=radio]",b).forEach(function(f){if(f.checked){c=true;d=(a.search)?"&":"?";e=f.name+"="+f.value}});if(c||dojo.hasClass(a,"ghBack")){return{responseContainer:mojo.queryFirst(".response",b),loadingWrapperId:mojo.queryFirst(".loading-wrapper",b).id,activeLink:a.href+d+e}}})},addCommands:function(){this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("PreventDefaultFeedback","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("AjaxBehavior","cox.behavior.interface.AjaxBehavior")},addIntercepts:function(){this.addIntercept("around","PreventDefaultFeedback","BlockProceed",function(e,d,b){var a=mojo.queryFirst("#article-feedback-input").value.trim();var g=mojo.queryFirst("#article-feedback-label").innerHTML.trim();if(a!=g&&a!=""){var f=mojo.queryFirst("form#support-feedback .form-submit");f.innerHTML="<span class='feedback-confirm'>Thank you for taking the time to submit your comments. We use your valuable feedback to continue improving our site.</span>";dojo.xhrPost({url:d.action,form:d,handleAs:"text",timeout:10000});var c=mojo.queryFirst("#article-feedback-input");c.disabled=true}return{condition:true}})}});dojo.provide("cox.controller.TextFieldDefaultController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.TextFieldDefaultController",mojo.controller.Controller,{addObservers:function(){var a=this.getContextElement();var b=a.value;this.addObserver(this.getContextElement(),"onfocus","UpdateClass",function(d,c){if(a.value==b){a.value=""}});this.addObserver(this.getContextElement(),"onblur","UpdateClass",function(d,c){if(a.value==""){a.value=b}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.TextareaLabelController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.TextareaLabelController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","SetTextareaLabel",function(){var a=(mojo.queryFirst("label[id$='-label']",this.getContextElement()).innerText||mojo.queryFirst("label[id$='-label']",this.getContextElement()).textContent);return{input:mojo.queryFirst("textarea[id$='-input']",this.getContextElement()),label:a,show:true}});this.addObserver("textarea[id$='-input']","onfocus","SetTextareaLabel",function(b,a){var c=(mojo.queryFirst("label[id$='-label']",this.getContextElement()).innerText||mojo.queryFirst("label[id$='-label']",this.getContextElement()).textContent);return{input:a,label:c,show:false}});this.addObserver("textarea[id$='-input']","onblur","SetTextareaLabel",function(b,a){var c=(mojo.queryFirst("label[id$='-label']",this.getContextElement()).innerText||mojo.queryFirst("label[id$='-label']",this.getContextElement()).textContent);return{input:a,label:c,show:true}})},addCommands:function(){this.addCommand("SetTextareaLabel","cox.behavior.interface.form.SetInputLabelBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ToggleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ToggleController",mojo.controller.Controller,{params:{isOpen:{defaultValue:false,type:Boolean},isOpenOriginal:{defaultValue:false,type:Boolean},isAnimating:{defaultValue:false,type:Boolean},activeOn:{defaultValue:"onclick",type:String},duration:{defaultValue:400,type:Number}},addObservers:function(){this.addObserver(this,"onInit","InitToggle",function(){return{id:this.getContextElement().id,element:mojo.queryFirst(".toggle-element",this.getContextElement()),controller:this.getController()}});this.addObserver(".toggle-button",this.getValue("activeOn"),"PreventDefault");this.addObserver(".toggle-button",this.getValue("activeOn"),"Tween",function(){var a=mojo.queryFirst(".toggle-wrapper",this.getContextElement());return{element:a,height:this.getController().getValue("isOpen")?0:a.scrollHeight,duration:this.getController().getValue("duration")}});this.addObserver(".toggle-button",this.getValue("activeOn"),"PublishMessage",function(){var a=mojo.queryFirst(".toggle-wrapper",this.getContextElement());return{topic:"/toggle/userActivated",message:{context:this.getContextElement(),isOpen:this.getController().getValue("isOpen")}}});this.addObserver(mojo.Messaging.getTopic("/toggle/force"),"onPublish","ForceTween",function(){var a=mojo.queryFirst(".toggle-wrapper",this.getContextElement());return{element:a,height:this.getController().getValue("isOpen")?0:a.scrollHeight,duration:this.getController().getValue("duration")}});this.addObserver(this.getCommand("Tween"),"onComplete","UpdateControllerParam",function(c,b,a){return{control:this.getController().declaredClass,params:"isAnimating",value:false,element:c}});this.addObserver(this.getCommand("ForceTween"),"onComplete","UpdateControllerParam",function(c,b,a){return{control:this.getController().declaredClass,params:"isAnimating",value:false,element:c}});this.addObserver(this.getConfig("params").isOpen,"onChange","UpdateClass",function(){return{element:this.getController().getContextElement(),action:this.getController().getValue("isOpen")?"add":"remove",cssClass:"toggle-open"}});this.addObserver(this.getConfig("params").isOpen,"onChange","UpdateFormField",function(b,a){var c=mojo.queryFirst(".toggle-form-field input",b);if(!c){return}return{formObj:b,fields:[{name:c.name,value:this.getController().getValue("isOpen")?"true":"false"}]}});this.addObserver(this.getConfig("params").isOpen,"onChange","SetModel",function(){var b=this.getController();var d=b.getValue("isOpen");var e=this.getContextElement().id;var a=(dojo.clone(mojo.Model.get("toggle"))||[]);var c=a.indexOf(e);if(a.indexOf(e)!=-1){a.splice(c,1)}if(d!=b.getValue("isOpenOriginal")){a.push(e)}return{model:"toggle",set:a}});this.addObserver(this.getCommand("BlockProceed"),"onBeforeProceed","UpdateControllerParam",function(c,b,a){return{control:this.getController().declaredClass,params:"isAnimating",value:true,element:c}});this.addObserver(this.getCommand("BlockProceed"),"onAfterProceed","UpdateControllerParam",function(c,b,a){return{control:this.getController().declaredClass,params:"isOpen",value:!this.getController().getValue("isOpen"),element:c}});this.addObserver(this.getConfig("params").isOpen,"onChange","PublishMessage",function(){return{topic:"/toggle/changed",message:{context:this.getContextElement(),isOpen:this.getController().getValue("isOpen")}}});this.addObserver(this.getCommand("Tween"),"onComplete","PublishMessage",function(){return{topic:"/toggle/changeCompleted",message:{context:this.getContextElement(),isOpen:this.getController().getValue("isOpen")}}});this.addObserver(this.getCommand("ForceTween"),"onComplete","PublishMessage",function(){return{topic:"/toggle/forcedChangeCompleted",message:{context:this.getContextElement(),isOpen:this.getController().getValue("isOpen")}}});this.addObserver("#feature-header-text",this.getValue("activeOn"),"Tween",function(){var a=mojo.queryFirst(".toggle-wrapper",this.getContextElement());return{element:a,height:this.getController().getValue("isOpen")?0:a.scrollHeight,duration:this.getController().getValue("duration")}});this.addObserver("#feature-header-text",this.getValue("activeOn"),"PreventDefault")},addCommands:function(){this.addCommand("InitToggle","cox.behavior.InitToggleBehavior");this.addCommand("Tween","stdlib.behavior.TweenBehavior");this.addCommand("ForceTween","stdlib.behavior.TweenBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand");this.addCommand("PublishMessage","stdlib.behavior.MessagingBehavior");this.addCommand("SetModel","stdlib.command.SetModelCommand");this.addCommand("UpdateFormField","stdlib.behavior.UpdateFormFieldBehavior")},addIntercepts:function(){this.addIntercept("around","Tween","BlockProceed",function(){return{condition:!this.getController().getValue("isAnimating")}});this.addIntercept("around","ForceTween","BlockProceed",function(c,b,a){var d=false;if(c.id){d=(b.getMessage().toggle.indexOf(c.id)>-1)!=(a.getValue("isOpenOriginal")!=a.getValue("isOpen"))}return{condition:!this.getController().getValue("isAnimating")&&d}})}});dojo.provide("cox.controller.ToggleDivController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ToggleDivController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".showhide-trigger","onclick","PreventDefault");this.addObserver(".showhide-trigger","onchange","ShowHideElements",function(d,b,a){var c=b;return{element:c,elementEvent:"onchange"}});this.addObserver(".showhide-radio","onclick","ShowHideElements",function(d,b,a){var c=b;return{element:c,elementEvent:"onclick"}});this.addObserver(".showhide-trigger","onclick","ShowHideElements",function(d,b,a){var c=b;return{element:c,elementEvent:"onclick"}});this.addObserver(".checkSelected","onclick","ShowHideElements",function(d,b,a){var c=b;return{element:c,elementEvent:"onclick"}});this.addObserver(mojo.Messaging.getTopic("/toggleCSSTopic"),"onPublish","UpdateClass",function(b,a){var c=a.getMessage();return{element:c.elements,action:c.action,cssClass:c.applyStyle}})},addCommands:function(){this.addCommand("ShowHideElements","cox.behavior.ShowHideElementsBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ToggleFilmStripController");dojo.require("stdlib.controller.FilmStripController");dojo.declare("cox.controller.ToggleFilmStripController",stdlib.controller.FilmStripController,{params:{isToggled:{defaultValue:false,type:Boolean}},addObservers:function(){var d=mojo.query(".filmstrip-item",this.getContextElement());this.addObserver(d,"onmouseleave","UpdateCss",function(){return{element:d,action:"remove",cssClass:"active"}});this.addObserver(d,"onmouseenter","UpdateCss",function(f,e){return{element:e,action:"add",cssClass:"active"}});this.addObserver(d,"onclick","Redirect",function(f,e){var g=mojo.queryFirst("a",e);return{url:g.href,delay:0}});var b=mojo.queryFirst(".filmstrip-next",this.getContextElement());var c=mojo.queryFirst(".filmstrip-prev",this.getContextElement());this.addObserver(this.getContextElement(),"onmouseover","UpdateClass",function(g,f){var e=this.getController().getValue("isToggled");if(dojo.hasClass(b,"disabled")||e){return}return{element:b,action:"remove",cssClass:"filmstrip-next-disabled"}});this.addObserver(this.getContextElement(),"onmouseover","UpdateClass",function(g,f){var e=this.getController().getValue("isToggled");if(dojo.hasClass(c,"disabled")||e){return}return{element:c,action:"remove",cssClass:"filmstrip-prev-disabled"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","PublishMessage",function(g,f,e){return{topic:"/togglefilmstrip/indexChanged",message:{context:g,selectedIndex:e.getValue("selectedIndex")}}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(h,g){var f=mojo.query("> .filmstrip-viewer > .filmstrip-content > .filmstrip-page",this.getContextElement());var e=this.getController().getValue("selectedIndex");if(f.length==1){b.style.display="none";c.style.display="none"}if(e==0){return{element:c,action:"add",cssClass:"filmstrip-prev-disabled"}}else{if(e==(f.length-1)){return{element:b,action:"add",cssClass:"filmstrip-next-disabled"}}}});for(var a=this.getContextElement();a.tagName!="BODY";a=a.parentNode){if(dojo.hasClass(a,"module")){this.addObserver(mojo.queryFirst(".ft a",a),"onclick","PreventDefault");this.addObserver(mojo.queryFirst(".ft a",a),"onclick","UpdateToggledState",function(f,e){var g=this.getController().getValue("isToggled");var h;if(!g){h=true}else{h=false}return{control:this.getController().declaredClass,params:"isToggled",value:h,element:f}});break}}this.addObserver(this.getCommand("UpdateToggledState"),"execute","Warp",function(g,f){var e=this.getController().getValue("isToggled");return{element:mojo.queryFirst(".filmstrip-viewer",g),warp:!!e}});this.addObserver(this.getConfig("params").isToggled,"onChange","UpdateSelectedIndex",function(f,e){return{control:this.getController().declaredClass,params:"selectedIndex",value:0,element:f}});this.addObserver(".filmstrip-next","onmouseover","UpdateClass",function(f,e){return{element:e,action:"add",cssClass:"filmstrip-next-hover"}});this.addObserver(".filmstrip-next","onmouseout","UpdateClass",function(f,e){return{element:e,action:"remove",cssClass:"filmstrip-next-hover"}});this.addObserver(".filmstrip-prev","onmouseover","UpdateClass",function(f,e){return{element:e,action:"add",cssClass:"filmstrip-prev-hover"}});this.addObserver(".filmstrip-prev","onmouseout","UpdateClass",function(f,e){return{element:e,action:"remove",cssClass:"filmstrip-prev-hover"}})},addCommands:function(){this.addCommand("UpdateCss","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("UpdateToggledState","stdlib.command.UpdateControllerParamCommand");this.addCommand("UpdateSelectedIndex","stdlib.command.UpdateControllerParamCommand");this.addCommand("Warp","cox.behavior.business.WarpBehavior");this.addCommand("ArrowButton","cox.behavior.business.ArrowButtonBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Redirect","stdlib.behavior.RedirectBehavior");this.addCommand("PublishMessage","stdlib.behavior.MessagingBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ToolTipController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ToolTipController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this.getContextElement(),"onclick","PreventDefault");this.addObserver(mojo.query(".tooltip-link"),"onclick","Redirect",function(c,b){return{url:b.href,delay:0}});var a=function(b,d){var o=dojo.position(d);var e=mojo.queryFirst(".tooltip-info",d.parentNode);var c=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(e){e=e.innerHTML}else{e="Tooltip not available."}var l=null;var m=dojo.hasClass(d,"wide-tooltip")?".wide-tooltip":".tooltip";var h=document.styleSheets;for(var g=0;g<h.length;g++){var f=h[g].rules||h[g].cssRules;for(var n=0;n<f.length;n++){if(f[n].selectorText==m){l=parseInt(f[n].style.width.replace("px",""))}if(l!=null){break}}if(l!=null){break}}if((o.x+o.w+l+15)>c){return{show:true,info:e,offsetX:o.w-o.w-(dojo.position(d,true).w*2)-25-160,offsetY:o.h/2-35,underlayMark:".wrapper",template:'<div class="tooltip"><div class="wrapper"><div class="rightarrow">&nbsp;</div><table class="head"><tr><td class="tl"></td><td class="t">&nbsp;</td><td class="tr"></td></tr></table><table class="body"><tr><td class="l"></td><td class="c"><div class="dialog-pane-content"></div></td><td class="r"></td></tr></table>\n<table class="foot"><tr><td class="bl"></td><td class="b">&nbsp;</td><td class="br"></td></tr></table></div></div>'}}else{return{show:true,info:e,offsetX:o.w+15,offsetY:o.h/2-35,underlayMark:".wrapper",template:'<div class="tooltip"><div class="wrapper"><div class="arrow">&nbsp;</div><table class="head"><tr><td class="tl"></td><td class="t">&nbsp;</td><td class="tr"></td></tr></table><table class="body"><tr><td class="l"></td><td class="c"><div class="dialog-pane-content"></div></td><td class="r"></td></tr></table>\n<table class="foot"><tr><td class="bl"></td><td class="b">&nbsp;</td><td class="br"></td></tr></table></div></div>'}}};this.addObserver(this.getContextElement(),"onmouseover","ToolTip",function(d,c){var b=a(d,c);if(dojo.hasClass(c,"wide-tooltip")){b.template=b.template.replace(/class="/i,'class="wide-tooltip ');if(b.offsetX<0){b.offsetX-=134}}if(dojo.hasClass(c,"watch-tooltip")){b.template=b.template.replace(/class="/i,'class="watch-tooltip ');b.offsetY=-28}return b});this.addObserver(this.getContextElement(),"onmouseout","ToolTip",function(){return{show:false}});this.addObserver(mojo.queryFirst("#tooltip"),"onmouseout","ToolTip",function(){return{show:false}})},addCommands:function(){this.addCommand("ToolTip","cox.behavior.ToolTipBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Redirect","stdlib.behavior.RedirectBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.about.AboutServicesController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.about.AboutServicesController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query(".filmstrip-content .panel"),"onclick","Track",function(c,b){var a=mojo.queryFirst("h2 a",b);return{mode:"track",params:{type:"event",options:{customLink:"service:"+(a.innerHTML).toLowerCase()}}}});this.addObserver(mojo.query(".filmstrip-component .panel img",this.getContextElement()),"onmouseleave","ToolTip",function(){return{show:false}});this.addObserver(mojo.query(".filmstrip-component .panel img",this.getContextElement()),"onmouseenter","ToolTip",function(b,a){var c=mojo.queryFirst(".tooltip-info",a.parentNode.parentNode);if(c){c=c.innerHTML}else{c=""}return{show:true,info:c,offsetX:138,offsetY:0,template:this.getController()._tooltipTemplate}});this.addObserver(".filmstrip-component .filmstrip-next .target, .filmstrip-component .filmstrip-prev div","onmouseover","UpdateClass",function(b,a){return{element:a.previousSibling,action:"add",cssClass:"hover"}});this.addObserver(".filmstrip-component .filmstrip-next .target, .filmstrip-component .filmstrip-prev div","onmouseout","UpdateClass",function(b,a){return{element:a.previousSibling,action:"remove",cssClass:"hover"}});this.addObserver(this,"onInit","SetInputLabel",function(){var a=mojo.queryFirst("#about-ourstory-services #residential-services input[name='zipcode']");if(!a){return}return{input:a,label:mojo.queryFirst("label",a.parentNode),show:true}});this.addObserver(this,"onInit","SetInputLabel",function(){var a=mojo.queryFirst("#about-ourstory-services #business-services input[name='zipcode']");if(!a){return}return{input:a,label:mojo.queryFirst("label",a.parentNode),show:true}});this.addObserver("#about-ourstory-services .location input[name='zipcode']","onfocus","SetInputLabel",function(b,a){return{input:a,label:mojo.queryFirst("label",a.parentNode),show:false}});this.addObserver("#about-ourstory-services .location input[name='zipcode']","onblur","SetInputLabel",function(b,a){return{input:a,label:mojo.queryFirst("label",a.parentNode),show:true}})},addCommands:function(){this.addCommand("ToolTip","cox.behavior.ToolTipBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("SetInputLabel","cox.behavior.interface.form.SetInputLabelBehavior");this.addCommand("Set","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){},_tooltipTemplate:'<div class="aboutservices-tooltip tooltip"><div class="wrapper"><div class="arrow">&nbsp;</div><table class="head"><tr><td class="tl"></td><td class="t">&nbsp;</td><td class="tr"></div></td></tr></table><table class="body"><tr><td class="l"></td><td class="c"><div class="dialog-pane-content"></div></td><td class="r"></td></tr></table>\n<table class="foot"><tr><td class="bl"></td><td class="b">&nbsp;</td><td class="br"></td></tr></table></div></div>'});dojo.provide("cox.controller.business.AccAndAuthCodesToggleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.AccAndAuthCodesToggleController",mojo.controller.Controller,{params:{isOpen:{defaultValue:false,type:Boolean},isOpenOriginal:{defaultValue:false,type:Boolean},activeOn:{defaultValue:"onclick",type:String},duration:{defaultValue:400,type:Number}},addObservers:function(){this.addObserver(this,"onInit","InitToggle",function(){return{id:this.getContextElement().id,element:mojo.queryFirst(".toggle-element",this.getContextElement()),controller:this.getController()}});this.addObserver(".toggle-button",this.getValue("activeOn"),"PreventDefault");this.addObserver(".toggle-button",this.getValue("activeOn"),"AccAuthTween",function(c,b,a){var e=mojo.queryFirst(".toggle-wrapper",this.getContextElement());var d=false;dojo.some(c.className.split(" "),function(f){if(f.match(/toggle-open/)){d=true}});return{element:e,height:(d)?0:e.scrollHeight,duration:this.getController().getValue("duration"),context:c,caller:b}});this.addObserver(mojo.Messaging.getTopic("/toggleCSSTopic"),"onPublish","UpdateClass",function(b,a){var c=a.getMessage();return{element:c.elements,action:c.action,cssClass:c.applyStyle}})},addCommands:function(){this.addCommand("InitToggle","cox.behavior.InitToggleBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("AccAuthTween","cox.behavior.PreExpandedTweenBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.business.AccAndAuthorisationCodesController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.AccAndAuthorisationCodesController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","ToggleTableColumn",function(d,b,a){if(dojo.hasClass(d,"accAuth-mainController-Form")){var c=dojo.byId("accAuth-dirtyCheckIndicator");c.value="Clean"}var e=dojo.byId("acc-auth-search-codes");return{element:e,elementEvent:"onchange"}});this.addObserver(".accAuth-mainController-codestatus-radio","onclick","CollapseDiv",function(c,b,a){var e=mojo.query(".toggle-wrapper",c);var d=mojo.query(".accAuth-toggle",c);return{elementWrapper:e,elementToggleClass:d,caller:b,context:c}});this.addObserver(".accAuth-mainController-usecode-selectbox","onchange","ToggleTableColumn",function(d,b,a){var c=b;return{element:c,elementEvent:"onchange"}});this.addObserver(".accAuth-mainController-dirtycheck","onclick","ConfirmationPopUp",function(e,d,b){var f=dojo.byId("accAuth-dirtyCheckIndicator").value;var c=dojo.byId("dirtyCheck-warning-popup-url").value;var a=dojo.byId("search-keyword-input").value.length;if(a<2){f="Suppress Pop Up"}if(f=="Dirty"){dojo.stopEvent(this.eventObj);dojo.byId("dirtyPopUpTriggerElement").value=d.value;return{url:c,title:"Continue Without Saving?",action:f}}});this.addObserver(".accAuth-mainController-dirtycheck-anchor","onclick","ConfirmationPopUp",function(d,c,a){var e=dojo.byId("accAuth-dirtyCheckIndicator").value;var b=dojo.byId("dirtyCheck-warning-popup-url").value;if(e=="Dirty"){dojo.byId("dirtyPopUpTriggerElement").value=c.innerHTML;dojo.stopEvent(this.eventObj);return{url:b,title:"Continue Without Saving?",action:e}}});this.addObserver(".accAuth-mainController-dirtycheck-select","onchange","ConfirmationPopUp",function(d,c,a){var e=dojo.byId("accAuth-dirtyCheckIndicator").value;var b=dojo.byId("dirtyCheck-warning-popup-url").value;if(e=="Dirty"){dojo.byId("dirtyPopUpTriggerElement").value="filterBy";return{url:b,title:"Continue Without Saving?",action:e}}else{if(d.tagName=="FORM"){d.submit()}}});this.addObserver(".accAuth-mainController-codelnth","onchange","ConfirmationPopUp",function(d,c,a){var e="New Code";var b=dojo.byId("codelnth-warning-popup-url").value;return{action:e,url:b,title:"Code Length Warning",elementEvent:"onchange"}});this.addObserver(".accAuth-mainController-codelengthChanger","onclick","UpdateClass",function(f,e,b){if(e==dojo.byId("acc-auth-codelength-continue")){dojo.byId("accauth-newCode-LengthonModal").value=dojo.byId("accauth-code-length").value;var d=dojo.byId("acc-auth-search-codes");dojo.byId("accauth-sectionname").value=d.options[d.selectedIndex].value;dojo.byId("accauth-codeset-checkboxvalue").value=dojo.byId("acc-auth-check").checked;if(dojo.byId("acc-auth-use-codes").checked==true){dojo.byId("accauth-usecodes-value").value="use codes"}else{dojo.byId("accauth-usecodes-value").value="do not use codes"}}else{if(e==dojo.byId("acc-auth-codelength-cancel")){var a=dojo.byId("accAuth-codelengthonload");var c=dojo.byId("accauth-code-length");if(a!=null&&c!=null){c.value=a.value}}}});this.addObserver(".accAuth-mainController-copyFields","onclick","UpdateClass",function(e,d,b){if(d==dojo.byId("accAuth-Continue")){var c=dojo.byId("acc-auth-search-codes");var a=dojo.byId("search-name-input");var f=dojo.byId("accntauth-access-input");dojo.byId("accauth-sectionname").value=c.options[c.selectedIndex].value;dojo.byId("accauth-triggeraction").value=dojo.byId("dirtyPopUpTriggerElement").value;dojo.byId("accauth-searchfiltervalue").value=a.options[a.selectedIndex].value;dojo.byId("accauth-searchtextboxvalue").value=dojo.byId("search-keyword-input").value;dojo.byId("accauth-filterbyvalue").value=f.options[f.selectedIndex].value;if(dojo.byId("acc-auth-use-codes").checked==true){dojo.byId("accauth-usecodes-value").value="use codes"}else{dojo.byId("accauth-usecodes-value").value="do not use codes"}}})},addCommands:function(){this.addCommand("ToggleTableColumn","cox.behavior.business.AccAuthToggleTableColumnBehavior");this.addCommand("ConfirmationPopUp","cox.behavior.business.ConfirmationPopUpBehavior");this.addCommand("SyncAccAuthSelectedCode","cox.behavior.business.SyncAccAuthSelectedCodeBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("CollapseDiv","cox.behavior.business.CollapseDivBehavior")},addIntercepts:function(){this.addIntercept("before","ToggleTableColumn","SyncAccAuthSelectedCode",function(c,b,a){if(b==dojo.byId("acc-auth-search-codes")){var d=b.options[b.selectedIndex].value;return{caller:b,controller:a,selectedUseCode:d}}else{return{caller:"onInit"}}})}});dojo.provide("cox.controller.business.AccAuthCheckAllController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.AccAuthCheckAllController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","UpdateClass",function(e,c,a){var f;dojo.some(e.className.split(" "),function(l){if(l.match(/check-all-group/)){f=l.match(/check-all-group-(.*)/)[1]}});var d=true;mojo.query("[class~=check-all-group-"+f+"]:not([class~=accAuth-check-all])").forEach(function(l){if(!l.checked){d=false}if(!l.mojoObserve||!l.mojoObserve[a.declaredClass]){a.addObserver(l,"onclick","UpdateClass",function(p,o,n){var m=true;mojo.query("[class~=check-all-group-"+f+"]:not([class~=accAuth-check-all])").forEach(function(q){if(!q.checked){m=false}});p.checked=m})}});e.checked=d;var b=mojo.queryFirst(".accAuth-check-all-optional");var h;dojo.some(b.className.split(" "),function(l){if(l.match(/check-all-group/)){h=l.match(/check-all-group-(.*)/)[1]}});var g=true;mojo.query("[class~=check-all-group-"+h+"]:not([class~=accAuth-check-all-optional])").forEach(function(l){if(!l.checked){g=false}if(!l.mojoObserve||!l.mojoObserve[a.declaredClass]){a.addObserver(l,"onclick","UpdateClass",function(o,n,m){var p=true;mojo.query("[class~=check-all-group-"+h+"]:not([class~=accAuth-check-all-optional])").forEach(function(q){if(!q.checked){p=false}});b.checked=p})}});b.checked=g});this.addObserver(this.getContextElement(),"onclick","UpdateClass",function(e,d,c){var f;dojo.some(d.className.split(" "),function(h){if(h.match(/check-all-group/)){f=h.match(/check-all-group-(.*)/)[1]}});this.eventObj.stopPropagation();mojo.query("[class~=check-all-group-"+f+"]:not([class~=accAuth-check-all])").forEach(function(h){h.checked=d.checked});if(d.checked){mojo.query("[class~=check-all-optional]").forEach(function(h){var l;dojo.some(h.className.split(" "),function(m){if(m.match(/check-all-group/)){l=m.match(/check-all-group-(.*)/)[1]}});mojo.query("[class~=check-all-group-"+l+"]").forEach(function(m){m.checked=d.checked?false:true})})}var b=dojo.byId("checkbox-pairup-main-table");if(dojo.isIE<9){var a=d.parentNode.parentNode}else{var a=d.parentElement.parentElement}if(a.tagName=="TH"){var g=null;dojo.some(d.className.split(" "),function(h){if(h.match(/check-all-group/)){g=h.match(/check-all-group-(.*)/)[1]}});if(g=="accrequired"&&d.checked){mojo.query(".check-all-group-accoptional",b).forEach(function(h){h.checked=false})}else{if(g=="accoptional"&&d.checked){mojo.query(".check-all-group-accrequired",b).forEach(function(h){h.checked=false})}}}});this.addObserver(mojo.query(".check-all-optional"),"onclick","UpdateClass",function(c,b,a){var d;dojo.some(b.className.split(" "),function(e){if(e.match(/check-all-group/)){d=e.match(/check-all-group-(.*)/)[1]}});this.eventObj.stopPropagation();mojo.query("[class~=check-all-group-"+d+"]:not([class~=check-all-optional])").forEach(function(e){e.checked=b.checked});if(b.checked){mojo.query("[class~=accAuth-check-all]").forEach(function(f){var e;dojo.some(f.className.split(" "),function(g){if(g.match(/check-all-group/)){e=g.match(/check-all-group-(.*)/)[1]}});mojo.query("[class~=check-all-group-"+e+"]").forEach(function(g){g.checked=b.checked?false:true})})}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.business.AddNumberController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.AddNumberController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".add_number_link","onclick","PreventDefault");this.addObserver(".add_number_link","onclick","AddNumberBehavior",function(c,b,a){return{caller:b,elementEvent:"onclick"}});this.addObserver(".cntrl-spec-phno-check","onclick","CheckSpecPhoneNo",function(c,b,a){return{caller:b,element:c,elementEvent:"onclick"}});this.addObserver(mojo.Messaging.getTopic("/toggleCSSTopic"),"onPublish","UpdateClass",function(b,a){var c=a.getMessage();return{element:c.elements,action:c.action,cssClass:c.applyStyle}})},addCommands:function(){this.addCommand("AddNumberBehavior","cox.behavior.business.AddNumberBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("CheckSpecPhoneNo","cox.behavior.business.CheckSpecPhoneNoBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.business.BusinessHomeController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.BusinessHomeController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query(".business-extras-view a"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{customLink:"find it fast:"+(a.title).toLowerCase()}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.business.BusinessIndustriesHealthcareController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.BusinessIndustriesHealthcareController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query(".toggle-element a"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{customLink:"products:"+(a.title).toLowerCase()}}}});this.addObserver(mojo.query(".business-extras-view a"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{customLink:"extras:"+a.title.toLowerCase()}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.business.BusinessPanelController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.BusinessPanelController",mojo.controller.Controller,{addObservers:function(){var a=mojo.query(".filmstrip-item",this.getContextElement());this.addObserver(a,"onmouseleave","UpdateCss",function(){return{element:a,action:"remove",cssClass:"active"}});this.addObserver(a,"onmouseenter","UpdateCss",function(c,b){return{element:b,action:"add",cssClass:"active"}});this.addObserver(a,"onclick","Redirect",function(c,b){var d=mojo.queryFirst("a",b);return{url:d.href,delay:0}})},addCommands:function(){this.addCommand("UpdateCss","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Redirect","stdlib.behavior.RedirectBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.business.BusinessVoiceManagerFeaturesController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.BusinessVoiceManagerFeaturesController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query(".business-extras-voicemanager a"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{customLink:"extras:"+(a.title).toLowerCase()}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.business.ExtrasForDemoController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.ExtrasForDemoController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query(".business-extras-voicemanager a"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{customLink:"extras:"+(a.title).toLowerCase()}}}});this.addObserver(mojo.query(".business-extras-finditfast a"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{customLink:"find it fast:"+(a.title).toLowerCase()}}}});this.addObserver(mojo.query(".im-considering-view a"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{customLink:"discuss my list:"+(a.title).toLowerCase()}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.business.GettingStartedToggleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.GettingStartedToggleController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","UpdateClass",function(d,c,a){dojo.place(mojo.queryFirst(".cbvm-gs-collapsed",d),mojo.queryFirst("div.header"));if(document.cookie.match("cbvm-gs=1")){dojo.style(mojo.queryFirst(".cbvm-gs-collapsed"),"display","block");dojo.style(mojo.queryFirst("#getting-started"),"display","none")}else{dojo.style(mojo.queryFirst("#getting-started"),"display","block")}var b=mojo.queryFirst(".cbvm-gs-collapsed .expand");a.addObserver(b,"onclick","PreventDefault");a.addObserver(b,"onclick","UpdateClass",function(h,g,e){var f="; expires="+new Date(0).toGMTString();if(navigator.cookieEnabled){document.cookie="cbvm-gs=0"+f+"; path=/"}dojo.style(mojo.queryFirst(".cbvm-gs-collapsed"),"display","none");dojo.style(mojo.queryFirst("#getting-started"),"display","block")})});this.addObserver(".close","onclick","PreventDefault");this.addObserver(".close","onclick","UpdateClass",function(e,d,a){var c=new Date();c.setTime(c.getTime()+(365*24*60*60*1000));var b="; expires="+c.toGMTString();if(navigator.cookieEnabled){document.cookie="cbvm-gs=1"+b+"; path=/"}dojo.style(mojo.queryFirst(".cbvm-gs-collapsed"),"display","block");dojo.style(mojo.queryFirst("#getting-started"),"display","none")})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.business.ImConsideringController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.ImConsideringController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","InitConsideration");this.addObserver(mojo.query("#discuss-my-list"),"onclick","CheckSelected");this.addObserver(mojo.queryFirst("#discuss-my-list #btn-discuss-my-list"),"onclick","PreventDefaultEvent")},addCommands:function(){this.addCommand("InitConsideration","cox.behavior.business.InitKeepForConsiderationBehavior");this.addCommand("CheckSelected","cox.behavior.business.CheckCheckedBoxBehavior");this.addCommand("PreventDefaultEvent","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.business.LeadFormController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.LeadFormController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","PopulateFromWishlist",function(a){return{formElement:a}});this.addObserver(this,"onInit","Focus",function(a){return{target:mojo.queryFirst("input[type='text']",a)}});this.addObserver(this.getContextElement(),"onsubmit","PreventDefault");this.addObserver(this.getCommand("ValidateRules"),"onResponse","Submit",function(b,a){return{formSet:mojo.queryFirst(".leadForm")}});this.addObserver(this.getCommand("ValidateRules"),"execute","UpdateCss",function(){var a=mojo.queryFirst("#site-form-errors .mojoValidationError");if(a){a.scrollIntoView()}})},addCommands:function(){this.addCommand("UpdateCss","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Submit","stdlib.behavior.SubmitFormBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("ValidateRules","stdlib.command.ValidateRulesCommand");this.addCommand("PopulateFromWishlist","cox.behavior.business.PopulateFromWishlistBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("Focus","cox.behavior.FocusBehavior")},addIntercepts:function(){this.addIntercept("before","BlockProceed","ValidateRules",{targetElement:mojo.queryFirst("#site-form-errors"),rules:"cox.rules.business.LeadRules",formSet:mojo.queryFirst(".leadForm")});this.addIntercept("around","PreventDefault","BlockProceed",function(){var a=mojo.queryFirst("#site-form-errors .mojoValidationError");return{condition:!!a}})}});dojo.provide("cox.controller.business.PersonalStatusMgrToggleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.PersonalStatusMgrToggleController",mojo.controller.Controller,{params:{isOpen:{defaultValue:false,type:Boolean},isOpenOriginal:{defaultValue:false,type:Boolean},activeOn:{defaultValue:"onclick",type:String},duration:{defaultValue:400,type:Number}},addObservers:function(){this.addObserver(this,"onInit","InitToggle",function(){return{id:this.getContextElement().id,element:mojo.queryFirst(".toggle-element",this.getContextElement()),controller:this.getController()}});this.addObserver(this,"onInit","PSMTween",function(d,b,a){var c=mojo.queryFirst(".personalStatusManager-select").options[mojo.queryFirst(".personalStatusManager-select").selectedIndex].value;var e=mojo.queryFirst("#"+c);var f=mojo.queryFirst(".toggle-wrapper",e);if(!f){return{action:"Do Nothing"}}else{return{element:f,height:f.scrollHeight,duration:this.getController().getValue("duration"),visibleDivElement:e,context:e,caller:b}}});this.addObserver(".toggle-button",this.getValue("activeOn"),"PreventDefault");this.addObserver(".toggle-button",this.getValue("activeOn"),"PSMTween",function(d,c,a){var b=dojo.byId("PSMMainContainer");var f=mojo.queryFirst(".toggle-wrapper",this.getContextElement());var e=mojo.queryFirst(".toggle-open",b);return{element:f,height:(e==null)?f.scrollHeight:0,duration:this.getController().getValue("duration"),context:d,visibleDivElement:e,caller:c}});this.addObserver(mojo.Messaging.getTopic("/toggleCSSTopic"),"onPublish","UpdateClass",function(b,a){var c=a.getMessage();return{element:c.elements,action:c.action,cssClass:c.applyStyle}});this.addObserver(".personalStatusManager-select","onchange","PSMTween",function(d,b,a){var c=mojo.queryFirst(".personalStatusManager-select").options[mojo.queryFirst(".personalStatusManager-select").selectedIndex].value;var e=mojo.queryFirst("#"+c);var f=mojo.queryFirst(".toggle-wrapper",e);return{element:f,height:f.scrollHeight,duration:this.getController().getValue("duration"),visibleDivElement:e,context:e,caller:b}});this.addObserver(".cntl-dropdown","onchange","PSMEnDisRequired",function(c,b,a){return{context:c,element:b,elementEvent:"onchange"}});this.addObserver(".cntl-save","onclick","PSMEnDisRequired",function(c,b,a){var c=c.parentNode.parentNode;return{context:c,element:b,elementEvent:"onclick"}})},addCommands:function(){this.addCommand("InitToggle","cox.behavior.InitToggleBehavior");this.addCommand("PSMTween","cox.behavior.business.PSMTweenBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("CloseOtherDiv","cox.behavior.business.PSMTweenBehavior");this.addCommand("PSMEnDisRequired","cox.behavior.business.PSMEnDisRequiredBehavior")},addIntercepts:function(){this.addIntercept("before","PSMTween","CloseOtherDiv",function(d,c,a){var b=dojo.byId("PSMMainContainer");var e=mojo.queryFirst(".toggle-open",b);if(e!=null&&e!=d){var f=mojo.queryFirst(".toggle-wrapper",e);return{element:f,height:0,duration:this.getController().getValue("duration"),visibleDivElement:e,context:d}}})}});dojo.provide("cox.controller.business.ScheduleMgmtEventsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.ScheduleMgmtEventsController",mojo.controller.Controller,{params:{isOpen:{defaultValue:false,type:Boolean},isOtherOpen:{defaultValue:false,type:Boolean},isOpenOriginal:{defaultValue:false,type:Boolean},isAnimating:{defaultValue:false,type:Boolean},activeOn:{defaultValue:"onclick",type:String},duration:{defaultValue:400,type:Number}},addObservers:function(){this.addObserver(this,"onInit","InitToggle",function(){if(dojo.isIE<9){var a=this.getContextElement().parentNode.nextSibling}else{var a=this.getContextElement().parentElement.nextElementSibling}return{id:this.getContextElement().id,element:mojo.queryFirst(".toggle-element",a),controller:this.getController()}});this.addObserver(".toggle-button",this.getValue("activeOn"),"PreventDefault");this.addObserver(".toggle-button",this.getValue("activeOn"),"Tween",function(e,d,c){if(dojo.isIE<9){var b=d.parentNode.parentNode.nextSibling}else{var b=d.parentElement.parentNode.nextElementSibling}var f=d.parentNode;dojo.addClass(f,"clickedScheduleRow");var g=this.getContextElement();if(!dojo.hasClass(g,"Opened")){loadingWrapperId=mojo.queryFirst(".event-throbber-wrapper",b).id;var a=mojo.queryFirst(".event-loader",loadingWrapperId);if(a!=null){mojo.Messaging.publish("/toggleCSSTopic",{elements:a,applyStyle:"event-loader",action:"remove"});mojo.Messaging.publish("/toggleCSSTopic",{elements:a,applyStyle:"loader",action:"add"});mojo.Messaging.publish("/throbber",{status:true,id:loadingWrapperId})}}var h=mojo.queryFirst(".toggle-wrapper",b);return{element:h,height:this.getController().getValue("isOpen")?0:h.scrollHeight,duration:this.getController().getValue("duration")}});this.addObserver(mojo.Messaging.getTopic("loadScheduleEvents"),"onPublish","ShowScheduleEvents",function(b,c,d){var l=this.getContextElement();if(dojo.isIE<9){var a=l.parentNode.nextSibling}else{var a=l.parentElement.nextElementSibling}var g=mojo.queryFirst(".toggle-button",l);var e="";var h="";var f=true;if(dojo.hasClass(l,"Opened")||!dojo.hasClass(l,"clickedScheduleRow")){f=false}else{dojo.addClass(l,"Opened");h=mojo.queryFirst(".event-throbber-wrapper",a).id;if(dojo.attr(g,"data-target")){e=mojo.queryFirst("."+dojo.attr(g,"data-target"),a)}}return{container:a,activeLink:g.href,loadingWrapperId:h,responseContainer:e,doAJAX:f}});this.addObserver(this.getCommand("Tween"),"onComplete","UpdateControllerParam",function(c,b,a){mojo.Messaging.publish("loadScheduleEvents");return{control:this.getController().declaredClass,params:"isAnimating",value:false,element:c}});this.addObserver(this.getConfig("params").isOpen,"onChange","UpdateClass",function(){return{element:this.getController().getContextElement(),action:this.getController().getValue("isOpen")?"add":"remove",cssClass:"toggle-open"}});this.addObserver(this.getCommand("BlockProceed"),"onBeforeProceed","UpdateControllerParam",function(c,b,a){return{control:this.getController().declaredClass,params:"isAnimating",value:true,element:c}});this.addObserver(this.getCommand("BlockProceed"),"onAfterProceed","UpdateControllerParam",function(c,b,a){return{control:this.getController().declaredClass,params:"isOpen",value:!this.getController().getValue("isOpen"),element:c}});this.addObserver(mojo.Messaging.getTopic("remapScheduleController"),"onPublish","MapControllers",function(c,b,a){return{contextObj:mojo.queryFirst(".toggle-element",c)}});this.addObserver(mojo.Messaging.getTopic("/toggleCSSTopic"),"onPublish","UpdateClass",function(b,a){var c=a.getMessage();return{element:c.elements,action:c.action,cssClass:c.applyStyle}})},addCommands:function(){this.addCommand("InitToggle","cox.behavior.InitToggleBehavior");this.addCommand("AutomaticHide","cox.behavior.AutomaticHideBehavior");this.addCommand("Tween","stdlib.behavior.TweenBehavior");this.addCommand("ForceTween","stdlib.behavior.TweenBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand");this.addCommand("PublishMessage","stdlib.behavior.MessagingBehavior");this.addCommand("ShowScheduleEvents","cox.behavior.business.ShowScheduleEventsBehavior");this.addCommand("MapControllers","stdlib.command.MapControllersCommand")},addIntercepts:function(){this.addIntercept("around","Tween","BlockProceed",function(){return{condition:!this.getController().getValue("isAnimating")}});this.addIntercept("around","ForceTween","BlockProceed",function(c,b,a){var d=false;if(c.id){d=(b.getMessage().toggle.indexOf(c.id)>-1)!=(a.getValue("isOpenOriginal")!=a.getValue("isOpen"))}return{condition:!this.getController().getValue("isAnimating")&&d}})}});dojo.provide("cox.controller.business.SequentialRingController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.SequentialRingController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".addAnotherLink","onclick","PreventDefault");this.addObserver(".addAnotherLink","onclick","AddMoreRows",function(d,b,a){var c=b;var e=mojo.queryFirst("#seqringcontent",d);return{callerElement:c,divContainer:e,context:d}});this.addObserver(".removePhoneNo","onclick","PreventDefault");this.addObserver(".removePhoneNo","onclick","RemoveRow",function(d,b,a){var c=b;var e=mojo.queryFirst("#seqringcontent",d);return{element:c,divContainer:e,context:d}});this.addObserver(".seq_clearrow","onclick","PreventDefault");this.addObserver(".seq_clearrow","onclick","SeqRingClearRow",function(d,c,a){var b=new Array();b.push(mojo.queryFirst("#phonenumber-input",d));b.push(mojo.queryFirst("#ansconf1",d));b.push(mojo.queryFirst("#ringconf1",d));return{clickedNode:c,contextElem:d,setToDefault:b}})},addCommands:function(){this.addCommand("AddMoreRows","cox.behavior.business.SequentialAddRowBehavior");this.addCommand("RemoveRow","cox.behavior.business.SeqRingRemovePhoneNumberBehavior");this.addCommand("SeqRingClearRow","cox.behavior.business.SeqRingClearRowBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.business.SequentialRingHiddenValueController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.SequentialRingHiddenValueController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".seqringsubmit","onclick","SequentialRingHidden",function(d,c){var b=mojo.queryFirst("#seqringcontent",d);var a=mojo.queryFirst(".seqringHiddenField",d);return{clickedElement:c,divContainer:b,hiddenFieldContainer:a,elementContext:d}})},addCommands:function(){this.addCommand("SequentialRingHidden","cox.behavior.business.SequentialRingHiddenValueBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.business.SimultaneousRingController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.SimultaneousRingController",mojo.controller.Controller,{params:{leftrowscount:{defaultValue:1,type:Number},rightrowscount:{defaultValue:0,type:Number}},addObservers:function(){this.addObserver(this,"onclick","PreventDefault");this.addObserver(".simring_removerow_left","onclick","PreventDefault");this.addObserver(".simring_removerow_right","onclick","PreventDefault");this.addObserver(this,"onInit","SetDefaultParamValue",function(c,b,a){var d=dojo.query(".simringserverhiddenfields",dojo.byId("input-row-outer"));return{control:a,serverValueContainer:d}});this.addObserver(".add-anotherrow-left","onclick","AddAnotherRow",function(d,c,a){var b=mojo.queryFirst("#row-list-main-left",d);return{clickedNode:c,contextElem:d,rowContainer:b,controller:a}});this.addObserver(".add-anotherrow-right","onclick","AddAnotherRow",function(d,c,a){var b=mojo.queryFirst("#row-list-main-right",d);return{clickedNode:c,contextElem:d,rowContainer:b}});this.addObserver(".simring_clearrow_left","onclick","SimRingClearRow",function(d,c,a){var b=new Array();b.push(mojo.queryFirst("#left-simring-sample-input",dojo.byId("row-list-main-left")));b.push(mojo.queryFirst("#left-simring-sample-select",dojo.byId("row-list-main-left")));return{clickedNode:c,contextElem:d,fieldtoclear:b}});this.addObserver(".simring_removerow_left","onclick","SimRingRemoveRow",function(d,c,a){var b=mojo.queryFirst(".simring_removerow_left",d);return{clickedNode:c,contextElem:d,rowContainer:b,controller:a}});this.addObserver(".simring_removerow_right","onclick","SimRingRemoveRow",function(d,c,a){var b=mojo.queryFirst(".simring_removerow_right",d);return{clickedNode:c,contextElem:d,rowContainer:b,controller:a}});this.addObserver(".ctrl-toggle-simringruleradiobutton","onclick","SimRingRuleToggleButton",function(d,c,a){var b=mojo.queryFirst(".simring_removerow_right",d);return{clickedNode:c,contextElem:d,rowContainer:b,controller:a}});this.addObserver(".ctrl-simring-fieldvalidation","onclick","SimRingRuleToggleButton",function(d,c,a){var b=mojo.queryFirst(".simring_removerow_right",d);return{clickedNode:c,contextElem:d,rowContainer:b,controller:a}});this.addObserver(this.getCommand("IncrementRowCount"),"onAfterProceed","UpdateControllerParam",function(d,c,a){var b=null;var e=null;if(dojo.attr(c._requestObj.callerObj,"class")=="add-anotherrow-left"){b="leftrowscount"}else{b="rightrowscount"}e=this.getController().getValue(b)+1;return{control:this.getController().declaredClass,params:b,value:e,element:d}});this.addObserver(this.getCommand("DecrementRowCount"),"onAfterProceed","UpdateControllerParam",function(e,d,b){var c=null;var f=null;var a=this.getController().getValue("rightrowscount");if(dojo.attr(d._requestObj.callerObj,"class")=="simring_removerow_left"&&a==0){c="leftrowscount"}else{c="rightrowscount"}f=this.getController().getValue(c)-1;return{control:this.getController().declaredClass,params:c,value:f,element:e}});this.addObserver("#rule-save","onclick","SaveDataForServer",function(c,b,a){return{noofleftrows:this.getController().getValue("leftrowscount"),noofrightrows:this.getController().getValue("rightrowscount"),control:a}});this.addObserver(mojo.Messaging.getTopic("/toggleCSSTopic"),"onPublish","UpdateClass",function(b,a){var c=a.getMessage();return{element:c.elements,action:c.action,cssClass:c.applyStyle}})},addCommands:function(){this.addCommand("AddAnotherRow","cox.behavior.business.SimRingAddAnotherRowBehavior");this.addCommand("SimRingClearRow","cox.behavior.business.SimRingClearRowBehavior");this.addCommand("SimRingRemoveRow","cox.behavior.business.SimRingRemoveRowBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("IncrementRowCount","cox.behavior.business.IncrementRowCountBehavior");this.addCommand("DecrementRowCount","cox.behavior.business.DecrementRowCountBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand");this.addCommand("SaveDataForServer","cox.behavior.business.SaveDataForServerBehavior");this.addCommand("SimRingRuleToggleButton","cox.behavior.business.SimRingRuleToggleButtonBehavior");this.addCommand("SetDefaultParamValue","cox.behavior.business.SetDefaultParamValueBehavior")},addIntercepts:function(){this.addIntercept("after","AddAnotherRow","IncrementRowCount",function(c,b,a){return{noofleftrows:this.getController().getValue("leftrowscount"),noofrightrows:this.getController().getValue("rightrowscount"),control:a}});this.addIntercept("after","SimRingRemoveRow","DecrementRowCount",function(c,b,a){return{noofleftrows:this.getController().getValue("leftrowscount"),noofrightrows:this.getController().getValue("rightrowscount"),control:a,context:c,caller:b}})}});dojo.provide("cox.controller.business.TrunkGroupToggleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.TrunkGroupToggleController",mojo.controller.Controller,{params:{isOpen:{defaultValue:false,type:Boolean},isOtherOpen:{defaultValue:false,type:Boolean},isOpenOriginal:{defaultValue:false,type:Boolean},isAnimating:{defaultValue:false,type:Boolean},activeOn:{defaultValue:"onclick",type:String},duration:{defaultValue:400,type:Number}},addObservers:function(){this.addObserver(this,"onInit","InitToggle",function(){if(dojo.isIE<9){var a=this.getContextElement().parentNode.nextSibling}else{var a=this.getContextElement().parentElement.nextElementSibling}return{id:this.getContextElement().id,element:mojo.queryFirst(".toggle-element",a),controller:this.getController()}});this.addObserver(".toggle-button",this.getValue("activeOn"),"PreventDefault");this.addObserver(".toggle-button",this.getValue("activeOn"),"Tween",function(d,c,b){if(dojo.isIE<9){var a=c.parentNode.parentNode.nextSibling}else{var a=c.parentElement.parentNode.nextElementSibling}var e=mojo.queryFirst(".toggle-wrapper",a);return{element:e,height:this.getController().getValue("isOpen")?0:e.scrollHeight,duration:this.getController().getValue("duration")}});this.addObserver(this.getCommand("Tween"),"onComplete","UpdateControllerParam",function(c,b,a){return{control:this.getController().declaredClass,params:"isAnimating",value:false,element:c}});this.addObserver(this.getConfig("params").isOpen,"onChange","UpdateClass",function(){return{element:this.getController().getContextElement(),action:this.getController().getValue("isOpen")?"add":"remove",cssClass:"toggle-open"}});this.addObserver(this.getCommand("BlockProceed"),"onBeforeProceed","UpdateControllerParam",function(c,b,a){return{control:this.getController().declaredClass,params:"isAnimating",value:true,element:c}});this.addObserver(this.getCommand("BlockProceed"),"onAfterProceed","UpdateControllerParam",function(c,b,a){return{control:this.getController().declaredClass,params:"isOpen",value:!this.getController().getValue("isOpen"),element:c}})},addCommands:function(){this.addCommand("InitToggle","cox.behavior.InitToggleBehavior");this.addCommand("AutomaticHide","cox.behavior.AutomaticHideBehavior");this.addCommand("Tween","stdlib.behavior.TweenBehavior");this.addCommand("ForceTween","stdlib.behavior.TweenBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand");this.addCommand("PublishMessage","stdlib.behavior.MessagingBehavior")},addIntercepts:function(){this.addIntercept("around","Tween","BlockProceed",function(){return{condition:!this.getController().getValue("isAnimating")}});this.addIntercept("around","ForceTween","BlockProceed",function(c,b,a){var d=false;if(c.id){d=(b.getMessage().toggle.indexOf(c.id)>-1)!=(a.getValue("isOpenOriginal")!=a.getValue("isOpen"))}return{condition:!this.getController().getValue("isAnimating")&&d}})}});dojo.provide("cox.controller.business.VMNumberAddAnotherController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.business.VMNumberAddAnotherController",mojo.controller.Controller,{params:{leftrowscount:{defaultValue:1,type:Number},rightrowscount:{defaultValue:0,type:Number}},addObservers:function(){this.addObserver(this,"onclick","PreventDefault");this.addObserver(".vmNumber_removerow_left","onclick","PreventDefault");this.addObserver(".vmNumber_removerow_right","onclick","PreventDefault");this.addObserver(this,"onInit","SetDefaultParamValue",function(c,b,a){var d=dojo.query(".vmnumberserverhiddenfields",dojo.byId("input-row-outer"));return{control:a,serverValueContainer:d}});this.addObserver(".add-anotherrow-left","onclick","AddAnotherRow",function(d,c,a){var b=mojo.queryFirst("#row-list-main-left",d);return{clickedNode:c,contextElem:d,rowContainer:b,controller:a}});this.addObserver(".add-anotherrow-right","onclick","AddAnotherRow",function(d,c,a){var b=mojo.queryFirst("#row-list-main-right",d);return{clickedNode:c,contextElem:d,rowContainer:b}});this.addObserver(".vmNumber-clearrow-left","onclick","VMNumberClearRow",function(d,c,a){var b=new Array();b.push(mojo.queryFirst("#left-vmnumber-sample-input",dojo.byId("row-list-main-left")));b.push(mojo.queryFirst("#left-vmnumber-sample-select",dojo.byId("row-list-main-left")));return{clickedNode:c,contextElem:d,fieldtoclear:b}});this.addObserver(".vmNumber_removerow_left","onclick","VMNumberRemoveRow",function(d,c,a){var b=mojo.queryFirst(".vmNumber_removerow_left",d);return{clickedNode:c,contextElem:d,rowContainer:b,controller:a}});this.addObserver(".vmNumber_removerow_right","onclick","VMNumberRemoveRow",function(d,c,a){var b=mojo.queryFirst(".vmNumber_removerow_right",d);return{clickedNode:c,contextElem:d,rowContainer:b,controller:a}});this.addObserver(this.getCommand("IncrementRowCount"),"onAfterProceed","UpdateControllerParam",function(d,c,a){var b=null;var e=null;if(dojo.attr(c._requestObj.callerObj,"class")=="add-anotherrow-left"){b="leftrowscount"}else{b="rightrowscount"}e=this.getController().getValue(b)+1;return{control:this.getController().declaredClass,params:b,value:e,element:d}});this.addObserver(this.getCommand("DecrementRowCount"),"onAfterProceed","UpdateControllerParam",function(e,d,b){var c=null;var f=null;var a=this.getController().getValue("rightrowscount");if(dojo.attr(d._requestObj.callerObj,"class")=="vmNumber_removerow_left"&&a==0){c="leftrowscount"}else{c="rightrowscount"}f=this.getController().getValue(c)-1;return{control:this.getController().declaredClass,params:c,value:f,element:e}});this.addObserver("#rule-save","onclick","SaveDataForServer",function(c,b,a){return{noofleftrows:this.getController().getValue("leftrowscount"),noofrightrows:this.getController().getValue("rightrowscount"),control:a}});this.addObserver(mojo.Messaging.getTopic("/toggleCSSTopic"),"onPublish","UpdateClass",function(b,a){var c=a.getMessage();return{element:c.elements,action:c.action,cssClass:c.applyStyle}})},addCommands:function(){this.addCommand("AddAnotherRow","cox.behavior.business.VMNumberAddAnotherRowBehavior");this.addCommand("VMNumberClearRow","cox.behavior.business.VMNumberClearRowBehavior");this.addCommand("VMNumberRemoveRow","cox.behavior.business.VMNumberRemoveRowBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("IncrementRowCount","cox.behavior.business.IncrementRowCountBehavior");this.addCommand("DecrementRowCount","cox.behavior.business.VMNumberDecrementRowCountBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand");this.addCommand("SaveDataForServer","cox.behavior.business.VMNumberSaveServerDataBehavior");this.addCommand("SetDefaultParamValue","cox.behavior.business.VMNumberSetDefaultParamValueBehavior")},addIntercepts:function(){this.addIntercept("after","AddAnotherRow","IncrementRowCount",function(c,b,a){return{noofleftrows:this.getController().getValue("leftrowscount"),noofrightrows:this.getController().getValue("rightrowscount"),control:a}});this.addIntercept("after","VMNumberRemoveRow","DecrementRowCount",function(c,b,a){return{noofleftrows:this.getController().getValue("leftrowscount"),noofrightrows:this.getController().getValue("rightrowscount"),control:a,context:c,caller:b}})}});dojo.provide("cox.controller.ecomm.ByobController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.ByobController",mojo.controller.Controller,{params:{isAnimating:{defaultValue:false,type:Boolean},currentPane:{},needPaneSwitch:{defaultValue:false,type:Boolean},displayBlockSelectors:{defaultValue:[],type:Array},displayNoneSelectors:{defaultValue:[],type:Array}},addObservers:function(){var getAccordionPane=function(el){while(el=el.parentNode){if(dojo.hasClass(el,"ecomm-accordion-pane")){return el}}return null};var getIcon=function(pane){return mojo.queryFirst(".ecomm-accordion-icon"+pane.id.replace("pane",""))};this.addObserver(this,"onInit","UpdateClass",function(context,caller,controller){var initialPane=mojo.queryFirst(".open-pane",context);if(initialPane.id!="pane-intro"){controller.setValue("needPaneSwitch",true);controller.setValue("currentPane",mojo.queryFirst(".open-pane",context))}});this.addObserver("a.ecomm-accordion-popsicle","onclick","PreventDefault");this.addObserver("a.ecomm-accordion-popsicle","onclick","ByobAccordion",function(context,caller,controller){var lastOpenPane=mojo.query(".open-pane",context).pop();var pane=getAccordionPane(caller);dojo.addClass(pane,"active-pane");var needRollup=mojo.queryFirst(".toggle-open",lastOpenPane);if(needRollup){controller.setValue("needPaneSwitch",true)}controller.setValue("currentPane",pane);if(!needRollup){return{chosenPane:pane,from:0,to:620}}});this.addObserver("a.ecomm-accordion-remove","onclick","PreventDefault");this.addObserver("a.ecomm-accordion-remove","onclick","UpdateClass",function(context,caller,controller){var pane=getAccordionPane(caller);return{element:mojo.query(".selected",pane),action:"remove",cssClass:"selected"}});this.addObserver("a.ecomm-accordion-remove","onclick","ByobAccordion",function(context,caller,controller){var pane=getAccordionPane(caller);dojo.removeClass(pane,"active-pane");var killedIcon=getIcon(pane);dojo.removeClass(killedIcon,"phantom-icon");dojo.removeClass(killedIcon,"icon-active");var lastActivePane=mojo.query(".active-pane",context).pop();var needRollup=mojo.queryFirst(".toggle-open",pane);if(needRollup){controller.setValue("needPaneSwitch",true)}controller.setValue("currentPane",lastActivePane);if(!needRollup){return{chosenPane:lastActivePane,from:0,to:620}}});this.addObserver(this.getConfig("params").currentPane,"onChange","PublishMessage",function(context,caller,controller){var oldPane=mojo.query(".open-pane",context).pop();if(!mojo.queryFirst(".selected",oldPane)&&(oldPane.id!="pane-intro")){dojo.removeClass(oldPane,"active-pane")}if(controller.getValue("needPaneSwitch")){var enabledToggles=(oldPane.id!="pane-intro")?["ecomm-accordion-overview","ecomm-accordion-legend"]:[];return{topic:"/toggle/force",message:{toggle:enabledToggles}}}else{return{topic:"/toggle/byobNoPaneSwitchNeeded"}}});this.addObserver(this.getConfig("params").currentPane,"onChange","UpdateClass",function(context,caller,controller){var pane=caller.getValue("currentPane");console.log("pane is: ",pane);var icons=mojo.query(".ecomm-accordion-icons li.icon-phantom",context);var newPhantom=getIcon(pane);if(newPhantom){icons.push(newPhantom)}return{element:icons,action:"toggle",cssClass:"icon-phantom"}});this.addObserver(mojo.Messaging.getTopic("/toggle/forcedChangeCompleted"),"onPublish","ByobAccordion",function(context,caller,controller){if(controller.getValue("needPaneSwitch")&&dojo.hasClass(caller.getMessage().context,"ecomm-accordion-wrapper-bd")){controller.setValue("needPaneSwitch",false);return{chosenPane:controller.getValue("currentPane"),from:0,to:620}}});this.addObserver(this.getConfig("params").currentPane,"onChange","UpdateClass",function(context,caller,controller){return{element:context,action:(caller.getValue("currentPane").id!="pane-intro")?"add":"remove",cssClass:"ecomm-byob-nonblank"}});this.addObserver(".ecomm-accordion-pane table.ecomm-accordion-comparison thead a","onclick","PreventDefault");this.addObserver(".ecomm-accordion-pane table.ecomm-accordion-comparison thead a","onclick","UpdateClass",function(context,caller,controller){var pane=getAccordionPane(caller);var oldActiveLevel=mojo.query(".selected",pane);oldActiveLevel.push(caller);dojo.addClass(getIcon(pane),"icon-active");return{element:oldActiveLevel,action:"toggle",cssClass:"selected"}});this.addObserver(".ecomm-accordion-pane table.ecomm-accordion-comparison thead a","onclick","UpdateClass",function(context,caller,controller){window.eval(caller.href.split("javascript:")[1])});this.addObserver(".wireless-select-plan input[name=selectAPlan]","onclick","SwapElementDisplay",function(context,caller,controller){switch(caller.id.match(/(.*)Plan/)[1]){case"family":controller.setValue("displayBlockSelectors",["div.wireless-family-plans"]);controller.setValue("displayNoneSelectors",["div.wireless-individual-plans"]);break;case"individual":controller.setValue("displayBlockSelectors",["div.wireless-individual-plans"]);controller.setValue("displayNoneSelectors",["div.wireless-family-plans"]);break}})},addCommands:function(){this.addCommand("ByobAccordion","cox.behavior.ecomm.ByobAccordion");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("PublishMessage","stdlib.behavior.MessagingBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("SwapElementDisplay","cox.behavior.SwapElementDisplay")},addIntercepts:function(){this.addIntercept("around","ByobAccordion","BlockProceed",function(c,b,a){return{condition:!mojo.queryFirst(".animating")}})}});dojo.provide("cox.controller.ecomm.CalendarController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.CalendarController",mojo.controller.Controller,{params:{pageIndex:{required:false,defaultValue:0,type:Number},slotIndex:{required:false,defaultValue:-1,type:Number},slots:{required:false,defaultValue:[],type:Array},oldSlots:{required:false,defaultValue:[],type:Array}},addObservers:function(){var b=mojo.query(".weeks",this.getContextElement());var h=mojo.query(".calendar-action");var f=mojo.query("#installation-date-choices .datechoice p");var o=mojo.queryFirst(".ecomm-subnav .datechoice p").textContent||mojo.queryFirst(".ecomm-subnav .datechoice p").innerText;var e=false;var d;this.addObserver(this,"onInit","UpdateClass",function(t,r,q){var p=mojo.query(".slot-0-chosen, .slot-1-chosen",t);q.params.slots._value=p;q.params.oldSlots._value=p});var n=this;var g=function(){n.addObserver(h,"onclick","DisplayPopup",function(t,r,q){var p=Math.min(q.getValue("slots").length,h.indexOf(r));q.setValue("slotIndex",p);return{element:t,action:"add",cssClass:"calendar-component-active"}});n.addObserver(h,"onclick","PreventDefault")};this.addObserver(mojo.Messaging.getTopic("/calendar/update"),"onPublish","UpdateClass",function(){h=mojo.query(".calendar-action");g()});g();this.addObserver(mojo.Messaging.getTopic("/throbber"),"onPublish","UpdateClass",function(r,q,p){h=mojo.query(".calendar-action");g()});this.addObserver(".close-button a, .calendar-buttons .cancel-button","onclick","UpdateClass",function(r,q,p){if(e){dojo.forEach(mojo.query(".ecomm-subnav .datechoice p",r),function(u,t){var v=mojo.queryFirst("#installation-date-choices .choice-"+t+" .choice-content p").innerHTML;u.innerHTML=v});dojo.forEach(p.getValue("oldSlots"),function(u,t){dojo.addClass(u,"chosen slot-"+t+"-chosen");console.log(u,"\tchosen slot-"+t+"-chosen")})}else{p.setValue("slots",p.getValue("oldSlots"));p.setValue("slotIndex",-1);dojo.forEach(mojo.query(".ecomm-subnav .datechoice p",r),function(u,t){u.innerHTML=o});dojo.forEach(p.getValue("slots"),function(u,t){dojo.addClass(u,"chosen slot-"+t+"-chosen")});dojo.forEach(mojo.query(".ecomm-subnav .clear-choice-button a",r),function(v,u){var t=mojo.queryFirst("span",v);if(t){t.style.display="none"}v.style.display="none"});return{element:mojo.query(".slot-0-chosen, .slot-1-chosen"),action:"remove",cssClass:["chosen","slot-0-chosen","slot-1-chosen"]}}});this.addObserver(".close-button a, .calendar-buttons .cancel-button, .calendar-buttons .finish-button","onclick","DisplayPopup",function(r,q,p){return{element:r,action:"remove",cssClass:"calendar-component-active"}});this.addObserver(".calendar-buttons .finish-button","onclick","UpdateClass",function(r,q,p){mojo.queryFirst("#installation-date").style.display="none";mojo.queryFirst("#installation-date-choices").style.display="block";if(h.length==3){h.shift()}p.setValue("oldSlots",p.getValue("slots"));dojo.forEach(p.getValue("slots"),function(z,v){var u=z;while(u&&!dojo.hasClass(u,"day")){u=u.parentNode}if(!u){return}dow=mojo.queryFirst("h5",u);u=mojo.queryFirst("h4",u);var A=((dow.textContent||dow.innerText)+", "+(u.textContent||u.innerText)+"<br/>"+(z.textContent||z.innerText)).replace(/\s+/g," ");f[v].innerHTML=A;var w=((dow.textContent||dow.innerText)+", "+(u.textContent||u.innerText)+" @ "+(z.textContent||z.innerText)).replace(/\s+/g," ");var t=mojo.queryFirst("input",f[v].parentNode.parentNode);if(t){t.value=w}})});this.addObserver(".close-button a","onclick","PreventDefault");this.addObserver(".choose-time","onclick","UpdateClass",function(p,r,u){var w=u.getValue("slotIndex");var z=Array.apply(Array,u.getValue("slots"));var C=mojo.query(".ecomm-subnav .datechoice p",this.getContextElement());z[w]=r;if(z.length<=2){var q=z[w];var B=z[w];while(B&&!dojo.hasClass(B,"day")){B=B.parentNode}if(!B){return}var D=mojo.queryFirst("h5",B);var B=mojo.queryFirst("h4",B);var t=((D.textContent||D.innerText)+", "+(B.textContent||B.innerText)+"<br/>"+(q.textContent||q.innerText)).replace(/\s+/g," ");C[w].innerHTML=t;var A="slot-"+w+"-chosen";var v=mojo.query("."+A,p);v.push(r);u.setValue("slots",z);u.setValue("slotIndex",w+1);if(!dojo.hasClass(r,"chosen")){return{element:v,action:"toggle",cssClass:["chosen",A]}}}});this.addObserver(".choose-time","onclick","PreventDefault");var m=mojo.queryFirst(".finish-button",this.getContextElement());var l=mojo.query(".ecomm-subnav .clear-choice-button a",this.getContextElement());var c=mojo.query("#installation-date-choices .edit-choice-button a");var a=function(t,r,p){var q=p.getValue("slotIndex");var u=p.getValue("slots");var v=function(z,A){if(!z){return}var w=mojo.queryFirst("span",z);if(w){w.style.display=A?"":"none"}z.style.display=A?"":"none"};v(m,(u.length==2));v(l[q],u[q]!=null)};this.addObserver(this.getConfig("params").slots,"onChange","UpdateClass",a);this.addObserver(this.getConfig("params").slotIndex,"onChange","UpdateClass",a);this.addObserver(l,"onclick","UpdateClass",function(p,q,u){var r=q;while(r&&!dojo.hasClass(r,"datechoice")){r=r.parentNode}var B=mojo.queryFirst("p",r);B.innerHTML=o;var w=u.getValue("slotIndex");var t=r.className.match(/choice-(\d*)/)[1];var z=Array.apply(Array,u.getValue("slots"));z[t]=null;u.setValue("slots",z);u.setValue("slotIndex",parseInt(t));var A="slot-"+t+"-chosen";var v=mojo.queryFirst("span",m);if(v){v.style.display="none"}m.style.display="none";return{element:mojo.query("."+A),action:"toggle",cssClass:["chosen",A]}});this.addObserver(c,"onclick","UpdateClass",function(q,r,v){e=true;var B=r;while(B&&!dojo.hasClass(B,"datechoice")){B=B.parentNode}var u=B.className.match(/choice-(\d*)/)[1];var p=l[u];var t=p;while(t&&!dojo.hasClass(t,"datechoice")){t=t.parentNode}var D=mojo.queryFirst("p",t);D.innerHTML=o;var z=v.getValue("slotIndex");var A=Array.apply(Array,v.getValue("slots"));A[u]=null;v.setValue("slots",A);v.setValue("slotIndex",parseInt(u));var C="slot-"+u+"-chosen";var w=mojo.queryFirst("span",m);if(w){w.style.display="none"}m.style.display="none";return{element:mojo.query("."+C),action:"toggle",cssClass:["chosen",C]}});this.addObserver(l,"onclick","PreventDefault");this.addObserver(c,"onclick","PreventDefault");this.addObserver(".calendar-buttons a","onclick","PreventDefault");this.addObserver(".next-weeks-button a","onclick","UpdateClass",function(t,q){var r=b;var p=this.getController().getValue("pageIndex");p++;if(p<b.length){this.getController().setValue("pageIndex",p)}});this.addObserver(".next-weeks-button a","onclick","PreventDefault");this.addObserver(".prev-weeks-button a","onclick","UpdateClass",function(t,q){var r=b;var p=this.getController().getValue("pageIndex");p--;if(p>=0){this.getController().setValue("pageIndex",p)}});this.addObserver(".prev-weeks-button a","onclick","PreventDefault");this.addObserver(this.getConfig("params").pageIndex,"onChange","UpdateClass",function(r,q,p){return{element:mojo.query(".next-weeks-button",r),action:(q.getValue()>=b.length-1)?"add":"remove",cssClass:"next-weeks-button-disabled"}});this.addObserver(this.getConfig("params").pageIndex,"onChange","UpdateClass",function(r,q,p){return{element:mojo.query(".prev-weeks-button",r),action:(q.getValue()<=0)?"add":"remove",cssClass:"prev-weeks-button-disabled"}});this.addObserver(this.getConfig("params").pageIndex,"onChange","Tween",function(r,q,p){return{x:(-1*b[q.getValue()].offsetLeft),y:(-1*b[q.getValue()].offsetTop),element:mojo.query(".weeks-container",r),duration:1000}})},addCommands:function(){this.addCommand("DisplayPopup","cox.behavior.ecomm.PopupDisplayBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Tween","stdlib.behavior.TweenBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("ChooseTime","cox.behavior.ecomm.CalendarScheduleBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.CarouselUpdatesPhoneName");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.CarouselUpdatesPhoneName",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","UpdateCSS",function(d,c,a){var b=mojo.query(".carousel-phone-item");this.getContextElement().innerHTML=b[0].innerHTML});this.addObserver(mojo.Messaging.getTopic("/togglefilmstrip/indexChanged"),"onPublish","UpdateCSS",function(e,d,a){var f=d.getMessage();var b=mojo.query(".carousel-phone-item");var c=mojo.query(".carousel-current-phone");dojo.forEach(c,function(h,g){h.innerHTML=b[f.selectedIndex].innerHTML})})},addCommands:function(){this.addCommand("UpdateCSS","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.DifferentAddressToggle");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.DifferentAddressToggle",mojo.controller.Controller,{params:{selectors:{required:false,defaultValue:[],type:Array}},addObservers:function(){this.addObserver(mojo.query(".calls-different-address"),"onclick","UpdateCSS",function(c,b,a){return{element:mojo.queryFirst(".different-address"),action:"add",cssClass:"different-address-show"}})},addCommands:function(){this.addCommand("UpdateCSS","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.DisableSiblingField");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.DisableSiblingField",mojo.controller.Controller,{addObservers:function(){var a=mojo.query(".disable-sibling-child",this.getContextElement());this.addObserver(a,"onkeyup","UpdateCSS",function(d,c,b){if(c.value==""){dojo.forEach(a,function(f,e){f.disabled=false});c.focus()}else{dojo.forEach(a,function(f,e){f.disabled=true});c.disabled=false;c.focus()}})},addCommands:function(){this.addCommand("UpdateCSS","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.FancyPrintController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.FancyPrintController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".fancy-print","onclick","PreventDefault",function(b,c,f){var m=mojo.queryFirst(".popup-trigger-small-content .header h3");var a=mojo.queryFirst(".popup-trigger-small-content .main div:first-child");var e=mojo.queryFirst(".ecomm-5col-module:last-child");var o=dojo.create("div",{id:"offer-details",className:"ecomm-5col-module"},e,"after");dojo.create("div",{className:"hd"},o);var d=dojo.create("div",{className:"bd order-header"},o);dojo.create("h2",{innerHTML:m.innerHTML},d);dojo.create("div",{className:"bd",innerHTML:a.innerHTML},o);dojo.create("div",{className:"ft"},o);for(var h=0;h<dojo.doc.styleSheets.length;h++){var l=dojo.doc.styleSheets.item(h);if(l.href){if((dummy=l.href.match(/print\./))){l.disabled=true}if((dummy=l.href.match(/all\./))||(dummy=l.href.match(/ecomm\./))){if(dojo.isIE<9){if(l.title=="smt_added"){continue}l.disabled=true;var n=document.getElementsByTagName("head")[0];var g=document.createElement("link");g.setAttribute("title","smt_added");g.setAttribute("media","screen,print");g.setAttribute("rel","stylesheet");g.setAttribute("type","text/css");g.setAttribute("href",l.href);n.appendChild(g)}else{l.media.appendMedium("print")}}}}window.print();setTimeout(function(r){for(var p=0;p<dojo.doc.styleSheets.length;p++){var q=dojo.doc.styleSheets.item(p);if(q.href){if((dummy=q.href.match(/print\./))){q.disabled=false}if((dummy=q.href.match(/all\./))||(dummy=q.href.match(/ecomm\./))){if(dojo.isIE<9){q.disabled=false;dojo.query("link[title='smt_added']").forEach(dojo.destroy)}else{if(q.media.mediaText.match(/print/)){q.media.deleteMedium("print")}}}}}dojo.destroy(o)},1000)})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.FlyoutController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.FlyoutController",mojo.controller.Controller,{params:{selectors:{required:false,defaultValue:[],type:Array}},addObservers:function(){this.addObserver(".find-bundles-btn","onclick","PreventDefault");this.addObserver(mojo.query(".find-bundles-btn"),"onclick","UpdateCSS",function(c,b,a){return{element:mojo.queryFirst(".bubble-blue"),action:"add",cssClass:"bubble-special-offers-noshow"}});this.addObserver(".submit-btn","onclick","PreventDefault");this.addObserver(mojo.query(".submit-btn"),"onclick","UpdateCSS",function(c,b,a){return{element:mojo.queryFirst(".bubble-blue"),action:"add",cssClass:"bubble-special-offers-noshow"}})},addCommands:function(){this.addCommand("UpdateCSS","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.PanesSwitcherController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.PanesSwitcherController",mojo.controller.Controller,{params:{selectedIndex:{required:false,defaultValue:0,type:Number}},addObservers:function(){this.addObserver("> .panes-nav select.panes-select","onchange","UpdateClass",function(d,c){this.getController().setValue("selectedIndex",c.selectedIndex)});var b=function(e,c){var f=mojo.query("> .panes-nav input.panes-select, > .panes-nav .panes-select input",e);for(var d=0;d<f.length;d++){if(f[d].checked){this.getController().setValue("selectedIndex",d);break}}};this.addObserver(mojo.query("> .panes-nav input.panes-select, > .panes-nav .panes-select input",this.getContextElement()),"onchange","UpdateClass",b);this.addObserver(mojo.query("> .panes-nav input.panes-select, > .panes-nav .panes-select input",this.getContextElement()),"onclick","UpdateClass",b);var a=function(e){if(typeof e.length=="undefined"){e=[e]}var d=[];dojo.forEach(e,function(g){var f=mojo.query("a.pane-delegate",g);if(f.length){d.push(f)}});d=[].concat.apply([],d);var c=dojo.filter(dojo.map(d,function(f){return mojo.queryFirst(f.hash)}),function(f){return f});return c};this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(e,c){var d=mojo.query("> .panes-content > .pane-content",e);dojo.forEach(a(d),function(f){dojo.addClass(f,"panes-hide")});return{element:d,action:"remove",cssClass:"pane-selected"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","UpdateClass",function(e,c){var d=mojo.query("> .panes-content > .pane-content",e)[c.getValue()];dojo.forEach(a(d),function(f){dojo.removeClass(f,"panes-hide")});return{element:d,action:"add",cssClass:"pane-selected"}});this.addObserver(this,"onInit","UpdateClass",function(f,d){var c=mojo.queryFirst("> .panes-nav select.panes-select",f);if(c){this.getController().setValue("selectedIndex",c.selectedIndex)}var g=mojo.query("> .panes-nav input.panes-select, > .panes-nav .panes-select input",f);if(g){for(var e=0;e<g.length;e++){if(g[e].checked){this.getController().setValue("selectedIndex",e);break}}}return{element:f,action:"add",cssClass:"panes-switcher-active"}});this.addObserver(this.getConfig("params").selectedIndex,"onChange","PublishMessage",function(e,c){var d=mojo.query("> .panes-content > .pane-content",e)[c.getValue()];return{topic:"/paneswitcher/changed",message:{context:d}}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PublishMessage","stdlib.behavior.MessagingBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.PanesToggleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.PanesToggleController",mojo.controller.Controller,{params:{selectedIndex:{required:false,defaultValue:0,type:Number}},addObservers:function(){this.addObserver(this.getContextElement(),"onclick","UpdateClass",function(c,b){var d=(b.type=="radio")?"Yes":"";var a=(b.type=="radio")?"No":"";if((b.type=="checkbox"&&b.checked)||(b.type=="radio"&&b.value=="yes")){return{element:mojo.queryFirst("#"+c.id.replace(":","_").replace(d,"")+"-toggled-pane"),action:"add",cssClass:"toggled-pane-show"}}else{if((b.type=="checkbox"&&!b.checked)||(b.type=="radio"&&b.value=="no")){return{element:mojo.queryFirst("#"+c.id.replace(":","_").replace(a,"")+"-toggled-pane"),action:"remove",cssClass:"toggled-pane-show"}}else{if(b.type=="radio"){dojo.query(".toggled-pane-show").removeClass("toggled-pane-show");return{element:mojo.queryFirst("#"+c.id.replace(":","_").replace(a,"")+"-toggled-pane"),action:"add",cssClass:"toggled-pane-show"}}else{if(c.id=="toggle-all-open"){dojo.query(".toggled-pane").addClass("toggled-pane-show");dojo.query(c).addClass("pane-toggle-hide");dojo.query("#toggle-all-close",c.parentNode).removeClass("pane-toggle-hide");dojo.query(".pane-toggle:not([id*=bottom]):not([id*=all])").addClass("pane-toggle-open")}else{if(c.id=="toggle-all-close"){dojo.query(".toggled-pane-show").removeClass("toggled-pane-show");dojo.query(c).addClass("pane-toggle-hide");dojo.query("#toggle-all-open",c.parentNode).removeClass("pane-toggle-hide");dojo.query(".pane-toggle-open:not([id*=bottom]):not([id*=all])").removeClass("pane-toggle-open")}else{var f;var e;if(dojo.hasClass(mojo.queryFirst("#"+c.id.replace(":","_").replace("-bottom","").replace("-outside","")+"-toggled-pane"),"toggled-pane-show")){f="remove";e=-1;if(c.id.match("-bottom")){dojo.query("#"+c.id.replace(":","_").replace("-bottom","")).removeClass("pane-toggle-open");dojo.query("#"+c.id.replace(":","_").replace("-bottom","")+"-outside").removeClass("pane-toggle-open")}else{if(c.id.match("-outside")){dojo.query("#"+c.id.replace(":","_").replace("-outside","")).removeClass("pane-toggle-open");dojo.query("#"+c.id.replace(":","_").replace("-outside","")+"-outside").removeClass("pane-toggle-open")}else{dojo.query("#"+c.id.replace(":","_")).removeClass("pane-toggle-open");dojo.query("#"+c.id.replace(":","_")+"-outside").removeClass("pane-toggle-open")}}}else{f="add";e=1;dojo.query("#"+c.id.replace(":","_").replace("-bottom","").replace("-outside","")).addClass("pane-toggle-open");dojo.query("#"+c.id.replace(":","_").replace("-bottom","").replace("-outside","")+"-outside").addClass("pane-toggle-open")}if(dojo.query(".toggled-pane").length==dojo.query(".toggled-pane-show").length+e){dojo.query("#toggle-all-open").addClass("pane-toggle-hide");dojo.query("#toggle-all-close").removeClass("pane-toggle-hide")}else{dojo.query("#toggle-all-open").removeClass("pane-toggle-hide");dojo.query("#toggle-all-close").addClass("pane-toggle-hide")}return{element:mojo.queryFirst("#"+c.id.replace(":","_").replace("-bottom","").replace("-outside","")+"-toggled-pane"),action:f,cssClass:"toggled-pane-show"}}}}}}});this.addObserver(this,"onInit","UpdateClass",function(d,c,a){var e=(d.type=="radio")?"Yes":"";var b=(d.type=="radio")?"No":"";if((d.type=="checkbox"&&d.checked)||(d.type=="radio"&&d.value=="yes"&&d.checked)){return{element:mojo.queryFirst("#"+d.id.replace(":","_").replace(e,"")+"-toggled-pane"),action:"add",cssClass:"toggled-pane-show"}}else{if((d.type=="checkbox"&&!d.checked)||(d.type=="radio"&&d.value=="no"&&d.checked)){return{element:mojo.queryFirst("#"+d.id.replace(":","_").replace(b,"")+"-toggled-pane"),action:"remove",cssClass:"toggled-pane-show"}}else{if(d.type=="radio"){if(d.checked){return{element:mojo.queryFirst("#"+d.id.replace(":","_").replace(b,"")+"-toggled-pane"),action:"add",cssClass:"toggled-pane-show"}}}else{dojo.query(".toggled-pane-show").forEach(function(f){dojo.query("#"+f.id.replace("-toggled-pane","")).addClass("pane-toggle-open");dojo.query("#"+f.id.replace("-toggled-pane","")+"-outside").addClass("pane-toggle-open")});if(dojo.query(".toggled-pane").length==dojo.query(".toggled-pane-show").length){dojo.query("#toggle-all-open").addClass("pane-toggle-hide");dojo.query("#toggle-all-close").removeClass("pane-toggle-hide")}else{dojo.query("#toggle-all-open").removeClass("pane-toggle-hide");dojo.query("#toggle-all-close").addClass("pane-toggle-hide")}}}}});this.addObserver(this.getContextElement(),"onclick","UpdateClass",function(c,b){var d=(b.type=="radio")?"Yes":"";var a=(b.type=="radio")?"No":"";if((b.type=="checkbox"&&b.checked)||(b.type=="radio"&&b.value=="yes")){return{element:mojo.queryFirst("#"+c.id.replace(":","_").replace(d,"")+"-toggled-pane-alt"),action:"remove",cssClass:"toggled-pane-show"}}else{if((b.type=="checkbox"&&!b.checked)||(b.type=="radio"&&b.value=="no")){return{element:mojo.queryFirst("#"+c.id.replace(":","_").replace(a,"")+"-toggled-pane-alt"),action:"add",cssClass:"toggled-pane-show"}}}});this.addObserver(this,"onInit","UpdateClass",function(d,c,a){var e=(d.type=="radio")?"Yes":"";var b=(d.type=="radio")?"No":"";if((d.type=="checkbox"&&d.checked)||(d.type=="radio"&&d.value=="yes"&&d.checked)){return{element:mojo.queryFirst("#"+d.id.replace(":","_").replace(e,"")+"-toggled-pane-alt"),action:"remove",cssClass:"toggled-pane-show"}}else{if((d.type=="checkbox"&&!d.checked)||(d.type=="radio"&&d.value=="no"&&d.checked)){return{element:mojo.queryFirst("#"+d.id.replace(":","_").replace(b,"")+"-toggled-pane-alt"),action:"add",cssClass:"toggled-pane-show"}}}});this.addObserver(this.getContextElement(),"onclick","UpdateFormField",function(b,a){var d=mojo.queryFirst(".toggle-form-field",b);var c=mojo.queryFirst("input",d);if(c){if(dojo.hasClass(mojo.queryFirst("#"+b.id.replace(":","_").replace("-bottom","").replace("-outside","")+"-toggled-pane"),"toggled-pane-show")){return{formObj:b,fields:[{name:c.name,value:"true"}]}}else{return{formObj:b,fields:[{name:c.name,value:"false"}]}}}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("UpdateFormField","stdlib.behavior.UpdateFormFieldBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.PopupDisplayController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.PopupDisplayController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query(".popup-trigger"),"onclick","PreventDefault");this.addObserver(mojo.query(".popup-trigger"),"onclick","DisplayPopup",function(c,b,a){return{element:c,action:"add",cssClass:"ecomm-popup-active"}});this.addObserver(this,"onInit","DisplayPopup",function(c,b,a){if(dojo.hasClass(c,"ecomm-popup-pending")){return{element:c,action:"add",cssClass:"ecomm-popup-active"}}});this.addObserver(".close-button","onclick","PreventDefault");this.addObserver(".close-button","onclick","DisplayPopup",function(c,b,a){return{element:c,action:"remove",cssClass:"ecomm-popup-active"}});this.addObserver(".cancel-button","onclick","PreventDefault");this.addObserver(".cancel-button","onclick","DisplayPopup",function(c,b,a){return{element:c,action:"remove",cssClass:"ecomm-popup-active"}});this.addObserver(".back-button","onclick","PreventDefault");this.addObserver(".back-button","onclick","DisplayPopup",function(c,b,a){return{element:c,action:"remove",cssClass:"ecomm-popup-active"}})},addCommands:function(){this.addCommand("DisplayPopup","cox.behavior.ecomm.PopupDisplayBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.PromoCodeModuleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.PromoCodeModuleController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.queryFirst(".enter-code-link",this.getContextElement()),"onclick","PreventDefault");this.addObserver(mojo.queryFirst("#ctl00_ContentPlaceHolder1_PromoCodeControl_PromoCode",this.getContextElement()),"onkeyup","PreventDefault");this.addObserver(mojo.queryFirst(".submit-btn",this.getContextElement()),"onclick","PreventDefault");this.addObserver(mojo.queryFirst(".btn-grey",this.getContextElement()),"onclick","PreventDefault");this.addObserver(mojo.queryFirst(".enter-code-link",this.getContextElement()),"onclick","UpdateCSS",function(c,b,a){return{element:mojo.queryFirst(".promo-code-entry",c),action:"add",cssClass:"promo-code-entry-show"}});this.addObserver(mojo.queryFirst(".enter-code-link",this.getContextElement()),"onclick","UpdateCSS",function(c,b,a){return{element:b,action:"add",cssClass:"enter-code-link-hide"}});this.addObserver(mojo.queryFirst(".enter-code-link",this.getContextElement()),"onclick","SendFocus",function(c,b,a){return{element:b,target:mojo.queryFirst("#ctl00_ContentPlaceHolder1_PromoCodeControl_PromoCode")}});this.addObserver(mojo.queryFirst("#ctl00_ContentPlaceHolder1_PromoCodeControl_PromoCode",this.getContextElement()),"onkeyup","SubmitOnEnter",function(c,b,a){return{element:b}});this.addObserver(mojo.query(".submit-btn",this.getContextElement()),"onclick","ValidatePromoCode",function(c,b,a){return{errorField:mojo.queryFirst(".error",c),element:mojo.queryFirst("#ecomm-promo-code")}});this.addObserver(mojo.queryFirst(".btn-grey",this.getContextElement()),"onclick","UpdateCSS",function(c,b,a){return{element:mojo.queryFirst(".promo-code-entry"),action:"remove",cssClass:"promo-code-entry-show"}});this.addObserver(mojo.queryFirst(".btn-grey",this.getContextElement()),"onclick","UpdateCSS",function(c,b,a){return{element:mojo.queryFirst(".enter-code-link"),action:"remove",cssClass:"enter-code-link-hide"}})},addCommands:function(){this.addCommand("UpdateCSS","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("SendFocus","cox.behavior.ecomm.SendFocusBehavior");this.addCommand("SubmitOnEnter","cox.behavior.ecomm.SubmitOnEnterBehavior");this.addCommand("ValidatePromoCode","cox.behavior.ecomm.ValidatePromoCodeBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.ShowMeOffersForModuleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.ShowMeOffersForModuleController",mojo.controller.Controller,{params:{selectors:{required:false,defaultValue:[],type:Array}},addObservers:function(){this.addObserver(".signme-link","onclick","PreventDefault");this.addObserver(".signme-link","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".cox-user-login",c),action:"add",cssClass:"cox-user-login-show"}});this.addObserver(".signme-link","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".cox-user-address",c),action:"add",cssClass:"cox-user-address-hide"}});this.addObserver(".btn-grey","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".cox-user-login",c),action:"remove",cssClass:"cox-user-login-show"}});this.addObserver(".btn-grey","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".cox-user-address",c),action:"remove",cssClass:"cox-user-address-hide"}});this.addObserver(".submit-btn","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".cox-user-logged-in-noshow",c.parentNode),action:"add",cssClass:"cox-user-login-show"}});this.addObserver(".submit-btn","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".show-me-offers-for-module",c.parentNode),action:"add",cssClass:"show-me-offers-for-module-hide"}});this.addObserver(".signout-link","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".cox-user-logged-in-noshow",c.parentNode),action:"remove",cssClass:"cox-user-login-show"}});this.addObserver(".signout-link","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".show-me-offers-for-module",c.parentNode),action:"remove",cssClass:"show-me-offers-for-module-hide"}});this.addObserver(".find-bundles-btn","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".cox-user-not-logged-in-noshow",c.parentNode),action:"add",cssClass:"cox-user-login-show"}});this.addObserver(".find-bundles-btn","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".show-me-offers-for-module",c.parentNode),action:"add",cssClass:"show-me-offers-for-module-hide"}});this.addObserver(".signmein-link","onclick","PreventDefault");this.addObserver(".signmein-link","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".cox-user-login",c),action:"add",cssClass:"cox-user-login-show"}});this.addObserver(".signmein-link","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".cox-user-address",c),action:"add",cssClass:"cox-user-address-hide"}});this.addObserver(".signmein-link","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".show-me-offers-for-module",c),action:"remove",cssClass:"show-me-offers-for-module-hide"}});this.addObserver(".signmein-link","onclick","UpdateCSS",function(c,b,a){return{element:mojo.query(".cox-user-not-logged-in-noshow",c),action:"remove",cssClass:"cox-user-login-show"}})},addCommands:function(){this.addCommand("UpdateCSS","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.SmallPopupDisplayController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.SmallPopupDisplayController",mojo.controller.Controller,{addObservers:function(){var b=function(c,d,h){var o=mojo.queryFirst(".popup-trigger-small-content",(d.parentNode.tagName=="P"||d.parentNode.tagName=="LABEL")?d.parentNode.parentNode:d.parentNode);if(o){c.innerHTML=o.innerHTML;var m=mojo.query(".command-link, .continue-button",o);var n=mojo.query(".command-link, .continue-button",c);if(m){for(var f=0;f<m.length;f++){if(m[f].onclick){n[f].onclick=m[f].onclick;var l=n[f].href;if(l.indexOf("?")==-1){n[f].href=n[f].href+"?cox"}}}}}if(dojo.hasClass(d,"iframe-toc")&&d.hash){var e=mojo.queryFirst("iframe",c);var g=function(){window.setTimeout(function(){dojo.addClass(e.parentNode,"iframe-toc-wrapper-active")},350)};e.onload=g;e.onreadystatechange=function(){if(e.readyState=="complete"){g()}};if(e){e.src=d.href+"---ALONE"}}return{element:c,action:"add",cssClass:"ecomm-popup-active"}};var a=mojo.query(".popup-trigger-small");this.addObserver(a,"onclick","PreventDefault");this.addObserver(a,"onclick","DisplayPopup",b);this.addObserver(mojo.Messaging.getTopic("/throbber"),"onPublish","UpdateClass",function(f,e,d){var c=mojo.query(".popup-trigger-small");c.forEach(function(g){if(!g.mojoObserve||!g.mojoObserve[d.declaredClass]){d.addObserver(g,"onclick","PreventDefault");d.addObserver(g,"onclick","DisplayPopup",b)}})});this.addObserver(this,"onInit","DisplayPopup",function(c,d,g){var n=mojo.queryFirst(".ecomm-popup-pending");if(n){if(dojo.hasClass(n,"ecomm-popup")||dojo.hasClass(n,"ecomm-popup-small-form")){return}if(n!=c){c.innerHTML=n.innerHTML;var l=mojo.query(".command-link, .continue-button",n);var m=mojo.query(".command-link, .continue-button",c);if(l){for(var f=0;f<l.length;f++){if(l[f].onclick){m[f].onclick=l[f].onclick;var h=m[f].href;if(h.indexOf("?")==-1){m[f].href=m[f].href+"?cox"}}}}var e=mojo.query("script",c);e.forEach(function(o){o.parentNode.removeChild(o)})}return{element:c,action:"add",cssClass:"ecomm-popup-active"}}});this.addObserver(".close-button","onclick","PreventDefault");this.addObserver(".cancel-button","onclick","PreventDefault");this.addObserver(".print-button","onclick","PreventDefault");this.addObserver(".close-button","onclick","DisplayPopup",function(e,d,c){return{element:e,action:"remove",cssClass:"ecomm-popup-active"}});this.addObserver(".cancel-button","onclick","DisplayPopup",function(e,d,c){return{element:e,action:"remove",cssClass:"ecomm-popup-active"}});this.addObserver(".print-button","onclick","UpdateClass",function(e,d,c){window.print()})},addCommands:function(){this.addCommand("DisplayPopup","cox.behavior.ecomm.PopupDisplayBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.ThrobberController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.ThrobberController",mojo.controller.Controller,{addObservers:function(){var b=0;var c;var a=function(h,g,f,m){if(!m&&!dojo.hasClass(h,"throbber-visible")){return}var d=(c&&c.parentNode&&c.parentNode.tagName)?dojo.position(c,true):{};var e=dojo.position(h.parentNode,true);var l=dojo.position(h,true);var n=(typeof d.y=="undefined")?b:d.y-e.y+d.h/2-l.h/2;b=Math.min(Math.max(n,document.documentElement.scrollTop-e.y),document.documentElement.scrollTop-e.y+document.documentElement.clientHeight-l.h);h.style.top=b+"px"};this.addObserver(mojo.Messaging.getTopic("/throbber"),"onPublish","UpdateClass",function(f,e,d){var l=e.getMessage();if(l.show){c=document.getElementById(l.id.replace(/\$/g,"_"));a(f,e,d,true)}var h=mojo.query(".pane-toggle");h.forEach(function(m){if(!m.mojoObserve||!m.mojoObserve[d.declaredClass]){mojo.controller.Map.getInstance().mapController("cox.controller.ecomm.PanesToggleController",m)}});var g=mojo.query(".toggle");g.forEach(function(m){if(!m.mojoObserve||!m.mojoObserve[d.declaredClass]){mojo.controller.Map.getInstance().mapController("cox.controller.ToggleController",m)}});return{element:f,action:l.show?"add":"remove",cssClass:"throbber-visible"}});this.addObserver(window,"onscroll","UpdateClass",a);this.addObserver(mojo.query("span.choice.checkbox span input"),"onclick","UpdateClass",function(f,e,d){c=e;a(f,e,d,true)})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.ToggleIncrementsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.ToggleIncrementsController",mojo.controller.Controller,{params:{},addObservers:function(){this.addObserver(this.getContextElement(),"onchange","ToggleIncrements",function(c,b,a){return{contextElement:c}});this.addObserver(this,"onInit","ToggleIncrements",function(c,b,a){return{contextElement:c}})},addCommands:function(){this.addCommand("ToggleIncrements","cox.behavior.ecomm.ToggleIncrementsBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.ecomm.ToolTipController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.ToolTipController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".ecomm-tooltip-right, .ecomm-tooltip-left, .btn-help","onmouseover","ToolTip",function(c,b){var d=mojo.queryFirst(".tooltip-info",b.parentNode);if(d){d=d.innerHTML}else{d="fail"}var a={show:true,info:d,offsetX:-233,offsetY:-43,underlayMark:".wrapper",template:this.getController()._reverseTooltipTemplate};var e=!dojo.hasClass(b,"ecomm-tooltip-right");if(e){a.anchorX=1;a.anchorY=0;a.offsetX=dojo.position(b,true).w+20;a.offsetY=-28;a.template=this.getController()._tooltipTemplate}if(dojo.hasClass(b,"ecomm-tooltip-wide")){a.template=a.template.replace(/class="/i,'class="wide-tooltip ');if(a.offsetX<0){a.offsetX-=134}}if(dojo.hasClass(b,"watch-tooltip")){a.template=a.template.replace(/class="/i,'class="watch-tooltip ');a.offsetY=-28}return a});this.addObserver(".ecomm-tooltip-right, .ecomm-tooltip-left, .btn-help","onmouseout","ToolTip",function(b,a){return{show:false}});this.addObserver("a.ecomm-tooltip-right:not(.watch-tooltip), a.ecomm-tooltip-left:not(.watch-tooltip), a.btn-help","onclick","PreventDefault")},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("ToolTip","cox.behavior.ToolTipBehavior")},addIntercepts:function(){},_tooltipTemplate:'<div class="myplace-tooltip generic-tooltip tooltip" id="faq-content"><div class="wrapper"><div class="arrow">&nbsp;</div><table class="head"><tr><td class="tl"></td><td class="t">&nbsp;</td><td class="tr"></td></tr></table><table class="body"><tr><td class="l"></td><td class="c"><div class="dialog-pane-content reset-styles"></div></td><td class="r"></td></tr></table>\n<table class="foot"><tr><td class="bl"></td><td class="b">&nbsp;</td><td class="br"></td></tr></table></div></div>',_reverseTooltipTemplate:'<div class="myplace-tooltip generic-tooltip tooltip" id="faq-content"><div class="wrapper"><div class="rightarrow">&nbsp;</div><table class="head"><tr><td class="tl"></td><td class="t">&nbsp;</td><td class="tr"></td></tr></table><table class="body"><tr><td class="l"></td><td class="c"><div class="dialog-pane-content reset-styles"></div></td><td class="r"></td></tr></table>\n<table class="foot"><tr><td class="bl"></td><td class="b">&nbsp;</td><td class="br"></td></tr></table></div></div>'});dojo.provide("cox.controller.ecomm.YourBundledServicesModuleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.ecomm.YourBundledServicesModuleController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".edit-wishlist-link","onclick","PreventDefault");this.addObserver(".submit-btn","onclick","PreventDefault");this.addObserver(mojo.query(".edit-wishlist-link"),"onclick","UpdateCSS",function(c,b,a){return{element:mojo.queryFirst(".regular",b.parentNode),action:"remove",cssClass:"hidden"}});this.addObserver(mojo.query(".edit-wishlist-link"),"onclick","UpdateCSS",function(c,b,a){return{element:b,action:"add",cssClass:"hidden"}});this.addObserver(mojo.query(".edit-wishlist-link"),"onclick","UpdateCSS",function(c,b,a){return{element:mojo.queryFirst(".currently-bundled-services",b.parentNode),action:"add",cssClass:"hidden"}});this.addObserver(mojo.query(".submit-btn"),"onclick","UpdateCSS",function(c,b,a){return{element:mojo.queryFirst(".edit-wishlist-link",b.parentNode.parentNode.parentNode),action:"remove",cssClass:"hidden"}});this.addObserver(mojo.query(".submit-btn"),"onclick","UpdateCSS",function(c,b,a){return{element:b.parentNode.parentNode,action:"add",cssClass:"hidden"}});this.addObserver(mojo.query(".submit-btn"),"onclick","UpdateCSS",function(c,b,a){return{element:mojo.queryFirst(".currently-bundled-services",b.parentNode.parentNode.parentNode),action:"remove",cssClass:"hidden"}})},addCommands:function(){this.addCommand("UpdateCSS","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.AjaxController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.AjaxController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","AjaxBehavior",function(e,d,c){var f;var b=mojo.queryFirst(".response",e);var g=mojo.queryFirst(".loading-wrapper",e).id;mojo.query(".ajax-links a",e).forEach(function(h,l){if(dojo.hasClass(h,"active")){f=h.href}});if(f){return{responseContainer:b,loadingWrapperId:g,activeLink:f,placementPosition:dojo.attr(e,"data-target-position")}}if(typeof(ajaxUrl)!="undefined"){return{responseContainer:b,loadingWrapperId:g,activeLink:ajaxUrl}}});this.addObserver(".ajax-links a","onclick","PreventDefault");this.addObserver(".ajax-links a","onclick","UpdateClass",function(d,c,b){mojo.query(".ajax-links a",d).forEach(function(e,f){if(dojo.hasClass(e,"active")){dojo.removeClass(e,"active")}dojo.addClass(c,"active");if(e.href==c.href){dojo.addClass(e,"active")}})});this.addObserver(".ajax-links a","onclick","AjaxBehavior",function(d,c,b){var e=mojo.queryFirst(".response",d);if(dojo.attr(c,"data-target")){e=mojo.queryFirst("."+dojo.attr(c,"data-target"),d)}return{responseContainer:e,loadingWrapperId:mojo.queryFirst(".loading-wrapper",d).id,activeLink:c.href,placementPosition:dojo.attr(c,"data-target-position")}});var a=function(d,c,b){b.addObserver(mojo.query(".ajax-select",d),"onchange","AjaxBehavior",function(g,f,e){return{responseContainer:mojo.queryFirst(".response",g),loadingWrapperId:mojo.queryFirst(".loading-wrapper",g).id,activeLink:f.form.action+f.value,placementPosition:dojo.attr(f,"data-target-position")}})};this.addObserver(mojo.Messaging.getTopic("remapControllers"),"onPublish","MapControllers",function(d,c,b){a(d,c,b);return{contextObj:mojo.queryFirst(".response",d)}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("MapControllers","stdlib.command.MapControllersCommand");this.addCommand("AjaxBehavior","cox.behavior.interface.AjaxBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.BookmarkController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.BookmarkController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this.getContextElement(),"onclick","PreventDefault");this.addObserver(this.getContextElement(),"onclick","BookmarkPage")},addCommands:function(){this.addCommand("BookmarkPage","cox.behavior.interface.AddtoBookmarksBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.CompareGridController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.CompareGridController",mojo.controller.Controller,{params:{curStartPosition:{defaultValue:1,type:Number},curEndPosition:{defaultValue:5,type:Number},minPosition:{defaultValue:1,type:Number},maxPosition:{defaultValue:5,type:Number}},addObservers:function(){this.addObserver(this,"onInit","CompareGrid",function(d,b,a){a.setValue("curStartPosition",dojo.query(".compare-static col").length);a.setValue("minPosition",a.getValue("curStartPosition"));a.setValue("curEndPosition",a.getValue("curStartPosition")+dojo.query(".compare-options col").length);a.setValue("maxPosition",dojo.query(".compare-table col").length-dojo.query(".compare-options col").length);for(var c=(a.getValue("curStartPosition")+dojo.query(".compare-options col").length);c<(a.getValue("curStartPosition")+dojo.query(".compare-options col").length+dojo.query(".compare-hidden col").length);c++){dojo.query(".compare-table tr > *:nth-child("+(c+1)+")").forEach(function(e){dojo.addClass(e,"hide")})}dojo.query(".compare-table col").forEach(function(l,g,f){if(dojo.hasClass(l,"in-cart")){var h=dojo.query(".compare-table tr > *:nth-child("+(g+1)+")");h.addClass("in-cart");var e=dojo.query(h.getLast());e.addClass("in-cart-last")}if(dojo.hasClass(l,"primary")){var h=dojo.query(".compare-table tr > *:nth-child("+(g+1)+")");h.addClass("primary");var e=dojo.query(h.getLast());e.addClass("primary-last");a.setValue("curStartPosition",(g-1));a.setValue("curEndPosition",(g-1)+dojo.query(".compare-options col").length)}})});this.addObserver(".compare-buttons a","onclick","PreventDefault");this.addObserver(".compare-buttons a","onclick","CompareGrid");this.addObserver(mojo.Messaging.getTopic("/throbber"),"onPublish","CompareGrid",function(d,b,a){a.setValue("curStartPosition",dojo.query(".compare-static col").length);a.setValue("minPosition",a.getValue("curStartPosition"));a.setValue("curEndPosition",a.getValue("curStartPosition")+dojo.query(".compare-options col").length);a.setValue("maxPosition",dojo.query(".compare-table col").length-dojo.query(".compare-options col").length);for(var c=(a.getValue("curStartPosition")+dojo.query(".compare-options col").length);c<(a.getValue("curStartPosition")+dojo.query(".compare-options col").length+dojo.query(".compare-hidden col").length);c++){dojo.query(".compare-table tr > *:nth-child("+(c+1)+")").forEach(function(e){dojo.addClass(e,"hide")})}dojo.query(".compare-table col").forEach(function(l,g,f){if(dojo.hasClass(l,"in-cart")){var h=dojo.query(".compare-table tr > *:nth-child("+(g+1)+")");h.addClass("in-cart");var e=dojo.query(h.getLast());e.addClass("in-cart-last")}if(dojo.hasClass(l,"primary")){var h=dojo.query(".compare-table tr > *:nth-child("+(g+1)+")");h.addClass("primary");var e=dojo.query(h.getLast());e.addClass("primary-last");a.setValue("curStartPosition",(g-1));a.setValue("curEndPosition",(g-1)+dojo.query(".compare-options col").length)}})})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("CompareGrid","cox.behavior.interface.CompareGridBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.EnlargeImageController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.EnlargeImageController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this.getContextElement(),"onclick","PreventDefault");this.addObserver(this.getContextElement(),"onclick","Messaging",function(c,d){var f=this.getContextElement().hash;var e="";var b=this.getContextElement().href;if((f.length>1)&&(f.match(/^#enlarge/))){var l=420;var m=540;var n=1.5;f=f.split("|");var h=+f[1];var g=+f[2];var a=Math.min(n,l/h,m/g);e=" width='"+Math.round(h*a)+"' height='"+Math.round(g*a)+"' ";if(dojo.isIE){b="/ui/emergence/corp/en/img/blank.gif' style='filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\""+b+'", sizingMethod="scale")'}}return{topic:"dialog",message:{enabled:true,title:this.getContextElement().title,href:"/ui/emergence/corp/en/page/enlargeImage.xhtml",substitutionMap:{"#bigImage":"<img src='"+b+"'"+e+"/>","#bigImageCaption":this.getContextElement().rel},width:560,height:-1}}})},addCommands:function(){this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.HeaderController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.HeaderController",mojo.controller.Controller,{addObservers:function(){this.addObserver("#pf-print","onclick","PreventDefault");this.addObserver("#pf-style-font-small","onclick","PreventDefault");this.addObserver("#pf-style-font-medium","onclick","PreventDefault");this.addObserver("#pf-style-font-large","onclick","PreventDefault")},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.LoadingController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.LoadingController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.Messaging.getTopic("/throbber"),"onPublish","UpdateClass",function(d,c,b){var e=c.getMessage();var a=mojo.query("#"+e.id.replace(/\$/g,"_"));return{element:a,action:e.status?"add":"remove",cssClass:"loading-wrapper-active"}});this.addObserver(".loading-trigger","onclick","UpdateClass",function(a){return{element:a,action:"add",cssClass:"loading-wrapper-active"}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.PairupCheckboxGroupController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.PairupCheckboxGroupController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this.getContextElement(),"onclick","ToggleCheckbox",function(d,b,a){var c=dojo.byId("accAuth-dirtyCheckIndicator");c.value="Dirty";return{caller:b,context:d}});this.addObserver(mojo.Messaging.getTopic("/toggleCSSTopic"),"onPublish","UpdateClass",function(b,a){var c=a.getMessage();return{element:c.elements,action:c.action,cssClass:c.applyStyle}})},addCommands:function(){this.addCommand("ToggleCheckbox","cox.behavior.ToggleCheckboxSelectBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.RearrangeDataTableStyleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.RearrangeDataTableStyleController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".rearrange-datatable-style-update","onclick","RearrangeDataTableStyle",function(c,b,a){return{caller:b,context:c,elementEvent:"onclick"}});this.addObserver(mojo.Messaging.getTopic("/toggleCSSTopic"),"onPublish","UpdateClass",function(b,a){var c=a.getMessage();return{element:c.elements,action:c.action,cssClass:c.applyStyle}})},addCommands:function(){this.addCommand("RearrangeDataTableStyle","cox.behavior.interface.RearrangeDataTableStyleBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.RotatorController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.RotatorController",mojo.controller.Controller,{params:{rotatorXML:{},transitionTimer:{defaultValue:"1",type:String},xmlError:{defaultValue:false,type:Boolean},loop:{defaultValue:true,type:Boolean}},addObservers:function(){this.addObserver(this,"onInit","LoadRotatorXML",function(c,d,b){if(typeof(xmlFile)!="undefined"){var f={getXML:function(h){b.setValue("rotatorXML",h.documentElement);b.setValue("transitionTimer",b.getValue("rotatorXML").attributes.getNamedItem("timer").nodeValue);b.getValue("rotatorXML").attributes.getNamedItem("looping").nodeValue=="yes"?b.setValue("loop",true):b.setValue("loop",false)}};var e={getErrorMSG:function(){b.setValue("xmlError",true)}};var a=mojo.Messaging.subscribe("loadedSuccessfulXML",f,"getXML");var g=mojo.Messaging.subscribe("errorLoadingXML",e,"getErrorMSG");return{url:xmlFile,responseContainer:dojo.byId("main-rotator")}}else{dojo.byId("main-rotator").innerHTML="<div class='msgError default-rotator-dimensions'><p> We're sorry, we can't find this part of the page right now.</p></div>";console.log("ROTATOR CONTROLLER ERROR: There was an error with the xml url variabled that was defined")}});this.addObserver(this.getCommand("LoadRotatorXML"),"xmlLoaded","ParseRotatorXML",function(b,c,a){return{xml:a.getValue("rotatorXML")}});this.addObserver(this.getCommand("LoadRotatorXML"),"xmlLoaded","RotatorControls",function(b,c,a){return{control:"play",timer:a.getValue("transitionTimer"),xmlError:a.getValue("xmlError"),loop:a.getValue("loop")}});this.addObserver(".rotator-controls li","onclick","PreventDefault");this.addObserver(".rotator-controls li","onclick","RotatorControls",function(b,c,a){return{control:c.id,timer:a.getValue("transitionTimer"),xmlError:a.getValue("xmlError"),loop:a.getValue("loop")}});this.addObserver(".rotator-slide a","onclick","PreventDefault",function(b,c,a){window.open(dojo.attr(c,"href"),"_self")});this.addObserver(".rotator-slide","onmouseover","RotatorControls",function(b,c,a){return{control:"pause",timer:a.getValue("transitionTimer"),xmlError:a.getValue("xmlError"),loop:a.getValue("loop")}});this.addObserver(".rotator-slide","onmouseout","RotatorControls",function(b,c,a){return{control:"play",timer:a.getValue("transitionTimer"),xmlError:a.getValue("xmlError"),loop:a.getValue("loop")}});this.addObserver(".rotator-slide","onclick","PreventDefault",function(b,c,a){window.open(dojo.attr(c,"href"),"_self")})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("LoadRotatorXML","cox.behavior.interface.XMLLoaderBehavior");this.addCommand("ParseRotatorXML","cox.behavior.interface.ParseRotatorXMLBehavior");this.addCommand("RotatorControls","cox.behavior.interface.RotatorControlsBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.SortableTableController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.SortableTableController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.Messaging.getTopic("/toggle/changed"),"onPublish","UpdateClass",function(c,b){var d=b.getMessage();var a=d.context;if(dojo.hasClass(a.parentNode,"order-history")){return{element:mojo.queryFirst("tr",a),action:d.isOpen?"add":"remove",cssClass:"expanded"}}});this.addObserver(this,"onInit","UpdateClass",function(d,b){var h=function(l){console.log(l+"\nTerminated.")};var g=function(l,m,n){switch(m){case"currency":l.sort(function(p,o){if(n=="asc"){return p.content-o.content}else{return o.content-p.content}});break;case"date":l.sort(function(p,o){if(n=="asc"){return p.content-o.content}else{return o.content-p.content}});break;case"text":l.sort(function(p,o){if(n=="asc"){return p.content.toLowerCase()>o.content.toLowerCase()?1:-1}else{return o.content.toLowerCase()>p.content.toLowerCase()?1:-1}});break;case"checkbox":l.sort(function(p,o){if(n=="asc"){return p.content-o.content}else{return o.content-p.content}});break;case"code":l.sort(function(p,o){if(n=="asc"){return p.content.toLowerCase()>o.content.toLowerCase()?1:-1}else{return o.content.toLowerCase()>p.content.toLowerCase()?1:-1}});break;default:h("Missing or invalid th sorttype attribute for sortType function.");break}};var e=function(q,o,n,p){switch(o){case"currency":return q.replace(/[$()]/ig,"").trim();break;case"date":tmp=q.replace(new RegExp(/-/g),"/");var l=tmp.split("/");if(l.length==3){return new Date(tmp).getTime()}else{if(l.length==2){return new Date(l[0]+"/00/"+l[1]).getTime()}else{console.log("Invalid date format.")}}break;case"checkbox":var m=mojo.queryFirst("input",n);var r=dojo.attr(m,"checked");return r;break;case"text":return q;break;case"code":if(p=="asc"){return q.length==1?"-"+q:q}else{return q.length>1?"-"+q:q}break;default:h("Invalid column type specified for cleanType function.");break}};var f=d;if(!f){h("No table element found.");return}var a=$$(mojo.query("thead th.sortable",f));if(!a.length){h("No sortable headers found");return}a.each(function(l){l.setProperty("sortorder",l.hasClass("asc")?"asc":"desc")});a.addEvent("click",function(l){c(this)});var c=function(r){var p=r.cellIndex;var q=r.getProperty("sorttype");r.setProperty("sortorder",r.getProperty("sortorder")=="asc"?"desc":"asc");mojo.query(".active",f).removeClass("active");mojo.query("th",f).removeClass("asc");mojo.query("th",f).removeClass("desc");r.addClass("active");r.removeClass("asc").removeClass("desc").addClass(r.getProperty("sortorder"));var t=[];var l=[];var o=f.childNodes;for(var n=0;n<o.length;n++){if(o[n].tagName){var v=mojo.queryFirst("tr.brief",o[n]);if(v){l.push(v)}}}dojo.forEach(l,function(z,w){t.push({index:w,content:e($(mojo.query("td",z)[p]).getText(),q,$(mojo.query("td",z)[p]),r.getProperty("sortorder"))})});g(t,q,r.getProperty("sortorder"));var u=$$(mojo.query("tbody",f)).removeElements();var m=[];t.each(function(z,w){m[w]=u[z.index]});m.each(function(w){w.injectInside(f)})}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.AjaxFormSubmitController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.AjaxFormSubmitController",mojo.controller.Controller,{params:{formError:{defaultValue:"",type:String}},addObservers:function(){this.addObserver("form","onsubmit","PreventDefault");this.addObserver(mojo.Messaging.getTopic("formError"),"onPublish","UpdateClass",function(c,b,a){var d=b.getMessage();a.setValue("formError",d.action)});this.addObserver("form","onsubmit","AjaxFormSubmitBehavior",function(c,b,a){return{responseContainer:c,theForm:mojo.queryFirst("form",c),context:c,formError:a.getValue("formError")}})},addCommands:function(){this.addCommand("AjaxFormSubmitBehavior","cox.behavior.interface.form.AjaxFormSubmitBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.BrowseFileController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.BrowseFileController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".browsefile-controller-continue-button","onclick","ValidateModalPopUP",function(c,b,a){return{form:c}});this.addObserver(".browsefile-controller-continue-button","onclick","ProcessFileupload",function(c,b,a){return{caller:b,context:c}});this.addObserver(mojo.Messaging.getTopic("dialog"),"onPublish","UpdateClass",function(d,c,b){var e=c.getMessage();var a=mojo.queryFirst(".newlycreated-filetag",d);if(!e.enabled){dojo.destroy(a)}})},addCommands:function(){this.addCommand("ProcessFileupload","cox.behavior.business.ProcessFileuploadBehavior");this.addCommand("ValidateModalPopUP","cox.behavior.interface.form.ValidateModalPopUPBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.CaptureEventNodeController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.CaptureEventNodeController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onclick","PreventDefault");this.addObserver(".trigger-capture-event","onclick","CaptureElementID",function(b,a){return{clickedNode:a,contextElem:b}});this.addObserver(mojo.Messaging.getTopic("updateCSSClassTopic"),"onPublish","UpdateClass",function(c,b,a){var d=b.getMessage();return{element:d.clickedNode,action:d.action,cssClass:d.cssClass}})},addCommands:function(){this.addCommand("CaptureElementID","cox.behavior.interface.form.CaptureElementIDBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.CheckAllController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.CheckAllController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","UpdateClass",function(e,c,a){var f;dojo.some(e.className.split(" "),function(l){if(l.match(/check-all-group/)){f=l.match(/check-all-group-(.*)/)[1]}});var d=true;mojo.query("[class~=check-all-group-"+f+"]:not([class~=check-all])").forEach(function(l){if(!l.checked){d=false}if(!l.mojoObserve||!l.mojoObserve[a.declaredClass]){a.addObserver(l,"onclick","UpdateClass",function(p,o,n){var m=true;mojo.query("[class~=check-all-group-"+f+"]:not([class~=check-all])").forEach(function(q){if(!q.checked){m=false}});p.checked=m})}});e.checked=d;var b=mojo.queryFirst(".check-all-optional");var h;dojo.some(b.className.split(" "),function(l){if(l.match(/check-all-group/)){h=l.match(/check-all-group-(.*)/)[1]}});var g=true;mojo.query("[class~=check-all-group-"+h+"]:not([class~=check-all-optional])").forEach(function(l){if(!l.checked){g=false}if(!l.mojoObserve||!l.mojoObserve[a.declaredClass]){a.addObserver(l,"onclick","UpdateClass",function(o,n,m){var p=true;mojo.query("[class~=check-all-group-"+h+"]:not([class~=check-all-optional])").forEach(function(q){if(!q.checked){p=false}});b.checked=p})}});b.checked=g});this.addObserver(this.getContextElement(),"onclick","UpdateClass",function(c,b,a){var d;dojo.some(b.className.split(" "),function(e){if(e.match(/check-all-group/)){d=e.match(/check-all-group-(.*)/)[1]}});this.eventObj.stopPropagation();mojo.query("[class~=check-all-group-"+d+"]:not([class~=check-all])").forEach(function(e){e.checked=b.checked});if(b.checked){mojo.query("[class~=check-all-optional]").forEach(function(e){var f;dojo.some(e.className.split(" "),function(g){if(g.match(/check-all-group/)){f=g.match(/check-all-group-(.*)/)[1]}});mojo.query("[class~=check-all-group-"+f+"]").forEach(function(g){g.checked=b.checked?false:true})})}});this.addObserver(mojo.query(".check-all-optional"),"onclick","UpdateClass",function(c,b,a){var d;dojo.some(b.className.split(" "),function(e){if(e.match(/check-all-group/)){d=e.match(/check-all-group-(.*)/)[1]}});this.eventObj.stopPropagation();mojo.query("[class~=check-all-group-"+d+"]:not([class~=check-all-optional])").forEach(function(e){e.checked=b.checked});if(b.checked){mojo.query("[class~=check-all]").forEach(function(f){var e;dojo.some(f.className.split(" "),function(g){if(g.match(/check-all-group/)){e=g.match(/check-all-group-(.*)/)[1]}});mojo.query("[class~=check-all-group-"+e+"]").forEach(function(g){g.checked=b.checked?false:true})})}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.DatePickerController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.DatePickerController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","DatePicker",function(b,a){return{element:b}})},addCommands:function(){this.addCommand("DatePicker","cox.behavior.interface.form.DatePickerBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.FileUploadController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.FileUploadController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.Messaging.getTopic("modalPopUPError"),"onPublish","UpdateError",function(c,b,a){var d=b.getMessage();return d});this.addObserver(".fileupload-controller-open-popup","onclick","PreventDefault");this.addObserver(".fileupload-controller-open-popup","onclick","ConfirmationPopUp",function(c,d,l){var g;var b=dojo.attr(d,"count");var o=dojo.attr(d,"title");dojo.some(d.className.split(" "),function(q){if(q.match(/-hide/)||q.match(/-show/)){var p=q.slice(-5);g=q.replace(p,"")}});var f=dojo.byId(g+"-name");f.value="";var n="fileupload-controller-open-popup"+b;elem=dojo.byId(n);var m=mojo.query(".modal-requiredchkbox");for(var h=0;h<m.length;h++){m[h].checked=false}mojo.query(".msgError",elem).forEach(function(p){dojo.destroy(p)});var e=mojo.queryFirst(".newlycreated-filetag",c);if(!e){var a=mojo.queryFirst(".filetag-basecontainer"+b);dojo.create("input",{id:g+"-file-input",type:"file",name:g+"-file-input","class":"file-input-picker newlycreated-filetag"},a,"first")}mojo.controller.Controller.updateObservers("cox.controller.interface.form.StyledFileInputController");return{url:elem,title:o,action:"File Upload"}});this.addObserver(mojo.queryFirst(".fileupload-controller-save").form,"onsubmit","ShowFormSubmitThrobber",function(d,c,b){var a=500;var e;return{context:d}})},addCommands:function(){this.addCommand("UpdateError","cox.behavior.interface.form.UpdateErrorBehavior");this.addCommand("ConfirmationPopUp","cox.behavior.business.ConfirmationPopUpBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("ShowFormSubmitThrobber","cox.behavior.business.ShowFormSubmitThrobberBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.FormValidatorController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.FormValidatorController",mojo.controller.Controller,{params:{selectors:{required:false,defaultValue:[],type:Array}},addObservers:function(){this.addObserver(this.getContextElement(),"onsubmit","ValidateForm",function(c,b,a){return{form:b}});this.addObserver(mojo.Messaging.getTopic("formError"),"onPublish","UpdateError",function(c,b,a){var d=b.getMessage();if(d.form!=c){return}return d});this.addObserver(mojo.Messaging.getTopic("remapControllers"),"onPublish","MapControllers",function(){return{contextObj:mojo.queryFirst(".dialog-component-content")}})},addCommands:function(){this.addCommand("ValidateForm","cox.behavior.interface.form.ValidateFormBehavior");this.addCommand("UpdateError","cox.behavior.interface.form.UpdateErrorBehavior");this.addCommand("MapControllers","stdlib.command.MapControllersCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.MakeFieldsMandatoryController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.MakeFieldsMandatoryController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.Messaging.getTopic("/toggleCSSTopic"),"onPublish","UpdateClass",function(b,a){var c=a.getMessage();return{element:c.elements,action:c.action,cssClass:c.applyStyle}});this.addObserver(".mandatoryFields-activation-validateform","onclick","MakeFieldsMandatory",function(c,b,a){return{context:c,action:b.value}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("MakeFieldsMandatory","cox.behavior.business.MakeFieldsMandatoryBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.PlaceholderController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.PlaceholderController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","Placeholder");this.addObserver(this.getContextElement(),"onfocus","Placeholder");this.addObserver(this.getContextElement(),"onblur","Placeholder")},addCommands:function(){this.addCommand("Placeholder","cox.behavior.interface.form.PlaceholderBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.ProcessAssociationLimitController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.ProcessAssociationLimitController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".checklimit","onclick","ProcessAssociationLimit",function(c,b,a){return{caller:b,context:c,elementEvent:"onclick"}});this.addObserver(mojo.Messaging.getTopic("/toggleCSSTopic"),"onPublish","UpdateClass",function(b,a){var c=a.getMessage();return{element:c.elements,action:c.action,cssClass:c.applyStyle}})},addCommands:function(){this.addCommand("ProcessAssociationLimit","cox.behavior.interface.form.ProcessAssociationLimitBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.ProcessPhoneNumberArrayController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.ProcessPhoneNumberArrayController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".processphonenoarray-populateRelatedFields","onchange","ProcessPhoneNoArray",function(c,b,a){return{caller:b,context:c,elementEvent:"onchange"}});this.addObserver(".processphonenoarray-advcallsettings","onclick","ProcessPhoneNoArray",function(c,b,a){return{caller:b,context:c,elementEvent:"onclick"}});this.addObserver(mojo.Messaging.getTopic("/toggleCSSTopic"),"onPublish","UpdateClass",function(b,a){var c=a.getMessage();return{element:c.elements,action:c.action,cssClass:c.applyStyle}})},addCommands:function(){this.addCommand("ProcessPhoneNoArray","cox.behavior.interface.form.ProcessPhoneNoArrayBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.SpinBoxController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.SpinBoxController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","FormSpinner",function(b,a){return{element:b}})},addCommands:function(){this.addCommand("FormSpinner","cox.behavior.interface.form.SpinBoxBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.StyledFileInputController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.StyledFileInputController",mojo.controller.Controller,{addObservers:function(){this.addObserver("input[type=file]","onchange","UpdateClass",function(c,b,a){mojo.queryFirst("input[type=text]",c).value=b.value})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.SwapMultiSelectController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.SwapMultiSelectController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".swap-select-controls a","onclick","PreventDefault");this.addObserver(".swap-select-controls a","onclick","SwapMultiSelect",function(e,d,c){var b=dojo.attr(e,"data-swap-limit");var a=dojo.attr(e,"data-error-text");dojo.some(d.className.split(" "),function(f){if(f.match(/swap-select/)){swapClass=f.match(/swap-select-(.*)/)[1]}});return{action:swapClass,swapLimit:b,errorText:a}});this.addObserver(".swap-select-arrange a","onclick","PreventDefault");this.addObserver(".swap-select-arrange a","onclick","ArrangeMultiSelect",function(c,b,a){dojo.some(b.className.split(" "),function(d){if(d.match(/swap-select/)){arrangeClass=d.match(/swap-select-(.*)/)[1]}});return{action:arrangeClass}});this.addObserver(mojo.queryFirst(".swap-select-target",this.getContextElement()).form,"onsubmit","UpdateClass",function(c,b,a){if(dojo.isIE<9){var d=this.getEvent().returnValue;if(d!=false){mojo.query(".swap-select-target option",this.getContextElement()).attr("selected",true)}}else{var d=this.eventObj.defaultPrevented;if(d!=true){mojo.query(".swap-select-target option",this.getContextElement()).attr("selected",true)}}});this.addObserver(".swap-select-formsubmit","onchange","UpdateClass",function(d,c,b){var a=mojo.query(".swap-select-target option",this.getContextElement());if(a!=null){if(dojo.isIE<9){var e=this.getEvent().returnValue;if(e!=false){a.attr("selected",true)}}else{var e=this.eventObj.defaultPrevented;if(e!=true){a.attr("selected",true)}}}c.form.submit()})},addCommands:function(){this.addCommand("SwapMultiSelect","cox.behavior.interface.form.SwapMultiSelectBehavior");this.addCommand("ArrangeMultiSelect","cox.behavior.interface.form.ArrangeMultiSelectBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.TextareaController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.TextareaController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this.getContextElement(),"onkeyup","EnforceMaxLength",function(b,a){return{element:a}});this.addObserver(this.getContextElement(),"onclick","EnforceMaxLength",function(b,a){return{element:a}});this.addObserver(this.getContextElement(),"onblur","EnforceMaxLength",function(b,a){return{element:a}})},addCommands:function(){this.addCommand("EnforceMaxLength","cox.behavior.interface.form.EnforceMaxLengthBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.TimeFormatterController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.TimeFormatterController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this.getContextElement(),"onfocus","UpdateClass",function(e,d,c){if(d.value){d.value=b(d.value)}});this.addObserver(this.getContextElement(),"onblur","UpdateClass",function(e,d,c){if(d.value){d.value=b(d.value)}});this.addObserver(this.getContextElement(),"onchange","UpdateClass",function(e,d,c){if(d.value){d.value=b(d.value)}});this.addObserver(this.getContextElement(),"onkeypress","UpdateClass",function(e,d,c){if(d.value){d.value=b(d.value)}});function b(c){var e="";var d=5;if(e.length<d){e=a(c)}return e}function a(d){var c="";for(i=0;i<=d.length;i++){if(d.indexOf(":")==-1){c+=d.charAt(i);if(i==2){c+=":"}if(i==3){c="";for(k=0;k<=3;k++){if(k==2){c+=":"+d.charAt(k)}else{c+=d.charAt(k)}}}}else{c+=d.charAt(i)}}return c}},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.ToggleJoinStateController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.ToggleJoinStateController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".togglejoinstate-assign","onclick","ToggleJoinState",function(d,b,a){var c=dojo.attr(b,"id");return{chkboxId:c,caller:b,context:d,elementEvent:"onclick"}})},addCommands:function(){this.addCommand("ToggleJoinState","cox.behavior.interface.form.ToggleJoinStateBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.UpdateDivIdForToggleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.UpdateDivIdForToggleController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".toggledivid-select","onchange","ShowHideElements",function(d,c,b){var e=c.options[c.selectedIndex].value;var a=mojo.queryFirst(".toggledivid-select-option",d);if(e!=null&&e.toLowerCase()!="none"){dojo.attr(a,"id",e)}return{element:c,elementEvent:"onchange"}})},addCommands:function(){this.addCommand("ShowHideElements","cox.behavior.ShowHideElementsBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.interface.form.WeightageValidator");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.interface.form.WeightageValidator",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","ValidateWeightage",function(c,b,a){return{caller:b,action:"onInit",context:c}});this.addObserver(".weightage-validator-input","onkeyup","ValidateWeightage",function(c,b,a){return{caller:b,action:"onkeyup",context:c}});this.addObserver(".weightage-validator-equalize","onclick","PreventDefault");this.addObserver(".weightage-validator-equalize","onclick","EqualizePercentage",function(c,b,a){return{caller:b,context:c}});this.addObserver(this.getCommand("EqualizePercentage"),"onComplete","ValidateWeightage",function(c,b,a){return{caller:b,action:"onComplete",context:c}});this.addObserver(".weightage-validator-submit","onclick","ValidateWeightage",function(c,b,a){return{caller:b,action:"onclick",context:c}})},addCommands:function(){this.addCommand("ValidateWeightage","cox.behavior.business.ValidateWeightageBehavior");this.addCommand("EqualizePercentage","cox.behavior.business.EqualizePercentageBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.locationMap.MapAddressInputController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.locationMap.MapAddressInputController",mojo.controller.Controller,{params:{},addObservers:function(){var c=mojo.queryFirst(".map-notification-area",this.getContextElement());var b=c.id.split("-").pop();var a=mojo.queryFirst("input[id$='address-input']",this.getContextElement());this.addObserver(".alternates a","onclick","PreventDefault");this.addObserver(".alternates a","onclick","Messaging",function(e,d){dojo.style(c,"display","none");if(a){a.value=d.innerHTML.replace(/<[^>]*>/ig,"");mojo.Messaging.publish("formError",{action:"clear"});if(b=="single"){mojo.Messaging.publish("formError",{action:"clear",form:mojo.queryFirst("#address-form")});return{topic:"/verifyAddress/single"}}else{mojo.Messaging.publish("formError",{action:"clear",form:mojo.queryFirst("#directions-form")});return{topic:"getMapDirections",message:a.value}}}});this.addObserver(mojo.Messaging.getTopic("/verifyAddress/"+b),"onPublish","VerifyAddress",function(e,d){return{direction:b,notification:c,input:a}})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("BlockProceedForm","cox.behavior.BlockProceedBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("VerifyAddress","cox.behavior.locationMap.VerifyAddressBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.locationMap.MapController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.locationMap.MapController",mojo.controller.Controller,{params:{center:{defaultValue:{lat:38.6855,lon:-95.8}},zoom:{defaultValue:4},controls:{defaultValue:{pan:true,zoom:"large",scale:true,mapType:true,overview:true}},pointSets:{defaultValue:[]},map:{defaultValue:null}},addObservers:function(){this.addObserver(this,"onInit","InitMap",function(){return{element:mojo.queryFirst(".map",this.getContextElement())}});this.addObserver(this.getCommand("InitMap"),"onMapReady","UpdateControllerParam",function(d,c){console.log("UpdateController");return{control:this.getController().declaredClass,params:"map",value:c._map,element:d}});this.addObserver(this.getCommand("InitMap"),"onMapReady","UpdateMap",function(e,d){console.log("UpdateMap");var c=this.getController();return{map:d._map,zoom:c.getValue("zoom"),center:c.getValue("center"),controls:c.getValue("controls")}});this.addObserver(this.getConfig("params").center,"onChange","UpdateMap",function(){console.log("centerChange",this.getController().getValue("center"));return{map:this.getController().getValue("map"),center:this.getController().getValue("center")}});this.addObserver(this.getConfig("params").controls,"onChange","UpdateMap",function(){console.log("controlsChange",this.getController().getValue("controls"));return{map:this.getController().getValue("map"),controls:this.getController().getValue("controls")}});this.addObserver(this.getConfig("params").zoom,"onChange","UpdateMap",function(){console.log("zoomChange",this.getController().getValue("zoom"));return{map:this.getController().getValue("map"),zoom:this.getController().getValue("zoom")}});var b=this.getValue("pointSets")||[];for(var a=0;a<b.length;a++){console.log("onNotify for",b[a]);this.addObserver(mojo.Model.getReference(b[a]),"onNotify","UpdateMapPointSets",function(d,c){return{pointSetKey:c.getKey(),pointSet:c.getValue(),map:this.getController().getValue("map")}})}},addCommands:function(){this.addCommand("InitMap","cox.behavior.locationMap.InitMapBehavior");this.addCommand("UpdateMap","cox.behavior.locationMap.UpdateMapBehavior");this.addCommand("UpdateMapPointSets","cox.behavior.locationMap.UpdateMapPointSetsBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.locationMap.MapInfoBoxController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.locationMap.MapInfoBoxController",mojo.controller.Controller,{params:{map:{defaultValue:null}},addObservers:function(){this.addObserver("form.get-directions-from-form","onsubmit","PreventDefault");this.addObserver("form.get-directions-from-form","onsubmit","Messaging",function(e,d,a){mojo.Messaging.publish("switchMapDirections","enable");var f=mojo.queryFirst("#directions-form");var g=mojo.queryFirst("#map-container form.get-directions-from-form");f["map-address-input"].value=mojo.queryFirst("#map-container .maps-marker-info .address").innerHTML.replace(/<br[^>]*>/gi,",");var b=mojo.queryFirst("input",g);var c=mojo.queryFirst("label[for='"+b.id+"']",g);f["map-end-address-input"].value=(c&&(c.childNodes[0].textContent==b.value))?"":b.value;a.getValue("map").closeInfoWindow();return{topic:"getMapDirections"}});this.addObserver("form.get-directions-to-form","onsubmit","PreventDefault");this.addObserver("form.get-directions-to-form","onsubmit","Messaging",function(e,d,a){mojo.Messaging.publish("switchMapDirections","enable");var f=mojo.queryFirst("#directions-form");var g=mojo.queryFirst("#map-container form.get-directions-to-form");var b=mojo.queryFirst("input",g);var c=mojo.queryFirst("label[for='"+b.id+"']",g);f["map-address-input"].value=(c&&(c.childNodes[0].textContent==b.value))?"":b.value;f["map-end-address-input"].value=mojo.queryFirst("#map-container .maps-marker-info .address").innerHTML.replace(/<br[^>]*>/gi,",");a.getValue("map").closeInfoWindow();return{topic:"getMapDirections"}});this.addObserver("form","onsubmit","ValidateForm",function(c,b,a){return{form:mojo.queryFirst("#directions-form")}});this.addObserver(".get-directions-links a","onclick","PreventDefault");this.addObserver(".get-directions-links a","onclick","UpdateClass",function(e,d,b){var c=/get-directions-\w*-/;var f=dojo.map(d.className.split(" "),function(g){return c.exec(g)[0]}).join("");var a=mojo.query(".active",e).length?"":"[class^='"+f+"']";return{element:mojo.query(".get-directions-links a"+a+", form"+a,e),action:"toggle",cssClass:"active"}})},addCommands:function(){this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("ValidateForm","cox.behavior.interface.form.ValidateFormBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.locationMap.OfficesMapController");dojo.require("cox.controller.locationMap.MapController");dojo.declare("cox.controller.locationMap.OfficesMapController",cox.controller.locationMap.MapController,{params:{messageCount:{defaultValue:0},contextPath:{defaultValue:"/aboutus/contact-us"}},addObservers:function(){if(window.contextPath){this.setValue("contextPath",window.contextPath)}this.addObserver(mojo.Messaging.getTopic("/metrics/callForInfo"),"onPublish","Set",function(d,c){return{mode:"set",params:{eventName:"toolUsageInitiated",toolName:"search cox centers"}}});var a=function(d,f,h){var e=mojo.queryFirst(".map",d);var l=mojo.queryFirst("#map-radius",d).value;var p=Math.min(e.clientWidth,e.clientHeight);var o=10;var n=[256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288,1048576,2097152];var m=21117.8451;for(var g=n.length-1;g>=0;g--){if((m*p)/n[g]>l*2){o=g;break}}return{control:h.declaredClass,params:"zoom",value:o,element:d}};var b={};if(dojo.queryToObject(document.location.search.slice(1))["map-address-input"]){this.addObserver(this.getCommand("InitMap"),"onMapReady","Messaging",function(e,d,c){return{topic:"/verifyAddress/single"}})}else{if(!urlHasSite){this.addObserver(this.getCommand("InitMap"),"onMapReady","GetOffices")}else{this.addObserver(this.getCommand("InitMap"),"onMapReady","GetOfficesForm")}}this.addObserver(mojo.Model.getReference("offices"),"onNotify","UpdateControllerParam",function(e,d,c){console.log("setting center:",d.getValue().user);return{control:c.declaredClass,params:"center",value:d.getValue().user,element:e}});this.addObserver(this.getConfig("params").center,"onChange","UpdateMap",function(){var c=this.getController().getValue("center");return{map:this.getController().getValue("map"),center:c}});this.addObserver("#map-radius","onchange","Track",function(d,c){return{mode:"track",params:{type:"event",options:{actionPerformed:"search cox centers:change distance"}}}});this.addObserver(mojo.Messaging.getTopic("googleMap"),"onPublish","Track",function(){var c=this.getController().getValue("messageCount");if(c==0){this.getController().setValue("messageCount",1);return}return{mode:"track",params:{type:"event",options:{eventName:"toolUsageCompleted",toolName:"search cox centers"}}}});this.addObserver(mojo.Model.getReference("offices"),"onNotify","UpdateMapPoints",function(f,e,d){var g=mojo.query("#map-marker-toggles input",f),c=[];dojo.forEach(g,function(h){if(h.checked){c.push(parseInt(h.value))}});return{pointSet:e.getValue(),map:d.getValue("map"),show:c}});this.addObserver("#map-marker-toggles input","onclick","Track",function(d,c){return{mode:"track",params:{type:"event",options:{actionPerformed:"search cox centers:"+mojo.queryFirst("label",c.parentNode).innerHTML.toLowerCase()}}}});this.addObserver("#map-marker-toggles input","onclick","UpdateMapPoints",function(f,e,d){var g=mojo.query("#map-marker-toggles input",f),c=[];dojo.forEach(g,function(h){if(h.checked){c.push(parseInt(h.value))}});return{map:d.getValue("map"),show:c}});this.addObserver("#address-form","onsubmit","PreventDefault");this.addObserver("#address-form","onsubmit","Messaging",function(d,c){return{topic:"/verifyAddress/single"}});this.addObserver(mojo.Messaging.getTopic("getMapOffices"),"onPublish","GetOfficesForm",function(d,c){return c.getMessage()});this.addObserver(mojo.Messaging.getTopic("/verifiedAddresses/single"),"onPublish","GetOfficesForm",function(e,f){var l=dojo.formToObject(mojo.queryFirst("#address-form"));this._die=true;if(!f.getMessage().placemark||!f.getMessage().placemark.length){return}var n=f.getMessage().placemark[0];var c=function(o){return(typeof o!="undefined")};if(c(n.AddressDetails)&&c(n.AddressDetails.Country)&&c(n.AddressDetails.Country.AdministrativeArea)){if(n.AddressDetails.Country.CountryNameCode!="US"){mojo.Messaging.publish("formError",{action:"add",form:mojo.queryFirst("#address-form"),text:"The address you provided is outside United States. Currently, we support searches only within US."});return}this._die=false;var d=n.AddressDetails.Country.AdministrativeArea;var m;if(c(d)){m=d.PostalCode;if(m){l["map-zip-input"]=m.PostalCodeNumber}l["map-state-input"]=d.AdministrativeAreaName;if(c(d.SubAdministrativeArea)){d=d.SubAdministrativeArea}m=d.PostalCode;if(m){l["map-zip-input"]=m.PostalCodeNumber}var h=d.Locality;if(c(h)){var m=h.PostalCode;m=h.PostalCode;if(m){l["map-zip-input"]=m.PostalCodeNumber}var g=h.Thoroughfare;if(g){l["map-street-input"]=g.ThoroughfareName}l["map-city-input"]=h.LocalityName}}return l}mojo.Messaging.publish("formError",{action:"add",form:mojo.queryFirst("#address-form"),text:"An error occurred while processing this location. Please try providing more details."});return});this.addObserver("#address-form #map-direction-submit, #directions-form .map-it","onclick","PreventDefault");this.addObserver("#address-form #map-direction-submit, #directions-form .map-it","onclick","GetDirections",function(e,d,c){return{map:c.getValue("map"),action:"clear"}});this.addObserver(mojo.Messaging.getTopic("switchMapDirections"),"onPublish","UpdateClass",function(e,d){var g=d.getMessage();var c=mojo.queryFirst(".directions-form-elements");var f=dojo.hasClass(c,"hide");if(g==(f?"disable":"enable")){return}if(f){var l=mojo.queryFirst("#address-form");var h=mojo.queryFirst("#directions-form")}else{var h=mojo.queryFirst("#address-form");var l=mojo.queryFirst("#directions-form")}h["map-address-input"].value=l["map-address-input"].value;return{element:mojo.query("#address-form, .directions-form-elements"),action:"toggle",cssClass:"hide"}});this.addObserver("#address-form #map-direction-submit, #directions-form .map-it","onclick","Messaging",function(){return{topic:"switchMapDirections",message:"toggle"}});this.addObserver(this.getCommand("GetOfficesForm"),"onError","Messaging",function(e,d,c){return{topic:"dialog",message:{enabled:true,title:"Message",href:"/aboutus/ActivityMap.maperror",width:300,height:200}}});this.addObserver(".reverse-dir","onclick","PreventDefault");this.addObserver(".reverse-dir","onclick","ReverseDirections",function(){return{form:mojo.queryFirst("#directions-form")}});this.addObserver("h2.print a","onclick","PreventDefault");this.addObserver("h2.print a","onclick","Messaging",function(d,c){return{topic:"dialog",message:{enabled:true,element:mojo.queryFirst(".maps-printable",d),title:"&nbsp;",width:Math.min((window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-50,850),height:(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)-100}}});this.addObserver(mojo.query("#maps-print-button"),"onclick","Print",{});this.addObserver(mojo.Messaging.getTopic("dialog"),"onPublish","UpdateClass",function(d,c){return{element:document.body,action:c.getMessage().enabled?"add":"remove",cssClass:"map-print-dialog-active"}});this.addObserver("#directions-form","onsubmit","PreventDefault");this.addObserver("#directions-form","onsubmit","Messaging",function(e,d,c){return{topic:"getMapDirections",message:d}});this.addObserver(mojo.Messaging.getTopic("getMapDirections"),"onPublish","GetDirections",function(e,d,c){var f=mojo.queryFirst("#directions-form");return{addresses:dojo.formToObject(f),map:c.getValue("map"),form:f}});this.addObserver(mojo.Messaging.getTopic("/verifiedAddresses/to"),"onPublish","GetDirections",function(e,d,c){return{message:d.getMessage(),map:c.getValue("map")}});this.addObserver(mojo.Messaging.getTopic("/verifiedAddresses/from"),"onPublish","GetDirections",function(e,d,c){return{message:d.getMessage(),map:c.getValue("map")}});this.addObserver("#map-marker-toggles li label","onmouseover","ToolTip",function(){return{show:false}});this.addObserver("#map-marker-toggles li label","onmouseout","ToolTip",function(){return{show:false}});this.addObserver("#map-marker-toggles li label","onmouseover","ToolTip",function(d,c){var e=mojo.queryFirst(".tooltip-info",c.parentNode);if(e){e=e.innerHTML}else{e=""}return{show:true,delay:500,info:e,anchorX:"cursor",offsetX:-77,offsetY:0,template:this.getController()._tooltipTemplate}});this.addObserver("#map-radius","onchange","UpdateControllerParam",a);this.addObserver(this.getCommand("GetOfficesForm"),"onComplete","UpdateControllerParam",a)},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("BlockProceedForm","cox.behavior.BlockProceedBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("ToolTip","cox.behavior.ToolTipBehavior");this.addCommand("UpdateMapPoints","cox.behavior.locationMap.UpdateMapPointsBehavior");this.addCommand("GetOffices","cox.command.locationMap.GetOfficesCommand");this.addCommand("GetOfficesForm","cox.command.locationMap.GetOfficesCommand");this.addCommand("GetDirections","cox.behavior.locationMap.GetDirectionsBehavior");this.addCommand("ReverseDirections","cox.behavior.locationMap.MapReverseDirectionsBehavior");this.addCommand("Set","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("Print","cox.behavior.PrintBehavior")},addIntercepts:function(){this.addIntercept("around","GetOfficesForm","BlockProceedForm",function(b,a){return{condition:!a._die}})},_tooltipTemplate:'<div class="mapcontrols-tooltip tooltip"><div class="wrapper"><table class="head"><tr><td class="tl"></td><td class="t">&nbsp;</td><td class="tr"></div></td></tr></table><table class="body"><tr><td class="l"></td><td class="c"><div class="dialog-pane-content"></div></td><td class="r"></td></tr></table>\n<table class="foot"><tr><td class="bl"></td><td class="b">&nbsp;</td><td class="br"></td></tr></table>\n<div class="foot-arrow">&nbsp;</div></div></div>'});dojo.provide("cox.controller.metrics.MetricsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.metrics.MetricsController",mojo.controller.Controller,{params:{completed:{defaultValue:false,type:Boolean}},addObservers:function(){if(typeof s!="undefined"&&s&&!!s.getQueryParam){this.addObserver(mojo.controller.Map.getInstance(),"onComplete","Track",function(b,c){var e=dojo.clone(__coxOmnitureParams);if(e.logStatus!="not logged in"){e.eventName="userLogStatus"}var f=e.campaign||s.getQueryParam("scid")||s.getQueryParam("sc_id")||s.getQueryParam("s_cid");if(f){e.pathingByCampaign=f+":"+e.pageName;e.campaign=f}var h=s.getQueryParam("campcode");if(h!==""&&h!==null){e.campcode=h}e.businessLocal=e.businessUnit+":"+e.localeName;e.localePagename=e.localeName+":"+e.pageName;var g=mojo.queryFirst("#support-article");if(g&&window.location.search){var l=dojo.queryToObject(window.location.search.slice(1));var a=l.articleId;if(a){e.kanaArticleId=a}}var m=mojo.queryFirst("#online-activation-msg-track");if(m){var d=m.innerHTML;return{mode:"track",params:{type:"event",options:{confirmationMsg:"video activation: "+d.toLowerCase()}}}}return{mode:"track",params:{type:"pageview",options:e}}});this.addObserver(this.getCommand("Track"),"execute","UpdateControllerParam",function(){return{control:this.getController().declaredClass,params:"completed",value:true,element:this.getContextElement()}})}},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("UpdateControllerParam","stdlib.command.UpdateControllerParamCommand")},addIntercepts:function(){this.addIntercept("around","Track","BlockProceed",function(){return{condition:!this.getController().getValue("completed")}});if(typeof s!="undefined"&&s&&!!s.getQueryParam){this.addIntercept("before","Track","Messaging",{topic:"/metrics/callForInfo"})}}});dojo.provide("cox.controller.metrics.OmnitureTrackingController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.metrics.OmnitureTrackingController",mojo.controller.Controller,{params:{},addObservers:function(){this.addObserver(mojo.Messaging.getTopic("/throbber"),"onPublish","Track",function(){var omnitureMessage=mojo.queryFirst("#omniture-response");if(omnitureMessage){msg=omnitureMessage.innerHTML;return{mode:"track",params:{type:"event",options:eval(msg)}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.FavoritesController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.FavoritesController",mojo.controller.Controller,{addObservers:function(){var b="./theater.favorites?id=";this.addObserver(this,"onInit","UpdateClass",function(d,c){favesList=mojo.queryFirst("#theater_favorites_tracker").value.split(",");dojo.forEach(favesList,function(e){var f=mojo.queryFirst("#addFav_theatre_"+e);if(f){f.checked="checked"}})});var a=function(d,c){d.checked=false;mojo.Messaging.publish("error",{title:"Error",text:"We are currently unable to update your favorites.",cause:mojo.queryFirst("input#addFav_theatre_"+c)})};this.addObserver(mojo.query("#finder-results input[type='checkbox']"),"onclick","UpdateClass",function(c,d){var e=d.value.split(";");var n=e[0];var f=e[1];var l=e[2];var g=dojo.hitch(this,a,d,l);if(d.checked){if(mojo.queryFirst("#theater_favorites_tracker").value==""){var m=l}else{var m=mojo.queryFirst("#theater_favorites_tracker").value+","+l}dojo.xhrGet({url:b+m,handleAs:"text",timeout:20000,load:function(u,t){if(u=="true"){var r=document.createElement("div");var q=document.getElementById("movie-search-zip-input").value;r.id="fav_"+l;r.className="myplace-seeall-wrap";var v=n+";"+f+";"+l+";";r.innerHTML='<input id="'+n+"-"+l+'" type="checkbox" value="'+v+'" checked="checked"/><label><a href="./theater-detail.cox?movie-search-theaters-input='+l+"&theaterId="+l+"&movie-search-zip-input="+q+'">'+f+"</a></label>";var p="fav-"+n;$(p).appendChild(r);var o="#"+p+"-wrapper .intro";mojo.queryFirst(o).style.display="none";if(mojo.queryFirst("#theater_favorites_tracker").value!=""){mojo.queryFirst("#theater_favorites_tracker").value+=","+l}else{mojo.queryFirst("#theater_favorites_tracker").value=l}mojo.controller.Controller.updateObservers("cox.controller.myplace.FavoritesController")}else{g()}},error:g})}else{var h="fav_"+l;if($(h)){favesList=mojo.queryFirst("#theater_favorites_tracker").value.split(",");favesList.splice(dojo.indexOf(favesList,l),1);dojo.xhrGet({url:b+favesList,handleAs:"text",timeout:20000,load:function(r,q){if(r=="true"){$(h).remove();mojo.queryFirst("#theater_favorites_tracker").value=favesList;var p="fav-"+n;if(mojo.queryFirst("#theater_favorites_tracker").value==""){var o="#"+p+"-wrapper .intro";mojo.queryFirst(o).style.display="block"}mojo.controller.Controller.updateObservers("cox.controller.myplace.FavoritesController")}else{g()}},error:g})}}mojo.controller.Controller.updateObservers("cox.controller.myplace.FavoritesController")});this.addObserver(mojo.query("#myplace-favorites input[type='checkbox']"),"onclick","UpdateClass",function(h,g){var m=g.value.split(";");var f=m[0];var e=m[1];var d=m[2];var l=dojo.hitch(this,a,g,d);var c="fav_"+d;if($(c)){favesList=mojo.queryFirst("#theater_favorites_tracker").value.split(",");favesList.splice(dojo.indexOf(favesList,d),1);dojo.xhrGet({url:b+favesList,handleAs:"text",timeout:20000,load:function(q,p){if(q=="true"){$(c).remove();mojo.queryFirst("#theater_favorites_tracker").value=favesList;var o="fav-"+f;if(mojo.queryFirst("#theater_favorites_tracker").value==""){var n="#"+o+"-wrapper .intro";mojo.queryFirst(n).style.display="block"}var r="addFav_"+f+"_"+d;if($(r)){$(r).checked=false}}else{l()}},error:l})}})},addCommands:function(){this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("UpdateObservers","stdlib.command.UpdateObserversCommand");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){this.addIntercept("around","UpdateClass","BlockProceed",function(d,c,a){if(!c.checked){return{condition:true}}var f=5;var e=$("fav-"+c.value.split(";")[0]);var b=mojo.query("label",e).length<f;if(!b){c.checked=false;mojo.Messaging.publish("error",{title:"Error with your request",text:["You can choose up to 5 favorite theaters and it looks like you already have 5 in your list."," If you remove one I can remember another you'd like to keep."],cause:c})}return{condition:b}})}});dojo.provide("cox.controller.myplace.LandingController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.LandingController",mojo.controller.Controller,{addObservers:function(){this.addObserver("#content a","onclick","Track",function(f,d){var c=d;if(!d.href){return}var b;var h=["snippet-frame","one-col-module","snippet-3up"];for(var a=d;a!=document.body;a=a.parentNode){for(var e=0;e<h.length;e++){if(dojo.hasClass(a,h[e])){b=mojo.queryFirst("h2 > span.middle",a);break}}if(b){break}}var g=b?b.innerHTML+":":"";return{mode:"track",params:{type:"event",options:{customLink:(g+(d.title||d.innerHTML)).toLowerCase()}}}});this.addObserver("#bookmark_widget a","onclick","PreventDefault");this.addObserver("#bookmark_widget a","onclick","SetHomepage")},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("SetHomepage","cox.behavior.SetHomepageBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.MovieFinder");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.MovieFinder",mojo.controller.Controller,{params:{selectedIndex:{required:false,defaultValue:0,type:Number}},addObservers:function(){this.addObserver(this,"onInit","UpdateClass",function(c,b){var a=mojo.query("#movie-finder input[type='radio']");if(a&&a.length!=0){var f=a[0].checked?"#title-search, #movie-search-ondemand":"#theater-search";if(a[1].checked){var e=mojo.queryFirst("#movie-finder form#title-search");dojo.removeClass(e,"active");var d=mojo.queryFirst("#movie-search-ondemand");dojo.removeClass(d,"active");return{element:mojo.query("#movie-finder form"+f),action:"add",cssClass:"active"}}}});this.addObserver(mojo.query("#movie-finder input[type='radio']"),"onclick","UpdateClass",function(b,a){return{element:mojo.query("#movie-finder form, #movie-search-ondemand"),action:"remove",cssClass:"active"}});this.addObserver(mojo.query("#movie-finder input[type='radio']"),"onclick","UpdateClass",function(c,b){var a=(b.value=="title");var d=a?"#title-search, #movie-search-ondemand":"#theater-search";return{element:mojo.query("#movie-finder form"+d),action:"add",cssClass:"active"}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.OmnitureContentColumnController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.OmnitureContentColumnController",mojo.controller.Controller,{addObservers:function(){this.addObserver("#content a","onclick","Track",function(f,d){var c=d;var b;var h=["one-col-module","two-col-module","three-col-module","four-col-module","five-col-module"];for(var a=d;a!=document.body;a=a.parentNode){for(var e=0;e<h.length;e++){if(dojo.hasClass(a,h[e])){b=mojo.queryFirst("h2 > span.middle",a);break}}if(b){break}}var g=b?b.innerHTML+":":"";return{mode:"track",params:{type:"event",options:{customLink:(g+(d.title||d.innerHTML)).toLowerCase()}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.OnlineActivationController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.OnlineActivationController",mojo.controller.Controller,{params:{displayBlockSelectors:{defaultValue:[],type:Array},displayNoneSelectors:{defaultValue:[],type:Array}},addObservers:function(){this.addObserver(mojo.queryFirst("#ddConfirmWith"),"onchange","PreventDefault");formDisplay=function(b){var a=mojo.queryFirst("#ddConfirmWith").value;if(a=="optPIN"){b.setValue("displayBlockSelectors",["#frmPIN"]);b.setValue("displayNoneSelectors",["#frmUID"])}else{b.setValue("displayBlockSelectors",["#frmUID"]);b.setValue("displayNoneSelectors",["#frmPIN"])}};this.addObserver(mojo.queryFirst("#ddConfirmWith"),"onchange","SwapElementDisplay",function(c,b,a){formDisplay(a)});this.addObserver(this,"onInit","SwapElementDisplay",function(c,b,a){if(mojo.query("#ddConfirmWith").length>0){formDisplay(a)}});this.addObserver(mojo.query("form#frmUID"),"onsubmit","StoreLoginCookie",function(b,a){return{form:a}});this.addObserver(".activate-device-form input","onclick","Messaging",function(a,b){return{topic:"dialog",message:{enabled:true,scriptText:true,title:'<h3 class="loading-title">Please wait...</h3>',text:'<div class="loading-message"><p>This may take a moment while we active your device.</p></div>',width:620,height:180}}});this.addObserver(mojo.query(".activate-device-form"),"onsubmit","Track",function(a,b){return{mode:"track",params:{type:"event",options:{eventName:"activateDevice"}}}})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("SwapElementDisplay","cox.behavior.SwapElementDisplay");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("StoreLoginCookie","cox.behavior.StoreLoginCookieBehavior");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.SearchAdvancedController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.SearchAdvancedController",mojo.controller.Controller,{params:{defaultSearchText:{defaultValue:"Use the form below and your search will appear here",type:String}},addObservers:function(){this.addObserver(this,"onInit","UpdateClass",function(d,c,b){var a=mojo.queryFirst("#search-input");if(!a.value){a.value=b.getValue("defaultSearchText");dojo.addClass("search-input","default")}});this.addObserver("input","onkeyup","UpdateClass",function(a,b,f){var g="";var h=" -";var m="";var d=mojo.queryFirst("#search-input");var c=mojo.queryFirst("#search-all-input").value;var o=mojo.queryFirst("#search-exact-input").value;var p=mojo.queryFirst("#search-or-input1").value;var n=mojo.queryFirst("#search-or-input2").value;var l=mojo.queryFirst("#search-or-input3").value;var q=mojo.queryFirst("#search-unwanted-input").value;if(o){o=' "'+o+'"'}if(p){p=' "'+p+'"'}if(c||o||p){g=" OR "}if(n){n=g+'"'+n+'"'}if(c||o||p||n){g=" OR "}if(l){l=g+'"'+l+'"'}if(q){params=q.split('"');for(var e=0;e<params.length;e++){if(params[e]!=""){if(params[e].match("^"+s)!=" "&&e>0){tmp='"'+params[e]+'"'}else{tmp=params[e].replace(/\s/g," -")}m+=tmp}}m=" -"+m}d.value=c+o+p+n+l+m;if(d.value==""){d.value=f.getValue("defaultSearchText");dojo.addClass("search-input","default")}else{dojo.removeClass("search-input","default")}});this.addObserver("a.basic-search","onclick","UpdateClass",function(f,e,d){var b=mojo.queryFirst("#search-input").value;var a=mojo.query("input[name='filter']");var g;dojo.forEach(a,function(h){if(h.checked){g=h.value}});var c=e.href;c=c+"?filter="+g;if(b&&(b!=d.getValue("defaultSearchText"))){c=c+"&term="+encodeURIComponent(b)}e.href=c});this.addObserver("form","onsubmit","PreventDefault");this.addObserver(".filter-radios input[type='radio']","onclick","UpdateClass",function(e,c,a){var d=c.form;var b=mojo.query(".filter-radios input[type='radio']");if(b[0].checked){c.form.action=internalUrl}else{c.form.action=externalUrl}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior")},addIntercepts:function(){this.addIntercept("around","PreventDefault","BlockProceed",function(d,c,b){var e=mojo.queryFirst("#search-input").value;var a=b.getValue("defaultSearchText");if(e==a){return{condition:true}}})}});dojo.provide("cox.controller.myplace.SearchBasicController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.SearchBasicController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".advanced-link a","onclick","UpdateClass",function(e,d,c){var b=mojo.queryFirst("#query-search-input").value;var a=mojo.query("input[name='filter']");var g;dojo.forEach(a,function(h){if(h.checked){g=h.value}});var f=d.href;f=f+"?filter="+g;if(b){f=f+"&term="+encodeURIComponent(b)}d.href=f});this.addObserver(".filter-radios input[type='radio']","onclick","UpdateClass",function(e,c,a){var d=c.form;var b=mojo.query(".filter-radios input[type='radio']");if(b[0].checked){c.form.action=internalUrl}else{c.form.action=externalUrl}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.ServicesController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.ServicesController",mojo.controller.Controller,{addObservers:function(){this.addObserver("#content a","onclick","Track",function(f,e){var d=e;var c;var h=["snippet-frame"];for(var b=e;b!=document.body;b=b.parentNode){if(dojo.hasClass(b,h)){c=mojo.queryFirst("h2.module-header",b);break}if(c){break}}var g=c?c.innerHTML+":":"";var a=__coxOmnitureParams?__coxOmnitureParams.pageName+":":"";return{mode:"track",params:{type:"event",options:{customLink:(a+g+(e.title||e.innerHTML)).toLowerCase()}}}})},addCommands:function(){this.addCommand("Set","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.SlideshowController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.SlideshowController",mojo.controller.Controller,{params:{selectedIndex:{required:false,defaultValue:0,type:Number},duration:{required:false,defaultValue:5,type:Number},autoPlay:{required:false,defaultValue:false,type:Boolean},isPlaying:{required:false,defaultValue:false,type:Boolean}},addObservers:function(){var d=mojo.queryFirst(".slideshow-detail",this.getContextElement());var b=mojo.query(".filmstrip-page",d);var a=mojo.queryFirst(".slidebox .filmstrip-component",this.getContextElement());var c=mojo.query(".filmstrip-content .step",mojo.queryFirst(".slidebox",this.getContextElement()));this.addObserver(this.getConfig("params").isPlaying,"onChange","UpdateCss",function(h,g,f){var e=mojo.query(".slideshow-detail .slide-poster a",h);if(g.getValue()){dojo.forEach(e,function(l){dojo.removeClass(l,"play");dojo.addClass(l,"pause")})}else{dojo.forEach(e,function(l){dojo.addClass(l,"play");dojo.removeClass(l,"pause")})}});this.addObserver(".slideshow-detail .slide-poster a","onclick","PreventDefault");this.addObserver(".slideshow-detail .slide-poster a","onclick","Slideshow",function(g,f,e){return{action:"toggle",duration:e.getValue("duration"),controllerEl:d,length:b.length,controller:e}});this.addObserver(".slideshow-detail .filmstrip-prev","onclick","PreventDefault");this.addObserver(".slideshow-detail .filmstrip-prev","onclick","UpdateCss",function(){var e=d.mojoControllers["cox.controller.FilmStripController"];var f=e.getValue("selectedIndex");if(f>0){e.setValue("selectedIndex",f-1)}else{if(e.getValue("loop")){e.setValue("selectedIndex",b.length-1)}}});this.addObserver(".slideshow-detail .filmstrip-next","onclick","PreventDefault");this.addObserver(".slideshow-detail .filmstrip-next","onclick","UpdateCss",function(){var e=d.mojoControllers["cox.controller.FilmStripController"];var f=e.getValue("selectedIndex");if(f<b.length-1){e.setValue("selectedIndex",f+1)}else{if(e.getValue("loop")){e.setValue("selectedIndex",0)}}});this.addObserver(".slidebox .filmstrip-content .step","onclick","PreventDefault");this.addObserver(".slidebox .filmstrip-content .step","onclick","UpdateCss",function(f,e){return{element:mojo.query(".slidebox .filmstrip-page a",f),action:"remove",cssClass:"active"}});this.addObserver(".slidebox .filmstrip-content .step","onclick","UpdateCss",function(g,f){var h=d.mojoControllers["cox.controller.FilmStripController"];for(var e=0;e<c.length;e++){if(c[e]==f){break}}if(e!=c.length){h.setValue("selectedIndex",e)}return{element:f,action:"add",cssClass:"active"}});this.addObserver(".slidebox .filmstrip-content .step, .slideshow-detail .filmstrip-prev, .slideshow-detail .filmstrip-next","onclick","Slideshow",function(g,f,e){return{action:"pause",duration:e.getValue("duration"),controllerEl:d,length:b.length,controller:e}});this.addObserver(mojo.Messaging.getTopic("/filmstrip/indexChanged"),"onPublish","UpdateCss",function(l,g,f){var m=g.getMessage();try{var n=d.mojoControllers["cox.controller.FilmStripController"];var h=a.mojoControllers["cox.controller.FilmStripController"]}catch(o){console.log("The controllers aren't attached to their elements yet.");return}if(m.context==d&&h){f.setValue("selectedIndex",m.selectedIndex);h.setValue("selectedIndex",Math.floor(m.selectedIndex/4));dojo.forEach(c,function(e){dojo.removeClass(e,"active")});dojo.addClass(c[m.selectedIndex],"active");var p=mojo.queryFirst(".ad-container iframe");if(p){p.src=p.src+";ord2="+Math.random()*10000000000000000}}})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateCss","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Slideshow","cox.behavior.myplace.SlideshowBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.TVListingsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.TVListingsController",mojo.controller.Controller,{params:{detailURL:{defaultValue:window.detailURL,type:String},isAnimating:{defaultValue:false,type:Boolean},doSearch:{defaultValue:true,type:Boolean},doCookieSet:{defaultValue:true,type:Boolean},currentTab:{}},addObservers:function(){this.addObserver("#tv-listing-data .channel-timeline li a","onclick","PreventDefault");var a;var f;var h=function(n,m,l){mojo.Messaging.publish("error",{title:"Service Unavailable",text:"This service is currently unavailable. Please try again later."});dojo.removeClass(m,"active");return c(n,m,l,false)};var c=function(o,n,m,r){a=m.getValue("currentTab");if((n==a)||dojo.hasClass(n,"close")){n=null;d("cox-tv-show","",false,"session")}else{if(r){var l=mojo.query("#griddate-input")[0].value;var p=mojo.query("#gridtime")[0].value;var q=l+"|"+p+"|"+n.id;d("cox-tv-show",q,true,"session")}}m.setValue("currentTab",n);return{element:dojo.filter([a,n],function(t){return t}),action:"toggle",cssClass:"active"}};var e=function(l,m,q,o,t){mojo.Messaging.publish("dialog",{enabled:true,scriptText:true,title:'<h3 class="loading-title">Please wait...</h3>',text:'<div class="loading-message"><p>This may take a moment while we pull up your TV Listings.</p></div>',width:620,height:180});var p=mojo.queryFirst("#tv-grid",l);q.setValue("doSearch",!!t);var u=document.location.search;var r=dojo.hitch(this,h,l,m,q);var n=function(w){mojo.Messaging.publish("dialog",{enabled:false});p.innerHTML=w;g(l,m,q);if(u&&q.getValue("doSearch")){var v=dojo.queryToObject(u.slice(1)).showid;var C=dojo.queryToObject(u.slice(1)).cookie;if(C){var B=b("cox-tv-show");if(B.length>0){var A=B.split("|");var v=A[2];if(v!=""){var z=mojo.queryFirst("#"+v);if(z){window.location.replace(window.location.toString().replace(window.location.hash,"")+"#"+v);m=z;dojo.addClass(z,"active");return c(l,z,q,false)}else{mojo.Messaging.publish("error",{title:"Program Unavailable",text:"We can't find the program you're looking for. Check the TV listings grid for the latest programming."})}}}}else{if(v){var z=mojo.queryFirst("#"+v);if(z){window.location.replace(window.location.toString().replace(window.location.hash,"")+"#"+v);m=z;dojo.addClass(z,"active");return c(l,z,q,true)}else{mojo.Messaging.publish("error",{title:"Program Unavailable",text:"We can't find the program you're looking for. Check the TV listings grid for the latest programming."})}}}}};window.setTimeout(function(){dojo.xhrGet({url:o,handleAs:"text",timeout:20000,load:n,error:r})},0)};var d=function(t,q,m,l){var r=q;var p=new Date();p.setTime(p.getTime()+(2*365*24*60*60*1000));if(l=="persistent"){var o="; expires="+p.toGMTString();var n="; expires="+new Date(0).toGMTString()}else{var o="";var n=""}if(navigator.cookieEnabled){if(m){document.cookie=t+"="+r+o+"; path=/"}else{document.cookie=t+"="+r+n+"; path=/"}}};var b=function(l){if(document.cookie.length>0){c_start=document.cookie.indexOf(l+"=");if(c_start!=-1){c_start=c_start+l.length+1;c_end=document.cookie.indexOf(";",c_start);if(c_end==-1){c_end=document.cookie.length}return unescape(document.cookie.substring(c_start,c_end))}}return""};this.addObserver(this,"onInit","UpdateClass",function(p,n,l){var t=mojo.queryFirst("#pf-onsuccess");var q=mojo.queryFirst("#pf-onfailure");if(t&&t.value.indexOf("cookie")==-1){var r=(t.value.indexOf("%3F")!=-1)?"%26":"%3F";t.value+=r+"cookie%3Dtrue";q.value+=r+"cookie%3Dtrue"}var t=mojo.queryFirst("#onsuccess");var q=mojo.queryFirst("#onfailure");if(t&&t.value.indexOf("cookie")==-1){var r=(t.value.indexOf("%3F")!=-1)?"%26":"%3F";t.value+=r+"cookie%3Dtrue";q.value+=r+"cookie%3Dtrue"}var m=mojo.queryFirst(".tvlistings-grid");if(m){var o=window.gridURL;return e(p,n,l,o,"doSearch")}});this.addObserver("#tv-listing-data a.close","onclick","PreventDefault");this.addObserver("#tv-listing-data .channel-timeline li, #tv-listing-data a.close","onclick","UpdateClass",function(n,m,l){return c(n,m,l,true)});this.addObserver("#tv-grid .tv-listing-nav li a","onclick","PreventDefault");this.addObserver("#tv-listing-nav-row-1 li a","onclick","UpdateClass",function(n,m,l){return e(n,m,l,m.href)});this.addObserver("#tv-listing-data th a, .tv-page-prev-next a","onclick","PreventDefault");this.addObserver("#tv-listing-data th a, .tv-page-prev-next a","onclick","UpdateClass",function(n,m,l){return e(n,m,l,m.href)});this.addObserver("#tv-grid .reload a","onclick","PreventDefault");this.addObserver("#tv-grid .reload a","onclick","UpdateClass",function(n,m,l){return e(n,m,l,m.href)});this.addObserver(this.getConfig("params").currentTab,"onChange","UpdateClass",function(l,m,p){m=p.getValue("currentTab")||a;var o=m.id;var r=document.getElementById(o);var q=dojo.hitch(this,h,l,m,p);var u;for(var t=m;t.tagName!="BODY";t=t.parentNode){if(t.tagName=="TR"){u=t.id;break}}var n=function(z){var C;if(m!=a){C=new Element("tr",{id:u+"-details",style:"display:table-row;*display:block;"});var A=new Element("td",{colspan:7,id:u+"-data"});A.inject(C);C.inject(u,"after");A.innerHTML=z;mojo.controller.Map.getInstance().mapController("cox.controller.ToggleController",C);mojo.controller.Map.getInstance().mapController("cox.controller.myplace.TVListingsSetScheduleController",C)}var B="259";var w=C&&$(mojo.queryFirst(".show-details-wrap",C));var v=f&&mojo.queryFirst(".show-details-wrap",f);dojo.animateProperty({node:C||f,duration:600,easing:function(D){if(D==0){return 0}if(D==1){return 1}D=D*2;if(D<1){return Math.pow(2,10*(D-1))/2}--D;return(-1*Math.pow(2,-10*D)+2)/2},onAnimate:function(){if(v){v.setStyle("height",Math.floor(B-(this._getStep()*B)))}if(w){w.setStyle("height",Math.floor(this._getStep()*B))}p.setValue("isAnimating",true)},onEnd:function(){if(v){f.remove()}if(w){w.setStyle("height","auto")}f=C;p.setValue("isAnimating",false)}}).play()};if(m==a){n()}else{dojo.xhrGet({url:detailURL+o,handleAs:"text",timeout:20000,load:n,error:q})}});this.addObserver("#change-location-input","onchange","UpdateClass",function(n,m,l){var o=mojo.queryFirst("#dateTimeForm");gridId=m.value;if(o){gridAction=o.action;gridDate=mojo.queryFirst("#griddate-input",o).value;gridTime=mojo.queryFirst("#gridtime",o).value;gridCat=mojo.queryFirst("#gridcat",o).value;gridURL=gridAction+"?gridid="+gridId+"&griddate="+gridDate+"&gridtime="+gridTime+"&cat="+gridCat+"&chanstart=0"}else{gridAction=window.gridURL;gridURL=gridURL.replace(/gridid=(.*?)&/,"gridid="+gridId+"&")}d("cox-tv-grid",gridId,true,"persistent");return e(n,m,l,gridURL)});var g=function(n,m,l){l.addObserver(mojo.query("#griddate-input",n),"onchange","UpdateClass",function(o,p,t){var v=mojo.queryFirst("#dateTimeForm");var B=v.action;var q=mojo.queryFirst("#gridid",v).value;var z=p.value;var w=mojo.queryFirst("#gridtime",v).value;var u=mojo.queryFirst("#gridcat",v).value;var A=mojo.queryFirst("#gridstart",v).value;var r=B+"?gridid="+q+"&griddate="+z+"&gridtime="+w+"&cat="+u+"&chanstart="+A;return e(o,p,t,r)});l.addObserver(mojo.query("#gridtime-input",n),"onchange","UpdateClass",function(o,p,t){var v=mojo.queryFirst("#dateTimeForm");var B=v.action;var q=mojo.queryFirst("#gridid",v).value;var z=mojo.queryFirst("#griddate-input",v).value;var w=p.value;var u=mojo.queryFirst("#gridcat",v).value;var A=mojo.queryFirst("#gridstart",v).value;var r=B+"?gridid="+q+"&griddate="+z+"&gridtime="+w+"&cat="+u+"&chanstart="+A;return e(o,p,t,r)});l.addObserver(mojo.query(".tv-page-jump select",n),"onchange","UpdateClass",function(o,p,t){var v=mojo.queryFirst("#dateTimeForm");var B=v.action;var q=mojo.queryFirst("#gridid",v).value;var z=mojo.queryFirst("#griddate-input",v).value;var w=mojo.queryFirst("#gridtime",v).value;var u=mojo.queryFirst("#gridcat",v).value;var A=p.value;var r=B+"?gridid="+q+"&griddate="+z+"&gridtime="+w+"&cat="+u+"&chanstart="+A;return e(o,p,t,r)});l.addObserver(mojo.query("#tv-grid form",n),"onsubmit","PreventDefault");l.addObserver(mojo.query(".tv-page-goto a"),"onclick","UpdateClass",function(v,r,o){var p=mojo.query(".tv-page-goto input");p=p[0].value||p[1].value;var q=mojo.queryFirst("#jump-select").options;var w=r.href;for(var u=0;u<q.length;u++){if((q[u].value==p)&&p!=""){var t=w+"&chanstart="+p;return e(v,r,o,t)}}});l.addObserver(mojo.query(".tv-page-goto input",n),"onkeydown","EnterKey");l.addObserver(mojo.Messaging.getTopic("enterKeyPress"),"onPublish","UpdateClass",function(u,q){var v=q.getMessage();if(v=="enter"){var o=mojo.query(".tv-page-goto input");o=o[0].value||o[1].value;var p=mojo.queryFirst("#jump-select").options;var w=mojo.queryFirst(".tv-page-goto a").href;for(var t=0;t<p.length;t++){if((p[t].value==o)&&o!=""){var r=w+"&chanstart="+o;return e(u,q,l,r)}}}})};this.addObserver("#tv-listing-nav-row-1 a","onclick","Track",function(m,l){return{mode:"track",params:{type:"event",options:{dvrFilter:(l.firstChild.innerHTML).toLowerCase()}}}});this.addObserver("form#searchListingsForm","onsubmit","Track",function(m,l){return{mode:"track",params:{type:"event",options:{dvrSearch:(mojo.query("#search-forecast-input")[0].value).toLowerCase()}}}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("EnterKey","cox.behavior.interface.form.EnterKeyBehavior");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){this.addIntercept("around","UpdateClass","BlockProceed",function(){return{condition:!this.getController().getValue("isAnimating")}})}});dojo.provide("cox.controller.myplace.TVListingsSetScheduleController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.TVListingsSetScheduleController",mojo.controller.Controller,{params:{formChange:{}},addObservers:function(){var b=function(d){var f=mojo.queryFirst(".processing");var e=mojo.queryFirst(".note",d);var c=mojo.queryFirst(".btn-set-record");if(c){f.style.display="none";e.style.display="block";c.disabled=false;dojo.removeClass(c,"btn-set-record-disabled")}mojo.Messaging.publish("error",{title:"Service Unavailable",text:"This service is currently unavailable. Please try again later."})};this.addObserver(this,"onInit","UpdateClass",function(e,d,c){mojo.Messaging.publish("remapControllers")});this.addObserver("form.set-record","onsubmit","PreventDefault");this.addObserver("form.set-record","onsubmit","UpdateClass",function(c,d,l){var g=mojo.queryFirst(".note",d);var f=mojo.queryFirst(".processing",d);var h=mojo.queryFirst(".btn-set-record",d);var n=mojo.queryFirst("#set-dvr",c);var m=dojo.hitch(this,b,d);if(h){g.style.display="none";f.style.display="block";h.disabled=true;dojo.addClass(h,"btn-set-record-disabled")}var e=function(o){n.innerHTML=o;mojo.controller.Controller.updateObservers("cox.controller.myplace.TVListingsSetScheduleController");mojo.Messaging.publish("remapControllers");l.setValue("formChange",d)};dojo.xhrGet({url:d.action,form:d,handleAs:"text",timeout:20000,load:e,error:m})});this.addObserver("form.set-record .btn-record","onclick","Track",function(d,c){return{mode:"track",params:{type:"event",options:{eventName:"dvrRecord"}}}});this.addObserver("form.set-record .btn-set-record","onclick","Track",function(d,c){return{mode:"track",params:{type:"event",options:{eventName:"dvrSetRecord"}}}});this.addObserver(this.getConfig("params").formChange,"onChange","Track",function(){var c=mojo.queryFirst("#dvr-msg-track");if(c){msg=c.innerHTML;return{mode:"track",params:{type:"event",options:{confirmationMsg:"remote dvr: "+msg.toLowerCase()}}}}});this.addObserver(mojo.Messaging.getTopic("remapControllers"),"onPublish","MapControllers",function(){return{contextObj:mojo.queryFirst("#dvr-messaging")}});this.addObserver(mojo.query("#tv-grid .btn-help"),"onclick","PreventDefault");this.addObserver(mojo.query("#tv-grid .btn-help"),"onmouseover","ToolTip",function(d,c){return a(d,c)});this.addObserver(mojo.query("#tv-grid .btn-help"),"onmouseout","ToolTip",function(){return{show:false}});var a=function(e,c){var f=dojo.position(c);var g=mojo.queryFirst(".tooltip-info",c.parentNode);var d=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(g){g=g.innerHTML}else{g="Tooltip not available."}return{show:true,info:g,offsetX:f.w+15,offsetY:f.h/2-35,underlayMark:".wrapper",template:'<div class="tooltip"><div class="wrapper"><div class="arrow">&nbsp;</div><table class="head"><tr><td class="tl"></td><td class="t">&nbsp;</td><td class="tr"></td></tr></table><table class="body"><tr><td class="l"></td><td class="c"><div class="dialog-pane-content"></div></td><td class="r"></td></tr></table>\n<table class="foot"><tr><td class="bl"></td><td class="b">&nbsp;</td><td class="br"></td></tr></table></div></div>'}}},addCommands:function(){this.addCommand("ToolTip","cox.behavior.ToolTipBehavior");this.addCommand("MapControllers","stdlib.command.MapControllersCommand");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.WeatherCityPickerController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.WeatherCityPickerController",mojo.controller.Controller,{addObservers:function(){this.addObserver("select.select-weather","onchange","RedirectBehavior",function(c,b,a){var e=dojo.queryToObject(window.location.search.slice(1));e.city=b.value;var d="?"+dojo.objectToQuery(e);return{url:document.location.search?document.location.href.replace(document.location.search,d):document.location.href+d}})},addCommands:function(){this.addCommand("RedirectBehavior","stdlib.behavior.RedirectBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.myplace.WeatherMapPickerController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.myplace.WeatherMapPickerController",mojo.controller.Controller,{params:{mapImagePrefix:{defaultValue:"",type:String}},addObservers:function(){this.setValue("mapImagePrefix",window.mapImageUrl);this.addObserver("#add-location","onmousedown","WeatherPicker",function(c,b,a){return{action:"add"}});this.addObserver("#myplace-forecast-input","onfocus","WeatherPicker",function(c,b,a){return{action:"add"}});this.addObserver("#location-submit","onmousedown","WeatherPicker",function(c,b,a){return{action:"save"}});this.addObserver("#location-move-up","onclick","WeatherPicker",function(){return{action:"move",direction:-1}});this.addObserver("#location-move-up","onclick","PreventDefault");this.addObserver("#location-move-down","onclick","WeatherPicker",function(){return{action:"move",direction:1}});this.addObserver("#location-move-down","onclick","PreventDefault");this.addObserver("#location-delete","onclick","WeatherPicker",function(){return{action:"delete"}});this.addObserver("#location-delete","onclick","PreventDefault");this.addObserver("#preview-national","onclick","WeatherPicker",function(){return{action:"changeMap",type:"national"}});this.addObserver("#preview-regional","onclick","WeatherPicker",function(c,b,a){return{action:"changeMapType",type:dojo.formToObject(mojo.queryFirst("#userPrefsForm")).radmaptype}});this.addObserver("#preview-regional","onclick","WeatherPicker",function(){return{action:"changeMap",type:"regional"}});this.addObserver(this,"onInit","AnimateMap",function(b,a){return{action:"init",link:mojo.queryFirst(".myplace-weathermap-animate"),image:mojo.queryFirst(".myplace-weathermap")}});this.addObserver(mojo.query(".myplace-weathermap-animate"),"onclick","PreventDefault");this.addObserver(mojo.query(".myplace-weathermap-animate"),"onclick","AnimateMap",function(b,a){return{action:"toggle",link:a,image:mojo.queryFirst(".myplace-weathermap")}})},addCommands:function(){this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("WeatherPicker","cox.behavior.myplace.WeatherMapPickerBehavior");this.addCommand("AnimateMap","cox.behavior.AnimateWeatherMapBehavior")},addIntercepts:function(){this.addIntercept("before","WeatherPicker","AnimateMap",function(){return{action:"stop",link:mojo.queryFirst(".myplace-weathermap-animate"),image:mojo.queryFirst(".myplace-weathermap")}});this.addIntercept("after","WeatherPicker","AnimateMap",function(){return{action:"init",link:mojo.queryFirst(".myplace-weathermap-animate"),image:mojo.queryFirst(".myplace-weathermap")}})}});dojo.provide("cox.controller.resaccount.MyAccountController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.resaccount.MyAccountController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".sub-tabs a","onclick","Track",function(d,c){var a=__coxOmnitureParams?__coxOmnitureParams.pageName+":":"";var g=__coxOmnitureParams?__coxOmnitureParams.hier1+",":"";var e=__coxOmnitureParams?__coxOmnitureParams.hier2+",":"";var b=__coxOmnitureParams?__coxOmnitureParams.localeName+":":"";var f=c.title.toLowerCase();if(f){return{mode:"track",params:{type:"pageview",clearVariables:"true",options:{pageName:a+f,hier1:g+f,hier2:e+f,localePagename:b+a+f}}}}});this.addObserver(".allservices a.rounded","onclick","Track",function(b,a){var c=a.innerHTML.replace(/<\/?[^>]+(>|$)/g,"").toLowerCase();if(c){return{mode:"track",params:{type:"event",options:{customLink:c}}}}});this.addObserver("#promotion a.rounded-large","onclick","Track",function(b,a){var c=a.innerHTML.replace(/<\/?[^>]+(>|$)/g,"").toLowerCase();if(c){return{mode:"track",params:{type:"event",options:{customLink:"promo:"+c}}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.resaccount.MyAccountHeaderController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.resaccount.MyAccountHeaderController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query("#makepayment"),"onclick","Track",function(b,a){var c=a.innerHTML.replace(/<\/?[^>]+(>|$)/g,"").toLowerCase();if(c){return{mode:"track",params:{type:"event",options:{customLink:c}}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.residential.BillingController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.residential.BillingController",mojo.controller.Controller,{addObservers:function(){cancelPopup=function(a,b){return{topic:"dialog",message:{enabled:true,title:"",element:mojo.queryFirst(".cancel-popup",b.parentNode),width:440,height:110}}};this.addObserver(".recent-activity-cancel-link","onclick","PreventDefault");this.addObserver(".recent-activity-cancel-link","onclick","Messaging",cancelPopup);this.addObserver("a.printpage-link","onclick","PreventDefault");this.addObserver(".cancel-form","onsubmit","PreventDefault");this.addObserver(".cancel-form","onsubmit","Messaging",cancelPopup);toggleSteps=function(a){mojo.query(".payment-steps > li").forEach(function(b,c){if(dojo.hasClass(b,a.id+"Toggle")||dojo.hasClass(b,"payment-steps-always")){b.style.display="list-item"}else{b.style.display="none"}});if(a.id=="optPayWithCard"){if(window.reloadObject&&window.reloadObject.isBackLoad){mojo.queryFirst("#invalid-card-error").innerHTML="";mojo.query(".disable-toggle").toggleClass("disable-edit");mojo.queryFirst("#txtCardNum").disabled=true;mojo.queryFirst("#change-card-link").style.display="inline-block";mojo.queryFirst("#card-types-help").style.display="none";mojo.queryFirst("#subopt-validate-card").style.display="none";mojo.queryFirst("#subopt-type-and-name").style.display="block";mojo.queryFirst("form.cancel-form").style.display="block";mojo.queryFirst("#submitPayment").style.display="block";if(window.reloadObject.cardType=="ATM"){mojo.queryFirst("#subopt-process-choice").style.display="none";if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.addClass("subopt-debit","no-bullet")}mojo.queryFirst("#subopt-credit").style.display="none"}else{if(window.reloadObject.isDebitAllowed){mojo.queryFirst("#subopt-process-choice").style.display="block";if(mojo.queryFirst("#optPayByDebit").checked){if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.addClass("subopt-debit","no-bullet")}mojo.queryFirst("#subopt-credit").style.display="none"}else{if(mojo.queryFirst("#optPayByCredit").checked){mojo.queryFirst("#subopt-credit").style.display="block";if((dummy=mojo.queryFirst("#optSchedulePayment"))){dummy.style.display="list-item";if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.removeClass("subopt-debit","no-bullet")}}else{if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.addClass("subopt-debit","no-bullet")}}}}}else{mojo.queryFirst("#subopt-process-choice").style.display="none";mojo.queryFirst("#subopt-credit").style.display="block";if((dummy=mojo.queryFirst("#optSchedulePayment"))){dummy.style.display="list-item";if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.removeClass("subopt-debit","no-bullet")}}else{if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.addClass("subopt-debit","no-bullet")}}}}mojo.query("span.valid-card-type").forEach(function(b){b.innerHTML=window.reloadObject.cardType});mojo.queryFirst("#txtCardType").value=window.reloadObject.cardType;window.reloadObject=false}else{mojo.query(".disable-toggle").removeClass("disable-edit");if((dummy=mojo.queryFirst("#txtCardNum"))){dummy.disabled=false}if((dummy=mojo.queryFirst("#change-card-link"))){dummy.style.display="none"}if((dummy=mojo.queryFirst("#card-types-help"))){dummy.style.display="inline-block"}if((dummy=mojo.queryFirst("#subopt-validate-card"))){dummy.style.display="block"}if((dummy=mojo.queryFirst("#subopt-process-choice"))){dummy.style.display="none"}if((dummy=mojo.queryFirst("#subopt-type-and-name"))){dummy.style.display="none"}if((dummy=mojo.queryFirst("#subopt-debit"))){dummy.style.display="none"}if((dummy=mojo.queryFirst("#subopt-credit"))){dummy.style.display="none"}if((dummy=mojo.queryFirst("#validate-card"))){mojo.queryFirst("form.cancel-form").style.display="none";mojo.queryFirst("#submitPayment").style.display="none"}if((dummy=mojo.queryFirst("#optSchedulePayment"))){dummy.style.display="none"}}if((dummy=mojo.queryFirst("#optPayByDebit[checked]"))){if((dummy=mojo.queryFirst("input[name='optPayOn']"))){dummy.click()}}}else{if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.removeClass(dummy,"no-bullet")}if((dummy=mojo.queryFirst("#validate-card"))){mojo.queryFirst("form.cancel-form").style.display="block";mojo.queryFirst("#submitPayment").style.display="block"}}if(a.id=="optPayWithSavedMethod"){if((dummy=mojo.queryFirst("#saved-payment-method"))){dummy.style.display="block"}}else{if((dummy=mojo.queryFirst("#saved-payment-method"))){dummy.style.display="none"}}};toggleAmount=function(a){var b=mojo.queryFirst("#multi-amount-payment");if(a.id=="optPayAmtSelected"){if((dummy=b)){dummy.style.display="block"}}else{if((dummy=b)){dummy.style.display="none"}}};clearMsgError=function(b){var a=b.parentNode;if(a){while(a.tagName.toLowerCase()!="form"){a=a.parentNode}mojo.query(".msgError",a).forEach(function(c){c.style.display="none"})}};optValidateRequiredTxt=function(b){mojo.query("."+b.name).forEach(function(c){dojo.removeClass(c,"required");dojo.addClass(c,"required-disabled");c.disabled=true});var a;if(b.form[b.name].length){a=b.form[b.name]}else{a=[b.form[b.name]]}dojo.forEach(a,function(c){if(c.checked){mojo.query("."+c.id).forEach(function(d){dojo.removeClass(d,"required-disabled");dojo.addClass(d,"required");d.disabled=false})}})};cardContinue=function(d,c,b){var f=mojo.queryFirst("#txtCardNum").value.trim();if(window.validateCardURL.match(/json/)){switch(f){case"0000000000000000":window.validateCardURL="includes/validate-card-debit.json";break;case"1111111111111111":window.validateCardURL="includes/validate-card-credit.json";break;default:window.validateCardURL="includes/validate-card-invalid.json"}}clearMsgError(c);var e=function(){mojo.queryFirst("#invalid-card-error").innerHTML="<div class='msgError'><p>We're sorry. We could not validate the card number entered. Please re-enter the card number or select a different method of payment.</p></div>"};var a=function(g){if(g.cardType==""){e()}else{mojo.queryFirst("#invalid-card-error").innerHTML="";mojo.query(".disable-toggle").toggleClass("disable-edit");mojo.queryFirst("#txtCardNum").disabled=true;mojo.queryFirst("#change-card-link").style.display="inline-block";mojo.queryFirst("#card-types-help").style.display="none";mojo.queryFirst("#subopt-validate-card").style.display="none";mojo.queryFirst("#subopt-type-and-name").style.display="block";mojo.queryFirst("input[name='payment-method-pay-by']").checked="checked";mojo.queryFirst("form.cancel-form").style.display="block";mojo.queryFirst("#submitPayment").style.display="block";if(g.isDebit&&g.cardType=="ATM"){if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.addClass("subopt-debit","no-bullet")}mojo.queryFirst("#optPayByDebit").checked="checked";if((dummy=mojo.queryFirst("input[name='optPayOn']"))){dummy.click()}}else{if(g.isDebit){mojo.queryFirst("#subopt-process-choice").style.display="block";if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.addClass("subopt-debit","no-bullet")}mojo.queryFirst("#optPayByDebit").checked="checked";if((dummy=mojo.queryFirst("input[name='optPayOn']"))){dummy.click()}}else{mojo.queryFirst("#subopt-credit").style.display="block";if((dummy=mojo.queryFirst("#optSchedulePayment"))){dummy.style.display="list-item";if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.removeClass("subopt-debit","no-bullet")}}else{if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.addClass("subopt-debit","no-bullet")}}mojo.queryFirst("#optPayByCredit").checked="checked"}}mojo.query("span.valid-card-type").forEach(function(h){h.innerHTML=g.cardType});mojo.queryFirst("#txtCardType").value=g.cardType}};if(f==""){mojo.queryFirst("#invalid-card-error").innerHTML="<div class='msgError'><p>Please enter a Card #.</p></div>"}else{dojo.xhrPost({url:window.validateCardURL,content:{cardNumber:mojo.queryFirst("#txtCardNum").value},handleAs:"json",timeout:20000,load:a,error:e})}};this.addObserver(this,"onInit","UpdateClass",function(e,c,b){if((dummy=mojo.queryFirst(".authorized-user-popup"))){mojo.Messaging.publish("dialog",{enabled:true,title:"",element:dummy,width:440,height:-1})}mojo.query(".payment-steps input[checked][name='optAmtToPay']").forEach(function(h){toggleAmount(h)});mojo.query(".payment-steps input[checked].payment-method-opt-radio").forEach(function(h){toggleSteps(h)});mojo.query("input[type='radio']:not([name='saved-payment-radio'])",dojo.byId("viewpaybill")).forEach(function(h){optValidateRequiredTxt(h)});var g=mojo.queryFirst("#view-bill-details");var d=mojo.queryFirst("#view-bill-details.loading-wrapper");if(d){var a=function(h){g.innerHTML=h;mojo.Messaging.publish("remapControllers");mojo.Messaging.publish("/throbber",{status:false,id:"view-bill-details"})};var f=function(){g.innerHTML="<div class='msgError'><p>We're sorry, we can't find this part of the page right now.</p></div>"};dojo.xhrGet({url:window.billDetailsURL,handleAs:"text",timeout:20000,load:a,error:f})}});this.addObserver(mojo.Messaging.getTopic("remapControllers"),"onPublish","MapControllers",function(){return{contextObj:mojo.queryFirst("#view-bill-details")}});this.addObserver(mojo.query("input[type='radio'].payment-method-opt-radio"),"onclick","UpdateClass",function(c,b,a){toggleSteps(b)});this.addObserver(mojo.query("input[type='radio'][name='optAmtToPay']"),"onclick","UpdateClass",function(c,b,a){toggleAmount(b)});this.addObserver(mojo.query("#multi-amount-payment input[type='radio']"),"onclick","ToggleTotal",function(c,b,a){return{multiAmountTotal:mojo.queryFirst("#txtPaymentAmtSelected"),paymentOptions:dojo.query("#multi-amount-payment input[type='radio']")}});this.addObserver(mojo.query(".statement-other-input"),"onkeyup","ToggleTotal",function(c,b,a){return{multiAmountTotal:mojo.queryFirst("#txtPaymentAmtSelected"),paymentOptions:dojo.query("#multi-amount-payment input[type='radio']"),otherAmount:b.id}});this.addObserver("#txtCardNum","onkeydown","UpdateClass",function(d,c,a){var f=this.eventObj;var b;if(f&&f.which){f=f;b=f.which}else{f=event;b=f.keyCode}if(b==13){dojo.stopEvent(this.eventObj);cardContinue(d,c,a)}});this.addObserver("#validate-card","onclick","PreventDefault");this.addObserver("#validate-card","onclick","UpdateClass",function(c,b,a){cardContinue(c,b,a)});this.addObserver("#change-card-link","onclick","PreventDefault");this.addObserver("#change-card-link","onclick","UpdateClass",function(c,b,a){mojo.query(".disable-toggle").toggleClass("disable-edit");mojo.queryFirst("#txtCardNum").disabled=false;mojo.queryFirst("#change-card-link").style.display="none";mojo.queryFirst("#card-types-help").style.display="inline-block";mojo.queryFirst("#txtNameOnCard").value="";mojo.queryFirst("#ddExpDateMonth").selectedIndex=0;mojo.queryFirst("#ddExpDateYear").selectedIndex=0;mojo.queryFirst("#subopt-validate-card").style.display="block";mojo.queryFirst("#subopt-process-choice").style.display="none";mojo.queryFirst("#subopt-type-and-name").style.display="none";if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.removeClass("subopt-debit","no-bullet")}mojo.queryFirst("#subopt-credit").style.display="none";mojo.queryFirst("input[name='payment-method-pay-by']").checked="checked";mojo.queryFirst("form.cancel-form").style.display="none";mojo.queryFirst("#submitPayment").style.display="none";if((dummy=mojo.queryFirst("#optSchedulePayment"))){dummy.style.display="none"}if((dummy=mojo.queryFirst("input[name='optPayOn']"))){dummy.click()}});this.addObserver(mojo.query("input[name='payment-method-pay-by']"),"onclick","UpdateClass",function(c,b,a){mojo.query("li.optPayWithCardToggle div").forEach(function(d){if(dojo.hasClass(d,b.id+"Toggle")||dojo.hasClass(d,"debit-and-credit")){d.style.display="block"}else{d.style.display="none"}if(b.id=="optPayByDebit"){if((dummy=mojo.queryFirst("#optSchedulePayment"))){dummy.style.display="none"}if((dummy=mojo.queryFirst("input[name='optPayOn']"))){dummy.click()}if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.addClass("subopt-debit","no-bullet")}}else{if((dummy=mojo.queryFirst("#optSchedulePayment"))){dummy.style.display="list-item";if((dummy=mojo.queryFirst("#subopt-debit"))){dojo.removeClass("subopt-debit","no-bullet")}}}})});this.addObserver(mojo.query("input[type='radio']:not([name='saved-payment-radio'])"),"onclick","UpdateClass",function(c,b,a){optValidateRequiredTxt(b)});this.addObserver(".terms-trigger","onclick","PreventDefault");this.addObserver(".terms-trigger","onclick","Messaging",function(c,b,a){return{topic:"termsConditionsDialog",message:{title:mojo.queryFirst(".terms-conditions-header h3").innerHTML,text:mojo.queryFirst(".terms-conditions-content").innerHTML}}});this.addObserver("#submitPayment input[type='submit']","onclick","UpdateClass",function(a,b){if(mojo.queryFirst("#optPayWithCard").checked){mojo.queryFirst("#txtCardNum").disabled=false}mojo.queryFirst("#txtCardType").disabled=false});this.addObserver(".submit-payment-button","onclick","Messaging",function(a,b){if((dummy=mojo.queryFirst("div.dupe-payment-popup"))){dojo.stopEvent(this.eventObj);return{topic:"dialog",message:{enabled:true,title:"",element:dummy,width:440,height:146}}}else{b.parentNode.style.display="none";return{topic:"dialog",message:{enabled:true,scriptText:true,title:'<h3 class="loading-title">Please wait...</h3>',text:'<div class="loading-message"><p>Your payment submission is being processed. (This may take a moment.)</p></div>',width:620,height:180}}}});this.addObserver(mojo.Messaging.getTopic("dialog"),"onPublish","UpdateClass",function(c,b,a){mojo.query("input.dupe-payment-popup-continue").forEach(function(d){if(!d.mojoObserve||!d.mojoObserve[a.declaredClass]){a.addObserver(d,"onclick","UpdateClass",function(){mojo.Messaging.publish("dialog",{enabled:false});mojo.Messaging.publish("dialog",{enabled:true,scriptText:true,title:'<h3 class="loading-title">Please wait...</h3>',text:'<div class="loading-message"><p>Your payment submission is being processed. (This may take a moment.)</p></div>',width:620,height:180});mojo.queryFirst("input.submit-payment-button").parentNode.style.display="none"})}})});this.addObserver("#txtBankRoutingNum","onblur","UpdateClass",function(f,e,c){var b=mojo.queryFirst("#routingNumberStatus");var d=mojo.queryFirst("#routingError");var a=function(h){if(h.match){b.style.display="block";b.innerHTML=h.response;d.innerHTML=""}else{b.style.display="none";d.innerHTML="<div class='msgError'><p>"+h.response+"</p></div>"}};var g=function(){d.innerHTML="<div class='msgError'><p>We're sorry, we can't find this part of the page right now.</p></div>"};dojo.xhrPost({url:window.validateRountingURL,content:{routingNumber:e.value},handleAs:"json",timeout:20000,load:a,error:g})})},addCommands:function(){this.addCommand("ToggleTotal","cox.behavior.residential.bill.CalculatePaymentAmountBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("MapControllers","stdlib.command.MapControllersCommand");this.addCommand("EnterKey","stdlib.behavior.EnterKeyBehavior")},addIntercepts:function(){}});dojo.provide("cox.controller.residential.CableResetController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.residential.CableResetController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","Track",function(b,a){return{mode:"set",params:{toolName:"self box hit"}}});this.addObserver(mojo.query(".connectionreset"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{eventName:"toolUsageCompleted"}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.residential.CompareBundlesController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.residential.CompareBundlesController",mojo.controller.Controller,{params:{comparables:{},cart:{},cartEntries:{}},addObservers:function(){this.setValue("comparables",mojo.query("input.compare-checkbox",this.getContextElement()));this.setValue("cart",mojo.queryFirst("#compare-cart-form"));this.addObserver(this,"onInit","UpdateClass",function(e,b,a){var d=function(h){var l=h;for(var g=h;g.tagName!="BODY";g=g.parentNode){if(dojo.hasClass(g,"bundle-group")){l=g;break}}var m=mojo.queryFirst("h2",l);return m?(m.textContent||m.innerText):"No title found"};var f=a.getValue("cart");var c=mojo.queryFirst("button",f);a.getValue("comparables").map(function(g){var h=new Element("div",{"class":"compare-cart-item"});h.innerHTML="<input type='hidden' name='"+g.name+"' value='"+g.value+"' />"+d(g)+"<a class='remove-compare' href='#' id='remove-"+g.name+"'>Remove</a>";f.insertBefore(h,c)});a.setValue("cartEntries",mojo.query(".compare-cart-item",f));a.addObserver(mojo.query("a.remove-compare",a.getValue("cart")),"onclick","PreventDefault");a.addObserver(mojo.query("a.remove-compare",a.getValue("cart")),"onclick","ReconcileComparables",function(l,h,g){var m=mojo.queryFirst("input[name="+h.id.replace(/^remove-/,"")+"]",l);m.checked=false;return{mainEntries:g.getValue("comparables"),cartEntries:g.getValue("cartEntries")}})});this.addObserver(this,"onInit","ReconcileComparables",function(e,d,a){var c=mojo.query(".compare-checkbox").length;if(c){var b=mojo.queryFirst("#compare-cart");if(b){b.style.display="block"}}return{mainEntries:a.getValue("comparables"),cartEntries:a.getValue("cartEntries")}});this.addObserver("input.compare-checkbox","onclick","InterruptibleReconcileComparables",function(c,b,a){return{mainEntries:a.getValue("comparables"),cartEntries:a.getValue("cartEntries")}});this.addObserver("form.compare-form","onsubmit","PreventDefault");this.addObserver(this.getValue("cart"),"onsubmit","PreventDefault")},addCommands:function(){this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("ReconcileComparables","cox.behavior.ReconcileComparablesBehavior");this.addCommand("InterruptibleReconcileComparables","cox.behavior.ReconcileComparablesBehavior")},addIntercepts:function(){var a=function(b){mojo.Messaging.publish("error",{title:"Before you continue&#8230;",text:b})};this.addIntercept("around","PreventDefault","BlockProceed",function(d,c,b){if(c.tagName!="FORM"){return{condition:true}}var e=(b.getValue("comparables").filter(function(f){return f.checked}).length<=1);if(e){a("Sorry, you have to select at least 2 items.")}return{condition:e}});this.addIntercept("around","InterruptibleReconcileComparables","BlockProceed",function(f,e,b){if(!e.checked){return{condition:true}}var d=5;var c=b.getValue("comparables").filter(function(g){return g.checked}).length<d;if(!c){e.checked=false;a("Sorry, you can only select up to 4 items at a time.")}return{condition:c}})}});dojo.provide("cox.controller.residential.MyAppointmentsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.residential.MyAppointmentsController",mojo.controller.Controller,{addObservers:function(){this.addObserver(".cancel-appointment-form","onsubmit","PreventDefault");this.addObserver(".cancel-appointment-form","onsubmit","Messaging",function(a,b){return{topic:"dialog",message:{enabled:true,title:"",element:mojo.queryFirst(".cancel-appointment-popup",b.parentNode),width:440,height:110}}});this.addObserver(mojo.query(".cancel-appointment-popup-form"),"onsubmit","Track",function(a,b){return{mode:"track",params:{type:"event",options:{eventName:"cancelAppointment"}}}})},addCommands:function(){this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.residential.ResidentialContactUsCorporate");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.residential.ResidentialContactUsCorporate",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query("#link-content a"),"onclick","Track",function(b,a){return{mode:"track",params:{type:"event",options:{customLink:"contact us:"+a.innerHTML.toLowerCase()}}}})},addCommands:function(){this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.residential.ResidentialPricingPlansDetailController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.residential.ResidentialPricingPlansDetailController",mojo.controller.Controller,{addObservers:function(){this.addObserver(mojo.query(".special-offer"),"onclick","ToolTip",function(b,a){var c=dojo.position(a);var d=mojo.queryFirst(".tooltip-info",a.parentNode);if(d){d=d.innerHTML}else{d="Tooltip not available."}return{show:true,info:d,offsetX:c.w+15,offsetY:c.h/2-35,template:this.getController()._tooltipTemplate}})},addCommands:function(){this.addCommand("ToolTip","cox.behavior.ToolTipBehavior")},addIntercepts:function(){},_tooltipTemplate:'<div class="tooltip"><div class="wrapper"><div class="arrow">&nbsp;</div><table class="head"><tr><td class="tl"></td><td class="t">&nbsp;</td><td class="tr"></div></td></tr></table><table class="body"><tr><td class="l"></td><td class="c"><div class="dialog-pane-content"></div></td><td class="r"></td></tr></table>\n<table class="foot"><tr><td class="bl"></td><td class="b">&nbsp;</td><td class="br"></td></tr></table></div></div>'});dojo.provide("cox.controller.residential.ServiceAppointmentsCalendarController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.residential.ServiceAppointmentsCalendarController",mojo.controller.Controller,{params:{slotSelected:{required:true,defaultValue:false,type:Boolean}},addObservers:function(){this.addObserver("form","onsubmit","PreventDefault");this.addObserver("form","onsubmit","Track",function(c,d){var b=(typeof(ajaxTimeout)!="undefined")?ajaxTimeout:"30000";console.log(b);var a=function(f){mojo.Messaging.publish("dialog",{enabled:true,scriptText:true,title:'<h3 class="loading-title">Please wait...</h3>',text:'<div class="loading-message"><p>This may take a moment while we reschedule your appointment.</p></div>',width:620,height:180});if(f.status=="success"){window.location=f.url}else{mojo.Messaging.publish("dialog",{enabled:true,title:"Reschedule Appointment",xhrPost:f.url,width:912,height:-1})}};var e=function(){mojo.queryFirst(".loading-message").innerHTML="<div class='msgError'><p>We're sorry, we can't find this part of the page right now.</p></div>"};dojo.xhrPost({url:d.action,form:d,handleAs:"json",timeout:b,load:a,error:e});return{mode:"track",params:{type:"event",options:{eventName:"rescheduleAppointment"}}}});this.addObserver(".day a","onclick","PreventDefault");this.addObserver(".day a:not(.disabled)","onclick","UpdateClass",function(d,b,a){var c=a.getValue("slotSelected");if(!c){a.setValue("slotSelected",true);mojo.queryFirst("#finish-button").style.display="block"}var e=mojo.queryFirst(".chosen");if(e){dojo.removeClass(e,"chosen")}mojo.queryFirst("input#curDateTime").value=dojo.attr(b,"href");if(!dojo.hasClass(b,"chosen")){return{element:b,action:"toggle",cssClass:"chosen"}}});this.addObserver(".controls a","onclick","PreventDefault");this.addObserver(".controls a","onclick","UpdateClass",function(d,c,b){var a=(typeof(ajaxTimeout)!="undefined")?ajaxTimeout:"30000";console.log(a);b.setValue("slotSelected",false);dojo.xhrGet({url:c,timeout:a,load:function(e){d.innerHTML=e;mojo.controller.Controller.updateObservers("cox.controller.residential.ServiceAppointmentsCalendarController")},error:function(){d.innerHTML="<div class='msgError'><p>We're sorry, we are unable to access the calendar at this time. Please try again later.</p></div>"}})})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.residential.ServiceAppointmentsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.residential.ServiceAppointmentsController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","UpdateClass",function(c,a){var b=document.location.search;if(b){var d=dojo.queryToObject(b.slice(1)).rescheduleSuccess;if(d){location.href="#a"+d}}});this.addObserver(".cancel-appointment-btn","onclick","PreventDefault");this.addObserver(".cancel-appointment-btn","onclick","Messaging",function(a,b){return{topic:"dialog",message:{enabled:true,title:"Cancel Appointment?",element:mojo.queryFirst(".cancel-appointment-popup",b.parentNode),width:440,height:-1}}});this.addObserver(".reschedule-appointment-form","onsubmit","PreventDefault");this.addObserver(".reschedule-appointment-form","onsubmit","Messaging",function(b,c){var a=(typeof(ajaxTimeout)!="undefined")?ajaxTimeout:"30000";return{topic:"dialog",message:{enabled:true,title:"Reschedule Appointment",xhrPost:c.action,xhrTimeout:a,form:c,width:912,height:-1}}});this.addObserver(mojo.query(".cancel-appointment-popup-form"),"onsubmit","Track",function(a,b){return{mode:"track",params:{type:"event",options:{eventName:"cancelAppointment"}}}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Messaging","stdlib.behavior.MessagingBehavior");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand")},addIntercepts:function(){}});dojo.provide("cox.controller.site.GeneralMetricsController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.site.GeneralMetricsController",mojo.controller.Controller,{addObservers:function(){if(typeof s!="undefined"&&s.linkDownloadFileTypes){this.addObserver(mojo.query("#container a"),"onclick","TrackDownload",function(f,d){var c=d.href.toLowerCase().split("#")[0].split("?")[0];c=c.split("/");c=c[c.length-1];var e=c.split(".");e=e[e.length-1];c=c.substr(0,c.lastIndexOf(e)-1);return{mode:"track",params:{type:"event",options:{eventName:"download",download:"["+__coxOmnitureParams.pageName+"]:"+e+":"+c}}}});this.addObserver(mojo.query(".custom-link"),"onclick","Track",function(d,c){var e=c.innerHTML.replace(/<\/?[^>]+(>|$)/g,"");return{mode:"track",params:{type:"event",options:{customLink:(c.title||e).toLowerCase()}}}});this.addObserver(mojo.query(".exit-link"),"onclick","Track",function(f,e){var c=__coxOmnitureParams.pageName;var d=__coxOmnitureParams?__coxOmnitureParams.localeName+":":"";return{mode:"track",params:{type:"event",options:{exitLink:d+c}}}})}var b=[{select:"#ordernow-txt a",category:["promos"],name:"order now"},{select:"#btn-discuss-mylist",category:["lead gen"],name:"email form"},{select:"#button-print-pdf",category:"tools",name:"print pdf"},{select:".services .panel h2 a",category:["our services"]},{select:".tab-content-news .title-txt a",category:["newsroom"]},{select:"#awards-content-sidebar h2 a",category:["awards"]},{select:".contact-method a",category:["tools","contact us"]},{select:".need-help a",category:["need help"]},{select:".search-cloud a",category:["word cloud"]},{select:".promotion-box a",category:["promos"],name:function(c){return mojo.queryFirst("a.link",c.parentNode)}},{select:".filmstrip-item .item-group a",category:["promos",function(c){return mojo.queryFirst("h3",c.parentNode.parentNode)}]},{select:".solutions-boxes .solutions-links a",category:["promos",function(c){return mojo.queryFirst("h2",c.parentNode.parentNode)}]},{select:".listingWidget a",category:[function(c){return mojo.queryFirst("h2",c.parentNode.parentNode.parentNode.parentNode)}]}];var a=this;dojo.forEach(b,function(c){a.addObserver(mojo.query(c.select),"onclick","Track",function(g,f){var d=function(l){l=l||f;if(!l.toLowerCase){if(l instanceof Function){l=l(f)}if(l.nodeType){l=($(l).getText().trim()||l.title||mojo.queryFirst("img",l).alt).replace(":","-")}if(l instanceof Array){return l.map(d).join(":")}}return l.toLowerCase()};var h=d(c.category);var e=d(c.name);return{mode:"track",params:{type:"event",options:{customLink:h+":"+e}}}})})},addCommands:function(){this.addCommand("UpdateCss","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("Set","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("Track","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("TrackDownload","cox.command.metrics.OmnitureInterfaceCommand");this.addCommand("PreventDefault","stdlib.behavior.PreventDefaultEventBehavior");this.addCommand("BlockProceed","cox.behavior.BlockProceedBehavior")},addIntercepts:function(){if(typeof s!="undefined"&&s.linkDownloadFileTypes){var a=new RegExp("(\\."+s.linkDownloadFileTypes.split(",").join("|\\.")+")$");this.addIntercept("around","TrackDownload","BlockProceed",function(c,b){return{condition:a.test(b.href.toLowerCase().split("#")[0].split("?")[0])}})}}});dojo.provide("cox.controller.site.LoginCookieController");dojo.require("mojo.controller.Controller");dojo.declare("cox.controller.site.LoginCookieController",mojo.controller.Controller,{addObservers:function(){this.addObserver(this,"onInit","UpdateClass",function(f,d,b){var g=mojo.queryFirst("#login-widget-tall #sign-in");var e=mojo.queryFirst("#login-widget-tall #sign-in .sign-in-form");if(e){var c=mojo.queryFirst("#bookmark_widget");var a=dojo.position(e).h;if(a>255){if(c){c.style.position="relative"}g.style.height=a+"px"}}});this.addObserver(this.getContextElement(),"onsubmit","StoreLoginCookie",function(c,b,a){if((dummy=mojo.queryFirst("#login-ad-widget #login-statement"))){dummy.style.display="none"}return{form:b}})},addCommands:function(){this.addCommand("UpdateClass","stdlib.behavior.UpdateCssClassBehavior");this.addCommand("StoreLoginCookie","cox.behavior.StoreLoginCookieBehavior")},addIntercepts:function(){}});dojo.provide("cox.rules.business.LeadRules");dojo.require("mojo.helper.Validation");var validate=mojo.helper.Validation.getInstance();cox.rules.business.LeadRules={fname:[{rule:validate.isRequired,errorMsg:"Please enter a First Name."}],lname:[{rule:validate.isRequired,errorMsg:"Please enter a Last Name."}],company:[{rule:validate.isRequired,errorMsg:"Please enter a Company Name."}],add1:[{rule:validate.isRequired,errorMsg:"Please enter an Address."}],city:[{rule:validate.isRequired,errorMsg:"Please enter a City."}],zip:[{rule:validate.isRequired,errorMsg:"Please enter a Zip code."},{rule:validate.isZipCode,errorMsg:"Zip Code must be a 5-digit number."}],phone:[{rule:validate.isRequired,errorMsg:"Please enter a Phone Number."},{rule:validate.isType,errorMsg:"Phone Number must contain numbers only.",params:{type:Number}}],email:[{rule:validate.isRequired,errorMsg:"Please enter an E-mail address."},{rule:validate.isEmailAddress,errorMsg:"E-mail address must be a valid address."}]};dojo.provide("cox.rules.residential.ShoppingAssistantRules");dojo.require("mojo.helper.Validation");var validate=mojo.helper.Validation.getInstance();cox.rules.residential.ShoppingAssistantRules={zip:[{rule:validate.isRequired,errorMsg:"Please enter a Zip Code."},{rule:validate.isZipCode,errorMsg:"Zip Code must be a 5-digit number."}]};