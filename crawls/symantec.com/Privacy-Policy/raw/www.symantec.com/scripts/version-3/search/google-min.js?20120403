ss_form_element="search";var ss_popup_element="search_suggest";var ss_seq=["g"];var ss_g_one_name_to_display="";var ss_g_more_names_to_display="";var ss_g_max_to_display=10;var ss_max_to_display=12;var ss_wait_millisec=300;var ss_delay_millisec=30;var ss_gsa_host="www.symantec.com/s/searchg";var SS_OUTPUT_FORMAT_LEGACY="legacy";var SS_OUTPUT_FORMAT_OPEN_SEARCH="os";var SS_OUTPUT_FORMAT_RICH="rich";var ss_protocol=SS_OUTPUT_FORMAT_RICH;var ss_allow_non_query=true;var ss_non_query_empty_title="No Title";var ss_allow_debug=false;var XH_ieProgId_;var XML_READY_STATE_UNINITIALIZED=0;var XML_READY_STATE_LOADING=1;var XML_READY_STATE_LOADED=2;var XML_READY_STATE_INTERACTIVE=3;var XML_READY_STATE_COMPLETED=4;function XH_XmlHttpInit_(){var d=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];if(typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var a=0;a<d.length;a++){var b=d[a];try{new ActiveXObject(b);XH_ieProgId_=b;break}catch(c){}}if(!XH_ieProgId_){throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed.")}}}XH_XmlHttpInit_();function XH_XmlHttpCreate(){if(XH_ieProgId_){return new ActiveXObject(XH_ieProgId_)}else{return new XMLHttpRequest()}}function XH_XmlHttpGET(a,b,c){a.open("GET",b,true);a.onreadystatechange=c;XH_XmlHttpSend(a,null)}function XH_XmlHttpPOST(a,b,d,c){a.open("POST",b,true);a.onreadystatechange=c;a.setRequestHeader("Content-Type","application/x-www-form-urlencoded");a.setRequestHeader("Content-Length",(d.length));XH_XmlHttpSend(a,d)}function XH_XmlHttpOpen(a,d,b,c){a.open(d,b,true);a.onreadystatechange=c}function XH_XmlHttpSetRequestHeader(a,b,c){a.setRequestHeader(b,c)}function XH_XmlHttpSend(a,b){try{a.send(b)}catch(c){log("XMLHttpSend failed "+c.toString()+"<br>"+c.stack);throw c}}function XH_XmlHttpAbort(a){SafeTimeout(window,function(){a.onreadystatechange=function(){}},0);if(a.readyState<XML_READY_STATE_COMPLETED){a.abort()}}var ss_cached=[];var ss_qbackup=null;var ss_qshown=null;var ss_loc=-1;var ss_waiting=0;var ss_painting=false;var ss_key_handling_queue=null;var ss_painting_queue=null;var ss_dismissed=false;var ss_panic=false;var SS_ROW_CLASS="ss-gac-a";var SS_ROW_SELECTED_CLASS="ss-gac-b";if(!Array.indexOf){Array.prototype.indexOf=function(b){for(var a=0;a<this.length;a++){if(this[a]==b){return a}}return -1}}var ss_debug=new ss_Debugger();function ss_composeSuggestUri(d,e){var b=e.site?e.site.value:null;var a=e.client?e.client.value:null;if(!d||!b||!a){return null}var f=(e.access&&e.access.value)?e.access.value:"p";var c="/suggest";if(SS_OUTPUT_FORMAT_LEGACY==ss_protocol){c=c+"?token="+encodeURIComponent(d)+"&max_matches="+ss_g_max_to_display}else{c=c+"?q="+encodeURIComponent(d)+"&max="+ss_g_max_to_display}c=c+"&site="+encodeURIComponent(b)+"&client="+encodeURIComponent(a)+"&access="+encodeURIComponent(f)+"&format="+encodeURIComponent(ss_protocol);return c}function ss_suggest(qVal){var startTimeMs=new Date().getTime();if(!ss_cached[qVal]){ss_cached[qVal]={}}var suggestForm=document.getElementById(ss_form_element);var uri=ss_composeSuggestUri(qVal,suggestForm);if(!uri){return}var url=ss_gsa_host?"http://"+ss_gsa_host+uri:uri;if(ss_panic){alert("ss_suggest() AJAX: "+url)}var xmlhttp=XH_XmlHttpCreate();var handler=function(){if(xmlhttp.readyState==XML_READY_STATE_COMPLETED){if(ss_panic){alert("ss_suggest() AJAX: "+xmlhttp.responseText)}var suggested;try{suggested=eval("("+xmlhttp.responseText+")")}catch(e){ss_cached[qVal].g=null;ss_show(qVal);return}if(ss_use.g){try{switch(ss_protocol){case SS_OUTPUT_FORMAT_LEGACY:default:var suggestions=suggested;if(suggestions&&suggestions.length>0){var found=false;ss_cached[qVal].g=[];var max=(ss_g_max_to_display<=0)?suggestions.length:Math.min(ss_g_max_to_display,suggestions.length);for(var si=0;si<max;si++){ss_cached[qVal].g[si]={q:suggestions[si]};found=true}if(!found){ss_cached[qVal].g=null}}else{ss_cached[qVal].g=null}break;case SS_OUTPUT_FORMAT_OPEN_SEARCH:if(suggested.length>1){var suggestions=suggested[1];if(suggestions&&suggestions.length>0){var found=false;ss_cached[qVal].g=[];var max=(ss_g_max_to_display<=0)?suggestions.length:Math.min(ss_g_max_to_display,suggestions.length);for(var si=0;si<max;si++){if(suggestions[si]&&suggestions[si]!=suggested[0]){ss_cached[qVal].g[si]={q:suggestions[si]};found=true}else{if((suggested.length>3)&&ss_allow_non_query){var title=(suggested[2].length>si)?null:suggested[2][si];var url=(suggested[3].length>si)?null:suggested[3][si];if(url){title=!title?ss_non_query_empty_title:title;ss_cached[qVal].g[si]={t:title,u:url};found=true}}}}if(!found){ss_cached[qVal].g=null}}else{ss_cached[qVal].g=null}}else{ss_cached[qVal].g=null}break;case SS_OUTPUT_FORMAT_RICH:var suggestions=suggested.results;if(suggestions&&suggestions.length>0){var found=false;ss_cached[qVal].g=[];var max=(ss_g_max_to_display<=0)?suggestions.length:Math.min(ss_g_max_to_display,suggestions.length);for(var si=0;si<max;si++){if(suggestions[si].name&&suggestions[si].name!=suggested.query){ss_cached[qVal].g[si]={q:suggestions[si].name};found=true}else{if(ss_allow_non_query){var title=suggestions[si].content;var url=suggestions[si].moreDetailsUrl;if(url){title=!title?ss_non_query_empty_title:title;ss_cached[qVal].g[si]={t:title,u:url};found=true}}}}if(!found){ss_cached[qVal].g=null}}else{ss_cached[qVal].g=null}break}}catch(e){ss_cached[qVal].g=null}}if(ss_allow_debug&&ss_debug&&ss_debug.getDebugMode()){var stopTimeMs=new Date().getTime();ss_debug.addRequestDebugLine(qVal,"suggest",stopTimeMs-startTimeMs,ss_cached[qVal])}ss_show(qVal)}};XH_XmlHttpGET(xmlhttp,url,handler)}function ss_processed(a){if(!ss_cached[a]&&ss_use.g){return false}return true}function ss_handleAllKey(c){var a=(window.event)?window.event.keyCode:c.keyCode;switch(a){case 40:case 38:break;case 9:case 16:ss_qbackup=null;ss_dismissed=true;ss_clear(true);var b=document.getElementById(ss_form_element).q.value;if(!ss_processed(b)){if(ss_panic){alert("run ajax when key off")}ss_suggest(b)}break;case 113:if(!ss_allow_debug){break}if(ss_debug&&ss_debug.getDebugMode()){ss_debug.deactivateConsole()}else{ss_debug.activateConsole()}break;default:break}}function ss_handleKey(g){var c=(window.event)?window.event.keyCode:g.keyCode;var i=document.getElementById(ss_form_element);var h=(!ss_qbackup)?i.q.value:ss_qbackup;var f=0;var d=document.getElementById(ss_popup_element);switch(c){case 40:ss_dismissed=false;if(ss_processed(h)){f=ss_countSuggestions(h);if(f>0){if(d.style.visibility=="hidden"){ss_show(h);break}if(ss_qbackup){ss_loc++}else{ss_qbackup=h;ss_loc=0}while(ss_loc>=f){ss_loc-=f}var k=d.getElementsByTagName("tr");for(var j=0;j<k.length-1;j++){if(j==ss_loc){k[j].className=SS_ROW_SELECTED_CLASS}else{k[j].className=SS_ROW_CLASS}}var b=ss_locateSuggestion(h,ss_loc);if(b.q){i.q.value=b.q}else{i.q.value=ss_qbackup}}}else{if(ss_panic){alert("run ajax when key down")}ss_suggest(h)}break;case 38:ss_dismissed=false;if(ss_processed(h)){f=ss_countSuggestions(h);if(f>0){if(d.style.visibility=="hidden"){ss_show(h);break}if(ss_qbackup){ss_loc--}else{ss_qbackup=h;ss_loc=-1}while(ss_loc<0){ss_loc+=f}var k=d.getElementsByTagName("tr");for(var j=0;j<k.length-1;j++){if(j==ss_loc){k[j].className=SS_ROW_SELECTED_CLASS}else{k[j].className=SS_ROW_CLASS}}var b=ss_locateSuggestion(h,ss_loc);if(b.q){i.q.value=b.q}else{i.q.value=ss_qbackup}}}else{if(ss_panic){alert("run ajax when key up")}ss_suggest(h)}break;case 13:var a=null;if(ss_processed(h)&&ss_qbackup&&ss_loc>-1){var b=ss_locateSuggestion(ss_qbackup,ss_loc);if(b.u){a=b.u}}ss_qbackup=null;ss_dismissed=true;ss_clear();if(a){window.location.href=a}break;case 27:if(ss_qbackup){i.q.value=ss_qbackup;ss_qbackup=null}ss_dismissed=true;ss_clear();break;case 37:case 39:case 9:case 16:break;default:ss_dismissed=false;if(i.q.value==ss_qshown){}else{if(ss_key_handling_queue){clearTimeout(ss_key_handling_queue)}ss_qbackup=null;ss_loc=-1;ss_waiting++;if(ss_allow_debug&&ss_debug&&ss_debug.getDebugMode()){ss_debug.addWaitDebugLine(i.q.value,"queue",ss_wait_millisec)}ss_key_handling_queue=setTimeout('ss_handleQuery("'+ss_escape(i.q.value)+'", '+ss_waiting+")",ss_wait_millisec)}break}}function ss_handleQuery(b,a){if(a!=ss_waiting){return}ss_waiting=0;if(b==""){ss_clear()}else{if(!ss_processed(b)){if(ss_panic){alert("run ajax when key change")}ss_suggest(b)}else{ss_show(b)}}}function ss_sf(){document.getElementById(ss_form_element).q.focus();ss_dismissed=false}function ss_clear(b){ss_qshown=null;var a=document.getElementById(ss_form_element);var c=(!ss_qbackup)?a.q.value:ss_qbackup;ss_hide(c);if(!b){ss_sf()}}function ss_hide(a){var b=document.getElementById(ss_popup_element);if(b.style.visibility=="visible"){if(ss_panic){alert("close suggestion box")}if(ss_allow_debug&&ss_debug&&ss_debug.getDebugMode()){ss_debug.addHideDebugLine(a,"hide")}b.style.visibility="hidden"}}function ss_show(i){var f=document.getElementById(ss_form_element).q.value;if(f!=i){if(ss_allow_debug&&ss_debug&&ss_debug.getDebugMode()){ss_debug.addHideDebugLine(i,"skip")}return}var c=new Date().getTime();if(ss_dismissed){ss_qshown=null;ss_hide(i);return}if(!ss_processed(i)){return}if(i==""){ss_hide(i);return}var e=ss_cached[i]?ss_cached[i].g:null;var l=false;if(ss_use.g&&e){l=true}if(!l){ss_qshown=null;ss_hide(i);return}if(ss_painting){if(ss_painting_queue){clearTimeout(ss_painting_queue)}if(ss_allow_debug&&ss_debug&&ss_debug.getDebugMode()){ss_debug.addWaitDebugLine(i,"delay",ss_delay_millisec)}ss_painting_queue=setTimeout('ss_show("'+ss_escape(i)+'")',ss_delay_millisec);return}else{ss_painting=true}var b=document.getElementById(ss_popup_element);for(var k=b.rows.length-1;k>-1;k--){b.deleteRow(k)}var a=0;for(var j=0;j<ss_seq.length;j++){switch(ss_seq[j]){case"g":a+=ss_showSuggestion(e,a,b);break}if(ss_max_to_display>0&&a>=ss_max_to_display){break}}if(a>0){var n=b.insertRow(-1);n.className="ss-gac-e";var m=document.createElement("td");m.colSpan=2;var d=document.createElement("span");d.onclick=function(){ss_qbackup=null;ss_clear();var g=document.getElementById(ss_form_element).q.value;if(!ss_processed(g)){ss_dismissed=true;if(ss_panic){alert("run ajax when mouse close")}ss_suggest(g)}};$.ajax({type:"GET",url:"/content/"+$("body").data("cx_language")+"/"+$("body").data("cx_country")+"/global/pagecopy/cx/navigation/headertext.xml",dataType:"xml",success:function(g){$(g).find("id").each(function(){if($(this).text()=="popup_close"){var o=$(this).siblings("value").text();d.appendChild(document.createTextNode(o))}})}});m.appendChild(d);n.appendChild(m);b.style.visibility="visible";ss_qshown=i;if(ss_panic){alert("open suggestion box for "+i)}if(ss_allow_debug&&ss_debug&&ss_debug.getDebugMode()){var h=new Date().getTime();ss_debug.addShowDebugLine(i,h-c,ss_cached[i],a)}}else{ss_hide(i)}ss_painting=false}function ss_showSuggestion(d,b,h){if(ss_max_to_display>0&&b>=ss_max_to_display){return 0}if(d&&d.length>0){for(var a=0;a<d.length;a++){var j=h.insertRow(-1);j.onclick=ss_handleMouseC;j.onmousemove=ss_handleMouseM;j.className=SS_ROW_CLASS;var f=document.createElement("td");if(d[a].q){f.appendChild(document.createTextNode(d[a].q))}else{f.innerHTML="<i>"+d[a].t+"</i>"}f.className="ss-gac-c";j.appendChild(f);var e="";if(a==0&&d.length==1){e=ss_g_one_name_to_display}else{if(a==0){e=ss_g_more_names_to_display}}var c=document.createElement("td");c.appendChild(document.createTextNode(e));c.className="ss-gac-d";j.appendChild(c);if(ss_max_to_display>0&&b+a+1>=ss_max_to_display){return a+1}}return d.length}return 0}function ss_handleMouseM(){var c=document.getElementById(ss_form_element);var e=document.getElementById(ss_popup_element);var d=e.getElementsByTagName("tr");for(var a=0;a<d.length-1;a++){if(d[a]==this&&d[a].className!=SS_ROW_SELECTED_CLASS){d[a].className=SS_ROW_SELECTED_CLASS;if(!ss_qbackup){ss_qbackup=c.q.value}ss_loc=a;var b=ss_locateSuggestion(ss_qbackup,ss_loc);if(b.q){c.q.value=b.q}else{c.q.value=ss_qbackup}}else{if(d[a]!=this){d[a].className=SS_ROW_CLASS}}}ss_sf();return true}function ss_handleMouseC(){var c=document.getElementById(ss_form_element);var e=document.getElementById(ss_popup_element);var d=e.getElementsByTagName("tr");for(var a=0;a<d.length-1;a++){if(d[a]==this){if(!ss_qbackup){ss_qbackup=c.q.value}ss_loc=a;var b=ss_locateSuggestion(ss_qbackup,ss_loc);if(b.q){c.q.value=b.q;c.submit()}else{c.q.value=ss_qbackup;if(b.u){window.location.href=b.u}}break}}}function ss_countSuggestions(c){var b=0;for(var a=0;a<ss_seq.length;a++){switch(ss_seq[a]){case"g":b+=ss_cached[c].g?ss_cached[c].g.length:0;break}if(ss_max_to_display>0&&b>=ss_max_to_display){return ss_max_to_display}}return b}function ss_locateSuggestion(e,g){var c=0;var b=0;var a=null;for(var f=0;f<ss_seq.length;f++){switch(ss_seq[f]){case"g":b+=ss_cached[e].g?ss_cached[e].g.length:0;break}if(g>=c&&g<b){switch(ss_seq[f]){case"g":var d=ss_cached[e].g[g-c].q;if(d){return{q:d}}else{return{u:ss_cached[e].g[g-c].u}}}break}c=b}return null}function ss_escape(a){return a.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')}function ss_escapeDbg(d){var b="";var c=d.split("");for(var a=0;a<c.length;a++){switch(c[a]){case"&":b+="&amp;";break;case"<":b+="&lt;";break;case">":b+="&gt;";break;default:b+=c[a];break}}return b}function ss_Debugger(){this.debugMode=false}ss_Debugger.DEBUG_CONSOLE_ID="ss_debug_console";ss_Debugger.DEBUG_CONTENT_ID="ss_debug_content";ss_Debugger.DEBUG_TOGGLE_ID="ss_debug_toggle";ss_Debugger.prototype.getDebugMode=function(){return this.debugMode};ss_Debugger.prototype.activateConsole=function(){var c=document.getElementById(ss_Debugger.DEBUG_CONSOLE_ID);if(c){c.style.display="block"}else{var b=document.createElement("div");b.id=ss_Debugger.DEBUG_CONSOLE_ID;b.zIndex=100;b.className="expanded";var g=document.createElement("h1");g.appendChild(document.createTextNode("GSA Suggest Debug Console"));g.style.display="inline";b.appendChild(g);var f=document.createElement("div");var d=document.createElement("button");d.onclick=function(j){var k=document.getElementById(ss_Debugger.DEBUG_CONTENT_ID);if(k){for(var i=k.rows.length-1;i>0;i--){k.deleteRow(i)}}};d.appendChild(document.createTextNode("Clear console"));f.appendChild(d);d=document.createElement("button");d.onclick=function(i){ss_cached=[]};d.appendChild(document.createTextNode("Clear cache"));f.appendChild(d);d=document.createElement("button");d.id=ss_Debugger.DEBUG_TOGGLE_ID;d.onclick=function(k){var j=document.getElementById(ss_Debugger.DEBUG_CONSOLE_ID);if(j){var i=document.getElementById(ss_Debugger.DEBUG_TOGGLE_ID);if(j.className.indexOf("expanded")!=-1){j.className=j.className.replace(/expanded/,"contracted");i.innerHTML="Maximize"}else{j.className=j.className.replace(/contracted/,"expanded");i.innerHTML="Minimize"}}};d.appendChild(document.createTextNode("Minimize"));f.appendChild(d);f.style.display="inline";b.appendChild(f);b.appendChild(document.createElement("br"));var h=document.createElement("table");h.id=ss_Debugger.DEBUG_CONTENT_ID;var a=h.insertRow(-1);var e=document.createElement("th");e.innerHTML="Query";a.appendChild(e);e=document.createElement("th");e.innerHTML="Type";a.appendChild(e);e=document.createElement("th");e.innerHTML="Time";a.appendChild(e);e=document.createElement("th");e.innerHTML="g";a.appendChild(e);e=document.createElement("th");e.innerHTML="Total";a.appendChild(e);b.appendChild(h);document.body.appendChild(b)}this.debugMode=true};ss_Debugger.prototype.deactivateConsole=function(){var a=document.getElementById(ss_Debugger.DEBUG_CONSOLE_ID);if(a){a.style.display="none"}this.debugMode=false};ss_Debugger.prototype.addRequestDebugLine=function(c,b,f,e){var d=document.getElementById(ss_Debugger.DEBUG_CONTENT_ID);if(d){var a=d.insertRow(1);var g=document.createElement("td");g.innerHTML="&lt;"+ss_escapeDbg(c)+"&gt;";a.appendChild(g);g=document.createElement("td");g.innerHTML=b;a.appendChild(g);g=document.createElement("td");g.className="no";g.innerHTML=f+" ms";a.appendChild(g);switch(b){case"suggest":g=document.createElement("td");g.className="no";g.innerHTML=(e.g?e.g.length:0);a.appendChild(g);g=document.createElement("td");a.appendChild(g);break;default:g=document.createElement("td");a.appendChild(g);g=document.createElement("td");a.appendChild(g);break}}};ss_Debugger.prototype.addShowDebugLine=function(c,e,g,b){var d=document.getElementById(ss_Debugger.DEBUG_CONTENT_ID);if(d){var a=d.insertRow(1);var f=document.createElement("td");f.innerHTML="&lt;"+ss_escapeDbg(c)+"&gt;";a.appendChild(f);f=document.createElement("td");f.innerHTML="<i>show</i>";a.appendChild(f);f=document.createElement("td");f.className="no";f.innerHTML=e+" ms";a.appendChild(f);f=document.createElement("td");f.className="no";f.innerHTML=(g?(g.g?g.g.length:0):0);a.appendChild(f);f=document.createElement("td");f.className="no";f.innerHTML=b;a.appendChild(f)}};ss_Debugger.prototype.addHideDebugLine=function(c,b){var d=document.getElementById(ss_Debugger.DEBUG_CONTENT_ID);if(d){var a=d.insertRow(1);var e=document.createElement("td");e.innerHTML="&lt;"+ss_escapeDbg(c)+"&gt;";a.appendChild(e);e=document.createElement("td");e.innerHTML="<i>"+b+"</i>";a.appendChild(e);e=document.createElement("td");e.className="no";e.innerHTML="0 ms";a.appendChild(e);e=document.createElement("td");a.appendChild(e);e=document.createElement("td");a.appendChild(e)}};ss_Debugger.prototype.addWaitDebugLine=function(c,b,e){var d=document.getElementById(ss_Debugger.DEBUG_CONTENT_ID);if(d){var a=d.insertRow(1);var f=document.createElement("td");f.innerHTML="&lt;"+ss_escapeDbg(c)+"&gt;";a.appendChild(f);f=document.createElement("td");f.innerHTML="<i>"+b+"</i>";a.appendChild(f);f=document.createElement("td");f.className="no";f.innerHTML=e+" ms";a.appendChild(f);f=document.createElement("td");a.appendChild(f);f=document.createElement("td");a.appendChild(f)}};var ss_use={};ss_use.g=ss_seq.indexOf("g")>=0?true:false;document.onkeyup=ss_handleAllKey;