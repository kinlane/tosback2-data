if(typeof MACYS=="undefined"||!MACYS){var MACYS={}}if(!MACYS.namespace){MACYS.namespace=function(){var b=arguments,g=null,e,c,f;for(e=0;e<b.length;e=e+1){f=b[e].split(".");g=MACYS;for(c=(f[0]=="MACYS")?1:0;c<f.length;c=c+1){g[f[c]]=g[f[c]]||{};g=g[f[c]]}}return g};MACYS.logcount=0;MACYS.log=function(e,f,d){if(arguments.length==0){e=""}e=(MACYS.logcount++).toString()+"> "+e;var b=MACYS.config.Base.logVerbosity;if(!f){f="debug"}for(var c=0;c<b.length;c=c+1){if(f===b[c]){YAHOO.log(e,f,d);break}}};MACYS.load=(function(){var a={};a.load_queue=[];a.loaded=false;a.onload=function(d,c,b){b=typeof b=="object"?b:[b];if(this.loaded){d.apply(c,b)}else{this.load_queue.push([d,c,b])}};YAHOO.util.Event.onDOMReady(function(){var b,f,c;this.loaded=true;for(var d=0;d<this.load_queue.length;d++){try{b=this.load_queue[d][0];f=this.load_queue[d][1];c=this.load_queue[d][2];b.apply(f,c)}catch(g){MACYS.log("error while onload:"+g)}}},a,true);return a})();MACYS.onload=function(){MACYS.load.onload.apply(MACYS.load,arguments)}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(e,d,b){for(var c=+d||0,a=this.length;c<a;c++){if(this[c]===e||b&&this[c]==e){return c}}return -1}}Array.prototype.remove=function(b){var a=this.indexOf(b);if(a==-1){return this}return this.slice(0,a).concat(this.slice(a+1,this.length))};Array.prototype.unique=function(){var b=[];var a={};for(i=0;i<this.length;i++){if(a[this[i]]){continue}b.push(this[i]);a[this[i]]=true}return b};Error.prototype.toString=function(){return this.message};MACYS.namespace("MACYS.config");MACYS.config.Base={};MACYS.config.Base.logVerbosity=["debug","info","warn","error","time","window"];MACYS.config.Base.displayLogReader=false;MACYS.config.Catalog={};MACYS.config.Search={};if(YAHOO.widget&&YAHOO.widget.Logger){YAHOO.widget.Logger.enableBrowserConsole();YAHOO.widget.Logger.categories=MACYS.config.Base.logVerbosity}MACYS.onload(function(){var b=YAHOO.util.Dom.get("MACYS_assetsHostName");var c=YAHOO.util.Dom.get("MACYS_baseHostName");var a=YAHOO.util.Dom.get("MACYS_imageHostName");var e=YAHOO.util.Dom.get("MACYS_secureHostName");var d=YAHOO.util.Dom.get("AKAMAI_LOGIC");this.Base.assetsUrl=b?b.value||"":"";this.Base.baseUrl=c?c.value||"":"";this.Base.imageUrl=a?a.value||"":"";this.Base.secureUrl=e?e.value||"":"";d=d?d.value:"";this.Base.closeButtonUrl=this.Base.assetsUrl+"/img/icons/icon_close_atb.gif";this.Search.metaDataUrl=this.Base.baseUrl+"/web20search/searchmeta";this.Catalog.metaDataUrl=this.Base.baseUrl+"/catalog/category/facetedmeta?edge="+d;this.Catalog.productFragmentUrl=this.Base.baseUrl+"/catalog/product/thumbnail/1?edge="+d;this.Catalog.bannerFragmentUrl=this.Base.baseUrl+"/catalog/category/banner";MACYS.config.setSearchBoxStyle()},MACYS.config);if(YAHOO.widget&&YAHOO.widget.Panel){if((window.location.href.indexOf("registry/wedding/registrant")>0||window.location.href.indexOf("registry/wedding/addtoregistryredirected")>0)&&YAHOO.env.ua.ie==6){MACYS.loading=new YAHOO.widget.Panel("loading",{width:"240px",fixedcenter:true,close:false,draggable:false,modal:true,zindex:3000,underlay:"none",iframe:false})}else{MACYS.loading=new YAHOO.widget.Panel("loading",{width:"240px",fixedcenter:true,close:false,draggable:false,modal:true,zindex:3000,underlay:"none"})}MACYS.onload(function(){this.setHeader("Loading, please wait...");this.setBody("<img src='"+MACYS.config.Base.assetsUrl+"/img/rel_interstitial_loading.gif'/>");this.render(document.body);this.hide()},MACYS.loading,["loading"])}MACYS.config.setSearchBoxStyle=function(){var a=YAHOO.util.Dom.getElementsByClassName("globalSearchInputField","input","globalSubNav");YAHOO.util.Dom.setStyle(a,"color","#999999");a[0].value="Keyword, Web ID";YAHOO.util.Event.addListener(a,"focus",function(){YAHOO.util.Dom.setStyle(a,"color","#333");if(a[0].value=="Keyword, Web ID"){a[0].value=""}});YAHOO.util.Event.addListener(a,"blur",function(b){if(a[0].value==""){YAHOO.util.Dom.setStyle(a,"color","#999999");a[0].value="Keyword, Web ID"}});YAHOO.util.Event.addListener(YAHOO.util.Dom.getAncestorByTagName(a[0],"form"),"submit",function(b){if(a[0].value=="Keyword, Web ID"||a[0].value==""){YAHOO.util.Event.preventDefault(b);a[0].focus();return false}return true})};
