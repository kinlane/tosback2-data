
var is_firefox=BrowserDetect.browser=='Firefox';var is_safari=BrowserDetect.browser=='Safari';var is_MSIE=BrowserDetect.browser=='Explorer';var is_mac=BrowserDetect.OS=='Mac';Prototype.Browser.IE7=Prototype.Browser.IE&&parseInt(navigator.userAgent.substring(navigator.userAgent.indexOf("MSIE")+5))==7;function add_onload(onload_function){Event.observe(window,'load',onload_function);}
function setup_temporaries(){var temporaries=document.getElementsByTagName('input');for(var i=0;i<temporaries.length;i++){if(!temporaries[i]._tset&&(temporaries[i].type=='text'||temporaries[i].type=='password'||temporaries[i].type=='url'||temporaries[i].type=='email'))
inputTemporarySetup(temporaries[i]);if(window.KSM){Event.observe(temporaries[i],'focus',KSM.disable_all.bind(KSM));Event.observe(temporaries[i],'blur',KSM.enable_all.bind(KSM));}}
temporaries=document.getElementsByTagName('textarea');for(var i=0;i<temporaries.length;i++){if(!temporaries[i]._tset)
inputTemporarySetup(temporaries[i]);}}
var menutabdelay=500;function showsubmenu(network_id){var element=$("network_inner_"+network_id);if(element){Event.observe(element,'mouseenter',function(){var parent_node=element.parentNode;add_class(parent_node,'social_network_hover');inner_element=$('network_info_bubble_'+network_id);if(typeof timedelay!="undefined")
clearTimeout(timedelay);timedelay=setTimeout(function(){inner_element.setStyle("display: block; visibility: visible;");},menutabdelay);});$(element).observe('mouseleave',function(event){var parent_node=Event.element(event).parentNode;remove_class(parent_node,'social_network_hover');inner_element=$('network_info_bubble_'+network_id);if(typeof timedelay!="undefined")
clearTimeout(timedelay);inner_element.setStyle('visibility: hidden; display: none;');});}}
function showNotFound(){hide('result_profile','result_map','list_nav');show('main_panel_extended');}
function size_of_associative_array(to_size){var len=to_size.length?--to_size.length:-1;for(var k in to_size)
len++;return len;}
function inputTemporarySetup(elem){elem=z(elem);if(elem){var text=elem.getAttribute("temporary")||elem.temporary;if(text&&!text.match(/^\s*$/)){elem.prev_onfocus=elem.onfocus;elem.prev_onblur=elem.onblur;elem.temporary=text;elem._tset=true;if(elem.type=='password'){var p_input=document.createElement('input');p_input._tset=true;p_input.elem=elem;p_input.value=text;p_input.type='text';p_input.className=elem.className;p_input.tabIndex=elem.tabIndex;p_input.onfocus=passTemporaryFocus;if(elem.id)p_input.id=elem.id+'_t';p_input.style.width=elem.style.width;p_input.style.display=elem.style.display;p_input.style.visibility=elem.style.visibility;hide(elem);elem.p_input=p_input;elem.tabIndex=null;elem.onhide=passTemporaryHide;elem.onshow=passTemporaryShow;elem.onblur=passTemporaryBlur;remove_class(elem,'temporary');elem.parentNode.insertBefore(p_input,elem);}else{if(!elem.value)elem.value=text;else if(elem.value!=text)remove_class(elem,'temporary');elem.onfocus=textTemporaryFocus;elem.onblur=textTemporaryBlur;}}
var onEnter=elem.getAttribute("onenter")||elem.getAttribute("onEnter")||elem.onenter||elem.onEnter;if(onEnter)Event.observe(elem,'keypress',onEnterFunction(elem,onEnter));var onEscape=elem.getAttribute("onescape")||elem.getAttribute("onEscape")||elem.onescape||elem.onEscape;if(onEscape)Event.observe(elem,'keypress',onEscapeFunction(elem,onEscape));}}
function textTemporaryFocus(){if(this.temporary&&this.value==this.temporary){remove_class(this,'temporary');this.value='';}
if(this.prev_onfocus)return this.prev_onfocus();}
function textTemporaryBlur(){if(this.temporary&&(this.value==''||this.value==this.temporary)){add_class(this,'temporary');this.value=this.temporary;}
if(this.prev_onblur)return this.prev_onblur();}
function passTemporaryFocus(){this.style.display='none';this.style.visibility='hidden';this.elem.style.display='';this.elem.style.visibility='visible';this.elem.focus();this.elem.select();if(this.elem.prev_onfocus)return this.elem.prev_onfocus();}
function passTemporaryBlur(){passTemporaryShow.call(this);if(this.prev_onblur)return this.prev_onblur();}
function passTemporaryHide(){this.p_input.style.display='none';this.p_input.style.visibility='hidden';}
function passTemporaryShow(){if(this.value==''||this.value==this.temporary){this.value='';this.style.display='none';this.style.visibility='hidden';this.p_input.style.display='';this.p_input.style.visibility='visible';}}
function onEnterFunction(elem,onEnter){elem.onEnter=onEnter;return function(e){e=window.event||e;if(e.keyCode==13){if(typeof onEnter=='function')
return this.onEnter();else
return eval(this.onEnter);}}.bind(elem);}
function onEscapeFunction(elem,onEscape){elem.onEscape=onEscape;return function(e){e=window.event||e;if(e.keyCode==27){if(typeof onEscape=='function')
return this.onEscape();else
return eval(this.onEscape);}}.bind(elem);}
add_onload(setup_temporaries);function touch(){if(is_MSIE){for(var i=0;i<arguments.length;i++){var div=z(arguments[i]);if(div)div.className=div.className;}}}
function touchIE(){if(is_MSIE){for(var i=0;i<arguments.length;i++){var div=z(arguments[i]);if(div){var h=div.style.height;div.style.height='2000px';div.className=div.className;div.style.height=h;}}}}
function findPosX(obj){obj=z(obj);var curleft=0;if(obj.offsetParent){while(obj){curleft+=obj.offsetLeft+(obj.clientLeft?obj.clientLeft:0);obj=obj.offsetParent;}}else if(obj.x)
curleft+=obj.x;return curleft;}
function findPosY(obj){obj=z(obj);var curtop=0;if(obj.offsetParent){while(obj){curtop+=obj.offsetTop+(obj.clientTop?obj.clientTop:0);obj=obj.offsetParent;}}else if(obj.y)
curtop+=obj.y;return curtop;}
function show_message(message_span_id,message){if(message_span_id){z(message_span_id).innerHTML=message;show(message_span_id);window._last_message_span_id=message_span_id;}else{alert(message);}}
function submit_login(){z('reload_form').action='/user';submit_action('/do_login',[['login_service','email'],['user[username]',z('user_email').value],['user[password]',z('user_password').value],['persist',z('persist').checked]],'login_message',false,login_handler);}
function login_handler(message,message_span_id){var redirect=message.match(/^redirect:(.+)$/);if(redirect)return window.location.href=redirect[1];var auth=message.match(/^authenticate:(.+)$/);if(auth)return Spokeo.Login[auth[1]]();handle_action_response(message,message_span_id);}
function focus_elem(elem_to_focus){elem_to_focus.focus();elem_to_focus.select();}
function add_class(elem,className){if(elem){if(!elem.className||elem.className.length==0)
elem.className=className;else if(!elem.className.match('(^'+className+'$)|(^'+className+' )|( '+className+'$)|( '+className+' )'))
elem.className+=' '+className;}}
function remove_class(elem,className){if(elem&&elem.className){elem.className=elem.className.replace(new RegExp('^'+className+'()()$'),'$2').replace(new RegExp('^'+className+'( )()'),'$2').replace(new RegExp('( )'+className+'( )'),'$2').replace(new RegExp('( )'+className+'()$'),'$2');}}
function has_class(elem,className){if(elem){if(!elem.className||elem.className.length==0)
return false;else
return(elem.className.match('(^'+className+'$)|(^'+className+' )|( '+className+'$)|( '+className+' )'))}else{return false;}}
window._image_widths={};window._image_heights={};function resize_image(image,max_width,max_height){if(image&&!image.resized){var w=image.width;var h=image.height;if(w&&h){if(w>max_width){h=h*max_width/w;w=max_width;}
if(h>max_height){w=w*max_height/h;h=max_height;}
window._image_widths[image.src]=w;window._image_heights[image.src]=h;image.width=w;image.height=h;image.resized=true;}}}
function set_image_size(image){var w=window._image_widths[image.src];var h=window._image_heights[image.src];if(w&&h){image.width=w;image.height=h;}}
function resize_images_in_safari(){try{if(is_safari){var images=document.getElementsByTagName("img");for(var i=0;i<images.length;i++)
resize_image_in_safari(images[i]);}}catch(error){}}
function resize_image_in_safari(image){if(!image.safari_resized){if(image.className.match("max_width_img")){image.safari_resized=true;image.style.width="100%";}
if(image.className.match("max_height_img")){image.safari_resized=true;image.style.height="100%";}}}
function submit_action(form_action_url,array_of_name_value_pairs,message_span_id,skip_reload,callback_function){var params='';for(var i=0;i<array_of_name_value_pairs.length;i++){if(i>0)params+='&';params+=array_of_name_value_pairs[i][0]+'='+encodeURIComponent(array_of_name_value_pairs[i][1]);}
if(callback_function){new Ajax.Request(form_action_url,{asynchronous:true,evalScripts:true,parameters:params,onComplete:function(request){callback_function(request.responseText,message_span_id)}});}else{new Ajax.Request(form_action_url,{asynchronous:true,evalScripts:true,parameters:params,onComplete:function(request){handle_action_response(request.responseText,message_span_id,skip_reload)}});}
return false;}
function handle_action_response(message,message_span_id,skip_reload){if(message&&message.match(/[^\s]/)){show_message(message_span_id,message);}else{if(!skip_reload){rf=z('reload_form');if(rf)rf.submit();}}}
function z(){var results=[],e;for(var i=0;i<arguments.length;i++){e=arguments[i];if(typeof e=='string')
e=document.getElementById(e);results.push(e);}
return results.length<2?results[0]:results;}
function setTextElement(className,str)
{var arr=document.getElementsByName(className);var i=0;for(i=0;i<arr.length;i++)
{arr[i].innerHTML=str;arr[i].innerText=str;arr[i].textContent=str;}}
function setAttrElement(className,attributeName,value)
{var arr=document.getElementsByName(className);var i=0;for(i=0;i<arr.length;i++)
{arr[i].setAttribute(attributeName,value);}}
function hide(){var e=null;for(var i=0;i<arguments.length;i++){e=z(arguments[i]);if(e){e.style.visibility='hidden';e.style.display='none';if(e.onhide)e.onhide();}}
return e;}
function show(){var e=null;for(var i=0;i<arguments.length;i++){e=z(arguments[i]);if(e){e.style.visibility='visible';e.style.display='';if(e.onshow)e.onshow();}}
return e;}
function visible(e){e=z(e);return e?e.style.display!='none':false;}
function toggle(){for(var i=0;i<arguments.length;i++){var e=z(arguments[i]);visible(e)?hide(e):show(e);}}
function removeChildren(e){var n=z(e);if(n){while(n.firstChild)n.removeChild(n.firstChild);}
return n;}
Element.show=show;Element.hide=hide;Element.Methods['show']=show;Element.Methods['hide']=hide;function really_out(src){if(!window.event||!src)return true;var event=window.event;var from=event.fromElement;var to=event.toElement;return src!=to&&(src==from||src.contains(from))&&!src.contains(to);}
TableOfContents={navigateTo:function(section){if(!mainScroll){var to_scroll=new Scrollable(section+'_section_header','main_panel_content');to_scroll.start_scroll(true);return false;}
else{var container=z('main_panel_content');var destination=z(section+'_section_header');var destination_top=destination.offsetTop;mainScroll.scrollTo(0,-destination_top,200);return false;}}};function fcra(personId,element,mapview){var agree=confirm("I understand and agree that: This section is intended for entertainment purposes only.  All data is derived from public sources. Spokeo does not verify or evaluate each piece of information offered, or make any guarantees about its accuracy, authenticity, legality, or the time frame in which it may have been collected or updated.  Spokeo is not a credit reporting agency and does not offer consumer reports. Spokeo does not possess or have access to secure or private financial information, such as Social-Security numbers, driver’s license numbers, bank accounts, or credit scores. None of the information offered by Spokeo is to be considered for purposes of determining a consumer's eligibility for credit, insurance, employment, or for any other purpose authorized under the FCRA. Spokeo makes no warranties or guarantees whatsoever regarding the information provided. Any reliance upon the information is at my own risk. I further acknowledge that I have read, understand, and agree to all of the provisions specified in Spokeo’s Terms of Use, Privacy Policy and plan specifications.")
if(agree){var params='dp='+personId+'&q='+(this.query||'').split(',')[0];if(mapview)
var req=new Ajax.Request("/mapview/acknowledge_wealth_fcra_map_view",{asynchronous:false,evalScripts:false,parameters:params});else{var req=new Ajax.Request("/mapview/acknowledge_wealth_fcra",{asynchronous:false,evalScripts:false,parameters:params});}
if(req.transport.responseText)z(element).innerHTML=req.transport.responseText;}
return false;};function toggleHomePageVideo(){var overlay=z('lightbox_overlay');var video=z('video_player');if(overlay&&video){overlay.parentNode.removeChild(overlay);video.parentNode.removeChild(video);return false;}
var wrapper=z('wrapper');var overlay=document.createElement('div');overlay.id='lightbox_overlay';overlay.onclick=function(){toggleHomePageVideo();return false;};overlay.className='lightbox_overlay';var video=document.createElement('div');video.className='video_player_wrapper';if(typeof(window.pageYOffset)=='number'){video.style.top=(window.pageYOffset+(window.innerHeight-404)/2)+"px";}else{video.style.top=(document.documentElement.scrollTop+(document.documentElement.clientHeight-404)/2)+"px";}
video.id='video_player';video.innerHTML='<div class="video_player"><a href="#" class="video_close_button" onclick="toggleHomePageVideo(); return false;"></a><iframe src="http://player.vimeo.com/video/44119892" width="675" height="379" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe></div>';wrapper.appendChild(overlay);wrapper.appendChild(video);}
Scrollable=Class.create();var current_scroller=null;Scrollable.prototype={initialize:function(element_to_scroll_to,container){this.element_to_scroll_to=document.getElementById(element_to_scroll_to);this.container=document.getElementById(container);},start_scroll:function(){try{if(this.container.scrollTop<this.element_to_scroll_to.offsetTop)
this.scrollDirection=1;else{this.scrollDirection=-1;}
this.scrollSpeed=20;if(current_scroller!=null)
this.stop_scrolling();current_scroller=setInterval(this.scroll.bind(this),(is_MSIE?1:30));}catch(e){}},stop_scrolling:function(){if(current_scroller)clearInterval(current_scroller);current_scroller=null;},scroll:function(){this.previous_container_scroll_top=this.container.scrollTop;var scroll_top=(this.container.scrollTop)+(this.scrollDirection*this.scrollSpeed);if(this.scrollDirection==-1){if(scroll_top<=this.element_to_scroll_to.offsetTop){this.container.scrollTop=this.element_to_scroll_to.offsetTop;this.stop_scrolling();return false;}}else{if(scroll_top>=this.element_to_scroll_to.offsetTop){this.container.scrollTop=this.element_to_scroll_to.offsetTop;this.stop_scrolling();return false;}}
this.container.scrollTop=scroll_top;if(this.container.scrollTop==this.previous_container_scroll_top){this.stop_scrolling();}
this.scrollSpeed+=Math.round(Math.sqrt(this.scrollSpeed)/2);}};Header={selectHeader:function(type,uiSplitTests){if(type=='directory phone-seo')type='phone';var fp=false;if(type=='fp')fp=true;if(type=='directory name-seo'||type=='fp')type='name';if(!type||type==this.searchType)return;if(!this.baseSearchType)this.baseSearchType=type;var input=z('search_input');if(input){if(type=='name')input.temporary='Search for a person by name';input.className='temporary';if(type=='phone')input.temporary='Enter a 10-digit phone number';input.className='temporary';if(type=='username')input.temporary='Enter a username';input.className='temporary';if(type=='address')input.temporary='Enter an address';input.className='temporary';if(type=='email')input.temporary=window.email_temporary||'Enter an email address';input.className='temporary';this.toggleSplitSearch(type);if(type==this.baseSearchType&&this.query){remove_class(input,'temporary');if(Spokeo.runSplitTest(uiSplitTests,'splitAutocomplete')&&type=='name')
{var querySplit=this.query.split(',');if(querySplit.length>=2)
{input.value=querySplit[0].strip();$('city_input').value=querySplit.slice(1,querySplit.length).join().strip();$('city_input_label').hide();}
else
{input.value=this.query;}}
else
{this.query=this.query.replace(" , ",", ");input.value=this.query;}
if(!fp)
this.setupAutocomplete(input,type);}else{hide($('input_underlay'));input.value=input.temporary;}
remove_class(input,'name');remove_class(input,'email');remove_class(input,'phone');remove_class(input,'username');remove_class(input,'reverse_address');add_class(input,type);}
try{z('header_search_'+type).className='selected';if(this.searchType)z('header_search_'+this.searchType).className='';}catch(e){}
this.searchType=type;},toggleSplitSearch:function(type)
{if(z('city_input_wrapper'))
{if(type=='name')
{$('city_input_wrapper').setStyle({display:"block"});}
else
{$('city_input_wrapper').setStyle({display:"none"});$('city_input').value="";$('split_test_flag').value="false";}}},setupAutocomplete:function(input,type){if(type=='name'){try{if(!z('input_underlay')){var input_underlay=document.createElement('input');input_underlay.id='input_underlay';input_underlay.tabIndex=-1;input.parentNode.insertBefore(input_underlay,input);}
hide(input_underlay);var p="^[a-zA-Z]{1,}\\s[a-zA-Z]{2,}$";if(input.value.match(p)){input.value=input.value;if(!Spokeo.runSplitTest(uiSplitTests,'splitAutocomplete'))
{z('input_underlay').value=input.value+', Enter a City';}
show(z('input_underlay'));}else{hide(input_underlay);}}catch(e){}}}};function search_add_out(elem){if(really_out(elem)){window.allow_hide_search_add=true;setTimeout(hide_search_add,500);}}
function hide_search_add(){if(window.allow_hide_search_add){hide('follow_list');z('follow_button').className=null;}}
function search_add_over(elem,event){window.allow_hide_search_add=false;show('follow_list');z('follow_button').className='hovered';}
BreadCrumb={crumbs:[],update:function(crumbs){$$('.location_nav').each(function(e){var n=document.createElement('div');add_class(n,'location_nav_inner');var d=document.createElement('div');if(crumbs.length==1)d.className='before_selected';n.appendChild(d);for(var i=0;i<crumbs.length;i++){var d=document.createElement('div');if(i==crumbs.length-2)d.className='before_selected';if(i==crumbs.length-1)d.className='selected';n.appendChild(d);if(i<crumbs.length-1){var a=document.createElement('a');a.href=crumbs[i].href||'#';a.onclick=crumbs[i].onclick||null;d.appendChild(a);d=a;}
var s=document.createElement('span');s.innerHTML=crumbs[i].text;d.appendChild(s);this.crumbs=crumbs;removeChildren(e).appendChild(n);show(e);}});}};BreadCrumb.Crumb=Class.create();BreadCrumb.Crumb.prototype={initialize:function(text,count,href,onclick){this.text=text;this.count=count;this.href=href;this.onclick=function(){onclick;Mapview.waitingForProfile=false;}}}
BreadCrumb.Crumb.Summary=new BreadCrumb.Crumb('All '+(window._contact_type||'Contact')+'s',null,null,function(){show_summary();return false;})
BreadCrumb.Crumb.AddFriends=new BreadCrumb.Crumb('Add '+(window._contact_type||'Contact')+'s',null,null,function(){show_add_friend();return false;})
UsernameSearch={quick_email_mobile_search:function(i,force)
{var email=z(i).value;if(email.match(/^[a-zA-Z0-9-_.]+@[a-zA-Z0-9-_]+\.[a-zA-Z0-9-_.]+$/)){if(z('social_network_search')){z('social_network_search').value=email;z('social_search_results_email').innerHTML=email;}
var params=[['email',email]];if(force){hide(z('social_loading'));params.push(['force',true]);}else{show(z('social_loading'));if(z('social_loading'))
z('social_loading').src='/images/v4/app/phone/social_loading-cdn-43c82135cd0b56aac0b66296b73e2ec6.gif';}
submit_action('/email-search/social_network_quick_mobile_search',params,null,false,this.post_mobile_search);}else{alert("Please enter a valid email address");}
return false;},post_mobile_search:function(response_text,message_span_id){if(response_text=='loading'){if(z('social_network_search'))
setTimeout("UsernameSearch.quick_email_mobile_search('social_network_search', true);",6000);}else{hide('social_loading','social_search_results_text');z('social_loading').src='';var response_json=response_text.evalJSON(true);z('outer_social_section').innerHTML=response_json['social_networks_html'];if(response_json['sources']>=1){show('social_network_not_found_text','social_search_box');}else{show('social_network_not_found_text','social_search_box');z('social_network_not_found_text').innerHTML="We could not find any social network profiles for "+z('photo_search').value+". Try entering another email address to find profiles.";}
showsubmenutrigger();if(resultsScroll){resultsScroll.refresh();}}},quick_email_search:function(i,force){email=z(i).value;if(email.match(/^[a-zA-Z0-9-_.]+@[a-zA-Z0-9-_]+\.[a-zA-Z0-9-_.]+$/)){if(z('social_network_search')){z('social_network_search').value=email;z('social_search_results_email').innerHTML=email;}
if(z('photo_search')){z('photo_search').value=email;z('phone_search_results_email').innerHTML=email;}
var params=[['email',email]];if(force){hide(z('social_loading'),z('phone_loading'));params.push(['force',true]);}else{show(z('social_loading'),z('phone_loading'));if(z('social_loading'))
z('social_loading').src='/images/v4/app/phone/social_loading-cdn-43c82135cd0b56aac0b66296b73e2ec6.gif';if(z('phone_loading'))
z('phone_loading').src='/images/v4/app/phone/social_loading-cdn-43c82135cd0b56aac0b66296b73e2ec6.gif';}
submit_action('/email-search/social_network_quick_search',params,null,false,this.post_search);}else{alert("Please enter a valid email address");}
return false;},show_hide_search_text:function(){hide(z('phone_search_results_text'),z('social_search_results_text'));show(z('phone_search_box'),z('social_search_box'));return false;},post_search:function(response_text,message_span_id){if(response_text=='loading'){if(z('social_network_search'))
setTimeout("UsernameSearch.quick_email_search('social_network_search', true);",6000);else
setTimeout("UsernameSearch.quick_email_search('photo_search', true);",6000);}else{show('social_search_results_text','phone_search_results_text');hide('social_loading','phone_loading','social_search_box','phone_search_box');z('social_loading').src='';z('phone_loading').src='';var response_json=response_text.evalJSON(true);z('social_networks').innerHTML=response_json['social_networks_html'];if(response_json['sources']>=1){hide('social_network_not_found_text');}else{show('social_network_not_found_text','social_search_box');z('social_network_not_found_text').innerHTML="We could not find any social network profiles for "+z('photo_search').value+". Try entering another email address to find profiles.";}
if(response_json['photos']>=1){hide('photo_not_found_text');}else{show('photo_not_found_text','phone_search_box');z('photo_not_found_text').innerHTML="We could not find any photos &amp; videos for "+z('photo_search').value+". Try entering another email address to find photos &amp; videos.";}
showsubmenutrigger();if(resultsScroll){resultsScroll.refresh();}}},select_search_box:function(input){var value=input.value;if(value=='Email Address...'){remove_class(this,'temporary');input.value='';}},deselect_search_box:function(input){var value=input.value;if(value==''){add_class(this,'temporary');input.value='Email Address...';}}}
Spokeo={runUrl:function(url){url="/"+url;window.location=url;return false;},city_filter_search:function(search_input,city_input)
{var r="[a-zA-Z-]{1,}\\s[a-zA-Z-]{2,},?\\s[a-zA-Z-\\s]{3,}";var name=this.name_city_separator(search_input);this.search(name+" , "+city_input);},name_city_separator:function(name)
{var r="[a-zA-Z-]{1,}\\s[a-zA-Z-]{2,},?\\s[a-zA-Z-\\s]{3,}";if(name.match(r))
{var nameSplit=name.split(" ");if(nameSplit[1].match(/^.+,$/)){nameSplit[1]=nameSplit[1].slice(0,-1);}
name=nameSplit[0]+" "+nameSplit[1];}
return name;},splitAutocompleteSearch:function()
{if($('split_test_flag').value=="true"&&$('city_input').value!="")
{this.search($('search_input').value+','+$('city_input').value);}
else
{this.search($('search_input'));}},search:function(input,hash,params){var paramStr="";if(params){for(var key in params){paramStr+="&"+key+"="+params[key];}}
var q=null;var search_string;if(typeof input=='string'){q=input;}
else if(input&&input.value&&(!input.temporary||input.value!=input.temporary)){q=input.value;}
if(!q)return;q=this.capitalizeNameSearch(q);search_string='/search?q='+encodeURIComponent(q).replace(/%20/g,'+').replace(/%2C/g,',').replace(/%26/g,'&').replace(/%3D/g,'=').replace(/%2B/g,'+')+paramStr+(Spokeo.trackingParams?'&'+Spokeo.trackingParams:'')+(hash?'#'+hash:'');window.location.href=search_string;return false;},capitalizeNameSearch:function(input){var result=input;var s=result.split(/(\s)+/);if(s.length==3&&!result.match(/^[0-9]/)&&!result.match(/d=/)){result=s[0].capitalize()+' '+s[2].capitalize();}
return result;},purchase:function(query,isMobile,params){if(Spokeo.trackingParams)params=params.replace(/s.{0,2}[0-9]+=t[0-9]+/,Spokeo.trackingParams);var q=query||(window.Mapview?((Mapview.personId?Mapview.people[Mapview.personId].name:null)||Mapview.query):null)||this.query||'';var p='q='+q+'&url='+encodeURIComponent(window.location.href)+(params?'&'+params:'');window.top.location.href='https://'+window.location.host+'/purchase?'+p;},login:function(isMobile){Spokeo.Login.go(isMobile);},getEmailAndUpdate:function(personId,elem,className,idName){var req=new Ajax.Request('/mapview/get_email',{parameters:'d='+personId,asynchronous:false});email=(req&&req.transport)?req.transport.responseText:'Could not retrieve email address.';if(elem)
{var htmlStr=email.match('@')?"a":"span";var newElem=document.createElement(htmlStr);newElem.className=className||"side_left_result";if(email.match('@'))
{newElem.href='mailto:"'+email+'"';newElem.id=idName||'';}
else
newElem.id=idName||"profile_email_message";newElem.innerHTML=(email&&email!='')?email:'<i>unknown</i>';elem.parentNode.replaceChild(newElem,elem);newElem.setAttribute("Title",email);}},getEmail:function(personId){var req=new Ajax.Request('/mapview/get_email',{parameters:'d='+personId,asynchronous:false});email=(req&&req.transport)?req.transport.responseText:'Could not retrieve email address.';var pe=z('profile_email');if(pe)pe.innerHTML=email.match('@')?'<a class="email_vertical_align" href="mailto:'+email+'">'+email+'</a>':'<span id="profile_email_message">'+email+'</span>';},runSplitTest:function(tests,testName){if(tests&&tests.length>0){var tests=tests.split(',');for(var i=0;i<tests.length;i++){if(testName==tests[i])
{return true;}}}
return false;},setMobile:function(url){var req=new Ajax.Request('/set-mobile',{asynchronous:false});if(url&&url!='null'){window.location=url;return false;}
else{window.location.reload();return false;}},setDesktop:function(url){var req=new Ajax.Request('/set-desktop',{asynchronous:false});if(url&&url!='null'){window.location=url;return false;}
else{window.location.reload();return false;}}};Spokeo.FB={register:function(showPurchase){return Spokeo.Register.facebook(showPurchase);},login:function(showPurchase){return Spokeo.Login.facebook(showPurchase);},logout:function(name,refresh){if(name&&!confirm('You are currently logged in to Facebook as '+name+'. Would you like to log out?'))return false;new Ajax.Request('/facebook/clear_session',{asynchronous:!refresh});if(refresh){window.location.reload();return false;}
hide('header_fb_in');show('header_fb_out');return false;},hideEmailPrompt:function(){if(confirm('This Facebook Connect dialog will no longer appear. You may always login to Facebook by clicking the Settings link at the top-right of the page.')){hide('connect_to_facebook');new Ajax.Request('/facebook/hide_email_prompt',{asynchronous:true});}
return false;}};Spokeo.Popup={open:function(url,width,height){var w=width||640;var h=height||300;var sl=window.screenX||window.screenLeft||0;var st=window.screenY||window.screenTop||0;var dw=document.body.offsetWidth||0;var dh=document.body.offsetHeight||0;var l=Math.ceil((dw-w)/2)+sl;var t=st+240;if(l<0)l=0;if(t<0)t=0;window.open(url,'spokeo_popup','dependent=1,location=1,status=1,menubar=0,resizable=0,scrollbars=1,toolbar=0,width='+w+',height='+h+',left='+l+',top='+t);return false;}};Spokeo.Authentication={popup:function(showPurchase,action,auth_type,width,height){var url='/'+action+'/'+auth_type+'?url='+encodeURIComponent(window.location.href)+(showPurchase?'&sp=1':'')+'&ssl='+(window.location.protocol=='https:'?1:0);return Spokeo.Popup.open(url,width,height);},popup_with_params:function(showPurchase,action,auth_type,params,width,height){var url='/'+action+'/'+auth_type+'?url='+encodeURIComponent(window.location.href)+(params?'&comment='+encodeURIComponent(params):'')+(showPurchase?'&sp=1':'')+'&ssl='+(window.location.protocol=='https:'?1:0);return Spokeo.Popup.open(url,width,height);},onComplete:function(return_url){if(return_url){if(document.location.href==return_url)
document.location.reload();else
document.location.href=return_url;}else{Spokeo.purchase(null,false,'verified=1');}}};Spokeo.Login={go:function(isMobile){window.location.href='https://'+window.location.host+'/login?url='+encodeURIComponent(window.location.href);},facebook:function(showPurchase){return Spokeo.Authentication.popup(showPurchase,'login','facebook');},login_fb_and_comment:function(params){return Spokeo.Authentication.popup_with_params(false,'login','facebook',params);},google:function(showPurchase){return Spokeo.Authentication.popup(showPurchase,'login','google',856,600);},hotmail:function(showPurchase){return Spokeo.Authentication.popup(showPurchase,'login','hotmail',890,540);}};Spokeo.Register={emailInputId:null,passInputId:null,firstNameInputId:null,lastNameInputId:null,messageDivId:null,signupButtonId:null,onFailure:null,preventSignup:false,failures:0,facebook:function(showPurchase){return Spokeo.Authentication.popup(showPurchase,'signup','facebook');},google:function(showPurchase){return Spokeo.Authentication.popup(showPurchase,'signup','google',856,600);},hotmail:function(showPurchase){return Spokeo.Authentication.popup(showPurchase,'signup','hotmail',890,540);},yahoo:function(showPurchase){return Spokeo.Authentication.popup(showPurchase,'signup','yahoo',820,620);},mapviewRegister:function(emailInputId,passInputId,messageDivId,signupButtonId,onFailure){remove_class(z(this.messageDivId),'red_and_italic');this.emailInputId=emailInputId;this.passInputId=passInputId;this.messageDivId=messageDivId;this.signupButtonId=signupButtonId;this.onFailure=onFailure;show_message(messageDivId,'Registering...');setTimeout(this.doMapViewRegister.bind(this),1);},abi:function(emailInputId,passInputId,messageDivId,signupButtonId,onFailure){this.emailInputId=emailInputId;this.passInputId=passInputId;this.messageDivId=messageDivId;this.signupButtonId=signupButtonId;this.onFailure=onFailure;show_message(messageDivId,'Registering...');setTimeout(this.doABI.bind(this),1);},mapViewResendVerification:function(){var einput=z(this.emailInputId);var email=einput?einput.value:'';submit_action('/verify_resend',[['email',email],['url',document.location.href]],this.messageDivId,false,this.postResend.bind(this));},postResend:function(message){if(message){show_message(this.messageDivId,message);hide('resend_email_verification_button');}else{hide('register_form_elements','register_arrow_second');show_message(this.messageDivId,"The email verification email has been sent out.  Please check your email to verify your email address.");}
return false;},doMapViewRegister:function(){if(this.preventSignup)return;var einput=z(this.emailInputId);var pinput=z(this.passInputId);var email=einput?einput.value:'';var pass=pinput?pinput.value:'';if(!email.match(/^[a-zA-Z0-9-_.]+@[a-zA-Z0-9-_]+\.[a-zA-Z0-9-_.]+$/)){add_class(z(this.messageDivId),'red_and_italic');return show_message(this.messageDivId,'Invalid email address.');}
if(!pass||pass.match(/^\s*$/)){add_class(z(this.messageDivId),'red_and_italic');return show_message(this.messageDivId,'Password cannot be empty.');}
if(pass.match(/^password$/i)){add_class(z(this.messageDivId),'red_and_italic');return show_message(this.messageDivId,'Password cannot be "password".');}
var sbutton=z(this.signupButtonId);if(sbutton)sbutton.disabled=true;this.preventSignup=true;submit_action('/save_register',[['newuser[email]',email],['newuser[password]',pass],['newuser[password_confirmation]',pass],['url',document.location.href]],this.messageDivId,false,this.postMapViewRegister.bind(this));},postMapViewRegister:function(message){if(message){message_div=z(this.messageDivId);remove_class(message_div,'red_and_italic');if(message.match(/verification/)||message.match(/successfully/)){hide('register_form_elements','register_arrow_second','email_address_required');add_class(z(this.messageDivId),'vertical_centered_info_window_register');if(message.match(/verification/)){show_message(this.messageDivId,"Click below to re-send the email verification email");show("resend_email_verification_button");}else{show_message(this.messageDivId,message);window.location.reload();}}else{remove_class(message_div,'vertical_centered_info_window_register');add_class(message_div,'red_and_italic');this.enableSignupButton(message);}}else{Spokeo.purchase(null,false,'verified=1');return false;}},doABI:function(){if(this.preventSignup)return;var einput=z(this.emailInputId);var pinput=z(this.passInputId);var email=einput?einput.value:'';var pass=pinput?pinput.value:'';if(!email.match(/^[a-zA-Z0-9-_.]+@[a-zA-Z0-9-_]+\.[a-zA-Z0-9-_.]+$/))
return show_message(this.messageDivId,'Invalid email address.');if(!email.match(/@.*(aim|aol|gmail|googlemail|hotmail|msn|yahoo|ymail)\./))
return show_message(this.messageDivId,'Sorry, we currently only support AOL, Gmail, Hotmail and Yahoo accounts.');if(!pass||pass.match(/^\s*$/))
return show_message(this.messageDivId,'Password cannot be empty.');if(pass.match(/^password$/i))
return show_message(this.messageDivId,'Password cannot be "password".');var sbutton=z(this.signupButtonId);if(sbutton)sbutton.disabled=true;this.preventSignup=true;submit_action('/save_register',[['newuser[email]',email],['newuser[password]',pass],['existing',1]],this.messageDivId,null,this.enableSignupButton.bind(this));},enableSignupButton:function(message){if(message){this.preventSignup=false;var sbutton=z(this.signupButtonId);if(sbutton)sbutton.disabled=false;if(message.match(/invalid/i))this.failures++;if(this.onFailure)this.onFailure(this.failures);}
if(!message)z('reload_form').action='/user';handle_action_response(message,this.messageDivId);}};Spokeo.Purchase={init:function(paymentFormId,termsCheckboxId,errorDivId,defaultIndex){this.paymentFormId=paymentFormId;this.termsCheckboxId=termsCheckboxId;this.errorDivId=errorDivId;var defaultIndex=defaultIndex||0;document.cookie='ssb=1;;path=/';try{var plan=z(this.paymentFormId).plan;for(var i=0;i<plan.length;i++)
plan[i].checked=(i==defaultIndex);}catch(e){}},beforePay:function(){z(this.errorDivId).innerHTML='Processing...';return true;},pay:function(){if(window.paying)return;window.paying=true;if(z(this.termsCheckboxId)&&!z(this.termsCheckboxId).checked){z(this.errorDivId).innerHTML='You must agree to the Terms and Conditions.';show(this.errorDivId);return window.paying=false;}
var url='https://'+document.location.host+'/pay';var p=$(this.paymentFormId).serialize();var r=new Ajax.Request(url,{asynchronous:false,evalScripts:false,parameters:p});var message=r.transport.responseText;var redirect=message?message.match(/^redirect:(.+)$/):null;if(redirect&&redirect[1]){if(redirect[1][0]=='/')redirect[1]='https://'+document.location.host+redirect[1];window.location.href=redirect[1];}else if(message=='reactivate_success'){$('reactivate_success').show();}else{z(this.errorDivId).innerHTML=message;show(this.errorDivId);}
window.paying=false;return false;},cancelPaypal:function(){window.location.reload();return false;},paypal:function(){var params='plan='+this.getPlan();if(z('reactivate'))
params+='&reactivate=true';this.cancel_paypal=false;if(z('overlay')){show(z('overlay'));loadingBar(10000,true);}
var req=new Ajax.Request('/paypal/form',{asynchronous:true,evalScripts:false,parameters:params,onComplete:function(transport){if(Spokeo.Purchase.cancel_paypal==false){var fields=transport.responseText.split(',');var sf=z('subscribe_form');for(var i=0;i<fields.length;i++){var kv=fields[i].split('|');var input=document.createElement('input');input.type='hidden';input.name=kv[0];input.value=kv[1];sf.appendChild(input);}
sf.submit();}}});return false;},getPlan:function(){var plan=z(this.paymentFormId).plan;if(plan){if(plan.value)return plan.value;for(var i=0;i<(plan.length||-1);i++)
if(plan[i].checked)return plan[i].value;}
return null;},changePlan:function(plan_id,monthly,total,type,period,plan_group,animate){try{z('checkout_price_monthly').innerHTML=monthly;}catch(e){}
try{z('checkout_price_yearly').innerHTML=total;}catch(e){}
try{z('checkout_price_membership').innerHTML=type;}catch(e){}
try{z('checkout_period').innerHTML=period;}catch(e){}
try{z('checkout_price_img').className='checkout_price_'+plan_id;}catch(e){}
try{$(plan_id).parentNode.getElementsByTagName('input')[0].checked='true';}catch(e){}
try{var c=$$('#foreground #column_wrapper .column');c.invoke('addClassName','selected');}catch(e){}
try{if(animate){if(plan_group==0){if(this.previousPlan==1){this.animate('product_2',0,250,'relative');this.animate('product_3',0,250,'relative');this.animate('product_4',0,250,'relative');}
else if(this.previousPlan==2){this.animate('product_1',0,250,'relative');this.animate('product_2',0,250,'relative');this.animate('product_3',0,250,'relative');this.animate('product_4',0,250,'relative');}}
else if(plan_group==1){add_class(c[0],'selected');add_class(c[1],'selected');if(this.previousPlan==0){this.animate('product_2',0,-250,'relative');this.animate('product_3',0,-250,'relative');this.animate('product_4',0,-250,'relative');}
else if(this.previousPlan==2){this.animate('product_1',0,250,'relative');}}
else if(plan_group==2){add_class(c[0],'selected');if(this.previousPlan==0){this.animate('product_1',0,-250,'relative');this.animate('product_2',0,-250,'relative');this.animate('product_3',0,-250,'relative');this.animate('product_4',0,-250,'relative');}
else if(this.previousPlan==1){this.animate('product_1',0,-250,'relative');}}}
var a=$$('#purchase_plan_select .item');a.invoke('removeClassName','selected');add_class($(plan_id).parentNode,'selected');}catch(e){}
this.previousPlan=plan_group;return false;},animate:function(divId,xshift,yshift,mode){new Effect.Move(divId,{x:xshift,y:yshift,mode:mode,duration:0.2,transition:Effect.Transitions.sinoidal});},togglePlans:function(thisElem,period){if(thisElem.className!='selected'){$$('#pricing_toggle a').invoke('removeClassName','selected');add_class(thisElem,'selected');var plan=this.getPlan();if(plan.match(/month6/))
plan=plan.replace(/month6/,'month1');else if(plan.match(/month1/))
plan=plan.replace(/month1/,'month6');if(plan.match(/year1/))
plan=plan.replace(/year1/,'month3');else if(plan.match(/month3/))
plan=plan.replace(/month3/,'year1');if(thisElem.id=='toggle_A'){this.changePlan(plan,0,this.prices[plan],'',period,this.previousPlan);hide(z('package_B'));show(z('package_A'));}
else if(thisElem.id=='toggle_B'){this.changePlan(plan,0,this.prices[plan],'',period,this.previousPlan);hide(z('package_A'));show(z('package_B'));}}
return false;},verifySSL:function(){Spokeo.Popup.open('https://sealinfo.verisign.com/splash?form_file=fdf/splash.fdf&dn=www.spokeo.com&lang=en',516,456);return false;},bbbPopup:function(){Spokeo.Popup.open('http://www.la.bbb.org/Business-Report/Spokeo-Inc-100090032',685,520);return false;},cvv2:function(){window.open('/cvv2','cvv2_info','width=500,height=300,status=0,toolbar=0,location=0,menubar=0,directories=0,resizable=0,scrollbars=0');return false;}};Spokeo.Templates={setAssetTag:function(assetTag){Spokeo.Templates.assetTag=assetTag;},cache:{},templatePath:'/templates/',getTemplate:function(templateName){var template=this.cache[templateName];if(!template){template=new EJS({url:Spokeo.Templates.templatePath+templateName+'.ejs?'+Spokeo.Templates.assetTag});this.cache[templateName]=template;}
return template;},render:function(templateName,data){return Spokeo.Templates.getTemplate(templateName).render(data);}}
Spokeo.Paginator=Class.create();Spokeo.Paginator.prototype={initialize:function(product,fpid,url,resultsData,template){this.templateName=template
this.product=product;this.container=product+'_container';this.previous=$('previous_'+product);this.next=$('next_'+product);this.fpid=fpid;this.url=url;this.cache={};this.cache[1]=resultsData;this.requesting=false;this.loadPrevNext(resultsData);var preload=function(){this.preloadResultsByAjax(resultsData.next_page);Event.stopObserving(this.container,'mouseover',preload);}.bind(this);Event.observe(this.container,'mouseover',preload);if(this.afterInitialize)this.afterInitialize();},getResultsByPage:function(page){if(this.cache[page])
this.refreshView(this.cache[page]);else
this.loadResultsByAjax(page,false);},loadResultsByAjax:function(page,preload){if(this.cache[page]==undefined){this.cache[page]=null;var params='fpid='+this.fpid+'&page='+page;this.requesting=true;new Ajax.Request(this.url,{parameters:params,asynchronous:(preload?true:false),onComplete:function(r){if(r.responseText){this.requesting=false;var resultsData=eval('('+r.responseText+')');try{if(resultsData.r)this.cache[page]=resultsData;}catch(e){}
if(!preload)
this.refreshView(resultsData);}}.bind(this)});}},preloadResultsByAjax:function(page){if(page){this.loadResultsByAjax(page,true);}},refreshView:function(resultsData){if(this.fpid&&resultsData){this.setPage(resultsData);this.loadPrevNext(resultsData);this.preloadResultsByAjax(resultsData.next_page,true);}},setPage:function(resultsData){if(resultsData.r){var container=document.getElementById(this.container);container.innerHTML=Spokeo.Templates.render(this.templateName,resultsData);}},loadPrevNext:function(resultsData){if(this.previous&&this.next){var prev_page=resultsData.prev_page;var next_page=resultsData.next_page;prev_page?add_class(this.previous,'enabled'):remove_class(this.previous,'enabled');next_page?add_class(this.next,'enabled'):remove_class(this.next,'enabled');this.previous.onclick=function(){if(prev_page)
this.getResultsByPage(prev_page);return false;}.bind(this);this.next.onclick=function(){if(next_page)
this.getResultsByPage(next_page);return false;}.bind(this);}}};Spokeo.NewsPaginator=Class.create(Spokeo.Paginator,{afterInitialize:function(){Event.observe(this.container,'click',function(event){if(event.target.href||event.target.up('a')){return false;}
var listItem=event.target.hasClassName('fp_news_cluster')?event.target:event.target.up('.fp_news_cluster');if(listItem){listItem.toggleClassName('expanded');Effect.toggle(listItem.select('.fp_news_article_content')[0],'blind',{duration:0.4});listItem.select('.fp_news_cluster_toggle_btn')[0].toggleClassName('collapse');}});}});Spokeo.FP={postInit:function(fpid){add_onload(function(){new Ajax.Request('/famous_person/preload_photoviewer',{asynchronous:true,evalScripts:false,parameters:"fpid="+fpid});});},reloadProfileCache:function(fpid){new Ajax.Request('/admin/famous_people/'+fpid+'/reload_profile_cache.json',{parameters:{album_id:PhotoViewer.aid},method:'put',asynchronous:true,onComplete:function(r){if(202==r.status){alert("Successfully reloaded cache. The page will now reload.");window.location.reload();}
else{alert("We had an issue disabling this profile");}}});return false;},disableProfile:function(fpid){if(confirm('Are you sure you want to disable this profile?')){new Ajax.Request('/admin/famous_people/'+fpid+'/disable_profile.json',{parameters:{album_id:PhotoViewer.aid},method:'put',asynchronous:true,onComplete:function(r){if(202==r.status){alert("Successfully disabled this profile. After reloading, this page will no longer be visible.");window.location.reload();}
else{alert("We had an issue disabling this profile");}}});}
return false;}};Spokeo.Timeline=Class.create({initialize:function(timelineElement){this.timeline=Element.extend(timelineElement);this.verticalLine=this.timeline.select('.fp_timeline_vertical_line')[0];this.periods=timelineElement.select('.fp_timeline_period');var that=this;this.periods.each(function(period){period.events=function(){return period.select('.fp_timeline_events');}
period.alignEvents=function(){that.alignEvents(period);};});this.timeline.select('.fp_timeline_events_cluster_btn').each(function(clusterExpandLink){clusterExpandLink.observe('click',function(){this.expandCluster(clusterExpandLink);}.bind(this));}.bind(this));this.timeline.select('.fp_timeline_events_btn.expand').each(function(yearExpandLink){yearExpandLink.observe('click',function(){this.expandYear(yearExpandLink);}.bind(this));}.bind(this));this.timeline.select('.fp_timeline_events_btn.collapse').each(function(yearCollapseLink){yearCollapseLink.observe('click',function(){this.collapseYear(yearCollapseLink);}.bind(this));}.bind(this));this.timeline.select('.fp_timeline_event_more_link').each(function(moreLink){moreLink.observe('click',function(e){this.readMore(moreLink)}.bind(this));}.bind(this));this.timeline.select('.fp_timeline_event_less_link').each(function(lessLink){lessLink.observe('click',function(e){this.readLess(lessLink)}.bind(this));}.bind(this));this.alignAllEvents();Event.observe(window,'resize',this.alignAllEvents.bind(this));Cycle.thru('left','right',{name:'left'});Cycle.reset('left');Cycle.thru('right','left',{name:'right'});Cycle.reset('right');},getDirection:function(timelineEvent){return timelineEvent.hasClassName('left')?'left':timelineEvent.hasClassName('right')?'right':null;},setDirection:function(timelineEvent,direction){timelineEvent.removeClassName('left');timelineEvent.removeClassName('right');timelineEvent.addClassName(direction);},timelineEventWidth:function(){return(this.timeline.clientWidth?(this.timeline.clientWidth/2-15):(this.timeline.offsetWidth/2-28))+'px';},alignEvents:function(period){var timelineEventWidth=this.timelineEventWidth();var periodEvents=period.events().reject(function(e){!e.visible()});for(var i=0;i<periodEvents.length;i++){timelineEvent=periodEvents[i];timelineEvent.style.width=timelineEventWidth;if(i==0){timelineEvent.addClassName('first');timelineEvent.style.marginTop=0;}
else{timelineEvent.removeClassName('first');timelineEvent.style.marginTop='0px';var e1=periodEvents[i-1];var margin=e1.clientHeight+e1.offsetTop-(timelineEvent.offsetTop+timelineEvent.clientHeight/2);if(timelineEvent.hasClassName('cluster')){margin-=timelineEvent.clientHeight/4;}
margin=Math.max(0,margin);var initialMargin=parseInt(timelineEvent.style.marginTop);timelineEvent.style.marginTop=Math.max(0,margin)+'px';}}
setTimeout(function(){if(mainScroll){mainScroll.refresh();}},0);if(period===this.periods.last()){var lastEvent=timelineEvent;this.verticalLine.style.bottom=(this.timeline.offsetHeight-lastEvent.offsetTop-lastEvent.offsetHeight/2)+'px';}},alignAllEvents:function(){this.periods.each(function(period){this.alignEvents(period);}.bind(this));},readMore:function(moreLink){var period=moreLink.up('.fp_timeline_period');Effect.toggle(moreLink.next(),'blind',{duration:0.2,afterUpdate:period.alignEvents,afterFinish:period.alignEvents});moreLink.hide();return false;},readLess:function(lessLink){var period=lessLink.up('.fp_timeline_period');Effect.toggle(lessLink.parentNode,'blind',{duration:0.2,afterUpdate:period.alignEvents,afterFinish:period.alignEvents});lessLink.parentNode.previous().show();return false;},expandYear:function(expandLink){var year=expandLink.up('.fp_timeline_events');var period=year.parentNode;expandLink.hide();var timelineEvents=year.select('.fp_timeline_event');timelineEvents.shift();Effect.multiple(timelineEvents,Effect.Appear,{duration:0.5,afterFinish:function(effect){year.select('img').each(function(img){if(img&&img.crop)img.crop();});period.alignEvents();}});year.select('img').each(function(i){Spokeo.Photo.lazyLoad(i);});expandLink.next().show();return false;},collapseYear:function(e){var year=e.up('.fp_timeline_events');var period=year.parentNode;e.hide();var timelineEvents=year.select('.fp_timeline_event');timelineEvents.shift();Effect.multiple(timelineEvents,Effect.Fade,{duration:0.2,afterFinish:function(effect){period.alignEvents();}});e.previous().show();return false;},expandCluster:function(element){var cluster=element.parentNode.parentNode;var period=cluster.parentNode;var timelineEvents=eval(cluster.getAttribute('data-years')).map(function(year){return $('fp_timeline_events_'+year);});new Effect.Shrink(cluster);timelineEvents.each(function(timelineEvent){Spokeo.Photo.lazyLoad(timelineEvent.select('img')[0]);timelineEvent.show();new Effect.Pulsate(timelineEvent,{pulses:1,duration:0.4});});cluster.remove();var initialDirection=this.getDirection(period.firstElementChild);Cycle.reset(initialDirection);period.events().each(function(e){if(e.visible()){this.setDirection(e,Cycle.thru({name:initialDirection}));}}.bind(this));period.alignEvents();return false;}});Spokeo.SocialShare={defaultUrl:function(){var og_url=$$('meta[property="og:url"]')[0]
return og_url?og_url.content:window.location.href.replace(/^https/,'http');},load:function(){Spokeo.SocialShare.loadGooglePlus();Spokeo.SocialShare.loadFacebook();Spokeo.SocialShare.loadTwitter();},loadGooglePlus:function(){if(typeof(gapi)=='undefined'){(function(){var po=document.createElement('script');po.type='text/javascript';po.async=true;po.src='https://apis.google.com/js/plusone.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(po,s);})();}},loadFacebook:function(){if(typeof(FB)=='undefined'){window.fbAsyncInit=function(){FB.init({appId:'112189565498615',channelUrl:'//www.spokeo.com/channel',status:true,cookie:true,xfbml:true});FB.Event.subscribe('edge.create',function(response){Spokeo.SocialShare.onlike('facebook',response);});};(function(d){var js,id='facebook-jssdk',ref=d.getElementsByTagName('script')[0];if(d.getElementById(id)){return;}
js=d.createElement('script');js.id=id;js.async=true;js.src="//connect.facebook.net/en_US/all.js";ref.parentNode.insertBefore(js,ref);}(document));}},loadTwitter:function(){window.twttr=(function(d,s,id){var t,js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);return window.twttr||(t={_e:[],ready:function(f){t._e.push(f)}});}(document,"script","twitter-wjs"));},loadLinkedIn:function(){window.linkedInApi=(function(d,s,id){var t,js,ljs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src="//platform.linkedin.com/in.js";ljs.parentNode.insertBefore(js,ljs);return window.linkedInApi||(t={_e:[],ready:function(f){t._e.push(f)}});}(document,"script","linked_in_api"));},loadFacebookBtn:function(opts){Element.observe(opts['link_container'],'mouseover',function(){if(opts['widget_container'].empty()||(opts['refill_container']&&!opts['widget_container'].hasClassName('hovered'))){Spokeo.SocialShare.createFacebookBtn(opts);Element.observe(opts['widget_container'],'mouseover',function(){add_class(opts['link_container'],'hover');});Element.observe(opts['widget_container'],'mouseout',function(){remove_class(opts['link_container'],'hover');});}});},createFacebookBtn:function(opts){var url=opts['url']||Spokeo.SocialShare.defaultUrl();if(opts['use_api']){var width=450;if(opts['width'])width=opts['width']
Spokeo.SocialShare.loadFacebook();i=new Element('fb:like',{'colorscheme':'light','layout':'button_count','href':url,'width':width});opts['widget_container'].appendChild(i);if(typeof(FB)!="undefined"){FB.XFBML.parse(i[0]);};}else{if(url&&url.indexOf("?")!=-1){var qIndex=url.indexOf("?");url=encodeURI(url.substring(0,qIndex))+encodeURIComponent(url.substring(qIndex,url.length));}else{url=encodeURI(url);}
var i=document.createElement('iframe');i.allowTransparency='true';i.frameBorder='0';i.scrolling='no';i.src="//www.facebook.com/plugins/like.php?href="+url+"&send=false&layout=button_count&width=90&show_faces=false&action=like&colorscheme=light&font&height=21&appId=112189565498615";i.style.width='92px';i.style.height='21px';i.style.overflow='hidden';if(opts['refill_container']){opts['widget_container'].childElements().each(function(s,index){s.remove();});}
opts['widget_container'].addClassName('hovered');if(opts['social_page_url']){var a=document.createElement('a');a.href=opts['social_page_url'];a.className='social_page_link_btn facebook';opts['widget_container'].appendChild(a);}
opts['widget_container'].appendChild(i);}},loadTweetBtn:function(opts){Element.observe(opts['link_container'],'mouseover',function(){if(opts['widget_container'].empty()||(opts['refill_container']&&!opts['widget_container'].hasClassName('hovered'))){Spokeo.SocialShare.createTweetBtn(opts);Element.observe(opts['widget_container'],'mouseover',function(){add_class(opts['link_container'],'hover');});Element.observe(opts['widget_container'],'mouseout',function(){remove_class(opts['link_container'],'hover');});}});},createTweetBtn:function(opts){var url=opts['url']||Spokeo.SocialShare.defaultUrl();if(opts['use_api']){Spokeo.SocialShare.loadTwitter();var data_text=opts['data-text']||'Check it out!';twttr.ready(function(twttr){twttr.events.bind('tweet',tweetCallbacks);});i=new Element('a',{'class':'twitter-share-button','data-lang':'en','data-text':data_text});opts['widget_container'].appendChild(i);}else{var i=document.createElement('iframe');i.id='twitter_iframe';i.allowTransparency='true';i.frameBorder='0';i.scrolling='no';i.src="//platform.twitter.com/widgets/tweet_button.html?url="+encodeURIComponent(url);i.style.width='100px';i.style.height='20px';i.style.backgroundColor="transparent";if(opts['refill_container']){opts['widget_container'].childElements().each(function(s,index){s.remove();});}
opts['widget_container'].addClassName('hovered');if(opts['social_page_url']){var a=document.createElement('a');a.href=opts['social_page_url'];a.className='social_page_link_btn twitter';opts['widget_container'].appendChild(a);}
opts['widget_container'].appendChild(i);}},loadGoogleBtn:function(opts){Element.observe(opts['link_container'],'mouseover',function(){if(opts['widget_container'].empty()||(opts['refill_container']&&!opts['widget_container'].hasClassName('hovered'))){Spokeo.SocialShare.createGPlusBtn(opts);Element.observe(opts['widget_container'],'mouseover',function(){add_class(opts['link_container'],'hover');});Element.observe(opts['widget_container'],'mouseout',function(){remove_class(opts['link_container'],'hover');});}}.bind(this));},createGPlusBtn:function(opts){Spokeo.SocialShare.loadGooglePlus();url=opts['url']||Spokeo.SocialShare.defaultUrl();var i=new Element('g:plusone',{'size':'medium','href':url,'callback':'plusOneCallbacks'});if(opts['refill_container']){opts['widget_container'].childElements().each(function(s,index){s.remove();});}
opts['widget_container'].addClassName('hovered');if(opts['social_page_url']){var a=document.createElement('a');a.href=opts['social_page_url'];a.className='social_page_link_btn google_plus';opts['widget_container'].appendChild(a);}
opts['widget_container'].appendChild(i);try{gapi.plusone.go();}catch(e){}},loadLinkedInBtn:function(opts){Element.observe(opts['link_container'],'mouseover',function(){if(opts['widget_container'].empty()||(opts['refill_container']&&!opts['widget_container'].hasClassName('hovered'))){Spokeo.SocialShare.createLinkedInBtn(opts);Element.observe(opts['widget_container'],'mouseover',function(){add_class(opts['link_container'],'hover');});Element.observe(opts['widget_container'],'mouseout',function(){remove_class(opts['link_container'],'hover');});}}.bind(this));},createLinkedInBtn:function(opts){Spokeo.SocialShare.loadLinkedIn();url=opts['url']||Spokeo.SocialShare.defaultUrl();var i=new Element('script',{'type':'IN/Share','data-url':url,'data-counter':'right'});if(opts['refill_container']){opts['widget_container'].childElements().each(function(s,index){s.remove();});}
opts['widget_container'].addClassName('hovered');if(opts['social_page_url']){var a=document.createElement('a');a.href=opts['social_page_url'];a.className='social_page_link_btn linked_in';opts['widget_container'].appendChild(a);}
opts['widget_container'].appendChild(i);try{gapi.plusone.go();}catch(e){}},onLikeCallbacks:[],onPlusOneCallbacks:[],onTweetCallbacks:[],add_onlike:function(fn){this.onLikeCallbacks.push(fn);},add_ontweet:function(fn){this.onTweetCallbacks.push(fn);},add_onplusone:function(fn){this.onPlusOneCallbacks.push(fn);},onlike:function(network,url){Spokeo.SocialShare.onLikeCallbacks.each(function(fn){fn.call(this,network,url)});},displaySocialButtons:function(){try{var container=z('fp_profile_pic_social_links');if(container&&(container.getAttribute('data-initialized')=='false')){$$("meta[property=og:url]")[0].setAttribute('content',document.location.href);Spokeo.SocialShare.createGPlusBtn({'widget_container':$('plusone')});Spokeo.SocialShare.createFacebookBtn({'widget_container':$('fblike'),'use_api':true});Spokeo.SocialShare.createTweetBtn({'widget_container':$('tweet'),'data-text':'Check out people search on Spokeo'});Spokeo.SocialShare.add_onlike(function(){ga_event_push('FP Social','Facebook',document.location.href);});Spokeo.SocialShare.add_onplusone(function(data){ga_event_push('FP Social','Google Plus',document.location.href);});Spokeo.SocialShare.add_ontweet(function(data){ga_event_push('FP Social','Twitter',document.location.href);});container.setAttribute('data-initialized','true');dom_container=document.getElementById('fp_profile_pic_social_links');dom_container.style.display='block';}}catch(e){}}};function plusOneCallbacks(data){Spokeo.SocialShare.onPlusOneCallbacks.each(function(fn){fn.call(this,data);});}
function tweetCallbacks(data){Spokeo.SocialShare.onTweetCallbacks.each(function(fn){fn.call(this,data);});}
function ga_event_push(category,action,label){if(_gaq){_gaq.push(['_trackEvent',category,action,label]);}}
Spokeo.Photo=Class.create({initialize:function(img){if(img){Object.extend(img,Spokeo.Photo.prototype);img.init();}},init:function(){this.imgWidth=this.width
this.imgHeight=this.height
this.imgAspectRatio=this.imgWidth/this.imgHeight;this.container=Element.extend(this.parentNode);this.crop();},crop:function(){if(!this.blank&&(this.imgHeight<30||this.imgWidth<30)){if(this.onerror){this.onerror();}
return false;}
this.containerWidth=this.container.clientWidth||parseInt(this.container.getStyle("width"))||0;this.containerHeight=this.container.clientHeight||parseInt(this.container.getStyle("height"))||0;if(this.containerWidth===0||this.containerHeight===0){add_class(this,'zoom_full');return false;}
this.containerAspectRatio=this.containerWidth/this.containerHeight;this.style.right=0;this.style.top=0;if(this.imgHeight<=this.containerHeight&&this.imgWidth<=this.containerWidth){add_class(this,'zoom_none');}
else if(this.containerAspectRatio==this.imgAspectRatio){add_class(this,'zoom_full');}
else if(this.imgAspectRatio<this.containerAspectRatio&&this.imgWidth>=this.containerWidth){add_class(this,'zoom_max_width');}
else{add_class(this,'zoom_max_height');if(this.width>this.containerWidth){this.style.right=(this.width-this.containerWidth)/2+'px';}
this.style.visibility='visible';}
if(!this.blank&&this.height<this.containerHeight){this.style.top=(this.containerHeight-this.height)/2+'px';}},aspectRatio:function(){return this.imgAspectRatio;},blankSrc:function(){Spokeo.Photo.blankSrc(this.img);}});Spokeo.Photo.BLANK_IMAGE="/images/spacer-cdn-325472601571f31e1bf00674c368d335.gif";Spokeo.Photo.blankSrc=function(img){img.removeClass('spokeo_photo')
img.blank=true
img.src=Spokeo.Photo.BLANK_IMAGE;};Spokeo.Photo.lazyLoad=function(img){if(img&&!img.src){img.src=img.getAttribute('data-src');return true;}
return false;};Spokeo.Timeline.Photo=Class.create({initialize:function(img){Object.extend(img,Spokeo.Photo.prototype);if(/\.(?:png|gif)/.test(img.src)){img.crop=function(){this.container.style.height=(this.container.getWidth()/this.imgAspectRatio)+'px';this.container.style.border='none';Spokeo.Photo.prototype.crop.bind(this)();}}
img.init();}});Spokeo.Romance={};Spokeo.Romance.Photo=Class.create({initialize:function(img){Object.extend(img,Spokeo.Photo.prototype);img.init();if(img.aspectRatio()<1&&img.height>150){img.style.top='-20%'};}});var subScroll=null;var mainScroll=null;var multipleScroll=null;function ipadLoad(){if(has_class(z('html'),'ipad')){if(z('sub_panel_content')){subScroll=new iScroll('sub_panel_content',{useTransform:false});};if(z('main_panel_content')){mainScroll=new iScroll('main_panel_content',{useTransform:false});};if(z('multiple_results_content')){multipleScroll=new iScroll('multiple_results_content',{useTransform:false});};var inputs=document.getElementsByTagName('input');for(var i=0;i<inputs.length;i++){inputs[i].addEventListener('touchstart',function(e){e.stopPropagation();},false);}
var selects=document.getElementsByTagName('select');for(var i=0;i<selects.length;i++){selects[i].addEventListener('touchstart',function(e){e.stopPropagation();},false);}
var textareas=document.getElementsByTagName('textarea');for(var i=0;i<textareas.length;i++){textareas[i].addEventListener('touchstart',function(e){e.stopPropagation();},false);}}}
add_onload(ipadLoad);function toggleHeaderLogin(element){var parent=element.parentNode;if(element&&!has_class(element,'open_dropdown')){if(parent)add_class(parent,'open_dropdown');add_class(element,'open_dropdown');show(z('header_nav_dropdown'));}else{if(parent)remove_class(parent,'open_dropdown');remove_class(element,'open_dropdown');hide(z('header_nav_dropdown'));}
return false;}
function loadingBar(time,never_stop){var step=0;var time=time;var stepTime=10;new PeriodicalExecuter(function(pe){if(never_stop){step+=stepTime*(1*1-(step/time));}else if(step/time*100<50){step+=stepTime*2;}else{step+=stepTime*0.667;}
var percent=(step/time)*100;percent=percent.toString()+"%";z('loading_bar_inner').style.width=percent;if(step>=time)pe.stop();},stepTime/1000);}
Spokeo.reloadEmailSearch=function(min_seconds,max_seconds,email){Spokeo.emailSearchQuery=email;Spokeo.emailSearchTime=min_seconds;Spokeo.emailSearchMax=max_seconds;Spokeo.emailSearchIncr=2;loadingBar(max_seconds*1000);setTimeout(function(){window.location.reload();},max_seconds*1000);if(min_seconds>0&&max_seconds>min_seconds)
setTimeout(Spokeo.reloadEmailSearchCheck.bind(Spokeo),min_seconds*1000);}
Spokeo.reloadEmailSearchCheck=function(){if(Spokeo.emailSearchTime<Spokeo.emailSearchMax){var req=new Ajax.Request('/email/search_complete_check',{parameters:'e='+Spokeo.emailSearchQuery,asynchronous:false});response=(req&&req.transport)?req.transport.responseText:'false';if(response=='true')return window.location.reload();Spokeo.emailSearchTime+=Spokeo.emailSearchIncr;setTimeout(Spokeo.reloadEmailSearchCheck.bind(Spokeo),Spokeo.emailSearchIncr*1000);}}
Spokeo.Bookmarks=Class.create({hashCache:{},initialize:function(button,options,bookmarked){Spokeo.Bookmarks.instance=this;this.buttonEl=$(button);this.buttonEl.observe('click',this.clickHandler.bind(this));this.bookmarked=bookmarked;this.enabled=true;this.options=options||{};this.initOptions=Object.clone(this.options);if(typeof Mapview!='undefined'){Mapview.addNavigationListener(this.navigationHandler.bind(this));}
if(typeof RAMap!='undefined'){RAMap.addNavigationListener(this.navigationHandler.bind(this));}
if(window.location.hash.length>1){this.navigationHandler();}else{this.hashCache['']=options;options.cached=true;}},clickHandler:function(e){this.bookmark();e.preventDefault();},navigationHandler:function(){var hash=window.location.hash.replace(/\s+/g,'+');if(this.options.record_type==1&&hash=='#USA'){hash='';}
this.enabled=false;if(this.hashCache[hash]){this.options=this.hashCache[hash];}else{var options=this.options=Object.clone(this.initOptions);options.url=options.url.replace(/#.*$/,'')+hash;options.record_key=options.record_key.replace(/#.*$/,'')+hash;}
new Ajax.Request('/dashboard/check_bookmark',{parameters:this.options,method:'get',onSuccess:function(response){var data=response.responseText.evalJSON(true);if(data){if(!this.hashCache[hash]){this.hashCache[hash]=this.options=data;}
this.options.id=data.id;this.options.cached=true;this.bookmarked=data.id>0;this.buttonEl.show();this.enabled=true;this.updateBookmarkIcon();}else{this.buttonEl.hide();}}.bind(this),onFailure:function(){this.buttonEl.hide();}.bind(this)});},updateBookmarkIcon:function(){this.buttonEl[this.bookmarked?'addClassName':'removeClassName']('bookmarked');this.buttonEl.select('.middle')[0].update(this.bookmarked?'Remove Bookmark':'Bookmark this!');if(z('profile_page_bookmark_button')){z('profile_page_bookmark_button')[this.bookmarked?'addClassName':'removeClassName']('bookmarked');}},bookmark:function(){if(!this.enabled)return;var url='/dashboard/'+(this.bookmarked?'remove':'add')+'_bookmark';new Ajax.Request(url,{method:'post',parameters:this.options,onSuccess:function(response){this.enabled=true;var response=response.responseText.evalJSON(true);if(response.status===0){this.bookmarked=!this.bookmarked;this.updateBookmarkIcon();}}.bind(this),onFailure:function(){this.enabled=true;}.bind(this)});this.enabled=false;}});FlexibleWidthPager=Class.create({initialize:function(wrapper,slider,elemWidth,elemHeight,numElems,prev,next,centerContent){this.wrapper=document.getElementById(wrapper);this.slider=document.getElementById(slider);this.N=null;this.centerContent=centerContent
this.elemWidth=elemWidth;this.elemHeight=elemHeight;this.prev=$(prev);this.prev.style.zIndex='1';this.next=$(next);this.next.style.zIndex='1';this.idx=0;this.numElems=numElems;this.wrapper.style.height=elemHeight+'px';this.wrapper.style.position='relative';this.wrapper.style.overflow='hidden';this.slider.style.height=elemHeight+'px';this.slider.style.left='0px';this.slider.style.position='relative';this.slider.style.overflow='hidden';this.ww=this.wrapperWidth();this.N=Math.floor(this.ww/this.elemWidth);this.sw=this.N*this.elemWidth;this.slider.style.width=this.sw+'px';this.center();this.setNavLinks();this.hideShowArrows();this.registerEvent('window','resize',function(){this.listen();}.bind(this));},wrapperWidth:function(){return parseFloat(this.wrapper.offsetWidth,10);},setNavLinks:function(shift){var prev=this.prev;var next=this.next;var shiftPx=null;if(shift)
shiftPx=shift;else
shiftPx=this.N*this.elemWidth;prev.onclick=function(){if(this.shiftOkay(-1)){this.slide(shiftPx);}return false;}.bind(this);next.onclick=function(){if(this.shiftOkay(1)){this.slide(-1*shiftPx);}return false;}.bind(this);},shiftOkay:function(direction){if(direction>0)
if(this.idx+this.N<this.numElems)return true;if(direction<0)
return true;return false;},slide:function(px){this.idx=this.idx+(px>0?-1*this.N:this.N);var newSliderWidth=this.sw-px;this.sw=newSliderWidth;if(px<0)this.slider.style.width=newSliderWidth+'px';if(this.idx<0){this.slider.style.left=0+'px';newSliderWidth=this.N*this.elemWidth;this.slider.style.width=newSliderWidth+'px';this.sw=newSliderWidth;this.idx=0;}
else{if(typeof Effect!="undefined"){Effect.MoveBy(this.slider,0,px,{duration:0.4,afterFinish:function(){if(px>0)this.slider.style.width=this.sw+'px';}.bind(this)});}
else{this.slider.style.width=newSliderWidth+'px';this.slider.style.left=(parseFloat(this.getStyle(this.slider.id,'left').replace('px',''),10)+px)+'px';}}
this.listen();},listen:function(){var newWidth=this.wrapperWidth();var deltaWidth=newWidth-this.ww;var newSliderWidth=null;var shiftPx=null;this.hideShowArrows();if(deltaWidth!=0){var N=Math.floor(newWidth/this.elemWidth);if(this.N!=N){if(N>this.N)
shiftPx=((N-this.N)*this.elemWidth);else if(N<this.N)
shiftPx=-1*((this.N-N)*this.elemWidth);newSliderWidth=this.sw+shiftPx;this.slider.style.width=newSliderWidth+'px';this.sw=newSliderWidth;}
this.N=N;this.setNavLinks(this.N*this.elemWidth);}
this.center();},numElementsOnCurrentPage:function(){return Math.min(this.N,this.numElems-this.idx);},center:function(){if(this.centerContent){this.wrapper.style.left=(this.wrapperWidth()-(this.numElementsOnCurrentPage()*this.elemWidth))/2+'px';}},hideShowArrows:function(){if(this.numElems<=this.N){this.prev.hide();this.next.hide();}
else{this.prev.show();this.next.show();}
remove_class(this.prev,'disabled');remove_class(this.next,'disabled');add_class(this.prev,'enabled');add_class(this.next,'enabled');if(this.idx==0){add_class(this.prev,'disabled');remove_class(this.prev,'enabled');}
if(this.idx>=Math.ceil((this.numElems/this.N)-1)*this.N){add_class(this.next,'disabled');remove_class(this.next,'enabled');}},registerEvent:function(elemId,event,fn){var elem=null;if(elemId=='window')
elem=window;else
elem=document.getElementById(elemId);if(typeof window.addEventListener!=='undefined'){elem.addEventListener(event,fn,false);}else if(typeof window.attachEvent!=='undefined'){elem.attachEvent('on'+event,fn);}},getStyle:function(elemId,styleProp){var x=document.getElementById(elemId);var y=null;if(x.currentStyle){y=x.currentStyle[styleProp];}else if(window.getComputedStyle){y=document.defaultView.getComputedStyle(x,null).getPropertyValue(styleProp);}
return y;}});var Cycle=function(){var cycles,that,thru,reset;cycles={};that={};thru=function(){var values,i,cycle,options,name,nextValue;values=Array.prototype.slice.call(arguments);options=typeof(values.slice(-1)[0])==='object'?values.pop():{};name=options['name']||'default';if(!cycles[name]){cycles[name]={values:values,index:0};};cycle=cycles[name];nextValue=cycle.values[cycle.index];cycle.index=(cycle.index===cycle.values.length-1)?0:(cycle.index+1);return nextValue;};that.thru=thru;reset=function(name){if(cycles[name]){cycles[name].index=0;}};that.reset=reset;return that;}();Object.extend(Event,{wheel:function(event){var delta=0;if(!event)event=window.event;if(event.wheelDelta){delta=event.wheelDelta/120;if(window.opera)delta=-delta;}else if(event.detail){delta=-event.detail/3;}
return Math.round(delta);}});