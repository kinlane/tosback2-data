/**
 * Cookie plugin
 *
 * Copyright (c) 2006 Klaus Hartl (stilbuero.de)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */

/**
 * Create a cookie with the given name and value and other optional parameters.
 *
 * @example $.cookie('the_cookie', 'the_value');
 * @desc Set the value of a cookie.
 * @example $.cookie('the_cookie', 'the_value', { expires: 7, path: '/', domain: 'jquery.com', secure: true });
 * @desc Create a cookie with all available options.
 * @example $.cookie('the_cookie', 'the_value');
 * @desc Create a session cookie.
 * @example $.cookie('the_cookie', null);
 * @desc Delete a cookie by passing null as value. Keep in mind that you have to use the same path and domain
 *       used when the cookie was set.
 *
 * @param String name The name of the cookie.
 * @param String value The value of the cookie.
 * @param Object options An object literal containing key/value pairs to provide optional cookie attributes.
 * @option Number|Date expires Either an integer specifying the expiration date from now on in days or a Date object.
 *                             If a negative value is specified (e.g. a date in the past), the cookie will be deleted.
 *                             If set to null or omitted, the cookie will be a session cookie and will not be retained
 *                             when the the browser exits.
 * @option String path The value of the path atribute of the cookie (default: path of page that created the cookie).
 * @option String domain The value of the domain attribute of the cookie (default: domain of page that created the cookie).
 * @option Boolean secure If true, the secure attribute of the cookie will be set and the cookie transmission will
 *                        require a secure protocol (like HTTPS).
 * @type undefined
 *
 * @name $.cookie
 * @cat Plugins/Cookie
 * @author Klaus Hartl/klaus.hartl@stilbuero.de
 */

/**
 * Get the value of a cookie with the given name.
 *
 * @example $.cookie('the_cookie');
 * @desc Get the value of a cookie.
 *
 * @param String name The name of the cookie.
 * @return The value of the cookie.
 * @type String
 *
 * @name $.cookie
 * @cat Plugins/Cookie
 * @author Klaus Hartl/klaus.hartl@stilbuero.de
 */
jQuery.cookie = function(name, value, options) {
    if (typeof value != 'undefined') { // name and value given, set cookie
        options = options || {};
        if (value === null) {
            value = '';
            options.expires = -1;
        }
        var expires = '';
        if (options.expires && (typeof options.expires == 'number' || options.expires.toUTCString)) {
            var date;
            if (typeof options.expires == 'number') {
                date = new Date();
                date.setTime(date.getTime() + (options.expires * 24 * 60 * 60 * 1000));
            } else {
                date = options.expires;
            }
            expires = '; expires=' + date.toUTCString(); // use expires attribute, max-age is not supported by IE
        }
        // CAUTION: Needed to parenthesize options.path and options.domain
        // in the following expressions, otherwise they evaluate to undefined
        // in the packed version for some reason...
        var path = options.path ? '; path=' + (options.path) : '';
        var domain = options.domain ? '; domain=' + (options.domain) : '';
        var secure = options.secure ? '; secure' : '';
        document.cookie = [name, '=', encodeURIComponent(value), expires, path, domain, secure].join('');
    } else { // only name given, get cookie
        var cookieValue = null;
        if (document.cookie && document.cookie != '') {
            var cookies = document.cookie.split(';');
            for (var i = 0; i < cookies.length; i++) {
                var cookie = jQuery.trim(cookies[i]);
                // Does this cookie string begin with the name we want?
                if (cookie.substring(0, name.length + 1) == (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }
};
function getCookie(a){if(document.cookie.length>0){c_start=document.cookie.indexOf(a+"=");if(c_start!=-1){c_start=c_start+a.length+1;c_end=document.cookie.indexOf(";",c_start);if(c_end==-1){c_end=document.cookie.length;}return unescape(document.cookie.substring(c_start,c_end));}}return"";}function getModniqueCookie(a){if(document.cookie.length>0){c_start=document.cookie.indexOf(a+"=");
if(c_start!=-1){c_start=c_start+a.length+1;c_end=document.cookie.indexOf(";",c_start);if(c_end==-1){c_end=document.cookie.length;}return unescape(document.cookie.substring(c_start,c_end));}}return"";}function addJumpParam(a,b){promo=getCookie("promo");if(promo!=""){atag=document.getElementById(a);atag.href=b+promo.replace("%0a","").replace("%0d","").replace("%0A","").replace("%0D","");
}}function updateHrefAddPromo(a){promo=getCookie("promo");if(promo!=""){ampOrQuest="?";if(a.href.indexOf("?")>0){ampOrQuest="&";}a.href=a.href+ampOrQuest+"promo="+promo.replace("%0a","").replace("%0d","").replace("%0A","").replace("%0D","");}return true;}function isDefined(a){return(typeof(a)=="undefined")?false:true;
}function setBidzCookie(f,e,c){var b=new Date();var a=new Date();var d="/";if(c==null||c==0){c=1;}a.setTime(b.getTime()+3600000*24*c);document.cookie=escape(f)+"="+escape(e)+";expires="+a.toGMTString()+";path="+d;}function setBidzCookieWithDomain(g,a,e,d){var f=new Date();var b=new Date();var i="/";if(e==null||e==0){e=1;
}b.setTime(f.getTime()+3600000*24*e);var h=escape(g)+"="+escape(a)+" ;expires="+b.toGMTString()+" ;path="+i+" ;domain="+d;var c=getCookie(g);if(c!=null&&c!=""){document.cookie=escape(g)+"="+escape(a)+" ;expires="+b.toGMTString()+" ;path="+i+" ;domain="+d;}else{document.cookie=escape(g)+"="+escape(a)+" ;expires="+b.toGMTString()+" ;path="+i+" ;domain="+d;
}}function setCookie(b,c,a){document.cookie=b+"="+c+";path=/"+((a==null)?"":";expires="+a.toGMTString());}var usernameCookie="usernamecookie";function isCustomerLoggedIn(){if(getCookie(usernameCookie)&&getCookie(usernameCookie)!=""&&getCookie(usernameCookie)!='""'){return true;}else{return false;}}function isCoRegiCookieCreated(){if(getCookie("CoRegistration")&&getCookie("CoRegistration")!=""&&getCookie("CoRegistration")!='""'){return true;
}else{return false;}}function loadUsernameFromCookie(){var a=getCookie("rememberUser");$("#username").val(a);if(document.cookie.indexOf("rememberUser"+"=")>0){if(a==""){$("#rememberusernamecb").attr("checked",false);}else{$("#rememberusernamecb").attr("checked",true);}}else{$("#rememberusernamecb").attr("checked",true);
}}
/*! jQuery UI - v1.8.23 - 2012-08-15
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.core.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,b){function c(b,c){var e=b.nodeName.toLowerCase();if("area"===e){var f=b.parentNode,g=f.name,h;return!b.href||!g||f.nodeName.toLowerCase()!=="map"?!1:(h=a("img[usemap=#"+g+"]")[0],!!h&&d(h))}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||c:c)&&d(b)}function d(b){return!a(b).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(a.ui.version)return;a.extend(a.ui,{version:"1.8.23",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){var d=a(this[0]),e,f;while(d.length&&d[0]!==document){e=d.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){f=parseInt(d.css("zIndex"),10);if(!isNaN(f)&&f!==0)return f}d=d.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function h(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0),f&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)}),c}var e=d==="Width"?["Left","Right"]:["Top","Bottom"],f=d.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?g["inner"+d].call(this):this.each(function(){a(this).css(f,h(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return typeof b!="number"?g["outer"+d].call(this,b):this.each(function(){a(this).css(f,h(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));c.offsetHeight,a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a.curCSS||(a.curCSS=a.css),a.extend(a.ui,{plugin:{add:function(b,c,d){var e=a.ui[b].prototype;for(var f in d)e.plugins[f]=e.plugins[f]||[],e.plugins[f].push([c,d[f]])},call:function(a,b,c){var d=a.plugins[b];if(!d||!a.element[0].parentNode)return;for(var e=0;e<d.length;e++)a.options[d[e][0]]&&d[e][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if(a(b).css("overflow")==="hidden")return!1;var d=c&&c==="left"?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}})})(jQuery);;/*! jQuery UI - v1.8.23 - 2012-08-15
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.widget.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,e;(e=b[d])!=null;d++)try{a(e).triggerHandler("remove")}catch(f){}c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){return c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}}),d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e=b.split(".")[0],f;b=b.split(".")[1],f=e+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][f]=function(c){return!!a.data(c,b)},a[e]=a[e]||{},a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)};var g=new c;g.options=a.extend(!0,{},g.options),a[e][b].prototype=a.extend(!0,g,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},d),a.widget.bridge(b,a[e][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f=typeof e=="string",g=Array.prototype.slice.call(arguments,1),h=this;return e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e,f&&e.charAt(0)==="_"?h:(f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;if(f!==d&&f!==b)return h=f,!1}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))}),h)}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c=="string"){if(d===b)return this.options[c];e={},e[c]=d}return this._setOptions(e),this},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(a,b){return this.options[a]=b,a==="disabled"&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",b),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e,f,g=this.options[b];d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent;if(f)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}})(jQuery);;/*! jQuery UI - v1.8.23 - 2012-08-15
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.position.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,b){a.ui=a.ui||{};var c=/left|center|right/,d=/top|center|bottom/,e="center",f={},g=a.fn.position,h=a.fn.offset;a.fn.position=function(b){if(!b||!b.of)return g.apply(this,arguments);b=a.extend({},b);var h=a(b.of),i=h[0],j=(b.collision||"flip").split(" "),k=b.offset?b.offset.split(" "):[0,0],l,m,n;return i.nodeType===9?(l=h.width(),m=h.height(),n={top:0,left:0}):i.setTimeout?(l=h.width(),m=h.height(),n={top:h.scrollTop(),left:h.scrollLeft()}):i.preventDefault?(b.at="left top",l=m=0,n={top:b.of.pageY,left:b.of.pageX}):(l=h.outerWidth(),m=h.outerHeight(),n=h.offset()),a.each(["my","at"],function(){var a=(b[this]||"").split(" ");a.length===1&&(a=c.test(a[0])?a.concat([e]):d.test(a[0])?[e].concat(a):[e,e]),a[0]=c.test(a[0])?a[0]:e,a[1]=d.test(a[1])?a[1]:e,b[this]=a}),j.length===1&&(j[1]=j[0]),k[0]=parseInt(k[0],10)||0,k.length===1&&(k[1]=k[0]),k[1]=parseInt(k[1],10)||0,b.at[0]==="right"?n.left+=l:b.at[0]===e&&(n.left+=l/2),b.at[1]==="bottom"?n.top+=m:b.at[1]===e&&(n.top+=m/2),n.left+=k[0],n.top+=k[1],this.each(function(){var c=a(this),d=c.outerWidth(),g=c.outerHeight(),h=parseInt(a.curCSS(this,"marginLeft",!0))||0,i=parseInt(a.curCSS(this,"marginTop",!0))||0,o=d+h+(parseInt(a.curCSS(this,"marginRight",!0))||0),p=g+i+(parseInt(a.curCSS(this,"marginBottom",!0))||0),q=a.extend({},n),r;b.my[0]==="right"?q.left-=d:b.my[0]===e&&(q.left-=d/2),b.my[1]==="bottom"?q.top-=g:b.my[1]===e&&(q.top-=g/2),f.fractions||(q.left=Math.round(q.left),q.top=Math.round(q.top)),r={left:q.left-h,top:q.top-i},a.each(["left","top"],function(c,e){a.ui.position[j[c]]&&a.ui.position[j[c]][e](q,{targetWidth:l,targetHeight:m,elemWidth:d,elemHeight:g,collisionPosition:r,collisionWidth:o,collisionHeight:p,offset:k,my:b.my,at:b.at})}),a.fn.bgiframe&&c.bgiframe(),c.offset(a.extend(q,{using:b.using}))})},a.ui.position={fit:{left:function(b,c){var d=a(window),e=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();b.left=e>0?b.left-e:Math.max(b.left-c.collisionPosition.left,b.left)},top:function(b,c){var d=a(window),e=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();b.top=e>0?b.top-e:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(b,c){if(c.at[0]===e)return;var d=a(window),f=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft(),g=c.my[0]==="left"?-c.elemWidth:c.my[0]==="right"?c.elemWidth:0,h=c.at[0]==="left"?c.targetWidth:-c.targetWidth,i=-2*c.offset[0];b.left+=c.collisionPosition.left<0?g+h+i:f>0?g+h+i:0},top:function(b,c){if(c.at[1]===e)return;var d=a(window),f=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop(),g=c.my[1]==="top"?-c.elemHeight:c.my[1]==="bottom"?c.elemHeight:0,h=c.at[1]==="top"?c.targetHeight:-c.targetHeight,i=-2*c.offset[1];b.top+=c.collisionPosition.top<0?g+h+i:f>0?g+h+i:0}}},a.offset.setOffset||(a.offset.setOffset=function(b,c){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var d=a(b),e=d.offset(),f=parseInt(a.curCSS(b,"top",!0),10)||0,g=parseInt(a.curCSS(b,"left",!0),10)||0,h={top:c.top-e.top+f,left:c.left-e.left+g};"using"in c?c.using.call(b,h):d.css(h)},a.fn.offset=function(b){var c=this[0];return!c||!c.ownerDocument?null:b?a.isFunction(b)?this.each(function(c){a(this).offset(b.call(this,c,a(this).offset()))}):this.each(function(){a.offset.setOffset(this,b)}):h.call(this)}),a.curCSS||(a.curCSS=a.css),function(){var b=document.getElementsByTagName("body")[0],c=document.createElement("div"),d,e,g,h,i;d=document.createElement(b?"div":"body"),g={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},b&&a.extend(g,{position:"absolute",left:"-1000px",top:"-1000px"});for(var j in g)d.style[j]=g[j];d.appendChild(c),e=b||document.documentElement,e.insertBefore(d,e.firstChild),c.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",h=a(c).offset(function(a,b){return b}).offset(),d.innerHTML="",e.removeChild(d),i=h.top+h.left+(b?2e3:0),f.fractions=i>21&&i<22}()})(jQuery);;/*! jQuery UI - v1.8.23 - 2012-08-15
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.dialog.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,b){var c="ui-dialog ui-widget ui-widget-content ui-corner-all ",d={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},e={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};a.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(b){var c=a(this).css(b).offset().top;c<0&&a(this).css("top",b.top-c)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var b=this,d=b.options,e=d.title||"&#160;",f=a.ui.dialog.getTitleId(b.element),g=(b.uiDialog=a("<div></div>")).appendTo(document.body).hide().addClass(c+d.dialogClass).css({zIndex:d.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(c){d.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}).attr({role:"dialog","aria-labelledby":f}).mousedown(function(a){b.moveToTop(!1,a)}),h=b.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(g),i=(b.uiDialogTitlebar=a("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(g),j=a('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){j.addClass("ui-state-hover")},function(){j.removeClass("ui-state-hover")}).focus(function(){j.addClass("ui-state-focus")}).blur(function(){j.removeClass("ui-state-focus")}).click(function(a){return b.close(a),!1}).appendTo(i),k=(b.uiDialogTitlebarCloseText=a("<span></span>")).addClass("ui-icon ui-icon-closethick").text(d.closeText).appendTo(j),l=a("<span></span>").addClass("ui-dialog-title").attr("id",f).html(e).prependTo(i);a.isFunction(d.beforeclose)&&!a.isFunction(d.beforeClose)&&(d.beforeClose=d.beforeclose),i.find("*").add(i).disableSelection(),d.draggable&&a.fn.draggable&&b._makeDraggable(),d.resizable&&a.fn.resizable&&b._makeResizable(),b._createButtons(d.buttons),b._isOpen=!1,a.fn.bgiframe&&g.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var a=this;return a.overlay&&a.overlay.destroy(),a.uiDialog.hide(),a.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),a.uiDialog.remove(),a.originalTitle&&a.element.attr("title",a.originalTitle),a},widget:function(){return this.uiDialog},close:function(b){var c=this,d,e;if(!1===c._trigger("beforeClose",b))return;return c.overlay&&c.overlay.destroy(),c.uiDialog.unbind("keypress.ui-dialog"),c._isOpen=!1,c.options.hide?c.uiDialog.hide(c.options.hide,function(){c._trigger("close",b)}):(c.uiDialog.hide(),c._trigger("close",b)),a.ui.dialog.overlay.resize(),c.options.modal&&(d=0,a(".ui-dialog").each(function(){this!==c.uiDialog[0]&&(e=a(this).css("z-index"),isNaN(e)||(d=Math.max(d,e)))}),a.ui.dialog.maxZ=d),c},isOpen:function(){return this._isOpen},moveToTop:function(b,c){var d=this,e=d.options,f;return e.modal&&!b||!e.stack&&!e.modal?d._trigger("focus",c):(e.zIndex>a.ui.dialog.maxZ&&(a.ui.dialog.maxZ=e.zIndex),d.overlay&&(a.ui.dialog.maxZ+=1,d.overlay.$el.css("z-index",a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ)),f={scrollTop:d.element.scrollTop(),scrollLeft:d.element.scrollLeft()},a.ui.dialog.maxZ+=1,d.uiDialog.css("z-index",a.ui.dialog.maxZ),d.element.attr(f),d._trigger("focus",c),d)},open:function(){if(this._isOpen)return;var b=this,c=b.options,d=b.uiDialog;return b.overlay=c.modal?new a.ui.dialog.overlay(b):null,b._size(),b._position(c.position),d.show(c.show),b.moveToTop(!0),c.modal&&d.bind("keydown.ui-dialog",function(b){if(b.keyCode!==a.ui.keyCode.TAB)return;var c=a(":tabbable",this),d=c.filter(":first"),e=c.filter(":last");if(b.target===e[0]&&!b.shiftKey)return d.focus(1),!1;if(b.target===d[0]&&b.shiftKey)return e.focus(1),!1}),a(b.element.find(":tabbable").get().concat(d.find(".ui-dialog-buttonpane :tabbable").get().concat(d.get()))).eq(0).focus(),b._isOpen=!0,b._trigger("open"),b},_createButtons:function(b){var c=this,d=!1,e=a("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),f=a("<div></div>").addClass("ui-dialog-buttonset").appendTo(e);c.uiDialog.find(".ui-dialog-buttonpane").remove(),typeof b=="object"&&b!==null&&a.each(b,function(){return!(d=!0)}),d&&(a.each(b,function(b,d){d=a.isFunction(d)?{click:d,text:b}:d;var e=a('<button type="button"></button>').click(function(){d.click.apply(c.element[0],arguments)}).appendTo(f);a.each(d,function(a,b){if(a==="click")return;a in e?e[a](b):e.attr(a,b)}),a.fn.button&&e.button()}),e.appendTo(c.uiDialog))},_makeDraggable:function(){function f(a){return{position:a.position,offset:a.offset}}var b=this,c=b.options,d=a(document),e;b.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,g){e=c.height==="auto"?"auto":a(this).height(),a(this).height(a(this).height()).addClass("ui-dialog-dragging"),b._trigger("dragStart",d,f(g))},drag:function(a,c){b._trigger("drag",a,f(c))},stop:function(g,h){c.position=[h.position.left-d.scrollLeft(),h.position.top-d.scrollTop()],a(this).removeClass("ui-dialog-dragging").height(e),b._trigger("dragStop",g,f(h)),a.ui.dialog.overlay.resize()}})},_makeResizable:function(c){function h(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}c=c===b?this.options.resizable:c;var d=this,e=d.options,f=d.uiDialog.css("position"),g=typeof c=="string"?c:"n,e,s,w,se,sw,ne,nw";d.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:d.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:d._minHeight(),handles:g,start:function(b,c){a(this).addClass("ui-dialog-resizing"),d._trigger("resizeStart",b,h(c))},resize:function(a,b){d._trigger("resize",a,h(b))},stop:function(b,c){a(this).removeClass("ui-dialog-resizing"),e.height=a(this).height(),e.width=a(this).width(),d._trigger("resizeStop",b,h(c)),a.ui.dialog.overlay.resize()}}).css("position",f).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var c=[],d=[0,0],e;if(b){if(typeof b=="string"||typeof b=="object"&&"0"in b)c=b.split?b.split(" "):[b[0],b[1]],c.length===1&&(c[1]=c[0]),a.each(["left","top"],function(a,b){+c[a]===c[a]&&(d[a]=c[a],c[a]=b)}),b={my:c.join(" "),at:c.join(" "),offset:d.join(" ")};b=a.extend({},a.ui.dialog.prototype.options.position,b)}else b=a.ui.dialog.prototype.options.position;e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(a.extend({of:window},b)),e||this.uiDialog.hide()},_setOptions:function(b){var c=this,f={},g=!1;a.each(b,function(a,b){c._setOption(a,b),a in d&&(g=!0),a in e&&(f[a]=b)}),g&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(b,d){var e=this,f=e.uiDialog;switch(b){case"beforeclose":b="beforeClose";break;case"buttons":e._createButtons(d);break;case"closeText":e.uiDialogTitlebarCloseText.text(""+d);break;case"dialogClass":f.removeClass(e.options.dialogClass).addClass(c+d);break;case"disabled":d?f.addClass("ui-dialog-disabled"):f.removeClass("ui-dialog-disabled");break;case"draggable":var g=f.is(":data(draggable)");g&&!d&&f.draggable("destroy"),!g&&d&&e._makeDraggable();break;case"position":e._position(d);break;case"resizable":var h=f.is(":data(resizable)");h&&!d&&f.resizable("destroy"),h&&typeof d=="string"&&f.resizable("option","handles",d),!h&&d!==!1&&e._makeResizable(d);break;case"title":a(".ui-dialog-title",e.uiDialogTitlebar).html(""+(d||"&#160;"))}a.Widget.prototype._setOption.apply(e,arguments)},_size:function(){var b=this.options,c,d,e=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),b.minWidth>b.width&&(b.width=b.minWidth),c=this.uiDialog.css({height:"auto",width:b.width}).height(),d=Math.max(0,b.minHeight-c);if(b.height==="auto")if(a.support.minHeight)this.element.css({minHeight:d,height:"auto"});else{this.uiDialog.show();var f=this.element.css("height","auto").height();e||this.uiDialog.hide(),this.element.height(Math.max(f,d))}else this.element.height(Math.max(b.height-c,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),a.extend(a.ui.dialog,{version:"1.8.23",uuid:0,maxZ:0,getTitleId:function(a){var b=a.attr("id");return b||(this.uuid+=1,b=this.uuid),"ui-dialog-title-"+b},overlay:function(b){this.$el=a.ui.dialog.overlay.create(b)}}),a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(b){this.instances.length===0&&(setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){if(a(b.target).zIndex()<a.ui.dialog.overlay.maxZ)return!1})},1),a(document).bind("keydown.dialog-overlay",function(c){b.options.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}),a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize));var c=(this.oldInstances.pop()||a("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return a.fn.bgiframe&&c.bgiframe(),this.instances.push(c),c},destroy:function(b){var c=a.inArray(b,this.instances);c!=-1&&this.oldInstances.push(this.instances.splice(c,1)[0]),this.instances.length===0&&a([document,window]).unbind(".dialog-overlay"),b.remove();var d=0;a.each(this.instances,function(){d=Math.max(d,this.css("z-index"))}),this.maxZ=d},height:function(){var b,c;return a.browser.msie&&a.browser.version<7?(b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),b<c?a(window).height()+"px":b+"px"):a(document).height()+"px"},width:function(){var b,c;return a.browser.msie?(b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),b<c?a(window).width()+"px":b+"px"):a(document).width()+"px"},resize:function(){var b=a([]);a.each(a.ui.dialog.overlay.instances,function(){b=b.add(this)}),b.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}}),a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);;
/*
 * jQuery Tools 1.2.5 - The missing UI library for the Web
 * 
 * [toolbox.flashembed, toolbox.history, toolbox.expose, toolbox.mousewheel, tabs, tabs.slideshow, tooltip, tooltip.slide, tooltip.dynamic, scrollable, scrollable.autoscroll, scrollable.navigator, overlay, overlay.apple, dateinput, rangeinput, validator]
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/
 * 
 * jquery.event.wheel.js - rev 1 
 * Copyright (c) 2008, Three Dub Media (http://threedubmedia.com)
 * Liscensed under the MIT License (MIT-LICENSE.txt)
 * http://www.opensource.org/licenses/mit-license.php
 * Created: 2008-07-01 | Updated: 2008-07-14
 * 
 * -----
 * 
 * File generated: Wed Sep 22 06:12:53 GMT 2010
 */
(function(){function f(a,b){if(b)for(var c in b)if(b.hasOwnProperty(c))a[c]=b[c];return a}function l(a,b){var c=[];for(var d in a)if(a.hasOwnProperty(d))c[d]=b(a[d]);return c}function m(a,b,c){if(e.isSupported(b.version))a.innerHTML=e.getHTML(b,c);else if(b.expressInstall&&e.isSupported([6,65]))a.innerHTML=e.getHTML(f(b,{src:b.expressInstall}),{MMredirectURL:location.href,MMplayerType:"PlugIn",MMdoctitle:document.title});else{if(!a.innerHTML.replace(/\s/g,"")){a.innerHTML="<h2>Flash version "+b.version+
" or greater is required</h2><h3>"+(g[0]>0?"Your version is "+g:"You have no flash plugin installed")+"</h3>"+(a.tagName=="A"?"<p>Click here to download latest version</p>":"<p>Download latest version from <a href='"+k+"'>here</a></p>");if(a.tagName=="A")a.onclick=function(){location.href=k}}if(b.onFail){var d=b.onFail.call(this);if(typeof d=="string")a.innerHTML=d}}if(i)window[b.id]=document.getElementById(b.id);f(this,{getRoot:function(){return a},getOptions:function(){return b},getConf:function(){return c},
getApi:function(){return a.firstChild}})}var i=document.all,k="http://www.adobe.com/go/getflashplayer",n=typeof jQuery=="function",o=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,j={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowfullscreen:true,allowscriptaccess:"always",quality:"high",version:[3,0],onFail:null,expressInstall:null,w3c:false,cachebusting:false};window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){}});
window.flashembed=function(a,b,c){if(typeof a=="string")a=document.getElementById(a.replace("#",""));if(a){if(typeof b=="string")b={src:b};return new m(a,f(f({},j),b),c)}};var e=f(window.flashembed,{conf:j,getVersion:function(){var a,b;try{b=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(c){try{b=(a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"))&&a.GetVariable("$version")}catch(d){try{b=(a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"))&&a.GetVariable("$version")}catch(h){}}}return(b=
o.exec(b))?[b[1],b[3]]:[0,0]},asString:function(a){if(a===null||a===undefined)return null;var b=typeof a;if(b=="object"&&a.push)b="array";switch(b){case "string":a=a.replace(new RegExp('(["\\\\])',"g"),"\\$1");a=a.replace(/^\s?(\d+\.?\d+)%/,"$1pct");return'"'+a+'"';case "array":return"["+l(a,function(d){return e.asString(d)}).join(",")+"]";case "function":return'"function()"';case "object":b=[];for(var c in a)a.hasOwnProperty(c)&&b.push('"'+c+'":'+e.asString(a[c]));return"{"+b.join(",")+"}"}return String(a).replace(/\s/g,
" ").replace(/\'/g,'"')},getHTML:function(a,b){a=f({},a);var c='<object width="'+a.width+'" height="'+a.height+'" id="'+a.id+'" name="'+a.id+'"';if(a.cachebusting)a.src+=(a.src.indexOf("?")!=-1?"&":"?")+Math.random();c+=a.w3c||!i?' data="'+a.src+'" type="application/x-shockwave-flash"':' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"';c+=">";if(a.w3c||i)c+='<param name="movie" value="'+a.src+'" />';a.width=a.height=a.id=a.w3c=a.src=null;a.onFail=a.version=a.expressInstall=null;for(var d in a)if(a[d])c+=
'<param name="'+d+'" value="'+a[d]+'" />';a="";if(b){for(var h in b)if(b[h]){d=b[h];a+=h+"="+(/function|object/.test(typeof d)?e.asString(d):d)+"&"}a=a.slice(0,-1);c+='<param name="flashvars" value=\''+a+"' />"}c+="</object>";return c},isSupported:function(a){return g[0]>a[0]||g[0]==a[0]&&g[1]>=a[1]}}),g=e.getVersion();if(n){jQuery.tools=jQuery.tools||{version:"1.2.5"};jQuery.tools.flashembed={conf:j};jQuery.fn.flashembed=function(a,b){return this.each(function(){$(this).data("flashembed",flashembed(this,
a,b))})}}})();
(function(b){function h(c){if(c){var a=d.contentWindow.document;a.open().close();a.location.hash=c}}var g,d,f,i;b.tools=b.tools||{version:"1.2.5"};b.tools.history={init:function(c){if(!i){if(b.browser.msie&&b.browser.version<"8"){if(!d){d=b("<iframe/>").attr("src","javascript:false;").hide().get(0);b("body").append(d);setInterval(function(){var a=d.contentWindow.document;a=a.location.hash;g!==a&&b.event.trigger("hash",a)},100);h(location.hash||"#")}}else setInterval(function(){var a=location.hash;
a!==g&&b.event.trigger("hash",a)},100);f=!f?c:f.add(c);c.click(function(a){var e=b(this).attr("href");d&&h(e);if(e.slice(0,1)!="#"){location.href="#"+e;return a.preventDefault()}});i=true}}};b(window).bind("hash",function(c,a){a?f.filter(function(){var e=b(this).attr("href");return e==a||e==a.replace("#","")}).trigger("history",[a]):f.eq(0).trigger("history",[a]);g=a});b.fn.history=function(c){b.tools.history.init(this);return this.bind("history",c)}})(jQuery);
(function(b){function k(){
	if(b.browser.msie){
		var a=b(document).height(),d=b(window).height();
		
		/* 
			Added by Curtis - 1-27-11
			There is some sort of max pixel height that this jquery can process in IE
			If the allowable height is exceeded, then default back to a manual value that we know Jquery can handle
			
			The only issue happens on the category page where the background opacity cuts off 4096 pixels down the page,
			
			This also only happens on 32bit processors.
			The original issue does not happen on 64bit processors, but I don't know of a way for javascript to run a check based on the processor.
			
			Thankfully, it is unlikely that user would actually scroll that far down the page when they are trying to login.
		*/
			var max_height = 4096;
			if(a>max_height){
				a = max_height;
			}
		
return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a-d<20?d:a]}return[b(document).width(),b(document).height()]}function h(a){if(a)return a.call(b.mask)}b.tools=b.tools||{version:"1.2.5"};var l;l=b.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:true,closeOnEsc:true,zIndex:9998,opacity:0.8,startOpacity:0,color:"#fff",onLoad:null,onClose:null}};var c,i,e,g,j;b.mask={load:function(a,d){if(e)return this;if(typeof a=="string")a={color:a};a=a||g;g=a=b.extend(b.extend({},l.conf),a);c=b("#"+a.maskId);if(!c.length){c=b("<div/>").attr("id",a.maskId);b("body").append(c)}var m=k();c.css({position:"absolute",top:0,left:0,width:m[0],height:m[1],display:"none",opacity:a.startOpacity,zIndex:a.zIndex});a.color&&c.css("backgroundColor",a.color);if(h(a.onBeforeLoad)===false)return this;a.closeOnEsc&&b(document).bind("keydown.mask",function(f){f.keyCode==
27&&b.mask.close(f)});a.closeOnClick&&c.bind("click.mask",function(f){b.mask.close(f)});b(window).bind("resize.mask",function(){b.mask.fit()});if(d&&d.length){j=d.eq(0).css("zIndex");b.each(d,function(){var f=b(this);/relative|absolute|fixed/i.test(f.css("position"))||f.css("position","relative")});i=d.css({zIndex:Math.max(a.zIndex+1,j=="auto"?0:j)})}c.css({display:"block"}).fadeTo(a.loadSpeed,a.opacity,function(){b.mask.fit();h(a.onLoad);e="full"});e=true;return this},
close:function(){
	if(e){if(h(g.onBeforeClose)===
false)return this;
c.fadeOut(g.closeSpeed,function(){h(g.onClose);i&&i.css({zIndex:j});e=false});
b(document).unbind("keydown.mask");
c.unbind("click.mask");b(window).unbind("resize.mask")}
return this},

fit:function(){if(e){var a=k();c.css({width:a[0],height:a[1]})}},getMask:function(){return c},isLoaded:function(a){return a?e=="full":e},getConf:function(){return g},getExposed:function(){return i}};b.fn.mask=function(a){b.mask.load(a);return this};b.fn.expose=function(a){b.mask.load(a,this);/*alert(document.getElementById('exposeMask').style.filter);*/return this}})(jQuery);
(function(b){function c(a){switch(a.type){case "mousemove":return b.extend(a.data,{clientX:a.clientX,clientY:a.clientY,pageX:a.pageX,pageY:a.pageY});case "DOMMouseScroll":b.extend(a,a.data);a.delta=-a.detail/3;break;case "mousewheel":a.delta=a.wheelDelta/120;break}a.type="wheel";return b.event.handle.call(this,a,a.delta)}b.fn.mousewheel=function(a){return this[a?"bind":"trigger"]("wheel",a)};b.event.special.wheel={setup:function(){b.event.add(this,d,c,{})},teardown:function(){b.event.remove(this,
d,c)}};var d=!b.browser.mozilla?"mousewheel":"DOMMouseScroll"+(b.browser.version<"1.9"?" mousemove":"")})(jQuery);
(function(c){function p(d,b,a){var e=this,l=d.add(this),h=d.find(a.tabs),i=b.jquery?b:d.children(b),j;h.length||(h=d.children());i.length||(i=d.parent().find(b));i.length||(i=c(b));c.extend(this,{click:function(f,g){var k=h.eq(f);if(typeof f=="string"&&f.replace("#","")){k=h.filter("[href*="+f.replace("#","")+"]");f=Math.max(h.index(k),0)}if(a.rotate){var n=h.length-1;if(f<0)return e.click(n,g);if(f>n)return e.click(0,g)}if(!k.length){if(j>=0)return e;f=a.initialIndex;k=h.eq(f)}if(f===j)return e;
g=g||c.Event();g.type="onBeforeClick";l.trigger(g,[f]);if(!g.isDefaultPrevented()){o[a.effect].call(e,f,function(){g.type="onClick";l.trigger(g,[f])});j=f;h.removeClass(a.current);k.addClass(a.current);return e}},getConf:function(){return a},getTabs:function(){return h},getPanes:function(){return i},getCurrentPane:function(){return i.eq(j)},getCurrentTab:function(){return h.eq(j)},getIndex:function(){return j},next:function(){return e.click(j+1)},prev:function(){return e.click(j-1)},destroy:function(){h.unbind(a.event).removeClass(a.current);
i.find("a[href^=#]").unbind("click.T");return e}});c.each("onBeforeClick,onClick".split(","),function(f,g){c.isFunction(a[g])&&c(e).bind(g,a[g]);e[g]=function(k){k&&c(e).bind(g,k);return e}});if(a.history&&c.fn.history){c.tools.history.init(h);a.event="history"}h.each(function(f){c(this).bind(a.event,function(g){e.click(f,g);return g.preventDefault()})});i.find("a[href^=#]").bind("click.T",function(f){e.click(c(this).attr("href"),f)});if(location.hash&&a.tabs=="a"&&d.find("[href="+location.hash+"]").length)e.click(location.hash);
else if(a.initialIndex===0||a.initialIndex>0)e.click(a.initialIndex)}c.tools=c.tools||{version:"1.2.5"};c.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",rotate:false,history:false},addEffect:function(d,b){o[d]=b}};var o={"default":function(d,b){this.getPanes().hide().eq(d).show();b.call()},fade:function(d,b){var a=this.getConf(),e=a.fadeOutSpeed,l=this.getPanes();e?l.fadeOut(e):l.hide();l.eq(d).fadeIn(a.fadeInSpeed,b)},slide:function(d,
b){this.getPanes().slideUp(200);this.getPanes().eq(d).slideDown(400,b)},ajax:function(d,b){this.getPanes().eq(0).load(this.getTabs().eq(d).attr("href"),b)}},m;c.tools.tabs.addEffect("horizontal",function(d,b){m||(m=this.getPanes().eq(0).width());this.getCurrentPane().animate({width:0},function(){c(this).hide()});this.getPanes().eq(d).animate({width:m},function(){c(this).show();b.call()})});c.fn.tabs=function(d,b){var a=this.data("tabs");if(a){a.destroy();this.removeData("tabs")}if(c.isFunction(b))b=
{onBeforeClick:b};b=c.extend({},c.tools.tabs.conf,b);this.each(function(){a=new p(c(this),d,b);c(this).data("tabs",a)});return b.api?a:this}})(jQuery);
(function(c){function p(g,a){function m(f){var e=c(f);return e.length<2?e:g.parent().find(f)}var b=this,i=g.add(this),d=g.data("tabs"),h,j=true,n=m(a.next).click(function(){d.next()}),k=m(a.prev).click(function(){d.prev()});c.extend(b,{getTabs:function(){return d},getConf:function(){return a},play:function(){if(h)return b;var f=c.Event("onBeforePlay");i.trigger(f);if(f.isDefaultPrevented())return b;h=setInterval(d.next,a.interval);j=false;i.trigger("onPlay");return b},pause:function(){if(!h)return b;
var f=c.Event("onBeforePause");i.trigger(f);if(f.isDefaultPrevented())return b;h=clearInterval(h);i.trigger("onPause");return b},stop:function(){b.pause();j=true}});c.each("onBeforePlay,onPlay,onBeforePause,onPause".split(","),function(f,e){c.isFunction(a[e])&&c(b).bind(e,a[e]);b[e]=function(q){return c(b).bind(e,q)}});a.autopause&&d.getTabs().add(n).add(k).add(d.getPanes()).hover(b.pause,function(){j||b.play()});a.autoplay&&b.play();a.clickable&&d.getPanes().click(function(){d.next()});if(!d.getConf().rotate){var l=
a.disabledClass;d.getIndex()||k.addClass(l);d.onBeforeClick(function(f,e){k.toggleClass(l,!e);n.toggleClass(l,e==d.getTabs().length-1)})}}var o;o=c.tools.tabs.slideshow={conf:{next:".forward",prev:".backward",disabledClass:"disabled",autoplay:false,autopause:true,interval:3E3,clickable:true,api:false}};c.fn.slideshow=function(g){var a=this.data("slideshow");if(a)return a;g=c.extend({},o.conf,g);this.each(function(){a=new p(c(this),g);c(this).data("slideshow",a)});return g.api?a:this}})(jQuery);
(function(f){function p(a,b,c){var h=c.relative?a.position().top:a.offset().top,d=c.relative?a.position().left:a.offset().left,i=c.position[0];h-=b.outerHeight()-c.offset[0];d+=a.outerWidth()+c.offset[1];if(/iPad/i.test(navigator.userAgent))h-=f(window).scrollTop();var j=b.outerHeight()+a.outerHeight();if(i=="center")h+=j/2;if(i=="bottom")h+=j;i=c.position[1];a=b.outerWidth()+a.outerWidth();if(i=="center")d-=a/2;if(i=="left")d-=a;return{top:h,left:d}}function u(a,b){var c=this,h=a.add(c),d,i=0,j=
0,m=a.attr("title"),q=a.attr("data-tooltip"),r=o[b.effect],l,s=a.is(":input"),v=s&&a.is(":checkbox, :radio, select, :button, :submit"),t=a.attr("type"),k=b.events[t]||b.events[s?v?"widget":"input":"def"];if(!r)throw'Nonexistent effect "'+b.effect+'"';k=k.split(/,\s*/);if(k.length!=2)throw"Tooltip: bad events configuration for "+t;a.bind(k[0],function(e){clearTimeout(i);if(b.predelay)j=setTimeout(function(){c.show(e)},b.predelay);else c.show(e)}).bind(k[1],function(e){clearTimeout(j);if(b.delay)i=
setTimeout(function(){c.hide(e)},b.delay);else c.hide(e)});if(m&&b.cancelDefault){a.removeAttr("title");a.data("title",m)}f.extend(c,{show:function(e){if(!d){if(q)d=f(q);else if(b.tip)d=f(b.tip).eq(0);else if(m)d=f(b.layout).addClass(b.tipClass).appendTo(document.body).hide().append(m);else{d=a.next();d.length||(d=a.parent().next())}if(!d.length)throw"Cannot find tooltip for "+a;}if(c.isShown())return c;d.stop(true,true);var g=p(a,d,b);b.tip&&d.html(a.data("title"));e=e||f.Event();e.type="onBeforeShow";
h.trigger(e,[g]);if(e.isDefaultPrevented())return c;g=p(a,d,b);d.css({position:"absolute",top:g.top,left:g.left});l=true;r[0].call(c,function(){e.type="onShow";l="full";h.trigger(e)});g=b.events.tooltip.split(/,\s*/);if(!d.data("__set")){d.bind(g[0],function(){clearTimeout(i);clearTimeout(j)});g[1]&&!a.is("input:not(:checkbox, :radio), textarea")&&d.bind(g[1],function(n){n.relatedTarget!=a[0]&&a.trigger(k[1].split(" ")[0])});d.data("__set",true)}return c},hide:function(e){if(!d||!c.isShown())return c;
e=e||f.Event();e.type="onBeforeHide";h.trigger(e);if(!e.isDefaultPrevented()){l=false;o[b.effect][1].call(c,function(){e.type="onHide";h.trigger(e)});return c}},isShown:function(e){return e?l=="full":l},getConf:function(){return b},getTip:function(){return d},getTrigger:function(){return a}});f.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(e,g){f.isFunction(b[g])&&f(c).bind(g,b[g]);c[g]=function(n){n&&f(c).bind(g,n);return c}})}f.tools=f.tools||{version:"1.2.5"};f.tools.tooltip=
{conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,position:["top","center"],offset:[0,0],relative:false,cancelDefault:true,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(a,b,c){o[a]=[b,c]}};var o={toggle:[function(a){var b=this.getConf(),c=this.getTip();b=b.opacity;b<1&&c.css({opacity:b});c.show();a.call()},function(a){this.getTip().hide();
a.call()}],fade:[function(a){var b=this.getConf();this.getTip().fadeTo(b.fadeInSpeed,b.opacity,a)},function(a){this.getTip().fadeOut(this.getConf().fadeOutSpeed,a)}]};f.fn.tooltip=function(a){var b=this.data("tooltip");if(b)return b;a=f.extend(true,{},f.tools.tooltip.conf,a);if(typeof a.position=="string")a.position=a.position.split(/,?\s/);this.each(function(){b=new u(f(this),a);f(this).data("tooltip",b)});return a.api?b:this}})(jQuery);
(function(d){var i=d.tools.tooltip;d.extend(i.conf,{direction:"up",bounce:false,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!d.browser.msie});var e={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};i.addEffect("slide",function(g){var a=this.getConf(),f=this.getTip(),b=a.slideFade?{opacity:a.opacity}:{},c=e[a.direction]||e.up;b[c[1]]=c[0]+"="+a.slideOffset;a.slideFade&&f.css({opacity:0});f.show().animate(b,a.slideInSpeed,g)},function(g){var a=this.getConf(),f=a.slideOffset,
b=a.slideFade?{opacity:0}:{},c=e[a.direction]||e.up,h=""+c[0];if(a.bounce)h=h=="+"?"-":"+";b[c[1]]=h+"="+f;this.getTip().animate(b,a.slideOutSpeed,function(){d(this).hide();g.call()})})})(jQuery);
(function(g){function j(a){var c=g(window),d=c.width()+c.scrollLeft(),h=c.height()+c.scrollTop();return[a.offset().top<=c.scrollTop(),d<=a.offset().left+a.width(),h<=a.offset().top+a.height(),c.scrollLeft()>=a.offset().left]}function k(a){for(var c=a.length;c--;)if(a[c])return false;return true}var i=g.tools.tooltip;i.dynamic={conf:{classNames:"top right bottom left"}};g.fn.dynamic=function(a){if(typeof a=="number")a={speed:a};a=g.extend({},i.dynamic.conf,a);var c=a.classNames.split(/\s/),d;this.each(function(){var h=
g(this).tooltip().onBeforeShow(function(e,f){e=this.getTip();var b=this.getConf();d||(d=[b.position[0],b.position[1],b.offset[0],b.offset[1],g.extend({},b)]);g.extend(b,d[4]);b.position=[d[0],d[1]];b.offset=[d[2],d[3]];e.css({visibility:"hidden",position:"absolute",top:f.top,left:f.left}).show();f=j(e);if(!k(f)){if(f[2]){g.extend(b,a.top);b.position[0]="top";e.addClass(c[0])}if(f[3]){g.extend(b,a.right);b.position[1]="right";e.addClass(c[1])}if(f[0]){g.extend(b,a.bottom);b.position[0]="bottom";e.addClass(c[2])}if(f[1]){g.extend(b,
a.left);b.position[1]="left";e.addClass(c[3])}if(f[0]||f[2])b.offset[0]*=-1;if(f[1]||f[3])b.offset[1]*=-1}e.css({visibility:"visible"}).hide()});h.onBeforeShow(function(){var e=this.getConf();this.getTip();setTimeout(function(){e.position=[d[0],d[1]];e.offset=[d[2],d[3]]},0)});h.onHide(function(){var e=this.getTip();e.removeClass(a.classNames)});ret=h});return a.api?ret:this}})(jQuery);
(function(e){function p(f,c){var b=e(c);return b.length<2?b:f.parent().find(c)}function u(f,c){var b=this,n=f.add(b),g=f.children(),l=0,j=c.vertical;k||(k=b);if(g.length>1)g=e(c.items,f);e.extend(b,{getConf:function(){return c},getIndex:function(){return l},getSize:function(){return b.getItems().size()},getNaviButtons:function(){return o.add(q)},getRoot:function(){return f},getItemWrap:function(){return g},getItems:function(){return g.children(c.item).not("."+c.clonedClass)},move:function(a,d){return b.seekTo(l+
a,d)},next:function(a){return b.move(1,a)},prev:function(a){return b.move(-1,a)},begin:function(a){return b.seekTo(0,a)},end:function(a){return b.seekTo(b.getSize()-1,a)},focus:function(){return k=b},addItem:function(a){a=e(a);if(c.circular){g.children("."+c.clonedClass+":last").before(a);g.children("."+c.clonedClass+":first").replaceWith(a.clone().addClass(c.clonedClass))}else g.append(a);n.trigger("onAddItem",[a]);return b},seekTo:function(a,d,h){a.jquery||(a*=1);if(c.circular&&a===0&&l==-1&&d!==
0)return b;if(!c.circular&&a<0||a>b.getSize()||a<-1)return b;var i=a;if(a.jquery)a=b.getItems().index(a);else i=b.getItems().eq(a);var r=e.Event("onBeforeSeek");if(!h){n.trigger(r,[a,d]);if(r.isDefaultPrevented()||!i.length)return b}i=j?{top:-i.position().top}:{left:-i.position().left};l=a;k=b;if(d===undefined)d=c.speed;g.animate(i,d,c.easing,h||function(){n.trigger("onSeek",[a])});return b}});e.each(["onBeforeSeek","onSeek","onAddItem"],function(a,d){e.isFunction(c[d])&&e(b).bind(d,c[d]);b[d]=function(h){h&&
e(b).bind(d,h);return b}});if(c.circular){var s=b.getItems().slice(-1).clone().prependTo(g),t=b.getItems().eq(1).clone().appendTo(g);s.add(t).addClass(c.clonedClass);b.onBeforeSeek(function(a,d,h){if(!a.isDefaultPrevented())if(d==-1){b.seekTo(s,h,function(){b.end(0)});return a.preventDefault()}else d==b.getSize()&&b.seekTo(t,h,function(){b.begin(0)})});b.seekTo(0,0,function(){})}var o=p(f,c.prev).click(function(){b.prev()}),q=p(f,c.next).click(function(){b.next()});if(!c.circular&&b.getSize()>1){b.onBeforeSeek(function(a,
d){setTimeout(function(){if(!a.isDefaultPrevented()){o.toggleClass(c.disabledClass,d<=0);q.toggleClass(c.disabledClass,d>=b.getSize()-1)}},1)});c.initialIndex||o.addClass(c.disabledClass)}c.mousewheel&&e.fn.mousewheel&&f.mousewheel(function(a,d){if(c.mousewheel){b.move(d<0?1:-1,c.wheelSpeed||50);return false}});if(c.touch){var m={};g[0].ontouchstart=function(a){a=a.touches[0];m.x=a.clientX;m.y=a.clientY};g[0].ontouchmove=function(a){if(a.touches.length==1&&!g.is(":animated")){var d=a.touches[0],h=
m.x-d.clientX;d=m.y-d.clientY;b[j&&d>0||!j&&h>0?"next":"prev"]();a.preventDefault()}}}c.keyboard&&e(document).bind("keydown.scrollable",function(a){if(!(!c.keyboard||a.altKey||a.ctrlKey||e(a.target).is(":input")))if(!(c.keyboard!="static"&&k!=b)){var d=a.keyCode;if(j&&(d==38||d==40)){b.move(d==38?-1:1);return a.preventDefault()}if(!j&&(d==37||d==39)){b.move(d==37?-1:1);return a.preventDefault()}}});c.initialIndex&&b.seekTo(c.initialIndex,0,function(){})}e.tools=e.tools||{version:"1.2.5"};e.tools.scrollable=
{conf:{activeClass:"active",circular:false,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:null,items:".items",keyboard:true,mousewheel:false,next:".next",prev:".prev",speed:400,vertical:false,touch:true,wheelSpeed:0}};var k;e.fn.scrollable=function(f){var c=this.data("scrollable");if(c)return c;f=e.extend({},e.tools.scrollable.conf,f);this.each(function(){c=new u(e(this),f);e(this).data("scrollable",c)});return f.api?c:this}})(jQuery);
(function(b){var f=b.tools.scrollable;f.autoscroll={conf:{autoplay:true,interval:3E3,autopause:true}};b.fn.autoscroll=function(c){if(typeof c=="number")c={interval:c};var d=b.extend({},f.autoscroll.conf,c),g;this.each(function(){var a=b(this).data("scrollable");if(a)g=a;var e,h=true;a.play=function(){if(!e){h=false;e=setInterval(function(){a.next()},d.interval)}};a.pause=function(){e=clearInterval(e)};a.stop=function(){a.pause();h=true};d.autopause&&a.getRoot().add(a.getNaviButtons()).hover(a.pause,
a.play);d.autoplay&&a.play()});return d.api?g:this}})(jQuery);
(function(d){function p(b,g){var h=d(g);return h.length<2?h:b.parent().find(g)}var m=d.tools.scrollable;m.navigator={conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:false,idPrefix:null,history:false}};d.fn.navigator=function(b){if(typeof b=="string")b={navi:b};b=d.extend({},m.navigator.conf,b);var g;this.each(function(){function h(a,c,i){e.seekTo(c);if(j){if(location.hash)location.hash=a.attr("href").replace("#","")}else return i.preventDefault()}function f(){return k.find(b.naviItem||
"> *")}function n(a){var c=d("<"+(b.naviItem||"a")+"/>").click(function(i){h(d(this),a,i)}).attr("href","#"+a);a===0&&c.addClass(l);b.indexed&&c.text(a+1);b.idPrefix&&c.attr("id",b.idPrefix+a);return c.appendTo(k)}function o(a,c){a=f().eq(c.replace("#",""));a.length||(a=f().filter("[href="+c+"]"));a.click()}var e=d(this).data("scrollable"),k=b.navi.jquery?b.navi:p(e.getRoot(),b.navi),q=e.getNaviButtons(),l=b.activeClass,j=b.history&&d.fn.history;if(e)g=e;e.getNaviButtons=function(){return q.add(k)};
f().length?f().each(function(a){d(this).click(function(c){h(d(this),a,c)})}):d.each(e.getItems(),function(a){n(a)});e.onBeforeSeek(function(a,c){setTimeout(function(){if(!a.isDefaultPrevented()){var i=f().eq(c);!a.isDefaultPrevented()&&i.length&&f().removeClass(l).eq(c).addClass(l)}},1)});e.onAddItem(function(a,c){c=n(e.getItems().index(c));j&&c.history(o)});j&&f().history(o)});return b.api?g:this}})(jQuery);
(function(a){function t(d,b){var c=this,j=d.add(c),o=a(window),k,f,m,g=a.tools.expose&&(b.mask||b.expose),n=Math.random().toString().slice(10);if(g){if(typeof g=="string")g={color:g};g.closeOnClick=g.closeOnEsc=false}var p=b.target||d.attr("rel");f=p?a(p):d;if(!f.length)throw"Could not find Overlay: "+p;d&&d.index(f)==-1&&d.click(function(e){c.load(e);return e.preventDefault()});a.extend(c,{load:function(e){if(c.isOpened())return c;var h=q[b.effect];if(!h)throw'Overlay: cannot find effect : "'+b.effect+
'"';b.oneInstance&&a.each(s,function(){this.close(e)});e=e||a.Event();e.type="onBeforeLoad";j.trigger(e);if(e.isDefaultPrevented())return c;m=true;g&&a(f).expose(g);var i=b.top,r=b.left,u=f.outerWidth({margin:true}),v=f.outerHeight({margin:true});if(typeof i=="string")i=i=="center"?Math.max((o.height()-v)/2,0):parseInt(i,10)/100*o.height();if(r=="center")r=Math.max((o.width()-u)/2,0);h[0].call(c,{top:i,left:r},function(){if(m){e.type="onLoad";j.trigger(e)}});g&&b.closeOnClick&&a.mask.getMask().one("click",
c.close);b.closeOnClick&&a(document).bind("click."+n,function(l){a(l.target).parents(f).length||c.close(l)});b.closeOnEsc&&a(document).bind("keydown."+n,function(l){l.keyCode==27&&c.close(l)});return c},close:function(e){if(!c.isOpened())return c;e=e||a.Event();e.type="onBeforeClose";j.trigger(e);if(!e.isDefaultPrevented()){m=false;q[b.effect][1].call(c,function(){e.type="onClose";j.trigger(e)});a(document).unbind("click."+n).unbind("keydown."+n);g&&a.mask.close();return c}},getOverlay:function(){return f},
getTrigger:function(){return d},getClosers:function(){return k},isOpened:function(){return m},getConf:function(){return b}});a.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(e,h){a.isFunction(b[h])&&a(c).bind(h,b[h]);c[h]=function(i){i&&a(c).bind(h,i);return c}});k=f.find(b.close||".close");if(!k.length&&!b.close){k=a('<a class="close"></a>');f.prepend(k)}k.click(function(e){c.close(e)});b.load&&c.load()}a.tools=a.tools||{version:"1.2.5"};a.tools.overlay={addEffect:function(d,
b,c){q[d]=[b,c]},conf:{close:null,closeOnClick:true,closeOnEsc:true,closeSpeed:"fast",effect:"default",fixed:!a.browser.msie||a.browser.version>6,left:"center",load:false,mask:null,oneInstance:true,speed:"normal",target:null,top:"10%"}};var s=[],q={};a.tools.overlay.addEffect("default",function(d,b){var c=this.getConf(),j=a(window);if(!c.fixed){d.top+=j.scrollTop();d.left+=j.scrollLeft()}d.position=c.fixed?"fixed":"absolute";this.getOverlay().css(d).fadeIn(c.speed,b)},function(d){this.getOverlay().fadeOut(this.getConf().closeSpeed,
d)});a.fn.overlay=function(d){var b=this.data("overlay");if(b)return b;if(a.isFunction(d))d={onBeforeLoad:d};d=a.extend(true,{},a.tools.overlay.conf,d);this.each(function(){b=new t(a(this),d);s.push(b);a(this).data("overlay",b)});return d.api?b:this}})(jQuery);
(function(h){function k(d){var e=d.offset();return{top:e.top+d.height()/2,left:e.left+d.width()/2}}var l=h.tools.overlay,f=h(window);h.extend(l.conf,{start:{top:null,left:null},fadeInSpeed:"fast",zIndex:9999});function o(d,e){var a=this.getOverlay(),c=this.getConf(),g=this.getTrigger(),p=this,m=a.outerWidth({margin:true}),b=a.data("img"),n=c.fixed?"fixed":"absolute";if(!b){b=a.css("backgroundImage");if(!b)throw"background-image CSS property not set for overlay";b=b.slice(b.indexOf("(")+1,b.indexOf(")")).replace(/\"/g,
"");a.css("backgroundImage","none");b=h('<img src="'+b+'"/>');b.css({border:0,display:"none"}).width(m);h("body").append(b);a.data("img",b)}var i=c.start.top||Math.round(f.height()/2),j=c.start.left||Math.round(f.width()/2);if(g){g=k(g);i=g.top;j=g.left}if(c.fixed){i-=f.scrollTop();j-=f.scrollLeft()}else{d.top+=f.scrollTop();d.left+=f.scrollLeft()}b.css({position:"absolute",top:i,left:j,width:0,zIndex:c.zIndex}).show();d.position=n;a.css(d);b.animate({top:a.css("top"),left:a.css("left"),width:m},
c.speed,function(){a.css("zIndex",c.zIndex+1).fadeIn(c.fadeInSpeed,function(){p.isOpened()&&!h(this).index(a)?e.call():a.hide()})}).css("position",n)}function q(d){var e=this.getOverlay().hide(),a=this.getConf(),c=this.getTrigger();e=e.data("img");var g={top:a.start.top,left:a.start.left,width:0};c&&h.extend(g,k(c));a.fixed&&e.css({position:"absolute"}).animate({top:"+="+f.scrollTop(),left:"+="+f.scrollLeft()},0);e.animate(g,a.closeSpeed,d)}l.addEffect("apple",o,q)})(jQuery);
(function(d){function R(a,c){return 32-(new Date(a,c,32)).getDate()}function S(a,c){a=""+a;for(c=c||2;a.length<c;)a="0"+a;return a}function T(a,c,j){var q=a.getDate(),h=a.getDay(),r=a.getMonth();a=a.getFullYear();var f={d:q,dd:S(q),ddd:B[j].shortDays[h],dddd:B[j].days[h],m:r+1,mm:S(r+1),mmm:B[j].shortMonths[r],mmmm:B[j].months[r],yy:String(a).slice(2),yyyy:a};c=c.replace(X,function(s){return s in f?f[s]:s.slice(1,s.length-1)});return Y.html(c).html()}function v(a){return parseInt(a,10)}function U(a,
c){return a.getFullYear()===c.getFullYear()&&a.getMonth()==c.getMonth()&&a.getDate()==c.getDate()}function C(a){if(a){if(a.constructor==Date)return a;if(typeof a=="string"){var c=a.split("-");if(c.length==3)return new Date(v(c[0]),v(c[1])-1,v(c[2]));if(!/^-?\d+$/.test(a))return;a=v(a)}c=new Date;c.setDate(c.getDate()+a);return c}}function Z(a,c){function j(b,e,g){n=b;D=b.getFullYear();E=b.getMonth();G=b.getDate();g=g||d.Event("api");g.type="change";H.trigger(g,[b]);if(!g.isDefaultPrevented()){a.val(T(b,
e.format,e.lang));a.data("date",b);h.hide(g)}}function q(b){b.type="onShow";H.trigger(b);d(document).bind("keydown.d",function(e){if(e.ctrlKey)return true;var g=e.keyCode;if(g==8){a.val("");return h.hide(e)}if(g==27)return h.hide(e);if(d(V).index(g)>=0){if(!w){h.show(e);return e.preventDefault()}var i=d("#"+f.weeks+" a"),t=d("."+f.focus),o=i.index(t);t.removeClass(f.focus);if(g==74||g==40)o+=7;else if(g==75||g==38)o-=7;else if(g==76||g==39)o+=1;else if(g==72||g==37)o-=1;if(o>41){h.addMonth();t=d("#"+
f.weeks+" a:eq("+(o-42)+")")}else if(o<0){h.addMonth(-1);t=d("#"+f.weeks+" a:eq("+(o+42)+")")}else t=i.eq(o);t.addClass(f.focus);return e.preventDefault()}if(g==34)return h.addMonth();if(g==33)return h.addMonth(-1);if(g==36)return h.today();if(g==13)d(e.target).is("select")||d("."+f.focus).click();return d([16,17,18,9]).index(g)>=0});d(document).bind("click.d",function(e){var g=e.target;if(!d(g).parents("#"+f.root).length&&g!=a[0]&&(!L||g!=L[0]))h.hide(e)})}var h=this,r=new Date,f=c.css,s=B[c.lang],
k=d("#"+f.root),M=k.find("#"+f.title),L,I,J,D,E,G,n=a.attr("data-value")||c.value||a.val(),m=a.attr("min")||c.min,p=a.attr("max")||c.max,w;if(m===0)m="0";n=C(n)||r;m=C(m||c.yearRange[0]*365);p=C(p||c.yearRange[1]*365);if(!s)throw"Dateinput: invalid language: "+c.lang;if(a.attr("type")=="date"){var N=d("<input/>");d.each("class,disabled,id,maxlength,name,readonly,required,size,style,tabindex,title,value".split(","),function(b,e){N.attr(e,a.attr(e))});a.replaceWith(N);a=N}a.addClass(f.input);var H=
a.add(h);if(!k.length){k=d("<div><div><a/><div/><a/></div><div><div/><div/></div></div>").hide().css({position:"absolute"}).attr("id",f.root);k.children().eq(0).attr("id",f.head).end().eq(1).attr("id",f.body).children().eq(0).attr("id",f.days).end().eq(1).attr("id",f.weeks).end().end().end().find("a").eq(0).attr("id",f.prev).end().eq(1).attr("id",f.next);M=k.find("#"+f.head).find("div").attr("id",f.title);if(c.selectors){var z=d("<select/>").attr("id",f.month),A=d("<select/>").attr("id",f.year);M.html(z.add(A))}for(var $=
k.find("#"+f.days),O=0;O<7;O++)$.append(d("<span/>").text(s.shortDays[(O+c.firstDay)%7]));d("body").append(k)}if(c.trigger)L=d("<a/>").attr("href","#").addClass(f.trigger).click(function(b){h.show();return b.preventDefault()}).insertAfter(a);var K=k.find("#"+f.weeks);A=k.find("#"+f.year);z=k.find("#"+f.month);d.extend(h,{show:function(b){if(!(a.attr("readonly")||a.attr("disabled")||w)){b=b||d.Event();b.type="onBeforeShow";H.trigger(b);if(!b.isDefaultPrevented()){d.each(W,function(){this.hide()});
w=true;z.unbind("change").change(function(){h.setValue(A.val(),d(this).val())});A.unbind("change").change(function(){h.setValue(d(this).val(),z.val())});I=k.find("#"+f.prev).unbind("click").click(function(){I.hasClass(f.disabled)||h.addMonth(-1);return false});J=k.find("#"+f.next).unbind("click").click(function(){J.hasClass(f.disabled)||h.addMonth();return false});h.setValue(n);var e=a.offset();if(/iPad/i.test(navigator.userAgent))e.top-=d(window).scrollTop();k.css({top:e.top+a.outerHeight({margins:true})+
c.offset[0],left:e.left+c.offset[1]});if(c.speed)k.show(c.speed,function(){q(b)});else{k.show();q(b)}return h}}},setValue:function(b,e,g){var i=v(e)>=-1?new Date(v(b),v(e),v(g||1)):b||n;if(i<m)i=m;else if(i>p)i=p;b=i.getFullYear();e=i.getMonth();g=i.getDate();if(e==-1){e=11;b--}else if(e==12){e=0;b++}if(!w){j(i,c);return h}E=e;D=b;g=new Date(b,e,1-c.firstDay);g=g.getDay();var t=R(b,e),o=R(b,e-1),P;if(c.selectors){z.empty();d.each(s.months,function(x,F){m<new Date(b,x+1,-1)&&p>new Date(b,x,0)&&z.append(d("<option/>").html(F).attr("value",
x))});A.empty();i=r.getFullYear();for(var l=i+c.yearRange[0];l<i+c.yearRange[1];l++)m<=new Date(l+1,-1,1)&&p>new Date(l,0,0)&&A.append(d("<option/>").text(l));z.val(e);A.val(b)}else M.html(s.months[e]+" "+b);K.empty();I.add(J).removeClass(f.disabled);l=!g?-7:0;for(var u,y;l<(!g?35:42);l++){u=d("<a/>");if(l%7===0){P=d("<div/>").addClass(f.week);K.append(P)}if(l<g){u.addClass(f.off);y=o-g+l+1;i=new Date(b,e-1,y)}else if(l>=g+t){u.addClass(f.off);y=l-t-g+1;i=new Date(b,e+1,y)}else{y=l-g+1;i=new Date(b,
e,y);if(U(n,i))u.attr("id",f.current).addClass(f.focus);else U(r,i)&&u.attr("id",f.today)}m&&i<m&&u.add(I).addClass(f.disabled);p&&i>p&&u.add(J).addClass(f.disabled);u.attr("href","#"+y).text(y).data("date",i);P.append(u)}K.find("a").click(function(x){var F=d(this);if(!F.hasClass(f.disabled)){d("#"+f.current).removeAttr("id");F.attr("id",f.current);j(F.data("date"),c,x)}return false});f.sunday&&K.find(f.week).each(function(){var x=c.firstDay?7-c.firstDay:0;d(this).children().slice(x,x+1).addClass(f.sunday)});
return h},setMin:function(b,e){m=C(b);e&&n<m&&h.setValue(m);return h},setMax:function(b,e){p=C(b);e&&n>p&&h.setValue(p);return h},today:function(){return h.setValue(r)},addDay:function(b){return this.setValue(D,E,G+(b||1))},addMonth:function(b){return this.setValue(D,E+(b||1),G)},addYear:function(b){return this.setValue(D+(b||1),E,G)},hide:function(b){if(w){b=d.Event();b.type="onHide";H.trigger(b);d(document).unbind("click.d").unbind("keydown.d");if(b.isDefaultPrevented())return;k.hide();w=false}return h},
getConf:function(){return c},getInput:function(){return a},getCalendar:function(){return k},getValue:function(b){return b?T(n,b,c.lang):n},isOpen:function(){return w}});d.each(["onBeforeShow","onShow","change","onHide"],function(b,e){d.isFunction(c[e])&&d(h).bind(e,c[e]);h[e]=function(g){g&&d(h).bind(e,g);return h}});a.bind("focus click",h.show).keydown(function(b){var e=b.keyCode;if(!w&&d(V).index(e)>=0){h.show(b);return b.preventDefault()}return b.shiftKey||b.ctrlKey||b.altKey||e==9?true:b.preventDefault()});
C(a.val())&&j(n,c)}d.tools=d.tools||{version:"1.2.5"};var W=[],Q,V=[75,76,38,39,74,72,40,37],B={};Q=d.tools.dateinput={conf:{format:"mm/dd/yy",selectors:false,yearRange:[-5,5],lang:"en",offset:[0,0],speed:0,firstDay:0,min:undefined,max:undefined,trigger:false,css:{prefix:"cal",input:"date",root:0,head:0,title:0,prev:0,next:0,month:0,year:0,days:0,body:0,weeks:0,today:0,current:0,week:0,off:0,sunday:0,focus:0,disabled:0,trigger:0}},localize:function(a,c){d.each(c,function(j,q){c[j]=q.split(",")});
B[a]=c}};Q.localize("en",{months:"January,February,March,April,May,June,July,August,September,October,November,December",shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",days:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",shortDays:"Sun,Mon,Tue,Wed,Thu,Fri,Sat"});var X=/d{1,4}|m{1,4}|yy(?:yy)?|"[^"]*"|'[^']*'/g,Y=d("<a/>");d.expr[":"].date=function(a){var c=a.getAttribute("type");return c&&c=="date"||!!d(a).data("dateinput")};d.fn.dateinput=function(a){if(this.data("dateinput"))return this;
a=d.extend(true,{},Q.conf,a);d.each(a.css,function(j,q){if(!q&&j!="prefix")a.css[j]=(a.css.prefix||"")+(q||j)});var c;this.each(function(){var j=new Z(d(this),a);W.push(j);j=j.getInput().data("dateinput",j);c=c?c.add(j):j});return c?c:this}})(jQuery);
(function(e){function F(d,a){a=Math.pow(10,a);return Math.round(d*a)/a}function q(d,a){if(a=parseInt(d.css(a),10))return a;return(d=d[0].currentStyle)&&d.width&&parseInt(d.width,10)}function C(d){return(d=d.data("events"))&&d.onSlide}function G(d,a){function h(c,b,f,j){if(f===undefined)f=b/k*z;else if(j)f-=a.min;if(s)f=Math.round(f/s)*s;if(b===undefined||s)b=f*k/z;if(isNaN(f))return g;b=Math.max(0,Math.min(b,k));f=b/k*z;if(j||!n)f+=a.min;if(n)if(j)b=k-b;else f=a.max-f;f=F(f,t);var r=c.type=="click";
if(D&&l!==undefined&&!r){c.type="onSlide";A.trigger(c,[f,b]);if(c.isDefaultPrevented())return g}j=r?a.speed:0;r=r?function(){c.type="change";A.trigger(c,[f])}:null;if(n){m.animate({top:b},j,r);a.progress&&B.animate({height:k-b+m.width()/2},j)}else{m.animate({left:b},j,r);a.progress&&B.animate({width:b+m.width()/2},j)}l=f;H=b;d.val(f);return g}function o(){if(n=a.vertical||q(i,"height")>q(i,"width")){k=q(i,"height")-q(m,"height");u=i.offset().top+k}else{k=q(i,"width")-q(m,"width");u=i.offset().left}}
function v(){o();g.setValue(a.value!==undefined?a.value:a.min)}var g=this,p=a.css,i=e("<div><div/><a href='#'/></div>").data("rangeinput",g),n,l,u,k,H;d.before(i);var m=i.addClass(p.slider).find("a").addClass(p.handle),B=i.find("div").addClass(p.progress);e.each("min,max,step,value".split(","),function(c,b){c=d.attr(b);if(parseFloat(c))a[b]=parseFloat(c,10)});var z=a.max-a.min,s=a.step=="any"?0:a.step,t=a.precision;if(t===undefined)try{t=s.toString().split(".")[1].length}catch(I){t=0}if(d.attr("type")==
"range"){var w=e("<input/>");e.each("class,disabled,id,maxlength,name,readonly,required,size,style,tabindex,title,value".split(","),function(c,b){w.attr(b,d.attr(b))});w.val(a.value);d.replaceWith(w);d=w}d.addClass(p.input);var A=e(g).add(d),D=true;e.extend(g,{getValue:function(){return l},setValue:function(c,b){o();return h(b||e.Event("api"),undefined,c,true)},getConf:function(){return a},getProgress:function(){return B},getHandle:function(){return m},getInput:function(){return d},step:function(c,
b){b=b||e.Event();var f=a.step=="any"?1:a.step;g.setValue(l+f*(c||1),b)},stepUp:function(c){return g.step(c||1)},stepDown:function(c){return g.step(-c||-1)}});e.each("onSlide,change".split(","),function(c,b){e.isFunction(a[b])&&e(g).bind(b,a[b]);g[b]=function(f){f&&e(g).bind(b,f);return g}});m.drag({drag:false}).bind("dragStart",function(){o();D=C(e(g))||C(d)}).bind("drag",function(c,b,f){if(d.is(":disabled"))return false;h(c,n?b:f)}).bind("dragEnd",function(c){if(!c.isDefaultPrevented()){c.type=
"change";A.trigger(c,[l])}}).click(function(c){return c.preventDefault()});i.click(function(c){if(d.is(":disabled")||c.target==m[0])return c.preventDefault();o();var b=m.width()/2;h(c,n?k-u-b+c.pageY:c.pageX-u-b)});a.keyboard&&d.keydown(function(c){if(!d.attr("readonly")){var b=c.keyCode,f=e([75,76,38,33,39]).index(b)!=-1,j=e([74,72,40,34,37]).index(b)!=-1;if((f||j)&&!(c.shiftKey||c.altKey||c.ctrlKey)){if(f)g.step(b==33?10:1,c);else if(j)g.step(b==34?-10:-1,c);return c.preventDefault()}}});d.blur(function(c){var b=
e(this).val();b!==l&&g.setValue(b,c)});e.extend(d[0],{stepUp:g.stepUp,stepDown:g.stepDown});v();k||e(window).load(v)}e.tools=e.tools||{version:"1.2.5"};var E;E=e.tools.rangeinput={conf:{min:0,max:100,step:"any",steps:0,value:0,precision:undefined,vertical:0,keyboard:true,progress:false,speed:100,css:{input:"range",slider:"slider",progress:"progress",handle:"handle"}}};var x,y;e.fn.drag=function(d){document.ondragstart=function(){return false};d=e.extend({x:true,y:true,drag:true},d);x=x||e(document).bind("mousedown mouseup",
function(a){var h=e(a.target);if(a.type=="mousedown"&&h.data("drag")){var o=h.position(),v=a.pageX-o.left,g=a.pageY-o.top,p=true;x.bind("mousemove.drag",function(i){var n=i.pageX-v;i=i.pageY-g;var l={};if(d.x)l.left=n;if(d.y)l.top=i;if(p){h.trigger("dragStart");p=false}d.drag&&h.css(l);h.trigger("drag",[i,n]);y=h});a.preventDefault()}else try{y&&y.trigger("dragEnd")}finally{x.unbind("mousemove.drag");y=null}});return this.data("drag",true)};e.expr[":"].range=function(d){var a=d.getAttribute("type");
return a&&a=="range"||!!e(d).filter("input").data("rangeinput")};e.fn.rangeinput=function(d){if(this.data("rangeinput"))return this;d=e.extend(true,{},E.conf,d);var a;this.each(function(){var h=new G(e(this),e.extend(true,{},d));h=h.getInput().data("rangeinput",h);a=a?a.add(h):h});return a?a:this}})(jQuery);
(function(e){function t(a,b,c){var k=a.offset().top,f=a.offset().left,l=c.position.split(/,?\s+/),p=l[0];l=l[1];k-=b.outerHeight()-c.offset[0];f+=a.outerWidth()+c.offset[1];if(/iPad/i.test(navigator.userAgent))k-=e(window).scrollTop();c=b.outerHeight()+a.outerHeight();if(p=="center")k+=c/2;if(p=="bottom")k+=c;a=a.outerWidth();if(l=="center")f-=(a+b.outerWidth())/2;if(l=="left")f-=a;return{top:k,left:f}}function y(a){function b(){return this.getAttribute("type")==a}b.key="[type="+a+"]";return b}function u(a,
b,c){function k(g,d,i){if(!(!c.grouped&&g.length)){var j;if(i===false||e.isArray(i)){j=h.messages[d.key||d]||h.messages["*"];j=j[c.lang]||h.messages["*"].en;(d=j.match(/\$\d/g))&&e.isArray(i)&&e.each(d,function(m){j=j.replace(this,i[m])})}else j=i[c.lang]||i;g.push(j)}}var f=this,l=b.add(f);a=a.not(":button, :image, :reset, :submit");e.extend(f,{getConf:function(){return c},getForm:function(){return b},getInputs:function(){return a},reflow:function(){a.each(function(){var g=e(this),d=g.data("msg.el");
if(d){g=t(g,d,c);d.css({top:g.top,left:g.left})}});return f},invalidate:function(g,d){if(!d){var i=[];e.each(g,function(j,m){j=a.filter("[name='"+j+"']");if(j.length){j.trigger("OI",[m]);i.push({input:j,messages:[m]})}});g=i;d=e.Event()}d.type="onFail";l.trigger(d,[g]);d.isDefaultPrevented()||q[c.effect][0].call(f,g,d);return f},reset:function(g){g=g||a;g.removeClass(c.errorClass).each(function(){var d=e(this).data("msg.el");if(d){d.remove();e(this).data("msg.el",null)}}).unbind(c.errorInputEvent||
"");return f},destroy:function(){b.unbind(c.formEvent+".V").unbind("reset.V");a.unbind(c.inputEvent+".V").unbind("change.V");return f.reset()},checkValidity:function(g,d){g=g||a;g=g.not(":disabled");if(!g.length)return true;d=d||e.Event();d.type="onBeforeValidate";l.trigger(d,[g]);if(d.isDefaultPrevented())return d.result;var i=[];g.not(":radio:not(:checked)").each(function(){var m=[],n=e(this).data("messages",m),v=r&&n.is(":date")?"onHide.v":c.errorInputEvent+".v";n.unbind(v);e.each(w,function(){var o=
this,s=o[0];if(n.filter(s).length){o=o[1].call(f,n,n.val());if(o!==true){d.type="onBeforeFail";l.trigger(d,[n,s]);if(d.isDefaultPrevented())return false;var x=n.attr(c.messageAttr);if(x){m=[x];return false}else k(m,s,o)}}});if(m.length){i.push({input:n,messages:m});n.trigger("OI",[m]);c.errorInputEvent&&n.bind(v,function(o){f.checkValidity(n,o)})}if(c.singleError&&i.length)return false});var j=q[c.effect];if(!j)throw'Validator: cannot find effect "'+c.effect+'"';if(i.length){f.invalidate(i,d);return false}else{j[1].call(f,
g,d);d.type="onSuccess";l.trigger(d,[g]);g.unbind(c.errorInputEvent+".v")}return true}});e.each("onBeforeValidate,onBeforeFail,onFail,onSuccess".split(","),function(g,d){e.isFunction(c[d])&&e(f).bind(d,c[d]);f[d]=function(i){i&&e(f).bind(d,i);return f}});c.formEvent&&b.bind(c.formEvent+".V",function(g){if(!f.checkValidity(null,g))return g.preventDefault()});b.bind("reset.V",function(){f.reset()});a[0]&&a[0].validity&&a.each(function(){this.oninvalid=function(){return false}});if(b[0])b[0].checkValidity=
f.checkValidity;c.inputEvent&&a.bind(c.inputEvent+".V",function(g){f.checkValidity(e(this),g)});a.filter(":checkbox, select").filter("[required]").bind("change.V",function(g){var d=e(this);if(this.checked||d.is("select")&&e(this).val())q[c.effect][1].call(f,d,g)});var p=a.filter(":radio").change(function(g){f.checkValidity(p,g)});e(window).resize(function(){f.reflow()})}e.tools=e.tools||{version:"1.2.5"};var z=/\[type=([a-z]+)\]/,A=/^-?[0-9]*(\.[0-9]+)?$/,r=e.tools.dateinput,B=/^([a-z0-9_\.\-\+]+)@([\da-z\.\-]+)\.([a-z\.]{2,6})$/i,
C=/^(https?:\/\/)?[\da-z\.\-]+\.[a-z\.]{2,6}[#&+_\?\/\w \.\-=]*$/i,h;h=e.tools.validator={conf:{grouped:false,effect:"default",errorClass:"invalid",inputEvent:null,errorInputEvent:"keyup",formEvent:"submit",lang:"en",message:"<div/>",messageAttr:"data-message",messageClass:"error",offset:[0,0],position:"center right",singleError:false,speed:"normal"},messages:{"*":{en:"Please correct this value"}},localize:function(a,b){e.each(b,function(c,k){h.messages[c]=h.messages[c]||{};h.messages[c][a]=k})},
localizeFn:function(a,b){h.messages[a]=h.messages[a]||{};e.extend(h.messages[a],b)},fn:function(a,b,c){if(e.isFunction(b))c=b;else{if(typeof b=="string")b={en:b};this.messages[a.key||a]=b}if(b=z.exec(a))a=y(b[1]);w.push([a,c])},addEffect:function(a,b,c){q[a]=[b,c]}};var w=[],q={"default":[function(a){var b=this.getConf();e.each(a,function(c,k){c=k.input;c.addClass(b.errorClass);var f=c.data("msg.el");if(!f){f=e(b.message).addClass(b.messageClass).appendTo(document.body);c.data("msg.el",f)}f.css({visibility:"hidden"}).find("p").remove();
e.each(k.messages,function(l,p){e("<p/>").html(p).appendTo(f)});f.outerWidth()==f.parent().width()&&f.add(f.find("p")).css({display:"inline"});k=t(c,f,b);f.css({visibility:"visible",position:"absolute",top:k.top,left:k.left}).fadeIn(b.speed)})},function(a){var b=this.getConf();a.removeClass(b.errorClass).each(function(){var c=e(this).data("msg.el");c&&c.css({visibility:"hidden"})})}]};e.each("email,url,number".split(","),function(a,b){e.expr[":"][b]=function(c){return c.getAttribute("type")===b}});
e.fn.oninvalid=function(a){return this[a?"bind":"trigger"]("OI",a)};h.fn(":email","Please enter a valid email address",function(a,b){return!b||B.test(b)});h.fn(":url","Please enter a valid URL",function(a,b){return!b||C.test(b)});h.fn(":number","Please enter a numeric value.",function(a,b){return A.test(b)});h.fn("[max]","Please enter a value smaller than $1",function(a,b){if(b===""||r&&a.is(":date"))return true;a=a.attr("max");return parseFloat(b)<=parseFloat(a)?true:[a]});h.fn("[min]","Please enter a value larger than $1",
function(a,b){if(b===""||r&&a.is(":date"))return true;a=a.attr("min");return parseFloat(b)>=parseFloat(a)?true:[a]});h.fn("[required]","Please complete this mandatory field.",function(a,b){if(a.is(":checkbox"))return a.is(":checked");return!!b});h.fn("[pattern]",function(a){var b=new RegExp("^"+a.attr("pattern")+"$");return b.test(a.val())});e.fn.validator=function(a){var b=this.data("validator");if(b){b.destroy();this.removeData("validator")}a=e.extend(true,{},h.conf,a);if(this.is("form"))return this.each(function(){var c=
e(this);b=new u(c.find(":input"),c,a);c.data("validator",b)});else{b=new u(this,this.eq(0).closest("form"),a);return this.data("validator",b)}}})(jQuery);

function NumberFormat(a,b){this.VERSION="Number Format v1.5.4";this.COMMA=",";this.PERIOD=".";this.DASH="-";this.LEFT_PAREN="(";this.RIGHT_PAREN=")";this.LEFT_OUTSIDE=0;this.LEFT_INSIDE=1;this.RIGHT_INSIDE=2;this.RIGHT_OUTSIDE=3;this.LEFT_DASH=0;this.RIGHT_DASH=1;this.PARENTHESIS=2;this.NO_ROUNDING=-1;
this.num;this.numOriginal;this.hasSeparators=false;this.separatorValue;this.inputDecimalValue;this.decimalValue;this.negativeFormat;this.negativeRed;this.hasCurrency;this.currencyPosition;this.currencyValue;this.places;this.roundToPlaces;this.truncate;this.setNumber=setNumberNF;this.toUnformatted=toUnformattedNF;
this.setInputDecimal=setInputDecimalNF;this.setSeparators=setSeparatorsNF;this.setCommas=setCommasNF;this.setNegativeFormat=setNegativeFormatNF;this.setNegativeRed=setNegativeRedNF;this.setCurrency=setCurrencyNF;this.setCurrencyPrefix=setCurrencyPrefixNF;this.setCurrencyValue=setCurrencyValueNF;this.setCurrencyPosition=setCurrencyPositionNF;
this.setPlaces=setPlacesNF;this.toFormatted=toFormattedNF;this.toCurrency=toCurrency;this.toPercentage=toPercentageNF;this.getOriginal=getOriginalNF;this.moveDecimalRight=moveDecimalRightNF;this.moveDecimalLeft=moveDecimalLeftNF;this.getRounded=getRoundedNF;this.preserveZeros=preserveZerosNF;this.justNumber=justNumberNF;
this.expandExponential=expandExponentialNF;this.getZeros=getZerosNF;this.moveDecimalAsString=moveDecimalAsStringNF;this.moveDecimal=moveDecimalNF;this.addSeparators=addSeparatorsNF;if(b==null){this.setNumber(a,this.PERIOD);}else{this.setNumber(a,b);}this.setCommas(true);this.setNegativeFormat(this.LEFT_DASH);
this.setNegativeRed(false);this.setCurrency(false);this.setCurrencyPrefix("$");this.setPlaces(2);}function setInputDecimalNF(a){this.inputDecimalValue=a;}function setNumberNF(a,b){if(b!=null){this.setInputDecimal(b);}this.numOriginal=a;this.num=this.justNumber(a);}function toUnformattedNF(){return(this.num);
}function getOriginalNF(){return(this.numOriginal);}function setNegativeFormatNF(a){this.negativeFormat=a;}function setNegativeRedNF(a){this.negativeRed=a;}function setSeparatorsNF(b,c,a){this.hasSeparators=b;if(c==null){c=this.COMMA;}if(a==null){a=this.PERIOD;}if(c==a){this.decimalValue=(a==this.PERIOD)?this.COMMA:this.PERIOD;
}else{this.decimalValue=a;}this.separatorValue=c;}function setCommasNF(a){this.setSeparators(a,this.COMMA,this.PERIOD);}function setCurrencyNF(a){this.hasCurrency=a;}function setCurrencyValueNF(a){this.currencyValue=a;}function setCurrencyPrefixNF(a){this.setCurrencyValue(a);this.setCurrencyPosition(this.LEFT_OUTSIDE);
}function setCurrencyPositionNF(a){this.currencyPosition=a;}function setPlacesNF(b,a){this.roundToPlaces=!(b==this.NO_ROUNDING);this.truncate=(a!=null&&a);this.places=(b<0)?0:b;}function addSeparatorsNF(d,e,a,c){d+="";var f=d.indexOf(e);var g="";if(f!=-1){g=a+d.substring(f+1,d.length);d=d.substring(0,f);
}var b=/(\d+)(\d{3})/;while(b.test(d)){d=d.replace(b,"$1"+c+"$2");}return d+g;}function toFormattedNF(){var l;var m=this.num;var a;var b=new Array(2);if(this.roundToPlaces){m=this.getRounded(m);a=this.preserveZeros(Math.abs(m));}else{a=this.expandExponential(Math.abs(m));}if(this.hasSeparators){a=this.addSeparators(a,this.PERIOD,this.decimalValue,this.separatorValue);
}else{a=a.replace(new RegExp("\\"+this.PERIOD),this.decimalValue);}var f="";var k="";var e="";var j="";var h="";var d="";var g="";var c="";var n=(this.negativeFormat==this.PARENTHESIS)?this.LEFT_PAREN:this.DASH;var i=(this.negativeFormat==this.PARENTHESIS)?this.RIGHT_PAREN:this.DASH;if(this.currencyPosition==this.LEFT_OUTSIDE){if(m<0){if(this.negativeFormat==this.LEFT_DASH||this.negativeFormat==this.PARENTHESIS){j=n;
}if(this.negativeFormat==this.RIGHT_DASH||this.negativeFormat==this.PARENTHESIS){h=i;}}if(this.hasCurrency){f=this.currencyValue;}}else{if(this.currencyPosition==this.LEFT_INSIDE){if(m<0){if(this.negativeFormat==this.LEFT_DASH||this.negativeFormat==this.PARENTHESIS){k=n;}if(this.negativeFormat==this.RIGHT_DASH||this.negativeFormat==this.PARENTHESIS){g=i;
}}if(this.hasCurrency){e=this.currencyValue;}}else{if(this.currencyPosition==this.RIGHT_INSIDE){if(m<0){if(this.negativeFormat==this.LEFT_DASH||this.negativeFormat==this.PARENTHESIS){k=n;}if(this.negativeFormat==this.RIGHT_DASH||this.negativeFormat==this.PARENTHESIS){g=i;}}if(this.hasCurrency){d=this.currencyValue;
}}else{if(this.currencyPosition==this.RIGHT_OUTSIDE){if(m<0){if(this.negativeFormat==this.LEFT_DASH||this.negativeFormat==this.PARENTHESIS){j=n;}if(this.negativeFormat==this.RIGHT_DASH||this.negativeFormat==this.PARENTHESIS){h=i;}}if(this.hasCurrency){c=this.currencyValue;}}}}}a=f+k+e+j+a+h+d+g+c;if(this.negativeRed&&m<0){a='<font color="red">'+a+"</font>";
}return(a);}function toCurrency(){var l;var m=this.num;var a;var b=new Array(2);if(this.roundToPlaces){m=this.getRounded(m);a=this.preserveZeros(Math.abs(m));}else{a=this.expandExponential(Math.abs(m));}if(this.hasSeparators){a=this.addSeparators(a,this.PERIOD,this.decimalValue,this.separatorValue);}else{a=a.replace(new RegExp("\\"+this.PERIOD),this.decimalValue);
}var f="";var k="";var e="";var j="";var h="";var d="";var g="";var c="";var n=(this.negativeFormat==this.PARENTHESIS)?this.LEFT_PAREN:this.DASH;var i=(this.negativeFormat==this.PARENTHESIS)?this.RIGHT_PAREN:this.DASH;if(this.currencyPosition==this.LEFT_OUTSIDE){if(m<0){if(this.negativeFormat==this.LEFT_DASH||this.negativeFormat==this.PARENTHESIS){j=n;
}if(this.negativeFormat==this.RIGHT_DASH||this.negativeFormat==this.PARENTHESIS){h=i;}}if(this.hasCurrency){f=this.currencyValue;}}else{if(this.currencyPosition==this.LEFT_INSIDE){if(m<0){if(this.negativeFormat==this.LEFT_DASH||this.negativeFormat==this.PARENTHESIS){k=n;}if(this.negativeFormat==this.RIGHT_DASH||this.negativeFormat==this.PARENTHESIS){g=i;
}}if(this.hasCurrency){e=this.currencyValue;}}else{if(this.currencyPosition==this.RIGHT_INSIDE){if(m<0){if(this.negativeFormat==this.LEFT_DASH||this.negativeFormat==this.PARENTHESIS){k=n;}if(this.negativeFormat==this.RIGHT_DASH||this.negativeFormat==this.PARENTHESIS){g=i;}}if(this.hasCurrency){d=this.currencyValue;
}}else{if(this.currencyPosition==this.RIGHT_OUTSIDE){if(m<0){if(this.negativeFormat==this.LEFT_DASH||this.negativeFormat==this.PARENTHESIS){j=n;}if(this.negativeFormat==this.RIGHT_DASH||this.negativeFormat==this.PARENTHESIS){h=i;}}if(this.hasCurrency){c=this.currencyValue;}}}}}a=k+j+a+h+g;if(this.negativeRed&&m<0){a='<font color="red">'+a+"</font>";
}return(a);}function toPercentageNF(){nNum=this.num*100;nNum=this.getRounded(nNum);return nNum+"%";}function getZerosNF(a){var c="";var b;for(b=0;b<a;b++){c+="0";}return c;}function expandExponentialNF(b){if(isNaN(b)){return b;}var d=parseFloat(b)+"";var g=d.toLowerCase().indexOf("e");if(g!=-1){var a=d.toLowerCase().indexOf("+");
var e=d.toLowerCase().indexOf("-",g);var f=d.substring(0,g);if(e!=-1){var c=d.substring(e+1,d.length);f=this.moveDecimalAsString(f,true,parseInt(c));}else{if(a==-1){a=g;}var c=d.substring(a+1,d.length);f=this.moveDecimalAsString(f,false,parseInt(c));}d=f;}return d;}function moveDecimalRightNF(c,b){var a="";
if(b==null){a=this.moveDecimal(c,false);}else{a=this.moveDecimal(c,false,b);}return a;}function moveDecimalLeftNF(c,b){var a="";if(b==null){a=this.moveDecimal(c,true);}else{a=this.moveDecimal(c,true,b);}return a;}function moveDecimalAsStringNF(d,e,a){var i=(arguments.length<3)?this.places:a;if(i<=0){return d;
}var b=d+"";var f=this.getZeros(i);var h=new RegExp("([0-9.]+)");if(e){b=b.replace(h,f+"$1");var g=new RegExp("(-?)([0-9]*)([0-9]{"+i+"})(\\.?)");b=b.replace(g,"$1$2.$3");}else{var c=h.exec(b);if(c!=null){b=b.substring(0,c.index)+c[1]+f+b.substring(c.index+c[0].length);}var g=new RegExp("(-?)([0-9]*)(\\.?)([0-9]{"+i+"})");
b=b.replace(g,"$1$2$4.");}b=b.replace(/\.$/,"");return b;}function moveDecimalNF(d,c,b){var a="";if(b==null){a=this.moveDecimalAsString(d,c);}else{a=this.moveDecimalAsString(d,c,b);}return parseFloat(a);}function getRoundedNF(a){a=this.moveDecimalRight(a);if(this.truncate){a=a>=0?Math.floor(a):Math.ceil(a);
}else{a=Math.round(a);}a=this.moveDecimalLeft(a);return a;}function preserveZerosNF(c){var b;c=this.expandExponential(c);if(this.places<=0){return c;}var a=c.indexOf(".");if(a==-1){c+=".";for(b=0;b<this.places;b++){c+="0";}}else{var e=(c.length-1)-a;var d=this.places-e;for(b=0;b<d;b++){c+="0";}}return c;
}function justNumberNF(e){newVal=e+"";var d=false;if(newVal.indexOf("%")!=-1){newVal=newVal.replace(/\%/g,"");d=true;}var b=new RegExp("[^\\"+this.inputDecimalValue+"\\d\\-\\+\\(\\)eE]","g");newVal=newVal.replace(b,"");var f=new RegExp("["+this.inputDecimalValue+"]","g");var c=f.exec(newVal);if(c!=null){var a=newVal.substring(c.index+c[0].length);
newVal=newVal.substring(0,c.index)+this.PERIOD+a.replace(f,"");}if(newVal.charAt(newVal.length-1)==this.DASH){newVal=newVal.substring(0,newVal.length-1);newVal="-"+newVal;}else{if(newVal.charAt(0)==this.LEFT_PAREN&&newVal.charAt(newVal.length-1)==this.RIGHT_PAREN){newVal=newVal.substring(1,newVal.length-1);
newVal="-"+newVal;}}newVal=parseFloat(newVal);if(!isFinite(newVal)){newVal=0;}if(d){newVal=this.moveDecimalLeft(newVal,2);}return newVal;}
var ajaxTimeouts = { 'shortTimeout' : 15000, 'mediumTimeout' : 30000, 'longTimeout' : 120000};
// set global ajax timeout
$.ajaxSetup({
	timeout: ajaxTimeouts['shortTimeout']
});

//Preloader
function displayOCCLoad(){
    jQuery('#OCCLoaded').hide();
    jQuery('#OCCLoad').fadeIn();
}
function removeOCCLoad(){
    jQuery('#OCCLoad').hide();
    jQuery('#OCCLoaded').fadeIn();
}
//Expiration date from secondsLeft
function displayTime(time){
    var days = Math.floor(time / 86400);
    var hours = Math.floor((time - days*86400) / 3600);
    var minutes = Math.floor((time - days*86400 - hours*3600) / 60);
    var seconds = time - days*86400 - hours*3600 - minutes*60;
    var timestring = '';
    timestring = days + 'D ' + hours + 'H ' + minutes + 'M';

    $(document).ready(function() {
        if($('#countdown').length > 0){
            if($('#chckOutCounter').length > 0){
                countdown('countdown');
            }
        }
    });

    function countdown(element) {
        interval = setInterval(function() {
            var el = document.getElementById(element);
            if (seconds < 10) {
                seconds = "0" + seconds;
            }
            if (hours > 0) {
                document.getElementById("chckOutCounter").style.display = 'none';
            }
            if (days > 0) {
                document.getElementById("chckOutCounter").style.display = 'none';
            }
            if (seconds == 0) {
                if (minutes == 0) {
                    el.innerHTML = document.getElementById("chckOutCounter").style.display = 'none';
                    clearInterval(interval);
                    return;
                } else {
                    minutes--;
                    seconds = 60;
                }
            }
            if (minutes >= 10) {
                var minute_text = minutes + (minutes > 1 ? ':' : ':');
            }

            else if (minutes < 10) {
                var minute_text = "0" + minutes + (minutes > 1 ? ':' : ':');
            }
            else if (minutes == 0) {
                var minute_text = '00:';
            }
            var second_text = seconds > 1 ? 'seconds' : 'second';
            el.innerHTML = minute_text + seconds + ' ';
            seconds--;
        }, 1000);
    }
    return timestring;
}

//Formating all dates from json
function dateFormat(date){
	if (date)
	{
	    var date_formated = date;
	    date_formated = date_formated.split('T');
	    date_formated = date_formated[0].split('-');
	    date_formated = date_formated[1] + "/" + date_formated[2] + "/" + date_formated[0];
	
	    return date_formated;
	}
	else
	{
		return "";
	}
}
function displaySubmittedOrderCallback(data){
    jQuery('#error_response').html("<h1>Thank you for your order! Your order number is: <span id='orderId'>" + data.orderId + "</span></h1>");
    jQuery('#error_response').show();

    jQuery('div#OCC .edit').hide();
    jQuery('#submitPayNow').hide();
    jQuery('#close_occ_button').show();

    // build purchasePixel iframe
    jQuery('<iframe />').attr({
        name: 'occ_purchasePixelIframe',
        id:   'occ_purchasePixelIframe',
        scrolling: 'no'
    }).appendTo('div#oneClickCheckout');

    // write purchasePixel to iframe
    var ifrm = document.getElementById('occ_purchasePixelIframe');
    ifrm = (ifrm.contentWindow) ? ifrm.contentWindow : (ifrm.contentDocument.document) ? ifrm.contentDocument.document : ifrm.contentDocument;
    ifrm.document.open();
    ifrm.document.write(data.purchasePixel);
    ifrm.document.close();

    // update status of floating OCC tab
    checkOCC();
}
// jQuery extension to center element in middle of screen
jQuery.fn.center = function (divId) {
    this.css("top", (($(window).height() - this.outerHeight()) / 2) + "px");
    this.css("left", (($(window).width() - $('#'+divId).outerWidth()) / 2) + "px");
    return this;

}

jQuery(document).ready(function($) {
	// set variables
	var topUrl = stripUrlParam(top.location.href, 'dialog');

	
	// set core functions
	function stripUrlParam(url, name){
		url = url.replace("&"+name, "");
		url = url.replace("="+name, "");
		
		return url;
	}
	
	
	// set core objects
	// Overlay data object
		var dialogWrapperObj = $("div#dialogWrapper");
		var dialogWrapperNonFloatingObj = $("div#dialogWrapperNonFloating");
		
		dialogWrapperObj.overlay({ //setting up jquery.tools overlay
			speed: 200,
			mask: {
				color: '#000',
				loadSpeed: 0,
				opacity: 0.9
			},
			onBeforeClose: function(){
				$('.error').hide();
				$('div#dialog_error_message').hide();
			},
			onLoad: function(){
				$('input#ajax_username').focus();
			}
		});

        dialogWrapperNonFloatingObj.overlay({ //setting up jquery.tools overlay
            speed: 200,
            fixed: false,
            mask: {
                color: '#000',
                loadSpeed: 0,
                opacity: 0.3
            },
            onBeforeClose: function(){
                $('.error').hide();
                $('div#dialog_error_message').hide();
            },
            onLoad: function(){
                $('input#ajax_username').focus();
            }
        });
        
	// END Overlay data object
	
	
	// postMessage Dialogs
		// Display Dialog
		function displayDialog(positionFromTop){
			dialogWrapperObj.data('overlay').load();
			dialogWrapperObj.css('top', positionFromTop + '%');
            dialogWrapperObj.css("left", (($(window).width() - dialogWrapperObj.outerWidth()) / 2) + "px");
            
            
        }
		
		
		// Build Dialog
		function buildDialog(divId, title, closeButton, iframeSrc, iframeWidth, iframeHeight){
			var returnURL = document.location.href;
			
			// if this is IE6 or 7 we need to clean up the returnURL just in case there was some lingering postMessage logic from a previous action
			returnURL = returnURL.split('#');
			returnURL = returnURL[0];
			
			returnURL = escape(returnURL);
			iframeSrc+='&returnURL=' + returnURL;
			
			var dialogWrapper = $('div#dialogWrapper');
			dialogWrapper.html('');

            var htmlAppend = ''
            + '<div id="' + divId + '" style="width:' + iframeWidth + 'px; height:' + (iframeHeight) + 'px">'
                //dialog close button
                +' <a class="' + closeButton + ' btnCloseAbs posAbs"></a>'
                //dialog module
                +' <div class="mod dialog man">'
                    +'<b class="top">'
                        +' <b class="tl"></b>'
                        +' <b class="tr"></b>'
                    +'</b>'
                    +' <div class="inner">'
                        //dialog header title
                        +'<div class="hd pvs phm">'+title+'</div>'
                        //module body which will be loaded with frameSrc
                        +'<div id="frame_' + divId + '" class="bd pam">'
                            +'<iframe id="iframe_' + divId + '" src="' + iframeSrc + '" width="' + iframeWidth + '" height="' + (iframeHeight-40) + '" scrolling="no" frameborder="0"><\/iframe>'
                        +'</div>'
                    +'</div>' //close inner
                    +'<b class="bottom">'
                        +'<b class="bl"></b>'
                        +'<b class="br"></b>'
                    +'</b>'
                +'</div>'; // close mod

			dialogWrapper.append(htmlAppend);
		}
		
		// Dialogs
			// USER FUNCTIONALITY
				var OCCtabObj = $('div#OCCtab');
				$('div#toolbar .downarr a').click(function(){
					// check if OCCtab exists
					if(OCCtabObj.length >0 ){
						// check if OCCtab is visible needs to remain a separate conditional
						// IE7 Cannot Animate Borders
						if(ObjBrowserDetect.isIE7()){
							if(OCCtabObj.is(":visible")){
								OCCtabObj.animate({bottom: '-=32px'}, {duration: 200});
								OCCtabObj.css({'border-bottom': '2px solid #b22564'});
							}
						}else{
							if(OCCtabObj.is(":visible")){
								OCCtabObj.animate({bottom: '-=32px'}, {duration: 200});
								OCCtabObj.animate({ 'border-bottom': '2px solid #b22564'}, {duration:300});
							}
						}
					}
				});
			
				// Newsletter Subscription Confirmation Dialog
					function subscriptionCallback(data, status){
						//alert('data: ' + data + ", status: "+ status);
						var divId			=	'subscription_dialog';
						var title			=	'<h2>Newsletter</h2>';
						var closeButton		=	'closeSubscriptionDialog';
						var iframeSrc 		=	securePrefix + "/bzJApp/ViewDialog.action?sid=" + SiteID + "&tid=" + TenantID + "&pageName=subscriptionSuccess&versionID=" + VersionID;
						var iframeWidth 	=	370;
						var iframeHeight	=	150;
						
						buildDialog(divId, title, closeButton, iframeSrc, iframeWidth, iframeHeight);
						
						var positionFromTop	=	20;
						displayDialog(positionFromTop);
						
						if ($("div#newsletterBar").is(":visible")) {
							$('a#hideNewsletterBar').click();
						}
					} 
					// submit subscription
					$('input.ajax_subscription_button').live("click", function(event) {
                        event.preventDefault();
                        //using this validation for more than one form
                        var parentForm = "form#"+$(this).closest('form').attr('id');

                        //form validation
                        $(parentForm).validate({
                            rules: {
                                email: {
                                    required: true,
                                    email: true
                                }
                            },
                            messages: {
                                email: "Enter a valid email."
                            },
                            errorPlacement: function(error, element) {
                                error.addClass("negative");
                                error.appendTo(element.parent());
                            }
                        });

                        //on success validation
                        if($(parentForm).validate().form()){
                            var emailValue = $(parentForm).find('input[name="email"]').first().val();
                            if (emailValue == null || emailValue == "") {
                                // different forms emails
                                var barEmail = $('#newsBarForm input.enterEmail').val();
                                var subscribeEmail = $('#subscribeForm input.enterEmail').val();

                                if(barEmail != "" && barEmail != null){
                                    emailValue = barEmail;
                                }else if(subscribeEmail != "" && subscribeEmail != null){
                                    emailValue = subscribeEmail;
                                }
                            }

                            var urlPath = location.protocol + '//' + window.location.hostname;
                            querystring = urlPath + "/bzJApp/Proxy.action?actionName=XMLSubscribeCustAction&dest=c&sid=" + SiteID + "&tid=" + TenantID + "&params=";
                            param = "sid=" + SiteID + "&tid=" + TenantID + "&email=" + emailValue;
                            param = escape(param);

                            querystring = querystring + param;
                            //alert("querystring = " + querystring);

                            dialogWrapperObj.load(querystring, subscriptionCallback);
                        }
					});
					
					$('input#send_toolbar').live("click", function(event) {
                        event.preventDefault();

                        //form validation
                        $("form#newsBarForm").validate({
                            rules: {
                                email: {
                                    required: true,
                                    email: true
                                }
                            },
                            messages: {
                                email: "Enter a valid email."
                            },
                            errorPlacement: function(error, element) {
                                error.addClass("negative");
                                error.appendTo(element.parent());
                            }
                        });

                        //on success validation
                        if($("form#newsBarForm").validate().form()){
                            var emailValue = $('#newsBarForm input.enterEmail').val();

                            var urlPath = location.protocol + '//' + window.location.hostname;
                            querystring = urlPath + "/bzJApp/Proxy.action?actionName=XMLSubscribeCustAction&dest=c&sid=" + SiteID + "&tid=" + TenantID + "&params=";
                            param = "sid=" + SiteID + "&tid=" + TenantID + "&email=" + emailValue;
                            param = escape(param);

                            querystring = querystring + param;
                            //alert("querystring = " + querystring);

                            dialogWrapperObj.load(querystring, subscriptionCallback);
                        }
					});
					
					// close subscription
					$('.closeSubscriptionDialog').live("click", function(){
						dialogWrapperObj.overlay().close();
					});
					
					
				// END Subscription Confirmation Dialog
			// END USER FUNCTIONALITY
		// END Dialogs
	// END postMessage Dialogs


        //One Click Checkout

        function displayDialogNonFloating(divId, positionFromTop, scrollOffset){
			// set initial top position
			var windowHeight 	= screen.height;
			var activeBottom 	= $('div#OCCtab').offset().top;
			positionFromTop = activeBottom-windowHeight + positionFromTop;
			//positionFromTop = positionFromTop<0?45:positionFromTop+scrollOffset;
			positionFromTop = positionFromTop<0?45:positionFromTop;

			dialogWrapperNonFloatingObj.data('overlay').load();
			dialogWrapperNonFloatingObj.center(divId).css('top', positionFromTop);
		}
});

// build future dialogs into this object and migrate existing dialogs into it
var 
	displayDialog,
	hostPrefix = window.location.protocol + '//' + window.location.hostname;

var 
	displayDialog;
	
jQuery(document).ready(function($) {
	
	// DIALOG OBJECT
		function objFramelessDialog(){
			// Pre-Define Parameters
				var htmlAppend, pos;
			// END: Pre-Define Parameters
			
			
			// Construct Additional Parameters
				this.setParameters = function(settings){
					this.closeButton		= 'closeDialog';
					this.divId				= settings['divId'];
					this.position           = settings['position'];
                    this.title				= settings['title'];
					this.frameSrc			= settings['frameSrc'];
					this.frameWidth			= settings['frameWidth'];
					this.frameHeight		= settings['frameHeight'];
					this.dialogWrapper		= $('div#' + settings['wrapper']);
					this.positionFromTop	= settings['positionFromTop'];
					this.msg				= settings.hasOwnProperty('msg')?settings['msg']:'';
					
					this.loadFrameSrc		= this.frameSrc!=''?true:false;
					
					// empty the dialogWrapper
					this.dialogWrapper.html('');
				}
			// END: Construct Additional Parameters

			// Build Dialogs
				// normal dialog
					this.buildFramelessDialog = function(){
						
						htmlAppend = ''
						+ '<div id="' + this.divId + '" style="width:' + this.frameWidth + 'px; height:' + (this.frameHeight) + 'px">';
						
						//if(this.wrapper == 'dialogWrapper' || this.divId == 'survey'){
							htmlAppend+= ''
                                //dialog close button
                                +' <a class="' + this.closeButton + ' btnCloseAbs posAbs"></a>'
                                //dialog module
                                +' <div class="mod dialog man">'
                                    +'<b class="top">'
                                        +' <b class="tl"></b>'
                                        +' <b class="tr"></b>'
                                    +'</b>'
                                    +' <div class="inner">';
						//}
						htmlAppend+= ''
                                        //dialog header title
                                        +'<div class="hd pvs phm">'+this.title+'</div>'
                                        //module body which will be loaded with frameSrc
                                        +'<div id="frame_' + this.divId + '" class="bd pam">' + this.msg + '</div>'
                                    +'</div>' //close inner
                                    +'<b class="bottom">'
                                        +'<b class="bl"></b>'
                                        +'<b class="br"></b>'
                                    +'</b>'
                                +'</div>'; // close mod
						this.dialogWrapper.append(htmlAppend);
						
						// load external content into div
						if(this.loadFrameSrc)
							$("div#frame_"+this.divId).load(this.frameSrc);
					}
				// END: normal dialog
			// END: Build Dialogs
			
			
			// Display Dialogs
				// normal dialog
				this.displayDialog = function(){
					this.dialogWrapper.data('overlay').load();

					// reposition dialog
					if(this.positionFromTop == 'center'){
						if(this.position == "absolute")
							this.dialogWrapper.center(this.divId);
						else {
							this.dialogWrapper.css("top", (($(window).height() - this.dialogWrapper.outerHeight()) / 2) + "px");
							this.dialogWrapper.css("left", (($(window).width() - this.dialogWrapper.outerWidth()) / 2) + "px");
						}

                    }else{
						this.dialogWrapper.center(this.divId).css('top', this.positionFromTop + '%');
					}

                    //set position of the dialog
                    switch(this.position){
                        case "absolute":
                            this.dialogWrapper.css("position","absolute");
                            break;
                        default:
                            this.dialogWrapper.css("position","fixed");
                    }
				}
				// END: normal dialog
			// END: Display Dialogs

// Generic Message Dialog using Frameless Dialog Engine
		// setup so you can pass a message into a dialog, without hitting the server and loading content into a wrapper
			this.displayGenericDialogMsg = function(title, msg, width, height){
				var settings = {
					divId:				'generic_message_dialog',
					title:				'<h2>' + title + '</h2>',
					frameSrc:			'',
					frameWidth:			width,
					frameHeight:		height,
					wrapper:			'dialogWrapper',
					positionFromTop:	'center',
					msg:				'<div>' + msg + '</div>'
				};
				
				// Dialog Object
				this.setParameters(settings);
				this.buildFramelessDialog();
				this.displayDialog();
			}
	
			// sample
			//displayGenericDialogMsg('My Title', 'My Message', 685, 150);
		// END: Generic Message Dialog
	}
	displayDialog = new objFramelessDialog();
// END: DIALOG OBJECT

	// Close Dialog Button
		$('.closeDialog').live("click", function(event){
			event.preventDefault();
			
			if($("div#dialogWrapper")){
				$("div#dialogWrapper").overlay().close();
			}
		});
	// END: Close Dialog Button


	// OCC Dialog Methods
		function displayOCCData(data){
			var occ_signupforfreeshipObj = $('#occ_signupforfreeship');
			var occ_freeshippingObj = $('#occ_freeshipping');
			if( data.meetsShippingPromoOrderMinimum && data.cartHasAuctionItems == false){
				if(data.customerNotifyFlag == 1){
					if(data.billTo.country == "US"){
						if(data.meetsShippingPromoOrderMinimum){
							occ_signupforfreeshipObj.hide();
							occ_freeshippingObj.text('Congratulations, your shipping is free!').show();
						}else{
							occ_freeshippingObj.hide();
							occ_signupforfreeshipObj.text('Signup for free shipping!').show();
						}
					}else{
						if(data.meetsShippingPromoOrderMinimum){
							occ_signupforfreeshipObj.hide();
							occ_freeshippingObj.text('Congratulations, your shipping is $4.99!').show();
						}else{
							occ_freeshippingObj.hide();
							occ_signupforfreeshipObj.text('Signup for $4.99 shipping!').show();
						}
					}
				}else{
					if(data.billTo.country == "US"){
						occ_freeshippingObj.hide();
						occ_signupforfreeshipObj.text('Signup for free shipping!').show();
					}else{
						occ_freeshippingObj.hide();
						occ_signupforfreeshipObj.text('Signup for $4.99 shipping!').show();
					}
				}
			}else {
				occ_signupforfreeshipObj.hide();
			}
	
			$("#orderId").text("Order Id: "+data.orderId);
	
			var hostPrefix = window.location.protocol + '//' + window.location.hostname;
	
			// build shopping cart content
			var occOrderItems = data.availableCustomerItems;
			var appendHTML = "";
			var storeCredit = data.storeCredit;
			for( var i in occOrderItems ) {
				var orderItem = occOrderItems[i];
				var brand = orderItem.productDAO.prodBrand;
				var title = orderItem.title;
				var thumb = orderItem.thumbnail;
				var color = orderItem.colorName;
				var size = orderItem.size;
				var estimatedDeliveryFrom = dateFormat(orderItem.customerItemDAO.estimatedDeliveryFrom);
				var estimatedDeliveryTo = dateFormat(orderItem.customerItemDAO.estimatedDeliveryTo);
				var expireDate = displayTime(orderItem.secondsLeft);
				var orderDate = dateFormat(orderItem.customerItemDAO.dateCreated);
	
				var productUrl = hostPrefix+"/bzJApp/SalesEventItemDisplay.action?itemid="+orderItem.axItemID +
					"&sid="+SiteID+
					"&tid="+TenantID+
					"&versionID=" + VersionID +
					"&selectedExternalColorId="+orderItem.color+
					"&saleEventId="+orderItem.customerItemDAO.salesEventId;
	
				//show if color or size exists in orderItem
				var colorHtml = "";
				var sizeHtml = "";
				if(color.length != 0 ){
					colorHtml =  "<p id='"+color+"'>Color: " + color + "</p>";
				}
				if(size != null ){
					 sizeHtml = "<p id='"+size+"'>Size: " + size + "</p>";
				}
	
				appendHTML+= ""
				+"<tr>"
					+"<td>"
						+ "<img class='oneClickCheckout_itemthumb' src='"+thumb+"' alt='' />"
					+"</td>"
					+"<td class='size1of2 txtL'>"
						+"<p class='itemTitle'><strong>"+brand+"</strong></p>"
						+"<p><a href='"+productUrl+"'>"+title+"</a></p>"
						+colorHtml
						+sizeHtml
						+"<p><strong>Reservation Expires in: "+expireDate+"</strong></p>"
						+"<p>Order Date: "+orderDate+"</p>"
						+"<p>Estimated Delivery to US Address: "+estimatedDeliveryFrom+" ~ "+estimatedDeliveryTo+"</p>"
						+"<p><strong>Return this item 30 days after shipping for cash back or store credit.</strong></p>"
					+"</td>"
					+"<td>"
						+"<p><strong>"+orderItem.customerItemDAO.quantity+"</strong></p>"
					+"</td>"
					+"<td>"
						+"<p><strong>$"+new NumberFormat(orderItem.customerItemDAO.amount).toCurrency()+"</strong></p>"
					+"</td>"
				+"</tr>";
			}
			// display shopping cart content
			$("#occTable").html(appendHTML);
	
			// billing info
			var billState = "";
			if(data.billTo.state != null){
				billState = data.billTo.state;
			}
			$("p#occBillingName").text(data.billTo.firstName + " " + data.billTo.lastName);
			$("p#occBillingAddress1").text(data.billTo.address1);
			$("p#occBillingAddress2").text(data.billTo.address2);
			$("p#occBillingCity").text(data.billTo.city + ", " + billState + " " + data.billTo.zipCode);
			$("p#occBillingCountry").text(data.billTo.country);
	
			// shipping info
			var shipState = "";
			if(data.billTo.state != null){
				shipState = data.billTo.state;
			}
			$("p#occShippingName").text(data.shipTo.firstName + " " + data.shipTo.lastName);
			$("p#occShippingAddress1").text(data.shipTo.address1);
			$("p#occShippingAddress2").text(data.shipTo.address2);
			$("p#occShippingCity").text(data.shipTo.city + ", " + shipState + " " + data.shipTo.zipCode);
			$("p#occShippingCountry").text(data.shipTo.country);
	
	
			// shipping calculations
			var shippingTotal = data.shipping - data.shippingDiscount;
			if(shippingTotal > 0){
				$("#occShippingTotal").text('$' + new NumberFormat(shippingTotal).toCurrency());
			}else{
				$("#occShippingTotal").text('Free Shipping');
			}
	
			// order summary
			$("#occSubTotal").text('$' + new NumberFormat(data.subTotal + data.tax + shippingTotal).toCurrency());
	
			//$("#occAuctionFeeTotal").text('$' + new NumberFormat(data.auctionFee).toCurrency());
			$("#occMerchandise").text('$' + new NumberFormat(data.subTotal).toCurrency());
			$("#occTaxTotal").text('$' + new NumberFormat(data.tax).toCurrency());
			$("#occCreditTotal").text('$' + new NumberFormat(data.storeCredit).toCurrency());
			$("#occFinalTotal").text('$' + new NumberFormat(data.total).toCurrency());
	
			// cc info
			$("#occCreditCard").text(data.defaultCreditCard.creditCardNumberMasked);
	
			// shipping method
			$("#occShippingMethodDescription").text(data.selectedShippingMethodDescription);
	
			// pixel
			//$("#purchasePixel").text(data.purchasePixel);
	
			// make content visible
			$('#frame_occ_dialog').css('visibility', 'visible');
	
			// remove preloader
			removeOCCLoad();
		}
		
		function resendPopulateOCCDialog(currentAttempt, defaultErrMsg){
			if(occPopulateAttempts <= occMaxPopulateAttempts){
				// resend populate dialog request
				populateOCCDialog(defaultErrMsg);
				
				// wait another 5 seconds and test if we should resend request again
				occResendTimer = setTimeout(function(){
					// check if the current attempt still equals the populate attempt which gets auto incremented when the populateOCCDialog function starts
					if(currentAttempt == occPopulateAttempts){
						occPopulateAttempts++;
						resendPopulateOCCDialog(occPopulateAttempts, defaultErrMsg);
					}
				},5000);
			}else{
				alert("There was an error gathering your information.  Please try again.");
			}
		}
		
		function populateOCCDialog(defaultErrMsg){
			occPopulateAttempts++;
			
			// make JSON call to get data
			querystring = securePrefix + "/bzJApp/ShowOneClickCOFormJson.action?";
			param = "sid=" + SiteID + "&tid=" + TenantID;
			querystring = querystring + param;
			
			//alert(querystring);
			var request = jQuery.ajax({
				type: "GET",
				url:querystring  + "&cb=" + Math.random() + "&callback=?",
				cache: false,
				jsonp:true,
				crossDomain:true,
				dataType:'jsonp',
				success: function(data){
					//console.log(data);
					// display data
					displayOCCData(data);
					occPopulateAttempts = 0;
					
					// display error response if there was a default one passed through to the function
					// this can happen if the checkout dialog was open and there was a processing/timeout error that populated the error box, before reopening the dialog 
					if(defaultErrMsg != '' && defaultErrMsg != null)
						$('div#OCCLoaded div#error_response').html(defaultErrMsg);
				},
				error: function(data){
					if(occPopulateAttempts <= occMaxPopulateAttempts){		// these variables are set before this function is called
						populateOCCDialog(defaultErrMsg);
					}else{
						alert("There was an error gathering your information.  Please try again.");
					}
				}
			});
		}
	
		// set necessary variables to manage error handling failsafes
		var 
			occPopulateAttempts = 0, 
			occMaxPopulateAttempts = 4,
			occResendTimer;
		
		$('a#OCCLink, a#expiring_occcheckout').click(function(event) {
			if (usePersistentLoginCookie =='Y' && !getModniqueCookie(checkoutCookieName))
			{
				event.preventDefault();
				$('a#usernav_login').trigger('click');
			}
			else
			{
				event.preventDefault();
				
				// grab error message if it is already populated
				// this can happen if the checkout dialog was open and there was a processing/timeout error that populated the error box, before reopening the dialog
				defaultErrMsg = null;
				if($('div#OCCLoaded .error_response').html() != '')
					defaultErrMsg = $('div#OCCLoaded div#error_response').html();
					
				$('.closeDialog ').click();
		
				// construct object settings from parameters
				var settings = {
					divId:				'OCCDialog',
					position:                'fixed',
					title:				'<h2 id="OCCheader">Modnique Express Checkout <span class="contrast"></span></h2>',
					frameSrc:			hostPrefix + "/bzJApp/ShowOneClickCOForm.action?sid=" + SiteID + "&tid=" + TenantID + "&versionID=" + VersionID,
					frameWidth:			790,
					frameHeight:		650,
					wrapper:			'dialogWrapper',
					positionFromTop:	5
				};
	
				// Dialog Object
				displayDialog.setParameters(settings);
				displayDialog.buildFramelessDialog();
				displayDialog.displayDialog();
				
				// Populate the One Click Checkout dialog
					// reset attempts back to 0;
					occPopulateAttempts = 0;
					
					// clear old timeout just in case user is repeatedly trying to open the OCC Dialog
					clearTimeout(occResendTimer);
			
					// default populate OCC dialog function
					populateOCCDialog(defaultErrMsg);
					
					// make sure the populateOCCDialog is triggered and that the js stacking order didn't get inturrupted.
					// resend populateOCCDialog request to prevent the dialog from locking up.
					occResendTimer = setTimeout(function(){
						if(occPopulateAttempts == 0 && $('#occFinalTotal').text()==''){
							occPopulateAttempts++;
							resendPopulateOCCDialog(occPopulateAttempts, defaultErrMsg);
						}
					},10000);
				// END: Populate the One Click Checkout dialog
			}
		});
	// END: OCC Dialog Methods


	// View Refund Lines
		$('a.refundType').click(function(event) {
			event.preventDefault();
			
			// construct object settings from parameters
			var refundNum = $(this).attr("rel");
			var settings = {
				divId:				'showRefundLines_dialog',
				title:				'<h2>Refund for: ' + refundNum + '</h2>',
				frameSrc:			hostPrefix + "/bzJApp/ViewRefundLines.action?sid=" + SiteID + "&tid=" + TenantID + "&versionID=" + VersionID + "&refundNum=" + refundNum,
				frameWidth:			500,
				frameHeight:		335,
				wrapper:			'dialogWrapper',
				positionFromTop:	25
			};
			
			// Dialog Object
			displayDialog.setParameters(settings);
			displayDialog.buildFramelessDialog();
			displayDialog.displayDialog();
		});
	// END: View Refund Lines
		
		// View Pending return items
		$('a.pendingReturnItem').click(function(event) {
			event.preventDefault();
			
			// construct object settings from parameters
			var rma = $(this).attr("rel");
			var settings = {
				divId:				'pendingReturnItem_dialog',
				title:				'<h2>Pending Return for: ' + rma + '</h2>',
				frameSrc:			hostPrefix + "/bzJApp/ViewPendingReturnItems.action?sid=" + SiteID + "&tid=" + TenantID + "&versionID=" + VersionID + "&rma=" + rma,
				frameWidth:			500,
				frameHeight:		335,
				wrapper:			'dialogWrapper',
				positionFromTop:	25
			};
			
			// Dialog Object
			displayDialog.setParameters(settings);
			displayDialog.buildFramelessDialog();
			displayDialog.displayDialog();
		});
	// END: View Pending return items

	// Login Dialog
		function prepareLoginDialog(dialogFrameSrc, returnUrl){
			// check if dialogWraper is built and dynamically build it, if it's not available
			if( $('div#dialogWrapper').length <= 0){
				$('<div />').attr({
					id: 'dialogWrapper'
				}).appendTo('body');
			}
			
			// construct object settings from parameters
			var settings = {
				divId:				'showLogin_dialog',
				title:				"<h2>Log in to continue shopping on Modnique</h2>",
				frameSrc:			dialogFrameSrc,
				frameWidth:			650,
				wrapper:			'dialogWrapper',
				positionFromTop:	25
			};
			
			// Dialog Object
			displayDialog.setParameters(settings);
			displayDialog.buildFramelessDialog();
			displayDialog.displayDialog();
			
			$('#ajax_dialogReturnUrl').val(returnUrl);
			
			// dynamically adjust css
			$('div#showLogin_dialog').css({
				'border':'none'	
			});
			window.currentReturnURL = returnUrl;
		}
		
		// dynamically generated open_login_button
		$('a#open_login_button').live('click', function(event) {
			
			var returnUrl = document.location.href;
			var dialogFrameSrc = hostPrefix + '/bzJApp/ViewDialog.action?sid=' + SiteID + '&tid=' + TenantID + '&pageName=login&versionID=' + VersionID + '&returnURL=' + escape(returnUrl);
			
			prepareLoginDialog(dialogFrameSrc, returnUrl);
		});
		
		// login from top nav utilites
		$('a#usernav_login').live('click', function(event, retUrl) {
			event.preventDefault();
			event.stopPropagation();
			var returnUrl = (retUrl==''||retUrl==null?document.location.href:retUrl).replace('showLogin=true','').replace('showLogin=confirm','');

			var dialogFrameSrc = hostPrefix + '/bzJApp/ViewDialog.action?sid=' + SiteID + '&tid=' + TenantID + '&pageName=login&versionID=' + VersionID + '&returnURL=' + escape(returnUrl);
			
			if(document.location.href.lastIndexOf('showLogin=confirm') != -1)
				dialogFrameSrc += '&showLogin=confirm';
			
			dialogFrameSrc += "&loginFromTopNav=Y&hostPrefix="+window.location.protocol + '//' + window.location.hostname;
			
			prepareLoginDialog(dialogFrameSrc, returnUrl);
		});
		
		// login from invite a friend utility
		$('a#nav_invite_login').click(function(event) {
			event.preventDefault();
			
			var param = "&invite=true";
			var returnUrl = requestURI + param;
			var dialogFrameSrc = hostPrefix + '/bzJApp/ViewDialog.action?sid=' + SiteID + '&tid=' + TenantID + '&pageName=login&versionID=' + VersionID + '&returnURL=' + escape(returnUrl);

			prepareLoginDialog(dialogFrameSrc, returnUrl);
		});
		
		// login from signup dialog
		$('a#loginLinkTop').live('click', function(event){
			event.preventDefault();
			
			$('a#usernav_login').trigger('click', window.currentReturnURL);
		});
		
		$('.makeOffer').click(function(event) {
			event.preventDefault();

			var returnUrl = document.location.href;
			var dialogFrameSrc = hostPrefix + '/bzJApp/ViewDialog.action?sid=' + SiteID + '&tid=' + TenantID + '&pageName=login&versionID=' + VersionID + '&returnURL=' + escape(returnUrl);

			prepareLoginDialog(dialogFrameSrc, returnUrl);
		});

		// login from addToBag button on product page
		$('a.bag_button, input.bag_botton').click(function (event){
			event.preventDefault();
			
			// empty dialog
			$("div#login_dialog").html('');
			
			// create returnUrl
				if( objSizeAndColorOptions.trim(objSizeAndColorOptions.selectedSize) == "" ){
					selectedSize = defaultSize;
				}
				if( objSizeAndColorOptions.trim(objSizeAndColorOptions.selectedColor) == "" ){
					externalColorId = defaultExternalColorId;
				}else{
					externalColorId = itemAvailabilityChecker.getColorIdByColorName(objSizeAndColorOptions.trim(objSizeAndColorOptions.selectedColor));
				}
				quantity = "1";
				if( $('input#quantity').length > 0 ){
					quantity = $('input#quantity').val();
				}
	
				objSizeAndColorOptions.fillSizeAndColor();
				var parentURLPrefix = modAddToCartLink;
	
				//  TRYING TO CONNECT TO SECURE ^^^^ from modAddToCartLink
				var returnUrl = parentURLPrefix + '?sid=' + SiteID + '&versionID=' + VersionID + '&salesEventItemId=' + salesEventItemId + '&salesEventId=' + salesEventId + '&productId=' + eventProductId + '&size=' + objSizeAndColorOptions.selectedSize + '&externalColorId=' +externalColorId + '&quantity=' + quantity;
			// END: create returnUrl
			
			var dialogFrameSrc = hostPrefix + '/bzJApp/ViewDialog.action?sid=' + SiteID + '&tid=' + TenantID + '&versionID=' + VersionID + '&pageName=login' + '&returnURL='+encodeURIComponent(returnUrl) + "&loginFromAddToBag=Y&hostPrefix="+window.location.protocol + '//' + window.location.hostname;
			
			prepareLoginDialog(dialogFrameSrc, returnUrl);
		});
		
		// login from addToBag button on event page
		// live is used because of dynamic content loading
			$('a.bag_button_new, input.bag_button_new').live('click', function (event){
				// empty dialog
				$("div#login_dialog").html('');
				
				var returnUrl = products.returnUrl;

				var dialogFrameSrc = hostPrefix + '/bzJApp/ViewDialog.action?sid=' + SiteID + '&tid=' + TenantID + '&versionID=' + VersionID + '&pageName=login' + '&returnURL='+encodeURIComponent(returnUrl) + "&loginFromAddToBag=Y&hostPrefix="+window.location.protocol + '//' + window.location.hostname;
				
				prepareLoginDialog(dialogFrameSrc, returnUrl);
			});

		// Open forgot password page
			$('a.forgotPasswordLink').live("click", function(event) {
				event.preventDefault();
				
				top.parent.location.replace("/bzJApp/ViewRememberPasswordForm.action?sid=300&tid=100&versionID=" + VersionID);
			});
		// Open forgot password page
	// END: Login Dialog

    function showSignUpDialog(returnUrl) {
        var dialogFrameSrc = hostPrefix + "/bzJApp/ViewDialog.action?sid=" + SiteID + "&tid=" + TenantID + "&pageName=signup&versionID=" + VersionID + "&returnURL='" + encodeURIComponent(returnUrl);
        // construct object settings from parameters
        var settings = {
            divId:'showSignup_dialog',
            title:"<h2>Two easy ways to join</h2>",
            frameSrc:dialogFrameSrc,
            frameWidth:650,
            wrapper:'dialogWrapper',
            positionFromTop:15
        };
        // Dialog Object
        displayDialog.setParameters(settings);
        displayDialog.buildFramelessDialog();
        displayDialog.displayDialog();
        // set returnUrl element in form
        $('<input>').attr({
            type:'hidden',
            id:'ajax_dialogReturnUrl',
            name:'ajax_dialogReturnUrl'
        }).appendTo('#showSignup_dialog');
        $('#ajax_dialogReturnUrl').val(returnUrl);
        
        // dynamically adjust css
        $('input#showSignup_dialog').css({
            'background':'none',
            'border':'none'
        });
        
        
    }

    // Open signup page
		$('a.signupLink').live("click", function(event, retURL) {
			event.preventDefault();
			window.currentReturnURL = (retURL == null || retURL == '') ? document.location.href : retURL ;
            var returnUrl = '/bzJApp/ViewThankYouAction.action?sid=' + SiteID + '&tid=' + TenantID + '&versionID=' + VersionID + '&returnURL=' + encodeURIComponent(window.currentReturnURL);
            
            var promoCookie = jQuery.cookie('promo');
            if (promoCookie != '') returnUrl = returnUrl + '&emailValid=true&promoid=' + promoCookie;
            showSignUpDialog(returnUrl);
        });
		
		var lp = getSpecificUrlValue('lp')=='show'?getSpecificUrlValue('lp'):'';
		if(lp == 'show' && (getModniqueCookie("customer") == null || getModniqueCookie("customer").length < 14)){
			$('a.signupLink').trigger('click');
		}
		
	// END: Open signup page

    //Open signup from login
    $('a#signupLinkTop').live('click', function(event){

        event.preventDefault();

        $('a.signupLink').trigger('click', window.currentReturnURL);
    });
    //END Open signup from login

	// Open vertical signup page
		var rp = getSpecificUrlValue('rp');
		if(rp == "show"  && !(getModniqueCookie("cookie") && getModniqueCookie("cookie")!="" && getModniqueCookie("cookie")!='""')){
			//signupDialog();
			var returnUrl = 'bzJApp/ViewThankYouAction.action?sid=' + SiteID + '&tid=' + TenantID + '&versionID=' + VersionID;
			var promoCookie = jQuery.cookie('promo');
			if (promoCookie != '') returnUrl = returnUrl + '&emailValid=true&promoid=' + promoCookie;
			var dialogFrameSrc = hostPrefix + "/bzJApp/ViewDialog.action?sid=" + SiteID + "&tid=" + TenantID + "&pageName=signup_iframe_vertical&returnURL='"+encodeURIComponent(returnUrl);
		
			// construct object settings from parameters
			var settings = {
				divId:				'showSignupVertical_dialog',
				title:				"",
				frameSrc:			dialogFrameSrc,
				frameWidth:			478,
				frameHeight:		559,
				wrapper:			'dialogWrapper',
				positionFromTop:	8
			};
			
			// Dialog Object
			displayDialog.setParameters(settings);
			displayDialog.buildFramelessDialog();
			displayDialog.displayDialog();
			
			// set returnUrl element in form
			$('<input>').attr({
				type: 'hidden',
				id: 'ajax_dialogReturnUrl',
				name: 'ajax_dialogReturnUrl'
			}).appendTo('#showSignupVertical_dialog');
			
			$('#ajax_dialogReturnUrl').val(returnUrl);
			
			// dynamically adjust css
			$('input#showSignup_dialog').css({
				'background':'none',
				'border':'none'
			});
			$('div#dialogWrapper').width(448);
		}
	// END: Open vertical signup page

	
	// Surveys
		$('div#dialogSurveyLink').live('click', function(event, touchPointSurvey, salesId) {
			event.preventDefault();
			
			// construct parameters
			var dialog = "survey";
			var title			=	"<h2>Tell Us How We're Doing</h2>";
			var closeButton		=	'closeSurvey';
			if(displayTouchPointSurvey == 'Y'){
				var frameSrc 		=	hostPrefix + "/bzJApp/ShowSurvey.action?sid=" + SiteID + "&tid=" + TenantID + "&versionID=" + VersionID + "&touchPoint=" + touchPointSurvey;
				var frameWidth 	=	580;
					if(touchPointSurvey == 'checkout'){
						var frameHeight	=	1050;
						frameSrc+= "&salesId=" + orderConfirmationNum;
					}else if(touchPointSurvey == 'fulfillment'){		
						var frameHeight	=	835;
						frameSrc += "&salesId=" + salesId;
					}else if(touchPointSurvey == 'customerservice'){	var frameHeight	=	940;
					}else if(touchPointSurvey == 'survey'){				var frameHeight	=	2010;
					}
				var wrapper = 'dialogWrapper';
				var positionFromTop		=	5;
			}else{
				var frameSrc 		=	hostPrefix + "/bzJApp/ViewDialog.action?sid=" + SiteID + "&tid=" + TenantID + "&versionID=" + VersionID + "&pageName=" + dialog;
					frameSrc+=salesEmail?'&email=' + salesEmail:'';
				var frameWidth 	    =	800;
				var frameHeight 	=	1100;
                var positionFromTop	=	45;
			}	
			
			if(displayTouchPointSurvey == 'Y'){
				// construct object settings from parameters
				var settings = {
					divId:				'survey',
					position:			'absolute',
					title:				title,
					frameSrc:			frameSrc,
					frameWidth:			frameWidth,
					frameHeight:		frameHeight,
					wrapper:			wrapper,
					positionFromTop:	positionFromTop
				};
				
				// Dialog Object
				displayDialog.setParameters(settings);
				displayDialog.buildFramelessDialog();
				displayDialog.displayDialog(touchPointSurvey);
			}else{
				// construct object settings from parameters
				var settings = {
					divId:				'survey',
					position:			'absolute',
					title:				title,
					frameSrc:			frameSrc,
					frameWidth:			720,
					frameHeight:		340,
					wrapper:			wrapper,
					positionFromTop:	positionFromTop
				};
				
				// Dialog Object
				displayDialog.setParameters(settings);
				displayDialog.buildFramelessDialog();
				displayDialog.displayDialog(touchPointSurvey);
			}
		});
		
		// setup dialog elements -- needs to be below the object and event listener
		if(displayTouchPointSurvey == 'Y'){
			// create DOM element
			$('<div />').attr({
				id: 'dialogSurveyLink'
			}).appendTo('body');						
		
			var nps = getSpecificUrlValue('nps')!=false?getSpecificUrlValue('nps'):'';
			var salesId = getSpecificUrlValue('salesId');
			if(nps != ''){
				$('div#dialogSurveyLink').trigger('click', [nps, salesId]);
			}
		}
	// END: Surveys
	displayDialog.showErrorDialog = function(){
		var dialogFrameSrc = hostPrefix + '/bzJApp/GenericError.action?dialog=true';
		// check if dialogWraper is built and dynamically build it, if it's not available
		if( $('div#dialogWrapper').length <= 0){
			$('<div />').attr({
				id: 'dialogWrapper'
			}).appendTo('body');
		}
		
		// construct object settings from parameters
		var settings = {
			divId:				'showLogin_dialog',
			title:				"<h2>Sorry, there was an error.</h2>",
			frameSrc:			dialogFrameSrc,
			frameWidth:			983,
			wrapper:			'dialogWrapper',
			positionFromTop:	25
		};
		
		// Dialog Object
		displayDialog.setParameters(settings);
		displayDialog.buildFramelessDialog();
		displayDialog.displayDialog();
	};
});
function getSpecificUrlValue(b){var e=[],d;var a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(var c=0;c<a.length;c++){d=a[c].split("=");e.push(d[0]);if(d[0]==b){return d[1];}}return false;}function getGlobalEarlyAccessCodeFromURL(e){var b="";var d=e.indexOf("gseeac");
if(d>0){var c=e.substring(d+6);if(c.charAt(0)=="/"){var g=c.split("/");b=g[1];}else{if(c.charAt(0)=="="){b=getSpecificUrlValue("gseeac");}}var a=b.indexOf("?");if(a>=0){b=b.substring(0,a);}var f=b.indexOf("#");if(f>0){b=b.substring(0,f);}}return b;}function getEarlyAccessCodeFromURL(e){var b="";var d=e.indexOf("seeac");
if(d>0){var c=e.substring(d+5);if(c.charAt(0)=="/"){var g=c.split("/");b=g[1];if(b=="gseeac"){b="";}}else{if(c.charAt(0)=="="){b=getSpecificUrlValue("seeac");}}var a=b.indexOf("?");if(a>0){b=b.substring(0,a);}var f=b.indexOf("#");if(f>0){b=b.substring(0,f);}}return b;}var GLOBAL_EARLY_ACCES_CODE_COOKIE_NAME="GlobalModSEAC";
var INDIVIDUAL_EARLY_ACCES_CODE_COOKIE_PREFIX="modSEAC";function grantEarlyAccessOnSalesEvent(){var h=getModniqueCookie(GLOBAL_EARLY_ACCES_CODE_COOKIE_NAME);var a=$("#upcoming_sales");var j=new Array();if(document.cookie.length>0){var e=document.cookie.split(";");var f="";var b="";var c="";for(i=0;i<e.length;
i++){f=e[i].split("=");b=f[0].replace(/^\s+|\s+$/g,"");if(b.indexOf(INDIVIDUAL_EARLY_ACCES_CODE_COOKIE_PREFIX)>=0&&b!=GLOBAL_EARLY_ACCES_CODE_COOKIE_NAME){if(f.length>1){var g=b.split(INDIVIDUAL_EARLY_ACCES_CODE_COOKIE_PREFIX);var d="";if(g.length>1){c=unescape(f[1].replace(/^\s+|\s+$/g,""));d=g[1];j[d]=c;
}}}f=null;b="";}}if(window.timeBeforeEA_inHours==null){window.timeBeforeEA_inHours=1;}$("#upcoming_sales").find("a.visitSaleLink").each(function(){var o=$(this);var k=o.attr("href");var m=o.attr("id");var p=o.attr("rel");if(p<window.timeBeforeEA_inHours*60*60){if(j[m]){var n=k.indexOf("/gseeac");var l=k.substring(0,n)+"/"+j[m]+k.substring(n,k.length);
o.attr("href",l).removeClass("noCursor");}else{if(h){var l=k+"/"+h;o.attr("href",l).removeClass("noCursor");}else{o.removeAttr("href");}}}else{o.removeAttr("href");}});}function grantEarlyAccessOnSalesEventItem(e){var f=INDIVIDUAL_EARLY_ACCES_CODE_COOKIE_PREFIX+e;var c=getModniqueCookie(f);if(c){var d=function(){var h=$(this).attr("href");
var j=h.indexOf("/gseeac");var g=h.substring(0,j)+"/"+c+h.substring(j+7,h.length);$(this).attr("href",g);};var a=$("div#items");$("a.item_link , a.item_link_plain",a).each(d);$("a#productBackToEventsLink").each(d);}else{var b=getModniqueCookie(GLOBAL_EARLY_ACCES_CODE_COOKIE_NAME);if(b){var a=$("div#items");
$("a.item_link, a.item_link_plain",a).each(function(){var g=$(this).attr("href");$(this).attr("href",g+"/"+b);});$("a#productBackToEventsLink").each(function(){existingHref=$(this).attr("href");newHref=existingHref+"/"+b;$(this).attr("href",newHref);});}}}function createEarlyAccessCookie(a){var b=getEarlyAccessCodeFromURL(window.location.href);
if(b){var c=INDIVIDUAL_EARLY_ACCES_CODE_COOKIE_PREFIX+a;setBidzCookieWithDomain(c,b,1,".modnique.com");}}function createGlobalEarlyAccessCookie(){var a=getGlobalEarlyAccessCodeFromURL(window.location.href);if(a){setBidzCookieWithDomain(GLOBAL_EARLY_ACCES_CODE_COOKIE_NAME,a,1,".modnique.com");}}function createGlobalEarlyAccessCookieOnAllSalesPage(){var d=getSpecificUrlValue("gseeac");
if(d){setBidzCookieWithDomain(GLOBAL_EARLY_ACCES_CODE_COOKIE_NAME,d,1,".modnique.com");}else{var b=document.location.href;var e=b.indexOf("/saleevents/");var c=b.indexOf("/all-sale-events/");if(e>0){var a=b.substring(e+12,b.length);setBidzCookieWithDomain(GLOBAL_EARLY_ACCES_CODE_COOKIE_NAME,a,1,".modnique.com");
}else{if(c>0){var a=b.substring(c+17,b.length);setBidzCookieWithDomain(GLOBAL_EARLY_ACCES_CODE_COOKIE_NAME,a,1,".modnique.com");}}}}function loadjscssfile(b,d,g,c,a,e){if(d=="js"){var f=document.createElement("script");f.setAttribute("type","text/javascript");f.setAttribute("src",b);if(g!=""){f.setAttribute("title",g);
}}else{if(d=="css"){var f=document.createElement("link");f.setAttribute("rel","stylesheet");f.setAttribute("type","text/css");f.setAttribute("href",b);if(g!=""){f.setAttribute("title",g);}}else{if(d=="img"){var f=document.createElement("img");f.setAttribute("src",b);f.setAttribute("alt","");f.setAttribute("border",c);
f.setAttribute("height",a);f.setAttribute("width",e);}}}if(typeof f!="undefined"){document.getElementsByTagName("head")[0].appendChild(f);}}function checkUserRegistrationDays(a){var d=new Date();var b=Date.UTC(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds());
var c=b-a;return(parseInt(c/86400000));}function goToShoppingCart(a){$(location).attr("href",a);}function getExpireItemsTime(a){var d=new Date();var b=Date.UTC(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds());var c=a-b;return(parseInt(c/60000));}function getExpireItemsTimemilliseconds(a){var d=new Date();
var b=Date.UTC(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds());var c=a-b;return(parseInt(c/1000));}
function getStoreCreditValue(b,c,e){var d=null;if(window.XMLHttpRequest){d=new XMLHttpRequest();}else{d=new ActiveXObject("Microsoft.XMLHTTP");}var g=Math.floor(Math.random()*1001);var a="/bzJApp/Proxy.action?"+"actionName="+c+"&dest=c"+"&method=g"+"&pageload="+g+"&"+e+"&params="+escape(e);d.open("GET",a,false);
d.send();var f=d.responseText;return f;}function updateStoreCreditDiv(a){alert("updateStoreCreditDiv "+a);}function getStoreCreditValueWithJQuery(b,c,e,d){var g=Math.floor(Math.random()*1001);var a=b+"/bzJApp/ShowStoreCashCreditJson.action?"+e+"&callback=?";var f=$.ajax({type:"GET",url:a+"&cb="+Math.random(),cache:false,jsonp:true,crossDomain:true,dataType:"jsonp",success:function(h){setSpans(h,d);
$(document).trigger("storeCreditReady");},error:function(){$(document).trigger("storeCreditReady");}});}function setSpans(e,c){var f=c.split("#and#");var b=e.storeCashCredit;var d=e.firstName;$(f[0]).html("$"+b.toFixed(2));if(f.length>1){var a=15;if(d!=null&&d!=""&&d.length>a){$(f[1]).html("Welcome, "+d.substring(0,a)+"...!");
}else{if(d!=null&&d!=""&&d.length<=a){$(f[1]).html("Welcome, "+d+"!");}else{$(f[1]).html("Welcome!");}}}}
function getCountryToDisplayForEstimatedDeliveryTime(){var a=getCountryFromCookie();getCountryToDisplay(a);}function getCountryToDisplay(a){if(a!=null&&a!=""){displayByCountryForEstimatedDeliveryTime(a);}else{a=getCountryFromServerForEstimatedDeliveryTime();if(a==""){displayByCountryForEstimatedDeliveryTime("US");
}}}function getCountryFromServerForEstimatedDeliveryTime(){var a="";querystring="/bzJApp/GetCountryByIp.action?sid=300&tid=100";jQuery.ajax({type:"GET",url:querystring,success:function(b){a=b;displayByCountryForEstimatedDeliveryTime(b);}});return a;}function displayByCountryForEstimatedDeliveryTime(c){var d=$("#us_delivery");
var b=$("#ca_delivery");if(b.size()<=0){c="us";}var a=$("#au_delivery");if(a.size()<=0){c="us";}switch(c.toUpperCase()){case"CA":d.css("display","none");b.css("display","block");a.css("display","none");break;case"AU":d.css("display","none");b.css("display","none");a.css("display","block");break;default:d.css("display","block");
b.css("display","none");a.css("display","none");}}function getCountryFromCookie(){var a=getModniqueCookie("userCountryCookie");if(a!=null&&a!=""&&(a.length==2)&&a.toUpperCase().charCodeAt(0)>=65&&a.toUpperCase().charCodeAt(0)<=90&&a.toUpperCase().charCodeAt(1)>=65&&a.toUpperCase().charCodeAt(1)<=90){return a;
}return"";}var ObjCountryByIp={updatePageByCountry:function(b){var a=getCountryFromCookie();if(a!=""){b(a);}else{this.getCountryFromServer(b,true);}},updatePageByCountrySync:function(b){var a=getCountryFromCookie();if(a!=""){b(a);}else{this.getCountryFromServer(b,false);}},getCountryFromServer:function(b,a){querystring="/bzJApp/GetCountryByIp.action?sid=300&tid=100";
jQuery.ajax({type:"GET",url:querystring,async:a,success:function(c){b(c);}});},doDisplayForShippingBanner:function(a){var c=$("div#us_shipping");var e=$("div#ca_shipping");var b=$("div#au_shipping");var d=$("div#international_shipping");if(!a&&a.length!=2){return;}a=a.toUpperCase();if(a=="US"){c.css("display","block");
e.css("display","none");b.css("display","none");d.css("display","none");}else{if(a=="CA"){c.css("display","none");e.css("display","block");b.css("display","none");d.css("display","none");}else{if(a=="AU"){c.css("display","none");e.css("display","none");b.css("display","block");d.css("display","none");
}else{c.css("display","none");e.css("display","none");b.css("display","none");d.css("display","block");}}}},isEventVisible:function(b,a){b=b.toLowerCase();a=a.toLowerCase();var c=b.substring(0,4)!="non-";return !(b.indexOf("non-"+a)!=-1||(c&&b.indexOf(a)==-1));},hideSaleEventsByCountry:function(a){if(a==null||a.length!=2){a="US";
}$("a[data-country-carousel]").each(function(){var b=$(this).data("country-carousel");if(!ObjCountryByIp.isEventVisible(b,a)){$(this).remove();}else{$(this).show();}});$("div[data-country],a[data-country],ul[data-country]").each(function(){var b=$(this).data("country");if(!ObjCountryByIp.isEventVisible(b,a)){var d=$(this).parent();
$(this).remove();if(d.parent().hasClass("subnav")){d.remove();}if($(".ui-mobile").length==0){if(d.prop("tagName")=="DIV"){var c=d.children("div:visible").length;if(c==0){d.hide();}}}}});}};
function isUserLoggedIn(b){if(b==null||b==""){b="customer";}var a=getModniqueCookie(b);return(a&&a!=""&&a!='""');}function displayLoggedInUtilities(a){if(isUserLoggedIn(a)){$("div.userLoggedOut, a.userLoggedOut, ul.userLoggedOut, li.userLoggedOut").hide();$("div.userLoggedIn, a.userLoggedIn, ul.userLoggedIn, li.userLoggedIn").show();
}else{$("div.userLoggedIn, a.userLoggedIn, ul.userLoggedIn, li.userLoggedIn").hide();$("div.userLoggedOut, a.userLoggedOut, ul.userLoggedOut, li.userLoggedOut").show();}}function stripUrlParam(b,a){b=b.replace("&"+a,"");b=b.replace("="+a,"");return b;}function redirectPage(a){if(ObjBrowserDetect.isIE7()){a=a.split("#");
a=a[0];if(a=="http://$action.getSiteOpt('hostName')/"){a="http://$action.getSiteOpt('hostName')/"+"saleevents";}window.location=a;}else{if(a=="http://$action.getSiteOpt('hostName')/"){a="http://$action.getSiteOpt('hostName')/"+"saleevents";}document.location=a;}}var fieldCleared=false;function clearOnInitialFocus(a){if(!fieldCleared){a.value="";
fieldCleared=true;}return true;}function showHideEventsByCategory(a){if(!a||a==0){$("#noEventsFound").hide();showAllEvents();}else{a="|"+a+"|";$("div.sale_thumb").hide();$("div.sale_thumb2").parent().hide();hideDynamicEventTitles();var b=$('div[name*="'+a+'"]');b.parent().show();b.show();$(b).each(function(c){b.parent().parent().children("a").show();
var d=b.eq(c).parent().parent().attr("name");var e=b.eq(c).parent().parent().find("h1").parent().attr("name");if(d==e){b.eq(c).parent().parent().find("h1").parent().show();}});$(".upTitle").each(function(){var c=$(this).next("div").css("display");if(c!="none"){$(this).show();}else{$(this).hide();}});
b.closest("li").show();$("div#noEventsFound").hide();$("div#upcoming").show();if(noSalesEventsFoundInTheCategory(a)){$("div#noEventsFound").show();showAllEvents();}if(noSalesEventsFoundInTheCategorypreview(a)&&a!=0){$("div#upcoming").hide();}if(enableLazyLoading=="Y"){$(window).trigger("scroll");}}return false;
}function sendToSalesEventsHome(a){if($("div.sale_thumb, div.sale_thumb2").length==0){return true;}else{showHideEventsByCategory(a);showHideSeoByCategory(a);if(objSlideShow.initialized){objSlideShow._init(a);}}return false;}function showHideSeoByCategory(c){$("div#footer_catseo div").hide();var a=hostPrefix+"/bzJApp/ViewDialog.action?sid="+SiteID+"&tid="+TenantID+"&pageName=seoCategoryContent";
var b="";switch(c){case 0:b="seo_all_sale_events";break;case 1:b="seo_apparel";break;case 2:b="seo_handbagsAccessories";break;case 3:b="seo_shoes";break;case 4:b="seo_home_goods";break;case 5:b="seo_women";break;case 6:b="seo_men";break;case 7:b="seo_beauty";break;case 8:b="seo_jewelryWatches";break;
default:b="seo_all_sale_events";}jQuery("div.seoCategoryContent").load(a+" #"+b);}function hideDynamicEventTitles(){$("#titlePriority_1").closest("a").hide();$("#titlePriority_2").closest("a").hide();$("#titlePriority_3").closest("a").hide();$("#titlePriority_4").closest("a").hide();$("#titlePriority_5").closest("a").hide();
$("#titlePriority_6").closest("a").hide();$("#titlePriority_7").closest("a").hide();$("#titlePriority_8").closest("a").hide();$("#titlePriority_100").closest("a").hide();$("#sales li").hide();$("#upcoming_sales li#upcoming_sales_container").hide();}function resetDynamicEventTitles(){$("#titlePriority_1").closest("a").show();
$("#titlePriority_2").closest("a").show();$("#titlePriority_3").closest("a").show();$("#titlePriority_4").closest("a").show();$("#titlePriority_5").closest("a").show();$("#titlePriority_6").closest("a").show();$("#titlePriority_7").closest("a").show();$("#titlePriority_8").closest("a").show();$("#titlePriority_100").closest("a").show();
$("div#upcoming").show();$(".upTitle").show();$("div.sale_thumb").show();$("div.sale_thumb2").show();$("#sales li").show();$("#upcoming_sales li#upcoming_sales_container").show();}function noSalesEventsFoundInTheCategory(a){if($('div[name*="'+a+'"][name$=activeEvent]').size()==0){return true;}else{return false;
}}function noSalesEventsFoundInTheCategorypreview(a){if($('div[name*="'+a+'"][name$=previewEvent]').size()==0){return true;}else{return false;}}function showAllEvents(){$("div.sale_thumb").parent().show();$("div.sale_thumb2").parent().show();resetDynamicEventTitles();return false;}function showEventsByCategory(a){for(i=0;
i<=7;i++){$("#menuByCategory"+i).hide();}$("#menuByCategory"+a).show();}function hideEventsByCategory(a){$("#menuByCategory"+a).hide();}if(enableGigyaLoginFunctionality=="Y"){function successfulLoginRedirect(c){var b=hostPrefix+"/bzJApp/SubscribeCustActionJson.action?sid="+SiteID+"&tid="+TenantID+"&versionID="+VersionID;
var a=jQuery.ajax({type:"GET",url:b,cache:false,success:function(){if((c.indexOf(strippedHost)!=-1)||(c.indexOf(strippedCheckoutHost)!=-1)){if(ObjBrowserDetect.isIE7()){window.location.href=c;}else{document.location=c;}}else{if(ObjBrowserDetect.isIE7()){window.location.href=window.location.protocol+"//"+window.location.hostname+"/"+c;
}else{document.location=window.location.protocol+"//"+window.location.hostname+"/"+c;}}},error:function(){if(!isCoRegiCookieCreated()&&!isCustomerLoggedIn()){alert("Error occurred while logging in. Please try again.");}var d=stripUrlParam(top.location.href,"userLoggedIn");}});}}function makeValidName(a){var b=a;
b=b.replace(/^([^A-Za-z0-9])*/,"");b=b.replace(/([^A-Za-z0-9])+/g,"-");while(b.length>80){b=b.substring(0,b.lastIndexOf("-"));}return b;}function getUrlParam(b){var a=(window.location.href.split("#"))[0].slice(window.location.href.indexOf("?")+1).split("&");for(var c=0;c<a.length;c++){hash=a[c].split("=");
if(hash[0]==b){return hash[1];}}return false;}
