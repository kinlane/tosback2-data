var ObjBrowserDetect={agent:navigator.userAgent,browser:navigator.appName,ver:navigator.appVersion,isIE:false,IEVer:"undefined",IEMode:"undefined",_create:function(){this._init();},_init:function(){this.isBrowserIE();},isBrowserIE:function(){this.isIE=(parseFloat(this.ver.indexOf("MSIE"))+1)>0?true:false;
if(this.isIE){this.getIEVer();}},getIEVer:function(){var a,b="undefined";if(this.agent.indexOf("Trident/5.0")>-1){a="9";if(this.agent.indexOf("MSIE 7.0")>-1){b="Compatibility";}}else{if(this.agent.indexOf("Trident/4.0")>-1){a="8";if(this.agent.indexOf("MSIE 7.0")>-1){b="Compatibility";}}else{a="7";}}this.IEVer=a;
this.IEMode=b;},isIE7:function(){if(this.isIE&&this.IEVer!="undefined"&&(this.IEVer<8||this.IEMode=="Compatibility")){return true;}else{return false;}},isIE8:function(){if(this.isIE&&this.IEVer!="undefined"&&(this.IEVer==8)){return true;}else{return false;}}};ObjBrowserDetect._create();
/*
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2011 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.6.0-dev
 *
 */
(function($) {

    $.fn.lazyload = function(options) {
        var settings = {
            threshold       : 400,
            failure_limit   : 0,
            event           : "scroll",
            effect			: "show",
			//effect			: "fadeIn",
			//effectspeed		: 400,
            container       : window,
            skip_invisible  : true
        };
                
        if(options) {
            /* Maintain BC for a couple of version. */
            if (null !== options.failurelimit) {
                options.failure_limit = options.failurelimit; 
                delete options.failurelimit;
            }
            
            $.extend(settings, options);
        }

        /* Fire one scroll event per scroll. Not one scroll event per image. */
        var elements = this;
        if (0 == settings.event.indexOf("scroll")) {
            $(settings.container).bind(settings.event, function(event) {
                var counter = 0;
                elements.each(function() {
                    if (settings.skip_invisible && !$(this).is(":visible")) return;
                    if ($.abovethetop(this, settings) ||
                        $.leftofbegin(this, settings)) {
                            /* Nothing. */
                    } else if (!$.belowthefold(this, settings) &&
                        !$.rightoffold(this, settings)) {
                            $(this).trigger("appear");
                    } else {
                        if (++counter > settings.failure_limit) {
                            return false;
                        }
                    }
                }); 

                /* Remove image from array so it is not looped next time. */
                var temp = $.grep(elements, function(element) {
                    return !element.loaded;
                });
                elements = $(temp);

            });
        }
        
        this.each(function() {
            var self = this;            
            self.loaded = false;
            
            /* When appear is triggered load original image. */
            $(self).one("appear", function() {
                if (!this.loaded) {
                	
                		$("<img />")
                        .bind("load", function() {
                            $(self)
                                .hide()
                                .attr("src", $(self).data("original"))
                                [settings.effect](settings.effectspeed);
                            self.loaded = true;
                        })
                        .bind("error", function(){
                        	// dariaser 2012-05-24 Lazy loader hides the 404 error, so to be able to add callback the code needed to be edited a bit;
                        	$(self).trigger('error');
                        })
                        .attr("src", $(self).data("original"));
                };
            });

            /* When wanted event is triggered load original image */
            /* by triggering appear.                              */
            if (0 != settings.event.indexOf("scroll")) {
                $(self).bind(settings.event, function(event) {
                    if (!self.loaded) {
                        $(self).trigger("appear");
                    }
                });
            }
        });
        
        /* Force initial check if images should appear. */
        $(settings.container).trigger(settings.event);
        
        return this;

    };

    /* Convenience methods in jQuery namespace.           */
    /* Use as  $.belowthefold(element, {threshold : 100, container : window}) */

    $.belowthefold = function(element, settings) {
        if (settings.container === undefined || settings.container === window) {
            var fold = $(window).height() + $(window).scrollTop();
        } else {
            var fold = $(settings.container).offset().top + $(settings.container).height();
        }
        return fold <= $(element).offset().top - settings.threshold;
    };
    
    $.rightoffold = function(element, settings) {
        if (settings.container === undefined || settings.container === window) {
            var fold = $(window).width() + $(window).scrollLeft();
        } else {
            var fold = $(settings.container).offset().left + $(settings.container).width();
        }
        return fold <= $(element).offset().left - settings.threshold;
    };
        
    $.abovethetop = function(element, settings) {
        if (settings.container === undefined || settings.container === window) {
            var fold = $(window).scrollTop();
        } else {
            var fold = $(settings.container).offset().top;
        }
        return fold >= $(element).offset().top + settings.threshold  + $(element).height();
    };
    
    $.leftofbegin = function(element, settings) {
        if (settings.container === undefined || settings.container === window) {
            var fold = $(window).scrollLeft();
        } else {
            var fold = $(settings.container).offset().left;
        }
        return fold >= $(element).offset().left + settings.threshold + $(element).width();
    };
    /* Custom selectors for your convenience.   */
    /* Use as $("img:below-the-fold").something() */

    $.extend($.expr[':'], {
        "below-the-fold" : function(a) { return $.belowthefold(a, {threshold : 0, container: window}) },
        "above-the-fold" : function(a) { return !$.belowthefold(a, {threshold : 0, container: window}) },
        "right-of-fold"  : function(a) { return $.rightoffold(a, {threshold : 0, container: window}) },
        "left-of-fold"   : function(a) { return !$.rightoffold(a, {threshold : 0, container: window}) }
    });
    
})(jQuery);

/**
 * jQuery Validation Plugin 1.9.0
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright (c) 2006 - 2011 JÃ¶rn Zaefferer
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(c){c.extend(c.fn,{validate:function(a){if(this.length){var b=c.data(this[0],"validator");if(b)return b;this.attr("novalidate","novalidate");b=new c.validator(a,this[0]);c.data(this[0],"validator",b);if(b.settings.onsubmit){a=this.find("input, button");a.filter(".cancel").click(function(){b.cancelSubmit=true});b.settings.submitHandler&&a.filter(":submit").click(function(){b.submitButton=this});this.submit(function(d){function e(){if(b.settings.submitHandler){if(b.submitButton)var f=c("<input type='hidden'/>").attr("name",
b.submitButton.name).val(b.submitButton.value).appendTo(b.currentForm);b.settings.submitHandler.call(b,b.currentForm);b.submitButton&&f.remove();return false}return true}b.settings.debug&&d.preventDefault();if(b.cancelSubmit){b.cancelSubmit=false;return e()}if(b.form()){if(b.pendingRequest){b.formSubmitted=true;return false}return e()}else{b.focusInvalid();return false}})}return b}else a&&a.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(c(this[0]).is("form"))return this.validate().form();
else{var a=true,b=c(this[0].form).validate();this.each(function(){a&=b.element(this)});return a}},removeAttrs:function(a){var b={},d=this;c.each(a.split(/\s/),function(e,f){b[f]=d.attr(f);d.removeAttr(f)});return b},rules:function(a,b){var d=this[0];if(a){var e=c.data(d.form,"validator").settings,f=e.rules,g=c.validator.staticRules(d);switch(a){case "add":c.extend(g,c.validator.normalizeRule(b));f[d.name]=g;if(b.messages)e.messages[d.name]=c.extend(e.messages[d.name],b.messages);break;case "remove":if(!b){delete f[d.name];
return g}var h={};c.each(b.split(/\s/),function(j,i){h[i]=g[i];delete g[i]});return h}}d=c.validator.normalizeRules(c.extend({},c.validator.metadataRules(d),c.validator.classRules(d),c.validator.attributeRules(d),c.validator.staticRules(d)),d);if(d.required){e=d.required;delete d.required;d=c.extend({required:e},d)}return d}});c.extend(c.expr[":"],{blank:function(a){return!c.trim(""+a.value)},filled:function(a){return!!c.trim(""+a.value)},unchecked:function(a){return!a.checked}});c.validator=function(a,
b){this.settings=c.extend(true,{},c.validator.defaults,a);this.currentForm=b;this.init()};c.validator.format=function(a,b){if(arguments.length==1)return function(){var d=c.makeArray(arguments);d.unshift(a);return c.validator.format.apply(this,d)};if(arguments.length>2&&b.constructor!=Array)b=c.makeArray(arguments).slice(1);if(b.constructor!=Array)b=[b];c.each(b,function(d,e){a=a.replace(RegExp("\\{"+d+"\\}","g"),e)});return a};c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",
validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(a){this.lastActive=a;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(a)).hide()}},onfocusout:function(a){if(!this.checkable(a)&&(a.name in this.submitted||!this.optional(a)))this.element(a)},
onkeyup:function(a){if(a.name in this.submitted||a==this.lastElement)this.element(a)},onclick:function(a){if(a.name in this.submitted)this.element(a);else a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(a,b,d){a.type==="radio"?this.findByName(a.name).addClass(b).removeClass(d):c(a).addClass(b).removeClass(d)},unhighlight:function(a,b,d){a.type==="radio"?this.findByName(a.name).removeClass(b).addClass(d):c(a).removeClass(b).addClass(d)}},setDefaults:function(a){c.extend(c.validator.defaults,
a)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:c.validator.format("Please enter no more than {0} characters."),
minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function a(e){var f=c.data(this[0].form,"validator"),g="on"+e.type.replace(/^validate/,
"");f.settings[g]&&f.settings[g].call(f,this[0],e)}this.labelContainer=c(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm);this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var b=this.groups={};c.each(this.settings.groups,function(e,f){c.each(f.split(/\s/),function(g,h){b[h]=e})});var d=
this.settings.rules;c.each(d,function(e,f){d[e]=c.validator.normalizeRule(f)});c(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",a).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",
a);this.settings.invalidHandler&&c(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();c.extend(this.submitted,this.errorMap);this.invalid=c.extend({},this.errorMap);this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(a){this.lastElement=
a=this.validationTargetFor(this.clean(a));this.prepareElement(a);this.currentElements=c(a);var b=this.check(a);if(b)delete this.invalid[a.name];else this.invalid[a.name]=true;if(!this.numberOfInvalids())this.toHide=this.toHide.add(this.containers);this.showErrors();return b},showErrors:function(a){if(a){c.extend(this.errorMap,a);this.errorList=[];for(var b in a)this.errorList.push({message:a[b],element:this.findByName(b)[0]});this.successList=c.grep(this.successList,function(d){return!(d.name in a)})}this.settings.showErrors?
this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0,d;for(d in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==
0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}},findLastActive:function(){var a=this.lastActive;return a&&c.grep(this.errorList,function(b){return b.element.name==a.name}).length==1&&a},elements:function(){var a=this,b={};return c(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&
a.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in b||!a.objectLength(c(this).rules()))return false;return b[this.name]=true})},clean:function(a){return c(a)[0]},errors:function(){return c(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=c([]);this.toHide=c([]);this.currentElements=c([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},
prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(a){a=this.validationTargetFor(this.clean(a));var b=c(a).rules(),d=false,e;for(e in b){var f={method:e,parameters:b[e]};try{var g=c.validator.methods[e].call(this,a.value.replace(/\r/g,""),a,f.parameters);if(g=="dependency-mismatch")d=true;else{d=false;if(g=="pending"){this.toHide=this.toHide.not(this.errorsFor(a));return}if(!g){this.formatAndAdd(a,f);return false}}}catch(h){this.settings.debug&&window.console&&console.log("exception occured when checking element "+
a.id+", check the '"+f.method+"' method",h);throw h;}}if(!d){this.objectLength(b)&&this.successList.push(a);return true}},customMetaMessage:function(a,b){if(c.metadata){var d=this.settings.meta?c(a).metadata()[this.settings.meta]:c(a).metadata();return d&&d.messages&&d.messages[b]}},customMessage:function(a,b){var d=this.settings.messages[a];return d&&(d.constructor==String?d:d[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==undefined)return arguments[a]},defaultMessage:function(a,
b){return this.findDefined(this.customMessage(a.name,b),this.customMetaMessage(a,b),!this.settings.ignoreTitle&&a.title||undefined,c.validator.messages[b],"<strong>Warning: No message defined for "+a.name+"</strong>")},formatAndAdd:function(a,b){var d=this.defaultMessage(a,b.method),e=/\$?\{(\d+)\}/g;if(typeof d=="function")d=d.call(this,b.parameters,a);else if(e.test(d))d=jQuery.format(d.replace(e,"{$1}"),b.parameters);this.errorList.push({message:d,element:a});this.errorMap[a.name]=d;this.submitted[a.name]=
d},addWrapper:function(a){if(this.settings.wrapper)a=a.add(a.parent(this.settings.wrapper));return a},defaultShowErrors:function(){for(var a=0;this.errorList[a];a++){var b=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass);this.showLabel(b.element,b.message)}if(this.errorList.length)this.toShow=this.toShow.add(this.containers);if(this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);
if(this.settings.unhighlight){a=0;for(b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass)}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(a,b){var d=this.errorsFor(a);if(d.length){d.removeClass(this.settings.validClass).addClass(this.settings.errorClass);
d.attr("generated")&&d.html(b)}else{d=c("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(a),generated:true}).addClass(this.settings.errorClass).html(b||"");if(this.settings.wrapper)d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,c(a)):d.insertAfter(a))}if(!b&&this.settings.success){d.text("");typeof this.settings.success=="string"?d.addClass(this.settings.success):this.settings.success(d)}this.toShow=
this.toShow.add(d)},errorsFor:function(a){var b=this.idOrName(a);return this.errors().filter(function(){return c(this).attr("for")==b})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){if(this.checkable(a))a=this.findByName(a.name).not(this.settings.ignore)[0];return a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(a){var b=this.currentForm;return c(document.getElementsByName(a)).map(function(d,
e){return e.form==b&&e.name==a&&e||null})},getLength:function(a,b){switch(b.nodeName.toLowerCase()){case "select":return c("option:selected",b).length;case "input":if(this.checkable(b))return this.findByName(b.name).filter(":checked").length}return a.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):true},dependTypes:{"boolean":function(a){return a},string:function(a,b){return!!c(a,b.form).length},"function":function(a,b){return a(b)}},optional:function(a){return!c.validator.methods.required.call(this,
c.trim(a.value),a)&&"dependency-mismatch"},startRequest:function(a){if(!this.pending[a.name]){this.pendingRequest++;this.pending[a.name]=true}},stopRequest:function(a,b){this.pendingRequest--;if(this.pendingRequest<0)this.pendingRequest=0;delete this.pending[a.name];if(b&&this.pendingRequest==0&&this.formSubmitted&&this.form()){c(this.currentForm).submit();this.formSubmitted=false}else if(!b&&this.pendingRequest==0&&this.formSubmitted){c(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=
false}},previousValue:function(a){return c.data(a,"previousValue")||c.data(a,"previousValue",{old:null,valid:true,message:this.defaultMessage(a,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(a,b){a.constructor==String?this.classRuleSettings[a]=b:c.extend(this.classRuleSettings,
a)},classRules:function(a){var b={};(a=c(a).attr("class"))&&c.each(a.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(b,c.validator.classRuleSettings[this])});return b},attributeRules:function(a){var b={};a=c(a);for(var d in c.validator.methods){var e;if(e=d==="required"&&typeof c.fn.prop==="function"?a.prop(d):a.attr(d))b[d]=e;else if(a[0].getAttribute("type")===d)b[d]=true}b.maxlength&&/-1|2147483647|524288/.test(b.maxlength)&&delete b.maxlength;return b},metadataRules:function(a){if(!c.metadata)return{};
var b=c.data(a.form,"validator").settings.meta;return b?c(a).metadata()[b]:c(a).metadata()},staticRules:function(a){var b={},d=c.data(a.form,"validator");if(d.settings.rules)b=c.validator.normalizeRule(d.settings.rules[a.name])||{};return b},normalizeRules:function(a,b){c.each(a,function(d,e){if(e===false)delete a[d];else if(e.param||e.depends){var f=true;switch(typeof e.depends){case "string":f=!!c(e.depends,b.form).length;break;case "function":f=e.depends.call(b,b)}if(f)a[d]=e.param!==undefined?
e.param:true;else delete a[d]}});c.each(a,function(d,e){a[d]=c.isFunction(e)?e(b):e});c.each(["minlength","maxlength","min","max"],function(){if(a[this])a[this]=Number(a[this])});c.each(["rangelength","range"],function(){if(a[this])a[this]=[Number(a[this][0]),Number(a[this][1])]});if(c.validator.autoCreateRanges){if(a.min&&a.max){a.range=[a.min,a.max];delete a.min;delete a.max}if(a.minlength&&a.maxlength){a.rangelength=[a.minlength,a.maxlength];delete a.minlength;delete a.maxlength}}a.messages&&delete a.messages;
return a},normalizeRule:function(a){if(typeof a=="string"){var b={};c.each(a.split(/\s/),function(){b[this]=true});a=b}return a},addMethod:function(a,b,d){c.validator.methods[a]=b;c.validator.messages[a]=d!=undefined?d:c.validator.messages[a];b.length<3&&c.validator.addClassRules(a,c.validator.normalizeRule(a))},methods:{required:function(a,b,d){if(!this.depend(d,b))return"dependency-mismatch";switch(b.nodeName.toLowerCase()){case "select":return(a=c(b).val())&&a.length>0;case "input":if(this.checkable(b))return this.getLength(a,
b)>0;default:return c.trim(a).length>0}},remote:function(a,b,d){if(this.optional(b))return"dependency-mismatch";var e=this.previousValue(b);this.settings.messages[b.name]||(this.settings.messages[b.name]={});e.originalMessage=this.settings.messages[b.name].remote;this.settings.messages[b.name].remote=e.message;d=typeof d=="string"&&{url:d}||d;if(this.pending[b.name])return"pending";if(e.old===a)return e.valid;e.old=a;var f=this;this.startRequest(b);var g={};g[b.name]=a;c.ajax(c.extend(true,{url:d,
mode:"abort",port:"validate"+b.name,dataType:"json",data:g,success:function(h){f.settings.messages[b.name].remote=e.originalMessage;var j=h===true;if(j){var i=f.formSubmitted;f.prepareElement(b);f.formSubmitted=i;f.successList.push(b);f.showErrors()}else{i={};h=h||f.defaultMessage(b,"remote");i[b.name]=e.message=c.isFunction(h)?h(a):h;f.showErrors(i)}e.valid=j;f.stopRequest(b,j)}},d));return"pending"},minlength:function(a,b,d){return this.optional(b)||this.getLength(c.trim(a),b)>=d},maxlength:function(a,
b,d){return this.optional(b)||this.getLength(c.trim(a),b)<=d},rangelength:function(a,b,d){a=this.getLength(c.trim(a),b);return this.optional(b)||a>=d[0]&&a<=d[1]},min:function(a,b,d){return this.optional(b)||a>=d},max:function(a,b,d){return this.optional(b)||a<=d},range:function(a,b,d){return this.optional(b)||a>=d[0]&&a<=d[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},
url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},
date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 -]+/.test(a))return false;var d=0,e=0,f=false;a=a.replace(/\D/g,"");for(var g=a.length-1;g>=
0;g--){e=a.charAt(g);e=parseInt(e,10);if(f)if((e*=2)>9)e-=9;d+=e;f=!f}return d%10==0},accept:function(a,b,d){d=typeof d=="string"?d.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||a.match(RegExp(".("+d+")$","i"))},equalTo:function(a,b,d){d=c(d).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){c(b).valid()});return a==d.val()}}});c.format=c.validator.format})(jQuery);
(function(c){var a={};if(c.ajaxPrefilter)c.ajaxPrefilter(function(d,e,f){e=d.port;if(d.mode=="abort"){a[e]&&a[e].abort();a[e]=f}});else{var b=c.ajax;c.ajax=function(d){var e=("port"in d?d:c.ajaxSettings).port;if(("mode"in d?d:c.ajaxSettings).mode=="abort"){a[e]&&a[e].abort();return a[e]=b.apply(this,arguments)}return b.apply(this,arguments)}}})(jQuery);
(function(c){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&c.each({focus:"focusin",blur:"focusout"},function(a,b){function d(e){e=c.event.fix(e);e.type=b;return c.event.handle.call(this,e)}c.event.special[b]={setup:function(){this.addEventListener(a,d,true)},teardown:function(){this.removeEventListener(a,d,true)},handler:function(e){arguments[0]=c.event.fix(e);arguments[0].type=b;return c.event.handle.apply(this,arguments)}}});c.extend(c.fn,{validateDelegate:function(a,
b,d){return this.bind(b,function(e){var f=c(e.target);if(f.is(a))return d.apply(f,arguments)})}})})(jQuery);
(function(m){var o,r,k=1,u,t=this,p=!1,n="postMessage",q="addEventListener",s,l=t[n]&&!m.browser.opera;m[n]=function(c,b,a){if(!b){return;}c=typeof c==="string"?c:m.param(c);a=a||parent;if(l){a[n](c,b.replace(/([^:]+:\/\/[^\/]+).*/,"$1"));}else{if(b){a.location=b.replace(/#.*$/,"")+"#"+(+new Date)+(k++)+"&"+c;
}}};m.receiveMessage=s=function(b,a,c){if(l){if(b){u&&s();u=function(d){if((typeof a==="string"&&d.origin!==a)||(m.isFunction(a)&&a(d.origin)===p)){return p;}b(d);};}if(t[q]){t[b?q:"removeEventListener"]("message",u,p);}else{t[b?"attachEvent":"detachEvent"]("onmessage",u);}}else{o&&clearInterval(o);o=null;
if(b){c=typeof a==="number"?a:typeof c==="number"?c:100;o=setInterval(function(){var d=document.location.hash,e=/^#?\d+&/;if(d!==r&&e.test(d)){r=d;b({data:d.replace(e,"")});}},c);}}};})(jQuery);
/**
* hoverIntent is similar to jQuery's built-in "hover" function except that
* instead of firing the onMouseOver event immediately, hoverIntent checks
* to see if the user's mouse has slowed down (beneath the sensitivity
* threshold) before firing the onMouseOver event.
* 
* hoverIntent r5 // 2007.03.27 // jQuery 1.1.2+
* <http://cherne.net/brian/resources/jquery.hoverIntent.html>
* 
* hoverIntent is currently available for use in all personal or commercial 
* projects under both MIT and GPL licenses. This means that you can choose 
* the license that best suits your project, and use it accordingly.
* 
* // basic usage (just like .hover) receives onMouseOver and onMouseOut functions
* $("ul li").hoverIntent( showNav , hideNav );
* 
* // advanced usage receives configuration object only
* $("ul li").hoverIntent({
*	sensitivity: 7, // number = sensitivity threshold (must be 1 or higher)
*	interval: 100,   // number = milliseconds of polling interval
*	over: showNav,  // function = onMouseOver callback (required)
*	timeout: 0,   // number = milliseconds delay before onMouseOut function call
*	out: hideNav    // function = onMouseOut callback (required)
* });
* 
* @param  f  onMouseOver function || An object with configuration options
* @param  g  onMouseOut function  || Nothing (use configuration options object)
* @author    Brian Cherne <brian@cherne.net>
*/
(function($) {
	$.fn.hoverIntent = function(f,g) {
		// default configuration options
		var cfg = {
			sensitivity: 7,
			interval: 100,
			timeout: 0
		};
		// override configuration options with user supplied object
		cfg = $.extend(cfg, g ? { over: f, out: g } : f );

		// instantiate variables
		// cX, cY = current X and Y position of mouse, updated by mousemove event
		// pX, pY = previous X and Y position of mouse, set by mouseover and polling interval
		var cX, cY, pX, pY;

		// A private function for getting mouse position
		var track = function(ev) {
			cX = ev.pageX;
			cY = ev.pageY;
		};

		// A private function for comparing current and previous mouse position
		var compare = function(ev,ob) {
			ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t);
			// compare mouse positions to see if they've crossed the threshold
			if ( ( Math.abs(pX-cX) + Math.abs(pY-cY) ) < cfg.sensitivity ) {
				$(ob).unbind("mousemove",track);
				// set hoverIntent state to true (so mouseOut can be called)
				ob.hoverIntent_s = 1;
				return cfg.over.apply(ob,[ev]);
			} else {
				// set previous coordinates for next time
				pX = cX; pY = cY;
				// use self-calling timeout, guarantees intervals are spaced out properly (avoids JavaScript timer bugs)
				ob.hoverIntent_t = setTimeout( function(){compare(ev, ob);} , cfg.interval );
			}
		};

		// A private function for delaying the mouseOut function
		var delay = function(ev,ob) {
			ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t);
			ob.hoverIntent_s = 0;
			return cfg.out.apply(ob,[ev]);
		};

		// A private function for handling mouse 'hovering'
		var handleHover = function(e) {
			// next three lines copied from jQuery.hover, ignore children onMouseOver/onMouseOut
			var p = (e.type == "mouseover" ? e.fromElement : e.toElement) || e.relatedTarget;
			while ( p && p != this ) { try { p = p.parentNode; } catch(e) { p = this; } }
			if ( p == this ) { return false; }

			// copy objects to be passed into t (required for event object to be passed in IE)
			var ev = jQuery.extend({},e);
			var ob = this;

			// cancel hoverIntent timer if it exists
			if (ob.hoverIntent_t) { ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t); }

			// else e.type == "onmouseover"
			if (e.type == "mouseover") {
				// set "previous" X and Y position based on initial entry point
				pX = ev.pageX; pY = ev.pageY;
				// update "current" X and Y position based on mousemove
				$(ob).bind("mousemove",track);
				// start polling interval (self-calling timeout) to compare mouse coordinates over time
				if (ob.hoverIntent_s != 1) { ob.hoverIntent_t = setTimeout( function(){compare(ev,ob);} , cfg.interval );}

			// else e.type == "onmouseout"
			} else {
				// unbind expensive mousemove event
				$(ob).unbind("mousemove",track);
				// if hoverIntent state is true, then call the mouseOut function after the specified delay
				if (ob.hoverIntent_s == 1) { ob.hoverIntent_t = setTimeout( function(){delay(ev,ob);} , cfg.timeout );}
			}
		};

		// bind the function to the two event listeners
		return this.mouseover(handleHover).mouseout(handleHover);
	};
})(jQuery);
// version 1.5.0
// http://welcome.totheinter.net/columnizer-jquery-plugin/
// created by: Adam Wulf @adamwulf, adam.wulf@gmail.com

(function($){

 $.fn.columnize = function(options) {


	var defaults = {
		// default width of columns
		width: 400,
		// optional # of columns instead of width
		columns : false,
		// true to build columns once regardless of window resize
		// false to rebuild when content box changes bounds
		buildOnce : false,
		// an object with options if the text should overflow
		// it's container if it can't fit within a specified height
		overflow : false,
		// this function is called after content is columnized
		doneFunc : function(){},
		// if the content should be columnized into a 
		// container node other than it's own node
		target : false,
		// re-columnizing when images reload might make things
		// run slow. so flip this to true if it's causing delays
		ignoreImageLoading : true,
		// should columns float left or right
		columnFloat : "left",
		// ensure the last column is never the tallest column
		lastNeverTallest : false,
		// (int) the minimum number of characters to jump when splitting
		// text nodes. smaller numbers will result in higher accuracy
		// column widths, but will take slightly longer
		accuracy : false
	};
	var options = $.extend(defaults, options);
	
	if(typeof(options.width) == "string"){
		options.width = parseInt(options.width);
		if(isNaN(options.width)){
			options.width = defaults.width;
		}
	}

    return this.each(function() {
	    var $inBox = options.target ? $(options.target) : $(this);
		var maxHeight = $(this).height();
		var $cache = $('<div></div>'); // this is where we'll put the real content
		var lastWidth = 0;
		var columnizing = false;
		
		var adjustment = 0;
		
		$cache.append($(this).contents().clone(true));
	    
	    // images loading after dom load
	    // can screw up the column heights,
	    // so recolumnize after images load
	    if(!options.ignoreImageLoading && !options.target){
	    	if(!$inBox.data("imageLoaded")){
		    	$inBox.data("imageLoaded", true);
		    	if($(this).find("img").length > 0){
		    		// only bother if there are
		    		// actually images...
			    	var func = function($inBox,$cache){ return function(){
				    	if(!$inBox.data("firstImageLoaded")){
				    		$inBox.data("firstImageLoaded", "true");
					    	$inBox.empty().append($cache.children().clone(true));
					    	$inBox.columnize(options);
				    	}
			    	}}($(this), $cache);
				    $(this).find("img").one("load", func);
				    $(this).find("img").one("abort", func);
				    return;
		    	}
	    	}
	    }
	    
		$inBox.empty();
		
		columnizeIt();
		
		if(!options.buildOnce){
			$(window).resize(function() {
				if(!options.buildOnce && $.browser.msie){
					if($inBox.data("timeout")){
						clearTimeout($inBox.data("timeout"));
					}
					$inBox.data("timeout", setTimeout(columnizeIt, 200));
				}else if(!options.buildOnce){
					columnizeIt();
				}else{
					// don't rebuild
				}
			});
		}
		
		/**
		 * return a node that has a height
		 * less than or equal to height
		 *
		 * @param putInHere, a dom element
		 * @$pullOutHere, a jQuery element
		 */
		function columnize($putInHere, $pullOutHere, $parentColumn, height){
			while($parentColumn.height() < height &&
				  $pullOutHere[0].childNodes.length){
				$putInHere.append($pullOutHere[0].childNodes[0]);
			}
			if($putInHere[0].childNodes.length == 0) return;
			
			// now we're too tall, undo the last one
			var kids = $putInHere[0].childNodes;
			var lastKid = kids[kids.length-1];
			$putInHere[0].removeChild(lastKid);
			var $item = $(lastKid);
			
			
			if($item[0].nodeType == 3){
				// it's a text node, split it up
				var oText = $item[0].nodeValue;
				var counter2 = options.width / 18;
				if(options.accuracy)
				counter2 = options.accuracy;
				var columnText;
				var latestTextNode = null;
				while($parentColumn.height() < height && oText.length){
					if (oText.indexOf(' ', counter2) != '-1') {
						columnText = oText.substring(0, oText.indexOf(' ', counter2));
					} else {
						columnText = oText;
					}
					latestTextNode = document.createTextNode(columnText);
					$putInHere.append(latestTextNode);
					
					if(oText.length > counter2){
						oText = oText.substring(oText.indexOf(' ', counter2));
					}else{
						oText = "";
					}
				}
				if($parentColumn.height() >= height && latestTextNode != null){
					// too tall :(
					$putInHere[0].removeChild(latestTextNode);
					oText = latestTextNode.nodeValue + oText;
				}
				if(oText.length){
					$item[0].nodeValue = oText;
				}else{
					return false; // we ate the whole text node, move on to the next node
				}
			}
			
			if($pullOutHere.children().length){
				$pullOutHere.prepend($item);
			}else{
				$pullOutHere.append($item);
			}
			
			return $item[0].nodeType == 3;
		}
		
		function split($putInHere, $pullOutHere, $parentColumn, height){
			if($pullOutHere.children().length){
				$cloneMe = $pullOutHere.children(":first");
				$clone = $cloneMe.clone(true);
				if($clone.prop("nodeType") == 1 && !$clone.hasClass("dontend")){ 
					$putInHere.append($clone);
					if($clone.is("img") && $parentColumn.height() < height + 20){
						$cloneMe.remove();
					}else if(!$cloneMe.hasClass("dontsplit") && $parentColumn.height() < height + 20){
						$cloneMe.remove();
					}else if($clone.is("img") || $cloneMe.hasClass("dontsplit")){
						$clone.remove();
					}else{
						$clone.empty();
						if(!columnize($clone, $cloneMe, $parentColumn, height)){
							if($cloneMe.children().length){
								split($clone, $cloneMe, $parentColumn, height);
							}
						}
						if($clone.get(0).childNodes.length == 0){
							// it was split, but nothing is in it :(
							$clone.remove();
						}
					}
				}
			}
		}
		
		
		function singleColumnizeIt() {
			if ($inBox.data("columnized") && $inBox.children().length == 1) {
				return;
			}
			$inBox.data("columnized", true);
			$inBox.data("columnizing", true);
			
			$inBox.empty();
			$inBox.append($("<div class='first last column' style='width:100%; float: " + options.columnFloat + ";'></div>")); //"
			$col = $inBox.children().eq($inBox.children().length-1);
			$destroyable = $cache.clone(true);
			if(options.overflow){
				targetHeight = options.overflow.height;
				columnize($col, $destroyable, $col, targetHeight);
				// make sure that the last item in the column isn't a "dontend"
				if(!$destroyable.contents().find(":first-child").hasClass("dontend")){
					split($col, $destroyable, $col, targetHeight);
				}
				
				while(checkDontEndColumn($col.children(":last").length && $col.children(":last").get(0))){
					var $lastKid = $col.children(":last");
					$lastKid.remove();
					$destroyable.prepend($lastKid);
				}

				var html = "";
				var div = document.createElement('DIV');
				while($destroyable[0].childNodes.length > 0){
					var kid = $destroyable[0].childNodes[0];
					for(var i=0;i<kid.attributes.length;i++){
						if(kid.attributes[i].nodeName.indexOf("jQuery") == 0){
							kid.removeAttribute(kid.attributes[i].nodeName);
						}
					}
					div.innerHTML = "";
					div.appendChild($destroyable[0].childNodes[0]);
					html += div.innerHTML;
				}
				var overflow = $(options.overflow.id)[0];
				overflow.innerHTML = html;

			}else{
				$col.append($destroyable);
			}
			$inBox.data("columnizing", false);
			
			if(options.overflow){
				options.overflow.doneFunc();
			}
			
		}
		
		function checkDontEndColumn(dom){
			if(dom.nodeType != 1) return false;
			if($(dom).hasClass("dontend")) return true;
			if(dom.childNodes.length == 0) return false;
			return checkDontEndColumn(dom.childNodes[dom.childNodes.length-1]);
		}
		
		function columnizeIt() {
			if(lastWidth == $inBox.width()) return;
			lastWidth = $inBox.width();
			
			var numCols = Math.round($inBox.width() / options.width);
			if(options.columns) numCols = options.columns;
//			if ($inBox.data("columnized") && numCols == $inBox.children().length) {
//				return;
//			}
			if(numCols <= 1){
				return singleColumnizeIt();
			}
			if($inBox.data("columnizing")) return;
			$inBox.data("columnized", true);
			$inBox.data("columnizing", true);
			
			$inBox.empty();
			$inBox.append($("<div style='width:" + (Math.floor(100 / numCols))+ "%; float: " + options.columnFloat + ";'></div>")); //"
			$col = $inBox.children(":last");
			$col.append($cache.clone());
			maxHeight = $col.height();
			$inBox.empty();
			
			var targetHeight = maxHeight / numCols;
			var firstTime = true;
			var maxLoops = 3;
			var scrollHorizontally = false;
			if(options.overflow){
				maxLoops = 1;
				targetHeight = options.overflow.height;
			}else if(options.height && options.width){
				maxLoops = 1;
				targetHeight = options.height;
				scrollHorizontally = true;
			}
			
			for(var loopCount=0;loopCount<maxLoops;loopCount++){
				$inBox.empty();
				var $destroyable;
				try{
					$destroyable = $cache.clone(true);
				}catch(e){
					// jquery in ie6 can't clone with true
					$destroyable = $cache.clone();
				}
				$destroyable.css("visibility", "hidden");
				// create the columns
				for (var i = 0; i < numCols; i++) {
					/* create column */
					var className = (i == 0) ? "first column" : "column";
					var className = (i == numCols - 1) ? ("last " + className) : className;
					$inBox.append($("<div class='" + className + "' style='width:" + (Math.floor(100 / numCols))+ "%; float: " + options.columnFloat + ";'></div>")); //"
				}
				
				// fill all but the last column (unless overflowing)
				var i = 0;
				while(i < numCols - (options.overflow ? 0 : 1) || scrollHorizontally && $destroyable.contents().length){
					if($inBox.children().length <= i){
						// we ran out of columns, make another
						$inBox.append($("<div class='" + className + "' style='width:" + (Math.floor(100 / numCols))+ "%; float: " + options.columnFloat + ";'></div>")); //"
					}
					var $col = $inBox.children().eq(i);
					columnize($col, $destroyable, $col, targetHeight);
					// make sure that the last item in the column isn't a "dontend"
					if(!$destroyable.contents().find(":first-child").hasClass("dontend")){
						split($col, $destroyable, $col, targetHeight);
					}else{
//						alert("not splitting a dontend");
					}
					
					while(checkDontEndColumn($col.children(":last").length && $col.children(":last").get(0))){
						var $lastKid = $col.children(":last");
						$lastKid.remove();
						$destroyable.prepend($lastKid);
					}
					i++;
				}
				if(options.overflow && !scrollHorizontally){
					var IE6 = false /*@cc_on || @_jscript_version < 5.7 @*/;
					var IE7 = (document.all) && (navigator.appVersion.indexOf("MSIE 7.") != -1);
					if(IE6 || IE7){
						var html = "";
						var div = document.createElement('DIV');
						while($destroyable[0].childNodes.length > 0){
							var kid = $destroyable[0].childNodes[0];
							for(var i=0;i<kid.attributes.length;i++){
								if(kid.attributes[i].nodeName.indexOf("jQuery") == 0){
									kid.removeAttribute(kid.attributes[i].nodeName);
								}
							}
							div.innerHTML = "";
							div.appendChild($destroyable[0].childNodes[0]);
							html += div.innerHTML;
						}
						var overflow = $(options.overflow.id)[0];
						overflow.innerHTML = html;
					}else{
						$(options.overflow.id).empty().append($destroyable.contents().clone(true));
					}
				}else if(!scrollHorizontally){
					// the last column in the series
					$col = $inBox.children().eq($inBox.children().length-1);
					while($destroyable.contents().length) $col.append($destroyable.contents(":first"));
					var afterH = $col.height();
					var diff = afterH - targetHeight;
					var totalH = 0;
					var min = 10000000;
					var max = 0;
					var lastIsMax = false;
					$inBox.children().each(function($inBox){ return function($item){
						var h = $inBox.children().eq($item).height();
						lastIsMax = false;
						totalH += h;
						if(h > max) {
							max = h;
							lastIsMax = true;
						}
						if(h < min) min = h;
					}}($inBox));

					var avgH = totalH / numCols;
					if(options.lastNeverTallest && lastIsMax){
						// the last column is the tallest
						// so allow columns to be taller
						// and retry
						adjustment += 30;
						if(adjustment < 100){
							targetHeight = targetHeight + 30;
							if(loopCount == maxLoops-1) maxLoops++;
						}else{
							debugger;
							loopCount = maxLoops;
						}
					}else if(max - min > 30){
						// too much variation, try again
						targetHeight = avgH + 30;
					}else if(Math.abs(avgH-targetHeight) > 20){
						// too much variation, try again
						targetHeight = avgH;
					}else {
						// solid, we're done
						loopCount = maxLoops;
					}
				}else{
					// it's scrolling horizontally, fix the width/classes of the columns
					$inBox.children().each(function(i){
						$col = $inBox.children().eq(i);
						$col.width(options.width + "px");
						if(i==0){
							$col.addClass("first");
						}else if(i==$inBox.children().length-1){
							$col.addClass("last");
						}else{
							$col.removeClass("first");
							$col.removeClass("last");
						}
					});
					$inBox.width($inBox.children().length * options.width + "px");
				}
				$inBox.append($("<br style='clear:both;'>"));
			}
			$inBox.find('.column').find(':first.removeiffirst').remove();
			$inBox.find('.column').find(':last.removeiflast').remove();
			$inBox.data("columnizing", false);

			if(options.overflow){
				options.overflow.doneFunc();
			}
			options.doneFunc();
		}
    });
 };
})(jQuery);

jQuery(document).ready(function(a){var k="$!redirectUrl";a("div#invite_dialog").dialog({bgiframe:true,width:675,height:400,modal:true,draggable:false,position:"center",autoOpen:false,zindex:1003,show:"fade",hide:"fade",resizable:false,open:function(){a(".ui-dialog-titlebar-close").css({"right":"3px","top":"8px"});
a(".ui-dialog").css({overflow:"hidden",position:"fixed",top:"25%"});a("#invite_dialog").css({overflow:"hidden"});},beforeclose:function(){}});function c(){var m=encodeURIComponent(document.location.href.replace("&invite=true","").replace("&sent=true",""));var l=securePrefix+"/bzJApp/ViewDialog.action?sid="+SiteID+"&tid="+TenantID+"&pageName=invite&versionID=2012&returnURL="+m;
a("<iframe />").attr({name:"invite_dialog",src:l,width:675,height:400,scrolling:"no",allowTransparency:true,frameborder:0,border:0}).appendTo("#invite_dialog");a("div#invite_dialog").dialog("open");a("div#invite_error_message").text("");}function j(){a("div#dialog_confirmation").dialog({width:320,height:100,modal:true,draggable:false,position:"center",autoOpen:false,resizable:false});
a("div#dialog_confirmation").dialog("open");a(".ui-dialog-titlebar-close").click(function(){var l=document.location.href.replace("&sent=true","");window.parent.location.replace(l);});}var i=getSpecificUrlValue("invite");if(i=="true"&&(getModniqueCookie("cookie")&&getModniqueCookie("cookie")!=""&&getModniqueCookie("cookie")!='""')){c();
}var e=getSpecificUrlValue("sent");if(e=="true"&&(getModniqueCookie("cookie")&&getModniqueCookie("cookie")!=""&&getModniqueCookie("cookie")!='""')){j();}a("a#nav_invite").click(function(l){l.preventDefault();if(usePersistentLoginCookie=="Y"){if(!getModniqueCookie(checkoutCookieName)){l.preventDefault();
a("a#usernav_login").trigger("click",[secureProtocol+"://"+checkoutHost+"/taf/invitefriends"]);}else{c();}}});a("a#nav_invite, a.nav_invite").click(function(l){l.preventDefault();c();});jQuery.fn.center=function(l){this.css("position","absolute");this.css("top",((a(window).height()-this.outerHeight())/2)+a(window).scrollTop()+"px");
this.css("left",((a(window).width()-a("#"+l).outerWidth())/2)+a(window).scrollLeft()+"px");return this;};function d(){a("<div />").attr({id:"preloaderWrapper"}).appendTo("body");var l=a("div#preloaderWrapper");l.overlay({speed:200,fixed:false,mask:{color:"#000",loadSpeed:0,opacity:0.3}});l.center("preloaderWrapper");
l.html('<div id="preloaderSpinner"><img src="/bzJApp/views/'+fileVersion+'site/modnique2012/images/cssImages/modnique2012/placeholder/processSpinner.gif" /></div>');l.data("overlay").load();l.center("preloaderWrapper").css({"margin-top":"50px"});}function b(l){errorCode=l.errorCode;returnURL=l.returnURL;
if(errorCode==0){a("div#emailsent").show();a("div#errormessage").hide();a("#inviteFormHeader").hide();}else{errorMessage=l.errorMessage;a("div#errormessage").html(errorMessage).show();a("#inviteFormHeader").hide();a("div#preloaderWrapper").overlay().close();}}var h=0;var g=3;function f(l){h=h+1;if(h>=g){errorMessage=l.errorMessage;
a("div#preloaderWrapper").overlay().close();a("div#errormessage").html("There was an unexpected error.  Please try again.").show();a("#inviteFormHeader").hide();h=0;}else{a("input#send_invitation, a#send_invitation").click();}}a("input#send_invitation, a#send_invitation").click(function(m){m.preventDefault();
l=securePrefix+"/bzJApp/InviteArbitraryUserJson.action";param="?sid="+SiteID+"&tid="+TenantID;var l=l+param+"&inviteeEmailAddress= "+a("textarea#inviteeEmailAddress").val()+"&inviteeFirstName="+a("input#inviteeFirstName").val()+"&returnURL="+a("input#returnUrl").val()+"&cb="+Math.random()+"&callback=?";
jQuery.ajax({url:l,jsonp:true,dataType:"jsonp",type:"GET",crossDomain:true,beforeSend:d,success:b,error:f,complete:function(){a("div#preloaderWrapper").overlay().close();a("div#preloaderWrapper").hide();}});});a("a#emailsent_close").click(function(){window.top.location.href=returnURL;});});function updatePersonalizedLink(d){var a=getModniqueCookie(myInviteSourceCookie);
var c=$("p#personalizedLink");var b=c.text();if(a!=null&&a!=""){c.text(b+a);}else{c.text(b+d);}}
displayLoggedInUtilities("customer");if($("li.fCalc .hdCrsl").size()==0){$("#nav").css("border-right","none");}$(document).ready(function(){function c(){var g=$(this);g.find(".nav_tab").stop().fadeTo(50,1).show();}function b(){$(this).find(".nav_tab").stop().fadeTo(50,0,function(){$(this).hide();});}ObjCountryByIp.updatePageByCountrySync(ObjCountryByIp.hideSaleEventsByCountry);
$("#events_columns_source").columnize({columns:4}).children().appendTo("#events_columns_target");var e=null;$("#shops_columns").show().children().each(function(g){if(g%3==0){e=$('<div class="column lfloat"></div>').appendTo("#shops_columns");}e.append(this);});var d={sensitivity:3,interval:50,over:c,timeout:50,out:b};
$("ul#nav li .nav_tab").css("opacity",0.9);$("ul#nav li").hoverIntent(d);function a(m){var l=m.split("&");var k="";var o="";for(i=0;i<l.length;i++){var g=l[i].split("=");var j=g[0];var h=g[1];if(j=="action1"){if(h=="rememberUsername"){var n=l[i+1].split("=");var n=n[1];setBidzCookieWithDomain("rememberUser",n,100,cookieDomain);
}else{if(h=="forgetUsername"){setBidzCookieWithDomain("rememberUser","",-10,cookieDomain);}}}else{if(j=="action2"){o=h;}else{if(j=="redirectURL"){k=h;}}}}return o+"&redirectURL="+k;}jQuery.receiveMessage(function(l){var m=l.data;if(m.indexOf("action1")>-1){m="action2="+a(m);}if(m.indexOf("action2")>-1){var j=m.split("action2=");
j=j[1].split("&");j=j[0];switch(j){case"closeLoginDialogGoToCart":var k=m.split("redirectURL=");k=unescape(unescape(k[1]));redirectPage(k);break;}m=j;}switch(m){case"closeLoginDialog":var h=stripUrlParam(top.location.href,"userLoggedIn");redirectPage(h);break;case"openSignup":var g="http://$action.getSiteOpt('hostName')/bzJApp/ViewNewCustRegistrationForm.action?sid="+SiteID+"&tid="+TenantID+"&returnURL=$esc.url($logoutLastPage)";
redirectPage(g);break;case"openForgotPassword":var g="$rememberPasswordLink";redirectPage(g);break;default:break;}},"$securePrefix");$("div#dialog_confirmation").dialog({bgiframe:true,width:320,height:100,modal:true,draggable:false,position:"center",autoOpen:false,resizable:false});$("a#usernav_signup").click(function(){signupDialog();
});if(getModniqueCookie("numOfItemsInCart")>0){$("a#header_itemsnumber").text("shopping bag ("+getModniqueCookie("numOfItemsInCart")+")");}$("a#account").click(function(g){if(usePersistentLoginCookie=="Y"){if(!getModniqueCookie(checkoutCookieName)){g.preventDefault();$("a#usernav_login").trigger("click",[secureProtocol+"://"+checkoutHost+"/my-account"]);
}}});$("input#check_submit").click(function(g){if(usePersistentLoginCookie=="Y"){if(!getModniqueCookie(checkoutCookieName)){g.preventDefault();$("a#usernav_login").trigger("click",[secureProtocol+"://"+checkoutHost+"/bzJApp/ShoppingCartProcess.action?"+$("form#shoppingCartForm").serialize()]);}}});$("a#nav_invite").click(function(g){if(usePersistentLoginCookie=="Y"){if(!getModniqueCookie(checkoutCookieName)){g.preventDefault();
$("a#usernav_login").trigger("click",[secureProtocol+"://"+checkoutHost+"/taf/invitefriends"]);}}});$("#nav li").hover(function(){$(this).find("a").addClass("active");$(this).find(".subnav").show();},function(){$(this).find("a").removeClass("active");$(this).find(".subnav").hide();});$("li.rollover").hover(function(){$(this).find("a:first").addClass("active");
$(this).find(".cList").show();},function(){$(this).find("a:first").removeClass("active");$(this).find(".cList").hide();});$("div#myaccount_nav .openPersistentLoginDialog").click(function(g){if(usePersistentLoginCookie=="Y"&&!getModniqueCookie(checkoutCookieName)){g.preventDefault();$("a#usernav_login").trigger("click",[$(this).attr("href")]);
}});var f=getModniqueCookie("lastvisit");if(!f){if(isCustomerLoggedIn()){jQuery.ajax({url:"/bzJApp/UpdateLastVisitTS.action?sid=300&tid=100",type:"POST"});}}});if(enableGigyaLoginFunctionality=="Y"){jQuery(document).bind("gigyaReady",function(b,a){if(objGigya.isReady()&&a){objGigya.options={showTermsLink:"false",hideGigyaLink:true,height:15,width:65,containerID:"usernav_gigya_login",autoDetectUserProviders:"",facepilePosition:"none",lastLoginIndication:"none",UIConfig:'<config><body><controls><snbuttons buttonsize="15"></snbuttons></controls></body></config>'};
objGigya._create("getUserInfo");}});}$(document).ready(function(){var f=function(h){$(".hdSearchFilter").removeClass("active");$(".hdSearchFilter").hide();h.css("color","#272727");h.find("span.dArrowTeal").removeClass("dArrowTeal").addClass("dArrowDark");};$("#hdSearchFilter").children("label").on("click",function(){$("#search").click();
return false;});$(document).on("click",function(){f($("#search"));});if($("#search").length>0){$("#search").on("click",function(){if($(".hdSearchFilter").hasClass("active")){f($(this));}else{$(".hdSearchFilter").addClass("active");$(".hdSearchFilter").show();$(this).css("color","#1BCCBA");$(this).find("span.dArrowDark").removeClass("dArrowDark").addClass("dArrowTeal");
}return false;});}if($(".oneHourCheckoutPop").length>0){var e="";if($(".ohc").length>0){e=".ohc";}else{if($(".ohcConfirm").length>0){e=".ohcConfirm";}}$(".oneHourCheckoutPop").on("mouseenter",function(){$(this).parent().parent().find(e).show();}).on("mouseleave",function(){$(this).parent().parent().find(e).hide();
});}$("input.enterEmail").focus(function(){if($(this).val()=="Enter email address"){$(this).attr("value","");}$(this).removeClass("bare");}).blur(function(){if($(this).val()==""){$(this).attr("value","Enter email address");$(this).addClass("bare");}});$("#promo_subscribe_button").live("click",function(k){k.preventDefault();
$("form#promo").validate({rules:{email:{required:true,email:true}},messages:{email:"Enter a valid email."},errorPlacement:function(l,m){l.addClass("negative mrs lfloat");l.insertAfter("#promo_subscribe_button");}});if($("form#promo").validate().form()){var j=location.protocol+"//"+window.location.hostname;
var h;if($("#daily_email_checkbox:checked").val()==1){h="Yes";}else{h="No";}querystring=j+"/bzJApp/Proxy.action?actionName=XMLSubscribeCustAction&dest=c&sid="+SiteID+"&tid="+TenantID+"&params=";param="sid="+SiteID+"&tid="+TenantID+"&email="+$("#promo_email_field").val()+"&promo=modShoppingSpree"+"&OptinDaily="+h;
param=escape(param);querystring=querystring+param;$("#dialogWrapper").load(querystring,d);}});$(".closeSubscriptionDialog").live("click",function(){$("#dialogWrapper").overlay().close();});function d(l,j){var p="subscription_dialog";var o="<h2>Shopping Spree</h2>";var h="closeSubscriptionDialog";var q=securePrefix+"/bzJApp/ViewDialog.action?sid="+SiteID+"&tid="+TenantID+"&pageName=subscriptionSuccess&versionID=2012";
var m=370;var k=150;c(p,o,h,q,m,k);var n=20;a(n);}if(ObjBrowserDetect.isIE7()){$("#search").css("z-index","1000");$(".floating").each(function(){var h=$(this);h.parent().css("height",h.outerHeight(true));});}$(window).on("scroll",function(){var k=0;var h=$(window).scrollTop();var j=$(".floating");var l=j.first();
j.each(function(){var m=$(this);ptop=k;k+=m.outerHeight(true);if(0<h){m.addClass("posFixtl").css("top",ptop+"px");if(m.attr("id")=="event_header"){m.addClass("pts");}else{if(m.attr("id")=="content1"){m.addClass("ptm");}}}else{m.removeClass("posFixtl").css("top","");if(m.attr("id")=="event_header"){m.removeClass("pts");
}else{if(m.attr("id")=="content1"){m.removeClass("ptm");}}}});});function c(p,o,k,q,m,l){var h=document.location.href;h=h.split("#");h=h[0];h=escape(h);q+="&returnURL="+h;var n=$("#dialogWrapper");n.html("");var j=""+'<div id="'+p+'" style="width:'+m+"px; height:"+(l)+'px">'+' <a class="'+k+' btnCloseAbs posAbs"></a>'+' <div class="mod dialog man">'+'<b class="top">'+' <b class="tl"></b>'+' <b class="tr"></b>'+"</b>"+' <div class="inner">'+'<div class="hd pvs phm">'+o+"</div>"+'<div id="frame_'+p+'" class="bd pam">'+'<iframe id="iframe_'+p+'" src="'+q+'" width="'+m+'" height="'+(l-40)+'" scrolling="no" frameborder="0"></iframe>'+"</div>"+"</div>"+'<b class="bottom">'+'<b class="bl"></b>'+'<b class="br"></b>'+"</b>"+"</div>";
n.append(j);}function a(j){var h=$("#dialogWrapper");h.data("overlay").load();h.css("top",j+"%");h.css("left",(($(window).width()-h.outerWidth())/2)+$(window).scrollLeft()+"px");}if($(".countdown_explain").length>0){var g=$(".countdown_explain");$(".whyCount").mouseover(function(){g.show();}).mouseout(function(){g.hide();
});}if($(".ohsExplain").length>0){var b=$(".ohsExplain");$(".whyCountOHS").mouseover(function(){b.show();}).mouseout(function(){b.hide();});}});$(window).load(function(){var a="sid="+SiteID+"&tid="+TenantID;if((getSpecificUrlValue("subid")!=""&&getSpecificUrlValue("comp")!="")){a+="&subid="+getSpecificUrlValue("subid")+"&comp="+getSpecificUrlValue("comp");
}if(getSpecificUrlValue("promo")!=""){a+="&promo="+getSpecificUrlValue("promo");}if(isUserLoggedIn()){getStoreCreditValueWithJQuery(securePrefix,"ShowStoreCashCredit",a,"span#usernav_credit#and#span#usernav_welcome");}else{$(document).trigger("storeCreditReady");}if(!ObjBrowserDetect.isIE7()){$("#facebook_like_box").html('<iframe src="http://www.facebook.com/plugins/likebox.php?id=282164453820&amp;width=310&amp;connections=5&amp;stream=false&amp;header=false&amp;height=190" scrolling="no" frameborder="0" style="border:none; background-color:#FFF; overflow:hidden; width:310px; height:190px;" allowTransparency="true"></iframe>');
}});jQuery().ready(function(){$("a.logout").live("click",function(c){c.preventDefault();if(objGigya!=null){objGigya.logout();}});var b=getUrlParam("showLogin");var a=getUrlParam("returnURL");if(b=="true"||b=="confirm"){if(a!=false){$("#usernav_login").trigger("click",a);}else{$("#usernav_login").trigger("click");
}}});
jQuery(document).ready(function(a){var b={cookieName:"modnique_mobile",cookieValue:"",cookieDomain:".modnique.com",cookiePath:"/",cookieExpiration:new Date(),mobile:(/iphone|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase())),_create:function(){this.cookieExpiration=this.cookieExpiration.setTime(this.cookieExpiration.getTime()+(30*24*60*60*1000));
this._init();this._bindEvents();},_init:function(){this.mobileCookieValue=getModniqueCookie("modnique_mobile");if(this.mobile&&this.mobileCookieValue!="MobileViewShowOverlay"&&this.mobileCookieValue!="MobileViewHideOverlay"&&this.mobileCookieValue!="WebView"){var c='<div class="viewMobileOverlay">'+'<div class="viewMobile">'+'<img src="http://images.modnique.com/mobile/mobileShopModOverlay_may2012.jpg" style="width: 96%; background: #fff;" />'+'<a class="btnMobYes tac pal mal fem6 viewMobileLink" href="#">'+"Shop Modnique Mobile"+"</a>"+'<a href="#" class="btnMobNo tac pal mal fem4 noThanksMobile">'+"No Thanks, Take Me to the Desktop Site"+"</a>"+"</div>"+"</div>";
a("body").append(c);}else{if(this.mobile&&(this.mobileCookieValue=="MobileViewShowOverlay"||this.mobileCookieValue=="MobileViewHideOverlay")){b.redirectMobile();}}},_bindEvents:function(){a(".viewMobileLink").on("click",function(){b.cookieValue="MobileViewShowOverlay";jQuery.cookie(b.cookieName,b.cookieValue,{domain:b.cookieDomain,path:b.cookiePath,expires:b.cookieExpiration});
b.redirectMobile();});a("div.viewMobile .noThanksMobile").on("click",function(){b.cookieValue="WebView";jQuery.cookie(b.cookieName,b.cookieValue,{domain:b.cookieDomain,path:b.cookiePath,expires:b.cookieExpiration});a(".viewMobileOverlay").remove();});},redirectMobile:function(){window.location=window.location.href.replace(strippedHost,strippedMobileHost).replace(checkoutHost,checkoutMobileHost).toLowerCase().replace("versionID=2012","versionID=m");
}};b._create();});
var gigyaEventObj,objGigya={uiAction:"",options:{},licenseKey:gigyaLicenseKey,conf:{APIKey:gigyaLicenseKey,connectWithoutLoginBehavior:"alwaysLogin"},hostProtocol:(("https:"==document.location.protocol)?"https://cdns":"http://cdn"),ready:false,multipleOptions:new Array(),isJSLoaded:false,_loadGigyaJS:function(){if(!ObjBrowserDetect.isIE7()){this.ready=true;
}else{$(document).trigger("gigyaReady",false);}if(this.ready&&window.gigyaSocializeLoaded==null){window.onGigyaServiceReady=function(){objGigya.isJSLoaded=true;gigya.services.socialize.addEventHandlers(objGigya.conf,{context:{str:"Logged in."},onLogin:objGigya.onLoginHandler,onLogout:objGigya.onLogoutHandler});
$(document).trigger("gigyaReady",true);};jQuery.getScript(this.hostProtocol+".gigya.com/JS/socialize.js?apikey="+this.licenseKey);window.gigyaSocializeLoaded=true;}},_create:function(a){if(this.ready){this.uiAction=a;$(".gigyaTitle").show();this._init();}else{$(".gigyaTitle").hide();}},_init:function(){switch(this.uiAction){case"showLoginUI":gigya.services.socialize.showLoginUI(this.conf,this.options);
break;case"getUserInfo":gigya.services.socialize.getUserInfo(this.conf,{callback:this.renderUI});break;case"showShareUI":this.showShareUIButton();this.uiShareBarFix();break;case"showShareBarUI":gigya.services.socialize.showShareBarUI(this.conf,this.options);this.uiShareBarFix();break;case"showShareUIWidget":gigya.services.socialize.showShareUI(this.conf,this.options);
break;}},isReady:function(){if(this.ready){$(".gigyaTitle").show();}else{$(".gigyaTitle").hide();}return this.ready;},renderUI:function(b){if(b.user!=null&&b.user.isConnected){$("ul.userLoggedIn #noprofile").css("display","none");$("ul.userLoggedIn #name").html(b.user.firstName);var a=(("https:"==document.location.protocol)?"https://":"http://");
b.user.thumbnailURL=b.user.thumbnailURL.replace("http://",a);if(b.user.thumbnailURL.length>0){$("ul.userLoggedIn #photo").attr("src",b.user.thumbnailURL);}else{$("ul.userLoggedIn #photo").attr("src",a+"cdn.gigya.com/site/images/bsAPI/Placeholder.gif");}$("ul.userLoggedIn #profile").fadeIn("slow");}},onLoginHandler:function(a){gigyaEventObj=a;
querystring="/bzJApp/Proxy.action?actionName=GigyaLogon&method=p&dest=c&sid="+SiteID+"&tid="+TenantID+"&pageload="+RandomNumber+"&params=";jQuery.ajax({url:querystring,type:"POST",data:{"gigyaJson":JSON.stringify(a)},cache:false,timeout:ajaxTimeouts["mediumTimeout"],success:objGigya.gigyaLoginCallback});
},onLogoutHandler:function(a){},gigyaLoginCallback:function(a){var b=JSON.parse(a);if($("#ajax_dialogReturnUrl").length>0){redirectUrl=$("#ajax_dialogReturnUrl").val();}else{redirectUrl=window.location.href;}redirectUrl=redirectUrl.replace("&gigyaEmailLink=Y","");redirectUrl=redirectUrl.replace("showLogin=true","").replace("showLogin=confirm","");
if($("#ajax_dialogReturnUrl").length>0){objGigya.processLoginDialogResponse(b.action,redirectUrl);}else{objGigya.proccessDefaultResponse(b.action,redirectUrl);}},gigyaLoginCallbackError:function(a){},proccessDefaultResponse:function(b,a){switch(b){case"LOGGED_IN":window.location.replace(a);break;case"REGISTERED":window.location.replace(gigyaResponse.nextPage);
break;case"LINKING_REQUIRED":case"EMAIL_UNAVAILABLE":window.location.replace(securePrefix+"/bzJApp/ViewDialog.action?pageName=signupComplete&sid="+SiteID+"&tid="+TenantID+"&versionID="+VersionID+"&gigyaEmailLink=Y"+"&email="+encodeURIComponent(gigyaEventObj.user.email)+"&gigyaUID="+encodeURIComponent(gigyaEventObj.UID));
break;}},processLoginDialogResponse:function(b,a){switch(b){case"LOGGED_IN":$("#login_error_message").text("You are in! Welcome.").show();$(document).trigger("userLoggedIn");window.location.replace(securePrefix+"/bzJApp/ViewDialog.action?pageName=signupComplete&sid="+SiteID+"&tid="+TenantID+"&versionID="+VersionID+"&returnURL="+encodeURIComponent(a));
break;case"REGISTERED":window.location.replace(securePrefix+"/bzJApp/ViewDialog.action?pageName=signupComplete&sid="+SiteID+"&tid="+TenantID+"&versionID="+VersionID+"&returnURL="+encodeURIComponent(a));break;case"EMAIL_UNAVAILABLE":case"LINKING_REQUIRED":window.location.replace(securePrefix+"/bzJApp/ViewDialog.action?pageName=signupComplete&sid="+SiteID+"&tid="+TenantID+"&versionID="+VersionID+"&gigyaEmailLink=Y"+"&email="+encodeURIComponent(gigyaEventObj.user.email)+"&gigyaUID="+encodeURIComponent(gigyaEventObj.UID))+"&returnURL="+encodeURIComponent(a);
break;case"LOGIN_FAILED":$("div#login_error_message").text(gigyaResponse.errorMessage);break;}},showShareUIButton:function(){jQuery.each(this.multipleOptions,function(b,c){var a=b+1;jQuery("#share_"+a).live("click",function(){gigya.services.socialize.showShareUI(c);});});},logout:function(){if(gigya!=null&&gigya.socialize!=null){gigya.socialize.logout({callback:function(a){if(a.errorCode==0){location.href=hostName+"bzJApp/CustomerLogout.action?sid="+SiteID+"&tid="+TenantID;
}}});}else{location.href=hostName+"bzJApp/CustomerLogout.action?sid="+SiteID+"&tid="+TenantID;}},uiShareBarFix:function(){setTimeout(function(){$("div.gig-share-counter").css({"font-size":"11px"});},60);}};$().ready(function(){setTimeout(function(){objGigya._loadGigyaJS();},1000);});
