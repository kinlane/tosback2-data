sj=[];sj.path="../dhtml/";var zoomFactor=2;function checkPath(){if(typeof(sj_codebase)!="undefined"){if(sj_codebase.substring(sj_codebase.length-1)!="/"&&sj_codebase!=""){sj_codebase+="/"}sj.path=sj_codebase}return sj.path}var timoutHolder=null;var eventHolder="J";function sjPBreak(a){return((a.indexOf("?")>=0?"&":"?"))}function s7onFlyoutStartME(a){if(a=="flyzoom"){if(browserVersionNumber<7){$("#prodVars").hide()}}}function s7onFlyoutEndME(a){if(a=="flyzoom"){if(browserVersionNumber<7){$("#prodVars").show()}}}Number.prototype.NaN0=function(){return isNaN(this)?0:this};function findPos(b){var a=y=0;while(b!=null){a+=b.offsetLeft;y+=b.offsetTop;b=b.offsetParent}return[a,y]}function sjFixPNG(a){var c=navigator.appVersion.split("MSIE");var b=parseFloat(c[1]);if((b>=5.5)&&(b<=8)&&(document.body.filters)&&(a.src.indexOf("http://images3.pacsun.com/is/image/pacsun/spacer-t?$img_png-alpha$&$ext=.png")==-1)){var d=a.src;a.style.width=a.width+"px";a.style.height=a.height+"px";a.style.backgroundImage="none";if(a.filters){if(a.filters.length>0){if(a.filters["DXImageTransform.Microsoft.AlphaImageLoader"]){a.filters.item("DXImageTransform.Microsoft.AlphaImageLoader").src=d;a.filters.item("DXImageTransform.Microsoft.AlphaImageLoader").sizingMethod="scale";a.filters.item("DXImageTransform.Microsoft.AlphaImageLoader").enabled=true;a.src="http://images3.pacsun.com/is/image/pacsun/spacer-t?$img_png-alpha$&$ext=.png"}else{a.style.filter+=" progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true,src='"+d+"', sizingMethod='scale')"}}else{a.style.filter=" progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true,src='"+d+"', sizingMethod='scale')"}a.src="http://images3.pacsun.com/is/image/pacsun/spacer-t?$img_png-alpha$&$ext=.png"}}}function sjSetOpacity(c,b){if(b<0){b=0}if(b>99){b=99}c.style.opacity=(b/100);c.style.MozOpacity=(b/100);c.style.KhtmlOpacity=(b/100);var d=navigator.appVersion.split("MSIE");var a=parseFloat(d[1]);if((a>=5.5)&&(a<=8)&&(document.body.filters)){if(b>99){b=100;c.style.opacity=(b/100)}if(c.filters){if(c.filters.length>0){if(c.filters["DXImageTransform.Microsoft.Alpha"]){c.filters.item("DXImageTransform.Microsoft.Alpha").Opacity=b}else{c.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(opacity="+b+")"}}else{c.style.filter=" progid:DXImageTransform.Microsoft.Alpha(opacity="+b+")"}}}c.opacity=c.style.opacity;return c.opacity}function sjFadeEffect(a,d,c,g,e,h){a.effectStartTime=new Date().getTime();a.time=g;if(typeof a._fadeOpId!="undefined"){clearTimeout(a._fadeOpId);a._fadeOpId=null}var f=Math.ceil(e*(g/1000));var b=(c-d)/f;sjFadeOpacityStep(a,0,f,d,b,(g/f),h)}function sjFadeOpacityStep(g,c,f,e,a,d,h){var b=new Date().getTime()-g.effectStartTime;sjSetOpacity(g,Math.round(e+(a*c)));if(b<=g.time){c=Math.round(f*b/g.time);g._fadeOpId=setTimeout(function(){sjFadeOpacityStep(g,(c+1),f,e,a,d,h)},d)}else{if(h){h()}}}function sjShutterEffect(a,c,d,e,h,f,i){a.effectStartTime=new Date().getTime();a.time=h;if(typeof a._shutterOpId!="undefined"){clearTimeout(a._shutterOpId);a._shutterOpId=null}var g=Math.ceil(f*(h/1000));var b=new Object();b.top=(d.top-c.top)/g;b.right=(d.right-c.right)/g;b.bottom=(d.bottom-c.bottom)/g;b.left=(d.left-c.left)/g;shutterStep(a,0,g,c,e,b,Math.ceil(h/g),i)}function shutterStep(h,d,g,b,f,a,e,i){var c=new Date().getTime()-h.effectStartTime;switch(f){case"top":h.style.clip="rect("+Math.round(h.offsetHeight-h.offsetHeight/100*(b.bottom+a.bottom*d))+"px, "+h.offsetWidth+"px, "+h.offsetHeight+"px, 0px)";h.clipArea=Math.round(b.bottom+(a.bottom*d));break;case"right":h.style.clip="rect(0px, "+Math.round(h.offsetWidth/100*(b.right+a.right*d))+"px, "+h.offsetHeight+"px, 0px)";h.clipArea=Math.round(b.right+(a.right*d));break;case"bottom":h.style.clip="rect(0px, "+h.offsetWidth+"px, "+Math.round(h.offsetHeight/100*(b.bottom+a.bottom*d))+"px, 0px)";h.clipArea=Math.round(b.bottom+(a.bottom*d));break;case"left":h.style.clip="rect(0px, "+h.offsetWidth+"px, "+h.offsetHeight+"px, "+Math.round(h.offsetWidth-h.offsetWidth/100*(b.right+a.right*d))+"px)";h.clipArea=Math.round(b.right+(a.right*d));break;default:h.style.clip="rect(0px, "+Math.round(h.offsetWidth/100*(b.right+a.right*d))+"px, "+h.offsetHeight+"px, 0px)";h.clipArea=Math.round(b.right+(a.right*d));break}if(c<=h.time){d=Math.round(g*c/h.time);h._shutterOpId=setTimeout(function(){shutterStep(h,d,g,b,f,a,e,i)},e)}else{if(i){i()}}}function SJZoomer(j,z){var r=null;r=j;var p={wid:parseInt(j.clientWidth),hei:parseInt(j.clientHeight),left:parseInt(j.clientWidth)+10,top:0};var C={effect:"none",duration:1,direction:"right"};var a=null;var D="#ffffff 10px solid";var b="#0000ff 1px solid";var B="false";var m=j.getAttribute("params");var d=m.split(";");for(var l=0;l<d.length;l++){var k=d[l].split(":");switch(k[0].toLowerCase()){case"transition":C.effect=(k[1].split(","))[0].toLowerCase();C.duration=(isNaN(parseFloat((k[1].split(","))[1]))||(parseFloat((k[1].split(","))[1])<=0))?C.duration:parseFloat((k[1].split(","))[1]);break;case"flyout":p.wid=(isNaN(parseInt((k[1].split(","))[0]))||(parseInt((k[1].split(","))[0])<0))?p.wid:parseInt((k[1].split(","))[0]);p.hei=(isNaN(parseInt((k[1].split(","))[1]))||(parseInt((k[1].split(","))[1])<0))?p.hei:parseInt((k[1].split(","))[1]);p.left=(isNaN(parseInt((k[1].split(","))[2])))?p.left:parseInt((k[1].split(","))[2]);p.top=(isNaN(parseInt((k[1].split(","))[3])))?p.top:parseInt((k[1].split(","))[3]);break;case"zoomfactor":zoomFactor=(isNaN(parseFloat(k[1]))||(parseFloat(k[1])<=0))?zoomFactor:parseFloat(k[1]);break;case"iconurl":a=unescape(k[1]);break;case"frameborder":D=k[1];break;case"flyoutborder":b=k[1];break;case"transparent":B=k[1].toLowerCase();break}}function t(){if(E&&j){E.style.left=findPos(j)[0]+parseInt(j.style.borderLeftWidth).NaN0()+"px";E.style.top=findPos(j)[1]+parseInt(j.style.borderTopWidth).NaN0()+"px"}if(F&&j){F.style.left=findPos(j)[0]+parseInt(p.left)+"px";F.style.top=findPos(j)[1]+parseInt(p.top)+"px"}}function q(i){h.style.left=i.x1+"px";h.style.top=i.y1+"px";v.style.left=i.x2+"px";v.style.top=i.y2+"px";h.style.visibility="inherit"}function x(K,L){if(!K){var K=window.event}if(K==null){if(document.createEvent){var J=document.createEvent("MouseEvents");J.initEvent("mouseover",true,false);L.dispatchEvent(J)}else{if(document.createEventObject){L.fireEvent("onmouseover")}}return}if(K.pageX||K.pageY){K.posx=K.pageX;K.posy=K.pageY}else{if(K.clientX||K.clientY){K.posx=K.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;K.posy=K.clientY+document.body.scrollTop+document.documentElement.scrollTop}}K.cancelBubble=true;if(K.stopPropagation){K.stopPropagation()}if(K.preventDefault){K.preventDefault()}if(window.event){window.event.cancelBubble=true}L.xr=findPos(L)[0];L.yr=findPos(L)[1];var G={x1:0,y1:0,x2:0,y2:0};if(K.posx>=L.xr){G.x1=L.xr-parseInt(h.style.borderLeftWidth).NaN0()}if(K.posx>=L.xr+h.offsetWidth/2-parseInt(h.style.borderLeftWidth).NaN0()){G.x1=K.posx-h.offsetWidth/2}if(K.posx>=L.xr+L.offsetWidth-h.offsetWidth/2+parseInt(h.style.borderRightWidth).NaN0()){G.x1=L.xr+L.offsetWidth-h.offsetWidth+parseInt(h.style.borderRightWidth).NaN0()}if(K.posy>=L.yr){G.y1=L.yr-parseInt(h.style.borderTopWidth).NaN0()}if(K.posy>=L.yr+h.offsetHeight/2-parseInt(h.style.borderTopWidth).NaN0()){G.y1=K.posy-h.offsetHeight/2}if(K.posy>=L.yr+L.offsetHeight-h.offsetHeight/2+parseInt(h.style.borderBottomWidth).NaN0()){G.y1=L.yr+L.offsetHeight-h.offsetHeight+parseInt(h.style.borderBottomWidth).NaN0()}var H=v.clientWidth/L.clientWidth;var I=v.clientHeight/L.clientHeight;G.x2=-(parseInt(h.style.left)+parseInt(h.style.borderLeftWidth).NaN0()-L.xr)*H;G.y2=-(parseInt(h.style.top)+parseInt(h.style.borderTopWidth).NaN0()-L.yr)*I;if(K.type=="mousemove"){setTimeout(function(){q(G)},10)}else{if(K.type=="mouseout"){$("#zoomProduct").show();if(C.effect=="fade"){$("#lupaVflyzoom").hide();if(typeof s7onFlyoutEndME!="undefined"){s7onFlyoutEndME(j.id)}}else{F.style.visibility="hidden";if(typeof s7onFlyoutEndME!="undefined"){s7onFlyoutEndME(j.id)}}setTimeout(function(){h.style.visibility="hidden"},10);h.style.visibility="hidden";var i=$("#flyzoom").attr("src");i=i.replace("&bgColor=255,255,255&op_brightness=-80","");$("#flyzoom").attr("src",i)}else{if(K.type=="mouseover"){$("#zoomProduct").hide();if(typeof s7onFlyoutStartME!="undefined"){s7onFlyoutStartME(j.id)}if(C.effect=="fade"){$("#lupaVflyzoom").show();sjSetOpacity(F,100)}var i=$("#flyzoom").attr("src");if(i.indexOf("op_brightness")<1){$("#flyzoom").attr("src",i+"&bgColor=255,255,255&op_brightness=-80")}}}}return K}var E=document.getElementById("cont"+r.id);if(E){E.onmousemove=null;E.onmouseout=null;E.onmouseover=null;document.body.removeChild(E);E=null}E=document.createElement("img");E.id="cont"+r.id;E.style.width=parseInt(r.clientWidth)+"px";E.style.height=parseInt(r.clientHeight)+"px";E.style.left=parseInt(findPos(j)[0]+parseInt(j.style.borderLeftWidth).NaN0())+"px";E.style.top=parseInt(findPos(j)[1]+parseInt(j.style.borderTopWidth).NaN0())+"px";E.style.overflow="hidden";E.style.position="absolute";E.style.zIndex=10000;E.style.cursor="pointer";E.onmousemove=function(i){x(i,this);return false};E.onmouseout=function(i){clearTimeout(timoutHolder);x(i,this);return false};E.onmouseover=function(i){eventHolder=i;A();return false};document.body.appendChild(E);sjSetOpacity(E,0);var h=document.getElementById("lupa"+r.id);if(h){document.body.removeChild(h);h=null}h=document.createElement("img");h.id="lupa"+r.id;h.style.width=100+"px";h.style.height=100+"px";h.style.left=E.style.left;h.style.top=E.style.top;h.style.border=D;h.style.position="absolute";h.style.visibility="hidden";if((typeof a!="undefined")&&(a!="null")&&(a!=null)&&(a!="")){h.src=a}else{h.src="http://images3.pacsun.com/is/image/pacsun/spacer-t?$img_png-alpha$&$ext=.png"}document.body.appendChild(h);sjSetOpacity(h,60);$(h).pngfix();var F=document.getElementById("lupaV"+r.id);var v=document.getElementById("zoomImgCV"+r.id);var e=document.getElementById("zoomImgV"+r.id);if(F){if(v){e.onload=null;e.onerror=null;v.removeChild(e);F.removeChild(v)}document.body.removeChild(F);v=null;e=null;F=null}F=document.createElement("div");F.id="lupaV"+r.id;F.style.width=parseInt(p.wid||r.clientWidth)+"px";F.style.height=parseInt(p.hei||r.clientHeight)+"px";F.style.left=parseInt(findPos(j)[0]+p.left)+"px";F.style.top=parseInt(findPos(j)[1]+p.top)+"px";F.style.overflow="hidden";F.style.position="absolute";F.style.border=b;v=document.createElement("div");v.id="zoomImgCV"+r.id;v.style.overflow="hidden";v.style.position="absolute";e=document.createElement("img");e.id="zoomImgV"+r.id;e.style.position="absolute";e.style.left=0+"px";e.style.top=0+"px";e.style.display="inline-block";v.appendChild(e);F.appendChild(v);document.body.appendChild(F);F.content=v;sjSetOpacity(F,0);var g=navigator.appVersion.split("MSIE");var w=parseFloat(g[1]);if((w>=5.5)&&(w<=8)&&(document.body.filters)&&(B=="true")){sjSetOpacity(v,100)}F.clipArea=100;v.clipArea=100;h.style.width=Math.round(F.clientWidth/zoomFactor)+"px";h.style.height=Math.round(F.clientHeight/zoomFactor)+"px";if(parseInt(h.style.height)>j.clientHeight||parseInt(h.style.width)>j.clientWidth){var s=1;if(parseInt(F.style.width)/parseInt(F.style.height)>j.clientWidth/j.clientHeight){zoomFactor*=parseInt(h.style.width)/j.clientWidth;s=j.clientWidth/parseInt(h.style.width)}else{zoomFactor*=parseInt(h.style.height)/j.clientHeight;s=j.clientHeight/parseInt(h.style.height)}var o=s;var c=s;h.style.width=Math.round(parseInt(h.style.width)*c)+"px";h.style.height=Math.round(parseInt(h.style.height)*o)+"px"}e.onload=function(){e.style.width=parseInt(this.width)+"px";e.style.height=parseInt(this.height)+"px";v.style.width=parseInt(this.width)+"px";v.style.height=parseInt(this.height)+"px";if(B=="true"){sjFixPNG(this)}this.loaded=true};e.onerror=function(){this.loaded=false};var u=z.replace("08_product_detail","08_product_flyout").replace("12_product_detail","12_product_flyout")+"&fit=fit,1";var f=C.effect.substring(4);switch(f){case"lr":C.direction="right";break;case"rl":C.direction="left";break;case"tb":C.direction="bottom";break;case"bt":C.direction="top";break}j.transparent=B;e.src=u;setInterval(function(){t()},25);function n(){var i=document.getElementById("zoomImgVflyzoom");if(!i.complete||(i.naturalWidth==0)){return false}return true}function A(){if(n()){x(eventHolder,E)}else{timoutHolder=setTimeout(A,300)}}}function updateZoomImage(){var b=$("#flyzoom");var a=$("#flyzoom").attr("src");var c=a.replace("08_product_detail","08_product_flyout").replace("12_product_detail","12_product_flyout")+"&fit=fit,1";$("#zoomImgVflyzoom").attr("src",c)}function sjFlyout(b,a){var c=document.getElementById(b);c.onerror=function(){var d=document.getElementById("cont"+b);if(d){d.onmousemove=null;d.onmouseout=null;d.onmouseover=null}if(c.transparent=="true"){if(img.filters){if(img.filters.length>0){if(img.filters["DXImageTransform.Microsoft.AlphaImageLoader"]){img.filters.item("DXImageTransform.Microsoft.AlphaImageLoader").enabled=false}else{this.style.filter+=" progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=false,src='', sizingMethod='scale')"}}else{this.style.filter=" progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=false,src='', sizingMethod='scale')"}}}};c.src=a+sjPBreak(a);updateZoomImage()};