//     Underscore.js 1.2.3
//     (c) 2009-2011 Jeremy Ashkenas, DocumentCloud Inc.
//     Underscore is freely distributable under the MIT license.
//     Portions of Underscore are inspired or borrowed from Prototype,
//     Oliver Steele's Functional, and John Resig's Micro-Templating.
//     For all details and documentation:
//     http://documentcloud.github.com/underscore
function toQueryParams(e,t){var n=e.match(/([^?#]*)(#.*)?$/);if(!n)return{};var r={};return $.each(n[1].split(t||"&"),function(e,t){if((t=t.split("="))[0]){var n=decodeURIComponent(t.shift()),i=t.length>1?t.join("="):t[0];i!=undefined&&(i=decodeURIComponent(i.replace(/\+/g," "))),n in r?($.isArray(r[n])||(r[n]=[r[n]]),r[n].push(i)):r[n]=i}}),r}function windowOpenAndFocus(e,t){window.open(e,t,"height=500,width=500,resizable=yes,status=no,toolbar=no,scrollbars=yes").focus()}function redirect(e){window.location=e}(function(){function k(e,t,n){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e._chain&&(e=e._wrapped),t._chain&&(t=t._wrapped);if(e.isEqual&&x.isFunction(e.isEqual))return e.isEqual(t);if(t.isEqual&&x.isFunction(t.isEqual))return t.isEqual(e);var r=f.call(e);if(r!=f.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var i=n.length;while(i--)if(n[i]==e)return!0;n.push(e);var s=0,o=!0;if(r=="[object Array]"){s=e.length,o=s==t.length;if(o)while(s--)if(!(o=s in e==s in t&&k(e[s],t[s],n)))break}else{if("constructor"in e!="constructor"in t||e.constructor!=t.constructor)return!1;for(var u in e)if(l.call(e,u)){s++;if(!(o=l.call(t,u)&&k(e[u],t[u],n)))break}if(o){for(u in t)if(l.call(t,u)&&!(s--))break;o=!s}}return n.pop(),o}var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.slice,u=r.concat,a=r.unshift,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){return new A(e)};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=x),exports._=x):typeof define=="function"&&define.amd?define("underscore",function(){return x}):e._=x,x.VERSION="1.2.3";var T=x.each=x.forEach=function(e,t,r){if(e==null)return;if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(i in e&&t.call(r,e[i],i,e)===n)return}else for(var o in e)if(l.call(e,o)&&t.call(r,e[o],o,e)===n)return};x.map=function(e,t,n){var r=[];return e==null?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)},x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=x.toArray(e).reverse();return r&&!i&&(t=x.bind(t,r)),i?x.reduce(s,t,n,r):x.reduce(s,t)},x.find=x.detect=function(e,t,n){var r;return N(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},x.filter=x.select=function(e,t,n){var r=[];return e==null?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},x.reject=function(e,t,n){var r=[];return e==null?r:(T(e,function(e,i,s){t.call(n,e,i,s)||(r[r.length]=e)}),r)},x.every=x.all=function(e,t,r){var i=!0;return e==null?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),i)};var N=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return e==null?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};x.include=x.contains=function(e,t){var n=!1;return e==null?n:y&&e.indexOf===y?e.indexOf(t)!=-1:(n=N(e,function(e){return e===t}),n)},x.invoke=function(e,t){var n=o.call(arguments,2);return x.map(e,function(e){return(t.call?t||e:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.max=function(e,t,n){if(!t&&x.isArray(e))return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-Infinity;var r={computed:-Infinity};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},x.min=function(e,t,n){if(!t&&x.isArray(e))return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return Infinity;var r={computed:Infinity};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},x.shuffle=function(e){var t=[],n;return T(e,function(e,r,i){r==0?t[0]=e:(n=Math.floor(Math.random()*(r+1)),t[r]=t[n],t[n]=e)}),t},x.sortBy=function(e,t,n){return x.pluck(x.map(e,function(e,r,i){return{value:e,criteria:t.call(n,e,r,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}),"value")},x.groupBy=function(e,t){var n={},r=x.isFunction(t)?t:function(e){return e[t]};return T(e,function(e,t){var i=r(e,t);(n[i]||(n[i]=[])).push(e)}),n},x.sortedIndex=function(e,t,n){n||(n=x.identity);var r=0,i=e.length;while(r<i){var s=r+i>>1;n(e[s])<n(t)?r=s+1:i=s}return r},x.toArray=function(e){return e?e.toArray?e.toArray():x.isArray(e)?o.call(e):x.isArguments(e)?o.call(e):x.values(e):[]},x.size=function(e){return x.toArray(e).length},x.first=x.head=function(e,t,n){return t!=null&&!n?o.call(e,0,t):e[0]},x.initial=function(e,t,n){return o.call(e,0,e.length-(t==null||n?1:t))},x.last=function(e,t,n){return t!=null&&!n?o.call(e,Math.max(e.length-t,0)):e[e.length-1]},x.rest=x.tail=function(e,t,n){return o.call(e,t==null||n?1:t)},x.compact=function(e){return x.filter(e,function(e){return!!e})},x.flatten=function(e,t){return x.reduce(e,function(e,n){return x.isArray(n)?e.concat(t?n:x.flatten(n)):(e[e.length]=n,e)},[])},x.without=function(e){return x.difference(e,o.call(arguments,1))},x.uniq=x.unique=function(e,t,n){var r=n?x.map(e,n):e,i=[];return x.reduce(r,function(n,r,s){if(0==s||(t===!0?x.last(n)!=r:!x.include(n,r)))n[n.length]=r,i[i.length]=e[s];return n},[]),i},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=x.intersect=function(e){var t=o.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=x.flatten(o.call(arguments,1));return x.filter(e,function(e){return!x.include(t,e)})},x.zip=function(){var e=o.call(arguments),t=x.max(x.pluck(e,"length")),n=new Array(t);for(var r=0;r<t;r++)n[r]=x.pluck(e,""+r);return n},x.indexOf=function(e,t,n){if(e==null)return-1;var r,i;if(n)return r=x.sortedIndex(e,t),e[r]===t?r:-1;if(y&&e.indexOf===y)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(r in e&&e[r]===t)return r;return-1},x.lastIndexOf=function(e,t){if(e==null)return-1;if(b&&e.lastIndexOf===b)return e.lastIndexOf(t);var n=e.length;while(n--)if(n in e&&e[n]===t)return n;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var C=function(){};x.bind=function(t,n){var r,i;if(t.bind===S&&S)return S.apply(t,o.call(arguments,1));if(!x.isFunction(t))throw new TypeError;return i=o.call(arguments,2),r=function(){if(this instanceof r){C.prototype=t.prototype;var e=new C,s=t.apply(e,i.concat(o.call(arguments)));return Object(s)===s?s:e}return t.apply(n,i.concat(o.call(arguments)))}},x.bindAll=function(e){var t=o.call(arguments,1);return t.length==0&&(t=x.functions(e)),T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return l.call(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=o.call(arguments,2);return setTimeout(function(){return e.apply(e,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(o.call(arguments,1)))},x.throttle=function(e,t){var n,r,i,s,o,u=x.debounce(function(){o=s=!1},t);return function(){n=this,r=arguments;var a=function(){i=null,o&&e.apply(n,r),u()};i||(i=setTimeout(a,t)),s?o=!0:e.apply(n,r),u(),s=!0}},x.debounce=function(e,t){var n;return function(){var r=this,i=arguments,s=function(){n=null,e.apply(r,i)};clearTimeout(n),n=setTimeout(s,t)}},x.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments))}},x.wrap=function(e,t){return function(){var n=u.apply([e],arguments);return t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}},x.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)l.call(e,n)&&(t[t.length]=n);return t},x.values=function(e){return x.map(e,x.identity)},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(o.call(arguments,1),function(t){for(var n in t)t[n]!==void 0&&(e[n]=t[n])}),e},x.defaults=function(e){return T(o.call(arguments,1),function(t){for(var n in t)e[n]==null&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e},x.isEqual=function(e,t){return k(e,t,[])},x.isEmpty=function(e){if(x.isArray(e)||x.isString(e))return e.length===0;for(var t in e)if(l.call(e,t))return!1;return!0},x.isElement=function(e){return!!e&&e.nodeType==1},x.isArray=w||function(e){return f.call(e)=="[object Array]"},x.isObject=function(e){return e===Object(e)},x.isArguments=function(e){return f.call(e)=="[object Arguments]"},x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!l.call(e,"callee")}),x.isFunction=function(e){return f.call(e)=="[object Function]"},x.isString=function(e){return f.call(e)=="[object String]"},x.isNumber=function(e){return f.call(e)=="[object Number]"},x.isNaN=function(e){return e!==e},x.isBoolean=function(e){return e===!0||e===!1||f.call(e)=="[object Boolean]"},x.isDate=function(e){return f.call(e)=="[object Date]"},x.isRegExp=function(e){return f.call(e)=="[object RegExp]"},x.isNull=function(e){return e===null},x.isUndefined=function(e){return e===void 0},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,n){for(var r=0;r<e;r++)t.call(n,r)},x.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},x.mixin=function(e){T(x.functions(e),function(t){M(t,x[t]=e[t])})};var L=0;x.uniqueId=function(e){var t=L++;return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},x.template=function(e,t){var n=x.templateSettings,r="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(n.escape,function(e,t){return"',_.escape("+t.replace(/\\'/g,"'")+"),'"}).replace(n.interpolate,function(e,t){return"',"+t.replace(/\\'/g,"'")+",'"}).replace(n.evaluate||null,function(e,t){return"');"+t.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",i=new Function("obj","_",r);return t?i(t,x):function(e){return i.call(this,e,x)}};var A=function(e){this._wrapped=e};x.prototype=A.prototype;var O=function(e,t){return t?x(e).chain():e},M=function(e,t){A.prototype[e]=function(){var e=o.call(arguments);return a.call(e,this._wrapped),O(t.apply(x,e),this._chain)}};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];A.prototype[e]=function(){return t.apply(this._wrapped,arguments),O(this._wrapped,this._chain)}}),T(["concat","join","slice"],function(e){var t=r[e];A.prototype[e]=function(){return O(t.apply(this._wrapped,arguments),this._chain)}}),A.prototype.chain=function(){return this._chain=!0,this},A.prototype.value=function(){return this._wrapped}}).call(this);var JSON;JSON||(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)typeof rep[n]=="string"&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e){var t=function(t){var n=this.superclass&&this.superclass.prototype,r=e.keys(t);e.keys({toString:!0}).length||r.push("toString","valueOf");for(var i=0,s=r.length;i<s;i++){var o=r[i],u=t[o];if(n&&e.isFunction(u)&&e.argumentNames(u)[0]=="$super"){var a=u;u=e.extend(e.wrap(function(e){return function(){return n[e].apply(this,arguments)}}(o),a),{valueOf:function(){return a},toString:function(){return a.toString()}})}this.prototype[o]=u}return this};e.extend({keys:function(e){var t=[];for(var n in e)t.push(n);return t},argumentNames:function(e){var t=e.toString().match(/^[\s\(]*function[^(]*\((.*?)\)/)[1].split(/, ?/);return t.length==1&&!t[0]?[]:t},bind:function(t,n){return function(){return t.apply(n,e.makeArray(arguments))}},wrap:function(t,n){var r=t;return function(){return n.apply(this,[e.bind(r,this)].concat(e.makeArray(arguments)))}},klass:function(){var n=null,r=e.makeArray(arguments);e.isFunction(r[0])&&(n=r.shift());var i=function(){this.initialize.apply(this,arguments)};i.superclass=n,i.subclasses=[],i.addMethods=t;if(n){var s=function(){};s.prototype=n.prototype,i.prototype=new s,n.subclasses.push(i)}for(var o=0;o<r.length;o++)i.addMethods(r[o]);return i.prototype.initialize||(i.prototype.initialize=function(){}),i.prototype.constructor=i,i}})}(jQuery),function(e,t){function n(t,n){var i=t.nodeName.toLowerCase();if("area"===i){var s=t.parentNode,o=s.name,u;return!t.href||!o||s.nodeName.toLowerCase()!=="map"?!1:(u=e("img[usemap=#"+o+"]")[0],!!u&&r(u))}return(/input|select|textarea|button|object/.test(i)?!t.disabled:"a"==i?t.href||n:n)&&r(t)}function r(t){return!e(t).parents().andSelf().filter(function(){return e.curCSS(this,"visibility")==="hidden"||e.expr.filters.hidden(this)}).length}e.ui=e.ui||{};if(e.ui.version)return;e.extend(e.ui,{version:"1.8.16",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),e.fn.extend({propAttr:e.fn.prop||e.fn.attr,_focus:e.fn.focus,focus:function(t,n){return typeof t=="number"?this.each(function(){var r=this;setTimeout(function(){e(r).focus(),n&&n.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return e.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?t=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.curCSS(this,"position",1))&&/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0):t=this.parents().filter(function(){return/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length){var r=e(this[0]),i,s;while(r.length&&r[0]!==document){i=r.css("position");if(i==="absolute"||i==="relative"||i==="fixed"){s=parseInt(r.css("zIndex"),10);if(!isNaN(s)&&s!==0)return s}r=r.parent()}}return 0},disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.each(["Width","Height"],function(n,r){function u(t,n,r,s){return e.each(i,function(){n-=parseFloat(e.curCSS(t,"padding"+this,!0))||0,r&&(n-=parseFloat(e.curCSS(t,"border"+this+"Width",!0))||0),s&&(n-=parseFloat(e.curCSS(t,"margin"+this,!0))||0)}),n}var i=r==="Width"?["Left","Right"]:["Top","Bottom"],s=r.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?o["inner"+r].call(this):this.each(function(){e(this).css(s,u(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return typeof t!="number"?o["outer"+r].call(this,t):this.each(function(){e(this).css(s,u(this,t,!0,n)+"px")})}}),e.extend(e.expr[":"],{data:function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var r=e.attr(t,"tabindex"),i=isNaN(r);return(i||r>=0)&&n(t,!i)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=n.offsetHeight===100,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),e.extend(e.ui,{plugin:{add:function(t,n,r){var i=e.ui[t].prototype;for(var s in r)i.plugins[s]=i.plugins[s]||[],i.plugins[s].push([n,r[s]])},call:function(e,t,n){var r=e.plugins[t];if(!r||!e.element[0].parentNode)return;for(var i=0;i<r.length;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},contains:function(e,t){return document.compareDocumentPosition?e.compareDocumentPosition(t)&16:e!==t&&e.contains(t)},hasScroll:function(t,n){if(e(t).css("overflow")==="hidden")return!1;var r=n&&n==="left"?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)},isOverAxis:function(e,t,n){return e>t&&e<t+n},isOver:function(t,n,r,i,s,o){return e.ui.isOverAxis(t,r,s)&&e.ui.isOverAxis(n,i,o)}})}(jQuery),function(e,t){e.ui=e.ui||{};var n=/left|center|right/,r=/top|center|bottom/,i="center",s=e.fn.position,o=e.fn.offset;e.fn.position=function(t){if(!t||!t.of)return s.apply(this,arguments);t=e.extend({},t);var o=e(t.of),u=o[0],a=(t.collision||"flip").split(" "),f=t.offset?t.offset.split(" "):[0,0],l,c,h;return u.nodeType===9?(l=o.width(),c=o.height(),h={top:0,left:0}):u.setTimeout?(l=o.width(),c=o.height(),h={top:o.scrollTop(),left:o.scrollLeft()}):u.preventDefault?(t.at="left top",l=c=0,h={top:t.of.pageY,left:t.of.pageX}):(l=o.outerWidth(),c=o.outerHeight(),h=o.offset()),e.each(["my","at"],function(){var e=(t[this]||"").split(" ");e.length===1&&(e=n.test(e[0])?e.concat([i]):r.test(e[0])?[i].concat(e):[i,i]),e[0]=n.test(e[0])?e[0]:i,e[1]=r.test(e[1])?e[1]:i,t[this]=e}),a.length===1&&(a[1]=a[0]),f[0]=parseInt(f[0],10)||0,f.length===1&&(f[1]=f[0]),f[1]=parseInt(f[1],10)||0,t.at[0]==="right"?h.left+=l:t.at[0]===i&&(h.left+=l/2),t.at[1]==="bottom"?h.top+=c:t.at[1]===i&&(h.top+=c/2),h.left+=f[0],h.top+=f[1],this.each(function(){var n=e(this),r=n.outerWidth(),s=n.outerHeight(),o=parseInt(e.curCSS(this,"marginLeft",!0))||0,u=parseInt(e.curCSS(this,"marginTop",!0))||0,p=r+o+(parseInt(e.curCSS(this,"marginRight",!0))||0),d=s+u+(parseInt(e.curCSS(this,"marginBottom",!0))||0),v=e.extend({},h),m;t.my[0]==="right"?v.left-=r:t.my[0]===i&&(v.left-=r/2),t.my[1]==="bottom"?v.top-=s:t.my[1]===i&&(v.top-=s/2),v.left=Math.round(v.left),v.top=Math.round(v.top),m={left:v.left-o,top:v.top-u},e.each(["left","top"],function(n,i){e.ui.position[a[n]]&&e.ui.position[a[n]][i](v,{targetWidth:l,targetHeight:c,elemWidth:r,elemHeight:s,collisionPosition:m,collisionWidth:p,collisionHeight:d,offset:f,my:t.my,at:t.at})}),e.fn.bgiframe&&n.bgiframe(),n.offset(e.extend(v,{using:t.using}))})},e.ui.position={fit:{left:function(t,n){var r=e(window),i=n.collisionPosition.left+n.collisionWidth-r.width()-r.scrollLeft();t.left=i>0?t.left-i:Math.max(t.left-n.collisionPosition.left,t.left)},top:function(t,n){var r=e(window),i=n.collisionPosition.top+n.collisionHeight-r.height()-r.scrollTop();t.top=i>0?t.top-i:Math.max(t.top-n.collisionPosition.top,t.top)}},flip:{left:function(t,n){if(n.at[0]===i)return;var r=e(window),s=n.collisionPosition.left+n.collisionWidth-r.width()-r.scrollLeft(),o=n.my[0]==="left"?-n.elemWidth:n.my[0]==="right"?n.elemWidth:0,u=n.at[0]==="left"?n.targetWidth:-n.targetWidth,a=-2*n.offset[0];t.left+=n.collisionPosition.left<0?o+u+a:s>0?o+u+a:0},top:function(t,n){if(n.at[1]===i)return;var r=e(window),s=n.collisionPosition.top+n.collisionHeight-r.height()-r.scrollTop(),o=n.my[1]==="top"?-n.elemHeight:n.my[1]==="bottom"?n.elemHeight:0,u=n.at[1]==="top"?n.targetHeight:-n.targetHeight,a=-2*n.offset[1];t.top+=n.collisionPosition.top<0?o+u+a:s>0?o+u+a:0}}},e.offset.setOffset||(e.offset.setOffset=function(t,n){/static/.test(e.curCSS(t,"position"))&&(t.style.position="relative");var r=e(t),i=r.offset(),s=parseInt(e.curCSS(t,"top",!0),10)||0,o=parseInt(e.curCSS(t,"left",!0),10)||0,u={top:n.top-i.top+s,left:n.left-i.left+o};"using"in n?n.using.call(t,u):r.css(u)},e.fn.offset=function(t){var n=this[0];return!n||!n.ownerDocument?null:t?this.each(function(){e.offset.setOffset(this,t)}):o.call(this)})}(jQuery),function(e,t){if(e.cleanData){var n=e.cleanData;e.cleanData=function(t){for(var r=0,i;(i=t[r])!=null;r++)try{e(i).triggerHandler("remove")}catch(s){}n(t)}}else{var r=e.fn.remove;e.fn.remove=function(t,n){return this.each(function(){return n||(!t||e.filter(t,[this]).length)&&e("*",this).add([this]).each(function(){try{e(this).triggerHandler("remove")}catch(t){}}),r.call(e(this),t,n)})}}e.widget=function(t,n,r){var i=t.split(".")[0],s;t=t.split(".")[1],s=i+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][s]=function(n){return!!e.data(n,t)},e[i]=e[i]||{},e[i][t]=function(e,t){arguments.length&&this._createWidget(e,t)};var o=new n;o.options=e.extend(!0,{},o.options),e[i][t].prototype=e.extend(!0,o,{namespace:i,widgetName:t,widgetEventPrefix:e[i][t].prototype.widgetEventPrefix||t,widgetBaseClass:s},r),e.widget.bridge(t,e[i][t])},e.widget.bridge=function(n,r){e.fn[n]=function(i){var s=typeof i=="string",o=Array.prototype.slice.call(arguments,1),u=this;return i=!s&&o.length?e.extend.apply(null,[!0,i].concat(o)):i,s&&i.charAt(0)==="_"?u:(s?this.each(function(){var r=e.data(this,n),s=r&&e.isFunction(r[i])?r[i].apply(r,o):r;if(s!==r&&s!==t)return u=s,!1}):this.each(function(){var t=e.data(this,n);t?t.option(i||{})._init():e.data(this,n,new r(i,this))}),u)}},e.Widget=function(e,t){arguments.length&&this._createWidget(e,t)},e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,n){e.data(n,this.widgetName,this),this.element=e(n),this.options=e.extend(!0,{},this.options,this._getCreateOptions(),t);var r=this;this.element.bind("remove."+this.widgetName,function(){r.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(n,r){var i=n;if(arguments.length===0)return e.extend({},this.options);if(typeof n=="string"){if(r===t)return this.options[n];i={},i[n]=r}return this._setOptions(i),this},_setOptions:function(t){var n=this;return e.each(t,function(e,t){n._setOption(e,t)}),this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,n,r){var i=this.options[t];n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),r=r||{};if(n.originalEvent)for(var s=e.event.props.length,o;s;)o=e.event.props[--s],n[o]=n.originalEvent[o];return this.element.trigger(n,r),!(e.isFunction(i)&&i.call(this.element[0],n,r)===!1||n.isDefaultPrevented())}}}(jQuery),function(e,t){var n=0;e.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var t=this,n=this.element[0].ownerDocument,r;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(n){if(t.options.disabled||t.element.propAttr("readOnly"))return;r=!1;var i=e.ui.keyCode;switch(n.keyCode){case i.PAGE_UP:t._move("previousPage",n);break;case i.PAGE_DOWN:t._move("nextPage",n);break;case i.UP:t._move("previous",n),n.preventDefault();break;case i.DOWN:t._move("next",n),n.preventDefault();break;case i.ENTER:case i.NUMPAD_ENTER:t.menu.active&&(r=!0,n.preventDefault());case i.TAB:if(!t.menu.active)return;t.menu.select(n);break;case i.ESCAPE:t.element.val(t.term),t.close(n);break;default:clearTimeout(t.searching),t.searching=setTimeout(function(){t.term!=t.element.val()&&(t.selectedItem=null,t.search(null,n))},t.options.delay)}}).bind("keypress.autocomplete",function(e){r&&(r=!1,e.preventDefault())}).bind("focus.autocomplete",function(){if(t.options.disabled)return;t.selectedItem=null,t.previous=t.element.val()}).bind("blur.autocomplete",function(e){if(t.options.disabled)return;clearTimeout(t.searching),t.closing=setTimeout(function(){t.close(e),t._change(e)},150)}),this._initSource(),this.response=function(){return t._response.apply(t,arguments)},this.menu=e("<ul></ul>").addClass("ui-autocomplete").appendTo(e(this.options.appendTo||"body",n)[0]).mousedown(function(n){var r=t.menu.element[0];e(n.target).closest(".ui-menu-item").length||setTimeout(function(){e(document).one("mousedown",function(n){n.target!==t.element[0]&&n.target!==r&&!e.ui.contains(r,n.target)&&t.close()})},1),setTimeout(function(){clearTimeout(t.closing)},13)}).menu({focus:function(e,n){var r=n.item.data("item.autocomplete");!1!==t._trigger("focus",e,{item:r})&&/^key/.test(e.originalEvent.type)&&t.element.val(r.value)},selected:function(e,r){var i=r.item.data("item.autocomplete"),s=t.previous;t.element[0]!==n.activeElement&&(t.element.focus(),t.previous=s,setTimeout(function(){t.previous=s,t.selectedItem=i},1)),!1!==t._trigger("select",e,{item:i})&&t.element.val(i.value),t.term=t.element.val(),t.close(e),t.selectedItem=i},blur:function(e,n){t.menu.element.is(":visible")&&t.element.val()!==t.term&&t.element.val(t.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),e.fn.bgiframe&&this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),e.Widget.prototype.destroy.call(this)},_setOption:function(t,n){e.Widget.prototype._setOption.apply(this,arguments),t==="source"&&this._initSource(),t==="appendTo"&&this.menu.element.appendTo(e(n||"body",this.element[0].ownerDocument)[0]),t==="disabled"&&n&&this.xhr&&this.xhr.abort()},_initSource:function(){var t=this,r,i;e.isArray(this.options.source)?(r=this.options.source,this.source=function(t,n){n(e.ui.autocomplete.filter(r,t.term))}):typeof this.options.source=="string"?(i=this.options.source,this.source=function(r,s){t.xhr&&t.xhr.abort(),t.xhr=e.ajax({url:i,data:r,dataType:"json",autocompleteRequest:++n,success:function(e,t){this.autocompleteRequest===n&&s(e)},error:function(){this.autocompleteRequest===n&&s([])}})}):this.source=this.options.source},search:function(e,t){e=e!=null?e:this.element.val(),this.term=this.element.val();if(e.length<this.options.minLength)return this.close(t);clearTimeout(this.closing);if(this._trigger("search",t)===!1)return;return this._search(e)},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:e},this.response)},_response:function(e){!this.options.disabled&&e&&e.length?(e=this._normalize(e),this._suggest(e),this._trigger("open")):this.close(),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(e){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",e))},_change:function(e){this.previous!==this.element.val()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return typeof t=="string"?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var n=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(n,t),this.menu.deactivate(),this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new e.Event("mouseover"))},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth(),this.element.outerWidth()))},_renderMenu:function(t,n){var r=this;e.each(n,function(e,n){r._renderItem(t,n)})},_renderItem:function(t,n){return e("<li></li>").data("item.autocomplete",n).append(e("<a></a>").text(n.label)).appendTo(t)},_move:function(e,t){if(!this.menu.element.is(":visible")){this.search(null,t);return}if(this.menu.first()&&/^previous/.test(e)||this.menu.last()&&/^next/.test(e)){this.element.val(this.term),this.menu.deactivate();return}this.menu[e](t)},widget:function(){return this.menu.element}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(t,n){var r=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e
){return r.test(e.label||e.value||e)})}})}(jQuery),function(e){e.widget("ui.menu",{_create:function(){var t=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(n){if(!e(n.target).closest(".ui-menu-item a").length)return;n.preventDefault(),t.select(n)}),this.refresh()},refresh:function(){var t=this,n=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");n.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(n){t.activate(n,e(this).parent())}).mouseleave(function(){t.deactivate()})},activate:function(e,t){this.deactivate();if(this.hasScroll()){var n=t.offset().top-this.element.offset().top,r=this.element.scrollTop(),i=this.element.height();n<0?this.element.scrollTop(r+n):n>=i&&this.element.scrollTop(r+n-i+t.height())}this.active=t.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",e,{item:t})},deactivate:function(){if(!this.active)return;this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null},next:function(e){this.move("next",".ui-menu-item:first",e)},previous:function(e){this.move("prev",".ui-menu-item:last",e)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(e,t,n){if(!this.active){this.activate(n,this.element.children(t));return}var r=this.active[e+"All"](".ui-menu-item").eq(0);r.length?this.activate(n,r):this.activate(n,this.element.children(t))},nextPage:function(t){if(this.hasScroll()){if(!this.active||this.last()){this.activate(t,this.element.children(".ui-menu-item:first"));return}var n=this.active.offset().top,r=this.element.height(),i=this.element.children(".ui-menu-item").filter(function(){var t=e(this).offset().top-n-r+e(this).height();return t<10&&t>-10});i.length||(i=this.element.children(".ui-menu-item:last")),this.activate(t,i)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(t){if(this.hasScroll()){if(!this.active||this.first()){this.activate(t,this.element.children(".ui-menu-item:last"));return}var n=this.active.offset().top,r=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var t=e(this).offset().top-n+r-e(this).height();return t<10&&t>-10}),result.length||(result=this.element.children(".ui-menu-item:first")),this.activate(t,result)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[e.fn.prop?"prop":"attr"]("scrollHeight")},select:function(e){this._trigger("selected",e,{item:this.active})}})}(jQuery),function(e){typeof define=="function"&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";function E(){E.history=E.history||[],E.history.push(arguments);if("object"==typeof console){var e=console[console.warn?"warn":"log"],t=Array.prototype.slice.call(arguments),n;typeof arguments[0]=="string"&&(t[0]="qTip2: "+t[0]),n=e.apply?e.apply(console,t):e(t)}}function S(t){var i;if(!t||"object"!=typeof t)return n;if(t.metadata===r||"object"!=typeof t.metadata)t.metadata={type:t.metadata};if("content"in t){if(t.content===r||"object"!=typeof t.content||t.content.jquery)t.content={text:t.content};i=t.content.text||n,!e.isFunction(i)&&(!i&&!i.attr||i.length<1||"object"==typeof i&&!i.jquery)&&(t.content.text=n);if("title"in t.content){if(t.content.title===r||"object"!=typeof t.content.title)t.content.title={text:t.content.title};i=t.content.title.text||n,!e.isFunction(i)&&(!i&&!i.attr||i.length<1||"object"==typeof i&&!i.jquery)&&(t.content.title.text=n)}}return"position"in t&&(t.position===r||"object"!=typeof t.position)&&(t.position={my:t.position,at:t.position}),"show"in t&&(t.show===r||"object"!=typeof t.show)&&(t.show.jquery?t.show={target:t.show}:t.show={event:t.show}),"hide"in t&&(t.hide===r||"object"!=typeof t.hide)&&(t.hide.jquery?t.hide={target:t.hide}:t.hide={event:t.hide}),"style"in t&&(t.style===r||"object"!=typeof t.style)&&(t.style={classes:t.style}),e.each(o,function(){this.sanitize&&this.sanitize(t)}),t}function x(g,y,E,x){function D(e){var t=0,n,r=y,i=e.split(".");while(r=r[i[t++]])t<i.length&&(n=r);return[n||y,i.pop()]}function P(){var e=y.style.widget;A.toggleClass(l,e).toggleClass(p,y.style.def&&!e),M.content.toggleClass(l+"-content",e),M.titlebar&&M.titlebar.toggleClass(l+"-header",e),M.button&&M.button.toggleClass(f+"-icon",!e)}function H(e){M.title&&(M.titlebar.remove(),M.titlebar=M.title=M.button=r,e!==n&&T.reposition())}function B(){var t=y.content.title.button,r=typeof t=="string",i=r?t:"Close tooltip";M.button&&M.button.remove(),t.jquery?M.button=t:M.button=e("<a />",{"class":"ui-state-default ui-tooltip-close "+(y.style.widget?"":f+"-icon"),title:i,"aria-label":i}).prepend(e("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),M.button.appendTo(M.titlebar).attr("role","button").click(function(e){return A.hasClass(c)||T.hide(e),n}),T.redraw()}function j(){var n=C+"-title";M.titlebar&&H(),M.titlebar=e("<div />",{"class":f+"-titlebar "+(y.style.widget?"ui-widget-header":"")}).append(M.title=e("<div />",{id:n,"class":f+"-title","aria-atomic":t})).insertBefore(M.content).delegate(".ui-tooltip-close","mousedown keydown mouseup keyup mouseout",function(t){e(this).toggleClass("ui-state-active ui-state-focus",t.type.substr(-4)==="down")}).delegate(".ui-tooltip-close","mouseover mouseout",function(t){e(this).toggleClass("ui-state-hover",t.type==="mouseover")}),y.content.title.button?B():T.rendered&&T.redraw()}function F(e){var t=M.button,r=M.title;if(!T.rendered)return n;e?(r||j(),B()):t.remove()}function I(t,r){var i=M.title;if(!T.rendered||!t)return n;e.isFunction(t)&&(t=t.call(g,_.event,T));if(t===n||!t&&t!=="")return H(n);t.jquery&&t.length>0?i.empty().append(t.css({display:"block"})):i.html(t),T.redraw(),r!==n&&T.rendered&&A[0].offsetWidth>0&&T.reposition(_.event)}function q(t,r){function o(t){function a(i){i&&(delete u[i.src],clearTimeout(T.timers.img[i.src]),e(i).unbind(O)),e.isEmptyObject(u)&&(T.redraw(),r!==n&&T.reposition(_.event),t())}var o,u={};if((o=s.find("img[src]:not([height]):not([width])")).length===0)return a();o.each(function(t,n){if(u[n.src]!==i)return;var r=0,s=3;(function o(){if(n.height||n.width||r>s)return a(n);r+=1,T.timers.img[n.src]=setTimeout(o,700)})(),e(n).bind("error"+O+" load"+O,function(){a(this)}),u[n.src]=n})}var s=M.content;return!T.rendered||!t?n:(e.isFunction(t)&&(t=t.call(g,_.event,T)||""),t.jquery&&t.length>0?s.empty().append(t.css({display:"block"})):s.html(t),T.rendered<0?A.queue("fx",o):(L=0,o(e.noop)),T)}function R(){function f(e){if(A.hasClass(c))return n;clearTimeout(T.timers.show),clearTimeout(T.timers.hide);var r=function(){T.toggle(t,e)};y.show.delay>0?T.timers.show=setTimeout(r,y.show.delay):r()}function l(t){if(A.hasClass(c)||k||L)return n;var s=e(t.relatedTarget||t.target),o=s.closest(h)[0]===A[0],u=s[0]===i.show[0];clearTimeout(T.timers.show),clearTimeout(T.timers.hide);if(r.target==="mouse"&&o||y.hide.fixed&&/mouse(out|leave|move)/.test(t.type)&&(o||u)){try{t.preventDefault(),t.stopImmediatePropagation()}catch(a){}return}y.hide.delay>0?T.timers.hide=setTimeout(function(){T.hide(t)},y.hide.delay):T.hide(t)}function p(e){if(A.hasClass(c))return n;clearTimeout(T.timers.inactive),T.timers.inactive=setTimeout(function(){T.hide(e)},y.hide.inactive)}function d(e){T.rendered&&A[0].offsetWidth>0&&T.reposition(e)}var r=y.position,i={show:y.show.target,hide:y.hide.target,viewport:e(r.viewport),document:e(document),body:e(document.body),window:e(window)},o={show:e.trim(""+y.show.event).split(" "),hide:e.trim(""+y.hide.event).split(" ")},a=e.browser.msie&&parseInt(e.browser.version,10)===6;A.bind("mouseenter"+O+" mouseleave"+O,function(e){var t=e.type==="mouseenter";t&&T.focus(e),A.toggleClass(v,t)}),y.hide.fixed&&(i.hide=i.hide.add(A),A.bind("mouseover"+O,function(){A.hasClass(c)||clearTimeout(T.timers.hide)})),/mouse(out|leave)/i.test(y.hide.event)?y.hide.leave==="window"&&i.window.bind("mouseout"+O+" blur"+O,function(e){/select|option/.test(e.target)&&!e.relatedTarget&&T.hide(e)}):/mouse(over|enter)/i.test(y.show.event)&&i.hide.bind("mouseleave"+O,function(e){clearTimeout(T.timers.show)}),(""+y.hide.event).indexOf("unfocus")>-1&&r.container.closest("html").bind("mousedown"+O,function(t){var n=e(t.target),r=T.rendered&&!A.hasClass(c)&&A[0].offsetWidth>0,i=n.parents(h).filter(A[0]).length>0;n[0]!==g[0]&&n[0]!==A[0]&&!i&&!g.has(n[0]).length&&!n.attr("disabled")&&T.hide(t)}),"number"==typeof y.hide.inactive&&(i.show.bind("qtip-"+E+"-inactive",p),e.each(s.inactiveEvents,function(e,t){i.hide.add(M.tooltip).bind(t+O+"-inactive",p)})),e.each(o.hide,function(t,n){var r=e.inArray(n,o.show),s=e(i.hide);r>-1&&s.add(i.show).length===s.length||n==="unfocus"?(i.show.bind(n+O,function(e){A[0].offsetWidth>0?l(e):f(e)}),delete o.show[r]):i.hide.bind(n+O,l)}),e.each(o.show,function(e,t){i.show.bind(t+O,f)}),"number"==typeof y.hide.distance&&i.show.add(A).bind("mousemove"+O,function(e){var t=_.origin||{},n=y.hide.distance,r=Math.abs;(r(e.pageX-t.pageX)>=n||r(e.pageY-t.pageY)>=n)&&T.hide(e)}),r.target==="mouse"&&(i.show.bind("mousemove"+O,function(e){u={pageX:e.pageX,pageY:e.pageY,type:"mousemove"}}),r.adjust.mouse&&(y.hide.event&&(A.bind("mouseleave"+O,function(e){(e.relatedTarget||e.target)!==i.show[0]&&T.hide(e)}),M.target.bind("mouseenter"+O+" mouseleave"+O,function(e){_.onTarget=e.type==="mouseenter"})),i.document.bind("mousemove"+O,function(e){T.rendered&&_.onTarget&&!A.hasClass(c)&&A[0].offsetWidth>0&&T.reposition(e||u)}))),(r.adjust.resize||i.viewport.length)&&(e.event.special.resize?i.viewport:i.window).bind("resize"+O,d),(i.viewport.length||a&&A.css("position")==="fixed")&&i.viewport.bind("scroll"+O,d)}function U(){var t=[y.show.target[0],y.hide.target[0],T.rendered&&M.tooltip[0],y.position.container[0],y.position.viewport[0],window,document];T.rendered?e([]).pushStack(e.grep(t,function(e){return typeof e=="object"})).unbind(O):y.show.target.unbind(O+"-create")}var T=this,N=document.body,C=f+"-"+E,k=0,L=0,A=e(),O=".qtip-"+E,M,_;T.id=E,T.rendered=n,T.destroyed=n,T.elements=M={target:g},T.timers={img:{}},T.options=y,T.checks={},T.plugins={},T.cache=_={event:{},target:e(),disabled:n,attr:x,onTarget:n},T.checks.builtin={"^id$":function(r,i,o){var u=o===t?s.nextid:o,a=f+"-"+u;u!==n&&u.length>0&&!e("#"+a).length&&(A[0].id=a,M.content[0].id=a+"-content",M.title[0].id=a+"-title")},"^content.text$":function(e,t,n){q(n)},"^content.title.text$":function(e,t,n){if(!n)return H();!M.title&&n&&j(),I(n)},"^content.title.button$":function(e,t,n){F(n)},"^position.(my|at)$":function(e,t,n){"string"==typeof n&&(e[t]=new o.Corner(n))},"^position.container$":function(e,t,n){T.rendered&&A.appendTo(n)},"^show.ready$":function(){T.rendered?T.toggle(t):T.render(1)},"^style.classes$":function(e,t,n){A.attr("class",f+" qtip ui-helper-reset "+n)},"^style.widget|content.title":P,"^events.(render|show|move|hide|focus|blur)$":function(t,n,r){A[(e.isFunction(r)?"":"un")+"bind"]("tooltip"+n,r)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var e=y.position;A.attr("tracking",e.target==="mouse"&&e.adjust.mouse),U(),R()}},e.extend(T,{render:function(r){if(T.rendered)return T;var i=y.content.text,s=y.content.title.text,u=y.position,a=e.Event("tooltiprender");return e.attr(g[0],"aria-describedby",C),A=M.tooltip=e("<div/>",{id:C,"class":f+" qtip ui-helper-reset "+p+" "+y.style.classes+" "+f+"-pos-"+y.position.my.abbrev(),width:y.style.width||"",height:y.style.height||"",tracking:u.target==="mouse"&&u.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":n,"aria-describedby":C+"-content","aria-hidden":t}).toggleClass(c,_.disabled).data("qtip",T).appendTo(y.position.container).append(M.content=e("<div />",{"class":f+"-content",id:C+"-content","aria-atomic":t})),T.rendered=-1,L=1,k=1,s&&(j(),e.isFunction(s)||I(s,n)),e.isFunction(i)||q(i,n),T.rendered=t,P(),e.each(y.events,function(t,n){e.isFunction(n)&&A.bind(t==="toggle"?"tooltipshow tooltiphide":"tooltip"+t,n)}),e.each(o,function(){this.initialize==="render"&&this(T)}),R(),A.queue("fx",function(e){a.originalEvent=_.event,A.trigger(a,[T]),L=0,k=0,T.redraw(),(y.show.ready||r)&&T.toggle(t,_.event,n),e()}),T},get:function(e){var t,n;switch(e.toLowerCase()){case"dimensions":t={height:A.outerHeight(),width:A.outerWidth()};break;case"offset":t=o.offset(A,y.position.container);break;default:n=D(e.toLowerCase()),t=n[0][n[1]],t=t.precedance?t.string():t}return t},set:function(i,s){function h(e,t){var n,r,i;for(n in l)for(r in l[n])if(i=(new RegExp(r,"i")).exec(e))t.push(i),l[n][r].apply(T,t)}var o=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,u=/^content\.(title|attr)|style/i,a=n,f=n,l=T.checks,c;return"string"==typeof i?(c=i,i={},i[c]=s):i=e.extend(t,{},i),e.each(i,function(t,n){var r=D(t.toLowerCase()),s;s=r[0][r[1]],r[0][r[1]]="object"==typeof n&&n.nodeType?e(n):n,i[t]=[r[0],r[1],n,s],a=o.test(t)||a,f=u.test(t)||f}),S(y),k=L=1,e.each(i,h),k=L=0,T.rendered&&A[0].offsetWidth>0&&(a&&T.reposition(y.position.target==="mouse"?r:_.event),f&&T.redraw()),T},toggle:function(i,s){function b(){i?(e.browser.msie&&A[0].style.removeAttribute("filter"),A.css("overflow",""),"string"==typeof a.autofocus&&e(a.autofocus,A).focus(),a.target.trigger("qtip-"+E+"-inactive")):A.css({display:"",visibility:"",opacity:"",left:"",top:""}),g=e.Event("tooltip"+(i?"visible":"hidden")),g.originalEvent=s?_.event:r,A.trigger(g,[T])}if(!T.rendered)return i?T.render(1):T;var o=i?"show":"hide",a=y[o],f=y[i?"hide":"show"],l=y.position,c=y.content,p=A[0].offsetWidth>0,d=i||a.target.length===1,v=!s||a.target.length<2||_.target[0]===s.target,m,g;(typeof i).search("boolean|number")&&(i=!p);if(!A.is(":animated")&&p===i&&v)return T;if(s){if(/over|enter/.test(s.type)&&/out|leave/.test(_.event.type)&&y.show.target.add(s.target).length===y.show.target.length&&A.has(s.relatedTarget).length)return T;_.event=e.extend({},s)}return g=e.Event("tooltip"+o),g.originalEvent=s?_.event:r,A.trigger(g,[T,90]),g.isDefaultPrevented()?T:(e.attr(A[0],"aria-hidden",!i),i?(_.origin=e.extend({},u),T.focus(s),e.isFunction(c.text)&&q(c.text,n),e.isFunction(c.title.text)&&I(c.title.text,n),!w&&l.target==="mouse"&&l.adjust.mouse&&(e(document).bind("mousemove.qtip",function(e){u={pageX:e.pageX,pageY:e.pageY,type:"mousemove"}}),w=t),T.reposition(s,arguments[2]),(g.solo=!!a.solo)&&e(h,a.solo).not(A).qtip("hide",g)):(clearTimeout(T.timers.show),delete _.origin,w&&!e(h+'[tracking="true"]:visible',a.solo).not(A).length&&(e(document).unbind("mousemove.qtip"),w=n),T.blur(s)),a.effect===n||d===n?(A[o](),b.call(A)):e.isFunction(a.effect)?(A.stop(1,1),a.effect.call(A,T),A.queue("fx",function(e){b(),e()})):A.fadeTo(90,i?1:0,b),i&&a.target.trigger("qtip-"+E+"-inactive"),T)},show:function(e){return T.toggle(t,e)},hide:function(e){return T.toggle(n,e)},focus:function(t){if(!T.rendered)return T;var n=e(h),r=parseInt(A[0].style.zIndex,10),i=s.zindex+n.length,o=e.extend({},t),u,a;return A.hasClass(d)||(a=e.Event("tooltipfocus"),a.originalEvent=o,A.trigger(a,[T,i]),a.isDefaultPrevented()||(r!==i&&(n.each(function(){this.style.zIndex>r&&(this.style.zIndex=this.style.zIndex-1)}),n.filter("."+d).qtip("blur",o)),A.addClass(d)[0].style.zIndex=i)),T},blur:function(t){var n=e.extend({},t),r;return A.removeClass(d),r=e.Event("tooltipblur"),r.originalEvent=n,A.trigger(r,[T]),T},reposition:function(t,r){if(!T.rendered||k)return T;k=1;var i=y.position.target,s=y.position,a=s.my,l=s.at,c=s.adjust,h=c.method.split(" "),p=A.outerWidth(),d=A.outerHeight(),v=0,m=0,g=e.Event("tooltipmove"),b=A.css("position")==="fixed",w=s.viewport,E={left:0,top:0},S=s.container,x=n,C=T.plugins.tip,L=A[0].offsetWidth>0,O={horizontal:h[0],vertical:h[1]=h[1]||h[0],enabled:w.jquery&&i[0]!==window&&i[0]!==N&&c.method!=="none",left:function(e){var t=O.horizontal==="shift",n=c.x*(O.horizontal.substr(-6)==="invert"?2:0),r=-S.offset.left+w.offset.left+w.scrollLeft,i=a.x==="left"?p:a.x==="right"?-p:-p/2,s=l.x==="left"?v:l.x==="right"?-v:-v/2,o=C&&C.size?C.size.width||0:0,u=C&&C.corner&&C.corner.precedance==="x"&&!t?o:0,f=r-e+u,h=e+p-w.width-r+u,d=i-(a.precedance==="x"||a.x===a.y?s:0)-(l.x==="center"?v/2:0),m=a.x==="center";return t?(u=C&&C.corner&&C.corner.precedance==="y"?o:0,d=(a.x==="left"?1:-1)*i-u,E.left+=f>0?f:h>0?-h:0,E.left=Math.max(-S.offset.left+w.offset.left+(u&&C.corner.x==="center"?C.offset:0),e-d,Math.min(Math.max(-S.offset.left+w.offset.left+w.width,e+d),E.left))):(f>0&&(a.x!=="left"||h>0)?E.left-=d+n:h>0&&(a.x!=="right"||f>0)&&(E.left-=(m?-d:d)+n),E.left<r&&-E.left>h&&(E.left=e)),E.left-e},top:function(e){var t=O.vertical==="shift",n=c.y*(O.vertical.substr(-6)==="invert"?2:0),r=-S.offset.top+w.offset.top+w.scrollTop,i=a.y==="top"?d:a.y==="bottom"?-d:-d/2,s=l.y==="top"?m:l.y==="bottom"?-m:-m/2,o=C&&C.size?C.size.height||0:0,u=C&&C.corner&&C.corner.precedance==="y"&&!t?o:0,f=r-e+u,h=e+d-w.height-r+u,p=i-(a.precedance==="y"||a.x===a.y?s:0)-(l.y==="center"?m/2:0),v=a.y==="center";return t?(u=C&&C.corner&&C.corner.precedance==="x"?o:0,p=(a.y==="top"?1:-1)*i-u,E.top+=f>0?f:h>0?-h:0,E.top=Math.max(-S.offset.top+w.offset.top+(u&&C.corner.x==="center"?C.offset:0),e-p,Math.min(Math.max(-S.offset.top+w.offset.top+w.height,e+p),E.top))):(f>0&&(a.y!=="top"||h>0)?E.top-=p+n:h>0&&(a.y!=="bottom"||f>0)&&(E.top-=(v?-p:p)+n),E.top<0&&-E.top>h&&(E.top=e)),E.top-e}},D;if(e.isArray(i)&&i.length===2)l={x:"left",y:"top"},E={left:i[0],top:i[1]};else if(i==="mouse"&&(t&&t.pageX||_.event.pageX))l={x:"left",y:"top"},t=(!t||t.type!=="resize"&&t.type!=="scroll"?t&&t.pageX&&t.type==="mousemove"?t:u&&u.pageX&&(c.mouse||!t||!t.pageX)?{pageX:u.pageX,pageY:u.pageY}:!c.mouse&&_.origin&&_.origin.pageX&&y.show.distance?_.origin:t:_.event)||t||_.event||u||{},E={top:t.pageY,left:t.pageX};else{i==="event"?t&&t.target&&t.type!=="scroll"&&t.type!=="resize"?i=_.target=e(t.target):i=_.target:i=_.target=e(i.jquery?i:M.target),i=e(i).eq(0);if(i.length===0)return T;i[0]===document||i[0]===window?(v=o.iOS?window.innerWidth:i.width(),m=o.iOS?window.innerHeight:i.height(),i[0]===window&&(E={top:(w||i).scrollTop(),left:(w||i).scrollLeft()})):i.is("area")&&o.imagemap?E=o.imagemap(i,l,O.enabled?h:n):i[0].namespaceURI==="http://www.w3.org/2000/svg"&&o.svg?E=o.svg(i,l):(v=i.outerWidth(),m=i.outerHeight(),E=o.offset(i,S)),E.offset&&(v=E.width,m=E.height,x=E.flipoffset,E=E.offset);if(o.iOS>3.1&&o.iOS<4.1||o.iOS>=4.3&&o.iOS<4.33||!o.iOS&&b)D=e(window),E.left-=D.scrollLeft(),E.top-=D.scrollTop();E.left+=l.x==="right"?v:l.x==="center"?v/2:0,E.top+=l.y==="bottom"?m:l.y==="center"?m/2:0}return E.left+=c.x+(a.x==="right"?-p:a.x==="center"?-p/2:0),E.top+=c.y+(a.y==="bottom"?-d:a.y==="center"?-d/2:0),O.enabled?(w={elem:w,height:w[(w[0]===window?"h":"outerH")+"eight"](),width:w[(w[0]===window?"w":"outerW")+"idth"](),scrollLeft:b?0:w.scrollLeft(),scrollTop:b?0:w.scrollTop(),offset:w.offset()||{left:0,top:0}},S={elem:S,scrollLeft:S.scrollLeft(),scrollTop:S.scrollTop(),offset:S.offset()||{left:0,top:0}},E.adjusted={left:O.horizontal!=="none"?O.left(E.left):0,top:O.vertical!=="none"?O.top(E.top):0},E.adjusted.left+E.adjusted.top&&A.attr("class",A[0].className.replace(/ui-tooltip-pos-\w+/i,f+"-pos-"+a.abbrev())),x&&E.adjusted.left&&(E.left+=x.left),x&&E.adjusted.top&&(E.top+=x.top)):E.adjusted={left:0,top:0},g.originalEvent=e.extend({},t),A.trigger(g,[T,E,w.elem||w]),g.isDefaultPrevented()?T:(delete E.adjusted,r===n||!L||isNaN(E.left)||isNaN(E.top)||i==="mouse"||!e.isFunction(s.effect)?A.css(E):e.isFunction(s.effect)&&(s.effect.call(A,T,e.extend({},E)),A.queue(function(t){e(this).css({opacity:"",height:""}),e.browser.msie&&this.style.removeAttribute("filter"),t()})),k=0,T)},redraw:function(){if(T.rendered<1||L)return T;var e=y.position.container,t,n,r,i;return L=1,y.style.height&&A.css("height",y.style.height),y.style.width?A.css("width",y.style.width):(A.css("width","").addClass(m),n=A.width()+1,r=A.css("max-width")||"",i=A.css("min-width")||"",t=(r+i).indexOf("%")>-1?e.width()/100:0,r=(r.indexOf("%")>-1?t:1)*parseInt(r,10)||n,i=(i.indexOf("%")>-1?t:1)*parseInt(i,10)||0,n=r+i?Math.min(Math.max(n,i),r):n,A.css("width",Math.round(n)).removeClass(m)),L=0,T},disable:function(t){return"boolean"!=typeof t&&(t=!A.hasClass(c)&&!_.disabled),T.rendered?(A.toggleClass(c,t),e.attr(A[0],"aria-disabled",t)):_.disabled=!!t,T},enable:function(){return T.disable(n)},destroy:function(){var n=g[0],r=e.attr(n,b),i=g.data("qtip");T.destroyed=t,T.rendered&&(A.stop(1,0).remove(),e.each(T.plugins,function(){this.destroy&&this.destroy()})),clearTimeout(T.timers.show),clearTimeout(T.timers.hide),U();if(!i||T===i)e.removeData(n,"qtip"),y.suppress&&r&&(e.attr(n,"title",r),g.removeAttr(b)),g.removeAttr("aria-describedby");return g.unbind(".qtip-"+E),delete a[T.id],g}})}function T(i,u){var a,f,l,c,h,p=e(this),d=e(document.body),v=this===document?d:p,m=p.metadata?p.metadata(u.metadata):r,g=u.metadata.type==="html5"&&m?m[u.metadata.name]:r,y=p.data(u.metadata.name||"qtipopts");try{y=typeof y=="string"?(new Function("return "+y))():y}catch(w){E("Unable to parse HTML5 attribute data: "+y)}c=e.extend(t,{},s.defaults,u,typeof y=="object"?S(y):r,S(g||m)),f=c.position,c.id=i;if("boolean"==typeof c.content.text){l=p.attr(c.content.attr);if(c.content.attr===n||!l)return E("Unable to locate content for tooltip! Aborting render of tooltip on element: ",p),n;c.content.text=l}f.container.length||(f.container=d),f.target===n&&(f.target=v),c.show.target===n&&(c.show.target=v),c.show.solo===t&&(c.show.solo=f.container.closest("body")),c.hide.target===n&&(c.hide.target=v),c.position.viewport===t&&(c.position.viewport=f.container),f.container=f.container.eq(0),f.at=new o.Corner(f.at),f.my=new o.Corner(f.my);if(e.data(this,"qtip"))if(c.overwrite)p.qtip("destroy");else if(c.overwrite===n)return n;return c.suppress&&(h=e.attr(this,"title"))&&e(this).removeAttr("title").attr(b,h).attr("title",""),a=new x(p,c,i,!!l),e.data(this,"qtip",a),p.bind("remove.qtip-"+i+" removeqtip.qtip-"+i,function(){a.destroy()}),a}function N(r){var i=this,o=r.elements.tooltip,u=r.options.content.ajax,a=s.defaults.content.ajax,f=".qtip-ajax",l=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,c=t,h=n,p;r.checks.ajax={"^content.ajax":function(e,t,n){t==="ajax"&&(u=n),t==="once"?i.init():u&&u.url?i.load():o.unbind(f)}},e.extend(i,{init:function(){return u&&u.url&&o.unbind(f)[u.once?"one":"bind"]("tooltipshow"+f,i.load),i},load:function(s){function g(){var i;if(r.destroyed)return;c=n,v&&(h=t,r.show(s.originalEvent)),(i=a.complete||u.complete)&&e.isFunction(i)&&i.apply(u.context||r,arguments)}function y(t,n,i){var s;if(r.destroyed)return;d&&(t=e("<div/>").append(t.replace(l,"")).find(d)),(s=a.success||u.success)&&e.isFunction(s)?s.call(u.context||r,t,n,i):r.set("content.text",t)}function b(e,t,n){if(r.destroyed||e.status===0)return;r.set("content.text",t+": "+n)}if(h){h=n;return}var o=u.url.indexOf(" "),f=u.url,d,v=!u.loading&&c;if(v)try{s.preventDefault()}catch(m){}else if(s&&s.isDefaultPrevented())return i;p&&p.abort&&p.abort(),o>-1&&(d=f.substr(o),f=f.substr(0,o)),p=e.ajax(e.extend({error:a.error||b,context:r},u,{url:f,success:y,complete:g}))},destroy:function(){p&&p.abort&&p.abort(),r.destroyed=t}}),i.init()}function C(e,t,n){var r=Math.ceil(t/2),i=Math.ceil(n/2),s={bottomright:[[0,0],[t,n],[t,0]],bottomleft:[[0,0],[t,0],[0,n]],topright:[[0,n],[t,0],[t,n]],topleft:[[0,0],[0,n],[t,n]],topcenter:[[0,n],[r,0],[t,n]],bottomcenter:[[0,0],[t,0],[r,n]],rightcenter:[[0,0],[t,i],[0,n]],leftcenter:[[t,0],[t,n],[0,i]]};return s.lefttop=s.bottomright,s.righttop=s.bottomleft,s.leftbottom=s.topright,s.rightbottom=s.topleft,s[e.string()]}function k(s,u){function b(){var e=p.width;p.width=p.height,p.height=e}function w(){p.width=f.width,p.height=f.height}function E(e,r,o,u){if(!l.tip)return;var c=a.corner.clone(),p=o.adjusted,d=s.options.position.adjust.method.split(" "),v=d[0],m=d[1]||d[0],g={left:n,top:n,x:0,y:0},y,b={},w;a.corner.fixed!==t&&(v==="shift"&&c.precedance==="x"&&p.left&&c.y!=="center"?c.precedance=c.precedance==="x"?"y":"x":v!=="shift"&&p.left&&(c.x=c.x==="center"?p.left>0?"left":"right":c.x==="left"?"right":"left"),m==="shift"&&c.precedance==="y"&&p.top&&c.x!=="center"?c.precedance=c.precedance==="y"?"x":"y":m!=="shift"&&p.top&&(c.y=c.y==="center"?p.top>0?"top":"bottom":c.y==="top"?"bottom":"top"),c.string()!==h.corner.string()&&(h.top!==p.top||h.left!==p.left)&&a.update(c,n)),y=a.position(c,p),y[c.x]+=S(c,c.x,t),y[c.y]+=S(c,c.y,t),y.right!==i&&(y.left=-y.right),y.bottom!==i&&(y.top=-y.bottom),y.user=Math.max(0,f.offset);if(g.left=v==="shift"&&!!p.left)c.x==="center"?b["margin-left"]=g.x=y["margin-left"]-p.left:(w=y.right!==i?[p.left,-y.left]:[-p.left,y.left],(g.x=Math.max(w[0],w[1]))>w[0]&&(o.left-=p.left,g.left=n),b[y.right!==i?"right":"left"]=g.x);if(g.top=m==="shift"&&!!p.top)c.y==="center"?b["margin-top"]=g.y=y["margin-top"]-p.top:(w=y.bottom!==i?[p.top,-y.top]:[-p.top,y.top],(g.y=Math.max(w[0],w[1]))>w[0]&&(o.top-=p.top,g.top=n),b[y.bottom!==i?"bottom":"top"]=g.y);l.tip.css(b).toggle(!(g.x&&g.y||c.x==="center"&&g.y||c.y==="center"&&g.x)),o.left-=y.left.charAt?y.user:v!=="shift"||g.top||!g.left&&!g.top?y.left:0,o.top-=y.top.charAt?y.user:m!=="shift"||g.left||!g.left&&!g.top?y.top:0,h.left=p.left,h.top=p.top,h.corner=c.clone()}function S(e,t,n){t=t?t:e[e.precedance];var r=c.hasClass(m),i=l.titlebar&&e.y==="top",s=i?l.titlebar:l.tooltip,o="border-"+t+"-width",u;return c.addClass(m),u=parseInt(s.css(o),10),u=(n?u||parseInt(c.css(o),10):u)||0,c.toggleClass(m,r),u}function x(t){var n=l.titlebar&&t.y==="top",r=n?l.titlebar:l.content,i=e.browser.mozilla,s=i?"-moz-":e.browser.webkit?"-webkit-":"",o=t.y+(i?"":"-")+t.x,u=s+(i?"border-radius-"+o:"border-"+o+"-radius");return parseInt(r.css(u),10)||parseInt(c.css(u),10)||0}function T(e){var t=e.precedance==="y",n=p[t?"width":"height"],r=p[t?"height":"width"],i=e.string().indexOf("center")>-1,s=n*(i?.5:1),o=Math.pow,u=Math.round,a,f,l,c=Math.sqrt(o(s,2)+o(r,2)),h=[v/s*c,v/r*c];return h[2]=Math.sqrt(o(h[0],2)-o(v,2)),h[3]=Math.sqrt(o(h[1],2)-o(v,2)),a=c+h[2]+h[3]+(i?0:h[0]),f=a/c,l=[u(f*r),u(f*n)],{height:l[t?0:1],width:l[t?1:0]}}var a=this,f=s.options.style.tip,l=s.elements,c=l.tooltip,h={top:0,left:0},p={width:f.width,height:f.height},d={},v=f.border||0,g=".qtip-tip",y=!!(e("<canvas />")[0]||{}).getContext;a.corner=r,a.mimic=r,a.border=v,a.offset=f.offset,a.size=p,s.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){a.init()||a.destroy(),s.reposition()},"^style.tip.(height|width)$":function(){p={width:f.width,height:f.height},a.create(),a.update(),s.reposition()},"^content.title.text|style.(classes|widget)$":function(){l.tip&&l.tip.length&&a.update()}},e.extend(a,{init:function(){var t=a.detectCorner()&&(y||e.browser.msie);return t&&(a.create(),a.update(),c.unbind(g).bind("tooltipmove"+g,E)),t},detectCorner:function(){var e=f.corner,r=s.options.position,i=r.at,u=r.my.string?r.my.string():r.my;return e===n||u===n&&i===n?n:(e===t?a.corner=new o.Corner(u):e.string||(a.corner=new o.Corner(e),a.corner.fixed=t),h.corner=new o.Corner(a.corner.string()),a.corner.string()!=="centercenter")},detectColours:function(t){var n,r,i,s=l.tip.css("cssText",""),o=t||a.corner,u=o[o.precedance],h="border-"+u+"-color",v="border"+u.charAt(0)+u.substr(1)+"Color",g=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,y="background-color",b="transparent",w=" !important",E=l.titlebar&&(o.y==="top"||o.y==="center"&&s.position().top+p.height/2+f.offset<l.titlebar.outerHeight(1)),S=E?l.titlebar:l.tooltip;c.addClass(m),d.fill=r=s.css(y),d.border=i=s[0].style[v]||s.css(h)||c.css(h);if(!r||g.test(r))d.fill=S.css(y)||b,g.test(d.fill)&&(d.fill=c.css(y)||r);if(!i||g.test(i)||i===e(document.body).css("color")){d.border=S.css(h)||b;if(g.test(d.border)||d.border===S.css("color"))d.border=c.css(h)||c.css(v)||i}e("*",s).add(s).css("cssText",y+":"+b+w+";border:0"+w+";"),c.removeClass(m)},create:function(){var t=p.width,n=p.height,r;l.tip&&l.tip.remove(),l.tip=e("<div />",{"class":"ui-tooltip-tip"}).css({width:t,height:n}).prependTo(c),y?e("<canvas />").appendTo(l.tip)[0].getContext("2d").save():(r='<vml:shape coordorigin="0,0" style="display:inline-block; position:absolute; behavior:url(#default#VML);"></vml:shape>',l.tip.html(r+r),e("*",l.tip).bind("click mousedown",function(e){e.stopPropagation()}))},update:function(i,s){var u=l.tip,m=u.children(),g=p.width,E=p.height,x="px solid ",N="px dashed transparent",k=f.mimic,L=Math.round,A,O,M,_,D;i||(i=h.corner||a.corner),k===n?k=i:(k=new o.Corner(k),k.precedance=i.precedance,k.x==="inherit"?k.x=i.x:k.y==="inherit"?k.y=i.y:k.x===k.y&&(k[i.precedance]=i[i.precedance])),A=k.precedance,i.precedance==="x"?b():w(),l.tip.css({width:g=p.width,height:E=p.height}),a.detectColours(i),d.border!=="transparent"?(v=S(i,r,t),f.border===0&&v>0&&(d.fill=d.border),a.border=v=f.border!==t?f.border:v):a.border=v=0,M=C(k,g,E),a.size=D=T(i),u.css(D),i.precedance==="y"?_=[L(k.x==="left"?v:k.x==="right"?D.width-g-v:(D.width-g)/2),L(k.y==="top"?D.height-E:0)]:_=[L(k.x==="left"?D.width-g:0),L(k.y==="top"?v:k.y==="bottom"?D.height-E-v:(D.height-E)/2)],y?(m.attr(D),O=m[0].getContext("2d"),O.restore(),O.save(),O.clearRect(0,0,3e3,3e3),O.fillStyle=d.fill,O.strokeStyle=d.border,O.lineWidth=v*2,O.lineJoin="miter",O.miterLimit=100,O.translate(_[0],_[1]),O.beginPath(),O.moveTo(M[0][0],M[0][1]),O.lineTo(M[1][0],M[1][1]),O.lineTo(M[2][0],M[2][1]),O.closePath(),v&&(c.css("background-clip")==="border-box"&&(O.strokeStyle=d.fill,O.stroke()),O.strokeStyle=d.border,O.stroke()),O.fill()):(M="m"+M[0][0]+","+M[0][1]+" l"+M[1][0]+","+M[1][1]+" "+M[2][0]+","+M[2][1]+" xe",_[2]=v&&/^(r|b)/i.test(i.string())?parseFloat(e.browser.version,10)===8?2:1:0,m.css({antialias:""+(k.string().indexOf("center")>-1),left:_[0]-_[2]*Number(A==="x"),top:_[1]-_[2]*Number(A==="y"),width:g+v,height:E+v}).each(function(t){var n=e(this);n[n.prop?"prop":"attr"]({coordsize:g+v+" "+(E+v),path:M,fillcolor:d.fill,filled:!!t,stroked:!t}).css({display:v||t?"block":"none"}),!t&&n.html()===""&&n.html('<vml:stroke weight="'+v*2+'px" color="'+d.border+'" miterlimit="1000" joinstyle="miter" '+' style="behavior:url(#default#VML); display:inline-block;" />')})),s!==n&&a.position(i)},position:function(t){var r=l.tip,i={},s=Math.max(0,f.offset),o,u,c;return f.corner===n||!r?n:(t=t||a.corner,o=t.precedance,u=T(t),c=[t.x,t.y],o==="x"&&c.reverse(),e.each(c,function(e,n){var r,a;n==="center"?(r=o==="y"?"left":"top",i[r]="50%",i["margin-"+r]=-Math.round(u[o==="y"?"width":"height"]/2)+s):(r=S(t,n),a=x(t),i[n]=e?0:s+(a>r?a:-r))}),i[t[o]]-=u[o==="x"?"width":"height"],r.css({top:"",bottom:"",left:"",right:"",margin:""}).css(i),i)},destroy:function(){l.tip&&l.tip.remove(),l.tip=!1,c.unbind(g)}}),a.init()}var t=!0,n=!1,r=null,i,s,o,u,a={},f="ui-tooltip",l="ui-widget",c="ui-state-disabled",h="div.qtip."+f,p=f+"-default",d=f+"-focus",v=f+"-hover",m=f+"-fluid",g="-31000px",y="_replacedByqTip",b="oldtitle",w;s=e.fn.qtip=function(o,u,a){var f=(""+o).toLowerCase(),l=r,c=e.makeArray(arguments).slice(1),h=c[c.length-1],p=this[0]?e.data(this[0],"qtip"):r;if(!arguments.length&&p||f==="api")return p;if("string"==typeof o)return this.each(function(){var r=e.data(this,"qtip");if(!r)return t;h&&h.timeStamp&&(r.cache.event=h);if(f!=="option"&&f!=="options"||!u)r[f]&&r[f].apply(r[f],c);else{if(!e.isPlainObject(u)&&a===i)return l=r.get(u),n;r.set(u,a)}}),l!==r?l:this;if("object"==typeof o||!arguments.length)return p=S(e.extend(t,{},o)),s.bind.call(this,p,h)},s.bind=function(r,f){return this.each(function(l){function g(t){function r(){v.render(typeof t=="object"||c.show.ready),h.show.add(h.hide).unbind(d)}if(v.cache.disabled)return n;v.cache.event=e.extend({},t),v.cache.target=t?e(t.target):[i],c.show.delay>0?(clearTimeout(v.timers.show),v.timers.show=setTimeout(r,c.show.delay),p.show!==p.hide&&h.hide.bind(p.hide,function(){clearTimeout(v.timers.show)})):r()}var c,h,p,d,v,m;m=e.isArray(r.id)?r.id[l]:r.id,m=!m||m===n||m.length<1||a[m]?s.nextid++:a[m]=m,d=".qtip-"+m+"-create",v=T.call(this,m,r);if(v===n)return t;c=v.options,e.each(o,function(){this.initialize==="initialize"&&this(v)}),h={show:c.show.target,hide:c.hide.target},p={show:e.trim(""+c.show.event).replace(/ /g,d+" ")+d,hide:e.trim(""+c.hide.event).replace(/ /g,d+" ")+d},/mouse(over|enter)/i.test(p.show)&&!/mouse(out|leave)/i.test(p.hide)&&(p.hide+=" mouseleave"+d),h.show.bind("mousemove"+d,function(e){u={pageX:e.pageX,pageY:e.pageY,type:"mousemove"},v.cache
.onTarget=t}),h.show.bind(p.show,g),(c.show.ready||c.prerender)&&g(f)})},o=s.plugins={Corner:function(e){e=(""+e).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase(),this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();var t=e.charAt(0);this.precedance=t==="t"||t==="b"?"y":"x",this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y},this.abbrev=function(){var e=this.x.substr(0,1),t=this.y.substr(0,1);return e===t?e:e==="c"||e!=="c"&&t!=="c"?t+e:e+t},this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone}}},offset:function(t,n){function f(e,t){r.left+=t*e.scrollLeft(),r.top+=t*e.scrollTop()}var r=t.offset(),i=t.closest("body")[0],s=n,o,u,a;if(s){do s.css("position")!=="static"&&(u=s.position(),r.left-=u.left+(parseInt(s.css("borderLeftWidth"),10)||0)+(parseInt(s.css("marginLeft"),10)||0),r.top-=u.top+(parseInt(s.css("borderTopWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0),!o&&(a=s.css("overflow"))!=="hidden"&&a!=="visible"&&(o=s));while((s=e(s[0].offsetParent)).length);o&&o[0]!==i&&f(o,1)}return r},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||n,fn:{attr:function(t,n){if(this.length){var r=this[0],i="title",s=e.data(r,"qtip");if(t===i&&s&&"object"==typeof s&&s.options.suppress)return arguments.length<2?e.attr(r,b):(s&&s.options.content.attr===i&&s.cache.attr&&s.set("content.text",n),this.attr(b,n))}return e.fn["attr"+y].apply(this,arguments)},clone:function(t){var n=e([]),r="title",i=e.fn["clone"+y].apply(this,arguments);return t||i.filter("["+b+"]").attr("title",function(){return e.attr(this,b)}).removeAttr(b),i}}},e.each(o.fn,function(n,r){if(!r||e.fn[n+y])return t;var i=e.fn[n+y]=e.fn[n];e.fn[n]=function(){return r.apply(this,arguments)||i.apply(this,arguments)}}),e.ui||(e["cleanData"+y]=e.cleanData,e.cleanData=function(t){for(var n=0,r;(r=t[n])!==i;n++)try{e(r).triggerHandler("removeqtip")}catch(s){}e["cleanData"+y](t)}),s.version="nightly",s.nextid=0,s.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),s.zindex=15e3,s.defaults={prerender:n,id:n,overwrite:t,suppress:t,content:{text:t,attr:"title",title:{text:n,button:n}},position:{my:"top left",at:"bottom right",target:n,container:n,viewport:n,adjust:{x:0,y:0,mouse:t,resize:t,method:"flip flip"},effect:function(t,r,i){e(this).animate(r,{duration:200,queue:n})}},show:{target:n,event:"mouseenter",effect:t,delay:90,solo:n,ready:n,autofocus:n},hide:{target:n,event:"mouseleave",effect:t,delay:0,fixed:n,inactive:n,leave:"window",distance:n},style:{classes:"",widget:n,width:n,height:n,def:t},events:{render:r,move:r,show:r,hide:r,toggle:r,visible:r,hidden:r,focus:r,blur:r}},o.ajax=function(e){var t=e.plugins.ajax;return"object"==typeof t?t:e.plugins.ajax=new N(e)},o.ajax.initialize="render",o.ajax.sanitize=function(e){var t=e.content,n;t&&"ajax"in t&&(n=t.ajax,typeof n!="object"&&(n=e.content.ajax={url:n}),"boolean"!=typeof n.once&&n.once&&(n.once=!!n.once))},e.extend(t,s.defaults,{content:{ajax:{loading:t,once:t}}}),o.tip=function(e){var t=e.plugins.tip;return"object"==typeof t?t:e.plugins.tip=new k(e)},o.tip.initialize="render",o.tip.sanitize=function(e){var n=e.style,r;n&&"tip"in n&&(r=e.style.tip,typeof r!="object"&&(e.style.tip={corner:r}),/string|boolean/i.test(typeof r.corner)||(r.corner=t),typeof r.width!="number"&&delete r.width,typeof r.height!="number"&&delete r.height,typeof r.border!="number"&&r.border!==t&&delete r.border,typeof r.offset!="number"&&delete r.offset)},e.extend(t,s.defaults,{style:{tip:{corner:t,mimic:n,width:6,height:6,border:t,offset:0}}})});var Browse={observe:function(){}},Cookie={set:function(e,t,n,r){var i="";if(n!==undefined){var s=Cookie._newDate();s.setTime(s.getTime()+1e3*parseFloat(n)),i="; expires="+s.toGMTString()}return r!==undefined&&(i+="; domain="+r),Cookie._setDocumentCookie(escape(e)+"="+escape(t||"")+i)},_newDate:function(){return new Date},_setDocumentCookie:function(e){return document.cookie=e,e},_getDocumentCookie:function(){return document.cookie},get:function(e){var t=Cookie._getDocumentCookie().match(new RegExp("(^|;)\\s*"+escape(e)+"=([^;\\s]*)"));return t?unescape(t[2]):null},erase:function(e){var t=Cookie.get(e)||!0;return Cookie.set(e,"",-1),t},accept:function(){return typeof navigator.cookieEnabled=="boolean"?navigator.cookieEnabled:(Cookie.set("_test","1"),Cookie.erase("_test")==="1")}},ImageSet=$.klass({initialize:function(e){this.images=e,this.index=0},render:function(){$("#caption").html(this.images[this.index].description),$("#frame").html($("<img>").attr("src",this.images[this.index].url)),$("#pager_label_current_image").html(this.index+1)},goNext:function(){this.index=(this.index+1)%this.images.length,this.render()},goPrev:function(){this.index=(this.index?this.index:this.images.length)-1,this.render()},popup:function(){window.open("/zoom.php?imageid="+this.images[this.index].imageid,"zoom","width=480,height=480")}}),transformToLarge=function(e,t,n){return(t-n)*e/t};ImageZoom=$.klass({observe:function(e){e.each(function(e){e.observe("mousemove",function(t){var n=t.element().cumulativeOffset(),r=n.left,i=n.top,s=transformToLarge(t.pointerX()-r,200,500),o=transformToLarge(t.pointerY()-i,200,500);e.setStyle("background-position: "+s+"px "+o+"px")})})}}),window.Emailer=window.Emailer||{},Emailer.Controller=$.klass({initialize:function(){this.view=new Emailer.View},toggle:function(e,t,n,r,i){this.view.toggleActiveLink(e),e.is(this.last_clicked_link)?this.view.toggleEmailPane():(this.view.deactivateLink(this.last_clicked_link),this.view.showForm(e)),this.last_clicked_link=e,this.last_permalink=t,this.view.resetStatus(),this.view.setYours(Cookie.get(Emailer.Controller.COOKIE_NAME)),this.view.setShared(n,r),this.view.setPermalink(t),this.view.setShareLinks(t,i)},facebookShare:function(){var e="http://www.facebook.com/sharer.php?u="+this.last_permalink;window.open(e,"sharer","toolbar=0,status=0,width=626,height=436")},sendEmail:function(){Cookie.set(Emailer.Controller.COOKIE_NAME,this.view.getYours()),$.ajax({data:this.view.getEmailPane().find("form").serialize(),success:_(function(e){this.view.setStatus(e)}).bind(this),url:"/emailer.php",type:"POST"}),this.view.showSending()}}),Emailer.Controller.COOKIE_NAME="your_email",window.Emailer=window.Emailer||{},Emailer.View=$.klass({initialize:function(){this.email_pane=$("#email_pane"),this.permalink=$("#email_pane #permalink"),this.share_links=$("#email_pane #share_links"),this.status=$("#email_pane #status"),this.shared_id=$("#email_pane #shared_id"),this.shared_type=$("#email_pane #shared_type"),this.yours=$("#email_pane #yours")},getYours:function(){return this.yours.val()},setYours:function(e){this.yours.val(e)},getEmailPane:function(){return this.email_pane},deactivateLink:function(e){$(e).removeClass("email_active")},toggleEmailPane:function(){this.email_pane.toggle()},toggleActiveLink:function(e){e.toggleClass("email_active")},showForm:function(e){e.parent().append(this.email_pane),this.email_pane.show()},setShared:function(e,t){this.shared_type.val(e),this.shared_id.val(t)},setPermalink:function(e){this.permalink.val(e)},setShareLinks:function(e,t){var n='<a href="#" onClick="emailer.facebookShare()">facebook</a> ';n+='<a href="#" onClick="window.open(\''+t+"', 'twitter', 'height=500,width=500'); return false\">twitter</a>",this.share_links.html(n)},setStatus:function(e){this.status.html(e)},showSending:function(){this.setStatus("Sending...")},resetStatus:function(){this.setStatus("We won't spam you.")}});var Subscriber=$.klass({send:function(){var e=$("#subscribe_status");e.html("Subscribing..."),$.post("/subscribe.php",{email:$("#email").val()},_(e.html).bind(e))}});window.Thumbs=window.Thumbs||{},Thumbs.controllers={},Thumbs.initializeAndRender=function(e,t,n){var r=new Thumbs.Controller(e,t,n);r.render(),Thumbs.controllers[e.defid]=r},Thumbs.userClickedUp=function(e){Thumbs.controllers[e].save(Thumbs.Vote.UP)},Thumbs.userClickedDown=function(e){Thumbs.controllers[e].save(Thumbs.Vote.DOWN)},window.Thumbs=window.Thumbs||{},Thumbs.Controller=$.klass({initialize:function(e,t,n){this.id=e.defid,this.readOnly=n,this.view=t,this.vote=new Thumbs.Vote(e.current_vote),this.voteTotal=new Thumbs.VoteTotal(e.thumbs_up,e.thumbs_down)},render:function(){this.view.render(this.voteTotal,this.readOnly)},save:function(e){if(this.readOnly){alert("Couldn't save your vote. Please try again later");return}if(this.vote.is(e)){this.view.showMessage("already voted "+e),setTimeout(_(this.render).bind(this),750);return}this.vote.isOpposite(e)&&this.voteTotal.decrement(this.vote.value),this.voteTotal.increment(e),this.render(),this.sendRequest(e),this.vote=new Thumbs.Vote(e)},sendRequest:function(e){$.ajax({url:API_PATH+"/vote",data:{defid:this.id,direction:e,key:API_KEY},dataType:"jsonp",error:function(){alert("Couldn't save your vote. Please try again later")}})}}),window.Thumbs=window.Thumbs||{},Thumbs.String=$.klass({initialize:function(e,t,n,r){this.id=e,this.up=t,this.down=n,this.should_link=r},string:function(){var e="";return this.up>0&&this.down>0?(e=this.anchor(this.bold(this.up)+" up","Up"),e+=", ",e+=this.anchor(this.bold(this.down)+" down","Down")):this.up>0?(e=this.bold(this.up)+" "+this.pluralize(this.up)+" up",e=this.anchor(e,"Up")):this.down>0&&(e=this.bold(this.down)+" "+this.pluralize(this.down)+" down",e=this.anchor(e,"Down")),e},anchor:function(e,t){return this.should_link?'<a href="#" onclick="Thumbs.userClicked'+t+"("+this.id+'); return false">'+e+"</a>":e},bold:function(e){return"<b>"+e+"</b>"},pluralize:function(e){return e==1?"thumb":"thumbs"}}),window.Thumbs=window.Thumbs||{},Thumbs.View=$.klass({initialize:function(e){this.id=e,this.tools=$("#tools_"+this.id),this.target=this.tools.find(".thumbs"),this.status=this.tools.find(".status")},showMessage:function(e){this.renderWithStatus(this.span(e))},render:function(e,t){t&&this.tools.addClass("disabled");var n=new Thumbs.String(this.id,e.up,e.down,!0);this.renderWithStatus(n.string())},span:function(e){return $("<span>").attr("class","thumbs_message").html(e)},renderWithStatus:function(e){this.status.html(e),this.target.empty(),this.target.append(this.elementForDirection("down")),this.target.append(this.elementForDirection("up"))},elementForDirection:function(e){var t=$("<a>").attr("href","#").attr("id","thumbs_"+e+"_"+this.id).attr("class","thumbs_"+e)[0];return t.onclick=this.onclick(e,this.id),t},onclick:function(e,t){return function(){var n=e.substring(0,1).toUpperCase()+e.substring(1,e.length);return Thumbs["userClicked"+n](t),!1}}}),window.Thumbs=window.Thumbs||{},Thumbs.Vote=$.klass({initialize:function(e){this.value=e},is:function(e){return this.value==e},isOpposite:function(e){return this.isSet()&&this.opposite()==e},isSet:function(){return this.value!=""},opposite:function(){return this.value==Thumbs.Vote.UP?Thumbs.Vote.DOWN:Thumbs.Vote.UP}}),Thumbs.Vote.UP="up",Thumbs.Vote.DOWN="down",window.Thumbs=window.Thumbs||{},Thumbs.VoteTotal=$.klass({initialize:function(e,t){this.up=e,this.down=t},increment:function(e){this[e]+=1},decrement:function(e){this[e]-=1}});var Define={observe:function(){}};window.Editor=window.Editor||{},Editor.Controller=$.klass({initialize:function(){this.view=new Editor.View,this.taskQueue=new Editor.TaskQueue},updateMyDecisions:function(e){this.view.updateMyDecisions(e)},addTasks:function(e){$.each(e,_(function(e,t){this.taskQueue.add(t)}).bind(this))},displayNextTask:function(){this.view.showTask(this.taskQueue.next()),this.view.setInputsEnabled(!1),setTimeout(_(function(){this.view.setInputsEnabled(!0)}).bind(this),500)},fetchSuccess:function(e){this.updateMyDecisions(e.my_decisions),e.tasks.size==0?this.takeBreak():(this.addTasks(e.tasks),this.displayNextTask())},saveSuccess:function(e){this.updateMyDecisions(e.my_decisions)},saveAndShowNext:function(e){var t=this.taskQueue.current;$.ajax({data:{editor_task_id:t.editor_task_id,signature:t.signature,response:e,key:API_KEY},url:API_PATH+"/staygo_save",dataType:"jsonp",success:$.proxy(this.saveSuccess,this)}),this.taskQueue.isEmpty()?this.load():this.displayNextTask()},takeBreak:function(){this.view.takeBreak()},showLoading:function(){this.view.showLoading()},load:function(){this.view.showLoading(),$.ajax({url:API_PATH+"/staygo_fetch?key="+API_KEY,success:$.proxy(this.fetchSuccess,this),dataType:"jsonp"})}}),Editor.TaskQueue=$.klass({initialize:function(){this.list=[]},add:function(e){this.list.push(e)},next:function(){return this.current=this.list.shift()},isEmpty:function(){return this.list.length===0}}),window.Editor=window.Editor||{},Editor.View=$.klass({updateMyDecisions:function(e){if(e===0)$("#my_decisions").empty(),$("#my_decisions").hide();else{var t=Editor.ENCOURAGEMENTS[Math.floor(e/100)%Editor.ENCOURAGEMENTS.length];$("#my_decisions").html("You've made "+e+" decisions so far. "+t),$("#my_decisions").show()}},showTask:function(e){$("#task").html(e.html)},showLoading:function(){$("#my_decisions").html("Loading..."),$("#task").html($("#loading"))},takeBreak:function(){$("#task").html($("#take_break"))},setInputsEnabled:function(e){$(".response input").attr("disabled",!e)}}),Editor.ENCOURAGEMENTS=["Thanks!","Nice work.","You rock.","Baller stat.","Pimpin.","Big pimpin.","Hell yes.","Rock.","Leet.","We rollin now.","Props.","Stay fresh.","Sickies.","Big up yourself.","Play on playa.","True.","You are a rock star.","Quite the player.","This is your day.","Can't stop! Won't stop!","omg you ROCK!!1!1","omg ur teh 1337 sauce.","You're the coolest","who is numba one?","omgzorz.","Yes thee can.","You are a straight baller.","You rock like rock music.","You have reached the end of the universe.","GOD doesn't rock harder than you.","where do u go from here?","You click like a fucking pro.","Dude you are ripped.","Clearly you know what you're doing.","I crown you the new HMFIC.","Your new haircut is fresh.","FUCKING BALLER STAT.","JESUS CHRIST SLOW DOWN.","Shit is making me hot.","I bet you know what an upper decker is now.","How more of these fucking things are there?","People write some stupid shit huh?","We appreciate your determination.","No one else has gotten this far.","Fuck, you work like a fucking robot.","Is there a single UD word you don't know?","Now we're just making shit up.","It's OK to hit Don't Know occasionally.","Are you reading these?","Can the interwebs handle this heat?","Blumpkins are tame compared to what you've read here.","Sometime you should take a break. Not now though."],window.Urbancompleter={observe:function(){var e={focus:function(){$(".ui-state-hover-row").removeClass("ui-state-hover-row"),$(".ui-state-hover").parent().addClass("ui-state-hover-row")},select:function(e,t){var n=t.item.value,r=n.match(/^\.\.\. (nearby|containing) (.+)/);r?(e.preventDefault(),r[1]=="nearby"?window.location="/browse.php?word="+encodeURIComponent(r[2]):window.location="/define.php?term="+encodeURIComponent(r[2])+"&fulltext=1"):$(e.target).parents("form").submit()}},t=0;e.source=function(n,r){n.key=API_KEY,e.xhr&&e.xhr.abort(),e.xhr=$.ajax({url:API_PATH+"/autocomplete",data:n,dataType:"jsonp",autocompleteRequest:++t,success:function(e,i){this.autocompleteRequest===t&&(e.push("... nearby "+n.term),e.push("... containing "+n.term),r(e))},error:function(){this.autocompleteRequest===t&&r([])}})},$("#term").autocomplete(e)}};var Urbantip={};Urbantip.observe=function(){function e(e){var t=$(this);if(t.parents(".word, .pagination").length==0){var n=API_PATH+"/tooltip?key="+API_KEY+"&"+t.attr("href").split("?")[1];t.qtip({content:{text:"Loading...",ajax:{url:n,loading:!1,dataType:"jsonp",success:function(e){this.set("content.text",e.string)}}},style:{classes:"ui-tooltip-urban"},show:{effect:!1,solo:!0,delay:200,event:e.type,ready:!0},hide:{effect:!1},position:{viewport:$(window)},overwrite:!1})}}$("#whole").delegate("a[href*='define.php']","mouseover",e),$("#whole").delegate("a[href*='author.php']","mouseover",e)};var Uncacheable=$.klass({initialize:function(){this.finished=!1},load:function(e){e=e||[];var t={type:"get",url:API_PATH+"/uncacheable?ids="+e.join(",")+"&key="+API_KEY,dataType:"jsonp"};t.success=_(function(e){this.receive(e)}).bind(this),$.ajax(t)},receive:function(e){for(var t=0;t<e.thumbs.length;t++){var n=e.thumbs[t];Thumbs.initializeAndRender(n,new Thumbs.View(n.defid),e.readOnly)}if(e.rollup){var r=$("#rollup");r.html(e.rollup),r.removeClass("hidden")}this.finished=!0}});Uncacheable.instance=new Uncacheable;var DraftSaver=$.klass({initialize:function(e,t){this.url=e,this.element_id=t,this.times=0},saveDrafts:function(){setInterval(this.sendRequest.bind(this),this.getInterval()*1e3)},sendRequest:function(){var e=$("#"+this.element_id).serialize();e!=this.lastPosted&&($.ajax({type:"POST",url:this.url,data:e,success:function(e){$("#draft").html(e)}}),this.lastPosted=e)},getInterval:function(){return toQueryParams(window.location.search).interval||20}}),HostEnv=$.klass({initialize:function(e){this.hostname=e},browseUrl:function(e){var t="/browse.php?word="+encodeURIComponent(e);return this.hostname=="blog.urbandictionary.com"&&(t="http://www.urbandictionary.com"+t),t},tooltipUrl:function(){return"/tooltip.php"}});window.API_PATH="http://api.urbandictionary.com/v0",window.API_KEY="ab71d33b15d36506acf1e379b0ed07ee",$(function(){top!=self&&top.location.replace(location),Urbancompleter.observe(),Urbantip.observe(),$("#email_pane").length&&(window.emailer=new Emailer.Controller),window.subscriber=new Subscriber,$(document.body).hasClass("define_controller")&&Define.observe(),($(document.body).hasClass("browse_controller")||$(document.body).hasClass("daily_controller")||$(document.body).hasClass("popular_controller")||$(document.body).hasClass("yesterday_controller"))&&Browse.observe(),window.onDomLoaded&&$.each(window.onDomLoaded,function(e,t){t()})});