(function(){var w=this;var t=w._;var b={};var k=Array.prototype,C=Object.prototype,F=Function.prototype;var u=k.slice,i=k.concat,y=k.unshift,x=C.toString,q=C.hasOwnProperty;var o=k.forEach,j=k.map,A=k.reduce,e=k.reduceRight,n=k.filter,a=k.every,z=k.some,v=k.indexOf,f=k.lastIndexOf,c=Array.isArray,B=Object.keys,l=F.bind;var E=function(H){return new g(H)};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=E}exports._=E}else{if(typeof define==="function"&&define.amd){define("underscore",function(){return E})}else{w._=E}}E.VERSION="1.2.3";var d=E.each=E.forEach=function(M,L,K){if(M==null){return}if(o&&M.forEach===o){M.forEach(L,K)}else{if(M.length===+M.length){for(var J=0,H=M.length;J<H;J++){if(J in M&&L.call(K,M[J],J,M)===b){return}}}else{for(var I in M){if(q.call(M,I)){if(L.call(K,M[I],I,M)===b){return}}}}}};E.map=function(K,J,I){var H=[];if(K==null){return H}if(j&&K.map===j){return K.map(J,I)}d(K,function(N,L,M){H[H.length]=J.call(I,N,L,M)});return H};E.reduce=E.foldl=E.inject=function(L,K,H,J){var I=arguments.length>2;if(L==null){L=[]}if(A&&L.reduce===A){if(J){K=E.bind(K,J)}return I?L.reduce(K,H):L.reduce(K)}d(L,function(O,M,N){if(!I){H=O;I=true}else{H=K.call(J,H,O,M,N)}});if(!I){throw new TypeError("Reduce of empty array with no initial value")}return H};E.reduceRight=E.foldr=function(L,K,H,J){var I=arguments.length>2;if(L==null){L=[]}if(e&&L.reduceRight===e){if(J){K=E.bind(K,J)}return I?L.reduceRight(K,H):L.reduceRight(K)}var M=E.toArray(L).reverse();if(J&&!I){K=E.bind(K,J)}return I?E.reduce(M,K,H,J):E.reduce(M,K)};E.find=E.detect=function(K,J,I){var H;r(K,function(N,L,M){if(J.call(I,N,L,M)){H=N;return true}});return H};E.filter=E.select=function(K,J,I){var H=[];if(K==null){return H}if(n&&K.filter===n){return K.filter(J,I)}d(K,function(N,L,M){if(J.call(I,N,L,M)){H[H.length]=N}});return H};E.reject=function(K,J,I){var H=[];if(K==null){return H}d(K,function(N,L,M){if(!J.call(I,N,L,M)){H[H.length]=N}});return H};E.every=E.all=function(K,J,I){var H=true;if(K==null){return H}if(a&&K.every===a){return K.every(J,I)}d(K,function(N,L,M){if(!(H=H&&J.call(I,N,L,M))){return b}});return H};var r=E.some=E.any=function(K,J,I){J||(J=E.identity);var H=false;if(K==null){return H}if(z&&K.some===z){return K.some(J,I)}d(K,function(N,L,M){if(H||(H=J.call(I,N,L,M))){return b}});return !!H};E.include=E.contains=function(J,I){var H=false;if(J==null){return H}if(v&&J.indexOf===v){return J.indexOf(I)!=-1}H=r(J,function(K){return K===I});return H};E.invoke=function(I,J){var H=u.call(arguments,2);return E.map(I,function(K){return(J.call?J||K:K[J]).apply(K,H)})};E.pluck=function(I,H){return E.map(I,function(J){return J[H]})};E.max=function(K,J,I){if(!J&&E.isArray(K)){return Math.max.apply(Math,K)}if(!J&&E.isEmpty(K)){return -Infinity}var H={computed:-Infinity};d(K,function(O,L,N){var M=J?J.call(I,O,L,N):O;M>=H.computed&&(H={value:O,computed:M})});return H.value};E.min=function(K,J,I){if(!J&&E.isArray(K)){return Math.min.apply(Math,K)}if(!J&&E.isEmpty(K)){return Infinity}var H={computed:Infinity};d(K,function(O,L,N){var M=J?J.call(I,O,L,N):O;M<H.computed&&(H={value:O,computed:M})});return H.value};E.shuffle=function(J){var H=[],I;d(J,function(M,K,L){if(K==0){H[0]=M}else{I=Math.floor(Math.random()*(K+1));H[K]=H[I];H[I]=M}});return H};E.sortBy=function(J,I,H){return E.pluck(E.map(J,function(M,K,L){return{value:M,criteria:I.call(H,M,K,L)}}).sort(function(N,M){var L=N.criteria,K=M.criteria;return L<K?-1:L>K?1:0}),"value")};E.groupBy=function(J,K){var H={};var I=E.isFunction(K)?K:function(L){return L[K]};d(J,function(N,L){var M=I(N,L);(H[M]||(H[M]=[])).push(N)});return H};E.sortedIndex=function(M,L,J){J||(J=E.identity);var H=0,K=M.length;while(H<K){var I=(H+K)>>1;J(M[I])<J(L)?H=I+1:K=I}return H};E.toArray=function(H){if(!H){return[]}if(H.toArray){return H.toArray()}if(E.isArray(H)){return u.call(H)}if(E.isArguments(H)){return u.call(H)}return E.values(H)};E.size=function(H){return E.toArray(H).length};E.first=E.head=function(J,I,H){return(I!=null)&&!H?u.call(J,0,I):J[0]};E.initial=function(J,I,H){return u.call(J,0,J.length-((I==null)||H?1:I))};E.last=function(J,I,H){if((I!=null)&&!H){return u.call(J,Math.max(J.length-I,0))}else{return J[J.length-1]}};E.rest=E.tail=function(J,H,I){return u.call(J,(H==null)||I?1:H)};E.compact=function(H){return E.filter(H,function(I){return !!I})};E.flatten=function(I,H){return E.reduce(I,function(J,K){if(E.isArray(K)){return J.concat(H?K:E.flatten(K))}J[J.length]=K;return J},[])};E.without=function(H){return E.difference(H,u.call(arguments,1))};E.uniq=E.unique=function(L,K,J){var I=J?E.map(L,J):L;var H=[];E.reduce(I,function(M,O,N){if(0==N||(K===true?E.last(M)!=O:!E.include(M,O))){M[M.length]=O;H[H.length]=L[N]}return M},[]);return H};E.union=function(){return E.uniq(E.flatten(arguments,true))};E.intersection=E.intersect=function(I){var H=u.call(arguments,1);return E.filter(E.uniq(I),function(J){return E.every(H,function(K){return E.indexOf(K,J)>=0})})};E.difference=function(I){var H=E.flatten(u.call(arguments,1));return E.filter(I,function(J){return !E.include(H,J)})};E.zip=function(){var H=u.call(arguments);var K=E.max(E.pluck(H,"length"));var J=new Array(K);for(var I=0;I<K;I++){J[I]=E.pluck(H,""+I)}return J};E.indexOf=function(L,J,K){if(L==null){return -1}var I,H;if(K){I=E.sortedIndex(L,J);return L[I]===J?I:-1}if(v&&L.indexOf===v){return L.indexOf(J)}for(I=0,H=L.length;I<H;I++){if(I in L&&L[I]===J){return I}}return -1};E.lastIndexOf=function(J,I){if(J==null){return -1}if(f&&J.lastIndexOf===f){return J.lastIndexOf(I)}var H=J.length;while(H--){if(H in J&&J[H]===I){return H}}return -1};E.range=function(M,K,L){if(arguments.length<=1){K=M||0;M=0}L=arguments[2]||1;var I=Math.max(Math.ceil((K-M)/L),0);var H=0;var J=new Array(I);while(H<I){J[H++]=M;M+=L}return J};var h=function(){};E.bind=function G(K,I){var J,H;if(K.bind===l&&l){return l.apply(K,u.call(arguments,1))}if(!E.isFunction(K)){throw new TypeError}H=u.call(arguments,2);return J=function(){if(!(this instanceof J)){return K.apply(I,H.concat(u.call(arguments)))}h.prototype=K.prototype;var M=new h;var L=K.apply(M,H.concat(u.call(arguments)));if(Object(L)===L){return L}return M}};E.bindAll=function(I){var H=u.call(arguments,1);if(H.length==0){H=E.functions(I)}d(H,function(J){I[J]=E.bind(I[J],I)});return I};E.memoize=function(J,I){var H={};I||(I=E.identity);return function(){var K=I.apply(this,arguments);return q.call(H,K)?H[K]:(H[K]=J.apply(this,arguments))}};E.delay=function(I,J){var H=u.call(arguments,2);return setTimeout(function(){return I.apply(I,H)},J)};E.defer=function(H){return E.delay.apply(E,[H,1].concat(u.call(arguments,1)))};E.throttle=function(M,O){var K,H,N,L,J;var I=E.debounce(function(){J=L=false},O);return function(){K=this;H=arguments;var P=function(){N=null;if(J){M.apply(K,H)}I()};if(!N){N=setTimeout(P,O)}if(L){J=true}else{M.apply(K,H)}I();L=true}};E.debounce=function(H,J){var I;return function(){var M=this,L=arguments;var K=function(){I=null;H.apply(M,L)};clearTimeout(I);I=setTimeout(K,J)}};E.once=function(J){var H=false,I;return function(){if(H){return I}H=true;return I=J.apply(this,arguments)}};E.wrap=function(H,I){return function(){var J=i.apply([H],arguments);return I.apply(this,J)}};E.compose=function(){var H=arguments;return function(){var I=arguments;for(var J=H.length-1;J>=0;J--){I=[H[J].apply(this,I)]}return I[0]}};E.after=function(I,H){if(I<=0){return H()}return function(){if(--I<1){return H.apply(this,arguments)}}};E.keys=B||function(J){if(J!==Object(J)){throw new TypeError("Invalid object")}var I=[];for(var H in J){if(q.call(J,H)){I[I.length]=H}}return I};E.values=function(H){return E.map(H,E.identity)};E.functions=E.methods=function(J){var I=[];for(var H in J){if(E.isFunction(J[H])){I.push(H)}}return I.sort()};E.extend=function(H){d(u.call(arguments,1),function(I){for(var J in I){if(I[J]!==void 0){H[J]=I[J]}}});return H};E.defaults=function(H){d(u.call(arguments,1),function(I){for(var J in I){if(H[J]==null){H[J]=I[J]}}});return H};E.clone=function(H){if(!E.isObject(H)){return H}return E.isArray(H)?H.slice():E.extend({},H)};E.tap=function(I,H){H(I);return I};function D(K,J,I){if(K===J){return K!==0||1/K==1/J}if(K==null||J==null){return K===J}if(K._chain){K=K._wrapped}if(J._chain){J=J._wrapped}if(K.isEqual&&E.isFunction(K.isEqual)){return K.isEqual(J)}if(J.isEqual&&E.isFunction(J.isEqual)){return J.isEqual(K)}var N=x.call(K);if(N!=x.call(J)){return false}switch(N){case"[object String]":return K==String(J);case"[object Number]":return K!=+K?J!=+J:(K==0?1/K==1/J:K==+J);case"[object Date]":case"[object Boolean]":return +K==+J;case"[object RegExp]":return K.source==J.source&&K.global==J.global&&K.multiline==J.multiline&&K.ignoreCase==J.ignoreCase}if(typeof K!="object"||typeof J!="object"){return false}var O=I.length;while(O--){if(I[O]==K){return true}}I.push(K);var M=0,H=true;if(N=="[object Array]"){M=K.length;H=M==J.length;if(H){while(M--){if(!(H=M in K==M in J&&D(K[M],J[M],I))){break}}}}else{if("constructor" in K!="constructor" in J||K.constructor!=J.constructor){return false}for(var L in K){if(q.call(K,L)){M++;if(!(H=q.call(J,L)&&D(K[L],J[L],I))){break}}}if(H){for(L in J){if(q.call(J,L)&&!(M--)){break}}H=!M}}I.pop();return H}E.isEqual=function(I,H){return D(I,H,[])};E.isEmpty=function(I){if(E.isArray(I)||E.isString(I)){return I.length===0}for(var H in I){if(q.call(I,H)){return false}}return true};E.isElement=function(H){return !!(H&&H.nodeType==1)};E.isArray=c||function(H){return x.call(H)=="[object Array]"};E.isObject=function(H){return H===Object(H)};E.isArguments=function(H){return x.call(H)=="[object Arguments]"};if(!E.isArguments(arguments)){E.isArguments=function(H){return !!(H&&q.call(H,"callee"))}}E.isFunction=function(H){return x.call(H)=="[object Function]"};E.isString=function(H){return x.call(H)=="[object String]"};E.isNumber=function(H){return x.call(H)=="[object Number]"};E.isNaN=function(H){return H!==H};E.isBoolean=function(H){return H===true||H===false||x.call(H)=="[object Boolean]"};E.isDate=function(H){return x.call(H)=="[object Date]"};E.isRegExp=function(H){return x.call(H)=="[object RegExp]"};E.isNull=function(H){return H===null};E.isUndefined=function(H){return H===void 0};E.noConflict=function(){w._=t;return this};E.identity=function(H){return H};E.times=function(K,J,I){for(var H=0;H<K;H++){J.call(I,H)}};E.escape=function(H){return(""+H).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};E.mixin=function(H){d(E.functions(H),function(I){s(I,E[I]=H[I])})};var m=0;E.uniqueId=function(H){var I=m++;return H?H+I:I};E.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};E.template=function(K,J){var L=E.templateSettings;var H="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+K.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(L.escape,function(M,N){return"',_.escape("+N.replace(/\\'/g,"'")+"),'"}).replace(L.interpolate,function(M,N){return"',"+N.replace(/\\'/g,"'")+",'"}).replace(L.evaluate||null,function(M,N){return"');"+N.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";var I=new Function("obj","_",H);if(J){return I(J,E)}return function(M){return I.call(this,M,E)}};var g=function(H){this._wrapped=H};E.prototype=g.prototype;var p=function(I,H){return H?E(I).chain():I};var s=function(H,I){g.prototype[H]=function(){var J=u.call(arguments);y.call(J,this._wrapped);return p(I.apply(E,J),this._chain)}};E.mixin(E);d(["pop","push","reverse","shift","sort","splice","unshift"],function(H){var I=k[H];g.prototype[H]=function(){I.apply(this._wrapped,arguments);return p(this._wrapped,this._chain)}});d(["concat","join","slice"],function(H){var I=k[H];g.prototype[H]=function(){return p(I.apply(this._wrapped,arguments),this._chain)}});g.prototype.chain=function(){this._chain=true;return this};g.prototype.value=function(){return this._wrapped}}).call(this);var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());(function(b){var a=function(j){var e=this.superclass&&this.superclass.prototype;var d=b.keys(j);if(!b.keys({toString:true}).length){d.push("toString","valueOf")}for(var c=0,f=d.length;c<f;c++){var h=d[c],g=j[h];if(e&&b.isFunction(g)&&b.argumentNames(g)[0]=="$super"){var k=g;g=b.extend(b.wrap((function(i){return function(){return e[i].apply(this,arguments)}})(h),k),{valueOf:function(){return k},toString:function(){return k.toString()}})}this.prototype[h]=g}return this};b.extend({keys:function(e){var d=[];for(var c in e){d.push(c)}return d},argumentNames:function(c){var d=c.toString().match(/^[\s\(]*function[^(]*\((.*?)\)/)[1].split(/, ?/);return d.length==1&&!d[0]?[]:d},bind:function(d,c){return function(){return d.apply(c,b.makeArray(arguments))}},wrap:function(d,e){var c=d;return function(){return e.apply(this,[b.bind(c,this)].concat(b.makeArray(arguments)))}},klass:function(){var g=null,f=b.makeArray(arguments);if(b.isFunction(f[0])){g=f.shift()}var c=function(){this.initialize.apply(this,arguments)};c.superclass=g;c.subclasses=[];c.addMethods=a;if(g){var d=function(){};d.prototype=g.prototype;c.prototype=new d;g.subclasses.push(c)}for(var e=0;e<f.length;e++){c.addMethods(f[e])}if(!c.prototype.initialize){c.prototype.initialize=function(){}}c.prototype.constructor=c;return c}})})(jQuery);function toQueryParams(b,d){var a=b.match(/([^?#]*)(#.*)?$/);if(!a){return{}}var c={};$.each(a[1].split(d||"&"),function(e,h){if((h=h.split("="))[0]){var f=decodeURIComponent(h.shift());var g=h.length>1?h.join("="):h[0];if(g!=undefined){g=decodeURIComponent(g.replace(/\+/g," "))}if(f in c){if(!$.isArray(c[f])){c[f]=[c[f]]}c[f].push(g)}else{c[f]=g}}});return c}
/*!
 * jQuery UI 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(a,d){a.ui=a.ui||{};if(a.ui.version){return}a.extend(a.ui,{version:"1.8.16",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(e,f){return typeof e==="number"?this.each(function(){var g=this;setTimeout(function(){a(g).focus();if(f){f.call(g)}},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;if((a.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){e=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(a.curCSS(this,"position",1))&&(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0)}else{e=this.parents().filter(function(){return(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0)}return(/fixed/).test(this.css("position"))||!e.length?a(document):e},zIndex:function(h){if(h!==d){return this.css("zIndex",h)}if(this.length){var f=a(this[0]),e,g;while(f.length&&f[0]!==document){e=f.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){g=parseInt(f.css("zIndex"),10);if(!isNaN(g)&&g!==0){return g}}f=f.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});a.each(["Width","Height"],function(g,e){var f=e==="Width"?["Left","Right"]:["Top","Bottom"],h=e.toLowerCase(),k={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};function j(m,l,i,n){a.each(f,function(){l-=parseFloat(a.curCSS(m,"padding"+this,true))||0;if(i){l-=parseFloat(a.curCSS(m,"border"+this+"Width",true))||0}if(n){l-=parseFloat(a.curCSS(m,"margin"+this,true))||0}});return l}a.fn["inner"+e]=function(i){if(i===d){return k["inner"+e].call(this)}return this.each(function(){a(this).css(h,j(this,i)+"px")})};a.fn["outer"+e]=function(i,l){if(typeof i!=="number"){return k["outer"+e].call(this,i)}return this.each(function(){a(this).css(h,j(this,i,true,l)+"px")})}});function c(g,e){var j=g.nodeName.toLowerCase();if("area"===j){var i=g.parentNode,h=i.name,f;if(!g.href||!h||i.nodeName.toLowerCase()!=="map"){return false}f=a("img[usemap=#"+h+"]")[0];return !!f&&b(f)}return(/input|select|textarea|button|object/.test(j)?!g.disabled:"a"==j?g.href||e:e)&&b(g)}function b(e){return !a(e).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.extend(a.expr[":"],{data:function(g,f,e){return !!a.data(g,e[3])},focusable:function(e){return c(e,!isNaN(a.attr(e,"tabindex")))},tabbable:function(g){var e=a.attr(g,"tabindex"),f=isNaN(e);return(f||e>=0)&&c(g,!f)}});a(function(){var e=document.body,f=e.appendChild(f=document.createElement("div"));a.extend(f.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=f.offsetHeight===100;a.support.selectstart="onselectstart" in f;e.removeChild(f).style.display="none"});a.extend(a.ui,{plugin:{add:function(f,g,j){var h=a.ui[f].prototype;for(var e in j){h.plugins[e]=h.plugins[e]||[];h.plugins[e].push([g,j[e]])}},call:function(e,g,f){var j=e.plugins[g];if(!j||!e.element[0].parentNode){return}for(var h=0;h<j.length;h++){if(e.options[j[h][0]]){j[h][1].apply(e.element,f)}}}},contains:function(f,e){return document.compareDocumentPosition?f.compareDocumentPosition(e)&16:f!==e&&f.contains(e)},hasScroll:function(h,f){if(a(h).css("overflow")==="hidden"){return false}var e=(f&&f==="left")?"scrollLeft":"scrollTop",g=false;if(h[e]>0){return true}h[e]=1;g=(h[e]>0);h[e]=0;return g},isOverAxis:function(f,e,g){return(f>e)&&(f<(e+g))},isOver:function(j,f,i,h,e,g){return a.ui.isOverAxis(j,i,e)&&a.ui.isOverAxis(f,h,g)}})})(jQuery);(function(f,g){f.ui=f.ui||{};var d=/left|center|right/,e=/top|center|bottom/,a="center",b=f.fn.position,c=f.fn.offset;f.fn.position=function(i){if(!i||!i.of){return b.apply(this,arguments)}i=f.extend({},i);var m=f(i.of),l=m[0],o=(i.collision||"flip").split(" "),n=i.offset?i.offset.split(" "):[0,0],k,h,j;if(l.nodeType===9){k=m.width();h=m.height();j={top:0,left:0}}else{if(l.setTimeout){k=m.width();h=m.height();j={top:m.scrollTop(),left:m.scrollLeft()}}else{if(l.preventDefault){i.at="left top";k=h=0;j={top:i.of.pageY,left:i.of.pageX}}else{k=m.outerWidth();h=m.outerHeight();j=m.offset()}}}f.each(["my","at"],function(){var p=(i[this]||"").split(" ");if(p.length===1){p=d.test(p[0])?p.concat([a]):e.test(p[0])?[a].concat(p):[a,a]}p[0]=d.test(p[0])?p[0]:a;p[1]=e.test(p[1])?p[1]:a;i[this]=p});if(o.length===1){o[1]=o[0]}n[0]=parseInt(n[0],10)||0;if(n.length===1){n[1]=n[0]}n[1]=parseInt(n[1],10)||0;if(i.at[0]==="right"){j.left+=k}else{if(i.at[0]===a){j.left+=k/2}}if(i.at[1]==="bottom"){j.top+=h}else{if(i.at[1]===a){j.top+=h/2}}j.left+=n[0];j.top+=n[1];return this.each(function(){var s=f(this),u=s.outerWidth(),r=s.outerHeight(),t=parseInt(f.curCSS(this,"marginLeft",true))||0,q=parseInt(f.curCSS(this,"marginTop",true))||0,w=u+t+(parseInt(f.curCSS(this,"marginRight",true))||0),x=r+q+(parseInt(f.curCSS(this,"marginBottom",true))||0),v=f.extend({},j),p;if(i.my[0]==="right"){v.left-=u}else{if(i.my[0]===a){v.left-=u/2}}if(i.my[1]==="bottom"){v.top-=r}else{if(i.my[1]===a){v.top-=r/2}}v.left=Math.round(v.left);v.top=Math.round(v.top);p={left:v.left-t,top:v.top-q};f.each(["left","top"],function(z,y){if(f.ui.position[o[z]]){f.ui.position[o[z]][y](v,{targetWidth:k,targetHeight:h,elemWidth:u,elemHeight:r,collisionPosition:p,collisionWidth:w,collisionHeight:x,offset:n,my:i.my,at:i.at})}});if(f.fn.bgiframe){s.bgiframe()}s.offset(f.extend(v,{using:i.using}))})};f.ui.position={fit:{left:function(h,i){var k=f(window),j=i.collisionPosition.left+i.collisionWidth-k.width()-k.scrollLeft();h.left=j>0?h.left-j:Math.max(h.left-i.collisionPosition.left,h.left)},top:function(h,i){var k=f(window),j=i.collisionPosition.top+i.collisionHeight-k.height()-k.scrollTop();h.top=j>0?h.top-j:Math.max(h.top-i.collisionPosition.top,h.top)}},flip:{left:function(i,k){if(k.at[0]===a){return}var m=f(window),l=k.collisionPosition.left+k.collisionWidth-m.width()-m.scrollLeft(),h=k.my[0]==="left"?-k.elemWidth:k.my[0]==="right"?k.elemWidth:0,j=k.at[0]==="left"?k.targetWidth:-k.targetWidth,n=-2*k.offset[0];i.left+=k.collisionPosition.left<0?h+j+n:l>0?h+j+n:0},top:function(i,k){if(k.at[1]===a){return}var m=f(window),l=k.collisionPosition.top+k.collisionHeight-m.height()-m.scrollTop(),h=k.my[1]==="top"?-k.elemHeight:k.my[1]==="bottom"?k.elemHeight:0,j=k.at[1]==="top"?k.targetHeight:-k.targetHeight,n=-2*k.offset[1];i.top+=k.collisionPosition.top<0?h+j+n:l>0?h+j+n:0}}};if(!f.offset.setOffset){f.offset.setOffset=function(l,i){if(/static/.test(f.curCSS(l,"position"))){l.style.position="relative"}var k=f(l),n=k.offset(),h=parseInt(f.curCSS(l,"top",true),10)||0,m=parseInt(f.curCSS(l,"left",true),10)||0,j={top:(i.top-n.top)+h,left:(i.left-n.left)+m};if("using" in i){i.using.call(l,j)}else{k.css(j)}};f.fn.offset=function(h){var i=this[0];if(!i||!i.ownerDocument){return null}if(h){return this.each(function(){f.offset.setOffset(this,h)})}return c.call(this)}}}(jQuery));
/*!
 * jQuery UI Widget 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(b,d){if(b.cleanData){var c=b.cleanData;b.cleanData=function(f){for(var g=0,h;(h=f[g])!=null;g++){try{b(h).triggerHandler("remove")}catch(j){}}c(f)}}else{var a=b.fn.remove;b.fn.remove=function(e,f){return this.each(function(){if(!f){if(!e||b.filter(e,[this]).length){b("*",this).add([this]).each(function(){try{b(this).triggerHandler("remove")}catch(g){}})}}return a.call(b(this),e,f)})}}b.widget=function(f,h,e){var g=f.split(".")[0],j;f=f.split(".")[1];j=g+"-"+f;if(!e){e=h;h=b.Widget}b.expr[":"][j]=function(k){return !!b.data(k,f)};b[g]=b[g]||{};b[g][f]=function(k,l){if(arguments.length){this._createWidget(k,l)}};var i=new h();i.options=b.extend(true,{},i.options);b[g][f].prototype=b.extend(true,i,{namespace:g,widgetName:f,widgetEventPrefix:b[g][f].prototype.widgetEventPrefix||f,widgetBaseClass:j},e);b.widget.bridge(f,b[g][f])};b.widget.bridge=function(f,e){b.fn[f]=function(i){var g=typeof i==="string",h=Array.prototype.slice.call(arguments,1),j=this;i=!g&&h.length?b.extend.apply(null,[true,i].concat(h)):i;if(g&&i.charAt(0)==="_"){return j}if(g){this.each(function(){var k=b.data(this,f),l=k&&b.isFunction(k[i])?k[i].apply(k,h):k;if(l!==k&&l!==d){j=l;return false}})}else{this.each(function(){var k=b.data(this,f);if(k){k.option(i||{})._init()}else{b.data(this,f,new e(i,this))}})}return j}};b.Widget=function(e,f){if(arguments.length){this._createWidget(e,f)}};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(f,g){b.data(g,this.widgetName,this);this.element=b(g);this.options=b.extend(true,{},this.options,this._getCreateOptions(),f);var e=this;this.element.bind("remove."+this.widgetName,function(){e.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(f,g){var e=f;if(arguments.length===0){return b.extend({},this.options)}if(typeof f==="string"){if(g===d){return this.options[f]}e={};e[f]=g}this._setOptions(e);return this},_setOptions:function(f){var e=this;b.each(f,function(g,h){e._setOption(g,h)});return this},_setOption:function(e,f){this.options[e]=f;if(e==="disabled"){this.widget()[f?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",f)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(f,g,h){var k=this.options[f];g=b.Event(g);g.type=(f===this.widgetEventPrefix?f:this.widgetEventPrefix+f).toLowerCase();h=h||{};if(g.originalEvent){for(var e=b.event.props.length,j;e;){j=b.event.props[--e];g[j]=g.originalEvent[j]}}this.element.trigger(g,h);return !(b.isFunction(k)&&k.call(this.element[0],g,h)===false||g.isDefaultPrevented())}}})(jQuery);(function(a,b){var c=0;a.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var d=this,f=this.element[0].ownerDocument,e;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(g){if(d.options.disabled||d.element.propAttr("readOnly")){return}e=false;var h=a.ui.keyCode;switch(g.keyCode){case h.PAGE_UP:d._move("previousPage",g);break;case h.PAGE_DOWN:d._move("nextPage",g);break;case h.UP:d._move("previous",g);g.preventDefault();break;case h.DOWN:d._move("next",g);g.preventDefault();break;case h.ENTER:case h.NUMPAD_ENTER:if(d.menu.active){e=true;g.preventDefault()}case h.TAB:if(!d.menu.active){return}d.menu.select(g);break;case h.ESCAPE:d.element.val(d.term);d.close(g);break;default:clearTimeout(d.searching);d.searching=setTimeout(function(){if(d.term!=d.element.val()){d.selectedItem=null;d.search(null,g)}},d.options.delay);break}}).bind("keypress.autocomplete",function(g){if(e){e=false;g.preventDefault()}}).bind("focus.autocomplete",function(){if(d.options.disabled){return}d.selectedItem=null;d.previous=d.element.val()}).bind("blur.autocomplete",function(g){if(d.options.disabled){return}clearTimeout(d.searching);d.closing=setTimeout(function(){d.close(g);d._change(g)},150)});this._initSource();this.response=function(){return d._response.apply(d,arguments)};this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",f)[0]).mousedown(function(g){var h=d.menu.element[0];if(!a(g.target).closest(".ui-menu-item").length){setTimeout(function(){a(document).one("mousedown",function(i){if(i.target!==d.element[0]&&i.target!==h&&!a.ui.contains(h,i.target)){d.close()}})},1)}setTimeout(function(){clearTimeout(d.closing)},13)}).menu({focus:function(h,i){var g=i.item.data("item.autocomplete");if(false!==d._trigger("focus",h,{item:g})){if(/^key/.test(h.originalEvent.type)){d.element.val(g.value)}}},selected:function(i,j){var h=j.item.data("item.autocomplete"),g=d.previous;if(d.element[0]!==f.activeElement){d.element.focus();d.previous=g;setTimeout(function(){d.previous=g;d.selectedItem=h},1)}if(false!==d._trigger("select",i,{item:h})){d.element.val(h.value)}d.term=d.element.val();d.close(i);d.selectedItem=h},blur:function(g,h){if(d.menu.element.is(":visible")&&(d.element.val()!==d.term)){d.element.val(d.term)}}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");if(a.fn.bgiframe){this.menu.element.bgiframe()}},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();a.Widget.prototype.destroy.call(this)},_setOption:function(d,e){a.Widget.prototype._setOption.apply(this,arguments);if(d==="source"){this._initSource()}if(d==="appendTo"){this.menu.element.appendTo(a(e||"body",this.element[0].ownerDocument)[0])}if(d==="disabled"&&e&&this.xhr){this.xhr.abort()}},_initSource:function(){var d=this,f,e;if(a.isArray(this.options.source)){f=this.options.source;this.source=function(h,g){g(a.ui.autocomplete.filter(f,h.term))}}else{if(typeof this.options.source==="string"){e=this.options.source;this.source=function(h,g){if(d.xhr){d.xhr.abort()}d.xhr=a.ajax({url:e,data:h,dataType:"json",autocompleteRequest:++c,success:function(j,i){if(this.autocompleteRequest===c){g(j)}},error:function(){if(this.autocompleteRequest===c){g([])}}})}}else{this.source=this.options.source}}},search:function(e,d){e=e!=null?e:this.element.val();this.term=this.element.val();if(e.length<this.options.minLength){return this.close(d)}clearTimeout(this.closing);if(this._trigger("search",d)===false){return}return this._search(e)},_search:function(d){this.pending++;this.element.addClass("ui-autocomplete-loading");this.source({term:d},this.response)},_response:function(d){if(!this.options.disabled&&d&&d.length){d=this._normalize(d);this._suggest(d);this._trigger("open")}else{this.close()}this.pending--;if(!this.pending){this.element.removeClass("ui-autocomplete-loading")}},close:function(d){clearTimeout(this.closing);if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.deactivate();this._trigger("close",d)}},_change:function(d){if(this.previous!==this.element.val()){this._trigger("change",d,{item:this.selectedItem})}},_normalize:function(d){if(d.length&&d[0].label&&d[0].value){return d}return a.map(d,function(e){if(typeof e==="string"){return{label:e,value:e}}return a.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(d){var e=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(e,d);this.menu.deactivate();this.menu.refresh();e.show();this._resizeMenu();e.position(a.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next(new a.Event("mouseover"))}},_resizeMenu:function(){var d=this.menu.element;d.outerWidth(Math.max(d.width("").outerWidth(),this.element.outerWidth()))},_renderMenu:function(f,e){var d=this;a.each(e,function(g,h){d._renderItem(f,h)})},_renderItem:function(d,e){return a("<li></li>").data("item.autocomplete",e).append(a("<a></a>").text(e.label)).appendTo(d)},_move:function(e,d){if(!this.menu.element.is(":visible")){this.search(null,d);return}if(this.menu.first()&&/^previous/.test(e)||this.menu.last()&&/^next/.test(e)){this.element.val(this.term);this.menu.deactivate();return}this.menu[e](d)},widget:function(){return this.menu.element}});a.extend(a.ui.autocomplete,{escapeRegex:function(d){return d.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(f,d){var e=new RegExp(a.ui.autocomplete.escapeRegex(d),"i");return a.grep(f,function(g){return e.test(g.label||g.value||g)})}})}(jQuery));(function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){if(!a(c.target).closest(".ui-menu-item a").length){return}c.preventDefault();b.select(c)});this.refresh()},refresh:function(){var c=this;var b=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");b.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(d){c.activate(d,a(this).parent())}).mouseleave(function(){c.deactivate()})},activate:function(e,d){this.deactivate();if(this.hasScroll()){var f=d.offset().top-this.element.offset().top,b=this.element.scrollTop(),c=this.element.height();if(f<0){this.element.scrollTop(b+f)}else{if(f>=c){this.element.scrollTop(b+f-c+d.height())}}}this.active=d.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",e,{item:d})},deactivate:function(){if(!this.active){return}this.active.children("a").removeClass("ui-state-hover").removeAttr("id");this._trigger("blur");this.active=null},next:function(b){this.move("next",".ui-menu-item:first",b)},previous:function(b){this.move("prev",".ui-menu-item:last",b)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(e,d,c){if(!this.active){this.activate(c,this.element.children(d));return}var b=this.active[e+"All"](".ui-menu-item").eq(0);if(b.length){this.activate(c,b)}else{this.activate(c,this.element.children(d))}},nextPage:function(d){if(this.hasScroll()){if(!this.active||this.last()){this.activate(d,this.element.children(".ui-menu-item:first"));return}var e=this.active.offset().top,c=this.element.height(),b=this.element.children(".ui-menu-item").filter(function(){var f=a(this).offset().top-e-c+a(this).height();return f<10&&f>-10});if(!b.length){b=this.element.children(".ui-menu-item:last")}this.activate(d,b)}else{this.activate(d,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))}},previousPage:function(c){if(this.hasScroll()){if(!this.active||this.first()){this.activate(c,this.element.children(".ui-menu-item:last"));return}var d=this.active.offset().top,b=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var e=a(this).offset().top-d+b-a(this).height();return e<10&&e>-10});if(!result.length){result=this.element.children(".ui-menu-item:first")}this.activate(c,result)}else{this.activate(c,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))}},hasScroll:function(){return this.element.height()<this.element[a.fn.prop?"prop":"attr"]("scrollHeight")},select:function(b){this._trigger("selected",b,{item:this.active})}})}(jQuery));
/*!
* qTip2 - Pretty powerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: nightly
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Sat Jun  2 08:46:38.0000000000 2012
*/
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(f){var i=true,q=false,A=null,g,p,o,b,z={},j="ui-tooltip",d="ui-widget",e="ui-state-disabled",r="div.qtip."+j,k=j+"-default",B=j+"-focus",c=j+"-hover",w=j+"-fluid",n="-31000px",y="_replacedByqTip",m="oldtitle",l;function h(){h.history=h.history||[];h.history.push(arguments);if("object"===typeof console){var E=console[console.warn?"warn":"log"],D=Array.prototype.slice.call(arguments),C;if(typeof arguments[0]==="string"){D[0]="qTip2: "+D[0]}C=E.apply?E.apply(console,D):E(D)}}function a(D){var C;if(!D||"object"!==typeof D){return q}if(D.metadata===A||"object"!==typeof D.metadata){D.metadata={type:D.metadata}}if("content" in D){if(D.content===A||"object"!==typeof D.content||D.content.jquery){D.content={text:D.content}}C=D.content.text||q;if(!f.isFunction(C)&&((!C&&!C.attr)||C.length<1||("object"===typeof C&&!C.jquery))){D.content.text=q}if("title" in D.content){if(D.content.title===A||"object"!==typeof D.content.title){D.content.title={text:D.content.title}}C=D.content.title.text||q;if(!f.isFunction(C)&&((!C&&!C.attr)||C.length<1||("object"===typeof C&&!C.jquery))){D.content.title.text=q}}}if("position" in D){if(D.position===A||"object"!==typeof D.position){D.position={my:D.position,at:D.position}}}if("show" in D){if(D.show===A||"object"!==typeof D.show){if(D.show.jquery){D.show={target:D.show}}else{D.show={event:D.show}}}}if("hide" in D){if(D.hide===A||"object"!==typeof D.hide){if(D.hide.jquery){D.hide={target:D.hide}}else{D.hide={event:D.hide}}}}if("style" in D){if(D.style===A||"object"!==typeof D.style){D.style={classes:D.style}}}f.each(o,function(){if(this.sanitize){this.sanitize(D)}});return D}function x(Y,E,S,T){var R=this,N=document.body,K=j+"-"+S,F=0,X=0,G=f(),O=".qtip-"+S,P,Q;R.id=S;R.rendered=q;R.destroyed=q;R.elements=P={target:Y};R.timers={img:{}};R.options=E;R.checks={};R.plugins={};R.cache=Q={event:{},target:f(),disabled:q,attr:T,onTarget:q};function H(ab){var Z=0,ad,aa=E,ac=ab.split(".");while(aa=aa[ac[Z++]]){if(Z<ac.length){ad=aa}}return[ad||E,ac.pop()]}function W(){var Z=E.style.widget;G.toggleClass(d,Z).toggleClass(k,E.style.def&&!Z);P.content.toggleClass(d+"-content",Z);if(P.titlebar){P.titlebar.toggleClass(d+"-header",Z)}if(P.button){P.button.toggleClass(j+"-icon",!Z)}}function C(Z){if(P.title){P.titlebar.remove();P.titlebar=P.title=P.button=A;if(Z!==q){R.reposition()}}}function U(){var aa=E.content.title.button,Z=typeof aa==="string",ab=Z?aa:"Close tooltip";if(P.button){P.button.remove()}if(aa.jquery){P.button=aa}else{P.button=f("<a />",{"class":"ui-state-default ui-tooltip-close "+(E.style.widget?"":j+"-icon"),title:ab,"aria-label":ab}).prepend(f("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}))}P.button.appendTo(P.titlebar).attr("role","button").click(function(ac){if(!G.hasClass(e)){R.hide(ac)}return q});R.redraw()}function J(){var Z=K+"-title";if(P.titlebar){C()}P.titlebar=f("<div />",{"class":j+"-titlebar "+(E.style.widget?"ui-widget-header":"")}).append(P.title=f("<div />",{id:Z,"class":j+"-title","aria-atomic":i})).insertBefore(P.content).delegate(".ui-tooltip-close","mousedown keydown mouseup keyup mouseout",function(aa){f(this).toggleClass("ui-state-active ui-state-focus",aa.type.substr(-4)==="down")}).delegate(".ui-tooltip-close","mouseover mouseout",function(aa){f(this).toggleClass("ui-state-hover",aa.type==="mouseover")});if(E.content.title.button){U()}else{if(R.rendered){R.redraw()}}}function M(Z){var aa=P.button,ab=P.title;if(!R.rendered){return q}if(!Z){aa.remove()}else{if(!ab){J()}U()}}function V(ab,Z){var aa=P.title;if(!R.rendered||!ab){return q}if(f.isFunction(ab)){ab=ab.call(Y,Q.event,R)}if(ab===q||(!ab&&ab!=="")){return C(q)}else{if(ab.jquery&&ab.length>0){aa.empty().append(ab.css({display:"block"}))}else{aa.html(ab)}}R.redraw();if(Z!==q&&R.rendered&&G[0].offsetWidth>0){R.reposition(Q.event)}}function L(ab,Z){var aa=P.content;if(!R.rendered||!ab){return q}if(f.isFunction(ab)){ab=ab.call(Y,Q.event,R)||""}if(ab.jquery&&ab.length>0){aa.empty().append(ab.css({display:"block"}))}else{aa.html(ab)}function ac(ae){var ad,af={};function ag(ah){if(ah){delete af[ah.src];clearTimeout(R.timers.img[ah.src]);f(ah).unbind(O)}if(f.isEmptyObject(af)){R.redraw();if(Z!==q){R.reposition(Q.event)}ae()}}if((ad=aa.find("img[src]:not([height]):not([width])")).length===0){return ag()}ad.each(function(ai,ak){if(af[ak.src]!==g){return}var aj=0,ah=3;(function al(){if(ak.height||ak.width||(aj>ah)){return ag(ak)}aj+=1;R.timers.img[ak.src]=setTimeout(al,700)}());f(ak).bind("error"+O+" load"+O,function(){ag(this)});af[ak.src]=ak})}if(R.rendered<0){G.queue("fx",ac)}else{X=0;ac(f.noop)}return R}function D(){var ac=E.position,aa={show:E.show.target,hide:E.hide.target,viewport:f(ac.viewport),document:f(document),body:f(document.body),window:f(window)},ab={show:f.trim(""+E.show.event).split(" "),hide:f.trim(""+E.hide.event).split(" ")},Z=f.browser.msie&&parseInt(f.browser.version,10)===6;function ae(ah){if(G.hasClass(e)){return q}clearTimeout(R.timers.show);clearTimeout(R.timers.hide);var ai=function(){R.toggle(i,ah)};if(E.show.delay>0){R.timers.show=setTimeout(ai,E.show.delay)}else{ai()}}function ad(ak){if(G.hasClass(e)||F||X){return q}var ai=f(ak.relatedTarget||ak.target),ah=ai.closest(r)[0]===G[0],aj=ai[0]===aa.show[0];clearTimeout(R.timers.show);clearTimeout(R.timers.hide);if((ac.target==="mouse"&&ah)||(E.hide.fixed&&((/mouse(out|leave|move)/).test(ak.type)&&(ah||aj)))){try{ak.preventDefault();ak.stopImmediatePropagation()}catch(al){}return}if(E.hide.delay>0){R.timers.hide=setTimeout(function(){R.hide(ak)},E.hide.delay)}else{R.hide(ak)}}function af(ah){if(G.hasClass(e)){return q}clearTimeout(R.timers.inactive);R.timers.inactive=setTimeout(function(){R.hide(ah)},E.hide.inactive)}function ag(ah){if(R.rendered&&G[0].offsetWidth>0){R.reposition(ah)}}G.bind("mouseenter"+O+" mouseleave"+O,function(ah){var ai=ah.type==="mouseenter";if(ai){R.focus(ah)}G.toggleClass(c,ai)});if(E.hide.fixed){aa.hide=aa.hide.add(G);G.bind("mouseover"+O,function(){if(!G.hasClass(e)){clearTimeout(R.timers.hide)}})}if(/mouse(out|leave)/i.test(E.hide.event)){if(E.hide.leave==="window"){aa.window.bind("mouseout"+O+" blur"+O,function(ah){if(/select|option/.test(ah.target)&&!ah.relatedTarget){R.hide(ah)}})}}else{if(/mouse(over|enter)/i.test(E.show.event)){aa.hide.bind("mouseleave"+O,function(ah){clearTimeout(R.timers.show)})}}if((""+E.hide.event).indexOf("unfocus")>-1){ac.container.closest("html").bind("mousedown"+O,function(ak){var aj=f(ak.target),ai=R.rendered&&!G.hasClass(e)&&G[0].offsetWidth>0,ah=aj.parents(r).filter(G[0]).length>0;if(aj[0]!==Y[0]&&aj[0]!==G[0]&&!ah&&!Y.has(aj[0]).length&&!aj.attr("disabled")){R.hide(ak)}})}if("number"===typeof E.hide.inactive){aa.show.bind("qtip-"+S+"-inactive",af);f.each(p.inactiveEvents,function(ah,ai){aa.hide.add(P.tooltip).bind(ai+O+"-inactive",af)})}f.each(ab.hide,function(ai,aj){var ah=f.inArray(aj,ab.show),ak=f(aa.hide);if((ah>-1&&ak.add(aa.show).length===ak.length)||aj==="unfocus"){aa.show.bind(aj+O,function(al){if(G[0].offsetWidth>0){ad(al)}else{ae(al)}});delete ab.show[ah]}else{aa.hide.bind(aj+O,ad)}});f.each(ab.show,function(ah,ai){aa.show.bind(ai+O,ae)});if("number"===typeof E.hide.distance){aa.show.add(G).bind("mousemove"+O,function(ak){var aj=Q.origin||{},ai=E.hide.distance,ah=Math.abs;if(ah(ak.pageX-aj.pageX)>=ai||ah(ak.pageY-aj.pageY)>=ai){R.hide(ak)}})}if(ac.target==="mouse"){aa.show.bind("mousemove"+O,function(ah){b={pageX:ah.pageX,pageY:ah.pageY,type:"mousemove"}});if(ac.adjust.mouse){if(E.hide.event){G.bind("mouseleave"+O,function(ah){if((ah.relatedTarget||ah.target)!==aa.show[0]){R.hide(ah)}});P.target.bind("mouseenter"+O+" mouseleave"+O,function(ah){Q.onTarget=ah.type==="mouseenter"})}aa.document.bind("mousemove"+O,function(ah){if(R.rendered&&Q.onTarget&&!G.hasClass(e)&&G[0].offsetWidth>0){R.reposition(ah||b)}})}}if(ac.adjust.resize||aa.viewport.length){(f.event.special.resize?aa.viewport:aa.window).bind("resize"+O,ag)}if(aa.viewport.length||(Z&&G.css("position")==="fixed")){aa.viewport.bind("scroll"+O,ag)}}function I(){var Z=[E.show.target[0],E.hide.target[0],R.rendered&&P.tooltip[0],E.position.container[0],E.position.viewport[0],window,document];if(R.rendered){f([]).pushStack(f.grep(Z,function(aa){return typeof aa==="object"})).unbind(O)}else{E.show.target.unbind(O+"-create")}}R.checks.builtin={"^id$":function(ab,ac,Z){var ad=Z===i?p.nextid:Z,aa=j+"-"+ad;if(ad!==q&&ad.length>0&&!f("#"+aa).length){G[0].id=aa;P.content[0].id=aa+"-content";P.title[0].id=aa+"-title"}},"^content.text$":function(aa,ab,Z){L(Z)},"^content.title.text$":function(aa,ab,Z){if(!Z){return C()}if(!P.title&&Z){J()}V(Z)},"^content.title.button$":function(aa,ab,Z){M(Z)},"^position.(my|at)$":function(aa,ab,Z){if("string"===typeof Z){aa[ab]=new o.Corner(Z)}},"^position.container$":function(aa,ab,Z){if(R.rendered){G.appendTo(Z)}},"^show.ready$":function(){if(!R.rendered){R.render(1)}else{R.toggle(i)}},"^style.classes$":function(aa,ab,Z){G.attr("class",j+" qtip ui-helper-reset "+Z)},"^style.widget|content.title":W,"^events.(render|show|move|hide|focus|blur)$":function(aa,ab,Z){G[(f.isFunction(Z)?"":"un")+"bind"]("tooltip"+ab,Z)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var Z=E.position;G.attr("tracking",Z.target==="mouse"&&Z.adjust.mouse);I();D()}};f.extend(R,{render:function(Z){if(R.rendered){return R}var ac=E.content.text,ab=E.content.title.text,aa=E.position,ad=f.Event("tooltiprender");f.attr(Y[0],"aria-describedby",K);G=P.tooltip=f("<div/>",{id:K,"class":j+" qtip ui-helper-reset "+k+" "+E.style.classes+" "+j+"-pos-"+E.position.my.abbrev(),width:E.style.width||"",height:E.style.height||"",tracking:aa.target==="mouse"&&aa.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":q,"aria-describedby":K+"-content","aria-hidden":i}).toggleClass(e,Q.disabled).data("qtip",R).appendTo(E.position.container).append(P.content=f("<div />",{"class":j+"-content",id:K+"-content","aria-atomic":i}));R.rendered=-1;X=1;F=1;if(ab){J();if(!f.isFunction(ab)){V(ab,q)}}if(!f.isFunction(ac)){L(ac,q)}R.rendered=i;W();f.each(E.events,function(ae,af){if(f.isFunction(af)){G.bind(ae==="toggle"?"tooltipshow tooltiphide":"tooltip"+ae,af)}});f.each(o,function(){if(this.initialize==="render"){this(R)}});D();G.queue("fx",function(ae){ad.originalEvent=Q.event;G.trigger(ad,[R]);X=0;F=0;R.redraw();if(E.show.ready||Z){R.toggle(i,Q.event,q)}ae()});return R},get:function(aa){var Z,ab;switch(aa.toLowerCase()){case"dimensions":Z={height:G.outerHeight(),width:G.outerWidth()};break;case"offset":Z=o.offset(G,E.position.container);break;default:ab=H(aa.toLowerCase());Z=ab[0][ab[1]];Z=Z.precedance?Z.string():Z;break}return Z},set:function(ac,ad){var ab=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,ae=/^content\.(title|attr)|style/i,af=q,ah=q,aa=R.checks,Z;function ag(al,aj){var ak,am,ai;for(ak in aa){for(am in aa[ak]){if(ai=(new RegExp(am,"i")).exec(al)){aj.push(ai);aa[ak][am].apply(R,aj)}}}}if("string"===typeof ac){Z=ac;ac={};ac[Z]=ad}else{ac=f.extend(i,{},ac)}f.each(ac,function(aj,ak){var al=H(aj.toLowerCase()),ai;ai=al[0][al[1]];al[0][al[1]]="object"===typeof ak&&ak.nodeType?f(ak):ak;ac[aj]=[al[0],al[1],ak,ai];af=ab.test(aj)||af;ah=ae.test(aj)||ah});a(E);F=X=1;f.each(ac,ag);F=X=0;if(R.rendered&&G[0].offsetWidth>0){if(af){R.reposition(E.position.target==="mouse"?A:Q.event)}if(ah){R.redraw()}}return R},toggle:function(ab,ac){if(!R.rendered){return ab?R.render(1):R}var aj=ab?"show":"hide",Z=E[aj],ae=E[!ab?"show":"hide"],al=E.position,ah=E.content,af=G[0].offsetWidth>0,ad=ab||Z.target.length===1,ag=!ac||Z.target.length<2||Q.target[0]===ac.target,ai,ak;if((typeof ab).search("boolean|number")){ab=!af}if(!G.is(":animated")&&af===ab&&ag){return R}if(ac){if((/over|enter/).test(ac.type)&&(/out|leave/).test(Q.event.type)&&E.show.target.add(ac.target).length===E.show.target.length&&G.has(ac.relatedTarget).length){return R}Q.event=f.extend({},ac)}ak=f.Event("tooltip"+aj);ak.originalEvent=ac?Q.event:A;G.trigger(ak,[R,90]);if(ak.isDefaultPrevented()){return R}f.attr(G[0],"aria-hidden",!!!ab);if(ab){Q.origin=f.extend({},b);R.focus(ac);if(f.isFunction(ah.text)){L(ah.text,q)}if(f.isFunction(ah.title.text)){V(ah.title.text,q)}if(!l&&al.target==="mouse"&&al.adjust.mouse){f(document).bind("mousemove.qtip",function(am){b={pageX:am.pageX,pageY:am.pageY,type:"mousemove"}});l=i}R.reposition(ac,arguments[2]);if((ak.solo=!!Z.solo)){f(r,Z.solo).not(G).qtip("hide",ak)}}else{clearTimeout(R.timers.show);delete Q.origin;if(l&&!f(r+'[tracking="true"]:visible',Z.solo).not(G).length){f(document).unbind("mousemove.qtip");l=q}R.blur(ac)}function aa(){if(ab){if(f.browser.msie){G[0].style.removeAttribute("filter")}G.css("overflow","");if("string"===typeof Z.autofocus){f(Z.autofocus,G).focus()}Z.target.trigger("qtip-"+S+"-inactive")}else{G.css({display:"",visibility:"",opacity:"",left:"",top:""})}ak=f.Event("tooltip"+(ab?"visible":"hidden"));ak.originalEvent=ac?Q.event:A;G.trigger(ak,[R])}if(Z.effect===q||ad===q){G[aj]();aa.call(G)}else{if(f.isFunction(Z.effect)){G.stop(1,1);Z.effect.call(G,R);G.queue("fx",function(am){aa();am()})}else{G.fadeTo(90,ab?1:0,aa)}}if(ab){Z.target.trigger("qtip-"+S+"-inactive")}return R},show:function(Z){return R.toggle(i,Z)},hide:function(Z){return R.toggle(q,Z)},focus:function(ad){if(!R.rendered){return R}var ae=f(r),ab=parseInt(G[0].style.zIndex,10),aa=p.zindex+ae.length,ac=f.extend({},ad),Z,af;if(!G.hasClass(B)){af=f.Event("tooltipfocus");af.originalEvent=ac;G.trigger(af,[R,aa]);if(!af.isDefaultPrevented()){if(ab!==aa){ae.each(function(){if(this.style.zIndex>ab){this.style.zIndex=this.style.zIndex-1}});ae.filter("."+B).qtip("blur",ac)}G.addClass(B)[0].style.zIndex=aa}}return R},blur:function(aa){var Z=f.extend({},aa),ab;G.removeClass(B);ab=f.Event("tooltipblur");ab.originalEvent=Z;G.trigger(ab,[R]);return R},reposition:function(ap,am){if(!R.rendered||F){return R}F=1;var av=E.position.target,au=E.position,ak=au.my,al=au.at,an=au.adjust,ab=an.method.split(" "),aq=G.outerWidth(),ao=G.outerHeight(),ag=0,ah=0,af=f.Event("tooltipmove"),ad=G.css("position")==="fixed",ar=au.viewport,aw={left:0,top:0},ai=au.container,ac=q,aj=R.plugins.tip,aa=G[0].offsetWidth>0,Z={horizontal:ab[0],vertical:(ab[1]=ab[1]||ab[0]),enabled:ar.jquery&&av[0]!==window&&av[0]!==N&&an.method!=="none",left:function(aB){var ax=Z.horizontal==="shift",aH=an.x*(Z.horizontal.substr(-6)==="invert"?2:0),aA=-ai.offset.left+ar.offset.left+ar.scrollLeft,ay=ak.x==="left"?aq:ak.x==="right"?-aq:-aq/2,at=al.x==="left"?ag:al.x==="right"?-ag:-ag/2,aD=aj&&aj.size?aj.size.width||0:0,aG=aj&&aj.corner&&aj.corner.precedance==="x"&&!ax?aD:0,aF=aA-aB+aG,az=aB+aq-ar.width-aA+aG,aC=ay-(ak.precedance==="x"||ak.x===ak.y?at:0)-(al.x==="center"?ag/2:0),aE=ak.x==="center";if(ax){aG=aj&&aj.corner&&aj.corner.precedance==="y"?aD:0;aC=(ak.x==="left"?1:-1)*ay-aG;aw.left+=aF>0?aF:az>0?-az:0;aw.left=Math.max(-ai.offset.left+ar.offset.left+(aG&&aj.corner.x==="center"?aj.offset:0),aB-aC,Math.min(Math.max(-ai.offset.left+ar.offset.left+ar.width,aB+aC),aw.left))}else{if(aF>0&&(ak.x!=="left"||az>0)){aw.left-=aC+aH}else{if(az>0&&(ak.x!=="right"||aF>0)){aw.left-=(aE?-aC:aC)+aH}}if(aw.left<aA&&-aw.left>az){aw.left=aB}}return aw.left-aB},top:function(aD){var ax=Z.vertical==="shift",aH=an.y*(Z.vertical.substr(-6)==="invert"?2:0),aB=-ai.offset.top+ar.offset.top+ar.scrollTop,ay=ak.y==="top"?ao:ak.y==="bottom"?-ao:-ao/2,aE=al.y==="top"?ah:al.y==="bottom"?-ah:-ah/2,at=aj&&aj.size?aj.size.height||0:0,aG=aj&&aj.corner&&aj.corner.precedance==="y"&&!ax?at:0,az=aB-aD+aG,aA=aD+ao-ar.height-aB+aG,aC=ay-(ak.precedance==="y"||ak.x===ak.y?aE:0)-(al.y==="center"?ah/2:0),aF=ak.y==="center";if(ax){aG=aj&&aj.corner&&aj.corner.precedance==="x"?at:0;aC=(ak.y==="top"?1:-1)*ay-aG;aw.top+=az>0?az:aA>0?-aA:0;aw.top=Math.max(-ai.offset.top+ar.offset.top+(aG&&aj.corner.x==="center"?aj.offset:0),aD-aC,Math.min(Math.max(-ai.offset.top+ar.offset.top+ar.height,aD+aC),aw.top))}else{if(az>0&&(ak.y!=="top"||aA>0)){aw.top-=aC+aH}else{if(aA>0&&(ak.y!=="bottom"||az>0)){aw.top-=(aF?-aC:aC)+aH}}if(aw.top<0&&-aw.top>aA){aw.top=aD}}return aw.top-aD}},ae;if(f.isArray(av)&&av.length===2){al={x:"left",y:"top"};aw={left:av[0],top:av[1]}}else{if(av==="mouse"&&((ap&&ap.pageX)||Q.event.pageX)){al={x:"left",y:"top"};ap=(ap&&(ap.type==="resize"||ap.type==="scroll")?Q.event:ap&&ap.pageX&&ap.type==="mousemove"?ap:b&&b.pageX&&(an.mouse||!ap||!ap.pageX)?{pageX:b.pageX,pageY:b.pageY}:!an.mouse&&Q.origin&&Q.origin.pageX&&E.show.distance?Q.origin:ap)||ap||Q.event||b||{};aw={top:ap.pageY,left:ap.pageX}}else{if(av==="event"){if(ap&&ap.target&&ap.type!=="scroll"&&ap.type!=="resize"){av=Q.target=f(ap.target)}else{av=Q.target}}else{av=Q.target=f(av.jquery?av:P.target)}av=f(av).eq(0);if(av.length===0){return R}else{if(av[0]===document||av[0]===window){ag=o.iOS?window.innerWidth:av.width();ah=o.iOS?window.innerHeight:av.height();if(av[0]===window){aw={top:(ar||av).scrollTop(),left:(ar||av).scrollLeft()}}}else{if(av.is("area")&&o.imagemap){aw=o.imagemap(av,al,Z.enabled?ab:q)}else{if(av[0].namespaceURI==="http://www.w3.org/2000/svg"&&o.svg){aw=o.svg(av,al)}else{ag=av.outerWidth();ah=av.outerHeight();aw=o.offset(av,ai)}}}}if(aw.offset){ag=aw.width;ah=aw.height;ac=aw.flipoffset;aw=aw.offset}if((o.iOS>3.1&&o.iOS<4.1)||(o.iOS>=4.3&&o.iOS<4.33)||(!o.iOS&&ad)){ae=f(window);aw.left-=ae.scrollLeft();aw.top-=ae.scrollTop()}aw.left+=al.x==="right"?ag:al.x==="center"?ag/2:0;aw.top+=al.y==="bottom"?ah:al.y==="center"?ah/2:0}}aw.left+=an.x+(ak.x==="right"?-aq:ak.x==="center"?-aq/2:0);aw.top+=an.y+(ak.y==="bottom"?-ao:ak.y==="center"?-ao/2:0);if(Z.enabled){ar={elem:ar,height:ar[(ar[0]===window?"h":"outerH")+"eight"](),width:ar[(ar[0]===window?"w":"outerW")+"idth"](),scrollLeft:ad?0:ar.scrollLeft(),scrollTop:ad?0:ar.scrollTop(),offset:ar.offset()||{left:0,top:0}};ai={elem:ai,scrollLeft:ai.scrollLeft(),scrollTop:ai.scrollTop(),offset:ai.offset()||{left:0,top:0}};aw.adjusted={left:Z.horizontal!=="none"?Z.left(aw.left):0,top:Z.vertical!=="none"?Z.top(aw.top):0};if(aw.adjusted.left+aw.adjusted.top){G.attr("class",G[0].className.replace(/ui-tooltip-pos-\w+/i,j+"-pos-"+ak.abbrev()))}if(ac&&aw.adjusted.left){aw.left+=ac.left}if(ac&&aw.adjusted.top){aw.top+=ac.top}}else{aw.adjusted={left:0,top:0}}af.originalEvent=f.extend({},ap);G.trigger(af,[R,aw,ar.elem||ar]);if(af.isDefaultPrevented()){return R}delete aw.adjusted;if(am===q||!aa||isNaN(aw.left)||isNaN(aw.top)||av==="mouse"||!f.isFunction(au.effect)){G.css(aw)}else{if(f.isFunction(au.effect)){au.effect.call(G,R,f.extend({},aw));G.queue(function(at){f(this).css({opacity:"",height:""});if(f.browser.msie){this.style.removeAttribute("filter")}at()})}}F=0;return R},redraw:function(){if(R.rendered<1||X){return R}var aa=E.position.container,ac,ad,Z,ab;X=1;if(E.style.height){G.css("height",E.style.height)}if(E.style.width){G.css("width",E.style.width)}else{G.css("width","").addClass(w);ad=G.width()+1;Z=G.css("max-width")||"";ab=G.css("min-width")||"";ac=(Z+ab).indexOf("%")>-1?aa.width()/100:0;Z=((Z.indexOf("%")>-1?ac:1)*parseInt(Z,10))||ad;ab=((ab.indexOf("%")>-1?ac:1)*parseInt(ab,10))||0;ad=Z+ab?Math.min(Math.max(ad,ab),Z):ad;G.css("width",Math.round(ad)).removeClass(w)}X=0;return R},disable:function(Z){if("boolean"!==typeof Z){Z=!(G.hasClass(e)||Q.disabled)}if(R.rendered){G.toggleClass(e,Z);f.attr(G[0],"aria-disabled",Z)}else{Q.disabled=!!Z}return R},enable:function(){return R.disable(q)},destroy:function(){var Z=Y[0],aa=f.attr(Z,m),ab=Y.data("qtip");R.destroyed=i;if(R.rendered){G.stop(1,0).remove();f.each(R.plugins,function(){if(this.destroy){this.destroy()}})}clearTimeout(R.timers.show);clearTimeout(R.timers.hide);I();if(!ab||R===ab){f.removeData(Z,"qtip");if(E.suppress&&aa){f.attr(Z,"title",aa);Y.removeAttr(m)}Y.removeAttr("aria-describedby")}Y.unbind(".qtip-"+S);delete z[R.id];return Y}})}function s(D,C){var G,P,K,E,N,F=f(this),H=f(document.body),M=this===document?H:F,L=(F.metadata)?F.metadata(C.metadata):A,O=C.metadata.type==="html5"&&L?L[C.metadata.name]:A,I=F.data(C.metadata.name||"qtipopts");try{I=typeof I==="string"?(new Function("return "+I))():I}catch(J){h("Unable to parse HTML5 attribute data: "+I)}E=f.extend(i,{},p.defaults,C,typeof I==="object"?a(I):A,a(O||L));P=E.position;E.id=D;if("boolean"===typeof E.content.text){K=F.attr(E.content.attr);if(E.content.attr!==q&&K){E.content.text=K}else{h("Unable to locate content for tooltip! Aborting render of tooltip on element: ",F);return q}}if(!P.container.length){P.container=H}if(P.target===q){P.target=M}if(E.show.target===q){E.show.target=M}if(E.show.solo===i){E.show.solo=P.container.closest("body")}if(E.hide.target===q){E.hide.target=M}if(E.position.viewport===i){E.position.viewport=P.container}P.container=P.container.eq(0);P.at=new o.Corner(P.at);P.my=new o.Corner(P.my);if(f.data(this,"qtip")){if(E.overwrite){F.qtip("destroy")}else{if(E.overwrite===q){return q}}}if(E.suppress&&(N=f.attr(this,"title"))){f(this).removeAttr("title").attr(m,N).attr("title","")}G=new x(F,E,D,!!K);f.data(this,"qtip",G);F.bind("remove.qtip-"+D+" removeqtip.qtip-"+D,function(){G.destroy()});return G}p=f.fn.qtip=function(D,H,I){var J=(""+D).toLowerCase(),G=A,C=f.makeArray(arguments).slice(1),F=C[C.length-1],E=this[0]?f.data(this[0],"qtip"):A;if((!arguments.length&&E)||J==="api"){return E}else{if("string"===typeof D){this.each(function(){var K=f.data(this,"qtip");if(!K){return i}if(F&&F.timeStamp){K.cache.event=F}if((J==="option"||J==="options")&&H){if(f.isPlainObject(H)||I!==g){K.set(H,I)}else{G=K.get(H);return q}}else{if(K[J]){K[J].apply(K[J],C)}}});return G!==A?G:this}else{if("object"===typeof D||!arguments.length){E=a(f.extend(i,{},D));return p.bind.call(this,E,F)}}}};p.bind=function(D,C){return this.each(function(H){var F,E,G,J,I,L;L=f.isArray(D.id)?D.id[H]:D.id;L=!L||L===q||L.length<1||z[L]?p.nextid++:(z[L]=L);J=".qtip-"+L+"-create";I=s.call(this,L,D);if(I===q){return i}F=I.options;f.each(o,function(){if(this.initialize==="initialize"){this(I)}});E={show:F.show.target,hide:F.hide.target};G={show:f.trim(""+F.show.event).replace(/ /g,J+" ")+J,hide:f.trim(""+F.hide.event).replace(/ /g,J+" ")+J};if(/mouse(over|enter)/i.test(G.show)&&!/mouse(out|leave)/i.test(G.hide)){G.hide+=" mouseleave"+J}E.show.bind("mousemove"+J,function(M){b={pageX:M.pageX,pageY:M.pageY,type:"mousemove"};I.cache.onTarget=i});function K(N){function M(){I.render(typeof N==="object"||F.show.ready);E.show.add(E.hide).unbind(J)}if(I.cache.disabled){return q}I.cache.event=f.extend({},N);I.cache.target=N?f(N.target):[g];if(F.show.delay>0){clearTimeout(I.timers.show);I.timers.show=setTimeout(M,F.show.delay);if(G.show!==G.hide){E.hide.bind(G.hide,function(){clearTimeout(I.timers.show)})}}else{M()}}E.show.bind(G.show,K);if(F.show.ready||F.prerender){K(C)}})};o=p.plugins={Corner:function(C){C=(""+C).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(C.match(/left|right/i)||C.match(/center/)||["inherit"])[0].toLowerCase();this.y=(C.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();var D=C.charAt(0);this.precedance=(D==="t"||D==="b"?"y":"x");this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbrev=function(){var E=this.x.substr(0,1),F=this.y.substr(0,1);return E===F?E:(E==="c"||(E!=="c"&&F!=="c"))?F+E:E+F};this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone}}},offset:function(F,C){var I=F.offset(),H=F.closest("body")[0],K=C,D,E,G;function J(M,L){I.left+=L*M.scrollLeft();I.top+=L*M.scrollTop()}if(K){do{if(K.css("position")!=="static"){E=K.position();I.left-=E.left+(parseInt(K.css("borderLeftWidth"),10)||0)+(parseInt(K.css("marginLeft"),10)||0);I.top-=E.top+(parseInt(K.css("borderTopWidth"),10)||0)+(parseInt(K.css("marginTop"),10)||0);if(!D&&(G=K.css("overflow"))!=="hidden"&&G!=="visible"){D=K}}}while((K=f(K[0].offsetParent)).length);if(D&&D[0]!==H){J(D,1)}}return I},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||q,fn:{attr:function(C,G){if(this.length){var D=this[0],F="title",E=f.data(D,"qtip");if(C===F&&E&&"object"===typeof E&&E.options.suppress){if(arguments.length<2){return f.attr(D,m)}else{if(E&&E.options.content.attr===F&&E.cache.attr){E.set("content.text",G)}return this.attr(m,G)}}}return f.fn["attr"+y].apply(this,arguments)},clone:function(D){var F=f([]),E="title",C=f.fn["clone"+y].apply(this,arguments);if(!D){C.filter("["+m+"]").attr("title",function(){return f.attr(this,m)}).removeAttr(m)}return C}}};f.each(o.fn,function(D,E){if(!E||f.fn[D+y]){return i}var C=f.fn[D+y]=f.fn[D];f.fn[D]=function(){return E.apply(this,arguments)||C.apply(this,arguments)}});if(!f.ui){f["cleanData"+y]=f.cleanData;f.cleanData=function(C){for(var D=0,E;(E=C[D])!==g;D++){try{f(E).triggerHandler("removeqtip")}catch(F){}}f["cleanData"+y](C)}}p.version="nightly";p.nextid=0;p.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");p.zindex=15000;p.defaults={prerender:q,id:q,overwrite:i,suppress:i,content:{text:i,attr:"title",title:{text:q,button:q}},position:{my:"top left",at:"bottom right",target:q,container:q,viewport:q,adjust:{x:0,y:0,mouse:i,resize:i,method:"flip flip"},effect:function(D,E,C){f(this).animate(E,{duration:200,queue:q})}},show:{target:q,event:"mouseenter",effect:i,delay:90,solo:q,ready:q,autofocus:q},hide:{target:q,event:"mouseleave",effect:i,delay:0,fixed:q,inactive:q,leave:"window",distance:q},style:{classes:"",widget:q,width:q,height:q,def:i},events:{render:A,move:A,show:A,hide:A,toggle:A,visible:A,hidden:A,focus:A,blur:A}};function t(G){var K=this,L=G.elements.tooltip,C=G.options.content.ajax,E=p.defaults.content.ajax,D=".qtip-ajax",H=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,F=i,I=q,J;G.checks.ajax={"^content.ajax":function(O,N,M){if(N==="ajax"){C=M}if(N==="once"){K.init()}else{if(C&&C.url){K.load()}else{L.unbind(D)}}}};f.extend(K,{init:function(){if(C&&C.url){L.unbind(D)[C.once?"one":"bind"]("tooltipshow"+D,K.load)}return K},load:function(N){if(I){I=q;return}var Q=C.url.indexOf(" "),O=C.url,P,U=!C.loading&&F;if(U){try{N.preventDefault()}catch(S){}}else{if(N&&N.isDefaultPrevented()){return K}}if(J&&J.abort){J.abort()}if(Q>-1){P=O.substr(Q);O=O.substr(0,Q)}function M(){var V;if(G.destroyed){return}F=q;if(U){I=i;G.show(N.originalEvent)}if((V=E.complete||C.complete)&&f.isFunction(V)){V.apply(C.context||G,arguments)}}function T(X,V,W){var Y;if(G.destroyed){return}if(P){X=f("<div/>").append(X.replace(H,"")).find(P)}if((Y=E.success||C.success)&&f.isFunction(Y)){Y.call(C.context||G,X,V,W)}else{G.set("content.text",X)}}function R(X,V,W){if(G.destroyed||X.status===0){return}G.set("content.text",V+": "+W)}J=f.ajax(f.extend({error:E.error||R,context:G},C,{url:O,success:T,complete:M}))},destroy:function(){if(J&&J.abort){J.abort()}G.destroyed=i}});K.init()}o.ajax=function(D){var C=D.plugins.ajax;return"object"===typeof C?C:(D.plugins.ajax=new t(D))};o.ajax.initialize="render";o.ajax.sanitize=function(C){var E=C.content,D;if(E&&"ajax" in E){D=E.ajax;if(typeof D!=="object"){D=C.content.ajax={url:D}}if("boolean"!==typeof D.once&&D.once){D.once=!!D.once}}};f.extend(i,p.defaults,{content:{ajax:{loading:i,once:i}}});function u(H,F,D){var E=Math.ceil(F/2),G=Math.ceil(D/2),C={bottomright:[[0,0],[F,D],[F,0]],bottomleft:[[0,0],[F,0],[0,D]],topright:[[0,D],[F,0],[F,D]],topleft:[[0,0],[0,D],[F,D]],topcenter:[[0,D],[E,0],[F,D]],bottomcenter:[[0,0],[F,0],[E,D]],rightcenter:[[0,0],[F,G],[0,D]],leftcenter:[[F,0],[F,D],[0,G]]};C.lefttop=C.bottomright;C.righttop=C.bottomleft;C.leftbottom=C.topright;C.rightbottom=C.topleft;return C[H.string()]}function v(M,E){var L=this,I=M.options.style.tip,S=M.elements,F=S.tooltip,J={top:0,left:0},K={width:I.width,height:I.height},Q={},O=I.border||0,H=".qtip-tip",N=!!(f("<canvas />")[0]||{}).getContext;L.corner=A;L.mimic=A;L.border=O;L.offset=I.offset;L.size=K;M.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){if(!L.init()){L.destroy()}M.reposition()},"^style.tip.(height|width)$":function(){K={width:I.width,height:I.height};L.create();L.update();M.reposition()},"^content.title.text|style.(classes|widget)$":function(){if(S.tip&&S.tip.length){L.update()}}};function G(){var U=K.width;K.width=K.height;K.height=U}function C(){K.width=I.width;K.height=I.height}function P(V,ab,ae,ac){if(!S.tip){return}var ag=L.corner.clone(),af=ae.adjusted,U=M.options.position.adjust.method.split(" "),W=U[0],Y=U[1]||U[0],X={left:q,top:q,x:0,y:0},Z,aa={},ad;if(L.corner.fixed!==i){if(W==="shift"&&ag.precedance==="x"&&af.left&&ag.y!=="center"){ag.precedance=ag.precedance==="x"?"y":"x"}else{if(W!=="shift"&&af.left){ag.x=ag.x==="center"?(af.left>0?"left":"right"):(ag.x==="left"?"right":"left")}}if(Y==="shift"&&ag.precedance==="y"&&af.top&&ag.x!=="center"){ag.precedance=ag.precedance==="y"?"x":"y"}else{if(Y!=="shift"&&af.top){ag.y=ag.y==="center"?(af.top>0?"top":"bottom"):(ag.y==="top"?"bottom":"top")}}if(ag.string()!==J.corner.string()&&(J.top!==af.top||J.left!==af.left)){L.update(ag,q)}}Z=L.position(ag,af);Z[ag.x]+=T(ag,ag.x,i);Z[ag.y]+=T(ag,ag.y,i);if(Z.right!==g){Z.left=-Z.right}if(Z.bottom!==g){Z.top=-Z.bottom}Z.user=Math.max(0,I.offset);if(X.left=(W==="shift"&&!!af.left)){if(ag.x==="center"){aa["margin-left"]=X.x=Z["margin-left"]-af.left}else{ad=Z.right!==g?[af.left,-Z.left]:[-af.left,Z.left];if((X.x=Math.max(ad[0],ad[1]))>ad[0]){ae.left-=af.left;X.left=q}aa[Z.right!==g?"right":"left"]=X.x}}if(X.top=(Y==="shift"&&!!af.top)){if(ag.y==="center"){aa["margin-top"]=X.y=Z["margin-top"]-af.top}else{ad=Z.bottom!==g?[af.top,-Z.top]:[-af.top,Z.top];if((X.y=Math.max(ad[0],ad[1]))>ad[0]){ae.top-=af.top;X.top=q}aa[Z.bottom!==g?"bottom":"top"]=X.y}}S.tip.css(aa).toggle(!((X.x&&X.y)||(ag.x==="center"&&X.y)||(ag.y==="center"&&X.x)));ae.left-=Z.left.charAt?Z.user:W!=="shift"||X.top||!X.left&&!X.top?Z.left:0;ae.top-=Z.top.charAt?Z.user:Y!=="shift"||X.left||!X.left&&!X.top?Z.top:0;J.left=af.left;J.top=af.top;J.corner=ag.clone()}function T(Z,X,V){X=!X?Z[Z.precedance]:X;var aa=F.hasClass(w),U=S.titlebar&&Z.y==="top",Y=U?S.titlebar:S.tooltip,W="border-"+X+"-width",ab;F.addClass(w);ab=parseInt(Y.css(W),10);ab=(V?ab||parseInt(F.css(W),10):ab)||0;F.toggleClass(w,aa);return ab}function D(Z){var U=S.titlebar&&Z.y==="top",Y=U?S.titlebar:S.content,X=f.browser.mozilla,aa=X?"-moz-":f.browser.webkit?"-webkit-":"",W=Z.y+(X?"":"-")+Z.x,V=aa+(X?"border-radius-"+W:"border-"+W+"-radius");return parseInt(Y.css(V),10)||parseInt(F.css(V),10)||0}function R(ad){var ab=ad.precedance==="y",V=K[ab?"width":"height"],ae=K[ab?"height":"width"],aa=ad.string().indexOf("center")>-1,U=V*(aa?0.5:1),X=Math.pow,af=Math.round,ac,Z,ag,W=Math.sqrt(X(U,2)+X(ae,2)),Y=[(O/U)*W,(O/ae)*W];Y[2]=Math.sqrt(X(Y[0],2)-X(O,2));Y[3]=Math.sqrt(X(Y[1],2)-X(O,2));ac=W+Y[2]+Y[3]+(aa?0:Y[0]);Z=ac/W;ag=[af(Z*ae),af(Z*V)];return{height:ag[ab?0:1],width:ag[ab?1:0]}}f.extend(L,{init:function(){var U=L.detectCorner()&&(N||f.browser.msie);if(U){L.create();L.update();F.unbind(H).bind("tooltipmove"+H,P)}return U},detectCorner:function(){var W=I.corner,V=M.options.position,U=V.at,X=V.my.string?V.my.string():V.my;if(W===q||(X===q&&U===q)){return q}else{if(W===i){L.corner=new o.Corner(X)}else{if(!W.string){L.corner=new o.Corner(W);L.corner.fixed=i}}}J.corner=new o.Corner(L.corner.string());return L.corner.string()!=="centercenter"},detectColours:function(ag){var Z,ah,Y,ae=S.tip.css("cssText",""),af=ag||L.corner,V=af[af.precedance],U="border-"+V+"-color",aa="border"+V.charAt(0)+V.substr(1)+"Color",ab=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,ad="background-color",ai="transparent",X=" !important",ac=S.titlebar&&(af.y==="top"||(af.y==="center"&&ae.position().top+(K.height/2)+I.offset<S.titlebar.outerHeight(1))),W=ac?S.titlebar:S.tooltip;F.addClass(w);Q.fill=ah=ae.css(ad);Q.border=Y=ae[0].style[aa]||ae.css(U)||F.css(U);if(!ah||ab.test(ah)){Q.fill=W.css(ad)||ai;if(ab.test(Q.fill)){Q.fill=F.css(ad)||ah}}if(!Y||ab.test(Y)||Y===f(document.body).css("color")){Q.border=W.css(U)||ai;if(ab.test(Q.border)||Q.border===W.css("color")){Q.border=F.css(U)||F.css(aa)||Y}}f("*",ae).add(ae).css("cssText",ad+":"+ai+X+";border:0"+X+";");F.removeClass(w)},create:function(){var W=K.width,V=K.height,U;if(S.tip){S.tip.remove()}S.tip=f("<div />",{"class":"ui-tooltip-tip"}).css({width:W,height:V}).prependTo(F);if(N){f("<canvas />").appendTo(S.tip)[0].getContext("2d").save()}else{U='<vml:shape coordorigin="0,0" style="display:inline-block; position:absolute; behavior:url(#default#VML);"></vml:shape>';S.tip.html(U+U);f("*",S.tip).bind("click mousedown",function(X){X.stopPropagation()})}},update:function(ad,Z){var ac=S.tip,ai=ac.children(),W=K.width,ae=K.height,X="px solid ",ah="px dashed transparent",ag=I.mimic,af=Math.round,U,V,ab,Y,aa;if(!ad){ad=J.corner||L.corner}if(ag===q){ag=ad}else{ag=new o.Corner(ag);ag.precedance=ad.precedance;if(ag.x==="inherit"){ag.x=ad.x}else{if(ag.y==="inherit"){ag.y=ad.y}else{if(ag.x===ag.y){ag[ad.precedance]=ad[ad.precedance]}}}}U=ag.precedance;if(ad.precedance==="x"){G()}else{C()}S.tip.css({width:(W=K.width),height:(ae=K.height)});L.detectColours(ad);if(Q.border!=="transparent"){O=T(ad,A,i);if(I.border===0&&O>0){Q.fill=Q.border}L.border=O=I.border!==i?I.border:O}else{L.border=O=0}ab=u(ag,W,ae);L.size=aa=R(ad);ac.css(aa);if(ad.precedance==="y"){Y=[af(ag.x==="left"?O:ag.x==="right"?aa.width-W-O:(aa.width-W)/2),af(ag.y==="top"?aa.height-ae:0)]}else{Y=[af(ag.x==="left"?aa.width-W:0),af(ag.y==="top"?O:ag.y==="bottom"?aa.height-ae-O:(aa.height-ae)/2)]}if(N){ai.attr(aa);V=ai[0].getContext("2d");V.restore();V.save();V.clearRect(0,0,3000,3000);V.fillStyle=Q.fill;V.strokeStyle=Q.border;V.lineWidth=O*2;V.lineJoin="miter";V.miterLimit=100;V.translate(Y[0],Y[1]);V.beginPath();V.moveTo(ab[0][0],ab[0][1]);V.lineTo(ab[1][0],ab[1][1]);V.lineTo(ab[2][0],ab[2][1]);V.closePath();if(O){if(F.css("background-clip")==="border-box"){V.strokeStyle=Q.fill;V.stroke()}V.strokeStyle=Q.border;V.stroke()}V.fill()}else{ab="m"+ab[0][0]+","+ab[0][1]+" l"+ab[1][0]+","+ab[1][1]+" "+ab[2][0]+","+ab[2][1]+" xe";Y[2]=O&&/^(r|b)/i.test(ad.string())?parseFloat(f.browser.version,10)===8?2:1:0;ai.css({antialias:""+(ag.string().indexOf("center")>-1),left:Y[0]-(Y[2]*Number(U==="x")),top:Y[1]-(Y[2]*Number(U==="y")),width:W+O,height:ae+O}).each(function(aj){var ak=f(this);ak[ak.prop?"prop":"attr"]({coordsize:(W+O)+" "+(ae+O),path:ab,fillcolor:Q.fill,filled:!!aj,stroked:!aj}).css({display:O||aj?"block":"none"});if(!aj&&ak.html()===""){ak.html('<vml:stroke weight="'+(O*2)+'px" color="'+Q.border+'" miterlimit="1000" joinstyle="miter"  style="behavior:url(#default#VML); display:inline-block;" />')}})}if(Z!==q){L.position(ad)}},position:function(Z){var aa=S.tip,V={},U=Math.max(0,I.offset),W,Y,X;if(I.corner===q||!aa){return q}Z=Z||L.corner;W=Z.precedance;Y=R(Z);X=[Z.x,Z.y];if(W==="x"){X.reverse()}f.each(X,function(ae,ad){var ab,ac;if(ad==="center"){ab=W==="y"?"left":"top";V[ab]="50%";V["margin-"+ab]=-Math.round(Y[W==="y"?"width":"height"]/2)+U}else{ab=T(Z,ad);ac=D(Z);V[ad]=ae?0:(U+(ac>ab?ac:-ab))}});V[Z[W]]-=Y[W==="x"?"width":"height"];aa.css({top:"",bottom:"",left:"",right:"",margin:""}).css(V);return V},destroy:function(){if(S.tip){S.tip.remove()}S.tip=false;F.unbind(H)}});L.init()}o.tip=function(D){var C=D.plugins.tip;return"object"===typeof C?C:(D.plugins.tip=new v(D))};o.tip.initialize="render";o.tip.sanitize=function(C){var D=C.style,E;if(D&&"tip" in D){E=C.style.tip;if(typeof E!=="object"){C.style.tip={corner:E}}if(!(/string|boolean/i).test(typeof E.corner)){E.corner=i}if(typeof E.width!=="number"){delete E.width}if(typeof E.height!=="number"){delete E.height}if(typeof E.border!=="number"&&E.border!==i){delete E.border}if(typeof E.offset!=="number"){delete E.offset}}};f.extend(i,p.defaults,{style:{tip:{corner:i,mimic:q,width:6,height:6,border:i,offset:0}}})}));var Browse={observe:function(){}};var Cookie={set:function(b,f,c,e){var a="";if(c!==undefined){var g=Cookie._newDate();g.setTime(g.getTime()+(1000*parseFloat(c)));a="; expires="+g.toGMTString()}if(e!==undefined){a+="; domain="+e}return Cookie._setDocumentCookie(escape(b)+"="+escape(f||"")+a)},_newDate:function(){return new Date()},_setDocumentCookie:function(a){document.cookie=a;return a},_getDocumentCookie:function(){return document.cookie},get:function(b){var a=Cookie._getDocumentCookie().match(new RegExp("(^|;)\\s*"+escape(b)+"=([^;\\s]*)"));return(a?unescape(a[2]):null)},erase:function(a){var b=Cookie.get(a)||true;Cookie.set(a,"",-1);return b},accept:function(){if(typeof navigator.cookieEnabled=="boolean"){return navigator.cookieEnabled}Cookie.set("_test","1");return(Cookie.erase("_test")==="1")}};var ImageSet=$.klass({initialize:function(a){this.images=a;this.index=0},render:function(){$("#caption").html(this.images[this.index].description);$("#frame").html($("<img>").attr("src",this.images[this.index].url));$("#pager_label_current_image").html(this.index+1)},goNext:function(){this.index=(this.index+1)%this.images.length;this.render()},goPrev:function(){this.index=(this.index?this.index:this.images.length)-1;this.render()},popup:function(){window.open("/zoom.php?imageid="+this.images[this.index].imageid,"zoom","width=480,height=480")}});var transformToLarge=function(c,b,a){return(b-a)*c/b};ImageZoom=$.klass({observe:function(a){a.each(function(b){b.observe("mousemove",function(f){var h=f.element().cumulativeOffset();var d=h.left;var c=h.top;var g=transformToLarge(f.pointerX()-d,200,500);var e=transformToLarge(f.pointerY()-c,200,500);b.setStyle("background-position: "+g+"px "+e+"px")})})}});window.Emailer=window.Emailer||{};Emailer.Controller=$.klass({initialize:function(){this.view=new Emailer.View()},toggle:function(b,c,e,a,d){this.view.toggleActiveLink(b);if(b.is(this.last_clicked_link)){this.view.toggleEmailPane()}else{this.view.deactivateLink(this.last_clicked_link);this.view.showForm(b)}this.last_clicked_link=b;this.last_permalink=c;this.view.resetStatus();this.view.setYours(Cookie.get(Emailer.Controller.COOKIE_NAME));this.view.setShared(e,a);this.view.setPermalink(c);this.view.setShareLinks(c,d)},facebookShare:function(){var a="http://www.facebook.com/sharer.php?u="+this.last_permalink;window.open(a,"sharer","toolbar=0,status=0,width=626,height=436")},sendEmail:function(){Cookie.set(Emailer.Controller.COOKIE_NAME,this.view.getYours());$.ajax({data:this.view.getEmailPane().find("form").serialize(),success:_(function(a){this.view.setStatus(a)}).bind(this),url:"/emailer.php",type:"POST"});this.view.showSending()}});Emailer.Controller.COOKIE_NAME="your_email";window.Emailer=window.Emailer||{};Emailer.View=$.klass({initialize:function(){this.email_pane=$("#email_pane");this.permalink=$("#email_pane #permalink");this.share_links=$("#email_pane #share_links");this.status=$("#email_pane #status");this.shared_id=$("#email_pane #shared_id");this.shared_type=$("#email_pane #shared_type");this.yours=$("#email_pane #yours")},getYours:function(){return this.yours.val()},setYours:function(a){this.yours.val(a)},getEmailPane:function(){return this.email_pane},deactivateLink:function(a){$(a).removeClass("email_active")},toggleEmailPane:function(){this.email_pane.toggle()},toggleActiveLink:function(a){a.toggleClass("email_active")},showForm:function(a){a.parent().append(this.email_pane);this.email_pane.show()},setShared:function(b,a){this.shared_type.val(b);this.shared_id.val(a)},setPermalink:function(a){this.permalink.val(a)},setShareLinks:function(b,c){var a='<a href="#" onClick="emailer.facebookShare()">facebook</a> ';a+='<a href="#" onClick="window.open(\''+c+"', 'twitter', 'height=500,width=500'); return false\">twitter</a>";this.share_links.html(a)},setStatus:function(a){this.status.html(a)},showSending:function(){this.setStatus("Sending...")},resetStatus:function(){this.setStatus("We won't spam you.")}});var Subscriber=$.klass({send:function(){var a=$("#subscribe_status");a.html("Subscribing...");$.post("/subscribe.php",{email:$("#email").val()},_(a.html).bind(a))}});window.Thumbs=window.Thumbs||{};Thumbs.controllers={};Thumbs.initializeAndRender=function(c,b,d){var a=new Thumbs.Controller(c,b,d);a.render();Thumbs.controllers[c.defid]=a};Thumbs.userClickedUp=function(a){Thumbs.controllers[a].save(Thumbs.Vote.UP)};Thumbs.userClickedDown=function(a){Thumbs.controllers[a].save(Thumbs.Vote.DOWN)};window.Thumbs=window.Thumbs||{};Thumbs.Controller=$.klass({initialize:function(b,a,c){this.id=b.defid;this.readOnly=c;this.view=a;this.vote=new Thumbs.Vote(b.current_vote);this.voteTotal=new Thumbs.VoteTotal(b.thumbs_up,b.thumbs_down)},render:function(){this.view.render(this.voteTotal,this.readOnly)},save:function(a){if(this.readOnly){alert("Couldn't save your vote. Please try again later");return}if(this.vote.is(a)){this.view.showMessage("already voted "+a);setTimeout(_(this.render).bind(this),750);return}if(this.vote.isOpposite(a)){this.voteTotal.decrement(this.vote.value)}this.voteTotal.increment(a);this.render();this.sendRequest(a);this.vote=new Thumbs.Vote(a)},sendRequest:function(a){$.ajax({url:API_PATH+"/vote",data:{defid:this.id,direction:a,key:API_KEY},dataType:"jsonp",error:function(){alert("Couldn't save your vote. Please try again later")}})}});window.Thumbs=window.Thumbs||{};Thumbs.String=$.klass({initialize:function(d,a,c,b){this.id=d;this.up=a;this.down=c;this.should_link=b},string:function(){var a="";if(this.up>0&&this.down>0){a=this.anchor(this.bold(this.up)+" up","Up");a+=", ";a+=this.anchor(this.bold(this.down)+" down","Down")}else{if(this.up>0){a=this.bold(this.up)+" "+this.pluralize(this.up)+" up";a=this.anchor(a,"Up")}else{if(this.down>0){a=this.bold(this.down)+" "+this.pluralize(this.down)+" down";a=this.anchor(a,"Down")}}}return a},anchor:function(b,a){if(this.should_link){return'<a href="#" onclick="Thumbs.userClicked'+a+"("+this.id+'); return false">'+b+"</a>"}else{return b}},bold:function(a){return"<b>"+a+"</b>"},pluralize:function(a){return a==1?"thumb":"thumbs"}});window.Thumbs=window.Thumbs||{};Thumbs.View=$.klass({initialize:function(a){this.id=a;this.tools=$("#tools_"+this.id);this.target=this.tools.find(".thumbs");this.status=this.tools.find(".status")},showMessage:function(a){this.renderWithStatus(this.span(a))},render:function(b,c){if(c){this.tools.addClass("disabled")}var a=new Thumbs.String(this.id,b.up,b.down,true);this.renderWithStatus(a.string())},span:function(a){return $("<span>").attr("class","thumbs_message").html(a)},renderWithStatus:function(a){this.status.html(a);this.target.empty();this.target.append(this.elementForDirection("down"));this.target.append(this.elementForDirection("up"))},elementForDirection:function(b){var a=$("<a>").attr("href","#").attr("id","thumbs_"+b+"_"+this.id).attr("class","thumbs_"+b)[0];a.onclick=this.onclick(b,this.id);return a},onclick:function(a,b){return function(){var c=a.substring(0,1).toUpperCase()+a.substring(1,a.length);Thumbs["userClicked"+c](b);return false}}});window.Thumbs=window.Thumbs||{};Thumbs.Vote=$.klass({initialize:function(a){this.value=a},is:function(a){return this.value==a},isOpposite:function(a){return this.isSet()&&this.opposite()==a},isSet:function(){return this.value!=""},opposite:function(){return this.value==Thumbs.Vote.UP?Thumbs.Vote.DOWN:Thumbs.Vote.UP}});Thumbs.Vote.UP="up";Thumbs.Vote.DOWN="down";window.Thumbs=window.Thumbs||{};Thumbs.VoteTotal=$.klass({initialize:function(a,b){this.up=a;this.down=b},increment:function(a){this[a]+=1},decrement:function(a){this[a]-=1}});var Define={observe:function(){}};window.Editor=window.Editor||{};Editor.Controller=$.klass({initialize:function(a){this.version=a;this.view=new Editor.View();this.taskQueue=new Editor.TaskQueue()},updateMyDecisions:function(a){this.view.updateMyDecisions(a)},setVersion:function(a){if(a!=this.version){window.location.reload()}},addTasks:function(a){$.each(a,_(function(c,b){this.taskQueue.add(b)}).bind(this))},displayNextTask:function(){this.view.showTask(this.taskQueue.next());this.view.setInputsEnabled(false);setTimeout(_(function(){this.view.setInputsEnabled(true)}).bind(this),500)},fetchSuccess:function(a){this.updateMyDecisions(a.my_decisions);this.setVersion(a.version);if(a.tasks.size==0){this.takeBreak()}else{this.addTasks(a.tasks);this.displayNextTask()}},saveSuccess:function(a){this.updateMyDecisions(a.my_decisions);this.setVersion(a.version)},saveAndShowNext:function(b){var a=this.taskQueue.current;$.ajax({data:{editor_task_id:a.editor_task_id,signature:a.signature,response:b,key:API_KEY},url:API_PATH+"/staygo_save",dataType:"jsonp",success:$.proxy(this.saveSuccess,this)});if(!this.taskQueue.isEmpty()){this.displayNextTask()}else{this.load()}},takeBreak:function(){this.view.takeBreak()},showLoading:function(){this.view.showLoading()},load:function(){this.view.showLoading();$.ajax({url:API_PATH+"/staygo_fetch?key="+API_KEY,success:$.proxy(this.fetchSuccess,this),dataType:"jsonp"})}});Editor.TaskQueue=$.klass({initialize:function(){this.list=[]},add:function(a){this.list.push(a)},next:function(){return this.current=this.list.shift()},isEmpty:function(){return this.list.length===0}});window.Editor=window.Editor||{};Editor.View=$.klass({updateMyDecisions:function(a){if(a===0){$("#my_decisions").empty();$("#my_decisions").hide()}else{var b=Editor.ENCOURAGEMENTS[(Math.floor(a/100)%Editor.ENCOURAGEMENTS.length)];$("#my_decisions").html("You've made "+a+" decisions so far. "+b);$("#my_decisions").show()}},showTask:function(a){$("#task").html(a.html)},showLoading:function(){$("#my_decisions").html("Loading...");$("#task").html($("#loading"))},takeBreak:function(){$("#task").html($("#take_break"))},setInputsEnabled:function(a){$(".response input").attr("disabled",!a)}});Editor.ENCOURAGEMENTS=["Thanks!","Nice work.","You rock.","Baller stat.","Pimpin.","Big pimpin.","Hell yes.","Rock.","Leet.","We rollin now.","Props.","Stay fresh.","Sickies.","Big up yourself.","Play on playa.","True.","You are a rock star.","Quite the player.","This is your day.","Can't stop! Won't stop!","omg you ROCK!!1!1","omg ur teh 1337 sauce.","You're the coolest","who is numba one?","omgzorz.","Yes thee can.","You are a straight baller.","You rock like rock music.","You have reached the end of the universe.","GOD doesn't rock harder than you.","where do u go from here?","You click like a fucking pro.","Dude you are ripped.","Clearly you know what you're doing.","I crown you the new HMFIC.","Your new haircut is fresh.","FUCKING BALLER STAT.","JESUS CHRIST SLOW DOWN.","Shit is making me hot.","I bet you know what an upper decker is now.","How more of these fucking things are there?","People write some stupid shit huh?","We appreciate your determination.","No one else has gotten this far.","Fuck, you work like a fucking robot.","Is there a single UD word you don't know?","Now we're just making shit up.","It's OK to hit Don't Know occasionally.","Are you reading these?","Can the interwebs handle this heat?","Blumpkins are tame compared to what you've read here.","Sometime you should take a break. Not now though."];window.Urbancompleter={observe:function(){var a={focus:function(){$(".ui-state-hover-row").removeClass("ui-state-hover-row");$(".ui-state-hover").parent().addClass("ui-state-hover-row")},select:function(d,e){var f=e.item.value;var c=f.match(/^\.\.\. (nearby|containing) (.+)/);if(c){d.preventDefault();if(c[1]=="nearby"){window.location="/browse.php?word="+encodeURIComponent(c[2])}else{window.location="/define.php?term="+encodeURIComponent(c[2])+"&fulltext=1"}}else{$(d.target).parents("form").submit()}}};var b=0;a.source=function(d,c){d.key=API_KEY;if(a.xhr){a.xhr.abort()}a.xhr=$.ajax({url:API_PATH+"/autocomplete",data:d,dataType:"jsonp",autocompleteRequest:++b,success:function(f,e){if(this.autocompleteRequest===b){f.push("... nearby "+d.term);f.push("... containing "+d.term);c(f)}},error:function(){if(this.autocompleteRequest===b){c([])}}})};$("#term").autocomplete(a)}};var Urbantip={};Urbantip.observe=function(){function a(d){var c=$(this);if(c.parents(".word, .pagination").length==0){var b=API_PATH+"/tooltip?key="+API_KEY+"&"+c.attr("href").split("?")[1];c.qtip({content:{text:"Loading...",ajax:{url:b,loading:false,dataType:"jsonp",success:function(e){this.set("content.text",e.string)}}},style:{classes:"ui-tooltip-urban"},show:{effect:false,solo:true,delay:200,event:d.type,ready:true},hide:{effect:false},position:{viewport:$(window)},overwrite:false})}}$("#whole").delegate("a[href*='define.php']","mouseover",a);$("#whole").delegate("a[href*='author.php']","mouseover",a)};var Uncacheable=$.klass({initialize:function(){this.finished=false},load:function(b){b=b||[];var a={type:"get",url:API_PATH+"/uncacheable?ids="+b.join(",")+"&key="+API_KEY,dataType:"jsonp"};a.success=_(function(c){this.receive(c)}).bind(this);$.ajax(a)},receive:function(b){for(var d=0;d<b.thumbs.length;d++){var a=b.thumbs[d];Thumbs.initializeAndRender(a,new Thumbs.View(a.defid),b.readOnly)}if(b.rollup){var c=$("#rollup");c.html(b.rollup);c.removeClass("hidden")}this.finished=true}});Uncacheable.instance=new Uncacheable();var DraftSaver=$.klass({initialize:function(b,a){this.url=b;this.element_id=a;this.times=0},saveDrafts:function(){setInterval(this.sendRequest.bind(this),this.getInterval()*1000)},sendRequest:function(){var a=$("#"+this.element_id).serialize();if(a!=this.lastPosted){$.ajax({type:"POST",url:this.url,data:a,success:function(b){$("#draft").html(b)}});this.lastPosted=a}},getInterval:function(){return toQueryParams(window.location.search).interval||20}});var HostEnv=$.klass({initialize:function(a){this.hostname=a},browseUrl:function(b){var a="/browse.php?word="+encodeURIComponent(b);if(this.hostname=="blog.urbandictionary.com"){a="http://www.urbandictionary.com"+a}return a},tooltipUrl:function(){return"/tooltip.php"}});function windowOpenAndFocus(a,b){window.open(a,b,"height=500,width=500,resizable=yes,status=no,toolbar=no,scrollbars=yes").focus()}function redirect(a){window.location=a}window.API_PATH=function(){var a=document.location.hostname=="staging.urbandictionary.com"||document.location.hostname=="localhost";return a?"http://api.staging.urbandictionary.com/v0":"http://api.urbandictionary.com/v0"}();window.API_KEY="ab71d33b15d36506acf1e379b0ed07ee";$(function(){if(top!=self){top.location.replace(location)}Urbancompleter.observe();Urbantip.observe();if($("#email_pane").length){window.emailer=new Emailer.Controller()}window.subscriber=new Subscriber();if($(document.body).hasClass("define_controller")){Define.observe()}if($(document.body).hasClass("browse_controller")||$(document.body).hasClass("daily_controller")||$(document.body).hasClass("popular_controller")||$(document.body).hasClass("yesterday_controller")){Browse.observe()}if(window.onDomLoaded){$.each(window.onDomLoaded,function(a,b){b()})}});