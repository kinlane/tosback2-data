var ensightenOptions={client:"tween",clientId:91,ns:"Bootstrapper",nexus:"nexus.ensighten.com"};

if ( ensightenOptions && !window[ensightenOptions.ns] ) {
	window[ensightenOptions.ns]=function(f){var c={},b={};c.version="2.0.3";c.nexus=f.nexus||"nexus.ensighten.com";c.options={interval:f.interval||100,erLoc:f.errorLocation||c.nexus+"/error/e.gif",scLoc:f.serverComponentLocation||c.nexus+"/"+f.client+"/serverComponent.php",sjPath:f.staticJavscriptPath||c.nexus+"/"+f.client+"/code/",alLoc:f.alertLocation||c.nexus+"/alerts/a.gif",client:f.client,clientId:f.clientId};c.ruleList=[];c.exceptionList=[];c.ensightenVariables={};c.test=function(a){if(!a.executionData.hasRun){for(var d=0;d<a.dependencies.length;d++)if(!1===a.dependencies[d]())return;a.execute()}};b.currentRuleId=-1;b.reportedErrors=[];b.reportedAlerts=[];b.getServerComponent=function(a){b.insertScript(window.location.protocol+"//"+c.options.scLoc,!1,a||!0)};b.setVariable=function(a,d){c.ensightenVariables[a]=d};b.getVariable=function(a){return a in c.ensightenVariables?c.ensightenVariables[a]:null};b.testAll=function(){for(var a=0;a<c.ruleList.length;a++)c.test(c.ruleList[a])};b.executionState={DOMParsed:!1,DOMLoaded:!1,conditionalRules:!1};b.Rule=function(a){this.execute=function(){this.executionData.hasRun=!0;this.executionData.runTime.push(new Date);b.currentRuleId=this.id;try{this.code()}catch(a){window[ensightenOptions.ns].reportException(a)}finally{b.testAll()}};this.id=a.id;this.dependencies=a.dependencies||[];this.code=a.code;this.executionData={hasRun:!1,runTime:[]}};b.registerRule=function(a){if(b.getRule(a.id)&&-1!==a.id)return!1;c.ruleList.push(a);b.testAll();return!0};b.getRule=function(a){for(var d=0;d<c.ruleList.length;d++)if(c.ruleList[d].id===a)return c.ruleList[d];return!1};b.hasRuleRun=function(a){return(a=b.getRule(a))?a.executionData.hasRun:!1};c.toTwoChar=function(a){return(2===a.toString().length?"":"0")+a};b.Alert=function(a){var d=new Date,d=d.getFullYear()+"-"+c.toTwoChar(d.getMonth())+"-"+c.toTwoChar(d.getDate())+" "+c.toTwoChar(d.getHours())+":"+c.toTwoChar(d.getMinutes())+":"+c.toTwoChar(d.getSeconds());this.severity=a.severity||1;this.date=d;this.subject=a.subject||"";this.type=a.type||1;this.ruleId=a.ruleId||-1};b.generateAlert=function(a){a=b.imageRequest(window.location.protocol+"//"+c.options.alLoc+"?d="+a.date+"&su="+a.subject+"&se="+a.severity+"&t="+a.type+"&rid="+a.ruleId);a.timestamp=(new Date).getTime();this.reportedAlerts.push(a)};b.reportException=function(a){a.timestamp=(new Date).getTime();c.exceptionList.push(a);a=b.imageRequest(window.location.protocol+"//"+c.options.erLoc+"?msg="+a.message+"&lnn="+a.lineNumber+"&fn="+a.fileName+"&cid="+c.options.clientId+"&rid="+b.currentRuleId);a.timestamp=(new Date).getTime();this.reportedErrors.push(a)};b.imageRequest=function(a){var d=new Image(0,0);d.src=a;return d};b.insertScript=function(a,d,b){var h=document.getElementsByTagName("script");if(void 0!==d?d:1)for(d=0;d<h.length;d++)if(h[d].src===a&&h[d].readyState&&/loaded|complete/.test(h[d].readyState))return;if(b){h="";d=Math.random()*("1E"+(10*Math.random()).toFixed(0));if("object"===typeof b){for(var e in b)b.hasOwnProperty(e)&&(h+=encodeURIComponent("&")+encodeURIComponent(e)+"="+encodeURIComponent(b[e]));h=h.slice(3)}a+="?r="+d+"&ClientID="+c.options.clientId+"&PageID="+encodeURIComponent(window.location.href)+(h?encodeURIComponent("?")+h:"")}var f=document,g=a,i=f.head||f.getElementsByTagName("head");setTimeout(function(){if("item"in i){if(!i[0]){setTimeout(arguments.callee,25);return}i=i[0]}var a=f.createElement("script");a.src=g;a.onload=a.onerror=function(){this.addEventListener&&(this.readyState="loaded")};i.insertBefore(a,i.firstChild)},0)};b.loadScriptCallback=function(a,d){var b=document.getElementsByTagName("script"),c,e=b[0];for(c=0;c<b.length;c++)if(b[c].src===a&&b[c].readyState&&/loaded|complete/.test(b[c].readyState))try{d()}catch(f){window[ensightenOptions.ns].reportException(f)}finally{return}b=document.createElement("script");b.type="text/javascript";b.async=!0;b.src=a;b.onerror=function(){this.addEventListener&&(this.readyState="loaded")};b.onload=b.onreadystatechange=function(){if(!this.readyState||"complete"===this.readyState||"loaded"===this.readyState){this.onload=null;this.addEventListener&&(this.readyState="loaded");try{d.call(this)}catch(a){window[ensightenOptions.ns].reportException(a)}}};e.parentNode.insertBefore(b,e)};b.unobtrusiveAddEvent=function(a,b,c){try{var e=a[b]?a[b]:function(){};a[b]=function(){c.apply(this,arguments);return e.apply(this,arguments)}}catch(f){window[ensightenOptions.ns].reportException(f)}};b.anonymous=function(a,d){return function(){try{b.currentRuleId=d?d:"anonymous",a()}catch(c){window[ensightenOptions.ns].reportException(c)}}};b.setCurrentRuleId=function(a){b.currentRuleId=a};b.bindDOMParsed=function(a,d){var c;if("function"===typeof a)c=new b.Rule({id:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.DOMParsed}],code:a});else if("object"===typeof a)c=a;else return!1;b.registerRule(c)};b.bindDOMLoaded=function(a,d){var c;if("function"===typeof a)c=new b.Rule({id:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.DOMLoaded}],code:a});else if("object"===typeof a)c=a;else return!1;b.registerRule(c)};b.bindPageSpecificCompletion=function(a,d){var c;if("function"===typeof a)c=new b.Rule({id:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.conditionalRules}],code:a});else if("object"===typeof a)c=a;else return!1;b.registerRule(c)};b.callOnDOMParsed=function(){window[ensightenOptions.ns].executionState.DOMParsed=!0;window[ensightenOptions.ns].testAll()};b.callOnDOMLoaded=function(){window[ensightenOptions.ns].executionState.DOMParsed=!0;window[ensightenOptions.ns].executionState.DOMLoaded=!0;window[ensightenOptions.ns].testAll()};b.callOnPageSpecificCompletion=function(){for(var a=document.getElementsByTagName("script"),b=0,c=a.length;b<c;b++)if(a[b].src.match(/\.ensighten\.com\/(.+?)\/code\/.*/i)&&!("loaded"==a[b].readyState||"complete"==a[b].readyState)){setTimeout(window[ensightenOptions.ns].callOnPageSpecificCompletion,50);return}setTimeout(function(){window[ensightenOptions.ns].executionState.conditionalRules=!0;window[ensightenOptions.ns].testAll()},1)};b.hasDOMParsed=function(){return window[ensightenOptions.ns].executionState.DOMParsed};b.hasDOMLoaded=function(){return window[ensightenOptions.ns].executionState.DOMLoaded};b.hasPageSpecificCompletion=function(){return window[ensightenOptions.ns].executionState.conditionalRules};b.new_fArray=function(){var a=[],b=!1,c=!1;return{add:function(e){b&&!c?e():"function"==typeof e&&(a[a.length]=e)},exec:function(){c=!0;do{var e=a;a=[];b=!0;for(var f=0;f<e.length;f++)try{e[f].call(window)}catch(g){window[ensightenOptions.ns].reportException(g)}}while(0<a.length);c=!1},haveRun:function(){return b}}};c.timer=null;f=function(a,b){return function(){a.apply(b,arguments)}};window.console||(window.console={});var e=window.console;if(!e.log)if(window.log4javascript){var g=log4javascript.getDefaultLogger();e.log=f(g.info,g);e.debug=f(g.debug,g);e.info=f(g.info,g);e.warn=f(g.warn,g);e.error=f(g.error,g)}else e.log=function(){};e.debug||(e.debug=e.log);e.info||(e.info=e.log);e.warn||(e.warn=e.log);e.error||(e.error=e.log);document.addEventListener?(-1<navigator.userAgent.indexOf("AppleWebKit/")?c.timer=window.setInterval(function(){/loaded|complete/.test(document.readyState)&&(clearInterval(c.timer),b.callOnDOMParsed())},50):document.addEventListener("DOMContentLoaded",b.callOnDOMParsed,!1),window.addEventListener("load",b.callOnDOMLoaded,!1)):(setTimeout(function(){var a=window.document;(function(){try{if(!document.body)throw"continue";a.documentElement.doScroll("left")}catch(b){setTimeout(arguments.callee,15);return}window[ensightenOptions.ns].callOnDOMParsed()})()},1),window.attachEvent("onload",function(){window[ensightenOptions.ns].callOnDOMLoaded()}));window.setInterval(b.testAll,c.options.interval);return b}(ensightenOptions);
	
callback4995=Bootstrapper.new_fArray();callback4996=Bootstrapper.new_fArray();callback4998=Bootstrapper.new_fArray();callback47035=Bootstrapper.new_fArray();callback11018=Bootstrapper.new_fArray();callback41188=Bootstrapper.new_fArray();callback4737=Bootstrapper.new_fArray();callback5791=Bootstrapper.new_fArray();(window.callback4737=window.callback4737||Bootstrapper.new_fArray()).add(function(){Bootstrapper.setCurrentRuleId(4737);var x=document.location.href.slice(document.location.href.toLowerCase().indexOf('xid'));var xid=x.slice(4,~x.indexOf('&')?x.indexOf('&'):x.length);var channel='';var refHost=document.referrer.slice(document.referrer.indexOf('://')+3).slice(0,document.referrer.slice(document.referrer.indexOf('://')+3).indexOf('/'));if((document.location.href.match(/aid=/i))&&(document.location.href.match(/pid=/i))){channel='cj';}else if((document.location.href.match(/002|004|005|006|007|008/i))){channel='search';}else if((document.location.href.match(/cid=/i))){channel='other';}Bootstrapper.inboundChannel=channel;;Bootstrapper.setCurrentRuleId(5791);callback5791.exec();});Bootstrapper.getElementsByClassName=function(d,c,f){x=arguments.length>1?arguments.length==2?typeof arguments[1]=="object"&&arguments[1]!=null?c:document:c:document;y=arguments.length>1?arguments.length==2?typeof arguments[1]=="boolean"?c:false:f:false;var e=[];x=typeof x=="object"?x:document;for(var b=x.getElementsByTagName("*"),a=0,g=b.length;a<g;a++){(!y&&b[a].className==d||y&&~b[a].className.indexOf(d))&&e.push(b[a]);}return e;};Bootstrapper.Cookies=new function(){var hosts=['.shopjustice.com','.ez3pl.com'];for(var i=0;i<hosts.length;i++){var tempRegex=new RegExp(hosts[i]);if(document.location.host.match(tempRegex)){this.defaultDomain=hosts[i];}}
this._cookies={};this.build=function(){for(var c=document.cookie.split("; "),a=0;a<c.length;a++)this._cookies[c[a].slice(0,c[a].indexOf("="))]=c[a].slice(c[a].indexOf("=")+1)};this.get=function(c,a,f){this.build();var g=this._cookies[c];if(arguments.length==1)return g;else for(var g=g.split(f||"&"),d=0,b=g.length;d<b;d++)if(g[d].indexOf(a+"=")==0)return g[d].slice((a+"=").length,g[d].length)};this.modCookie=function(c,a,f,g){document.cookie=c+"="+a+(f?";expires="+f:"")+";domain="+(g?g:this.defaultDomain)+";path=/"};this.set=function(c,a,f,g){if(arguments.length==4){for(var d="",b=0;b<a.length;b++)d+=(b!=0?f:"")+a[b].join("=");this.modCookie(c,d,g)}else if(arguments.length==3)if(typeof a=="object")if(typeof f=="object"){d="";for(b=0;b<a.length;b++)d+=(b!=0?"&":"")+a[b].join("=");this.modCookie(c,d,f)}else{d="";for(b=0;b<a.length;b++)d+=(b!=0?f:"")+a[b].join("=");this.modCookie(c,d)}else this.modCookie(c,a,f);else if(typeof a=="object"){d="";for(b=0;b<a.length;b++)d+=(b!=0?"&":"")+a[b].join("=");this.modCookie(c,d)}else this.modCookie(c,a)};this.addValue=function(c,a,f,g){this.build();var d=this._cookies[c]||"";if(arguments.length==4){for(var b="",e=0;e<a.length;e++)b+=(d==""&&e==0?"":f)+a[e].join("=");this.modCookie(c,d+b,g)}else if(arguments.length==3)if(typeof a=="object")if(typeof f=="object"){b="";for(e=0;e<a.length;e++)b+=(d==""&&e==0?"":"&")+a[e].join("=");this.modCookie(c,d+b,f)}else{b="";for(e=0;e<a.length;e++)b+=(d==""&&e==0?"":f)+a[e].join("=");this.modCookie(c,d+b)}else this.modCookie(c,d+a,f);else if(typeof a=="object"){b="";for(e=0;e<a.length;e++)b+=(d==""&&e==0?"":"&")+a[e].join("=");this.modCookie(c,d+b)}else this.modCookie(c,d+a)};this.remove=function(c,a){this.build();if(this._cookies[c]){var f=(new Date).toGMTString();this.modCookie(c,"",f,a)}};this.check=function(c,a){this.build();return arguments.length==2?this.get(c).match(a+"=")?!0:!1:this._cookies[c]?!0:!1};this.build()};Bootstrapper.dataManager=(function(){var _private={data:{},add:function(o){if(typeof o=='object'&&o.id){o.get=function(e){return Bootstrapper.dataManager.getDataElement(this.id,e);};this.data[o.id]=o;}},getObj:function(i){if(i){return _private.data[i];}
return _private.data;},getDataElement:function(i,e){var dataObj=this.data[i].data,retVal;if(typeof dataObj=='object'){dataObj=dataObj[e];if(typeof dataObj.get=='string'){var d=eval(dataObj.get);if(typeof dataObj.mod=='string'&&dataObj.mod!==''){var m="(function(){ return "+(dataObj.mod===''?"this":dataObj.mod)+";})";retVal=eval(m).call(d);}else if(typeof dataObj.mod=='function'){retVal=dataObj.mod.call(d,d);}else{retVal=d;}}else if(typeof dataObj.get=='function'){var d=dataObj.get.call(this.data[i]);if(typeof dataObj.mod=='string'&&dataObj.mod!==''){var m="(function(){ return "+(dataObj.mod===''?"this":dataObj.mod)+";})";retVal=eval(m).call(d);}else if(typeof dataObj.mod=='function'){retVal=dataObj.mod.call(d,d);}else{retVal=d;}}
return retVal;}},getDataLayer:function(i){var retObj={};var dataObj=this.data[i].data;for(key in dataObj){try{retObj[key]=this.getDataElement(i,key);}catch(e){retObj[key]=null;}}
return retObj;},getAllData:function(){var data=this.data,retObj={_d:{}};for(var key in data){retObj._d[key]={};var d=this.getDataLayer(key);for(var k in d){retObj[k]=d[k];retObj._d[key][k]=d[k];}}
return retObj;},getData:function(i){if(i){return this.getDataLayer(i);}else{return this.getAllData();}},addDataElement:function(layerId,name,o){if(typeof this.data[layerId]=='object'&&typeof name=='string'&&typeof o=='object'){var d=this.data[layerId];d.data[name]=o;}}},_public={push:function(dl){_private.add(dl);},getObj:function(i){return _private.getObj(i);},getData:function(i){return _private.getData(i);},getDataElement:function(i,e){return _private.getDataElement(i,e);},addDataElement:function(layerId,name,o){return _private.addDataElement(layerId,name,o);}}
return _public;})();document._write=document.write;document.write=function(x){if(Bootstrapper.hasDOMParsed()){var d=document.createElement('div');x=x.split(/\<script/i);var scripts=[];var repSpans=[];var repScripts=[];if(x[0]==''){x.shift();}
for(var i=0;i<x.length;i++){x[i]=x[i].split(/\/script\>/i);if(x[i][0].indexOf('<')){scripts.push('<script'+x[i][0]+'/script>');x[i][0]="<span name='ensScript'></span>";}
x[i]=x[i].join('');}
x=x.join('');d.innerHTML=x;var spans=d.getElementsByTagName('span');for(var i=0;i<spans.length;i++){if(spans[i].getAttribute('name')=='ensScript'){var s=scripts.shift();s=s.replace(/\<\/script\>/i,'');s=s.split('>');var attr=s[0].split(' ');var script=document.createElement('script');for(var j=1;j<attr.length;j++){attr[j]=attr[j].split('=');var attrName=attr[j].shift();attr[j]=attr[j].join('=');if(attr[j].match(/^(\'|\")/)){var wrapper=attr[j].slice(0,1);attr[j]=attr[j].slice(1,attr[j].length);attr[j]=attr[j].slice(0,attr[j].lastIndexOf(wrapper));}
script.setAttribute(attrName,attr[j]);script.text=s[1];}
repSpans.push(spans[i]);repScripts.push(script);}}
for(var i=repSpans.length-1;i>=0;i--){d.replaceChild(repScripts[i],repSpans[i]);}
document.body.appendChild(d);}else{document._write(x);}};;Bootstrapper.setCurrentRuleId(4737);callback4737.exec();(window.callback5791=window.callback5791||Bootstrapper.new_fArray()).add(function(){Bootstrapper.setCurrentRuleId(5791);if(Bootstrapper.inboundChannel!=''){var myDate=new Date();myDate.setDate(myDate.getDate()+14);Bootstrapper.Cookies.set('_ensLastClick',Bootstrapper.inboundChannel,myDate);}});try{Bootstrapper.setCurrentRuleId(4995);Bootstrapper.csConversion={funcs:[],exec:function(){Bootstrapper.bindDOMParsed(function(){var funcs=Bootstrapper.csConversion.funcs;for(var i=0;i<funcs.length;i++){if(typeof funcs[i]=='function'){funcs[i].call(window);}}});}};Bootstrapper.csDataLayer=(function(){cArray=function(){var funcs=[],hasRun=false;return{add:function(f){if(hasRun){try{f();}catch(e){Bootstrapper.reportException(e);}
return;}
if(typeof f!=="function"){return;}
funcs.push(f);},exec:function(){var toRun=funcs,i,len;hasRun=true;for(i=0,len=toRun.length;i<len;i++){try{toRun[i].call(window);}catch(e){Bootstrapper.reportException(e);}}},haveRun:function(){return hasRun;},clear:function(){funcs=[];},getFuncs:function(){return funcs;}};};return{_globalData:cArray(),_localData:cArray(),_getData:function(){var retObj={};var globalFuncs=this._globalData.getFuncs();for(var i=0,l=globalFuncs.length;i<l;i++){try{var tempObj=globalFuncs[i].call(window);}catch(e){var tempObj={};}
for(key in tempObj){retObj[key]=tempObj[key];};}
try{var localFuncs=this._localData.getFuncs();}catch(e){var tempObj={};}
for(var i=0,l=localFuncs.length;i<l;i++){var tempObj=localFuncs[i].call(window);for(key in tempObj){retObj[key]=tempObj[key];};}
retObj._globalData=this._globalData;retObj._localData=this._localData;retObj._getData=this._getData;Bootstrapper.csDataLayer=retObj;},};})();;callback4995.exec();}catch(e){Bootstrapper.reportException(e);}try{Bootstrapper.setCurrentRuleId(23322);var ProdBoysPage=/(www\.)?shopjustice\.com\/boys-clothing.*/i;var h=window.location.href;console.info('Prod Boys Page Match::'+ProdBoysPage.test(h).toString());ProdBoysPage.lastIndex=0;if(!ProdBoysPage.test(h)&&document.domain.match(/(www\.)?shopjustice\.com/)){console.info('apending...');var s=document.createElement('script');s.src='//cdn.optimizely.com/js/96729805.js';document.getElementsByTagName('head')[0].appendChild(s);};}catch(e){Bootstrapper.reportException(e);}try{Bootstrapper.setCurrentRuleId(23323);var UAT2BoysPage=/(www\.)?shopjustice\.uat2\.ez3pl\.com\/index.php\/boys-clothing.*/i;var h=window.location.href;console.info('UAT2 Boys Page Match::'+UAT2BoysPage.test(h).toString());UAT2BoysPage.lastIndex=0;if(!UAT2BoysPage.test(h)&&document.domain.match(/(www\.)?shopjustice\.uat2\.ez3pl\.com/)){console.info('apending...');var s=document.createElement('script');s.src='//cdn.optimizely.com/js/92789513.js';document.getElementsByTagName('head')[0].appendChild(s);};}catch(e){Bootstrapper.reportException(e);}try{Bootstrapper.setCurrentRuleId(47035);if(document.domain.match(/(www\.)?shopjustice\.com/)){Bootstrapper.loadScriptCallback('//cdn.mercent.com/js/tracker.js',function(){window.mr_merchantID="Tween";mr_Track();});};callback47035.exec();}catch(e){Bootstrapper.reportException(e);}try{Bootstrapper.setCurrentRuleId(41188);if(document.domain.match(/(www\.)?shopjustice\.uat2\.ez3pl\.com/)){Bootstrapper.loadScriptCallback('//cdn.mercent.com/js/tracker.js',function(){window.mr_merchantID="Tween";mr_Track();});};callback41188.exec();}catch(e){Bootstrapper.reportException(e);}Bootstrapper.globalRuleList='4737;4995;5791;5793;23322;23323;47035;41188';
	Bootstrapper.getServerComponent();
}
