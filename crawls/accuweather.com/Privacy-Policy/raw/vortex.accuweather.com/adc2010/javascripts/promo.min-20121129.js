var acp={};
(function(a){acp.browserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(e){for(var b=0;b<e.length;b++){var c=e[b].string;var d=e[b].prop;this.versionSearchString=e[b].versionSearch||e[b].identity;if(c){if(c.indexOf(e[b].subString)!=-1){return e[b].identity}}else{if(d){return e[b].identity}}}},searchVersion:function(c){var b=c.indexOf(this.versionSearchString);if(b==-1){return}return parseFloat(c.substring(b+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};acp.was_shown=function(d){var b=acm.getUserData("acp");if(!b){return false}b=b.toString().split(",");for(var c=0;c<b.length;c++){if(b[c]==d.id){return true}}return false};acp.purge_promo=function(d){var b=acm.getUserData("acp");if(!b){return}if(b.indexOf(",")==-1){if(b==d.id){acm.saveUserData("acp","",100);return}}else{b=b.toString().split(",");for(var c=0;c<b.length;c++){if(b[c]==d.id){b=b.splice(c,1);acm.saveUserData("acp",b.join(","),100);return}}}};acp.activate_promo=function(b){if(!acm_hasCookies||a("#aadPrestPanelCon").length>0){return}switch(b.type){case"tooltip":acp.show_tooltip(b);break}};acp.show_tooltip=function(d){if(!d.anchorObj||a(d.anchorObj).length==0){return}if(!d.reveal){d.reveal="auto"}a("body").append(acp.panel_html("tooltip"));a("#acpTooltip .learn").click(function(){a("#acpTooltip").unaffix().fadeOut();acp.learn_more();acp.dismiss_promo(true)});a("#acpTooltip .dismiss").click(function(){a("#acpTooltip").unaffix().fadeOut();acp.dismiss_promo(false)});var c=(d.glue.to)?d.glue.to:"s";var e=(d.glue.from)?d.glue.from:"n";var b=(d.glue.offset)?d.glue.offset:[0,5];if(c=="n"&&e=="s"){a("#acpTooltip .arrow").addClass("bottom");a("#acpTooltip .arrow-border").addClass("bottom")}else{if(c=="s"&&e=="n"){a("#acpTooltip .arrow").addClass("top");a("#acpTooltip .arrow-border").addClass("top")}else{if(c=="w"&&e=="e"){a("#acpTooltip .arrow").addClass("right");a("#acpTooltip .arrow-border").addClass("right")}else{if(c=="e"&&e=="w"){a("#acpTooltip .arrow").addClass("left");a("#acpTooltip .arrow-border").addClass("left")}}}}switch(d.reveal){case"auto":a("#acpTooltip").affix({el:a(d.anchorObj),to:c,from:e,offset:b}).fadeIn();break;case"hover":a(d.anchorObj).revealTooltip({el:a("#acpTooltip"),showOptions:{duration:a.fd()},hideOptions:{duration:a.fd()}});break}acp.trackPromo("Shown")};acp.learn_more=function(){a("#wrap-content").append(acp.panel_html("prestitial"));function d(){a("#ad-prestitial-content").remove();try{aad_HideAdPanels(false)}catch(h){}a(this).gel({el:"ad-prestitial-panel"}).unmodalize().unaffix().fadeOut()}var c={bgColor:"#6d8ec8",opacity:"0.8",position:"n"};var b=640;var f=480;a("#ad-prestitial-panel").css({width:b+160+"px",height:f+30+"px"});a("#ad-prestitial-content").css({width:b+"px",height:f+"px"});a(this).gel({el:"ad-prestitial-panel"}).affix({w:c.position}).modalize({css:{opacity:c.opacity,backgroundColor:c.bgColor}}).show();acp.trackPromo("Learned");try{aad_HideAdPanels(true)}catch(g){}a(".close-prestitial").click(function(){d()})};acp.panel_html=function(c){switch(c){case"prestitial":return'<div id="ad-prestitial-panel" class="panel strong"><div class="panel-head-lt"><div class="panel-head-rt"><div class="panel-head"></div></div></div><div class="panel-body-lt"><div class="panel-body-rt"><div class="panel-body"><div class="panel-body-content"><div class="clearfix" ><ul class="g g-nav rt" ><li class="first"><a class="rt close-prestitial">Close</a></li></ul><h3 class="lt" id="prestitial-panel-title">AccuWeather.com</h3></div></div><div class="panel-body-content" id="prestitial-overlay"><div id="wrapper-prestitial-panel"><div id="ad-prestitial-content"><iframe src="'+acp.active_promo.panelUrl+'" width="640" height="480" frameborder="0" marginheight="0" marginwidth="0" scrolling="no"></iframe></div></div></div></div></div></div><div class="panel-foot-lt"><div class="panel-foot-rt"><div class="panel-foot"></div></div></div></div>';case"tooltip":var b="";if(acp.active_promo.panelUrl){b='<a href="#" class="learn">Learn More</a> | '}return'<div id="acpTooltip" class="acp-tt"><div class="panel"><div class="panel-head-lt"><div class="panel-head-rt"><div class="panel-head"></div></div></div><div class="panel-body-lt"><div class="panel-body-rt"><div class="panel-body"><p>'+acp.active_promo.message+"<br />"+b+'<a href="#" class="dismiss">Dismiss</a></p></div></div></div><div class="panel-foot-lt"><div class="panel-foot-rt"><div class="panel-foot"></div></div></div></div><span class="arrow"></span><span class="arrow-border"></span></div>'}};acp.trackPromo=function(b){_gaq.push(["_trackEvent","Promotions",b,acp.active_promo.id])};acp.dismiss_promo=function(c){var b=acm.getUserData("acp");b=(!b)?[]:b.toString().split(",");b.push(acp.active_promo.id);acm.saveUserData("acp",b.join(","),100);if(!c){acp.trackPromo("Dismissed")}};acp.checkBrowser=function(d){try{for(var b=0;b<d.browsers.length;b++){if(d.browsers[b].toLowerCase()=="all"||d.browsers[b].toLowerCase()==acp.browserDetect.browser.toLowerCase()){return true}}}catch(c){}return false};acp.checkLanguage=function(d){try{for(var b=0;b<d.langs.length;b++){if(d.langs[b].toLowerCase()=="all"||d.langs[b].toLowerCase()==apgUserInfoObj.lang.toLowerCase()){return true}}}catch(c){}return false};acp.checkCountry=function(d){try{for(var b=0;b<d.countries.length;b++){if(d.countries[b].toLowerCase()=="all"||d.countries[b].toLowerCase()==apgUserInfoObj.country.toLowerCase()){return true}}}catch(c){}return false};acp.get_promo=function(c){var b=new Date();var e=false;acp.browserDetect.init();for(var d=0;d<c.length;d++){if(acm.date_fx.inRange(b,c[d].start,c[d].end)&&!e&&!acp.was_shown(c[d])&&acp.checkBrowser(c[d])&&acp.checkLanguage(c[d])&&acp.checkCountry(c[d])){e=true;acp.active_promo=c[d];acp.activate_promo(c[d]);break}else{if(acm.date_fx.compare(b,c[d].end)==1){acp.purge_promo(c[d])}}}};a(document).ready(function(){acp.get_promo(acp.promos)})})(jQuery);
acp.promos=[{
	id:'p2_match_your_interests',
	type:'tooltip',
	reveal:'auto',
	start:'12/4/2012',
	end:'12/11/2012',
	browsers:['all'],
	langs:['en-us'],
	countries:['us'],
	message:'Customize your forecast to match your exact interests!',
	panelUrl:'http://vortex.accuweather.com/adc2010/images/promos/phase2-customize-nav.jpg',
	anchorObj:'#add-new-interest',
	glue:{to:'w',from:'e', offset:[0,0]}
	
},{
	id:'p2_hourly_easy',
	type:'tooltip',
	reveal:'auto',
	start:'12/9/2012',
	end:'12/16/2012',
	browsers:['all'],
	langs:['en-us'],
	countries:['us'],
	message:'Getting your hourly forecast is now even easier. Click the new navigation bar above.',
	panelUrl:'http://vortex.accuweather.com/adc2010/images/promos/phase2-hourly.jpg',
	anchorObj:'#feed-main .wrap-bt-hourly',
	glue:{to:'n',from:'s', offset:[0,-4]}
	
}];