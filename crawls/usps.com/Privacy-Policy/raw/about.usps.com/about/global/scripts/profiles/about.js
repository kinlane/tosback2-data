/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is a compiled version of Dojo, built for deployment and not for
	development. To get an editable version, please visit:

		http://dojotoolkit.org

	for documentation and information on getting the source.
*/

if(!dojo._hasResource["usps.utils.Singleton"]){dojo._hasResource["usps.utils.Singleton"]=true;dojo.provide("usps.utils.Singleton");dojo.declare("usps.utils.Singleton",null,{_isInitialized:false,_element:null,_module:null,constructor:function(fn){this._module=fn;},_initialize:function(){if(this._isInitialized){return;}eval("dojo"+".require(\""+this._module+"\");");eval("this._element = new "+this._module+"();");this._isInitialized=true;},getObject:function(){if(!this._isInitialized){this._initialize();}return this._element;}});}if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.date.stamp.fromISOString=function(_2,_3){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _4=dojo.date.stamp._isoRegExp.exec(_2);var _5=null;if(_4){_4.shift();if(_4[1]){_4[1]--;}if(_4[6]){_4[6]*=1000;}if(_3){_3=new Date(_3);dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(_6){return _3["get"+_6]();}).forEach(function(_7,_8){if(_4[_8]===undefined){_4[_8]=_7;}});}_5=new Date(_4[0]||1970,_4[1]||0,_4[2]||1,_4[3]||0,_4[4]||0,_4[5]||0,_4[6]||0);var _9=0;var _a=_4[7]&&_4[7].charAt(0);if(_a!="Z"){_9=((_4[8]||0)*60)+(Number(_4[9])||0);if(_a!="-"){_9*=-1;}}if(_a){_9-=_5.getTimezoneOffset();}if(_9){_5.setTime(_5.getTime()+_9*60000);}}return _5;};dojo.date.stamp.toISOString=function(_b,_c){var _=function(n){return (n<10)?"0"+n:n;};_c=_c||{};var _f=[];var _10=_c.zulu?"getUTC":"get";var _11="";if(_c.selector!="time"){var _12=_b[_10+"FullYear"]();_11=["0000".substr((_12+"").length)+_12,_(_b[_10+"Month"]()+1),_(_b[_10+"Date"]())].join("-");}_f.push(_11);if(_c.selector!="date"){var _13=[_(_b[_10+"Hours"]()),_(_b[_10+"Minutes"]()),_(_b[_10+"Seconds"]())].join(":");var _14=_b[_10+"Milliseconds"]();if(_c.milliseconds){_13+="."+(_14<100?"0":"")+_(_14);}if(_c.zulu){_13+="Z";}else{if(_c.selector!="time"){var _15=_b.getTimezoneOffset();var _16=Math.abs(_15);_13+=(_15>0?"-":"+")+_(Math.floor(_16/60))+":"+_(_16%60);}}_f.push(_13);}return _f.join("T");};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");dojo.parser=new function(){var d=dojo;var _18=d._scopeName+"Type";var qry="["+_18+"]";var _1a=0,_1b={};var _1c=function(_1d,_1e){var nso=_1e||_1b;if(dojo.isIE){var cn=_1d["__dojoNameCache"];if(cn&&nso[cn]===_1d){return cn;}}var _21;do{_21="__"+_1a++;}while(_21 in nso);nso[_21]=_1d;return _21;};function _22(_23){if(d.isString(_23)){return "string";}if(typeof _23=="number"){return "number";}if(typeof _23=="boolean"){return "boolean";}if(d.isFunction(_23)){return "function";}if(d.isArray(_23)){return "array";}if(_23 instanceof Date){return "date";}if(_23 instanceof d._Url){return "url";}return "object";};function _24(_25,_26){switch(_26){case "string":return _25;case "number":return _25.length?Number(_25):NaN;case "boolean":return typeof _25=="boolean"?_25:!(_25.toLowerCase()=="false");case "function":if(d.isFunction(_25)){_25=_25.toString();_25=d.trim(_25.substring(_25.indexOf("{")+1,_25.length-1));}try{if(_25.search(/[^\w\.]+/i)!=-1){_25=_1c(new Function(_25),this);}return d.getObject(_25,false);}catch(e){return new Function();}case "array":return _25?_25.split(/\s*,\s*/):[];case "date":switch(_25){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_25);}case "url":return d.baseUrl+_25;default:return d.fromJson(_25);}};var _27={};function _28(_29){if(!_27[_29]){var cls=d.getObject(_29);if(!d.isFunction(cls)){throw new Error("Could not load class '"+_29+"'. Did you spell the name correctly and use a full path, like 'dijit.form.Button'?");}var _2b=cls.prototype;var _2c={},_2d={};for(var _2e in _2b){if(_2e.charAt(0)=="_"){continue;}if(_2e in _2d){continue;}var _2f=_2b[_2e];_2c[_2e]=_22(_2f);}_27[_29]={cls:cls,params:_2c};}return _27[_29];};this._functionFromScript=function(_30){var _31="";var _32="";var _33=_30.getAttribute("args");if(_33){d.forEach(_33.split(/\s*,\s*/),function(_34,idx){_31+="var "+_34+" = arguments["+idx+"]; ";});}var _36=_30.getAttribute("with");if(_36&&_36.length){d.forEach(_36.split(/\s*,\s*/),function(_37){_31+="with("+_37+"){";_32+="}";});}return new Function(_31+_30.innerHTML+_32);};this.instantiate=function(_38,_39){var _3a=[];_39=_39||{};d.forEach(_38,function(_3b){if(!_3b){return;}var _3c=_18 in _39?_39[_18]:_3b.getAttribute(_18);if(!_3c||!_3c.length){return;}var _3d=_28(_3c),_3e=_3d.cls,ps=_3e._noScript||_3e.prototype._noScript;var _40={},_41=_3b.attributes;for(var _42 in _3d.params){var _43=_42 in _39?{value:_39[_42],specified:true}:_41.getNamedItem(_42);if(!_43||(!_43.specified&&(!dojo.isIE||_42.toLowerCase()!="value"))){continue;}var _44=_43.value;switch(_42){case "class":_44="className" in _39?_39.className:_3b.className;break;case "style":_44="style" in _39?_39.style:(_3b.style&&_3b.style.cssText);}var _45=_3d.params[_42];if(typeof _44=="string"){_40[_42]=_24(_44,_45);}else{_40[_42]=_44;}}if(!ps){var _46=[],_47=[];d.query("> script[type^='dojo/']",_3b).orphan().forEach(function(_48){var _49=_48.getAttribute("event"),_3c=_48.getAttribute("type"),nf=d.parser._functionFromScript(_48);if(_49){if(_3c=="dojo/connect"){_46.push({event:_49,func:nf});}else{_40[_49]=nf;}}else{_47.push(nf);}});}var _4b=_3e["markupFactory"];if(!_4b&&_3e["prototype"]){_4b=_3e.prototype["markupFactory"];}var _4c=_4b?_4b(_40,_3b,_3e):new _3e(_40,_3b);_3a.push(_4c);var _4d=_3b.getAttribute("jsId");if(_4d){d.setObject(_4d,_4c);}if(!ps){d.forEach(_46,function(_4e){d.connect(_4c,_4e.event,null,_4e.func);});d.forEach(_47,function(_4f){_4f.call(_4c);});}});d.forEach(_3a,function(_50){if(_50&&_50.startup&&!_50._started&&(!_50.getParent||!_50.getParent())){_50.startup();}});return _3a;};this.parse=function(_51){var _52=d.query(qry,_51);var _53=this.instantiate(_52);return _53;};}();(function(){var _54=function(){if(dojo.config["parseOnLoad"]==true){dojo.parser.parse();}};if(dojo.exists("dijit.wai.onload")&&(dijit.wai.onload===dojo._loaders[0])){dojo._loaders.splice(1,0,_54);}else{dojo._loaders.unshift(_54);}})();}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){var _55=dojo.doc;if(_55.selection){var s=_55.selection;if(s.type=="Text"){return !s.createRange().htmlText.length;}else{return !s.createRange().length;}}else{var _57=dojo.global;var _58=_57.getSelection();if(dojo.isString(_58)){return !_58;}else{return !_58||_58.isCollapsed||!_58.toString();}}},getBookmark:function(){var _59,_5a=dojo.doc.selection;if(_5a){var _5b=_5a.createRange();if(_5a.type.toUpperCase()=="CONTROL"){if(_5b.length){_59=[];var i=0,len=_5b.length;while(i<len){_59.push(_5b.item(i++));}}else{_59=null;}}else{_59=_5b.getBookmark();}}else{if(window.getSelection){_5a=dojo.global.getSelection();if(_5a){_5b=_5a.getRangeAt(0);_59=_5b.cloneRange();}}else{console.warn("No idea how to store the current selection for this browser!");}}return _59;},moveToBookmark:function(_5e){var _5f=dojo.doc;if(_5f.selection){var _60;if(dojo.isArray(_5e)){_60=_5f.body.createControlRange();dojo.forEach(_5e,function(n){_60.addElement(n);});}else{_60=_5f.selection.createRange();_60.moveToBookmark(_5e);}_60.select();}else{var _62=dojo.global.getSelection&&dojo.global.getSelection();if(_62&&_62.removeAllRanges){_62.removeAllRanges();_62.addRange(_5e);}else{console.warn("No idea how to restore selection for this browser!");}}},getFocus:function(_63,_64){return {node:_63&&dojo.isDescendant(dijit._curFocus,_63.domNode)?dijit._prevFocus:dijit._curFocus,bookmark:!dojo.withGlobal(_64||dojo.global,dijit.isCollapsed)?dojo.withGlobal(_64||dojo.global,dijit.getBookmark):null,openedForWindow:_64};},focus:function(_65){if(!_65){return;}var _66="node" in _65?_65.node:_65,_67=_65.bookmark,_68=_65.openedForWindow;if(_66){var _69=(_66.tagName.toLowerCase()=="iframe")?_66.contentWindow:_66;if(_69&&_69.focus){try{_69.focus();}catch(e){}}dijit._onFocusNode(_66);}if(_67&&dojo.withGlobal(_68||dojo.global,dijit.isCollapsed)){if(_68){_68.focus();}try{dojo.withGlobal(_68||dojo.global,dijit.moveToBookmark,null,[_67]);}catch(e){}}},_activeStack:[],registerIframe:function(_6a){dijit.registerWin(_6a.contentWindow,_6a);},registerWin:function(_6b,_6c){dojo.connect(_6b.document,"onmousedown",function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);dijit._onTouchNode(_6c||evt.target||evt.srcElement);});var doc=_6b.document;if(doc){if(dojo.isIE){doc.attachEvent("onactivate",function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"){dijit._onFocusNode(_6c||evt.srcElement);}});doc.attachEvent("ondeactivate",function(evt){dijit._onBlurNode(_6c||evt.srcElement);});}else{doc.addEventListener("focus",function(evt){dijit._onFocusNode(_6c||evt.target);},true);doc.addEventListener("blur",function(evt){dijit._onBlurNode(_6c||evt.target);},true);}}doc=null;},_onBlurNode:function(_73){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function(_74){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _75=[];try{while(_74){if(_74.dijitPopupParent){_74=dijit.byId(_74.dijitPopupParent).domNode;}else{if(_74.tagName&&_74.tagName.toLowerCase()=="body"){if(_74===dojo.body()){break;}_74=dijit.getDocumentWindow(_74.ownerDocument).frameElement;}else{var id=_74.getAttribute&&_74.getAttribute("widgetId");if(id){_75.unshift(id);}_74=_74.parentNode;}}}}catch(e){}dijit._setStack(_75);},_onFocusNode:function(_77){if(!_77){return;}if(_77.nodeType==9){return;}dijit._onTouchNode(_77);if(_77==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=_77;dojo.publish("focusNode",[_77]);},_setStack:function(_78){var _79=dijit._activeStack;dijit._activeStack=_78;for(var _7a=0;_7a<Math.min(_79.length,_78.length);_7a++){if(_79[_7a]!=_78[_7a]){break;}}for(var i=_79.length-1;i>=_7a;i--){var _7c=dijit.byId(_79[i]);if(_7c){_7c._focused=false;_7c._hasBeenBlurred=true;if(_7c._onBlur){_7c._onBlur();}if(_7c._setStateClass){_7c._setStateClass();}dojo.publish("widgetBlur",[_7c]);}}for(i=_7a;i<_78.length;i++){_7c=dijit.byId(_78[i]);if(_7c){_7c._focused=true;if(_7c._onFocus){_7c._onFocus();}if(_7c._setStateClass){_7c._setStateClass();}dojo.publish("widgetFocus",[_7c]);}}}});dojo.addOnLoad(function(){dijit.registerWin(window);});}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};},add:function(_1){if(this._hash[_1.id]){throw new Error("Tried to register widget with id=="+_1.id+" but that id is already registered");}this._hash[_1.id]=_1;},remove:function(id){delete this._hash[id];},forEach:function(_3){for(var id in this._hash){_3(this._hash[id]);}},filter:function(_5){var _6=new dijit.WidgetSet();this.forEach(function(_7){if(_5(_7)){_6.add(_7);}});return _6;},byId:function(id){return this._hash[id];},byClass:function(_9){return this.filter(function(_a){return _a.declaredClass==_9;});}});dijit.registry=new dijit.WidgetSet();dijit._widgetTypeCtr={};dijit.getUniqueId=function(_b){var id;do{id=_b+"_"+(_b in dijit._widgetTypeCtr?++dijit._widgetTypeCtr[_b]:dijit._widgetTypeCtr[_b]=0);}while(dijit.byId(id));return id;};dijit.findWidgets=function(_d){var _e=[];function _f(_10){var _11=dojo.isIE?_10.children:_10.childNodes,i=0,_13;while(_13=_11[i++]){if(_13.nodeType!=1){continue;}var _14=_13.getAttribute("widgetId");if(_14){var _15=dijit.byId(_14);_e.push(_15);}else{_f(_13);}}};_f(_d);return _e;};if(dojo.isIE){dojo.addOnWindowUnload(function(){dojo.forEach(dijit.findWidgets(dojo.body()),function(_16){if(_16&&_16.destroyRecursive){_16.destroyRecursive();}else{if(_16&&_16.destroy){_16.destroy();}}});});}dijit.byId=function(id){return (dojo.isString(id))?dijit.registry.byId(id):id;};dijit.byNode=function(_18){return dijit.registry.byId(_18.getAttribute("widgetId"));};dijit.getEnclosingWidget=function(_19){while(_19){if(_19.getAttribute&&_19.getAttribute("widgetId")){return dijit.registry.byId(_19.getAttribute("widgetId"));}_19=_19.parentNode;}return null;};dijit._tabElements={area:true,button:true,input:true,object:true,select:true,textarea:true};dijit._isElementShown=function(_1a){var _1b=dojo.style(_1a);return (_1b.visibility!="hidden")&&(_1b.visibility!="collapsed")&&(_1b.display!="none")&&(dojo.attr(_1a,"type")!="hidden");};dijit.isTabNavigable=function(_1c){if(dojo.hasAttr(_1c,"disabled")){return false;}var _1d=dojo.hasAttr(_1c,"tabindex");var _1e=dojo.attr(_1c,"tabindex");if(_1d&&_1e>=0){return true;}var _1f=_1c.nodeName.toLowerCase();if(((_1f=="a"&&dojo.hasAttr(_1c,"href"))||dijit._tabElements[_1f])&&(!_1d||_1e>=0)){return true;}return false;};dijit._getTabNavigable=function(_20){var _21,_22,_23,_24,_25,_26;var _27=function(_28){dojo.query("> *",_28).forEach(function(_29){var _2a=dijit._isElementShown(_29);if(_2a&&dijit.isTabNavigable(_29)){var _2b=dojo.attr(_29,"tabindex");if(!dojo.hasAttr(_29,"tabindex")||_2b==0){if(!_21){_21=_29;}_22=_29;}else{if(_2b>0){if(!_23||_2b<_24){_24=_2b;_23=_29;}if(!_25||_2b>=_26){_26=_2b;_25=_29;}}}}if(_2a&&_29.nodeName.toUpperCase()!="SELECT"){_27(_29);}});};if(dijit._isElementShown(_20)){_27(_20);}return {first:_21,last:_22,lowest:_23,highest:_25};};dijit.getFirstInTabbingOrder=function(_2c){var _2d=dijit._getTabNavigable(dojo.byId(_2c));return _2d.lowest?_2d.lowest:_2d.first;};dijit.getLastInTabbingOrder=function(_2e){var _2f=dijit._getTabNavigable(dojo.byId(_2e));return _2f.last?_2f.last:_2f.highest;};dijit.defaultDuration=dojo.config["defaultDuration"]||200;}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(_ac){this.pairs=[];this.returnWrappers=_ac||false;};dojo.extend(dojo.AdapterRegistry,{register:function(_ad,_ae,_af,_b0,_b1){this.pairs[((_b1)?"unshift":"push")]([_ad,_ae,_af,_b0]);},match:function(){for(var i=0;i<this.pairs.length;i++){var _b3=this.pairs[i];if(_b3[1].apply(this,arguments)){if((_b3[3])||(this.returnWrappers)){return _b3[2];}else{return _b3[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(_b4){for(var i=0;i<this.pairs.length;i++){var _b6=this.pairs[i];if(_b6[0]==_b4){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){var _b7=(dojo.doc.compatMode=="BackCompat")?dojo.body():dojo.doc.documentElement;var _b8=dojo._docScroll();return {w:_b7.clientWidth,h:_b7.clientHeight,l:_b8.x,t:_b8.y};};dijit.placeOnScreen=function(_b9,pos,_bb,_bc){var _bd=dojo.map(_bb,function(_be){var c={corner:_be,pos:{x:pos.x,y:pos.y}};if(_bc){c.pos.x+=_be.charAt(1)=="L"?_bc.x:-_bc.x;c.pos.y+=_be.charAt(0)=="T"?_bc.y:-_bc.y;}return c;});return dijit._place(_b9,_bd);};dijit._place=function(_c0,_c1,_c2){var _c3=dijit.getViewport();if(!_c0.parentNode||String(_c0.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(_c0);}var _c4=null;dojo.some(_c1,function(_c5){var _c6=_c5.corner;var pos=_c5.pos;if(_c2){_c2(_c0,_c5.aroundCorner,_c6);}var _c8=_c0.style;var _c9=_c8.display;var _ca=_c8.visibility;_c8.visibility="hidden";_c8.display="";var mb=dojo.marginBox(_c0);_c8.display=_c9;_c8.visibility=_ca;var _cc=(_c6.charAt(1)=="L"?pos.x:Math.max(_c3.l,pos.x-mb.w)),_cd=(_c6.charAt(0)=="T"?pos.y:Math.max(_c3.t,pos.y-mb.h)),_ce=(_c6.charAt(1)=="L"?Math.min(_c3.l+_c3.w,_cc+mb.w):pos.x),_cf=(_c6.charAt(0)=="T"?Math.min(_c3.t+_c3.h,_cd+mb.h):pos.y),_d0=_ce-_cc,_d1=_cf-_cd,_d2=(mb.w-_d0)+(mb.h-_d1);if(_c4==null||_d2<_c4.overflow){_c4={corner:_c6,aroundCorner:_c5.aroundCorner,x:_cc,y:_cd,w:_d0,h:_d1,overflow:_d2};}return !_d2;});_c0.style.left=_c4.x+"px";_c0.style.top=_c4.y+"px";if(_c4.overflow&&_c2){_c2(_c0,_c4.aroundCorner,_c4.corner);}return _c4;};dijit.placeOnScreenAroundNode=function(_d3,_d4,_d5,_d6){_d4=dojo.byId(_d4);var _d7=_d4.style.display;_d4.style.display="";var _d8=_d4.offsetWidth;var _d9=_d4.offsetHeight;var _da=dojo.coords(_d4,true);_d4.style.display=_d7;return dijit._placeOnScreenAroundRect(_d3,_da.x,_da.y,_d8,_d9,_d5,_d6);};dijit.placeOnScreenAroundRectangle=function(_db,_dc,_dd,_de){return dijit._placeOnScreenAroundRect(_db,_dc.x,_dc.y,_dc.width,_dc.height,_dd,_de);};dijit._placeOnScreenAroundRect=function(_df,x,y,_e2,_e3,_e4,_e5){var _e6=[];for(var _e7 in _e4){_e6.push({aroundCorner:_e7,corner:_e4[_e7],pos:{x:x+(_e7.charAt(1)=="L"?0:_e2),y:y+(_e7.charAt(0)=="T"?0:_e3)}});}return dijit._place(_df,_e6,_e5);};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(_ec,_ed,_ee,_ef){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){if(dojo.isIE&&window!==document.parentWindow&&!doc._parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc._parentWindow||doc.parentWindow||doc.defaultView;};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup=new function(){var _f2=[],_f3=1000,_f4=1;this.prepare=function(_f5){var s=_f5.style;s.visibility="hidden";s.position="absolute";s.top="-9999px";if(s.display=="none"){s.display="";}dojo.body().appendChild(_f5);};this.open=function(_f7){var _f8=_f7.popup,_f9=_f7.orient||{"BL":"TL","TL":"BL"},_fa=_f7.around,id=(_f7.around&&_f7.around.id)?(_f7.around.id+"_dropdown"):("popup_"+_f4++);var _fc=dojo.create("div",{id:id,"class":"dijitPopup",style:{zIndex:_f3+_f2.length,visibility:"hidden"}},dojo.body());dijit.setWaiRole(_fc,"presentation");_fc.style.left=_fc.style.top="0px";if(_f7.parent){_fc.dijitPopupParent=_f7.parent.id;}var s=_f8.domNode.style;s.display="";s.visibility="";s.position="";s.top="0px";_fc.appendChild(_f8.domNode);var _fe=new dijit.BackgroundIframe(_fc);var _ff=_fa?dijit.placeOnScreenAroundElement(_fc,_fa,_f9,_f8.orient?dojo.hitch(_f8,"orient"):null):dijit.placeOnScreen(_fc,_f7,_f9=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],_f7.padding);_fc.style.visibility="visible";var _100=[];var _101=function(){for(var pi=_f2.length-1;pi>0&&_f2[pi].parent===_f2[pi-1].widget;pi--){}return _f2[pi];};_100.push(dojo.connect(_fc,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&_f7.onCancel){dojo.stopEvent(evt);_f7.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _104=_101();if(_104&&_104.onCancel){_104.onCancel();}}}}));if(_f8.onCancel){_100.push(dojo.connect(_f8,"onCancel",null,_f7.onCancel));}_100.push(dojo.connect(_f8,_f8.onExecute?"onExecute":"onChange",null,function(){var _105=_101();if(_105&&_105.onExecute){_105.onExecute();}}));_f2.push({wrapper:_fc,iframe:_fe,widget:_f8,parent:_f7.parent,onExecute:_f7.onExecute,onCancel:_f7.onCancel,onClose:_f7.onClose,handlers:_100});if(_f8.onOpen){_f8.onOpen(_ff);}return _ff;};this.close=function(_106){while(dojo.some(_f2,function(elem){return elem.widget==_106;})){var top=_f2.pop(),_109=top.wrapper,_10a=top.iframe,_10b=top.widget,_10c=top.onClose;if(_10b.onClose){_10b.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(!_10b||!_10b.domNode){return;}this.prepare(_10b.domNode);_10a.destroy();dojo.destroy(_109);if(_10c){_10c();}}};}();dijit._frames=new function(){var _10d=[];this.pop=function(){var _10e;if(_10d.length){_10e=_10d.pop();_10e.style.display="";}else{if(dojo.isIE){var burl=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var html="<iframe src='"+burl+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_10e=dojo.doc.createElement(html);}else{_10e=dojo.create("iframe");_10e.src="javascript:\"\"";_10e.className="dijitBackgroundIframe";}_10e.tabIndex=-1;dojo.body().appendChild(_10e);}return _10e;};this.push=function(_111){_111.style.display="none";if(dojo.isIE){_111.style.removeExpression("width");_111.style.removeExpression("height");}_10d.push(_111);};}();dijit.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(dojo.isIE<7||(dojo.isFF<3&&dojo.hasClass(dojo.body(),"dijit_a11y"))){var _113=dijit._frames.pop();node.appendChild(_113);if(dojo.isIE){_113.style.setExpression("width",dojo._scopeName+".doc.getElementById('"+node.id+"').offsetWidth");_113.style.setExpression("height",dojo._scopeName+".doc.getElementById('"+node.id+"').offsetHeight");}this.iframe=_113;}};dojo.extend(dijit.BackgroundIframe,{destroy:function(){if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(node){try{node=dojo.byId(node);var doc=dojo.doc;var body=dojo.body();var html=body.parentNode;if((!(dojo.isFF>=3||dojo.isIE||dojo.isWebKit)||node==body||node==html)&&(typeof node.scrollIntoView=="function")){node.scrollIntoView(false);return;}var ltr=dojo._isBodyLtr();var _119=dojo.isIE>=8&&!_11a;var rtl=!ltr&&!_119;var _11c=body;var _11a=doc.compatMode=="BackCompat";if(_11a){html._offsetWidth=html._clientWidth=body._offsetWidth=body.clientWidth;html._offsetHeight=html._clientHeight=body._offsetHeight=body.clientHeight;}else{if(dojo.isWebKit){body._offsetWidth=body._clientWidth=html.clientWidth;body._offsetHeight=body._clientHeight=html.clientHeight;}else{_11c=html;}html._offsetHeight=html.clientHeight;html._offsetWidth=html.clientWidth;}function _11d(_11e){var ie=dojo.isIE;return ((ie<=6||(ie>=7&&_11a))?false:(dojo.style(_11e,"position").toLowerCase()=="fixed"));};function _120(_121){var _122=_121.parentNode;var _123=_121.offsetParent;if(_123==null||_11d(_121)){_123=html;_122=(_121==body)?html:null;}_121._offsetParent=_123;_121._parent=_122;var bp=dojo._getBorderExtents(_121);_121._borderStart={H:(_119&&!ltr)?(bp.w-bp.l):bp.l,V:bp.t};_121._borderSize={H:bp.w,V:bp.h};_121._scrolledAmount={H:_121.scrollLeft,V:_121.scrollTop};_121._offsetSize={H:_121._offsetWidth||_121.offsetWidth,V:_121._offsetHeight||_121.offsetHeight};_121._offsetStart={H:(_119&&!ltr)?_123.clientWidth-_121.offsetLeft-_121._offsetSize.H:_121.offsetLeft,V:_121.offsetTop};_121._clientSize={H:_121._clientWidth||_121.clientWidth,V:_121._clientHeight||_121.clientHeight};if(_121!=body&&_121!=html&&_121!=node){for(var dir in _121._offsetSize){var _126=_121._offsetSize[dir]-_121._clientSize[dir]-_121._borderSize[dir];var _127=_121._clientSize[dir]>0&&_126>0;if(_127){_121._offsetSize[dir]-=_126;if(dojo.isIE&&rtl&&dir=="H"){_121._offsetStart[dir]+=_126;}}}}};var _128=node;while(_128!=null){if(_11d(_128)){node.scrollIntoView(false);return;}_120(_128);_128=_128._parent;}if(dojo.isIE&&node._parent){var _129=node._offsetParent;node._offsetStart.H+=_129._borderStart.H;node._offsetStart.V+=_129._borderStart.V;}if(dojo.isIE>=7&&_11c==html&&rtl&&body._offsetStart&&body._offsetStart.H==0){var _12a=html.scrollWidth-html._offsetSize.H;if(_12a>0){body._offsetStart.H=-_12a;}}if(dojo.isIE<=6&&!_11a){html._offsetSize.H+=html._borderSize.H;html._offsetSize.V+=html._borderSize.V;}if(rtl&&body._offsetStart&&_11c==html&&html._scrolledAmount){var ofs=body._offsetStart.H;if(ofs<0){html._scrolledAmount.H+=ofs;body._offsetStart.H=0;}}_128=node;while(_128){var _12c=_128._parent;if(!_12c){break;}if(_12c.tagName=="TD"){var _12d=_12c._parent._parent._parent;if(_12c!=_128._offsetParent&&_12c._offsetParent!=_128._offsetParent){_12c=_12d;}}var _12e=_128._offsetParent==_12c;for(var dir in _128._offsetStart){var _130=dir=="H"?"V":"H";if(rtl&&dir=="H"&&(_12c!=html)&&(_12c!=body)&&(dojo.isIE||dojo.isWebKit)&&_12c._clientSize.H>0&&_12c.scrollWidth>_12c._clientSize.H){var _131=_12c.scrollWidth-_12c._clientSize.H;if(_131>0){_12c._scrolledAmount.H-=_131;}}if(_12c._offsetParent.tagName=="TABLE"){if(dojo.isIE){_12c._offsetStart[dir]-=_12c._offsetParent._borderStart[dir];_12c._borderStart[dir]=_12c._borderSize[dir]=0;}else{_12c._offsetStart[dir]+=_12c._offsetParent._borderStart[dir];}}if(dojo.isIE){_12c._offsetStart[dir]+=_12c._offsetParent._borderStart[dir];}var _132=_128._offsetStart[dir]-_12c._scrolledAmount[dir]-(_12e?0:_12c._offsetStart[dir])-_12c._borderStart[dir];var _133=_132+_128._offsetSize[dir]-_12c._offsetSize[dir]+_12c._borderSize[dir];var _134=(dir=="H")?"scrollLeft":"scrollTop";var _135=dir=="H"&&rtl;var _136=_135?-_133:_132;var _137=_135?-_132:_133;var _138=(_136*_137<=0)?0:Math[(_136<0)?"max":"min"](_136,_137);if(_138!=0){var _139=_12c[_134];_12c[_134]+=(_135)?-_138:_138;var _13a=_12c[_134]-_139;}if(_12e){_128._offsetStart[dir]+=_12c._offsetStart[dir];}_128._offsetStart[dir]-=_12c[_134];}_128._parent=_12c._parent;_128._offsetParent=_12c._offsetParent;}_12c=node;var next;while(_12c&&_12c.removeAttribute){next=_12c.parentNode;_12c.removeAttribute("_offsetParent");_12c.removeAttribute("_parent");_12c=next;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}};}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");(function(){var d=dojo,html=d.doc.documentElement,ie=d.isIE,_13f=d.isOpera,maj=Math.floor,ff=d.isFF,_142=d.boxModel.replace(/-/,""),_143={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_iequirks:ie&&d.isQuirks,dj_opera:_13f,dj_opera8:maj(_13f)==8,dj_opera9:maj(_13f)==9,dj_khtml:d.isKhtml,dj_webkit:d.isWebKit,dj_safari:d.isSafari,dj_gecko:d.isMozilla,dj_ff2:maj(ff)==2,dj_ff3:maj(ff)==3};_143["dj_"+_142]=true;for(var p in _143){if(_143[p]){if(html.className){html.className+=" "+p;}else{html.className=p;}}}dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){html.className+=" dijitRtl";for(var p in _143){if(_143[p]){html.className+=" "+p+"-rtl";}}}});})();}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=(this._currentTimeout<0)?this._initialDelay:((this._subsequentDelay>1)?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay));this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_147,node,_149,obj,_14b,_14c){if(obj!=this._obj){this.stop();this._initialDelay=_14c||500;this._subsequentDelay=_14b||0.9;this._obj=obj;this._evt=evt;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_147,_149);this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_14e,_14f,_150,_151,_152){if(_14e.keyCode){_14e.charOrCode=_14e.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_14e.charCode){_14e.charOrCode=String.fromCharCode(_14e.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [dojo.connect(node,"onkeypress",this,function(evt){if(evt.charOrCode==_14e.charOrCode&&(_14e.ctrlKey===undefined||_14e.ctrlKey==evt.ctrlKey)&&(_14e.altKey===undefined||_14e.altKey==evt.ctrlKey)&&(_14e.shiftKey===undefined||_14e.shiftKey==evt.ctrlKey)){dojo.stopEvent(evt);dijit.typematic.trigger(_14e,_14f,node,_150,_14e,_151,_152);}else{if(dijit.typematic._obj==_14e){dijit.typematic.stop();}}}),dojo.connect(node,"onkeyup",this,function(evt){if(dijit.typematic._obj==_14e){dijit.typematic.stop();}})];},addMouseListener:function(node,_156,_157,_158,_159){var dc=dojo.connect;return [dc(node,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_156,node,_157,node,_158,_159);}),dc(node,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mousemove",this,function(evt){dojo.stopEvent(evt);}),dc(node,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_156,node,_157,node,_158,_159);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function(_160,_161,_162,_163,_164,_165,_166){return this.addKeyListener(_161,_162,_163,_164,_165,_166).concat(this.addMouseListener(_160,_163,_164,_165,_166));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var div=dojo.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+"\");"}},dojo.body());var cs=dojo.getComputedStyle(div);if(cs){var _169=cs.backgroundImage;var _16a=(cs.borderTopColor==cs.borderRightColor)||(_169!=null&&(_169=="none"||_169=="url(invalid-url:)"));dojo[_16a?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){div.outerHTML="";}else{dojo.body().removeChild(div);}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{_XhtmlRoles:/banner|contentinfo|definition|main|navigation|search|note|secondary|seealso/,hasWaiRole:function(elem,role){var _16d=this.getWaiRole(elem);return role?(_16d.indexOf(role)>-1):(_16d.length>0);},getWaiRole:function(elem){return dojo.trim((dojo.attr(elem,"role")||"").replace(this._XhtmlRoles,"").replace("wairole:",""));},setWaiRole:function(elem,role){var _171=dojo.attr(elem,"role")||"";if(dojo.isFF<3||!this._XhtmlRoles.test(_171)){dojo.attr(elem,"role",dojo.isFF<3?"wairole:"+role:role);}else{if((" "+_171+" ").indexOf(" "+role+" ")<0){var _172=dojo.trim(_171.replace(this._XhtmlRoles,""));var _173=dojo.trim(_171.replace(_172,""));dojo.attr(elem,"role",_173+(_173?" ":"")+role);}}},removeWaiRole:function(elem,role){var _176=dojo.attr(elem,"role");if(!_176){return;}if(role){var _177=dojo.isFF<3?"wairole:"+role:role;var t=dojo.trim((" "+_176+" ").replace(" "+_177+" "," "));dojo.attr(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_17a){if(dojo.isFF<3){return elem.hasAttributeNS("http://www.w3.org/2005/07/aaa",_17a);}return elem.hasAttribute?elem.hasAttribute("aria-"+_17a):!!elem.getAttribute("aria-"+_17a);},getWaiState:function(elem,_17c){if(dojo.isFF<3){return elem.getAttributeNS("http://www.w3.org/2005/07/aaa",_17c);}return elem.getAttribute("aria-"+_17c)||"";},setWaiState:function(elem,_17e,_17f){if(dojo.isFF<3){elem.setAttributeNS("http://www.w3.org/2005/07/aaa","aaa:"+_17e,_17f);}else{elem.setAttribute("aria-"+_17e,_17f);}},removeWaiState:function(elem,_181){if(dojo.isFF<3){elem.removeAttributeNS("http://www.w3.org/2005/07/aaa",_181);}else{elem.removeAttribute("aria-"+_181);}}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.require("dijit._base");dojo.connect(dojo,"connect",function(_182,_183){if(_182&&dojo.isFunction(_182._onConnect)){_182._onConnect(_183);}});dijit._connectOnUseEventHandler=function(_184){};(function(){var _185={};var _186=function(dc){if(!_185[dc]){var r=[];var _189;var _18a=dojo.getObject(dc).prototype;for(var _18b in _18a){if(dojo.isFunction(_18a[_18b])&&(_189=_18b.match(/^_set([a-zA-Z]*)Attr$/))&&_189[1]){r.push(_189[1].charAt(0).toLowerCase()+_189[1].substr(1));}}_185[dc]=r;}return _185[dc]||[];};dojo.declare("dijit._Widget",null,{id:"",lang:"",dir:"","class":"",style:"",title:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")),postscript:function(_18c,_18d){this.create(_18c,_18d);},create:function(_18e,_18f){this.srcNodeRef=dojo.byId(_18f);this._connects=[];this._deferredConnects=dojo.clone(this._deferredConnects);for(var attr in this.attributeMap){delete this._deferredConnects[attr];}for(attr in this._deferredConnects){if(this[attr]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[attr];}}if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_18e){this.params=_18e;dojo.mixin(this,_18e);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _191=this.srcNodeRef;if(_191&&_191.parentNode){_191.parentNode.replaceChild(this.domNode,_191);}for(attr in this.params){this._onConnect(attr);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _192=function(attr,_194){if((_194.params&&attr in _194.params)||_194[attr]){_194.attr(attr,_194[attr]);}};for(var attr in this.attributeMap){_192(attr,this);}dojo.forEach(_186(this.declaredClass),function(a){if(!(a in this.attributeMap)){_192(a,this);}},this);},postMixInProperties:function(){},buildRendering:function(){this.domNode=this.srcNodeRef||dojo.create("div");},postCreate:function(){},startup:function(){this._started=true;},destroyRecursive:function(_197){this.destroyDescendants(_197);this.destroy(_197);},destroy:function(_198){this.uninitialize();dojo.forEach(this._connects,function(_199){dojo.forEach(_199,dojo.disconnect);});dojo.forEach(this._supportingWidgets||[],function(w){if(w.destroy){w.destroy();}});this.destroyRendering(_198);dijit.registry.remove(this.id);},destroyRendering:function(_19b){if(this.bgIframe){this.bgIframe.destroy(_19b);delete this.bgIframe;}if(this.domNode){if(_19b){dojo.removeAttr(this.domNode,"widgetId");}else{dojo.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_19b){dojo.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_19c){dojo.forEach(this.getChildren(),function(_19d){if(_19d.destroyRecursive){_19d.destroyRecursive(_19c);}});},uninitialize:function(){return false;},onFocus:function(){},onBlur:function(){},_onFocus:function(e){this.onFocus();},_onBlur:function(){this.onBlur();},_onConnect:function(_19f){if(_19f in this._deferredConnects){var _1a0=this[this._deferredConnects[_19f]||"domNode"];this.connect(_1a0,_19f.toLowerCase(),_19f);delete this._deferredConnects[_19f];}},_setClassAttr:function(_1a1){var _1a2=this[this.attributeMap["class"]||"domNode"];dojo.removeClass(_1a2,this["class"]);this["class"]=_1a1;dojo.addClass(_1a2,_1a1);},_setStyleAttr:function(_1a3){var _1a4=this[this.attributeMap["style"]||"domNode"];if(dojo.isObject(_1a3)){dojo.style(_1a4,_1a3);}else{if(_1a4.style.cssText){_1a4.style.cssText+="; "+_1a3;}else{_1a4.style.cssText=_1a3;}}this["style"]=_1a3;},setAttribute:function(attr,_1a6){dojo.deprecated(this.declaredClass+"::setAttribute() is deprecated. Use attr() instead.","","2.0");this.attr(attr,_1a6);},_attrToDom:function(attr,_1a8){var _1a9=this.attributeMap[attr];dojo.forEach(dojo.isArray(_1a9)?_1a9:[_1a9],function(_1aa){var _1ab=this[_1aa.node||_1aa||"domNode"];var type=_1aa.type||"attribute";switch(type){case "attribute":if(dojo.isFunction(_1a8)){_1a8=dojo.hitch(this,_1a8);}if(/^on[A-Z][a-zA-Z]*$/.test(attr)){attr=attr.toLowerCase();}dojo.attr(_1ab,attr,_1a8);break;case "innerHTML":_1ab.innerHTML=_1a8;break;case "class":dojo.removeClass(_1ab,this[attr]);dojo.addClass(_1ab,_1a8);break;}},this);this[attr]=_1a8;},attr:function(name,_1ae){var args=arguments.length;if(args==1&&!dojo.isString(name)){for(var x in name){this.attr(x,name[x]);}return this;}var _1b1=this._getAttrNames(name);if(args==2){if(this[_1b1.s]){return this[_1b1.s](_1ae)||this;}else{if(name in this.attributeMap){this._attrToDom(name,_1ae);}this[name]=_1ae;}return this;}else{if(this[_1b1.g]){return this[_1b1.g]();}else{return this[name];}}},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"};},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){if(this.containerNode){var list=dojo.query("[widgetId]",this.containerNode);return list.map(dijit.byNode);}else{return [];}},getChildren:function(){if(this.containerNode){return dijit.findWidgets(this.containerNode);}else{return [];}},nodesWithKeyClick:["input","button"],connect:function(obj,_1b7,_1b8){var d=dojo;var dc=dojo.connect;var _1bb=[];if(_1b7=="ondijitclick"){if(!this.nodesWithKeyClick[obj.nodeName]){var m=d.hitch(this,_1b8);_1bb.push(dc(obj,"onkeydown",this,function(e){if(!d.isFF&&e.keyCode==d.keys.ENTER&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){return m(e);}else{if(e.keyCode==d.keys.SPACE){d.stopEvent(e);}}}),dc(obj,"onkeyup",this,function(e){if(e.keyCode==d.keys.SPACE&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){return m(e);}}));if(d.isFF){_1bb.push(dc(obj,"onkeypress",this,function(e){if(e.keyCode==d.keys.ENTER&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){return m(e);}}));}}_1b7="onclick";}_1bb.push(dc(obj,_1b7,this,_1b8));this._connects.push(_1bb);return _1bb;},disconnect:function(_1c0){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_1c0){dojo.forEach(_1c0,dojo.disconnect);this._connects.splice(i,1);return;}}},isLeftToRight:function(){return dojo._isBodyLtr();},isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none");},placeAt:function(_1c2,_1c3){if(_1c2["declaredClass"]&&_1c2["addChild"]){_1c2.addChild(this,_1c3);}else{dojo.place(this.domNode,_1c2,_1c3);}return this;}});})();}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function(_1cd,map,_1cf,_1d0){_1d0=_1d0||dojo.global;_1cf=(!_1cf)?function(v){return v;}:dojo.hitch(_1d0,_1cf);return _1cd.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_1d2,key,_1d4){var _1d5=dojo.getObject(key,false,map);if(_1d4){_1d5=dojo.getObject(_1d4,false,_1d0).call(_1d0,_1d5,key);}return _1cf(_1d5,key).toString();});};dojo.string.trim=String.prototype.trim?dojo.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_stringRepl:function(tmpl){var _1d9=this.declaredClass,_1da=this;return dojo.string.substitute(tmpl,this,function(_1db,key){if(key.charAt(0)=="!"){_1db=dojo.getObject(key.substr(1),false,_1da);}if(typeof _1db=="undefined"){throw new Error(_1d9+" template:"+key);}if(_1db==null){return "";}return key.charAt(0)=="!"?_1db:_1db.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){var _1dd=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_1dd)){node=dojo._toDom(this._stringRepl(_1dd));}else{node=_1dd.cloneNode(true);}this.domNode=node;this._attachTemplateNodes(node);if(this.widgetsInTemplate){var cw=(this._supportingWidgets=dojo.parser.parse(node));this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(this.srcNodeRef);},_fillContent:function(_1e2){var dest=this.containerNode;if(_1e2&&dest){while(_1e2.hasChildNodes()){dest.appendChild(_1e2.firstChild);}}},_attachTemplateNodes:function(_1e4,_1e5){_1e5=_1e5||function(n,p){return n.getAttribute(p);};var _1e8=dojo.isArray(_1e4)?_1e4:(_1e4.all||_1e4.getElementsByTagName("*"));var x=dojo.isArray(_1e4)?0:-1;for(;x<_1e8.length;x++){var _1ea=(x==-1)?_1e4:_1e8[x];if(this.widgetsInTemplate&&_1e5(_1ea,"dojoType")){continue;}var _1eb=_1e5(_1ea,"dojoAttachPoint");if(_1eb){var _1ec,_1ed=_1eb.split(/\s*,\s*/);while((_1ec=_1ed.shift())){if(dojo.isArray(this[_1ec])){this[_1ec].push(_1ea);}else{this[_1ec]=_1ea;}}}var _1ee=_1e5(_1ea,"dojoAttachEvent");if(_1ee){var _1ef,_1f0=_1ee.split(/\s*,\s*/);var trim=dojo.trim;while((_1ef=_1f0.shift())){if(_1ef){var _1f2=null;if(_1ef.indexOf(":")!=-1){var _1f3=_1ef.split(":");_1ef=trim(_1f3[0]);_1f2=trim(_1f3[1]);}else{_1ef=trim(_1ef);}if(!_1f2){_1f2=_1ef;}this.connect(_1ea,_1ef,_1f2);}}}var role=_1e5(_1ea,"waiRole");if(role){dijit.setWaiRole(_1ea,role);}var _1f5=_1e5(_1ea,"waiState");if(_1f5){dojo.forEach(_1f5.split(/\s*,\s*/),function(_1f6){if(_1f6.indexOf("-")!=-1){var pair=_1f6.split("-");dijit.setWaiState(_1ea,pair[0],pair[1]);}});}}}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_1f8,_1f9,_1fa){var _1fb=dijit._Templated._templateCache;var key=_1f9||_1f8;var _1fd=_1fb[key];if(_1fd){if(!_1fd.ownerDocument||_1fd.ownerDocument==dojo.doc){return _1fd;}dojo.destroy(_1fd);}if(!_1f9){_1f9=dijit._Templated._sanitizeTemplateString(dojo.trim(dojo._getText(_1f8)));}_1f9=dojo.string.trim(_1f9);if(_1fa||_1f9.match(/\$\{([^\}]+)\}/g)){return (_1fb[key]=_1f9);}else{return (_1fb[key]=dojo._toDom(_1f9));}};dijit._Templated._sanitizeTemplateString=function(_1fe){if(_1fe){_1fe=_1fe.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _1ff=_1fe.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_1ff){_1fe=_1ff[1];}}else{_1fe="";}return _1fe;};if(dojo.isIE){dojo.addOnWindowUnload(function(){var _200=dijit._Templated._templateCache;for(var key in _200){var _202=_200[key];if(!isNaN(_202.nodeType)){dojo.destroy(_202);}delete _200[key];}});}dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dijit.form._FormWidget"]){dojo._hasResource["dijit.form._FormWidget"]=true;dojo.provide("dijit.form._FormWidget");dojo.declare("dijit.form._FormWidget",[dijit._Widget,dijit._Templated],{baseClass:"",name:"",alt:"",value:"",type:"text",tabIndex:"0",disabled:false,readOnly:false,intermediateChanges:false,scrollOnFocus:true,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{value:"focusNode",disabled:"focusNode",readOnly:"focusNode",id:"focusNode",tabIndex:"focusNode",alt:"focusNode"}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments);},_setDisabledAttr:function(_203){this.disabled=_203;dojo.attr(this.focusNode,"disabled",_203);dijit.setWaiState(this.focusNode,"disabled",_203);if(_203){this._hovering=false;this._active=false;this.focusNode.removeAttribute("tabIndex");}else{this.focusNode.setAttribute("tabIndex",this.tabIndex);}this._setStateClass();},setDisabled:function(_204){dojo.deprecated("setDisabled("+_204+") is deprecated. Use attr('disabled',"+_204+") instead.","","2.0");this.attr("disabled",_204);},_onFocus:function(e){if(this.scrollOnFocus){dijit.scrollIntoView(this.domNode);}this.inherited(arguments);},_onMouse:function(_206){var _207=_206.currentTarget;if(_207&&_207.getAttribute){this.stateModifier=_207.getAttribute("stateModifier")||"";}if(!this.disabled){switch(_206.type){case "mouseenter":case "mouseover":this._hovering=true;this._active=this._mouseDown;break;case "mouseout":case "mouseleave":this._hovering=false;this._active=false;break;case "mousedown":this._active=true;this._mouseDown=true;var _208=this.connect(dojo.body(),"onmouseup",function(){if(this._mouseDown&&this.isFocusable()){this.focus();}this._active=false;this._mouseDown=false;this._setStateClass();this.disconnect(_208);});break;}this._setStateClass();}},isFocusable:function(){return !this.disabled&&!this.readOnly&&this.focusNode&&(dojo.style(this.domNode,"display")!="none");},focus:function(){dijit.focus(this.focusNode);},_setStateClass:function(){var _209=this.baseClass.split(" ");function _20a(_20b){_209=_209.concat(dojo.map(_209,function(c){return c+_20b;}),"dijit"+_20b);};if(this.checked){_20a("Checked");}if(this.state){_20a(this.state);}if(this.selected){_20a("Selected");}if(this.disabled){_20a("Disabled");}else{if(this.readOnly){_20a("ReadOnly");}else{if(this._active){_20a(this.stateModifier+"Active");}else{if(this._focused){_20a("Focused");}if(this._hovering){_20a(this.stateModifier+"Hover");}}}}var tn=this.stateNode||this.domNode,_20e={};dojo.forEach(tn.className.split(" "),function(c){_20e[c]=true;});if("_stateClasses" in this){dojo.forEach(this._stateClasses,function(c){delete _20e[c];});}dojo.forEach(_209,function(c){_20e[c]=true;});var _212=[];for(var c in _20e){_212.push(c);}tn.className=_212.join(" ");this._stateClasses=_209;},compare:function(val1,val2){if((typeof val1=="number")&&(typeof val2=="number")){return (isNaN(val1)&&isNaN(val2))?0:(val1-val2);}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(_216){},_onChangeActive:false,_handleOnChange:function(_217,_218){this._lastValue=_217;if(this._lastValueReported==undefined&&(_218===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_217;}if((this.intermediateChanges||_218||_218===undefined)&&((typeof _217!=typeof this._lastValueReported)||this.compare(_217,this._lastValueReported)!=0)){this._lastValueReported=_217;if(this._onChangeActive){this.onChange(_217);}}},create:function(){this.inherited(arguments);this._onChangeActive=true;this._setStateClass();},destroy:function(){if(this._layoutHackHandle){clearTimeout(this._layoutHackHandle);}this.inherited(arguments);},setValue:function(_219){dojo.deprecated("dijit.form._FormWidget:setValue("+_219+") is deprecated.  Use attr('value',"+_219+") instead.","","2.0");this.attr("value",_219);},getValue:function(){dojo.deprecated(this.declaredClass+"::getValue() is deprecated. Use attr('value') instead.","","2.0");return this.attr("value");},_layoutHack:function(){if(dojo.isFF==2&&!this._layoutHackHandle){var node=this.domNode;var old=node.style.opacity;node.style.opacity="0.999";this._layoutHackHandle=setTimeout(dojo.hitch(this,function(){this._layoutHackHandle=null;node.style.opacity=old;}),0);}}});dojo.declare("dijit.form._FormValueWidget",dijit.form._FormWidget,{attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:""}),postCreate:function(){if(dojo.isIE||dojo.isWebKit){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._resetValue=this.value;}},_setValueAttr:function(_21c,_21d){this.value=_21c;this._handleOnChange(_21c,_21d);},_getValueAttr:function(_21e){return this._lastValue;},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==dojo.keys.ESCAPE&&!e.ctrlKey&&!e.altKey){var te;if(dojo.isIE){e.preventDefault();te=document.createEventObject();te.keyCode=dojo.keys.ESCAPE;te.shiftKey=e.shiftKey;e.srcElement.fireEvent("onkeypress",te);}else{if(dojo.isWebKit){te=document.createEvent("Events");te.initEvent("keypress",true,true);te.keyCode=dojo.keys.ESCAPE;te.shiftKey=e.shiftKey;e.target.dispatchEvent(te);}}}}});}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Container",null,{isContainer:true,buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_221,_222){var _223=this.containerNode;if(_222&&typeof _222=="number"){var _224=this.getChildren();if(_224&&_224.length>=_222){_223=_224[_222-1].domNode;_222="after";}}dojo.place(_221.domNode,_223,_222);if(this._started&&!_221._started){_221.startup();}},removeChild:function(_225){if(typeof _225=="number"&&_225>0){_225=this.getChildren()[_225];}if(!_225||!_225.domNode){return;}var node=_225.domNode;node.parentNode.removeChild(node);},_nextElement:function(node){do{node=node.nextSibling;}while(node&&node.nodeType!=1);return node;},_firstElement:function(node){node=node.firstChild;if(node&&node.nodeType!=1){node=this._nextElement(node);}return node;},getChildren:function(){return dojo.query("> [widgetId]",this.containerNode).map(dijit.byNode);},hasChildren:function(){return !!this._firstElement(this.containerNode);},destroyDescendants:function(_229){dojo.forEach(this.getChildren(),function(_22a){_22a.destroyRecursive(_229);});},_getSiblingOfChild:function(_22b,dir){var node=_22b.domNode;var _22e=(dir>0?"nextSibling":"previousSibling");do{node=node[_22e];}while(node&&(node.nodeType!=1||!dijit.byNode(node)));return node?dijit.byNode(node):null;},getIndexOfChild:function(_22f){var _230=this.getChildren();for(var i=0,c;c=_230[i];i++){if(c==_22f){return i;}}return -1;}});}if(!dojo._hasResource["dijit.form.Button"]){dojo._hasResource["dijit.form.Button"]=true;dojo.provide("dijit.form.Button");dojo.declare("dijit.form.Button",dijit.form._FormWidget,{label:"",showLabel:true,iconClass:"",type:"button",baseClass:"dijitButton",templateString:"<span class=\"dijit dijitReset dijitLeft dijitInline\"\r\n\tdojoAttachEvent=\"ondijitclick:_onButtonClick,onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\"\r\n\t><span class=\"dijitReset dijitRight dijitInline\"\r\n\t\t><span class=\"dijitReset dijitInline dijitButtonNode\"\r\n\t\t\t><button class=\"dijitReset dijitStretch dijitButtonContents\"\r\n\t\t\t\tdojoAttachPoint=\"titleNode,focusNode\" \r\n\t\t\t\t${nameAttrSetting} type=\"${type}\" value=\"${value}\" waiRole=\"button\" waiState=\"labelledby-${id}_label\"\r\n\t\t\t\t><span class=\"dijitReset dijitInline\" dojoAttachPoint=\"iconNode\" \r\n\t\t\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#10003;</span \r\n\t\t\t\t></span \r\n\t\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\" \r\n\t\t\t\t\tid=\"${id}_label\"  \r\n\t\t\t\t\tdojoAttachPoint=\"containerNode\"\r\n\t\t\t\t></span\r\n\t\t\t></button\r\n\t\t></span\r\n\t></span\r\n></span>\r\n",attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{label:{node:"containerNode",type:"innerHTML"},iconClass:{node:"iconNode",type:"class"}}),_onClick:function(e){if(this.disabled||this.readOnly){return false;}this._clicked();return this.onClick(e);},_onButtonClick:function(e){if(e.type!="click"&&!(this.type=="submit"||this.type=="reset")){dojo.stopEvent(e);}if(this._onClick(e)===false){e.preventDefault();}else{if(this.type=="submit"&&!this.focusNode.form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _236=dijit.byNode(node);if(_236&&typeof _236._onSubmit=="function"){_236._onSubmit(e);break;}}}}},_setValueAttr:function(_237){var attr=this.attributeMap.value||"";if(this[attr.node||attr||"domNode"].tagName=="BUTTON"){if(_237!=this.value){console.debug("Cannot change the value attribute on a Button widget.");}}},_fillContent:function(_239){if(_239&&!("label" in this.params)){this.attr("label",_239.innerHTML);}},postCreate:function(){if(this.showLabel==false){dojo.addClass(this.containerNode,"dijitDisplayNone");}dojo.setSelectable(this.focusNode,false);this.inherited(arguments);},onClick:function(e){return true;},_clicked:function(e){},setLabel:function(_23c){dojo.deprecated("dijit.form.Button.setLabel() is deprecated.  Use attr('label', ...) instead.","","2.0");this.attr("label",_23c);},_setLabelAttr:function(_23d){this.containerNode.innerHTML=this.label=_23d;this._layoutHack();if(this.showLabel==false&&!this.params.title){this.titleNode.title=dojo.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});dojo.declare("dijit.form.DropDownButton",[dijit.form.Button,dijit._Container],{baseClass:"dijitDropDownButton",templateString:"<span class=\"dijit dijitReset dijitLeft dijitInline\"\r\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse,onclick:_onDropDownClick,onkeydown:_onDropDownKeydown,onblur:_onDropDownBlur,onkeypress:_onKey\"\r\n\t><span class='dijitReset dijitRight dijitInline'\r\n\t\t><span class='dijitReset dijitInline dijitButtonNode'\r\n\t\t\t><button class=\"dijitReset dijitStretch dijitButtonContents\" \r\n\t\t\t\t${nameAttrSetting} type=\"${type}\" value=\"${value}\"\r\n\t\t\t\tdojoAttachPoint=\"focusNode,titleNode\" \r\n\t\t\t\twaiRole=\"button\" waiState=\"haspopup-true,labelledby-${id}_label\"\r\n\t\t\t\t><span class=\"dijitReset dijitInline\" \r\n\t\t\t\t\tdojoAttachPoint=\"iconNode\"\r\n\t\t\t\t></span\r\n\t\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"  \r\n\t\t\t\t\tdojoAttachPoint=\"containerNode,popupStateNode\" \r\n\t\t\t\t\tid=\"${id}_label\"\r\n\t\t\t\t></span\r\n\t\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\">&thinsp;</span\r\n\t\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\r\n\t\t\t></button\r\n\t\t></span\r\n\t></span\r\n></span>\r\n",_fillContent:function(){if(this.srcNodeRef){var _23e=dojo.query("*",this.srcNodeRef);dijit.form.DropDownButton.superclass._fillContent.call(this,_23e[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown){var _23f=dojo.query("[widgetId]",this.dropDownContainer)[0];this.dropDown=dijit.byNode(_23f);delete this.dropDownContainer;}dijit.popup.prepare(this.dropDown.domNode);this.inherited(arguments);},destroyDescendants:function(){if(this.dropDown){this.dropDown.destroyRecursive();delete this.dropDown;}this.inherited(arguments);},_onArrowClick:function(e){if(this.disabled||this.readOnly){return;}this._toggleDropDown();},_onDropDownClick:function(e){var _242=dojo.isFF&&dojo.isFF<3&&navigator.appVersion.indexOf("Macintosh")!=-1;if(!_242||e.detail!=0||this._seenKeydown){this._onArrowClick(e);}this._seenKeydown=false;},_onDropDownKeydown:function(e){this._seenKeydown=true;},_onDropDownBlur:function(e){this._seenKeydown=false;},_onKey:function(e){if(this.disabled||this.readOnly){return;}if(e.charOrCode==dojo.keys.DOWN_ARROW){if(!this.dropDown||this.dropDown.domNode.style.visibility=="hidden"){dojo.stopEvent(e);this._toggleDropDown();}}},_onBlur:function(){this._closeDropDown();this.inherited(arguments);},_toggleDropDown:function(){if(this.disabled||this.readOnly){return;}dijit.focus(this.popupStateNode);var _246=this.dropDown;if(!_246){return;}if(!this._opened){if(_246.href&&!_246.isLoaded){var self=this;var _248=dojo.connect(_246,"onLoad",function(){dojo.disconnect(_248);self._openDropDown();});_246.refresh();return;}else{this._openDropDown();}}else{this._closeDropDown();}},_openDropDown:function(){var _249=this.dropDown;var _24a=_249.domNode.style.width;var self=this;dijit.popup.open({parent:this,popup:_249,around:this.domNode,orient:this.isLeftToRight()?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"},onExecute:function(){self._closeDropDown(true);},onCancel:function(){self._closeDropDown(true);},onClose:function(){_249.domNode.style.width=_24a;self.popupStateNode.removeAttribute("popupActive");self._opened=false;}});if(this.domNode.offsetWidth>_249.domNode.offsetWidth){var _24c=null;if(!this.isLeftToRight()){_24c=_249.domNode.parentNode;var _24d=_24c.offsetLeft+_24c.offsetWidth;}dojo.marginBox(_249.domNode,{w:this.domNode.offsetWidth});if(_24c){_24c.style.left=_24d-this.domNode.offsetWidth+"px";}}this.popupStateNode.setAttribute("popupActive","true");this._opened=true;if(_249.focus){_249.focus();}},_closeDropDown:function(_24e){if(this._opened){dijit.popup.close(this.dropDown);if(_24e){this.focus();}this._opened=false;}}});dojo.declare("dijit.form.ComboButton",dijit.form.DropDownButton,{templateString:"<table class='dijit dijitReset dijitInline dijitLeft'\r\n\tcellspacing='0' cellpadding='0' waiRole=\"presentation\"\r\n\t><tbody waiRole=\"presentation\"><tr waiRole=\"presentation\"\r\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents dijitButtonNode\"\r\n\t\t\tdojoAttachEvent=\"ondijitclick:_onButtonClick,onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\"  dojoAttachPoint=\"titleNode\"\r\n\t\t\twaiRole=\"button\" waiState=\"labelledby-${id}_label\"\r\n\t\t\t><div class=\"dijitReset dijitInline\" dojoAttachPoint=\"iconNode\" waiRole=\"presentation\"></div\r\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" dojoAttachPoint=\"containerNode\" waiRole=\"presentation\"></div\r\n\t\t></td\r\n\t\t><td class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton'\r\n\t\t\tdojoAttachPoint=\"popupStateNode,focusNode\"\r\n\t\t\tdojoAttachEvent=\"ondijitclick:_onArrowClick, onkeypress:_onKey,onmouseenter:_onMouse,onmouseleave:_onMouse\"\r\n\t\t\tstateModifier=\"DownArrow\"\r\n\t\t\ttitle=\"${optionsTitle}\" ${nameAttrSetting}\r\n\t\t\twaiRole=\"button\" waiState=\"haspopup-true\"\r\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" waiRole=\"presentation\">&thinsp;</div\r\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" waiRole=\"presentation\">&#9660;</div\r\n\t\t></td\r\n\t></tr></tbody\r\n></table>\r\n",attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{id:"",tabIndex:["focusNode","titleNode"]}),optionsTitle:"",baseClass:"dijitComboButton",_focusedNode:null,postCreate:function(){this.inherited(arguments);this._focalNodes=[this.titleNode,this.popupStateNode];dojo.forEach(this._focalNodes,dojo.hitch(this,function(node){if(dojo.isIE){this.connect(node,"onactivate",this._onNodeFocus);this.connect(node,"ondeactivate",this._onNodeBlur);}else{this.connect(node,"onfocus",this._onNodeFocus);this.connect(node,"onblur",this._onNodeBlur);}}));},focusFocalNode:function(node){this._focusedNode=node;dijit.focus(node);},hasNextFocalNode:function(){return this._focusedNode!==this.getFocalNodes()[1];},focusNext:function(){this._focusedNode=this.getFocalNodes()[this._focusedNode?1:0];dijit.focus(this._focusedNode);},hasPrevFocalNode:function(){return this._focusedNode!==this.getFocalNodes()[0];},focusPrev:function(){this._focusedNode=this.getFocalNodes()[this._focusedNode?0:1];dijit.focus(this._focusedNode);},getFocalNodes:function(){return this._focalNodes;},_onNodeFocus:function(evt){this._focusedNode=evt.currentTarget;var fnc=this._focusedNode==this.focusNode?"dijitDownArrowButtonFocused":"dijitButtonContentsFocused";dojo.addClass(this._focusedNode,fnc);},_onNodeBlur:function(evt){var fnc=evt.currentTarget==this.focusNode?"dijitDownArrowButtonFocused":"dijitButtonContentsFocused";dojo.removeClass(evt.currentTarget,fnc);},_onBlur:function(){this.inherited(arguments);this._focusedNode=null;}});dojo.declare("dijit.form.ToggleButton",dijit.form.Button,{baseClass:"dijitToggleButton",checked:false,attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{checked:"focusNode"}),_clicked:function(evt){this.attr("checked",!this.checked);},_setCheckedAttr:function(_256){this.checked=_256;dojo.attr(this.focusNode||this.domNode,"checked",_256);dijit.setWaiState(this.focusNode||this.domNode,"pressed",_256);this._setStateClass();this._handleOnChange(_256,true);},setChecked:function(_257){dojo.deprecated("setChecked("+_257+") is deprecated. Use attr('checked',"+_257+") instead.","","2.0");this.attr("checked",_257);},reset:function(){this._hasBeenBlurred=false;this.attr("checked",this.params.checked||false);}});}if(!dojo._hasResource["dijit.form.CheckBox"]){dojo._hasResource["dijit.form.CheckBox"]=true;dojo.provide("dijit.form.CheckBox");dojo.declare("dijit.form.CheckBox",dijit.form.ToggleButton,{templateString:"<div class=\"dijitReset dijitInline\" waiRole=\"presentation\"\r\n\t><input\r\n\t \t${nameAttrSetting} type=\"${type}\" ${checkedAttrSetting}\r\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\r\n\t\tdojoAttachPoint=\"focusNode\"\r\n\t \tdojoAttachEvent=\"onmouseover:_onMouse,onmouseout:_onMouse,onclick:_onClick\"\r\n/></div>\r\n",baseClass:"dijitCheckBox",type:"checkbox",value:"on",_setValueAttr:function(_258){if(typeof _258=="string"){this.value=_258;dojo.attr(this.focusNode,"value",_258);_258=true;}if(this._created){this.attr("checked",_258);}},_getValueAttr:function(){return (this.checked?this.value:false);},postMixInProperties:function(){if(this.value==""){this.value="on";}this.checkedAttrSetting=this.checked?"checked":"";this.inherited(arguments);},_fillContent:function(_259){},reset:function(){this._hasBeenBlurred=false;this.attr("checked",this.params.checked||false);this.value=this.params.value||"on";dojo.attr(this.focusNode,"value",this.value);},_onFocus:function(){if(this.id){dojo.query("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}},_onBlur:function(){if(this.id){dojo.query("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}}});dojo.declare("dijit.form.RadioButton",dijit.form.CheckBox,{type:"radio",baseClass:"dijitRadio",_setCheckedAttr:function(_25a){this.inherited(arguments);if(!this._created){return;}if(_25a){var _25b=this;dojo.query("INPUT[type=radio]",this.focusNode.form||dojo.doc).forEach(function(_25c){if(_25c.name==_25b.name&&_25c!=_25b.focusNode&&_25c.form==_25b.focusNode.form){var _25d=dijit.getEnclosingWidget(_25c);if(_25d&&_25d.checked){_25d.attr("checked",false);}}});}},_clicked:function(e){if(!this.checked){this.attr("checked",true);}}});}if(!dojo._hasResource["dijit.form.RadioButton"]){dojo._hasResource["dijit.form.RadioButton"]=true;dojo.provide("dijit.form.RadioButton");}if(!dojo._hasResource["usps.domExtenders"]){dojo._hasResource["usps.domExtenders"]=true;dojo.provide("usps.domExtenders");dojo.declare("usps.domExtenders",null,{constructor:function(){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"");};Array.prototype.inArray=function(_25f){var i;for(i=0;i<this.length;i++){if(this[i]===_25f){return true;}}return false;};Array.isArray=function(){if(typeof arguments[0]=="object"){var _261=arguments[0].constructor.toString().match(/array/i);return (_261!=null);}return false;};Math.pcent=function(x,y){return (x*100)/y;};Math.pcentval=function(x,y){return (x*y)/100;};Math.parseCurrency=function(_266,_267){if(_267==null||_267==undefined){_267="";}var wd="w";var _269=_266;for(i=0;i<_269.length;i++){if(_269.charAt(i)=="."){wd="d";break;}}if(wd=="w"){_266=_267+_269+".00";}else{if(_269.charAt(_269.length-2)=="."){_266=_267+_269+"0";}else{if(_269.charAt(_269.length-3)!="."&&_269.indexOf(".")<0){_269=Math.round(_269*100)/100;_266=_267+_269;}}}return _266;};Math.lowestDenom=function(a,b){var min=a>b?b:a;for(d=2;d<min;d++){if(((a%d)==0)&&((b%d)==0)){break;}}if(d==min){return false;}return d;};Date.prototype.getDayFull=function(d){if(d==null){d=this.getDay();}else{if(this.isDate(d)){d=d.getDay();}else{if(d==parseInt(d,10)){d=d;}else{d=(new Date()).getDay();}}}switch(d){case 0:return "Sunday";case 1:return "Monday";case 2:return "Tuesday";case 3:return "Wednesday";case 4:return "Thursday";case 5:return "Friday";case 6:return "Saturday";default:return false;}};Date.prototype.getMonthFull=function(d){if(d==null){d=this.getMonth();}else{if(this.isDate(d)){d=d.getMonth();}else{if(d==parseInt(d,10)){d=d;}else{d=(new Date()).getMonth();}}}switch(d){case 0:return "January";case 1:return "February";case 2:return "March";case 3:return "April";case 4:return "May";case 5:return "June";case 6:return "July";case 7:return "August";case 8:return "September";case 9:return "October";case 10:return "November";case 11:return "December";default:return false;}};Date.prototype.isDate=function(){if(typeof arguments[0]=="string"){return true;}if(typeof arguments[0]=="object"){var _26f=arguments[0].constructor.toString().match(/date/i);return (_26f!=null);}return false;};return true;},closest:function(obj,_271,_272){if(!_272){_272=dojo.body();}var _273=null;var _274=dojo.query(_271,_272);var _275=obj;var loop=0;while(_275!=_272&&_273==null&&loop<=8){var temp=null;dojo.forEach(_274,function(_obj,_279){if(_obj==_275){temp=_obj;}});if(temp!=null){_273=temp;}_275=_275.parentNode;loop++;}return _273;},siblings:function(obj){var _27b=obj.parentNode.childNodes;var _27c=[];dojo.forEach(_27b,function(_obj,_27e){if(obj!=_obj&&_obj.tagName&&_obj.tagName!="!"){_27c.push(_obj);}});return _27c;},next:function(obj){result=2;var num=0;for(;obj;obj=obj["nextSibling"]){if(obj.nodeType===1&&++num===result){break;}}return obj;},prev:function(obj){result=2;var num=0;for(;obj;obj=obj["previousSibling"]){if(obj.nodeType===1&&++num===result){break;}}return obj;},children:function(obj,_284){var r=[],elem;obj=obj.firstChild;for(;obj;obj=obj.nextSibling){if(obj.nodeType===1&&obj!==elem){if(_284){if(obj.tagName.toLowerCase()===_284){r.push(obj);}}else{r.push(obj);}}}return r;},swapText:function(node,txt){try{if(node.OrginalText&&typeof txt=="undefined"){dojo.attr(node,"innerHTML",node.OrginalText);}else{if(node.OrginalText&&typeof txt!="undefined"){dojo.attr(node,"innerHTML",txt);}else{if(typeof txt!="undefined"){node.OrginalText=dojo.attr(node,"innerHTML");dojo.attr(node,"innerHTML",txt);}}}}catch(e){}},connect:function(elem,_28a,_28b,func){if(typeof elem!="undefined"&&elem!==null&&elem.length!==0){if(elem.length&&!elem.nodeName){dojo.forEach(elem,function(el){if(el){USPS.domExtender.connect(el,_28a,_28b,func);}});}else{if(elem){var evt=dojo.connect(elem,_28a,_28b,func);USPS.Events.push(evt);return evt;}}}},addClass:function(elem,cls){if(typeof elem=="undefined"||elem==null){return;}if(elem.length){dojo.forEach(elem,function(el){if(el){dojo.addClass(el,cls);}});}else{if(elem){dojo.addClass(elem,cls);}}},removeClass:function(elem,cls){if(typeof elem=="undefined"||elem==null){return;}if(elem.length){dojo.forEach(elem,function(el){if(el){dojo.removeClass(el,cls);}});}else{if(elem){dojo.removeClass(elem,cls);}}},outerHeight:function(elem){if(typeof elem=="undefined"||elem==null){return 0;}var h=parseInt(dojo.style(elem,"height"),10);var pt=parseInt(dojo.style(elem,"paddingTop"),10);var pb=parseInt(dojo.style(elem,"paddingBottom"),10);var mt=parseInt(dojo.style(elem,"marginTop"),10);var mb=parseInt(dojo.style(elem,"marginBottom"),10);var bt=parseInt(dojo.style(elem,"borderTopWidth"),10);var bb=parseInt(dojo.style(elem,"borderBottomWidth"),10);return (h+pt+pb+mt+mb+bt+bb);},outerWidth:function(elem){if(typeof elem=="undefined"||elem==null){return 0;}var h=parseInt(dojo.style(elem,"width"),10);var pt=parseInt(dojo.style(elem,"paddingLeft"),10);var pb=parseInt(dojo.style(elem,"paddingRight"),10);var mt=parseInt(dojo.style(elem,"marginLeft"),10);var mb=parseInt(dojo.style(elem,"marginRight"),10);var bt=parseInt(dojo.style(elem,"borderLeftWidth"),10);var bb=parseInt(dojo.style(elem,"borderRightWidth"),10);return (h+pt+pb+mt+mb+bt+bb);},offsetParent:function(elem){if(typeof elem=="undefined"||elem==null){return document.body;}var _2a6=elem.offsetParent||document.body;while(_2a6&&(!/^body|html$/i.test(_2a6.nodeName)&&dojo.style(_2a6,"position")==="static")){_2a6=_2a6.offsetParent;}return _2a6;},text:function(_2a7){var ret="",elem,self=this;for(var i=0;_2a7[i];i++){elem=_2a7[i];if(elem.nodeType===3||elem.nodeType===4){ret+=elem.nodeValue;}else{if(elem.nodeType!==8){ret+=self.text(elem.childNodes);}}}return ret;},paintRadiobuttons:function(){dojo.forEach(dojo.query("input[type=radio]"),function(chk){if(chk.id){id=chk.id;}else{var d=new Date();var m=d.getMilliseconds();var s=d.getSeconds();id="id"+s+""+m+Math.round(Math.random()*9999)+Math.round(Math.random()*9999);dojo.attr(chk,"id",id);}var d=dijit.byId(id);if(!d){var c=new dijit.form.RadioButton({name:chk.name,value:chk.value,checked:chk.checked},chk);}});},paintCheckboxes:function(){dojo.forEach(dojo.query("input[type=checkbox]"),function(chk){if(chk.id){id=chk.id;}else{var d=new Date();var m=d.getMilliseconds();var s=d.getSeconds();id="id"+s+""+m+Math.round(Math.random()*9999)+Math.round(Math.random()*9999);dojo.attr(chk,"id",id);}var d=dijit.byId(id);if(!d){var c=new dijit.form.CheckBox({name:chk.name,value:chk.value,checked:chk.checked},chk);}});},giveFocus:function(node){if(!node){return;}try{setTimeout(function(){node.focus();},0);}catch(e){}},imageInfo:function(_2b7){var _2b8=null;if(_2b7.indexOf("/")>=0){_2b8=_2b7.split("/");var _2b9=_2b8.pop();_2b8=(_2b8.join("/"))+"/";}else{var _2b9=_2b7;}var _2ba={};var _2bb=_2b9.split("-");if(_2bb.length!=4){return false;}_2ba.sku=_2bb[0];_2ba.shotNo=_2bb[1];_2ba.shotDescription=_2bb[2];if((_2bb[3].split(".")).length!=2){return false;}_2ba.fileExtension=(_2bb[3].split("."))[1];if(((_2bb[3].split("."))[0].split("x")).length!=2){return false;}_2ba.width=parseInt(((_2bb[3].split("."))[0].split("x"))[0]);_2ba.height=parseInt(((_2bb[3].split("."))[0].split("x"))[1]);_2ba.format=parseInt(_2ba.width)>parseInt(_2ba.height)?"landscape":"portrait";_2ba.fileName=_2b9;_2ba.fileRoot=_2b8;_2ba.string=_2b7;var _2bc=Math.lowestDenom(_2ba.width,_2ba.height);if(_2bc!=false){_2ba.aspectRatio=(_2ba.width/_2bc)+":"+(_2ba.height/_2bc);}else{_2ba.aspectRatio=(_2ba.width)+":"+(_2ba.height);}return _2ba;}});}if(!dojo._hasResource["usps.utilFunctions"]){dojo._hasResource["usps.utilFunctions"]=true;dojo.provide("usps.utilFunctions");dojo.declare("usps.utilFunctions",null,{constructor:function(){},isFunction:function(obj){return toString.call(obj)==="[object Function]";},isPlainObject:function(obj){var _2bf=Object.prototype.toString,_2c0=Object.prototype.hasOwnProperty;if(!obj||Object.prototype.toString.call(obj)!=="[object Object]"||obj.nodeType||obj.setInterval){return false;}if(obj.constructor&&!_2c0.call(obj,"constructor")&&!_2c0.call(obj.constructor.prototype,"isPrototypeOf")){return false;}var key;for(key in obj){}return key===undefined||_2c0.call(obj,key);},isEmptyObject:function(obj){for(var name in obj){return false;}return true;},isArray:function(obj){return Object.prototype.toString.call(obj)==="[object Array]";},trim:function(text){return (text||"").replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"");},extend:function(){var _2c6=arguments[0]||{},i=1,_2c8=arguments.length,deep=false,_2ca,name,src,copy,self=this;if(typeof _2c6==="boolean"){deep=_2c6;_2c6=arguments[1]||{};i=2;}if(typeof _2c6!=="object"&&!self.isFunction(_2c6)){_2c6={};}for(;i<_2c8;i++){if((_2ca=arguments[i])!=null){for(name in _2ca){src=_2c6[name];copy=_2ca[name];if(_2c6===copy){continue;}if(deep&&copy&&(self.isPlainObject(copy)||self.isArray(copy))){var _2cf=src&&(self.isPlainObject(src)||self.isArray(src))?src:self.isArray(copy)?[]:{};_2c6[name]=self.extend(deep,_2cf,copy);}else{if(copy!==undefined){_2c6[name]=copy;}}}}}return _2c6;},DEBUG:false,setDebug:function(){this.DEBUG=!this.DEBUG;},echo:function(txt,w,_2d2){var self=this;try{if(self.DEBUG){if(_2d2){txt=_2d2+txt;}switch(w){case "debug":console.debug(txt);break;case "info":console.info(txt);break;case "warn":console.warn(txt);break;case "error":console.error(txt);break;default:}}}catch(e){}}});}if(!dojo._hasResource["dojo.fx.Toggler"]){dojo._hasResource["dojo.fx.Toggler"]=true;dojo.provide("dojo.fx.Toggler");dojo.declare("dojo.fx.Toggler",null,{constructor:function(args){var _t=this;dojo.mixin(_t,args);_t.node=args.node;_t._showArgs=dojo.mixin({},args);_t._showArgs.node=_t.node;_t._showArgs.duration=_t.showDuration;_t.showAnim=_t.showFunc(_t._showArgs);_t._hideArgs=dojo.mixin({},args);_t._hideArgs.node=_t.node;_t._hideArgs.duration=_t.hideDuration;_t.hideAnim=_t.hideFunc(_t._hideArgs);dojo.connect(_t.showAnim,"beforeBegin",dojo.hitch(_t.hideAnim,"stop",true));dojo.connect(_t.hideAnim,"beforeBegin",dojo.hitch(_t.showAnim,"stop",true));},node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,show:function(_2d6){return this.showAnim.play(_2d6||0);},hide:function(_2d7){return this.hideAnim.play(_2d7||0);}});}if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");(function(){var d=dojo,_2d9={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _2dc=function(_2dd){this._index=-1;this._animations=_2dd||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;d.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};d.extend(_2dc,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){d.disconnect(this._onAnimateCtx);d.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_2df,_2e0){if(!this._current){this._current=this._animations[this._index=0];}if(!_2e0&&this._current.status()=="playing"){return this;}var _2e1=d.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_2e2=d.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_2e4=d.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);d.disconnect(_2e1);d.disconnect(_2e2);d.disconnect(_2e4);});if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){d.disconnect(this._onEndCtx);}this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=d.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);d.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_2e8,_2e9){this.pause();var _2ea=this.duration*_2e8;this._current=null;d.some(this._animations,function(a){if(a.duration<=_2ea){this._current=a;return true;}_2ea-=a.duration;return false;});if(this._current){this._current.gotoPercent(_2ea/this._current.duration,_2e9);}return this;},stop:function(_2ec){if(this._current){if(_2ec){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=d.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);d.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}if(this._onEndCtx){d.disconnect(this._onEndCtx);}}});d.extend(_2dc,_2d9);dojo.fx.chain=function(_2ef){return new _2dc(_2ef);};var _2f0=function(_2f1){this._animations=_2f1||[];this._connects=[];this._finished=0;this.duration=0;d.forEach(_2f1,function(a){var _2f3=a.duration;if(a.delay){_2f3+=a.delay;}if(this.duration<_2f3){this.duration=_2f3;}this._connects.push(d.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new d._Animation({curve:[0,1],duration:this.duration});var self=this;d.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop"],function(evt){self._connects.push(d.connect(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);}));});};d.extend(_2f0,{_doAction:function(_2f6,args){d.forEach(this._animations,function(a){a[_2f6].apply(a,args);});return this;},_onEnd:function(){if(++this._finished==this._animations.length){this._fire("onEnd");}},_call:function(_2f9,args){var t=this._pseudoAnimation;t[_2f9].apply(t,args);},play:function(_2fc,_2fd){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_2fe,_2ff){var ms=this.duration*_2fe;d.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_2ff);});this._call("gotoPercent",arguments);return this;},stop:function(_302){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){d.forEach(this._connects,dojo.disconnect);}});d.extend(_2f0,_2d9);dojo.fx.combine=function(_303){return new _2f0(_303);};dojo.fx.wipeIn=function(args){args.node=d.byId(args.node);var node=args.node,s=node.style,o;var anim=d.animateProperty(d.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _309=d.style(node,"height");return Math.max(_309,1);}},end:function(){return node.scrollHeight;}}}},args));d.connect(anim,"onEnd",function(){s.height="auto";s.overflow=o;});return anim;};dojo.fx.wipeOut=function(args){var node=args.node=d.byId(args.node),s=node.style,o;var anim=d.animateProperty(d.mixin({properties:{height:{end:1}}},args));d.connect(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});d.connect(anim,"onEnd",function(){s.overflow=o;s.height="auto";s.display="none";});return anim;};dojo.fx.slideTo=function(args){var node=args.node=d.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=d.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=d.coords(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=d.animateProperty(d.mixin({properties:{top:args.top||0,left:args.left||0}},args));d.connect(anim,"beforeBegin",anim,init);return anim;};})();}if(!dojo._hasResource["dojo.fx.easing"]){dojo._hasResource["dojo.fx.easing"]=true;dojo.provide("dojo.fx.easing");dojo.fx.easing={linear:function(n){return n;},quadIn:function(n){return Math.pow(n,2);},quadOut:function(n){return n*(n-2)*-1;},quadInOut:function(n){n=n*2;if(n<1){return Math.pow(n,2)/2;}return -1*((--n)*(n-2)-1)/2;},cubicIn:function(n){return Math.pow(n,3);},cubicOut:function(n){return Math.pow(n-1,3)+1;},cubicInOut:function(n){n=n*2;if(n<1){return Math.pow(n,3)/2;}n-=2;return (Math.pow(n,3)+2)/2;},quartIn:function(n){return Math.pow(n,4);},quartOut:function(n){return -1*(Math.pow(n-1,4)-1);},quartInOut:function(n){n=n*2;if(n<1){return Math.pow(n,4)/2;}n-=2;return -1/2*(Math.pow(n,4)-2);},quintIn:function(n){return Math.pow(n,5);},quintOut:function(n){return Math.pow(n-1,5)+1;},quintInOut:function(n){n=n*2;if(n<1){return Math.pow(n,5)/2;}n-=2;return (Math.pow(n,5)+2)/2;},sineIn:function(n){return -1*Math.cos(n*(Math.PI/2))+1;},sineOut:function(n){return Math.sin(n*(Math.PI/2));},sineInOut:function(n){return -1*(Math.cos(Math.PI*n)-1)/2;},expoIn:function(n){return (n==0)?0:Math.pow(2,10*(n-1));},expoOut:function(n){return (n==1)?1:(-1*Math.pow(2,-10*n)+1);},expoInOut:function(n){if(n==0){return 0;}if(n==1){return 1;}n=n*2;if(n<1){return Math.pow(2,10*(n-1))/2;}--n;return (-1*Math.pow(2,-10*n)+2)/2;},circIn:function(n){return -1*(Math.sqrt(1-Math.pow(n,2))-1);},circOut:function(n){n=n-1;return Math.sqrt(1-Math.pow(n,2));},circInOut:function(n){n=n*2;if(n<1){return -1/2*(Math.sqrt(1-Math.pow(n,2))-1);}n-=2;return 1/2*(Math.sqrt(1-Math.pow(n,2))+1);},backIn:function(n){var s=1.70158;return Math.pow(n,2)*((s+1)*n-s);},backOut:function(n){n=n-1;var s=1.70158;return Math.pow(n,2)*((s+1)*n+s)+1;},backInOut:function(n){var s=1.70158*1.525;n=n*2;if(n<1){return (Math.pow(n,2)*((s+1)*n-s))/2;}n-=2;return (Math.pow(n,2)*((s+1)*n+s)+2)/2;},elasticIn:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;n=n-1;return -1*Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p);},elasticOut:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;return Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p)+1;},elasticInOut:function(n){if(n==0){return 0;}n=n*2;if(n==2){return 1;}var p=0.3*1.5;var s=p/4;if(n<1){n-=1;return -0.5*(Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p));}n-=1;return 0.5*(Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p))+1;},bounceIn:function(n){return (1-dojo.fx.easing.bounceOut(1-n));},bounceOut:function(n){var s=7.5625;var p=2.75;var l;if(n<(1/p)){l=s*Math.pow(n,2);}else{if(n<(2/p)){n-=(1.5/p);l=s*Math.pow(n,2)+0.75;}else{if(n<(2.5/p)){n-=(2.25/p);l=s*Math.pow(n,2)+0.9375;}else{n-=(2.625/p);l=s*Math.pow(n,2)+0.984375;}}}return l;},bounceInOut:function(n){if(n<0.5){return dojo.fx.easing.bounceIn(n*2)/2;}return (dojo.fx.easing.bounceOut(n*2-1)/2)+0.5;}};}if(!dojo._hasResource["usps.utils.trigger"]){dojo._hasResource["usps.utils.trigger"]=true;dojo.provide("usps.utils.trigger");(function(d){var isfn=d.isFunction,_346=/mouse(enter|leave)/,_fix=function(_,p){return "mouse"+(p=="enter"?"over":"out");},mix=d._mixin,_34b=d.doc.createEvent?function(n,e,a){var ev=null;if(e.match(/click|mouse/)&&d.isFF<3){ev=d.doc.createEvent("MouseEvents");}else{ev=d.doc.createEvent("HTMLEvents");}e=e.replace(_346,_fix);ev.initEvent(e,true,true);a&&mix(ev,a);n.dispatchEvent(ev);}:function(n,e,a){var ev="on"+e,stop=false,lc=e.toLowerCase(),node=n;try{n.fireEvent(ev);}catch(er){var _357=mix({type:e,target:n,faux:true,_stopper:function(){stop=this.cancelBubble;}},a);isfn(n[ev])&&n[ev](_357);while(!stop&&n!==d.doc&&n.parentNode){n=n.parentNode;isfn(n[ev])&&n[ev](_357);}}};d._trigger=function(node,_359,_35a){var n=d.byId(node),ev=_359&&_359.slice(0,2)=="on"?_359.slice(2):_359;_34b(n,ev,_35a);};d.trigger=function(obj,_35e,_35f){return (isfn(obj)||isfn(_35e)||isfn(obj[_35e]))?d.hitch.apply(d,arguments)():d._trigger.apply(d,arguments);};d.NodeList.prototype.trigger=d.NodeList._adaptAsForEach(d._trigger);if(d._Node&&!d._Node.prototype.trigger){d.extend(d._Node,{trigger:function(ev,data){d._trigger(this,ev,data);return this;}});}})(dojo);}if(!dojo._hasResource["usps.utils.Hoverable"]){dojo._hasResource["usps.utils.Hoverable"]=true;dojo.provide("usps.utils.Hoverable");dojo.declare("usps.utils.Hoverable",null,{hoverClass:"hover",events:null,initializedClass:"hasHover",instances:[],findInstance:function(obj){for(var i=0,l=this.instances.length;i<l;i++){var el=dojo.query("span",this.instances[i].el)[0];if(this.instances[i].el===obj){return this.instances[i];}}return false;},constructor:function(c,e){if(c){this.hoverClass=c;}this.events=e;},connect:function(obj,_369,_36a){var _36b=this,_36c={el:obj};if(dojo.hasClass(obj,this.initializedClass)&&_369!==true){return;}if(dojo.hasClass(obj,"button-link")){var save=obj;obj=dojo.query("span",obj)[0];if(!obj){return;}}USPS.domExtender.connect(obj,"onmouseenter",function(){if(dojo.hasClass(this,"disabled")===false&&dojo.hasClass(this.parentNode,"disabled")===false){dojo.addClass(this,_36a?_36a:_36b.hoverClass);}});USPS.domExtender.connect(obj,"onmouseleave",function(){dojo.removeClass(this,_36a?_36a:_36b.hoverClass);});this.events.push(_36c.onmouseenter);this.events.push(_36c.onmouseleave);this.instances.push(_36c);dojo.addClass(obj,this.initializedClass);},disconnect:function(obj){var _36f=this.findInstance(obj);var test=0;dojo.disconnect(_36f.onmouseenter);dojo.disconnect(_36f.onmouseleave);}});}if(!dojo._hasResource["usps.utils.DefaultTextValue"]){dojo._hasResource["usps.utils.DefaultTextValue"]=true;dojo.provide("usps.utils.DefaultTextValue");dojo.declare("usps.utils.DefaultTextValue",null,{setupClass:"hover",events:null,initializedClass:"hasDefault",constructor:function(c,e){if(c){this.hoverClass=c;}this.events=e;},connect:function(obj){if(dojo.hasClass(obj,this.initializedClass)){return;}var _374=dojo.attr(obj,"defaultvalue");_374=_374||obj.value;dojo.attr(obj,"rel",_374);var e;USPS.domExtender.connect(obj,"onfocus",function(){var rel=dojo.attr(this,"rel");if(this.value==rel){this.value="";}});this.events.push(e);USPS.domExtender.connect(obj,"onblur",function(){var rel=dojo.attr(this,"rel");if(this.value==""||this.value.length==0){this.value=rel;}});this.events.push(e);dojo.addClass(obj,this.initializedClass);}});}if(!dojo._hasResource["dojo.dnd.common"]){dojo._hasResource["dojo.dnd.common"]=true;dojo.provide("dojo.dnd.common");dojo.dnd._isMac=navigator.appVersion.indexOf("Macintosh")>=0;dojo.dnd._copyKey=dojo.dnd._isMac?"metaKey":"ctrlKey";dojo.dnd.getCopyKeyState=function(e){return e[dojo.dnd._copyKey];};dojo.dnd._uniqueId=0;dojo.dnd.getUniqueId=function(){var id;do{id=dojo._scopeName+"Unique"+(++dojo.dnd._uniqueId);}while(dojo.byId(id));return id;};dojo.dnd._empty={};dojo.dnd.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};dojo.dnd._lmb=dojo.isIE?1:0;dojo.dnd._isLmbPressed=dojo.isIE?function(e){return e.button&1;}:function(e){return e.button===0;};}if(!dojo._hasResource["dojo.dnd.autoscroll"]){dojo._hasResource["dojo.dnd.autoscroll"]=true;dojo.provide("dojo.dnd.autoscroll");dojo.dnd.getViewport=function(){var d=dojo.doc,dd=d.documentElement,w=window,b=dojo.body();if(dojo.isMozilla){return {w:dd.clientWidth,h:w.innerHeight};}else{if(!dojo.isOpera&&w.innerWidth){return {w:w.innerWidth,h:w.innerHeight};}else{if(!dojo.isOpera&&dd&&dd.clientWidth){return {w:dd.clientWidth,h:dd.clientHeight};}else{if(b.clientWidth){return {w:b.clientWidth,h:b.clientHeight};}}}}return null;};dojo.dnd.V_TRIGGER_AUTOSCROLL=32;dojo.dnd.H_TRIGGER_AUTOSCROLL=32;dojo.dnd.V_AUTOSCROLL_VALUE=16;dojo.dnd.H_AUTOSCROLL_VALUE=16;dojo.dnd.autoScroll=function(e){var v=dojo.dnd.getViewport(),dx=0,dy=0;if(e.clientX<dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=-dojo.dnd.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=dojo.dnd.H_AUTOSCROLL_VALUE;}}if(e.clientY<dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=-dojo.dnd.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=dojo.dnd.V_AUTOSCROLL_VALUE;}}window.scrollBy(dx,dy);};dojo.dnd._validNodes={"div":1,"p":1,"td":1};dojo.dnd._validOverflow={"auto":1,"scroll":1};dojo.dnd.autoScrollNodes=function(e){for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in dojo.dnd._validNodes)){var s=dojo.getComputedStyle(n);if(s.overflow.toLowerCase() in dojo.dnd._validOverflow){var b=dojo._getContentBox(n,s),t=dojo._abs(n,true);var w=Math.min(dojo.dnd.H_TRIGGER_AUTOSCROLL,b.w/2),h=Math.min(dojo.dnd.V_TRIGGER_AUTOSCROLL,b.h/2),rx=e.pageX-t.x,ry=e.pageY-t.y,dx=0,dy=0;if(dojo.isWebKit||dojo.isOpera){rx+=dojo.body().scrollLeft,ry+=dojo.body().scrollTop;}if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}}if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}}var _391=n.scrollLeft,_392=n.scrollTop;n.scrollLeft=n.scrollLeft+dx;n.scrollTop=n.scrollTop+dy;if(_391!=n.scrollLeft||_392!=n.scrollTop){return;}}}try{n=n.parentNode;}catch(x){n=null;}}dojo.dnd.autoScroll(e);};}if(!dojo._hasResource["dojo.dnd.Mover"]){dojo._hasResource["dojo.dnd.Mover"]=true;dojo.provide("dojo.dnd.Mover");dojo.declare("dojo.dnd.Mover",null,{constructor:function(node,e,host){this.node=dojo.byId(node);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;var h=this.host=host,d=node.ownerDocument,_398=dojo.connect(d,"onmousemove",this,"onFirstMove");this.events=[dojo.connect(d,"onmousemove",this,"onMouseMove"),dojo.connect(d,"onmouseup",this,"onMouseUp"),dojo.connect(d,"ondragstart",dojo.stopEvent),dojo.connect(d.body,"onselectstart",dojo.stopEvent),_398];if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){dojo.dnd.autoScroll(e);var m=this.marginBox;this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY});dojo.stopEvent(e);},onMouseUp:function(e){if(dojo.isWebKit&&dojo.dnd._isMac&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}dojo.stopEvent(e);},onFirstMove:function(){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left));t=Math.round(parseFloat(s.top));break;default:s.position="absolute";var m=dojo.marginBox(this.node);var b=dojo.doc.body;var bs=dojo.getComputedStyle(b);var bm=dojo._getMarginBox(b,bs);var bc=dojo._getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this);}dojo.disconnect(this.events.pop());},destroy:function(){dojo.forEach(this.events,dojo.disconnect);var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});}if(!dojo._hasResource["dojo.dnd.Moveable"]){dojo._hasResource["dojo.dnd.Moveable"]=true;dojo.provide("dojo.dnd.Moveable");dojo.declare("dojo.dnd.Moveable",null,{handle:"",delay:0,skip:false,constructor:function(node,_3a7){this.node=dojo.byId(node);if(!_3a7){_3a7={};}this.handle=_3a7.handle?dojo.byId(_3a7.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_3a7.delay>0?_3a7.delay:0;this.skip=_3a7.skip;this.mover=_3a7.mover?_3a7.mover:dojo.dnd.Mover;this.events=[dojo.connect(this.handle,"onmousedown",this,"onMouseDown"),dojo.connect(this.handle,"ondragstart",this,"onSelectStart"),dojo.connect(this.handle,"onselectstart",this,"onSelectStart")];},markupFactory:function(_3a8,node){return new dojo.dnd.Moveable(node,_3a8);},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dojo.dnd.isFormElement(e)){return;}if(this.delay){this.events.push(dojo.connect(this.handle,"onmousemove",this,"onMouseMove"),dojo.connect(this.handle,"onmouseup",this,"onMouseUp"));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}dojo.stopEvent(e);},onMouseMove:function(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}dojo.stopEvent(e);},onMouseUp:function(e){for(var i=0;i<2;++i){dojo.disconnect(this.events.pop());}dojo.stopEvent(e);},onSelectStart:function(e){if(!this.skip||!dojo.dnd.isFormElement(e)){dojo.stopEvent(e);}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_3b0){dojo.publish("/dnd/move/start",[_3b0]);dojo.addClass(dojo.body(),"dojoMove");dojo.addClass(this.node,"dojoMoveItem");},onMoveStop:function(_3b1){dojo.publish("/dnd/move/stop",[_3b1]);dojo.removeClass(dojo.body(),"dojoMove");dojo.removeClass(this.node,"dojoMoveItem");},onFirstMove:function(_3b2){},onMove:function(_3b3,_3b4){this.onMoving(_3b3,_3b4);var s=_3b3.node.style;s.left=_3b4.l+"px";s.top=_3b4.t+"px";this.onMoved(_3b3,_3b4);},onMoving:function(_3b6,_3b7){},onMoved:function(_3b8,_3b9){}});}if(!dojo._hasResource["dojo.dnd.move"]){dojo._hasResource["dojo.dnd.move"]=true;dojo.provide("dojo.dnd.move");dojo.declare("dojo.dnd.move.constrainedMoveable",dojo.dnd.Moveable,{constraints:function(){},within:false,markupFactory:function(_3ba,node){return new dojo.dnd.move.constrainedMoveable(node,_3ba);},constructor:function(node,_3bd){if(!_3bd){_3bd={};}this.constraints=_3bd.constraints;this.within=_3bd.within;},onFirstMove:function(_3be){var c=this.constraintBox=this.constraints.call(this,_3be);c.r=c.l+c.w;c.b=c.t+c.h;if(this.within){var mb=dojo.marginBox(_3be.node);c.r-=mb.w;c.b-=mb.h;}},onMove:function(_3c1,_3c2){var c=this.constraintBox,s=_3c1.node.style;s.left=(_3c2.l<c.l?c.l:c.r<_3c2.l?c.r:_3c2.l)+"px";s.top=(_3c2.t<c.t?c.t:c.b<_3c2.t?c.b:_3c2.t)+"px";}});dojo.declare("dojo.dnd.move.boxConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{box:{},markupFactory:function(_3c5,node){return new dojo.dnd.move.boxConstrainedMoveable(node,_3c5);},constructor:function(node,_3c8){var box=_3c8&&_3c8.box;this.constraints=function(){return box;};}});dojo.declare("dojo.dnd.move.parentConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{area:"content",markupFactory:function(_3ca,node){return new dojo.dnd.move.parentConstrainedMoveable(node,_3ca);},constructor:function(node,_3cd){var area=_3cd&&_3cd.area;this.constraints=function(){var n=this.node.parentNode,s=dojo.getComputedStyle(n),mb=dojo._getMarginBox(n,s);if(area=="margin"){return mb;}var t=dojo._getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=dojo._getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=dojo._getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};}});dojo.dnd.move.constrainedMover=function(fun,_3d4){dojo.deprecated("dojo.dnd.move.constrainedMover, use dojo.dnd.move.constrainedMoveable instead");var _3d5=function(node,e,_3d8){dojo.dnd.Mover.call(this,node,e,_3d8);};dojo.extend(_3d5,dojo.dnd.Mover.prototype);dojo.extend(_3d5,{onMouseMove:function(e){dojo.dnd.autoScroll(e);var m=this.marginBox,c=this.constraintBox,l=m.l+e.pageX,t=m.t+e.pageY;l=l<c.l?c.l:c.r<l?c.r:l;t=t<c.t?c.t:c.b<t?c.b:t;this.host.onMove(this,{l:l,t:t});},onFirstMove:function(){dojo.dnd.Mover.prototype.onFirstMove.call(this);var c=this.constraintBox=fun.call(this);c.r=c.l+c.w;c.b=c.t+c.h;if(_3d4){var mb=dojo.marginBox(this.node);c.r-=mb.w;c.b-=mb.h;}}});return _3d5;};dojo.dnd.move.boxConstrainedMover=function(box,_3e1){dojo.deprecated("dojo.dnd.move.boxConstrainedMover, use dojo.dnd.move.boxConstrainedMoveable instead");return dojo.dnd.move.constrainedMover(function(){return box;},_3e1);};dojo.dnd.move.parentConstrainedMover=function(area,_3e3){dojo.deprecated("dojo.dnd.move.parentConstrainedMover, use dojo.dnd.move.parentConstrainedMoveable instead");var fun=function(){var n=this.node.parentNode,s=dojo.getComputedStyle(n),mb=dojo._getMarginBox(n,s);if(area=="margin"){return mb;}var t=dojo._getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=dojo._getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=dojo._getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};return dojo.dnd.move.constrainedMover(fun,_3e3);};dojo.dnd.constrainedMover=dojo.dnd.move.constrainedMover;dojo.dnd.boxConstrainedMover=dojo.dnd.move.boxConstrainedMover;dojo.dnd.parentConstrainedMover=dojo.dnd.move.parentConstrainedMover;}if(!dojo._hasResource["usps.widget.CustomScroller"]){dojo._hasResource["usps.widget.CustomScroller"]=true;dojo.provide("usps.widget.CustomScroller");dojo.declare("usps.widget.CustomScroller",null,{constructor:function(){this.build();},options:{"lessHeight":0},build:function(obj,_3ea){if(_3ea){this.options=_3ea;}if(obj){try{this._process(obj);}catch(e){alert(e.message);}}else{var _3eb=this;dojo.forEach(dojo.query(".scrollContainer"),function(ele,_3ed){_3eb._process(ele,_3ed);});}},reset:function(obj){if(!obj){return;}var _3ef=dojo.query(".scrollHandle",obj)[0];var _3f0=dojo.query(".scrollInterior",obj)[0];if(_3ef){dojo.style(_3ef,"top","0px");}if(_3f0){dojo.style(_3f0,"top","0px");}},_process:function(ele,_3f2){var _3f3=0;try{_3f3=dojo.attr(ele,"adjustment");if(_3f3){_3f3=parseInt(_3f3)*2;}}catch(e){_3f3=0;}var _3f4=dojo.query(".scrollerContainer",ele)[0];if(dojo.coords(dojo.query(".scrollInterior",ele)[0]).h>dojo.coords(ele).h){var _3f5=true;if(!_3f4){_3f4=dojo.create("div",{style:{height:(dojo.coords(ele).h-this.options.lessHeight-_3f3)+"px",width:7+"px"},"class":"scrollerContainer"},ele,"first");_3f4.innerHTML="<div class=\"scrollerRail\">"+"<div class=\"scrollerTop\"></div>"+"<div class=\"scrollerMiddle\" style=\"height:"+(dojo.coords(ele).h-6-this.options.lessHeight-_3f3)+"px;\"></div>"+"<div class=\"scrollerBottom\"></div>"+"<div class=\"scrollHandle\"></div>"+"</div></div>";}else{dojo.style(_3f4,"display","block");dojo.style(_3f4,{height:(dojo.coords(ele).h-this.options.lessHeight-_3f3)+"px",width:7+"px"});dojo.style(dojo.query(".scrollerMiddle",ele)[0],{height:(dojo.coords(ele).h-6-this.options.lessHeight-_3f3)+"px"});_3f5=false;}ele.handle=new dojo.dnd.Moveable(dojo.query(".scrollHandle",ele)[0]);ele.handle.domNode=dojo.query(".scrollHandle",ele)[0];ele.handle.target=dojo.query(".scrollInterior",ele)[0];ele.handle.rail=dojo.query(".scrollerMiddle",ele)[0];var ev;if(_3f5){USPS.domExtender.connect(ele.handle.rail,"click",ele.handle,function(e){this.onBarClick(e);});USPS.domExtender.connect(ele.handle.rail,"focus",ele.handle,function(e){dijit.focus(this);});USPS.domExtender.connect(ele,"focus",ele.handle,function(){USPS.domExtender.connect(ele,"keypress",this,function(e){if(e.keyCode==9){return true;}dojo.stopEvent(e);this.onKeyPress(e);return false;});});USPS.domExtender.connect(ele.handle,"blur",ele.handle,function(e){this.domNode.onkeydown="";});}ele.handle.targetMaxScroll=dojo.coords(ele.handle.target).h-dojo.coords(ele).h;ele.handle.maxDrag=(dojo.coords(ele).h-dojo.coords(dojo.query(".scrollHandle",ele)[0]).h-this.options.lessHeight-_3f3);ele.handle.minDrag=0;ele.handle.onMove=function(_e,_f){var attr=dojo.attr(_3f4,"off");if(attr&&attr=="true"){return;}ele.handle.onMoving(_e,_f);var s=_e.node.style;if(_f.t>=ele.handle.minDrag&&_f.t<=ele.handle.maxDrag){s.top=_f.t+"px";}else{if(_f.t<ele.handle.minDrag){s.top=ele.handle.minDrag+"px";}else{if(_f.t>ele.handle.maxDrag){s.top=ele.handle.maxDrag+"px";}}}scrollToval=Math.pcent(parseInt(s.top),ele.handle.maxDrag);dojo.style(ele.handle.target,"top",-(Math.floor(Math.pcentval(ele.handle.targetMaxScroll,scrollToval)))+"px");ele.handle.onMoved(_e,_f);};ele.handle.onMoveStart=function(_e,_f){dojo.publish(USPS.subscriptions.preventModalClose,[false]);};ele.handle.onMoveStop=function(_e,_f){dojo.publish(USPS.subscriptions.preventModalClose,[true]);};ele.handle.onBarClick=function(e){dijit.focus(ele.handle);dojo.stopEvent(e);var _4=dojo.coords(ele.handle.rail,true);var _5=e["pageY"]-_4["y"];adjusted5=_5-(dojo.coords(dojo.query(".scrollHandle",ele)[0]).h/2);ele.handle.onMove(ele.handle,{t:adjusted5});};if(_3f5){USPS.domExtender.connect(ele.handle.target,(!dojo.isMozilla?"onmousewheel":"DOMMouseScroll"),function(e){e.preventDefault();var _407=e[(!dojo.isMozilla?"wheelDelta":"detail")]*(!dojo.isMozilla?1:-1);ele.handle.onMove(ele.handle,{t:parseInt(dojo.style(ele.handle.domNode,"top")-(5*(_407<0?-1:1)))});});}var top=dojo.style(ele.handle.domNode,"top");if(top>=ele.handle.maxDrag){ele.handle.onMove(ele.handle,{t:ele.handle.maxDrag});}ele.handle.onKeyPress=function(e){var e=window.event||e;switch(e.keyCode){case dojo.keys.HOME:ele.handle.onMove(ele.handle,{t:0});break;case 36:ele.handle.onMove(ele.handle,{t:0});break;case dojo.keys.END:ele.handle.onMove(ele.handle,{t:ele.handle.maxDrag});break;case 35:ele.handle.onMove(ele.handle,{t:ele.handle.maxDrag});break;case 38:ele.handle.onMove(ele.handle,{t:parseInt(dojo.style(ele.handle.domNode,"top")-10)});break;case 37:ele.handle.onMove(ele.handle,{t:parseInt(dojo.style(ele.handle.domNode,"top")-10)});break;case 40:ele.handle.onMove(ele.handle,{t:parseInt(dojo.style(ele.handle.domNode,"top")+10)});break;case 39:ele.handle.onMove(ele.handle,{t:parseInt(dojo.style(ele.handle.domNode,"top")+10)});break;default:return;}dojo.stopEvent(e);};dojo.attr(_3f4,"off","false");}else{if(_3f4){dojo.style(_3f4,"display","none");dojo.attr(_3f4,"off","true");}}}});}if(!dojo._hasResource["usps.widget.StyledDropdownEvents"]){dojo._hasResource["usps.widget.StyledDropdownEvents"]=true;dojo.provide("usps.widget.StyledDropdownEvents");dojo.declare("usps.widget.StyledDropdownEvents",null,{_currIndex:0,_disabled:false,_el:null,_callback:null,_blurCallback:null,_container:null,_clickThru:false,_list:null,_links:null,_validate:false,_lbl:null,hasManualFocus:false,hasSecondaryEvents:false,closeSubscription:null,obj:{},events:{onclick:null,onchange:null,onkeyup:null,onkeydown:null,onmouseenter:null,onmouseleave:null,onblur:null,frame:{onmouseenter:[],onmouseleave:[]},options:[]},constructor:function(el,obj,_40c){this._el=obj._el;this.obj=obj;this.baseObj=_40c;this.build=dojo.hitch(obj,obj.build);this._callback=obj._callback;this._blurCallback=obj._blurCallback;this._lbl=obj._lbl;this.closeSubscription=obj.closeSubscription;this.setEvents();if(obj.validate&&obj.validate===true){this._validate=obj.validate;this._lbl=dojo.query("label[for="+this._el.id+"]")[0];}this.hitchMembers(_40c);},hitchMembers:function(_40d){var obj=this.obj;_40d.setValue=dojo.hitch(this,this.setValue);_40d.getValue=dojo.hitch(this,this.getValue);_40d.enableOption=dojo.hitch(this,this.enableOption);_40d.disableOption=dojo.hitch(this,this.disableOption);_40d.enable=dojo.hitch(this,this.enable);_40d.disable=dojo.hitch(this,this.disable);_40d.setSelectedIndex=dojo.hitch(this,this.setSelectedIndex);_40d.getSelectedIndex=dojo.hitch(this,this.getSelectedIndex);_40d.getState=dojo.hitch(this,this.getState);_40d.setState=dojo.hitch(this,this.setState);_40d.rebuild=dojo.hitch(this,this.rebuild);_40d.build=dojo.hitch(obj,obj.build);_40d.close=dojo.hitch(this,this.close);_40d.open=dojo.hitch(this,this.open);_40d.updateHeight=dojo.hitch(this,this.updateHeight);_40d.setDimensions=dojo.hitch(this,this.setDimensions);_40d.toggle=dojo.hitch(this,this.toggle);_40d.scroll=dojo.hitch(this,this.scroll);_40d.setTextValue=dojo.hitch(this,this.setTextValue);_40d.selectString=dojo.hitch(this,this.selectString);_40d.select=dojo.hitch(this,this.select);_40d.resetSelectFlag=dojo.hitch(this,this.resetSelectFlag);_40d._el=obj._el;_40d._container=obj._container;_40d._hasManualFocus=this._hasManualFocus;_40d._disabled=this._disabled;_40d.selectFlag=obj.selectFlag;_40d._list=obj._list;_40d._links=obj._links;_40d._currIndex=obj._currIndex;_40d.hasDimensions=(this.hasDimensions===true);_40d._lbl=this._lbl;_40d.closeSubscription=this.closeSubscription;_40d.events=this.events;},setEvents:function(){var _40f=this;this.events.onchange=dojo.connect(_40f.obj._el,"onchange",function(){if(_40f._disabled){return;}try{_40f.selectString(dojo.query("option",this)[Math.max(this.selectedIndex,0)].innerHTML);}catch(err){}});var open=dojo.hitch(this,this.open);var _411=dojo.hitch(this,this.close);var evt;evt=dojo.connect(this.obj._el,"onfocus",function(){if(_40f._disabled){return;}dojo.addClass(dojo.query(".select-current",_40f.obj._container)[0],"focus");_40f.bindSecondaryEvents();});USPS.Events.push(evt);evt=dojo.connect(this.obj._el,"onblur",function(e){if(_40f.obj._disabled){return;}dojo.removeClass(dojo.query(".select-current",_40f.obj._container)[0],"focus");if(_40f.obj.isOpen===false&&_40f.hasManualFocus===false){dojo.publish("STYLED-DROPDOWN-CLOSE",[_40f.obj._el.id]);}_40f.hasManualFocus=false;if(_40f.getState()==-1){_40f.close();}else{if(dojo.isIE){}else{_40f.hasManualFocus=true;this.focus();}}if(_40f.obj.isOpen==false){_40f.unbindSecondaryEvents();}if(_40f.baseObj._callback&&typeof _40f.baseObj._callback=="function"){_40f._callback=_40f.baseObj._callback;}if(_40f._callback&&typeof _40f._callback=="function"&&_40f._clickThru===false){_40f.hitchMembers(_40f.obj);var fn=dojo.hitch(_40f.obj,_40f._callback);fn();}if(_40f._blurCallback&&typeof _40f._blurCallback=="function"&&_40f._clickThru===false){_40f.hitchMembers(_40f.obj);var fn=dojo.hitch(_40f.obj,_40f._blurCallback);fn();}if(_40f._blurCallback!=null&&typeof _40f._blurCallback=="function"){_40f._blurCallback();}});USPS.Events.push(evt);evt=dojo.connect(dojo.query(".select-current",_40f.obj._container)[0],"onmouseover",function(){if(_40f._disabled){return;}dojo.addClass(this,"focus");});USPS.Events.push(evt);evt=dojo.connect(dojo.query(".select-current",_40f.obj._container)[0],"onmouseleave",function(){if(_40f._disabled){return;}dojo.removeClass(this,"focus");});USPS.Events.push(evt);evt=dojo.connect(dojo.query(".select-current",_40f.obj._container)[0],"onclick",open);USPS.Events.push(evt);},bindSecondaryEvents:function(){if(this.obj.hasSecondaryEvents){return;}var evt;var _416=this;this.events.onkeyup=dojo.connect(_416.obj._el,"onkeyup",function(e){if(_416._disabled){return;}_416._clickThru=false;if(e.keyCode==dojo.keys.ENTER){_416.close();var obj=dojo.query("a.hide-fromsighted",_416.obj._el.parentNode)[0];if(obj){_416.hasManualFocus=true;obj.focus();}}else{if(e.keyCode==dojo.keys.TAB){}}try{_416.selectString(dojo.query("option",this)[Math.max(this.selectedIndex,0)].innerHTML);}catch(err){}});USPS.Events.push(evt);if(dojo.isWebKit){if(_416._disabled){return;}this.events.onkeydown=dojo.connect(_416.obj._el,"onkeydown",function(e){if(e.keyCode==dojo.keys.UP_ARROW||e.keyCode==dojo.keys.DOWN_ARROW){_416.close(true);}});}this.events.onmouseenter=dojo.connect(dojo.query(".select-frame-inner",_416._container)[0],"onmouseenter",function(){_416._clickThru=true;if(_416._disabled){return;}_416.hasManualFocus=true;_416.obj._el.focus();_416.setState(2);});this.events.onmouseleave=dojo.connect(dojo.query(".select-frame-inner",_416._container)[0],"onmouseleave",function(){if(_416._disabled){return;}_416.setState(1);});dojo.forEach(dojo.query(".select-frame-inner-border ",_416._container),function(obj){evt=dojo.connect(obj,"onmouseenter",function(){if(_416._disabled){return;}_416.hasManualFocus=true;try{_416.obj._el.focus();}catch(e){}_416.setState(0);if(dojo.isIE){_416.close();}});_416.events.frame.onmouseenter.push(evt);evt=dojo.connect(obj,"onmouseleave",function(){if(_416._disabled){return;}_416.hasManualFocus=true;try{_416.obj._el.focus();}catch(e){}_416.setState(-1);});_416.events.frame.onmouseleave.push(evt);});dojo.forEach(this.obj._links,function(opt){evt=dojo.connect(opt,"onclick",function(e){e.preventDefault();if(!this||!this.parentNode){return;}if(dojo.hasClass(this.parentNode,"disabled")==false){_416.select(this);}return false;});_416.events.options.push(evt);});this.obj.hasSecondaryEvents=true;},unbindSecondaryEvents:function(){if(!this.hasSecondaryEvents){return;}var _41d=this;dojo.disconnect(this.events.onchange);dojo.disconnect(this.events.onkeyup);if(dojo.isWebKit){dojo.disconnect(this.events.onkeydown);}dojo.disconnect(this.events.onmouseenter);dojo.disconnect(this.events.onmouseleave);dojo.forEach(dojo.query(".select-frame-inner-border ",_41d._container),function(obj,i){dojo.disconnect(_41d.events.frame.onmouseenter[i]);dojo.disconnect(_41d.events.frame.onmouseleave[i]);});if(this.events.frame.onmouseenter.length>0){this.events.frame.onmouseenter=[];this.events.frame.onmouseleave=[];}dojo.forEach(this.obj._links,function(opt,i){dojo.disconnect(_41d.events.options[i]);_41d.events.options.splice(0,1);});this.hasSecondaryEvents=false;},resetSelectFlag:function(){this.obj.selectFlag=-1;},select:function(obj){if(this.obj.selectFlag==1){return;}this.timer=setTimeout(dojo.hitch(this,this.resetSelectFlag),250);this.obj.selectFlag=1;var _423=1;var name=obj.innerHTML;var _425=dojo.attr(obj,"rel");if(_425){this.setValue(_425);}else{this.obj._el.selectedIndex=0;}if(this._validate){if(_425!=null&&_425.length>0){dojo.removeClass(this._lbl,"error");}else{dojo.addClass(this._lbl,"error");}}this.setTextValue(name);this.toggle();this.close();var _426=this;if(this.baseObj._callback&&typeof this.baseObj._callback=="function"){this._callback=this.baseObj._callback;}if(this._callback&&typeof this._callback=="function"){this.hitchMembers(this.obj);var fn=dojo.hitch(_426.obj,_426._callback);fn();}if(this._blurCallback&&typeof this._blurCallback=="function"){this.hitchMembers(this.obj);var fn=dojo.hitch(_426.obj,_426._blurCallback);fn();}},selectString:function(name){if(this.obj._el.settings.hasListBuilt==false){}this.setTextValue(name);this.toggle();},setTextValue:function(name){var _42a=this;name=dojo.trim(name);if(this.obj._el.settings.shortenName&&name.length>this.obj._el.settings.maxChars&&(name.length-this.obj._el.settings.maxChars>this.obj._el.settings.maxTextCharDiff)){name=name.substring(0,this.obj._el.settings.maxChars)+this.obj._el.settings.elipses;}try{dojo.query(this.obj._el.settings.currTextClass,_42a.obj._container)[0].innerHTML=name;}catch(e){dojo.place("<span>"+name+"</span>",dojo.query(_42a.obj._el.settings.currTextClass,_42a.obj._container)[0],"only");}this.scroll();},scroll:function(){var idx=this.getSelectedIndex();var _42c=this.obj._list.scrollTop;var _42d=23*idx;if(_42d<_42c){_42c=_42d;}else{if(_42d>_42c+230-23){_42c=_42d-(230-23);}}this.obj._list.scrollTop=_42c;},toggle:function(idx){try{dojo.removeClass(this.obj._links[this.obj._currIndex],"selected");}catch(err){}this.obj._currIndex=this.getSelectedIndex();this.obj._currIndex=(this.obj._currIndex==null||this.obj._currIndex<0)?0:this.obj._currIndex;dojo.addClass(this.obj._links[this.obj._currIndex],"selected");},setDimensions:function(bool){var _430=this;if(this.hasDimensions){return;}if(dojo.isIE==6){dojo.style(this.obj._el,{"width":"10px","height":"10px","left":"-5000px","position":"relative"});}else{if(dojo.isWebKit){dojo.style(this.obj._el,{"opacity":0,"position":"relative"});}else{dojo.style(this.obj._el,{"opacity":0});}}var _431=dojo.query("option",this.obj._el).length;var UL=dojo.query("ul",this.obj._container)[0];var _h=dojo.coords(UL).h;var _434=(_h>this.obj._el.settings.maxVisible*this.obj._el.settings.height)?(this.obj._el.settings.maxVisible*this.obj._el.settings.height):_h;if(_h>_434){dojo.style(UL,{"height":_434+"px"});}dojo.query(".select-frame",_430.obj._container).style({"width":(this.obj._el.settings.dropWidth+40)+"px","height":(_434+10+40)+"px"});dojo.query(".select-frame-inner",_430.obj._container).style({"width":(this.obj._el.settings.dropWidth)+"px","height":(_434+10)+"px"});dojo.query(".select-t",_430.obj._container).style({"width":(this.obj._el.settings.dropWidth-10)+"px"});dojo.query(".select-b",_430.obj._container).style({"width":(this.obj._el.settings.dropWidth-10)+"px"});dojo.query(".select-l",_430.obj._container).style({"height":(_434)+"px"});dojo.query(".select-r",_430.obj._container).style({"height":(_434)+"px"});dojo.query(".select-inner",_430.obj._container).style({"width":(this.obj._el.settings.dropWidth-2)+"px"});dojo.style(_430.obj._container,{"display":"block"});this.hasDimensions=true;},updateHeight:function(){this.hasDimensions=false;},open:function(){this.clickThru=true;var _435=this;if(this._disabled){return;}if(dojo.isWebKit){var _435=this;dojo.forEach(dojo.query("option",this.obj._el),function(opt,_437){if(opt.disabled){dojo.addClass(_435.obj._links[_437].parentNode,"disabled");}else{dojo.removeClass(_435.obj._links[_437].parentNode,"disabled");}});}dojo.publish("closeAllStyledSelect",0);this.obj.isOpen=true;dojo.style(dojo.query(".select-frame",_435.obj._container)[0],{"display":"block","zIndex":"5001"});dojo.style(_435.obj._container.parentNode,{"zIndex":"5001"});var fn=dojo.hitch(_435.obj._container,function(){dojo.style(this,{"zIndex":"5001"});dojo.query("*",_435.obj._container).addClass("dummy");dojo.query("*",_435.obj._container).removeClass("dummy");});setTimeout(fn,10);this.bindSecondaryEvents();this.setState(2);this.setDimensions();this._el.focus();},close:function(_439){var _43a=this;this.setState(-1);if(this.obj.isOpen==true){dojo.publish("STYLED-DROPDOWN-CLOSE",[this.obj._el.id]);}this.obj.isOpen=false;var obj=dojo.query(".select-frame",this.obj._container)[0];if(!obj||obj==null){return;}dojo.style(obj,{"display":"none","zIndex":"0"});if(this.obj._container!=null&&this.obj._container.parentNode!=null){dojo.style(this.obj._container.parentNode,{"zIndex":"1"});}else{dojo.unsubscribe(this.closeSubscription);USPS.Dropdowns.remove(this);return;}if(this._validate==true&&this._lbl!=null){dojo.removeClass(this._lbl,"novalidate");}if(!_439||_439==false){this.obj._el.blur();}this.unbindSecondaryEvents();},rebuild:function(){dojo.query("ul",this.obj._container)[0].innerHTML="";this.build();this.updateHeight();},setState:function(_43c){this.obj._el.settings.state=_43c;},getState:function(){return this.obj._el.settings.state;},getSelectedIndex:function(){return Math.max(this.obj._el.selectedIndex,0);},setSelectedIndex:function(_43d,str){this.obj._el.selectedIndex=_43d;this.setTextValue(str?str:this.obj._el.options[_43d].innerHTML);this.toggle(_43d);},disable:function(){dojo.addClass(this.obj._container,"disabled");this._disabled=true;this.obj._el.disabled=true;},enable:function(){dojo.removeClass(this.obj._container,"disabled");this._disabled=false;this.obj._el.disabled=false;},disableOption:function(indx){var _440=this;dojo.addClass(dojo.query("a[rel="+indx+"]",_440.obj._container)[0].parentNode,"disabled");dojo.addClass(dojo.query("a[rel="+indx+"]",_440.obj._container)[0],"disabled");},enableOption:function(indx){var _442=this;dojo.removeClass(dojo.query("a[rel="+indx+"]",_442.obj._container)[0].parentNode,"disabled");dojo.removeClass(dojo.query("a[rel="+indx+"]",_442.obj._container)[0],"disabled");},getValue:function(){if(!this.obj._el.selectedIndex||this.obj._el.selectedIndex==-1){this.obj._el.selectedIndex=0;}var _443="";try{_443=this.obj._el.options[this.obj._el.selectedIndex].value;}catch(e){_443="";}return _443;},setValue:function(_444){var _445=-1;dojo.forEach(this.obj._el.options,function(_opt,_447){if(_opt.value==_444){_445=_447;}});if(_445>-1){this.setSelectedIndex(_445,this.obj._el.options[_445].innerHTML);}return (_445>-1);}});}if(!dojo._hasResource["usps.widget.StyledDropdown"]){dojo._hasResource["usps.widget.StyledDropdown"]=true;dojo.provide("usps.widget.StyledDropdown");dojo.declare("usps.widget.StyledDropdown",null,{_currIndex:0,_disabled:false,_el:null,_callback:null,_blurCallback:null,_container:null,_list:null,_links:null,_validate:false,_lbl:null,hasManualFocus:false,isOpen:false,hasSecondaryEvents:false,closeSubscription:null,events:{onclick:null,onchange:null,onkeyup:null,onkeydown:null,onmouseenter:null,onmouseleave:null,onblur:null,frame:{onmouseenter:[],onmouseleave:[]},options:[]},constructor:function(el,_449,_44a,_44b,_44c,_44d){if(!el||el.tagName!="SELECT"){return;}if(dojo.attr(el,"isPainted")=="true"){var inst=USPS.Dropdowns.byId(el.id);if(inst){if(_44c){_44b==null?(inst._el.settings.definedWidth=0):(inst._el.settings.definedWidth=_44b);inst._el.settings.maxVisible=(_44c&&_44c.maxVisible)?_44c.maxVisible:inst._el.settings.maxVisibleDefault;inst._el.settings.maxChars=(_44c&&_44c.maxChars)?_44c.maxChars:inst._el.settings.maxChars;inst._el.settings.shortenName=(_44c&&_44c.shortenName)?_44c.shortenName:inst._el.settings.shortenName;inst._el.settings.dropWidth=(_44c&&_44c.dropWidth)?_44c.dropWidth:inst._el.settings.dropWidth;}if(_449){inst._callback=_449;}if(_44d){inst._blurCallback=_44d;}inst.hitchEvents(this);return;}}var _44f={shortenName:true,maxVisibleDefault:10,elipses:"...",maxTextCharDiff:2,maxChars:25,height:23,offsetLeft:35,offsetTop:0,widthOffset:0,currTextClass:".select-current-text",state:-1,hasListBuilt:false,definedWidth:0,dropWidth:false};this._el=el;this._el.settings=_44f;if(dojo.attr(this._el,"data")){data=dojo.fromJson(dojo.attr(this._el,"data"));var _44c=dojo.mixin(_44c,data);}_44b==null?(this._el.settings.definedWidth=0):(this._el.settings.definedWidth=_44b);this._el.settings.maxVisible=(_44c&&_44c.maxVisible)?_44c.maxVisible:this._el.settings.maxVisibleDefault;this._el.settings.maxChars=(_44c&&_44c.maxChars)?_44c.maxChars:this._el.settings.maxChars;this._el.settings.shortenName=(_44c&&_44c.shortenName)?_44c.shortenName:this._el.settings.shortenName;this._el.settings.dropWidth=(_44c&&_44c.dropWidth)?_44c.dropWidth:this._el.settings.dropWidth;this._container=dojo.byId(dojo.attr(this._el,"id")+"List");this._list=dojo.query("ul",this._container)[0];this._currIndex=this.getSelectedIndex();this._callback=_449;this._blurCallback=_44d;this.buildLayout();if(_44a&&_44a==true){this._validate=_44a;this._lbl=dojo.query("label[for="+this._el.id+"]")[0];}this.closeSubscription=dojo.subscribe("closeAllStyledSelect",this,this.close);USPS.Dropdowns.add(this);},hitchEvents:function(_450){var _451=this;_450.build=dojo.hitch(this,this.build);var inst=new usps.widget.StyledDropdownEvents(_451._el,this,_450);USPS.Dropdowns.update(inst);return;},buildLayout:function(){this.draw();var curr=this.build();this.select(curr);if(dojo.attr(this._el,"isPainted")!="true"&&dojo.attr(this._el,"isPainted")!="inProgress"){this.hitchEvents(this);}},unbindSecondaryEvents:function(){if(!this.hasSecondaryEvents){return;}var _454=this;dojo.disconnect(this.events.onchange);dojo.disconnect(this.events.onkeyup);if(dojo.isWebKit){dojo.disconnect(this.events.onkeydown);}dojo.disconnect(this.events.onmouseenter);dojo.disconnect(this.events.onmouseleave);dojo.forEach(dojo.query(".select-frame-inner-border ",_454._container),function(obj,i){dojo.disconnect(_454.events.frame.onmouseenter[i]);dojo.disconnect(_454.events.frame.onmouseleave[i]);});if(this.events.frame.onmouseenter.length>0){this.events.frame.onmouseenter=[];this.events.frame.onmouseleave=[];}dojo.forEach(this._links,function(opt,i){dojo.disconnect(_454.events.options[i]);_454.events.options.splice(0,1);});this.hasSecondaryEvents=false;},resetSelectFlag:function(){this.selectFlag=-1;},select:function(obj){if(this.selectFlag==1){return;}this.timer=setTimeout(dojo.hitch(this,this.resetSelectFlag),250);this.selectFlag=1;var _45a=1;var name=obj.innerHTML;var _45c=dojo.attr(obj,"rel");if(_45c){this.setValue(_45c);}else{this._el.selectedIndex=0;}if(this._validate){if(_45c!=null&&_45c.length>0){dojo.removeClass(this._lbl,"error");}else{dojo.addClass(this._lbl,"error");}}this.setTextValue(name);this.toggle();if(!dojo.attr(this._el,"tabindex")){dojo.attr(this._el,"tabindex","0");}this.close();},setTextValue:function(name){name=dojo.trim(name);if(this._el.settings.shortenName&&name.length>this._el.settings.maxChars&&(name.length-this._el.settings.maxChars>this._el.settings.maxTextCharDiff)){name=name.substring(0,this._el.settings.maxChars)+this._el.settings.elipses;}try{dojo.query(this._el.settings.currTextClass,this._container)[0].innerHTML=name;}catch(e){dojo.place("<span>"+name+"</span>",dojo.query(this._el.settings.currTextClass,this._container)[0],"only");}this.scroll();},scroll:function(){var idx=this.getSelectedIndex();var _45f=this._list.scrollTop;var _460=23*idx;if(_460<_45f){_45f=_460;}else{if(_460>_45f+230-23){_45f=_460-(230-23);}}this._list.scrollTop=_45f;},toggle:function(idx){try{dojo.removeClass(this._links[this._currIndex],"selected");}catch(err){}this._currIndex=this.getSelectedIndex();this._currIndex=(this._currIndex==null||this._currIndex<0)?0:this._currIndex;dojo.addClass(this._links[this._currIndex],"selected");},draw:function(){if(this.hasDimensions){return;}if(this._el.settings.definedWidth==0){var _462=dojo.coords(this._el).w+this._el.settings.widthOffset;if(!_462||_462==0){_462=dojo.style(this._el,"width");}}else{var _462=this._el.settings.definedWidth+this._el.settings.widthOffset;}this._el.settings.dropWidth=!this._el.settings.dropWidth?_462:this._el.settings.dropWidth;if(dojo.isIE==6){dojo.style(this._el,{"width":"10px","height":"10px","left":"-5000px","position":"relative"});}else{if(dojo.isWebKit){dojo.style(this._el,{"opacity":0,"position":"relative"});}else{dojo.style(this._el,{"opacity":0});}}if(dojo.isIE==6){dojo.query("ul",this._container).style({"width":(this._el.settings.dropWidth-3)+"px"});}dojo.query(".select-current",this._container).style({"width":_462+"px"});dojo.style(this._container,{"display":"block"});},close:function(_463){this.setState(-1);if(this.isOpen==true){dojo.publish("STYLED-DROPDOWN-CLOSE",[this._el.id]);}this.isOpen=false;var obj=dojo.query(".select-frame",this._container)[0];if(!obj||obj==null){return;}dojo.style(obj,{"display":"none","zIndex":"0"});if(this._container!=null&&this._container.parentNode!=null){dojo.style(this._container.parentNode,{"zIndex":"1"});}else{dojo.unsubscribe(this.closeSubscription);USPS.Dropdowns.remove(this);return;}if(this._validate==true&&this._lbl!=null){dojo.removeClass(this._lbl,"novalidate");}if(!_463||_463==false){this._el.blur();}this.unbindSecondaryEvents();},build:function(){var _465=this;var curr=null;dojo.forEach(dojo.query("li",_465._list),function(obj,_468){dojo.destroy(obj);});dojo.forEach(dojo.query("option",this._el),function(opt,_46a){var _46b=dojo.attr(opt,"value")||opt.innerHTML;var name=opt.innerHTML;var _46d="";var pos=name.indexOf("[");if(pos!=-1){var _46f=name;name=name.substring(0,pos);_46d="<span class=\"additional-info\">"+_46f.substring(pos+1,_46f.lastIndexOf("]"))+"</span>";}var str="<li"+(opt.disabled==true?" class=\"disabled\"":"")+"><a href=\"#\" rel=\""+_46b+"\""+(_46a==_465._currIndex?" class=\"selected\"":"")+">"+name+_46d+"</a></li>";dojo.place(str,_465._list,"last");if(_46a==_465._el.selectedIndex){curr=opt;}});this._links=dojo.query("a",this._container);return this._links[_465._el.selectedIndex];},setState:function(_471){this._el.settings.state=_471;},getSelectedIndex:function(){return Math.max(this._el.selectedIndex,0);},setSelectedIndex:function(_472,str){this._el.selectedIndex=_472;this.setTextValue(str?str:this._el.options[_472].innerHTML);this.toggle(_472);},setValue:function(_474){var _475=-1;dojo.forEach(this._el.options,function(_opt,_477){if(_opt.value==_474){_475=_477;}});if(_475>-1){this.setSelectedIndex(_475,this._el.options[_475].innerHTML);}return (_475>-1);}});}
