/* jquery.watermark.min.js */
/*
	Watermark v3.0.4 (January 14, 2010) plugin for jQuery
	http://jquery-watermark.googlecode.com/
	Copyright (c) 2009-2010 Todd Northrop
	http://www.speednet.biz/
	Licensed under GPL 3, see  <http://www.gnu.org/licenses/>
*/
(function(a){var k="function",i="password",c="maxLength",e="type",b=true,d=false,s="watermark",t,m=s,h="watermarkClass",p="watermarkFocus",j="watermarkSubmit",l="watermarkMaxLength",g="watermarkPassword",f="watermarkText",r=":data("+m+")",n=":text,:password,:search,textarea",o=["Page_ClientValidate"],q=d;a.extend(a.expr[":"],{search:function(a){return "search"===a.type},data:function(f,h,g){var e,c=/^((?:[^=!^$*]|[!^$*](?!=))+)(?:([!^$*]?=)(.*))?$/.exec(g[3]);if(c){e=a(f).data(c[1]);if(e!==t){if(c[2]){e=""+e;switch(c[2]){case "=":return e==c[3];case "!=":return e!=c[3];case "^=":return e.slice(0,c[3].length)==c[3];case "$=":return e.slice(-c[3].length)==c[3];case "*=":return e.indexOf(c[3])!==-1}}return b}}return d}});a.watermark={version:"3.0.4",options:{className:s,useNative:b},hide:function(b){a(b).filter(r).each(function(){a.watermark._hide(a(this))})},_hide:function(a,i){if(a.val()==a.data(f)){a.val("");if(a.data(g))if(a.attr(e)==="text"){var d=a.data(g),b=a.parent();b[0].removeChild(a[0]);b[0].appendChild(d[0]);a=d}if(a.data(l)){a.attr(c,a.data(l));a.removeData(l)}if(i){a.attr("autocomplete","off");window.setTimeout(function(){a.select()},0)}}a.removeClass(a.data(h))},show:function(b){a(b).filter(r).each(function(){a.watermark._show(a(this))})},_show:function(d){var r=d.val(),j=d.data(f),m=d.attr(e);if((r.length==0||r==j)&&!d.data(p)){q=b;if(d.data(g))if(m===i){var o=d.data(g),n=d.parent();n[0].removeChild(d[0]);n[0].appendChild(o[0]);d=o;d.attr(c,j.length)}if(m==="text"||m==="search"){var k=d.attr(c);if(k>0&&j.length>k){d.data(l,k);d.attr(c,j.length)}}d.addClass(d.data(h));d.val(j)}else a.watermark._hide(d)},hideAll:function(){if(q){a.watermark.hide(n);q=d}},showAll:function(){a.watermark.show(n)}};a.fn.watermark=function(q,l){var o="string",s=typeof q===o,r;if(typeof l==="object"){r=typeof l.className===o;l=a.extend({},a.watermark.options,l)}else if(typeof l===o){r=b;l=a.extend({},a.watermark.options,{className:l})}else l=a.watermark.options;if(typeof l.useNative!==k)l.useNative=l.useNative?function(){return b}:function(){return d};return this.each(function(){var u="dragleave",t="dragenter",w=this,d=a(w);if(!d.is(n))return;if(d.data(m)){if(s||r){a.watermark._hide(d);s&&d.data(f,q);r&&d.data(h,l.className)}}else{if(l.useNative.call(w,d))if((""+d.css("-webkit-appearance")).replace("undefined","")!==""&&d.attr("tagName")!=="TEXTAREA"){s&&d.attr("placeholder",q);return}d.data(f,s?q:"");d.data(h,l.className);d.data(m,1);if(d.attr(e)===i){var x=d.wrap("<span>").parent(),k=a(x.html().replace(/type=["']?password["']?/i,'type="text"'));k.data(f,d.data(f));k.data(h,d.data(h));k.data(m,1);k.attr(c,q.length);k.focus(function(){a.watermark._hide(k,b)}).bind(t,function(){a.watermark._hide(k)}).bind("dragend",function(){window.setTimeout(function(){k.blur()},1)});d.blur(function(){a.watermark._show(d)}).bind(u,function(){a.watermark._show(d)});k.data(g,d);d.data(g,k)}else d.focus(function(){d.data(p,1);a.watermark._hide(d,b)}).blur(function(){d.data(p,0);a.watermark._show(d)}).bind(t,function(){a.watermark._hide(d)}).bind(u,function(){a.watermark._show(d)}).bind("dragend",function(){window.setTimeout(function(){a.watermark._show(d)},1)}).bind("drop",function(b){var a=b.originalEvent.dataTransfer.getData("Text");d.val().replace(a,"")===d.data(f)&&d.val(a);d.focus()});if(w.form){var o=w.form,v=a(o);if(!v.data(j)){v.submit(a.watermark.hideAll);if(o.submit){v.data(j,o.submit);o.submit=function(c,b){return function(){var d=b.data(j);a.watermark.hideAll();if(d.apply)d.apply(c,Array.prototype.slice.call(arguments));else d()}}(o,v)}else{v.data(j,1);o.submit=function(b){return function(){a.watermark.hideAll();delete b.submit;b.submit()}}(o)}}}}a.watermark._show(d)}).end()};o.length&&a(function(){for(var b,c,d=o.length-1;d>=0;d--){b=o[d];c=window[b];if(typeof c===k)window[b]=function(b){return function(){a.watermark.hideAll();b.apply(null,Array.prototype.slice.call(arguments))}}(c)}})})(jQuery);
/* jquery.loadmask.min.js */
"use strict";(function(a){a.fn.mask=function(c,b){a(this).each(function(){if(b!==undefined&&b>0){var d=a(this);d.data("_mask_timeout",setTimeout(function(){a.maskElement(d,c)},b))}else{a.maskElement(a(this),c)}})};a.fn.unmask=function(){a(this).each(function(){a.unmaskElement(a(this))})};a.fn.isMasked=function(){return this.hasClass("masked")};a.maskElement=function(d,c){var e,b;if(d.data("_mask_timeout")!==undefined){clearTimeout(d.data("_mask_timeout"));d.removeData("_mask_timeout")}if(d.isMasked()){a.unmaskElement(d)}if(d.css("position")==="static"){d.addClass("masked-relative")}d.addClass("masked");e=a('<div class="loadmask"></div>');if(navigator.userAgent.toLowerCase().indexOf("msie")>-1){e.height(d.height()+parseInt(d.css("padding-top"),10)+parseInt(d.css("padding-bottom"),10));e.width(d.width()+parseInt(d.css("padding-left"),10)+parseInt(d.css("padding-right"),10))}if(navigator.userAgent.toLowerCase().indexOf("msie 6")>-1){d.find("select").addClass("masked-hidden")}d.append(e);if(c!==undefined){b=a('<div class="loadmask-msg" style="display:none;"></div>');b.append("<div>"+c+"</div>");d.append(b);b.css("top",Math.round(d.height()/2-(b.height()-parseInt(b.css("padding-top"),10)-parseInt(b.css("padding-bottom"),10))/2)+"px");b.css("left",Math.round(d.width()/2-(b.width()-parseInt(b.css("padding-left"),10)-parseInt(b.css("padding-right"),10))/2)+"px");b.show()}};a.unmaskElement=function(b){if(b.data("_mask_timeout")!==undefined){clearTimeout(b.data("_mask_timeout"));b.removeData("_mask_timeout")}b.find(".loadmask-msg,.loadmask").remove();b.removeClass("masked");b.removeClass("masked-relative");b.find("select").removeClass("masked-hidden")}}(jQuery));
/* queryStringHelper.min.js */
"use strict";(function(a){a.queryString=(function(d){var e,f,c={};if(d===""){return{}}for(e=0;e<d.length;e+=1){f=d[e].split("=");if(f.length===2){c[f[0]]=decodeURIComponent(f[1].replace(/\+/g," "))}}return c}(window.location.search.substr(1).split("&")))}(jQuery));
/* jquery.marquee.stp.min.js */
"use strict";jQuery.fn.marquee=function(a,c,j){var g,i,d=0,h=0,b=$(this).height(),e=b+5;function f(){h=(d+1)%g;$("div.headline:eq("+d+")").animate({top:-1*b},c,function(){$(this).css("top",e+"px")});$("div.headline:eq("+h+")").animate({top:0},c);d=h}g=$("div.headline").size();$("div.headline:eq("+h+")").css("top","0");i=setInterval(f,a);$(this).hover(function(){clearInterval(i)},function(){i=setInterval(f,a)})};
/* sitewide.min.js */
"use strict";jQuery.extend({selectorEscape:function(a){if(String===a.constructor){return a.replace("\\","\\\\").replace("#","\\#").replace(";","\\;").replace("&","\\&").replace(",","\\,").replace(".","\\.").replace("+","\\+").replace("*","\\*").replace("~","\\~").replace("'","\\'").replace(":","\\:").replace('"','\\"').replace("!","\\!").replace("^","\\^").replace("$","\\$").replace("[","\\[").replace("]","\\]").replace("(","\\(").replace(")","\\)").replace("=","\\=").replace(">","\\>").replace("|","\\|").replace("/","\\/").replace("%","\\%")}}});(function(a){a.queryString=(function(d){var e,f,c={};if(d===""){return{}}for(e=0;e<d.length;e+=1){f=d[e].split("=");if(f.length===2){c[f[0]]=decodeURIComponent(f[1].replace(/\+/g," "))}}return c}(window.location.search.substr(1).split("&")))}(jQuery));RegExp.escape=function(b){var a=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");return b.replace(a,"\\$&")};var serviceMenuShowHide=(function(){function a(e,f,c,d){clearTimeout(d.timeout);c.timeout=setTimeout(function(){$("#"+f).slideDown("normal");$("#"+e).addClass("hover");$("#"+e).css("position","relative");if("loginWidget"===f){$("#loginWidgetUsername").focus()}},258)}function b(e,f,c,d){clearTimeout(c.timeout);d.timeout=setTimeout(function(){$("#"+f).slideUp("normal",function(){$("#"+e).removeClass("hover");$("#"+e).css("position","")})},400)}return{show:a,hide:b}}());function setupServiceMenuShowHide(c,d){var a,b;a={timeout:""};b={timeout:""};$("#"+d).mouseover(function(){serviceMenuShowHide.show(c,d,a,b)});$("#"+c).mouseover(function(){serviceMenuShowHide.show(c,d,a,b)});$("#"+d).mouseout(function(){serviceMenuShowHide.hide(c,d,a,b)});$("#"+c).mouseout(function(){serviceMenuShowHide.hide(c,d,a,b)})}function setupCartPreview(){if(""===$("#cartPreview").html()||jQuery.trim($("#cartBtn").html())!=="0"){$("#cartPreview").html(stpTools.AjaxLoadingHtml());$("#cartPreview").load("/ajax/cartpreview/",function(){$(".cartSubTotalDisplay").HTML=" "+$("#cartPreviewSubTotalContainer .subTotal .ourPrice").html()+" ";$(".localizationLink").fancybox()})}}function updateCartInfo(){return $.getJSON("/ajax/updateCartInfo",function(a){$("#cartBtn").text(a.CartInfo.Count);if(parseInt(a.CartInfo.Count,10)>0){$("#cartBtn").addClass("cartBtnActive")}else{$("#cartBtn").removeClass("cartBtnActive")}})}function setupSavedCurrencySelection(){if(""===$("#savedCurrencySelection").html()){if(0<$("#currencySelection").length){$("#currencySelection").html("")}setupServiceMenuShowHide("savedCurrencySelectionLink","savedCurrencySelection");$("#savedCurrencySelection").html(stpTools.AjaxLoadingHtmlPadded());$("#savedCurrencySelection").load("/currencyselection/currencyselection?persisted=true",function(){var a=$("#AddressEditor_SavedCurrency").val();$(".currencyList").find('[data-code="'+a+'"]').addClass("selected")})}}var myUpdatesWidget=(function(){function b(){$("#myUpdatesBody").mask("Loading...");var c="/myupdates/subscriptionsmyupdatesproductlisting";$("#myUpdatesOuterContainer").load(c,$("#addToMyUpdatesForm").serialize(),function(){myUpdatesWidget.setup();if($("#addToMyUpdatesForm #imageRow div #Email").is(":visible")){validation.applyValidation("/myupdates/WidgetEmailSignUpValidateProperty/","#addToMyUpdatesForm")}})}function a(){$("#Email").watermark("your email address");$("#Email").keydown(function(d){var c=d.charCode?d.charCode:d.keyCode?d.keyCode:0;if(c===13){d.preventDefault();$("#addToMyUpdates").click()}});$("#addToMyUpdates").click(function(c){if($("#OriginalEmail").val()!==""&&$("#Email").val()!==$("#OriginalEmail").val()){if(!confirm("Are you sure you want to change your subscription email from "+$("#OriginalEmail").val()+" to "+$("#Email").val()+"?")){c.preventDefault();return}}myUpdatesWidget.subscribeToListing();c.preventDefault()})}return{subscribeToListing:b,setup:a}}());var siteWide=(function(){function a(){if($(window).width()<960){$("#headerWrapper").addClass("min")}else{$("#headerWrapper").removeClass("min")}}$(window).resize(function(){a()});$(document).ready(function(){var b=$.queryString.showlocalization==="True";$("#cartBtn").mouseover(function(){setupCartPreview()});$("#savedCurrencySelectionLink").mouseover(function(){setupSavedCurrencySelection()});if($("#addToMyUpdatesForm #imageRow div #Email").is(":visible")){validation.applyValidation("/myupdates/WidgetEmailSignUpValidateProperty/","#addToMyUpdatesForm")}$(".changeCurrencyLink, .showLocalization").click(function(){if(0===$(".localizationLink").length){$.ajax({type:"post",url:"/currencyselection/ShowCurrencySelection",success:function(){if(""===location.search){location.search="showlocalization=True"}else{if(!b){location.search+="&showlocalization=True"}else{if(b){location.reload(true)}}}}})}else{$(".localizationLink").click()}});stpTools.FormatCartHeader();myUpdatesWidget.setup();$("#marquee").marquee(5000,2000);$("#topMenu > li.menuHeader").hover(function(){$("#topMenu > .messages").removeClass("showMessages")});$("#dfEmail").watermark("your email address")})}());function updateLoggedInLink(){if($("#accountNameText").length>0&&$(".logInOutText").length>0){$.ajax({type:"POST",url:"/ajax/updateheaderloginlink/",success:function(a){$("#accountNameText").attr("href",a.loginWidget.LoginOrDashboardUrl);$("#accountNameText").html(a.loginWidget.MyAccountName);$(".logInOutText").attr("href",a.loginWidget.LinkUrl);$(".logInOutText").attr("id",a.loginWidget.LinkId);$(".logInOutText").attr("title",a.loginWidget.LinkTitle);$(".logInOutText").html(a.loginWidget.LinkText)}})}};
/* search.min.js */
"use strict";var incrementalFind=(function(){var f={},a=-1,e=false;function c(h,i,j,g){if(h===$(j).val().toLowerCase()){a=$(i).size();if(a>0){$(g).show()}else{$(g).hide()}$(g+"> div").remove();$.each(i,function(m,l){var k=new RegExp(RegExp.escape(h),"i");$(g).append("<div>"+h+"<b>"+l.replace(k,"")+"</b></div>")});$(g+"> div").click(function(){$(j).val($(this).text());$(j+"Button").click()});$(g+"> div").mouseover(function(){$(this).addClass("incrementalFindHighlight")});$(g+"> div").mouseout(function(){$(this).removeClass("incrementalFindHighlight")})}}function d(h,i,g){$.getJSON("/ajax/incrementalfind/",{searchTerm:h},function(j){f[h]=j.Keywords;c(h,j.Keywords,i,g)})}function b(k,g){var j,i,h;$("form").attr("autocomplete","off");$(k).attr("autocomplete","off");j=a;i=$(g+"> div:eq("+j+")");$(k).keyup(function(l){if(l.keyCode===38||l.keyCode===40){$(i).toggleClass("incrementalFindHighlight");if(l.keyCode===40){j+=1}else{j-=1}if(j>=a){j=0}else{if(j<0){j=a-1}}i=$(g+"> div:eq("+j+")");$(i).toggleClass("incrementalFindHighlight");$(k).val($(i).text())}else{if(l.keyCode!==13&&l.keyCode!==37&&l.keyCode!==39&&$(k).val().length>=3){h=$(k).val().toLowerCase();if(e){clearTimeout(e)}j=-1;if(f[h]){c(h,f[h],k,g)}else{e=setTimeout(function(){d(h,k,g)},200)}}else{$(g+"> div").remove();$(g).hide()}}})}return{incrementalFindSetup:b}}());var incrementalFindContainerShowHide=(function(){function a(c,d){clearTimeout(d.timeout)}function b(c,d){d.timeout=setTimeout(function(){$(c).hide()},500)}return{show:a,hide:b}}());var search=(function(){var a="Search";$(document).ready(function(){if(undefined!==$("#searchedOnTerm").val()){$("input.searchBox").val($("#searchedOnTerm").text())}else{$("input.searchBox").watermark(a)}$("form.searchForm").submit(function(d){var c=$("input.searchBox",this).val();if(c===""){d.preventDefault()}});var b;b={timeout:""};$("input.searchBox").focusin(function(){incrementalFindContainerShowHide.show("div.incrementalFindContainer",b)});$("input.searchBox").focusout(function(){incrementalFindContainerShowHide.hide("div.incrementalFindContainer",b)});incrementalFind.incrementalFindSetup("input.searchBox","div.incrementalFindContainer")})}());
/* chat.min.js */
"use strict";var chat=(function(){$(document).ready(function(){$("a.chatLink").click(function(a){window.open("http://sales.liveperson.net/hc/23967041/?cmd=file&file=visitorWantsToChat&site=23967041&SV!skill="+($("body").attr("id")==="derailed"?"Derailed-":"")+"sales-english&referrer="+escape(document.location),"chat23967041","width=472,height=320");a.preventDefault()})})}());
