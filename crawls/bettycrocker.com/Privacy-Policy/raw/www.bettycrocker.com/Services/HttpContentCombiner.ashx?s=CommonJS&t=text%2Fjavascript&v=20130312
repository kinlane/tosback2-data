function popUp(e,c,b){var i=660,h=480,f=(screen.width-i)/2,g=(screen.height-h)/2,a=b+",top="+g+",left="+f,d=window.open(e,c,a);d.focus()}function showDiv(a){var b;if(document.getElementById&&document.getElementById(a)!=null)b=document.getElementById(a);else if(document.all&&document.all[a]!=null)b=document.all[a];else if(document.layers&&document.layers[a]!=null)b=document.layers[a];if(b!=null)b.style.display="block"}function hideDiv(a){var b;if(document.getElementById&&document.getElementById(a)!=null)b=document.getElementById(a);else if(document.all&&document.all[a]!=null)b=document.all[a];else if(document.layers&&document.layers[a]!=null)b=document.layers[a];if(b!=null)b.style.display="none"}function onImgErrorSmall(a){a.src="/images/Temporary/recipe-defaultthumb.jpg";a.onerror="";return true}function onImgErrorLarge(a){a.src="/images/Temporary/recipe-defaultbeautyshot.jpg";a.onerror="";return true}function WatermarkFocus(a,b){if(a.value==b)a.value=""}function WatermarkBlur(a,b){if(a.value=="")a.value=b}function setCookie(e,d,c){var a;if(c){var b=new Date;b.setTime(b.getTime()+c*24*60*60*1e3);a="; expires="+b.toGMTString()}else a="";document.cookie=e+"="+d+a+"; path=/"}function readCookie(e){for(var c=e+"=",a,d=document.cookie.split(";"),b=0;b<d.length;b++){a=d[b];while(a.charAt(0)==" ")a=a.substring(1,a.length);if(a.indexOf(c)==0)return a.substring(c.length,a.length)}return null}function FireOnSearchSpotLightTag(){var a=Math.random()+"",b=a*1e13;document.getElementById("SearchSpotLightTagContainer").innerHTML='<IFRAME SRC="http://fls.doubleclick.net/activityi;src=1869704;type=betty077;cat=searc844;ord=1;num='+b+'?" WIDTH=1 HEIGHT=1 FRAMEBORDER=0></IFRAME>';fireMarin("search_bc")}function FireSearchTemplateClick(e,b,f,a){var d=true;if(f.length>0&&typeof Page_ClientValidate=="function")if(Page_ClientValidate(f)==false)d=false;var c=jQuery(b).val();if(c=="Please Wait...")d=false;if(d){ApplyUnicaEventTag("ev=search_BT&sitekeyword="+c.toLowerCase()+"&ActionType=Search");jQuery(e).removeAttr("href");jQuery(e).removeAttr("onclick");jQuery(e).attr("disabled",true);jQuery(b).attr("disabled",true);jQuery(b).css("background-color","#eaeaea");jQuery(b).attr("value","Please Wait...");FireSearchLogging(c,"",true,true,false);var g=readCookie("searchresulttype");if(g!=null){var h=new RegExp("st=[6-7]");a=a.replace(h,"st="+g)}a=a.replace("{0}",c);window.location.href=a}}function FireSearchLogging(g,a,b,d,f){var e="/Services/Search.asmx/Log",c="{'searchTerm':'"+g+"','navigationValue':'"+a+"','logWebActivity':'"+b+"','logSearch':'"+d+"'}";jQuery.ajax({type:"POST",url:e,data:c,async:f,cache:false,timeout:3e4,contentType:"application/json; charset=utf-8",dataType:"json",success:function(){return true},error:function(){return false}})}function ParseAutoCompleteResults(d){for(var b=d[1],c=[],a=0;a<b.length;a++)c[a]={data:[b[a]],value:b[a],result:[b[a]]};return c}function divExists(b){var a=false;if(document.getElementById&&document.getElementById(b)!=null)a=true;else if(document.all&&document.all[b]!=null)a=true;else if(document.layers&&document.layers[b]!=null)a=true;return a}var imagePopup="";function opneImagePopup(a){if(imagePopup.location&&!imagePopup.closed){imagePopup.location.href=a;imagePopup.focus()}else imagePopup=window.open(a,"htmlname","width=800,height=500,resizable=1")}function IsIE6(){var a=false;jQuery.each(jQuery.browser,function(b){if(b=="msie"&&jQuery.browser.version.substr(0,1)=="6")a=true});return a}function IsIE7(){var a=false;jQuery.each(jQuery.browser,function(b){if(b=="msie"&&jQuery.browser.version.substr(0,1)=="7")a=true});return a}function IsIE(){var a=false;jQuery.each(jQuery.browser,function(b){if(b=="msie")a=true});return a}function IsIE(){var a=false;jQuery.each(jQuery.browser,function(b){if(b=="msie")a=true});return a}jQuery(document).ready(function(){initHover()});function initHover(){jQuery("body").append("<div id='navArrow'></div>");function c(){jQuery("li.mega").removeClass("hovering");jQuery(this).addClass("hovering")}function b(){jQuery(this).removeClass("hovering")}var a={interval:100,sensitivity:6,over:c,timeout:500,out:b};jQuery.hoverIntent&&jQuery("li.mega").hoverIntent(a)}function OpenDialog(a){var b=jQuery("#"+a).dialog("open");b.parent().appendTo(jQuery("form:first"))}function OpenVariableDialog(a){OpenDialog(a);jQuery(".VariableWidth").css("overflow","visible").addClass("VariableWidth-ui-dialog")}function autoOpenFixForASPNet(a){jQuery(document).ready(function(){jQuery("#"+a).parent().appendTo(jQuery("form:first"))})}function autoOpenFixForASPNetVariable(a){jQuery(document).ready(function(){jQuery("#"+a).parent().appendTo(jQuery("form:first"));jQuery(".VariableWidth").css("overflow","visible").addClass("VariableWidth-ui-dialog")})}function CloseDialog(a,b){jQuery("#"+a).dialog("close");if(b){jQuery("#"+a+" input").val("");jQuery("#"+a+" textarea").val("")}}function shareSite(a){a=a.replace("THISURL",escape(document.location));window.open(a,"winShare","scrollbars=1,toolbar=0,width=800,height=600");return}function shareFacebook(d,c){var h=Math.random()+"",i=h*1e13;document.getElementById("Iframe").innerHTML='<IFRAME SRC="http://fls.doubleclick.net/activityi;src=1869704;type=betty077;cat=email720;ord=1;num='+i+'?" WIDTH=1 HEIGHT=1 FRAMEBORDER=0></IFRAME>';var f,b,g="http://www.facebook.com/share",j=encodeURIComponent,a;if(c===""){f=document;b=f.location;a=".php?src=bm&v=3&u="+j(b.href)+"&t="+d}else a=".php?src=bm&v=3&u="+c+"&t="+d;var e=function(){if(!window.open(g+"r"+a,"sharer","toolbar=0, status=0, resizable=0, width=626, height=436"))b.href=g+a};if(/Firefox/.test(navigator.userAgent))setTimeout(e,0);else e();void 0}var timer,clonedItem,cloned=false;function hidePopup(){timer=setTimeout(function(){jQuery(".share_panel_container").hide();cloned&&jQuery(clonedItem).remove()},500)}jQuery(document).ready(function(){initUtilityLinks()});function initUtilityLinks(){var a=false;jQuery.each(jQuery.browser,function(b){if(b=="msie"&&jQuery.browser.version.substr(0,1)=="6")a=true});var b=jQuery(".utility_links_recipe2").offset();jQuery(".share").hover(function(){timer&&clearTimeout(timer);var c=jQuery(this).position(),f,d=jQuery(this).parents(".utility_links").next(".share_panel_container");if(a){jQuery(d).clone(true).appendTo("#mainform");cloned=true;clonedItem=jQuery("#mainform").find(".share_panel_container:last");jQuery(clonedItem).show();if(jQuery(clonedItem).hasClass("recipe_share1"))jQuery(clonedItem).css("left",c.left-42).css("top",c.top+40);else jQuery(clonedItem).css("left",c.left-56).css("top",c.top+20)}else{if(jQuery(d).hasClass("recipe_share1")){var e=jQuery(".utility_links_recipe2");if(e.length>0&&e.hasClass("fixed")){var g=e.offset();f=g.top-b.top;jQuery(d).css("top",c.top+45+f).css("left",c.left-42)}else jQuery(d).css("top",c.top+45).css("left",c.left-42);ConsoleLog("if")}else{ConsoleLog("else");jQuery(d).css("left",c.left-56).css("top",c.top+20)}jQuery(d).show()}},function(){hidePopup()});jQuery(".share_panel_container").hover(function(){timer&&clearTimeout(timer)},function(){hidePopup()})}function OpenPopup(e,c,b){var i=660,h=480,f=(screen.width-i)/2,g=(screen.height-h)/2,a=b+",top="+g+",left="+f,d=window.open(e,c,a);d.focus()}function LoginRecipeBox(){ShowLogin("We'd love to save this recipe for you, but first you must log in or create a new account.",recipeBoxAction,15975,"SaveRecipe")}function LoginGroceryList(){ShowLogin("We'd love to add these ingredients to your grocery list, but first you must log in or create a new account.",groceryListAction,15840,"GroceryList")}function ShowLogin(c,d,a,b){if(b)openLogin(a,c,null,null,b);else openLogin(a,c);jQuery("#"+loginActionHiddenId).val(d)}function validDate(d){var a,h=/^\d{1,2}\/\d{1,2}\/\d{4}$/;if(h.test(d)){var b=d.split("/"),g=parseInt(b[0],10),f=parseInt(b[1],10),e=parseInt(b[2],10),c=new Date(e,g-1,f);if(c.getFullYear()==e&&c.getMonth()==g-1&&c.getDate()==f)a=true;else a=false}else a=false;return a}function checkAge(c,f,e){var b=18,d=new Date,a=new Date(parseInt(e)+b,parseInt(c)-1,parseInt(f));return d.getTime()-a.getTime()<0?false:true}function ModalLoginClose(){jQuery("#"+loginDialogId+" input").not("input[type='hidden']").val("");jQuery("#"+loginDialogId+" input").removeClass("invalid_text");jQuery(".modal_login_validation_summary").hide()}function ShowFirstPage(){jQuery(".modal_login_pages").hide();jQuery(".modal_login_pages:first").show();jQuery("#"+loginDialogId).dialog("option","width",900);jQuery("#"+loginDialogId).dialog("option","position","center");jQuery.watermark.show(".modal_login input");jQuery("#"+loginDialogId).addClass("LoginModalStyle")}function ShowNextPage(a){jQuery(".modal_login_pages").hide();jQuery("#"+a).parents(".modal_login_pages").next(".modal_login_pages").show();jQuery("#"+loginDialogId).dialog("option","width",465);jQuery("#"+loginDialogId).dialog("option","position","center");jQuery("#"+loginDialogId).removeClass("LoginModalStyle")}function showValidationErrors(a){jQuery.each(Page_Validators,function(b){Page_Validators[b].validationGroup==a&&!Page_Validators[b].isvalid&&jQuery("#"+Page_Validators[b].controltovalidate).addClass("invalid_text")})}function registration_validate(a,g){var b;if(typeof Page_ClientValidate=="function")b=Page_ClientValidate(a);jQuery("#BirthdateError").remove();if(a=="ModalRegistrationPage1"){var e=jQuery("#BirthdayYear").val(),d=jQuery("#BirthdayMonth").val(),f=jQuery("#BirthdayDay").val(),h=d+"/"+f+"/"+e,c=validDate(h);if(!c)b=false;else if(!checkAge(d,f,e)){jQuery(".modal_login_pages").hide();jQuery("#AgeMessage").show();return}}if(b){ShowNextPage(a);trackModalRegistrationStep(g)}showValidationErrors(a);if(!c){jQuery("#BirthdayMonth").addClass("invalid_text");jQuery("#BirthdayDay").addClass("invalid_text");jQuery("#BirthdayYear").addClass("invalid_text");jQuery("#"+ValidationSummary1).show();if(jQuery("#"+ValidationSummary1+" ul").length==0)jQuery("#"+ValidationSummary1).append("<ul><li id='BirthdateError'>Oops! Please double-check your birth date.</li></ul>");else jQuery("#"+ValidationSummary1+" ul").append("<li id='BirthdateError'>Oops! Please double-check your birth date.</li>")}else{jQuery("#BirthdayMonth").removeClass("invalid_text");jQuery("#BirthdayDay").removeClass("invalid_text");jQuery("#BirthdayYear").removeClass("invalid_text")}}function SendSecureRegistration(b,c){var a;document.forms[0].action=modalRegistrationUrl;jQuery(".left_container input").removeClass("invalid_text");if(typeof Page_ClientValidate=="function")a=Page_ClientValidate(b);if(a){trackModalRegistrationStep(c);document.forms[0].submit()}else showValidationErrors(b)}function SendSecureSubscription(){if(jQuery("#modal_newsletters input:checked").length>0){document.forms[0].action=modalSubscriptionUrl;document.forms[0].submit()}else if(registrationRedirectUrl!="")document.location=registrationRedirectUrl;else closeConfirmation()}jQuery(document).ready(function(){if(jQuery().watermark){jQuery("#BirthdayMonth").watermark("mm",{className:"modal_login_watermark"});jQuery("#BirthdayDay").watermark("dd",{className:"modal_login_watermark"});jQuery("#BirthdayYear").watermark("yyyy",{className:"modal_login_watermark"})}jQuery("div.modal_login_pages").keydown(function(a){if(a.which==13){a.preventDefault();jQuery('input[type="image"]',this).not("#SignUpLink").click()}});jQuery("div.modal_login_pages input[type='image'],#modal_newsletters input[type='image']").click(function(a){a.preventDefault();switch(this.id){case"SendSecureSubscription":SendSecureSubscription();trackModalRegistrationStep(5);break;case"SignUpLink":trackModalRegistrationStep(1);ShowNextPage(this.id);break;case"ModalLogin":SendSecureLogin(this.id);break;case"ModalRegistrationPage1":registration_validate(this.id,2);break;case"ModalRegistrationPage2":registration_validate(this.id,3);break;case"ModalRegistrationPage3":SendSecureRegistration(this.id,4)}})});function SubmitToFacebook(a,b){FB.api("/me/feed","post",{message:a,link:b},function(a){!a||a.error})}function ConsoleLog(a){typeof console!="undefined"&&console.log(a)}function parseUri(d){var a=parseUri.options,e=a.parser[a.strictMode?"strict":"loose"].exec(d),b={},c=14;while(c--)b[a.key[c]]=e[c]||"";b[a.q.name]={};b[a.key[12]].replace(a.q.parser,function(e,c,d){if(c)b[a.q.name][c]=d});return b}parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function getSubscriptions(){jQuery.ajax({type:"POST",url:"/Services/Registration.asmx/GetSubscriptions",contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){jQuery(".newsletter h5").after(jQuery("#SubscriptionTemplate").tmpl(a.d));jQuery(".newsletter input:checkbox").click(function(){var a=jQuery(this),b=a.attr("checked")==true;processSubscription(a.next().text(),b,this)})}})}function processSubscription(d,b,a){var c=2e3;if(a)a.disabled=true;jQuery.ajax({type:"POST",url:"/Services/Registration.asmx/ProcessSubscription",contentType:"application/json; charset=utf-8",data:"{NewsletterName: '"+d+"', Subscribed: "+b+"}",dataType:"json",success:function(g){var e;if(g)if(b)e="Subscribed";else e="Unsubscribed";else return;var d=jQuery(a).next(),f=d.css("font-weight"),h=d.text();d.css("font-weight","bold").text(e);setTimeout(function(){d.text(h).css("font-weight",f)},c)},complete:function(){a&&setTimeout(function(){a.disabled=false},c)}})}var DefaultThreadCount="10",defaultDisplayPanel="NewestRecipes";function ChangeContentPanel(b){var a=jQuery(b).val();jQuery("#"+defaultDisplayPanel).hide();jQuery("#"+a).show();defaultDisplayPanel=a;switch(defaultDisplayPanel){case"TopSearches":mostPopularContent("MostPopularContent.asmx/GetTopSearchesPanel");break;case"ActiveThreads":mostPopularContent("MostPopularContent.asmx/GetActiveThreadsPanel");break;case"ViewedRecipes":mostPopularContent("MostPopularContent.asmx/GetMostViewedRecipesPanel");break;case"SavedRecipes":mostPopularContent("MostPopularContent.asmx/GetMostSavedRecipesPanel");break;case"NewestRecipes":mostPopularContent("LatestContent.asmx/GetNewestRecipesPanel");break;case"NewestArticles":mostPopularContent("LatestContent.asmx/GetNewestArticlesPanel");break;case"NewestPromotions":mostPopularContent("LatestContent.asmx/GetNewestPromotionsPanel");break;case"NewestCoupons":mostPopularContent("LatestContent.asmx/GetNewestCouponsPanel");break;default:jQuery("#"+defaultDisplayPanel).html("No results")}}function mostPopularContent(a){jQuery.ajax({type:"POST",url:"/layouts/content/"+a,contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){jQuery("#"+defaultDisplayPanel).html(a.d)}})}function ShowContent(c,d,b,a){ChangeContentPanel("#"+c);jQuery("#linkMostPopular, #linkNewestItems").removeClass("active");jQuery("#"+d).addClass("active");jQuery("#PopularContent, #NewContent").hide();jQuery("#"+b).show();jQuery("#MostPopularLists, #NewestItems").hide();jQuery("#"+a).show()}function initSiteSearchButton(a,d,c,b){jQuery("#siteSearchOptionsButton").click(function(){if(jQuery("#siteSearchButtonOptions").is(":visible"))jQuery("#siteSearchButtonOptions").hide();else jQuery("#siteSearchButtonOptions").show()});jQuery("#siteSearchButtonOptions a").click(function(){jQuery("#siteSearchButtonOptions a").removeClass("current");jQuery(this).addClass("current");if(this.id=="articlesSiteSearchOption")jQuery("#"+a).val(c);else if(this.id=="communitySiteSearchOption")jQuery("#"+a).val(b);else jQuery("#"+a).val(d);jQuery("#siteSearchButtonOptions").hide();return false})}function getPollResults(b,a){jQuery.ajax({type:"POST",url:"/Services/Polls.asmx/GetResults",data:"{itemId: '"+b+"'}",contentType:"application/json; charset=utf-8",dataType:"json",success:function(b){ShowPollResults(b,a)},error:function(){ShowPollError(a)}})}function pollVote(b,c,a){jQuery.ajax({type:"POST",url:"/Services/Polls.asmx/Vote",data:"{itemId: '"+b+"', voteId: '"+c+"'}",contentType:"application/json; charset=utf-8",dataType:"json",success:function(b){ShowPollResults(b,a)},error:function(){ShowPollError(a)}})}function ShowPollResults(b,a){jQuery("#"+a+" .pollQuestion").hide();jQuery("#"+a+" .PollResults table").html(jQuery("#PollResultsTemplate").tmpl(b.d));jQuery("#"+a+"  .PollResults").show()}function ShowPollError(a){jQuery("#"+a+" .pollQuestion").hide();jQuery("#"+a+"  .PollError").show()}function Completer(f,g,c,e,d,a,b){this.submitId=f;this.inputId=g;this.completeOptions=c;this.completeUrls=e;this.waterMarkText=d;this.onFailure=null;this.onSelect=null;if(typeof a!="undefined")this.onFailure=a;if(typeof b!="undefined")this.onSelect=b}Completer.prototype.init=function(){var a=this;jQuery("#"+a.inputId).autocomplete({delay:100,minLength:3,source:a.completeOptions,select:function(d,c){a.onSelect!=null&&a.onSelect();var b=jQuery.inArray(c.item.value,a.completeOptions);if(b!==-1)a.recipeDestination=a.completeUrls[b]}}).keypress(function(b){if(b.keyCode=="13"){b.preventDefault();jQuery("#"+a.submitId).click()}}).watermark(a.waterMarkText).data("autocomplete")._renderItem=function(b,a){a.label=a.label.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+jQuery.ui.autocomplete.escapeRegex(this.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>");return jQuery("<li></li>").data("item.autocomplete",a).append(jQuery("<a></a>").html(a.label)).appendTo(b)};jQuery("#"+a.submitId).click(function(){if(a.recipeDestination!=null)document.location=a.recipeDestination;else a.onFailure!=null&&a.onFailure()})};var abuseEngine={dialogOpen:null,dialogClose:null,init:function(){jQuery("#ReportClick").click(function(){jQuery("#ReportAbuseValidation").hide();var d=jQuery("input[name='abuseoptions']:checked"),f=jQuery("#ReportAbuseOther:checked"),c=jQuery("#ReportAbuseOtherText");if(!d.val()||f.length==1&&c.val()=="")jQuery("#ReportAbuseValidation").show();else{if(f.length==1)abuseEngine.abuseParameters.itemComment=c.val();else abuseEngine.abuseParameters.itemComment=d.parent().text().trim();var e="/Services/RecipeHelper.asmx/ReportAbuse",b="POST",a=JSON.stringify(abuseEngine.abuseParameters);if(abuseEngine.abuseParameters.referrerPage=="SupplementalContent"){e="/Services/SupplementalContentHandler.ashx";b="GET";a={myjson:"["+JSON.stringify(abuseEngine.abuseParameters)+"]"}}jQuery.ajax({type:b,url:e,data:a,contentType:"application/json; charset=utf-8",dataType:"json",success:function(){jQuery("#report_abuse1").hide();jQuery("#report_abuse2").show()},error:function(){jQuery("#ReportAbuseValidation").show()}})}});jQuery(".report_abuse_dialog").keypress(function(a){if(a.keyCode=="13"){a.preventDefault();jQuery("#ReportClick").click()}});jQuery("#ReportAbuseOtherText").click(function(){jQuery("#ReportAbuseOther").attr("checked",true)})},onClose:function(){jQuery("input[name='abuseoptions']").attr("checked",false);jQuery("#report_abuse1").show();jQuery("#report_abuse2").hide()},openReportAbuse:function(c,d,b,a){abuseEngine.dialogOpen();abuseEngine.abuseParameters.itemId=c;abuseEngine.abuseParameters.url=d;abuseEngine.abuseParameters.itemType=b;abuseEngine.abuseParameters.referrerPage=a},abuseParameters:{itemId:null,url:null,itemType:null,itemComment:null,referrerPage:null}};jQuery(document).ready(function(a){a("div.utility_links > ul > li > a.print").click(function(a){a.preventDefault();window.print()})});jQuery(document).ready(function(a){a("#hpContent div.hpFeature, #hpContent div.hpFeatureMobile").click(function(){var b=a(this).data("featureurl");if(b&&a.trim(b)!=="")window.location.href=b})});(function(d){var a,c,b,f=function(){a=d("body > img.bcBackgroundImage");if(a.length>0){c=d(window);b=a.data("factor");if(b!==0){e();c.resize(e)}}},e=function(){var d=c.height(),e=c.width();a.css({width:e,height:e/b});d>a.height()&&a.height(d).width(d*b)};d(document).ready(f)})(jQuery);var globalSettings={deviceType:function(){var a=false;if(typeof Modernizr!=="undefined")a=Modernizr.touch||Modernizr.ie10touch;return jQuery(window).width()<=500&&a?"SMARTPHONE":a?"TABLET":"DESKTOP"}};jQuery.noConflict();/**
* hoverIntent r5 // 2007.03.27 // jQuery 1.1.2+
* <http://cherne.net/brian/resources/jquery.hoverIntent.html>
* 
* @param  f  onMouseOver function || An object with configuration options
* @param  g  onMouseOut function  || Nothing (use configuration options object)
* @author    Brian Cherne <brian@cherne.net>
*/
(function($) { $.fn.hoverIntent = function(f, g) { var cfg = { sensitivity: 7, interval: 100, timeout: 0 }; cfg = $.extend(cfg, g ? { over: f, out: g} : f); var cX, cY, pX, pY; var track = function(ev) { cX = ev.pageX; cY = ev.pageY; }; var compare = function(ev, ob) { ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t); if ((Math.abs(pX - cX) + Math.abs(pY - cY)) < cfg.sensitivity) { $(ob).unbind("mousemove", track); ob.hoverIntent_s = 1; return cfg.over.apply(ob, [ev]); } else { pX = cX; pY = cY; ob.hoverIntent_t = setTimeout(function() { compare(ev, ob); }, cfg.interval); } }; var delay = function(ev, ob) { ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t); ob.hoverIntent_s = 0; return cfg.out.apply(ob, [ev]); }; var handleHover = function(e) { var p = (e.type == "mouseover" ? e.fromElement : e.toElement) || e.relatedTarget; while (p && p != this) { try { p = p.parentNode; } catch (e) { p = this; } } if (p == this) { return false; } var ev = jQuery.extend({}, e); var ob = this; if (ob.hoverIntent_t) { ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t); } if (e.type == "mouseover") { pX = ev.pageX; pY = ev.pageY; $(ob).bind("mousemove", track); if (ob.hoverIntent_s != 1) { ob.hoverIntent_t = setTimeout(function() { compare(ev, ob); }, cfg.interval); } } else { $(ob).unbind("mousemove", track); if (ob.hoverIntent_s == 1) { ob.hoverIntent_t = setTimeout(function() { delay(ev, ob); }, cfg.timeout); } } }; return this.mouseover(handleHover).mouseout(handleHover); }; })(jQuery);/* Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version 2.1.2
 */
(function(a){a.fn.bgiframe=(a.browser.msie&&/msie 6\.0/i.test(navigator.userAgent)?function(d){d=a.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:true,src:"javascript:false;"},d);var c='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+d.src+'"style="display:block;position:absolute;z-index:-1;'+(d.opacity!==false?"filter:Alpha(Opacity='0');":"")+"top:"+(d.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":b(d.top))+";left:"+(d.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":b(d.left))+";width:"+(d.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":b(d.width))+";height:"+(d.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":b(d.height))+';"/>';return this.each(function(){if(a(this).children("iframe.bgiframe").length===0){this.insertBefore(document.createElement(c),this.firstChild)}})}:function(){return this});a.fn.bgIframe=a.fn.bgiframe;function b(c){return c&&c.constructor===Number?c+"px":c}})(jQuery);/*
Watermark v3.1.3 (March 22, 2011) plugin for jQuery
http://jquery-watermark.googlecode.com/
Copyright (c) 2009-2011 Todd Northrop
http://www.speednet.biz/
Dual licensed under the MIT or GPL Version 2 licenses.
*/
(function (a, h, y) { var w = "function", v = "password", j = "maxLength", n = "type", b = "", c = true, u = "placeholder", i = false, t = "watermark", g = t, f = "watermarkClass", q = "watermarkFocus", l = "watermarkSubmit", o = "watermarkMaxLength", e = "watermarkPassword", d = "watermarkText", k = /\r/g, s = "input:data(" + g + "),textarea:data(" + g + ")", m = "input:text,input:password,input[type=search],input:not([type]),textarea", p = ["Page_ClientValidate"], r = i, x = u in document.createElement("input"); a.watermark = a.watermark || { version: "3.1.3", runOnce: c, options: { className: t, useNative: c, hideBeforeUnload: c }, hide: function (b) { a(b).filter(s).each(function () { a.watermark._hide(a(this)) }) }, _hide: function (a, r) { var p = a[0], q = (p.value || b).replace(k, b), l = a.data(d) || b, m = a.data(o) || 0, i = a.data(f); if (l.length && q == l) { p.value = b; if (a.data(e)) if ((a.attr(n) || b) === "text") { var g = a.data(e) || [], c = a.parent() || []; if (g.length && c.length) { c[0].removeChild(a[0]); c[0].appendChild(g[0]); a = g } } if (m) { a.attr(j, m); a.removeData(o) } if (r) { a.attr("autocomplete", "off"); h.setTimeout(function () { a.select() }, 1) } } i && a.removeClass(i) }, show: function (b) { a(b).filter(s).each(function () { a.watermark._show(a(this)) }) }, _show: function (g) { var p = g[0], u = (p.value || b).replace(k, b), h = g.data(d) || b, s = g.attr(n) || b, t = g.data(f); if ((u.length == 0 || u == h) && !g.data(q)) { r = c; if (g.data(e)) if (s === v) { var m = g.data(e) || [], l = g.parent() || []; if (m.length && l.length) { l[0].removeChild(g[0]); l[0].appendChild(m[0]); g = m; g.attr(j, h.length); p = g[0] } } if (s === "text" || s === "search") { var i = g.attr(j) || 0; if (i > 0 && h.length > i) { g.data(o, i); g.attr(j, h.length) } } t && g.addClass(t); p.value = h } else a.watermark._hide(g) }, hideAll: function () { if (r) { a.watermark.hide(m); r = i } }, showAll: function () { a.watermark.show(m) } }; a.fn.watermark = a.fn.watermark || function (p, o) { var t = "string"; if (!this.length) return this; var s = i, r = typeof p === t; if (r) p = p.replace(k, b); if (typeof o === "object") { s = typeof o.className === t; o = a.extend({}, a.watermark.options, o) } else if (typeof o === t) { s = c; o = a.extend({}, a.watermark.options, { className: o }) } else o = a.watermark.options; if (typeof o.useNative !== w) o.useNative = o.useNative ? function () { return c } : function () { return i }; return this.each(function () { var B = "dragleave", A = "dragenter", z = this, i = a(z); if (!i.is(m)) return; if (i.data(g)) { if (r || s) { a.watermark._hide(i); r && i.data(d, p); s && i.data(f, o.className) } } else { if (x && o.useNative.call(z, i) && (i.attr("tagName") || b) !== "TEXTAREA") { r && i.attr(u, p); return } i.data(d, r ? p : b); i.data(f, o.className); i.data(g, 1); if ((i.attr(n) || b) === v) { var C = i.wrap("<span>").parent(), t = a(C.html().replace(/type=["']?password["']?/i, 'type="text"')); t.data(d, i.data(d)); t.data(f, i.data(f)); t.data(g, 1); t.attr(j, p.length); t.focus(function () { a.watermark._hide(t, c) }).bind(A, function () { a.watermark._hide(t) }).bind("dragend", function () { h.setTimeout(function () { t.blur() }, 1) }); i.blur(function () { a.watermark._show(i) }).bind(B, function () { a.watermark._show(i) }); t.data(e, i); i.data(e, t) } else i.focus(function () { i.data(q, 1); a.watermark._hide(i, c) }).blur(function () { i.data(q, 0); a.watermark._show(i) }).bind(A, function () { a.watermark._hide(i) }).bind(B, function () { a.watermark._show(i) }).bind("dragend", function () { h.setTimeout(function () { a.watermark._show(i) }, 1) }).bind("drop", function (e) { var c = i[0], a = e.originalEvent.dataTransfer.getData("Text"); if ((c.value || b).replace(k, b).replace(a, b) === i.data(d)) c.value = a; i.focus() }); if (z.form) { var w = z.form, y = a(w); if (!y.data(l)) { y.submit(a.watermark.hideAll); if (w.submit) { y.data(l, w.submit); w.submit = function (c, b) { return function () { var d = b.data(l); a.watermark.hideAll(); if (d.apply) d.apply(c, Array.prototype.slice.call(arguments)); else d() } } (w, y) } else { y.data(l, 1); w.submit = function (b) { return function () { a.watermark.hideAll(); delete b.submit; b.submit() } } (w) } } } } a.watermark._show(i) }) }; if (a.watermark.runOnce) { a.watermark.runOnce = i; a.extend(a.expr[":"], { data: function (c, d, b) { return !!a.data(c, b[3]) } }); (function (c) { a.fn.val = function () { var e = this; if (!e.length) return arguments.length ? e : y; if (!arguments.length) if (e.data(g)) { var f = (e[0].value || b).replace(k, b); return f === (e.data(d) || b) ? b : f } else return c.apply(e, arguments); else { c.apply(e, arguments); a.watermark.show(e); return e } } })(a.fn.val); p.length && a(function () { for (var b, c, d = p.length - 1; d >= 0; d--) { b = p[d]; c = h[b]; if (typeof c === w) h[b] = function (b) { return function () { a.watermark.hideAll(); return b.apply(null, Array.prototype.slice.call(arguments)) } } (c) } }); a(h).bind("beforeunload", function () { a.watermark.options.hideBeforeUnload && a.watermark.hideAll() }) } })(jQuery, window);/*
 * jQuery Cycle Plugin (core engine)
 * Examples and documentation at: http://jquery.malsup.com/cycle/
 * Copyright (c) 2007-2010 M. Alsup
 * Version: 2.88 (08-JUN-2010)
 * Dual licensed under the MIT and GPL licenses.
 * http://jquery.malsup.com/license.html
 * Requires: jQuery v1.2.6 or later
 */
(function($){var ver="2.88";if($.support==undefined){$.support={opacity:!($.browser.msie)};}function debug(s){if($.fn.cycle.debug){log(s);}}function log(){if(window.console&&window.console.log){window.console.log("[cycle] "+Array.prototype.join.call(arguments," "));}}$.fn.cycle=function(options,arg2){var o={s:this.selector,c:this.context};if(this.length===0&&options!="stop"){if(!$.isReady&&o.s){log("DOM not ready, queuing slideshow");$(function(){$(o.s,o.c).cycle(options,arg2);});return this;}log("terminating; zero elements found by selector"+($.isReady?"":" (DOM not ready)"));return this;}return this.each(function(){var opts=handleArguments(this,options,arg2);if(opts===false){return;}opts.updateActivePagerLink=opts.updateActivePagerLink||$.fn.cycle.updateActivePagerLink;if(this.cycleTimeout){clearTimeout(this.cycleTimeout);}this.cycleTimeout=this.cyclePause=0;var $cont=$(this);var $slides=opts.slideExpr?$(opts.slideExpr,this):$cont.children();var els=$slides.get();if(els.length<2){log("terminating; too few slides: "+els.length);return;}var opts2=buildOptions($cont,$slides,els,opts,o);if(opts2===false){return;}var startTime=opts2.continuous?10:getTimeout(els[opts2.currSlide],els[opts2.nextSlide],opts2,!opts2.rev);if(startTime){startTime+=(opts2.delay||0);if(startTime<10){startTime=10;}debug("first timeout: "+startTime);this.cycleTimeout=setTimeout(function(){go(els,opts2,0,(!opts2.rev&&!opts.backwards));},startTime);}});};function handleArguments(cont,options,arg2){if(cont.cycleStop==undefined){cont.cycleStop=0;}if(options===undefined||options===null){options={};}if(options.constructor==String){switch(options){case"destroy":case"stop":var opts=$(cont).data("cycle.opts");if(!opts){return false;}cont.cycleStop++;if(cont.cycleTimeout){clearTimeout(cont.cycleTimeout);}cont.cycleTimeout=0;$(cont).removeData("cycle.opts");if(options=="destroy"){destroy(opts);}return false;case"toggle":cont.cyclePause=(cont.cyclePause===1)?0:1;checkInstantResume(cont.cyclePause,arg2,cont);return false;case"pause":cont.cyclePause=1;return false;case"resume":cont.cyclePause=0;checkInstantResume(false,arg2,cont);return false;case"prev":case"next":var opts=$(cont).data("cycle.opts");if(!opts){log('options not found, "prev/next" ignored');return false;}$.fn.cycle[options](opts);return false;default:options={fx:options};}return options;}else{if(options.constructor==Number){var num=options;options=$(cont).data("cycle.opts");if(!options){log("options not found, can not advance slide");return false;}if(num<0||num>=options.elements.length){log("invalid slide index: "+num);return false;}options.nextSlide=num;if(cont.cycleTimeout){clearTimeout(cont.cycleTimeout);cont.cycleTimeout=0;}if(typeof arg2=="string"){options.oneTimeFx=arg2;}go(options.elements,options,1,num>=options.currSlide);return false;}}return options;function checkInstantResume(isPaused,arg2,cont){if(!isPaused&&arg2===true){var options=$(cont).data("cycle.opts");if(!options){log("options not found, can not resume");return false;}if(cont.cycleTimeout){clearTimeout(cont.cycleTimeout);cont.cycleTimeout=0;}go(options.elements,options,1,(!opts.rev&&!opts.backwards));}}}function removeFilter(el,opts){if(!$.support.opacity&&opts.cleartype&&el.style.filter){try{el.style.removeAttribute("filter");}catch(smother){}}}function destroy(opts){if(opts.next){$(opts.next).unbind(opts.prevNextEvent);}if(opts.prev){$(opts.prev).unbind(opts.prevNextEvent);}if(opts.pager||opts.pagerAnchorBuilder){$.each(opts.pagerAnchors||[],function(){this.unbind().remove();});}opts.pagerAnchors=null;if(opts.destroy){opts.destroy(opts);}}function buildOptions($cont,$slides,els,options,o){var opts=$.extend({},$.fn.cycle.defaults,options||{},$.metadata?$cont.metadata():$.meta?$cont.data():{});if(opts.autostop){opts.countdown=opts.autostopCount||els.length;}var cont=$cont[0];$cont.data("cycle.opts",opts);opts.$cont=$cont;opts.stopCount=cont.cycleStop;opts.elements=els;opts.before=opts.before?[opts.before]:[];opts.after=opts.after?[opts.after]:[];opts.after.unshift(function(){opts.busy=0;});if(!$.support.opacity&&opts.cleartype){opts.after.push(function(){removeFilter(this,opts);});}if(opts.continuous){opts.after.push(function(){go(els,opts,0,(!opts.rev&&!opts.backwards));});}saveOriginalOpts(opts);if(!$.support.opacity&&opts.cleartype&&!opts.cleartypeNoBg){clearTypeFix($slides);}if($cont.css("position")=="static"){$cont.css("position","relative");}if(opts.width){$cont.width(opts.width);}if(opts.height&&opts.height!="auto"){$cont.height(opts.height);}if(opts.startingSlide){opts.startingSlide=parseInt(opts.startingSlide);}else{if(opts.backwards){opts.startingSlide=els.length-1;}}if(opts.random){opts.randomMap=[];for(var i=0;i<els.length;i++){opts.randomMap.push(i);}opts.randomMap.sort(function(a,b){return Math.random()-0.5;});opts.randomIndex=1;opts.startingSlide=opts.randomMap[1];}else{if(opts.startingSlide>=els.length){opts.startingSlide=0;}}opts.currSlide=opts.startingSlide||0;var first=opts.startingSlide;$slides.css({position:"absolute",top:0,left:0}).hide().each(function(i){var z;if(opts.backwards){z=first?i<=first?els.length+(i-first):first-i:els.length-i;}else{z=first?i>=first?els.length-(i-first):first-i:els.length-i;}$(this).css("z-index",z);});$(els[first]).css("opacity",1).show();removeFilter(els[first],opts);if(opts.fit&&opts.width){$slides.width(opts.width);}if(opts.fit&&opts.height&&opts.height!="auto"){$slides.height(opts.height);}var reshape=opts.containerResize&&!$cont.innerHeight();if(reshape){var maxw=0,maxh=0;for(var j=0;j<els.length;j++){var $e=$(els[j]),e=$e[0],w=$e.outerWidth(),h=$e.outerHeight();if(!w){w=e.offsetWidth||e.width||$e.attr("width");}if(!h){h=e.offsetHeight||e.height||$e.attr("height");}maxw=w>maxw?w:maxw;maxh=h>maxh?h:maxh;}if(maxw>0&&maxh>0){$cont.css({width:maxw+"px",height:maxh+"px"});}}if(opts.pause){$cont.hover(function(){this.cyclePause++;},function(){this.cyclePause--;});}if(supportMultiTransitions(opts)===false){return false;}var requeue=false;options.requeueAttempts=options.requeueAttempts||0;$slides.each(function(){var $el=$(this);this.cycleH=(opts.fit&&opts.height)?opts.height:($el.height()||this.offsetHeight||this.height||$el.attr("height")||0);this.cycleW=(opts.fit&&opts.width)?opts.width:($el.width()||this.offsetWidth||this.width||$el.attr("width")||0);if($el.is("img")){var loadingIE=($.browser.msie&&this.cycleW==28&&this.cycleH==30&&!this.complete);var loadingFF=($.browser.mozilla&&this.cycleW==34&&this.cycleH==19&&!this.complete);var loadingOp=($.browser.opera&&((this.cycleW==42&&this.cycleH==19)||(this.cycleW==37&&this.cycleH==17))&&!this.complete);var loadingOther=(this.cycleH==0&&this.cycleW==0&&!this.complete);if(loadingIE||loadingFF||loadingOp||loadingOther){if(o.s&&opts.requeueOnImageNotLoaded&&++options.requeueAttempts<100){log(options.requeueAttempts," - img slide not loaded, requeuing slideshow: ",this.src,this.cycleW,this.cycleH);setTimeout(function(){$(o.s,o.c).cycle(options);},opts.requeueTimeout);requeue=true;return false;}else{log("could not determine size of image: "+this.src,this.cycleW,this.cycleH);}}}return true;});if(requeue){return false;}opts.cssBefore=opts.cssBefore||{};opts.animIn=opts.animIn||{};opts.animOut=opts.animOut||{};$slides.not(":eq("+first+")").css(opts.cssBefore);if(opts.cssFirst){$($slides[first]).css(opts.cssFirst);}if(opts.timeout){opts.timeout=parseInt(opts.timeout);if(opts.speed.constructor==String){opts.speed=$.fx.speeds[opts.speed]||parseInt(opts.speed);}if(!opts.sync){opts.speed=opts.speed/2;}var buffer=opts.fx=="shuffle"?500:250;while((opts.timeout-opts.speed)<buffer){opts.timeout+=opts.speed;}}if(opts.easing){opts.easeIn=opts.easeOut=opts.easing;}if(!opts.speedIn){opts.speedIn=opts.speed;}if(!opts.speedOut){opts.speedOut=opts.speed;}opts.slideCount=els.length;opts.currSlide=opts.lastSlide=first;if(opts.random){if(++opts.randomIndex==els.length){opts.randomIndex=0;}opts.nextSlide=opts.randomMap[opts.randomIndex];}else{if(opts.backwards){opts.nextSlide=opts.startingSlide==0?(els.length-1):opts.startingSlide-1;}else{opts.nextSlide=opts.startingSlide>=(els.length-1)?0:opts.startingSlide+1;}}if(!opts.multiFx){var init=$.fn.cycle.transitions[opts.fx];if($.isFunction(init)){init($cont,$slides,opts);}else{if(opts.fx!="custom"&&!opts.multiFx){log("unknown transition: "+opts.fx,"; slideshow terminating");return false;}}}var e0=$slides[first];if(opts.before.length){opts.before[0].apply(e0,[e0,e0,opts,true]);}if(opts.after.length>1){opts.after[1].apply(e0,[e0,e0,opts,true]);}if(opts.next){$(opts.next).bind(opts.prevNextEvent,function(){return advance(opts,opts.rev?-1:1);});}if(opts.prev){$(opts.prev).bind(opts.prevNextEvent,function(){return advance(opts,opts.rev?1:-1);});}if(opts.pager||opts.pagerAnchorBuilder){buildPager(els,opts);}exposeAddSlide(opts,els);return opts;}function saveOriginalOpts(opts){opts.original={before:[],after:[]};opts.original.cssBefore=$.extend({},opts.cssBefore);opts.original.cssAfter=$.extend({},opts.cssAfter);opts.original.animIn=$.extend({},opts.animIn);opts.original.animOut=$.extend({},opts.animOut);$.each(opts.before,function(){opts.original.before.push(this);});$.each(opts.after,function(){opts.original.after.push(this);});}function supportMultiTransitions(opts){var i,tx,txs=$.fn.cycle.transitions;if(opts.fx.indexOf(",")>0){opts.multiFx=true;opts.fxs=opts.fx.replace(/\s*/g,"").split(",");for(i=0;i<opts.fxs.length;i++){var fx=opts.fxs[i];tx=txs[fx];if(!tx||!txs.hasOwnProperty(fx)||!$.isFunction(tx)){log("discarding unknown transition: ",fx);opts.fxs.splice(i,1);i--;}}if(!opts.fxs.length){log("No valid transitions named; slideshow terminating.");return false;}}else{if(opts.fx=="all"){opts.multiFx=true;opts.fxs=[];for(p in txs){tx=txs[p];if(txs.hasOwnProperty(p)&&$.isFunction(tx)){opts.fxs.push(p);}}}}if(opts.multiFx&&opts.randomizeEffects){var r1=Math.floor(Math.random()*20)+30;for(i=0;i<r1;i++){var r2=Math.floor(Math.random()*opts.fxs.length);opts.fxs.push(opts.fxs.splice(r2,1)[0]);}debug("randomized fx sequence: ",opts.fxs);}return true;}function exposeAddSlide(opts,els){opts.addSlide=function(newSlide,prepend){var $s=$(newSlide),s=$s[0];if(!opts.autostopCount){opts.countdown++;}els[prepend?"unshift":"push"](s);if(opts.els){opts.els[prepend?"unshift":"push"](s);}opts.slideCount=els.length;$s.css("position","absolute");$s[prepend?"prependTo":"appendTo"](opts.$cont);if(prepend){opts.currSlide++;opts.nextSlide++;}if(!$.support.opacity&&opts.cleartype&&!opts.cleartypeNoBg){clearTypeFix($s);}if(opts.fit&&opts.width){$s.width(opts.width);}if(opts.fit&&opts.height&&opts.height!="auto"){$slides.height(opts.height);}s.cycleH=(opts.fit&&opts.height)?opts.height:$s.height();s.cycleW=(opts.fit&&opts.width)?opts.width:$s.width();$s.css(opts.cssBefore);if(opts.pager||opts.pagerAnchorBuilder){$.fn.cycle.createPagerAnchor(els.length-1,s,$(opts.pager),els,opts);}if($.isFunction(opts.onAddSlide)){opts.onAddSlide($s);}else{$s.hide();}};}$.fn.cycle.resetState=function(opts,fx){fx=fx||opts.fx;opts.before=[];opts.after=[];opts.cssBefore=$.extend({},opts.original.cssBefore);opts.cssAfter=$.extend({},opts.original.cssAfter);opts.animIn=$.extend({},opts.original.animIn);opts.animOut=$.extend({},opts.original.animOut);opts.fxFn=null;$.each(opts.original.before,function(){opts.before.push(this);});$.each(opts.original.after,function(){opts.after.push(this);});var init=$.fn.cycle.transitions[fx];if($.isFunction(init)){init(opts.$cont,$(opts.elements),opts);}};function go(els,opts,manual,fwd){if(manual&&opts.busy&&opts.manualTrump){debug("manualTrump in go(), stopping active transition");$(els).stop(true,true);opts.busy=false;}if(opts.busy){debug("transition active, ignoring new tx request");return;}var p=opts.$cont[0],curr=els[opts.currSlide],next=els[opts.nextSlide];if(p.cycleStop!=opts.stopCount||p.cycleTimeout===0&&!manual){return;}if(!manual&&!p.cyclePause&&!opts.bounce&&((opts.autostop&&(--opts.countdown<=0))||(opts.nowrap&&!opts.random&&opts.nextSlide<opts.currSlide))){if(opts.end){opts.end(opts);}return;}var changed=false;if((manual||!p.cyclePause)&&(opts.nextSlide!=opts.currSlide)){changed=true;var fx=opts.fx;curr.cycleH=curr.cycleH||$(curr).height();curr.cycleW=curr.cycleW||$(curr).width();next.cycleH=next.cycleH||$(next).height();next.cycleW=next.cycleW||$(next).width();if(opts.multiFx){if(opts.lastFx==undefined||++opts.lastFx>=opts.fxs.length){opts.lastFx=0;}fx=opts.fxs[opts.lastFx];opts.currFx=fx;}if(opts.oneTimeFx){fx=opts.oneTimeFx;opts.oneTimeFx=null;}$.fn.cycle.resetState(opts,fx);if(opts.before.length){$.each(opts.before,function(i,o){if(p.cycleStop!=opts.stopCount){return;}o.apply(next,[curr,next,opts,fwd]);});}var after=function(){$.each(opts.after,function(i,o){if(p.cycleStop!=opts.stopCount){return;}o.apply(next,[curr,next,opts,fwd]);});};debug("tx firing; currSlide: "+opts.currSlide+"; nextSlide: "+opts.nextSlide);opts.busy=1;if(opts.fxFn){opts.fxFn(curr,next,opts,after,fwd,manual&&opts.fastOnEvent);}else{if($.isFunction($.fn.cycle[opts.fx])){$.fn.cycle[opts.fx](curr,next,opts,after,fwd,manual&&opts.fastOnEvent);}else{$.fn.cycle.custom(curr,next,opts,after,fwd,manual&&opts.fastOnEvent);}}}if(changed||opts.nextSlide==opts.currSlide){opts.lastSlide=opts.currSlide;if(opts.random){opts.currSlide=opts.nextSlide;if(++opts.randomIndex==els.length){opts.randomIndex=0;}opts.nextSlide=opts.randomMap[opts.randomIndex];if(opts.nextSlide==opts.currSlide){opts.nextSlide=(opts.currSlide==opts.slideCount-1)?0:opts.currSlide+1;}}else{if(opts.backwards){var roll=(opts.nextSlide-1)<0;if(roll&&opts.bounce){opts.backwards=!opts.backwards;opts.nextSlide=1;opts.currSlide=0;}else{opts.nextSlide=roll?(els.length-1):opts.nextSlide-1;opts.currSlide=roll?0:opts.nextSlide+1;}}else{var roll=(opts.nextSlide+1)==els.length;if(roll&&opts.bounce){opts.backwards=!opts.backwards;opts.nextSlide=els.length-2;opts.currSlide=els.length-1;}else{opts.nextSlide=roll?0:opts.nextSlide+1;opts.currSlide=roll?els.length-1:opts.nextSlide-1;}}}}if(changed&&opts.pager){opts.updateActivePagerLink(opts.pager,opts.currSlide,opts.activePagerClass);}var ms=0;if(opts.timeout&&!opts.continuous){ms=getTimeout(els[opts.currSlide],els[opts.nextSlide],opts,fwd);}else{if(opts.continuous&&p.cyclePause){ms=10;}}if(ms>0){p.cycleTimeout=setTimeout(function(){go(els,opts,0,(!opts.rev&&!opts.backwards));},ms);}}$.fn.cycle.updateActivePagerLink=function(pager,currSlide,clsName){$(pager).each(function(){$(this).children().removeClass(clsName).eq(currSlide).addClass(clsName);});};function getTimeout(curr,next,opts,fwd){if(opts.timeoutFn){var t=opts.timeoutFn.call(curr,curr,next,opts,fwd);while((t-opts.speed)<250){t+=opts.speed;}debug("calculated timeout: "+t+"; speed: "+opts.speed);if(t!==false){return t;}}return opts.timeout;}$.fn.cycle.next=function(opts){advance(opts,opts.rev?-1:1);};$.fn.cycle.prev=function(opts){advance(opts,opts.rev?1:-1);};function advance(opts,val){var els=opts.elements;var p=opts.$cont[0],timeout=p.cycleTimeout;if(timeout){clearTimeout(timeout);p.cycleTimeout=0;}if(opts.random&&val<0){opts.randomIndex--;if(--opts.randomIndex==-2){opts.randomIndex=els.length-2;}else{if(opts.randomIndex==-1){opts.randomIndex=els.length-1;}}opts.nextSlide=opts.randomMap[opts.randomIndex];}else{if(opts.random){opts.nextSlide=opts.randomMap[opts.randomIndex];}else{opts.nextSlide=opts.currSlide+val;if(opts.nextSlide<0){if(opts.nowrap){return false;}opts.nextSlide=els.length-1;}else{if(opts.nextSlide>=els.length){if(opts.nowrap){return false;}opts.nextSlide=0;}}}}var cb=opts.onPrevNextEvent||opts.prevNextClick;if($.isFunction(cb)){cb(val>0,opts.nextSlide,els[opts.nextSlide]);}go(els,opts,1,val>=0);return false;}function buildPager(els,opts){var $p=$(opts.pager);$.each(els,function(i,o){$.fn.cycle.createPagerAnchor(i,o,$p,els,opts);});opts.updateActivePagerLink(opts.pager,opts.startingSlide,opts.activePagerClass);}$.fn.cycle.createPagerAnchor=function(i,el,$p,els,opts){var a;if($.isFunction(opts.pagerAnchorBuilder)){a=opts.pagerAnchorBuilder(i,el);debug("pagerAnchorBuilder("+i+", el) returned: "+a);}else{a='<a href="#">'+(i+1)+"</a>";}if(!a){return;}var $a=$(a);if($a.parents("body").length===0){var arr=[];if($p.length>1){$p.each(function(){var $clone=$a.clone(true);$(this).append($clone);arr.push($clone[0]);});$a=$(arr);}else{$a.appendTo($p);}}opts.pagerAnchors=opts.pagerAnchors||[];opts.pagerAnchors.push($a);$a.bind(opts.pagerEvent,function(e){e.preventDefault();opts.nextSlide=i;var p=opts.$cont[0],timeout=p.cycleTimeout;if(timeout){clearTimeout(timeout);p.cycleTimeout=0;}var cb=opts.onPagerEvent||opts.pagerClick;if($.isFunction(cb)){cb(opts.nextSlide,els[opts.nextSlide]);}go(els,opts,1,opts.currSlide<i);});if(!/^click/.test(opts.pagerEvent)&&!opts.allowPagerClickBubble){$a.bind("click.cycle",function(){return false;});}if(opts.pauseOnPagerHover){$a.hover(function(){opts.$cont[0].cyclePause++;},function(){opts.$cont[0].cyclePause--;});}};$.fn.cycle.hopsFromLast=function(opts,fwd){var hops,l=opts.lastSlide,c=opts.currSlide;if(fwd){hops=c>l?c-l:opts.slideCount-l;}else{hops=c<l?l-c:l+opts.slideCount-c;}return hops;};function clearTypeFix($slides){debug("applying clearType background-color hack");function hex(s){s=parseInt(s).toString(16);return s.length<2?"0"+s:s;}function getBg(e){for(;e&&e.nodeName.toLowerCase()!="html";e=e.parentNode){var v=$.css(e,"background-color");if(v.indexOf("rgb")>=0){var rgb=v.match(/\d+/g);return"#"+hex(rgb[0])+hex(rgb[1])+hex(rgb[2]);}if(v&&v!="transparent"){return v;}}return"#ffffff";}$slides.each(function(){$(this).css("background-color",getBg(this));});}$.fn.cycle.commonReset=function(curr,next,opts,w,h,rev){$(opts.elements).not(curr).hide();opts.cssBefore.opacity=1;opts.cssBefore.display="block";if(w!==false&&next.cycleW>0){opts.cssBefore.width=next.cycleW;}if(h!==false&&next.cycleH>0){opts.cssBefore.height=next.cycleH;}opts.cssAfter=opts.cssAfter||{};opts.cssAfter.display="none";$(curr).css("zIndex",opts.slideCount+(rev===true?1:0));$(next).css("zIndex",opts.slideCount+(rev===true?0:1));};$.fn.cycle.custom=function(curr,next,opts,cb,fwd,speedOverride){var $l=$(curr),$n=$(next);var speedIn=opts.speedIn,speedOut=opts.speedOut,easeIn=opts.easeIn,easeOut=opts.easeOut;$n.css(opts.cssBefore);if(speedOverride){if(typeof speedOverride=="number"){speedIn=speedOut=speedOverride;}else{speedIn=speedOut=1;}easeIn=easeOut=null;}var fn=function(){$n.animate(opts.animIn,speedIn,easeIn,cb);};$l.animate(opts.animOut,speedOut,easeOut,function(){if(opts.cssAfter){$l.css(opts.cssAfter);}if(!opts.sync){fn();}});if(opts.sync){fn();}};$.fn.cycle.transitions={fade:function($cont,$slides,opts){$slides.not(":eq("+opts.currSlide+")").css("opacity",0);opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts);opts.cssBefore.opacity=0;});opts.animIn={opacity:1};opts.animOut={opacity:0};opts.cssBefore={top:0,left:0};}};$.fn.cycle.ver=function(){return ver;};$.fn.cycle.defaults={fx:"fade",timeout:4000,timeoutFn:null,continuous:0,speed:1000,speedIn:null,speedOut:null,next:null,prev:null,onPrevNextEvent:null,prevNextEvent:"click.cycle",pager:null,onPagerEvent:null,pagerEvent:"click.cycle",allowPagerClickBubble:false,pagerAnchorBuilder:null,before:null,after:null,end:null,easing:null,easeIn:null,easeOut:null,shuffle:null,animIn:null,animOut:null,cssBefore:null,cssAfter:null,fxFn:null,height:"auto",startingSlide:0,sync:1,random:0,fit:0,containerResize:1,pause:0,pauseOnPagerHover:0,autostop:0,autostopCount:0,delay:0,slideExpr:null,cleartype:!$.support.opacity,cleartypeNoBg:false,nowrap:0,fastOnEvent:0,randomizeEffects:1,rev:0,manualTrump:true,requeueOnImageNotLoaded:true,requeueTimeout:250,activePagerClass:"activeSlide",updateActivePagerLink:null,backwards:false};})(jQuery);(function (a) { var r = a.fn.domManip, d = "_tmplitem", q = /^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /, b = {}, f = {}, e, p = { key: 0, data: {} }, h = 0, c = 0, l = []; function g(e, d, g, i) { var c = { data: i || (d ? d.data : {}), _wrap: d ? d._wrap : null, tmpl: null, parent: d || null, nodes: [], calls: u, nest: w, wrap: x, html: v, update: t }; e && a.extend(c, e, { nodes: [], parent: d }); if (g) { c.tmpl = g; c._ctnt = c._ctnt || c.tmpl(a, c); c.key = ++h; (l.length ? f : b)[h] = c } return c } a.each({ appendTo: "append", prependTo: "prepend", insertBefore: "before", insertAfter: "after", replaceAll: "replaceWith" }, function (f, d) { a.fn[f] = function (n) { var g = [], i = a(n), k, h, m, l, j = this.length === 1 && this[0].parentNode; e = b || {}; if (j && j.nodeType === 11 && j.childNodes.length === 1 && i.length === 1) { i[d](this[0]); g = this } else { for (h = 0, m = i.length; h < m; h++) { c = h; k = (h > 0 ? this.clone(true) : this).get(); a.fn[d].apply(a(i[h]), k); g = g.concat(k) } c = 0; g = this.pushStack(g, f, i.selector) } l = e; e = null; a.tmpl.complete(l); return g } }); a.fn.extend({ tmpl: function (d, c, b) { return a.tmpl(this[0], d, c, b) }, tmplItem: function () { return a.tmplItem(this[0]) }, template: function (b) { return a.template(b, this[0]) }, domManip: function (d, l, j) { if (d[0] && d[0].nodeType) { var f = a.makeArray(arguments), g = d.length, i = 0, h; while (i < g && !(h = a.data(d[i++], "tmplItem"))); if (g > 1) f[0] = [a.makeArray(d)]; if (h && c) f[2] = function (b) { a.tmpl.afterManip(this, b, j) }; r.apply(this, f) } else r.apply(this, arguments); c = 0; !e && a.tmpl.complete(b); return this } }); a.extend({ tmpl: function (d, h, e, c) { var j, k = !c; if (k) { c = p; d = a.template[d] || a.template(null, d); f = {} } else if (!d) { d = c.tmpl; b[c.key] = c; c.nodes = []; c.wrapped && n(c, c.wrapped); return a(i(c, null, c.tmpl(a, c))) } if (!d) return []; if (typeof h === "function") h = h.call(c || {}); e && e.wrapped && n(e, e.wrapped); j = a.isArray(h) ? a.map(h, function (a) { return a ? g(e, c, d, a) : null }) : [g(e, c, d, h)]; return k ? a(i(c, null, j)) : j }, tmplItem: function (b) { var c; if (b instanceof a) b = b[0]; while (b && b.nodeType === 1 && !(c = a.data(b, "tmplItem")) && (b = b.parentNode)); return c || p }, template: function (c, b) { if (b) { if (typeof b === "string") b = o(b); else if (b instanceof a) b = b[0] || {}; if (b.nodeType) b = a.data(b, "tmpl") || a.data(b, "tmpl", o(b.innerHTML)); return typeof c === "string" ? (a.template[c] = b) : b } return c ? typeof c !== "string" ? a.template(null, c) : a.template[c] || a.template(null, q.test(c) ? c : a(c)) : null }, encode: function (a) { return ("" + a).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;") } }); a.extend(a.tmpl, { tag: { tmpl: { _default: { $2: "null" }, open: "if($notnull_1){_=_.concat($item.nest($1,$2));}" }, wrap: { _default: { $2: "null" }, open: "$item.calls(_,$1,$2);_=[];", close: "call=$item.calls();_=call._.concat($item.wrap(call,_));" }, each: { _default: { $2: "$index, $value" }, open: "if($notnull_1){$.each($1a,function($2){with(this){", close: "}});}" }, "if": { open: "if(($notnull_1) && $1a){", close: "}" }, "else": { _default: { $1: "true" }, open: "}else if(($notnull_1) && $1a){" }, html: { open: "if($notnull_1){_.push($1a);}" }, "=": { _default: { $1: "$data" }, open: "if($notnull_1){_.push($.encode($1a));}" }, "!": { open: ""} }, complete: function () { b = {} }, afterManip: function (f, b, d) { var e = b.nodeType === 11 ? a.makeArray(b.childNodes) : b.nodeType === 1 ? [b] : []; d.call(f, b); m(e); c++ } }); function i(e, g, f) { var b, c = f ? a.map(f, function (a) { return typeof a === "string" ? e.key ? a.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g, "$1 " + d + '="' + e.key + '" $2') : a : i(a, e, a._ctnt) }) : e; if (g) return c; c = c.join(""); c.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/, function (f, c, e, d) { b = a(e).get(); m(b); if (c) b = j(c).concat(b); if (d) b = b.concat(j(d)) }); return b ? b : j(c) } function j(c) { var b = document.createElement("div"); b.innerHTML = c; return a.makeArray(b.childNodes) } function o(b) { return new Function("jQuery", "$item", "var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('" + a.trim(b).replace(/([\\'])/g, "\\$1").replace(/[\r\t\n]/g, " ").replace(/\$\{([^\}]*)\}/g, "{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g, function (m, l, j, d, b, c, e) { var i = a.tmpl.tag[j], h, f, g; if (!i) throw "Template command not found: " + j; h = i._default || []; if (c && !/\w$/.test(b)) { b += c; c = "" } if (b) { b = k(b); e = e ? "," + k(e) + ")" : c ? ")" : ""; f = c ? b.indexOf(".") > -1 ? b + c : "(" + b + ").call($item" + e : b; g = c ? f : "(typeof(" + b + ")==='function'?(" + b + ").call($item):(" + b + "))" } else g = f = h.$1 || "null"; d = k(d); return "');" + i[l ? "close" : "open"].split("$notnull_1").join(b ? "typeof(" + b + ")!=='undefined' && (" + b + ")!=null" : "true").split("$1a").join(g).split("$1").join(f).split("$2").join(d ? d.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g, function (d, c, b, a) { a = a ? "," + a + ")" : b ? ")" : ""; return a ? "(" + c + ").call($item" + a : d }) : h.$2 || "") + "_.push('" }) + "');}return _;") } function n(c, b) { c._wrap = i(c, true, a.isArray(b) ? b : [q.test(b) ? b : a(b).html()]).join("") } function k(a) { return a ? a.replace(/\\'/g, "'").replace(/\\\\/g, "\\") : null } function s(b) { var a = document.createElement("div"); a.appendChild(b.cloneNode(true)); return a.innerHTML } function m(o) { var n = "_" + c, k, j, l = {}, e, p, i; for (e = 0, p = o.length; e < p; e++) { if ((k = o[e]).nodeType !== 1) continue; j = k.getElementsByTagName("*"); for (i = j.length - 1; i >= 0; i--) m(j[i]); m(k) } function m(j) { var p, i = j, k, e, m; if (m = j.getAttribute(d)) { while (i.parentNode && (i = i.parentNode).nodeType === 1 && !(p = i.getAttribute(d))); if (p !== m) { i = i.parentNode ? i.nodeType === 11 ? 0 : i.getAttribute(d) || 0 : 0; if (!(e = b[m])) { e = f[m]; e = g(e, b[i] || f[i], null, true); e.key = ++h; b[h] = e } c && o(m) } j.removeAttribute(d) } else if (c && (e = a.data(j, "tmplItem"))) { o(e.key); b[e.key] = e; i = a.data(j.parentNode, "tmplItem"); i = i ? i.key : 0 } if (e) { k = e; while (k && k.key != i) { k.nodes.push(j); k = k.parent } delete e._ctnt; delete e._wrap; a.data(j, "tmplItem", e) } function o(a) { a = a + n; e = l[a] = l[a] || g(e, b[e.parent.key + n] || e.parent, null, true) } } } function u(a, d, c, b) { if (!a) return l.pop(); l.push({ _: a, tmpl: d, item: this, data: c, options: b }) } function w(d, c, b) { return a.tmpl(a.template(d), c, b, this) } function x(b, d) { var c = b.options || {}; c.wrapped = d; return a.tmpl(a.template(b.tmpl), b.data, c, b.item) } function v(d, c) { var b = this._wrap; return a.map(a(a.isArray(b) ? b.join("") : b).filter(d || "*"), function (a) { return c ? a.innerText || a.textContent : a.outerHTML || s(a) }) } function t() { var b = this.nodes; a.tmpl(null, null, null, this).insertBefore(b[0]); a(b).remove() } })(jQuery);/* json2.js 
* 2008-01-17
* Public Domain
* No warranty expressed or implied. Use at your own risk.
* See http://www.JSON.org/js.html
*/
if (!this.JSON) {
    JSON = function () {
        function f(n) { return n < 10 ? '0' + n : n; }
        Date.prototype.toJSON = function () {
            return this.getUTCFullYear() + '-' +
f(this.getUTCMonth() + 1) + '-' +
f(this.getUTCDate()) + 'T' +
f(this.getUTCHours()) + ':' +
f(this.getUTCMinutes()) + ':' +
f(this.getUTCSeconds()) + 'Z';
        }; var m = { '\b': '\\b', '\t': '\\t', '\n': '\\n', '\f': '\\f', '\r': '\\r', '"': '\\"', '\\': '\\\\' }; function stringify(value, whitelist) {
            var a, i, k, l, r = /["\\\x00-\x1f\x7f-\x9f]/g, v; switch (typeof value) {
                case 'string': return r.test(value) ? '"' + value.replace(r, function (a) {
                    var c = m[a]; if (c) { return c; }
                    c = a.charCodeAt(); return '\\u00' + Math.floor(c / 16).toString(16) +
(c % 16).toString(16);
                }) + '"' : '"' + value + '"'; case 'number': return isFinite(value) ? String(value) : 'null'; case 'boolean': case 'null': return String(value); case 'object': if (!value) { return 'null'; }
                    if (typeof value.toJSON === 'function') { return stringify(value.toJSON()); }
                    a = []; if (typeof value.length === 'number' && !(value.propertyIsEnumerable('length'))) {
                        l = value.length; for (i = 0; i < l; i += 1) { a.push(stringify(value[i], whitelist) || 'null'); }
                        return '[' + a.join(',') + ']';
                    }
                    if (whitelist) { l = whitelist.length; for (i = 0; i < l; i += 1) { k = whitelist[i]; if (typeof k === 'string') { v = stringify(value[k], whitelist); if (v) { a.push(stringify(k) + ':' + v); } } } } else { for (k in value) { if (typeof k === 'string') { v = stringify(value[k], whitelist); if (v) { a.push(stringify(k) + ':' + v); } } } }
                    return '{' + a.join(',') + '}';
            } 
        }
        return { stringify: stringify, parse: function (text, filter) {
            var j; function walk(k, v) {
                var i, n; if (v && typeof v === 'object') { for (i in v) { if (Object.prototype.hasOwnProperty.apply(v, [i])) { n = walk(i, v[i]); if (n !== undefined) { v[i] = n; } } } }
                return filter(k, v);
            }
            if (/^[\],:{}\s]*$/.test(text.replace(/\\./g, '@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, ']').replace(/(?:^|:|,)(?:\s*\[)+/g, ''))) { j = eval('(' + text + ')'); return typeof filter === 'function' ? walk('', j) : j; }
            throw new SyntaxError('parseJSON');
        } 
        };
    } ();
};
var _previousTime=0,_priorState="",_adPresent=false,_isReplayed=false,_previousCIEC="",_previousEC="",_firstFramePlayed=false,_playComplete=false,_firstTime=true;function getFlashMovie(a){return window.document[a]?window.document[a]:navigator.appName.indexOf("Microsoft")==-1?document.embeds&&document.embeds[a]?document.embeds[a]:document[a]:document.getElementById(a)}function receiveOoyalaEvent(a,e,d){var c=document.getElementById(a),b=getFlashMovie("eventCatcher");switch(e){case"currentItemEmbedCodeChanged":b.resetEvents(a,c.getCurrentItemTitle());_priorState="";_firstFramePlayed=false;break;case"embedCodeChanged":b.resetEvents(a,c.getTitle());_priorState="";_firstFramePlayed=false;break;case"playComplete":_playComplete=true;b.sendPercent_100(a);b.sendFinish(a);break;case"adStarted":_adPresent=true;break;case"adCompleted":_priorState="";_adPresent=false;break;case"stateChanged":if(_adPresent==false){if(_firstTime==true){AddVideoPlayedUnicaTag(c.getTitle());_firstTime=false}if(d.state=="playing"){if(isReplayed(c)&&_playComplete){b.resetEvents(a,c.getTitle());b.sendReplay(a)}else if(!_firstFramePlayed){b.sendStart(a);_firstFramePlayed=true;AddVideoPlayedSpotlightTag();AddVideoPlayedMarinTag()}_playComplete=false;if(_priorState=="paused")b.sendPlay(a);else _priorState=="seeked"&&b.seek(a);_priorState="playing"}else if(d.state=="paused"||d.state=="channel"){if(_priorState=="playing")c.getPlayheadTime()!=0&&b.sendPause(a);_priorState="paused"}}break;case"seeked":_priorState="seeked";break;case"playheadTimeChanged":if(_adPresent==false)if(d.playheadTime>=c.getTotalTime()*.75)b.sendPercent_75(a);else if(d.playheadTime>=c.getTotalTime()*.5)b.sendPercent_50(a);else d.playheadTime>=c.getTotalTime()*.25&&b.sendPercent_25(a)}}function isReplayed(a){var b=false;if(a.getLineup()!=null){if(a.getCurrentItemEmbedCode()==_previousCIEC)b=true;_previousCIEC=a.getCurrentItemEmbedCode()}else{if(a.getEmbedCode()==_previousEC)b=true;_previousEC=a.getEmbedCode()}return b}function AddVideoPlayedSpotlightTag(){var a=Math.random()+"",b=a*1e13;document.getElementById("VideoPlayedSpotlightTag").innerHTML='<IFRAME SRC="http://ad.doubleclick.net/activity;src=1869704;type=betty077;cat=bc_vi646;ord=1;num='+b+'?" width="1" height="1" alt=""/>'}function AddVideoPlayedMarinTag(){fireMarin("BC_VideoPlayButton")}function AddVideoPlayedUnicaTag(a){ApplyUnicaEventTag("ev=videostart&videotitle="+a+"&ActionType=View")};(function(a){"use strict";var c="bettyRotatingContent",b="click."+c,e={init:function(e){return this.each(function(){var l,m=a(this),j=m.data(c);if(j!==undefined)return;var k={featureData:[],template:a(),rotate:true,rotateInterval:7e3,replaceExisting:false,preRender:false};a.extend(k,e);j={container:m,settings:k,activeLink:a(),isRotating:k.rotate,intervalId:null,interval:k.rotateInterval,template:typeof k.template=="string"?a("#"+k.template):a(k.template)};var p=m.find(".featureLinks"),o,u=a("<ul/>").appendTo(p);for(l=1;l<=k.featureData.length;l++){o=a("<a/>").text(l);if(l==1)j.activeLink=o.addClass("active");a("<li/>").append(o).appendTo(u)}var s=a("<ul/>").appendTo(m.find(".featureControls")),r=a("<a/>").addClass("prev").attr("alt","Previous Item"),q=a("<a/>").addClass("next").attr("alt","Next Item");j.startStopButton=a("<a/>").addClass("startStop "+(k.rotate?"pause":"play")).attr("alt","Toggle Rotation");s.append(r,j.startStopButton,q);var n=m.find(".features"),t=k.featureData.length-n.children(".feature").length;for(l=0;l<t;l++)a("<div/>").addClass("feature").appendTo(n).hide();j.features=n.children(".feature");if(k.preRender)for(l=0;l<k.featureData.length;l++)d(j,l);else j.features.filter(":empty").length==j.features.length&&d(j,0);m.data(c,j);n.children().not(".feature").remove();j.featureLinks=p.find("li a").bind(b,{d:j},i);j.featureLinks.first().trigger(b,[true]);j.startStopButton.bind(b,{d:j},h);r.bind(b,function(a){a.preventDefault();g(j.activeLink,j).trigger(b)});q.bind(b,function(a){a.preventDefault();f(j.activeLink,j).trigger(b)})})},destroy:function(){return this.each(function(){var b=a(this),d=b.data(c);if(d!==undefined){d.intervalId!==null&&window.clearInterval(d.intervalId);b.removeData(c)}b.find("a").unbind("."+c);b.unbind("."+c)})}},d=function(b,e,f){var d=b.features.eq(e);if(d.data("rendered"))return;if(d.is(":empty")||b.settings.replaceExisting){d.empty().append(b.template.tmpl(b.settings.featureData[e]));!!f&&d.find("img").each(function(){var b=a.trim(a(this).attr("src"));if(!b==="")document.createElement("img").src=b})}d.data("rendered",true).trigger("featureRendered."+c);b.features.filter(":empty").length===0&&b.container.trigger("renderComplete."+c)},i=function(h,k){h.preventDefault();var g=a(this),c=h.data.d;c.intervalId!==null&&window.clearInterval(c.intervalId);c.isRotating&&!k&&c.startStopButton.trigger(b);var j=c.featureLinks.index(c.activeLink),e=c.featureLinks.index(g),i=c.features.eq(e).data("rendered");d(c,e);c.isRotating&&!c.features.eq(e+1).data("rendered")&&d(c,e+1,true);window.setTimeout(function(){c.activeLink.removeClass("active");c.activeLink=g.addClass("active");c.features.eq(j).hide();c.features.eq(e).show();if(c.isRotating)c.intervalId=window.setInterval(function(){f(g,c).trigger(b,[true])},c.interval)},i?0:250)},h=function(c){c.preventDefault();var a=c.data.d;a.isRotating=!a.isRotating;a.startStopButton.toggleClass("pause play");if(a.isRotating)a.activeLink.trigger(b,[true]);else{window.clearInterval(a.intervalId);a.intervalId=null}},g=function(c,a){var b=a.featureLinks.index(c);return b===-1?a.featureLinks.first():a.featureLinks.eq(b-1)},f=function(c,a){var b=a.featureLinks.index(c);return b===-1||b===a.featureLinks.length-1?a.featureLinks.first():a.featureLinks.eq(b+1)};a.fn.bettyRotatingContent=function(b){if(e[b])return e[b].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof b==="object"||!b)return e.init.apply(this,arguments);else a.error("Method "+b+" does not exist on jQuery."+c);return this}})(jQuery);function getDataSourceType() {
    var controlName = jQuery('.searchTextBox');
    var minChar = controlName.attr('minchars');
    var params = controlName.attr('methodparameters');
    var paramArray = params.split(",");
    jQuery(function () {
        jQuery('.searchTextBox').autocomplete({
            source: function (request, response) {
                var JSONDataSource = new Object();
                var limit = 0;
                for (var i = 0; i < paramArray.length; i++) {
                    var paramValue = paramArray[i];
                    if (paramValue.match("SearchText")) {
                        paramValue = paramValue.replace("SearchText", "");
                        JSONDataSource[paramValue] = request.term.trim() + "*";
                    }
                    else if (paramValue.match("SearchQuery")) {
                        paramValue = paramValue.replace("SearchQuery", "");
                        JSONDataSource[paramValue] = request.term.trim();
                    }
                    else if (paramValue.match("SearchLimit")) {
                        paramValue = paramValue.replace("SearchLimit", "");
                        JSONDataSource[paramValue.split(":")[0]] = paramValue.split(":")[1];
                        limit = paramValue.split(":")[1];
                    }
                    else if (paramValue.match("SearchTime")) {
                        paramValue = paramValue.replace("SearchTime", "");
                        JSONDataSource[paramValue] = (new Date()).getTime().toString();
                    }
                    else {
                        JSONDataSource[paramValue] = paramArray[i];
                    }
                }
                var term = request.term.trim().toLowerCase(),
	            element = this.element,
	            cache = this.element.data('autocompleteCache') || {},
	            foundInCache = false;
                result = [];

                jQuery.each(cache, function (key, data) {
                    if (term.indexOf(key) > 0 && data.length > 0) {
                        jQuery.each(data, function (item, val) {
                            actVal = val.toLowerCase();
                            if (actVal.indexOf(term) === 0) {
                                result.push(val);
                            }
                        });

                        response(jQuery.map(parseAutoCompleteResultsByLimit(result, limit, false), function (item) {
                            return {
                                label: __highlight(item, request.term.trim()),
                                value: item.data
                            };
                        }));

                        foundInCache = true;
                        return;
                    }
                });

                if (foundInCache) return;

                var contentType = "All";
                jQuery.ajax({
                    type: "Post",
                    url: "SearchHints.ashx?searchterm=" + term + "&contentType=" + contentType,
                    success: function (xmlResponse) {
                        cache[term] = xmlResponse;
                        element.data('autocompleteCache', cache);
                        response(jQuery.map(parseAutoCompleteResultsByLimit(xmlResponse, limit, false), function (item) {
                            return {
                                label: __highlight(item, request.term.trim()),
                                value: item.data
                            };
                        }));

                        jQuery(".searchHints li.search a").bind("click", { autocompleteType: "keyword" }, fireEventTagAndRedirect);
                        jQuery(".searchHints li.recipe a").bind("click", { autocompleteType: "recipe" }, fireEventTagAndRedirect);
                        jQuery(".searchHints li.article a").bind("click", { autocompleteType: "article" }, fireEventTagAndRedirect);
                        jQuery(".searchHints li.video a").bind("click", { autocompleteType: "video" }, fireEventTagAndRedirect);
                    },

                    error: function (request, status, errorThrown) {

                    }
                });
            },
            minLength: minChar
        }).data("autocomplete")._renderItem = function (div, item) {
            if ((item.label.indexOf('ul') > -1)) {
                return jQuery(div).html(item.label);
            }
            else {
                jQuery(".ui-autocomplete").css("display", "none");
            }
        };
        function __highlight(s, t) {
            var matcher = new RegExp("(" + jQuery.ui.autocomplete.escapeRegex(t) + ")", "ig");
            return s.value.replace(matcher, "$1");
        }
    });
}

function parseAutoCompleteResultsByLimit(data, limit, isMultipleArray) {
    var items;
    if (isMultipleArray) {
        items = data[1];
    } else {
        items = data;
    }
    var parsed = [];
    if (limit == 0 || limit > items.length)
        limit = items.length;

    parsed[0] = {
        data: [items],
        value: items,
        result: [items]
    };
    return parsed;
}

function setWaterMarkText(WaterMarkText) {
    var textValue = jQuery('.searchTextBox').val();
    if (textValue == WaterMarkText || textValue.length == 0) {
        jQuery('.searchTextBox').val(WaterMarkText);
    }
}

function removeWaterMarkText(WaterMarkText) {
    if (jQuery('.searchTextBox').val() == WaterMarkText) {
        jQuery('.searchTextBox').val("");
    }
}

function getParameterByName(name) {
    name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
    var regexS = "[\\?&]" + name + "=([^&#]*)";
    var regex = new RegExp(regexS);
    var results = regex.exec(window.location.search);
    if (results == null)
        return "";
    else
        return decodeURIComponent(results[1].replace(/\+/g, " "));
}

function fireEventTagAndRedirect(event) {
    event.preventDefault();
    try {
        var searchText = jQuery(".searchTextBox:first").val();
        ntptEventTag("ev=PredictiveSearch_" + event.data.autocompleteType + "&ActionType=Search&SiteKeyword=" + searchText);
    }
    catch (ex) {
    }
    window.location = jQuery(this).attr("href");
}

//  added to fix url issue in serach hint
jQuery("li.search a").live("click", function () {
    var theUrl = jQuery(this).attr("href");
    var newUrl = theUrl.replace(/ /g, '%20');
    jQuery(this).attr("href", newUrl);
});
//call the search button click event in pressing enter in the search box
jQuery(function () {
    jQuery(".searchTextBox").bind("keydown", function (event) {
        var keycode = (event.keyCode ? event.keyCode : (event.which ? event.which : event.charCode));
        if (keycode == 13) {
            var onclick = jQuery('.SearchLinkButton').attr('href');
            if (onclick != null) {
                //If we find the button click it
                eval(onclick);

                return false;
            }
            else {
                return true;
            }
        }
    });
});


function OnSearchButtonClick(resultURL, waterMarkDefaultValue, processingText) {

    var actualTerm = jQuery.trim(jQuery('.searchTextBox').val());
    var term = encodeURI(actualTerm);
    var searchType = "1"; //for "All"
    if (term != null) {
        if (actualTerm.length > 0 && actualTerm != waterMarkDefaultValue && actualTerm != processingText) {
            ApplyUnicaEventTag('ev=search_BT&ActionType=Search&sitekeyword=' + term.toLowerCase());
            if (searchType.length <= 0)
                searchType = searchResultType;
            var newUrl = resultURL + "?term=" + term + "#/?ps=12&pi=1";
            jQuery('.searchTextBox').attr("disabled", "disabled");
            jQuery('.searchTextBox').val(processingText);
            //LogSearch(term, '', true, false);
            //FireMarinaScriptForSearch('search_bc');
            window.location.href = newUrl;

        }
        else {
            jQuery('.searchTextBox').removeAttr('disabled').focus();
        }
    }
    else {
        jQuery('.searchTextBox').focus();
    }
}/* Modernizr 2.6.2 (Custom Build) | MIT & BSD
* Build: http://modernizr.com/download/#-canvas-audio-video-input-inputtypes-localstorage-sessionstorage-geolocation-shiv-cssclasses-addtest-prefixed-testprop-testallprops-prefixes-domprefixes-elem_track-load
*/
; window.Modernizr = function (a, b, c) { function z(a) { j.cssText = a } function A(a, b) { return z(n.join(a + ";") + (b || "")) } function B(a, b) { return typeof a === b } function C(a, b) { return !! ~("" + a).indexOf(b) } function D(a, b) { for (var d in a) { var e = a[d]; if (!C(e, "-") && j[e] !== c) return b == "pfx" ? e : !0 } return !1 } function E(a, b, d) { for (var e in a) { var f = b[a[e]]; if (f !== c) return d === !1 ? a[e] : B(f, "function") ? f.bind(d || b) : f } return !1 } function F(a, b, c) { var d = a.charAt(0).toUpperCase() + a.slice(1), e = (a + " " + p.join(d + " ") + d).split(" "); return B(b, "string") || B(b, "undefined") ? D(e, b) : (e = (a + " " + q.join(d + " ") + d).split(" "), E(e, b, c)) } function G() { e.input = function (c) { for (var d = 0, e = c.length; d < e; d++) t[c[d]] = c[d] in k; return t.list && (t.list = !!b.createElement("datalist") && !!a.HTMLDataListElement), t } ("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")), e.inputtypes = function (a) { for (var d = 0, e, f, h, i = a.length; d < i; d++) k.setAttribute("type", f = a[d]), e = k.type !== "text", e && (k.value = l, k.style.cssText = "position:absolute;visibility:hidden;", /^range$/.test(f) && k.style.WebkitAppearance !== c ? (g.appendChild(k), h = b.defaultView, e = h.getComputedStyle && h.getComputedStyle(k, null).WebkitAppearance !== "textfield" && k.offsetHeight !== 0, g.removeChild(k)) : /^(search|tel)$/.test(f) || (/^(url|email)$/.test(f) ? e = k.checkValidity && k.checkValidity() === !1 : e = k.value != l)), s[a[d]] = !!e; return s } ("search tel url email datetime date month week time datetime-local number range color".split(" ")) } var d = "2.6.2", e = {}, f = !0, g = b.documentElement, h = "modernizr", i = b.createElement(h), j = i.style, k = b.createElement("input"), l = ":)", m = {}.toString, n = " -webkit- -moz- -o- -ms- ".split(" "), o = "Webkit Moz O ms", p = o.split(" "), q = o.toLowerCase().split(" "), r = {}, s = {}, t = {}, u = [], v = u.slice, w, x = {}.hasOwnProperty, y; !B(x, "undefined") && !B(x.call, "undefined") ? y = function (a, b) { return x.call(a, b) } : y = function (a, b) { return b in a && B(a.constructor.prototype[b], "undefined") }, Function.prototype.bind || (Function.prototype.bind = function (b) { var c = this; if (typeof c != "function") throw new TypeError; var d = v.call(arguments, 1), e = function () { if (this instanceof e) { var a = function () { }; a.prototype = c.prototype; var f = new a, g = c.apply(f, d.concat(v.call(arguments))); return Object(g) === g ? g : f } return c.apply(b, d.concat(v.call(arguments))) }; return e }), r.canvas = function () { var a = b.createElement("canvas"); return !!a.getContext && !!a.getContext("2d") }, r.geolocation = function () { return "geolocation" in navigator }, r.video = function () { var a = b.createElement("video"), c = !1; try { if (c = !!a.canPlayType) c = new Boolean(c), c.ogg = a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/, ""), c.h264 = a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/, ""), c.webm = a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/, "") } catch (d) { } return c }, r.audio = function () { var a = b.createElement("audio"), c = !1; try { if (c = !!a.canPlayType) c = new Boolean(c), c.ogg = a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""), c.mp3 = a.canPlayType("audio/mpeg;").replace(/^no$/, ""), c.wav = a.canPlayType('audio/wav; codecs="1"').replace(/^no$/, ""), c.m4a = (a.canPlayType("audio/x-m4a;") || a.canPlayType("audio/aac;")).replace(/^no$/, "") } catch (d) { } return c }, r.localstorage = function () { try { return localStorage.setItem(h, h), localStorage.removeItem(h), !0 } catch (a) { return !1 } }, r.sessionstorage = function () { try { return sessionStorage.setItem(h, h), sessionStorage.removeItem(h), !0 } catch (a) { return !1 } }; for (var H in r) y(r, H) && (w = H.toLowerCase(), e[w] = r[H](), u.push((e[w] ? "" : "no-") + w)); return e.input || G(), e.addTest = function (a, b) { if (typeof a == "object") for (var d in a) y(a, d) && e.addTest(d, a[d]); else { a = a.toLowerCase(); if (e[a] !== c) return e; b = typeof b == "function" ? b() : b, typeof f != "undefined" && f && (g.className += " " + (b ? "" : "no-") + a), e[a] = b } return e }, z(""), i = k = null, function (a, b) { function k(a, b) { var c = a.createElement("p"), d = a.getElementsByTagName("head")[0] || a.documentElement; return c.innerHTML = "x<style>" + b + "</style>", d.insertBefore(c.lastChild, d.firstChild) } function l() { var a = r.elements; return typeof a == "string" ? a.split(" ") : a } function m(a) { var b = i[a[g]]; return b || (b = {}, h++, a[g] = h, i[h] = b), b } function n(a, c, f) { c || (c = b); if (j) return c.createElement(a); f || (f = m(c)); var g; return f.cache[a] ? g = f.cache[a].cloneNode() : e.test(a) ? g = (f.cache[a] = f.createElem(a)).cloneNode() : g = f.createElem(a), g.canHaveChildren && !d.test(a) ? f.frag.appendChild(g) : g } function o(a, c) { a || (a = b); if (j) return a.createDocumentFragment(); c = c || m(a); var d = c.frag.cloneNode(), e = 0, f = l(), g = f.length; for (; e < g; e++) d.createElement(f[e]); return d } function p(a, b) { b.cache || (b.cache = {}, b.createElem = a.createElement, b.createFrag = a.createDocumentFragment, b.frag = b.createFrag()), a.createElement = function (c) { return r.shivMethods ? n(c, a, b) : b.createElem(c) }, a.createDocumentFragment = Function("h,f", "return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&(" + l().join().replace(/\w+/g, function (a) { return b.createElem(a), b.frag.createElement(a), 'c("' + a + '")' }) + ");return n}")(r, b.frag) } function q(a) { a || (a = b); var c = m(a); return r.shivCSS && !f && !c.hasCSS && (c.hasCSS = !!k(a, "article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")), j || p(a, c), a } var c = a.html5 || {}, d = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i, e = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i, f, g = "_html5shiv", h = 0, i = {}, j; (function () { try { var a = b.createElement("a"); a.innerHTML = "<xyz></xyz>", f = "hidden" in a, j = a.childNodes.length == 1 || function () { b.createElement("a"); var a = b.createDocumentFragment(); return typeof a.cloneNode == "undefined" || typeof a.createDocumentFragment == "undefined" || typeof a.createElement == "undefined" } () } catch (c) { f = !0, j = !0 } })(); var r = { elements: c.elements || "abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video", shivCSS: c.shivCSS !== !1, supportsUnknownElements: j, shivMethods: c.shivMethods !== !1, type: "default", shivDocument: q, createElement: n, createDocumentFragment: o }; a.html5 = r, q(b) } (this, b), e._version = d, e._prefixes = n, e._domPrefixes = q, e._cssomPrefixes = p, e.testProp = function (a) { return D([a]) }, e.testAllProps = F, e.prefixed = function (a, b, c) { return b ? F(a, b, c) : F(a, "pfx") }, g.className = g.className.replace(/(^|\s)no-js(\s|$)/, "$1$2") + (f ? " js " + u.join(" ") : ""), e } (this, this.document), function (a, b, c) { function d(a) { return "[object Function]" == o.call(a) } function e(a) { return "string" == typeof a } function f() { } function g(a) { return !a || "loaded" == a || "complete" == a || "uninitialized" == a } function h() { var a = p.shift(); q = 1, a ? a.t ? m(function () { ("c" == a.t ? B.injectCss : B.injectJs)(a.s, 0, a.a, a.x, a.e, 1) }, 0) : (a(), h()) : q = 0 } function i(a, c, d, e, f, i, j) { function k(b) { if (!o && g(l.readyState) && (u.r = o = 1, !q && h(), l.onload = l.onreadystatechange = null, b)) { "img" != a && m(function () { t.removeChild(l) }, 50); for (var d in y[c]) y[c].hasOwnProperty(d) && y[c][d].onload() } } var j = j || B.errorTimeout, l = b.createElement(a), o = 0, r = 0, u = { t: d, s: c, e: f, a: i, x: j }; 1 === y[c] && (r = 1, y[c] = []), "object" == a ? l.data = c : (l.src = c, l.type = a), l.width = l.height = "0", l.onerror = l.onload = l.onreadystatechange = function () { k.call(this, r) }, p.splice(e, 0, u), "img" != a && (r || 2 === y[c] ? (t.insertBefore(l, s ? null : n), m(k, j)) : y[c].push(l)) } function j(a, b, c, d, f) { return q = 0, b = b || "j", e(a) ? i("c" == b ? v : u, a, b, this.i++, c, d, f) : (p.splice(this.i++, 0, a), 1 == p.length && h()), this } function k() { var a = B; return a.loader = { load: j, i: 0 }, a } var l = b.documentElement, m = a.setTimeout, n = b.getElementsByTagName("script")[0], o = {}.toString, p = [], q = 0, r = "MozAppearance" in l.style, s = r && !!b.createRange().compareNode, t = s ? l : n.parentNode, l = a.opera && "[object Opera]" == o.call(a.opera), l = !!b.attachEvent && !l, u = r ? "object" : l ? "script" : "img", v = l ? "script" : u, w = Array.isArray || function (a) { return "[object Array]" == o.call(a) }, x = [], y = {}, z = { timeout: function (a, b) { return b.length && (a.timeout = b[0]), a } }, A, B; B = function (a) { function b(a) { var a = a.split("!"), b = x.length, c = a.pop(), d = a.length, c = { url: c, origUrl: c, prefixes: a }, e, f, g; for (f = 0; f < d; f++) g = a[f].split("="), (e = z[g.shift()]) && (c = e(c, g)); for (f = 0; f < b; f++) c = x[f](c); return c } function g(a, e, f, g, h) { var i = b(a), j = i.autoCallback; i.url.split(".").pop().split("?").shift(), i.bypass || (e && (e = d(e) ? e : e[a] || e[g] || e[a.split("/").pop().split("?")[0]]), i.instead ? i.instead(a, e, f, g, h) : (y[i.url] ? i.noexec = !0 : y[i.url] = 1, f.load(i.url, i.forceCSS || !i.forceJS && "css" == i.url.split(".").pop().split("?").shift() ? "c" : c, i.noexec, i.attrs, i.timeout), (d(e) || d(j)) && f.load(function () { k(), e && e(i.origUrl, h, g), j && j(i.origUrl, h, g), y[i.url] = 2 }))) } function h(a, b) { function c(a, c) { if (a) { if (e(a)) c || (j = function () { var a = [].slice.call(arguments); k.apply(this, a), l() }), g(a, j, b, 0, h); else if (Object(a) === a) for (n in m = function () { var b = 0, c; for (c in a) a.hasOwnProperty(c) && b++; return b } (), a) a.hasOwnProperty(n) && (!c && ! --m && (d(j) ? j = function () { var a = [].slice.call(arguments); k.apply(this, a), l() } : j[n] = function (a) { return function () { var b = [].slice.call(arguments); a && a.apply(this, b), l() } } (k[n])), g(a[n], j, b, n, h)) } else !c && l() } var h = !!a.test, i = a.load || a.both, j = a.callback || f, k = j, l = a.complete || f, m, n; c(h ? a.yep : a.nope, !!i), i && c(i) } var i, j, l = this.yepnope.loader; if (e(a)) g(a, 0, l, 0); else if (w(a)) for (i = 0; i < a.length; i++) j = a[i], e(j) ? g(j, 0, l, 0) : w(j) ? B(j) : Object(j) === j && h(j, l); else Object(a) === a && h(a, l) }, B.addPrefix = function (a, b) { z[a] = b }, B.addFilter = function (a) { x.push(a) }, B.errorTimeout = 1e4, null == b.readyState && b.addEventListener && (b.readyState = "loading", b.addEventListener("DOMContentLoaded", A = function () { b.removeEventListener("DOMContentLoaded", A, 0), b.readyState = "complete" }, 0)), a.yepnope = k(), a.yepnope.executeStack = h, a.yepnope.injectJs = function (a, c, d, e, i, j) { var k = b.createElement("script"), l, o, e = e || B.errorTimeout; k.src = a; for (o in d) k.setAttribute(o, d[o]); c = j ? h : c || f, k.onreadystatechange = k.onload = function () { !l && g(k.readyState) && (l = 1, c(), k.onload = k.onreadystatechange = null) }, m(function () { l || (l = 1, c(1)) }, e), i ? k.onload() : n.parentNode.insertBefore(k, n) }, a.yepnope.injectCss = function (a, c, d, e, g, i) { var e = b.createElement("link"), j, c = i ? h : c || f; e.href = a, e.rel = "stylesheet", e.type = "text/css"; for (j in d) e.setAttribute(j, d[j]); g || (n.parentNode.insertBefore(e, n), m(c, 0)) } } (this, document), Modernizr.load = function () { yepnope.apply(window, [].slice.call(arguments, 0)) }, Modernizr.addTest({ texttrackapi: typeof document.createElement("video").addTextTrack == "function", track: "kind" in document.createElement("track") });