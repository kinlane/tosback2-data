if(booking.env.enable_scripts_tracking){booking.env.scripts_tracking.main={loaded:true,run:false}}function bookmark(c,d){if(window.external){window.external.AddFavorite(c,d)}else{if(window.sidebar){window.sidebar.addPanel(d,c,"")}else{alert(tr.pressCtlD)}}}function addBookmark(d,c){if(window.sidebar){window.sidebar.addPanel(d,c,"")}else{if(document.all){window.external.AddFavorite(c,d)}else{alert("Sorry your browser doesn't support this function\nTo bookmark this page\nWindows users press ctrl + D\nMac users press cmd + D")}}}function hideFrameContainer(d,h,e){if(document.getElementById){var j=document.getElementById(d);var g=document.getElementById(h);j.style.display="none";document.getElementById("headline_newsletter").style.display="block";document.getElementById("headline_createprofile").style.display="none"}}function changeHeadline(){document.getElementById("headline_newsletter").style.display="none";document.getElementById("headline_createprofile").style.display="block"}function hideEl(c){$("#"+c).hide()}function showEl(c){$("#"+c).show()}function showFrameContainer(k,g,j,d,h,w,q,m,u){if(document.getElementById){var o=document.getElementById(k);var r=document.getElementById(g);var n=document.getElementById(j);if(r.style.display=="block"){r.style.display="none";return false}if(n.src!=d){n.src=d}r.style.visibility="hidden";r.style.display="block";var v=$(o).position()||{};var l=v.left,t=v.top;if(q){l+=q}if(m){t+=m}if(!h){h=r.offsetWidth}var x=document.getElementById("bodyconstraint").offsetWidth;if((l+h)>x){l=(x-h-40)}r.style.left=l+"px";r.style.top=t+"px";r.style.visibility="visible";return false}else{window.open(d)}}function sSc(d,c,e){if(document.getElementById){document.getElementById("rsc_"+d).innerHTML=e}}function sSc3(c,d){$("li[id^="+c+"]").attr("style","display: none; ");$("li[id^="+d+"]").removeAttr("style")}function sSc2(f,e,g){if(document.getElementById){if(document.getElementById("rnr")){document.getElementById("rnr").innerHTML=f}for(var d=-1;d<10;d++){var c=document.getElementById("rl"+d);if(c){c.style.color="";c.style.textDecoration="underline"}}e.style.color="#003580";e.style.textDecoration="none";e.blur();$("#gr_profile_chooser ul").removeClass().addClass(g);$(".review_filter_sub").text($(e).find(".key").text());if(g=="group"||g=="review_category_group_of_friends"){classname="group_big"}else{if(g=="solo_traveller"){classname="solo_big"}else{if(g=="family_with_young_children"||g=="review_category_family"){classname="youngchildren_big"}else{if(g=="mature_couple"){classname="maturecouple_big"}else{if(g=="family_with_older_children"){classname="oldchildren_big"}else{if(g=="with_friends"){classname="withfriends_big"}else{if(g=="young_couple"||g=="review_category_couple"){classname="youngcouple_big"}else{classname="global_big"}}}}}}}$(".review_user_type").attr("class","review_user_type type_"+classname)}}if($.ajaxSetup){$.ajaxSetup({cache:false,beforeSend:function(c){c.setRequestHeader("X-Booking-Pageview-Id",booking.env.pageview_id);c.setRequestHeader("X-Booking-AID",booking.env.aid);c.setRequestHeader("X-Booking-Session-Id",booking.env.b_sid)}})}if($(".b_msie_6").length){$(".b_msie_6 .bigbluebutton").mouseenter(function(){$(this).addClass("bigbluebutton_hover")});$(".b_msie_6 .bigbluebutton").mouseleave(function(){$(this).removeClass("bigbluebutton_hover")});$(".b_msie_6 .price_button").mouseenter(function(){$(this).addClass("price_button_hover")});$(".b_msie_6 .price_button").mouseleave(function(){$(this).removeClass("price_button_hover")})}$("#signup_box").hide();$(".userdataform").hide();function ShowHideSignup(){$("#signup_box").animate({height:"toggle"},{duration:500});return false}$("#signup_box #signupForm").click(function(c){c.stopPropagation()});$("#signup_box .userdataform").click(function(c){c.stopPropagation()});$(function(){$(".newsletter_ajax_error").hide();$('input#to[type="text"]').css({backgroundColor:"#FFFFFF"});$('input#to[type="text"]').focus(function(){$(this).css({color:"#003580"});if(this.value==this.defaultValue){this.value=""}if(this.value!=this.defaultValue){this.select()}});$("input.text-input").blur(function(){$(this).css({backgroundColor:"#FFFFFF"})});$("div#newsletterform_form a.flashdeals_nosubscribe").click(function(){$("div#flashdealsbg_wrapper h2.flashdeals_header_one").hide();$("div#flashdealsbg_wrapper h2.flashdeals_header_two").show();$("div#flashdealsbg_wrapper h3.flashdeals_subheader_one").hide();$("div#flashdealsbg_wrapper h3.flashdeals_subheader_two").show();$("div#flashdealsbg_wrapper a.flashdeals_nosubscribe").hide();$("div#flashdealsbg_wrapper a.flashdeals_gotobooking").show();$("div#flashdealsbg_wrapper input.newsletter_button").hide();$("div#flashdealsbg_wrapper input.newsletter_button_deals").show();return false})});(function(e,d){d=d||{};var f=e.console||{};f.warn=f.warn||function(){};var c={_list:{},get:function(h){return c._list[h]},set:function(h,j){var h=h||"";var j=j||"";if(typeof h==="string"){h=h.replace(/^\s+|\s+$/g,"")}if(typeof j==="string"){j=j.replace(/^\s+|\s+$/g,"")}if((h.length>0&&typeof h==="string")||typeof h!=="string"){if(typeof c._list[h]!=="undefined"){f.warn("Booking Strings: replacing string with id: "+h)}c._list[h]=j}else{f.warn("Booking Strings: trying to insert string with empty id")}}};var g=function(h,j){return c[typeof j!=="undefined"?"set":"get"](h,j)};d.strings=g;d.strings.get=c.get;d.strings.set=c.set;d.tmpl=function(h,j){return h.replace(/{([^{}]*)}/g,function(l,k){var m=j[k];return typeof m==="string"||typeof m==="number"?m:l})}})(window,booking);(function(l,n){var d="experiments",g="startup",e="experiments_load",m="startup_load",k=n.env,h=$(document),c=function(q){return typeof q==="function"},o=function(r){var q="b_site_experiment_"+r;return(q in k)&&+k[q]>0},f;n.ensureNamespaceExists(d);n.ensureNamespaceExists(g);n.ensureNamespaceExists(e);n.ensureNamespaceExists(m);f=n[g];f.init=function(x){var y=[],I=9,A,u,t,D,C,B,H,G,v,z,r,F,E,w,q=x==="ready";A=q?d:e;t=n[A];for(D in t){y.push([t[D].priority||I,D,A,!o(D)])}u=q?g:m;C=n[u];for(B in C){r=C[B];y.push([r.priority||I,B,u,false])}if(y.length>0){y.sort();for(E=0,w=y.length;E<w;E+=1){H=y[E];G=H[1];v=H[2];r=n[v][G];$.extend(r,{strings:n.strings});z=H[3]?r.initElse:r.init;r.ns="booking."+v;r.name=G;if(c(z)){F=this.execute(z,r);if(F===true){r.init=r.initElse=null}}}}$(document).trigger(x+":finished")};f.execute=function(r,q){return r.call(q)};k.amTracking=[];(function(){var v=20,w=Object.prototype.toString,B=Array.prototype.slice,y=$(l),G=$(document),t=function(L){var N=L.offset(),K=(typeof N.constructor==="function")?N.constructor:{name:"OtherConstructor"},M;if(K.name==="ClientRect"){M=$(L.trackingSelector).eq(0).offset();if(M){return M.top}return false}return N.top},C=function(L){var K=t(L);if(K===false){return false}return(y.scrollTop()+y.height())>(K+v)},z=function(K,M){try{y.trigger(K,M)}catch(L){}},A={css:jQuery.fn.css,show:jQuery.fn.show,hide:jQuery.fn.hide,toggle:jQuery.fn.toggle},H={show:/block|inline|list-item|inline-block/,hide:/none/};jQuery.fn.css=function(M,L){var K=A.css.apply(this,B.apply(arguments));if(this.selector){if(typeof L!=="undefined"&&M==="display"){z("ELEMENT_DISPLAY:"+this.selector,{elem:this,value:L})}else{if(w.apply(M)==="[object Object]"&&"display" in M){z("ELEMENT_DISPLAY:"+this.selector,{elem:this,value:M.display})}}}return K};$.each("show hide toggle".split(" "),function(K,L){jQuery.fn[L]=function(){var M=A[L].apply(this,B.apply(arguments));if(this.selector){z("ELEMENT_DISPLAY:"+this.selector,{elem:this,value:this.css("display")})}return M}});var I=[],D=[],J,u,r,x,q,F;q=function(){F=false};u=function(){var L,N,O,P=[];J=false;if(F){J=setTimeout(u,50);return}if(I.length>0){F=true;y.trigger("ClickTale:TrackDynamic",{experiments:I});L=D.length?";what="+D.join(","):"";O=$("#req_info").html()||"";for(var M=0,K=I.length;M<K;M++){if(O.indexOf(I[M])===-1){P.push(I[M])}}P=P.join(",");N=document.createElement("img");N.setAttribute("style","height:1px;width:1px;visibility:hidden;float:left;");N.onload=N.onerror=q;N.src="/js_tracking?ver=1"+L+";sid="+k.b_sid+";aid="+k.b_aid+";lang="+k.b_lang_for_url+";new=1;pid="+k.pageview_id+";exps="+I.join(",");document.body.appendChild(N);$("#req_info").html(O+","+P);I=[];D=[]}};r=function(M,L){if(typeof M==="undefined"||M===null||k.b_browser==="bot"){return}var Q=($.isArray(M)?M:M.split(",")),P,N,O,K=n.env.js_experiment_tracking||{},R,S;for(P=0,N=Q.length;P<N;P+=1){R=(isNaN(+Q[P])&&!!K?K[Q[P]]:Q[P])||(S=n.jst&&typeof n.jst[Q[P]]!=="undefined"?Q[P]:false);if((/^[0-9]+$/.test(R)||S)&&typeof k.amTracking["e"+R]==="undefined"){I.push(R);k.amTracking["e"+R]=1}}if(L&&typeof k.amTracking["g"+L]==="undefined"){D.push(L);k.amTracking["g"+L]=1}if(!I.length){return false}else{if(K&&K.njst&&/^[0-9]+$/.test(K.njst)&&typeof k.amTracking["e"+K.njst]==="undefined"){I.push(K.njst);k.amTracking["e"+K.njst]=1}}if(J){l.clearTimeout(J);J=false}J=l.setTimeout(u,50)};n.track={exp:r,version:function(K){if(K&&n.jst&&!isNaN(n.jst[K])){return n.jst[K]}return false},onView:function(K){var L=$(K).eq(0),M=this.exp;L.trackingSelector=K;return{exp:function(){var N=B.apply(arguments),O=$.proxy(function(){var P;if(C(L)){P="ONVIEW:"+(w.apply(K)==="[object String]"?K:$(K).selector);y.trigger(P,{source:K});M.apply(n.track,this.args);y.unbind("resize scroll",O)}},{args:N});if(L.length){if(L.css("display")==="none"){L.css({display:"block",visibility:"hidden"})}y.bind("resize scroll",O);O()}}}},onNav:function(){return{exp:function(){}}}};$.each("blur change click dblclick mouseover mouseout".split(" "),function(L,K){var N=K.slice(0,1),M=K.replace(N,N.toUpperCase());n.track[K]=n.track["on"+M]=function(O){var P=$(O);return{exp:function(){var Q=B.apply(arguments),R=$.proxy(function(){n.track.exp.apply(n.track,this.args);P.unbind(K,R)},{args:Q});P.bind(K,R)}}};n.track["live"+M]=function(O){return{exp:function(){var P=B.apply(arguments),Q=$.proxy(function(){n.track.exp.apply(n.track,this.args);$(O).unbind(K,Q)},{args:P});G.delegate(O,K,Q)}}}});$.each("show hide".split(" "),function(L,K){n.track[K]=function(M){var N=$(M);if(!N.selector){return{exp:function(){}}}return{exp:function(){var O=B.apply(arguments),P=$.proxy(function(Q,R){if(H[K].test(R.value)&&(R.elem.selector===N.selector||(N.length===1&&R.elem[0]===N[0]))){n.track.exp.apply(n.track,this.args);y.unbind("ELEMENT_DISPLAY:"+N.selector,P)}},{args:O});y.bind("ELEMENT_DISPLAY:"+N.selector,P)}}}});$.each("blur change click dblclick mouseover mouseout".split(" "),function(M,L){var K="[data-track-on-"+L+"]",N=function(){n.track.exp.call(n.track,$(this).data("track-on-"+L)+"")};G.delegate(K,L,N)});var E={mouseenter:"hover",hover:"hover",click:"click"};G.delegate("[data-google-track]","click hover mouseenter mouseleave",function(L){var K=($(this).data("google-track")||"").split("/");if(K[0].toLowerCase()===E[L.type]){n.google.trackEvent.apply(n.google,K)}})})();k.trackExperiment=function(){n.track.exp.apply(this,Array.prototype.slice.apply(arguments))};$(function(){h.trigger("ready:before");n[g].init("ready")});$(l).load(function(){n[g].init("load")});n.run=function(q){return{afterReady:function(r){this.onReady(function(){h.bind("ready:finished",r)})},onReady:function(r){n[g][q]={priority:9,init:r}},onLoad:function(r){n[m][q]={priority:9,init:r}}}};n.runExp=function(q){return{beforeReady:function(r){h.bind("ready:before",r)},afterReady:function(r){this.onReady(function(){h.bind("ready:finished",r)})},onReady:function(r){n[d][q]={priority:9,init:r}},afterLoad:function(r){this.onLoad(function(){h.bind("load:finished",r)})},onLoad:function(r){n[e][q]={priority:9,init:r}}}};n.env.b_occupancy=(function j(){var x=n.env.b_group,r,v,u,w=0,t=0,q={adults:2,children:0,guests:2},y;if(Object.prototype.toString.apply(x)!=="[object Array]"){return q}v=x.length;u=x[0];y=v>1||(v===1&&(u.guests===1||u.guests>2||u.children>0));if(!y){return q}for(r=0;r<v;r+=1){u=x[r];w+=u.guests;t+=u.children}return{adults:w,children:t,guests:w+t}})();l.sNSExperiments=d;l.sNSStartup=g;l.sNSExperimentsLoad=e;l.sNSStartupLoad=m})(this,this.booking);(function(f){var c=5*1000,k=Array.prototype.slice;f.makeQable=function(t){var m=[],r=function(u){m.push(u);if(m.length===1){q(u)}},l=function(){m.shift()},o=function(z){var w,y,v=z.args,x=z.triggers,u,A=function(){A=function(){};l();n()};for(w=0,y=x.length;w<y;w+=1){u=v[x[w]];if(u&&typeof u==="function"){(function(B,C){v[B]=function(){clearTimeout(m.timeout);C.apply(this,k.apply(arguments));A()}})(x[w],u)}}},q=function(u){o(u);u.callback.call(jQuery,u.args);m.timeout=setTimeout(function(){u.callback.call(jQuery,u.args);m.timeout=setTimeout(function(){l();n()},c/2)},c)},n=function(){if(m.length>0){q(m[0])}};t=t||{};t.queue=function(w,u,v){r({callback:w,args:u,triggers:v});return m};t.getQueue=function(){return m};return t};if(booking.env.b_site_experiment_tracking_queue){var j=$.ajax,e=booking.env,h=$(window),d=/exps=|what=/i,g=booking.makeQable();$.ajax=function(m){var l=k.apply(arguments);if(d.test(m.url)){g.queue(j,m,["success","complete","error"]);return}return j.apply(this,l)};e.trackExperiment=booking.track.exp=function(n,m){if(typeof n==="undefined"||n===null){return}var w=($.isArray(n)?n:n.split(",")),r=[],u,o,q,y,v,l=e.js_experiment_tracking||{},z,x={load:function(){},error:function(){}},A,t;for(u=0,o=w.length;u<o;u+=1){z=isNaN(+w[u])&&!!l?l[w[u]]:w[u];if(/^[0-9]+$/.test(z)&&typeof e.amTracking["e"+z]==="undefined"){r.push(z);e.amTracking["e"+z]=1}}if(r.length>0){h.trigger("ClickTale:TrackDynamic",{experiments:r});y=m?";what="+m:"";q=$("#req_info").html()||"";t=document.createElement("img");A="/js_tracking?ver=1"+y+";sid="+e.b_sid+";aid="+e.b_aid+";lang="+e.b_lang_for_url+";pid="+e.pageview_id+";exps="+r.join()+";info="+q;t.onload=function(){x.load()};t.onerror=function(){x.error()};g.queue(function(){t.src=A;document.body.appendChild(t)},x,["load","error"])}}}})(this.booking);(function(k,m){var h=m.startup,l=Array.prototype.slice,d=Object.prototype.toString,e=function(){return +new Date+Math.random()+""},j=function(o){var q,u,t,r=false,n;if(o.length){for(q=0,u=o.length;q<u;q+=1){t=o[q];if(t&&d.apply(t)==="[object Function]"){n=q;r=t;break}}}return{handler:r,handlerIndex:n}},f={},g=m.env,c=function(n){return function(){var u,r,v=Array.prototype.slice,t,o,q=v.apply(arguments);if(this.length){u=j(q);r=u.handler;o=u.handlerIndex;if(r){q[o]=function(w){if(typeof ClickTaleExec!=="function"){return r.apply(this,v.apply(arguments))}if(!/submit/i.test(w.type)){if(this===k){ClickTaleExec("jQuery(window)."+w.type+"()");return r.apply(this,v.apply(arguments))}else{if(this===document){ClickTaleExec("jQuery(document)."+w.type+"()");return r.apply(this,v.apply(arguments))}else{if(this===document.documentElement){ClickTaleExec("jQuery(document.documentElement)."+w.type+"()");return r.apply(this,v.apply(arguments))}}}}var F=$(this),y=F.attr("id"),B=w.type,D,E,z=this.tagName.toLowerCase(),A,C,x;if(y){C=$("#"+y).index(this);x='jQuery("#'+y+'").eq('+C+")"}else{D=F.closest("[id]");E=D.attr("id");A=$("#"+E).index(D);C=D.find(z).index(this);x='jQuery("#'+E+'").eq('+A+').find("'+z+'").eq('+C+")"}if(!/submit/i.test(w.type)){if(B==="change"){x+='.val("'+F.val()+'")'}x+="."+B+"()";if(!F.hasClass("ClickTaleSensitive")){if(m.env.clicktale_event_check){if(w.handleObj&&w.handleObj.guid&&F.data("events")&&F.data("events")[B]&&F.data("events")[B][0]&&F.data("events")[B][0]["guid"]){if(w.handleObj.guid===F.data("events")[B][0]["guid"]){ClickTaleExec(x)}}}else{ClickTaleExec(x)}}}return r.apply(this,v.apply(arguments))};t=r.bookingClicktaleEventHandlerID=e();f[t]=q[o]}}return n.apply(this,q)}};if(!g.b_site_experiment_clicktale&&!/clicktale/.test(document.location.hostname)){return}if(g.b_site_experiment_clicktale_reloaded){(function(){var n=$.fn.bind,o=$.fn.unbind,q=$.fn.live;$.fn.bind=c(n);$.fn.live=c(q);$.fn.unbind=function(){var r=l.apply(arguments),u,t;if(this.length){u=j(r);t=u.handler.bookingClicktaleEventHandlerID;if(t&&f[t]){r[u.handlerIndex]=f[t]}}return o.apply(this,r)}})()}else{h.execute=function(q,o){var n=$.fn.bind,r=$.fn.live;$.fn.bind=c(n);$.fn.live=c(r);q.call(o);$.fn.bind=n;$.fn.live=r}}})(this,this.booking);$(function(){if(!booking.env.b_site_experiment_clicktale&&!/clicktale/.test(document.location.hostname)){return}ClickTaleEvent=(typeof ClickTaleEvent==="function")?ClickTaleEvent:function(){};ClickTaleRegisterElementAction=(typeof ClickTaleRegisterElementAction==="function")?ClickTaleRegisterElementAction:function(){};ClickTaleRegisterFormSubmitNotSent=(typeof ClickTaleRegisterFormSubmitNotSent==="function")?ClickTaleRegisterFormSubmitNotSent:function(){};ClickTaleRegisterFormSubmitSent=(typeof ClickTaleRegisterFormSubmitSent==="function")?ClickTaleRegisterFormSubmitSent:function(){};var n=function(x){if("ClickTaleContext" in window&&l(ClickTaleContext)==="[object Object]"){try{ClickTaleContext.getAggregationContextAsync("1",x)}catch(w){}}},j=$("[data-clicktale-signify]"),q=$(".clicktale-propagation, .bigbluebutton"),k=booking.env,c=k.b_occupancy||{},t=k.all_experiment_labels_running_for_clicktale,u={index:"#b_searchbox_errors",searchresults:".dateerrors",hotel:".dateerrors",city:".dateerrors",country:".dateerrors",book:".errorSimpleMsg",confirmation:""},e=$(".clicktalecatch"),v=u[k.b_action],o=$(v),r=k.b_action==="searchresults",d=$("#basiclayout").length,h,g,f=$(window),m={"0":"User not logged in","1":"User recognized","2":"User logged in"},l=function(w){return Object.prototype.toString.apply(w)};if(j.length){j.map(function(){var w=$(this),y=w.data("clicktale-signify").split("_"),x=y[0];if(x==="hover"){x="mouseenter"}w.bind(x,function(){ClickTaleEvent(y[1]+" "+x+"ed")})})}q.click(function(w){ClickTaleRegisterElementAction("click",w)});if(k.rtl){ClickTaleEvent("Right To Left")}if(k.b_action==="book"){ClickTaleEvent("Booking step "+k.b_stage);if(typeof(k.bs_multi_room)!="undefined"){if(k.bs_multi_room){ClickTaleEvent("Booking multiple room booking")}else{ClickTaleEvent("Booking single room booking")}}}if(/utm_medium/.test(document.location.search)){ClickTaleEvent("Source: email")}if(k.b_locale){ClickTaleEvent("Language: "+k.b_locale)}if(r){if(k.b_is_disambiguation){ClickTaleEvent("Disambiguation Page")}else{if(d){ClickTaleEvent("Search results Page")}else{ClickTaleEvent("Deal Finder Page")}}}if(k.b_action==="myreservations"){ClickTaleEvent("My bookings Page")}ClickTaleEvent(m[k.auth_level]);for(h=0,g=t.length;h<g;h+=1){ClickTaleEvent(t[h])}ClickTaleEvent(k.b_is_internal_ip?"Internal IP":"External IP");ClickTaleEvent(k.user_has_dates?"Dates chosen":"Dates not chosen");ClickTaleEvent(k.b_site_experiment_clicktale_reloaded?"New catcher":"Old catcher");ClickTaleEvent(c.adults+" adults");ClickTaleEvent(c.children+" children");ClickTaleEvent(((k.b_group&&$.isArray(k.b_group)&&k.b_group.length)?k.b_group.length:1)+" rooms selected");if(k.b_action==="hotel"){ClickTaleEvent($(".maintr").length+" rooms in rooms table");ClickTaleEvent(k.b_acc_type)}if(v&&o.length&&o.is(":visible")){ClickTaleRegisterFormSubmitFailure()}else{ClickTaleRegisterFormSubmitSuccess()}f.bind("Form:NotValid",function(w,x){ClickTaleRegisterFormSubmitNotSent(x.form)});f.bind("Form:Valid",function(w,x){ClickTaleRegisterFormSubmitSent(x.form)});$(".ctaction").live("click",function(){var w=$(".ctaction").index(this);ClickTaleExec('jQuery(".ctaction:eq('+w+')").click()')});e.bind("input keydown blur",function(){(window.ClickTaleExec||function(){})('jQuery(".clicktalecatch:eq('+e.index(this)+')").val("'+$(this).val()+'");')});e.bind("auto_completed",function(){(window.ClickTaleExec||function(){})('jQuery(".clicktalecatch:eq('+e.index(this)+')").val("'+$(this).val()+'");')});n(function(w){$("#bOn").click()});f.bind("ClickTale:TrackDynamic",function(A,C){var B=C.experiments,y,w,x,z;for(x=0,z=B.length;x<=z;x+=1){y=B[x]+"";if(y in k.clicktale_experiment_ids){w=k.clicktale_experiment_ids[y];if(w in k.all_experiment_names_running_for_clicktale){ClickTaleEvent("Experiment "+w+" variant "+k.all_experiment_names_running_for_clicktale[w])}}}});if(k.b_action){ClickTaleEvent("Action: "+k.b_action)}});if(booking.env.b_site_experiment_clicktale){function safeClickTaleRegisterFormSubmit(c){if(typeof ClickTaleRegisterFormSubmit==="function"){ClickTaleRegisterFormSubmit(c)}}function safeClickTaleRegisterFormSubmitSent(c){if(typeof ClickTaleRegisterFormSubmitSent==="function"){ClickTaleRegisterFormSubmitSent(c)}}function safeClickTaleRegisterFormSubmitNotSent(c){if(typeof ClickTaleRegisterFormSubmitNotSent==="function"){ClickTaleRegisterFormSubmitNotSent(c)}}function safeClickTaleRegisterFormSubmitSuccess(c){if(typeof ClickTaleRegisterFormSubmitSuccess==="function"){ClickTaleRegisterFormSubmitSuccess(c)}}function safeClickTaleRegisterFormSubmitFailure(c){if(typeof ClickTaleRegisterFormSubmitFailure==="function"){ClickTaleRegisterFormSubmitFailure(c)}}if(booking.env.b_action==="book"){jQuery(document).ready(function(){jQuery("form").bind("submit.CT",function(){safeClickTaleRegisterFormSubmit(this);safeClickTaleRegisterFormSubmitSent(this)});if(jQuery(".errorSimpleMsg").text().trim()&&jQuery("#top_warning").length>0){safeClickTaleRegisterFormSubmitFailure()}else{safeClickTaleRegisterFormSubmitSuccess()}})}}booking[sNSStartup].popups={priority:9,curPopup:null,tempTar:null,sizes:{s:{width:300,height:400},m:{width:400,height:400},l:{width:600,height:580},xl:{width:850,height:600}},init:function(){var c=this;$(".popup_s, .popup_m, .popup_l, .popup_xl").click(function(){var f="l";var d=$(this).attr("class").split(" ");for(var e=0;e<d.length;e++){if(d[e].indexOf("popup_")>-1){f=d[e].split("_")[1]}}c.tempTar=$(this).attr("href");c.openPopup(f);return false})},openPopup:function(d){var c=this;if(this.curPopup!=null){this.curPopup.close();this.curPopup=null;var d=d;setTimeout(function(){c.openPopup(d)},300)}else{var e=this.sizes[d];this.curPopup=window.open(this.tempTar,"","toolbar=0,location=0,directories=0,status=0,menubar=0,scrollbars=yes,resizable=1,width="+e.width+",height="+e.height+",left=200,top=200");this.curPopup.focus();this.tempTar=null}}};$(document).delegate(".tabs > ul > li","click",function(){var e=$(this),d=e.closest("ul"),c=d.children("li").removeClass("tab-selected");d.siblings("div").children("div").hide().eq(c.index(e.addClass("tab-selected"))).show()});(function(){var d=$(document.body),h=Object.prototype.toString,c=function(k){return h.apply(k)==="[object String]"};function g(l,k,m){d.append(k=$('<div style="position:fixed;top:-10000px;left:-10000px"></div>').append(l=$(l).clone()));m={height:l.height(),width:l.width()};k.remove();return m}function f(m,l,k){m.width(l.width).height(Math.floor(l.width*k))}function j(m,l,k){m.height(l.height).width(Math.floor(l.height/k))}function e(m,l){m=$(m);m.removeAttr("height").removeAttr("width");var n=m.data("current-dimensions")||g(m),k;n.height=+n.height;n.width=+n.width;k=n.height/n.width;if(n.width<=l.width&&n.height<=l.height){return}if(n.width>l.width&&n.height<=l.height){f(m,l,k);return}if(n.width<=l.width&&n.height>l.height){j(m,l,k);return}if((l.width*k)<=l.height){f(m,l,k);return}j(m,l,k)}window.booking.fitImage=e})();jQuery.cookie=function(d,l,o){if(typeof l!="undefined"){o=o||{};if(l===null){l="";o=$.extend({},o);o.expires=-1}var g="";if(o.expires&&(typeof o.expires=="number"||o.expires.toUTCString)){var h;if(typeof o.expires=="number"){h=new Date();h.setTime(h.getTime()+(o.expires*24*60*60*1000))}else{h=o.expires}g="; expires="+h.toUTCString()}var n=o.path?"; path="+(o.path):"";var j=o.domain?"; domain="+(o.domain):"";var c=o.secure?"; secure":"";document.cookie=[d,"=",encodeURIComponent(l),g,n,j,c].join("")}else{var f=null;if(document.cookie&&document.cookie!=""){var m=document.cookie.split(";");for(var k=0;k<m.length;k++){var e=jQuery.trim(m[k]);if(e.substring(0,d.length+1)==(d+"=")){f=decodeURIComponent(e.substring(d.length+1));break}}}return f}};jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(f,g,e,j,h){return jQuery.easing[jQuery.easing.def](f,g,e,j,h)},easeInQuad:function(f,g,e,j,h){return j*(g/=h)*g+e},easeOutQuad:function(f,g,e,j,h){return -j*(g/=h)*(g-2)+e},easeInOutQuad:function(f,g,e,j,h){if((g/=h/2)<1){return j/2*g*g+e}return -j/2*((--g)*(g-2)-1)+e},easeInCubic:function(f,g,e,j,h){return j*(g/=h)*g*g+e},easeOutCubic:function(f,g,e,j,h){return j*((g=g/h-1)*g*g+1)+e},easeInOutCubic:function(f,g,e,j,h){if((g/=h/2)<1){return j/2*g*g*g+e}return j/2*((g-=2)*g*g+2)+e},easeInQuart:function(f,g,e,j,h){return j*(g/=h)*g*g*g+e},easeOutQuart:function(f,g,e,j,h){return -j*((g=g/h-1)*g*g*g-1)+e},easeInOutQuart:function(f,g,e,j,h){if((g/=h/2)<1){return j/2*g*g*g*g+e}return -j/2*((g-=2)*g*g*g-2)+e},easeInQuint:function(f,g,e,j,h){return j*(g/=h)*g*g*g*g+e},easeOutQuint:function(f,g,e,j,h){return j*((g=g/h-1)*g*g*g*g+1)+e},easeInOutQuint:function(f,g,e,j,h){if((g/=h/2)<1){return j/2*g*g*g*g*g+e}return j/2*((g-=2)*g*g*g*g+2)+e},easeInSine:function(f,g,e,j,h){return -j*Math.cos(g/h*(Math.PI/2))+j+e},easeOutSine:function(f,g,e,j,h){return j*Math.sin(g/h*(Math.PI/2))+e},easeInOutSine:function(f,g,e,j,h){return -j/2*(Math.cos(Math.PI*g/h)-1)+e},easeInExpo:function(f,g,e,j,h){return(g==0)?e:j*Math.pow(2,10*(g/h-1))+e},easeOutExpo:function(f,g,e,j,h){return(g==h)?e+j:j*(-Math.pow(2,-10*g/h)+1)+e},easeInOutExpo:function(f,g,e,j,h){if(g==0){return e}if(g==h){return e+j}if((g/=h/2)<1){return j/2*Math.pow(2,10*(g-1))+e}return j/2*(-Math.pow(2,-10*--g)+2)+e},easeInCirc:function(f,g,e,j,h){return -j*(Math.sqrt(1-(g/=h)*g)-1)+e},easeOutCirc:function(f,g,e,j,h){return j*Math.sqrt(1-(g=g/h-1)*g)+e},easeInOutCirc:function(f,g,e,j,h){if((g/=h/2)<1){return -j/2*(Math.sqrt(1-g*g)-1)+e}return j/2*(Math.sqrt(1-(g-=2)*g)+1)+e},easeInElastic:function(f,h,e,m,l){var j=1.70158;var k=0;var g=m;if(h==0){return e}if((h/=l)==1){return e+m}if(!k){k=l*0.3}if(g<Math.abs(m)){g=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*l-j)*(2*Math.PI)/k))+e},easeOutElastic:function(f,h,e,m,l){var j=1.70158;var k=0;var g=m;if(h==0){return e}if((h/=l)==1){return e+m}if(!k){k=l*0.3}if(g<Math.abs(m)){g=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/g)}return g*Math.pow(2,-10*h)*Math.sin((h*l-j)*(2*Math.PI)/k)+m+e},easeInOutElastic:function(f,h,e,m,l){var j=1.70158;var k=0;var g=m;if(h==0){return e}if((h/=l/2)==2){return e+m}if(!k){k=l*(0.3*1.5)}if(g<Math.abs(m)){g=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*l-j)*(2*Math.PI)/k))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*l-j)*(2*Math.PI)/k)*0.5+m+e},easeInBack:function(f,g,e,k,j,h){if(h==undefined){h=1.70158}return k*(g/=j)*g*((h+1)*g-h)+e},easeOutBack:function(f,g,e,k,j,h){if(h==undefined){h=1.70158}return k*((g=g/j-1)*g*((h+1)*g+h)+1)+e},easeInOutBack:function(f,g,e,k,j,h){if(h==undefined){h=1.70158}if((g/=j/2)<1){return k/2*(g*g*(((h*=(1.525))+1)*g-h))+e}return k/2*((g-=2)*g*(((h*=(1.525))+1)*g+h)+2)+e},easeInBounce:function(f,g,e,j,h){return j-jQuery.easing.easeOutBounce(f,h-g,0,j,h)+e},easeOutBounce:function(f,g,e,j,h){if((g/=h)<(1/2.75)){return j*(7.5625*g*g)+e}else{if(g<(2/2.75)){return j*(7.5625*(g-=(1.5/2.75))*g+0.75)+e}else{if(g<(2.5/2.75)){return j*(7.5625*(g-=(2.25/2.75))*g+0.9375)+e}else{return j*(7.5625*(g-=(2.625/2.75))*g+0.984375)+e}}}},easeInOutBounce:function(f,g,e,j,h){if(g<h/2){return jQuery.easing.easeInBounce(f,g*2,0,j,h)*0.5+e}return jQuery.easing.easeOutBounce(f,g*2-h,0,j,h)*0.5+j*0.5+e}});
/*!
* jQuery hashchange event - v1.3 - 7/21/2010
* http://benalman.com/projects/jquery-hashchange-plugin/
* 
* Copyright (c) 2010 "Cowboy" Ben Alman
* Dual licensed under the MIT and GPL licenses.
* http://benalman.com/about/license/
*/
(function($,g,d){var e="hashchange",k=document,h,j=$.event.special,l=k.documentMode,f="on"+e in g&&(l===d||l>7);function c(m){m=m||location.href;return"#"+m.replace(/^[^#]*#?(.*)$/,"$1")}$.fn[e]=function(m){return m?this.bind(e,m):this.trigger(e)};$.fn[e].delay=50;j[e]=$.extend(j[e],{setup:function(){if(f){return false}$(h.start)},teardown:function(){if(f){return false}$(h.stop)}});h=(function(){var m={},u,q=c(),n=function(v){return v},o=n,t=n;m.start=function(){u||r()};m.stop=function(){u&&clearTimeout(u);u=d};function r(){var w=c(),v=t(q);if(w!==q){o(q=w,v);$(g).trigger(e)}else{if(v!==q){location.href=location.href.replace(/#.*/,"")+v}}u=setTimeout(r,$.fn[e].delay)}$.browser.msie&&!f&&(function(){var v,w;m.start=function(){if(!v){w=$.fn[e].src;w=w&&w+c();v=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){w||o(c());r()}).attr("src",w||"javascript:0").insertAfter("body")[0].contentWindow;k.onpropertychange=function(){try{if(event.propertyName==="title"){v.document.title=k.title}}catch(x){}}}};m.stop=n;t=function(){return c(v.location.href)};o=function(A,x){var z=v.document,y=$.fn[e].domain;if(A!==x){z.title=k.title;z.open();y&&z.write('<script>document.domain="'+y+'"<\/script>');z.close();v.location.hash=A}}})();return m})()})(jQuery,window);(function(c){c.fn.hint=function(d){if(!d){d="blur"}return this.each(function(){var j=c(this),g=j.attr("title"),f=c(this.form),h=c(window);function e(){if(j.val()===g&&j.hasClass(d)){j.val("").removeClass(d)}}if(g){j.blur(function(){if(this.value===""){j.val(g).addClass(d)}}).focus(e).blur();f.submit(e);h.unload(e)}})}})(jQuery);if(!booking.env.no_search_placeholder_ie){$("input#destination:text").hint();$("input#keyword.faq_search_input").hint()}(function(h,g,m){var l=g.event,k;l.special.smartresize={setup:function(){g(this).bind("resize",l.special.smartresize.handler)},teardown:function(){g(this).unbind("resize",l.special.smartresize.handler)},handler:function(e,q){var o=this,n=arguments;e.type="smartresize",k&&clearTimeout(k),k=setTimeout(function(){g.event.handle.apply(o,n)},q==="execAsap"?0:100)}},g.fn.smartresize=function(c){return c?this.bind("smartresize",c):this.trigger("smartresize",["execAsap"])},g.Mason=function(d,e){this.element=g(e),this._create(d),this._init()},g.Mason.settings={isResizable:!0,isAnimated:!1,animationOptions:{queue:!1,duration:500},gutterWidth:0,isRTL:!1,isFitWidth:!1,containerStyle:{position:"relative"}},g.Mason.prototype={_filterFindBricks:function(d){var c=this.options.itemSelector;return c?d.filter(c).add(d.find(c)):d},_getBricks:function(d){var c=this._filterFindBricks(d).css({position:"absolute"}).addClass("masonry-brick");return c},_create:function(t){this.options=g.extend(!0,{},g.Mason.settings,t),this.styleQueue=[];var r=this.element[0].style;this.originalStyle={height:r.height||""};var q=this.options.containerStyle;for(var o in q){this.originalStyle[o]=r[o]||""}this.element.css(q),this.horizontalDirection=this.options.isRTL?"right":"left",this.offset={x:parseInt(this.element.css("padding-"+this.horizontalDirection),10),y:parseInt(this.element.css("padding-top"),10)},this.isFluid=this.options.columnWidth&&typeof this.options.columnWidth=="function";var n=this;setTimeout(function(){n.element.addClass("masonry")},0),this.options.isResizable&&g(h).bind("smartresize.masonry",function(){n.resize()}),this.reloadItems()},_init:function(c){this._getColumns(),this._reLayout(c)},option:function(d,e){g.isPlainObject(d)&&(this.options=g.extend(!0,this.options,d))},layout:function(x,w){for(var v=0,u=x.length;v<u;v++){this._placeBrick(x[v])}var t={};t.height=Math.max.apply(Math,this.colYs);if(this.options.isFitWidth){var r=0;v=this.cols;while(--v){if(this.colYs[v]!==0){break}r++}t.width=(this.cols-r)*this.columnWidth-this.options.gutterWidth}this.styleQueue.push({$el:this.element,style:t});var q=this.isLaidOut?this.options.isAnimated?"animate":"css":"css",o=this.options.animationOptions,n;for(v=0,u=this.styleQueue.length;v<u;v++){n=this.styleQueue[v],n.$el[q](n.style,o)}this.styleQueue=[],w&&w.call(x),this.isLaidOut=!0},_getColumns:function(){var d=this.options.isFitWidth?this.element.parent():this.element,c=d.width();this.columnWidth=this.isFluid?this.options.columnWidth(c):this.options.columnWidth||this.$bricks.outerWidth(!0)||c,this.columnWidth+=this.options.gutterWidth,this.cols=Math.floor((c+this.options.gutterWidth)/this.columnWidth),this.cols=Math.max(this.cols,1)},_placeBrick:function(E){var D=g(E),C,B,A,z,y;C=Math.ceil(D.outerWidth(!0)/this.columnWidth),C=Math.min(C,this.cols);if(C===1){A=this.colYs}else{B=this.cols+1-C,A=[];for(y=0;y<B;y++){z=this.colYs.slice(y,y+C),A[y]=Math.max.apply(Math,z)}}var x=Math.min.apply(Math,A),w=0;for(var v=0,u=A.length;v<u;v++){if(A[v]===x){w=v;break}}var t={top:x+this.offset.y};t[this.horizontalDirection]=this.columnWidth*w+this.offset.x,this.styleQueue.push({$el:D,style:t});var r=x+D.outerHeight(!0),q=this.cols+1-u;for(v=0;v<q;v++){this.colYs[w+v]=r}},resize:function(){var c=this.cols;this._getColumns(),(this.isFluid||this.cols!==c)&&this._reLayout()},_reLayout:function(d){var c=this.cols;this.colYs=[];while(c--){this.colYs.push(0)}this.layout(this.$bricks,d)},reloadItems:function(){this.$bricks=this._getBricks(this.element.children())},reload:function(c){this.reloadItems(),this._init(c)},appended:function(f,e,o){if(e){this._filterFindBricks(f).css({top:this.element.height()});var n=this;setTimeout(function(){n._appended(f,o)},1)}else{this._appended(f,o)}},_appended:function(e,d){var f=this._getBricks(e);this.$bricks=this.$bricks.add(f),this.layout(f,d)},remove:function(c){this.$bricks=this.$bricks.not(c),c.remove()},destroy:function(){this.$bricks.removeClass("masonry-brick").each(function(){this.style.position="",this.style.top="",this.style.left=""});var f=this.element[0].style;for(var e in this.originalStyle){f[e]=this.originalStyle[e]}this.element.unbind(".masonry").removeClass("masonry").removeData("masonry"),g(h).unbind(".masonry")}},g.fn.imagesLoaded=function(n){function q(){n.call(w,v)}function o(d){var e=d.target;e.src!==t&&g.inArray(e,r)===-1&&(r.push(e),--u<=0&&(setTimeout(q),v.unbind(".imagesLoaded",o)))}var w=this,v=w.find("img").add(w.filter("img")),u=v.length,t="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",r=[];return u||q(),v.bind("load.imagesLoaded error.imagesLoaded",o).each(function(){var c=this.src;this.src=t,this.src=c}),w};var j=function(c){h.console&&h.console.error(c)};g.fn.masonry=function(d){if(typeof d=="string"){var e=Array.prototype.slice.call(arguments,1);this.each(function(){var c=g.data(this,"masonry");if(!c){j("cannot call methods on masonry prior to initialization; attempted to call method '"+d+"'");return}if(!g.isFunction(c[d])||d.charAt(0)==="_"){j("no such method '"+d+"' for masonry instance");return}c[d].apply(c,e)})}else{this.each(function(){var f=g.data(this,"masonry");f?(f.option(d||{}),f._init()):g.data(this,"masonry",new g.Mason(d,this))})}return this}})(window,jQuery);(function(c){c.extend({noticeAdd:function(f){var k={inEffect:{opacity:"show"},inEffectDuration:600,stayTime:3000,text:"",stay:false,type:"notice",destination:"",platform:"mac"};var f,l,j,g,e,d;f=c.extend({},k,f);if(typeof booking.env.b_site_experiment_ipad_improvements!="undefined"&&booking.env.b_site_experiment_ipad_improvements){return}var h=navigator&&navigator.platform&&(navigator.platform.indexOf("Mac")==-1&&navigator.platform.indexOf("iPad")==-1&&navigator.platform.indexOf("iPhone")==-1);if(h){f.platform="win"}l=(!c(".notice-wrap").length)?c("<div></div>").addClass("notice-wrap").addClass(f.platform).appendTo("body"):c(".notice-wrap");j=c("<div></div>").addClass("notice-item-wrapper");d=(f.destination=="")?"<p>"+f.text+"</p>":'<p><a href="'+f.destination+'">'+f.text+"</a></p>";if(f.close=="all"){g=c("<div></div>").hide().addClass("notice-item "+f.type+" "+f.addClassName).appendTo(l).html(d).animate(f.inEffect,f.inEffectDuration).wrap(j).click(function(n){if(booking.env.b_action==="hotel"){var m=JSON.parse($.cookie("bs"))||{};m.gc=1;if(typeof(JSON)!="undefined"){$.cookie("bs",JSON.stringify(m),{path:"/",domain:booking.env.b_domain_end})}}booking.google.trackEvent(booking.google.clickTracker,"growl_removed",n&&n.target&&$(n.target).closest(".notice-item-close-x").length?"x":"message");c.noticeRemove(g,f.addClassName);return false});e=c("<div></div>").addClass("notice-item-close-x").prependTo(g)}else{g=c("<div></div>").hide().addClass("notice-item "+f.type).appendTo(l).html(d).animate(f.inEffect,f.inEffectDuration).wrap(j);e=c("<div></div>").addClass("notice-item-close-x").prependTo(g).click(function(){c.noticeRemove(g);if(f.type=="language"){if(typeof(b_cookie)=="undefined"){b_cookie={}}b_cookie.langPrompt="dontshow";if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:booking.env.b_domain_end})}}return false})}if(f.type=="language"){$(".notice-item p").css("cursor","pointer");$(".notice-item p").click(function(){$("#langselectformlist").val(booking.env.browser_lang);$("#languageselect")[0].submit();c.noticeRemove(g);return false})}if(navigator.userAgent.match(/MSIE 6/i)){l.css({top:document.documentElement.scrollTop})}if(!f.stay){setTimeout(function(){c.noticeRemove(g)},f.stayTime)}},noticeAddBig:function(e){var h={inEffect:{opacity:"show"},inEffectDuration:600,stayTime:3000,text:"",stay:false,type:"notice"};var e,j,g,f,d;e=c.extend({},h,e);j=(!c(".notice-wrap").length)?c("<div></div>").addClass("notice-wrap").appendTo("body"):c(".notice-wrap");g=c("<div></div>").addClass("notice-item-wrapper");f=c("<div></div>").hide().addClass("notice-item-big "+e.type).appendTo(j).html("<p>"+e.text+"</p>").animate(e.inEffect,e.inEffectDuration).wrap(g);d=c("<div></div>").addClass("notice-item-close").prependTo(f).html("x").click(function(){c.noticeRemove(f)});if(navigator.userAgent.match(/MSIE 6/i)){j.css({top:document.documentElement.scrollTop})}if(!e.stay){setTimeout(function(){c.noticeRemove(f)},e.stayTime)}},noticeRemove:function(e,d){e.animate({opacity:"0"},600,function(){e.parent().animate({height:"0px"},300,function(){e.parent().remove()})});if(d&&d!=""){$("."+d).removeClass(d)}}})})(jQuery);jQuery.fn.pulse=function(c,f,d,j,l){if(isNaN(d)){l=j;j=d;d=1}var k=jQuery.speed(f,j,l),h=k.queue!==false,g=0;for(var e in c){g=Math.max(c[e].length,g)}k.times=k.times||d;return this[h?"queue":"each"](function(){var o={},n=jQuery.extend({},k),m=jQuery(this);q();function q(){var u={},r=false;for(var t in c){o[t]=o[t]||{runs:0,cur:-1};if(o[t].cur<c[t].length-1){++o[t].cur}else{o[t].cur=0;++o[t].runs}if(c[t].length===g){r=n.times>o[t].runs}u[t]=c[t][o[t].cur]}n.complete=q;n.queue=false;if(r){m.animate(u,n)}else{k.complete.call(m[0])}}})};(function(f){var c=f.scrollTo=function(d,g,h){f(window).scrollTo(d,g,h)};c.defaults={axis:"xy",duration:parseFloat(f.fn.jquery)>=1.3?0:1};c.window=function(d){return f(window)._scrollable()};f.fn._scrollable=function(){return this.map(function(){var d=this,g=!d.nodeName||f.inArray(d.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!g){return d}var h=(d.contentWindow||d).document||d.ownerDocument||d;return f.browser.safari||h.compatMode=="BackCompat"?h.body:h.documentElement})};f.fn.scrollTo=function(h,g,d){if(typeof g=="object"){d=g;g=0}if(typeof d=="function"){d={onAfter:d}}if(h=="max"){h=9000000000}d=f.extend({},c.defaults,d);g=g||d.speed||d.duration;d.queue=d.queue&&d.axis.length>1;if(d.queue){g/=2}d.offset=e(d.offset);d.over=e(d.over);return this._scrollable().each(function(){var v=this,n=f(v),o=h,l,m={},j=n.is("html,body");switch(typeof o){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(o)){o=e(o);break}o=f(o,this);case"object":if(o.is||o.style){l=(o=f(o)).offset()}}f.each(d.axis.split(""),function(t,u){var x=u=="x"?"Left":"Top",w=x.toLowerCase(),z="scroll"+x,r=v[z],q=c.max(v,u);if(l){m[z]=l[w]+(j?0:r-n.offset()[w]);if(d.margin){m[z]-=parseInt(o.css("margin"+x))||0;m[z]-=parseInt(o.css("border"+x+"Width"))||0}m[z]+=d.offset[w]||0;if(d.over[w]){m[z]+=o[u=="x"?"width":"height"]()*d.over[w]}}else{var y=o[w];m[z]=y.slice&&y.slice(-1)=="%"?parseFloat(y)/100*q:y}if(/^\d+$/.test(m[z])){m[z]=m[z]<=0?0:Math.min(m[z],q)}if(!t&&d.queue){if(r!=m[z]){k(d.onAfterFirst)}delete m[z]}});k(d.onAfter);function k(q){n.animate(m,g,d.easing,q&&function(){q.call(this,h,d)})}}).end()};c.max=function(j,k){var o=k=="x"?"Width":"Height",n="scroll"+o;if(!f(j).is("html,body")){return j[n]-f(j)[o.toLowerCase()]()}var q="client"+o,g=j.ownerDocument.documentElement,d=j.ownerDocument.body;return Math.max(g[n],d[n])-Math.min(g[q],d[q])};function e(d){return typeof d=="object"?d:{top:d,left:d}}})(jQuery);if(!window.console){window.console=new function(){this.log=function(c){};this.dir=function(c){};this.debug=function(c){};this.info=function(c){};this.warn=function(c){};this.table=function(c){};this.trace=function(){};this.time=function(c){};this.timeEnd=function(c){};this.info=function(c){}}}booking[sNSStartup].anchorJump={priority:9,init:function(){if($("#newsletterbox .error").length){location.href=location.href+"#errormsg"}$(".forgotten a, a.forgotten").click(function(){window.open(this.href,"","toolbar=0,location=0,directories=0,status=0,menubar=0,scrollbars=yes,resizable=1,width=500,height=500,left=200,top=200");return false})}};booking[sNSStartup].search_autocomplete={target:$("#destination"),priority:9,init:function(){this.initializeAutocomplete()},initElse:function(){this.initializeAutocomplete()},initializeAutocomplete:function(){var d=this,c=function(){booking.env.trackExperiment(booking.env.autocomplete_values);d.target.unbind("keypress",d.handler)};this.target.keypress(c)}};(function(){var h=booking.env,e=h.b_timestamp*1000,d=false,c=Math.abs(+new Date()-new Date(e))>=24*3600*1000,f=typeof h.bse_dirty_dates!=="undefined"&&c,j=h.bse_dirty_dates&&c,g=booking[sNSStartup].calendar={priority:9,version:1.4,datefmt:"YYYY MM DD",minimalDays:1,maximalDays:30,oldDays:1,from:{date:null,day:null,month:null,year:null},till:{date:null,day:null,month:null,year:null},viewDateFrom:j?new Date(e):new Date(),viewDateTill:j?new Date(e):new Date(),oneDayInMS:86400000,calendars:[],calendarTypes:{checkin_day:{isTill:false,isDay:true},checkin_monthday:{isTill:false,isDay:true},checkin_year_month:{isTill:false,isDay:false},pre_checkin_year_month:{isTill:false,isDay:false},checkout_day:{isTill:true,isDay:true},checkout_monthday:{isTill:true,isDay:true},checkout_year_month:{isTill:true,isDay:false},pre_checkout_year_month:{isTill:true,isDay:false},start_monthday:{isTill:false,isDay:true},start_year_month:{isTill:false,isDay:false},end_monthday:{isTill:true,isDay:true},end_year_month:{isTill:true,isDay:false}},maxMonthsInFuture:12,maxDaysInFuture:365,maxDaysInThePast:1,syncDate:null,userServDate:false,hasDataRange:false,dateFormat:function(r,C,x){var t=/D{1,4}|M{1,4}|YY(?:YY)?/g,q=function(y,m){y=String(y);m=m||2;while(y.length<m){y="0"+y}return y};var o=this;if(arguments.length==1&&Object.prototype.toString.call(r)=="[object String]"&&!/\d/.test(r)){C=r;r=undefined}r=r?new Date(r):new Date;if(isNaN(r)){throw SyntaxError("invalid date")}C=String(C||o.datefmt);if(C.slice(0,4)=="UTC:"){C=C.slice(4);x=true}var A=x?"getUTC":"get",v=r[A+"Date"](),k=r[A+"Day"](),n=r[A+"Month"](),w=r[A+"FullYear"](),z=r[A+"Hours"](),u=r[A+"Minutes"](),B=r[A+"Seconds"](),l={D:v,DD:q(v),DDD:h.b_simple_weekdays_for_js[(k+6)%7],DDDD:h.b_long_weekdays[(k+6)%7],M:n+1,MM:q(n+1),MMM:h.b_short_months_abbr[n],MMMM:h.b_short_months[n],YY:String(w).slice(2),YYYY:w};return C.replace(t,function(m){return m in l?l[m]:m.slice(1,m.length-1)})},searchMinDays:function(k){this.minimalDays=k},maxYearsInFuture:function(){this.today=(j)?this.noHourDate(new Date(e)):this.noHourDate(null);this.maxMonthsInFuture=12;if(h.b_site_variant_calendar_days_allowed_fix){this.maxDaysInFuture=parseInt(h.calendar_days_allowed_number)}else{this.maxDaysInFuture=365}if(h.b_site_experiment_rolling_calendar_year){if(this.maxMonthsInFuture<13){this.maxMonthsInFuture=13}}this.tomorrow=this.dateAfterDays(this.today,1);this.endOfYear1=this.dateAfterDays(this.today,this.maxDaysInFuture);this.endOfYear2=this.dateAfterDays(this.today,this.maxDaysInFuture-1)},setPast:function(k){this.maxDaysInThePast=k},syncDates:function(k,l,r,n,q){$(".b_check_blocked").removeClass("b_check_blocked");if(!q){$("#availcheck").attr("checked",false);$("#define_group input, #define_group select").removeAttr("disabled");$("#define_group").removeClass("disableme")}if(k){this.till.day=(l==null)?this.till.day:l;this.till.month=(r==null)?this.till.month:r;this.till.year=(n==null)?this.till.year:n;if(this.till.day!=null&&this.till.month!=null&&this.till.year!=null){this.till.date=new Date(this.till.year+"/"+this.till.month+"/"+this.till.day+" 00:00:00");this.viewDateTill=new Date(this.till.year+"/"+this.till.month+"/"+this.till.day+" 00:00:00")}}else{this.hasDataRange=true;this.from.day=(l==null)?this.from.day:l;this.from.month=(r==null)?this.from.month:r;this.from.year=(n==null)?this.from.year:n;if(this.from.day!=null&&this.from.month!=null&&this.from.year!=null){this.from.date=new Date(this.from.year+"/"+this.from.month+"/"+this.from.day+" 00:00:00");this.viewDateFrom=new Date(this.from.year+"/"+this.from.month+"/"+this.from.day+" 00:00:00")}}var o=false;if(!k&&this.from.date!=null){if(this.till.date!=null){if(this.till.date<=this.from.date){if(booking.env.b_site_experiment_av_calendar&&booking.avCalendar.isCheckInAvailable(this.from)){this.till.date=new Date(booking.avCalendar.getFirstAvailableCheckOut(this.from)+" 00:00:00")}else{this.till.date=this.dateAfterDays(this.from.date,this.oldDays)}o=true}else{if(booking.env.b_site_experiment_clip_checkout_day_dropdown){if(booking.env.b_site_experiment_clip_checkout_day_dropdown=="2"){this.till.date=this.dateAfterDays(this.from.date,this.oldDays)}o=true}if(booking.env.b_site_experiment_av_calendar&&booking.avCalendar.isCheckOutAvailable(this.from,this.till)===false){this.till.date=new Date(booking.avCalendar.getFirstAvailableCheckOut(this.from)+" 00:00:00");o=true}}}else{if(!q){if(booking.env.b_site_experiment_av_calendar&&booking.avCalendar.isCheckInAvailable(this.from)){this.till.date=new Date(booking.avCalendar.getFirstAvailableCheckOut(this.from)+" 00:00:00")}else{this.till.date=this.dateAfterDays(this.from.date,this.minimalDays)}o=true}}}else{if(k&&this.till.date!=null){if(this.from.date==null){if(!q){this.from.date=this.dateAfterDays(this.till.date,~(this.minimalDays-1));o=true}}}}if(o){if(!k){this.till.year=this.till.date.getFullYear();this.till.month=this.till.date.getMonth()+1;this.till.day=this.till.date.getDate();this.viewDateTill=new Date(this.till.year+"/"+this.till.month+"/"+this.till.day+" 00:00:00")}else{this.from.year=this.from.date.getFullYear();this.from.month=this.from.date.getMonth()+1;this.from.day=this.from.date.getDate();this.viewDateFrom=new Date(this.from.year+"/"+this.from.month+"/"+this.from.day+" 00:00:00")}}if(booking.env.b_site_experiment_omni_search){this.updateOmniLabels()}for(var m=0;m<this.calendars.length;m++){$(this.calendars[m]).trigger("changed_date",[k,o])}},updateCalendarTables:function(k){if($(k).hasClass("calendarTill")){this.rebuildCalendarTable($("table",k).get(0),true,this.viewDateTill.getMonth()+1,this.viewDateTill.getFullYear())}else{this.rebuildCalendarTable($("table",k).get(0),false,this.viewDateFrom.getMonth()+1,this.viewDateFrom.getFullYear())}},init:function(){if(this.calendarReady){return}this.calendarReady=true;this.maxYearsInFuture();this.initAddHandlers();if(booking.env.b_site_experiment_omni_search){this.updateOmniLabels()}},initAddHandlers:function(){var k=this;$("select").each(function(){if(k.calendarTypes[$(this).attr("name")]){k.calendars.push(this);var l=$(this).val();if(l!="0"){var n=k.calendarTypes[$(this).attr("name")];if(n.isDay){if(n.isTill){k.till.day=l}else{k.from.day=l}}else{var m=l.split("-");if(m.length&&m.length>0){if(n.isTill){k.till.year=m[0];k.till.month=m[1]}else{k.from.year=m[0];k.from.month=m[1]}}}}$(this).bind("changed_date",function(q,o,t){$("input",this.parentNode).each(function(){if(k.calendarTypes[$(this).attr("name")]){var u=k.calendarTypes[$(this).attr("name")];if(u.isDay&&u.isTill&&k.till.day!=null){$(this).val(k.till.day)}if(u.isDay&&!u.isTill&&k.from.day!=null){$(this).val(k.from.day)}if(!u.isDay&&u.isTill&&k.till.month!=null&&k.till.year!=null){$(this).val(k.till.year+"-"+k.till.month)}if(!u.isDay&&!u.isTill&&k.from.month!=null&&k.from.year!=null){$(this).val(k.from.year+"-"+k.from.month)}}});var r=k.calendarTypes[$(this).attr("name")];if(((o||t)&&r.isTill)||((!o||t)&&!r.isTill)){if(r.isDay){if((r.isTill&&k.till.year!=null&&k.till.month!=null)||(!r.isTill&&k.from.year!=null&&k.from.month!=null)){k.rebuildDaySelect(this,r.isTill)}}else{if(r.isTill&&k.till.year!=null&&k.till.month!=null){k.selectOption(this,k.till.year+"-"+k.till.month)}else{if(!r.isTill&&k.from.year!=null&&k.from.month!=null){k.selectOption(this,k.from.year+"-"+k.from.month)}}}}});$(this).change(function(){var t=k.calendarTypes[$(this).attr("name")];var r=$(this).val();var q=r.split("-");if(r!="0"){if($(this).parents(".newcalendar").length){var o=$(this).parents(".newcalendar");if(q.length&&q.length>1){if($(this).parents(".calendarTill").length){k.viewDateTill=new Date(q[0]+"/"+q[1]+"/"+k.viewDateTill.getDate()+" 00:00:00");k.rebuildCalendarTable($("table",o).get(0),true,k.viewDateTill.getMonth()+1,k.viewDateTill.getFullYear())}else{k.viewDateFrom=new Date(q[0]+"/"+q[1]+"/"+k.viewDateFrom.getDate()+" 00:00:00");k.rebuildCalendarTable($("table",o).get(0),false,k.viewDateFrom.getMonth()+1,k.viewDateFrom.getFullYear())}}}else{k.syncDates(t.isTill,(t.isDay)?r:null,(t.isDay)?null:((q.length&&q.length>1)?q[1]:null),(t.isDay)?null:q[0])}}})}});$(".newcalendar").each(function(){if($(this).hasClass("calendarTill")){k.rebuildCalendarTable($("table",this).get(0),true,k.viewDateTill.getMonth()+1,k.viewDateTill.getFullYear())}else{k.rebuildCalendarTable($("table",this).get(0),false,k.viewDateFrom.getMonth()+1,k.viewDateFrom.getFullYear())}k.calendars.push(this);$(this).bind("changed_date",function(m,l,o){if($(this).hasClass("calendarTill")){if(k.till.month!=null&&k.till.year!=null){var n=(k.till.day)?k.till.day:1;k.viewDateTill=new Date(k.till.year+"/"+k.till.month+"/"+n+" 00:00:00");k.rebuildCalendarTable($("table",this).get(0),true,k.till.month,k.till.year)}}else{if(k.from.month!=null&&k.from.year!=null){var n=(k.from.day)?k.from.day:1;k.viewDateFrom=new Date(k.from.year+"/"+k.from.month+"/"+n+" 00:00:00");k.rebuildCalendarTable($("table",this).get(0),false,k.from.month,k.from.year)}}k.updateLabels()});$("td",this).live("click",function(){if(parseInt($(this).text())>0){if($("a",this).length){if($(this).parents(".calendarTill").length){k.syncDates(true,$(this).text(),k.viewDateTill.getMonth()+1,k.viewDateTill.getFullYear())}else{k.syncDates(false,$(this).text(),k.viewDateFrom.getMonth()+1,k.viewDateFrom.getFullYear())}if(!h.b_site_experiment_groups_number_rooms){$("#define_group").show()}k.closePopupCalendar()}}k.checkFormPost();return false});$(".nextmonth",this).bind("click",function(){if(!$(this).hasClass("disabled")){var l=$(this).parents(".newcalendar").get(0);if($(this).parents(".calendarTill").length){k.viewDateTill=k.dateAfterDays(k.viewDateTill,0,1);k.rebuildCalendarTable($("table",l).get(0),true,k.viewDateTill.getMonth()+1,k.viewDateTill.getFullYear())}else{k.viewDateFrom=k.dateAfterDays(k.viewDateFrom,0,1);k.rebuildCalendarTable($("table",l).get(0),false,k.viewDateFrom.getMonth()+1,k.viewDateFrom.getFullYear())}}this.blur();return false});$(".prevmonth",this).bind("click",function(){if(!$(this).hasClass("disabled")){var l=$(this).parents(".newcalendar").get(0);if($(this).parents(".calendarTill").length){k.viewDateTill=k.dateAfterDays(k.viewDateTill,0,-1);k.rebuildCalendarTable($("table",l).get(0),true,k.viewDateTill.getMonth()+1,k.viewDateTill.getFullYear())}else{k.viewDateFrom=k.dateAfterDays(k.viewDateFrom,0,-1);k.rebuildCalendarTable($("table",l).get(0),false,k.viewDateFrom.getMonth()+1,k.viewDateFrom.getFullYear())}}this.blur();return false});$("select",this).each(function(){var l=$(this).attr("name");var m=$(this).val();if(k.calendarTypes[l]){if(!k.calendarTypes[l].isDay){$(this).attr("name","pre_"+l);$(this.parentNode).append('<input type="hidden" name="'+l+'" value="'+m+'" />')}}else{$(this).change(function(){var n=$(this).val();if(n!="0"){var o=n.split("-");if(o.length&&o.length>0){oCalendar=$(this).parents(".newcalendar");if($(this).parents(".calendarTill").length){k.viewDateTill=new Date(o[0]+"/"+o[1]+"/1 00:00:00");k.rebuildCalendarTable($("table",oCalendar).get(0),true,o[1],o[0])}else{k.viewDateFrom=new Date(o[0]+"/"+o[1]+"/1 00:00:00");k.rebuildCalendarTable($("table",oCalendar).get(0),false,o[1],o[0])}}}})}})});$(".calendarLink").click(function(){if(booking.env.b_site_experiment_omni_search){$("body").trigger("click");if($(".when","#frm").hasClass("has_omni_error")){$(".when","#frm").removeClass("has_omni_error")}}window.calendarRef=$(this).parent().attr("class");k.openPopupCalendar(this);return false});$(".calendar_close").click(function(){k.closePopupCalendar();return false});if(this.from.year!=null&&this.from.month!=null&&this.from.day!=null){k.syncDates(false,this.from.day,this.from.month,this.from.year,true)}if(this.till.year!=null&&this.till.month!=null&&this.till.day!=null){k.syncDates(true,this.till.day,this.till.month,this.till.year,true)}if(window.location.hash=="#auto_open_checkout"){$("#auto_open_checkout a").click()}},checkFormPost:function(){if($("."+window.calendarRef+" .submit_on_change").length){if(booking.env.b_action=="hotel"){if(window.calendarRef=="dealCheckinDate"&&$("#hotelpage_availform").attr("action").indexOf("#")>-1){var k=$("#hotelpage_availform").attr("action").split("#")[0];$("#hotelpage_availform").attr("action",k)}$("#hotelpage_availform").submit()}else{$("#frm").submit()}}},updateLabels:function(){var l=Math.round((this.noHourDate(this.till.date)-this.noHourDate(this.from.date))/this.oneDayInMS);if(l>0){if(h.night&&h.nights){var k=(l==1)?1+" "+h.night:h.nights.replace("{amount}",l);if(k.indexOf(l)<0){k=l+" "+k}if($(".dayamount").length){$(".dayamount").text(k)}if($(".no_nights_helper").length){$(".no_nights_helper").text("("+k+")")}}}if($(".calendarFrom").length){$(".calendarFrom .ct_month").text(h.b_short_months[parseInt(this.from.month)-1]);$(".calendarFrom .ct_day").text(this.from.day);if($(".calendarTill").length){$(".calendarTill .ct_month").text(h.b_short_months[parseInt(this.till.month)-1]);$(".calendarTill .ct_day").text(this.till.day)}}},updateOmniLabels:function(){var m=$("#checkin_day option:selected").val()!="0"||$("#checkout_day option:selected").val()!="0";if(m&&this.from.day&&this.till.day){var k=booking.formatter.date(this.from.month+"-"+this.from.day+"-"+this.from.year);var l=booking.formatter.date(this.till.month+"-"+this.till.day+"-"+this.till.year);if($(".checkin .placeholder","#frm").length>0&&$(".checkout .placeholder","#frm").length>0){$(".checkin").addClass("filled").find(".placeholder").text(k);$(".checkout").addClass("filled").find(".placeholder").text(l)}else{$("fieldset.when label.checkin","#frm").addClass("filled").append('<button class="placeholder theme">'+k+"</button>");$("fieldset.when label.checkout","#frm").addClass("filled").append('<button class="placeholder theme">'+l+"</button>")}}else{if(!($(".checkin .placeholder","#frm").length>0&&$(".checkout .placeholder","#frm").length>0)){$("fieldset.when label.checkin","#frm").append('<button class="placeholder theme">'+booking.env.b_omni_map_checkin+"</button>");$("fieldset.when label.checkout","#frm").append('<button class="placeholder theme">'+booking.env.b_omni_map_checkout+"</button>")}}},updatePrevNextLinks:function(k,l){var q=this;var o=this.dateAfterDays(this.tomorrow,(this.maxDaysInFuture-2));var n=(this.maxDaysInThePast>1)?this.dateAfterDays(this.tomorrow,~this.maxDaysInThePast):this.tomorrow;var m=($(l).parents(".calendarTill").length)?this.viewDateTill:this.viewDateFrom;$(".nextmonth",l.parentNode).each(function(){if(q.dateAfterDays(m,0,1,true)>o){$(this).addClass("disabled")}else{$(this).removeClass("disabled")}});$(".prevmonth",l.parentNode).each(function(){if(q.dateAfterDays(m,0,-1,true)<n){$(this).addClass("disabled")}else{$(this).removeClass("disabled")}});this.selectOption($("select",l.parentNode),m.getFullYear()+"-"+(m.getMonth()+1))},rebuildCalendarTable:function(n,o,A,B){var k=$(n).parents(".newcalendar");var y=document.createElement("table");$(y).html(n.innerHTML);var z=booking.env.b_site_experiment_av_calendar&&k.hasClass("avCalendar");if(o&&z&&this.from.date){$(".avCalendar_pick_checkin").hide();$(".avCalendar.calendarTill").show()}var C=parseInt(new Date(B+"/"+A+"/1").getDay())-2;if(h.calendar_sunday_first_day_for_us||h.b_site_experiment_change_wk_sunday_first){C+=1}else{if(h.b_site_experiment_change_wk_saturday_ar){C+=2}else{if(C<0){C=7+C}}}var w=y.getElementsByTagName("td");for(var v=0;v<42;v++){var u=v-C;var m=w[v];if(u>0&&u<=this.getDaysInMonth(A,B)){var q=new Date(B+"/"+A+"/"+u+" 00:00:00");var l=(this.maxDaysInThePast>1)?this.dateAfterDays(this.today,~this.maxDaysInThePast):this.today;if(q<l||(o&&q<this.tomorrow&&this.maxDaysInThePast<2)||q>this.endOfYear1||(!o&&q>this.endOfYear2)){if(q-this.today==0&&!z){m.innerHTML='<span class="today">'+u+"</span>"}else{m.innerHTML="<span>"+u+"</span>"}}else{var x="";if(z){if((q-this.till.date==0&&o)||(q-this.from.date==0&&!o)){x+=" selected"}if(!o&&booking.avCalendar.isDateInRange({year:B,month:A,day:u})){x+=booking.avCalendar.isCheckInAvailable({year:B,month:A,day:u})?" has_av":" no_av"}if(o&&this.from.day&&booking.avCalendar.isDateInRange(this.from)){x+=booking.avCalendar.isCheckOutAvailable(this.from,{year:B,month:A,day:u})?" has_av":" no_av"}}else{if(q-this.today==0){x+=" today"}if(q-this.till.date==0){x+=o?" selected":" endsel"}if(q-this.from.date==0){x+=o?" endsel":" selected"}if(q<this.till.date&&q>this.from.date){x+=" inbetween"}}if(booking.env.b_fd_hotel_dates){for(var t=0;t<booking.env.b_fd_hotel_dates.length;t++){if(booking.env.b_fd_hotel_dates[t]){$.lst=booking.env.b_fd_hotel_dates[t].split("-");var r=new Date(Number($.lst[0]),Number($.lst[1])-1,Number($.lst[2]));if(q-r==0){x+=" flashdeals"}}}}m.innerHTML='<a href="#" class="'+x+'">'+u+"</a>"}}else{m.innerHTML="&nbsp;"}}$(n).html(y.innerHTML);this.updatePrevNextLinks(true,n)},rebuildDaySelect:function(o,m){var u="&nbsp;";if(m){var w=this.till.month;var y=this.till.year;var r=this.till.day;var x=this.from.month;var l=this.from.year;var k=this.from.day;if(r==null||booking.env.keep_day_month){if((!((w==booking.env.b_this_month)&&(y>booking.env.b_this_year4)&&(t>(booking.env.b_this_day-1))&&booking.env.b_site_experiment_rolling_calendar_year))&&(!(y==l&&w==x&&k<booking.env.b_this_day&&booking.env.b_site_experiment_clip_checkout_day_dropdown))){u='<option style="text-transform:capitalize;" value="0">'+h.day+"</option>"}}}else{var w=this.from.month;var y=this.from.year;var r=this.from.day;if(r==null||booking.env.keep_day_month){if(!((w==booking.env.b_this_month)&&(y>booking.env.b_this_year4)&&(t>(booking.env.b_this_day-5))&&booking.env.b_site_experiment_rolling_calendar_year)){u='<option style="text-transform:capitalize;" value="0">'+h.day+"</option>"}}}$(o).html(u);var z=this.getDaysInMonth(w,y);for(var t=1;t<=z;t++){var n=new Date(y+"/"+w+"/"+t+" 00:00:00");var q=(n.getDay()>0)?n.getDay()-1:6;var v=h.b_simple_weekdays_for_js[q]+" "+t;if((h.b_lang=="ja")||(h.b_lang=="zh")||(h.b_lang=="ko")||(h.b_lang=="hu")){v=t+" "+h.b_simple_weekdays_for_js[q]}if(!((w==booking.env.b_this_month)&&(y>booking.env.b_this_year4)&&(((t>(booking.env.b_this_day-2))&&!m)||((t>(booking.env.b_this_day-1))&&m))&&booking.env.b_site_experiment_rolling_calendar_year)){if(m){if(!((y==l)&&(w==x)&&(t<=k)&&(booking.env.b_site_experiment_clip_checkout_day_dropdown))){$(o).append('<option value="'+t+'"'+((r==t)?' selected="selected"':"")+">"+v+"</option>")}}else{$(o).append('<option value="'+t+'"'+((r==t)?' selected="selected"':"")+">"+v+"</option>")}}}},noHourDate:function(l){var k=(typeof l==="undefined"||l===null)?(this.userServDate?new Date(this.syncDate):new Date()):l;k.setHours(0);k.setMilliseconds(0);k.setMinutes(0);k.setSeconds(0);return k},getDaysInMonth:function(m,k){var l=[31,(function(){return((((k%4)===0)&&((k%100)!==0)||((k%400)===0))?29:28)})(),31,30,31,30,31,31,30,31,30,31];return l[m-1]},selectOption:function(o,u,q){var l=$(o).parents(".newcalendar");var t=booking.env.b_site_experiment_av_calendar&&l.hasClass("avCalendar");var m=false;var w=$("option",o);var n,k,v;for(var r=0;r<w.length;r++){n=w[r];k=$(n);v=k.text();if(u&&u!=""){if(k.val()==u){n.selected=true;m=true;if(t){l.find(".avCalendar_month").text(v)}}else{w[r].selected=false}}if(q&&q!=""){if(v==u){n.selected=true;m=true;if(t){l.find(".avCalendar_month").text(v)}}else{n.selected=false}}}return m},dateAfterDays:function(v,o,r,u){var k=this.oneDayInMS*o;var q=12;if(u){v.setDate(1)}if(r){var l=this.noHourDate(v);if(r>q||r<-1*q){v.setFullYear(v.getFullYear()+parseInt(r/q));r=r%q}if(r!=0){var m=v.getMonth();if(m+r>q){v.setFullYear(v.getFullYear()+1);v.setMonth((m+r)-q)}else{if(m+r<0){v.setFullYear(v.getFullYear()-1);v.setMonth((m+r)+q)}else{v.setMonth(m+r)}}}}var n=new Date((this.noHourDate(v)*1)+k);if(v.getTimezoneOffset()!=n.getTimezoneOffset()){var t=v.getTimezoneOffset()-n.getTimezoneOffset();t=((t<0)?~t+1:t)*60*1000;if(t>0){n=new Date((this.noHourDate(v)*1)+k+t)}}return n},setPosition:function(m){var l=$(m).offset(),n=10,k=l.top+n;leftPos=l.left,$window=$(window),windowHeight=$window.height(),windowWidth=$window.width(),documentScrollTop=$(document).scrollTop();if(booking.env.b_site_experiment_omni_search){k=k+5}if(h.rtl){leftPos=leftPos-211}if(windowWidth<leftPos+230){if(windowWidth-230>0){leftPos=windowWidth-230}}if(windowHeight+documentScrollTop<k+230){if(k-documentScrollTop-250>0){k=k-250}else{k=windowHeight+documentScrollTop-250}}$("#calendar_popup").css({top:k+"px",left:leftPos+"px"})},scrollHandlers:[],openPopupCalendar:function(n){var l=$("#calendar_popup").get(0),q=$(window),o,k=this;var m="";switch(n.nodeName.toLowerCase()){case"a":m=n.href.split("#")[1];break;case"input":m=n.name;break;case"select":m=n.name;break;case"label":m=n.getAttribute("data-title");break;default:break}o=function(){k.setPosition(n)};this.scrollHandlers.push(o);this.setPosition(n);q.bind("scroll resize",o);$("#calendar_popup").show();if(this.calendarTypes[m]&&this.calendarTypes[m].isTill){$(l).addClass("calendarTill");this.rebuildCalendarTable($("table",l).get(0),true,this.viewDateTill.getMonth()+1,this.viewDateTill.getFullYear())}else{$(l).removeClass("calendarTill");this.rebuildCalendarTable($("table",l).get(0),false,this.viewDateFrom.getMonth()+1,this.viewDateFrom.getFullYear())}if(booking.env.b_site_experiment_omni_search){$(".calendar_close","#calendar_popup").remove();$("#calendar_popup").append($("#no_dates"))}$("body").bind("close_calendar",this.closeHandler)},closeHandler:function(){g.closePopupCalendar()},closePopupCalendar:function(){var k,m,l;$("#calendar_popup").removeClass("calendarTill").hide();$("body").unbind("close_calendar",this.closeHandler);for(k=0,m=this.scrollHandlers.length;k<m;k+=1){l=this.scrollHandlers[k];if(typeof l==="function"){$window.unbind("scroll resize",l)}}this.scrollHandlers=[]}}})();booking[sNSStartupLoad].change_dates={priority:9,init:function(){if(typeof trigger_error_template_event_tracking!="undefined"&&trigger_error_template_event_tracking===true){booking.google.trackEvent(booking.google.pageviewTracker,"Error Template (Aggregate)",b_errors);if(b_this_referer!=""){booking.google.trackEvent(booking.google.pageviewTracker,"Error Template (Referrer)",b_this_referer+" - "+b_errors)}booking.google.trackEvent(booking.google.pageviewTracker,"Error Template (RequestURL)",b_this_url+" - "+b_errors)}if(booking.env.b_page=="send_change_dates"){$("#message_changing-dates").fadeIn();$("#change_dates").submit(function(){var e=$("input[name=do]");var c=$("#change_dates input[name=checkin_date]").val();var d=$("#change_dates input[name=checkout_date]").val();if(c&&d&&(c.length>0||d.length>0)){cin_yymm=$("#checkin_year_month").val();cin_dd=$("#checkin_day").val();cin_yymmdd=cin_yymm+"-"+cin_dd;cout_yymm=$("#checkout_year_month").val();cout_dd=$("#checkout_monthday").val();cout_yymmdd=cout_yymm+"-"+cout_dd;a=c.replace(/-0/g,"-");b=d.replace(/-0/g,"-");if(a!=cin_yymmdd||b!=cout_yymmdd){e.val("dochangedates")}}})}if(booking.env.b_action=="mybooking"){$("#message_changing-dates").fadeIn()}}};booking[sNSStartup].cookie_warning={priority:10,init:function(){if(booking.env.cookie_warning&&!$.cookie("cookie_notice_shown")){var d=$("#cookie_warning");d.show();var c=function(){if(typeof(JSON)!="undefined"){$.cookie("cookie_notice_shown",1,{expires:365,path:"/",domain:booking.env.b_domain_end})}};$("#cookie_warning a").click(function(e){c();if($(this).hasClass("close_warning")){d.fadeOut("1000",function(){$(this).remove()});booking.google.trackEvent(booking.google.clickTracker,"Cookie warning","Close");e.preventDefault()}else{booking.google.trackEvent(booking.google.clickTracker,"Cookie warning","Read")}})}}};function switchDateStack(c,e){var d=c;if($(c).parents("div").length){d=$(c).parents("div").get(0)}var f=0;while(d){if(d.nodeName.toLowerCase()=="div"){f++;if(f==e){d.style.display="block"}}d=d.nextSibling}}function switchDateFlashDeal(c,d){$("div#editDates").css("display","block");$("div#available_rooms_header1").css("display","none")}booking[sNSStartup].validatedate={priority:9,init:function(){$("#frm, #hotelpage_availform").submit(function(){var d=booking[sNSStartup].validatedate.validate(this),c=!d?"Form:NotValid":"Form:Valid";if(!d&&this.id==="hotelpage_availform"){fminit("hotelpage_availform")}$(window).trigger(c,{form:this});return d});$("#fd_dates, #fd_flashdeals").submit(function(){return booking[sNSStartup].validatedate.validate(this)});$("#labfor").click(function(){checkbox_status="";if($("#availcheck").is(":checked")){checkbox_status="Uncheck"}else{checkbox_status="Check"}booking.google.trackEvent(booking.google.clickTracker,booking.env.b_action+" | searchbox checkbox",checkbox_status)})},validate:function(oForm){var sError="",_serverTime=booking.env.b_timestamp*1000,_datesDiffer=Math.abs(+new Date()-new Date(_serverTime))>=24*3600*1000,today=_datesDiffer?new Date(_serverTime):new Date(),sErrorIsNeedDates=false;today.setHours("0");today.setMinutes("0");today.setSeconds("0");today.setMilliseconds("0");if($("select[name=checkin_monthday]",oForm).length&&$("select[name=checkin_year_month]",oForm).length&&$("select[name=checkout_monthday]",oForm).length&&$("select[name=checkout_year_month]",oForm).length){if($("#availcheck:checked").length){if(booking.env.b_site_experiment_omni_search){if($("#no_dates","#calendar_popup").length>0){$(".when .field","#frm").append($("#no_dates"))}}return true}var oCheckinD=$("select[name=checkin_monthday]",oForm).get(0);var oCheckinYM=$("select[name=checkin_year_month]",oForm).get(0);var oCheckoutD=$("select[name=checkout_monthday]",oForm).get(0);var oCheckoutYM=$("select[name=checkout_year_month]",oForm).get(0);var checkinYM=$(oCheckinYM).val();var checkinD=parseInt($(oCheckinD).val());var checkoutYM=$(oCheckoutYM).val();var checkoutD=parseInt($(oCheckoutD).val());if((typeof checkinYM!="undefined")){var checkinY=checkinYM.split("-")[0];var checkoutY=checkoutYM.split("-")[0];var checkinM=parseInt(checkinYM.split("-")[1]);var checkoutM=parseInt(checkoutYM.split("-")[1]);var checkin=new Date(checkinY,checkinM-1,checkinD);var checkout=new Date(checkoutY,checkoutM-1,checkoutD);if(checkinYM=="0"||checkinD=="0"){if(checkoutYM=="0"||checkoutD=="0"){sError=booking.env.to_check_availability_please_enter_your_dates_of_stay;if(booking.env.b_site_experiment_remove_no_dates_box){sError+=' <a href="#" id="swd">'+booking.env.click_here_to_search_without_dates+"</a>"}sErrorIsNeedDates=true}else{sError=booking.env.please_enter_your_check_in_date}}else{if(checkoutYM=="0"||checkoutD==0){sError=booking.env.please_enter_your_check_out_date}else{if((checkinY>checkoutY)||((checkinY==checkoutY)&&(eval(checkinYM)<eval(checkoutYM)))||((checkinYM==checkoutYM)&&(checkinD>checkoutD))){sError=booking.env.error.checkout_date_not_after_checkin_date.name}}}if(sError==""){if(checkin.getTime()<today.getTime()&&!(checkin.getTime()>today.getTime()-86400005&&booking.env.b_site_experiment_fix_timezone_error)){if(booking.env.b_site_experiment_sb_date_in_past_err){sError=booking.env.error.checkin_in_past_error_suggest_tonight.name}else{sError=booking.env.error.checkin_date_in_the_past.name}}else{if((checkout-checkin)/86400000>30){sError=booking.env.error.checkout_date_more_than_30_days_after_checkin.name}else{if(checkin>checkout){sError=booking.env.error.checkout_date_not_after_checkin_date.name}}}}}}if(sError!=""){if($(".dateerrors",oForm).length){if(booking.env.b_site_experiment_omni_search){if($(".has_omni_error").length==0){$(".when","#frm").addClass("has_omni_error")}}var errorField=$(".dateerrors",oForm).get(0);if(sErrorIsNeedDates){if(booking.env.b_site_experiment_omni_search){if($("#no_dates","#calendar_popup").length>0){$(".when .field","#frm").append($("#no_dates"))}if($("#no_dates p","#frm").length==0){$("#no_dates","#frm").prepend('<p class="omni_error_msg">'+booking.env.view_prices_enter_dates+"</p>")}}else{$("#inout select").change(function(){$("#friendly_error_popup").remove()});$(".calendar").click(function(){$("#friendly_error_popup").remove()});$("#friendly_error_popup span.close_errormsg").live("click",function(){$("#friendly_error_popup").remove()});$("#inout .avail, .toggle_overview, .toggle_review").live("click",function(){$("#friendly_error_popup").remove()});if($("#friendly_error_popup").length==0){var last_dropdown_searchbox=$("#inout select").eq(3);if(booking.env.b_action=="hotel"||booking.env.b_action=="searchresults"){last_dropdown_searchbox=$(".leftsmall #inout select").eq(1)}var last_dropdown_offset=last_dropdown_searchbox.offset();var last_dropdown_hotelpage=$("#hotelpage_availform select").eq(3);if(booking.env.nodates_popup_up){last_dropdown_hotelpage=$("#hotelpage_availform select").eq(0)}var last_dropdown_hotelpage_offset=last_dropdown_hotelpage.offset()||{};var first_dropdown_searchbox=$("#inout select").eq(0);var first_dropdown_offset=last_dropdown_searchbox.offset();var homeinPos=($("#checkin_year_month").position().top-18);var nodates_popup_upRight=-255;if($.browser.msie&&$.browser.version==="7.0"){nodates_popup_upRight=-200}if(booking.env.b_lang=="ar"||booking.env.b_lang=="he"){var errorHTML='<div id="friendly_error_popup" style="direction:ltr;background-position:center right;top:'+homeinPos+"px;left:"+(nodates_popup_upRight+50)+'px"><div class="wrapper"><span class="close_errormsg"></span><p>'+booking.env.view_prices_enter_dates+"</p></div></div>";$("#inout").css({position:"relative","z-index":"999"}).append(errorHTML)}else{if(oForm.id=="hotelpage_availform"){if(booking.env.nodates_popup_up){var errorHTML='<div id="friendly_error_popup" class="hotelpage new_change_dates" style="top:'+(last_dropdown_hotelpage_offset.top-90)+"px;left:"+(last_dropdown_hotelpage_offset.left-150)+'px;"><div class="wrapper"><span class="close_errormsg"></span><p>'+booking.env.view_prices_enter_dates+"</p></div></div>"}else{var errorHTML='<span class="exclamation exclamation_daterrrors">&nbsp;!&nbsp;</span><p class="error errors_dateerros">'+sError+"</p>";errorField.innerHTML=errorHTML;errorField.style.display="block"}}else{if(booking.env.is_user_dashboard){var errorHTML='<div id="friendly_error_popup" style="top:'+homeinPos+'px;left:200px"><div class="wrapper"><span class="close_errormsg"></span><p>'+booking.env.view_prices_enter_dates+"</p></div></div>";$("#inout").css({position:"relative","z-index":"999"}).append(errorHTML)}else{var errorHTML='<div id="friendly_error_popup" style="top:'+homeinPos+"px;right:"+nodates_popup_upRight+'px"><div class="wrapper"><span class="close_errormsg"></span><p>'+booking.env.view_prices_enter_dates+"</p></div></div>";$("#inout").css({position:"relative","z-index":"999"}).append(errorHTML)}}}}}}else{if(booking.env.b_site_experiment_omni_search){var errorHTML='<p class="omni_error_msg">'+sError+"</p>"}else{var errorHTML='<span class="exclamation exclamation_daterrrors">&nbsp;!&nbsp;</span><p class="error errors_dateerros">'+sError+"</p>"}errorField.innerHTML=errorHTML;errorField.style.display="block"}$("#swd").click(function(){document.getElementById("availcheck").checked="checked";document.getElementById("frm").submit();return false});return false}else{return true}}else{return true}}};booking[sNSStartup].default_input_text={priority:9,init:function(){$("input.swap_text, textarea.swap_text").each(function(){if($(this).val()==""){$(this).val($(this).attr("alt"));$(this).removeClass("swapped")}else{if($(this).val()==$(this).attr("alt")){$(this).removeClass("swapped")}else{$(this).addClass("swapped")}}$(this).focus(function(){if($(this).val()==$(this).attr("alt")){$(this).val("");$(this).addClass("swapped")}}).blur(function(){if($(this).val()==""){$(this).val($(this).attr("alt"));$(this).removeClass("swapped")}});$(this).closest("form").submit(function(){$("input.swap_text, textarea.swap_text",this).each(function(){if($(this).val()==$(this).attr("alt")){$(this).val("")}})})})}};booking[sNSStartup].destinationThemes={priority:8,init:function(){$(".city_list_info").click(function(d){var c=$(this).attr("class");if($(d.target).hasClass("city_price")){booking.google.trackEvent(booking.google.clickTracker,"DestThemes","City Closed Price - "+c);return}if($(this).next(".hotels_in_city").hasClass("closed")){$(".hotels_in_city.opened").each(function(){booking.google.trackEvent(booking.google.clickTracker,"DestThemes","City Open HList - "+c);$(this).removeClass("opened");$(this).slideUp();$(this).addClass("closed");$(this).parent().find(".city_from_price").show()});$(this).next(".hotels_in_city").removeClass("closed");$(this).next(".hotels_in_city").slideDown();$(this).next(".hotels_in_city").addClass("opened");$(this).find(".city_from_price").hide()}else{if($(this).next(".hotels_in_city").hasClass("opened")){booking.google.trackEvent(booking.google.clickTracker,"DestThemes","City Close HList - "+c);$(this).next(".hotels_in_city").removeClass("opened");$(this).next(".hotels_in_city").slideUp();$(this).next(".hotels_in_city").addClass("closed");$(this).parent().find(".city_from_price").show()}}});$(".city_list_info").hover(function(){$(this).find(".cityimage_marker").addClass("hovered");$(this).find("h3.cityname").addClass("hovered");$(this).find(".city_from_price a").addClass("hovered")},function(){$(this).find(".cityimage_marker").removeClass("hovered");$(this).find("h3.cityname").removeClass("hovered");$(this).find(".city_from_price a").removeClass("hovered")});$(".hotel_block").click(function(){var d=$(this).attr("class");booking.google.trackEvent(booking.google.clickTracker,"DestThemes","Hotel: "+d);var c=$(this).find(".hotelname").attr("href");location.href=c});$(".showall_in_city").click(function(){var c=$(this).attr("class");booking.google.trackEvent(booking.google.clickTracker,"DestThemes","City Show All - "+c)})}};$(function(){var c=["item_searching","topten","item_volcano_eruption","item_roomtypes","item_pricing","item_creditcards","item_payments","item_reservation_process","item_hotelpolicies","item_confirmation","item_extrafacilities","item_cancellation","item_directions","item_reviews"];var f=window.location.search.split("faq=");if(f.length==2&&f[1].length){var e=f[1].split(",");if(e.length){$(c).each(function(j,k){hideEl(k)});$.each(e,function(j,m){var k=$("span#"+m),l=k.prev();if(k&&l&&m.match(/faqa\d+/)&&!l.parents("span.faqA").size()){l.clone().appendTo("#faq_deeplink");k.clone().appendTo("#faq_deeplink")}})}}$(".staticmenustyle").children("li").children("a").each(function(j,k){$(k).click(function(){$("#faq_deeplink").children().remove()})});if(location&&location.hash){var h=location.hash.slice(1);if(h!=""){for(var d=0;d<c.length;d++){var g=c[d];if(g=="item_"+h||g==h){showEl(g)}else{hideEl(g)}}}}});booking[sNSStartup].fixMail={priority:9,init:function(){var c=this;$(".encrypted").each(function(){$(this).html(c.deCode($(this).text()));$(this).removeClass("encrypted")})},deCode:function(c){return c.replace(/[a-zA-Z]/g,function(d){return String.fromCharCode((d<="Z"?90:122)>=(d=d.charCodeAt(0)+13)?d:d-26)})}};function calcage(c,e,d){s=((Math.floor(c/e))%d).toString();if(LeadingZero&&s.length<2){s="0"+s}return"<b>"+s+"</b>"}function CountBack(c){if(c<0){if(document.getElementById("cntdwn")){document.getElementById("cntdwn").innerHTML=FinishMessage;return}}else{if(c>86400){DisplayStr_days=DisplayFormat_days.replace(/%%D%%/g,calcage(c,86400,100000));document.getElementById("flash_days").innerHTML=DisplayStr_days}else{document.getElementById("flash_days_wrapper").style.display="none"}}DisplayStr_hours=DisplayFormat_hours.replace(/%%H%%/g,calcage(c,3600,24));DisplayStr_minutes=DisplayFormat_minutes.replace(/%%M%%/g,calcage(c,60,60));DisplayStr_seconds=DisplayFormat_seconds.replace(/%%S%%/g,calcage(c,1,60));document.getElementById("flash_hours").innerHTML=DisplayStr_hours;document.getElementById("flash_minutes").innerHTML=DisplayStr_minutes;document.getElementById("flash_seconds").innerHTML=DisplayStr_seconds;if(CountActive){setTimeout("CountBack("+(c+CountStepper)+")",SetTimeOutPeriod)}}if(typeof(TargetDate)=="undefined"){TargetDate="12/31/2020 5:00 AM"}if(typeof(DisplayFormat)=="undefined"){DisplayFormat="%%D%% Days, %%H%% Hours, %%M%% Minutes, %%S%% Seconds."}if(typeof(CountActive)=="undefined"){CountActive=true}if(typeof(FinishMessage)=="undefined"){FinishMessage=""}if(typeof(CountStepper)!="number"){CountStepper=-1}if(typeof(LeadingZero)=="undefined"){LeadingZero=true}CountStepper=Math.ceil(CountStepper);if(CountStepper==0){CountActive=false}var SetTimeOutPeriod=(Math.abs(CountStepper)-1)*1000+990;var dthen=new Date(TargetDate);var dnow=new Date();if(CountStepper>0){ddiff=new Date(dnow-dthen)}else{ddiff=new Date(dthen-dnow)}gsecs=Math.floor(ddiff.valueOf()/1000);if(document.getElementById("flash_seconds")){CountBack(gsecs)}booking.ensureNamespaceExists("google");booking.google.AjaxApiLoader=function(){var c=booking,e=c.env;function d(g){var f=window.location.protocol;this.script={_this:this,"@type":"text/javascript","@src":f+"//www.google.com/jsapi?oe=utf-8&"+e.b_google_maps_key_params};if(e.b_lang){this.script["@src"]+=("&hl="+e.b_lang)}if(g){this.script["@src"]+=("&callback="+g)}}return{loaded:false,load:function(f){booking.google.AjaxApiLoader.loaded=true;return c.utils.buildHtmlNode(new d(f),document.getElementsByTagName("head")[0])}}}();booking[sNSStartupLoad].google_thumbnail_map={priority:9,init:function(){var d=$("#b_google_map_thumbnail").attr("data-map"),c;if(d){if(window.location.protocol.indexOf("s")!=-1){d=d.replace("http","https")}$("#b_google_map_thumbnail").attr("style","background-image: url("+d+");")}d=false;if($(".map_thumbnail_bottom_sr").length>0){$(".map_thumbnail_bottom_sr").each(function(){d=$(this).attr("data-map");$(this).attr("style","background-image: url("+d+");")})}return true}};if(!Array.prototype.walk){Array.prototype.walk=function(e){var c=[],d=this.length;while(d--){c.push(e(this[d]))}return c.reverse()}}if(!Array.prototype.flatten){Array.prototype.flatten=function(){var d=[],e=-1,c=this.length;while(++e<c){d=d.concat(this[e].constructor==Array?this[e].flatten():this[e])}return d}}if(!Array.indexOf){Array.prototype.indexOf=function(d){for(var c=0;c<this.length;c++){if(this[c]==d){return c}}return -1}}booking.ensureNamespaceExists("google");booking.google.returnAnalyticsTrackingString=function(){var c=booking.env;var d=[];d[d.length]=c.b_this_urchin.replace(/&amp;$/,"");d[d.length]="ur_aid="+c.b_aid;d[d.length]="ur_plang="+c.b_lang_for_url;d[d.length]="ur_gstcc="+c.b_guest_country;if(c.b_search_category!=""){d[d.length]="ur_scat="+c.b_search_category}if(c.b_experiment_group){d[d.length]="ur_expgr=1"}if(c.b_action==="hotel"){if(c.b_hotel_blocks===0&&c.b_checkin_date){d[d.length]="ur_honovail=1"}d[d.length]="ur_hocc1="+c.b_countrycode;if(typeof c.b_label!="undefined"&&c.b_label.substr(0,11)=="postbooking"){d[d.length]="ur_postbknglabel="+c.b_label}}if(c.b_availability_checked||c.b_checkin_date){d[d.length]="ur_dat=1"}else{d[d.length]="ur_nodat=1"}if(c.b_action==="searchresults"){if(c.b_multiple_destinations_found){d[d.length]="ur_srdis=1"}if(typeof c.b_available_hotels!="undefined"){if(c.b_available_hotels==0){d[d.length]="ur_hc=0"}else{if(c.b_available_hotels<=20){d[d.length]="ur_hc=1"}else{d[d.length]="ur_hc=2"}}}}if(c.b_context_details){d[d.length]=c.b_context_details.walk(function(f){return["rctp="+f.b_type,"ur_srcid="+f.b_code]})}if(typeof b_first_seen!="undefined"&&b_first_seen!=""){d[d.length]="first_seen="+b_first_seen}if(c.b_acc_type_ga){d[d.length]="ur_acctype="+c.b_acc_type_ga}if(c.b_book_stage){d[d.length]="stage="+c.b_book_stage}if(c.b_action==="review"){if(c.b_review_submitted){d[d.length]="review_form_submitted=1"}else{d[d.length]="review_form=1"}}return d.flatten().join("&amp;")};booking.ensureNamespaceExists("google");booking.google.trackEvent=function(e,g,h,d,c){var f=d||1;if(typeof e!="undefined"){_gaq.push(["_trackEvent",e,g,h,d,true])}};booking[sNSExperiments].event_tracking={priority:9,init:function(){if(typeof _gaq!="undefined"){booking.google.errorTracker="Error";booking.google.clickTracker="Click";booking.google.hoverTracker="Hover";booking.google.mapTracker="Map";booking.google.pageviewTracker="Pageview";booking.google.viewTracker="View";booking.google.cityTracker="City";booking.google.groupTracker="Group";booking.google.cardTracker="Credit Card";booking.google.comparisonTracker="Hotel Comparison";booking.google.userProfileTracker="User profile";$(window).load(function(){if(booking.env.f_seen_experiments){for(var f in booking.env.f_seen_experiments){booking.google.trackEvent("Experiment",f,booking.env.f_seen_experiments[f])}}});$("body").delegate("a, .trackit","click",function(){var f="";$(this).parents(".tracked").each(function(){f=(this.id)?"#"+this.id+" > "+f:(this.className)?"."+this.className+" > "+f:this.tagName+" > "+f});if(f!=""){f=(this.id)?f+"#"+this.id:(this.className)?f+"."+this.className:f+"a";booking.google.trackEvent(booking.google.clickTracker,"Action: "+booking.env.b_action,f)}});if($("select[name^=group]").length){$("#frm").submit(function(){if($("#clear_group").val()=="1"){return}var f=$("#frm select[name=group_adults]");var g=f.length;f.each(function(){var j=this.value;var h=$(this).parent().next().find("select").val();var k=[];$("#frm input[name=age]").each(function(l){k[l]=this.value});booking.google.trackEvent(booking.google.groupTracker,"["+g+"] "+j+" adults + "+h+" children","Ages: "+k.join(", "))})});$("#clear_and_submit").click(function(){booking.google.trackEvent(booking.google.groupTracker,"Clear Group",booking.env.b_action)})}$("#select_group2").click(function(){booking.google.trackEvent(booking.google.groupTracker,"Clicked group Book button")});var e=$(".error, .errorSimpleMsg");for(var d=0;d<e.length;d++){if(!$(this).hasClass("disabled")){var c=e[d].getAttribute("rel");if(c!=null){booking.google.trackEvent(booking.google.errorTracker,"Display",c)}}}$(".custom_track").click(function(){var f=$(this).attr("data-trackname");if(f&&booking.google.userProfileTracker){booking.google.trackEvent(booking.google.userProfileTracker,booking.env.b_action+" : "+f,booking.env.b_action)}});$("#login-form").submit(function(){if(booking.google.userProfileTracker){booking.google.trackEvent(booking.google.userProfileTracker,"Login attempt : Other",booking.env.b_action)}});if(typeof trigger_error404_event_tracking!="undefined"&&trigger_error404_event_tracking==true){booking.google.trackEvent(booking.google.pageviewTracker,"404 Error",document.location.pathname+document.location.search+"&from="+document.referrer)}$(".filterbox a").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Filter",(this.id==="city_centre_filter_opt"?"district-city_centre":this.getAttribute("data-id")))});if(booking.env.b_action==="hotel"){$("#hcta").click(function(){var f="Hotel cta";if(booking.env.track_htca){f+=("v"+booking.env.track_htca)}booking.google.trackEvent(booking.google.clickTracker,f,this.getAttribute("data-id"))})}$("#sort_by a").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Sort",this.href.substr(this.href.indexOf("order=")+6))});$("#ccfaq").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Credit Card FAQ Popup","View")});$(".track_register").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Login","Register")});$(".track_login").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Login","Login")});if(booking.env.b_action=="hotelcomparison"){$(".back").click(function(){booking.google.trackEvent(booking.google.comparisonTracker,"Previous Page","Clicked")});$("h1 a, .hotel_comparison_header").click(function(){booking.google.trackEvent(booking.google.comparisonTracker,"Hotel Header",$(this).parent("td").eq(0).attr("class"))});$(".bigbluebutton").click(function(){booking.google.trackEvent(booking.google.comparisonTracker,"Book Now Button",$(this).parent().attr("class"))});$(".bigbluebutton.topbutton").click(function(){booking.google.trackEvent(booking.google.comparisonTracker,"Top Book Now Button on comparison_colors_buttons",$(this).parent().attr("class"))});$(".bigbluebutton.bottombutton2").click(function(){booking.google.trackEvent(booking.google.comparisonTracker,"Bottom Book Now Button on comparison_colors_buttons",$(this).parent().attr("class"))});$(".bigbluebutton.bottombutton").click(function(){booking.google.trackEvent(booking.google.comparisonTracker,"Bottom Book Now Button on comparison_colors",$(this).parent().attr("class"))});$(".remove_hotel").click(function(){booking.google.trackEvent(booking.google.comparisonTracker,"Remove and Replace",$(this).parent().attr("class"))})}$("#bookconditions").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Booking Conditions","Link clicked")});$("#bp_cart a").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Shopping Cart","Link Clicked")});$("#localcurr_dis a").mouseenter(function(){booking.google.trackEvent(booking.google.clickTracker,"Action: "+booking.env.b_action,"hover_tooltip_local_currency")});if(booking.env.smart_deals_count&&booking.env.smart_deals_count>0){booking.google.trackEvent(booking.google.viewTracker,"Smart deal filter",booking.env.smart_deals_count+" deals displayed")}$(".hotel_quick_links a").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Hotel quick links",$(this).attr("href").replace(/^.+#/,"#"))});$(".footer_acc_type_links a").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Footer acc type links",$(this).data("ga"))})}return true}};booking[sNSStartup].google_pageview_tracker={priority:9,init:function(){var d=booking.env,e=d.b_action,c,f=window._gaq;if(typeof d.google_analytics_tracking_enabled!="undefined"&&d.google_analytics_tracking_enabled){$('div#survey[surveykey="'+d.survey_key+'"] button[value="accept"]').click(function(){f.push(["_trackPageview",d.surveytracklink])});if(e==="general"){$("a#jobsite").click(function(){f.push(["_trackPageview","/outgoinglink/jobsite"])})}$("#review_useful_share a").click(function(){var g;this.id=="share_any_review_fb"?g="facebook":g="twitter";g+="/"+this.getAttribute("data-id");f.push(["_trackPageview","/outgoinglink/socnet_share/review_v2/"+g]);f.push(["_trackSocial",g,"Share Review"])});$("#flash_bookmark_home").click(function(){f.push(["_trackPageview","/outgoinglink/flashdeals/bookmark"])});$(".priceline_ext_link").click(function(){f.push(["_trackPageview","/outgoinglink/priceline_name_your_price"])});$("#share_popup_inner a").click(function(){var g="hotel_share_popup/base/";share_type="Lip Popup Hotel Share";if(this.id=="share_popup_fb"){g+="facebook";type="Facebook"}else{if(this.id=="share_popup_t"){g+="twitter";type="Twitter"}else{g+="mail_a_friend";type="Email"}}f.push(["_trackPageview","/outgoinglink/socnet_share/"+g]);f.push(["_trackSocial",type,share_type,g])});$("#share_hotel_history_fb_v1").click(function(){f.push(["_trackPageview","/outgoinglink/socnet_share/hotel_history/Facebook"]);f.push(["_trackSocial","Facebook"," Share My Viewed Hotels V1",""])});$("#share_hotel_history_fb_v2").click(function(){f.push(["_trackPageview","/outgoinglink/socnet_share/hotel_history/Facebook"]);f.push(["_trackSocial","Facebook"," Share My Viewed Hotels V2",""])});$("#share_hotel_history_email_v1").click(function(){f.push(["_trackPageview","/outgoinglink/socnet_share/hotel_history/Email"]);f.push(["_trackSocial","Email"," Share My Viewed Hotels V1",""])});$("#share_hotel_history_email_v2").click(function(){f.push(["_trackPageview","/outgoinglink/socnet_share/hotel_history/Email"]);f.push(["_trackSocial","Email"," Share My Viewed Hotels V2",""])});$("#fb_conf_sharer_base").click(function(){f.push(["_trackSocial","Facebook","Confirmation Page Share BASE"])});$("#fb_conf_sharer_v1").click(function(){f.push(["_trackSocial","Facebook","Confirmation Page Share V2"])});$("#pb_confirmation_travellist").click(function(){f.push(["_trackSocial","FB TravelList","Booking Confirmation Click"])});if(e==="index"){$("#number_one_promotion #wua_link_logo").click(function(){f.push(["_trackPageview","/outgoinglink/wua-1"])});$("#number_one_promotion #link_jobsite_nl").click(function(){f.push(["_trackPageview","/outgoinglink/jobsite_promo_nl"])})}if(e==="confirmation"){$("#social_share_links a").click(function(){var g="base";if(this.id=="social_share_conf_facebook"){g+="/facebook";sn="facebook"}else{g+="/twitter";sn="twitter"}f.push(["_trackPageview","/outgoinglink/socnet_share/confirmation/"+g]);f.push(["_trackSocial",sn,"Share Confirmation"])});$("#external_review_invite_link").click(function(){f.push(["_trackPageview","/outgoinglink/confirmation/external_review_invite/"])})}if(/error/.test(e)){c=(d.b_referrer||"").split("?")[0].replace(window.location.origin,"")||"dont-know";f.push(["_trackPageview","/error-action/"+e+"/caused-by"+c])}if((e==="searchresults")&&d.is_ipad){$("a.filterelement").click(function(){var g=$(this).parent().parent().attr("id");g=g.substring(7);if(d.filterbox_ipad){var j="var1"}else{var j="base"}var h="/outgoinglink/filterbox_ipad_link/"+j+"/"+g+"/";f.push(["_trackPageview",h])})}}}};booking[sNSStartup].header_cleaned_links={priority:9,init:function(){$(".forgot_link_look, .forgot_pass_trigger").live("click",function(){var c=$(this).attr("data-href")||$(this).attr("href");window.open(c,"_blank","left=42,top=42,height=502px,width=440px,resizable=false");return false});$("body").delegate(".hide_reminder_iframe","click",function(){$(this).parent(".reminder_iframe_wrapper").remove();$(".better_login").show();booking[sNSStartup].new_personal_menu.recheckHeight();oThat.openSelect("current_account")});$("#foldout_loggedin li").live("click",function(){var c=$(this);if(c.hasClass("seo_link_look")&&c.attr("data-href")){if(c.hasClass("my_logout")&&booking.env.remove_logout_url_param){$.get("/general.html",{logout:1},function(){window.location=c.attr("data-href")})}else{window.location=c.attr("data-href")}}})}};booking.ensureNamespaceExists(sNSExperiments);booking[sNSStartup].hotel_share_center={priority:9,init:function(){$(".share_center .share_center_button strong").click(function(){$share_center=$(this).closest(".share_center");$share_center_popup=$(".share_center_popup",$share_center);if($share_center.hasClass("open")){$share_center_popup.fadeOut("fast");$share_center.removeClass("open");_gaq.push(["_trackSocial","Share Center","Close Share Center"])}else{$share_center_popup.fadeIn("fast");$share_center.addClass("open");_gaq.push(["_trackSocial","Share Center","Open Share Center"]);if(!$share_center.hasClass("has_short_url")){full_url=$(".share_center_url",$share_center).val()+"?label=social_sharecenter_copy_url";if($share_center.data("checkin")&&$share_center.data("checkout")){full_url=full_url+"&checkin="+$share_center.data("checkin")+"&checkout="+$share_center.data("checkout")}$.get("/short_uri?url="+escape(full_url)+"&aid="+booking.env.aid,function(c){sc_short_url="http://booking.com/"+c.short_url;$("h3 small",$share_center).text(sc_short_url);$(".share_center_url",$share_center).val(sc_short_url);$share_center.addClass("has_short_url")})}}});$(".share_center .close").click(function(){$(this).closest(".share_center_popup").fadeOut("fast");$(this).closest(".share_center").removeClass("open");_gaq.push(["_trackSocial","Share Center","Close Share Center - Corner"]);return false});$(".share_center .out_link a").click(function(){type=$(this).attr("rel");url=$(this).attr("href");_gaq.push(["_trackSocial","Share Center","Link Share on"+type]);window.open(url,"sc_share","menubar=0,resizable=1,width=600,height=400");return false});$(".share_center .sc_email a").click(function(){_gaq.push(["_trackSocial","Share Center","Link Share onEmail"])});$(".share_center_url").click(function(){this.select();$(".copy_hint",$(this).closest(".share_center")).fadeIn("fast");_gaq.push(["_trackSocial","Share Center","Copy URL"])});$(".share_center_url").blur(function(){$(".share_center .copy_hint",this).fadeOut("fast")})}};(function(c){c.idleTimer=function(m,e){var f=false,j=true,k=30000,n="mousemove keydown DOMMouseScroll mousewheel mousedown touchstart touchmove";e=e||document;var h=function(t){if(typeof t==="number"){t=undefined}var r=c.data(t||e,"idleTimerObj");r.idle=!r.idle;var o=(+new Date())-r.olddate;r.olddate=+new Date();if(r.idle&&(o<k)){r.idle=false;clearTimeout(c.idleTimer.tId);if(j){c.idleTimer.tId=setTimeout(h,k)}return}var q=jQuery.Event(c.data(e,"idleTimer",r.idle?"idle":"active")+".idleTimer");q.stopPropagation();c(e).trigger(q)},l=function(o){var q=c.data(o,"idleTimerObj");q.enabled=false;clearTimeout(q.tId);c(o).unbind(".idleTimer")},d=function(){var o=c.data(this,"idleTimerObj");clearTimeout(o.tId);if(o.enabled){if(o.idle){h(this)}o.tId=setTimeout(h,o.timeout)}};var g=c.data(e,"idleTimerObj")||{};g.olddate=g.olddate||+new Date();if(typeof m==="number"){k=m}else{if(m==="destroy"){l(e);return this}else{if(m==="getElapsedTime"){return(+new Date())-g.olddate}}}c(e).bind(c.trim((n+" ").split(" ").join(".idleTimer ")),d);g.idle=f;g.enabled=j;g.timeout=k;g.tId=setTimeout(h,g.timeout);c.data(e,"idleTimer","active");c.data(e,"idleTimerObj",g)};c.fn.idleTimer=function(d){if(this[0]){c.idleTimer(d,this[0])}return this}})(jQuery);booking[sNSStartup].ie6_content_width={priority:9,init:function(){if($("html.b_msie_6").length){$(window).resize(function(){var c=document.documentElement.clientWidth;document.getElementById("bodyconstraint-inner").style.width=(c<630)?"630px":((c>1094)?"1094px":(c-20)+"px")})}}};booking[sNSStartup].in_and_around_updates={priority:9,loadpos:0,savecheck:0,init:function(){var c=(booking.env.b_action=="hotel")?1:12;$(".landing .widesep ul, .hotel .in_and_around ul").each(function(){if((booking.env.b_action=="country")&&($(this).siblings("h4")[0].className=="iaa_city")){if(booking.env.b_site_experiment_more_cities_on_country_page==2){return}}else{if((booking.env.b_action=="region")&&($(this).siblings("h4")[0].className=="iaa_city")){if(booking.env.b_site_experiment_more_cities_on_region_page){return}}}var d=$(this).find("li");if(d.length>c+2&&!(booking.env.b_site_experiment_country_sides_swapped)){if(booking.env.b_site_experiment_more_promotions_blue){d.eq(c).after('<li class="iaa_more iaa_more_blue"><a href="#">'+booking.env.inandaround_more+"</a></li>")}else{d.eq(c).after('<li class="iaa_more"><a href="#">'+booking.env.inandaround_more+"</a></li>")}d.filter(":gt("+c+")").hide()}});$("li.iaa_more a").click(function(){$(this).hide().parents("ul").find("li").show();if(booking.env.b_action!="hotel"){$("#in_and_around .masonry").masonry()}return false});if(document.getElementById("in_and_around")&&booking.env.b_action!="hotel"){$(window).resize(function(){var d=$("#in_and_around .masonry");d.masonry({itemSelector:".in_and_around",isResizable:false,columnWidth:d.width()*0.499})}).resize()}}};var JSON=JSON||{};JSON.stringify=JSON.stringify||function(g){var f=typeof(g);if(f!="object"||g===null){if(f=="string"){g='"'+g+'"'}return String(g)}else{var h,d,e=[],c=(g&&g.constructor==Array);for(h in g){d=g[h];f=typeof(d);if(f=="string"){d='"'+d+'"'}else{if(f=="object"&&d!==null){d=JSON.stringify(d)}}e.push((c?"":'"'+h+'":')+String(d))}return(c?"[":"{")+String(e)+(c?"]":"}")}};JSON.parse=JSON.parse||function(str){if(str===""){str='""'}eval("var p="+str+";");return p};if($.cookie("b")){var b_cookie=JSON.parse($.cookie("b"))||{}}else{var b_cookie={}}(function(){var c=booking.env,d=booking[sNSStartupLoad].show_language={priority:9,init:function(){var f=function(){b_cookie.langPrompt="dontshow";if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:c.b_domain_end})}};if(typeof(b_cookie)=="undefined"){b_cookie={}}$("#langselectbutton, #languageselect input").hide();$("#langselectformlist, #currList").change(function(){$("#languageselect")[0].submit();f()});$(".language_flags").click(function(){f()});if(c.show_language_suggestion){if(b_cookie.countLang){if(!isNaN(b_cookie.countLang)){var e=parseInt(parseInt(b_cookie.countLang)+1);if(e<=4){c.language_dialog_count2=e;b_cookie.countLang=c.language_dialog_count2}}else{c.language_dialog_count2=1;b_cookie.countLang=1}}else{c.language_dialog_count2=1;b_cookie.countLang=1}if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:c.b_domain_end})}if(b_cookie.langPrompt!="dontshow"&&c.language_dialog_count2<4){setTimeout(d.createAlert,2000)}}},createAlert:function(l){var m=c.show_language_suggestion,q=c.browser_lang,g=c.icons,n,r=false,h="",f="",o="";if(m){var k=230;current_currency_width=$("#current_currency").width();current_language_width=$("#current_language").width();personal_form_space=Math.round(current_currency_width+(current_language_width/2)-(k/2));lang_prompt_html="";if($("#languageselect .language-wrapper").length){n=$("#languageselect .language-wrapper");h="margin-top:10px;";f="top: -2px;";if(c.b_is_ie6||c.b_is_ie7){o="margin-top:25px;left:100px;"}r=true}else{n=$("#personal_form");f="top: -11px;";o="top:40px;"}lang_prompt_html+='<div id="lang-prompt" style="display:none;height:1px;position:absolute;z-index:50;width:'+k+"px;left:"+personal_form_space+"px;"+o+'"><div style="position:absolute;zoom:1;'+f+";left:120px;width:17px;height:13px;background:url('//q-ec.bstatic.com/static/img/experiments/top-info-arrrow2.png');\"></div><div style=\"border:2px solid #a2bbda;padding:10px;background:#e6edf6;width:230px;-moz-box-shadow:0 1px 2px rgba(0,0,0,.7);-webkit-box-shadow:0 1px 2px rgba(0,0,0,.7);"+h+'"><a href="#" class="close" style="float:right;font-weight:normal;font-size:12px;line-height:1.3;opacity:.35;filter:alpha(opacity=35);">'+c.transl_close_x+"</a>";lang_prompt_html+='<a href="#scs" id="lang_change_link" class="lang_change_link" style="display:block;font-weight:normal;margin-right:50px;padding-left:40px;white-space:normal;background:url(\'//r-ec.bstatic.com/static/img/flags/24/'+c.b_flag_to_suggest+'.png\') no-repeat;" data-lang-code="'+m.suggested_lang_select+'">'+m.transl_change_page_lang_to_x+"</a>";if(m.additional_suggested_langs&&m.additional_suggested_langs.length>0){var e=m.additional_suggested_langs;for(var j=0;j<e.length;j++){lang_prompt_html+='<a href="#scs" id="lang_change_link" class="lang_change_link" style="display:block;font-weight:normal;margin-right:50px;margin-top:10px;padding-left:40px;white-space:normal;background:url(\'//r-ec.bstatic.com/static/img/flags/24/'+e[j].suggested_lang_flag+'.png\') no-repeat;" data-lang-code="'+e[j].suggested_lang+'">'+e[j].suggested_lang_select+"</a>"}}lang_prompt_html+="</div></div>";n.append(lang_prompt_html);$("#lang-prompt").fadeIn("slow");if(m.t_sgst_langs=="1"){if(booking.track){booking.track.exp("ZYVeHVPKTIZIadLTRe")}}booking.google.trackEvent(booking.google.clickTracker,"Lang prompt","Show");$("#lang-prompt .close").click(function(){b_cookie.langPrompt="dontshow";if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:c.b_domain_end})}$("#lang-prompt").hide();booking.google.trackEvent(booking.google.clickTracker,"Lang prompt","Close");return false});$("#lang-prompt .lang_change_link").click(function(){b_cookie.langPrompt="dontshow";if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:c.b_domain_end})}var t=$(this).attr("data-lang-code");if(r){$("#langselectformlist").val(t);$("#languageselect")[0].submit()}else{window.location=$(".lang_"+t).attr("data-href")}})}}}})();booking[sNSExperiments].ng_last_viewed={priority:9,resultsPerPage:5,totalPages:0,currentPage:0,googleTracked:false,lastViewedHotels:null,ajaxPath:"/userhistory."+booking.env.b_lang_for_url+".html",ajaxStatus:0,init:function(){$("body").append('<div id="ng-overlay" hidden></div>');this.addEvents()},addEvents:function(){var c=this,d=$("#top_lw_wrapper");$("a#top_last_viewed").bind("click",function(h){var g=$(this),f=$("#history_count").attr("data-count");if(!c.googleTracked){booking.google.trackEvent(booking.google.clickTracker,"Last Viewed In Header","Opened Last Viewed Hotels from the header button");c.googleTracked=true}if($("#ng-overlay").is(":visible")){c.distoryOverlay();d.hide()}else{c.createOverlay();d.show()}if(!c.ajaxStatus&&f&&(f-0)>0){c.getLastViewedHotels()}h.preventDefault()});$("#ng-overlay, #current_account, #header_currency, #header_language").bind("touchstart",function(h){var g=$(this),f=$(h.target);if(f.get(0).id=="ng-overlay"){h.preventDefault()}c.distoryOverlay()});$("#lw_next, #lw_prev").bind("touchstart",function(h){var g=$(this),f;h.preventDefault();f=setTimeout(function(){c.renderItems(g.data("page"))},300)})},createOverlay:function(){var c=this;$(document).bind("touchmove",false);$("#ng-overlay").show()},distoryOverlay:function(){$(document).unbind("touchmove",false);$("#ng-overlay").hide();$("#top_lw_wrapper").hide();return false},getLastViewedHotels:function(){var c=this,d=$("#lw_list #spinner");c.ajaxStatus=1;if($.ajax){$.ajax({type:"GET",cache:false,url:c.ajaxPath,dataType:"JSON",data:{last_viewed_json:1,tmpl:"profile/json",stid:350339},success:function(e){c.ajaxStatus=2;if(typeof e!=="object"){e=$.parseJSON(e)}if(!e||$.isEmptyObject(e)||(e instanceof Array&&!e.length)){return}c.lastViewedHotels=e;c.totalPages=Math.ceil(e.length/c.resultsPerPage);c.renderItems(1);d.remove()}})}return true},renderItems:function(l){var e=this,c=$("#lw_next"),d=$("#lw_prev"),g=$("#lw_list"),k=e.lastViewedHotels,h=(l-1)*e.resultsPerPage,f=h+e.resultsPerPage;f=f>k.length?k.length:f;g.empty();e.currentPage=l;for(h;h<f;h++){g.append(this.renderItem(k[h]))}if(e.currentPage<e.totalPages){c.data("page",e.currentPage+1).show()}else{c.hide()}if(e.currentPage!=1){d.data("page",e.currentPage-1).show()}else{d.hide()}},renderItem:function(e){var c=this,d="";d+="<li>";d+='<a class="ui-helper-clearfix" href="';d+=booking.env.b_nonsecure_hostname_signup+e.url+booking.env.b_query_params_with_lang;d+=booking.env.b_url_params+booking.env.b_query_params_delimiter;if(booking.env.b_param_do_availability_check!="undefined"){d+="do_availability_check=on"+booking.env.b_query_params_delimiter;if(booking.env.b_checkin_date&&booking.env.b_checkout_date){d+="checkin="+booking.env.b_checkin_date;d+=booking.env.b_query_params_delimiter;d+="checkoutn="+booking.env.b_checkout_date}}d+='">';if(e.photo_id){d+='<img width="60px" height="60px" src="/images/hotel/square60/'+e.photo_id.substring(0,3)+"/"+e.photo_id+'.jpg " />'}d+='<span class="lw_hotel_name">'+e.title+"</span>";if(e.rating){d+='<span class="use_sprites stars4 stars4i'+e.rating+'"></span>'}if(e.address){d+='<span class="lw_address">'+e.address+"</span>"}d+="</a>";d+="</li>";return d}};booking.ensureNamespaceExists(sNSStartup);booking.lightbox=booking[sNSStartup].lightbox=(function(){var t;var r;var d;var n;var q;var f={bAnimation:true,bCloseButton:true,customWrapperClassName:"",customMaskClassName:"",bFullscreen:false,bNoScroll:false,hideCallBack:null};var e={};var c=function(){n.prepend(d);d.css("display",q);t.remove();r.remove();$(window).unbind("resize",l);$(document).unbind("keyup",j);$("#calendar_popup").css("display","none");if($.browser.msie&&$.browser.version<=6){$("embed, object, select").filter(function(){return $(this).closest(".modal-wrapper").length!=1}).css({visibility:"visible"})}if(e.hideCallBack){e.hideCallBack()}};var g=function(){t.css({width:$(document).width(),height:$(document).height()});if($.browser.msie&&$.browser.version<=6){t.width($(document.body).innerWidth())}var w=$(window).width(),v=$(window).height();if($.browser.msie&&($.browser.version<9)){w=w-parseInt(r.css("paddingLeft"))-parseInt(r.css("paddingRight"));v=v-parseInt(r.css("paddingTop"))-parseInt(r.css("paddingBottom"))}if(r.outerHeight()>$(window).height()){r.css("height",v)}else{r.css("height","");if(r.outerHeight()>=$(window).height()){r.css("height",v)}}if(r.outerWidth()>$(window).width()){r.css("width",w)}else{r.css("width","");if(r.outerWidth()>=$(window).width()){r.css("width",w)}}var y=0,x=0;if(!e.bFullscreen){y=Math.max(0,$(window).height()/2-r.outerHeight()/2);x=Math.max(0,$(window).width()/2-r.outerWidth()/2)}else{r.css({width:w,height:v})}var z="hidden";if(e.bNoScroll){z="none"}r.css({top:y,left:x,overflow:z});if($.browser.msie&&$.browser.version<=6){k()}};var l=function(){if(r&&r.is(":visible")){g()}};var j=function(v){if(v.keyCode===27){c()}};var k=function(){var v=Math.max(0,$(window).height()/2-r.outerHeight()/2);v+=$(document).scrollTop();r.css("top",v)};var m=function(){$(".modal-wrapper .modal-mask-closeBtn").one("click",function(){c()});$(".modal-mask").one("click",function(){c()});$(document).bind("keyup",j);$(window).bind("resize",l)};var u=function(){$('<div class="modal-mask"/>').appendTo(document.body);t=$(".modal-mask");if(e.customMaskClassName.length>0){t.addClass(e.customMaskClassName)}$('<div class="modal-wrapper"/>').appendTo(document.body);r=$(".modal-wrapper");if(e.customWrapperClassName.length>0){r.addClass(e.customWrapperClassName)}r.append(d);if(e.bCloseButton){r.append($('<div class="modal-mask-closeBtn" title="'+booking.env.experiment_popups_close+'"/>'))}if(e.bFullscreen){r.addClass("modal-wrapper--fullscreen")}d.show();g();m();if($.browser.msie&&$.browser.version<=6){$(window).scroll(function(){if(r.is(":visible")){k()}})}};var o=function(w,v){if(r&&r.is(":visible")){return}e={};$.extend(e,f,v);d=$(w);n=d.parent();q=d.css("display");u();r.css("visibility","visible");if(e.bAnimation&&!($.browser.msie&&$.browser.version<=6)){t.fadeTo("slow",0.5);r.css("opacity","0").animate({opacity:1},1000,function(){$(this).css("opacity","")})}else{t.css("opacity","0.5").show()}if($.browser.msie&&$.browser.version<=6){$("embed, object, select").filter(function(){return $(this).closest(".modal-wrapper").length!=1}).css({visibility:"hidden"})}};var h=function(x,w,v,y){booking[sNSStartup].lightbox.show($("#"+y))};return{priority:5,init:function(){},show:o,hide:c,rePosition:l,open:h}}());booking[sNSStartupLoad].message_box={priority:9,init:function(){$("#self_change1 .messageBox").click(function(e){var c=$(this).children("a").attr("href");var d=/(?:\b)tmpl[\=]docs[\\\/]customer_service(?:\b)/i;if(c&&(c!="#")&&(!d.test(c))){location.href=$(this).children("a").attr("href")}return false});$("#isDifferent").fadeIn()}};booking.newsLanding=(function(){var e=function(){$(".b_msie_6 .hotel_item").hover(function(){$(this).toggleClass("hotel_item_hover")});$(".location_dropdowns select").live("focus",function(){var f=$(this).find(":selected").text();$(this).attr("oldValue",f)});$(".location_dropdowns select").change(function(){myid=$(this).attr("id");myvalue=$(this).find(":selected").val();mytext=$(this).find(":selected").text();selected=$(this).attr("oldValue");if(myvalue.length>0){if(myid=="fd_title_countryname"){track_string=booking.env.b_lang+" | Countries | "+mytext}else{if(myid=="fd_title_regionname"){track_string=booking.env.b_lang+" | Regions | "+mytext}else{if(myid=="fd_title_cityname"){track_string=booking.env.b_lang+" | Cities | "+mytext}}}}else{if(myid=="fd_title_countryname"){track_string=booking.env.b_lang+" | Countries Remove | "+selected}else{if(myid=="fd_title_regionname"){track_string=booking.env.b_lang+" | Regions Remove | "+selected}else{if(myid=="fd_title_cityname"){track_string=booking.env.b_lang+" | Cities Remove | "+selected}}}}booking.google.trackEvent(booking.google.clickTracker,"Dealfinder",track_string);this.form.submit()});$("#b_sortbox select").change(function(){booking.google.trackEvent(booking.google.clickTracker,"Dealfinder","df_dropdown_sorting");this.form.submit()});$("#checkin-flexible-form").submit(function(){var f=$("#b_fd_checkin_date").val();var g=$("#fd_flex").attr("checked");if(f!="undefined"){if(g){track_string=booking.env.b_lang+" | Date Select | Flexible"}else{track_string=booking.env.b_lang+" | Date Select"}}else{track_string=booking.env.b_lang+" | Date Remove | "}booking.google.trackEvent(booking.google.clickTracker,"Dealfinder",track_string)});if($.browser.msie&&jQuery.browser.version<9){$(window).resize(function(){c()});c()}};function d(h,g,k){var m=booking.env.b_canonical_url_delimiter,j=h.split(m),f=j.length,l;while(f--){l=j[f].split("=");if(l[0]==g){l[1]=k;j[f]=l.join("=");break}}if(f<0){j[j.length]=[g,k].join("=")}return j.join(m)}var c=function(){var f=$(window).width();var g=$("body.nobg #bodyconstraint");if(f<901){g.css("width","901px")}else{if(f<1110){g.css("width","901px")}else{g.css("width","1110px")}}};return{init:e}}());booking[sNSExperiments].fd_pages={priority:1,init:function(){booking.newsLanding.init()}};booking[sNSStartup].newsletterSignup={priority:8,init:function(){$(".subscriptionbox").click(function(){booking[sNSStartup].lightbox.show($("#subsciber_firstname_lightbox"),{customWrapperClassName:"subscribername-lightbox"});if($("#subsciber_firstname_lightbox #firstname").length){$("#subsciber_firstname_lightbox #firstname").focus()}else{if($("#subsciber_firstname_lightbox #email").length){$("#subsciber_firstname_lightbox #email").focus()}}return false});if(booking.env.b_show_solicitation_popup){if(booking.env.b_show_success_popup_content){booking[sNSStartup].lightbox.show($("#solicitation_feedback_success"),{customWrapperClassName:"solicitation-lightbox"});return false}else{if(booking.env.b_show_error_popup_content){booking[sNSStartup].lightbox.show($("#solicitation_feedback_error"),{customWrapperClassName:"solicitation-lightbox"});return false}}}}};booking[sNSStartup].newsletterTutorials={priority:8,init:function(){var e=1;var f=this;if(booking.env.tutorialpopup){if(b_cookie&&(b_cookie.showthistutorial!=booking.env.tutorialpopup)){var c=booking.env.tutorialpopup;var d=$(".tutorialwrapper_"+c).attr("id");f.loadPopups("#tutorial_dyk_"+c+"_s"+e,c,e)}}$("#tutorial_dyk_02_s1 a.fd_next").click(function(){$("#show_reviews_tab").click()});$("a.fd_close").click(function(){f.closeTutorial(this)});$("a.fd_next").click(function(){f.nextPopup(this,d,c)})},loadPopups:function(g,j,h){var c=this;var k=$("#tutorial_dyk_"+j+"_s"+h).attr("rel");if(k){var f=new c.relativePosition(k,true,false);var d=$(g).attr("rev");var e=$(g).width();var m=new c.getRelInlineCss(g);if(m.rgValues){$(this).css({top:"",right:"",bottom:"",left:""})}if(d!="undefined"){if(d=="right"){var l={top:(f.relDivTop+m.rgTop)+"px",left:(f.relDivSide+m.rgLeft)+"px"}}else{if(d=="left"){var l={top:(f.relDivTop+m.rgTop)+"px",left:(f.relDivSide-e+m.rgLeft)+"px"}}}}if(f.scrollToDiv&&h==1){$("html, body").delay(500).animate({scrollTop:(f.relDivTop-50)},1000,function(){$(g).css(l).fadeIn(300)})}else{$(g).delay(300).css(l).fadeIn(500)}}else{$(g).delay(300).fadeIn(500)}},relativePosition:function(c){var d=$("#"+c).offset()||{};this.relDivTop=d.top;var f=d.left;var e=$("#bodyconstraint-inner").offset().left;this.relDivSide=(f-e);if(this.relDivTop>200){this.scrollToDiv=true}else{this.scrollToDiv=false}},getRelInlineCss:function(c){this.rgTop=parseInt($(c).css("top").replace("px",""))||0;this.rgLeft=parseInt($(c).css("left").replace("px",""))||0;if(this.rgLeft==0&&this.rgTop){this.rgValues=false}else{this.rgValues=true}},nextPopup:function(c,g,d){var h=$(c).attr("id").split("nextstep_")[1];var e=(parseInt(h)+1);var f="#"+g+"_s"+h;$(f).fadeOut(300);this.loadPopups("#tutorial_dyk_"+d+"_s"+e,d,e)},closeTutorial:function(c){$(c).closest(".tutorial_dyk").fadeOut(300);b_cookie=b_cookie||{};b_cookie.showthistutorial=booking.env.tutorialpopup;if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:booking.env.b_domain_end})}return false}};booking[sNSStartup].accounts_for_everybody={priority:9,passwordFields:0,passwordChar:"",maskPass:"",isAdding:false,keyCounter:0,paswordShowInit:false,init:function(){var c=this;$(".passwd_strength").each(function(){var e='<div class="pwd_strength"><div class="strength"></div></div><span class="jq_tooltip strength_text" title="'+booking.env.b_passwd_tooltip+'" rel="300">&nbsp;</span>';$(this).after(e);var f=parseInt($(this).css("margin-left").replace("px",""))+1;$(".pwd_strength",this.parentNode).css("margin-left",f+"px");var d=this;$(".pwd_strength",this.parentNode).click(function(){$(d).focus()});$(".pwd_strength",this.parentNode).mouseenter(function(){$(d).addClass("hoverText")});$(".pwd_strength",this.parentNode).mouseleave(function(){$(d).removeClass("hoverText")})});$(".passwd_strength").focus(function(){var e=parseInt($(this).css("margin-left").replace("px",""));var d=(booking.env.b_browser=="safari")?2:e+2;$(".pwd_strength",this.parentNode).css("margin-left",d+"px")});$(".passwd_strength").blur(function(){var d=parseInt($(this).css("margin-left").replace("px",""))+1;$(".pwd_strength",this.parentNode).css("margin-left",d+"px")});$(".passwd_strength").keyup(function(){c.keyCounter++;oThis=this;var d=c.keyCounter;setTimeout(function(){c.calculateStrength(oThis,d)},400)});if($("td.pass_fix").length){$("#new_pass").blur(function(){var d=$(this).parents("tr").get(0);if($(this).val()!=""){$("th span",d).removeClass("val-no");$("th span",d).addClass("val-yes")}else{$("th span",d).removeClass("val-yes");$("th span",d).addClass("val-no")}});$("#confirm_new_pass").blur(function(){var d=$("#new_pass").val();var e=$(this).parents("tr").get(0);if($(this).val()!=""&&$(this).val()==d){$("th span",e).removeClass("val-no");$("th span",e).addClass("val-yes")}else{$("th span",e).removeClass("val-yes");$("th span",e).addClass("val-no")}})}},passWdInit:function(){var c=this;if(!this.paswordShowInit&&booking.env.auth_level<2){this.paswordShowInit=true;$(".passwd_show").each(function(){c.passwordFields++;var e=$(this).attr("name");var h=$(this).val();var g=($(this).hasClass("passwd_strength"))?" strength_margin":"";var j=Math.random();var d="pw_"+j+"textpwd_"+e;$(this).after('<div id="pwfield_'+c.passwordFields+'" class="show_password_text'+g+'"><input type="text" style="display:none;" class="textual_passwd textpwd_'+e+'" name="'+d+'" id="'+d+'" value="'+h+'" onkeyup="'+c.ns+"."+c.name+'.syncPassFields(this,true)" /><label class="pw_toggle_label" for="pw_toggle_'+c.passwordFields+'"><input id="pw_toggle_'+c.passwordFields+'" type="checkbox" onclick="'+c.ns+"."+c.name+'.togglePasswd(this)" />&nbsp;'+booking.env.b_show_passwd+"</label></div>");$(this).mouseenter(function(){var k=$(".textual_passwd",this.parentNode).get(0);$(k).addClass("hoverView")});$(this).mouseleave(function(){var k=$(".textual_passwd",this.parentNode).get(0);$(k).removeClass("hoverView")});var f="#confirm_"+$(this).attr("id");if($(f).length){$(f).each(function(){var m=$(this).attr("name");var l=$(this).val();var k="pw_"+j+"textpwd_"+m;$(this).after('<div id="confirm_pwfield_'+c.passwordFields+'" class="show_password_text"><input type="text" style="display:none;" class="textual_passwd textpwd_'+m+'" name="'+k+'" id="'+k+'" value="'+l+'" onkeyup="'+c.ns+"."+c.name+'.syncPassFields(this,true)" /></div>');$(this).mouseenter(function(){var n=$(".textual_passwd",this.parentNode).get(0);$(n).addClass("hoverView")});$(this).mouseleave(function(){var n=$(".textual_passwd",this.parentNode).get(0);$(n).removeClass("hoverView")})})}$(this).keyup(function(){c.syncPassFields(this,false)});$(this).focus(function(){var l=$(this).parents("form").get(0);var m=$(".textual_passwd",l).get(0);var k=$(m).css("display");if(k!="none"){$(m).focus()}})})}},calculateStrength:function(o,e){if(this.keyCounter==e){var g=$(o).val();var f=$(".pwd_strength .strength",o.parentNode);if(f.length){var r=0,n=0,j=0,h=0,c=0,d=g.length,t,m;if(d>0){r=parseInt(d/2.5);for(var l=0;l<d;l++){var q="!@#$%^&*(){}[];:'\"\\|,.<>/?+=-_±¤";var k="ABCDEFGHIJKLMNOPQRSTUVWXYZ";if(!isNaN(g.charAt(l))){n=n+1}if(isNaN(g.charAt(l))){j=1}if(q.indexOf(g.charAt(l))>-1){h=h+2}if(k.indexOf(g.charAt(l))>-1){c=c+1}}if(h>4){h=4}if(n>2){n=2}if(c>2){c=2}if(j!=0){r+=n}r+=h;r+=c;if(r>10){r=10}}t=26;if($(o).parents("#foldout_signup").length||$(o).parents("#registration_id").length){t=18}m=t*r;strengthMsgIndex=parseInt((r/2)+1);if(d<8){f.addClass("strength_invalid");if(m===0){m=t}else{if(m>3){m=3*t}}strengthMsgIndex=0}else{f.removeClass("strength_invalid")}f.animate({width:m+"px"});if(g!=""){$(".strength_text",o.parentNode).text(booking.env.b_password_strength_msg[strengthMsgIndex])}else{$(".strength_text",o.parentNode).text("")}}}},togglePasswd:function(h){var f=$(h).parents("form").get(0);$(".textual_passwd",f).toggle();var g=$(".textual_passwd",f).get(0);var d=$(g).css("display");var c=$(g).attr("name");c=c.split("textpwd_")[1];var e=$("input[name='"+c+"']",f).get(0);if(d!="none"){this.fixCursorPosition(null,g);if(!$("td.pass_fix").length){$(e).addClass("focusText")}}else{$(e).removeClass("focusText");this.fixCursorPosition(null,e)}this.syncPassFields($(g).get(0),true)},fixCursorPosition:function(f,e){if(f!=null){var d=document.getElementById(f)}else{var d=e}d.focus();var g=$(d).val().length;if(g>0){if("selectionStart" in d){d.selectionStart=g;d.focus()}else{var c=document.selection.createRange();c.moveStart("character",g);c.moveEnd("character",0);c.select()}}},syncPassFieldsMask:function(h){var f=this;var d="textpwd_"+$(h).attr("name");var c=$("input."+d,h.parentNode).get(0);var e=$(h).val();var j="";var k="";f.maskPass="";for(var g=0;g<e.length;g++){var l=e.length-1;if(g>=e.length-1){j+=e[g];f.maskPass+=this.passwordChar}else{j+=this.passwordChar;f.maskPass+=this.passwordChar}}$(c).val(j);setTimeout(function(){f.syncPassFieldsFullMask(c)},1000)},syncPassFieldsFullMask:function(c){$(c).val(this.maskPass)},syncPassFields:function(l,g){var o=false;var m=null;var f=this;if(g){var e=$(l).attr("name");e=e.split("textpwd_")[1];var c=$("input[name='"+e+"']",l.parentNode.parentNode).get(0);var n=$(c).attr("id");if(n.indexOf("confirm_")>-1){var k="#"+n.replace("confirm_","");if(!$(k).length){k="#"+n.replace("_confirm","")}o=true}else{var k="#confirm_"+n}if($(k).length){m=$(k).get(0);$(m).val($(l).val());var d=$(m).attr("name");d="textpwd_"+d;var j=$("input."+d,m.parentNode.parentNode).get(0);$(j).val($(l).val())}}else{var e="textpwd_"+$(l).attr("name");var c=$("input."+e,l.parentNode).get(0)}$(c).val($(l).val());if(g){if(o){if($(m).hasClass("passwd_strength")){this.keyCounter++;var h=this.keyCounter;setTimeout(function(){f.calculateStrength(m,h)},400)}}else{if($(c).hasClass("passwd_strength")){this.keyCounter++;var h=this.keyCounter;setTimeout(function(){f.calculateStrength(m,h)},400)}}}else{if($(l).hasClass("passwd_strength")){this.keyCounter++;var h=this.keyCounter;setTimeout(function(){f.calculateStrength(m,h)},400)}}}};booking.preload_static_assets=function(g){var d,f,c,e=$.browser.msie;for(d=0,f=g.length;d<f;d+=1){if(e){new Image().src=g[d];continue}c=document.createElement("object");c.data=g[d];if(e){c.width=1;c.height=1;c.style.visibility="hidden";c.type="text/plain"}else{c.width=0;c.height=0}document.body.appendChild(c)}};$(window).load(function(){var c=$(document.body),e="mousemove keyup scroll mousedown",j=$("[data-preload-assets]"),g=$.cookie("has_preloaded"),k=0,f=function(){c.unbind(e,d);clearTimeout(k);booking.preload_static_assets(j.data("preload-assets"));$.cookie("has_preloaded",1,{expires:1,path:"/"})},h=function(){k=setTimeout(f,10000)},d=function(){clearTimeout(k);h()};if(g){return}if(j.length){setTimeout(function(){h();c.bind(e,d)},10000)}});booking[sNSStartup].rate_guarantee={priority:9,init:function(){$("#rate_guarantee a, a.usps_rate_guarantee_link, #rate_guaranteev2 a, #ratelogo a, #terms_rateguarantee, a#guarantee_terms, #rates_feedback_invite a.jq_tooltip, #rate_guaranteed").live("click",function(){window.open(this.href,"RateGuarantee","status=1,toolbar=0,menubar=0,width=450,height=550,scrollbars=1");return false});return true}};booking.ensureNamespaceExists(sNSStartup);booking[sNSStartup].short_url={priority:9,loadpos:0,savecheck:0,init:function(){var create_twitter_short_url=function(oTarget){if(typeof oTarget=="object"){myPopup=window.open("","booking_com");$.get("/short_uri?url="+escape(oTarget.getAttribute("data-shorturl"))+"&aid="+booking.env.aid,function(responseText){var json=eval(responseText);myPopup.location.href=oTarget.getAttribute("href")+" http://www.booking.com/"+json.short_url})}};$(".review_useful_t").live("click",function(){create_twitter_short_url(this);return false});$(".share_t").click(function(){create_twitter_short_url(this);return false})}};booking.env.showCase=function(d){var f={baseEl:"#newsletter_deals_city",showCaseClass:".deals",navClass:".deals_nav",menuClass:".deals_menu",showCaseWidth:150,showCaseBorder:3,defSteps:3};$("ul.deals",d.baseEl).css("left","0");var d=$.extend(f,d);c();$(d.baseEl).slideToggle();function c(){$(".next",d.baseEl).click(function(){e(1)});$(".prev",d.baseEl).click(function(){e(-1)})}function e(h){$(".next",d.baseEl).unbind("click");$(".prev",d.baseEl).unbind("click");var m=d.baseEl,g=d.defSteps,o=parseInt(d.showCaseWidth)+parseInt(d.showCaseBorder);var n=parseInt(g)*parseInt(o)*parseInt(h),l=$("ul"+d.showCaseClass+":visible",m),k=l.css("width"),j=parseInt(k)/n;if(n>0){if((-1*parseInt(l.css("left")))+n<parseInt(k)){l.animate({left:"-="+n},"normal",c)}else{l.animate({left:"0"},"normal",c)}}else{if(parseInt(l.css("left"))!=0){l.animate({left:"-="+n},"normal",c)}else{c()}}}};booking.ensureNamespaceExists(sNSExperiments);booking[sNSStartup].b_site_experiment_expand_signup={priority:9,init:function(){var d=$("#newsletter_to",".footerForm"),c=d.attr("value");d.click(function(){var e=$(this);if(e.val()===c){e.val("")}else{e.select()}});d.blur(function(){var e=$(this);if(e.val()===""){e.val(c)}});$("#newsletter_button_footer").click(function(){$(this).parents("form:first").submit()});$(".signupForm").submit(function(f){f.preventDefault();$(".newsletter_ajax_error").hide();var l=booking.env,j=$(this),n=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/,g=$("input[name=url]",j).val(),o=$("input[name=hostname]",j).val(),h=$("input[name=aid]",j).val(),m=$("input[name=companyname]",j).val(),e=$("input[name=subscribe_source]",j).val(),q=$("input[name=to]",j).val(),k;if(q===""||!(n.test(q))){$(".newsletter_subscribe_error_invalid",j).show();return false}k="to="+q+"&url="+g+"&hostname="+o+"&aid="+h+"&companyname="+m+"&subscribe_source="+e;$.ajax({type:"POST",url:"/newslettersubscribe.json",data:k,dataType:"json",success:function(t){if(t.success===0){if(t.error==="denied"){$(".newsletter_subscribe_error_denied",j).show();$(".newsletter_subscribe_error_bad_unknown, .newsletter_subscribe_error_invalid, .newsletter_sub_success",j).hide();$(".userdataform").hide()}else{if(t.error==="bad_params"){$(".newsletter_subscribe_error_bad_unknown",j).show();$(".newsletter_subscribe_error_denied, .newsletter_subscribe_error_invalid, .newsletter_sub_success",j).hide();$(".userdataform").hide()}}return}else{if(t.success===1){if($("div#flashdealsbg_wrapper").length){window.location.href=l.b_nonsecure_hostname_signup+l.b_fd_searchresults_url_signup}else{$(".newsletter_sub_success",j).show();$(".userdataform").show();$("#add_location_to").val(q);booking.env.my_city_autocomplete.init();$(".newsletter_form_fields, .newsletter_subscribe_error_bad_unknown, .newsletter_subscribe_error_denied, .newsletter_subscribe_error_invalid",j).hide();if(t.has_account){var r=$("#userdataform form").eq(0);if(r){r.attr("action",r.attr("data-url-login"))}}}}}}})});$(".soldOutHotelSignup").submit(function(f){f.preventDefault();$(".newsletter_ajax_error").hide();$("p.feedback_msg").each(function(){$(this).hide()});var o=booking.env,j=$(this),r=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/,m=$("input[name=firstname]",j).val(),n=$("input[name=lastname]",j).val(),q=$("input[name=email]",j).val(),g=$("input[name=aid]",j).val(),l=$("input[name=subscribe_to_newsletter]",j).val(),t=$("input[name=hotel_id]",j).val(),u=$("input[name=checkin]",j).val(),h=$("input[name=checkout]",j).val(),e=$("input[name=subscribe_source]",j).val(),k;if(q===""||!(r.test(q))){$(".hotel_availability_error_invalid").show();return false}k="firstname="+m+"&lastname="+n+"&email="+q+"&aid="+g+"&subscribe_to_newsletter="+l+"&hotel_id="+t+"&checkin="+u+"&checkout="+h+"&subscribe_source="+e;$.ajax({type:"POST",url:"http://"+o.b_hostname_signup+"/hotel_availability_newsletter/add",data:k,dataType:"json",success:function(v){if(v.subscribed===1){$(".contenttohide").hide();$(".hotel_availability_sub_success").show()}else{$(".hotel_availability_error_bad_unknown").show()}}})});$(".signupWithnameForm").submit(function(e){e.preventDefault();$(".feedback_msg").each(function(){$(this).hide()});var l=booking.env,h=$(this),o=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/,m=$("input[name=companyname]",h).val(),g=$("input[name=aid]",h).val(),f=$("input[name=subscribe_source]",h).val(),n=$("input[name=email]",h).val(),k=$("input[name=firstname]",h).val(),j;if(n===""||!(o.test(n))){$(".newsletter_subscribe_error_invalid",h).show();return false}$('<div class="loader_placer"></div>').appendTo("#sfl_stepOne");j="to="+n+"&email="+n+"&aid="+g+"&companyname="+m+"&subscribe_source="+f;$.ajax({type:"POST",url:"/newslettersubscribe.json",data:j,dataType:"json",success:function(r){if(r.success==0){$(".loader_placer").hide();if(r.error=="denied"){$(".newsletter_subscribe_error_denied",h).show();$(".newsletter_subscribe_error_bad_unknown, .newsletter_subscribe_error_invalid, .newsletter_sub_success",h).hide()}else{if(r.error=="bad_params"||r.error=="unknown"){$(".newsletter_subscribe_error_bad_unknown",h).show();$(".newsletter_subscribe_error_denied, .newsletter_subscribe_error_invalid, .newsletter_sub_success",h).hide()}}return}else{if(r.success==1){$(".loader_placer").hide();$(".uspfield").hide();$("#sfl_stepOne").hide();if(k==""||booking.env.b_exclude_lang_firstname){$("#sfl_stepThree").show();$(".userWithoutFirstname").show()}else{k=escape(k);if(r.has_account==1){$(".firstnameplacer").html(k);$("#sfl_stepThree").show();$(".userWithAccount").show()}else{var q=booking.env.b_signup_iframe_url+"&firstname="+escape(k)+"&email="+escape(n);$('<iframe border="0" id="sfl_stepTwo" src="'+q+'" width="656" height="320" frameborder="no" scrolling="no"></iframe>').appendTo(".signupWithnameForm")}}}}}})});$("#subscriber_account_active").submit(function(e){if($('input[name="mypassword"]').val().length<1){$(".newsletter_register_error_nopassword").show();return false}else{$('<input type="hidden" name="password" value="'+$('input[name="myssword"]').val()+'" />').appendTo("#subscriber_account_active")}});$(".modal-mask-closeBtn").click(function(){return false});$(".modal-mask").click(function(){return false});if(!$("#newsletter_form_footer_container").length){return false}else{$("#newsletter_form_footer_container").click(function(){booking.env.trackExperiment("NfLKBZJYBEOAXZLO");if(booking.env.b_site_variant_subscriber_first_name_footer==1){booking[sNSStartup].lightbox.show($("#subsciber_firstname_lightbox"),{customWrapperClassName:"subscribername-lightbox"})}return false})}}};booking.env.my_city_autocomplete={res_location:"/autocomplete?lang=en&aid=100000&sid="+booking.env.b_sid+"&skip_suggestions=&term=",store_locations:{},cur_index:-1,fav_game:false,init:function(){this.res_location="/autocomplete?lang="+booking.env.b_lang+"&sid="+booking.env.b_sid+"&aid="+booking.env.b_aid+"&skip_suggestions=&term=";var c=this;$("#city_add, #country_add, #userdataform #city, #fav_city").keypress(function(d){if(d.keyCode==13){d.preventDefault();return false}});$("#city_add, #country_add, #userdataform #city, #fav_city").blur(function(){oWhat=this;setTimeout(function(){c.cleanList(oWhat)},500)});$("#city_add, #country_add, #userdataform #city, #fav_city").keyup(function(d){if($(this).attr("id")=="fav_city"){c.fav_game=true}else{c.fav_game=false}if(d.keyCode&&(d.keyCode==38||d.keyCode==40||d.keyCode==13)){if(d.keyCode==38){d.preventDefault();c.cur_index--;if(c.cur_index<0){c.cur_index=$(".add_result li",this.parentNode).length-1}c.makeSelect(this);return false}if(d.keyCode==40){d.preventDefault();c.cur_index++;if($(".add_result li",this.parentNode).length<=c.cur_index){c.cur_index=0}c.makeSelect(this);return false}if(d.keyCode==13){d.preventDefault();c.clickSelect(this);return false}}else{c.cur_index=-1;c.cleanList(this);var f=$(this).val();var e=$(this).attr("search");if(f.length>1){oField=this;setTimeout(function(){c.loadList(oField,e)},100)}}});$(".favlist .remover").live("click",function(){$(this).removeClass("jq_tooltip");$("img",this).attr("alt","");c.removeFavourite(this,$(this).attr("remtype"));return false});$(".add_result li").live("mouseenter",function(){$("li",this.parentNode).removeClass("sel_fav");$(this).addClass("sel_fav");c.cur_index=$("li",this.parentNode).index(this);var d=$("input",this.parentNode.parentNode).get(0);$(d).focus()});$("#pref_city").click(function(){$(this).hide();$("#pref_city_add").show();$("#city_add").focus();return false});$("#pref_country").click(function(){$(this).hide();$("#pref_country_add").show();$("#country_add").focus();return false})},makeSelect:function(c){$(".add_result li",c.parentNode).removeClass("sel_fav");if($(".add_result li",c.parentNode).length>this.cur_index){var d=$(".add_result li",c.parentNode).get(this.cur_index);$(d).addClass("sel_fav")}},clickSelect:function(c){if($(".add_result li.sel_fav",c.parentNode).length){$(".add_result li.sel_fav a",c.parentNode).click()}else{if($(".add_result li",c.parentNode).length==1){$(".add_result li a",c.parentNode).click()}else{}}},loadList:function(f,d){var e=this;var f=f;var g=$(f).val();var c=this.res_location+g;if(d=="country"){c+="&dest_type=country"}else{if(d=="city"){c+="&dest_type=city&give_cc1=1"}}$.ajax({url:c,success:function(l){var h="";var m=false;if(!l||typeof l[d]==="undefined"){return}for(var k=0;k<l[d].length;k++){var j=l[d][k].label.replace("'","");var n="";if(l[d][k].cc1){var n=l[d][k].cc1[0]}h+='<li onclick="booking.env.my_city_autocomplete.addLocation('+k+", document.getElementById('city_link_"+k+"'), '"+l[d][k].dest_type+"', '"+j+"', '"+n+'\');return false;"><a id="city_link_'+k+'" href="#" onClick="return false;">'+l[d][k].label+"</a></li>";m=true}$(".add_result",f.parentNode).html(h);if(m){$(".add_result",f.parentNode).css({border:"1px solid #dddddd",background:"#ffffff"})}else{$(".add_result",f.parentNode).css({border:"0",background:"transparent"})}e.store_locations=l}})},cleanList:function(d){var c=this;$(".add_result",d.parentNode).html("");$(".add_result",d.parentNode).css({border:"0",background:"transparent"});c.store_locations={}},addLocation:function(o,d,k,c,n){var e=this;var x=this.store_locations[k][o];if(k=="city"){var f=booking.env.fav_city_locations;var r=x.dest_id}else{var f=booking.env.fav_country_locations;var r=x.co_code}var w="favlocation_"+r;if($(d).parents("#userdataform").length){var g=c.split(",");var j=g[0];if(booking.env.b_site_experiment_prefill_country){if(n!=""){if($("#country").length){$("#country").val(n)}if($("#cc1").length){$("#cc1").val(n)}}}$("#city").val(j);$("#city_id").val(r);if($(d).parents(".save_useufi_light").length){$.ajax({type:"POST",url:"/save_my_ufi",data:{ufi:r,lang:booking.env.b_guest_country},success:function(z){var y=$(".save_useufi_light").get(0);$(y).addClass("saved_ufi")}})}e.cleanList($(d).parents("ul").get(0))}else{var u=x.label;var l=u.split(",");if(e.fav_game){if(booking[sNSExperiments].favourites_game){booking[sNSExperiments].favourites_game.addSearchFav(r,x)}e.cleanList($(d).parents("ul").get(0))}else{if($("#"+w).length){e.cleanList($(d).parents("ul").get(0))}else{f[f.length]=r;this.saveFavourites(k);e.cleanList($(d).parents("ul").get(0));var v=l[0];var q="";if(l.length>0){for(var t=1;t<l.length;t++){q+=(t>1)?",":"";q+=l[t]}}var h='<li class="roundme" id="favwrap_'+w+'">';h+='<a href="#" id="'+w+'" class="jq_tooltip remover" remtype="'+k+'" title="remove this item"><img src="/static/img/icon_cancel_trans.png" alt="Remove item" /></a>';h+='<a href="#" onclick="return false;">';if(k=="city"){h+='<span class="roundme def_city">&nbsp;</span>';h+='<span class="roundme city_img" style="background:transparent url(\'/static/img/city/'+r+"/32x32.jpg') left top no-repeat;\">&nbsp;</span>"}else{h+='<img class="roundme" src="/static/img/flags/24/'+r+'.png" alt="" />'}h+="</a>";if(k=="city"){h+='<a href="'+booking.env.b_nonsecure_hostname_signup+"/searchresults."+booking.env.b_lang+".html?city="+r+'">'+v+"</a>"}else{h+='<a href="'+booking.env.b_nonsecure_hostname_signup+"/country/"+r+"."+booking.env.b_lang+'.html">'+v+"</a>"}h+="<span>"+q+"</span>";if(k=="city"){$("#addNewCity").before(h);$("#city_add").val("")}else{$("#addNewCountry").before(h);$("#country_add").val("")}}if(booking.env.profile_map_list){if(k=="city"){var m="/static/img/city/"+r+"/32x32.jpg"}else{var m="/static/img/flags/24/"+r+".png"}}this.animateAdding(w)}}},animateAdding:function(c){var d=$("#"+c).get(0);var e=0;var f=window.setInterval(function(){e++;var g=255-(e*5);if(e>51){g=(e*5)-255}if(e>101){$(d.parentNode).css({background:""});window.clearInterval(f)}else{$(d.parentNode).css({background:"rgb(255,"+g+","+g+")"})}},10)},removeFavourite:function(e,k){var j=$(e).attr("id").split("favlocation_")[1];var d=(k=="city")?booking.env.fav_city_locations:booking.env.fav_country_locations;var f=-1;for(var h=0;h<d.length;h++){if(d[h]==j){f=h}}if(f!=-1){d.splice(f,1);this.saveFavourites(k)}var c=$(e).attr("id");var g="favwrap_"+c;$("#"+g).animate({opacity:0},600,function(){$(this).html("");var l=this;setTimeout(function(){$(l).remove()})})},saveFavourites:function(g){var f=(g=="city")?"cities?ufis":"countries?cc1s";var c=(g=="city")?booking.env.fav_city_locations:booking.env.fav_country_locations;var e="/set_favorite_"+f+"=";for(var d=0;d<c.length;d++){if(d>0){e+=","}e+=c[d]}$.ajax({url:e,type:"POST",success:function(h){if(h.status&&h.status=="auth_needed"){document.location.reload(true)}}})}};function mySlideToggle(f,d){var e=$(f),c=e.data("originalHeight"),g=e.is(":visible");if(arguments.length==1){d=!g}if(d==g){return false}if(!c){c=e.show().height();e.data("originalHeight",c);if(!g){e.hide().css({height:0})}}if(d){e.show().animate({height:c},{duration:250})}else{e.animate({height:0},{duration:250,complete:function(){e.hide()}})}}booking[sNSStartup].social_network={priority:9,init:function(){var c=this;$("#social_network_bookmarks li a").mouseover(function(){$("#share_on").text(this.name)});if(booking.env.b_site_experiment_favorites_bar){$(".socnet_mailafriend").live("click",function(){c.showMailAFriend(this.href);return false})}else{$(".socnet_mailafriend").click(function(){c.showMailAFriend(this.href);return false})}},showMailAFriend:function(d){var f,c,j,e,h,g;if(booking.env.b_is_ie6){h='style="height: 453px;"';g='style="height: 435px;width: 618px;"'}else{h="";g=""}f="maf_wrapper",c='<div id="maf_wrapper" class="iframe"><div id="maf_shadow" '+h+'></div><div id="maf_iframe_wrapper"><iframe id="maf_iframe" '+g+' src="'+d+'" frameborder="0"></iframe></div></div>';if($("#"+f).length){$("#"+f).show()}else{$(document.body).append(c)}j=$(window)[0];e=(document.body.scrollTop==0)?(j.pageYOffset)?j.pageYOffset:(document.body.parentElement)?document.body.parentElement.scrollTop:0:document.body.scrollTop;$("#"+f).css("top",e+($(j).height()/2-$("#"+f).height()/2));if(booking.env.b_site_experiment_event_tracking&&typeof(pageTracker)!="undefined"){booking.google.trackEvent(booking.google.clickTracker,"Mail A Friend","Popup mail_a_friend_redesign")}}};booking[sNSStartup].sr_comp_set_destinations={priority:9,init:function(){if(booking.env.b_sr_compset_url){$.ajax({type:"GET",url:booking.env.b_sr_compset_url+";pid="+booking.env.pageview_id+";sid="+booking.env.b_sid,contentType:"text/html; charset=utf-8",success:function(c){if(!c.match(/^\s*$/)){$("#x_sr_compset").html(c).show()}}})}}};booking.env.Tabs=function(c){var d={baseEl:"#newsletter_deals_city",menuEl:".deals_menu",contentEl:".deals_wrapper",dealsEl:".deals",navEl:".nav_menu",defaultEl:1};var c=$.extend(d,c);$(c.menuEl+" li:nth-child("+c.defaultEl+")").addClass("active").show();$(c.contentEl+" ul.deals:nth-child("+c.defaultEl+")").show();$("li",c.menuEl).click(function(){$("li",c.menuEl).removeClass("active");$(this).addClass("active");$(c.dealsEl,c.contentEl).hide();var e=$(this).find("a").attr("href");$(e).show();return false});$(c.contentEl,c.baseEl).show()};(function(c){c.fn.bgIframe=c.fn.bgiframe=function(e){if(c("html.b_msie_6").length){e=c.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:true,src:"javascript:false;"},e||{});var f=function(g){return g&&g.constructor==Number?g+"px":g},d='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+e.src+'"style="display:block;position:absolute;z-index:-1;'+(e.opacity!==false?"filter:Alpha(Opacity='0');":"")+"top:"+(e.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":f(e.top))+";left:"+(e.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":f(e.left))+";width:"+(e.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":f(e.width))+";height:"+(e.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":f(e.height))+';"/>';return this.each(function(){if(c("> iframe.bgiframe",this).length==0){this.insertBefore(document.createElement(d),this.firstChild)}})}return this}})(jQuery);if(!booking.env.b_site_experiment_rewrite_tt){(function(f){var c={},o,z,l,j=f.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent),n=false,m=function(E,F){var J=f(E),B=J.attr("id"),H,I,C=J.get(0).tagName.toLowerCase(),D,G,A;if(B){G=f("#"+B).index(J);A='jQuery("#'+B+'").eq('+G+")"}else{H=J.closest("[id]");I=H.attr("id");D=f("#"+I).index(H);G=H.find(C).index(J);A='jQuery("#'+I+'").eq('+D+').find("'+C+'").eq('+G+")"}return"(function(){var ele="+A+"."+F+'(),offset=ele.offset();$("#tooltip").css({top: offset.top + "px",left: (offset.left + 70) + "px"})}())'};f.tooltip={blocked:false,defaults:{delay:200,fade:false,showURL:true,extraClass:"",top:15,left:15,id:"tooltip"},block:function(){f.tooltip.blocked=!f.tooltip.blocked}};f.fn.extend({tooltip:function(B){B=f.extend({},f.tooltip.defaults,B);var A=function(){f.data(this,"tooltip",B);this.tOpacity=c.parent.css("opacity");if(this.tooltipText&&this.tooltipText!=""){}else{this.tooltipText=this.getAttribute("data-title")||this.title}this.removeAttribute("title");this.alt=""};q(B);if(typeof booking.env.b_site_experiment_ipad_improvements!="undefined"&&booking.env.b_site_experiment_ipad_improvements){return this.each(A).mouseover(t).bind("touchstart",function(){f(this).mouseover()}).mouseout(k).bind("touchend",function(){f(this).mouseout()}).click(k)}else{if(booking.env.touch_os){return this.each(A).click(t)}else{if(!f(this).hasClass("remover")){return this.each(A).mouseover(t).mouseout(k)}else{return this.each(A).mouseover(t).mouseout(k).click(k)}}}},fixPNG:j?function(){return this.each(function(){var A=f(this).css("backgroundImage");if(A.match(/^url\(["']?(.*\.png)["']?\)$/i)){A=RegExp.$1;f(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+A+"')"}).each(function(){var B=f(this).css("position");if(B!="absolute"&&B!="relative"){f(this).css("position","relative")}})}})}:function(){return this},unfixPNG:j?function(){return this.each(function(){f(this).css({filter:"",backgroundImage:""})})}:function(){return this},hideWhenEmpty:function(){return this.each(function(){f(this)[f(this).html()?"show":"hide"]()})},url:function(){return this.attr("href")||this.attr("src")}});function q(A){if(c.parent){return}if(booking.env.tooltip_traversing){c.parent=f('<div id="'+A.id+'"><div class="shadow"><h3></h3></div></div>').appendTo(document.body).hide()}else{c.parent=f('<div id="'+A.id+'" style="width: '+A.width+'px;"><div class="shadow"><h3></h3></div></div>').appendTo(document.body).hide()}if(booking.env.touch_os){c.parent.bind("click",function(){if(f.tooltip.blocked){return}if(l){clearTimeout(l)}o=null;f(this).removeClass(A.extraClass).fadeOut().css("opacity","")})}if(f.fn.bgiframe){c.parent.bgiframe()}c.title=f("h3",c.parent);c.body=f("div.body",c.parent);c.url=f("div.url",c.parent)}function w(A){return f.data(A,"tooltip")}function x(A){if(w(this).delay){l=setTimeout(y,w(this).delay)}else{y()}n=!!w(this).track;f(document.body).bind("mousemove.tooltip",h);h(A)}var d=false;var r={};var u;function t(){if(f.tooltip.blocked||this==o||(!this.tooltipText&&!w(this).bodyHandler)){return}z=this.tooltipText;o=this;if(f(this).hasClass("larger_gallery_tooltip_images")){booking.env.trackExperiment("ZQPdeFNJUTWcNKNMJYOHT")}if(f(this).hasClass("hotel_thumbs_sprite")||f(this).hasClass("hotel_variable_size")||f(this).attr("id")=="photo_wrapper"||(f(this).hasClass("larger_gallery_tooltip_images")&&booking.env.b_site_experiment_nha_larger_roomtable_tooltip_images)){d=true;var G=f(window);var D=G.width();var F=G.height();var C=200;if(booking.env.b_site_experiment_nha_larger_gallery_tooltip_images_even_larger){if(D>1600&&F>900){C=600}else{if(D>1360&&F>765){C=600}else{if(D>1120&&F>630){C=500}else{if(D>880&&F>495){C=500}else{if(D>760&&F>428){C=400}}}}}}else{if(D>1600&&F>900){C=600}else{if(D>1360&&F>765){C=600}else{if(D>1120&&F>630){C=500}else{if(D>880&&F>495){C=300}else{if(D>760&&F>428){C=300}}}}}}booking.env.trackExperiment("ZQPdeFYeCIObTdcCcdAHTLRGHFbTNFO");z=z.replace(/\/max(\d+)\//,"/max"+C+"/")}if(z.indexOf("<img")===0){d=true;g()}if(f(this).hasClass("show_map")||f(this).hasClass("mouse_hover_rackrate")||f(this).hasClass("deals_label_content")||f(this).hasClass("icon_minibubble")){d=true}if(w(this).bodyHandler){c.title.hide();var H=w(this).bodyHandler.call(this);if(H.nodeType||H.jquery){c.title.empty().append(H)}else{c.title.html(H)}c.title.show()}else{if(w(this).showBody){var E=z.split(w(this).showBody);c.title.html(E.shift()).show();c.body.empty();for(var B=0,A;(A=E[B]);B++){if(B>0){c.body.append("<br/>")}c.body.append(A)}c.body.hideWhenEmpty()}else{c.title.html(z).show();c.body.hide()}}if(w(this).showURL&&f(this).url()){c.url.html(f(this).url().replace("http://","")).show()}else{c.url.hide()}c.parent.addClass(w(this).extraClass);if(w(this).fixPNG){c.parent.fixPNG()}x.apply(this,arguments);if(booking.env.touch_os){f("#tooltip h3").append("<img src='//q-ec.bstatic.com/static/img/experiments/filter_remove.gif' alt='Close window' style='position: absolute; right: 8px; top: 8px;' />").css("padding-right","22px")}if(typeof ClickTaleExec==="function"){ClickTaleExec(m(this,"mouseover"))}}function g(){var B=z.match(/src=['"]([^'"]+)['"]/);if(!B||r[B[1]]){return}var A=z;var C=document.createElement("img");z='<img src="//r-ec.bstatic.com/static/img/experiments/ajax-loader-black.gif" class="tooltip_loader" style="padding: 25px;"/>';C.onload=function(){r[this.src]=true;if(this.src!==u){return}z=A;c.title.html(z);c.parent.css("width",this.width+20);if(c.parent.is(":visible")){h()}};u=B[1];C.src=B[1]}function y(){var A,D;l=null;if(!o||!w(o)){return}if(booking.env.tooltip_traversing){A=w(o);D=A.width;D=(typeof D==="function")?D.apply(o):D;if(D){c.parent[0].style.width=D+"px"}else{c.parent[0].style.width="auto"}}if((!j||!f.fn.bgiframe)&&w(o).fade){if(c.parent.is(":animated")){c.parent.stop().show().fadeTo(w(o).fade,o.tOpacity)}else{c.parent.is(":visible")?c.parent.fadeTo(w(o).fade,o.tOpacity):c.parent.fadeIn(w(o).fade)}}else{c.parent.show()}c.parent.removeClass("niceBlackBorderTooltip blackBorderTooltip");if(w(o).width){c.parent.css("width",w(o).width+"px");if(c.parent.find("#map_hover_preview_text").length){c.parent.addClass(booking.env.b_site_experiment_nice_tooltips==1?"niceBlackBorderTooltip":"blackBorderTooltip")}}else{var B=c.parent.find("img:eq(0)");var C=B.attr("src");if(C){c.parent.addClass(booking.env.b_site_experiment_nice_tooltips==1?"niceBlackBorderTooltip":"blackBorderTooltip")}c.parent.css("width",r[C]?(B.width()+20):"")}h()}function h(E){if(f.tooltip.blocked){return}if(E&&E.target&&E.target.tagName=="OPTION"){return}if(!n&&c.parent.is(":visible")){f(document.body).unbind("mousemove.tooltip")}if(o==null){f(document.body).unbind("mousemove.tooltip");return}if(booking.env.bse_tooltip_new_pos||d){if(!w(o)){return}e(E,w(o).positionLeft);return}var G=c.parent[0].offsetLeft;var F=c.parent[0].offsetTop;if(E){if(booking.env.touch_os){G=f(o).offset().left;F=f(o).offset().top}else{if(!w(o)){f(document.body).unbind("mousemove.tooltip");if(c&&"parent" in c&&c.parent[0]&&c.parent[0].style.display!=="none"){c.parent[0].style.display="none"}return false}if(booking.env.tooltip_traversing){var D=w(o).left;D=(typeof D==="function")?D.apply(o):D;G=E.pageX+D}else{G=E.pageX+w(o).left}F=E.pageY+w(o).top}var B="auto";if(w(o).positionLeft){B=f(window).width()-G;G="auto"}c.parent.css({left:G,right:B,top:F})}if(booking.env.touch_os){if(G>700){G=G-150}else{if(G>600){G=G-100}}c.parent.css({left:G+"px"})}else{var A=v(),C=c.parent[0];if(A.x+A.cx<C.offsetLeft+C.offsetWidth){G-=C.offsetWidth+20+w(o).left;c.parent.css({left:G+"px"}).addClass("viewport-right")}if(A.y+A.cy<C.offsetTop+C.offsetHeight){F-=C.offsetHeight+20+w(o).top;c.parent.css({top:F+"px"}).addClass("viewport-bottom")}if(C.offsetLeft<A.x||w(o).positionLeft){G=10;c.parent.css({left:G+"px"}).addClass("viewport-left")}}}function e(D,G){var B=v();var C=c.parent[0];var A=(f.browser.msie&&parseInt(f.browser.version,10)>=10);var F=D?D.pageX+12:C.offsetLeft;var E=D?(A?(D.clientY+f(window).scrollTop()):D.pageY)+12:C.offsetTop;if(B.x+B.cx<F+C.offsetWidth){if(booking.env.bse_tooltip_new_pos){F=F-C.childNodes[0].offsetWidth-24}else{if(!G){F=F-C.offsetWidth-24}}if(F<B.x+5){F=5}}if(B.y+B.cy<E+C.offsetHeight+5){E=B.y+B.cy-C.offsetHeight-5}if(G&&D){F=F-f(C).width()-15}c.parent.css({left:F,top:E})}function v(){return{x:f(window).scrollLeft(),y:f(window).scrollTop(),cx:f(window).width(),cy:f(window).height()-11}}function k(C){if(f.tooltip.blocked){return}if(l){clearTimeout(l)}o=null;var B=w(this);function A(){c.parent.removeClass(B.extraClass).hide().css("opacity","")}if((!j||!f.fn.bgiframe)&&B.fade){if(c.parent.is(":animated")){c.parent.stop().fadeTo(B.fade,0,A)}else{if(booking.env.tooltip_hide_without_fadeout){c.parent.stop().hide()}else{c.parent.stop().fadeOut(B.fade,A)}}}else{A()}if(w(this).fixPNG){c.parent.unfixPNG()}if(typeof ClickTaleExec==="function"){ClickTaleExec(m(this,"mouseout"))}}})(jQuery)}if(!booking.env.b_site_experiment_rewrite_tt){(function(){var c=booking[sNSStartupLoad].tooltip_3={priority:8,lazy:true,init:function(){if(booking.env.bse_tooltip_delegate){this.delegateTooltip()}else{this.addTooltip(document)}return true},delegateTooltip:function(){$("body").delegate(".jq_tooltip,.jq_tooltippex","mouseenter",function(h){var g=$(this);var j=g.data();if(!j.initialized){g.data("initialized",true);var k=g.hasClass("jq_tooltippex"),l=g.hasClass("policy_name")||g.hasClass("policy_name_tt"),e=g.attr("data-width")?g.attr("data-width"):(g.attr("rel")||0);var f=g.hasClass("left_tt");g.tooltip({bodyHandler:l?function(){return $(this).siblings(".differing_policies").html()}:false,showURL:false,track:true,opacity:k?false:1,fade:k?false:250,width:l?400:e,left:l?-200:-e/2,top:18,extraClass:k?"opaque":false,positionLeft:f});g.mouseover()}})},setupTooltip:function(e){$(".jq_tooltip",e).tooltip({showURL:false,track:true,opacity:1,fade:250,width:function(){return(this.getAttribute("data-width")?this.getAttribute("data-width"):(this.getAttribute("rel")||0))},left:function(){return(this.getAttribute("data-width")?-this.getAttribute("data-width")/2:-(this.getAttribute("rel")||0))/2},top:18})},setupTooltippex:function(e){$(".jq_tooltippex",e).each(function(){var h=$(this),f=h.attr("data-width")?h.attr("data-width"):(h.attr("rel")||0);var g=h.hasClass("left_tt");h.tooltip({showURL:false,track:true,width:f,left:-(f/2),top:18,extraClass:"opaque",positionLeft:g})})},setupPolicy:function(e){$(".policy_name.jq_tooltip, .policy_name_tt.jq_tooltip",e).tooltip({bodyHandler:function(){return $(this).siblings(".differing_policies").html()},showURL:false,track:true,opacity:1,fade:250,width:400,left:-200,top:18})},addTooltip:function(e){this.setupTooltip(e);this.setupTooltippex(e);this.setupPolicy(e)}};if("ontouchstart" in document.documentElement){var d=/(chrome)[ \/]([\w.]+)/.exec(navigator.userAgent.toLowerCase());if(!d){c.setupTooltip=function(e){$(".jq_tooltip",e).each(function(){var g=$(this),h=g.attr("data-width")?g.attr("data-width"):g.attr("rel"),f=(h)?(h.match(/\d+/)||0):0;if(!g.hasClass("urgency_link")){g.tooltip({showURL:false,track:false,opacity:1,fade:250,width:f,extraClass:"opaque"})}})};c.setupTooltippex=function(e){$(".jq_tooltippex[title]",e).each(function(){var g=$(this),f=g.attr("data-width")?g.attr("data-width"):g.attr("rel");g.click(function(){return false});if(!booking.env.b_site_experiment_remove_hotel_img_tooltip_sr){if(g.get(0).tagName.toLowerCase()==="img"){g.wrap("<span class='touchHoverBox' />");g.parent().append("<img src='//q-ec.bstatic.com/static/img/icons/imgplus.gif' class='touchHoverPlus' />")}else{g.addClass("touchHoverBox").append("<img src='//q-ec.bstatic.com/static/img/icons/imgplus.gif' class='touchHoverPlus' />")}}g.tooltip({showURL:false,track:false,opacity:1,fade:250,width:f,extraClass:"opaque"})})};c.setupPolicy=function(e){$(".policy_name.jq_tooltip, .policy_name_tt.jq_tooltip",e).tooltip({bodyHandler:function(){return $(this).siblings(".differing_policies").html()},showURL:false,track:false,opacity:1,fade:250,width:400,extraClass:"opaque"});$("body, .show_map").click(function(){$("#tooltip").hide()});$("sup.jq_tooltip, tr.dotter").removeAttr("onclick")}}}if(booking.env.b_site_experiment_tooltip_on_ready){booking[sNSStartup].tooltip_3=c}})()}booking[sNSExperiments].rewrite_tt={priority:9,version:"1.2.2",tt:null,ttWinHeight:0,ttWinWidth:0,ttScrollTop:0,ttScrollLeft:0,ttShowLeft:false,ttJsonUrl:null,ttCounter:0,ttShow:null,ttContent:"",ttCurElem:null,ttCurText:"",ttTimedOut:null,ttTimeout:300,ttClass:"basic_tooltip_class",ttClasses:{jq_tooltippex:"blackBorderTooltip",add_class2:"tt_class_2"},ttBlocked:{hotel_name_link:true,room_link:true,icon_calendar:true,show_map:true,no_tt:true},ttNodes:[".jq_tooltip","*[data-title]",".jq_tooltippex"],toolTips:{},preLoadedImages:{},init:function(){var c=this;if($.browser.msie&&parseInt($.browser.version,10)==7){this.ttTimeout=0}this.tt=document.getElementById("tooltip_wrap")||function(){var d=document.createElement("div");d.id="tooltip_wrap";var e=(booking.env.b_is_ie6)?'<iframe id="tt_bg_fix_ie6" src="about:blank" frameborder="0" border="0" cellspacing="0"></iframe>':"";var f='<div class="tt_shadow">'+e+'<div class="tt_content"></div></div>';document.body.appendChild(d);d.innerHTML=f;return d}();window.onresize=function(){c.setWindowSize()};window.onscroll=function(){c.setScrollPosition()};if(this.ttJsonUrl){$.ajax({type:"GET",url:this.ttJsonUrl,data:{b_action:"searchresults"},dataType:"json",success:function(d){for(tt_id in d){var e=d[tt_id][0];if(e.tt_text){c.toolTips[tt_id]=[e.tt_text,e.tt_class||"",e.tt_left||false,e.tt_width||null]}}}})}setTimeout(function(){var d=c.ttNodes.join(", ");$(d).each(function(){c.getTTNode(this,false)});$(".policy_name_tt").each(function(){c.getTTNode(this,true)});if(booking.env.b_is_ie){var e=document.getElementsByTagName("img");for(i=0;i<e.length;i++){e[i].removeAttribute("alt")}}c.ttContent=($(".tt_content",c.tt).length)?$(".tt_content",c.tt).get(0):c.tt;c.setWindowSize();c.setScrollPosition();$("body").delegate(".tt_delegate","mouseover mouseout mousemove",function(j){var h=j||window.event;var g=h.pageX||(h.clientX+this.ttScrollLeft);var f=h.pageY||(h.clientY+this.ttScrollTop);if(h.type==="mouseout"){c.showHideTooltip(null,g,f)}else{c.showHideTooltip(this,g,f)}});$(document).ajaxComplete(function(){setTimeout(function(){$(d).each(function(){c.getTTNode(this)});$(".policy_name_tt").each(function(){c.getTTNode(this,true)})},500)})},500)},showHideTooltip:function(l,j,h){if(this.ttShow!=null||l==null){if(l!=this.ttCurElem&&this.ttCurElem!=null){this.ttShow=null;this.tt.style.display="none";this.ttContent.innerHTML="";this.tt.className="";this.tt.style.display="none";this.tt.style.width="auto";this.ttCurText="";this.ttCurElem=null;this.ttShowLeft=false}else{var d=this.getPosition(j,h,this.tt);this.tt.style.left=d[0]+"px";this.tt.style.top=d[1]+"px"}}else{if(l.id!=null&&l.id!=""){this.ttShow=l.id;var e=this.toolTips[this.ttShow];this.ttCurElem=l;this.ttCurText=e[0];var k=(e[1]!="")?e[1]:this.ttClass;if(e[2]){this.ttShowLeft=true}if(e[4]){k+=" tt_loading";this.preloadImg(l.id)}this.ttContent.innerHTML=this.ttCurText;this.tt.className=k;if(e[3]!=null){this.tt.style.width=e[3]+"px"}if(!e[4]){this.showToolTip(0)}if(booking.env.b_is_ie6){var g=(this.tt.offsetHeight)?this.tt.offsetHeight-4:150;var c=document.getElementById("tt_bg_fix_ie6");c.style.height=g+"px";if(e[3]!=null){c.style.width=e[3]+"px"}else{var f=(this.tt.offsetWidth)?this.tt.offsetWidth-4:150;c.style.width=f+"px"}}var d=this.getPosition(j,h,this.tt);this.tt.style.left=d[0]+"px";this.tt.style.top=d[1]+"px"}}},showToolTip:function(e){var d=this;if(this.ttTimeout!=0){var c=(e<this.ttTimeout)?this.ttTimeout-e:10;if(d.showingTooltip){clearTimeout(d.showingTooltip)}d.showingTooltip=setTimeout(function(){if(d.ttCurText!=""){d.tt.style.display="block"}else{d.showHideTooltip(null,0,0)}},c)}else{this.tt.style.display="block"}},setScrollPosition:function(){if(typeof window.pageYOffset=="number"){this.ttScrollLeft=window.pageXOffset;this.ttScrollTop=window.pageYOffset}else{if(document.documentElement&&document.documentElement.scrollTop){this.ttScrollLeft=document.documentElement.scrollLeft;this.ttScrollTop=document.documentElement.scrollTop}else{this.ttScrollLeft=document.body.scrollLeft;this.ttScrollTop=document.body.scrollTop}}},setWindowSize:function(){if(!window.innerWidth){if(!(document.documentElement.clientWidth==0)){this.ttWinWidth=document.documentElement.clientWidth;this.ttWinHeight=document.documentElement.clientHeight}else{this.ttWinWidth=document.body.clientWidth;this.ttWinHeight=document.body.clientHeight}}else{this.ttWinWidth=window.innerWidth;this.ttWinHeight=window.innerHeight}},getTTNode:function(e,f){if(f){var l=$(e).siblings(".differing_policies").html()}else{var l=e.getAttribute("data-title")||e.getAttribute("title")}var c=e.nodeName.toLowerCase();if(c=="option"||c=="link"||c=="select"){l=""}if(l&&l!=""){if(e.id){var g=e.id}else{this.ttCounter++;var g="b_tt_holder_"+this.ttCounter;e.id=g}var j=this.ttClass;var d=false;var k=false;if(e.className){for(classItem in e.className.split(" ")){sClass=e.className.split(" ")[classItem];if(this.ttBlocked[sClass]){k=true}else{if(this.ttClasses[sClass]){j+=" "+this.ttClasses[sClass]}if(sClass=="left_tt"){d=true}}}}if(!k){$(e).addClass("tt_delegate");var m=null;var n=e.getAttribute("data-width");if(n&&!isNaN(n)&&n>150&&n<1001){m=n}else{var o=e.getAttribute("rel");if(o&&!isNaN(o)&&o>150&&o<1001){m=o}}var h=(l.indexOf("<img")>-1&&m==null)?true:false;this.toolTips[g]=[l,j,d,m,h];if(e.getAttribute("title")!=null){e.title="";e.removeAttribute("title")}if(e.getAttribute("data-title")!=null){e.setAttribute("data-title","");e.removeAttribute("data-title")}}}},getPosition:function(j,g,f){var k=j+15;var h=g+10;var c=$(f).width();var d=$(f).height();var e=20;if((j+c+this.ttScrollLeft>this.ttWinWidth-e)||(this.ttShowLeft&&j>c+e)){k=j-c-e}if(g+d-this.ttScrollTop>this.ttWinHeight-e){h=this.ttWinHeight-d-e+this.ttScrollTop}return[k,h]},preloadImg:function(d){var g=this;var e=new Date();var c=this.toolTips[d][0].match(/src=['"]([^'"]+)['"]/);if(!c[1]){this.toolTips[d][4]=false;return}if(this.preLoadedImages[c[1]]){return}this.preLoadedImages[c[1]]={ttid:d,loaded:false};var f=document.createElement("img");f.onload=function(){g.preLoadedImages[this.src].loaded=true;var j=g.preLoadedImages[this.src].ttid;var l=g.toolTips[j];var m=this.width+20;if(m>150){l[3]=m}l[4]=false;if(g.ttShow!==j){return}else{if(l[3]!=null){g.tt.style.width=l[3]+"px"}var k=new Date();var h=k.getTime()-e.getTime();g.showToolTip(h)}};f.src=c[1]}};booking.ensureNamespaceExists(sNSStartup);booking[sNSStartup].touch_device_check={priority:5,init:function(){booking.env.touch_os=("ontouchstart" in document.documentElement)?true:false;if(/(chrome)[ \/]([\w.]+)/.exec(navigator.userAgent.toLowerCase())){booking.env.touch_os=false}return true}};booking[sNSStartup].df_badge_tooltips={priority:9,init:function(){var c=$(".badges span.secretdeal"),d=function(){booking.track.exp("df_badge_tooltips");c.unbind("mouseenter",d)};if(!c.length){return}c.bind("mouseenter",d)}};booking.run("remove_hotel_count_autocomplete").onReady(function(){booking.track.onClick(".ui-autocomplete-input").exp("HaZFKZScTMGIO")});booking.run("tracking_for_smart_deal_tooltip_alt_translation").onReady(function(){var c=$(".smart_deal_tooltip_alt_tr_tracking_position"),d=function(){booking.track.exp("smart_deal_tooltip_alt_translation");c.unbind("mouseenter",d)};if(!c.length){return}c.bind("mouseenter",d)});booking[sNSStartup].unsubscribe={priority:1,init:function(){var d=this;var c=5000;if(booking.env.b_action==="unsubscribe"){$(".preview_weekly_mail").click(function(){booking[sNSStartup].lightbox.show($("#preview_weekly"),{customWrapperClassName:"nl_preview-lightbox"});return false});$(".preview_cityspecial_mail").click(function(){booking[sNSStartup].lightbox.show($("#preview_cityspecial"),{customWrapperClassName:"nl_preview-lightbox"});return false});$(".preview_popular_mail").click(function(){booking[sNSStartup].lightbox.show($("#preview_popular"),{customWrapperClassName:"nl_preview-lightbox"});return false});$(".preview_deals_mail").click(function(){booking[sNSStartup].lightbox.show($("#preview_deals"),{customWrapperClassName:"nl_preview-lightbox"});return false});$(".preview_lazysunday_mail").click(function(){booking[sNSStartup].lightbox.show($("#preview_lazysunday"),{customWrapperClassName:"nl_preview-lightbox"});return false});$(".unsub_data").click(function(){var e=$(this).prev().find("input:checkbox");if(e.attr("checked")){e.attr("checked",false)}else{e.attr("checked",true)}});$(".unsubSave").click(function(h){h.preventDefault();$(".unsub_messages p").each(function(){$(this).hide()});$(this).next(".loader_placer").addClass("unsub_loader");var f=$("#unsubscription_management");var g={};g.email=($("input[name=b_subscriber_email]",f).val()?$("input[name=b_subscriber_email]",f).val():false);g.token=($("input[name=token]",f).val()?$("input[name=token]",f).val():false);if(g.token){dataString="token="+g.token}else{dataString="email="+g.email}$(".unsubCampaigns li input:checkbox").each(function(l){if(this.checked){var k=$(this).val();var j=1;nl_is_all_off=false}else{var k=$(this).val();var j=0}g[k]=j});dataString=dataString+"&subscribe_weekly="+g.subscribe_weekly+"&subscribe_sunday_newsletter="+g.subscribe_sunday_newsletter+"&subscribe_popular="+g.subscribe_popular+"&subscribe_flash_deals="+g.subscribe_flash_deals+"&subscribe_cityspecial="+g.subscribe_cityspecial;$.ajax({type:"POST",url:"/update_newsletter_subscription",data:dataString,dataType:"json",success:function(j){$(".loader_placer").removeClass("unsub_loader");var e=$(".unsub_messages");if(j.success=="1"){$(e).find("p.feedback").each(function(){$(this).hide()});$(e).find("p.success").show()}else{$(e).find("p.feedback").each(function(){$(this).hide()});$(e).find("p.error.someerror").show()}}});return false})}}};$("#currencyChange, #languageChange").hide();$("#current_currency .description, #current_currency .pointer, #current_language .description, #current_language .pointer").show();var currency=booking.currencyDropdownOptions="";$("#currencyChange select option").each(function(){var g=$(this);var f=$(this).attr("data-label");var c=$(this).attr("value");var d;var e="<span class='selsymbol'>"+f+"</span><span class='seldescription'>"+g.text()+"</span>";if(g.hasClass("currency_split")){d="<strong class='currency_split'>"+g.text()+"</strong>"}else{d="<a ";if(!g.hasClass("selected_currency")){d+="href='"+$("#link_with_currency").val()+"="+c;d+="'"}d+=">"+e+"</a>"}if(g.hasClass("selected_currency")){booking.currencyDropdownOptions+="<li class='selected_currency'>"+d+"</li>"}else{booking.currencyDropdownOptions+="<li>"+d+"</li>"}});$("#current_currency_foldout ul").append(booking.currencyDropdownOptions);var language="";$("#languageChange select option").each(function(){var f=$(this);var g=$(this).attr("data-label");var e=$(this).attr("value");var c;var d="<span class='selsymbol'><span class='flag_16 "+g+"'>&nbsp;</span></span><span class='seldescription'>"+f.text()+"</span>";if(f.hasClass("currency_split")){c="<strong class='currency_split'>"+f.text()+"</strong>"}else{c="<a href='"+$("#link_with_language").val()+"="+e+"'>"+d+"</a>"}if(f.hasClass("selected_country")){language+="<li class='selected_country' data-lang='"+e+"'>"+c+"</li>"}else{language+="<li data-lang='"+e+"'>"+c+"</li>"}});$("#current_language_foldout ul").append(language);booking[sNSStartup].viewed_hotels={priority:9,fullListShowed:false,minListSize:5,lastviewTimer:null,loadStart:null,init:function(){this.loadStart=new Date();var f=this,d="",c=false;if(document.getElementById("LastViewedHotels")){try{this.minListSize=parseInt($("#LastViewedHotels").attr("min"))}catch(g){}$("a.remove_hotel").click(function(){var e=$(this).attr("href").substring(1);$.ajax({url:"/hotel_history",type:"DELETE",data:{hotel_id:e}});booking[sNSStartup].viewed_hotels.cleanupHistoryList(this);this.blur();c=true;return false});$("#compare_mvh").click(function(){if(c){$.ajax({url:"/last_viewed_hotels",dataType:"json",async:false,success:function(j){var e=j.length;for(var h=0;h<e;h++){d+=j[h].hotel_id.toString()+","}window.location=booking.env.compare_my_viewed_hotels_link+"hotel_ids="+d}})}else{window.location=$(this).attr("href")}});if($("#showAllHistory").length){$("#showAllHistory").click(function(){booking[sNSStartup].viewed_hotels.showAll();this.blur();return false})}if($("#removeAllHistory").length){$("#removeAllHistory").click(function(){booking[sNSStartup].viewed_hotels.removeAll(true);this.blur();return false})}}if($(".lastVisitdate").length){$(".lastVisitdate").parents("li").mouseenter(function(){var e=$(".lastVisitdate",this);$(e).slideDown("fast");$(this).addClass("selectedVisit");f.updateTime(e);f.lastviewTimer=window.setInterval(function(){f.updateTime(e)},1000)});$(".lastVisitdate").parents("li").mouseleave(function(){window.clearInterval(f.lastviewTimer);$(".lastVisitdate",this).slideUp("fast");$(this).removeClass("selectedVisit")})}return true},updateTime:function(q){var r=this.loadStart;var o=new Date();if($(q).attr("sh")==undefined){$(q).attr("sd",$(".viewed_d",q).text());$(q).attr("sh",$(".viewed_h",q).text());$(q).attr("sm",$(".viewed_m",q).text());$(q).attr("ss",$(".viewed_s",q).text());if($(q).attr("sd")==""){$(q).attr("sd","0")}if($(q).attr("sh")==""){$(q).attr("sh","0")}if($(q).attr("sm")==""){$(q).attr("sm","0")}if($(q).attr("ss")==""){$(q).attr("ss","0")}}var c=0;var g=0;var l=0;var n=0;var u=o.getSeconds()-r.getSeconds();if(u<0){u=60-r.getSeconds()+o.getSeconds();c=1}var f=o.getMinutes()-r.getMinutes()-c;if(f<0){f=60-r.getMinutes()+o.getMinutes()-c;g=1}var k=o.getHours()-r.getHours()-g;if(k<0){k=24-r.getHours()+o.getHours()-g;l=1}if(k>24){k=k-24;n=1-l}var j=parseInt($(q).attr("sh"))+k;var e=parseInt($(q).attr("sm"))+f;var t=parseInt($(q).attr("ss"))+u;if(t>59){t=t-60;e=e+1}if(e>59){e=e-60;j=j+1}if(j>23){j=j-24;n=n+1}if(t==0){$(".viewed_s",q).text("");$(".viewed_seconds",q).removeClass("show");$(".viewed_second",q).removeClass("show")}else{$(".viewed_s",q).text(t);if(t==1){$(".viewed_seconds",q).removeClass("show");$(".viewed_second",q).addClass("show")}else{$(".viewed_seconds",q).addClass("show");$(".viewed_second",q).removeClass("show")}}if(e==0){$(".viewed_m",q).text("");$(".viewed_minutes",q).removeClass("show");$(".viewed_minute",q).removeClass("show")}else{$(".viewed_m",q).text(e);if(e==1){$(".viewed_minutes",q).removeClass("show");$(".viewed_minute",q).addClass("show")}else{$(".viewed_minutes",q).addClass("show");$(".viewed_minute",q).removeClass("show")}}if(j==0){$(".viewed_h",q).text("");$(".viewed_hours",q).removeClass("show");$(".viewed_hour",q).removeClass("show")}else{$(".viewed_h",q).text(j);if(j==1){$(".viewed_hours",q).removeClass("show");$(".viewed_hour",q).addClass("show")}else{$(".viewed_hours",q).addClass("show");$(".viewed_hour",q).removeClass("show")}}if(n==0){$(".viewed_d",q).text("");$(".viewed_days",q).removeClass("show");$(".viewed_day",q).removeClass("show")}else{$(".viewed_d",q).text(n);if(n==1){$(".viewed_days",q).removeClass("show");$(".viewed_day",q).addClass("show")}else{$(".viewed_days",q).addClass("show");$(".viewed_day",q).removeClass("show")}}},cleanupHistoryList:function(d){var c=this.minListSize;$(d).parent().fadeOut(500,function(){$(d).parents("li").remove();var f=$("#LastViewedHotels ul.lastViewedList li");if(!f.length){booking[sNSStartup].viewed_hotels.removeAll(false)}if(f.length<2){$(".hotel_comparison_link").hide();$("#share_hotel_history").css("borderTop","none")}if(f.length>=c){var e=f.get(c-1);$(e).fadeIn(1000)}if(document.getElementById("showAllHistory")){if(f.length<=c){$("#moreHistoryLinkWrapper").hide()}}})},showAll:function(){var d=$("#LastViewedHotels ul.lastViewedList li");var c=this.minListSize;if(!booking[sNSStartup].viewed_hotels.fullListShowed){for(i=c-1;i<d.length;i++){$(d[i]).fadeIn(500)}booking[sNSStartup].viewed_hotels.fullListShowed=true}else{for(i=c;i<d.length;i++){$(d[i]).fadeOut(500)}booking[sNSStartup].viewed_hotels.fullListShowed=false}booking[sNSStartup].viewed_hotels.switchCaption()},removeAll:function(c){if(c){$.ajax({url:"/hotel_history",type:"DELETE",data:{hotel_id:-1}})}$("#LastViewedHotels").fadeOut(500,function(){$(this).remove()})},switchCaption:function(){if(booking[sNSStartup].viewed_hotels.fullListShowed){$("#showAllHistory .showLink").hide();$("#showAllHistory .hideLink").show()}else{$("#showAllHistory .showLink").show();$("#showAllHistory .hideLink").hide()}}};booking[sNSExperiments].viewed_hotels_facebook_twitter={priority:9,calledInit:false,scriptLoaded:false,init:function(){if(!$("#fb-root").length){return}this.addEvents()},addEvents:function(){var c=this;$("#share_hotel_history_fb_v1, #share_hotel_history_fb_v2").bind("click",function(){if(!c.scriptLoaded){c.loadScript()}else{if(!FB){return}c.postToFeed()}return false})},postToFeed:function(){var d=this;if(!d.calledInit){d.fbAsyncInit();d.calledInit=true}var f=booking.env.viewed_hotels_facebook_twitter;var e={method:f.method,link:f.link,picture:f.picture,name:f.name,caption:f.caption,description:f.description};var c=function(g){};FB.ui(e,c)},loadScript:function(){var c=this,d;d=setTimeout(function(){if(window.FB){return}var f=document.createElement("script");f.src=document.location.protocol+"//connect.facebook.net/en_US/all.js";f.async=true;f.onreadystatechange=f.onload=function(){c.scriptLoaded=true;c.postToFeed()};document.getElementById("fb-root").appendChild(f)},500)},fbAsyncInit:function(){FB.init({appId:booking.env.viewed_hotels_facebook_twitter.sharing_app_id,status:true,cookie:true,frictionlessRequests:true})}};booking[sNSStartup].worldmap={priority:8,init:function(){if(!$("#map_holder").length){return}var d=this;var e;var c;this.oldid=$("#continent_list a.selected").attr("id").split("list_continent_")[1];for(c=1;c<10;c++){$("#continent_"+c).mouseover(function(){clearTimeout(e);d.curid=this.id.split("continent_")[1];e=setTimeout(function(){d.togleContinents()},300)});$("#continent_"+c).click(function(){return false});$("#list_continent_"+c).mouseover(function(){clearTimeout(e);d.curid=this.id.split("list_continent_")[1];e=setTimeout(function(){d.togleContinents()},300)});$("#list_continent_"+c).click(function(){return false})}$("#country_wrapper").mouseenter(function(){d.curid=d.oldid});$("#countrylist_10 li, #countrylist_2 li").appendTo("#countrylist_1");$("#countrylist_7 li").appendTo("#countrylist_8")},togleContinents:function(){if(this.curid==this.oldid){return}if(this.oldid){$("#link_continent_"+this.oldid).hide();$("#list_continent_"+this.oldid).removeClass("selected");$("#countrylist_"+this.oldid).hide()}this.showContinent()},showContinent:function(){$("#link_continent_"+this.curid).fadeIn(300);$("#list_continent_"+this.curid).addClass("selected");$("#countrylist_"+this.curid).show();this.oldid=this.curid}};booking[sNSExperiments].disambiguation_list_view=(function(){var c=function(){$(".disambiguation_filter li").bind("click",function(){if(!$(this).hasClass("disamb_filter_selected")){$(".disamb_filter_selected").removeClass("disamb_filter_selected");$(this).toggleClass("disamb_filter_selected");var e=".b_item_"+$(this).attr("data-select");if(e!=".b_item_all"){$(".disambiguation_results li").fadeOut();$(e).fadeIn()}else{$(".disambiguation_results li").fadeIn()}}})};var d=function(){c()};return{init:d}}());booking[sNSStartup].worldMapV2={priority:8,init:function(){if(!$("#map_holder_v2").length){return}var d=this;var e;var c;if(booking.env.b_site_experiment_continent_lp_wrapper){this.oldid=0}else{this.oldid=$("#map_holder_v2 h3.selected").attr("id").split("link_continent_")[1]}$("#world_map_v2 area").hover(function(){var g=$(this).attr("id");var f=parseInt(g.split("_")[1]);$("#link_continent_"+f).stop(true,true).fadeIn(200);$("#list_continent_"+f).addClass("hovered")},function(){var g=$(this).attr("id");var f=parseInt(g.split("_")[1]);if(!$("#link_continent_"+f).hasClass("selected")){$("#link_continent_"+f).stop(true,true).hide()}$("#list_continent_"+f).removeClass("hovered")});$("#world_map_v2 area").click(function(){if(booking.env.b_site_experiment_continent_lp_wrapper){booking.google.trackEvent(booking.google.clickTracker,"Continent-page",$(this).attr("id"));window.location=$(this).attr("data-href")}else{thisid=$(this).attr("id");d.curid=parseInt(thisid.split("_")[1]);d.togleContinents();return false}});if(booking.env.b_site_experiment_continent_lp_wrapper){$(".contlist_v2 li a").hover(function(){$("#link_"+$(this).attr("data-id")).stop(true,true).fadeIn(200)},function(){$("#link_"+$(this).attr("data-id")).stop(true,true).hide()})}else{$(".contlist_v2 li a").hover(function(){var g=$(this).attr("id");var f=parseInt(g.split("list_continent_")[1]);$("#link_continent_"+f).stop(true,true).fadeIn(200);$("#list_continent_"+f).addClass("hovered")},function(){var g=$(this).attr("id");var f=parseInt(g.split("list_continent_")[1]);if(!$("#link_continent_"+f).hasClass("selected")){$("#link_continent_"+f).stop(true,true).hide()}$("#list_continent_"+f).removeClass("hovered")})}$(".contlist_v2 li a").click(function(){if(booking.env.b_site_experiment_continent_lp_wrapper){booking.google.trackEvent(booking.google.clickTracker,"Continent-page",$(this).attr("data-id"))}else{thisid=$(this).attr("id");d.curid=parseInt(thisid.split("list_continent_")[1]);d.togleContinents();return false}});$("#countrylist_10 li, #countrylist_2 li").appendTo("#countrylist_1");$("#countrylist_7 li").appendTo("#countrylist_8")},togleContinents:function(){if(this.curid==this.oldid){return}if(this.oldid){$("#link_continent_"+this.oldid).hide();$("#link_continent_"+this.oldid).removeClass("selected");$("#list_continent_"+this.oldid).removeClass("selected");$("#continent_name_"+this.oldid).removeClass("selected");$("#countrylist_"+this.oldid).hide()}this.showContinent()},showContinent:function(){$("#link_continent_"+this.curid).fadeIn(300);$("#list_continent_"+this.curid).addClass("selected");$("#link_continent_"+this.curid).addClass("selected");$("#continent_name_"+this.curid).addClass("selected");$("#countrylist_"+this.curid).show();this.oldid=this.curid}};$(document).ready(function(){var c=$("#editorTitle").val();var d=$("#editorText").html()});booking[sNSStartup].aa_click_map_open_goal={priority:9,init:function(){if(!booking.jst||isNaN(booking.jst.EKAFbNbBQAYORKe)){return}var d=$(".show_map");if(d.length){var c=function(){booking.track.exp("EKAFbNbBQAYORKe","click_map_open");$("body").undelegate(".show_map","click",c)};$("body").delegate(".show_map","click",c)}}};booking[sNSExperimentsLoad].add_vk={init:function(){if(!document.getElementById("vk_like")){return}var c=document.createElement("script");c.src="//vk.com/js/api/openapi.js?63";c.onload=function(){VK.init({apiId:3225592,onlyWidgets:true});VK.Widgets.Like("vk_like",{type:"mini"},{pageTitle:""})};document.getElementsByTagName("head")[0].appendChild(c)}};var $_dot_or_comma={USD:".",EUR:",",BRL:",",CAD:",",RUB:","};var $_decimal_by_lang={ca:$_dot_or_comma,cs:$_dot_or_comma,da:$_dot_or_comma,de:$_dot_or_comma,el:$_dot_or_comma,en:{},es:$_dot_or_comma,es_us:{},es_mx:{},fi:$_dot_or_comma,fr:$_dot_or_comma,hu:$_dot_or_comma,it:$_dot_or_comma,ja:{},nl:$_dot_or_comma,no:$_dot_or_comma,pt:$_dot_or_comma,pl:$_dot_or_comma,ro:$_dot_or_comma,ru:$_dot_or_comma,sv:$_dot_or_comma,tr:$_dot_or_comma,zh:{}};var $_decimal_by_lang_new={ca:",",cs:",",da:",",de:",",el:",",en:".",es:",",es_us:".",es_mx:".",fi:",",fr:",",hu:",",it:",",ja:".",nl:",",no:",",pt:",",pl:",",ro:",",ru:",",sv:",",tr:",",zh:"."};var lang,currency,country;var original_persons_count=null;$(function(){lang=$("html").attr("lang");currency=$("#currList").val();country=$("meta[name=country]").attr("content");$(".bookExtra").show();if(original_persons_count==null){original_persons_count=parseInt($("#person_count").text());if(isNaN(original_persons_count)){original_persons_count=parseInt($(".person_count:first").text())}}$("select.number_guests").change(function(){var h=$(this);var f=h.val();if(booking.env.b_site_experiment_one_page_bookprocess){var g=h.parents(".room_item").find(".addon")}else{var g=h.closest("table.bookstep2").find(".addon")}var j;g.each(function(){var u=$(this);var q=u.find(".number_guests");q.html(f);var k=q.length?f:1;var t=u.find(".price_per_unit");var n=t.attr("price");var v=t.attr("price_hotel");var l=u.find("span.addon_price");var w=u.find(".number_nights").text()||t.attr("nights")||1;var o=u.find("span.addon_price");var r=((n>0)?n:v)*w*k;o.attr("price",r);o.attr("price_hotel",format_price(v*w*k));if(booking.env.b_site_experiment_bp_clean_addon&&q.length>0){o.fadeOut("fast",function(){m();o.fadeIn()})}else{m()}function m(){o.html(o.attr("currency_symbol")+" "+format_price(r,o.attr("currency")))}});show_addons_cost();update_persons_count()});$("tr.dropdowns td select").change(function(){var l=$(this);var g=$(this).parents("tr.dropdowns").find(".price_per_unit");var j=l.find("option:selected").text();var k=g.attr("nights");var m=g.attr("price");var f=g.attr("price_hotel");var h=((m>0)?m:f)*k*j;l.attr("price",h);l.attr("price_hotel",format_price(f*k*j));show_addons_cost()});$("input:checkbox[name^=addon]").click(show_addons_cost);$(".extrabed").click(function(){if(!booking.env.b_site_experiment_bp_clean_addon){$("select.number_guests").trigger("change")}});$("input:checkbox[name^=insurance]").click(function(){var k=1*($("#cost_with_addons").attr("tc")||0);var f=1*(this.checked?($("#insurance_cost").attr("price")||0):0);var j=$("#selected_currency_symbol").text();$("#cost_with_addons").html(format_price(k+f));if(j){var h=1*$("#s_cost_with_addons").attr("tc");var g=1*(this.checked?($("#s_insurance_cost").attr("price")||0):0);$("#s_cost_with_addons").html(format_price(h+g))}if(this.checked){$("#insurance_div").show();$(".ovTotalCost").show()}else{$("#insurance_div").hide()}});var e={nl:1,dk:1,fi:1,se:1,de:1,it:1,ch:1,pt:1,at:1,es:1,de:1,fr:1,ie:1,be:1,cy:1,cz:1,ee:1,hu:1,gr:1,lv:1,lt:1,lu:1,no:1,pl:1,sk:1,ro:1};$("select[name=cc1]").change(function(){var f=$(this).val();if(e[f]==1){$("#insurance_wrapper").show();$("input:checkbox[name^=insurance]").removeAttr("disabled")}else{$("#insurance_wrapper").hide();$("input:checkbox[name^=insurance]").attr("disabled","disabled")}});$("tr.dropdowns .totPrice select").trigger("change");var c=$("input:checkbox[name^=addon]:checked").length;var d=$(".dropdowns select .notnull:selected").length;if(c||d){show_addons_cost()}if(e[$("select[name=cc1] option:selected").val()]==1){$("#insurance_wrapper").show();$("input:checkbox[name^=insurance]").removeAttr("disabled")}});function show_addons_cost(){var h=$("input:checkbox[name^=f_addon]:checked, input:checkbox[name^=addon]:checked, select.addon_price option.notnull:selected").parents("tr.addon").find(".addon_price");var l=0,q=0;var d={city_tax:0,vat:0,service_charge:0};var n={city_tax:0,vat:0,service_charge:0};var k=$("#pricedetails .total .hotel_currency .currency_symbol").text();if($("#pricedetails .total .hotel_currency .currency_symbol").data("currency")){k=$("#pricedetails .total .hotel_currency .currency_symbol").data("currency")}h.each(function(){var t=$(this);d.addons=d.addons||0;d.addons+=1*t.attr("price_hotel");n.addons=n.addons||0;n.addons+=1*t.attr("price");t.nextAll(".addon_tax").each(function(){var v=$(this);var u=v.attr("name");var w=1*v.val();if(u.match(/^s_/)){u=u.replace(/^s_/,"");n[u]=n[u]||0;n[u]+=w}else{d[u]=d[u]||0;d[u]+=w}});t.nextAll(".addon_tax_percentage").each(function(){var w=$(this);var v=w.attr("name");var u=1*w.val();d[v]=d[v]||0;d[v]+=u*t.attr("price_hotel");n[v]=n[v]||0;n[v]+=u*t.attr("price")})});var j=1*($("#total_cost").attr("price")||0);var m=j;for(var g in d){var e=$("#"+g+"_cost");var f=1*(e.attr(g)||0);var r=f+d[g];j+=r;e.html(format_price(r,k))}$("#cost_with_addons").html(format_price(j,k));var c=booking.env.b_selected_currency;if(c){var o=1*($("#s_total_cost").attr("price")||0);for(var g in n){var e=$("#s_"+g+"_cost");var f=1*(e.attr(g)||0);var r=f+n[g];o+=r;e.html(format_price(r,k))}$("#s_cost_with_addons").html(format_price(o,c))}if(booking.env.b_site_experiment_extracharges_breakdown){if(d.addons>0){$(".cost").show();$(".ovTotalCost").show();$("#rack-rate-total-user-currency").hide();$("#rack-rate-total-hotel-currency").hide();$("#rack-rate-total-percentage").hide()}else{$(".cost").hide();$("#rack-rate-total-user-currency").show();$("#rack-rate-total-hotel-currency").show();$("#rack-rate-total-percentage").show();if($(".included","#pricedetails").length<2){if(m==j){$(".ovTotalCost").hide();$("#rack-rate-total-user-currency").show();$("#rack-rate-total-hotel-currency").show();$("#rack-rate-total-percentage").show()}else{$(".ovTotalCost").show();$("#rack-rate-total-user-currency").hide();$("#rack-rate-total-hotel-currency").hide();$("#rack-rate-total-percentage").hide()}}}}else{if(d.addons>0){$(".cost").show();$(".ovTotalCost").show();$("#rack-rate-total-user-currency").hide();$("#rack-rate-total-hotel-currency").hide();$("#rack-rate-total-percentage").hide()}else{$(".cost").hide();$("#rack-rate-total-user-currency").show();$("#rack-rate-total-hotel-currency").show();$("#rack-rate-total-percentage").show();if(m==j){$(".ovTotalCost").hide();$("#rack-rate-total-user-currency").show();$("#rack-rate-total-hotel-currency").show();$("#rack-rate-total-percentage").show()}else{$(".ovTotalCost").show();$("#rack-rate-total-user-currency").hide();$("#rack-rate-total-hotel-currency").hide();$("#rack-rate-total-percentage").hide()}}}if($(".extrabed :checked").length){$("#extrabed_remark").show();$(".extrabed_var_is_included").show();$(".extrabed_var_is_excluded").hide()}else{$("#extrabed_remark").hide();$(".extrabed_var_is_included").hide();$(".extrabed_var_is_excluded").show()}if($("li.total").hasClass("updated")){$("li.total").removeClass("updated")}else{$("li.total").addClass("updated").delay(600).queue(function(t){$(this).removeClass("updated");t()})}}function update_persons_count(){var c=0;$("select.number_guests").each(function(){c+=parseInt($(this).val())});$("input[type=checkbox].is_extrabed:checked").each(function(){c+=1});var d=$("#person_count");if(d.length==0){d=$(".person_count");var e="";d.each(function(){e=$(this).text().replace(/[0-9]+/,c);$(this).html(e)})}else{var e=d.text().replace(/[0-9]+/,c);d.html(e)}}var _language_number_formatting={ar:[".",",",false],bg:["."," ",false],ca:[",",".",false],cs:["."," ",false],da:[",",".",false],de:[",",".",false],"en-us":[".",",",false],"en-gb":[".",",",false],el:[",",".",false],es:[",",".",false],et:[","," ",false],fi:[","," ",false],fr:[","," ",false],he:[".",",",false],hr:[",",".",false],hu:["."," ",false],id:[",",".",false],is:[",",".","ISK"],it:[",",".",false],ja:[".",",","YEN"],ko:[".",",",false],lt:[","," ",false],lv:[","," ",false],ms:[".",",",false],nl:[",",".",false],no:[","," ",false],pl:[","," ",false],pt:[","," ",false],"pt-br":[",",".",false],ro:[",",".",false],ru:[","," ",false],sk:[","," ",false],sl:[",",".",false],sr:[",",".",false],sv:[","," ",false],th:[".",",",false],tl:[".",",",false],tr:[",",".",false],uk:[","," ",false],vi:[",",".",false],zh:[".",",",false]};function thousand_separate(d,e){d=d.replace(/,/g,"");var c=new RegExp("(-?[0-9]+)([0-9]{3})");while(c.test(d)){d=d.replace(c,"$1"+e+"$2")}return d}function format_price(d,k){var h=(Math.round(d*100)/100)+"";if(h.match(/\.\d$/)){h+="0"}var n=country.toLowerCase();var f=$_decimal_by_lang[lang+"_"+n]||$_decimal_by_lang[lang];var j=f?f[k]||".":".";if(booking.env.b_site_variant_currency_consistency){j=$_decimal_by_lang_new[lang+"_"+n]||$_decimal_by_lang_new[lang]||"."}if(booking.env.b_site_variant_localize_price_number_format){var o=lang.split("-")[0];var e=_language_number_formatting[lang]||_language_number_formatting[o]||[".",",",false];var j=e[0];var m=e[1];var c=!(e[2]===k);var g=h.split(".");var l=thousand_separate(g[0],m);if(c&&g[1]){l=l+j+g[1]}return l}return h.replace(/\./,j)}booking[sNSStartup].addons={priority:9,init:function(){$("#insurance_button").click(function(){$(this).toggleClass("hover");$("#insurance_panel").toggle()});return true}};booking[sNSExperiments].free_cancellation_fake_addon={priority:9,init:function(){var c=this;$(".free-cancellation input").removeAttr("checked");$(".free-cancellation input").click(function(){c.triggerFreeCancellation($(this))});$("#bookForm").submit(function(){var d="";$("input[name=lastname],input[name=email],input[name=email_confirm]",$("#bookForm")).each(function(){d+=$(this).val()});if((d=="")||($("#bookForm").find(".val-no").length>0)){c.cleanFreeCancellation();return}});return true},cleanFreeCancellation:function(){var c=this;$(".free-cancellation input").each(function(){if($(this).get(0).checked){$(this).get(0).checked=false;c.triggerFreeCancellation($(this))}})},triggerFreeCancellation:function(m){var k=m.attr("name").split("_");var n=m.attr("value");var g=k[2]+"_"+k[3]+"_"+k[4]+"_"+k[5];var c=$("input[name='nr_rooms_"+g+"']").attr("value");var f=$("input[name='nr_rooms_"+n+"']").attr("value");var l;var h;var e=$("#bookForm input[name='total_cost']");var d=parseFloat(e.attr("value"));var j=parseFloat(m.parents("tr.addon").find(".addon_price").attr("price_hotel"));if(m.get(0).checked){$("input[name='nr_rooms_"+g+"']").attr("value",--c);$("input[name='nr_rooms_"+n+"']").attr("value",++f);l=g;h=n;d+=j}else{$("input[name='nr_rooms_"+g+"']").attr("value",++c);$("input[name='nr_rooms_"+n+"']").attr("value",--f);l=n;h=g;d-=j}e.attr("value",d);var o=m.parents(".bookstep2").get(0);$("input",o).each(function(){if($(this).attr("name").indexOf("f_addon")<0){$(this).attr("name",$(this).attr("name").replace(l,h));$(this).attr("id",$(this).attr("id").replace(l,h))}});$("select",o).each(function(){$(this).attr("name",$(this).attr("name").replace(l,h));$(this).attr("id",$(this).attr("id").replace(l,h))});show_addons_cost()}};booking[sNSStartup].advsrchToggle={priority:9,init:function(){$(".adv_search_btn").click(function(){$(".advsrch_container").toggle();return false});$(".adv_search_btn").click(function(){$(this).toggleClass("open")});$(".advsrch_container input").click(function(){var c=($(this).attr("checked"))?false:true;$("#nflt").val(booking[sNSStartup].nflt.getUrl($(this).val(),c))})}};booking[sNSStartup].nflt={priority:8,curFilters:{},baseUrl:"",baseHash:"",filterParam:"nflt",init:function(){},getFilters:function(){var c=this;$(".advsrch_container input").each(function(){c.addFilter($(this).attr("value"))})},addFilter:function(c){var e=c.split("-");var f=e[0];var d=e[1];this.curFilters[c]=[f,d]},removeFilter:function(c){if(this.curFilters[c]){delete this.curFilters[c]}},getUrl:function(d,c){if(c){this.removeFilter(d)}else{this.addFilter(d)}var e="";for(filter in this.curFilters){var f=this.curFilters[filter];if(f&&f.length){e+=f[0]+"%3D"+f[1]+"%3B"}}return e}};booking[sNSExperiments].ajax_filters=(function(){var f="=!=!=";var q=false;var m={};var n;var v;var k=[];var x=function(z,A){m[z]={timestamp:+new Date(),value:A}};var y=function(A){var B=m[A];var z=+new Date();if(B&&(z-B.timestamp)<600000){return B.value}};var u=function(){var A=$(".sorth1").offset().top;var z=$(window).scrollTop();if(z>A){window.scrollTo(0,A)}};var h=function(z){if(typeof history.pushState!=="undefined"){history.pushState({url:z},null,z)}else{location.hash="#!"+z}};var d=function(z,H){var G=z.replace(booking.env.b_url_start,"").replace(/;;/g,";").replace(/^;+|;+$/g,"").split("?");var D=G[1].split(";");var E,F=D.length;var B,A,C=[];for(E=0;E<F;E++){B=D[E].split("=");if(B[0]==="nflt"){A=decodeURIComponent(B[1]).replace(/;;/g,";").replace(/^;+|;+$/g,"");if(A){C=A.split(";")}D.splice(E,1);break}}if(typeof H==="function"){H(D,C)}D.push("nflt="+encodeURIComponent(C.sort().join(";")));return G[0]+"?"+D.sort().join(";")};var g=function(A){var z=A.split("=")[0];return d(v,function(C,B){if(z==="pr"){o(A,C)}else{B.push(A);if(z==="district"){t(C)}}})};var o=function(E,D){var B,A=D.length;var C=false;var z;for(B=0;B<A;B++){if(D[B].split("=")[0]==="pr"){C=true;z=E.split("=")[1]+","+D[B].split("=")[1];z=z.split(",");z=$.map(z,function(F){return parseInt(F,10)});z.sort(function(G,F){return G-F});if(z[0]===-1){z.splice(0,1);z.push(-1)}D[B]="pr="+z[0]+","+z[z.length-1];break}}if(!C){D.push(E)}};var j=function(A){var z=A.split("=")[0];return d(v,function(D,C){if(z==="pr"){l(A,D)}else{var B=C.length;while(B--){if(C[B]===A){C.splice(B,1)}}if(z==="district"){c(D)}}})};var l=function(B,D){var E,F=D.length;for(E=0;E<F;E++){if(D[E].split("=")[0]==="pr"){var I=D[E].split("=")[1].split(",");var A=parseInt(I[0],10);var z=parseInt(I[1],10);var C=B.split("=")[1].split(",");var H=parseInt(C[0],10);var G=parseInt(C[1],10);if(A===H&&z===G){D.splice(E,1)}else{if(A===H){D[E]="pr="+G+","+z}else{if(z===G){D[E]="pr="+A+","+H}}}break}}};var t=function(z){c(z);z.push("radius=0")};var c=function(A){var z=A.length;while(z--){if(/^radius=/.test(A[z])){A.splice(z,1)}}};var e=function(D,A,z){if(!z){z={}}var C=D.split(f);if($(C[2]).find("table.hotellist > tbody > tr").length===0){var E=k.pop();if(E){w(E);return false}}$(document.body).unbind("mousemove.tooltip");k=[];var G=[];$("#filterbox_wrap .filtercategory").each(function(){var H=$(this);if(!H.hasClass("toggla_hide")){G.push(H.parent().attr("id"))}});$("#filterbox_wrap").html(C[0]);$.each(G,function(I,H){var J=$("#"+H);J.find(".filtercategory").removeClass("toggla_hide");J.find(".filteroptions").hide()});var F=$(C[1]).filter("#breadcrumb");if(F.length){$("#breadcrumb").empty().append(F.contents())}else{$("#breadcrumb").html(C[1])}$("h1.sorth1").html(C[2]);var B=document.getElementById("ajaxsrwrap");$(B).html(C[3]);if(!booking.env.b_site_experiment_rewrite_tt){booking[sNSStartupLoad].tooltip_3.addTooltip(B)}booking[sNSStartupLoad].search_all_roomtypes.addMoreLink(B);booking[sNSStartup].filterbox.init();booking[sNSStartup].sort_popups.init();booking[sNSStartupLoad].change_currency_on_click.init();$(".address a, .broaden_search a, .prevnextbar a, a.filterelement, #sort_by a").each(function(){if(this.href.indexOf("standalonesearchresults.")>-1){this.href=this.href.replace("standalone","")}});if(z.scrollToTop===undefined||z.scrollToTop){u()}if(z.saveUrl===undefined||z.saveUrl){h(A)}};var w=function(A,z){if(!z){z={}}var B=y(A);v=A;if(B){e(B,A,z);return}q=true;booking[sNSStartup].filterbox_loading.show();setTimeout(function(){n=$.ajax({cache:true,url:A.indexOf("standalonesearchresults")>-1?A:A.replace("searchresults.","standalonesearchresults."),success:function(C){if(A!==v){return}q=false;e(C,A,z);x(A,C)}})},15)};var r=function(){x(location.pathname+location.search,$("#filterbox_wrap").html()+f+$("#breadcrumb").html()+f+$("h1.sorth1").html()+f+$("#ajaxsrwrap").html());var B=location.href.split("#!")[1];if(B){w(B,{scrollToTop:false,saveUrl:false})}$("a.filterelement").live("click",function(){var E=$(this);if(E.hasClass("cantdeselect")){return false}var F=this.getAttribute("data-id").replace(/^(.+)[\-_](\d+)$/,"$1=$2");if(/^pricerange=/.test(F)){F=this.getAttribute("data-param")}var D=F.split("=")[0];var C;if(q){q=false;if(n){n.abort()}if(v){k.push(v)}C=E.hasClass("active")?j(F):g(F)}else{C=d(this.href)}if(booking.env.filter_config[D]==="single"){E.siblings().toggle(E.hasClass("active"))}E.removeClass("on").toggleClass("active").blur();w(C);return false});$(window).bind("hashchange",function(){var C=location.href.split("#!")[1];if(!C){w(location.pathname+location.search,{saveUrl:false})}else{if(C!==v){w(C,{saveUrl:false})}}});var A=("state" in window.history);var z=location.href;$(window).bind("popstate",function(D){var C=!A&&location.href===z;A=true;if(C){return}var E=D.originalEvent.state;if(!E){w(location.pathname+location.search,{saveUrl:false})}else{if(E.url!==v){w(E.url,{saveUrl:false})}}})};return{init:r}}());booking[sNSExperiments].bp_cart={init:function(){$.ajax({url:"/cart",dataType:"json",success:function(c){$.each(c,function(g,e){if(g==0){var f=$("#bp_cart");var d=function(h){return'<a class="clear_cart" href="#" id="bp_cart_clear">'+booking.env.bp_cart_abandon_close+'</a><a class="proceed" title="'+h.hotel_name+'" href="'+h.secure_hostname+h.book_url+'">'+booking.env.bp_cart_abandon_complete_book_01+'<span class="cart_cta_button">'+booking.env.bp_cart_abandon_complete_book_02+"</span></a>"};f.html(d(e));f.show();$("body").addClass("cart_is_active");$("#bp_cart_clear").click(function(){$.ajax({url:"/cart_clear",dataType:"json",success:function(){$("body").removeClass("cart_is_active");$("#bp_cart").css("display","none")}})})}})}})}};var b_Feedback=function(){function g(){if(b_cookie&&b_cookie.contentFeedback){var k=b_cookie.contentFeedback.split("|");if(k.indexOf(booking.env.b_hotel_id)!=-1){return}}$("#hotel_main_content").append('<p id="content_feedback_invite">'+booking.env.content_feedback_prompt_question+'<br /><button id="b_content_feedback_yes">'+booking.env.content_feedback_prompt_link+"</button></p>");$("#b_content_feedback_yes").click(function(){b_Feedback.popup("/general.html?tmpl=content_feedback");if(booking.env.b_site_experiment_event_tracking&&(typeof pageTracker!="undefined"||typeof _gaq!="undefined")){booking.google.trackEvent(booking.google.clickTracker,"Content Feedback","Clicked")}return false})}function h(){}function f(){var l="<option value=''>"+transl_please_select+"</option>";var k;$("#maxotel_rooms td.roomPrice div.roomDefaultUse, #maxotel_rooms td.roomPrice div.roomSingleUse").each(function(){singleOcc="";if($(this).hasClass("roomSingleUse")){singleOcc="- Single Occupancy"}var n=$(this).find("strong").text();var m=n.match(/[0-9].*[0-9]/);if($(this).parents("tr:eq(0)").find("td.roomType a.togglelink").length!=0){k=$(this).parents("tr:eq(0)").find("td.roomType a.togglelink").html()}l+='<option value="'+$(this).attr("id").substr(9)+" *** "+k+singleOcc+" | "+booking.env.rates_feedback_userscurrency+" "+m+'">'+k+singleOcc+" - "+n+"</option>"});$("#feedback_roomslist").append('<select name="roomtype_id" id="roomtype_id" style="width:410px;">'+l+"</select>")}function e(){if($("#comments_table").length){var l=$("#comments_table");$(".review_tr",l).mouseenter(function(m){$(".review_feedback",$(this)).css({filter:"alpha(opacity=100)",opacity:1})});$(".review_tr",l).mouseleave(function(m){$(".review_feedback",$(this)).css({filter:"alpha(opacity=20)",opacity:0.2})});if($.fn&&$.fn.tooltip){$(".review_useful_form",l).tooltip({track:true,opacity:1,fade:250,left:0})}if(b_cookie&&b_cookie.rF){var k=b_cookie.rF.split(",");$("tr",l).each(function(){var n=$(this).find("div[id^='area_comments_']").attr("id");var m=n.substr(14,n.length);if(k.indexOf(m)!=-1){if(booking.env.b_site_experiment_review_helpful_thumbs){var o=$(this);o.find(".review_useful_form").remove();o.find(".vote_copy").remove();o.find("span.review_feedback").prepend('<p class="review_useful_thankyou">'+booking.env.transl_content_feedback_thankyou_new+"</p>")}else{var o=$(this);o.find(".review_useful_form").remove();o.find(".vote_copy").remove();o.find("span.review_feedback").prepend('<p class="review_useful_thankyou">'+transl_content_feedback_thankyou_short+"</p>")}}})}$("div.review_feedback form",l).submit(function(){$(this).children("textarea").val(booking.env.b_hotel_id);var n=$(this).parents("div[id^='area_comments_']").attr("id");var m=n.substr(14,n.length);var o=this;$.post(this.action,{hotel_id:$(this).children("textarea").val()},function(){if(b_cookie&&b_cookie.rF){var r=b_cookie.rF.split(",");if(r.length>50){r.shift();b_cookie.rF=r.toString()+","+m}else{b_cookie.rF+=","+m}}else{if(typeof(b_cookie)=="undefined"){b_cookie={}}b_cookie.rF=m}if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:booking.env.b_domain_end})}var q=$(o).parent();q.find(".review_useful_form").remove();q.prepend('<p class="review_useful_thankyou">'+transl_content_feedback_thankyou_short+"</p>");booking.google.trackEvent(booking.google.clickTracker,"Review Useful",$(o).children("button").attr("class"))});return false});$("span.review_feedback form",l).submit(function(){$(this).children("textarea").val(booking.env.b_hotel_id);var n=$(this).parents("div[id^='area_comments_']").attr("id");var m=n.substr(14,n.length);var o=this;$.post(this.action,{hotel_id:$(this).children("textarea").val()},function(){if(b_cookie&&b_cookie.rF){var r=b_cookie.rF.split(",");if(r.length>50){r.shift();b_cookie.rF=r.toString()+","+m}else{b_cookie.rF+=","+m}}else{if(typeof(b_cookie)=="undefined"){b_cookie={}}b_cookie.rF=m}if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:".booking.com"})}var q=$(o).parent();if(booking.env.b_site_experiment_review_helpful_thumbs){$(o).closest(".no_thumbs").html('<p class="review_useful_thankyou">'+booking.env.transl_content_feedback_thankyou_new+"</p>")}else{q.find(".review_useful_form").remove();q.prepend('<p class="review_useful_thankyou">'+transl_content_feedback_thankyou_short+"</p>")}booking.google.trackEvent(booking.google.clickTracker,"Review Useful",$(o).children("button").attr("class"))});return false})}}function d(){$("input[name^=reason]:checked").each(function(){$.ajax({url:"/feedback",type:"PUT",data:{type:this.value,hotel_id:booking.env.b_hotel_id,lang:booking.env.b_lang_for_url}})});var k=booking.env.content_feedback_thankyou_end+". "+booking.env.content_feedback_we_appreciate;if($("#contact:checked").length){k=booking.env.content_feedback_contact_info+" "+k}$("#content_feedback_invite").text(k);if(b_cookie&&b_cookie.contentFeedback){b_cookie.contentFeedback=b_cookie.contentFeedback+"|"+booking.env.b_hotel_id}else{if(typeof(b_cookie)=="undefined"){b_cookie={}}b_cookie.contentFeedback=booking.env.b_hotel_id}if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:booking.env.b_domain_end})}if(booking.env.b_site_experiment_event_tracking&&(typeof pageTracker!="undefined"||typeof _gaq!="undefined")){booking.google.trackEvent(booking.google.clickTracker,"Content Feedback","Sent")}}function j(){$("#b_content_feedback_yes").hide();if($("#content_feedback_checkboxes").length){$("#content_feedback_checkboxes").show()}else{$('<div id="content_feedback_checkboxes"><label for="translation"><input id="translation" type="checkbox" name="reason[]" value="translation">'+booking.env.content_feedback_response1+'</label><label for="difficult"><input id="difficult" type="checkbox" name="reason[]" value="difficult">'+booking.env.content_feedback_response2+'</label><label for="incorrect"><input id="incorrect" type="checkbox" name="reason[]" value="incorrect">'+booking.env.content_feedback_response3+'</label><label for="missing"><input id="missing" type="checkbox" name="reason[]" value="missing">'+booking.env.content_feedback_response4+'</label><label for="contact"><input id="contact" type="checkbox" name="reason[]" value="contact">'+booking.env.content_feedback_response5+'</label><button onclick="b_Feedback.send();">'+booking.env.send_your_feedback+"</button><a href=\"#\" onclick=\"$('#content_feedback_checkboxes').hide(); $('#b_content_feedback_yes').show(); return false;\">Close</a></div>").appendTo("#content_feedback_invite")}}function c(k){$(document.body).append('<div id="b_feedback"></div>');$("#b_feedback").load(k,function(){if($("#b_feedback").css("position")=="fixed"){$("#b_feedback").css("top",$(window).height()/2-$("#b_feedback").height()/2)}else{var l=(document.body.scrollTop==0)?(window.pageYOffset)?window.pageYOffset:(document.body.parentElement)?document.body.parentElement.scrollTop:0:document.body.scrollTop;$("#b_feedback").css("top",l+($(window).height()/2-$("#b_feedback").height()/2))}$("#b_feedback").bgiframe();b_Feedback.createRoomsDd()})}return{init:g,initRatesFeedback:h,createRoomsDd:f,registerEvent:e,send:d,open:j,popup:c}}();booking[sNSStartup].b_Feedback={priority:9,init:function(){b_Feedback.initRatesFeedback()}};booking.ensureNamespaceExists(sNSExperiments);booking[sNSExperiments].content_feedback={priority:9,init:function(){b_Feedback.init()}};booking[sNSStartup].show_nr_accounts={priority:9,counters:{},updateCounters:[],counterCount:0,startingzeros:"00000000",init:function(){this.counterInit()},counterInit:function(){var c=this;$(".show_counter").each(function(){c.addCounter(this)});c.startRunning()},addCounter:function(o){this.counterCount++;var q=this.counterCount;this.counters["counter_"+q]={nodeId:q,displayAccounts:0,intervalCounter:0,expected:0,increase:1,interVal:null,fields:1};var m=$(o).attr("fields");var k=this.counters["counter_"+q];k.fields=m;if(k.fields>8){this.startingzeros=this.startingzeros+"0"}if(m>1){var k=this.counters["counter_"+q];k.expected=$(o).attr("expected");k.displayAccounts=parseInt(k.expected);var j=$(o).attr("number");k.increase=$(o).attr("increase");var n=false;for(var g=0;g<m;g++){var e=m-g-1;var f=this.startingzeros+k.displayAccounts;var h=f.charAt(~(m-f.length)+g+1);if(h=="0"&&!n){var l="none"}else{var l="block";n=true}$(o).append('<div class="cntr_nr" id="nr_ac_'+e+"_"+q+'" style="display:'+l+';"><span>'+h+"</span></div>");if(j&&j.length>2){var d=null;if(j.indexOf(".")>-1){var d="."}if(j.indexOf(",")>-1){var d=","}if(d!=null){var c=j.split(d)[1].length;if(j&&e%3==0&&e!=0){$(o).append('<span class="counter_divider">'+d+"</span>")}}}}}},startRunning:function(){for(items in this.counters){var c=this.counters[items];var d=1000/c.increase;this.runInterval(c,d)}},runInterval:function(c,d){var e=this;var c=c;this.updateCounters[c.nodeId]=window.setInterval(function(){c.displayAccounts++;var f=e.startingzeros+c.displayAccounts;var h=true;for(var j=c.fields;j>-1;j--){var g=f.charAt(f.length-j-1);var k=document.getElementById("nr_ac_"+j+"_"+c.nodeId);if(k){k.innerHTML="<span>"+g+"</span>";if(g=="0"&&h){k.style.display="none"}else{k.style.display="block";h=false}}}},d)}};function popup_cancel_big_index(c){window.open(c,"","toolbar=0,location=0,directories=0,status=0,menubar=0,scrollbars=yes,resizable=1,width=950,height=500,left=200,top=200");return false}$(function(){var c,d;d=function(){var f=/(cancel(?:led|action)?|(:?delete|remove)(?:\s+my)?\s+booking)/i;var e=/(?:cannot stay|can not stay|can't stay|will not stay|won't stay)\s+at\s+(?:the)?\s*(?:hotel|hostel|accommodation|guesthouse)/;if(!/en/.test(booking.env.b_lang)){return}var g=$(this).val();if(f.test(g)||e.test(g)){if(!c){booking.track.exp("cuca_reactive_text_box");c=true}if(booking.env.b_site_experiment_cuca_reactive_text_box){var h=$("#messagebox_div").position();$("#reactive_text_box"+booking.env.b_site_experiment_cuca_reactive_text_box).css({position:"absolute",top:h.top+"px"}).fadeIn()}}else{if($("#reactive_text_box1").is(":visible")){$("#reactive_text_box1").fadeOut()}if($("#reactive_text_box2").is(":visible")){$("#reactive_text_box2").fadeOut()}}};$("#reactive_text_box1").hide();$("#reactive_text_box2").hide();$("#messagebox").keyup(d)});booking[sNSStartup].default_group_new={priority:9,user_modified:false,group_set:$(".group_set").length,init:function(){var g=this;$("#in_a_group, #in_a_group_narrow, #define_group h3").hide();$("#define_group table").addClass("hidelinks");$("#default_group_new_block select, #predefined_group").change(function(){var j=$("select#predefined_group option:selected").val();var h=$("select#nr_children option:selected").val();if((j==2||j==1)&&h>0){booking.track.exp("reset_child_select_for_nongroup");if(booking.env.b_site_experiment_reset_child_select_for_nongroup){$("select#nr_children option:selected").val("0")}}$("#define_group").show()});function f(k,j,h){if(g.group_set==1||h>0||j>parseInt(k)+1){var l=".hidelinks";if(g.group_set!=1){l+=", #group_definition_modal"}$(l).show()}else{$(".hidelinks").not("#group_definition_modal .hidelinks").hide()}}$("#default_group_new_block select").change(function(){var v=$("#nr_rooms").val(),w=$("#nr_adults").val(),h=$("#nr_children").val(),x=$(".default_group tbody tr"),q=x.length;if(v<q){x.slice(v).remove();g.user_modified=false;$("#nr_adults option:gt(0)").remove();for(var n=0+2;n<=v*10;n++){var r=$("<option></option>").attr("value",n).text(n);$("#nr_adults").append(r)}$("#nr_adults").val(w);$("#nr_children option:gt(0)").remove();for(var m=0+1;m<=v*10;m++){var r=$("<option></option>").attr("value",m).text(m);$("#nr_children").append(r)}$("#nr_children").val(h)}else{for(var o=q+1;o<=v;o++){var t=$("#define_group tbody").append(booking[sNSStartup].b_GroupDefinitionModule.row_markup.replace("XXX",o));booking[sNSStartup].b_GroupDefinitionModule.addChildrenHandlers(t)}$("#nr_adults option:gt(0)").remove();for(var n=0+2;n<=v*10;n++){var r=$("<option></option>").attr("value",n).text(n);$("#nr_adults").append(r)}$("#nr_adults").val(w);$("#nr_children option:gt(0)").remove();for(var m=0+1;m<=v*10;m++){var r=$("<option></option>").attr("value",m).text(m);$("#nr_children").append(r)}$("#nr_children").val(h)}if(g.user_modified===false){$("select[name=group_adults]").each(function(j){this.value=(j<w%v)?Math.floor(w/v)+1:Math.floor(w/v)});$("select[name=group_children]").each(function(j){this.value=(j<h%v)?Math.floor(h/v)+1:Math.floor(h/v);$ages_row=$(this).parent().next();var k=$ages_row.find("input").length;if(this.value-1<k){if(this.value>0){$ages_row.find("input:gt("+(this.value-1)+")").remove()}else{$ages_row.find("input").remove()}}else{for(var j=0;j<this.value-k;j++){$ages_row.append(booking[sNSStartup].b_GroupDefinitionModule.age_markup)}}});if($("input[name=age]").length===0){$("#ages_header").hide()}else{$("#ages_header").show()}}else{var l=w,u=h;$(".default_group select").each(function(){if(this.name=="group_adults"){if(l>0){l-=this.value}else{this.value=0}}else{if(u>0){u-=this.value}else{this.value=0}}})}f(v,w,h)});$(".default_group table select").live("change",function(){var j=0,h=0;$(".default_group table select").each(function(){if(this.name=="group_adults"){j+=parseInt(this.value)}else{h+=parseInt(this.value)}});$("#nr_adults").val(j);$("#nr_children").val(h);g.user_modified=true});var e=$("#nr_rooms").val(),d=$("#nr_adults").val(),c=$("#nr_children").val();f(e,d,c)}};booking[sNSStartup].b_GroupDefinitionModule={row_markup:"",age_markup:'<input type="text" name="age" maxlength="2" size="2" autocomplete="off" />',age_markup_request_children_in_sr:'<input type="text" name="age" maxlength="2" size="2" value="-1" style="visibility: hidden" autocomplete="off" />',attachEvents:function(){var d=this,c=function(){var f,g=$("#frm select[name^=check]"),e=g.length-1;while(e--){f=$(g[e]).val();if(!f||+f<=0){return false}}return true};$("#in_a_group").click(function(){if(this.checked){$("#group_definition").show();$("#clear_group").val("0")}else{$("#group_definition").hide();$("#clear_group").val("1")}});$("#in_a_group_narrow").click(function(){if(this.checked){d.showModalWindow();$("#clear_group").val("0")}else{$("#group_definition_modal").hide();$("#clear_group").val("1")}});$("#define_group tfoot a").click(function(){var f=$("#define_group tbody tr").length+1;var e=$("#define_group tbody").append(d.row_markup.replace(/XXX/,f));$("#clear_group").val("0");d.addChildrenHandlers(e);return false});$("#define_group tbody a").live("click",function(){$(this).parents("tr").eq(0).remove();if($("#group_definition tbody tr").length===0){$("#clear_group").val("1")}return false});$("#define_group input").live("click",function(){if(this.value=="?"){this.value=""}});$("#show_modal, #show_modal_nr, #show_modal_ssb").click(function(){if(!($("#availcheck").length&&$("#availcheck").is(":checked"))){$(".search_summary_block").hide();$(".original_search_form").removeClass("original_search_form_hidden");d.showModalWindow()}return false});$("#clear_and_submit, #clear_and_submit_nr").click(function(){$("#clear_group").val("1");$("#in_a_group").attr("checked","");$("#group_definition, .b_group_recommendation").hide();$("#frm")[0].submit();return false});$("#close").click(function(){var e=$("#org_nr_rooms").val();org_nr_adults=$("#org_nr_adults").val();org_nr_children=$("#org_nr_children").val();$("#nr_rooms").val(e).trigger("change");$("#nr_adults").val(org_nr_adults).trigger("change");$("#nr_children").val(org_nr_children).trigger("change");$("#group_definition_modal").hide();return false});$(".group_change").click(function(){if(booking.env.b_site_experiment_omni_search){$("#group_definition_modal").hide();d.updateCount();return false}else{if(!c()){$("#group_definition_modal").hide()}}});$("#frm").submit(function(h){if($("#availcheck")[0].checked){return}var f=0;var l=Array();var k=false;$("#group_definition input[name=age]").each(function(){var m=$("select#predefined_group option:selected").val();var e=$("select#nr_children option:selected").val();if((m==2||m==1)&&e>0){booking.track.exp("reset_child_select_for_nongroup");if(booking.env.b_site_experiment_reset_child_select_for_nongroup){$("select#nr_children option:selected").val("0")}}if(this.value.match(/[mMkKhHlLaA]/)){this.value="0"}if(this.value.match(/\D/)){this.value=""}if(this.value>17){this.value=""}if(this.value==""){$(this).addClass("error");booking.track.exp("child_age_error");if(booking.env.b_site_experiment_child_age_error){if(booking.env.child_age_error_shown!=1){$("#default_group_new_block").prepend('<div class="flex_group_search_error" style="color:#DD0000;font-weight:bold;margin-bottom:1.8em;">'+booking.env.child_age_text+"</div>");$("#default_group_new_block").css({"margin-bottom":"4em"});booking.env.child_age_error_shown=1}}$("#ages_header").removeClass("error");h.preventDefault();return false}else{$(this).removeClass("error");$("#ages_header").removeClass("error")}l.push(this.value)});if(booking.env.b_site_experiment_new_group_params){var j=0;var g="";$("#group_definition select[name=group_adults]").each(function(){g+="|p:"+this.value+",c:"+$("#group_definition select[name=group_children]")[f].value+",";for(var e=0;e<$("#group_definition select[name=group_children]")[f].value;e++){g+="a:"+l[j]+",";j++}f++});$("#group_config").val(g)}else{$("#group_config").val("")}if(k){h.preventDefault();return false}});$("#availcheck").click(function(){if(this.checked){if(booking.env.b_site_experiment_omni_search){$("#show_modal, #define_group input, #define_group select").attr("disabled","disabled");$("fieldset.group","#frm").addClass("disableme");$("#define_group").addClass("disableme")}else{$("#define_group input, #define_group select").attr("disabled","disabled");$("#define_group").addClass("disableme")}if($("#group_definition_modal").length){$("#group_definition_modal").hide();$("#in_a_group_narrow").attr("checked","")}}else{$("#show_modal, #define_group input, #define_group select").removeAttr("disabled");$("fieldset.group","#frm").removeClass("disableme");$("#define_group").removeClass("disableme")}})},update:function(g){var f=this;var e=$(g);var d=e.val();var h=e.parent().next().find("input").length;if(d-1<h){if(d>0){e.parent().next().find("input:gt("+(d-1)+")").remove()}else{e.parent().next().find("input").remove()}}else{for(var c=0;c<d-h;c++){e.parent().next().append(f.age_markup)}}if($("input[name=age]").length===0){$("#ages_header").hide()}else{$("#ages_header").show()}},setInitialVisibility:function(){if(!document.getElementById("in_a_group")||document.getElementById("in_a_group").checked){if(typeof $("#group_definition").show=="function"){$("#group_definition").show()}}else{$("#group_definition").hide();$("#clear_group").val("1")}$(".featuredRooms tbody").each(function(){if($(this).find("tr").length===0){$(this).parents("tr").eq(0).remove()}});if(booking.env.b_site_experiment_omni_search){this.updateCount()}},showModalWindow:function(){if(booking.env.b_site_experiment_omni_search){$("body").trigger("click")}$("#group_definition_modal").show();if(!booking.env.b_site_experiment_omni_search){var c=(document.body.scrollTop==0)?(window.pageYOffset)?window.pageYOffset:(document.body.parentElement)?document.body.parentElement.scrollTop:0:document.body.scrollTop;if(booking.env.b_site_experiment_hp_rt_full_width){c=0}$("#group_definition_modal").css("top",c+($(window).height()/2-$("#group_definition_modal").height()/2));$("#group_definition_modal").bgiframe()}},selectRecommendedRooms:function(){$("#roomsForm select").each(function(){this.value=0});var f="";for(var e=0;e<booking.env.b_room_groups.length;e++){var d=booking.env.b_room_groups[e].split(":");var g=$("select[name=nr_rooms_"+d[0]+"]").val();$("select[name=nr_rooms_"+d[0]+"]").val(parseInt(g)+parseInt(d[1]))}for(var e=0;e<booking.env.b_room_extrabeds.length;e++){var c=booking.env.b_room_extrabeds[e].split(":");f+=c[0]+":"+c[1]+";";$('<input type="hidden" name="extrabeds_'+c[0]+'" value="'+c[1]+'"/>').appendTo($("#roomsForm"))}$('<input type="hidden" name="is_group_recommendation" value="1"/>').appendTo($("#roomsForm"));$("#roomsForm")[0].submit()},addChildrenHandlers:function(d){var c=this;$('select[name="group_children"]',d).change(function(){c.update(this)})},updateCount:function(){var c=0;$("#default_group_new_block select.omni_people option:selected").each(function(){if($(this).val()-0==$(this).val()){c=c+parseInt($(this).val())}});if(c>2){$("fieldset.group","#frm").addClass("group_set");if($("#group_count").length>0){$("#group_count").html(c)}else{$("fieldset.group .field","#frm").append('<div id="group_count">'+c+"</div>")}}else{if($("#group_count").length>0){$("#group_count").html(c)}}},init:function(){var c=this;if($("#define_group").length){this.row_markup="<tr><th>"+booking.env.group_room+'&nbsp;XXX:&nbsp;</th><td><select name="group_adults"><option value="0">0</option><option value="1" selected="selected">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option></select></td><td class="b"><select name="group_children"><option value="0">0</option><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option></select></td><td class="b"></td><td><a href="#">'+booking.env.group_remove+"</a></td></tr>";this.attachEvents();this.setInitialVisibility();if($("#availcheck")[0].checked){$("#define_group input, #define_group select").attr("disabled","disabled");$("#define_group").addClass("disableme")}if($("#define_group").css("display")=="none"){$("#inout select").change(function(){$("#define_group").show()})}}$("#select_group").click(function(){c.selectRecommendedRooms();this.blur();return false});$("#select_group2").click(function(){c.selectRecommendedRooms();this.blur();return false});this.addChildrenHandlers(document)}};booking[sNSExperiments].disambiguation_skip_links={priority:9,init:function(){var c=false;$(".more_disamb_results_link").click(function(){if(!c){var h=$(this),d=h.attr("href"),g=h.attr("data-type"),f=h.attr("data-url"),e;if(!f){return true}c=true;$("#disambiguation_partitions_overlay").show();f=(f.replace(/[\&|\;]partition_dest_type\=\w*/g,""))+"&tmpl=disambiguation_block";if(typeof(g)!=="undefined"&&g!=="All"){f+="&partition_dest_type="+g}e=$("#sideNav").find(".current");e.removeClass("current");h.parent().addClass("current");$.get(f,{},function(j){if(j){j=j.replace(/[\&|\;]tmpl=disambiguation_block/g,"");$("#disambiguation_partitions_wrapper").html(j)}c=false})}return false})}};booking[sNSExperiments].disambiguation_survey={priority:9,init:function(){var c={};if(typeof(JSON)!=="undefined"){c=JSON.parse($.cookie("b"))||{}}if(!c.dis_svy){$("#disambiguation_survey").show()}$("#kampylink").click(function(){$("#disambiguation_survey").hide();c.dis_svy=1;if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(c),{path:"/",domain:booking.env.b_domain_end})}})}};booking[sNSExperimentsLoad].dotd_redesign={priority:9,init:function(){var c=$("#dotd-defer");c.replaceWith(c.data("defer"))}};booking[sNSExperiments].expired_login_message={priority:9,expire_time:600000,init:function(){this.reInit()},reInit:function(){var c=this;setTimeout(function(){c.showLoggedOutPopup()},this.expire_time)},showLoggedOutPopup:function(){$(".user_salutation").each(function(){var c=$(this).attr("id");if(c=="hidden_login_form"){$(this).removeAttr("id");$(this).show()}else{if(c=="my_links"){$(this).remove()}}});$("#link_my_profile").remove();booking.lightbox.open(null,null,null,"lb_logged_out")}};$(function(){$.extend($.expr[":"],{containsi:function(f,d,c){return(f.textContent||f.innerText||"").toLowerCase().indexOf((c[3]||"").toLowerCase())>=0}});$("#search_form").submit(function(){var d=$("#keyword").val();if(!d.length){return false}var c=["item_searching","topten","item_volcano_eruption","item_roomtypes","item_pricing","item_creditcards","item_payments","item_reservation_process","item_hotelpolicies","item_confirmation","item_extrafacilities","item_cancellation","item_directions","item_reviews"];$(c).each(function(f,g){hideEl(g)});$("#search_results").children().remove();$.getJSON("/faq_search",{lang:lang,query:d},function(e){results=e.results;if(!results||!results.length){$("#search_results").append("<p>Nothing found</p>")}else{$.each(results,function(f,j){var g=$("span#"+j),h=g.prev();if(g&&h&&j.match(/faqa\d+/)&&!h.parents("span.faqA").size()){h.clone().appendTo("#search_results");g.clone().appendTo("#search_results")}})}});return false});$(".staticmenustyle").children("li").children("a").each(function(c,d){$(d).click(function(){$("#search_results").children().remove()})})});booking.myFavoriteHotels=(function(){var v=[],A=[],F,q,z,d,u=[],B=1,k=true,l=$(".favorites_loaded_list"),r,y,c=1023,x=3,C=false,j='(<a class="b_change_dates" href="#edit_dates">'+booking.env.change_dates+"</a>)",h='<a class="b_change_dates" href="#edit_dates">Select dates</a>';var n=function(I){var H='<div class="favorite_hotel favorite_hotel_'+I.hotel_id;if(I.is_favorite){H+=" favorite_hotel_s-favorite"}H+='" data-id="'+I.hotel_id+'"><a href="'+I.url+'"><img src="'+I.square40+'" width="30" height="30" alt=""/></a><div class="favorite_hotel_name"><div class="favorite_hotel_name_inner_1"><div class="favorite_hotel_name_inner_2">'+I.title+'</div></div></div><div class="favorite_hotel_remove">&times;</div></div>';return H};$("#show_fav").click(function(R){var L,I=$(window),H=v.length,S=261,N=I.scrollTop()+60,J=I.width(),P=Math.round((J-c)/2),O=Math.floor(P/S*2);if(booking.env.current_hotel_id&&!$(".remove_from_my_hotels").is(":visible")){current_viewed_hotel=booking.env.current_hotel_id;var K=booking.env.comparisonpage+"hotel_ids="+current_viewed_hotel+","+v;C=true;H+=1}else{var K=booking.env.comparisonpage+"hotel_ids="+v}for(var M=O;M-->0;){if(H>x){c+=S;x++;P-=S/2}}$(".favorites_comparison").load(K+" .hotel_comparison_matrix",function(){var U=$(".hotel_comparison_matrix");r=$("#switch_hotel_left");y=$("#switch_hotel_right");U.find("h1.title").after('<a id="close_fav_lightbox" href="#">'+booking.env.close_tag+"</a>");var W=$(".starts_favorites");W.find("h1 a").append(W);W.remove();var T=U.find(".notice");var V=T.html();loadedElementHeight=U.height();if(V!=null){U.find("h1.title").after('<p class="price_dates">'+V+"</p>")}else{}$(".remove_hotel2").html(booking.env.remove_favorite+'<span class="fav_hotel_removeIcon"></span>').addClass("remove_from_my_hotels");if(C){$(".hotel-1").addClass("current_viewed_hotel")}$(".bigtopbuttons").remove();T.remove();k=false;L=U.height()+82;$(".shadow_border").css({width:c+20+"px",height:L+"px"});Q.css({width:c-62});$(".hotel_comparison_matrix").css({width:c-84+"px"});if(H>x){}});l.css({visibility:"hidden"});var Q=$(".favorites_comparison");l.css({top:N+"px",left:P+"px",width:c,visibility:"visible"}).show();R.preventDefault()});$("#close_fav_lightbox").live("click",function(H){l.hide();H.preventDefault()});$(".b_change_dates").live("click",function(){booking[sNSStartup].lightbox.show($("#editDates"),{customWrapperClassName:booking.env.b_site_experiment_av_calendar?"modal-edit-dates-av":"modal-edit-dates"})});l.find("ul.tags li").live({mouseover:function(){$("li[title='"+$(this).attr("title").replace("'","\\'")+"']").addClass("highlight-tag")},mouseout:function(){$("li[title='"+$(this).attr("title").replace("'","\\'")+"']").removeClass("highlight-tag")}});function o(){var I,H;l.find("td").live({mouseover:function(J){H=$(this).index()+1;if(H!=1){I=l.find("td:nth-child("+H+")");I.addClass("hoverHotel");I.first().addClass("hoverHotelFirst");I.last().addClass("hoverHotelLast");var K=I.find(".prev_hotel, .next_hotel");K.show()}},mouseout:function(){if(H!=1){I.removeClass("hoverHotel");I.first().removeClass("hoverHotelFirst");I.last().removeClass("hoverHotelLast");I.find(".prev_hotel, .next_hotel").hide()}}})}function e(L){var K,H=booking.env.current_hotel_id?'<td clas="hotel-1"></td>':"";for(var J=0;J<L;J++){K+='<td><a href="#" class="change_the_hotel" data-id="'+u[J].hotel_id+'"><img src="'+u[J].square40+'" width="30" height="30" alt=""/>'+u[J].title+"<span></span></a></td>"}var I="<tr><td>Select hotels to compare</td>"+H+K+"</tr>";$("#tblHotelComparisson thead").prepend(I)}$("#close_fav").click(function(H){$(".favorites_loaded_list").slideUp("slow",function(){$("#favorite_thumbs").show()});$(this).hide();H.preventDefault()});var w=function(){if(typeof b_cookie==="undefined"){window.b_cookie={}}F=$("#show_fav");$noFavorites=$(".no_favorites");q=$(".my_favorites_bar");z=$(".dock_close");d=/(.+)\/images\/hotel$/.exec(booking.env.dock_images_url)[1];$.ajax({url:"/favorites",dataType:"json",success:function(K){var J,H=K.length,L="";for(J=0;J<H;J++){K[J].square40=d+K[J].square40;K[J].url=booking.env.domain_for_app+K[J].url+booking.env.dock_url_params;L+=n(K[J]);u.push(K[J]);v.push(K[J].hotel_id.toString());$(".favorites_bar_buttons").each(function(){var M=$(this);var N=K[J].hotel_id.toString();if(M.attr("data-id")==N){M.hide();$('.remove_from_my_hotels[data-id="'+N+'"]').show();$('.sr_user_remove_listing[data-id="'+N+'"]').hide()}})}q.html(L);m("init");var I=v.length;if(I<B){$noFavorites.show();F.addClass("show_all_favorites-hidden");F.hide();return}if(I>=2){}if(b_cookie.dock_my_hotels==="closed"){z.addClass("dock_s-closed").removeClass("show_all_favorites-hidden")}else{F.removeClass("show_all_favorites-hidden");z.removeClass("show_all_favorites-hidden");$noFavorites.hide()}}});q.delegate(".favorite_hotel_remove","click",function(){var H=$(this).parent().attr("data-id");G(H)});z.bind("click",function(){toggleDock()});$(".dock_compare_link").bind("click",function(){})};var D=function(I){var J=I.hotel_id;if($.inArray(J,v)>-1){var H=q.find(".favorite_hotel_"+J);if(H.hasClass("favorite_hotel_s-favorite")){return}else{H.addClass("favorite_hotel_s-favorite")}}else{v.unshift(J);q.prepend(n(I))}if(v.length>=B&&F.hasClass("show_all_favorites-hidden")){g();b_cookie.dock_my_hotels="open";E()}if(v.length>=2){}$.ajax({url:"/favorites/add",type:"POST",data:{hotel_id:J,pid:booking.env.pageview_id}});m("addHotel",J);k=true;booking.google.trackEvent(booking.google.clickTracker,"FavoritesBar","Hotel added")};var G=function(J){var I=$.inArray(J,v);if(I===-1){return}v.splice(I,1);var H=q.find(".favorite_hotel_"+J);if(v.length>=B){H.remove()}else{if(F.hasClass("show_all_favorites-hidden")){H.remove();z.addClass("show_all_favorites-hidden");$noFavorites.show()}else{t(true,function(){H.remove()})}}if(v.length<2){F.hide()}$.ajax({url:"/favorites/delete",type:"DELETE",data:{hotel_id:J}});m("removeHotel",J);k=true;booking.google.trackEvent(booking.google.clickTracker,"FavoritesBar","Hotel removed")};var g=function(){var H=z.hasClass("show_all_favorites-hidden")?F.add(z):F;z.removeClass("dock_s-closed");$noFavorites.hide();H.css("bottom",-45).removeClass("show_all_favorites-hidden").animate({bottom:0},"fast")};var t=function(I,J){var H=I?F.add(z):F;H.css("bottom",0).animate({bottom:-45},"fast",function(){H.addClass("show_all_favorites-hidden");z.addClass("dock_s-closed");$noFavorites.show();if($.isFunction(J)){J()}})};var E=function(){if(typeof JSON==="undefined"){return}$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:booking.env.b_domain_end})};var f=function(I,H){if(!A[I]){A[I]=[]}A[I].push(H)};var m=function(J){var K=A[J];var I;var H=K.length;if(!K){return}for(I=0;I<H;I++){K[I].apply(this,arguments)}};return{init:w,addHotel:D,removeHotel:G,attachObserver:f}}());booking[sNSExperiments].favorites_bar={priority:9,init:function(){booking.myFavoriteHotels.init();booking.myFavoriteHotels.attachObserver("addHotel",function(c,d){$(".add_to_my_hotels, .sr_user_remove_listing").each(function(){var e=$(this);var f=e.attr("data-id");if(f===d){e.hide()}});$(".remove_from_my_hotels").each(function(){var e=$(this);var f=e.attr("data-id");if(f===d){e.show()}})});booking.myFavoriteHotels.attachObserver("removeHotel",function(c,d){$(".add_to_my_hotels, .sr_user_remove_listing").each(function(){var e=$(this);var f=e.attr("data-id");if(f===d){e.show()}});$(".remove_from_my_hotels").each(function(){var e=$(this);var f=e.attr("data-id");if(f===d){e.hide()}})});booking.myFavoriteHotels.attachObserver("init",function(){$(".add_to_my_hotels").live("click",function(){booking.myFavoriteHotels.addHotel({hotel_id:this.getAttribute("data-id"),square40:this.getAttribute("data-thumbnail"),title:this.getAttribute("data-name"),url:this.getAttribute("data-url"),is_favorite:true})});$(".remove_from_my_hotels").live("click",function(){var e=this.getAttribute("data-id");booking.myFavoriteHotels.removeHotel(e);if($(this).hasClass("remove_hotel2")){var c=$(this).parent().parent().index()+1;var d=$(".favorites_loaded_list").find("td:nth-child("+c+")");d.fadeOut("500").remove()}$(this).parent(".hotelinfo").css("background-color","#FFD3D3").fadeOut("500",function(){$(this).remove()})})})}};booking[sNSStartup].fdTutorial={priority:8,init:function(){$("a.fd_start").click(function(){$("#tutorial_popup_2").delay(300).fadeIn(300);return false});$("a.fd_close").click(function(){var d=$(this).attr("id");var c=parseInt(d.split("_")[1]);$("#tutorial_popup_"+c).fadeOut(300);return false});$("a.fd_next").click(function(){var e=$(this).attr("id");var d=parseInt(e.split("_")[1]);var c=d+1;$("#tutorial_popup_"+d).fadeOut(300);$("#tutorial_popup_"+c).delay(300).fadeIn(300);return false});$("a.fd_restart").click(function(){var d=$(this).attr("id");var c=parseInt(d.split("_")[1]);$("#tutorial_popup_"+c).fadeOut(300);$("#tutorial_popup_1").delay(300).fadeIn(300);return false})}};booking[sNSStartupLoad].flash_deals_for_city={priority:9,init:function(){$("#flash_deal_city_sr #city_deal").change(function(){$("#flash_deal_city_sr")[0].submit()})}};booking[sNSExperiments].flexible_group_search={priority:9,init:function(){var c=this;c.defaults={};c.defaults.rooms=$("#org_nr_rooms").val();c.defaults.adults=$("#org_nr_adults").val();c.defaults.children=$("#org_nr_children").val();c.defaults.group_type=$("#group_type").val();$(".btn-group .btn").bind("click",function(){var g=$(this),f=parseInt(g.attr("value")),h=$.browser.msie,d=$.browser.version,e={};if(g.is(".group-size-selected")){return}if(h&&d<=7){f=parseInt($(this).get(0).getAttributeNode("value").nodeValue)}g.addClass("group-size-selected").siblings().removeClass("group-size-selected");if(f>=2){$("#default_group_new_block, #define_group").removeClass("off-left")}else{$("#default_group_new_block, #define_group").addClass("off-left")}e.rooms=$(this).data("rooms");e.adults=$(this).data("adults");e.children=$(this).data("children");e.group_type=$(this).data("group-type");c.setGroupParameters(f,e)});$(window).load(function(){var d=c.defaults,e;if(d.group_type==2){e=3}else{if(d.group_type==1){e=2}else{if(d.adults==1){e=1}else{e=0}}}if(d.group_type==0){$("#define_group, #default_group_new_block").addClass("off-left")}$('.btn-group .btn[value="'+e+'"]').addClass("group-size-selected").siblings().removeClass("group-size-selected");c.setGroupParameters(false,d)})},setGroupParameters:function(c,d){if(c!==false&&d.group_type>0&&(d.group_type==this.defaults.group_type)){d=this.defaults}$("#nr_rooms").val(d.rooms).trigger("change");$("#nr_adults").val(d.adults).trigger("change");$("#nr_children").val(d.children).trigger("change");$("#group_type").val(d.group_type)}};booking.run("footer_acc_type_links").onReady(function(){booking.track.onView(".footerconstraint-inner").exp("GKSGMRLQZQMZUC")});booking[sNSExperimentsLoad].google_plus_one_button={priority:9,init:function(){if(!($.browser.msie&&parseInt($.browser.version,10)>=9)){var c=document.createElement("script");c.type="text/javascript";c.async=true;c.src="//apis.google.com/js/plusone.js";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)}}};booking[sNSExperiments].header_2012=(function(){var c=function(){$("#b_nav_profile").bind("click",function(){$(this).toggleClass("selected");if($("#b_header").hasClass("profile_slide_down")){$("#b_header").removeClass("profile_slide_down").addClass("profile_slide_up")}else{$("#b_header").removeClass("profile_slide_up").addClass("profile_slide_down")}});$(".profile_login_switcher").bind("click",function(){$("#profile_forms").toggleClass("profile_sign-in").toggleClass("profile_sign-up")});$("select","#header_currency").bind("change",function(){$(this).parent("form").submit()});$("select","#header_language").bind("change",function(){$(this).parent("form").submit()})};var d=function(){c()};return{init:d}}());$(".help_foldout").click(function(){$("#helpPopup").slideToggle();$(this).toggleClass("open");return false});$(".menu_close_link").click(function(){$("#helpPopup").slideToggle();return false});booking.runExp("hot_reload").onReady(function(){});booking[sNSStartup].experiment_how_likely_to_book={priority:9,loadpos:0,savecheck:0,init:function(){$("#hltb_survey").submit(function(g){g.stopPropagation();var d=$(this),f=$("#answer",d).val(),c=$("#hltb_sid",d).val();d.find(".feedback").remove();$.ajax({url:"/receive_pqa?answer="+escape(f)+";sid="+c,context:document.body,success:function(j,k,h){var e='<p class="success feedback">Thank you for your response!</p>';d.html(e)},error:function(j,k,h){var e='<p class="error feedback">Oops! Something went wrong. Please try again.</p>';d.html(e)},dataType:"json",type:"PUT"});return false})}};booking[sNSStartup].improve_calendar_closing={priority:9,init:function(){$(document.body).click(function(e){var d=$(e.target).parents("#calendar_popup").length;var c=$(e.target).parents(".calendarLink").length;if(!d&&!c){$(this).trigger("close_calendar",e.target)}});return true}};booking[sNSExperiments].index_clickable_suggestions=(function(){var c=function(){$(".eg_of_where .b-suggest").click(function(f){var d=$(this).attr("data-dest_id");var g=$(this).text();$("#destination").attr("value",g);$("#frm").find("input[name='dest_type'], input[name='dest_id']").remove();$("#frm").append($("<input>",{type:"hidden",name:"dest_type",value:"city"}));$("#frm").append($("<input>",{type:"hidden",name:"dest_id",value:d}));setTimeout(function(){booking[sNSStartup].calendar.openPopupCalendar($("#homein .calendarLink").get(0))},500);return false})};return{init:c}}());$(document).ready(function(){$(".grid_group_wrapper .grid_group_toggler").click(function(){var c=$(this).parents(".grid_group_wrapper");$(".grid_group_toggler_wrapper span",c).toggleClass("is_expanded");$(".additional",c).toggleClass("toggle");if(!c.find(".toggle").length){$("html, body").animate({scrollTop:c.offset().top},100)}});$("#LastViewedHotelsWrapper").hover(function(){var c=$(this);$(this).addClass("last-viewed-hotels-hover").removeClass("last-viewed-hotels-no-hover");$(".lastViewedList").stop(true,true).slideDown("fast",function(){c.addClass("last-viewed-hotels-hover")})},function(){var c=$(this);$(".lastViewedList").slideUp("fast",function(){c.removeClass("last-viewed-hotels-hover")});$(this).addClass("last-viewed-hotels-no-hover")})});booking[sNSStartup].filterbox={priority:9,init:function(){if(booking.env.b_action==="searchresults"){$("div.filtercategory").each(function(){$(this).click(function(){$div=$(this).parents("div").eq(0).find("div.filteroptions");if($(this).hasClass("toggla_hide")){mySlideToggle($div);$(this).removeClass("toggla_hide")}else{mySlideToggle($div);$(this).addClass("toggla_hide")}this.blur();return false})})}}};booking[sNSExperimentsLoad].lazy_load_print_css={priority:9,init:function(){var c=document.createElement("link");c.rel="stylesheet";c.type="text/css";c.href=booking.env.print_css_href;c.media="print";document.getElementsByTagName("head")[0].appendChild(c)}};booking[sNSStartup].login_foldout={priority:9,fontchange:false,init:function(){var c=this;if(location.protocol=="https:"&&booking.env.b_is_app){$(".stay_login, #login-form").each(function(){var d=$(this).attr("action");if(d.indexOf("protocol=https")==-1){var e=d;if(d.indexOf("protocol=http")>-1){e=d.replace("protocol=http","protocol=https_www")}else{e=sCurlink+"&protocol=https_www"}$(this).attr("action",e)}})}$("#login_redesign").click(function(){if(!$(this).hasClass("no_arrow")){if($(this).hasClass("login_opened")){$(this).removeClass("login_opened")}else{$(this).addClass("login_opened")}$("#login-form_wrapper fieldset").toggle();$("#login_open, #login_close, #login_optional").toggle()}return false});$(".login_foldout").each(function(){var d=$("#loginPopup").height();if(d==0){var d=1000}$("#loginPopup").css({height:"0px","overflow-y":"hidden",display:"none"});$("#loginPopup").attr({shown:"false"});$(this).click(function(){c.toggle(document.getElementById("loginPopup"),d);return false});$("#closeLoginPopup").click(function(){c.toggle(document.getElementById("loginPopup"),d);return false})});$(".stay_login").submit(function(){if(booking.google.userProfileTracker){booking.google.trackEvent(booking.google.userProfileTracker,"Login attempt : Header",booking.env.b_action)}$("#foldout_error").hide();$("#login_loading").show();var g=document.getElementById("username_input_top").value;if(g==""){c.hideLoader();$('label[for="username_input_top"]').css({color:"#B30000","font-weight":"bold"});$("#username_input_top").focus();return false}else{var e=/^[0-9[\.]+$/.exec(g);if(e){var d=$("#bm_log").val();d+=(d.indexOf("?">0))?"&":"?";var f=$("#password_input_top",this).val();d+="pincode="+f+"&bn="+g;$("#tar_tmpl").attr("value","");$(this).attr("action",d);$(this).attr("target","_top")}}setTimeout(function(){c.hideLoader()},10000)});$('input[name="username"]').each(function(){if(!isNaN($(this).val())){$(this).val("");var d=$(this).parents("form").get(0);$('input[name="password"]',d).val("")}});$("#signup_form_regular,#sign_up_form,#confirmation_login_box").submit(function(){if(!c.validateLoginSubmitData({formId:this.id})){return false}});$("#user_mybooking_login_form").submit(function(){if(!c.validateLoginSubmitData({formId:this.id,passwordIsNumeric:1,loginIsBookingNr:1})){return false}});$(".in-pagelogin-form").submit(function(){if(booking.env.auth_level<1){var d=$(".in-pagelogin-form").height()-11}else{var d=$(".in-pagelogin-form").height()+19}$("#page_login_loading").css("height",d+"px").show()});$(".user_login_show_signin, .user_login_show_signup").click(function(){if($(this).hasClass("user_login_show_signup")){booking[sNSStartup].merge_mybooking_myaccount.newUserOpen(true,this)}else{booking[sNSStartup].merge_mybooking_myaccount.newUserOpen(false,this)}$(".user_login_error_msg").hide();return false});$(".error_forgotten_password").live("click",function(){$(".forgot_link_look").click();return false})},validateLoginSubmitData:function(l){var k=$("#"+l.formId),h,d,e,j,f,g,c;f=k.parents(".user_login_form");g=$(".user_login_error_msg",f);if(l.loginIsBookingNr){c=$(".user_bn_login_input",k).val();c=c.replace(/\./g,"");$(".user_bn_login_input",k).val(c);if(!c.length||!/^\d+$/g.test(c)){this.displayLoginErrorMsg({errorTarget:g,errorMsg:(c.length===0?booking.env.b_blank_bkng_nr:booking.env.b_bkng_nr_must_be_numeric)});return false}}$passwordInput=$(".password_input",k);if($passwordInput.length){h=$passwordInput.val()}else{return 1}if(l.passwordIsNumeric||(g.length&&f.hasClass("user_login_single_signup"))||($(".userlogin_signup_tab",f).hasClass("active"))){if(h&&h.length){e=h.length}else{e=0}if(l.passwordIsNumeric){if(!e||!(/^\d+$/g.test(h))){this.displayLoginErrorMsg({errorTarget:g,errorMsg:(e===0?booking.env.b_blank_numeric_pin:booking.env.b_password_must_be_numeric)});return false}}else{if(e<8){this.displayLoginErrorMsg({errorTarget:g,errorMsg:booking.env[!e?"account_error_add_password":"password_needs_8"]});return false}else{j=$(".username_input",k);if(j.length){if(j.val()&&j.val()===h){this.displayLoginErrorMsg({errorTarget:g,errorMsg:booking.env.password_cant_be_username});return false}}}}return true}},displayLoginErrorMsg:function(c){if(!c||!c.errorTarget||!c.errorMsg){return}c.errorTarget.show().text(c.errorMsg);booking[sNSStartup].new_personal_menu.recheckHeight();var d=$("#foldout_error").height()+32;$("#old_pin_login").css("top",d+"px")},thirdParty:function(f,c,e,d){if(c&&!d){$("#log_tar").attr("src",e)}if(d){$("#email_send").show("slow")}},thirdPartyCancel:function(e,d,c){this.hideLoader();if(typeof $.noticeAdd!="undefined"){$.noticeAdd({text:"\n \n \n "+d+" \n \n \n ",stay:false,stayTime:3000,type:"users",close:"all",destination:""})}if(c){$("#email_send").show("slow")}},signupLight:function(d){this.hideLoader();if(d.signupstatus=="OK"){$("#foldout_error_signup").hide();$("#email_place_holder").text($("#username").val());$("#signup_form_light").hide();$("#signed_up_message").show()}else{if(d.error){var c=unescape(d.error)}else{var c=""}$("#foldout_error_signup").html(c).show()}booking[sNSStartup].new_personal_menu.recheckHeight()},reCall:function(m){var g=this;if(m.reload){booking.env.b_req_login="1"}if(m.loginstatus=="OK"){if(m.userlanguage||m.currency){var c=booking.env.b_this_url;var k=(c.indexOf("?")>0)?"&":"?";if(m.userlanguage){c+=k+"lang="+m.userlanguage;k="&"}if(m.currency){c+=k+"selected_currency="+m.currency}c.replace("logout=1","");if(booking.env.b_site_experiment_reload_secure&&booking.env.b_nonsecure_hostname_https){c.replace(booking.env.b_nonsecure_hostname,booking.env.b_nonsecure_hostname_https)}document.location.href=c}else{if(booking.env.b_redirect){document.location.href=booking.env.b_redirect}else{if(booking.env.b_req_login=="1"){var h=booking.env.b_this_url;h.replace("logout=1","");document.location.href=h}else{var l=booking.env.b_this_url;l.replace("logout=1","");l=(l.indexOf("?")>0)?l+";logout=1":l+"?logout=1";sLoginLinks=m.loginlink.replace("sign_out_url",l);$("#login-form_wrapper fieldset").hide();$(".welcome_login_link").hide();$("#login_open, #login_close, #login_optional").hide();$(".hide_on_login").hide("slow");$(".show_on_login").show();$("#current_account_foldout").removeClass("non_logged_in_user").addClass("logged_in_user");if((booking.env.is_user_wishlists=="1"&&m.enableWishlists)){$("#search_tab_favourite").hide();$("#search_tab_wishlists").show();$(".wishlist_trigger_box").show();long_list=false;hotel_id=booking.env.b_hotel_id;$.get("/wishlist/get",{hotel_id:hotel_id},function(y){if(y&&y.success&&y.lists&&y.lists.length){var x=y.lists,v="",w="",u;for(var t=0,r=y.lists.length;t<r;t++){if(y.lists.length>3){long_list=true}u=y.lists[t];v+='<li><input type="checkbox" id="wl_'+u.id+'" value="wl_'+u.id+'" checked="'+(u.selected==1?"checked":"")+'" /><label for="wl_'+u.id+'">'+u.name+"</label></li>";w+='<li><a href="'+booking.env.new_wishlist_url+u.id+'"><span>'+u.name+"</span></a></li>"}$("#wl_list").html(v);$("#search_tab_wishlists_content .menu_wishlists").html(w);if(long_list=true){$(".wl_list_box").addClass("scrolling_list")}}else{}})}else{$("#search_tab_favourite").show();$("#search_tab_wishlists").hide()}if($("#login_redesign").length){var e=$("#login_redesign").get(0);$(e).addClass("no_arrow");$(e).mouseover(function(){return false});$(e.parentNode).mouseover(function(){return false})}$("#current_account_foldout").css("width","auto");var o=window.setTimeout(function(){$("#loginPopup").css({height:"0px","overflow-y":"hidden",display:"none"});$("#loginPopup").attr({shown:"false"});$("#password_input_top").val("");$("#listnav_user .user_salutation").hide();$("#listnav_user .user_salutation").attr("id","hidden_login_form");if(m.historylink){$("#myActivityHeader .my_history_header").text(m.historylink)}if(m.avatarurl&&m.avatarurl!="0"){if($("#my_image_room").length){$("#my_image_room").attr("src",m.avatarurl);$("#my_image_room").css({padding:"0",width:"24px",height:"24px"})}if($(".my_image img").length){$(".my_image img").each(function(){$(this).attr("src",m.avatarurl);if($(".head_firstname").length){$(this).css({"margin-top":"-5px",width:"26px",height:"26px"})}})}else{if($("#b_nav_profile").length){var r=m.avatarurl.replace("square_32","square_128");$("#b_nav_profile").addClass("has_avatar").css("background-image","url("+r+")")}}}else{if(m.defaultavatar!=0){if($(".my_image img").length){$(".my_image img").addClass("def_avtr");$(".my_image img").addClass("t_s_avtr_"+m.defaultavatar);$(".my_image img").css({"margin-top":"-4px","margin-left":"-1px",width:"24px",height:"24px"})}}}setTimeout(function(){g.preShowMenu()},100);if(!$("#b_header").length){if(typeof $.noticeAdd!="undefined"&&m.growl1&&m.growl2){$.noticeAdd({text:"\n \n \n "+unescape(m.growl1)+"<br>"+unescape(m.growl2)+" \n \n \n ",stay:false,stayTime:3000,type:"users",close:"all",destination:"",addClassName:"notice_login"})}}},500);if(m.email!=""){if($("#email_confirm").length&&$("#email_confirm").val()==""){$("#email_confirm").val(m.email);$("#error_email_confirm").hide();$("#label_email_confirm").removeClass("val-no").addClass("val-yes")}if($("#email").length&&$("#email").val()==""){$("#email").val(m.email);$("#error_email").hide();$("#label_email").removeClass("val-no").addClass("val-yes")}}if(m.fdata1){if($("#address1").length&&$("#address1").val()==""){$("#address1").val(m.fdata1)}}if(m.fdata2){if($("#city").length&&$("#city").val()==""){$("#city").val(m.fdata2)}}if(m.fdata3){if($("#zip").length&&$("#zip").val()==""){$("#zip").val(m.fdata3)}}if(m.fdata4){if($("#cc1").length&&$("#cc1").val()==""){$("#cc1").val(m.fdata4)}}if(m.fdata5){if($("#phone").length&&$("#phone").val()==""){$("#phone").val(m.fdata5)}}var j=" ";if(m.fdata6){if($("#lastname").length&&$("#lastname").val()==""){$("#lastname").val(m.fdata6);$("#error_lastname").hide();$("#label_lastname").removeClass("val-no").addClass("val-yes")}$(".head_lastname").text(m.fdata6);j=m.fdata6}if(m.fdata7){if($("#firstname").length&&$("#firstname").val()==""){$("#firstname").val(m.fdata7);$("#error_firstname").hide();$("#label_firstname").removeClass("val-no").addClass("val-yes")}$(".head_firstname").text(m.fdata7);j=m.fdata7+" "+j}else{if(m.fdata6){$(".head_firstname").text("")}}if($(".login_for_name").length){if(j!=" "){$(".login_for_name").val(j);$(".login_for_name").css({color:"#003580"})}}$("input[name='username']").val(m.email);if(booking.lightbox&&booking.lightbox.isopen){booking.lightbox.close()}if($("#update_profile_row").length){$("#update_profile_row").show()}booking[sNSStartup].new_personal_menu.closeSelect(null,true,m.hasbookings);if(booking[sNSStartup].hide_email_confirm){booking[sNSStartup].hide_email_confirm.hideConfMailInit()}if(m.has_stored_cc>0){current_book_url=booking.env.b_this_url;current_book_url=current_book_url.replace(";logout=1","");current_book_url=current_book_url+";tmpl=profile/creditcards_ajax;";$("#bs3_cc_form #book_credit_card").load(current_book_url+" #book_credit_card");$("#cc_img").remove()}$(".login_text").hide();$(".loggedin_text").show();$("#multiple_login").hide();if(m.unreadmsg&&m.unreadmsg>0){$("#current_account_foldout .placeholder_hnm").text(m.unreadmsg).addClass("header_new_messages")}if(m.pendingreviews&&m.pendingreviews>0){$("#current_account_foldout .placeholder_hnb").text(m.pendingreviews).addClass("header_new_bookings")}g.hideLoader();if(booking.env.b_site_experiment_reload_secure&&booking.env.b_nonsecure_hostname_https){this.replaceSecure()}if(booking.env.b_action=="book"){if(booking[sNSStartup].authenticated_email_change){if($(".auth_user_info #email").length){$(".auth_user_info #email").addClass("email_change");booking[sNSStartup].authenticated_email_change.trackAuthenticatedEmailChange()}}}if($(".loadedContent").length){$(".loadedContent").removeClass("loadedContent")}if(m.b_pro_account_is_active=="1"){$("#current_account").parents(".top_select_wrap_noborder").addClass("pro_user");var f=$('<li class="business_reports seo_link_look" data-href="'+booking.env.userMenuLink_reports+'"><span class="selsymbol">&nbsp;</span><span class="seldescription">'+booking.env.userMenuTrans_reports+'</span></li><li class="traveller_locator seo_link_look" data-href="'+booking.env.userMenuLink_locator+'"><span class="selsymbol">&nbsp;</span><span class="seldescription">'+booking.env.userMenuTrans_locator+'</span></li><li class="guest_calendar seo_link_look" data-href="'+booking.env.userMenuLink_calendar+'"><span class="selsymbol">&nbsp;</span><span class="seldescription">'+booking.env.userMenuTrans_calendar+"</span></li>");$(f).insertAfter("#foldout_loggedin .my_settings")}if(m.b_enhanced_user_profile_is_active=="1"){var f=$('<li class="business_reports seo_link_look enhanced_user_menu_link" data-href="'+booking.env.userMenuLink_reports+'"><span class="selsymbol">&nbsp;</span><span class="seldescription">'+booking.env.userMenuTrans_reports+'</span></li><li class="traveller_locator seo_link_look enhanced_user_menu_link" data-href="'+booking.env.userMenuLink_locator+'"><span class="selsymbol">&nbsp;</span><span class="seldescription">'+booking.env.userMenuTrans_locator+'</span></li><li class="guest_calendar seo_link_look enhanced_user_menu_link" data-href="'+booking.env.userMenuLink_calendar+'"><span class="selsymbol">&nbsp;</span><span class="seldescription">'+booking.env.userMenuTrans_calendar+"</span></li>");$(f).insertAfter("#foldout_loggedin .my_settings")}}}}}else{if(m.error){var q=unescape(m.error)}else{var q=""}var n=(m.nofoldout)?false:true;var d=window.setTimeout(function(){if(n){$("#foldout_error").html(q).show();var r=$("#foldout_error").height()+32;$("#old_pin_login").css("top",r+"px");booking[sNSStartup].new_personal_menu.openSelect("current_account");$(".user_login_show_signup").click(function(){$("#username").val($("#username_input_top").val());$("#new_user").click();return false})}else{if($("#page_login_error").length){$("#page_login_error").html(q).show()}if($("#bs2_page_login_error").length){$("#bs2_page_login_error").html(q).show()}}if(booking.env.b_site_experiment_clean_wrong_login){$('input[name="password"]').val("")}},500);g.hideLoader();if(m.trackerror){booking.env.trackExperiment("MEVQOOaJTdWe","error_logging_in")}}},toggle:function(c,f){var e=c.getAttribute("shown");if(e=="false"){$("#foldout_error").hide();$(c).css("display","block");if(f==1000){var d=$("#loginPopup form").get(0);f=$(d).height()}$(c).animate({height:f+"px"},500,function(){document.getElementById("username_input_top").focus()});c.setAttribute("shown","true")}else{$(c).animate({height:"0px"},500,function(){$(this).css("display","none")});c.setAttribute("shown","false")}},hideLoader:function(){$("#login_loading").hide();$("#signup_loading").hide();$("#page_login_loading").hide()},replaceSecure:function(){var f=document.getElementsByTagName("a");for(var c=0;c<f.length;c++){var d=f[c].href;d=d.replace(booking.env.b_nonsecure_hostname,booking.env.b_nonsecure_hostname_https);f[c].href=d}var e=document.getElementsByTagName("form");for(var c=0;c<e.length;c++){var d=e[c].action;d=d.replace(booking.env.b_nonsecure_hostname,booking.env.b_nonsecure_hostname_https);e[c].action=d}},preShowMenu:function(){if((booking.env.b_action!="book")||(booking.env.is_exp_user_center_bar=="1")){booking[sNSStartup].new_personal_menu.openSelect("current_account");oThat.moused_menu=false;$("#current_account").mouseenter(function(){oThat.moused_menu=true});setTimeout(function(){if(!oThat.moused_menu){booking[sNSStartup].new_personal_menu.closeSelect()}},4000)}}};booking[sNSStartup].new_personal_menu={priority:9,opening_state:0,cur_open:"",max_select_height:240,is_ie:0,openSlow:false,init:function(){var c=this;if(!booking.env.new_personal_menu_ie_performance){if($.browser.msie){$(".select_foldout ul li a").mouseenter(function(){$(this).addClass("hover_class")});$(".select_foldout ul li a").mouseleave(function(){$(this).removeClass("hover_class")})}}if($(".b_msie_6").length){this.is_ie=6}if($(".b_msie_7").length){this.is_ie=7}$("#signup_form_light").submit(function(){$("#signup_loading").show();setTimeout(function(){c.hideLoader()},10000)});if(booking.env.is_user_center_bar=="1"){}else{$(".select_box").mouseenter(function(){$(this).addClass("sel_hover")});$(".select_box").mouseleave(function(){$(this).removeClass("sel_hover")})}$("body").click(function(f){if(c.opening_state==2){var e=$(f.target);if($(e).length){if(!$(e).parents("#current_account_foldout").length){c.closeSelect()}}}if(booking[sNSStartupLoad].googleMaps&&booking[sNSStartupLoad].googleMaps.map_opened&&!(booking.env.b_action==="searchresults"&&booking.map.mapHasBeenDragged)){var d=$(f.target);if((booking.env.b_action==="hotel"||booking.env.b_action==="searchresults")&&(d.length&&(!d.parents("#b_map_container,#rightClickPopup,#sr_map").length&&d.attr("id")!=="close_map"))){$("#close_map").click()}}});$(".select_box").click(function(d){if(c.opening_state==0){c.openSelect($(this).attr("id"))}else{if(c.cur_open!=$(this).attr("id")){c.closeSelect($(this).attr("id"))}else{if(!$(d.target).parents("#current_account_foldout").length){c.closeSelect()}}}});$("#login_jump").click(function(){c.scrollToLogin();return false})},recheckHeight:function(){var c=$("#current_account_foldout .select_foldout_wrap").height()+15;$("#current_account_foldout").animate({height:c+"px"},400)},openSelect:function(j){if(booking.env.is_user_center_bar=="1"){}else{booking[sNSStartup].accounts_for_everybody.passWdInit();oThat=this;this.cur_open=j;var h=$("#"+j+"_foldout"),k,n=$("#foldout_loggedin").css("display")=="block",m="";$("#"+j).addClass("sel_open");this.opening_state=1;h.css({display:"block",opacity:"0",overflow:"hidden",height:"400px",width:"200px"});k=$($(".select_foldout_wrap",h).get(0));k.css({"overflow-y":"hidden",height:"auto"});var c=k.height();var g=k.width();var f=this.max_select_height;if(h.hasClass("flex_foldout")){var l=g+10}else{if(!$("#"+j).hasClass("sel_done")){var l=g+20;$("#"+j).addClass("sel_done")}else{var l=g}}if(c>=this.max_select_height-10&&h.attr("id")!="current_account_foldout"){if(h.hasClass("flex_foldout")){f=c+10;if(f<300){f=300}}else{k.css({"overflow-y":"scroll",height:"230px",width:l+"px"});if(!this.is_ie==6&&!this.is_ie==7){l+=10}}}else{f=c+10;k.css({"overflow-y":"hidden",height:"auto"})}if(this.is_ie==6||this.is_ie==7&&!n){h.css({opacity:"1",height:"0px",width:"0px"});h.css({width:"auto"});if(h.hasClass("smaller_booking_nr_login")){k.css({width:"600px"})}else{k.css({width:"482px"})}g=k.width();l=g+10}else{h.css({opacity:"1",height:"0px",width:"auto"})}if(h.hasClass("left_foldout")&&!booking.env.rtl){h.css({width:l+"px","padding-right":"0px"})}else{h.css({width:l+"px","padding-right":"10px",left:"0"})}if(this.is_ie==6||(this.is_ie==7&&!n)){var d=h.parents(0).width();if(h.hasClass("left_foldout")&&!booking.env.rtl){iFixedPointEx=d-h.width()-2;if(iFixedPointEx<0){d=d-iFixedPointEx}}if(this.is_ie==6||this.is_ie==7){var e=210;if($("#multiple_login",h).length){if($(".smaller_booking_nr_login").length&&!n){e=550}else{if($("#foldout_loggedin").css("display")!="block"){e=482}else{e=182}}}if(this.is_ie==7){d+=100}h.css({width:e+"px","padding-right":"18px"})}else{h.css({width:l+"px"});$(".select_foldout_wrap",h).css({"overflow-x":"hidden"})}}if(this.openSlow){this.openSlow=false;h.animate({height:f+"px"},800)}else{h.css({height:f+"px"})}setTimeout(function(){oThat.opening_state=2},200);if(booking.env.b_site_experiment_header_2012){$("body").bind("touchstart",function(q){if(oThat.opening_state==2){var o=$(event.target);if($(o).length&&!$(o).is("#current_account")){if(!$(o).parents("#current_account_foldout").length){oThat.closeSelect();$(this).unbind(q)}}}})}}},closeSelect:function(e,f,c){var d=this;if(booking.env.b_site_variant_inline_password_reminder){if($(".reminder_iframe_wrapper").length){$(".reminder_iframe_wrapper").remove();$(".better_login").show()}}if(f){$("#foldout_login").css({display:"none"});$("#multiple_login").css({display:"none"});$("#foldout_loggedin").css({display:"block"});if(c){$("#stats_menu_link").css({display:"block"})}}if(this.opening_state==2){$(".select_foldout").animate({height:"0px"},200,function(){$(".select_foldout").css({display:"none"});$(".select_box").removeClass("sel_open");if(e&&e!=null){d.openSelect(e)}});this.opening_state=0}if($("#user_searches_menu").length){booking[sNSStartup].top_saved_searches.closeTabs()}},scrollToLogin:function(){if(booking.env.rtl){$("body").scrollTo({top:0,left:0},500)}else{$("body").scrollTo({top:0,left:1000},500)}this.openSlow=true;if(this.opening_state==0){this.openSelect("current_account")}else{this.closeSelect("current_account")}},hideLoader:function(){$("#login_loading").hide();$("#signup_loading").hide();$("#page_login_loading").hide()}};booking[sNSStartup].my_social_networks={priority:9,tp_window:null,tp_cur:"",cur_state:"CLOSED",window_sizes:{yahoo:[510,500],facebook:[500,450],google:[850,510]},init:function(){var c=this;$(".signup_tp a, #re_log_in a, a.connect_with").click(function(){booking[sNSStartup].new_personal_menu.opening_state=2;var k=this;var e=$(k).attr("href");var g=$(k).attr("id");var f=e;$("#login_loading").show();if(c.cur_state!="OPENING"){if(c.tp_window){if(c.tp_cur!=g.toLowerCase()){window.clearInterval(c.checking_in);c.tp_window=null;c.cur_state="CLOSED"}else{c.tp_window.focus()}}else{c.cur_state="OPENING";c.tp_cur=g.toLowerCase();var j=500;var h=500;if(c.window_sizes[c.tp_cur]){var j=c.window_sizes[c.tp_cur][0];var h=c.window_sizes[c.tp_cur][0]}var l="width="+j+",height="+h+",toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=1";c.tp_window=window.open(f,"",l);var d="rem_provider="+c.tp_cur;if(booking.env.b_this_url.indexOf(d)>-1){booking.env.b_this_url=booking.env.b_this_url.replace(";"+d,"");booking.env.b_this_url=booking.env.b_this_url.replace(d,"")}c.checking_in=window.setInterval(function(){if((c.tp_window&&c.tp_window.closed)||!c.tp_window){$("#login_loading").hide();$("#page_login_loading").hide();window.clearInterval(c.checking_in);c.tp_window=null;c.cur_state="CLOSED"}},1000);c.cur_state="OPENED";if(c.tp_window){c.tp_window.focus()}}}return false})}};booking[sNSStartup].merge_mybooking_myaccount={priority:9,old_pin_shown:false,init:function(){var c=this;$("#user_pin_link").click(function(){$("#foldout_error").hide();$("#old_pin_login").css({display:"block",top:"0px"});$("#existing_user_login .login_right").hide();if($(".b_msie_8").length){$("#old_pin_login").css({left:"240px"})}else{$("#old_pin_login").animate({left:"240px"})}c.old_pin_show=true;return false});$("#new_user").click(function(){c.newUserOpen(true,this)});$("#existing_user").click(function(){c.newUserOpen(false,this)});$("#old_pin_login a").click(function(){$("#foldout_error").hide();$("#old_pin_login").css({top:"0px"});$("#old_pin_login").animate({left:"500px"},function(){$("#old_pin_login").css("display","none")});c.old_pin_show=false;return false});if(booking.env.b_is_on_signup_page){booking[sNSStartup].merge_mybooking_myaccount.newUserOpen(true,document.getElementById("account_new_user"))}},newUserOpen:function(c,e){var d=$(e).parents(".user_login_form");if(this.old_pin_show){$("#old_pin_login",d).hide();$("#existing_user_login .login_right",d).show()}if(c){$("#existing_user_login, #existing_user_signin",d).hide();$("#foldout_signup, #new_user_signup",d).show();$("#existing_user, #account_existing_user",d).removeClass("active");$("#new_user, #account_new_user",d).addClass("active");booking[sNSStartup].new_personal_menu.recheckHeight()}else{$("#existing_user_login, #existing_user_signin",d).show();$("#foldout_signup, #new_user_signup",d).hide();$("#existing_user, #account_existing_user",d).addClass("active");$("#new_user, #account_new_user",d).removeClass("active");booking[sNSStartup].new_personal_menu.recheckHeight()}$(".better_error").hide();$("#old_pin_login").css("top","0px")}};booking[sNSStartup].welcome_user={priority:9,old_pin_shown:false,init:function(){$("#welcome_login").click(function(){booking[sNSStartup].new_personal_menu.openSelect("current_account");booking[sNSStartup].merge_mybooking_myaccount.newUserOpen(false,this.id);return false});$("#welcome_signup").click(function(){booking[sNSStartup].new_personal_menu.openSelect("current_account");booking[sNSStartup].merge_mybooking_myaccount.newUserOpen(true,this.id);return false})}};booking[sNSStartup].faq_login_foldout={priority:9,init:function(){if(booking.env.b_action=="general"&&booking.env.auth_level=="0"){$(".open_top_login").click(function(){booking[sNSStartup].new_personal_menu.openSelect("current_account");booking[sNSStartup].merge_mybooking_myaccount.newUserOpen(false,this.id);$("body").scrollTo({top:0,left:0},500);return false})}}};$(function(){$("#msg_low_avail .button_close").click(function(c){c.preventDefault();$("#msg_low_avail").fadeOut("fast")})});booking.ensureNamespaceExists(sNSExperiments);booking[sNSExperiments].map_text_overlay=(function(){var c=function(){$("#GoogleMap").bind("mouseenter",function(){booking.track.exp(booking.env.map_thumbnail_overlay_param);$("#GoogleMap").unbind("mouseenter");return true})};return{priority:9,init:c,initElse:c}})();booking[sNSStartup].experiment_nps={priority:9,loadpos:0,savecheck:0,init:function(){var c=function(f){var g=f.attr("score");var d=$("#netPromoterScore_daddy").attr("hr");var e=$("#netPromoterScore_daddy").attr("tid");$.ajax({url:"/receive_nps?tid="+escape(e)+"&hr="+escape(d)+"&nps="+g,context:document.body,success:function(k,m,j){var l=$("#netPromoterScore");if(l.find("table").length>0){var h=l.find("table")}else{var h=l.find("ul")}if(k.status=="thanks"){h.before('<p class="success">'+booking.env.conf_page_thanks_opinion+"</p>");$("#feedback_score").css("display","none")}else{if(k.status=="voted_already"){h.before('<p class="voted">'+booking.env.conf_page_answered_question+"</p>")}else{h.before('<p class="error">'+booking.env.conf_page_error_inconvenience+"</p>")}}h.fadeOut()},dataType:"json",type:"PUT"})};if($("#netPromoterScore").length>0){$("#netPromoterScore").fadeIn()}$("td, li[score]","#netPromoterScore").click(function(d){c($(this));d.stopPropagation();return false});$("td input, td label, li input, li label","#netPromoterScore").click(function(){return true})}};(function(c){c.extend({noticeAddNewDesign:function(e){var h={inEffect:{opacity:"100"},inEffectDuration:600,stayTime:5000,text:"",stay:false,type:"notice",destination:"",thisNo:0};var e,j,g,f,d;e=c.extend({},h,e);j=c("#new_growl_design");g=c(".bottom_growl_message");d=(e.destination=="")?'<span class="'+e.type+' notice-message"><span class="text_fix">'+e.text+"</span></span>":'<span class="'+e.type+' notice-message"><a href="'+e.destination+'">'+e.text+"</a></span>";if(e.thisNo==0){j.slideDown();g.append(d).show()}else{g.find(".notice-message").slideUp(function(){$(this).remove();g.append(d,function(){$(this).slideDown()})})}j.find(".close_growl").live("click",function(k){c.noticeRemoveNewGrowl(j);return false});if(noNotices==e.thisNo){setTimeout(function(){c.noticeRemoveNewGrowl(j)},e.stayTime)}},noticeRemoveNewGrowl:function(d){d.slideUp()}})})(jQuery);booking[sNSExperiments].occupancy_policy={priority:9,init:function(){if(!$.fn||!$.fn.tooltip){return false}$(".occ_policy_tooltip.jq_tooltip").tooltip({bodyHandler:function(){return $(this).siblings(".occ_policy").html()},showURL:false,track:true,opacity:1,fade:250,left:-200,top:18});return true}};booking[sNSExperiments].official_langs_first=(function(h,c,d,g){var f=function(j){$("body").delegate(".language_flags li","click",function(m){var k=$(this).attr("data-lang");var l=d.env.b_lang_for_url;d.google.trackEvent(d.google.clickTracker,"Header tracking",j+"["+l+"]-("+k+")")})};var e={priority:9,init:function(){f("v1")},initElse:function(){f("v0")}};return e})(window,document,booking,booking.env);if(booking.env.popular_dest_link_index){$(".dest_link").click(function(){booking[sNSStartup].lightbox.show($("#popular_dest_link"))});$(".destination_links a").live("click",function(){var d=$("#destination"),e=$("#frm fieldset");d.val($(this).text());d.focus().select();var c=$(this).data("destid");e.find("input[name='dest_type'], input[name='dest_id']").remove();e.append($("<input>",{type:"hidden",name:"dest_type",value:"city"}));e.append($("<input>",{type:"hidden",name:"dest_id",value:c}));$(".modal-mask-closeBtn").trigger("click");$("#homein .calendarLink").trigger("click")})}if(booking.env.popular_dest_link_index_rtl){$(".dest_link").click(function(){booking[sNSStartup].lightbox.show($("#popular_dest_link"))})}if(booking.env.popular_destination_on_searchbox){$(".popular_dest_area_link").click(function(){booking[sNSStartup].lightbox.show($("#popular_dest_lightbox"))});$(".destination_area a").live("click",function(){var d=$("#destination"),e=$("#frm fieldset");d.val($(this).text());d.focus().select();var c=$(this).data("destid");e.find("input[name='dest_type'], input[name='dest_id']").remove();e.append($("<input>",{type:"hidden",name:"dest_type",value:"city"}));e.append($("<input>",{type:"hidden",name:"dest_id",value:c}));$(".modal-mask-closeBtn").trigger("click")})}booking[sNSExperiments].predefined_group_selection={priority:9,init:function(){function c(){var d=$("#predefined_group").attr("value"),e=$("#default_group_new_block, .predefined_block_shown, #define_group, #define_group .hidelinks");if(d<=2){$("#nr_adults").val(d).trigger("change");$("#nr_rooms").val(0).trigger("change");$("#nr_rooms").val(1).trigger("change");e.hide().addClass("default_predefined_group_selectors")}else{e.show().removeClass("default_predefined_group_selectors")}}c();$("#predefined_group").change(function(){c()})}};$(".usabilla_pre_lightbox").click(function(){booking[sNSStartup].lightbox.show($("#usabilla_lightbox"),{customWrapperClassName:"usabilla_lightbox",bCloseButton:true});return false});$(function(){$("a.room_link_changes_date").click(function(c){c.stopPropagation();c.preventDefault();$(this).siblings(".confirm_change_date").css({top:c.pageY+"px"}).show().find("a[href=#continue]").attr("href",$(this).attr("href"))});$(".confirm_change_date a[href=#cancel]").click(function(c){c.stopPropagation();c.preventDefault();$(".confirm_change_date").hide()});$(".confirm_change_date").click(function(c){c.stopPropagation()});if($(".confirm_change_date").length>0){$("body").click(function(){$(".confirm_change_date").hide()})}if($("#maxotel_rooms tr.highlight").length>0){$("body, html").scrollTop($("#availability_target").offset().top)}});$(function(){$("a.hotel_link_changes_date").click(function(c){c.stopPropagation();c.preventDefault();$(this).siblings(".confirm_change_date_hotel").css({top:c.pageY+"px"}).show().find("a[href=#continue]").attr("href",$(this).attr("href"))});$(".confirm_change_date_hotel a[href=#cancel]").click(function(c){c.stopPropagation();c.preventDefault();$(".confirm_change_date_hotel").hide()});$(".confirm_change_date_hotel").click(function(c){c.stopPropagation()});if($(".confirm_change_date_hotel").length>0){$("body").click(function(){$(".confirm_change_date_hotel").hide()})}if($("#maxotel_rooms tr.highlight").length>0){$("body, html").scrollTop($("#availability_target").offset().top)}});$(function(){$("a.photo_link_changes_date").click(function(c){c.stopPropagation();c.preventDefault();$(this).siblings(".confirm_change_date_photo").css({top:c.pageY+"px"}).show().find("a[href=#continue]").attr("href",$(this).attr("href"))});$(".confirm_change_date_photo a[href=#cancel]").click(function(c){c.stopPropagation();c.preventDefault();$(".confirm_change_date_photo").hide()});$(".confirm_change_date_photo").click(function(c){c.stopPropagation()});if($(".confirm_change_date_photo").length>0){$("body").click(function(){$(".confirm_change_date_photo").hide()})}if($("#maxotel_rooms tr.highlight").length>0){$("body, html").scrollTop($("#availability_target").offset().top)}});$(function(){$("a.review_link_changes_date").click(function(c){c.stopPropagation();c.preventDefault();$(this).siblings(".confirm_change_date_review").css({top:c.pageY+"px"}).show().find("a[href=#continue]").attr("href",$(this).attr("href"))});$(".confirm_change_date_review a[href=#cancel]").click(function(c){c.stopPropagation();c.preventDefault();$(".confirm_change_date_review").hide()});$(".confirm_change_date_review").click(function(c){c.stopPropagation()});if($(".confirm_change_date_review").length>0){$("body").click(function(){$(".confirm_change_date_review").hide()})}if($("#maxotel_rooms tr.highlight").length>0){$("body, html").scrollTop($("#availability_target").offset().top)}});$(function(){$("a.more_link_changes_date").click(function(c){c.stopPropagation();c.preventDefault();$(this).siblings(".confirm_change_date_more").css({top:c.pageY+"px"}).show().find("a[href=#continue]").attr("href",$(this).attr("href"))});$(".confirm_change_date_more a[href=#cancel]").click(function(c){c.stopPropagation();c.preventDefault();$(".confirm_change_date_more").hide()});$(".confirm_change_date_more").click(function(c){c.stopPropagation()});if($(".confirm_change_date_more").length>0){$("body").click(function(){$(".confirm_change_date_more").hide()})}if($("#maxotel_rooms tr.highlight").length>0){$("body, html").scrollTop($("#availability_target").offset().top)}});$(function(){$("a.scarcity_link_changes_date").click(function(c){c.stopPropagation();c.preventDefault();$(this).siblings(".confirm_change_date_scarcity").css({top:c.pageY+"px"}).show().find("a[href=#continue]").attr("href",$(this).attr("href"))});$(".confirm_change_date_scarcity a[href=#cancel]").click(function(c){c.stopPropagation();c.preventDefault();$(".confirm_change_date_scarcity").hide()});$(".confirm_change_date_scarcity").click(function(c){c.stopPropagation()});if($(".confirm_change_date_scarcity").length>0){$("body").click(function(){$(".confirm_change_date_scarcity").hide()})}if($("#maxotel_rooms tr.highlight").length>0){$("body, html").scrollTop($("#availability_target").offset().top)}});booking[sNSExperiments].notifications={priority:9,init:function(){this.initializeNotifications()},initElse:function(){this.initializeNotifications()},initializeNotifications:function(){var f=$("#notificationMenu .alert");f.css({display:"block",visibility:"hidden"});var c=$("#formwrap");var e=c.height();var d=$(".sidebar_menu_placeholder").height();if(e<d){c.animate({"min-height":d},{duration:400})}f.css({display:"none",visibility:"visible"}).css("opacity",0).slideDown(500).animate({opacity:1},{queue:false,duration:750})}};if(booking.env.search_box_autofocus&&!("autofocus" in document.createElement("input"))){$("#destination:visible:first").each(function(){this.focus()})}booking[sNSExperiments].search_box_title={priority:9,init:function(){var d=$(".rotate_property_type"),c=1;if(d.length&&booking.env.search_box_rotation){var e=function(){if(booking.env.b_is_ie6||booking.env.b_is_ie7||booking.env.b_is_ie8){d.html(booking.env.search_box_rotation[c])}else{d.fadeOut(function(){$(this).html(booking.env.search_box_rotation[c]).fadeIn()})}c++;if(c>=5){c=0}};setInterval(e,3000)}}};booking.ensureNamespaceExists(sNSExperiments);booking[sNSExperiments].search_engine_partitioned_disambiguation_page={priority:9,init:function(){$(".disambBlockHeader").click(function(){var d=$(this),c=$("#"+d.attr("data-results"));if(c.hasClass("disambBlockShown")){c.slideUp().removeClass("disambBlockShown")}else{c.slideDown().addClass("disambBlockShown")}return false})}};booking[sNSStartup].search_history={priority:9,fullListShowed:false,minListSize:5,lastviewTimer:null,loadStart:null,init:function(){this.loadStart=new Date();var c=this;if(document.getElementById("SearchHistory")){try{this.minListSize=parseInt($("#SearchHistory").attr("min"))}catch(d){}$("a.remove_search").click(function(){var f=$(this).attr("href").substring(1).split(";");var g=f[0];var e=f[1];var h=f[2];$.ajax({url:"/search_history",type:"DELETE",data:{type:g,value:e,epoch:h}});booking[sNSStartup].search_history.cleanupHistoryList(this);this.blur();return false});if($("#showAllSearches").length){$("#showAllSearches").click(function(){booking[sNSStartup].search_history.showAll();this.blur();return false})}if($("#removeAllSearches").length){$("#removeAllSearches").click(function(){booking[sNSStartup].search_history.removeAll(true);this.blur();return false})}}return true},cleanupHistoryList:function(d){var c=this.minListSize;$(d).parent().fadeOut(500,function(){$(d).parents("li").remove();if($("#SearchHistory li").length>c-1){var e=$("#SearchHistory li").get(c-1);$(e).fadeIn(1000)}});if($("#SearchHistory li").length<2){booking[sNSStartup].search_history.removeAll(false)}if(document.getElementById("showAllSearches")){if($("#SearchHistory li").length<c+2){$("#moreSearchesLinkWrapper").hide()}}},showAll:function(){var c=$("#SearchHistory li");var d=this.minListSize;if(!booking[sNSStartup].search_history.fullListShowed){for(i=d-1;i<c.length;i++){$(c[i]).fadeIn(500)}booking[sNSStartup].search_history.fullListShowed=true}else{for(i=d;i<c.length;i++){$(c[i]).fadeOut(500)}booking[sNSStartup].search_history.fullListShowed=false}booking[sNSStartup].search_history.switchCaption()},removeAll:function(c){if(c){$.ajax({url:"/search_history",type:"DELETE",data:{type:-1,value:null,epoch:null}})}$("#SearchHistory").fadeOut(500,function(){$(this).remove()})},switchCaption:function(){if(booking[sNSStartup].search_history.fullListShowed){$("#showAllSearches .showLink").hide();$("#showAllSearches .hideLink").show()}else{$("#showAllSearches .showLink").show();$("#showAllSearches .hideLink").hide()}}};$("a.search_summary_toggle_button").click(function(){$(".search_summary_block").hide();$(".original_search_form").removeClass("original_search_form_hidden");return false});booking[sNSStartupLoad].search_all_roomtypes={priority:9,init:function(){this.addMoreLink(document);$("a.more_rooms_link").live("click",function(f){f.preventDefault();var c=booking.env.b_site_experiment_sr_fewer_rooms?2:3;if($(this).hasClass("more_rooms_link_villa")&&booking.env.b_site_experiment_nha_villa_searchresults&&!booking.env.b_site_experiment_nha_resorts_searchresults){c=1}if($(".define_group_table").length){if($(this).hasClass("more_rooms_hide")){if(booking.env.shrink_group_search){$(this).parent().parent().parent().find(".sr_table_undesign").hide()}else{$(this).next().hide()}$(this).removeClass("more_rooms_hide")}else{if(booking.env.shrink_group_search){$(this).parent().parent().parent().find(".sr_table_undesign").show()}else{$(this).next().show()}$(this).addClass("more_rooms_hide")}}else{var d=$(this).parents("table").eq(0);if($(this).hasClass("more_rooms_hide")){number_of_matching_rows=d.find("tbody > tr.room_match").length;if(number_of_matching_rows>0){d.find("tbody tr:not(.room_match)").addClass("hidden");d.find("tbody tr.room_match:gt("+(c-1)+")").addClass("hidden")}else{d.find("tbody tr:gt("+(c-1)+")").addClass("hidden")}$(this).removeClass("more_rooms_hide")}else{d.find("tbody tr").removeClass("hidden");$(this).addClass("more_rooms_hide")}}this.blur();return false});return true},addMoreLink:function(c){var d=booking.env,e=$(c);if(d.b_action==="searchresults"){if($(".group_table").length){$("form table.featuredRooms").each(function(){if(booking.env.shrink_group_search){$(this).hide().parent().parent().find(".total").before('<a class="more_rooms_link shrink_more_rooms" href="#">'+d.group_booking_02+"</a>")}else{$(this).hide().before('<a class="more_rooms_link" href="#">'+d.group_booking_02+"</a>")}})}else{e.find("form table.featuredRooms").each(function(){var t=$(this),q=t.find("tbody > tr").length,m=t.find("tbody > tr.room_match").length,f=q-m,k=3,r;if(t.find("tr").hasClass("roomrow_villa")&&booking.env.b_site_experiment_nha_villa_searchresults&&!booking.env.b_site_experiment_nha_resorts_searchresults){k=1}q-=k;if(q>1){if(m>0){$("tbody tr:not(.room_match)",this).addClass("hidden");base_number_or_rows=t.find("tbody > tr").length;q=(m>k)?base_number_or_rows-k:base_number_or_rows-m}if(m>0){$(this).find("tbody tr.room_match:gt("+(k-1)+")").addClass("hidden")}else{$(this).find("tbody tr:gt("+(k-1)+")").addClass("hidden")}}else{if(m>0){if(f>0){$("tbody tr:not(.room_match)",this).addClass("hidden")}}}if(booking.env.b_site_experiment_hide_none_matching_rooms==2){if((m>0&&m<k)||$(".more_rooms_link",this).length){var g=$("tbody tr.hidden",this);var n=[];var j=false;for(var l=0;l<g.length;l++){var h=$(".maxPersons .hideme",g[l]).text();if(n.indexOf(h)==-1){n.push(h);if(h>9){j=true}}}var o=n.length;if(o>-1){if(!j){n.sort()}sMinMaxHidden=" (";for(var l=0;l<o;l++){sMinMaxHidden+='<img width="43" height="10" alt="" class="occsprite max'+n[l]+' jq_tooltip" src="'+d.icons_url+'/transparent.png">';if(l+1<o){sMinMaxHidden+=", "}}sMinMaxHidden+=")"}$(".more_rooms_link",this).append(sMinMaxHidden)}}})}}}};booking[sNSStartup].SecretDeals={priority:8,init:function(){if(!booking.env.b_is_ie6){var d=this;$(window).bind("scroll",function(f){d.parallaxScroll()});$("a.section1").click(function(){$("html, body").animate({scrollTop:0},1000,function(){d.parallaxScroll()});return false});$("a.section2").click(function(){$("html, body").animate({scrollTop:$("#section2").offset().top},1000,function(){d.parallaxScroll()});return false});$("a.section3").click(function(){$("html, body").animate({scrollTop:$("#section3").offset().top},1000,function(){d.parallaxScroll()});return false});$("a.section4").click(function(){$("html, body").animate({scrollTop:$("#section4").offset().top},1000,function(){d.parallaxScroll()});return false});$("nav#primary a").hover(function(){$(this).prev("h1").show()},function(){$(this).prev("h1").hide()});var c=$(".sc_navigator");$(window).scroll(function(){var e=$(window).scrollTop();if(e<=900){d.removeActiveClass();$("a#sd_nr1").addClass("active")}else{if(e>900&&e<1750){d.removeActiveClass();$("a#sd_nr2").addClass("active")}else{if(e>1751&&e<2500){d.removeActiveClass();$("a#sd_nr3").addClass("active")}else{d.removeActiveClass();$("a#sd_nr4").addClass("active")}}}})}},removeActiveClass:function(){$(".sc_navigator a").each(function(){$(this).removeClass("active")})},parallaxScroll:function(){var c=$(window).scrollTop();$("#secretdeals-bg1").css("top",(0-(c*0.25))+"px");$("#secretdeals-bg2").css("top",(0-(c*0.5))+"px");$("#secretdeals-bg3").css("top",(0-(c*0.75))+"px");$("#secretdeals-bg4").css("top",(0-(c*0.3))+"px")}};booking[sNSExperiments].selectbox_open_calendar={priority:9,init:function(){$(".calendarLink_open").live("click",function(c){$(this).parent().find(".calendarLink").click()})}};booking.social_plugins_footer=(function(){var d=false;var f=false;var e=false;var h=false;var c=function(l,k){var j=document.createElement("script");j.type="text/javascript";j.src=l;k.find(".footer_tooltip").append(j)};var g=function(){var j=$("#footer_fb"),k=$("#footer_tw"),l=$("#footer_we"),m=$("#footer_gp");l.hover(function(o){l.find(".footer_tooltip").stop(true,true).fadeIn();if(h){return}var n=booking.env.b_locale.replace("-","_");l.find(".footer_tooltip").append('<iframe width="136" height="24" frameborder="0" allowtransparency="true" marginwidth="0" marginheight="0" scrolling="no" border="0" src="http://widget.weibo.com/relationship/followbutton.php?language='+n+'&width=136&height=24&uid=2144202281&style=2&btn=red&dpc=1"></iframe>');h=true},function(){l.find(".footer_tooltip").stop(true,true).fadeOut()});j.hover(function(n){j.find(".footer_tooltip").stop(true,true).fadeIn();if(d){return}j.find(".footer_tooltip").append('<iframe src="//www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.facebook.com%2Fbookingcom&amp;send=false&amp;layout=button_count&amp;width=450&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:150px; height:21px;" allowTransparency="true"></iframe>');d=true},function(){j.find(".footer_tooltip").stop(true,true).fadeOut()});k.hover(function(n){k.find(".footer_tooltip").stop(true,true).fadeIn();if(f){return}c("//platform.twitter.com/widgets.js",k);f=true},function(){k.find(".footer_tooltip").stop(true,true).fadeOut()});if(!($.browser.msie&&parseInt($.browser.version,10)>=9)){m.hover(function(n){m.find(".footer_tooltip").stop(true,true).fadeIn();if(e){return}c("https://apis.google.com/js/plusone.js",m);e=true},function(){m.find(".footer_tooltip").stop(true,true).fadeOut()})}};return{init:g}}());booking[sNSExperiments].social_plugins_footer={priority:9,init:function(){booking.social_plugins_footer.init()}};(function(){var g="#sort_by li.sort_stars > a, #sort_by li.sort_price > a, #sort_by li.review_score > a, #sort_by li.sort_distfrom > a",c="#sort_by li.with_dd ul",f=function(h){$(h).show();$(document).one("click",d)},d=function(){$(c).hide()},e;e=booking[sNSStartup].sort_popups={priority:9,init:function(){$(this.anchorSelector).bind("click",function(){var h=$(this).siblings("ul");d();if(h.length){if(!h.is(":visible")){f(h)}return false}else{return true}})},ulSelector:c,anchorSelector:g,showPopup:f,hideSortPopups:d};booking.run("tracking_for_sort_filter_on_hover").onReady(function(){var h=$(c).parent(),j=function(){booking.track.exp("sort_filter_on_hover");h.unbind("mouseenter",j)};h.bind("mouseenter",j)});if(booking.env.b_site_experiment_sort_filter_on_hover){g="#sort_by li.sort_stars, #sort_by li.sort_price, #sort_by li.review_score, #sort_by li.sort_distfrom";e.init=function(){$(g).mouseenter(function(){var h=$(this).children("ul");d();if(!h.is(":visible")){f(h)}}).mouseleave(d)};e.showPopup=function(h){$(h).show()}}})();booking[sNSStartup].sr_no_dates={priority:9,init:function(){$(".no_dates_click").click(function(j){if(!$(this).hasClass("b_check_blocked")){if(document.getElementById("checkin_day").value==0||document.getElementById("checkin_year_month").value==0||document.getElementById("checkout_monthday").value==0||document.getElementById("checkout_year_month").value==0){if(booking.env.b_site_experiment_sr_no_dates_calendar){if($("#sel_hotel_price").length){var k=$(this).parents("tr").get(0);var h=$("td",k).get(0);var e=$(h).attr("id").split("_")[1];$("#sel_hotel_price").val(e)}if(booking.env.b_site_experiment_sr_no_dates_calendar==1){booking[sNSStartup].lightbox.show($("#double_calendar"),{customWrapperClassName:"modal-double-calendar"})}else{if(booking.env.b_site_experiment_sr_no_dates_calendar==3){booking[sNSStartup].lightbox.show($("#double_calendar_small"),{customWrapperClassName:"modal-double-calendar"})}else{var g=$(this).closest("tr").get(0);var c=(booking.env.b_site_experiment_sr_no_dates_calendar==2)?$("#double_calendar").get(0):$("#double_calendar_small").get(0);$(".btn_hidden_show_dates").show().removeClass("btn_hidden_show_dates");$(".btn_hidden_rem_hotel").show().removeClass("btn_hidden_rem_hotel");$(".sr_rs_fav_btn",g).hide().addClass("btn_hidden_rem_hotel");$(this).addClass("btn_hidden_show_dates").hide();var f=document.createElement("tr");var d=document.createElement("td");d.setAttribute("className","sr_inline_calendar_cell");d.setAttribute("colSpan","2");d.setAttribute("class","sr_inline_calendar_cell");$(c).appendTo(d);$(d).appendTo(f);$(g).after(f);$(c).css("display","block");$(d).slideDown("slow")}}}else{alert(booking.env.enter_dates_to_see_prices);$(window).scrollTo(0,0)}}else{document.getElementById("availcheck").checked=false;document.getElementById("frm").submit()}}return false})}};booking[sNSStartup].store_cc_details={priority:9,init:function(){var c=this;if(booking.env.b_alt_payment_methods&&booking.env.b_site_experiment_bp_alternative_payment){return}$("#saved_credit_cards .cc_save").attr("disabled","disabled");$("#saved_credit_cards .cc_save").addClass("cc_save_disabled");$("#saved_credit_cards select").change(function(){var e=$(this).closest("form");$(this).css({"font-weight":"bold"});$(".cc_save",e).removeAttr("disabled");$(".cc_save",e).removeClass("cc_save_disabled")});if($("#card_status").length){setTimeout(function(){$("#card_status").hide("slow")},5000)}if($(".first_card_row").length){var d=$('#book_credit_card tr input[name="cc_card_id"]:checked').get(0);this.disableFields($(d).closest("tr").get(0))}$(".cc_radio").click(function(){var e=$(this).closest("tr").get(0);c.disableFields(e)});$("#cc_type").change(function(){onchange_cc(this)});$(".new_card select").change(function(){var e=$(this).closest("tr").get(0);$("input[type='radio']",e).attr("checked","checked");c.disableFields(e)});$(".new_card input").keydown(function(){var e=$(this).closest("tr").get(0);$("input[type='radio']",e).attr("checked","checked");c.disableFields(e)});$(".cc_delete").mousedown(function(){var g=$(this).closest("tr").get(0);var e=$(this).val()||$(this).attr("value");var f="/delete_cc_card?cc_id="+e;$.ajax({url:f,type:"POST",success:function(h){$(g).hide()},error:function(h){return false}});return false})},disableFields:function(c){var c=c;$("table.saved_cc_table tr").each(function(){if(!$(this).hasClass("new_card")&&!$(this).hasClass("save_my_card_tick")&&!$(this).hasClass("invalid")&&!$(this).hasClass("not_allowed_by_hotel")){if(this==c){$("input,select",this).each(function(){$(this).removeAttr("disabled")})}else{$("input,select",this).each(function(){if($(this).attr("type")!="radio"&&!$(this).hasClass("dc_maestro_fields")){$(this).attr("disabled","disabled")}})}}})}};booking[sNSExperiments].store_cc_details_step2_returning={priority:9,init:function(){var c=$("#save_card_tick:checked").length;if(c){$("#store_cc_returning_new .password_fields_wrapper").show()}else{$("#store_cc_returning_new .password_fields_wrapper").hide()}$("#store_cc_returning_new #save_card_tick").click(function(){$("#store_cc_returning_new .password_fields_wrapper").show()});$("#store_cc_returning_new #signup_later").click(function(){$("#save_card_tick").attr("checked",false);$("#store_cc_returning_new").hide()})}};booking[sNSExperiments].store_cc_details_step3={priority:9,init:function(){var c=$("#save_card_tick:checked").length;if(c){$("#bookStage3Inc .password_field_wrapper").show()}else{$("#bookStage3Inc .password_field_wrapper").hide()}$("#bookStage3Inc #save_card_tick").click(function(){$("#bookStage3Inc .password_field_wrapper").toggle()});$("#bookStage3Inc #signin_later").click(function(){$("#save_card_tick").attr("checked",false);$("#bookStage3Inc .password_field_wrapper").hide();return false})}};if(typeof b_survey_url!="undefined"&&b_survey_url){booking[sNSStartup].survey={priority:9,init:function(){$("#survey").fadeIn("normal");var c="/survey?";$("#survey button").click(function(f){var g=$(this).val();if(g){if(booking[sNSStartup].fix_move_book_header_and_button){booking[sNSStartup].fix_move_book_header_and_button.surveyFixed=false}if(g=="accept"||g=="Yes"||g=="yes"||g=="Ja, ik doe mee"||g=="Okay"){var d=window.open(b_survey_url,"booking_survey_window")}else{$("#survey").hide("normal")}$.get(c+"decision="+g+"&survey_key="+booking.env.survey_key,{},function(e){$("#survey").hide("normal")})}return false})}}}booking[sNSExperiments].fb_likes={priority:9,likes:"",init:function(){var c=this;if(booking.env.b_action=="book"){this.likes=setInterval(function(){var d=booking.env.b_fb_id;if(window[d[5]+d[0]]){booking.env.trackExperiment("eEEAdUC");window.clearInterval(c.likes);c.likes=""}},10000)}}};booking[sNSExperiments].user_center_bar={priority:9,init:function(){this.initializeUserCenterBar()},initElse:function(){this.initializeUserCenterBar()},initializeUserCenterBar:function(){var g=this;$("li .popover_trigger").click(function(){var k=$(this).parent();var l=k.width()/2;var j=$(".user_center_popover",k);var m=j.width()/2;var n=m-l;var h=m-8;var n="-"+Math.round(n)+"px";h=h+"px";if(k.attr("id")=="current_account"){j.css("right","0")}else{j.css("left",n);$(".user_center_popover .uc_top_arrow",k).css("left",h)}if($(".user_center_popover:visible",k).length){j.hide()}else{$(".user_center_popover").hide();j.show()}});var f=false;$(document).ready(function(){var h=$(".user_center_option");h.mouseenter(function(){f=true});h.mouseleave(function(){f=false});$("body").mousedown(function(){if(!f){$(".user_center_popover").hide();$("li .popover_trigger").removeClass("active_option")}})});var c=false;$(".uc_viewed_hotels .popover_trigger").click(function(){if(c){}else{var h=$(this).attr("data-href");var j=$(".uc_viewedhotels .hotels_container");$.ajax({url:h,type:"GET",success:function(k){$(j).html(k);c=true},complete:function(){$(".uc_viewedhotels .ajax_loading").hide();$(".user_search_header").hide();if($(".no_listing:visible").length){$(".uc_viewed_hotels .popover_content").addClass("empty_list")}else{$(".user_search_header").appendTo(".uc_viewedhotels .popover_footer");$(".user_search_header").show()}setTimeout(function(){if(!booking.env.b_site_experiment_rewrite_tt){booking[sNSStartupLoad].tooltip_3.addTooltip($(j))}},200)}})}});$("#user_form a.remove_hotel").live("click",function(){var j=$(this).attr("href").split("#")[1];$.ajax({url:"/hotel_history",type:"DELETE",data:{hotel_id:j}});this.blur();var h=$(this).parents(".user_search_item").get(0);var k=h.parentNode;$(h).hide("slow",function(){if($(".hidden_item",k).length){var l=$(".hidden_item",k).get(0);$(l).removeClass("hidden_item")}});g.removeOneHome(j);if($(".user_search_item",k).length==1){$(".user_search_item",k).show()}return false});$("#user_form a#removeAllHistoryHotel").live("click",function(){g.removeAll($(this).attr("id"));$(".user_center_popover").hide();$(".uc_viewed_hotels .popover_content").addClass("empty_list");$(".user_searches_content").show();$(".user_searches_content .user_search_item").hide();$(".user_search_footer").hide();$("#user_form .uc_viewed_hotels .popover_footer").remove();$(".uc_viewed_hotels .no_listing").show();return false});var e=false;var d=false;$(".uc_bookings .popover_trigger").click(function(){if(e){}else{$.ajax({url:booking.env.get_bookings_url,type:"GET",data:{AID:"10000"},dataType:"jsonp",contentType:"text/javascript",success:function(m){var q=m,j=0,o="",r="",u;for(var n=0,k=m.length;n<k;n++){u=m[n];if(m.length){var t=$(".popover_content .list_of_bookings ul #list_of_bkgs_"+j);$(t).addClass("existing_booking");$(".hotel_photo img",t).attr("src",booking.env.static_imgs_url+u.hotel_main_photo_max300);$(".hotel_link",t).attr("href",u.hotel_url);$(".hotel_link",t).html(u.hotel_name);if(u.hotel_address==""){$(".hotel_address",t).html(u.hotel_city)}else{$(".hotel_address",t).html(u.hotel_address+", "+u.hotel_city)}$(".price",t).html(u.converted_price);$(".dates_rooms",t).html(u.checkin_formatted+" - "+u.checkout_formatted);$(".nights",t).html(u.no_of_nights+" night, "+u.nr_rooms+" rooms");if(u.is_upcoming=="1"){var v=$("#user_form .bookings_actions a.main").attr("href");var h=v+";bn="+u.hotelreservation_id+";pincode="+u.pin_code+";label=from_conf_1";$("#user_form .bookings_actions a.main").attr("href",h);$(".upcoming_booking_actions").show();d=true}else{$(".list_of_bookings .upcoming_booking_actions").hide();$(".list_of_bookings a.main").hide();$(".list_of_bookings .bullet_separator").hide();$(".list_of_bookings .price").hide();$(".list_of_bookings .nights").hide()}}j=j+1;e=true}},complete:function(){if(e){$(".uc_bookings .ajax_loading").hide();if(d){$(".uc_bookings .uc_title_next_trip").show();$(".list_of_bookings li#list_of_bkgs_0").show()}else{$(".uc_bookings .uc_title_previous_bookings").show();$(".list_of_bookings li.existing_booking").show()}}},error:function(){}})}});booking.userAccessFormHandler.init()},removeAll:function(d){var e=this;var c=$("#"+d).parents(".user_searches_content");if(d=="removeAllHistoryHotel"){$.ajax({url:"/hotel_history",type:"DELETE",data:{hotel_id:-1}});e.removeAllHome()}else{booking[sNSStartup].search_history.removeAll(true)}$("#"+d).blur();$(".user_search_item",c).each(function(){if($(this).hasClass("no_listing")){$(this).show("slow")}else{$(this).hide("slow",function(){$(this).remove()})}});$(".user_search_header",c).hide();$(".user_search_footer",c).hide()},removeAllHome:function(){$(".user_searches_content").hide()},removeOneHome:function(c){$(".user_searches_content .remove_hotel").each(function(){if($(this).attr("href")=="#"+c){$(this.parentNode).hide()}})}};booking.userAccessFormHandler=(function(d){var c={$userAccessMenu:$(".user_access_menu"),$parentForm:{},$parentFormWrapper:{},_init:function(e){var f=this;if(e){this.$userAccessMenu=$(targetForm)}this.$userAccessMenu.delegate(".user_access_section_trigger","click",function(){var j=$(this),h=j.parents(".user_access_menu"),g=this.getAttribute("data-target");$(".form-section",h).addClass("form-hidden-section");$("."+g,h).removeClass("form-hidden-section");$(".form-tabs",h).removeClass("user_menu_active_tab");$("."+g+"_tab").addClass("user_menu_active_tab");return false});$("body").delegate(".user_access_form","submit",function(){f.$parentForm=$(this);f.$parentFormWrapper=$(this).parents(".form-section");if(f._validateForm()){$(".form-loading",f.$parentFormWrapper).show()}else{return false}});$("#login_redesign").click(function(){$(".bs2_inline_signin_box").toggle()});this._initPassStrength()},_initPassStrength:function(g){var h,e,f=this;if(g){e=this.$userAccessMenu.find(g)}else{e=this.$userAccessMenu.find(".password_strength")}this.$parentForm=e.parents(".user_access_form");$(e).keyup(function(){var j=$(this),k=j.val();if(h){clearTimeout(h)}h=setTimeout(function(){f._calculatePasswordStrength(j,k)},400)})},_validateForm:function(){if(!this.$parentForm.length){return 1}var f=true,e=d.error_sign_up_password_email_combo_01;$("input",this.$parentForm).each(function(){var n=$(this),o=n.attr("data-validation"),l,k,h=n.val(),g;if(o){o=o.split("|");for(var j=0,m=o.length;(j<m)&&f;j++){l=o[j].split(/\{/);k=l[0];if(k==="required"&&!h){f=false}else{if(k==="numeric_with_dots"||k==="numeric"){if(k==="numeric_with_dots"){h=h.replace(/\./g,"");n.val(h)}if(!/^\d+$/g.test(h)){f=false}}else{if(/min_length\([0-9]+\)/.test(k)){g=(k.split("("))[1];g=g.slice(0,-1);if(h.length<g){f=false}}}}if(l[1]){e=(l[1]).slice(0,-1)}}if(!f){return false}}});if(!f){$(".alert-error",this.$parentFormWrapper).html(e).show();return false}else{return true}},_calculatePasswordStrength:function(j,r){if(typeof(r)==="undefined"||typeof(r.length)==="undefined"){return}var e=r.length,t=parseInt(e/2.5),f="!@#$%^&*(){}[];:'\"\\|,.<>/?+=-_",v="ABCDEFGHIJKLMNOPQRSTUVWXYZ",l=0,o=false,n=0,m=0,h=$(".pass_strength_step",this.$parentForm).width(),g,q,u=$(".pass_strength_progress",this.$parentForm);for(var k=0;k<e;k++){if(!isNaN(r.charAt(k))){l+=1}else{o=true}if(f.indexOf(r.charAt(k))>-1){n+=2}if(v.indexOf(r.charAt(k))>-1){m+=1}}if(n>4){n=4}if(l>2){l=2}if(m>2){m=2}if(o){t+=l}t+=n;t+=m;if(t>10){t=10}else{if(t===0){t=1}}if(e<8){u.addClass("pass_strength_invalid");if(t>3){t=3}q=0}else{u.removeClass("pass_strength_invalid");q=parseInt(t/2)+1}g=h*t;u.animate({width:g+"px"});$(".pass_strength_text",this.$parentForm).text(booking.env.b_password_strength_msg[q])},_displayErrorMsg:function(e){if(!e||!e.msg){return}var f,g;if(e.parent){g=$(e.parent)}if(e.target){f=$(e.target,g)}else{f=$(".alert-error",g)}f.html(e.msg).addClass("alert-displayed");$(".form-loading, #page_login_loading").hide()}};return{init:function(){c._init()},displayErrorMsg:c._displayErrorMsg}})(booking.env);booking[sNSStartup].top_saved_searches={priority:9,opening_state:0,init:function(){var c=this;$(".search_tab").click(function(){c.opening_state=1;c.closeTabs(this);if(!$(this).hasClass("loadedContent")){c.loadContent($(this))}return false})},showAllNone:function(c){var d=$(".user_search_item",c.parentNode.parentNode);var e=0;if($(".hidden_item",c.parentNode.parentNode).length){$(".showLink",c.parentNode.parentNode).hide();$(".hideLink",c.parentNode.parentNode).show()}else{$(".showLink",c.parentNode.parentNode).show();$(".hideLink",c.parentNode.parentNode).hide()}$(d).each(function(){e++;if(e>6){if($(this).hasClass("hidden_item")){$(this).removeClass("hidden_item")}else{$(this).addClass("hidden_item")}}})},closeTabs:function(d){var e=this;var c=d?$(d).attr("id"):"";c=c.replace("tab","foldout");$(".search_foldout").each(function(){if($(this).hasClass("closed_content")){if($(this).attr("id")==c){$(this).removeClass("closed_content")}}else{$(this).addClass("closed_content")}});if(c===""){this.opening_state=0}else{setTimeout(function(){e.opening_state=2},100)}},loadContent:function(h){var g=this;var c=$(h).attr("data-href");if(c.indexOf("http://booking.com")!=-1){c=c.replace("http://booking.com","http://www.booking.com")}if($("#current_account").width()>$(h).width()){var f=$("#current_account").width()+458+15}else{var f=$(h).width()+458+15}if(booking.env.b_is_ie7){f=f+102}if(booking.env.b_is_ie6){f=f+20}var e=$("#current_account_foldout").offset().top;var j=$(h).attr("id");var d="#"+j+"_content";$(h).addClass("loadedContent");if(j=="search_tab_wishlists"){}else{$.ajax({url:c,type:"GET",success:function(k){$(d).html(k);$(d).css({left:"-"+f+"px",top:e+"px"});setTimeout(function(){g.addRemoveClicks(j);if(!booking.env.b_site_experiment_rewrite_tt){booking[sNSStartupLoad].tooltip_3.addTooltip($(d))}},200)}})}},addRemoveClicks:function(d){var c=this;$("#removeAllHistoryHotel, #removeAllHistorySearch").click(function(){c.removeAll($(this).attr("id"));return false});if(d=="search_tab_viewed"){$("#search_tab_viewed_content a.remove_hotel").click(function(){var f=$(this).attr("href").split("#")[1];$.ajax({url:"/hotel_history",type:"DELETE",data:{hotel_id:f}});booking[sNSStartup].viewed_hotels.cleanupHistoryList(this);this.blur();var e=$(this).parents(".user_search_item").get(0);var g=e.parentNode;$(e).hide("slow",function(){$(this).remove();if($(".hidden_item",g).length){var h=$(".hidden_item",g).get(0);$(h).removeClass("hidden_item")}c.reOddEven(g)});c.removeOneHome(f);if($(".user_search_item",g).length==1){$(".user_search_item",g).show()}return false});$("#search_tab_viewed_content .user_search_show").click(function(e){c.showAllNone(this);return false})}if(d=="search_tab_searched"){$("#search_tab_searched_content a.remove_search").click(function(){var l=$(this).attr("href").split("#")[1];var h=l.split(";");var j=h[0];var f=h[1];var k=h[2];$.ajax({url:"/search_history",type:"DELETE",data:{type:j,value:f,epoch:k}});booking[sNSStartup].search_history.cleanupHistoryList(this);this.blur();var e=$(this).parents(".user_search_item").get(0);var g=e.parentNode;$(e).hide("slow",function(){$(this).remove();if($(".hidden_item",g).length){var m=$(".hidden_item",g).get(0);$(m).removeClass("hidden_item")}c.reOddEven(g)});return false});$("#search_tab_searched_content .user_search_show").click(function(e){c.showAllNone(this);return false})}if(d=="search_tab_booked"){}if(d=="search_tab_favourite"){$("#search_tab_favourite_content").find(".user_search_show").remove();$("#search_tab_favourite_content a.remove_hotel").click(function(){var l=$(this).attr("href").split("#")[1];var h=l.split(";");var j=h[0];var f=h[1];var k=h[2];$.ajax({url:"/favorites/delete",type:"DELETE",data:{hotel_id:j}});this.blur();var e=$(this).parents(".user_search_item").get(0);var g=e.parentNode;$(e).hide("slow",function(){$(this).remove();if($(".hidden_item",g).length){var m=$(".hidden_item",g).get(0);$(m).removeClass("hidden_item")}c.reOddEven(g)});return false});$("#search_tab_searched_content .user_search_show").click(function(e){c.showAllNone(this);return false})}},removeAll:function(d){var e=this;var c=$("#"+d).parents(".user_searches_content");if(d=="removeAllHistoryHotel"){$.ajax({url:"/hotel_history",type:"DELETE",data:{hotel_id:-1}});e.removeAllHome();booking[sNSStartup].viewed_hotels.cleanupHistoryList($("#"+d))}else{booking[sNSStartup].search_history.removeAll(true)}$("#"+d).blur();$(".user_search_item",c).each(function(){if($(this).hasClass("no_listing")){$(this).show("slow")}else{$(this).hide("slow",function(){$(this).remove()})}});$(".user_search_header",c).hide();$(".user_search_footer",c).hide()},removeAllHome:function(){$("#LastViewedHotels").hide()},removeOneHome:function(c){$("#LastViewedHotels .remove_hotel").each(function(){if($(this).attr("href")=="#"+c){$(this.parentNode).hide()}})},reOddEven:function(e){var d=0;if($(".user_search_item",e).length>1){$(".user_search_item",e).each(function(){if(!$(this).hasClass("no_listing")){if(d==0){if($(this).hasClass("even")){$(this).removeClass("even")}d=1}else{if(!$(this).hasClass("even")){$(this).addClass("even")}d=0}}})}else{if($(".no_listing",e).length){var c=$(".no_listing",e).get(0);$(c).show();$(".user_search_header",e).hide();$(".user_search_footer",e).hide()}}}};booking[sNSStartupLoad].user_wishlists={priority:9,init:function(){this.initializeWishlist()},initElse:function(){this.initializeWishlist()},initializeWishlist:function(){var c=this;$(".wishlist_trigger").click(function(){$("#wishlist_modal .wl_modal_title").hide();var d=true;if($("#wl_list input:checked").length){var d=false}if(d){$("#wishlist_modal .modal_title_unsaved").show()}else{$("#wishlist_modal .modal_title_saved").show()}booking[sNSStartup].lightbox.show($("#wishlist_modal"),{customWrapperClassName:"wishlist_modal_wrapper",hideCallBack:function(){$("#wishlist_modal #wl_list li").removeClass("changed");$("#wishlist_modal").css("background","#fff");$("#wishlist_modal .wl_success_confirmation").hide();$("#wishlist_modal .wl_modal_title").hide();$("#wishlist_modal .save_to_wl").show()}})});$(".add_wl").click(function(){$(".wl_create_form .inputText").attr("value","");$(".wl_create_form").toggle();$(".modal-wrapper #wl_name_input").focus()});$("#wl_list").delegate("li","click",function(e){var d,f=$(this);if(e.target.nodeName!=="INPUT"){e.preventDefault();d=($("input:checked",this).length?"":"checked");$("input",f).attr("checked",d)}f.toggleClass("changed");if($("#wl_list li.changed").length){$(".wl_select .save_wl").removeClass("disabled")}else{$(".wl_select .save_wl").addClass("disabled")}});$(".wl_create_form").submit(function(k){var f=$(this);if($(this).attr("id")=="wl_create_from_sidebar"){var j=1}else{if($(this).attr("id")=="wl_create_from_user_center_bar"){var h=1}else{if($(this).attr("id")=="wl_create_from_hotel_page"){var g=1}}}if($(".inputText",f).length){var e=$(".inputText",f).val()}else{var e=$(".input-text",f).val();var d=1}if(!e==""){$.get(f.attr("action"),{name:e},function(n){if(n.success&&n.success=="1"){$(".empty_name_error").hide();if(g){$("#wl_list").prepend('<li><label><input type="checkbox" id="wl_'+n.id+'" value="wl_'+n.id+'" /> '+e+"</label></li>");$("#wl_list li:first").click();$(".wl_create_form").hide();var m=$("#wl_list").children().length}else{if(h){var l='<li><a href="'+booking.env.new_wishlist_url+""+n.id+'"><span>'+e+'</span><br /><span class="hotels_count">0 places</span></a></li>';$(".user_center_popover .wishlists_listing").prepend(l);var m=$(".user_center_popover .wishlists_listing").children().length}else{if(j){var l='<li><a href="'+booking.env.new_wishlist_url+""+n.id+'"><span>'+e+"</span></a></li>";$(l).insertBefore("#profileMenu li.add_wl_trigger");booking[sNSStartup].lightbox.hide($("#add_wishlist_modal"))}}}var l='<li><a href="'+booking.env.new_wishlist_url+""+n.id+'"><span>'+e+"</span></a></li>";$("#search_tab_wishlists_content .menu_wishlists").append(l);c.updateReaminingListsCount("substract");if(m>3){$(".wl_list_box").addClass("scrolling_list");$(".wishlists_listing").addClass("scrolling_list")}if(m==10){$(".create_wl").hide();$("#wl_name_input").hide();$(".exceed_wl_limit").show()}}else{$(".exceed_wl_limit").show()}})}else{$(".empty_name_error").show()}k.preventDefault();return false});$(".save_wl").click(function(){if($(this).hasClass("disabled")){return false}else{var g="";var e="";var d=true;$("#wl_list li.changed").each(function(){var j=(g=="")?"":",";var h=$("input",this).attr("id").replace("wl_","");g+=j+h;if($("input:checked",this).length){new_state="1"}else{new_state="0"}e+=j+new_state});if($("#wl_list input:checked").length){var d=false}var f=$("#wl_update_form").attr("class").replace("wl_update_form_","");if(e===""){c.showSuccessMsg(d)}else{$.get($("#wl_update_form").attr("action"),{lists:g,new_state:e,hotel_id:f},function(h){if(h.success&&h.success=="1"){c.showSuccessMsg(d);if(d){$(".wishlist_trigger_button").removeClass("saved_in_wl");$(".wishlist_trigger span").html(booking.env.not_added_to_list_cta)}else{$(".wishlist_trigger_button").addClass("saved_in_wl");$(".wishlist_trigger span").html(booking.env.added_to_list_cta)}}})}$("#wl_update_form").submit(function(){return false});return false}});$(".wl_remove_hotel").click(function(){var e=$("#wl_title").attr("class").replace("wl_title_","");hotel_box=$(this).parents(".wl_hotel_item");var d=$(this).parents(".wl_hotel_item").attr("id").replace("hotel_","");$.get("/wishlist/save_hotel",{lists:e,new_state:"0",hotel_id:d},function(f){if(f.success&&f.success=="1"){$(hotel_box).fadeOut().slideUp();setTimeout(function(){$(hotel_box).remove();if(!$(".wl_hotels_list .wl_hotel_item").length){$(".wishlist_no_content").show()}},1000)}else{}});c.resizeFormwrap()});$(".wl_add_new_trigger").click(function(){booking[sNSStartup].lightbox.show($("#wl_create_modal"),{customWrapperClassName:"wl_create_modal_wrapper",hideCallBack:function(){$("#wl_create_modal #wl_name_input").val("")}});if($("li.user_wishlists ul li").length=="11"){$("#wl_create_modal .modal_title").hide();$("#wl_create_modal .instructions").hide();$("#wl_create_modal .wl_create_form").hide();$("#wl_create_modal .exceed_wl_limit").css("margin","0").show()}else{$("#wl_create_modal #wl_name_input").focus()}});$(".add_hotel_note_input").focus(function(){if($(this).val()==$(this).attr("title")){$(this).val("")}$(this).css("border","2px solid #0896ff")});$(".add_hotel_note_input").blur(function(){var d=$(this).parents(".wl_hotel_item");if($(this).val()==""){$(this).val($(this).attr("title"))}$(this).css("border","1px solid #ccc")});$(".wl_add_note").click(function(){var h=$(this);var e=h.parents(".wl_hotel_item");var k=$(".add_hotel_note_input",e);var j=$("#wl_title").attr("class").replace("wl_title_","");var f=$(e).attr("id").replace("hotel_","");var d=$(k).val();var g=$(".note_placeholder",e);if($(".add_hotel_note_input:visible",e).length){$.get("/wishlist/add_note",{list_id:j,hotel_id:f,note:d},function(l){if(l.success&&l.success=="1"){if(d==$(k).attr("title")){$(".wl_add_note",e).html('<i class="btn_icon icon-pencil"></i> '+booking.env.save_note_to_hotel)}else{g.html(d);k.toggle();g.toggle();$(".wl_add_note",e).html('<i class="btn_icon icon-pencil"></i> '+booking.env.edit_note_to_hotel)}}else{}})}else{k.toggle();k.focus();g.toggle();$(this).html('<i class="btn_icon icon-pencil"></i> '+booking.env.save_note_to_hotel)}});$(".wl_dates_trigger").click(function(){booking[sNSStartup].lightbox.show($("#wl_dates_modal"),{customWrapperClassName:"wl_dates_modal_wrapper",hideCallBack:function(){$(".alert-error").hide()}})});$(".wl_share_trigger").click(function(){booking[sNSStartup].lightbox.show($("#wl_share_modal"),{customWrapperClassName:"wl_share_modal_wrapper",hideCallBack:function(){$(".alert-error").hide()}})});$(".wl_email_share_link").click(function(){var d=false;email_val=$("#maf_form #to").val();email_field=$("#maf_form #to");$(".mail_send_success").hide();$("#wl_share_modal .alert-error").hide();if(email_val==""){$("#wl_share_modal .alert-error").hide();$("#wl_share_modal .no_email_error").show()}else{if(!c.email_check($(".maf_input").val())){$("#wl_share_modal .alert-error").hide();$("#wl_share_modal .wrong_email_error").show()}else{$("#wl_share_modal .alert-error").hide();d=true}}if(d==true){$.ajax({url:"/mailafriend.html",type:"POST",data:$("#maf_form").serialize(),success:function(e){$(email_field).val("");$("#maf_message").val("");$(".mail_send_success strong").html(email_val);$(".mail_send_success").show()},error:function(){$(".mail_send_error").show()}})}$("#maf_form").submit(function(){return false});return false});$("#link_placeholder").click(function(){c.selectText("link_placeholder")});$(".wl_settings_trigger").click(function(){booking[sNSStartup].lightbox.show($("#wl_settings_modal"),{customWrapperClassName:"wl_settings_modal_wrapper",hideCallBack:function(){$(".alert-error").hide()}})});$(".rename_wl").click(function(){var e=true;var d=$("#wl_settings_modal #wl_rename_input").val();var f=$("#wl_title").attr("class").replace("wl_title_","");if(d==""){$("#wl_settings_modal .no_name_error").show();var e=false}else{$.get("/wishlist/update",{list_id:f,name:d},function(g){if(g.success&&g.success=="1"){$("#wl_title p").text(d);$("#profileMenu a.cur_menu span").text(d);booking[sNSStartup].lightbox.hide($("#wl_share_modal"));$(".wl_rename_confirm").show();setTimeout(function(){$(".wl_rename_confirm").slideUp()},3000);c.updateReaminingListsCount()}else{}})}$("#wl_settings_form").submit(function(){return false});return false});$(".delete_wishlist").click(function(){$("#wl_settings_modal .controls-row").hide();$("#wl_settings_modal .confirm_delete_step").show()});$(".do_delete").click(function(){var f=$("#wl_title").attr("class").replace("wl_title_","");var g=$("li.user_wishlists li:first a").attr("id").replace("wl_menu_item_","");var e=$("li.user_wishlists li:nth-child(2) a").attr("id").replace("wl_menu_item_","");if(f!=g){var d=$("li.user_wishlists li:first a").attr("href")}else{var d=$("li.user_wishlists li:nth-child(2) a").attr("href")}$.get("/wishlist/delete",{list_id:f},function(h){if(h.success&&h.success=="1"){window.location.href=d}else{}})});$(".dont_delete").click(function(){$("#wl_settings_modal .controls-row").show();$("#wl_settings_modal .confirm_delete_step").hide()});$(".clear_wishlist").click(function(){wl_id=$("#wl_title").attr("class").replace("wl_title_","");$.get("/wishlist/remove_hotel",{list_id:wl_id},function(d){if(d.success&&d.success=="1"){$(".wl_hotel_item").remove();booking[sNSStartup].lightbox.hide($("#wl_settings_modal"));$(".clear_all_form").hide();$(".wl_actions").hide();$("p.wishlist_no_content").show();$(".wl_clear_confirm").show();setTimeout(function(){$(".wl_clear_confirm").slideUp()},3000)}else{}})});$("#wishlists_availform").submit(function(){var d=$(this);formParams=d.serialize();if(formParams.indexOf("checkin_monthday=0")!==-1||formParams.indexOf("checkin_year_month=0")!==-1||formParams.indexOf("checkout_monthday=0")!==-1||formParams.indexOf("checkout_year_month=0")!==-1){$("#wl_no_dates_error").show()}else{$("#wl_no_dates_error").hide();window.location=d.attr("action")+"?"+formParams}return false})},showSuccessMsg:function(c){$("#wishlist_modal").css("background","#e6e7a9");if(c){$("#wishlist_modal .wl_confirm_removed").show()}else{$("#wishlist_modal .wl_confirm_added").show()}$("#wishlist_modal .wl_modal_title").hide();$("#wishlist_modal .save_to_wl").hide();setTimeout(function(){$(".wishlist_modal_wrapper").fadeOut(1000,function(){booking[sNSStartup].lightbox.hide($("#wishlist_modal"))})},1500);$("#wishlist_modal #wl_list li").removeClass("changed")},updateReaminingListsCount:function(c){var d=$("#wl_list_number"),e=parseInt(d.text(),10);if(!isNaN(e)){if(c==="substract"){e--}else{e++}d.text(e)}},email_check:function(c){var d=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;return d.test(c)},resizeFormwrap:function(){current_formwrap_height=$("#formwrap").css("height");new_formwrap_height=$(".sidebar_menu_placeholder").css("height");if(current_formwrap_height<new_formwrap_height){$("#formwrap").css("min-height",new_formwrap_height)}},selectText:function(d){var f=document,g=f.getElementById(d),c,e;if(f.body.createTextRange){c=document.body.createTextRange();c.moveToElementText(g);c.select()}else{if(window.getSelection){e=window.getSelection();c=document.createRange();c.selectNodeContents(g);e.removeAllRanges();e.addRange(c)}}},animateHighlight:function(g,e){var f=g||"#FFFF9C";var c=e||1500;var d=this.css("backgroundColor");this.stop().css("background-color",f).animate({backgroundColor:d},c)}};booking[sNSExperiments].we_know_your_hotels=(function(){var c=function(){var j,f,g;try{g=new Date;(j=window.localStorage).setItem(g,g);f=j.getItem(g)!=g;j.removeItem(g);f&&(j=false)}catch(h){}if(j){j.setItem("hotel_"+booking.env.b_hotel_id,booking.env.b_hotel_id)}window.onunload=window.onbeforeunload=function(){j.removeItem("hotel_"+booking.env.b_hotel_id)}};var d=function(){c()};return{init:d}}());booking.run("tracking_for_replace_kampyle_with_usabilla").onReady(function(){booking.track.onClick(".feedback_link_look").exp("XOVVSFJUJXYaUdeeXGKeeWe")});booking[sNSStartupLoad].change_currency_on_click={priority:9,init:function(){var g=booking.env,c="",j,d=$(".click_change_currency");if(!d.length){return}c=booking.currencyDropdownOptions;if(g.change_currency_hotel_anchor){j="&amp;"+g.change_currency_hotel_anchor;c=c.replace(/href\s*\=\s*\'([\w/=%_&\-.;?]*)\s*\'/ig,"href='$1"+j+"'")}$("#click_current_currency_foldout ul").append(c);var f=$("#click_current_currency_foldout"),h,e;e=f.find("a");$(".click_change_currency").click(function(z){var o=$(this);if(!f.is(":hidden")){f.slideUp()}else{o.after(f);f.slideDown();$("#tooltip").hide();var m=o.closest("tr.flash_deal_soldout");h=m.children(0).attr("id")}var q=$("#current_currency_index").val();if(booking.env.change_currency_on_click_convert_prices&&q!=""){var k=$(this).text();var v=$(".convert_prices option");var x=$("#click_current_currency_foldout .selsymbol");var w={},u,n,A;var y=function(l){return parseFloat(l.replace(/,/g,".").replace(/[^\d\.]/g,""),10)};n=y(k);for(var t=0,r=v.length;t<r;t++){A=n*(q/v[t].value);w[v[t].innerHTML]=A.toFixed(2)}for(var t=0,r=x.length;t<r;t++){u=x[t];$(u.parentNode).find(".converted_currency").html(w[u.innerHTML])}if(booking.env.change_currency_on_click_convert_prices==2){$("#click_current_currency_foldout .seldescription:not(:first)").remove()}}z.stopPropagation()});if(!g.change_currency_hotel_anchor){e.live("click",function(){$(this).attr("href",$(this).attr("href")+"#"+h)})}$("html").click(function(k){if("click_current_currency_foldout"!=k.target.id){f.slideUp()}})}};if(booking.env.enable_scripts_tracking){booking.env.scripts_tracking.main.run=true};