if(booking.env.enable_scripts_tracking){booking.env.scripts_tracking.main={loaded:true,run:false}}function bookmark(c,d){if(window.external){window.external.AddFavorite(c,d)}else{if(window.sidebar){window.sidebar.addPanel(d,c,"")}else{alert(tr.pressCtlD)}}}function addBookmark(d,c){if(window.sidebar){window.sidebar.addPanel(d,c,"")}else{if(document.all){window.external.AddFavorite(c,d)}else{alert("Sorry your browser doesn't support this function\nTo bookmark this page\nWindows users press ctrl + D\nMac users press cmd + D")}}}function hideFrameContainer(d,h,e){if(document.getElementById){var j=document.getElementById(d);var g=document.getElementById(h);j.style.display="none";document.getElementById("headline_newsletter").style.display="block";document.getElementById("headline_createprofile").style.display="none"}}function changeHeadline(){document.getElementById("headline_newsletter").style.display="none";document.getElementById("headline_createprofile").style.display="block"}function hideEl(c){$("#"+c).hide()}function showEl(c){$("#"+c).show()}function showFrameContainer(k,g,j,d,h,v,q,m,u){if(document.getElementById){var o=document.getElementById(k);var r=document.getElementById(g);var n=document.getElementById(j);if(r.style.display=="block"){r.style.display="none";return false}if(n.src!=d){n.src=d}r.style.visibility="hidden";r.style.display="block";var l=$(o).position().left,t=$(o).position().top;if(q){l+=q}if(m){t+=m}if(!h){h=r.offsetWidth}var w=document.getElementById("bodyconstraint").offsetWidth;if((l+h)>w){l=(w-h-40)}r.style.left=l+"px";r.style.top=t+"px";r.style.visibility="visible";return false}else{window.open(d)}}function sSc(d,c,e){if(document.getElementById){document.getElementById("rsc_"+d).innerHTML=e}}function sSc3(c,d){$("li[id^="+c+"]").attr("style","display: none; ");$("li[id^="+d+"]").removeAttr("style")}function sSc2(f,e,g){if(document.getElementById){if(document.getElementById("rnr")){document.getElementById("rnr").innerHTML=f}for(var d=-1;d<10;d++){var c=document.getElementById("rl"+d);if(c){c.style.color="";c.style.textDecoration="underline"}}e.style.color="#003580";e.style.textDecoration="none";e.blur();$("#gr_profile_chooser ul").removeClass().addClass(g);$(".review_filter_sub").text($(e).find(".key").text());if(g=="group"||g=="review_category_group_of_friends"){classname="group_big"}else{if(g=="solo_traveller"){classname="solo_big"}else{if(g=="family_with_young_children"||g=="review_category_family"){classname="youngchildren_big"}else{if(g=="mature_couple"){classname="maturecouple_big"}else{if(g=="family_with_older_children"){classname="oldchildren_big"}else{if(g=="with_friends"){classname="withfriends_big"}else{if(g=="young_couple"||g=="review_category_couple"){classname="youngcouple_big"}else{classname="global_big"}}}}}}}$(".review_user_type").attr("class","review_user_type type_"+classname)}}if($.ajaxSetup){$.ajaxSetup({cache:false,beforeSend:function(c){c.setRequestHeader("X-Booking-Pageview-Id",booking.env.pageview_id);c.setRequestHeader("X-Booking-AID",booking.env.aid);c.setRequestHeader("X-Booking-Session-Id",booking.env.b_sid)}})}if($(".b_msie_6").length){$(".b_msie_6 .bigbluebutton").mouseenter(function(){$(this).addClass("bigbluebutton_hover")});$(".b_msie_6 .bigbluebutton").mouseleave(function(){$(this).removeClass("bigbluebutton_hover")});$(".b_msie_6 .price_button").mouseenter(function(){$(this).addClass("price_button_hover")});$(".b_msie_6 .price_button").mouseleave(function(){$(this).removeClass("price_button_hover")})}$("#signup_box").hide();function ShowHideSignup(){$("#signup_box").animate({height:"toggle"},{duration:500})}$("#signup_box #signupForm").click(function(c){c.stopPropagation()});$("span.facebook_after_signup").click(function(c){window.open("http://www.facebook.com/bookingcom");c.stopPropagation();return false});$(function(){$(".newsletter_ajax_error").hide();$('input#to[type="text"]').css({backgroundColor:"#FFFFFF"});$('input#to[type="text"]').focus(function(){$(this).css({color:"#003580"});if(this.value==this.defaultValue){this.value=""}if(this.value!=this.defaultValue){this.select()}});$("input.text-input").blur(function(){$(this).css({backgroundColor:"#FFFFFF"})});$("div#newsletterform_form a.flashdeals_nosubscribe").click(function(){$("div#flashdealsbg_wrapper h2.flashdeals_header_one").hide();$("div#flashdealsbg_wrapper h2.flashdeals_header_two").show();$("div#flashdealsbg_wrapper h3.flashdeals_subheader_one").hide();$("div#flashdealsbg_wrapper h3.flashdeals_subheader_two").show();$("div#flashdealsbg_wrapper a.flashdeals_nosubscribe").hide();$("div#flashdealsbg_wrapper a.flashdeals_gotobooking").show();$("div#flashdealsbg_wrapper input.newsletter_button").hide();$("div#flashdealsbg_wrapper input.newsletter_button_deals").show();return false})});(function(k,m){var e="experiments",h="startup",f="experiments_load",l="startup_load",j=m.env,d=!!$("[data-load]").length,c=function(o){return typeof o==="function"},n=function(o){return("b_site_experiment_"+o) in j},g;m.ensureNamespaceExists(e);m.ensureNamespaceExists(h);m.ensureNamespaceExists(f);m.ensureNamespaceExists(l);g=m[h];g.init=function(w){var x=[],H=9,z,t,r,C,B,A,G,F,u,y,q,E,D,v,o=w==="ready";z=o?e:f;r=m[z];for(C in r){x.push([r[C].priority||H,C,z,!n(C)])}t=o?h:l;B=m[t];for(A in B){q=B[A];if(!q.lazy||!d){x.push([q.priority||H,A,t,false])}}if(x.length>0){x.sort();for(D=0,v=x.length;D<v;D+=1){G=x[D];F=G[1];u=G[2];q=m[u][F];y=G[3]?q.initElse:q.init;q.ns="booking."+u;q.name=F;if(c(y)){E=this.execute(y,q);if(E===true){q.init=q.initElse=null}}}}$(document).trigger(w+":finished")};g.execute=function(q,o){return q.call(o)};j.amTracking=[];j.trackExperiment=function(q,o){if(typeof q==="undefined"||q===null){return}var x=q.split(","),u=[],v,r,y,w;for(v=0,r=x.length;v<r;v+=1){if(/^[0-9]+$/.test(x[v])&&typeof j.amTracking["e"+x[v]]==="undefined"){u.push(x[v]);j.amTracking["e"+x[v]]=1}}if(u.length>0){y=o?";what="+o:"";var t=$("#req_info")?$("#req_info").html():"";w='<img style="height:1px;width:1px;visibility:hidden;" src="/js_tracking?ver=1'+y+";sid="+j.b_sid+";aid="+j.b_aid+";pid="+j.pageview_id+";exps="+u.join()+";info="+t+'">';$(k.document.body).append(w)}};$(function(){m[h].init("ready");m.noJSResp.onMainJSReady()});$(k).load(function(){m[h].init("load")});$(k.document).bind("lazy:ready",function(){var r=m[l],q,o;for(q in r){o=r[q];if(o.lazy){o.ns="booking.lazy";o.name=q;o.init()}}});k.sNSExperiments=e;k.sNSStartup=h;k.sNSExperimentsLoad=f;k.sNSStartupLoad=l})(this,this.booking);booking[sNSStartup].popups={priority:9,curPopup:null,tempTar:null,sizes:{s:{width:300,height:400},m:{width:400,height:400},l:{width:600,height:580},xl:{width:850,height:600}},init:function(){var c=this;$(".popup_s, .popup_m, .popup_l, .popup_xl").click(function(){var f="l";var d=$(this).attr("class").split(" ");for(var e=0;e<d.length;e++){if(d[e].indexOf("popup_")>-1){f=d[e].split("_")[1]}}c.tempTar=$(this).attr("href");c.openPopup(f);return false})},openPopup:function(d){var c=this;if(this.curPopup!=null){this.curPopup.close();this.curPopup=null;var d=d;setTimeout(function(){c.openPopup(d)},300)}else{var e=this.sizes[d];this.curPopup=window.open(this.tempTar,"","toolbar=0,location=0,directories=0,status=0,menubar=0,scrollbars=yes,resizable=1,width="+e.width+",height="+e.height+",left=200,top=200");this.curPopup.focus();this.tempTar=null}}};if(!window.console){window.console=new function(){this.log=function(c){};this.dir=function(c){};this.debug=function(c){};this.info=function(c){};this.warn=function(c){};this.table=function(c){};this.trace=function(){};this.time=function(c){};this.timeEnd=function(c){};this.info=function(c){}}}booking[sNSStartup].anchorJump={priority:9,init:function(){if($("#newsletterbox .error").length){location.href=location.href+"#errormsg"}$(".forgotten a, a.forgotten").click(function(){window.open(this.href,"","toolbar=0,location=0,directories=0,status=0,menubar=0,scrollbars=yes,resizable=1,width=500,height=500,left=200,top=200");return false})}};booking[sNSStartup].search_autocomplete={target:$("#destination"),priority:9,init:function(){this.initializeAutocomplete()},initElse:function(){this.initializeAutocomplete()},initializeAutocomplete:function(){var d=this,c=function(){booking.env.trackExperiment(booking.env.autocomplete_values);d.target.unbind("keypress",d.handler)};this.target.keypress(c)}};booking[sNSStartup].worldMapV2={priority:8,init:function(){if(!$("#map_holder_v2").length){return}var d=this;var e;var c;this.oldid=$("#map_holder_v2 h3.selected").attr("id").split("link_continent_")[1];$("#world_map_v2 area").hover(function(){var g=$(this).attr("id");var f=parseInt(g.split("_")[1]);$("#link_continent_"+f).stop(true,true).fadeIn(200);$("#list_continent_"+f).addClass("hovered")},function(){var g=$(this).attr("id");var f=parseInt(g.split("_")[1]);if(!$("#link_continent_"+f).hasClass("selected")){$("#link_continent_"+f).stop(true,true).hide()}$("#list_continent_"+f).removeClass("hovered")});$("#world_map_v2 area").click(function(){thisid=$(this).attr("id");d.curid=parseInt(thisid.split("_")[1]);d.togleContinents();return false});$(".contlist_v2 li a").hover(function(){var g=$(this).attr("id");var f=parseInt(g.split("list_continent_")[1]);$("#link_continent_"+f).stop(true,true).fadeIn(200);$("#list_continent_"+f).addClass("hovered")},function(){var g=$(this).attr("id");var f=parseInt(g.split("list_continent_")[1]);if(!$("#link_continent_"+f).hasClass("selected")){$("#link_continent_"+f).stop(true,true).hide()}$("#list_continent_"+f).removeClass("hovered")});$(".contlist_v2 li a").click(function(){thisid=$(this).attr("id");d.curid=parseInt(thisid.split("list_continent_")[1]);d.togleContinents();return false});$("#countrylist_10 li, #countrylist_2 li").appendTo("#countrylist_1");$("#countrylist_7 li").appendTo("#countrylist_8")},togleContinents:function(){if(this.curid==this.oldid){return}if(this.oldid){$("#link_continent_"+this.oldid).hide();$("#link_continent_"+this.oldid).removeClass("selected");$("#list_continent_"+this.oldid).removeClass("selected");$("#continent_name_"+this.oldid).removeClass("selected");$("#countrylist_"+this.oldid).hide()}this.showContinent()},showContinent:function(){$("#link_continent_"+this.curid).fadeIn(300);$("#list_continent_"+this.curid).addClass("selected");$("#link_continent_"+this.curid).addClass("selected");$("#continent_name_"+this.curid).addClass("selected");$("#countrylist_"+this.curid).show();this.oldid=this.curid}};$(document).ready(function(){var c=$("#editorTitle").val();var d=$("#editorText").html()});(function(){var d=booking.env,c=booking[sNSStartup].calendar={priority:9,version:1.4,datefmt:"YYYY MM DD",minimalDays:1,maximalDays:30,oldDays:1,from:{date:null,day:null,month:null,year:null},till:{date:null,day:null,month:null,year:null},viewDateFrom:new Date(),viewDateTill:new Date(),oneDayInMS:86400000,calendars:[],calendarTypes:{checkin_day:{isTill:false,isDay:true},checkin_monthday:{isTill:false,isDay:true},checkin_year_month:{isTill:false,isDay:false},pre_checkin_year_month:{isTill:false,isDay:false},checkout_day:{isTill:true,isDay:true},checkout_monthday:{isTill:true,isDay:true},checkout_year_month:{isTill:true,isDay:false},pre_checkout_year_month:{isTill:true,isDay:false}},maxMonthsInFuture:12,maxDaysInFuture:365,maxDaysInThePast:1,syncDate:null,userServDate:false,dateFormat:function(k,w,r){var l=/D{1,4}|M{1,4}|YY(?:YY)?/g,j=function(x,m){x=String(x);m=m||2;while(x.length<m){x="0"+x}return x};var h=this;if(arguments.length==1&&Object.prototype.toString.call(k)=="[object String]"&&!/\d/.test(k)){w=k;k=undefined}k=k?new Date(k):new Date;if(isNaN(k)){throw SyntaxError("invalid date")}w=String(w||h.datefmt);if(w.slice(0,4)=="UTC:"){w=w.slice(4);r=true}var u=r?"getUTC":"get",o=k[u+"Date"](),e=k[u+"Day"](),g=k[u+"Month"](),q=k[u+"FullYear"](),t=k[u+"Hours"](),n=k[u+"Minutes"](),v=k[u+"Seconds"](),f={D:o,DD:j(o),DDD:d.b_simple_weekdays_for_js[(e+6)%7],DDDD:d.b_long_weekdays[(e+6)%7],M:g+1,MM:j(g+1),MMM:d.b_short_months_abbr[g],MMMM:d.b_short_months[g],YY:String(q).slice(2),YYYY:q};return w.replace(l,function(m){return m in f?f[m]:m.slice(1,m.length-1)})},searchMinDays:function(e){this.minimalDays=e},maxYearsInFuture:function(){this.today=this.noHourDate(null);this.maxMonthsInFuture=12;if(d.b_site_variant_calendar_days_allowed_fix){this.maxDaysInFuture=parseInt(d.calendar_days_allowed_number)}else{this.maxDaysInFuture=365}if(d.b_site_variant_extra_calendar_months){if(this.maxMonthsInFuture<15){this.maxMonthsInFuture=15}}this.tomorrow=this.dateAfterDays(this.today,1);this.endOfYear1=this.dateAfterDays(this.today,this.maxDaysInFuture);this.endOfYear2=this.dateAfterDays(this.today,this.maxDaysInFuture-1)},setPast:function(e){this.maxDaysInThePast=e},syncDates:function(e,f,l,h,k){if(!k){$("#availcheck").attr("checked",false);if(d.b_site_experiment_no_rooms_searchbox){booking[sNSExperiments].no_rooms_searchbox.hide_no_dates()}$("#define_group").removeClass("disableme");$("#define_group input").removeAttr("disabled")}if(e){this.till.day=(f==null)?this.till.day:f;this.till.month=(l==null)?this.till.month:l;this.till.year=(h==null)?this.till.year:h;if(this.till.day!=null&&this.till.month!=null&&this.till.year!=null){this.till.date=new Date(this.till.year+"/"+this.till.month+"/"+this.till.day+" 00:00:00");this.viewDateTill=new Date(this.till.year+"/"+this.till.month+"/"+this.till.day+" 00:00:00")}}else{this.from.day=(f==null)?this.from.day:f;this.from.month=(l==null)?this.from.month:l;this.from.year=(h==null)?this.from.year:h;if(this.from.day!=null&&this.from.month!=null&&this.from.year!=null){this.from.date=new Date(this.from.year+"/"+this.from.month+"/"+this.from.day+" 00:00:00");this.viewDateFrom=new Date(this.from.year+"/"+this.from.month+"/"+this.from.day+" 00:00:00")}}var j=false;if(!e&&this.from.date!=null){if(this.till.date!=null){if(this.till.date<=this.from.date){this.till.date=this.dateAfterDays(this.from.date,this.oldDays);j=true}}else{if(!k){this.till.date=this.dateAfterDays(this.from.date,this.minimalDays);j=true}}}else{if(e&&this.till.date!=null){if(this.from.date==null){if(!k){this.from.date=this.dateAfterDays(this.till.date,~(this.minimalDays-1));j=true}}}}if(j){if(!e){this.till.year=this.till.date.getFullYear();this.till.month=this.till.date.getMonth()+1;this.till.day=this.till.date.getDate();this.viewDateTill=new Date(this.till.year+"/"+this.till.month+"/"+this.till.day+" 00:00:00")}else{this.from.year=this.from.date.getFullYear();this.from.month=this.from.date.getMonth()+1;this.from.day=this.from.date.getDate();this.viewDateFrom=new Date(this.from.year+"/"+this.from.month+"/"+this.from.day+" 00:00:00")}}for(var g=0;g<this.calendars.length;g++){$(this.calendars[g]).trigger("changed_date",[e,j])}},init:function(){if(d.b_site_experiment_fix_user_dates){var h=d.b_current_datetime;this.syncDate=h.replace(/-/gi,"/");var j=new Date(this.syncDate);j.setDate(j.getDate()+1);var g=new Date();this.syncDate=new Date(this.syncDate);this.syncDate.setDate(this.syncDate.getDate()-0.5);if(j<g){this.userServDate=true;this.viewDateFrom=new Date(this.syncDate);this.viewDateTill=new Date(this.syncDate)}else{var f=new Date(this.syncDate);f.setDate(f.getDate()-1);if(f>g){this.userServDate=true;this.viewDateFrom=new Date(this.syncDate);this.viewDateTill=new Date(this.syncDate)}}}this.maxYearsInFuture();this.initAddHandlers();if(d.b_site_experiment_calendar_with_input){for(var e=0;e<this.calendars.length;e++){if(this.calendars[e]){$(this.calendars[e]).closest(".calendar_with_input").removeClass("calendar_with_input__loading")}}}},initAddHandlers:function(){var f=this;$("select").each(function(){if(f.calendarTypes[$(this).attr("name")]){f.calendars.push(this);var g=$(this).val();if(g!="0"){var j=f.calendarTypes[$(this).attr("name")];if(j.isDay){if(j.isTill){f.till.day=g}else{f.from.day=g}}else{var h=g.split("-");if(h.length&&h.length>0){if(j.isTill){f.till.year=h[0];f.till.month=h[1]}else{f.from.year=h[0];f.from.month=h[1]}}}}$(this).bind("changed_date",function(l,k,o){$("input",this.parentNode).each(function(){if(f.calendarTypes[$(this).attr("name")]){var q=f.calendarTypes[$(this).attr("name")];if(q.isDay&&q.isTill&&f.till.day!=null){$(this).val(f.till.day)}if(q.isDay&&!q.isTill&&f.from.day!=null){$(this).val(f.from.day)}if(!q.isDay&&q.isTill&&f.till.month!=null&&f.till.year!=null){$(this).val(f.till.year+"-"+f.till.month)}if(!q.isDay&&!q.isTill&&f.from.month!=null&&f.from.year!=null){$(this).val(f.from.year+"-"+f.from.month)}}});var m=f.calendarTypes[$(this).attr("name")];if(((k||o)&&m.isTill)||((!k||o)&&!m.isTill)){if(m.isDay){if((m.isTill&&f.till.year!=null&&f.till.month!=null)||(!m.isTill&&f.from.year!=null&&f.from.month!=null)){f.rebuildDaySelect(this,m.isTill)}}else{if(m.isTill&&f.till.year!=null&&f.till.month!=null){f.selectOption(this,f.till.year+"-"+f.till.month)}else{if(!m.isTill&&f.from.year!=null&&f.from.month!=null){f.selectOption(this,f.from.year+"-"+f.from.month)}}}}if(d.b_site_experiment_calendar_with_input){if(f.calendarTypes[$(this).attr("name")]){var n=f.calendarTypes[$(this).attr("name")];if(n.isDay&&n.isTill&&f.till.day!=null){$("input.check_date",this.parentNode).val(f.dateFormat(f.till.date,d.date_format_locale)).removeClass("noInitalInputValue")}if(n.isDay&&!n.isTill&&f.from.day!=null){$("input.check_date",this.parentNode).val(f.dateFormat(f.from.date,d.date_format_locale)).removeClass("noInitalInputValue")}}}});$(this).change(function(){var n=f.calendarTypes[$(this).attr("name")];var m=$(this).val();var l=m.split("-");if(m!="0"){if($(this).parents(".newcalendar").length){var k=$(this).parents(".newcalendar");if(l.length&&l.length>1){if($(this).parents(".calendarTill").length){f.viewDateTill=new Date(l[0]+"/"+l[1]+"/"+f.viewDateTill.getDate()+" 00:00:00");f.rebuildCalendarTable($(".calendarTill table",k).get(0),true,f.viewDateTill.getMonth()+1,f.viewDateTill.getFullYear())}else{f.viewDateFrom=new Date(l[0]+"/"+l[1]+"/"+f.viewDateFrom.getDate()+" 00:00:00");f.rebuildCalendarTable($("table",k).get(0),false,f.viewDateFrom.getMonth()+1,f.viewDateFrom.getFullYear())}}}else{f.syncDates(n.isTill,(n.isDay)?m:null,(n.isDay)?null:((l.length&&l.length>1)?l[1]:null),(n.isDay)?null:l[0])}}})}});var e=$(".newcalendar").length;$(".newcalendar").each(function(){if($(".calendarTill",this).length){f.rebuildCalendarTable($(".calendarTill table",this).get(0),true,f.viewDateTill.getMonth()+1,f.viewDateTill.getFullYear())}if(e>1){f.rebuildCalendarTable($("table",this).get(0),false,f.viewDateFrom.getMonth()+1,f.viewDateFrom.getFullYear())}f.calendars.push(this);$(this).bind("changed_date",function(h,g,k){if($(".calendarTill",this).length){if(f.till.month!=null&&f.till.year!=null){f.rebuildCalendarTable($(".calendarTill table",this).get(0),true,f.till.month,f.till.year);var j=(f.till.day)?f.till.day:1;f.viewDateTill=new Date(f.till.year+"/"+f.till.month+"/"+j+" 00:00:00")}}if(f.from.month!=null&&f.from.year!=null){if(e>1){f.rebuildCalendarTable($("table",this).get(0),false,f.from.month,f.from.year)}var j=(f.from.day)?f.from.day:1;f.viewDateFrom=new Date(f.from.year+"/"+f.from.month+"/"+j+" 00:00:00")}f.updateLabels()});$("td",this).bind("click",function(){if(parseInt($(this).text())>0){if($("a",this).length){if($(this).parents(".calendarTill").length){if(d.b_action=="hotel"&&d.b_site_experiment_new_change_dates_hp){if($(".new_change_dates .checkout_monthday").val()!=$(this).text()){$(".new_change_dates .checkout_monthday").css({"font-weight":"bold"})}if($(".new_change_dates .checkout_year_month").val()!=f.viewDateTill.getFullYear()+"-"+(f.viewDateTill.getMonth()+1)){$(".new_change_dates .checkout_year_month").css({"font-weight":"bold"})}}f.syncDates(true,$(this).text(),f.viewDateTill.getMonth()+1,f.viewDateTill.getFullYear())}else{if(d.b_action=="hotel"&&d.b_site_experiment_new_change_dates_hp){if($(".new_change_dates .checkin_day").val()!=$(this).text()){$(".new_change_dates .checkin_day").css({"font-weight":"bold"})}if($(".new_change_dates .checkin_year_month").val()!=f.viewDateFrom.getFullYear()+"-"+(f.viewDateFrom.getMonth()+1)){$(".new_change_dates .checkin_year_month").css({"font-weight":"bold"})}}f.syncDates(false,$(this).text(),f.viewDateFrom.getMonth()+1,f.viewDateFrom.getFullYear())}if(d.b_action=="hotel"&&d.b_site_experiment_new_change_dates_hp){booking[sNSExperiments].new_change_dates_hp.enable_button()}if(!d.b_site_experiment_groups_number_rooms){$("#define_group").show()}f.closePopupCalendar()}}return false});$(".nextmonth",this).bind("click",function(){if(!$(this).hasClass("disabled")){var g=$(this).parents(".newcalendar").get(0);if($(this).parents(".calendarTill").length){f.viewDateTill=f.dateAfterDays(f.viewDateTill,0,1);f.rebuildCalendarTable($("table",g).get(0),true,f.viewDateTill.getMonth()+1,f.viewDateTill.getFullYear())}else{f.viewDateFrom=f.dateAfterDays(f.viewDateFrom,0,1);f.rebuildCalendarTable($("table",g).get(0),false,f.viewDateFrom.getMonth()+1,f.viewDateFrom.getFullYear())}}this.blur();return false});$(".prevmonth",this).bind("click",function(){if(!$(this).hasClass("disabled")){var g=$(this).parents(".newcalendar").get(0);if($(this).parents(".calendarTill").length){f.viewDateTill=f.dateAfterDays(f.viewDateTill,0,-1);f.rebuildCalendarTable($("table",g).get(0),true,f.viewDateTill.getMonth()+1,f.viewDateTill.getFullYear())}else{f.viewDateFrom=f.dateAfterDays(f.viewDateFrom,0,-1);f.rebuildCalendarTable($("table",g).get(0),false,f.viewDateFrom.getMonth()+1,f.viewDateFrom.getFullYear())}}this.blur();return false});$("select",this).each(function(){var g=$(this).attr("name");var h=$(this).val();if(f.calendarTypes[g]){if(!f.calendarTypes[g].isDay){$(this).attr("name","pre_"+g);$(this.parentNode).append('<input type="hidden" name="'+g+'" value="'+h+'" />')}}else{$(this).change(function(){var j=$(this).val();if(j!="0"){var k=j.split("-");if(k.length&&k.length>0){oCalendar=$(this).parents(".newcalendar");if($(this).parents(".calendarTill").length){f.viewDateTill=new Date(k[0]+"/"+k[1]+"/1 00:00:00");f.rebuildCalendarTable($("table",oCalendar).get(0),true,k[1],k[0])}else{f.viewDateFrom=new Date(k[0]+"/"+k[1]+"/1 00:00:00");f.rebuildCalendarTable($("table",oCalendar).get(0),false,k[1],k[0])}}}})}})});$(".calendarLink").click(function(){f.openPopupCalendar(this);if(d.b_site_experiment_calendar_sunday_first_day_for_us){d.trackExperiment(d.js_experiment_tracking.calendar_sunday_first)}return false});$(".calendar_close").click(function(){f.closePopupCalendar();return false});if(this.from.year!=null&&this.from.month!=null&&this.from.day!=null){f.syncDates(false,this.from.day,this.from.month,this.from.year,true)}if(this.till.year!=null&&this.till.month!=null&&this.till.day!=null){f.syncDates(true,this.till.day,this.till.month,this.till.year,true)}},updateLabels:function(){var f=Math.round((this.noHourDate(this.till.date)-this.noHourDate(this.from.date))/this.oneDayInMS);if(f>0){if(d.night&&d.nights){var e=(f==1)?1+" "+d.night:d.nights.replace("{amount}",f);if(e.indexOf(f)<0){e=f+" "+e}if($(".dayamount").length){$(".dayamount").text(e)}if($(".no_nights_helper").length){$(".no_nights_helper").text("("+e+")")}}}if($(".calendarFrom").length){$(".calendarFrom .ct_month").text(d.b_short_months[parseInt(this.from.month)-1]);$(".calendarFrom .ct_day").text(this.from.day);if($(".calendarTill").length){$(".calendarTill .ct_month").text(d.b_short_months[parseInt(this.till.month)-1]);$(".calendarTill .ct_day").text(this.till.day)}}},updatePrevNextLinks:function(e,f){var j=this;var h=this.dateAfterDays(this.tomorrow,(this.maxDaysInFuture-2));var g=($(f).parents(".calendarTill").length)?this.viewDateTill:this.viewDateFrom;$(".nextmonth",f.parentNode).each(function(){if(j.dateAfterDays(g,0,1,true)>h){$(this).addClass("disabled")}else{$(this).removeClass("disabled")}});$(".prevmonth",f.parentNode).each(function(){if(j.dateAfterDays(g,0,-1,true)<j.tomorrow){$(this).addClass("disabled")}else{$(this).removeClass("disabled")}});j.selectOption($("select",f.parentNode),g.getFullYear()+"-"+(g.getMonth()+1))},rebuildDaySelect:function(g,e){var l="&nbsp;";if(e){var n=this.till.month;var o=this.till.year;var j=this.till.day;if(j==null||booking.env.keep_day_month){l='<option style="text-transform:capitalize;" value="0">'+d.day+"</option>"}}else{var n=this.from.month;var o=this.from.year;var j=this.from.day;if(j==null||booking.env.keep_day_month){l='<option style="text-transform:capitalize;" value="0">'+d.day+"</option>"}}$(g).html(l);var q=this.getDaysInMonth(n,o);for(var k=1;k<=q;k++){var f=new Date(o+"/"+n+"/"+k+" 00:00:00");var h=(f.getDay()>0)?f.getDay()-1:6;var m=d.b_simple_weekdays_for_js[h]+" "+k;if((d.b_lang=="ja")||(d.b_lang=="zh")||(d.b_lang=="ko")||(d.b_lang=="hu")){m=k+" "+d.b_simple_weekdays_for_js[h]}$(g).append('<option value="'+k+'"'+((j==k)?' selected="selected"':"")+">"+m+"</option>")}},rebuildCalendarTable:function(q,g,r,t){if(q.parentNode.style.display!="none"){var u=parseInt(new Date(t+"/"+r+"/1").getDay())-2;if(d.b_site_experiment_calendar_sunday_first){u+=1}else{if(u<0){u=7+u}}for(var n=0;n<42;n++){var m=n-u;var e=$("tr td",q).get(n);if(m>0&&m<=this.getDaysInMonth(r,t)){var h=new Date(t+"/"+r+"/"+m+" 00:00:00");if(h<this.today||(g&&h<this.tomorrow)||h>this.endOfYear1||(!g&&h>this.endOfYear2)){if(h-this.today==0){$(e).html('<span class="today">'+m+"</span>")}else{$(e).html("<span>"+m+"</span>")}}else{var o="";if(h-this.today==0){o="today"}if(h-this.till.date==0){o+=g?" selected":" endsel"}if(h-this.from.date==0){o+=g?" endsel":" selected"}if(h<this.till.date&&h>this.from.date){o+=" inbetween"}if(d.b_fd_hotel_dates){for(var l=0;l<d.b_fd_hotel_dates.length;l++){var k=new Date(d.b_fd_hotel_dates[l].replace(/-/g,"/")+" 00:00:00");var f=h-k;if(h-k==0){o+=" flashdeals"}}}$(e).html('<a href="#" class="'+o+'">'+m+"</a>")}}else{$(e).html("&nbsp;")}}this.updatePrevNextLinks(true,q)}},noHourDate:function(f){var e=(typeof f==="undefined"||f===null)?(this.userServDate?new Date(this.syncDate):new Date()):f;e.setHours(0);e.setMilliseconds(0);e.setMinutes(0);e.setSeconds(0);return e},getDaysInMonth:function(g,e){var f=[31,(function(){return((((e%4)===0)&&((e%100)!==0)||((e%400)===0))?29:28)})(),31,30,31,30,31,31,30,31,30,31];return f[g-1]},selectOption:function(g,k,f){var e=false;var j=$("option",g);for(var h=0;h<j.length;h++){if(k&&k!=""){if($(j[h]).val()==k){j[h].selected=true;e=true}else{j[h].selected=false}}if(f&&f!=""){if($(j[h]).text()==k){j[h].selected=true;e=true}else{j[h].selected=false}}}return e},dateAfterDays:function(o,j,l,n){var e=this.oneDayInMS*j;var k=12;if(n){o.setDate(1)}if(l){var f=this.noHourDate(o);if(l>k||l<-1*k){o.setFullYear(o.getFullYear()+parseInt(l/k));l=l%k}if(l!=0){var g=o.getMonth();if(g+l>k){o.setFullYear(o.getFullYear()+1);o.setMonth((g+l)-k)}else{if(g+l<0){o.setFullYear(o.getFullYear()-1);o.setMonth((g+l)+k)}else{o.setMonth(g+l)}}}}var h=new Date((this.noHourDate(o)*1)+e);if(o.getTimezoneOffset()!=h.getTimezoneOffset()){var m=o.getTimezoneOffset()-h.getTimezoneOffset();m=((m<0)?~m+1:m)*60*1000;if(m>0){h=new Date((this.noHourDate(o)*1)+e+m)}}return h},openPopupCalendar:function(m){var o=$("#calendar_popup").get(0);var j="";switch(m.nodeName.toLowerCase()){case"a":j=m.href.split("#")[1];break;case"input":j=m.name;break;case"select":j=m.name;break;default:break}var e=Number((d.b_site_experiment_calendar_with_input)?$(m).outerHeight():0);var n=10+e;var l=$(m).offset().top+n;var k=$(m).offset().left;if(d.rtl){k=k-211}var f=$(window).height();var h=$(document).scrollTop();var g=$(window).width();if(g<k+230){if(g-230>0){k=g-230}}if(f+h<l+230){if(l-h-250>0){l=l-250-e}else{l=f+h-250}}$("#calendar_popup").css({top:l+"px",left:k+"px"}).show();if(this.calendarTypes[j]&&this.calendarTypes[j].isTill){$(o).addClass("calendarTill");this.rebuildCalendarTable($("table",o).get(0),true,this.viewDateTill.getMonth()+1,this.viewDateTill.getFullYear())}else{$(o).removeClass("calendarTill");this.rebuildCalendarTable($("table",o).get(0),false,this.viewDateFrom.getMonth()+1,this.viewDateFrom.getFullYear())}if(d.b_site_experiment_improve_calendar_closing){$("body").bind("close_calendar",this.closeHandler)}},closeHandler:function(){c.closePopupCalendar()},closePopupCalendar:function(){$("#calendar_popup").removeClass("calendarTill").hide();if(d.b_site_experiment_improve_calendar_closing){$("body").unbind("close_calendar",this.closeHandler)}}};if(d.b_site_experiment_calendar_lazy_init){c.init=function(){var e=this;this.ready=false;$(".calendarLink").click(function(){e.openPopupCalendar(this);return false});$('select[name^="check"]').mouseenter(function(){e.start()})};c.start=function(){if(this.ready){return}this.ready=true;if(d.b_site_experiment_fix_user_dates){var h=d.b_current_datetime;this.syncDate=h.replace(/-/gi,"/");var j=new Date(this.syncDate);j.setDate(j.getDate()+1);var g=new Date();this.syncDate=new Date(this.syncDate);this.syncDate.setDate(this.syncDate.getDate()-0.5);if(j<g){this.userServDate=true;this.viewDateFrom=new Date(this.syncDate);this.viewDateTill=new Date(this.syncDate)}else{var f=new Date(this.syncDate);f.setDate(f.getDate()-1);if(f>g){this.userServDate=true;this.viewDateFrom=new Date(this.syncDate);this.viewDateTill=new Date(this.syncDate)}}}this.maxYearsInFuture();this.initAddHandlers();if(d.b_site_experiment_calendar_with_input){for(var e=0;e<this.calendars.length;e++){if(this.calendars[e]){$(this.calendars[e]).closest(".calendar_with_input").removeClass("calendar_with_input__loading")}}}};c.openPopupCalendar=function(m){this.start();var o=$("#calendar_popup").get(0);var j="";switch(m.nodeName.toLowerCase()){case"a":j=m.href.split("#")[1];break;case"input":j=m.name;break;case"select":j=m.name;break;default:break}var e=Number((d.b_site_experiment_calendar_with_input)?$(m).outerHeight():0);var n=10+e;var l=$(m).offset().top+n;var k=$(m).offset().left;if(d.rtl){k=k-211}var f=$(window).height();var h=$(document).scrollTop();var g=$(window).width();if(g<k+230){if(g-230>0){k=g-230}}if(f+h<l+230){if(l-h-250>0){l=l-250-e}else{l=f+h-250}}$("#calendar_popup").css({top:l+"px",left:k+"px"}).show();if(this.calendarTypes[j]&&this.calendarTypes[j].isTill){$(o).addClass("calendarTill");this.rebuildCalendarTable($("table",o).get(0),true,this.viewDateTill.getMonth()+1,this.viewDateTill.getFullYear())}else{$(o).removeClass("calendarTill");this.rebuildCalendarTable($("table",o).get(0),false,this.viewDateFrom.getMonth()+1,this.viewDateFrom.getFullYear())}if(d.b_site_experiment_improve_calendar_closing){$("body").bind("close_calendar",this.closeHandler)}}}})();booking[sNSStartupLoad].change_dates={priority:9,init:function(){if(typeof trigger_error_template_event_tracking!="undefined"&&trigger_error_template_event_tracking===true){booking.google.trackEvent(booking.google.pageviewTracker,"Error Template (Aggregate)",b_errors);if(b_this_referer!=""){booking.google.trackEvent(booking.google.pageviewTracker,"Error Template (Referrer)",b_this_referer+" - "+b_errors)}booking.google.trackEvent(booking.google.pageviewTracker,"Error Template (RequestURL)",b_this_url+" - "+b_errors)}if(booking.env.b_page="send_change_dates"){$("#message_changing-dates").fadeIn();$("#change_dates").submit(function(){var e=$("input[name=do]");var c=$("#change_dates input[name=checkin_date]").val();var d=$("#change_dates input[name=checkout_date]").val();if(c.length>0||d.length>0){cin_yymm=$("#checkin_year_month").val();cin_dd=$("#checkin_day").val();cin_yymmdd=cin_yymm+"-"+cin_dd;cout_yymm=$("#checkout_year_month").val();cout_dd=$("#checkout_monthday").val();cout_yymmdd=cout_yymm+"-"+cout_dd;a=c.replace(/-0/g,"-");b=d.replace(/-0/g,"-");if(a!=cin_yymmdd||b!=cout_yymmdd){e.val("dochangedates")}}})}}};function switchDateStack(c,e){var d=c;if($(c).parents("div").length){d=$(c).parents("div").get(0)}var f=0;while(d){if(d.nodeName.toLowerCase()=="div"){f++;if(f==e){d.style.display="block"}else{if(!booking.env.b_site_experiment_do_not_hide_availablity){d.style.display="none"}}}d=d.nextSibling}}function switchDateFlashDeal(c,d){if(!booking.env.b_site_experiment_new_change_dates_hp){$("div#editDates").css("display","block");$("div#available_rooms_header1").css("display","none")}}booking[sNSStartup].validatedate={priority:9,init:function(){$("#frm, #hotelpage_availform").submit(function(){var c=booking[sNSStartup].validatedate.validate(this);if(!c&&this.id==="hotelpage_availform"){booking.env.trackExperiment(booking.env.js_experiment_tracking.hp_no_dates_error_improve);if(booking.env.b_site_experiment_hp_no_dates_error_improve===1){booking[sNSStartup].calendar.openPopupCalendar($(".checkinDateSection .calendarLink").get(0))}else{if(booking.env.b_site_experiment_hp_no_dates_error_improve===2){booking.popupChangeDates.show()}}}return c});$("#fd_dates, #fd_flashdeals").submit(function(){return booking[sNSStartup].validatedate.validate(this)});$("#labfor").click(function(){checkbox_status="";if($("#availcheck").is(":checked")){checkbox_status="Uncheck"}else{checkbox_status="Check"}booking.google.trackEvent(booking.google.clickTracker,booking.env.b_action+" | searchbox checkbox",checkbox_status)})},validate:function(oForm){var sError="";var today=new Date();var sErrorIsNeedDates=false;if(booking.env.b_site_experiment_fix_user_dates){var checkUserDate=booking.env.b_current_datetime;syncDate=checkUserDate.replace(/-/gi,"/");var checkTomorrow=new Date(syncDate);checkTomorrow.setDate(checkTomorrow.getDate()+1);if(checkTomorrow<today){today=new Date(syncDate)}else{var checkYesterday=new Date(syncDate);checkYesterday.setDate(checkYesterday.getDate()-1);if(checkTomorrow>today){today=new Date(syncDate)}}}today.setHours("0");today.setMinutes("0");today.setSeconds("0");today.setMilliseconds("0");if($("select[name=checkin_monthday]",oForm).length&&$("select[name=checkin_year_month]",oForm).length&&$("select[name=checkout_monthday]",oForm).length&&$("select[name=checkout_year_month]",oForm).length){if($("#availcheck:checked",oForm).length){return true}var oCheckinD=$("select[name=checkin_monthday]",oForm).get(0);var oCheckinYM=$("select[name=checkin_year_month]",oForm).get(0);var oCheckoutD=$("select[name=checkout_monthday]",oForm).get(0);var oCheckoutYM=$("select[name=checkout_year_month]",oForm).get(0);var checkinYM=$(oCheckinYM).val();var checkinD=parseInt($(oCheckinD).val());var checkoutYM=$(oCheckoutYM).val();var checkoutD=parseInt($(oCheckoutD).val());if((typeof checkinYM!="undefined")){var checkinY=checkinYM.split("-")[0];var checkoutY=checkoutYM.split("-")[0];var checkinM=parseInt(checkinYM.split("-")[1]);var checkoutM=parseInt(checkoutYM.split("-")[1]);var checkin=new Date(checkinY,checkinM-1,checkinD);var checkout=new Date(checkoutY,checkoutM-1,checkoutD);if(checkinYM=="0"||checkinD=="0"){if(checkoutYM=="0"||checkoutD=="0"){sError=booking.env.to_check_availability_please_enter_your_dates_of_stay;if(booking.env.b_site_experiment_remove_no_dates_box){sError+=' <a href="#" id="swd">'+booking.env.click_here_to_search_without_dates+"</a>"}sErrorIsNeedDates=true}else{sError=booking.env.please_enter_your_check_in_date}}else{if(checkoutYM=="0"||checkoutD==0){sError=booking.env.please_enter_your_check_out_date}else{if((checkinY>checkoutY)||((checkinY==checkoutY)&&(eval(checkinYM)<eval(checkoutYM)))||((checkinYM==checkoutYM)&&(checkinD>checkoutD))){sError=booking.env.error.checkout_date_not_after_checkin_date.name}}}if(sError==""&&(booking.env.b_site_experiment_add_js_validation)){if(checkin.getTime()<today.getTime()&&!(checkin.getTime()>today.getTime()-86400005&&booking.env.b_site_experiment_fix_timezone_error)){sError=booking.env.error.checkin_date_in_the_past.name}else{if((checkout-checkin)/86400000>30){sError=booking.env.error.checkout_date_more_than_30_days_after_checkin.name}else{if(checkin>checkout){sError=booking.env.error.checkout_date_not_after_checkin_date.name}}}}}}if(sError!=""){if($(".dateerrors",oForm).length){var errorField=$(".dateerrors",oForm).get(0);if(sErrorIsNeedDates){$("#inout select").change(function(){$("#friendly_error_popup").remove()});$(".calendar").click(function(){$("#friendly_error_popup").remove()});$("#friendly_error_popup span.close_errormsg").live("click",function(){$("#friendly_error_popup").remove()});$("#inout .avail, .toggle_overview, .toggle_review").live("click",function(){$("#friendly_error_popup").remove()});if($("#friendly_error_popup").length==0){var last_dropdown_searchbox=$("#inout select").eq(3);if(booking.env.b_action=="hotel"||booking.env.b_action=="searchresults"){last_dropdown_searchbox=$(".leftsmall #inout select").eq(1)}if(booking.env.b_site_experiment_calendar_with_input){last_dropdown_searchbox=$("#inout input.check_date").eq(1)}var last_dropdown_offset=last_dropdown_searchbox.offset();var last_dropdown_hotelpage=$("#hotelpage_availform select").eq(3);if(booking.env.b_site_experiment_calendar_with_input){last_dropdown_hotelpage=$("#hotelpage_availform input.check_date").eq(1)}if(booking.env.nodates_popup_up){last_dropdown_hotelpage=$("#hotelpage_availform select").eq(0)}var last_dropdown_hotelpage_offset=last_dropdown_hotelpage.offset();var first_dropdown_searchbox=$("#inout select").eq(0);var first_dropdown_offset=last_dropdown_searchbox.offset();if(booking.env.no_dates_tooltip_bug){var homeinPos=($("#checkin_year_month").position().top-18);var nodates_popup_upRight=-255;if($.browser.msie&&$.browser.version==="7.0"){nodates_popup_upRight=-200}}if(booking.env.b_lang=="ar"||booking.env.b_lang=="he"){if(booking.env.no_dates_tooltip_bug){var errorHTML='<div id="friendly_error_popup" style="direction:ltr;background-position:center right;top:'+homeinPos+"px;left:"+(nodates_popup_upRight+50)+'px"><div class="wrapper"><span class="close_errormsg"></span><p>'+booking.env.view_prices_enter_dates+"</p></div></div>";$("#inout").css({position:"relative","z-index":"999"}).append(errorHTML)}else{var errorHTML='<div id="friendly_error_popup" style="top:'+(first_dropdown_offset.top-20)+"px;left:"+(first_dropdown_offset.left-260)+'px;"><div class="wrapper"><span class="close_errormsg"></span><p>'+booking.env.view_prices_enter_dates+"</p></div></div>";$(document.body).append(errorHTML)}}else{if(oForm.id=="hotelpage_availform"){console.info(booking.env.nodates_popup_up);if(booking.env.nodates_popup_up){var errorHTML='<div id="friendly_error_popup" class="hotelpage new_change_dates" style="top:'+(last_dropdown_hotelpage_offset.top-90)+"px;left:"+(last_dropdown_hotelpage_offset.left-150)+'px;"><div class="wrapper"><span class="close_errormsg"></span><p>'+booking.env.view_prices_enter_dates+"</p></div></div>"}else{var errorHTML='<div id="friendly_error_popup" class="hotelpage" style="top:'+(last_dropdown_hotelpage_offset.top-20)+"px;left:"+(last_dropdown_hotelpage_offset.left+last_dropdown_hotelpage.width()+10)+'px;"><div class="wrapper"><span class="close_errormsg"></span><p>'+booking.env.view_prices_enter_dates+"</p></div></div>"}}else{if(booking.env.no_dates_tooltip_bug){var errorHTML='<div id="friendly_error_popup" style="top:'+homeinPos+"px;right:"+nodates_popup_upRight+'px"><div class="wrapper"><span class="close_errormsg"></span><p>'+booking.env.view_prices_enter_dates+"</p></div></div>";$("#inout").css({position:"relative","z-index":"100"}).append(errorHTML)}else{var errorHTML='<div id="friendly_error_popup" style="top:'+(last_dropdown_offset.top-20)+"px;left:"+(last_dropdown_offset.left+last_dropdown_searchbox.width()+10)+'px;"><div class="wrapper"><span class="close_errormsg"></span><p>'+booking.env.view_prices_enter_dates+"</p></div></div>";$(document.body).append(errorHTML)}}}}}else{var errorHTML='<span class="exclamation exclamation_daterrrors">&nbsp;!&nbsp;</span><p class="error errors_dateerros">'+sError+"</p>";errorField.innerHTML=errorHTML;errorField.style.display="block"}$("#swd").click(function(){document.getElementById("availcheck").checked="checked";document.getElementById("frm").submit();return false});return false}else{return true}}else{return true}}};function noDatesPopup(c){if(document.getElementById("checkin_day").value==0||document.getElementById("checkin_year_month").value==0||document.getElementById("checkout_monthday").value==0||document.getElementById("checkout_year_month").value==0){document.location=document.location+"#top";alert(c)}else{document.getElementById("availcheck").checked=false;document.getElementById("frm").submit()}}var $_dot_or_comma={USD:".",EUR:",",BRL:",",CAN:",",RUB:","};var $_decimal_by_lang={ca:$_dot_or_comma,cs:$_dot_or_comma,da:$_dot_or_comma,de:$_dot_or_comma,el:$_dot_or_comma,en:{},es:$_dot_or_comma,es_us:{},es_mx:{},fi:$_dot_or_comma,fr:$_dot_or_comma,hu:$_dot_or_comma,it:$_dot_or_comma,ja:{},nl:$_dot_or_comma,no:$_dot_or_comma,pt:$_dot_or_comma,pl:$_dot_or_comma,ro:$_dot_or_comma,ru:$_dot_or_comma,sv:$_dot_or_comma,tr:$_dot_or_comma,zh:{}};var lang,currency,country;var original_persons_count=null;$(function(){lang=$("html").attr("lang");currency=$("#currList").val();country=$("meta[name=country]").attr("content");$(".bookExtra").show();if(original_persons_count==null){original_persons_count=parseInt($("#person_count").text());if(isNaN(original_persons_count)){original_persons_count=parseInt($(".person_count:first").text())}}$("select.number_guests").change(function(){var h=$(this);var f=h.val();if(booking.env.b_site_experiment_one_page_bookprocess){var g=h.parents(".room_item").find(".addon")}else{var g=h.parents("table:first").find(".addon")}var j;g.each(function(){var t=$(this);var o=t.find(".number_guests");o.html(f);var k=o.length?f:1;var r=t.find(".price_per_unit");var m=r.attr("price");var u=r.attr("price_hotel");var l=t.find("span.addon_price");var v=t.find(".number_nights").text()||r.attr("nights")||1;var n=t.find("span.addon_price");var q=((m>0)?m:u)*v*k;n.html(n.attr("currency")+format_price(q));n.attr("price",q);n.attr("price_hotel",format_price(u*v*k))});show_addons_cost();update_persons_count()});$("tr.dropdowns td select").change(function(){var l=$(this);var g=$(this).parents("tr.dropdowns").find(".price_per_unit");var j=l.find("option:selected").text();var k=g.attr("nights");var m=g.attr("price");var f=g.attr("price_hotel");var h=((m>0)?m:f)*k*j;l.attr("price",h);l.attr("price_hotel",format_price(f*k*j));show_addons_cost()});$("input:checkbox[name^=addon]").click(show_addons_cost);$(".extrabed").click(function(){$("select.number_guests").trigger("change")});$("input:checkbox[name^=insurance]").click(function(){var k=1*($("#cost_with_addons").attr("tc")||0);var f=1*(this.checked?($("#insurance_cost").attr("price")||0):0);var j=$("#selected_currency_symbol").text();$("#cost_with_addons").html(format_price(k+f));if(j){var h=1*$("#s_cost_with_addons").attr("tc");var g=1*(this.checked?($("#s_insurance_cost").attr("price")||0):0);$("#s_cost_with_addons").html(format_price(h+g))}if(this.checked){$("#insurance_div").show();$(".ovTotalCost").show()}else{$("#insurance_div").hide()}});var e={nl:1,dk:1,fi:1,se:1,de:1,it:1,ch:1,pt:1,at:1,es:1,de:1,fr:1,ie:1,be:1,cy:1,cz:1,ee:1,hu:1,gr:1,lv:1,lt:1,lu:1,no:1,pl:1,sk:1,ro:1};$("select[name=cc1]").change(function(){var f=$(this).val();if(e[f]==1){$("#insurance_wrapper").show();$("input:checkbox[name^=insurance]").removeAttr("disabled")}else{$("#insurance_wrapper").hide();$("input:checkbox[name^=insurance]").attr("disabled","disabled")}});$("tr.dropdowns .totPrice select").trigger("change");var c=$("input:checkbox[name^=addon]:checked").length;var d=$(".dropdowns select .notnull:selected").length;if(c||d){show_addons_cost()}if(e[$("select[name=cc1] option:selected").val()]==1){$("#insurance_wrapper").show();$("input:checkbox[name^=insurance]").removeAttr("disabled")}});function show_addons_cost(){var h=$("input:checkbox[name^=f_addon]:checked, input:checkbox[name^=addon]:checked, select.addon_price option.notnull:selected").parents("tr.addon").find(".addon_price");var k=0,o=0;var d={city_tax:0,vat:0,service_charge:0};var m={city_tax:0,vat:0,service_charge:0};h.each(function(){var r=$(this);d.addons=d.addons||0;d.addons+=1*r.attr("price_hotel");m.addons=m.addons||0;m.addons+=1*r.attr("price");r.nextAll(".addon_tax").each(function(){var u=$(this);var t=u.attr("name");var v=1*u.val();if(t.match(/^s_/)){t=t.replace(/^s_/,"");m[t]=m[t]||0;m[t]+=v}else{d[t]=d[t]||0;d[t]+=v}});r.nextAll(".addon_tax_percentage").each(function(){var v=$(this);var u=v.attr("name");var t=1*v.val();d[u]=d[u]||0;d[u]+=t*r.attr("price_hotel");m[u]=m[u]||0;m[u]+=t*r.attr("price")})});var j=1*($("#total_cost").attr("price")||0);var l=j;for(var g in d){var e=$("#"+g+"_cost");var f=1*(e.attr(g)||0);var q=f+d[g];j+=q;e.html(format_price(q))}$("#cost_with_addons").html(format_price(j));var c=$("#selected_currency_symbol").text();if(c){var n=1*($("#s_total_cost").attr("price")||0);for(var g in m){var e=$("#s_"+g+"_cost");var f=1*(e.attr(g)||0);var q=f+m[g];n+=q;e.html(format_price(q))}$("#s_cost_with_addons").html(format_price(n))}if(booking.env.b_site_experiment_extracharges_breakdown){if(d.addons>0){$(".cost").show();$(".ovTotalCost").show();$("#rack-rate-total-user-currency").hide();$("#rack-rate-total-hotel-currency").hide();$("#rack-rate-total-percentage").hide()}else{$(".cost").hide();$("#rack-rate-total-user-currency").show();$("#rack-rate-total-hotel-currency").show();$("#rack-rate-total-percentage").show();if($(".included","#pricedetails").length<2){if(l==j){$(".ovTotalCost").hide();$("#rack-rate-total-user-currency").show();$("#rack-rate-total-hotel-currency").show();$("#rack-rate-total-percentage").show()}else{$(".ovTotalCost").show();$("#rack-rate-total-user-currency").hide();$("#rack-rate-total-hotel-currency").hide();$("#rack-rate-total-percentage").hide()}}}}else{if(d.addons>0){$(".cost").show();$(".ovTotalCost").show();$("#rack-rate-total-user-currency").hide();$("#rack-rate-total-hotel-currency").hide();$("#rack-rate-total-percentage").hide()}else{$(".cost").hide();$("#rack-rate-total-user-currency").show();$("#rack-rate-total-hotel-currency").show();$("#rack-rate-total-percentage").show();if(l==j){$(".ovTotalCost").hide();$("#rack-rate-total-user-currency").show();$("#rack-rate-total-hotel-currency").show();$("#rack-rate-total-percentage").show()}else{$(".ovTotalCost").show();$("#rack-rate-total-user-currency").hide();$("#rack-rate-total-hotel-currency").hide();$("#rack-rate-total-percentage").hide()}}}if($(".extrabed :checked").length){$("#extrabed_remark").show();$(".extrabed_var_is_included").show();$(".extrabed_var_is_excluded").hide()}else{$("#extrabed_remark").hide();$(".extrabed_var_is_included").hide();$(".extrabed_var_is_excluded").show()}if($("li.total").hasClass("updated")){$("li.total").removeClass("updated")}else{$("li.total").addClass("updated").delay(600).queue(function(r){$(this).removeClass("updated");r()})}}function update_persons_count(){var c=0;$("select.number_guests").each(function(){c+=parseInt($(this).val())});$("input[type=checkbox].is_extrabed:checked").each(function(){c+=1});var d=$("#person_count");if(d.length==0){d=$(".person_count");var e="";d.each(function(){e=$(this).text().replace(/[0-9]+/,c);$(this).html(e)})}else{var e=d.text().replace(/[0-9]+/,c);d.html(e)}}function format_price(f){var e=(Math.round(f*100)/100)+"";if(e.match(/\.\d$/)){e+="0"}var d=country.toLowerCase();var g=$_decimal_by_lang[lang+"_"+d]||$_decimal_by_lang[lang];var c=g?g[currency]||".":".";return e.replace(/\./,c)}booking[sNSStartup].addons={priority:9,init:function(){$("#insurance_button").click(function(){$(this).toggleClass("hover");$("#insurance_panel").toggle()});return true}};booking[sNSExperiments].free_cancellation_fake_addon={priority:9,init:function(){$(".free-cancellation input").removeAttr("checked");$(".free-cancellation input").click(function(){var k=$(this).attr("name").split("_");var m=$(this).attr("value");var g=k[2]+"_"+k[3]+"_"+k[4];var c=$("input[name='nr_rooms_"+g+"']").attr("value");var e=$("input[name='nr_rooms_"+m+"']").attr("value");var l;var h;var f=$("#bookForm input[name='total_cost']");var d=parseFloat(f.attr("value"));var j=parseFloat($(this).parents("tr.addon").find(".addon_price").attr("price_hotel"));if(this.checked){$("input[name='nr_rooms_"+g+"']").attr("value",--c);$("input[name='nr_rooms_"+m+"']").attr("value",++e);l=g;h=m;d+=j}else{$("input[name='nr_rooms_"+g+"']").attr("value",++c);$("input[name='nr_rooms_"+m+"']").attr("value",--e);l=m;h=g;d-=j}f.attr("value",d);var n=$(this).parents(".bookstep2").get(0);console.info(n);$("input",n).each(function(){if($(this).attr("name").indexOf("f_addon")<0){$(this).attr("name",$(this).attr("name").replace(l,h));$(this).attr("id",$(this).attr("id").replace(l,h))}});$("select",n).each(function(){$(this).attr("name",$(this).attr("name").replace(l,h));$(this).attr("id",$(this).attr("id").replace(l,h))});show_addons_cost()});return true}};booking[sNSExperiments].ajax_filters=(function(){var f="=!=!=";var q=false;var m={};var n;var v;var k=[];var x=function(z,A){m[z]={timestamp:+new Date(),value:A}};var y=function(A){var B=m[A];var z=+new Date();if(B&&(z-B.timestamp)<600000){return B.value}};var u=function(){var A=$(".sorth1").offset().top;var z=$(window).scrollTop();if(z>A){window.scrollTo(0,A)}};var h=function(z){if(typeof history.pushState!=="undefined"){history.pushState({url:z},null,z)}else{location.hash="#!"+z}};var d=function(z,H){var G=z.replace(booking.env.b_url_start,"").replace(/;;/g,";").replace(/^;+|;+$/g,"").split("?");var D=G[1].split(";");var E,F=D.length;var B,A,C=[];for(E=0;E<F;E++){B=D[E].split("=");if(B[0]==="nflt"){A=decodeURIComponent(B[1]).replace(/;;/g,";").replace(/^;+|;+$/g,"");if(A){C=A.split(";")}D.splice(E,1);break}}if(typeof H==="function"){H(D,C)}D.push("nflt="+encodeURIComponent(C.sort().join(";")));return G[0]+"?"+D.sort().join(";")};var g=function(A){var z=A.split("=")[0];return d(v,function(C,B){if(z==="pr"){o(A,C)}else{B.push(A);if(z==="district"){t(C)}}})};var o=function(E,D){var B,A=D.length;var C=false;var z;for(B=0;B<A;B++){if(D[B].split("=")[0]==="pr"){C=true;z=E.split("=")[1]+","+D[B].split("=")[1];z=z.split(",");z=$.map(z,function(F){return parseInt(F,10)});z.sort(function(G,F){return G-F});if(z[0]===-1){z.splice(0,1);z.push(-1)}D[B]="pr="+z[0]+","+z[z.length-1];break}}if(!C){D.push(E)}};var j=function(A){var z=A.split("=")[0];return d(v,function(D,C){if(z==="pr"){l(A,D)}else{var B=C.length;while(B--){if(C[B]===A){C.splice(B,1)}}if(z==="district"){c(D)}}})};var l=function(B,D){var E,F=D.length;for(E=0;E<F;E++){if(D[E].split("=")[0]==="pr"){var I=D[E].split("=")[1].split(",");var A=parseInt(I[0],10);var z=parseInt(I[1],10);var C=B.split("=")[1].split(",");var H=parseInt(C[0],10);var G=parseInt(C[1],10);if(A===H&&z===G){D.splice(E,1)}else{if(A===H){D[E]="pr="+G+","+z}else{if(z===G){D[E]="pr="+A+","+H}}}break}}};var t=function(z){c(z);z.push("radius=0")};var c=function(A){var z=A.length;while(z--){if(/^radius=/.test(A[z])){A.splice(z,1)}}};var e=function(D,A,z){if(!z){z={}}var C=D.split(f);if($(C[2]).find("table.hotellist > tbody > tr").length===0){var E=k.pop();if(E){w(E);return false}}$(document.body).unbind("mousemove.tooltip");k=[];var G=[];$("#filterbox_wrap .filtercategory").each(function(){var H=$(this);if(!H.hasClass("toggla_hide")){G.push(H.parent().attr("id"))}});$("#filterbox_wrap").html(C[0]);$.each(G,function(I,H){var J=$("#"+H);J.find(".filtercategory").removeClass("toggla_hide");J.find(".filteroptions").hide()});var F=$(C[1]).filter("#breadcrumb");if(F.length){$("#breadcrumb").empty().append(F.contents())}else{$("#breadcrumb").html(C[1])}$("h1.sorth1").html(C[2]);var B=document.getElementById("ajaxsrwrap");$(B).html(C[3]);booking[sNSStartupLoad].tooltip_3.addTooltip(B);booking[sNSStartupLoad].search_all_roomtypes.addMoreLink(B);booking[sNSStartup].filterbox.init();booking[sNSStartup].sort_popups.init();if(booking.env.b_site_experiment_pin_sortbar){booking[sNSExperiments].pin_sortbar.init()}if(booking.env.b_site_experiment_change_currency_on_click){booking[sNSExperiments].change_currency_on_click.init()}$(".address a, .broaden_search a, .prevnextbar a, a.filterelement, #sort_by a").each(function(){if(this.href.indexOf("standalonesearchresults.")>-1){this.href=this.href.replace("standalone","")}});if(z.scrollToTop===undefined||z.scrollToTop){u()}if(z.saveUrl===undefined||z.saveUrl){h(A)}};var w=function(A,z){if(!z){z={}}var B=y(A);v=A;if(B){e(B,A,z);return}q=true;booking[sNSStartup].filterbox_loading.show();setTimeout(function(){n=$.ajax({cache:true,url:A.indexOf("standalonesearchresults")>-1?A:A.replace("searchresults.","standalonesearchresults."),success:function(C){if(A!==v){return}q=false;e(C,A,z);x(A,C)}})},15)};var r=function(){x(location.pathname+location.search,$("#filterbox_wrap").html()+f+$("#breadcrumb").html()+f+$("h1.sorth1").html()+f+$("#ajaxsrwrap").html());var B=location.href.split("#!")[1];if(B){w(B,{scrollToTop:false,saveUrl:false})}$("a.filterelement").live("click",function(){var E=$(this);if(E.hasClass("cantdeselect")){return false}var F=this.getAttribute("data-id").replace(/^(.+)[\-_](\d+)$/,"$1=$2");if(/^pricerange=/.test(F)){F=this.getAttribute("data-param")}var D=F.split("=")[0];var C;if(q){q=false;if(n){n.abort()}if(v){k.push(v)}C=E.hasClass("active")?j(F):g(F)}else{C=d(this.href)}if(booking.env.filter_config[D]==="single"){E.siblings().toggle(E.hasClass("active"))}E.removeClass("on").toggleClass("active").blur();w(C);return false});$(window).bind("hashchange",function(){var C=location.href.split("#!")[1];if(!C){w(location.pathname+location.search,{saveUrl:false})}else{if(C!==v){w(C,{saveUrl:false})}}});var A=("state" in window.history);var z=location.href;$(window).bind("popstate",function(D){var C=!A&&location.href===z;A=true;if(C){return}var E=D.originalEvent.state;if(!E){w(location.pathname+location.search,{saveUrl:false})}else{if(E.url!==v){w(E.url,{saveUrl:false})}}})};return{init:r}}());booking[sNSExperiments].bp_cart={init:function(){$.ajax({url:"/cart",dataType:"json",success:function(c){$.each(c,function(g,e){if(g==0){var f=$("#bp_cart");var d=function(h){return'<a class="clear_cart" href="#" id="bp_cart_clear">'+booking.env.bp_cart_abandon_close+'</a><a class="proceed" title="'+h.hotel_name+'" href="'+h.secure_hostname+h.book_url+'">'+booking.env.bp_cart_abandon_complete_book_01+'<span class="cart_cta_button">'+booking.env.bp_cart_abandon_complete_book_02+"</span></a>"};f.html(d(e));f.show();$("body").addClass("cart_is_active");$("#bp_cart_clear").click(function(){$.ajax({url:"/cart_clear",dataType:"json",success:function(){$("body").removeClass("cart_is_active");$("#bp_cart").css("display","none")}})})}})}})}};var track_currency_on_click=true;$(".mouse_hover_currency").hover(function(){if(track_currency_on_click){booking.env.trackExperiment(booking.env.js_experiment_tracking.change_currency_on_click);track_currency_on_click=false}});booking[sNSExperiments].change_currency_on_click={priority:9,init:function(){var f=booking.env,c="",h;if(f.b_site_experiment_change_currency_on_click){if(booking.currencyDropdownOptions&&f.b_site_experiment_change_currency_performance){c=booking.currencyDropdownOptions;if(f.change_currency_hotel_anchor){h="&amp;"+f.change_currency_hotel_anchor;c=c.replace(/href\s*\=\s*\'([\w/=%_&\-.;?]*)\s*\'/ig,"href='$1"+h+"'")}}else{$("#click_currencyChange select option").each(function(){var n=$(this),m=n.attr("label"),j=n.attr("value"),k;var l="<span class='selsymbol'>"+m+"</span><span class='seldescription'>"+n.text()+"</span>";if(n.hasClass("currency_split")){k="<strong class='currency_split'>"+n.text()+"</strong>"}else{k="<a ";if(!n.hasClass("selected_currency")){k+="href='"+$("#link_with_currency").val()+"="+j;if(f.ppcref_langchanger){k+="&amp;ppcref=1"}if(f.change_currency_hotel_anchor){k+="&amp;"+f.change_currency_hotel_anchor}k+="'"}k+=">"+l+"</a>"}if(n.hasClass("selected_currency")){c+="<li class='selected_currency'>"+k+"</li>"}else{c+="<li>"+k+"</li>"}})}$("#click_current_currency_foldout ul").append(c);var e=$("#click_current_currency_foldout"),g,d=$("#click_current_currency_foldout a");$(".click_change_currency").click(function(k){var j=$(this);if(!e.is(":hidden")){e.slideUp()}else{j.after(e);e.slideDown();$("#tooltip").hide();var l=j.closest("tr.flash_deal_soldout");g=l.children(0).attr("id")}k.stopPropagation()});if(!f.change_currency_hotel_anchor){d.live("click",function(){$(this).attr("href",$(this).attr("href")+"#"+g)})}$("html").click(function(j){if("click_current_currency_foldout"!=j.target.id){e.slideUp()}})}}};(function(g,h,d){if(!h("[data-load]").length){return}var k=d[g.sNSStartup],f=d[g.sNSStartupLoad],j=(function(){var l=g.location,m=l.href,n=l.search,o=l.hash;if(!n){return m.replace(o,"")+"?lazyload=1"+o}return m.replace(n,n+"&lazyload=1")})(),c=function(l){(e[l.data("load")]||Function())()},e={worldmap:function(){if(h("#worldmap-lazy-loaded-container").data("new-worldmap")){k.worldMapV2.init();return}k.worldmap.init()},footer:function(){if(d.env.b_site_experiment_social_plugins_footer){d.social_plugins_footer.init()}k.social_network.init()}};h.get(j,function(l){var n=h(l),m=function(o){o.html(n.find(o.data("target")))};h("[data-load]").each(function(){var o=h(this);m(o);c(o)});h(g.document).trigger("lazy:ready")})})(this,this.jQuery,this.booking);var b_Feedback=function(){function g(){if(b_cookie&&b_cookie.contentFeedback){var k=b_cookie.contentFeedback.split("|");if(k.indexOf(booking.env.b_hotel_id)!=-1){return}}$("#hotel_main_content").append('<p id="content_feedback_invite">'+booking.env.content_feedback_prompt_question+'<br /><button id="b_content_feedback_yes">'+booking.env.content_feedback_prompt_link+"</button></p>");$("#b_content_feedback_yes").click(function(){b_Feedback.popup("/general.html?tmpl=content_feedback");if(booking.env.b_site_experiment_event_tracking&&(typeof pageTracker!="undefined"||typeof _gaq!="undefined")){booking.google.trackEvent(booking.google.clickTracker,"Content Feedback","Clicked")}return false})}function h(){}function f(){var l="<option value=''>"+transl_please_select+"</option>";var k;$("#maxotel_rooms td.roomPrice div.roomDefaultUse, #maxotel_rooms td.roomPrice div.roomSingleUse").each(function(){singleOcc="";if($(this).hasClass("roomSingleUse")){singleOcc="- Single Occupancy"}var n=$(this).find("strong").text();var m=n.match(/[0-9].*[0-9]/);if($(this).parents("tr:eq(0)").find("td.roomType a.togglelink").length!=0){k=$(this).parents("tr:eq(0)").find("td.roomType a.togglelink").html()}l+='<option value="'+$(this).attr("id").substr(9)+" *** "+k+singleOcc+" | "+booking.env.rates_feedback_userscurrency+" "+m+'">'+k+singleOcc+" - "+n+"</option>"});$("#feedback_roomslist").append('<select name="roomtype_id" id="roomtype_id" style="width:410px;">'+l+"</select>")}function e(){if($("#comments_table").length){var l=$("#comments_table");$(".review_tr",l).mouseenter(function(m){$(".review_feedback",$(this)).css({filter:"alpha(opacity=100)",opacity:1})});$(".review_tr",l).mouseleave(function(m){$(".review_feedback",$(this)).css({filter:"alpha(opacity=20)",opacity:0.2})});$(".review_useful_form",l).tooltip({track:true,opacity:1,fade:250,left:0});if(b_cookie&&b_cookie.rF){var k=b_cookie.rF.split(",");$("tr",l).each(function(){var n=$(this).find("div[id^='area_comments_']").attr("id");var m=n.substr(14,n.length);if(k.indexOf(m)!=-1){var o=$(this);o.find(".review_useful_form").remove();o.find(".vote_copy").remove();o.find("span.review_feedback").prepend('<p class="review_useful_thankyou">'+transl_content_feedback_thankyou_short+"</p>")}})}$("div.review_feedback form",l).submit(function(){$(this).children("textarea").val(booking.env.b_hotel_id);var n=$(this).parents("div[id^='area_comments_']").attr("id");var m=n.substr(14,n.length);var o=this;$.post(this.action,{hotel_id:$(this).children("textarea").val()},function(){if(b_cookie&&b_cookie.rF){var r=b_cookie.rF.split(",");if(r.length>50){r.shift();b_cookie.rF=r.toString()+","+m}else{b_cookie.rF+=","+m}}else{if(typeof(b_cookie)=="undefined"){b_cookie={}}b_cookie.rF=m}if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:booking.env.b_domain_end})}var q=$(o).parent();q.find(".review_useful_form").remove();q.prepend('<p class="review_useful_thankyou">'+transl_content_feedback_thankyou_short+"</p>");booking.google.trackEvent(booking.google.clickTracker,"Review Useful",$(o).children("button").attr("class"))});return false});$("span.review_feedback form",l).submit(function(){$(this).children("textarea").val(booking.env.b_hotel_id);var n=$(this).parents("div[id^='area_comments_']").attr("id");var m=n.substr(14,n.length);var o=this;$.post(this.action,{hotel_id:$(this).children("textarea").val()},function(){if(b_cookie&&b_cookie.rF){var r=b_cookie.rF.split(",");if(r.length>50){r.shift();b_cookie.rF=r.toString()+","+m}else{b_cookie.rF+=","+m}}else{if(typeof(b_cookie)=="undefined"){b_cookie={}}b_cookie.rF=m}if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:".booking.com"})}var q=$(o).parent();q.find(".review_useful_form").remove();q.prepend('<p class="review_useful_thankyou">'+transl_content_feedback_thankyou_short+"</p>");booking.google.trackEvent(booking.google.clickTracker,"Review Useful",$(o).children("button").attr("class"))});return false})}}function d(){$("input[name^=reason]:checked").each(function(){$.ajax({url:"/feedback",type:"PUT",data:{type:this.value,hotel_id:booking.env.b_hotel_id,lang:booking.env.b_lang_for_url}})});var k=booking.env.content_feedback_thankyou_end+". "+booking.env.content_feedback_we_appreciate;if($("#contact:checked").length){k=booking.env.content_feedback_contact_info+" "+k}$("#content_feedback_invite").text(k);if(b_cookie&&b_cookie.contentFeedback){b_cookie.contentFeedback=b_cookie.contentFeedback+"|"+booking.env.b_hotel_id}else{if(typeof(b_cookie)=="undefined"){b_cookie={}}b_cookie.contentFeedback=booking.env.b_hotel_id}if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:booking.env.b_domain_end})}if(booking.env.b_site_experiment_event_tracking&&(typeof pageTracker!="undefined"||typeof _gaq!="undefined")){booking.google.trackEvent(booking.google.clickTracker,"Content Feedback","Sent")}}function j(){$("#b_content_feedback_yes").hide();if($("#content_feedback_checkboxes").length){$("#content_feedback_checkboxes").show()}else{$('<div id="content_feedback_checkboxes"><label for="translation"><input id="translation" type="checkbox" name="reason[]" value="translation">'+booking.env.content_feedback_response1+'</label><label for="difficult"><input id="difficult" type="checkbox" name="reason[]" value="difficult">'+booking.env.content_feedback_response2+'</label><label for="incorrect"><input id="incorrect" type="checkbox" name="reason[]" value="incorrect">'+booking.env.content_feedback_response3+'</label><label for="missing"><input id="missing" type="checkbox" name="reason[]" value="missing">'+booking.env.content_feedback_response4+'</label><label for="contact"><input id="contact" type="checkbox" name="reason[]" value="contact">'+booking.env.content_feedback_response5+'</label><button onclick="b_Feedback.send();">'+booking.env.send_your_feedback+"</button><a href=\"#\" onclick=\"$('#content_feedback_checkboxes').hide(); $('#b_content_feedback_yes').show(); return false;\">Close</a></div>").appendTo("#content_feedback_invite")}}function c(k){$(document.body).append('<div id="b_feedback"></div>');$("#b_feedback").load(k,function(){if($("#b_feedback").css("position")=="fixed"){$("#b_feedback").css("top",$(window).height()/2-$("#b_feedback").height()/2)}else{var l=(document.body.scrollTop==0)?(window.pageYOffset)?window.pageYOffset:(document.body.parentElement)?document.body.parentElement.scrollTop:0:document.body.scrollTop;$("#b_feedback").css("top",l+($(window).height()/2-$("#b_feedback").height()/2))}$("#b_feedback").bgiframe();b_Feedback.createRoomsDd()})}return{init:g,initRatesFeedback:h,createRoomsDd:f,registerEvent:e,send:d,open:j,popup:c}}();booking[sNSStartup].b_Feedback={priority:9,init:function(){b_Feedback.initRatesFeedback()}};booking.ensureNamespaceExists(sNSExperiments);booking[sNSExperiments].content_feedback={priority:9,init:function(){b_Feedback.init()}};booking[sNSStartup].default_group_new={priority:9,user_modified:false,group_set:$(".group_set").length,init:function(){if(booking.env.b_site_experiment_groups_number_rooms){function f(m){if(m=="notshowing"){$("#clear_group_spec").hide();$("#group_spec").show()}else{if(m=="showing"){$("#clear_group_spec").show();$("#group_spec").hide()}}}function h(){f("showing");$("#define_group").show()}function d(){$(".default_group tbody tr").slice(1).remove();$("select[name=group_adults]")[0].value=2;$("select[name=group_children]")[0].value=0;if($(".index.landing").length>0){f("notshowing")}$("#group_nr_rooms")[0].value=1;$("#ages_header").hide();$("#group_definition input").remove();$(".index.landing #define_group").hide()}function e(){$("#group_nr_rooms").val($(".default_group tbody tr").length)}$("#define_group h3").remove();group_defined=(booking.env.b_group)?true:false;if(!group_defined){$("#define_group").hide();f("notshowing")}else{f("showing")}$("#group_spec").click(function(){h();return false});$("#clear_group_spec").click(function(){d();return false});$("#group_nr_rooms").change(function(){var o=$(this).val(),r=$(".default_group tbody tr"),m=r.length;if(o<m){r.slice(o).remove()}else{for(var q=m+1;q<=o;q++){var n=$("#define_group tbody").append(booking[sNSStartup].b_GroupDefinitionModule.row_markup.replace("XXX",q));booking[sNSStartup].b_GroupDefinitionModule.addChildrenHandlers(n)}}});$("#define_group tfoot a").click(function(){e()});$("#define_group tbody a").live("click",function(){e()})}else{var g=this;$("#in_a_group, #in_a_group_narrow, #define_group h3").hide();$("#define_group table").addClass("hidelinks");function j(o,n,m){if(g.group_set==1||m>0||n>parseInt(o)+1){var q=".hidelinks";if(g.group_set!=1){q+=", #group_definition_modal"}$(q).show()}else{$(".hidelinks").not("#group_definition_modal .hidelinks").hide()}}$("#default_group_new_block select").change(function(){var u=$("#nr_rooms").val(),v=$("#nr_adults").val(),m=$("#nr_children").val(),w=$(".default_group tbody tr"),q=w.length;if(u<q){w.slice(u).remove();g.user_modified=false}else{for(var o=q+1;o<=u;o++){var r=$("#define_group tbody").append(booking[sNSStartup].b_GroupDefinitionModule.row_markup.replace("XXX",o));booking[sNSStartup].b_GroupDefinitionModule.addChildrenHandlers(r)}}if(g.user_modified===false){$("select[name=group_adults]").each(function(x){this.value=(x<v%u)?Math.floor(v/u)+1:Math.floor(v/u)});$("select[name=group_children]").each(function(x){this.value=(x<m%u)?Math.floor(m/u)+1:Math.floor(m/u);$ages_row=$(this).parent().next();var y=$ages_row.find("input").length;if(this.value-1<y){if(this.value>0){$ages_row.find("input:gt("+(this.value-1)+")").remove()}else{$ages_row.find("input").remove()}}else{for(var x=0;x<this.value-y;x++){if(booking.env.b_site_experiment_request_children_ages_in_sr&&(booking.env.b_action=="index")){$ages_row.append(booking[sNSStartup].b_GroupDefinitionModule.age_markup_request_children_in_sr)}else{$ages_row.append(booking[sNSStartup].b_GroupDefinitionModule.age_markup)}}}});if($("input[name=age]").length===0){$("#ages_header").hide()}else{$("#ages_header").show()}}else{var n=v,t=m;$(".default_group select").each(function(){if(this.name=="group_adults"){if(n>0){n-=this.value}else{this.value=0}}else{if(t>0){t-=this.value}else{this.value=0}}})}j(u,v,m)});$(".default_group table select").live("change",function(){var n=0,m=0;$(".default_group table select").each(function(){if(this.name=="group_adults"){n+=parseInt(this.value)}else{m+=parseInt(this.value)}});$("#nr_adults").val(n);$("#nr_children").val(m);g.user_modified=true});var k=$("#nr_rooms").val(),l=$("#nr_adults").val(),c=$("#nr_children").val();j(k,l,c)}}};booking[sNSExperiments].default_group_new_hp={priority:9,user_modified:false,group_set_hp:$(".group_set_hp").length,init:function(){if(booking.env.b_site_experiment_group_option_in_hotelpage){function f(m){if(m=="notshowing"){$("#clear_group_spec").hide();$("#group_spec").show()}else{if(m=="showing"){$("#clear_group_spec").show();$("#group_spec").hide()}}}function h(){f("showing");$("#define_group_hp").show()}function d(){$(".default_group_hp tbody tr").slice(1).remove();$("select[name=group_adults]")[0].value=2;$("select[name=group_children]")[0].value=0;if($(".index.landing").length>0){f("notshowing")}$("#group_nr_rooms")[0].value=1;$("#ages_header").hide();$("#group_definition input").remove();$(".index.landing #define_group_hp").hide()}function e(){$("#group_nr_rooms").val($(".default_group tbody tr").length)}$("#define_group_hp h3").remove();group_defined=(booking.env.b_group)?true:false;if(!group_defined){$("#define_group_hp").hide();f("notshowing")}else{f("showing")}$("#group_spec").click(function(){h();return false});$("#clear_group_spec").click(function(){d();return false});$("#nr_rooms_hp").change(function(){var o=$(this).val(),r=$(".default_group_hp tbody tr"),m=r.length;if(o<m){r.slice(o).remove()}else{for(var q=m+1;q<=o;q++){var n=$("#define_group_hp tbody").append(booking[sNSStartup].b_GroupDefinitionModule.row_markup.replace("XXX",q));booking[sNSStartup].b_GroupDefinitionModule.addChildrenHandlers(n)}}})}else{var g=this;$("#define_group_hp h3").hide();$("#define_group_hp table").addClass("hidelinks_hp");function j(o,n,m){if(m>0||n>2||o>1){var q=".hidelinks_hp";if(g.group_set_hp!=1){q+=", #define_group_hp"}$(q).show()}else{$(".hidelinks_hp").not("#define_group_hp .hidelinks_hp").hide()}}$("#default_group_new_block_hp select").change(function(){var u=$("#nr_rooms_hp").val(),v=$("#nr_adults_hp").val(),m=$("#nr_children_hp").val(),w=$(".group_change_rooms tbody tr"),q=w.length;if(u<q){w.slice(u).remove();g.user_modified=false}else{for(var o=q+1;o<=u;o++){var r=$("#define_group_hp tbody").append(booking[sNSStartup].b_GroupDefinitionModule.row_markup.replace("XXX",o));booking[sNSStartup].b_GroupDefinitionModule.addChildrenHandlers(r)}}if(g.user_modified===false){$(".group_change_rooms select[name=group_adults]").each(function(x){this.value=(x<v%u)?Math.floor(v/u)+1:Math.floor(v/u)});$(".group_change_rooms select[name=group_children]").each(function(x){this.value=(x<m%u)?Math.floor(m/u)+1:Math.floor(m/u);$ages_row=$(this).parent().next();var y=$ages_row.find("input").length;if(this.value-1<y){if(this.value>0){$ages_row.find("input:gt("+(this.value-1)+")").remove()}else{$ages_row.find("input").remove()}}else{for(var x=0;x<this.value-y;x++){$ages_row.append(booking[sNSStartup].b_GroupDefinitionModule.age_markup)}}});if($(".group_change_rooms input[name=age]").length===0){$("#ages_header").hide()}else{$("#ages_header").show()}}else{var n=v,t=m;$(".group_change_rooms select").each(function(){if(this.name=="group_adults"){if(n>0){n-=this.value}else{this.value=0}}else{if(t>0){t-=this.value}else{this.value=0}}})}j(u,v,m)});$(".group_change_rooms table select").live("change",function(){var n=0,m=0;$(".group_change_rooms table select").each(function(){if(this.name=="group_adults"){n+=parseInt(this.value)}else{m+=parseInt(this.value)}});$("#nr_adults_hp").val(n);$("#nr_children_hp").val(m);g.user_modified=true});var k=$("#nr_rooms_hp").val(),l=$("#nr_adults_hp").val(),c=$("#nr_children_hp").val();j(k,l,c)}}};booking[sNSStartup].b_GroupDefinitionModule={row_markup:"",age_markup:'<input type="text" name="age" maxlength="2" size="2" autocomplete="off" />',age_markup_request_children_in_sr:'<input type="text" name="age" maxlength="2" size="2" value="-1" style="visibility: hidden" autocomplete="off" />',attachEvents:function(){var c=this;$("#in_a_group").click(function(){if(this.checked){$("#group_definition").show();$("#clear_group").val("0")}else{$("#group_definition").hide();$("#clear_group").val("1")}});$("#in_a_group_narrow").click(function(){if(this.checked){c.showModalWindow();$("#clear_group").val("0")}else{$("#group_definition_modal").hide();$("#clear_group").val("1")}});$("#define_group tfoot a").click(function(){var e=$("#define_group tbody tr").length+1;var d=$("#define_group tbody").append(c.row_markup.replace(/XXX/,e));$("#clear_group").val("0");c.addChildrenHandlers(d);return false});$("#define_group tbody a").live("click",function(){$(this).parents("tr").eq(0).remove();if($("#group_definition tbody tr").length===0){$("#clear_group").val("1")}return false});$("#define_group input").live("click",function(){if(this.value=="?"){this.value=""}});$("#show_modal, #show_modal_nr, #show_modal_ssb").click(function(){$(".search_summary_block").hide();$(".original_search_form").removeClass("original_search_form_hidden");c.showModalWindow();return false});$("#clear_and_submit, #clear_and_submit_nr").click(function(){$("#clear_group").val("1");$("#in_a_group").attr("checked","");$("#group_definition, .b_group_recommendation").hide();$("#frm")[0].submit();return false});$("#close").click(function(){$("#group_definition_modal").hide();return false});$(".group_change").click(function(){$("#group_definition_modal").hide()});$("#frm").submit(function(d){if($("#availcheck")[0].checked){return}if(!booking.env.b_site_experiment_request_children_ages_in_sr){if($("#group_definition_modal").css("display")=="none"){return}}var f=false;$("#group_definition input[name=age]").each(function(){if(this.value.match(/[mMkKhHlLaA]/)){this.value="0"}if(this.value.match(/\D/)){this.value=""}if(this.value>17){this.value=""}if(this.value==""){if(!booking.env.b_site_experiment_request_children_ages_in_sr){this.value="?";$(this).addClass("error");$("#ages_header").addClass("error");f=true}else{this.value="-1"}}else{$(this).removeClass("error");$("#ages_header").removeClass("error")}});if(f){d.preventDefault();return false}});$("#availcheck").click(function(){if(this.checked){$("#define_group input, #define_group select").attr("disabled","disabled");$("#define_group").addClass("disableme");if($("#group_definition_modal").length){$("#group_definition_modal").hide();$("#in_a_group_narrow").attr("checked","")}}else{$("#define_group input, #define_group select").removeAttr("disabled");$("#define_group").removeClass("disableme")}})},update:function(g){var f=this;var e=$(g);var d=e.val();var h=e.parent().next().find("input").length;if(d-1<h){if(d>0){e.parent().next().find("input:gt("+(d-1)+")").remove()}else{e.parent().next().find("input").remove()}}else{for(var c=0;c<d-h;c++){if(booking.env.b_site_experiment_request_children_ages_in_sr&&(booking.env.b_action=="index")){e.parent().next().append(f.age_markup_request_children_in_sr)}else{e.parent().next().append(f.age_markup)}}}if($("input[name=age]").length===0){$("#ages_header").hide()}else{$("#ages_header").show()}},setInitialVisibility:function(){if(!document.getElementById("in_a_group")||document.getElementById("in_a_group").checked){if(typeof $("#group_definition").show=="function"){$("#group_definition").show()}}else{$("#group_definition").hide();$("#clear_group").val("1")}$(".featuredRooms tbody").each(function(){if($(this).find("tr").length===0){$(this).parents("tr").eq(0).remove()}})},showModalWindow:function(){$("#group_definition_modal").show();var c=(document.body.scrollTop==0)?(window.pageYOffset)?window.pageYOffset:(document.body.parentElement)?document.body.parentElement.scrollTop:0:document.body.scrollTop;$("#group_definition_modal").css("top",c+($(window).height()/2-$("#group_definition_modal").height()/2));$("#group_definition_modal").bgiframe();if(booking.env.b_site_experiment_request_children_ages_in_sr){$("#group_definition input[name=age]").each(function(){if($(this).val()=="-1"){$(this).val("")}})}},selectRecommendedRooms:function(){$("#roomsForm select").each(function(){this.value=0});console.log(booking.env.b_room_groups);for(var d=0;d<booking.env.b_room_groups.length;d++){var c=booking.env.b_room_groups[d].split(":");var e=$("select[name=nr_rooms_"+c[0]+"]").val();$("select[name=nr_rooms_"+c[0]+"]").val(parseInt(e)+parseInt(c[1]))}$('<input type="hidden" name="is_group_recommendation" value="1"/>').appendTo($("#roomsForm"));$("#roomsForm")[0].submit()},addChildrenHandlers:function(d){var c=this;$('select[name="group_children"]',d).change(function(){c.update(this)})},init:function(){var c=this;if($("#define_group").length){this.row_markup="<tr><th>"+booking.env.group_room+'&nbsp;XXX:&nbsp;</th><td><select name="group_adults"><option value="0">0</option><option value="1" selected="selected">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option></select></td><td class="b"><select name="group_children"><option value="0">0</option><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option></select></td><td class="b"></td><td><a href="#">'+booking.env.group_remove+"</a></td></tr>";this.attachEvents();this.setInitialVisibility();if($("#availcheck")[0].checked){$("#define_group input, #define_group select").attr("disabled","disabled");$("#define_group").addClass("disableme")}if($("#define_group").css("display")=="none"){$("#inout select").change(function(){$("#define_group").show()})}}$("#select_group").click(function(){c.selectRecommendedRooms();this.blur();return false});$("#select_group2").click(function(){c.selectRecommendedRooms();this.blur();return false});this.addChildrenHandlers(document)}};booking.destination_game_home=(function(){var m,e,l,j,c,f=booking.env.b_good_msg,h=booking.env.b_bad_msg,k;var n=function(){m=$("a.social_remove","#top-destinations");e=$("a.social_love","#top-destinations");l=$("#top-destinations table").attr("data-seen_ids");j=$("#create_profile");f=booking.env.b_good_msg;h=booking.env.b_bad_msg;k=0;String.prototype.supplant=function(q){return this.replace(/{([^{}]*)}/g,function(t,o){var u=q[o];return typeof u==="string"||typeof u==="number"?u:t})};e.live({mouseenter:function(){var o=$('<div class="pop_tooltip">'+f+"</div>");o.appendTo($(this));o.css("margin-left",parseInt("-"+(o.width()/2))+"px").show()},mouseleave:function(){$(this).find("div:last").hide().remove()}});e.live("click",function(){var q=$(this).closest("td");var o=$(this);c=$(this).attr("data-ufi");g(q,c,o);k++;return false});m.live({mouseenter:function(){var o=$('<div class="pop_tooltip">'+h+"</div>");o.appendTo($(this));o.css("margin-left",parseInt("-"+(o.width()/2))+"px").show()},mouseleave:function(){$(this).find("div:last").hide().remove()}});m.live("click",function(){var o=$(this).closest("td");c=$(this).attr("data-ufi");d(o,c);return false})};var d=function(u,r){var o="";var t="seen="+(l||$("#top-destinations table").attr("data-seen_ids"))+";ufi="+r+";favorite=0;tmpl=destination_suggestion";var q=false;var v=false;$.ajax({type:"GET",url:"/destinationsuggestion.html",data:t,dataType:"json",beforeSend:function(){u.toggleClass("loading")},complete:function(){u.toggleClass("loading")},success:function(z){if(z.new_destination.image_url){var x=z.new_destination.image_url}else{var x=booking.env.b_default_city_image}if(u.find(".clickblock").length>0){v=true}o+='	<div class="loveicons loveicons_4">';o+='		<a data-ufi="'+z.new_destination.ufi+'" class="social_love "  href="#"><em>Add to favourite locations</em></a>';o+='		<a data-ufi="'+z.new_destination.ufi+'" class="social_remove" href="#"><em>Remove location</em></a>';o+="	</div>";if(v){o+='<a class="clickblock" href="'+z.new_destination.city_url+'"><span class="thumblink">'}else{o+='<a class="thumblink"  href="'+z.new_destination.city_url+'">'}o+='	<img class="round8" src="'+x+'" alt="'+z.new_destination.ufi_name+'" width="100" height="100">';if(v){o+="</span>"}else{o+="</a>"}o+='<div class="promotion_data">';if(!v){o+='	<a class="citylink" href="'+z.new_destination.city_url+'" title="'+z.new_destination.ufi_name+'">'}else{o+='	<span class="citylink">'}o+=z.new_destination.ufi_name;if(!v){o+="</a>"}else{o+="</span>"}o+="	<br>";if(!v){o+='	<a class="countrylink" href="'+z.new_destination.country_url+'">'}else{o+='	<span class="countrylink" href="'+z.new_destination.country_url+'">'}o+='	  <span title="'+z.new_destination.country_name+'" class="flag_16 flag_16_'+z.new_destination.country_code+'">&nbsp;</span>';o+="	  "+z.new_destination.country_name;if(!v){o+="	</a>"}else{o+="	</span>"}var B={num:z.new_destination.hotel_count};var y=String(z.new_destination.hotel_count_tpl);var A=y.supplant(B);o+='	<span class="hotelcount">'+A+"</span>";o+="</div>";if(v){o+="</a>"}l=z.new_destination.seen_ids;if(v){var w=".clickblock, .loveicons"}else{var w=".thumblink, .promotion_data, .loveicons"}u.find(w).fadeOut(function(){$(this).remove();if(!q){u.append(o);q=true}})},error:function(){var w='<span class="destination_error">'+booking.env.b_default_error_msg+"</span>";u.html(w)}})};var g=function(v,t,r){var o="";var q=r.hasClass("social_loved")?0:1;var u="seen="+(l||$("#top-destinations table").attr("data-seen_ids"))+";ufi="+t+";favorite="+q+";tmpl=destination_suggestion";$.ajax({type:"GET",url:"/destinationsuggestion.html",data:u,dataType:"json",beforeSend:function(){v.toggleClass("loading")},complete:function(){v.toggleClass("loading")},success:function(w){r.toggleClass("social_loved");$('<a class="social_loved faded"></a>').appendTo(r).fadeOut(function(){r.find(".pop_tooltip").fadeOut(function(){$(this).remove()})});c=r.attr("data-ufi")}})};return{init:n}}());booking[sNSExperiments].destination_game_home={priority:1,init:function(){booking.destination_game_home.init()}};booking[sNSExperiments].disambiguation_edit_search={priority:9,init:function(){var d=false,c=false;$("#disambiguation_edit_search").click(function(){if(!c){if(typeof(booking.google.clickTracker)!="undefined"){booking.google.trackEvent(booking.google.clickTracker,"Disambiguation edit v"+booking.env.b_site_experiment_disambiguation_edit_search+" "+$("#destination").val(),document.body.id)}c=true;if(d){$("#searchboxInc").slideUp(function(){c=false});d=false}else{$("#searchboxInc").slideDown(function(){c=false});d=true}}return false})}};booking.lightbox=booking[sNSStartup].light_box={priority:7,template:'<div id="lb_b">&nbsp;</div><div id="lb_w"><div id="lb_c"><a href="#" id="lb_close" class="lb_x"><span>X</span></a><div id="lb_t">Loading...</div></div></div>',isopen:false,reOpen:{},init:function(){oThat=this;if(!$("#lb_b").length){$("body").append(this.template).each(function(){$("#lb_close, #lb_x").click(function(c){oThat.close();return false});$("#lb_w").live("click",function(c){if(c.target==this&&typeof oThat.close!="undefined"){oThat.close()}return false})})}},open:function(j,d,f,n,e,c,q,g,o,l){if(this.isopen){this.reOpen={re:true,loc:j,ajax:d,ct:f,node:n,width:e,height:c,coc:q,clb:g,nxt:o,prv:l};this.close()}else{var h=(e)?e:250;$("#lb_c").css({width:h+"px"});if(g==false){$("#lb_close").css({display:"none"})}else{var k=h-5;$("#lb_close").css({display:"block","margin-left":k+"px"})}this.isopen=true;if(j!=null){var r=(c)?c:300;$("#lb_t").html('<iframe width="'+h+'" height="'+r+'" src="'+j+'" frameborder="0"></iframe>')}else{if(d!=null){$("#lb_t").load(d)}else{if(f!=null){$("#lb_t").html(f)}else{if(n!=null){$("#lb_t").html("");var m=$("#"+n).clone();$(m).attr("id","in_lightbox_content");$(m).css({display:"block"});$(m).appendTo("#lb_t")}}}}$("#lb_b").show();$("#lb_b").animate({opacity:0.5},600,function(){setTimeout(function(){var u=(c)?c:$("#lb_t").height();var t=$(window).height();var v=((t-u)/2)-10;$("#lb_c").css({height:u+"px",top:v+"px"})},200);$("#lb_w").show("slow",function(){var u=(c)?c:$("#lb_t").height();var t=$(window).height();var v=((t-u)/2)-10;$("#lb_c").css({height:u+"px",top:v+"px"})})})}},close:function(){var c=this;$("#lb_b").animate({opacity:0},700,function(){$("#lb_c").css({height:"20px"});$("#lb_b").hide();c.isopen=false;$("#lb_w").hide("fast");$("#lb_t").html("Loading...");if(c.reOpen.re){var d=c.reOpen;c.open(d.loc,d.ajax,d.ct,d.node,d.width,d.height,d.coc,d.clb,d.nxt,d.prv);c.reOpen={}}})}};booking[sNSExperiments].expired_login_message={priority:9,expire_time:600000,init:function(){this.reInit()},reInit:function(){var c=this;setTimeout(function(){c.showLoggedOutPopup()},this.expire_time)},showLoggedOutPopup:function(){$(".user_salutation").each(function(){var c=$(this).attr("id");if(c=="hidden_login_form"){$(this).removeAttr("id");$(this).show()}else{if(c=="my_links"){$(this).remove()}}});$("#link_my_profile").remove();booking.lightbox.open(null,null,null,"lb_logged_out")}};booking.myFavoriteHotels=(function(){var l=[];var h=[];var r;var e;var d;var q;var m=1;var k=true;var f=function(x){var w='<div class="favorite_hotel favorite_hotel_'+x.hotel_id;if(x.is_favorite){w+=" favorite_hotel_s-favorite"}w+='" data-id="'+x.hotel_id+'"><a href="'+x.url+'"><img src="'+x.square40+'" width="30" height="30" alt=""/></a><div class="favorite_hotel_name"><div class="favorite_hotel_name_inner_1"><div class="favorite_hotel_name_inner_2">'+x.title+'</div></div></div><div class="favorite_hotel_remove">&times;</div></div>';return w};$("#show_fav").click(function(w){if(k==true){var x="/searchresults.html?ss=id:"+l+"&si=ho";$("#favorites_overlay").show();$(".favorites_loaded_list").load(x+" table.hotellist",function(){$("#favorites_overlay").hide();$(".favorites_loaded_list .button_x").hide();$("#favorite_thumbs").hide();k=false;booking[sNSStartupLoad].search_all_roomtypes.addMoreLink($(this))});$(".favorites_loaded_list").slideDown("slow")}else{$("#favorite_thumbs").hide();$(".favorites_loaded_list .button_x").hide();$(".favorites_loaded_list").slideDown("slow")}$(this).hide();$("#close_fav").show();booking.google.trackEvent(booking.google.clickTracker,"FavoritesBar","Show the shortlist");w.preventDefault()});$("#close_fav").click(function(w){$(".favorites_loaded_list").slideUp("slow",function(){$("#favorite_thumbs").show()});$(this).hide();$("#show_fav").show();w.preventDefault()});var v=function(){if(typeof b_cookie==="undefined"){window.b_cookie={}}r=$("#show_fav");$noFavorites=$(".no_favorites");e=$(".my_favorites_bar");d=$(".dock_close");q=/(.+)\/images\/hotel$/.exec(booking.env.dock_images_url)[1];$.ajax({url:"/my_hotels?filter=favorite",dataType:"json",success:function(y){var x,w=y.length,z="";for(x=0;x<w;x++){y[x].square40=q+y[x].square40;y[x].url+=booking.env.dock_url_params;z+=f(y[x]);l.push(y[x].hotel_id.toString())}e.html(z);t("init");if(l.length<m){$noFavorites.show();r.addClass("show_all_favorites-hidden");return}if(b_cookie.dock_my_hotels==="closed"){d.addClass("dock_s-closed").removeClass("show_all_favorites-hidden")}else{r.removeClass("show_all_favorites-hidden");d.removeClass("show_all_favorites-hidden");$noFavorites.hide()}}});e.delegate(".favorite_hotel_remove","click",function(){var w=$(this).parent().attr("data-id");u(w)});d.bind("click",function(){toggleDock()});$(".dock_compare_link").bind("click",function(){})};var o=function(x){var y=x.hotel_id;if($.inArray(y,l)>-1){var w=e.find(".favorite_hotel_"+y);if(w.hasClass("favorite_hotel_s-favorite")){return}else{w.addClass("favorite_hotel_s-favorite")}}else{l.unshift(y);e.prepend(f(x))}if(l.length>=m&&r.hasClass("show_all_favorites-hidden")){n();b_cookie.dock_my_hotels="open";c()}$.ajax({url:"/make_hotel_favorite",data:{hotel_id:y,pid:booking.env.pageview_id}});t("addHotel",y);k=true;booking.google.trackEvent(booking.google.clickTracker,"FavoritesBar","Hotel added")};var u=function(y){var x=$.inArray(y,l);if(x===-1){return}l.splice(x,1);var w=e.find(".favorite_hotel_"+y);if(l.length>=m){w.remove()}else{if(r.hasClass("show_all_favorites-hidden")){w.remove();d.addClass("show_all_favorites-hidden");$noFavorites.show()}else{j(true,function(){w.remove()})}}$.ajax({url:"/hotel_history",type:"DELETE",data:{hotel_id:y}});t("removeHotel",y);k=true;booking.google.trackEvent(booking.google.clickTracker,"FavoritesBar","Hotel removed")};var n=function(){var w=d.hasClass("show_all_favorites-hidden")?r.add(d):r;d.removeClass("dock_s-closed");$noFavorites.hide();w.css("bottom",-45).removeClass("show_all_favorites-hidden").animate({bottom:0},"fast")};var j=function(x,y){var w=x?r.add(d):r;w.css("bottom",0).animate({bottom:-45},"fast",function(){w.addClass("show_all_favorites-hidden");d.addClass("dock_s-closed");$noFavorites.show();if($.isFunction(y)){y()}})};var c=function(){if(typeof JSON==="undefined"){return}$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:booking.env.b_domain_end})};var g=function(x,w){if(!h[x]){h[x]=[]}h[x].push(w)};var t=function(y){var z=h[y];var x;var w=z.length;if(!z){return}for(x=0;x<w;x++){z[x].apply(this,arguments)}};return{init:v,addHotel:o,removeHotel:u,attachObserver:g}}());booking[sNSExperiments].favorites_bar={priority:9,init:function(){booking.myFavoriteHotels.init();var c=true;booking.myFavoriteHotels.attachObserver("addHotel",function(d,e){$(".add_to_my_hotels").each(function(){var f=$(this);var g=f.attr("data-id");if(g===e){f.hide()}});$(".remove_from_my_hotels").each(function(){var f=$(this);var g=f.attr("data-id");if(g===e){f.show()}})});booking.myFavoriteHotels.attachObserver("removeHotel",function(d,e){$(".add_to_my_hotels").each(function(){var f=$(this);var g=f.attr("data-id");if(g===e){f.show()}});$(".remove_from_my_hotels").each(function(){var f=$(this);var g=f.attr("data-id");if(g===e){f.hide()}})});booking.myFavoriteHotels.attachObserver("init",function(){$(".add_to_my_hotels").live("click",function(){booking.myFavoriteHotels.addHotel({hotel_id:this.getAttribute("data-id"),square40:this.getAttribute("data-thumbnail"),title:this.getAttribute("data-title"),url:this.getAttribute("data-url"),is_favorite:true});if(booking.env.b_site_experiment_favorites_bar_shortlist&&c&&booking.env.js_experiment_tracking.favorites_bar_shortlist){booking.env.trackExperiment(booking.env.js_experiment_tracking.favorites_bar_shortlist);c=false}});$(".remove_from_my_hotels").live("click",function(){var d=this.getAttribute("data-id");booking.myFavoriteHotels.removeHotel(d)})})}};booking[sNSStartupLoad].flash_deals_for_city={priority:9,init:function(){$("#flash_deal_city_sr #city_deal").change(function(){$("#flash_deal_city_sr")[0].submit()})}};booking[sNSExperimentsLoad].google_plus_one_button={priority:9,init:function(){var c=document.createElement("script");c.type="text/javascript";c.async=true;c.src="//apis.google.com/js/plusone.js";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)}};$(".help_foldout").click(function(){$("#helpPopup").slideToggle();$(this).toggleClass("open");return false});$(".menu_close_link").click(function(){$("#helpPopup").slideToggle();return false});booking[sNSExperiments].improve_calendar_closing={priority:9,init:function(){$(document.body).click(function(e){var d=$(e.target).parents("#calendar_popup").length;var c=$(e.target).parents(".calendarLink").length;if(!d&&!c){$(this).trigger("close_calendar",e.target)}});return true}};booking[sNSStartup].filterbox={priority:9,init:function(){if(booking.env.b_action==="searchresults"){$("div.filtercategory").each(function(){$(this).click(function(){$div=$(this).parents("div").eq(0).find("div.filteroptions");if($(this).hasClass("toggla_hide")){mySlideToggle($div);$(this).removeClass("toggla_hide")}else{mySlideToggle($div);$(this).addClass("toggla_hide")}this.blur();return false});if(!booking.env.b_site_experiment_filters_hover_css){$(this).parents("div").eq(0).find(".filterelement:not(.cantdeselect)").hover(function(){if($(this).hasClass("active")){$(this).addClass("activeon")}else{$(this).addClass("on")}return false},function(){$(this).removeClass("on");$(this).removeClass("activeon");return false});$(this).parents("a").eq(0).find(".filterelement:not(.cantdeselect)").hover(function(){$(this).addClass("on");return false},function(){$(this).removeClass("on");return false})}})}}};booking[sNSExperimentsLoad].lazy_load_print_css={priority:9,init:function(){var c=document.createElement("link");c.rel="stylesheet";c.type="text/css";c.href=booking.env.print_css_href;c.media="print";document.getElementsByTagName("head")[0].appendChild(c)}};booking[sNSStartup].login_foldout={priority:9,fontchange:false,init:function(){var c=this;$("#login_redesign").click(function(){if(!$(this).hasClass("no_arrow")){if($(this).hasClass("login_opened")){$(this).removeClass("login_opened")}else{$(this).addClass("login_opened")}$("#login-form_wrapper fieldset").toggle();$("#login_open, #login_close, #login_optional").toggle()}return false});$(".login_foldout").each(function(){var d=$("#loginPopup").height();if(d==0){var d=1000}$("#loginPopup").css({height:"0px","overflow-y":"hidden",display:"none"});$("#loginPopup").attr({shown:"false"});$(this).click(function(){c.toggle(document.getElementById("loginPopup"),d);return false});$("#closeLoginPopup").click(function(){c.toggle(document.getElementById("loginPopup"),d);return false});$(".stay_login").submit(function(){$("#foldout_error").hide();$("#login_loading").show();var e=$("#login-form").height();$("#loginPopup").css({height:e+"px"});$("#loginPopup").animate({height:e+"px"},500,function(){});setTimeout(function(){c.hideLoader()},8000)})});if(booking.env.b_site_experiment_clean_booking_number){$('input[name="username"]').each(function(){if(!isNaN($(this).val())){$(this).val("");var d=$(this).parents("form").get(0);$('input[name="password"]',d).val("")}})}},thirdParty:function(f,c,e,d){if(c&&!d){$("#log_tar").attr("src",e)}if(d){$("#email_send").show("slow")}},thirdPartyCancel:function(e,d,c){oThat.hideLoader();if(typeof $.noticeAdd!="undefined"){$.noticeAdd({text:"\n \n \n "+d+" \n \n \n ",stay:false,stayTime:3000,type:"users",close:"all",destination:""})}if(c){$("#email_send").show("slow")}},reCall:function(H,j,m,k,w,l,e,z,L,G,E,D,C,B,A,x,J,g,o,d,y,I,t,c,M,N){var f=this;if(o){booking.env.b_req_login="1"}if(H=="OK"){if(d!=null||y!=null){var n=booking.env.b_this_url;n+=(n.indexOf("?")>0)?"&":"?";n+="lang="+d+"&selected_currency="+y;n.replace("logout=1","");if(booking.env.b_site_experiment_reload_secure&&booking.env.b_nonsecure_hostname_https){n.replace(booking.env.b_nonsecure_hostname,booking.env.b_nonsecure_hostname_https)}document.location.href=n}else{if(booking.env.b_req_login=="1"){document.location.href=booking.env.b_this_url}else{var v=booking.env.b_this_url;v.replace("logout=1","");v=(v.indexOf("?")>0)?v+";logout=1":v+"?logout=1";w=w.replace("sign_out_url",v);$("#login-form_wrapper fieldset").hide();$(".welcome_login_link").hide();$("#login_open, #login_close, #login_optional").hide();$(".hide_on_login").hide("slow");$(".show_on_login").show();if($("#login_redesign").length){var u=$("#login_redesign").get(0);$(u).addClass("no_arrow");$(u).mouseover(function(){return false});$(u.parentNode).mouseover(function(){return false})}var h=window.setTimeout(function(){$("#loginPopup").css({height:"0px","overflow-y":"hidden",display:"none"});$("#loginPopup").attr({shown:"false"});$("#password_input").val("");$("#listnav_user .user_salutation").hide();$("#listnav_user .user_salutation").attr("id","hidden_login_form");$("#myActivityHeader .my_history_header").text(l);if(z!="0"){if($("#my_image_room").length){$("#my_image_room").attr("src",z);$("#my_image_room").css({padding:"0",width:"24px",height:"24px"})}if($(".my_image img").length){$(".my_image img").each(function(){$(this).attr("src",z);if($(".head_firstname").length){$(this).css({"margin-top":"-5px",width:"26px",height:"26px"})}})}}else{if(N!=0){if($(".my_image img").length){$(".my_image img").addClass("def_avtr");$(".my_image img").addClass("t_s_avtr_"+N);$(".my_image img").css({"margin-top":"-4px","margin-left":"-1px",width:"24px",height:"24px"})}}}if(typeof $.noticeAdd!="undefined"){$.noticeAdd({text:"\n \n \n "+unescape(m)+"<br>"+unescape(k)+" \n \n \n ",stay:false,stayTime:3000,type:"users",close:"all",destination:""})}},500);if(L==1){$("#book_step_login").css({"margin-top":"-17px"});$("#book_step_login").html("<span>"+booking.env.logged_in_bs+"</span>");$("#login_bs_placeholder").hide();setTimeout(function(){$("#book_step_login").hide("slow")},5000)}if(e!=""){if($("#email_confirm").length&&$("#email_confirm").val()==""){$("#email_confirm").val(e)}if($("#email").length&&$("#email").val()==""){$("#email").val(e)}}if(G!=""){if($("#address1").length&&$("#address1").val()==""){$("#address1").val(G)}}if(E!=""){if($("#city").length&&$("#city").val()==""){$("#city").val(E)}}if(D!=""){if($("#zip").length&&$("#zip").val()==""){$("#zip").val(D)}}if(C!=""){if($("#cc1").length&&$("#cc1").val()==""){$("#cc1").val(C)}}if(B!=""){if($("#phone").length&&$("#phone").val()==""){$("#phone").val(B)}}if(A!=""){if($("#lastname").length&&$("#lastname").val()==""){$("#lastname").val(A)}$(".head_lastname").text(A)}if(x!=""){if($("#firstname").length&&$("#firstname").val()==""){$("#firstname").val(x)}$(".head_firstname").text(x)}else{$(".head_firstname").text("")}if($(".login_for_name").length){var q=A+" "+x;if(q!=" "){$(".login_for_name").val(q);$(".login_for_name").css({color:"#003580"})}}$("input[name='username']").val(e);if(booking.lightbox&&booking.lightbox.isopen){booking.lightbox.close()}if($("#update_profile_row").length){$("#update_profile_row").show()}booking[sNSStartup].new_personal_menu.closeSelect(null,true,g);$(".login_text").hide();$(".loggedin_text").show();$("#multiple_login").hide();f.hideLoader();if(t){this.createUserFlashBanner(c)}if(booking.env.b_site_experiment_reload_secure&&booking.env.b_nonsecure_hostname_https){this.replaceSecure()}if(booking.env.b_action=="book"){if(booking[sNSStartup].authenticated_email_change){if($(".auth_user_info #email").length){$(".auth_user_info #email").addClass("email_change");booking[sNSStartup].authenticated_email_change.trackAuthenticatedEmailChange()}}}}}}else{var r=unescape(j);var K=(M)?false:true;var F=window.setTimeout(function(){if(K){$("#foldout_error").html(r).show();booking[sNSStartup].new_personal_menu.openSelect("current_account")}else{if($("#page_login_error").length){$("#page_login_error").html(r).show()}}},500);if(L==1){$("#booklogin_error").html(r).show()}f.hideLoader();if(I){booking.env.trackExperiment(booking.env.js_experiment_tracking.no_login_error,"error_logging_in")}}},toggle:function(c,f){var e=c.getAttribute("shown");if(e=="false"){$("#foldout_error").hide();$(c).css("display","block");if(f==1000){var d=$("#loginPopup form").get(0);f=$(d).height()}$(c).animate({height:f+"px"},500,function(){document.getElementById("username_input").focus()});c.setAttribute("shown","true")}else{$(c).animate({height:"0px"},500,function(){$(this).css("display","none")});c.setAttribute("shown","false")}},hideLoader:function(){$("#login_loading").hide()},replaceSecure:function(){var f=document.getElementsByTagName("a");for(var c=0;c<f.length;c++){var d=f[c].href;d=d.replace(booking.env.b_nonsecure_hostname,booking.env.b_nonsecure_hostname_https);f[c].href=d}var e=document.getElementsByTagName("form");for(var c=0;c<e.length;c++){var d=e[c].action;d=d.replace(booking.env.b_nonsecure_hostname,booking.env.b_nonsecure_hostname_https);e[c].action=d}},createUserFlashBanner:function(d){if($("#weeklyEmailLink").length){if(d[0]!=""&&d[1]!=""){var c='<a id="weeklyEmailLink" class="banner_promo banner_promo_hover" style="cursor:pointer; clear:both;" href="'+d[0]+'"><strong>'+d[1]+'<span class="banner_promo_languages_base" style="display:block !important;">'+d[2]+"</span></strong>";$("#weeklyEmailLink").replaceWith(c);setTimeout(function(){$("#weeklyEmailLink").animate({opacity:0.5},500,function(){$("#weeklyEmailLink").animate({opacity:1},500,function(){$("#weeklyEmailLink").removeClass("banner_promo_hover")})})},500)}}}};booking[sNSStartup].new_personal_menu={priority:9,opening_state:0,cur_open:"",max_select_height:240,is_ie:0,openSlow:false,init:function(){var c=this;if(!booking.env.b_site_experiment_new_personal_menu_ie_performance){if($.browser.msie){$(".select_foldout ul li a").mouseenter(function(){$(this).addClass("hover_class")});$(".select_foldout ul li a").mouseleave(function(){$(this).removeClass("hover_class")})}}if($(".b_msie_6").length){this.is_ie=6}if($(".b_msie_7").length){this.is_ie=7}$(".stay_login").submit(function(){$("#foldout_error").hide();$("#login_loading").show();var g=document.getElementById("username_input").value;if(g==""){c.hideLoader();$('label[for="username_input"]').css({color:"#B30000","font-weight":"bold"});$("#username_input").focus();return false}else{var e=/^[0-9[\.]+$/.exec(g);if(e){var d=$("#bm_log").val();d+=(d.indexOf("?">0))?"&":"?";var f=$("#password_input",this).val();d+="pincode="+f+"&bn="+g;$("#tar_tmpl").attr("value","");$(this).attr("action",d);$(this).attr("target","_top")}}setTimeout(function(){c.hideLoader()},8000)});$(".select_box").mouseenter(function(){$(this).addClass("sel_hover")});$(".select_box").mouseleave(function(){$(this).removeClass("sel_hover")});$("body").click(function(e){if(c.opening_state==2){var d=$(e.target);if($(d).length){if(!$(d).parents("#current_account_foldout").length){c.closeSelect()}}}if(booking[sNSStartupLoad].googleMaps&&booking[sNSStartupLoad].googleMaps.map_opened){var d=$(e.target);if($(d).length&&!$(d).parents("#b_map_container").length){if(booking.env.map_handle_outside_click){$("#close_map").click()}else{booking.env.trackExperiment(booking.env.map_outside_close_param)}}}});$(".select_box").click(function(d){if(c.opening_state==0){c.openSelect($(this).attr("id"))}else{if(c.cur_open!=$(this).attr("id")){c.closeSelect($(this).attr("id"))}else{if(!$(d.target).parents("#current_account_foldout").length){c.closeSelect()}}}});$("#login_jump").click(function(){c.scrollToLogin();return false})},resetLeftPos:function(c){$(c).css({display:"block",overflow:"hidden","margin-left":"-300px"});var d=$(c).parents(0).width()-$(c).width()-2;if(this.is_ie==6||this.is_ie==7){d=d-$(c).parents(0).width()}if(d>0){d=-2}$(c).css({"margin-left":d+"px"})},openSelect:function(h){oThat=this;this.cur_open=h;var j="#"+h+"_foldout";$("#"+h).addClass("sel_open");if(h=="current_account"){if($("#foldout_loggedin").css("display")=="block"){booking.env.trackExperiment(booking.env.js_experiment_tracking.copy_rewrite_my_details)}}this.opening_state=1;$(j).css({display:"block",opacity:"0",overflow:"hidden",height:"400px",width:"1000px"});var l=$(".select_foldout_wrap",j).get(0);$(l).css({"overflow-y":"hidden",height:"auto"});var c=$(l).height();var g=$(l).width();var f=this.max_select_height;if($(j).hasClass("flex_foldout")){var k=g+10}else{if(!$("#"+h).hasClass("sel_done")){var k=g+20;$("#"+h).addClass("sel_done")}else{var k=g}}if(c>=this.max_select_height-10){if($(j).hasClass("flex_foldout")){f=c+10;if(f<300){f=300}}else{$(l).css({"overflow-y":"scroll",height:"230px",width:k+"px"});if(!this.is_ie==6&&!this.is_ie==7){k+=10}}}else{f=c+10;$(l).css({"overflow-y":"hidden",height:"auto"})}if(this.is_ie==6){$(j).css({opacity:"1",height:"0px",width:"0px"});$(j).css({width:"auto"});$(l).css({width:"auto"});g=$(l).width();k=g+10}else{$(j).css({opacity:"1",height:"0px",width:"auto"})}if($(j).hasClass("left_foldout")&&!booking.env.rtl){oThat.resetLeftPos($(j));$(j).css({width:k+"px","padding-right":"0px"})}else{$(j).css({width:k+"px","padding-right":"10px"})}if(this.is_ie==6||this.is_ie==7){var d=$(j).parents(0).width();if($(j).hasClass("left_foldout")&&!booking.env.rtl){iFixedPointEx=d-$(j).width()-2;if(iFixedPointEx<0){d=d-iFixedPointEx}}if(this.is_ie==6){var k=$(j).width()+40;var e=210;if($("#multiple_login",j).length){e=440}$(j).css({"margin-left":"-"+d+"px",width:e+"px","padding-right":"18px"})}else{$(j).css({"margin-left":"-"+d+"px",width:k+"px"});$(".select_foldout_wrap",j).css({"overflow-x":"hidden"})}}if(this.openSlow){this.openSlow=false;$(j).animate({height:f+"px"},800)}else{$(j).css({height:f+"px"})}setTimeout(function(){oThat.opening_state=2},200)},closeSelect:function(e,f,c){var d=this;if(f){$("#foldout_login").css({display:"none"});$("#multiple_login").css({display:"none"});$("#foldout_loggedin").css({display:"block"});if(c){$("#stats_menu_link").css({display:"block"})}}if(this.opening_state==2){$(".select_foldout").animate({height:"0px"},200,function(){$(".select_foldout").css({display:"none"});$(".select_box").removeClass("sel_open");if(e&&e!=null){d.openSelect(e)}});this.opening_state=0}if($("#user_searches_menu").length){booking[sNSStartup].user_searches.closeTabs()}},scrollToLogin:function(){if(booking.env.rtl){$("body").scrollTo({top:0,left:0},500)}else{$("body").scrollTo({top:0,left:1000},500)}this.openSlow=true;if(this.opening_state==0){this.openSelect("current_account")}else{this.closeSelect("current_account")}},hideLoader:function(){$("#login_loading").hide()}};booking[sNSExperimentsLoad].login_in_bs3={priority:9,init:function(){$("#login_bs_placeholder").click(function(){var c=$(this).position().top+16;var d=$("#address1").position().left+$("#address1").width()+25;$("#book_step_login").css({top:c+"px",left:d+"px"});$("#book_step_login").show();return false});$("#book_step_login span.close_link").click(function(){$("#book_step_login").hide()})}};booking[sNSExperimentsLoad].login_in_bs2={priority:9,init:function(){var c=this;$("#login_bs_placeholder").click(function(){var d=$(this).position().top+20;var e=$(this).position().left;$("#book_step_login").css({top:d+"px",left:e+"px"});$("#book_step_login").show();return false});$("#book_step_login span.close_link").click(function(){$("#book_step_login").hide()});$("#email").keyup(function(){c.checkEmailExists(this)});$("#email").blur(function(){c.checkEmailExists(this)})},checkEmailExists:function(e){var c=$(e).val();var d=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;if(c!=""&&d.test($("#email").val())){$.get("/check_if_account_exists?email="+c,function(f){if(f.user_exists==1&&f.confirmed==1){$("#hidden_user_name").val(c);$("#login_bs_placeholder").show("slow")}else{$("#login_bs_placeholder").hide()}})}else{$("#login_bs_placeholder").hide()}}};booking[sNSStartup].my_social_networks={priority:9,tp_window:null,tp_cur:"",cur_state:"CLOSED",window_sizes:{yahoo:[510,500],facebook:[500,450],google:[850,510]},init:function(){var c=this;$(".signup_tp a, #re_log_in a, a.connect_with").click(function(){booking[sNSStartup].new_personal_menu.opening_state=2;var k=this;var e=$(k).attr("href");var g=$(k).attr("id");var f=e;$("#login_loading").show();if(c.cur_state!="OPENING"){if(c.tp_window){if(c.tp_cur!=g.toLowerCase()){window.clearInterval(c.checking_in);c.tp_window=null;c.cur_state="CLOSED"}else{c.tp_window.focus()}}else{c.cur_state="OPENING";c.tp_cur=g.toLowerCase();var j=500;var h=500;if(c.window_sizes[c.tp_cur]){var j=c.window_sizes[c.tp_cur][0];var h=c.window_sizes[c.tp_cur][0]}var l="width="+j+",height="+h+",toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=1";c.tp_window=window.open(f,"",l);var d="rem_provider="+c.tp_cur;if(booking.env.b_this_url.indexOf(d)>-1){booking.env.b_this_url=booking.env.b_this_url.replace(";"+d,"");booking.env.b_this_url=booking.env.b_this_url.replace(d,"")}c.checking_in=window.setInterval(function(){if((c.tp_window&&c.tp_window.closed)||!c.tp_window){$("#login_loading").hide();window.clearInterval(c.checking_in);c.tp_window=null;c.cur_state="CLOSED"}},1000);c.cur_state="OPENED";if(c.tp_window){c.tp_window.focus()}}}return false})}};booking[sNSStartup].merge_mybooking_myaccount={priority:9,old_pin_shown:false,init:function(){var c=this;$("#user_pin_link").click(function(){$("#old_pin_login").css("display","block");$("#old_pin_login").animate({left:"260px"});c.old_pin_show=true;return false});$("#new_user").click(function(){c.newUserOpen(true)});$("#existing_user").click(function(){c.newUserOpen(false)});$("#old_pin_login a").click(function(){$("#old_pin_login").animate({left:"500px"},function(){$("#old_pin_login").css("display","none")});c.old_pin_show=false;return false})},newUserOpen:function(c){if(this.old_pin_show){$("#old_pin_login").hide()}if(c){$("#existing_user_login").hide();$("#foldout_signup").show();$("#existing_user").removeClass("active");$("#new_user").addClass("active")}else{$("#existing_user_login").show();$("#foldout_signup").hide();$("#new_user").removeClass("active");$("#existing_user").addClass("active")}}};booking[sNSExperimentsLoad].welcome_user={priority:9,old_pin_shown:false,init:function(){$("#welcome_login").click(function(){booking[sNSStartup].new_personal_menu.openSelect("current_account");booking[sNSStartup].merge_mybooking_myaccount.newUserOpen(false);return false});$("#welcome_signup").click(function(){booking[sNSStartup].new_personal_menu.openSelect("current_account");booking[sNSStartup].merge_mybooking_myaccount.newUserOpen(true);return false})}};$(function(){$("#msg_low_avail .button_close").click(function(c){c.preventDefault();$("#msg_low_avail").fadeOut("fast")})});booking.ensureNamespaceExists(sNSExperiments);booking[sNSStartup].experiment_low_feedback_score_bs4={priority:9,loadpos:0,savecheck:0,init:function(){var c=function(){var g=$("input.feebback_booking_number").val();var f=$("textarea.comment_feedback").val();var e=$(".score_feedback").val();var d=$(".feedback_id_hotel").val();$("#netPromoterScore p.success").css("display","none");$.ajax({type:"POST",url:booking.env.b_secure_hostname_feedback+"/feedback",data:{comment:f+"\nnps"+e,hotel_id:d,object_id:g,type:"nps",lang:booking.env.b_lang}})};$(".review_low").click(function(d){c();d.stopPropagation();$("#feedback_score").css("display","none");$("#feedback_score_thank_you").css("display","block");return false})}};booking[sNSStartup].experiment_nps={priority:9,loadpos:0,savecheck:0,init:function(){var c=function(f){var g=f.attr("score");var d=$("#netPromoterScore_daddy").attr("hr");var e=$("#netPromoterScore_daddy").attr("tid");$.ajax({url:"/receive_nps?tid="+escape(e)+"&hr="+escape(d)+"&nps="+g,context:document.body,success:function(k,m,j){var l=$("#netPromoterScore");if(l.find("table").length>0){var h=l.find("table")}else{var h=l.find("ul")}if(k.status=="thanks"){h.before('<p class="success">'+booking.env.conf_page_thanks_opinion+"</p>");if(g<7&&booking.env.js_experiment_tracking.low_feedback_score_bs4!=""){booking.env.trackExperiment(booking.env.js_experiment_tracking.low_feedback_score_bs4);$("#feedback_score").css("display","block");$(".score_feedback").val(g)}else{$("#feedback_score").css("display","none")}}else{if(k.status=="voted_already"){h.before('<p class="voted">'+booking.env.conf_page_answered_question+"</p>")}else{h.before('<p class="error">'+booking.env.conf_page_error_inconvenience+"</p>")}}h.fadeOut()},dataType:"json",type:"PUT"})};if($("#netPromoterScore").length>0){$("#netPromoterScore").fadeIn()}$("td, li","#netPromoterScore").click(function(d){c($(this));d.stopPropagation();return false});$("td input, td label, li input, li label","#netPromoterScore").click(function(){return true})}};booking[sNSExperiments].occupancy_policy={priority:9,init:function(){$(".occ_policy_tooltip.jq_tooltip").tooltip({bodyHandler:function(){return $(this).siblings(".occ_policy").html()},showURL:false,track:true,opacity:1,fade:250,left:-200,top:18});return true}};booking.preload_static_assets=function(g){var d,f,c,e=$.browser.msie;for(d=0,f=g.length;d<f;d+=1){if(e){new Image().src=g[d];continue}c=document.createElement("object");c.data=g[d];if(e){c.width=1;c.height=1;c.style.visibility="hidden";c.type="text/plain"}else{c.width=0;c.height=0}document.body.appendChild(c)}};$(window).load(function(){var c=$(document.body),g=$("[data-preload-assets]"),h=0,e=function(){c.unbind("mousemove",d);clearTimeout(h);booking.preload_static_assets(g.data("preload-assets"))},f=function(){h=setTimeout(e,3000)},d=function(){clearTimeout(h);f()};if(g.length){if(g.data("preload-assets-onload")){setTimeout(e,2000);return}setTimeout(function(){f();c.bind("mousemove",d)},2000)}});booking.ensureNamespaceExists(sNSExperiments);booking[sNSExperiments].request_group_size_in_policy={priority:9,init:function(){var d=this;var c="#group_definition_modal";$(".group_modal_toggle").click(function(){$("#searchboxInc .search_summary_block").hide();$("#searchboxInc .original_search_form").removeClass("original_search_form_hidden");$(c).show();if($("#group_definition_modal #default_group_new_block").length){}else{$("#default_group_new_block").insertBefore("#group_definition_modal table")}$(c).append("<input type=hidden id=hp_group_is_set name=hp_group_set value=1 />");$("html, body").animate({scrollTop:0},"slow")});$("#group_definition_modal #close").click(function(){if($("#define_group .group_set").length){$("#hp_group_is_set",c).remove()}else{$("#default_group_new_block").insertBefore($("#define_group #group_definition"))}})}};$(function(){$("a.room_link_changes_date").click(function(c){c.stopPropagation();c.preventDefault();$(this).siblings(".confirm_change_date").css({top:c.pageY+"px"}).show().find("a[href=#continue]").attr("href",$(this).attr("href"))});$(".confirm_change_date a[href=#cancel]").click(function(c){c.stopPropagation();c.preventDefault();$(".confirm_change_date").hide()});$(".confirm_change_date").click(function(c){c.stopPropagation()});if($(".confirm_change_date").length>0){$("body").click(function(){$(".confirm_change_date").hide()})}if($("#maxotel_rooms tr.highlight").length>0){$("body, html").scrollTop($("#availability_target").offset().top)}});$(function(){$("a.hotel_link_changes_date").click(function(c){c.stopPropagation();c.preventDefault();$(this).siblings(".confirm_change_date_hotel").css({top:c.pageY+"px"}).show().find("a[href=#continue]").attr("href",$(this).attr("href"))});$(".confirm_change_date_hotel a[href=#cancel]").click(function(c){c.stopPropagation();c.preventDefault();$(".confirm_change_date_hotel").hide()});$(".confirm_change_date_hotel").click(function(c){c.stopPropagation()});if($(".confirm_change_date_hotel").length>0){$("body").click(function(){$(".confirm_change_date_hotel").hide()})}if($("#maxotel_rooms tr.highlight").length>0){$("body, html").scrollTop($("#availability_target").offset().top)}});$(function(){$("a.photo_link_changes_date").click(function(c){c.stopPropagation();c.preventDefault();$(this).siblings(".confirm_change_date_photo").css({top:c.pageY+"px"}).show().find("a[href=#continue]").attr("href",$(this).attr("href"))});$(".confirm_change_date_photo a[href=#cancel]").click(function(c){c.stopPropagation();c.preventDefault();$(".confirm_change_date_photo").hide()});$(".confirm_change_date_photo").click(function(c){c.stopPropagation()});if($(".confirm_change_date_photo").length>0){$("body").click(function(){$(".confirm_change_date_photo").hide()})}if($("#maxotel_rooms tr.highlight").length>0){$("body, html").scrollTop($("#availability_target").offset().top)}});$(function(){$("a.review_link_changes_date").click(function(c){c.stopPropagation();c.preventDefault();$(this).siblings(".confirm_change_date_review").css({top:c.pageY+"px"}).show().find("a[href=#continue]").attr("href",$(this).attr("href"))});$(".confirm_change_date_review a[href=#cancel]").click(function(c){c.stopPropagation();c.preventDefault();$(".confirm_change_date_review").hide()});$(".confirm_change_date_review").click(function(c){c.stopPropagation()});if($(".confirm_change_date_review").length>0){$("body").click(function(){$(".confirm_change_date_review").hide()})}if($("#maxotel_rooms tr.highlight").length>0){$("body, html").scrollTop($("#availability_target").offset().top)}});$(function(){$("a.more_link_changes_date").click(function(c){c.stopPropagation();c.preventDefault();$(this).siblings(".confirm_change_date_more").css({top:c.pageY+"px"}).show().find("a[href=#continue]").attr("href",$(this).attr("href"))});$(".confirm_change_date_more a[href=#cancel]").click(function(c){c.stopPropagation();c.preventDefault();$(".confirm_change_date_more").hide()});$(".confirm_change_date_more").click(function(c){c.stopPropagation()});if($(".confirm_change_date_more").length>0){$("body").click(function(){$(".confirm_change_date_more").hide()})}if($("#maxotel_rooms tr.highlight").length>0){$("body, html").scrollTop($("#availability_target").offset().top)}});$(function(){$("a.scarcity_link_changes_date").click(function(c){c.stopPropagation();c.preventDefault();$(this).siblings(".confirm_change_date_scarcity").css({top:c.pageY+"px"}).show().find("a[href=#continue]").attr("href",$(this).attr("href"))});$(".confirm_change_date_scarcity a[href=#cancel]").click(function(c){c.stopPropagation();c.preventDefault();$(".confirm_change_date_scarcity").hide()});$(".confirm_change_date_scarcity").click(function(c){c.stopPropagation()});if($(".confirm_change_date_scarcity").length>0){$("body").click(function(){$(".confirm_change_date_scarcity").hide()})}if($("#maxotel_rooms tr.highlight").length>0){$("body, html").scrollTop($("#availability_target").offset().top)}});booking[sNSStartup].search_history={priority:9,fullListShowed:false,minListSize:5,lastviewTimer:null,loadStart:null,init:function(){this.loadStart=new Date();var c=this;if(document.getElementById("SearchHistory")){try{this.minListSize=parseInt($("#SearchHistory").attr("min"))}catch(d){}$("a.remove_search").click(function(){var f=$(this).attr("href").substring(1).split(";");var g=f[0];var e=f[1];var h=f[2];$.ajax({url:"/search_history",type:"DELETE",data:{type:g,value:e,epoch:h}});booking[sNSStartup].search_history.cleanupHistoryList(this);this.blur();return false});if($("#showAllSearches").length){$("#showAllSearches").click(function(){booking[sNSStartup].search_history.showAll();this.blur();return false})}if($("#removeAllSearches").length){$("#removeAllSearches").click(function(){booking[sNSStartup].search_history.removeAll(true);this.blur();return false})}}return true},cleanupHistoryList:function(d){var c=this.minListSize;$(d).parent().fadeOut(500,function(){$(d).parents("li").remove();if($("#SearchHistory li").length>c-1){var e=$("#SearchHistory li").get(c-1);$(e).fadeIn(1000)}});if($("#SearchHistory li").length<2){booking[sNSStartup].search_history.removeAll(false)}if(document.getElementById("showAllSearches")){if($("#SearchHistory li").length<c+2){$("#moreSearchesLinkWrapper").hide()}}},showAll:function(){var c=$("#SearchHistory li");var d=this.minListSize;if(!booking[sNSStartup].search_history.fullListShowed){for(i=d-1;i<c.length;i++){$(c[i]).fadeIn(500)}booking[sNSStartup].search_history.fullListShowed=true}else{for(i=d;i<c.length;i++){$(c[i]).fadeOut(500)}booking[sNSStartup].search_history.fullListShowed=false}booking[sNSStartup].search_history.switchCaption()},removeAll:function(c){if(c){$.ajax({url:"/search_history",type:"DELETE",data:{type:-1,value:null,epoch:null}})}$("#SearchHistory").fadeOut(500,function(){$(this).remove()})},switchCaption:function(){if(booking[sNSStartup].search_history.fullListShowed){$("#showAllSearches .showLink").hide();$("#showAllSearches .hideLink").show()}else{$("#showAllSearches .showLink").show();$("#showAllSearches .hideLink").hide()}}};$("a.search_summary_toggle_button").click(function(){$(".search_summary_block").hide();$(".original_search_form").removeClass("original_search_form_hidden");return false});booking[sNSStartupLoad].search_all_roomtypes={priority:9,init:function(){this.addMoreLink(document);$("a.more_rooms_link").live("click",function(d){d.preventDefault();var c=booking.env.b_site_experiment_sr_fewer_rooms?2:3;if($(".define_group_table").length){if($(this).hasClass("more_rooms_hide")){$(this).next().hide();$(this).removeClass("more_rooms_hide")}else{$(this).next().show();$(this).addClass("more_rooms_hide")}}else{if($(this).hasClass("more_rooms_hide")){$(this).parents("table").eq(0).find("tbody tr:gt("+(c-1)+")").addClass("hidden");$(this).removeClass("more_rooms_hide")}else{$(this).parents("table").eq(0).find("tbody tr:gt("+(c-1)+")").removeClass("hidden");$(this).addClass("more_rooms_hide")}}this.blur();if(typeof booking.env.b_site_experiment_clicktale!="undefined"&&booking.env.b_site_experiment_clicktale&&typeof ClickTale=="function"){ClickTaleExec('$("a.more_rooms_link:eq('+$("a.more_rooms_link").index(this)+')").trigger("click")')}return false});return true},addMoreLink:function(c){if(booking.env.b_action==="searchresults"){if(booking.env.b_site_experiment_improved_group_booking_block2&&$(".group_table").length){$("form table.featuredRooms").each(function(){var d=booking.env.group_booking_02;$(this).hide().before('<a class="more_rooms_link" href="#">'+d+"</a>")})}else{if(!$("table.featuredRooms .more_rooms_link",c).length){$("form table.featuredRooms",c).each(function(){var f=$(this).find("tbody tr").length,d=booking.env.b_site_experiment_sr_fewer_rooms?2:3,g="";f-=d;if(f>1){if($(this).hasClass("apt")){var h=booking.env.see_all_xxxx_rooms_apt.replace(/\d+/,f)}else{var h=booking.env.see_all_xxxx_rooms.replace(/XXXX/,f)}if(typeof booking.env.b_site_experiment_searchresults_all_roomtypes_text!="undefined"&&booking.env.b_site_experiment_searchresults_all_roomtypes_text){var e=b_hidden_roomtypes[$(this).parent().find("input[name=hotel_id]").val()];if(e!=""){h+=" - "+e}}if(booking.env.b_site_experiment_include_taxes_for_all_euro_countries==2){$(this).parent("form").find(".taxes_included-tag").css("top","-1em")}$(this).find("tfoot").prepend('<tr><td colspan="'+booking.env.width_of_tfoot+'"><a class="more_rooms_link" href="#">'+h+"</a></td></tr>").parent().each(function(){$(this).find("tbody tr:gt("+(d-1)+")").addClass("hidden")})}})}}}}};if(booking.env.b_site_experiment_all_roomtypes_performance){booking[sNSStartupLoad].search_all_roomtypes.addMoreLink=function(c){var d=booking.env,e=$(c);if(d.b_action==="searchresults"){if($(".group_table").length){$("form table.featuredRooms").each(function(){$(this).hide().before('<a class="more_rooms_link" href="#">'+d.group_booking_02+"</a>")})}else{if(!e.find("table.featuredRooms .more_rooms_link").length){e.find("form table.featuredRooms").each(function(){var g=$(this),h=g.find("tbody > tr").length,f=3,j;h-=f;if(h>1){j=g.hasClass("apt")?d.see_all_xxxx_rooms_apt.replace(/\d+/,h):d.see_all_xxxx_rooms.replace(/XXXX/,h);g.find("tfoot").prepend('<tr><td colspan="'+d.width_of_tfoot+'"><a class="more_rooms_link" href="#">'+j+"</a></td></tr>").parent().each(function(){$(this).find("tbody tr:gt("+(f-1)+")").addClass("hidden")})}})}}}}}booking.social_plugins_footer=(function(){var d=false;var f=false;var e=false;var c=function(k,j){var h=document.createElement("script");h.type="text/javascript";h.src=k;j.find(".footer_tooltip").append(h)};var g=function(){var h=$("#footer_fb"),j=$("#footer_tw"),k=$("#footer_gp");h.hover(function(l){h.find(".footer_tooltip").fadeIn();booking.google.trackEvent(booking.google.hoverTracker,"Social Media Footer icons","Facebook");if(d){return}h.find(".footer_tooltip").append('<iframe src="//www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.facebook.com%2Fbookingcom&amp;send=false&amp;layout=button_count&amp;width=450&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:150px; height:21px;" allowTransparency="true"></iframe>');d=true},function(){h.find(".footer_tooltip").fadeOut()});j.hover(function(l){j.find(".footer_tooltip").fadeIn();booking.google.trackEvent(booking.google.hoverTracker,"Social Media Footer icons","Twitter");if(f){return}c("//platform.twitter.com/widgets.js",j);f=true},function(){j.find(".footer_tooltip").fadeOut()});k.hover(function(l){k.find(".footer_tooltip").fadeIn();booking.google.trackEvent(booking.google.hoverTracker,"Social Media Footer icons","Google+");if(e){return}c("https://apis.google.com/js/plusone.js",k);e=true},function(){k.find(".footer_tooltip").fadeOut()})};return{init:g}}());booking[sNSExperiments].social_plugins_footer={priority:9,init:function(){booking.social_plugins_footer.init()}};booking.dockSocial=(function(){var c=false;var e=function(j){var g=document.createElement("script");g.type="text/javascript";g.async=true;g.src=j;var h=document.getElementsByTagName("script")[0];h.parentNode.insertBefore(g,h)};var d=function(){if(c){return}$(".dock_social_fb").html('<iframe src="//www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.facebook.com%2Fbookingcom&amp;send=false&amp;layout=button_count&amp;width=450&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:150px; height:21px;" allowTransparency="true"></iframe>');e("//platform.twitter.com/widgets.js");e("https://apis.google.com/js/plusone.js");c=true};var f=function(){$(".doc_social_link").mouseover(function(){d();var g=$(this).innerWidth();var h=Math.round(g/2)-16;$(".dock_social_block_angle").css("left",h);$(".dock_social_block").show()});$(".dock_social_block_remove").click(function(){$(".dock_social_block").hide()})};return{init:f}}());booking[sNSExperiments].social_plugins_two_new_footer_bars={priority:9,init:function(){booking.dockSocial.init()}};booking[sNSStartup].sort_popups={priority:9,anchorSelector:"#sort_by li.sort_stars > a, #sort_by li.sort_price > a, #sort_by li.review_score > a",ulSelector:"#sort_by li.with_dd ul",init:function(){$(this.anchorSelector).bind("click",function(){var c=$(this).siblings("ul");if(c.css("display")=="block"){booking[sNSStartup].sort_popups.hideSortPopups()}else{booking[sNSStartup].sort_popups.hideSortPopups();booking[sNSStartup].sort_popups.showPopup(c)}return false})},showPopup:function(c){$(c).show();$(document).one("click",function(){booking[sNSStartup].sort_popups.hideSortPopups()})},hideSortPopups:function(){$(this.ulSelector).hide()}};booking[sNSExperiments].sr_comp_set_destinations={priority:9,init:function(){$.ajax({type:"GET",url:booking.env.b_sr_compset_url+";pid="+booking.env.pageview_id+";sid="+booking.env.b_sid,contentType:"text/html; charset=utf-8",success:function(c){if(!c.match(/^\s*$/)){$("#x_sr_compset").html(c).show()}}})}};booking.ensureNamespaceExists(sNSExperiments);booking[sNSExperiments].sr_hotel_preview_on_hover={priority:9,init:function(){this.trackHotelPreview()},initElse:function(){this.trackHotelPreview()},trackHotelPreview:function(){if(booking.env.js_experiment_tracking.sr_hotel_preview_on_hover!==""&&booking.env.js_experiment_tracking.sr_hotel_preview_on_hover!=="stopped"){$(".sr_hotel_preview_track").hover(function(){if($("#sr_hotel_preview_on_hover").length){booking.env.trackExperiment(booking.env.js_experiment_tracking.sr_hotel_preview_on_hover)}})}}};booking.ensureNamespaceExists(sNSExperiments);booking[sNSExperiments].sr_show_large_photo={priority:9,init:function(){this.trackCaption();return true},initElse:function(){this.trackCaption();return true},trackCaption:function(){if(booking.env.js_experiment_tracking.sr_show_large_photo!=""&&booking.env.js_experiment_tracking.sr_show_large_photo!="stopped"){var c=false;$("#search_results_table a.hotel").one("mouseenter",function(d){if(!c){c=true;if(booking.env.js_experiment_tracking.sr_show_large_photo){booking.env.trackExperiment(booking.env.js_experiment_tracking.sr_show_large_photo)}}})}}};if(typeof b_survey_url!="undefined"&&b_survey_url){booking[sNSStartup].survey={priority:9,init:function(){$("#survey").fadeIn("normal");var c="/survey?";$("#survey button").click(function(f){var g=$(this).val();if(g){if(g=="accept"||g=="Yes"||g=="yes"||g=="Ja, ik doe mee"||g=="Okay"){var d=window.open(b_survey_url,"booking_survey_window")}else{$("#survey").hide("normal")}$.get(c+"decision="+g+"&survey_key="+booking.env.survey_key,{},function(e){$("#survey").hide("normal")})}return false})}}}booking[sNSExperiments].fb_likes={priority:9,likes:"",init:function(){var c=this;if(booking.env.b_action=="book"){this.likes=setInterval(function(){var d=booking.env.b_fb_id;if(window[d[5]+d[0]]){booking.env.trackExperiment(booking.env.js_experiment_tracking.fb_likes);window.clearInterval(c.likes);c.likes=""}},10000)}}};$("#header_tagline_text, #logo, #globe").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Header tracking","Click on logo")});$("#current_currency").click(function(){if($("#current_currency_foldout").is(":hidden")){booking.google.trackEvent(booking.google.clickTracker,"Header tracking","Click on currency dropdown")}});$("#current_language").click(function(){if($("#current_language_foldout").is(":hidden")){booking.google.trackEvent(booking.google.clickTracker,"Header tracking","Click on language dropdown")}});$("#current_account").click(function(){if($("#current_account_foldout").is(":hidden")){booking.google.trackEvent(booking.google.clickTracker,"Header tracking","Click on my account dropdown")}});$("#current_currency_foldout a").live("click",function(){booking.google.trackEvent(booking.google.clickTracker,"Header tracking","Changed currency")});$("#current_language_foldout a").live("click",function(){booking.google.trackEvent(booking.google.clickTracker,"Header tracking","Changed language")});$("#click_current_currency_foldout a").live("click",function(){booking.google.trackEvent(booking.google.clickTracker,"Header tracking","Changed currency - click on prices")});$("#enB").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Header tracking","Click on website feedback")});booking[sNSStartup].filterbox_loading={priority:9,loadpos:0,savecheck:0,init:function(){if(!booking.env.b_site_experiment_ajax_filters){$(".filterelement").click(function(){if($(this).hasClass("active")){$(this).removeClass("active")}else{$(this).addClass("active")}booking[sNSStartup].filterbox_loading.anim=setInterval("booking[sNSStartup].filterbox_loading.loadanimation()",200);booking[sNSStartup].filterbox_loading.show();location.href=this.href;return false});$(".option").click(function(){$("#filterbox_overlay").show();return true})}return true},loadanimation:function(){this.loadpos=this.loadpos+1;var c=booking[sNSStartup].filterbox_loading.loadpos*34;if(this.loadpos>15){this.loadpos=0;this.savecheck++;c=0}document.getElementById("filterbox_overlay_animation").style.backgroundPosition="-"+c+"px 0px";if(this.savecheck>3){clearInterval(this.anim)}},show:function(){var d=0;if($.browser.msie){if($.browser.version<8){d=-0.5}else{d=7}}var e=$("#filterbox_options").height();if(e==0){e=1}$("#filterbox_overlay").css("width",$("#filterbox_options").width()).css("height",e);$("#filterbox_overlay_image_container").css("top",e/2-50);if(d!=0){$("#filterbox_overlay").css("margin-left",d)}var c=$("#filterbox_overlay_loading");$("#filterbox_overlay").show();if($.browser.msie){c.attr("src",c.attr("src"))}}};booking[sNSStartup].fixMail={priority:9,init:function(){var c=this;$(".encrypted").each(function(){$(this).html(c.deCode($(this).text()));$(this).removeClass("encrypted")})},deCode:function(c){return c.replace(/[a-zA-Z]/g,function(d){return String.fromCharCode((d<="Z"?90:122)>=(d=d.charCodeAt(0)+13)?d:d-26)})}};function calcage(c,e,d){s=((Math.floor(c/e))%d).toString();if(LeadingZero&&s.length<2){s="0"+s}return"<b>"+s+"</b>"}function CountBack(c){if(c<0){if(document.getElementById("cntdwn")){document.getElementById("cntdwn").innerHTML=FinishMessage;return}}else{if(c>86400){DisplayStr_days=DisplayFormat_days.replace(/%%D%%/g,calcage(c,86400,100000));document.getElementById("flash_days").innerHTML=DisplayStr_days}else{document.getElementById("flash_days_wrapper").style.display="none"}}DisplayStr_hours=DisplayFormat_hours.replace(/%%H%%/g,calcage(c,3600,24));DisplayStr_minutes=DisplayFormat_minutes.replace(/%%M%%/g,calcage(c,60,60));DisplayStr_seconds=DisplayFormat_seconds.replace(/%%S%%/g,calcage(c,1,60));document.getElementById("flash_hours").innerHTML=DisplayStr_hours;document.getElementById("flash_minutes").innerHTML=DisplayStr_minutes;document.getElementById("flash_seconds").innerHTML=DisplayStr_seconds;if(CountActive){setTimeout("CountBack("+(c+CountStepper)+")",SetTimeOutPeriod)}}if(typeof(TargetDate)=="undefined"){TargetDate="12/31/2020 5:00 AM"}if(typeof(DisplayFormat)=="undefined"){DisplayFormat="%%D%% Days, %%H%% Hours, %%M%% Minutes, %%S%% Seconds."}if(typeof(CountActive)=="undefined"){CountActive=true}if(typeof(FinishMessage)=="undefined"){FinishMessage=""}if(typeof(CountStepper)!="number"){CountStepper=-1}if(typeof(LeadingZero)=="undefined"){LeadingZero=true}CountStepper=Math.ceil(CountStepper);if(CountStepper==0){CountActive=false}var SetTimeOutPeriod=(Math.abs(CountStepper)-1)*1000+990;var dthen=new Date(TargetDate);var dnow=new Date();if(CountStepper>0){ddiff=new Date(dnow-dthen)}else{ddiff=new Date(dthen-dnow)}gsecs=Math.floor(ddiff.valueOf()/1000);if(document.getElementById("flash_seconds")){CountBack(gsecs)}booking.ensureNamespaceExists("google");booking.google.AjaxApiLoader=function(){var c=booking,e=c.env;function d(g){var f=window.location.protocol;this.script={_this:this,"@type":"text/javascript","@src":f+"//www.google.com/jsapi?oe=utf-8&"+e.b_google_maps_key_params};if(e.b_lang){this.script["@src"]+=("&hl="+e.b_lang)}if(g){this.script["@src"]+=("&callback="+g)}}return{loaded:false,load:function(f){booking.google.AjaxApiLoader.loaded=true;return c.utils.buildHtmlNode(new d(f),document.getElementsByTagName("head")[0])}}}();booking[sNSStartupLoad].google_thumbnail_map={priority:9,init:function(){var c=$("#b_google_map_thumbnail").attr("data-map");if(c){if(window.location.protocol.indexOf("s")!=-1){c=c.replace("http","https")}$("#b_google_map_thumbnail").attr("style","background-image: url("+c+");")}return true}};if(!Array.prototype.walk){Array.prototype.walk=function(e){var c=[],d=this.length;while(d--){c.push(e(this[d]))}return c.reverse()}}if(!Array.prototype.flatten){Array.prototype.flatten=function(){var d=[],e=-1,c=this.length;while(++e<c){d=d.concat(this[e].constructor==Array?this[e].flatten():this[e])}return d}}if(!Array.indexOf){Array.prototype.indexOf=function(d){for(var c=0;c<this.length;c++){if(this[c]==d){return c}}return -1}}booking.ensureNamespaceExists("google");booking.google.returnAnalyticsTrackingString=function(){var c=booking.env;var d=[];d[d.length]=c.b_this_urchin.replace(/&amp;$/,"");d[d.length]="ur_aid="+c.b_aid;d[d.length]="ur_plang="+c.b_lang_for_url;d[d.length]="ur_gstcc="+c.b_guest_country;if(c.b_search_category!=""){d[d.length]="ur_scat="+c.b_search_category}if(c.b_experiment_group){d[d.length]="ur_expgr=1"}if(c.b_action==="hotel"){if(c.b_hotel_blocks===0&&c.b_checkin_date){d[d.length]="ur_honovail=1"}else{if(!c.b_checkin_date){d[d.length]="ur_honodat=1"}else{d[d.length]="ur_hodat=1"}}d[d.length]="ur_hocc1="+c.b_countrycode;if(typeof c.b_label!="undefined"&&c.b_label.substr(0,11)=="postbooking"){d[d.length]="ur_postbknglabel="+c.b_label}}if(c.b_action==="searchresults"){if(c.b_multiple_destinations_found){d[d.length]="ur_srdis=1"}if(c.b_availability_checked){d[d.length]="ur_srdat=1"}if(c.b_available_hotels){if(c.b_available_hotels==0){d[d.length]="ur_hc=0"}else{if(c.b_available_hotels<=20){d[d.length]="ur_hc=1"}else{d[d.length]="ur_hc=2"}}}}if(c.b_context_details){d[d.length]=c.b_context_details.walk(function(f){return["rctp="+f.b_type,"ur_srcid="+f.b_code]})}if(typeof b_first_seen!="undefined"&&b_first_seen!=""){d[d.length]="first_seen="+b_first_seen}if(c.b_yahoo_param_keyword||c.b_yahoo_param_advert||c.b_yahoo_param_campaign){d[d.length]="utm_source=yahoo";d[d.length]="utm_medium=cpc";if(c.b_yahoo_param_keyword){d[d.length]="utm_term="+c.b_yahoo_param_keyword}if(c.b_yahoo_param_advert){d[d.length]="utm_content="+c.b_yahoo_param_advert}if(c.b_yahoo_param_campaign){d[d.length]="utm_campaign="+c.b_yahoo_param_campaign}}return d.flatten().join("&amp;")};booking.ensureNamespaceExists("google");booking.google.trackEvent=function(e,f,g,d,c){if(typeof e!="undefined"){_gaq.push(["_trackEvent",e,f,g,1,true])}};booking[sNSExperiments].event_tracking={priority:9,init:function(){if(typeof _gaq!="undefined"){booking.google.errorTracker="Error";booking.google.clickTracker="Click";booking.google.hoverTracker="Hover";booking.google.mapTracker="Map";booking.google.pageviewTracker="Pageview";booking.google.viewTracker="View";booking.google.cityTracker="City";booking.google.groupTracker="Group";booking.google.cardTracker="Credit Card";booking.google.comparisonTracker="Hotel Comparison";$("body").delegate("a, .trackit","click",function(){var j="";$(this).parents(".tracked").each(function(){j=(this.id)?"#"+this.id+" > "+j:(this.className)?"."+this.className+" > "+j:this.tagName+" > "+j});if(j!=""){j=(this.id)?j+"#"+this.id:(this.className)?j+"."+this.className:j+"a";booking.google.trackEvent(booking.google.clickTracker,"Action: "+booking.env.b_action,j);if(booking.env.b_site_experiment_clicktale_track_all_clicks){ClickTaleTag("Click: "+j)}}});if($("select[name^=group]").length){$("#frm").submit(function(){if($("#clear_group").val()=="1"){return}var j=$("#frm select[name=group_adults]");var k=j.length;j.each(function(){var m=this.value;var l=$(this).parent().next().find("select").val();var n=[];$("#frm input[name=age]").each(function(o){n[o]=this.value});booking.google.trackEvent(booking.google.groupTracker,"["+k+"] "+m+" adults + "+l+" children","Ages: "+n.join(", "));if(typeof booking.env.b_site_experiment_clicktale!="undefined"&&booking.env.b_site_experiment_clicktale&&window.ClickTaleTag){ClickTaleTag("Group: ["+k+"] "+m+" adults + "+l+" children")}})});$("#clear_and_submit").click(function(){booking.google.trackEvent(booking.google.groupTracker,"Clear Group",booking.env.b_action);if(typeof booking.env.b_site_experiment_clicktale!="undefined"&&booking.env.b_site_experiment_clicktale&&window.ClickTaleTag){ClickTaleTag("Group: Cleared")}})}if($("#disambiguationInc2").length==0&&(booking.env.b_group.length>1||(booking.env.b_group.length==1&&(booking.env.b_group[0].guests==1||booking.env.b_group[0].guests>2||booking.env.b_group[0].children>0)))){booking.google.trackEvent(booking.google.groupTracker,"Group Present",booking.env.b_action);if(typeof booking.env.b_site_experiment_clicktale!="undefined"&&booking.env.b_site_experiment_clicktale&&window.ClickTaleTag){ClickTaleTag("Group: In Session ("+booking.env.b_group.length+" rooms)")}}$("#select_group2").click(function(){booking.google.trackEvent(booking.google.groupTracker,"Clicked group Book button")});var h=$(".error, .errorSimpleMsg");for(var f=0;f<h.length;f++){if(!$(this).hasClass("disabled")){var e=h[f].getAttribute("rel");if(e!=null){booking.google.trackEvent(booking.google.errorTracker,"Display",e);if(typeof booking.env.b_site_experiment_clicktale!="undefined"&&booking.env.b_site_experiment_clicktale&&window.ClickTaleTag){ClickTaleTag("error:"+e)}}}}if(typeof trigger_error404_event_tracking!="undefined"&&trigger_error404_event_tracking==true){booking.google.trackEvent(booking.google.pageviewTracker,"404 Error",document.location.pathname+document.location.search+"&from="+document.referrer)}$(".filterbox a").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Filter",(this.id==="city_centre_filter_opt"?"district-city_centre":this.getAttribute("data-id")))});if(booking.env.b_action==="hotel"){$("#hcta").click(function(){var j="Hotel cta";if(booking.env.track_htca){j+=("v"+booking.env.track_htca)}booking.google.trackEvent(booking.google.clickTracker,j,this.getAttribute("data-id"))})}$("#sort_by a").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Sort",this.href.substr(this.href.indexOf("order=")+6))});$("#ccfaq").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Credit Card FAQ Popup","View")});$(".track_register").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Login","Register")});$(".track_login").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Login","Login")});if(booking.env.b_action=="hotelcomparison"){$(".back").click(function(){booking.google.trackEvent(booking.google.comparisonTracker,"Previous Page","Clicked")});$("h1 a, .hotel_comparison_header").click(function(){booking.google.trackEvent(booking.google.comparisonTracker,"Hotel Header",$(this).parent("td").eq(0).attr("class"))});$(".bigbluebutton").click(function(){booking.google.trackEvent(booking.google.comparisonTracker,"Book Now Button",$(this).parent().attr("class"))});$(".bigbluebutton.topbutton").click(function(){booking.google.trackEvent(booking.google.comparisonTracker,"Top Book Now Button on comparison_colors_buttons",$(this).parent().attr("class"))});$(".bigbluebutton.bottombutton2").click(function(){booking.google.trackEvent(booking.google.comparisonTracker,"Bottom Book Now Button on comparison_colors_buttons",$(this).parent().attr("class"))});$(".bigbluebutton.bottombutton").click(function(){booking.google.trackEvent(booking.google.comparisonTracker,"Bottom Book Now Button on comparison_colors",$(this).parent().attr("class"))});$(".remove_hotel").click(function(){booking.google.trackEvent(booking.google.comparisonTracker,"Remove and Replace",$(this).parent().attr("class"))})}$("#bookconditions").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Booking Conditions","Link clicked")});$("#bp_cart a").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Shopping Cart","Link Clicked")})}if(typeof booking.env.b_site_experiment_clicktale!="undefined"&&booking.env.b_site_experiment_clicktale&&window.ClickTaleTag){var h=$(".error");for(var f=0,c=h.length;f<c;f++){if(h[f].offsetHeight>0){var e=h[f].getAttribute("rel");if(e!=null){ClickTaleTag("error: "+e)}}}if(booking.env.b_action=="hotel"){$("#searchboxInc .but button").click(function(){ClickTaleTag("Hotel page search")});var g=$("#photos_distinct").width()-240;if($("#reviewFloater").length){g-=$("#reviewFloater").width()}var d=$("#photos_distinct img").length*43;ClickTaleTag(Math.ceil(d/g)+" photo rows");if(booking.env.b_desc_num_words){if(booking.env.b_desc_num_words<=95){ClickTaleTag("words: small")}else{if(booking.env.b_desc_num_words>120){ClickTaleTag("words: long")}else{ClickTaleTag("words: mid")}}}if(document.getElementById("reviewFloater")){ClickTaleTag("Has positive review")}}}return true}};booking[sNSStartup].google_pageview_tracker={priority:9,init:function(){if(typeof booking.env.google_analytics_tracking_enabled!="undefined"&&booking.env.google_analytics_tracking_enabled){$('div#survey[surveykey="'+booking.env.survey_key+'"] button[value="accept"]').click(function(){_gaq.push(["_trackPageview",booking.env.surveytracklink])});if(booking.env.b_action=="general"){$("a#jobsite").click(function(){_gaq.push(["_trackPageview","/outgoinglink/jobsite"])})}$("#review_useful_share a").click(function(){var c;this.id=="share_any_review_fb"?c="facebook":c="twitter";c+="/"+this.getAttribute("data-id");_gaq.push(["_trackPageview","/outgoinglink/socnet_share/review_v2/"+c]);_gaq.push(["_trackSocial",c,"Share Review"])});$("#flash_bookmark_home").click(function(){_gaq.push(["_trackPageview","/outgoinglink/flashdeals/bookmark"])});$(".priceline_ext_link").click(function(){_gaq.push(["_trackPageview","/outgoinglink/priceline_name_your_price"])});$("#share_popup_inner a").click(function(){var c="hotel_share_popup/base/";if(booking.env.b_site_experiment_fb_send_button){c="fb_send_button/v"+booking.env.b_site_experiment_fb_send_button.v+"/"}if(this.id=="share_popup_fb"){c+="facebook"}else{if(this.id=="share_popup_t"){c+="twitter"}else{c+="mail_a_friend"}}_gaq.push(["_trackPageview","/outgoinglink/socnet_share/"+c]);_gaq.push(["_trackSocial",c,"Share"])});if(booking.env.b_site_experiment_fb_send_button){$("#fb_hotel_info_shares a").click(function(){var c="fb_send_button/v2/";if(this.id=="share_popup_fb"){c+="facebook"}else{c+="twitter"}_gaq.push(["_trackPageview","/outgoinglink/socnet_share/"+c]);_gaq.push(["_trackSocial",c,"Share"])})}$("#share_hotel_history a").click(function(){var c;if(this.id=="share_hotel_history_fb"){c="facebook"}else{if(this.id=="share_hotel_history_t"){c="twitter"}else{c="mail_a_friend"}}_gaq.push(["_trackPageview","/outgoinglink/socnet_share/hotel_history/"+c]);_gaq.push(["_trackSocial",c,"Share History"])});if(booking.env.b_action=="index"){$("#number_one_promotion #wua_link_logo").click(function(){_gaq.push(["_trackPageview","/outgoinglink/wua-1"])});$("#number_one_promotion #link_jobsite_nl").click(function(){_gaq.push(["_trackPageview","/outgoinglink/jobsite_promo_nl"])})}if(booking.env.b_action=="confirmation"){$("#social_share_links a").click(function(){var c="base";if(this.id=="social_share_conf_facebook"){c+="/facebook";sn="facebook"}else{c+="/twitter";sn="twitter"}_gaq.push(["_trackPageview","/outgoinglink/socnet_share/confirmation/"+c]);_gaq.push(["_trackSocial",sn,"Share Confirmation"])});if(booking.env.b_site_experiment_external_review_invite){$("#external_review_invite_link").click(function(){_gaq.push(["_trackPageview","/outgoinglink/confirmation/external_review_invite/"])})}}if((booking.env.b_action=="searchresults")&&booking.env.is_ipad){$("a.filterelement").click(function(){var c=$(this).parent().parent().attr("id");c=c.substring(7);if(booking.env.filterbox_ipad){var e="var1"}else{var e="base"}var d="/outgoinglink/filterbox_ipad_link/"+e+"/"+c+"/";_gaq.push(["_trackPageview",d])})}if(!booking.env.b_site_experiment_google_pageview_tracker_cleanup){$("#iphone_app_itunes_link_1, #iphone_app_itunes_link_2").click(function(){_gaq.push(["_trackPageview","/outgoinglink/iphone_app_promo/itunes"])});$(".facebook_after_signup").click(function(){_gaq.push(["_trackPageview","/outgoinglink/facebook_after_signup"])})}}}};(function(c){c.idleTimer=function(m,e){var f=false,j=true,k=30000,n="mousemove keydown DOMMouseScroll mousewheel mousedown touchstart touchmove";e=e||document;var h=function(t){if(typeof t==="number"){t=undefined}var r=c.data(t||e,"idleTimerObj");r.idle=!r.idle;var o=(+new Date())-r.olddate;r.olddate=+new Date();if(r.idle&&(o<k)){r.idle=false;clearTimeout(c.idleTimer.tId);if(j){c.idleTimer.tId=setTimeout(h,k)}return}var q=jQuery.Event(c.data(e,"idleTimer",r.idle?"idle":"active")+".idleTimer");q.stopPropagation();c(e).trigger(q)},l=function(o){var q=c.data(o,"idleTimerObj");q.enabled=false;clearTimeout(q.tId);c(o).unbind(".idleTimer")},d=function(){var o=c.data(this,"idleTimerObj");clearTimeout(o.tId);if(o.enabled){if(o.idle){h(this)}o.tId=setTimeout(h,o.timeout)}};var g=c.data(e,"idleTimerObj")||{};g.olddate=g.olddate||+new Date();if(typeof m==="number"){k=m}else{if(m==="destroy"){l(e);return this}else{if(m==="getElapsedTime"){return(+new Date())-g.olddate}}}c(e).bind(c.trim((n+" ").split(" ").join(".idleTimer ")),d);g.idle=f;g.enabled=j;g.timeout=k;g.tId=setTimeout(h,g.timeout);c.data(e,"idleTimer","active");c.data(e,"idleTimerObj",g)};c.fn.idleTimer=function(d){if(this[0]){c.idleTimer(d,this[0])}return this}})(jQuery);booking[sNSStartup].ie6_content_width={priority:9,init:function(){if($("html.b_msie_6").length){$(window).resize(function(){var c=document.documentElement.clientWidth;document.getElementById("bodyconstraint-inner").style.width=(c<630)?"630px":((c>1094)?"1094px":(c-20)+"px")})}}};booking[sNSStartup].ipad={priority:9,init:function(){if(typeof booking.env.b_site_experiment_ipad_improvements!="undefined"&&booking.env.b_site_experiment_ipad_improvements){$("label[for]").click(function(){var c=$(this).attr("for");if($("#"+c+"[type=radio], #"+c+"[type=checkbox]").attr("selected",!$("#"+c).attr("selected"))){return}else{$("#"+c)[0].focus()}})}}};jQuery.cookie=function(d,l,o){if(typeof l!="undefined"){o=o||{};if(l===null){l="";o=$.extend({},o);o.expires=-1}var g="";if(o.expires&&(typeof o.expires=="number"||o.expires.toUTCString)){var h;if(typeof o.expires=="number"){h=new Date();h.setTime(h.getTime()+(o.expires*24*60*60*1000))}else{h=o.expires}g="; expires="+h.toUTCString()}var n=o.path?"; path="+(o.path):"";var j=o.domain?"; domain="+(o.domain):"";var c=o.secure?"; secure":"";document.cookie=[d,"=",encodeURIComponent(l),g,n,j,c].join("")}else{var f=null;if(document.cookie&&document.cookie!=""){var m=document.cookie.split(";");for(var k=0;k<m.length;k++){var e=jQuery.trim(m[k]);if(e.substring(0,d.length+1)==(d+"=")){f=decodeURIComponent(e.substring(d.length+1));break}}}return f}};
/*!
 * jQuery hashchange event - v1.3 - 7/21/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,g,d){var e="hashchange",k=document,h,j=$.event.special,l=k.documentMode,f="on"+e in g&&(l===d||l>7);function c(m){m=m||location.href;return"#"+m.replace(/^[^#]*#?(.*)$/,"$1")}$.fn[e]=function(m){return m?this.bind(e,m):this.trigger(e)};$.fn[e].delay=50;j[e]=$.extend(j[e],{setup:function(){if(f){return false}$(h.start)},teardown:function(){if(f){return false}$(h.stop)}});h=(function(){var m={},u,q=c(),n=function(v){return v},o=n,t=n;m.start=function(){u||r()};m.stop=function(){u&&clearTimeout(u);u=d};function r(){var w=c(),v=t(q);if(w!==q){o(q=w,v);$(g).trigger(e)}else{if(v!==q){location.href=location.href.replace(/#.*/,"")+v}}u=setTimeout(r,$.fn[e].delay)}$.browser.msie&&!f&&(function(){var v,w;m.start=function(){if(!v){w=$.fn[e].src;w=w&&w+c();v=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){w||o(c());r()}).attr("src",w||"javascript:0").insertAfter("body")[0].contentWindow;k.onpropertychange=function(){try{if(event.propertyName==="title"){v.document.title=k.title}}catch(x){}}}};m.stop=n;t=function(){return c(v.location.href)};o=function(A,x){var z=v.document,y=$.fn[e].domain;if(A!==x){z.title=k.title;z.open();y&&z.write('<script>document.domain="'+y+'"<\/script>');z.close();v.location.hash=A}}})();return m})()})(jQuery,window);(function(c){c.fn.hint=function(d){if(!d){d="blur"}return this.each(function(){var j=c(this),g=j.attr("title"),f=c(this.form),h=c(window);function e(){if(j.val()===g&&j.hasClass(d)){j.val("").removeClass(d)}}if(g){j.blur(function(){if(this.value===""){j.val(g).addClass(d)}}).focus(e).blur();f.submit(e);h.unload(e)}})}})(jQuery);$("input#destination:text").hint();(function(c){c.extend({noticeAdd:function(f){var k={inEffect:{opacity:"show"},inEffectDuration:600,stayTime:3000,text:"",stay:false,type:"notice",destination:"",platform:"mac"};var f,l,j,g,e,d;f=c.extend({},k,f);if(typeof booking.env.b_site_experiment_ipad_improvements!="undefined"&&booking.env.b_site_experiment_ipad_improvements){return}var h=navigator&&navigator.platform&&(navigator.platform.indexOf("Mac")==-1&&navigator.platform.indexOf("iPad")==-1&&navigator.platform.indexOf("iPhone")==-1);if(h){f.platform=booking.env.b_site_experiment_dock_my_hotels?"win win_dock":"win"}l=(!c(".notice-wrap").length)?c("<div></div>").addClass("notice-wrap").addClass(f.platform).appendTo("body"):c(".notice-wrap");j=c("<div></div>").addClass("notice-item-wrapper");d=(f.destination=="")?"<p>"+f.text+"</p>":'<p><a href="'+f.destination+'">'+f.text+"</a></p>";if(f.close=="all"){g=c("<div></div>").hide().addClass("notice-item "+f.type).appendTo(l).html(d).animate(f.inEffect,f.inEffectDuration).wrap(j).click(function(){if(booking.env.b_action==="hotel"){var m=JSON.parse($.cookie("bs"))||{};m.gc=1;if(typeof(JSON)!="undefined"){$.cookie("bs",JSON.stringify(m),{path:"/",domain:booking.env.b_domain_end})}}c.noticeRemove(g);return false});e=c("<div></div>").addClass("notice-item-close-x").prependTo(g)}else{g=c("<div></div>").hide().addClass("notice-item "+f.type).appendTo(l).html(d).animate(f.inEffect,f.inEffectDuration).wrap(j);e=c("<div></div>").addClass("notice-item-close").prependTo(g).html("x").click(function(){c.noticeRemove(g);if(f.type=="language"){if(typeof(b_cookie)=="undefined"){b_cookie={}}b_cookie.langPrompt="dontshow";if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:booking.env.b_domain_end})}}return false})}if(f.type=="language"){$(".notice-item p").css("cursor","pointer");$(".notice-item p").click(function(){$("#langselectformlist").val(booking.env.browser_lang);$("#languageselect")[0].submit();c.noticeRemove(g);return false})}if(navigator.userAgent.match(/MSIE 6/i)){l.css({top:document.documentElement.scrollTop})}if(!f.stay){setTimeout(function(){c.noticeRemove(g)},f.stayTime)}},noticeAddBig:function(e){var h={inEffect:{opacity:"show"},inEffectDuration:600,stayTime:3000,text:"",stay:false,type:"notice"};var e,j,g,f,d;e=c.extend({},h,e);j=(!c(".notice-wrap").length)?c("<div></div>").addClass("notice-wrap").appendTo("body"):c(".notice-wrap");g=c("<div></div>").addClass("notice-item-wrapper");f=c("<div></div>").hide().addClass("notice-item-big "+e.type).appendTo(j).html("<p>"+e.text+"</p>").animate(e.inEffect,e.inEffectDuration).wrap(g);d=c("<div></div>").addClass("notice-item-close").prependTo(f).html("x").click(function(){c.noticeRemove(f)});if(navigator.userAgent.match(/MSIE 6/i)){j.css({top:document.documentElement.scrollTop})}if(!e.stay){setTimeout(function(){c.noticeRemove(f)},e.stayTime)}},noticeRemove:function(d){d.animate({opacity:"0"},600,function(){d.parent().animate({height:"0px"},300,function(){d.parent().remove()})})}})})(jQuery);jQuery.fn.pulse=function(c,f,d,j,l){if(isNaN(d)){l=j;j=d;d=1}var k=jQuery.speed(f,j,l),h=k.queue!==false,g=0;for(var e in c){g=Math.max(c[e].length,g)}k.times=k.times||d;return this[h?"queue":"each"](function(){var o={},n=jQuery.extend({},k),m=jQuery(this);q();function q(){var u={},r=false;for(var t in c){o[t]=o[t]||{runs:0,cur:-1};if(o[t].cur<c[t].length-1){++o[t].cur}else{o[t].cur=0;++o[t].runs}if(c[t].length===g){r=n.times>o[t].runs}u[t]=c[t][o[t].cur]}n.complete=q;n.queue=false;if(r){m.animate(u,n)}else{k.complete.call(m[0])}}})};(function(f){var c=f.scrollTo=function(d,g,h){f(window).scrollTo(d,g,h)};c.defaults={axis:"xy",duration:parseFloat(f.fn.jquery)>=1.3?0:1};c.window=function(d){return f(window)._scrollable()};f.fn._scrollable=function(){return this.map(function(){var d=this,g=!d.nodeName||f.inArray(d.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!g){return d}var h=(d.contentWindow||d).document||d.ownerDocument||d;return f.browser.safari||h.compatMode=="BackCompat"?h.body:h.documentElement})};f.fn.scrollTo=function(h,g,d){if(typeof g=="object"){d=g;g=0}if(typeof d=="function"){d={onAfter:d}}if(h=="max"){h=9000000000}d=f.extend({},c.defaults,d);g=g||d.speed||d.duration;d.queue=d.queue&&d.axis.length>1;if(d.queue){g/=2}d.offset=e(d.offset);d.over=e(d.over);return this._scrollable().each(function(){var v=this,n=f(v),o=h,l,m={},j=n.is("html,body");switch(typeof o){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(o)){o=e(o);break}o=f(o,this);case"object":if(o.is||o.style){l=(o=f(o)).offset()}}f.each(d.axis.split(""),function(t,u){var x=u=="x"?"Left":"Top",w=x.toLowerCase(),z="scroll"+x,r=v[z],q=c.max(v,u);if(l){m[z]=l[w]+(j?0:r-n.offset()[w]);if(d.margin){m[z]-=parseInt(o.css("margin"+x))||0;m[z]-=parseInt(o.css("border"+x+"Width"))||0}m[z]+=d.offset[w]||0;if(d.over[w]){m[z]+=o[u=="x"?"width":"height"]()*d.over[w]}}else{var y=o[w];m[z]=y.slice&&y.slice(-1)=="%"?parseFloat(y)/100*q:y}if(/^\d+$/.test(m[z])){m[z]=m[z]<=0?0:Math.min(m[z],q)}if(!t&&d.queue){if(r!=m[z]){k(d.onAfterFirst)}delete m[z]}});k(d.onAfter);function k(q){n.animate(m,g,d.easing,q&&function(){q.call(this,h,d)})}}).end()};c.max=function(j,k){var o=k=="x"?"Width":"Height",n="scroll"+o;if(!f(j).is("html,body")){return j[n]-f(j)[o.toLowerCase()]()}var q="client"+o,g=j.ownerDocument.documentElement,d=j.ownerDocument.body;return Math.max(g[n],d[n])-Math.min(g[q],d[q])};function e(d){return typeof d=="object"?d:{top:d,left:d}}})(jQuery);(function(g){var d={transparent:16777216,aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};var k=Math.round;var c=Math.floor;var j=Math.sqrt;var f=Math.min;var e=Math.max;var h=Math.random;function n(r){function q(w,v){var u;if(undefined===v){w=parseInt(w,10);v=255;u=255}else{if(1===v){if(undefined===w){return 1}v=100;u=1}else{u=v}w=parseFloat(w)}if(isNaN(w)||w<=0){return 0}if(v<w){return u}if(w<=1){if(u===1){return w}else{return(w*u)|0}}return(w*u/v)}function t(A,z,w){A=q(A,360)/360;z=q(z,1);w=q(w,1);if(0==z){w=k(w*255);return[w,w,w]}function y(C,B,v){if(v<0){v++}if(v>1){v--}if(6*v<1){return C+(B-C)*6*v}if(2*v<1){return B}if(3*v<2){return C+(B-C)*(4-6*v)}return C}var x=w<0.5?(w*(1+z)):(w+z-w*z);var u=w+w-x;return[k(255*y(u,x,A+1/3)),k(255*y(u,x,A)),k(255*y(u,x,A-1/3))]}function o(z,y,w){z=q(z,360)/60;y=q(y,1);w=q(w,1);var x=c(z);var A=z-x;if(!(x&1)){A=1-A}var u=k(255*(w*(1-y)));var B=k(255*(w*(1-y*A)));w=k(255*w);switch(x){case 6:case 0:return[w,B,u];case 1:return[B,w,u];case 2:return[u,w,B];case 3:return[u,B,w];case 4:return[B,u,w];case 5:return[w,u,B]}}this.setColor=function(u){this.success=true;if(typeof u==="number"){this.a=((u>>24)&255)/255;this.r=(u>>16)&255;this.g=(u>>8)&255;this.b=(u)&255;return}if(typeof u==="object"){if(u[0]!==undefined&&u[1]!==undefined&&u[2]!==undefined){this.a=q(u[3],1);this.r=q(u[0]);this.g=q(u[1]);this.b=q(u[2]);return}else{if(u.r!==undefined&&u.g!==undefined&&u.b!==undefined){this.a=q(u.a,1);this.r=q(u.r);this.g=q(u.g);this.b=q(u.b);return}else{if(u.v!==undefined&&u.h!==undefined&&u.s!==undefined){var w=o(u.h,u.s,u.v,1);this.a=q(u.a,1);this.r=w[0];this.g=w[1];this.b=w[2];return}else{if(u.l!==undefined&&u.h!==undefined&&u.s!==undefined){var w=t(u.h,u.s,u.l,1);this.a=q(u.a,1);this.r=w[0];this.g=w[1];this.b=w[2];return}}}}}if(typeof u!=="string"){this.success=false;return}u=u.toLowerCase().replace(/[^a-z0-9,.()#%]/g,"");var v,y;if(undefined!==d[u]){y=d[u];this.a=(!((y>>24)&255))|0;this.r=((y>>16)&255);this.g=((y>>8)&255);this.b=((y)&255);return}if(v=/^([1-9]\d*)$/.exec(u)){y=parseInt(v[1],10);this.a=(((y>>24)&255)||255)/255;this.r=((y>>16)&255);this.g=((y>>8)&255);this.b=((y)&255);return}if(v=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/.exec(u)){this.a=1;this.r=parseInt(v[1],16);this.g=parseInt(v[2],16);this.b=parseInt(v[3],16);return}if(v=/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/.exec(u)){this.a=1;this.r=parseInt(v[1]+v[1],16);this.g=parseInt(v[2]+v[2],16);this.b=parseInt(v[3]+v[3],16);return}if(v=/^rgba?\((\d{1,3}),(\d{1,3}),(\d{1,3})(,([0-9.]+))?\)$/.exec(u)){this.a=q(v[5],1);this.r=q(v[1]);this.g=q(v[2]);this.b=q(v[3]);return}if(v=/^rgba?\(([0-9.]+\%),([0-9.]+\%),([0-9.]+\%)(,([0-9.]+)\%?)?\)$/.exec(u)){this.a=q(v[5],1);this.r=k(q(v[1],100)*2.55);this.g=k(q(v[2],100)*2.55);this.b=k(q(v[3],100)*2.55);return}if(v=/^hs([bvl])a?\((\d{1,3}),(\d{1,3}),(\d{1,3})(,([0-9.]+))?\)$/.exec(u)){var x;if(v[1]=="l"){x=t}else{x=o}y=x(parseInt(v[2],10),parseInt(v[3],10),parseInt(v[4],10));this.a=q(v[6],1);this.r=y[0];this.g=y[1];this.b=y[2];return}if(v=/^(\d{1,3}),(\d{1,3}),(\d{1,3})(,([0-9.]+))?$/.exec(u)){this.a=q(v[5],1);this.r=q(v[1]);this.g=q(v[2]);this.b=q(v[3]);return}this.success=false};this.getColor=function(u){if(undefined!==u){switch(u.toLowerCase()){case"rgb":return this.getRGB();case"hsv":case"hsb":return this.getHSV();case"hsl":return this.getHSL();case"int":return this.getInt();case"array":return this.getArray();case"fraction":return this.getFraction();case"css":case"style":return this.getCSS();case"name":return this.getName()}}return this.getHex()};this.getRGB=function(){if(this.success){return{r:this.r,g:this.g,b:this.b,a:this.a}}return null};this.getCSS=function(){if(this.success){if(this.a==1){return"rgb("+this.r+", "+this.g+", "+this.b+")"}return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")"}return null};this.getArray=function(){if(this.success){return[this.r,this.g,this.b,this.a]}return null};this.getName=function(){if(this.success){var v=null;var x;var A=d;var w=this.getHSL();for(var z in A){var u=new n(A[z]).getHSL();var y=j(0.5*(w.h-u.h)*(w.h-u.h)+0.5*(w.s-u.s)*(w.s-u.s)+(w.l-u.l)*(w.l-u.l));if(null===v||y<v){v=y;x=z}}return x}return null};this.getFraction=function(){if(this.success){return{r:this.r/255,g:this.g/255,b:this.b/255,a:this.a}}return null};this.getHSL=function(){if(this.success){var u=this.r/255;var y=this.g/255;var z=this.b/255;var w=f(u,y,z);var A=e(u,y,z);var B=A-w;var x,C,v=(A+w)/2;if(0==B){x=0;C=0}else{if(v<0.5){C=B/(A+w)}else{C=B/(2-(A+w))}if(A==u){x=(y-z)/B}else{if(A==y){x=2+(z-u)/B}else{if(A==z){x=4+(u-y)/B}}}if(x<0){x+=6}}return{h:k(x*60),s:k(C*100),l:k(v*100),a:this.a}}return null};this.getHSV=function(){if(this.success){var u=this.r/255;var A=this.g/255;var C=this.b/255;var y=f(u,A,C);var D=e(u,A,C);var F=D-y;var z,G,E=D;if(0==F){z=0;G=0}else{G=F/D;F*=6;var B=0.5+(D-u)/F;var w=0.5+(D-A)/F;var x=0.5+(D-C)/F;if(u==D){z=x-w}else{if(A==D){z=1/3+B-x}else{if(C==D){z=2/3+w-B}}}if(z<0){z++}if(z>1){z--}}return{h:k(z*360),s:k(G*100),v:k(E*100),a:this.a}}return null};this.getHex=function(){if(this.success){var A="0123456789abcdef";var y=this.r>>4;var x=this.g>>4;var z=this.b>>4;var v=this.r&15;var u=this.g&15;var w=this.b&15;if(0==((y^v)|(x^u)|(z^w))){return"#"+A.charAt(y)+A.charAt(x)+A.charAt(z)}return"#"+A.charAt(y)+A.charAt(v)+A.charAt(x)+A.charAt(u)+A.charAt(z)+A.charAt(w)}return null};this.getInt=function(){if(this.success){return(this.r<<16^this.g<<8^this.b)&16777215}return null};this.toString=function(){return this.getHex()};this.setColor(r)}g.each(["color","backgroundColor","borderColor","borderTopColor","borderBottomColor","borderLeftColor","borderRightColor","outlineColor"],function(q,o){if(!g.fx){g.fx={}}if(!g.fx.step){g.fx.step=[]}g.fx.step[o]=function(w){if(w.xinit===undefined){if(typeof w.end==="string"&&-1!==w.end.indexOf(";")){var u,t=w.end.split(";");if(t.length>2){for(u in t){if(-1===t[u].indexOf("native")){t[u]=new n(t[u])}else{t[u]=m(w.elem,o)}}w.start=null;w.end=t}else{w.start=new n(t[0]);w.end=new n(t[1])}}else{w.start=m(w.elem,o);w.end=new n(w.end)}w.xinit=1}var v=w.start;var z=w.end;var y=w.pos;if(null===v){var r=y*(z.length-1),A=y<1?r|0:z.length-2;v=z[A];z=z[A+1];y=r-A}if(g.support.opacity){w.elem.style[o]="rgba("+((v.r+(z.r-v.r)*y)|0)+","+((v.g+(z.g-v.g)*y)|0)+","+((v.b+(z.b-v.b)*y)|0)+","+((v.a+(z.a-v.a)*y))+")"}else{w.elem.style[o]="rgb("+((v.r+(z.r-v.r)*y)|0)+","+((v.g+(z.g-v.g)*y)|0)+","+((v.b+(z.b-v.b)*y)|0)+")"}}});function m(r,o){var q="";if(g.support.opacity){do{q=g.curCSS(r,o);if(""!=q||g.nodeName(r,"body")){break}}while(r=r.parentNode);if(""==q){q="transparent"}}else{do{q=g.curCSS(r,o);if(""!=q&&"transparent"!=q&&"rgba(0, 0, 0, 0)"!=q||g.nodeName(r,"body")){break}}while(r=r.parentNode);if(""==q){if("backgroundColor"==o){q="white"}else{q="black"}}}return new n(q)}function l(){this.test=function(o){var q=new n(o);if(q.success){return q}return null};this.red=function(o){var q=new n(o);if(q.success){q.g=255;q.b=255;return q}return null};this.blue=function(o){var q=new n(o);if(q.success){q.r=255;q.g=255;return q}return null};this.green=function(o){var q=new n(o);if(q.success){q.r=255;q.b=255;return q}return null};this.random=function(){var o=new n([c(255*h()),c(255*h()),c(255*h())]);if(o.success){return o}return null};this.complementary=function(o){var q=new n(o);if(q.success){q.r^=255;q.g^=255;q.b^=255;return q}return null};this.opacity=function(r,v,u){var t=new n(r);var q=new n(v);if(t.success&q.success){if(u>1){u/=100}u=e(u-1+q.a,0);t.r=k((q.r-t.r)*u+t.r);t.g=k((q.g-t.g)*u+t.g);t.b=k((q.b-t.b)*u+t.b);return t}return null};this.greyfilter=function(q,t){var o,r=new n(q);if(r.success){switch(t){case 1:o=0.35+13*(r.r+r.g+r.b)/60;break;case 2:o=(13*(r.r+r.g+r.b)+5355)/60;break;default:o=r.r*0.3+r.g*0.59+r.b*0.11}r.r=r.g=r.b=f(c(o),255);return r}return null};this.webround=function(o){var q=new n(o);if(q.success){if((q.r+=51-q.r%51)>255){q.r=255}if((q.g+=51-q.g%51)>255){q.g=255}if((q.b+=51-q.b%51)>255){q.b=255}return q}return null};this.distance=function(q,t){var r=new n(q);var o=new n(t);if(r.success&o.success){return j(3*(o.r-r.r)*(o.r-r.r)+4*(o.g-r.g)*(o.g-r.g)+2*(o.b-r.b)*(o.b-r.b))}return null};this.readable=function(t,r){var q=new n(r);var o=new n(t);if(q.success&o.success){return((o.r-q.r)*(o.r-q.r)+(o.g-q.g)*(o.g-q.g)+(o.b-q.b)*(o.b-q.b))>10404}return null};this.combine=function(q,t){var r=new n(q);var o=new n(t);if(r.success&o.success){r.r^=o.r;r.g^=o.g;r.b^=o.b;return r}return null};this.breed=function(q,v){var t=new n(q);var o=new n(v);var r=0;if(t.success&o.success){for(var u=0;u<6;u++){if(h()<0.5){r|=15<<(u<<2)}}t.r=(t.r&((r>>16)&255))|(o.r&(((r>>16)&255)^255));t.g=(t.g&((r>>8)&255))|(o.g&(((r>>8)&255)^255));t.b=(t.b&((r>>0)&255))|(o.b&(((r>>0)&255)^255));return t}return null};this.additive=function(q,t){var r=new n(q);var o=new n(t);if(r.success&o.success){if((r.r+=o.r)>255){r.r=255}if((r.g+=o.g)>255){r.g=255}if((r.b+=o.b)>255){r.b=255}return r}return null};this.subtractive=function(q,t){var r=new n(q);var o=new n(t);if(r.success&o.success){if((r.r+=o.r-255)<0){r.r=0}if((r.g+=o.g-255)<0){r.g=0}if((r.b+=o.b-255)<0){r.b=0}return r}return null};this.subtract=function(q,t){var r=new n(q);var o=new n(t);if(r.success&o.success){if((r.r-=o.r)<0){r.r=0}if((r.g-=o.g)<0){r.g=0}if((r.b-=o.b)<0){r.b=0}return r}return null};this.multiply=function(q,t){var r=new n(q);var o=new n(t);if(r.success&o.success){r.r=c(r.r/255*o.r);r.g=c(r.g/255*o.g);r.b=c(r.b/255*o.b);return r}return null};this.average=function(q,t){var r=new n(q);var o=new n(t);if(r.success&o.success){r.r=(r.r+o.r)>>1;r.g=(r.g+o.g)>>1;r.b=(r.b+o.b)>>1;return r}return null};this.triad=function(o){var q=new n(o);if(q.success){return[q,new n([q.b,q.r,q.g]),new n([q.g,q.b,q.r])]}return null};this.tetrad=function(o){var q=new n(o);if(q.success){return[q,new n([q.b,q.r,q.b]),new n([q.b,q.g,q.r]),new n([q.r,q.b,q.r])]}return null};this.gradientlevel=function(q,v,u,t){if(u>t){return null}var r=new n(q);var o=new n(v);if(r.success&o.success){r.r=c(r.r+((o.r-r.r)/t)*u);r.g=c(r.g+((o.g-r.g)/t)*u);r.b=c(r.b+((o.b-r.b)/t)*u);return r}return null};this.gradientarray=function(r,u,v){if(u>v){return null}var w=c(u*(r.length-1)/v);var q=(u-v*w/(r.length-1))/v;var t=new n(r[w]);var o=new n(r[w+1]);if(t.success&o.success){t.r=c(t.r+r.length*(o.r-t.r)*q);t.g=c(t.g+r.length*(o.g-t.g)*q);t.b=c(t.b+r.length*(o.b-t.b)*q);return t}return null},this.nearestname=function(o){o=new n(o);if(o.success){return o.getName()}return null};this.darken=function(q,r,o){if(r===undefined){r=1}else{if(r<0){return this.lighten(q,-r,o)}}if(o===undefined){o=32}var t=new n(q);if(t.success){if((t.r-=o*r)<0){t.r=0}if((t.g-=o*r)<0){t.g=0}if((t.b-=o*r)<0){t.b=0}return t}return null};this.lighten=function(q,r,o){if(r===undefined){r=1}else{if(r<0){return this.darken(q,-r,o)}}if(o===undefined){o=32}var t=new n(q);if(t.success){if((t.r+=o*r)>255){t.r=255}if((t.g+=o*r)>255){t.g=255}if((t.b+=o*r)>255){t.b=255}return t}return null};this.analogous=function(t,u,v){if(u===undefined){u=8}if(v===undefined){v=30}var w=new n(t);if(w.success){var r=w.getHSV();var q=360/v,o=[w];for(r.h=((r.h-(q*u>>1))+720)%360;--u;){r.h+=q;r.h%=360;o.push(new n(r))}return o}return null};this.splitcomplements=function(r){var t=new n(r);if(t.success){var q=t.getHSV();var o=[t];q.h+=72;q.h%=360;o.push(new n(q));q.h+=144;q.h%=360;o.push(new n(q));return o}return null};this.monochromatic=function(r,t){if(t===undefined){t=6}var u=new n(r);if(u.success){var q=u.getHSV();var o=[u];while(--t){q.v+=20;q.v%=100;o.push(new n(q))}return o}return null}}g.xcolor=new l();g.fn.isReadable=function(){var q=this[0];var r="";var o="";do{if(""==r&&("transparent"==(r=g.curCSS(q,"color"))||"rgba(0, 0, 0, 0)"==r)){r=""}if(""==o&&("transparent"==(o=g.curCSS(q,"backgroundColor"))||"rgba(0, 0, 0, 0)"==o)){o=""}if(""!=r&&""!=o||g.nodeName(q,"body")){break}}while(q=q.parentNode);if(""==r){r="black"}if(""==o){o="white"}return g.xcolor.readable(o,r)}})(jQuery);var JSON=JSON||{};JSON.stringify=JSON.stringify||function(g){var f=typeof(g);if(f!="object"||g===null){if(f=="string"){g='"'+g+'"'}return String(g)}else{var h,d,e=[],c=(g&&g.constructor==Array);for(h in g){d=g[h];f=typeof(d);if(f=="string"){d='"'+d+'"'}else{if(f=="object"&&d!==null){d=JSON.stringify(d)}}e.push((c?"":'"'+h+'":')+String(d))}return(c?"[":"{")+String(e)+(c?"]":"}")}};JSON.parse=JSON.parse||function(str){if(str===""){str='""'}eval("var p="+str+";");return p};if($.cookie("b")){var b_cookie=JSON.parse($.cookie("b"))||{}}else{var b_cookie={}}(function(){var d=booking.env,e=booking[sNSStartupLoad].show_language={priority:9,init:function(){var g=function(){b_cookie.langPrompt="dontshow";if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:d.b_domain_end})}};if(typeof(b_cookie)=="undefined"){b_cookie={}}$("#langselectbutton, #languageselect input").hide();$("#langselectformlist, #currList").change(function(){$("#languageselect")[0].submit();g()});$(".language_flags").click(function(){g()});if(d.show_language_suggestion){if(b_cookie.countLang){if(!isNaN(b_cookie.countLang)){var f=parseInt(parseInt(b_cookie.countLang)+1);if(f<=4){d.language_dialog_count2=f;b_cookie.countLang=d.language_dialog_count2}}else{d.language_dialog_count2=1;b_cookie.countLang=1}}else{d.language_dialog_count2=1;b_cookie.countLang=1}if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:d.b_domain_end})}if(b_cookie.langPrompt!="dontshow"&&d.language_dialog_count2<4){setTimeout(e.createAlert,2000)}}},createAlert:function(j){var k=d.show_language_suggestion,n=d.browser_lang,g=d.icons,l,o=false,h="",f="",m="";if(k){if($("#languageselect .language-wrapper").length){l=$("#languageselect .language-wrapper");h="margin-top:10px;";f="top: -2px;";if(d.b_is_ie6||d.b_is_ie7){m="margin-top:25px;left:100px;"}o=true}else{l=$("#personal_form");f="top: -11px;";m="top:40px;"}if(booking.env.yellow_language_prompt_popup){if(d.b_is_ie6||d.b_is_ie7){m='style="margin-left:-250px;"'}$(".language_select_button").append('<div id="lang-prompt" class="yellow_language_prompt"'+m+'><div class="lang_arrow"></div><div class="lang_container"><div class="lang_inner_container"><a href="#scs" id="lang_change_link" class="lang_changed">'+booking.env.header_change_language_prompt_button+'</a><span><img src="//r.bstatic.com/static/img/flags/24/'+d.b_flag_to_suggest+'.png">'+booking.env.header_change_language_prompt+'</span><a href="#" class="close lang_remove icon_remove use_sprites"></a></div></div></div>');booking.google.trackEvent(booking.google.clickTracker,"Yellow Lang prompt","Show")}else{l.append('<div id="lang-prompt" style="display:none;height:1px;position:absolute;z-index:50;width:230px;'+m+'"><div style="position:absolute;zoom:1;'+f+";left:120px;width:17px;height:13px;background:url('//q.bstatic.com/static/img/experiments/top-info-arrrow2.png');\"></div><div style=\"border:2px solid #a2bbda;padding:10px;background:#e6edf6;width:230px;-moz-box-shadow:0 1px 2px rgba(0,0,0,.7);-webkit-box-shadow:0 1px 2px rgba(0,0,0,.7);"+h+'"><a href="#" class="close" style="float:right;font-weight:normal;">'+d.transl_close_x+'</a><a href="#scs" id="lang_change_link" style="display:block;font-weight:normal;margin-right:50px;padding-left:40px;white-space:normal;background:url(\'//r.bstatic.com/static/img/flags/24/'+d.b_flag_to_suggest+".png') no-repeat;\">"+k.transl_change_page_lang_to_x+"</a></div></div>")}booking.env.trackExperiment(booking.env.js_experiment_tracking.yellow_language_prompt_popup);$("#lang-prompt").fadeIn("slow");booking.google.trackEvent(booking.google.clickTracker,"Lang prompt","Show");$("#lang-prompt .close").click(function(){b_cookie.langPrompt="dontshow";if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:d.b_domain_end})}$("#lang-prompt").hide();booking.google.trackEvent(booking.google.clickTracker,"Lang prompt","Close");if(booking.env.yellow_language_prompt_popup){booking.google.trackEvent(booking.google.clickTracker,"Yellow Lang prompt","Close")}return false});$("#lang-prompt #lang_change_link").click(function(){b_cookie.langPrompt="dontshow";if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:d.b_domain_end})}if(o){$("#langselectformlist").val(k.suggested_lang_select);$("#languageselect")[0].submit()}else{window.location=$("#user_menu_lang_"+k.suggested_lang_select).attr("href")}if(booking.env.yellow_language_prompt_popup){booking.google.trackEvent(booking.google.clickTracker,"Yellow Lang prompt","Change language")}})}}};if(d.b_site_experiment_langselect_lazy_init){var c=e.init;e.init=function(){var g=$("#current_language"),f=$.proxy(function(){g.unbind("click",f);this.start()},this);g.bind("click",f)};e.start=c}})();booking[sNSStartupLoad].message_box={priority:9,init:function(){$("#self_change1 .messageBox").click(function(e){var c=$(this).children("a").attr("href");var d=/(?:\b)tmpl[\=]docs[\\\/]customer_service(?:\b)/i;if(c&&(c!="#")&&(!d.test(c))){location.href=$(this).children("a").attr("href")}return false});$("#isDifferent").fadeIn()}};booking.newsLanding=(function(){var c=$("#b_hotel_list");var k=$("#grid_toggle");var j=function(){if(typeof b_cookie==="undefined"){window.b_cookie={}}k.click(function(){h()});$(".hotel_item").hover(function(){$(this).toggleClass("hotel_item_hover")});$(".hotel_item").click(function(l){if(l.which==2){return true}location.href=$(this).find("a.bigbluebutton").attr("href");return false});$(".fd_show_all").click(function(){var l=$(this).parent(".b_list","#b_asides");l.toggleClass("collapsed",500);booking.google.trackEvent(booking.google.clickTracker,"Fd_pages lists - Show All",(l.hasClass("b_region_list")?"Regions":"Countries"));return false});$(".b_list a").click(function(){var l=$(this).parents(".b_list");var m=$(this).find(".b_name").text();if($(this).find(".b_item_selected").length>0){if(l.hasClass("b_region_list")){track_string=booking.env.b_lang+" | Regions Remove | "+booking.env.b_countrycode+" | "+m}else{if(l.hasClass("b_city_list")){track_string=booking.env.b_lang+" | Cities Remove | "+booking.env.b_countrycode+" | "+booking.env.city+" | "+m}else{track_string=booking.env.b_lang+" | Countries Remove | "+m}}}else{if(l.hasClass("b_region_list")){track_string=booking.env.b_lang+" | Regions | "+booking.env.b_countrycode+" | "+m}else{if(l.hasClass("b_city_list")){track_string=booking.env.b_lang+" | Cities | "+booking.env.b_countrycode+" | "+booking.env.city+" | "+m}else{track_string=booking.env.b_lang+" | Countries | "+m}}}booking.google.trackEvent(booking.google.clickTracker,"Fd_pages ufi list",track_string)});if($.browser.msie&&jQuery.browser.version<9){$(window).resize(function(){d()});d()}$("#grid_toggle").show();g()};var h=function(){var m,n,l;if(c.hasClass("b_hotel_list_wide")){c.removeClass("b_hotel_list_wide");c.addClass("b_hotel_list_compact");b_cookie.results_view="compact";l="compact"}else{c.removeClass("b_hotel_list_compact");c.addClass("b_hotel_list_wide");b_cookie.results_view="wide";l="wide"}f();$("#b_results_nav a").each(function(o){m=$(this).attr("href");n=e(m,"view_mode",l);$(this).attr("href",n)});if(k.hasClass("details_view")){k.removeClass("details_view");k.addClass("compact_view")}else{k.removeClass("compact_view");k.addClass("details_view")}};var g=function(){if(b_cookie.results_view=="wide"){c.removeClass("b_hotel_list_compact");c.addClass("b_hotel_list_wide");b_cookie.results_view="wide";f()}};var f=function(){if(typeof JSON==="undefined"){return}$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:booking.env.b_domain_end})};function e(n,m,q){var t=booking.env.b_canonical_url_delimiter,o=n.split(t),l=o.length,r;while(l--){r=o[l].split("=");if(r[0]==m){r[1]=q;o[l]=r.join("=");break}}if(l<0){o[o.length]=[m,q].join("=")}return o.join(t)}var d=function(){var l=$(window).width();var m=$("body.nobg #bodyconstraint");if(l<901){m.css("width","692px")}else{if(l<1110){m.css("width","901px")}else{m.css("width","1110px")}}};return{init:j}}());booking[sNSExperiments].fd_pages={priority:1,init:function(){booking.newsLanding.init()}};booking[sNSStartup].dod_sr={priority:1,init:function(){$(".hotel_item").click(function(c){if(c.which==2){return true}location.href=$(this).find("a.bigbluebutton").attr("href");return false})}};booking[sNSStartup].accounts_for_everybody={priority:9,passwordFields:0,passwordChar:"",maskPass:"",isAdding:false,keyCounter:0,init:function(){var c=this;$(".passwd_strength").each(function(){$(this).after('<div class="pwd_strength"><div class="strength"> </div></div><span class="strength_text" title=""><span title="'+booking.env.b_passwd_tooltip+'" rel="300" class="jq_tooltip passwd_tooltip cur_strength"></span></span>');if($(this).val()!=""){var d=this;setTimeout(function(){c.calculateStrength(d,c.keyCounter)},400)}});$(".passwd_show").each(function(){c.passwordFields++;var e=$(this).attr("name");var h=$(this).val();var g=($(this).hasClass("passwd_strength"))?" strength_margin":"";var j=Math.random();var d="pw_"+j+"textpwd_"+e;$(this).after('<div id="pwfield_'+c.passwordFields+'" class="show_password_text'+g+'"><input type="text" style="display:none;" class="textual_passwd textpwd_'+e+'" name="'+d+'" id="'+d+'" value="'+h+'" onkeyup="'+c.ns+"."+c.name+'.syncPassFields(this,true)" /><label class="pw_toggle_label" for="pw_toggle_'+c.passwordFields+'"><input id="pw_toggle_'+c.passwordFields+'" type="checkbox" onclick="'+c.ns+"."+c.name+'.togglePasswd(this)" />'+booking.env.b_show_passwd+"</label></div>");$(this).mouseenter(function(){var k=$(".textual_passwd",this.parentNode).get(0);$(k).addClass("hoverView")});$(this).mouseleave(function(){var k=$(".textual_passwd",this.parentNode).get(0);$(k).removeClass("hoverView")});var f="#confirm_"+$(this).attr("id");if($(f).length){$(f).each(function(){var m=$(this).attr("name");var l=$(this).val();var k="pw_"+j+"textpwd_"+m;$(this).after('<div id="confirm_pwfield_'+c.passwordFields+'" class="show_password_text"><input type="text" style="display:none;" class="textual_passwd textpwd_'+m+'" name="'+k+'" id="'+k+'" value="'+l+'" onkeyup="'+c.ns+"."+c.name+'.syncPassFields(this,true)" /></div>');$(this).mouseenter(function(){var n=$(".textual_passwd",this.parentNode).get(0);$(n).addClass("hoverView")});$(this).mouseleave(function(){var n=$(".textual_passwd",this.parentNode).get(0);$(n).removeClass("hoverView")})})}$(this).keyup(function(){c.syncPassFields(this,false)})});if($(".passwd_show_char").length){$("body").append('<span id="temp_cleanup_field" style="display:block;overflow:hidden;height:0px;width:0px;">&#8226;</span>');this.passwordChar=$("#temp_cleanup_field").text();$("#temp_cleanup_field").remove();$(".passwd_show_char").each(function(){var f=c.passwordFields++;var e=$(this).attr("name");var g=$(this).attr("id");var h="";var j=Math.random();var d="pw_"+j+"textpwd_"+e;$(this).after('<div id="pwfield_'+f+'" class="show_password_text_char"><input type="text" value="" class="textual_passwd textpwd_'+e+'" onfocus="'+c.ns+"."+c.name+".fixCursorPosition('"+g+'\');" name="'+d+'" id="'+d+'" /></div>');$(this).keyup(function(){c.syncPassFieldsMask(this)});c.syncPassFieldsMask(this)})}$(".passwd_strength").keyup(function(){c.keyCounter++;oThis=this;var d=c.keyCounter;setTimeout(function(){c.calculateStrength(oThis,d)},400)});$("input.passwd_show").focus(function(){var e=$(".textual_passwd",this.parentNode.parentNode).get(0);var d=$(e).css("display");if(d!="none"){sFieldId=$(e).attr("id");c.fixCursorPosition(null,e)}});if(!$("td.pass_fix").length){$(".textual_passwd").mouseenter(function(){var d=$('input[type="password"]',this.parentNode.parentNode).get(0);$(d).addClass("hoverText")});$(".textual_passwd").mouseleave(function(){var d=$('input[type="password"]',this.parentNode.parentNode).get(0);$(d).removeClass("hoverText")});$(".textual_passwd").focus(function(){var d=$('input[type="password"]',this.parentNode.parentNode).get(0);$(d).addClass("focusText")});$(".textual_passwd").blur(function(){var d=$('input[type="password"]',this.parentNode.parentNode).get(0);$(d).removeClass("focusText")})}else{$("#new_pass").blur(function(){var d=$(this).parents("tr").get(0);if($(this).val()!=""){$("th span",d).removeClass("val-no");$("th span",d).addClass("val-yes")}else{$("th span",d).removeClass("val-yes");$("th span",d).addClass("val-no")}});$("#confirm_new_pass").blur(function(){var d=$("#new_pass").val();var e=$(this).parents("tr").get(0);if($(this).val()!=""&&$(this).val()==d){$("th span",e).removeClass("val-no");$("th span",e).addClass("val-yes")}else{$("th span",e).removeClass("val-yes");$("th span",e).addClass("val-no")}})}},togglePasswd:function(h){var f=$(h).parents("form").get(0);$(".textual_passwd",f).toggle();var g=$(".textual_passwd",f).get(0);var d=$(g).css("display");var c=$(g).attr("name");c=c.split("textpwd_")[1];var e=$("input[name='"+c+"']",f).get(0);if(d!="none"){this.fixCursorPosition(null,g);if(!$("td.pass_fix").length){$(e).addClass("focusText")}}else{$(e).removeClass("focusText");this.fixCursorPosition(null,e)}this.syncPassFields($(g).get(0),true)},fixCursorPosition:function(f,e){if(f!=null){var d=document.getElementById(f)}else{var d=e}d.focus();var g=$(d).val().length;if(g>0){if("selectionStart" in d){d.selectionStart=g;d.focus()}else{var c=document.selection.createRange();c.moveStart("character",g);c.moveEnd("character",0);c.select()}}},syncPassFieldsMask:function(h){var f=this;var d="textpwd_"+$(h).attr("name");var c=$("input."+d,h.parentNode).get(0);var e=$(h).val();var j="";var k="";f.maskPass="";for(var g=0;g<e.length;g++){var l=e.length-1;if(g>=e.length-1){j+=e[g];f.maskPass+=this.passwordChar}else{j+=this.passwordChar;f.maskPass+=this.passwordChar}}$(c).val(j);setTimeout(function(){f.syncPassFieldsFullMask(c)},1000)},syncPassFieldsFullMask:function(c){$(c).val(this.maskPass)},syncPassFields:function(l,g){var o=false;var m=null;var f=this;if(g){var e=$(l).attr("name");e=e.split("textpwd_")[1];var c=$("input[name='"+e+"']",l.parentNode.parentNode).get(0);var n=$(c).attr("id");if(n.indexOf("confirm_")>-1){var k="#"+n.replace("confirm_","");if(!$(k).length){k="#"+n.replace("_confirm","")}o=true}else{var k="#confirm_"+n}if($(k).length){m=$(k).get(0);$(m).val($(l).val());var d=$(m).attr("name");d="textpwd_"+d;var j=$("input."+d,m.parentNode.parentNode).get(0);$(j).val($(l).val())}}else{var e="textpwd_"+$(l).attr("name");var c=$("input."+e,l.parentNode).get(0)}$(c).val($(l).val());if(g){if(o){if($(m).hasClass("passwd_strength")){this.keyCounter++;var h=this.keyCounter;setTimeout(function(){f.calculateStrength(m,h)},400)}}else{if($(c).hasClass("passwd_strength")){this.keyCounter++;var h=this.keyCounter;setTimeout(function(){f.calculateStrength(m,h)},400)}}}else{if($(l).hasClass("passwd_strength")){this.keyCounter++;var h=this.keyCounter;setTimeout(function(){f.calculateStrength(m,h)},400)}}},calculateStrength:function(o,e){if(this.keyCounter==e){var f=$(o).val();var j=$(".pwd_strength .strength",o.parentNode).get(0);if(j){var r=0;var n=0;var h=0;var g=0;var c=0;var d=f.length;if(d>0){r=parseInt(d/2.5);for(var m=0;m<d;m++){var q="!@#$%^&*(){}[];:'\"\\|,.<>/?+=-_±¤";var l="ABCDEFGHIJKLMNOPQRSTUVWXYZ";if(!isNaN(f.charAt(m))){n=n+1}if(isNaN(f.charAt(m))){h=1}if(q.indexOf(f.charAt(m))>-1){g=g+2}if(l.indexOf(f.charAt(m))>-1){c=c+1}}if(g>4){g=4}if(n>2){n=4}if(c>2){c=4}if(h!=0){r+=n}r+=g;r+=c;if(r>10){r=10}}var t=23;if($(o).parents("#foldout_signup").length){t=18}var k=t*r;$(j).animate({width:k+"px"});$(".strength_text",o.parentNode).text(booking.env.b_password_strength_msg[parseInt(r/2)])}}}};booking[sNSStartup].rate_guarantee={priority:9,init:function(){$("#rate_guarantee a, a.usps_rate_guarantee_link, #rate_guaranteev2 a, #ratelogo a, #terms_rateguarantee, a#guarantee_terms, #rates_feedback_invite a.jq_tooltip").live("click",function(){window.open(this.href,"RateGuarantee","status=1,toolbar=0,menubar=0,width=450,height=550,scrollbars=1");return false});return true}};booking[sNSStartup].my_city_autocomplete={res_location:"/autocomplete?lang=en&aid=100000&skip_suggestions=&term=",store_locations:{},cur_index:-1,init:function(){this.res_location="/autocomplete?lang="+booking.env.b_lang+"&aid="+booking.env.b_aid+"&skip_suggestions=&term=";var c=this;$("#city_add, #country_add, #userdataform #city").keypress(function(d){if(d.keyCode==13){d.preventDefault();return false}});$("#city_add, #country_add, #userdataform #city").blur(function(){oWhat=this;setTimeout(function(){c.cleanList(oWhat)},500)});$("#city_add, #country_add, #userdataform #city").keyup(function(d){if(d.keyCode&&(d.keyCode==38||d.keyCode==40||d.keyCode==13)){if(d.keyCode==38){d.preventDefault();c.cur_index--;if(c.cur_index<0){c.cur_index=$(".add_result li",this.parentNode).length-1}c.makeSelect(this);return false}if(d.keyCode==40){d.preventDefault();c.cur_index++;if($(".add_result li",this.parentNode).length<=c.cur_index){c.cur_index=0}c.makeSelect(this);return false}if(d.keyCode==13){d.preventDefault();c.clickSelect(this);return false}}else{c.cur_index=-1;c.cleanList(this);var f=$(this).val();var e=$(this).attr("search");if(f.length>1){oField=this;setTimeout(function(){c.loadList(oField,e)},100)}}});$(".favlist .remover").live("click",function(){$(this).removeClass("jq_tooltip");$("img",this).attr("alt","");c.removeFavourite(this,$(this).attr("remtype"));return false});$(".add_result li").live("mouseenter",function(){$("li",this.parentNode).removeClass("sel_fav");$(this).addClass("sel_fav");c.cur_index=$("li",this.parentNode).index(this);var d=$("input",this.parentNode.parentNode).get(0);$(d).focus()});$("#pref_city").click(function(){$(this).hide();$("#pref_city_add").show();$("#city_add").focus();return false});$("#pref_country").click(function(){$(this).hide();$("#pref_country_add").show();$("#country_add").focus();return false})},makeSelect:function(c){$(".add_result li",c.parentNode).removeClass("sel_fav");if($(".add_result li",c.parentNode).length>this.cur_index){var d=$(".add_result li",c.parentNode).get(this.cur_index);$(d).addClass("sel_fav")}},clickSelect:function(c){if($(".add_result li.sel_fav",c.parentNode).length){$(".add_result li.sel_fav a",c.parentNode).click()}else{if($(".add_result li",c.parentNode).length==1){$(".add_result li a",c.parentNode).click()}else{}}},loadList:function(f,d){var e=this;var f=f;var g=$(f).val();var c=this.res_location+g;if(d=="country"){c+="&dest_type=country"}else{if(d=="city"){c+="&dest_type=city&give_cc1=1"}}$.ajax({url:c,success:function(l){var h="";var m=false;for(var k=0;k<l[d].length;k++){var j=l[d][k].label.replace("'","");var n="";if(l[d][k].cc1){var n=l[d][k].cc1[0]}h+='<li onclick="'+e.ns+"."+e.name+".addLocation("+k+", document.getElementById('city_link_"+k+"'), '"+l[d][k].dest_type+"', '"+j+"', '"+n+'\');return false;"><a id="city_link_'+k+'" href="#" onClick="return false;">'+l[d][k].label+"</a></li>";m=true}$(".add_result",f.parentNode).html(h);if(m){$(".add_result",f.parentNode).css({border:"1px solid #dddddd",background:"#ffffff"})}else{$(".add_result",f.parentNode).css({border:"0",background:"transparent"})}e.store_locations=l}})},cleanList:function(c){$(".add_result",c.parentNode).html("");$(".add_result",c.parentNode).css({border:"0",background:"transparent"});oThat.store_locations={}},addLocation:function(o,d,k,c,n){var e=this;var x=this.store_locations[k][o];if(k=="city"){var f=booking.env.fav_city_locations;var r=x.dest_id}else{var f=booking.env.fav_country_locations;var r=x.co_code}var w="favlocation_"+r;if($("#userdataform").length){var g=c.split(",");var j=g[0];if(booking.env.b_site_experiment_prefill_country){if(n!=""){if($("#country").length){$("#country").val(n)}if($("#cc1").length){$("#cc1").val(n)}}}$("#city").val(j);$("#city_id").val(r);e.cleanList($(d).parents("ul").get(0))}else{if($("#"+w).length){}else{f[f.length]=r;this.saveFavourites(k);e.cleanList($(d).parents("ul").get(0));var u=x.label;var l=u.split(",");var v=l[0];var q="";if(l.length>0){for(var t=1;t<l.length;t++){q+=(t>1)?",":"";q+=l[t]}}var h='<li class="roundme" id="favwrap_'+w+'">';h+='<a href="#" id="'+w+'" class="jq_tooltip remover" remtype="'+k+'" title="remove this item"><img src="http://bstatic.com/static/img/icon_cancel_trans.png" alt="Remove item" /></a>';h+='<a href="#" onclick="return false;">';if(k=="city"){h+='<span class="roundme def_city">&nbsp;</span>';h+='<span class="roundme city_img" style="background:transparent url(\'/static/img/city/'+r+"/32x32.jpg') left top no-repeat;\">&nbsp;</span>"}else{h+='<img class="roundme" src="/static/img/flags/24/'+r+'.png" alt="" />'}h+="</a>";if(k=="city"){h+='<a href="'+booking.env.b_nonsecure_hostname_signup+"/searchresults."+booking.env.b_lang+".html?city="+r+'">'+v+"</a>"}else{h+='<a href="'+booking.env.b_nonsecure_hostname_signup+"/country/"+r+"."+booking.env.b_lang+'.html">'+v+"</a>"}h+="<span>"+q+"</span>";if(k=="city"){$("#addNewCity").before(h);$("#city_add").val("")}else{$("#addNewCountry").before(h);$("#country_add").val("")}}if(booking.env.profile_map_list){if(k=="city"){var m="/static/img/city/"+r+"/32x32.jpg"}else{var m="/static/img/flags/24/"+r+".png"}}this.animateAdding(w)}},animateAdding:function(c){var d=$("#"+c).get(0);var e=0;var f=window.setInterval(function(){e++;var g=255-(e*5);if(e>51){g=(e*5)-255}if(e>101){$(d.parentNode).css({background:""});window.clearInterval(f)}else{$(d.parentNode).css({background:"rgb(255,"+g+","+g+")"})}},10)},removeFavourite:function(e,k){var j=$(e).attr("id").split("favlocation_")[1];var d=(k=="city")?booking.env.fav_city_locations:booking.env.fav_country_locations;var f=-1;for(var h=0;h<d.length;h++){if(d[h]==j){f=h}}if(f!=-1){d.splice(f,1);this.saveFavourites(k)}var c=$(e).attr("id");var g="favwrap_"+c;$("#"+g).animate({opacity:0},600,function(){$(this).html("");var l=this;setTimeout(function(){$(l).remove()})})},saveFavourites:function(g){var f=(g=="city")?"cities?ufis":"countries?cc1s";var c=(g=="city")?booking.env.fav_city_locations:booking.env.fav_country_locations;var e="/set_favorite_"+f+"=";for(var d=0;d<c.length;d++){if(d>0){e+=","}e+=c[d]}$.ajax({url:e,type:"POST",success:function(h){if(h.status&&h.status=="auth_needed"){document.location.reload(true)}}})}};booking.ensureNamespaceExists(sNSStartup);booking[sNSStartup].short_url={priority:9,loadpos:0,savecheck:0,init:function(){var create_twitter_short_url=function(oTarget){if(typeof oTarget=="object"){myPopup=window.open("","booking_com");$.get("/short_uri?url="+escape(oTarget.getAttribute("data-shorturl"))+"&aid="+booking.env.aid,function(responseText){var json=eval(responseText);myPopup.location.href=oTarget.getAttribute("href")+" http://www.booking.com/"+json.short_url})}};$(".review_useful_t").live("click",function(){create_twitter_short_url(this);return false});$(".share_t").click(function(){create_twitter_short_url(this);return false})}};booking.env.showCase=function(d){var f={baseEl:"#newsletter_deals_city",showCaseClass:".deals",navClass:".deals_nav",menuClass:".deals_menu",showCaseWidth:150,showCaseBorder:3,defSteps:3};$("ul.deals",d.baseEl).css("left","0");var d=$.extend(f,d);c();$(d.baseEl).slideToggle();function c(){$(".next",d.baseEl).click(function(){e(1)});$(".prev",d.baseEl).click(function(){e(-1)})}function e(h){$(".next",d.baseEl).unbind("click");$(".prev",d.baseEl).unbind("click");var m=d.baseEl,g=d.defSteps,o=parseInt(d.showCaseWidth)+parseInt(d.showCaseBorder);var n=parseInt(g)*parseInt(o)*parseInt(h),l=$("ul"+d.showCaseClass+":visible",m),k=l.css("width"),j=parseInt(k)/n;if(n>0){if((-1*parseInt(l.css("left")))+n<parseInt(k)){l.animate({left:"-="+n},"normal",c)}else{l.animate({left:"0"},"normal",c)}}else{if(parseInt(l.css("left"))!=0){l.animate({left:"-="+n},"normal",c)}else{c()}}}};booking.ensureNamespaceExists(sNSExperiments);booking[sNSStartup].b_site_experiment_expand_signup={priority:9,init:function(){var d=$("#newsletter_to",".footerForm"),c=d.attr("value");d.click(function(){var e=$(this);if(e.val()===c){e.val("")}else{e.select()}});d.blur(function(){var e=$(this);if(e.val()===""){e.val(c)}});$("#newsletter_button_footer").click(function(){$(this).parents("form:first").submit()});$(".signupForm").submit(function(f){f.preventDefault();$(".newsletter_ajax_error").hide();var l=booking.env,j=$(this),n=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/,g=$("input[name=url]",j).val(),o=$("input[name=hostname]",j).val(),h=$("input[name=aid]",j).val(),m=$("input[name=companyname]",j).val(),e=$("input[name=subscribe_source]",j).val(),q=$("input[name=to]",j).val(),k;if(q===""||!(n.test(q))){$(".newsletter_subscribe_error_invalid",j).show();return false}k="to="+q+"&url="+g+"&hostname="+o+"&aid="+h+"&companyname="+m+"&subscribe_source="+e;$.ajax({type:"POST",url:"http://"+l.b_hostname_signup+"/newslettersubscribe.json",data:k,dataType:"json",success:function(r){if(r.success===0){if(r.error==="denied"){$(".newsletter_subscribe_error_denied",j).show();$(".newsletter_subscribe_error_bad_unknown, .newsletter_subscribe_error_invalid, .newsletter_sub_success",j).hide()}else{if(r.error==="bad_params"){$(".newsletter_subscribe_error_bad_unknown",j).show();$(".newsletter_subscribe_error_denied, .newsletter_subscribe_error_invalid, .newsletter_sub_success",j).hide()}}return}else{if(r.success===1){if($("div#flashdealsbg_wrapper").length){window.location.href=l.b_nonsecure_hostname_signup+l.b_fd_searchresults_url_signup}else{$(".newsletter_sub_success",j).show();$(".newsletter_form_fields, .newsletter_subscribe_error_bad_unknown, .newsletter_subscribe_error_denied, .newsletter_subscribe_error_invalid",j).hide()}}}}})})}};function mySlideToggle(f,d){var e=$(f),c=e.data("originalHeight"),g=e.is(":visible");if(arguments.length==1){d=!g}if(d==g){return false}if(!c){c=e.show().height();e.data("originalHeight",c);if(!g){e.hide().css({height:0})}}if(d){e.show().animate({height:c},{duration:250})}else{e.animate({height:0},{duration:250,complete:function(){e.hide()}})}}booking[sNSStartup].social_network={priority:9,init:function(){var c=this;$("#social_network_bookmarks li a").mouseover(function(){$("#share_on").text(this.name)});$(".socnet_mailafriend").click(function(){c.showMailAFriend(this.href);return false})},showMailAFriend:function(d){var f,c,j,e,h,g;if(booking.env.b_is_ie6){h='style="height: 453px;"';g='style="height: 435px;width: 618px;"'}else{h="";g=""}f="maf_wrapper",c='<div id="maf_wrapper" class="iframe"><div id="maf_shadow" '+h+'></div><div id="maf_iframe_wrapper"><iframe id="maf_iframe" '+g+' src="'+d+'" frameborder="0"></iframe></div></div>';if($("#"+f).length){$("#"+f).show()}else{$(document.body).append(c)}j=$(window)[0];e=(document.body.scrollTop==0)?(j.pageYOffset)?j.pageYOffset:(document.body.parentElement)?document.body.parentElement.scrollTop:0:document.body.scrollTop;$("#"+f).css("top",e+($(j).height()/2-$("#"+f).height()/2));if(booking.env.b_site_experiment_event_tracking&&typeof(pageTracker)!="undefined"){booking.google.trackEvent(booking.google.clickTracker,"Mail A Friend","Popup mail_a_friend_redesign")}}};booking.ensureNamespaceExists(sNSExperiments);booking[sNSExperiments].sr_clickers_link_more={priority:9,init:function(){this.trackClicks()},initElse:function(){this.trackClicks()},trackClicks:function(){$(".read_more_link").click(function(){booking.env.trackExperiment(booking.env.js_experiment_tracking.sr_clickers_link_more)})}};booking.env.Tabs=function(c){var d={baseEl:"#newsletter_deals_city",menuEl:".deals_menu",contentEl:".deals_wrapper",dealsEl:".deals",navEl:".nav_menu",defaultEl:1};var c=$.extend(d,c);$(c.menuEl+" li:nth-child("+c.defaultEl+")").addClass("active").show();$(c.contentEl+" ul.deals:nth-child("+c.defaultEl+")").show();$("li",c.menuEl).click(function(){$("li",c.menuEl).removeClass("active");$(this).addClass("active");$(c.dealsEl,c.contentEl).hide();var e=$(this).find("a").attr("href");$(e).show();return false});$(c.contentEl,c.baseEl).show()};if(!booking.env.b_site_experiment_remove_old_js_extention){(function(d){d.dimensions={version:"1.2"};d.each(["Height","Width"],function(f,e){d.fn["inner"+e]=function(){if(!this[0]){return}var h=e=="Height"?"Top":"Left",g=e=="Height"?"Bottom":"Right";return this.is(":visible")?this[0]["client"+e]:c(this,e.toLowerCase())+c(this,"padding"+h)+c(this,"padding"+g)};d.fn["outer"+e]=function(h){if(!this[0]){return}var k=e=="Height"?"Top":"Left",g=e=="Height"?"Bottom":"Right";h=d.extend({margin:false},h||{});var j=this.is(":visible")?this[0]["offset"+e]:c(this,e.toLowerCase())+c(this,"border"+k+"Width")+c(this,"border"+g+"Width")+c(this,"padding"+k)+c(this,"padding"+g);return j+(h.margin?(c(this,"margin"+k)+c(this,"margin"+g)):0)}});d.each(["Left","Top"],function(f,e){d.fn["scroll"+e]=function(g){if(!this[0]){return}return g!=undefined?this.each(function(){this==window||this==document?window.scrollTo(e=="Left"?g:d(window)["scrollLeft"](),e=="Top"?g:d(window)["scrollTop"]()):this["scroll"+e]=g}):this[0]==window||this[0]==document?self[(e=="Left"?"pageXOffset":"pageYOffset")]||d.boxModel&&document.documentElement["scroll"+e]||document.body["scroll"+e]:this[0]["scroll"+e]}});d.fn.extend({position:function(){var k=0,j=0,h=this[0],l,e,g,f;if(h){g=this.offsetParent();l=this.offset();e=g.offset();l.top-=c(h,"marginTop");l.left-=c(h,"marginLeft");e.top+=c(g,"borderTopWidth");e.left+=c(g,"borderLeftWidth");f={top:l.top-e.top,left:l.left-e.left}}return f},offsetParent:function(){var e=this[0].offsetParent;while(e&&(!/^body|html$/i.test(e.tagName)&&d.css(e,"position")=="static")){e=e.offsetParent}return d(e)}});function c(e,f){return parseInt(d.curCSS(e.jquery?e[0]:e,f,true))||0}})(jQuery)}(function(c){c.fn.bgIframe=c.fn.bgiframe=function(e){if(c("html.b_msie_6").length){e=c.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:true,src:"javascript:false;"},e||{});var f=function(g){return g&&g.constructor==Number?g+"px":g},d='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+e.src+'"style="display:block;position:absolute;z-index:-1;'+(e.opacity!==false?"filter:Alpha(Opacity='0');":"")+"top:"+(e.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":f(e.top))+";left:"+(e.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":f(e.left))+";width:"+(e.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":f(e.width))+";height:"+(e.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":f(e.height))+';"/>';return this.each(function(){if(c("> iframe.bgiframe",this).length==0){this.insertBefore(document.createElement(d),this.firstChild)}})}return this}})(jQuery);(function(f){var c={},n,y,l,h=f.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent),m=false;f.tooltip={blocked:false,defaults:{delay:200,fade:false,showURL:true,extraClass:"",top:15,left:15,id:"tooltip"},block:function(){f.tooltip.blocked=!f.tooltip.blocked}};f.fn.extend({tooltip:function(z){z=f.extend({},f.tooltip.defaults,z);o(z);if(typeof booking.env.b_site_experiment_ipad_improvements!="undefined"&&booking.env.b_site_experiment_ipad_improvements){return this.each(function(){f.data(this,"tooltip",z);this.tOpacity=c.parent.css("opacity");this.tooltipText=this.getAttribute("data-title")||this.title;this.removeAttribute("title");this.alt=""}).mouseover(t).bind("touchstart",function(){f(this).mouseover()}).mouseout(k).bind("touchend",function(){f(this).mouseout()}).click(k)}else{if(booking.env.touch_os){return this.each(function(){f.data(this,"tooltip",z);this.tOpacity=c.parent.css("opacity");this.tooltipText=this.getAttribute("data-title")||this.title;this.removeAttribute("title");this.alt=""}).click(t)}else{if(!f(this).hasClass("remover")){return this.each(function(){f.data(this,"tooltip",z);this.tOpacity=c.parent.css("opacity");this.tooltipText=this.getAttribute("data-title")||this.title;this.removeAttribute("title");this.alt=""}).mouseover(t).mouseout(k)}else{return this.each(function(){f.data(this,"tooltip",z);this.tOpacity=c.parent.css("opacity");this.tooltipText=this.getAttribute("data-title")||this.title;this.removeAttribute("title");this.alt=""}).mouseover(t).mouseout(k).click(k)}}}},fixPNG:h?function(){return this.each(function(){var z=f(this).css("backgroundImage");if(z.match(/^url\(["']?(.*\.png)["']?\)$/i)){z=RegExp.$1;f(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+z+"')"}).each(function(){var A=f(this).css("position");if(A!="absolute"&&A!="relative"){f(this).css("position","relative")}})}})}:function(){return this},unfixPNG:h?function(){return this.each(function(){f(this).css({filter:"",backgroundImage:""})})}:function(){return this},hideWhenEmpty:function(){return this.each(function(){f(this)[f(this).html()?"show":"hide"]()})},url:function(){return this.attr("href")||this.attr("src")}});function o(z){if(c.parent){return}if(booking.env.b_site_experiment_tooltip_traversing){c.parent=f('<div id="'+z.id+'"><div class="shadow"><h3></h3></div></div>').appendTo(document.body).hide()}else{c.parent=f('<div id="'+z.id+'" style="width: '+z.width+'px;"><div class="shadow"><h3></h3></div></div>').appendTo(document.body).hide()}if(booking.env.touch_os){c.parent.bind("click",function(){if(f.tooltip.blocked){return}if(l){clearTimeout(l)}n=null;f(this).removeClass(z.extraClass).fadeOut().css("opacity","")})}if(f.fn.bgiframe){c.parent.bgiframe()}c.title=f("h3",c.parent);c.body=f("div.body",c.parent);c.url=f("div.url",c.parent)}function v(z){return f.data(z,"tooltip")}function w(z){if(v(this).delay){l=setTimeout(x,v(this).delay)}else{x()}m=!!v(this).track;f(document.body).bind("mousemove.tooltip",j);j(z)}var d=false;var q={};function t(){if("ontouchstart" in document.documentElement){booking.env.trackExperiment(booking.env.js_experiment_tracking.remove_hotel_img_tooltip_sr);if(booking.env.b_site_experiment_remove_hotel_img_tooltip_sr){window.location=f(this).attr("href");return false}}if(f.tooltip.blocked||this==n||(!this.tooltipText&&!v(this).bodyHandler)){return}if(f(this).attr("id")=="photo_wrapper"&&booking.env.b_site_experiment_hp_main_photo_tooltip){if(!booking[sNSStartup].slideshow){return}y=booking[sNSStartup].slideshow.getTooltip()}else{y=this.tooltipText}n=this;if(f(this).hasClass("hotel_thumbs_sprite")||f(this).hasClass("hotel_variable_size")||f(this).attr("id")=="photo_wrapper"){d=true;var F=f(window);var C=F.width();var E=F.height();var B=200;if(C>1600&&E>900){B=600}else{if(C>1360&&E>765){B=500}else{if(C>1120&&E>630){B=400}else{if(C>880&&E>495){B=300}else{if(C>760&&E>428){B=250}}}}}y=y.replace(/\/max(\d+)\//,"/max"+B+"/")}if(booking.env.b_site_experiment_perf_use_relevant_cp&&f(this).hasClass("policy_name_tt")){booking.env.trackExperiment(booking.env.js_experiment_tracking.use_relevant_cp)}if(f(this).hasClass("with_featured_review")){booking.env.trackExperiment(booking.env.js_experiment_tracking.sr_featured_review_in_photo_block)}if(y.indexOf("<img")===0){if(booking.env.b_site_experiment_tooltip_loading_icon){d=true;g()}else{r()}}if(f(this).hasClass("show_map")){d=true}if(v(this).bodyHandler){c.title.hide();var G=v(this).bodyHandler.call(this);if(G.nodeType||G.jquery){c.title.empty().append(G)}else{c.title.html(G)}c.title.show()}else{if(v(this).showBody){var D=y.split(v(this).showBody);c.title.html(D.shift()).show();c.body.empty();for(var A=0,z;(z=D[A]);A++){if(A>0){c.body.append("<br/>")}c.body.append(z)}c.body.hideWhenEmpty()}else{c.title.html(y).show();c.body.hide()}}if(v(this).showURL&&f(this).url()){c.url.html(f(this).url().replace("http://","")).show()}else{c.url.hide()}c.parent.addClass(v(this).extraClass);if(v(this).fixPNG){c.parent.fixPNG()}w.apply(this,arguments);if(booking.env.touch_os){f("#tooltip h3").append("<img src='//q.bstatic.com/static/img/experiments/filter_remove.gif' alt='Close window' style='position: absolute; right: 8px; top: 8px;' />").css("padding-right","22px")}}function g(){var A=y.match(/src=['"]([^'"]+)['"]/);if(!A||q[A[1]]){return}var z=y;var B=document.createElement("img");y='<img src="//r.bstatic.com/static/img/experiments/ajax-loader-black.gif" class="tooltip_loader" style="padding: 25px;"/>';B.onload=function(){q[this.src]=true;if(this.src!==A[1]){return}y=z;c.title.html(y);c.parent.css("width",this.width+20);if(c.parent.is(":visible")){j()}};B.src=A[1];setTimeout(function(){if(q[A[1]]){return}booking.env.trackExperiment(booking.env.js_experiment_tracking.tooltip_loading_icon)},500)}function r(){var z=y.match(/src=['"]([^'"]+)['"]/);if(!z||q[z[1]]){return}var A=document.createElement("img");A.onload=function(){q[this.src]=true;if(this.src!==z[1]){return}c.parent.css("width",this.width+20)};A.src=z[1];setTimeout(function(){if(q[z[1]]){return}booking.env.trackExperiment(booking.env.js_experiment_tracking.tooltip_loading_icon)},500)}function x(){var z,C;l=null;if(!n||!v(n)){return}if(booking.env.b_site_experiment_tooltip_traversing){z=v(n);C=z.width;C=(typeof C==="function")?C.apply(n):C;if(C){c.parent[0].style.width=C+"px"}else{c.parent[0].style.width="auto"}}if((!h||!f.fn.bgiframe)&&v(n).fade){if(c.parent.is(":animated")){c.parent.stop().show().fadeTo(v(n).fade,n.tOpacity)}else{c.parent.is(":visible")?c.parent.fadeTo(v(n).fade,n.tOpacity):c.parent.fadeIn(v(n).fade)}}else{c.parent.show()}c.parent.removeClass("niceBlackBorderTooltip blackBorderTooltip");if(v(n).width){c.parent.css("width",v(n).width+"px");if(c.parent.find("#sr_map_hover_preview_text").length){c.parent.addClass(booking.env.b_site_experiment_nice_tooltips==1?"niceBlackBorderTooltip":"blackBorderTooltip")}}else{var A=c.parent.find("img:eq(0)");var B=A.attr("src");if(B){c.parent.addClass(booking.env.b_site_experiment_nice_tooltips==1?"niceBlackBorderTooltip":"blackBorderTooltip")}c.parent.css("width",q[B]?(A.width()+20):"")}j()}function j(D){if(f.tooltip.blocked){return}if(D&&D.target&&D.target.tagName=="OPTION"){return}if(!m&&c.parent.is(":visible")){f(document.body).unbind("mousemove.tooltip")}if(n==null){f(document.body).unbind("mousemove.tooltip");return}if(d){e(D);return}var F=c.parent[0].offsetLeft;var E=c.parent[0].offsetTop;if(D){if(booking.env.touch_os){F=f(n).offset().left;E=f(n).offset().top}else{if(!v(n)){f(document.body).unbind("mousemove.tooltip");if(c&&"parent" in c&&c.parent[0]&&c.parent[0].style.display!=="none"){c.parent[0].style.display="none"}return false}if(booking.env.b_site_experiment_tooltip_traversing){var C=v(n).left;C=(typeof C==="function")?C.apply(n):C;F=D.pageX+C}else{F=D.pageX+v(n).left}E=D.pageY+v(n).top}var A="auto";if(v(n).positionLeft){A=f(window).width()-F;F="auto"}c.parent.css({left:F,right:A,top:E})}if(booking.env.touch_os){if(F>700){F=F-150}else{if(F>600){F=F-100}}c.parent.css({left:F+"px"})}else{var z=u(),B=c.parent[0];if(z.x+z.cx<B.offsetLeft+B.offsetWidth){F-=B.offsetWidth+20+v(n).left;c.parent.css({left:F+"px"}).addClass("viewport-right")}if(z.y+z.cy<B.offsetTop+B.offsetHeight){E-=B.offsetHeight+20+v(n).top;c.parent.css({top:E+"px"}).addClass("viewport-bottom")}if(B.offsetLeft<z.x){F=10;c.parent.css({left:F+"px"}).addClass("viewport-left")}}}function e(B){var z=u();var A=c.parent[0];var D=B?B.pageX+12:A.offsetLeft;var C=B?B.pageY+12:A.offsetTop;if(z.x+z.cx<D+A.offsetWidth){D=D-A.offsetWidth-24;if(D<z.x+5){D=5}}if(z.y+z.cy<C+A.offsetHeight+5){C=z.y+z.cy-A.offsetHeight-5}c.parent.css({left:D,top:C})}function u(){return{x:f(window).scrollLeft(),y:f(window).scrollTop(),cx:f(window).width(),cy:f(window).height()-11}}function k(B){if(f.tooltip.blocked){return}if(l){clearTimeout(l)}n=null;var A=v(this);function z(){c.parent.removeClass(A.extraClass).hide().css("opacity","")}if((!h||!f.fn.bgiframe)&&A.fade){if(c.parent.is(":animated")){c.parent.stop().fadeTo(A.fade,0,z)}else{if(booking.env.b_site_experiment_tooltip_hide_without_fadeout){c.parent.stop().hide()}else{c.parent.stop().fadeOut(A.fade,z)}}}else{z()}if(v(this).fixPNG){c.parent.unfixPNG()}}})(jQuery);(function(){var c=booking[sNSStartupLoad].tooltip_3={priority:8,lazy:true,init:function(){this.addTooltip(document);return true},setupTooltip:function(d){if(booking.env.b_site_experiment_tooltip_traversing){$(".jq_tooltip",d).tooltip({showURL:false,track:true,opacity:1,fade:250,width:function(){return this.getAttribute("rel")||0},left:function(){return -(this.getAttribute("rel")||0)/2},top:18})}else{$(".jq_tooltip",d).each(function(){var f=$(this),g=f.attr("rel"),e=(g)?(g.match(/\d+/)||0):0;f.tooltip({showURL:false,track:true,opacity:1,fade:250,width:e,left:-(e/2),top:18})})}},setupTooltippex:function(d){$(".jq_tooltippex",d).each(function(){var f=$(this),e=f.attr("rel")||0;f.tooltip({showURL:false,track:true,width:e,left:-(e/2),top:18,extraClass:"opaque"})})},setupPolicy:function(d){$(".policy_name.jq_tooltip, .policy_name_tt.jq_tooltip",d).tooltip({bodyHandler:function(){return $(this).siblings(".differing_policies").html()},showURL:false,track:true,opacity:1,fade:250,width:400,left:-200,top:18})},addTooltip:function(d){this.setupTooltip(d);this.setupTooltippex(d);this.setupPolicy(d)}};if("ontouchstart" in document.documentElement){c.setupTooltip=function(d){$(".jq_tooltip",d).each(function(){var f=$(this),g=f.attr("rel"),e=(g)?(g.match(/\d+/)||0):0;if(!f.hasClass("urgency_link")){f.tooltip({showURL:false,track:false,opacity:1,fade:250,width:e,extraClass:"opaque"})}})};c.setupTooltippex=function(d){$(".jq_tooltippex",d).each(function(){var f=$(this),e=f.attr("rel");f.click(function(){return false});if(!booking.env.b_site_experiment_remove_hotel_img_tooltip_sr){if(f.get(0).tagName.toLowerCase()==="img"){f.wrap("<span class='touchHoverBox' />");f.parent().append("<img src='//q.bstatic.com/static/img/icons/imgplus.gif' class='touchHoverPlus' />")}else{f.addClass("touchHoverBox").append("<img src='//q.bstatic.com/static/img/icons/imgplus.gif' class='touchHoverPlus' />")}}f.tooltip({showURL:false,track:false,opacity:1,fade:250,width:e,extraClass:"opaque"})})};c.setupPolicy=function(d){$(".policy_name.jq_tooltip, .policy_name_tt.jq_tooltip",d).tooltip({bodyHandler:function(){return $(this).siblings(".differing_policies").html()},showURL:false,track:false,opacity:1,fade:250,width:400,extraClass:"opaque"});$("body, .show_map").click(function(){$("#tooltip").hide()});$("sup.jq_tooltip, tr.dotter").removeAttr("onclick")}}if(booking.env.b_site_experiment_tooltip_lazy_init){c.init=function(){this.ready=false;this.start();return true};c.start=function(){if(this.ready){return}this.ready=true;var d=document.body,e=".jq_tooltip, .jq_tooltippex, .policy_name.jq_tooltip, .policy_name_tt.jq_tooltip",f=$(d).find(e);f.mouseenter(function(){f.unbind("mouseenter");c.addTooltip(d);$(this).mouseover()})}}})();booking.ensureNamespaceExists(sNSStartup);booking[sNSStartup].touch_device_check={priority:5,init:function(){booking.env.touch_os=("ontouchstart" in document.documentElement)?true:false;return true}};$("#currencyChange, #languageChange").hide();$("#current_currency .description, #current_currency .pointer, #current_language .description, #current_language .pointer").show();var currency=booking.currencyDropdownOptions="";$("#currencyChange select option").each(function(){var g=$(this);var f=$(this).attr("label");var c=$(this).attr("value");var d;var e="<span class='selsymbol'>"+f+"</span><span class='seldescription'>"+g.text()+"</span>";if(g.hasClass("currency_split")){d="<strong class='currency_split'>"+g.text()+"</strong>"}else{d="<a ";if(!g.hasClass("selected_currency")){d+="href='"+$("#link_with_currency").val()+"="+c;if(booking.env.ppcref_langchanger){d+="&amp;ppcref=1"}d+="'"}d+=">"+e+"</a>"}if(g.hasClass("selected_currency")){booking.currencyDropdownOptions+="<li class='selected_currency'>"+d+"</li>"}else{booking.currencyDropdownOptions+="<li>"+d+"</li>"}});$("#current_currency_foldout ul").append(booking.currencyDropdownOptions);var language="";$("#languageChange select option").each(function(){var f=$(this);var g=$(this).attr("label");var e=$(this).attr("value");var c;var d="<span class='selsymbol'><span class='flag_16 "+g+"'>&nbsp;</span></span><span class='seldescription'>"+f.text()+"</span>";if(f.hasClass("currency_split")){c="<strong class='currency_split'>"+f.text()+"</strong>"}else{c="<a id='"+f.attr("id")+"'";if(!f.hasClass("selected_country")){c+="href='"+$("#link_with_language").val()+"="+e;if(booking.env.ppcref_langchanger){c+="&amp;ppcref=1"}c+="'"}c+=">"+d+"</a>"}if(f.hasClass("selected_country")){language+="<li class='selected_country'>"+c+"</li>"}else{language+="<li>"+c+"</li>"}});$("#current_language_foldout ul").append(language);booking[sNSStartup].viewed_hotels={priority:9,fullListShowed:false,minListSize:5,lastviewTimer:null,loadStart:null,init:function(){this.loadStart=new Date();var c=this;if(document.getElementById("LastViewedHotels")){try{this.minListSize=parseInt($("#LastViewedHotels").attr("min"))}catch(d){}$("a.remove_hotel").click(function(){var e=$(this).attr("href").substring(1);$.ajax({url:"/hotel_history",type:"DELETE",data:{hotel_id:e}});booking[sNSStartup].viewed_hotels.cleanupHistoryList(this);this.blur();return false});if($("#showAllHistory").length){$("#showAllHistory").click(function(){booking[sNSStartup].viewed_hotels.showAll();this.blur();return false})}if($("#removeAllHistory").length){$("#removeAllHistory").click(function(){booking[sNSStartup].viewed_hotels.removeAll(true);this.blur();return false})}}if($(".lastVisitdate").length){$(".lastVisitdate").parents("li").mouseenter(function(){var e=$(".lastVisitdate",this);$(e).slideDown("fast");$(this).addClass("selectedVisit");c.updateTime(e);c.lastviewTimer=window.setInterval(function(){c.updateTime(e)},1000)});$(".lastVisitdate").parents("li").mouseleave(function(){window.clearInterval(c.lastviewTimer);$(".lastVisitdate",this).slideUp("fast");$(this).removeClass("selectedVisit")})}return true},updateTime:function(q){var r=this.loadStart;var o=new Date();if($(q).attr("sh")==undefined){$(q).attr("sd",$(".viewed_d",q).text());$(q).attr("sh",$(".viewed_h",q).text());$(q).attr("sm",$(".viewed_m",q).text());$(q).attr("ss",$(".viewed_s",q).text());if($(q).attr("sd")==""){$(q).attr("sd","0")}if($(q).attr("sh")==""){$(q).attr("sh","0")}if($(q).attr("sm")==""){$(q).attr("sm","0")}if($(q).attr("ss")==""){$(q).attr("ss","0")}}var c=0;var g=0;var l=0;var n=0;var u=o.getSeconds()-r.getSeconds();if(u<0){u=60-r.getSeconds()+o.getSeconds();c=1}var f=o.getMinutes()-r.getMinutes()-c;if(f<0){f=60-r.getMinutes()+o.getMinutes()-c;g=1}var k=o.getHours()-r.getHours()-g;if(k<0){k=24-r.getHours()+o.getHours()-g;l=1}if(k>24){k=k-24;n=1-l}var j=parseInt($(q).attr("sh"))+k;var e=parseInt($(q).attr("sm"))+f;var t=parseInt($(q).attr("ss"))+u;if(t>59){t=t-60;e=e+1}if(e>59){e=e-60;j=j+1}if(j>23){j=j-24;n=n+1}if(t==0){$(".viewed_s",q).text("");$(".viewed_seconds",q).removeClass("show");$(".viewed_second",q).removeClass("show")}else{$(".viewed_s",q).text(t);if(t==1){$(".viewed_seconds",q).removeClass("show");$(".viewed_second",q).addClass("show")}else{$(".viewed_seconds",q).addClass("show");$(".viewed_second",q).removeClass("show")}}if(e==0){$(".viewed_m",q).text("");$(".viewed_minutes",q).removeClass("show");$(".viewed_minute",q).removeClass("show")}else{$(".viewed_m",q).text(e);if(e==1){$(".viewed_minutes",q).removeClass("show");$(".viewed_minute",q).addClass("show")}else{$(".viewed_minutes",q).addClass("show");$(".viewed_minute",q).removeClass("show")}}if(j==0){$(".viewed_h",q).text("");$(".viewed_hours",q).removeClass("show");$(".viewed_hour",q).removeClass("show")}else{$(".viewed_h",q).text(j);if(j==1){$(".viewed_hours",q).removeClass("show");$(".viewed_hour",q).addClass("show")}else{$(".viewed_hours",q).addClass("show");$(".viewed_hour",q).removeClass("show")}}if(n==0){$(".viewed_d",q).text("");$(".viewed_days",q).removeClass("show");$(".viewed_day",q).removeClass("show")}else{$(".viewed_d",q).text(n);if(n==1){$(".viewed_days",q).removeClass("show");$(".viewed_day",q).addClass("show")}else{$(".viewed_days",q).addClass("show");$(".viewed_day",q).removeClass("show")}}},cleanupHistoryList:function(d){var c=this.minListSize;$(d).parent().fadeOut(500,function(){$(d).parents("li").remove();var f=$("#LastViewedHotels ul.lastViewedList li");if(!f.length){booking[sNSStartup].viewed_hotels.removeAll(false)}if(f.length<2){$(".hotel_comparison_link").hide();$("#share_hotel_history").css("borderTop","none")}if(f.length>=c){var e=f.get(c-1);$(e).fadeIn(1000)}if(document.getElementById("showAllHistory")){if(f.length<=c){$("#moreHistoryLinkWrapper").hide()}}})},showAll:function(){var d=$("#LastViewedHotels ul.lastViewedList li");var c=this.minListSize;if(!booking[sNSStartup].viewed_hotels.fullListShowed){for(i=c-1;i<d.length;i++){$(d[i]).fadeIn(500)}booking[sNSStartup].viewed_hotels.fullListShowed=true}else{for(i=c;i<d.length;i++){$(d[i]).fadeOut(500)}booking[sNSStartup].viewed_hotels.fullListShowed=false}booking[sNSStartup].viewed_hotels.switchCaption()},removeAll:function(c){if(c){$.ajax({url:"/hotel_history",type:"DELETE",data:{hotel_id:-1}})}$("#LastViewedHotels").fadeOut(500,function(){$(this).remove()})},switchCaption:function(){if(booking[sNSStartup].viewed_hotels.fullListShowed){$("#showAllHistory .showLink").hide();$("#showAllHistory .hideLink").show()}else{$("#showAllHistory .showLink").show();$("#showAllHistory .hideLink").hide()}}};booking[sNSStartup].worldmap={priority:8,init:function(){if(!$("#map_holder").length){return}var d=this;var e;var c;this.oldid=$("#continent_list a.selected").attr("id").split("list_continent_")[1];for(c=1;c<10;c++){$("#continent_"+c).mouseover(function(){clearTimeout(e);d.curid=this.id.split("continent_")[1];e=setTimeout(function(){d.togleContinents()},300)});$("#continent_"+c).click(function(){return false});$("#list_continent_"+c).mouseover(function(){clearTimeout(e);d.curid=this.id.split("list_continent_")[1];e=setTimeout(function(){d.togleContinents()},300)});$("#list_continent_"+c).click(function(){return false})}$("#country_wrapper").mouseenter(function(){d.curid=d.oldid});$("#countrylist_10 li, #countrylist_2 li").appendTo("#countrylist_1");$("#countrylist_7 li").appendTo("#countrylist_8")},togleContinents:function(){if(this.curid==this.oldid){return}if(this.oldid){$("#link_continent_"+this.oldid).hide();$("#list_continent_"+this.oldid).removeClass("selected");$("#countrylist_"+this.oldid).hide()}this.showContinent()},showContinent:function(){$("#link_continent_"+this.curid).fadeIn(300);$("#list_continent_"+this.curid).addClass("selected");$("#countrylist_"+this.curid).show();this.oldid=this.curid}};if(booking.env.enable_scripts_tracking){booking.env.scripts_tracking.main.run=true};