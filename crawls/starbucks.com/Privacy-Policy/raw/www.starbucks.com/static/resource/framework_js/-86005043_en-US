if(!Array.isArray){Array.isArray=function(a){return Object.prototype.toString.call(a)=="[object Array]"}}if(!Array.prototype.forEach){Array.prototype.forEach=function(d,a){var b=this.length>>>0;for(var c=0;c<b;c++){if(c in this){d.call(a,this[c],c,this)}}}}if(!Array.prototype.map){Array.prototype.map=function(c){var b=this.length>>>0;if(typeof c!="function"){throw new TypeError()}var e=new Array(b);var a=arguments[1];for(var d=0;d<b;d++){if(d in this){e[d]=c.call(a,this[d],d,this)}}return e}}if(!Array.prototype.filter){Array.prototype.filter=function(b){var d=[];var a=arguments[1];for(var c=0;c<this.length;c++){if(b.call(a,this[c])){d.push(this[c])}}return d}}if(!Array.prototype.every){Array.prototype.every=function(c){var a=arguments[1];for(var b=0;b<this.length;b++){if(!c.call(a,this[b])){return false}}return true}}if(!Array.prototype.some){Array.prototype.some=function(c){var a=arguments[1];for(var b=0;b<this.length;b++){if(c.call(a,this[b])){return true}}return false}}if(!Array.prototype.reduce){Array.prototype.reduce=function(c){var b=this.length>>>0;if(typeof c!="function"){throw new TypeError()}if(b==0&&arguments.length==1){throw new TypeError()}var a=0;if(arguments.length>=2){var d=arguments[1]}else{do{if(a in this){d=this[a++];break}if(++a>=b){throw new TypeError()}}while(true)}for(;a<b;a++){if(a in this){d=c.call(null,d,this[a],a,this)}}return d}}if(!Array.prototype.reduceRight){"use strict";Array.prototype.reduceRight=function(c){var b=this.length>>>0;if(typeof c!="function"){throw new TypeError()}if(b==0&&arguments.length==1){throw new TypeError()}var a=b-1;if(arguments.length>=2){var d=arguments[1]}else{do{if(a in this){d=this[a--];break}if(--a<0){throw new TypeError()}}while(true)}for(;a>=0;a--){if(a in this){d=c.call(null,d,this[a],a,this)}}return d}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c){var b=this.length;if(!b){return -1}var a=arguments[1]||0;if(a>=b){return -1}if(a<0){a+=b}for(;a<b;a++){if(!Object.prototype.hasOwnProperty.call(this,a)){continue}if(c===this[a]){return a}}return -1}}if(!Array.prototype.lastIndexOf){Array.prototype.lastIndexOf=function(c){var b=this.length;if(!b){return -1}var a=arguments[1]||b;if(a<0){a+=b}a=Math.min(a,b-1);for(;a>=0;a--){if(!Object.prototype.hasOwnProperty.call(this,a)){continue}if(c===this[a]){return a}}return -1}}if(!Date.prototype.toISOString){Date.prototype.toISOString=function toISOString(){var b,a,c;if(!isFinite(this)){throw new RangeError}b=[this.getUTCFullYear(),this.getUTCMonth()+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()];a=b.length;while(a--){c=b[a];if(c<10){b[a]="0"+c}}return b.slice(0,3).join("-")+"T"+b.slice(3).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"}}if(!Date.now){Date.now=function now(){return new Date().getTime()}}if(!Date.prototype.toJSON){Date.prototype.toJSON=function toJSON(a){if(typeof this.toISOString.call!="function"){throw new TypeError()}return this.toISOString.call(this)}}if(isNaN(Date.parse("2011-06-15T21:40:05+06:00"))){"use strict";Date=(function(c){var e=function(o,f,j,k,p,g,n){var i=arguments.length;if(this instanceof c){var l=i==1&&String(o)===o?new c(e.parse(o)):i>=7?new c(o,f,j,k,p,g,n):i>=6?new c(o,f,j,k,p,g):i>=5?new c(o,f,j,k,p):i>=4?new c(o,f,j,k):i>=3?new c(o,f,j):i>=2?new c(o,f):i>=1?new c(o):new c();l.constructor=e;return l}return c.apply(this,arguments)};var b=new RegExp("^(\\d{4})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(?:Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$");for(var d in c){e[d]=c[d]}e.now=c.now;e.UTC=c.UTC;e.prototype=c.prototype;e.prototype.constructor=e;e.parse=function a(m){var g=b.exec(m);if(g){g.shift();for(var l=1;l<7;l++){g[l]=+(g[l]||(l<3?1:0));if(l==1){g[l]--}}var h=+g.pop(),f=+g.pop(),k=g.pop();var j=0;if(k){if(f>23||h>59){return NaN}j=(f*60+h)*60000*(k=="+"?-1:1)}return c.UTC.apply(this,g)+j}return c.parse.apply(this,arguments)};return e})(Date)}if(!Function.prototype.bind){Function.prototype.bind=function(e){if(typeof this!=="function"){throw new TypeError()}var g=Array.prototype.slice,c=Array.prototype.concat,f=g.call(arguments,1),a=this,b=function(){return a.apply(this instanceof d?this:e,c.call(f,g.call(arguments,0)))},d=function(){};d.prototype=a.prototype;b.prototype=new d();return b}}if(!String.prototype.trim){var trimBeginRegexp=/^\s\s*/;var trimEndRegexp=/\s\s*$/;String.prototype.trim=function(){return String(this).replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}if(!this.JSON){this.JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());if(!String.Format){String.Format=function(){if(arguments.length===0){return null}var b=arguments[0];for(var a=1;a<arguments.length;a++){var c=new RegExp("\\{"+(a-1)+"\\}","gm");b=b.replace(c,arguments[a])}return b}}var sb=(function(){function a(d){var e=this,b=d.split(".");for(var c=0,f=b.length;c<f;c++){if(typeof e[b[c]]==="undefined"){e[b[c]]={}}e=e[b[c]]}return e}return{namespace:a}}());sb.type=(function(){var b="array",d="boolean",e="function",c="number",q="null",f="object",j="regexp",n="string",p=Object.prototype.toString,k="undefined",a={"boolean":d,number:c,string:n,"undefined":k,"[object Array]":b,"[object Function]":e,"[object RegExp]":j},g,h="isArray isBoolean isRegex isFunction isNull isNumber isString isUndefined isArguments isDate isEmpty".split(" "),l={};g=function(i){return a[typeof i]||a[p.call(i)]||(i?f:q)};l={isArray:function(i){return g(i)===b},isBoolean:function(i){return typeof i===d||i instanceof Boolean},isRegex:function(i){return g(i)===j},isFunction:function(i){return g(i)===e},isNull:function(i){return i===null},isNumber:function(i){return g(i)===c},isString:function(i){return typeof i===n},isUndefined:function(i){return typeof i===k},isArguments:function(i){return !!(i&&i.callee)},isDate:function(i){return !!(i&&i.getTimezoneOffset&&i.setUTCFullYear)},isEmpty:function(r){if(this.isArray(r)||this.isString(r)){return r.length===0}for(var i in r){if(r.hasOwnProperty(i)){return false}}return true}};for(var o=0,m=h.length;o<m;o++){l[h[o].replace(/^is/,"isNot")]=(function(i){return function(r){return !l[i](r)}})(h[o])}return l}());var sb=(function(g,e,b){var c=e.console=e.console||{},f=g.console,a="log info warn error debug dir".split(" "),d=function(){};c.disable=function(){for(var h=0,j=a.length;h<j;h++){c[a[h]]=d}};c.enable=function(){var h=a.length;while(--h>=0){(function(j,k){c[k]=function(){var i=Array.prototype.slice.call(arguments),l=i.join(", ");if(!f){if("status" in g){g.status=l}return}f.firebug?f[k].apply(window,i):f[k]?f[k](l):f.log(l)}})(h,a[h])}};b?c.enable():c.disable();return e}(window,sb||{},/(local|test)/.test(window.location.hostname)));sb.namespace("i18n").culture={lang:null,region:null,fromISOString:function(a){var b=a.split("-");this.lang=b[0].toLowerCase();this.region=(b.length>1)?b[1].toUpperCase():null;return this},toISOString:function(){return(this.region)?[this.lang,this.region].join("-"):this.lang}};sb.i18n.culture.fromISOString(navigator.language||navigator.browserLanguage);sb.namespace("i18n").getText=(function(b,a){var c={},d=(function(){try{return !!sessionStorage.getItem}catch(f){return false}})();var e=function(f){return b.extend(f,{get:function(h,i){var g=this[h]||(h+"!NOTFOUND!");if(this.hasOwnProperty(h)&&sb.type.isFunction(i)){i(g)}return g}})};return function(j){var i=b.extend({url:document.location.pathname,actionUrl:"/resources/i18n/gettext",resourceNames:[]},j||{}),g={url:i.url},h=[],k,f,l;if("culture" in i){g.culture=i.culture;h.push(i.culture)}else{h.push(sb.i18n.culture.toISOString())}if(/https/.test(document.location.protocol)){h.push("secure")}h.push(i.url);if(i.resourceNames.length){g.includeNodes=i.resourceNames.sort().join(",");h.push(g.includeNodes)}k=h.join(":");if(!c[k]){f=(d)?sessionStorage.getItem(k):null;if(f===null){l=new b.Deferred();b.getJSON(i.actionUrl,g).success(function(m){if(d){sessionStorage.setItem(k,JSON.stringify(m))}sb.console.info("text loaded from xhr for '"+k+"'");l.resolve(e(m))}).error(function(o,n,m){l.reject(m);sb.console.warn("getText xhr failed for '"+this.url+"'")})}else{l=new b.Deferred(function(m){sb.console.info("text loaded from sessionStorage for '"+k+"'");m.resolve(e(JSON.parse(f)))})}c[k]=l.promise()}return c[k]}}(jQuery));sb.namespace("i18n").getScript=function(c,e){var b=new $.Deferred(),a=c.replace("ISO",sb.i18n.culture.toISOString()),d=c.replace("ISO",sb.i18n.culture.lang);$.getScript(a).then([e,b.resolve],function(){$.getScript(d).then([e,b.resolve],b.reject)});return b.promise()};