/* v0 */
Df.Lightbox={pars:{dialog:{className:"df_modal_dialog",animate:false,title:"TitleBar"},modal:{className:"df_modal",clickToClose:true,animate:false,iframe:true,styles:{opacity:0.5}}},setPars:function(a){Object.extend(Df.Lightbox.pars,a);return Df.Lightbox},getModal:function(){Df.Lightbox._checkModal();return Df.Lightbox._modal},getDialog:function(){Df.Lightbox._checkDialog();return Df.Lightbox._dialog},show:function(){Df.Lightbox._checkModal();Df.Lightbox._checkDialog();Df.Lightbox._modal.show();Df.Lightbox._dialog.show();return Df.Lightbox},hide:function(){Df.Lightbox._checkModal();Df.Lightbox._checkDialog();Df.Lightbox._modal.hide();Df.Lightbox._dialog.hide();return Df.Lightbox},_modal:false,_dialog:false,_checkModal:function(){if(!Df.Lightbox._modal){Df.Lightbox._createModal()}},_checkDialog:function(){if(!Df.Lightbox._dialog){Df.Lightbox._createDialog()}},_createModal:function(){Df.Lightbox._modal=new Df.Ui($(document.body).e("div","top",{className:Df.Lightbox.pars.modal.className}),{animate:Df.Lightbox.pars.modal.animate,iframe:Df.Lightbox.pars.modal.iframe});Df.Lightbox._modal.element.setStyle(Df.Lightbox.pars.modal.styles);if(Prototype.Browser.ie6){Df.Lightbox._modal.element.setStyle({position:"absolute"})}Df.Lightbox._modal.element.observe(":show",function(a){if(Df.Lightbox.pars.modal.clickToClose){Df.Lightbox._modal.element.observe("click",Df.Lightbox.hide)}if(Prototype.Browser.ie6){Event.observe(window,"scroll",Df.Lightbox._positionModal)}});Df.Lightbox._modal.element.observe(":hide",function(a){Df.Lightbox._modal.element.stopObserving("click",Df.Lightbox.hide);if(Prototype.Browser.ie6){Event.stopObserving(window,"scroll",Df.Lightbox._positionModal)}});if(Prototype.Browser.ie6&&Df.Lightbox.pars.modal.iframe){}},createDialogShell:function(b){var a=Df.e("h2").update(Df.Lightbox.pars.dialog.title);a.e("span").observe("click",function(c){Df.Lightbox.hide()});this._content=Df.e("div");b.insert(a).insert(this._content)},getDialogContent:function(){this._checkDialog();return this._content},_createDialog:function(){Df.Lightbox._dialog=new Df.Ui($(document.body).e("div","top",{className:Df.Lightbox.pars.dialog.className}),{animate:Df.Lightbox.pars.dialog.animate});this.createDialogShell(Df.Lightbox._dialog.element);if(Prototype.Browser.ie6){Df.Lightbox._dialog.element.setStyle({position:"absolute"})}Df.Lightbox._dialog.element.observe(":show",function(a){Df.Lightbox._positionDialog();Event.observe(window,"resize",Df.Lightbox._positionDialog);if(Prototype.Browser.ie6){Event.observe(window,"scroll",Df.Lightbox._positionDialog)}});Df.Lightbox._dialog.element.observe(":hide",function(a){Event.stopObserving(window,"resize",Df.Lightbox._positionDialog);if(Prototype.Browser.ie6){Event.stopObserving(window,"scroll",Df.Lightbox._positionDialog)}})},_positionDialog:function(){Df.Lightbox._dialog.element.center()},_positionModal:function(){var a=document.viewport.getScrollOffsets();Df.Lightbox._modal.element.setStyle({left:a.left+"px",top:a.top+"px"})}};Df.classPath="/js/df-1.4/";Df.importModule();var ess={};var store={};store.pageId="";var qs=new String(window.location.search);if(qs.startsWith("?")){qs=qs.substring(1)}store.queryParams=qs.toQueryParams();store.removeOutline=function(){if(!Prototype.Browser.Gecko){return}var b=$$("a");for(var a=0;a<b.length;a++){var c=b[a];if(c.getStyle("text-indent").startsWith("-")){c.setStyle({overflow:"hidden"})}}};store.getCurrentFile=function(){var b=new String(window.location.pathname);var c=b.lastIndexOf("/");var a=b.indexOf(".",c);return b.substring(c+1,a)};store.isEmpty=function(a){if(typeof a=="undefined"){return true}if(a==undefined||a==null){return true}if(typeof a=="string"){return a.length==0||a=="null"||a=="undefined"||a=="false"}return false};store.createTabs=function(b){if(!$(b)){return}var e={hideClassName:"inactive",showClassName:"active"};try{var d=new Df.Tabset(b,e);var a=d.getItems();for(var c=0;c<a.length;c++){a[c].getElement().addClassName(e.hideClassName)}d.showItem(0)}catch(f){}};store.validateEmail=function(a){var b=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;var c=$(a);return c&&!store.isEmpty(c.getValue())&&c.getValue().match(b)};store.validateZip=function(b){var c=/(^\d{5}$)|(^\d{5}-\d{4}$)/;var a=/^\D{1}\d{1}\D{1}\-?\d{1}\D{1}\d{1}$/;var d=$(b);return d&&!store.isEmpty(d.getValue())&&(d.getValue().match(c)||d.getValue().match(a))};store.ajax={};store.ajax.update=function(a,b,d){var c={method:"get",onFailure:function(){alert("Something went wrong...")}};if(d){c.onComplete=d}new Ajax.Updater(a,b,c)};store.bookmark={};store.bookmark.createBookmark=function(){var a=$$("a[rel=bookmark]");for(var b=0;b<a.length;b++){var c=a[b];c.observe("click",function(){if(Prototype.Browser.IE){if($("prod_0")){$("prod_0").setStyle({visibility:"hidden"})}if($("at16lb")){$("at16lb").observe("click",function(){if($("prod_0")){$("prod_0").setStyle({visibility:"visible"})}});if($("at16pt")){var d=$$("div#at16pt a");d[0].observe("click",function(){if($("prod_0")){$("prod_0").setStyle({visibility:"visible"})}})}if($("at16pc")){if($("at_share")){$$("div#at_share div.at_item").each(function(e){e.observe("click",function(f){if($("prod_0")){$("prod_0").setStyle({visibility:"visible"})}})})}}}}return addthis_sendto()});c.observe("mouseout",function(){addthis_close()});c.observe("mouseover",function(){return addthis_open(this.myself,"","[URL]","[TITLE]")}.bind({myself:c}));c.href="javascript:void(0);"}};store.leftnav={};store.leftnav.expandPrefix="expandMore_";store.leftnav.modulePrefix="module_";store.leftnav.moreLinkText="more...";store.leftnav.addMoreLinks=function(){var l=$$(".expandMore");for(var d=0;d<l.length;d++){var a=l[d];var m=a.id.substring(store.leftnav.expandPrefix.length);var b=$(store.leftnav.modulePrefix+m);var e=b.select("p.more");for(var c=0;c<e.length;c++){var f=e[c];if(f.id.indexOf("more_")>=0){f.remove()}}var k=b.select("p").length;var h=a.select("p");for(var c=k;c<h.length;c++){var f=h[c];if(f.id.indexOf("more_")>=0){continue}f.addClassName("more");b.appendChild(f)}var g=$(document.createElement("p"));g.addClassName("moreLink");g.update(store.leftnav.moreLinkText);g.observe("click",function(){for(var n=0;n<this.items.length;n++){this.items[n].removeClassName("more")}this.myself.remove()}.bind({items:b.select(".more"),myself:g}));b.appendChild(g)}};store.moreColors={};store.moreColors.init=function(){setTimeout(function(){var c=$("products");var a=$("productsDiamondFamily");var h={};if(c||a){var g=0;while(1){g++;var b=$("colors"+g);if(b){var e=b.getElementsBySelector("dt")[0];var f=b.readAttribute("data-rowid");var d=0;if(typeof(h[f])!="number"){h[f]=$(f).getHeight()}d=h[f];if(isPs>-1){b.setStyle({top:d-e.getHeight()-4+"px"})}else{b.setStyle({top:d-e.getHeight()+"px"})}if(isPs>-1){new Df.TogglePane(b,{controller:new Df.Ui(e),eventType:"click",animate:{top:d-b.getHeight()-4,time:500}})}else{new Df.TogglePane(b,{controller:new Df.Ui(e),eventType:"click",animate:{top:d-b.getHeight(),time:500}})}b.setStyle({visibility:"visible"})}else{break}}if(typeof(isLazyLoaded)=="boolean"&&isLazyLoaded==true){if(a){a.select('img[data-imgsrc!=""]').each(function(k){k.src=k.readAttribute("data-imgsrc")})}else{c.select('img[data-imgsrc!=""]').each(function(k){k.src=k.readAttribute("data-imgsrc")})}}}},500)};store.featProduct={};store.featProduct.init=function(){if($("featured")!=null){var f=document.getElementById("featured");var a=f.getElementsByTagName("li");var c=0;for(var b=0;b<a.length;b++){c+=a[b].offsetWidth}var e=$("product-slider");e.style.width=c+"px";var d=new Df.Slider("featured");d.pars.animate={time:100,pause:20};d.pars.iterateBy="li";d.set()}};store.giftCert={};store.giftCert.familyForm=function(){if($("qtyform")){$("qtyform").onsubmit=function(f){var a=0;var b=$$("#qtyform select");for(var d=0;d<b.length;d++){var c=b[d];if(parseInt(c.getValue())>0){a++}}if(a==0){alert("Please select at least one Gift Certificate");return false}$("prodCounter").update(a);return true}}};store.giftCert.detailsForm=function(){if($("detailsForm")){$("detailsForm").onsubmit=function(c){var b=$$("#detailsForm li");for(var a=0;a<b.length;a++){if($("rName"+a)&&!$("rName"+a).present()){alert("Please enter the recipient's name.");$("rName"+a).focus();return false}if(!store.validateEmail("rEmail"+a)){alert("Please enter a valid email address.");$("rEmail"+a).focus();return false}if($("from"+a)&&!$("from"+a).present()){alert("Please enter the sender's name.");$("from"+a).focus();return false}if($("msg"+a)&&$("msg"+a).present()&&$("msg"+a).getValue().length>120){alert("Please limit your message to 120 characters.");$("msg"+a).focus();return false}if($("amount"+a)&&$("amount"+a).getValue()==0){alert("Please select a gift certificate amount.");$("amount"+a).focus();return false}}return true}}};store.giftCert.preview=function(b){if($("detailsForm")){if($("rName"+b)&&!$("rName"+b).present()){alert("Please enter the recipient's name.");$("rName"+b).focus();return}if(!store.validateEmail("rEmail"+b)){alert("Please enter a valid email address.");$("rEmail"+b).focus();return}if($("from"+b)&&!$("from"+b).present()){alert("Please enter the sender's name.");$("from"+b).focus();return}if($("msg"+b)&&$("msg"+b).present()&&$F("msg"+b).length>120){alert("Please limit your message to 120 characters.");$("msg"+b).focus();return}if($("amount"+b)&&$("amount"+b).getValue()==0){alert("Please select a gift certificate amount.");$("amount"+b).focus();return}}var a="preview.jsp?rName="+$F("rName"+b)+"&rEmail="+$F("rEmail"+b)+"&from="+$F("from"+b)+"&msg="+$F("msg"+b)+"&amount="+$F("amount"+b)+"&vendorCode="+$F("vendorCode"+b)+"&action_type="+$F("action_type")+"&categoryId="+$F("categoryId")+"&cp="+$F("cp")+"&prod_0="+$F("prod_0");store.popup.giftCert(a)};store.giftCert.processBadWords=function(){if(!$("badWordField")){return}var a=$("badWordField").innerHTML;$("badWordField").addClassName("hide");alert(a)};function showCustomPopUp(b,a,c){window.open(b,a,c)}store.popup={};store.popup.height=630;store.popup.width=530;store.popup.standard="width="+store.popup.width+",height="+store.popup.height+",toolbar=no,status=no,menubar=no";store.popup.helpDesk=function(a){window.open(a,"helpdesk",store.popup.standard+",scrollbars=yes,resizable=yes")};store.popup.promo=function(a){window.open(a,"promo",store.popup.standard+",scrollbars=yes,resizable=no")};store.popup.emailFriend=function(a){window.open(a,"emailFriend",store.popup.standard+",scrollbars=no,resizable=yes")};store.popup.emailSignup=function(b){var a=$("emailSignupPage");if(!a){a=$(document.createElement("div"));a.id="emailSignupPage";$(store.pageId).appendChild(a)}store.ajax.update(a,"/email/form.jsp",function(){var d=9;var c=$("nav-email").cumulativeOffset().left-d;$("emailSignupPage").setStyle({left:c+"px"});if(!$("emailSignupForm")){return}$("emailSignupForm").onsubmit=function(f){var g=store.emailSignup.validate();if(g){$("emailSignupForm").request({onSuccess:function(e){$("emailWrapper").update(e.responseText);store.animatedScrollToTop()},onFailure:function(k,h){$("emailWrapper").update("Error commmunicating with the server.")}})}return false}})};store.popup.footerSign=function(b){var a=$("emailSignupPageFooter");if(!a){var c=$(document.createElement("div"));c.id="emailOver";$(document.body).appendChild(c);$(document.body).addClassName("lightbox");$("emailOver").setStyle({display:"block",width:"100%",position:"fixed"});a=$(document.createElement("div"));a.id="emailSignupPageFooter";$(document.body).appendChild(a)}store.ajax.update(a,b,function(){$("zip1").focus();var f=9;var d=$("emailSignupFooter").cumulativeOffset().left-f;$("emailSignupPageFooter").setStyle({left:"300px"});var e=$("enterEmail").value;$("emailAddress").value=e;$("emailVerification").value=e;if(!$("emailSignupForm")){return}$("emailSignupForm").onsubmit=function(g){var h=store.footerSign.validate();if(h){$("emailSignupForm").request({onSuccess:function(k){$("emailWrapper").update(k.responseText);$("emailSignupPageFooter").remove();$("emailOver").setStyle({display:"none"})},onFailure:function(l,k){$("emailWrapper").update("Error commmunicating with the server.");$("emailOver").setStyle({display:"none"})}})}return false};$("close").observe("click",function(g){store.popup.close();$(document.body).removeClassName("lightbox");$("emailOver").setStyle({display:"none"})})})};store.popup.close=function(a){var b=store.footerSign.validate();if(b){$("emailSignupForm").request({onSuccess:function(c){$("emailWrapper").update(c.responseText);$("emailSignupPageFooter").remove()},onFailure:function(d,c){$("emailWrapper").update("Error commmunicating with the server.")}})}};store.animatedScrollToTop=function(){if(document.viewport.getScrollOffsets().top>0){window.scrollBy(0,-40);setTimeout(store.animatedScrollToTop,25)}};store.animatedScrollDown=function(){$("emailSignupPageFooter").setStyle({left:"164px",position:"absolute",bottom:"340px"})};store.popup.sizeChart=function(a){window.open(a,"sizeChart","width=525,height=345,left=380,top=160,toolbar=no,status=no,menubar=no,scrollbars=yes,resizable=yes")};store.popup.sizeChartWide=function(a){window.open(a,"sizeChart","width=751,height=345,left=380,top=160,toolbar=no,status=no,menubar=no,scrollbars=yes,resizable=yes")};store.popup.giftCert=function(a){window.open(a,"giftCert",store.popup.standard+",directories=no,location=no,resizable=no,scrollbars=yes,left=((screen.width- 500)/2),top=((screen.height - 500)/2)")};store.popup.resize=function(){var b=store.popup.width;var a=store.popup.height;if(Prototype.Browser.IE){b+=21}if(Prototype.Browser.WebKit){b-=8}window.resizeTo(b,a)};store.popup.transform=function(){var b=$$("a[rel~=popup]");for(var c=0;c<b.length;c++){var d=b[c];d.oldHref=d.href;if(d.rel.indexOf("helpdesk")>=0){d.observe("click",function(){store.popup.helpDesk(this.oldHref)});d.href="javascript:void(0);"}if(d.rel.indexOf("promo")>=0){d.observe("click",function(){store.popup.promo(this.oldHref)});d.href="javascript:void(0);"}if(d.rel.indexOf("email")>=0){d.observe("click",function(){store.popup.emailFriend(this.oldHref)});d.href="javascript:void(0);"}if(d.rel.indexOf("sizechart")>=0){d.observe("click",function(){store.popup.sizeChart(this.oldHref)});d.href="javascript:void(0);"}if(d.rel.indexOf("widechart")>=0){d.observe("click",function(){store.popup.sizeChartWide(this.oldHref)});d.href="javascript:void(0);"}if(d.rel.indexOf("signup")>=0){d.observe("click",function(){store.popup.emailSignup(this.oldHref)});d.href="javascript:void(0);"}}var a=$("emailSignupFooter").down("form");a&&a.observe("submit",function(g){g.preventDefault();var h=a.action;var f=$("enterEmail").value;if(IsValidEmail(f)){store.popup.footerSign(h);g.stop()}else{alert("Please enter a valid email address.");$("enterEmail").focus();g.stop()}})};function IsValidEmail(a){var b=/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;return b.test(a)}var hasProdAlter=false;store.product={};store.product.selectedColor=0;store.product.selectedImage=0;store.product.maxAltImages=3;store.product.alternateImages=new Array();store.product.alternateProdImages=new Array();store.product.createPrint=function(){var b=$("utils");if(!b){return}var c=b.firstDescendant();var a=$(document.createElement("li"));a.update("Print");a.addClassName("print");a.observe("click",function(){print()});b.insertBefore(a,c)};store.product.initUtils=function(){store.product.createPrint();store.bookmark.createBookmark();new Df.TogglePane($("alt-images"),{controller:new Df.Ui($("seeMoreImages")),eventType:"hover",treatAsMenu:true,showClassName:"show",hideClassName:"hide",onShow:function(){$$('img[id^="alternateSku"]').each(function(a){if(a.src==""||(a.src.indexOf("null")>-1)){a.up("li").setStyle({display:"none"})}else{a.up("li").setStyle({display:"block"})}})}})};store.product.outfitSetAddToCartBtnStatus=function(){var c=0;var a=$$(".selectItemBox input");for(var b=0;b<a.length;b++){if(a[b].checked){c++}}if(c>0){$$(".addItemsToBag a.inactive").each(function(d){d.style.display="none"})}else{$$(".addItemsToBag a.inactive").each(function(d){d.style.display="block"})}};store.product.outfitInitUtils=function(){if($$(".selectItemBox input")){$$(".selectItemBox input").each(function(a){a.observe("click",function(b){store.product.outfitSetAddToCartBtnStatus()})})}};store.product.buildZoom=function(){var a="";if(store.product.alternateImages.length>0){a=store.product.alternateImages[store.product.selectedColor][store.product.selectedImage]}else{if(store.product.alternateProdImages.length>0){a=store.product.alternateProdImages[store.product.selectedColor][store.product.selectedImage]}else{return}}new Df.ImageCache(a.main,a.enh);var b=$(document.body).e("div","bottom",{className:"loader"});store.product.img2=new Df.FlyoutZoom("zoomIn",{loader:b,panelHolder:$("flyOutHolder"),panelAnimate:{width:300,time:600,ease:Df.Transitions.circInOut}}).load({base:a.main,zoom:a.enh})};store.product.setMainImage=function(){if(!$("zoomIn")){return}var a="";if(store.product.alternateImages.length>0){a=store.product.alternateImages[store.product.selectedColor][store.product.selectedImage]}else{if(store.product.alternateProdImages.length>0){a=store.product.alternateProdImages[store.product.selectedColor][store.product.selectedImage]}else{return}}if($("mainProductImage")){$("mainProductImage").remove();store.product.buildZoom()}else{new Df.ImageCache(a.main,a.enh);store.product.img2.load({base:a.main,zoom:a.enh})}};function getStringColors(d){var a=d.split("|");productId=a[0];colorId=a[1];var e=new Array();var b=0;for(var c=0;c<itemMap.length;c++){if(itemMap[c].pid==productId&&itemMap[c].cId==colorId){e[b]=itemMap[c].pid+"|"+itemMap[c].sku;b++;e[b]=itemMap[c].sDesc;b++}}return e}function updateSelector(a,b){while(a.hasChildNodes()){a.removeChild(a.lastChild)}for(var c=0;c<b.length;c++){var d=$(document.createElement("option"));d.value=b[c].id;d.update(b[c].de);a.appendChild(d)}}function populateSizes(d,c){var g=d;var a=new Array();if(g==""){var f=new Object();f.id="";f.de="select a size";a.push(f);updateSelector(c,a);return}else{if(g!="-1"){var f=new Object();f.id="";f.de="select a size";a.push(f);var e=getStringColors(g);for(var b=0;b<e.length;b++){f=new Object();f.id=e[b];f.de=e[++b];a.push(f)}updateSelector(c,a)}}}function displayAlternate(g){var e=store.product.alternateImages[g];var f=$$("#alt-images img");var a=Math.min(f.length,store.product.maxAltImages);for(var d=0;d<a;d++){var b=e[d];var c=f[d];if(!b||!(b.thn&&b.main&&b.enh)||!c){if(c){c.up("li").setStyle({display:"none"})}continue}c.src=b.thn;c.up("li").setStyle({display:"block"})}}store.product.swapImage=function(a){store.product.selectedImage=a;store.product.setMainImage()};store.emailSignup={};store.emailSignup.validate=function(){var d=$("emailSignupForm");if(!store.validateEmail("emailAddress")){alert("Please enter in a valid email address.");$("emailAddress").focus();return false}if(!store.validateEmail("emailVerification")){alert("Please enter in a valid email address.");$("emailVerification").focus();return false}if($F("emailAddress")!=$F("emailVerification")){alert("Please ensure the email addresses match.");$("emailVerification").focus();return false}if(!$("zip").present()||!store.validateZip("zip")){alert("Please enter a valid zip code.");$("zip").focus();return false}if($("male")!=null){var b=false;var c=d.getInputs("radio","gender");for(var a=0;a<c.length;a++){if(c[a].getValue()!=null){b=true;break}}if(!b){alert("Please select a gender.");return false}}return true};store.emailSignup.setForm=function(){if(!$("emailSignupForm")){return}$("emailSignupForm").onsubmit=function(a){return store.emailSignup.validate()}};store.emailSignup.checkForm=function(){if(!$("emailSignupForm")){return}$("emailSignupForm").onsubmit=function(a){email=document.getElementById("emailAddress");if(!store.validateEmail(email)){alert("Please enter a valid email address.");$(email).focus();return false}return true}};store.footerSign={};store.footerSign.validate=function(){var a=$("emailSignupForm");if(!store.validateEmail("emailAddress")){alert("Please enter in a valid email address.");$("emailAddress").focus();return false}if(!store.validateEmail("emailVerification")){alert("Please enter in a valid email address.");$("emailVerification").focus();return false}if($F("emailAddress")!=$F("emailVerification")){alert("Please ensure the email addresses match.");$("emailVerification").focus();return false}if($("zip1").value!=""){if(!store.validateZip("zip1")){alert("Please enter a valid zip code.");$("zip1").focus();return false}}return true};store.footerSign.setForm=function(){if(!$("emailSignupForm")){return}$("emailSignupForm").onsubmit=function(a){return store.footerSign.validate()}};store.footerSign.checkForm=function(){if(!$("emailSignupForm")){return}$("emailSignupForm").onsubmit=function(a){email=document.getElementById("emailAddress");if(!store.validateEmail(email)){alert("Please enter a valid email address.");$(email).focus();return false}return true}};store.search={};store.search.kw=null;store.search.text="keyword or item #";store.search.init=function(){store.search.kw=$("kw");if(!store.search.kw){return}store.search.kw.observe("click",function(){if(store.search.kw.value==store.search.text){store.search.kw.value=""}});store.search.kw.observe("blur",function(){if(store.search.kw.value==""){store.search.kw.value=store.search.text}})};store.search.swapImage=function(c,a){var b=$("prodShot_"+a);if(b){b.src=c}};store.search.SwapUrl=function(b,f,e,a){var c=$("ANCHOR_"+e+"_main");var d=$("ANCHOR_"+e+"_"+a);if(c){c.href=b+"&cid="+f}if(d){d.href=b+"&cid="+f}};store.locator={};store.locator.addOnSubmits=function(){if($("storeSearchForm")){$("storeSearchForm").onsubmit=function(d){var b=$("postalCode_usa");var a=b.value;var c=false;while(a.charAt(0)==" "){a=a.substring(1)}while(a.charAt(a.length-1)==" "){a=a.substring(0,a.length-1)}if(a==""||a.length>7){alert("Please enter a valid postal code to search by postal code.");return false}b.value=a;for(j=0;j<b.value.length;j++){if(isNaN(parseInt(b.value.charAt(j)))){c=true;break}}if(a.length!=5||c){alert("Please enter a valid postal code to search by.");b.focus();return false}return true}}if($("storeSearchForm2")){$("storeSearchForm2").onsubmit=function(b){var c=$("city_usa");var a=$("searchType_usa");if(c.value==""){a.value="STATE"}else{a.value="CITY_STATE"}return true}}if($("storeSearchForm3")){$("storeSearchForm3").onsubmit=function(d){var b=$("postalCode_ca");var a=b.value;var c=false;while(a.charAt(0)==" "){a=a.substring(1)}while(a.charAt(a.length-1)==" "){a=a.substring(0,a.length-1)}b.value=a;if(a==""||a.length>7){alert("Please enter a valid postal code to search by postal code.");return false}else{for(i=0;i<a.length;i++){if(((a.charAt(0)>="a"&&a.charAt(0)<="z")||(a.charAt(0)>="A"&&a.charAt(0)<="Z"))){var f=/^[a-cehj-npr-tvxy]\d[a-z](\s|-)?\d[a-z]\d$/i;if(f.test(a)){if(a.length>5&&a.charAt(3)!=" "){b.value=a.substring(0,3)+" "+a.substring(3,a.length)}}else{c=true}break}else{c=true}}}if(a.length==""||c){alert("Please enter a valid postal code to search by.");b.focus();return false}return true}}if($("storeSearchForm4")){$("storeSearchForm4").onsubmit=function(b){var c=$("city_ca");var a=$("searchType_ca");if(c.value==""){a.value="STATE"}else{a.value="CITY_STATE"}return true}}};store.cart={crossSells:function(){var a=$("cart_rr");var b=$$('#cartItems td[width="150"]');if(a!=undefined&&a.innerHTML!=""&&b.length>0){$$("#content > table").invoke("writeAttribute",{width:790});b[0].update('<table border="0" width="150" cellspacing="0" cellpadding="0" align="center"><tr><td id="cart-cross-sells-container" bgcolor="#EAEAEA"></td></tr></table>');$("cart-cross-sells-container").update(a.remove())}}};store.startup={};store.startup.common=function(){store.removeOutline();store.popup.transform();store.search.init();if($("my-bag-anchor")){$("my-bag-anchor").observe("mouseover",function(){showMiniCart()})}if(Prototype.Browser.IE){var a=$("footer");if(a){a.setStyle({position:"relative"});a.setStyle({position:"absolute"})}}};store.startup.familyPage=function(){$$("select[name=s]").each(function(a){a.observe("change",function(){var b=this.value;var c=window.location.toString();c.match(/\?(.+)$/);var f=c.substring(0,c.indexOf("?")+1);var h=RegExp.$1;var h=h.split("&");var g={};for(var e=0;e<h.length;e++){var d=h[e].split("=");if(e!=0&&d[0]!="s"){f=f+"&"}if(d[0]!="s"&&d[0]=="page"){f=f+"page=1"}else{if(d[0]!="s"&&d[0]!="page"){f=f+h[e]}}}f=f+"&s="+b;window.location.href=f})});$$("select[name=f]").each(function(a){a.observe("change",function(){if(this.value==""){window.location.href=ck.family.defaultURL}else{window.location.href=this.value}})});store.moreColors.init()};store.startup.familyPage_diamondFamily=function(){$$("select[name=sort]").each(function(a){a.observe("change",function(){var b=this.value;var d=window.location.toString();d.match(/\?([^#]+)(.*)/);var g=d.substring(0,d.indexOf("?")+1);var k=RegExp.$1;var c=RegExp.$2;var k=k.split("&");var h={};for(var f=0;f<k.length;f++){var e=k[f].split("=");if(f!=0&&e[0]!="sort"){g=g+"&"}if(e[0]!="sort"&&e[0]=="page"){g=g+"page=1"}else{if(e[0]!="sort"&&e[0]!="page"){g=g+k[f]}}}if(b.length>=1){g=g+"&sort="+b}if(c&&c.length>=1){g=g+c}window.location.href=g})});$$("select[name=fsize]").each(function(a){a.observe("change",function(){var f=this.value;var b=window.location.toString();b.match(/\?([^#]+)(.*)/);var d=b.substring(0,b.indexOf("?")+1);var e=RegExp.$1;var k=RegExp.$2;var e=e.split("&");var c={};for(var g=0;g<e.length;g++){var h=e[g].split("=");var m=(h[0]!="fsize"&&h[0]!="filter"&&h[0]!="searchBySize"&&h[0]!="fCat"&&h[0]!="fDomain");if(g!=0&&m){d=d+"&"}if(m&&h[0]=="page"){d=d+"page=1"}else{if(m&&h[0]!="page"){d=d+e[g]}}}if(f.length>=1){d=d+"&fsize="+f;var l=$("fsize-form");if(l){if(l.filter){d=d+"&filter="+l.filter.value}if(l.searchBySize){d=d+"&searchBySize="+l.searchBySize.value}if(l.fCat){d=d+"&fCat="+l.fCat.value}if(l.categoryId){d=d+"&categoryId="+l.categoryId.value}if(l.fDomain){d=d+"&fDomain="+l.fDomain.value}}}if(k&&k.length>=1){d=d+k}window.location.href=d})});$$("#sidebar-left ul.subsubsubcategory").each(function(a){a.observe("click",function(f){var c=Event.element(f);if(c.tagName.toLowerCase()=="a"){var d=c.up();var g=d.siblings();var e=g.length;d.addClassName("active");for(var b=0;b<e;b++){if(g[b].hasClassName("active")){g[b].removeClassName("active")}}}})});$$("#content div.products div.row-head").each(function(a){a.observe("click",function(c){var b=Event.element(c);if(b.tagName.toLowerCase()=="a"){var d=b.readAttribute("href");if(typeof d=="string"&&d.indexOf("top")>=0){$$("#sidebar-left ul.subsubsubcategory").each(function(g){var f=g.childElements();var h=f.length;for(var e=0;e<h;e++){if(f[e].hasClassName("active")){f[e].removeClassName("active")}}})}}})});if(typeof location.hash=="string"&&location.hash.length>=1&&location.hash.indexOf("#top")==-1){$$("#sidebar-left ul.subsubsubcategory").each(function(d){var c=d.childElements();var e=c.length;for(var b=0;b<e;b++){var a=c[b].down("a").readAttribute("href");if(typeof a=="string"&&a.indexOf(location.hash)>=0){c[b].addClassName("active");throw $break}}})}store.moreColors.init()};store.startup.categoryPage=function(){store.featProduct.init()};store.startup.emailSignupPage=function(){store.emailSignup.setForm()};store.startup.emailSignupPageFooter=function(){store.footerSign.setForm()};store.startup.emailSignupOverlay=function(){store.emailSignup.checkForm()};store.startup.giftCertPage=function(){store.giftCert.familyForm();store.giftCert.detailsForm();store.giftCert.processBadWords()};store.startup.productPage=function(){store.product.initUtils();store.createTabs("product-details");store.product.outfitInitUtils();if($("orderFormProd")){$("orderFormProd").onsubmit=function(a){return verifyFields()}}store.product.setMainImage()};store.startup.searchPage=function(){store.leftnav.addMoreLinks();store.moreColors.init()};store.startup.storeLocatorPage=function(){store.locator.addOnSubmits();store.createTabs("locator-tabs")};store.startup.cart=function(){store.cart.crossSells()};Event.observe(window,"load",function(){store.pageId=document.body.id;if(store.startup.common){store.startup.common()}if(store.startup[store.pageId]){store.startup[store.pageId]()}if($("product_rr")&&$("recently-viewed")){if($("product_rr").down("div#cross-sells")){var a=$("product_rr").down("div#cross-sells").getHeight()-8;var b=$("recently-viewed").getHeight()-8;if(a>b){$("recently-viewed").setStyle({height:a+"px"})}else{$("product_rr").down("div#cross-sells").setStyle({height:b+"px"})}}}});$(document).observe("dom:loaded",function(a){$(document.body).observe("click",function(b){Df.Anchor.rewriteHandler(b)})});function functionName(b,a){if(b){$("aero_rd09_globalLeftPromoSlot_1").setStyle({height:a+"px",zIndex:100})}else{$("aero_rd09_globalLeftPromoSlot_1").setStyle({height:"31px",zIndex:0})}}function showBreakOutFlash(b){$("content-wrapper").insert('<div id="breakout-flash" style="position: absolute; left: -60px; top: 105px;"></div>');var a=new SWFObject(b,"breakout-flash","322","359","10","#ffffff");a.addParam("wmode","transparent");a.addParam("menu","false");a.write("breakout-flash");$("breakout-flash").insert('<img src="/images/pixel.gif" width="322" height="359" border="0" usemap="#breakout" style="position: absolute; left: 0;"><map name="breakout"><area shape="poly" coords="175,307,176,327,218,323,216,303,175,307" href="/family/index.jsp?categoryId=3536103&amp;cp=3534618.3534619.3534624.3542203"><area shape="poly" coords="5,27,289,1,320,333,33,359,5,27" href="/family/index.jsp?categoryId=3536151&amp;cp=3534618.3534619.3534623.354105050"></map>')}var fiftyOne={};fiftyOne.disableOGC=function(){if($("qtyform")||$("gcform")){var d=$$(".item select");for(i=0;i<d.length;i++){d[i].setAttribute("disabled","disabled")}if($("submitButton")){$("submitButton").addClassName("disabled")}if($("addToBag")){$("addToBag").addClassName("disabled")}if($("continue")){$("continue").addClassName("disabled")}}if($("gcContent")){var c=$$("#gcContent select");var b=$$("#gcContent input");var a=$$("#gcContent textarea");for(i=0;i<c.length;i++){c[i].setAttribute("disabled","disabled")}for(i=0;i<b.length;i++){b[i].setAttribute("disabled","disabled")}for(i=0;i<a.length;i++){a[i].setAttribute("disabled","disabled")}}if($("detailsForm")){var c=$$("#detailsForm select");var b=$$("#detailsForm input");var a=$$("#detailsForm textarea");for(i=0;i<c.length;i++){c[i].setAttribute("disabled","disabled")}for(i=0;i<b.length;i++){b[i].setAttribute("disabled","disabled")}for(i=0;i<a.length;i++){a[i].setAttribute("disabled","disabled")}}};var firstLoad=true;var currencies=[];var onLoad=false;function setIntlShippingCountryName(){var d=document.getElementById("selCountry");var g=d.selectedIndex;var b=d.options[g].value;var f=document.getElementById("selCurrency");var a=f.selectedIndex;var e=f.options[a].value;var c=new Ajax.Request("/include/intlSetCountryCurrency.jsp",{method:"get",parameters:{selCountry:b,selCurrency:e},onSuccess:function(l){var h=l.responseText||"no response text";var k=document.URL;if(k.indexOf("international")==27||k.indexOf("international")==28||k.indexOf("international")==38||k.indexOf("international")==39){window.location.href="/"}else{Df.Lightbox.hide();document.location.reload()}},onFailure:function(){alert("Something went wrong...")}})}function setIntlShippingCurrency(h){if(firstLoad){firstLoad=false;var d=document.getElementById("selCurrency");if(d.length>0){for(var c=0;c<d.length;c++){currencies.push(d[c].text+"|"+d[c].value)}}}var l=document.getElementById("selCountry");var m=l.selectedIndex;var f=l.options[m].value;var e=document.getElementById("selCurrency");var b=e.selectedIndex;var d=e.options[b].value;if(f=="United States"||f=="Canada"||f=="UNITED STATES"||f=="CANADA"){var a=new Array();a.push("US Dollar (USD)|US Dollar (USD)");populateDropdown("selCurrency",a)}else{populateDropdown("selCurrency",currencies)}var g=new Ajax.Request("http://"+window.location.hostname+"/include/intlShippingCurrency.jsp",{method:"get",parameters:{selCountry:f},onSuccess:function(p){var k=p.responseText||"no response text";var o=k.split("\n");for(var n=0;n<e.options.length;n++){if(h&&e.options[n].value==d){e.options[n].selected="selected";return}else{if(!h&&e.options[n].value==o[5]){e.options[n].selected="selected";return}}}document.getElementById("selCurrency").value=k},onFailure:function(){alert("Something went wrong...")}})}function populateDropdown(a,e){var b=document.getElementById(a);b.disabled=false;deleteSelectBoxData(a);var d;for(d=0;d<e.length;d++){var g=e[d].split("|");var f=document.createElement("option");f.text=g[0];f.value=g[1];try{b.add(f,null)}catch(c){b.add(f)}}}function deleteSelectBoxData(b){var c=document.getElementById(b);var a;if(c.length>0){for(a=c.length-1;a>=0;a--){c.remove(a)}}}$(document).observe("dom:loaded",function(d){if(typeof international!="undefined"){if($$("a.pagelink")[0]){$$("a.pagelink")[0].observe("click",function(n){if(n.currentTarget.text=="Easy Returns"&&international){Event.stop(n);window.open("../helpdesk/popup.jsp?display=international&subdisplay=countries","getfile1","width=500,height=400,toolbar=no,status=no,menubar=no,scrollbars=yes,resizable=yes")}})}}Df.Lightbox.pars.dialog.className="df_modal_expressShop";Df.Lightbox.pars.dialog.animate={opacity:1};Df.Lightbox.pars.dialog.title="Express Shop";Df.Lightbox.getDialog().element.setStyle({opacity:0});if($("international")){$("international").observe("click",function(p){Event.stop(p);Df.Lightbox.show();var n=$$(".df_modal_expressShop")[0];var o=new Ajax.Request("/include/international_modal.jsp",{method:"post",parameters:{},onSuccess:function(r){if(r.status=="200"){try{n.innerHTML=r.responseText;Df.Lightbox.show();setIntlShippingCurrency(true)}catch(q){}}$("es-close").observe("click",function(){Df.Lightbox.hide()});$("learnMore").observe("click",function(t){Event.stop(t);window.open("/helpdesk/index.jsp?display=international&subdisplay=international&pd=20110829%2b1319&locale=en_US")});$("cancelCurrency").observe("click",function(){Df.Lightbox.hide()})},onException:function(r,q){},onError:function(r,q){}})})}if($$(".hdLightbox")[0]){$$(".hdLightbox")[0].observe("click",function(p){Event.stop(p);Df.Lightbox.show();var n=$$(".df_modal_expressShop")[0];var o=new Ajax.Request("/include/international_modal.jsp",{method:"post",parameters:{},onSuccess:function(r){if(r.status=="200"){try{n.innerHTML=r.responseText;Df.Lightbox.show();setIntlShippingCurrency()}catch(q){}}$("es-close").observe("click",function(){Df.Lightbox.hide()});$("learnMore").observe("click",function(t){Event.stop(t);window.open("/helpdesk/index.jsp?display=international&subdisplay=international&pd=20110829%2b1319&locale=en_US#content")});$("cancelCurrency").observe("click",function(){Df.Lightbox.hide()})},onException:function(r,q){},onError:function(r,q){}})})}if(typeof international!="undefined"){if(international){var h=$$("#cross-sells .price li:not(.now)");var a=$$("#cross-sells .price li.now");var l;var b;var k;var g;function c(n){var e=parseFloat(n);if(isNaN(e)){e=0}var o="";if(e<0){o="-"}e=Math.abs(e);e=parseInt((e+0.005)*100);e=e/100;s=new String(e);if(s.indexOf(".")<0){s+=".00"}if(s.indexOf(".")==(s.length-2)){s+="0"}s=o+s;return s}function m(e){switch(roundMethod){case 2:e=e;break;case 1:e=Math.round(e*10)/10;break;case 0:e=Math.round(e*1)/1;break;case -1:e=Math.floor(e);e=Math.round(e/10)*10;break;case -2:e=Math.floor(e);e=Math.round(e/100)*100;break;default:}var n=new String(e);if(n.length<4||roundMethod==0||roundMethod==-1||roundMethod==-2){e=e+".00"}else{if(roundMethod==1){e=e+"0"}}return e}for(i=0;i<h.length;i++){l=h[i].innerHTML;b=l.match(/[0-9]+(?:\.[0-9])+(0|[0-9])/)[0];k=b*fx_rate*lcp;k=c(k);var f=m(k);g=currencyCode+" "+f;h[i].innerHTML=g}for(i=0;i<a.length;i++){l=a[i].innerHTML;b=l.match(/[0-9]+(?:\.[0-9])+(0|[0-9])/)[0];k=b*fx_rate*lcp;k=c(k);var f=m(k);g="now: "+currencyCode+" "+f;a[i].innerHTML=g}fiftyOne.disableOGC()}}});function clearGroup(b){var c=document.emailfooter.gender;for(var a=0;a<c.length;a++){if(c[a]!=b){c[a].checked=false}}}function openPopupCenter(f,g,a,c){var e=(screen.width)?(screen.width-a)/2:0;var d=(screen.height)?(screen.height-c)/2:0;var b=window.open(f,g,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+a+", height="+c+", top="+d+", left="+e)}function execJS(node){var mcBSaf=(navigator.userAgent.indexOf("Safari")!=-1);var mcBOpera=(navigator.userAgent.indexOf("Opera")!=-1);var mcBMoz=(navigator.appName=="Netscape");var mcBIE=(navigator.userAgent.indexOf("MSIE")!=-1);var st=node.getElementsByTagName("SCRIPT");var strExec;for(var i=0;i<st.length;i++){if(mcBSaf){strExec=st[i].innerHTML}else{if(mcBOpera){strExec=st[i].text}else{if(mcBMoz){strExec=st[i].textContent}else{strExec=st[i].text}}}try{eval(strExec)}catch(e){alert(e)}}}var showCart=0;var supportedBrowser=(navigator.userAgent.indexOf("MSIE 5.2")==-1);function hideUnderElements(){if(Prototype.Browser.ie6){if($("orderFormProd")){$("orderFormProd").select("select").each(function(a){a.setStyle({visibility:"hidden"})})}}}function showUnderElements(){if($("orderFormProd")&&Prototype.Browser.ie6){if($("orderFormProd")){$("orderFormProd").select("select").each(function(a){a.setStyle({visibility:"visible"})})}}}var hideCartTime="";var hideTimerValue=3000;var minicartSwitchValue=5;var tmp_minicartSwitchValue=5;function startTimer(){hideCartTimer=setTimeout("hideCart()",hideTimerValue)}function stopTimer(){clearTimeout(hideCartTimer)}function startModalTimer(){hideModalTimer=setTimeout("Df.Lightbox.hide()",hideTimerValue)}function stopModalTimer(){clearTimeout(hideModalTimer)}var _startTimer=startTimer.bindAsEventListener();var _stopTimer=stopTimer.bindAsEventListener();var _startModalTimer=startModalTimer.bindAsEventListener();var _stopModalTimer=stopModalTimer.bindAsEventListener();function JSONscriptRequest(a){this.fullUrl=a;this.noCacheIE="&noCacheIE="+(new Date()).getTime();this.headLoc=document.getElementsByTagName("head").item(0);this.scriptId="JscriptId"+JSONscriptRequest.scriptCounter++}JSONscriptRequest.scriptCounter=1;JSONscriptRequest.prototype.buildScriptTag=function(){this.scriptObj=document.createElement("script");this.scriptObj.setAttribute("type","text/javascript");this.scriptObj.setAttribute("charset","utf-8");this.scriptObj.setAttribute("src",this.fullUrl+this.noCacheIE);this.scriptObj.setAttribute("id",this.scriptId)};JSONscriptRequest.prototype.removeScriptTag=function(){this.headLoc.removeChild(this.scriptObj)};JSONscriptRequest.prototype.addScriptTag=function(){this.headLoc.appendChild(this.scriptObj)};function updateCartSummary(){var a="http://www.aeropostale.com/cartHandler/ajaxCartSummary.jsp?bg=2&t="+new Date().getTime()+"&callback=updateCartSummary_callback";bObj=new JSONscriptRequest(a);bObj.buildScriptTag();bObj.addScriptTag()}function updateCartSummary_callback(a){if(a.status==200){$("myBagQty").update(a.responseText)}}function showMiniCart(){if($("minicart")&&$("myBagQty")){var c=$("myBagQty").innerHTML;if(c.indexOf("0 Item $0.00")>=0){}else{minicartSwitchValue=1;if(window.location.hostname=="www.ps4u.com"){var a="http://www.aeropostale.com/cartHandler/ajaxMinicart.jsp?bg=2&t="+new Date().getTime()+"&callback=updateCart";bObj=new JSONscriptRequest(a);bObj.buildScriptTag();bObj.addScriptTag()}else{var b=new Ajax.Request("/minicart/index.jsp?",{method:"get",parameters:"bg=2&t="+new Date().getTime(),onComplete:updateCart})}hideUnderElements();clearTimeout(hideCartTimer);Event.observe("minicart","mouseover",_stopTimer);Event.observe("minicart","mouseout",_startTimer)}}}function showCartBlk(){if(minicartSwitchValue==5){$("minicart").hide();$$("div.df_modal_expressShop")[0].innerHTML=$("minicart_for_product").innerHTML;Df.Lightbox.show();$("es-close").observe("click",function(){Df.Lightbox.hide()});$("closeMC").observe("click",function(){Df.Lightbox.hide()});stopModalTimer();$$("div.df_modal_expressShop")[0].observe("mouseover",_stopModalTimer);$$("div.df_modal_expressShop")[0].observe("mouseout",_startModalTimer);startModalTimer();execJS($$("div.df_modal_expressShop")[0])}else{$("minicart").df.animate.run({ease:Df.Transitions.cubicOut,time:500,pause:40,top:55,onComplete:addScrollBar})}}function hideCartBlk(a){$("minicart").df.animate.run({ease:Df.Transitions.cubicIn,time:500,pause:40,top:a,onComplete:showUnderElements})}Event.observe(window,"load",function(a){if($("minicart")){$("minicart").createNS("df").animate=new Df.Animate("minicart")}if(window.location.hostname=="www.ps4u.com"){updateCartSummary()}});function hideCart(){Event.stopObserving("minicart","mouseover",_stopTimer);Event.stopObserving("minicart","mouseout",_startTimer);removeScrollBar();hideCartBlk("-"+$("minicart").scrollHeight);clearTimeout(hideCartTimer)}function ajaxAddToCart(h,g){if(!supportedBrowser){h.submit()}else{var a="/cartHandler/index.jsp?ajax=true";var c="";for(var b=0;b<h.elements.length;b++){var e=h.elements[b];if(e.type!="checkbox"||(e.type=="checkbox"&&e.checked==true)){c=c+e.name+"="+e.value+"&"}}c=c+"async=true";c=c.replace(/\?/,"&");c=c.replace(/\#/,"%23");minicartSwitchValue=g;if(window.location.hostname=="www.ps4u.com"){var d="http://www.aeropostale.com/cartHandler/ajax.jsp?"+c+"&callback=handleStateChange";bObj=new JSONscriptRequest(d);bObj.buildScriptTag();bObj.addScriptTag()}else{var f=new Ajax.Request(a,{method:"post",parameters:c,onComplete:handleStateChange})}}}function handleStateChange(c){if(c.status==200){var a=c.responseText;if(a.indexOf("AJAX_SUCCESS")>-1){var b=getXmlValue(a,"itemCount");var d=getXmlValue(a,"itemTotValue");var e=getXmlValue(a,"errorMessage");updateCartItemDisplay(b,d);updateErrMsgDisplay(e);getOrderItemDetails()}else{window.location=getXmlValue(a,"rdir")}}else{alert("Unable to retrieve a response from the server.")}}function getOrderItemDetails(){if(window.location.hostname=="www.ps4u.com"){var a="http://www.aeropostale.com/cartHandler/ajaxMinicart.jsp?t="+new Date().getTime()+"&callback=updateCart";bObj=new JSONscriptRequest(a);bObj.buildScriptTag();bObj.addScriptTag()}else{var b=new Ajax.Request("/minicart/index.jsp?",{method:"get",parameters:"t="+new Date().getTime(),onComplete:updateCart})}}function toggleSelects(c){if(navigator.appVersion.indexOf("MSIE")!=-1){var b=document.getElementsByTagName("select");if(c=="hideSelects"){for(var a=0;a<b.length;a++){b[a].style.visibility="hidden"}}else{for(var a=0;a<b.length;a++){b[a].style.visibility="visible"}}}}var hideCartTimer;var hideModalTimer;function updateCart(a){if(a.status==200){switch(minicartSwitchValue){case 1:$("minicart").update(a.responseText);$("minicart").removeClassName($("minicart").className);$("minicart").addClassName("minicart_fullMinicart");$("minicart").show();if($("minicart").style.top!="55px"){showCartBlk()}else{addScrollBar()}stopTimer();$("minicart").observe("mouseover",_stopTimer);$("minicart").observe("mouseout",_startTimer);startTimer();execJS($("minicart"));break;case 2:$("minicart").update(a.responseText);$("minicart").removeClassName($("minicart").className);$("minicart").addClassName("minicart_lastItemAdded");$("minicart").show();if($("minicart").style.top!="55px"){showCartBlk()}stopTimer();$("minicart").observe("mouseover",_stopTimer);$("minicart").observe("mouseout",_startTimer);startTimer();execJS($("minicart"));break;case 3:$("minicart").update(a.responseText);$("minicart").hide();$$("div.df_modal_expressShop")[0].innerHTML=$("minicart_for_ES").innerHTML;Df.Lightbox.show();$("es-close").observe("click",function(){Df.Lightbox.hide()});$("closeMC").observe("click",function(){Df.Lightbox.hide()});stopModalTimer();$$("div.df_modal_expressShop")[0].observe("mouseover",_stopModalTimer);$$("div.df_modal_expressShop")[0].observe("mouseout",_startModalTimer);startModalTimer();execJS($$("div.df_modal_expressShop")[0]);break;case 4:alert("Outfit Minicart");break;case 5:$("minicart").update(a.responseText);$("minicart").hide();$$("div.df_modal_expressShop")[0].innerHTML=$("minicart_for_product").innerHTML;Df.Lightbox.show();$("es-close").observe("click",function(){Df.Lightbox.hide()});$("closeMC").observe("click",function(){Df.Lightbox.hide()});stopModalTimer();$$("div.df_modal_expressShop")[0].observe("mouseover",_stopModalTimer);$$("div.df_modal_expressShop")[0].observe("mouseout",_startModalTimer);startModalTimer();execJS($$("div.df_modal_expressShop")[0]);break}}else{alert("Unable to retrieve a response from the server.")}}function updateCartItemDisplay(b,c){var d=$("myBagQty");if(d){var a="";if(b==1){a=b+" Item "}else{a=b+" Items "}d.innerHTML=a+c}}function updateErrMsgDisplay(c){var d=$("errMessageDivMinicart");var a=$("errMessageDivMinicart2");if(d){var b="";b=c;d.innerHTML=b;d.style.display="block";d.style.visibility="visible"}if(a){var b="";b=c;a.innerHTML=b;a.style.display="block";a.style.visibility="visible"}}function getXmlValue(a,g){var b="";var e="<"+g+">";var c="</"+g+">";var d=a.indexOf(e);if(d>-1){b=a.substring(d+e.length,a.indexOf(c))}return b}function addScrollBar(){if($("minicart7_productsWrapper")&&$("minicart7_productsWrapper").scrollHeight>"640"&&$("minicart7_productsWrapper").style.overflow!="auto"){$("minicart7_productsWrapper").setStyle({height:"640px",overflow:"auto"});if(Prototype.Browser.ie7||Prototype.Browser.ie6){$("minicart7_productsWrapper").setStyle({height:"635px"});$("minicart7_productsWrapper").style.overflow="visible";$("minicart7_productsWrapper").style.overflowY="scroll";$("minicart7_productsWrapper").style.overflowX="hidden"}$("minicart7_productsWrapper").observe("scroll",_stopTimer)}}function removeScrollBar(){if($("minicart7_productsWrapper")&&$("minicart7_productsWrapper").scrollHeight>"640"&&$("minicart7_productsWrapper").style.overflow=="auto"){$("minicart7_productsWrapper").setStyle({overflow:"hidden"});if(Prototype.Browser.ie7||Prototype.Browser.ie6){$("minicart7_productsWrapper").setStyle({height:"635px"});$("minicart7_productsWrapper").style.overflow="hidden";$("minicart7_productsWrapper").style.overflowY="hidden"}}};