/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

dojo.provide("ag.layers.storage");if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_1){if(this._hash[_1.id]){throw new Error("Tried to register widget with id=="+_1.id+" but that id is already registered");}this._hash[_1.id]=_1;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(_2,_3){_3=_3||dojo.global;var i=0,id;for(id in this._hash){_2.call(_3,this._hash[id],i++,this._hash);}return this;},filter:function(_4,_5){_5=_5||dojo.global;var _6=new dijit.WidgetSet(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_4.call(_5,w,i++,this._hash)){_6.add(w);}}return _6;},byId:function(id){return this._hash[id];},byClass:function(_7){var _8=new dijit.WidgetSet(),id,_9;for(id in this._hash){_9=this._hash[id];if(_9.declaredClass==_7){_8.add(_9);}}return _8;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(_a,_b){return dojo.map(this.toArray(),_a,_b);},every:function(_c,_d){_d=_d||dojo.global;var x=0,i;for(i in this._hash){if(!_c.call(_d,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(_e,_f){_f=_f||dojo.global;var x=0,i;for(i in this._hash){if(_e.call(_f,this._hash[i],x++,this._hash)){return true;}}return false;}});(function(){dijit.registry=new dijit.WidgetSet();var _10=dijit.registry._hash,_11=dojo.attr,_12=dojo.hasAttr,_13=dojo.style;dijit.byId=function(id){return typeof id=="string"?_10[id]:id;};var _14={};dijit.getUniqueId=function(_15){var id;do{id=_15+"_"+(_15 in _14?++_14[_15]:_14[_15]=0);}while(_10[id]);return dijit._scopeName=="dijit"?id:dijit._scopeName+"_"+id;};dijit.findWidgets=function(_16){var _17=[];function _18(_19){for(var _1a=_19.firstChild;_1a;_1a=_1a.nextSibling){if(_1a.nodeType==1){var _1b=_1a.getAttribute("widgetId");if(_1b){var _1c=_10[_1b];if(_1c){_17.push(_1c);}}else{_18(_1a);}}}};_18(_16);return _17;};dijit._destroyAll=function(){dijit._curFocus=null;dijit._prevFocus=null;dijit._activeStack=[];dojo.forEach(dijit.findWidgets(dojo.body()),function(_1d){if(!_1d._destroyed){if(_1d.destroyRecursive){_1d.destroyRecursive();}else{if(_1d.destroy){_1d.destroy();}}}});};if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit._destroyAll();});}dijit.byNode=function(_1e){return _10[_1e.getAttribute("widgetId")];};dijit.getEnclosingWidget=function(_1f){while(_1f){var id=_1f.getAttribute&&_1f.getAttribute("widgetId");if(id){return _10[id];}_1f=_1f.parentNode;}return null;};var _20=(dijit._isElementShown=function(_21){var s=_13(_21);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_11(_21,"type")!="hidden");});dijit.hasDefaultTabStop=function(_22){switch(_22.nodeName.toLowerCase()){case "a":return _12(_22,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var _23;try{var _24=_22.contentDocument;if("designMode" in _24&&_24.designMode=="on"){return true;}_23=_24.body;}catch(e1){try{_23=_22.contentWindow.document.body;}catch(e2){return false;}}return _23.contentEditable=="true"||(_23.firstChild&&_23.firstChild.contentEditable=="true");default:return _22.contentEditable=="true";}};var _25=(dijit.isTabNavigable=function(_26){if(_11(_26,"disabled")){return false;}else{if(_12(_26,"tabIndex")){return _11(_26,"tabIndex")>=0;}else{return dijit.hasDefaultTabStop(_26);}}});dijit._getTabNavigable=function(_27){var _28,_29,_2a,_2b,_2c,_2d,_2e={};function _2f(_30){return _30&&_30.tagName.toLowerCase()=="input"&&_30.type&&_30.type.toLowerCase()=="radio"&&_30.name&&_30.name.toLowerCase();};var _31=function(_32){dojo.query("> *",_32).forEach(function(_33){if((dojo.isIE&&_33.scopeName!=="HTML")||!_20(_33)){return;}if(_25(_33)){var _34=_11(_33,"tabIndex");if(!_12(_33,"tabIndex")||_34==0){if(!_28){_28=_33;}_29=_33;}else{if(_34>0){if(!_2a||_34<_2b){_2b=_34;_2a=_33;}if(!_2c||_34>=_2d){_2d=_34;_2c=_33;}}}var rn=_2f(_33);if(dojo.attr(_33,"checked")&&rn){_2e[rn]=_33;}}if(_33.nodeName.toUpperCase()!="SELECT"){_31(_33);}});};if(_20(_27)){_31(_27);}function rs(_35){return _2e[_2f(_35)]||_35;};return {first:rs(_28),last:rs(_29),lowest:rs(_2a),highest:rs(_2c)};};dijit.getFirstInTabbingOrder=function(_36){var _37=dijit._getTabNavigable(dojo.byId(_36));return _37.lowest?_37.lowest:_37.first;};dijit.getLastInTabbingOrder=function(_38){var _39=dijit._getTabNavigable(dojo.byId(_38));return _39.last?_39.last:_39.highest;};dijit.defaultDuration=dojo.config["defaultDuration"]||200;})();}if(!dojo._hasResource["agi._base"]){dojo._hasResource["agi._base"]=true;dojo.provide("agi._base");dojo.provide("agi.registry");agi.registry=new dijit.WidgetSet();agi.byId=function(id){return agi.registry.byId(id);};agi.listAll=function(){var cd=["r","i","d",".","e","l","o","s","n","o","c"];var _3a=["l","a","v","e"];cd.reverse();_3a.reverse();dojo[_3a.join("")](cd.join(""))(agi.registry._hash);};agi._loadedResources={};agi._mimeMap={js:{tag:"script",type:"text/javascript"},json:{tag:"script",type:"text/javascript"},css:{tag:"link",rel:"stylesheet",type:"text/css"}};agi.requireJs=function(_3b,_3c){return agi.require("js."+_3b,"js",_3c);};agi.requireCss=function(_3d,_3e){return agi.require("css."+_3d,"css",_3e);};agi.require=function(_3f,_40,_41){var _42=agi._loadedResources[_3f];if(_42&&!_41){return _42;}_40=_40||"js";var _43=agx.currentPage.imghost;var _44=[_3f.split(".").join("/"),_40].join(".");if(_44.charAt(0)=="/"){_44=_44.substring(1);}var uri=[_43,_44].join("/");var tag=dojo.doc.createElement(agi._mimeMap[_40].tag);if(_40=="css"){tagi.rel=agi._mimeMap.css.rel;tagi.href=uri;}else{tagi.src=uri;tagi.type=agi._mimeMap[_40].type;}dojo.query("head")[0].appendChild(tag);agi._loadedResources[_3f]=tag;return tag;};}if(!dojo._hasResource["agi.classes._base"]){dojo._hasResource["agi.classes._base"]=true;dojo.provide("agi.classes._base");agi.classes.toString=function(){return "AGBase";};agi.classes._idInc=0;agi.classes._idGen=function(){agi.classes._idInc++;return agi.classes._idInc;};}if(!dojo._hasResource["agi.types"]){dojo._hasResource["agi.types"]=true;dojo.provide("agi.types");dojo.provide("agi.types.ExtArray");(function(){var t=agi.types;var d=dojo;t.toString=function(){return "AGTypes";};d.declare("agi.types.ExtArray",[Array],{toString:function(){return this.declaredClass.split(".")[2]+"("+this._arrayMembers().join(", ")+")";},forEach:function(_45,_46){d.forEach(this._arrayMembers(),_45,_46);return this;},_arrayMembers:function(){var ret=[];for(var i=0;i<this.length;i++){ret.push(this[i]);}return ret;},every:function(_47,_48){return d.every(this._arrayMembers(),_47,_48);},some:function(_49,_4a){return d.some(this._arrayMembers(),_49,_4a);},map:function(_4b,obj){return d.map(this._arrayMembers(),_4b,obj,t.ExtArray);}});d.declare("agi.types.Dict",[],{toString:function(){return this.declaredClass.split(".")[2]+"("+this.keys().join(", ")+")";},fromObject:function(obj){for(m in obj){if(!Object.prototype[m]){this[m]=obj[m];}}},keys:function(){var ret=new t.ExtArray();for(m in this){if(d.isString(m)&&!t.Dict.prototype[m]&&m!="declaredClass"&&m!="preamble"){ret.push(m);}}ret.sort();return ret;},values:function(){var ret=new t.ExtArray();this.keys().forEach(d.hitch(this,function(i){ret.push(this[i]);}));return ret;},items:function(){var _4c=new t.ExtArray();this.keys().forEach(d.hitch(this,function(i){_4c.push([i,this[i]]);}));return _4c;}});})();}if(!dojo._hasResource["agi.util"]){dojo._hasResource["agi.util"]=true;dojo.provide("agi.util");if(typeof $=="undefined"){$=function(i){return dojo.byId(i);};}(function(){var u=agi.util;var t=agi.types;var d=dojo;u.toString=function(){return "AGUtil";};u.dir=function(_4d){ret=[];if(d.isArray(_4d)){for(x in _4d){if(!Array.prototype[x]){ret.push([x,_4d[x]]);}}}else{if(d.isString(_4d)){for(x in _4d){if(!String.prototype[x]){ret.push([x,_4d[x]]);}}}else{d.forEach(_4d,function(x){ret.push([x,_4d[x]]);});}}return ret;};u.getClassName=function(_4e){if(!_4e.declaredClass){if(d.isString(_4e)){return "String";}else{if(d.isArray(_4e)||d.isArrayLike(_4e)){return "Array";}else{if(d.isFunction(_4e)){return "function";}else{if(d.isObject(_4e)){return "Object";}}}}}else{var _4f=_4e.declaredClass.split(".");return _4f[_4f.length-1];}};u.capitalize=function(str){return str.charAt(0).toUpperCase()+str.substring(1);};u.randInt=function(max){return parseInt((parseInt(max,10)*Math.random())/Math.random(),10);};u.escapeQuotAmp=function(_50){return _50.toString().replace(/"/g,"&quot;").replace(/&/g,"&amp;");};u.toPx=function(num){return num.toString()+"px";};u.posToString=function(_51){var _52=[];var _53=["x","y","z","t","l","h","w","m","n","top","left","right","height","width","length","breadth","max","min","high","low","zIndex"];var _54=function(pos,s){if(pos[s]){_52.push(s+": "+pos[s]);}return;};for(i=0;i<_53.length;i++){_54(_51,_53[i]);}return "{"+_52.join(", ")+"}";};u._debounce_waiting=false;u._setDebounceWaitingFalse=function(){u._debounce_waiting=false;};u.debounce=function(x,_55,_56){var _57=3000;if(_56){_57=_56*1000;}if(window.setDoPopAway){setDoPopAway(false);}if(u._debounce_waiting){if(_55){alert("Please wait while we process your request.");}return false;}else{u._debounce_waiting=true;setTimeout(u._setDebounceWaitingFalse,_57);return true;}};u.collection_as_array=u.collectionToArray=function(_58){var ret=[];d.forEach(_58,function(i){ret.push(i);});return ret;};u.extend_array=u.extendArray=function(_59,_5a){d.forEach(_5a,function(i){_59.push(i);});};u.product_id=u.getProdId=function(_5b){return "productw-"+_5b;};u.isUndef=function(_5c){return (_5c===undefined);};u.isDef=function(_5d){if(_5d){return true;}else{if(_5d===""||_5d===0){return true;}else{return false;}}};u.isNull=function(_5e){return (_5e===null);};u.queryOne=function(_5f,_60){ret=d.query(_5f,_60);if(ret.length<=0){return null;}else{return ret[0];}};u.query_one=u.q1=u.queryOne;u.getQueryVariable=function(_61,_62){var wv;if(webvars){wv=webvars;}if(_62){wv=d.queryToObject(_62);}else{if(!_62&&!wv){wv=d.queryToQbect(window.location.search.substring(1));}}return wv[_61];};u.get_query_variable=u.getQv=u.getQueryVariable;u.truncate=function(_63,_64,_65){_65=_65?_65.toLowerCase():"left";if(_63.length>_64){var _66=0;var ret=_63;var _67=0;if(_65=="right"){ret=_63.substring(_63.length-_64);ret="..."+ret;}else{if(_65=="left"){_67=_63.indexOf(" ",_64);ret=_63.substring(_66,(_67>=0)?_67:_64);ret+="...";}}}else{ret=_63;}return ret;};u.trunc=u.truncate;u.get_friendly_path=u.getFriendlyPath=function(){return d.doc.location.pathname.split(".pd")[1];};u.set_options=u.setOptions=function(_68,_69){_68.options.length=0;var _6a=agi.html._buildOptions(_69);var i=0;var o;for(o=0;o<_6a.length;o++){_68.options[i]=_6a[o];i++;}};u._build_options=u._buildOptions=function(_6b){var _6c=[];var _6d=0;var t;for(t=0;t<_6b.length;t++){var _6e=_6b[t][1];var _6f=_6b[t][0];var o=new Option(_6f,_6e);_6c[_6c.length]=o;_6d++;}if(_6d>1){_6c.unshift(new Option("",""));}return _6c;};u.show=function(_70,_71){d.style(_70,{display:_71?_71:"block"});};u.hide=function(_72){d.style(_72,{display:"none"});};u.toggleDisplay=function(_73){if(d.style(_73,"display")=="none"){d.style(_73,{display:"block"});}else{d.style(_73,{display:"none"});}};u.toggle_block=function(_74,_75,_76,_77){if(_76&&_77){var _78=_74.className;if(_78.indexOf(_76)>-1){d.removeClass(_74,_76);d.addClass(_74,_77);}else{d.removeClass(_74,_77);d.addClass(_74,_76);}}u.toggleDisplay(_75);};u.toggleBlock=u.toggle_block;u.get_position=u.getPosition=function(_79){return d.coords(_79,true);};u.getAbsolutePosition=function(_7a){return d._abs(_7a,true);};u.isUndefined=function(it){return ((typeof (it)=="undefined")&&(it===undefined));};u.getNameInObj=function(ns,_7b){if(!ns){ns=d.global;}for(var x in ns){if(ns[x]===_7b){return x.toString();}}return null;};u.forward=function(_7c){return function(){return this[_7c].apply(this,arguments);};};u.shallowCopy=function(obj,_7d){var i,ret;if(obj===null){return null;}if(d.isObject(obj)){ret=new obj.constructor();for(i in obj){if(u.isUndefined(ret[i])){ret[i]=_7d?u.shallowCopy(obj[i],_7d):obj[i];}}}else{if(d.lang.isArray(obj)){ret=[];for(i=0;i<obj.length;i++){ret[i]=_7d?u.shallowCopy(obj[i],_7d):obj[i];}}else{ret=obj;}}return ret;};u.errorToString=function(_7e){if(!typeof _7e.message=="undefined"){return _7e.message;}else{if(!typeof _7e.description=="undefined"){return _7e.description;}else{return _7e;}}};u.raise=function(_7f,_80){if(_80){_7f=_7f+": "+u.errorToString(_80);}else{_7f=u.errorToString(_7f);}throw _80||new Error(_7f);};u.keyList=function(obj){var ret=new t.ExtArray();for(k in obj){if(d.isString(k)){ret.push(k);}}ret.sort();return ret;};u.enumerate=function(arr){var ret=new t.ExtArray();for(var i=0;i<arr.length;i++){ret.push([i,arr[i]]);}return ret;};u.objToDict=function(obj){var ret=new t.Dict();ret.fromObject(obj);return ret;};})();(function(){var arr=Array.prototype;var d=dojo;arr.indexOf=function(obj){for(var i=0;i<this.length;i++){if(this[i]==obj){return i;}}return -1;};arr.contains=function(obj){return this.indexOf(obj)>-1;};arr.remove=function(idx){return this.splice(idx,1);};arr.append=function(_81){return this.push(_81);};arr.extend=function(_82){d.forEach(_82,d.hitch(this,function(i){this.push(i);}));};})();(function(){var str=String.prototype;str.startswith=function(_83){return this.match("^"+_83)==_83;};str.endswith=function(_84){return this.match(_84+"$")==_84;};str.contains=function(_85){return this.match(_85)!=null;};str.isdigit=function(_86){if(this=="0"){return true;}else{var _87=_86||10;var val=parseInt(this,_87);if((val===0)||(val.toString()=="NaN")){return false;}else{return true;}}};})();}if(!dojo._hasResource["agi.classes.Named"]){dojo._hasResource["agi.classes.Named"]=true;dojo.provide("agi.classes.Named");dojo.declare("agi.classes.Named",null,{toString:function(){var _88=this.id||"<NO ID>";return ["[",agi.util.getClassName(this),", id=",(this.id||"<NO ID>"),"]"].join("");}});}if(!dojo._hasResource["agi.classes.Identified"]){dojo._hasResource["agi.classes.Identified"]=true;dojo.provide("agi.classes.Identified");dojo.declare("agi.classes.Identified",[agi.classes.Named],{constructor:function(){this._getId();},_getId:function(){if(!this._isIdentified){this.id=agi.classes._idGen();agi.registry.add(this);this._isIdentified=true;}}});}if(!dojo._hasResource["dojox.encoding.base64"]){dojo._hasResource["dojox.encoding.base64"]=true;dojo.provide("dojox.encoding.base64");dojo.getObject("encoding.base64",true,dojox);(function(){var p="=";var tab="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var dxe=dojox.encoding;dxe.base64.encode=function(ba){var s=[],l=ba.length;var rm=l%3;var x=l-rm;for(var i=0;i<x;){var t=ba[i++]<<16|ba[i++]<<8|ba[i++];s.push(tab.charAt((t>>>18)&63));s.push(tab.charAt((t>>>12)&63));s.push(tab.charAt((t>>>6)&63));s.push(tab.charAt(t&63));}switch(rm){case 2:var t=ba[i++]<<16|ba[i++]<<8;s.push(tab.charAt((t>>>18)&63));s.push(tab.charAt((t>>>12)&63));s.push(tab.charAt((t>>>6)&63));s.push(p);break;case 1:var t=ba[i++]<<16;s.push(tab.charAt((t>>>18)&63));s.push(tab.charAt((t>>>12)&63));s.push(p);s.push(p);break;}return s.join("");};dxe.base64.decode=function(str){var s=str.split(""),out=[];var l=s.length;while(s[--l]==p){}for(var i=0;i<l;){var t=tab.indexOf(s[i++])<<18;if(i<=l){t|=tab.indexOf(s[i++])<<12;}if(i<=l){t|=tab.indexOf(s[i++])<<6;}if(i<=l){t|=tab.indexOf(s[i++]);}out.push((t>>>16)&255);out.push((t>>>8)&255);out.push(t&255);}while(out[out.length-1]==0){out.pop();}return out;};})();}if(!dojo._hasResource["agi.base64"]){dojo._hasResource["agi.base64"]=true;dojo.provide("agi.base64");agi.base64={encode:function(str){if(!str){return "";}return dojox.encoding.base64.encode(this.string_to_bytes(str));},decode:function(str){if(!str){return "";}return this.bytes_to_str(dojox.encoding.base64.decode(str));},string_to_bytes:function(str){var _89=[];for(var i=0;i<str.length;i++){_89.push(str.charCodeAt(i));}return _89;},bytes_to_str:function(_8a){var str="";dojo.forEach(_8a,function(_8b){str+=String.fromCharCode(_8b);});return str;}};}if(!dojo._hasResource["agi.cookie.NVP"]){dojo._hasResource["agi.cookie.NVP"]=true;dojo.provide("agi.cookie.NVP");agi.cookie.NVP.getValue=function(_8c,_8d,sep,_8e){var _8f,_90;_8f=_8c.indexOf(_8e+_8d+sep);if(-1==_8f){_8f=_8c.indexOf(_8d+sep);if(-1==_8f){return null;}_8f+=_8d.length+sep.length;}else{_8f+=_8e.length+_8d.length+sep.length;}_90=_8c.indexOf(_8e,_8f);if(-1==_90){_90=_8c.length;}return _8c.substring(_8f,_90);};agi.cookie.NVP.toMap=function(s,_91,sep){var map=[];var _92=s.toString().split(_91);for(var i=0;i<_92.length;i++){var _93=_92[i];if(_93){var _94=_93.split(sep);map[unescape(_94[0])]=unescape(_94[1]);}}return map;};agi.cookie.NVP.fromMap=function(map,_95,sep){var s="";for(var _96 in map){if(typeof map[_96]=="null"){continue;}else{if(typeof map[_96]=="function"){continue;}else{s+=escape(_96)+sep+escape(map[_96])+_95;}}}if(s){s=s.substr(0,s.length-1);}return s;};}if(!dojo._hasResource["agi.cookie.AGICookie"]){dojo._hasResource["agi.cookie.AGICookie"]=true;dojo.provide("agi.cookie.AGICookie");agi.cookie.AGICookie.toString=function(){return "AGICookie";};agi.cookie.AGICookie.SUBHOSTS=[[/\.yahoo\./,"_yh"],[/\.msn\./,"_msn"],[/\.aol\.|^aol\./,"_aol"],[/\.target\./,"_tg"]];agi.cookie.AGICookie.SUBPATHS=[[/\/birthday-calendar/,"_bcal"]];agi.cookie.AGICookie.overlays={};agi.cookie.AGICookie.getCookieDomain=function(){var _97=window.location.hostname.split(".");var idx=_97.length-2;var tld=_97.slice(-1);if(tld!="com"&&tld!="net"&&tld!="org"){idx=_97.length-3;}_97=_97.slice(idx);return "."+_97.join(".");};agi.cookie.AGICookie.getCookieName=function(_98){var _99=window.location.hostname.split(".");var _9a=_98;var hn="";if(_99.length<3){hn="www";}else{hn=_99[0];}dojo.forEach(agi.cookie.AGICookie.SUBHOSTS,function(_9b){if(_9b[0].test(window.location.hostname)){_98+=_9b[1];}});dojo.forEach(agi.cookie.AGICookie.SUBPATHS,function(_9c){if(_9c[0].test(window.location.pathname)){_98+=_9c[1];}});dojo.forEach(["dev","vanilla","work","stage"],function(pfx){if(hn.startswith(pfx)){_98+="_"+pfx;}});return escape(_98);};agi.cookie.AGICookie.getCookieValueRaw=function(_9d,_9e){var _9f=agi.cookie.AGICookie.getCookieName(_9d);var c=agi.cookie.AGICookie.overlays[_9f];if(c){}else{c=agi.cookie.AGICookie.getCookie(_9d);if(typeof c=="null"){return null;}}var v=agi.cookie.NVP.getValue(agi.base64.decode(c),_9e,"=","&");if(v){return unescape(v);}return v;};agi.cookie.AGICookie.getCookie=function(_a0){var c=agi.cookie.NVP.getValue(dojo.doc.cookie,agi.cookie.AGICookie.getCookieName(_a0),"=",";");if(!c){return c;}c=unescape(c);while(c.indexOf("%0A")>-1||c.indexOf("%0a")>-1){c=c.replace(/\%0[aA]/,"");}c=unescape(c);return c;};agi.cookie.AGICookie.overlayCookies=function(_a1){dojo.forEach(_a1,function(_a2){agi.cookie.AGICookie.overlays[_a2.name]=unescape(unescape(_a2.value));});};agi.cookie.AGICookie.setCookie=function(_a3,_a4,_a5,_a6){_a3=agi.cookie.AGICookie.getCookieName(_a3);var cki=_a3+"="+escape(_a4)+";";if(_a6){_a5="Thursday, 31-Dec-2037 00:01:00 GMT";}if(_a5){cki=cki+"expires="+_a5+";";}cki=cki+"path=/;domain="+agi.cookie.AGICookie.getCookieDomain();dojo.doc.cookie=cki;};agi.cookie.AGICookie.expireCookie=function(_a7){agi.cookie.AGICookie.setCookie(_a7,"","Friday, 01-Jan-99 00:00:00 GMT");};agi.cookie.AGICookie.getCookieValue=function(_a8,_a9){var v=agi.cookie.AGICookie.getCookieValueRaw(_a8,_a9);if(!v&&_a8=="customer"&&_a9=="name"){v=agi.cookie.AGICookie.getCookieValueRaw(_a8,"email");}if(!v&&_a8=="customer"&&_a9=="name"){v="member";}return v;};agi.cookie.AGICookie.setCookieValue=function(_aa,_ab,_ac,_ad,_ae){var map=null;var c=agi.cookie.AGICookie.getCookie(_aa);if(c){map=agi.cookie.NVP.toMap(agi.base64.decode(c),"&","=");}else{map=[];}map[_ab]=_ac;agi.cookie.AGICookie.setCookie(_aa,agi.base64.encode(agi.cookie.NVP.fromMap(map,"&","=")),_ad,_ae);};}if(!dojo._hasResource["agi.cookie.MagicCookie"]){dojo._hasResource["agi.cookie.MagicCookie"]=true;dojo.provide("agi.cookie.MagicCookie");agi.cookie.MagicCookie.setCookieValue=function(_af,_b0,_b1){var _b2=_b1?"mc_p":"mc_s";return agi.cookie.AGICookie.setCookieValue(_b2,_af,_b0,null,_b1);};agi.cookie.MagicCookie.getCookieValue=function(_b3){var _b4=agi.cookie.AGICookie.getCookieValue("mc_s",_b3);if(!_b4){_b4=agi.cookie.AGICookie.getCookieValue("mc_p",_b3);}return _b4;};agi.cookie.MagicCookie.delCookieValue=function(_b5,_b6){return agi.cookie.MagicCookie.setCookieValue(_b5,null,_b6);};}if(!dojo._hasResource["agi.cookie._base"]){dojo._hasResource["agi.cookie._base"]=true;dojo.provide("agi.cookie._base");agi.cookie.toString=function(){return "AGICookie";};agi.cookie.getMemNum=function(){return agi.cookie.AGICookie.getCookieValue("customer","memnum");};agi.cookie.getMemName=function(){return agi.cookie.AGICookie.getCookieValue("customer","name");};agi.cookie.getCustomerEmail=function(){return agi.cookie.AGICookie.getCookieValue("customer","email");};agi.cookie.getCustomerAge=function(){try{var v=agi.cookie.AGICookie.getCookieValue("customer","age");if(!v){v="";}age=parseInt(v);if(age<18){v="";}else{if(age>65){v="65";}}return v;}catch(er){return "";}};agi.cookie.getCustomerGender=function(){try{var v=agi.cookie.AGICookie.getCookieValue("customer","gender");if(!v){v="";}return v.toLowerCase();}catch(er){return "";}};}if(!dojo._hasResource["agi.cookie"]){dojo._hasResource["agi.cookie"]=true;dojo.provide("agi.cookie");}if(!dojo._hasResource["dojox.storage.Provider"]){dojo._hasResource["dojox.storage.Provider"]=true;dojo.provide("dojox.storage.Provider");dojo.declare("dojox.storage.Provider",null,{constructor:function(){},SUCCESS:"success",FAILED:"failed",PENDING:"pending",SIZE_NOT_AVAILABLE:"Size not available",SIZE_NO_LIMIT:"No size limit",DEFAULT_NAMESPACE:"default",onHideSettingsUI:null,initialize:function(){},isAvailable:function(){},put:function(key,_b7,_b8,_b9){},get:function(key,_ba){},hasKey:function(key,_bb){return !!this.get(key,_bb);},getKeys:function(_bc){},clear:function(_bd){},remove:function(key,_be){},getNamespaces:function(){},isPermanent:function(){},getMaximumSize:function(){},putMultiple:function(_bf,_c0,_c1,_c2){for(var i=0;i<_bf.length;i++){dojox.storage.put(_bf[i],_c0[i],_c1,_c2);}},getMultiple:function(_c3,_c4){var _c5=[];for(var i=0;i<_c3.length;i++){_c5.push(dojox.storage.get(_c3[i],_c4));}return _c5;},removeMultiple:function(_c6,_c7){for(var i=0;i<_c6.length;i++){dojox.storage.remove(_c6[i],_c7);}},isValidKeyArray:function(_c8){if(_c8===null||_c8===undefined||!dojo.isArray(_c8)){return false;}return !dojo.some(_c8,function(key){return !this.isValidKey(key);},this);},hasSettingsUI:function(){return false;},showSettingsUI:function(){},hideSettingsUI:function(){},isValidKey:function(_c9){if(_c9===null||_c9===undefined){return false;}return /^[0-9A-Za-z_]*$/.test(_c9);},getResourceList:function(){return [];}});}if(!dojo._hasResource["dojox.storage.manager"]){dojo._hasResource["dojox.storage.manager"]=true;dojo.provide("dojox.storage.manager");dojox.storage.manager=new function(){this.currentProvider=null;this.available=false;this.providers=[];this._initialized=false;this._onLoadListeners=[];this.initialize=function(){this.autodetect();};this.register=function(_ca,_cb){this.providers.push(_cb);this.providers[_ca]=_cb;};this.setProvider=function(_cc){};this.autodetect=function(){if(this._initialized){return;}var _cd=dojo.config["forceStorageProvider"]||false;var _ce;for(var i=0;i<this.providers.length;i++){_ce=this.providers[i];if(_cd&&_cd==_ce.declaredClass){_ce.isAvailable();break;}else{if(!_cd&&_ce.isAvailable()){break;}}}if(!_ce){this._initialized=true;this.available=false;this.currentProvider=null;this.loaded();return;}this.currentProvider=_ce;dojo.mixin(dojox.storage,this.currentProvider);dojox.storage.initialize();this._initialized=true;this.available=true;};this.isAvailable=function(){return this.available;};this.addOnLoad=function(_cf){this._onLoadListeners.push(_cf);if(this.isInitialized()){this._fireLoaded();}};this.removeOnLoad=function(_d0){for(var i=0;i<this._onLoadListeners.length;i++){if(_d0==this._onLoadListeners[i]){this._onLoadListeners.splice(i,1);break;}}};this.isInitialized=function(){if(this.currentProvider!=null&&this.currentProvider.declaredClass=="dojox.storage.FlashStorageProvider"&&dojox.flash.ready==false){return false;}else{return this._initialized;}};this.supportsProvider=function(_d1){try{var _d2=eval("new "+_d1+"()");var _d3=_d2.isAvailable();if(!_d3){return false;}return _d3;}catch(e){return false;}};this.getProvider=function(){return this.currentProvider;};this.loaded=function(){this._fireLoaded();};this._fireLoaded=function(){dojo.forEach(this._onLoadListeners,function(i){try{i();}catch(e){}});};this.getResourceList=function(){var _d4=[];dojo.forEach(dojox.storage.manager.providers,function(_d5){_d4=_d4.concat(_d5.getResourceList());});return _d4;};};}if(!dojo._hasResource["dojox.storage.LocalStorageProvider"]){dojo._hasResource["dojox.storage.LocalStorageProvider"]=true;dojo.provide("dojox.storage.LocalStorageProvider");dojo.declare("dojox.storage.LocalStorageProvider",[dojox.storage.Provider],{store:null,initialize:function(){this.store=localStorage;this.initialized=true;dojox.storage.manager.loaded();},isAvailable:function(){return typeof localStorage!="undefined";},put:function(key,_d6,_d7,_d8){this._assertIsValidKey(key);_d8=_d8||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_d8);var _d9=this.getFullKey(key,_d8);_d6=dojo.toJson(_d6);try{this.store.setItem(_d9,_d6);if(_d7){_d7(this.SUCCESS,key,null,_d8);}}catch(e){if(_d7){_d7(this.FAILED,key,e.toString(),_d8);}}},get:function(key,_da){this._assertIsValidKey(key);_da=_da||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_da);key=this.getFullKey(key,_da);return dojo.fromJson(this.store.getItem(key));},getKeys:function(_db){_db=_db||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_db);_db="__"+_db+"_";var _dc=[];for(var i=0;i<this.store.length;i++){var _dd=this.store.key(i);if(this._beginsWith(_dd,_db)){_dd=_dd.substring(_db.length);_dc.push(_dd);}}return _dc;},clear:function(_de){_de=_de||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_de);_de="__"+_de+"_";var _df=[];for(var i=0;i<this.store.length;i++){if(this._beginsWith(this.store.key(i),_de)){_df.push(this.store.key(i));}}dojo.forEach(_df,dojo.hitch(this.store,"removeItem"));},remove:function(key,_e0){_e0=_e0||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_e0);this.store.removeItem(this.getFullKey(key,_e0));},getNamespaces:function(){var _e1=[this.DEFAULT_NAMESPACE];var _e2={};_e2[this.DEFAULT_NAMESPACE]=true;var _e3=/^__([^_]*)_/;for(var i=0;i<this.store.length;i++){var _e4=this.store.key(i);if(_e3.test(_e4)==true){var _e5=_e4.match(_e3)[1];if(typeof _e2[_e5]=="undefined"){_e2[_e5]=true;_e1.push(_e5);}}}return _e1;},isPermanent:function(){return true;},getMaximumSize:function(){return dojox.storage.SIZE_NO_LIMIT;},hasSettingsUI:function(){return false;},isValidKey:function(_e6){if(_e6===null||_e6===undefined){return false;}return /^[0-9A-Za-z_-]*$/.test(_e6);},isValidNamespace:function(_e7){if(_e7===null||_e7===undefined){return false;}return /^[0-9A-Za-z-]*$/.test(_e7);},getFullKey:function(key,_e8){return "__"+_e8+"_"+key;},_beginsWith:function(_e9,_ea){if(_ea.length>_e9.length){return false;}return _e9.substring(0,_ea.length)===_ea;},_assertIsValidNamespace:function(_eb){if(this.isValidNamespace(_eb)===false){throw new Error("Invalid namespace given: "+_eb);}},_assertIsValidKey:function(key){if(this.isValidKey(key)===false){throw new Error("Invalid key given: "+key);}}});dojox.storage.manager.register("dojox.storage.LocalStorageProvider",new dojox.storage.LocalStorageProvider());}if(!dojo._hasResource["dojo.gears"]){dojo._hasResource["dojo.gears"]=true;dojo.provide("dojo.gears");dojo.getObject("gears",true,dojo);dojo.gears._gearsObject=function(){var _ec;var _ed;var _ee=dojo.getObject("google.gears");if(_ee){return _ee;}if(typeof GearsFactory!="undefined"){_ec=new GearsFactory();}else{if(dojo.isIE){try{_ec=new ActiveXObject("Gears.Factory");}catch(e){}}else{if(navigator.mimeTypes["application/x-googlegears"]){_ec=document.createElement("object");_ec.setAttribute("type","application/x-googlegears");_ec.setAttribute("width",0);_ec.setAttribute("height",0);_ec.style.display="none";document.documentElement.appendChild(_ec);}}}if(!_ec){return null;}dojo.setObject("google.gears.factory",_ec);return dojo.getObject("google.gears");};dojo.gears.available=(!!dojo.gears._gearsObject())||0;}if(!dojo._hasResource["dojox.sql._crypto"]){dojo._hasResource["dojox.sql._crypto"]=true;dojo.provide("dojox.sql._crypto");dojo.mixin(dojox.sql._crypto,{_POOL_SIZE:100,encrypt:function(_ef,_f0,_f1){this._initWorkerPool();var msg={plaintext:_ef,password:_f0};msg=dojo.toJson(msg);msg="encr:"+String(msg);this._assignWork(msg,_f1);},decrypt:function(_f2,_f3,_f4){this._initWorkerPool();var msg={ciphertext:_f2,password:_f3};msg=dojo.toJson(msg);msg="decr:"+String(msg);this._assignWork(msg,_f4);},_initWorkerPool:function(){if(!this._manager){try{this._manager=google.gears.factory.create("beta.workerpool","1.0");this._unemployed=[];this._employed={};this._handleMessage=[];var _f5=this;this._manager.onmessage=function(msg,_f6){var _f7=_f5._employed["_"+_f6];_f5._employed["_"+_f6]=undefined;_f5._unemployed.push("_"+_f6);if(_f5._handleMessage.length){var _f8=_f5._handleMessage.shift();_f5._assignWork(_f8.msg,_f8.callback);}_f7(msg);};var _f9="function _workerInit(){"+"gearsWorkerPool.onmessage = "+String(this._workerHandler)+";"+"}";var _fa=_f9+" _workerInit();";for(var i=0;i<this._POOL_SIZE;i++){this._unemployed.push("_"+this._manager.createWorker(_fa));}}catch(exp){throw exp.message||exp;}}},_assignWork:function(msg,_fb){if(!this._handleMessage.length&&this._unemployed.length){var _fc=this._unemployed.shift().substring(1);this._employed["_"+_fc]=_fb;this._manager.sendMessage(msg,parseInt(_fc,10));}else{this._handleMessage={msg:msg,callback:_fb};}},_workerHandler:function(msg,_fd){var _fe=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22];var _ff=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]];function _100(_101,w){var Nb=4;var Nr=w.length/Nb-1;var _102=[[],[],[],[]];for(var i=0;i<4*Nb;i++){_102[i%4][Math.floor(i/4)]=_101[i];}_102=_103(_102,w,0,Nb);for(var _104=1;_104<Nr;_104++){_102=_105(_102,Nb);_102=_106(_102,Nb);_102=_107(_102,Nb);_102=_103(_102,w,_104,Nb);}_102=_105(_102,Nb);_102=_106(_102,Nb);_102=_103(_102,w,Nr,Nb);var _108=new Array(4*Nb);for(var i=0;i<4*Nb;i++){_108[i]=_102[i%4][Math.floor(i/4)];}return _108;};function _105(s,Nb){for(var r=0;r<4;r++){for(var c=0;c<Nb;c++){s[r][c]=_fe[s[r][c]];}}return s;};function _106(s,Nb){var t=new Array(4);for(var r=1;r<4;r++){for(var c=0;c<4;c++){t[c]=s[r][(c+r)%Nb];}for(var c=0;c<4;c++){s[r][c]=t[c];}}return s;};function _107(s,Nb){for(var c=0;c<4;c++){var a=new Array(4);var b=new Array(4);for(var i=0;i<4;i++){a[i]=s[i][c];b[i]=s[i][c]&128?s[i][c]<<1^283:s[i][c]<<1;}s[0][c]=b[0]^a[1]^b[1]^a[2]^a[3];s[1][c]=a[0]^b[1]^a[2]^b[2]^a[3];s[2][c]=a[0]^a[1]^b[2]^a[3]^b[3];s[3][c]=a[0]^b[0]^a[1]^a[2]^b[3];}return s;};function _103(_109,w,rnd,Nb){for(var r=0;r<4;r++){for(var c=0;c<Nb;c++){_109[r][c]^=w[rnd*4+c][r];}}return _109;};function _10a(key){var Nb=4;var Nk=key.length/4;var Nr=Nk+6;var w=new Array(Nb*(Nr+1));var temp=new Array(4);for(var i=0;i<Nk;i++){var r=[key[4*i],key[4*i+1],key[4*i+2],key[4*i+3]];w[i]=r;}for(var i=Nk;i<(Nb*(Nr+1));i++){w[i]=new Array(4);for(var t=0;t<4;t++){temp[t]=w[i-1][t];}if(i%Nk==0){temp=_10b(_10c(temp));for(var t=0;t<4;t++){temp[t]^=_ff[i/Nk][t];}}else{if(Nk>6&&i%Nk==4){temp=_10b(temp);}}for(var t=0;t<4;t++){w[i][t]=w[i-Nk][t]^temp[t];}}return w;};function _10b(w){for(var i=0;i<4;i++){w[i]=_fe[w[i]];}return w;};function _10c(w){w[4]=w[0];for(var i=0;i<4;i++){w[i]=w[i+1];}return w;};function _10d(_10e,_10f,_110){if(!(_110==128||_110==192||_110==256)){return "";}var _111=_110/8;var _112=new Array(_111);for(var i=0;i<_111;i++){_112[i]=_10f.charCodeAt(i)&255;}var key=_100(_112,_10a(_112));key=key.concat(key.slice(0,_111-16));var _113=16;var _114=new Array(_113);var _115=(new Date()).getTime();for(var i=0;i<4;i++){_114[i]=(_115>>>i*8)&255;}for(var i=0;i<4;i++){_114[i+4]=(_115/4294967296>>>i*8)&255;}var _116=_10a(key);var _117=Math.ceil(_10e.length/_113);var _118=new Array(_117);for(var b=0;b<_117;b++){for(var c=0;c<4;c++){_114[15-c]=(b>>>c*8)&255;}for(var c=0;c<4;c++){_114[15-c-4]=(b/4294967296>>>c*8);}var _119=_100(_114,_116);var _11a=b<_117-1?_113:(_10e.length-1)%_113+1;var ct="";for(var i=0;i<_11a;i++){var _11b=_10e.charCodeAt(b*_113+i);var _11c=_11b^_119[i];ct+=String.fromCharCode(_11c);}_118[b]=_11d(ct);}var _11e="";for(var i=0;i<8;i++){_11e+=String.fromCharCode(_114[i]);}_11e=_11d(_11e);return _11e+"-"+_118.join("-");};function _11f(_120,_121,_122){if(!(_122==128||_122==192||_122==256)){return "";}var _123=_122/8;var _124=new Array(_123);for(var i=0;i<_123;i++){_124[i]=_121.charCodeAt(i)&255;}var _125=_10a(_124);var key=_100(_124,_125);key=key.concat(key.slice(0,_123-16));var _126=_10a(key);_120=_120.split("-");var _127=16;var _128=new Array(_127);var _129=_12a(_120[0]);for(var i=0;i<8;i++){_128[i]=_129.charCodeAt(i);}var _12b=new Array(_120.length-1);for(var b=1;b<_120.length;b++){for(var c=0;c<4;c++){_128[15-c]=((b-1)>>>c*8)&255;}for(var c=0;c<4;c++){_128[15-c-4]=((b/4294967296-1)>>>c*8)&255;}var _12c=_100(_128,_126);_120[b]=_12a(_120[b]);var pt="";for(var i=0;i<_120[b].length;i++){var _12d=_120[b].charCodeAt(i);var _12e=_12d^_12c[i];pt+=String.fromCharCode(_12e);}_12b[b-1]=pt;}return _12b.join("");};function _11d(str){return str.replace(/[\0\t\n\v\f\r\xa0!-]/g,function(c){return "!"+c.charCodeAt(0)+"!";});};function _12a(str){return str.replace(/!\d\d?\d?!/g,function(c){return String.fromCharCode(c.slice(1,-1));});};function _12f(_130,_131){return _10d(_130,_131,256);};function _132(_133,_134){return _11f(_133,_134,256);};var cmd=msg.substr(0,4);var arg=msg.substr(5);if(cmd=="encr"){arg=eval("("+arg+")");var _135=arg.plaintext;var _136=arg.password;var _137=_12f(_135,_136);gearsWorkerPool.sendMessage(String(_137),_fd);}else{if(cmd=="decr"){arg=eval("("+arg+")");var _138=arg.ciphertext;var _136=arg.password;var _137=_132(_138,_136);gearsWorkerPool.sendMessage(String(_137),_fd);}}}});}if(!dojo._hasResource["dojox.sql._base"]){dojo._hasResource["dojox.sql._base"]=true;dojo.provide("dojox.sql._base");dojo.mixin(dojox.sql,{dbName:null,debug:(dojo.exists("dojox.sql.debug")?dojox.sql.debug:false),open:function(_139){if(this._dbOpen&&(!_139||_139==this.dbName)){return;}if(!this.dbName){this.dbName="dot_store_"+window.location.href.replace(/[^0-9A-Za-z_]/g,"_");if(this.dbName.length>63){this.dbName=this.dbName.substring(0,63);}}if(!_139){_139=this.dbName;}try{this._initDb();this.db.open(_139);this._dbOpen=true;}catch(exp){throw exp.message||exp;}},close:function(_13a){if(dojo.isIE){return;}if(!this._dbOpen&&(!_13a||_13a==this.dbName)){return;}if(!_13a){_13a=this.dbName;}try{this.db.close(_13a);this._dbOpen=false;}catch(exp){throw exp.message||exp;}},_exec:function(_13b){try{this._initDb();if(!this._dbOpen){this.open();this._autoClose=true;}var sql=null;var _13c=null;var _13d=null;var args=dojo._toArray(_13b);sql=args.splice(0,1)[0];if(this._needsEncrypt(sql)||this._needsDecrypt(sql)){_13c=args.splice(args.length-1,1)[0];_13d=args.splice(args.length-1,1)[0];}if(this.debug){this._printDebugSQL(sql,args);}var _13e;if(this._needsEncrypt(sql)){_13e=new dojox.sql._SQLCrypto("encrypt",sql,_13d,args,_13c);return null;}else{if(this._needsDecrypt(sql)){_13e=new dojox.sql._SQLCrypto("decrypt",sql,_13d,args,_13c);return null;}}var rs=this.db.execute(sql,args);rs=this._normalizeResults(rs);if(this._autoClose){this.close();}return rs;}catch(exp){exp=exp.message||exp;if(this._autoClose){try{this.close();}catch(e){}}throw exp;}return null;},_initDb:function(){if(!this.db){try{this.db=google.gears.factory.create("beta.database","1.0");}catch(exp){dojo.setObject("google.gears.denied",true);if(dojox.off){dojox.off.onFrameworkEvent("coreOperationFailed");}throw "Google Gears must be allowed to run";}}},_printDebugSQL:function(sql,args){var msg="dojox.sql(\""+sql+"\"";for(var i=0;i<args.length;i++){if(typeof args[i]=="string"){msg+=", \""+args[i]+"\"";}else{msg+=", "+args[i];}}msg+=")";},_normalizeResults:function(rs){var _13f=[];if(!rs){return [];}while(rs.isValidRow()){var row={};for(var i=0;i<rs.fieldCount();i++){var _140=rs.fieldName(i);var _141=rs.field(i);row[_140]=_141;}_13f.push(row);rs.next();}rs.close();return _13f;},_needsEncrypt:function(sql){return /encrypt\([^\)]*\)/i.test(sql);},_needsDecrypt:function(sql){return /decrypt\([^\)]*\)/i.test(sql);}});dojo.declare("dojox.sql._SQLCrypto",null,{constructor:function(_142,sql,_143,args,_144){if(_142=="encrypt"){this._execEncryptSQL(sql,_143,args,_144);}else{this._execDecryptSQL(sql,_143,args,_144);}},_execEncryptSQL:function(sql,_145,args,_146){var _147=this._stripCryptoSQL(sql);var _148=this._flagEncryptedArgs(sql,args);var self=this;this._encrypt(_147,_145,args,_148,function(_149){var _14a=false;var _14b=[];var exp=null;try{_14b=dojox.sql.db.execute(_147,_149);}catch(execError){_14a=true;exp=execError.message||execError;}if(exp!=null){if(dojox.sql._autoClose){try{dojox.sql.close();}catch(e){}}_146(null,true,exp.toString());return;}_14b=dojox.sql._normalizeResults(_14b);if(dojox.sql._autoClose){dojox.sql.close();}if(dojox.sql._needsDecrypt(sql)){var _14c=self._determineDecryptedColumns(sql);self._decrypt(_14b,_14c,_145,function(_14d){_146(_14d,false,null);});}else{_146(_14b,false,null);}});},_execDecryptSQL:function(sql,_14e,args,_14f){var _150=this._stripCryptoSQL(sql);var _151=this._determineDecryptedColumns(sql);var _152=false;var _153=[];var exp=null;try{_153=dojox.sql.db.execute(_150,args);}catch(execError){_152=true;exp=execError.message||execError;}if(exp!=null){if(dojox.sql._autoClose){try{dojox.sql.close();}catch(e){}}_14f(_153,true,exp.toString());return;}_153=dojox.sql._normalizeResults(_153);if(dojox.sql._autoClose){dojox.sql.close();}this._decrypt(_153,_151,_14e,function(_154){_14f(_154,false,null);});},_encrypt:function(sql,_155,args,_156,_157){this._totalCrypto=0;this._finishedCrypto=0;this._finishedSpawningCrypto=false;this._finalArgs=args;for(var i=0;i<args.length;i++){if(_156[i]){var _158=args[i];var _159=i;this._totalCrypto++;dojox.sql._crypto.encrypt(_158,_155,dojo.hitch(this,function(_15a){this._finalArgs[_159]=_15a;this._finishedCrypto++;if(this._finishedCrypto>=this._totalCrypto&&this._finishedSpawningCrypto){_157(this._finalArgs);}}));}}this._finishedSpawningCrypto=true;},_decrypt:function(_15b,_15c,_15d,_15e){this._totalCrypto=0;this._finishedCrypto=0;this._finishedSpawningCrypto=false;this._finalResultSet=_15b;for(var i=0;i<_15b.length;i++){var row=_15b[i];for(var _15f in row){if(_15c=="*"||_15c[_15f]){this._totalCrypto++;var _160=row[_15f];this._decryptSingleColumn(_15f,_160,_15d,i,function(_161){_15e(_161);});}}}this._finishedSpawningCrypto=true;},_stripCryptoSQL:function(sql){sql=sql.replace(/DECRYPT\(\*\)/ig,"*");var _162=sql.match(/ENCRYPT\([^\)]*\)/ig);if(_162!=null){for(var i=0;i<_162.length;i++){var _163=_162[i];var _164=_163.match(/ENCRYPT\(([^\)]*)\)/i)[1];sql=sql.replace(_163,_164);}}_162=sql.match(/DECRYPT\([^\)]*\)/ig);if(_162!=null){for(i=0;i<_162.length;i++){var _165=_162[i];var _166=_165.match(/DECRYPT\(([^\)]*)\)/i)[1];sql=sql.replace(_165,_166);}}return sql;},_flagEncryptedArgs:function(sql,args){var _167=new RegExp(/([\"][^\"]*\?[^\"]*[\"])|([\'][^\']*\?[^\']*[\'])|(\?)/ig);var _168;var _169=0;var _16a=[];while((_168=_167.exec(sql))!=null){var _16b=RegExp.lastMatch+"";if(/^[\"\']/.test(_16b)){continue;}var _16c=false;if(/ENCRYPT\([^\)]*$/i.test(RegExp.leftContext)){_16c=true;}_16a[_169]=_16c;_169++;}return _16a;},_determineDecryptedColumns:function(sql){var _16d={};if(/DECRYPT\(\*\)/i.test(sql)){_16d="*";}else{var _16e=/DECRYPT\((?:\s*\w*\s*\,?)*\)/ig;var _16f=_16e.exec(sql);while(_16f){var _170=new String(RegExp.lastMatch);var _171=_170.replace(/DECRYPT\(/i,"");_171=_171.replace(/\)/,"");_171=_171.split(/\s*,\s*/);dojo.forEach(_171,function(_172){if(/\s*\w* AS (\w*)/i.test(_172)){_172=_172.match(/\s*\w* AS (\w*)/i)[1];}_16d[_172]=true;});_16f=_16e.exec(sql);}}return _16d;},_decryptSingleColumn:function(_173,_174,_175,_176,_177){dojox.sql._crypto.decrypt(_174,_175,dojo.hitch(this,function(_178){this._finalResultSet[_176][_173]=_178;this._finishedCrypto++;if(this._finishedCrypto>=this._totalCrypto&&this._finishedSpawningCrypto){_177(this._finalResultSet);}}));}});(function(){var _179=dojox.sql;dojox.sql=new Function("return dojox.sql._exec(arguments);");dojo.mixin(dojox.sql,_179);})();}if(!dojo._hasResource["dojox.sql"]){dojo._hasResource["dojox.sql"]=true;dojo.provide("dojox.sql");}if(!dojo._hasResource["dojox.storage.GearsStorageProvider"]){dojo._hasResource["dojox.storage.GearsStorageProvider"]=true;dojo.provide("dojox.storage.GearsStorageProvider");if(dojo.gears.available){(function(){dojo.declare("dojox.storage.GearsStorageProvider",dojox.storage.Provider,{constructor:function(){},TABLE_NAME:"__DOJO_STORAGE",initialized:false,_available:null,_storageReady:false,initialize:function(){if(dojo.config["disableGearsStorage"]==true){return;}this.TABLE_NAME="__DOJO_STORAGE";this.initialized=true;dojox.storage.manager.loaded();},isAvailable:function(){return this._available=dojo.gears.available;},put:function(key,_17a,_17b,_17c){this._initStorage();if(!this.isValidKey(key)){throw new Error("Invalid key given: "+key);}_17c=_17c||this.DEFAULT_NAMESPACE;if(!this.isValidKey(_17c)){throw new Error("Invalid namespace given: "+key);}if(dojo.isString(_17a)){_17a="string:"+_17a;}else{_17a=dojo.toJson(_17a);}try{dojox.sql("DELETE FROM "+this.TABLE_NAME+" WHERE namespace = ? AND key = ?",_17c,key);dojox.sql("INSERT INTO "+this.TABLE_NAME+" VALUES (?, ?, ?)",_17c,key,_17a);}catch(e){_17b(this.FAILED,key,e.toString(),_17c);return;}if(_17b){_17b(dojox.storage.SUCCESS,key,null,_17c);}},get:function(key,_17d){this._initStorage();if(!this.isValidKey(key)){throw new Error("Invalid key given: "+key);}_17d=_17d||this.DEFAULT_NAMESPACE;if(!this.isValidKey(_17d)){throw new Error("Invalid namespace given: "+key);}var _17e=dojox.sql("SELECT * FROM "+this.TABLE_NAME+" WHERE namespace = ? AND "+" key = ?",_17d,key);if(!_17e.length){return null;}else{_17e=_17e[0].value;}if(dojo.isString(_17e)&&(/^string:/.test(_17e))){_17e=_17e.substring("string:".length);}else{_17e=dojo.fromJson(_17e);}return _17e;},getNamespaces:function(){this._initStorage();var _17f=[dojox.storage.DEFAULT_NAMESPACE];var rs=dojox.sql("SELECT namespace FROM "+this.TABLE_NAME+" DESC GROUP BY namespace");for(var i=0;i<rs.length;i++){if(rs[i].namespace!=dojox.storage.DEFAULT_NAMESPACE){_17f.push(rs[i].namespace);}}return _17f;},getKeys:function(_180){this._initStorage();_180=_180||this.DEFAULT_NAMESPACE;if(!this.isValidKey(_180)){throw new Error("Invalid namespace given: "+_180);}var rs=dojox.sql("SELECT key FROM "+this.TABLE_NAME+" WHERE namespace = ?",_180);var _181=[];for(var i=0;i<rs.length;i++){_181.push(rs[i].key);}return _181;},clear:function(_182){this._initStorage();_182=_182||this.DEFAULT_NAMESPACE;if(!this.isValidKey(_182)){throw new Error("Invalid namespace given: "+_182);}dojox.sql("DELETE FROM "+this.TABLE_NAME+" WHERE namespace = ?",_182);},remove:function(key,_183){this._initStorage();if(!this.isValidKey(key)){throw new Error("Invalid key given: "+key);}_183=_183||this.DEFAULT_NAMESPACE;if(!this.isValidKey(_183)){throw new Error("Invalid namespace given: "+key);}dojox.sql("DELETE FROM "+this.TABLE_NAME+" WHERE namespace = ? AND"+" key = ?",_183,key);},putMultiple:function(keys,_184,_185,_186){this._initStorage();if(!this.isValidKeyArray(keys)||!_184 instanceof Array||keys.length!=_184.length){throw new Error("Invalid arguments: keys = ["+keys+"], values = ["+_184+"]");}if(_186==null||typeof _186=="undefined"){_186=dojox.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_186)){throw new Error("Invalid namespace given: "+_186);}this._statusHandler=_185;try{dojox.sql.open();dojox.sql.db.execute("BEGIN TRANSACTION");var _187="REPLACE INTO "+this.TABLE_NAME+" VALUES (?, ?, ?)";for(var i=0;i<keys.length;i++){var _188=_184[i];if(dojo.isString(_188)){_188="string:"+_188;}else{_188=dojo.toJson(_188);}dojox.sql.db.execute(_187,[_186,keys[i],_188]);}dojox.sql.db.execute("COMMIT TRANSACTION");dojox.sql.close();}catch(e){if(_185){_185(this.FAILED,keys,e.toString(),_186);}return;}if(_185){_185(dojox.storage.SUCCESS,keys,null,_186);}},getMultiple:function(keys,_189){this._initStorage();if(!this.isValidKeyArray(keys)){throw new ("Invalid key array given: "+keys);}if(_189==null||typeof _189=="undefined"){_189=dojox.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_189)){throw new Error("Invalid namespace given: "+_189);}var _18a="SELECT * FROM "+this.TABLE_NAME+" WHERE namespace = ? AND "+" key = ?";var _18b=[];for(var i=0;i<keys.length;i++){var _18c=dojox.sql(_18a,_189,keys[i]);if(!_18c.length){_18b[i]=null;}else{_18c=_18c[0].value;if(dojo.isString(_18c)&&(/^string:/.test(_18c))){_18b[i]=_18c.substring("string:".length);}else{_18b[i]=dojo.fromJson(_18c);}}}return _18b;},removeMultiple:function(keys,_18d){this._initStorage();if(!this.isValidKeyArray(keys)){throw new Error("Invalid arguments: keys = ["+keys+"]");}if(_18d==null||typeof _18d=="undefined"){_18d=dojox.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_18d)){throw new Error("Invalid namespace given: "+_18d);}dojox.sql.open();dojox.sql.db.execute("BEGIN TRANSACTION");var _18e="DELETE FROM "+this.TABLE_NAME+" WHERE namespace = ? AND key = ?";for(var i=0;i<keys.length;i++){dojox.sql.db.execute(_18e,[_18d,keys[i]]);}dojox.sql.db.execute("COMMIT TRANSACTION");dojox.sql.close();},isPermanent:function(){return true;},getMaximumSize:function(){return this.SIZE_NO_LIMIT;},hasSettingsUI:function(){return false;},showSettingsUI:function(){throw new Error(this.declaredClass+" does not support a storage settings user-interface");},hideSettingsUI:function(){throw new Error(this.declaredClass+" does not support a storage settings user-interface");},_initStorage:function(){if(this._storageReady){return;}if(!google.gears.factory.hasPermission){var _18f=null;var icon=null;var msg="This site would like to use Google Gears to enable "+"enhanced functionality.";var _190=google.gears.factory.getPermission(_18f,icon,msg);if(!_190){throw new Error("You must give permission to use Gears in order to "+"store data");}}try{dojox.sql("CREATE TABLE IF NOT EXISTS "+this.TABLE_NAME+"( "+" namespace TEXT, "+" key TEXT, "+" value TEXT "+")");dojox.sql("CREATE UNIQUE INDEX IF NOT EXISTS namespace_key_index"+" ON "+this.TABLE_NAME+" (namespace, key)");}catch(e){throw new Error("Unable to create storage tables for Gears in "+"Dojo Storage");}this._storageReady=true;}});dojox.storage.manager.register("dojox.storage.GearsStorageProvider",new dojox.storage.GearsStorageProvider());})();}}if(!dojo._hasResource["dojox.storage.WhatWGStorageProvider"]){dojo._hasResource["dojox.storage.WhatWGStorageProvider"]=true;dojo.provide("dojox.storage.WhatWGStorageProvider");dojo.declare("dojox.storage.WhatWGStorageProvider",[dojox.storage.Provider],{initialized:false,_domain:null,_available:null,_statusHandler:null,_allNamespaces:null,_storageEventListener:null,initialize:function(){if(dojo.config["disableWhatWGStorage"]==true){return;}this._domain=location.hostname;this.initialized=true;dojox.storage.manager.loaded();},isAvailable:function(){try{var _191=globalStorage[location.hostname];}catch(e){this._available=false;return this._available;}this._available=true;return this._available;},put:function(key,_192,_193,_194){if(this.isValidKey(key)==false){throw new Error("Invalid key given: "+key);}_194=_194||this.DEFAULT_NAMESPACE;key=this.getFullKey(key,_194);this._statusHandler=_193;if(dojo.isString(_192)){_192="string:"+_192;}else{_192=dojo.toJson(_192);}var _195=dojo.hitch(this,function(evt){window.removeEventListener("storage",_195,false);if(_193){_193.call(null,this.SUCCESS,key,null,_194);}});window.addEventListener("storage",_195,false);try{var _196=globalStorage[this._domain];_196.setItem(key,_192);}catch(e){this._statusHandler.call(null,this.FAILED,key,e.toString(),_194);}},get:function(key,_197){if(this.isValidKey(key)==false){throw new Error("Invalid key given: "+key);}_197=_197||this.DEFAULT_NAMESPACE;key=this.getFullKey(key,_197);var _198=globalStorage[this._domain];var _199=_198.getItem(key);if(_199==null||_199==""){return null;}_199=_199.value;if(dojo.isString(_199)&&(/^string:/.test(_199))){_199=_199.substring("string:".length);}else{_199=dojo.fromJson(_199);}return _199;},getNamespaces:function(){var _19a=[this.DEFAULT_NAMESPACE];var _19b={};var _19c=globalStorage[this._domain];var _19d=/^__([^_]*)_/;for(var i=0;i<_19c.length;i++){var _19e=_19c.key(i);if(_19d.test(_19e)==true){var _19f=_19e.match(_19d)[1];if(typeof _19b[_19f]=="undefined"){_19b[_19f]=true;_19a.push(_19f);}}}return _19a;},getKeys:function(_1a0){_1a0=_1a0||this.DEFAULT_NAMESPACE;if(this.isValidKey(_1a0)==false){throw new Error("Invalid namespace given: "+_1a0);}var _1a1;if(_1a0==this.DEFAULT_NAMESPACE){_1a1=new RegExp("^([^_]{2}.*)$");}else{_1a1=new RegExp("^__"+_1a0+"_(.*)$");}var _1a2=globalStorage[this._domain];var _1a3=[];for(var i=0;i<_1a2.length;i++){var _1a4=_1a2.key(i);if(_1a1.test(_1a4)==true){_1a4=_1a4.match(_1a1)[1];_1a3.push(_1a4);}}return _1a3;},clear:function(_1a5){_1a5=_1a5||this.DEFAULT_NAMESPACE;if(this.isValidKey(_1a5)==false){throw new Error("Invalid namespace given: "+_1a5);}var _1a6;if(_1a5==this.DEFAULT_NAMESPACE){_1a6=new RegExp("^[^_]{2}");}else{_1a6=new RegExp("^__"+_1a5+"_");}var _1a7=globalStorage[this._domain];var keys=[];for(var i=0;i<_1a7.length;i++){if(_1a6.test(_1a7.key(i))==true){keys[keys.length]=_1a7.key(i);}}dojo.forEach(keys,dojo.hitch(_1a7,"removeItem"));},remove:function(key,_1a8){key=this.getFullKey(key,_1a8);var _1a9=globalStorage[this._domain];_1a9.removeItem(key);},isPermanent:function(){return true;},getMaximumSize:function(){return this.SIZE_NO_LIMIT;},hasSettingsUI:function(){return false;},showSettingsUI:function(){throw new Error(this.declaredClass+" does not support a storage settings user-interface");},hideSettingsUI:function(){throw new Error(this.declaredClass+" does not support a storage settings user-interface");},getFullKey:function(key,_1aa){_1aa=_1aa||this.DEFAULT_NAMESPACE;if(this.isValidKey(_1aa)==false){throw new Error("Invalid namespace given: "+_1aa);}if(_1aa==this.DEFAULT_NAMESPACE){return key;}else{return "__"+_1aa+"_"+key;}}});dojox.storage.manager.register("dojox.storage.WhatWGStorageProvider",new dojox.storage.WhatWGStorageProvider());}if(!dojo._hasResource["dojo.window"]){dojo._hasResource["dojo.window"]=true;dojo.provide("dojo.window");dojo.getObject("window",true,dojo);dojo.window.getBox=function(){var _1ab=(dojo.doc.compatMode=="BackCompat")?dojo.body():dojo.doc.documentElement;var _1ac=dojo._docScroll();return {w:_1ab.clientWidth,h:_1ab.clientHeight,l:_1ac.x,t:_1ac.y};};dojo.window.get=function(doc){if(dojo.isIE&&window!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;};dojo.window.scrollIntoView=function(node,pos){try{node=dojo.byId(node);var doc=node.ownerDocument||dojo.doc,body=doc.body||dojo.body(),html=doc.documentElement||body.parentNode,isIE=dojo.isIE,isWK=dojo.isWebKit;if((!(dojo.isMoz||isIE||isWK||dojo.isOpera)||node==body||node==html)&&(typeof node.scrollIntoView!="undefined")){node.scrollIntoView(false);return;}var _1ad=doc.compatMode=="BackCompat",_1ae=_1ad?body:html,_1af=isWK?body:_1ae,_1b0=_1ae.clientWidth,_1b1=_1ae.clientHeight,rtl=!dojo._isBodyLtr(),_1b2=pos||dojo.position(node),el=node.parentNode,_1b3=function(el){return ((isIE<=6||(isIE&&_1ad))?false:(dojo.style(el,"position").toLowerCase()=="fixed"));};if(_1b3(node)){return;}while(el){if(el==body){el=_1af;}var _1b4=dojo.position(el),_1b5=_1b3(el);if(el==_1af){_1b4.w=_1b0;_1b4.h=_1b1;if(_1af==html&&isIE&&rtl){_1b4.x+=_1af.offsetWidth-_1b4.w;}if(_1b4.x<0||!isIE){_1b4.x=0;}if(_1b4.y<0||!isIE){_1b4.y=0;}}else{var pb=dojo._getPadBorderExtents(el);_1b4.w-=pb.w;_1b4.h-=pb.h;_1b4.x+=pb.l;_1b4.y+=pb.t;}if(el!=_1af){var _1b6=el.clientWidth,_1b7=_1b4.w-_1b6;if(_1b6>0&&_1b7>0){_1b4.w=_1b6;if(isIE&&rtl){_1b4.x+=_1b7;}}_1b6=el.clientHeight;_1b7=_1b4.h-_1b6;if(_1b6>0&&_1b7>0){_1b4.h=_1b6;}}if(_1b5){if(_1b4.y<0){_1b4.h+=_1b4.y;_1b4.y=0;}if(_1b4.x<0){_1b4.w+=_1b4.x;_1b4.x=0;}if(_1b4.y+_1b4.h>_1b1){_1b4.h=_1b1-_1b4.y;}if(_1b4.x+_1b4.w>_1b0){_1b4.w=_1b0-_1b4.x;}}var l=_1b2.x-_1b4.x,t=_1b2.y-Math.max(_1b4.y,0),r=l+_1b2.w-_1b4.w,bot=t+_1b2.h-_1b4.h;if(r*l>0){var s=Math[l<0?"max":"min"](l,r);_1b2.x+=el.scrollLeft;el.scrollLeft+=(isIE>=8&&!_1ad&&rtl)?-s:s;_1b2.x-=el.scrollLeft;}if(bot*t>0){_1b2.y+=el.scrollTop;el.scrollTop+=Math[t<0?"max":"min"](t,bot);_1b2.y-=el.scrollTop;}el=(el!=_1af)&&!_1b5&&el.parentNode;}}catch(error){node.scrollIntoView(false);}};}if(!dojo._hasResource["dojox.flash._base"]){dojo._hasResource["dojox.flash._base"]=true;dojo.provide("dojox.flash._base");dojo.experimental("dojox.flash");dojox.flash=function(){};dojox.flash={ready:false,url:null,_visible:true,_loadedListeners:[],_installingListeners:[],setSwf:function(url,_1b8){this.url=url;this._visible=true;if(_1b8!==null&&_1b8!==undefined){this._visible=_1b8;}this._initialize();},addLoadedListener:function(_1b9){this._loadedListeners.push(_1b9);},addInstallingListener:function(_1ba){this._installingListeners.push(_1ba);},loaded:function(){dojox.flash.ready=true;if(dojox.flash._loadedListeners.length){for(var i=0;i<dojox.flash._loadedListeners.length;i++){dojox.flash._loadedListeners[i].call(null);}}},installing:function(){if(dojox.flash._installingListeners.length){for(var i=0;i<dojox.flash._installingListeners.length;i++){dojox.flash._installingListeners[i].call(null);}}},_initialize:function(){var _1bb=new dojox.flash.Install();dojox.flash.installer=_1bb;if(_1bb.needed()){_1bb.install();}else{dojox.flash.obj=new dojox.flash.Embed(this._visible);dojox.flash.obj.write();dojox.flash.comm=new dojox.flash.Communicator();}}};dojox.flash.Info=function(){this._detectVersion();};dojox.flash.Info.prototype={version:-1,versionMajor:-1,versionMinor:-1,versionRevision:-1,capable:false,installing:false,isVersionOrAbove:function(_1bc,_1bd,_1be){_1be=parseFloat("."+_1be);if(this.versionMajor>=_1bc&&this.versionMinor>=_1bd&&this.versionRevision>=_1be){return true;}else{return false;}},_detectVersion:function(){var _1bf;for(var _1c0=25;_1c0>0;_1c0--){if(dojo.isIE){var axo;try{if(_1c0>6){axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+_1c0);}else{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}if(typeof axo=="object"){if(_1c0==6){axo.AllowScriptAccess="always";}_1bf=axo.GetVariable("$version");}}catch(e){continue;}}else{_1bf=this._JSFlashInfo(_1c0);}if(_1bf==-1){this.capable=false;return;}else{if(_1bf!=0){var _1c1;if(dojo.isIE){var _1c2=_1bf.split(" ");var _1c3=_1c2[1];_1c1=_1c3.split(",");}else{_1c1=_1bf.split(".");}this.versionMajor=_1c1[0];this.versionMinor=_1c1[1];this.versionRevision=_1c1[2];var _1c4=this.versionMajor+"."+this.versionRevision;this.version=parseFloat(_1c4);this.capable=true;break;}}}},_JSFlashInfo:function(_1c5){if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var _1c6=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var _1c7=navigator.plugins["Shockwave Flash"+_1c6].description;var _1c8=_1c7.split(" ");var _1c9=_1c8[2].split(".");var _1ca=_1c9[0];var _1cb=_1c9[1];var _1cc=(_1c8[3]||_1c8[4]).split("r");var _1cd=_1cc[1]>0?_1cc[1]:0;var _1ce=_1ca+"."+_1cb+"."+_1cd;return _1ce;}}return -1;}};dojox.flash.Embed=function(_1cf){this._visible=_1cf;};dojox.flash.Embed.prototype={width:215,height:138,id:"flashObject",_visible:true,protocol:function(){switch(window.location.protocol){case "https:":return "https";break;default:return "http";break;}},write:function(_1d0){var _1d1;var _1d2=dojox.flash.url;var _1d3=_1d2;var _1d4=_1d2;var _1d5=dojo.baseUrl;var _1d6=document.location.protocol+"//"+document.location.host;if(_1d0){var _1d7=escape(window.location);document.title=document.title.slice(0,47)+" - Flash Player Installation";var _1d8=escape(document.title);_1d3+="?MMredirectURL="+_1d7+"&MMplayerType=ActiveX"+"&MMdoctitle="+_1d8+"&baseUrl="+escape(_1d5)+"&xdomain="+escape(_1d6);_1d4+="?MMredirectURL="+_1d7+"&MMplayerType=PlugIn"+"&baseUrl="+escape(_1d5)+"&xdomain="+escape(_1d6);}else{_1d3+="?cachebust="+new Date().getTime();_1d3+="&baseUrl="+escape(_1d5);_1d3+="&xdomain="+escape(_1d6);}if(_1d4.indexOf("?")==-1){_1d4+="?baseUrl="+escape(_1d5);}else{_1d4+="&baseUrl="+escape(_1d5);}_1d4+="&xdomain="+escape(_1d6);_1d1="<object classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" "+"codebase=\""+this.protocol()+"://fpdownload.macromedia.com/pub/shockwave/cabs/flash/"+"swflash.cab#version=8,0,0,0\"\n "+"width=\""+this.width+"\"\n "+"height=\""+this.height+"\"\n "+"id=\""+this.id+"\"\n "+"name=\""+this.id+"\"\n "+"align=\"middle\">\n "+"<param name=\"allowScriptAccess\" value=\"always\"></param>\n "+"<param name=\"movie\" value=\""+_1d3+"\"></param>\n "+"<param name=\"quality\" value=\"high\"></param>\n "+"<param name=\"bgcolor\" value=\"#ffffff\"></param>\n "+"<embed src=\""+_1d4+"\" "+"quality=\"high\" "+"bgcolor=\"#ffffff\" "+"width=\""+this.width+"\" "+"height=\""+this.height+"\" "+"id=\""+this.id+"Embed"+"\" "+"name=\""+this.id+"\" "+"swLiveConnect=\"true\" "+"align=\"middle\" "+"allowScriptAccess=\"always\" "+"type=\"application/x-shockwave-flash\" "+"pluginspage=\""+this.protocol()+"://www.macromedia.com/go/getflashplayer\" "+"></embed>\n"+"</object>\n";dojo.connect(dojo,"loaded",dojo.hitch(this,function(){var _1d9=this.id+"Container";if(dojo.byId(_1d9)){return;}var div=document.createElement("div");div.id=this.id+"Container";div.style.width=this.width+"px";div.style.height=this.height+"px";if(!this._visible){div.style.position="absolute";div.style.zIndex="10000";div.style.top="-1000px";}div.innerHTML=_1d1;var body=document.getElementsByTagName("body");if(!body||!body.length){throw new Error("No body tag for this page");}body=body[0];body.appendChild(div);}));},get:function(){if(dojo.isIE||dojo.isWebKit){return dojo.byId(this.id);}else{return document[this.id+"Embed"];}},setVisible:function(_1da){var _1db=dojo.byId(this.id+"Container");if(_1da){_1db.style.position="absolute";_1db.style.visibility="visible";}else{_1db.style.position="absolute";_1db.style.y="-1000px";_1db.style.visibility="hidden";}},center:function(){var _1dc=this.width;var _1dd=this.height;var _1de=dojo.window.getBox();var x=_1de.l+(_1de.w-_1dc)/2;var y=_1de.t+(_1de.h-_1dd)/2;var _1df=dojo.byId(this.id+"Container");_1df.style.top=y+"px";_1df.style.left=x+"px";}};dojox.flash.Communicator=function(){};dojox.flash.Communicator.prototype={_addExternalInterfaceCallback:function(_1e0){var _1e1=dojo.hitch(this,function(){var _1e2=new Array(arguments.length);for(var i=0;i<arguments.length;i++){_1e2[i]=this._encodeData(arguments[i]);}var _1e3=this._execFlash(_1e0,_1e2);_1e3=this._decodeData(_1e3);return _1e3;});this[_1e0]=_1e1;},_encodeData:function(data){if(!data||typeof data!="string"){return data;}data=data.replace("\\","&custom_backslash;");data=data.replace(/\0/g,"&custom_null;");return data;},_decodeData:function(data){if(data&&data.length&&typeof data!="string"){data=data[0];}if(!data||typeof data!="string"){return data;}data=data.replace(/\&custom_null\;/g,"\x00");data=data.replace(/\&custom_lt\;/g,"<").replace(/\&custom_gt\;/g,">").replace(/\&custom_backslash\;/g,"\\");return data;},_execFlash:function(_1e4,_1e5){var _1e6=dojox.flash.obj.get();_1e5=(_1e5)?_1e5:[];for(var i=0;i<_1e5;i++){if(typeof _1e5[i]=="string"){_1e5[i]=this._encodeData(_1e5[i]);}}var _1e7=function(){return eval(_1e6.CallFunction("<invoke name=\""+_1e4+"\" returntype=\"javascript\">"+__flash__argumentsToXML(_1e5,0)+"</invoke>"));};var _1e8=_1e7.call(_1e5);if(typeof _1e8=="string"){_1e8=this._decodeData(_1e8);}return _1e8;}};dojox.flash.Install=function(){};dojox.flash.Install.prototype={needed:function(){if(!dojox.flash.info.capable){return true;}if(!dojox.flash.info.isVersionOrAbove(8,0,0)){return true;}return false;},install:function(){var _1e9;dojox.flash.info.installing=true;dojox.flash.installing();if(dojox.flash.info.capable==false){_1e9=new dojox.flash.Embed(false);_1e9.write();}else{if(dojox.flash.info.isVersionOrAbove(6,0,65)){_1e9=new dojox.flash.Embed(false);_1e9.write(true);_1e9.setVisible(true);_1e9.center();}else{alert("This content requires a more recent version of the Macromedia "+" Flash Player.");window.location.href=+dojox.flash.Embed.protocol()+"://www.macromedia.com/go/getflashplayer";}}},_onInstallStatus:function(msg){if(msg=="Download.Complete"){dojox.flash._initialize();}else{if(msg=="Download.Cancelled"){alert("This content requires a more recent version of the Macromedia "+" Flash Player.");window.location.href=dojox.flash.Embed.protocol()+"://www.macromedia.com/go/getflashplayer";}else{if(msg=="Download.Failed"){alert("There was an error downloading the Flash Player update. "+"Please try again later, or visit macromedia.com to download "+"the latest version of the Flash plugin.");}}}}};dojox.flash.info=new dojox.flash.Info();}if(!dojo._hasResource["dojox.flash"]){dojo._hasResource["dojox.flash"]=true;dojo.provide("dojox.flash");}if(!dojo._hasResource["dojox.storage.FlashStorageProvider"]){dojo._hasResource["dojox.storage.FlashStorageProvider"]=true;dojo.provide("dojox.storage.FlashStorageProvider");dojo.declare("dojox.storage.FlashStorageProvider",dojox.storage.Provider,{initialized:false,_available:null,_statusHandler:null,_flashReady:false,_pageReady:false,initialize:function(){if(dojo.config["disableFlashStorage"]==true){return;}dojox.flash.addLoadedListener(dojo.hitch(this,function(){this._flashReady=true;if(this._flashReady&&this._pageReady){this._loaded();}}));var _1ea=dojo.moduleUrl("dojox","storage/Storage.swf").toString();dojox.flash.setSwf(_1ea,false);dojo.connect(dojo,"loaded",this,function(){this._pageReady=true;if(this._flashReady&&this._pageReady){this._loaded();}});},setFlushDelay:function(_1eb){if(_1eb===null||typeof _1eb==="undefined"||isNaN(_1eb)){throw new Error("Invalid argunment: "+_1eb);}dojox.flash.comm.setFlushDelay(String(_1eb));},getFlushDelay:function(){return Number(dojox.flash.comm.getFlushDelay());},flush:function(_1ec){if(_1ec==null||typeof _1ec=="undefined"){_1ec=dojox.storage.DEFAULT_NAMESPACE;}dojox.flash.comm.flush(_1ec);},isAvailable:function(){return (this._available=!dojo.config["disableFlashStorage"]);},put:function(key,_1ed,_1ee,_1ef){if(!this.isValidKey(key)){throw new Error("Invalid key given: "+key);}if(!_1ef){_1ef=dojox.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_1ef)){throw new Error("Invalid namespace given: "+_1ef);}this._statusHandler=_1ee;if(dojo.isString(_1ed)){_1ed="string:"+_1ed;}else{_1ed=dojo.toJson(_1ed);}dojox.flash.comm.put(key,_1ed,_1ef);},putMultiple:function(keys,_1f0,_1f1,_1f2){if(!this.isValidKeyArray(keys)||!_1f0 instanceof Array||keys.length!=_1f0.length){throw new Error("Invalid arguments: keys = ["+keys+"], values = ["+_1f0+"]");}if(!_1f2){_1f2=dojox.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_1f2)){throw new Error("Invalid namespace given: "+_1f2);}this._statusHandler=_1f1;var _1f3=keys.join(",");var _1f4=[];for(var i=0;i<_1f0.length;i++){if(dojo.isString(_1f0[i])){_1f0[i]="string:"+_1f0[i];}else{_1f0[i]=dojo.toJson(_1f0[i]);}_1f4[i]=_1f0[i].length;}var _1f5=_1f0.join("");var _1f6=_1f4.join(",");dojox.flash.comm.putMultiple(_1f3,_1f5,_1f6,_1f2);},get:function(key,_1f7){if(!this.isValidKey(key)){throw new Error("Invalid key given: "+key);}if(!_1f7){_1f7=dojox.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_1f7)){throw new Error("Invalid namespace given: "+_1f7);}var _1f8=dojox.flash.comm.get(key,_1f7);if(_1f8==""){return null;}return this._destringify(_1f8);},getMultiple:function(keys,_1f9){if(!this.isValidKeyArray(keys)){throw new ("Invalid key array given: "+keys);}if(!_1f9){_1f9=dojox.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_1f9)){throw new Error("Invalid namespace given: "+_1f9);}var _1fa=keys.join(",");var _1fb=dojox.flash.comm.getMultiple(_1fa,_1f9);var _1fc=eval("("+_1fb+")");for(var i=0;i<_1fc.length;i++){_1fc[i]=(_1fc[i]=="")?null:this._destringify(_1fc[i]);}return _1fc;},_destringify:function(_1fd){if(dojo.isString(_1fd)&&(/^string:/.test(_1fd))){_1fd=_1fd.substring("string:".length);}else{_1fd=dojo.fromJson(_1fd);}return _1fd;},getKeys:function(_1fe){if(!_1fe){_1fe=dojox.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_1fe)){throw new Error("Invalid namespace given: "+_1fe);}var _1ff=dojox.flash.comm.getKeys(_1fe);if(_1ff==null||_1ff=="null"){_1ff="";}_1ff=_1ff.split(",");_1ff.sort();return _1ff;},getNamespaces:function(){var _200=dojox.flash.comm.getNamespaces();if(_200==null||_200=="null"){_200=dojox.storage.DEFAULT_NAMESPACE;}_200=_200.split(",");_200.sort();return _200;},clear:function(_201){if(!_201){_201=dojox.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_201)){throw new Error("Invalid namespace given: "+_201);}dojox.flash.comm.clear(_201);},remove:function(key,_202){if(!_202){_202=dojox.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_202)){throw new Error("Invalid namespace given: "+_202);}dojox.flash.comm.remove(key,_202);},removeMultiple:function(keys,_203){if(!this.isValidKeyArray(keys)){dojo.raise("Invalid key array given: "+keys);}if(!_203){_203=dojox.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_203)){throw new Error("Invalid namespace given: "+_203);}var _204=keys.join(",");dojox.flash.comm.removeMultiple(_204,_203);},isPermanent:function(){return true;},getMaximumSize:function(){return dojox.storage.SIZE_NO_LIMIT;},hasSettingsUI:function(){return true;},showSettingsUI:function(){dojox.flash.comm.showSettings();dojox.flash.obj.setVisible(true);dojox.flash.obj.center();},hideSettingsUI:function(){dojox.flash.obj.setVisible(false);if(dojo.isFunction(dojox.storage.onHideSettingsUI)){dojox.storage.onHideSettingsUI.call(null);}},getResourceList:function(){return [];},_loaded:function(){this._allNamespaces=this.getNamespaces();this.initialized=true;dojox.storage.manager.loaded();},_onStatus:function(_205,key,_206){var ds=dojox.storage;var dfo=dojox.flash.obj;if(_205==ds.PENDING){dfo.center();dfo.setVisible(true);}else{dfo.setVisible(false);}if(ds._statusHandler){ds._statusHandler.call(null,_205,key,null,_206);}}});dojox.storage.manager.register("dojox.storage.FlashStorageProvider",new dojox.storage.FlashStorageProvider());}if(!dojo._hasResource["dojox.storage.BehaviorStorageProvider"]){dojo._hasResource["dojox.storage.BehaviorStorageProvider"]=true;dojo.provide("dojox.storage.BehaviorStorageProvider");dojo.declare("dojox.storage.BehaviorStorageProvider",[dojox.storage.Provider],{store:null,storeName:"__dojox_BehaviorStorage",keys:[],initialize:function(){try{this.store=this._createStore();this.store.load(this.storeName);}catch(e){throw new Error("Store is not available: "+e);}var keys=this.get("keys","dojoxSystemNS");this.keys=keys||[];this.initialized=true;dojox.storage.manager.loaded();},isAvailable:function(){return dojo.isIE&&dojo.isIE>=5;},_createStore:function(){var _207=dojo.create("link",{id:this.storeName+"Node",style:{"display":"none"}},dojo.query("head")[0]);_207.addBehavior("#default#userdata");return _207;},put:function(key,_208,_209,_20a){this._assertIsValidKey(key);_20a=_20a||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_20a);var _20b=this.getFullKey(key,_20a);_208=dojo.toJson(_208);this.store.setAttribute(_20b,_208);this.store.save(this.storeName);var _20c=this.store.getAttribute(_20b)===_208;if(_20c){this._addKey(_20b);this.store.setAttribute("__dojoxSystemNS_keys",dojo.toJson(this.keys));this.store.save(this.storeName);}if(_209){_209(_20c?this.SUCCESS:this.FAILED,key,null,_20a);}},get:function(key,_20d){this._assertIsValidKey(key);_20d=_20d||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_20d);key=this.getFullKey(key,_20d);return dojo.fromJson(this.store.getAttribute(key));},getKeys:function(_20e){_20e=_20e||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_20e);_20e="__"+_20e+"_";var keys=[];for(var i=0;i<this.keys.length;i++){var _20f=this.keys[i];if(this._beginsWith(_20f,_20e)){_20f=_20f.substring(_20e.length);keys.push(_20f);}}return keys;},clear:function(_210){_210=_210||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_210);_210="__"+_210+"_";var keys=[];for(var i=0;i<this.keys.length;i++){var _211=this.keys[i];if(this._beginsWith(_211,_210)){keys.push(_211);}}dojo.forEach(keys,function(key){this.store.removeAttribute(key);this._removeKey(key);},this);this.put("keys",this.keys,null,"dojoxSystemNS");this.store.save(this.storeName);},remove:function(key,_212){this._assertIsValidKey(key);_212=_212||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_212);key=this.getFullKey(key,_212);this.store.removeAttribute(key);this._removeKey(key);this.put("keys",this.keys,null,"dojoxSystemNS");this.store.save(this.storeName);},getNamespaces:function(){var _213=[this.DEFAULT_NAMESPACE];var _214={};_214[this.DEFAULT_NAMESPACE]=true;var _215=/^__([^_]*)_/;for(var i=0;i<this.keys.length;i++){var _216=this.keys[i];if(_215.test(_216)==true){var _217=_216.match(_215)[1];if(typeof _214[_217]=="undefined"){_214[_217]=true;_213.push(_217);}}}return _213;},isPermanent:function(){return true;},getMaximumSize:function(){return 64;},hasSettingsUI:function(){return false;},isValidKey:function(_218){if(_218===null||_218===undefined){return false;}return /^[0-9A-Za-z_-]*$/.test(_218);},isValidNamespace:function(_219){if(_219===null||_219===undefined){return false;}return /^[0-9A-Za-z-]*$/.test(_219);},getFullKey:function(key,_21a){return "__"+_21a+"_"+key;},_beginsWith:function(_21b,_21c){if(_21c.length>_21b.length){return false;}return _21b.substring(0,_21c.length)===_21c;},_assertIsValidNamespace:function(_21d){if(this.isValidNamespace(_21d)===false){throw new Error("Invalid namespace given: "+_21d);}},_assertIsValidKey:function(key){if(this.isValidKey(key)===false){throw new Error("Invalid key given: "+key);}},_addKey:function(key){this._removeKey(key);this.keys.push(key);},_removeKey:function(key){this.keys=dojo.filter(this.keys,function(item){return item!==key;},this);}});dojox.storage.manager.register("dojox.storage.BehaviorStorageProvider",new dojox.storage.BehaviorStorageProvider());}if(!dojo._hasResource["dojo.regexp"]){dojo._hasResource["dojo.regexp"]=true;dojo.provide("dojo.regexp");dojo.getObject("regexp",true,dojo);dojo.regexp.escapeString=function(str,_21e){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){if(_21e&&_21e.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};dojo.regexp.buildGroupRE=function(arr,re,_21f){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return dojo.regexp.group(b.join("|"),_21f);};dojo.regexp.group=function(_220,_221){return "("+(_221?"?:":"")+_220+")";};}if(!dojo._hasResource["dojo.cookie"]){dojo._hasResource["dojo.cookie"]=true;dojo.provide("dojo.cookie");dojo.cookie=function(name,_222,_223){var c=document.cookie;if(arguments.length==1){var _224=c.match(new RegExp("(?:^|; )"+dojo.regexp.escapeString(name)+"=([^;]*)"));return _224?decodeURIComponent(_224[1]):undefined;}else{_223=_223||{};var exp=_223.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_223.expires=d;}if(exp&&exp.toUTCString){_223.expires=exp.toUTCString();}_222=encodeURIComponent(_222);var _225=name+"="+_222,_226;for(_226 in _223){_225+="; "+_226;var _227=_223[_226];if(_227!==true){_225+="="+_227;}}document.cookie=_225;}};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};}if(!dojo._hasResource["dojox.storage.CookieStorageProvider"]){dojo._hasResource["dojox.storage.CookieStorageProvider"]=true;dojo.provide("dojox.storage.CookieStorageProvider");dojo.declare("dojox.storage.CookieStorageProvider",[dojox.storage.Provider],{store:null,cookieName:"dojoxStorageCookie",storageLife:730,initialize:function(){this.store=dojo.fromJson(dojo.cookie(this.cookieName))||{};this.initialized=true;dojox.storage.manager.loaded();},isAvailable:function(){return dojo.cookie.isSupported();},put:function(key,_228,_229,_22a){this._assertIsValidKey(key);_22a=_22a||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_22a);fullKey=this.getFullKey(key,_22a);this.store[fullKey]=dojo.toJson(_228);this._save();var _22b=dojo.toJson(this.store)===dojo.cookie(this.cookieName);if(!_22b){this.remove(key,_22a);}if(_229){_229(_22b?this.SUCCESS:this.FAILED,key,null,_22a);}},get:function(key,_22c){this._assertIsValidKey(key);_22c=_22c||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_22c);key=this.getFullKey(key,_22c);return this.store[key]?dojo.fromJson(this.store[key]):null;},getKeys:function(_22d){_22d=_22d||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_22d);_22d="__"+_22d+"_";var keys=[];for(var _22e in this.store){if(this._beginsWith(_22e,_22d)){_22e=_22e.substring(_22d.length);keys.push(_22e);}}return keys;},clear:function(_22f){_22f=_22f||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_22f);_22f="__"+_22f+"_";for(var _230 in this.store){if(this._beginsWith(_230,_22f)){delete (this.store[_230]);}}this._save();},remove:function(key,_231){_231=_231||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_231);this._assertIsValidKey(key);key=this.getFullKey(key,_231);delete this.store[key];this._save();},getNamespaces:function(){var _232=[this.DEFAULT_NAMESPACE];var _233={};_233[this.DEFAULT_NAMESPACE]=true;var _234=/^__([^_]*)_/;for(var _235 in this.store){if(_234.test(_235)==true){var _236=_235.match(_234)[1];if(typeof _233[_236]=="undefined"){_233[_236]=true;_232.push(_236);}}}return _232;},isPermanent:function(){return true;},getMaximumSize:function(){return 4;},hasSettingsUI:function(){return false;},isValidKey:function(_237){if(_237===null||_237===undefined){return false;}return /^[0-9A-Za-z_-]*$/.test(_237);},isValidNamespace:function(_238){if(_238===null||_238===undefined){return false;}return /^[0-9A-Za-z-]*$/.test(_238);},getFullKey:function(key,_239){return "__"+_239+"_"+key;},_save:function(){dojo.cookie(this.cookieName,dojo.toJson(this.store),{expires:this.storageLife});},_beginsWith:function(_23a,_23b){if(_23b.length>_23a.length){return false;}return _23a.substring(0,_23b.length)===_23b;},_assertIsValidNamespace:function(_23c){if(this.isValidNamespace(_23c)===false){throw new Error("Invalid namespace given: "+_23c);}},_assertIsValidKey:function(key){if(this.isValidKey(key)===false){throw new Error("Invalid key given: "+key);}}});dojox.storage.manager.register("dojox.storage.CookieStorageProvider",new dojox.storage.CookieStorageProvider());}if(!dojo._hasResource["dojox.storage._common"]){dojo._hasResource["dojox.storage._common"]=true;dojo.provide("dojox.storage._common");dojox.storage.manager.initialize();}if(!dojo._hasResource["dojox.storage"]){dojo._hasResource["dojox.storage"]=true;dojo.provide("dojox.storage");}if(!dojo._hasResource["agi.storage._base"]){dojo._hasResource["agi.storage._base"]=true;dojo.provide("agi.storage._base");dojo.provide("agi.storage.Storage");agi.storage._getCurrentTimeStamp=function(){return new Date().getTime();};dojo.declare("agi.storage.Storage",[agi.classes.Identified],{force_reload:false,initialized:false,data:null,sid:null,constructor:function(_23d){this.data={};this.force_reload=_23d;this.sid=this._getSid();if(!dojox.storage.manager.isInitialized()){dojo.connect(dojox.storage.manager,"loaded",this,this.initialize);}else{this.initialize();}},_getSid:function(){return agi.cookie.MagicCookie.getCookieValue("psid");},initialize:function(){this.data=dojox.storage.get(this.sid);if(!this.data||this.force_reload){var _23e="";for(var i=0;i<2048;i++){_23e+="0123456789";}this.data={"filler":_23e};this.save();}this.initialized=true;dojo.publish("agi/storage/initialized");},get:function(key){return this.data[key]||null;},set:function(key,_23f){this.data["filler"]=null;this.data[key]=_23f;this.save();},remove:function(key){delete this.data[key];this.save();},save:function(){dojox.storage.put(this.sid,this.data,this.onsuccess);},clear:function(){this.data={};this.save();},onsuccess:function(_240,key,_241){}});}if(!dojo._hasResource["agi.storage"]){dojo._hasResource["agi.storage"]=true;dojo.provide("agi.storage");}if(!dojo._hasResource["agi.flash.ufo"]){dojo._hasResource["agi.flash.ufo"]=true;dojo.provide("agi.flash.ufo");UFO={req:["movie","width","height","majorversion","build"],opt:["play","loop","menu","quality","scale","salign","wmode","bgcolor","base","flashvars","devicefont","allowscriptaccess","seamlesstabbing"],optAtt:["id","name","align"],optExc:["swliveconnect"],ximovie:"ufo.swf",xiwidth:"215",xiheight:"138",ua:navigator.userAgent.toLowerCase(),pluginType:"",fv:[0,0],foList:[],create:function(FO,id,_242){if(!UFO.uaHas("w3cdom")||UFO.uaHas("ieMac")){return;}UFO.getFlashVersion();UFO.foList[id]=UFO.updateFO(FO);if(typeof _242=="undefined"||_242!="true"){UFO.createCSS("#"+id,"visibility:hidden;");}UFO.domLoad(id,_242);},updateFO:function(FO){if(typeof FO.xi!="undefined"&&FO.xi=="true"){if(typeof FO.ximovie=="undefined"){FO.ximovie=UFO.ximovie;}if(typeof FO.xiwidth=="undefined"){FO.xiwidth=UFO.xiwidth;}if(typeof FO.xiheight=="undefined"){FO.xiheight=UFO.xiheight;}}FO.mainCalled=false;return FO;},domLoad:function(id,_243){if(typeof _243!="undefined"&&_243=="true"){UFO.main(id);}else{var _244=setInterval(function(){if((document.getElementsByTagName("body")[0]!=null||document.body!=null)&&document.getElementById(id)!=null){UFO.main(id);clearInterval(_244);}},250);if(typeof document.addEventListener!="undefined"){document.addEventListener("DOMContentLoaded",function(){UFO.main(id);clearInterval(_244);},null);}}},main:function(id){var _245=UFO.foList[id];if(_245.mainCalled){return;}UFO.foList[id].mainCalled=true;document.getElementById(id).style.visibility="hidden";if(UFO.hasRequired(id)){if(UFO.hasFlashVersion(parseInt(_245.majorversion,10),parseInt(_245.build,10))){if(typeof _245.setcontainercss!="undefined"&&_245.setcontainercss=="true"){UFO.setContainerCSS(id);}UFO.writeSWF(id);}else{if(_245.xi=="true"&&UFO.hasFlashVersion(6,65)){UFO.createDialog(id);}}}document.getElementById(id).style.visibility="visible";},createCSS:function(_246,_247){var _248=document.getElementsByTagName("head")[0];var _249=UFO.createElement("style");if(!UFO.uaHas("ieWin")){_249.appendChild(document.createTextNode(_246+" {"+_247+"}"));}_249.setAttribute("type","text/css");_249.setAttribute("media","screen");_248.appendChild(_249);if(UFO.uaHas("ieWin")&&document.styleSheets&&document.styleSheets.length>0){var _24a=document.styleSheets[document.styleSheets.length-1];if(typeof _24a.addRule=="object"){_24a.addRule(_246,_247);}}},setContainerCSS:function(id){var _24b=UFO.foList[id];var _24c=/%/.test(_24b.width)?"":"px";var _24d=/%/.test(_24b.height)?"":"px";UFO.createCSS("#"+id,"width:"+_24b.width+_24c+"; height:"+_24b.height+_24d+";");if(_24b.width=="100%"){UFO.createCSS("body","margin-left:0; margin-right:0; padding-left:0; padding-right:0;");}if(_24b.height=="100%"){UFO.createCSS("html","height:100%; overflow:hidden;");UFO.createCSS("body","margin-top:0; margin-bottom:0; padding-top:0; padding-bottom:0; height:100%;");}},createElement:function(el){return (UFO.uaHas("xml")&&typeof document.createElementNS!="undefined")?document.createElementNS("http://www.w3.org/1999/xhtml",el):document.createElement(el);},createObjParam:function(el,_24e,_24f){var _250=UFO.createElement("param");_250.setAttribute("name",_24e);_250.setAttribute("value",_24f);el.appendChild(_250);},uaHas:function(ft){var _251=UFO.ua;switch(ft){case "w3cdom":return (typeof document.getElementById!="undefined"&&typeof document.getElementsByTagName!="undefined"&&(typeof document.createElement!="undefined"||typeof document.createElementNS!="undefined"));case "xml":var _252=document.getElementsByTagName("meta");var _253=_252.length;for(var i=0;i<_253;i++){if(/content-type/i.test(_252[i].getAttribute("http-equiv"))&&/xml/i.test(_252[i].getAttribute("content"))){return true;}}return false;case "ieMac":return /msie/.test(_251)&&!/opera/.test(_251)&&/mac/.test(_251);case "ieWin":return /msie/.test(_251)&&!/opera/.test(_251)&&/win/.test(_251);case "gecko":return /gecko/.test(_251)&&!/applewebkit/.test(_251);case "opera":return /opera/.test(_251);case "safari":return /applewebkit/.test(_251);default:return false;}},getFlashVersion:function(){if(UFO.fv[0]!=0){return;}if(navigator.plugins&&typeof navigator.plugins["Shockwave Flash"]=="object"){UFO.pluginType="npapi";var _254=navigator.plugins["Shockwave Flash"].description;if(typeof _254!="undefined"){_254=_254.replace(/^.*\s+(\S+\s+\S+$)/,"$1");var _255=parseInt(_254.replace(/^(.*)\..*$/,"$1"),10);var _256=/r/.test(_254)?parseInt(_254.replace(/^.*r(.*)$/,"$1"),10):0;UFO.fv=[_255,_256];}}else{if(window.ActiveXObject){UFO.pluginType="ax";try{var _257=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");}catch(e){try{var _257=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");UFO.fv=[6,0];_257.AllowScriptAccess="always";}catch(e){if(UFO.fv[0]==6){return;}}try{var _257=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}catch(e){}}if(typeof _257=="object"){var _254=_257.GetVariable("$version");if(typeof _254!="undefined"){_254=_254.replace(/^\S+\s+(.*)$/,"$1").split(",");UFO.fv=[parseInt(_254[0],10),parseInt(_254[2],10)];}}}}},hasRequired:function(id){var _258=UFO.req.length;for(var i=0;i<_258;i++){if(typeof UFO.foList[id][UFO.req[i]]=="undefined"){return false;}}return true;},hasFlashVersion:function(_259,_25a){return (UFO.fv[0]>_259||(UFO.fv[0]==_259&&UFO.fv[1]>=_25a))?true:false;},writeSWF:function(id){var _25b=UFO.foList[id];var _25c=document.getElementById(id);if(UFO.pluginType=="npapi"){if(UFO.uaHas("gecko")||UFO.uaHas("xml")){while(_25c.hasChildNodes()){_25c.removeChild(_25c.firstChild);}var _25d=UFO.createElement("object");_25d.setAttribute("type","application/x-shockwave-flash");_25d.setAttribute("data",_25b.movie);_25d.setAttribute("width",_25b.width);_25d.setAttribute("height",_25b.height);var _25e=UFO.optAtt.length;for(var i=0;i<_25e;i++){if(typeof _25b[UFO.optAtt[i]]!="undefined"){_25d.setAttribute(UFO.optAtt[i],_25b[UFO.optAtt[i]]);}}var _25f=UFO.opt.concat(UFO.optExc);var _25e=_25f.length;for(var i=0;i<_25e;i++){if(typeof _25b[_25f[i]]!="undefined"){UFO.createObjParam(_25d,_25f[i],_25b[_25f[i]]);}}_25c.appendChild(_25d);}else{var _260="";var _25f=UFO.opt.concat(UFO.optAtt).concat(UFO.optExc);var _25e=_25f.length;for(var i=0;i<_25e;i++){if(typeof _25b[_25f[i]]!="undefined"){_260+=" "+_25f[i]+"=\""+_25b[_25f[i]]+"\"";}}_25c.innerHTML="<embed type=\"application/x-shockwave-flash\" src=\""+_25b.movie+"\" width=\""+_25b.width+"\" height=\""+_25b.height+"\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\""+_260+"></embed>";}}else{if(UFO.pluginType=="ax"){var _261="";var _25e=UFO.optAtt.length;for(var i=0;i<_25e;i++){if(typeof _25b[UFO.optAtt[i]]!="undefined"){_261+=" "+UFO.optAtt[i]+"=\""+_25b[UFO.optAtt[i]]+"\"";}}var _262="";var _25e=UFO.opt.length;for(var i=0;i<_25e;i++){if(typeof _25b[UFO.opt[i]]!="undefined"){_262+="<param name=\""+UFO.opt[i]+"\" value=\""+_25b[UFO.opt[i]]+"\" />";}}var _263=window.location.protocol=="https:"?"https:":"http:";_25c.innerHTML="<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\""+_261+" width=\""+_25b.width+"\" height=\""+_25b.height+"\" codebase=\""+_263+"//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version="+_25b.majorversion+",0,"+_25b.build+",0\"><param name=\"movie\" value=\""+_25b.movie+"\" />"+_262+"</object>";if(_25b["id"]){window[_25b["id"]]=document.getElementById(_25b["id"]);}}}},createDialog:function(id){var _264=UFO.foList[id];UFO.createCSS("html","height:100%; overflow:hidden;");UFO.createCSS("body","height:100%; overflow:hidden;");UFO.createCSS("#xi-con","position:absolute; left:0; top:0; z-index:1000; width:100%; height:100%; background-color:#fff; filter:alpha(opacity:75); opacity:0.75;");UFO.createCSS("#xi-dia","position:absolute; left:50%; top:50%; margin-left: -"+Math.round(parseInt(_264.xiwidth,10)/2)+"px; margin-top: -"+Math.round(parseInt(_264.xiheight,10)/2)+"px; width:"+_264.xiwidth+"px; height:"+_264.xiheight+"px;");var _265=document.getElementsByTagName("body")[0];var _266=UFO.createElement("div");_266.setAttribute("id","xi-con");var _267=UFO.createElement("div");_267.setAttribute("id","xi-dia");_266.appendChild(_267);_265.appendChild(_266);var _268=window.location;if(UFO.uaHas("xml")&&UFO.uaHas("safari")){var _269=document.getElementsByTagName("title")[0].firstChild.nodeValue=document.getElementsByTagName("title")[0].firstChild.nodeValue.slice(0,47)+" - Flash Player Installation";}else{var _269=document.title=document.title.slice(0,47)+" - Flash Player Installation";}var _26a=UFO.pluginType=="ax"?"ActiveX":"PlugIn";var _26b=typeof _264.xiurlcancel!="undefined"?"&xiUrlCancel="+_264.xiurlcancel:"";var _26c=typeof _264.xiurlfailed!="undefined"?"&xiUrlFailed="+_264.xiurlfailed:"";UFO.foList["xi-dia"]={movie:_264.ximovie,width:_264.xiwidth,height:_264.xiheight,majorversion:"6",build:"65",flashvars:"MMredirectURL="+_268+"&MMplayerType="+_26a+"&MMdoctitle="+_269+_26b+_26c};UFO.writeSWF("xi-dia");},expressInstallCallback:function(){var _26d=document.getElementsByTagName("body")[0];var _26e=document.getElementById("xi-con");_26d.removeChild(_26e);UFO.createCSS("body","height:auto; overflow:auto;");UFO.createCSS("html","height:auto; overflow:auto;");},cleanupIELeaks:function(){var _26f=document.getElementsByTagName("object");var _270=_26f.length;for(var i=0;i<_270;i++){_26f[i].style.display="none";for(var x in _26f[i]){if(typeof _26f[i][x]=="function"){_26f[i][x]=null;}}}}};if(typeof window.attachEvent!="undefined"&&UFO.uaHas("ieWin")){window.attachEvent("onunload",UFO.cleanupIELeaks);}}if(!dojo._hasResource["agi.livechat"]){dojo._hasResource["agi.livechat"]=true;dojo.provide("agi.livechat");dojo.declare("agi.livechat.KanaLiveChat",[agi.classes.Identified],{gIChannelID:"Default",gServer:"responselive03.kanaondemand.com",gAttachedData:"<Sample Test>",bEnterOnQueuePage:false,prefillValues:{CUSTOMER_NAME:"",CUSTOMER_QUERY:"",CUSTOMFIELD1:""},agentOnlyValues:{PAGE_URL:"Page URL",PAGE_TITLE:"Page Title",CUSTOMER_ID:"Customer"},HBUsePageContents:false,gUseDynamicStartPage:true,gDSPLauncherPageName:"./responseLiveLauncher.html",gChatWindowWidth:400,gChatWindowHeight:500,gChatWindowProperties:"width="+400+",height="+500+",menubar=no,location=no,directories=no,status=no,toolbar=no,scrollbars=auto,resizable=yes,screenX=10,screenY=10,left=10,top=10",gHTTP:"http://",gHTTPS:"https://",constructor:function(_271){dojo.mixin(this,_271);if(_271.prefill){for(var k in _271.prefill){if(_271.prefill[k]){this.prefillValues[k]=_271.prefill[k];}}}if(_271.agentOnly){for(var k in _271.agentOnly){if(_271.agentOnly[k]){this.agentOnlyValues[k]=_271.agentOnly[k];}}}},startChat:function(){this._startChat(this.gIChannelID,this.gServer,this.gAttachedData,this.prefillValues,this.agentOnlyValues,this.bEnterOnQueuePage);},startChatAndCobrowse:function(){this._startChatAndCobrowse(this.gIChannelID,this.gServer,this.gAttachedData,this.prefillValues,this.agentOnlyValues,this.bEnterOnQueuePage);},startChatWithEscalation:function(){this._startChatWithEscalation(this.gIChannelID,this.gServer,this.gAttachedData,this.prefillValues,this.agentOnlyValues,this.bEnterOnQueuePage);},_startChat:function(_272,_273,_274,_275,_276,_277){var _278="CHAT_ONLY";this.launchChat(_272,_273,_274,_275,_276,_277,_278);},_startChatAndCobrowse:function(_279,_27a,_27b,_27c,_27d,_27e){var _27f="COBROWSE";this.launchChat(_279,_27a,_27b,_27c,_27d,_27e,_27f);},_startChatWithEscalation:function(_280,_281,_282,_283,_284,_285){var _286="COBROWSE_ESCALATION";this.launchChat(_280,_281,_282,_283,_284,_285,_286);},launchChat:function(_287,_288,_289,_28a,_28b,_28c,_28d){this.openInitialWindow();this.finishLaunchingChat(_287,_288,_289,_28a,_28b,_28c,_28d);},finishLaunchingChat:function(_28e,_28f,_290,_291,_292,_293,_294){var _295=this.getChatWindow();this.saveChatParameters(_295,_28e,_28f,_290,_291,_292,_293,_294);if(this.alreadyConavigating()){this.handleRecursiveLaunch(_28e,_28f,_295);return;}if(this.browserDoesNotSupportDOM2()||this.isIEonMac()){this.handleUnsupportedBrowser(_28e,_28f,_295);return;}if(!this.areCookiesEnabled()){this.handleDisabledCookies(_28e,_28f,_295);return;}if(window.location.protocol=="https:"){this.createAndSubmitForm();}else{this.checkSSLEnabledAndSubmit(_28e,_28f);}},createAndSubmitForm:function(){var _296=this.getChatWindow();var _297=this.createForm(_296.serverName,_296);if(typeof (this.gUseDynamicStartPage)!="undefined"&&this.gUseDynamicStartPage){this.addFormField(_297,_296,"DSP_LAUNCHER_PAGE_NAME",this.gDSPLauncherPageName);}this.addFormField(_297,_296,"CHAT_WINDOW_WIDTH",this.gChatWindowWidth);this.addFormField(_297,_296,"CHAT_WINDOW_PROPERTIES",this.gChatWindowProperties);this.addFormField(_297,_296,"ICHANNEL_ID",_296.iChannel);this.addFormField(_297,_296,"ATTACHED_DATA",_296.attachedData);this.addFormField(_297,_296,"ENTER_ON_QUEUE_PAGE",_296.enterOnQueuePage);this.addFormField(_297,_296,"CHAT_LAUNCH_MODE",_296.chatLaunchMode);this.addFormField(_297,_296,"AGENT_VISIBLE_DATA",this.createAgentVisibleDataString(_296.agentOnlyValues));this.addFormField(_297,_296,"REFERRER_URL",window.location.href);var _298=_296.prefillValues;for(prefillItem in _298){this.addFormField(_297,_296,prefillItem,_298[prefillItem]);}_297.submit();},openInitialWindow:function(){var _299=window.open("",this.getChatWindowName(),this.getWinProperties());_299.document.write("<html><body></body></html>");_299.document.close();this.setChatWindow(_299);this.origChatWindow=_299;},createForm:function(_29a,win){var _29b=win.document.createElement("form");_29b.method="post";_29b.target="_self";_29b.action=this.gHTTPS+_29a+"/CONAV/CHAT/ChatPreLaunch";win.document.body.appendChild(_29b);return _29b;},DATA_SEPARATOR:"_HB_",createAgentVisibleDataString:function(_29c){var _29d="";for(agentItem in _29c){if(this.isNonEmptyString(_29d)){_29d+=this.DATA_SEPARATOR;}_29d+=agentItem+this.DATA_SEPARATOR+_29c[agentItem];}return _29d;},addFormField:function(_29e,win,name,_29f){if(!this.isNonEmptyString(name)||!this.isNonEmptyString(_29f)){return;}var _2a0=win.document.createElement("input");_2a0.type="hidden";_2a0.name=name;_2a0.value=_29f;_29e.appendChild(_2a0);},alreadyConavigating:function(){return (typeof (isHipboneSharedWindow)!="undefined");},handleRecursiveLaunch:function(_2a1,_2a2,win){win.location.href=this.gHTTPS+_2a2+"/CONAV/chat/errorpages/recursiveConav.jsp?ICHANNEL_ID="+_2a1;},browserDoesNotSupportDOM2:function(){return (null==document.getElementById);},handleUnsupportedBrowser:function(_2a3,_2a4,win){win.location.href=this.gHTTPS+_2a4+"/CONAV/CHAT/ChatPreLaunch?ICHANNEL_ID="+_2a3;},areCookiesEnabled:function(){var time=(new Date()).getTime();this.setTestCookie(time);if(this.theCookieIsSet(time)){this.removeTestCookie(time);return true;}return false;},setTestCookie:function(_2a5){document.cookie="hbcookietest="+_2a5;},theCookieIsSet:function(_2a6){var _2a7=document.cookie;return (this.isNonEmptyString(_2a7)&&_2a7.indexOf(_2a6)>-1);},removeTestCookie:function(_2a8){document.cookie="hbcookietest="+_2a8+"; expires=Fri, 02-Jan-1970 00:00:00 GMT";},handleDisabledCookies:function(_2a9,_2aa,win){win.location.href=this.gHTTP+_2aa+"/CONAV/chat/errorpages/cookiesDisabled.jsp?ICHANNEL_ID="+_2a9;},checkSSLEnabledAndSubmit:function(_2ab,_2ac){this.createAndSubmitForm();var _2ad=new Image(1,1);_2ad.onerror=dojo.hitch(this,function(){this.handleChatNoSSL(_2ab,_2ac);});_2ad.src=this.gHTTPS+_2ac+"/CONAV/HTD/Default/shared/images/blank.gif?time="+(new Date()).getTime();},handleChatNoSSL:function(_2ae,_2af){var link=this.gHTTP+_2af+"/CONAV/chat/errorpages/sslDisabled.jsp?ICHANNEL_ID="+_2ae;window.open(link,this.getChatWindowName(),this.getWinProperties());this.getChatWindow().close();},saveChatParameters:function(_2b0,_2b1,_2b2,_2b3,_2b4,_2b5,_2b6,_2b7){_2b0.iChannel=_2b1;_2b0.serverName=_2b2;_2b0.attachedData=_2b3;_2b0.prefillValues=_2b4;_2b0.agentOnlyValues=_2b5;_2b0.enterOnQueuePage=_2b6;_2b0.chatLaunchMode=_2b7;},setAOLChatWindow:function(_2b8){this.setChatWindow(_2b8);this.finishLaunchingChat(iChannel,serverName,attachedData,prefillValues,agentOnlyValues,enterOnQueuePage,chatLaunchMode);},gChatLaunchWindow:null,setChatWindow:function(_2b9){window.gChatLaunchWindow=_2b9;},getChatWindow:function(){return window.gChatLaunchWindow;},getChatWindowName:function(){return "_blank";},getWinProperties:function(){return this.gChatWindowProperties;},isAOL:function(){return (navigator.appVersion.toLowerCase().indexOf("aol")!=-1);},isInternetExplorer:function(){return (navigator.userAgent.toLowerCase().indexOf("msie")!=-1);},isMacKana:function(){return (navigator.userAgent.toLowerCase().indexOf("mac")!=-1);},isIEonMac:function(){return (this.isInternetExplorer()&&this.isMacKana());},isNonEmptyString:function(str){if(null==str||str==""){return false;}return true;},goToAfterLaunchUrl:function(){if(typeof (window.gAfterLaunchURL)=="undefined"){return;}window.location.href=window.gAfterLaunchURL;}});}if(!dojo._hasResource["ag.livechat"]){dojo._hasResource["ag.livechat"]=true;dojo.provide("ag.livechat");ag.livechat.url="chat.imgag.com";ag.livechat.channels={"help":"kkNeDc4793859","cardstore":"ND6Q9m5511343"};ag.livechat.getChannel=function(_2ba){return ag.livechat.channels[_2ba];};dojo.declare("ag.livechat.KanaLiveChat",[agi.livechat.KanaLiveChat],{agentOnlyValues:{PAGE_URL:"www.americangreetings.com",PAGE_TITLE:"American Greetings Homepage",CUSTOMER_ID:"American Greetings Customer"}});}if(!dojo._hasResource["ag.controllers.KanaLiveChat"]){dojo._hasResource["ag.controllers.KanaLiveChat"]=true;dojo.provide("ag.controllers.KanaLiveChat");dojo.declare("ag.controllers.KanaLiveChat",[agi.classes.Identified],{constructor:function(){dojo.subscribe("ag/livechat/show",dojo.hitch(this,this.openChat));},openChat:function(data){if(data==null){data={"channel":"help"};}this.startChat(true,data.channel);},startChat:function(_2bb,_2bc){var _2bd={};_2bd.gIChannelID=ag.livechat.getChannel(_2bc);_2bd.gServer=ag.livechat.url;var _2be=agi.cookie.AGICookie.getCookieValue("customer","email");var name=agi.cookie.AGICookie.getCookieValue("customer","name");var _2bf=agi.cookie.AGICookie.getCookieValue("customer","guest");if(_2be&&!_2bf){_2bd.prefill={"CUSTOMER_NAME":name,"CUSTOMER_EMAIL":_2be};}_2bd.agentOnly={"CUSTOMER_ID":_2be,"PAGE_URL":window.location,"PAGE_TITLE":document.title};this.chat=new ag.livechat.KanaLiveChat(_2bd);this.chat.startChatWithEscalation();}});}if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.getObject("date.stamp",true,dojo);dojo.date.stamp.fromISOString=function(_2c0,_2c1){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _2c2=dojo.date.stamp._isoRegExp.exec(_2c0),_2c3=null;if(_2c2){_2c2.shift();if(_2c2[1]){_2c2[1]--;}if(_2c2[6]){_2c2[6]*=1000;}if(_2c1){_2c1=new Date(_2c1);dojo.forEach(dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _2c1["get"+prop]();}),function(_2c4,_2c5){_2c2[_2c5]=_2c2[_2c5]||_2c4;});}_2c3=new Date(_2c2[0]||1970,_2c2[1]||0,_2c2[2]||1,_2c2[3]||0,_2c2[4]||0,_2c2[5]||0,_2c2[6]||0);if(_2c2[0]<100){_2c3.setFullYear(_2c2[0]||1970);}var _2c6=0,_2c7=_2c2[7]&&_2c2[7].charAt(0);if(_2c7!="Z"){_2c6=((_2c2[8]||0)*60)+(Number(_2c2[9])||0);if(_2c7!="-"){_2c6*=-1;}}if(_2c7){_2c6-=_2c3.getTimezoneOffset();}if(_2c6){_2c3.setTime(_2c3.getTime()+_2c6*60000);}}return _2c3;};dojo.date.stamp.toISOString=function(_2c8,_2c9){var _2ca=function(n){return (n<10)?"0"+n:n;};_2c9=_2c9||{};var _2cb=[],_2cc=_2c9.zulu?"getUTC":"get",date="";if(_2c9.selector!="time"){var year=_2c8[_2cc+"FullYear"]();date=["0000".substr((year+"").length)+year,_2ca(_2c8[_2cc+"Month"]()+1),_2ca(_2c8[_2cc+"Date"]())].join("-");}_2cb.push(date);if(_2c9.selector!="date"){var time=[_2ca(_2c8[_2cc+"Hours"]()),_2ca(_2c8[_2cc+"Minutes"]()),_2ca(_2c8[_2cc+"Seconds"]())].join(":");var _2cd=_2c8[_2cc+"Milliseconds"]();if(_2c9.milliseconds){time+="."+(_2cd<100?"0":"")+_2ca(_2cd);}if(_2c9.zulu){time+="Z";}else{if(_2c9.selector!="time"){var _2ce=_2c8.getTimezoneOffset();var _2cf=Math.abs(_2ce);time+=(_2ce>0?"-":"+")+_2ca(Math.floor(_2cf/60))+":"+_2ca(_2cf%60);}}_2cb.push(time);}return _2cb.join("T");};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");new Date("X");dojo.parser=new function(){var d=dojo;function _2d0(_2d1){if(d.isString(_2d1)){return "string";}if(typeof _2d1=="number"){return "number";}if(typeof _2d1=="boolean"){return "boolean";}if(d.isFunction(_2d1)){return "function";}if(d.isArray(_2d1)){return "array";}if(_2d1 instanceof Date){return "date";}if(_2d1 instanceof d._Url){return "url";}return "object";};function _2d2(_2d3,type){switch(type){case "string":return _2d3;case "number":return _2d3.length?Number(_2d3):NaN;case "boolean":return typeof _2d3=="boolean"?_2d3:!(_2d3.toLowerCase()=="false");case "function":if(d.isFunction(_2d3)){_2d3=_2d3.toString();_2d3=d.trim(_2d3.substring(_2d3.indexOf("{")+1,_2d3.length-1));}try{if(_2d3===""||_2d3.search(/[^\w\.]+/i)!=-1){return new Function(_2d3);}else{return d.getObject(_2d3,false)||new Function(_2d3);}}catch(e){return new Function();}case "array":return _2d3?_2d3.split(/\s*,\s*/):[];case "date":switch(_2d3){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_2d3);}case "url":return d.baseUrl+_2d3;default:return d.fromJson(_2d3);}};var _2d4={},_2d5={};d.connect(d,"extend",function(){_2d5={};});function _2d6(cls,_2d7){for(var name in cls){if(name.charAt(0)=="_"){continue;}if(name in _2d4){continue;}_2d7[name]=_2d0(cls[name]);}return _2d7;};function _2d8(_2d9,_2da){var c=_2d5[_2d9];if(!c){var cls=d.getObject(_2d9),_2db=null;if(!cls){return null;}if(!_2da){_2db=_2d6(cls.prototype,{});}c={cls:cls,params:_2db};}else{if(!_2da&&!c.params){c.params=_2d6(c.cls.prototype,{});}}return c;};this._functionFromScript=function(_2dc,_2dd){var _2de="";var _2df="";var _2e0=(_2dc.getAttribute(_2dd+"args")||_2dc.getAttribute("args"));if(_2e0){d.forEach(_2e0.split(/\s*,\s*/),function(part,idx){_2de+="var "+part+" = arguments["+idx+"]; ";});}var _2e1=_2dc.getAttribute("with");if(_2e1&&_2e1.length){d.forEach(_2e1.split(/\s*,\s*/),function(part){_2de+="with("+part+"){";_2df+="}";});}return new Function(_2de+_2dc.innerHTML+_2df);};this.instantiate=function(_2e2,_2e3,args){var _2e4=[],_2e3=_2e3||{};args=args||{};var _2e5=(args.scope||d._scopeName)+"Type",_2e6="data-"+(args.scope||d._scopeName)+"-";d.forEach(_2e2,function(obj){if(!obj){return;}var node,type,_2e7,_2e8,_2e9,_2ea;if(obj.node){node=obj.node;type=obj.type;_2ea=obj.fastpath;_2e7=obj.clsInfo||(type&&_2d8(type,_2ea));_2e8=_2e7&&_2e7.cls;_2e9=obj.scripts;}else{node=obj;type=_2e5 in _2e3?_2e3[_2e5]:node.getAttribute(_2e5);_2e7=type&&_2d8(type);_2e8=_2e7&&_2e7.cls;_2e9=(_2e8&&(_2e8._noScript||_2e8.prototype._noScript)?[]:d.query("> script[type^='dojo/']",node));}if(!_2e7){throw new Error("Could not load class '"+type);}var _2eb={};if(args.defaults){d._mixin(_2eb,args.defaults);}if(obj.inherited){d._mixin(_2eb,obj.inherited);}if(_2ea){var _2ec=node.getAttribute(_2e6+"props");if(_2ec&&_2ec.length){try{_2ec=d.fromJson.call(args.propsThis,"{"+_2ec+"}");d._mixin(_2eb,_2ec);}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+_2ec+"'");}}var _2ed=node.getAttribute(_2e6+"attach-point");if(_2ed){_2eb.dojoAttachPoint=_2ed;}var _2ee=node.getAttribute(_2e6+"attach-event");if(_2ee){_2eb.dojoAttachEvent=_2ee;}dojo.mixin(_2eb,_2e3);}else{var _2ef=node.attributes;for(var name in _2e7.params){var item=name in _2e3?{value:_2e3[name],specified:true}:_2ef.getNamedItem(name);if(!item||(!item.specified&&(!dojo.isIE||name.toLowerCase()!="value"))){continue;}var _2f0=item.value;switch(name){case "class":_2f0="className" in _2e3?_2e3.className:node.className;break;case "style":_2f0="style" in _2e3?_2e3.style:(node.style&&node.style.cssText);}var _2f1=_2e7.params[name];if(typeof _2f0=="string"){_2eb[name]=_2d2(_2f0,_2f1);}else{_2eb[name]=_2f0;}}}var _2f2=[],_2f3=[];d.forEach(_2e9,function(_2f4){node.removeChild(_2f4);var _2f5=(_2f4.getAttribute(_2e6+"event")||_2f4.getAttribute("event")),type=_2f4.getAttribute("type"),nf=d.parser._functionFromScript(_2f4,_2e6);if(_2f5){if(type=="dojo/connect"){_2f2.push({event:_2f5,func:nf});}else{_2eb[_2f5]=nf;}}else{_2f3.push(nf);}});var _2f6=_2e8.markupFactory||_2e8.prototype&&_2e8.prototype.markupFactory;var _2f7=_2f6?_2f6(_2eb,node,_2e8):new _2e8(_2eb,node);_2e4.push(_2f7);var _2f8=(node.getAttribute(_2e6+"id")||node.getAttribute("jsId"));if(_2f8){d.setObject(_2f8,_2f7);}d.forEach(_2f2,function(_2f9){d.connect(_2f7,_2f9.event,null,_2f9.func);});d.forEach(_2f3,function(func){func.call(_2f7);});});if(!_2e3._started){d.forEach(_2e4,function(_2fa){if(!args.noStart&&_2fa&&dojo.isFunction(_2fa.startup)&&!_2fa._started&&(!_2fa.getParent||!_2fa.getParent())){_2fa.startup();}});}return _2e4;};this.parse=function(_2fb,args){var root;if(!args&&_2fb&&_2fb.rootNode){args=_2fb;root=args.rootNode;}else{root=_2fb;}args=args||{};var _2fc=(args.scope||d._scopeName)+"Type",_2fd="data-"+(args.scope||d._scopeName)+"-";function scan(_2fe,list){var _2ff=dojo.clone(_2fe.inherited);dojo.forEach(["dir","lang"],function(name){var val=_2fe.node.getAttribute(name);if(val){_2ff[name]=val;}});var _300=_2fe.clsInfo&&!_2fe.clsInfo.cls.prototype._noScript?_2fe.scripts:null;var _301=(!_2fe.clsInfo||!_2fe.clsInfo.cls.prototype.stopParser)||(args&&args.template);for(var _302=_2fe.node.firstChild;_302;_302=_302.nextSibling){if(_302.nodeType==1){var type,_303=_301&&_302.getAttribute(_2fd+"type");if(_303){type=_303;}else{type=_301&&_302.getAttribute(_2fc);}var _304=_303==type;if(type){var _305={"type":type,fastpath:_304,clsInfo:_2d8(type,_304),node:_302,scripts:[],inherited:_2ff};list.push(_305);scan(_305,list);}else{if(_300&&_302.nodeName.toLowerCase()=="script"){type=_302.getAttribute("type");if(type&&/^dojo\/\w/i.test(type)){_300.push(_302);}}else{if(_301){scan({node:_302,inherited:_2ff},list);}}}}}};var list=[];scan({node:root?dojo.byId(root):dojo.body(),inherited:(args&&args.inherited)||{dir:dojo._isBodyLtr()?"ltr":"rtl"}},list);var _306=args&&args.template?{template:true}:null;return this.instantiate(list,_306,args);};}();(function(){var _307=function(){if(dojo.config.parseOnLoad){dojo.parser.parse();}};if(dojo.getObject("dijit.wai.onload")===dojo._loaders[0]){dojo._loaders.splice(1,0,_307);}else{dojo._loaders.unshift(_307);}})();}if(!dojo._hasResource["dojo.data.util.sorter"]){dojo._hasResource["dojo.data.util.sorter"]=true;dojo.provide("dojo.data.util.sorter");dojo.getObject("data.util.sorter",true,dojo);dojo.data.util.sorter.basicComparator=function(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};dojo.data.util.sorter.createSortFunction=function(_308,_309){var _30a=[];function _30b(attr,dir,comp,s){return function(_30c,_30d){var a=s.getValue(_30c,attr);var b=s.getValue(_30d,attr);return dir*comp(a,b);};};var _30e;var map=_309.comparatorMap;var bc=dojo.data.util.sorter.basicComparator;for(var i=0;i<_308.length;i++){_30e=_308[i];var attr=_30e.attribute;if(attr){var dir=(_30e.descending)?-1:1;var comp=bc;if(map){if(typeof attr!=="string"&&("toString" in attr)){attr=attr.toString();}comp=map[attr]||bc;}_30a.push(_30b(attr,dir,comp,_309));}}return function(rowA,rowB){var i=0;while(i<_30a.length){var ret=_30a[i++](rowA,rowB);if(ret!==0){return ret;}}return 0;};};}if(!dojo._hasResource["dojo.data.util.simpleFetch"]){dojo._hasResource["dojo.data.util.simpleFetch"]=true;dojo.provide("dojo.data.util.simpleFetch");dojo.getObject("data.util.simpleFetch",true,dojo);dojo.data.util.simpleFetch.fetch=function(_30f){_30f=_30f||{};if(!_30f.store){_30f.store=this;}var self=this;var _310=function(_311,_312){if(_312.onError){var _313=_312.scope||dojo.global;_312.onError.call(_313,_311,_312);}};var _314=function(_315,_316){var _317=_316.abort||null;var _318=false;var _319=_316.start?_316.start:0;var _31a=(_316.count&&(_316.count!==Infinity))?(_319+_316.count):_315.length;_316.abort=function(){_318=true;if(_317){_317.call(_316);}};var _31b=_316.scope||dojo.global;if(!_316.store){_316.store=self;}if(_316.onBegin){_316.onBegin.call(_31b,_315.length,_316);}if(_316.sort){_315.sort(dojo.data.util.sorter.createSortFunction(_316.sort,self));}if(_316.onItem){for(var i=_319;(i<_315.length)&&(i<_31a);++i){var item=_315[i];if(!_318){_316.onItem.call(_31b,item,_316);}}}if(_316.onComplete&&!_318){var _31c=null;if(!_316.onItem){_31c=_315.slice(_319,_31a);}_316.onComplete.call(_31b,_31c,_316);}};this._fetchItems(_30f,_314,_310);return _30f;};}if(!dojo._hasResource["dojo.data.util.filter"]){dojo._hasResource["dojo.data.util.filter"]=true;dojo.provide("dojo.data.util.filter");dojo.getObject("data.util.filter",true,dojo);dojo.data.util.filter.patternToRegExp=function(_31d,_31e){var rxp="^";var c=null;for(var i=0;i<_31d.length;i++){c=_31d.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_31d.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_31e){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}};}if(!dojo._hasResource["dijit._CssStateMixin"]){dojo._hasResource["dijit._CssStateMixin"]=true;dojo.provide("dijit._CssStateMixin");dojo.declare("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);dojo.forEach(["onmouseenter","onmouseleave","onmousedown"],function(e){this.connect(this.domNode,e,"_cssMouseEvent");},this);dojo.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active"],function(attr){this.watch(attr,dojo.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._setStateClass();},_cssMouseEvent:function(_31f){if(!this.disabled){switch(_31f.type){case "mouseenter":case "mouseover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseleave":case "mouseout":this._set("hovering",false);this._set("active",false);break;case "mousedown":this._set("active",true);this._mouseDown=true;var _320=this.connect(dojo.body(),"onmouseup",function(){this._mouseDown=false;this._set("active",false);this.disconnect(_320);});break;}}},_setStateClass:function(){var _321=this.baseClass.split(" ");function _322(_323){_321=_321.concat(dojo.map(_321,function(c){return c+_323;}),"dijit"+_323);};if(!this.isLeftToRight()){_322("Rtl");}if(this.checked){_322("Checked");}if(this.state){_322(this.state);}if(this.selected){_322("Selected");}if(this.disabled){_322("Disabled");}else{if(this.readOnly){_322("ReadOnly");}else{if(this.active){_322("Active");}else{if(this.hovering){_322("Hover");}}}}if(this._focused){_322("Focused");}var tn=this.stateNode||this.domNode,_324={};dojo.forEach(tn.className.split(" "),function(c){_324[c]=true;});if("_stateClasses" in this){dojo.forEach(this._stateClasses,function(c){delete _324[c];});}dojo.forEach(_321,function(c){_324[c]=true;});var _325=[];for(var c in _324){_325.push(c);}tn.className=_325.join(" ");this._stateClasses=_321;},_trackMouseState:function(node,_326){var _327=false,_328=false,_329=false;var self=this,cn=dojo.hitch(this,"connect",node);function _32a(){var _32b=("disabled" in self&&self.disabled)||("readonly" in self&&self.readonly);dojo.toggleClass(node,_326+"Hover",_327&&!_328&&!_32b);dojo.toggleClass(node,_326+"Active",_328&&!_32b);dojo.toggleClass(node,_326+"Focused",_329&&!_32b);};cn("onmouseenter",function(){_327=true;_32a();});cn("onmouseleave",function(){_327=false;_328=false;_32a();});cn("onmousedown",function(){_328=true;_32a();});cn("onmouseup",function(){_328=false;_32a();});cn("onfocus",function(){_329=true;_32a();});cn("onblur",function(){_329=false;_32a();});this.watch("disabled",_32a);this.watch("readOnly",_32a);}});}if(!dojo._hasResource["dojo.Stateful"]){dojo._hasResource["dojo.Stateful"]=true;dojo.provide("dojo.Stateful");dojo.declare("dojo.Stateful",null,{postscript:function(_32c){if(_32c){dojo.mixin(this,_32c);}},get:function(name){return this[name];},set:function(name,_32d){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _32e=this[name];this[name]=_32d;if(this._watchCallbacks){this._watchCallbacks(name,_32e,_32d);}return this;},watch:function(name,_32f){var _330=this._watchCallbacks;if(!_330){var self=this;_330=this._watchCallbacks=function(name,_331,_332,_333){var _334=function(_335){if(_335){_335=_335.slice();for(var i=0,l=_335.length;i<l;i++){try{_335[i].call(self,name,_331,_332);}catch(e){}}}};_334(_330["_"+name]);if(!_333){_334(_330["*"]);}};}if(!_32f&&typeof name==="function"){_32f=name;name="*";}else{name="_"+name;}var _336=_330[name];if(typeof _336!=="object"){_336=_330[name]=[];}_336.push(_32f);return {unwatch:function(){_336.splice(dojo.indexOf(_336,_32f),1);}};}});}if(!dojo._hasResource["dijit._WidgetBase"]){dojo._hasResource["dijit._WidgetBase"]=true;dojo.provide("dijit._WidgetBase");(function(){dojo.declare("dijit._WidgetBase",dojo.Stateful,{id:"",lang:"",dir:"","class":"",style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")).toString(),postscript:function(_337,_338){this.create(_337,_338);},create:function(_339,_33a){this.srcNodeRef=dojo.byId(_33a);this._connects=[];this._subscribes=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_339){this.params=_339;dojo._mixin(this,_339);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _33b=this.srcNodeRef;if(_33b&&_33b.parentNode&&this.domNode!==_33b){_33b.parentNode.replaceChild(this.domNode,_33b);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _33c=function(attr,_33d){if((_33d.params&&attr in _33d.params)||_33d[attr]){_33d.set(attr,_33d[attr]);}};for(var attr in this.attributeMap){_33c(attr,this);}dojo.forEach(this._getSetterAttributes(),function(a){if(!(a in this.attributeMap)){_33c(a,this);}},this);},_getSetterAttributes:function(){var ctor=this.constructor;if(!ctor._setterAttrs){var r=(ctor._setterAttrs=[]),_33e,_33f=ctor.prototype;for(var _340 in _33f){if(dojo.isFunction(_33f[_340])&&(_33e=_340.match(/^_set([a-zA-Z]*)Attr$/))&&_33e[1]){r.push(_33e[1].charAt(0).toLowerCase()+_33e[1].substr(1));}}}return ctor._setterAttrs;},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||dojo.create("div");}if(this.baseClass){var _341=this.baseClass.split(" ");if(!this.isLeftToRight()){_341=_341.concat(dojo.map(_341,function(name){return name+"Rtl";}));}dojo.addClass(this.domNode,_341);}},postCreate:function(){},startup:function(){this._started=true;},destroyRecursive:function(_342){this._beingDestroyed=true;this.destroyDescendants(_342);this.destroy(_342);},destroy:function(_343){this._beingDestroyed=true;this.uninitialize();var d=dojo,dfe=d.forEach,dun=d.unsubscribe;dfe(this._connects,function(_344){dfe(_344,d.disconnect);});dfe(this._subscribes,function(_345){dun(_345);});dfe(this._supportingWidgets||[],function(w){if(w.destroyRecursive){w.destroyRecursive();}else{if(w.destroy){w.destroy();}}});this.destroyRendering(_343);dijit.registry.remove(this.id);this._destroyed=true;},destroyRendering:function(_346){if(this.bgIframe){this.bgIframe.destroy(_346);delete this.bgIframe;}if(this.domNode){if(_346){dojo.removeAttr(this.domNode,"widgetId");}else{dojo.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_346){dojo.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_347){dojo.forEach(this.getChildren(),function(_348){if(_348.destroyRecursive){_348.destroyRecursive(_347);}});},uninitialize:function(){return false;},_setClassAttr:function(_349){var _34a=this[this.attributeMap["class"]||"domNode"];dojo.replaceClass(_34a,_349,this["class"]);this._set("class",_349);},_setStyleAttr:function(_34b){var _34c=this[this.attributeMap.style||"domNode"];if(dojo.isObject(_34b)){dojo.style(_34c,_34b);}else{if(_34c.style.cssText){_34c.style.cssText+="; "+_34b;}else{_34c.style.cssText=_34b;}}this._set("style",_34b);},_attrToDom:function(attr,_34d){var _34e=this.attributeMap[attr];dojo.forEach(dojo.isArray(_34e)?_34e:[_34e],function(_34f){var _350=this[_34f.node||_34f||"domNode"];var type=_34f.type||"attribute";switch(type){case "attribute":if(dojo.isFunction(_34d)){_34d=dojo.hitch(this,_34d);}var _351=_34f.attribute?_34f.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);dojo.attr(_350,_351,_34d);break;case "innerText":_350.innerHTML="";_350.appendChild(dojo.doc.createTextNode(_34d));break;case "innerHTML":_350.innerHTML=_34d;break;case "class":dojo.replaceClass(_350,_34d,this[attr]);break;}},this);},get:function(name){var _352=this._getAttrNames(name);return this[_352.g]?this[_352.g]():this[name];},set:function(name,_353){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _354=this._getAttrNames(name);if(this[_354.s]){var _355=this[_354.s].apply(this,Array.prototype.slice.call(arguments,1));}else{if(name in this.attributeMap){this._attrToDom(name,_353);}this._set(name,_353);}return _355||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});},_set:function(name,_356){var _357=this[name];this[name]=_356;if(this._watchCallbacks&&this._created&&_356!==_357){this._watchCallbacks(name,_357,_356);}},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){return this.containerNode?dojo.query("[widgetId]",this.containerNode).map(dijit.byNode):[];},getChildren:function(){return this.containerNode?dijit.findWidgets(this.containerNode):[];},connect:function(obj,_358,_359){var _35a=[dojo._connect(obj,_358,this,_359)];this._connects.push(_35a);return _35a;},disconnect:function(_35b){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_35b){dojo.forEach(_35b,dojo.disconnect);this._connects.splice(i,1);return;}}},subscribe:function(_35c,_35d){var _35e=dojo.subscribe(_35c,this,_35d);this._subscribes.push(_35e);return _35e;},unsubscribe:function(_35f){for(var i=0;i<this._subscribes.length;i++){if(this._subscribes[i]==_35f){dojo.unsubscribe(_35f);this._subscribes.splice(i,1);return;}}},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):dojo._isBodyLtr();},placeAt:function(_360,_361){if(_360.declaredClass&&_360.addChild){_360.addChild(this,_361);}else{dojo.place(this.domNode,_360,_361);}return this;}});})();}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return dijit.getBookmark().isCollapsed;},getBookmark:function(){var bm,rg,tg,sel=dojo.doc.selection,cf=dijit._curFocus;if(dojo.global.getSelection){sel=dojo.global.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{}}return bm;},moveToBookmark:function(_362){var _363=dojo.doc,mark=_362.mark;if(mark){if(dojo.global.getSelection){var sel=dojo.global.getSelection();if(sel&&sel.removeAllRanges){if(mark.pRange){var r=mark;var n=r.node;n.selectionStart=r.start;n.selectionEnd=r.end;}else{sel.removeAllRanges();sel.addRange(mark);}}else{}}else{if(_363.selection&&mark){var rg;if(mark.pRange){rg=mark.range;}else{if(dojo.isArray(mark)){rg=_363.body.createControlRange();dojo.forEach(mark,function(n){rg.addElement(n);});}else{rg=_363.body.createTextRange();rg.moveToBookmark(mark);}}rg.select();}}}},getFocus:function(menu,_364){var node=!dijit._curFocus||(menu&&dojo.isDescendant(dijit._curFocus,menu.domNode))?dijit._prevFocus:dijit._curFocus;return {node:node,bookmark:(node==dijit._curFocus)&&dojo.withGlobal(_364||dojo.global,dijit.getBookmark),openedForWindow:_364};},focus:function(_365){if(!_365){return;}var node="node" in _365?_365.node:_365,_366=_365.bookmark,_367=_365.openedForWindow,_368=_366?_366.isCollapsed:false;if(node){var _369=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_369&&_369.focus){try{_369.focus();}catch(e){}}dijit._onFocusNode(node);}if(_366&&dojo.withGlobal(_367||dojo.global,dijit.isCollapsed)&&!_368){if(_367){_367.focus();}try{dojo.withGlobal(_367||dojo.global,dijit.moveToBookmark,null,[_366]);}catch(e2){}}},_activeStack:[],registerIframe:function(_36a){return dijit.registerWin(_36a.contentWindow,_36a);},unregisterIframe:function(_36b){dijit.unregisterWin(_36b);},registerWin:function(_36c,_36d){var _36e=function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);if(dojo.isIE&&evt&&evt.srcElement&&evt.srcElement.parentNode==null){return;}dijit._onTouchNode(_36d||evt.target||evt.srcElement,"mouse");};var doc=dojo.isIE?_36c.document.documentElement:_36c.document;if(doc){if(dojo.isIE){_36c.document.body.attachEvent("onmousedown",_36e);var _36f=function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"&&dijit.isTabNavigable(evt.srcElement)){dijit._onFocusNode(_36d||evt.srcElement);}else{dijit._onTouchNode(_36d||evt.srcElement);}};doc.attachEvent("onactivate",_36f);var _370=function(evt){dijit._onBlurNode(_36d||evt.srcElement);};doc.attachEvent("ondeactivate",_370);return function(){_36c.document.detachEvent("onmousedown",_36e);doc.detachEvent("onactivate",_36f);doc.detachEvent("ondeactivate",_370);doc=null;};}else{doc.body.addEventListener("mousedown",_36e,true);var _371=function(evt){dijit._onFocusNode(_36d||evt.target);};doc.addEventListener("focus",_371,true);var _372=function(evt){dijit._onBlurNode(_36d||evt.target);};doc.addEventListener("blur",_372,true);return function(){doc.body.removeEventListener("mousedown",_36e,true);doc.removeEventListener("focus",_371,true);doc.removeEventListener("blur",_372,true);doc=null;};}}},unregisterWin:function(_373){_373&&_373();},_onBlurNode:function(node){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function(node,by){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _374=[];try{while(node){var _375=dojo.attr(node,"dijitPopupParent");if(_375){node=dijit.byId(_375).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===dojo.body()){break;}node=dojo.window.get(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_376=id&&dijit.byId(id);if(_376&&!(by=="mouse"&&_376.get("disabled"))){_374.unshift(id);}node=node.parentNode;}}}}catch(e){}dijit._setStack(_374,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}dijit._onTouchNode(node);if(node==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=node;dojo.publish("focusNode",[node]);},_setStack:function(_377,by){var _378=dijit._activeStack;dijit._activeStack=_377;for(var _379=0;_379<Math.min(_378.length,_377.length);_379++){if(_378[_379]!=_377[_379]){break;}}var _37a;for(var i=_378.length-1;i>=_379;i--){_37a=dijit.byId(_378[i]);if(_37a){_37a._focused=false;_37a.set("focused",false);_37a._hasBeenBlurred=true;if(_37a._onBlur){_37a._onBlur(by);}dojo.publish("widgetBlur",[_37a,by]);}}for(i=_379;i<_377.length;i++){_37a=dijit.byId(_377[i]);if(_37a){_37a._focused=true;_37a.set("focused",true);if(_37a._onFocus){_37a._onFocus(by);}dojo.publish("widgetFocus",[_37a,by]);}}}});dojo.addOnLoad(function(){var _37b=dijit.registerWin(window);if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit.unregisterWin(_37b);_37b=null;});}});}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(_37c){this.pairs=[];this.returnWrappers=_37c||false;};dojo.extend(dojo.AdapterRegistry,{register:function(name,_37d,wrap,_37e,_37f){this.pairs[((_37f)?"unshift":"push")]([name,_37d,wrap,_37e]);},match:function(){for(var i=0;i<this.pairs.length;i++){var pair=this.pairs[i];if(pair[1].apply(this,arguments)){if((pair[3])||(this.returnWrappers)){return pair[2];}else{return pair[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(name){for(var i=0;i<this.pairs.length;i++){var pair=this.pairs[i];if(pair[0]==name){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){return dojo.window.getBox();};dijit.placeOnScreen=function(node,pos,_380,_381){var _382=dojo.map(_380,function(_383){var c={corner:_383,pos:{x:pos.x,y:pos.y}};if(_381){c.pos.x+=_383.charAt(1)=="L"?_381.x:-_381.x;c.pos.y+=_383.charAt(0)=="T"?_381.y:-_381.y;}return c;});return dijit._place(node,_382);};dijit._place=function(node,_384,_385,_386){var view=dojo.window.getBox();if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(node);}var best=null;dojo.some(_384,function(_387){var _388=_387.corner;var pos=_387.pos;var _389=0;var _38a={w:_388.charAt(1)=="L"?(view.l+view.w)-pos.x:pos.x-view.l,h:_388.charAt(1)=="T"?(view.t+view.h)-pos.y:pos.y-view.t};if(_385){var res=_385(node,_387.aroundCorner,_388,_38a,_386);_389=typeof res=="undefined"?0:res;}var _38b=node.style;var _38c=_38b.display;var _38d=_38b.visibility;_38b.visibility="hidden";_38b.display="";var mb=dojo.marginBox(node);_38b.display=_38c;_38b.visibility=_38d;var _38e=Math.max(view.l,_388.charAt(1)=="L"?pos.x:(pos.x-mb.w)),_38f=Math.max(view.t,_388.charAt(0)=="T"?pos.y:(pos.y-mb.h)),endX=Math.min(view.l+view.w,_388.charAt(1)=="L"?(_38e+mb.w):pos.x),endY=Math.min(view.t+view.h,_388.charAt(0)=="T"?(_38f+mb.h):pos.y),_390=endX-_38e,_391=endY-_38f;_389+=(mb.w-_390)+(mb.h-_391);if(best==null||_389<best.overflow){best={corner:_388,aroundCorner:_387.aroundCorner,x:_38e,y:_38f,w:_390,h:_391,overflow:_389,spaceAvailable:_38a};}return !_389;});if(best.overflow&&_385){_385(node,best.aroundCorner,best.corner,best.spaceAvailable,_386);}var l=dojo._isBodyLtr(),s=node.style;s.top=best.y+"px";s[l?"left":"right"]=(l?best.x:view.w-best.x-best.w)+"px";return best;};dijit.placeOnScreenAroundNode=function(node,_392,_393,_394){_392=dojo.byId(_392);var _395=dojo.position(_392,true);return dijit._placeOnScreenAroundRect(node,_395.x,_395.y,_395.w,_395.h,_393,_394);};dijit.placeOnScreenAroundRectangle=function(node,_396,_397,_398){return dijit._placeOnScreenAroundRect(node,_396.x,_396.y,_396.width,_396.height,_397,_398);};dijit._placeOnScreenAroundRect=function(node,x,y,_399,_39a,_39b,_39c){var _39d=[];for(var _39e in _39b){_39d.push({aroundCorner:_39e,corner:_39b[_39e],pos:{x:x+(_39e.charAt(1)=="L"?0:_399),y:y+(_39e.charAt(0)=="T"?0:_39a)}});}return dijit._place(node,_39d,_39c,{w:_399,h:_39a});};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(node,_39f,_3a0,_3a1){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);};dijit.getPopupAroundAlignment=function(_3a2,_3a3){var _3a4={};dojo.forEach(_3a2,function(pos){switch(pos){case "after":_3a4[_3a3?"BR":"BL"]=_3a3?"BL":"BR";break;case "before":_3a4[_3a3?"BL":"BR"]=_3a3?"BR":"BL";break;case "below-alt":_3a3=!_3a3;case "below":_3a4[_3a3?"BL":"BR"]=_3a3?"TL":"TR";_3a4[_3a3?"BR":"BL"]=_3a3?"TR":"TL";break;case "above-alt":_3a3=!_3a3;case "above":default:_3a4[_3a3?"TL":"TR"]=_3a3?"BL":"BR";_3a4[_3a3?"TR":"TL"]=_3a3?"BR":"BL";break;}});return _3a4;};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){return dojo.window.get(doc);};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup={_stack:[],_beginZIndex:1000,_idGen:1,_createWrapper:function(_3a5){var _3a6=_3a5.declaredClass?_3a5._popupWrapper:(dojo.hasClass(_3a5.parentNode,"dijitPopup")&&_3a5.parentNode),node=_3a5.domNode||_3a5;if(!_3a6){_3a6=dojo.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},dojo.body());_3a6.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";if(_3a5.declaredClass){_3a5._popupWrapper=_3a6;dojo.connect(_3a5,"destroy",function(){dojo.destroy(_3a6);delete _3a5._popupWrapper;});}}return _3a6;},moveOffScreen:function(_3a7){var _3a8=this._createWrapper(_3a7);dojo.style(_3a8,{visibility:"hidden",top:"-9999px",display:""});},hide:function(_3a9){var _3aa=this._createWrapper(_3a9);dojo.style(_3aa,"display","none");},getTopPopup:function(){var _3ab=this._stack;for(var pi=_3ab.length-1;pi>0&&_3ab[pi].parent===_3ab[pi-1].widget;pi--){}return _3ab[pi];},open:function(args){var _3ac=this._stack,_3ad=args.popup,_3ae=args.orient||((args.parent?args.parent.isLeftToRight():dojo._isBodyLtr())?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"}),_3af=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_3ac.length&&(!args.parent||!dojo.isDescendant(args.parent.domNode,_3ac[_3ac.length-1].widget.domNode))){dijit.popup.close(_3ac[_3ac.length-1].widget);}var _3b0=this._createWrapper(_3ad);dojo.attr(_3b0,{id:id,style:{zIndex:this._beginZIndex+_3ac.length},"class":"dijitPopup "+(_3ad.baseClass||_3ad["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(dojo.isIE||dojo.isMoz){if(!_3ad.bgIframe){_3ad.bgIframe=new dijit.BackgroundIframe(_3b0);}}var best=_3af?dijit.placeOnScreenAroundElement(_3b0,_3af,_3ae,_3ad.orient?dojo.hitch(_3ad,"orient"):null):dijit.placeOnScreen(_3b0,args,_3ae=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding);_3b0.style.display="";_3b0.style.visibility="visible";_3ad.domNode.style.visibility="visible";var _3b1=[];_3b1.push(dojo.connect(_3b0,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&args.onCancel){dojo.stopEvent(evt);args.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _3b2=this.getTopPopup();if(_3b2&&_3b2.onCancel){_3b2.onCancel();}}}}));if(_3ad.onCancel){_3b1.push(dojo.connect(_3ad,"onCancel",args.onCancel));}_3b1.push(dojo.connect(_3ad,_3ad.onExecute?"onExecute":"onChange",this,function(){var _3b3=this.getTopPopup();if(_3b3&&_3b3.onExecute){_3b3.onExecute();}}));_3ac.push({widget:_3ad,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_3b1});if(_3ad.onOpen){_3ad.onOpen(best);}return best;},close:function(_3b4){var _3b5=this._stack;while((_3b4&&dojo.some(_3b5,function(elem){return elem.widget==_3b4;}))||(!_3b4&&_3b5.length)){var top=_3b5.pop(),_3b6=top.widget,_3b7=top.onClose;if(_3b6.onClose){_3b6.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(_3b6&&_3b6.domNode){this.hide(_3b6);}if(_3b7){_3b7();}}}};dijit._frames=new function(){var _3b8=[];this.pop=function(){var _3b9;if(_3b8.length){_3b9=_3b8.pop();_3b9.style.display="";}else{if(dojo.isIE<9){var burl=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var html="<iframe src='"+burl+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_3b9=dojo.doc.createElement(html);}else{_3b9=dojo.create("iframe");_3b9.src="javascript:\"\"";_3b9.className="dijitBackgroundIframe";dojo.style(_3b9,"opacity",0.1);}_3b9.tabIndex=-1;dijit.setWaiRole(_3b9,"presentation");}return _3b9;};this.push=function(_3ba){_3ba.style.display="none";_3b8.push(_3ba);};}();dijit.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(dojo.isIE||dojo.isMoz){var _3bb=(this.iframe=dijit._frames.pop());node.appendChild(_3bb);if(dojo.isIE<7||dojo.isQuirks){this.resize(node);this._conn=dojo.connect(node,"onresize",this,function(){this.resize(node);});}else{dojo.style(_3bb,{width:"100%",height:"100%"});}}};dojo.extend(dijit.BackgroundIframe,{resize:function(node){if(this.iframe){dojo.style(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){dojo.disconnect(this._conn);this._conn=null;}if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(node,pos){dojo.window.scrollIntoView(node,pos);};}if(!dojo._hasResource["dojo.uacss"]){dojo._hasResource["dojo.uacss"]=true;dojo.provide("dojo.uacss");(function(){var d=dojo,html=d.doc.documentElement,ie=d.isIE,_3bc=d.isOpera,maj=Math.floor,ff=d.isFF,_3bd=d.boxModel.replace(/-/,""),_3be={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_ie8:maj(ie)==8,dj_ie9:maj(ie)==9,dj_quirks:d.isQuirks,dj_iequirks:ie&&d.isQuirks,dj_opera:_3bc,dj_khtml:d.isKhtml,dj_webkit:d.isWebKit,dj_safari:d.isSafari,dj_chrome:d.isChrome,dj_gecko:d.isMozilla,dj_ff3:maj(ff)==3};_3be["dj_"+_3bd]=true;var _3bf="";for(var clz in _3be){if(_3be[clz]){_3bf+=clz+" ";}}html.className=d.trim(html.className+" "+_3bf);dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){var _3c0="dj_rtl dijitRtl "+_3bf.replace(/ /g,"-rtl ");html.className=d.trim(html.className+" "+_3c0);}});})();}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_3c1,node,_3c2,obj,_3c3,_3c4,_3c5){if(obj!=this._obj){this.stop();this._initialDelay=_3c4||500;this._subsequentDelay=_3c3||0.9;this._minDelay=_3c5||10;this._obj=obj;this._evt=evt;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_3c1,_3c2);this._fireEventAndReload();this._evt=dojo.mixin({faux:true},evt);}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_3c6,_3c7,_3c8,_3c9,_3ca,_3cb){if(_3c6.keyCode){_3c6.charOrCode=_3c6.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_3c6.charCode){_3c6.charOrCode=String.fromCharCode(_3c6.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [dojo.connect(node,"onkeypress",this,function(evt){if(evt.charOrCode==_3c6.charOrCode&&(_3c6.ctrlKey===undefined||_3c6.ctrlKey==evt.ctrlKey)&&(_3c6.altKey===undefined||_3c6.altKey==evt.altKey)&&(_3c6.metaKey===undefined||_3c6.metaKey==(evt.metaKey||false))&&(_3c6.shiftKey===undefined||_3c6.shiftKey==evt.shiftKey)){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_3c7,node,_3c8,_3c6,_3c9,_3ca,_3cb);}else{if(dijit.typematic._obj==_3c6){dijit.typematic.stop();}}}),dojo.connect(node,"onkeyup",this,function(evt){if(dijit.typematic._obj==_3c6){dijit.typematic.stop();}})];},addMouseListener:function(node,_3cc,_3cd,_3ce,_3cf,_3d0){var dc=dojo.connect;return [dc(node,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_3cc,node,_3cd,node,_3ce,_3cf,_3d0);}),dc(node,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mousemove",this,function(evt){evt.preventDefault();}),dc(node,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_3cc,node,_3cd,node,_3ce,_3cf,_3d0);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function(_3d1,_3d2,_3d3,_3d4,_3d5,_3d6,_3d7,_3d8){return this.addKeyListener(_3d2,_3d3,_3d4,_3d5,_3d6,_3d7,_3d8).concat(this.addMouseListener(_3d1,_3d4,_3d5,_3d6,_3d7,_3d8));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var div=dojo.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+"\");"}},dojo.body());var cs=dojo.getComputedStyle(div);if(cs){var _3d9=cs.backgroundImage;var _3da=(cs.borderTopColor==cs.borderRightColor)||(_3d9!=null&&(_3d9=="none"||_3d9=="url(invalid-url:)"));dojo[_3da?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){div.outerHTML="";}else{dojo.body().removeChild(div);}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{hasWaiRole:function(elem,role){var _3db=this.getWaiRole(elem);return role?(_3db.indexOf(role)>-1):(_3db.length>0);},getWaiRole:function(elem){return dojo.trim((dojo.attr(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){dojo.attr(elem,"role",role);},removeWaiRole:function(elem,role){var _3dc=dojo.attr(elem,"role");if(!_3dc){return;}if(role){var t=dojo.trim((" "+_3dc+" ").replace(" "+role+" "," "));dojo.attr(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_3dd){return elem.hasAttribute?elem.hasAttribute("aria-"+_3dd):!!elem.getAttribute("aria-"+_3dd);},getWaiState:function(elem,_3de){return elem.getAttribute("aria-"+_3de)||"";},setWaiState:function(elem,_3df,_3e0){elem.setAttribute("aria-"+_3df,_3e0);},removeWaiState:function(elem,_3e1){elem.removeAttribute("aria-"+_3e1);}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.connect(dojo,"_connect",function(_3e2,_3e3){if(_3e2&&dojo.isFunction(_3e2._onConnect)){_3e2._onConnect(_3e3);}});dijit._connectOnUseEventHandler=function(_3e4){};dijit._lastKeyDownNode=null;if(dojo.isIE){(function(){var _3e5=function(evt){dijit._lastKeyDownNode=evt.srcElement;};dojo.doc.attachEvent("onkeydown",_3e5);dojo.addOnWindowUnload(function(){dojo.doc.detachEvent("onkeydown",_3e5);});})();}else{dojo.doc.addEventListener("keydown",function(evt){dijit._lastKeyDownNode=evt.target;},true);}(function(){dojo.declare("dijit._Widget",dijit._WidgetBase,{_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,create:function(_3e6,_3e7){this._deferredConnects=dojo.clone(this._deferredConnects);for(var attr in this.attributeMap){delete this._deferredConnects[attr];}for(attr in this._deferredConnects){if(this[attr]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[attr];}}this.inherited(arguments);if(this.domNode){for(attr in this.params){this._onConnect(attr);}}},_onConnect:function(_3e8){if(_3e8 in this._deferredConnects){var _3e9=this[this._deferredConnects[_3e8]||"domNode"];this.connect(_3e9,_3e8.toLowerCase(),_3e8);delete this._deferredConnects[_3e8];}},focused:false,isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none");},onFocus:function(){},onBlur:function(){},_onFocus:function(e){this.onFocus();},_onBlur:function(){this.onBlur();},setAttribute:function(attr,_3ea){dojo.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_3ea);},attr:function(name,_3eb){if(dojo.config.isDebug){var _3ec=arguments.callee._ach||(arguments.callee._ach={}),_3ed=(arguments.callee.caller||"unknown caller").toString();if(!_3ec[_3ed]){dojo.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+_3ed,"","2.0");_3ec[_3ed]=true;}}var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},nodesWithKeyClick:["input","button"],connect:function(obj,_3ee,_3ef){var d=dojo,dc=d._connect,_3f0=this.inherited(arguments,[obj,_3ee=="ondijitclick"?"onclick":_3ee,_3ef]);if(_3ee=="ondijitclick"){if(d.indexOf(this.nodesWithKeyClick,obj.nodeName.toLowerCase())==-1){var m=d.hitch(this,_3ef);_3f0.push(dc(obj,"onkeydown",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=e.target;if(!("openDropDown" in this&&obj==this._buttonNode)){e.preventDefault();}}}),dc(obj,"onkeyup",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&e.target==dijit._lastKeyDownNode&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=null;return m(e);}}));}}return _3f0;},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});})();}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.getObject("string",true,dojo);dojo.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function(_3f1,map,_3f2,_3f3){_3f3=_3f3||dojo.global;_3f2=_3f2?dojo.hitch(_3f3,_3f2):function(v){return v;};return _3f1.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_3f4,key,_3f5){var _3f6=dojo.getObject(key,false,map);if(_3f5){_3f6=dojo.getObject(_3f5,false,_3f3).call(_3f3,_3f6,key);}return _3f2(_3f6,key).toString();});};dojo.string.trim=String.prototype.trim?dojo.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojo.cache"]){dojo._hasResource["dojo.cache"]=true;dojo.provide("dojo.cache");var cache={};dojo.cache=function(_3f7,url,_3f8){if(typeof _3f7=="string"){var _3f9=dojo.moduleUrl(_3f7,url);}else{_3f9=_3f7;_3f8=url;}var key=_3f9.toString();var val=_3f8;if(_3f8!=undefined&&!dojo.isString(_3f8)){val=("value" in _3f8?_3f8.value:undefined);}var _3fa=_3f8&&_3f8.sanitize?true:false;if(typeof val=="string"){val=cache[key]=_3fa?dojo.cache._sanitize(val):val;}else{if(val===null){delete cache[key];}else{if(!(key in cache)){val=dojo._getText(key);cache[key]=_3fa?dojo.cache._sanitize(val):val;}val=cache[key];}}return val;};dojo.cache._sanitize=function(val){if(val){val=val.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _3fb=val.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_3fb){val=_3fb[1];}}else{val="";}return val;};}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){this._attachPoints=[];this._attachEvents=[];},_stringRepl:function(tmpl){var _3fc=this.declaredClass,_3fd=this;return dojo.string.substitute(tmpl,this,function(_3fe,key){if(key.charAt(0)=="!"){_3fe=dojo.getObject(key.substr(1),false,_3fd);}if(typeof _3fe=="undefined"){throw new Error(_3fc+" template:"+key);}if(_3fe==null){return "";}return key.charAt(0)=="!"?_3fe:_3fe.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){var _3ff=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_3ff)){node=dojo._toDom(this._stringRepl(_3ff));if(node.nodeType!=1){throw new Error("Invalid template: "+_3ff);}}else{node=_3ff.cloneNode(true);}this.domNode=node;this.inherited(arguments);this._attachTemplateNodes(node);if(this.widgetsInTemplate){var cw=(this._startupWidgets=dojo.parser.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang},propsThis:this,scope:"dojo"}));this._supportingWidgets=dijit.findWidgets(node);this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(this.srcNodeRef);},_fillContent:function(_400){var dest=this.containerNode;if(_400&&dest){while(_400.hasChildNodes()){dest.appendChild(_400.firstChild);}}},_attachTemplateNodes:function(_401,_402){_402=_402||function(n,p){return n.getAttribute(p);};var _403=dojo.isArray(_401)?_401:(_401.all||_401.getElementsByTagName("*"));var x=dojo.isArray(_401)?0:-1;for(;x<_403.length;x++){var _404=(x==-1)?_401:_403[x];if(this.widgetsInTemplate&&(_402(_404,"dojoType")||_402(_404,"data-dojo-type"))){continue;}var _405=_402(_404,"dojoAttachPoint")||_402(_404,"data-dojo-attach-point");if(_405){var _406,_407=_405.split(/\s*,\s*/);while((_406=_407.shift())){if(dojo.isArray(this[_406])){this[_406].push(_404);}else{this[_406]=_404;}this._attachPoints.push(_406);}}var _408=_402(_404,"dojoAttachEvent")||_402(_404,"data-dojo-attach-event");if(_408){var _409,_40a=_408.split(/\s*,\s*/);var trim=dojo.trim;while((_409=_40a.shift())){if(_409){var _40b=null;if(_409.indexOf(":")!=-1){var _40c=_409.split(":");_409=trim(_40c[0]);_40b=trim(_40c[1]);}else{_409=trim(_409);}if(!_40b){_40b=_409;}this._attachEvents.push(this.connect(_404,_409,_40b));}}}var role=_402(_404,"waiRole");if(role){dijit.setWaiRole(_404,role);}var _40d=_402(_404,"waiState");if(_40d){dojo.forEach(_40d.split(/\s*,\s*/),function(_40e){if(_40e.indexOf("-")!=-1){var pair=_40e.split("-");dijit.setWaiState(_404,pair[0],pair[1]);}});}}},startup:function(){dojo.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);},destroyRendering:function(){dojo.forEach(this._attachPoints,function(_40f){delete this[_40f];},this);this._attachPoints=[];dojo.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments);}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_410,_411,_412){var _413=dijit._Templated._templateCache;var key=_411||_410;var _414=_413[key];if(_414){try{if(!_414.ownerDocument||_414.ownerDocument==dojo.doc){return _414;}}catch(e){}dojo.destroy(_414);}if(!_411){_411=dojo.cache(_410,{sanitize:true});}_411=dojo.string.trim(_411);if(_412||_411.match(/\$\{([^\}]+)\}/g)){return (_413[key]=_411);}else{var node=dojo._toDom(_411);if(node.nodeType!=1){throw new Error("Invalid template: "+_411);}return (_413[key]=node);}};if(dojo.isIE){dojo.addOnWindowUnload(function(){var _415=dijit._Templated._templateCache;for(var key in _415){var _416=_415[key];if(typeof _416=="object"){dojo.destroy(_416);}delete _415[key];}});}dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dijit.form._FormWidget"]){dojo._hasResource["dijit.form._FormWidget"]=true;dojo.provide("dijit.form._FormWidget");dojo.declare("dijit.form._FormWidget",[dijit._Widget,dijit._Templated,dijit._CssStateMixin],{name:"",alt:"",value:"",type:"text",tabIndex:"0",disabled:false,intermediateChanges:false,scrollOnFocus:true,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{value:"focusNode",id:"focusNode",tabIndex:"focusNode",alt:"focusNode",title:"focusNode"}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name=\""+this.name.replace(/'/g,"&quot;")+"\""):"";this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onmousedown","_onMouseDown");},_setDisabledAttr:function(_417){this._set("disabled",_417);dojo.attr(this.focusNode,"disabled",_417);if(this.valueNode){dojo.attr(this.valueNode,"disabled",_417);}dijit.setWaiState(this.focusNode,"disabled",_417);if(_417){this._set("hovering",false);this._set("active",false);var _418="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:"focusNode";dojo.forEach(dojo.isArray(_418)?_418:[_418],function(_419){var node=this[_419];if(dojo.isWebKit||dijit.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.focusNode.setAttribute("tabIndex",this.tabIndex);}}},setDisabled:function(_41a){dojo.deprecated("setDisabled("+_41a+") is deprecated. Use set('disabled',"+_41a+") instead.","","2.0");this.set("disabled",_41a);},_onFocus:function(e){if(this.scrollOnFocus){dojo.window.scrollIntoView(this.domNode);}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(dojo.style(this.domNode,"display")!="none");},focus:function(){if(!this.disabled){dijit.focus(this.focusNode);}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(_41b){},_onChangeActive:false,_handleOnChange:function(_41c,_41d){if(this._lastValueReported==undefined&&(_41d===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_41c;}this._pendingOnChange=this._pendingOnChange||(typeof _41c!=typeof this._lastValueReported)||(this.compare(_41c,this._lastValueReported)!=0);if((this.intermediateChanges||_41d||_41d===undefined)&&this._pendingOnChange){this._lastValueReported=_41c;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);}this._onChangeHandle=setTimeout(dojo.hitch(this,function(){this._onChangeHandle=null;this.onChange(_41c);}),0);}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);this.onChange(this._lastValueReported);}this.inherited(arguments);},setValue:function(_41e){dojo.deprecated("dijit.form._FormWidget:setValue("+_41e+") is deprecated.  Use set('value',"+_41e+") instead.","","2.0");this.set("value",_41e);},getValue:function(){dojo.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_onMouseDown:function(e){if(!e.ctrlKey&&dojo.mouseButtons.isLeft(e)&&this.isFocusable()){var _41f=this.connect(dojo.body(),"onmouseup",function(){if(this.isFocusable()){this.focus();}this.disconnect(_41f);});}}});dojo.declare("dijit.form._FormValueWidget",dijit.form._FormWidget,{readOnly:false,attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:"",readOnly:"focusNode"}),_setReadOnlyAttr:function(_420){dojo.attr(this.focusNode,"readOnly",_420);dijit.setWaiState(this.focusNode,"readonly",_420);this._set("readOnly",_420);},postCreate:function(){this.inherited(arguments);if(dojo.isIE){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_421,_422){this._handleOnChange(_421,_422);},_handleOnChange:function(_423,_424){this._set("value",_423);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==dojo.keys.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey)){var te;if(dojo.isIE){e.preventDefault();te=document.createEventObject();te.keyCode=dojo.keys.ESCAPE;te.shiftKey=e.shiftKey;e.srcElement.fireEvent("onkeypress",te);}}},_layoutHackIE7:function(){if(dojo.isIE==7){var _425=this.domNode;var _426=_425.parentNode;var _427=_425.firstChild||_425;var _428=_427.style.filter;var _429=this;while(_426&&_426.clientHeight==0){(function ping(){var _42a=_429.connect(_426,"onscroll",function(e){_429.disconnect(_42a);_427.style.filter=(new Date()).getMilliseconds();setTimeout(function(){_427.style.filter=_428;},0);});})();_426=_426.parentNode;}}}});}if(!dojo._hasResource["dojo.i18n"]){dojo._hasResource["dojo.i18n"]=true;dojo.provide("dojo.i18n");dojo.getObject("i18n",true,dojo);dojo.i18n.getLocalization=dojo.i18n.getLocalization||function(_42b,_42c,_42d){_42d=dojo.i18n.normalizeLocale(_42d);var _42e=_42d.split("-");var _42f=[_42b,"nls",_42c].join(".");var _430=dojo._loadedModules[_42f];if(_430){var _431;for(var i=_42e.length;i>0;i--){var loc=_42e.slice(0,i).join("_");if(_430[loc]){_431=_430[loc];break;}}if(!_431){_431=_430.ROOT;}if(_431){var _432=function(){};_432.prototype=_431;return new _432();}}throw new Error("Bundle not found: "+_42c+" in "+_42b+" , locale="+_42d);};dojo.i18n.normalizeLocale=function(_433){var _434=_433?_433.toLowerCase():dojo.locale;if(_434=="root"){_434="ROOT";}return _434;};dojo.i18n._requireLocalization=function(_435,_436,_437,_438){var _439=dojo.i18n.normalizeLocale(_437);var _43a=[_435,"nls",_436].join(".");var _43b="";if(_438){var _43c=_438.split(",");for(var i=0;i<_43c.length;i++){if(_439["indexOf"](_43c[i])==0){if(_43c[i].length>_43b.length){_43b=_43c[i];}}}if(!_43b){_43b="ROOT";}}var _43d=_438?_43b:_439;var _43e=dojo._loadedModules[_43a];var _43f=null;if(_43e){if(dojo.config.localizationComplete&&_43e._built){return;}var _440=_43d.replace(/-/g,"_");var _441=_43a+"."+_440;_43f=dojo._loadedModules[_441];}if(!_43f){_43e=dojo["provide"](_43a);var syms=dojo._getModuleSymbols(_435);var _442=syms.concat("nls").join("/");var _443;dojo.i18n._searchLocalePath(_43d,_438,function(loc){var _444=loc.replace(/-/g,"_");var _445=_43a+"."+_444;var _446=false;if(!dojo._loadedModules[_445]){dojo["provide"](_445);var _447=[_442];if(loc!="ROOT"){_447.push(loc);}_447.push(_436);var _448=_447.join("/")+".js";_446=dojo._loadPath(_448,null,function(hash){hash=hash.root||hash;var _449=function(){};_449.prototype=_443;_43e[_444]=new _449();for(var j in hash){_43e[_444][j]=hash[j];}});}else{_446=true;}if(_446&&_43e[_444]){_443=_43e[_444];}else{_43e[_444]=_443;}if(_438){return true;}});}if(_438&&_439!=_43b){_43e[_439.replace(/-/g,"_")]=_43e[_43b.replace(/-/g,"_")];}};(function(){var _44a=dojo.config.extraLocale;if(_44a){if(!_44a instanceof Array){_44a=[_44a];}var req=dojo.i18n._requireLocalization;dojo.i18n._requireLocalization=function(m,b,_44b,_44c){req(m,b,_44b,_44c);if(_44b){return;}for(var i=0;i<_44a.length;i++){req(m,b,_44a[i],_44c);}};}})();dojo.i18n._searchLocalePath=function(_44d,down,_44e){_44d=dojo.i18n.normalizeLocale(_44d);var _44f=_44d.split("-");var _450=[];for(var i=_44f.length;i>0;i--){_450.push(_44f.slice(0,i).join("-"));}_450.push(false);if(down){_450.reverse();}for(var j=_450.length-1;j>=0;j--){var loc=_450[j]||"ROOT";var stop=_44e(loc);if(stop){break;}}};dojo.i18n._preloadLocalizations=function(_451,_452){function _453(_454){_454=dojo.i18n.normalizeLocale(_454);dojo.i18n._searchLocalePath(_454,true,function(loc){for(var i=0;i<_452.length;i++){if(_452[i]==loc){dojo["require"](_451+"_"+loc);return true;}}return false;});};_453();var _455=dojo.config.extraLocale||[];for(var i=0;i<_455.length;i++){_453(_455[i]);}};}if(!dojo._hasResource["dijit.form.TextBox"]){dojo._hasResource["dijit.form.TextBox"]=true;dojo.provide("dijit.form.TextBox");dojo.declare("dijit.form.TextBox",dijit.form._FormValueWidget,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",templateString:dojo.cache("dijit.form","templates/TextBox.html","<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" dojoAttachPoint='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"),_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" dojoAttachPoint=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:dojo.isIE?"disabled":"",baseClass:"dijitTextBox",attributeMap:dojo.delegate(dijit.form._FormValueWidget.prototype.attributeMap,{maxLength:"focusNode"}),postMixInProperties:function(){var type=this.type.toLowerCase();if(this.templateString&&this.templateString.toLowerCase()=="input"||((type=="hidden"||type=="file")&&this.templateString==dijit.form.TextBox.prototype.templateString)){this.templateString=this._singleNodeTemplate;}this.inherited(arguments);},_setPlaceHolderAttr:function(v){this._set("placeHolder",v);if(!this._phspan){this._attachPoints.push("_phspan");this._phspan=dojo.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");}this._phspan.innerHTML="";this._phspan.appendChild(document.createTextNode(v));this._updatePlaceHolder();},_updatePlaceHolder:function(){if(this._phspan){this._phspan.style.display=(this.placeHolder&&!this._focused&&!this.textbox.value)?"":"none";}},_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function(_456,_457,_458){var _459;if(_456!==undefined){_459=this.filter(_456);if(typeof _458!="string"){if(_459!==null&&((typeof _459!="number")||!isNaN(_459))){_458=this.filter(this.format(_459,this.constraints));}else{_458="";}}}if(_458!=null&&_458!=undefined&&((typeof _458)!="number"||!isNaN(_458))&&this.textbox.value!=_458){this.textbox.value=_458;this._set("displayedValue",this.get("displayedValue"));}this._updatePlaceHolder();this.inherited(arguments,[_459,_457]);},displayedValue:"",getDisplayedValue:function(){dojo.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use set('displayedValue') instead.","","2.0");return this.get("displayedValue");},_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},setDisplayedValue:function(_45a){dojo.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",_45a);},_setDisplayedValueAttr:function(_45b){if(_45b===null||_45b===undefined){_45b="";}else{if(typeof _45b!="string"){_45b=String(_45b);}}this.textbox.value=_45b;this._setValueAttr(this.get("value"),undefined);this._set("displayedValue",this.get("displayedValue"));},format:function(_45c,_45d){return ((_45c==null||_45c==undefined)?"":(_45c.toString?_45c.toString():_45c));},parse:function(_45e,_45f){return _45e;},_refreshState:function(){},_onInput:function(e){if(e&&e.type&&/key/i.test(e.type)&&e.keyCode){switch(e.keyCode){case dojo.keys.SHIFT:case dojo.keys.ALT:case dojo.keys.CTRL:case dojo.keys.TAB:return;}}if(this.intermediateChanges){var _460=this;setTimeout(function(){_460._handleOnChange(_460.get("value"),false);},0);}this._refreshState();this._set("displayedValue",this.get("displayedValue"));},postCreate:function(){if(dojo.isIE){setTimeout(dojo.hitch(this,function(){var s=dojo.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _461=this.domNode.getElementsByTagName("INPUT");if(_461){for(var i=0;i<_461.length;i++){_461[i].style.fontFamily=ff;}}}}}),0);}this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);if(dojo.isMoz||dojo.isOpera){this.connect(this.textbox,"oninput","_onInput");}else{this.connect(this.textbox,"onkeydown","_onInput");this.connect(this.textbox,"onkeyup","_onInput");this.connect(this.textbox,"onpaste","_onInput");this.connect(this.textbox,"oncut","_onInput");}},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=dojo.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.get("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);if(this._selectOnClickHandle){this.disconnect(this._selectOnClickHandle);}if(this.selectOnClick&&dojo.isMoz){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}this._updatePlaceHolder();},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);var _462;if(dojo.isIE){var _463=dojo.doc.selection.createRange();var _464=_463.parentElement();_462=_464==this.textbox&&_463.text.length==0;}else{_462=this.textbox.selectionStart==this.textbox.selectionEnd;}if(_462){dijit.selectInputText(this.textbox);}});}this._updatePlaceHolder();this.inherited(arguments);this._refreshState();},reset:function(){this.textbox.value="";this.inherited(arguments);}});dijit.selectInputText=function(_465,_466,stop){var _467=dojo.global;var _468=dojo.doc;_465=dojo.byId(_465);if(isNaN(_466)){_466=0;}if(isNaN(stop)){stop=_465.value?_465.value.length:0;}dijit.focus(_465);if(_468["selection"]&&dojo.body()["createTextRange"]){if(_465.createTextRange){var r=_465.createTextRange();r.collapse(true);r.moveStart("character",-99999);r.moveStart("character",_466);r.moveEnd("character",stop-_466);r.select();}}else{if(_467["getSelection"]){if(_465.setSelectionRange){_465.setSelectionRange(_466,stop);}}}};}if(!dojo._hasResource["dijit.Tooltip"]){dojo._hasResource["dijit.Tooltip"]=true;dojo.provide("dijit.Tooltip");dojo.declare("dijit._MasterTooltip",[dijit._Widget,dijit._Templated],{duration:dijit.defaultDuration,templateString:dojo.cache("dijit","templates/Tooltip.html","<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" dojoAttachPoint=\"containerNode\" role='alert'></div\n\t><div class=\"dijitTooltipConnector\" dojoAttachPoint=\"connectorNode\"></div\n></div>\n"),postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);this.fadeIn=dojo.fadeIn({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onShow")});this.fadeOut=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onHide")});},show:function(_469,_46a,_46b,rtl){if(this.aroundNode&&this.aroundNode===_46a){return;}this.domNode.width="auto";if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_469;var pos=dijit.placeOnScreenAroundElement(this.domNode,_46a,dijit.getPopupAroundAlignment((_46b&&_46b.length)?_46b:dijit.Tooltip.defaultPosition,!rtl),dojo.hitch(this,"orient"));dojo.style(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_46a;},orient:function(node,_46c,_46d,_46e,_46f){this.connectorNode.style.top="";var _470=_46e.w-this.connectorNode.offsetWidth;node.className="dijitTooltip "+{"BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_46c+"-"+_46d];this.domNode.style.width="auto";var size=dojo.contentBox(this.domNode);var _471=Math.min((Math.max(_470,1)),size.w);var _472=_471<size.w;this.domNode.style.width=_471+"px";if(_472){this.containerNode.style.overflow="auto";var _473=this.containerNode.scrollWidth;this.containerNode.style.overflow="visible";if(_473>_471){_473=_473+dojo.style(this.domNode,"paddingLeft")+dojo.style(this.domNode,"paddingRight");this.domNode.style.width=_473+"px";}}if(_46d.charAt(0)=="B"&&_46c.charAt(0)=="B"){var mb=dojo.marginBox(node);var _474=this.connectorNode.offsetHeight;if(mb.h>_46e.h){var _475=_46e.h-(_46f.h/2)-(_474/2);this.connectorNode.style.top=_475+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_46f.h/2-_474/2,0),mb.h-_474)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_470);},_onShow:function(){if(dojo.isIE){this.domNode.style.filter="";}},hide:function(_476){if(this._onDeck&&this._onDeck[1]==_476){this._onDeck=null;}else{if(this.aroundNode===_476){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});dijit.showTooltip=function(_477,_478,_479,rtl){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.show(_477,_478,_479,rtl);};dijit.hideTooltip=function(_47a){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.hide(_47a);};dojo.declare("dijit.Tooltip",dijit._Widget,{label:"",showDelay:400,connectId:[],position:[],_setConnectIdAttr:function(_47b){dojo.forEach(this._connections||[],function(_47c){dojo.forEach(_47c,dojo.hitch(this,"disconnect"));},this);var ary=dojo.isArrayLike(_47b)?_47b:(_47b?[_47b]:[]);this._connections=dojo.map(ary,function(id){var node=dojo.byId(id);return node?[this.connect(node,"onmouseenter","_onTargetMouseEnter"),this.connect(node,"onmouseleave","_onTargetMouseLeave"),this.connect(node,"onfocus","_onTargetFocus"),this.connect(node,"onblur","_onTargetBlur")]:[];},this);this._set("connectId",_47b);this._connectIds=ary;},addTarget:function(node){var id=node.id||node;if(dojo.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=dojo.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;dojo.forEach(dojo.isArrayLike(ids)?ids:[ids],this.addTarget,this);},_onTargetMouseEnter:function(e){this._onHover(e);},_onTargetMouseLeave:function(e){this._onUnHover(e);},_onTargetFocus:function(e){this._focus=true;this._onHover(e);},_onTargetBlur:function(e){this._focus=false;this._onUnHover(e);},_onHover:function(e){if(!this._showTimer){var _47d=e.target;this._showTimer=setTimeout(dojo.hitch(this,function(){this.open(_47d);}),this.showDelay);}},_onUnHover:function(e){if(this._focus){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}this.close();},open:function(_47e){if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}dijit.showTooltip(this.label||this.domNode.innerHTML,_47e,this.position,!this.isLeftToRight());this._connectNode=_47e;this.onShow(_47e,this.position);},close:function(){if(this._connectNode){dijit.hideTooltip(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}},onShow:function(_47f,_480){},onHide:function(){},uninitialize:function(){this.close();this.inherited(arguments);}});dijit.Tooltip.defaultPosition=["after","before"];}if(!dojo._hasResource["dijit.form.ValidationTextBox"]){dojo._hasResource["dijit.form.ValidationTextBox"]=true;dojo.provide("dijit.form.ValidationTextBox");dojo.declare("dijit.form.ValidationTextBox",dijit.form.TextBox,{templateString:dojo.cache("dijit.form","templates/ValidationTextBox.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935;\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" dojoAttachPoint='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"),baseClass:"dijitTextBox dijitValidationTextBox",required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},regExp:".*",regExpGen:function(_481){return this.regExp;},state:"",tooltipPosition:[],_setValueAttr:function(){this.inherited(arguments);this.validate(this._focused);},validator:function(_482,_483){return (new RegExp("^(?:"+this.regExpGen(_483)+")"+(this.required?"":"?")+"$")).test(_482)&&(!this.required||!this._isEmpty(_482))&&(this._isEmpty(_482)||this.parse(_482,_483)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(_484){return this.validator(this.textbox.value,this.constraints);},_isEmpty:function(_485){return (this.trim?/^\s*$/:/^$/).test(_485);},getErrorMessage:function(_486){return (this.required&&this._isEmpty(this.textbox.value))?this.missingMessage:this.invalidMessage;},getPromptMessage:function(_487){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_488){var _489="";var _48a=this.disabled||this.isValid(_488);if(_48a){this._maskValidSubsetError=true;}var _48b=this._isEmpty(this.textbox.value);var _48c=!_48a&&_488&&this._isValidSubset();this._set("state",_48a?"":(((((!this._hasBeenBlurred||_488)&&_48b)||_48c)&&this._maskValidSubsetError)?"Incomplete":"Error"));dijit.setWaiState(this.focusNode,"invalid",_48a?"false":"true");if(this.state=="Error"){this._maskValidSubsetError=_488&&_48c;_489=this.getErrorMessage(_488);}else{if(this.state=="Incomplete"){_489=this.getPromptMessage(_488);this._maskValidSubsetError=!this._hasBeenBlurred||_488;}else{if(_48b){_489=this.getPromptMessage(_488);}}}this.set("message",_489);return _48a;},displayMessage:function(_48d){dijit.hideTooltip(this.domNode);if(_48d&&this._focused){dijit.showTooltip(_48d,this.domNode,this.tooltipPosition,!this.isLeftToRight());}},_refreshState:function(){this.validate(this._focused);this.inherited(arguments);},constructor:function(){this.constraints={};},_setConstraintsAttr:function(_48e){if(!_48e.locale&&this.lang){_48e.locale=this.lang;}this._set("constraints",_48e);this._computePartialRE();},_computePartialRE:function(){var p=this.regExpGen(this.constraints);this.regExp=p;var _48f="";if(p!=".*"){this.regExp.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_48f+=re;break;case ")":_48f+="|$)";break;default:_48f+="(?:"+re+"|$)";break;}});}try{"".search(_48f);}catch(e){_48f=this.regExp;}this._partialre="^(?:"+_48f+")$";},postMixInProperties:function(){this.inherited(arguments);this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);if(this.invalidMessage=="$_unset_$"){this.invalidMessage=this.messages.invalidMessage;}if(!this.invalidMessage){this.invalidMessage=this.promptMessage;}if(this.missingMessage=="$_unset_$"){this.missingMessage=this.messages.missingMessage;}if(!this.missingMessage){this.missingMessage=this.invalidMessage;}this._setConstraintsAttr(this.constraints);},_setDisabledAttr:function(_490){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_491){this._set("required",_491);dijit.setWaiState(this.focusNode,"required",_491);this._refreshState();},_setMessageAttr:function(_492){this._set("message",_492);this.displayMessage(_492);},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);},_onBlur:function(){this.displayMessage("");this.inherited(arguments);}});dojo.declare("dijit.form.MappedTextBox",dijit.form.ValidationTextBox,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},serialize:function(val,_493){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.get("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=dojo.place("<input type='hidden'"+(this.name?" name='"+this.name.replace(/'/g,"&quot;")+"'":"")+"/>",this.textbox,"after");},reset:function(){this.valueNode.value="";this.inherited(arguments);}});dojo.declare("dijit.form.RangeBoundTextBox",dijit.form.MappedTextBox,{rangeMessage:"",rangeCheck:function(_494,_495){return ("min" in _495?(this.compare(_494,_495.min)>=0):true)&&("max" in _495?(this.compare(_494,_495.max)<=0):true);},isInRange:function(_496){return this.rangeCheck(this.get("value"),this.constraints);},_isDefinitelyOutOfRange:function(){var val=this.get("value");var _497=false;var _498=false;if("min" in this.constraints){var min=this.constraints.min;min=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min);_497=(typeof min=="number")&&min<0;}if("max" in this.constraints){var max=this.constraints.max;max=this.compare(val,((typeof max!="number")||max>0)?max:0);_498=(typeof max=="number")&&max>0;}return _497||_498;},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function(_499){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_499));},getErrorMessage:function(_49a){var v=this.get("value");if(v!==null&&v!==""&&v!==undefined&&(typeof v!="number"||!isNaN(v))&&!this.isInRange(_49a)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}},_setConstraintsAttr:function(_49b){this.inherited(arguments);if(this.focusNode){if(this.constraints.min!==undefined){dijit.setWaiState(this.focusNode,"valuemin",this.constraints.min);}else{dijit.removeWaiState(this.focusNode,"valuemin");}if(this.constraints.max!==undefined){dijit.setWaiState(this.focusNode,"valuemax",this.constraints.max);}else{dijit.removeWaiState(this.focusNode,"valuemax");}}},_setValueAttr:function(_49c,_49d){dijit.setWaiState(this.focusNode,"valuenow",_49c);this.inherited(arguments);}});}if(!dojo._hasResource["dijit._HasDropDown"]){dojo._hasResource["dijit._HasDropDown"]=true;dojo.provide("dijit._HasDropDown");dojo.declare("dijit._HasDropDown",null,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}this._docHandler=this.connect(dojo.doc,"onmouseup","_onDropDownMouseUp");this.toggleDropDown();},_onDropDownMouseUp:function(e){if(e&&this._docHandler){this.disconnect(this._docHandler);}var _49e=this.dropDown,_49f=false;if(e&&this._opened){var c=dojo.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_49f){if(dojo.hasClass(t,"dijitPopup")){_49f=true;}else{t=t.parentNode;}}if(_49f){t=e.target;if(_49e.onItemClick){var _4a0;while(t&&!(_4a0=dijit.byNode(t))){t=t.parentNode;}if(_4a0&&_4a0.onClick&&_4a0.getParent){_4a0.getParent().onItemClick(_4a0,e);}}return;}}}if(this._opened&&_49e.focus&&_49e.autoFocus!==false){window.setTimeout(dojo.hitch(_49e,"focus"),1);}},_onDropDownClick:function(e){if(this._stopClickEvents){dojo.stopEvent(e);}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _4a1={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";dojo.addClass(this._arrowWrapperNode||this._buttonNode,"dijit"+_4a1+"ArrowButton");},postCreate:function(){this.inherited(arguments);this.connect(this._buttonNode,"onmousedown","_onDropDownMouseDown");this.connect(this._buttonNode,"onclick","_onDropDownClick");this.connect(this.focusNode,"onkeypress","_onKey");},destroy:function(){if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_4a2=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){dojo.stopEvent(e);return;}}if(d&&this._opened&&e.charOrCode==dojo.keys.ESCAPE){this.closeDropDown();dojo.stopEvent(e);}else{if(!this._opened&&(e.charOrCode==dojo.keys.DOWN_ARROW||((e.charOrCode==dojo.keys.ENTER||e.charOrCode==" ")&&((_4a2.tagName||"").toLowerCase()!=="input"||(_4a2.type&&_4a2.type.toLowerCase()!=="text"))))){this.toggleDropDown();d=this.dropDown;if(d&&d.focus){setTimeout(dojo.hitch(d,"focus"),1);}dojo.stopEvent(e);}}},_onBlur:function(){var _4a3=dijit._curFocus&&this.dropDown&&dojo.isDescendant(dijit._curFocus,this.dropDown.domNode);this.closeDropDown(_4a3);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_4a4){_4a4();},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){if(!this.isLoaded()){this.loadDropDown(dojo.hitch(this,"openDropDown"));return;}else{this.openDropDown();}}else{this.closeDropDown();}},openDropDown:function(){var _4a5=this.dropDown,_4a6=_4a5.domNode,_4a7=this._aroundNode||this.domNode,self=this;if(!this._preparedNode){this._preparedNode=true;if(_4a6.style.width){this._explicitDDWidth=true;}if(_4a6.style.height){this._explicitDDHeight=true;}}if(this.maxHeight||this.forceWidth||this.autoWidth){var _4a8={display:"",visibility:"hidden"};if(!this._explicitDDWidth){_4a8.width="";}if(!this._explicitDDHeight){_4a8.height="";}dojo.style(_4a6,_4a8);var _4a9=this.maxHeight;if(_4a9==-1){var _4aa=dojo.window.getBox(),_4ab=dojo.position(_4a7,false);_4a9=Math.floor(Math.max(_4ab.y,_4aa.h-(_4ab.y+_4ab.h)));}if(_4a5.startup&&!_4a5._started){_4a5.startup();}dijit.popup.moveOffScreen(_4a5);var mb=dojo._getMarginSize(_4a6);var _4ac=(_4a9&&mb.h>_4a9);dojo.style(_4a6,{overflowX:"hidden",overflowY:_4ac?"auto":"hidden"});if(_4ac){mb.h=_4a9;if("w" in mb){mb.w+=16;}}else{delete mb.h;}if(this.forceWidth){mb.w=_4a7.offsetWidth;}else{if(this.autoWidth){mb.w=Math.max(mb.w,_4a7.offsetWidth);}else{delete mb.w;}}if(dojo.isFunction(_4a5.resize)){_4a5.resize(mb);}else{dojo.marginBox(_4a6,mb);}}var _4ad=dijit.popup.open({parent:this,popup:_4a5,around:_4a7,orient:dijit.getPopupAroundAlignment((this.dropDownPosition&&this.dropDownPosition.length)?this.dropDownPosition:["below"],this.isLeftToRight()),onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){dojo.attr(self._popupStateNode,"popupActive",false);dojo.removeClass(self._popupStateNode,"dijitHasDropDownOpen");self._opened=false;}});dojo.attr(this._popupStateNode,"popupActive","true");dojo.addClass(self._popupStateNode,"dijitHasDropDownOpen");this._opened=true;return _4ad;},closeDropDown:function(_4ae){if(this._opened){if(_4ae){this.focus();}dijit.popup.close(this.dropDown);this._opened=false;}}});}if(!dojo._hasResource["dijit.form.ComboBox"]){dojo._hasResource["dijit.form.ComboBox"]=true;dojo.provide("dijit.form.ComboBox");dojo.declare("dijit.form.ComboBoxMixin",dijit._HasDropDown,{item:null,pageSize:Infinity,store:null,fetchProperties:{},query:{},autoComplete:true,highlightMatch:"first",searchDelay:100,searchAttr:"name",labelAttr:"",labelType:"text",queryExpr:"${0}*",ignoreCase:true,hasDownArrow:true,templateString:dojo.cache("dijit.form","templates/DropDownBox.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdojoAttachPoint=\"_buttonNode, _popupStateNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935;\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdojoAttachPoint=\"textbox,focusNode\" role=\"textbox\" aria-haspopup=\"true\"\n\t/></div\n></div>\n"),baseClass:"dijitTextBox dijitComboBox",dropDownClass:"dijit.form._ComboBoxMenu",cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},maxHeight:-1,_getCaretPos:function(_4af){var pos=0;if(typeof (_4af.selectionStart)=="number"){pos=_4af.selectionStart;}else{if(dojo.isIE){var tr=dojo.doc.selection.createRange().duplicate();var ntr=_4af.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function(_4b0,_4b1){_4b1=parseInt(_4b1);dijit.selectInputText(_4b0,_4b1,_4b1);},_setDisabledAttr:function(_4b2){this.inherited(arguments);dijit.setWaiState(this.domNode,"disabled",_4b2);},_abortQuery:function(){if(this.searchTimer){clearTimeout(this.searchTimer);this.searchTimer=null;}if(this._fetchHandle){if(this._fetchHandle.abort){this._fetchHandle.abort();}this._fetchHandle=null;}},_onInput:function(evt){if(!this.searchTimer&&(evt.type=="paste"||evt.type=="input")&&this._lastInput!=this.textbox.value){this.searchTimer=setTimeout(dojo.hitch(this,function(){this._onKey({charOrCode:229});}),100);}this.inherited(arguments);},_onKey:function(evt){var key=evt.charOrCode;if(evt.altKey||((evt.ctrlKey||evt.metaKey)&&(key!="x"&&key!="v"))||key==dojo.keys.SHIFT){return;}var _4b3=false;var pw=this.dropDown;var dk=dojo.keys;var _4b4=null;this._prev_key_backspace=false;this._abortQuery();this.inherited(arguments);if(this._opened){_4b4=pw.getHighlightedOption();}switch(key){case dk.PAGE_DOWN:case dk.DOWN_ARROW:case dk.PAGE_UP:case dk.UP_ARROW:if(this._opened){this._announceOption(_4b4);}dojo.stopEvent(evt);break;case dk.ENTER:if(_4b4){if(_4b4==pw.nextButton){this._nextSearch(1);dojo.stopEvent(evt);break;}else{if(_4b4==pw.previousButton){this._nextSearch(-1);dojo.stopEvent(evt);break;}}}else{this._setBlurValue();this._setCaretPos(this.focusNode,this.focusNode.value.length);}if(this._opened||this._fetchHandle){evt.preventDefault();}case dk.TAB:var _4b5=this.get("displayedValue");if(pw&&(_4b5==pw._messages["previousMessage"]||_4b5==pw._messages["nextMessage"])){break;}if(_4b4){this._selectOption();}if(this._opened){this._lastQuery=null;this.closeDropDown();}break;case " ":if(_4b4){dojo.stopEvent(evt);this._selectOption();this.closeDropDown();}else{_4b3=true;}break;case dk.DELETE:case dk.BACKSPACE:this._prev_key_backspace=true;_4b3=true;break;default:_4b3=typeof key=="string"||key==229;}if(_4b3){this.item=undefined;this.searchTimer=setTimeout(dojo.hitch(this,"_startSearchFromInput"),1);}},_autoCompleteText:function(text){var fn=this.focusNode;dijit.selectInputText(fn,fn.value.length);var _4b6=this.ignoreCase?"toLowerCase":"substr";if(text[_4b6](0).indexOf(this.focusNode.value[_4b6](0))==0){var cpos=this._getCaretPos(fn);if((cpos+1)>fn.value.length){fn.value=text;dijit.selectInputText(fn,cpos);}}else{fn.value=text;dijit.selectInputText(fn);}},_openResultList:function(_4b7,_4b8){this._fetchHandle=null;if(this.disabled||this.readOnly||(_4b8.query[this.searchAttr]!=this._lastQuery)){return;}var _4b9=this.dropDown._highlighted_option&&dojo.hasClass(this.dropDown._highlighted_option,"dijitMenuItemSelected");this.dropDown.clearResultList();if(!_4b7.length&&!this._maxOptions){this.closeDropDown();return;}_4b8._maxOptions=this._maxOptions;var _4ba=this.dropDown.createOptions(_4b7,_4b8,dojo.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if(_4b8.direction){if(1==_4b8.direction){this.dropDown.highlightFirstOption();}else{if(-1==_4b8.direction){this.dropDown.highlightLastOption();}}if(_4b9){this._announceOption(this.dropDown.getHighlightedOption());}}else{if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_4b8.query[this.searchAttr])){this._announceOption(_4ba[1]);}}},_showResultList:function(){this.closeDropDown(true);this.displayMessage("");this.openDropDown();dijit.setWaiState(this.domNode,"expanded","true");},loadDropDown:function(_4bb){this._startSearchAll();},isLoaded:function(){return false;},closeDropDown:function(){this._abortQuery();if(this._opened){this.inherited(arguments);dijit.setWaiState(this.domNode,"expanded","false");dijit.removeWaiState(this.focusNode,"activedescendant");}},_setBlurValue:function(){var _4bc=this.get("displayedValue");var pw=this.dropDown;if(pw&&(_4bc==pw._messages["previousMessage"]||_4bc==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{if(typeof this.item=="undefined"){this.item=null;this.set("displayedValue",_4bc);}else{if(this.value!=this._lastValueReported){dijit.form._FormValueWidget.prototype._setValueAttr.call(this,this.value,true);}this._refreshState();}}},_onBlur:function(){this.closeDropDown();this.inherited(arguments);},_setItemAttr:function(item,_4bd,_4be){if(!_4be){var _4bf=this.labelFunc(item,this.store);if(this.labelType=="html"){var span=this._helperSpan;span.innerHTML=_4bf;_4be=span.innerText||span.textContent;}else{_4be=_4bf;}}var _4c0=this._getValueField()!=this.searchAttr?this.store.getIdentity(item):_4be;this._set("item",item);dijit.form.ComboBox.superclass._setValueAttr.call(this,_4c0,_4bd,_4be);},_announceOption:function(node){if(!node){return;}var _4c1;if(node==this.dropDown.nextButton||node==this.dropDown.previousButton){_4c1=node.innerHTML;this.item=undefined;this.value="";}else{_4c1=node.innerText||node.textContent||"";this.set("item",node.item,false,_4c1);}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);dijit.setWaiState(this.focusNode,"activedescendant",dojo.attr(node,"id"));this._autoCompleteText(_4c1);},_selectOption:function(evt){if(evt){this._announceOption(evt.target);}this.closeDropDown();this._setCaretPos(this.focusNode,this.focusNode.value.length);dijit.form._FormValueWidget.prototype._setValueAttr.call(this,this.value,true);},_startSearchAll:function(){this._startSearch("");},_startSearchFromInput:function(){this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,"\\$1"));},_getQueryString:function(text){return dojo.string.substitute(this.queryExpr,[text]);},_startSearch:function(key){if(!this.dropDown){var _4c2=this.id+"_popup",_4c3=dojo.getObject(this.dropDownClass,false);this.dropDown=new _4c3({onChange:dojo.hitch(this,this._selectOption),id:_4c2,dir:this.dir});dijit.removeWaiState(this.focusNode,"activedescendant");dijit.setWaiState(this.textbox,"owns",_4c2);}var _4c4=dojo.clone(this.query);this._lastInput=key;this._lastQuery=_4c4[this.searchAttr]=this._getQueryString(key);this.searchTimer=setTimeout(dojo.hitch(this,function(_4c5,_4c6){this.searchTimer=null;var _4c7={queryOptions:{ignoreCase:this.ignoreCase,deep:true},query:_4c5,onBegin:dojo.hitch(this,"_setMaxOptions"),onComplete:dojo.hitch(this,"_openResultList"),onError:function(_4c8){_4c6._fetchHandle=null;_4c6.closeDropDown();},start:0,count:this.pageSize};dojo.mixin(_4c7,_4c6.fetchProperties);this._fetchHandle=_4c6.store.fetch(_4c7);var _4c9=function(_4ca,_4cb){_4ca.start+=_4ca.count*_4cb;_4ca.direction=_4cb;this._fetchHandle=this.store.fetch(_4ca);this.focus();};this._nextSearch=this.dropDown.onPage=dojo.hitch(this,_4c9,this._fetchHandle);},_4c4,this),this.searchDelay);},_setMaxOptions:function(size,_4cc){this._maxOptions=size;},_getValueField:function(){return this.searchAttr;},constructor:function(){this.query={};this.fetchProperties={};},postMixInProperties:function(){if(!this.store){var _4cd=this.srcNodeRef;this.store=new dijit.form._ComboBoxDataStore(_4cd);if(!("value" in this.params)){var item=(this.item=this.store.fetchSelectedItem());if(item){var _4ce=this._getValueField();this.value=_4ce!=this.searchAttr?this.store.getValue(item,_4ce):this.labelFunc(item,this.store);}}}this._helperSpan=dojo.create("span");this.inherited(arguments);},postCreate:function(){var _4cf=dojo.query("label[for=\""+this.id+"\"]");if(_4cf.length){_4cf[0].id=(this.id+"_label");dijit.setWaiState(this.domNode,"labelledby",_4cf[0].id);}this.inherited(arguments);},destroy:function(){dojo.destroy(this._helperSpan);this.inherited(arguments);},_setHasDownArrowAttr:function(val){this.hasDownArrow=val;this._buttonNode.style.display=val?"":"none";},_getMenuLabelFromItem:function(item){var _4d0=this.labelFunc(item,this.store),_4d1=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_4d0=this.doHighlight(_4d0,this._escapeHtml(this._lastInput));_4d1="html";}return {html:_4d1=="html",label:_4d0};},doHighlight:function(_4d2,find){var _4d3=(this.ignoreCase?"i":"")+(this.highlightMatch=="all"?"g":""),i=this.queryExpr.indexOf("${0}");find=dojo.regexp.escapeString(find);return this._escapeHtml(_4d2).replace(new RegExp((i==0?"^":"")+"("+find+")"+(i==(this.queryExpr.length-4)?"$":""),_4d3),"<span class=\"dijitComboBoxHighlightMatch\">$1</span>");},_escapeHtml:function(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},reset:function(){this.item=null;this.inherited(arguments);},labelFunc:function(item,_4d4){return _4d4.getValue(item,this.labelAttr||this.searchAttr).toString();}});dojo.declare("dijit.form._ComboBoxMenu",[dijit._Widget,dijit._Templated,dijit._CssStateMixin],{templateString:"<ul class='dijitReset dijitMenu' dojoAttachEvent='onmousedown:_onMouseDown,onmouseup:_onMouseUp,onmouseover:_onMouseOver,onmouseout:_onMouseOut' style='overflow: \"auto\"; overflow-x: \"hidden\";'>"+"<li class='dijitMenuItem dijitMenuPreviousButton' dojoAttachPoint='previousButton' role='option'></li>"+"<li class='dijitMenuItem dijitMenuNextButton' dojoAttachPoint='nextButton' role='option'></li>"+"</ul>",_messages:null,baseClass:"dijitComboBoxMenu",postMixInProperties:function(){this.inherited(arguments);this._messages=dojo.i18n.getLocalization("dijit.form","ComboBox",this.lang);},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];},_setValueAttr:function(_4d5){this.value=_4d5;this.onChange(_4d5);},onChange:function(_4d6){},onPage:function(_4d7){},onClose:function(){this._blurOptionNode();},_createOption:function(item,_4d8){var _4d9=dojo.create("li",{"class":"dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl"),role:"option"});var _4da=_4d8(item);if(_4da.html){_4d9.innerHTML=_4da.label;}else{_4d9.appendChild(dojo.doc.createTextNode(_4da.label));}if(_4d9.innerHTML==""){_4d9.innerHTML="&nbsp;";}_4d9.item=item;return _4d9;},createOptions:function(_4db,_4dc,_4dd){this.previousButton.style.display=(_4dc.start==0)?"none":"";dojo.attr(this.previousButton,"id",this.id+"_prev");dojo.forEach(_4db,function(item,i){var _4de=this._createOption(item,_4dd);dojo.attr(_4de,"id",this.id+i);this.domNode.insertBefore(_4de,this.nextButton);},this);var _4df=false;if(_4dc._maxOptions&&_4dc._maxOptions!=-1){if((_4dc.start+_4dc.count)<_4dc._maxOptions){_4df=true;}else{if((_4dc.start+_4dc.count)>_4dc._maxOptions&&_4dc.count==_4db.length){_4df=true;}}}else{if(_4dc.count==_4db.length){_4df=true;}}this.nextButton.style.display=_4df?"":"none";dojo.attr(this.nextButton,"id",this.id+"_next");return this.domNode.childNodes;},clearResultList:function(){while(this.domNode.childNodes.length>2){this.domNode.removeChild(this.domNode.childNodes[this.domNode.childNodes.length-2]);}this._blurOptionNode();},_onMouseDown:function(evt){dojo.stopEvent(evt);},_onMouseUp:function(evt){if(evt.target===this.domNode||!this._highlighted_option){return;}else{if(evt.target==this.previousButton){this._blurOptionNode();this.onPage(-1);}else{if(evt.target==this.nextButton){this._blurOptionNode();this.onPage(1);}else{var tgt=evt.target;while(!tgt.item){tgt=tgt.parentNode;}this._setValueAttr({target:tgt},true);}}}},_onMouseOver:function(evt){if(evt.target===this.domNode){return;}var tgt=evt.target;if(!(tgt==this.previousButton||tgt==this.nextButton)){while(!tgt.item){tgt=tgt.parentNode;}}this._focusOptionNode(tgt);},_onMouseOut:function(evt){if(evt.target===this.domNode){return;}this._blurOptionNode();},_focusOptionNode:function(node){if(this._highlighted_option!=node){this._blurOptionNode();this._highlighted_option=node;dojo.addClass(this._highlighted_option,"dijitMenuItemSelected");}},_blurOptionNode:function(){if(this._highlighted_option){dojo.removeClass(this._highlighted_option,"dijitMenuItemSelected");this._highlighted_option=null;}},_highlightNextOption:function(){if(!this.getHighlightedOption()){var fc=this.domNode.firstChild;this._focusOptionNode(fc.style.display=="none"?fc.nextSibling:fc);}else{var ns=this._highlighted_option.nextSibling;if(ns&&ns.style.display!="none"){this._focusOptionNode(ns);}else{this.highlightFirstOption();}}dojo.window.scrollIntoView(this._highlighted_option);},highlightFirstOption:function(){var _4e0=this.domNode.firstChild;var _4e1=_4e0.nextSibling;this._focusOptionNode(_4e1.style.display=="none"?_4e0:_4e1);dojo.window.scrollIntoView(this._highlighted_option);},highlightLastOption:function(){this._focusOptionNode(this.domNode.lastChild.previousSibling);dojo.window.scrollIntoView(this._highlighted_option);},_highlightPrevOption:function(){if(!this.getHighlightedOption()){var lc=this.domNode.lastChild;this._focusOptionNode(lc.style.display=="none"?lc.previousSibling:lc);}else{var ps=this._highlighted_option.previousSibling;if(ps&&ps.style.display!="none"){this._focusOptionNode(ps);}else{this.highlightLastOption();}}dojo.window.scrollIntoView(this._highlighted_option);},_page:function(up){var _4e2=0;var _4e3=this.domNode.scrollTop;var _4e4=dojo.style(this.domNode,"height");if(!this.getHighlightedOption()){this._highlightNextOption();}while(_4e2<_4e4){if(up){if(!this.getHighlightedOption().previousSibling||this._highlighted_option.previousSibling.style.display=="none"){break;}this._highlightPrevOption();}else{if(!this.getHighlightedOption().nextSibling||this._highlighted_option.nextSibling.style.display=="none"){break;}this._highlightNextOption();}var _4e5=this.domNode.scrollTop;_4e2+=(_4e5-_4e3)*(up?-1:1);_4e3=_4e5;}},pageUp:function(){this._page(true);},pageDown:function(){this._page(false);},getHighlightedOption:function(){var ho=this._highlighted_option;return (ho&&ho.parentNode)?ho:null;},handleKey:function(evt){switch(evt.charOrCode){case dojo.keys.DOWN_ARROW:this._highlightNextOption();return false;case dojo.keys.PAGE_DOWN:this.pageDown();return false;case dojo.keys.UP_ARROW:this._highlightPrevOption();return false;case dojo.keys.PAGE_UP:this.pageUp();return false;default:return true;}}});dojo.declare("dijit.form.ComboBox",[dijit.form.ValidationTextBox,dijit.form.ComboBoxMixin],{_setValueAttr:function(_4e6,_4e7,_4e8){this._set("item",null);if(!_4e6){_4e6="";}dijit.form.ValidationTextBox.prototype._setValueAttr.call(this,_4e6,_4e7,_4e8);}});dojo.declare("dijit.form._ComboBoxDataStore",null,{constructor:function(root){this.root=root;if(root.tagName!="SELECT"&&root.firstChild){root=dojo.query("select",root);if(root.length>0){root=root[0];}else{this.root.innerHTML="<SELECT>"+this.root.innerHTML+"</SELECT>";root=this.root.firstChild;}this.root=root;}dojo.query("> option",root).forEach(function(node){node.innerHTML=dojo.trim(node.innerHTML);});},getValue:function(item,_4e9,_4ea){return (_4e9=="value")?item.value:(item.innerText||item.textContent||"");},isItemLoaded:function(_4eb){return true;},getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true};},_fetchItems:function(args,_4ec,_4ed){if(!args.query){args.query={};}if(!args.query.name){args.query.name="";}if(!args.queryOptions){args.queryOptions={};}var _4ee=dojo.data.util.filter.patternToRegExp(args.query.name,args.queryOptions.ignoreCase),_4ef=dojo.query("> option",this.root).filter(function(_4f0){return (_4f0.innerText||_4f0.textContent||"").match(_4ee);});if(args.sort){_4ef.sort(dojo.data.util.sorter.createSortFunction(args.sort,this));}_4ec(_4ef,args);},close:function(_4f1){return;},getLabel:function(item){return item.innerHTML;},getIdentity:function(item){return dojo.attr(item,"value");},fetchItemByIdentity:function(args){var item=dojo.query("> option[value='"+args.identity+"']",this.root)[0];args.onItem(item);},fetchSelectedItem:function(){var root=this.root,si=root.selectedIndex;return typeof si=="number"?dojo.query("> option:nth-child("+(si!=-1?si+1:1)+")",root)[0]:null;}});dojo.extend(dijit.form._ComboBoxDataStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dojo.data.ItemFileReadStore"]){dojo._hasResource["dojo.data.ItemFileReadStore"]=true;dojo.provide("dojo.data.ItemFileReadStore");dojo.declare("dojo.data.ItemFileReadStore",null,{constructor:function(_4f2){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_4f2.url;this._ccUrl=_4f2.url;this.url=_4f2.url;this._jsonData=_4f2.data;this.data=null;this._datatypeMap=_4f2.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_4f3){return dojo.date.stamp.fromISOString(_4f3);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];if(_4f2.urlPreventCache!==undefined){this.urlPreventCache=_4f2.urlPreventCache?true:false;}if(_4f2.hierarchical!==undefined){this.hierarchical=_4f2.hierarchical?true:false;}if(_4f2.clearOnClose){this.clearOnClose=true;}if("failOk" in _4f2){this.failOk=_4f2.failOk?true:false;}},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,failOk:false,hierarchical:true,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojo.data.ItemFileReadStore: Invalid item argument.");}},_assertIsAttribute:function(_4f4){if(typeof _4f4!=="string"){throw new Error("dojo.data.ItemFileReadStore: Invalid attribute argument.");}},getValue:function(item,_4f5,_4f6){var _4f7=this.getValues(item,_4f5);return (_4f7.length>0)?_4f7[0]:_4f6;},getValues:function(item,_4f8){this._assertIsItem(item);this._assertIsAttribute(_4f8);return (item[_4f8]||[]).slice(0);},getAttributes:function(item){this._assertIsItem(item);var _4f9=[];for(var key in item){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){_4f9.push(key);}}return _4f9;},hasAttribute:function(item,_4fa){this._assertIsItem(item);this._assertIsAttribute(_4fa);return (_4fa in item);},containsValue:function(item,_4fb,_4fc){var _4fd=undefined;if(typeof _4fc==="string"){_4fd=dojo.data.util.filter.patternToRegExp(_4fc,false);}return this._containsValue(item,_4fb,_4fc,_4fd);},_containsValue:function(item,_4fe,_4ff,_500){return dojo.some(this.getValues(item,_4fe),function(_501){if(_501!==null&&!dojo.isObject(_501)&&_500){if(_501.toString().match(_500)){return true;}}else{if(_4ff===_501){return true;}}});},isItem:function(_502){if(_502&&_502[this._storeRefPropName]===this){if(this._arrayOfAllItems[_502[this._itemNumPropName]]===_502){return true;}}return false;},isItemLoaded:function(_503){return this.isItem(_503);},loadItem:function(_504){this._assertIsItem(_504.item);},getFeatures:function(){return this._features;},getLabel:function(item){if(this._labelAttr&&this.isItem(item)){return this.getValue(item,this._labelAttr);}return undefined;},getLabelAttributes:function(item){if(this._labelAttr){return [this._labelAttr];}return null;},_fetchItems:function(_505,_506,_507){var self=this,_508=function(_509,_50a){var _50b=[],i,key;if(_509.query){var _50c,_50d=_509.queryOptions?_509.queryOptions.ignoreCase:false;var _50e={};for(key in _509.query){_50c=_509.query[key];if(typeof _50c==="string"){_50e[key]=dojo.data.util.filter.patternToRegExp(_50c,_50d);}else{if(_50c instanceof RegExp){_50e[key]=_50c;}}}for(i=0;i<_50a.length;++i){var _50f=true;var _510=_50a[i];if(_510===null){_50f=false;}else{for(key in _509.query){_50c=_509.query[key];if(!self._containsValue(_510,key,_50c,_50e[key])){_50f=false;}}}if(_50f){_50b.push(_510);}}_506(_50b,_509);}else{for(i=0;i<_50a.length;++i){var item=_50a[i];if(item!==null){_50b.push(item);}}_506(_50b,_509);}};if(this._loadFinished){_508(_505,this._getItemsArray(_505.queryOptions));}else{if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_505,filter:_508});}else{this._loadInProgress=true;var _511={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _512=dojo.xhrGet(_511);_512.addCallback(function(data){try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;_508(_505,self._getItemsArray(_505.queryOptions));self._handleQueuedFetches();}catch(e){self._loadFinished=true;self._loadInProgress=false;_507(e,_505);}});_512.addErrback(function(_513){self._loadInProgress=false;_507(_513,_505);});var _514=null;if(_505.abort){_514=_505.abort;}_505.abort=function(){var df=_512;if(df&&df.fired===-1){df.cancel();df=null;}if(_514){_514.call(_505);}};}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;_508(_505,this._getItemsArray(_505.queryOptions));}catch(e){_507(e,_505);}}else{_507(new Error("dojo.data.ItemFileReadStore: No JSON source data was provided as either URL or a nested Javascript object."),_505);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _515=this._queuedFetches[i],_516=_515.args,_517=_515.filter;if(_517){_517(_516,this._getItemsArray(_516.queryOptions));}else{this.fetchItemByIdentity(_516);}}this._queuedFetches=[];}},_getItemsArray:function(_518){if(_518&&_518.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_519){if(this.clearOnClose&&this._loadFinished&&!this._loadInProgress){if(((this._jsonFileUrl==""||this._jsonFileUrl==null)&&(this.url==""||this.url==null))&&this.data==null){}this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._itemsByIdentity=null;this._loadInProgress=false;this._queuedFetches=[];}},_getItemsFromLoadedData:function(_51a){var _51b=false,self=this;function _51c(_51d){var _51e=((_51d!==null)&&(typeof _51d==="object")&&(!dojo.isArray(_51d)||_51b)&&(!dojo.isFunction(_51d))&&(_51d.constructor==Object||dojo.isArray(_51d))&&(typeof _51d._reference==="undefined")&&(typeof _51d._type==="undefined")&&(typeof _51d._value==="undefined")&&self.hierarchical);return _51e;};function _51f(_520){self._arrayOfAllItems.push(_520);for(var _521 in _520){var _522=_520[_521];if(_522){if(dojo.isArray(_522)){var _523=_522;for(var k=0;k<_523.length;++k){var _524=_523[k];if(_51c(_524)){_51f(_524);}}}else{if(_51c(_522)){_51f(_522);}}}}};this._labelAttr=_51a.label;var i,item;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_51a.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){item=this._arrayOfTopLevelItems[i];if(dojo.isArray(item)){_51b=true;}_51f(item);item[this._rootItemPropName]=true;}var _525={},key;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){if(key!==this._rootItemPropName){var _526=item[key];if(_526!==null){if(!dojo.isArray(_526)){item[key]=[_526];}}else{item[key]=[null];}}_525[key]=key;}}while(_525[this._storeRefPropName]){this._storeRefPropName+="_";}while(_525[this._itemNumPropName]){this._itemNumPropName+="_";}while(_525[this._reverseRefMap]){this._reverseRefMap+="_";}var _527;var _528=_51a.identifier;if(_528){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=_528;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];_527=item[_528];var _529=_527[0];if(!Object.hasOwnProperty.call(this._itemsByIdentity,_529)){this._itemsByIdentity[_529]=item;}else{if(this._jsonFileUrl){throw new Error("dojo.data.ItemFileReadStore:  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_528+"].  Value collided: ["+_529+"]");}else{if(this._jsonData){throw new Error("dojo.data.ItemFileReadStore:  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_528+"].  Value collided: ["+_529+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];item[this._storeRefPropName]=this;item[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){_527=item[key];for(var j=0;j<_527.length;++j){_526=_527[j];if(_526!==null&&typeof _526=="object"){if(("_type" in _526)&&("_value" in _526)){var type=_526._type;var _52a=this._datatypeMap[type];if(!_52a){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+type+"'");}else{if(dojo.isFunction(_52a)){_527[j]=new _52a(_526._value);}else{if(dojo.isFunction(_52a.deserialize)){_527[j]=_52a.deserialize(_526._value);}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_526._reference){var _52b=_526._reference;if(!dojo.isObject(_52b)){_527[j]=this._getItemByIdentity(_52b);}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _52c=this._arrayOfAllItems[k],_52d=true;for(var _52e in _52b){if(_52c[_52e]!=_52b[_52e]){_52d=false;}}if(_52d){_527[j]=_52c;}}}if(this.referenceIntegrity){var _52f=_527[j];if(this.isItem(_52f)){this._addReferenceToMap(_52f,item,key);}}}else{if(this.isItem(_526)){if(this.referenceIntegrity){this._addReferenceToMap(_526,item,key);}}}}}}}},_addReferenceToMap:function(_530,_531,_532){},getIdentity:function(item){var _533=this._features["dojo.data.api.Identity"];if(_533===Number){return item[this._itemNumPropName];}else{var _534=item[_533];if(_534){return _534[0];}}return null;},fetchItemByIdentity:function(_535){var item,_536;if(!this._loadFinished){var self=this;if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_535});}else{this._loadInProgress=true;var _537={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _538=dojo.xhrGet(_537);_538.addCallback(function(data){var _539=_535.scope?_535.scope:dojo.global;try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;item=self._getItemByIdentity(_535.identity);if(_535.onItem){_535.onItem.call(_539,item);}self._handleQueuedFetches();}catch(error){self._loadInProgress=false;if(_535.onError){_535.onError.call(_539,error);}}});_538.addErrback(function(_53a){self._loadInProgress=false;if(_535.onError){var _53b=_535.scope?_535.scope:dojo.global;_535.onError.call(_53b,_53a);}});}}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;item=self._getItemByIdentity(_535.identity);if(_535.onItem){_536=_535.scope?_535.scope:dojo.global;_535.onItem.call(_536,item);}}}}else{item=this._getItemByIdentity(_535.identity);if(_535.onItem){_536=_535.scope?_535.scope:dojo.global;_535.onItem.call(_536,item);}}},_getItemByIdentity:function(_53c){var item=null;if(this._itemsByIdentity&&Object.hasOwnProperty.call(this._itemsByIdentity,_53c)){item=this._itemsByIdentity[_53c];}else{if(Object.hasOwnProperty.call(this._arrayOfAllItems,_53c)){item=this._arrayOfAllItems[_53c];}}if(item===undefined){item=null;}return item;},getIdentityAttributes:function(item){var _53d=this._features["dojo.data.api.Identity"];if(_53d===Number){return null;}else{return [_53d];}},_forceLoad:function(){var self=this;if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){var _53e={url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:true};var _53f=dojo.xhrGet(_53e);_53f.addCallback(function(data){try{if(self._loadInProgress!==true&&!self._loadFinished){self._getItemsFromLoadedData(data);self._loadFinished=true;}else{if(self._loadInProgress){throw new Error("dojo.data.ItemFileReadStore:  Unable to perform a synchronous load, an async load is in progress.");}}}catch(e){throw e;}});_53f.addErrback(function(_540){throw _540;});}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;}}}});dojo.extend(dojo.data.ItemFileReadStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["agi.classes.Adopter"]){dojo._hasResource["agi.classes.Adopter"]=true;dojo.provide("agi.classes.Adopter");dojo.declare("agi.classes.Adopter",[agi.classes.Identified],{constructor:function(_541){if(dojo.isObject(_541)){dojo.mixin(this,_541);this.postMixInProperties();}},postMixInProperties:function(){return;}});}if(!dojo._hasResource["ag.classes.Adopter"]){dojo._hasResource["ag.classes.Adopter"]=true;dojo.provide("ag.classes.Adopter");ag.classes.Adopter=agi.classes.Adopter;}if(!dojo._hasResource["ag.widget.SearchBox"]){dojo._hasResource["ag.widget.SearchBox"]=true;dojo.provide("ag.widget.SearchBox");dojo.declare("ag.widget.SearchBox",[ag.classes.Adopter],function(){var self={};var d=dojo;d.mixin(self,{searchInput:null,searchNode:null,dataUrl:null,dataStore:null,searchFormId:null,searchFormNode:null,searchInputId:"ag-searchtext",searchWidgetId:null,searchInputName:"strSearch",hasDownArrow:false,isStarted:false,StoreClass:d.data.ItemFileReadStore,ComboBoxClass:dijit.form.ComboBox,SEARCH_ATTR:"d",SEARCH_DELAY:100,SEARCH_AUTOCOMPLETE:false});self.constructor=function(){};self.startup=function(){if(dijit.byId(this.searchWidgetId)||this.isStarted){return;}this.getDataStore();if(!this.dataStore){return;}this.getSearchNodes();this.connectEvents();this.isStarted=true;};self.getDataStore=function(){this.dataStore=new this.StoreClass({url:this.dataUrl});};self.getSearchNodes=function(){var _542={id:this.searchWidgetId,name:this.searchInputName,searchAttr:this.SEARCH_ATTR,hasDownArrow:this.hasDownArrow,searchDelay:this.SEARCH_DELAY,autoComplete:this.SEARCH_AUTOCOMPLETE,store:this.dataStore};this.searchNode=dojo.byId(this.searchInputId);if(this.searchNode){this.searchInput=new this.ComboBoxClass(_542,this.searchNode);this.dataStore._forceLoad();this.dataStore.fetch({onError:d.hitch(this,this.dataLoadFailHandler)});}else{}this.searchButton=dojo.byId(this.searchButtonId);this.searchFormNode=dojo.byId(this.searchFormId);};self.dataLoadFailHandler=function(_543,_544){var _545=function(){return;};this.searchInput.disabled=true;for(attr in this.searchInput){if(d.isString(attr)){if(attr.startswith("on")||attr.startswith("_on")){this.searchInput[attr]=_545;}}}this.dataStore=null;d.disconnect(this.onKeypressHandle);};self.handleOnKeypress=function(evt){if(evt.altKey||evt.ctrlKey&&evt.charCode!=118){return;}else{if(this.searchInput._isShowingNow){return;}else{if(evt.keyCode==d.keys.ENTER){this.searchSubmitCallback();}}}};self.connectEvents=function(){this.onKeypressHandle=d.connect(this.searchInput,"_onKeyPress",this,this.handleOnKeypress);};return self;}());}if(!dojo._hasResource["ag.search.Searcher"]){dojo._hasResource["ag.search.Searcher"]=true;dojo.provide("ag.search.Searcher");dojo.declare("ag.search.Searcher",[ag.classes.Adopter],{searchBox:null,searchPage:null,errMsg:null,widgId:null,locId:null,searchButtonId:null,isStarted:false,_onBlurHandle:null,_onFocusHandle:null,SEARCHBOX_STYLE:{border:"2px solid #ff0000",background:"#FFDDDD"},DEFAULT_SEARCH_PAGE:"/ecards/search.pd",startup:function(){this.searchBox=dojo.byId(this.widgId);this.searchButton=dojo.byId(this.searchButtonId);var _546=dojo.byId(this.locId);if(_546){this.searchPage=_546.value;}else{this.searchPage=this.DEFAULT_SEARCH_PAGE;}this.attachEvents();},onBlur:function(){if(this.searchBox&&(this.searchBox.value==="")){this.searchBox.value=this.errMsg;}},onFocus:function(){if(this.searchBox&&(this.searchBox.value==this.errMsg)){this.searchBox.value="";}},attachEvents:function(){if(this.searchButton){this._doSearchHandle=dojo.connect(this.searchButton,"onclick",this,this.doSearch);}if(this.searchBox){this._onBlurHandle=dojo.connect(this.searchBox,"onblur",this,this.onBlur);this._onFocusHandle=dojo.connect(this.searchBox,"onfocus",this,this.onFocus);}},highlightSearchBox:function(){if(this.searchBox){dojo.style(this.searchBox,this.SEARCHBOX_STYLE);this.searchBox.value=this.errMsg;this.searchBox.blur();}},sendToThisPage:function(){if(!this.searchBox){return;}var _547=this.searchPage+"?strSearch="+escape(this.searchBox.value);if(dojo.byId("lpage")){_547=_547+"&lpage="+escape(dojo.byId("lpage").value);}window.document.location.href=_547;},doSearch:function(evt){try{if(!this.searchBox){return;}if((!this.searchBox.value.length)||(this.searchBox.value==this.errMsg)){this.highlightSearchBox();}else{this.sendToThisPage();}return false;}catch(e){return false;}}});}if(!dojo._hasResource["agi.classes.Controller"]){dojo._hasResource["agi.classes.Controller"]=true;dojo.provide("agi.classes.Controller");dojo.declare("agi.classes.Controller",[agi.classes.Adopter],function(){var self={};dojo.mixin(self,{__culprit__:"$Author: dbuch $"});return self;}());}if(!dojo._hasResource["agi.classes._Mixin"]){dojo._hasResource["agi.classes._Mixin"]=true;dojo.provide("agi.classes._Mixin");dojo.declare("agi.classes._Mixin",[agi.classes.Controller],{__culprit__:"$Author: dbuch $"});}if(!dojo._hasResource["ag.classes._Mixin"]){dojo._hasResource["ag.classes._Mixin"]=true;dojo.provide("ag.classes._Mixin");ag.classes._Mixin=agi.classes._Mixin;}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Container",null,{isContainer:true,buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_548,_549){var _54a=this.containerNode;if(_549&&typeof _549=="number"){var _54b=this.getChildren();if(_54b&&_54b.length>=_549){_54a=_54b[_549-1].domNode;_549="after";}}dojo.place(_548.domNode,_54a,_549);if(this._started&&!_548._started){_548.startup();}},removeChild:function(_54c){if(typeof _54c=="number"){_54c=this.getChildren()[_54c];}if(_54c){var node=_54c.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},destroyDescendants:function(_54d){dojo.forEach(this.getChildren(),function(_54e){_54e.destroyRecursive(_54d);});},_getSiblingOfChild:function(_54f,dir){var node=_54f.domNode,_550=(dir>0?"nextSibling":"previousSibling");do{node=node[_550];}while(node&&(node.nodeType!=1||!dijit.byNode(node)));return node&&dijit.byNode(node);},getIndexOfChild:function(_551){return dojo.indexOf(this.getChildren(),_551);},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_552){_552.startup();});this.inherited(arguments);}});}if(!dojo._hasResource["dijit.form.Button"]){dojo._hasResource["dijit.form.Button"]=true;dojo.provide("dijit.form.Button");dojo.declare("dijit.form.Button",dijit.form._FormWidget,{label:"",showLabel:true,iconClass:"",type:"button",baseClass:"dijitButton",templateString:dojo.cache("dijit.form","templates/Button.html","<span class=\"dijit dijitReset dijitInline\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdojoAttachEvent=\"ondijitclick:_onButtonClick\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdojoAttachPoint=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\tdojoAttachPoint=\"valueNode\"\n/></span>\n"),attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:"valueNode"}),_onClick:function(e){if(this.disabled){return false;}this._clicked();return this.onClick(e);},_onButtonClick:function(e){if(this._onClick(e)===false){e.preventDefault();}else{if(this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _553=dijit.byNode(node);if(_553&&typeof _553._onSubmit=="function"){_553._onSubmit(e);break;}}}else{if(this.valueNode){this.valueNode.click();e.preventDefault();}}}},buildRendering:function(){this.inherited(arguments);dojo.setSelectable(this.focusNode,false);},_fillContent:function(_554){if(_554&&(!this.params||!("label" in this.params))){this.set("label",_554.innerHTML);}},_setShowLabelAttr:function(val){if(this.containerNode){dojo.toggleClass(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},onClick:function(e){return true;},_clicked:function(e){},setLabel:function(_555){dojo.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_555);},_setLabelAttr:function(_556){this._set("label",_556);this.containerNode.innerHTML=_556;if(this.showLabel==false&&!this.params.title){this.titleNode.title=dojo.trim(this.containerNode.innerText||this.containerNode.textContent||"");}},_setIconClassAttr:function(val){var _557=this.iconClass||"dijitNoIcon",_558=val||"dijitNoIcon";dojo.replaceClass(this.iconNode,_558,_557);this._set("iconClass",val);}});dojo.declare("dijit.form.DropDownButton",[dijit.form.Button,dijit._Container,dijit._HasDropDown],{baseClass:"dijitDropDownButton",templateString:dojo.cache("dijit.form","templates/DropDownButton.html","<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdojoAttachEvent=\"ondijitclick:_onButtonClick\" dojoAttachPoint=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"focusNode,titleNode,_arrowWrapperNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdojoAttachPoint=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdojoAttachPoint=\"containerNode,_popupStateNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\tdojoAttachPoint=\"valueNode\"\n/></span>\n"),_fillContent:function(){if(this.srcNodeRef){var _559=dojo.query("*",this.srcNodeRef);dijit.form.DropDownButton.superclass._fillContent.call(this,_559[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){var _55a=dojo.query("[widgetId]",this.dropDownContainer)[0];this.dropDown=dijit.byNode(_55a);delete this.dropDownContainer;}if(this.dropDown){dijit.popup.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _55b=this.dropDown;return (!!_55b&&(!_55b.href||_55b.isLoaded));},loadDropDown:function(){var _55c=this.dropDown;if(!_55c){return;}if(!this.isLoaded()){var _55d=dojo.connect(_55c,"onLoad",this,function(){dojo.disconnect(_55d);this.openDropDown();});_55c.refresh();}else{this.openDropDown();}},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});dojo.declare("dijit.form.ComboButton",dijit.form.DropDownButton,{templateString:dojo.cache("dijit.form","templates/ComboButton.html","<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" dojoAttachPoint=\"buttonNode\" dojoAttachEvent=\"ondijitclick:_onButtonClick,onkeypress:_onButtonKeyPress\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" dojoAttachPoint=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdojoAttachPoint=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdojoAttachEvent=\"onkeypress:_onArrowKeyPress\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" dojoAttachPoint=\"valueNode\"\n\t\t/></td></tr></tbody\n></table>\n"),attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{id:"",tabIndex:["focusNode","titleNode"],title:"titleNode"}),optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyPress:function(evt){if(evt.charOrCode==dojo.keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){dijit.focus(this._popupStateNode);dojo.stopEvent(evt);}},_onArrowKeyPress:function(evt){if(evt.charOrCode==dojo.keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){dijit.focus(this.titleNode);dojo.stopEvent(evt);}},focus:function(_55e){if(!this.disabled){dijit.focus(_55e=="start"?this.titleNode:this._popupStateNode);}}});dojo.declare("dijit.form.ToggleButton",dijit.form.Button,{baseClass:"dijitToggleButton",checked:false,attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{checked:"focusNode"}),_clicked:function(evt){this.set("checked",!this.checked);},_setCheckedAttr:function(_55f,_560){this._set("checked",_55f);dojo.attr(this.focusNode||this.domNode,"checked",_55f);dijit.setWaiState(this.focusNode||this.domNode,"pressed",_55f);this._handleOnChange(_55f,_560);},setChecked:function(_561){dojo.deprecated("setChecked("+_561+") is deprecated. Use set('checked',"+_561+") instead.","","2.0");this.set("checked",_561);},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});}if(!dojo._hasResource["dijit.form.ToggleButton"]){dojo._hasResource["dijit.form.ToggleButton"]=true;dojo.provide("dijit.form.ToggleButton");}if(!dojo._hasResource["dijit.form.CheckBox"]){dojo._hasResource["dijit.form.CheckBox"]=true;dojo.provide("dijit.form.CheckBox");dojo.declare("dijit.form.CheckBox",dijit.form.ToggleButton,{templateString:dojo.cache("dijit.form","templates/CheckBox.html","<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><input\n\t \t${!nameAttrSetting} type=\"${type}\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdojoAttachPoint=\"focusNode\"\n\t \tdojoAttachEvent=\"onclick:_onClick\"\n/></div>\n"),baseClass:"dijitCheckBox",type:"checkbox",value:"on",readOnly:false,attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{readOnly:"focusNode"}),_setReadOnlyAttr:function(_562){this._set("readOnly",_562);dojo.attr(this.focusNode,"readOnly",_562);dijit.setWaiState(this.focusNode,"readonly",_562);},_setValueAttr:function(_563,_564){if(typeof _563=="string"){this._set("value",_563);dojo.attr(this.focusNode,"value",_563);_563=true;}if(this._created){this.set("checked",_563,_564);}},_getValueAttr:function(){return (this.checked?this.value:false);},_setLabelAttr:undefined,postMixInProperties:function(){if(this.value==""){this.value="on";}this.checkedAttrSetting=this.checked?"checked":"";this.inherited(arguments);},_fillContent:function(_565){},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);this._set("value",this.params.value||"on");dojo.attr(this.focusNode,"value",this.value);},_onFocus:function(){if(this.id){dojo.query("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}this.inherited(arguments);},_onBlur:function(){if(this.id){dojo.query("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}this.inherited(arguments);},_onClick:function(e){if(this.readOnly){dojo.stopEvent(e);return false;}return this.inherited(arguments);}});dojo.declare("dijit.form.RadioButton",dijit.form.CheckBox,{type:"radio",baseClass:"dijitRadio",_setCheckedAttr:function(_566){this.inherited(arguments);if(!this._created){return;}if(_566){var _567=this;dojo.query("INPUT[type=radio]",this.focusNode.form||dojo.doc).forEach(function(_568){if(_568.name==_567.name&&_568!=_567.focusNode&&_568.form==_567.focusNode.form){var _569=dijit.getEnclosingWidget(_568);if(_569&&_569.checked){_569.set("checked",false);}}});}},_clicked:function(e){if(!this.checked){this.set("checked",true);}}});}if(!dojo._hasResource["ag.search.SearchMixin"]){dojo._hasResource["ag.search.SearchMixin"]=true;dojo.provide("ag.search.SearchMixin");dojo.declare("ag.search.SearchMixin",[ag.classes._Mixin],function(){var self={};var d=dojo;d.mixin(self,{khost:null,searchInputs:{},searchInputIds:[],searchFormIds:[],searchProductLines:[],searchIsAutocomplete:true,_searchOnSubmitHandles:[],SearchBoxClass:ag.widget.SearchBox,SearcherClass:ag.search.Searcher,SearchDataStoreClass:d.data.ItemFileReadStore,SEARCH_DIMS_FILE:"dims.txt",SEARCH_BOX_ID:"ag-searchtext",SEARCH_BOX_PREFIX:"ag-searchtext-",SEARCH_BUTTON_PREFIX:"ag-search-submit-",SEARCH_SUBMIT_SUFFIX:"-actual",SEARCH_INPUT_NAME:"strSearch",SEARCH_LOC_PREFIX:"ag-searcharea-",SEARCH_LOC_ID:"ag-searcharea",SEARCH_FORM_PREFIX:"search-",SEARCH_ERROR:"Enter Search Here",SEARCH_MSN_ACTION:"http://search.msn.com/results.aspx",SEARCH_MSN_FORM:"msn-search",SEARCH_MSN_AG_BUTTON:"msn-agsearch",SEARCH_MSN_SEARCH_INPUT:"q",SEARCH_CLASS_HIDDEN:"hidden"});self.constructor=function(){var p=agx.currentPage;this.khost=p.khost;if(!this.khost){var loc=window.location;this.khost=[loc.protocol,loc.host].join("//");}this._searchLastDitchTimeouts={};this.searchIsAutocomplete=p.searchIsAutocomplete;this.searchProductLines=p.searchProductLines;if(!this.searchProductLines){this.searchProductLines=["ecards-nav"];}else{if(dojo.indexOf(this.searchProductLines,"ecards-nav")==-1){this.searchProductLines.push("ecards-nav");}}if(!this.searchProductLines){this.searchProductLines=["printables-nav"];}else{if(dojo.indexOf(this.searchProductLines,"printables-nav")==-1){this.searchProductLines.push("printables-nav");}}this.searchGetSearchInputs();};self.searchGetSearchInputs=function(){dojo.forEach(this.searchProductLines,function(p){var _56a=this.searchInputs[p]={};_56a.canActivate=false;var _56b=this.SEARCH_FORM_PREFIX+p;var _56c=this.SEARCH_BUTTON_PREFIX+p;var _56d=_56c+this.SEARCH_SUBMIT_SUFFIX;this.searchSwapSubmitButton(_56a,_56c,_56d);if(!_56a.canActivate){return;}var _56e=this.SEARCH_BOX_PREFIX+p;var _56f=this.SEARCH_LOC_PREFIX+p;var _570="widget-"+_56e;var _571=dojo.hitch(this,function(){this.searchSubmit(p);});var _572={dataUrl:"/"+[p.replace("-nav",""),this.SEARCH_DIMS_FILE].join("/"),searchInputId:_56e,searchWidgetId:_570,searchInputName:this.SEARCH_INPUT_NAME,searchFormId:_56b,searchButtonId:_56c,searchSubmitCallback:_571,productLine:p};if(this.searchIsAutocomplete){_572.SEARCH_AUTOCOMPLETE=true;}var _573=new this.SearchBoxClass(_572);_573.startup();var _574={widgId:_570,locId:_56f,buttonId:_56c};var _575=this.searchGetSearcher(_574);dojo.mixin(this.searchInputs[p],{input:_573,searcher:_575});this.searchInputIds.push(_56e);this.searchFormIds.push(_56b);_575.startup();},this);return true;};self.searchSwapSubmitButton=function(_576,_577,_578){_576.canActivate=true;};self.searchGetSearcher=function(_579){var _57a={widgId:_579.widgId||this.SEARCH_BOX_ID,locId:_579.locId||this.SEARCH_LOC_ID,searchButtonId:_579.buttonId,errMsg:_579.errMsg||this.SEARCH_ERROR};var _57b=new this.SearcherClass(_57a);_57b.startup();return _57b;};self.searchFocus=function(){var node=dojo.byId(this.searchInputIds[0]);if(node){node.focus();}};self.searchSubmit=function(_57c){var _57d={};return this.searchInputs[_57c].searcher.doSearch(_57d);};self.searchSubmitMSN=function(_57e){if(_57e=="ag"){try{search_params={buttonId:this.SEARCH_MSN_AG_BUTTON};if(this.searchProductLines){search_params["locId"]=this.SEARCH_LOC_PREFIX+this.searchProductLines[0];}var _57f=this.searchGetSearcher(search_params);_57f.searchBox=dojo.byId(this.SEARCH_MSN_SEARCH_INPUT);_57f.doSearch({});}catch(e){return false;}}else{if(_57e=="msn"){try{var form=dojo.doc.forms[this.SEARCH_MSN_FORM];form.action=this.SEARCH_MSN_ACTION;form.submit();}catch(er){return false;}}}};self.searchMSNSubmit=self.searchSubmitMSN;return self;}());}if(!dojo._hasResource["ag.util"]){dojo._hasResource["ag.util"]=true;dojo.provide("ag.util");ag.util=agi.util;}if(!dojo._hasResource["ag._base"]){dojo._hasResource["ag._base"]=true;dojo.provide("ag._base");dojo.provide("ag.registry");ag.registry=agi.registry;ag.byId=agi.byId;ag.listAll=agi.listAll;ag._loadedResources=ag._loadedResources;ag._mimeMap=agi._mimeMap;ag.requireJs=agi.requireJs;ag.requireCss=agi.requireCss;ag.require=agi.require;}if(!dojo._hasResource["agi.classes.Publisher"]){dojo._hasResource["agi.classes.Publisher"]=true;dojo.provide("agi.classes.Publisher");dojo.declare("agi.classes.Publisher",[agi.classes.Identified],{isBuilt:false,buildBeginEvent:null,_buildBeginTimer:null,buildCompleteEvent:null,_buildCompleteTimer:null,_publishHasEvents:false,BUILD_BEGIN_EVENT_TMPL:"/${id}/build/begin/",BUILD_COMPLETE_EVENT_TMPL:"/${id}/build/complete/",postMixInProperties:function(){this.buildEventTopics();},buildEventTopics:function(){this.buildBeginEvent=this.BUILD_BEGIN_EVENT_TMPL.toString().replace("${id}",this.id);this.buildCompleteEvent=this.BUILD_COMPLETE_EVENT_TMPL.toString().replace("${id}",this.id);},publishBuildBegin:function(){this._buildBeginTimer=new Date().getTime();dojo.publish(this.buildBeginEvent,[{message:this+" build started",time:this._buildBeginTimer,handle:this.buildBeginEvent}]);},publishBuildComplete:function(){this._buildCompleteTimer=new Date().getTime();dojo.publish(this.buildCompleteEvent,[{message:this+" build complete",time:this._buildCompleteTimer,total:(this._buildCompleteTimer-this._buildBeginTimer),handle:this.buildCompleteHandle}]);}});}if(!dojo._hasResource["ag.classes.Publisher"]){dojo._hasResource["ag.classes.Publisher"]=true;dojo.provide("ag.classes.Publisher");ag.classes.Publisher=agi.classes.Publisher;}if(!dojo._hasResource["ag.widget.Quickshop"]){dojo._hasResource["ag.widget.Quickshop"]=true;dojo.provide("ag.widget.Quickshop");dojo.declare("ag.widget.Quickshop",[ag.classes.Publisher],function(){var self={};dojo.mixin(self,{dataUrl:"/$productLine/quickshop.pd",_optionCache:{},_eventCache:{},XHR_TIMEOUT:30*1000,DUMMY_OPTION:"[Choose $label]",CLASS_HIDDEN:"hidden",OCCASION:"occasion",RECIPIENT:"recipient",SENTIMENT:"sentiment",OCCASION_ID:"qs-occasion-select-",RECIPIENT_ID:"qs-recipient-select-",SENTIMENT_ID:"qs-sentiment-select-",SUBMIT_BUTTON_ID:"qs-submit-button-"});self.constructor=function(args){if(dojo.isObject(args)){dojo.mixin(this,args);}this._optionCache={};this._eventCache={};this.data={};this.dataUrl=this.dataUrl.replace("$productLine",this.productLine);this.occasionSelect=dojo.byId(this.OCCASION_ID+this.productLine);this.recipientSelect=dojo.byId(this.RECIPIENT_ID+this.productLine);this.sentimentSelect=dojo.byId(this.SENTIMENT_ID+this.productLine);this.submitButton=dojo.byId(this.SUBMIT_BUTTON_ID+this.productLine);hasNecessaryNodes=dojo.every([this.occasionSelect,this.recipientSelect,this.sentimentSelect,this.submitButton],ag.util.isDef);if(!hasNecessaryNodes){return;}this.setupForm();};self.setupForm=function(){this._connectChange("occasion",this.occasionSelect);this._connectChange("recipient",this.recipientSelect);this._connectChange("sentiment",this.sentimentSelect);this.lockForm();this._xhrUpdate({},[this.RECIPIENT,this.SENTIMENT]);};self._connectChange=function(name,node){name+="Change";this._eventCache[name]=dojo.connect(node,"onchange",this,this.onChange);};self._xhrUpdate=function(_580,_581){var _582={url:this.dataUrl,handleAs:"json",updateTargets:_581,load:dojo.hitch(this,this._xhrHandleLoad),error:dojo.hitch(this,this._xhrHandleError),timeout:this.XHR_TIMEOUT,content:_580?_580:{}};dojo.xhrGet(_582);};self._xhrHandleLoad=function(data,_583){this.data=data;this.unlockForm();var _584=_583.args.updateTargets;var _585=_583.args.content;dojo.forEach(_584,function(_586){var args={"caller":_586};dojo.mixin(args,_585);this.buildDropDown(args);},this);if(this.data){this._unhideNode(this.recipientSelect.parentNode);this._unhideNode(this.sentimentSelect.parentNode);}};self._xhrHandleError=function(_587,_588){this.unlockForm();this._revertToStaticForm();};self._revertToStaticForm=function(){this._hideNode(this.recipientSelect.parentNode);this._hideNode(this.sentimentSelect.parentNode);dojo.forEach([this._eventCache.occasionChange,this._eventCache.recipientChange,this._eventCache.sentimentChange],dojo.disconnect);};self.onChange=function(evt){var _589={};var _58a=[];this.lockForm();var _58b=function(node){if(node.value&&node.value!="NULL"){_589[node.name]=node.value;}};var eid=evt.target.id;switch(eid){case this.OCCASION_ID+this.productLine:_58a=[this.SENTIMENT,this.RECIPIENT];_58b(this.occasionSelect);break;case this.RECIPIENT_ID+this.productLine:_58a=[this.SENTIMENT];_58b(this.occasionSelect);_58b(this.recipientSelect);break;case this.SENTIMENT_ID+this.productLine:_58a=[];_58b(this.occasionSelect);_58b(this.sentimentSelect);_58b(this.recipientSelect);break;}this._xhrUpdate(_589,_58a);};self.buildDropDown=function(args){var _58c=args.caller+"Select";var _58d=this[_58c];if(!_58d){return;}var _58e={curValue:_58d.value,opts:this.data[args.caller],selectNode:_58d,isEmpty:true};dojo.mixin(_58e,args);if(_58e.opts){has_length=(_58e.opts.length<=0);_58e.isEmpty=has_length?true:false;}this._removeAllFromSelect(_58d);this.addOptions(_58e);};self._removeAllFromSelect=function(_58f){if(!_58f.options){return;}node_count=_58f.options.length-1;for(var i=node_count;i>=0;i--){_58f.remove(i);}};self.addOptions=function(args){args.isEmpty=args.isEmpty?args.isEmpty:true;var _590=self._verifyDefaultNodes(args);if(!args.opts){return;}dojo.forEach(args.opts,function(pair,_591){var key=pair[0];var _592=pair[1];var _593=[_592,args.caller,args.selectNode.id].join("_");var _594={text:key,"value":_592,selectNode:args.selectNode,index:_591+_590,isSelected:(args.curValue&&_592==args.curValue),"key":_593};this._addOption(_594);},this);};self._verifyDefaultNodes=function(args){var _595=0;have_recipient=(args.selectNode.id==this.RECIPIENT_ID);have_sentiment=(args.selectNode.id==this.SENTIMENT_ID);if(args.isEmpty&&(have_recipient||have_sentiment)){var _596=ag.util.capitalize(args.caller);if(args.caller=="sentiment"){_596=ag.util.capitalize("tone");}var text=this.DUMMY_OPTION.replace("$label",_596);var _597={"text":text,value:"NULL",selectNode:args.selectNode,key:text,index:0};this._addOption(_597);_595+=1;}return _595;};self._addOption=function(args){if(!args.key){return;}var _598=this._createorGetOption(args);var _599=args.selectNode.options;if(_599&&_599.add){_599.add(_598,args.index);}else{args.selectNode.appendChild(_598);}if(_599&&args.isSelected){_599.selectedIndex=args.index;}};self._createorGetOption=function(args){var _59a=null;if(!_59a){_59a=dojo.doc.createElement("option");_59a.text=args.text.toLowerCase().replace("_"," ");_59a.value=args.value;}return _59a;};self.lockForm=function(){dojo.removeClass(this.submitButton,"submit");this.submitButton.disabled=true;dojo.forEach([this.occasionSelect,this.recipientSelect,this.sentimentSelect],this._hideNode);};self.unlockForm=function(){dojo.addClass(this.submitButton,"submit");this.submitButton.disabled=false;dojo.forEach([this.occasionSelect,this.recipientSelect,this.sentimentSelect],this._unhideNode);};self._hideNode=function(node){dojo.addClass(node,this.CLASS_HIDDEN);};self._unhideNode=function(node){dojo.removeClass(node,this.CLASS_HIDDEN);};return self;}());}if(!dojo._hasResource["ag.widget.QuickshopMultiMixin"]){dojo._hasResource["ag.widget.QuickshopMultiMixin"]=true;dojo.provide("ag.widget.QuickshopMultiMixin");dojo.declare("ag.widget.QuickshopMultiMixin",[ag.classes._Mixin],function(){var self={__culprit__:"$Author: mprugh $"};self.QuickshopWidgetClass=ag.widget.Quickshop;self.constructor=function(){var p=agx.currentPage;this.searchProductLines=p.searchProductLines;if(!this.searchProductLines){this.searchProductLines=["ecards-nav"];}else{if(dojo.indexOf(this.searchProductLines,"ecards-nav")==-1){this.searchProductLines.push("ecards-nav");}}if(!this.searchProductLines){this.searchProductLines=["printables-nav"];}else{if(dojo.indexOf(this.searchProductLines,"printables-nav")==-1){this.searchProductLines.push("printables-nav");}}this.quickshops={};dojo.forEach(this.searchProductLines,function(p){var args={productLine:p.replace("-nav",""),ahost:agx.currentPage.ahost,khost:agx.currentPage.khost};this.quickshops[p]=new this.QuickshopWidgetClass(args);},this);};return self;}());}if(!dojo._hasResource["ag.widget.NavigationSearch"]){dojo._hasResource["ag.widget.NavigationSearch"]=true;dojo.provide("ag.widget.NavigationSearch");dojo.declare("ag.widget.NavigationSearch",[agi.classes.Adopter],{constructor:function(){this.showSearchInNav();this.helperForDynamicMenusContainingForms();},helperForDynamicMenusContainingForms:function(){dojo.query("#agi-tabs > LI").connect("onmouseover",this,this.isRealMouseOver);dojo.query("#agi-tabs > LI").connect("onmouseout",this,this.isRealMouseOut);},isRealMouseOver:function(evt){if(this.isReal(evt.relatedTarget,evt.currentTarget)){dojo.addClass(evt.currentTarget,"gsfhover");}},isRealMouseOut:function(evt){if(this.isReal(evt.relatedTarget,evt.currentTarget)){dojo.removeClass(evt.currentTarget,"gsfhover");dojo.query("#widget-ag-searchtext-ecards-nav_popup").style("display","none");dojo.query("#widget-ag-searchtext-printables-nav_popup").style("display","none");}},isReal:function(_59b,tab){if(!_59b||!tab){return false;}if(dojo.isDescendant(_59b,tab)){return false;}if(dojo.isDescendant(_59b,dojo.byId("widget-ag-searchtext-ecards-nav_popup"))){return false;}if(dojo.isDescendant(_59b,dojo.byId("widget-ag-searchtext-printables-nav_popup"))){return false;}return true;},showSearchInNav:function(){this.ecardsForm=dojo.byId("search-ecards-nav");this.printablesForm=dojo.byId("search-printables-nav");this.ecardsQuickShopForm=dojo.byId("quickshop-form-ecards");this.printablesQuickShopForm=dojo.byId("quickshop-form-printables");dojo.query("input.searchRadio-ecards-nav").connect("onclick",this,this.searchClicked);dojo.query("input.searchRadio-printables-nav").connect("onclick",this,this.searchClicked);dojo.query("input.quickShopRadio-ecards-nav").connect("onclick",this,this.quickShopClicked);dojo.query("input.quickShopRadio-printables-nav").connect("onclick",this,this.quickShopClicked);var _59c=window.location.href;if(_59c.contains("printables")&&this.printablesForm){this.showPrintables();this.showQuickShopPrintables();}else{if(this.ecardsForm){this.showEcards();this.showQuickShopEcards();}}},searchClicked:function(evt){if(evt.target.id=="radioEcards"){this.showEcards();}else{if(evt.target.id=="radioPrintables"){this.showPrintables();}}},quickShopClicked:function(evt){if(evt.target.id=="radioEcards"){this.showQuickShopEcards();}else{if(evt.target.id=="radioPrintables"){this.showQuickShopPrintables();}}},showEcards:function(){dojo.style(this.ecardsForm,{display:"inline"});dojo.style(this.printablesForm,{display:"none"});this.checkRadio("input.searchRadio-ecards-nav","radioEcards");},showPrintables:function(){dojo.style(this.printablesForm,{display:"inline"});dojo.style(this.ecardsForm,{display:"none"});this.checkRadio("input.searchRadio-printables-nav","radioPrintables");},showQuickShopEcards:function(){dojo.style(this.ecardsQuickShopForm,{display:"inline"});dojo.style(this.printablesQuickShopForm,{display:"none"});this.checkRadio("input.quickShopRadio-ecards-nav","radioEcards");},showQuickShopPrintables:function(){dojo.style(this.printablesQuickShopForm,{display:"inline"});dojo.style(this.ecardsQuickShopForm,{display:"none"});this.checkRadio("input.quickShopRadio-printables-nav","radioPrintables");},checkRadio:function(_59d,id){dojo.query(_59d).forEach(function(node){if(node.id==id){dojo.attr(node,"checked",true);}});}});}if(!dojo._hasResource["ag.classes.Identified"]){dojo._hasResource["ag.classes.Identified"]=true;dojo.provide("ag.classes.Identified");ag.classes.Identified=agi.classes.Identified;}if(!dojo._hasResource["dojox.string.Builder"]){dojo._hasResource["dojox.string.Builder"]=true;dojo.provide("dojox.string.Builder");dojox.string.Builder=function(str){var b="";this.length=0;this.append=function(s){if(arguments.length>1){var tmp="",l=arguments.length;switch(l){case 9:tmp=""+arguments[8]+tmp;case 8:tmp=""+arguments[7]+tmp;case 7:tmp=""+arguments[6]+tmp;case 6:tmp=""+arguments[5]+tmp;case 5:tmp=""+arguments[4]+tmp;case 4:tmp=""+arguments[3]+tmp;case 3:tmp=""+arguments[2]+tmp;case 2:b+=""+arguments[0]+arguments[1]+tmp;break;default:var i=0;while(i<arguments.length){tmp+=arguments[i++];}b+=tmp;}}else{b+=s;}this.length=b.length;return this;};this.concat=function(s){return this.append.apply(this,arguments);};this.appendArray=function(_59e){return this.append.apply(this,_59e);};this.clear=function(){b="";this.length=0;return this;};this.replace=function(_59f,_5a0){b=b.replace(_59f,_5a0);this.length=b.length;return this;};this.remove=function(_5a1,len){if(len===undefined){len=b.length;}if(len==0){return this;}b=b.substr(0,_5a1)+b.substr(_5a1+len);this.length=b.length;return this;};this.insert=function(_5a2,str){if(_5a2==0){b=str+b;}else{b=b.slice(0,_5a2)+str+b.slice(_5a2);}this.length=b.length;return this;};this.toString=function(){return b;};if(str){this.append(str);}};}if(!dojo._hasResource["dojox.string.tokenize"]){dojo._hasResource["dojox.string.tokenize"]=true;dojo.provide("dojox.string.tokenize");dojox.string.tokenize=function(str,re,_5a3,_5a4){var _5a5=[];var _5a6,_5a7,_5a8=0;while(_5a6=re.exec(str)){_5a7=str.slice(_5a8,re.lastIndex-_5a6[0].length);if(_5a7.length){_5a5.push(_5a7);}if(_5a3){if(dojo.isOpera){var copy=_5a6.slice(0);while(copy.length<_5a6.length){copy.push(null);}_5a6=copy;}var _5a9=_5a3.apply(_5a4,_5a6.slice(1).concat(_5a5.length));if(typeof _5a9!="undefined"){_5a5.push(_5a9);}}_5a8=re.lastIndex;}_5a7=str.slice(_5a8);if(_5a7.length){_5a5.push(_5a7);}return _5a5;};}if(!dojo._hasResource["dojox.dtl._base"]){dojo._hasResource["dojox.dtl._base"]=true;dojo.provide("dojox.dtl._base");dojo.experimental("dojox.dtl");(function(){var dd=dojox.dtl;dd.TOKEN_BLOCK=-1;dd.TOKEN_VAR=-2;dd.TOKEN_COMMENT=-3;dd.TOKEN_TEXT=3;dd._Context=dojo.extend(function(dict){if(dict){dojo._mixin(this,dict);if(dict.get){this._getter=dict.get;delete this.get;}}},{push:function(){var last=this;var _5aa=dojo.delegate(this);_5aa.pop=function(){return last;};return _5aa;},pop:function(){throw new Error("pop() called on empty Context");},get:function(key,_5ab){var n=this._normalize;if(this._getter){var got=this._getter(key);if(typeof got!="undefined"){return n(got);}}if(typeof this[key]!="undefined"){return n(this[key]);}return _5ab;},_normalize:function(_5ac){if(_5ac instanceof Date){_5ac.year=_5ac.getFullYear();_5ac.month=_5ac.getMonth()+1;_5ac.day=_5ac.getDate();_5ac.date=_5ac.year+"-"+("0"+_5ac.month).slice(-2)+"-"+("0"+_5ac.day).slice(-2);_5ac.hour=_5ac.getHours();_5ac.minute=_5ac.getMinutes();_5ac.second=_5ac.getSeconds();_5ac.microsecond=_5ac.getMilliseconds();}return _5ac;},update:function(dict){var _5ad=this.push();if(dict){dojo._mixin(this,dict);}return _5ad;}});var _5ae=/("(?:[^"\\]*(?:\\.[^"\\]*)*)"|'(?:[^'\\]*(?:\\.[^'\\]*)*)'|[^\s]+)/g;var _5af=/\s+/g;var _5b0=function(_5b1,_5b2){_5b1=_5b1||_5af;if(!(_5b1 instanceof RegExp)){_5b1=new RegExp(_5b1,"g");}if(!_5b1.global){throw new Error("You must use a globally flagged RegExp with split "+_5b1);}_5b1.exec("");var part,_5b3=[],_5b4=0,i=0;while(part=_5b1.exec(this)){_5b3.push(this.slice(_5b4,_5b1.lastIndex-part[0].length));_5b4=_5b1.lastIndex;if(_5b2&&(++i>_5b2-1)){break;}}_5b3.push(this.slice(_5b4));return _5b3;};dd.Token=function(_5b5,_5b6){this.token_type=_5b5;this.contents=new String(dojo.trim(_5b6));this.contents.split=_5b0;this.split=function(){return String.prototype.split.apply(this.contents,arguments);};};dd.Token.prototype.split_contents=function(_5b7){var bit,bits=[],i=0;_5b7=_5b7||999;while(i++<_5b7&&(bit=_5ae.exec(this.contents))){bit=bit[0];if(bit.charAt(0)=="\""&&bit.slice(-1)=="\""){bits.push("\""+bit.slice(1,-1).replace("\\\"","\"").replace("\\\\","\\")+"\"");}else{if(bit.charAt(0)=="'"&&bit.slice(-1)=="'"){bits.push("'"+bit.slice(1,-1).replace("\\'","'").replace("\\\\","\\")+"'");}else{bits.push(bit);}}}return bits;};var ddt=dd.text={_get:function(_5b8,name,_5b9){var _5ba=dd.register.get(_5b8,name.toLowerCase(),_5b9);if(!_5ba){if(!_5b9){throw new Error("No tag found for "+name);}return null;}var fn=_5ba[1];var _5bb=_5ba[2];var _5bc;if(fn.indexOf(":")!=-1){_5bc=fn.split(":");fn=_5bc.pop();}dojo["require"](_5bb);var _5bd=dojo.getObject(_5bb);return _5bd[fn||name]||_5bd[name+"_"]||_5bd[fn+"_"];},getTag:function(name,_5be){return ddt._get("tag",name,_5be);},getFilter:function(name,_5bf){return ddt._get("filter",name,_5bf);},getTemplate:function(file){return new dd.Template(ddt.getTemplateString(file));},getTemplateString:function(file){return dojo._getText(file.toString())||"";},_resolveLazy:function(_5c0,sync,json){if(sync){if(json){return dojo.fromJson(dojo._getText(_5c0))||{};}else{return dd.text.getTemplateString(_5c0);}}else{return dojo.xhrGet({handleAs:(json)?"json":"text",url:_5c0});}},_resolveTemplateArg:function(arg,sync){if(ddt._isTemplate(arg)){if(!sync){var d=new dojo.Deferred();d.callback(arg);return d;}return arg;}return ddt._resolveLazy(arg,sync);},_isTemplate:function(arg){return (typeof arg=="undefined")||(typeof arg=="string"&&(arg.match(/^\s*[<{]/)||arg.indexOf(" ")!=-1));},_resolveContextArg:function(arg,sync){if(arg.constructor==Object){if(!sync){var d=new dojo.Deferred;d.callback(arg);return d;}return arg;}return ddt._resolveLazy(arg,sync,true);},_re:/(?:\{\{\s*(.+?)\s*\}\}|\{%\s*(load\s*)?(.+?)\s*%\})/g,tokenize:function(str){return dojox.string.tokenize(str,ddt._re,ddt._parseDelims);},_parseDelims:function(varr,load,tag){if(varr){return [dd.TOKEN_VAR,varr];}else{if(load){var _5c1=dojo.trim(tag).split(/\s+/g);for(var i=0,part;part=_5c1[i];i++){dojo["require"](part);}}else{return [dd.TOKEN_BLOCK,tag];}}}};dd.Template=dojo.extend(function(_5c2,_5c3){var str=_5c3?_5c2:ddt._resolveTemplateArg(_5c2,true)||"";var _5c4=ddt.tokenize(str);var _5c5=new dd._Parser(_5c4);this.nodelist=_5c5.parse();},{update:function(node,_5c6){return ddt._resolveContextArg(_5c6).addCallback(this,function(_5c7){var _5c8=this.render(new dd._Context(_5c7));if(node.forEach){node.forEach(function(item){item.innerHTML=_5c8;});}else{dojo.byId(node).innerHTML=_5c8;}return this;});},render:function(_5c9,_5ca){_5ca=_5ca||this.getBuffer();_5c9=_5c9||new dd._Context({});return this.nodelist.render(_5c9,_5ca)+"";},getBuffer:function(){return new dojox.string.Builder();}});var qfRe=/\{\{\s*(.+?)\s*\}\}/g;dd.quickFilter=function(str){if(!str){return new dd._NodeList();}if(str.indexOf("{%")==-1){return new dd._QuickNodeList(dojox.string.tokenize(str,qfRe,function(_5cb){return new dd._Filter(_5cb);}));}};dd._QuickNodeList=dojo.extend(function(_5cc){this.contents=_5cc;},{render:function(_5cd,_5ce){for(var i=0,l=this.contents.length;i<l;i++){if(this.contents[i].resolve){_5ce=_5ce.concat(this.contents[i].resolve(_5cd));}else{_5ce=_5ce.concat(this.contents[i]);}}return _5ce;},dummyRender:function(_5cf){return this.render(_5cf,dd.Template.prototype.getBuffer()).toString();},clone:function(_5d0){return this;}});dd._Filter=dojo.extend(function(_5d1){if(!_5d1){throw new Error("Filter must be called with variable name");}this.contents=_5d1;var _5d2=this._cache[_5d1];if(_5d2){this.key=_5d2[0];this.filters=_5d2[1];}else{this.filters=[];dojox.string.tokenize(_5d1,this._re,this._tokenize,this);this._cache[_5d1]=[this.key,this.filters];}},{_cache:{},_re:/(?:^_\("([^\\"]*(?:\\.[^\\"])*)"\)|^"([^\\"]*(?:\\.[^\\"]*)*)"|^([a-zA-Z0-9_.]+)|\|(\w+)(?::(?:_\("([^\\"]*(?:\\.[^\\"])*)"\)|"([^\\"]*(?:\\.[^\\"]*)*)"|([a-zA-Z0-9_.]+)|'([^\\']*(?:\\.[^\\']*)*)'))?|^'([^\\']*(?:\\.[^\\']*)*)')/g,_values:{0:"\"",1:"\"",2:"",8:"\""},_args:{4:"\"",5:"\"",6:"",7:"'"},_tokenize:function(){var pos,arg;for(var i=0,has=[];i<arguments.length;i++){has[i]=(typeof arguments[i]!="undefined"&&typeof arguments[i]=="string"&&arguments[i]);}if(!this.key){for(pos in this._values){if(has[pos]){this.key=this._values[pos]+arguments[pos]+this._values[pos];break;}}}else{for(pos in this._args){if(has[pos]){var _5d3=arguments[pos];if(this._args[pos]=="'"){_5d3=_5d3.replace(/\\'/g,"'");}else{if(this._args[pos]=="\""){_5d3=_5d3.replace(/\\"/g,"\"");}}arg=[!this._args[pos],_5d3];break;}}var fn=ddt.getFilter(arguments[3]);if(!dojo.isFunction(fn)){throw new Error(arguments[3]+" is not registered as a filter");}this.filters.push([fn,arg]);}},getExpression:function(){return this.contents;},resolve:function(_5d4){if(typeof this.key=="undefined"){return "";}var str=this.resolvePath(this.key,_5d4);for(var i=0,_5d5;_5d5=this.filters[i];i++){if(_5d5[1]){if(_5d5[1][0]){str=_5d5[0](str,this.resolvePath(_5d5[1][1],_5d4));}else{str=_5d5[0](str,_5d5[1][1]);}}else{str=_5d5[0](str);}}return str;},resolvePath:function(path,_5d6){var _5d7,_5d8;var _5d9=path.charAt(0);var last=path.slice(-1);if(!isNaN(parseInt(_5d9))){_5d7=(path.indexOf(".")==-1)?parseInt(path):parseFloat(path);}else{if(_5d9=="\""&&_5d9==last){_5d7=path.slice(1,-1);}else{if(path=="true"){return true;}if(path=="false"){return false;}if(path=="null"||path=="None"){return null;}_5d8=path.split(".");_5d7=_5d6.get(_5d8[0]);if(dojo.isFunction(_5d7)){var self=_5d6.getThis&&_5d6.getThis();if(_5d7.alters_data){_5d7="";}else{if(self){_5d7=_5d7.call(self);}else{_5d7="";}}}for(var i=1;i<_5d8.length;i++){var part=_5d8[i];if(_5d7){var base=_5d7;if(dojo.isObject(_5d7)&&part=="items"&&typeof _5d7[part]=="undefined"){var _5da=[];for(var key in _5d7){_5da.push([key,_5d7[key]]);}_5d7=_5da;continue;}if(_5d7.get&&dojo.isFunction(_5d7.get)&&_5d7.get.safe){_5d7=_5d7.get(part);}else{if(typeof _5d7[part]=="undefined"){_5d7=_5d7[part];break;}else{_5d7=_5d7[part];}}if(dojo.isFunction(_5d7)){if(_5d7.alters_data){_5d7="";}else{_5d7=_5d7.call(base);}}else{if(_5d7 instanceof Date){_5d7=dd._Context.prototype._normalize(_5d7);}}}else{return "";}}}}return _5d7;}});dd._TextNode=dd._Node=dojo.extend(function(obj){this.contents=obj;},{set:function(data){this.contents=data;return this;},render:function(_5db,_5dc){return _5dc.concat(this.contents);},isEmpty:function(){return !dojo.trim(this.contents);},clone:function(){return this;}});dd._NodeList=dojo.extend(function(_5dd){this.contents=_5dd||[];this.last="";},{push:function(node){this.contents.push(node);return this;},concat:function(_5de){this.contents=this.contents.concat(_5de);return this;},render:function(_5df,_5e0){for(var i=0;i<this.contents.length;i++){_5e0=this.contents[i].render(_5df,_5e0);if(!_5e0){throw new Error("Template must return buffer");}}return _5e0;},dummyRender:function(_5e1){return this.render(_5e1,dd.Template.prototype.getBuffer()).toString();},unrender:function(){return arguments[1];},clone:function(){return this;},rtrim:function(){while(1){i=this.contents.length-1;if(this.contents[i] instanceof dd._TextNode&&this.contents[i].isEmpty()){this.contents.pop();}else{break;}}return this;}});dd._VarNode=dojo.extend(function(str){this.contents=new dd._Filter(str);},{render:function(_5e2,_5e3){var str=this.contents.resolve(_5e2);if(!str.safe){str=dd._base.escape(""+str);}return _5e3.concat(str);}});dd._noOpNode=new function(){this.render=this.unrender=function(){return arguments[1];};this.clone=function(){return this;};};dd._Parser=dojo.extend(function(_5e4){this.contents=_5e4;},{i:0,parse:function(_5e5){var _5e6={},_5e7;_5e5=_5e5||[];for(var i=0;i<_5e5.length;i++){_5e6[_5e5[i]]=true;}var _5e8=new dd._NodeList();while(this.i<this.contents.length){_5e7=this.contents[this.i++];if(typeof _5e7=="string"){_5e8.push(new dd._TextNode(_5e7));}else{var type=_5e7[0];var text=_5e7[1];if(type==dd.TOKEN_VAR){_5e8.push(new dd._VarNode(text));}else{if(type==dd.TOKEN_BLOCK){if(_5e6[text]){--this.i;return _5e8;}var cmd=text.split(/\s+/g);if(cmd.length){cmd=cmd[0];var fn=ddt.getTag(cmd);if(fn){_5e8.push(fn(this,new dd.Token(type,text)));}}}}}}if(_5e5.length){throw new Error("Could not find closing tag(s): "+_5e5.toString());}this.contents.length=0;return _5e8;},next_token:function(){var _5e9=this.contents[this.i++];return new dd.Token(_5e9[0],_5e9[1]);},delete_first_token:function(){this.i++;},skip_past:function(_5ea){while(this.i<this.contents.length){var _5eb=this.contents[this.i++];if(_5eb[0]==dd.TOKEN_BLOCK&&_5eb[1]==_5ea){return;}}throw new Error("Unclosed tag found when looking for "+_5ea);},create_variable_node:function(expr){return new dd._VarNode(expr);},create_text_node:function(expr){return new dd._TextNode(expr||"");},getTemplate:function(file){return new dd.Template(file);}});dd.register={_registry:{attributes:[],tags:[],filters:[]},get:function(_5ec,name){var _5ed=dd.register._registry[_5ec+"s"];for(var i=0,_5ee;_5ee=_5ed[i];i++){if(typeof _5ee[0]=="string"){if(_5ee[0]==name){return _5ee;}}else{if(name.match(_5ee[0])){return _5ee;}}}},getAttributeTags:function(){var tags=[];var _5ef=dd.register._registry.attributes;for(var i=0,_5f0;_5f0=_5ef[i];i++){if(_5f0.length==3){tags.push(_5f0);}else{var fn=dojo.getObject(_5f0[1]);if(fn&&dojo.isFunction(fn)){_5f0.push(fn);tags.push(_5f0);}}}return tags;},_any:function(type,base,_5f1){for(var path in _5f1){for(var i=0,fn;fn=_5f1[path][i];i++){var key=fn;if(dojo.isArray(fn)){key=fn[0];fn=fn[1];}if(typeof key=="string"){if(key.substr(0,5)=="attr:"){var attr=fn;if(attr.substr(0,5)=="attr:"){attr=attr.slice(5);}dd.register._registry.attributes.push([attr.toLowerCase(),base+"."+path+"."+attr]);}key=key.toLowerCase();}dd.register._registry[type].push([key,fn,base+"."+path]);}}},tags:function(base,_5f2){dd.register._any("tags",base,_5f2);},filters:function(base,_5f3){dd.register._any("filters",base,_5f3);}};var _5f4=/&/g;var _5f5=/</g;var _5f6=/>/g;var _5f7=/'/g;var _5f8=/"/g;dd._base.escape=function(_5f9){return dd.mark_safe(_5f9.replace(_5f4,"&amp;").replace(_5f5,"&lt;").replace(_5f6,"&gt;").replace(_5f8,"&quot;").replace(_5f7,"&#39;"));};dd._base.safe=function(_5fa){if(typeof _5fa=="string"){_5fa=new String(_5fa);}if(typeof _5fa=="object"){_5fa.safe=true;}return _5fa;};dd.mark_safe=dd._base.safe;dd.register.tags("dojox.dtl.tag",{"date":["now"],"logic":["if","for","ifequal","ifnotequal"],"loader":["extends","block","include","load","ssi"],"misc":["comment","debug","filter","firstof","spaceless","templatetag","widthratio","with"],"loop":["cycle","ifchanged","regroup"]});dd.register.filters("dojox.dtl.filter",{"dates":["date","time","timesince","timeuntil"],"htmlstrings":["linebreaks","linebreaksbr","removetags","striptags"],"integers":["add","get_digit"],"lists":["dictsort","dictsortreversed","first","join","length","length_is","random","slice","unordered_list"],"logic":["default","default_if_none","divisibleby","yesno"],"misc":["filesizeformat","pluralize","phone2numeric","pprint"],"strings":["addslashes","capfirst","center","cut","fix_ampersands","floatformat","iriencode","linenumbers","ljust","lower","make_list","rjust","slugify","stringformat","title","truncatewords","truncatewords_html","upper","urlencode","urlize","urlizetrunc","wordcount","wordwrap"]});dd.register.filters("dojox.dtl",{"_base":["escape","safe"]});})();}if(!dojo._hasResource["dojox.dtl"]){dojo._hasResource["dojox.dtl"]=true;dojo.provide("dojox.dtl");}if(!dojo._hasResource["dojox.dtl.tag.logic"]){dojo._hasResource["dojox.dtl.tag.logic"]=true;dojo.provide("dojox.dtl.tag.logic");(function(){var dd=dojox.dtl;var ddt=dd.text;var ddtl=dd.tag.logic;ddtl.IfNode=dojo.extend(function(_5fb,_5fc,_5fd,type){this.bools=_5fb;this.trues=_5fc;this.falses=_5fd;this.type=type;},{render:function(_5fe,_5ff){var i,bool,_600,_601,_602;if(this.type=="or"){for(i=0;bool=this.bools[i];i++){_600=bool[0];_601=bool[1];_602=_601.resolve(_5fe);if((_602&&!_600)||(_600&&!_602)){if(this.falses){_5ff=this.falses.unrender(_5fe,_5ff);}return (this.trues)?this.trues.render(_5fe,_5ff,this):_5ff;}}if(this.trues){_5ff=this.trues.unrender(_5fe,_5ff);}return (this.falses)?this.falses.render(_5fe,_5ff,this):_5ff;}else{for(i=0;bool=this.bools[i];i++){_600=bool[0];_601=bool[1];_602=_601.resolve(_5fe);if(_602==_600){if(this.trues){_5ff=this.trues.unrender(_5fe,_5ff);}return (this.falses)?this.falses.render(_5fe,_5ff,this):_5ff;}}if(this.falses){_5ff=this.falses.unrender(_5fe,_5ff);}return (this.trues)?this.trues.render(_5fe,_5ff,this):_5ff;}return _5ff;},unrender:function(_603,_604){_604=(this.trues)?this.trues.unrender(_603,_604):_604;_604=(this.falses)?this.falses.unrender(_603,_604):_604;return _604;},clone:function(_605){var _606=(this.trues)?this.trues.clone(_605):null;var _607=(this.falses)?this.falses.clone(_605):null;return new this.constructor(this.bools,_606,_607,this.type);}});ddtl.IfEqualNode=dojo.extend(function(var1,var2,_608,_609,_60a){this.var1=new dd._Filter(var1);this.var2=new dd._Filter(var2);this.trues=_608;this.falses=_609;this.negate=_60a;},{render:function(_60b,_60c){var var1=this.var1.resolve(_60b);var var2=this.var2.resolve(_60b);var1=(typeof var1!="undefined")?var1:"";var2=(typeof var1!="undefined")?var2:"";if((this.negate&&var1!=var2)||(!this.negate&&var1==var2)){if(this.falses){_60c=this.falses.unrender(_60b,_60c,this);}return (this.trues)?this.trues.render(_60b,_60c,this):_60c;}if(this.trues){_60c=this.trues.unrender(_60b,_60c,this);}return (this.falses)?this.falses.render(_60b,_60c,this):_60c;},unrender:function(_60d,_60e){return ddtl.IfNode.prototype.unrender.call(this,_60d,_60e);},clone:function(_60f){var _610=this.trues?this.trues.clone(_60f):null;var _611=this.falses?this.falses.clone(_60f):null;return new this.constructor(this.var1.getExpression(),this.var2.getExpression(),_610,_611,this.negate);}});ddtl.ForNode=dojo.extend(function(_612,loop,_613,_614){this.assign=_612;this.loop=new dd._Filter(loop);this.reversed=_613;this.nodelist=_614;this.pool=[];},{render:function(_615,_616){var i,j,k;var _617=false;var _618=this.assign;for(k=0;k<_618.length;k++){if(typeof _615[_618[k]]!="undefined"){_617=true;_615=_615.push();break;}}if(!_617&&_615.forloop){_617=true;_615=_615.push();}var _619=this.loop.resolve(_615)||[];for(i=_619.length;i<this.pool.length;i++){this.pool[i].unrender(_615,_616,this);}if(this.reversed){_619=_619.slice(0).reverse();}var _61a=dojo.isObject(_619)&&!dojo.isArrayLike(_619);var _61b=[];if(_61a){for(var key in _619){_61b.push(_619[key]);}}else{_61b=_619;}var _61c=_615.forloop={parentloop:_615.get("forloop",{})};var j=0;for(i=0;i<_61b.length;i++){var item=_61b[i];_61c.counter0=j;_61c.counter=j+1;_61c.revcounter0=_61b.length-j-1;_61c.revcounter=_61b.length-j;_61c.first=!j;_61c.last=(j==_61b.length-1);if(_618.length>1&&dojo.isArrayLike(item)){if(!_617){_617=true;_615=_615.push();}var _61d={};for(k=0;k<item.length&&k<_618.length;k++){_61d[_618[k]]=item[k];}dojo.mixin(_615,_61d);}else{_615[_618[0]]=item;}if(j+1>this.pool.length){this.pool.push(this.nodelist.clone(_616));}_616=this.pool[j++].render(_615,_616,this);}delete _615.forloop;if(_617){_615=_615.pop();}else{for(k=0;k<_618.length;k++){delete _615[_618[k]];}}return _616;},unrender:function(_61e,_61f){for(var i=0,pool;pool=this.pool[i];i++){_61f=pool.unrender(_61e,_61f);}return _61f;},clone:function(_620){return new this.constructor(this.assign,this.loop.getExpression(),this.reversed,this.nodelist.clone(_620));}});dojo.mixin(ddtl,{if_:function(_621,_622){var i,part,type,_623=[],_624=_622.contents.split();_624.shift();_622=_624.join(" ");_624=_622.split(" and ");if(_624.length==1){type="or";_624=_622.split(" or ");}else{type="and";for(i=0;i<_624.length;i++){if(_624[i].indexOf(" or ")!=-1){throw new Error("'if' tags can't mix 'and' and 'or'");}}}for(i=0;part=_624[i];i++){var not=false;if(part.indexOf("not ")==0){part=part.slice(4);not=true;}_623.push([not,new dd._Filter(part)]);}var _625=_621.parse(["else","endif"]);var _626=false;var _622=_621.next_token();if(_622.contents=="else"){_626=_621.parse(["endif"]);_621.next_token();}return new ddtl.IfNode(_623,_625,_626,type);},_ifequal:function(_627,_628,_629){var _62a=_628.split_contents();if(_62a.length!=3){throw new Error(_62a[0]+" takes two arguments");}var end="end"+_62a[0];var _62b=_627.parse(["else",end]);var _62c=false;var _628=_627.next_token();if(_628.contents=="else"){_62c=_627.parse([end]);_627.next_token();}return new ddtl.IfEqualNode(_62a[1],_62a[2],_62b,_62c,_629);},ifequal:function(_62d,_62e){return ddtl._ifequal(_62d,_62e);},ifnotequal:function(_62f,_630){return ddtl._ifequal(_62f,_630,true);},for_:function(_631,_632){var _633=_632.contents.split();if(_633.length<4){throw new Error("'for' statements should have at least four words: "+_632.contents);}var _634=_633[_633.length-1]=="reversed";var _635=(_634)?-3:-2;if(_633[_633.length+_635]!="in"){throw new Error("'for' tag received an invalid argument: "+_632.contents);}var _636=_633.slice(1,_635).join(" ").split(/ *, */);for(var i=0;i<_636.length;i++){if(!_636[i]||_636[i].indexOf(" ")!=-1){throw new Error("'for' tag received an invalid argument: "+_632.contents);}}var _637=_631.parse(["endfor"]);_631.next_token();return new ddtl.ForNode(_636,_633[_633.length+_635+1],_634,_637);}});})();}if(!dojo._hasResource["dojox.dtl.tag.loop"]){dojo._hasResource["dojox.dtl.tag.loop"]=true;dojo.provide("dojox.dtl.tag.loop");(function(){var dd=dojox.dtl;var ddtl=dd.tag.loop;ddtl.CycleNode=dojo.extend(function(_638,name,text,_639){this.cyclevars=_638;this.name=name;this.contents=text;this.shared=_639||{counter:-1,map:{}};},{render:function(_63a,_63b){if(_63a.forloop&&!_63a.forloop.counter0){this.shared.counter=-1;}++this.shared.counter;var _63c=this.cyclevars[this.shared.counter%this.cyclevars.length];var map=this.shared.map;if(!map[_63c]){map[_63c]=new dd._Filter(_63c);}_63c=map[_63c].resolve(_63a,_63b);if(this.name){_63a[this.name]=_63c;}this.contents.set(_63c);return this.contents.render(_63a,_63b);},unrender:function(_63d,_63e){return this.contents.unrender(_63d,_63e);},clone:function(_63f){return new this.constructor(this.cyclevars,this.name,this.contents.clone(_63f),this.shared);}});ddtl.IfChangedNode=dojo.extend(function(_640,vars,_641){this.nodes=_640;this._vars=vars;this.shared=_641||{last:null,counter:0};this.vars=dojo.map(vars,function(item){return new dojox.dtl._Filter(item);});},{render:function(_642,_643){if(_642.forloop){if(_642.forloop.counter<=this.shared.counter){this.shared.last=null;}this.shared.counter=_642.forloop.counter;}var _644;if(this.vars.length){_644=dojo.toJson(dojo.map(this.vars,function(item){return item.resolve(_642);}));}else{_644=this.nodes.dummyRender(_642,_643);}if(_644!=this.shared.last){var _645=(this.shared.last===null);this.shared.last=_644;_642=_642.push();_642.ifchanged={firstloop:_645};_643=this.nodes.render(_642,_643);_642=_642.pop();}else{_643=this.nodes.unrender(_642,_643);}return _643;},unrender:function(_646,_647){return this.nodes.unrender(_646,_647);},clone:function(_648){return new this.constructor(this.nodes.clone(_648),this._vars,this.shared);}});ddtl.RegroupNode=dojo.extend(function(_649,key,_64a){this._expression=_649;this.expression=new dd._Filter(_649);this.key=key;this.alias=_64a;},{_push:function(_64b,_64c,_64d){if(_64d.length){_64b.push({grouper:_64c,list:_64d});}},render:function(_64e,_64f){_64e[this.alias]=[];var list=this.expression.resolve(_64e);if(list){var last=null;var _650=[];for(var i=0;i<list.length;i++){var id=list[i][this.key];if(last!==id){this._push(_64e[this.alias],last,_650);last=id;_650=[list[i]];}else{_650.push(list[i]);}}this._push(_64e[this.alias],last,_650);}return _64f;},unrender:function(_651,_652){return _652;},clone:function(_653,_654){return this;}});dojo.mixin(ddtl,{cycle:function(_655,_656){var args=_656.split_contents();if(args.length<2){throw new Error("'cycle' tag requires at least two arguments");}if(args[1].indexOf(",")!=-1){var vars=args[1].split(",");args=[args[0]];for(var i=0;i<vars.length;i++){args.push("\""+vars[i]+"\"");}}if(args.length==2){var name=args[args.length-1];if(!_655._namedCycleNodes){throw new Error("No named cycles in template: '"+name+"' is not defined");}if(!_655._namedCycleNodes[name]){throw new Error("Named cycle '"+name+"' does not exist");}return _655._namedCycleNodes[name];}if(args.length>4&&args[args.length-2]=="as"){var name=args[args.length-1];var node=new ddtl.CycleNode(args.slice(1,args.length-2),name,_655.create_text_node());if(!_655._namedCycleNodes){_655._namedCycleNodes={};}_655._namedCycleNodes[name]=node;}else{node=new ddtl.CycleNode(args.slice(1),null,_655.create_text_node());}return node;},ifchanged:function(_657,_658){var _659=_658.contents.split();var _65a=_657.parse(["endifchanged"]);_657.delete_first_token();return new ddtl.IfChangedNode(_65a,_659.slice(1));},regroup:function(_65b,_65c){var _65d=dojox.string.tokenize(_65c.contents,/(\s+)/g,function(_65e){return _65e;});if(_65d.length<11||_65d[_65d.length-3]!="as"||_65d[_65d.length-7]!="by"){throw new Error("Expected the format: regroup list by key as newList");}var _65f=_65d.slice(2,-8).join("");var key=_65d[_65d.length-5];var _660=_65d[_65d.length-1];return new ddtl.RegroupNode(_65f,key,_660);}});})();}if(!dojo._hasResource["dojox.dtl.filter.misc"]){dojo._hasResource["dojox.dtl.filter.misc"]=true;dojo.provide("dojox.dtl.filter.misc");dojo.mixin(dojox.dtl.filter.misc,{filesizeformat:function(_661){_661=parseFloat(_661);if(_661<1024){return (_661==1)?_661+" byte":_661+" bytes";}else{if(_661<1024*1024){return (_661/1024).toFixed(1)+" KB";}else{if(_661<1024*1024*1024){return (_661/1024/1024).toFixed(1)+" MB";}}}return (_661/1024/1024/1024).toFixed(1)+" GB";},pluralize:function(_662,arg){arg=arg||"s";if(arg.indexOf(",")==-1){arg=","+arg;}var _663=arg.split(",");if(_663.length>2){return "";}var _664=_663[0];var _665=_663[1];if(parseInt(_662,10)!=1){return _665;}return _664;},_phone2numeric:{a:2,b:2,c:2,d:3,e:3,f:3,g:4,h:4,i:4,j:5,k:5,l:5,m:6,n:6,o:6,p:7,r:7,s:7,t:8,u:8,v:8,w:9,x:9,y:9},phone2numeric:function(_666){var dm=dojox.dtl.filter.misc;_666=_666+"";var _667="";for(var i=0;i<_666.length;i++){var chr=_666.charAt(i).toLowerCase();(dm._phone2numeric[chr])?_667+=dm._phone2numeric[chr]:_667+=_666.charAt(i);}return _667;},pprint:function(_668){return dojo.toJson(_668);}});}if(!dojo._hasResource["dojo.date"]){dojo._hasResource["dojo.date"]=true;dojo.provide("dojo.date");dojo.getObject("date",true,dojo);dojo.date.getDaysInMonth=function(_669){var _66a=_669.getMonth();var days=[31,28,31,30,31,30,31,31,30,31,30,31];if(_66a==1&&dojo.date.isLeapYear(_669)){return 29;}return days[_66a];};dojo.date.isLeapYear=function(_66b){var year=_66b.getFullYear();return !(year%400)||(!(year%4)&&!!(year%100));};dojo.date.getTimezoneName=function(_66c){var str=_66c.toString();var tz="";var _66d;var pos=str.indexOf("(");if(pos>-1){tz=str.substring(++pos,str.indexOf(")"));}else{var pat=/([A-Z\/]+) \d{4}$/;if((_66d=str.match(pat))){tz=_66d[1];}else{str=_66c.toLocaleString();pat=/ ([A-Z\/]+)$/;if((_66d=str.match(pat))){tz=_66d[1];}}}return (tz=="AM"||tz=="PM")?"":tz;};dojo.date.compare=function(_66e,_66f,_670){_66e=new Date(+_66e);_66f=new Date(+(_66f||new Date()));if(_670=="date"){_66e.setHours(0,0,0,0);_66f.setHours(0,0,0,0);}else{if(_670=="time"){_66e.setFullYear(0,0,0);_66f.setFullYear(0,0,0);}}if(_66e>_66f){return 1;}if(_66e<_66f){return -1;}return 0;};dojo.date.add=function(date,_671,_672){var sum=new Date(+date);var _673=false;var _674="Date";switch(_671){case "day":break;case "weekday":var days,_675;var mod=_672%5;if(!mod){days=(_672>0)?5:-5;_675=(_672>0)?((_672-5)/5):((_672+5)/5);}else{days=mod;_675=parseInt(_672/5);}var strt=date.getDay();var adj=0;if(strt==6&&_672>0){adj=1;}else{if(strt==0&&_672<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_672>0)?2:-2;}_672=(7*_675)+days+adj;break;case "year":_674="FullYear";_673=true;break;case "week":_672*=7;break;case "quarter":_672*=3;case "month":_673=true;_674="Month";break;default:_674="UTC"+_671.charAt(0).toUpperCase()+_671.substring(1)+"s";}if(_674){sum["set"+_674](sum["get"+_674]()+_672);}if(_673&&(sum.getDate()<date.getDate())){sum.setDate(0);}return sum;};dojo.date.difference=function(_676,_677,_678){_677=_677||new Date();_678=_678||"day";var _679=_677.getFullYear()-_676.getFullYear();var _67a=1;switch(_678){case "quarter":var m1=_676.getMonth();var m2=_677.getMonth();var q1=Math.floor(m1/3)+1;var q2=Math.floor(m2/3)+1;q2+=(_679*4);_67a=q2-q1;break;case "weekday":var days=Math.round(dojo.date.difference(_676,_677,"day"));var _67b=parseInt(dojo.date.difference(_676,_677,"week"));var mod=days%7;if(mod==0){days=_67b*5;}else{var adj=0;var aDay=_676.getDay();var bDay=_677.getDay();_67b=parseInt(days/7);mod=days%7;var _67c=new Date(_676);_67c.setDate(_67c.getDate()+(_67b*7));var _67d=_67c.getDay();if(days>0){switch(true){case aDay==6:adj=-1;break;case aDay==0:adj=0;break;case bDay==6:adj=-1;break;case bDay==0:adj=-2;break;case (_67d+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==6:adj=0;break;case aDay==0:adj=1;break;case bDay==6:adj=2;break;case bDay==0:adj=1;break;case (_67d+mod)<0:adj=2;}}}days+=adj;days-=(_67b*2);}_67a=days;break;case "year":_67a=_679;break;case "month":_67a=(_677.getMonth()-_676.getMonth())+(_679*12);break;case "week":_67a=parseInt(dojo.date.difference(_676,_677,"day")/7);break;case "day":_67a/=24;case "hour":_67a/=60;case "minute":_67a/=60;case "second":_67a/=1000;case "millisecond":_67a*=_677.getTime()-_676.getTime();}return Math.round(_67a);};}if(!dojo._hasResource["dojox.date.php"]){dojo._hasResource["dojox.date.php"]=true;dojo.provide("dojox.date.php");dojox.date.php.format=function(date,_67e){var df=new dojox.date.php.DateFormat(_67e);return df.format(date);};dojox.date.php.DateFormat=function(_67f){if(!this.regex){var keys=[];for(var key in this.constructor.prototype){if(dojo.isString(key)&&key.length==1&&dojo.isFunction(this[key])){keys.push(key);}}this.constructor.prototype.regex=new RegExp("(?:(\\\\.)|(["+keys.join("")+"]))","g");}var _680=[];this.tokens=dojox.string.tokenize(_67f,this.regex,function(_681,_682,i){if(_682){_680.push([i,_682]);return _682;}if(_681){return _681.charAt(1);}});this.replacements=_680;};dojo.extend(dojox.date.php.DateFormat,{weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdays_3:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],months_3:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthdays:[31,28,31,30,31,30,31,31,30,31,30,31],format:function(date){this.date=date;for(var i=0,_683;_683=this.replacements[i];i++){this.tokens[_683[0]]=this[_683[1]]();}return this.tokens.join("");},d:function(){var j=this.j();return (j.length==1)?"0"+j:j;},D:function(){return this.weekdays_3[this.date.getDay()];},j:function(){return this.date.getDate()+"";},l:function(){return this.weekdays[this.date.getDay()];},N:function(){var w=this.w();return (!w)?7:w;},S:function(){switch(this.date.getDate()){case 11:case 12:case 13:return "th";case 1:case 21:case 31:return "st";case 2:case 22:return "nd";case 3:case 23:return "rd";default:return "th";}},w:function(){return this.date.getDay()+"";},z:function(){var _684=this.date.getTime()-new Date(this.date.getFullYear(),0,1).getTime();return Math.floor(_684/86400000)+"";},W:function(){var week;var _685=new Date(this.date.getFullYear(),0,1).getDay()+1;var w=this.date.getDay()+1;var z=parseInt(this.z());if(z<=(8-_685)&&_685>4){var _686=new Date(this.date.getFullYear()-1,this.date.getMonth(),this.date.getDate());if(_685==5||(_685==6&&dojo.date.isLeapYear(_686))){week=53;}else{week=52;}}else{var i;if(Boolean(this.L())){i=366;}else{i=365;}if((i-z)<(4-w)){week=1;}else{var j=z+(7-w)+(_685-1);week=Math.ceil(j/7);if(_685>4){--week;}}}return week;},F:function(){return this.months[this.date.getMonth()];},m:function(){var n=this.n();return (n.length==1)?"0"+n:n;},M:function(){return this.months_3[this.date.getMonth()];},n:function(){return this.date.getMonth()+1+"";},t:function(){return (Boolean(this.L())&&this.date.getMonth()==1)?29:this.monthdays[this.getMonth()];},L:function(){return (dojo.date.isLeapYear(this.date))?"1":"0";},o:function(){},Y:function(){return this.date.getFullYear()+"";},y:function(){return this.Y().slice(-2);},a:function(){return this.date.getHours()>=12?"pm":"am";},b:function(){return this.a().toUpperCase();},B:function(){var off=this.date.getTimezoneOffset()+60;var secs=(this.date.getHours()*3600)+(this.date.getMinutes()*60)+this.getSeconds()+(off*60);var beat=Math.abs(Math.floor(secs/86.4)%1000)+"";while(beat.length<2){beat="0"+beat;}return beat;},g:function(){return (this.date.getHours()>12)?this.date.getHours()-12+"":this.date.getHours()+"";},G:function(){return this.date.getHours()+"";},h:function(){var g=this.g();return (g.length==1)?"0"+g:g;},H:function(){var G=this.G();return (G.length==1)?"0"+G:G;},i:function(){var mins=this.date.getMinutes()+"";return (mins.length==1)?"0"+mins:mins;},s:function(){var secs=this.date.getSeconds()+"";return (secs.length==1)?"0"+secs:secs;},e:function(){return dojo.date.getTimezoneName(this.date);},I:function(){},O:function(){var off=Math.abs(this.date.getTimezoneOffset());var _687=Math.floor(off/60)+"";var mins=(off%60)+"";if(_687.length==1){_687="0"+_687;}if(mins.length==1){_687="0"+mins;}return ((this.date.getTimezoneOffset()<0)?"+":"-")+_687+mins;},P:function(){var O=this.O();return O.substring(0,2)+":"+O.substring(2,4);},T:function(){return this.e().substring(0,3);},Z:function(){return this.date.getTimezoneOffset()*-60;},c:function(){return this.Y()+"-"+this.m()+"-"+this.d()+"T"+this.h()+":"+this.i()+":"+this.s()+this.P();},r:function(){return this.D()+", "+this.d()+" "+this.M()+" "+this.Y()+" "+this.H()+":"+this.i()+":"+this.s()+" "+this.O();},U:function(){return Math.floor(this.date.getTime()/1000);}});}if(!dojo._hasResource["dojox.dtl.utils.date"]){dojo._hasResource["dojox.dtl.utils.date"]=true;dojo.provide("dojox.dtl.utils.date");dojox.dtl.utils.date.DateFormat=function(_688){dojox.date.php.DateFormat.call(this,_688);};dojo.extend(dojox.dtl.utils.date.DateFormat,dojox.date.php.DateFormat.prototype,{f:function(){return (!this.date.getMinutes())?this.g():this.g()+":"+this.i();},N:function(){return dojox.dtl.utils.date._months_ap[this.date.getMonth()];},P:function(){if(!this.date.getMinutes()&&!this.date.getHours()){return "midnight";}if(!this.date.getMinutes()&&this.date.getHours()==12){return "noon";}return this.f()+" "+this.a();}});dojo.mixin(dojox.dtl.utils.date,{format:function(date,_689){var df=new dojox.dtl.utils.date.DateFormat(_689);return df.format(date);},timesince:function(d,now){if(!(d instanceof Date)){d=new Date(d.year,d.month,d.day);}if(!now){now=new Date();}var _68a=Math.abs(now.getTime()-d.getTime());for(var i=0,_68b;_68b=dojox.dtl.utils.date._chunks[i];i++){var _68c=Math.floor(_68a/_68b[0]);if(_68c){break;}}return _68c+" "+_68b[1](_68c);},_chunks:[[60*60*24*365*1000,function(n){return (n==1)?"year":"years";}],[60*60*24*30*1000,function(n){return (n==1)?"month":"months";}],[60*60*24*7*1000,function(n){return (n==1)?"week":"weeks";}],[60*60*24*1000,function(n){return (n==1)?"day":"days";}],[60*60*1000,function(n){return (n==1)?"hour":"hours";}],[60*1000,function(n){return (n==1)?"minute":"minutes";}]],_months_ap:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."]});}if(!dojo._hasResource["dojox.dtl.filter.dates"]){dojo._hasResource["dojox.dtl.filter.dates"]=true;dojo.provide("dojox.dtl.filter.dates");(function(){var ddfd=dojox.dtl.filter.dates;dojo.mixin(ddfd,{_toDate:function(_68d){if(_68d instanceof Date){return _68d;}_68d=new Date(_68d);if(_68d.getTime()==new Date(0).getTime()){return "";}return _68d;},date:function(_68e,arg){_68e=ddfd._toDate(_68e);if(!_68e){return "";}arg=arg||"N j, Y";return dojox.dtl.utils.date.format(_68e,arg);},time:function(_68f,arg){_68f=ddfd._toDate(_68f);if(!_68f){return "";}arg=arg||"P";return dojox.dtl.utils.date.format(_68f,arg);},timesince:function(_690,arg){_690=ddfd._toDate(_690);if(!_690){return "";}var _691=dojox.dtl.utils.date.timesince;if(arg){return _691(arg,_690);}return _691(_690);},timeuntil:function(_692,arg){_692=ddfd._toDate(_692);if(!_692){return "";}var _693=dojox.dtl.utils.date.timesince;if(arg){return _693(arg,_692);}return _693(new Date(),_692);}});})();}if(!dojo._hasResource["dojox.dtl.filter.integers"]){dojo._hasResource["dojox.dtl.filter.integers"]=true;dojo.provide("dojox.dtl.filter.integers");dojo.mixin(dojox.dtl.filter.integers,{add:function(_694,arg){_694=parseInt(_694,10);arg=parseInt(arg,10);return isNaN(arg)?_694:_694+arg;},get_digit:function(_695,arg){_695=parseInt(_695,10);arg=parseInt(arg,10)-1;if(arg>=0){_695+="";if(arg<_695.length){_695=parseInt(_695.charAt(arg),10);}else{_695=0;}}return (isNaN(_695)?0:_695);}});}if(!dojo._hasResource["dojox.dtl._Templated"]){dojo._hasResource["dojox.dtl._Templated"]=true;dojo.provide("dojox.dtl._Templated");dojo.declare("dojox.dtl._Templated",dijit._Templated,{_dijitTemplateCompat:false,buildRendering:function(){var node;if(this.domNode&&!this._template){return;}if(!this._template){var t=this.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);if(t instanceof dojox.dtl.Template){this._template=t;}else{node=t;}}if(!node){var _696=new dojox.dtl._Context(this);if(!this._created){delete _696._getter;}var _697=dojo._toDom(this._template.render(_696));if(_697.nodeType!==1&&_697.nodeType!==3){for(var i=0,l=_697.childNodes.length;i<l;++i){node=_697.childNodes[i];if(node.nodeType==1){break;}}}else{node=_697;}}this._attachTemplateNodes(node);if(this.widgetsInTemplate){var _698=dojo.parser,qry,attr;if(_698._query!="[dojoType]"){qry=_698._query;attr=_698._attrName;_698._query="[dojoType]";_698._attrName="dojoType";}var cw=(this._startupWidgets=dojo.parser.parse(node,{noStart:!this._earlyTemplatedStartup,inherited:{dir:this.dir,lang:this.lang}}));if(qry){_698._query=qry;_698._attrName=attr;}this._supportingWidgets=dijit.findWidgets(node);this._attachTemplateNodes(cw,function(n,p){return n[p];});}if(this.domNode){dojo.place(node,this.domNode,"before");this.destroyDescendants();dojo.destroy(this.domNode);}this.domNode=node;this._fillContent(this.srcNodeRef);},_templateCache:{},getCachedTemplate:function(_699,_69a,_69b){var _69c=this._templateCache;var key=_69a||_699;if(_69c[key]){return _69c[key];}_69a=dojo.string.trim(_69a||dojo.cache(_699,{sanitize:true}));if(this._dijitTemplateCompat&&(_69b||_69a.match(/\$\{([^\}]+)\}/g))){_69a=this._stringRepl(_69a);}if(_69b||!_69a.match(/\{[{%]([^\}]+)[%}]\}/g)){return _69c[key]=dojo._toDom(_69a);}else{return _69c[key]=new dojox.dtl.Template(_69a);}},render:function(){this.buildRendering();},startup:function(){dojo.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);}});}if(!dojo._hasResource["agi.widget._TemplatedWidget"]){dojo._hasResource["agi.widget._TemplatedWidget"]=true;dojo.provide("agi.widget._TemplatedWidget");dojo.declare("agi.widget._TemplatedWidget",[dijit._Widget,dojox.dtl._Templated],{});}if(!dojo._hasResource["agi.requester"]){dojo._hasResource["agi.requester"]=true;dojo.provide("agi.requester");agi.requester.Requester=function(url,_69d,_69e,_69f,_6a0){var _6a1=this;var req=null;this.async=_69e;this.method=_69d;this.url=url;this.showbusy=_69f;this.in_process=false;this.handleas=_6a0?_6a0:"text";this.get_millisecond_query=function(){var _6a2=new Date();var ms=_6a2.getTime();return "&ajax_requester_ms="+ms;};this.sendRequest=function(_6a3){var _6a4={url:this.url,sync:!this.async,content:_6a3?_6a3:{},preventCache:_6a3?true:false,handleAs:this.handleas,load:_6a1.processLoad,error:_6a1.processError};if(this.showbusy){document.body.style.cursor="wait";}this.in_process=true;if(this.method.toUpperCase()=="POST"){dojo.xhrPost(_6a4);}else{dojo.xhrGet(_6a4);}};this.processLoad=function(_6a5,_6a6){_6a5=_6a1.processAlways(_6a5,_6a6);if(_6a6.xhr.getResponseHeader("Kaboom")){if(_6a6.xhrgetResponseHeader("Kaboom").toLowerCase()=="true"){if(_6a1.onerror){_6a1.onerror(_6a5,_6a6);}}}else{if(_6a1.onsuccess){_6a1.onsuccess(_6a5,_6a6);}}return _6a5;};this.processError=function(_6a7,_6a8){_6a7=_6a1.processAlways(_6a7,_6a8);if(_6a1.onerror){_6a1.onerror(_6a7,_6a8);}return _6a7;};this.processAlways=function(_6a9,_6aa){_6a1.in_process=false;if(_6a1.showbusy){document.body.style.cursor="auto";}if(!_6a9){_6a9="";}try{_6a9=_6a9.replace("<!--this page was compressed by your friendly neighborhood pydriver-->","");}catch(e){}return _6a9;};this.formToQuery=function(_6ab){var _6ac=dojo.formToObject(_6ab);return _6ac;};};var script_fragment="<script[^>]*>([\\s\\S]*?)</script>";agi.requester.stripScripts=function(_6ad){return _6ad.replace(new RegExp(script_fragment,"img"),"");};agi.requester.extractScripts=function(_6ae){var _6af=new RegExp(script_fragment,"img");var _6b0=new RegExp(script_fragment,"im");var _6b1=_6ae.match(_6af);var _6b2=[];if(_6b1){for(var i=0;i<_6b1.length;i++){if(_6b1[i].indexOf("agi-lb-exec")!=-1){_6b2.push(_6b1[i].match(_6b0)[1]);}}}return _6b2;};agi.requester.evalScripts=function(_6b3){var _6b4=agi.requester.extractScripts(_6b3);for(i=0;i<_6b4.length;i++){try{eval(_6b4[i]);}catch(e){}}};agi.requester.checkAll=function(_6b5,_6b6){form=dojo.byId(_6b5);for(i=0;i<form.elements.length;i++){if(form.elements[i].type=="checkbox"){form.elements[i].checked=_6b6;}}};agi.requester.countChecked=function(_6b7){var form=dojo.byId(_6b7);var _6b8=0;for(i=0;i<form.elements.length;i++){if(form.elements[i].type=="checkbox"&form.elements[i].checked){_6b8++;}}return _6b8;};agi.requester.selectAll=function(_6b9,_6ba){if(_6ba==undefined){var _6bb=true;}else{var _6bb=_6ba;}var list=dojo.byId(_6b9);var _6bc=document.getElementsByName("event_id");for(i=0;i<list.childNodes.length;i++){if(list.childNodes[i].nodeName=="LI"){for(j=0;j<list.childNodes[i].childNodes.length;j++){if(list.childNodes[i].childNodes[j].type=="checkbox"){list.childNodes[i].childNodes[j].checked=_6bb;len=_6bc.length;for(n=0;n<len;n++){if((_6bc[n].value)==(list.childNodes[i].childNodes[j].value)){_6bc[n].checked=_6bb;}}}}}}};agi.requester.selectEqual=function(_6bd){var _6be=document.getElementsByName(_6bd.name);for(i=0;i<_6be.length;i++){if(_6bd.form.elements[i].value==_6bd.value){_6bd.form.elements[i].checked=_6bd.checked;}}};agi.requester.fixurl=function(url){if(url.indexOf("http")!=0){var sep="";url.indexOf("/")==0?sep="":sep="/";url=agi.requester.ajaxhost()+sep+url;}return url;};agi.requester.ajaxhost=function(){return document.location.protocol+"//"+document.location.hostname;};}if(!dojo._hasResource["agi.widget.Lightbox"]){dojo._hasResource["agi.widget.Lightbox"]=true;dojo.provide("agi.widget.Lightbox");dojo.declare("agi.widget.Lightbox",[agi.classes.Identified,agi.widget._TemplatedWidget],{url:null,contents:null,node:null,templatePath:null,left:null,top:null,height:null,width:null,position:"absolute",relativeTo:null,showloader:true,loaderSrc:imghost+"/ag/reminders/loader.swf",loaderId:"agi-lightboxloader",loaderHeight:120,loaderWidth:120,overlayId:"agi-overlay",showoverlay:true,lightboxId:"agi-lightbox",noprintClass:"agi-noprint",timeout:60000,loadnow:true,allowclick:false,closeKey:null,overflow:"auto",overlayZindex:"999",containerZindex:"1000",loaderZindex:"250",_defaultTop:20,_ready:false,_reset:false,_showing:false,_bgIframe:null,_keypressListener:null,_hideSignal:"ag/Lightbox/hide",_resizeSignal:"ag/Lightbox/resize",constructor:function(_6bf){_6bf=_6bf||{};dojo.mixin(this,_6bf);this._checkPositioning();},uninitialize:function(){dojo._destroyElement(this.loader);dojo._destroyElement(this.lightbox);if(this.overlay){dojo._destroyElement(this.overlay);}if(this._bgIframe){this._bgIframe.destroy();this._bgIframe=null;}},_checkPositioning:function(){if(this.position=="relative"){if(!this.relativeTo){throw (this+" needs a relativeTo when positioning relatively");}if(this.left==null){this.left=0;}if(this.top==null){this.top=0;}var pos=dojo.coords(this.relativeTo);this.left+=pos.x;this.top+=pos.y;}else{if(this.position=="user"){if(this.top==null||this.left==null){throw (this+" needs 'left' and 'top' defined when using user-defined positioning.");}}else{if(this.top==null){this.top=this._defaultTop;}}}},buildRendering:function(){if(this.templatePath||this.templateString){this.inherited(arguments);}this.overlay=this._createOverlay();this.lightbox=this._createLightbox(this.overlay);this.loader=this._createLoader();},postCreate:function(){this.inherited(arguments);dojo.subscribe(this._hideSignal,dojo.hitch(this,this.hide));dojo.subscribe(this._resizeSignal,dojo.hitch(this,this._resizeOverlay));if(this.loadnow){this._loadContent();}},_createOverlay:function(){var body=dojo.body();var _6c0=this.overlayId;var _6c1=dojo.byId(_6c0);if(!_6c1){_6c1=document.createElement("div");_6c1.setAttribute("id",_6c0);dojo.addClass(_6c1,this.noprintClass);var _6c2=this._pageSize();dojo.style(_6c1,{display:"none",position:"absolute",top:"0",left:"0",zIndex:this.overlayZindex,width:"100%",height:_6c2[1]+"px"});body.insertBefore(_6c1,body.firstChild);}try{filter=dojo.style(_6c1,"filter");if(filter&&dojo.isIE){if(filter.indexOf(imghost)==-1){filter=filter.replace("/agbeta",imghost+"/agbeta");dojo.style(_6c1,"filter",filter);}}}catch(e){}return _6c1;},_createLightbox:function(_6c3){var body=dojo.body();var _6c4=dojo.byId(this.lightboxId);if(!_6c4){_6c4=document.createElement("div");_6c4.setAttribute("id",this.lightboxId);dojo.style(_6c4,{display:"none",position:"absolute",zIndex:this.containerZindex});body.insertBefore(_6c4,_6c3.nextSibling);}_6c4.innerHTML="";return _6c4;},_createLoader:function(){var body=dojo.body();var _6c5=dojo.byId("loadingImage");if(!_6c5){if(this.loaderSrc.endswith(".swf")){_6c5=this._createLoaderSwf(this.loaderSrc);}else{_6c5=this._createLoaderImage(this.loaderSrc);}dojo.style(_6c5,{display:"none",visibility:"hidden",position:"absolute",zIndex:this.loaderZindex});body.insertBefore(_6c5,body.firstChild);}return _6c5;},_createLoaderSwf:function(src){var _6c6=document.createElement("embed");_6c6.setAttribute("id",this.loaderId);_6c6.setAttribute("name","FlashProduct");_6c6.setAttribute("src",src);_6c6.setAttribute("swLiveConnect",true);_6c6.setAttribute("width",this.loaderWidth);_6c6.setAttribute("height",this.loaderHeight);_6c6.setAttribute("scale","noborder");_6c6.setAttribute("quality","high");_6c6.setAttribute("type","application/x-shockwave-flash");_6c6.setAttribute("pluginspace","http://www.macromedia.com/go/getflashplayer");_6c6.setAttribute("wmode","transparent");return _6c6;},_createLoaderImage:function(src){var _6c7=document.createElement("img");_6c7.setAttribute("id",this.loaderId);_6c7.setAttribute("src",src);_6c7.setAttribute("width",this.loaderWidth);_6c7.setAttribute("height",this.loaderHeight);return _6c7;},_loadContent:function(){if(this.domNode&&!this.node){this.node=this.domNode;}if(this.loader&&this.showloader){var _6c8=this._pageSize();var _6c9=this._pageScroll();var _6ca=_6c9[1]+((_6c8[3]-35-this.loader.height)/2);var _6cb=((_6c8[0]-20-this.loader.width)/2);dojo.style(this.loader,{display:"block",visibility:"visible",top:_6ca+"px",left:_6cb+"px"});}if(this.overlay&&this.showoverlay){dojo.style(this.overlay,{display:"block",visibility:"visible"});}if(this.url){dojo.xhrGet({url:this.url,handleAs:"text",timeout:this.timeout,load:dojo.hitch(this,this._onSuccess),error:dojo.hitch(this,this._onError)});}else{if(this.contents){this.lightbox.innerHTML=agi.requester.stripScripts(this.contents);this._ready=true;this.show();agi.requester.evalScripts(this.contents);this._enableOverlayClick();}else{if(this.node){var node=dojo.byId(this.node);this.lightbox.appendChild(dojo.byId(node));dojo.style(node,"display","block");this._ready=true;this.show();this._enableOverlayClick();}}}},_onSuccess:function(_6cc,_6cd){this.lightbox.innerHTML=agi.requester.stripScripts(_6cc);this._ready=true;this.show();agi.requester.evalScripts(_6cc);this._enableOverlayClick();return _6cc;},_onError:function(_6ce,_6cf){this.hide();return _6ce;},show:function(_6d0){if(_6d0){this._checkPositioning();}this._showPhase0();this._showPhase1();this._showPhase2();this.postShow();},_showPhase0:function(){if(!this._ready){return this._loadContent();}if(this._reset){this._checkPositioning();this._reset=false;}if(this.contents){this.lightbox.innerHTML=this.contents;}dojo.style(this.lightbox,"overflow",this.overflow);if(this.loader){dojo.style(this.loader,{display:"none",visibility:"hidden"});}if(this.overlay&&this.showoverlay){dojo.style(this.overlay,{display:"block",visibility:"visible"});}},_showPhase1:function(){var _6d1=this._pageScroll();var _6d2=this.top+_6d1[1];var _6d3={left:"-9999px",top:_6d2+"px",visibility:"visible",display:"block"};if(this.height){_6d3.height=this.height+"px";}if(this.width){_6d3.width=this.width+"px";}dojo.style(this.lightbox,_6d3);},_showPhase2:function(){var _6d4=this._pageSize();if(this.left==null){this.left=((_6d4[0]-this.lightbox.offsetWidth)/2);}var _6d5={left:this.left+"px"};dojo.style(this.lightbox,_6d5);this._resizeOverlay();this._enableKeypressListener();if(!this._bgIframe){var _6d6=this.lightbox;if(this.overlay&&this.showoverlay){_6d6=this.overlay;}this._bgIframe=new dijit.BackgroundIframe(_6d6);}this._showing=true;},postShow:function(){return;},hide:function(_6d7){if(!this._showing){return;}if(this.overlay){this.overlay.onclick=function(){return false;};dojo.style(this.overlay,{display:"none",visibility:"hidden"});}if(this.loader){dojo.style(this.loader,{display:"none",visibility:"hidden"});}if(this.lightbox){dojo.style(this.lightbox,{display:"none",visibility:"hidden"});if(_6d7){this.reset();}else{this.contents=this.lightbox.innerHTML;}}this._disableKeypressListener();this._showing=false;},reset:function(){if(this.node){dojo.style(this.node,{display:"none"});dojo.place(this.node,dojo.body(),"last");}this.lightbox.innerHTML="";this.contents=null;this.url=null;this.domNode=null;this.top=null;this.left=null;this._ready=false;this._reset=true;},_enableOverlayClick:function(){if(this.overlay&&this.allowclick){this._overlayClick=dojo.connect(this.overlay,"onclick",dojo.hitch(this,this.hide));}},_disableOverlayClick:function(){if(this._overlayClick){dojo.disconnect(this._overlayClick);this._overlayClick=null;}},_enableKeypressListener:function(){if(this.closeKey&&!this._keypressListener){this._keypressListener=dojo.connect(document,"keypress",dojo.hitch(this,this._onKeypress));}},_disableKeypressListener:function(){if(this._keypressListener){dojo.disconnect(this._keypressListener);this._keypressListener=null;}},_onKeypress:function(evt){if(evt.charOrCode==this.closeKey){this.hide();}},_resizeOverlay:function(){if(this.overlay){var _6d8=this._pageSize();dojo.style(this.overlay,"height",_6d8[1]+"px");}},_pageScroll:function(){var _6d9=0;if(self.pageYOffset){_6d9=self.pageYOffset;}else{if(document.documentElement&&document.documentElement.scrollTop){_6d9=document.documentElement.scrollTop;}else{if(document.body){_6d9=document.body.scrollTop;}}}var _6da=[null,_6d9];return _6da;},_pageSize:function(){var _6db,_6dc;if(window.innerHeight&&window.scrollMaxY){_6db=document.body.scrollWidth;_6dc=window.innerHeight+window.scrollMaxY;}else{if(document.body.scrollHeight>document.body.offsetHeight){_6db=document.body.scrollWidth;_6dc=document.body.scrollHeight;}else{_6db=document.body.offsetWidth;_6dc=document.body.offsetHeight;}}var _6dd,_6de;if(self.innerHeight){_6dd=self.innerWidth;_6de=self.innerHeight;}else{if(document.documentElement&&document.documentElement.clientHeight){_6dd=document.documentElement.clientWidth;_6de=document.documentElement.clientHeight;}else{if(document.body){_6dd=document.body.clientWidth;_6de=document.body.clientHeight;}}}var _6df,_6e0;if(_6dc<_6de){_6e0=_6de;}else{_6e0=_6dc;}if(_6db<_6dd){_6df=_6dd;}else{_6df=_6db;}var _6e1=[_6df,_6e0,_6dd,_6de];return _6e1;}});}if(!dojo._hasResource["ag.widget.Lightbox"]){dojo._hasResource["ag.widget.Lightbox"]=true;dojo.provide("ag.widget.Lightbox");ag.widget.Lightbox=agi.widget.Lightbox;}if(!dojo._hasResource["dojo.NodeList-traverse"]){dojo._hasResource["dojo.NodeList-traverse"]=true;dojo.provide("dojo.NodeList-traverse");dojo.extend(dojo.NodeList,{_buildArrayFromCallback:function(_6e2){var ary=[];for(var i=0;i<this.length;i++){var _6e3=_6e2.call(this[i],this[i],ary);if(_6e3){ary=ary.concat(_6e3);}}return ary;},_getUniqueAsNodeList:function(_6e4){var ary=[];for(var i=0,node;node=_6e4[i];i++){if(node.nodeType==1&&dojo.indexOf(ary,node)==-1){ary.push(node);}}return this._wrap(ary,null,this._NodeListCtor);},_getUniqueNodeListWithParent:function(_6e5,_6e6){var ary=this._getUniqueAsNodeList(_6e5);ary=(_6e6?dojo._filterQueryResult(ary,_6e6):ary);return ary._stash(this);},_getRelatedUniqueNodes:function(_6e7,_6e8){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(_6e8),_6e7);},children:function(_6e9){return this._getRelatedUniqueNodes(_6e9,function(node,ary){return dojo._toArray(node.childNodes);});},closest:function(_6ea,root){return this._getRelatedUniqueNodes(null,function(node,ary){do{if(dojo._filterQueryResult([node],_6ea,root).length){return node;}}while(node!=root&&(node=node.parentNode)&&node.nodeType==1);return null;});},parent:function(_6eb){return this._getRelatedUniqueNodes(_6eb,function(node,ary){return node.parentNode;});},parents:function(_6ec){return this._getRelatedUniqueNodes(_6ec,function(node,ary){var pary=[];while(node.parentNode){node=node.parentNode;pary.push(node);}return pary;});},siblings:function(_6ed){return this._getRelatedUniqueNodes(_6ed,function(node,ary){var pary=[];var _6ee=(node.parentNode&&node.parentNode.childNodes);for(var i=0;i<_6ee.length;i++){if(_6ee[i]!=node){pary.push(_6ee[i]);}}return pary;});},next:function(_6ef){return this._getRelatedUniqueNodes(_6ef,function(node,ary){var next=node.nextSibling;while(next&&next.nodeType!=1){next=next.nextSibling;}return next;});},nextAll:function(_6f0){return this._getRelatedUniqueNodes(_6f0,function(node,ary){var pary=[];var next=node;while((next=next.nextSibling)){if(next.nodeType==1){pary.push(next);}}return pary;});},prev:function(_6f1){return this._getRelatedUniqueNodes(_6f1,function(node,ary){var prev=node.previousSibling;while(prev&&prev.nodeType!=1){prev=prev.previousSibling;}return prev;});},prevAll:function(_6f2){return this._getRelatedUniqueNodes(_6f2,function(node,ary){var pary=[];var prev=node;while((prev=prev.previousSibling)){if(prev.nodeType==1){pary.push(prev);}}return pary;});},andSelf:function(){return this.concat(this._parent);},first:function(){return this._wrap(((this[0]&&[this[0]])||[]),this);},last:function(){return this._wrap((this.length?[this[this.length-1]]:[]),this);},even:function(){return this.filter(function(item,i){return i%2!=0;});},odd:function(){return this.filter(function(item,i){return i%2==0;});}});}if(!dojo._hasResource["ag.widget.CardPickerWidget"]){dojo._hasResource["ag.widget.CardPickerWidget"]=true;dojo.provide("ag.widget.CardPickerWidget");dojo.declare("ag.widget.CardPickerWidget",[ag.classes.Identified],{card_picker_lightbox:null,tones:"",categories:"",constructor:function(){var _6f3=dojo.queryToObject(location.search.substr(1));if(_6f3.cardpicker){this.display_widget_container(null);}this.attach_open_button();},attach_open_button:function(){dojo.query("#picker_open_button").connect("onclick",this,this.display_widget_container);},display_widget_container:function(_6f4){if(_6f4){dojo.stopEvent(_6f4);}var url=ahost+"/cardpicker/";if(this.card_picker_lightbox==null){this.card_picker_lightbox=new ag.widget.Lightbox({url:url,lightboxId:"card_picker_lightbox",overlayId:"agi-overlay",node:"cardpickertab",showloader:false,loadnow:true,allowclick:true,width:968});}else{this.card_picker_lightbox.show();this.init_widget();}},init_widget:function(){this.tones=dojo.query(".click",dojo.byId("agi-product-tone"));this.categories=dojo.query(".click",dojo.byId("agi-product-category"));dojo.query(".click",dojo.byId("agi-product-tone")).connect("onclick",this,this.tone_click);dojo.query(".click",dojo.byId("agi-product-category")).connect("onclick",this,this.category_click);dojo.query("#hide").connect("onclick",this,this.hide_lightbox);dojo.query(".click",dojo.byId("agi-cardpicker")).removeClass("selected");dojo.query(".click",dojo.byId("agi-product-tone")).first().addClass("selected");dojo.query(".click",dojo.byId("agi-product-category")).first().addClass("selected");this.check_combo();},check_combo:function(){var _6f5=dojo.query(".selected",dojo.byId("agi-product-tone")).parent().attr("id");var _6f6=dojo.query(".selected",dojo.byId("agi-product-category")).parent().attr("id");var _6f7=_6f5+" "+_6f6;dojo.forEach(combos,function(_6f8,i){if(_6f7==_6f8){dojo.attr("card-wrapper","innerHTML",product_wrappers[i]);}});},tone_click:function(e){this.tones.removeClass("selected");dojo.query(e.target).addClass("selected");this.check_combo();},category_click:function(e){this.categories.removeClass("selected");dojo.query(e.target).addClass("selected");this.check_combo();},hide_lightbox:function(){this.card_picker_lightbox.hide();}});}if(!dojo._hasResource["ag.controllers.StandardPage"]){dojo._hasResource["ag.controllers.StandardPage"]=true;dojo.provide("ag.controllers.StandardPage");dojo.declare("ag.controllers.StandardPage",[ag.controllers.KanaLiveChat,ag.search.SearchMixin,ag.widget.QuickshopMultiMixin],{constructor:function(){this.navigation_search=new ag.widget.NavigationSearch();this.card_picker_widget=new ag.widget.CardPickerWidget();if(this.is_from_yahoo()&&!(this.is_registered_from_yahoo())){this.display_yahoo_lightbox();}},display_yahoo_lightbox:function(){if(typeof ag_lightbox==="undefined"){ag_lightbox=this.create_yahoo_lightbox();dojo.subscribe("hide_yahoo_lightbox",this,function(){ag_lightbox.hide();});}ag_lightbox.show();},create_yahoo_lightbox:function(){var host=ahost;if(window.location.protocol=="https:"){host=shost;}var node=dojo.create("iframe",{className:"yahoo-iframe",src:host+"/yahoo"});return new ag.widget.Lightbox({lightboxId:"ag-yahoo-lightbox",overlayId:"agi-overlay",node:node,showloader:false,loadnow:false,allowclick:false,width:1000});},is_from_yahoo:function(){return this.get_url_vars()["from_yh"]=="0";},is_registered_from_yahoo:function(){return (MagicCookie.getCookieValue("from_yh")=="1");},get_url_vars:function(){var vars={};var _6f9=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(m,key,_6fa){vars[key]=_6fa;});return vars;}});}if(!dojo._hasResource["ag.controllers.StoragePage"]){dojo._hasResource["ag.controllers.StoragePage"]=true;dojo.provide("ag.controllers.StoragePage");dojo.declare("ag.controllers.StoragePage",[ag.controllers.StandardPage],{storage:null,constructor:function(){this.storage=new agi.storage.Storage();}});}dojo.publish("/ag.layers.storage/loaded/");dojo.i18n._preloadLocalizations("ag.layers.nls.storage",["ROOT","ar","ca","cs","da","de","de-de","el","en","en-gb","en-us","es","es-es","fi","fi-fi","fr","fr-fr","he","he-il","hu","it","it-it","ja","ja-jp","ko","ko-kr","nb","nl","nl-nl","pl","pt","pt-br","pt-pt","ru","sk","sl","sv","th","tr","xx","zh","zh-cn","zh-tw"]);
