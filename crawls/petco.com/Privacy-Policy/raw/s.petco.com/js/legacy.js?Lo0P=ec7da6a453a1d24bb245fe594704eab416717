var isie=navigator.appName.indexOf("Internet Explorer")>-1;var tokenSyntax=/(^|.|\r|\n)(\##_\s*(\w+)\s*_##)/;
var cartOverlayActive=true;var countOfChecks=0;var conversionTagAlreadyRendered=0;
var homez2HasResults=false;function prepareLinkButtonClicks(){try{$$("a.prepare-link-button").each(function(tag){if(tag&&typeof (tag.click=="undefined")){tag.click=function(){var result=true;
if(tag.onclick){result=tag.onclick();}if(typeof (result)=="undefined"||result){eval(tag.href);
}};}});}catch(err){}}function highlightFields(fieldIDs){for(var i=0;i<fieldIDs.length;
i++){var field=$(fieldIDs[i]);if(field!=null){field.addClassName("field-val-callout");
}}}function enableProtectedFields(fieldIDs){for(var i=0;i<fieldIDs.length;i++){var field=$(fieldIDs[i]);
if(field!=null){field.show();}}}function toggleDisplay(arg){var obj=arg.style?arg:document.getElementById(arg);
if(obj){obj.style.display=(obj.style.display==null||obj.style.display=="none")?"block":"none";
}}function inheritPos(parent,child){var parent=$(parent);var child=$(child);child.style.left=parent.style.left;
child.style.top=parent.style.top;child.style.height=parent.offsetHeight;child.style.width=parent.offsetWidth;
}function CheckNewsletterForm(emailTextBox){subscriber_email=emailTextBox.value;AtPos=subscriber_email.indexOf("@");
AEmail=subscriber_email.split("@");if(AtPos==-1||AtPos==0||AEmail[1]==""||AEmail[0]==""||AEmail[1].indexOf(".")==-1){showStandardizedAlert("Please enter a valid email address.");
return false;}}function CheckSearchForm(formobj){if($j(formobj)&&($j(formobj).val()==""||$j(formobj).val()=="Please enter a search term")){return false;
}return true;}function IfEmptyRedirect(formobj,redirectURL){if($(formobj)&&$(formobj).value.isBlank()){window.location=redirectURL;
return false;}return true;}function launch(newURL,newName,newFeatures,orgName){var remote=open(newURL,newName,newFeatures);
if(remote.opener==null){remote.opener=window;}remote.opener.name=orgName;return remote;
}function OpenWindow(TheWindow,h,w,WinName,type){switch(type){case 1:myRemote=launch(""+TheWindow+"",""+WinName+"","height="+h+", width="+w+", screenX=50, left=50, screenY=50, top=50, channelmode=0, dependent=0, directories=0, fullscreen=0, location=0, menubar=0, resizable=0, scrollbars=0, status=0, toolbar=0","TheOrgName");
break;case 2:myRemote=launch(""+TheWindow+"",""+WinName+"","height="+h+", width="+w+", screenX=50, left=50, screenY=50, top=50, channelmode=0, dependent=0, directories=0, fullscreen=0, location=0, menubar=0, resizable=1, scrollbars=1, status=0, toolbar=0","TheOrgName");
break;case 3:myRemote=launch(""+TheWindow+"",""+WinName+"","height="+h+", width="+w+", screenX=50, left=50, screenY=50, top=50, channelmode=0, dependent=0, directories=0, fullscreen=0, location=0, menubar=1, resizable=1, scrollbars=1, status=0, toolbar=0","TheOrgName");
break;case 4:myRemote=launch(""+TheWindow+"",""+WinName+"","height="+h+", width="+w+", screenX=50, left=50, screenY=50, top=50, channelmode=0, dependent=0, directories=0, fullscreen=0, location=0, menubar=1, resizable=1, scrollbars=1, status=1, toolbar=1","TheOrgName");
break;default:myRemote=launch(""+TheWindow+"",""+WinName+"","height="+h+", width="+w+", screenX=50, left=50, screenY=50, top=50","TheOrgName");
break;}}function CharacterCountdown_Init(sourceElementId,displayElementId,maxLength){try{var sourceElement=document.all?document.all[sourceElementId]:$j(sourceElementId).get(0);
CharacterCountdown_Display(sourceElement,displayElementId,maxLength);}catch(e){showStandarizedAlert("Charactercountdown_Init: "+e.Message);
}}function CharacterCountdown_LimitInput(sourceElement,maxLength){try{if(sourceElement.value.length==maxLength){return false;
}}catch(e){showStandardizedMessage("CharacterCountdown_Limit: "+e.Message);}}function CharacterCountdown_Display(sourceElement,displayElementId,maxLength){try{var charactersLeft=maxLength-sourceElement.value.length;
var displayElement=document.all?document.all[displayElementId]:$j(displayElementId).get(0);
displayElement.innerHTML=charactersLeft;}catch(e){showStandardizedAlert("CharacterCountdown_Display: "+e.Message);
}}function ValidateCompare(){if((countOfChecks>5)||(countOfChecks<2)){showStandardizedAlert("You must select 2-5 products to compare.");
return false;}return true;}function closePopup(sURL){window.opener.location=sURL;
window.close();}function MM_swapImgRestore(){var i,x,a=document.MM_sr;for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;
i++){x.src=x.oSrc;}}function MM_preloadImages(){var d=document;if(d.images){if(!d.MM_p){d.MM_p=new Array();
}var i,j=d.MM_p.length,a=MM_preloadImages.arguments;for(i=0;i<a.length;i++){if(a[i].indexOf("#")!=0){d.MM_p[j]=new Image;
d.MM_p[j++].src=a[i];}}}}function MM_findObj(n,d){var p,i,x;if(!d){d=document;}if((p=n.indexOf("?"))>0&&parent.frames.length){d=parent.frames[n.substring(p+1)].document;
n=n.substring(0,p);}if(!(x=d[n])&&d.all){x=d.all[n];}for(i=0;!x&&i<d.forms.length;
i++){x=d.forms[i][n];}for(i=0;!x&&d.layers&&i<d.layers.length;i++){x=MM_findObj(n,d.layers[i].document);
}if(!x&&d.getElementById){x=d.getElementById(n);}return x;}function MM_swapImage(){var i,j=0,x,a=MM_swapImage.arguments;
document.MM_sr=new Array;for(i=0;i<(a.length-2);i+=3){if((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x;
if(!x.oSrc){x.oSrc=x.src;}x.src=a[i+2];}}}function getposOffset(overlay,offsettype){var totaloffset=(offsettype=="left")?overlay.offsetLeft:overlay.offsetTop;
var parentEl=overlay.offsetParent;while(parentEl!=null){totaloffset=(offsettype=="left")?totaloffset+parentEl.offsetLeft:totaloffset+parentEl.offsetTop;
parentEl=parentEl.offsetParent;}return totaloffset;}function overlay(curobj,subobjstr,opt_position){var allFlyouts=$j(".links-popup").hide();
var subobj=$j(subobjstr);toggleDisplay(subobjstr);var xpos=getposOffset(curobj,"left")+((typeof opt_position!="undefined"&&opt_position.indexOf("right")!=-1)?-(subobj.offsetWidth-curobj.offsetWidth):0);
var ypos=getposOffset(curobj,"top")+((typeof opt_position!="undefined"&&opt_position.indexOf("bottom")!=-1)?curobj.offsetHeight:0);
var offset=0;if(typeof opt_position!="undefined"){if(opt_position.indexOf("rightbottom40")!=-1){offset=40;
}else{if(opt_position.indexOf("rightbottom50")!=-1){offset=50;}}}xpos=xpos+offset;
subobj.style.left=xpos+"px";subobj.style.top=ypos+"px";if(isie){var iframe=$("iframe_"+subobjstr);
if(iframe){inheritPos(subobjstr,iframe.id);toggleDisplay(iframe);}}return false;}function overlayclose(subobj){toggleDisplay(subobj);
if(isie){var iframe=$("iframe_"+subobj);if(iframe){toggleDisplay(iframe);}}}function hidediv(divname){$j(divname).get(0).style.visibility="hidden";
$j(divname).get(0).style.display="none";}function showdiv(divname){$j(divname).get(0).style.visibility="visible";
$j(divname).get(0).style.display="";}function openBVQADiv(){toggleObjectsByTagNames("select","object","embed");
var padding="16px";Prototype.Browser.IE?"0px":"16px";var body=$(document.getElementsByTagName("body")[0]);
body.setStyle({overflow:"hidden",paddingRight:padding});if(Prototype.Browser.IE){$("BVQAFaderDiv").setStyle({width:eval($("BVQAFaderDiv").getWidth()+18)+"px"});
}if(Prototype.Browser.IE){$("BVQAPopupDiv").setStyle({width:"490px",height:"350px"});
$("BVQAPopupHeader").setStyle({width:"490px"});}new Effect.Parallel([new Effect.Appear("BVQAFaderDiv",{duration:0.5,from:0,to:1}),new Effect.Appear("BVQAPopupDiv",{duration:0.5,from:0,to:1})]);
}function closeBVQADiv(){var body=$(document.getElementsByTagName("body")[0]);new Effect.Parallel([new Effect.Fade("BVQAFaderDiv",{duration:0.5}),new Effect.Fade("BVQAPopupDiv",{duration:0.5,to:0.01})],{duration:0.5,afterFinish:function(){body.setStyle({overflow:"auto",paddingRight:"0px"});
toggleObjectsByTagNames("object","select","embed");$("BVQAFaderDiv").hide();$("BVQAPopupDiv").hide();
}});enableScrollBar();}function openCartOverlayDiv(){if(!cartOverlayActive){return ;
}toggleObjectsByTagNames("select","object","embed");var padding="16px";Prototype.Browser.IE?"0px":"16px";
var body=$(document.getElementsByTagName("body")[0]);body.setStyle({overflow:"hidden",paddingRight:padding});
if(Prototype.Browser.IE){$("CartOverlayFaderDiv").setStyle({width:eval($("CartOverlayFaderDiv").getWidth()+18)+"px"});
$("CartOverlayPopupDiv").setStyle({width:"620px",height:"350px",margin:"-204px 0 0 -344px"});
}else{$("CartOverlayPopupDiv").setStyle({margin:"-204px 0 0 -360px"});}new Effect.Parallel([new Effect.Appear("CartOverlayFaderDiv",{duration:0.5,from:0,to:1}),new Effect.Appear("CartOverlayPopupDiv",{duration:0.5,from:0,to:1})]);
}function closeCartOverlayDiv(){var body=$(document.getElementsByTagName("body")[0]);
new Effect.Parallel([new Effect.Fade("CartOverlayFaderDiv",{duration:0.5}),new Effect.Fade("CartOverlayPopupDiv",{duration:0.5,to:0.01})],{duration:0.5,afterFinish:function(){body.setStyle({overflow:"auto",paddingRight:"0px"});
toggleObjectsByTagNames("object","select","embed");$("CartOverlayFaderDiv").hide();
$("CartOverlayPopupDiv").hide();}});}function enableScrollBar(){var body=$(document.getElementsByTagName("body")[0]);
body.setStyle({overflow:"auto",paddingRight:"0px"});}function disableScrollBar(){var body=$(document.getElementsByTagName("body")[0]);
body.setStyle({overflow:"hidden",paddingRight:"0px"});}function CreateConversionEventTag(pageCode,numericStatus,campaign,pts){if(conversionTagAlreadyRendered==0){var bodyID=$j("body")[0];
var script=new Element("script",{type:"text/javascript"});var scriptText="cmCreateConversionEventTag('"+pageCode+"', '"+numericStatus+"', '"+campaign+"','"+pts+"');";
if(window.ActiveXObject&&!window.opera){script.text=scriptText;}else{script.textContent=scriptText;
}$j("body").append(script);conversionTagAlreadyRendered=1;}return true;}function stripInvalidChars(s,bag){var i;
var returnString="";for(i=0;i<s.length;i++){var c=s.charAt(i);if(bag.indexOf(c)==-1){returnString+=c;
}}return returnString;}function daysInFebruary(year){return(((year%4==0)&&((!(year%100==0))||(year%400==0)))?29:28);
}function DaysArray(n){for(var i=1;i<=n;i++){this[i]=31;if(i==4||i==6||i==9||i==11){this[i]=30;
}if(i==2){this[i]=29;}}return this;}function isDate(dtStr){var dtCh="/";var daysInMonth=DaysArray(12);
var pos1=dtStr.indexOf(dtCh);var pos2=dtStr.indexOf(dtCh,pos1+1);var strMonth=dtStr.substring(0,pos1);
var strDay=dtStr.substring(pos1+1,pos2);var strYear=dtStr.substring(pos2+1);var minYear=1900;
var maxYear=2100;strYr=strYear;if(strDay.charAt(0)=="0"&&strDay.length>1){strDay=strDay.substring(1);
}if(strMonth.charAt(0)=="0"&&strMonth.length>1){strMonth=strMonth.substring(1);}for(var i=1;
i<=3;i++){if(strYr.charAt(0)=="0"&&strYr.length>1){strYr=strYr.substring(1);}}month=parseInt(strMonth);
day=parseInt(strDay);year=parseInt(strYr);if(pos1==-1||pos2==-1){alert("Valid date format is : mm/dd/yyyy");
return false;}if(strMonth.length<1||month<1||month>12){alert("Please enter a valid month");
return false;}if(strDay.length<1||day<1||day>31||(month==2&&day>daysInFebruary(year))||day>daysInMonth[month]){alert("Please enter a valid day");
return false;}if(strYear.length!=4||year==0||year<minYear||year>maxYear){alert("Please enter a valid 4 digit year between "+minYear+" and "+maxYear);
return false;}if(dtStr.indexOf(dtCh,pos2+1)!=-1||$pval.isNumeric(stripInvalidChars(dtStr,dtCh))==false){alert("Please enter a valid date");
return false;}return true;}function ProductDetailBowlInfo(){document.write("With Bottomless Bowl, have your favorite pet food and supplies automatically delivered right to your door. No more last minute trips to the store! Best of all, if your items are on sale at the time of your scheduled delivery, you'll automatically receive our guaranteed lowest price!<br /><br />");
document.write("All of the products your pet needs on a regular basis are available. Choose from food, flea & tick products, medications, vitamins, supplements and much more for all pets.<br /><br />");
document.write("To sign up:<br />");document.write('1. Browse to the product page of the items you wish to add to your Bottomless Bowl. Anytime you see this icon <img title="What is Bottomless Bowl?" src="/assets/product/whatsBB.png" border="0" height="25" alt="What is Bottomless Bowl?" width="88" /> on a product page, items on the page are available for your Bowl.<br /><br />');
document.write('2. Select the quantity of each item you wish to add and click the <img title="Add to Bottomless Bowl" src="/assets/product/button_bottomless_bowl.gif" border="0" height="30" alt="Add to Bottomless Bowl" width="100" /> button.<br /><br />');
document.write("3. On the next page, name your Bowl and choose the delivery frequency. You can choose to start your Bowl shipments immediately, or select a date up to 30 days in advance.<br /><br />");
document.write("When you sign up for Bottomless Bowl, you can select a delivery schedule for your Bottomless Bowl - from one to twelve weeks. You can also choose to have your order shipped immediately or shipped at a future date. Your settings will be saved. We'll even send you an email to remind you when your delivery is on its way.<br /><br />");
}function SetContent(obj,pc,zones){if(obj&&pc&&zones){var url="/Content.aspx?PC="+pc+"&zones="+zones;
new Ajax.Updater($(obj),url);}}function CopyRefinementsToNewDiv(){var currentRefinements=$("div_crumbs_and_dim_hidden");
var copyToRefinementsElement=$("div_crumbs_and_dim");if(currentRefinements&&copyToRefinementsElement){copyToRefinementsElement.innerHTML=currentRefinements.innerHTML;
}}function coreFollow(elementID){try{var coreCat=$purl.getParam("CoreCat")||"";var coreSearch=$purl.getParam("CoreSearch")||"";
if(!coreCat.isBlank()||!coreSearch.isBlank()){var appendVal="";if(!coreCat.isBlank()){appendVal="CoreCat="+$purl.getParam("CoreCat");
}else{appendVal="CoreSearch="+$purl.getParam("CoreSearch");}if(!appendVal.isBlank()){var elems=null;
if(elementID!=null&&!elementID.isBlank()){elems=$j("#"+elementID+" a[rel='CoreFollow']");
}else{elems=$j("a[rel='CoreFollow']");}$j.each(elems,function(i){var anchor=elems[i];
anchor.href+=anchor.href.indexOf("?")>-1?"&":"?";if(anchor.href.indexOf(appendVal)==-1){anchor.href+=appendVal;
}});}}}catch(Error){}}function AllowOnlyNumeric(evt){try{var charCode=(evt.which)?evt.which:event.keyCode;
if(charCode>31&&(charCode<48||charCode>57)){return false;}}catch(err){}return true;
}function MoveToNextCheckBox(currentTextBox,lengthToCheck,moveToCheckBox){var currentLength=currentTextBox.value.length;
if(currentLength==lengthToCheck){var theNewTextBox=$(moveToCheckBox);if(theNewTextBox){theNewTextBox.focus();
}}}function DisplayPalsPaysBanner(){var topCenteredColumn=$("center-column-2col");
if(topCenteredColumn){var theHtml="<div style='background-color:#ffffff;border: solid 1px #00b25a;'>";
theHtml=theHtml+"<div style='background-color:#00b25a;color:#ffffff;text-align:center;height: 15px;'><b>You Qualify for $250 in Coupons & Reward Dollars on you PETCO Purchases!</b></div>";
theHtml=theHtml+"<div style='color:#000000;font-size:8pt;text-align:justify;padding:4px 8px 4px 8px;'>";
theHtml=theHtml+"<img src='/Assets/Pals/logo_palspays70x70.gif' align='left' style='margin-right:8px;margin-bottom:8px;' />Thank you for being one of our best customers! You qualify for PALS Pays, our new, enhanced program that rewards you on ALL of your purchases at PETCO - not just on select food or groom purchases. Move to PALS Pays today and we'll send you our Total Pet Care Savings Book with nearly $250 in coupons for you to use at any PETCO store.<br /><br />";
theHtml=theHtml+"</div>";theHtml=theHtml+"<div style='text-align:center;'><a href=\"#\" onclick=\"CreateConversionEventTag('PALSBanner', '1', 'PALS', '0');ChangeToPalsPaysConversionConfirmation(null);\">Yes! I want to move to PALS Pays</a></div>";
theHtml=theHtml+"</div>";theHtml=theHtml+"<br />";Element.insert(topCenteredColumn,{"top":theHtml});
}}function AddBorder(image){image.className="featureimage-icons-on";}function RemoveBorder(image){if(currentIcon!=image.id){image.className="featureimage-icons-off";
}}function ValidateQTY(){var atLeastOneQTYIsValid=false;var arr=$("Form1").getInputs("text");
arr.each(function(item){if($pval.isNumeric(item.getValue())){atLeastOneQTYIsValid=true;
}});if(atLeastOneQTYIsValid){return true;}else{if($("carterror-top")!=null){$("carterror-top").setStyle({"display":"block"});
}if($("carterror-bottom")!=null){$("carterror-bottom").setStyle({"display":"block"});
}return false;}}function AddDonationSku(dropDownList){if(dropDownList){var urlValue=dropDownList.options[dropDownList.selectedIndex].value;
if(urlValue!=""){location.href=urlValue;}}}