(function(f){function t(a){try{return JSON.parse(a)}catch(b){return JANRAIN.SSO.warn("json array did not parse: "+a),[]}}function v(a){var b=document.createElement("a");b.href=a;return b.pathname.replace(/\//g,"_")}function w(a){cName="";pCOOKIES=[];pCOOKIES=document.cookie.split("; ");for(bb=0;bb<pCOOKIES.length;bb++)NmeVal=[],NmeVal=pCOOKIES[bb].split("="),NmeVal[0]==a&&(cName=unescape(NmeVal[1]));1<cName.length&&('"'===cName[0]&&(cName=cName.substr(1,cName.length)),'"'===cName[cName.length-1]&&
(cName=cName.substr(0,cName.length-1)));return cName.replace(/\\"/g,'"')}function u(a,b,g,m,c,d){a=a+"="+escape(b);g&&(g=(new Date((new Date).getTime()+864E5*g)).toGMTString(),a+=";expires="+g);m&&(a+=";path="+m);c&&(a+=";domain="+c);d&&(a+="secure; ");document.cookie=a}function k(a){a=o(a);return a.host+a.path}function o(a){for(var b=o.options,a=b.parser[b.strictMode?"strict":"loose"].exec(a),g={},m=14;m--;)g[b.key[m]]=a[m]||"";g[b.q.name]={};g[b.key[12]].replace(b.q.parser,function(a,m,c){m&&(g[b.q.name][m]=
c)});return g}function p(a,b){this.origin="https://"+o(a).host;this.path=b;this._iframe=null;this._iframeReady=!1;this._queue=[];this._requests={};this._messageId=0}if(!("undefined"!==typeof f.JANRAIN&&f.JANRAIN.SSO)){JANRAIN={SSO:{}};JANRAIN.SSO.version="3.1.0";JANRAIN.SSO.CAPTURE={};JANRAIN.SSO.ENGAGE={};var r,d,l,h,j,n,x,s,c,e;JANRAIN.SSO.log=function(a){window.console&&window.console.log&&console.log("SSO: "+a)};JANRAIN.SSO.warn=function(a){window.console&&window.console.warn&&console.warn("SSO WARNING: "+
a)};JANRAIN.SSO.error=function(a){window.console&&window.console.error&&console.error("SSO ERROR: "+a)};JANRAIN.SSO.useCookiesOnly=function(){"undefined"===typeof e&&(e=navigator&&navigator.userAgent&&-1<navigator.userAgent.search("__use_cookies__")?!0:!1);return e};JANRAIN.SSO.CAPTURE.logout=function(a,b){JANRAIN.SSO.logout(a,b)};JANRAIN.SSO.ENGAGE.logout=function(a,b){JANRAIN.SSO.logout(a,b)};JANRAIN.SSO.CAPTURE.refresh=function(a){JANRAIN.SSO.refresh(a)};JANRAIN.SSO.ENGAGE.refresh=function(a){JANRAIN.SSO.refresh(a)};
JANRAIN.SSO.CAPTURE.refresh_token=function(a){if("undefined"===typeof d||"undefined"===typeof l)JANRAIN.SSO.error("check_login must be called before calling refresh_token");else if(window.localStorage&&!JANRAIN.SSO.useCookiesOnly())c||(c=new p(sso_server_use,"/static/server.html")),JANRAIN.SSO.log("retrieving session"),c.getValue("","get",function(b,g){var c=document.createElement("script");c.src=d+"/capture/v1/refresh_token?v="+(new Date).getTime()+"&redirect_uri="+encodeURIComponent(l)+"&callback="+
encodeURIComponent(a)+"&client_id="+encodeURIComponent(n)+"&xdreceiver_uri="+encodeURIComponent(h)+"&logout_uri="+encodeURIComponent(j)+"&session_id="+encodeURIComponent(g.session_id)+"&origin="+encodeURIComponent(f.document.location.href);c.type="text/javascript";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(c,e)});else{var b=document.createElement("script");b.src=d+"/capture/v1/refresh_token?v="+(new Date).getTime()+"&redirect_uri="+encodeURIComponent(l)+"&callback="+
encodeURIComponent(a)+"&client_id="+encodeURIComponent(n)+"&xdreceiver_uri="+encodeURIComponent(h)+"&logout_uri="+encodeURIComponent(j)+"&origin="+encodeURIComponent(f.document.location.href);b.type="text/javascript";var g=document.getElementsByTagName("script")[0];g.parentNode.insertBefore(b,g)}};JANRAIN.SSO.CAPTURE.set_login=function(a){if("undefined"===typeof d||"undefined"===typeof l)JANRAIN.SSO.error("check_login must be called before calling set_login");else{var b=document.createElement("script");
b.src=d+"/capture/v1/set_login?v="+(new Date).getTime()+"&redirect_uri="+encodeURIComponent(l)+"&code="+encodeURIComponent(a.code)+"&login_callback="+encodeURIComponent(a.login_callback)+"&transaction_id="+encodeURIComponent(a.transaction_id);b.type="text/javascript";a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)}};JANRAIN.SSO.CAPTURE.check_login=function(a){d=d||a.sso_server;l=l||a.redirect_uri;h=h||a.xd_receiver;j=j||a.logout_uri;n=n||a.client_id;x=x||a.response_type;
a.response_type=a.response_type||"code";a.response_method=a.response_method||"redirect";a.refresh=a.refresh||!1;void 0===a.logout_uri&&(a.logout_uri="");void 0===a.bp_uri&&(a.bp_uri="");var b="janrain_sso_checked_"+v(a.xd_receiver),g=RegExp(b);if(window.localStorage&&!JANRAIN.SSO.useCookiesOnly())u(b,"",-1,"/"),JANRAIN.SSO.CAPTURE._check_capture_login(a);else if(-1===f.document.cookie.search(g))b=document.createElement("script"),b.src=d+"/capture/v1/sso_check.js?v="+(new Date).getTime()+"&xd_receiver="+
encodeURIComponent(h)+"&origin="+encodeURIComponent(f.document.location.href)+"&logout_uri="+encodeURIComponent(j)+"&redirect_uri="+encodeURIComponent(l)+"&client_id="+encodeURIComponent(n)+"&bp_channel="+encodeURIComponent(a.bp_channel)+"&response_type="+encodeURIComponent(x)+"&response_method="+encodeURIComponent(a.response_method)+"&widget_parameters="+encodeURIComponent(a.widget_parameters)+"&nologin_callback="+encodeURIComponent(a.nologin_callback)+"&transaction_id="+encodeURIComponent(a.transaction_id)+
"&refresh="+a.refresh,b.type="text/javascript",a=document.getElementsByTagName("script")[0],a.parentNode.insertBefore(b,a);else if("undefined"!==typeof janrain&&janrain.capture&&janrain.capture.ui&&"function"===typeof janrain.capture.ui[a.nologin_callback])janrain.capture.ui[a.nologin_callback]({transactionId:a.transaction_id,result:"already checked"})};JANRAIN.SSO.CAPTURE._check_capture_login=function(a){c||(c=new p(a.sso_server,"/static/server.html"));a.segment=void 0===a.segment?"":a.segment.replace(/ /g,
"_");JANRAIN.SSO.log("checking for session");c.getValue("","get",function(b,g){var m=[],c=!1,d=k(a.xd_receiver);if(!g.visited_expires||"session"===g.visited_expires)g.visited_expires="session",a.refresh=a.refresh||"session"!==w("janrainSSO_session"),u("janrainSSO_session","session",null,"/"),JANRAIN.SSO.log("set janrainSSO_session cookie");if(g.visited){m=t(g.visited);for(i=0;i<m.length;i++){var h=k(m[i].xdReceiverURI);if("undefined"!==typeof h&&h===d)if(!0===m[i].isLoggedIn)if(JANRAIN.SSO.log("already logged into: "+
m[i].domain),a.refresh)JANRAIN.SSO.log("overriding with refresh"),c=!0;else{if("undefined"!==typeof janrain&&janrain.capture&&janrain.capture.ui&&"function"===typeof janrain.capture.ui[a.nologin_callback])janrain.capture.ui[a.nologin_callback]({transactionId:a.transaction_id,result:"already checked"});return}else JANRAIN.SSO.log("found: "+m[i].domain+" but not logged in"),c=!0}}c||(d=o(a.xd_receiver),m.push({domain:d.host+d.path,xdReceiverURI:a.xd_receiver,isLoggedIn:!1,logoutURI:a.logout_uri}),10<
m.length&&m.splice(0,1));if(!g.session_id||1>g.session_id.length)if(JANRAIN.SSO.log("no session exists"),c){if("undefined"!==typeof janrain&&janrain.capture&&janrain.capture.ui&&"function"===typeof janrain.capture.ui[a.nologin_callback])janrain.capture.ui[a.nologin_callback]({transactionId:a.transaction_id,result:"sso failed - no session exists"})}else c=o(a.xd_receiver).host,JANRAIN.SSO._setSession(g.session_id,JSON.stringify(m),g.visited_expires,a.segment,c,function(){if(typeof janrain!=="undefined"&&
janrain.capture&&janrain.capture.ui&&typeof janrain.capture.ui[a.nologin_callback]==="function")janrain.capture.ui[a.nologin_callback]({transactionId:a.transaction_id,result:"sso failed - no session exists"})});else JANRAIN.SSO.log("logging in capture user"),JANRAIN.SSO.CAPTURE._login(a,g.session_id,JSON.stringify(m),"JANRAIN.SSO.CAPTURE._loginCallback")})};JANRAIN.SSO.CAPTURE._login=function(a,b,g,c){if("undefined"===typeof d)JANRAIN.SSO.error("sso server is not defined");else{var e=document.createElement("script");
e.src=d+"/capture/loginx?v="+(new Date).getTime()+"&callback="+encodeURIComponent(c)+"&xd_receiver="+encodeURIComponent(h)+"&origin="+encodeURIComponent(f.document.location.href)+"&logout_uri="+encodeURIComponent(j)+"&redirect_uri="+encodeURIComponent(l)+"&client_id="+encodeURIComponent(n)+"&bp_channel="+encodeURIComponent(a.bp_channel)+"&response_type="+encodeURIComponent(a.response_type)+"&response_method="+encodeURIComponent(a.response_method)+"&widget_parameters="+encodeURIComponent(a.widget_parameters)+
"&transaction_id="+encodeURIComponent(a.transaction_id)+"&session_id="+encodeURIComponent(b)+"&visited="+encodeURIComponent(g)+"&refresh="+a.refresh;e.type="text/javascript";a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)}};JANRAIN.SSO.CAPTURE._loginCallback=function(a){if(!a||"fail"===a.stat)JANRAIN.SSO.error("login failed: "+a.msg);else{JANRAIN.SSO.log("callback from SSO server received");c||(c=new p(d,"/static/server.html"));JANRAIN.SSO.log("updating SSO session");var b=
{session_id:decodeURIComponent(a.session_id),visited:decodeURIComponent(a.visited),visited_expires:a.visited_expires};c.setValue("","set",b,function(){a.capture_callback&&"jsonp"===a.response_method&&"undefined"!==typeof janrain&&janrain.capture&&janrain.capture.ui&&"function"===typeof a.capture_callback?a.capture_callback():a.redirect_uri&&0<a.redirect_uri.length&&(f.document.location.href=a.redirect_uri)})}};JANRAIN.SSO.ENGAGE.check_login=function(a){d=d||a.sso_server;h=h||a.xd_receiver;j=j||a.logout_uri;
r=a.token_uri;a.segment=void 0===a.segment?"":a.segment.replace(/ /g,"_");void 0===a.logout_uri&&(a.logout_uri="");void 0===a.bp_uri&&(a.bp_uri="");if(void 0===a.xd_receiver)JANRAIN.SSO.error("configuration value xd_receiver undefined");else{var b="janrain_sso_checked_"+v(a.xd_receiver),g=RegExp(b);window.localStorage&&!JANRAIN.SSO.useCookiesOnly()?(u(b,"",-1,"/"),JANRAIN.SSO.ENGAGE._checkSession(a)):-1===f.document.cookie.search(g)&&(b=document.createElement("script"),b.src=a.sso_server+"/session/sso_check.js?v="+
(new Date).getTime()+"&xdcomm_uri="+encodeURIComponent(a.xd_receiver)+"&bp_channel="+encodeURIComponent(a.bp_channel)+"&segment="+encodeURIComponent(a.segment)+"&logout_uri="+encodeURIComponent(a.logout_uri),b.type="text/javascript",a=document.getElementsByTagName("script")[0],a.parentNode.insertBefore(b,a))}};JANRAIN.SSO.ENGAGE._checkSession=function(a){c||(c=new p(a.sso_server,"/static/server.html"));JANRAIN.SSO.log("checking for session");c.getValue(a.segment,"get",function(b,g){var c=[],d=!1,
h=k(a.xd_receiver),e=o(a.xd_receiver).host;if(!g.visited_expires||"session"===g.visited_expires)g.visited_expires="session",a.refresh=a.refresh||"session"!==w("janrainSSO_session"),u("janrainSSO_session","session",null,"/"),JANRAIN.SSO.log("set janrainSSO_session cookie");if(g.visited){c=t(g.visited);for(i=0;i<c.length;i++){var f=k(c[i].xdReceiverURI);if("undefined"!==typeof f&&f===h)if(d=!0,!0===c[i].isLoggedIn)if(JANRAIN.SSO.log("already logged into: "+c[i].domain),a.refresh)JANRAIN.SSO.log("overriding with refresh");
else return;else JANRAIN.SSO.log("found: "+c[i].domain+" but not logged in")}}d||(h=o(a.xd_receiver),c.push({domain:h.host+h.path,xdReceiverURI:a.xd_receiver,isLoggedIn:!1,logoutURI:a.logout_uri}),10<c.length&&c.splice(0,1));!g.session_id||1>g.session_id.length?(JANRAIN.SSO.log("no session_id exists"),d||JANRAIN.SSO._setSession(g.session_id,JSON.stringify(c),g.visited_expires,a.segment,e,function(){})):(JANRAIN.SSO.log("logging in user"),JANRAIN.SSO.ENGAGE._login({session_id:g.session_id,xd_receiver:a.xd_receiver,
visited:JSON.stringify(c),callback:"JANRAIN.SSO.ENGAGE._loginCallback",bp_channel:a.bp_channel,logout_uri:a.logout_uri,segment:a.segment}))})};JANRAIN.SSO._redirectCallback=function(a,b,g,m,e,f,j){f=f||d;f||(JANRAIN.SSO.error("no session set, due to missing sso server parameter"),"undefined"!==j&&"function"===typeof j&&j());!e&&!h&&(JANRAIN.SSO.error("no session set, due to missing xd_receiver and logged_in_host parameters"),"undefined"!==j&&"function"===typeof j&&j());c||(c=new p(f,"/static/server.html"));
JANRAIN.SSO.log("updating session");c.getValue(e,"getSegment",function(g,d){c.getValue(d.segment,"get",function(g,c){var l=[],n;if(c.visited){JANRAIN.SSO.log("visited: "+c.visited);var l=t(c.visited),s=0;if(h)n=k(h);else for(var q=0;q<l.length;q++)o(l[q].xdReceiverURI).host==e&&s++;if(s>1){JANRAIN.SSO.log("multiple domains match, truncating visited");l=[]}q={};for(q=0;q<l.length;q++){var s=k(l[q].xdReceiverURI),r=o(l[q].xdReceiverURI);if(typeof s!=="undefined"&&(s===n||r.host===e)){if(l[q].isLoggedIn===
true)JANRAIN.SSO.log("logging in again to: "+l[q].domain);else{JANRAIN.SSO.log("found: "+l[q].domain);l[q].isLoggedIn=true}q=l[q];l=[q];break}}}else JANRAIN.SSO.warn("expected a site list to match - none found");JANRAIN.SSO._setSSOSession(a,b,JSON.stringify(l),m,f,d.segment,e,function(){j!=="undefined"&&typeof j==="function"&&j()})})})};JANRAIN.SSO._setSSOSession=function(a,b,g,d,e,h,l,f){c||(c=new p(e,"/static/server.html"));JANRAIN.SSO.log("setting session");c.setValue(h,"set",{session_id:a,session_id_expires:b,
visited:g,visited_expires:d,host:l},function(){"undefined"!==f&&"function"===typeof f&&f()})};JANRAIN.SSO._setSession=function(a,b,g,c,e,h){JANRAIN.SSO._setSSOSession(a,null,b,g,d,c,e,h)};JANRAIN.SSO.ENGAGE._login=function(a){if("undefined"===typeof d)JANRAIN.SSO.error("sso server is not defined");else{var b=document.createElement("script");b.src=d+"/engage/loginx?v="+(new Date).getTime()+"&callback="+encodeURIComponent(a.callback)+"&xdcomm_uri="+encodeURIComponent(a.xd_receiver)+"&session_id="+encodeURIComponent(a.session_id)+
"&visited="+encodeURIComponent(a.visited)+"&logout_uri="+encodeURIComponent(a.logout_uri)+"&bp_channel="+encodeURIComponent(a.bp_channel)+"&segment="+encodeURIComponent(a.segment);b.type="text/javascript";a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)}};JANRAIN.SSO.ENGAGE._loginCallback=function(a){if(!a||"fail"===a.stat)JANRAIN.SSO.error("login failed: "+a.msg);else{JANRAIN.SSO.log("callback from SSO server received");c||(c=new p(d,"/static/server.html"));var b=o(window.location.hostname).host;
JANRAIN.SSO.log("updating SSO session");b={session_id:decodeURIComponent(a.session_id),visited:decodeURIComponent(a.visited),visited_expires:a.visited_expires,host:b};c.setValue(a.segment,"set",b,function(){JANRAIN.SSO.ENGAGE.post_token(a.token)})}};JANRAIN.SSO.ENGAGE.post_token=function(a){var b=f.document.createElement("form"),c=f.document.createElement("input");c.name="token";c.id="token";c.type="hidden";c.value=a;b.appendChild(c);b.method="POST";b.action=-1!=r.search(/\?/)?r+"&token="+a:r+"?token="+
a;f.parent.document.getElementsByTagName("head")[0].appendChild(b);b.submit()};JANRAIN.SSO.logout=function(a,b){JANRAIN.SSO._deleteChecked();"undefined"!==typeof b&&"function"===typeof b&&(s=b);if("undefined"!==typeof a.sso_server){var g=o(window.location.hostname).host;if(window.localStorage&&!JANRAIN.SSO.useCookiesOnly())c||(c=new p(a.sso_server,"/static/server.html")),JANRAIN.SSO.log("removing session_id"),c.getValue(g,"getSegment",function(d,e){c.getValue(e.segment,"getAllVisited",function(d,
l){var f=[],m=[];if(l.allVisited){for(var f=t(l.allVisited),m=JANRAIN.SSO._getLogoutUrls(f,h),j=[],k=0;k<f.length;k++){var n=o(f[k].xdReceiverURI).host;if(f[k].xdReceiverURI===h||n===g){f[k].isLoggedIn=!1;j=[f[k]];break}}f=j}l.session_id="deleteMe";l.visited=JSON.stringify(f);l.session_id_expires="deleteMe";c.setValue(e.segment,"deleteSession",l,function(){JANRAIN.SSO.log("session removed");JANRAIN.SSO._doLogout(a.logout_uri,m,b)})})});else{var d=f.document.createElement("script");d.setAttribute("src",
a.sso_server+"/session/logout.js?logout_uri="+encodeURIComponent(a.logout_uri));document.getElementsByTagName("body")[0].appendChild(d)}}};JANRAIN.SSO._getLogoutUrls=function(a,b){var c=[],d;"undefined"!==typeof b&&(d=k(b));for(var e=0;e<a.length;e++)k(a[e].xdReceiverURI)!==d&&c.push(a[e].logoutURI);return c};JANRAIN.SSO._deleteChecked=function(){for(var a=f.document.cookie.split(";"),b=0;b<a.length;b++)-1<a[b].search(/janrain_sso_checked/)&&(f.document.cookie=a[b]+"=;expires="+(new Date).toGMTString()+
";path=/;",window.console&&window.console.log&&console.log("sso removed cookie "+a[b]))};JANRAIN.SSO.refresh=function(a){if("undefined"!==typeof a){var b=f.document.createElement("script");b.setAttribute("src",a+"/session/refresh.js");document.getElementsByTagName("body")[0].appendChild(b)}};JANRAIN.SSO._doLogout=function(a,b){onComplete=function(){"undefined"!==typeof s&&"function"===typeof s?(JANRAIN.SSO.log("calling logout_callback()"),s()):"undefined"!==typeof a&&(JANRAIN.SSO.log("redirecting to "+
a),f.document.location.href=a)};JANRAIN.SSO._loadUrls(b,onComplete)};JANRAIN.SSO._loadUrls=function(a,b){onComplete=function(){"undefined"!==typeof b&&"function"===typeof b&&b()};if(null!=a&&0<a.length){var c=0;onFrameLoad=function(){++c;c>=a.length&&onComplete()};for(var d,e=0;e<a.length;e++)f.document.all?(d=document.createElement("div"),d.innerHTML='<iframe onload="onFrameLoad();"></iframe>',d=d.firstChild):(d=f.document.createElement("iframe"),d.onload=onFrameLoad),d.setAttribute("src",decodeURIComponent(a[e])),
JANRAIN.SSO.log("calling "+a[e]),f.document.getElementsByTagName("head")[0].appendChild(d)}else onComplete()};o.options={strictMode:!1,key:"source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};
p.prototype={constructor:p,init:function(){var a=this;if(!this._iframe)if(window.postMessage&&window.JSON&&window.localStorage&&!JANRAIN.SSO.useCookiesOnly()){this._iframe=document.createElement("iframe");this._iframe.style.cssText="position:absolute;width:1px;height:1px;left:-9999px;";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(this._iframe,b);window.addEventListener?(this._iframe.addEventListener("load",function(){a._iframeLoaded()},!1),window.addEventListener("message",
function(b){a._handleMessage(b)},!1)):this._iframe.attachEvent&&(this._iframe.attachEvent("onload",function(){a._iframeLoaded()},!1),window.attachEvent("onmessage",function(b){a._handleMessage(b)}))}else throw Error("Unsupported browser.");this._iframe.src=this.origin+this.path},getValue:function(a,b,c){a={request:{key:a,messageId:++this._messageId,action:b},callback:c};this._iframeReady?this._sendRequest(a):this._queue.push(a);this._iframe||this.init()},setValue:function(a,b,c,d){a={request:{key:a,
messageId:++this._messageId,action:b,storedValue:c},callback:d};this._iframeReady?this._sendRequest(a):this._queue.push(a);this._iframe||this.init()},removeValue:function(a,b){var c={request:{key:a,messageId:++this._messageId,action:"remove"},callback:b};this._iframeReady?this._sendRequest(c):this._queue.push(c);this._iframe||this.init()},_sendRequest:function(a){this._requests[a.request.messageId]=a;this._iframe.contentWindow.postMessage(JSON.stringify(a.request),this.origin)},_iframeLoaded:function(){this._iframeReady=
!0;if(this._queue.length){for(var a=0,b=this._queue.length;a<b;a++)this._sendRequest(this._queue[a]);this._queue=[]}},_handleMessage:function(a){if(a.origin==this.origin){var b;try{b=JSON.parse(a.data)}catch(c){JANRAIN.SSO.warn("json object did not parse: "+array),b={}}"undefined"!==typeof b.messageId&&(this._requests[b.messageId].callback(b.key,b.storedValue),delete this._requests[b.messageId])}}}}})(this);var JSON;JSON||(JSON={});
(function(){function f(d){return 10>d?"0"+d:d}function t(d){u.lastIndex=0;return u.test(d)?'"'+d.replace(u,function(d){var f=p[d];return"string"===typeof f?f:"\\u"+("0000"+d.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+d+'"'}function v(d,f){var h,j,n,p,s=k,c,e=f[d];e&&"object"===typeof e&&"function"===typeof e.toJSON&&(e=e.toJSON(d));"function"===typeof r&&(e=r.call(f,d,e));switch(typeof e){case "string":return t(e);case "number":return isFinite(e)?""+e:"null";case "boolean":case "null":return""+
e;case "object":if(!e)return"null";k+=o;c=[];if("[object Array]"===Object.prototype.toString.apply(e)){p=e.length;for(h=0;h<p;h+=1)c[h]=v(h,e)||"null";n=0===c.length?"[]":k?"[\n"+k+c.join(",\n"+k)+"\n"+s+"]":"["+c.join(",")+"]";k=s;return n}if(r&&"object"===typeof r){p=r.length;for(h=0;h<p;h+=1)"string"===typeof r[h]&&(j=r[h],(n=v(j,e))&&c.push(t(j)+(k?": ":":")+n))}else for(j in e)Object.prototype.hasOwnProperty.call(e,j)&&(n=v(j,e))&&c.push(t(j)+(k?": ":":")+n);n=0===c.length?"{}":k?"{\n"+k+c.join(",\n"+
k)+"\n"+s+"}":"{"+c.join(",")+"}";k=s;return n}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var w=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k,o,p={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r;"function"!==typeof JSON.stringify&&(JSON.stringify=function(d,f,h){var j;o=k="";if("number"===typeof h)for(j=0;j<h;j+=1)o+=" ";else"string"===typeof h&&(o=h);if((r=f)&&"function"!==typeof f&&("object"!==typeof f||"number"!==typeof f.length))throw Error("JSON.stringify");return v("",{"":d})});
"function"!==typeof JSON.parse&&(JSON.parse=function(d,f){function h(d,j){var k,c,e=d[j];if(e&&"object"===typeof e)for(k in e)Object.prototype.hasOwnProperty.call(e,k)&&(c=h(e,k),void 0!==c?e[k]=c:delete e[k]);return f.call(d,j,e)}var j,d=""+d;w.lastIndex=0;w.test(d)&&(d=d.replace(w,function(d){return"\\u"+("0000"+d.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(d.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+d+")"),"function"===typeof f?h({"":j},""):j;throw new SyntaxError("JSON.parse");})})();
