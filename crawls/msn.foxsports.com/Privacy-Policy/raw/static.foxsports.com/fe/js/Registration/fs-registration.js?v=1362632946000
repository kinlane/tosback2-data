var errorMessage="";var fsRegNav="";function regNav(f,h,g){var e=document.getElementById("reg-navigation");var c=e.getElementsByTagName("li");h=document.getElementById(h);for(i=0;i<c.length;i++){if(c[i].className==" reg-nav-on"){c[i].className=c[i].className.replace(new RegExp(" reg-nav-on","g"),"");
}}if(g==true){regSetup(h.id,true);}if(f!=""){f.parentNode.className=f.parentNode.className+" reg-nav-on";}else{var d=h.id.split("-");var b="nav-"+d[1];b=document.getElementById(b);b.parentNode.className=b.parentNode.className+" reg-nav-on";}if(fsRegNav!=""){fsRegNav.className=fsRegNav.className.replace(new RegExp("reg-on","g"),"");
}setHash(h.id);h.className=h.className+" reg-on";fsRegNav=h;}function setRegFormValue(f,d){var d=d||{};var j=d.loc;if(f.selectedIndex){var g=d.value||f.options[f.selectedIndex].value;var h=d.display||f.options[f.selectedIndex].text;}else{var g=d.value||f.innerHTML;var h=d.display||g;}var b=d.selector||j;
var e=document.getElementById(j);if(e){e.value=g;}var c=document.getElementById(b+"-button");c.innerHTML=h;}function teamPlayerSelect(k,j){try{switch(j){case"teams":var n=document.getElementById("teams-list");var c=document.getElementById("selected-teams-list");break;case"players":var n=document.getElementById("player-list");
var c=document.getElementById("selected-player-list");break;}if(k.className=="add"||k.checked==true){var b=n.options[n.selectedIndex];var l=n.options.selectedIndex;var f=n;var m=c;}if(k.className=="remove"||k.checked==false){var b=c.options[c.selectedIndex];var l=c.options.selectedIndex;var f=c;var m=n;
}if(m){for(i=0;i<m.length;i++){if(m.options[i].value==b.value){if(k.className=="remove"){f.remove(l);}return;}}}if(f){f.remove(l);var d=document.createElement("option");d.value=b.value;d.text=b.text;try{m.add(d,null);}catch(h){m.add(d,l);}sortOptions(f);sortOptions(m);}}catch(g){alert("Please select an item to "+k.className);
}}function compareOptionText(d,c){return d.text!=c.text?d.text<c.text?-1:1:0;}function sortOptions(d){var b=d.options.length;var c=new Array(b);for(i=0;i<b;i++){c[i]=new Option(d.options[i].text,d.options[i].value);}c.sort(compareOptionText);for(i=0;i<b;i++){d.options[i]=new Option(c[i].text,c[i].value);
}}function regSetup(h,w,j){var l=document.getElementById("reg-wiz-nav-next");var p=document.getElementById("reg-wiz-nav-back");var t=document.getElementById("reg-wiz-nav-finish");var d=document.getElementById("reg-wiz-nav-save");var g=document.getElementById("verificationStatus");var k=document.getElementById("verificationNote");
if(h){if(w==true){switch(h){case"tab-account_info":l.onclick=new Function("regNav('', 'tab-settings', true);");p.style.display="none";t.style.display="block";l.style.display="block";break;case"tab-settings":p.onclick=new Function("regNav('', 'tab-account_info', true);");l.onclick=new Function("regNav('', 'tab-newsletters', true);");
p.style.display="block";l.style.display="block";t.style.display="block";break;case"tab-newsletters":p.onclick=new Function("regNav('', 'tab-settings', true);");l.onclick=new Function("regNav('', 'tab-link_accounts', true);");p.style.display="block";l.style.display="block";t.style.display="block";break;
case"tab-link_accounts":p.onclick=new Function("regNav('', 'tab-newsletters', true);");p.style.display="block";l.style.display="none";break;}var m=document.getElementById("reg-navigation");var c=m.getElementsByTagName("A");for(i=0;i<c.length;i++){c[i].onclick="";}}else{d.style.display="block";}if(j==true){regNav("",h);
var f=document.forms["my-account-form"];var u=f.getElementsByTagName("select");if(fsGetUserData("verified")==true){g.className="verified";g.innerHTML="&loz; Verified*";k.innerHTML="";}else{g.className="not-verified";g.innerHTML="&oslash; Not Verified*  - <a href='javascript:void(0);' class='link-blue' onclick='fsAlertPopUp(this, {width:800, height:250, resizable: \"yes\", scrollbars: \"yes\", params: \"divId=communitySetupEmail\"});'>resend verification</a>";
}for(i=0;i<u.length;i++){var n=u[i].selectedIndex;if(n>0){var b=u[i].id.split("-");b=document.getElementById(b[0]+"-button");if(b){b.innerHTML=u[i].options[n].text;}}}try{if(userTeams!=null){var s=document.getElementById("selected-teams-list");for(i=0;i<userTeams.length;i++){tnewOption=document.createElement("option");
tnewOption.value=userTeams[i][1];tnewOption.text=userTeams[i][0];try{s.add(tnewOption,i);}catch(q){s.appendChild(tnewOption);}}}if(userPlayers!=null){var v=document.getElementById("selected-player-list");for(i=0;i<userPlayers.length;i++){pnewOption=document.createElement("option");pnewOption.value=userPlayers[i][1];
pnewOption.text=userPlayers[i][0];try{v.add(pnewOption,i);}catch(q){v.appendChild(pnewOption);}}}}catch(r){}}}}function setHash(b){document.location.hash="tab="+b;fsUrl_Parse();}function setFavorites(h,g){try{var b=document.getElementById(g);var c=document.forms["my-account-form"];if(h==="checkboxes"){b.value="";
for(i=0;i<c.length;i++){if(c[i].checked===true||c[i].checked==="checked"){if(b.value){b.value+=","+c[i].value;window.console.log("Showing - DBList.value = "+b.value);}else{b.value=c[i].value;window.console.log("Showing - accountForm[i].value = "+c[i].value);}}}}else{var f=document.getElementById(h);for(i=0;
i<f.options.length;i++){if(b.value){b.value+=","+f.options[i].value;}else{b.value=f.options[i].value;}}}}catch(d){}}function submitMe(){var c=document.forms["my-account-form"];var b=document.getElementById("error-message");setFavorites("selected-teams-list","favoriteTeams");setFavorites("selected-player-list","favoritePlayers");
setFavorites("checkboxes","subscriptions");fsTextFieldValidation("my-account-form");if(errorMessage==""){if(c.elements["tab"]){c.elements["tab"].value=FsUtils.getUrl("tab");}c.submit();}else{b.innerHTML="";newErrorMessageDiv=document.createElement("div");newErrorMessageDiv.setAttribute("id","reg-error");
errorMessage+="<br class='clearMe' />";newErrorMessageDiv.innerHTML=errorMessage;b.appendChild(newErrorMessageDiv);errorMessage="";return;}}function setFocus(c){var b=document.getElementById(c);b.focus();}function unique(c){var e=new Array();o:for(var d=0,g=c.length;d<g;d++){for(var b=0,f=e.length;b<f;
b++){if(e[b]==c[d]){continue o;}}e[e.length]=c[d];}return e;}var xmlhttp;var response;function fsShowList(me,options){var options=options||{};var league=options.league;var tag=options.tag||"option";var button=options.button||"";var type=options.type||"";var categoryId=options.categoryId||"";var loc=options.loc||"";
loc=document.getElementById(loc);switch(type){case"teams":var url="/account/teams?leagueCategoryId="+categoryId;document.getElementById("fav-team-button").innerHTML="select team";document.getElementById("player-list").innerHTML="";var typeSelect=document.getElementById("selected-teams-list");break;case"teams-soccer":var url="/account/soccerTeams?leagueCategoryId="+categoryId;
var typeSelect=document.getElementById("selected-teams-list");break;case"teams-player":var url="/account/teams?leagueCategoryId="+categoryId;document.getElementById("fav-team-button").innerHTML="select team";document.getElementById("player-list").innerHTML="";break;case"players":var url="/account/players?teamCategoryId="+categoryId;
var typeSelect=document.getElementById("selected-player-list");break;}if(window.XMLHttpRequest){xmlhttp=new XMLHttpRequest();}else{if(window.ActiveXObject){xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");}}if(xmlhttp!=null){xmlhttp.open("GET",url,true);xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4){if(xmlhttp.status==200){response=eval(xmlhttp.responseText);
if(typeSelect){response.sort(compareOptionText);response=response.join("|");for(a=0;a<typeSelect.options.length;a++){if(type=="teams"){var TextCheck=typeSelect.options[a].text.replace(" ("+me.innerHTML.toLowerCase()+")","");var Cleaner=TextCheck+","+typeSelect.options[a].value+"|";}else{var TextCheck=typeSelect.options[a].text;
}var Cleaner=TextCheck+","+typeSelect.options[a].value+"|";response=response.replace(Cleaner,"");}response=response.split("|");}if(loc){loc.innerHTML="";}setRegFormValue(me,{loc:button,value:league});for(i=0;i<response.length;i++){if(typeSelect){if(response[i]){response[i]=response[i].split(",");}}switch(tag){case"option":newOption=document.createElement(tag);
newOption.value=response[i][1];newOption.text=response[i][0];break;case"li":newOption=document.createElement(tag);newOption.innerHTML=response[i][0];break;case"li-a":newOption=document.createElement("li");newOptionAnchor=document.createElement("a");newOptionAnchor.innerHTML=response[i][0];newOptionAnchor.title=response[i][0];
newOptionAnchor.href="javascript:void(0);";var newValue=response[i][1];newOptionAnchor.onclick=function(newValue){return function(){fsShowList(this,{loc:"player-list",button:"fav-team",type:"players",categoryId:newValue});};}(newValue);newOption.appendChild(newOptionAnchor);break;}if(loc){try{loc.add(newOption,i);
}catch(ex){loc.appendChild(newOption);}}}}}};xmlhttp.send(null);}else{alert("Your browser does not support XMLHTTP.");}}function fsTextFieldValidation(m,d,h){try{var c=/^[A-Za-z0-9]+$/;var g=/^[A-Za-z0-9,\-\'\.' ']+$/;var b=/^[A-Za-z0-9_\-\.]+$/;var f=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;
var k=/^[A-Za-z0-9' ']+$/;for(var j=0;j<document.getElementById(m).elements.length;j++){var n=document.getElementById(m).elements[j];var d;var h;switch(n.title){case"First Name":d=1;h=20;if(n.value==n.title||n.value.length<d||n.value.length>h||g.test(n.value)==false){errorMessage+="<p>"+n.title+" is invalid.</p>";
}break;case"Last Name":d=1;h=25;if(n.value==n.title||n.value.length<d||n.value.length>h||g.test(n.value)==false){errorMessage+="<p>"+n.title+" is invalid.</p>";}break;case"Email":d=1;h=127;if(n.value.length<d||n.value.length>h||f.test(n.value)==false){errorMessage+="<p>Email is invalid.</p>";}if(document.getElementById("email2")){if(n.value!=document.getElementById("email2").value){errorMessage+="<p>Emails do not match.</p>";
}}break;case"Screen Name":d=1;h=25;if(n.value!=""){if(n.value.length<d||n.value.length>h){errorMessage+="<p>"+n.title+" must be between 1-25 characters. Please try again.</p>";}else{if(b.test(n.value)==false){errorMessage+="<p>"+n.title+" contains invalid characters. Please try again.</p>";}}}break;case"Password":d=5;
h=25;if(n.value.length<d||n.value.length>h||c.test(n.value)==false){errorMessage+="<p>"+n.title+" is invalid.</p>";}break;case"ZIP/Postal Code":d=5;h=10;if(document.getElementById("country-dropdown").value==226||document.getElementById("country-dropdown").value==36){if(n.value!=""){if(n.value==n.title||n.value.length<d||n.value.length>h||k.test(n.value)==false){errorMessage+="<p>"+n.title+" is invalid.</p>";
}}}break;}if(n.value==n.title){n.value="";}}return true;}catch(l){}}function fsScreenNameValidation(g,f){var e;var d=document.forms[g].elements[f].value;var c="/account/availability?user.screenName="+d;var b;d=d.replace(new RegExp(" ","g"),"");if(d!=""&&d.length<=25){if(window.XMLHttpRequest){e=new XMLHttpRequest();
}else{if(window.ActiveXObject){e=new ActiveXObject("Microsoft.XMLHTTP");}}if(e!=null){e.open("GET",c,true);e.onreadystatechange=function(){if(e.readyState===4){if(e.status===200){b=e.responseText;if(b=="true"){document.getElementById("screen-name-verified-status").innerHTML='<span class="verified">&loz; Available*</span>';
}else{document.getElementById("screen-name-verified-status").innerHTML='<span class="not-verified">&oslash; Not Available*</span>';}}}};e.send(null);return true;}else{alert("Your browser does not support XMLHTTP.");return false;}}else{document.getElementById("screen-name-verified-status").innerHTML='<span class="not-verified">&oslash; Not Available*</span>';
}return true;}if(FsUtils.getUrl("password")=="true"){fsAlertPopUp("",{frame:true,params:"divId=createPassword",width:450});}function countrySelect(f,b){var b=b||{};var e=b.zipCodeDiv||"";var d=b.stateDiv||"";var g=document.getElementById(f);var c=g.options[g.selectedIndex].value;if(c==0||c==226){if(d!=""&&document.getElementById(d)){document.getElementById(d).style.display="block";
}if(e!=""&&document.getElementById(e)){document.getElementById(e).style.display="block";}}else{if(c==36){if(d!=""&&document.getElementById(d)){document.getElementById(d).style.display="none";}if(e!=""&&document.getElementById(e)){document.getElementById(e).style.display="block";}}else{if(d!=""&&document.getElementById(d)){document.getElementById(d).style.display="none";
}if(e!=""&&document.getElementById(e)){document.getElementById(e).style.display="none";}}}}function setDefaultFormValues(d){for(var c=0;c<document.getElementById(d).elements.length;c++){var e=document.getElementById(d).elements[c];if(e.value==""&&e.name!="user.fscomPassword"&&e.name!="user.screenName"){e.value=e.title;
}else{if(e.name=="user.countryCode"){countrySelect(e.id,{stateDiv:"stateDiv",zipCodeDiv:"zipCodeDiv"});var b=e.selectedIndex;if(b>0){return;}else{for(var f=0;f<e.length;f++){if(e.options[f].value==226){e.options[f].selected=true;}}}}}}}function clearDefaultFormValues(b){if(b.value==b.title){b.value="";
}b.className="typing";}