



(function(){
var DATA={"public_suffixes":{"consumerreports.org":["ec.consumerreports.org","web.consumerreports.org","www.consumerreports.org","consumerreports.org"]},"log_host":"log3","api_host":"api","variations":{"118041734":{"code":"$(\"#header\").replaceWith(\"<div id=\\\"header\\\">Test Header 1</div>\");\n$(\".red-arrows\").replaceWith(\"<p>Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.</p>\");\n$(\"#header\").replaceWith(\"<div id=\\\"header\\\">Hello World</div>\");\n$(\"#copy > p\").replaceWith(\"<p><br />Tommy Frabizzio</p>\");","name":"Variation #1"},"100972439":{"code":"$(\".hideImageOnPrint > img\").attr({\"src\":\"//cdn.optimizely.com/img/62715456/9de939a4429643308f6a9c6655612401.jpg\"});","name":"Variation #3"},"73725726":{"code":"$(\"div.bug > h1:eq(0)\").replaceWith(\"<h1>&nbsp;Vacuum Cleaner Reviews from Consumer Reports</h1>\");\n$(\"div.bug > h1:eq(0)\").replaceWith(\"<h1>&nbsp;Vacuum Cleaner Reviews</h1>\");","name":"Variation #1"},"100942496":{"name":"Original Page"},"76272040":{"name":"Original Page"},"116686635":{"code":"$(\"body\").append(\"<div id=\\\"facebox\\\">  <div>    <h2>Lightbox Demo</h2>    <p>      This dialog is opened programmatically when the page      loads. There is no need for a trigger element.    </p>       <p style=\\\"color:#666\\\">      To close, click the Close button or hit the ESC key.    </p>    <!-- yes/no buttons -->    <p>      <button class=\\\"close\\\"> Close </button>    </p>  </div></div>\");\n\n$(function(){var fileRef1 = document.createElement('script'); fileRef1.setAttribute(\"type\",\"text/javascript\"); fileRef1.setAttribute(\"src\",\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js\"); document.body.appendChild(fileRef1);});\n\n$(function(){var fileRef2 = document.createElement('script'); fileRef2.setAttribute(\"type\",\"text/javascript\"); fileRef2.setAttribute(\"src\", \"http://cdn.jquerytools.org/1.2.6/all/jquery.tools.min.js\"); document.body.appendChild(fileRef2);});\n \nvar testOverlay = setInterval(function(){\n  //console.log('Run Interval');\n  if(typeof window.jQuery(\"#facebox\").overlay == 'function'){\n  window.jQuery(\"#facebox\").overlay({\n\n  // custom top position\n  top: 260,\n\n  // some mask tweaks suitable for facebox-looking dialogs\n  mask: {\n\n  // you might also consider a \"transparent\" color for the mask\n  color: '#fff',\n\n  // load mask a little faster\n  loadSpeed: 200,\n\n  // very transparent\n  opacity: 0.5\n  },\n\n  // disable this for modal dialog-type of overlays\n  closeOnClick: false,\n\n  // load it immediately after the construction\n  load: true\n  });\n\n  clearInterval(testOverlay);\n    }}, 50);","name":"Variation #1"},"117320499":{"name":"Original Page"},"118092600":{"name":"Original Page"},"100996425":{"code":"$(\".hideImageOnPrint > img\").attr({\"src\":\"//cdn.optimizely.com/img/62715456/9351f9fd88d2477ea03976a979579082.jpg\"});","name":"Variation #2"},"73604555":{"name":"Original Page"},"78400210":{"name":"Variation #1"},"113380188":{"name":"Original Page"},"113340381":{"code":"/* _optimizely_redirect=https://ec.consumerreports.org/ec/cr/order.htm?pkey=crMagTwentyNineWRetireandiPadpromo&INTKEY=IW27CDIP1 */\nwindow.location.replace('https://ec.consumerreports.org/ec/cr/order.htm?pkey=crMagTwentyNineWRetireandiPadpromo&INTKEY=IW27CDIP1');","name":"Variation #1"},"82849250":{"name":"Variation #1"},"78394467":{"name":"Original Page"},"83552873":{"name":"Original Page"},"82686826":{"name":"Original Page"},"101031208":{"code":"$(\".hideImageOnPrint > img\").attr({\"src\":\"//cdn.optimizely.com/img/62715456/0a2267d54cc8488091cfcfa51a407ba0.jpg\"});\n$(\".hideImageOnPrint > img\").attr({\"src\":\"//cdn.optimizely.com/img/62715456/b04a3dbcd241441185696f2e50c4dcce.jpg\"});\n$(\".hideImageOnPrint > img\").attr({\"src\":\"//cdn.optimizely.com/img/62715456/75992dd735e94e2ca120056c027d69a2.jpg\"});\n$(\".hideImageOnPrint > img\").attr({\"src\":\"//cdn.optimizely.com/img/62715456/8d9bb91dc1b64afea2056d3305fc4876.jpg\"});","name":"Variation #1"},"76274047":{"code":"$(\"body\").append(\"<div id=\\\"facebox\\\">  <div>    <h2>Lightbox Demo</h2>    <p>      This dialog is opened programmatically when the page      loads. There is no need for a trigger element.    </p>       <p style=\\\"color:#666\\\">      To close, click the Close button or hit the ESC key.    </p>    <!-- yes/no buttons -->    <p>      <button class=\\\"close\\\"> Subscribe for the special price of $xx</button>    </p>  </div></div>\");\n\n$(function(){var fileRef1 = document.createElement('script'); fileRef1.setAttribute(\"type\",\"text/javascript\"); fileRef1.setAttribute(\"src\",\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js\"); document.body.appendChild(fileRef1);});\n\n$(function(){var fileRef2 = document.createElement('script'); fileRef2.setAttribute(\"type\",\"text/javascript\"); fileRef2.setAttribute(\"src\", \"http://cdn.jquerytools.org/1.2.6/all/jquery.tools.min.js\"); document.body.appendChild(fileRef2);});\n \nvar testOverlay = setInterval(function(){\n  //console.log('Run Interval');\n  if(typeof window.jQuery(\"#facebox\").overlay == 'function'){\n  window.jQuery(\"#facebox\").overlay({\n\n  // custom top position\n  top: 2,\n\n  // some mask tweaks suitable for facebox-looking dialogs\n  mask: {\n\n  // you might also consider a \"transparent\" color for the mask\n  color: '#fff',\n\n  // load mask a little faster\n  loadSpeed: 20,\n\n  // very transparent\n  opacity: 0.5\n  },\n\n  // disable this for modal dialog-type of overlays\n  closeOnClick: false,\n\n  // load it immediately after the construction\n  load: true\n  });\n\n  clearInterval(testOverlay);\n    }}, 50);","name":"Variation #1"},"116816503":{"name":"Original Page"},"83789051":{"name":"Variation #1"},"117322495":{"code":"$(\".pw_right > img\").attr({\"src\":\"//cdn.optimizely.com/img/62715456/0e6683dc3ff34631961ddf5073e4f925.jpg\"});\n$(\"h1\").replaceWith(\"<h1>&nbsp;Find out which are the best and worst rated camcorders</h1>\");\n$(\"h1\").replaceWith(\"<h1></h1>\");\n$(\"h1\").replaceWith(\"<h1>test</h1>\");\n$(\"h1\").replaceWith(\"<h1></h1>\");\n$(\".subscribe_link\").replaceWith(\"<span class=\\\"subscribe_link\\\">Subscribe Now for $190 \u203a</span>\");\n$(\".subscribe_link\").replaceWith(\"<span class=\\\"subscribe_link\\\">Subscribe Now&nbsp;</span>\");\n$(\"h1\").css({\"background-image\":\"url(//cdn.optimizely.com/img/62715456/8ae2a11893e3470db7c8123f96a95b11.jpg)\"});\n$(\".subscribe_link\").css({\"background-image\":\"url(//cdn.optimizely.com/img/62715456/c948825444ba46179b6e5083b0433fef.jpg)\"});\n$(\"#pw_info_column_l > h2\").css({\"background-image\":\"url(//cdn.optimizely.com/img/62715456/fa604ed833724ca3b09a400aae57338d.jpg)\"});","name":"Variation #1"}},"experiments":{"82074850":{"name":"CRO Homepage","variation_ids":["82686826","82849250"],"conditions":[{"type":"url","values":[{"value":"http://www.consumerreports.org/cro/index.htm","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"118158173":{"name":"Ecommerce Test","variation_ids":["118092600","118041734"],"conditions":[{"type":"url","values":[{"value":"https://ec.consumerreports.org/ec/cro/order.htm","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"101028200":{"name":"CRO Build-Buy Button (08-28-12)","variation_ids":["100942496","101031208","100996425","100972439"],"conditions":[{"type":"url","values":[{"value":"http://www.consumerreports.org/cro/","match":"substring"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"73859119":{"name":"CRO Production Vacuum Cleaner SEO Page Test (Alpha)","variation_ids":["73604555","73725726"],"conditions":[{"type":"url","values":[{"value":"http://www.consumerreports.org/cro/vacuum-cleaner-reviews.htm","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"83696600":{"name":"SEM Branded (Test)","variation_ids":["83552873","83789051"],"conditions":[{"type":"url","values":[{"value":"http://web.consumerreports.org/test/SEM/version5.htm","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"113310584":{"name":"CR Mag iPad Test","variation_ids":["113380188","113340381"],"conditions":[{"type":"location","values":["US"]},{"not":true,"type":"query","values":[{"value":"IW27CDIP1","key":"INTKEY"}]},{"type":"url","values":[{"value":"https://ec.consumerreports.org/ec/cr/order.htm","match":"substring"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"117418037":{"name":"Digital Camcorder Paywall","enabled":true,"variation_ids":["117320499","117322495"],"enabled_variation_ids":["117322495"],"variation_weights":{"117322495":10000},"conditions":[{"type":"code","value":"$optimizelyVar == \"franchisePaywall\""},{"type":"query","values":[{"value":"123456","key":"test"}]},{"type":"url","values":[{"value":"http://consumerreports.org/cro/electronics-computers/audio-video/camcorders/","match":"substring"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"78362424":{"name":"Consumer Home Page","variation_ids":["78394467","78400210"],"conditions":[{"type":"url","values":[{"value":"http://www.consumerreports.org/cro/index.htm","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"76225628":{"name":"Simple Light Box Demo","variation_ids":["76272040","76274047"],"conditions":[{"type":"url","values":[{"value":"http://www.consumerreports.org/cro/vacuum-cleaner-reviews.htm","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}],"css":"#facebox {\n \n    /* overlay is hidden before loading */\n    display:none;\n \n    /* standard decorations */\n    width:400px;\n    border:10px solid #666;\n \n    /* for modern browsers use semi-transparent color on the border. nice! */\n    border:10px solid rgba(82, 82, 82, 0.698);\n \n    /* hot CSS3 features for mozilla and webkit-based browsers (rounded borders) */\n    -moz-border-radius:8px;\n    -webkit-border-radius:8px;\n  }\n \n  #facebox div {\n    padding:10px;\n    border:1px solid #3B5998;\n    background-color:#fff;\n    font-family:\"lucida grande\",tahoma,verdana,arial,sans-serif\n  }\n \n  #facebox h2 {\n    margin:-11px;\n    margin-bottom:0px;\n    color:#fff;\n    background-color:#6D84B4;\n    padding:5px 10px;\n    border:1px solid #3B5998;\n    font-size:20px;\n  }"},"116677693":{"name":"Simple Light Box Demo (1)","variation_ids":["116816503","116686635"],"conditions":[{"type":"url","values":[{"value":"http://www.consumerreports.org/cro/vacuum-cleaner-reviews.htm","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}],"css":"#facebox {\n \n    /* overlay is hidden before loading */\n    display:none;\n \n    /* standard decorations */\n    width:400px;\n    border:10px solid #666;\n \n    /* for modern browsers use semi-transparent color on the border. nice! */\n    border:10px solid rgba(82, 82, 82, 0.698);\n \n    /* hot CSS3 features for mozilla and webkit-based browsers (rounded borders) */\n    -moz-border-radius:8px;\n    -webkit-border-radius:8px;\n  }\n \n  #facebox div {\n    padding:10px;\n    border:1px solid #3B5998;\n    background-color:#fff;\n    font-family:\"lucida grande\",tahoma,verdana,arial,sans-serif\n  }\n \n  #facebox h2 {\n    margin:-11px;\n    margin-bottom:0px;\n    color:#fff;\n    background-color:#6D84B4;\n    padding:5px 10px;\n    border:1px solid #3B5998;\n    font-size:20px;\n  }"}},"click_goals":[{"event_name":"custom_event","experiments":[78362424],"selector":"a"},{"event_name":"bb_button_click","experiments":[101028200],"selector":".hideImageOnPrint > img"}],"admin_account_id":62715456,"project_id":69071259,"revision":101};

//
var GEOTARGETING = {
  'city': "SANFRANCISCO",
  'continent': "NA",
  'country': "US",
  'region': "CA"
};


var optly={nativity:{}};optly.nativity.getNativeGetElementsByClassName=function(){var a=document.getElementsByClassName;if(!optly.nativity.isNativeFunction(a))var a=(window.optimizely||{}).getElementsByClassName,b=(window.optly||{}).getElementsByClassName,a=optly.nativity.isNativeFunction(a)?a:optly.nativity.isNativeFunction(b)?b:null;return a};optly.nativity.isNativeFunction=function(a){return a&&-1!==String(a).indexOf("[native code]")};optly.Cleanse={};optly.Cleanse.each=function(a,b,c){var f=!!Object.prototype.__lookupGetter__,d;for(d in a)if(a.hasOwnProperty(d)){var g=f?a.__lookupGetter__(d):null;try{b.call(c,d,!g?a[d]:null,g)}catch(e){}}};
optly.Cleanse.finish=function(){if(optly.Cleanse.running){optly.Cleanse.running=!1;optly.Cleanse.each(optly.Cleanse.types,function(a,b){Object.prototype.__defineGetter__&&optly.Cleanse.each(optly.Cleanse.getters[a],function(c,e){b.prototype.__defineGetter__(c,e);optly.Cleanse.log("restored getter",a,c)});optly.Cleanse.each(optly.Cleanse.properties[a],function(c,e){b.prototype[c]=e;optly.Cleanse.log("restored property",a,c)})});optly.Cleanse.unfixGetElementsByClassName();optly.Cleanse.log("finish");
var a=window.console;if((-1!==window.location.hash.indexOf("optimizely_log=true")||-1!==window.location.search.indexOf("optimizely_log=true"))&&a&&a.log)for(var b=optly.Cleanse.logs,c=0;c<b.length;c++)a.log(b[c])}};optly.Cleanse.log=function(a,b,c){b?(b=b.replace(/_/g,""),optly.Cleanse.logs.push("Optimizely / Info / Cleanse / "+a+": "+b+"."+c)):optly.Cleanse.logs.push("Optimizely / Info / Cleanse / "+a)};
optly.Cleanse.start=function(){var a=window.location.hostname;if(!(-1!==a.indexOf("optimizely")&&-1===a.indexOf("edit")&&-1===a.indexOf("preview"))){optly.Cleanse.log("start");optly.Cleanse.running=!0;for(var b in optly.Cleanse.types)optly.Cleanse.types[b]||delete optly.Cleanse.types[b];optly.Cleanse.each(optly.Cleanse.types,function(a,b){optly.Cleanse.getters[a]={};optly.Cleanse.properties[a]={};optly.Cleanse.each(b.prototype,function(d,g,e){e?(optly.Cleanse.getters[a][d]=e,optly.Cleanse.log("cleansed getter",
a,d)):(optly.Cleanse.properties[a][d]=g,optly.Cleanse.log("cleansed property",a,d));delete b.prototype[d]})});optly.Cleanse.fixGetElementsByClassName()}};optly.Cleanse.fixGetElementsByClassName=function(){if(!optly.nativity.isNativeFunction(document.getElementsByClassName)){var a=optly.nativity.getNativeGetElementsByClassName();a?(optly.Cleanse.getElementsByClassName=document.getElementsByClassName,document.getElementsByClassName=a):optly.Cleanse.log("Error: native HTMLElement.prototype.getElementsByClassName missing")}};
optly.Cleanse.unfixGetElementsByClassName=function(){optly.Cleanse.getElementsByClassName&&(document.getElementsByClassName=optly.Cleanse.getElementsByClassName,optly.Cleanse.getElementsByClassName=null)};optly.Cleanse.getElementsByClassName=null;optly.Cleanse.getters={};optly.Cleanse.logs=[];optly.Cleanse.properties={};optly.Cleanse.types={HTMLElement_:window.HTMLElement,Object_:Object};window.optly=window.optly||{};
window.optly.Cleanse=window.optly.Cleanse||{finish:optly.Cleanse.finish,logs:optly.Cleanse.logs,start:optly.Cleanse.start};optly.Cleanse.start();optly.domain={};optly.domain.check=function(a){for(var b=0,c=optly.domain.BLACK_LIST.length;b<c;b++){var f=optly.domain.BLACK_LIST[b];if(f.test(a))return!1}b=0;for(c=optly.domain.WHITE_LIST.length;b<c;b++)if(f=optly.domain.WHITE_LIST[b],f.test(a))return!0;return!1};optly.domain.BLACK_LIST=[/(edit|preview)(-local)?\.optimizely\.com/,/optimizelyedit\.appspot\.com/];optly.domain.WHITE_LIST=[/^(https:)?\/\/www\.local\//,/^(https:)?\/\/([A-Za-z0-9\-]+\.)?optimizely\.com\//,/^(https:)?\/\/([A-Za-z0-9\-]+\.)?optimizely(-hrd)?\.appspot\.com\//];
var $=jQuery;
var h=void 0,i=!0,k=null,l=!1,aa=window.OPTIMIZELY_TEST_MODULE,ba="com local net org xxx edu es gov biz info fr nl ca de kr it me ly tv mx cn jp il in iq".split(" "),ca=/\/\* _optimizely_variation_url( +include="([^"]*)")?( +exclude="([^"]*)")?( +match_type="([^"]*)")?( +include_match_types="([^"]*)")?( +exclude_match_types="([^"]*)")? +\*\//;function da(a){a=a||{};if(n){a&&a.sVariable&&(ea=a.sVariable);var b=ea||("undefined"!==typeof window.s?window.s:k);if(b)if(fa){if((a=ga)&&b)try{o("Integrator","Fixing SiteCatalyst referrer to %s",a),b.referrer=String(a)}catch(c){o("Integrator","Error setting SiteCatalyst referrer: %s",c)}o("Integrator","Tracking with SiteCatalyst");p(ha(),function(a){var c=q(a),a=r(c,a,100,100,25,i),f=a.key+": "+a.value,a=[],g=u(c,"site_catalyst_evar")||k,c=u(c,"site_catalyst_prop")||k;g!==k&&a.push("eVar"+g);c!==
k&&a.push("prop"+c);p(a,function(a){o("Integrator","Setting SiteCatalyst %s='%s'",a,f);b[a]=f})})}else ia=i;else w("Integrator","Error with SiteCatalyst integration: 's' variable not defined")}}function ja(a,b){return a.replace(/[^a-zA-Z0-9\.\~\!\*\(\)\']+/g,"_").substring(0,b)}
function r(a,b,c,d,e,f){a=ka+(u(a,"name")||"");b=la(b);1<b.length?(b=$.map(b,function(a){return a.substr(0,e-1)}),b=b.join("~")):b=b[0];f?(a=ja(a,c),b=ja(b.replace("#",""),d)):(a=a.substring(0,c),b=b.substring(0,d));return{key:a,value:b}}
function ma(){if(n){var a=x("optimizelyReferrer");a&&0<a.length&&(ga=a,y("optimizelyReferrer",""));if(a=ga)try{o("Integrator","Fixing _gaq._setReferrerOverride with %s",a),_gaq.push(["_setReferrerOverride",a])}catch(b){o("Integrator","Error setting Google Analytics referrer: %s",b)}p(ha(),function(a){var b=q(a);if(u(b,"crazyegg")){var e=r(b,a,100,100,15,l);try{o("Integrator","Defining CE_SNAPSHOT_NAME");window.CE_SNAPSHOT_NAME=e.key+": "+e.value}catch(f){w("Integrator","Error sending CrazyEgg data for "+
z(b))}}if(na(b)){var e=na(b),g=0;B(e)&&(g=e.slot||g);var e=g,g=na(b),j="";B(g)&&(j=g.tracker||j);g=j;j=r(b,a,28,24,5,i);try{var m="";g!==""&&(m=g+".");o("Integrator","Calling _gaq._setCustomVar for slot %d",e);_gaq.push([m+"_setCustomVar",e,j.key,j.value,2])}catch(v){w("Integrator","Error sending Google Analytics data for "+z(b))}}if(C("kissmetrics")){e=r(b,a,100,100,15,i);g={};g[e.key]=e.value;try{o("Integrator","Calling _kmq.set");_kmq.push(["set",g])}catch(L){w("Integrator","Error sending KISSmetrics data for "+
z(b))}}if(u(b,"mixpanel")){a=r(b,a,100,100,15,l);e={};e[a.key]=a.value;try{o("Integrator","Calling mixpanel.push");mixpanel.push(["register",e])}catch(D){w("Integrator","Error sending Mixpanel data for "+z(b))}}});fa=i;ia&&(da(),ia=l)}}
function ha(){var a=oa.concat(E),b=[];p(pa(),function(c){var d=q(c),e=l;if(qa(d)){var f=ra(c);F(a,d)&&(o("Integrator",'"%s" relevant because experiment active',f),e=i);sa(ta(c))&&(o("Integrator",'"%s" relevant because it redirects',f),e=i);e&&b.push(c)}});return b}var ia=l,fa=l,ka="Optimizely ",ea=k,ga=k;function ua(a,b,c){va=i;G&&c!==i&&H.f(document.location.href);a=String(a);b=String(b);if("-1"===b){J[a]&&delete J[a];wa[a]&&delete wa[a];for(b=0;b<K.length;b++)K[b].j===a&&K.splice(b,1);xa()}else if((c=M(a))&&0<c.length){a:{for(var c=M(a),d=0;d<c.length;d++){var e=ya(c[d]);if(F(e,b)){c=c[d];break a}}c=""}za[a]=za[a]||{};za[a][c]=b;w("Distributor","Preferring variation partial "+b+" of section "+c+" of experiment "+a);a=Ca(a);1===a.length&&Da(a[0],"api.bucketUser",l,i)}else Da(b,"api.bucketUser",l,
i);Ea()}function Fa(a){a&&"tracking"===a||(G=l);n=l}
function Ga(){Ha={};N={};Ia={};p(pa(),function(a){var b=q(a);Ha[b]=a.split("_");var c=N,d;a:{var m=q(a);d=M(m);if(0===d.length){d=Ja(m);for(m=0;m<d.length;m++)if(d[m]===a){d=m;break a}}else{for(var m=a.split("_"),v=[],L=0;L<d.length;L++)for(var D=ya(d[L]),A=0;A<D.length;A++)D[A]===m[L]&&v.push(A);if(v!==[]){d=v;break a}}d=-1}c[b]=d;Ia[b]=ra(a)});var a=Ka();O={experiments:{},sections:{},state:{},variations:{},visitor:{}};for(var b=0;b<a.length;b++){var c=a[b],d={};d.code=u(c,"code")||"";d.name=u(c,
"name")||"";d.manual=u(c,"manual")||l;d.section_ids=M(c);d.variation_ids=Ja(c);O.experiments[c]=d}a=La(C("sections")||{});for(b=0;b<a.length;b++)c=a[b],d={},d.name=C("sections",c,"name")||"",d.variation_ids=ya(c),O.sections[c]=d;a=La(C("variations")||{});for(b=0;b<a.length;b++)c=a[b],d={},d.name=ra(c),d.code=ta(c),O.variations[c]=d;a={};b=Ma();a.browser={ff:"Firefox",ie:"Internet Explorer",safari:"Safari",gc:"Google Chrome",opera:"Opera"}[b]||"";b=Na();a.location={city:b.city,state:b.region,country:b.country};
a.params={};c=Oa();c.reverse();b=0;for(d=c.length;b<d;b++)a.params[c[b][0]]=decodeURIComponent(c[b][1]);a.referrer=String(document.referrer);a.mobile="unknown"!==Pa();b=navigator.appVersion||"";c="";-1!==b.indexOf("Win")&&(c="Windows");-1!==b.indexOf("Mac")&&(c="Mac");-1!==b.indexOf("Linux")&&(c="Linux");a.os=c;O.visitor=a;b={};b.activeExperiments=oa||[];b.variationIdsMap=Ha;b.variationMap=N;b.variationNamesMap=Ia;O.state=b;Qa(window.optimizely,{activeExperiments:oa,allExperiments:Ra(),all_experiments:Ra(),
data:O,variationIdsMap:Ha,variationMap:N,variationNamesMap:Ia,variation_map:N})}var O={},Ha={},N={},Ia={};function Sa(a,b){var b=b===i,c,d=k;p(K,function(b){a==b.j&&(d=b.id)});if((c=d)&&0<c.length)return w("Distributor","Not distributing experiment "+a+" (already in plan)"),i;if(b||a in J)return w("Distributor","Not distributing experiment "+a+" (is ignored)"),l;c=u(a,"enabled_variation_ids")||[];if(0===c.length)return w("Distributor","Permanently ignoring experiment "+a+" (no enabled variations)"),Ta(a),l;var e=u(a,"ignore")||0;if(e>Math.floor(100*Math.random()))return w("Distributor","Permanently ignoring experiment "+
a+"("+e+"% likelihood)"),Ta(a),l;e=c;za[a]!==h&&(w("Distributor","Taking into account bucketUser variations for experiment "+a),e=Ca(a));var f;f=e;var g=[],j=u(a,"variation_weights")||{};p(f,function(a){g.push(j[a])});f=Ua(g);e=e[f];w("Distributor","Picked variation "+e+" [index "+f+" of "+c.length+"]");Da(e,"distributor",l);return i}function Ca(a){var b=[];p(u(a,"enabled_variation_ids")||[],function(c){var d=i,e;for(e in za[a])-1===c.indexOf(za[a][e])&&(d=l);d&&b.push(c)});return b}var za={};function Oa(){var a=window.location.search||"";0===a.indexOf("?")&&(a=a.substring(1));for(var a=a.split("&"),b=[],c=0;c<a.length;c++){var d="",e="",f=a[c].split("=");0<f.length&&(d=f[0]);1<f.length&&(e=f[1]);b.push([d,e])}return b};function Va(a){return a&&-1!==String(a).indexOf("[native code]")};function sa(a){return-1!==a.indexOf("_optimizely_redirect")}function Wa(a){return-1!==a.indexOf("_optimizely_redirect_no_cookie")}function Xa(a){if(Wa(a||""))return i;a=x("optimizelyRedirect");return a===h||a===k||""===a};function Ya(){var a=navigator.userAgent,b=Za([{id:"gc",substring:"Chrome",g:"Chrome"},{id:"safari",N:navigator.vendor,substring:"Apple",g:"Version"},{id:"ff",substring:"Firefox",g:"Firefox"},{id:"opera",prop:window.opera,g:"Opera"},{id:"ie",substring:"MSIE",g:"MSIE"},{id:"mo",substring:"Gecko",g:"rv"}],a),c=Za([{id:"android",substring:"Android"},{id:"blackberry",substring:"BlackBerry"},{id:"ipad",substring:"iPad"},{id:"iphone",substring:"iPhone"},{id:"ipod",substring:"iPod"},{id:"windows phone",substring:"Windows Phone"}],
a),d=k,e=b.g;e&&(d=$a(a,e)||$a(navigator.appVersion,e));return{z:b.id||"unknown",A:d||"unknown",L:c.id||"unknown"}}function $a(a,b){var c=a.indexOf(b),d=k;-1!==c&&(c+=b.length+1,d=parseFloat(a.substring(c)));return d}function Za(a,b){return p(a,function(a){var d=a.N||b;if(d&&-1!==d.indexOf(a.substring)||a.prop)return a})||{}};var ab=0,bb=l,G=i,P=l,Q="",R=l,cb=l,va=l,db=l,n=i;var eb,fb;
(function(){function a(a){d.lastIndex=0;return d.test(a)?'"'+a.replace(d,function(a){var b=g[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function b(c,d){var g,D,A,Aa,Ba=e,I,t=d[c];"function"===typeof j&&(t=j.call(d,c,t));switch(typeof t){case "string":return a(t);case "number":return isFinite(t)?String(t):"null";case "boolean":case "null":return String(t);case "object":if(!t)return"null";e+=f;I=[];if("[object Array]"===Object.prototype.toString.apply(t)){Aa=t.length;
for(g=0;g<Aa;g+=1)I[g]=b(g,t)||"null";A=0===I.length?"[]":e?"[\n"+e+I.join(",\n"+e)+"\n"+Ba+"]":"["+I.join(",")+"]";e=Ba;return A}if(j&&"object"===typeof j){Aa=j.length;for(g=0;g<Aa;g+=1)"string"===typeof j[g]&&(D=j[g],(A=b(D,t))&&I.push(a(D)+(e?": ":":")+A))}else for(D in t)Object.prototype.hasOwnProperty.call(t,D)&&(A=b(D,t))&&I.push(a(D)+(e?": ":":")+A);A=0===I.length?"{}":e?"{\n"+e+I.join(",\n"+e)+"\n"+Ba+"}":"{"+I.join(",")+"}";e=Ba;return A}}var c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,f,g={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},j;eb=function(a,c,d){var g;f=e="";if("number"===typeof d)for(g=0;g<d;g+=1)f+=" ";else"string"===typeof d&&(f=d);if((j=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return b("",{"":a})};fb=function(a,b){function d(a,c){var e,f,g=a[c];
if(g&&"object"===typeof g)for(e in g)Object.prototype.hasOwnProperty.call(g,e)&&(f=d(g,e),f!==h?g[e]=f:delete g[e]);return b.call(a,c,g)}var e,a=String(a);c.lastIndex=0;c.test(a)&&(a=a.replace(c,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===
typeof b?d({"":e},""):e;throw new SyntaxError("JSON.parse");}})();var H={v:function(a,b){var c={},c=b&&gb(b)?{revenue:Number(b)}:b;H.f(a,"custom",c)},f:function(a,b,c){c=c||{};P&&(gb(c.revenue)?hb(a,{value:c.revenue}):hb(a));n&&(H.l.push({name:a,type:b,options:c}),H.u?(H.q(),w("Tracker","Tracking event '"+a+"'")):w("Tracker","Queued tracking event '"+a+"'"))},D:function(){$("html").one("mousedown",ib(H.f,"engagement"))},F:function(a){return function(){H.M(a)}},m:function(){var a=x("optimizelyPendingLogEvents")||"[]",b=[];try{b=fb(a)}catch(c){}if(S(b))for(var a=
0,d=b.length;a<d;a++){var e=b[a];if("string"!==typeof e){b=[];break}else try{fb(e);b=[];break}catch(f){}}else b=[];return b},J:function(a,b){H.H(a)?H.K(a,b):H.o(a,b)},o:function(a,b){w("Tracker","Making log image request.");var c=new Image;c.onload=b;var d=jb("log_host")+"/event?"+a,d=H.O(d);c.src=d;H.images.push(c)},K:function(a,b){w("Tracker","Making log XHR request.");var c=jb("log_host")+"/event?"+a;try{var d=new XMLHttpRequest;if("withCredentials"in d)d.onerror=b,d.onload=b,d.open("GET",c,i),
d.withCredentials=i,d.send();else throw"CORS with credentials is not supported.";}catch(e){w("Tracker","Found that XHR with credentials is not supported in this browser."),H.o(a,b)}},H:function(a){return-1!==a.indexOf(H.k)},O:function(a){return a.replace("&"+H.k,"")},p:function(a){var b=(a=a===i||"true"===a)?"true":"false";a?(y("optimizelyOptOut",b,31536E4),y("optimizelyBuckets",b,31536E4),alert("You have successfully opted out of Optimizely for this domain.")):(y("optimizelyOptOut",b,31536E4),alert("You are NOT opted out of Optimizely for this domain."))},
M:function(a){for(var b=H.m(),c=0,d=b.length;c<d;c++)if(b[c]===a){b.splice(c,1);break}H.t(b);w("Tracker","Removed a pending log event from the pending events cookie.")},l:[],u:l,q:function(){var a=["a="+C("project_id"),"d="+C("admin_account_id"),"y="+!!C("ip_anonymization")];va&&a.push("override=true");p(pa(),function(b){var c=q(b);a.push("x"+c+"="+b)});a.push("f="+kb().join(","));var b=a.join("&"),c=[];p(H.l,function(a){var b=[];a.name&&b.push("n="+encodeURIComponent(a.name));a.options.revenue&&
b.push("v="+encodeURIComponent(a.options.revenue));a.options.anonymous!==i&&b.push("u="+lb());"pageview"===a.type&&b.push(H.k);b.push("t="+ +new Date);c.push(b.join("&"));if("custom"===a.type)try{H.Q(a.name)}catch(d){}});var d=c.concat(H.m());H.t(d);d=H.r?c:d;H.r=i;for(var e=0,f=d.length;e<f;e++){var g=d[e];H.J(b+"&"+g,H.F(g))}H.l=[];H.u=i},t:function(a){for(var b=eb(a);1536<b.length;)a=a.slice(0,-1),b=eb(a);y("optimizelyPendingLogEvents",b,15)},Q:function(a){var b=lb(),c=x("optimizelyCustomEvents")||
"{}";try{c=fb(c)}catch(d){c={}}var e=c[b]||(c[b]=[]),e=S(e)?e:[];-1!==$.inArray(a,e)&&e.splice($.inArray(a,e),1);e.push(a);10<e.length&&e.shift();c[b]=e;var a=0,e=k,f=0,g;for(g in c)c.hasOwnProperty(g)&&(a++,c[g].length>f&&g!==b&&(e=g,f=c[g].length));10<a&&e!==k&&delete c[e];y("optimizelyCustomEvents",eb(c),31536E4)},images:[],r:l,k:"wxhr=true"};function mb(a,b){var c;c=$.trim(b);var d="";if(window.optimizely&&window.optimizely.data)if(d=c.match(nb))d=window.optimizely.data.visitor.params[d[1]],d===h&&(d="");else{for(var d=c.split("."),e=window.optimizely,f=0,g=d.length;f<g;f++)if(e=e[d[f]],e===h||e===k){e="";break}d=""+e}w("Template",c+" evaluated to: '"+d+"'");return d}var ob=/\{\{ *optimizely\.([^\n\r{}<>]*)\}\}/g,nb=/^data\.visitor\.params\.(.*)$/;function hb(a,b){b=b||{};window.optimizelyPreview=window.optimizelyPreview||[];pb||(window.optimizelyPreview.push(["addEvent",window.location.href,{type:"url"}]),pb=i);window.optimizelyPreview.push(["addEvent",a,b])}
function qb(){P&&!bb&&(w("Preview","Will load preview script"),window.optimizelyPreview=window.optimizelyPreview||[],$(document).ready(function(){var a=C("project_id"),a="//optimizely.s3.amazonaws.com/js/"+a+"_preview.js?account_id="+a;rb(a);w("Preview","Now loading preview script "+a)}));sb=i}var tb=l,pb=l,sb=l,ub=[];function x(a){var b=a+"=",c=[];p((document.cookie||"").split(/\s*;\s*/),function(a){0===a.indexOf(b)&&c.push(decodeURIComponent(a.substr(b.length)))});var d=c.length;1<d&&o("Cookie","Values found for %s: %s",a,d);return 0===d?k:c[0]}
function y(a,b,c){var d=T||U,e=document.location.hostname;!T&&C("remote_public_suffix")&&vb.push({w:c,name:a,value:b});T&&T!==U&&(wb(a,e),wb(a,U));xb(a,b,d,c);var f=x(a);f===b?o("Cookie","Successful set %s=%s on %s",a,b,d):(o("Cookie","Setting %s on %s apparently failed (%s != %s)",a,d,f,b),o("Cookie","Setting %s on %s",a,e),xb(a,b,e,c),f=x(a),f===b&&(o("Cookie","Setting %s on %s worked; saving as new public suffix",a,e),U=e))}
function wb(a,b){o("Cookie","Deleting %s on %s",a,b);document.cookie=[a,"=; domain=.",b,"; path=/; expires=",(new Date(0)).toUTCString()].join("")}function yb(a){T=a.public_suffix;o("Cookie","Public suffix request returned: %s",T);y("optimizelyPublicSuffix",T,31536E4);if(T!==U)for(;0<vb.length;)a=vb.shift(),y(a.name,a.value,a.w);vb=[]}
function zb(a){var a=jb("api_host")+"/iapi/public_suffix?host="+encodeURIComponent(a),b="callback"+Math.random().toString().replace("0.",""),c=document,d=c.head||c.getElementsByTagName("head")[0]||c.documentElement,c=c.createElement("script");window.optimizely[b]=yb;c.async="async";c.src=[a,-1!==a.indexOf("?")?"&":"?","callback=optimizely.",b].join("");d.insertBefore(c,d.firstChild)}
function xb(a,b,c,d){a=[a,"=",encodeURIComponent(b),"; domain=.",c,"; path=/"];d&&a.push("; expires=",(new Date(+new Date+1E3*d)).toUTCString());document.cookie=a.join("")}var U="",T="",vb=[];var V;function Ma(){function a(){return V.z}V=V||Ya();Ma=a;return a()}function Ab(){function a(){return V.A}V=V||Ya();Ab=a;return a()}function lb(){var a=x("optimizelyEndUserId");a||(a="oeu"+ +new Date+"r"+Math.random(),y("optimizelyEndUserId",a,31536E4));return a}
function Na(){var a={};try{a=GEOTARGETING}catch(b){}var c="",d="",e="",f="";try{d=a.country.toUpperCase()||""}catch(g){d=""}try{e=a.region.toUpperCase()||""}catch(j){e=""}"N/A"===e&&(e="");try{f=a.city.toUpperCase()||""}catch(m){f=""}"N/A"===f&&(f="");try{c=a.continent.toUpperCase()||""}catch(v){c=""}"N/A"===c&&(c="");return{city:f,continent:c,country:d,region:e}}function Pa(){function a(){return V.L}V=V||Ya();Pa=a;return a()}var Bb=h;function Cb(a){if(G){S(a)?Db(a):(a=[],Db());a=a.concat(E);E=[];for(var b=0;b<a.length;b++)F(oa,a[b])||oa.push(a[b]);a===h?a=[]:gb(a)&&(a=[a]);for(var b=pa(a),c=[],d=[],e=[],f=[],g=Eb(Fb(),function(a){return a.experiments?l:Gb(a.url_conditions||[])}),j=0,m=g.length;j<m;j++)c.push({i:g[j].event_name,e:g[j].selector,type:"event '"+g[j].event_name+"' (click goal)",h:i});p(a,function(a){var b={},g=u(a,"events")||{};p(g,function(a,c){b[a]=[c]});for(var g=Eb(Fb(),function(b){return F(b.experiments||[],a)}),
j=0;j<g.length;j++){var m=g[j];b[m.selector]||(b[m.selector]=[]);b[m.selector].push(m.event_name)}p(b,function(b,d){p(d,function(d){c.push({i:d,e:b,type:"event '"+d+"' (experiment "+a+")",h:i})})});g=u(a,"css")||"";j=u(a,"code")||"";(m=u(a,"html")||"")&&e.push({code:'$("body").append("<div style=\'display:none\'>'+m.replace(/([\f\n\r\t\\'"])/g,"\\$1")+'</div>");',e:"body",type:"global html (experiment "+a+")",h:i});g&&e.push({code:'$("body").append("<style>'+g.replace(/([\f\n\r\t\\'"])/g,"\\$1")+
'</style>");',e:"body",type:"global css (experiment "+a+")",h:i});j&&Hb(j,d,f)});p(b,function(a){for(var a=ta(a),a=a.split("\n"),b=[],c=i,e=0,g=a.length;e<g;e++){var j=$.trim(a[e]);if(j==="/* _optimizely_variation_url_end */")c=i;else if(j!==""){var m=ca.exec(j);if(m&&m.length===11){var t=m[2]?m[2].split(" "):[],j=m[4]?m[4].split(" "):[],bc=m[6]?m[6]:"substring",Lc=m[8]?m[8].split(" "):[],m=m[10]?m[10].split(" "):[];if(t.length>0){c=Ib(t,Lc,bc);c=Gb(c)}if(c&&j.length>0){c=Ib(j,m,bc);c=!Gb(c)}}else c&&
b.push(j)}}a=b.join("\n");Hb(a,d,f)});a=[];a.push.apply(a,d);a.push.apply(a,e);a.push.apply(a,f);a.push.apply(a,c);Jb.push.apply(Jb,a);Kb()}}
function Kb(){var a=l;Lb=k;for(w("Evaluator",Mb+" times waited");!a&&0<Jb.length;){w("Evaluator",Jb.length+" steps remaining");var b=Jb.shift(),c=b,a=l;if(c.R&&!Nb)w("Evaluator","Document not ready yet"),a=i;else if(c.h&&!Nb&&(c=c.e))for(var c=S(c)?c:[c],d=0;d<c.length;d++){var e=c[d];if(!(e===k||e===h||!e.length)&&0===$(e).length)w("Evaluator","'"+e+"' not found"),a=i}a?Jb.unshift(b):b.i?(w("Evaluator","Bound event "+b.i+" to selector "+b.e),Ob(b.e,b.i)):b.code&&(w("Evaluator","Run code: "+b.code),
Pb(b.code))}a?(Lb=setTimeout(Kb,0===Mb?10:50),Mb++):w("Evaluator",Mb+" total times waited")}
function Pb(a){a=a.replace(ob,mb);if(sa(a))if(w("Evaluator","Redirect detected"),Xa(a))w("Evaluator","OK to redirect"),Wa(a)||(w("Evaluator","NOT setting a redirect cookie"),y("optimizelyRedirect",window.location.href,5)),y("optimizelyReferrer",document.referrer||"http://www.optimizely.com/redirect-no-referrer");else{w("Evaluator","NOT OK to redirect");return}eval("var $j = $;");try{eval(a)}catch(b){var c=R;R=i;w("Evaluator","Error: "+b.message);w("Evaluator","Code: "+a);R=c;w("Evaluator","Failed to run code: "+
b.message)}}function Ob(a,b){if(!Qb[a]||!Qb[a][b]){var c="mousedown",d=Pa();if("iphone"===d||"ipad"===d||"ipod"===d)c="touchstart";$(a).bind(c,function(){H.f.call(H,b,"custom")});Qb[a]||(Qb[a]={});Qb[a][b]=c}}function Db(a){a||(a=Ka());for(var b=0;b<a.length;b++){var c=a[b],d=Rb[c];d?(hb("Not activating "+z(c)+" because "+d+".",{type:"explanation"}),delete Rb[c]):hb("Activating "+z(c)+".",{type:"explanation"})}}var Qb={},oa=[],E=E||[],Sb=0,Nb=l,Rb={},Jb=[],Lb=k,Mb=0;
$(function(){Nb=i;Lb!==k&&(w("Evaluator","Document is ready"),clearTimeout(Lb),0<Sb?setTimeout(Kb,Sb):Kb())});function Fb(){if(!Tb){var a=C("click_goals")||[];Tb=[];for(var b=0,c=a.length;b<c;b++)for(var d=a[b],e=d.selector.split(","),f=0,g=e.length;f<g;f++){var j=e[f];j&&(j={event_name:d.event_name,selector:j},d.experiments!==h?j.experiments=d.experiments:d.url_conditions!==h&&(j.url_conditions=d.url_conditions),Tb.push(j))}}return Tb}function kb(){var a=Eb(Ka(),qa);kb=function(){return a};return a}function Ra(){return C("experiments")||{}}function Ka(){return La(C("experiments")||{})}
function z(a){return'experiment "'+(u(a,"name")||"")+'" ('+a+")"}function M(a){return u(a,"section_ids")||[]}function Ja(a){return u(a,"variation_ids")||[]}function Ub(a){var b={},c=C("public_suffixes")||{};p(c,function(a,c){p(c,function(c){b[c]=a})});Ub=function(a){return b[a]||""};return Ub.call(k,a)}function ya(a){return C("sections",a,"variation_ids")||[]}function ta(a){var b=[];p(a.split("_"),function(a){(a=C("variations",a,"code"))&&b.push(a)});return b.join("\n")}
function q(a){var b={};p(Ka(),function(a){p(M(a),function(d){p(ya(d),function(d){b[d]=a})});p(Ja(a),function(d){b[d]=a})});q=function(a){return b[a.split("_")[0]]||""};return q.call(k,a)}function ra(a){var b;return la(a).join(b||", ")}function la(a){var b=[];p(a.split("_"),function(a){b.push(C("variations",a,"name")||"Unnamed")});return b}function qa(a){return!!u(a,"enabled")}function u(a,b){return C("experiments",a,b)}function na(a){return u(a,"google_analytics")}
function C(a){var b=DATA;if(p(arguments,function(a){a=b[a];if(B(a))b=a;else return k})!==k)return b}function jb(a){var a=C(a),b=document.location.protocol;"chrome-extension:"===b&&(b="http:");return b+"//"+a+".optimizely.com"}var Tb=k;function Vb(a,b){b=b===i;w("Condition","Testing experiment "+a);var c=qa(a),d=u(a,"manual")||l;if(c){var c=u(a,"conditions")||[],e=i;p(c,function(b){var c=b.type;if(b.only_first_time&&Wb(a))w("Condition",c+" condition passed because it only gets checked when bucketing",i);else{var d=!b.not,m=(0,Xb[c])(b),b=m!==d,c="the visitor "+(m?"passed":"failed")+" a "+c+" targeting condition  when it needed to "+(d?"pass":"fail");w("Condition",c,!b);if(b)return e=l,Rb[a]=c,l}});if(e){if(!b&&d)return w("Condition",
" Failed for experiment "+a+" (manual activation mode)"),Rb[a]="it is set to use manual activation mode",l}else return w("Condition","Failed for experiment "+a+" (condition failed)"),l}else return w("Condition","Failed for experiment "+a+" (paused)"),Rb[a]="it is paused",l;return i}function Gb(a){for(var b=window.location.href,c=0;c<a.values.length;c++){var d=a.values[c],e=d.value,d=d.match,f=Yb(b,e,d);w("Condition","Testing URL "+b+" against  "+e+" ("+d+")",i);if(f)return i}return l}
var Xb={browser:function(a){var b=Ma(),c=Ab(),d=l,e=Pa();p(a.values,function(a){"unknown"!==e?(d="mobile"===a||a===e,w("Condition",e,i)):0===a.indexOf(b)&&(a=a.substr(b.length),d=""===a||a<=c&&c<Number(a)+1);if(d)return k});return d},code:function(a){a=a.value;if(a===h)return i;try{return Boolean(eval(a))}catch(b){return l}},cookies:function(a){for(var b=l,c=a.names||[],a=a.values||[],d=0;d<c.length;d++){var e=x(c[d]);if(b=B(a[d])&&""!==Zb(a[d])?b||a[d]===e:b||e!==k&&e!==h)return i}return l},event:function(a){var b=
x("optimizelyCustomEvents")||"{}";try{b=fb(b)}catch(c){b={}}var d=b[lb()]||[];S(d)||(d=[]);var e=l;p(a.values,function(a){if(-1!==$.inArray(a,d))return e=i});return e},language:function(a){var b,c="";try{c=navigator.userLanguage||window.navigator.language,c=c.toLowerCase()}catch(d){c=""}b=c;var e=l;p(a.values,function(a){if(e="any"===a||0===b.indexOf(a))return k});return e},location:function(a){for(var b=Na(),c=0;c<a.values.length;c++){var d=a.values[c].split("|"),e=$.trim(d[0]),f=$.trim(d[1]),g=
$.trim(d[2]),j=$.trim(d[3]);switch(d.length){case 1:if(b.country===e)return i;break;case 2:if(b.region===f&&b.country===e)return i;break;case 3:if(b.city===g&&(b.region===f||""===f)&&b.country===e)return i;break;case 4:if(b.continent===j)return i}}return l},query:function(a){if(0===a.values.length)return i;var b=l,c=Oa();p(a.values,function(a){for(var e=a.key,a=a.value||"",f=0;f<c.length;f++){var g=c[f],j=g[0],g=g[1];if(""!==e&&e===j&&(""===a||a===g))return b=i}});return b},referrer:function(a){for(var b=
document.referrer,c=0;c<a.values.length;c++){var d=a.values[c],e=d.value,d=d.match,f=Yb(b,e,d);w("Condition","Testing referrer "+b+" against  "+e+" ("+d+")",i);if(f)return i}return l},url:Gb,visitor:function(a){var b=Bb?"returning":"new";switch(a.value){case "new":if("returning"===b)return l;break;case "returning":return"returning"===b}return i}};function Yb(a,b,c){switch(c){case "exact":return a=$b(a),a=ac(a,"optimizely_log"),a=ac(a,"optimizely_verbose"),a===$b(b);case "regex":try{return Boolean(a.match(b))}catch(d){return l}case "simple":return a=$b(cc(a)),b=$b(cc(b)),a===b;case "substring":return a=$b(a),b=$b(b),-1!==a.indexOf(b);default:return l}}function cc(a){var b=a.indexOf("?");-1!==b&&(a=a.substring(0,b));b=a.indexOf("#");-1!==b&&(a=a.substring(0,b));return a}
function ac(a,b){return a.replace("&"+b+"=true","").replace("?"+b+"=true&","?").replace("?"+b+"=true","")}function $b(a){for(var a=a.toLowerCase(),b=a.charAt(a.length-1);"/"===b||"&"===b||"?"===b;)a=a.substring(0,a.length-1),b=a.charAt(a.length-1);for(var b=dc.length,c=0;c<b;c++){var d=dc[c];0===a.indexOf(d)&&(a=a.substring(d.length))}return a}var dc=["http://edit.local/","http://preview.optimizely.com/","http://","https://","www."];function w(a,b,c){ec.push({C:new Date,B:a,message:b,n:c||l});fc&&gc()}function gc(){R&&(p(ec,function(a){if(!a.I&&(!a.n||a.n===cb)){var b=+a.C;o(a.B,a.message+(" [time "+(hc?b-hc:0)+" +"+(ic?b-ic:0)+"]"));ic=b;hc||(hc=b);a.I=i}}),fc=i)}var ic=k,hc=k,ec=[],fc=l;function F(a,b){for(var c=0;c<a.length;c++)if(b==a[c])return i;return l}function Ua(a){var b=a.length;if(0===b)return k;if(1===b)return 0;for(var c=0,d=0;d<b;d++)c+=a[d];c*=Math.random();for(d=0;d<b;d++){if(c<a[d])return d;c-=a[d]}return Math.floor(Math.random()*b)}function ib(a,b){var c=jc(arguments,1);return function(){var b=jc(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}
function p(a,b){var c=k;if(S(a))for(var d=a.length,e=0;e<d&&!(c=b.call(h,a[e],e),B(c));++e);else for(d in a)if(Object.prototype.hasOwnProperty.call(a,d)&&(c=b.call(h,d,a[d]),B(c)))break;return c}function Qa(a,b){p(b,function(b,d){a[b]=d})}function Eb(a,b){for(var c=[],d=0,e=a.length;d<e;d++){var f=a[d];b(f)&&c.push(f)}return c}function kc(a,b){return p(b,function(b){if(b===a)return i})||l}function S(a){return a&&"object"===typeof a&&a.length&&"number"===typeof a.length}
function B(a){return"undefined"!==typeof a}function gb(a){return("number"===typeof a||"string"===typeof a)&&Number(a)==a}function La(a){La=Object.S||function(a){var c=[];p(a,function(a){c.push(a)});return c};return La.call(k,a)}function rb(a){var b=document.head||document.getElementsByTagName("head")[0]||document.documentElement,c=document.createElement("script");c.src=a;c.type="text/javascript";b.appendChild(c)}
function o(a,b,c){var d=window.console;if(R&&d&&d.log){var e=jc(arguments,1);e[0]="Optimizely / "+a+" / "+b;Function.prototype.apply.call(d.log,d,e)}}function jc(a,b){return Array.prototype.slice.call(a,b||0,a.length)}function Zb(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function nc(a){return function(b){if("object"===typeof b&&oc()){var c=k,d;for(d in b)b.hasOwnProperty(d)&&(c=a.call(this,d,b[d]));return c}return a.apply(this,arguments)}}function oc(){for(var a in{})return i;return l};function pc(){for(var a=Q,b=0,c=qc.length;b<c;b++){var d=qc[b];if(d.test(a))return l}b=0;for(c=rc.length;b<c;b++)if(d=rc[b],d.test(a))return i;return l}var qc=[/(edit|preview)(-local)?\.optimizely\.com/,/optimizelyedit\.appspot\.com/],rc=[/^(https:)?\/\/www\.local\//,/^(https:)?\/\/([A-Za-z0-9\-]+\.)?optimizely\.com\//,/^(https:)?\/\/([A-Za-z0-9\-]+\.)?optimizely(-hrd)?\.appspot\.com\//];function Da(a,b,c,d){var c=c===i,d=d===i,e=l,f=q(a);if(f&&(d||!Wb(f))){e=i;if(d&&Wb(f))for(d=0;d<K.length;d++)K[d].j===f&&K.splice(d,1);K.push({j:f,id:a,source:b});c&&(E=E||[],E.push(f));wa[f]=i;xa();w("Plan","Added experiment "+f+" and variation id "+a+" to the plan, source is "+b,i)}return e}function Wb(a){return a in J||a in wa}function pa(a){var b=[],c=!B(a),a=a||[];p(K,function(d){(c||F(a,d.j))&&b.push(d.id)});return b}function Ta(a){var b;if(b===i||!Wb(a))J[a]=i,xa()}
function Ea(){var a={};p(sc,function(b,c){a[b]=c});p(K,function(b){var c=q(b.id);a[c]=b.id});p(J,function(b){a[b]="0"});y("optimizelyBuckets",eb(a),31536E4)}function xa(){p(tc,function(a){a()})}
function Hb(a,b,c){if(-1!==a.indexOf("_optimizely_redirect"))b.push({code:a,type:"code forced (redirect)"});else{for(var a=a.split("\n"),d=l,e=l,f=[],g=[];0<a.length;){var j=Zb(a.shift()),m=0<g.length;if(j)if(Boolean(j.match(/_optimizely_evaluate\s{0,9}=\s{0,9}force/i)))e=i;else if(Boolean(j.match(/_optimizely_evaluate\s{0,9}=\s{0,9}safe/i))||Boolean(j.match(/_optimizely_evaluate\s{0,9}=\s{0,9}end_force/i)))e=l;else if(Boolean(j.match(/_optimizely_evaluate\s{0,9}=\s{0,9}editor_only/i)))d=i;else if(Boolean(j.match(/_optimizely_evaluate\s{0,9}=\s{0,9}end_editor_only/i)))d=
l;else if(!d)if(e)f.push(j);else{if(!m){var v=uc.exec(j),L=[];v?(L.push(v[1]),(v=vc.exec(j))&&4<v.length&&L.push(v[4]),c.push({code:j,e:L,type:"safe jquery",h:i})):m=i}m&&g.push(j)}}0<f.length&&b.push({code:f.join("\n"),type:"forced evaluation"});0<g.length&&c.push({code:g.join("\n"),type:"safe non-jquery",R:i})}}function Ib(a,b,c){for(var d={values:[]},e=0,f=a.length;e<f;e++)d.values.push({value:a[e],match:b[e]||c});return d}
var tc=[],sc={},J={},uc=/^\$j?\(['"](.+?)['"]\)\..+;\s*$/,vc=/^\$j?\(['"](.+?)['"]\)\.detach\(\)\.(appendTo|insertAfter|insertBefore|prependTo)\(['"](.+?)['"]\);\s*$/,wa={},K=[];if(!aa){var X=$;X.fn.attr=nc(X.fn.attr);X.fn.css=nc(X.fn.css);X.fn.extend=nc(X.fn.extend);var wc=X.each;X.each=function(a,b,c){if(!(a.length===h||X.isFunction(a))||!oc())wc.apply(this,arguments);else if(c)for(var d in a){if(a.hasOwnProperty(d)&&b.apply(a[d],c)===l)break}else for(d in a)if(a.hasOwnProperty(d)&&!b.call(a[d],d,a[d])===l)break;return a};var xc=X.fn.G,yc=function(a,b,c){return new xc(a,b,c)},zc,Ac=document.getElementsByClassName;if(!Va(Ac))var Bc=(window.optimizely||{}).getElementsByClassName,
Cc=(window.optly||{}).getElementsByClassName,Ac=Va(Bc)?Bc:Va(Cc)?Cc:k;zc=Ac;X.fn.G=function(a,b,c){var d=yc,e=document.getElementsByClassName;!Va(e)&&zc&&(d=function(a,b,c){document.getElementsByClassName=zc;a=yc(a,b,c);document.getElementsByClassName=e;return a});if(!("string"===typeof a&&b&&"object"===X.type(b)&&oc()))return d(a,b,c);a=d(a,h,c);a.attr(b);return a}}w("Main","Started, revision "+C("revision"));
for(var Dc=window.location.search,Ec,Fc=/optimizely_([^=]+)=([^&]*)/g,Y={};Ec=Fc.exec(Dc);)Y[Ec[1]]=decodeURIComponent(Ec[2]);var Gc=/x(\d+)/,Hc=l;p(Y,function(a,b){var c=Gc.exec(a);if(c&&(Hc=i,c=c[1],"-1"!==b)){var d=b.split("_"),e=M(c),f=[];if(e.length===d.length)p(e,function(a,b){var c=d[b];if(c=ya(a)[c])f.push(c);else return f=[],k});else if(1===d.length){var e=Ja(c),g=d[0],j=e[g];!j&&F(e,g)&&(j=g);j&&f.push(j)}Da(f.join("_"),"query",i);ub.push(c)}});
("true"===Y.opt_out||"false"===Y.opt_out)&&H.p("true"===Y.opt_out);bb="true"===Y.cross_browser;G="true"!==Y.disable&&"true"!==Y.opt_out&&"true"!==x("optimizelyOptOut");P=(Y.preview||P)&&G;Q=Y.load_script;R="true"===Y.log;cb="true"===Y.verbose;n=!Hc||"true"===Y.force_tracking;"false"===Y.client&&(G=l,Q="js/"+C("project_id")+".js");Q&&(pc()||(Q=""));var Ic=document.location.hostname,Z=Ic.split("."),Jc=Ic,Kc=Z[Z.length-1];
2<Z.length&&"appspot"===Z[Z.length-2]&&"com"===Kc?Jc=Z[Z.length-3]+".appspot.com":1<Z.length&&kc(Kc,ba)&&(Jc=Z[Z.length-2]+"."+Kc);U=Jc;o("Cookie","Guessed public suffix: %s",U);T=Ub(Ic);o("Cookie","Public suffix (from data): %s",T);T||(T=x("optimizelyPublicSuffix")||"",o("Cookie","Public suffix (from cookie): %s",T));!T&&C("remote_public_suffix")&&(o("Cookie","Making request for public suffix on DOM ready"),$(ib(zb,Ic)));var Mc=x("optimizelyBuckets"),Bb=Mc!==h&&Mc!==k,Nc;
a:{for(var Oc=["googlebot","yahoo! slurp","bingbot","msnbot"],Pc=navigator.userAgent.toLowerCase(),Qc=0;Qc<Oc.length;Qc++)if(-1!==Pc.indexOf(Oc[Qc])){Nc=i;break a}Nc=l}Nc&&(n=l);var Rc=x("optimizelyBuckets");
if(Rc){try{Rc=fb(Rc)}catch(Sc){Rc={}}var Tc={};p(Rc,function(a,b){var b=String(b),c=q(b);if(M(c).length>1&&b.indexOf("_")===-1){Tc[c]=Tc[c]||{};Tc[c][a]=b}else b!=="0"?Da(b,"cookie",l)||(sc[a]=b):Ta(a)});p(Tc,function(a,b){var c;a:{c=[];for(var d=M(a),e=0;e<d.length;e++){var f=b[d[e]];if(f==="0"){c="";break a}c.push(f)}c=c.join("_")}c.length>0?Da(c,"cookie",l):Ta(a)})}tc.push(Ga);
var Uc={$:$,activeExperiments:oa||[],allExperiments:Ra(),all_experiments:Ra(),allVariations:C("variations")||{},data:O,getElementsByClassName:document.getElementsByClassName,revision:C("revision"),variationIdsMap:Ha,variation_map:N,variationMap:N,variationNamesMap:Ia},Vc={},Wc=ib(function(a,b){var c=[],d=b;if(S(b)){c=jc(b,1);d=b[0]}var e=a[d];if(e){w("API",'Called function "'+d+'"');d!=="acknowledgePreviewMode"&&hb(d,{type:"api"});e.apply(k,c)}else w("API",'Error for unknown function "'+d+'"');gc()},
Vc);
Qa(Vc,{acknowledgePreviewMode:function(){w("Preview","Preview acknowledgement received");tb=i},activate:function(a,b,c){if(!G)return l;var d=typeof b==="number"||typeof b==="string"?String(b):k,e=b===i||b&&b.force===i||c&&c.force===i,f=typeof b==="object"&&b.skip===i||typeof c==="object"&&c.skip===i;if(d)try{ua(a,d)}catch(g){w("API","Error while activating experiment "+a+" for variation "+d+" -- proceeding without bucketing user.")}var j=k,m=[],v=[];gb(a)?m.push(a):p(Ka(),function(a){u(a,"manual")&&m.push(a)});
p(m,function(a){if(e||Vb(a,i))(j=Sa(a,f))&&v.push(a)});Cb(v);Ea();ma()},activateSiteCatalyst:da,bucketUser:ua,bucketVisitor:ua,clickTaleRecord:function(){o("Integrator","Tracking with ClickTale.");typeof window.ClickTaleField=="function"?p(ha(),function(a){var b=q(a),c=r(b,a,100,100,15,l),c=c.key+": "+c.value+" (x"+b+"="+a+")";o("Integrator","Setting ClickTale - %s",c);window.ClickTaleField(b,a);window.ClickTaleEvent(c)}):o("Integrator","ClickTaleField() not defined.")},clickTalePlayback:function(){if(window.ClickTaleContext){try{window.ClickTaleContext.getRecordingContextAsync("1.1",
function(a){o("Integrator","Playback ClickTale getRecordingContextAsync callback");for(var b in a.fields){o("Integrator","Playback ClickTale Integration - %s=%s",b,a.fields[b]);window.optimizely.push(["activate",b,a.fields[b],{force:i}])}})}catch(a){o("Integrator","Playback ClickTale Recording Integration failed.")}try{window.ClickTaleContext.getAggregationContextAsync("1",function(a){debugger;for(var b in a.PageEvents){var e=a.PageEvents[b][2].match(/x[0-9]+=[0-9_]+/g);o("Integrator","Playback ClickTale Integration - %s",
e);for(b in e){o("Integrator","Playback ClickTale Integration - %s",e[b]);var f=e[b].split("=")[0].substr(1),g=e[b].split("=")[1].split("_");for(b in g)window.optimizely.push(["activate",f,g[b],{force:i}])}}})}catch(b){o("Integrator","Playback ClickTale Aggregation Integration failed.")}}else o("Integrator","ClickTaleContext not defined.")},delayDomReadyEval:function(a){Sb=a},delayPageviewTracking:function(a){if(!gb(a))return l;ab=Number(a)},disable:Fa,log:function(){R=i},integrationPrefix:function(a){ka=
a},optOut:H.p,preview:function(){P=i;sb&&!tb&&qb()},push:Wc,sc_activate:da,sc_svar:function(a){ea=a},skipPageTracking:function(){db=i},timeout:Fa,trackEvent:H.v,verbose:function(){cb=R=i}});Qa(Uc,Vc);var Xc=window.optimizely;S(Xc)&&p(Xc,function(a){Wc(a)});window.optimizely=Uc;w("Info","Is enabled: "+G);w("Info","Is previewing: "+P);w("Info","Script to load: "+(Q||"none"));w("Info","Browser type: "+Ma());w("Info","Browser version: "+Ab());var Yc=Pa();
"unknown"!==Yc&&w("Info","Mobile browser type: "+Yc);w("Info","Visitor type: "+(Bb?"returning":"new"));w("Info","User ID: "+lb());Q&&rb(Q);
G&&(p(Ka(),function(a){if(!kc(a,E)&&Vb(a)){w("Distributor","Going to distribute "+z(a));var b=Sa(a),c=l;if(P&&ub.length>0&&!F(ub,a)){w("Distributor","Not going to evaluate because of preview mode, for "+z(a));c=i;Rb[a]="it is not being previewed"}if(b&&!c){E=E||[];E.push(a)}}}),Ea(),H.D(),db||(0<ab?setTimeout(function(){H.f(document.location.href,"pageview")},ab):H.f(document.location.href,"pageview")),H.q(),ma());
R&&(p(J,function(a){var b=u(a,"name")||"";w("Plan","Ignore experiment '"+b+"' ("+a+")")}),p(K,function(a){var b=q(a.id),c=ra(a.id);w("Plan",z(b)+' in variation "'+c+'" ('+a.id+")")}));G&&(Cb(),w("API","Finalizing API."),Ga(),gc());qb();w("Main","End of main");
optly.Cleanse.finish();
})();
