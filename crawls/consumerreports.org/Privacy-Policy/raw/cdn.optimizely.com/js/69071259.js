if (typeof(optimizely_perf) != "undefined") { optimizely_perf.load_times[1] = new Date().valueOf() - optimizely_perf.begin_ts; optimizely_perf.loaded_a = true; optimizely_perf.loaded_b = true; optimizely_perf.loadJs("geo", "", true, function() {}); }





(function(){
var DATA={"public_suffixes":{"consumerreports.org":["ec.consumerreports.org","web.consumerreports.org","www.consumerreports.org","consumerreports.org"]},"log_host":"log3","api_host":"api","variations":{"118041734":{"code":"$(\"#header\").replaceWith(\"<div id=\\\"header\\\">Test Header 1</div>\");\n$(\".red-arrows\").replaceWith(\"<p>Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.Test copy one, two blah blah blah,.</p>\");\n$(\"#header\").replaceWith(\"<div id=\\\"header\\\">Hello World</div>\");\n$(\"#copy > p\").replaceWith(\"<p><br />Tommy Frabizzio</p>\");\n$(\"#copy > p\").prepend(\"<img id=\\\"optimizely_812951348\\\" src=\\\"//cdn.optimizely.com/img/62715456/386ab43c83b84663b618a1baafa0c96e.jpg\\\" />\");\n$(\"#optimizely_812951348\").css({\"position\":\"relative\", \"left\":-10, \"top\":9, \"width\":222, \"height\":164});\n$(\"#optimizely_812951348\").replaceWith(\"<img style=\\\"position: relative; left: -10px; top: 9px; width: 222px; height: 164px;\\\" id=\\\"optimizely_812951348\\\" src=\\\"//cdn.optimizely.com/img/62715456/386ab43c83b84663b618a1baafa0c96e.jpg\\\">\");\n$(\"#optimizely_812951348\").css({\"left\":\"0px\", \"position\":\"relative\", \"top\":\"0px\"});\n$(\"#optimizely_812951348\").detach().insertAfter(\"#copy > p\");\n$(\"#copy > p\").css({\"left\":\"0px\", \"position\":\"relative\", \"top\":\"0px\"});\n$(\"#copy > p\").detach().insertAfter(\"#header\");\n$(\"#content > div:eq(1) > p:eq(0)\").css({\"display\":\"none\", \"visibility\":\"\"});\n$(\"#header\").replaceWith(\"<div style=\\\"left: auto; top: auto;\\\" id=\\\"header\\\"></div>\");","name":"Variation #1"},"122699407":{"name":"Original Page"},"122668701":{"code":"/* _optimizely_redirect=https://ec.consumerreports.org/ec/cro/cs1/order.htm */\nwindow.location.replace('https://ec.consumerreports.org/ec/cro/cs1/order.htm');","name":"Variation #1"},"73725726":{"code":"$(\"div.bug > h1:eq(0)\").replaceWith(\"<h1>&nbsp;Vacuum Cleaner Reviews from Consumer Reports</h1>\");\n$(\"div.bug > h1:eq(0)\").replaceWith(\"<h1>&nbsp;Vacuum Cleaner Reviews</h1>\");","name":"Variation #1"},"76272040":{"name":"Original Page"},"116686635":{"code":"$(\"body\").append(\"<div id=\\\"facebox\\\">  <div>    <h2>Lightbox Demo</h2>    <p>      This dialog is opened programmatically when the page      loads. There is no need for a trigger element.    </p>       <p style=\\\"color:#666\\\">      To close, click the Close button or hit the ESC key.    </p>    <!-- yes/no buttons -->    <p>      <button class=\\\"close\\\"> Close </button>    </p>  </div></div>\");\n\n$(function(){var fileRef1 = document.createElement('script'); fileRef1.setAttribute(\"type\",\"text/javascript\"); fileRef1.setAttribute(\"src\",\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js\"); document.body.appendChild(fileRef1);});\n\n$(function(){var fileRef2 = document.createElement('script'); fileRef2.setAttribute(\"type\",\"text/javascript\"); fileRef2.setAttribute(\"src\", \"http://cdn.jquerytools.org/1.2.6/all/jquery.tools.min.js\"); document.body.appendChild(fileRef2);});\n \nvar testOverlay = setInterval(function(){\n  //console.log('Run Interval');\n  if(typeof window.jQuery(\"#facebox\").overlay == 'function'){\n  window.jQuery(\"#facebox\").overlay({\n\n  // custom top position\n  top: 260,\n\n  // some mask tweaks suitable for facebox-looking dialogs\n  mask: {\n\n  // you might also consider a \"transparent\" color for the mask\n  color: '#fff',\n\n  // load mask a little faster\n  loadSpeed: 200,\n\n  // very transparent\n  opacity: 0.5\n  },\n\n  // disable this for modal dialog-type of overlays\n  closeOnClick: false,\n\n  // load it immediately after the construction\n  load: true\n  });\n\n  clearInterval(testOverlay);\n    }}, 50);","name":"Variation #1"},"117320499":{"name":"Original Page"},"118092600":{"name":"Original Page"},"125773506":{"name":"Original Page"},"73604555":{"name":"Original Page"},"78400210":{"name":"Variation #1"},"125797593":{"code":"/* _optimizely_redirect=https://ec.consumerreports.org/ec/cro/cs1/order.htm */\nvar query = window.location.search;\nquery = query.indexOf('?') == 0 ? query.substring(1) : query;\nvar redirectFirst = 'https://ec.consumerreports.org/ec/cro/cs1/order.htm';\nvar redirectSecond = '';\nvar questionMark = query.length || redirectSecond.length ? '?' : '';\nvar ampersand = query.length && redirectSecond.length && redirectSecond[0] != '#' ? '&' : '';\nwindow.location.replace(redirectFirst + questionMark + query + ampersand + redirectSecond);","name":"Variation #1"},"113380188":{"name":"Original Page"},"113340381":{"code":"/* _optimizely_redirect=https://ec.consumerreports.org/ec/cr/order.htm?pkey=crMagTwentyNineWRetireandiPadpromo&INTKEY=IW27CDIP1 */\nwindow.location.replace('https://ec.consumerreports.org/ec/cr/order.htm?pkey=crMagTwentyNineWRetireandiPadpromo&INTKEY=IW27CDIP1');","name":"Variation #1"},"82849250":{"name":"Variation #1"},"78394467":{"name":"Original Page"},"83552873":{"name":"Original Page"},"82686826":{"name":"Original Page"},"76274047":{"code":"$(\"body\").append(\"<div id=\\\"facebox\\\">  <div>    <h2>Lightbox Demo</h2>    <p>      This dialog is opened programmatically when the page      loads. There is no need for a trigger element.    </p>       <p style=\\\"color:#666\\\">      To close, click the Close button or hit the ESC key.    </p>    <!-- yes/no buttons -->    <p>      <button class=\\\"close\\\"> Subscribe for the special price of $xx</button>    </p>  </div></div>\");\n\n$(function(){var fileRef1 = document.createElement('script'); fileRef1.setAttribute(\"type\",\"text/javascript\"); fileRef1.setAttribute(\"src\",\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js\"); document.body.appendChild(fileRef1);});\n\n$(function(){var fileRef2 = document.createElement('script'); fileRef2.setAttribute(\"type\",\"text/javascript\"); fileRef2.setAttribute(\"src\", \"http://cdn.jquerytools.org/1.2.6/all/jquery.tools.min.js\"); document.body.appendChild(fileRef2);});\n \nvar testOverlay = setInterval(function(){\n  //console.log('Run Interval');\n  if(typeof window.jQuery(\"#facebox\").overlay == 'function'){\n  window.jQuery(\"#facebox\").overlay({\n\n  // custom top position\n  top: 2,\n\n  // some mask tweaks suitable for facebox-looking dialogs\n  mask: {\n\n  // you might also consider a \"transparent\" color for the mask\n  color: '#fff',\n\n  // load mask a little faster\n  loadSpeed: 20,\n\n  // very transparent\n  opacity: 0.5\n  },\n\n  // disable this for modal dialog-type of overlays\n  closeOnClick: false,\n\n  // load it immediately after the construction\n  load: true\n  });\n\n  clearInterval(testOverlay);\n    }}, 50);","name":"Variation #1"},"116816503":{"name":"Original Page"},"83789051":{"name":"Variation #1"},"117322495":{"code":"$(\".pw_right > img\").attr({\"src\":\"//cdn.optimizely.com/img/62715456/0e6683dc3ff34631961ddf5073e4f925.jpg\"});\n$(\"h1\").replaceWith(\"<h1>&nbsp;Find out which are the best and worst rated camcorders</h1>\");\n$(\"h1\").replaceWith(\"<h1></h1>\");\n$(\"h1\").replaceWith(\"<h1>test</h1>\");\n$(\"h1\").replaceWith(\"<h1></h1>\");\n$(\".subscribe_link\").replaceWith(\"<span class=\\\"subscribe_link\\\">Subscribe Now for $190 \u203a</span>\");\n$(\".subscribe_link\").replaceWith(\"<span class=\\\"subscribe_link\\\">Subscribe Now&nbsp;</span>\");\n$(\"h1\").css({\"background-image\":\"url(//cdn.optimizely.com/img/62715456/8ae2a11893e3470db7c8123f96a95b11.jpg)\"});\n$(\".subscribe_link\").css({\"background-image\":\"url(//cdn.optimizely.com/img/62715456/c948825444ba46179b6e5083b0433fef.jpg)\"});\n$(\"#pw_info_column_l > h2\").css({\"background-image\":\"url(//cdn.optimizely.com/img/62715456/fa604ed833724ca3b09a400aae57338d.jpg)\"});","name":"Variation #1"}},"experiments":{"82074850":{"name":"CRO Homepage","variation_ids":["82686826","82849250"],"conditions":[{"type":"url","values":[{"value":"http://www.consumerreports.org/cro/index.htm","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"118158173":{"name":"Ecommerce Test","variation_ids":["118092600","118041734"],"conditions":[{"type":"url","values":[{"value":"https://ec.consumerreports.org/ec/cro/order.htm","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"125804593":{"name":"CBDP Cross-Sell (Cars Referral)","enabled":true,"variation_ids":["125773506","125797593"],"enabled_variation_ids":["125773506","125797593"],"variation_weights":{"125773506":5000,"125797593":5000},"conditions":[{"type":"referrer","values":[{"value":"http://www.consumerreports.org/cro/cars/","match":"substring"}]},{"type":"url","values":[{"value":"https://ec.consumerreports.org/ec/cro/order.htm","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"122643947":{"name":"CBDP Cross-Sell","variation_ids":["122699407","122668701"],"conditions":[{"type":"query","values":[{"value":"123","key":"test"}]},{"not":true,"type":"query","values":[{"value":"IW27CDIP1","key":"INTKEY"}]},{"type":"url","values":[{"value":"https://ec.consumerreports.org/ec/cro/order.htm","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"73859119":{"name":"CRO Production Vacuum Cleaner SEO Page Test (Alpha)","variation_ids":["73604555","73725726"],"conditions":[{"type":"url","values":[{"value":"http://www.consumerreports.org/cro/vacuum-cleaner-reviews.htm","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"83696600":{"name":"SEM Branded (Test)","variation_ids":["83552873","83789051"],"conditions":[{"type":"url","values":[{"value":"http://web.consumerreports.org/test/SEM/version5.htm","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"113310584":{"name":"CR Mag iPad Test","variation_ids":["113380188","113340381"],"conditions":[{"type":"location","values":["US"]},{"not":true,"type":"query","values":[{"value":"IW27CDIP1","key":"INTKEY"}]},{"type":"url","values":[{"value":"https://ec.consumerreports.org/ec/cr/order.htm","match":"substring"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"117418037":{"name":"Digital Camcorder Paywall","variation_ids":["117320499","117322495"],"conditions":[{"type":"code","value":"$optimizelyVar == \"franchisePaywall\""},{"type":"query","values":[{"value":"123456","key":"test"}]},{"type":"url","values":[{"value":"http://consumerreports.org/cro/electronics-computers/audio-video/camcorders/","match":"substring"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"78362424":{"name":"Consumer Home Page","variation_ids":["78394467","78400210"],"conditions":[{"type":"url","values":[{"value":"http://www.consumerreports.org/cro/index.htm","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}]},"76225628":{"name":"Simple Light Box Demo","variation_ids":["76272040","76274047"],"conditions":[{"type":"url","values":[{"value":"http://www.consumerreports.org/cro/vacuum-cleaner-reviews.htm","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}],"css":"#facebox {\n \n    /* overlay is hidden before loading */\n    display:none;\n \n    /* standard decorations */\n    width:400px;\n    border:10px solid #666;\n \n    /* for modern browsers use semi-transparent color on the border. nice! */\n    border:10px solid rgba(82, 82, 82, 0.698);\n \n    /* hot CSS3 features for mozilla and webkit-based browsers (rounded borders) */\n    -moz-border-radius:8px;\n    -webkit-border-radius:8px;\n  }\n \n  #facebox div {\n    padding:10px;\n    border:1px solid #3B5998;\n    background-color:#fff;\n    font-family:\"lucida grande\",tahoma,verdana,arial,sans-serif\n  }\n \n  #facebox h2 {\n    margin:-11px;\n    margin-bottom:0px;\n    color:#fff;\n    background-color:#6D84B4;\n    padding:5px 10px;\n    border:1px solid #3B5998;\n    font-size:20px;\n  }"},"116677693":{"name":"Simple Light Box Demo (1)","variation_ids":["116816503","116686635"],"conditions":[{"type":"url","values":[{"value":"http://www.consumerreports.org/cro/vacuum-cleaner-reviews.htm","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}],"css":"#facebox {\n \n    /* overlay is hidden before loading */\n    display:none;\n \n    /* standard decorations */\n    width:400px;\n    border:10px solid #666;\n \n    /* for modern browsers use semi-transparent color on the border. nice! */\n    border:10px solid rgba(82, 82, 82, 0.698);\n \n    /* hot CSS3 features for mozilla and webkit-based browsers (rounded borders) */\n    -moz-border-radius:8px;\n    -webkit-border-radius:8px;\n  }\n \n  #facebox div {\n    padding:10px;\n    border:1px solid #3B5998;\n    background-color:#fff;\n    font-family:\"lucida grande\",tahoma,verdana,arial,sans-serif\n  }\n \n  #facebox h2 {\n    margin:-11px;\n    margin-bottom:0px;\n    color:#fff;\n    background-color:#6D84B4;\n    padding:5px 10px;\n    border:1px solid #3B5998;\n    font-size:20px;\n  }"}},"click_goals":[{"event_name":"custom_event","experiments":[78362424],"selector":"a"},{"event_name":"bb_button_click","experiments":[101028200],"selector":".hideImageOnPrint > img"}],"version":"www-master-918.362549028469980445","admin_account_id":62715456,"www_host":"www","project_id":69071259,"revision":123};

//<esi:remove>
/*</esi:remove><esi:remove>These interleaving comments are in case esi isn't processed.</esi:remove>
<esi:try><esi:attempt>
var GEOTARGETING = {
  'city': "<esi:vars>$(GEO{'city'})</esi:vars>",
  'continent': "<esi:vars>$(GEO{'continent'})</esi:vars>",
  'country': "<esi:vars>$(GEO{'country_code'})</esi:vars>",
  'region': "<esi:vars>$(GEO{'region_code'})</esi:vars>"
};</esi:attempt></esi:try><esi:remove>*/ //</esi:remove>


var optly={nativity:{}};optly.nativity.getNativeGetElementsByClassName=function(){var a=document.getElementsByClassName;if(!optly.nativity.isNativeFunction(a))var a=(window.optimizely||{}).getElementsByClassName,b=(window.optly||{}).getElementsByClassName,a=optly.nativity.isNativeFunction(a)?a:optly.nativity.isNativeFunction(b)?b:null;return a};optly.nativity.isNativeFunction=function(a){return a&&-1!==String(a).indexOf("[native code]")};optly.Cleanse={};optly.Cleanse.each=function(a,b,c){var f=!!Object.prototype.__lookupGetter__,d;for(d in a)if(a.hasOwnProperty(d)){var g=f?a.__lookupGetter__(d):null;try{b.call(c,d,!g?a[d]:null,g)}catch(e){}}};
optly.Cleanse.finish=function(){if(optly.Cleanse.running){optly.Cleanse.running=!1;optly.Cleanse.each(optly.Cleanse.types,function(a,b){Object.prototype.__defineGetter__&&optly.Cleanse.each(optly.Cleanse.getters[a],function(c,e){b.prototype.__defineGetter__(c,e);optly.Cleanse.log("restored getter",a,c)});optly.Cleanse.each(optly.Cleanse.properties[a],function(c,e){b.prototype[c]=e;optly.Cleanse.log("restored property",a,c)})});optly.Cleanse.unfixGetElementsByClassName();optly.Cleanse.log("finish");
var a=window.console;if((-1!==window.location.hash.indexOf("optimizely_log=true")||-1!==window.location.search.indexOf("optimizely_log=true"))&&a&&a.log)for(var b=optly.Cleanse.logs,c=0;c<b.length;c++)a.log(b[c])}};optly.Cleanse.log=function(a,b,c){b?(b=b.replace(/_/g,""),optly.Cleanse.logs.push("Optimizely / Info / Cleanse / "+a+": "+b+"."+c)):optly.Cleanse.logs.push("Optimizely / Info / Cleanse / "+a)};
optly.Cleanse.start=function(){var a=window.location.hostname;if(!(-1!==a.indexOf("optimizely")&&-1===a.indexOf("edit")&&-1===a.indexOf("preview")&&-1===a.indexOf("test"))){optly.Cleanse.log("start");optly.Cleanse.running=!0;for(var b in optly.Cleanse.types)optly.Cleanse.types[b]||delete optly.Cleanse.types[b];optly.Cleanse.each(optly.Cleanse.types,function(a,b){optly.Cleanse.getters[a]={};optly.Cleanse.properties[a]={};optly.Cleanse.each(b.prototype,function(d,g,e){e?(optly.Cleanse.getters[a][d]=
e,optly.Cleanse.log("cleansed getter",a,d)):(optly.Cleanse.properties[a][d]=g,optly.Cleanse.log("cleansed property",a,d));delete b.prototype[d]})});optly.Cleanse.fixGetElementsByClassName();optly.Cleanse.hasRunStart=!0}};
optly.Cleanse.fixGetElementsByClassName=function(){if(!optly.nativity.isNativeFunction(document.getElementsByClassName)){var a=optly.nativity.getNativeGetElementsByClassName();a?(optly.Cleanse.getElementsByClassName=document.getElementsByClassName,document.getElementsByClassName=a):optly.Cleanse.log("Error: native HTMLElement.prototype.getElementsByClassName missing")}};
optly.Cleanse.unfixGetElementsByClassName=function(){optly.Cleanse.getElementsByClassName&&(document.getElementsByClassName=optly.Cleanse.getElementsByClassName,optly.Cleanse.getElementsByClassName=null)};optly.Cleanse.getElementsByClassName=null;optly.Cleanse.getters={};optly.Cleanse.logs=[];optly.Cleanse.properties={};optly.Cleanse.types={HTMLElement_:window.HTMLElement,Object_:Object};window.optly=window.optly||{};window.optly.Cleanse={finish:optly.Cleanse.finish,logs:optly.Cleanse.logs,start:optly.Cleanse.start};optly.domain={};optly.domain.check=function(a){for(var b=0,c=optly.domain.BLACK_LIST.length;b<c;b++){var f=optly.domain.BLACK_LIST[b];if(f.test(a))return!1}b=0;for(c=optly.domain.WHITE_LIST.length;b<c;b++)if(f=optly.domain.WHITE_LIST[b],f.test(a))return!0;return!1};optly.domain.BLACK_LIST=[/(edit|preview)(-local)?\.optimizely\.com/,/optimizelyedit\.appspot\.com/];optly.domain.WHITE_LIST=[/^(https:)?\/\/www\.local\//,/^(https:)?\/\/([A-Za-z0-9\-]+\.)?optimizely\.com\//,/^(https:)?\/\/([A-Za-z0-9\-]+\.)?optimizely(-hrd)?\.appspot\.com\//];
optly.Cleanse.start();
var $=jQuery;
var g=void 0,i=!0,j=null,m=!1,aa=window.OPTIMIZELY_TEST_MODULE,ba="com local net org xxx edu es gov biz info fr nl ca de kr it me ly tv mx cn jp il in iq".split(" "),ca=/\/\* _optimizely_variation_url( +include="([^"]*)")?( +exclude="([^"]*)")?( +match_type="([^"]*)")?( +include_match_types="([^"]*)")?( +exclude_match_types="([^"]*)")? +\*\//;function da(a){a=a||{};if(n){a&&a.sVariable&&(ea=a.sVariable);var b=ea||("undefined"!==typeof window.s?window.s:j);if(b)if(fa){if((a=ga)&&b)try{o("Integrator","Fixing SiteCatalyst referrer to %s",a),b.referrer=String(a)}catch(c){o("Integrator","Error setting SiteCatalyst referrer: %s",c)}o("Integrator","Tracking with SiteCatalyst");p(ha(),function(a){var c=q(a),a=r(c,a,100,100,25,i),f=a.key+": "+a.value,a=[],h=v(c,"site_catalyst_evar")||j,c=v(c,"site_catalyst_prop")||j;h!==j&&a.push("eVar"+h);c!==
j&&a.push("prop"+c);p(a,function(a){o("Integrator","Setting SiteCatalyst %s='%s'",a,f);b[a]=f})})}else ja=i;else w("Integrator","Error with SiteCatalyst integration: 's' variable not defined")}}function ka(a,b){return a.replace(/[^a-zA-Z0-9\.\~\!\*\(\)\']+/g,"_").substring(0,b)}
function r(a,b,c,d,e,f){a=la+(v(a,"name")||"");b=ma(b);1<b.length?(b=$.map(b,function(a){return a.substr(0,e-1)}),b=b.join("~")):b=b[0];f?(a=ka(a,c),b=ka(b.replace("#",""),d)):(a=a.substring(0,c),b=b.substring(0,d));return{key:a,value:b}}
function na(){if(n){var a=y("optimizelyReferrer");a&&0<a.length&&(ga=a,z("optimizelyReferrer",""));if(a=ga)try{o("Integrator","Fixing _gaq._setReferrerOverride with %s",a),_gaq.push(["_setReferrerOverride",a])}catch(b){o("Integrator","Error setting Google Analytics referrer: %s",b)}p(ha(),function(a){var b=q(a);if(v(b,"chartbeat")){var c=r(b,a,100,100,15,m);oa=c.key+": "+c.value;try{o("Integrator","Calling _cbq.push");_cbq.push(["_optlyx",oa])}catch(h){w("Integrator","Error sending Chartbeat data for "+
A(b))}}if(v(b,"crazyegg")){c=r(b,a,100,100,15,m);try{o("Integrator","Defining CE_SNAPSHOT_NAME");window.CE_SNAPSHOT_NAME=c.key+": "+c.value}catch(k){w("Integrator","Error sending CrazyEgg data for "+A(b))}}if(pa(b)){var c=pa(b),l=0;B(c)&&(l=c.slot||l);var c=l,l=pa(b),t="";B(l)&&(t=l.tracker||t);l=t;t=r(b,a,28,24,5,i);try{var D="";l!==""&&(D=l+".");o("Integrator","Calling _gaq._setCustomVar for slot %d",c);_gaq.push([D+"_setCustomVar",c,t.key,t.value,2])}catch(E){w("Integrator","Error sending Google Analytics data for "+
A(b))}}if(C("kissmetrics")){c=r(b,a,100,100,15,i);l={};l[c.key]=c.value;try{o("Integrator","Calling _kmq.set");_kmq.push(["set",l])}catch(x){w("Integrator","Error sending KISSmetrics data for "+A(b))}}if(v(b,"mixpanel")){a=r(b,a,100,100,15,m);c={};c[a.key]=a.value;try{o("Integrator","Calling mixpanel.push");mixpanel.push(["register",c])}catch(ia){w("Integrator","Error sending Mixpanel data for "+A(b))}}});a=y("optimizelyChartbeat")||"";try{if(a&&oa!=a&&(o("Integrator","Calling _cbq.push for referral"),
_cbq.push(["_optlyr",a])),oa!=a)o("Integrator","Set new Chartbeat referral cookie."),z("optimizelyChartbeat",oa)}catch(c){w("Integrator","Error sending Chartbeat referral for "+a)}fa=i;ja&&(da(),ja=m)}}function ha(){var a=F.concat(G),b=[];p(qa(),function(c){var d=q(c),e=m;if(ra(d)){var f=sa(c);H(a,d)&&(o("Integrator",'"%s" relevant because experiment active',f),e=i);ta(ua(c))&&(o("Integrator",'"%s" relevant because it redirects',f),e=i);e&&b.push(c)}});return b}
var ja=m,oa="",fa=m,la="Optimizely ",ea=j,ga=j;function va(a,b,c){wa=i;I&&c!==i&&J.e(document.location.href);a=String(a);b=String(b);if("-1"===b){L[a]&&delete L[a];xa[a]&&delete xa[a];for(b=0;b<M.length;b++)M[b].j===a&&M.splice(b,1);ya()}else if((c=N(a))&&0<c.length){a:{for(var c=N(a),d=0;d<c.length;d++){var e=Aa(c[d]);if(H(e,b)){c=c[d];break a}}c=""}Ba[a]=Ba[a]||{};Ba[a][c]=b;w("Distributor","Preferring variation partial "+b+" of section "+c+" of experiment "+a);a=Ca(a);1===a.length&&Da(a[0],"api.bucketUser",m,i)}else Da(b,"api.bucketUser",m,
i);Ea()}function Fa(a){a&&"tracking"===a||(I=m);n=m}
function Ga(){Ha={};O={};Ia={};p(qa(),function(a){var b=q(a);Ha[b]=a.split("_");var c=O,d;a:{var l=q(a);d=N(l);if(0===d.length){d=Ja(l);for(l=0;l<d.length;l++)if(d[l]===a){d=l;break a}}else{for(var l=a.split("_"),t=[],D=0;D<d.length;D++)for(var E=Aa(d[D]),x=0;x<E.length;x++)E[x]===l[D]&&t.push(x);if(t!==[]){d=t;break a}}d=-1}c[b]=d;Ia[b]=sa(a)});var a=Ka();P={experiments:{},sections:{},state:{},variations:{},visitor:{}};for(var b=0;b<a.length;b++){var c=a[b],d={};d.code=v(c,"code")||"";d.name=v(c,
"name")||"";d.manual=v(c,"manual")||m;d.section_ids=N(c);d.variation_ids=Ja(c);P.experiments[c]=d}a=La(C("sections")||{});for(b=0;b<a.length;b++)c=a[b],d={},d.name=C("sections",c,"name")||"",d.variation_ids=Aa(c),P.sections[c]=d;a=La(C("variations")||{});for(b=0;b<a.length;b++)c=a[b],d={},d.name=sa(c),d.code=ua(c),P.variations[c]=d;a={};b=Ma();a.browser={ff:"Firefox",ie:"Internet Explorer",safari:"Safari",gc:"Google Chrome",opera:"Opera"}[b]||"";b=Na();a.location={city:b.city,state:b.region,country:b.country};
a.params={};c=Oa();c.reverse();b=0;for(d=c.length;b<d;b++)a.params[c[b][0]]=decodeURIComponent(c[b][1]);a.referrer=String(document.referrer);a.mobile="unknown"!==Pa();b=navigator.appVersion||"";c="";-1!==b.indexOf("Win")&&(c="Windows");-1!==b.indexOf("Mac")&&(c="Mac");-1!==b.indexOf("Linux")&&(c="Linux");a.os=c;P.visitor=a;b={};b.activeExperiments=F||[];b.variationIdsMap=Ha;b.variationMap=O;b.variationNamesMap=Ia;P.state=b;Qa(window.optimizely,{activeExperiments:F,allExperiments:Ra(),all_experiments:Ra(),
data:P,variationIdsMap:Ha,variationMap:O,variationNamesMap:Ia,variation_map:O})}var P={},Ha={},O={},Ia={};function Sa(a,b){var b=b===i,c,d=j;p(M,function(b){a==b.j&&(d=b.id)});if((c=d)&&0<c.length)return w("Distributor","Not distributing experiment "+a+" (already in plan)"),i;if(b||a in L)return w("Distributor","Not distributing experiment "+a+" (is ignored)"),m;c=v(a,"enabled_variation_ids")||[];if(0===c.length)return w("Distributor","Permanently ignoring experiment "+a+" (no enabled variations)"),Ta(a),m;var e=v(a,"ignore")||0;if(e>Math.floor(100*Math.random()))return w("Distributor","Permanently ignoring experiment "+
a+"("+e+"% likelihood)"),Ta(a),m;e=c;Ba[a]!==g&&(w("Distributor","Taking into account bucketUser variations for experiment "+a),e=Ca(a));var f;f=e;var h=[],k=v(a,"variation_weights")||{};p(f,function(a){h.push(k[a])});f=Ua(h);e=e[f];w("Distributor","Picked variation "+e+" [index "+f+" of "+c.length+"]");Da(e,"distributor",m);return i}function Ca(a){var b=[];p(v(a,"enabled_variation_ids")||[],function(c){var d=i,e;for(e in Ba[a])-1===c.indexOf(Ba[a][e])&&(d=m);d&&b.push(c)});return b}var Ba={};function Oa(){var a=window.location.search||"";0===a.indexOf("?")&&(a=a.substring(1));for(var a=a.split("&"),b=[],c=0;c<a.length;c++){var d="",e="",f=a[c].split("=");0<f.length&&(d=f[0]);1<f.length&&(e=f[1]);b.push([d,e])}return b};function Va(a){return a&&-1!==String(a).indexOf("[native code]")};function ta(a){return-1!==a.indexOf("_optimizely_redirect")}function Wa(a){return-1!==a.indexOf("_optimizely_redirect_no_cookie")}function Xa(a){if(Wa(a||""))return i;a=y("optimizelyRedirect");return a===g||a===j||""===a};function Ya(){var a=navigator.userAgent,b=Za([{id:"gc",substring:"Chrome",g:"Chrome"},{id:"safari",N:navigator.vendor,substring:"Apple",g:"Version"},{id:"ff",substring:"Firefox",g:"Firefox"},{id:"opera",prop:window.opera,g:"Opera"},{id:"ie",substring:"MSIE",g:"MSIE"},{id:"mo",substring:"Gecko",g:"rv"}],a),c=Za([{id:"android",substring:"Android"},{id:"blackberry",substring:"BlackBerry"},{id:"ipad",substring:"iPad"},{id:"iphone",substring:"iPhone"},{id:"ipod",substring:"iPod"},{id:"windows phone",substring:"Windows Phone"}],
a),d=j,e=b.g;e&&(d=$a(a,e)||$a(navigator.appVersion,e));return{z:b.id||"unknown",A:d||"unknown",L:c.id||"unknown"}}function $a(a,b){var c=a.indexOf(b),d=j;-1!==c&&(c+=b.length+1,d=parseFloat(a.substring(c)));return d}function Za(a,b){return p(a,function(a){var d=a.N||b;if(d&&-1!==d.indexOf(a.substring)||a.prop)return a})||{}};var ab=0,I=i,Q="",bb=m,R=m,cb=m,wa=m,db=m,n=i;var eb,fb;
(function(){function a(a){d.lastIndex=0;return d.test(a)?'"'+a.replace(d,function(a){var b=h[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function b(c,d){var h,E,x,ia,za=e,K,u=d[c];"function"===typeof k&&(u=k.call(d,c,u));switch(typeof u){case "string":return a(u);case "number":return isFinite(u)?String(u):"null";case "boolean":case "null":return String(u);case "object":if(!u)return"null";e+=f;K=[];if("[object Array]"===Object.prototype.toString.apply(u)){ia=u.length;
for(h=0;h<ia;h+=1)K[h]=b(h,u)||"null";x=0===K.length?"[]":e?"[\n"+e+K.join(",\n"+e)+"\n"+za+"]":"["+K.join(",")+"]";e=za;return x}if(k&&"object"===typeof k){ia=k.length;for(h=0;h<ia;h+=1)"string"===typeof k[h]&&(E=k[h],(x=b(E,u))&&K.push(a(E)+(e?": ":":")+x))}else for(E in u)Object.prototype.hasOwnProperty.call(u,E)&&(x=b(E,u))&&K.push(a(E)+(e?": ":":")+x);x=0===K.length?"{}":e?"{\n"+e+K.join(",\n"+e)+"\n"+za+"}":"{"+K.join(",")+"}";e=za;return x}}var c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,f,h={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;eb=function(a,c,d){var h;f=e="";if("number"===typeof d)for(h=0;h<d;h+=1)f+=" ";else"string"===typeof d&&(f=d);if((k=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return b("",{"":a})};fb=function(a,b){function d(a,c){var e,f,h=a[c];
if(h&&"object"===typeof h)for(e in h)Object.prototype.hasOwnProperty.call(h,e)&&(f=d(h,e),f!==g?h[e]=f:delete h[e]);return b.call(a,c,h)}var e,a=String(a);c.lastIndex=0;c.test(a)&&(a=a.replace(c,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===
typeof b?d({"":e},""):e;throw new SyntaxError("JSON.parse");}})();var J={v:function(a,b){var c={},c=b&&gb(b)?{revenue:Number(b)}:b;J.e(a,"custom",c)},e:function(a,b,c){c=c||{};hb(a,c);n&&(J.l.push({name:a,type:b,options:c}),J.u?(J.q(),w("Tracker","Tracking event '"+a+"'")):w("Tracker","Queued tracking event '"+a+"'"))},D:function(){$("html").one("mousedown",ib(J.e,"engagement"))},F:function(a){return function(){J.M(a)}},m:function(){var a=y("optimizelyPendingLogEvents")||"[]",b=[];try{b=fb(a)}catch(c){}if(S(b))for(var a=0,d=b.length;a<d;a++){var e=b[a];if("string"!==
typeof e){b=[];break}else try{fb(e);b=[];break}catch(f){}}else b=[];return b},J:function(a,b){J.H(a)?J.K(a,b):J.o(a,b)},o:function(a,b){w("Tracker","Making log image request.");var c=new Image;c.onload=b;var d=jb("log_host")+"/event?"+a,d=J.O(d);c.src=d;J.images.push(c)},K:function(a,b){w("Tracker","Making log XHR request.");var c=jb("log_host")+"/event?"+a;try{var d=new XMLHttpRequest;if("withCredentials"in d)d.onerror=b,d.onload=b,d.open("GET",c,i),d.withCredentials=i,d.send();else throw"CORS with credentials is not supported.";
}catch(e){w("Tracker","Found that XHR with credentials is not supported in this browser."),J.o(a,b)}},H:function(a){return-1!==a.indexOf(J.k)},O:function(a){return a.replace("&"+J.k,"")},p:function(a){var b=(a=a===i||"true"===a)?"true":"false";a?(z("optimizelyOptOut",b,31536E4),z("optimizelyBuckets",b,31536E4),alert("You have successfully opted out of Optimizely for this domain.")):(z("optimizelyOptOut",b,31536E4),alert("You are NOT opted out of Optimizely for this domain."))},M:function(a){for(var b=
J.m(),c=0,d=b.length;c<d;c++)if(b[c]===a){b.splice(c,1);break}J.t(b);w("Tracker","Removed a pending log event from the pending events cookie.")},l:[],u:m,q:function(){var a=["a="+kb(),"d="+lb(),"y="+!!C("ip_anonymization")];wa&&a.push("override=true");p(qa(),function(b){var c=q(b);a.push("x"+c+"="+b)});a.push("f="+mb().join(","));var b=a.join("&"),c=[];p(J.l,function(a){var b=[];a.name&&b.push("n="+encodeURIComponent(a.name));a.options.revenue&&b.push("v="+encodeURIComponent(a.options.revenue));a.options.anonymous!==
i&&b.push("u="+nb());"pageview"===a.type&&b.push(J.k);b.push("t="+ +new Date);c.push(b.join("&"));if("custom"===a.type)try{J.Q(a.name)}catch(d){}});var d=c.concat(J.m());J.t(d);d=J.r?c:d;J.r=i;for(var e=0,f=d.length;e<f;e++){var h=d[e];J.J(b+"&"+h,J.F(h))}J.l=[];J.u=i},t:function(a){for(var b=eb(a);1536<b.length;)a=a.slice(0,-1),b=eb(a);z("optimizelyPendingLogEvents",b,15)},Q:function(a){var b=nb(),c=y("optimizelyCustomEvents")||"{}";try{c=fb(c)}catch(d){c={}}var e=c[b]||(c[b]=[]),e=S(e)?e:[];-1!==
$.inArray(a,e)&&e.splice($.inArray(a,e),1);e.push(a);10<e.length&&e.shift();c[b]=e;var a=0,e=j,f=0,h;for(h in c)c.hasOwnProperty(h)&&(a++,c[h].length>f&&h!==b&&(e=h,f=c[h].length));10<a&&e!==j&&delete c[e];z("optimizelyCustomEvents",eb(c),31536E4)},images:[],r:m,k:"wxhr=true"};function ob(a,b){var c;c=$.trim(b);var d="";if(window.optimizely&&window.optimizely.data)if(d=c.match(pb))d=window.optimizely.data.visitor.params[d[1]],d===g&&(d="");else{for(var d=c.split("."),e=window.optimizely,f=0,h=d.length;f<h;f++)if(e=e[d[f]],e===g||e===j){e="";break}d=""+e}w("Template",c+" evaluated to: '"+d+"'");return d}var qb=/\{\{ *optimizely\.([^\n\r{}<>]*)\}\}/g,pb=/^data\.visitor\.params\.(.*)$/;function hb(a,b){var b=b||{},c=window.optimizelyPreview;c||(c=[],window.optimizelyPreview=c);rb||(c.push(["addEvent",window.location.href,{type:"url"}]),rb=i);c.push(["addEvent",a,b])}function sb(){w("Preview","Will load preview script");var a=[jb("www_host",i),"/js/preview-",C("version"),".js?account_id=",lb()].join("");w("Preview","Now loading preview script "+a);tb(a)}var rb=m,ub=m,vb=[];function y(a){var b=a+"=",c=[];p((document.cookie||"").split(/\s*;\s*/),function(a){0===a.indexOf(b)&&c.push(decodeURIComponent(a.substr(b.length)))});var d=c.length;1<d&&o("Cookie","Values found for %s: %s",a,d);return 0===d?j:c[0]}
function z(a,b,c){var d=T||U,e=document.location.hostname;!T&&C("remote_public_suffix")&&wb.push({w:c,name:a,value:b});T&&T!==U&&(xb(a,e),xb(a,U));yb(a,b,d,c);var f=y(a);f===b?o("Cookie","Successful set %s=%s on %s",a,b,d):(o("Cookie","Setting %s on %s apparently failed (%s != %s)",a,d,f,b),o("Cookie","Setting %s on %s",a,e),yb(a,b,e,c),f=y(a),f===b&&(o("Cookie","Setting %s on %s worked; saving as new public suffix",a,e),U=e))}
function xb(a,b){o("Cookie","Deleting %s on %s",a,b);document.cookie=[a,"=; domain=.",b,"; path=/; expires=",(new Date(0)).toUTCString()].join("")}function zb(a){T=a.public_suffix;o("Cookie","Public suffix request returned: %s",T);z("optimizelyPublicSuffix",T,31536E4);if(T!==U)for(;0<wb.length;)a=wb.shift(),z(a.name,a.value,a.w);wb=[]}
function Ab(a){var a=jb("api_host")+"/iapi/public_suffix?host="+encodeURIComponent(a),b="callback"+Math.random().toString().replace("0.",""),c=document,d=c.head||c.getElementsByTagName("head")[0]||c.documentElement,c=c.createElement("script");window.optimizely[b]=zb;c.async="async";c.src=[a,-1!==a.indexOf("?")?"&":"?","callback=optimizely.",b].join("");d.insertBefore(c,d.firstChild)}
function yb(a,b,c,d){a=[a,"=",encodeURIComponent(b),"; domain=.",c,"; path=/"];d&&a.push("; expires=",(new Date(+new Date+1E3*d)).toUTCString());document.cookie=a.join("")}var U="",T="",wb=[];var V;function Ma(){function a(){return V.z}V=V||Ya();Ma=a;return a()}function Bb(){function a(){return V.A}V=V||Ya();Bb=a;return a()}function nb(){var a=y("optimizelyEndUserId");a||(a="oeu"+ +new Date+"r"+Math.random(),z("optimizelyEndUserId",a,31536E4));return a}
function Na(){var a={};try{a=GEOTARGETING}catch(b){}var c="",d="",e="",f="";try{d=a.country.toUpperCase()||""}catch(h){d=""}try{e=a.region.toUpperCase()||""}catch(k){e=""}"N/A"===e&&(e="");try{f=a.city.toUpperCase()||""}catch(l){f=""}"N/A"===f&&(f="");try{c=a.continent.toUpperCase()||""}catch(t){c=""}"N/A"===c&&(c="");return{city:f,continent:c,country:d,region:e}}function Pa(){function a(){return V.L}V=V||Ya();Pa=a;return a()}var Cb=g;function Db(a){if(I){S(a)?Eb(a):(a=[],Eb());a=a.concat(G);G=[];for(var b=0;b<a.length;b++)H(F,a[b])||F.push(a[b]);a===g?a=[]:gb(a)&&(a=[a]);for(var b=qa(a),c=[],d=[],e=[],f=[],h=Fb(Gb(),function(a){return a.experiments?m:Hb(a.url_conditions||[])}),k=0,l=h.length;k<l;k++)c.push({i:h[k].event_name,f:h[k].selector,type:"event '"+h[k].event_name+"' (click goal)",h:i});p(a,function(a){var b={},h=v(a,"events")||{};p(h,function(a,c){b[a]=[c]});for(var h=Fb(Gb(),function(b){return H(b.experiments||[],a)}),
k=0;k<h.length;k++){var l=h[k];b[l.selector]||(b[l.selector]=[]);b[l.selector].push(l.event_name)}p(b,function(b,d){p(d,function(d){c.push({i:d,f:b,type:"event '"+d+"' (experiment "+a+")",h:i})})});h=v(a,"css")||"";k=v(a,"code")||"";(l=v(a,"html")||"")&&e.push({code:'$("body").append("<div style=\'display:none\'>'+l.replace(/([\f\n\r\t\\'"])/g,"\\$1")+'</div>");',f:"body",type:"global html (experiment "+a+")",h:i});h&&e.push({code:'$("body").append("<style>'+h.replace(/([\f\n\r\t\\'"])/g,"\\$1")+
'</style>");',f:"body",type:"global css (experiment "+a+")",h:i});k&&Ib(k,d,f)});p(b,function(a){for(var a=ua(a),a=a.split("\n"),b=[],c=i,e=0,h=a.length;e<h;e++){var k=$.trim(a[e]);if(k==="/* _optimizely_variation_url_end */")c=i;else if(k!==""){var l=ca.exec(k);if(l&&l.length===11){var u=l[2]?l[2].split(" "):[],k=l[4]?l[4].split(" "):[],dc=l[6]?l[6]:"substring",Mc=l[8]?l[8].split(" "):[],l=l[10]?l[10].split(" "):[];if(u.length>0){c=Jb(u,Mc,dc);c=Hb(c)}if(c&&k.length>0){c=Jb(k,l,dc);c=!Hb(c)}}else c&&
b.push(k)}}a=b.join("\n");Ib(a,d,f)});a=[];a.push.apply(a,d);a.push.apply(a,e);a.push.apply(a,f);a.push.apply(a,c);Kb.push.apply(Kb,a);Lb()}}
function Lb(){var a=m;Mb=j;for(w("Evaluator",Nb+" times waited");!a&&0<Kb.length;){w("Evaluator",Kb.length+" steps remaining");var b=Kb.shift(),c=b,a=m;if(c.R&&!Ob)w("Evaluator","Document not ready yet"),a=i;else if(c.h&&!Ob&&(c=c.f))for(var c=S(c)?c:[c],d=0;d<c.length;d++){var e=c[d];if(!(e===j||e===g||!e.length)&&0===$(e).length)w("Evaluator","'"+e+"' not found"),a=i}a?Kb.unshift(b):b.i?(w("Evaluator","Bound event "+b.i+" to selector "+b.f),Pb(b.f,b.i)):b.code&&(w("Evaluator","Run code: "+b.code),
Qb(b.code))}a?(Mb=setTimeout(Lb,0===Nb?10:50),Nb++):w("Evaluator",Nb+" total times waited")}
function Qb(a){a=a.replace(qb,ob);if(ta(a))if(w("Evaluator","Redirect detected"),Xa(a))w("Evaluator","OK to redirect"),Wa(a)||(w("Evaluator","NOT setting a redirect cookie"),z("optimizelyRedirect",window.location.href,5)),z("optimizelyReferrer",document.referrer||"http://www.optimizely.com/redirect-no-referrer");else{w("Evaluator","NOT OK to redirect");return}eval("var $j = $;");try{eval(a)}catch(b){var c=R;R=i;w("Evaluator","Error: "+b.message);w("Evaluator","Code: "+a);R=c;w("Evaluator","Failed to run code: "+
b.message)}}function Pb(a,b){if(!Rb[a]||!Rb[a][b]){var c="mousedown",d=Pa();if("iphone"===d||"ipad"===d||"ipod"===d)c="touchstart";$(a).bind(c,function(){J.e.call(J,b,"custom")});Rb[a]||(Rb[a]={});Rb[a][b]=c}}function Eb(a){a||(a=Ka());for(var b=0;b<a.length;b++){var c=a[b],d=Sb[c];d?(hb("Not activating "+A(c)+" because "+d+".",{type:"explanation"}),delete Sb[c]):hb("Activating "+A(c)+".",{type:"explanation"})}}var Rb={},F=[],G=G||[],Tb=0,Ob=m,Sb={},Kb=[],Mb=j,Nb=0;
$(function(){Ob=i;Mb!==j&&(w("Evaluator","Document is ready"),clearTimeout(Mb),0<Tb?setTimeout(Lb,Tb):Lb())});function lb(){return C("admin_account_id")}function Gb(){if(!Ub){var a=C("click_goals")||[];Ub=[];for(var b=0,c=a.length;b<c;b++)for(var d=a[b],e=d.selector.split(","),f=0,h=e.length;f<h;f++){var k=e[f];k&&(k={event_name:d.event_name,selector:k},d.experiments!==g?k.experiments=d.experiments:d.url_conditions!==g&&(k.url_conditions=d.url_conditions),Ub.push(k))}}return Ub}function mb(){var a=Fb(Ka(),ra);mb=function(){return a};return a}function Ra(){return C("experiments")||{}}
function Ka(){return La(C("experiments")||{})}function A(a){return'experiment "'+(v(a,"name")||"")+'" ('+a+")"}function N(a){return v(a,"section_ids")||[]}function Ja(a){return v(a,"variation_ids")||[]}function kb(){return C("project_id")}function Vb(a){var b={},c=C("public_suffixes")||{};p(c,function(a,c){p(c,function(c){b[c]=a})});Vb=function(a){return b[a]||""};return Vb.call(j,a)}function Aa(a){return C("sections",a,"variation_ids")||[]}
function ua(a){var b=[];p(a.split("_"),function(a){(a=C("variations",a,"code"))&&b.push(a)});return b.join("\n")}function q(a){var b={};p(Ka(),function(a){p(N(a),function(d){p(Aa(d),function(d){b[d]=a})});p(Ja(a),function(d){b[d]=a})});q=function(a){return b[a.split("_")[0]]||""};return q.call(j,a)}function sa(a){var b;return ma(a).join(b||", ")}function ma(a){var b=[];p(a.split("_"),function(a){b.push(C("variations",a,"name")||"Unnamed")});return b}function ra(a){return!!v(a,"enabled")}
function v(a,b){return C("experiments",a,b)}function pa(a){return v(a,"google_analytics")}function C(a){var b=DATA;if(p(arguments,function(a){a=b[a];if(B(a))b=a;else return j})!==j)return b}function jb(a,b){var c=C(a),d=document.location.protocol;"chrome-extension:"===d&&(d="http:");b&&(d="https:");return d+"//"+c+".optimizely.com"}var Ub=j;function Wb(a,b){b=b===i;w("Condition","Testing experiment "+a);var c=ra(a),d=v(a,"manual")||m;if(c){var c=v(a,"conditions")||[],e=i;p(c,function(b){var c=b.type;if(b.only_first_time&&Xb(a))w("Condition",c+" condition passed because it only gets checked when bucketing",i);else{var d=!b.not,l=(0,Yb[c])(b),b=l!==d,c="the visitor "+(l?"passed":"failed")+" a "+c+" targeting condition  when it needed to "+(d?"pass":"fail");w("Condition",c,!b);if(b)return e=m,Sb[a]=c,m}});if(e){if(!b&&d)return w("Condition",
" Failed for experiment "+a+" (manual activation mode)"),Sb[a]="it is set to use manual activation mode",m}else return w("Condition","Failed for experiment "+a+" (condition failed)"),m}else return w("Condition","Failed for experiment "+a+" (paused)"),Sb[a]="it is paused",m;return i}function Hb(a){for(var b=window.location.href,c=0;c<a.values.length;c++){var d=a.values[c],e=d.value,d=d.match,f=Zb(b,e,d);w("Condition","Testing URL "+b+" against  "+e+" ("+d+")",i);if(f)return i}return m}
var Yb={browser:function(a){var b=Ma(),c=Bb(),d=m,e=Pa();p(a.values,function(a){"unknown"!==e?(d="mobile"===a||a===e,w("Condition",e,i)):0===a.indexOf(b)&&(a=a.substr(b.length),d=""===a||a<=c&&c<Number(a)+1);if(d)return j});return d},code:function(a){a=a.value;if(a===g)return i;try{return Boolean(eval(a))}catch(b){return m}},cookies:function(a){for(var b=m,c=a.names||[],a=a.values||[],d=0;d<c.length;d++){var e=y(c[d]);if(b=B(a[d])&&""!==$b(a[d])?b||a[d]===e:b||e!==j&&e!==g)return i}return m},event:function(a){var b=
y("optimizelyCustomEvents")||"{}";try{b=fb(b)}catch(c){b={}}var d=b[nb()]||[];S(d)||(d=[]);var e=m;p(a.values,function(a){if(-1!==$.inArray(a,d))return e=i});return e},language:function(a){var b,c="";try{c=navigator.userLanguage||window.navigator.language,c=c.toLowerCase()}catch(d){c=""}b=c;var e=m;p(a.values,function(a){if(e="any"===a||0===b.indexOf(a))return j});return e},location:function(a){for(var b=Na(),c=0;c<a.values.length;c++){var d=a.values[c].split("|"),e=$.trim(d[0]),f=$.trim(d[1]),h=
$.trim(d[2]),k=$.trim(d[3]);switch(d.length){case 1:if(b.country===e)return i;break;case 2:if(b.region===f&&b.country===e)return i;break;case 3:if(b.city===h&&(b.region===f||""===f)&&b.country===e)return i;break;case 4:if(b.continent===k)return i}}return m},query:function(a){if(0===a.values.length)return i;var b=m,c=Oa();p(a.values,function(a){for(var e=a.key,a=a.value||"",f=0;f<c.length;f++){var h=c[f],k=h[0],h=h[1];if(""!==e&&e===k&&(""===a||a===h))return b=i}});return b},referrer:function(a){for(var b=
document.referrer,c=0;c<a.values.length;c++){var d=a.values[c],e=d.value,d=d.match,f=Zb(b,e,d);w("Condition","Testing referrer "+b+" against  "+e+" ("+d+")",i);if(f)return i}return m},url:Hb,visitor:function(a){var b=Cb?"returning":"new";switch(a.value){case "new":if("returning"===b)return m;break;case "returning":return"returning"===b}return i}};function Zb(a,b,c){switch(c){case "exact":return a=ac(a),a=bc(a,"optimizely_log"),a=bc(a,"optimizely_verbose"),a===ac(b);case "regex":try{return Boolean(a.match(b))}catch(d){return m}case "simple":return a=ac(cc(a)),b=ac(cc(b)),a===b;case "substring":return a=ac(a),b=ac(b),-1!==a.indexOf(b);default:return m}}function cc(a){var b=a.indexOf("?");-1!==b&&(a=a.substring(0,b));b=a.indexOf("#");-1!==b&&(a=a.substring(0,b));return a}
function bc(a,b){return a.replace("&"+b+"=true","").replace("?"+b+"=true&","?").replace("?"+b+"=true","")}function ac(a){for(var a=a.toLowerCase(),b=a.charAt(a.length-1);"/"===b||"&"===b||"?"===b;)a=a.substring(0,a.length-1),b=a.charAt(a.length-1);for(var b=ec.length,c=0;c<b;c++){var d=ec[c];0===a.indexOf(d)&&(a=a.substring(d.length))}return a}var ec=["http://edit.local/","http://preview.optimizely.com/","http://","https://","www."];function w(a,b,c){fc.push({C:new Date,B:a,message:b,n:c||m});gc&&hc()}function hc(){R&&(p(fc,function(a){if(!a.I&&(!a.n||a.n===cb)){var b=+a.C;o(a.B,a.message+(" [time "+(ic?b-ic:0)+" +"+(jc?b-jc:0)+"]"));jc=b;ic||(ic=b);a.I=i}}),gc=i)}var jc=j,ic=j,fc=[],gc=m;function H(a,b){for(var c=0;c<a.length;c++)if(b==a[c])return i;return m}function Ua(a){var b=a.length;if(0===b)return j;if(1===b)return 0;for(var c=0,d=0;d<b;d++)c+=a[d];c*=Math.random();for(d=0;d<b;d++){if(c<a[d])return d;c-=a[d]}return Math.floor(Math.random()*b)}function ib(a,b){var c=kc(arguments,1);return function(){var b=kc(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}
function p(a,b){var c=j;if(S(a))for(var d=a.length,e=0;e<d&&!(c=b.call(g,a[e],e),B(c));++e);else for(d in a)if(Object.prototype.hasOwnProperty.call(a,d)&&(c=b.call(g,d,a[d]),B(c)))break;return c}function Qa(a,b){p(b,function(b,d){a[b]=d})}function Fb(a,b){for(var c=[],d=0,e=a.length;d<e;d++){var f=a[d];b(f)&&c.push(f)}return c}function lc(a,b){return p(b,function(b){if(b===a)return i})||m}function S(a){return a&&"object"===typeof a&&a.length&&"number"===typeof a.length}
function B(a){return"undefined"!==typeof a}function gb(a){return("number"===typeof a||"string"===typeof a)&&Number(a)==a}function La(a){La=Object.S||function(a){var c=[];p(a,function(a){c.push(a)});return c};return La.call(j,a)}function tb(a){var b=document.head||document.getElementsByTagName("head")[0]||document.documentElement,c=document.createElement("script");c.src=a;c.type="text/javascript";b.appendChild(c)}
function o(a,b,c){var d=window.console;if(R&&d&&d.log){var e=kc(arguments,1);e[0]="Optimizely / "+a+" / "+b;Function.prototype.apply.call(d.log,d,e)}}function kc(a,b){return Array.prototype.slice.call(a,b||0,a.length)}function $b(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function oc(a){return function(b){if("object"===typeof b&&pc()){var c=j,d;for(d in b)b.hasOwnProperty(d)&&(c=a.call(this,d,b[d]));return c}return a.apply(this,arguments)}}function pc(){for(var a in{})return i;return m};function qc(){for(var a=Q,b=0,c=rc.length;b<c;b++){var d=rc[b];if(d.test(a))return m}b=0;for(c=sc.length;b<c;b++)if(d=sc[b],d.test(a))return i;return m}var rc=[/(edit|preview)(-local)?\.optimizely\.com/,/optimizelyedit\.appspot\.com/],sc=[/^(https:)?\/\/www\.local\//,/^(https:)?\/\/([A-Za-z0-9\-]+\.)?optimizely\.com\//,/^(https:)?\/\/([A-Za-z0-9\-]+\.)?optimizely(-hrd)?\.appspot\.com\//];function Da(a,b,c,d){var c=c===i,d=d===i,e=m,f=q(a);if(f&&(d||!Xb(f))){e=i;if(d&&Xb(f))for(d=0;d<M.length;d++)M[d].j===f&&M.splice(d,1);M.push({j:f,id:a,source:b});c&&(G=G||[],G.push(f));xa[f]=i;ya();w("Plan","Added experiment "+f+" and variation id "+a+" to the plan, source is "+b,i)}return e}function Xb(a){return a in L||a in xa}function qa(a){var b=[],c=!B(a),a=a||[];p(M,function(d){(c||H(a,d.j))&&b.push(d.id)});return b}function Ta(a){var b;if(b===i||!Xb(a))L[a]=i,ya()}
function Ea(){var a={};p(tc,function(b,c){a[b]=c});p(M,function(b){var c=q(b.id);a[c]=b.id});p(L,function(b){a[b]="0"});z("optimizelyBuckets",eb(a),31536E4)}function ya(){p(uc,function(a){a()})}
function Ib(a,b,c){if(-1!==a.indexOf("_optimizely_redirect"))b.push({code:a,type:"code forced (redirect)"});else{for(var a=a.split("\n"),d=m,e=m,f=[],h=[];0<a.length;){var k=$b(a.shift()),l=0<h.length;if(k)if(Boolean(k.match(/_optimizely_evaluate\s{0,9}=\s{0,9}force/i)))e=i;else if(Boolean(k.match(/_optimizely_evaluate\s{0,9}=\s{0,9}safe/i))||Boolean(k.match(/_optimizely_evaluate\s{0,9}=\s{0,9}end_force/i)))e=m;else if(Boolean(k.match(/_optimizely_evaluate\s{0,9}=\s{0,9}editor_only/i)))d=i;else if(Boolean(k.match(/_optimizely_evaluate\s{0,9}=\s{0,9}end_editor_only/i)))d=
m;else if(!d)if(e)f.push(k);else{if(!l){var t=vc.exec(k),D=[];t?(D.push(t[1]),(t=wc.exec(k))&&4<t.length&&D.push(t[4]),c.push({code:k,f:D,type:"safe jquery",h:i})):l=i}l&&h.push(k)}}0<f.length&&b.push({code:f.join("\n"),type:"forced evaluation"});0<h.length&&c.push({code:h.join("\n"),type:"safe non-jquery",R:i})}}function Jb(a,b,c){for(var d={values:[]},e=0,f=a.length;e<f;e++)d.values.push({value:a[e],match:b[e]||c});return d}
var uc=[],tc={},L={},vc=/^\$j?\(['"](.+?)['"]\)\..+;\s*$/,wc=/^\$j?\(['"](.+?)['"]\)\.detach\(\)\.(appendTo|insertAfter|insertBefore|prependTo)\(['"](.+?)['"]\);\s*$/,xa={},M=[];if(!aa){var X=$;X.fn.attr=oc(X.fn.attr);X.fn.css=oc(X.fn.css);X.fn.extend=oc(X.fn.extend);var xc=X.each;X.each=function(a,b,c){if(!(a.length===g||X.isFunction(a))||!pc())xc.apply(this,arguments);else if(c)for(var d in a){if(a.hasOwnProperty(d)&&b.apply(a[d],c)===m)break}else for(d in a)if(a.hasOwnProperty(d)&&!b.call(a[d],d,a[d])===m)break;return a};var yc=X.fn.G,zc=function(a,b,c){return new yc(a,b,c)},Ac,Bc=document.getElementsByClassName;if(!Va(Bc))var Cc=(window.optimizely||{}).getElementsByClassName,
Dc=(window.optly||{}).getElementsByClassName,Bc=Va(Cc)?Cc:Va(Dc)?Dc:j;Ac=Bc;X.fn.G=function(a,b,c){var d=zc,e=document.getElementsByClassName;!Va(e)&&Ac&&(d=function(a,b,c){document.getElementsByClassName=Ac;a=zc(a,b,c);document.getElementsByClassName=e;return a});if(!("string"===typeof a&&b&&"object"===X.type(b)&&pc()))return d(a,b,c);a=d(a,g,c);a.attr(b);return a}}w("Main","Started, revision "+C("revision"));
for(var Ec=window.location.search,Fc,Gc=/optimizely_([^=]+)=([^&]*)/g,Y={};Fc=Gc.exec(Ec);)Y[Fc[1]]=decodeURIComponent(Fc[2]);var Hc=/x(\d+)/,Ic=m;p(Y,function(a,b){var c=Hc.exec(a);if(c&&(Ic=i,c=c[1],"-1"!==b)){var d=b.split("_"),e=N(c),f=[];if(e.length===d.length)p(e,function(a,b){var c=d[b];if(c=Aa(a)[c])f.push(c);else return f=[],j});else if(1===d.length){var e=Ja(c),h=d[0],k=e[h];!k&&H(e,h)&&(k=h);k&&f.push(k)}Da(f.join("_"),"query",i);vb.push(c)}});
("true"===Y.opt_out||"false"===Y.opt_out)&&J.p("true"===Y.opt_out);var I="true"!==Y.disable&&"true"!==Y.opt_out&&"true"!==y("optimizelyOptOut"),Q=Y.load_script,bb="true"===Y.preview,R="true"===Y.log,cb="true"===Y.verbose,Jc="true"===Y.force_tracking,Ic=Ic||bb,n=!Ic||Jc;"false"===Y.client&&(I=m,Q="js/"+kb()+".js");Q&&(qc()||(Q=""));var Kc=document.location.hostname,Z=Kc.split("."),Lc=Kc,Nc=Z[Z.length-1];
2<Z.length&&"appspot"===Z[Z.length-2]&&"com"===Nc?Lc=Z[Z.length-3]+".appspot.com":1<Z.length&&lc(Nc,ba)&&(Lc=Z[Z.length-2]+"."+Nc);U=Lc;o("Cookie","Guessed public suffix: %s",U);T=Vb(Kc);o("Cookie","Public suffix (from data): %s",T);T||(T=y("optimizelyPublicSuffix")||"",o("Cookie","Public suffix (from cookie): %s",T));!T&&C("remote_public_suffix")&&(o("Cookie","Making request for public suffix on DOM ready"),$(ib(Ab,Kc)));var Oc=y("optimizelyBuckets"),Cb=Oc!==g&&Oc!==j,Pc;
a:{for(var Qc=["googlebot","yahoo! slurp","bingbot","msnbot"],Rc=navigator.userAgent.toLowerCase(),Sc=0;Sc<Qc.length;Sc++)if(-1!==Rc.indexOf(Qc[Sc])){Pc=i;break a}Pc=m}Pc&&(n=m);var Tc=y("optimizelyBuckets");
if(Tc){try{Tc=fb(Tc)}catch(Uc){Tc={}}var Vc={};p(Tc,function(a,b){var b=String(b),c=q(b);if(N(c).length>1&&b.indexOf("_")===-1){Vc[c]=Vc[c]||{};Vc[c][a]=b}else b!=="0"?Da(b,"cookie",m)||(tc[a]=b):Ta(a)});p(Vc,function(a,b){var c;a:{c=[];for(var d=N(a),e=0;e<d.length;e++){var f=b[d[e]];if(f==="0"){c="";break a}c.push(f)}c=c.join("_")}c.length>0?Da(c,"cookie",m):Ta(a)})}uc.push(Ga);
var Wc={$:$,activeExperiments:F||[],allExperiments:Ra(),all_experiments:Ra(),allVariations:C("variations")||{},data:P,getElementsByClassName:document.getElementsByClassName,revision:C("revision"),variationIdsMap:Ha,variation_map:O,variationMap:O,variationNamesMap:Ia},Xc={},Yc=ib(function(a,b){var c=[],d=b;if(S(b)){c=kc(b,1);d=b[0]}var e=a[d];if(e){w("API",'Called function "'+d+'"');d!=="acknowledgePreviewMode"&&hb(d,{type:"api"});e.apply(j,c)}else w("API",'Error for unknown function "'+d+'"');hc()},
Xc);
Qa(Xc,{acknowledgePreviewMode:function(){w("Preview","Preview acknowledgement received");ub=i},activate:function(a,b,c){if(!I)return m;var d=typeof b==="number"||typeof b==="string"?String(b):j,e=b===i||b&&b.force===i||c&&c.force===i,f=typeof b==="object"&&b.skip===i||typeof c==="object"&&c.skip===i,b=typeof b==="object"&&b.skipPageview===i||typeof c==="object"&&c.skipPageview===i;if(d)try{va(a,d,i)}catch(h){w("API","Error while activating experiment "+a+" for variation "+d+" -- proceeding without bucketing user.")}var k=j,
l=[],t=[];gb(a)?l.push(a):p(Ka(),function(a){v(a,"manual")&&l.push(a)});p(l,function(a){if(e||Wb(a,i))(k=Sa(a,f))&&t.push(a)});Db(t);Ea();na();I&&!b&&J.e(document.location.href)},activateSiteCatalyst:da,bucketUser:va,bucketVisitor:va,clickTaleRecord:function(){o("Integrator","Tracking with ClickTale.");typeof window.ClickTaleField=="function"?p(ha(),function(a){var b=q(a),c=r(b,a,100,100,15,m),c=c.key+": "+c.value+" (x"+b+"="+a+")";o("Integrator","Setting ClickTale - %s",c);window.ClickTaleField(b,
a);window.ClickTaleEvent(c)}):o("Integrator","ClickTaleField() not defined.")},clickTalePlayback:function(){if(window.ClickTaleContext){try{window.ClickTaleContext.getRecordingContextAsync("1.1",function(a){o("Integrator","Playback ClickTale getRecordingContextAsync callback");for(var b in a.fields){o("Integrator","Playback ClickTale Integration - %s=%s",b,a.fields[b]);window.optimizely.push(["activate",b,a.fields[b],{force:i}])}})}catch(a){o("Integrator","Playback ClickTale Recording Integration failed.")}try{window.ClickTaleContext.getAggregationContextAsync("1",
function(a){for(var b in a.PageEvents){var e=a.PageEvents[b][2].match(/x[0-9]+=[0-9_]+/g);o("Integrator","Playback ClickTale Integration - %s",e);for(b in e){o("Integrator","Playback ClickTale Integration - %s",e[b]);var f=e[b].split("=")[0].substr(1),h=e[b].split("=")[1].split("_");for(b in h)window.optimizely.push(["activate",f,h[b],{force:i}])}}})}catch(b){o("Integrator","Playback ClickTale Aggregation Integration failed.")}}else o("Integrator","ClickTaleContext not defined.")},delayDomReadyEval:function(a){Tb=
a},delayPageviewTracking:function(a){if(!gb(a))return m;ab=Number(a)},disable:Fa,log:function(){R=i},getAccountId:lb,getProjectId:kb,integrationPrefix:function(a){la=a},optOut:J.p,preview:function(){ub||sb()},push:Yc,sc_activate:da,sc_svar:function(a){ea=a},skipPageTracking:function(){db=i},timeout:Fa,trackEvent:J.v,verbose:function(){cb=R=i}});Qa(Wc,Xc);var Zc=window.optimizely;S(Zc)&&p(Zc,function(a){Yc(a)});window.optimizely=Wc;w("Info","Is enabled: "+I);w("Info","Script to load: "+(Q||"none"));
w("Info","Browser type: "+Ma());w("Info","Browser version: "+Bb());var $c=Pa();"unknown"!==$c&&w("Info","Mobile browser type: "+$c);w("Info","Visitor type: "+(Cb?"returning":"new"));w("Info","User ID: "+nb());Q&&tb(Q);
I&&(p(Ka(),function(a){if(!lc(a,G)&&Wb(a)){w("Distributor","Going to distribute "+A(a));var b=Sa(a),c=m;if(vb.length>0&&!H(vb,a)){w("Distributor","Not going to evaluate because of preview mode, for "+A(a));c=i;Sb[a]="it is not being previewed"}if(b&&!c){G=G||[];G.push(a)}}}),Ea(),J.D(),db||(0<ab?setTimeout(function(){J.e(document.location.href,"pageview")},ab):J.e(document.location.href,"pageview")),J.q(),na());
R&&(p(L,function(a){var b=v(a,"name")||"";w("Plan","Ignore experiment '"+b+"' ("+a+")")}),p(M,function(a){var b=q(a.id),c=sa(a.id);w("Plan",A(b)+' in variation "'+c+'" ('+a.id+")")}));I&&(Db(),w("API","Finalizing API."),Ga(),hc());bb&&sb();w("Main","End of main");
optly.Cleanse.finish();
})();

if (typeof(optimizely_perf) != "undefined") { optimizely_perf.post_results(); }