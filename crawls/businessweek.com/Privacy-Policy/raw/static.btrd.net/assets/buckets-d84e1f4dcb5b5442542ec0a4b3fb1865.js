//name spacing stuff
if(typeof BLOOMBERG=="undefined"||!BLOOMBERG)var BLOOMBERG={};(function(){BLOOMBERG.namespace=function(e){var t=[],n,r;t=e.split("."),n=BLOOMBERG,t[0]==="BLOOMBERG"&&t.shift();for(r=0;r<t.length;r++)typeof n[t[r]]=="undefined"&&(n[t[r]]={}),n=n[t[r]];return n}})();var _BUCKET="",_BUCKET_GROUP="";(function(){var buckets=BLOOMBERG.namespace("buckets"),options={},default_options={};buckets.set_unavailable_buckets=function(e,t){document.cookie="_unavailable_buckets=; expires=Thu, 01-Jan-70 00:00:01 GMT;";var n=[];for(var r=0;r<e.length;r++)n.push(e[r].name);document.cookie="_unavailable_buckets="+n.join(",")+";expires="+t+";path=/"},buckets.set_bucket=function(e,t,n){document.cookie="_bucket="+e+"|"+t+";expires="+n+";path=/"},buckets.in_bucket=function(){return has_bucket=document.cookie.indexOf("_bucket=")>=0,has_bucket},buckets.in_specific_bucket=function(e){return buckets.in_bucket()&&BBBW_comScore.read_cookie("_bucket").indexOf(e)>=0},buckets.execute_bucket_code=function(bucket_name,bucket_group){function create_styles(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("style"),r=document.createTextNode(e);n.type="text/css",n.styleSheet?n.styleSheet.cssText=r.nodeValue:n.appendChild(r),t.appendChild(n)}var ab=AVAILABLE_BUCKETS;for(var i=0;i<ab.length;i++)if(bucket_name==ab[i].name){var groups=ab[i].bucket_groups;for(var x=0;x<groups.length;x++)if(bucket_group==groups[x].name){_BUCKET=bucket_name,_BUCKET_GROUP=bucket_group;var css=groups[x].custom_css,js=groups[x].custom_js;create_styles(css),eval(js)}}},buckets.load_bucket_from_cookie=function(){var e="",t="",n=document.cookie.split(";");for(var r=0;r<n.length;r++)if(n[r].indexOf("_unavailable_buckets")>=0){var i=n[r].split("="),s=i[1].split("|");e=s[0],t=s[1]}else if(n[r].indexOf("_bucket=")>=0){var i=n[r].split("="),s=i[1].split("|");e=s[0],t=s[1]}buckets.execute_bucket_code(e,t)},buckets.select_group=function(e){var t=Math.floor(Math.random()*101);return t%2==0?e[1].name:e[0].name},buckets.really_available_buckets=function(e){var t=document.cookie.split(";"),n=[],r=e;for(var i=0;i<t.length;i++)if(t[i].indexOf("_unavailable_bucket")>=0){var s=t[i].split("=");typeof s[1]!="undefined"&&(n=s[1].split(","))}for(i=0;i<n.length;i++){r=[];for(var o=0;o<e.length;o++)s[i]!=e[o].name&&r.push(e[o])}return r},buckets.should_bucket_user=function(){if(typeof AVAILABLE_BUCKETS=="undefined")return!1;var e=buckets.really_available_buckets(AVAILABLE_BUCKETS),t=Math.floor(Math.random()*101);for(var n=0;n<e.length;n++){var r=e[n].name,i=(new Date(e[n].end_date)).toUTCString();if(t<=e[n].percentage_of_users){var s=buckets.select_group(e[n].bucket_groups);buckets.set_bucket(r,s,i),buckets.execute_bucket_code(r,s)}else{var s=buckets.select_group(e[n].bucket_groups);buckets.set_unavailable_buckets(AVAILABLE_BUCKETS,i)}}},buckets.init_bucket=function(){buckets.in_bucket()?buckets.load_bucket_from_cookie():buckets.should_bucket_user()}})(),BLOOMBERG.buckets.init_bucket();