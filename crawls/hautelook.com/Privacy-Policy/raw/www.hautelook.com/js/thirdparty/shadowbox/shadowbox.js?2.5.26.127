(function(o,ea){var R,S,I,J;function X(b,d){a.options.enableKeys&&d&&(b?h:C)(document,"keydown",ua)}function ua(b){if(!b.metaKey&&!b.shiftKey&&!b.altKey&&!b.ctrlKey){var d=b.keyCode;for(key in a.options.eventKeys)d==key&&(b.preventDefault(),a.options.eventKeys[key]&&a.options.eventKeys[key].call())}}function fa(b){X(!1);var d=a.getCurrent(),c=d.player;if("function"!==typeof a[c])throw"unknown player "+c;b&&(a.player.remove(),a.revertOptions(),a.applyOptions(d.options||{}));a.player=new a[c](d,a.playerId);
if(1<a.gallery.length&&(d=a.gallery[a.current+1]||a.gallery[0],"img"===d.player&&((new Image).src=d.content),d=a.gallery[a.current-1]||a.gallery[a.gallery.length-1],"img"===d.player))(new Image).src=d.content;a.skin.onLoad(b,va)}function va(){if(m)if("undefined"!=typeof a.player.ready)var b=setInterval(function(){m?a.player.ready&&(clearInterval(b),b=null,a.skin.onReady(ga)):(clearInterval(b),b=null)},10);else a.skin.onReady(ga)}function ga(){m&&(a.player.append(a.skin.body,a.dimensions),a.skin.onShow(wa))}
function wa(){if(m){if(a.player.onLoad)a.player.onLoad();a.options.onFinish(a.getCurrent());a.isPaused()||a.play();X(!0,a.options.eventKeys)}}function s(b,a){for(var c in a)b[c]=a[c];return b}function p(b,a){for(var c=0,f=b.length,e=b[0];c<f&&!1!==a.call(e,c,e);e=b[++c]);}function N(){}function i(b){return document.getElementById(b)}function D(b){b.parentNode.removeChild(b)}function ha(b){return[b.pageX||b.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft),b.pageY||b.clientY+
(document.documentElement.scrollTop||document.body.scrollTop)]}function h(b,a,c){if(b.addEventListener)b.addEventListener(a,c,!1);else if(!(3===b.nodeType||8===b.nodeType)){b.setInterval&&(b!==o&&!b.frameElement)&&(b=o);c.__guid||(c.__guid=h.guid++);b.events||(b.events={});var f=b.events[a];f||(f=b.events[a]={},b["on"+a]&&(f[0]=b["on"+a]));f[c.__guid]=c;b["on"+a]=h.handleEvent}}function C(b,a,c){b.removeEventListener?b.removeEventListener(a,c,!1):b.events&&b.events[a]&&delete b.events[a][c.__guid]}
function ia(){if(!Y){try{document.documentElement.doScroll("left")}catch(b){setTimeout(ia,1);return}a.load()}}function ja(b){a.open(this);a.gallery.length&&b.preventDefault()}function ka(){var b=a.dimensions;s(E.style,{height:b.innerHeight+"px",width:b.innerWidth+"px"})}function la(b){b.preventDefault();b=ha(b);I=b[0];J=b[1];v=i(a.player.id);h(document,"mousemove",ma);h(document,"mouseup",na)}function ma(b){var d=a.player,c=a.dimensions,b=ha(b),f=b[0]-I;I+=f;R=Math.max(Math.min(0,R+f),c.innerWidth-
d.width);b=b[1]-J;J+=b;S=Math.max(Math.min(0,S+b),c.innerHeight-d.height);s(v.style,{left:R+"px",top:S+"px"})}function na(){C(document,"mousemove",ma);C(document,"mouseup",na)}function r(b,d,c,f,e){var g="opacity"==d,n=g?a.setOpacity:function(b,a){b.style[d]=""+a+"px"};if(0==f||!g&&!a.options.animate||g&&!a.options.animateFade)n(b,c),e&&e();else{var i=parseFloat(a.getStyle(b,d))||0,h=c-i;if(0==h)e&&e();else var f=1E3*f,o=(new Date).getTime(),m=a.ease,p=o+f,q,r=setInterval(function(){q=(new Date).getTime();
q>=p?(clearInterval(r),r=null,n(b,c),e&&e()):n(b,i+m((q-o)/f)*h)},10)}}function oa(){x.style.height=Math.max($(document).height(),$(o).height(),document.documentElement.clientHeight)+"px";x.style.width=Math.max($(document).width(),$(o).width(),document.documentElement.clientWidth)+"px"}function xa(){x.style.top=document.documentElement.scrollTop+"px";x.style.left=document.documentElement.scrollLeft+"px"}function pa(b){b?p(Z,function(b,a){a[0].style.visibility=a[1]||""}):(Z=[],p(a.options.troubleElements,
function(b,a){p(document.getElementsByTagName(a),function(b,a){Z.push([a,a.style.visibility]);a.style.visibility="hidden"})}))}function F(b,a){var c=i("sb-nav-"+b);c&&(c.style.display=a?"":"none")}function qa(b,d){var c=i("sb-loading"),f=a.getCurrent().player,f="img"==f||"html"==f;if(b){a.setOpacity(c,0);c.style.display="block";var e=function(){a.clearOpacity(c);d&&d()};f?r(c,"opacity",1,a.options.fadeDuration,e):e()}else e=function(){c.style.display="none";a.clearOpacity(c);d&&d()},f?r(c,"opacity",
0,a.options.fadeDuration,e):e()}function ya(b,a){var c=i("sb-title"),f=i("sb-info"),c=c.offsetHeight,f=f.offsetHeight,e=i("sb-title-inner"),g=i("sb-info-inner"),n=b?0.35:0;r(e,"marginTop",c,n);r(g,"marginTop",-1*f,n,function(){e.style.visibility=g.style.visibility="hidden";a()})}function O(b,d,c,f){var e=i("sb-wrapper-inner"),c=c?a.options.resizeDuration:0;r(t,"top",d,c);r(e,"height",b,c,f)}function T(b,d,c,f){c=c?a.options.resizeDuration:0;r(t,"left",d,c);r(t,"width",b,c,f)}function aa(b,d){var c=
i("sb-body-inner"),b=parseInt(b),d=parseInt(d),f=t.offsetHeight-c.offsetHeight,c=t.offsetWidth-c.offsetWidth,e=y.offsetHeight,g=y.offsetWidth,n=parseInt(a.options.viewportPadding)||20;return a.setDimensions(b,d,e,g,f,c,n,a.player&&"drag"!=a.options.handleOversize,a.options.topPosition)}var a={version:"3.0.3"},U=function(a,d){for(var c=0;c<a.length;++c)if(a[c]===d)return!0;return!1},za=/^(light|shadow)box\[(.*?)\]/i,Aa=/\s*([a-z_]*?)\s*=\s*(.+)\s*/,Ba=/[0-9a-z]+$/i,Ca=/(.+\/)shadowbox\.js/i,P=document.documentElement,
m=!1,ra=!1,sa={},G=0,V,k,W="opacity"in P.style&&"string"===typeof P.style.opacity,ba=!1;(function(){var a=document.createElement("div");a.style.position="fixed";a.style.margin=0;a.style.top="20px";P.appendChild(a,P.firstChild);ba=20==a.offsetTop;P.removeChild(a)})();a.current=-1;a.dimensions=null;a.ease=function(a){return 1+Math.pow(a-1,3)};a.errorInfo={fla:{name:"Flash",url:"http://www.adobe.com/products/flashplayer/"},qt:{name:"QuickTime",url:"http://www.apple.com/quicktime/download/"}};a.gallery=
[];a.onReady=N;a.path=null;a.player=null;a.playerId="sb-player";a.background=null;a.options={animate:!0,animateFade:!0,autoplayMovies:!0,continuous:!1,enableKeys:!0,enableKeys:{81:function(){a.close()},88:function(){a.close()},27:function(){a.close()},37:function(){a.previous()},39:function(){a.next()},32:function(){"number"==typeof k?a.pause():a.play()}},flashParams:{bgcolor:"#000000",allowfullscreen:!0},flashVars:{},flashVersion:"9.0.115",handleOversize:"resize",handleUnsupported:"link",modalName:"",
onChange:N,onClose:N,onFinish:N,onOpen:N,showMovieControls:!0,skipSetup:!1,slideshowDelay:0,viewportPadding:20};a.getCurrent=function(){return-1<a.current?a.gallery[a.current]:null};a.hasNext=function(){return 1<a.gallery.length&&(a.current!=a.gallery.length-1||a.options.continuous)};a.isOpen=function(){return m};a.isPaused=function(){return"pause"==k};a.applyOptions=function(b){sa=s({},a.options);s(a.options,b)};a.revertOptions=function(){s(a.options,sa)};a.init=function(b,d){if(!ra){ra=!0;a.skin.options&&
s(a.options,a.skin.options);b&&s(a.options,b);if(!a.path)for(var c,f=document.getElementsByTagName("script"),e=0,g=f.length;e<g;++e)if(c=Ca.exec(f[e].src)){a.path=c[1];break}d&&(a.onReady=d);if("complete"===document.readyState)a.load();else if(document.addEventListener)document.addEventListener("DOMContentLoaded",H,!1),o.addEventListener("load",a.load,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",H);o.attachEvent("onload",a.load);c=!1;try{c=null===o.frameElement}catch(n){}document.documentElement.doScroll&&
c&&ia()}}};a.open=function(b){if(!m&&(a.background=b.background||"",""!=a.background&&(t.style.background="url("+a.background+")"),$("#moduleOverlayClose").click(),b=a.makeGallery(b),a.gallery=b[0],a.current=b[1],b=a.getCurrent(),null!=b)){a.applyOptions(b.options||{});for(var b=a.errorInfo,d=a.plugins,c,f,e,g=0;g<a.gallery.length;++g){c=a.gallery[g];f=!1;e=null;switch(c.player){case "flv":case "swf":d.fla||(e="fla");break;case "qt":d.qt||(e="qt")}if(e)"link"==a.options.handleUnsupported?(c.player=
"html",c.content='<div class="sb-message">Please download <a href="'+b[e].url+'">'+b[e].name+"</a> in order to view this content.</div>"):f=!0;else if("swf"==c.player||"flv"==c.player)e=c.options&&c.options.flashVersion||a.options.flashVersion,a.flash&&!a.flash.hasFlashPlayerVersion(e)&&(c.width=310,c.height=177);f&&(a.gallery.splice(g,1),g<a.current?--a.current:g==a.current&&(a.current=0<g?g-1:g),--g)}a.gallery.length&&(b=a.getCurrent(),!1!==a.options.onOpen(b)&&(m=!0,a.skin.onOpen(b,fa)))}};a.close=
function(){m&&(m=!1,a.player&&(a.player.remove(),a.player=null),"number"==typeof k&&(clearTimeout(k),k=null),G=0,X(!1),a.options.onClose(a.getCurrent()),a.skin.onClose(),a.revertOptions())};a.play=function(){if(a.hasNext()&&(G||(G=1E3*a.options.slideshowDelay),G&&(V=(new Date).getTime(),k=setTimeout(function(){G=V=0;a.next()},G),a.skin.onPlay)))a.skin.onPlay()};a.pause=function(){if("number"==typeof k&&(G=Math.max(0,G-((new Date).getTime()-V))))if(clearTimeout(k),k="pause",a.skin.onPause)a.skin.onPause()};
a.change=function(b){if(!(b in a.gallery))if(a.options.continuous){if(b=0>b?a.gallery.length+b:0,!(b in a.gallery))return}else return;a.current=b;"number"==typeof k&&(clearTimeout(k),k=null,G=V=0);a.options.onChange(a.getCurrent());fa(!0)};a.next=function(){a.change(a.current+1)};a.previous=function(){a.change(a.current-1)};a.setDimensions=function(b,d,c,f,e,g,n,i,h){var r=b,m=d,p=2*n+e;b+p>c&&(b=c-p);var q=2*n+g;d+q>f&&(d=f-q);var k=(r-b)/r,s=(m-d)/m,x=0<k||0<s;i&&x&&(k>s?d=Math.round(m/r*b):s>k&&
(b=Math.round(r/m*d)));c=!isNaN(parseFloat(h))&&isFinite(h)?$(o).scrollTop()+h:Math.floor((c-(b+p))/2-2*n);a.dimensions={height:b+e,width:d+g,innerHeight:b,innerWidth:d,top:c,left:Math.floor((f-(d+q))/2+n),oversized:x};return a.dimensions};a.makeGallery=function(b){var d=[],c=-1;"string"==typeof b&&(b=[b]);if("number"==typeof b.length)p(b,function(a,b){d[a]=b.content?b:{content:b}}),c=0;else{if(b.tagName)var f=a.getCache(b),b=f?f:a.makeObject(b);if(b.gallery){var d=[],e;for(e in a.cache)f=a.cache[e],
f.gallery&&f.gallery==b.gallery&&(-1==c&&f.content==b.content&&(c=d.length),d.push(f));-1==c&&(d.unshift(b),c=0)}else d=[b],c=0}p(d,function(a,b){d[a]=s({},b)});return[d,c]};a.makeObject=function(b,d){var c={content:b.href,title:b.getAttribute("title")||"",link:b};d?(d=s({},d),p("player title background height width gallery".split(" "),function(a,b){if(typeof d[b]!="undefined"){c[b]=d[b];delete d[b]}}),c.options=d):c.options={};c.player||(c.player=a.getPlayer(c.content));var f=b.getAttribute("rel");
if(f){var e=f.match(za);e&&(c.gallery=escape(e[2]));p(f.split(";"),function(a,b){(e=b.match(Aa))&&(c[e[1]]=e[2])})}return c};a.getPlayer=function(b){var d=b.indexOf("?");-1<d&&(b=b.substring(0,d));var c;(b=b.match(Ba))&&(c=b[0].toLowerCase());if(c){if(a.img&&U(a.img.ext,c))return"img";if(a.swf&&U(a.swf.ext,c))return"swf";if(a.flv&&U(a.flv.ext,c))return"flv";if(a.qt&&U(a.qt.ext,c))return"qt"}return"iframe"};a.getStyle=function(){var a=/opacity=([^)]*)/,d=document.defaultView&&document.defaultView.getComputedStyle;
return function(c,f){var e;if(!W&&"opacity"==f&&c.currentStyle)return e=a.test(c.currentStyle.filter||"")?parseFloat(RegExp.$1)/100+"":"",""===e?"1":e;if(d){var g=d(c,null);g&&(e=g[f]);"opacity"==f&&""==e&&(e="1")}else e=c.currentStyle[f];return e}}();a.appendHTML=function(a,d){if(a.insertAdjacentHTML)a.insertAdjacentHTML("BeforeEnd",d);else if(a.lastChild){var c=a.ownerDocument.createRange();c.setStartAfter(a.lastChild);c=c.createContextualFragment(d);a.appendChild(c)}else a.innerHTML=d};a.getWindowSize=
function(a){return"CSS1Compat"===document.compatMode?document.documentElement["client"+a]:document.body["client"+a]};a.setOpacity=function(a,d){var c=a.style;W?c.opacity=1==d?"":d:(c.zoom=1,1==d?"string"==typeof c.filter&&/alpha/i.test(c.filter)&&(c.filter=c.filter.replace(/\s*[\w\.]*alpha\([^\)]*\);?/gi,"")):c.filter=(c.filter||"").replace(/\s*[\w\.]*alpha\([^\)]*\)/gi,"")+" alpha(opacity="+100*d+")")};a.clearOpacity=function(b){a.setOpacity(b,1)};h.guid=1;h.handleEvent=function(a){var d=!0,a=a||
h.fixEvent(((this.ownerDocument||this.document||this).parentWindow||o).event),c=this.events[a.type],f;for(f in c)this.__handleEvent=c[f],!1===this.__handleEvent(a)&&(d=!1);return d};h.preventDefault=function(){this.returnValue=!1};h.stopPropagation=function(){this.cancelBubble=!0};h.fixEvent=function(a){a.preventDefault=h.preventDefault;a.stopPropagation=h.stopPropagation;a.keyCode=a.which;return a};var Y=!1,H;document.addEventListener?H=function(){document.removeEventListener("DOMContentLoaded",
H,!1);a.load()}:document.attachEvent&&(H=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",H),a.load())});a.load=function(){if(!Y){if(!document.body)return setTimeout(a.load,13);Y=!0;a.onReady();a.options.skipSetup||a.setup();a.skin.init()}};a.plugins={};if(navigator.plugins&&navigator.plugins.length){var z=[];p(navigator.plugins,function(a,d){z.push(d.name)});var z=z.join(","),Q=-1<arrayIndexOf(z,"Flip4Mac");a.plugins={fla:-1<arrayIndexOf(z,"Shockwave Flash"),
qt:-1<arrayIndexOf(z,"QuickTime"),wmp:!Q&&-1<arrayIndexOf(z,"Windows Media"),f4m:Q}}else Q=function(a){var d;try{d=new ActiveXObject(a)}catch(c){}return!!d},a.plugins={fla:Q("ShockwaveFlash.ShockwaveFlash"),qt:Q("QuickTime.QuickTime")};var Da=/^(light|shadow)box/i,Ea=1;a.cache={};a.select=function(a){var d=[];if(a){var c=typeof a;if(("object"===c||"function"===c)&&a.length)for(c=0;c<a.length;++c)d[c]=a[c];else d.push(a)}else{var f;p(document.getElementsByTagName("a"),function(a,b){(f=b.getAttribute("rel"))&&
Da.test(f)&&d.push(b)})}return d};a.setup=function(b,d){p(a.select(b),function(b,f){a.addCache(f,d)})};a.teardown=function(b){p(a.select(b),function(b,c){a.removeCache(c)})};a.addCache=function(b,d){var c=b.shadowboxCacheKey;c==ea&&(c=Ea++,b.shadowboxCacheKey=c,h(b,"click",ja));a.cache[c]=a.makeObject(b,d)};a.removeCache=function(b){C(b,"click",ja);delete a.cache[b.shadowboxCacheKey];b.shadowboxCacheKey=null};a.getCache=function(b){b=b.shadowboxCacheKey;return b in a.cache&&a.cache[b]};a.clearCache=
function(){for(var b in a.cache)a.removeCache(a.cache[b].link);a.cache={}};a.flash=function(){var a=function(){function d(){"complete"==D.readyState&&(D.parentNode.removeChild(D),c())}function c(){if(!J){if(j.ie&&j.win){var a=l.createElement("span");try{var b=l.getElementsByTagName("body")[0].appendChild(a);b.parentNode.removeChild(b)}catch(c){return}}J=!0;H&&(clearInterval(H),H=null);a=C.length;for(b=0;b<a;b++)C[b]()}}function f(a){J?a():C[C.length]=a}function e(a){if(typeof A.addEventListener!=
w)A.addEventListener("load",a,!1);else if(typeof l.addEventListener!=w)l.addEventListener("load",a,!1);else if(typeof A.attachEvent!=w)k(A,"onload",a);else if("function"==typeof A.onload){var b=A.onload;A.onload=function(){b();a()}}else A.onload=a}function g(){for(var a=K.length,b=0;b<a;b++){var c=K[b].id;if(0<j.pv[0]){var d=q(c);if(d)if(K[b].width=d.getAttribute("width")?d.getAttribute("width"):"0",K[b].height=d.getAttribute("height")?d.getAttribute("height"):"0",s(K[b].swfVersion)){if(j.webkit&&
312>j.webkit){var f=d.getElementsByTagName(t)[0];if(f){var e=l.createElement("embed"),g=f.attributes;if(g)for(var h=g.length,L=0;L<h;L++)"DATA"==g[L].nodeName?e.setAttribute("src",g[L].nodeValue):e.setAttribute(g[L].nodeName,g[L].nodeValue);if(f=f.childNodes){g=f.length;for(h=0;h<g;h++)1==f[h].nodeType&&"PARAM"==f[h].nodeName&&e.setAttribute(f[h].getAttribute("name"),f[h].getAttribute("value"))}d.parentNode.replaceChild(e,d)}}u(c,!0)}else K[b].expressInstall&&!M&&s("6.0.65")&&(j.win||j.mac)?n(K[b]):
i(d)}else u(c,!0)}}function n(a){M=!0;var b=q(a.id);if(b){if(a.altContentId){var c=q(a.altContentId);c&&(B=c,I=a.altContentId)}else B=h(b);!/%$/.test(a.width)&&310>parseInt(a.width,10)&&(a.width="310");!/%$/.test(a.height)&&137>parseInt(a.height,10)&&(a.height="137");l.title=l.title.slice(0,47)+" - Flash Player Installation";var c="MMredirectURL="+A.location+"&MMplayerType="+(j.ie&&j.win?"ActiveX":"PlugIn")+"&MMdoctitle="+l.title,d=a.id;if(j.ie&&j.win&&4!=b.readyState){var f=l.createElement("div"),
d=d+"SWFObjectNew";f.setAttribute("id",d);b.parentNode.insertBefore(f,b);b.style.display="none";k(A,"onload",function(){b.parentNode.removeChild(b)})}r({data:a.expressInstall,id:G,width:a.width,height:a.height},{flashvars:c},d)}}function i(a){if(j.ie&&j.win&&4!=a.readyState){var b=l.createElement("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(h(a),b);a.style.display="none";k(A,"onload",function(){a.parentNode.removeChild(a)})}else a.parentNode.replaceChild(h(a),a)}function h(a){var b=
l.createElement("div");if(j.win&&j.ie)b.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(t)[0])if(a=a.childNodes)for(var c=a.length,d=0;d<c;d++)!(1==a[d].nodeType&&"PARAM"==a[d].nodeName)&&8!=a[d].nodeType&&b.appendChild(a[d].cloneNode(!0));return b}function r(a,b,c){var d,f=q(c);if(f)if(typeof a.id==w&&(a.id=c),j.ie&&j.win){var e="",g;for(g in a)a[g]!=Object.prototype[g]&&("data"==g.toLowerCase()?b.movie=a[g]:"styleclass"==g.toLowerCase()?e+=' class="'+a[g]+'"':"classid"!=g.toLowerCase()&&
(e+=" "+g+'="'+a[g]+'"'));g="";for(var h in b)b[h]!=Object.prototype[h]&&(g+='<param name="'+h+'" value="'+b[h]+'" />');f.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+e+">"+g+"</object>";E[E.length]=a.id;d=q(a.id)}else if(j.webkit&&312>j.webkit){e=l.createElement("embed");e.setAttribute("type",y);for(var i in a)a[i]!=Object.prototype[i]&&("data"==i.toLowerCase()?e.setAttribute("src",a[i]):"styleclass"==i.toLowerCase()?e.setAttribute("class",a[i]):"classid"!=i.toLowerCase()&&
e.setAttribute(i,a[i]));for(var n in b)b[n]!=Object.prototype[n]&&"movie"!=n.toLowerCase()&&e.setAttribute(n,b[n]);f.parentNode.replaceChild(e,f);d=e}else{h=l.createElement(t);h.setAttribute("type",y);for(var m in a)a[m]!=Object.prototype[m]&&("styleclass"==m.toLowerCase()?h.setAttribute("class",a[m]):"classid"!=m.toLowerCase()&&h.setAttribute(m,a[m]));for(e in b)b[e]!=Object.prototype[e]&&"movie"!=e.toLowerCase()&&(a=h,g=e,i=b[e],n=l.createElement("param"),n.setAttribute("name",g),n.setAttribute("value",
i),a.appendChild(n));f.parentNode.replaceChild(h,f);d=h}return d}function m(a){var b=q(a);if(b&&("OBJECT"==b.nodeName||"EMBED"==b.nodeName))j.ie&&j.win?4==b.readyState?p(a):A.attachEvent("onload",function(){p(a)}):b.parentNode.removeChild(b)}function p(a){if(a=q(a)){for(var b in a)"function"==typeof a[b]&&(a[b]=null);a.parentNode.removeChild(a)}}function q(a){var b=null;try{b=l.getElementById(a)}catch(c){}return b}function k(a,b,c){a.attachEvent(b,c);z[z.length]=[a,b,c]}function s(a){var b=j.pv,a=
a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]?!0:!1}function x(a,b){if(!j.ie||!j.mac){var c=l.getElementsByTagName("head")[0],d=l.createElement("style");d.setAttribute("type","text/css");d.setAttribute("media","screen");(!j.ie||!j.win)&&typeof l.createTextNode!=w&&d.appendChild(l.createTextNode(a+" {"+b+"}"));c.appendChild(d);j.ie&&(j.win&&typeof l.styleSheets!=w&&0<l.styleSheets.length)&&
(c=l.styleSheets[l.styleSheets.length-1],typeof c.addRule==t&&c.addRule(a,b))}}function u(a,b){var c=b?"visible":"hidden";J&&q(a)?q(a).style.visibility=c:x("#"+a,"visibility:"+c)}function F(a){return null!=/[\\\"<>\.;]/.exec(a)?encodeURIComponent(a):a}var w="undefined",t="object",y="application/x-shockwave-flash",G="SWFObjectExprInst",A=o,l=document,v=navigator,C=[],K=[],E=[],z=[],D,H=null,B=null,I=null,J=!1,M=!1,j=function(){var a=typeof l.getElementById!=w&&typeof l.getElementsByTagName!=w&&typeof l.createElement!=
w,b=[0,0,0],c=null;if(typeof v.plugins!=w&&typeof v.plugins["Shockwave Flash"]==t){if((c=v.plugins["Shockwave Flash"].description)&&!(typeof v.mimeTypes!=w&&v.mimeTypes[y]&&!v.mimeTypes[y].enabledPlugin))c=c.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),b[0]=parseInt(c.replace(/^(.*)\..*$/,"$1"),10),b[1]=parseInt(c.replace(/^.*\.(.*)\s.*$/,"$1"),10),b[2]=/r/.test(c)?parseInt(c.replace(/^.*r(.*)$/,"$1"),10):0}else if(typeof A.ActiveXObject!=w){var d=null,e=!1;try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(f){try{d=
new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),b=[6,0,21],d.AllowScriptAccess="always"}catch(g){6==b[0]&&(e=!0)}if(!e)try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(j){}}if(!e&&d)try{if(c=d.GetVariable("$version"))c=c.split(" ")[1].split(","),b=[parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10)]}catch(h){}}var e=v.userAgent.toLowerCase(),i=v.platform.toLowerCase(),c=/webkit/.test(e)?parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,d=i?/win/.test(i):/win/.test(e),
e=i?/mac/.test(i):/mac/.test(e);return{w3cdom:a,pv:b,webkit:c,ie:!1,win:d,mac:e}}();(function(){if(j.w3cdom){f(g);if(j.ie&&j.win)try{l.write("<script id=__ie_ondomload defer=true src=//:><\/script>"),(D=q("__ie_ondomload"))&&k(D,"onreadystatechange",d)}catch(a){}j.webkit&&typeof l.readyState!=w&&(H=setInterval(function(){/loaded|complete/.test(l.readyState)&&c()},10));typeof l.addEventListener!=w&&l.addEventListener("DOMContentLoaded",c,null);e(c)}})();(function(){j.ie&&j.win&&o.attachEvent("onunload",
function(){for(var c=z.length,d=0;d<c;d++)z[d][0].detachEvent(z[d][1],z[d][2]);c=E.length;for(d=0;d<c;d++)m(E[d]);for(var e in j)j[e]=null;j=null;for(var f in a)a[f]=null;a=null})})();return{registerObject:function(a,b,c){if(j.w3cdom&&a&&b){var d={};d.id=a;d.swfVersion=b;d.expressInstall=c?c:!1;K[K.length]=d;u(a,!1)}},getObjectById:function(a){var b=null;if(j.w3cdom&&(a=q(a))){var c=a.getElementsByTagName(t)[0];!c||c&&typeof a.SetVariable!=w?b=a:typeof c.SetVariable!=w&&(b=c)}return b},embedSWF:function(a,
b,c,d,e,g,i,h,l){if(j.w3cdom&&a&&b&&c&&d&&e)if(c+="",d+="",s(e)){u(b,!1);var m={};if(l&&typeof l===t)for(var p in l)l[p]!=Object.prototype[p]&&(m[p]=l[p]);m.data=a;m.width=c;m.height=d;var k={};if(h&&typeof h===t)for(var q in h)h[q]!=Object.prototype[q]&&(k[q]=h[q]);if(i&&typeof i===t)for(var o in i)i[o]!=Object.prototype[o]&&(k.flashvars=typeof k.flashvars!=w?k.flashvars+("&"+o+"="+i[o]):o+"="+i[o]);f(function(){r(m,k,b);m.id==b&&u(b,!0)})}else if(g&&!M&&s("6.0.65")&&(j.win||j.mac))M=!0,u(b,!1),
f(function(){var a={};a.id=a.altContentId=b;a.width=c;a.height=d;a.expressInstall=g;n(a)})},getFlashPlayerVersion:function(){return{major:j.pv[0],minor:j.pv[1],release:j.pv[2]}},hasFlashPlayerVersion:s,createSWF:function(a,b,c){return j.w3cdom?r(a,b,c):ea},removeSWF:function(a){j.w3cdom&&m(a)},createCSS:function(a,b){j.w3cdom&&x(a,b)},addDomLoadEvent:f,addLoadEvent:e,getQueryParamValue:function(a){var b=l.location.search||l.location.hash;if(null==a)return F(b);if(b)for(var b=b.substring(1).split("&"),
c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return F(b[c].substring(b[c].indexOf("=")+1));return""},expressInstallCallback:function(){if(M&&B){var a=q(G);a&&(a.parentNode.replaceChild(B,a),I&&(u(I,!0),j.ie&&j.win&&(B.style.display="block")),I=B=null,M=!1)}}}}();return a}();a.flv=function(b,d){this.obj=b;this.id=d;this.height=b.height?parseInt(b.height,10):300;a.options.showMovieControls&&(this.height+=20);this.width=b.width?parseInt(b.width,10):300};a.flv.ext=["flv","m4v"];a.flv.prototype=
{append:function(b,d){var c=document.createElement("div");c.id=this.id;b.appendChild(c);var c=d.innerHeight,f=d.innerWidth,e=a.path+"player.swf",g=a.options.flashVersion,i=a.path+"expressInstall.swf",h=s({file:this.obj.content,height:c,width:f,autostart:a.options.autoplayMovies?"true":"false",controlbar:a.options.showMovieControls?"bottom":"none",backcolor:"0x000000",frontcolor:"0xCCCCCC",lightcolor:"0x557722"},a.options.flashVars);a.flash.embedSWF(e,this.id,f,c,g,i,h,a.options.flashParams)},remove:function(){a.flash.expressInstallCallback();
a.flash.removeSWF(this.id)},onWindowResize:function(){var b=a.dimensions,d=i(this.id);d.height=b.innerHeight;d.width=b.innerWidth}};a.html=function(a,d){this.obj=a;this.id=d;this.height=a.height?parseInt(a.height,10):300;this.width=a.width?parseInt(a.width,10):500};a.html.prototype={append:function(a){var d=document.createElement("div");d.id=this.id;d.className="html";d.innerHTML=this.obj.content;a.appendChild(d)},remove:function(){var a=i(this.id);a&&D(a)}};a.iframe=function(a,d){this.obj=a;this.id=
d;var c=i("sb-overlay");this.height=a.height?parseInt(a.height,10):c.offsetHeight;this.width=a.width?parseInt(a.width,10):c.offsetWidth};a.iframe.prototype={append:function(a){a.innerHTML='<iframe id="'+this.id+'" name="'+this.id+'" height="100%" width="100%" frameborder="0" marginwidth="0" marginheight="0" style="visibility:hidden" onload="this.style.visibility=\'visible\'" scrolling="auto" allowtransparency="true" src="about:blank"></iframe>'},remove:function(){var a=i(this.id);if(a){D(a);try{delete o.frames[this.id]}catch(d){}}},
onLoad:function(){o.frames[this.id].location.href=this.obj.content}};var u,E,v;a.img=function(a,d){this.obj=a;this.id=d;this.ready=!1;var c=this;u=new Image;u.onload=function(){c.height=a.height?parseInt(a.height,10):u.height;c.width=a.width?parseInt(a.width,10):u.width;c.ready=!0;u=u.onload=null};u.src=a.content};a.img.ext=["bmp","gif","jpg","jpeg","png"];a.img.prototype={append:function(b,d){var c=document.createElement("img");c.id=this.id;c.src=this.obj.content;c.style.position="absolute";var f,
e;d.oversized&&"resize"==a.options.handleOversize?(f=d.innerHeight,e=d.innerWidth):(f=this.height,e=this.width);c.setAttribute("height",f);c.setAttribute("width",e);b.appendChild(c)},remove:function(){var a=i(this.id);a&&D(a);E&&(C(E,"mousedown",la),D(E),E=null);v=null;u&&(u=u.onload=null)},onLoad:function(){if(a.dimensions.oversized&&"drag"==a.options.handleOversize){S=R=0;J=I=null;var b=["position:absolute;cursor:move","background-color:"+(W?"transparent":"#fff;filter:alpha(opacity=0)")].join(";");
a.appendHTML(a.skin.body,'<div id="sb-drag-proxy" style="'+b+'"></div>');E=i("sb-drag-proxy");ka();h(E,"mousedown",la)}},onWindowResize:function(){var b=a.dimensions;switch(a.options.handleOversize){case "resize":var d=i(this.id);d.height=b.innerHeight;d.width=b.innerWidth;break;case "drag":if(v){var d=parseInt(a.getStyle(v,"top")),c=parseInt(a.getStyle(v,"left"));d+this.height<b.innerHeight&&(v.style.top=b.innerHeight-this.height+"px");c+this.width<b.innerWidth&&(v.style.left=b.innerWidth-this.width+
"px");ka()}}}};var ta=document.createElement("object");a.qt=function(b,d){this.obj=b;this.id=d;this.height=b.height?parseInt(b.height,10):300;a.options.showMovieControls&&(this.height+=16);this.width=b.width?parseInt(b.width,10):300};a.qt.ext="dv mov moov movie mp4 avi mpg mpeg".split(" ");a.qt.prototype={append:function(b){var d=a.options,c=""+d.autoplayMovies,f=""+d.showMovieControls,d="<object",e={id:this.id,name:this.id,height:this.height,width:this.width,kioskmode:"true"};"classid"in ta&&"codeBase"in
ta?(e.classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",e.codeBase="http://www.apple.com/qtactivex/qtplugin.cab#version=6,0,2,0"):(e.type="video/quicktime",e.data=this.obj.content);for(var g in e)d+=" "+g+'="'+e[g]+'"';var d=d+">",c={src:this.obj.content,scale:"aspect",controller:f,autoplay:c},i;for(i in c)d+='<param name="'+i+'" value="'+c[i]+'">';b.innerHTML=d+"</object>"},remove:function(){try{document[this.id].Stop()}catch(a){}var d=i(this.id);d&&D(d)}};a.swf=function(a,d){this.obj=a;this.id=
d;this.height=a.height?parseInt(a.height,10):300;this.width=a.width?parseInt(a.width,10):300};a.swf.ext=["swf"];a.swf.prototype={append:function(b,d){var c=document.createElement("div");c.id=this.id;b.appendChild(c);a.flash.embedSWF(this.obj.content,this.id,d.innerWidth,d.innerHeight,a.options.flashVersion,a.path+"expressInstall.swf",a.options.flashVars,a.options.flashParams)},remove:function(){a.flash.expressInstallCallback();a.flash.removeSWF(this.id)},onWindowResize:function(){var b=a.dimensions,
d=i(this.id);d.height=b.innerHeight;d.width=b.innerWidth}};var ca=!1,Z=[],Fa=["sb-nav-close","sb-nav-next","sb-nav-play","sb-nav-pause","sb-nav-previous"],x,y,t,da=!0,B={markup:'<div id="sb-container"><div id="sb-overlay"></div><div id="sb-wrapper"><div id="sb-title"><div id="sb-title-inner"></div><div id="sb-nav"><a id="sb-nav-close" onclick="Shadowbox.close()"></a><a id="sb-nav-next" onclick="Shadowbox.next()"></a><a id="sb-nav-play" onclick="Shadowbox.play()"></a><a id="sb-nav-pause" onclick="Shadowbox.pause()"></a><a id="sb-nav-previous" onclick="Shadowbox.previous()"></a></div></div><div id="sb-wrapper-inner"><div id="sb-body"><div id="sb-body-inner"></div><div id="sb-loading"><div id="sb-loading-inner"><span>{loading}</span></div></div></div></div><div id="sb-info"><div id="sb-info-inner"><div id="sb-counter"></div></div></div></div></div>',
options:{animSequence:"sync",counterLimit:10,counterType:"default",displayCounter:!0,displayNav:!0,fadeDuration:0.35,initialHeight:160,initialWidth:320,modal:!1,overlayColor:"#000",overlayOpacity:0.5,resizeDuration:0.35,showOverlay:!0,topPosition:45,troubleElements:["object","embed","canvas"]},init:function(){a.appendHTML(document.body,B.markup);B.body=i("sb-body-inner");x=i("sb-container");y=i("sb-overlay");t=i("sb-wrapper");ba||(x.style.position="absolute");if(!W){var b,d,c=/url\("(.*\.png)"\)/;
p(Fa,function(e,f){if(b=i(f))if(d=a.getStyle(b,"backgroundImage").match(c)){b.style.backgroundImage="none";b.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true,src="+d[1]+",sizingMethod=scale);"}})}var f;h(o,"resize",function(){if(f){clearTimeout(f);f=null}m&&(f=setTimeout(B.onWindowResize,10))})},onOpen:function(b,d){da=!1;x.style.display="block";oa();var c=aa(a.options.initialHeight,a.options.initialWidth);O(c.innerHeight,c.top);T(c.width,c.left);a.options.showOverlay&&
(y.style.backgroundColor=a.options.overlayColor,a.setOpacity(y,0),a.options.modal||h(y,"click",a.close),ca=!0);pa();x.style.visibility="visible";ca?r(y,"opacity",a.options.overlayOpacity,a.options.fadeDuration,d):d()},onLoad:function(b,d){for(qa(!0);B.body.firstChild;)D(B.body.firstChild);ya(b,function(){if(m){b||(t.style.visibility="visible");var c=a.getCurrent();i("sb-title-inner").innerHTML=c.title||"";var f,e,g,h,k;if(a.options.displayNav){if(f=!0,c=a.gallery.length,1<c&&(a.options.continuous?
e=k=!0:(e=c-1>a.current,k=0<a.current)),0<a.options.slideshowDelay&&a.hasNext())h=!a.isPaused(),g=!h}else f=e=g=h=k=!1;F("close",f);F("next",e);F("play",g);F("pause",h);F("previous",k);e="";if(a.options.displayCounter&&1<a.gallery.length)if(c=a.gallery.length,"skip"==a.options.counterType){g=0;k=c;h=parseInt(a.options.counterLimit)||0;h<c&&2<h&&(k=Math.floor(h/2),g=a.current-k,0>g&&(g+=c),k=a.current+(h-k),k>c&&(k-=c));for(;g!=k;)g==c&&(g=0),e+='<a onclick="Shadowbox.change('+g+');"',g==a.current&&
(e+=' class="sb-counter-current"'),e+=">"+ ++g+"</a>"}else e=[a.current+1,c].join("/");i("sb-counter").innerHTML=e;d()}})},onReady:function(b){if(m){var d=a.player,c=aa(d.height,d.width),f=function(){var a=i("sb-title-inner"),c=i("sb-info-inner");a.style.visibility=c.style.visibility="";r(a,"marginTop",0,0.35);r(c,"marginTop",0,0.35,b)};switch(a.options.animSequence){case "hw":O(c.innerHeight,c.top,!0,function(){T(c.width,c.left,true,f)});break;case "wh":T(c.width,c.left,!0,function(){O(c.innerHeight,
c.top,true,f)});break;default:T(c.width,c.left,!0),O(c.innerHeight,c.top,!0,f)}}},onShow:function(a){qa(!1,a);da=!0},onClose:function(){ba||C(o,"scroll",xa);C(y,"click",a.close);t.style.visibility="hidden";var b=function(){x.style.visibility="hidden";x.style.display="none";pa(!0)};ca?r(y,"opacity",0,a.options.fadeDuration,b):b()},onPlay:function(){F("play",!1);F("pause",!0)},onPause:function(){F("pause",!1);F("play",!0)},onWindowResize:function(){if(da){oa();var b=a.player,d=aa(b.height,b.width);
O(d.innerHeight,d.top);if(b.onWindowResize)b.onWindowResize()}}};a.skin=B;o.Shadowbox=a})(window);
