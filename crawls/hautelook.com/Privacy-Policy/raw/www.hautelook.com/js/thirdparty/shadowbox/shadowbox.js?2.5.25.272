(function(y,Na){function gb(){for(var a=b.errorInfo,c=b.plugins,d,g,h,k=0;k<b.gallery.length;++k){d=b.gallery[k];g=false;h=null;switch(d.player){case "flv":case "swf":c.fla||(h="fla");break;case "qt":c.qt||(h="qt");break}if(h)if(b.options.handleUnsupported=="link"){d.player="html";d.content='<div class="sb-message">Please download <a href="'+a[h].url+'">'+a[h].name+"</a> in order to view this content.</div>"}else g=true;else if(d.player=="swf"||d.player=="flv"){h=d.options&&d.options.flashVersion||
b.options.flashVersion;if(b.flash&&!b.flash.hasFlashPlayerVersion(h)){d.width=310;d.height=177}}if(g){b.gallery.splice(k,1);if(k<b.current)--b.current;else if(k==b.current)b.current=k>0?k-1:k;--k}}}function Ga(a,c){if(b.options.enableKeys&&c)(a?u:Y)(document,"keydown",hb)}function hb(a){if(!(a.metaKey||a.shiftKey||a.altKey||a.ctrlKey)){var c=a.keyCode;for(key in b.options.eventKeys)if(c==key){a.preventDefault();b.options.eventKeys[key]&&b.options.eventKeys[key].call()}}}function Oa(a){Ga(false);var c=
b.getCurrent(),d=c.player;if(typeof b[d]!=="function")throw"unknown player "+d;if(a){b.player.remove();b.revertOptions();b.applyOptions(c.options||{})}b.player=new b[d](c,b.playerId);if(b.gallery.length>1){c=b.gallery[b.current+1]||b.gallery[0];if(c.player==="img")(new Image).src=c.content;c=b.gallery[b.current-1]||b.gallery[b.gallery.length-1];if(c.player==="img")(new Image).src=c.content}b.skin.onLoad(a,ib)}function ib(){if(C)if(typeof b.player.ready!="undefined")var a=setInterval(function(){if(C){if(b.player.ready){clearInterval(a);
a=null;b.skin.onReady(Pa)}}else{clearInterval(a);a=null}},10);else b.skin.onReady(Pa)}function Pa(){if(C){b.player.append(b.skin.body,b.dimensions);b.skin.onShow(jb)}}function jb(){if(C){b.player.onLoad&&b.player.onLoad();b.options.onFinish(b.getCurrent());b.isPaused()||b.play();Ga(true,b.options.eventKeys)}}function ta(){return(new Date).getTime()}function I(a,c){for(var d in c)a[d]=c[d];return a}function D(a,c){for(var d=0,g=a.length,h=a[0];d<g&&c.call(h,d,h)!==false;h=a[++d]);}function la(){}function o(a){return document.getElementById(a)}
function ea(a){a.parentNode.removeChild(a)}function Qa(a){return[a.pageX||a.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft),a.pageY||a.clientY+(document.documentElement.scrollTop||document.body.scrollTop)]}function u(a,c,d){if(a.addEventListener)a.addEventListener(c,d,false);else if(!(a.nodeType===3||a.nodeType===8)){if(a.setInterval&&a!==y&&!a.frameElement)a=y;if(!d.__guid)d.__guid=u.guid++;if(!a.events)a.events={};var g=a.events[c];if(!g){g=a.events[c]={};if(a["on"+c])g[0]=
a["on"+c]}g[d.__guid]=d;a["on"+c]=u.handleEvent}}function Y(a,c,d){if(a.removeEventListener)a.removeEventListener(c,d,false);else a.events&&a.events[c]&&delete a.events[c][d.__guid]}function Ra(){if(!Ha){try{document.documentElement.doScroll("left")}catch(a){setTimeout(Ra,1);return}b.load()}}function kb(){if(document.readyState==="complete")return b.load();if(document.addEventListener){document.addEventListener("DOMContentLoaded",fa,false);y.addEventListener("load",b.load,false)}else if(document.attachEvent){document.attachEvent("onreadystatechange",
fa);y.attachEvent("onload",b.load);var a=false;try{a=y.frameElement===null}catch(c){}document.documentElement.doScroll&&a&&Ra()}}function Sa(a){b.open(this);b.gallery.length&&a.preventDefault()}function lb(){A={x:0,y:0,startX:null,startY:null}}function Ta(){var a=b.dimensions;I(Z.style,{height:a.innerHeight+"px",width:a.innerWidth+"px"})}function mb(){lb();var a=["position:absolute;cursor:move","background-color:"+(ua?"transparent":"#fff;filter:alpha(opacity=0)")].join(";");b.appendHTML(b.skin.body,
'<div id="'+Ua+'" style="'+a+'"></div>');Z=o(Ua);Ta();u(Z,"mousedown",Va)}function nb(){if(Z){Y(Z,"mousedown",Va);ea(Z);Z=null}V=null}function Va(a){a.preventDefault();a=Qa(a);A.startX=a[0];A.startY=a[1];V=o(b.player.id);u(document,"mousemove",Wa);u(document,"mouseup",Xa)}function Wa(a){var c=b.player,d=b.dimensions;a=Qa(a);var g=a[0]-A.startX;A.startX+=g;A.x=Math.max(Math.min(0,A.x+g),d.innerWidth-c.width);a=a[1]-A.startY;A.startY+=a;A.y=Math.max(Math.min(0,A.y+a),d.innerHeight-c.height);I(V.style,
{left:A.x+"px",top:A.y+"px"})}function Xa(){Y(document,"mousemove",Wa);Y(document,"mouseup",Xa)}function E(a,c,d,g,h){var k=c=="opacity",m=k?b.setOpacity:function(v,z){v.style[c]=""+z+"px"};if(g==0||!k&&!b.options.animate||k&&!b.options.animateFade){m(a,d);h&&h()}else{var aa=parseFloat(b.getStyle(a,c))||0,W=d-aa;if(W==0)h&&h();else{g*=1E3;var G=ta(),J=b.ease,ba=G+g,K,O=setInterval(function(){K=ta();if(K>=ba){clearInterval(O);O=null;m(a,d);h&&h()}else m(a,aa+J((K-G)/g)*W)},10)}}}function Ya(){L.style.height=
b.getWindowSize("Height")+"px";L.style.width=b.getWindowSize("Width")+"px"}function Ia(){L.style.top=document.documentElement.scrollTop+"px";L.style.left=document.documentElement.scrollLeft+"px"}function Za(a){if(a)D(Ja,function(c,d){d[0].style.visibility=d[1]||""});else{Ja=[];D(b.options.troubleElements,function(c,d){D(document.getElementsByTagName(d),function(g,h){Ja.push([h,h.style.visibility]);h.style.visibility="hidden"})})}}function P(a,c){if(a=o("sb-nav-"+a))a.style.display=c?"":"none"}function $a(a,
c){var d=o("sb-loading"),g=b.getCurrent().player;g=g=="img"||g=="html";if(a){b.setOpacity(d,0);d.style.display="block";a=function(){b.clearOpacity(d);c&&c()};g?E(d,"opacity",1,b.options.fadeDuration,a):a()}else{a=function(){d.style.display="none";b.clearOpacity(d);c&&c()};g?E(d,"opacity",0,b.options.fadeDuration,a):a()}}function ob(a){var c=b.getCurrent();o("sb-title-inner").innerHTML=c.title||"";var d,g,h,k,m;if(b.options.displayNav){d=true;c=b.gallery.length;if(c>1)if(b.options.continuous)g=m=true;
else{g=c-1>b.current;m=b.current>0}if(b.options.slideshowDelay>0&&b.hasNext()){k=!b.isPaused();h=!k}}else d=g=h=k=m=false;P("close",d);P("next",g);P("play",h);P("pause",k);P("previous",m);g="";if(b.options.displayCounter&&b.gallery.length>1){c=b.gallery.length;if(b.options.counterType=="skip"){h=0;m=c;k=parseInt(b.options.counterLimit)||0;if(k<c&&k>2){m=Math.floor(k/2);h=b.current-m;if(h<0)h+=c;m=b.current+(k-m);if(m>c)m-=c}for(;h!=m;){if(h==c)h=0;g+='<a onclick="Shadowbox.change('+h+');"';if(h==
b.current)g+=' class="sb-counter-current"';g+=">"+ ++h+"</a>"}}else g=[b.current+1,c].join("/")}o("sb-counter").innerHTML=g;a()}function pb(a){var c=o("sb-title-inner"),d=o("sb-info-inner");c.style.visibility=d.style.visibility="";E(c,"marginTop",0,0.35);E(d,"marginTop",0,0.35,a)}function qb(a,c){var d=o("sb-title"),g=o("sb-info");d=d.offsetHeight;g=g.offsetHeight;var h=o("sb-title-inner"),k=o("sb-info-inner");a=a?0.35:0;E(h,"marginTop",d,a);E(k,"marginTop",g*-1,a,function(){h.style.visibility=k.style.visibility=
"hidden";c()})}function ma(a,c,d,g){var h=o("sb-wrapper-inner");d=d?b.options.resizeDuration:0;E(Q,"top",c,d);E(h,"height",a,d,g)}function na(a,c,d,g){d=d?b.options.resizeDuration:0;E(Q,"left",c,d);E(Q,"width",a,d,g)}function Ka(a,c){var d=o("sb-body-inner");a=parseInt(a);c=parseInt(c);var g=Q.offsetHeight-d.offsetHeight;d=Q.offsetWidth-d.offsetWidth;var h=R.offsetHeight,k=R.offsetWidth,m=parseInt(b.options.viewportPadding)||20;return b.setDimensions(a,c,h,k,g,d,m,b.player&&b.options.handleOversize!=
"drag",b.options.topPosition)}var b={version:"3.0.3"},va=function(a,c){for(var d=0;d<a.length;++d)if(a[d]===c)return true;return false},rb=/^(light|shadow)box\[(.*?)\]/i,sb=/\s*([a-z_]*?)\s*=\s*(.+)\s*/,tb=/[0-9a-z]+$/i,ub=/(.+\/)shadowbox\.js/i,oa=document.documentElement,C=false,ab=false,bb={},S=0,wa,H,ua="opacity"in oa.style&&typeof oa.style.opacity==="string",xa=false;(function(){var a=document.createElement("div");a.style.position="fixed";a.style.margin=0;a.style.top="20px";oa.appendChild(a,
oa.firstChild);xa=a.offsetTop==20;oa.removeChild(a)})();b.current=-1;b.dimensions=null;b.ease=function(a){return 1+Math.pow(a-1,3)};b.errorInfo={fla:{name:"Flash",url:"http://www.adobe.com/products/flashplayer/"},qt:{name:"QuickTime",url:"http://www.apple.com/quicktime/download/"}};b.gallery=[];b.onReady=la;b.path=null;b.player=null;b.playerId="sb-player";b.background=null;b.options={animate:true,animateFade:true,autoplayMovies:true,continuous:false,enableKeys:true,enableKeys:{81:function(){},88:function(){},
27:function(){},37:function(){},39:function(){},32:function(){}},flashParams:{bgcolor:"#000000",allowfullscreen:true},flashVars:{},flashVersion:"9.0.115",handleOversize:"resize",handleUnsupported:"link",onChange:la,onClose:la,onFinish:la,onOpen:la,showMovieControls:true,skipSetup:false,slideshowDelay:0,viewportPadding:20};b.getCurrent=function(){return b.current>-1?b.gallery[b.current]:null};b.hasNext=function(){return b.gallery.length>1&&(b.current!=b.gallery.length-1||b.options.continuous)};b.isOpen=
function(){return C};b.isPaused=function(){return H=="pause"};b.applyOptions=function(a){bb=I({},b.options);I(b.options,a)};b.revertOptions=function(){I(b.options,bb)};b.init=function(a,c){if(!ab){ab=true;b.skin.options&&I(b.options,b.skin.options);a&&I(b.options,a);if(!b.path)for(var d=document.getElementsByTagName("script"),g=0,h=d.length;g<h;++g)if(a=ub.exec(d[g].src)){b.path=a[1];break}if(c)b.onReady=c;kb()}};b.open=function(a){if(!C){b.background=a.background||"";if(b.background!="")Q.style.background=
"url("+b.background+")";a=b.makeGallery(a);b.gallery=a[0];b.current=a[1];a=b.getCurrent();if(a!=null){b.applyOptions(a.options||{});gb();if(b.gallery.length){a=b.getCurrent();if(b.options.onOpen(a)!==false){C=true;b.skin.onOpen(a,Oa)}}}}};b.close=function(){if(C){C=false;if(b.player){b.player.remove();b.player=null}if(typeof H=="number"){clearTimeout(H);H=null}S=0;Ga(false);b.options.onClose(b.getCurrent());b.skin.onClose();b.revertOptions()}};b.play=function(){if(b.hasNext()){S||(S=b.options.slideshowDelay*
1E3);if(S){wa=ta();H=setTimeout(function(){S=wa=0;b.next()},S);b.skin.onPlay&&b.skin.onPlay()}}};b.pause=function(){if(typeof H=="number")if(S=Math.max(0,S-(ta()-wa))){clearTimeout(H);H="pause";b.skin.onPause&&b.skin.onPause()}};b.change=function(a){if(!(a in b.gallery))if(b.options.continuous){a=a<0?b.gallery.length+a:0;if(!(a in b.gallery))return}else return;b.current=a;if(typeof H=="number"){clearTimeout(H);H=null;S=wa=0}b.options.onChange(b.getCurrent());Oa(true)};b.next=function(){b.change(b.current+
1)};b.previous=function(){b.change(b.current-1)};b.setDimensions=function(a,c,d,g,h,k,m,aa,W){var G=a,J=c,ba=2*m+h;if(a+ba>d)a=d-ba;var K=2*m+k;if(c+K>g)c=g-K;var O=(G-a)/G,v=(J-c)/J,z=O>0||v>0;if(aa&&z)if(O>v)c=Math.round(J/G*a);else if(v>O)a=Math.round(G/J*c);d=!isNaN(parseFloat(W))&&isFinite(W)?$(y).scrollTop()+W:Math.floor((d-(a+ba))/2-m*2);b.dimensions={height:a+h,width:c+k,innerHeight:a,innerWidth:c,top:d,left:Math.floor((g-(c+K))/2+m),oversized:z};return b.dimensions};b.makeGallery=function(a){var c=
[],d=-1;if(typeof a=="string")a=[a];if(typeof a.length=="number"){D(a,function(k,m){c[k]=m.content?m:{content:m}});d=0}else{if(a.tagName){var g=b.getCache(a);a=g?g:b.makeObject(a)}if(a.gallery){c=[];for(var h in b.cache){g=b.cache[h];if(g.gallery&&g.gallery==a.gallery){if(d==-1&&g.content==a.content)d=c.length;c.push(g)}}if(d==-1){c.unshift(a);d=0}}else{c=[a];d=0}}D(c,function(k,m){c[k]=I({},m)});return[c,d]};b.makeObject=function(a,c){var d={content:a.href,title:a.getAttribute("title")||"",link:a};
if(c){c=I({},c);D(["player","title","background","height","width","gallery"],function(h,k){if(typeof c[k]!="undefined"){d[k]=c[k];delete c[k]}});d.options=c}else d.options={};if(!d.player)d.player=b.getPlayer(d.content);if(a=a.getAttribute("rel")){var g=a.match(rb);if(g)d.gallery=escape(g[2]);D(a.split(";"),function(h,k){if(g=k.match(sb))d[g[1]]=g[2]})}return d};b.getPlayer=function(a){var c=a.indexOf("?");if(c>-1)a=a.substring(0,c);var d;if(a=a.match(tb))d=a[0].toLowerCase();if(d){if(b.img&&va(b.img.ext,
d))return"img";if(b.swf&&va(b.swf.ext,d))return"swf";if(b.flv&&va(b.flv.ext,d))return"flv";if(b.qt&&va(b.qt.ext,d))return"qt"}return"iframe"};b.getStyle=function(){var a=/opacity=([^)]*)/,c=document.defaultView&&document.defaultView.getComputedStyle;return function(d,g){var h;if(!ua&&g=="opacity"&&d.currentStyle){h=a.test(d.currentStyle.filter||"")?parseFloat(RegExp.$1)/100+"":"";return h===""?"1":h}if(c){if(d=c(d,null))h=d[g];if(g=="opacity"&&h=="")h="1"}else h=d.currentStyle[g];return h}}();b.appendHTML=
function(a,c){if(a.insertAdjacentHTML)a.insertAdjacentHTML("BeforeEnd",c);else if(a.lastChild){var d=a.ownerDocument.createRange();d.setStartAfter(a.lastChild);c=d.createContextualFragment(c);a.appendChild(c)}else a.innerHTML=c};b.getWindowSize=function(a){if(document.compatMode==="CSS1Compat")return document.documentElement["client"+a];return document.body["client"+a]};b.setOpacity=function(a,c){a=a.style;if(ua)a.opacity=c==1?"":c;else{a.zoom=1;if(c==1){if(typeof a.filter=="string"&&/alpha/i.test(a.filter))a.filter=
a.filter.replace(/\s*[\w\.]*alpha\([^\)]*\);?/gi,"")}else a.filter=(a.filter||"").replace(/\s*[\w\.]*alpha\([^\)]*\)/gi,"")+" alpha(opacity="+c*100+")"}};b.clearOpacity=function(a){b.setOpacity(a,1)};u.guid=1;u.handleEvent=function(a){var c=true;a=a||u.fixEvent(((this.ownerDocument||this.document||this).parentWindow||y).event);var d=this.events[a.type];for(var g in d){this.__handleEvent=d[g];if(this.__handleEvent(a)===false)c=false}return c};u.preventDefault=function(){this.returnValue=false};u.stopPropagation=
function(){this.cancelBubble=true};u.fixEvent=function(a){a.preventDefault=u.preventDefault;a.stopPropagation=u.stopPropagation;a.keyCode=a.which;return a};var Ha=false,fa;if(document.addEventListener)fa=function(){document.removeEventListener("DOMContentLoaded",fa,false);b.load()};else if(document.attachEvent)fa=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",fa);b.load()}};b.load=function(){if(!Ha){if(!document.body)return setTimeout(b.load,13);Ha=true;
b.onReady();b.options.skipSetup||b.setup();b.skin.init()}};b.plugins={};if(navigator.plugins&&navigator.plugins.length){var ca=[];D(navigator.plugins,function(a,c){ca.push(c.name)});ca=ca.join(",");var pa=arrayIndexOf(ca,"Flip4Mac")>-1;b.plugins={fla:arrayIndexOf(ca,"Shockwave Flash")>-1,qt:arrayIndexOf(ca,"QuickTime")>-1,wmp:!pa&&arrayIndexOf(ca,"Windows Media")>-1,f4m:pa}}else{pa=function(a){var c;try{c=new ActiveXObject(a)}catch(d){}return!!c};b.plugins={fla:pa("ShockwaveFlash.ShockwaveFlash"),
qt:pa("QuickTime.QuickTime")}}var vb=/^(light|shadow)box/i,wb=1;b.cache={};b.select=function(a){var c=[];if(a){var d=typeof a;if((d==="object"||d==="function")&&a.length)for(d=0;d<a.length;++d)c[d]=a[d];else c.push(a)}else{var g;D(document.getElementsByTagName("a"),function(h,k){(g=k.getAttribute("rel"))&&vb.test(g)&&c.push(k)})}return c};b.setup=function(a,c){D(b.select(a),function(d,g){b.addCache(g,c)})};b.teardown=function(a){D(b.select(a),function(c,d){b.removeCache(d)})};b.addCache=function(a,
c){var d=a.shadowboxCacheKey;if(d==Na){d=wb++;a.shadowboxCacheKey=d;u(a,"click",Sa)}b.cache[d]=b.makeObject(a,c)};b.removeCache=function(a){Y(a,"click",Sa);delete b.cache[a.shadowboxCacheKey];a.shadowboxCacheKey=null};b.getCache=function(a){a=a.shadowboxCacheKey;return a in b.cache&&b.cache[a]};b.clearCache=function(){for(var a in b.cache)b.removeCache(b.cache[a].link);b.cache={}};b.flash=function(){var a=function(){function c(){if(qa.readyState=="complete"){qa.parentNode.removeChild(qa);d()}}function d(){if(!ya){if(l.ie&&
l.win){var e=z("span");try{var f=q.getElementsByTagName("body")[0].appendChild(e);f.parentNode.removeChild(f)}catch(i){return}}ya=true;if(za){clearInterval(za);za=null}e=Aa.length;for(f=0;f<e;f++)Aa[f]()}}function g(e){if(ya)e();else Aa[Aa.length]=e}function h(e){if(typeof B.addEventListener!=w)B.addEventListener("load",e,false);else if(typeof q.addEventListener!=w)q.addEventListener("load",e,false);else if(typeof B.attachEvent!=w)Ba(B,"onload",e);else if(typeof B.onload=="function"){var f=B.onload;
B.onload=function(){f();e()}}else B.onload=e}function k(){for(var e=T.length,f=0;f<e;f++){var i=T[f].id;if(l.pv[0]>0){var j=v(i);if(j){T[f].width=j.getAttribute("width")?j.getAttribute("width"):"0";T[f].height=j.getAttribute("height")?j.getAttribute("height"):"0";if(ra(T[f].swfVersion)){l.webkit&&l.webkit<312&&m(j);da(i,true)}else T[f].expressInstall&&!ga&&ra("6.0.65")&&(l.win||l.mac)?aa(T[f]):W(j)}}else da(i,true)}}function m(e){var f=e.getElementsByTagName(U)[0];if(f){var i=z("embed"),j=f.attributes;
if(j)for(var n=j.length,r=0;r<n;r++)j[r].nodeName=="DATA"?i.setAttribute("src",j[r].nodeValue):i.setAttribute(j[r].nodeName,j[r].nodeValue);if(f=f.childNodes){j=f.length;for(n=0;n<j;n++)f[n].nodeType==1&&f[n].nodeName=="PARAM"&&i.setAttribute(f[n].getAttribute("name"),f[n].getAttribute("value"))}e.parentNode.replaceChild(i,e)}}function aa(e){ga=true;var f=v(e.id);if(f){if(e.altContentId){var i=v(e.altContentId);if(i){ha=i;Ca=e.altContentId}}else ha=G(f);if(!/%$/.test(e.width)&&parseInt(e.width,10)<
310)e.width="310";if(!/%$/.test(e.height)&&parseInt(e.height,10)<137)e.height="137";q.title=q.title.slice(0,47)+" - Flash Player Installation";i="MMredirectURL="+B.location+"&MMplayerType="+(l.ie&&l.win?"ActiveX":"PlugIn")+"&MMdoctitle="+q.title;var j=e.id;if(l.ie&&l.win&&f.readyState!=4){var n=z("div");j+="SWFObjectNew";n.setAttribute("id",j);f.parentNode.insertBefore(n,f);f.style.display="none";Ba(B,"onload",function(){f.parentNode.removeChild(f)})}J({data:e.expressInstall,id:cb,width:e.width,height:e.height},
{flashvars:i},j)}}function W(e){if(l.ie&&l.win&&e.readyState!=4){var f=z("div");e.parentNode.insertBefore(f,e);f.parentNode.replaceChild(G(e),f);e.style.display="none";Ba(B,"onload",function(){e.parentNode.removeChild(e)})}else e.parentNode.replaceChild(G(e),e)}function G(e){var f=z("div");if(l.win&&l.ie)f.innerHTML=e.innerHTML;else if(e=e.getElementsByTagName(U)[0])if(e=e.childNodes)for(var i=e.length,j=0;j<i;j++)!(e[j].nodeType==1&&e[j].nodeName=="PARAM")&&e[j].nodeType!=8&&f.appendChild(e[j].cloneNode(true));
return f}function J(e,f,i){var j,n=v(i);if(n){if(typeof e.id==w)e.id=i;if(l.ie&&l.win){var r="";for(var s in e)if(e[s]!=Object.prototype[s])if(s.toLowerCase()=="data")f.movie=e[s];else if(s.toLowerCase()=="styleclass")r+=' class="'+e[s]+'"';else if(s.toLowerCase()!="classid")r+=" "+s+'="'+e[s]+'"';s="";for(var p in f)if(f[p]!=Object.prototype[p])s+='<param name="'+p+'" value="'+f[p]+'" />';n.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+r+">"+s+"</object>";Da[Da.length]=
e.id;j=v(e.id)}else if(l.webkit&&l.webkit<312){p=z("embed");p.setAttribute("type",Ea);for(r in e)if(e[r]!=Object.prototype[r])if(r.toLowerCase()=="data")p.setAttribute("src",e[r]);else if(r.toLowerCase()=="styleclass")p.setAttribute("class",e[r]);else r.toLowerCase()!="classid"&&p.setAttribute(r,e[r]);for(var F in f)f[F]!=Object.prototype[F]&&F.toLowerCase()!="movie"&&p.setAttribute(F,f[F]);n.parentNode.replaceChild(p,n);j=p}else{p=z(U);p.setAttribute("type",Ea);for(var t in e)if(e[t]!=Object.prototype[t])if(t.toLowerCase()==
"styleclass")p.setAttribute("class",e[t]);else t.toLowerCase()!="classid"&&p.setAttribute(t,e[t]);for(var M in f)f[M]!=Object.prototype[M]&&M.toLowerCase()!="movie"&&ba(p,M,f[M]);n.parentNode.replaceChild(p,n);j=p}}return j}function ba(e,f,i){var j=z("param");j.setAttribute("name",f);j.setAttribute("value",i);e.appendChild(j)}function K(e){var f=v(e);if(f&&(f.nodeName=="OBJECT"||f.nodeName=="EMBED"))if(l.ie&&l.win)f.readyState==4?O(e):B.attachEvent("onload",function(){O(e)});else f.parentNode.removeChild(f)}
function O(e){if(e=v(e)){for(var f in e)if(typeof e[f]=="function")e[f]=null;e.parentNode.removeChild(e)}}function v(e){var f=null;try{f=q.getElementById(e)}catch(i){}return f}function z(e){return q.createElement(e)}function Ba(e,f,i){e.attachEvent(f,i);ia[ia.length]=[e,f,i]}function ra(e){var f=l.pv;e=e.split(".");e[0]=parseInt(e[0],10);e[1]=parseInt(e[1],10)||0;e[2]=parseInt(e[2],10)||0;return f[0]>e[0]||f[0]==e[0]&&f[1]>e[1]||f[0]==e[0]&&f[1]==e[1]&&f[2]>=e[2]?true:false}function db(e,f){if(!(l.ie&&
l.mac)){var i=q.getElementsByTagName("head")[0],j=z("style");j.setAttribute("type","text/css");j.setAttribute("media","screen");!(l.ie&&l.win)&&typeof q.createTextNode!=w&&j.appendChild(q.createTextNode(e+" {"+f+"}"));i.appendChild(j);if(l.ie&&l.win&&typeof q.styleSheets!=w&&q.styleSheets.length>0){i=q.styleSheets[q.styleSheets.length-1];typeof i.addRule==U&&i.addRule(e,f)}}}function da(e,f){f=f?"visible":"hidden";if(ya&&v(e))v(e).style.visibility=f;else db("#"+e,"visibility:"+f)}function eb(e){return/[\\\"<>\.;]/.exec(e)!=
null?encodeURIComponent(e):e}var w="undefined",U="object",Ea="application/x-shockwave-flash",cb="SWFObjectExprInst",B=y,q=document,X=navigator,Aa=[],T=[],Da=[],ia=[],qa,za=null,ha=null,Ca=null,ya=false,ga=false,l=function(){var e=typeof q.getElementById!=w&&typeof q.getElementsByTagName!=w&&typeof q.createElement!=w,f=[0,0,0],i=null;if(typeof X.plugins!=w&&typeof X.plugins["Shockwave Flash"]==U){if((i=X.plugins["Shockwave Flash"].description)&&!(typeof X.mimeTypes!=w&&X.mimeTypes[Ea]&&!X.mimeTypes[Ea].enabledPlugin)){i=
i.replace(/^.*\s+(\S+\s+\S+$)/,"$1");f[0]=parseInt(i.replace(/^(.*)\..*$/,"$1"),10);f[1]=parseInt(i.replace(/^.*\.(.*)\s.*$/,"$1"),10);f[2]=/r/.test(i)?parseInt(i.replace(/^.*r(.*)$/,"$1"),10):0}}else if(typeof B.ActiveXObject!=w){var j=null,n=false;try{j=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(r){try{j=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");f=[6,0,21];j.AllowScriptAccess="always"}catch(s){if(f[0]==6)n=true}if(!n)try{j=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(p){}}if(!n&&
j)try{if(i=j.GetVariable("$version")){i=i.split(" ")[1].split(",");f=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)]}}catch(F){}}n=X.userAgent.toLowerCase();var t=X.platform.toLowerCase();i=/webkit/.test(n)?parseFloat(n.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false;j=t?/win/.test(t):/win/.test(n);n=t?/mac/.test(t):/mac/.test(n);return{w3cdom:e,pv:f,webkit:i,ie:false,win:j,mac:n}}();(function(){if(l.w3cdom){g(k);if(l.ie&&l.win)try{q.write("<script id=__ie_ondomload defer=true src=//:><\/script>");
(qa=v("__ie_ondomload"))&&Ba(qa,"onreadystatechange",c)}catch(e){}if(l.webkit&&typeof q.readyState!=w)za=setInterval(function(){/loaded|complete/.test(q.readyState)&&d()},10);typeof q.addEventListener!=w&&q.addEventListener("DOMContentLoaded",d,null);h(d)}})();(function(){l.ie&&l.win&&y.attachEvent("onunload",function(){for(var e=ia.length,f=0;f<e;f++)ia[f][0].detachEvent(ia[f][1],ia[f][2]);e=Da.length;for(f=0;f<e;f++)K(Da[f]);for(var i in l)l[i]=null;l=null;for(var j in a)a[j]=null;a=null})})();
return{registerObject:function(e,f,i){if(!(!l.w3cdom||!e||!f)){var j={};j.id=e;j.swfVersion=f;j.expressInstall=i?i:false;T[T.length]=j;da(e,false)}},getObjectById:function(e){var f=null;if(l.w3cdom)if(e=v(e)){var i=e.getElementsByTagName(U)[0];if(!i||i&&typeof e.SetVariable!=w)f=e;else if(typeof i.SetVariable!=w)f=i}return f},embedSWF:function(e,f,i,j,n,r,s,p,F){if(!(!l.w3cdom||!e||!f||!i||!j||!n)){i+="";j+="";if(ra(n)){da(f,false);var t={};if(F&&typeof F===U)for(var M in F)if(F[M]!=Object.prototype[M])t[M]=
F[M];t.data=e;t.width=i;t.height=j;var sa={};if(p&&typeof p===U)for(var Fa in p)if(p[Fa]!=Object.prototype[Fa])sa[Fa]=p[Fa];if(s&&typeof s===U)for(var ja in s)if(s[ja]!=Object.prototype[ja])if(typeof sa.flashvars!=w)sa.flashvars+="&"+ja+"="+s[ja];else sa.flashvars=ja+"="+s[ja];g(function(){J(t,sa,f);t.id==f&&da(f,true)})}else if(r&&!ga&&ra("6.0.65")&&(l.win||l.mac)){ga=true;da(f,false);g(function(){var ka={};ka.id=ka.altContentId=f;ka.width=i;ka.height=j;ka.expressInstall=r;aa(ka)})}}},getFlashPlayerVersion:function(){return{major:l.pv[0],
minor:l.pv[1],release:l.pv[2]}},hasFlashPlayerVersion:ra,createSWF:function(e,f,i){return l.w3cdom?J(e,f,i):Na},removeSWF:function(e){l.w3cdom&&K(e)},createCSS:function(e,f){l.w3cdom&&db(e,f)},addDomLoadEvent:g,addLoadEvent:h,getQueryParamValue:function(e){var f=q.location.search||q.location.hash;if(e==null)return eb(f);if(f){f=f.substring(1).split("&");for(var i=0;i<f.length;i++)if(f[i].substring(0,f[i].indexOf("="))==e)return eb(f[i].substring(f[i].indexOf("=")+1))}return""},expressInstallCallback:function(){if(ga&&
ha){var e=v(cb);if(e){e.parentNode.replaceChild(ha,e);if(Ca){da(Ca,true);if(l.ie&&l.win)ha.style.display="block"}Ca=ha=null;ga=false}}}}}();return a}();b.flv=function(a,c){this.obj=a;this.id=c;this.height=a.height?parseInt(a.height,10):300;if(b.options.showMovieControls)this.height+=20;this.width=a.width?parseInt(a.width,10):300};b.flv.ext=["flv","m4v"];b.flv.prototype={append:function(a,c){var d=document.createElement("div");d.id=this.id;a.appendChild(d);a=c.innerHeight;c=c.innerWidth;d=b.path+"player.swf";
var g=b.options.flashVersion,h=b.path+"expressInstall.swf",k=I({file:this.obj.content,height:a,width:c,autostart:b.options.autoplayMovies?"true":"false",controlbar:b.options.showMovieControls?"bottom":"none",backcolor:"0x000000",frontcolor:"0xCCCCCC",lightcolor:"0x557722"},b.options.flashVars);b.flash.embedSWF(d,this.id,c,a,g,h,k,b.options.flashParams)},remove:function(){b.flash.expressInstallCallback();b.flash.removeSWF(this.id)},onWindowResize:function(){var a=b.dimensions,c=o(this.id);c.height=
a.innerHeight;c.width=a.innerWidth}};b.html=function(a,c){this.obj=a;this.id=c;this.height=a.height?parseInt(a.height,10):300;this.width=a.width?parseInt(a.width,10):500};b.html.prototype={append:function(a){var c=document.createElement("div");c.id=this.id;c.className="html";c.innerHTML=this.obj.content;a.appendChild(c)},remove:function(){var a=o(this.id);a&&ea(a)}};b.iframe=function(a,c){this.obj=a;this.id=c;c=o("sb-overlay");this.height=a.height?parseInt(a.height,10):c.offsetHeight;this.width=a.width?
parseInt(a.width,10):c.offsetWidth};b.iframe.prototype={append:function(a){a.innerHTML='<iframe id="'+this.id+'" name="'+this.id+'" height="100%" width="100%" frameborder="0" marginwidth="0" marginheight="0" style="visibility:hidden" onload="this.style.visibility=\'visible\'" scrolling="auto" allowtransparency="true" src="about:blank"></iframe>'},remove:function(){var a=o(this.id);if(a){ea(a);try{delete y.frames[this.id]}catch(c){}}},onLoad:function(){y.frames[this.id].location.href=this.obj.content}};
var N,Ua="sb-drag-proxy",A,Z,V;b.img=function(a,c){this.obj=a;this.id=c;this.ready=false;var d=this;N=new Image;N.onload=function(){d.height=a.height?parseInt(a.height,10):N.height;d.width=a.width?parseInt(a.width,10):N.width;d.ready=true;N=N.onload=null};N.src=a.content};b.img.ext=["bmp","gif","jpg","jpeg","png"];b.img.prototype={append:function(a,c){var d=document.createElement("img");d.id=this.id;d.src=this.obj.content;d.style.position="absolute";var g;if(c.oversized&&b.options.handleOversize==
"resize"){g=c.innerHeight;c=c.innerWidth}else{g=this.height;c=this.width}d.setAttribute("height",g);d.setAttribute("width",c);a.appendChild(d)},remove:function(){var a=o(this.id);a&&ea(a);nb();if(N)N=N.onload=null},onLoad:function(){b.dimensions.oversized&&b.options.handleOversize=="drag"&&mb()},onWindowResize:function(){var a=b.dimensions;switch(b.options.handleOversize){case "resize":var c=o(this.id);c.height=a.innerHeight;c.width=a.innerWidth;break;case "drag":if(V){c=parseInt(b.getStyle(V,"top"));
var d=parseInt(b.getStyle(V,"left"));if(c+this.height<a.innerHeight)V.style.top=a.innerHeight-this.height+"px";if(d+this.width<a.innerWidth)V.style.left=a.innerWidth-this.width+"px";Ta()}break}}};var fb=document.createElement("object");b.qt=function(a,c){this.obj=a;this.id=c;this.height=a.height?parseInt(a.height,10):300;if(b.options.showMovieControls)this.height+=16;this.width=a.width?parseInt(a.width,10):300};b.qt.ext=["dv","mov","moov","movie","mp4","avi","mpg","mpeg"];b.qt.prototype={append:function(a){var c=
b.options,d=String(c.autoplayMovies),g=String(c.showMovieControls);c="<object";var h={id:this.id,name:this.id,height:this.height,width:this.width,kioskmode:"true"};if("classid"in fb&&"codeBase"in fb){h.classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B";h.codeBase="http://www.apple.com/qtactivex/qtplugin.cab#version=6,0,2,0"}else{h.type="video/quicktime";h.data=this.obj.content}for(var k in h)c+=" "+k+'="'+h[k]+'"';c+=">";d={src:this.obj.content,scale:"aspect",controller:g,autoplay:d};for(var m in d)c+=
'<param name="'+m+'" value="'+d[m]+'">';c+="</object>";a.innerHTML=c},remove:function(){try{document[this.id].Stop()}catch(a){}var c=o(this.id);c&&ea(c)}};b.swf=function(a,c){this.obj=a;this.id=c;this.height=a.height?parseInt(a.height,10):300;this.width=a.width?parseInt(a.width,10):300};b.swf.ext=["swf"];b.swf.prototype={append:function(a,c){var d=document.createElement("div");d.id=this.id;a.appendChild(d);b.flash.embedSWF(this.obj.content,this.id,c.innerWidth,c.innerHeight,b.options.flashVersion,
b.path+"expressInstall.swf",b.options.flashVars,b.options.flashParams)},remove:function(){b.flash.expressInstallCallback();b.flash.removeSWF(this.id)},onWindowResize:function(){var a=b.dimensions,c=o(this.id);c.height=a.innerHeight;c.width=a.innerWidth}};var La=false,Ja=[],xb=["sb-nav-close","sb-nav-next","sb-nav-play","sb-nav-pause","sb-nav-previous"],L,R,Q,Ma=true,x={};x.markup='<div id="sb-container"><div id="sb-overlay"></div><div id="sb-wrapper"><div id="sb-title"><div id="sb-title-inner"></div><div id="sb-nav"><a id="sb-nav-close" onclick="Shadowbox.close()"></a><a id="sb-nav-next" onclick="Shadowbox.next()"></a><a id="sb-nav-play" onclick="Shadowbox.play()"></a><a id="sb-nav-pause" onclick="Shadowbox.pause()"></a><a id="sb-nav-previous" onclick="Shadowbox.previous()"></a></div></div><div id="sb-wrapper-inner"><div id="sb-body"><div id="sb-body-inner"></div><div id="sb-loading"><div id="sb-loading-inner"><span>{loading}</span></div></div></div></div><div id="sb-info"><div id="sb-info-inner"><div id="sb-counter"></div></div></div></div></div>';
x.options={animSequence:"sync",counterLimit:10,counterType:"default",displayCounter:true,displayNav:true,fadeDuration:0.35,initialHeight:160,initialWidth:320,modal:false,overlayColor:"#000",overlayOpacity:0.5,resizeDuration:0.35,showOverlay:true,topPosition:45,troubleElements:["select","object","embed","canvas"]};x.init=function(){b.appendHTML(document.body,x.markup);x.body=o("sb-body-inner");L=o("sb-container");R=o("sb-overlay");Q=o("sb-wrapper");if(!xa)L.style.position="absolute";if(!ua){var a,
c,d=/url\("(.*\.png)"\)/;D(xb,function(h,k){if(a=o(k))if(c=b.getStyle(a,"backgroundImage").match(d)){a.style.backgroundImage="none";a.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true,src="+c[1]+",sizingMethod=scale);"}})}var g;u(y,"resize",function(){if(g){clearTimeout(g);g=null}if(C)g=setTimeout(x.onWindowResize,10)})};x.onOpen=function(a,c){Ma=false;L.style.display="block";Ya();a=Ka(b.options.initialHeight,b.options.initialWidth);ma(a.innerHeight,a.top);na(a.width,a.left);
if(b.options.showOverlay){R.style.backgroundColor=b.options.overlayColor;b.setOpacity(R,0);b.options.modal||u(R,"click",b.close);La=true}if(!xa){Ia();u(y,"scroll",Ia)}Za();L.style.visibility="visible";La?E(R,"opacity",b.options.overlayOpacity,b.options.fadeDuration,c):c()};x.onLoad=function(a,c){for($a(true);x.body.firstChild;)ea(x.body.firstChild);qb(a,function(){if(C){if(!a)Q.style.visibility="visible";ob(c)}})};x.onReady=function(a){if(C){var c=b.player,d=Ka(c.height,c.width),g=function(){pb(a)};
switch(b.options.animSequence){case "hw":ma(d.innerHeight,d.top,true,function(){na(d.width,d.left,true,g)});break;case "wh":na(d.width,d.left,true,function(){ma(d.innerHeight,d.top,true,g)});break;default:na(d.width,d.left,true);ma(d.innerHeight,d.top,true,g)}}};x.onShow=function(a){$a(false,a);Ma=true};x.onClose=function(){xa||Y(y,"scroll",Ia);Y(R,"click",b.close);Q.style.visibility="hidden";var a=function(){L.style.visibility="hidden";L.style.display="none";Za(true)};La?E(R,"opacity",0,b.options.fadeDuration,
a):a()};x.onPlay=function(){P("play",false);P("pause",true)};x.onPause=function(){P("pause",false);P("play",true)};x.onWindowResize=function(){if(Ma){Ya();var a=b.player,c=Ka(a.height,a.width);na(c.width,c.left);ma(c.innerHeight,c.top);a.onWindowResize&&a.onWindowResize()}};b.skin=x;y.Shadowbox=b})(window);
