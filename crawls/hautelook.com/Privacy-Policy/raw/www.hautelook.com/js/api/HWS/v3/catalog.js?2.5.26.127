if("undefined"===typeof HWS)var HWS={};"undefined"===typeof HWS.v3&&(HWS.v3={});HWS.v3.catalog={};HWS.v3.catalog.assign=function(a,b,d,e){var c;if(a.hasOwnProperty(b))for(c in a[b])d[c]=a[b][c];else throw Error(e);return d};
HWS.v3.catalog.Request=function(a,b,d){function e(a){return a!=="undefined"&&typeof a==="function"}var c={},f;c.url=a;c.type="get";c.dataType="json";c.useREST=true;c.haloHandleAjaxResponse=true;if(e(b.onFailure))c.haloFail=b.onFailure;if(e(b.complete))c.complete=b.complete;if(e(b.onSuccess))f=b.onSuccess;c.haloSuccess=function(a,b,c){var g=a;e(d)&&(g=d(a));f&&f(g,b,c)};return c};
HWS.v3.catalog.get=function(a){var b;b="/v3/catalog/"+a.event_id;typeof a.preview!=="undefined"&&a.preview===true&&(b=b+"/preview");a=new HWS.v3.catalog.Request(b,a,function(a){var b=new HWS.models.Catalog;return b=HWS.v3.catalog.assign(a,"catalog",b,"HWS.v3.catalog.get - web service should return an object with first property namedcatalog")});$.ajax(a)};HWS.v3.catalog.availability={};
HWS.v3.catalog.availability.get=function(a){var b;b="/v3/catalog/"+a.event_id+"/availability";typeof a.preview!=="undefined"&&a.preview===true&&(b=b+"/preview");a=new HWS.v3.catalog.Request(b,a,function(a){var b=[];if(a.hasOwnProperty("availabilities"))$.each(a.availabilities,function(c){var f=new HWS.models.CatalogAvailability,c=HWS.v3.catalog.assign(a.availabilities[c],"availability",f,"HWS.v3.catalog.availability.get - web service should return an array of objects each with the first property namedavailability");
b.push(c)});else throw Error("HWS.v3.catalog.availability.get - web service should return an object with first property named availabilities");return b});$.ajax(a)};HWS.v3.catalog.event={};
HWS.v3.catalog.event.get=function(a){a=new HWS.v3.catalog.Request("/v3/event/"+a.event_id,a,function(a){var d;if(a.hasOwnProperty("event"))typeof a.event.meta.status!=="undefined"&&(d=new HWS.v3.events.object(a.event));else throw Error("HWS.v3.catalog.event.get - web service should return an object with first property named event");return d});$.ajax(a)};
