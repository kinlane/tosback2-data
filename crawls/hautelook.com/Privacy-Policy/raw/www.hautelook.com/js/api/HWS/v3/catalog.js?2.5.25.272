if(typeof HWS==="undefined")var HWS={};if(typeof HWS.v3==="undefined")HWS.v3={};HWS.v3.catalog={};HWS.v3.catalog.assign=function(a,b,d,e){var c;if(a.hasOwnProperty(b))for(c in a[b])d[c]=a[b][c];else throw new Error(e);return d};
HWS.v3.catalog.Request=function(a,b,d){function e(f){return f!=="undefined"&&typeof f==="function"}var c={},g;c.url=a;c.type="get";c.dataType="json";c.useREST=true;c.haloHandleAjaxResponse=true;if(e(b.onFailure))c.haloFail=b.onFailure;if(e(b.complete))c.complete=b.complete;if(e(b.onSuccess))g=b.onSuccess;c.haloSuccess=function(f,i,j){var h=f;if(e(d))h=d(f);g&&g(h,i,j)};return c};
HWS.v3.catalog.get=function(a){var b;b="/v3/catalog/"+a.event_id;if(typeof a.preview!=="undefined"&&a.preview===true)b+="/preview";a=new HWS.v3.catalog.Request(b,a,function(d){var e=new HWS.models.Catalog;return e=HWS.v3.catalog.assign(d,"catalog",e,"HWS.v3.catalog.get - web service should return an object with first property namedcatalog")});$.ajax(a)};HWS.v3.catalog.availability={};
HWS.v3.catalog.availability.get=function(a){var b;b="/v3/catalog/"+a.event_id+"/availability";if(typeof a.preview!=="undefined"&&a.preview===true)b+="/preview";a=new HWS.v3.catalog.Request(b,a,function(d){var e=[];if(d.hasOwnProperty("availabilities"))$.each(d.availabilities,function(c){var g=new HWS.models.CatalogAvailability;c=HWS.v3.catalog.assign(d.availabilities[c],"availability",g,"HWS.v3.catalog.availability.get - web service should return an array of objects each with the first property namedavailability");
e.push(c)});else throw new Error("HWS.v3.catalog.availability.get - web service should return an object with first property named availabilities");return e});$.ajax(a)};HWS.v3.catalog.event={};
HWS.v3.catalog.event.get=function(a){a=new HWS.v3.catalog.Request("/v3/event/"+a.event_id,a,function(b){var d;if(b.hasOwnProperty("event")){if(typeof b.event.meta.status!=="undefined")d=new HWS.v3.events.object(b.event)}else throw new Error("HWS.v3.catalog.event.get - web service should return an object with first property named event");return d});$.ajax(a)};
