(function(w,undefined){var d=w.document,isDebug=false,cdsDomain=d.domain.indexOf(".")>-1?d.domain.substr(d.domain.indexOf(".")):"",cdsCookies=null,cookieValueRegex=/([^?\.|]+)(\.([^|]*))?/g,browser=null,isDomReady=false,isPageLoad=false,COOKIE_SITE_VERSION_NAME="SiteVersionCookie",COOKIE_SITE_VERSION_NOCHANGE_NAME="SiteVersionCookieNoChanges",COOKIE_VARIANT_NAME="VariantCookie",COOKIE_ID_NAME="CookieId",COOKIE_CLIENT_ID_NAME="ClientId",COOKIE_UNIQUE_CONTEXT_NAME="UniqueVisitContext",webForms2={inputType:{},inputAttr:{}};(function(){var dummyInput=d.createElement("input"),types="search;tel;url;email;datetime;date;month;week;time;datetime-local;number;range;color".split(";"),attrs="autocomplete;autofocus;list;placeholder;max min;multiple;pattern;required;step".split(";"),theValue;for(var i in types){theValue=types[i];dummyInput.setAttribute("type",theValue);webForms2.inputType[theValue]=dummyInput.type!=="text"}for(var i in attrs){theValue=attrs[i];webForms2.inputAttr[theValue]=theValue in dummyInput}})();var extendProperties=function(obj,extension){for(var property in extension)extension.hasOwnProperty(property)&&!obj[property]?(obj[property]=extension[property]):false;return obj};extendProperties(String.prototype,{isEmpty:function(){return /^[ ]*$/.test(this||"")},trim:function(){return (this||"").replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"")},removeSpace:function(){return this.replace(/[ ]+/g,"")},oneLine:function(){return this.replace(/[\r\n\f\t\v]+/g,"")},capitalize:function(){return this.replace(/\w+/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})},sprintf:function(){var a=arguments,s="",p=0,$t=this,idx=0;this.replace(/(%(.\d){0,1}d)|(%s)/g,function($0,$1,$2,$3,$4){var s2=(a[idx]!==undefined?a[idx]:"").toString();if($0.length===4){var c=$0.charAt(1),n=parseInt($0.charAt(2),10),bs="";n=n-s2.length;while(n-->0)bs+=c;s2=bs+s2}s+=$t.substring(p,$4)+s2;p=$4+$0.length;++idx});return s+$t.substring(p)},toNumber:function(){return w.parseInt(this||0,10)}});extendProperties(Array.prototype,{each:function(h){var i=0;while(i<this.length)h(this[i++]);return this}});Array.prototype.map||(Array.prototype.map=function(fn,obj){for(var tab=[],i=0;i<this.length;i++)tab[i]=fn.call(obj,this[i],i,this);return tab});var cds={CookieSiteVersionName:COOKIE_SITE_VERSION_NAME,CookieVarianName:COOKIE_VARIANT_NAME,CookieCookieIdName:COOKIE_ID_NAME,CookieClientIdName:COOKIE_CLIENT_ID_NAME,CookieUContextName:COOKIE_UNIQUE_CONTEXT_NAME,isDebug:isDebug,isEmptyString:function(str){return /^[ ]*$/.test(str||"")},trim:function(str){return (str||"").replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"")},qsToObj:function(qs,isToLowerCase){var obj={};qs.toString().trim().replace("#","&anchor=").replace(/([^?=&]+)(=([^&]*))?/g,function($0,$1,$2,$3){obj[isToLowerCase||false?$1.toLowerCase():$1]=decodeURIComponent($3)});return obj},getBrowser:function(){if(!browser){var ua=w.navigator.userAgent.toLowerCase(),match=/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||!/compatible/.test(ua)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(ua)||[];browser={name:match[1]||"",version:match[2]||"0"}}return browser},type:function(obj){return Object.prototype.toString.apply(obj).toLowerCase().replace(/\[object (.*)\]/,function($0,$1){return $1})},log:function(message){typeof message==="string"&&typeof console==="object"&&typeof console.log==="function"&&console.log(message)},getAllCookies:function(){var cookiesObj={},that=this;d.cookie.replace(/([^?=;]+)(=([^;]*))?/g,function($0,$1,$2,$3){var cName=$1.trim(),cValue=typeof $3==="string"?$3.trim():"";if(cName===COOKIE_ID_NAME)(cValue||"").replace(new RegExp("([^=&]+)(=([^&]*))?","g"),function($0,$1,$2,$3){cookiesObj[$1]=$3||""});else if(cName===COOKIE_UNIQUE_CONTEXT_NAME){for(var values=cValue.split("__"),j=0;j<values.length;j++)if(j%2===0&&!values[j].isEmpty())cookiesObj[values[j]]=j+1<values.length?unescape(values[j+1]):""}else if(!cName.isEmpty())cookiesObj[cName]=unescape(cValue)});return cdsCookies=cookiesObj},getCookie:function(cName){var cValue="";if(!cName.isEmpty()){if(cdsCookies===null)cdsCookies=this.getAllCookies();if(cdsCookies[cName]!==undefined)cValue=cdsCookies[cName]}return cValue},setCookie:function(cName,cValue,cExpireMin){if(!cName.isEmpty()){var expires="";if(cExpireMin){var date=new Date;date.setTime(date.getTime()+cExpireMin*60*1e3);expires=";expires="+date.toGMTString()}d.cookie=cName+"="+cValue+";domain="+cdsDomain+expires+";path=/";cdsCookies=null}},deleteCookie:function(cName){this.setCookie(cName,"",-1)},cookieValueToObj:function(cValue){var obj={};cValue.toString().trim().replace(cookieValueRegex,function($0,$1,$2,$3){obj[$1]=$3!==undefined?$3:""});obj.toString=function(){var toStr="",i;for(i in this){var that=this[i];if(typeof that==="string")toStr+=(toStr!==""?"|":"")+(i+"."+that)}return toStr};return obj},getSiteVersion:function(typeVersion){return this.cookieValueToObj(this.getCookie(COOKIE_SITE_VERSION_NAME))[typeVersion]==="1"||this.cookieValueToObj(this.getCookie(COOKIE_SITE_VERSION_NOCHANGE_NAME))[typeVersion]==="1"},getVariant:function(vName){var vValue=this.cookieValueToObj(this.getCookie(COOKIE_VARIANT_NAME))[vName];return vValue!==undefined?vValue:""},parseJson:function(str){return typeof JSON!=="undefined"?JSON.parse(str):eval("("+str+")")},loadScript:function(s,callback){if(s){var fs=d.getElementsByTagName("script")[0],ns=d.createElement("script");ns.type="text/javascript";ns.async=true;if(s.src)ns.src=s.src;if(s.text)ns.text=s.text;if(s.id)ns.id=s.id;if(callback)if(ns.readyState)ns.onreadystatechange=function(){(ns.readyState==="complete"||ns.readyState==="loaded")&&callback()};else ns.onload=callback;fs.parentNode.insertBefore(ns,fs)}},loadScriptToPageLoad:function(s,callback){this.bindToPageLoad(function(){this.loadScript(s,callback)})},loadOrderedScripts:function(scrArr,callback){if(scrArr.length>1){var newArr=scrArr.slice(1);this.loadScript({src:scrArr[0]},function(){cds.loadOrderedScripts(newArr,callback)})}else this.loadScript({src:scrArr[0]},callback)},insertScript:function(srcAttr,idAttr){var scriptTag="";if(srcAttr){scriptTag='<script type="text/javascript""';if(idAttr)scriptTag+=' id="'+idAttr+'"';scriptTag+=' src="'+srcAttr+'"></scr'+"ipt>"}d.write(scriptTag)},getXHR:function(urlXhr,isAsyn,success,error){if(urlXhr){var xhr=null,asyn=isAsyn||false;if(w.ActiveXObject)xhr=new w.ActiveXObject("Microsoft.XMLHTTP");else if(w.XMLHttpRequest)xhr=new w.XMLHttpRequest;if(success)xhr.onreadystatechange=function(){xhr.readyState==4&&success(xhr.responseText)};if(error)xhr.onerror=function(){error()};if(xhr){xhr.open("GET",urlXhr,asyn);xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");xhr.send(null)}if(!asyn)return xhr.responseText}},sendRequest:function(url){if(url)(new Image).src=url},addStyles:function(styles){if(styles){var styleTag=d.createElement("style");styleTag.type="text/css";styleTag.appendChild(d.createTextNode(styles));d.getElementsByTagName("head").item(0).appendChild(styleTag)}},loadStylesSheet:function(sUrl){if(sUrl){var linkTag=d.createElement("link");linkTag.type="text/css";linkTag.rel="stylesheet";linkTag.href=sUrl;linkTag.media="screen";d.getElementsByTagName("head")[0].appendChild(linkTag)}},bindToPageLoad:function(handler){if(isPageLoad)handler();else if(w.attachEvent)w.attachEvent("onload",handler);else w.addEventListener("load",handler,false)},bindToDomReady:function(handler){if(isDomReady)handler();else if(d.attachEvent)d.attachEvent("onreadystatechange",handler);else d.addEventListener("DOMContentLoaded",handler,false)},isDomReady:function(){return isDomReady},isPageLoad:function(){return isPageLoad},isInputTypeSupported:function(type){return webForms2.inputType[type]},isInputAttrSupported:function(attr){return webForms2.inputAttr[attr]}};cds.bindToDomReady(function(){if(typeof cdsSocial!=="undefined")if((cds.getCookie("widgetIsClosed")=="false"||cds.getCookie("widgetIsClosed")=="")&&!cdsSocial._isFacebookConnected){$("#widget_bar").attr("style","right:0px;");$("#widget_close").attr("style","right:0px;")}else{if(cds.getCookie("widgetIsClosed")=="true"){$("#widget_bar").attr("style","right:-34px;");$("#widget_close").attr("style","right:-34px;")}cdsSocial._isFacebookConnected&&$("#widget_close").attr("style","right:-34px;");if(cdsSocial._isFacebookConnected&&cds.getCookie("widgetIsClosed")=="true"){$("#widget_bar").attr("style","right:0px;");$("#widget_close").attr("style","display:none;")}}isDomReady=true});cds.bindToPageLoad(function(){isPageLoad=true});w["cds"]=cds})(window);(function(cds){var document=window.document,PRICER_PROXY_URL="/PricerServiceProxy.mvc",ADD_TO_BASKET_MANAGER_URL="/v2/Order/AddToBasketManager.aspx",placementsList=[],loadedPlacementsCount=0;cds.addRRPlacement=function(placementType){placementType&&placementsList.push(placementType);return placementsList};cds.getRRPlacements=function(){return placementsList};cds.clearRRPlacements=function(){placementsList=[]};cds.rrPlacement=function(placementType){if(typeof r3_placement==="function"&&typeof rr_flush_onload==="function"&&placementType){r3_placement(placementType);($("#hdnPageType").val()==="HomePage"||cds.getBrowser()["name"]!=="mozilla")&&++loadedPlacementsCount==placementsList.length&&rr_flush_onload()}};cds.addRRProductToBasket=function(productId,richRelevantUrl,isProductPageRedirect,productPageUrl){if(isProductPageRedirect===true&&!cds.isEmptyString(productPageUrl))document.location.href=productPageUrl;else if(productId){addToBasketData={productId:productId,isRichRelevanceProduct:true,isNotRrMaster:true};var options={};options.successFunction=function(){!cds.isEmptyString(richRelevantUrl)&&cds.sendRequest(richRelevantUrl)};if(typeof $.addToBasket!=="undefined")$.addToBasket(addToBasketData,options);else{var pageType=$("#hdnPageType").attr("value");cds.sendRequest(richRelevantUrl);var response=cds.getXHR(ADD_TO_BASKET_MANAGER_URL+"?pageType="+pageType+"&addMainProduct=true&isRichRelevanceProduct=true&productId="+productId+"&isNotRrMaster=true&isForcedPageType=true");obj=response&&!response.AddToBasketError?cds.parseJson(response):{};if(obj.GoToUrl)window.location.href=obj.GoToUrl}}};cds.getRRPriceInformations=function(productIdList){var response="";if(productIdList&&productIdList.push&&productIdList.length>0)response=cds.getXHR(PRICER_PROXY_URL+"?productidlist="+productIdList.join(";"));else cds.log("getProductPriceInformations: productIdList="+productIdList);return response&&!response.PricerServiceProxyError?cds.parseJson(response):{}};if(typeof jQuery!=="undefined"){$.addRichRelevanceProductToBasket=function(productId,richRelevantUrl,isProductPageRedirect,productPageUrl){cds.addRRProductToBasket(productId,richRelevantUrl,isProductPageRedirect,productPageUrl)};$.getProductPriceInformations=function(productIdList){return cds.getRRPriceInformations(productIdList)}}function getViewPortWidth(){if(typeof window.innerWidth!="undefined")viewportwidth=window.innerWidth;else if(typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth!=0)viewportwidth=document.documentElement.clientWidth;else viewportwidth=document.getElementsByTagName("body")[0].clientWidth}over=function(ele){for(i=0;i<ele.childNodes.length;i++){var eleNode=ele.childNodes[i];if(eleNode.className!=null&&eleNode.className.indexOf("_h")==-1){var oldClass=eleNode.className;eleNode.setAttribute("className",oldClass+"_h");eleNode.setAttribute("class",oldClass+"_h")}}};out=function(ele){for(i=0;i<ele.childNodes.length;i++){var eleNode=ele.childNodes[i];if(eleNode.className!=null&&eleNode.className.indexOf("_h")!=-1){var oldClass=eleNode.className;eleNode.setAttribute("className",oldClass.substring(0,oldClass.length-2));eleNode.setAttribute("class",oldClass.substring(0,oldClass.length-2))}}};rr_carousel=function(carouselId,pb,nb,scrollBy,scrollSize,carouselOrientation,lazyLoad){var that=this,rrc_object=document.getElementById(carouselId),usePreviousNext=false,previousButton,nextButton;if(pb&&nb){usePreviousNext=true;previousButton=document.getElementById(pb);nextButton=document.getElementById(nb)}try{var rrc_totalItems=rrc_object.getElementsByTagName("li").length}catch(err){return}var rrc_doLazyload=false;if(lazyLoad)rrc_doLazyload=lazyLoad;var rrc_scrollBy=1;if(scrollBy!==undefined)rrc_scrollBy=scrollBy;var rrc_scrollSize=100;if(scrollSize!==undefined)rrc_scrollSize=scrollSize;var rrc_orientation="h";if(carouselOrientation!==undefined)rrc_orientation=carouselOrientation;var rrc_objectSize=0;if(rrc_orientation==="v")rrc_objectSize=rrc_object.parentNode.offsetHeight;else rrc_objectSize=rrc_object.parentNode.offsetWidth;var rrc_interval=80,rrc_moveTime=30,rrc_easingSpeed=.5,rrc_currLocation=0,rrc_currDestination=0,rrc_eInterval=0,rrc_lockMove=0,rrc_visibleItems=rrc_objectSize/rrc_scrollSize;rrSetClass(previousButton,"rrPrevious-disabled");rrc_orientation==="h"&&rrc_flexLayout();this.rrc_moveCarousel=function(direction){rrc_visibleItems=Math.floor(rrc_objectSize/rrc_scrollSize);var scrollBy=rrc_scrollBy;if(rrc_scrollBy<0)scrollBy=rrc_visibleItems;rrc_doLazyload&&rrc_lazyLoad(this.getRecImages,rrc_scrollSize*scrollBy,direction);if(rrc_visibleItems<rrc_totalItems){if(direction=="previous"&&rrc_lockMove===0){rrc_lockMove=1;if(rrc_currDestination<-(rrc_scrollSize*scrollBy)){rrc_currDestination=rrc_currDestination+rrc_scrollSize*scrollBy;rrSetClass(nextButton,"rrNext")}else{rrc_currDestination=0;rrSetClass(previousButton,"rrPrevious-disabled");rrSetClass(nextButton,"rrNext")}rrc_movesize=rrc_scrollSize*scrollBy;if(rrc_movesize>-rrc_currLocation)rrc_movesize=-rrc_currLocation;rrc_eInterval=rrc_interval;rrc_moveIt(direction)}if(direction=="next"&&rrc_lockMove===0){var offset=rrc_scrollSize*rrc_totalItems+rrc_currDestination-rrc_objectSize;rrc_lockMove=1;if(offset>rrc_scrollSize*scrollBy){rrc_currDestination=rrc_currDestination-rrc_scrollSize*scrollBy;rrSetClass(previousButton,"rrPrevious")}else{rrc_currDestination=rrc_currDestination-offset;rrSetClass(nextButton,"rrNext-disabled");rrSetClass(previousButton,"rrPrevious")}rrc_movesize=(rrc_currDestination-rrc_currLocation)*-1;rrc_eInterval=rrc_interval;rrc_moveIt(direction)}}};this.getRecImages=function(placement,index){var lis=placement.getElementsByTagName("li");if(lis&&index>=0&&lis.length>index)return lis[index].getElementsByTagName("img")[0]};function rrc_lazyLoad(getImgFunc,movement,d){for(var startingLow=-1*rrc_currDestination,low=d.toLowerCase()==="previous"?startingLow-movement:startingLow+movement,high=low+rrc_objectSize,visibleIndices=getVisibleRecIndices(low,high,rrc_scrollSize),i=0;i<visibleIndices.length;i++)rrc_loadRecImage(getImgFunc(rrc_object,visibleIndices[i]))}function getVisibleRecIndices(visibileWindowLow,visibileWindowHigh,recWidth,windowExtention){var indicies=[];windowExtention=windowExtention||0;for(var lowIndex=Math.floor((visibileWindowLow-windowExtention)/recWidth),highIndex=Math.ceil((visibileWindowHigh+windowExtention)/recWidth),i=lowIndex;i<highIndex;i++)indicies.push(i);return indicies}function rrc_loadRecImage(img,src){if(img){if(!src)src=img.getAttribute("rrSrc");src&&src!=img.src&&setTimeout(function(){img.src=src},1200)}}rrc_doLazyload&&rrc_lazyLoad(that.getRecImages,0,"");function rrc_moveIt(direction){if(rrc_currDestination>rrc_currLocation){rrc_pixels_left=(rrc_currLocation-rrc_currDestination)*-1;rrc_pixels_moved=rrc_movesize-(rrc_currLocation-rrc_currDestination)*-1;if(rrc_pixels_left/rrc_movesize<=.3)rrc_eInterval=Math.floor(rrc_pixels_left*rrc_easingSpeed);if(rrc_pixels_left/rrc_movesize>=.7)rrc_eInterval=Math.floor(rrc_pixels_moved*rrc_easingSpeed)+1;if(rrc_eInterval<1)rrc_eInterval=1;if(rrc_eInterval>rrc_interval)rrc_eInterval=rrc_interval;if(rrc_eInterval>rrc_pixels_left)rrc_eInterval=rrc_pixels_left;rrc_currLocation=rrc_currLocation+rrc_eInterval;if(rrc_orientation=="v")rrc_object.style.top=rrc_currLocation+"px";else rrc_object.style.left=rrc_currLocation+"px"}if(rrc_currDestination<rrc_currLocation){rrc_pixels_left=(rrc_currDestination-rrc_currLocation)*-1;rrc_pixels_moved=rrc_movesize-(rrc_currDestination-rrc_currLocation)*-1;if(rrc_pixels_left/rrc_movesize<=.3)rrc_eInterval=Math.floor(rrc_pixels_left*rrc_easingSpeed);if(rrc_pixels_left/rrc_movesize>=.7)rrc_eInterval=Math.floor(rrc_pixels_moved*rrc_easingSpeed)+1;if(rrc_eInterval<1)rrc_eInterval=1;if(rrc_eInterval>rrc_interval)rrc_eInterval=rrc_interval;if(rrc_eInterval>rrc_pixels_left)rrc_eInterval=rrc_pixels_left;rrc_currLocation=rrc_currLocation-rrc_eInterval;if(rrc_orientation=="v")rrc_object.style.top=rrc_currLocation+"px";else rrc_object.style.left=rrc_currLocation+"px"}if(rrc_currDestination==rrc_currLocation)rrc_lockMove=0;else window.setTimeout(function(){rrc_moveIt(direction)},rrc_moveTime)}function rrc_flexLayout(){var listWidth="100%",listItems=rrc_object.getElementsByTagName("li"),listItemWidth=100/listItems.length-.05+"%",allVisible=false;if(rrc_totalItems>rrc_visibleItems){listWidth="5000%";listItemWidth=rrc_scrollSize+"px";if(usePreviousNext){previousButton.className=previousButton.className.replace("rrPrevious-off"," ");nextButton.className=nextButton.className.replace("rrNext-off"," ")}}else{rrc_currLocation=0;rrc_object.style.left=rrc_currLocation+"px";if(usePreviousNext){rrSetClass(previousButton,"rrPrevious-disabled");rrSetClass(nextButton,"rrNext-disabled");previousButton.className+=" rrPrevious-off";nextButton.className+=" rrNext-off"}allVisible=true}return allVisible}var rrc_resizeTimer=false,rrc_resizeWait=75,winWidth=getViewPortWidth(),newWinWidth;function rrc_handleResize(){rrc_objectSize=rrc_object.parentNode.offsetWidth;rrc_visibleItems=Math.floor(rrc_objectSize/rrc_scrollSize);if(!rrc_flexLayout()){var offset=rrc_scrollSize*rrc_totalItems+rrc_currDestination-rrc_objectSize;if(offset<0){rrc_lockMove=1;rrc_currDestination=rrc_currDestination-offset;rrc_movesize=(rrc_currDestination-rrc_currLocation)*-1;rrc_eInterval=rrc_interval;rrc_moveIt("next");rrSetClass(nextButton,"rrNext-disabled")}else rrSetClass(nextButton,"rrNext")}rrc_doLazyload&&rrc_lazyLoad(that.getRecImages,0,"")}if(rrc_orientation==="h")if(window.addEventListener)window.addEventListener("resize",rrc_handleResize,false);else if(window.attachEvent)window.attachEvent("onresize",function(){newWinWidth=getViewPortWidth();if(winWidth!==newWinWidth){rrc_handleResize();winWidth=newWinWidth}});else window.onresize=rrc_handleResize();function rrSetClass(container,style){if(usePreviousNext)if(typeof container==="object"&&container!==null)container.className=style;else typeof console!=="undefined"&&console.log!=="undefined"&&console.log("container is null")}}})(cds,window);(function(cds,win,$){var doc=win.document;$.extend($.support,{touch:"ontouchstart" in doc});$.extend($.support,{fonts:{}});$.fn.bindUl=function(eventType,handler){return $(this).bind(eventType,function(event){var target=event.target,$li=target.nodeName==="LI"?$(target):$(target).parents("li");return $li.length&&handler($li,event)})};$.fn.bindTouchStart=function(callback){$(this).bind("touchstart",function(event){callback(event.originalEvent.touches[0]||event.originalEvent.changedTouches[0])})};$.fn.bindTouchMouve=function(callback){$(this).bind("touchmove",function(event){event.preventDefault();callback(event.originalEvent.touches[0]||event.originalEvent.changedTouches[0])})};var ui={popUp:function(pUrl,pName,width,height,screenx,screeny,scrollbar,resize,toolbar,status,menubar,location,directories){var pFeatures="scrollbars="+(scrollbar?"yes":"no")+",resize="+(resize?"yes":"no")+",toolbar="+(toolbar?"yes":"no")+",status="+(status?"yes":"no")+",menubar="+(menubar?"yes":"no")+",location="+(location?"yes":"no")+",directories="+(directories?"yes":"no")+(width?",width="+parseInt(width,10):"")+(height?",height="+parseInt(height,10):"")+(screenx?",screenx="+parseInt(screenx,10):"")+(screeny?",screeny="+parseInt(screeny,10):"");return win.open(pUrl,pName,pFeatures)},showOverlay:function(){var $p=$("body");return $("<div id='overlayPopin' style=\"background:#808080;position:absolute;top:0;left:0;z-index:1001\">").width($p.width()).height($p.height()).fadeTo(0,.5).prependTo("body")},closeAllPopin:function(){cds.ui.getOverlay().remove();$("#divOverLayerBackground").hide();$("div.popin-wrapper-absolute").remove();$("div.popin-wrapper").remove()},getOverlay:function(){return $("#overlayPopin")},closePopIn:function($div){$div.fadeOut("fast",function(){cds.ui.getOverlay().remove();$div.remove()})},loadPopIn:function(url,callback){var $ov=this.showOverlay(),$div=$('<div class="popin-wrapper-absolute">').prependTo("body").load(url,function(response,status){if(status==="success"){$div.fadeIn("slow");$("input.close, span.close, span.popin-close, span.sf_txtclose, button.close",$div).add(cds.ui.getOverlay()).one("click",function(){cds.ui.closePopIn($div)})}else{$ov.remove();$div&&$div.remove()}callback&&callback($div)}).hide();return $div},loadPopInShipping:function(url,callback){var $ov=this.showOverlay(),$div=$("div.popinMasterContent").prependTo("body").load(url,function(response,status){if(status==="success"){$div.fadeIn("slow");$div.css("z-index",parseInt($("#overlayPopin").css("z-index"))+1);$(".popin-close, .sf_txtclose, .close",$div).add(cds.ui.getOverlay()).one("click",function(){cds.ui.closePopIn($div)})}else{$ov.remove();$div.remove()}callback&&callback($div)}).hide();return $div},showPopIn:function(content){var $div,$ov=this.showOverlay();if(typeof content==="string")$div=$('<div class="popin-wrapper-absolute">').html(content).hide().prependTo("body");else $div=content.prependTo("body");$(".close, .popin-close:not('.noClose'), .sf_txtclose, .popin-close-fpmp",$div).click(function(){$div.hide();$ov.hide();$(".close, .popin-close:not('.noClose'), .sf_txtclose",$div).unbind("click")});return $div?$div.fadeIn("slow"):null}};$.fn.getFormData=function(){for(var form=this[0],els=form.elements,data="",i=0;i<els.length;i++){var el=els[i],name=el.name,val="";if(name&&!el.disabled){switch(el.type){case "checkbox":case "radio":el.checked&&(val=el.value);break;case "submit":el.value==="1"&&(val=el.value);break;case "select-one":var sval=el.options[el.selectedIndex].value;sval!=="-1"&&(val=sval);break;default:val=el.value}val!==""&&(data+=name+"="+encodeURIComponent(val)+"&")}}return data};$.fn.hideElement=function(){var $this=$(this),hidePos="-10000px",cssProp={position:$this.css("position"),top:$this.css("top"),left:$this.css("left")};if($this.css("top")!==hidePos){$this.data("cssProp",cssProp);$this.css({position:"absolute",top:hidePos,left:hidePos})}return $this};$.fn.showElement=function(){var $this=$(this);$this.data("cssProp")&&$this.css($this.data("cssProp"));return $this};(function(){var $fontSpan,wdh,hgt,isFontAvailable=function(fName){if(!$fontSpan){$fontSpan=$("<span>").css({visibility:"hidden",position:"absolute",top:"-10000px",left:"-10000px"}).html("abcdefghijklmnopqrstuvwxyz").appendTo(doc.body);wdh=$fontSpan.css("font-family","FAKEFONT").width();hgt=$fontSpan.height()}$.support.fonts[fName]=wdh!==$fontSpan.css("font-family",fName).width()||hgt!==$fontSpan.height();return $.support.fonts[fName]};ui["isFontAvailable"]=isFontAvailable})();$.fn.fixZIndex=function(){if($.browser.msie==true&&$.browser.version<=8){var zIndexNumber=10;$(this).each(function(){$(this).css("zIndex",zIndexNumber);zIndexNumber-=10})}};$.fn.picHover=function(options){var OVER_CSS_SUFFIX="_over",OVER_IMG_SUFFIX="-over",settings={imgOverSrc:"",overClass:""};options=options||{};$.extend(settings,options);$(this).each(function(){var $this=$(this);if($this.is("input:image, img"))changeImgSrc($this);else changeCss($this)});function changeImgSrc($element){var imgSrc=$element.attr("src"),indexExt=imgSrc.lastIndexOf("."),imgOverSrc=settings.imgOverSrc==""?imgSrc.substring(0,indexExt)+OVER_IMG_SUFFIX+imgSrc.substring(indexExt,imgSrc.length):settings.imgOverSrc;$element.hover(function(){$element.attr("src",imgOverSrc)},function(){$element.attr("src",imgSrc)})}function changeCss($element){var className=$element.attr("class").split(" ")[0],classOverName=settings.overClass==""?className+OVER_CSS_SUFFIX:settings.overClass;$element.hover(function(){$element.addClass(classOverName)},function(){$element.removeClass(classOverName);return false})}};$.fn.htmlPrice=function(price,size,isRebate){var isCharSplitFound=false;price+="";var htmlPrice='<div class="priceContainer">';function getCssUnitPrice(){return "<div>&euro;"}function getHiddenPrice(price){return '<span style="display:none;">'+price+" &euro;</span>"}htmlPrice+='<div class="price price-'+size.toLowerCase();if(typeof isRebate==="boolean")if(isRebate)htmlPrice+=" price-rebate";htmlPrice+='">';for(var i=0;i<price.length;i++)if(price.charAt(i)>="0"&&price.charAt(i)<="9")htmlPrice+=price.charAt(i);else if(!isCharSplitFound){isCharSplitFound=true;htmlPrice+="<div>&euro;"}if(!isCharSplitFound)htmlPrice+=getCssUnitPrice(size);htmlPrice+="</div></div></div>";htmlPrice+=getHiddenPrice(price);return $(this).html(htmlPrice)};$.fn.htmlEconomy=function(economyText,economyAmount,isSolding){var htmlEconomy="",containerClassSuffix="";if(isSolding)containerClassSuffix="  splashEconomySales";function getEconomyTextHtml(economyText){return '<span class="productSplashEconomyText">'+economyText+"</span>"}function getEconomyAmountHtml(economyAmount){return '<span class="productSplashEconomyAmount">'+economyAmount+"</span>"}htmlEconomy='<span class="splashEconomyContainer'+containerClassSuffix+'">';if(economyAmount=="")htmlEconomy+=getEconomyAmountHtml(economyText);else if(isSolding){htmlEconomy+=getEconomyTextHtml(economyText);htmlEconomy+=getEconomyAmountHtml(economyAmount)}else{htmlEconomy+=getEconomyAmountHtml(economyAmount);htmlEconomy+=getEconomyTextHtml(economyText)}htmlEconomy+='</span><span class="vspace"></span>';return $(this).html(htmlEconomy)};$.fn.updateSaving=function(economyText,economyAmount,isSolding,isFromPrice){var headerTextFromPrice="Jusqu'à",headerTextSales="Soldes";function getHeaderTextHtml(){if(!isFromPrice&&!isSolding)return "";var headerText="";if(isSolding){headerText=headerTextSales;if(isFromPrice)headerText+="<br>"+headerTextFromPrice.toLowerCase()}else if(isFromPrice)headerText=headerTextFromPrice;return '<div class="eHeader">'+headerText+"</div>"}function getAmountTextHtml(economyAmount){return '<div class="eDecot">'+economyAmount+"</div>"}function getFooterTextHtml(economyText){if(isSolding||(!economyText||0===economyText.length))return "";return '<div class="eFooter">'+economyText+"</div>"}var $this=$(this);if(!economyText&&!economyAmount)$this.hide();else $this.show();var newClass="";if(isFromPrice)if(isSolding)newClass="eVarSales";else newClass="eVar";else if(isSolding)newClass="eSales";$this.removeClass("eVar eVarSales eSales");$this.addClass(newClass);var htmlEconomy=getHeaderTextHtml()+getAmountTextHtml(economyAmount)+getFooterTextHtml(economyText);return $this.html(htmlEconomy)};$.fn.slideToAnchor=function(options){var $this=$(this),default_options={speed:"slow",anchorLink:$this.attr("href")};options=options||{};$.extend(default_options,options);var $scrollTop=$this.attr("href")=="#"?0:$(default_options.anchorLink).offset()?$(default_options.anchorLink).offset().top:0;function addSlideEffect(){$("html,body").animate({scrollTop:$scrollTop},default_options.speed,"swing");return false}$this.click(function(){return addSlideEffect()})};$.fn.carousel=function(options){var _$carousel=this,_$pagerUl=$([]),_cWidth=_$carousel.css("width"),_cHeight=_$carousel.css("height"),_cLength=0,_cCurrentIndex=0,_cTimer=null,_isAnimated=false,_c={next:function(){return nextSlide()&&stopTimer()},previous:function(){return previousSlide()&&stopTimer()},scroll:function(index){return scrollSlide(index)&&stopTimer()},getCurrentIndex:function(){return _cCurrentIndex},setTimer:function(delai){setTimer(delai)},stop:function(){stopTimer()}},settings={orientation:"horizontal",speed:300,cssStartEffect:{},cssEndEffect:{},touch:true,timer:5e3,timerFunction:null,callback:null,pagerUl:null,classPager:"carouselPageSelected"};settings=$.extend({},settings,options);settings.touch=settings.touch&&$.support.touch;settings.speed=typeof settings.speed==="string"?$.fx.speeds[settings.speed]:settings.speed;if(settings.pagerUl)_$pagerUl=settings.pagerUl;var loadImgs=function($imgsToLoad,animationFunction){var count=$imgsToLoad.length;if(!count)animationFunction();else $imgsToLoad.each(function(){$img=$(this);$img.load(function(){!--count&&animationFunction()}).attr("src",$img.attr("data-src")).removeAttr("data-src")})};swfobjectLoad=0;var loadSwfs=function($swfsToLoad,animationFunction){!swfobjectLoad&&cds.loadScript({src:"http://ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js"});swfobjectLoad=1;var count=$swfsToLoad.length;if(!count)animationFunction();else{var flashvars={JsNextStep:"nextStep"},params={menu:"true",wmode:"transparent",allowscriptaccess:"always"};$swfsToLoad.each(function(){$swf=$(this);$.extend(params,{quality:$swf.attr("data-quality"),loop:$swf.attr("data-loop"),play:$swf.attr("data-play"),scale:$swf.attr("data-scale")});attributes={name:$swf.attr("data-name")};swfobject.embedSWF($swf.attr("data-src"),$swf.attr("id"),$swf.attr("data-width"),$swf.attr("data-height"),"9",$swf.attr("data-expinstall"),flashvars,params,attributes);count--;animationFunction()})}},preLoadImgs=function(){_$carousel.find(">ul>li:eq(1) img[data-src], >ul>li:last img[data-src]").each(function(){$img=$(this);$img.attr("src",$img.attr("data-src")).removeAttr("data-src")})},animateCallback=function($e0){if(!$e0.index()){_isAnimated=false;_cCurrentIndex=$e0.data("index");settings.callback&&settings.callback(_cCurrentIndex);_$pagerUl.find(">li").removeClass(settings.classPager).filter(":eq("+_cCurrentIndex+")").addClass(settings.classPager);!$.isEmptyObject(settings.cssEndEffect)&&$e0.css(settings.cssEndEffect);preLoadImgs()}},previousSlide=function(){var $items=_$carousel.find(">ul>li");if(!_isAnimated){_isAnimated=true;loadImgs($items.last().find("img[data-src]"),function(){if(settings.orientation==="horizontal"){$items.css("left","-"+_cWidth).filter(":first").before($items.filter(":last"));$items.animate($.extend(settings.cssStartEffect,{left:"+="+_cWidth}),settings.speed,function(){animateCallback($(this))})}else{$items.css("top","-"+_cHeight).filter(":first").before($items.filter(":last"));$items.animate($.extend(settings.cssStartEffect,{top:"+="+_cHeight}),settings.speed,function(){animateCallback($(this))})}return true});return false}},nextSlide=function(){var $items=_$carousel.find(">ul>li");$items.eq(1).find("img[data-src]");if(!_isAnimated){_isAnimated=true;loadImgs($items.eq(1).find("img[data-src]"),function(){if(settings.orientation==="horizontal")$items.animate($.extend(settings.cssStartEffect,{left:"-="+_cWidth}),settings.speed,function(){$items.css({left:"0px"}).filter(":last").after($items.filter(":first"));animateCallback($(this))});else $items.animate($.extend(settings.cssStartEffect,{top:"-="+_cHeight}),settings.speed,function(){$items.css({top:"0px"}).filter(":last").after($items.filter(":first"));animateCallback($(this))});return true});loadSwfs($items.eq(1).find("div[name=swfObject]"),function(){});return false}},scrollSlide=function(index){var $items=_$carousel.find(">ul>li");if(!_isAnimated&&index<_cLength&&index!==_cCurrentIndex){_isAnimated=true;var $item=_$carousel.find(">ul>li").filter(function(){return $(this).data("index")===index}),gap=index-_cCurrentIndex,elt=function(){if(settings.orientation==="horizontal")if(gap<0){gap=Math.abs(gap);var slideWidth=parseInt(_cWidth,10)*gap+"px";$items.css("left","-"+slideWidth).filter(":gt("+(_cLength-gap-1)+")").insertBefore($items.filter(":first"));$items.animate($.extend(settings.cssStartEffect,{left:"+="+slideWidth}),settings.speed,function(){animateCallback($(this))})}else{var slideWidth=parseInt(_cWidth,10)*gap+"px";$items.animate($.extend(settings.cssStartEffect,{left:"-="+slideWidth}),settings.speed,function(){$items.css({left:"0px"}).filter(":lt("+gap+")").insertAfter($items.filter(":last"));animateCallback($(this))})}else if(gap<0){gap=Math.abs(gap);var slideHeight=parseInt(_cHeight,10)*gap+"px";$items.css("top","-"+slideHeight).filter(":gt("+(_cLength-gap-1)+")").insertBefore($items.filter(":first"));$items.animate($.extend(settings.cssStartEffect,{top:"+="+slideHeight}),settings.speed,function(){animateCallback($(this))})}else{var slideHeight=parseInt(_cHeight,10)*gap+"px";$items.animate($.extend(settings.cssStartEffect,{top:"-="+slideHeight}),settings.speed,function(){$items.css({top:"0px"}).filter(":lt("+gap+")").insertAfter($items.filter(":last"));animateCallback($(this))})}};if($items.slice(_cCurrentIndex,index+1).find("div[name=swfObject]").length)loadSwfs($items.slice(_cCurrentIndex,index+1).find("div[name=swfObject]"),function(){elt()});else loadImgs($items.slice(_cCurrentIndex,index+1).find("img[data-src]"),function(){elt()});return true}return false},setTimer=function(delai){if(delai){_cTimer&&_c.stop();settings.speed=delai<=settings.speed?delai:settings.speed;var funct=settings.timerFunction?function(){settings.timerFunction();nextSlide()}:nextSlide;_cTimer=win.setInterval(funct,delai)}},stopTimer=function(){if(_cTimer){win.clearInterval(_cTimer);_cTimer=null}return true};(function(){_$carousel.find(">ul>li").each(function(idx){$(this).data("index",idx);_cLength++});if(_cLength>1){_$pagerUl.bindUl("click",function($li){_c.scroll($li.index())});if(settings.touch){preLoadImgs();var touchStartPos,touchMove,getPos=function(event){return settings.orientation==="horizontal"?event.pageX:event.pageY};_$carousel.bindTouchStart(function(touch){preLoadImgs();touchStartPos=getPos(touch);touchMove=true});_$carousel.bindTouchMouve(function(touch){if(touchMove){touchStartPos-getPos(touch)>0?nextSlide():previousSlide();touchMove=false;stopTimer()}})}_c.setTimer(settings.timer)}})();return _c};$.fn.loadImg=function(isEffect){var $img=$(this);if($img.is("[data-src]")){isEffect&&$img.css("opacity","0.1");$img.attr("src",$img.attr("data-src")).removeAttr("data-src").load(function(){isEffect&&$img.animate({opacity:"1"},"fast")})}};$.fn.lazyLoad=function(options){var $imgs=this,$win=$(win),settings={thresholdX:0,thresholdY:200,isEffect:false};settings=$.extend({},settings,options);var isInViewport=function($img){var wX=$win.width()+$win.scrollLeft(),wY=$win.height()+$win.scrollTop();return wX+settings.thresholdX>$img.offset().left&&wY+settings.thresholdY>$img.offset().top},updateViewport=function(){$imgs=$imgs.filter("img[data-src]");$imgs.each(function(){var $this=$(this);isInViewport($this)&&$this.loadImg(settings.isEffect)});!$imgs.length&&$win.unbind("scroll",updateViewport)};$win.scroll(updateViewport);updateViewport();return this};$.fn.valueReset=function(){$(this).bind("click",function(){$(this).attr("value","")})};$.fn.nf=function(){return this.click(function(){var nf=$(this).attr("data-nf").split(";"),url=nf[0]||"",opt=nf[1];if(/^d[ab]{0,2}$/.test(opt))url=$.base64Decode(url);else{if(/^r[ab]{0,2}$/.test(opt))url=url.split("").reverse().join("");url=url.replace(/\[dc\]/gi,"http://pubads.g.doubleclick.net/").replace(/\[hw\]/gi,"http://www.").replace(/\[sw\]/gi,"https://www.").replace(/\[h\]/gi,"http://").replace(/\[s\]/gi,"https://").replace(/\[w\]/gi,"www.").replace(/\[c\]/gi,"cdiscount").replace(/\[g\]/gi,"go-sport").replace(/\[l\]/gi,".html").replace(/\[a\]/gi,".aspx").replace(/\[f\]/gi,".fr").replace(/\[o\]/gi,".com").replace(/\[d\]/gi,".").replace(/\|/gi,"/")}if(!/^[rd]{0,1}a[b]{0,1}$/.test(opt)||confirm("Cette page est réservée aux personnes majeures.\nSi vous n'êtes pas majeur, cliquez sur Annuler.\nContinuer ?"))/^[rd]{0,1}[a]{0,1}b$/.test(opt)?win.open(url):(win.location.href=url);return false})};(function(){var keyString="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",uTF8Decode=function(input){var string="",i=0,c=c1=c2=0;while(i<input.length){c=input.charCodeAt(i);if(c<128){string+=String.fromCharCode(c);i++}else if(c>191&&c<224){c2=input.charCodeAt(i+1);string+=String.fromCharCode((c&31)<<6|c2&63);i+=2}else{c2=input.charCodeAt(i+1);c3=input.charCodeAt(i+2);string+=String.fromCharCode((c&15)<<12|(c2&63)<<6|c3&63);i+=3}}return string};$.extend({base64Decode:function(input){var output="",chr1,chr2,chr3,enc1,enc2,enc3,enc4,i=0;input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(i<input.length){enc1=keyString.indexOf(input.charAt(i++));enc2=keyString.indexOf(input.charAt(i++));enc3=keyString.indexOf(input.charAt(i++));enc4=keyString.indexOf(input.charAt(i++));chr1=enc1<<2|enc2>>4;chr2=(enc2&15)<<4|enc3>>2;chr3=(enc3&3)<<6|enc4;output=output+String.fromCharCode(chr1);if(enc3!=64)output=output+String.fromCharCode(chr2);if(enc4!=64)output=output+String.fromCharCode(chr3)}output=uTF8Decode(output);return output}})})();$.fn.button=function(){var $this=$(this);if(!$this.data("init")){var content=$this.html(),bType=$this.attr("type");table=$("<table>")[0],tr=table.insertRow(-1),td_1=tr.insertCell(-1),td_2=tr.insertCell(-1),td_3=tr.insertCell(-1);$(td_1).addClass("buttonLeft");$(td_2).addClass("buttonContent");$(td_2).append(content);$(td_3).addClass("buttonRight");!bType&&$this.attr("type","button");$this.empty().addClass("button"+bType.capitalize()).append(table).data("init",true)}};$.fn.cdsZoom=function($zoomZone,$cursorZone){var _$aHref=this,_mImg=_$aHref.find("img")[0],_zMainLeft,_zMainTop,_lImg=new Image,_zRatioW=0,_zRatioH=0,_zCurCenterW=$cursorZone.width()/2,_zCurCenterH=$cursorZone.height()/2,_zLimits={left:0,top:0,right:0,bottom:0};_lImg.onload=function(){var t=this;_zRatioW=t.width/_mImg.width;_zRatioH=t.height/_mImg.height;$zoomZone.html(t)};var moveZoomPos=function(e){var x=e.pageX,y=e.pageY;if(x>=_zLimits.right)x=_zLimits.right;else if(x<=_zLimits.left)x=_zLimits.left;if(y>=_zLimits.bottom)y=_zLimits.bottom;else if(y<=_zLimits.top)y=_zLimits.top;zx=(_zCurCenterW-x+_zMainLeft)*_zRatioW;zy=(_zCurCenterH-y+_zMainTop)*_zRatioH;$(_lImg).css({left:zx,top:zy});cx=x-_zCurCenterW-_zMainLeft;cy=y-_zCurCenterH-_zMainTop;$cursorZone.css({left:cx,top:cy})};(function(){$(_lImg).css("position","absolute");var loadLImg=function(){var $t=$(this);_zMainLeft=$t.offset().left;_zMainTop=$t.offset().top;_zLimits={left:_zMainLeft+_zCurCenterW,top:_zMainTop+_zCurCenterH,right:_zMainLeft+$t.width()-_zCurCenterW,bottom:_zMainTop+$t.height()-_zCurCenterH};_$aHref.hover(function(){var lImgUrl=_$aHref.attr("href");_lImg.src!==lImgUrl&&(_lImg.src=lImgUrl);$zoomZone.show();$cursorZone.show()},function(){$zoomZone.hide();$cursorZone.hide()}).mousemove(moveZoomPos)};if(_mImg.width>0)loadLImg.call(_mImg);else $(_mImg).one("load",loadLImg)})();return _$aHref};$.fn.marquee=function(){var $that=this,pw=$that.parent().width(),slide=function(){$that.css("left",pw).animate({left:"-="+(pw+$that.width())},15000,"linear",slide)};slide();return $that};$.fn.countDown=function(options){var $this=this,timer=null,settings={fTimer:"Plus que %s",fDay:"%dj ",fHour:"%dh ",fMinute:"%02dmin ",fSecond:"%02ds",waitingText:"Trop tôt",timeoutText:"Trop tard",stateChangeCallback:null,hasSlideEffect:false};settings=$.extend({},settings,options);this.each(function(){var $that=$(this),d=new Date,dTimer=$that.attr("data-timer")||"",dStartDate=$that.attr("data-startdate")||"",dEndDate=$that.attr("data-enddate")||"",remainingTime,waitingTime;waitingTime=dStartDate?dStartDate.toNumber()-d.getTime()/1e3+d.getTimezoneOffset()*60:0||0;if(waitingTime<0)waitingTime=0;$that.data("wTime",waitingTime).removeAttr("data-startdate");remainingTime=dEndDate?dEndDate.toNumber()-d.getTime()/1e3+d.getTimezoneOffset()*60:dTimer.toNumber()||0;if(remainingTime<0)remainingTime=0;$that.data("rTime",remainingTime).removeAttr("data-timer").removeAttr("data-enddate")});timer=setInterval(function(){$this.each(function(){var $that=$(this),waitingTime=$that.data("wTime"),remainingTime=$that.data("rTime"),str="";if(waitingTime>0){if(settings.stateChangeCallback&&$that.data("state")!=="waiting"){$that.data("state","waiting");settings.stateChangeCallback("waiting")}str=settings.waitingText;waitingTime--}else if(remainingTime>0){if(settings.stateChangeCallback&&$that.data("state")!=="counting"){$that.data("state","counting");settings.stateChangeCallback("counting")}var days=remainingTime--/60/60/24,rDays=Math.floor(days),hours=(days-rDays)*24,rHours=Math.floor(hours),minutes=(hours-rHours)*60,rMinutes=Math.floor(minutes),seconds=(minutes-rMinutes)*60,rSecond=Math.round(seconds);if(rDays>0)str=settings.fDay.sprintf(rDays);if(rHours>0||str)str+=settings.fHour.sprintf(rHours);if(rMinutes>0||str)str+=settings.fMinute.sprintf(rMinutes);if(rSecond>0||str)str+=settings.fSecond.sprintf(rSecond);str=settings.fTimer.sprintf(str)}else if(remainingTime===0){if(settings.stateChangeCallback&&$that.data("state")!=="timeout"){$that.data("state","timeout");settings.stateChangeCallback("timeout")}str=settings.timeoutText;$this=$this.filter(function(){return $(this).data("rTime")!=0});$that.stop().css("left","0px").parent().css("text-align","center");!$this.length&&win.clearInterval(timer);remainingTime--}$that.data("wTime",waitingTime).data("rTime",remainingTime).html(str)})},1e3);settings.hasSlideEffect&&$this.each(function(){var $that=$(this),pw=$that.parent().width(),slide=function(){$that.css("left",pw).animate({left:"-="+(pw+$that.width())},15000,"linear",slide)};slide()});return $this};var r2AddToBasket=function(buttonId,departmentId){var $button=$("#"+buttonId),$form=$button.parents("form"),$productPopIn=$("#productPopIn");$button.val("1");$.ajax({type:"POST",url:"/AddToBasket.html/"+(typeof departmentId!="undefined"?departmentId:""),data:$form.getFormData(),success:function(response){if(response)if(/redirect\|/.test(response))response.replace(/.*redirect\|(.*)/,function($0,$1){d.location.href=$1});else{var $responseText=$($($(response)[1]),"AddSubmitedResponseText"),$responseArea=$button.parent().find(".AddSubmitedResponseArea");$responseArea.hide();if(response.search("popin-wrapper")==-1||response.search("AddSubmitedResponseText")!=-1){$responseArea.html(response);$responseArea.show()}if(response.search("AddSubmitedResponseText")==-1){cds.ui.closeAllPopin();response.search("popin-wrapper")!=-1&&cds.ui.showPopIn(response)}var nArt=cds.getAllCookies()["articles_count"];nArt&&nArt!="0"&&$("#itemCart").text(parseInt(nArt)).removeClass("displaynone")}else $productPopIn&&cds.ui.closeAllPopin()}});$button.val("0");return false};win["r2AddToBasket"]=r2AddToBasket;cds["ui"]=ui})(cds,window,jQuery);(function(c,win){var _doc=win.document,_isGptLoad=false,_requete="",_refreshSlots=[];win["googletag"]={cmd:[]};var loadGpt=function(){if(!_isGptLoad){c.loadScript({src:_doc.location.protocol+"//www.googletagservices.com/tag/js/gpt.js"});_isGptLoad=true}},gpt={call:function(tag,blocks,target){loadGpt();googletag.cmd.push(function(){var ads=googletag.pubads();ads.collapseEmptyDivs();ads.enableSingleRequest();for(var i=0;i<blocks.length;i++){var block=blocks[i],slot;if(block.type)slot=googletag.defineOutOfPageSlot(tag,block.div).addService(ads).setTargeting("type",block.type);else{slot=googletag.defineSlot(tag,block.size,block.div).addService(ads);block.pos&&slot.setTargeting("pos",block.pos)}block.isRefresh&&_refreshSlots.push(slot)}ads.setTargeting("log",c.getCookie("ClientId")?"oui":"non");for(key in target){ads.setTargeting(key,target[key]);key=="requete"&&(_requete=c.gpt.requete=target[key])}googletag.enableServices()})},show:function(div,isRfckex,siteVersion){div&&!c.getSiteVersion(siteVersion)&&!(isRfckex&&c.getCookie("sas_rfckex"))&&googletag.cmd.push(function(){googletag.display(div)})},addRequete:function(val){c.gpt.requete=_requete+","+val},refresh:function(){_refreshSlots.each(function(slot){slot.setTargeting("requete",c.gpt.requete)});googletag.pubads().refresh(_refreshSlots)}};c["gpt"]=gpt})(cds,window);$.fn.initSearchV2=function(){var $blocSearch=$(this),$input=$("input:first",$blocSearch),$options=$.parseJSON($input.attr("data-options").replace(/'/g,'"')),$select=$("select:first",$blocSearch),$submit=$("button.jqSearchButton",$blocSearch),$resultBloc=$("#searchResult"),$universes={Musique:5,"Jeux video":5,Electromenager:4,DVD:5,"Image et Son":2,Informatique:1,Sport:7,Librairie:5,Maison:4,"Photo Camescope":2,"Pret-a-Porter":6,Bagages:6,"Jeux - Jouets":12,Bijouterie:6,Destockage:10,Vin:8,Auto:3,Chaussures:6,Telephonie:2},$pattern_accent=["%E9","%E8","%EA","%EB","%E0","%E2","%E4","%EE","%EF","%F9","%FB","%F4","%F6","%E7"],$pattern_replace_accent=["e","e","e","e","a","a","a","i","i","u","u","o","o","c"],bgColor="#EBEEF2",removeAccents=function(string){var new_string=escape(string);if(new_string&&new_string!="")for(var i=0;i<$pattern_accent.length;i++)new_string=new_string.replace(new RegExp($pattern_accent[i],"gi"),$pattern_replace_accent[i]);return unescape(new_string)},goToSearch=function(){$resultBloc.hide("fast");var queryStr=encodeURI($input.val().replace(/[+&<>^|:\?\.\/\*%#\"\\]/g," ").replace(/[\s+]/g," ").replace(/^(\s)+|(\s)+$/g,"").replace(/\s+/g,"+").replace(/[\']/g," "));queryStr.length>0&&queryStr!=$options.placeholder?(document.location.href=$options.front+$select.find("option[selected]").val()+queryStr+".html"):alert("Saisissez votre recherche");return false},updateSearch=function($resultEl){$resultEl.is("[data-value]")&&$input.val($resultEl.attr("data-value"));$resultEl.attr("[data-value]")&&$input.val($resultEl.attr("[data-value]"));if($resultEl.is("[data-dpt]"))$("option","#searchDepartements").filter(function(){return $(this).text()==$resultEl.attr("data-dpt")}).attr("selected","selected");else $("option","#searchDepartements").eq(0).attr("selected","selected")};$input.val($options.value).attr("placeholder",$options.placeholder);$resultBloc.click(function(e){var $target=$(e.target);!$target.is("[data-value]")&&($target=$target.parent());updateSearch($target);return goToSearch()}).mousemove(function(e){$(">div",$resultBloc).css("background-color","");$resultBloc.data("currentPos",-1);var $target=$(e.target);!$target.is("[data-value]")&&($target=$target.parent());$target.css("background-color",bgColor)});$input.blur(function(){setTimeout(function(){$resultBloc.hide("fast")},300)}).keydown(function(e){if(e.which==13){$resultBloc.data("currentPos")!=-1&&updateSearch($(">div",$resultBloc).eq($resultBloc.data("currentPos")));$submit.unbind("click");return goToSearch()}else if(e.which==40||e.which==38){var curPos=$resultBloc.data("currentPos"),results=$(">div",$resultBloc);results.css("background-color","");if(e.which==38)curPos>-1?--curPos:(curPos=results.length-1);else curPos<results.length-1?++curPos:(curPos=0);updateSearch($(">div",$resultBloc).eq(curPos));$resultBloc.data("currentPos",curPos);$(">div",$resultBloc).eq(curPos).css("background-color",bgColor)}else!(e.which!=9&&$input.val().length>1&&$input.val()!=$options.value)&&$resultBloc.hide("fast").html("")}).keyup(function(e){if(e.which!=40&&e.which!=38&&e.which!=13&&e.which!=9&&$input.val().length>1&&$input.val()!=$options.value){$resultBloc.html("");$.get($options.url+"?q="+$input.val(),function(response){var $firstEntry;$("SuggestXMLEntry:lt("+$options.limit+")",response).each(function(){var $e=$(this),$dpt=$("SuggestEntryExtraInformation:first",$e).attr("value")||"",$class="";if($dpt==""){$firstEntry=$e.attr("entry");$resultBloc.append('<div data-value="'+$e.attr("entry")+'">'+$e.attr("entry").replace($input.val(),$input.val().bold()));return false}});$("SuggestXMLEntry:lt("+$options.limit+")",response).each(function(){var $e=$(this),$dpt=$("SuggestEntryExtraInformation:first",$e).attr("value")||"",$dptA=removeAccents($dpt),$class="";if($dpt!=""||$e.attr("entry")!=$firstEntry){if($dptA in $universes)$class=" c_U"+$universes[$dptA];$resultBloc.append('<div data-value="'+$e.attr("entry")+'" data-dpt="'+$dpt+'">'+$e.attr("entry").replace($input.val(),$input.val().bold())+($dpt!=""?' <span class="italic smaller'+$class+'">dans '+$dpt:""))}});$resultBloc.show();$resultBloc.data("currentPos",-1)})}});$input.one("focus",function(){var $this=$(this);$resultBloc.css({top:Math.round($this.innerHeight()+$this.offset()["top"])+"px",left:Math.round($this.offset()["left"])+"px"})});$submit.bind("click",function(){return goToSearch()})};