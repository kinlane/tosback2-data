(function(f){function p(a,b,c){var h=c.relative?a.position().top:a.offset().top,d=c.relative?a.position().left:a.offset().left,i=c.position[0];h-=b.outerHeight()-c.offset[0];d+=a.outerWidth()+c.offset[1];if(/iPad/i.test(navigator.userAgent)){h-=f(window).scrollTop();}var j=b.outerHeight()+a.outerHeight();if(i=="center"){h+=j/2;}if(i=="bottom"){h+=j;}i=c.position[1];a=b.outerWidth()+a.outerWidth();if(i=="center"){d-=a/2;}if(i=="left"){d-=a;}return{top:h,left:d};}function u(a,b){var c=this,h=a.add(c),d,i=0,j=0,m=a.attr("title"),q=a.attr("data-tooltip"),r=o[b.effect],l,s=a.is(":input"),v=s&&a.is(":checkbox, :radio, select, :button, :submit"),t=a.attr("type"),k=b.events[t]||b.events[s?v?"widget":"input":"def"];if(!r){throw'Nonexistent effect "'+b.effect+'"';}k=k.split(/,\s*/);if(k.length!=2){throw"Tooltip: bad events configuration for "+t;}a.bind(k[0],function(e){clearTimeout(i);if(b.predelay){j=setTimeout(function(){c.show(e);},b.predelay);}else{c.show(e);}}).bind(k[1],function(e){clearTimeout(j);if(b.delay){i=setTimeout(function(){c.hide(e);},b.delay);}else{c.hide(e);}});if(m&&b.cancelDefault){a.removeAttr("title");a.data("title",m);}f.extend(c,{show:function(e){if(!d){if(q){d=f(q);}else{if(b.tip){d=f(b.tip).eq(0);}else{if(m){d=f(b.layout).addClass(b.tipClass).appendTo(document.body).hide().append(m);}else{d=a.next();d.length||(d=a.parent().next());}}}if(!d.length){throw"Cannot find tooltip for "+a;}}if(c.isShown()){return c;}d.stop(true,true);var g=p(a,d,b);b.tip&&d.html(a.data("title"));e=e||f.Event();e.type="onBeforeShow";h.trigger(e,[g]);if(e.isDefaultPrevented()){return c;}g=p(a,d,b);d.css({position:"absolute",top:g.top,left:g.left});l=true;r[0].call(c,function(){e.type="onShow";l="full";h.trigger(e);});g=b.events.tooltip.split(/,\s*/);if(!d.data("__set")){d.bind(g[0],function(){clearTimeout(i);clearTimeout(j);});g[1]&&!a.is("input:not(:checkbox, :radio), textarea")&&d.bind(g[1],function(n){n.relatedTarget!=a[0]&&a.trigger(k[1].split(" ")[0]);});d.data("__set",true);}return c;},hide:function(e){if(!d||!c.isShown()){return c;}e=e||f.Event();e.type="onBeforeHide";h.trigger(e);if(!e.isDefaultPrevented()){l=false;o[b.effect][1].call(c,function(){e.type="onHide";h.trigger(e);});return c;}},isShown:function(e){return e?l=="full":l;},getConf:function(){return b;},getTip:function(){return d;},getTrigger:function(){return a;}});f.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(e,g){f.isFunction(b[g])&&f(c).bind(g,b[g]);c[g]=function(n){n&&f(c).bind(g,n);return c;};});}f.tools=f.tools||{version:"1.2.5"};f.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,position:["top","center"],offset:[0,0],relative:false,cancelDefault:true,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(a,b,c){o[a]=[b,c];}};var o={toggle:[function(a){var b=this.getConf(),c=this.getTip();b=b.opacity;b<1&&c.css({opacity:b});c.show();a.call();},function(a){this.getTip().hide();a.call();}],fade:[function(a){var b=this.getConf();this.getTip().fadeTo(b.fadeInSpeed,b.opacity,a);},function(a){this.getTip().fadeOut(this.getConf().fadeOutSpeed,a);}]};f.fn.tooltip=function(a){var b=this.data("tooltip");if(b){return b;}a=f.extend(true,{},f.tools.tooltip.conf,a);if(typeof a.position=="string"){a.position=a.position.split(/,?\s/);}this.each(function(){b=new u(f(this),a);f(this).data("tooltip",b);});return a.api?b:this;};})(jQuery);(function(a){a.tools=a.tools||{version:"@VERSION"},a.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",rotate:!1,history:!1},addEffect:function(a,c){b[a]=c;}};var b={"default":function(a,b){this.getPanes().hide().eq(a).show(),b.call();},fade:function(a,b){var c=this.getConf(),d=c.fadeOutSpeed,e=this.getPanes();d?e.fadeOut(d):e.hide(),e.eq(a).fadeIn(c.fadeInSpeed,b);},slide:function(a,b){this.getPanes().slideUp(200),this.getPanes().eq(a).slideDown(400,b);},ajax:function(a,b){this.getPanes().eq(0).load(this.getTabs().eq(a).attr("href"),b);}},c;a.tools.tabs.addEffect("horizontal",function(b,d){c||(c=this.getPanes().eq(0).width()),this.getCurrentPane().animate({width:0},function(){a(this).hide();}),this.getPanes().eq(b).animate({width:c},function(){a(this).show(),d.call();});});function d(c,d,e){var f=this,g=c.add(this),h=c.find(e.tabs),i=d.jquery?d:c.children(d),j;h.length||(h=c.children()),i.length||(i=c.parent().find(d)),i.length||(i=a(d)),a.extend(this,{click:function(c,d){var i=h.eq(c);typeof c=="string"&&c.replace("#","")&&(i=h.filter("[href*="+c.replace("#","")+"]"),c=Math.max(h.index(i),0));if(e.rotate){var k=h.length-1;if(c<0){return f.click(k,d);}if(c>k){return f.click(0,d);}}if(!i.length){if(j>=0){return f;}c=e.initialIndex,i=h.eq(c);}if(c===j){return f;}d=d||a.Event(),d.type="onBeforeClick",g.trigger(d,[c]);if(!d.isDefaultPrevented()){b[e.effect].call(f,c,function(){d.type="onClick",g.trigger(d,[c]);}),j=c,h.removeClass(e.current),i.addClass(e.current);return f;}},getConf:function(){return e;},getTabs:function(){return h;},getPanes:function(){return i;},getCurrentPane:function(){return i.eq(j);},getCurrentTab:function(){return h.eq(j);},getIndex:function(){return j;},next:function(){return f.click(j+1);},prev:function(){return f.click(j-1);},destroy:function(){h.unbind(e.event).removeClass(e.current),i.find("a[href^=#]").unbind("click.T");return f;}}),a.each("onBeforeClick,onClick".split(","),function(b,c){a.isFunction(e[c])&&a(f).bind(c,e[c]),f[c]=function(b){b&&a(f).bind(c,b);return f;};}),e.history&&a.fn.history&&(a.tools.history.init(h),e.event="history"),h.each(function(b){a(this).bind(e.event,function(a){f.click(b,a);return a.preventDefault();});}),i.find("a[href^=#]").bind("click.T",function(b){f.click(a(this).attr("href"),b);}),location.hash&&e.tabs=="a"&&c.find("[href="+location.hash+"]").length?f.click(location.hash):(e.initialIndex===0||e.initialIndex>0)&&f.click(e.initialIndex);}a.fn.tabs=function(b,c){var e=this.data("tabs");e&&(e.destroy(),this.removeData("tabs")),a.isFunction(c)&&(c={onBeforeClick:c}),c=a.extend({},a.tools.tabs.conf,c),this.each(function(){e=new d(a(this),b,c),a(this).data("tabs",e);});return c.api?e:this;};})(jQuery);(function($){var managed={},cache={};$.manageAjax=(function(){function create(name,opts){managed[name]=new $.manageAjax._manager(name,opts);return managed[name];}function destroy(name){if(managed[name]){managed[name].clear(true);delete managed[name];}}var publicFns={create:create,destroy:destroy};return publicFns;})();$.manageAjax._manager=function(name,opts){this.requests={};this.inProgress=0;this.name=name;this.qName=name;this.opts=$.extend({},$.manageAjax.defaults,opts);if(opts&&opts.queue&&opts.queue!==true&&typeof opts.queue==="string"&&opts.queue!=="clear"){this.qName=opts.queue;}};$.manageAjax._manager.prototype={add:function(url,o){if(typeof url=="object"){o=url;}else{if(typeof url=="string"){o=$.extend(o||{},{url:url});}}o=$.extend({},this.opts,o);var origCom=o.complete||$.noop,origSuc=o.success||$.noop,beforeSend=o.beforeSend||$.noop,origError=o.error||$.noop,strData=(typeof o.data=="string")?o.data:$.param(o.data||{}),xhrID=o.type+o.url+strData,that=this,ajaxFn=this._createAjax(xhrID,o,origSuc,origCom);if(o.preventDoubleRequests&&o.queueDuplicateRequests){if(o.preventDoubleRequests){o.queueDuplicateRequests=false;}setTimeout(function(){throw ("preventDoubleRequests and queueDuplicateRequests can't be both true");},0);}if(this.requests[xhrID]&&o.preventDoubleRequests){return;}ajaxFn.xhrID=xhrID;o.xhrID=xhrID;o.beforeSend=function(xhr,opts){var ret=beforeSend.call(this,xhr,opts);if(ret===false){that._removeXHR(xhrID);}xhr=null;return ret;};o.complete=function(xhr,status){that._complete.call(that,this,origCom,xhr,status,xhrID,o);xhr=null;};o.success=function(data,status,xhr){that._success.call(that,this,origSuc,data,status,xhr,o);xhr=null;};o.error=function(ahr,status,errorStr){var httpStatus="",content="";if(status!=="timeout"&&ahr){httpStatus=ahr.status;content=ahr.responseXML||ahr.responseText;}if(origError){origError.call(this,ahr,status,errorStr,o);}else{setTimeout(function(){throw status+"| status: "+httpStatus+" | URL: "+o.url+" | data: "+strData+" | thrown: "+errorStr+" | response: "+content;},0);}ahr=null;};if(o.queue==="clear"){$(document).clearQueue(this.qName);}if(o.queue||(o.queueDuplicateRequests&&this.requests[xhrID])){$.queue(document,this.qName,ajaxFn);if(this.inProgress<o.maxRequests&&(!this.requests[xhrID]||!o.queueDuplicateRequests)){$.dequeue(document,this.qName);}return xhrID;}return ajaxFn();},_createAjax:function(id,o,origSuc,origCom){var that=this;return function(){if(o.beforeCreate.call(o.context||that,id,o)===false){return;}that.inProgress++;if(that.inProgress===1){$.event.trigger(that.name+"AjaxStart");}if(o.cacheResponse&&cache[id]){if(!cache[id].cacheTTL||cache[id].cacheTTL<0||((new Date().getTime()-cache[id].timestamp)<cache[id].cacheTTL)){that.requests[id]={};setTimeout(function(){that._success.call(that,o.context||o,origSuc,cache[id]._successData,"success",cache[id],o);that._complete.call(that,o.context||o,origCom,cache[id],"success",id,o);},0);}else{delete cache[id];}}if(!o.cacheResponse||!cache[id]){if(o.async){that.requests[id]=$.ajax(o);}else{$.ajax(o);}}return id;};},_removeXHR:function(xhrID){if(this.opts.queue||this.opts.queueDuplicateRequests){$.dequeue(document,this.qName);}this.inProgress--;this.requests[xhrID]=null;delete this.requests[xhrID];},clearCache:function(){cache={};},_isAbort:function(xhr,status,o){if(!o.abortIsNoSuccess||(!xhr&&!status)){return false;}var ret=!!((!xhr||xhr.readyState===0||this.lastAbort===o.xhrID));xhr=null;return ret;},_complete:function(context,origFn,xhr,status,xhrID,o){if(this._isAbort(xhr,status,o)){status="abort";o.abort.call(context,xhr,status,o);}origFn.call(context,xhr,status,o);$.event.trigger(this.name+"AjaxComplete",[xhr,status,o]);if(o.domCompleteTrigger){$(o.domCompleteTrigger).trigger(this.name+"DOMComplete",[xhr,status,o]).trigger("DOMComplete",[xhr,status,o]);}this._removeXHR(xhrID);if(!this.inProgress){$.event.trigger(this.name+"AjaxStop");}xhr=null;},_success:function(context,origFn,data,status,xhr,o){var that=this;if(this._isAbort(xhr,status,o)){xhr=null;return;}if(o.abortOld){$.each(this.requests,function(name){if(name===o.xhrID){return false;}that.abort(name);});}if(o.cacheResponse&&!cache[o.xhrID]){if(!xhr){xhr={};}cache[o.xhrID]={status:xhr.status,statusText:xhr.statusText,responseText:xhr.responseText,responseXML:xhr.responseXML,_successData:data,cacheTTL:o.cacheTTL,timestamp:new Date().getTime()};if("getAllResponseHeaders" in xhr){var responseHeaders=xhr.getAllResponseHeaders();var parsedHeaders;var parseHeaders=function(){if(parsedHeaders){return;}parsedHeaders={};$.each(responseHeaders.split("\n"),function(i,headerLine){var delimiter=headerLine.indexOf(":");parsedHeaders[headerLine.substr(0,delimiter)]=headerLine.substr(delimiter+2);});};$.extend(cache[o.xhrID],{getAllResponseHeaders:function(){return responseHeaders;},getResponseHeader:function(name){parseHeaders();return(name in parsedHeaders)?parsedHeaders[name]:null;}});}}origFn.call(context,data,status,xhr,o);$.event.trigger(this.name+"AjaxSuccess",[xhr,o,data]);if(o.domSuccessTrigger){$(o.domSuccessTrigger).trigger(this.name+"DOMSuccess",[data,o]).trigger("DOMSuccess",[data,o]);}xhr=null;},getData:function(id){if(id){var ret=this.requests[id];if(!ret&&this.opts.queue){ret=$.grep($(document).queue(this.qName),function(fn,i){return(fn.xhrID===id);})[0];}return ret;}return{requests:this.requests,queue:(this.opts.queue)?$(document).queue(this.qName):[],inProgress:this.inProgress};},abort:function(id){var xhr;if(id){xhr=this.getData(id);if(xhr&&xhr.abort){this.lastAbort=id;xhr.abort();this.lastAbort=false;}else{$(document).queue(this.qName,$.grep($(document).queue(this.qName),function(fn,i){return(fn!==xhr);}));}xhr=null;return;}var that=this,ids=[];$.each(this.requests,function(id){ids.push(id);});$.each(ids,function(i,id){that.abort(id);});},clear:function(shouldAbort){$(document).clearQueue(this.qName);if(shouldAbort){this.abort();}}};$.manageAjax._manager.prototype.getXHR=$.manageAjax._manager.prototype.getData;$.manageAjax.defaults={beforeCreate:$.noop,abort:$.noop,abortIsNoSuccess:true,maxRequests:1,cacheResponse:false,async:true,domCompleteTrigger:false,domSuccessTrigger:false,preventDoubleRequests:true,queueDuplicateRequests:false,cacheTTL:-1,queue:false};$.each($.manageAjax._manager.prototype,function(n,fn){if(n.indexOf("_")===0||!$.isFunction(fn)){return;}$.manageAjax[n]=function(name,o){if(!managed[name]){if(n==="add"){$.manageAjax.create(name,o);}else{return;}}var args=Array.prototype.slice.call(arguments,1);managed[name][n].apply(managed[name],args);};});})(jQuery);