
/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/jquery/plugins/jquery.hashchange.min.js */
(function($,e,b){var c="hashchange",h=document,f,g=$.event.special,i=h.documentMode,d="on"+c in e&&(i===b||i>7);function a(j){j=j||location.href;return"#"+j.replace(/^[^#]*#?(.*)$/,"$1")}$.fn[c]=function(j){return j?this.bind(c,j):this.trigger(c)};$.fn[c].delay=50;g[c]=$.extend(g[c],{setup:function(){if(d){return false}$(f.start)},teardown:function(){if(d){return false}$(f.stop)}});f=(function(){var j={},p,m=a(),k=function(q){return q},l=k,o=k;j.start=function(){p||n()};j.stop=function(){p&&clearTimeout(p);p=b};function n(){var r=a(),q=o(m);if(r!==m){l(m=r,q);$(e).trigger(c)}else{if(q!==m){location.href=location.href.replace(/#.*/,"")+q}}p=setTimeout(n,$.fn[c].delay)}$.browser.msie&&!d&&(function(){var q,r;j.start=function(){if(!q){r=$.fn[c].src;r=r&&r+a();q=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){r||l(a());n()}).attr("src",r||"javascript:0").insertAfter("body")[0].contentWindow;h.onpropertychange=function(){try{if(event.propertyName==="title"){q.document.title=h.title}}catch(s){}}}};j.stop=k;o=function(){return a(q.location.href)};l=function(v,s){var u=q.document,t=$.fn[c].domain;if(v!==s){u.title=h.title;u.open();t&&u.write('<script>document.domain="'+t+'"<\/script>');u.close();q.location.hash=v}}})();return j})()})(jQuery,this);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/jquery/plugins/jquery.base64.min.js */
(function($){var keyString="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var uTF8Encode=function(string){string=string.replace(/\x0d\x0a/g,"\x0a");var output="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){output+=String.fromCharCode(c);}else if((c>127)&&(c<2048)){output+=String.fromCharCode((c>>6)|192);output+=String.fromCharCode((c&63)|128);}else{output+=String.fromCharCode((c>>12)|224);output+=String.fromCharCode(((c>>6)&63)|128);output+=String.fromCharCode((c&63)|128);}}return output;};var uTF8Decode=function(input){var string="";var i=0;var c=c1=c2=0;while(i<input.length){c=input.charCodeAt(i);if(c<128){string+=String.fromCharCode(c);i++;}else if((c>191)&&(c<224)){c2=input.charCodeAt(i+1);string+=String.fromCharCode(((c&31)<<6)|(c2&63));i+=2;}else{c2=input.charCodeAt(i+1);c3=input.charCodeAt(i+2);string+=String.fromCharCode(((c&15)<<12)|((c2&63)<<6)|(c3&63));i+=3;}}return string;};$.extend({base64Encode:function(input){var output="";var chr1,chr2,chr3,enc1,enc2,enc3,enc4;var i=0;input=uTF8Encode(input);while(i<input.length){chr1=input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);enc1=chr1>>2;enc2=((chr1&3)<<4)|(chr2>>4);enc3=((chr2&15)<<2)|(chr3>>6);enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64;}else if(isNaN(chr3)){enc4=64;}output=output+keyString.charAt(enc1)+keyString.charAt(enc2)+keyString.charAt(enc3)+keyString.charAt(enc4);}return output;},base64Decode:function(input){var output="";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0;input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(i<input.length){enc1=keyString.indexOf(input.charAt(i++));enc2=keyString.indexOf(input.charAt(i++));enc3=keyString.indexOf(input.charAt(i++));enc4=keyString.indexOf(input.charAt(i++));chr1=(enc1<<2)|(enc2>>4);chr2=((enc2&15)<<4)|(enc3>>2);chr3=((enc3&3)<<6)|enc4;output=output+String.fromCharCode(chr1);if(enc3!=64){output=output+String.fromCharCode(chr2);}if(enc4!=64){output=output+String.fromCharCode(chr3);}}output=uTF8Decode(output);return output;}});})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/jquery/plugins/jquery.cookie.js */
jQuery.cookie=function(name,value,options){if(typeof value!='undefined'){options=options||{};if(value===null){value='';options.expires=-1;}
var expires='';if(options.expires&&(typeof options.expires=='number'||options.expires.toUTCString)){var date;if(typeof options.expires=='number'){date=new Date();date.setTime(date.getTime()+(options.expires*24*60*60*1000));}else{date=options.expires;}
expires='; expires='+date.toUTCString();}
var path=options.path?'; path='+(options.path):'';var domain=options.domain?'; domain='+(options.domain):'';var secure=options.secure?'; secure':'';document.cookie=[name,'=',encodeURIComponent(value),expires,path,domain,secure].join('');}else{var cookieValue=null;if(document.cookie&&document.cookie!=''){var cookies=document.cookie.split(';');for(var i=0;i<cookies.length;i++){var cookie=jQuery.trim(cookies[i]);if(cookie.substring(0,name.length+1)==(name+'=')){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break;}}}
return cookieValue;}};


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/legacy/flash_proxy.js */
var cnbc_flashproxy_init_flag=false;var cnbc_flashproxy_reqqueue=new Array();var cnbc_flashproxy_data_reqqueue=new Array();var cnbc_stream_reqqueue=new Array();var cnbc_stream_Comp_Global=new Array();function getData_FlashProxy(url,callback)
{if((typeof cnbc_flashproxy_init_flag!="undefined")&&cnbc_flashproxy_init_flag)
{var flashProxy=(navigator.appName.indexOf("Microsoft")!=-1)?window["flashQuoteProxy"]:document["flashQuoteProxy"];if(flashProxy!=null)
{try
{flashProxy.callGetData(url,callback);}
catch(e){}}}
else
{var key=cnbc_flashproxy_data_reqqueue.length;cnbc_flashproxy_data_reqqueue[key]=new Array();cnbc_flashproxy_data_reqqueue[key]['URL']=url;cnbc_flashproxy_data_reqqueue[key]['CALLBACK']=callback;}}
function set_FlashProxyInitFlag()
{cnbc_flashproxy_init_flag=true;for(var i=0;i<cnbc_flashproxy_reqqueue.length;++i)
{cnbc_callFlashProxy(cnbc_flashproxy_reqqueue[i]['URL'],cnbc_flashproxy_reqqueue[i]['PROPIDS'],cnbc_flashproxy_reqqueue[i]['INIT']);}
cnbc_flashproxy_reqqueue=new Array();if((typeof cnbc_flashproxy_data_reqqueue!="undefined")&&(cnbc_flashproxy_data_reqqueue!=null))
{for(var i=0;i<cnbc_flashproxy_data_reqqueue.length;++i)
{getData_FlashProxy(cnbc_flashproxy_data_reqqueue[i]['URL'],cnbc_flashproxy_data_reqqueue[i]['CALLBACK']);}
cnbc_flashproxy_data_reqqueue=new Array();}}
function cnbc_callFlashProxy(url,propids,init)
{if(cnbc_isIPADUserAgent()){cnbc_callFlashProxyIPAD(url,propids,init);}
else
{if(cnbc_flashproxy_init_flag)
{var flashProxy=(navigator.appName.indexOf("Microsoft")!=-1)?window["flashQuoteProxy"]:document["flashQuoteProxy"];if(flashProxy!=null)
{try
{url+="&output=json";var key=cnbc_stream_reqqueue.length;cnbc_stream_reqqueue[key]=new Array();cnbc_stream_reqqueue[key]['URL']=url;cnbc_stream_reqqueue[key]['PROPIDS']=propids;cnbc_stream_reqqueue[key]['INIT']=init;flashProxy.callGetQuoteData(url,propids,init);}
catch(e){}}}
else
{var key=cnbc_flashproxy_reqqueue.length;cnbc_flashproxy_reqqueue[key]=new Array();cnbc_flashproxy_reqqueue[key]['URL']=url;cnbc_flashproxy_reqqueue[key]['PROPIDS']=propids;cnbc_flashproxy_reqqueue[key]['INIT']=init;}}}
function cnbc_isIPADUserAgent()
{return((navigator.userAgent.indexOf("iPad")!=-1)||(navigator.userAgent.indexOf("iPod")!=-1)||(navigator.userAgent.indexOf("iPhone")!=-1));}
function cnbc_callFlashProxyIPAD(url,propids,init)
{try
{url+="&output=json";url+="&random="+new Date().getTime();var currentDomain=document.domain;if(currentDomain.indexOf("classic.cnbc.com")!=-1){url=url.replace("http://quote.cnbc.com","http://classic.cnbc.com/quotes");}
else if(currentDomain.indexOf("data.cnbc.com")!=-1){url=url.replace("http://quote.cnbc.com","http://data.cnbc.com/request");}
else{url=url.replace("http://quote.cnbc.com","http://www.cnbc.com/quotes");}
var key=cnbc_stream_reqqueue.length;cnbc_stream_reqqueue[key]=new Array();cnbc_stream_reqqueue[key]['URL']=url;cnbc_stream_reqqueue[key]['PROPIDS']=propids;cnbc_stream_reqqueue[key]['INIT']=init;var aj=new Ajax.Request(url,{asynchronous:true,method:'GET',onSuccess:function(returnData){try{var responseText=returnData.responseText;cnbc_quoteComponent_paintData(responseText,propids,init);}
catch(e){}}});}
catch(e){}}
function cnbc_callUpdateQuoteStripDataIPAD(url,callback)
{try
{try
{var streamingCookie=cnbc_readCookie("cnbcStreamQuoteMasterToggleRememberSwitch");if((streamingCookie==null)||(streamingCookie!="off"))
{url+="&random="+new Date().getTime();var currentDomain=document.domain;if(currentDomain.indexOf("classic.cnbc.com")!=-1){url=url.replace("http://quote.cnbc.com","http://classic.cnbc.com/quotes");}
else if(currentDomain.indexOf("data.cnbc.com")!=-1){url=url.replace("http://quote.cnbc.com","http://data.cnbc.com/request");}
else{url=url.replace("http://quote.cnbc.com","http://www.cnbc.com/quotes");}
var aj=new Ajax.Request(url,{asynchronous:true,method:'GET',onSuccess:function(returnData){try{var responseText=returnData.responseText;callback(responseText);}
catch(e){}}});}}
catch(e){}}
catch(e){}}


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/json/json.min.js */
if(!this.JSON){this.JSON={};}(function(){"use strict";function f(n){return n<10?'0'+n:n;}if(typeof Date.prototype.toJSON!=='function'){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+'-'+f(this.getUTCMonth()+1)+'-'+f(this.getUTCDate())+'T'+f(this.getUTCHours())+':'+f(this.getUTCMinutes())+':'+f(this.getUTCSeconds())+'Z':null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==='string'?c:'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==='object'&&typeof value.toJSON==='function'){value=value.toJSON(key);}if(typeof rep==='function'){value=rep.call(holder,key,value);}switch(typeof value){case'string':return quote(value);case'number':return isFinite(value)?String(value):'null';case'boolean':case'null':return String(value);case'object':if(!value){return'null';}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==='[object Array]'){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||'null';}v=partial.length===0?'[]':gap?'[\n'+gap+partial.join(',\n'+gap)+'\n'+mind+']':'['+partial.join(',')+']';gap=mind;return v;}if(rep&&typeof rep==='object'){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==='string'){v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}v=partial.length===0?'{}':gap?'{\n'+gap+partial.join(',\n'+gap)+'\n'+mind+'}':'{'+partial.join(',')+'}';gap=mind;return v;}}if(typeof JSON.stringify!=='function'){JSON.stringify=function(value,replacer,space){var i;gap='';indent='';if(typeof space==='number'){for(i=0;i<space;i+=1){indent+=' ';}}else if(typeof space==='string'){indent=space;}rep=replacer;if(replacer&&typeof replacer!=='function'&&(typeof replacer!=='object'||typeof replacer.length!=='number')){throw new Error('JSON.stringify');}return str('',{'':value});};}if(typeof JSON.parse!=='function'){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==='object'){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return reviver.call(holder,key,value);}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);});}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,''))){j=eval('('+text+')');return typeof reviver==='function'?walk({'':j},''):j;}throw new SyntaxError('JSON.parse');};}}());var json_parse=(function(){var at,ch,escapee={'"':'"','\\':'\\','/':'/',b:'\b',f:'\f',n:'\n',r:'\r',t:'\t'},text,error=function(m){throw{name:'SyntaxError',message:m,at:at,text:text};},next=function(c){if(c&&c!==ch){error("Expected '"+c+"' instead of '"+ch+"'");}ch=text.charAt(at);at+=1;return ch;},number=function(){var number,string='';if(ch==='-'){string='-';next('-');}while(ch>='0'&&ch<='9'){string+=ch;next();}if(ch==='.'){string+='.';while(next()&&ch>='0'&&ch<='9'){string+=ch;}}if(ch==='e'||ch==='E'){string+=ch;next();if(ch==='-'||ch==='+'){string+=ch;next();}while(ch>='0'&&ch<='9'){string+=ch;next();}}number=+string;if(isNaN(number)){error("Bad number");}else{return number;}},string=function(){var hex,i,string='',uffff;if(ch==='"'){while(next()){if(ch==='"'){next();return string;}else if(ch==='\\'){next();if(ch==='u'){uffff=0;for(i=0;i<4;i+=1){hex=parseInt(next(),16);if(!isFinite(hex)){break;}uffff=uffff*16+hex;}string+=String.fromCharCode(uffff);}else if(typeof escapee[ch]==='string'){string+=escapee[ch];}else{break;}}else{string+=ch;}}}error("Bad string");},white=function(){while(ch&&ch<=' '){next();}},word=function(){switch(ch){case't':next('t');next('r');next('u');next('e');return true;case'f':next('f');next('a');next('l');next('s');next('e');return false;case'n':next('n');next('u');next('l');next('l');return null;}error("Unexpected '"+ch+"'");},value,array=function(){var array=[];if(ch==='['){next('[');white();if(ch===']'){next(']');return array;}while(ch){array.push(value());white();if(ch===']'){next(']');return array;}next(',');white();}}error("Bad array");},object=function(){var key,object={};if(ch==='{'){next('{');white();if(ch==='}'){next('}');return object;}while(ch){key=string();white();next(':');if(Object.hasOwnProperty.call(object,key)){error('Duplicate key "'+key+'"');}object[key]=value();white();if(ch==='}'){next('}');return object;}next(',');white();}}error("Bad object");};value=function(){white();switch(ch){case'{':return object();case'[':return array();case'"':return string();case'-':return number();default:return ch>='0'&&ch<='9'?number():word();}};return function(source,reviver){var result;text=source;at=0;ch=' ';result=value();white();if(ch){error("Syntax error");}return typeof reviver==='function'?(function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==='object'){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return reviver.call(holder,key,value);}({'':result},'')):result;};}());


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/SWFObject/swfobject.2.2.js */
var swfobject=function(){var D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,X=!+"\v1",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10);ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof O.ActiveXObject!=D){try{var ad=new ActiveXObject(W);if(ad){ab=ad.GetVariable("$version");if(ab){X=true;ab=ab.split(" ")[1].split(",");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if((typeof j.readyState!=D&&j.readyState=="complete")||(typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body))){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener("DOMContentLoaded",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState=="complete"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll("left")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener("load",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener("load",Y,false)}else{if(typeof O.attachEvent!=D){i(O,"onload",Y)}else{if(typeof O.onload=="function"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName("body")[0];var aa=C(r);aa.setAttribute("type",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");if(ab){ab=ab.split(" ")[1].split(",");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute("width")||"0";ai.height=ae.getAttribute("height")||"0";if(ae.getAttribute("class")){ai.styleclass=ae.getAttribute("class")}if(ae.getAttribute("align")){ai.align=ae.getAttribute("align")}var ah={};var X=ae.getElementsByTagName("param");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute("name").toLowerCase()!="movie"){ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName=="OBJECT"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return!a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName=="OBJECT"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width="310"}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height="137"}j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?"ActiveX":"PlugIn",ac="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D){ab.flashvars+="&"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C("div");X+="SWFObjectNew";Y.setAttribute("id",X);ae.parentNode.insertBefore(Y,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C("div");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName=="PARAM")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah="";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){ag.movie=ai[ae]}else{if(ae.toLowerCase()=="styleclass"){ah+=' class="'+ai[ae]+'"'}else{if(ae.toLowerCase()!="classid"){ah+=" "+ae+'="'+ai[ae]+'"'}}}}}var af="";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name="'+ad+'" value="'+ag[ad]+'" />'}}aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()=="styleclass"){Z.setAttribute("class",ai[ac])}else{if(ac.toLowerCase()!="classid"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!="movie"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName=="OBJECT"){if(M.ie&&M.win){X.style.display="none";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]=="function"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(".");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName("head")[0];if(!aa){return}var X=(ad&&typeof ad=="string")?ad:"screen";if(ab){n=null;G=null}if(!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css");Z.setAttribute("media",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(!m){return}var Y=X?"visible":"hidden";if(J&&c(Z)){c(Z).style.visibility=Y}else{v("#"+Z,"visibility:"+Y)}}function L(Y){var Z=/[\\\"<>\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent("onunload",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobject){swfobject[X]=null}swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+="";ag+="";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+="&"+ai+"="+Z[ai]}else{am.flashvars=ai+"="+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)){Z=Z.split("?")[1]}if(aa==null){return L(Z)}var Y=Z.split("&");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf("="))==aa){return L(Y[X].substring((Y[X].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display="block"}}if(E){E(B)}}a=false}}}}();


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Common/common_utils.1.js */
var CNBC_Common={};CNBC_Common.gotoPage=function(url){if(url!=""){setTimeout('window.location.href = "'+url+'"',0);}};CNBC_Common.openWindow=function(url,windowName,options){if(windowName==''){windowName="print";};var x=window.open(url,windowName,options);x.focus();};CNBC_Common.isNull=function(str){if(typeof str=='undefined'||str==''||str==null){return true;};return false;};CNBC_Common.ConsoleLog=function(msg){if(typeof(console)!='undefined'&&typeof console.log=='function'){console.log(msg);}
else if(typeof(window)!='undefined'&&typeof window.log=='function'){window.log(msg);}
else{}}
CNBC_Common.validateStr=function(str,replace){replace=replace||"--";if(typeof str==='undefined'||str==''||str===null){return replace;};return str;};CNBC_Common.focus=function($el,defaultText){if(CNBC_Common.checkForDefault($el.val(),defaultText)){$el.val('');}};CNBC_Common.blur=function($el,defaultText,checkEmpty){var val=$.trim($el.val());if(CNBC_Common.checkForDefault(val,defaultText,checkEmpty)){$el.val(defaultText);}};CNBC_Common.checkForDefault=function(val,defaultText,checkEmpty){var flag=(val==defaultText);if(checkEmpty&&!flag){flag=val=='';};return flag;};CNBC_Common.isArray=function(array){return(array!==null&&array instanceof Array);};CNBC_Common.formatDecimalZeros=function(num,digits){var digits=digits||2;var stringRepeat=function(str,num){return new Array(isNaN(num)?1:++num).join(str);}
var result=num;var n=String(num);if(n.lastIndexOf('.')>0){var lastDec=n.substr(n.lastIndexOf('.'));var decimals=lastDec.length-1;if(decimals<digits){var diff=digits-decimals;result=num+stringRepeat("0",diff);}}
else{result=num+'.00';}
return result;};function CNBC_Utils(){};CNBC_Utils.loaderText='Loading ...';CNBC_Utils._fontSizeLabel='USERFONTSIZE';CNBC_Utils._domain='.cnbc.com';CNBC_Utils._path='/';CNBC_Utils.equalColumnHeight=function($container){var group=$container||$("section.cols2 > div.unit"),groupLength=group.length,tallest=0,thisHeight=0;for(i=0;i<groupLength;++i){$group=$(group).eq(i);$group.height('auto');thisHeight=$group.height();if(thisHeight>tallest){tallest=thisHeight;}}
if(tallest){for(i=0;i<groupLength;++i){$group=$(group).eq(i);thisHeight=$group.height();if(thisHeight<tallest){$group.height(tallest);}}}}
CNBC_Utils.pageControl={};CNBC_Utils.initEvents=function(){$('table.data tbody tr').bind('mouseover',function(){CNBC_Utils.highlightRow($(this),true);}).bind('mouseout',function(){CNBC_Utils.highlightRow($(this));});CNBC_Utils.pageControl.initEvents();};CNBC_Utils.showLoader=function(el,text,loaderClass){if(el){var $el=(typeof el==='string')?$('#'+el):el;if($el.find("div.loader").length==0){text=text||CNBC_Utils.loaderText;loaderClass=loaderClass||"";var div=$('<div class="loader '+loaderClass+' contain"><span class="loading">&nbsp;</span><span class="loadingTxt">'+text+'</span></div>');var pos=$el.position();div.css('top',pos.top+'px').css('left',pos.left+'px').css('width',$el.outerWidth()+'px').css('height',$el.outerHeight()+'px');$el.append(div);return div;}}};CNBC_Utils.hideLoader=function($div,$container){if($div){$div.remove();}else if($container&&$container.length==1){$('div.loader',$container).remove();}};CNBC_Utils.createCookie=function(name,value,h){var expires="";if(!CNBC_Common.isNull(h)){var date=new Date();date.setTime($.now()+(h*60*60*1000));expires="; expires="+date.toGMTString();};document.cookie=name+"="+value+expires+";domain="+this._domain+";path="+this._path;};CNBC_Utils.readCookie=function(name){var nameEQ=name+"=";var result=CNBC_Utils.parseCookieValues(nameEQ,document.cookie.split(';'));if(result==null){var unescaped=unescape(document.cookie);result=CNBC_Utils.parseCookieValues(nameEQ,unescaped.split(';'));};return result;};CNBC_Utils.parseCookieValues=function(name,data){for(var i=0,len=data.length;i<len;i++){var c=data[i];while(c.charAt(0)==' '){c=c.substring(1,c.length);};if(c.indexOf(name)==0){return c.substring(name.length,c.length);}};return null;};CNBC_Utils.eraseCookie=function(name){if(CNBC_Utils.readCookie(name)){var params=name+"=;path="+this._path+";domain="+this._domain+";expires=Thu, 01-Jan-1970 00:00:01 GMT";document.cookie=params;}};CNBC_Utils.deleteAllLoginCookies=function(){var allCNBCCookies=["c_sna","c_ipb_pass_hash","c_ipb_session_id","c_ipb_member_id","snas","c_ws","SUBSCRIBERINFO3","SUBSCRIBERINFO2","SUBSCRIBERINFO","CASTOKEN","c_enc"];for(var i=0,len=allCNBCCookies.length;i<len;i++){var name=unescape(allCNBCCookies[i]);CNBC_Utils.eraseCookie(name,this._path,this._domain);};window.location.reload();};CNBC_Utils.initFontSizeEvents=function(){if($('div.font-content').length>0){CNBC_Utils.setFontSize();$('a.icon-font').live('click',function(){CNBC_Utils.toggleFontSize($(this).attr('data-font'));});}};CNBC_Utils.toggleFontSize=function(dir,val){var $text=$('div.font-content');var style=$text.attr('style');var font=style?parseFloat(style.split(':')[1]):val;var newFont=(val)?val:(dir=='+')?(font+0.25):(font-0.25);if(newFont>=0.75&&newFont<=1.50){$text.css('font-size',newFont+'em');document.cookie=CNBC_Utils._fontSizeLabel+'='+newFont;}
CNBC_Utils.equalColumnHeight();};CNBC_Utils.setFontSize=function(){var font=CNBC_Utils.getFontSizeCookie()||1;CNBC_Utils.toggleFontSize(null,font);};CNBC_Utils.getFontSizeCookie=function(){var search=CNBC_Utils._fontSizeLabel;var cookie=document.cookie;if(cookie.length>0&&cookie.indexOf(search)!=-1){var crumb=cookie.split(';');for(var i=0,len=crumb.length;i<len;++i){var key=crumb[i];if(key.match(search)){var font=key.split('=');return parseFloat(font[1]);}}}};CNBC_Utils.toolTipShow=function(id,parentid,$container,info,adjustTop,adjustLeft){$container.append('<div id="'+id+'"></div>');var $tooltipDiv=$('#'+id);var offset=$('#'+parentid).offset();$tooltipDiv.html(info);$tooltipDiv.offset({top:offset.top+adjustTop,left:offset.left+adjustLeft});};CNBC_Utils.toolTipHide=function(id){$container=$('#'+id);if(!CNBC_Common.isNull($container)){$container.remove();}};CNBC_Utils.highlightRow=function($el,highlight){var cName='hlight';$el.siblings('tr').removeClass(cName);if(highlight){$el.addClass(cName);}else{$el.removeClass(cName);}};CNBC_Utils.pageControl.host_url=location.host;CNBC_Utils.pageControl.initEvents=function(){var parent=$("#article-tools");if(!CNBC_Common.isNull(parent)){$("a.print",parent).bind("click",function(){CNBC_Utils.pageControl.print($(this).attr("data-nodeID"));});$("a.email",parent).bind("click",function(){CNBC_Utils.pageControl.email($(this).attr("data-nodeID"));});}};CNBC_Utils.pageControl.print=function(nodeID){var url="http://"+this.host_url+"/id/"+nodeID+"/print";CNBC_Common.openWindow(url,'print','width=800,height=600,scrollbars=1,resizable=1');};CNBC_Utils.pageControl.email=function(nodeID){var data=this.getEmailData(nodeID);document.location.href="mailto:?subject="+data.subject+"&body="+data.body+"%0d%0a%0d%0a Read More: "+data.loc;};CNBC_Utils.pageControl.getEmailData=function(nodeID){var title=$("h1.title","div.story").text();var etitle=title.replace(/\u2013/g,'-').replace(/\u2014/g,'-').replace(/\u2018/g,'\'').replace(/\u2019/g,'\'').replace(/\u201C/g,'"').replace(/\u201D/g,'"');etitle=escape($.trim(etitle).replace(/\s+/gi,' '));var ebody=$("#article_description").text();var encodeBody=ebody.replace(/\u2013/g,'-').replace(/\u2014/g,'-').replace(/\u2018/g,'\'').replace(/\u2019/g,'\'').replace(/\u201C/g,'"').replace(/\u201D/g,'"');encodeBody=escape($.trim(encodeBody).replace(/\s+/gi,' '));encodeBody=etitle+'%0D%0A%0D%0A'+encodeBody;return{subject:"CNBC.com Article: "+etitle,pubdate:$("#publish-date","div.story").text(),body:encodeBody,loc:encodeURIComponent('http://'+location.host+"/id/"+nodeID+'/')};};CNBC_Utils.pageControl.showPrintMenu=function(){window.print();};CNBC_Utils.execute=function(){var con=window.console,isWarnOk=(con&&typeof con.warn=="function"),warn=function(msg){if(isWarnOk){console.warn(msg);}};return function(component,func){try{func();}catch(e){warn("error initializing "+component);}}}();CNBC_Utils.getElement=function(selector,context,property){var prop='_$';prop+=property||selector;if(CNBC_Common.isNull(context._elements)||!CNBC_Common.isArray(context._elements)){context._elements=[];};if(!context._elements[prop]){context._elements[prop]=$(selector);};return context._elements[prop];};CNBC_Utils.initEvents();CNBC_Utils.adjustHeight=function(container){var type=typeof container;var $container;if(type=='string'){$container=$('#'+container);}else if(type=='object'&&container.length==1){$container=container;}else{$container=$(container);}
var maxHeight=parseInt($container.height()),$lastSubSection=$('div.subsection:last',$container),$li=$lastSubSection.children('ul').children('li'),$liFirst=$lastSubSection.children('ul').children('li:first');$lastSubSection.removeClass('hide');$li.each(function(){var $currLi=$(this);$currLi.removeClass('hide');var pos=$currLi.position().top,height=parseInt($currLi.outerHeight(true));if((pos+height)>maxHeight){$currLi.addClass('hide');}});if($liFirst.is(':hidden')){$lastSubSection.addClass('hide');}};


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Common/domTools.1.js */
var domToolsName="CNBC_domTools";window["tracking_"+domToolsName]={enterFrame:{},instances:0,framerate:30};;window[domToolsName]=(function(){var docObjectConst=function(elems,fdDOM){var elems=elems||document.body;if(elems.length){if(typeof elems==="object"){this.collection=Array.prototype.slice.call(elems);}else{this.collection=[document.getElementById(elems)];}}else{this.collection=[elems];}
this.forceDefaultDOM=fdDOM||false;this.self=this.collection[0];return this;};var docObject=function(elems,fdDOM){if(typeof elems==="string"&&elems.charAt(0)==="#"){return document.getElementById(elems.slice(1))||document.documentElement;}
return new docObjectConst(elems,fdDOM);};docObjectConst.prototype.checkCssProps=function(props){var elm=document.documentElement;if(typeof props=="string"&&!!props.length){if(typeof elm.style[props]=="string"){return props;}}else if(typeof props=="object"){var propsLength=props.length,i;for(i=0;i<propsLength;i++){if(typeof elm.style[props[i]]=="string"){return props[i];}}}
return false;};docObjectConst.prototype.insertText=function(text){var elm=this.collection[0],txt=text.toString()||"";if(document.body.innerText){elm.innerText+=txt;}else{elm.innerHTML+=txt.replace(/\&lt;br\&gt;/gi,"\n").replace(/(&lt;([^&gt;]+)&gt;)/gi,"");}
return this;};docObjectConst.prototype.hex3to6=function(h4){if(h4.charAt(0)==="#"&&h4.length===4){return"#"+h4.charAt(1)+h4.charAt(1)+h4.charAt(2)+h4.charAt(2)+h4.charAt(3)+h4.charAt(3);}
return h4;};docObjectConst.prototype.averageHexColor=function(c1,c2){if(c1.charAt(0)==="#"&&c2.charAt(0)==="#"){if(c1.length===4){c1=this.hex3to6(c1);}
if(c2.length===4){c2=this.hex3to6(c2);}
var c1_1=parseInt(c1.substr(1,2),16),c1_2=parseInt(c1.substr(3,2),16),c1_3=parseInt(c1.substr(5,2),16),c2_1=parseInt(c2.substr(1,2),16),c2_2=parseInt(c2.substr(3,2),16),c2_3=parseInt(c2.substr(5,2),16),color=[(~~((c1_1+c2_1)/2)).toString(16),(~~((c1_2+c2_2)/2)).toString(16),(~~((c1_3+c2_3)/2)).toString(16)];for(var n=0;n<=2;n++){if(color[n].length===1){color[n]="0"+color[n];}}
return"#"+color.join("");}else{return"#000000";}};docObjectConst.prototype.rgbToHex=function(rgb){var color=(typeof rgb==="string"&&rgb.length>9)?rgb:"rgb(0, 0, 0)";color=color.slice(4).split(", ");color[0]=parseInt(color[0]).toString(16);color[1]=parseInt(color[1]).toString(16);color[2]=parseInt(color[2]).toString(16);return"#"+color.join("");};docObjectConst.prototype.hexToRgb=function(hex){};docObjectConst.prototype.applyCustomStyles=function(CSSrules){if(CSSrules.length&&typeof CSSrules==="string"){var ssheet=document.getElementById("custom_gui")||document.createElement('style'),sheet=CSSrules||"";ssheet.setAttribute("type","text/css");ssheet.id="custom_gui";document.getElementsByTagName('head')[0].appendChild(ssheet);if(ssheet.styleSheet){ssheet.styleSheet.cssText=sheet;}else{ssheet.appendChild(document.createTextNode(sheet));}}
return this;};docObjectConst.prototype.dashToCamelCase=function(dashedString){if(typeof dashedString==="string"&&dashedString.length){var dsArr=dashedString.split("-"),dsArrLength=dsArr.length,dsArrN,dsArr_0,newStringCased,n;for(n=1;n<dsArrLength;n++){dsArrN=dsArr[n];dsArr_upperFirstChar=dsArrN.charAt(0).toUpperCase();dsArr[n]=dsArr_upperFirstChar+dsArrN.slice(1);}
newStringCased=dsArr.join("");}
return newStringCased||"";};docObjectConst.prototype.getBackgroundColor=function(){return this.computedStyle("background-color")||"#000000";};docObjectConst.prototype.computedStyle=function(styleKey){var elm=this.collection[0],padMarComplete=false;if(typeof elm==="object"){if(document.defaultView&&document.defaultView.getComputedStyle){var elmStyles=document.defaultView.getComputedStyle(elm,'');if(styleKey==="padding"){if(!elmStyles.getPropertyValue("padding").length){padMarComplete=elmStyles.getPropertyValue("padding-top")+" "+elmStyles.getPropertyValue("padding-right")+" "
+elmStyles.getPropertyValue("padding-bottom")+" "+elmStyles.getPropertyValue("padding-left");}
return padMarComplete||elmStyles.getPropertyValue(styleKey);}}else if(document.uniqueID&&elm.currentStyle){return elm.currentStyle[this.dashToCamelCase(styleKey)];}}
return"";};docObjectConst.prototype.average=function(){var numbers=(typeof arguement[0]==="object"&&arguement[0].length)?arguement[0]:arguement;var n=0,average=0,numbersLength=numbers.length;if(numbers.length){for(n=0;n<numbersLength;n++){numbersN=numbers[n];average+=(typeof numbersN==="number")?numbersN:0;}
return average/n;}
return 0;};docObjectConst.prototype.protectType=function(data,type){var returnData;if(type==="undefined"||type==="object"||type==="boolean"||type==="number"||type==="string"||type==="function"){if(typeof data===type){returnData=data;}else{switch(type){case"undefined":returnData=null;break;case"object":returnData={};break;case"boolean":returnData=!!data;break;case"number":returnData=Number(!!data);break;case"string":returnData=(!!data)?data.toString():"";break;case"function":returnData=function(){};break;default:returnData=null;break;}}}else{returnData=null;}
return returnData;};docObjectConst.prototype.enterFrame=function(func){var tracking=window["tracking_"+domToolsName];tracking.func=func;tracking.efFunc=function(){var efTracking=window["tracking_"+domToolsName],start=(new Date()).getTime();efTracking.func();var framerate=(new Date()).getTime()-start;window.clearTimeout(efTracking.enterFrame);efTracking.enterFrame=window.setTimeout(efTracking.efFunc,framerate+5);};tracking.efFunc();};docObjectConst.prototype.bindEvent=function(type,eventHandle){if(typeof type==="string"&&typeof eventHandle==="function"){type=type.toLowerCase();var elm=(type==="resize"||type==="onresize")?window:this.collection[0],onType;if(type.charAt(0)==="o"&&type.charAt(1)==="n"){type=type.slice(2);}
onType="on"+type;if(elm.addEventListener){elm.addEventListener(type,eventHandle,false);}else if(elm.attachEvent){elm.attachEvent(onType,eventHandle);}else{elm[onType]=eventHandle;}}
return this;};docObjectConst.prototype.applyRadius=function(csArgu){var supportRadius=this.checkCssProps(['MozBorderRadius','borderRadius','WebkitBorderRadius']),cornerSize=csArgu;var multiVals=(typeof cornerSize==="object"&&cornerSize.length)?true:false,elm=this.collection[0];var offSetPadding=0,ToffSetPadding=0,BoffSetPadding=0,elmPadding;elmPadding=[parseInt(this.computedStyle("padding-left")),parseInt(this.computedStyle("padding-right"))];var expGr=(multiVals)?[(2-cornerSize[0]/25),(2-cornerSize[1]/25),(2-cornerSize[2]/25),(2-cornerSize[3]/25)]:(2-cornerSize/25);if(!supportRadius||this.forceDefaultDOM){var bgColor=this.getBackgroundColor(),top=[],bottom=[],contWrap;var styleSheet=".CSS2rounded {display:block;background:"+bgColor+" top left repeat fixed "+this.computedStyle("background-image")+";height:1px;font-size:0;"
+"border-right:thin solid;border-left:thin solid;overflow:hidden}";this.applyCustomStyles(styleSheet);var borderColor=this.averageHexColor("#111",bgColor);if(multiVals){var cornerSize0=cornerSize[0],cornerSize1=cornerSize[1],cornerSize2=cornerSize[2],cornerSize3=cornerSize[3];var border="border:"+borderColor+";border-right-width:1px;border-left-width:1px;";while(Math.max(cornerSize0,cornerSize1)>0.5){if(!tl&&cornerSize0<.8){var tl=true;border="border-left:none 0;border-right:none 0;";}
if(!tr&&cornerSize1<.8){var tr=true;border="border-left:none 0;border-right:none 0;";}
top.push("<div class=\"CSS2rounded\" style=\""+border+";margin:0 "+~~cornerSize0+"px 0 "+~~cornerSize1+"px \"></div>");cornerSize0/=expGr[0];cornerSize1/=expGr[1];ToffSetPadding++;}
var border="border:"+borderColor+";border-right-width:1px;border-left-width:1px;";while(Math.max(cornerSize2,cornerSize3)>0.5){if(!bl&&cornerSize2<.8){var bl=true;border="border-left:none 0;border-right:none 0;";}
if(!br&&cornerSize3<.8){var br=true;border="border-left:none 0;border-right:none 0;";}
bottom.push("<div class=\"CSS2rounded\" style=\""+border+";margin:0 "+~~cornerSize2+"px 0 "+~~cornerSize3+"px \"></div>");cornerSize2/=expGr[2];cornerSize3/=expGr[3];BoffSetPadding++;}}else{while(cornerSize>0.5){top.push("<div class=\"CSS2rounded\" style=\"border-color:"+borderColor+";margin:0 "+~~cornerSize+"px \"></div>");cornerSize/=expGr;offSetPadding++;}
bottom=top;}
contWrap=this.sandwhich(top.join(""),bottom.reverse().join(""));document.getElementById(contWrap).style.padding=ToffSetPadding+"px "+elmPadding[1]+"px "+BoffSetPadding+"px "+elmPadding[0]+"px";elm.style.padding="0";}else if(multiVals){elm.style[supportRadius]=cornerSize.join("px ")+"px";}
return this;};docObjectConst.prototype.applyShadow=function(bsArgu){var nativeShadow=this.checkCssProps(['MozBoxShadow','boxShadow','WebkitBoxShadow']),nativeFilter=this.checkCssProps('filter'),shadowStrength=bsArgu||4,elm=this.collection[0];if(!nativeShadow&&nativeFilter){var shadDiv=document.createElement("DIV");shadDiv.className="playerRollShadow";shadDiv.style[nativeFilter]="progid:DXImageTransform.Microsoft.Blur(pixelRadius="+shadowStrength+")";elm.parentNode.insertBefore(shadDiv,elm);}
return this;};docObjectConst.prototype.randomIdendifier=function(srt){var startString=(typeof str==="string"&&str.length)?srt:"cnbc_";return startString+Math.floor(Math.random()*10000000000);};docObjectConst.prototype.sandwhich=function(pre,app,dynId){var elm=this.collection[0],wrapDiv=document.createElement("DIV");var id=dynId||this.randomIdendifier("sandwhich");wrapDiv.style.backgroundColor=this.getBackgroundColor();wrapDiv.innerHTML=elm.innerHTML;wrapDiv.id=id;wrapDiv.className=id;elm.innerHTML=(pre||"");elm.style.backgroundColor="transparent";elm.appendChild(wrapDiv);elm.innerHTML+=(app||"")
return(dynId)?this:id;};docObjectConst.prototype.wrap=function(dynId,erase){var elm=this.collection[0],wrapDiv=document.createElement("DIV");var id=dynId||this.randomIdendifier("wrap"),cNode,elmParent=elm.parentNode;if(!erase){cNode=elm.cloneNode(true);wrapDiv.appendChild(cNode);}
wrapDiv.id=id;wrapDiv.className=dynId||this.randomIdendifier("wrap");elmParent.insertBefore(wrapDiv,elm);elmParent.removeChild(elm);this.collection[0]=wrapDiv;return(dynId)?this:id;};docObject.func=docObjectConst.prototype;return docObject;})();


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/SignIn/signin.1.js */
var CNBC_Signin={};(function($){CNBC_Signin._domain="cnbc.com";CNBC_Signin._CASTOKEN="CASTOKEN";CNBC_Signin._ACEGI_SECURITY="ACEGI_SECURITY_HASHED_REMEMBER_ME_COOKIE";CNBC_Signin._SUBSCRIBERINFO="SUBSCRIBERINFO";CNBC_Signin._SUBSCRIBERINFO3="SUBSCRIBERINFO3";CNBC_Signin._COOKIE_REGISTERED_FOR_COMMENTS='c_sna';CNBC_Signin._MemberCenterURL="https://register.cnbc.com/memberCenter.do";CNBC_Signin._UserCheckURL="https://login.cnbc.com/cas/checkCasTicket?";CNBC_Signin._SignInURL='https://register.cnbc.com/refreshlogin.jsp';CNBC_Signin._SignOutURL='https://login.cnbc.com/cas/logout';CNBC_Signin._CookieUser='Guest';CNBC_Signin.UserCheckTimeout=(3*60*60*1000);CNBC_Signin.isRegister=false;CNBC_Signin.isValidUser=false;CNBC_Signin.isRegisteredForCommentsFlag=false;CNBC_Signin.signInCont=null;CNBC_Signin.isCreated=false;CNBC_Signin.init=function(args){if(args){this.initSettings(args);this.initElements();this.showUserInfo();this.toggleUserLinks();this.initEvents();}};CNBC_Signin.initSettings=function(args){var globalsettings=args.baseurls;CNBC_Signin._MemberCenterURL=globalsettings.register_base+'/memberCenter.do';CNBC_Signin._UserCheckURL=globalsettings.login_base+'/cas/checkCasTicket?';CNBC_Signin._SignInURL=globalsettings.register_base+'/refreshlogin.jsp';CNBC_Signin._SignOutURL=globalsettings.login_base+'/cas/logout';};CNBC_Signin.initElements=function(){this.$container=$('#login-container');this.$regState=$('#reg-user');this.$unregState=$('#unreg-user');this.$signInBtn=this.$unregState.find("li.last a");this.isRegister=CNBC_Signin.isRegistered();this.isValidUser=CNBC_Signin.isLoggedIn();this.isRegisteredForCommentsFlag=CNBC_Signin.isRegisteredForComments();};CNBC_Signin.initEvents=function(){if(typeof window.activePartnerExperience!='undefined'&&window.activePartnerExperience=='xfinity'){return;}
$('#signin').click(function(event){event.preventDefault();event.stopPropagation();CNBC_Signin.signInPopup(CNBC_Signin._SignInURL,'?source=header&service=url');});$('#signout').click(function(event){event.preventDefault();CNBC_Signin.gotoRegistrationURL(CNBC_Signin._SignOutURL,'?service=url');});$('body').bind('click',function(event){var $target=$(event.target);if(!$target.is('#signInDiv')){CNBC_Signin.hideOverLay();}});$(window).resize(function(){if(CNBC_Signin.isCreated){var pos=this.$unregState.offset();CNBC_Signin.signInCont.css({'top':(pos.top+19),'left':(pos.left-90)});}});};CNBC_Signin.isRegistered=function(){return((CNBC_Utils.readCookie(CNBC_Signin._CASTOKEN))||CNBC_Utils.readCookie(CNBC_Signin._ACEGI_SECURITY));};CNBC_Signin.isLoggedIn=function(){var loggedIn=false;var SessionCookie=CNBC_Utils.readCookie(CNBC_Signin._SUBSCRIBERINFO);if(!CNBC_Common.isNull(SessionCookie)){CNBC_Signin._CookieUser=SessionCookie;loggedIn=true;$.ajax({url:CNBC_Signin._UserCheckURL,data:"output=json",dataType:'jsonp',success:function(data){CNBC_Signin.GetStaleResponseHandler(data);},error:function(data){}});};return loggedIn;};CNBC_Signin.GetStaleResponseHandler=function(data){if(data!=null&&data!='null'&&data!=''){if(data["cnbc-global-login-response"]==1){CNBC_Utils.deleteAllLoginCookies("/");}}else{CNBC_Utils.deleteAllLoginCookies("/");};setTimeout("CNBC_Signin.isLoggedIn()",CNBC_Signin.UserCheckTimeout);};CNBC_Signin.showUserInfo=function(){var text,isValidUser=CNBC_Signin.isLoggedIn();if(isValidUser&&this.isRegister){var subscriberInfoCookie=CNBC_Utils.readCookie(CNBC_Signin._SUBSCRIBERINFO);var acegiCookie=CNBC_Utils.readCookie(CNBC_Signin._ACEGI_SECURITY);if(!CNBC_Common.isNull(acegiCookie)){CNBC_Signin._CookieUser=acegiCookie.split(":")[0];}else if(!CNBC_Common.isNull(subscriberInfoCookie)){CNBC_Signin._CookieUser=subscriberInfoCookie;}
text='Welcome, '+CNBC_Signin._CookieUser;};this.$container.find('span').html(text);};CNBC_Signin.toggleUserLinks=function(signin){this.$signInBtn.removeClass('btn');this.$unregState.css("margin-top","7px");if(signin){this.$regState.addClass('hide');this.$signInBtn.addClass('btn');this.$unregState.css("margin-top","0px");}else if(this.isRegister){this.$regState.removeClass('hide');this.$unregState.addClass('hide');}else{this.$regState.addClass('hide');this.$unregState.removeClass('hide');}};CNBC_Signin.signInPopup=function(url,params){var finalURL=this.createRegistrationURL(url,params);if(finalURL!=""){this.toggleUserLinks(true);if(!this.isCreated){this.renderPopup();this.positionPopup();$('#signInFrame').attr('src',finalURL);this.isCreated=true;}
else{if(this.signInCont.hasClass('hide')){this.signInCont.removeClass('hide');}
else{this.signInCont.addClass('hide');this.$signInBtn.removeClass('btn');this.$unregState.css("margin-top","7px");}}}};CNBC_Signin.renderPopup=function(){var overLayCode='<div class="contentDiv"><iframe id="signInFrame" name="signInFrame" frameborder="0" scrolling="no"></iframe></div>';var overlayShadow=$('#signInDivHidden').html();var overLayElm=$('<div id="signInDiv" class="signInDiv">'+overLayCode+'</div>');$('body').append(overLayElm);};CNBC_Signin.positionPopup=function(){this.signInCont=$('#signInDiv');var pos=this.$unregState.offset();this.signInCont.css({'top':(pos.top+19),'left':(pos.left-90)});};CNBC_Signin.hideOverLay=function(){var overlay=this.$unregState;if(overlay.length>0&&!overlay.hasClass('hide')){this.toggleUserLinks();if(!CNBC_Common.isNull(this.signInCont)){this.signInCont.addClass('hide');}}};CNBC_Signin.createRegistrationURL=function(url,params){var cnbc_curURL=location.href;var index=params.indexOf("url");var cnbc_index=cnbc_curURL.indexOf(CNBC_Signin._domain);if(params.indexOf("commentsRedirectUrl")!=-1){if(cnbc_curURL.indexOf("#cnbc-comments")==-1){cnbc_curURL=cnbc_curURL+"#cnbc-comments";}
cnbc_curURL=encodeURIComponent(cnbc_curURL);};if(index!=-1){if(cnbc_index!=-1){url=url+params.replace(/url/,cnbc_curURL.replace(/[=&\?]/g,"/"));return(url);}else{var qindex=cnbc_curURL.indexOf("?");var serviceURL=cnbc_curURL;if(qindex!=-1){serviceURL=cnbc_curURL.substring(0,index);}
return(url+params.replace(/url/,serviceURL));}};return"";};CNBC_Signin.gotoRegistrationURL=function(url,params){var finalURL=this.createRegistrationURL(url,params);if(finalURL!=""){window.location=finalURL;}};CNBC_Signin.isRegisteredForComments=function(){return CNBC_Utils.readCookie(CNBC_Signin._COOKIE_REGISTERED_FOR_COMMENTS);};CNBC_Signin.displayUsername=function(addtext,id){if(this.isRegistered()){var CookieUser=CNBC_Utils.readCookie(CNBC_Signin._SUBSCRIBERINFO3);document.getElementById(id).innerHTML=addtext+CookieUser;}};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Video/InlinePlayer.1.js */
var CNBC_InlinePlayer=function(){};(function($){CNBC_InlinePlayer.prototype._playerData={};CNBC_InlinePlayer.prototype.thumbnailImage='thumbnail';CNBC_InlinePlayer.prototype.init=function(args){this._args=args||{};if(this._args.vid&&this._args.partnerId){this._vid=this._args.vid;this._partnerId=this._args.partnerId;this._initData();}};CNBC_InlinePlayer.prototype._initData=function(){this._playerData=new CNBC_PlayerData();this._playerData.init({vid:this._vid,partnerId:this._partnerId,callbackContext:this,jsonpCallback:'jsonpCallback_'+this._vid,dataCompleteCallback:this._renderThumbnail});};CNBC_InlinePlayer.prototype.getData=function(){if(this._playerData){return this._playerData.getData();}};CNBC_InlinePlayer.prototype.startPlayer=function(player){this._player=player;this._setContainer();};CNBC_InlinePlayer.prototype._setContainer=function(){this._container=$('#'+this._player._swfName)[0].parentNode;};CNBC_InlinePlayer.prototype._renderThumbnail=function(){if(typeof this.rendered==="undefined"){this.rendered=1;var data=this.getData(),container=this._container;var html=['<div class="thumbBox"><a href="javascript:void(0)"><img src="',data.data[this.thumbnailImage],'" class="thumb"><div class="playStrip"><span class="playNowButton"></span><span class="play">Play Video</span></div></a></div>'];container.innerHTML=html.join('')+container.innerHTML;this.$thumbBox=$("div.thumbBox",this._container);this._setEvents();}else{this.restoreThumb();}};CNBC_InlinePlayer.prototype._setEvents=function(){var self=this;this.$thumbBox.bind('click',function(){self._playFile();});};CNBC_InlinePlayer.prototype._playFile=function(){if(this._player){this._player.drawPlayer();this.$thumbBox.hide();this._player.callPlayer('playFile');}};CNBC_InlinePlayer.prototype.restoreThumb=function(){this.$thumbBox.show();};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Video/PlayerData.1.js */
var CNBC_PlayerData=function(){};(function($){CNBC_PlayerData.prototype.serviceUrl="http://www.cnbc.com/vapi/videoservice/rssvideosearch.do";CNBC_PlayerData.prototype.jsonpCallback='jsonPlayerData';CNBC_PlayerData.prototype.searchindex=1;CNBC_PlayerData.prototype._data={};CNBC_PlayerData.prototype.isStreaming=true;CNBC_PlayerData.prototype.init=function(args){args=args||{};if(args.partnerId){this.partnerId=args.partnerId;this.jsonpCallback=args.jsonpCallback||'jsonPlayerData';this.rssVideoSearchURL=args.rssVideoSearchURL||this.serviceUrl;this._setCallback(args);this._initData(args.vid);}};CNBC_PlayerData.prototype._setCallback=function(args){if(args.dataCompleteCallback&&args.callbackContext){this.cb_dataComplete=args.dataCompleteCallback;this.cb_context=args.callbackContext;}};CNBC_PlayerData.prototype.initPageSource=function(){var source="External";var ref=document.referrer;if(ref!=''){var internal_ref=ref.indexOf('.cnbc.com/');if(internal_ref!='-1'){source="Internal";}};this._setPageSource(source);};CNBC_PlayerData.prototype._setPageSource=function(source){this._source=source;};CNBC_PlayerData.prototype._initData=function(vid){var self=this;$.ajax({url:self.rssVideoSearchURL,data:{action:'videos',partnerId:self.partnerId,output:'jsonp',searchindex:self.searchindex,ids:vid},dataType:'jsonp',jsonpCallback:self.jsonpCallback,success:function(data){self.structureData(data)}});};CNBC_PlayerData.prototype._updateVideoJSONData=function(data){data=data||{};this.initPageSource();var id=data["metadata:id"]||"0000000000";var metaLink=this.setMetaData(data["metadata:formatLink"]);var extendedCatagories=this.setCategories();var dataObj=this.setData(data,id,metaLink,extendedCatagories);dataObj.relatedVideos=this.setRelatedVideos(dataObj);this.jsonVidObj=this.setVidJSON(this._source,"","",dataObj);return this.jsonVidObj;};CNBC_PlayerData.prototype.setMetaData=function(data){var metaLink=[];var fileCode=(this.isStreaming)?'mpeg4_500000_Streaming':'mpeg4_500000_Download';if(typeof data=="object"){var flinks=data;for(var j=0,len=flinks.length;j<len;++j){data=flinks[j];if(data.indexOf(fileCode)!=-1){metaLink.push(data);}else if(this.isStreaming&&data.indexOf('flv_500000_Streaming')!=-1){metaLink.push(data);};};}else if(typeof data=="string"){if(data.indexOf(fileCode)!=-1){metaLink.push(data);}else if(this.isStreaming&&data.indexOf('flv_500000_Streaming')!=-1){metaLink.push(data);};};return metaLink;};CNBC_PlayerData.prototype.setCategories=function(data){data=data||{};return[{id:data.id||"",value:(data.content)?data.content.toUpperCase():"Keywords",truncatedValue:data.truncatedValue||"generic",type:data.type||"CNBC"}];};CNBC_PlayerData.prototype.setData=function(data,id,meta,categories){data=data||{};var dtProtectType=CNBC_domTools().protectType;return{title:dtProtectType(data.title,"string"),referer:window.location.href,pubDate:dtProtectType(data.pubDate,"string"),id:dtProtectType(id,"string"),show:(typeof data["metadata:show"]==="string")?data["metadata:show"].toUpperCase():'',viewmode:dtProtectType(data["metadata:viewmode"],"string"),network:this._getRegion(data["metadata:network"])||'',duration:dtProtectType(data["metadata:duration"],"string"),formatLink:meta.join(",")||'',link:dtProtectType(data.link,"string"),guid:dtProtectType(data.guid["content"],"string"),description:dtProtectType(data.description,"string"),largeThumbnailURL:dtProtectType(data["metadata:largeThumbnailURL"],"string"),thumbnail:dtProtectType(data["metadata:largeThumbnailURL"],"string"),smallThumbnailURL:dtProtectType(data["metadata:smallThumbnailURL"],"string"),categories:categories};};CNBC_PlayerData.prototype.setRelatedVideos=function(data){data=data||{};return[{id:data.id,pubDate:data.pubDate,title:data.title,largeThumbnailURL:data.largeThumbnailURL,smallThumbnailURL:data.smallThumbnailURL,link:data.link,description:data.description}];};CNBC_PlayerData.prototype.setVidJSON=function(source,keyword,ticker,data){return{pageSource:source,internalSearchKeyword:keyword||'',ticker:ticker||'',data:data||{}};};CNBC_PlayerData.prototype._getRegion=function(reg){var region='';switch(reg.toUpperCase()){case'CNBC US':region="us";break;case'CNBC ASIA':region="as";break;case'CNBC EUROPE':region="eu";break;default:region='us';break;};return region;};CNBC_PlayerData.prototype.structureData=function(results){var rss=(((results||{}).rss||{}).channel||{}).item||false;if(rss){this._data=this._updateVideoJSONData(rss);};this._dataComplete();};CNBC_PlayerData.prototype._dataComplete=function(){if(this.cb_dataComplete){this.cb_dataComplete.call(this.cb_context,this.getData());}};CNBC_PlayerData.prototype.getData=function(){return this._data;};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Video/BasePlayer.1.js */
var CNBC_Player=function(){};(function($){CNBC_Player.prototype.swfBg='#000000';CNBC_Player.prototype._initPlayerCalls={};CNBC_Player.prototype._playerReady=false;CNBC_Player.prototype._swfName="cnbc_vid_player";CNBC_Player.prototype._width='533';CNBC_Player.prototype._height='300';CNBC_Player.prototype._swfPath='http://qa.plus.cnbc.com/stickers/partners/videoPlayer/AkamaiEnterprisePlayer.swf';CNBC_Player.prototype._install='http://plus.cnbc.com/stickers/partners/videogallery/expressInstall.swf';CNBC_Player.prototype._version='10.0.0';CNBC_Player.prototype._vidDataURL="/vapi/videoservice/rssvideosearch.do?";CNBC_Player.prototype._partnerId=6008;CNBC_Player.prototype._noVidMessage="The current video is unavailable";CNBC_Player.prototype._noFlashMessage="The video feature requires Flash to be installed and enabled.";CNBC_Player.prototype.isPlaying=false;CNBC_Player.prototype._currentVersion='';CNBC_Player.prototype.init=function(args){this._args=args||{};this._swfPath=args.swfPath||this._swfPath;var isChecked=this._checkRequired();if(isChecked){this._setOverrides();this._setCallbacks();this._playerStart();}else{}};CNBC_Player.prototype._checkRequired=function(){var isChecked=false;if(this._args.swfName){this._swfName=this._args.swfName;isChecked=true;}else{return false;};if(this._args.getDataCallback){this.cb_checkForJSON=this._args.getDataCallback;isChecked=true;}else{return false;};return isChecked;};CNBC_Player.prototype._setOverrides=function(){if(this._args.context){this._context=this._args.context;};if(this._args.height){this._height=this._args.height};if(this._args.width){this._width=this._args.width;};if(this._args.vid){this._vid=this._args.vid;};};CNBC_Player.prototype._setCallbacks=function(){if(this._args.callPlayerCallback){this.cb_callPlayer=this._args.callPlayerCallback;};if(this._args.callPageCallback){this.cb_callPage=this._args.callPageCallback;};if(this._args.playerStartCallback){this.cb_playerStart=this._args.playerStartCallback;};if(this._args.videoCompleteCallback){this.cb_videoComplete=this._args.videoCompleteCallback;};};CNBC_Player.prototype._playerStart=function(){if(this._context&&this.cb_playerStart){this.cb_playerStart.call(this._context,this);}else{this.drawPlayer();this.callPlayer('playFile');}};CNBC_Player.prototype.getPlayer=function(){this.player=($.browser.msie)?window[this._swfName]:document[this._swfName];return this.player;};CNBC_Player.prototype.callPlayer=function(key,params){params=params||{};var player=this.getPlayer();if(this._playerReady&&player){switch(key){case'stop':player.stopPlayer();break;case'pause':player.pause();break;case'unpause':player.unpause();break;case'playFile':try{return player.playFile(this.checkForJSON(),1);}catch(e){this.error=e;};break;default:if(this._context&&this.cb_callPlayer){return this.cb_callPlayer.call(this._context,{key:key,params:params})}}}else if(!CNBC_Common.isNull(key)){this._initPlayerCalls[key]=params;}};CNBC_Player.prototype.callPage=function(playerId,key,obj){obj=obj||{};if(obj.state){if(obj.state==='playing'||obj.state==='ready'){this.isPlaying=true;}
else if(obj.state==='paused'){this.isPlaying=false;}}
switch(key){case'jsApiReady':this._playerReady=true;this.submitInitPlayerCalls();break;default:if(this.cb_callPage){this.cb_callPage.call(this._context,{playerId:playerId,key:key,obj:obj});}}};CNBC_Player.prototype.checkForJSON=function(){if(this.cb_checkForJSON){var data=this.cb_checkForJSON(this._context,this._vid);if(data&&typeof data!='undefined'){return data;}}};CNBC_Player.prototype.submitInitPlayerCalls=function(){for(var i in this._initPlayerCalls){if(i!='playFile'){this.callPlayer(i,this._initPlayerCalls[i]);}};this._initPlayerCalls=[];};CNBC_Player.prototype.videoComplete=function(vid){if(this._context&&this.cb_videoComplete){this.cb_videoComplete.call(this._context,vid);}};CNBC_Player.prototype.drawPlayer=function(){if(CNBC_Common.isNull(this._videoId)){swfobject.embedSWF(this._swfPath,this._swfName,this._width,this._height,this._version,this._install,this._args.flashVars||{},this._args.flashParams||{},{name:this._swfName,bgcolor:this.swfBg},this.swfErr);}else{this.vidErr();}};CNBC_Player.prototype.swfErr=function(){this._playerReady=false;var errorHTML=this.errorHTML||{};var html=(typeof errorHTML==="object"&&errorHTML.length)?errorHTML:['<div class="noSwfError">',this._noFlashMessage,'</div>'].join('');$("#"+this._swfName).parent().html(html);};CNBC_Player.prototype.vidErr=function(){this._playerReady=false;var errorHTML=this.errorHTML||{};var html=(typeof errorHTML==="object"&&errorHTML.length)?errorHTML:['<div class="noVidError">',this._noVidMessage,'</div>'].join('');$("#"+this._swfName).parent().html(html);};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Video/linkListPlayer.1.1.js */
function CNBC_LinkListPlayer(){};(function($){CNBC_LinkListPlayer.prototype.playerAppDefaultCoor={x:696,y:367};CNBC_LinkListPlayer.prototype.playerActive=false;CNBC_LinkListPlayer.prototype.videoContainer=null;CNBC_LinkListPlayer.prototype.videoPlayerData=null;CNBC_LinkListPlayer.prototype.init=function(args){if(args&&args.video_container){var self=this;self.videoContainerClass=args.video_container+'Class';self.setContainer(args.video_container);self.cache();self.defineFlashData();self.defineData(args);self.initActions();self.fillLinkList();CNBC_domTools(self.vidCommentsBox).applyRadius([self.boxEffect,self.boxEffect,self.boxEffect,0]).applyShadow(self.boxEffect);var $dest=$('<div class="'+self.videoContainerClass+'"></div>');$dest.append(self.vidCommentsBox.detach());$dest.append(self.videoContainer.find('div.vDescPoint').detach());$dest.append(self.videoContainer.find('div.playerRollShadow').detach());$dest.appendTo('body');self.attachEvents();}};CNBC_LinkListPlayer.prototype.defineFlashData=function(){var self=this;self._noVidMessage='The video you have requested is not available.';self.videos=[];};CNBC_LinkListPlayer.prototype.defineData=function(args){var self=this;self.baseArgs=args;self.offset=self.videoContainer.offset();self.waiting=[];self.waitingHold=[];self.next={};self.end=false;self.playing=null;self.boxEffect=3;self.Xval=self.playerAppDefaultCoor.x||0;self.Yval=self.playerAppDefaultCoor.y||0;self._playerData=new CNBC_PlayerData();self.hovered=false;self.xMouse=self.offset.left;self.yMouse=self.offset.top;self.popHeight=0;self.easeRate=2.1;self.popupOffset=-20;};CNBC_LinkListPlayer.prototype.setContainer=function(container){var self=this;var type=typeof container;var container;if(type=='string'){container=$('#'+container);}else if(type=='object'&&container.length==1){container=container;}else{container=$(container);}
self.videoContainer=container;};CNBC_LinkListPlayer.prototype.cache=function(){var self=this;self.windowLocationHost='http://'+window.location.host;self.vidCommentsBox=self.videoContainer.find('div.vidCommentBox');self.vidLinks=self.videoContainer.find('div.llp_relatedLinks');self.commentP=self.vidCommentsBox.find('P');self.commentSpan=self.vidCommentsBox.find('SPAN');self.thumbPage=$('div.thumbBox',self.videoContainer)[0];self.stripElm=$('div.playStrip',self.videoContainer)[0];self.lia=self.vidLinks.find('a');self.$aVidLink=$('a.vidlink',self.vidLinks);};CNBC_LinkListPlayer.prototype.playerInit=function(id){if(!playerInitOnce){var playerInitOnce=true;this.baseArgs.vid=id||'0';}
this.id_playerStart(id||this._videoId);};CNBC_LinkListPlayer.prototype.initActions=function(){var self=this;CNBC_domTools('').bindEvent('resize',function(){self.updateOffset();});self.vidCommentsBox.hide();self.vidCommentsBox.css('top','82px');self.vidCommentsBox.css('left','36px');self.minWidth=parseInt(self.vidCommentsBox.css('min-width'));};CNBC_LinkListPlayer.prototype.queue=function(id){var self=this;var vid=Array.prototype.slice.call(self.waiting),n=0,waitingArr=[],thisWaitingI,reOrg=false,currentPos;for(var i=0,vLength=vid.length;i<vLength;i++){thisWaitingI=vid[i];if(thisWaitingI!=id&&thisWaitingI){waitingArr[n]=thisWaitingI;n++;}else if(thisWaitingI){currentPos=n;}}
if(currentPos){waitingArr=Array.prototype.concat.call(waitingArr.slice(currentPos),waitingArr.slice(0,currentPos));}
if(n){self.waiting=waitingArr;}else{self.waiting=[];self.end=true;}};CNBC_LinkListPlayer.prototype.renderCheck=function(context){var self=this;self.videoPlayerData=context;self.basePlayer.args=this.baseArgs;if(!CNBC_Common.isNull(self._videoId)){if($('object',self.videoContainer).length<1){self.basePlayer.drawPlayer();}else{$('#'+self.basePlayer._swfName).show();}
try{self.basePlayer.callPlayer('playFile',self);}catch(e){}}else{self.basePlayer._playerReady=false;self.basePlayer.drawPlayer();}};CNBC_LinkListPlayer.prototype.playerStart=function(){var self=this;self.setArrow(self._videoId);self.thumbPage.style.display='none';if(!self.end){self.queue(self._videoId);self.playerActive=true;}};CNBC_LinkListPlayer.prototype.id_playerStart=function(id){var self=this;if(typeof id==='string'&&id.length){self._videoId=id;self.setArrow(self._videoId);self.thumbPage.style.display='none';}else{id=self._videoId;}
if(!self.end){self.queue(id);self._playerData.init({vid:id,partnerId:6008,dataCompleteCallback:self.renderCheck,callbackContext:self});self.playerActive=true;}};CNBC_LinkListPlayer.prototype.checkForJSON=function(){var self=this;var data=self.getVideoJSONData(self);if(data&&typeof data!='undefined'){return data;}};CNBC_LinkListPlayer.prototype.getVideoJSONData=function(self){if(!self){var self=this;}
return self.videoPlayerData;};CNBC_LinkListPlayer.prototype.callPage=function(args){var self=this;args=args||{};self.player=self.basePlayer.getPlayer();player=this.player;var key=args.key;if(self.basePlayer._playerReady&&player&&!CNBC_Common.isNull(this._context)){if(key==='jumpToTime'){return player.jumpToTime(params);}}}
CNBC_LinkListPlayer.prototype.callPlayer=function(context,args){args=args||{};var key=args.key;var params=args.params
if(key==='mediaPlayerBufferingTimeout'&&context){this.unloadPlayer();}};CNBC_LinkListPlayer.prototype.unloadPlayer=function(temp){var self=this;var player=self.basePlayer.getPlayer();if($.browser.msie){$('#'+self.basePlayer._swfName).replaceWith('<div id="'+self.basePlayer._swfName+'" style="display:none"></div>');}else{$('#'+self.basePlayer._swfName).hide();}
self.basePlayer.player=undefined;self.thumbPage.style.display='block';if(!temp){self.setArrow(self.infoHold[0].id);self.end=false;self._playerReady=false;self.playerActive=false;}};CNBC_LinkListPlayer.prototype.getNextVideo=function(context){var self=this;if(self.end){self.unloadPlayer();}else if(self.waiting.length){vid=self.waiting[0];self.id_playerStart(vid);}else{self.unloadPlayer();}};CNBC_LinkListPlayer.prototype.fillLinkList=function(){var self=this;var liA=self.lia,liALength,n,$descP=$(self.commentP),$pubdS=$(self.commentSpan),infoN;var firstId=liA[0].getAttribute('data-videoId')||'000';var coreAd=liA[0].getAttribute('core_ads')||'1';if(coreAd){self.baseArgs.flashVars.core_ads_enabled=true;}
else{self.baseArgs.flashVars.core_ads_enabled=false;}
self.infoHold=[];for(n=0,liALength=liA.length;n<liALength;n++){self.infoHold[n]={id:liA[n].getAttribute('data-videoId')||'0000',title:liA[n].innerHTML||'',time:$pubdS.get(n).innerHTML||'',desc:$descP.get(n).innerHTML||''};self.waiting[n]=self.infoHold[n].id;}
self.waitingHold=self.waiting;self.thumbUrl='';self.setArrow(firstId);self._videoId=firstId;};CNBC_LinkListPlayer.prototype.linkHover=function(){var self=this;var shadowElm=$('div.'+self.videoContainerClass).find('div.playerRollShadow')||false;var vDescPointLength=$('div.'+self.videoContainerClass).find('div.vDescPoint').length;if(!vDescPointLength){self.vidCommentsBox.after('<div class="vDescPoint"></div>');self.mouseArrow=$('div.vDescPoint','div.'+self.videoContainerClass);}
$aVidLink=self.$aVidLink;self.$aVidLink.hover(function(){self.hoverOverLinkList(shadowElm,$(this).parent().index());self.rollOverVidDesc(shadowElm);},function(){self.hoverOutLinkList(shadowElm,$(this).parent().index())});$(self.videoContainer).bind('mousemove',function(e){self.xMouse=~~e.pageX-5;self.yMouse=~~e.pageY;self.rollOverVidDesc(shadowElm);});};CNBC_LinkListPlayer.prototype.updateOffset=function(){this.offset=this.videoContainer.offset();};CNBC_LinkListPlayer.prototype.rollOverVidDesc=function(shadowElm){var self=this;if(self.hovered===true){var playOffset=self.offset,diff,commentsBoxTop,commentsBoxLeft,commentsBox=self.vidCommentsBox;diff=self.yMouse-self.Yval;diff=diff/(self.easeRate/1.5);self.Yval+=~~diff;self.posT=~~(self.Yval-playOffset.top)+self.popupOffset;diff=self.xMouse-self.Xval;diff=diff/self.easeRate;self.Xval+=~~diff;var holdLpos=self.Xval-playOffset.left,holdWidth=~~(328-(self.Xval-playOffset.left));self.posL=(holdLpos>271)?271:holdLpos;holdWidth=(holdWidth<this.minWidth)?this.minWidth:holdWidth;commentsBoxLeft=self.posL+this.offset.left;commentsBox.css('left',commentsBoxLeft+'px');commentsBox.css('width',Math.abs(holdWidth)+'px');self.popHeight=$(commentsBox).outerHeight(true);var topExtraOffset=16;self.mouseArrow.css('left',(commentsBoxLeft-4)+'px');self.mouseArrow.css('top',(self.posT+playOffset.top-4-topExtraOffset)+'px');self.mouseArrow.css('width','17px');commentsBoxTop=self.posT-self.popHeight+playOffset.top-topExtraOffset;;commentsBox.css('top',(commentsBoxTop)+'px');if(shadowElm){shadowElm.css('width',commentsBox.css('width'));shadowElm.css('height',self.popHeight+'px');shadowElm.css('top',commentsBoxTop-self.boxEffect+'px');shadowElm.css('left',commentsBoxLeft-self.boxEffect+'px');}}};CNBC_LinkListPlayer.prototype.hoverOverLinkList=function(shadowElm,loc){var self=this,commentBox=self.vidCommentsBox;self.hovered=true;self.pos=loc;commentBox.show();self.mouseArrow.show();var p=$('div.'+self.videoContainerClass).find('div.vidCommentBox p');var s=$('div.'+self.videoContainerClass).find('div.vidCommentBox span');p.eq(self.pos).css('display','inline-block');s.eq(self.pos).css('display','inline-block');self.popHeight=$(commentBox).outerHeight(true);commentBox.css('top',((self.posT||0)-self.popHeight)+'px');if(shadowElm){shadowElm.show();}}
CNBC_LinkListPlayer.prototype.hoverOutLinkList=function(shadowElm,loc){var self=this;self.hovered=false;var p=$('div.'+self.videoContainerClass).find('div.vidCommentBox p');var s=$('div.'+self.videoContainerClass).find('div.vidCommentBox span');self.vidCommentsBox.css('display','none');;self.mouseArrow.css('display','none');;p.eq(self.pos).css('display','none');s.eq(self.pos).css('display','none');if(shadowElm){shadowElm.hide();}}
CNBC_LinkListPlayer.prototype.playerStartHold=function(){}
CNBC_LinkListPlayer.prototype.linkClick=function(){var self=this,$links=$('li',self.vidLinks),id;$('a',self.thumbPage).click(function(){self.playerInit(self.infoHold[0].id);});$('a.vidlink',self.vidLinks).bind('click',function(e){e.preventDefault();id=$(this).get(0).getAttribute('data-videoId')||'000';var coreAd=$(this).get(0).getAttribute('core_ads')|'1';if(coreAd){self.baseArgs.flashVars.core_ads_enabled=true;}
else{self.baseArgs.flashVars.core_ads_enabled=false;}
self.end=false;if(typeof id==='string'&&id.length){self.playerInit(id);}});};CNBC_LinkListPlayer.prototype.setArrow=function(val){var lia=this.lia,liaHold;var liaLength=lia.length,matchedId,liaN;for(var n=0;n<liaLength;n++){liaN=lia[n];matchedId=liaN.getAttribute('data-videoId')||'000';if(matchedId==val){break;}}
for(var n=0;liaHold=lia[n];n++){liaHold.parentNode.className='';}
liaN.parentNode.className='playing';};CNBC_LinkListPlayer.prototype.attachEvents=function(){this.linkHover();this.linkClick();};CNBC_LinkListPlayer.prototype.isPlayerActive=function(){return this.playerActive;}})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Partner/xfinity_experience.1.js */
var CNBC_Xfinity_Experience={};(function($){var XfinityURLs;CNBC_Settings=(typeof CNBC_Settings!='undefined'?CNBC_Settings:{});CNBC_Settings.baseurls=(typeof CNBC_Settings.baseurls!='undefined'?CNBC_Settings.baseurls:{});CNBC_Settings.baseurls.cnbc_base=(typeof CNBC_Settings.baseurls.cnbc_base!='undefined'?CNBC_Settings.baseurls.cnbc_base:'');if(window.location.href.indexOf('qa.watchlist.cnbc.com')!=-1){CNBC_Settings.baseurls.cnbc_base='http://qa.pub.cnbc.com';}else if(window.location.href.indexOf('stage.watchlist.cnbc.com')!=-1){CNBC_Settings.baseurls.cnbc_base='http://stg.pub.cnbc.com';}
if(window.location.href.indexOf('stage.cnbcapps.cnbc.com/portfolio/')!=-1){CNBC_Settings.baseurls.cnbc_base='http://stg.pub.cnbc.com';}
if(window.location.href.indexOf('stage.video.cnbc.com/gallery/')!=-1){CNBC_Settings.baseurls.cnbc_base='http://stg.pub.cnbc.com';}
if(window.location.href.indexOf('stage.data.cnbc.com/quotes')!=-1){CNBC_Settings.baseurls.cnbc_base='http://stg.pub.cnbc.com';}
if(CNBC_Settings.baseurls.cnbc_base=='http://qa.pub.cnbc.com'){XfinityURLs={register:'http://qa.register.cnbc.com',login:'https://qa.login.cnbc.com',fm:'http://fmqa.cnbc.com',pub:'http://qa.pub.cnbc.com',watchlist:'http://qa.watchlist.cnbc.com'};CNBC_Xfinity_Experience.optionalOptin='221';}else if(CNBC_Settings.baseurls.cnbc_base=='http://stg.pub.cnbc.com'){XfinityURLs={register:'http://stage.register.cnbc.com',login:'https://stage.register.cnbc.com',fm:'http://fmstg.cnbc.com',pub:'http://stg.pub.cnbc.com',watchlist:'http://stage.watchlist.cnbc.com'};CNBC_Xfinity_Experience.optionalOptin='221';}else{XfinityURLs={register:'http://register.cnbc.com',login:'https://register.cnbc.com',fm:'http://fm.cnbc.com',pub:'http://www.cnbc.com',watchlist:'http://watchlist.cnbc.com'};CNBC_Xfinity_Experience.optionalOptin='101';}
CNBC_Xfinity_Experience.modules=[];CNBC_Xfinity_Experience.moduleNames=[];CNBC_Xfinity_Experience.optinDomains=['apps.cnbc.com/portfolio','watchlist.cnbc.com','stage.cnbcapps.cnbc.com/portfolio/','stage.watchlist.cnbc.com'];CNBC_Xfinity_Experience.init=function(args){if(window.activePartnerExperience=='xfinity'){this.prepareHeader();this.prepareOptin();this.getModuleList();if(this.modules.length!=0){$('head').append('<link rel="stylesheet" href="'+XfinityURLs.fm+'/applications/cnbc.com/staticcontent/styles/xfinity.css" type="text/css" />');this.fetchModules();}
this.switchPlayerVars();this.switchURLs();this.performPassiveAuth();}};CNBC_Xfinity_Experience.prepareHeader=function(){var headerEl='<div id="prtnr_mod_header"></div>';$('body').prepend(headerEl);};CNBC_Xfinity_Experience.prepareOptin=function(){var isUserOptedIn=CNBC_Partner_Experience.readCookie('c_reg_xfinity_opt');if(isUserOptedIn=='0'&&this.doesDomainMatch()){var overlayEl='<div id="prtnr_mod_overlay"></div>';$('body').prepend(overlayEl);}};CNBC_Xfinity_Experience.doesDomainMatch=function(){for(var i=0,len=CNBC_Xfinity_Experience.optinDomains.length;i<len;i++){if(window.location.href.indexOf(CNBC_Xfinity_Experience.optinDomains[i])!=-1){return true;}}
return false;}
CNBC_Xfinity_Experience.getModuleList=function(){var thisObj=this;var $availableModules=$('div[id^="prtnr_mod_"]');$availableModules.each(function(){var $availableModule=$(this);var moduleName='xfinity_'+$availableModule.attr('id').substring(10);thisObj.modules.push({'id':moduleName,'element':$availableModule});thisObj.moduleNames.push(moduleName);});};CNBC_Xfinity_Experience.fetchModules=function(){var thisObj=this;var url=''+XfinityURLs.pub+'/recirculationmodules/get?p=xfinity_partner&c='+this.moduleNames.join('|');var ajaxCall=$.ajax({url:url,dataType:'jsonp',jsonpCallback:'recirculationHandler',cache:true,async:false,success:function(data){thisObj.paintModules(data)
thisObj.initOptin();}});};CNBC_Xfinity_Experience.paintModules=function(data){for(var i=0,len=CNBC_Xfinity_Experience.modules.length;i<len;i++){var module=CNBC_Xfinity_Experience.modules[i];module.element.html(data[module.id]);}};CNBC_Xfinity_Experience.switchPlayerVars=function(){if(typeof CNBC_Player!='undefined'&&CNBC_Player.prototype&&CNBC_Player.prototype.drawPlayer){var draw=CNBC_Player.prototype.drawPlayer;var brandedSiteSection='cnbc_xfinitycobrand_embed';var nid=CNBC_Partner_Experience.pageNodeId;if(CNBC_Partner_Experience.partnerHome.indexOf(nid)!=-1){brandedSiteSection='cnbc_xfinitycobrand_money';}else if(typeof CNBC_Settings!='undefined'&&CNBC_Settings.pageNodeId=='15839285'){brandedSiteSection='cnbc_xfinitycobrand_homepage';}
CNBC_Player.prototype.drawPlayer=function(){this._args.flashVars.branded_player='Xfinity Money';this._args.flashVars.branded_site_section=brandedSiteSection;draw.call(this);};}}
CNBC_Xfinity_Experience.switchURLs=function(){var registerLink=XfinityURLs.register+'/sauth/rs/authenticate/20035?target='+encodeURIComponent(window.location.href);var signInLink=XfinityURLs.register+'/sauth/rs/authenticate/20035?target='+encodeURIComponent(window.location.href);var memberCenterLink='http://xfinity.comcast.net/profile';var signoutLink=XfinityURLs.login+'/cas/logout?targetService='+encodeURIComponent(''+XfinityURLs.register+'/sauth/rs/logout/20035')+'&service='+encodeURIComponent(window.location.href);$('#unreg-user li.first a').attr('href',registerLink);$('#unreg_user a.cnbcRegister').attr('onClick','');$('#unreg_user a.cnbcRegister').attr('href',registerLink);$('#signin').unbind();$('#signin').click(function(event){window.location.href=signInLink;});$('#unreg_user a.cnbcSignIn').attr('onClick','');$('#unreg_user a.cnbcSignIn').attr('href',signInLink);$('#reg-user li.first a').attr('href',memberCenterLink);$('#reg_user a.cnbcRegister').attr('onClick','');$('#reg_user a.cnbcRegister').attr('href',memberCenterLink);$('#signout').unbind();$('#signout').click(function(event){window.location.href=signoutLink;});$('#reg_user a.cnbcSignIn').attr('onClick','');$('#reg_user a.cnbcSignIn').attr('href',signoutLink);var navs=$('#unreg_user a');for(i=0;i<navs.length;i++){var $nav=$(navs[i]);if($nav.text().toUpperCase()=='REGISTER'){$nav.attr('href',registerLink);}
if($nav.text().toUpperCase()=='SIGN IN'){$nav.attr('onClick','');$nav.attr('href',signInLink);}}
var navs=$('#reg_user a');for(i=0;i<navs.length;i++){var $nav=$(navs[i]);if($nav.text().toUpperCase()=='MEMBER CENTER'){$nav.attr('href',memberCenterLink);}
if($nav.text().toUpperCase()=='SIGN OUT'){$nav.attr('onClick','');$nav.attr('href',signoutLink);}}
var navs=$('nav#menu-main #nav a');var portfolio=''+XfinityURLs.login+'/authproxy/portfolio/auth.do?Action=portfolio';var portfolioURL=XfinityURLs.register+'/sauth/rs/authenticate/20035?target='+encodeURIComponent(portfolio);var watchlistURL=XfinityURLs.register+'/sauth/rs/authenticate/20035?target='+encodeURIComponent(XfinityURLs.watchlist);for(i=0;i<navs.length;i++){var $nav=$(navs[i]);if($nav.text().toUpperCase()=='PORTFOLIO'){$nav.attr('href',portfolioURL);}
if($nav.text().toUpperCase()=='WATCHLIST'){$nav.attr('href',watchlistURL);}}
var navs=$('#pageHeadNav a');for(i=0;i<navs.length;i++){var $nav=$(navs[i]);if($nav.text().toUpperCase()=='PORTFOLIO'){$nav.attr('href',portfolioURL);}
if($nav.text().toUpperCase()=='WATCHLIST'){$nav.attr('href',watchlistURL);}}
var navs=$('#subnav_15839069 a');for(i=0;i<navs.length;i++){var $nav=$(navs[i]);if($nav.text().toUpperCase()=='PORTFOLIO'){$nav.attr('href',portfolioURL);}
if($nav.text().toUpperCase()=='WATCHLIST'){$nav.attr('href',watchlistURL);}}}
CNBC_Xfinity_Experience.initOptin=function(){var thisObj=this;if($('#prtnr_mod_overlay').length!=0){$("#xfinity_overlay_background").height($(document).height());var $ov=$("#xfinity_overlay");$ov.css("margin-top",(thisObj.getYPosition()-($ov.height()/2)+100));$('#overlayClose').click(function(e){if(document.referrer!=''&&document.referrer.indexOf('register.cnbc.com')==-1){window.location.href=document.referrer;}else{window.location.href=''+XfinityURLs.pub+'/id/100291100';}});$('#noThanks').click(function(e){if(document.referrer!=''&&document.referrer.indexOf('register.cnbc.com')==-1){window.location.href=document.referrer;}else{window.location.href=''+XfinityURLs.pub+'/id/100291100';}});$('#submitOptin').click(function(e){e.preventDefault();thisObj.submitOptin();});}}
CNBC_Xfinity_Experience.submitOptin=function(){var thisObj=this;var rulesAccepted=false,offersAccepted=false;if($('#acceptRules').is(':checked')){rulesAccepted=true;$('#rulesErrMsg').hide();}else{rulesAccepted=false;$('#rulesErrMsg').show();$('#acceptRules').change(function(){$('#rulesErrMsg').toggle();});return;}
if($('#acceptOffers').is(':checked')){offersAccepted=true;}else{offersAccepted=false;}
if(rulesAccepted){thisObj.recordOptin(offersAccepted);}}
CNBC_Xfinity_Experience.recordOptin=function(offersAccepted){var thisObj=this;var options='?optionId=610';if(offersAccepted){options+='|'+CNBC_Xfinity_Experience.optionalOptin;}
var url=XfinityURLs.register+'/sauth/rs/optIn/save/optin.js'+options;$.ajax({url:url,dataType:'jsonp',jsonpCallback:'optinHandler',async:false,success:function(data){if(data['cnbc-xfinity-optin-response']=='1'){CNBC_Partner_Experience.createCookie('c_reg_xfinity_opt','1',0);}else{CNBC_Partner_Experience.createCookie('c_reg_xfinity_opt','1',0);}
thisObj.closeOverlay();}});}
CNBC_Xfinity_Experience.closeOverlay=function(){$("#xfinity_overlay_background").remove();$("#xfinity_overlay").remove();}
CNBC_Xfinity_Experience.getYPosition=function(){var y;if(self.pageYOffset){y=self.pageYOffset;}else if(document.documentElement&&document.documentElement.scrollTop){y=document.documentElement.scrollTop;}else if(document.body){y=document.body.scrollTop;}
return y;}
CNBC_Xfinity_Experience.checkBrowser=function(){var N=navigator.appName,ua=navigator.userAgent,tem;var M=ua.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);if(M&&(tem=ua.match(/version\/([\.\d]+)/i))!=null)M[2]=tem[1];M=M?[M[1],M[2]]:[N,navigator.appVersion,'-?'];return M;}
CNBC_Xfinity_Experience.performPassiveAuth=function(){if(CNBC_Xfinity_Experience.checkBrowser().indexOf('MSIE')!=-1){return;}
var thisObj=this;var override=false;if(CNBC_Partner_Experience.checkReferrer(document.referrer)){override=true;}
var xfinity_passive_authenticated=CNBC_Partner_Experience.readCookie('xfinity_passive_authenticated');if(xfinity_passive_authenticated==''||override){var authSrc=''+XfinityURLs.register+'/sauth/rs/authenticate/20035?passive=true&target='+encodeURIComponent('http://fm.cnbc.com/applications/cnbc.com/staticcontent/html/xfinity/authenticated.html');CNBC_Partner_Experience.createCookie('xfinity_passive_authenticated','',0);var iframeEl='<iframe scrolling="no" frameborder="no" src="'+authSrc+'" style="height:0;width:0;"></iframe>';$('body').append(iframeEl);var authPoll=setInterval(function(){xfinity_passive_authenticated=CNBC_Partner_Experience.readCookie('xfinity_passive_authenticated');if(xfinity_passive_authenticated!=''){clearInterval(authPoll);}
if(xfinity_passive_authenticated=='true'){thisObj.changeLoginState();}},900);setTimeout(function(){clearInterval(authPoll);},45000);}}
CNBC_Xfinity_Experience.changeLoginState=function(){var userName=CNBC_Partner_Experience.readCookie('SUBSCRIBERINFO');userName=userName?userName:"Guest";var welcomeTxt='Welcome, '+userName;$('#login-container > span').text(welcomeTxt);$('#cnbc_username').text(welcomeTxt);$('#unreg-user').hide();$('#reg-user').removeClass('hide').show();$('#unreg_user').hide();$('#reg_user').removeClass('hide').show();if(typeof CNBC_Signin!='undefined'){CNBC_Signin.hideOverLay=function(){};}
if(typeof cnbc_comments!='undefined'&&typeof cnbc_comments_init!='undefined'){cnbc_comments.init(cnbc_comments_init);}}})(jQuery);CNBC_Xfinity_Experience.init();


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/PageState/pagestate.1.js */
function CNBC_PageState(){};(function($){CNBC_PageState.prototype._callback=null;CNBC_PageState.prototype._context=null;CNBC_PageState.prototype._forceCallback=false;CNBC_PageState.prototype._isJson=false;CNBC_PageState.prototype.init=function(args){args=args||{};this._setCallback(args);this._initEvent();if(!CNBC_Common.isNull(this.getHash())||this._forceCallback){this.initCallback();this._forceCallback=false;}};CNBC_PageState.prototype.getHash=function(){var hash=$.base64Decode(window.location.hash).replace(/#/,'');if(!CNBC_Common.isNull(hash)){return(this._isJson)?JSON.parse(hash):hash;}};CNBC_PageState.prototype.setHash=function(data){if(!CNBC_Common.isNull(data)){window.location.hash=this.createHash(data);}};CNBC_PageState.prototype.createHash=function(data){var hash=data;if(!CNBC_Common.isNull(data)){if(typeof data==='object'){this._isJson=true;hash=JSON.stringify(data);}
return $.base64Encode(hash);}};CNBC_PageState.prototype._setCallback=function(args){if(args.callback){this._callback=args.callback;if(args.context){this._context=args.context;}}else{};if(args.forceCallback){this._forceCallback=args.forceCallback;};if(args.isJson){this._isJson=args.isJson;};};CNBC_PageState.prototype.initCallback=function(){var hash=this.getHash();if(!CNBC_Common.isNull(hash)||this._forceCallback){this._callback.call(this._context,hash);}};CNBC_PageState.prototype._initEvent=function(){var self=this._context;$(window).hashchange(function(){self.pageState.initCallback();});};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/SearchBox/searchbox.1.js */
function CNBC_Searchbox(){};(function($){CNBC_Searchbox.prototype._defaultText='';CNBC_Searchbox.prototype._inputSelector;CNBC_Searchbox.prototype._buttonSelector;CNBC_Searchbox.prototype._searchURL;CNBC_Searchbox.prototype._callback=null;CNBC_Searchbox.prototype._context=null;CNBC_Searchbox.prototype._inputCallback=null;CNBC_Searchbox.prototype._keyword=null;CNBC_Searchbox.prototype._flag=false;CNBC_Searchbox.prototype.init=function(args){args=args||{};this._setCallback(args);this._setVariables(args);if(this._flag){alert("Missing required field(s)");}else{this.resetInput();this.initEvents();this.initSubmitButton();}};CNBC_Searchbox.prototype._setCallback=function(args){if(args.callback){this._callback=args.callback;if(args.context){this._context=args.context;};if(args.inputCallback){this._inputCallback=args.inputCallback;};}};CNBC_Searchbox.prototype._setVariables=function(args){if(args.id){this._inputSelector=args.id;}else{this._flag=true;};if(args.button){this._buttonSelector=args.button;}else{this._flag=true;};if(args.defaultText){this._defaultText=args.defaultText;};if(args.url){this._searchURL=args.url;}else if(!args.callback){this._flag=true;};};CNBC_Searchbox.prototype.initEvents=function($input){var self=this;var $input=this.getKeywordInput();$input.bind('focus',function(){CNBC_Common.focus($(this),self._defaultText);}).bind('blur',function(){CNBC_Common.blur($(this),self._defaultText,1);}).bind('keyup',function(e){if(self._inputCallback){self._inputCallback.call(self._context,e);}else{if(e.keyCode==13){self.getButtonSubmit().click();}}});};CNBC_Searchbox.prototype.initSubmitButton=function(){var self=this;this.getButtonSubmit().bind('click',function(e){e.preventDefault();var val=self.getKeywordInput().val();if(self._callback){if(!CNBC_Common.checkForDefault(val,self._defaultText,1)){self._callback.call(self._context,e);}}else{if(!CNBC_Common.checkForDefault(val,self._defaultText,1)){var url=self._searchURL+encodeURIComponent(val);CNBC_Common.gotoPage(url);}}});};CNBC_Searchbox.prototype.resetInput=function(){this.getKeywordInput().val(this._defaultText).blur();};CNBC_Searchbox.prototype.getKeywordInput=function(){if(!this._$keywordInput){this._$keywordInput=$('#'+this._inputSelector);};return this._$keywordInput;};CNBC_Searchbox.prototype.getButtonSubmit=function(){if(!this._$submitButton){this._$submitButton=$('#'+this._buttonSelector);};return this._$submitButton;};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/SymbolLookup/lookup.1.js */
function CNBC_Lookup(){};(function($){CNBC_Lookup._hoverClass='hover';CNBC_Lookup._hiddenClass='hidden';CNBC_Lookup.prototype._defaultText='Symbol / Company';CNBC_Lookup.prototype._noResultsTxt='There are no results for ';CNBC_Lookup.prototype._inputSelector='cnbc_hdqbox';CNBC_Lookup.prototype._buttonSelector='btn-adv-lookup';CNBC_Lookup.prototype._lookupURL='http://symlookup.cnbc.com/symlookup.do';CNBC_Lookup.prototype._advancedURL='http://www.cnbc.com/id/15837272?q=';CNBC_Lookup.prototype._quoteURL='http://data.cnbc.com/quotes/';CNBC_Lookup.prototype._resultPositionSet=false;CNBC_Lookup.prototype._resetPosition=false;CNBC_Lookup.prototype._timeoutIDs=[];CNBC_Lookup.prototype._maxResults=10;CNBC_Lookup.prototype._keyword=null;CNBC_Lookup.prototype._multiSupport=true;CNBC_Lookup.prototype._isAdvanced=0;CNBC_Lookup.prototype._callback=null;CNBC_Lookup.prototype._context=null;CNBC_Lookup.prototype._keepPageState=false;CNBC_Lookup.prototype._elements=[];CNBC_Lookup.prototype.init=function(args){args=args||{};this._setCallback(args);this._setOverrides(args);var $input=$('#'+this._inputSelector);if(args.advanced){this._setMultiSupport(false);this._initAdvanced($input);}else if($input.attr('type')!='hidden'){this._setMultiSupport(args.multi);this._initSuggestiveEvents();}else{this._initAdvancedLinkEvent();};if(!this.pageState){this._initAutoLookup();}};CNBC_Lookup.prototype._setCallback=function(args){this._context=this;if(args.callback){this._callback=args.callback;if(args.context){this._context=args.context;}}};CNBC_Lookup.prototype._setMultiSupport=function(support){this._multiSupport=(support||support==false)?support:true;};CNBC_Lookup.prototype._setOverrides=function(args){if(args.id){this._inputSelector=args.id;};if(args.button){this._buttonSelector=args.button;};if(args.max){this._maxResults=args.max;};if(args.pagestate){this._keepPageState=args.pagestate;};if(args.positionReset){this._resetPosition=args.positionReset;};if(args.defaultText){this._defaultText=args.defaultText;};};CNBC_Lookup.prototype._initAdvanced=function($input){this._isAdvanced=1;this._initAdvancedEvents($input);if(this._keepPageState){this.pageState=new CNBC_PageState();this.pageState.init({callback:this.updateState,context:this._context});}};CNBC_Lookup.prototype._initAutoLookup=function(){var val=this.getElement('#'+this._inputSelector).val();if(!CNBC_Common.checkForDefault(val,this._defaultText,1)){this.setKeyword(val);this.initLoadAdvanced();}};CNBC_Lookup.prototype._initSuggestiveEvents=function(){var cnbc_searchbox=new CNBC_Searchbox();cnbc_searchbox.init({defaultText:this._defaultText,id:this._inputSelector,button:this._buttonSelector,inputCallback:this.initLoad,callback:this._loadSubmit,context:this._context});this._initAutoCloseEvents();this._initAdvancedLinkEvent();};CNBC_Lookup.prototype._loadSubmit=function(e){var self=this;e.preventDefault();var val=self.getElement('#'+this._inputSelector).val();self.hide();if(self._callback){if(!CNBC_Common.checkForDefault(val,self._defaultText,1)){self._callback.call(self._context,e);}}else{var url=self._advancedURL;if(!CNBC_Common.checkForDefault(val,self._defaultText,1)){url=self._quoteURL+val;}
CNBC_Common.gotoPage(url);}};CNBC_Lookup.prototype._initAdvancedEvents=function($input){var cnbc_advSearchbox=new CNBC_Searchbox();cnbc_advSearchbox.init({defaultText:this._defaultText,id:this._inputSelector,button:this._buttonSelector,callback:this.initLoadAdvanced,context:this._context});};CNBC_Lookup.prototype._initAdvancedLinkEvent=function(){var self=this;$('a',this.getAdvanedLink()).bind('click',function(){var keyword=self.getSearchTerm().html();CNBC_Common.gotoPage(self._advancedURL+keyword);});};CNBC_Lookup.prototype._initAutoCloseEvents=function(){var self=this;var $div=this.getResultDiv();$div.bind('mouseover',function(){self.resetAutoClose();}).bind('mouseout',function(){self.initHide(self);}).bind('click',function(){self.hide(self);});};CNBC_Lookup.prototype._initResultEvents=function($container){$container=($container&&$container.length==1)?$container:this.getResultDiv();var self=this;$('tbody tr',$container).bind('click',function(e){if(self._callback){self._callback.call(self._context,e);}else{self.gotoPage(e);}}).bind('mouseover mouseout',function(e){self.hover(e);});};CNBC_Lookup.prototype.getElement=function(selector,property){var prop='_$';prop+=property||selector;if(!this._elements[prop]){this._elements[prop]=$(selector);}
return this._elements[prop];};CNBC_Lookup.prototype.getElContainer=function(){if(!this._$containerDiv){this._$containerDiv=this.getLookupContainer(this.getElement('#'+this._inputSelector));}
return this._$containerDiv;};CNBC_Lookup.prototype.getLookupContainer=function($el){var $parent=$el.parent();while($parent.length==1&&!$parent.hasClass('lookup-container')&&$parent[0].tagName!='BODY'){$parent=$parent.parent();}
return $parent;};CNBC_Lookup.prototype.getResultDiv=function(){if(!this._$resultDiv){this._$resultDiv=$('div.lookup-results',this.getElContainer());};return this._$resultDiv;};CNBC_Lookup.prototype.getResultTable=function(){if(!this._$resultTable){var resultDiv=this.getResultDiv();this._$resultTable=$('table',resultDiv);if(this._$resultTable.length==0){resultDiv.append('<table></table>');this._$resultTable=$('table',resultDiv);}}
return this._$resultTable;};CNBC_Lookup.prototype.getSearchTerm=function(){if(!this._$searchTerm){this._$searchTerm=$('span.keyword',this.getAdvanedLink());};return this._$searchTerm;};CNBC_Lookup.prototype.getAdvanedLink=function(){if(!this._$advanedLink){this._$advanedLink=$('p.advancedlink',this.getElContainer());};return this._$advanedLink;};CNBC_Lookup.prototype._getRow=function(target){var $el=$(target);while($el[0].tagName!='TR'){$el=$el.parent();};return $el;};CNBC_Lookup.prototype.getSymbol=function(el){var $el=$(el);if($el.hasClass('btn')||$el.parent('a.btn').length==1||el.tagName=='INPUT'){return this._keyword;}else{return this._getRow(el).attr('symbol');}};CNBC_Lookup.prototype.hover=function(e){var $el=this._getRow(e.target);if($el.hasClass(CNBC_Lookup._hoverClass)){$el.removeClass(CNBC_Lookup._hoverClass);}else{var $parent=this.getResultDiv();$('tbody tr',$parent).removeClass(CNBC_Lookup._hoverClass);$el.addClass(CNBC_Lookup._hoverClass);}};CNBC_Lookup.prototype.gotoPage=function(e){var sym=this.getSymbol(this._getRow(e.target));if(sym&&sym!=""){CNBC_Common.gotoPage(this._quoteURL+sym);}};CNBC_Lookup.prototype.getLastSymbol=function(){var str=this._keyword;if(!CNBC_Common.isNull(str)){var strArr=str.split(',');if(strArr&&strArr.length>1){str=strArr[strArr.length-1];}};return $.trim(str);};CNBC_Lookup.prototype.setKeyword=function(val){this._keyword=val||this.getElement('#'+this._inputSelector).val();};CNBC_Lookup.prototype.initLoad=function(e){var code=e.keyCode;this.setKeyword();if(code==13){this.hide();if(!CNBC_Common.isNull(this._keyword)){if(this._callback){this._callback.call(this._context,e);}else{CNBC_Common.gotoPage(this._quoteURL+encodeURIComponent(this._keyword));}}}else if(code==188){this.hide();}else if(code==38||code==40){this.highlightRow(code==40);}else if((code>=48&&code<=57)||(code>=65&&code<=90)||(code>=187&&code<=192)||code==8||code==46||code==222){var sym=this.getLastSymbol();if(CNBC_Common.isNull(sym)){this.hide();}else{this.load(sym);}}};CNBC_Lookup.prototype.initLoadAdvanced=function(){this._lastPage=1;this._paging=null;this.loadAdvanced(1);};CNBC_Lookup.prototype.loadAdvanced=function(page){this._currentPage=Number(page);var val=this.getElement('#'+this._inputSelector).val();this.load(val);};CNBC_Lookup.prototype.load=function(keyword){var self=this;if(keyword&&keyword!=""&&keyword!=this._defaultText){var args=self.setLoadArgs(keyword);$.ajax({url:self._lookupURL,type:'get',dataType:'jsonp',data:args,success:function(json){self.update(json);},error:null});}};CNBC_Lookup.prototype.setLoadArgs=function(keyword){var args={output:'jsonp',prefix:keyword};if(this._isAdvanced){args.pgok=1;args.pgsize=this._perPage;args.pg=this._currentPage;}else{args.maxresults=this._maxResults;};return args;};CNBC_Lookup.prototype.position=function($el){if(!this._resultPositionSet){var $input=this.getElement('#'+this._inputSelector);var $div=$el||this.getResultDiv();var height=$input.height();var offset=$input.offset();var position=$input.position();$div.css({top:offset.top+(height+4),left:position.left});if(!this._resetPosition){this._resultPositionSet=true;}}};CNBC_Lookup.prototype.resetAutoClose=function(){for(var i=0,len=this._timeoutIDs.length;i<len;++i){clearTimeout(this._timeoutIDs[i]);}
this._timeoutIDs=[];};CNBC_Lookup.prototype.initHide=function(self){self=self||this;var id=setTimeout(function(){self.hide(self);},2000);this._timeoutIDs.push(id);};CNBC_Lookup.prototype.hide=function(self){self=self||this;self.getResultTable().empty();self.getResultDiv().addClass('hide');};CNBC_Lookup.prototype.show=function($div){this.resetAutoClose();var $div=$div||this.getResultDiv();$div.removeClass('hide');};CNBC_Lookup.prototype.resetInput=function(){this.getElement('#'+this._inputSelector).val(this._defaultText).blur();};CNBC_Lookup.prototype.setTotals=function(obj){this._totals=obj;};CNBC_Lookup.prototype.update=function(result){if(this._isAdvanced){this.updateAdvanced(result);}else{this.updateSuggestive(result);}
this.setSearchTerm();};CNBC_Lookup.prototype.highlightTerm=function(str){if(str!=""&&typeof str==='string'){try{var strMatch=(this._isAdvanced)?this.getElement('#'+this._inputSelector).val():this.getLastSymbol();var regex=new RegExp(strMatch,"i");return str.replace(regex,'<span class="hlight">$&</span>');}catch(e){}}
return str;};CNBC_Lookup.prototype.updateSuggestive=function(result){if(result&&result.length>1){var $div=this.getResultDiv();this.position($div);this.getResultTable().html(this.renderTableData(result));this.show();this._initResultEvents();}else{this.hide();}};CNBC_Lookup.prototype.highlightRow=function(desc){var $rows=$('tr',this.getResultTable());var $selected=$rows.filter('.'+CNBC_Lookup._hoverClass);var $nextSelect=$rows.first();var isHighlighted=($selected.length==1)?true:false;if($rows.length>0){if(isHighlighted){if(desc){$nextSelect=$selected.next();if($nextSelect.length==0){$nextSelect=$rows.first();}}else{$nextSelect=$selected.prev();if($nextSelect.length==0){$nextSelect=$rows.last();}}}
$rows.removeClass(CNBC_Lookup._hoverClass);$nextSelect.addClass(CNBC_Lookup._hoverClass);this.updateSearchTerm($nextSelect.attr('symbol'));}};CNBC_Lookup.prototype.updateSearchTerm=function(str){var text=(this._multiSupport)?', ':'';this.getElement('#'+this._inputSelector).val(str+text);this.setKeyword();};CNBC_Lookup.prototype.setSearchTerm=function(){var $el,keyword=this._keyword;if(this._isAdvanced){$el=this.getElement('#adv-keyword');keyword=this.getElement('#'+this._inputSelector).val();$el.parent().removeClass('hide');}else{$el=this.getSearchTerm();};$el.html(escape(keyword));};CNBC_Lookup.prototype.updateAdvanced=function(result){var $div=this.getResultDiv();this.setTotals(result[0]);if(result&&result.length>1){if(CNBC_Common.isNull(this._paging)){this.renderTable($div,result);}else{this.updateTable($div,result);this._initResultEvents();}}else{$div.html(this.renderNoResults(this.getElement('#'+this._inputSelector).val()));}};CNBC_Lookup.prototype.renderTable=function($el,data){var html=['<table cellspacing="0">'];html.push('<thead>');html.push('<tr>');html.push('<th>Symbol</th>');html.push('<th>Name</th>');html.push('<th>Exchange</th>');html.push('<th>Country</th>');html.push('</tr>');html.push('</thead>');html.push(this.renderTableData(data));html.push('</table>');$el.html(html.join(''));var pagination='<div id="pagination"></div>';$pagination=$(pagination);$el.append($pagination);this._initResultEvents($el);this.initPagination($pagination);};CNBC_Lookup.prototype.updateTable=function($el,data){this._paging.updatePaging(this._totals.CurrentPage);var $table=$('table',$el);$('tbody',$table).remove();$table.append(this.renderTableData(data));};CNBC_Lookup.prototype.initPagination=function($el){this._paging=new CNBC_Pagination();var args={container:$el,context:this,callback:this.loadAdvanced,total:this._totals.TotalMatchAvailable,start:this._currentPage};this._paging.init(args);};CNBC_Lookup.prototype.renderTableData=function(result){var html=['<tbody>'];var obj,sym,country;for(var i=1,len=result.length;i<len;++i){obj=result[i];sym=obj.symbolName;country=obj.countryCode;html.push('<tr symbol="'+sym+'">');html.push('<td class="col-symbol">');html.push(this.highlightTerm(sym));html.push('</td>');html.push('<td>');html.push(this.highlightTerm(obj.companyName));html.push('</td>');if(this._isAdvanced){html.push('<td>'+obj.exchangeName+'</td>');}
html.push('<td class="last">');html.push(CNBC_Common.validateStr(country));html.push('</td>');html.push('</tr>');}
html.push('</tbody>');return html.join('');};CNBC_Lookup.prototype.renderNoResults=function(str){return'<div class="error">'+this._noResultsTxt+'"'+escape(str)+'"</div>';};CNBC_Lookup.prototype.updateState=function(){var hash=String(this.pageState.getHash()).split('-');this.getElement('#'+this._inputSelector).val(hash[0]);if(hash.length>1){this.loadAdvanced(hash[1]);}};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Pagination/pagination.1.js */
function CNBC_Pagination(){};(function($){CNBC_Pagination._hiddenClass='hidden';CNBC_Pagination._prevClass='leftPagCol';CNBC_Pagination._nextClass='rightPagCol';CNBC_Pagination._pageNumClass='centerPagCol';CNBC_Pagination.prototype._showNumItems=false;CNBC_Pagination.prototype._totalItems;CNBC_Pagination.prototype._perPage=20;CNBC_Pagination.prototype._currentPage=1;CNBC_Pagination.prototype._lastPage=1;CNBC_Pagination.prototype._maxPages=5;CNBC_Pagination.prototype._context=null;CNBC_Pagination.prototype._callback=null;CNBC_Pagination.prototype._container=null;CNBC_Pagination.prototype._divider='&nbsp;|&nbsp;';CNBC_Pagination.prototype._textLinks=['&laquo;&nbsp;First','&laquo;&nbsp;Previous','Next&nbsp;&raquo;','Last&nbsp;&raquo;'];CNBC_Pagination.prototype.init=function(args){args=args||{};if(args.callback!=null&&args.container!=null&&args.total!=null){this.setContainer(args.container);if(Number(args.total)>0){this.setOptionalOverrides(args);this.setTotals(args.total);this.setCallback(args.callback,args.context);this.render();this.toggleAdvanceLinks();this.initEvents();}else{this._container.empty();}}else{}};CNBC_Pagination.prototype.setTotals=function(total){this._totalItems=total;this.calculatePages();this.updateLastLink();};CNBC_Pagination.prototype.setCallback=function(callback,context){if(context){this._context=context;};this._callback=callback;};CNBC_Pagination.prototype.setContainer=function(container){var type=typeof container;if(type=='string'){this._container=$('#'+container);}else if(type=='object'&&container.length==1){this._container=container;}else{this._container=$(container);}};CNBC_Pagination.prototype.setCurrentPage=function(index){this._currentPage=Number(index);};CNBC_Pagination.prototype.setOptionalOverrides=function(args){var textLinks=args.textLinks;if(textLinks&&textLinks instanceof Array&&textLinks.length==4){this._textLinks=textLinks;};var divider=args.divider;if(divider&&typeof divider=='string'){this._divider=divider;};if(args.maxPages){this._maxPages=args.maxPages;};if(args.start){this.setCurrentPage(args.start);};if(args.perPage){this._perPage=args.perPage;};if(args.showItems){this._showNumItems=args.showItems;};};CNBC_Pagination.prototype.initEvents=function(){this.addPageLinkEvents();this.addAdvanceLinkEvents();}
CNBC_Pagination.prototype.getElLeftCol=function(){if(!this._$leftCol){this._$leftCol=$('div.'+CNBC_Pagination._prevClass,this._container);}
return this._$leftCol;}
CNBC_Pagination.prototype.getElRightCol=function(){if(!this._$rightCol){this._$rightCol=$('div.'+CNBC_Pagination._nextClass,this._container);};return this._$rightCol;};CNBC_Pagination.prototype.addPageLinkEvents=function(){var self=this;$('div.centerPagCol a',this._container).bind('click',function(e){e.preventDefault();self.initNewPage($(this).attr('page'));});}
CNBC_Pagination.prototype.addAdvanceLinkEvents=function(){var self=this;$('div.quickPagJump a',this._container).bind('click',function(e){e.preventDefault();var page=$(this).attr('page');if(page=='+'){page=Number(self._currentPage)+1;}else if(page=='-'){page=Number(self._currentPage)-1;}
self.initNewPage(page);});};CNBC_Pagination.prototype.initNewPage=function(index){this.setCurrentPage(index);this._callback.call(this._context,index);};CNBC_Pagination.prototype.render=function(){var html=['<div class="paging-container"><div class="pagination contain">'];html.push('<div class="quickPagJump '+CNBC_Pagination._prevClass+'">');html.push('<a page="1" href="javascript:void(0);">'+this._textLinks[0]+'</a>'+this._divider);html.push('<a page="-" href="javascript:void(0);">'+this._textLinks[1]+'</a>');html.push('</div>');html.push('<div class="'+CNBC_Pagination._pageNumClass+'">')
html.push(this.renderPageLinks());html.push('</div>');html.push('<div class="quickPagJump '+CNBC_Pagination._nextClass+'">');html.push('<a page="+" href="javascript:void(0);">'+this._textLinks[2]+'</a>'+this._divider);html.push('<a class="lastLink" page="'+this._lastPage+'" href="javascript:void(0);">'+this._textLinks[3]+'</a>');html.push('</div>');html.push('</div></div>');this._container.empty();this._container.append(html.join(''));};CNBC_Pagination.prototype.updatePaging=function(index){if(index!=this._currentPage){this.setCurrentPage(index);};this.toggleAdvanceLinks();$('div.'+CNBC_Pagination._pageNumClass,this._container).html(this.renderPageLinks());this.addPageLinkEvents();};CNBC_Pagination.prototype.renderPageLinks=function(){var html=[];var start=this.calculateStart();var end=this.calculateEnd(start);for(var i=start;i<=end;++i){html.push(this.renderLink(i,end));}
html.push(this.renderTotalCount());return html.join('');};CNBC_Pagination.prototype.calculatePages=function(){var pages=this._totalItems/this._perPage;if(!pages.isNaN){this._lastPage=Math.ceil(pages);}}
CNBC_Pagination.prototype.calculateStart=function(){var index=1;var start=index;var endCheck=this._lastPage-this._maxPages+1;if(this._currentPage>index){if(this._currentPage+this._maxPages>=this._lastPage){index=(this._currentPage+this._maxPages)-this._lastPage;}
start=this._currentPage-index;};if(this._currentPage>endCheck){start=endCheck;};if(this._currentPage==start){start-=1;};if(start<=0){start=1;};return start;};CNBC_Pagination.prototype.calculateEnd=function(start){var end=this._lastPage;if(start+this._maxPages<=this._lastPage){end=start+this._maxPages-1;};return end;};CNBC_Pagination.prototype.updateLastLink=function(){$('a.lastLink',this._container).attr('page',this._lastPage);}
CNBC_Pagination.prototype.renderLink=function(page,end){var str;if(page==this._currentPage){str='<span>'+page+'</span>';}else{str=this.renderHrefLink(page);};if(page!=end){str+=this._divider;};return str;};CNBC_Pagination.prototype.renderHrefLink=function(index){return'<a page="'+index+'" href="javascript:void(0);">'+index+'</a>';};CNBC_Pagination.prototype.toggleAdvanceLinks=function(){var rVisible=true,lVisible=true;if(this._currentPage==1&&this._lastPage<=1){lVisible=false;rVisible=false;}else if(this._currentPage==1){lVisible=false;}else if(this._currentPage==this._lastPage&&this._lastPage>1){rVisible=false;};this.setVisibility(this.getElLeftCol(),lVisible);this.setVisibility(this.getElRightCol(),rVisible);};CNBC_Pagination.prototype.setVisibility=function($el,isVisible){var view=(isVisible)?'visible':'hidden';$el.css('visibility',view);}
CNBC_Pagination.prototype.renderTotalCount=function(){if(this._lastPage>this._maxPages&&this._currentPage<this._lastPage){var html=['<span class="pageCount">of '];html.push(this.renderHrefLink(this._lastPage));html.push(this.renderNumItems());html.push('</span>');return html.join('');}};CNBC_Pagination.prototype.renderNumItems=function(){if(this._showNumItems){return'<span class="pagNumItems">('+this._totalItems+' Items)</span>';}};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Comments/commentcount.1.js */
var CNBC_commentsCount={};(function($){CNBC_commentsCount.ccIDs=[];CNBC_commentsCount._requestURL="http://comments.cnbc.com/comments";CNBC_commentsCount._location="http://www.cnbc.com";CNBC_commentsCount._showHoverBox=true;CNBC_commentsCount._commentsText="";CNBC_commentsCount._showZeroCommentsCount=false;CNBC_commentsCount.init=function(args){args=args||{};CNBC_commentsCount._requestURL=(args.commentsBaseUrl||CNBC_commentsCount._requestURL)+'/count/view.js';CNBC_commentsCount._location=(args.location||CNBC_commentsCount._location)+'/id/';CNBC_commentsCount.contentIDs=[];CNBC_commentsCount._commentsText=args.commentsText?(" "+args.commentsText):CNBC_commentsCount._commentsText;if(args.showZeroCommentsCount!=undefined&&args.showZeroCommentsCount!=null){CNBC_commentsCount._showZeroCommentsCount=args.showZeroCommentsCount;}
if(args.showHoverBox!=undefined&&args.showHoverBox!=null){CNBC_commentsCount._showHoverBox=args.showHoverBox;}
CNBC_commentsCount.elmContext=$("div[data-commentsMod=\"1\"]");CNBC_commentsCount.elms=$("a",CNBC_commentsCount.elmContext);CNBC_commentsCount.getIds();CNBC_commentsCount.contentIDs=CNBC_commentsCount.removeDuplicates(CNBC_commentsCount.contentIDs).join("|");CNBC_commentsCount.getCount();};CNBC_commentsCount.removeDuplicates=function(set,srt){var newSet=[];var setLength=set.length;var setI,exists,newSetLength;for(var i=0;i<=setLength;i++){setI=set[i];exists=0;if(srt){set.sort();if(setI!=set[i+1]){newSet.push(setI);};}else{for(var n=0;n<=newSet.length;n++){if(newSet[n]==setI){exists=1;break;}};if(!exists){newSet.push(setI);};}};return newSet;};CNBC_commentsCount.getIds=function(){var workingSpan;$.each(CNBC_commentsCount.elms,function(index,value){workingSpan=$(this).attr("data-nodeID");if(typeof workingSpan!="undefined"){CNBC_commentsCount.contentIDs.push(workingSpan);}});};CNBC_commentsCount.getCount=function(){if(CNBC_commentsCount.contentIDs.length){$.ajax({url:CNBC_commentsCount._requestURL,data:"contentIDs="+CNBC_commentsCount.contentIDs+"&location="+CNBC_commentsCount._location,dataType:"jsonp",success:function(data){CNBC_commentsCount.addCounts(data)}});}};CNBC_commentsCount.addCounts=function(data){data=data||{};var commentsResponse=data["cnbc-global-comments-response"]||{};var commentsDataHold=commentsResponse["commentcount"]||[];var current,commentsDataN,articleID,total,commentsData=[],len;if(CNBC_Common.isArray(commentsDataHold)){commentsData=commentsDataHold;}else{commentsData[0]=commentsDataHold;};if(commentsData.length>0){for(var n=0,len=commentsData.length;n<len;n++){commentsDataN=commentsData[n];articleID=commentsDataN["contentID"];total=commentsDataN["total"];if($("span[class='count'][data-nodeID=\""+articleID+"\"]").length){$("span[class='count'][data-nodeID=\""+articleID+"\"]",CNBC_commentsCount.elmContext).each(function(){$current=$(this);$current.attr("data-comments",total);$current.html(total+CNBC_commentsCount._commentsText);});}
else{$("a[data-nodeID=\""+articleID+"\"]",CNBC_commentsCount.elmContext).each(function(){$current=$(this);$current.attr("data-comments",total);$("<span class=\"count\" data-comments=\""+total+"\" onClick=\"javascript:CNBC_Common.gotoPage('"+$current.attr("href").toString()+"')\">("+total+CNBC_commentsCount._commentsText+")</span>").insertAfter($current);});}}}
else if(CNBC_commentsCount._showZeroCommentsCount){var $curNode;$.each(CNBC_commentsCount.elms,function(index,value){articleID=$(this).attr("data-nodeID");total=0;if($("span[class='count'][data-nodeID=\""+articleID+"\"]").length){$("span[class='count'][data-nodeID=\""+articleID+"\"]").attr("data-comments",total).html(total+CNBC_commentsCount._commentsText);}
else{$curNode=$("a[data-nodeID=\""+articleID+"\"]");if($curNode!=undefined&&$curNode.attr("href")!=undefined){$curNode.attr("data-comments",total);$("<span class=\"count\" data-comments=\""+total+"\" onClick=\"javascript:CNBC_Common.gotoPage('"+$curNode.attr("href").toString()+"')\">("+total+CNBC_commentsCount._commentsText+")</span>").insertAfter($curNode);}}});}
if(CNBC_commentsCount._showHoverBox){CNBC_commentsCount.attachEvents();}};CNBC_commentsCount.attachEvents=function(){$("span.count",CNBC_commentsCount.elmContext).hover(function(){CNBC_commentsCount.hoverBox($(this));},function(){CNBC_commentsCount.cHover.style.display="none";});};CNBC_commentsCount.getHover=function(){if(!CNBC_commentsCount.cHover){$("body").append("<div id=\"commentsCountHover\">");CNBC_commentsCount.cHover=document.getElementById("commentsCountHover");};return CNBC_commentsCount.cHover;};CNBC_commentsCount.hoverBox=function(selection){var hover=CNBC_commentsCount.getHover();var thisPos=selection.offset();CNBC_commentsCount.cHover.innerHTML=selection.attr("data-comments")+" Comments";CNBC_commentsCount.cHover.style.display="block";CNBC_commentsCount.cHover.style.top=(thisPos.top-selection.outerHeight())+"px";CNBC_commentsCount.cHover.style.left=(thisPos.left+selection.outerWidth())+"px";};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Comments/comments.1.js */
function CNBC_Comments(){};(function($){CNBC_Comments._comAuthKeyCookie='';CNBC_Comments._authTimeout=null;CNBC_Comments.userState=null;CNBC_Comments.isRegisteredForCommentsFlag=null;CNBC_Comments.prototype._assetId='';CNBC_Comments.prototype._contentId='';CNBC_Comments.prototype._contentType='';CNBC_Comments.prototype.comID=1;CNBC_Comments.prototype.futComid=1;CNBC_Comments.prototype._pageSize=10;CNBC_Comments.prototype.reportCurrentId='';CNBC_Comments.prototype.reportConfirm=null;CNBC_Comments.prototype.previewConfirm=null;CNBC_Comments.prototype.commentSuccess=null;CNBC_Comments.prototype.defaultFormMsg=null;CNBC_Comments.prototype.defaultErrorMsg=null;CNBC_Comments.prototype.noComments=null;CNBC_Comments.prototype.inappropriate_comment=null;CNBC_Comments.prototype._context="cnbc_comments";CNBC_Comments.prototype.init=function(args){args=args||{};if(args.id!=null&&args.contentid!=null&&args.type!=null){this._initSettings(args);this._initVariables();this._setOverrides(args);this.initUserOptions("com-reg-user");this.initCommentsEvents();this.initCurrentLocURL(this._assetId);this.initContentData(this._assetId);this.initCommentView(1);}
else{CNBC_Common.ConsoleLog("Missing Arguments....");}};CNBC_Comments.prototype._initSettings=function(args){var settings=args.settings;if(!CNBC_Common.isNull(settings)){var globalsettings=settings.baseurls;var commentssettings=settings.commentssettings;var commentsmsgs=settings.commentsmsgs;CNBC_Comments._baseURL=globalsettings.cnbc_base;CNBC_Comments._reportRedirectURL=globalsettings.login_base+'/authproxy/comments/auth.do';CNBC_Comments._commentsSigninURL=globalsettings.login_base+'/cas/login';CNBC_Comments._registerRedirectURL=globalsettings.register_base+'/registerUser.do';CNBC_Comments._editRegisterURL=globalsettings.register_base+'/membercenter/profilemanager.do';CNBC_Comments._commentsURLhost=globalsettings.comments_base;CNBC_Comments._charlimit=commentssettings.char_limit;CNBC_Comments._partnerId=Number(commentssettings.partner_id);CNBC_Comments._authkeyURL=CNBC_Comments._commentsURLhost+'/authkey/view.js?partnerId='+CNBC_Comments._partnerId;CNBC_Comments._commentFlagURL=CNBC_Comments._commentsURLhost+'/flag';CNBC_Comments._commentsURL=CNBC_Comments._commentsURLhost+'/getcomments';CNBC_Comments._commentsSubmitURL=CNBC_Comments._commentsURLhost+'/save';CNBC_Comments._commentsFilterURL=CNBC_Comments._commentsURLhost+'/preview';CNBC_Comments._authInterval=parseInt(commentssettings.authkey_interval)*1000;this._pageSize=commentssettings.default_pagesize;this.reportConfirm=commentsmsgs.abuse;this.commentSuccess=commentsmsgs.success;this.previewConfirm=commentsmsgs.preview;this.defaultFormMsg=commentsmsgs.form_default;this.defaultErrorMsg=commentsmsgs.error_default;this.noComments=commentsmsgs.no_comments;this.inappropriate_comment=commentsmsgs.inappropriate_comment;this.comID=this.futComid=1;}};CNBC_Comments.prototype._setOverrides=function(args){this._assetId=args.id||this._assetId;this._contentId=args.contentid||this._contentId;this._contentType=args.type||this._contentType;this._pageSize=Number(args.pagesize)||this._pageSize;this.comID=Number(args.page)||this.comID;CNBC_Comments._partnerId=Number(args.partnerId)||CNBC_Comments._partnerId;CNBC_Comments._authkeyURL=CNBC_Comments._commentsURLhost+'/authkey/view.js?partnerId='+CNBC_Comments._partnerId;this.charCount.html(CNBC_Comments._charlimit);this.addCommentView.find("span:first").html(CNBC_Comments._charlimit);this.afterSubmitComment=args.afterSubmitComment||null;}
CNBC_Comments.prototype._initVariables=function(args){this.showComments=CNBC_Utils.getElement('#user-comments',this);this.allComments=CNBC_Utils.getElement('#comParent',this);this.addComment=CNBC_Utils.getElement('#comments',this);this.charCount=CNBC_Utils.getElement('#char-count',this);this.allCommentViews=CNBC_Utils.getElement('#add-comments',this);this.addCommentView=CNBC_Utils.getElement('#initCommentsView',this);this.prvwCommentView=CNBC_Utils.getElement('#previewCommentsView',this);this.msgContent=CNBC_Utils.getElement('#message-content',this);this.comFooter=CNBC_Utils.getElement('#comFooter',this);this.addComment.val(this.defaultFormMsg);};CNBC_Comments.prototype.regUserLinks=function(){return'<span id="username"></span>&nbsp;&nbsp;<a id="edit_scrnname" href="javascript:void(0);">Edit Screen Name</a>';};CNBC_Comments.prototype.unregUserLinks=function(){return'Please <a id="sign_in" href="javascript:void(0);">Sign In</a> or <a id="register" href="javascript:void(0);">Register</a> to participate.';};CNBC_Comments.prototype.optUserLinks=function(){return'In order to add a comment you must click <a id="opt_in" href="javascript:void(0);">here</a> and accept our terms and conditions.';};CNBC_Comments.prototype.initUserOptions=function(reg_id){var self=this;var $reg=$('#'+reg_id);self.userState=CNBC_Signin.isRegistered();self.isRegisteredForCommentsFlag=CNBC_Signin.isRegisteredForComments();self.content=self.unregUserLinks();if(self.userState&&self.isRegisteredForCommentsFlag=='true'){self.content=self.regUserLinks();CNBC_Comments._authTimeout=setTimeout(function(){if(CNBC_Comments._authInterval>=5000){self.updateAuthKey();}},1);}else if(self.userState&&self.isRegisteredForCommentsFlag=='false'){self.content=self.optUserLinks();};$reg.html(self.content).show();if(self.userState&&self.isRegisteredForCommentsFlag=='true'){CNBC_Signin.displayUsername('Screen Name: ','username');}};CNBC_Comments.prototype.initCommentsEvents=function(){var self=this;$("#sign_in").click(function(e){CNBC_Signin.gotoRegistrationURL(CNBC_Comments._reportRedirectURL,'?commentsRedirectUrl=url');});$("#register").click(function(e){CNBC_Signin.gotoRegistrationURL(CNBC_Comments._registerRedirectURL,'?source=comments&commentsRedirectUrl=url');});$("#opt_in").click(function(e){CNBC_Signin.gotoRegistrationURL(CNBC_Comments._reportRedirectURL,'?commentsRedirectUrl=url');});$("#edit_scrnname").click(function(e){CNBC_Signin.gotoRegistrationURL(CNBC_Comments._editRegisterURL,'?method=viewUser&cb_service=url');});this.addComment.bind('input paste keyup',function(){self.updateCharCount(self.addComment.val().length);});$('#prvw_btn','div.active-view').live('click',function(){self.validatePreviewCommentsForm();});$('#submit_btn','div.submit-view').live('click',function(){self.submitCommentRequest();});var $editButton=CNBC_Utils.getElement('#edit_btn',this);$editButton.live('click',function(){if($editButton.parents('.filter-view')||$editButton.parents('.submit-view')){self.initCommentView();}});$("a.close-btn").live('click',function(){CNBC_Utils.toolTipHide("repabs_info");});};CNBC_Comments.prototype.displayCommentsRequest=function(){var comID=this.comID;if((comID=="undefined")||(comID<1)){comID=1;};var params={view:"json",contentID:this._contentId,contentType:this._contentType,pagesize:this._pageSize,partnerId:CNBC_Comments._partnerId,page:comID,location:CNBC_Comments._currentLocURL}
this.ajaxRequest(CNBC_Comments._commentsURL,this.displayCommentsResponseHandler,params,"jsonp","message-content","Loading Comments...");};CNBC_Comments.prototype.displayCommentsResponseHandler=function(results){if(CNBC_Common.isNull(results)){this.renderMessage('get_error',1);this.errorCommentView();return;};var totalcomments="";var errorcode,commentsresponse=results["cnbc-global-comments-response"];if(commentsresponse&&commentsresponse["error-code"]){errorcode=commentsresponse["error-code"];};var commentsResults=commentsresponse.comments;if(!(commentsResults)){this.renderMessage('get_error',1);this.errorCommentView();return;};var commentsResultsArray=[];var comments=commentsResults["user-comment"];if(CNBC_Common.isArray(comments)){commentsResultsArray=comments;}else{commentsResultsArray.push(comments);};var label,totals=Number(commentsResults.total);this.futComid=Math.ceil((totals+1)/this._pageSize);CNBC_Comments._charlimit=commentsResults.commentTextLength;totalcomments=commentsResultsArray.length;if(totals>0){this.showComments.removeClass('hide');if(totals==1){label="1 Comment";}else{label=totals+" Comments Total";}
$("#comment-count").html(label);this.resetUserComments();var comDiv,obj;for(var i=0;i<totalcomments;++i){comDiv=[];obj=commentsResultsArray[i];comDiv.push("<div class=\"com\">");var userData=this.displayUserComment(obj);comDiv.push(userData);this.allComments.append(comDiv.join(''));}
this.initPagination(CNBC_Utils.getElement('#comPagination',this),totals,1);}else{this.renderMessage('no_comments',7);}
if(typeof this.afterSubmitComment==="function"){this.afterSubmitComment();}};CNBC_Comments.prototype.resetUserComments=function(){this.showComments.removeClass('hide');this.allComments.html('').removeClass('hide');this.msgContent.addClass('hide');}
CNBC_Comments.prototype.setCommentState=function(state,title){this.allCommentViews.removeClass();this.allCommentViews.find('h4').html(title);this.allCommentViews.addClass(state);};CNBC_Comments.prototype.initCommentView=function(init){var state='init-view';this.addCommentView.removeClass('hide');if(this.userState&&this.isRegisteredForCommentsFlag=='true'){if(init){var comments=this.addComment;comments.val('').removeAttr("disabled");this.updateCharCount(comments.val().length);}else{this.msgContent.addClass('hide');this.addComment.focus();this.prvwCommentView.addClass('hide');}
state='active-view';}else{this.prvwCommentView.addClass('hide');};this.setCommentState(state,'Add Comments');};CNBC_Comments.prototype.previewCommentView=function(submit){var state='filter-view';if(submit){state='submit-view';};this.setCommentState(state,'Preview Comments');};CNBC_Comments.prototype.submitCommentView=function(){this.setCommentState('submitted-view','Preview Comments');this.msgContent.html(this.commentSuccess).removeClass('hide');};CNBC_Comments.prototype.errorCommentView=function(){this.msgContent.removeClass('hide');this.setCommentState('init-view','Add Comments');this.prvwCommentView.addClass('hide');this.addComment.val(this.defaultFormMsg).attr("disabled","disabled");};CNBC_Comments.prototype.updateCharCount=function(currcount,displayid){if(!CNBC_Common.isNull(this.charCount)){var count=CNBC_Comments._charlimit-currcount;if(count<=-10000){count="--";}
this.charCount.html(count);}};CNBC_Comments.prototype.submitCommentRequest=function(){this.allCommentViews.addClass('disabled-btn-view');var loadDiv=$('#submit_btn').parent();var cacheParams='&contentID='+this._contentId+'&contentType='+this._contentType+'&pagesize='
+this._pageSize+'&partnerId='+CNBC_Comments._partnerId+"&page="+this.futComid;var params={view:"json",contentType:this._contentType,contentID:this._contentId,commentText:encodeURIComponent($.trim(this.addComment.val())),partnerId:CNBC_Comments._partnerId,authkey:CNBC_Comments._comAuthKeyCookie,cachebuster:encodeURIComponent(cacheParams),location:CNBC_Comments._currentLocURL}
this.ajaxRequest(CNBC_Comments._commentsSubmitURL,this.commentSubmit,params,"jsonp",loadDiv,"Submitting Comment...");};CNBC_Comments.prototype.commentSubmit=function(results){var self=this;if(CNBC_Common.isNull(results)){self.renderMessage('submit_error',1);self.errorCommentView();return;};var errorcode,commentsresponse=results["cnbc-global-comments-response"];if(commentsresponse&&commentsresponse["error-code"]){errorcode=commentsresponse["error-code"];};if(errorcode==0){self.submitCommentView();this.renderMessage('confirm',errorcode);var interval=setTimeout(function(){self.initCommentsAfterSubmit();},1000);}else{self.renderMessage('submit_error',errorcode);self.errorCommentView();};return;};CNBC_Comments.prototype.initCommentsAfterSubmit=function(){this.updateCommentsPage(this.futComid);this.initCommentView(1);};CNBC_Comments.prototype.renderMessage=function(state,error){error=error||1;var $prvwMessage=CNBC_Utils.getElement('#prvw-message',this);var message;message="<strong>"+this.defaultErrorMsg+"</strong>";switch(state){case'get_error':this.allComments.addClass('hide');this.msgContent.html(message).attr("class","regis_error").removeClass('hide');break;case'submit_error':this.msgContent.html(message).attr("class","regis_error").removeClass('hide');break;case'no_comments':this.allComments.addClass('hide');this.msgContent.html("<strong>"+this.noComments+"</strong>").attr("class","error").removeClass('hide');break;case'preview':this.addCommentView.addClass('hide');this.prvwCommentView.removeClass('hide');this.msgContent.addClass('hide');$prvwMessage.attr("class","regis_error").html(this.previewConfirm).removeClass('hide');break;case'confirm':if(error==0){}
$prvwMessage.attr("class","regis_error").html(this.previewConfirm).removeClass('hide');this.prvwCommentView.addClass('hide');break;case'error':$('div.loader',this.msgContent).remove();this.prvwCommentView.addClass('hide');if(error==4){this.msgContent.html(this.inappropriate_comment).attr("class","regis_error").removeClass('hide');}
else{this.msgContent.html("<p><strong>You have not submitted any comments.</strong></p><p>Please complete the form and preview your comments.</p>").attr("class","regis_error").removeClass('hide');}
$prvwMessage.addClass('hide');if(error==5){this.addComment.focus();}
break;default:$prvwMessage.addClass('hide');}};CNBC_Comments.prototype.displayUserComment=function(commentsdata){var userName=commentsdata.userName;var commentID=commentsdata.commentID;var specialUser=commentsdata.specialUser;var bRegUser=(specialUser)?true:false;var comDiv=[];comDiv.push(this.renderUserName(userName,commentsdata.createDate,specialUser));comDiv.push(this.renderUserComment(commentsdata.commentText));comDiv.push(this.renderAbuseLink(commentID,bRegUser));comDiv.push('</div>');return comDiv.join('');};CNBC_Comments.prototype.renderUserName=function(userName,createDate,specialUsers){var userDiv=[];userDiv.push('<h4><table class="tbl"><tbody><tr>');if(!CNBC_Common.isNull(specialUsers)){userDiv.push(this.renderSpecialUser(userName,specialUsers));}else{userDiv.push('<td><span class="username">'+userName+'</span>');};if(createDate){userDiv.push('<span class="timestamp"> | '+createDate.replace(/ /g,'&nbsp;')+' ET');};userDiv.push('</td></tr></tbody></table></h4>');return userDiv.join('');};CNBC_Comments.prototype.renderSpecialUser=function(userName,specialUsers){var html=[];var profileUrl=specialUsers.profileUrl;if(specialUsers.imageUrl){var specialUImg='<img border="0" src="'+specialUsers.imageUrl+'" />';if(profileUrl){html.push('<td><a href="'+profileUrl+'">'+specialUImg+'</a></td>');}else{html.push('<td>'+specialUImg+'</td>');}};html.push('<td>');if(profileUrl){html.push('<span class="username"><a href="'+profileUrl+'">'+userName+'</a></span>');}else{html.push('<span class="username">'+userName+'</span>');};if(specialUsers.title){html.push('<span class="usertitle"> | '+specialUsers.title+'</span>');};return html.join('');};CNBC_Comments.prototype.renderUserComment=function(text){var comm=['<div class="bdy">'];if(text){var comText=encodeURIComponent(text);comText=unescape(text);comm.push(comText.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/u000a/g,"\n"));};comm.push('</div>');return comm.join('');};CNBC_Comments.prototype.renderAbuseLink=function(commentID,bRegUser){var link=[];if(!bRegUser){link.push('<div class="reportabuse" id="repabs_'+commentID+'">');link.push('<div class="blue_chev">&raquo;</div><a href="javascript:void(0);" id="repabslink_'+commentID+'" ');link.push('onclick="'+this.getAbuseLink(commentID)+'">Report Abuse</a></div>');};return link.join('');};CNBC_Comments.prototype.getAbuseLink=function(commentID){if(this.userState&&this.isRegisteredForCommentsFlag=='true'){return this._context+".reportAbuse('"+commentID+"','repabs_"+commentID+"'); return false;";}else{return"CNBC_Signin.gotoRegistrationURL('"+CNBC_Comments._commentsSigninURL+"','?commentsRedirectUrl=url');return false;";}};CNBC_Comments.prototype.validatePreviewCommentsForm=function(){var commentsText=$.trim(this.addComment.val());var prvw_errorcode,count=0;if(commentsText==""){prvw_errorcode=5;count++;}else if(commentsText.length>CNBC_Comments._charlimit){prvw_errorcode=6;count++;};var str_newline=commentsText.replace(/</g,"&lt;").replace(/>/g,"&gt;");var str_newline_replaced=this.replaceNewlines(str_newline);CNBC_Utils.getElement('#prvw_comments',this).html(str_newline_replaced);if(count>0){this.renderMessage('error',prvw_errorcode);}else{this.filterCommentsRequest(commentsText);}};CNBC_Comments.prototype.filterCommentsRequest=function(commentsText){this.allCommentViews.removeClass();this.allCommentViews.addClass('disabled-btn-view');var loadDiv=$('#prvw_btn').parent();var params={view:"json",commentText:commentsText,partnerId:CNBC_Comments._partnerId,authkey:CNBC_Comments._comAuthKeyCookie}
this.ajaxRequest(CNBC_Comments._commentsFilterURL,this.filterResponseHandler,params,"jsonp",loadDiv,"Previewing...");};CNBC_Comments.prototype.filterResponseHandler=function(results){var filter_errorcode,commentsresponse=results['cnbc-global-comments-response'];if(commentsresponse&&commentsresponse["error-code"]){filter_errorcode=commentsresponse["error-code"];};if(filter_errorcode==0){this.renderMessage('preview',filter_errorcode);this.previewCommentView(1);}else{this.renderMessage('error',filter_errorcode);this.previewCommentView();};return;};CNBC_Comments.prototype.reportAbuse=function(commentid,parentid){this.reportCurrentId=parentid;var params={view:"json",commentID:commentid,partnerId:CNBC_Comments._partnerId,authkey:CNBC_Comments._comAuthKeyCookie}
this.ajaxRequest(CNBC_Comments._commentFlagURL,this.reportResponseHandler,params,"jsonp",this.reportCurrentId,"Processing...");};CNBC_Comments.prototype.reportResponseHandler=function(results){var parentid=this.reportCurrentId;if(CNBC_Common.isNull(results)){this.showReportAbuse(parentid,this.errorsMessage[1]);return;};var errorcode,commentsresponse=results["cnbc-global-comments-response"];if(commentsresponse&&commentsresponse["error-code"]){errorcode=commentsresponse["error-code"];if(errorcode==0){this.showReportAbuse(parentid,this.reportConfirm);}else{this.showReportAbuse(parentid,this.errorsMessage[errorcode]);}}};CNBC_Comments.prototype.showReportAbuse=function(parentid,message){if(!CNBC_Common.isNull(this.reportCurrentId)){CNBC_Utils.toolTipHide("repabs_info");}
var message_wrapper=[];message_wrapper.push("<h4>Report Abuse ");message_wrapper.push("<a class=\"close-btn\" href=\"javascript:void(0);\">");message_wrapper.push("<span class=\"icon icon-close\">&nbsp;</span></a></h4>");message_wrapper.push("<div class=\"content\">");message_wrapper.push(message);CNBC_Utils.toolTipShow("repabs_info",parentid,this.showComments,message_wrapper.join(''),20,0);};CNBC_Comments.prototype.initPagination=function($el,total,clear){if($el.length){$el.empty();this.commentsPag=new CNBC_Pagination();var args={container:$el,context:this,callback:this.updateCommentsPage,total:total,perPage:this._pageSize,start:this.comID};if(Math.floor(parseInt(total)/parseInt(this._pageSize))>0){CNBC_Utils.getElement('div.subsection',this.comFooter).removeClass('hide');}
this.commentsPag.init(args);}};CNBC_Comments.prototype.updateCommentsPage=function(page){$('html, body').stop().animate({scrollTop:$('#cnbc-comments').position().top},1000);$('span.icon-close').click();this.comID=page;this.displayCommentsRequest();}
CNBC_Comments.prototype.callbackFunc=function(func,params){func.apply(this,params);};CNBC_Comments.prototype.replaceNewlines=function(str){var str_split=str.split("\n");var str_concat='';for(var i=0,len=str_split.length;i<len;i++){str_concat+=str_split[i]+'<br/>';}
return str_concat;};CNBC_Comments.prototype.ajaxRequest=function(url,func,params,type,container,text){var loadDiv,params=params||{},text=text||"Loading...";var self=this;if(!CNBC_Common.isNull(container)){loadDiv=CNBC_Utils.showLoader(container,text);};$.ajax({url:url,data:params,dataType:type,success:function(data){CNBC_Utils.hideLoader(loadDiv);self.callbackFunc(func,[data]);},error:function(data){self.renderMessage('error',1);}});};CNBC_Comments.prototype.initCurrentLocURL=function(id){if(!CNBC_Common.isNull(id)){CNBC_Comments._currentLocURL=CNBC_Comments._baseURL+"/id/"+id;}};CNBC_Comments.prototype.initContentData=function(id){if(!CNBC_Common.isNull(id)){this.ajaxRequest(CNBC_Comments._authkeyURL,this.displayCommentsRequest,"","jsonp","message-content","Loading Comments...");}};CNBC_Comments.prototype.updateAuthKey=function(){this.ajaxRequest(CNBC_Comments._authkeyURL,this.authkeyRequest,"","jsonp");};CNBC_Comments.prototype.authkeyRequest=function(results){CNBC_Comments._comAuthKeyCookie=this.getElComAuthKey();clearTimeout(CNBC_Comments._authTimeout);var self=this;CNBC_Comments._authTimeout=setTimeout(function(){if(CNBC_Comments._authInterval>=5000){self.updateAuthKey();}},CNBC_Comments._authInterval);};CNBC_Comments.prototype.getElComAuthKey=function(){return decodeURIComponent(CNBC_Utils.readCookie('cnbcCommentsAuthKeyCookie'));};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Quotes/AbstractQuoteRenderer.js */
var CNBC_Quotes=(typeof CNBC_Quotes!=="undefined")?CNBC_Quotes:{};CNBC_Quotes.AbstractQuoteRenderer=function(){this.symbolDomMap={};};(function($){"use strict";var AbstractQuoteRenderer=CNBC_Quotes.AbstractQuoteRenderer;function panic(msg){}
AbstractQuoteRenderer.prototype.parseData=function(jsonData){panic("parseData() needs to be overriden!");}
AbstractQuoteRenderer.prototype.renderDomElt=function($elt,data){panic("renderDomElt() needs to be overriden!");};AbstractQuoteRenderer.prototype.attachEvents=function(){};AbstractQuoteRenderer.prototype.updateTickerColor=function($elt,value,classes){if($elt&&classes&&classes.length==2){var color;$elt.removeClass(classes.join(' '));if(typeof value==="string"&&value!=="UNCH"){color=(value==="UP")?classes[0]:classes[1];$elt.addClass(color);}
else if(typeof value==="number"&&value!==0){color=(value>0)?classes[0]:classes[1];$elt.addClass(color);}}}
AbstractQuoteRenderer.prototype.getFieldValue=function(data,field){var value=null;if(field){var parts=field.split('.');value=data;for(var i=0;i<parts.length;i++){value=value[parts[i]];}
if(typeof value==='object'){value='---';}}
return value;};AbstractQuoteRenderer.prototype.setChartApiUrl=function(chartapi){this.chartApiUrl=chartapi;};AbstractQuoteRenderer.prototype.updateChartImage=function($flexChart,symbol){var $img=$('img',$flexChart);var chartparams=$img.data('chartparams');var loc=this.chartApiUrl+"?"+chartparams+"&symbol="+symbol;$img.attr('src',loc);};AbstractQuoteRenderer.prototype.getSymbols=function(){var symbols=[];for(var s in this.symbolDomMap){symbols.push(s);}
return symbols;};AbstractQuoteRenderer.prototype.collectSymbols=function(){var selector=this.symbolSelector;if(!selector){if(typeof console!=='undefined'){console.error(">>>> Missing this.symbolSelector in QuoteRenderer!");}}
var self=this;this.selector=selector;var attrSelector="["+this.selector+"]";var $symbols=$(attrSelector);$symbols.each(function(i,elt){var $elt=$(this);var symbol=$elt.attr(selector);if(symbol){self.addSymbolToDomMap(symbol,$elt);}
else{panic("Couldn't find symbol in selector: "+selector);}});};AbstractQuoteRenderer.prototype.addSymbolToDomMap=function(symbol,$elt){var domList=this.symbolDomMap[symbol];if(!domList){domList=this.symbolDomMap[symbol]=[];}
domList.push($elt);};AbstractQuoteRenderer.prototype.onRender=function(data){var test=false;if(test){alert("Rendering..."+JSON.stringify(data));}
else{var quoteDataMap=this.parseData(data);if(quoteDataMap){for(var symbol in this.symbolDomMap){var domList=this.symbolDomMap[symbol];for(var i=0;i<domList.length;i++){var $row=domList[i];var sym=$row.attr(this.selector);var quote=quoteDataMap[sym];if(quote){if(quote.streamable){CNBC_Quotes.streamableSymbolList[CNBC_Quotes.streamableSymbolList.length||0]=symbol;}
this.renderDomElt($row,quote);}}}
this.attachEvents();}}};AbstractQuoteRenderer.prototype.getQuoteDataForSingleAjaxRequest=function(data,getter){var quoteData=data;for(var i=0;i<getter.length;i++){if(quoteData[getter[i]]!=undefined){quoteData=quoteData[getter[i]];}}
return quoteData;};AbstractQuoteRenderer.prototype.getQuoteDataList=function(data,getter){var quoteData=[];for(var i=0;i<data.length;i++){var qd=this.getQuoteDataForSingleAjaxRequest(data[i],getter);quoteData=quoteData.concat(qd);}
if(!$.isArray(quoteData)){quoteData=[quoteData];}
return quoteData;};AbstractQuoteRenderer.prototype.getQuoteDataMap=function(data,params){var quoteData=this.getQuoteDataList(data,params);var map={};for(var i=0;i<quoteData.length;i++){var quote=quoteData[i];var sym=quote.symbol;map[sym]=quote;}
return map;};AbstractQuoteRenderer.prototype.renderArrow=function($elt,change){var $sel=$('span.icon',$elt).removeClass();if(change>0){$sel.addClass('icon arrow arrowUp').text('&nbsp;');}else if(change<0){$sel.addClass('icon arrow arrowDwn').text('&nbsp;');}else{$sel.addClass('icon unch').text('---');}};}(jQuery));


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Quotes/InlineQuoteRenderer.js */
var CNBC_Quotes=(typeof CNBC_Quotes!=="undefined")?CNBC_Quotes:{};CNBC_Quotes.InlineQuoteRenderer=function(){this.symbolSelector='data-inline-quote-symbol';};(function($){"use strict";var InlineQuoteRenderer=CNBC_Quotes.InlineQuoteRenderer;InlineQuoteRenderer.prototype=new CNBC_Quotes.AbstractQuoteRenderer();InlineQuoteRenderer.prototype.parseData=function(data){return this.getQuoteDataMap(data,["QuickQuoteResult","QuickQuote"]);};InlineQuoteRenderer.prototype.init=function(settings){this.settings=settings;};InlineQuoteRenderer.prototype.renderDomElt=function($elt,quote){var quoteFields=this.settings.quoteFields;this.mapInlineQuotes($elt,quote,quoteFields);if(this.settings){var chartParams=this.settings.chartParams;var chartImgUrl=this.chartApiUrl+'?'+chartParams;var quoteUrl=this.settings.quoteUrl;if(chartImgUrl&&quoteUrl){this.generatePopup(quote,chartImgUrl,quoteUrl);}
else{}}};InlineQuoteRenderer.prototype.mapInlineQuotes=function($elt,quote,quoteFields){var qcObj=[];var qd=quote;var $assocSym=$elt;var $assocSymData=$assocSym.find('span.inlineQuoteData');if($assocSymData.length==0){$assocSym.append("<span class='inlineQuoteData'></span>");$assocSymData=$assocSym.find('span.inlineQuoteData');}
var qf=quoteFields;if(qf!=null&&qf.length>0){var qfLen=qf.length;qcObj.push(" [");var arrowFlag=false;var price=qd.change;var negpos="",qfObj,chng,pctChng,arrow;for(var k=0;k<qfLen;k++){negpos="";qfObj=qf[k];if((qfObj=="change"||qfObj=="change_pct")){negpos=" neg";arrow=" arrowDwn";if(price>0){arrow=" arrowUp";negpos=" pos";}
else if(price<0){arrow=" arrowDwn";negpos=" neg";}
else{arrow='';negpos='';arrowFlag=true;}
if(!arrowFlag){qcObj.push('<span class="icon arrow'+arrow+'">&nbsp;</span>');arrowFlag=true;}}
qcObj.push('<span class="quote_'+qfObj+negpos+'">');if(qfObj=="change_pct"){if(qd[qfObj]){qcObj.push("("+qd[qfObj]+"%)");}}
else{qcObj.push(qd[qfObj]);}
qcObj.push('</span>');}
if(qd.realTime==true){qcObj.push('<span class="quote_sym_rt">&nbsp;</span>');}
qcObj.push("]");$assocSymData.html(qcObj.join(''));}};InlineQuoteRenderer.prototype.generatePopup=function(qd,chartImgUrl,quoteURL){var popupStr=[];var sym=qd.symbol;sym=this.removeSpecialChars(sym);var id="quotes_popup_"+sym;var imgSrc=chartImgUrl+"&symbol="+qd.altSymbol;var ref=quoteURL+escape(sym);var price=parseFloat(qd.change);if(!$("#"+id).length){popupStr.push('<div id="'+id+'" class="inline_quotes_popup">');popupStr.push('<div class="popup_header">');popupStr.push('<div class="popup_header_exch">');popupStr.push('<span class="popup_sym_abr">');popupStr.push(sym);popupStr.push('</span>');popupStr.push('<span class="popup_sym_exch">');popupStr.push(qd.exchange);popupStr.push('</span>');popupStr.push('</div>');popupStr.push('<div class="popup_header_price">');popupStr.push('<span class="popup_sym_name">');popupStr.push(qd.name);popupStr.push('</span>');popupStr.push('<span class="popup_sym_last">');popupStr.push(qd.last);popupStr.push('</span>');if(price<0){popupStr.push('<span class="popup_sym_price neg">');}
else if(price>0){popupStr.push('<span class="popup_sym_price pos">');}
else{price='UNCH';}
popupStr.push(price);popupStr.push('</span>');if(price<0){popupStr.push('<span class="popup_sym_perc_chng neg">');}
else if(price=='UNCH'){popupStr.push('<span class="popup_sym_perc_chng">');}
else{popupStr.push('<span class="popup_sym_chng pos">+');}
popupStr.push(qd.change_pct+'%');popupStr.push('</span>');popupStr.push('</div>');popupStr.push('</div>');popupStr.push('<div class="popup_chart">');popupStr.push('<img src="'+imgSrc+'" />');popupStr.push('</div>');popupStr.push('<div class="popup_footer">');popupStr.push('<ul class="popup_footer_links">');popupStr.push('<li class="first"><a class="popup_footer_quote" href="'+ref+'">Quote</a></li>');popupStr.push('<li><a class="popup_footer_chart" href="'+ref+'/tab/2">Chart</a></li>');popupStr.push('<li><a class="popup_footer_news" href="'+ref+'/tab/3">News</a></li>');popupStr.push('<li><a class="popup_footer_profile" href="'+ref+'/tab/4">Profile</a></li>');popupStr.push('</ul>');popupStr.push('</div>');popupStr.push('</div>');$("body").append(popupStr.join(''));}
else{$("#"+id+' .popup_sym_price').text(price);$("#"+id+' .popup_sym_chng').text(qd.last);$("#"+id+' .popup_sym_perc_chng').text(qd.change_pct+'%');$("#"+id+' .popup_chart img').attr('src',imgSrc);if(price<0){$("#"+id+' .icon').removeClass('arrowUp unch').addClass('arrow arrowDwn').html('');$("#"+id+' .popup_sym_chng').removeClass('pos').addClass('neg');$("#"+id+' .popup_sym_perc_chng').removeClass('pos').addClass('neg');}
else if(price>0){$("#"+id+' .icon').removeClass('arrowDwn unch').addClass('arrow arrowUp').html('');$("#"+id+' .popup_sym_chng').removeClass('neg').addClass('pos');$("#"+id+' .popup_sym_perc_chng').removeClass('neg').addClass('pos');}
else{$("#"+id+' .icon').removeClass('arrow arrowUp arrowDwn').addClass('unch').html('---');$("#"+id+' .popup_sym_chng').removeClass('neg pos').html('UNCH');$("#"+id+' .popup_sym_perc_chng').removeClass('neg pos').html('0');}}}
InlineQuoteRenderer.prototype.removeSpecialChars=function(sym){if(sym&&sym!=undefined&&sym!=null){sym=sym.replace(/[^a-zA-Z 0-9]+/g,'');return sym;}
return false;}
InlineQuoteRenderer.popupInterval=2000;InlineQuoteRenderer.canHidePopup=true;InlineQuoteRenderer.prototype.attachEvents=function(){var self=this;var $iq=$("a["+this.symbolSelector+"]");var $popups=$("div.inline_quotes_popup");$popups.live("mouseenter",function(){InlineQuoteRenderer.canHidePopup=false;$(this).show();});$popups.live("mouseleave",function(){$popups.hide();InlineQuoteRenderer.canHidePopup=true;});$iq.bind('mousemove',function(){$popups.hide();self.showPopup($(this));});$iq.mouseleave(function(){self.hidePopup($(this));});};InlineQuoteRenderer.prototype.getPopup=function($inlineQuote){var sym=$inlineQuote.attr(this.symbolSelector);sym=this.removeSpecialChars(sym);var $popup=$('#quotes_popup_'+sym);return $popup;};InlineQuoteRenderer.prototype.showPopup=function($inlineQuote){var $popup=this.getPopup($inlineQuote);var offset=$inlineQuote.offset();offset.top+=15;$popup.css(offset);$popup.show();};InlineQuoteRenderer.prototype.hidePopup=function($inlineQuote){var $popup=this.getPopup($inlineQuote);setTimeout(function(){if(InlineQuoteRenderer.canHidePopup){$popup.hide();}},InlineQuoteRenderer.popupInterval);};}(jQuery));


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Quotes/TableChartRenderer.js */
var CNBC_Quotes=(typeof CNBC_Quotes!=="undefined")?CNBC_Quotes:{};CNBC_Quotes.TableChartRenderer=function(){this.symbolSelector='data-table-chart-symbol';};(function($){"use strict";var TableChartRenderer=CNBC_Quotes.TableChartRenderer;var formatPercent=function(num){var result='';if(num==0){result='0';}
else{result=Number(num).toFixed(2);}
return result;}
TableChartRenderer.prototype=new CNBC_Quotes.AbstractQuoteRenderer();TableChartRenderer.prototype.parseData=function(data){return this.getQuoteDataMap(data,["QuickQuoteResult","QuickQuote"]);};TableChartRenderer.prototype.renderDomElt=function($row,quote){var self=this;var company=quote.name;$row.data('company-name',company);var realTime="true";if(quote.realTime!=undefined){realTime=quote.realTime;}
var isFirstRow=($row.index()===0);if(isFirstRow){var $flexChart=$row.closest('.flex_chart');var $name=$('[data-field="company-name"]',$flexChart);$name.text(company);}
var $td_fields=$row.children();$td_fields.each(function(i,elt){var $elt=$(elt);var name=$elt.data('field');if(name){var isArrow=(name.indexOf('_arrow')>0);if(isArrow){var idx=name.indexOf('_arrow');var value=quote[name.substr(0,idx)];var change=parseFloat(value);self.renderArrow($elt,change);}
else{switch(name){case'symbol':if(realTime==="false"){$elt.addClass("delayed_quotes");}
break;case'change':var value=(quote[name]==0)?'UNCH':((quote[name])?(CNBC_Common.formatDecimalZeros(quote[name])):'---');$elt.text(value);break;case'change_pct':var value=(quote[name])?(formatPercent(quote[name])+'%'):'---';$elt.text(value);break;default:var value=(quote[name])?(quote[name]):'---';$elt.text(value);break;}}}});};TableChartRenderer.prototype.getFlexCharts=function(){var $flexCharts=$('div.flex_chart[data-quote-type="quick-quote"]');return $flexCharts;};TableChartRenderer.prototype.attachEvents=function(){var self=this;var $flexCharts=this.getFlexCharts();$flexCharts.each(function(i,elt){var $flexChart=$(this);var $symLinks=$('table tbody tr a',$flexChart);$symLinks.mouseenter(function(){var $this=$(this);var $row=$this.closest('tr');if($row){var symbol=$row.data('table-chart-alt-symbol');self.updateChartImage($flexChart,symbol);var companyName=$row.data('company-name');if(companyName){var $company=$('[data-field="company-name"]',$flexChart);$company.text(companyName);}}});});};TableChartRenderer.prototype.loadImage=function(){var self=this;var $flexCharts=this.getFlexCharts();$flexCharts.each(function(i,elt){var $flexChart=$(this);var symbol=$flexChart.data('symbol');$('table tbody tr:first',$flexChart).each(function(i,elt){var $firstRow=$(this);var symbol=$firstRow.data('table-chart-alt-symbol');self.updateChartImage($flexChart,symbol);return false;});});};}(jQuery));


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Quotes/FutureTableChartRenderer.js */
var CNBC_Quotes=(typeof CNBC_Quotes!=="undefined")?CNBC_Quotes:{};CNBC_Quotes.FutureTableChartRenderer=function(){this.symbolSelector='data-future-table-chart-symbol';};(function($){"use strict";var FutureTableChartRenderer=CNBC_Quotes.FutureTableChartRenderer;FutureTableChartRenderer.prototype=new CNBC_Quotes.AbstractQuoteRenderer();FutureTableChartRenderer.prototype.parseData=function(data){return this.getQuoteDataMap(data,["FairValueQuoteResult","FairValueQuote"]);};FutureTableChartRenderer.prototype.renderDomElt=function($elt,quote){var self=this;var isInlineSpan=($elt.get(0).tagName.toLowerCase()==="span");if(isInlineSpan){renderInline($elt,quote);}
else{renderRow($elt,quote);}
function renderRow($row,quote){var $fields=$row.children();$fields.each(function(i,elt){var $elt=$(elt);var name=$elt.data('field');if(name){var isArrow=(name.indexOf('_arrow')>0);if(isArrow){var idx=name.indexOf('_arrow');var value=quote[name.substr(0,idx)];var change=parseFloat(value);self.renderArrow($elt,change);}
else{var value=(quote[name])?(quote[name]):'---';if(name==='change'||name=='fv_change'){var formatted=value;if(formatted!=='---'){formatted=CNBC_Common.formatDecimalZeros(value);}
$elt.text(formatted);changeColor($elt,value);}
else{$elt.text(value);}}}});}
function changeColor($elt,value){$elt.removeClass('pos neg');value=parseFloat(value);if(value){var cls="";if(value>0)cls="pos";if(value<0)cls="neg";if(cls){$elt.addClass(cls);}}}
function renderInline($elt,quote){var field=$elt.data('field');if(field&&quote[field]){var value=quote[field];if(field==='fv_spread'){value='('+value+')';}
else if(field==='last_time'){var idx=value.indexOf('T');if(idx>0){value=value.substr(idx+1);var suffix='';var hh=parseFloat(value.substr(0,2));if(hh>12){hh=hh%12;suffix='PM';}
else{suffix='AM';}
value=hh+value.substr(2)+' '+suffix;}}
$elt.text(value);}}};FutureTableChartRenderer.prototype.loadImage=function(){var self=this;var $flexCharts=$('div.flex_chart[data-quote-type="future-quote"]');$flexCharts.each(function(i,elt){var $flexChart=$(this);$('table tbody tr:first',$flexChart).each(function(i,elt){var $firstRow=$(this);var symbol=$firstRow.data('future-table-chart-alt-symbol');self.updateChartImage($flexChart,symbol);return false;});});};}(jQuery));


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Quotes/QuoteRetriever.js */
var CNBC_Quotes=(typeof CNBC_Quotes!=="undefined")?CNBC_Quotes:{};CNBC_Quotes.QuoteRetriever=function(){};(function($){"use strict";CNBC_Quotes.QuoteRetriever.ajaxCounter=0;var QuoteRetriever=CNBC_Quotes.QuoteRetriever;$.ajaxSetup({timeout:120000});QuoteRetriever.prototype.init=function(url,listeners,settings){if(!url||!listeners||!settings){throw new Error("QuoteRetriever() constructor: expecting <url, listeners, settings>");}
this.url=url;this.listeners=listeners;this.settings=settings;this.urlList=[];this.resetAjax();};QuoteRetriever.prototype.run=function(){if(this.listeners.length){this.setSymbols(this.listeners);this.getData();var s=this.settings;if(s&&s.streamingInterval){this.streamData(CNBC_Quotes.streamableSymbolList);CNBC_Quotes.streamableSymbolList=[];}}};function QuoteUrl(path){var idx=path.indexOf('&symbols=');if(idx<0||(idx!=path.length-'&symbols='.length)){throw new Error('&symbols needs to be the last argument');}
this.getUrl=function(symbols){var encodedSymbols=[];for(var i=0;i<symbols.length;i++){encodedSymbols.push(encodeURIComponent(symbols[i]));}
var symbolUrl=encodedSymbols.join('|');var url=path+symbolUrl;return url;};}
QuoteRetriever.prototype.setSymbols=function(listeners){var symbols=[];for(var i=0;i<listeners.length;i++){var list=listeners[i].getSymbols();symbols=symbols.concat(list);}
this.getSymbolList(symbols);};QuoteRetriever.prototype.getSymbolList=function(symbols){var symbols=this.removeDuplicateSymbols(symbols);var maxSymbols=this.settings.maxSymbolsPerRequest||30;var splitLists=this.splitSymbols(symbols,maxSymbols);var quoteUrl=new QuoteUrl(this.url);for(var i=0;i<splitLists.length;i++){var symbols=splitLists[i];var url=quoteUrl.getUrl(symbols);this.urlList.push(url);}}
QuoteRetriever.prototype.removeDuplicateSymbols=function(symbols){var uniqueMap={};for(var i=0;i<symbols.length;i++){var s=symbols[i];uniqueMap[s]=1;}
var unique=[];for(var s in uniqueMap){unique.push(s);}
return unique;};QuoteRetriever.prototype.splitSymbols=function(symbols,maxSymbolsPerRequest){var result=[];var start=0;var maxSyms=maxSymbolsPerRequest;var numRequests=Math.ceil(symbols.length/maxSyms);for(var i=0;i<numRequests;i++){result[result.length]=symbols.slice(start,start+maxSyms);start+=maxSyms;}
return result;};QuoteRetriever.prototype.resetAjax=function(){this.ajaxInProgress=false;this.numAjaxRequests=0;this.ajaxData=[];};QuoteRetriever.prototype.getData=function(callback){var self=this;var urlList=this.urlList;if(!this.ajaxInProgress){this.resetAjax();this.ajaxInProgress=true;for(var i=0;i<urlList.length;i++){CNBC_Quotes.QuoteRetriever.ajaxCounter++;var deferred=$.ajax({url:urlList[i],dataType:'jsonp',jsonpCallback:'quoteHandler'+CNBC_Quotes.QuoteRetriever.ajaxCounter,cache:true,async:true});deferred.done(function(data){if(callback){callback(data);self.ajaxInProgress=false;}
else{self.collectData(data);}});deferred.fail(function(data){self.resetAjax();});}}};QuoteRetriever.prototype.collectData=function(data){this.ajaxData.push(data);this.numAjaxRequests++;if(this.numAjaxRequests===this.urlList.length){this.onRender(this.ajaxData);this.resetAjax();}};QuoteRetriever.prototype.onRender=function(data){var listeners=this.listeners;for(var i=0;i<listeners.length;i++){listeners[i].onRender(data);}};QuoteRetriever.prototype.streamData=function(symbols){var self=this;var interval=this.settings.streamingInterval;if(interval>=5000){this.streamingInterval=setInterval(function(){try{CNBC_Quotes.QuoteRetriever.ajaxCounter=0;self.getSymbolList(symbols);self.getData();}
catch(e){if(typeof console!=='undefined'){console.error("Something happened in streamData");}}},interval);}};QuoteRetriever.prototype.stopStreamingData=function(){if(this.streamingInterval){clearInterval(this.streamingInterval);this.streamingInterval=null;}};}(jQuery));


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Quotes/Quotes.js */
var CNBC_Quotes=(typeof CNBC_Quotes!=="undefined")?CNBC_Quotes:function(){};CNBC_Quotes.QuoteRetrivers={};CNBC_Quotes.streamableSymbolList=[];CNBC_Quotes.init=function(chartapi,services){for(var i=0;i<services.length;i++){var s=services[i];for(var j=0;j<s.listeners.length;j++){var renderer=s.listeners[j];renderer.setChartApiUrl(chartapi);renderer.collectSymbols();if(typeof renderer.loadImage==="function"){renderer.loadImage();}}
var retriever=new CNBC_Quotes.QuoteRetriever();retriever.init(s.url,s.listeners,s.settings);retriever.run();CNBC_Quotes.QuoteRetrivers[renderer.symbolSelector]=retriever;}};CNBC_Quotes.reRender=function(){for(var i in CNBC_Quotes.QuoteRetrivers){CNBC_Quotes.QuoteRetrivers[i].getData();}};


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/BreakingNews/BreakingNews.1.js */
CNBC_BreakingNews={};(function($){CNBC_BreakingNews._callback='breakingNews';CNBC_BreakingNews._pageContainerId='cnbc-body';CNBC_BreakingNews.URL='http://www.cnbc.com/franchise/20991458';CNBC_BreakingNews.interval=30000;CNBC_BreakingNews.count=1;CNBC_BreakingNews.mode='breaking_news';CNBC_BreakingNews.init=function(args){this.args=args||{};if(this.args.interval&&this.args.url){this.interval=parseInt(this.args.interval)*1000;this.URL=this.args.url;this.setContainer();this.poll();}}
CNBC_BreakingNews.setContainer=function(){this._container=(this.args&&this.args.container)?this.args.container:$('h2.breaking');if(this._container.length==0){this.createContainer();}}
CNBC_BreakingNews.createContainer=function(){$('#'+this._pageContainerId).prepend('<h2 class="pagehead breaking"></h2>');this._container=$('h2.breaking');}
CNBC_BreakingNews.poll=function(){if(this.interval>5000){setInterval('CNBC_BreakingNews.getData()',this.interval);}}
CNBC_BreakingNews.getData=function(){var self=this;$.ajax({url:self.URL,type:'get',dataType:'jsonp',jsonpCallback:self._callback,data:{mode:self.mode},success:function(data){self.render(data);}});}
CNBC_BreakingNews.render=function(data){var self=this;var nid=parseInt(self.getNodeId());var headline=String(self.getHeadline());var latestNid=parseInt(data.id);var latestHeadline=$.trim(data.headline);if(!latestNid||!latestHeadline){if(this._container.is(':visible')){this._container.fadeOut('slow',function(){$(this).css({visibility:'hidden'});this._container.html('');});this._container.css({display:'none'});}}
else if(nid!==latestNid||headline!==latestHeadline){if(this._container.is(':visible')){this._container.fadeOut('slow',function(){$(this).css({visibility:'hidden'});});this._container.css({display:'none'});}
this._container.fadeIn('slow',function(){$(this).css({visibility:'visible'});self._container.html('<a href="'+data.url+'" data-nodeID="'+latestNid+'">'+latestHeadline+'</a>');});this._container.css({display:'block'});}}
CNBC_BreakingNews.getNodeId=function(){return $('a',this._container).attr('data-nodeID')||"";}
CNBC_BreakingNews.getHeadline=function(){return $.trim($('a',this._container).html())||"";}})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/FragmentUpdater/fragmentUpdater.1.js */
function CNBC_fragmentUpdater(){};(function($){CNBC_fragmentUpdater.prototype.fragmentRefreshMode=0;CNBC_fragmentUpdater.prototype.nodeId=null;CNBC_fragmentUpdater.prototype.fragmentId="";CNBC_fragmentUpdater.prototype.showLoader=false;CNBC_fragmentUpdater.prototype.showLoaderContainer="";CNBC_fragmentUpdater.prototype._context=null;CNBC_fragmentUpdater.prototype.fragment_refresh=1;CNBC_fragmentUpdater.prototype._refreshURL="";CNBC_fragmentUpdater.prototype._createURL=function(){this._refreshURL="/id/"+this.nodeId+"/fragment/";}
CNBC_fragmentUpdater.prototype.init=function(args){var args=args||{};if(args.fragmentId){this.fragmentId=args.fragmentId;}
if(args.showLoader){this.showLoader=args.showLoader;}
if(args.showLoaderContainer){this.showLoaderContainer=args.showLoaderContainer;}
this.setCallback(args.callback,args.context);if(args.nodeId){this.nodeId=args.nodeId;this._createURL();}else{return null;}
if(args.refresh!=null&&args.refresh===0){this.fragment_refresh=args.refresh;}
if(args.fragmentRefreshMode!=undefined&&args.fragmentRefreshMode!=null&&args.fragmentRefreshMode==1){this.fragmentRefreshMode=1;this._setIntervalDataRefresh();}
else{this.fragmentRefreshMode=0;}};CNBC_fragmentUpdater.prototype.setCallback=function(callback,context){if(context){this._context=context;};this._callback=callback;};CNBC_fragmentUpdater.prototype._callAjax=function(container,url){var self=this;var loaderContainer=this.showLoaderContainer||container;var $loaderContainer=$("#"+loaderContainer);if(this.showLoader){CNBC_Utils.showLoader(loaderContainer,"","fragmentLoader");}
var ajaxURL=this._refreshURL+container;if(this.fragmentRefreshMode!=1&&url!=undefined){ajaxURL=url;}
var $container=$("#"+container);if($container.length){$.ajax({url:ajaxURL,cache:false,success:function(data){if(!($.trim($container.text())==$.trim($(data).text()))){$container.replaceWith(data);}},complete:function(){if(self.showLoader){CNBC_Utils.hideLoader(null,$loaderContainer);}
if(self._callback){self._callback.call(self._context);}}});}};CNBC_fragmentUpdater.prototype._setIntervalDataRefresh=function(){var $this,id;var self=this;$("div[data-refresh]").each(function(){$this=$(this);var id=$this.attr("id");var datarefresh=parseInt($this.attr("data-refresh"))*1000;if(datarefresh>5000){var interval=setInterval(function(){if(id!=undefined){self._callAjax(id);}
if(!self.fragment_refresh){clearInterval(interval);}},datarefresh);}});};CNBC_fragmentUpdater.prototype.updateFragment=function(url){if(this.fragmentId){this._callAjax(this.fragmentId,url);}};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Poll/poll.1.js */
function CNBC_Poll(){};CNBC_Poll._callback='pollResult';CNBC_Poll.errorString="This poll is currenly unavailable. Please check back again later";CNBC_Poll.surveyText='Not a Scientific Survey. Results may not total 100% due to rounding.';CNBC_Poll.polls_settings;CNBC_Poll.polls=[];CNBC_Poll.pollServiceBase="http://cnbc.com/services/polls";CNBC_Poll.init=function(p_s){CNBC_Poll.getPollIds();CNBC_Poll.pollServiceBase=p_s.pollservicebaseurl||CNBC_Poll.pollServiceBase;if(CNBC_Poll.polls.length>0){CNBC_Poll.updateDiv();}};CNBC_Poll.getPollIds=function(){$("div[data-pollId]").each(function(i,val){CNBC_Poll.polls[i]=$(this).attr("data-pollId");});}
CNBC_Poll.updateDiv=function(){var polls=CNBC_Poll.polls;var currPoll,pid,pCookie,hasPid;var pollLen=polls.length;for(var i=0;i<pollLen;i++){currPoll=polls[i];pCookie=$.cookie("cnbc_poll_config");if(pCookie){hasPid=pCookie.indexOf(currPoll);if(hasPid>=0){this.showPollResults(currPoll);}else{this.showPollTable(currPoll);}}else{this.showPollTable(currPoll);}}};CNBC_Poll.showPollResults=function(pollId){var url=CNBC_Poll.pollServiceBase+"/"+pollId;var pollObject;$.ajax({url:url,type:"get",dataType:"jsonp",success:function(response){pollObject=CNBC_Poll.getPollObject(response);if(pollObject){if($("#"+pollId).length){$("#"+pollId).html(CNBC_Poll.getPollTableHtml(pollObject.data.node,pollId));}
CNBC_Poll.getResultsHtml(pollObject,null,pollId);}},error:function(request,error){CNBC_Poll.populateError();}});};CNBC_Poll.getPollObject=function(response){var responseText=JSON.stringify(response);var pollObject=eval('('+responseText.replace(/#/g,"")+')');if(pollObject.error==true){CNBC_Poll.populateError();return false;}
return pollObject;};CNBC_Poll.showPollTable=function(pollId){var url=CNBC_Poll.pollServiceBase+"/"+pollId;var votesObject,total_votes,pollObject;$.ajax({url:url,type:"get",dataType:"jsonp",jsonpCallback:CNBC_Poll._callback,success:function(response){pollObject=CNBC_Poll.getPollObject(response);if(pollObject){votesObject=pollObject.data.votes;if($("#"+pollId).length){$("#"+pollId).html(CNBC_Poll.getPollTableHtml(pollObject.data.node,pollId));}}},error:function(request,error){CNBC_Poll.populateError();}});};CNBC_Poll.performVote=function(pId){var flag=0;var rad_val,currOpt;var formObj=document.getElementById("pollform_"+pId);var opt=formObj.pollOptions;var optLen=opt.length;for(var i=0;i<optLen;i++){currOpt=opt[i];if(currOpt.checked){rad_val=currOpt.value;flag=1;}}
if(flag==0){alert('Please select an option to vote');return;}
var url=CNBC_Poll.pollServiceBase+"/"+pId+"/"+rad_val+"/"+pId;$.ajax({url:url,type:"get",dataType:"jsonp",jsonpCallback:CNBC_Poll._callback,success:function(response){var pollObject=CNBC_Poll.getPollObject(response);if(pollObject){CNBC_Poll.getResultsHtml(pollObject,rad_val,pId);CNBC_Poll.setCookie(pollObject.data.node.nid);}},error:function(request,error){CNBC_Poll.populateError();}});};CNBC_Poll.setCookie=function(nid){var cookieValue=nid;var c=$.cookie("cnbc_poll_config");if(!CNBC_Common.isNull(c)){cookieValue=c+','+nid;}
$.cookie('cnbc_poll_config',cookieValue,{path:'/',expires:3650});}
CNBC_Poll.getLabel=function(resultObj,myoffset){var label;$.each(resultObj,function(xx,yy){if(myoffset==yy['vote_offset']){label=yy.label;}});return label;};CNBC_Poll.getPollTableHtml=function(pollObject,pollId){var vtitle=pollObject.title;var tableHtml=[];tableHtml.push('<div class="pollQuestion">');tableHtml.push(vtitle);tableHtml.push('</div>');tableHtml.push('<div id="resultsDiv_'+pollId+'">');tableHtml.push('<form name="pollform_'+pollId+'" id="pollform_'+pollId+'">');$.each(pollObject.choice,function(i,c){tableHtml.push('<div class="optionWrapper">');tableHtml.push('<input type="radio" name="pollOptions" value='+c['vote_offset']+'>');tableHtml.push(c.label);tableHtml.push('</input');tableHtml.push('</div>');});tableHtml.push('</form></div>');tableHtml.push('<a href="javascript:CNBC_Poll.performVote(\''+pollId+'\')">');tableHtml.push('<img border="0" name="btn_CNBC_TSFB_POLL_2" src="http://media.cnbc.com/i/CNBC/CNBC_Images/componentbacks/btn_vote.gif"></a>');tableHtml.push('<div class="credit">Vote to see results</div></div>');return tableHtml.join('');};CNBC_Poll.getTotalVotes=function(votesObject){var total_votes=0;if(!CNBC_Common.isNull(votesObject)){$.each(votesObject,function(i,j){total_votes+=parseInt(j);});}
return total_votes;};CNBC_Poll.getResultsHtml=function(pollObject,rad_val,pId){var total_votes=0;var percent=0;var vtitle=pollObject.data.node.title;var votesObject=pollObject.data.votes||{};var results_html=[];var currVotes;total_votes=CNBC_Poll.getTotalVotes(votesObject);if(rad_val!=null){++total_votes;}
results_html.push('<div class="poll-results">');results_html.push('<div class="graph">');var pChoice=pollObject.data.node.choice||[];if(total_votes){var index=0;$.each(pChoice,function(i,j){index=i+1;currVotes=pollObject.data.votes[index];if((!currVotes&&rad_val&&index!=rad_val)||(!currVotes&&!rad_val)){percent=0;}else if(!currVotes&&rad_val&&index==rad_val){percent=CNBC_Poll.getPercentage(total_votes,1.00);}else if(rad_val&&index==rad_val){percent=CNBC_Poll.getPercentage(total_votes,parseFloat(currVotes)+1);}else{percent=CNBC_Poll.getPercentage(total_votes,parseFloat(currVotes));}
CNBC_Poll.displayBar(results_html,j.label,percent);});}else{$.each(pChoice,function(i,j){CNBC_Poll.displayBar(results_html,j.label,percent);});}
results_html.push('</div></div>');results_html.push('<div class="pollTotalVotes">Total Votes: '+total_votes+'</div>');results_html.push('<div class="pollSurveyText"><p>'+CNBC_Poll.surveyText+'</p></div>');if($("#resultsDiv_"+pId).length){$("#resultsDiv_"+pId).html(results_html.join('')).fadeIn("slow",function(){CNBC_Poll.animateResults(this);});}};CNBC_Poll.getPercentage=function(total_votes,currVotes){return Math.round((currVotes/total_votes)*100);}
CNBC_Poll.displayBar=function(results_html,label,percent){results_html.push('<div class="bar-title">');results_html.push(label);results_html.push('</div><div class="bar-container"><div class="pollPercentText">'+percent+'%</div>');results_html.push('<div class="pollBar"></div><span>'+percent+'%</span></div>');};CNBC_Poll.animateResults=function($obj){var percentage,$this;$(".poll-results div.pollBar",$obj).each(function(){$this=$(this);percentage=$this.next().text();$this.css({width:"0%"}).animate({width:percentage},'slow');});};CNBC_Poll.populateError=function(){var errorDiv='<div class="pollerror">'+CNBC_Poll.errorString+'</div>';if($('#polltable').length){$('#polltable').html(errorDiv);}};


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/tabs/tab.1.js */
function CNBC_Tab(){};(function($){CNBC_Tab.prototype._container=null;CNBC_Tab.prototype._callback=null;CNBC_Tab.prototype._tabIndex=1;CNBC_Tab.prototype.$tabContainer=null;CNBC_Tab.prototype._tabPrefix='tab_';CNBC_Tab.selectedTabClass='selected';CNBC_Tab.prototype.init=function(args){var thisObj=this;var args=args||{};if(args.container!=null){thisObj.setContainer(args.container);thisObj.setOptionalOverrides(args);thisObj.initElements();thisObj.showDefaultTab();thisObj.initEvents();}
else{CNBC_Common.ConsoleLog('Missing Arguments in Tab Library...');}};CNBC_Tab.prototype.setOptionalOverrides=function(args){var thisObj=this;if(args.tabIndex){thisObj._tabIndex=args.tabIndex;}
if(args.callback){thisObj.setCallback(args.callback,args.context);}
if(args.tabPrefix){thisObj._tabPrefix=args.tabPrefix;}};CNBC_Tab.prototype.setCallback=function(callback,context){var thisObj=this;if(context){thisObj._context=context;};thisObj._callback=eval(callback);};CNBC_Tab.prototype.setContainer=function(container){var thisObj=this;var type=typeof container;var container;if(type=='string'){container=$('#'+container);}else if(type=='object'&&container.length==1){container=container;}else{container=$(container);}
thisObj._container=container;};CNBC_Tab.prototype.showDefaultTab=function(){var thisObj=this;if(thisObj._tabIndex){var sizeTabs=thisObj.$tabs.children().length;if(thisObj._tabIndex>sizeTabs){thisObj._tabIndex=1;}
thisObj.toggleTab($('ul >:eq('+(thisObj._tabIndex-1)+')',thisObj._container));}
else{thisObj.$tabs.removeClass(CNBC_Tab.selectedTabClass);}};CNBC_Tab.prototype.initEvents=function(){var thisObj=this;thisObj.$tabs.click(function(){thisObj.toggleTab($(this));if(thisObj._callback){thisObj._callback.call(thisObj._context);}
return false;});};CNBC_Tab.prototype.initElements=function(){var thisObj=this;thisObj.$tabs=$('>:eq(0) > li',thisObj._container);thisObj.$tabContainer=$('>:eq(1)',thisObj._container);thisObj.$listContents=$('> li',thisObj.$tabContainer);};CNBC_Tab.prototype.toggleTab=function($el){var thisObj=this;var $selectedTab=$('>:eq('+$el.index()+')',thisObj.$tabContainer);$el.siblings().removeClass(CNBC_Tab.selectedTabClass);$el.addClass(CNBC_Tab.selectedTabClass);thisObj.$listContents.removeClass('show');if($selectedTab!=undefined&&$selectedTab!=null&&$selectedTab){$selectedTab.addClass('show');}};})(jQuery);

