var SiteSettings = {"SiteRoot":"http://www.godtube.com/","BaseUrl": document.location.href.split('?')[0],"ResourceRoot":"http://media.salemwebnetwork.com/godtube/resource/","SiteName":"GodTube","ThemeRoot":"http://media.salemwebnetwork.com/godtube/resource/theme/default/","UploadifyVersion":"2.1.4","Settings":{"DefaultPageHeaderTag":"","DefaultPageTitle":"","DefaultPageSummary":"Godtube.com is a video sharing platform offering online Christian videos with faith-based, family friendly content. Popular video sections on Godtube include; Christian bands and singers in Christian music videos, Christian comedians and comedy skits, spoofs and parodies in funny videos, cute videos featuring kids and animals, sports videos, Christian news videos and inspirational videos. Be inspired in your walk with Jesus Christ and grow in your knowledge of the Bible with videos highlighting inspirational messages and verses. Start uploading your Christian video, reading and commentating on Bible verses at the online Bible, and posting your prayer requests to the Prayer Wall!","DefaultMetaDescription":"","DefaultMetaKeywords":"","MailFromAddress":"donotreply@godtube.com","MailFromName":"GodTube.com","NewsLetter":"","AdvertisementSiteCode":"swn.godtube","MobileAdvertisementSiteCode":"swn.godtubemobile","DefaultAdvertisementZone":"","FooterId":"33","AlertBarHtml":"","CssAugmentation":"","GoogleAnalyticsTrackingCode":"UA-4546428-1","GoogleAnalyticsMobileTrackingCode":"UA-4546428-12","GoogleAnalyticsEmbedTrackingCode":"UA-4546428-9","GoogleAnalyticsConversionCode":"","HostNameForNewsletterApi":"www.godtube.com","PremoderateMedia":"false","PremoderateComments":"false","ShortUrlDomain":"godtu.be","ResourcesVersion":"120","TwitterUsername":"DailyGodtube","BSTSearchUrl":"","BSTTitleImageUrl":"","CmsSiteId":"","FacebookAppId":"132280000165846","WebmasterEmail":"webmaster@godtube.com","FacebookPage":"godtubecom","MediaMissingPreviewUrlThumb":"~/resource/theme/default/media/default-thumb.png","MediaMissingPreviewUrl":"~/resource/theme/default/media/default.png","AdminServiceKey":"8e78842b-b7e1-488c-96c2-d5d82ea2d5b1","RenderBaselineAdCall":"false","ChartBeatUid":"23131","ChartBeatDomain":"godtube.com","MobileUrl":"http://m.godtube.com","MediaUploadSiteId":"1","RolloverAdPositionActive":"false","PremiumAdPositionActive":"false","MobileHeaderAdVideoPosition":"1"},"AppSettings":{"CacheSeconds":"300","FooterServiceUrl":"http://webservices.salemwebnetwork.com:8401/footerservice.asmx","LuceneServiceUrl":"http://webservices.salemwebnetwork.com:8401/searchindex.asmx","SolrMediaServiceUrl":"http://solr.oneplace.com:8080/salem/gt_content/","SolrUserServiceUrl":"http://solr.oneplace.com:8080/salem/gt_user/","SolrPlaylistServiceUrl":"http://solr.oneplace.com:8080/salem/gt_playlist/","SolrDevotionalServiceUrl":"http://solr.oneplace.com:8080/salem/swncms/","NewsletterServiceUrl":"http://webservices.salemwebnetwork.com:8401/skylist/NewsletterSignUp.asmx","ZcastServiceUrl":"http://webservices.salemwebnetwork.com:8401/zcast/syndication.asmx","AllPassServiceUrl":"http://webservices.salemwebnetwork.com:8401/allpass.asmx","SmtpHost":"10.1.105.129","SmtpPort":"25","SendExternalMail":"true","BstTranslationUrl":"http://www.biblestudytools.com/xml/bible/alltranslations/","BstBookUrl":"http://www.biblestudytools.com/xml/bible/alltranslations/\\{0\\}/books/","EncoderAsyncPostUrl":"http://fileupload.encoder.salemweb.net/post.aspx","EncoderOutputLocation":"\\\\10.1.105.223\\LimeLight2\\GodTube\\","EncoderOutputLocationUrl":"\\\\10.1.105.223\\LimeLight2\\Godtube\\","EncoderOutputBaseUrl":"http://ht2.salemweb.net/godtube/","NoProfilePlaceholderImage":"http://media.salemwebnetwork.com/godtube/resource/theme/default/icons/anonymous.jpg","DefaultMediaUnavailableImageUrl":"http://media.salemwebnetwork.com/godtube/resource/theme/default/media/media-unavailable.png","MissingProductPhotoUrl":"http://media.salemwebnetwork.com/godtube/resource/theme/default/product/missing-image.png","PlayButtonImage":"http://media.salemwebnetwork.com/godtube/resource/theme/default/media/play-button.png","MediaRoot":"http://media.salemwebnetwork.com/godtube/","BingRssPath":"\\\\ric-s-dev-03.swnric.com\\Replicated\\Media\\GodTube\\\\{0\\}_fullfeed.xml","BingRssPathInc":"\\\\ric-s-dev-03.swnric.com\\Replicated\\Media\\GodTube\\\\{0\\}_incfeed.xml","HostNameForNewsletterAPI":"www.godtube.com","NewsletterThankYouPage":"newsletter/thankyou/","RtmpApplication":"rtmp://fm.salemweb.net/a3186/o29","HttpApplication":"http://ht.salemweb.net","ProfileImageMaxHeight":"200","ProfileImageMaxWidth":"200","MyChannelMediaCount":"4","ArtistChannelMediaCount":"6","MyChannelCommentCount":"5","AdsVisible":"true","MaxCommentOffensiveCount":"3","MaxMediaOffensiveCount":"3","MaxUserOffensiveCount":"3","MaxUserCommentOffensiveCount":"3","UseLucene":"false","LuceneServiceTimeout":"5000","WebServiceKey":"godtube:35A8F3B3-7B1D-4024-9B56-AA1BEAC3E9F5","GodTubeFeedUrl":"http://www.godtube.com/featured/video/feed","AllPassPersistDays":"14","AllPassEmailAddress":"accounts@crosscards.com","AllPassLogo":"http://media.salemwebnetwork.com/logo/swn/Logo_SalemAllPass_chrome.gif","AllPassLogoButton":"http://media.salemwebnetwork.com/logo/swn/Logo_SalemAllPass_chrome_tiny.gif","FooterServiceTimeout":"10","CaptureGoogleAnalytics":"true","EnableTakeover":"true","facebook":"http://www.facebook.com/pages/wwwGodTubecom","twitter":"http://twitter.com/DailyGodtube","acrobat":"http://www.godtube.com/sites/all/themes/custom/godtubev2_ns/styles/images/flash-player.gif","UserProfileHeight":"45","UserProfileWidth":"45","UserSectionCount":"8","UserDefaultMaxUploadSize":"209715200","RecaptchaPrivateKey":"6LdwDcISAAAAAPnf1Aiy7bdswLhO9nxTKLbKOSjX","RecaptchaPublicKey":"6LdwDcISAAAAAN1FUuK_pZqoqVpqusIgfxMba5UG","AdminBaseHref":"http://support.salemwebnetwork.com/godtubeadmin","AdminEmailFromAddress":"doNotReply@godtube.com","MediaCategoryMaxAge":"10","MediaCategoryMaxRecordCount":"200","EncoderPreset":"GodTubeVideo","EncoderPresetHi":"GodTubeVideoHi","EncoderImageExtractionCount":"6","EncoderImageThumbnailWidth":"215","EncoderImageThumbnailHeight":"120","EncoderMaxFileSize":"200","DefaultFacebookImageWidth":"120","DefaultFacebookImageHeight":"120"},"TextResource":{"AboutGodtube.com":"About GodTube.com","AboutMe":"About me","AboutThisVideoTitle":"ABOUT THIS VIDEO","AboutUs":"About Us","AcceptTermsAndConditionsOfUse":"Accept Terms & Conditions of Use","AccountConfirmationSuccessful":"Your account has been confirmed and activated. Welcome to GodTube.com! Redirecting to account login in:","ActionNotAllowed":"Action not allowed for this item","ActiveMediaTitle":"Active Media","AddFavoriteLinkText":"Favorite","AddFavoriteSuccess":"This item has been added to your favorites.","AddFavoriteText":"Add this item to My Favorite's","AddFeatureVideo":"Feature This Video on My Profile.","AddPlaylistLinkText":"Playlist","Address1":"Address","Address2":"Address 2","AddToPlaylistLinkText":"Add to Playlist","Album":"Album","AlbumReviewsTitle":"Christian Music Album Reviews","AlbumsSingles":"Albums & Singles","AlbumTracks":"Album Tracks","Artist":"Artist","ArtistBio":"Artist Bio","ArtistSearchTypeMenuFormat":"Artist Results <b>({0})</b>","AuditFormTitle":"Escalation Notice","AuditReason":"Why are you marking this item as inappropriate?","AuditToolTip":"Report this item as inappropriate!","AutoPlayNotice":"Autoplay the video after page load","BackToFormat":"back to {0}","BackToProfile":"Back to {0}'s channel.","BroadcastArchives":"Broadcast Archives","Browse":"Browse","BrowseOurCategories":"Browse Our Categories","BrowseVideos":"Browse Videos","BrowseVideosByCategory":"Browse Videos by Category","ButtonSaveVideo":"Save","ButtonTextCancel":"Cancel","ButtonUpload":"Upload Video","buyButton":"CLICK HERE TO BUY","BuyLinkText":"Buy Now","By":"By {0}","ByUser":"by user \"{0}\"","Cancel":"Cancel","CategoryFacebookLikeTitleFormat":"Like {0} on GodTube","CategoryFacebookLikeToolTipFormat":"<p class=\"subtitle\">Follow us on Facebook</p><br/> <br/>Get GodTube: {0}<br /><br/>Updates directly to your News Feed.<br/>","CategoryLabel":"Category","CategoryTitleSuffix":"VIDEOS","CertifyUserInfo":"Certify all information is correct","ChangeProfilePicture":"Change Profile Picture","ChangeProfileVideo":"Select","ChannelViews":"Channel Views","ChristianVideosMenu":"Christian Videos","ClickButtonBelow":"Thank you! =D","Close":"Close","CommentAddLongText":"Add Comment","CommentAddShortText":"Comment","CommentDefaultText":"Post your comment...","CommentFlagLinkText":"Flag","CommentReplyLinkText":"Reply","CommentsSeeAllLinkText":"See All Comments","CommentsTitle":"COMMENTS","ConfirmAccountDelete":"We would hate to see you go. Are you sure you want to remove your account with us? Note: This action cannot be undone and due to caching it may take up to 30 minutes for your content to be fully gone from our site.","ConfirmAccountHeader":"Account Confirmation","ConfirmationEmailSent":"A confirmation email has been sent. Please follow the directions contained in that email to finish the process.","ConfirmCancelUpload":"Are you sure you want to cancel he current upload?","ConfirmDelete":"Are you sure you want to remove this item from the site? This action cannot be undone.Note: Due to caching it may take up to 30 minutes to be fully gone from view.","ConfirmPassword":"Confirm Password","Copyright":"Copyright &#169; {0}, {1}.com. All rights reserved.","CreateAccount":"Sign Up","CreateAccountAndNewsletterSuccess":"<font color=\"green\">Success! You are now signed in.</font><br/><br/>Also, thank you for subscribing to our newsletters! At Crosswalk.com we take extra care to avoid sending email to anyone who doesn't really want to receive it. Remember, you can unsubscribe at any time by clicking on the appropriate link at the bottom of any email you receive. You can also contact us via email at support@crosswalk.com with questions, concerns, or changes to your subscriptions.<br/><br/>To ensure uninterrupted delivery, please add our \"From\" address to your personal white list or address book when you receive your first issue of any newsletter or devotional. Your email service provider can provide you with instructions on how to do this.<br/><br/>If you do not receive your subscriptions and you are using a Spam filtering service or software, it is possible that your subscriptions may be placed in the \"held\" or \"junk mail\" folders. Please check these folders to ensure that your subscriptions are not being blocked. If you find your newsletters are being filtered you can solve this problem by adding us to your personal white list or address book.<br/><br/>Thanks again, and enjoy your subscriptions.<div class=\"actions noFloat\"><a class=\"orangelink closeButton\"><span>Close</span></a></div>","CreateAnAccount":"Create An Account","CreateHeader":"Create An Account","DailyDevotionals":"Daily Devotionals","DateOfBirth":"Date of Birth","DeleteAllSubscription":"Delete All Subscriptions","deleteitem":"Remove this item from the site?","DeleteMyAccount":"Delete My Account","DeleteMyContent":"Remove this item from my account?","DeleteSubmitFailure":"An error occurred while trying to remove the item from the site. Please try again. If you continue to have difficulty please contact us for assistance.","DeleteSubmitSuccess":"The item was successfully removed from the site. Due to caching some items may remain visible for up to 30 minutes form the time of this request.","DeLicioUsShareText":"Share to De.Licio.Us","DevotionalBrowseLinkText":"Devotionals","DevotionalsSearchTypeMenuFormat":"Devotional Results <b>({0})</b>","DidYouMeanFormatText":"Looking for {0}'s Channel?","DiggShareText":"Digg This","DirectoryTitle":"Christian Music Artists Directory","DonateLinkText":"Support this Ministry","DoubleClickMayBeRequired":"Double click may be required.","Download":"Download","Edit":"Edit","EditVideoHeader":"Edit Video","EmailAddress":"Email Address","EmailAddressNotFound":"No account was found for the provided email address. Please try again.","EmailExample":"e.g., user@domain.com","EmailPageSubject":"Check out this page on GodTube.com!","EmailShareText":"Send this site to a friend.","EmailThisMinistry":"Email this Ministry","EmbedNotice":"Choose your height, width and autoplay options then copy the generated script and paste it to your website in the location you want the video to appear.","EmbedTitle":"Embed Video","ErrorAsyncUploadFailed":"Unfortunately an unexpected error occurred while trying to upload your file, please try again by clicking submit.","ErrorDescriptionTooLong":"The description must be less than 500 characters long.","ErrorMediaNameMissing":"Please provide a name for your video.","ErrorNameTooLong":"The name must be less than 255 characters long.","ErrorSelectingMyChannelVideo":"An unexpected error occurred while trying to retrieve video preview.","ErrorUploadFailed":"The upload of your video failed to reach our servers. Please submit this form to try again.","ErrorUploadFileMissing":"Please select a video to upload.","FacebookJoinText":"Join Us","FacebookShareText":"Share to Facebook","FacebookUrl":"http://www.facebook.com/{0}","FacebookUsername":"Facebook Username","False":"No","FavoritesTitle":"Favorites","Featured":"featured","FeaturedArtist":"Featured Artist","FeaturedMediaListHeader":"Featured Videos","FeaturedSyndicatedUserTitle":"Featured Ministry Video","FileExtensionTypeNotice":"Please select a video file","FileUploadSuccessful":"Your file successfully uploaded","FirstName":"First Name","FlagCommentConfirmation":"Are you sure you wish to flag this comment?","FlagCommentFailure":"We were unable to capture your concern. Please try again.","FlagCommentSuccess":"The comment has been flagged for moderation.","FlagUser":"Flag this user","FlashIsRequired":"This site requires flash. <a href=\"http://www.adobe.com/products/flashplayer/\">Get It now</a>","ForgotPassword_EmailNotFound":"We could not find a account for the email address provided.","ForgotPassword_Success":"An email with instructions on changing your password has been sent to the email address provided.","ForgotPasswordHeader":"Forgot Password","ForgotYourPassword":"Forgot Your Password?","FullSite":"Full Site","GetUploadNotifications":"Notify me when uploading videos","GoBack":"go back","GoToLoginNow":"Go to Account Login Now","Groups":"4","GTFeaturedVideo":"Check out the Latest GodTube.com Must-See Video!","GTFeaturedVideos":"GodTube's Featured Videos","HeaderUpload":"Upload","Height":"Height","HomePageTitle":"Today's Christian Video","ImpersonateUser":"Impersonate User","InvalidCaptcha":"The request cannot be completed because the captcha is invalid. Please try again.","InvalidFileType":"Please select a valid file type.","InvalidJsCaptcha":"Please certify all information is correct before submitting your request. ","InvalidMediaType":"This is an invalid type of media.","InvalidUserNameSimple":"The username is invalid.","KeepMeLoggedIn":"Keep me logged in on this computer","LastName":"Last Name","LastUpdated":"Last Updated","LastVisitDate":"Last Visit Date","LatestVideosByCategoryHeader":"Browse our latest entries by Category","LeavePageConfirmation":"The selected action requires you to leave the current page. Are you sure you want to continue?","lengthTitle":"Length","LessText":"show less...","LikeBarText":"<strong>Like this video?</strong> Click the <strong>Like</strong> button below to share with friends. God bless!","LikeThisVideo":"Press the button below if you liked this video! ","LoadingImage":"Loading selected image, please wait...","LoginHeader":"Sign In","LoginRequired":"Login Required","LoginRequiredText":"You must be logged in before using this feature","LogOutText":"Logout","MediaDescription":"Description","MediaDownloadAcceptTerms":"I agree to the <a href=\"#\" class=\"terms\" >terms of use</a>.","MediaDownloadLink":"FREE Song Download","MediaDownloadTermsOfUseDisclosure":"You must agree to all terms and conditions before downloading.","MediaListHeader":"Recommended for you","MediaName":"Name","MediaPreview":"Preview image","MediaPublic":"Public","MediaPublicFalse":"Private","MediaPublicTrue":"Public","MediaSearchTypeMenuFormat":"Media Results <b>({0})</b>","MediaSortPopularText":"Popular Media","MediaSortRecentText":"Recent Media","MediaStatusNotSetMediaHasStatusOtherThanCreated":"","MediaStatusSet":"","MediaViewMore":"View comments, related videos & more","MinistryWebsite":"Ministry Website","MoreArticles":"more articles","MoreCategoryVideos":"More {0} >>","MoreCategoryVideosFormat":"More {0} Videos","MoreLikeThis":"More like this","MoreLinkText":"More...","MoreSyndicated":"More Ministries","MoreText":"show more...","MoreUserVideosLinkText":"More videos from this user","MoreVideo":"More Videos >>","MoreVideos":"More Music Videos","MostPopular":"Most Popular","MostPopularVideos":"Most Popular Videos","MostRecent":"Most Recent","mp3Title":"Buy MP3","MyAccount":"{0}'s Account","MyActiveMedia":"My Active Media","MyChannel":"My Channel","MyChannelHeader":"My Channel","MyChannelMediaIdText":"Profile Video","MyContent":"My Content","MyFavorites":"My Favorites","MyHistory":"My History","MyMedia":"My Media","MyPendingMedia":"My Pending Media","MyPlaylists":"My Playlists","MyProfileHeader":"Manage My Profile","MySubscriptions":"My Subscriptions","MyVideos":"My Videos","New":"New here?","NewsletterConfirmationTitle":"Newsletter Subscription","NewsletterDisclosureFormatCreate":"<p class=\"disclosure\">To receive your chosen email newsletters, updates and special offers from GodTube, enter your email address and click \"Create\". <a href=\"{0}\">Privacy Policy ></a> <a href=\"{1}\">Terms of Use ></a></p>","NewsletterDisclosureFormatString":"<p class=\"disclosure\">To receive your chosen email newsletters, updates and special offers from GodTube, enter your email address and click \"Subscribe.\" <a href=\"{0}\">Privacy Policy ></a> <a href=\"{1}\">Terms of Use ></a></p>","NewsletterEmailText":"E-mail Address","NewsletterSignupErrorEmail":"The email address appears to be invalid.","NewsletterSignupErrorNewsletter":"At least one newsletter must be selected to subscribe.","NewsletterSignupErrorPreface":"Unfortunately the following problems were detected; please make corrections and try again.","NewsletterSignupSuccess":"Thank you for signing up for our newsletters. You have been successfully added.","NewsletterSignupText":"Subscribe","NewslettersLinkText":"Newsletters","NewslettersSignUp":"<p class=\"disclosure\">To receive FREE video newsletters and special offers from GodTube, enter your email address and click submit</p>","NewslettersTitle":"GodTube.com Featured Newsletters","NewsletterThankYouString":"Thank you for signing up! We have received your selections and you should begin receiving your subscriptions in a few days as new issues are published.","NewsletterTitle":"Free Newsletters","NextPageIteratorText":"Next Page","NextVideoIteratorText":"Next Video","NoContent":"You have no content for this section","NoMediaFound":"No media found for the current search criteria.","NonUniqueUsernameWarningMessage":"Username is already taken, please choose another.","NoResultsNotice":"There are no search results for this type","NoResultsPage":"There are no results for this type and page. The last page number is {0}.","NoSpecify":"Don't Specify","Notice":"Notice","ODJDevotionals":"Our Daily Journey Recent Devotionals","OfficialArtist":"Official Artist","OfficialArtistPage":"Official Artist Page","OldPassword":"Current Password","OrderNow":"Order Now","OurDailyJourney":"Our Daily Journey","PageEmbedText":"Embed","PageLinkText":"Link","PageNext":"Next","PagePrev":"Previous","PagingNextPageLinkText":"Next Page","PagingPreviousPageLinkText":"Previous Page","PasswordChangeSuccessful":"You password has been successfully changed. Redirect to login in:","PasswordResetRequestIsInvalid":"There is a problem with your password reset confirmation. Please try again.","PasswordsWordsDoNotMatch":"The passwords do not match. Please type them carefully and resubmit.","PendingMediaCopy":"Your videos are currently being processed. Please allow a few moments for them to appear on the My Media tab.","PendingMediaTitle":"Pending Media","PlaylistChange":"Select an option from the list below to load a different playlist.","PlaylistClose":"Playlist closed! Create a new playlist by adding videos, or load an existing playlist by visiting your user profile!","PlaylistCreate":"Save New Playlist","PlaylistCurrentlyPlaying":"Currently playing","PlaylistDuplicate":"Video already exists in playlist!","PlaylistEditTitle":"Edit this playlist!","PlaylistEmpty":"No playlists found for this account.","PlaylistHide":"Hide","PlaylistJumpTo":"Jump to","PlaylistLoadSuccess":"Playlist Loaded!","PlaylistNameDescriptionEmpty":"Please add a name and description for your playlist.","PlaylistNameDialogText":"Please add a name and description in order to save your playlist to your user profile.","PlaylistOptionMenuClosePlaylist":"Close playlist","PlaylistOptionMenuLoadPlaylist":"Load a playlist","PlaylistOptionMenuTitle":"options","PlaylistOrderSuccess":"Playlist order saved!","PlaylistQueueLimit":"Playlist limit! (A playlist is limited to 15 videos.)","Playlists":"Playlists","PlaylistSaveSuccess":"Playlist saved!","PlaylistSaveTo":"Save","PlaylistShow":"Show","PlaylistWatchLater":"Add to Playlist","PostCommentSuccess":"Your comment was successfully added.","PostedByUserPrefix":"Posted By","PostedDatePrefix":"Posted","PreviousPageIteratorText":"Previous Page","PreviousVideoIteratorText":"Previous Video","priceTitle":"Price","PrintButtonText":"Print this page","Privacy":"Privacy","PrivacyPolicy":"Privacy Policy","Private":"Private","ProfileImage":"Profile Photo","ProfileImageUpdateMsg":"Due to caching it may take up to 30 minutes to refresh your profile image.","ProfileText":"Profile","Public":"Public","RatingSuccess":"Vote cast successfully!","ReadLess":"Read Less >","ReadMore":"Read More >","RecentDevotionals":"Recent Devotionals","Recommended":"Recommended","Related":"Related Videos","RelatedVideos":"More videos you may like:","Relevance":"Relevance","ReplyTo":"Reply To","ResendConfirmationEmail":"Resend Confirmation Email","ResetPasswordHeader":"Reset Password","ReviewBy":"Review by","Reviews":"Reviews","RssShareText":"RSS This Page","SaveMySettings":"Save my Settings","SavePlaylistOrder":"Save Order","SearchPageHeader":"We found {0} results for your search \"{1}\" {2}","SearchResultHeader":"{0} results for \"{1}\"","SeeAllFavorites":"See all favorites","SeeAllSubscribers":"See all subscribers","SeeAllSubscriptions":"See all subscriptions","SeeAllUploads":"See all uploads","SeeAllVideosBy":"See All Videos by \"{0}\" >","SelectACountry":"Select a Country","SelectAState":"Select a State","SelectLatestVideo":"Use latest video","SelectProfileVideo":"Select a Profile Video","SelectSpecificVideo":"Use specific video","SelectTag":"Select a tag...","Settings":"Settings","ShareToolbarTitle":"RATE THIS","ShareVideoFriends":"Share your video with friends and family!","ShowEmbedOldNotice":"Use old embed code (rarely used)","ShowEmbedTitleNotice":"Show video title above video?","ShowShareLinksNotice":"Show share links with embed video?","SignIn":"LOG IN","SignInUsing":"Log in using","SignOut":"Sign out","SignUpNewsletters":"Sign up for these newsletters!","SiteName":"GodTube","SiteSearchBoxButtonText":"SEARCH","songTitle":"Song Title","SortBy":"Sort by","SortMediaByPrefix":"Sort By","State_Province":"State / Province","StumbleUponShareText":"StumbleUpon","Submit":"Submit","Subscribe":"Subscribe","Subscribed":"Subscribed","Subscribers":"Subscribers","SubscribersEmpty":"This user does currently does not have any subscribers.","SubscribersTitleViewAll":"Subscribers of {0}","Subscriptions":"Subscriptions","SubscriptionsEmpty":"This user does currently does not have any subscriptions.","SubscriptionsTitleViewAll":"Subscriptions for {0}","Success":"Success","SuccessUpload":"Your video was successfully uploaded!","SyndicatedChannelTitle":"All Ministries","TermsOfUse":"Terms of Use","TermsOfUseDisclosure":"You must agree to all terms and conditions before submitting your request for an account.","TimesViewedSuffix":"views","TodaysDevotionals":"Today's Devotionals","TotalUploadViews":"Total Upload Views","True":"Yes","TwitterFeedTitle":"Twitter Feed @{0}","TwitterFollowText":"Follow Us","TwitterShareText":"Share to Twitter","TwitterStatusPrefixText":"Currently viewing {0}","TwitterUsername":"Twitter Username","UnableToConfirmAccount":"We were unable to confirm your account. Please enter your email address below and we'll send you a new confirmation email.","UnknownError":"There was an unknown error processing your request. Please try again.","Unlisted":"Unlisted","Unsubscribe":"Unsubscribe","Unsubscribed":"Unsubscribed","UploadButtonText":"Select Video","UploadFile":"File","UploadFileError":"An error occurred while uploading the file","UploadFileSizeLimit":"The file selected exceeds the allowable file size for upload.","UploadHttpError":"There was an error reaching the upload server or the file size exceeded the specified limits.","UploadInProgress":"Your file, {FILENAME}, is currently uploading...","UploadIOError":"Our Apologies, There was a communication error with the upload server. Please try again.","UploadPreSubmit":"This information will be saved as soon as your upload completes. Please do not close this window.","UploadsTitle":"Uploads","UploadTroubleLinkText":"Having trouble uploading?","UploadUnloadWarning":"You will lose any unsaved data or partial uploads.","UserFeedback_AccountNotActive":"Log in failed due to the requested account being inactive.","UserFeedback_AccountNotFound":"User account not found.","UserFeedback_EmailAddressExists":"The email address is already in use with another account.","UserFeedback_InvalidUserName":"The username provided is invalid. It must be within 3-20 characters and may only contain: letters, numbers, dashes, underscores and periods.","UserFeedback_PasswordIncorrect":"Incorrect username / password combination.","UserFeedback_Success":"You have been successfully logged in.","UserFeedback_UserNameExists":"The username is taken.","Username_Email":"Username/Email","UserNameExistsSimple":"The username already exists, please choose another.","UsernameOrPassIncorrect":"User name or password is incorrect","UserOnFacebook":"{0} on Facebook","UserPlaylist":"{0}'s Playlist","UserProfileFeedback_AccountNotActive":"Updated failed due to the requested account being inactive.","UserProfileFeedback_AccountNotFound":"User account not found.","UserProfileFeedback_EmailAddressExists":"The email address is already in use with another account.","UserProfileFeedback_PasswordIncorrect":"Password is invalid.","UserProfileFeedback_Success":"Your information has been updated.","UserProfileFeedback_UnknownError":"Unexpected error, please try again.","UserProfileFeedback_UserNameExists":"The username is taken.","UserReviews":"{0} user reviews","UserSearchTypeMenuFormat":"User Results <b>({0})</b>","UserUnauthorized":"Unauthorized User","UserWebSite":"{0}'s Website","UsingLastestMyChannelVideoText":"Using the latest video.","ValidateUsernameWaitMessage":"...checking username for uniqueness...","VideoBrowseLinkSuffix":"Videos","VideoBrowseLinkText":"Browse","VideoChannel":"Video Channel","VideoFormat":"Video Format not supported by your device!","VideoManager":"Video Manager","VideoPodcasting":"Video Podcasting","VideoProcessed":"Your video is still being processed. Please wait a moment for it to appear","VideoUnavailableTitleDefault":"This video is no longer available.","VideoUploadLinkSuffix":"VIDEO","VideoUploadLinkText":"Upload","ViewCount":"View Count","WatchNow":"Watch Now","WebSite":"Web Site","Welcome":"Welcome,","Width":"Width","Zip_PostalCode":"Zip / Postal Code"}};
/*!
* jQuery JavaScript Library v1.4.2
* http://jquery.com/
*
* Copyright 2010, John Resig
* Dual licensed under the MIT or GPL Version 2 licenses.
* http://jquery.org/license
*
* Includes Sizzle.js
* http://sizzlejs.com/
* Copyright 2010, The Dojo Foundation
* Released under the MIT, BSD, and GPL Licenses.
*
* Date: Sat Feb 13 22:33:48 2010 -0500
*/
(function (A, w) {
    function ma() { if (!c.isReady) { try { s.documentElement.doScroll("left") } catch (a) { setTimeout(ma, 1); return } c.ready() } } function Qa(a, b) { b.src ? c.ajax({ url: b.src, async: false, dataType: "script" }) : c.globalEval(b.text || b.textContent || b.innerHTML || ""); b.parentNode && b.parentNode.removeChild(b) } function X(a, b, d, f, e, j) {
        var i = a.length; if (typeof b === "object") { for (var o in b) X(a, o, b[o], f, e, d); return a } if (d !== w) { f = !j && f && c.isFunction(d); for (o = 0; o < i; o++) e(a[o], b, f ? d.call(a[o], o, e(a[o], b)) : d, j); return a } return i ?
e(a[0], b) : w
    } function J() { return (new Date).getTime() } function Y() { return false } function Z() { return true } function na(a, b, d) { d[0].type = a; return c.event.handle.apply(b, d) } function oa(a) {
        var b, d = [], f = [], e = arguments, j, i, o, k, n, r; i = c.data(this, "events"); if (!(a.liveFired === this || !i || !i.live || a.button && a.type === "click")) {
            a.liveFired = this; var u = i.live.slice(0); for (k = 0; k < u.length; k++) { i = u[k]; i.origType.replace(O, "") === a.type ? f.push(i.selector) : u.splice(k--, 1) } j = c(a.target).closest(f, a.currentTarget); n = 0; for (r =
j.length; n < r; n++) for (k = 0; k < u.length; k++) { i = u[k]; if (j[n].selector === i.selector) { o = j[n].elem; f = null; if (i.preType === "mouseenter" || i.preType === "mouseleave") f = c(a.relatedTarget).closest(i.selector)[0]; if (!f || f !== o) d.push({ elem: o, handleObj: i }) } } n = 0; for (r = d.length; n < r; n++) { j = d[n]; a.currentTarget = j.elem; a.data = j.handleObj.data; a.handleObj = j.handleObj; if (j.handleObj.origHandler.apply(j.elem, e) === false) { b = false; break } } return b
        }
    } function pa(a, b) {
        return "live." + (a && a !== "*" ? a + "." : "") + b.replace(/\./g, "`").replace(/ /g,
"&")
    } function qa(a) { return !a || !a.parentNode || a.parentNode.nodeType === 11 } function ra(a, b) { var d = 0; b.each(function () { if (this.nodeName === (a[d] && a[d].nodeName)) { var f = c.data(a[d++]), e = c.data(this, f); if (f = f && f.events) { delete e.handle; e.events = {}; for (var j in f) for (var i in f[j]) c.event.add(this, j, f[j][i], f[j][i].data) } } }) } function sa(a, b, d) {
        var f, e, j; b = b && b[0] ? b[0].ownerDocument || b[0] : s; if (a.length === 1 && typeof a[0] === "string" && a[0].length < 512 && b === s && !ta.test(a[0]) && (c.support.checkClone || !ua.test(a[0]))) {
            e =
true; if (j = c.fragments[a[0]]) if (j !== 1) f = j
        } if (!f) { f = b.createDocumentFragment(); c.clean(a, b, f, d) } if (e) c.fragments[a[0]] = j ? f : 1; return { fragment: f, cacheable: e }
    } function K(a, b) { var d = {}; c.each(va.concat.apply([], va.slice(0, b)), function () { d[this] = a }); return d } function wa(a) { return "scrollTo" in a && a.document ? a : a.nodeType === 9 ? a.defaultView || a.parentWindow : false } var c = function (a, b) { return new c.fn.init(a, b) }, Ra = A.jQuery, Sa = A.$, s = A.document, T, Ta = /^[^<]*(<[\w\W]+>)[^>]*$|^#([\w-]+)$/, Ua = /^.[^:#\[\.,]*$/, Va = /\S/,
Wa = /^(\s|\u00A0)+|(\s|\u00A0)+$/g, Xa = /^<(\w+)\s*\/?>(?:<\/\1>)?$/, P = navigator.userAgent, xa = false, Q = [], L, $ = Object.prototype.toString, aa = Object.prototype.hasOwnProperty, ba = Array.prototype.push, R = Array.prototype.slice, ya = Array.prototype.indexOf; c.fn = c.prototype = { init: function (a, b) {
    var d, f; if (!a) return this; if (a.nodeType) { this.context = this[0] = a; this.length = 1; return this } if (a === "body" && !b) { this.context = s; this[0] = s.body; this.selector = "body"; this.length = 1; return this } if (typeof a === "string") if ((d = Ta.exec(a)) &&
(d[1] || !b)) if (d[1]) { f = b ? b.ownerDocument || b : s; if (a = Xa.exec(a)) if (c.isPlainObject(b)) { a = [s.createElement(a[1])]; c.fn.attr.call(a, b, true) } else a = [f.createElement(a[1])]; else { a = sa([d[1]], [f]); a = (a.cacheable ? a.fragment.cloneNode(true) : a.fragment).childNodes } return c.merge(this, a) } else { if (b = s.getElementById(d[2])) { if (b.id !== d[2]) return T.find(a); this.length = 1; this[0] = b } this.context = s; this.selector = a; return this } else if (!b && /^\w+$/.test(a)) {
        this.selector = a; this.context = s; a = s.getElementsByTagName(a); return c.merge(this,
a)
    } else return !b || b.jquery ? (b || T).find(a) : c(b).find(a); else if (c.isFunction(a)) return T.ready(a); if (a.selector !== w) { this.selector = a.selector; this.context = a.context } return c.makeArray(a, this)
}, selector: "", jquery: "1.4.2", length: 0, size: function () { return this.length }, toArray: function () { return R.call(this, 0) }, get: function (a) { return a == null ? this.toArray() : a < 0 ? this.slice(a)[0] : this[a] }, pushStack: function (a, b, d) {
    var f = c(); c.isArray(a) ? ba.apply(f, a) : c.merge(f, a); f.prevObject = this; f.context = this.context; if (b ===
"find") f.selector = this.selector + (this.selector ? " " : "") + d; else if (b) f.selector = this.selector + "." + b + "(" + d + ")"; return f
}, each: function (a, b) { return c.each(this, a, b) }, ready: function (a) { c.bindReady(); if (c.isReady) a.call(s, c); else Q && Q.push(a); return this }, eq: function (a) { return a === -1 ? this.slice(a) : this.slice(a, +a + 1) }, first: function () { return this.eq(0) }, last: function () { return this.eq(-1) }, slice: function () { return this.pushStack(R.apply(this, arguments), "slice", R.call(arguments).join(",")) }, map: function (a) {
    return this.pushStack(c.map(this,
function (b, d) { return a.call(b, d, b) }))
}, end: function () { return this.prevObject || c(null) }, push: ba, sort: [].sort, splice: [].splice
}; c.fn.init.prototype = c.fn; c.extend = c.fn.extend = function () {
    var a = arguments[0] || {}, b = 1, d = arguments.length, f = false, e, j, i, o; if (typeof a === "boolean") { f = a; a = arguments[1] || {}; b = 2 } if (typeof a !== "object" && !c.isFunction(a)) a = {}; if (d === b) { a = this; --b } for (; b < d; b++) if ((e = arguments[b]) != null) for (j in e) {
        i = a[j]; o = e[j]; if (a !== o) if (f && o && (c.isPlainObject(o) || c.isArray(o))) {
            i = i && (c.isPlainObject(i) ||
c.isArray(i)) ? i : c.isArray(o) ? [] : {}; a[j] = c.extend(f, i, o)
        } else if (o !== w) a[j] = o
    } return a
}; c.extend({ noConflict: function (a) { A.$ = Sa; if (a) A.jQuery = Ra; return c }, isReady: false, ready: function () { if (!c.isReady) { if (!s.body) return setTimeout(c.ready, 13); c.isReady = true; if (Q) { for (var a, b = 0; a = Q[b++]; ) a.call(s, c); Q = null } c.fn.triggerHandler && c(s).triggerHandler("ready") } }, bindReady: function () {
    if (!xa) {
        xa = true; if (s.readyState === "complete") return c.ready(); if (s.addEventListener) {
            s.addEventListener("DOMContentLoaded",
L, false); A.addEventListener("load", c.ready, false)
        } else if (s.attachEvent) { s.attachEvent("onreadystatechange", L); A.attachEvent("onload", c.ready); var a = false; try { a = A.frameElement == null } catch (b) { } s.documentElement.doScroll && a && ma() }
    }
}, isFunction: function (a) { return $.call(a) === "[object Function]" }, isArray: function (a) { return $.call(a) === "[object Array]" }, isPlainObject: function (a) {
    if (!a || $.call(a) !== "[object Object]" || a.nodeType || a.setInterval) return false; if (a.constructor && !aa.call(a, "constructor") && !aa.call(a.constructor.prototype,
"isPrototypeOf")) return false; var b; for (b in a); return b === w || aa.call(a, b)
}, isEmptyObject: function (a) { for (var b in a) return false; return true }, error: function (a) { throw a; }, parseJSON: function (a) {
    if (typeof a !== "string" || !a) return null; a = c.trim(a); if (/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) return A.JSON && A.JSON.parse ? A.JSON.parse(a) : (new Function("return " +
a))(); else c.error("Invalid JSON: " + a)
}, noop: function () { }, globalEval: function (a) { if (a && Va.test(a)) { var b = s.getElementsByTagName("head")[0] || s.documentElement, d = s.createElement("script"); d.type = "text/javascript"; if (c.support.scriptEval) d.appendChild(s.createTextNode(a)); else d.text = a; b.insertBefore(d, b.firstChild); b.removeChild(d) } }, nodeName: function (a, b) { return a.nodeName && a.nodeName.toUpperCase() === b.toUpperCase() }, each: function (a, b, d) {
    var f, e = 0, j = a.length, i = j === w || c.isFunction(a); if (d) if (i) for (f in a) {
        if (b.apply(a[f],
d) === false) break
    } else for (; e < j; ) { if (b.apply(a[e++], d) === false) break } else if (i) for (f in a) { if (b.call(a[f], f, a[f]) === false) break } else for (d = a[0]; e < j && b.call(d, e, d) !== false; d = a[++e]); return a
}, trim: function (a) { return (a || "").replace(Wa, "") }, makeArray: function (a, b) { b = b || []; if (a != null) a.length == null || typeof a === "string" || c.isFunction(a) || typeof a !== "function" && a.setInterval ? ba.call(b, a) : c.merge(b, a); return b }, inArray: function (a, b) {
    if (b.indexOf) return b.indexOf(a); for (var d = 0, f = b.length; d < f; d++) if (b[d] ===
a) return d; return -1
}, merge: function (a, b) { var d = a.length, f = 0; if (typeof b.length === "number") for (var e = b.length; f < e; f++) a[d++] = b[f]; else for (; b[f] !== w; ) a[d++] = b[f++]; a.length = d; return a }, grep: function (a, b, d) { for (var f = [], e = 0, j = a.length; e < j; e++) !d !== !b(a[e], e) && f.push(a[e]); return f }, map: function (a, b, d) { for (var f = [], e, j = 0, i = a.length; j < i; j++) { e = b(a[j], j, d); if (e != null) f[f.length] = e } return f.concat.apply([], f) }, guid: 1, proxy: function (a, b, d) {
    if (arguments.length === 2) if (typeof b === "string") { d = a; a = d[b]; b = w } else if (b &&
!c.isFunction(b)) { d = b; b = w } if (!b && a) b = function () { return a.apply(d || this, arguments) }; if (a) b.guid = a.guid = a.guid || b.guid || c.guid++; return b
}, uaMatch: function (a) { a = a.toLowerCase(); a = /(webkit)[ \/]([\w.]+)/.exec(a) || /(opera)(?:.*version)?[ \/]([\w.]+)/.exec(a) || /(msie) ([\w.]+)/.exec(a) || !/compatible/.test(a) && /(mozilla)(?:.*? rv:([\w.]+))?/.exec(a) || []; return { browser: a[1] || "", version: a[2] || "0"} }, browser: {}
}); P = c.uaMatch(P); if (P.browser) { c.browser[P.browser] = true; c.browser.version = P.version } if (c.browser.webkit) c.browser.safari =
true; if (ya) c.inArray = function (a, b) { return ya.call(b, a) }; T = c(s); if (s.addEventListener) L = function () { s.removeEventListener("DOMContentLoaded", L, false); c.ready() }; else if (s.attachEvent) L = function () { if (s.readyState === "complete") { s.detachEvent("onreadystatechange", L); c.ready() } }; (function () {
    c.support = {}; var a = s.documentElement, b = s.createElement("script"), d = s.createElement("div"), f = "script" + J(); d.style.display = "none"; d.innerHTML = "   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";
    var e = d.getElementsByTagName("*"), j = d.getElementsByTagName("a")[0]; if (!(!e || !e.length || !j)) {
        c.support = { leadingWhitespace: d.firstChild.nodeType === 3, tbody: !d.getElementsByTagName("tbody").length, htmlSerialize: !!d.getElementsByTagName("link").length, style: /red/.test(j.getAttribute("style")), hrefNormalized: j.getAttribute("href") === "/a", opacity: /^0.55$/.test(j.style.opacity), cssFloat: !!j.style.cssFloat, checkOn: d.getElementsByTagName("input")[0].value === "on", optSelected: s.createElement("select").appendChild(s.createElement("option")).selected,
            parentNode: d.removeChild(d.appendChild(s.createElement("div"))).parentNode === null, deleteExpando: true, checkClone: false, scriptEval: false, noCloneEvent: true, boxModel: null
        }; b.type = "text/javascript"; try { b.appendChild(s.createTextNode("window." + f + "=1;")) } catch (i) { } a.insertBefore(b, a.firstChild); if (A[f]) { c.support.scriptEval = true; delete A[f] } try { delete b.test } catch (o) { c.support.deleteExpando = false } a.removeChild(b); if (d.attachEvent && d.fireEvent) {
            d.attachEvent("onclick", function k() {
                c.support.noCloneEvent =
false; d.detachEvent("onclick", k)
            }); d.cloneNode(true).fireEvent("onclick")
        } d = s.createElement("div"); d.innerHTML = "<input type='radio' name='radiotest' checked='checked'/>"; a = s.createDocumentFragment(); a.appendChild(d.firstChild); c.support.checkClone = a.cloneNode(true).cloneNode(true).lastChild.checked; c(function () { var k = s.createElement("div"); k.style.width = k.style.paddingLeft = "1px"; s.body.appendChild(k); c.boxModel = c.support.boxModel = k.offsetWidth === 2; s.body.removeChild(k).style.display = "none" }); a = function (k) {
            var n =
s.createElement("div"); k = "on" + k; var r = k in n; if (!r) { n.setAttribute(k, "return;"); r = typeof n[k] === "function" } return r
        }; c.support.submitBubbles = a("submit"); c.support.changeBubbles = a("change"); a = b = d = e = j = null
    }
})(); c.props = { "for": "htmlFor", "class": "className", readonly: "readOnly", maxlength: "maxLength", cellspacing: "cellSpacing", rowspan: "rowSpan", colspan: "colSpan", tabindex: "tabIndex", usemap: "useMap", frameborder: "frameBorder" }; var G = "jQuery" + J(), Ya = 0, za = {}; c.extend({ cache: {}, expando: G, noData: { embed: true, object: true,
    applet: true
}, data: function (a, b, d) { if (!(a.nodeName && c.noData[a.nodeName.toLowerCase()])) { a = a == A ? za : a; var f = a[G], e = c.cache; if (!f && typeof b === "string" && d === w) return null; f || (f = ++Ya); if (typeof b === "object") { a[G] = f; e[f] = c.extend(true, {}, b) } else if (!e[f]) { a[G] = f; e[f] = {} } a = e[f]; if (d !== w) a[b] = d; return typeof b === "string" ? a[b] : a } }, removeData: function (a, b) {
    if (!(a.nodeName && c.noData[a.nodeName.toLowerCase()])) {
        a = a == A ? za : a; var d = a[G], f = c.cache, e = f[d]; if (b) { if (e) { delete e[b]; c.isEmptyObject(e) && c.removeData(a) } } else {
            if (c.support.deleteExpando) delete a[c.expando];
            else a.removeAttribute && a.removeAttribute(c.expando); delete f[d]
        }
    }
}
}); c.fn.extend({ data: function (a, b) {
    if (typeof a === "undefined" && this.length) return c.data(this[0]); else if (typeof a === "object") return this.each(function () { c.data(this, a) }); var d = a.split("."); d[1] = d[1] ? "." + d[1] : ""; if (b === w) { var f = this.triggerHandler("getData" + d[1] + "!", [d[0]]); if (f === w && this.length) f = c.data(this[0], a); return f === w && d[1] ? this.data(d[0]) : f } else return this.trigger("setData" + d[1] + "!", [d[0], b]).each(function () {
        c.data(this,
a, b)
    })
}, removeData: function (a) { return this.each(function () { c.removeData(this, a) }) }
}); c.extend({ queue: function (a, b, d) { if (a) { b = (b || "fx") + "queue"; var f = c.data(a, b); if (!d) return f || []; if (!f || c.isArray(d)) f = c.data(a, b, c.makeArray(d)); else f.push(d); return f } }, dequeue: function (a, b) { b = b || "fx"; var d = c.queue(a, b), f = d.shift(); if (f === "inprogress") f = d.shift(); if (f) { b === "fx" && d.unshift("inprogress"); f.call(a, function () { c.dequeue(a, b) }) } } }); c.fn.extend({ queue: function (a, b) {
    if (typeof a !== "string") { b = a; a = "fx" } if (b ===
w) return c.queue(this[0], a); return this.each(function () { var d = c.queue(this, a, b); a === "fx" && d[0] !== "inprogress" && c.dequeue(this, a) })
}, dequeue: function (a) { return this.each(function () { c.dequeue(this, a) }) }, delay: function (a, b) { a = c.fx ? c.fx.speeds[a] || a : a; b = b || "fx"; return this.queue(b, function () { var d = this; setTimeout(function () { c.dequeue(d, b) }, a) }) }, clearQueue: function (a) { return this.queue(a || "fx", []) }
}); var Aa = /[\n\t]/g, ca = /\s+/, Za = /\r/g, $a = /href|src|style/, ab = /(button|input)/i, bb = /(button|input|object|select|textarea)/i,
cb = /^(a|area)$/i, Ba = /radio|checkbox/; c.fn.extend({ attr: function (a, b) { return X(this, a, b, true, c.attr) }, removeAttr: function (a) { return this.each(function () { c.attr(this, a, ""); this.nodeType === 1 && this.removeAttribute(a) }) }, addClass: function (a) {
    if (c.isFunction(a)) return this.each(function (n) { var r = c(this); r.addClass(a.call(this, n, r.attr("class"))) }); if (a && typeof a === "string") for (var b = (a || "").split(ca), d = 0, f = this.length; d < f; d++) {
        var e = this[d]; if (e.nodeType === 1) if (e.className) {
            for (var j = " " + e.className + " ",
i = e.className, o = 0, k = b.length; o < k; o++) if (j.indexOf(" " + b[o] + " ") < 0) i += " " + b[o]; e.className = c.trim(i)
        } else e.className = a
    } return this
}, removeClass: function (a) {
    if (c.isFunction(a)) return this.each(function (k) { var n = c(this); n.removeClass(a.call(this, k, n.attr("class"))) }); if (a && typeof a === "string" || a === w) for (var b = (a || "").split(ca), d = 0, f = this.length; d < f; d++) {
        var e = this[d]; if (e.nodeType === 1 && e.className) if (a) {
            for (var j = (" " + e.className + " ").replace(Aa, " "), i = 0, o = b.length; i < o; i++) j = j.replace(" " + b[i] + " ",
" "); e.className = c.trim(j)
        } else e.className = ""
    } return this
}, toggleClass: function (a, b) {
    var d = typeof a, f = typeof b === "boolean"; if (c.isFunction(a)) return this.each(function (e) { var j = c(this); j.toggleClass(a.call(this, e, j.attr("class"), b), b) }); return this.each(function () {
        if (d === "string") for (var e, j = 0, i = c(this), o = b, k = a.split(ca); e = k[j++]; ) { o = f ? o : !i.hasClass(e); i[o ? "addClass" : "removeClass"](e) } else if (d === "undefined" || d === "boolean") {
            this.className && c.data(this, "__className__", this.className); this.className =
this.className || a === false ? "" : c.data(this, "__className__") || ""
        }
    })
}, hasClass: function (a) { a = " " + a + " "; for (var b = 0, d = this.length; b < d; b++) if ((" " + this[b].className + " ").replace(Aa, " ").indexOf(a) > -1) return true; return false }, val: function (a) {
    if (a === w) {
        var b = this[0]; if (b) {
            if (c.nodeName(b, "option")) return (b.attributes.value || {}).specified ? b.value : b.text; if (c.nodeName(b, "select")) {
                var d = b.selectedIndex, f = [], e = b.options; b = b.type === "select-one"; if (d < 0) return null; var j = b ? d : 0; for (d = b ? d + 1 : e.length; j < d; j++) {
                    var i =
e[j]; if (i.selected) { a = c(i).val(); if (b) return a; f.push(a) }
                } return f
            } if (Ba.test(b.type) && !c.support.checkOn) return b.getAttribute("value") === null ? "on" : b.value; return (b.value || "").replace(Za, "")
        } return w
    } var o = c.isFunction(a); return this.each(function (k) {
        var n = c(this), r = a; if (this.nodeType === 1) {
            if (o) r = a.call(this, k, n.val()); if (typeof r === "number") r += ""; if (c.isArray(r) && Ba.test(this.type)) this.checked = c.inArray(n.val(), r) >= 0; else if (c.nodeName(this, "select")) {
                var u = c.makeArray(r); c("option", this).each(function () {
                    this.selected =
c.inArray(c(this).val(), u) >= 0
                }); if (!u.length) this.selectedIndex = -1
            } else this.value = r
        }
    })
}
}); c.extend({ attrFn: { val: true, css: true, html: true, text: true, data: true, width: true, height: true, offset: true }, attr: function (a, b, d, f) {
    if (!a || a.nodeType === 3 || a.nodeType === 8) return w; if (f && b in c.attrFn) return c(a)[b](d); f = a.nodeType !== 1 || !c.isXMLDoc(a); var e = d !== w; b = f && c.props[b] || b; if (a.nodeType === 1) {
        var j = $a.test(b); if (b in a && f && !j) {
            if (e) {
                b === "type" && ab.test(a.nodeName) && a.parentNode && c.error("type property can't be changed");
                a[b] = d
            } if (c.nodeName(a, "form") && a.getAttributeNode(b)) return a.getAttributeNode(b).nodeValue; if (b === "tabIndex") return (b = a.getAttributeNode("tabIndex")) && b.specified ? b.value : bb.test(a.nodeName) || cb.test(a.nodeName) && a.href ? 0 : w; return a[b]
        } if (!c.support.style && f && b === "style") { if (e) a.style.cssText = "" + d; return a.style.cssText } e && a.setAttribute(b, "" + d); a = !c.support.hrefNormalized && f && j ? a.getAttribute(b, 2) : a.getAttribute(b); return a === null ? w : a
    } return c.style(a, b, d)
}
}); var O = /\.(.*)$/, db = function (a) {
    return a.replace(/[^\w\s\.\|`]/g,
function (b) { return "\\" + b })
}; c.event = { add: function (a, b, d, f) {
    if (!(a.nodeType === 3 || a.nodeType === 8)) {
        if (a.setInterval && a !== A && !a.frameElement) a = A; var e, j; if (d.handler) { e = d; d = e.handler } if (!d.guid) d.guid = c.guid++; if (j = c.data(a)) {
            var i = j.events = j.events || {}, o = j.handle; if (!o) j.handle = o = function () { return typeof c !== "undefined" && !c.event.triggered ? c.event.handle.apply(o.elem, arguments) : w }; o.elem = a; b = b.split(" "); for (var k, n = 0, r; k = b[n++]; ) {
                j = e ? c.extend({}, e) : { handler: d, data: f }; if (k.indexOf(".") > -1) {
                    r = k.split(".");
                    k = r.shift(); j.namespace = r.slice(0).sort().join(".")
                } else { r = []; j.namespace = "" } j.type = k; j.guid = d.guid; var u = i[k], z = c.event.special[k] || {}; if (!u) { u = i[k] = []; if (!z.setup || z.setup.call(a, f, r, o) === false) if (a.addEventListener) a.addEventListener(k, o, false); else a.attachEvent && a.attachEvent("on" + k, o) } if (z.add) { z.add.call(a, j); if (!j.handler.guid) j.handler.guid = d.guid } u.push(j); c.event.global[k] = true
            } a = null
        }
    }
}, global: {}, remove: function (a, b, d, f) {
    if (!(a.nodeType === 3 || a.nodeType === 8)) {
        var e, j = 0, i, o, k, n, r, u, z = c.data(a),
C = z && z.events; if (z && C) {
            if (b && b.type) { d = b.handler; b = b.type } if (!b || typeof b === "string" && b.charAt(0) === ".") { b = b || ""; for (e in C) c.event.remove(a, e + b) } else {
                for (b = b.split(" "); e = b[j++]; ) {
                    n = e; i = e.indexOf(".") < 0; o = []; if (!i) { o = e.split("."); e = o.shift(); k = new RegExp("(^|\\.)" + c.map(o.slice(0).sort(), db).join("\\.(?:.*\\.)?") + "(\\.|$)") } if (r = C[e]) if (d) {
                        n = c.event.special[e] || {}; for (B = f || 0; B < r.length; B++) {
                            u = r[B]; if (d.guid === u.guid) {
                                if (i || k.test(u.namespace)) { f == null && r.splice(B--, 1); n.remove && n.remove.call(a, u) } if (f !=
null) break
                            }
                        } if (r.length === 0 || f != null && r.length === 1) { if (!n.teardown || n.teardown.call(a, o) === false) Ca(a, e, z.handle); delete C[e] }
                    } else for (var B = 0; B < r.length; B++) { u = r[B]; if (i || k.test(u.namespace)) { c.event.remove(a, n, u.handler, B); r.splice(B--, 1) } }
                } if (c.isEmptyObject(C)) { if (b = z.handle) b.elem = null; delete z.events; delete z.handle; c.isEmptyObject(z) && c.removeData(a) }
            }
        }
    }
}, trigger: function (a, b, d, f) {
    var e = a.type || a; if (!f) {
        a = typeof a === "object" ? a[G] ? a : c.extend(c.Event(e), a) : c.Event(e); if (e.indexOf("!") >= 0) {
            a.type =
e = e.slice(0, -1); a.exclusive = true
        } if (!d) { a.stopPropagation(); c.event.global[e] && c.each(c.cache, function () { this.events && this.events[e] && c.event.trigger(a, b, this.handle.elem) }) } if (!d || d.nodeType === 3 || d.nodeType === 8) return w; a.result = w; a.target = d; b = c.makeArray(b); b.unshift(a)
    } a.currentTarget = d; (f = c.data(d, "handle")) && f.apply(d, b); f = d.parentNode || d.ownerDocument; try { if (!(d && d.nodeName && c.noData[d.nodeName.toLowerCase()])) if (d["on" + e] && d["on" + e].apply(d, b) === false) a.result = false } catch (j) { } if (!a.isPropagationStopped() &&
f) c.event.trigger(a, b, f, true); else if (!a.isDefaultPrevented()) { f = a.target; var i, o = c.nodeName(f, "a") && e === "click", k = c.event.special[e] || {}; if ((!k._default || k._default.call(d, a) === false) && !o && !(f && f.nodeName && c.noData[f.nodeName.toLowerCase()])) { try { if (f[e]) { if (i = f["on" + e]) f["on" + e] = null; c.event.triggered = true; f[e]() } } catch (n) { } if (i) f["on" + e] = i; c.event.triggered = false } }
}, handle: function (a) {
    var b, d, f, e; a = arguments[0] = c.event.fix(a || A.event); a.currentTarget = this; b = a.type.indexOf(".") < 0 && !a.exclusive;
    if (!b) { d = a.type.split("."); a.type = d.shift(); f = new RegExp("(^|\\.)" + d.slice(0).sort().join("\\.(?:.*\\.)?") + "(\\.|$)") } e = c.data(this, "events"); d = e[a.type]; if (e && d) { d = d.slice(0); e = 0; for (var j = d.length; e < j; e++) { var i = d[e]; if (b || f.test(i.namespace)) { a.handler = i.handler; a.data = i.data; a.handleObj = i; i = i.handler.apply(this, arguments); if (i !== w) { a.result = i; if (i === false) { a.preventDefault(); a.stopPropagation() } } if (a.isImmediatePropagationStopped()) break } } } return a.result
}, props: "altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
    fix: function (a) {
        if (a[G]) return a; var b = a; a = c.Event(b); for (var d = this.props.length, f; d; ) { f = this.props[--d]; a[f] = b[f] } if (!a.target) a.target = a.srcElement || s; if (a.target.nodeType === 3) a.target = a.target.parentNode; if (!a.relatedTarget && a.fromElement) a.relatedTarget = a.fromElement === a.target ? a.toElement : a.fromElement; if (a.pageX == null && a.clientX != null) {
            b = s.documentElement; d = s.body; a.pageX = a.clientX + (b && b.scrollLeft || d && d.scrollLeft || 0) - (b && b.clientLeft || d && d.clientLeft || 0); a.pageY = a.clientY + (b && b.scrollTop ||
d && d.scrollTop || 0) - (b && b.clientTop || d && d.clientTop || 0)
        } if (!a.which && (a.charCode || a.charCode === 0 ? a.charCode : a.keyCode)) a.which = a.charCode || a.keyCode; if (!a.metaKey && a.ctrlKey) a.metaKey = a.ctrlKey; if (!a.which && a.button !== w) a.which = a.button & 1 ? 1 : a.button & 2 ? 3 : a.button & 4 ? 2 : 0; return a
    }, guid: 1E8, proxy: c.proxy, special: { ready: { setup: c.bindReady, teardown: c.noop }, live: { add: function (a) { c.event.add(this, a.origType, c.extend({}, a, { handler: oa })) }, remove: function (a) {
        var b = true, d = a.origType.replace(O, ""); c.each(c.data(this,
"events").live || [], function () { if (d === this.origType.replace(O, "")) return b = false }); b && c.event.remove(this, a.origType, oa)
    }
    }, beforeunload: { setup: function (a, b, d) { if (this.setInterval) this.onbeforeunload = d; return false }, teardown: function (a, b) { if (this.onbeforeunload === b) this.onbeforeunload = null } }
    }
}; var Ca = s.removeEventListener ? function (a, b, d) { a.removeEventListener(b, d, false) } : function (a, b, d) { a.detachEvent("on" + b, d) }; c.Event = function (a) {
    if (!this.preventDefault) return new c.Event(a); if (a && a.type) {
        this.originalEvent =
a; this.type = a.type
    } else this.type = a; this.timeStamp = J(); this[G] = true
}; c.Event.prototype = { preventDefault: function () { this.isDefaultPrevented = Z; var a = this.originalEvent; if (a) { a.preventDefault && a.preventDefault(); a.returnValue = false } }, stopPropagation: function () { this.isPropagationStopped = Z; var a = this.originalEvent; if (a) { a.stopPropagation && a.stopPropagation(); a.cancelBubble = true } }, stopImmediatePropagation: function () { this.isImmediatePropagationStopped = Z; this.stopPropagation() }, isDefaultPrevented: Y, isPropagationStopped: Y,
    isImmediatePropagationStopped: Y
}; var Da = function (a) { var b = a.relatedTarget; try { for (; b && b !== this; ) b = b.parentNode; if (b !== this) { a.type = a.data; c.event.handle.apply(this, arguments) } } catch (d) { } }, Ea = function (a) { a.type = a.data; c.event.handle.apply(this, arguments) }; c.each({ mouseenter: "mouseover", mouseleave: "mouseout" }, function (a, b) { c.event.special[a] = { setup: function (d) { c.event.add(this, b, d && d.selector ? Ea : Da, a) }, teardown: function (d) { c.event.remove(this, b, d && d.selector ? Ea : Da) } } }); if (!c.support.submitBubbles) c.event.special.submit =
{ setup: function () { if (this.nodeName.toLowerCase() !== "form") { c.event.add(this, "click.specialSubmit", function (a) { var b = a.target, d = b.type; if ((d === "submit" || d === "image") && c(b).closest("form").length) return na("submit", this, arguments) }); c.event.add(this, "keypress.specialSubmit", function (a) { var b = a.target, d = b.type; if ((d === "text" || d === "password") && c(b).closest("form").length && a.keyCode === 13) return na("submit", this, arguments) }) } else return false }, teardown: function () { c.event.remove(this, ".specialSubmit") } };
    if (!c.support.changeBubbles) {
        var da = /textarea|input|select/i, ea, Fa = function (a) { var b = a.type, d = a.value; if (b === "radio" || b === "checkbox") d = a.checked; else if (b === "select-multiple") d = a.selectedIndex > -1 ? c.map(a.options, function (f) { return f.selected }).join("-") : ""; else if (a.nodeName.toLowerCase() === "select") d = a.selectedIndex; return d }, fa = function (a, b) {
            var d = a.target, f, e; if (!(!da.test(d.nodeName) || d.readOnly)) {
                f = c.data(d, "_change_data"); e = Fa(d); if (a.type !== "focusout" || d.type !== "radio") c.data(d, "_change_data",
e); if (!(f === w || e === f)) if (f != null || e) { a.type = "change"; return c.event.trigger(a, b, d) }
            }
        }; c.event.special.change = { filters: { focusout: fa, click: function (a) { var b = a.target, d = b.type; if (d === "radio" || d === "checkbox" || b.nodeName.toLowerCase() === "select") return fa.call(this, a) }, keydown: function (a) { var b = a.target, d = b.type; if (a.keyCode === 13 && b.nodeName.toLowerCase() !== "textarea" || a.keyCode === 32 && (d === "checkbox" || d === "radio") || d === "select-multiple") return fa.call(this, a) }, beforeactivate: function (a) {
            a = a.target; c.data(a,
"_change_data", Fa(a))
        }
        }, setup: function () { if (this.type === "file") return false; for (var a in ea) c.event.add(this, a + ".specialChange", ea[a]); return da.test(this.nodeName) }, teardown: function () { c.event.remove(this, ".specialChange"); return da.test(this.nodeName) }
        }; ea = c.event.special.change.filters
    } s.addEventListener && c.each({ focus: "focusin", blur: "focusout" }, function (a, b) {
        function d(f) { f = c.event.fix(f); f.type = b; return c.event.handle.call(this, f) } c.event.special[b] = { setup: function () {
            this.addEventListener(a,
d, true)
        }, teardown: function () { this.removeEventListener(a, d, true) }
        }
    }); c.each(["bind", "one"], function (a, b) { c.fn[b] = function (d, f, e) { if (typeof d === "object") { for (var j in d) this[b](j, f, d[j], e); return this } if (c.isFunction(f)) { e = f; f = w } var i = b === "one" ? c.proxy(e, function (k) { c(this).unbind(k, i); return e.apply(this, arguments) }) : e; if (d === "unload" && b !== "one") this.one(d, f, e); else { j = 0; for (var o = this.length; j < o; j++) c.event.add(this[j], d, i, f) } return this } }); c.fn.extend({ unbind: function (a, b) {
        if (typeof a === "object" &&
!a.preventDefault) for (var d in a) this.unbind(d, a[d]); else { d = 0; for (var f = this.length; d < f; d++) c.event.remove(this[d], a, b) } return this
    }, delegate: function (a, b, d, f) { return this.live(b, d, f, a) }, undelegate: function (a, b, d) { return arguments.length === 0 ? this.unbind("live") : this.die(b, null, d, a) }, trigger: function (a, b) { return this.each(function () { c.event.trigger(a, b, this) }) }, triggerHandler: function (a, b) { if (this[0]) { a = c.Event(a); a.preventDefault(); a.stopPropagation(); c.event.trigger(a, b, this[0]); return a.result } },
        toggle: function (a) { for (var b = arguments, d = 1; d < b.length; ) c.proxy(a, b[d++]); return this.click(c.proxy(a, function (f) { var e = (c.data(this, "lastToggle" + a.guid) || 0) % d; c.data(this, "lastToggle" + a.guid, e + 1); f.preventDefault(); return b[e].apply(this, arguments) || false })) }, hover: function (a, b) { return this.mouseenter(a).mouseleave(b || a) }
    }); var Ga = { focus: "focusin", blur: "focusout", mouseenter: "mouseover", mouseleave: "mouseout" }; c.each(["live", "die"], function (a, b) {
        c.fn[b] = function (d, f, e, j) {
            var i, o = 0, k, n, r = j || this.selector,
u = j ? this : c(this.context); if (c.isFunction(f)) { e = f; f = w } for (d = (d || "").split(" "); (i = d[o++]) != null; ) { j = O.exec(i); k = ""; if (j) { k = j[0]; i = i.replace(O, "") } if (i === "hover") d.push("mouseenter" + k, "mouseleave" + k); else { n = i; if (i === "focus" || i === "blur") { d.push(Ga[i] + k); i += k } else i = (Ga[i] || i) + k; b === "live" ? u.each(function () { c.event.add(this, pa(i, r), { data: f, selector: r, handler: e, origType: i, origHandler: e, preType: n }) }) : u.unbind(pa(i, r), e) } } return this
        }
    }); c.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),
function (a, b) { c.fn[b] = function (d) { return d ? this.bind(b, d) : this.trigger(b) }; if (c.attrFn) c.attrFn[b] = true }); A.attachEvent && !A.addEventListener && A.attachEvent("onunload", function () { for (var a in c.cache) if (c.cache[a].handle) try { c.event.remove(c.cache[a].handle.elem) } catch (b) { } }); (function () {
    function a(g) { for (var h = "", l, m = 0; g[m]; m++) { l = g[m]; if (l.nodeType === 3 || l.nodeType === 4) h += l.nodeValue; else if (l.nodeType !== 8) h += a(l.childNodes) } return h } function b(g, h, l, m, q, p) {
        q = 0; for (var v = m.length; q < v; q++) {
            var t = m[q];
            if (t) { t = t[g]; for (var y = false; t; ) { if (t.sizcache === l) { y = m[t.sizset]; break } if (t.nodeType === 1 && !p) { t.sizcache = l; t.sizset = q } if (t.nodeName.toLowerCase() === h) { y = t; break } t = t[g] } m[q] = y }
        }
    } function d(g, h, l, m, q, p) { q = 0; for (var v = m.length; q < v; q++) { var t = m[q]; if (t) { t = t[g]; for (var y = false; t; ) { if (t.sizcache === l) { y = m[t.sizset]; break } if (t.nodeType === 1) { if (!p) { t.sizcache = l; t.sizset = q } if (typeof h !== "string") { if (t === h) { y = true; break } } else if (k.filter(h, [t]).length > 0) { y = t; break } } t = t[g] } m[q] = y } } } var f = /((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
e = 0, j = Object.prototype.toString, i = false, o = true; [0, 0].sort(function () { o = false; return 0 }); var k = function (g, h, l, m) {
    l = l || []; var q = h = h || s; if (h.nodeType !== 1 && h.nodeType !== 9) return []; if (!g || typeof g !== "string") return l; for (var p = [], v, t, y, S, H = true, M = x(h), I = g; (f.exec(""), v = f.exec(I)) !== null; ) { I = v[3]; p.push(v[1]); if (v[2]) { S = v[3]; break } } if (p.length > 1 && r.exec(g)) if (p.length === 2 && n.relative[p[0]]) t = ga(p[0] + p[1], h); else for (t = n.relative[p[0]] ? [h] : k(p.shift(), h); p.length; ) {
        g = p.shift(); if (n.relative[g]) g += p.shift();
        t = ga(g, t)
    } else { if (!m && p.length > 1 && h.nodeType === 9 && !M && n.match.ID.test(p[0]) && !n.match.ID.test(p[p.length - 1])) { v = k.find(p.shift(), h, M); h = v.expr ? k.filter(v.expr, v.set)[0] : v.set[0] } if (h) { v = m ? { expr: p.pop(), set: z(m)} : k.find(p.pop(), p.length === 1 && (p[0] === "~" || p[0] === "+") && h.parentNode ? h.parentNode : h, M); t = v.expr ? k.filter(v.expr, v.set) : v.set; if (p.length > 0) y = z(t); else H = false; for (; p.length; ) { var D = p.pop(); v = D; if (n.relative[D]) v = p.pop(); else D = ""; if (v == null) v = h; n.relative[D](y, v, M) } } else y = [] } y || (y = t); y || k.error(D ||
g); if (j.call(y) === "[object Array]") if (H) if (h && h.nodeType === 1) for (g = 0; y[g] != null; g++) { if (y[g] && (y[g] === true || y[g].nodeType === 1 && E(h, y[g]))) l.push(t[g]) } else for (g = 0; y[g] != null; g++) y[g] && y[g].nodeType === 1 && l.push(t[g]); else l.push.apply(l, y); else z(y, l); if (S) { k(S, q, l, m); k.uniqueSort(l) } return l
}; k.uniqueSort = function (g) { if (B) { i = o; g.sort(B); if (i) for (var h = 1; h < g.length; h++) g[h] === g[h - 1] && g.splice(h--, 1) } return g }; k.matches = function (g, h) { return k(g, null, null, h) }; k.find = function (g, h, l) {
    var m, q; if (!g) return [];
    for (var p = 0, v = n.order.length; p < v; p++) { var t = n.order[p]; if (q = n.leftMatch[t].exec(g)) { var y = q[1]; q.splice(1, 1); if (y.substr(y.length - 1) !== "\\") { q[1] = (q[1] || "").replace(/\\/g, ""); m = n.find[t](q, h, l); if (m != null) { g = g.replace(n.match[t], ""); break } } } } m || (m = h.getElementsByTagName("*")); return { set: m, expr: g }
}; k.filter = function (g, h, l, m) {
    for (var q = g, p = [], v = h, t, y, S = h && h[0] && x(h[0]); g && h.length; ) {
        for (var H in n.filter) if ((t = n.leftMatch[H].exec(g)) != null && t[2]) {
            var M = n.filter[H], I, D; D = t[1]; y = false; t.splice(1, 1); if (D.substr(D.length -
1) !== "\\") { if (v === p) p = []; if (n.preFilter[H]) if (t = n.preFilter[H](t, v, l, p, m, S)) { if (t === true) continue } else y = I = true; if (t) for (var U = 0; (D = v[U]) != null; U++) if (D) { I = M(D, t, U, v); var Ha = m ^ !!I; if (l && I != null) if (Ha) y = true; else v[U] = false; else if (Ha) { p.push(D); y = true } } if (I !== w) { l || (v = p); g = g.replace(n.match[H], ""); if (!y) return []; break } }
        } if (g === q) if (y == null) k.error(g); else break; q = g
    } return v
}; k.error = function (g) { throw "Syntax error, unrecognized expression: " + g; }; var n = k.selectors = { order: ["ID", "NAME", "TAG"], match: { ID: /#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,
    CLASS: /\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/, NAME: /\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/, ATTR: /\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/, TAG: /^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/, CHILD: /:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/, POS: /:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/, PSEUDO: /:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/
}, leftMatch: {}, attrMap: { "class": "className", "for": "htmlFor" }, attrHandle: { href: function (g) { return g.getAttribute("href") } },
    relative: { "+": function (g, h) { var l = typeof h === "string", m = l && !/\W/.test(h); l = l && !m; if (m) h = h.toLowerCase(); m = 0; for (var q = g.length, p; m < q; m++) if (p = g[m]) { for (; (p = p.previousSibling) && p.nodeType !== 1; ); g[m] = l || p && p.nodeName.toLowerCase() === h ? p || false : p === h } l && k.filter(h, g, true) }, ">": function (g, h) {
        var l = typeof h === "string"; if (l && !/\W/.test(h)) { h = h.toLowerCase(); for (var m = 0, q = g.length; m < q; m++) { var p = g[m]; if (p) { l = p.parentNode; g[m] = l.nodeName.toLowerCase() === h ? l : false } } } else {
            m = 0; for (q = g.length; m < q; m++) if (p = g[m]) g[m] =
l ? p.parentNode : p.parentNode === h; l && k.filter(h, g, true)
        }
    }, "": function (g, h, l) { var m = e++, q = d; if (typeof h === "string" && !/\W/.test(h)) { var p = h = h.toLowerCase(); q = b } q("parentNode", h, m, g, p, l) }, "~": function (g, h, l) { var m = e++, q = d; if (typeof h === "string" && !/\W/.test(h)) { var p = h = h.toLowerCase(); q = b } q("previousSibling", h, m, g, p, l) }
    }, find: { ID: function (g, h, l) { if (typeof h.getElementById !== "undefined" && !l) return (g = h.getElementById(g[1])) ? [g] : [] }, NAME: function (g, h) {
        if (typeof h.getElementsByName !== "undefined") {
            var l = [];
            h = h.getElementsByName(g[1]); for (var m = 0, q = h.length; m < q; m++) h[m].getAttribute("name") === g[1] && l.push(h[m]); return l.length === 0 ? null : l
        }
    }, TAG: function (g, h) { return h.getElementsByTagName(g[1]) }
    }, preFilter: { CLASS: function (g, h, l, m, q, p) { g = " " + g[1].replace(/\\/g, "") + " "; if (p) return g; p = 0; for (var v; (v = h[p]) != null; p++) if (v) if (q ^ (v.className && (" " + v.className + " ").replace(/[\t\n]/g, " ").indexOf(g) >= 0)) l || m.push(v); else if (l) h[p] = false; return false }, ID: function (g) { return g[1].replace(/\\/g, "") }, TAG: function (g) { return g[1].toLowerCase() },
        CHILD: function (g) { if (g[1] === "nth") { var h = /(-?)(\d*)n((?:\+|-)?\d*)/.exec(g[2] === "even" && "2n" || g[2] === "odd" && "2n+1" || !/\D/.test(g[2]) && "0n+" + g[2] || g[2]); g[2] = h[1] + (h[2] || 1) - 0; g[3] = h[3] - 0 } g[0] = e++; return g }, ATTR: function (g, h, l, m, q, p) { h = g[1].replace(/\\/g, ""); if (!p && n.attrMap[h]) g[1] = n.attrMap[h]; if (g[2] === "~=") g[4] = " " + g[4] + " "; return g }, PSEUDO: function (g, h, l, m, q) {
            if (g[1] === "not") if ((f.exec(g[3]) || "").length > 1 || /^\w/.test(g[3])) g[3] = k(g[3], null, null, h); else {
                g = k.filter(g[3], h, l, true ^ q); l || m.push.apply(m,
g); return false
            } else if (n.match.POS.test(g[0]) || n.match.CHILD.test(g[0])) return true; return g
        }, POS: function (g) { g.unshift(true); return g }
    }, filters: { enabled: function (g) { return g.disabled === false && g.type !== "hidden" }, disabled: function (g) { return g.disabled === true }, checked: function (g) { return g.checked === true }, selected: function (g) { return g.selected === true }, parent: function (g) { return !!g.firstChild }, empty: function (g) { return !g.firstChild }, has: function (g, h, l) { return !!k(l[3], g).length }, header: function (g) { return /h\d/i.test(g.nodeName) },
        text: function (g) { return "text" === g.type }, radio: function (g) { return "radio" === g.type }, checkbox: function (g) { return "checkbox" === g.type }, file: function (g) { return "file" === g.type }, password: function (g) { return "password" === g.type }, submit: function (g) { return "submit" === g.type }, image: function (g) { return "image" === g.type }, reset: function (g) { return "reset" === g.type }, button: function (g) { return "button" === g.type || g.nodeName.toLowerCase() === "button" }, input: function (g) { return /input|select|textarea|button/i.test(g.nodeName) }
    },
    setFilters: { first: function (g, h) { return h === 0 }, last: function (g, h, l, m) { return h === m.length - 1 }, even: function (g, h) { return h % 2 === 0 }, odd: function (g, h) { return h % 2 === 1 }, lt: function (g, h, l) { return h < l[3] - 0 }, gt: function (g, h, l) { return h > l[3] - 0 }, nth: function (g, h, l) { return l[3] - 0 === h }, eq: function (g, h, l) { return l[3] - 0 === h } }, filter: { PSEUDO: function (g, h, l, m) {
        var q = h[1], p = n.filters[q]; if (p) return p(g, l, h, m); else if (q === "contains") return (g.textContent || g.innerText || a([g]) || "").indexOf(h[3]) >= 0; else if (q === "not") {
            h =
h[3]; l = 0; for (m = h.length; l < m; l++) if (h[l] === g) return false; return true
        } else k.error("Syntax error, unrecognized expression: " + q)
    }, CHILD: function (g, h) {
        var l = h[1], m = g; switch (l) {
            case "only": case "first": for (; m = m.previousSibling; ) if (m.nodeType === 1) return false; if (l === "first") return true; m = g; case "last": for (; m = m.nextSibling; ) if (m.nodeType === 1) return false; return true; case "nth": l = h[2]; var q = h[3]; if (l === 1 && q === 0) return true; h = h[0]; var p = g.parentNode; if (p && (p.sizcache !== h || !g.nodeIndex)) {
                    var v = 0; for (m = p.firstChild; m; m =
m.nextSibling) if (m.nodeType === 1) m.nodeIndex = ++v; p.sizcache = h
                } g = g.nodeIndex - q; return l === 0 ? g === 0 : g % l === 0 && g / l >= 0
        }
    }, ID: function (g, h) { return g.nodeType === 1 && g.getAttribute("id") === h }, TAG: function (g, h) { return h === "*" && g.nodeType === 1 || g.nodeName.toLowerCase() === h }, CLASS: function (g, h) { return (" " + (g.className || g.getAttribute("class")) + " ").indexOf(h) > -1 }, ATTR: function (g, h) {
        var l = h[1]; g = n.attrHandle[l] ? n.attrHandle[l](g) : g[l] != null ? g[l] : g.getAttribute(l); l = g + ""; var m = h[2]; h = h[4]; return g == null ? m === "!=" : m ===
"=" ? l === h : m === "*=" ? l.indexOf(h) >= 0 : m === "~=" ? (" " + l + " ").indexOf(h) >= 0 : !h ? l && g !== false : m === "!=" ? l !== h : m === "^=" ? l.indexOf(h) === 0 : m === "$=" ? l.substr(l.length - h.length) === h : m === "|=" ? l === h || l.substr(0, h.length + 1) === h + "-" : false
    }, POS: function (g, h, l, m) { var q = n.setFilters[h[2]]; if (q) return q(g, l, h, m) }
    }
}, r = n.match.POS; for (var u in n.match) {
        n.match[u] = new RegExp(n.match[u].source + /(?![^\[]*\])(?![^\(]*\))/.source); n.leftMatch[u] = new RegExp(/(^(?:.|\r|\n)*?)/.source + n.match[u].source.replace(/\\(\d+)/g, function (g,
h) { return "\\" + (h - 0 + 1) }))
    } var z = function (g, h) { g = Array.prototype.slice.call(g, 0); if (h) { h.push.apply(h, g); return h } return g }; try { Array.prototype.slice.call(s.documentElement.childNodes, 0) } catch (C) { z = function (g, h) { h = h || []; if (j.call(g) === "[object Array]") Array.prototype.push.apply(h, g); else if (typeof g.length === "number") for (var l = 0, m = g.length; l < m; l++) h.push(g[l]); else for (l = 0; g[l]; l++) h.push(g[l]); return h } } var B; if (s.documentElement.compareDocumentPosition) B = function (g, h) {
        if (!g.compareDocumentPosition ||
!h.compareDocumentPosition) { if (g == h) i = true; return g.compareDocumentPosition ? -1 : 1 } g = g.compareDocumentPosition(h) & 4 ? -1 : g === h ? 0 : 1; if (g === 0) i = true; return g
    }; else if ("sourceIndex" in s.documentElement) B = function (g, h) { if (!g.sourceIndex || !h.sourceIndex) { if (g == h) i = true; return g.sourceIndex ? -1 : 1 } g = g.sourceIndex - h.sourceIndex; if (g === 0) i = true; return g }; else if (s.createRange) B = function (g, h) {
        if (!g.ownerDocument || !h.ownerDocument) { if (g == h) i = true; return g.ownerDocument ? -1 : 1 } var l = g.ownerDocument.createRange(), m =
h.ownerDocument.createRange(); l.setStart(g, 0); l.setEnd(g, 0); m.setStart(h, 0); m.setEnd(h, 0); g = l.compareBoundaryPoints(Range.START_TO_END, m); if (g === 0) i = true; return g
    }; (function () {
        var g = s.createElement("div"), h = "script" + (new Date).getTime(); g.innerHTML = "<a name='" + h + "'/>"; var l = s.documentElement; l.insertBefore(g, l.firstChild); if (s.getElementById(h)) {
            n.find.ID = function (m, q, p) {
                if (typeof q.getElementById !== "undefined" && !p) return (q = q.getElementById(m[1])) ? q.id === m[1] || typeof q.getAttributeNode !== "undefined" &&
q.getAttributeNode("id").nodeValue === m[1] ? [q] : w : []
            }; n.filter.ID = function (m, q) { var p = typeof m.getAttributeNode !== "undefined" && m.getAttributeNode("id"); return m.nodeType === 1 && p && p.nodeValue === q }
        } l.removeChild(g); l = g = null
    })(); (function () {
        var g = s.createElement("div"); g.appendChild(s.createComment("")); if (g.getElementsByTagName("*").length > 0) n.find.TAG = function (h, l) { l = l.getElementsByTagName(h[1]); if (h[1] === "*") { h = []; for (var m = 0; l[m]; m++) l[m].nodeType === 1 && h.push(l[m]); l = h } return l }; g.innerHTML = "<a href='#'></a>";
        if (g.firstChild && typeof g.firstChild.getAttribute !== "undefined" && g.firstChild.getAttribute("href") !== "#") n.attrHandle.href = function (h) { return h.getAttribute("href", 2) }; g = null
    })(); s.querySelectorAll && function () { var g = k, h = s.createElement("div"); h.innerHTML = "<p class='TEST'></p>"; if (!(h.querySelectorAll && h.querySelectorAll(".TEST").length === 0)) { k = function (m, q, p, v) { q = q || s; if (!v && q.nodeType === 9 && !x(q)) try { return z(q.querySelectorAll(m), p) } catch (t) { } return g(m, q, p, v) }; for (var l in g) k[l] = g[l]; h = null } } ();
    (function () { var g = s.createElement("div"); g.innerHTML = "<div class='test e'></div><div class='test'></div>"; if (!(!g.getElementsByClassName || g.getElementsByClassName("e").length === 0)) { g.lastChild.className = "e"; if (g.getElementsByClassName("e").length !== 1) { n.order.splice(1, 0, "CLASS"); n.find.CLASS = function (h, l, m) { if (typeof l.getElementsByClassName !== "undefined" && !m) return l.getElementsByClassName(h[1]) }; g = null } } })(); var E = s.compareDocumentPosition ? function (g, h) { return !!(g.compareDocumentPosition(h) & 16) } :
function (g, h) { return g !== h && (g.contains ? g.contains(h) : true) }, x = function (g) { return (g = (g ? g.ownerDocument || g : 0).documentElement) ? g.nodeName !== "HTML" : false }, ga = function (g, h) { var l = [], m = "", q; for (h = h.nodeType ? [h] : h; q = n.match.PSEUDO.exec(g); ) { m += q[0]; g = g.replace(n.match.PSEUDO, "") } g = n.relative[g] ? g + "*" : g; q = 0; for (var p = h.length; q < p; q++) k(g, h[q], l); return k.filter(m, l) }; c.find = k; c.expr = k.selectors; c.expr[":"] = c.expr.filters; c.unique = k.uniqueSort; c.text = a; c.isXMLDoc = x; c.contains = E
})(); var eb = /Until$/, fb = /^(?:parents|prevUntil|prevAll)/,
gb = /,/; R = Array.prototype.slice; var Ia = function (a, b, d) { if (c.isFunction(b)) return c.grep(a, function (e, j) { return !!b.call(e, j, e) === d }); else if (b.nodeType) return c.grep(a, function (e) { return e === b === d }); else if (typeof b === "string") { var f = c.grep(a, function (e) { return e.nodeType === 1 }); if (Ua.test(b)) return c.filter(b, f, !d); else b = c.filter(b, f) } return c.grep(a, function (e) { return c.inArray(e, b) >= 0 === d }) }; c.fn.extend({ find: function (a) {
    for (var b = this.pushStack("", "find", a), d = 0, f = 0, e = this.length; f < e; f++) {
        d = b.length;
        c.find(a, this[f], b); if (f > 0) for (var j = d; j < b.length; j++) for (var i = 0; i < d; i++) if (b[i] === b[j]) { b.splice(j--, 1); break }
    } return b
}, has: function (a) { var b = c(a); return this.filter(function () { for (var d = 0, f = b.length; d < f; d++) if (c.contains(this, b[d])) return true }) }, not: function (a) { return this.pushStack(Ia(this, a, false), "not", a) }, filter: function (a) { return this.pushStack(Ia(this, a, true), "filter", a) }, is: function (a) { return !!a && c.filter(a, this).length > 0 }, closest: function (a, b) {
    if (c.isArray(a)) {
        var d = [], f = this[0], e, j =
{}, i; if (f && a.length) { e = 0; for (var o = a.length; e < o; e++) { i = a[e]; j[i] || (j[i] = c.expr.match.POS.test(i) ? c(i, b || this.context) : i) } for (; f && f.ownerDocument && f !== b; ) { for (i in j) { e = j[i]; if (e.jquery ? e.index(f) > -1 : c(f).is(e)) { d.push({ selector: i, elem: f }); delete j[i] } } f = f.parentNode } } return d
    } var k = c.expr.match.POS.test(a) ? c(a, b || this.context) : null; return this.map(function (n, r) { for (; r && r.ownerDocument && r !== b; ) { if (k ? k.index(r) > -1 : c(r).is(a)) return r; r = r.parentNode } return null })
}, index: function (a) {
    if (!a || typeof a ===
"string") return c.inArray(this[0], a ? c(a) : this.parent().children()); return c.inArray(a.jquery ? a[0] : a, this)
}, add: function (a, b) { a = typeof a === "string" ? c(a, b || this.context) : c.makeArray(a); b = c.merge(this.get(), a); return this.pushStack(qa(a[0]) || qa(b[0]) ? b : c.unique(b)) }, andSelf: function () { return this.add(this.prevObject) }
}); c.each({ parent: function (a) { return (a = a.parentNode) && a.nodeType !== 11 ? a : null }, parents: function (a) { return c.dir(a, "parentNode") }, parentsUntil: function (a, b, d) {
    return c.dir(a, "parentNode",
d)
}, next: function (a) { return c.nth(a, 2, "nextSibling") }, prev: function (a) { return c.nth(a, 2, "previousSibling") }, nextAll: function (a) { return c.dir(a, "nextSibling") }, prevAll: function (a) { return c.dir(a, "previousSibling") }, nextUntil: function (a, b, d) { return c.dir(a, "nextSibling", d) }, prevUntil: function (a, b, d) { return c.dir(a, "previousSibling", d) }, siblings: function (a) { return c.sibling(a.parentNode.firstChild, a) }, children: function (a) { return c.sibling(a.firstChild) }, contents: function (a) {
    return c.nodeName(a, "iframe") ?
a.contentDocument || a.contentWindow.document : c.makeArray(a.childNodes)
}
}, function (a, b) { c.fn[a] = function (d, f) { var e = c.map(this, b, d); eb.test(a) || (f = d); if (f && typeof f === "string") e = c.filter(f, e); e = this.length > 1 ? c.unique(e) : e; if ((this.length > 1 || gb.test(f)) && fb.test(a)) e = e.reverse(); return this.pushStack(e, a, R.call(arguments).join(",")) } }); c.extend({ filter: function (a, b, d) { if (d) a = ":not(" + a + ")"; return c.find.matches(a, b) }, dir: function (a, b, d) {
    var f = []; for (a = a[b]; a && a.nodeType !== 9 && (d === w || a.nodeType !== 1 || !c(a).is(d)); ) {
        a.nodeType ===
1 && f.push(a); a = a[b]
    } return f
}, nth: function (a, b, d) { b = b || 1; for (var f = 0; a; a = a[d]) if (a.nodeType === 1 && ++f === b) break; return a }, sibling: function (a, b) { for (var d = []; a; a = a.nextSibling) a.nodeType === 1 && a !== b && d.push(a); return d }
}); var Ja = / jQuery\d+="(?:\d+|null)"/g, V = /^\s+/, Ka = /(<([\w:]+)[^>]*?)\/>/g, hb = /^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i, La = /<([\w:]+)/, ib = /<tbody/i, jb = /<|&#?\w+;/, ta = /<script|<object|<embed|<option|<style/i, ua = /checked\s*(?:[^=]|=\s*.checked.)/i, Ma = function (a, b, d) {
    return hb.test(d) ?
a : b + "></" + d + ">"
}, F = { option: [1, "<select multiple='multiple'>", "</select>"], legend: [1, "<fieldset>", "</fieldset>"], thead: [1, "<table>", "</table>"], tr: [2, "<table><tbody>", "</tbody></table>"], td: [3, "<table><tbody><tr>", "</tr></tbody></table>"], col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"], area: [1, "<map>", "</map>"], _default: [0, "", ""] }; F.optgroup = F.option; F.tbody = F.tfoot = F.colgroup = F.caption = F.thead; F.th = F.td; if (!c.support.htmlSerialize) F._default = [1, "div<div>", "</div>"]; c.fn.extend({ text: function (a) {
    if (c.isFunction(a)) return this.each(function (b) {
        var d =
c(this); d.text(a.call(this, b, d.text()))
    }); if (typeof a !== "object" && a !== w) return this.empty().append((this[0] && this[0].ownerDocument || s).createTextNode(a)); return c.text(this)
}, wrapAll: function (a) { if (c.isFunction(a)) return this.each(function (d) { c(this).wrapAll(a.call(this, d)) }); if (this[0]) { var b = c(a, this[0].ownerDocument).eq(0).clone(true); this[0].parentNode && b.insertBefore(this[0]); b.map(function () { for (var d = this; d.firstChild && d.firstChild.nodeType === 1; ) d = d.firstChild; return d }).append(this) } return this },
    wrapInner: function (a) { if (c.isFunction(a)) return this.each(function (b) { c(this).wrapInner(a.call(this, b)) }); return this.each(function () { var b = c(this), d = b.contents(); d.length ? d.wrapAll(a) : b.append(a) }) }, wrap: function (a) { return this.each(function () { c(this).wrapAll(a) }) }, unwrap: function () { return this.parent().each(function () { c.nodeName(this, "body") || c(this).replaceWith(this.childNodes) }).end() }, append: function () { return this.domManip(arguments, true, function (a) { this.nodeType === 1 && this.appendChild(a) }) },
    prepend: function () { return this.domManip(arguments, true, function (a) { this.nodeType === 1 && this.insertBefore(a, this.firstChild) }) }, before: function () { if (this[0] && this[0].parentNode) return this.domManip(arguments, false, function (b) { this.parentNode.insertBefore(b, this) }); else if (arguments.length) { var a = c(arguments[0]); a.push.apply(a, this.toArray()); return this.pushStack(a, "before", arguments) } }, after: function () {
        if (this[0] && this[0].parentNode) return this.domManip(arguments, false, function (b) {
            this.parentNode.insertBefore(b,
this.nextSibling)
        }); else if (arguments.length) { var a = this.pushStack(this, "after", arguments); a.push.apply(a, c(arguments[0]).toArray()); return a }
    }, remove: function (a, b) { for (var d = 0, f; (f = this[d]) != null; d++) if (!a || c.filter(a, [f]).length) { if (!b && f.nodeType === 1) { c.cleanData(f.getElementsByTagName("*")); c.cleanData([f]) } f.parentNode && f.parentNode.removeChild(f) } return this }, empty: function () {
        for (var a = 0, b; (b = this[a]) != null; a++) for (b.nodeType === 1 && c.cleanData(b.getElementsByTagName("*")); b.firstChild; ) b.removeChild(b.firstChild);
        return this
    }, clone: function (a) { var b = this.map(function () { if (!c.support.noCloneEvent && !c.isXMLDoc(this)) { var d = this.outerHTML, f = this.ownerDocument; if (!d) { d = f.createElement("div"); d.appendChild(this.cloneNode(true)); d = d.innerHTML } return c.clean([d.replace(Ja, "").replace(/=([^="'>\s]+\/)>/g, '="$1">').replace(V, "")], f)[0] } else return this.cloneNode(true) }); if (a === true) { ra(this, b); ra(this.find("*"), b.find("*")) } return b }, html: function (a) {
        if (a === w) return this[0] && this[0].nodeType === 1 ? this[0].innerHTML.replace(Ja,
"") : null; else if (typeof a === "string" && !ta.test(a) && (c.support.leadingWhitespace || !V.test(a)) && !F[(La.exec(a) || ["", ""])[1].toLowerCase()]) { a = a.replace(Ka, Ma); try { for (var b = 0, d = this.length; b < d; b++) if (this[b].nodeType === 1) { c.cleanData(this[b].getElementsByTagName("*")); this[b].innerHTML = a } } catch (f) { this.empty().append(a) } } else c.isFunction(a) ? this.each(function (e) { var j = c(this), i = j.html(); j.empty().append(function () { return a.call(this, e, i) }) }) : this.empty().append(a); return this
    }, replaceWith: function (a) {
        if (this[0] &&
this[0].parentNode) { if (c.isFunction(a)) return this.each(function (b) { var d = c(this), f = d.html(); d.replaceWith(a.call(this, b, f)) }); if (typeof a !== "string") a = c(a).detach(); return this.each(function () { var b = this.nextSibling, d = this.parentNode; c(this).remove(); b ? c(b).before(a) : c(d).append(a) }) } else return this.pushStack(c(c.isFunction(a) ? a() : a), "replaceWith", a)
    }, detach: function (a) { return this.remove(a, true) }, domManip: function (a, b, d) {
        function f(u) {
            return c.nodeName(u, "table") ? u.getElementsByTagName("tbody")[0] ||
u.appendChild(u.ownerDocument.createElement("tbody")) : u
        } var e, j, i = a[0], o = [], k; if (!c.support.checkClone && arguments.length === 3 && typeof i === "string" && ua.test(i)) return this.each(function () { c(this).domManip(a, b, d, true) }); if (c.isFunction(i)) return this.each(function (u) { var z = c(this); a[0] = i.call(this, u, b ? z.html() : w); z.domManip(a, b, d) }); if (this[0]) {
            e = i && i.parentNode; e = c.support.parentNode && e && e.nodeType === 11 && e.childNodes.length === this.length ? { fragment: e} : sa(a, this, o); k = e.fragment; if (j = k.childNodes.length ===
1 ? (k = k.firstChild) : k.firstChild) { b = b && c.nodeName(j, "tr"); for (var n = 0, r = this.length; n < r; n++) d.call(b ? f(this[n], j) : this[n], n > 0 || e.cacheable || this.length > 1 ? k.cloneNode(true) : k) } o.length && c.each(o, Qa)
        } return this
    }
}); c.fragments = {}; c.each({ appendTo: "append", prependTo: "prepend", insertBefore: "before", insertAfter: "after", replaceAll: "replaceWith" }, function (a, b) {
    c.fn[a] = function (d) {
        var f = []; d = c(d); var e = this.length === 1 && this[0].parentNode; if (e && e.nodeType === 11 && e.childNodes.length === 1 && d.length === 1) {
            d[b](this[0]);
            return this
        } else { e = 0; for (var j = d.length; e < j; e++) { var i = (e > 0 ? this.clone(true) : this).get(); c.fn[b].apply(c(d[e]), i); f = f.concat(i) } return this.pushStack(f, a, d.selector) }
    }
}); c.extend({ clean: function (a, b, d, f) {
    b = b || s; if (typeof b.createElement === "undefined") b = b.ownerDocument || b[0] && b[0].ownerDocument || s; for (var e = [], j = 0, i; (i = a[j]) != null; j++) {
        if (typeof i === "number") i += ""; if (i) {
            if (typeof i === "string" && !jb.test(i)) i = b.createTextNode(i); else if (typeof i === "string") {
                i = i.replace(Ka, Ma); var o = (La.exec(i) || ["",
""])[1].toLowerCase(), k = F[o] || F._default, n = k[0], r = b.createElement("div"); for (r.innerHTML = k[1] + i + k[2]; n--; ) r = r.lastChild; if (!c.support.tbody) { n = ib.test(i); o = o === "table" && !n ? r.firstChild && r.firstChild.childNodes : k[1] === "<table>" && !n ? r.childNodes : []; for (k = o.length - 1; k >= 0; --k) c.nodeName(o[k], "tbody") && !o[k].childNodes.length && o[k].parentNode.removeChild(o[k]) } !c.support.leadingWhitespace && V.test(i) && r.insertBefore(b.createTextNode(V.exec(i)[0]), r.firstChild); i = r.childNodes
            } if (i.nodeType) e.push(i); else e =
c.merge(e, i)
        }
    } if (d) for (j = 0; e[j]; j++) if (f && c.nodeName(e[j], "script") && (!e[j].type || e[j].type.toLowerCase() === "text/javascript")) f.push(e[j].parentNode ? e[j].parentNode.removeChild(e[j]) : e[j]); else { e[j].nodeType === 1 && e.splice.apply(e, [j + 1, 0].concat(c.makeArray(e[j].getElementsByTagName("script")))); d.appendChild(e[j]) } return e
}, cleanData: function (a) {
    for (var b, d, f = c.cache, e = c.event.special, j = c.support.deleteExpando, i = 0, o; (o = a[i]) != null; i++) if (d = o[c.expando]) {
        b = f[d]; if (b.events) for (var k in b.events) e[k] ?
c.event.remove(o, k) : Ca(o, k, b.handle); if (j) delete o[c.expando]; else o.removeAttribute && o.removeAttribute(c.expando); delete f[d]
    }
}
}); var kb = /z-?index|font-?weight|opacity|zoom|line-?height/i, Na = /alpha\([^)]*\)/, Oa = /opacity=([^)]*)/, ha = /float/i, ia = /-([a-z])/ig, lb = /([A-Z])/g, mb = /^-?\d+(?:px)?$/i, nb = /^-?\d/, ob = { position: "absolute", visibility: "hidden", display: "block" }, pb = ["Left", "Right"], qb = ["Top", "Bottom"], rb = s.defaultView && s.defaultView.getComputedStyle, Pa = c.support.cssFloat ? "cssFloat" : "styleFloat", ja =
function (a, b) { return b.toUpperCase() }; c.fn.css = function (a, b) { return X(this, a, b, true, function (d, f, e) { if (e === w) return c.curCSS(d, f); if (typeof e === "number" && !kb.test(f)) e += "px"; c.style(d, f, e) }) }; c.extend({ style: function (a, b, d) {
    if (!a || a.nodeType === 3 || a.nodeType === 8) return w; if ((b === "width" || b === "height") && parseFloat(d) < 0) d = w; var f = a.style || a, e = d !== w; if (!c.support.opacity && b === "opacity") {
        if (e) {
            f.zoom = 1; b = parseInt(d, 10) + "" === "NaN" ? "" : "alpha(opacity=" + d * 100 + ")"; a = f.filter || c.curCSS(a, "filter") || ""; f.filter =
Na.test(a) ? a.replace(Na, b) : b
        } return f.filter && f.filter.indexOf("opacity=") >= 0 ? parseFloat(Oa.exec(f.filter)[1]) / 100 + "" : ""
    } if (ha.test(b)) b = Pa; b = b.replace(ia, ja); if (e) f[b] = d; return f[b]
}, css: function (a, b, d, f) {
    if (b === "width" || b === "height") {
        var e, j = b === "width" ? pb : qb; function i() {
            e = b === "width" ? a.offsetWidth : a.offsetHeight; f !== "border" && c.each(j, function () {
                f || (e -= parseFloat(c.curCSS(a, "padding" + this, true)) || 0); if (f === "margin") e += parseFloat(c.curCSS(a, "margin" + this, true)) || 0; else e -= parseFloat(c.curCSS(a,
"border" + this + "Width", true)) || 0
            })
        } a.offsetWidth !== 0 ? i() : c.swap(a, ob, i); return Math.max(0, Math.round(e))
    } return c.curCSS(a, b, d)
}, curCSS: function (a, b, d) {
    var f, e = a.style; if (!c.support.opacity && b === "opacity" && a.currentStyle) { f = Oa.test(a.currentStyle.filter || "") ? parseFloat(RegExp.$1) / 100 + "" : ""; return f === "" ? "1" : f } if (ha.test(b)) b = Pa; if (!d && e && e[b]) f = e[b]; else if (rb) {
        if (ha.test(b)) b = "float"; b = b.replace(lb, "-$1").toLowerCase(); e = a.ownerDocument.defaultView; if (!e) return null; if (a = e.getComputedStyle(a, null)) f =
a.getPropertyValue(b); if (b === "opacity" && f === "") f = "1"
    } else if (a.currentStyle) { d = b.replace(ia, ja); f = a.currentStyle[b] || a.currentStyle[d]; if (!mb.test(f) && nb.test(f)) { b = e.left; var j = a.runtimeStyle.left; a.runtimeStyle.left = a.currentStyle.left; e.left = d === "fontSize" ? "1em" : f || 0; f = e.pixelLeft + "px"; e.left = b; a.runtimeStyle.left = j } } return f
}, swap: function (a, b, d) { var f = {}; for (var e in b) { f[e] = a.style[e]; a.style[e] = b[e] } d.call(a); for (e in b) a.style[e] = f[e] }
}); if (c.expr && c.expr.filters) {
        c.expr.filters.hidden = function (a) {
            var b =
a.offsetWidth, d = a.offsetHeight, f = a.nodeName.toLowerCase() === "tr"; return b === 0 && d === 0 && !f ? true : b > 0 && d > 0 && !f ? false : c.curCSS(a, "display") === "none"
        }; c.expr.filters.visible = function (a) { return !c.expr.filters.hidden(a) }
    } var sb = J(), tb = /<script(.|\s)*?\/script>/gi, ub = /select|textarea/i, vb = /color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week/i, N = /=\?(&|$)/, ka = /\?/, wb = /(\?|&)_=.*?(&|$)/, xb = /^(\w+:)?\/\/([^\/?#]+)/, yb = /%20/g, zb = c.fn.load; c.fn.extend({ load: function (a, b, d) {
        if (typeof a !==
"string") return zb.call(this, a); else if (!this.length) return this; var f = a.indexOf(" "); if (f >= 0) { var e = a.slice(f, a.length); a = a.slice(0, f) } f = "GET"; if (b) if (c.isFunction(b)) { d = b; b = null } else if (typeof b === "object") { b = c.param(b, c.ajaxSettings.traditional); f = "POST" } var j = this; c.ajax({ url: a, type: f, dataType: "html", data: b, complete: function (i, o) { if (o === "success" || o === "notmodified") j.html(e ? c("<div />").append(i.responseText.replace(tb, "")).find(e) : i.responseText); d && j.each(d, [i.responseText, o, i]) } }); return this
    },
        serialize: function () { return c.param(this.serializeArray()) }, serializeArray: function () { return this.map(function () { return this.elements ? c.makeArray(this.elements) : this }).filter(function () { return this.name && !this.disabled && (this.checked || ub.test(this.nodeName) || vb.test(this.type)) }).map(function (a, b) { a = c(this).val(); return a == null ? null : c.isArray(a) ? c.map(a, function (d) { return { name: b.name, value: d} }) : { name: b.name, value: a} }).get() }
    }); c.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function (a, b) { c.fn[b] = function (d) { return this.bind(b, d) } }); c.extend({ get: function (a, b, d, f) { if (c.isFunction(b)) { f = f || d; d = b; b = null } return c.ajax({ type: "GET", url: a, data: b, success: d, dataType: f }) }, getScript: function (a, b) { return c.get(a, null, b, "script") }, getJSON: function (a, b, d) { return c.get(a, b, d, "json") }, post: function (a, b, d, f) { if (c.isFunction(b)) { f = f || d; d = b; b = {} } return c.ajax({ type: "POST", url: a, data: b, success: d, dataType: f }) }, ajaxSetup: function (a) { c.extend(c.ajaxSettings, a) }, ajaxSettings: { url: location.href,
    global: true, type: "GET", contentType: "application/x-www-form-urlencoded", processData: true, async: true, xhr: A.XMLHttpRequest && (A.location.protocol !== "file:" || !A.ActiveXObject) ? function () { return new A.XMLHttpRequest } : function () { try { return new A.ActiveXObject("Microsoft.XMLHTTP") } catch (a) { } }, accepts: { xml: "application/xml, text/xml", html: "text/html", script: "text/javascript, application/javascript", json: "application/json, text/javascript", text: "text/plain", _default: "*/*" }
}, lastModified: {}, etag: {}, ajax: function (a) {
    function b() {
        e.success &&
e.success.call(k, o, i, x); e.global && f("ajaxSuccess", [x, e])
    } function d() { e.complete && e.complete.call(k, x, i); e.global && f("ajaxComplete", [x, e]); e.global && ! --c.active && c.event.trigger("ajaxStop") } function f(q, p) { (e.context ? c(e.context) : c.event).trigger(q, p) } var e = c.extend(true, {}, c.ajaxSettings, a), j, i, o, k = a && a.context || e, n = e.type.toUpperCase(); if (e.data && e.processData && typeof e.data !== "string") e.data = c.param(e.data, e.traditional); if (e.dataType === "jsonp") {
        if (n === "GET") N.test(e.url) || (e.url += (ka.test(e.url) ?
"&" : "?") + (e.jsonp || "callback") + "=?"); else if (!e.data || !N.test(e.data)) e.data = (e.data ? e.data + "&" : "") + (e.jsonp || "callback") + "=?"; e.dataType = "json"
    } if (e.dataType === "json" && (e.data && N.test(e.data) || N.test(e.url))) { j = e.jsonpCallback || "jsonp" + sb++; if (e.data) e.data = (e.data + "").replace(N, "=" + j + "$1"); e.url = e.url.replace(N, "=" + j + "$1"); e.dataType = "script"; A[j] = A[j] || function (q) { o = q; b(); d(); A[j] = w; try { delete A[j] } catch (p) { } z && z.removeChild(C) } } if (e.dataType === "script" && e.cache === null) e.cache = false; if (e.cache ===
false && n === "GET") { var r = J(), u = e.url.replace(wb, "$1_=" + r + "$2"); e.url = u + (u === e.url ? (ka.test(e.url) ? "&" : "?") + "_=" + r : "") } if (e.data && n === "GET") e.url += (ka.test(e.url) ? "&" : "?") + e.data; e.global && !c.active++ && c.event.trigger("ajaxStart"); r = (r = xb.exec(e.url)) && (r[1] && r[1] !== location.protocol || r[2] !== location.host); if (e.dataType === "script" && n === "GET" && r) {
        var z = s.getElementsByTagName("head")[0] || s.documentElement, C = s.createElement("script"); C.src = e.url; if (e.scriptCharset) C.charset = e.scriptCharset; if (!j) {
            var B =
false; C.onload = C.onreadystatechange = function () { if (!B && (!this.readyState || this.readyState === "loaded" || this.readyState === "complete")) { B = true; b(); d(); C.onload = C.onreadystatechange = null; z && C.parentNode && z.removeChild(C) } }
        } z.insertBefore(C, z.firstChild); return w
    } var E = false, x = e.xhr(); if (x) {
        e.username ? x.open(n, e.url, e.async, e.username, e.password) : x.open(n, e.url, e.async); try {
            if (e.data || a && a.contentType) x.setRequestHeader("Content-Type", e.contentType); if (e.ifModified) {
                c.lastModified[e.url] && x.setRequestHeader("If-Modified-Since",
c.lastModified[e.url]); c.etag[e.url] && x.setRequestHeader("If-None-Match", c.etag[e.url])
            } r || x.setRequestHeader("X-Requested-With", "XMLHttpRequest"); x.setRequestHeader("Accept", e.dataType && e.accepts[e.dataType] ? e.accepts[e.dataType] + ", */*" : e.accepts._default)
        } catch (ga) { } if (e.beforeSend && e.beforeSend.call(k, x, e) === false) { e.global && ! --c.active && c.event.trigger("ajaxStop"); x.abort(); return false } e.global && f("ajaxSend", [x, e]); var g = x.onreadystatechange = function (q) {
            if (!x || x.readyState === 0 || q === "abort") {
                E ||
d(); E = true; if (x) x.onreadystatechange = c.noop
            } else if (!E && x && (x.readyState === 4 || q === "timeout")) { E = true; x.onreadystatechange = c.noop; i = q === "timeout" ? "timeout" : !c.httpSuccess(x) ? "error" : e.ifModified && c.httpNotModified(x, e.url) ? "notmodified" : "success"; var p; if (i === "success") try { o = c.httpData(x, e.dataType, e) } catch (v) { i = "parsererror"; p = v } if (i === "success" || i === "notmodified") j || b(); else c.handleError(e, x, i, p); d(); q === "timeout" && x.abort(); if (e.async) x = null }
        }; try {
            var h = x.abort; x.abort = function () {
                x && h.call(x);
                g("abort")
            }
        } catch (l) { } e.async && e.timeout > 0 && setTimeout(function () { x && !E && g("timeout") }, e.timeout); try { x.send(n === "POST" || n === "PUT" || n === "DELETE" ? e.data : null) } catch (m) { c.handleError(e, x, null, m); d() } e.async || g(); return x
    }
}, handleError: function (a, b, d, f) { if (a.error) a.error.call(a.context || a, b, d, f); if (a.global) (a.context ? c(a.context) : c.event).trigger("ajaxError", [b, a, f]) }, active: 0, httpSuccess: function (a) {
    try {
        return !a.status && location.protocol === "file:" || a.status >= 200 && a.status < 300 || a.status === 304 || a.status ===
1223 || a.status === 0
    } catch (b) { } return false
}, httpNotModified: function (a, b) { var d = a.getResponseHeader("Last-Modified"), f = a.getResponseHeader("Etag"); if (d) c.lastModified[b] = d; if (f) c.etag[b] = f; return a.status === 304 || a.status === 0 }, httpData: function (a, b, d) {
    var f = a.getResponseHeader("content-type") || "", e = b === "xml" || !b && f.indexOf("xml") >= 0; a = e ? a.responseXML : a.responseText; e && a.documentElement.nodeName === "parsererror" && c.error("parsererror"); if (d && d.dataFilter) a = d.dataFilter(a, b); if (typeof a === "string") if (b ===
"json" || !b && f.indexOf("json") >= 0) a = c.parseJSON(a); else if (b === "script" || !b && f.indexOf("javascript") >= 0) c.globalEval(a); return a
}, param: function (a, b) {
    function d(i, o) { if (c.isArray(o)) c.each(o, function (k, n) { b || /\[\]$/.test(i) ? f(i, n) : d(i + "[" + (typeof n === "object" || c.isArray(n) ? k : "") + "]", n) }); else !b && o != null && typeof o === "object" ? c.each(o, function (k, n) { d(i + "[" + k + "]", n) }) : f(i, o) } function f(i, o) { o = c.isFunction(o) ? o() : o; e[e.length] = encodeURIComponent(i) + "=" + encodeURIComponent(o) } var e = []; if (b === w) b = c.ajaxSettings.traditional;
    if (c.isArray(a) || a.jquery) c.each(a, function () { f(this.name, this.value) }); else for (var j in a) d(j, a[j]); return e.join("&").replace(yb, "+")
}
}); var la = {}, Ab = /toggle|show|hide/, Bb = /^([+-]=)?([\d+-.]+)(.*)$/, W, va = [["height", "marginTop", "marginBottom", "paddingTop", "paddingBottom"], ["width", "marginLeft", "marginRight", "paddingLeft", "paddingRight"], ["opacity"]]; c.fn.extend({ show: function (a, b) {
    if (a || a === 0) return this.animate(K("show", 3), a, b); else {
        a = 0; for (b = this.length; a < b; a++) {
            var d = c.data(this[a], "olddisplay");
            this[a].style.display = d || ""; if (c.css(this[a], "display") === "none") { d = this[a].nodeName; var f; if (la[d]) f = la[d]; else { var e = c("<" + d + " />").appendTo("body"); f = e.css("display"); if (f === "none") f = "block"; e.remove(); la[d] = f } c.data(this[a], "olddisplay", f) }
        } a = 0; for (b = this.length; a < b; a++) this[a].style.display = c.data(this[a], "olddisplay") || ""; return this
    }
}, hide: function (a, b) {
    if (a || a === 0) return this.animate(K("hide", 3), a, b); else {
        a = 0; for (b = this.length; a < b; a++) {
            var d = c.data(this[a], "olddisplay"); !d && d !== "none" && c.data(this[a],
"olddisplay", c.css(this[a], "display"))
        } a = 0; for (b = this.length; a < b; a++) this[a].style.display = "none"; return this
    }
}, _toggle: c.fn.toggle, toggle: function (a, b) { var d = typeof a === "boolean"; if (c.isFunction(a) && c.isFunction(b)) this._toggle.apply(this, arguments); else a == null || d ? this.each(function () { var f = d ? a : c(this).is(":hidden"); c(this)[f ? "show" : "hide"]() }) : this.animate(K("toggle", 3), a, b); return this }, fadeTo: function (a, b, d) { return this.filter(":hidden").css("opacity", 0).show().end().animate({ opacity: b }, a, d) },
    animate: function (a, b, d, f) {
        var e = c.speed(b, d, f); if (c.isEmptyObject(a)) return this.each(e.complete); return this[e.queue === false ? "each" : "queue"](function () {
            var j = c.extend({}, e), i, o = this.nodeType === 1 && c(this).is(":hidden"), k = this; for (i in a) {
                var n = i.replace(ia, ja); if (i !== n) { a[n] = a[i]; delete a[i]; i = n } if (a[i] === "hide" && o || a[i] === "show" && !o) return j.complete.call(this); if ((i === "height" || i === "width") && this.style) { j.display = c.css(this, "display"); j.overflow = this.style.overflow } if (c.isArray(a[i])) {
                    (j.specialEasing =
j.specialEasing || {})[i] = a[i][1]; a[i] = a[i][0]
                }
            } if (j.overflow != null) this.style.overflow = "hidden"; j.curAnim = c.extend({}, a); c.each(a, function (r, u) { var z = new c.fx(k, j, r); if (Ab.test(u)) z[u === "toggle" ? o ? "show" : "hide" : u](a); else { var C = Bb.exec(u), B = z.cur(true) || 0; if (C) { u = parseFloat(C[2]); var E = C[3] || "px"; if (E !== "px") { k.style[r] = (u || 1) + E; B = (u || 1) / z.cur(true) * B; k.style[r] = B + E } if (C[1]) u = (C[1] === "-=" ? -1 : 1) * u + B; z.custom(B, u, E) } else z.custom(B, u, "") } }); return true
        })
    }, stop: function (a, b) {
        var d = c.timers; a && this.queue([]);
        this.each(function () { for (var f = d.length - 1; f >= 0; f--) if (d[f].elem === this) { b && d[f](true); d.splice(f, 1) } }); b || this.dequeue(); return this
    }
}); c.each({ slideDown: K("show", 1), slideUp: K("hide", 1), slideToggle: K("toggle", 1), fadeIn: { opacity: "show" }, fadeOut: { opacity: "hide"} }, function (a, b) { c.fn[a] = function (d, f) { return this.animate(b, d, f) } }); c.extend({ speed: function (a, b, d) {
    var f = a && typeof a === "object" ? a : { complete: d || !d && b || c.isFunction(a) && a, duration: a, easing: d && b || b && !c.isFunction(b) && b }; f.duration = c.fx.off ? 0 : typeof f.duration ===
"number" ? f.duration : c.fx.speeds[f.duration] || c.fx.speeds._default; f.old = f.complete; f.complete = function () { f.queue !== false && c(this).dequeue(); c.isFunction(f.old) && f.old.call(this) }; return f
}, easing: { linear: function (a, b, d, f) { return d + f * a }, swing: function (a, b, d, f) { return (-Math.cos(a * Math.PI) / 2 + 0.5) * f + d } }, timers: [], fx: function (a, b, d) { this.options = b; this.elem = a; this.prop = d; if (!b.orig) b.orig = {} }
}); c.fx.prototype = { update: function () {
    this.options.step && this.options.step.call(this.elem, this.now, this); (c.fx.step[this.prop] ||
c.fx.step._default)(this); if ((this.prop === "height" || this.prop === "width") && this.elem.style) this.elem.style.display = "block"
}, cur: function (a) { if (this.elem[this.prop] != null && (!this.elem.style || this.elem.style[this.prop] == null)) return this.elem[this.prop]; return (a = parseFloat(c.css(this.elem, this.prop, a))) && a > -10000 ? a : parseFloat(c.curCSS(this.elem, this.prop)) || 0 }, custom: function (a, b, d) {
    function f(j) { return e.step(j) } this.startTime = J(); this.start = a; this.end = b; this.unit = d || this.unit || "px"; this.now = this.start;
    this.pos = this.state = 0; var e = this; f.elem = this.elem; if (f() && c.timers.push(f) && !W) W = setInterval(c.fx.tick, 13)
}, show: function () { this.options.orig[this.prop] = c.style(this.elem, this.prop); this.options.show = true; this.custom(this.prop === "width" || this.prop === "height" ? 1 : 0, this.cur()); c(this.elem).show() }, hide: function () { this.options.orig[this.prop] = c.style(this.elem, this.prop); this.options.hide = true; this.custom(this.cur(), 0) }, step: function (a) {
    var b = J(), d = true; if (a || b >= this.options.duration + this.startTime) {
        this.now =
this.end; this.pos = this.state = 1; this.update(); this.options.curAnim[this.prop] = true; for (var f in this.options.curAnim) if (this.options.curAnim[f] !== true) d = false; if (d) {
            if (this.options.display != null) { this.elem.style.overflow = this.options.overflow; a = c.data(this.elem, "olddisplay"); this.elem.style.display = a ? a : this.options.display; if (c.css(this.elem, "display") === "none") this.elem.style.display = "block" } this.options.hide && c(this.elem).hide(); if (this.options.hide || this.options.show) for (var e in this.options.curAnim) c.style(this.elem,
e, this.options.orig[e]); this.options.complete.call(this.elem)
        } return false
    } else { e = b - this.startTime; this.state = e / this.options.duration; a = this.options.easing || (c.easing.swing ? "swing" : "linear"); this.pos = c.easing[this.options.specialEasing && this.options.specialEasing[this.prop] || a](this.state, e, 0, 1, this.options.duration); this.now = this.start + (this.end - this.start) * this.pos; this.update() } return true
}
}; c.extend(c.fx, { tick: function () {
    for (var a = c.timers, b = 0; b < a.length; b++) a[b]() || a.splice(b--, 1); a.length ||
c.fx.stop()
}, stop: function () { clearInterval(W); W = null }, speeds: { slow: 600, fast: 200, _default: 400 }, step: { opacity: function (a) { c.style(a.elem, "opacity", a.now) }, _default: function (a) { if (a.elem.style && a.elem.style[a.prop] != null) a.elem.style[a.prop] = (a.prop === "width" || a.prop === "height" ? Math.max(0, a.now) : a.now) + a.unit; else a.elem[a.prop] = a.now } }
}); if (c.expr && c.expr.filters) c.expr.filters.animated = function (a) { return c.grep(c.timers, function (b) { return a === b.elem }).length }; c.fn.offset = "getBoundingClientRect" in s.documentElement ?
function (a) { var b = this[0]; if (a) return this.each(function (e) { c.offset.setOffset(this, a, e) }); if (!b || !b.ownerDocument) return null; if (b === b.ownerDocument.body) return c.offset.bodyOffset(b); var d = b.getBoundingClientRect(), f = b.ownerDocument; b = f.body; f = f.documentElement; return { top: d.top + (self.pageYOffset || c.support.boxModel && f.scrollTop || b.scrollTop) - (f.clientTop || b.clientTop || 0), left: d.left + (self.pageXOffset || c.support.boxModel && f.scrollLeft || b.scrollLeft) - (f.clientLeft || b.clientLeft || 0)} } : function (a) {
    var b =
this[0]; if (a) return this.each(function (r) { c.offset.setOffset(this, a, r) }); if (!b || !b.ownerDocument) return null; if (b === b.ownerDocument.body) return c.offset.bodyOffset(b); c.offset.initialize(); var d = b.offsetParent, f = b, e = b.ownerDocument, j, i = e.documentElement, o = e.body; f = (e = e.defaultView) ? e.getComputedStyle(b, null) : b.currentStyle; for (var k = b.offsetTop, n = b.offsetLeft; (b = b.parentNode) && b !== o && b !== i; ) {
        if (c.offset.supportsFixedPosition && f.position === "fixed") break; j = e ? e.getComputedStyle(b, null) : b.currentStyle;
        k -= b.scrollTop; n -= b.scrollLeft; if (b === d) { k += b.offsetTop; n += b.offsetLeft; if (c.offset.doesNotAddBorder && !(c.offset.doesAddBorderForTableAndCells && /^t(able|d|h)$/i.test(b.nodeName))) { k += parseFloat(j.borderTopWidth) || 0; n += parseFloat(j.borderLeftWidth) || 0 } f = d; d = b.offsetParent } if (c.offset.subtractsBorderForOverflowNotVisible && j.overflow !== "visible") { k += parseFloat(j.borderTopWidth) || 0; n += parseFloat(j.borderLeftWidth) || 0 } f = j
    } if (f.position === "relative" || f.position === "static") { k += o.offsetTop; n += o.offsetLeft } if (c.offset.supportsFixedPosition &&
f.position === "fixed") { k += Math.max(i.scrollTop, o.scrollTop); n += Math.max(i.scrollLeft, o.scrollLeft) } return { top: k, left: n }
}; c.offset = { initialize: function () {
    var a = s.body, b = s.createElement("div"), d, f, e, j = parseFloat(c.curCSS(a, "marginTop", true)) || 0; c.extend(b.style, { position: "absolute", top: 0, left: 0, margin: 0, border: 0, width: "1px", height: "1px", visibility: "hidden" }); b.innerHTML = "<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
    a.insertBefore(b, a.firstChild); d = b.firstChild; f = d.firstChild; e = d.nextSibling.firstChild.firstChild; this.doesNotAddBorder = f.offsetTop !== 5; this.doesAddBorderForTableAndCells = e.offsetTop === 5; f.style.position = "fixed"; f.style.top = "20px"; this.supportsFixedPosition = f.offsetTop === 20 || f.offsetTop === 15; f.style.position = f.style.top = ""; d.style.overflow = "hidden"; d.style.position = "relative"; this.subtractsBorderForOverflowNotVisible = f.offsetTop === -5; this.doesNotIncludeMarginInBodyOffset = a.offsetTop !== j; a.removeChild(b);
    c.offset.initialize = c.noop
}, bodyOffset: function (a) { var b = a.offsetTop, d = a.offsetLeft; c.offset.initialize(); if (c.offset.doesNotIncludeMarginInBodyOffset) { b += parseFloat(c.curCSS(a, "marginTop", true)) || 0; d += parseFloat(c.curCSS(a, "marginLeft", true)) || 0 } return { top: b, left: d} }, setOffset: function (a, b, d) {
    if (/static/.test(c.curCSS(a, "position"))) a.style.position = "relative"; var f = c(a), e = f.offset(), j = parseInt(c.curCSS(a, "top", true), 10) || 0, i = parseInt(c.curCSS(a, "left", true), 10) || 0; if (c.isFunction(b)) b = b.call(a,
d, e); d = { top: b.top - e.top + j, left: b.left - e.left + i }; "using" in b ? b.using.call(a, d) : f.css(d)
}
}; c.fn.extend({ position: function () {
    if (!this[0]) return null; var a = this[0], b = this.offsetParent(), d = this.offset(), f = /^body|html$/i.test(b[0].nodeName) ? { top: 0, left: 0} : b.offset(); d.top -= parseFloat(c.curCSS(a, "marginTop", true)) || 0; d.left -= parseFloat(c.curCSS(a, "marginLeft", true)) || 0; f.top += parseFloat(c.curCSS(b[0], "borderTopWidth", true)) || 0; f.left += parseFloat(c.curCSS(b[0], "borderLeftWidth", true)) || 0; return { top: d.top -
f.top, left: d.left - f.left
    }
}, offsetParent: function () { return this.map(function () { for (var a = this.offsetParent || s.body; a && !/^body|html$/i.test(a.nodeName) && c.css(a, "position") === "static"; ) a = a.offsetParent; return a }) }
}); c.each(["Left", "Top"], function (a, b) {
    var d = "scroll" + b; c.fn[d] = function (f) {
        var e = this[0], j; if (!e) return null; if (f !== w) return this.each(function () { if (j = wa(this)) j.scrollTo(!a ? f : c(j).scrollLeft(), a ? f : c(j).scrollTop()); else this[d] = f }); else return (j = wa(e)) ? "pageXOffset" in j ? j[a ? "pageYOffset" :
"pageXOffset"] : c.support.boxModel && j.document.documentElement[d] || j.document.body[d] : e[d]
    }
}); c.each(["Height", "Width"], function (a, b) {
    var d = b.toLowerCase(); c.fn["inner" + b] = function () { return this[0] ? c.css(this[0], d, false, "padding") : null }; c.fn["outer" + b] = function (f) { return this[0] ? c.css(this[0], d, false, f ? "margin" : "border") : null }; c.fn[d] = function (f) {
        var e = this[0]; if (!e) return f == null ? null : this; if (c.isFunction(f)) return this.each(function (j) { var i = c(this); i[d](f.call(this, j, i[d]())) }); return "scrollTo" in
e && e.document ? e.document.compatMode === "CSS1Compat" && e.document.documentElement["client" + b] || e.document.body["client" + b] : e.nodeType === 9 ? Math.max(e.documentElement["client" + b], e.body["scroll" + b], e.documentElement["scroll" + b], e.body["offset" + b], e.documentElement["offset" + b]) : f === w ? c.css(e, d) : this.css(d, typeof f === "string" ? f : f + "px")
    }
}); A.jQuery = A.$ = c
})(window);
/*!
* jQuery UI 1.8
*
* Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
* Dual licensed under the MIT (MIT-LICENSE.txt)
* and GPL (GPL-LICENSE.txt) licenses.
*
* http://docs.jquery.com/UI
*/
/*
* jQuery UI 1.8
*
* Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
* Dual licensed under the MIT (MIT-LICENSE.txt)
* and GPL (GPL-LICENSE.txt) licenses.
*
* http://docs.jquery.com/UI
*/
jQuery.ui || (function (a) { a.ui = { version: "1.8", plugin: { add: function (c, d, f) { var e = a.ui[c].prototype; for (var b in f) { e.plugins[b] = e.plugins[b] || []; e.plugins[b].push([d, f[b]]) } }, call: function (b, d, c) { var f = b.plugins[d]; if (!f || !b.element[0].parentNode) { return } for (var e = 0; e < f.length; e++) { if (b.options[f[e][0]]) { f[e][1].apply(b.element, c) } } } }, contains: function (d, c) { return document.compareDocumentPosition ? d.compareDocumentPosition(c) & 16 : d !== c && d.contains(c) }, hasScroll: function (e, c) { if (a(e).css("overflow") == "hidden") { return false } var b = (c && c == "left") ? "scrollLeft" : "scrollTop", d = false; if (e[b] > 0) { return true } e[b] = 1; d = (e[b] > 0); e[b] = 0; return d }, isOverAxis: function (c, b, d) { return (c > b) && (c < (b + d)) }, isOver: function (g, c, f, e, b, d) { return a.ui.isOverAxis(g, f, b) && a.ui.isOverAxis(c, e, d) }, keyCode: { BACKSPACE: 8, CAPS_LOCK: 20, COMMA: 188, CONTROL: 17, DELETE: 46, DOWN: 40, END: 35, ENTER: 13, ESCAPE: 27, HOME: 36, INSERT: 45, LEFT: 37, NUMPAD_ADD: 107, NUMPAD_DECIMAL: 110, NUMPAD_DIVIDE: 111, NUMPAD_ENTER: 108, NUMPAD_MULTIPLY: 106, NUMPAD_SUBTRACT: 109, PAGE_DOWN: 34, PAGE_UP: 33, PERIOD: 190, RIGHT: 39, SHIFT: 16, SPACE: 32, TAB: 9, UP: 38} }; a.fn.extend({ _focus: a.fn.focus, focus: function (b, c) { return typeof b === "number" ? this.each(function () { var d = this; setTimeout(function () { a(d).focus(); (c && c.call(d)) }, b) }) : this._focus.apply(this, arguments) }, enableSelection: function () { return this.attr("unselectable", "off").css("MozUserSelect", "").unbind("selectstart.ui") }, disableSelection: function () { return this.attr("unselectable", "on").css("MozUserSelect", "none").bind("selectstart.ui", function () { return false }) }, scrollParent: function () { var b; if ((a.browser.msie && (/(static|relative)/).test(this.css("position"))) || (/absolute/).test(this.css("position"))) { b = this.parents().filter(function () { return (/(relative|absolute|fixed)/).test(a.curCSS(this, "position", 1)) && (/(auto|scroll)/).test(a.curCSS(this, "overflow", 1) + a.curCSS(this, "overflow-y", 1) + a.curCSS(this, "overflow-x", 1)) }).eq(0) } else { b = this.parents().filter(function () { return (/(auto|scroll)/).test(a.curCSS(this, "overflow", 1) + a.curCSS(this, "overflow-y", 1) + a.curCSS(this, "overflow-x", 1)) }).eq(0) } return (/fixed/).test(this.css("position")) || !b.length ? a(document) : b }, zIndex: function (e) { if (e !== undefined) { return this.css("zIndex", e) } if (this.length) { var c = a(this[0]), b, d; while (c.length && c[0] !== document) { b = c.css("position"); if (b == "absolute" || b == "relative" || b == "fixed") { d = parseInt(c.css("zIndex")); if (!isNaN(d) && d != 0) { return d } } c = c.parent() } } return 0 } }); a.extend(a.expr[":"], { data: function (d, c, b) { return !!a.data(d, b[3]) }, focusable: function (c) { var d = c.nodeName.toLowerCase(), b = a.attr(c, "tabindex"); return (/input|select|textarea|button|object/.test(d) ? !c.disabled : "a" == d || "area" == d ? c.href || !isNaN(b) : !isNaN(b)) && !a(c)["area" == d ? "parents" : "closest"](":hidden").length }, tabbable: function (c) { var b = a.attr(c, "tabindex"); return (isNaN(b) || b >= 0) && a(c).is(":focusable") } }) })(jQuery); ; /*!
 * jQuery UI Widget 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Widget
 */
/*
* jQuery UI Widget 1.8
*
* Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
* Dual licensed under the MIT (MIT-LICENSE.txt)
* and GPL (GPL-LICENSE.txt) licenses.
*
* http://docs.jquery.com/UI/Widget
*/
(function (b) { var a = b.fn.remove; b.fn.remove = function (c, d) { return this.each(function () { if (!d) { if (!c || b.filter(c, [this]).length) { b("*", this).add(this).each(function () { b(this).triggerHandler("remove") }) } } return a.call(b(this), c, d) }) }; b.widget = function (d, f, c) { var e = d.split(".")[0], h; d = d.split(".")[1]; h = e + "-" + d; if (!c) { c = f; f = b.Widget } b.expr[":"][h] = function (i) { return !!b.data(i, d) }; b[e] = b[e] || {}; b[e][d] = function (i, j) { if (arguments.length) { this._createWidget(i, j) } }; var g = new f(); g.options = b.extend({}, g.options); b[e][d].prototype = b.extend(true, g, { namespace: e, widgetName: d, widgetEventPrefix: b[e][d].prototype.widgetEventPrefix || d, widgetBaseClass: h }, c); b.widget.bridge(d, b[e][d]) }; b.widget.bridge = function (d, c) { b.fn[d] = function (g) { var e = typeof g === "string", f = Array.prototype.slice.call(arguments, 1), h = this; g = !e && f.length ? b.extend.apply(null, [true, g].concat(f)) : g; if (e && g.substring(0, 1) === "_") { return h } if (e) { this.each(function () { var i = b.data(this, d), j = i && b.isFunction(i[g]) ? i[g].apply(i, f) : i; if (j !== i && j !== undefined) { h = j; return false } }) } else { this.each(function () { var i = b.data(this, d); if (i) { if (g) { i.option(g) } i._init() } else { b.data(this, d, new c(g, this)) } }) } return h } }; b.Widget = function (c, d) { if (arguments.length) { this._createWidget(c, d) } }; b.Widget.prototype = { widgetName: "widget", widgetEventPrefix: "", options: { disabled: false }, _createWidget: function (d, e) { this.element = b(e).data(this.widgetName, this); this.options = b.extend(true, {}, this.options, b.metadata && b.metadata.get(e)[this.widgetName], d); var c = this; this.element.bind("remove." + this.widgetName, function () { c.destroy() }); this._create(); this._init() }, _create: function () { }, _init: function () { }, destroy: function () { this.element.unbind("." + this.widgetName).removeData(this.widgetName); this.widget().unbind("." + this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass + "-disabled " + this.namespace + "-state-disabled") }, widget: function () { return this.element }, option: function (e, f) { var d = e, c = this; if (arguments.length === 0) { return b.extend({}, c.options) } if (typeof e === "string") { if (f === undefined) { return this.options[e] } d = {}; d[e] = f } b.each(d, function (g, h) { c._setOption(g, h) }); return c }, _setOption: function (c, d) { this.options[c] = d; if (c === "disabled") { this.widget()[d ? "addClass" : "removeClass"](this.widgetBaseClass + "-disabled " + this.namespace + "-state-disabled").attr("aria-disabled", d) } return this }, enable: function () { return this._setOption("disabled", false) }, disable: function () { return this._setOption("disabled", true) }, _trigger: function (d, e, f) { var h = this.options[d]; e = b.Event(e); e.type = (d === this.widgetEventPrefix ? d : this.widgetEventPrefix + d).toLowerCase(); f = f || {}; if (e.originalEvent) { for (var c = b.event.props.length, g; c; ) { g = b.event.props[--c]; e[g] = e.originalEvent[g] } } this.element.trigger(e, f); return !(b.isFunction(h) && h.call(this.element[0], e, f) === false || e.isDefaultPrevented()) } } })(jQuery); ; /*!
 * jQuery UI Mouse 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
/*
* jQuery UI Mouse 1.8
*
* Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
* Dual licensed under the MIT (MIT-LICENSE.txt)
* and GPL (GPL-LICENSE.txt) licenses.
*
* http://docs.jquery.com/UI/Mouse
*
* Depends:
*	jquery.ui.widget.js
*/
(function (a) { a.widget("ui.mouse", { options: { cancel: ":input,option", distance: 1, delay: 0 }, _mouseInit: function () { var b = this; this.element.bind("mousedown." + this.widgetName, function (c) { return b._mouseDown(c) }).bind("click." + this.widgetName, function (c) { if (b._preventClickEvent) { b._preventClickEvent = false; c.stopImmediatePropagation(); return false } }); this.started = false }, _mouseDestroy: function () { this.element.unbind("." + this.widgetName) }, _mouseDown: function (d) { d.originalEvent = d.originalEvent || {}; if (d.originalEvent.mouseHandled) { return } (this._mouseStarted && this._mouseUp(d)); this._mouseDownEvent = d; var c = this, e = (d.which == 1), b = (typeof this.options.cancel == "string" ? a(d.target).parents().add(d.target).filter(this.options.cancel).length : false); if (!e || b || !this._mouseCapture(d)) { return true } this.mouseDelayMet = !this.options.delay; if (!this.mouseDelayMet) { this._mouseDelayTimer = setTimeout(function () { c.mouseDelayMet = true }, this.options.delay) } if (this._mouseDistanceMet(d) && this._mouseDelayMet(d)) { this._mouseStarted = (this._mouseStart(d) !== false); if (!this._mouseStarted) { d.preventDefault(); return true } } this._mouseMoveDelegate = function (f) { return c._mouseMove(f) }; this._mouseUpDelegate = function (f) { return c._mouseUp(f) }; a(document).bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate); (a.browser.safari || d.preventDefault()); d.originalEvent.mouseHandled = true; return true }, _mouseMove: function (b) { if (a.browser.msie && !b.button) { return this._mouseUp(b) } if (this._mouseStarted) { this._mouseDrag(b); return b.preventDefault() } if (this._mouseDistanceMet(b) && this._mouseDelayMet(b)) { this._mouseStarted = (this._mouseStart(this._mouseDownEvent, b) !== false); (this._mouseStarted ? this._mouseDrag(b) : this._mouseUp(b)) } return !this._mouseStarted }, _mouseUp: function (b) { a(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate); if (this._mouseStarted) { this._mouseStarted = false; this._preventClickEvent = (b.target == this._mouseDownEvent.target); this._mouseStop(b) } return false }, _mouseDistanceMet: function (b) { return (Math.max(Math.abs(this._mouseDownEvent.pageX - b.pageX), Math.abs(this._mouseDownEvent.pageY - b.pageY)) >= this.options.distance) }, _mouseDelayMet: function (b) { return this.mouseDelayMet }, _mouseStart: function (b) { }, _mouseDrag: function (b) { }, _mouseStop: function (b) { }, _mouseCapture: function (b) { return true } }) })(jQuery); ; /*
 * jQuery UI Position 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Position
 */
(function (f) { f.ui = f.ui || {}; var c = /left|center|right/, e = "center", d = /top|center|bottom/, g = "center", a = f.fn.position, b = f.fn.offset; f.fn.position = function (i) { if (!i || !i.of) { return a.apply(this, arguments) } i = f.extend({}, i); var l = f(i.of), n = (i.collision || "flip").split(" "), m = i.offset ? i.offset.split(" ") : [0, 0], k, h, j; if (i.of.nodeType === 9) { k = l.width(); h = l.height(); j = { top: 0, left: 0} } else { if (i.of.scrollTo && i.of.document) { k = l.width(); h = l.height(); j = { top: l.scrollTop(), left: l.scrollLeft()} } else { if (i.of.preventDefault) { i.at = "left top"; k = h = 0; j = { top: i.of.pageY, left: i.of.pageX} } else { k = l.outerWidth(); h = l.outerHeight(); j = l.offset() } } } f.each(["my", "at"], function () { var o = (i[this] || "").split(" "); if (o.length === 1) { o = c.test(o[0]) ? o.concat([g]) : d.test(o[0]) ? [e].concat(o) : [e, g] } o[0] = c.test(o[0]) ? o[0] : e; o[1] = d.test(o[1]) ? o[1] : g; i[this] = o }); if (n.length === 1) { n[1] = n[0] } m[0] = parseInt(m[0], 10) || 0; if (m.length === 1) { m[1] = m[0] } m[1] = parseInt(m[1], 10) || 0; if (i.at[0] === "right") { j.left += k } else { if (i.at[0] === e) { j.left += k / 2 } } if (i.at[1] === "bottom") { j.top += h } else { if (i.at[1] === g) { j.top += h / 2 } } j.left += m[0]; j.top += m[1]; return this.each(function () { var r = f(this), q = r.outerWidth(), p = r.outerHeight(), o = f.extend({}, j); if (i.my[0] === "right") { o.left -= q } else { if (i.my[0] === e) { o.left -= q / 2 } } if (i.my[1] === "bottom") { o.top -= p } else { if (i.my[1] === g) { o.top -= p / 2 } } f.each(["left", "top"], function (t, s) { if (f.ui.position[n[t]]) { f.ui.position[n[t]][s](o, { targetWidth: k, targetHeight: h, elemWidth: q, elemHeight: p, offset: m, my: i.my, at: i.at }) } }); if (f.fn.bgiframe) { r.bgiframe() } r.offset(f.extend(o, { using: i.using })) }) }; f.ui.position = { fit: { left: function (h, i) { var k = f(window), j = h.left + i.elemWidth - k.width() - k.scrollLeft(); h.left = j > 0 ? h.left - j : Math.max(0, h.left) }, top: function (h, i) { var k = f(window), j = h.top + i.elemHeight - k.height() - k.scrollTop(); h.top = j > 0 ? h.top - j : Math.max(0, h.top) } }, flip: { left: function (i, j) { if (j.at[0] === "center") { return } var l = f(window), k = i.left + j.elemWidth - l.width() - l.scrollLeft(), h = j.my[0] === "left" ? -j.elemWidth : j.my[0] === "right" ? j.elemWidth : 0, m = -2 * j.offset[0]; i.left += i.left < 0 ? h + j.targetWidth + m : k > 0 ? h - j.targetWidth + m : 0 }, top: function (i, k) { if (k.at[1] === "center") { return } var m = f(window), l = i.top + k.elemHeight - m.height() - m.scrollTop(), h = k.my[1] === "top" ? -k.elemHeight : k.my[1] === "bottom" ? k.elemHeight : 0, j = k.at[1] === "top" ? k.targetHeight : -k.targetHeight, n = -2 * k.offset[1]; i.top += i.top < 0 ? h + k.targetHeight + n : l > 0 ? h + j + n : 0 } } }; if (!f.offset.setOffset) { f.offset.setOffset = function (l, i) { if (/static/.test(f.curCSS(l, "position"))) { l.style.position = "relative" } var k = f(l), n = k.offset(), h = parseInt(f.curCSS(l, "top", true), 10) || 0, m = parseInt(f.curCSS(l, "left", true), 10) || 0, j = { top: (i.top - n.top) + h, left: (i.left - n.left) + m }; if ("using" in i) { i.using.call(l, j) } else { k.css(j) } }; f.fn.offset = function (h) { var i = this[0]; if (!i || !i.ownerDocument) { return null } if (h) { return this.each(function () { f.offset.setOffset(this, h) }) } return b.call(this) } } } (jQuery)); ; /*
 * jQuery UI Draggable 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Draggables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function (a) { a.widget("ui.draggable", a.ui.mouse, { widgetEventPrefix: "drag", options: { addClasses: true, appendTo: "parent", axis: false, connectToSortable: false, containment: false, cursor: "auto", cursorAt: false, grid: false, handle: false, helper: "original", iframeFix: false, opacity: false, refreshPositions: false, revert: false, revertDuration: 500, scope: "default", scroll: true, scrollSensitivity: 20, scrollSpeed: 20, snap: false, snapMode: "both", snapTolerance: 20, stack: false, zIndex: false }, _create: function () { if (this.options.helper == "original" && !(/^(?:r|a|f)/).test(this.element.css("position"))) { this.element[0].style.position = "relative" } (this.options.addClasses && this.element.addClass("ui-draggable")); (this.options.disabled && this.element.addClass("ui-draggable-disabled")); this._mouseInit() }, destroy: function () { if (!this.element.data("draggable")) { return } this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"); this._mouseDestroy(); return this }, _mouseCapture: function (b) { var c = this.options; if (this.helper || c.disabled || a(b.target).is(".ui-resizable-handle")) { return false } this.handle = this._getHandle(b); if (!this.handle) { return false } return true }, _mouseStart: function (b) { var c = this.options; this.helper = this._createHelper(b); this._cacheHelperProportions(); if (a.ui.ddmanager) { a.ui.ddmanager.current = this } this._cacheMargins(); this.cssPosition = this.helper.css("position"); this.scrollParent = this.helper.scrollParent(); this.offset = this.positionAbs = this.element.offset(); this.offset = { top: this.offset.top - this.margins.top, left: this.offset.left - this.margins.left }; a.extend(this.offset, { click: { left: b.pageX - this.offset.left, top: b.pageY - this.offset.top }, parent: this._getParentOffset(), relative: this._getRelativeOffset() }); this.originalPosition = this.position = this._generatePosition(b); this.originalPageX = b.pageX; this.originalPageY = b.pageY; (c.cursorAt && this._adjustOffsetFromHelper(c.cursorAt)); if (c.containment) { this._setContainment() } if (this._trigger("start", b) === false) { this._clear(); return false } this._cacheHelperProportions(); if (a.ui.ddmanager && !c.dropBehaviour) { a.ui.ddmanager.prepareOffsets(this, b) } this.helper.addClass("ui-draggable-dragging"); this._mouseDrag(b, true); return true }, _mouseDrag: function (b, d) { this.position = this._generatePosition(b); this.positionAbs = this._convertPositionTo("absolute"); if (!d) { var c = this._uiHash(); if (this._trigger("drag", b, c) === false) { this._mouseUp({}); return false } this.position = c.position } if (!this.options.axis || this.options.axis != "y") { this.helper[0].style.left = this.position.left + "px" } if (!this.options.axis || this.options.axis != "x") { this.helper[0].style.top = this.position.top + "px" } if (a.ui.ddmanager) { a.ui.ddmanager.drag(this, b) } return false }, _mouseStop: function (c) { var d = false; if (a.ui.ddmanager && !this.options.dropBehaviour) { d = a.ui.ddmanager.drop(this, c) } if (this.dropped) { d = this.dropped; this.dropped = false } if (!this.element[0] || !this.element[0].parentNode) { return false } if ((this.options.revert == "invalid" && !d) || (this.options.revert == "valid" && d) || this.options.revert === true || (a.isFunction(this.options.revert) && this.options.revert.call(this.element, d))) { var b = this; a(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function () { if (b._trigger("stop", c) !== false) { b._clear() } }) } else { if (this._trigger("stop", c) !== false) { this._clear() } } return false }, cancel: function () { if (this.helper.is(".ui-draggable-dragging")) { this._mouseUp({}) } else { this._clear() } return this }, _getHandle: function (b) { var c = !this.options.handle || !a(this.options.handle, this.element).length ? true : false; a(this.options.handle, this.element).find("*").andSelf().each(function () { if (this == b.target) { c = true } }); return c }, _createHelper: function (c) { var d = this.options; var b = a.isFunction(d.helper) ? a(d.helper.apply(this.element[0], [c])) : (d.helper == "clone" ? this.element.clone() : this.element); if (!b.parents("body").length) { b.appendTo((d.appendTo == "parent" ? this.element[0].parentNode : d.appendTo)) } if (b[0] != this.element[0] && !(/(fixed|absolute)/).test(b.css("position"))) { b.css("position", "absolute") } return b }, _adjustOffsetFromHelper: function (b) { if (typeof b == "string") { b = b.split(" ") } if (a.isArray(b)) { b = { left: +b[0], top: +b[1] || 0} } if ("left" in b) { this.offset.click.left = b.left + this.margins.left } if ("right" in b) { this.offset.click.left = this.helperProportions.width - b.right + this.margins.left } if ("top" in b) { this.offset.click.top = b.top + this.margins.top } if ("bottom" in b) { this.offset.click.top = this.helperProportions.height - b.bottom + this.margins.top } }, _getParentOffset: function () { this.offsetParent = this.helper.offsetParent(); var b = this.offsetParent.offset(); if (this.cssPosition == "absolute" && this.scrollParent[0] != document && a.ui.contains(this.scrollParent[0], this.offsetParent[0])) { b.left += this.scrollParent.scrollLeft(); b.top += this.scrollParent.scrollTop() } if ((this.offsetParent[0] == document.body) || (this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() == "html" && a.browser.msie)) { b = { top: 0, left: 0} } return { top: b.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0), left: b.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)} }, _getRelativeOffset: function () { if (this.cssPosition == "relative") { var b = this.element.position(); return { top: b.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(), left: b.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()} } else { return { top: 0, left: 0} } }, _cacheMargins: function () { this.margins = { left: (parseInt(this.element.css("marginLeft"), 10) || 0), top: (parseInt(this.element.css("marginTop"), 10) || 0)} }, _cacheHelperProportions: function () { this.helperProportions = { width: this.helper.outerWidth(), height: this.helper.outerHeight()} }, _setContainment: function () { var e = this.options; if (e.containment == "parent") { e.containment = this.helper[0].parentNode } if (e.containment == "document" || e.containment == "window") { this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, a(e.containment == "document" ? document : window).width() - this.helperProportions.width - this.margins.left, (a(e.containment == "document" ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top] } if (!(/^(document|window|parent)$/).test(e.containment) && e.containment.constructor != Array) { var c = a(e.containment)[0]; if (!c) { return } var d = a(e.containment).offset(); var b = (a(c).css("overflow") != "hidden"); this.containment = [d.left + (parseInt(a(c).css("borderLeftWidth"), 10) || 0) + (parseInt(a(c).css("paddingLeft"), 10) || 0) - this.margins.left, d.top + (parseInt(a(c).css("borderTopWidth"), 10) || 0) + (parseInt(a(c).css("paddingTop"), 10) || 0) - this.margins.top, d.left + (b ? Math.max(c.scrollWidth, c.offsetWidth) : c.offsetWidth) - (parseInt(a(c).css("borderLeftWidth"), 10) || 0) - (parseInt(a(c).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, d.top + (b ? Math.max(c.scrollHeight, c.offsetHeight) : c.offsetHeight) - (parseInt(a(c).css("borderTopWidth"), 10) || 0) - (parseInt(a(c).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top] } else { if (e.containment.constructor == Array) { this.containment = e.containment } } }, _convertPositionTo: function (f, h) { if (!h) { h = this.position } var c = f == "absolute" ? 1 : -1; var e = this.options, b = this.cssPosition == "absolute" && !(this.scrollParent[0] != document && a.ui.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, g = (/(html|body)/i).test(b[0].tagName); return { top: (h.top + this.offset.relative.top * c + this.offset.parent.top * c - (a.browser.safari && a.browser.version < 526 && this.cssPosition == "fixed" ? 0 : (this.cssPosition == "fixed" ? -this.scrollParent.scrollTop() : (g ? 0 : b.scrollTop())) * c)), left: (h.left + this.offset.relative.left * c + this.offset.parent.left * c - (a.browser.safari && a.browser.version < 526 && this.cssPosition == "fixed" ? 0 : (this.cssPosition == "fixed" ? -this.scrollParent.scrollLeft() : g ? 0 : b.scrollLeft()) * c))} }, _generatePosition: function (e) { var h = this.options, b = this.cssPosition == "absolute" && !(this.scrollParent[0] != document && a.ui.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, i = (/(html|body)/i).test(b[0].tagName); var d = e.pageX; var c = e.pageY; if (this.originalPosition) { if (this.containment) { if (e.pageX - this.offset.click.left < this.containment[0]) { d = this.containment[0] + this.offset.click.left } if (e.pageY - this.offset.click.top < this.containment[1]) { c = this.containment[1] + this.offset.click.top } if (e.pageX - this.offset.click.left > this.containment[2]) { d = this.containment[2] + this.offset.click.left } if (e.pageY - this.offset.click.top > this.containment[3]) { c = this.containment[3] + this.offset.click.top } } if (h.grid) { var g = this.originalPageY + Math.round((c - this.originalPageY) / h.grid[1]) * h.grid[1]; c = this.containment ? (!(g - this.offset.click.top < this.containment[1] || g - this.offset.click.top > this.containment[3]) ? g : (!(g - this.offset.click.top < this.containment[1]) ? g - h.grid[1] : g + h.grid[1])) : g; var f = this.originalPageX + Math.round((d - this.originalPageX) / h.grid[0]) * h.grid[0]; d = this.containment ? (!(f - this.offset.click.left < this.containment[0] || f - this.offset.click.left > this.containment[2]) ? f : (!(f - this.offset.click.left < this.containment[0]) ? f - h.grid[0] : f + h.grid[0])) : f } } return { top: (c - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + (a.browser.safari && a.browser.version < 526 && this.cssPosition == "fixed" ? 0 : (this.cssPosition == "fixed" ? -this.scrollParent.scrollTop() : (i ? 0 : b.scrollTop())))), left: (d - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + (a.browser.safari && a.browser.version < 526 && this.cssPosition == "fixed" ? 0 : (this.cssPosition == "fixed" ? -this.scrollParent.scrollLeft() : i ? 0 : b.scrollLeft())))} }, _clear: function () { this.helper.removeClass("ui-draggable-dragging"); if (this.helper[0] != this.element[0] && !this.cancelHelperRemoval) { this.helper.remove() } this.helper = null; this.cancelHelperRemoval = false }, _trigger: function (b, c, d) { d = d || this._uiHash(); a.ui.plugin.call(this, b, [c, d]); if (b == "drag") { this.positionAbs = this._convertPositionTo("absolute") } return a.Widget.prototype._trigger.call(this, b, c, d) }, plugins: {}, _uiHash: function (b) { return { helper: this.helper, position: this.position, originalPosition: this.originalPosition, offset: this.positionAbs} } }); a.extend(a.ui.draggable, { version: "1.8" }); a.ui.plugin.add("draggable", "connectToSortable", { start: function (c, e) { var d = a(this).data("draggable"), f = d.options, b = a.extend({}, e, { item: d.element }); d.sortables = []; a(f.connectToSortable).each(function () { var g = a.data(this, "sortable"); if (g && !g.options.disabled) { d.sortables.push({ instance: g, shouldRevert: g.options.revert }); g._refreshItems(); g._trigger("activate", c, b) } }) }, stop: function (c, e) { var d = a(this).data("draggable"), b = a.extend({}, e, { item: d.element }); a.each(d.sortables, function () { if (this.instance.isOver) { this.instance.isOver = 0; d.cancelHelperRemoval = true; this.instance.cancelHelperRemoval = false; if (this.shouldRevert) { this.instance.options.revert = true } this.instance._mouseStop(c); this.instance.options.helper = this.instance.options._helper; if (d.options.helper == "original") { this.instance.currentItem.css({ top: "auto", left: "auto" }) } } else { this.instance.cancelHelperRemoval = false; this.instance._trigger("deactivate", c, b) } }) }, drag: function (c, f) { var e = a(this).data("draggable"), b = this; var d = function (i) { var n = this.offset.click.top, m = this.offset.click.left; var g = this.positionAbs.top, k = this.positionAbs.left; var j = i.height, l = i.width; var p = i.top, h = i.left; return a.ui.isOver(g + n, k + m, p, h, j, l) }; a.each(e.sortables, function (g) { this.instance.positionAbs = e.positionAbs; this.instance.helperProportions = e.helperProportions; this.instance.offset.click = e.offset.click; if (this.instance._intersectsWith(this.instance.containerCache)) { if (!this.instance.isOver) { this.instance.isOver = 1; this.instance.currentItem = a(b).clone().appendTo(this.instance.element).data("sortable-item", true); this.instance.options._helper = this.instance.options.helper; this.instance.options.helper = function () { return f.helper[0] }; c.target = this.instance.currentItem[0]; this.instance._mouseCapture(c, true); this.instance._mouseStart(c, true, true); this.instance.offset.click.top = e.offset.click.top; this.instance.offset.click.left = e.offset.click.left; this.instance.offset.parent.left -= e.offset.parent.left - this.instance.offset.parent.left; this.instance.offset.parent.top -= e.offset.parent.top - this.instance.offset.parent.top; e._trigger("toSortable", c); e.dropped = this.instance.element; e.currentItem = e.element; this.instance.fromOutside = e } if (this.instance.currentItem) { this.instance._mouseDrag(c) } } else { if (this.instance.isOver) { this.instance.isOver = 0; this.instance.cancelHelperRemoval = true; this.instance.options.revert = false; this.instance._trigger("out", c, this.instance._uiHash(this.instance)); this.instance._mouseStop(c, true); this.instance.options.helper = this.instance.options._helper; this.instance.currentItem.remove(); if (this.instance.placeholder) { this.instance.placeholder.remove() } e._trigger("fromSortable", c); e.dropped = false } } }) } }); a.ui.plugin.add("draggable", "cursor", { start: function (c, d) { var b = a("body"), e = a(this).data("draggable").options; if (b.css("cursor")) { e._cursor = b.css("cursor") } b.css("cursor", e.cursor) }, stop: function (b, c) { var d = a(this).data("draggable").options; if (d._cursor) { a("body").css("cursor", d._cursor) } } }); a.ui.plugin.add("draggable", "iframeFix", { start: function (b, c) { var d = a(this).data("draggable").options; a(d.iframeFix === true ? "iframe" : d.iframeFix).each(function () { a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({ width: this.offsetWidth + "px", height: this.offsetHeight + "px", position: "absolute", opacity: "0.001", zIndex: 1000 }).css(a(this).offset()).appendTo("body") }) }, stop: function (b, c) { a("div.ui-draggable-iframeFix").each(function () { this.parentNode.removeChild(this) }) } }); a.ui.plugin.add("draggable", "opacity", { start: function (c, d) { var b = a(d.helper), e = a(this).data("draggable").options; if (b.css("opacity")) { e._opacity = b.css("opacity") } b.css("opacity", e.opacity) }, stop: function (b, c) { var d = a(this).data("draggable").options; if (d._opacity) { a(c.helper).css("opacity", d._opacity) } } }); a.ui.plugin.add("draggable", "scroll", { start: function (c, d) { var b = a(this).data("draggable"); if (b.scrollParent[0] != document && b.scrollParent[0].tagName != "HTML") { b.overflowOffset = b.scrollParent.offset() } }, drag: function (d, e) { var c = a(this).data("draggable"), f = c.options, b = false; if (c.scrollParent[0] != document && c.scrollParent[0].tagName != "HTML") { if (!f.axis || f.axis != "x") { if ((c.overflowOffset.top + c.scrollParent[0].offsetHeight) - d.pageY < f.scrollSensitivity) { c.scrollParent[0].scrollTop = b = c.scrollParent[0].scrollTop + f.scrollSpeed } else { if (d.pageY - c.overflowOffset.top < f.scrollSensitivity) { c.scrollParent[0].scrollTop = b = c.scrollParent[0].scrollTop - f.scrollSpeed } } } if (!f.axis || f.axis != "y") { if ((c.overflowOffset.left + c.scrollParent[0].offsetWidth) - d.pageX < f.scrollSensitivity) { c.scrollParent[0].scrollLeft = b = c.scrollParent[0].scrollLeft + f.scrollSpeed } else { if (d.pageX - c.overflowOffset.left < f.scrollSensitivity) { c.scrollParent[0].scrollLeft = b = c.scrollParent[0].scrollLeft - f.scrollSpeed } } } } else { if (!f.axis || f.axis != "x") { if (d.pageY - a(document).scrollTop() < f.scrollSensitivity) { b = a(document).scrollTop(a(document).scrollTop() - f.scrollSpeed) } else { if (a(window).height() - (d.pageY - a(document).scrollTop()) < f.scrollSensitivity) { b = a(document).scrollTop(a(document).scrollTop() + f.scrollSpeed) } } } if (!f.axis || f.axis != "y") { if (d.pageX - a(document).scrollLeft() < f.scrollSensitivity) { b = a(document).scrollLeft(a(document).scrollLeft() - f.scrollSpeed) } else { if (a(window).width() - (d.pageX - a(document).scrollLeft()) < f.scrollSensitivity) { b = a(document).scrollLeft(a(document).scrollLeft() + f.scrollSpeed) } } } } if (b !== false && a.ui.ddmanager && !f.dropBehaviour) { a.ui.ddmanager.prepareOffsets(c, d) } } }); a.ui.plugin.add("draggable", "snap", { start: function (c, d) { var b = a(this).data("draggable"), e = b.options; b.snapElements = []; a(e.snap.constructor != String ? (e.snap.items || ":data(draggable)") : e.snap).each(function () { var g = a(this); var f = g.offset(); if (this != b.element[0]) { b.snapElements.push({ item: this, width: g.outerWidth(), height: g.outerHeight(), top: f.top, left: f.left }) } }) }, drag: function (u, p) { var g = a(this).data("draggable"), q = g.options; var y = q.snapTolerance; var x = p.offset.left, w = x + g.helperProportions.width, f = p.offset.top, e = f + g.helperProportions.height; for (var v = g.snapElements.length - 1; v >= 0; v--) { var s = g.snapElements[v].left, n = s + g.snapElements[v].width, m = g.snapElements[v].top, A = m + g.snapElements[v].height; if (!((s - y < x && x < n + y && m - y < f && f < A + y) || (s - y < x && x < n + y && m - y < e && e < A + y) || (s - y < w && w < n + y && m - y < f && f < A + y) || (s - y < w && w < n + y && m - y < e && e < A + y))) { if (g.snapElements[v].snapping) { (g.options.snap.release && g.options.snap.release.call(g.element, u, a.extend(g._uiHash(), { snapItem: g.snapElements[v].item }))) } g.snapElements[v].snapping = false; continue } if (q.snapMode != "inner") { var c = Math.abs(m - e) <= y; var z = Math.abs(A - f) <= y; var j = Math.abs(s - w) <= y; var k = Math.abs(n - x) <= y; if (c) { p.position.top = g._convertPositionTo("relative", { top: m - g.helperProportions.height, left: 0 }).top - g.margins.top } if (z) { p.position.top = g._convertPositionTo("relative", { top: A, left: 0 }).top - g.margins.top } if (j) { p.position.left = g._convertPositionTo("relative", { top: 0, left: s - g.helperProportions.width }).left - g.margins.left } if (k) { p.position.left = g._convertPositionTo("relative", { top: 0, left: n }).left - g.margins.left } } var h = (c || z || j || k); if (q.snapMode != "outer") { var c = Math.abs(m - f) <= y; var z = Math.abs(A - e) <= y; var j = Math.abs(s - x) <= y; var k = Math.abs(n - w) <= y; if (c) { p.position.top = g._convertPositionTo("relative", { top: m, left: 0 }).top - g.margins.top } if (z) { p.position.top = g._convertPositionTo("relative", { top: A - g.helperProportions.height, left: 0 }).top - g.margins.top } if (j) { p.position.left = g._convertPositionTo("relative", { top: 0, left: s }).left - g.margins.left } if (k) { p.position.left = g._convertPositionTo("relative", { top: 0, left: n - g.helperProportions.width }).left - g.margins.left } } if (!g.snapElements[v].snapping && (c || z || j || k || h)) { (g.options.snap.snap && g.options.snap.snap.call(g.element, u, a.extend(g._uiHash(), { snapItem: g.snapElements[v].item }))) } g.snapElements[v].snapping = (c || z || j || k || h) } } }); a.ui.plugin.add("draggable", "stack", { start: function (c, d) { var f = a(this).data("draggable").options; var e = a.makeArray(a(f.stack)).sort(function (h, g) { return (parseInt(a(h).css("zIndex"), 10) || 0) - (parseInt(a(g).css("zIndex"), 10) || 0) }); if (!e.length) { return } var b = parseInt(e[0].style.zIndex) || 0; a(e).each(function (g) { this.style.zIndex = b + g }); this[0].style.zIndex = b + e.length } }); a.ui.plugin.add("draggable", "zIndex", { start: function (c, d) { var b = a(d.helper), e = a(this).data("draggable").options; if (b.css("zIndex")) { e._zIndex = b.css("zIndex") } b.css("zIndex", e.zIndex) }, stop: function (b, c) { var d = a(this).data("draggable").options; if (d._zIndex) { a(c.helper).css("zIndex", d._zIndex) } } }) })(jQuery); ; /*
 * jQuery UI Droppable 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Droppables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.mouse.js
 *	jquery.ui.draggable.js
 */
(function (a) { a.widget("ui.droppable", { widgetEventPrefix: "drop", options: { accept: "*", activeClass: false, addClasses: true, greedy: false, hoverClass: false, scope: "default", tolerance: "intersect" }, _create: function () { var c = this.options, b = c.accept; this.isover = 0; this.isout = 1; this.accept = a.isFunction(b) ? b : function (e) { return e.is(b) }; this.proportions = { width: this.element[0].offsetWidth, height: this.element[0].offsetHeight }; a.ui.ddmanager.droppables[c.scope] = a.ui.ddmanager.droppables[c.scope] || []; a.ui.ddmanager.droppables[c.scope].push(this); (c.addClasses && this.element.addClass("ui-droppable")) }, destroy: function () { var b = a.ui.ddmanager.droppables[this.options.scope]; for (var c = 0; c < b.length; c++) { if (b[c] == this) { b.splice(c, 1) } } this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"); return this }, _setOption: function (b, c) { if (b == "accept") { this.accept = a.isFunction(c) ? c : function (e) { return e.is(c) } } a.Widget.prototype._setOption.apply(this, arguments) }, _activate: function (c) { var b = a.ui.ddmanager.current; if (this.options.activeClass) { this.element.addClass(this.options.activeClass) } (b && this._trigger("activate", c, this.ui(b))) }, _deactivate: function (c) { var b = a.ui.ddmanager.current; if (this.options.activeClass) { this.element.removeClass(this.options.activeClass) } (b && this._trigger("deactivate", c, this.ui(b))) }, _over: function (c) { var b = a.ui.ddmanager.current; if (!b || (b.currentItem || b.element)[0] == this.element[0]) { return } if (this.accept.call(this.element[0], (b.currentItem || b.element))) { if (this.options.hoverClass) { this.element.addClass(this.options.hoverClass) } this._trigger("over", c, this.ui(b)) } }, _out: function (c) { var b = a.ui.ddmanager.current; if (!b || (b.currentItem || b.element)[0] == this.element[0]) { return } if (this.accept.call(this.element[0], (b.currentItem || b.element))) { if (this.options.hoverClass) { this.element.removeClass(this.options.hoverClass) } this._trigger("out", c, this.ui(b)) } }, _drop: function (c, d) { var b = d || a.ui.ddmanager.current; if (!b || (b.currentItem || b.element)[0] == this.element[0]) { return false } var e = false; this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function () { var f = a.data(this, "droppable"); if (f.options.greedy && !f.options.disabled && f.options.scope == b.options.scope && f.accept.call(f.element[0], (b.currentItem || b.element)) && a.ui.intersect(b, a.extend(f, { offset: f.element.offset() }), f.options.tolerance)) { e = true; return false } }); if (e) { return false } if (this.accept.call(this.element[0], (b.currentItem || b.element))) { if (this.options.activeClass) { this.element.removeClass(this.options.activeClass) } if (this.options.hoverClass) { this.element.removeClass(this.options.hoverClass) } this._trigger("drop", c, this.ui(b)); return this.element } return false }, ui: function (b) { return { draggable: (b.currentItem || b.element), helper: b.helper, position: b.position, offset: b.positionAbs} } }); a.extend(a.ui.droppable, { version: "1.8" }); a.ui.intersect = function (q, j, o) { if (!j.offset) { return false } var e = (q.positionAbs || q.position.absolute).left, d = e + q.helperProportions.width, n = (q.positionAbs || q.position.absolute).top, m = n + q.helperProportions.height; var g = j.offset.left, c = g + j.proportions.width, p = j.offset.top, k = p + j.proportions.height; switch (o) { case "fit": return (g < e && d < c && p < n && m < k); break; case "intersect": return (g < e + (q.helperProportions.width / 2) && d - (q.helperProportions.width / 2) < c && p < n + (q.helperProportions.height / 2) && m - (q.helperProportions.height / 2) < k); break; case "pointer": var h = ((q.positionAbs || q.position.absolute).left + (q.clickOffset || q.offset.click).left), i = ((q.positionAbs || q.position.absolute).top + (q.clickOffset || q.offset.click).top), f = a.ui.isOver(i, h, p, g, j.proportions.height, j.proportions.width); return f; break; case "touch": return ((n >= p && n <= k) || (m >= p && m <= k) || (n < p && m > k)) && ((e >= g && e <= c) || (d >= g && d <= c) || (e < g && d > c)); break; default: return false; break } }; a.ui.ddmanager = { current: null, droppables: { "default": [] }, prepareOffsets: function (e, g) { var b = a.ui.ddmanager.droppables[e.options.scope] || []; var f = g ? g.type : null; var h = (e.currentItem || e.element).find(":data(droppable)").andSelf(); droppablesLoop: for (var d = 0; d < b.length; d++) { if (b[d].options.disabled || (e && !b[d].accept.call(b[d].element[0], (e.currentItem || e.element)))) { continue } for (var c = 0; c < h.length; c++) { if (h[c] == b[d].element[0]) { b[d].proportions.height = 0; continue droppablesLoop } } b[d].visible = b[d].element.css("display") != "none"; if (!b[d].visible) { continue } b[d].offset = b[d].element.offset(); b[d].proportions = { width: b[d].element[0].offsetWidth, height: b[d].element[0].offsetHeight }; if (f == "mousedown") { b[d]._activate.call(b[d], g) } } }, drop: function (b, c) { var d = false; a.each(a.ui.ddmanager.droppables[b.options.scope] || [], function () { if (!this.options) { return } if (!this.options.disabled && this.visible && a.ui.intersect(b, this, this.options.tolerance)) { d = d || this._drop.call(this, c) } if (!this.options.disabled && this.visible && this.accept.call(this.element[0], (b.currentItem || b.element))) { this.isout = 1; this.isover = 0; this._deactivate.call(this, c) } }); return d }, drag: function (b, c) { if (b.options.refreshPositions) { a.ui.ddmanager.prepareOffsets(b, c) } a.each(a.ui.ddmanager.droppables[b.options.scope] || [], function () { if (this.options.disabled || this.greedyChild || !this.visible) { return } var e = a.ui.intersect(b, this, this.options.tolerance); var g = !e && this.isover == 1 ? "isout" : (e && this.isover == 0 ? "isover" : null); if (!g) { return } var f; if (this.options.greedy) { var d = this.element.parents(":data(droppable):eq(0)"); if (d.length) { f = a.data(d[0], "droppable"); f.greedyChild = (g == "isover" ? 1 : 0) } } if (f && g == "isover") { f.isover = 0; f.isout = 1; f._out.call(f, c) } this[g] = 1; this[g == "isout" ? "isover" : "isout"] = 0; this[g == "isover" ? "_over" : "_out"].call(this, c); if (f && g == "isout") { f.isout = 0; f.isover = 1; f._over.call(f, c) } }) } } })(jQuery); ; /*
 * jQuery UI Resizable 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Resizables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function (c) { c.widget("ui.resizable", c.ui.mouse, { widgetEventPrefix: "resize", options: { alsoResize: false, animate: false, animateDuration: "slow", animateEasing: "swing", aspectRatio: false, autoHide: false, containment: false, ghost: false, grid: false, handles: "e,s,se", helper: false, maxHeight: null, maxWidth: null, minHeight: 10, minWidth: 10, zIndex: 1000 }, _create: function () { var e = this, j = this.options; this.element.addClass("ui-resizable"); c.extend(this, { _aspectRatio: !!(j.aspectRatio), aspectRatio: j.aspectRatio, originalElement: this.element, _proportionallyResizeElements: [], _helper: j.helper || j.ghost || j.animate ? j.helper || "ui-resizable-helper" : null }); if (this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)) { if (/relative/.test(this.element.css("position")) && c.browser.opera) { this.element.css({ position: "relative", top: "auto", left: "auto" }) } this.element.wrap(c('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({ position: this.element.css("position"), width: this.element.outerWidth(), height: this.element.outerHeight(), top: this.element.css("top"), left: this.element.css("left") })); this.element = this.element.parent().data("resizable", this.element.data("resizable")); this.elementIsWrapper = true; this.element.css({ marginLeft: this.originalElement.css("marginLeft"), marginTop: this.originalElement.css("marginTop"), marginRight: this.originalElement.css("marginRight"), marginBottom: this.originalElement.css("marginBottom") }); this.originalElement.css({ marginLeft: 0, marginTop: 0, marginRight: 0, marginBottom: 0 }); this.originalResizeStyle = this.originalElement.css("resize"); this.originalElement.css("resize", "none"); this._proportionallyResizeElements.push(this.originalElement.css({ position: "static", zoom: 1, display: "block" })); this.originalElement.css({ margin: this.originalElement.css("margin") }); this._proportionallyResize() } this.handles = j.handles || (!c(".ui-resizable-handle", this.element).length ? "e,s,se" : { n: ".ui-resizable-n", e: ".ui-resizable-e", s: ".ui-resizable-s", w: ".ui-resizable-w", se: ".ui-resizable-se", sw: ".ui-resizable-sw", ne: ".ui-resizable-ne", nw: ".ui-resizable-nw" }); if (this.handles.constructor == String) { if (this.handles == "all") { this.handles = "n,e,s,w,se,sw,ne,nw" } var k = this.handles.split(","); this.handles = {}; for (var f = 0; f < k.length; f++) { var h = c.trim(k[f]), d = "ui-resizable-" + h; var g = c('<div class="ui-resizable-handle ' + d + '"></div>'); if (/sw|se|ne|nw/.test(h)) { g.css({ zIndex: ++j.zIndex }) } if ("se" == h) { g.addClass("ui-icon ui-icon-gripsmall-diagonal-se") } this.handles[h] = ".ui-resizable-" + h; this.element.append(g) } } this._renderAxis = function (p) { p = p || this.element; for (var m in this.handles) { if (this.handles[m].constructor == String) { this.handles[m] = c(this.handles[m], this.element).show() } if (this.elementIsWrapper && this.originalElement[0].nodeName.match(/textarea|input|select|button/i)) { var n = c(this.handles[m], this.element), o = 0; o = /sw|ne|nw|se|n|s/.test(m) ? n.outerHeight() : n.outerWidth(); var l = ["padding", /ne|nw|n/.test(m) ? "Top" : /se|sw|s/.test(m) ? "Bottom" : /^e$/.test(m) ? "Right" : "Left"].join(""); p.css(l, o); this._proportionallyResize() } if (!c(this.handles[m]).length) { continue } } }; this._renderAxis(this.element); this._handles = c(".ui-resizable-handle", this.element).disableSelection(); this._handles.mouseover(function () { if (!e.resizing) { if (this.className) { var i = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i) } e.axis = i && i[1] ? i[1] : "se" } }); if (j.autoHide) { this._handles.hide(); c(this.element).addClass("ui-resizable-autohide").hover(function () { c(this).removeClass("ui-resizable-autohide"); e._handles.show() }, function () { if (!e.resizing) { c(this).addClass("ui-resizable-autohide"); e._handles.hide() } }) } this._mouseInit() }, destroy: function () { this._mouseDestroy(); var d = function (f) { c(f).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove() }; if (this.elementIsWrapper) { d(this.element); var e = this.element; e.after(this.originalElement.css({ position: e.css("position"), width: e.outerWidth(), height: e.outerHeight(), top: e.css("top"), left: e.css("left") })).remove() } this.originalElement.css("resize", this.originalResizeStyle); d(this.originalElement); return this }, _mouseCapture: function (e) { var f = false; for (var d in this.handles) { if (c(this.handles[d])[0] == e.target) { f = true } } return !this.options.disabled && f }, _mouseStart: function (f) { var i = this.options, e = this.element.position(), d = this.element; this.resizing = true; this.documentScroll = { top: c(document).scrollTop(), left: c(document).scrollLeft() }; if (d.is(".ui-draggable") || (/absolute/).test(d.css("position"))) { d.css({ position: "absolute", top: e.top, left: e.left }) } if (c.browser.opera && (/relative/).test(d.css("position"))) { d.css({ position: "relative", top: "auto", left: "auto" }) } this._renderProxy(); var j = b(this.helper.css("left")), g = b(this.helper.css("top")); if (i.containment) { j += c(i.containment).scrollLeft() || 0; g += c(i.containment).scrollTop() || 0 } this.offset = this.helper.offset(); this.position = { left: j, top: g }; this.size = this._helper ? { width: d.outerWidth(), height: d.outerHeight()} : { width: d.width(), height: d.height() }; this.originalSize = this._helper ? { width: d.outerWidth(), height: d.outerHeight()} : { width: d.width(), height: d.height() }; this.originalPosition = { left: j, top: g }; this.sizeDiff = { width: d.outerWidth() - d.width(), height: d.outerHeight() - d.height() }; this.originalMousePosition = { left: f.pageX, top: f.pageY }; this.aspectRatio = (typeof i.aspectRatio == "number") ? i.aspectRatio : ((this.originalSize.width / this.originalSize.height) || 1); var h = c(".ui-resizable-" + this.axis).css("cursor"); c("body").css("cursor", h == "auto" ? this.axis + "-resize" : h); d.addClass("ui-resizable-resizing"); this._propagate("start", f); return true }, _mouseDrag: function (d) { var g = this.helper, f = this.options, l = {}, p = this, i = this.originalMousePosition, m = this.axis; var q = (d.pageX - i.left) || 0, n = (d.pageY - i.top) || 0; var h = this._change[m]; if (!h) { return false } var k = h.apply(this, [d, q, n]), j = c.browser.msie && c.browser.version < 7, e = this.sizeDiff; if (this._aspectRatio || d.shiftKey) { k = this._updateRatio(k, d) } k = this._respectSize(k, d); this._propagate("resize", d); g.css({ top: this.position.top + "px", left: this.position.left + "px", width: this.size.width + "px", height: this.size.height + "px" }); if (!this._helper && this._proportionallyResizeElements.length) { this._proportionallyResize() } this._updateCache(k); this._trigger("resize", d, this.ui()); return false }, _mouseStop: function (g) { this.resizing = false; var h = this.options, l = this; if (this._helper) { var f = this._proportionallyResizeElements, d = f.length && (/textarea/i).test(f[0].nodeName), e = d && c.ui.hasScroll(f[0], "left") ? 0 : l.sizeDiff.height, j = d ? 0 : l.sizeDiff.width; var m = { width: (l.size.width - j), height: (l.size.height - e) }, i = (parseInt(l.element.css("left"), 10) + (l.position.left - l.originalPosition.left)) || null, k = (parseInt(l.element.css("top"), 10) + (l.position.top - l.originalPosition.top)) || null; if (!h.animate) { this.element.css(c.extend(m, { top: k, left: i })) } l.helper.height(l.size.height); l.helper.width(l.size.width); if (this._helper && !h.animate) { this._proportionallyResize() } } c("body").css("cursor", "auto"); this.element.removeClass("ui-resizable-resizing"); this._propagate("stop", g); if (this._helper) { this.helper.remove() } return false }, _updateCache: function (d) { var e = this.options; this.offset = this.helper.offset(); if (a(d.left)) { this.position.left = d.left } if (a(d.top)) { this.position.top = d.top } if (a(d.height)) { this.size.height = d.height } if (a(d.width)) { this.size.width = d.width } }, _updateRatio: function (g, f) { var h = this.options, i = this.position, e = this.size, d = this.axis; if (g.height) { g.width = (e.height * this.aspectRatio) } else { if (g.width) { g.height = (e.width / this.aspectRatio) } } if (d == "sw") { g.left = i.left + (e.width - g.width); g.top = null } if (d == "nw") { g.top = i.top + (e.height - g.height); g.left = i.left + (e.width - g.width) } return g }, _respectSize: function (k, f) { var i = this.helper, h = this.options, q = this._aspectRatio || f.shiftKey, p = this.axis, s = a(k.width) && h.maxWidth && (h.maxWidth < k.width), l = a(k.height) && h.maxHeight && (h.maxHeight < k.height), g = a(k.width) && h.minWidth && (h.minWidth > k.width), r = a(k.height) && h.minHeight && (h.minHeight > k.height); if (g) { k.width = h.minWidth } if (r) { k.height = h.minHeight } if (s) { k.width = h.maxWidth } if (l) { k.height = h.maxHeight } var e = this.originalPosition.left + this.originalSize.width, n = this.position.top + this.size.height; var j = /sw|nw|w/.test(p), d = /nw|ne|n/.test(p); if (g && j) { k.left = e - h.minWidth } if (s && j) { k.left = e - h.maxWidth } if (r && d) { k.top = n - h.minHeight } if (l && d) { k.top = n - h.maxHeight } var m = !k.width && !k.height; if (m && !k.left && k.top) { k.top = null } else { if (m && !k.top && k.left) { k.left = null } } return k }, _proportionallyResize: function () { var j = this.options; if (!this._proportionallyResizeElements.length) { return } var f = this.helper || this.element; for (var e = 0; e < this._proportionallyResizeElements.length; e++) { var g = this._proportionallyResizeElements[e]; if (!this.borderDif) { var d = [g.css("borderTopWidth"), g.css("borderRightWidth"), g.css("borderBottomWidth"), g.css("borderLeftWidth")], h = [g.css("paddingTop"), g.css("paddingRight"), g.css("paddingBottom"), g.css("paddingLeft")]; this.borderDif = c.map(d, function (k, m) { var l = parseInt(k, 10) || 0, n = parseInt(h[m], 10) || 0; return l + n }) } if (c.browser.msie && !(!(c(f).is(":hidden") || c(f).parents(":hidden").length))) { continue } g.css({ height: (f.height() - this.borderDif[0] - this.borderDif[2]) || 0, width: (f.width() - this.borderDif[1] - this.borderDif[3]) || 0 }) } }, _renderProxy: function () { var e = this.element, h = this.options; this.elementOffset = e.offset(); if (this._helper) { this.helper = this.helper || c('<div style="overflow:hidden;"></div>'); var d = c.browser.msie && c.browser.version < 7, f = (d ? 1 : 0), g = (d ? 2 : -1); this.helper.addClass(this._helper).css({ width: this.element.outerWidth() + g, height: this.element.outerHeight() + g, position: "absolute", left: this.elementOffset.left - f + "px", top: this.elementOffset.top - f + "px", zIndex: ++h.zIndex }); this.helper.appendTo("body").disableSelection() } else { this.helper = this.element } }, _change: { e: function (f, e, d) { return { width: this.originalSize.width + e} }, w: function (g, e, d) { var i = this.options, f = this.originalSize, h = this.originalPosition; return { left: h.left + e, width: f.width - e} }, n: function (g, e, d) { var i = this.options, f = this.originalSize, h = this.originalPosition; return { top: h.top + d, height: f.height - d} }, s: function (f, e, d) { return { height: this.originalSize.height + d} }, se: function (f, e, d) { return c.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [f, e, d])) }, sw: function (f, e, d) { return c.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [f, e, d])) }, ne: function (f, e, d) { return c.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [f, e, d])) }, nw: function (f, e, d) { return c.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [f, e, d])) } }, _propagate: function (e, d) { c.ui.plugin.call(this, e, [d, this.ui()]); (e != "resize" && this._trigger(e, d, this.ui())) }, plugins: {}, ui: function () { return { originalElement: this.originalElement, element: this.element, helper: this.helper, position: this.position, size: this.size, originalSize: this.originalSize, originalPosition: this.originalPosition} } }); c.extend(c.ui.resizable, { version: "1.8" }); c.ui.plugin.add("resizable", "alsoResize", { start: function (e, f) { var d = c(this).data("resizable"), h = d.options; var g = function (i) { c(i).each(function () { c(this).data("resizable-alsoresize", { width: parseInt(c(this).width(), 10), height: parseInt(c(this).height(), 10), left: parseInt(c(this).css("left"), 10), top: parseInt(c(this).css("top"), 10) }) }) }; if (typeof (h.alsoResize) == "object" && !h.alsoResize.parentNode) { if (h.alsoResize.length) { h.alsoResize = h.alsoResize[0]; g(h.alsoResize) } else { c.each(h.alsoResize, function (i, j) { g(i) }) } } else { g(h.alsoResize) } }, resize: function (f, h) { var e = c(this).data("resizable"), i = e.options, g = e.originalSize, k = e.originalPosition; var j = { height: (e.size.height - g.height) || 0, width: (e.size.width - g.width) || 0, top: (e.position.top - k.top) || 0, left: (e.position.left - k.left) || 0 }, d = function (l, m) { c(l).each(function () { var p = c(this), q = c(this).data("resizable-alsoresize"), o = {}, n = m && m.length ? m : ["width", "height", "top", "left"]; c.each(n || ["width", "height", "top", "left"], function (r, t) { var s = (q[t] || 0) + (j[t] || 0); if (s && s >= 0) { o[t] = s || null } }); if (/relative/.test(p.css("position")) && c.browser.opera) { e._revertToRelativePosition = true; p.css({ position: "absolute", top: "auto", left: "auto" }) } p.css(o) }) }; if (typeof (i.alsoResize) == "object" && !i.alsoResize.nodeType) { c.each(i.alsoResize, function (l, m) { d(l, m) }) } else { d(i.alsoResize) } }, stop: function (e, f) { var d = c(this).data("resizable"); if (d._revertToRelativePosition && c.browser.opera) { d._revertToRelativePosition = false; el.css({ position: "relative" }) } c(this).removeData("resizable-alsoresize-start") } }); c.ui.plugin.add("resizable", "animate", { stop: function (h, m) { var n = c(this).data("resizable"), i = n.options; var g = n._proportionallyResizeElements, d = g.length && (/textarea/i).test(g[0].nodeName), e = d && c.ui.hasScroll(g[0], "left") ? 0 : n.sizeDiff.height, k = d ? 0 : n.sizeDiff.width; var f = { width: (n.size.width - k), height: (n.size.height - e) }, j = (parseInt(n.element.css("left"), 10) + (n.position.left - n.originalPosition.left)) || null, l = (parseInt(n.element.css("top"), 10) + (n.position.top - n.originalPosition.top)) || null; n.element.animate(c.extend(f, l && j ? { top: l, left: j} : {}), { duration: i.animateDuration, easing: i.animateEasing, step: function () { var o = { width: parseInt(n.element.css("width"), 10), height: parseInt(n.element.css("height"), 10), top: parseInt(n.element.css("top"), 10), left: parseInt(n.element.css("left"), 10) }; if (g && g.length) { c(g[0]).css({ width: o.width, height: o.height }) } n._updateCache(o); n._propagate("resize", h) } }) } }); c.ui.plugin.add("resizable", "containment", { start: function (e, q) { var s = c(this).data("resizable"), i = s.options, k = s.element; var f = i.containment, j = (f instanceof c) ? f.get(0) : (/parent/.test(f)) ? k.parent().get(0) : f; if (!j) { return } s.containerElement = c(j); if (/document/.test(f) || f == document) { s.containerOffset = { left: 0, top: 0 }; s.containerPosition = { left: 0, top: 0 }; s.parentData = { element: c(document), left: 0, top: 0, width: c(document).width(), height: c(document).height() || document.body.parentNode.scrollHeight} } else { var m = c(j), h = []; c(["Top", "Right", "Left", "Bottom"]).each(function (p, o) { h[p] = b(m.css("padding" + o)) }); s.containerOffset = m.offset(); s.containerPosition = m.position(); s.containerSize = { height: (m.innerHeight() - h[3]), width: (m.innerWidth() - h[1]) }; var n = s.containerOffset, d = s.containerSize.height, l = s.containerSize.width, g = (c.ui.hasScroll(j, "left") ? j.scrollWidth : l), r = (c.ui.hasScroll(j) ? j.scrollHeight : d); s.parentData = { element: j, left: n.left, top: n.top, width: g, height: r} } }, resize: function (f, p) { var s = c(this).data("resizable"), h = s.options, e = s.containerSize, n = s.containerOffset, l = s.size, m = s.position, q = s._aspectRatio || f.shiftKey, d = { top: 0, left: 0 }, g = s.containerElement; if (g[0] != document && (/static/).test(g.css("position"))) { d = n } if (m.left < (s._helper ? n.left : 0)) { s.size.width = s.size.width + (s._helper ? (s.position.left - n.left) : (s.position.left - d.left)); if (q) { s.size.height = s.size.width / h.aspectRatio } s.position.left = h.helper ? n.left : 0 } if (m.top < (s._helper ? n.top : 0)) { s.size.height = s.size.height + (s._helper ? (s.position.top - n.top) : s.position.top); if (q) { s.size.width = s.size.height * h.aspectRatio } s.position.top = s._helper ? n.top : 0 } s.offset.left = s.parentData.left + s.position.left; s.offset.top = s.parentData.top + s.position.top; var k = Math.abs((s._helper ? s.offset.left - d.left : (s.offset.left - d.left)) + s.sizeDiff.width), r = Math.abs((s._helper ? s.offset.top - d.top : (s.offset.top - n.top)) + s.sizeDiff.height); var j = s.containerElement.get(0) == s.element.parent().get(0), i = /relative|absolute/.test(s.containerElement.css("position")); if (j && i) { k -= s.parentData.left } if (k + s.size.width >= s.parentData.width) { s.size.width = s.parentData.width - k; if (q) { s.size.height = s.size.width / s.aspectRatio } } if (r + s.size.height >= s.parentData.height) { s.size.height = s.parentData.height - r; if (q) { s.size.width = s.size.height * s.aspectRatio } } }, stop: function (e, m) { var p = c(this).data("resizable"), f = p.options, k = p.position, l = p.containerOffset, d = p.containerPosition, g = p.containerElement; var i = c(p.helper), q = i.offset(), n = i.outerWidth() - p.sizeDiff.width, j = i.outerHeight() - p.sizeDiff.height; if (p._helper && !f.animate && (/relative/).test(g.css("position"))) { c(this).css({ left: q.left - d.left - l.left, width: n, height: j }) } if (p._helper && !f.animate && (/static/).test(g.css("position"))) { c(this).css({ left: q.left - d.left - l.left, width: n, height: j }) } } }); c.ui.plugin.add("resizable", "ghost", { start: function (f, g) { var d = c(this).data("resizable"), h = d.options, e = d.size; d.ghost = d.originalElement.clone(); d.ghost.css({ opacity: 0.25, display: "block", position: "relative", height: e.height, width: e.width, margin: 0, left: 0, top: 0 }).addClass("ui-resizable-ghost").addClass(typeof h.ghost == "string" ? h.ghost : ""); d.ghost.appendTo(d.helper) }, resize: function (e, f) { var d = c(this).data("resizable"), g = d.options; if (d.ghost) { d.ghost.css({ position: "relative", height: d.size.height, width: d.size.width }) } }, stop: function (e, f) { var d = c(this).data("resizable"), g = d.options; if (d.ghost && d.helper) { d.helper.get(0).removeChild(d.ghost.get(0)) } } }); c.ui.plugin.add("resizable", "grid", { resize: function (d, l) { var n = c(this).data("resizable"), g = n.options, j = n.size, h = n.originalSize, i = n.originalPosition, m = n.axis, k = g._aspectRatio || d.shiftKey; g.grid = typeof g.grid == "number" ? [g.grid, g.grid] : g.grid; var f = Math.round((j.width - h.width) / (g.grid[0] || 1)) * (g.grid[0] || 1), e = Math.round((j.height - h.height) / (g.grid[1] || 1)) * (g.grid[1] || 1); if (/^(se|s|e)$/.test(m)) { n.size.width = h.width + f; n.size.height = h.height + e } else { if (/^(ne)$/.test(m)) { n.size.width = h.width + f; n.size.height = h.height + e; n.position.top = i.top - e } else { if (/^(sw)$/.test(m)) { n.size.width = h.width + f; n.size.height = h.height + e; n.position.left = i.left - f } else { n.size.width = h.width + f; n.size.height = h.height + e; n.position.top = i.top - e; n.position.left = i.left - f } } } } }); var b = function (d) { return parseInt(d, 10) || 0 }; var a = function (d) { return !isNaN(parseInt(d, 10)) } })(jQuery); ; /*
 * jQuery UI Selectable 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Selectables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function (a) { a.widget("ui.selectable", a.ui.mouse, { options: { appendTo: "body", autoRefresh: true, distance: 0, filter: "*", tolerance: "touch" }, _create: function () { var b = this; this.element.addClass("ui-selectable"); this.dragged = false; var c; this.refresh = function () { c = a(b.options.filter, b.element[0]); c.each(function () { var d = a(this); var e = d.offset(); a.data(this, "selectable-item", { element: this, $element: d, left: e.left, top: e.top, right: e.left + d.outerWidth(), bottom: e.top + d.outerHeight(), startselected: false, selected: d.hasClass("ui-selected"), selecting: d.hasClass("ui-selecting"), unselecting: d.hasClass("ui-unselecting") }) }) }; this.refresh(); this.selectees = c.addClass("ui-selectee"); this._mouseInit(); this.helper = a(document.createElement("div")).css({ border: "1px dotted black" }).addClass("ui-selectable-helper") }, destroy: function () { this.selectees.removeClass("ui-selectee").removeData("selectable-item"); this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"); this._mouseDestroy(); return this }, _mouseStart: function (d) { var b = this; this.opos = [d.pageX, d.pageY]; if (this.options.disabled) { return } var c = this.options; this.selectees = a(c.filter, this.element[0]); this._trigger("start", d); a(c.appendTo).append(this.helper); this.helper.css({ "z-index": 100, position: "absolute", left: d.clientX, top: d.clientY, width: 0, height: 0 }); if (c.autoRefresh) { this.refresh() } this.selectees.filter(".ui-selected").each(function () { var e = a.data(this, "selectable-item"); e.startselected = true; if (!d.metaKey) { e.$element.removeClass("ui-selected"); e.selected = false; e.$element.addClass("ui-unselecting"); e.unselecting = true; b._trigger("unselecting", d, { unselecting: e.element }) } }); a(d.target).parents().andSelf().each(function () { var e = a.data(this, "selectable-item"); if (e) { e.$element.removeClass("ui-unselecting").addClass("ui-selecting"); e.unselecting = false; e.selecting = true; e.selected = true; b._trigger("selecting", d, { selecting: e.element }); return false } }) }, _mouseDrag: function (i) { var c = this; this.dragged = true; if (this.options.disabled) { return } var e = this.options; var d = this.opos[0], h = this.opos[1], b = i.pageX, g = i.pageY; if (d > b) { var f = b; b = d; d = f } if (h > g) { var f = g; g = h; h = f } this.helper.css({ left: d, top: h, width: b - d, height: g - h }); this.selectees.each(function () { var j = a.data(this, "selectable-item"); if (!j || j.element == c.element[0]) { return } var k = false; if (e.tolerance == "touch") { k = (!(j.left > b || j.right < d || j.top > g || j.bottom < h)) } else { if (e.tolerance == "fit") { k = (j.left > d && j.right < b && j.top > h && j.bottom < g) } } if (k) { if (j.selected) { j.$element.removeClass("ui-selected"); j.selected = false } if (j.unselecting) { j.$element.removeClass("ui-unselecting"); j.unselecting = false } if (!j.selecting) { j.$element.addClass("ui-selecting"); j.selecting = true; c._trigger("selecting", i, { selecting: j.element }) } } else { if (j.selecting) { if (i.metaKey && j.startselected) { j.$element.removeClass("ui-selecting"); j.selecting = false; j.$element.addClass("ui-selected"); j.selected = true } else { j.$element.removeClass("ui-selecting"); j.selecting = false; if (j.startselected) { j.$element.addClass("ui-unselecting"); j.unselecting = true } c._trigger("unselecting", i, { unselecting: j.element }) } } if (j.selected) { if (!i.metaKey && !j.startselected) { j.$element.removeClass("ui-selected"); j.selected = false; j.$element.addClass("ui-unselecting"); j.unselecting = true; c._trigger("unselecting", i, { unselecting: j.element }) } } } }); return false }, _mouseStop: function (d) { var b = this; this.dragged = false; var c = this.options; a(".ui-unselecting", this.element[0]).each(function () { var e = a.data(this, "selectable-item"); e.$element.removeClass("ui-unselecting"); e.unselecting = false; e.startselected = false; b._trigger("unselected", d, { unselected: e.element }) }); a(".ui-selecting", this.element[0]).each(function () { var e = a.data(this, "selectable-item"); e.$element.removeClass("ui-selecting").addClass("ui-selected"); e.selecting = false; e.selected = true; e.startselected = true; b._trigger("selected", d, { selected: e.element }) }); this._trigger("stop", d); this.helper.remove(); return false } }); a.extend(a.ui.selectable, { version: "1.8" }) })(jQuery); ; /*
 * jQuery UI Sortable 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Sortables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function (a) { a.widget("ui.sortable", a.ui.mouse, { widgetEventPrefix: "sort", options: { appendTo: "parent", axis: false, connectWith: false, containment: false, cursor: "auto", cursorAt: false, dropOnEmpty: true, forcePlaceholderSize: false, forceHelperSize: false, grid: false, handle: false, helper: "original", items: "> *", opacity: false, placeholder: false, revert: false, scroll: true, scrollSensitivity: 20, scrollSpeed: 20, scope: "default", tolerance: "intersect", zIndex: 1000 }, _create: function () { var b = this.options; this.containerCache = {}; this.element.addClass("ui-sortable"); this.refresh(); this.floating = this.items.length ? (/left|right/).test(this.items[0].item.css("float")) : false; this.offset = this.element.offset(); this._mouseInit() }, destroy: function () { this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable"); this._mouseDestroy(); for (var b = this.items.length - 1; b >= 0; b--) { this.items[b].item.removeData("sortable-item") } return this }, _mouseCapture: function (e, f) { if (this.reverting) { return false } if (this.options.disabled || this.options.type == "static") { return false } this._refreshItems(e); var d = null, c = this, b = a(e.target).parents().each(function () { if (a.data(this, "sortable-item") == c) { d = a(this); return false } }); if (a.data(e.target, "sortable-item") == c) { d = a(e.target) } if (!d) { return false } if (this.options.handle && !f) { var g = false; a(this.options.handle, d).find("*").andSelf().each(function () { if (this == e.target) { g = true } }); if (!g) { return false } } this.currentItem = d; this._removeCurrentsFromItems(); return true }, _mouseStart: function (e, f, b) { var g = this.options, c = this; this.currentContainer = this; this.refreshPositions(); this.helper = this._createHelper(e); this._cacheHelperProportions(); this._cacheMargins(); this.scrollParent = this.helper.scrollParent(); this.offset = this.currentItem.offset(); this.offset = { top: this.offset.top - this.margins.top, left: this.offset.left - this.margins.left }; this.helper.css("position", "absolute"); this.cssPosition = this.helper.css("position"); a.extend(this.offset, { click: { left: e.pageX - this.offset.left, top: e.pageY - this.offset.top }, parent: this._getParentOffset(), relative: this._getRelativeOffset() }); this.originalPosition = this._generatePosition(e); this.originalPageX = e.pageX; this.originalPageY = e.pageY; (g.cursorAt && this._adjustOffsetFromHelper(g.cursorAt)); this.domPosition = { prev: this.currentItem.prev()[0], parent: this.currentItem.parent()[0] }; if (this.helper[0] != this.currentItem[0]) { this.currentItem.hide() } this._createPlaceholder(); if (g.containment) { this._setContainment() } if (g.cursor) { if (a("body").css("cursor")) { this._storedCursor = a("body").css("cursor") } a("body").css("cursor", g.cursor) } if (g.opacity) { if (this.helper.css("opacity")) { this._storedOpacity = this.helper.css("opacity") } this.helper.css("opacity", g.opacity) } if (g.zIndex) { if (this.helper.css("zIndex")) { this._storedZIndex = this.helper.css("zIndex") } this.helper.css("zIndex", g.zIndex) } if (this.scrollParent[0] != document && this.scrollParent[0].tagName != "HTML") { this.overflowOffset = this.scrollParent.offset() } this._trigger("start", e, this._uiHash()); if (!this._preserveHelperProportions) { this._cacheHelperProportions() } if (!b) { for (var d = this.containers.length - 1; d >= 0; d--) { this.containers[d]._trigger("activate", e, c._uiHash(this)) } } if (a.ui.ddmanager) { a.ui.ddmanager.current = this } if (a.ui.ddmanager && !g.dropBehaviour) { a.ui.ddmanager.prepareOffsets(this, e) } this.dragging = true; this.helper.addClass("ui-sortable-helper"); this._mouseDrag(e); return true }, _mouseDrag: function (f) { this.position = this._generatePosition(f); this.positionAbs = this._convertPositionTo("absolute"); if (!this.lastPositionAbs) { this.lastPositionAbs = this.positionAbs } if (this.options.scroll) { var g = this.options, b = false; if (this.scrollParent[0] != document && this.scrollParent[0].tagName != "HTML") { if ((this.overflowOffset.top + this.scrollParent[0].offsetHeight) - f.pageY < g.scrollSensitivity) { this.scrollParent[0].scrollTop = b = this.scrollParent[0].scrollTop + g.scrollSpeed } else { if (f.pageY - this.overflowOffset.top < g.scrollSensitivity) { this.scrollParent[0].scrollTop = b = this.scrollParent[0].scrollTop - g.scrollSpeed } } if ((this.overflowOffset.left + this.scrollParent[0].offsetWidth) - f.pageX < g.scrollSensitivity) { this.scrollParent[0].scrollLeft = b = this.scrollParent[0].scrollLeft + g.scrollSpeed } else { if (f.pageX - this.overflowOffset.left < g.scrollSensitivity) { this.scrollParent[0].scrollLeft = b = this.scrollParent[0].scrollLeft - g.scrollSpeed } } } else { if (f.pageY - a(document).scrollTop() < g.scrollSensitivity) { b = a(document).scrollTop(a(document).scrollTop() - g.scrollSpeed) } else { if (a(window).height() - (f.pageY - a(document).scrollTop()) < g.scrollSensitivity) { b = a(document).scrollTop(a(document).scrollTop() + g.scrollSpeed) } } if (f.pageX - a(document).scrollLeft() < g.scrollSensitivity) { b = a(document).scrollLeft(a(document).scrollLeft() - g.scrollSpeed) } else { if (a(window).width() - (f.pageX - a(document).scrollLeft()) < g.scrollSensitivity) { b = a(document).scrollLeft(a(document).scrollLeft() + g.scrollSpeed) } } } if (b !== false && a.ui.ddmanager && !g.dropBehaviour) { a.ui.ddmanager.prepareOffsets(this, f) } } this.positionAbs = this._convertPositionTo("absolute"); if (!this.options.axis || this.options.axis != "y") { this.helper[0].style.left = this.position.left + "px" } if (!this.options.axis || this.options.axis != "x") { this.helper[0].style.top = this.position.top + "px" } for (var d = this.items.length - 1; d >= 0; d--) { var e = this.items[d], c = e.item[0], h = this._intersectsWithPointer(e); if (!h) { continue } if (c != this.currentItem[0] && this.placeholder[h == 1 ? "next" : "prev"]()[0] != c && !a.ui.contains(this.placeholder[0], c) && (this.options.type == "semi-dynamic" ? !a.ui.contains(this.element[0], c) : true)) { this.direction = h == 1 ? "down" : "up"; if (this.options.tolerance == "pointer" || this._intersectsWithSides(e)) { this._rearrange(f, e) } else { break } this._trigger("change", f, this._uiHash()); break } } this._contactContainers(f); if (a.ui.ddmanager) { a.ui.ddmanager.drag(this, f) } this._trigger("sort", f, this._uiHash()); this.lastPositionAbs = this.positionAbs; return false }, _mouseStop: function (c, d) { if (!c) { return } if (a.ui.ddmanager && !this.options.dropBehaviour) { a.ui.ddmanager.drop(this, c) } if (this.options.revert) { var b = this; var e = b.placeholder.offset(); b.reverting = true; a(this.helper).animate({ left: e.left - this.offset.parent.left - b.margins.left + (this.offsetParent[0] == document.body ? 0 : this.offsetParent[0].scrollLeft), top: e.top - this.offset.parent.top - b.margins.top + (this.offsetParent[0] == document.body ? 0 : this.offsetParent[0].scrollTop) }, parseInt(this.options.revert, 10) || 500, function () { b._clear(c) }) } else { this._clear(c, d) } return false }, cancel: function () { var b = this; if (this.dragging) { this._mouseUp(); if (this.options.helper == "original") { this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper") } else { this.currentItem.show() } for (var c = this.containers.length - 1; c >= 0; c--) { this.containers[c]._trigger("deactivate", null, b._uiHash(this)); if (this.containers[c].containerCache.over) { this.containers[c]._trigger("out", null, b._uiHash(this)); this.containers[c].containerCache.over = 0 } } } if (this.placeholder[0].parentNode) { this.placeholder[0].parentNode.removeChild(this.placeholder[0]) } if (this.options.helper != "original" && this.helper && this.helper[0].parentNode) { this.helper.remove() } a.extend(this, { helper: null, dragging: false, reverting: false, _noFinalSort: null }); if (this.domPosition.prev) { a(this.domPosition.prev).after(this.currentItem) } else { a(this.domPosition.parent).prepend(this.currentItem) } return this }, serialize: function (d) { var b = this._getItemsAsjQuery(d && d.connected); var c = []; d = d || {}; a(b).each(function () { var e = (a(d.item || this).attr(d.attribute || "id") || "").match(d.expression || (/(.+)[-=_](.+)/)); if (e) { c.push((d.key || e[1] + "[]") + "=" + (d.key && d.expression ? e[1] : e[2])) } }); return c.join("&") }, toArray: function (d) { var b = this._getItemsAsjQuery(d && d.connected); var c = []; d = d || {}; b.each(function () { c.push(a(d.item || this).attr(d.attribute || "id") || "") }); return c }, _intersectsWith: function (m) { var e = this.positionAbs.left, d = e + this.helperProportions.width, k = this.positionAbs.top, j = k + this.helperProportions.height; var f = m.left, c = f + m.width, n = m.top, i = n + m.height; var o = this.offset.click.top, h = this.offset.click.left; var g = (k + o) > n && (k + o) < i && (e + h) > f && (e + h) < c; if (this.options.tolerance == "pointer" || this.options.forcePointerForContainers || (this.options.tolerance != "pointer" && this.helperProportions[this.floating ? "width" : "height"] > m[this.floating ? "width" : "height"])) { return g } else { return (f < e + (this.helperProportions.width / 2) && d - (this.helperProportions.width / 2) < c && n < k + (this.helperProportions.height / 2) && j - (this.helperProportions.height / 2) < i) } }, _intersectsWithPointer: function (d) { var e = a.ui.isOverAxis(this.positionAbs.top + this.offset.click.top, d.top, d.height), c = a.ui.isOverAxis(this.positionAbs.left + this.offset.click.left, d.left, d.width), g = e && c, b = this._getDragVerticalDirection(), f = this._getDragHorizontalDirection(); if (!g) { return false } return this.floating ? (((f && f == "right") || b == "down") ? 2 : 1) : (b && (b == "down" ? 2 : 1)) }, _intersectsWithSides: function (e) { var c = a.ui.isOverAxis(this.positionAbs.top + this.offset.click.top, e.top + (e.height / 2), e.height), d = a.ui.isOverAxis(this.positionAbs.left + this.offset.click.left, e.left + (e.width / 2), e.width), b = this._getDragVerticalDirection(), f = this._getDragHorizontalDirection(); if (this.floating && f) { return ((f == "right" && d) || (f == "left" && !d)) } else { return b && ((b == "down" && c) || (b == "up" && !c)) } }, _getDragVerticalDirection: function () { var b = this.positionAbs.top - this.lastPositionAbs.top; return b != 0 && (b > 0 ? "down" : "up") }, _getDragHorizontalDirection: function () { var b = this.positionAbs.left - this.lastPositionAbs.left; return b != 0 && (b > 0 ? "right" : "left") }, refresh: function (b) { this._refreshItems(b); this.refreshPositions(); return this }, _connectWith: function () { var b = this.options; return b.connectWith.constructor == String ? [b.connectWith] : b.connectWith }, _getItemsAsjQuery: function (b) { var l = this; var g = []; var e = []; var h = this._connectWith(); if (h && b) { for (var d = h.length - 1; d >= 0; d--) { var k = a(h[d]); for (var c = k.length - 1; c >= 0; c--) { var f = a.data(k[c], "sortable"); if (f && f != this && !f.options.disabled) { e.push([a.isFunction(f.options.items) ? f.options.items.call(f.element) : a(f.options.items, f.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), f]) } } } } e.push([a.isFunction(this.options.items) ? this.options.items.call(this.element, null, { options: this.options, item: this.currentItem }) : a(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]); for (var d = e.length - 1; d >= 0; d--) { e[d][0].each(function () { g.push(this) }) } return a(g) }, _removeCurrentsFromItems: function () { var d = this.currentItem.find(":data(sortable-item)"); for (var c = 0; c < this.items.length; c++) { for (var b = 0; b < d.length; b++) { if (d[b] == this.items[c].item[0]) { this.items.splice(c, 1) } } } }, _refreshItems: function (b) { this.items = []; this.containers = [this]; var h = this.items; var p = this; var f = [[a.isFunction(this.options.items) ? this.options.items.call(this.element[0], b, { item: this.currentItem }) : a(this.options.items, this.element), this]]; var l = this._connectWith(); if (l) { for (var e = l.length - 1; e >= 0; e--) { var m = a(l[e]); for (var d = m.length - 1; d >= 0; d--) { var g = a.data(m[d], "sortable"); if (g && g != this && !g.options.disabled) { f.push([a.isFunction(g.options.items) ? g.options.items.call(g.element[0], b, { item: this.currentItem }) : a(g.options.items, g.element), g]); this.containers.push(g) } } } } for (var e = f.length - 1; e >= 0; e--) { var k = f[e][1]; var c = f[e][0]; for (var d = 0, n = c.length; d < n; d++) { var o = a(c[d]); o.data("sortable-item", k); h.push({ item: o, instance: k, width: 0, height: 0, left: 0, top: 0 }) } } }, refreshPositions: function (b) { if (this.offsetParent && this.helper) { this.offset.parent = this._getParentOffset() } for (var d = this.items.length - 1; d >= 0; d--) { var e = this.items[d]; var c = this.options.toleranceElement ? a(this.options.toleranceElement, e.item) : e.item; if (!b) { e.width = c.outerWidth(); e.height = c.outerHeight() } var f = c.offset(); e.left = f.left; e.top = f.top } if (this.options.custom && this.options.custom.refreshContainers) { this.options.custom.refreshContainers.call(this) } else { for (var d = this.containers.length - 1; d >= 0; d--) { var f = this.containers[d].element.offset(); this.containers[d].containerCache.left = f.left; this.containers[d].containerCache.top = f.top; this.containers[d].containerCache.width = this.containers[d].element.outerWidth(); this.containers[d].containerCache.height = this.containers[d].element.outerHeight() } } return this }, _createPlaceholder: function (d) { var b = d || this, e = b.options; if (!e.placeholder || e.placeholder.constructor == String) { var c = e.placeholder; e.placeholder = { element: function () { var f = a(document.createElement(b.currentItem[0].nodeName)).addClass(c || b.currentItem[0].className + " ui-sortable-placeholder").removeClass("ui-sortable-helper")[0]; if (!c) { f.style.visibility = "hidden" } return f }, update: function (f, g) { if (c && !e.forcePlaceholderSize) { return } if (!g.height()) { g.height(b.currentItem.innerHeight() - parseInt(b.currentItem.css("paddingTop") || 0, 10) - parseInt(b.currentItem.css("paddingBottom") || 0, 10)) } if (!g.width()) { g.width(b.currentItem.innerWidth() - parseInt(b.currentItem.css("paddingLeft") || 0, 10) - parseInt(b.currentItem.css("paddingRight") || 0, 10)) } } } } b.placeholder = a(e.placeholder.element.call(b.element, b.currentItem)); b.currentItem.after(b.placeholder); e.placeholder.update(b, b.placeholder) }, _contactContainers: function (b) { var d = null, k = null; for (var f = this.containers.length - 1; f >= 0; f--) { if (a.ui.contains(this.currentItem[0], this.containers[f].element[0])) { continue } if (this._intersectsWith(this.containers[f].containerCache)) { if (d && a.ui.contains(this.containers[f].element[0], d.element[0])) { continue } d = this.containers[f]; k = f } else { if (this.containers[f].containerCache.over) { this.containers[f]._trigger("out", b, this._uiHash(this)); this.containers[f].containerCache.over = 0 } } } if (!d) { return } if (this.containers.length === 1) { this.containers[k]._trigger("over", b, this._uiHash(this)); this.containers[k].containerCache.over = 1 } else { if (this.currentContainer != this.containers[k]) { var h = 10000; var g = null; var c = this.positionAbs[this.containers[k].floating ? "left" : "top"]; for (var e = this.items.length - 1; e >= 0; e--) { if (!a.ui.contains(this.containers[k].element[0], this.items[e].item[0])) { continue } var l = this.items[e][this.containers[k].floating ? "left" : "top"]; if (Math.abs(l - c) < h) { h = Math.abs(l - c); g = this.items[e] } } if (!g && !this.options.dropOnEmpty) { return } this.currentContainer = this.containers[k]; g ? this._rearrange(b, g, null, true) : this._rearrange(b, null, this.containers[k].element, true); this._trigger("change", b, this._uiHash()); this.containers[k]._trigger("change", b, this._uiHash(this)); this.options.placeholder.update(this.currentContainer, this.placeholder); this.containers[k]._trigger("over", b, this._uiHash(this)); this.containers[k].containerCache.over = 1 } } }, _createHelper: function (c) { var d = this.options; var b = a.isFunction(d.helper) ? a(d.helper.apply(this.element[0], [c, this.currentItem])) : (d.helper == "clone" ? this.currentItem.clone() : this.currentItem); if (!b.parents("body").length) { a(d.appendTo != "parent" ? d.appendTo : this.currentItem[0].parentNode)[0].appendChild(b[0]) } if (b[0] == this.currentItem[0]) { this._storedCSS = { width: this.currentItem[0].style.width, height: this.currentItem[0].style.height, position: this.currentItem.css("position"), top: this.currentItem.css("top"), left: this.currentItem.css("left")} } if (b[0].style.width == "" || d.forceHelperSize) { b.width(this.currentItem.width()) } if (b[0].style.height == "" || d.forceHelperSize) { b.height(this.currentItem.height()) } return b }, _adjustOffsetFromHelper: function (b) { if (typeof b == "string") { b = b.split(" ") } if (a.isArray(b)) { b = { left: +b[0], top: +b[1] || 0} } if ("left" in b) { this.offset.click.left = b.left + this.margins.left } if ("right" in b) { this.offset.click.left = this.helperProportions.width - b.right + this.margins.left } if ("top" in b) { this.offset.click.top = b.top + this.margins.top } if ("bottom" in b) { this.offset.click.top = this.helperProportions.height - b.bottom + this.margins.top } }, _getParentOffset: function () { this.offsetParent = this.helper.offsetParent(); var b = this.offsetParent.offset(); if (this.cssPosition == "absolute" && this.scrollParent[0] != document && a.ui.contains(this.scrollParent[0], this.offsetParent[0])) { b.left += this.scrollParent.scrollLeft(); b.top += this.scrollParent.scrollTop() } if ((this.offsetParent[0] == document.body) || (this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() == "html" && a.browser.msie)) { b = { top: 0, left: 0} } return { top: b.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0), left: b.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)} }, _getRelativeOffset: function () { if (this.cssPosition == "relative") { var b = this.currentItem.position(); return { top: b.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(), left: b.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()} } else { return { top: 0, left: 0} } }, _cacheMargins: function () { this.margins = { left: (parseInt(this.currentItem.css("marginLeft"), 10) || 0), top: (parseInt(this.currentItem.css("marginTop"), 10) || 0)} }, _cacheHelperProportions: function () { this.helperProportions = { width: this.helper.outerWidth(), height: this.helper.outerHeight()} }, _setContainment: function () { var e = this.options; if (e.containment == "parent") { e.containment = this.helper[0].parentNode } if (e.containment == "document" || e.containment == "window") { this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, a(e.containment == "document" ? document : window).width() - this.helperProportions.width - this.margins.left, (a(e.containment == "document" ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top] } if (!(/^(document|window|parent)$/).test(e.containment)) { var c = a(e.containment)[0]; var d = a(e.containment).offset(); var b = (a(c).css("overflow") != "hidden"); this.containment = [d.left + (parseInt(a(c).css("borderLeftWidth"), 10) || 0) + (parseInt(a(c).css("paddingLeft"), 10) || 0) - this.margins.left, d.top + (parseInt(a(c).css("borderTopWidth"), 10) || 0) + (parseInt(a(c).css("paddingTop"), 10) || 0) - this.margins.top, d.left + (b ? Math.max(c.scrollWidth, c.offsetWidth) : c.offsetWidth) - (parseInt(a(c).css("borderLeftWidth"), 10) || 0) - (parseInt(a(c).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, d.top + (b ? Math.max(c.scrollHeight, c.offsetHeight) : c.offsetHeight) - (parseInt(a(c).css("borderTopWidth"), 10) || 0) - (parseInt(a(c).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top] } }, _convertPositionTo: function (f, h) { if (!h) { h = this.position } var c = f == "absolute" ? 1 : -1; var e = this.options, b = this.cssPosition == "absolute" && !(this.scrollParent[0] != document && a.ui.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, g = (/(html|body)/i).test(b[0].tagName); return { top: (h.top + this.offset.relative.top * c + this.offset.parent.top * c - (a.browser.safari && this.cssPosition == "fixed" ? 0 : (this.cssPosition == "fixed" ? -this.scrollParent.scrollTop() : (g ? 0 : b.scrollTop())) * c)), left: (h.left + this.offset.relative.left * c + this.offset.parent.left * c - (a.browser.safari && this.cssPosition == "fixed" ? 0 : (this.cssPosition == "fixed" ? -this.scrollParent.scrollLeft() : g ? 0 : b.scrollLeft()) * c))} }, _generatePosition: function (e) { var h = this.options, b = this.cssPosition == "absolute" && !(this.scrollParent[0] != document && a.ui.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, i = (/(html|body)/i).test(b[0].tagName); if (this.cssPosition == "relative" && !(this.scrollParent[0] != document && this.scrollParent[0] != this.offsetParent[0])) { this.offset.relative = this._getRelativeOffset() } var d = e.pageX; var c = e.pageY; if (this.originalPosition) { if (this.containment) { if (e.pageX - this.offset.click.left < this.containment[0]) { d = this.containment[0] + this.offset.click.left } if (e.pageY - this.offset.click.top < this.containment[1]) { c = this.containment[1] + this.offset.click.top } if (e.pageX - this.offset.click.left > this.containment[2]) { d = this.containment[2] + this.offset.click.left } if (e.pageY - this.offset.click.top > this.containment[3]) { c = this.containment[3] + this.offset.click.top } } if (h.grid) { var g = this.originalPageY + Math.round((c - this.originalPageY) / h.grid[1]) * h.grid[1]; c = this.containment ? (!(g - this.offset.click.top < this.containment[1] || g - this.offset.click.top > this.containment[3]) ? g : (!(g - this.offset.click.top < this.containment[1]) ? g - h.grid[1] : g + h.grid[1])) : g; var f = this.originalPageX + Math.round((d - this.originalPageX) / h.grid[0]) * h.grid[0]; d = this.containment ? (!(f - this.offset.click.left < this.containment[0] || f - this.offset.click.left > this.containment[2]) ? f : (!(f - this.offset.click.left < this.containment[0]) ? f - h.grid[0] : f + h.grid[0])) : f } } return { top: (c - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + (a.browser.safari && this.cssPosition == "fixed" ? 0 : (this.cssPosition == "fixed" ? -this.scrollParent.scrollTop() : (i ? 0 : b.scrollTop())))), left: (d - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + (a.browser.safari && this.cssPosition == "fixed" ? 0 : (this.cssPosition == "fixed" ? -this.scrollParent.scrollLeft() : i ? 0 : b.scrollLeft())))} }, _rearrange: function (g, f, c, e) { c ? c[0].appendChild(this.placeholder[0]) : f.item[0].parentNode.insertBefore(this.placeholder[0], (this.direction == "down" ? f.item[0] : f.item[0].nextSibling)); this.counter = this.counter ? ++this.counter : 1; var d = this, b = this.counter; window.setTimeout(function () { if (b == d.counter) { d.refreshPositions(!e) } }, 0) }, _clear: function (d, e) { this.reverting = false; var f = [], b = this; if (!this._noFinalSort && this.currentItem[0].parentNode) { this.placeholder.before(this.currentItem) } this._noFinalSort = null; if (this.helper[0] == this.currentItem[0]) { for (var c in this._storedCSS) { if (this._storedCSS[c] == "auto" || this._storedCSS[c] == "static") { this._storedCSS[c] = "" } } this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper") } else { this.currentItem.show() } if (this.fromOutside && !e) { f.push(function (g) { this._trigger("receive", g, this._uiHash(this.fromOutside)) }) } if ((this.fromOutside || this.domPosition.prev != this.currentItem.prev().not(".ui-sortable-helper")[0] || this.domPosition.parent != this.currentItem.parent()[0]) && !e) { f.push(function (g) { this._trigger("update", g, this._uiHash()) }) } if (!a.ui.contains(this.element[0], this.currentItem[0])) { if (!e) { f.push(function (g) { this._trigger("remove", g, this._uiHash()) }) } for (var c = this.containers.length - 1; c >= 0; c--) { if (a.ui.contains(this.containers[c].element[0], this.currentItem[0]) && !e) { f.push((function (g) { return function (h) { g._trigger("receive", h, this._uiHash(this)) } }).call(this, this.containers[c])); f.push((function (g) { return function (h) { g._trigger("update", h, this._uiHash(this)) } }).call(this, this.containers[c])) } } } for (var c = this.containers.length - 1; c >= 0; c--) { if (!e) { f.push((function (g) { return function (h) { g._trigger("deactivate", h, this._uiHash(this)) } }).call(this, this.containers[c])) } if (this.containers[c].containerCache.over) { f.push((function (g) { return function (h) { g._trigger("out", h, this._uiHash(this)) } }).call(this, this.containers[c])); this.containers[c].containerCache.over = 0 } } if (this._storedCursor) { a("body").css("cursor", this._storedCursor) } if (this._storedOpacity) { this.helper.css("opacity", this._storedOpacity) } if (this._storedZIndex) { this.helper.css("zIndex", this._storedZIndex == "auto" ? "" : this._storedZIndex) } this.dragging = false; if (this.cancelHelperRemoval) { if (!e) { this._trigger("beforeStop", d, this._uiHash()); for (var c = 0; c < f.length; c++) { f[c].call(this, d) } this._trigger("stop", d, this._uiHash()) } return false } if (!e) { this._trigger("beforeStop", d, this._uiHash()) } this.placeholder[0].parentNode.removeChild(this.placeholder[0]); if (this.helper[0] != this.currentItem[0]) { this.helper.remove() } this.helper = null; if (!e) { for (var c = 0; c < f.length; c++) { f[c].call(this, d) } this._trigger("stop", d, this._uiHash()) } this.fromOutside = false; return true }, _trigger: function () { if (a.Widget.prototype._trigger.apply(this, arguments) === false) { this.cancel() } }, _uiHash: function (c) { var b = c || this; return { helper: b.helper, placeholder: b.placeholder || a([]), position: b.position, originalPosition: b.originalPosition, offset: b.positionAbs, item: b.currentItem, sender: c ? c.element : null} } }); a.extend(a.ui.sortable, { version: "1.8" }) })(jQuery); ; /*
 * jQuery UI Accordion 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Accordion
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
(function (a) { a.widget("ui.accordion", { options: { active: 0, animated: "slide", autoHeight: true, clearStyle: false, collapsible: false, event: "click", fillSpace: false, header: "> li > :first-child,> :not(li):even", icons: { header: "ui-icon-triangle-1-e", headerSelected: "ui-icon-triangle-1-s" }, navigation: false, navigationFilter: function () { return this.href.toLowerCase() == location.href.toLowerCase() } }, _create: function () { var d = this.options, b = this; this.running = 0; this.element.addClass("ui-accordion ui-widget ui-helper-reset"); if (this.element[0].nodeName == "UL") { this.element.children("li").addClass("ui-accordion-li-fix") } this.headers = this.element.find(d.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion", function () { a(this).addClass("ui-state-hover") }).bind("mouseleave.accordion", function () { a(this).removeClass("ui-state-hover") }).bind("focus.accordion", function () { a(this).addClass("ui-state-focus") }).bind("blur.accordion", function () { a(this).removeClass("ui-state-focus") }); this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"); if (d.navigation) { var c = this.element.find("a").filter(d.navigationFilter); if (c.length) { var e = c.closest(".ui-accordion-header"); if (e.length) { this.active = e } else { this.active = c.closest(".ui-accordion-content").prev() } } } this.active = this._findActive(this.active || d.active).toggleClass("ui-state-default").toggleClass("ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"); this.active.next().addClass("ui-accordion-content-active"); this._createIcons(); if (a.browser.msie) { this.element.find("a").css("zoom", "1") } this.resize(); this.element.attr("role", "tablist"); this.headers.attr("role", "tab").bind("keydown", function (f) { return b._keydown(f) }).next().attr("role", "tabpanel"); this.headers.not(this.active || "").attr("aria-expanded", "false").attr("tabIndex", "-1").next().hide(); if (!this.active.length) { this.headers.eq(0).attr("tabIndex", "0") } else { this.active.attr("aria-expanded", "true").attr("tabIndex", "0") } if (!a.browser.safari) { this.headers.find("a").attr("tabIndex", "-1") } if (d.event) { this.headers.bind((d.event) + ".accordion", function (f) { b._clickHandler.call(b, f, this); f.preventDefault() }) } }, _createIcons: function () { var b = this.options; if (b.icons) { a("<span/>").addClass("ui-icon " + b.icons.header).prependTo(this.headers); this.active.find(".ui-icon").toggleClass(b.icons.header).toggleClass(b.icons.headerSelected); this.element.addClass("ui-accordion-icons") } }, _destroyIcons: function () { this.headers.children(".ui-icon").remove(); this.element.removeClass("ui-accordion-icons") }, destroy: function () { var c = this.options; this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role").unbind(".accordion").removeData("accordion"); this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("tabindex"); this.headers.find("a").removeAttr("tabindex"); this._destroyIcons(); var b = this.headers.next().css("display", "").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active"); if (c.autoHeight || c.fillHeight) { b.css("height", "") } return this }, _setOption: function (b, c) { a.Widget.prototype._setOption.apply(this, arguments); if (b == "active") { this.activate(c) } if (b == "icons") { this._destroyIcons(); if (c) { this._createIcons() } } }, _keydown: function (e) { var g = this.options, f = a.ui.keyCode; if (g.disabled || e.altKey || e.ctrlKey) { return } var d = this.headers.length; var b = this.headers.index(e.target); var c = false; switch (e.keyCode) { case f.RIGHT: case f.DOWN: c = this.headers[(b + 1) % d]; break; case f.LEFT: case f.UP: c = this.headers[(b - 1 + d) % d]; break; case f.SPACE: case f.ENTER: this._clickHandler({ target: e.target }, e.target); e.preventDefault() } if (c) { a(e.target).attr("tabIndex", "-1"); a(c).attr("tabIndex", "0"); c.focus(); return false } return true }, resize: function () { var d = this.options, c; if (d.fillSpace) { if (a.browser.msie) { var b = this.element.parent().css("overflow"); this.element.parent().css("overflow", "hidden") } c = this.element.parent().height(); if (a.browser.msie) { this.element.parent().css("overflow", b) } this.headers.each(function () { c -= a(this).outerHeight(true) }); this.headers.next().each(function () { a(this).height(Math.max(0, c - a(this).innerHeight() + a(this).height())) }).css("overflow", "auto") } else { if (d.autoHeight) { c = 0; this.headers.next().each(function () { c = Math.max(c, a(this).height()) }).height(c) } } return this }, activate: function (b) { this.options.active = b; var c = this._findActive(b)[0]; this._clickHandler({ target: c }, c); return this }, _findActive: function (b) { return b ? typeof b == "number" ? this.headers.filter(":eq(" + b + ")") : this.headers.not(this.headers.not(b)) : b === false ? a([]) : this.headers.filter(":eq(0)") }, _clickHandler: function (b, f) { var d = this.options; if (d.disabled) { return } if (!b.target) { if (!d.collapsible) { return } this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").find(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header); this.active.next().addClass("ui-accordion-content-active"); var h = this.active.next(), e = { options: d, newHeader: a([]), oldHeader: d.active, newContent: a([]), oldContent: h }, c = (this.active = a([])); this._toggle(c, h, e); return } var g = a(b.currentTarget || f); var i = g[0] == this.active[0]; d.active = d.collapsible && i ? false : a(".ui-accordion-header", this.element).index(g); if (this.running || (!d.collapsible && i)) { return } this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").find(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header); if (!i) { g.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").find(".ui-icon").removeClass(d.icons.header).addClass(d.icons.headerSelected); g.next().addClass("ui-accordion-content-active") } var c = g.next(), h = this.active.next(), e = { options: d, newHeader: i && d.collapsible ? a([]) : g, oldHeader: this.active, newContent: i && d.collapsible ? a([]) : c, oldContent: h }, j = this.headers.index(this.active[0]) > this.headers.index(g[0]); this.active = i ? a([]) : g; this._toggle(c, h, e, i, j); return }, _toggle: function (b, i, g, j, k) { var d = this.options, m = this; this.toShow = b; this.toHide = i; this.data = g; var c = function () { if (!m) { return } return m._completed.apply(m, arguments) }; this._trigger("changestart", null, this.data); this.running = i.size() === 0 ? b.size() : i.size(); if (d.animated) { var f = {}; if (d.collapsible && j) { f = { toShow: a([]), toHide: i, complete: c, down: k, autoHeight: d.autoHeight || d.fillSpace} } else { f = { toShow: b, toHide: i, complete: c, down: k, autoHeight: d.autoHeight || d.fillSpace} } if (!d.proxied) { d.proxied = d.animated } if (!d.proxiedDuration) { d.proxiedDuration = d.duration } d.animated = a.isFunction(d.proxied) ? d.proxied(f) : d.proxied; d.duration = a.isFunction(d.proxiedDuration) ? d.proxiedDuration(f) : d.proxiedDuration; var l = a.ui.accordion.animations, e = d.duration, h = d.animated; if (h && !l[h] && !a.easing[h]) { h = "slide" } if (!l[h]) { l[h] = function (n) { this.slide(n, { easing: h, duration: e || 700 }) } } l[h](f) } else { if (d.collapsible && j) { b.toggle() } else { i.hide(); b.show() } c(true) } i.prev().attr("aria-expanded", "false").attr("tabIndex", "-1").blur(); b.prev().attr("aria-expanded", "true").attr("tabIndex", "0").focus() }, _completed: function (b) { var c = this.options; this.running = b ? 0 : --this.running; if (this.running) { return } if (c.clearStyle) { this.toShow.add(this.toHide).css({ height: "", overflow: "" }) } this.toHide.removeClass("ui-accordion-content-active"); this._trigger("change", null, this.data) } }); a.extend(a.ui.accordion, { version: "1.8", animations: { slide: function (j, h) { j = a.extend({ easing: "swing", duration: 300 }, j, h); if (!j.toHide.size()) { j.toShow.animate({ height: "show" }, j); return } if (!j.toShow.size()) { j.toHide.animate({ height: "hide" }, j); return } var c = j.toShow.css("overflow"), g = 0, d = {}, f = {}, e = ["height", "paddingTop", "paddingBottom"], b; var i = j.toShow; b = i[0].style.width; i.width(parseInt(i.parent().width(), 10) - parseInt(i.css("paddingLeft"), 10) - parseInt(i.css("paddingRight"), 10) - (parseInt(i.css("borderLeftWidth"), 10) || 0) - (parseInt(i.css("borderRightWidth"), 10) || 0)); a.each(e, function (k, m) { f[m] = "hide"; var l = ("" + a.css(j.toShow[0], m)).match(/^([\d+-.]+)(.*)$/); d[m] = { value: l[1], unit: l[2] || "px"} }); j.toShow.css({ height: 0, overflow: "hidden" }).show(); j.toHide.filter(":hidden").each(j.complete).end().filter(":visible").animate(f, { step: function (k, l) { if (l.prop == "height") { g = (l.end - l.start === 0) ? 0 : (l.now - l.start) / (l.end - l.start) } j.toShow[0].style[l.prop] = (g * d[l.prop].value) + d[l.prop].unit }, duration: j.duration, easing: j.easing, complete: function () { if (!j.autoHeight) { j.toShow.css("height", "") } j.toShow.css("width", b); j.toShow.css({ overflow: c }); j.complete() } }) }, bounceslide: function (b) { this.slide(b, { easing: b.down ? "easeOutBounce" : "swing", duration: b.down ? 1000 : 200 }) } } }) })(jQuery); ; /*
 * jQuery UI Autocomplete 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Autocomplete
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */
(function (a) { a.widget("ui.autocomplete", { options: { minLength: 1, delay: 300 }, _create: function () { var b = this, c = this.element[0].ownerDocument; this.element.addClass("ui-autocomplete-input").attr("autocomplete", "off").attr({ role: "textbox", "aria-autocomplete": "list", "aria-haspopup": "true" }).bind("keydown.autocomplete", function (d) { var e = a.ui.keyCode; switch (d.keyCode) { case e.PAGE_UP: b._move("previousPage", d); break; case e.PAGE_DOWN: b._move("nextPage", d); break; case e.UP: b._move("previous", d); d.preventDefault(); break; case e.DOWN: b._move("next", d); d.preventDefault(); break; case e.ENTER: if (b.menu.active) { d.preventDefault() } case e.TAB: if (!b.menu.active) { return } b.menu.select(); break; case e.ESCAPE: b.element.val(b.term); b.close(d); break; case e.SHIFT: case e.CONTROL: case 18: break; default: clearTimeout(b.searching); b.searching = setTimeout(function () { b.search(null, d) }, b.options.delay); break } }).bind("focus.autocomplete", function () { b.previous = b.element.val() }).bind("blur.autocomplete", function (d) { clearTimeout(b.searching); b.closing = setTimeout(function () { b.close(d) }, 150) }); this._initSource(); this.response = function () { return b._response.apply(b, arguments) }; this.menu = a("<ul></ul>").addClass("ui-autocomplete").appendTo("body", c).menu({ focus: function (e, f) { var d = f.item.data("item.autocomplete"); if (false !== b._trigger("focus", null, { item: d })) { b.element.val(d.value) } }, selected: function (e, f) { var d = f.item.data("item.autocomplete"); if (false !== b._trigger("select", e, { item: d })) { b.element.val(d.value) } b.close(e); b.previous = b.element.val(); if (b.element[0] !== c.activeElement) { b.element.focus() } }, blur: function (d, e) { if (b.menu.element.is(":visible")) { b.element.val(b.term) } } }).zIndex(this.element.zIndex() + 1).css({ top: 0, left: 0 }).hide().data("menu"); if (a.fn.bgiframe) { this.menu.element.bgiframe() } }, destroy: function () { this.element.removeClass("ui-autocomplete-input ui-widget ui-widget-content").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"); this.menu.element.remove(); a.Widget.prototype.destroy.call(this) }, _setOption: function (b) { a.Widget.prototype._setOption.apply(this, arguments); if (b === "source") { this._initSource() } }, _initSource: function () { var c, b; if (a.isArray(this.options.source)) { c = this.options.source; this.source = function (e, d) { var f = new RegExp(a.ui.autocomplete.escapeRegex(e.term), "i"); d(a.grep(c, function (g) { return f.test(g.label || g.value || g) })) } } else { if (typeof this.options.source === "string") { b = this.options.source; this.source = function (e, d) { a.getJSON(b, e, d) } } else { this.source = this.options.source } } }, search: function (c, b) { c = c != null ? c : this.element.val(); if (c.length < this.options.minLength) { return this.close(b) } clearTimeout(this.closing); if (this._trigger("search") === false) { return } return this._search(c) }, _search: function (b) { this.term = this.element.addClass("ui-autocomplete-loading").val(); this.source({ term: b }, this.response) }, _response: function (b) { if (b.length) { b = this._normalize(b); this._suggest(b); this._trigger("open") } else { this.close() } this.element.removeClass("ui-autocomplete-loading") }, close: function (b) { clearTimeout(this.closing); if (this.menu.element.is(":visible")) { this._trigger("close", b); this.menu.element.hide(); this.menu.deactivate() } if (this.previous !== this.element.val()) { this._trigger("change", b) } }, _normalize: function (b) { if (b.length && b[0].label && b[0].value) { return b } return a.map(b, function (c) { if (typeof c === "string") { return { label: c, value: c} } return a.extend({ label: c.label || c.value, value: c.value || c.label }, c) }) }, _suggest: function (b) { var c = this.menu.element.empty().zIndex(this.element.zIndex() + 1), d, e; this._renderMenu(c, b); this.menu.deactivate(); this.menu.refresh(); this.menu.element.show().position({ my: "left top", at: "left bottom", of: this.element, collision: "none" }); d = c.width("").width(); e = this.element.width(); c.width(Math.max(d, e)) }, _renderMenu: function (d, c) { var b = this; a.each(c, function (e, f) { b._renderItem(d, f) }) }, _renderItem: function (b, c) { return a("<li></li>").data("item.autocomplete", c).append("<a>" + c.label + "</a>").appendTo(b) }, _move: function (c, b) { if (!this.menu.element.is(":visible")) { this.search(null, b); return } if (this.menu.first() && /^previous/.test(c) || this.menu.last() && /^next/.test(c)) { this.element.val(this.term); this.menu.deactivate(); return } this.menu[c]() }, widget: function () { return this.menu.element } }); a.extend(a.ui.autocomplete, { escapeRegex: function (b) { return b.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi, "\\$1") } }) } (jQuery)); (function (a) { a.widget("ui.menu", { _create: function () { var b = this; this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({ role: "listbox", "aria-activedescendant": "ui-active-menuitem" }).click(function (c) { c.preventDefault(); b.select() }); this.refresh() }, refresh: function () { var c = this; var b = this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role", "menuitem"); b.children("a").addClass("ui-corner-all").attr("tabindex", -1).mouseenter(function () { c.activate(a(this).parent()) }).mouseleave(function () { c.deactivate() }) }, activate: function (d) { this.deactivate(); if (this.hasScroll()) { var e = d.offset().top - this.element.offset().top, b = this.element.attr("scrollTop"), c = this.element.height(); if (e < 0) { this.element.attr("scrollTop", b + e) } else { if (e > c) { this.element.attr("scrollTop", b + e - c + d.height()) } } } this.active = d.eq(0).children("a").addClass("ui-state-hover").attr("id", "ui-active-menuitem").end(); this._trigger("focus", null, { item: d }) }, deactivate: function () { if (!this.active) { return } this.active.children("a").removeClass("ui-state-hover").removeAttr("id"); this._trigger("blur"); this.active = null }, next: function () { this.move("next", "li:first") }, previous: function () { this.move("prev", "li:last") }, first: function () { return this.active && !this.active.prev().length }, last: function () { return this.active && !this.active.next().length }, move: function (d, c) { if (!this.active) { this.activate(this.element.children(c)); return } var b = this.active[d](); if (b.length) { this.activate(b) } else { this.activate(this.element.children(c)) } }, nextPage: function () { if (this.hasScroll()) { if (!this.active || this.last()) { this.activate(this.element.children(":first")); return } var d = this.active.offset().top, c = this.element.height(), b = this.element.children("li").filter(function () { var e = a(this).offset().top - d - c + a(this).height(); return e < 10 && e > -10 }); if (!b.length) { b = this.element.children(":last") } this.activate(b) } else { this.activate(this.element.children(!this.active || this.last() ? ":first" : ":last")) } }, previousPage: function () { if (this.hasScroll()) { if (!this.active || this.first()) { this.activate(this.element.children(":last")); return } var c = this.active.offset().top, b = this.element.height(); result = this.element.children("li").filter(function () { var d = a(this).offset().top - c + b - a(this).height(); return d < 10 && d > -10 }); if (!result.length) { result = this.element.children(":first") } this.activate(result) } else { this.activate(this.element.children(!this.active || this.first() ? ":last" : ":first")) } }, hasScroll: function () { return this.element.height() < this.element.attr("scrollHeight") }, select: function () { this._trigger("selected", null, { item: this.active }) } }) } (jQuery)); ; /*
 * jQuery UI Button 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Button
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
(function (f) { var d, c = "ui-button ui-widget ui-state-default ui-corner-all", b = "ui-state-hover ui-state-active ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon ui-button-text-only", e = function (g) { f(":ui-button", g.target.form).each(function () { var h = f(this).data("button"); setTimeout(function () { h.refresh() }, 1) }) }, a = function (h) { var g = h.name, i = h.form, j = f([]); if (g) { if (i) { j = f(i).find("[name='" + g + "']") } else { j = f("[name='" + g + "']", h.ownerDocument).filter(function () { return !this.form }) } } return j }; f.widget("ui.button", { options: { text: true, label: null, icons: { primary: null, secondary: null} }, _create: function () { this.element.closest("form").unbind("reset.button").bind("reset.button", e); this._determineButtonType(); this.hasTitle = !!this.buttonElement.attr("title"); var g = this, i = this.options, j = this.type === "checkbox" || this.type === "radio", k = "ui-state-hover" + (!j ? " ui-state-active" : ""), h = "ui-state-focus"; if (i.label === null) { i.label = this.buttonElement.html() } if (this.element.is(":disabled")) { i.disabled = true } this.buttonElement.addClass(c).attr("role", "button").bind("mouseenter.button", function () { if (i.disabled) { return } f(this).addClass("ui-state-hover"); if (this === d) { f(this).addClass("ui-state-active") } }).bind("mouseleave.button", function () { if (i.disabled) { return } f(this).removeClass(k) }).bind("focus.button", function () { f(this).addClass(h) }).bind("blur.button", function () { f(this).removeClass(h) }); if (j) { this.element.bind("change.button", function () { g.refresh() }) } if (this.type === "checkbox") { this.buttonElement.bind("click.button", function () { if (i.disabled) { return false } f(this).toggleClass("ui-state-active"); g.buttonElement.attr("aria-pressed", g.element[0].checked) }) } else { if (this.type === "radio") { this.buttonElement.bind("click.button", function () { if (i.disabled) { return false } f(this).addClass("ui-state-active"); g.buttonElement.attr("aria-pressed", true); var l = g.element[0]; a(l).not(l).map(function () { return f(this).button("widget")[0] }).removeClass("ui-state-active").attr("aria-pressed", false) }) } else { this.buttonElement.bind("mousedown.button", function () { if (i.disabled) { return false } f(this).addClass("ui-state-active"); d = this; f(document).one("mouseup", function () { d = null }) }).bind("mouseup.button", function () { if (i.disabled) { return false } f(this).removeClass("ui-state-active") }).bind("keydown.button", function (l) { if (i.disabled) { return false } if (l.keyCode == f.ui.keyCode.SPACE || l.keyCode == f.ui.keyCode.ENTER) { f(this).addClass("ui-state-active") } }).bind("keyup.button", function () { f(this).removeClass("ui-state-active") }); if (this.buttonElement.is("a")) { this.buttonElement.keyup(function (l) { if (l.keyCode === f.ui.keyCode.SPACE) { f(this).click() } }) } } } this._setOption("disabled", i.disabled) }, _determineButtonType: function () { if (this.element.is(":checkbox")) { this.type = "checkbox" } else { if (this.element.is(":radio")) { this.type = "radio" } else { if (this.element.is("input")) { this.type = "input" } else { this.type = "button" } } } if (this.type === "checkbox" || this.type === "radio") { this.buttonElement = this.element.parents().last().find("[for=" + this.element.attr("id") + "]"); this.element.addClass("ui-helper-hidden-accessible"); var g = this.element.is(":checked"); if (g) { this.buttonElement.addClass("ui-state-active") } this.buttonElement.attr("aria-pressed", g) } else { this.buttonElement = this.element } }, widget: function () { return this.buttonElement }, destroy: function () { this.element.removeClass("ui-helper-hidden-accessible"); this.buttonElement.removeClass(c + " " + b).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()); if (!this.hasTitle) { this.buttonElement.removeAttr("title") } f.Widget.prototype.destroy.call(this) }, _setOption: function (g, h) { f.Widget.prototype._setOption.apply(this, arguments); if (g === "disabled") { if (h) { this.element.attr("disabled", true) } else { this.element.removeAttr("disabled") } } this._resetButton() }, refresh: function () { var g = this.element.is(":disabled"); if (g !== this.options.disabled) { this._setOption("disabled", g) } if (this.type === "radio") { a(this.element[0]).each(function () { if (f(this).is(":checked")) { f(this).button("widget").addClass("ui-state-active").attr("aria-pressed", true) } else { f(this).button("widget").removeClass("ui-state-active").attr("aria-pressed", false) } }) } else { if (this.type === "checkbox") { if (this.element.is(":checked")) { this.buttonElement.addClass("ui-state-active").attr("aria-pressed", true) } else { this.buttonElement.removeClass("ui-state-active").attr("aria-pressed", false) } } } }, _resetButton: function () { if (this.type === "input") { if (this.options.label) { this.element.val(this.options.label) } return } var j = this.buttonElement, i = f("<span></span>").addClass("ui-button-text").html(this.options.label).appendTo(j.empty()).text(), h = this.options.icons, g = h.primary && h.secondary; if (h.primary || h.secondary) { j.addClass("ui-button-text-icon" + (g ? "s" : "")); if (h.primary) { j.prepend("<span class='ui-button-icon-primary ui-icon " + h.primary + "'></span>") } if (h.secondary) { j.append("<span class='ui-button-icon-secondary ui-icon " + h.secondary + "'></span>") } if (!this.options.text) { j.addClass(g ? "ui-button-icons-only" : "ui-button-icon-only").removeClass("ui-button-text-icons ui-button-text-icon"); if (!this.hasTitle) { j.attr("title", i) } } } else { j.addClass("ui-button-text-only") } } }); f.widget("ui.buttonset", { _create: function () { this.element.addClass("ui-buttonset"); this._init() }, _init: function () { this.refresh() }, _setOption: function (g, h) { if (g === "disabled") { this.buttons.button("option", g, h) } f.Widget.prototype._setOption.apply(this, arguments) }, refresh: function () { this.buttons = this.element.find(":button, :submit, :reset, :checkbox, :radio, a, :data(button)").filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function () { return f(this).button("widget")[0] }).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass("ui-corner-left").end().filter(":last").addClass("ui-corner-right").end().end() }, destroy: function () { this.element.removeClass("ui-buttonset"); this.buttons.map(function () { return f(this).button("widget")[0] }).removeClass("ui-corner-left ui-corner-right").end().button("destroy"); f.Widget.prototype.destroy.call(this) } }) } (jQuery)); ; /*
 * jQuery UI Dialog 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Dialog
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *  jquery.ui.button.js
 *	jquery.ui.draggable.js
 *	jquery.ui.mouse.js
 *	jquery.ui.position.js
 *	jquery.ui.resizable.js
 */
(function (b) { var a = "ui-dialog ui-widget ui-widget-content ui-corner-all "; b.widget("ui.dialog", { options: { autoOpen: true, buttons: {}, closeOnEscape: true, closeText: "close", dialogClass: "", draggable: true, hide: null, height: "auto", maxHeight: false, maxWidth: false, minHeight: 150, minWidth: 150, modal: false, position: "center", resizable: true, show: null, stack: true, title: "", width: 300, zIndex: 1000 }, _create: function () { this.originalTitle = this.element.attr("title"); var k = this, l = k.options, i = l.title || k.originalTitle || "&#160;", d = b.ui.dialog.getTitleId(k.element), j = (k.uiDialog = b("<div></div>")).appendTo(document.body).hide().addClass(a + l.dialogClass).css({ zIndex: l.zIndex }).attr("tabIndex", -1).css("outline", 0).keydown(function (m) { if (l.closeOnEscape && m.keyCode && m.keyCode === b.ui.keyCode.ESCAPE) { k.close(m); m.preventDefault() } }).attr({ role: "dialog", "aria-labelledby": d }).mousedown(function (m) { k.moveToTop(false, m) }), f = k.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(j), e = (k.uiDialogTitlebar = b("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(j), h = b('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role", "button").hover(function () { h.addClass("ui-state-hover") }, function () { h.removeClass("ui-state-hover") }).focus(function () { h.addClass("ui-state-focus") }).blur(function () { h.removeClass("ui-state-focus") }).click(function (m) { k.close(m); return false }).appendTo(e), g = (k.uiDialogTitlebarCloseText = b("<span></span>")).addClass("ui-icon ui-icon-closethick").text(l.closeText).appendTo(h), c = b("<span></span>").addClass("ui-dialog-title").attr("id", d).html(i).prependTo(e); if (b.isFunction(l.beforeclose) && !b.isFunction(l.beforeClose)) { l.beforeClose = l.beforeclose } e.find("*").add(e).disableSelection(); if (l.draggable && b.fn.draggable) { k._makeDraggable() } if (l.resizable && b.fn.resizable) { k._makeResizable() } k._createButtons(l.buttons); k._isOpen = false; if (b.fn.bgiframe) { j.bgiframe() } }, _init: function () { if (this.options.autoOpen) { this.open() } }, destroy: function () { var c = this; if (c.overlay) { c.overlay.destroy() } c.uiDialog.hide(); c.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"); c.uiDialog.remove(); if (c.originalTitle) { c.element.attr("title", c.originalTitle) } return c }, widget: function () { return this.uiDialog }, close: function (e) { var c = this, d; if (false === c._trigger("beforeClose", e)) { return } if (c.overlay) { c.overlay.destroy() } c.uiDialog.unbind("keypress.ui-dialog"); c._isOpen = false; if (c.options.hide) { c.uiDialog.hide(c.options.hide, function () { c._trigger("close", e) }) } else { c.uiDialog.hide(); c._trigger("close", e) } b.ui.dialog.overlay.resize(); if (c.options.modal) { d = 0; b(".ui-dialog").each(function () { if (this !== c.uiDialog[0]) { d = Math.max(d, b(this).css("z-index")) } }); b.ui.dialog.maxZ = d } return c }, isOpen: function () { return this._isOpen }, moveToTop: function (g, f) { var c = this, e = c.options, d; if ((e.modal && !g) || (!e.stack && !e.modal)) { return c._trigger("focus", f) } if (e.zIndex > b.ui.dialog.maxZ) { b.ui.dialog.maxZ = e.zIndex } if (c.overlay) { b.ui.dialog.maxZ += 1; c.overlay.$el.css("z-index", b.ui.dialog.overlay.maxZ = b.ui.dialog.maxZ) } d = { scrollTop: c.element.attr("scrollTop"), scrollLeft: c.element.attr("scrollLeft") }; b.ui.dialog.maxZ += 1; c.uiDialog.css("z-index", b.ui.dialog.maxZ); c.element.attr(d); c._trigger("focus", f); return c }, open: function () { if (this._isOpen) { return } var d = this, e = d.options, c = d.uiDialog; d.overlay = e.modal ? new b.ui.dialog.overlay(d) : null; if (c.next().length) { c.appendTo("body") } d._size(); d._position(e.position); c.show(e.show); d.moveToTop(true); if (e.modal) { c.bind("keypress.ui-dialog", function (h) { if (h.keyCode !== b.ui.keyCode.TAB) { return } var g = b(":tabbable", this), i = g.filter(":first"), f = g.filter(":last"); if (h.target === f[0] && !h.shiftKey) { i.focus(1); return false } else { if (h.target === i[0] && h.shiftKey) { f.focus(1); return false } } }) } b([]).add(c.find(".ui-dialog-content :tabbable:first")).add(c.find(".ui-dialog-buttonpane :tabbable:first")).add(c).filter(":first").focus(); d._trigger("open"); d._isOpen = true; return d }, _createButtons: function (f) { var e = this, c = false, d = b("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"); e.uiDialog.find(".ui-dialog-buttonpane").remove(); if (typeof f === "object" && f !== null) { b.each(f, function () { return !(c = true) }) } if (c) { b.each(f, function (g, i) { var h = b('<button type="button"></button>').text(g).click(function () { i.apply(e.element[0], arguments) }).appendTo(d); if (b.fn.button) { h.button() } }); d.appendTo(e.uiDialog) } }, _makeDraggable: function () { var c = this, f = c.options, g = b(document), e; function d(h) { return { position: h.position, offset: h.offset} } c.uiDialog.draggable({ cancel: ".ui-dialog-content, .ui-dialog-titlebar-close", handle: ".ui-dialog-titlebar", containment: "document", start: function (h, i) { e = f.height === "auto" ? "auto" : b(this).height(); b(this).height(b(this).height()).addClass("ui-dialog-dragging"); c._trigger("dragStart", h, d(i)) }, drag: function (h, i) { c._trigger("drag", h, d(i)) }, stop: function (h, i) { f.position = [i.position.left - g.scrollLeft(), i.position.top - g.scrollTop()]; b(this).removeClass("ui-dialog-dragging").height(e); c._trigger("dragStop", h, d(i)); b.ui.dialog.overlay.resize() } }) }, _makeResizable: function (h) { h = (h === undefined ? this.options.resizable : h); var d = this, g = d.options, c = d.uiDialog.css("position"), f = (typeof h === "string" ? h : "n,e,s,w,se,sw,ne,nw"); function e(i) { return { originalPosition: i.originalPosition, originalSize: i.originalSize, position: i.position, size: i.size} } d.uiDialog.resizable({ cancel: ".ui-dialog-content", containment: "document", alsoResize: d.element, maxWidth: g.maxWidth, maxHeight: g.maxHeight, minWidth: g.minWidth, minHeight: d._minHeight(), handles: f, start: function (i, j) { b(this).addClass("ui-dialog-resizing"); d._trigger("resizeStart", i, e(j)) }, resize: function (i, j) { d._trigger("resize", i, e(j)) }, stop: function (i, j) { b(this).removeClass("ui-dialog-resizing"); g.height = b(this).height(); g.width = b(this).width(); d._trigger("resizeStop", i, e(j)); b.ui.dialog.overlay.resize() } }).css("position", c).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se") }, _minHeight: function () { var c = this.options; if (c.height === "auto") { return c.minHeight } else { return Math.min(c.minHeight, c.height) } }, _position: function (d) { var e = [], f = [0, 0], c; d = d || b.ui.dialog.prototype.options.position; if (typeof d === "string" || (typeof d === "object" && "0" in d)) { e = d.split ? d.split(" ") : [d[0], d[1]]; if (e.length === 1) { e[1] = e[0] } b.each(["left", "top"], function (h, g) { if (+e[h] === e[h]) { f[h] = e[h]; e[h] = g } }) } else { if (typeof d === "object") { if ("left" in d) { e[0] = "left"; f[0] = d.left } else { if ("right" in d) { e[0] = "right"; f[0] = -d.right } } if ("top" in d) { e[1] = "top"; f[1] = d.top } else { if ("bottom" in d) { e[1] = "bottom"; f[1] = -d.bottom } } } } c = this.uiDialog.is(":visible"); if (!c) { this.uiDialog.show() } this.uiDialog.css({ top: 0, left: 0 }).position({ my: e.join(" "), at: e.join(" "), offset: f.join(" "), of: window, collision: "fit", using: function (h) { var g = b(this).css(h).offset().top; if (g < 0) { b(this).css("top", h.top - g) } } }); if (!c) { this.uiDialog.hide() } }, _setOption: function (f, g) { var d = this, c = d.uiDialog, h = c.is(":data(resizable)"), e = false; switch (f) { case "beforeclose": f = "beforeClose"; break; case "buttons": d._createButtons(g); break; case "closeText": d.uiDialogTitlebarCloseText.text("" + g); break; case "dialogClass": c.removeClass(d.options.dialogClass).addClass(a + g); break; case "disabled": if (g) { c.addClass("ui-dialog-disabled") } else { c.removeClass("ui-dialog-disabled") } break; case "draggable": if (g) { d._makeDraggable() } else { c.draggable("destroy") } break; case "height": e = true; break; case "maxHeight": if (h) { c.resizable("option", "maxHeight", g) } e = true; break; case "maxWidth": if (h) { c.resizable("option", "maxWidth", g) } e = true; break; case "minHeight": if (h) { c.resizable("option", "minHeight", g) } e = true; break; case "minWidth": if (h) { c.resizable("option", "minWidth", g) } e = true; break; case "position": d._position(g); break; case "resizable": if (h && !g) { c.resizable("destroy") } if (h && typeof g === "string") { c.resizable("option", "handles", g) } if (!h && g !== false) { d._makeResizable(g) } break; case "title": b(".ui-dialog-title", d.uiDialogTitlebar).html("" + (g || "&#160;")); break; case "width": e = true; break } b.Widget.prototype._setOption.apply(d, arguments); if (e) { d._size() } }, _size: function () { var d = this.options, c; this.element.css("width", "auto").hide(); c = this.uiDialog.css({ height: "auto", width: d.width }).height(); this.element.css(d.height === "auto" ? { minHeight: Math.max(d.minHeight - c, 0), height: "auto"} : { minHeight: 0, height: Math.max(d.height - c, 0) }).show(); if (this.uiDialog.is(":data(resizable)")) { this.uiDialog.resizable("option", "minHeight", this._minHeight()) } } }); b.extend(b.ui.dialog, { version: "1.8", uuid: 0, maxZ: 0, getTitleId: function (c) { var d = c.attr("id"); if (!d) { this.uuid += 1; d = this.uuid } return "ui-dialog-title-" + d }, overlay: function (c) { this.$el = b.ui.dialog.overlay.create(c) } }); b.extend(b.ui.dialog.overlay, { instances: [], oldInstances: [], maxZ: 0, events: b.map("focus,mousedown,mouseup,keydown,keypress,click".split(","), function (c) { return c + ".dialog-overlay" }).join(" "), create: function (d) { if (this.instances.length === 0) { setTimeout(function () { if (b.ui.dialog.overlay.instances.length) { b(document).bind(b.ui.dialog.overlay.events, function (e) { return (b(e.target).zIndex() >= b.ui.dialog.overlay.maxZ) }) } }, 1); b(document).bind("keydown.dialog-overlay", function (e) { if (d.options.closeOnEscape && e.keyCode && e.keyCode === b.ui.keyCode.ESCAPE) { d.close(e); e.preventDefault() } }); b(window).bind("resize.dialog-overlay", b.ui.dialog.overlay.resize) } var c = (this.oldInstances.pop() || b("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({ width: this.width(), height: this.height() }); if (b.fn.bgiframe) { c.bgiframe() } this.instances.push(c); return c }, destroy: function (c) { this.oldInstances.push(this.instances.splice(b.inArray(c, this.instances), 1)[0]); if (this.instances.length === 0) { b([document, window]).unbind(".dialog-overlay") } c.remove(); var d = 0; b.each(this.instances, function () { d = Math.max(d, this.css("z-index")) }); this.maxZ = d }, height: function () { var d, c; if (b.browser.msie && b.browser.version < 7) { d = Math.max(document.documentElement.scrollHeight, document.body.scrollHeight); c = Math.max(document.documentElement.offsetHeight, document.body.offsetHeight); if (d < c) { return b(window).height() + "px" } else { return d + "px" } } else { return b(document).height() + "px" } }, width: function () { var c, d; if (b.browser.msie && b.browser.version < 7) { c = Math.max(document.documentElement.scrollWidth, document.body.scrollWidth); d = Math.max(document.documentElement.offsetWidth, document.body.offsetWidth); if (c < d) { return b(window).width() + "px" } else { return c + "px" } } else { return b(document).width() + "px" } }, resize: function () { var c = b([]); b.each(b.ui.dialog.overlay.instances, function () { c = c.add(this) }); c.css({ width: 0, height: 0 }).css({ width: b.ui.dialog.overlay.width(), height: b.ui.dialog.overlay.height() }) } }); b.extend(b.ui.dialog.overlay.prototype, { destroy: function () { b.ui.dialog.overlay.destroy(this.$el) } }) } (jQuery)); ; /*
 * jQuery UI Slider 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Slider
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function (b) { var a = 5; b.widget("ui.slider", b.ui.mouse, { widgetEventPrefix: "slide", options: { animate: false, distance: 0, max: 100, min: 0, orientation: "horizontal", range: false, step: 1, value: 0, values: null }, _create: function () { var c = this, d = this.options; this._keySliding = false; this._mouseSliding = false; this._animateOff = true; this._handleIndex = null; this._detectOrientation(); this._mouseInit(); this.element.addClass("ui-slider ui-slider-" + this.orientation + " ui-widget ui-widget-content ui-corner-all"); if (d.disabled) { this.element.addClass("ui-slider-disabled ui-disabled") } this.range = b([]); if (d.range) { if (d.range === true) { this.range = b("<div></div>"); if (!d.values) { d.values = [this._valueMin(), this._valueMin()] } if (d.values.length && d.values.length != 2) { d.values = [d.values[0], d.values[0]] } } else { this.range = b("<div></div>") } this.range.appendTo(this.element).addClass("ui-slider-range"); if (d.range == "min" || d.range == "max") { this.range.addClass("ui-slider-range-" + d.range) } this.range.addClass("ui-widget-header") } if (b(".ui-slider-handle", this.element).length == 0) { b('<a href="#"></a>').appendTo(this.element).addClass("ui-slider-handle") } if (d.values && d.values.length) { while (b(".ui-slider-handle", this.element).length < d.values.length) { b('<a href="#"></a>').appendTo(this.element).addClass("ui-slider-handle") } } this.handles = b(".ui-slider-handle", this.element).addClass("ui-state-default ui-corner-all"); this.handle = this.handles.eq(0); this.handles.add(this.range).filter("a").click(function (e) { e.preventDefault() }).hover(function () { if (!d.disabled) { b(this).addClass("ui-state-hover") } }, function () { b(this).removeClass("ui-state-hover") }).focus(function () { if (!d.disabled) { b(".ui-slider .ui-state-focus").removeClass("ui-state-focus"); b(this).addClass("ui-state-focus") } else { b(this).blur() } }).blur(function () { b(this).removeClass("ui-state-focus") }); this.handles.each(function (e) { b(this).data("index.ui-slider-handle", e) }); this.handles.keydown(function (j) { var g = true; var f = b(this).data("index.ui-slider-handle"); if (c.options.disabled) { return } switch (j.keyCode) { case b.ui.keyCode.HOME: case b.ui.keyCode.END: case b.ui.keyCode.PAGE_UP: case b.ui.keyCode.PAGE_DOWN: case b.ui.keyCode.UP: case b.ui.keyCode.RIGHT: case b.ui.keyCode.DOWN: case b.ui.keyCode.LEFT: g = false; if (!c._keySliding) { c._keySliding = true; b(this).addClass("ui-state-active"); c._start(j, f) } break } var h, e, i = c._step(); if (c.options.values && c.options.values.length) { h = e = c.values(f) } else { h = e = c.value() } switch (j.keyCode) { case b.ui.keyCode.HOME: e = c._valueMin(); break; case b.ui.keyCode.END: e = c._valueMax(); break; case b.ui.keyCode.PAGE_UP: e = h + ((c._valueMax() - c._valueMin()) / a); break; case b.ui.keyCode.PAGE_DOWN: e = h - ((c._valueMax() - c._valueMin()) / a); break; case b.ui.keyCode.UP: case b.ui.keyCode.RIGHT: if (h == c._valueMax()) { return } e = h + i; break; case b.ui.keyCode.DOWN: case b.ui.keyCode.LEFT: if (h == c._valueMin()) { return } e = h - i; break } c._slide(j, f, e); return g }).keyup(function (f) { var e = b(this).data("index.ui-slider-handle"); if (c._keySliding) { c._keySliding = false; c._stop(f, e); c._change(f, e); b(this).removeClass("ui-state-active") } }); this._refreshValue(); this._animateOff = false }, destroy: function () { this.handles.remove(); this.range.remove(); this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"); this._mouseDestroy(); return this }, _mouseCapture: function (e) { var f = this.options; if (f.disabled) { return false } this.elementSize = { width: this.element.outerWidth(), height: this.element.outerHeight() }; this.elementOffset = this.element.offset(); var i = { x: e.pageX, y: e.pageY }; var k = this._normValueFromMouse(i); var d = this._valueMax() - this._valueMin() + 1, g; var l = this, j; this.handles.each(function (m) { var n = Math.abs(k - l.values(m)); if (d > n) { d = n; g = b(this); j = m } }); if (f.range == true && this.values(1) == f.min) { g = b(this.handles[++j]) } this._start(e, j); this._mouseSliding = true; l._handleIndex = j; g.addClass("ui-state-active").focus(); var h = g.offset(); var c = !b(e.target).parents().andSelf().is(".ui-slider-handle"); this._clickOffset = c ? { left: 0, top: 0} : { left: e.pageX - h.left - (g.width() / 2), top: e.pageY - h.top - (g.height() / 2) - (parseInt(g.css("borderTopWidth"), 10) || 0) - (parseInt(g.css("borderBottomWidth"), 10) || 0) + (parseInt(g.css("marginTop"), 10) || 0) }; k = this._normValueFromMouse(i); this._slide(e, j, k); this._animateOff = true; return true }, _mouseStart: function (c) { return true }, _mouseDrag: function (e) { var c = { x: e.pageX, y: e.pageY }; var d = this._normValueFromMouse(c); this._slide(e, this._handleIndex, d); return false }, _mouseStop: function (c) { this.handles.removeClass("ui-state-active"); this._mouseSliding = false; this._stop(c, this._handleIndex); this._change(c, this._handleIndex); this._handleIndex = null; this._clickOffset = null; this._animateOff = false; return false }, _detectOrientation: function () { this.orientation = this.options.orientation == "vertical" ? "vertical" : "horizontal" }, _normValueFromMouse: function (e) { var d, i; if ("horizontal" == this.orientation) { d = this.elementSize.width; i = e.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0) } else { d = this.elementSize.height; i = e.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0) } var g = (i / d); if (g > 1) { g = 1 } if (g < 0) { g = 0 } if ("vertical" == this.orientation) { g = 1 - g } var f = this._valueMax() - this._valueMin(), j = g * f, c = j % this.options.step, h = this._valueMin() + j - c; if (c > (this.options.step / 2)) { h += this.options.step } return parseFloat(h.toFixed(5)) }, _start: function (e, d) { var c = { handle: this.handles[d], value: this.value() }; if (this.options.values && this.options.values.length) { c.value = this.values(d); c.values = this.values() } this._trigger("start", e, c) }, _slide: function (g, f, e) { var h = this.handles[f]; if (this.options.values && this.options.values.length) { var c = this.values(f ? 0 : 1); if ((this.options.values.length == 2 && this.options.range === true) && ((f == 0 && e > c) || (f == 1 && e < c))) { e = c } if (e != this.values(f)) { var d = this.values(); d[f] = e; var i = this._trigger("slide", g, { handle: this.handles[f], value: e, values: d }); var c = this.values(f ? 0 : 1); if (i !== false) { this.values(f, e, true) } } } else { if (e != this.value()) { var i = this._trigger("slide", g, { handle: this.handles[f], value: e }); if (i !== false) { this.value(e) } } } }, _stop: function (e, d) { var c = { handle: this.handles[d], value: this.value() }; if (this.options.values && this.options.values.length) { c.value = this.values(d); c.values = this.values() } this._trigger("stop", e, c) }, _change: function (e, d) { if (!this._keySliding && !this._mouseSliding) { var c = { handle: this.handles[d], value: this.value() }; if (this.options.values && this.options.values.length) { c.value = this.values(d); c.values = this.values() } this._trigger("change", e, c) } }, value: function (c) { if (arguments.length) { this.options.value = this._trimValue(c); this._refreshValue(); this._change(null, 0) } return this._value() }, values: function (e, h) { if (arguments.length > 1) { this.options.values[e] = this._trimValue(h); this._refreshValue(); this._change(null, e) } if (arguments.length) { if (b.isArray(arguments[0])) { var g = this.options.values, d = arguments[0]; for (var f = 0, c = g.length; f < c; f++) { g[f] = this._trimValue(d[f]); this._change(null, f) } this._refreshValue() } else { if (this.options.values && this.options.values.length) { return this._values(e) } else { return this.value() } } } else { return this._values() } }, _setOption: function (d, e) { var c, f = 0; if (jQuery.isArray(this.options.values)) { f = this.options.values.length } b.Widget.prototype._setOption.apply(this, arguments); switch (d) { case "disabled": if (e) { this.handles.filter(".ui-state-focus").blur(); this.handles.removeClass("ui-state-hover"); this.handles.attr("disabled", "disabled"); this.element.addClass("ui-disabled") } else { this.handles.removeAttr("disabled"); this.element.removeClass("ui-disabled") } case "orientation": this._detectOrientation(); this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-" + this.orientation); this._refreshValue(); break; case "value": this._animateOff = true; this._refreshValue(); this._change(null, 0); this._animateOff = false; break; case "values": this._animateOff = true; this._refreshValue(); for (c = 0; c < f; c++) { this._change(null, c) } this._animateOff = false; break } }, _step: function () { var c = this.options.step; return c }, _value: function () { var c = this.options.value; c = this._trimValue(c); return c }, _values: function (d) { if (arguments.length) { var g = this.options.values[d]; g = this._trimValue(g); return g } else { var f = this.options.values.slice(); for (var e = 0, c = f.length; e < c; e++) { f[e] = this._trimValue(f[e]) } return f } }, _trimValue: function (c) { if (c < this._valueMin()) { c = this._valueMin() } if (c > this._valueMax()) { c = this._valueMax() } return c }, _valueMin: function () { var c = this.options.min; return c }, _valueMax: function () { var c = this.options.max; return c }, _refreshValue: function () { var g = this.options.range, e = this.options, m = this; var d = (!this._animateOff) ? e.animate : false; if (this.options.values && this.options.values.length) { var j, i; this.handles.each(function (q, o) { var p = (m.values(q) - m._valueMin()) / (m._valueMax() - m._valueMin()) * 100; var n = {}; n[m.orientation == "horizontal" ? "left" : "bottom"] = p + "%"; b(this).stop(1, 1)[d ? "animate" : "css"](n, e.animate); if (m.options.range === true) { if (m.orientation == "horizontal") { (q == 0) && m.range.stop(1, 1)[d ? "animate" : "css"]({ left: p + "%" }, e.animate); (q == 1) && m.range[d ? "animate" : "css"]({ width: (p - lastValPercent) + "%" }, { queue: false, duration: e.animate }) } else { (q == 0) && m.range.stop(1, 1)[d ? "animate" : "css"]({ bottom: (p) + "%" }, e.animate); (q == 1) && m.range[d ? "animate" : "css"]({ height: (p - lastValPercent) + "%" }, { queue: false, duration: e.animate }) } } lastValPercent = p }) } else { var k = this.value(), h = this._valueMin(), l = this._valueMax(), f = l != h ? (k - h) / (l - h) * 100 : 0; var c = {}; c[m.orientation == "horizontal" ? "left" : "bottom"] = f + "%"; this.handle.stop(1, 1)[d ? "animate" : "css"](c, e.animate); (g == "min") && (this.orientation == "horizontal") && this.range.stop(1, 1)[d ? "animate" : "css"]({ width: f + "%" }, e.animate); (g == "max") && (this.orientation == "horizontal") && this.range[d ? "animate" : "css"]({ width: (100 - f) + "%" }, { queue: false, duration: e.animate }); (g == "min") && (this.orientation == "vertical") && this.range.stop(1, 1)[d ? "animate" : "css"]({ height: f + "%" }, e.animate); (g == "max") && (this.orientation == "vertical") && this.range[d ? "animate" : "css"]({ height: (100 - f) + "%" }, { queue: false, duration: e.animate }) } } }); b.extend(b.ui.slider, { version: "1.8" }) })(jQuery); ; /*
 * jQuery UI Tabs 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Tabs
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
(function (c) { var b = 0, a = 0; c.widget("ui.tabs", { options: { add: null, ajaxOptions: null, cache: false, cookie: null, collapsible: false, disable: null, disabled: [], enable: null, event: "click", fx: null, idPrefix: "ui-tabs-", load: null, panelTemplate: "<div></div>", remove: null, select: null, show: null, spinner: "<em>Loading&#8230;</em>", tabTemplate: '<li><a href="#{href}"><span>#{label}</span></a></li>' }, _create: function () { this._tabify(true) }, _setOption: function (d, e) { if (d == "selected") { if (this.options.collapsible && e == this.options.selected) { return } this.select(e) } else { this.options[d] = e; this._tabify() } }, _tabId: function (d) { return d.title && d.title.replace(/\s/g, "_").replace(/[^A-Za-z0-9\-_:\.]/g, "") || this.options.idPrefix + (++b) }, _sanitizeSelector: function (d) { return d.replace(/:/g, "\\:") }, _cookie: function () { var d = this.cookie || (this.cookie = this.options.cookie.name || "ui-tabs-" + (++a)); return c.cookie.apply(null, [d].concat(c.makeArray(arguments))) }, _ui: function (e, d) { return { tab: e, panel: d, index: this.anchors.index(e)} }, _cleanup: function () { this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function () { var d = c(this); d.html(d.data("label.tabs")).removeData("label.tabs") }) }, _tabify: function (q) { this.list = this.element.find("ol,ul").eq(0); this.lis = c("li:has(a[href])", this.list); this.anchors = this.lis.map(function () { return c("a", this)[0] }); this.panels = c([]); var r = this, f = this.options; var e = /^#.+/; this.anchors.each(function (u, o) { var s = c(o).attr("href"); var v = s.split("#")[0], w; if (v && (v === location.toString().split("#")[0] || (w = c("base")[0]) && v === w.href)) { s = o.hash; o.href = s } if (e.test(s)) { r.panels = r.panels.add(r._sanitizeSelector(s)) } else { if (s != "#") { c.data(o, "href.tabs", s); c.data(o, "load.tabs", s.replace(/#.*$/, "")); var y = r._tabId(o); o.href = "#" + y; var x = c("#" + y); if (!x.length) { x = c(f.panelTemplate).attr("id", y).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(r.panels[u - 1] || r.list); x.data("destroy.tabs", true) } r.panels = r.panels.add(x) } else { f.disabled.push(u) } } }); if (q) { this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"); this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"); this.lis.addClass("ui-state-default ui-corner-top"); this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"); if (f.selected === undefined) { if (location.hash) { this.anchors.each(function (s, o) { if (o.hash == location.hash) { f.selected = s; return false } }) } if (typeof f.selected != "number" && f.cookie) { f.selected = parseInt(r._cookie(), 10) } if (typeof f.selected != "number" && this.lis.filter(".ui-tabs-selected").length) { f.selected = this.lis.index(this.lis.filter(".ui-tabs-selected")) } f.selected = f.selected || (this.lis.length ? 0 : -1) } else { if (f.selected === null) { f.selected = -1 } } f.selected = ((f.selected >= 0 && this.anchors[f.selected]) || f.selected < 0) ? f.selected : 0; f.disabled = c.unique(f.disabled.concat(c.map(this.lis.filter(".ui-state-disabled"), function (s, o) { return r.lis.index(s) }))).sort(); if (c.inArray(f.selected, f.disabled) != -1) { f.disabled.splice(c.inArray(f.selected, f.disabled), 1) } this.panels.addClass("ui-tabs-hide"); this.lis.removeClass("ui-tabs-selected ui-state-active"); if (f.selected >= 0 && this.anchors.length) { this.panels.eq(f.selected).removeClass("ui-tabs-hide"); this.lis.eq(f.selected).addClass("ui-tabs-selected ui-state-active"); r.element.queue("tabs", function () { r._trigger("show", null, r._ui(r.anchors[f.selected], r.panels[f.selected])) }); this.load(f.selected) } c(window).bind("unload", function () { r.lis.add(r.anchors).unbind(".tabs"); r.lis = r.anchors = r.panels = null }) } else { f.selected = this.lis.index(this.lis.filter(".ui-tabs-selected")) } this.element[f.collapsible ? "addClass" : "removeClass"]("ui-tabs-collapsible"); if (f.cookie) { this._cookie(f.selected, f.cookie) } for (var j = 0, p; (p = this.lis[j]); j++) { c(p)[c.inArray(j, f.disabled) != -1 && !c(p).hasClass("ui-tabs-selected") ? "addClass" : "removeClass"]("ui-state-disabled") } if (f.cache === false) { this.anchors.removeData("cache.tabs") } this.lis.add(this.anchors).unbind(".tabs"); if (f.event != "mouseover") { var h = function (o, i) { if (i.is(":not(.ui-state-disabled)")) { i.addClass("ui-state-" + o) } }; var l = function (o, i) { i.removeClass("ui-state-" + o) }; this.lis.bind("mouseover.tabs", function () { h("hover", c(this)) }); this.lis.bind("mouseout.tabs", function () { l("hover", c(this)) }); this.anchors.bind("focus.tabs", function () { h("focus", c(this).closest("li")) }); this.anchors.bind("blur.tabs", function () { l("focus", c(this).closest("li")) }) } var d, k; if (f.fx) { if (c.isArray(f.fx)) { d = f.fx[0]; k = f.fx[1] } else { d = k = f.fx } } function g(i, o) { i.css({ display: "" }); if (!c.support.opacity && o.opacity) { i[0].style.removeAttribute("filter") } } var m = k ? function (i, o) { c(i).closest("li").addClass("ui-tabs-selected ui-state-active"); o.hide().removeClass("ui-tabs-hide").animate(k, k.duration || "normal", function () { g(o, k); r._trigger("show", null, r._ui(i, o[0])) }) } : function (i, o) { c(i).closest("li").addClass("ui-tabs-selected ui-state-active"); o.removeClass("ui-tabs-hide"); r._trigger("show", null, r._ui(i, o[0])) }; var n = d ? function (o, i) { i.animate(d, d.duration || "normal", function () { r.lis.removeClass("ui-tabs-selected ui-state-active"); i.addClass("ui-tabs-hide"); g(i, d); r.element.dequeue("tabs") }) } : function (o, i, s) { r.lis.removeClass("ui-tabs-selected ui-state-active"); i.addClass("ui-tabs-hide"); r.element.dequeue("tabs") }; this.anchors.bind(f.event + ".tabs", function () { var o = this, u = c(this).closest("li"), i = r.panels.filter(":not(.ui-tabs-hide)"), s = c(r._sanitizeSelector(this.hash)); if ((u.hasClass("ui-tabs-selected") && !f.collapsible) || u.hasClass("ui-state-disabled") || u.hasClass("ui-state-processing") || r._trigger("select", null, r._ui(this, s[0])) === false) { this.blur(); return false } f.selected = r.anchors.index(this); r.abort(); if (f.collapsible) { if (u.hasClass("ui-tabs-selected")) { f.selected = -1; if (f.cookie) { r._cookie(f.selected, f.cookie) } r.element.queue("tabs", function () { n(o, i) }).dequeue("tabs"); this.blur(); return false } else { if (!i.length) { if (f.cookie) { r._cookie(f.selected, f.cookie) } r.element.queue("tabs", function () { m(o, s) }); r.load(r.anchors.index(this)); this.blur(); return false } } } if (f.cookie) { r._cookie(f.selected, f.cookie) } if (s.length) { if (i.length) { r.element.queue("tabs", function () { n(o, i) }) } r.element.queue("tabs", function () { m(o, s) }); r.load(r.anchors.index(this)) } else { throw "jQuery UI Tabs: Mismatching fragment identifier." } if (c.browser.msie) { this.blur() } }); this.anchors.bind("click.tabs", function () { return false }) }, destroy: function () { var d = this.options; this.abort(); this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"); this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"); this.anchors.each(function () { var e = c.data(this, "href.tabs"); if (e) { this.href = e } var f = c(this).unbind(".tabs"); c.each(["href", "load", "cache"], function (g, h) { f.removeData(h + ".tabs") }) }); this.lis.unbind(".tabs").add(this.panels).each(function () { if (c.data(this, "destroy.tabs")) { c(this).remove() } else { c(this).removeClass(["ui-state-default", "ui-corner-top", "ui-tabs-selected", "ui-state-active", "ui-state-hover", "ui-state-focus", "ui-state-disabled", "ui-tabs-panel", "ui-widget-content", "ui-corner-bottom", "ui-tabs-hide"].join(" ")) } }); if (d.cookie) { this._cookie(null, d.cookie) } return this }, add: function (g, f, e) { if (e === undefined) { e = this.anchors.length } var d = this, i = this.options, k = c(i.tabTemplate.replace(/#\{href\}/g, g).replace(/#\{label\}/g, f)), j = !g.indexOf("#") ? g.replace("#", "") : this._tabId(c("a", k)[0]); k.addClass("ui-state-default ui-corner-top").data("destroy.tabs", true); var h = c("#" + j); if (!h.length) { h = c(i.panelTemplate).attr("id", j).data("destroy.tabs", true) } h.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"); if (e >= this.lis.length) { k.appendTo(this.list); h.appendTo(this.list[0].parentNode) } else { k.insertBefore(this.lis[e]); h.insertBefore(this.panels[e]) } i.disabled = c.map(i.disabled, function (m, l) { return m >= e ? ++m : m }); this._tabify(); if (this.anchors.length == 1) { i.selected = 0; k.addClass("ui-tabs-selected ui-state-active"); h.removeClass("ui-tabs-hide"); this.element.queue("tabs", function () { d._trigger("show", null, d._ui(d.anchors[0], d.panels[0])) }); this.load(0) } this._trigger("add", null, this._ui(this.anchors[e], this.panels[e])); return this }, remove: function (d) { var f = this.options, g = this.lis.eq(d).remove(), e = this.panels.eq(d).remove(); if (g.hasClass("ui-tabs-selected") && this.anchors.length > 1) { this.select(d + (d + 1 < this.anchors.length ? 1 : -1)) } f.disabled = c.map(c.grep(f.disabled, function (j, h) { return j != d }), function (j, h) { return j >= d ? --j : j }); this._tabify(); this._trigger("remove", null, this._ui(g.find("a")[0], e[0])); return this }, enable: function (d) { var e = this.options; if (c.inArray(d, e.disabled) == -1) { return } this.lis.eq(d).removeClass("ui-state-disabled"); e.disabled = c.grep(e.disabled, function (g, f) { return g != d }); this._trigger("enable", null, this._ui(this.anchors[d], this.panels[d])); return this }, disable: function (e) { var d = this, f = this.options; if (e != f.selected) { this.lis.eq(e).addClass("ui-state-disabled"); f.disabled.push(e); f.disabled.sort(); this._trigger("disable", null, this._ui(this.anchors[e], this.panels[e])) } return this }, select: function (d) { if (typeof d == "string") { d = this.anchors.index(this.anchors.filter("[href$=" + d + "]")) } else { if (d === null) { d = -1 } } if (d == -1 && this.options.collapsible) { d = this.options.selected } this.anchors.eq(d).trigger(this.options.event + ".tabs"); return this }, load: function (g) { var e = this, i = this.options, d = this.anchors.eq(g)[0], f = c.data(d, "load.tabs"); this.abort(); if (!f || this.element.queue("tabs").length !== 0 && c.data(d, "cache.tabs")) { this.element.dequeue("tabs"); return } this.lis.eq(g).addClass("ui-state-processing"); if (i.spinner) { var h = c("span", d); h.data("label.tabs", h.html()).html(i.spinner) } this.xhr = c.ajax(c.extend({}, i.ajaxOptions, { url: f, success: function (k, j) { c(e._sanitizeSelector(d.hash)).html(k); e._cleanup(); if (i.cache) { c.data(d, "cache.tabs", true) } e._trigger("load", null, e._ui(e.anchors[g], e.panels[g])); try { i.ajaxOptions.success(k, j) } catch (l) { } }, error: function (l, j, k) { e._cleanup(); e._trigger("load", null, e._ui(e.anchors[g], e.panels[g])); try { i.ajaxOptions.error(l, j, g, d) } catch (k) { } } })); e.element.dequeue("tabs"); return this }, abort: function () { this.element.queue([]); this.panels.stop(false, true); this.element.queue("tabs", this.element.queue("tabs").splice(-2, 2)); if (this.xhr) { this.xhr.abort(); delete this.xhr } this._cleanup(); return this }, url: function (e, d) { this.anchors.eq(e).removeData("cache.tabs").data("load.tabs", d); return this }, length: function () { return this.anchors.length } }); c.extend(c.ui.tabs, { version: "1.8" }); c.extend(c.ui.tabs.prototype, { rotation: null, rotate: function (f, h) { var d = this, i = this.options; var e = d._rotate || (d._rotate = function (j) { clearTimeout(d.rotation); d.rotation = setTimeout(function () { var k = i.selected; d.select(++k < d.anchors.length ? k : 0) }, f); if (j) { j.stopPropagation() } }); var g = d._unrotate || (d._unrotate = !h ? function (j) { if (j.clientX) { d.rotate(null) } } : function (j) { t = i.selected; e() }); if (f) { this.element.bind("tabsshow", e); this.anchors.bind(i.event + ".tabs", g); e() } else { clearTimeout(d.rotation); this.element.unbind("tabsshow", e); this.anchors.unbind(i.event + ".tabs", g); delete this._rotate; delete this._unrotate } return this } }) })(jQuery); ; /*
 * jQuery UI Datepicker 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Datepicker
 *
 * Depends:
 *	jquery.ui.core.js
 */
(function ($) { $.extend($.ui, { datepicker: { version: "1.8"} }); var PROP_NAME = "datepicker"; var dpuuid = new Date().getTime(); function Datepicker() { this.debug = false; this._curInst = null; this._keyEvent = false; this._disabledInputs = []; this._datepickerShowing = false; this._inDialog = false; this._mainDivId = "ui-datepicker-div"; this._inlineClass = "ui-datepicker-inline"; this._appendClass = "ui-datepicker-append"; this._triggerClass = "ui-datepicker-trigger"; this._dialogClass = "ui-datepicker-dialog"; this._disableClass = "ui-datepicker-disabled"; this._unselectableClass = "ui-datepicker-unselectable"; this._currentClass = "ui-datepicker-current-day"; this._dayOverClass = "ui-datepicker-days-cell-over"; this.regional = []; this.regional[""] = { closeText: "Done", prevText: "Prev", nextText: "Next", currentText: "Today", monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], weekHeader: "Wk", dateFormat: "mm/dd/yy", firstDay: 0, isRTL: false, showMonthAfterYear: false, yearSuffix: "" }; this._defaults = { showOn: "focus", showAnim: "show", showOptions: {}, defaultDate: null, appendText: "", buttonText: "...", buttonImage: "", buttonImageOnly: false, hideIfNoPrevNext: false, navigationAsDateFormat: false, gotoCurrent: false, changeMonth: false, changeYear: false, yearRange: "c-10:c+10", showOtherMonths: false, selectOtherMonths: false, showWeek: false, calculateWeek: this.iso8601Week, shortYearCutoff: "+10", minDate: null, maxDate: null, duration: "_default", beforeShowDay: null, beforeShow: null, onSelect: null, onChangeMonthYear: null, onClose: null, numberOfMonths: 1, showCurrentAtPos: 0, stepMonths: 1, stepBigMonths: 12, altField: "", altFormat: "", constrainInput: true, showButtonPanel: false, autoSize: false }; $.extend(this._defaults, this.regional[""]); this.dpDiv = $('<div id="' + this._mainDivId + '" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all ui-helper-hidden-accessible"></div>') } $.extend(Datepicker.prototype, { markerClassName: "hasDatepicker", log: function () { if (this.debug) { console.log.apply("", arguments) } }, _widgetDatepicker: function () { return this.dpDiv }, setDefaults: function (settings) { extendRemove(this._defaults, settings || {}); return this }, _attachDatepicker: function (target, settings) { var inlineSettings = null; for (var attrName in this._defaults) { var attrValue = target.getAttribute("date:" + attrName); if (attrValue) { inlineSettings = inlineSettings || {}; try { inlineSettings[attrName] = eval(attrValue) } catch (err) { inlineSettings[attrName] = attrValue } } } var nodeName = target.nodeName.toLowerCase(); var inline = (nodeName == "div" || nodeName == "span"); if (!target.id) { target.id = "dp" + (++this.uuid) } var inst = this._newInst($(target), inline); inst.settings = $.extend({}, settings || {}, inlineSettings || {}); if (nodeName == "input") { this._connectDatepicker(target, inst) } else { if (inline) { this._inlineDatepicker(target, inst) } } }, _newInst: function (target, inline) { var id = target[0].id.replace(/([^A-Za-z0-9_])/g, "\\\\$1"); return { id: id, input: target, selectedDay: 0, selectedMonth: 0, selectedYear: 0, drawMonth: 0, drawYear: 0, inline: inline, dpDiv: (!inline ? this.dpDiv : $('<div class="' + this._inlineClass + ' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))} }, _connectDatepicker: function (target, inst) { var input = $(target); inst.append = $([]); inst.trigger = $([]); if (input.hasClass(this.markerClassName)) { return } this._attachments(input, inst); input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker", function (event, key, value) { inst.settings[key] = value }).bind("getData.datepicker", function (event, key) { return this._get(inst, key) }); this._autoSize(inst); $.data(target, PROP_NAME, inst) }, _attachments: function (input, inst) { var appendText = this._get(inst, "appendText"); var isRTL = this._get(inst, "isRTL"); if (inst.append) { inst.append.remove() } if (appendText) { inst.append = $('<span class="' + this._appendClass + '">' + appendText + "</span>"); input[isRTL ? "before" : "after"](inst.append) } input.unbind("focus", this._showDatepicker); if (inst.trigger) { inst.trigger.remove() } var showOn = this._get(inst, "showOn"); if (showOn == "focus" || showOn == "both") { input.focus(this._showDatepicker) } if (showOn == "button" || showOn == "both") { var buttonText = this._get(inst, "buttonText"); var buttonImage = this._get(inst, "buttonImage"); inst.trigger = $(this._get(inst, "buttonImageOnly") ? $("<img/>").addClass(this._triggerClass).attr({ src: buttonImage, alt: buttonText, title: buttonText }) : $('<button type="button"></button>').addClass(this._triggerClass).html(buttonImage == "" ? buttonText : $("<img/>").attr({ src: buttonImage, alt: buttonText, title: buttonText }))); input[isRTL ? "before" : "after"](inst.trigger); inst.trigger.click(function () { if ($.datepicker._datepickerShowing && $.datepicker._lastInput == input[0]) { $.datepicker._hideDatepicker() } else { $.datepicker._showDatepicker(input[0]) } return false }) } }, _autoSize: function (inst) { if (this._get(inst, "autoSize") && !inst.inline) { var date = new Date(2009, 12 - 1, 20); var dateFormat = this._get(inst, "dateFormat"); if (dateFormat.match(/[DM]/)) { var findMax = function (names) { var max = 0; var maxI = 0; for (var i = 0; i < names.length; i++) { if (names[i].length > max) { max = names[i].length; maxI = i } } return maxI }; date.setMonth(findMax(this._get(inst, (dateFormat.match(/MM/) ? "monthNames" : "monthNamesShort")))); date.setDate(findMax(this._get(inst, (dateFormat.match(/DD/) ? "dayNames" : "dayNamesShort"))) + 20 - date.getDay()) } inst.input.attr("size", this._formatDate(inst, date).length) } }, _inlineDatepicker: function (target, inst) { var divSpan = $(target); if (divSpan.hasClass(this.markerClassName)) { return } divSpan.addClass(this.markerClassName).append(inst.dpDiv).bind("setData.datepicker", function (event, key, value) { inst.settings[key] = value }).bind("getData.datepicker", function (event, key) { return this._get(inst, key) }); $.data(target, PROP_NAME, inst); this._setDate(inst, this._getDefaultDate(inst), true); this._updateDatepicker(inst); this._updateAlternate(inst) }, _dialogDatepicker: function (input, date, onSelect, settings, pos) { var inst = this._dialogInst; if (!inst) { var id = "dp" + (++this.uuid); this._dialogInput = $('<input type="text" id="' + id + '" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'); this._dialogInput.keydown(this._doKeyDown); $("body").append(this._dialogInput); inst = this._dialogInst = this._newInst(this._dialogInput, false); inst.settings = {}; $.data(this._dialogInput[0], PROP_NAME, inst) } extendRemove(inst.settings, settings || {}); date = (date && date.constructor == Date ? this._formatDate(inst, date) : date); this._dialogInput.val(date); this._pos = (pos ? (pos.length ? pos : [pos.pageX, pos.pageY]) : null); if (!this._pos) { var browserWidth = document.documentElement.clientWidth; var browserHeight = document.documentElement.clientHeight; var scrollX = document.documentElement.scrollLeft || document.body.scrollLeft; var scrollY = document.documentElement.scrollTop || document.body.scrollTop; this._pos = [(browserWidth / 2) - 100 + scrollX, (browserHeight / 2) - 150 + scrollY] } this._dialogInput.css("left", (this._pos[0] + 20) + "px").css("top", this._pos[1] + "px"); inst.settings.onSelect = onSelect; this._inDialog = true; this.dpDiv.addClass(this._dialogClass); this._showDatepicker(this._dialogInput[0]); if ($.blockUI) { $.blockUI(this.dpDiv) } $.data(this._dialogInput[0], PROP_NAME, inst); return this }, _destroyDatepicker: function (target) { var $target = $(target); var inst = $.data(target, PROP_NAME); if (!$target.hasClass(this.markerClassName)) { return } var nodeName = target.nodeName.toLowerCase(); $.removeData(target, PROP_NAME); if (nodeName == "input") { inst.append.remove(); inst.trigger.remove(); $target.removeClass(this.markerClassName).unbind("focus", this._showDatepicker).unbind("keydown", this._doKeyDown).unbind("keypress", this._doKeyPress).unbind("keyup", this._doKeyUp) } else { if (nodeName == "div" || nodeName == "span") { $target.removeClass(this.markerClassName).empty() } } }, _enableDatepicker: function (target) { var $target = $(target); var inst = $.data(target, PROP_NAME); if (!$target.hasClass(this.markerClassName)) { return } var nodeName = target.nodeName.toLowerCase(); if (nodeName == "input") { target.disabled = false; inst.trigger.filter("button").each(function () { this.disabled = false }).end().filter("img").css({ opacity: "1.0", cursor: "" }) } else { if (nodeName == "div" || nodeName == "span") { var inline = $target.children("." + this._inlineClass); inline.children().removeClass("ui-state-disabled") } } this._disabledInputs = $.map(this._disabledInputs, function (value) { return (value == target ? null : value) }) }, _disableDatepicker: function (target) { var $target = $(target); var inst = $.data(target, PROP_NAME); if (!$target.hasClass(this.markerClassName)) { return } var nodeName = target.nodeName.toLowerCase(); if (nodeName == "input") { target.disabled = true; inst.trigger.filter("button").each(function () { this.disabled = true }).end().filter("img").css({ opacity: "0.5", cursor: "default" }) } else { if (nodeName == "div" || nodeName == "span") { var inline = $target.children("." + this._inlineClass); inline.children().addClass("ui-state-disabled") } } this._disabledInputs = $.map(this._disabledInputs, function (value) { return (value == target ? null : value) }); this._disabledInputs[this._disabledInputs.length] = target }, _isDisabledDatepicker: function (target) { if (!target) { return false } for (var i = 0; i < this._disabledInputs.length; i++) { if (this._disabledInputs[i] == target) { return true } } return false }, _getInst: function (target) { try { return $.data(target, PROP_NAME) } catch (err) { throw "Missing instance data for this datepicker" } }, _optionDatepicker: function (target, name, value) { var inst = this._getInst(target); if (arguments.length == 2 && typeof name == "string") { return (name == "defaults" ? $.extend({}, $.datepicker._defaults) : (inst ? (name == "all" ? $.extend({}, inst.settings) : this._get(inst, name)) : null)) } var settings = name || {}; if (typeof name == "string") { settings = {}; settings[name] = value } if (inst) { if (this._curInst == inst) { this._hideDatepicker() } var date = this._getDateDatepicker(target, true); extendRemove(inst.settings, settings); this._attachments($(target), inst); this._autoSize(inst); this._setDateDatepicker(target, date); this._updateDatepicker(inst) } }, _changeDatepicker: function (target, name, value) { this._optionDatepicker(target, name, value) }, _refreshDatepicker: function (target) { var inst = this._getInst(target); if (inst) { this._updateDatepicker(inst) } }, _setDateDatepicker: function (target, date) { var inst = this._getInst(target); if (inst) { this._setDate(inst, date); this._updateDatepicker(inst); this._updateAlternate(inst) } }, _getDateDatepicker: function (target, noDefault) { var inst = this._getInst(target); if (inst && !inst.inline) { this._setDateFromField(inst, noDefault) } return (inst ? this._getDate(inst) : null) }, _doKeyDown: function (event) { var inst = $.datepicker._getInst(event.target); var handled = true; var isRTL = inst.dpDiv.is(".ui-datepicker-rtl"); inst._keyEvent = true; if ($.datepicker._datepickerShowing) { switch (event.keyCode) { case 9: $.datepicker._hideDatepicker(); handled = false; break; case 13: var sel = $("td." + $.datepicker._dayOverClass, inst.dpDiv).add($("td." + $.datepicker._currentClass, inst.dpDiv)); if (sel[0]) { $.datepicker._selectDay(event.target, inst.selectedMonth, inst.selectedYear, sel[0]) } else { $.datepicker._hideDatepicker() } return false; break; case 27: $.datepicker._hideDatepicker(); break; case 33: $.datepicker._adjustDate(event.target, (event.ctrlKey ? -$.datepicker._get(inst, "stepBigMonths") : -$.datepicker._get(inst, "stepMonths")), "M"); break; case 34: $.datepicker._adjustDate(event.target, (event.ctrlKey ? +$.datepicker._get(inst, "stepBigMonths") : +$.datepicker._get(inst, "stepMonths")), "M"); break; case 35: if (event.ctrlKey || event.metaKey) { $.datepicker._clearDate(event.target) } handled = event.ctrlKey || event.metaKey; break; case 36: if (event.ctrlKey || event.metaKey) { $.datepicker._gotoToday(event.target) } handled = event.ctrlKey || event.metaKey; break; case 37: if (event.ctrlKey || event.metaKey) { $.datepicker._adjustDate(event.target, (isRTL ? +1 : -1), "D") } handled = event.ctrlKey || event.metaKey; if (event.originalEvent.altKey) { $.datepicker._adjustDate(event.target, (event.ctrlKey ? -$.datepicker._get(inst, "stepBigMonths") : -$.datepicker._get(inst, "stepMonths")), "M") } break; case 38: if (event.ctrlKey || event.metaKey) { $.datepicker._adjustDate(event.target, -7, "D") } handled = event.ctrlKey || event.metaKey; break; case 39: if (event.ctrlKey || event.metaKey) { $.datepicker._adjustDate(event.target, (isRTL ? -1 : +1), "D") } handled = event.ctrlKey || event.metaKey; if (event.originalEvent.altKey) { $.datepicker._adjustDate(event.target, (event.ctrlKey ? +$.datepicker._get(inst, "stepBigMonths") : +$.datepicker._get(inst, "stepMonths")), "M") } break; case 40: if (event.ctrlKey || event.metaKey) { $.datepicker._adjustDate(event.target, +7, "D") } handled = event.ctrlKey || event.metaKey; break; default: handled = false } } else { if (event.keyCode == 36 && event.ctrlKey) { $.datepicker._showDatepicker(this) } else { handled = false } } if (handled) { event.preventDefault(); event.stopPropagation() } }, _doKeyPress: function (event) { var inst = $.datepicker._getInst(event.target); if ($.datepicker._get(inst, "constrainInput")) { var chars = $.datepicker._possibleChars($.datepicker._get(inst, "dateFormat")); var chr = String.fromCharCode(event.charCode == undefined ? event.keyCode : event.charCode); return event.ctrlKey || (chr < " " || !chars || chars.indexOf(chr) > -1) } }, _doKeyUp: function (event) { var inst = $.datepicker._getInst(event.target); if (inst.input.val() != inst.lastVal) { try { var date = $.datepicker.parseDate($.datepicker._get(inst, "dateFormat"), (inst.input ? inst.input.val() : null), $.datepicker._getFormatConfig(inst)); if (date) { $.datepicker._setDateFromField(inst); $.datepicker._updateAlternate(inst); $.datepicker._updateDatepicker(inst) } } catch (event) { $.datepicker.log(event) } } return true }, _showDatepicker: function (input) { input = input.target || input; if (input.nodeName.toLowerCase() != "input") { input = $("input", input.parentNode)[0] } if ($.datepicker._isDisabledDatepicker(input) || $.datepicker._lastInput == input) { return } var inst = $.datepicker._getInst(input); if ($.datepicker._curInst && $.datepicker._curInst != inst) { $.datepicker._curInst.dpDiv.stop(true, true) } var beforeShow = $.datepicker._get(inst, "beforeShow"); extendRemove(inst.settings, (beforeShow ? beforeShow.apply(input, [input, inst]) : {})); inst.lastVal = null; $.datepicker._lastInput = input; $.datepicker._setDateFromField(inst); if ($.datepicker._inDialog) { input.value = "" } if (!$.datepicker._pos) { $.datepicker._pos = $.datepicker._findPos(input); $.datepicker._pos[1] += input.offsetHeight } var isFixed = false; $(input).parents().each(function () { isFixed |= $(this).css("position") == "fixed"; return !isFixed }); if (isFixed && $.browser.opera) { $.datepicker._pos[0] -= document.documentElement.scrollLeft; $.datepicker._pos[1] -= document.documentElement.scrollTop } var offset = { left: $.datepicker._pos[0], top: $.datepicker._pos[1] }; $.datepicker._pos = null; inst.dpDiv.css({ position: "absolute", display: "block", top: "-1000px" }); $.datepicker._updateDatepicker(inst); offset = $.datepicker._checkOffset(inst, offset, isFixed); inst.dpDiv.css({ position: ($.datepicker._inDialog && $.blockUI ? "static" : (isFixed ? "fixed" : "absolute")), display: "none", left: offset.left + "px", top: offset.top + "px" }); if (!inst.inline) { var showAnim = $.datepicker._get(inst, "showAnim"); var duration = $.datepicker._get(inst, "duration"); var postProcess = function () { $.datepicker._datepickerShowing = true; var borders = $.datepicker._getBorders(inst.dpDiv); inst.dpDiv.find("iframe.ui-datepicker-cover").css({ left: -borders[0], top: -borders[1], width: inst.dpDiv.outerWidth(), height: inst.dpDiv.outerHeight() }) }; inst.dpDiv.zIndex($(input).zIndex() + 1); if ($.effects && $.effects[showAnim]) { inst.dpDiv.show(showAnim, $.datepicker._get(inst, "showOptions"), duration, postProcess) } else { inst.dpDiv[showAnim || "show"]((showAnim ? duration : null), postProcess) } if (!showAnim || !duration) { postProcess() } if (inst.input.is(":visible") && !inst.input.is(":disabled")) { inst.input.focus() } $.datepicker._curInst = inst } }, _updateDatepicker: function (inst) { var self = this; var borders = $.datepicker._getBorders(inst.dpDiv); inst.dpDiv.empty().append(this._generateHTML(inst)).find("iframe.ui-datepicker-cover").css({ left: -borders[0], top: -borders[1], width: inst.dpDiv.outerWidth(), height: inst.dpDiv.outerHeight() }).end().find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout", function () { $(this).removeClass("ui-state-hover"); if (this.className.indexOf("ui-datepicker-prev") != -1) { $(this).removeClass("ui-datepicker-prev-hover") } if (this.className.indexOf("ui-datepicker-next") != -1) { $(this).removeClass("ui-datepicker-next-hover") } }).bind("mouseover", function () { if (!self._isDisabledDatepicker(inst.inline ? inst.dpDiv.parent()[0] : inst.input[0])) { $(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"); $(this).addClass("ui-state-hover"); if (this.className.indexOf("ui-datepicker-prev") != -1) { $(this).addClass("ui-datepicker-prev-hover") } if (this.className.indexOf("ui-datepicker-next") != -1) { $(this).addClass("ui-datepicker-next-hover") } } }).end().find("." + this._dayOverClass + " a").trigger("mouseover").end(); var numMonths = this._getNumberOfMonths(inst); var cols = numMonths[1]; var width = 17; if (cols > 1) { inst.dpDiv.addClass("ui-datepicker-multi-" + cols).css("width", (width * cols) + "em") } else { inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("") } inst.dpDiv[(numMonths[0] != 1 || numMonths[1] != 1 ? "add" : "remove") + "Class"]("ui-datepicker-multi"); inst.dpDiv[(this._get(inst, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl"); if (inst == $.datepicker._curInst && $.datepicker._datepickerShowing && inst.input && inst.input.is(":visible") && !inst.input.is(":disabled")) { inst.input.focus() } }, _getBorders: function (elem) { var convert = function (value) { return { thin: 1, medium: 2, thick: 3}[value] || value }; return [parseFloat(convert(elem.css("border-left-width"))), parseFloat(convert(elem.css("border-top-width")))] }, _checkOffset: function (inst, offset, isFixed) { var dpWidth = inst.dpDiv.outerWidth(); var dpHeight = inst.dpDiv.outerHeight(); var inputWidth = inst.input ? inst.input.outerWidth() : 0; var inputHeight = inst.input ? inst.input.outerHeight() : 0; var viewWidth = document.documentElement.clientWidth + $(document).scrollLeft(); var viewHeight = document.documentElement.clientHeight + $(document).scrollTop(); offset.left -= (this._get(inst, "isRTL") ? (dpWidth - inputWidth) : 0); offset.left -= (isFixed && offset.left == inst.input.offset().left) ? $(document).scrollLeft() : 0; offset.top -= (isFixed && offset.top == (inst.input.offset().top + inputHeight)) ? $(document).scrollTop() : 0; offset.left -= Math.min(offset.left, (offset.left + dpWidth > viewWidth && viewWidth > dpWidth) ? Math.abs(offset.left + dpWidth - viewWidth) : 0); offset.top -= Math.min(offset.top, (offset.top + dpHeight > viewHeight && viewHeight > dpHeight) ? Math.abs(dpHeight + inputHeight) : 0); return offset }, _findPos: function (obj) { var inst = this._getInst(obj); var isRTL = this._get(inst, "isRTL"); while (obj && (obj.type == "hidden" || obj.nodeType != 1)) { obj = obj[isRTL ? "previousSibling" : "nextSibling"] } var position = $(obj).offset(); return [position.left, position.top] }, _hideDatepicker: function (input) { var inst = this._curInst; if (!inst || (input && inst != $.data(input, PROP_NAME))) { return } if (this._datepickerShowing) { var showAnim = this._get(inst, "showAnim"); var duration = this._get(inst, "duration"); var postProcess = function () { $.datepicker._tidyDialog(inst); this._curInst = null }; if ($.effects && $.effects[showAnim]) { inst.dpDiv.hide(showAnim, $.datepicker._get(inst, "showOptions"), duration, postProcess) } else { inst.dpDiv[(showAnim == "slideDown" ? "slideUp" : (showAnim == "fadeIn" ? "fadeOut" : "hide"))]((showAnim ? duration : null), postProcess) } if (!showAnim) { postProcess() } var onClose = this._get(inst, "onClose"); if (onClose) { onClose.apply((inst.input ? inst.input[0] : null), [(inst.input ? inst.input.val() : ""), inst]) } this._datepickerShowing = false; this._lastInput = null; if (this._inDialog) { this._dialogInput.css({ position: "absolute", left: "0", top: "-100px" }); if ($.blockUI) { $.unblockUI(); $("body").append(this.dpDiv) } } this._inDialog = false } }, _tidyDialog: function (inst) { inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar") }, _checkExternalClick: function (event) { if (!$.datepicker._curInst) { return } var $target = $(event.target); if ($target[0].id != $.datepicker._mainDivId && $target.parents("#" + $.datepicker._mainDivId).length == 0 && !$target.hasClass($.datepicker.markerClassName) && !$target.hasClass($.datepicker._triggerClass) && $.datepicker._datepickerShowing && !($.datepicker._inDialog && $.blockUI)) { $.datepicker._hideDatepicker() } }, _adjustDate: function (id, offset, period) { var target = $(id); var inst = this._getInst(target[0]); if (this._isDisabledDatepicker(target[0])) { return } this._adjustInstDate(inst, offset + (period == "M" ? this._get(inst, "showCurrentAtPos") : 0), period); this._updateDatepicker(inst) }, _gotoToday: function (id) { var target = $(id); var inst = this._getInst(target[0]); if (this._get(inst, "gotoCurrent") && inst.currentDay) { inst.selectedDay = inst.currentDay; inst.drawMonth = inst.selectedMonth = inst.currentMonth; inst.drawYear = inst.selectedYear = inst.currentYear } else { var date = new Date(); inst.selectedDay = date.getDate(); inst.drawMonth = inst.selectedMonth = date.getMonth(); inst.drawYear = inst.selectedYear = date.getFullYear() } this._notifyChange(inst); this._adjustDate(target) }, _selectMonthYear: function (id, select, period) { var target = $(id); var inst = this._getInst(target[0]); inst._selectingMonthYear = false; inst["selected" + (period == "M" ? "Month" : "Year")] = inst["draw" + (period == "M" ? "Month" : "Year")] = parseInt(select.options[select.selectedIndex].value, 10); this._notifyChange(inst); this._adjustDate(target) }, _clickMonthYear: function (id) { var target = $(id); var inst = this._getInst(target[0]); if (inst.input && inst._selectingMonthYear && !$.browser.msie) { inst.input.focus() } inst._selectingMonthYear = !inst._selectingMonthYear }, _selectDay: function (id, month, year, td) { var target = $(id); if ($(td).hasClass(this._unselectableClass) || this._isDisabledDatepicker(target[0])) { return } var inst = this._getInst(target[0]); inst.selectedDay = inst.currentDay = $("a", td).html(); inst.selectedMonth = inst.currentMonth = month; inst.selectedYear = inst.currentYear = year; this._selectDate(id, this._formatDate(inst, inst.currentDay, inst.currentMonth, inst.currentYear)) }, _clearDate: function (id) { var target = $(id); var inst = this._getInst(target[0]); this._selectDate(target, "") }, _selectDate: function (id, dateStr) { var target = $(id); var inst = this._getInst(target[0]); dateStr = (dateStr != null ? dateStr : this._formatDate(inst)); if (inst.input) { inst.input.val(dateStr) } this._updateAlternate(inst); var onSelect = this._get(inst, "onSelect"); if (onSelect) { onSelect.apply((inst.input ? inst.input[0] : null), [dateStr, inst]) } else { if (inst.input) { inst.input.trigger("change") } } if (inst.inline) { this._updateDatepicker(inst) } else { this._hideDatepicker(); this._lastInput = inst.input[0]; if (typeof (inst.input[0]) != "object") { inst.input.focus() } this._lastInput = null } }, _updateAlternate: function (inst) { var altField = this._get(inst, "altField"); if (altField) { var altFormat = this._get(inst, "altFormat") || this._get(inst, "dateFormat"); var date = this._getDate(inst); var dateStr = this.formatDate(altFormat, date, this._getFormatConfig(inst)); $(altField).each(function () { $(this).val(dateStr) }) } }, noWeekends: function (date) { var day = date.getDay(); return [(day > 0 && day < 6), ""] }, iso8601Week: function (date) { var checkDate = new Date(date.getTime()); checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7)); var time = checkDate.getTime(); checkDate.setMonth(0); checkDate.setDate(1); return Math.floor(Math.round((time - checkDate) / 86400000) / 7) + 1 }, parseDate: function (format, value, settings) { if (format == null || value == null) { throw "Invalid arguments" } value = (typeof value == "object" ? value.toString() : value + ""); if (value == "") { return null } var shortYearCutoff = (settings ? settings.shortYearCutoff : null) || this._defaults.shortYearCutoff; var dayNamesShort = (settings ? settings.dayNamesShort : null) || this._defaults.dayNamesShort; var dayNames = (settings ? settings.dayNames : null) || this._defaults.dayNames; var monthNamesShort = (settings ? settings.monthNamesShort : null) || this._defaults.monthNamesShort; var monthNames = (settings ? settings.monthNames : null) || this._defaults.monthNames; var year = -1; var month = -1; var day = -1; var doy = -1; var literal = false; var lookAhead = function (match) { var matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) == match); if (matches) { iFormat++ } return matches }; var getNumber = function (match) { lookAhead(match); var size = (match == "@" ? 14 : (match == "!" ? 20 : (match == "y" ? 4 : (match == "o" ? 3 : 2)))); var digits = new RegExp("^\\d{1," + size + "}"); var num = value.substring(iValue).match(digits); if (!num) { throw "Missing number at position " + iValue } iValue += num[0].length; return parseInt(num[0], 10) }; var getName = function (match, shortNames, longNames) { var names = (lookAhead(match) ? longNames : shortNames); for (var i = 0; i < names.length; i++) { if (value.substr(iValue, names[i].length) == names[i]) { iValue += names[i].length; return i + 1 } } throw "Unknown name at position " + iValue }; var checkLiteral = function () { if (value.charAt(iValue) != format.charAt(iFormat)) { throw "Unexpected literal at position " + iValue } iValue++ }; var iValue = 0; for (var iFormat = 0; iFormat < format.length; iFormat++) { if (literal) { if (format.charAt(iFormat) == "'" && !lookAhead("'")) { literal = false } else { checkLiteral() } } else { switch (format.charAt(iFormat)) { case "d": day = getNumber("d"); break; case "D": getName("D", dayNamesShort, dayNames); break; case "o": doy = getNumber("o"); break; case "m": month = getNumber("m"); break; case "M": month = getName("M", monthNamesShort, monthNames); break; case "y": year = getNumber("y"); break; case "@": var date = new Date(getNumber("@")); year = date.getFullYear(); month = date.getMonth() + 1; day = date.getDate(); break; case "!": var date = new Date((getNumber("!") - this._ticksTo1970) / 10000); year = date.getFullYear(); month = date.getMonth() + 1; day = date.getDate(); break; case "'": if (lookAhead("'")) { checkLiteral() } else { literal = true } break; default: checkLiteral() } } } if (year == -1) { year = new Date().getFullYear() } else { if (year < 100) { year += new Date().getFullYear() - new Date().getFullYear() % 100 + (year <= shortYearCutoff ? 0 : -100) } } if (doy > -1) { month = 1; day = doy; do { var dim = this._getDaysInMonth(year, month - 1); if (day <= dim) { break } month++; day -= dim } while (true) } var date = this._daylightSavingAdjust(new Date(year, month - 1, day)); if (date.getFullYear() != year || date.getMonth() + 1 != month || date.getDate() != day) { throw "Invalid date" } return date }, ATOM: "yy-mm-dd", COOKIE: "D, dd M yy", ISO_8601: "yy-mm-dd", RFC_822: "D, d M y", RFC_850: "DD, dd-M-y", RFC_1036: "D, d M y", RFC_1123: "D, d M yy", RFC_2822: "D, d M yy", RSS: "D, d M y", TICKS: "!", TIMESTAMP: "@", W3C: "yy-mm-dd", _ticksTo1970: (((1970 - 1) * 365 + Math.floor(1970 / 4) - Math.floor(1970 / 100) + Math.floor(1970 / 400)) * 24 * 60 * 60 * 10000000), formatDate: function (format, date, settings) { if (!date) { return "" } var dayNamesShort = (settings ? settings.dayNamesShort : null) || this._defaults.dayNamesShort; var dayNames = (settings ? settings.dayNames : null) || this._defaults.dayNames; var monthNamesShort = (settings ? settings.monthNamesShort : null) || this._defaults.monthNamesShort; var monthNames = (settings ? settings.monthNames : null) || this._defaults.monthNames; var lookAhead = function (match) { var matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) == match); if (matches) { iFormat++ } return matches }; var formatNumber = function (match, value, len) { var num = "" + value; if (lookAhead(match)) { while (num.length < len) { num = "0" + num } } return num }; var formatName = function (match, value, shortNames, longNames) { return (lookAhead(match) ? longNames[value] : shortNames[value]) }; var output = ""; var literal = false; if (date) { for (var iFormat = 0; iFormat < format.length; iFormat++) { if (literal) { if (format.charAt(iFormat) == "'" && !lookAhead("'")) { literal = false } else { output += format.charAt(iFormat) } } else { switch (format.charAt(iFormat)) { case "d": output += formatNumber("d", date.getDate(), 2); break; case "D": output += formatName("D", date.getDay(), dayNamesShort, dayNames); break; case "o": output += formatNumber("o", (date.getTime() - new Date(date.getFullYear(), 0, 0).getTime()) / 86400000, 3); break; case "m": output += formatNumber("m", date.getMonth() + 1, 2); break; case "M": output += formatName("M", date.getMonth(), monthNamesShort, monthNames); break; case "y": output += (lookAhead("y") ? date.getFullYear() : (date.getYear() % 100 < 10 ? "0" : "") + date.getYear() % 100); break; case "@": output += date.getTime(); break; case "!": output += date.getTime() * 10000 + this._ticksTo1970; break; case "'": if (lookAhead("'")) { output += "'" } else { literal = true } break; default: output += format.charAt(iFormat) } } } } return output }, _possibleChars: function (format) { var chars = ""; var literal = false; var lookAhead = function (match) { var matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) == match); if (matches) { iFormat++ } return matches }; for (var iFormat = 0; iFormat < format.length; iFormat++) { if (literal) { if (format.charAt(iFormat) == "'" && !lookAhead("'")) { literal = false } else { chars += format.charAt(iFormat) } } else { switch (format.charAt(iFormat)) { case "d": case "m": case "y": case "@": chars += "0123456789"; break; case "D": case "M": return null; case "'": if (lookAhead("'")) { chars += "'" } else { literal = true } break; default: chars += format.charAt(iFormat) } } } return chars }, _get: function (inst, name) { return inst.settings[name] !== undefined ? inst.settings[name] : this._defaults[name] }, _setDateFromField: function (inst, noDefault) { if (inst.input.val() == inst.lastVal) { return } var dateFormat = this._get(inst, "dateFormat"); var dates = inst.lastVal = inst.input ? inst.input.val() : null; var date, defaultDate; date = defaultDate = this._getDefaultDate(inst); var settings = this._getFormatConfig(inst); try { date = this.parseDate(dateFormat, dates, settings) || defaultDate } catch (event) { this.log(event); dates = (noDefault ? "" : dates) } inst.selectedDay = date.getDate(); inst.drawMonth = inst.selectedMonth = date.getMonth(); inst.drawYear = inst.selectedYear = date.getFullYear(); inst.currentDay = (dates ? date.getDate() : 0); inst.currentMonth = (dates ? date.getMonth() : 0); inst.currentYear = (dates ? date.getFullYear() : 0); this._adjustInstDate(inst) }, _getDefaultDate: function (inst) { return this._restrictMinMax(inst, this._determineDate(inst, this._get(inst, "defaultDate"), new Date())) }, _determineDate: function (inst, date, defaultDate) { var offsetNumeric = function (offset) { var date = new Date(); date.setDate(date.getDate() + offset); return date }; var offsetString = function (offset) { try { return $.datepicker.parseDate($.datepicker._get(inst, "dateFormat"), offset, $.datepicker._getFormatConfig(inst)) } catch (e) { } var date = (offset.toLowerCase().match(/^c/) ? $.datepicker._getDate(inst) : null) || new Date(); var year = date.getFullYear(); var month = date.getMonth(); var day = date.getDate(); var pattern = /([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g; var matches = pattern.exec(offset); while (matches) { switch (matches[2] || "d") { case "d": case "D": day += parseInt(matches[1], 10); break; case "w": case "W": day += parseInt(matches[1], 10) * 7; break; case "m": case "M": month += parseInt(matches[1], 10); day = Math.min(day, $.datepicker._getDaysInMonth(year, month)); break; case "y": case "Y": year += parseInt(matches[1], 10); day = Math.min(day, $.datepicker._getDaysInMonth(year, month)); break } matches = pattern.exec(offset) } return new Date(year, month, day) }; date = (date == null ? defaultDate : (typeof date == "string" ? offsetString(date) : (typeof date == "number" ? (isNaN(date) ? defaultDate : offsetNumeric(date)) : date))); date = (date && date.toString() == "Invalid Date" ? defaultDate : date); if (date) { date.setHours(0); date.setMinutes(0); date.setSeconds(0); date.setMilliseconds(0) } return this._daylightSavingAdjust(date) }, _daylightSavingAdjust: function (date) { if (!date) { return null } date.setHours(date.getHours() > 12 ? date.getHours() + 2 : 0); return date }, _setDate: function (inst, date, noChange) { var clear = !(date); var origMonth = inst.selectedMonth; var origYear = inst.selectedYear; date = this._restrictMinMax(inst, this._determineDate(inst, date, new Date())); inst.selectedDay = inst.currentDay = date.getDate(); inst.drawMonth = inst.selectedMonth = inst.currentMonth = date.getMonth(); inst.drawYear = inst.selectedYear = inst.currentYear = date.getFullYear(); if ((origMonth != inst.selectedMonth || origYear != inst.selectedYear) && !noChange) { this._notifyChange(inst) } this._adjustInstDate(inst); if (inst.input) { inst.input.val(clear ? "" : this._formatDate(inst)) } }, _getDate: function (inst) { var startDate = (!inst.currentYear || (inst.input && inst.input.val() == "") ? null : this._daylightSavingAdjust(new Date(inst.currentYear, inst.currentMonth, inst.currentDay))); return startDate }, _generateHTML: function (inst) { var today = new Date(); today = this._daylightSavingAdjust(new Date(today.getFullYear(), today.getMonth(), today.getDate())); var isRTL = this._get(inst, "isRTL"); var showButtonPanel = this._get(inst, "showButtonPanel"); var hideIfNoPrevNext = this._get(inst, "hideIfNoPrevNext"); var navigationAsDateFormat = this._get(inst, "navigationAsDateFormat"); var numMonths = this._getNumberOfMonths(inst); var showCurrentAtPos = this._get(inst, "showCurrentAtPos"); var stepMonths = this._get(inst, "stepMonths"); var isMultiMonth = (numMonths[0] != 1 || numMonths[1] != 1); var currentDate = this._daylightSavingAdjust((!inst.currentDay ? new Date(9999, 9, 9) : new Date(inst.currentYear, inst.currentMonth, inst.currentDay))); var minDate = this._getMinMaxDate(inst, "min"); var maxDate = this._getMinMaxDate(inst, "max"); var drawMonth = inst.drawMonth - showCurrentAtPos; var drawYear = inst.drawYear; if (drawMonth < 0) { drawMonth += 12; drawYear-- } if (maxDate) { var maxDraw = this._daylightSavingAdjust(new Date(maxDate.getFullYear(), maxDate.getMonth() - (numMonths[0] * numMonths[1]) + 1, maxDate.getDate())); maxDraw = (minDate && maxDraw < minDate ? minDate : maxDraw); while (this._daylightSavingAdjust(new Date(drawYear, drawMonth, 1)) > maxDraw) { drawMonth--; if (drawMonth < 0) { drawMonth = 11; drawYear-- } } } inst.drawMonth = drawMonth; inst.drawYear = drawYear; var prevText = this._get(inst, "prevText"); prevText = (!navigationAsDateFormat ? prevText : this.formatDate(prevText, this._daylightSavingAdjust(new Date(drawYear, drawMonth - stepMonths, 1)), this._getFormatConfig(inst))); var prev = (this._canAdjustMonth(inst, -1, drawYear, drawMonth) ? '<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_' + dpuuid + ".datepicker._adjustDate('#" + inst.id + "', -" + stepMonths + ", 'M');\" title=\"" + prevText + '"><span class="ui-icon ui-icon-circle-triangle-' + (isRTL ? "e" : "w") + '">' + prevText + "</span></a>" : (hideIfNoPrevNext ? "" : '<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="' + prevText + '"><span class="ui-icon ui-icon-circle-triangle-' + (isRTL ? "e" : "w") + '">' + prevText + "</span></a>")); var nextText = this._get(inst, "nextText"); nextText = (!navigationAsDateFormat ? nextText : this.formatDate(nextText, this._daylightSavingAdjust(new Date(drawYear, drawMonth + stepMonths, 1)), this._getFormatConfig(inst))); var next = (this._canAdjustMonth(inst, +1, drawYear, drawMonth) ? '<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_' + dpuuid + ".datepicker._adjustDate('#" + inst.id + "', +" + stepMonths + ", 'M');\" title=\"" + nextText + '"><span class="ui-icon ui-icon-circle-triangle-' + (isRTL ? "w" : "e") + '">' + nextText + "</span></a>" : (hideIfNoPrevNext ? "" : '<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="' + nextText + '"><span class="ui-icon ui-icon-circle-triangle-' + (isRTL ? "w" : "e") + '">' + nextText + "</span></a>")); var currentText = this._get(inst, "currentText"); var gotoDate = (this._get(inst, "gotoCurrent") && inst.currentDay ? currentDate : today); currentText = (!navigationAsDateFormat ? currentText : this.formatDate(currentText, gotoDate, this._getFormatConfig(inst))); var controls = (!inst.inline ? '<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_' + dpuuid + '.datepicker._hideDatepicker();">' + this._get(inst, "closeText") + "</button>" : ""); var buttonPanel = (showButtonPanel) ? '<div class="ui-datepicker-buttonpane ui-widget-content">' + (isRTL ? controls : "") + (this._isInRange(inst, gotoDate) ? '<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_' + dpuuid + ".datepicker._gotoToday('#" + inst.id + "');\">" + currentText + "</button>" : "") + (isRTL ? "" : controls) + "</div>" : ""; var firstDay = parseInt(this._get(inst, "firstDay"), 10); firstDay = (isNaN(firstDay) ? 0 : firstDay); var showWeek = this._get(inst, "showWeek"); var dayNames = this._get(inst, "dayNames"); var dayNamesShort = this._get(inst, "dayNamesShort"); var dayNamesMin = this._get(inst, "dayNamesMin"); var monthNames = this._get(inst, "monthNames"); var monthNamesShort = this._get(inst, "monthNamesShort"); var beforeShowDay = this._get(inst, "beforeShowDay"); var showOtherMonths = this._get(inst, "showOtherMonths"); var selectOtherMonths = this._get(inst, "selectOtherMonths"); var calculateWeek = this._get(inst, "calculateWeek") || this.iso8601Week; var defaultDate = this._getDefaultDate(inst); var html = ""; for (var row = 0; row < numMonths[0]; row++) { var group = ""; for (var col = 0; col < numMonths[1]; col++) { var selectedDate = this._daylightSavingAdjust(new Date(drawYear, drawMonth, inst.selectedDay)); var cornerClass = " ui-corner-all"; var calender = ""; if (isMultiMonth) { calender += '<div class="ui-datepicker-group'; if (numMonths[1] > 1) { switch (col) { case 0: calender += " ui-datepicker-group-first"; cornerClass = " ui-corner-" + (isRTL ? "right" : "left"); break; case numMonths[1] - 1: calender += " ui-datepicker-group-last"; cornerClass = " ui-corner-" + (isRTL ? "left" : "right"); break; default: calender += " ui-datepicker-group-middle"; cornerClass = ""; break } } calender += '">' } calender += '<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix' + cornerClass + '">' + (/all|left/.test(cornerClass) && row == 0 ? (isRTL ? next : prev) : "") + (/all|right/.test(cornerClass) && row == 0 ? (isRTL ? prev : next) : "") + this._generateMonthYearHeader(inst, drawMonth, drawYear, minDate, maxDate, row > 0 || col > 0, monthNames, monthNamesShort) + '</div><table class="ui-datepicker-calendar"><thead><tr>'; var thead = (showWeek ? '<th class="ui-datepicker-week-col">' + this._get(inst, "weekHeader") + "</th>" : ""); for (var dow = 0; dow < 7; dow++) { var day = (dow + firstDay) % 7; thead += "<th" + ((dow + firstDay + 6) % 7 >= 5 ? ' class="ui-datepicker-week-end"' : "") + '><span title="' + dayNames[day] + '">' + dayNamesMin[day] + "</span></th>" } calender += thead + "</tr></thead><tbody>"; var daysInMonth = this._getDaysInMonth(drawYear, drawMonth); if (drawYear == inst.selectedYear && drawMonth == inst.selectedMonth) { inst.selectedDay = Math.min(inst.selectedDay, daysInMonth) } var leadDays = (this._getFirstDayOfMonth(drawYear, drawMonth) - firstDay + 7) % 7; var numRows = (isMultiMonth ? 6 : Math.ceil((leadDays + daysInMonth) / 7)); var printDate = this._daylightSavingAdjust(new Date(drawYear, drawMonth, 1 - leadDays)); for (var dRow = 0; dRow < numRows; dRow++) { calender += "<tr>"; var tbody = (!showWeek ? "" : '<td class="ui-datepicker-week-col">' + this._get(inst, "calculateWeek")(printDate) + "</td>"); for (var dow = 0; dow < 7; dow++) { var daySettings = (beforeShowDay ? beforeShowDay.apply((inst.input ? inst.input[0] : null), [printDate]) : [true, ""]); var otherMonth = (printDate.getMonth() != drawMonth); var unselectable = (otherMonth && !selectOtherMonths) || !daySettings[0] || (minDate && printDate < minDate) || (maxDate && printDate > maxDate); tbody += '<td class="' + ((dow + firstDay + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (otherMonth ? " ui-datepicker-other-month" : "") + ((printDate.getTime() == selectedDate.getTime() && drawMonth == inst.selectedMonth && inst._keyEvent) || (defaultDate.getTime() == printDate.getTime() && defaultDate.getTime() == selectedDate.getTime()) ? " " + this._dayOverClass : "") + (unselectable ? " " + this._unselectableClass + " ui-state-disabled" : "") + (otherMonth && !showOtherMonths ? "" : " " + daySettings[1] + (printDate.getTime() == currentDate.getTime() ? " " + this._currentClass : "") + (printDate.getTime() == today.getTime() ? " ui-datepicker-today" : "")) + '"' + ((!otherMonth || showOtherMonths) && daySettings[2] ? ' title="' + daySettings[2] + '"' : "") + (unselectable ? "" : ' onclick="DP_jQuery_' + dpuuid + ".datepicker._selectDay('#" + inst.id + "'," + printDate.getMonth() + "," + printDate.getFullYear() + ', this);return false;"') + ">" + (otherMonth && !showOtherMonths ? "&#xa0;" : (unselectable ? '<span class="ui-state-default">' + printDate.getDate() + "</span>" : '<a class="ui-state-default' + (printDate.getTime() == today.getTime() ? " ui-state-highlight" : "") + (printDate.getTime() == currentDate.getTime() ? " ui-state-active" : "") + (otherMonth ? " ui-priority-secondary" : "") + '" href="#">' + printDate.getDate() + "</a>")) + "</td>"; printDate.setDate(printDate.getDate() + 1); printDate = this._daylightSavingAdjust(printDate) } calender += tbody + "</tr>" } drawMonth++; if (drawMonth > 11) { drawMonth = 0; drawYear++ } calender += "</tbody></table>" + (isMultiMonth ? "</div>" + ((numMonths[0] > 0 && col == numMonths[1] - 1) ? '<div class="ui-datepicker-row-break"></div>' : "") : ""); group += calender } html += group } html += buttonPanel + ($.browser.msie && parseInt($.browser.version, 10) < 7 && !inst.inline ? '<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>' : ""); inst._keyEvent = false; return html }, _generateMonthYearHeader: function (inst, drawMonth, drawYear, minDate, maxDate, secondary, monthNames, monthNamesShort) { var changeMonth = this._get(inst, "changeMonth"); var changeYear = this._get(inst, "changeYear"); var showMonthAfterYear = this._get(inst, "showMonthAfterYear"); var html = '<div class="ui-datepicker-title">'; var monthHtml = ""; if (secondary || !changeMonth) { monthHtml += '<span class="ui-datepicker-month">' + monthNames[drawMonth] + "</span>" } else { var inMinYear = (minDate && minDate.getFullYear() == drawYear); var inMaxYear = (maxDate && maxDate.getFullYear() == drawYear); monthHtml += '<select class="ui-datepicker-month" onchange="DP_jQuery_' + dpuuid + ".datepicker._selectMonthYear('#" + inst.id + "', this, 'M');\" onclick=\"DP_jQuery_" + dpuuid + ".datepicker._clickMonthYear('#" + inst.id + "');\">"; for (var month = 0; month < 12; month++) { if ((!inMinYear || month >= minDate.getMonth()) && (!inMaxYear || month <= maxDate.getMonth())) { monthHtml += '<option value="' + month + '"' + (month == drawMonth ? ' selected="selected"' : "") + ">" + monthNamesShort[month] + "</option>" } } monthHtml += "</select>" } if (!showMonthAfterYear) { html += monthHtml + (secondary || !(changeMonth && changeYear) ? "&#xa0;" : "") } if (secondary || !changeYear) { html += '<span class="ui-datepicker-year">' + drawYear + "</span>" } else { var years = this._get(inst, "yearRange").split(":"); var thisYear = new Date().getFullYear(); var determineYear = function (value) { var year = (value.match(/c[+-].*/) ? drawYear + parseInt(value.substring(1), 10) : (value.match(/[+-].*/) ? thisYear + parseInt(value, 10) : parseInt(value, 10))); return (isNaN(year) ? thisYear : year) }; var year = determineYear(years[0]); var endYear = Math.max(year, determineYear(years[1] || "")); year = (minDate ? Math.max(year, minDate.getFullYear()) : year); endYear = (maxDate ? Math.min(endYear, maxDate.getFullYear()) : endYear); html += '<select class="ui-datepicker-year" onchange="DP_jQuery_' + dpuuid + ".datepicker._selectMonthYear('#" + inst.id + "', this, 'Y');\" onclick=\"DP_jQuery_" + dpuuid + ".datepicker._clickMonthYear('#" + inst.id + "');\">"; for (; year <= endYear; year++) { html += '<option value="' + year + '"' + (year == drawYear ? ' selected="selected"' : "") + ">" + year + "</option>" } html += "</select>" } html += this._get(inst, "yearSuffix"); if (showMonthAfterYear) { html += (secondary || !(changeMonth && changeYear) ? "&#xa0;" : "") + monthHtml } html += "</div>"; return html }, _adjustInstDate: function (inst, offset, period) { var year = inst.drawYear + (period == "Y" ? offset : 0); var month = inst.drawMonth + (period == "M" ? offset : 0); var day = Math.min(inst.selectedDay, this._getDaysInMonth(year, month)) + (period == "D" ? offset : 0); var date = this._restrictMinMax(inst, this._daylightSavingAdjust(new Date(year, month, day))); inst.selectedDay = date.getDate(); inst.drawMonth = inst.selectedMonth = date.getMonth(); inst.drawYear = inst.selectedYear = date.getFullYear(); if (period == "M" || period == "Y") { this._notifyChange(inst) } }, _restrictMinMax: function (inst, date) { var minDate = this._getMinMaxDate(inst, "min"); var maxDate = this._getMinMaxDate(inst, "max"); date = (minDate && date < minDate ? minDate : date); date = (maxDate && date > maxDate ? maxDate : date); return date }, _notifyChange: function (inst) { var onChange = this._get(inst, "onChangeMonthYear"); if (onChange) { onChange.apply((inst.input ? inst.input[0] : null), [inst.selectedYear, inst.selectedMonth + 1, inst]) } }, _getNumberOfMonths: function (inst) { var numMonths = this._get(inst, "numberOfMonths"); return (numMonths == null ? [1, 1] : (typeof numMonths == "number" ? [1, numMonths] : numMonths)) }, _getMinMaxDate: function (inst, minMax) { return this._determineDate(inst, this._get(inst, minMax + "Date"), null) }, _getDaysInMonth: function (year, month) { return 32 - new Date(year, month, 32).getDate() }, _getFirstDayOfMonth: function (year, month) { return new Date(year, month, 1).getDay() }, _canAdjustMonth: function (inst, offset, curYear, curMonth) { var numMonths = this._getNumberOfMonths(inst); var date = this._daylightSavingAdjust(new Date(curYear, curMonth + (offset < 0 ? offset : numMonths[0] * numMonths[1]), 1)); if (offset < 0) { date.setDate(this._getDaysInMonth(date.getFullYear(), date.getMonth())) } return this._isInRange(inst, date) }, _isInRange: function (inst, date) { var minDate = this._getMinMaxDate(inst, "min"); var maxDate = this._getMinMaxDate(inst, "max"); return ((!minDate || date.getTime() >= minDate.getTime()) && (!maxDate || date.getTime() <= maxDate.getTime())) }, _getFormatConfig: function (inst) { var shortYearCutoff = this._get(inst, "shortYearCutoff"); shortYearCutoff = (typeof shortYearCutoff != "string" ? shortYearCutoff : new Date().getFullYear() % 100 + parseInt(shortYearCutoff, 10)); return { shortYearCutoff: shortYearCutoff, dayNamesShort: this._get(inst, "dayNamesShort"), dayNames: this._get(inst, "dayNames"), monthNamesShort: this._get(inst, "monthNamesShort"), monthNames: this._get(inst, "monthNames")} }, _formatDate: function (inst, day, month, year) { if (!day) { inst.currentDay = inst.selectedDay; inst.currentMonth = inst.selectedMonth; inst.currentYear = inst.selectedYear } var date = (day ? (typeof day == "object" ? day : this._daylightSavingAdjust(new Date(year, month, day))) : this._daylightSavingAdjust(new Date(inst.currentYear, inst.currentMonth, inst.currentDay))); return this.formatDate(this._get(inst, "dateFormat"), date, this._getFormatConfig(inst)) } }); function extendRemove(target, props) { $.extend(target, props); for (var name in props) { if (props[name] == null || props[name] == undefined) { target[name] = props[name] } } return target } function isArray(a) { return (a && (($.browser.safari && typeof a == "object" && a.length) || (a.constructor && a.constructor.toString().match(/\Array\(\)/)))) } $.fn.datepicker = function (options) { if (!$.datepicker.initialized) { $(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv); $.datepicker.initialized = true } var otherArgs = Array.prototype.slice.call(arguments, 1); if (typeof options == "string" && (options == "isDisabled" || options == "getDate" || options == "widget")) { return $.datepicker["_" + options + "Datepicker"].apply($.datepicker, [this[0]].concat(otherArgs)) } if (options == "option" && arguments.length == 2 && typeof arguments[1] == "string") { return $.datepicker["_" + options + "Datepicker"].apply($.datepicker, [this[0]].concat(otherArgs)) } return this.each(function () { typeof options == "string" ? $.datepicker["_" + options + "Datepicker"].apply($.datepicker, [this].concat(otherArgs)) : $.datepicker._attachDatepicker(this, options) }) }; $.datepicker = new Datepicker(); $.datepicker.initialized = false; $.datepicker.uuid = new Date().getTime(); $.datepicker.version = "1.8"; window["DP_jQuery_" + dpuuid] = $ })(jQuery); ; /*
 * jQuery UI Progressbar 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Progressbar
 *
 * Depends:
 *   jquery.ui.core.js
 *   jquery.ui.widget.js
 */
(function (a) { a.widget("ui.progressbar", { options: { value: 0 }, _create: function () { this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({ role: "progressbar", "aria-valuemin": this._valueMin(), "aria-valuemax": this._valueMax(), "aria-valuenow": this._value() }); this.valueDiv = a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element); this._refreshValue() }, destroy: function () { this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"); this.valueDiv.remove(); a.Widget.prototype.destroy.apply(this, arguments) }, value: function (b) { if (b === undefined) { return this._value() } this._setOption("value", b); return this }, _setOption: function (b, c) { switch (b) { case "value": this.options.value = c; this._refreshValue(); this._trigger("change"); break } a.Widget.prototype._setOption.apply(this, arguments) }, _value: function () { var b = this.options.value; if (typeof b !== "number") { b = 0 } if (b < this._valueMin()) { b = this._valueMin() } if (b > this._valueMax()) { b = this._valueMax() } return b }, _valueMin: function () { return 0 }, _valueMax: function () { return 100 }, _refreshValue: function () { var b = this.value(); this.valueDiv[b === this._valueMax() ? "addClass" : "removeClass"]("ui-corner-right").width(b + "%"); this.element.attr("aria-valuenow", b) } }); a.extend(a.ui.progressbar, { version: "1.8" }) })(jQuery); ; /*
 * jQuery UI Effects 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/
 */
jQuery.effects || (function (g) { g.effects = {}; g.each(["backgroundColor", "borderBottomColor", "borderLeftColor", "borderRightColor", "borderTopColor", "color", "outlineColor"], function (l, k) { g.fx.step[k] = function (m) { if (!m.colorInit) { m.start = j(m.elem, k); m.end = i(m.end); m.colorInit = true } m.elem.style[k] = "rgb(" + Math.max(Math.min(parseInt((m.pos * (m.end[0] - m.start[0])) + m.start[0], 10), 255), 0) + "," + Math.max(Math.min(parseInt((m.pos * (m.end[1] - m.start[1])) + m.start[1], 10), 255), 0) + "," + Math.max(Math.min(parseInt((m.pos * (m.end[2] - m.start[2])) + m.start[2], 10), 255), 0) + ")" } }); function i(l) { var k; if (l && l.constructor == Array && l.length == 3) { return l } if (k = /rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(l)) { return [parseInt(k[1], 10), parseInt(k[2], 10), parseInt(k[3], 10)] } if (k = /rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(l)) { return [parseFloat(k[1]) * 2.55, parseFloat(k[2]) * 2.55, parseFloat(k[3]) * 2.55] } if (k = /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(l)) { return [parseInt(k[1], 16), parseInt(k[2], 16), parseInt(k[3], 16)] } if (k = /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(l)) { return [parseInt(k[1] + k[1], 16), parseInt(k[2] + k[2], 16), parseInt(k[3] + k[3], 16)] } if (k = /rgba\(0, 0, 0, 0\)/.exec(l)) { return a.transparent } return a[g.trim(l).toLowerCase()] } function j(m, k) { var l; do { l = g.curCSS(m, k); if (l != "" && l != "transparent" || g.nodeName(m, "body")) { break } k = "backgroundColor" } while (m = m.parentNode); return i(l) } var a = { aqua: [0, 255, 255], azure: [240, 255, 255], beige: [245, 245, 220], black: [0, 0, 0], blue: [0, 0, 255], brown: [165, 42, 42], cyan: [0, 255, 255], darkblue: [0, 0, 139], darkcyan: [0, 139, 139], darkgrey: [169, 169, 169], darkgreen: [0, 100, 0], darkkhaki: [189, 183, 107], darkmagenta: [139, 0, 139], darkolivegreen: [85, 107, 47], darkorange: [255, 140, 0], darkorchid: [153, 50, 204], darkred: [139, 0, 0], darksalmon: [233, 150, 122], darkviolet: [148, 0, 211], fuchsia: [255, 0, 255], gold: [255, 215, 0], green: [0, 128, 0], indigo: [75, 0, 130], khaki: [240, 230, 140], lightblue: [173, 216, 230], lightcyan: [224, 255, 255], lightgreen: [144, 238, 144], lightgrey: [211, 211, 211], lightpink: [255, 182, 193], lightyellow: [255, 255, 224], lime: [0, 255, 0], magenta: [255, 0, 255], maroon: [128, 0, 0], navy: [0, 0, 128], olive: [128, 128, 0], orange: [255, 165, 0], pink: [255, 192, 203], purple: [128, 0, 128], violet: [128, 0, 128], red: [255, 0, 0], silver: [192, 192, 192], white: [255, 255, 255], yellow: [255, 255, 0], transparent: [255, 255, 255] }; var e = ["add", "remove", "toggle"], c = { border: 1, borderBottom: 1, borderColor: 1, borderLeft: 1, borderRight: 1, borderTop: 1, borderWidth: 1, margin: 1, padding: 1 }; function f() { var n = document.defaultView ? document.defaultView.getComputedStyle(this, null) : this.currentStyle, o = {}, l, m; if (n && n.length && n[0] && n[n[0]]) { var k = n.length; while (k--) { l = n[k]; if (typeof n[l] == "string") { m = l.replace(/\-(\w)/g, function (p, q) { return q.toUpperCase() }); o[m] = n[l] } } } else { for (l in n) { if (typeof n[l] === "string") { o[l] = n[l] } } } return o } function b(l) { var k, m; for (k in l) { m = l[k]; if (m == null || g.isFunction(m) || k in c || (/scrollbar/).test(k) || (!(/color/i).test(k) && isNaN(parseFloat(m)))) { delete l[k] } } return l } function h(k, m) { var n = { _: 0 }, l; for (l in m) { if (k[l] != m[l]) { n[l] = m[l] } } return n } g.effects.animateClass = function (k, l, n, m) { if (g.isFunction(n)) { m = n; n = null } return this.each(function () { var r = g(this), o = r.attr("style") || " ", s = b(f.call(this)), q, p = r.attr("className"); g.each(e, function (t, u) { if (k[u]) { r[u + "Class"](k[u]) } }); q = b(f.call(this)); r.attr("className", p); r.animate(h(s, q), l, n, function () { g.each(e, function (t, u) { if (k[u]) { r[u + "Class"](k[u]) } }); if (typeof r.attr("style") == "object") { r.attr("style").cssText = ""; r.attr("style").cssText = o } else { r.attr("style", o) } if (m) { m.apply(this, arguments) } }) }) }; g.fn.extend({ _addClass: g.fn.addClass, addClass: function (l, k, n, m) { return k ? g.effects.animateClass.apply(this, [{ add: l }, k, n, m]) : this._addClass(l) }, _removeClass: g.fn.removeClass, removeClass: function (l, k, n, m) { return k ? g.effects.animateClass.apply(this, [{ remove: l }, k, n, m]) : this._removeClass(l) }, _toggleClass: g.fn.toggleClass, toggleClass: function (m, l, k, o, n) { if (typeof l == "boolean" || l === undefined) { if (!k) { return this._toggleClass(m, l) } else { return g.effects.animateClass.apply(this, [(l ? { add: m} : { remove: m }), k, o, n]) } } else { return g.effects.animateClass.apply(this, [{ toggle: m }, l, k, o]) } }, switchClass: function (k, m, l, o, n) { return g.effects.animateClass.apply(this, [{ add: m, remove: k }, l, o, n]) } }); g.extend(g.effects, { version: "1.8", save: function (l, m) { for (var k = 0; k < m.length; k++) { if (m[k] !== null) { l.data("ec.storage." + m[k], l[0].style[m[k]]) } } }, restore: function (l, m) { for (var k = 0; k < m.length; k++) { if (m[k] !== null) { l.css(m[k], l.data("ec.storage." + m[k])) } } }, setMode: function (k, l) { if (l == "toggle") { l = k.is(":hidden") ? "show" : "hide" } return l }, getBaseline: function (l, m) { var n, k; switch (l[0]) { case "top": n = 0; break; case "middle": n = 0.5; break; case "bottom": n = 1; break; default: n = l[0] / m.height } switch (l[1]) { case "left": k = 0; break; case "center": k = 0.5; break; case "right": k = 1; break; default: k = l[1] / m.width } return { x: k, y: n} }, createWrapper: function (k) { if (k.parent().is(".ui-effects-wrapper")) { return k.parent() } var l = { width: k.outerWidth(true), height: k.outerHeight(true), "float": k.css("float") }, m = g("<div></div>").addClass("ui-effects-wrapper").css({ fontSize: "100%", background: "transparent", border: "none", margin: 0, padding: 0 }); k.wrap(m); m = k.parent(); if (k.css("position") == "static") { m.css({ position: "relative" }); k.css({ position: "relative" }) } else { g.extend(l, { position: k.css("position"), zIndex: k.css("z-index") }); g.each(["top", "left", "bottom", "right"], function (n, o) { l[o] = k.css(o); if (isNaN(parseInt(l[o], 10))) { l[o] = "auto" } }); k.css({ position: "relative", top: 0, left: 0 }) } return m.css(l).show() }, removeWrapper: function (k) { if (k.parent().is(".ui-effects-wrapper")) { return k.parent().replaceWith(k) } return k }, setTransition: function (l, n, k, m) { m = m || {}; g.each(n, function (p, o) { unit = l.cssUnit(o); if (unit[0] > 0) { m[o] = unit[0] * k + unit[1] } }); return m } }); function d(l, k, m, n) { if (typeof l == "object") { n = k; m = null; k = l; l = k.effect } if (g.isFunction(k)) { n = k; m = null; k = {} } if (g.isFunction(m)) { n = m; m = null } if (typeof k == "number" || g.fx.speeds[k]) { n = m; m = k; k = {} } k = k || {}; m = m || k.duration; m = g.fx.off ? 0 : typeof m == "number" ? m : g.fx.speeds[m] || g.fx.speeds._default; n = n || k.complete; return [l, k, m, n] } g.fn.extend({ effect: function (n, m, p, q) { var l = d.apply(this, arguments), o = { options: l[1], duration: l[2], callback: l[3] }, k = g.effects[n]; return k && !g.fx.off ? k.call(this, o) : this }, _show: g.fn.show, show: function (l) { if (!l || typeof l == "number" || g.fx.speeds[l]) { return this._show.apply(this, arguments) } else { var k = d.apply(this, arguments); k[1].mode = "show"; return this.effect.apply(this, k) } }, _hide: g.fn.hide, hide: function (l) { if (!l || typeof l == "number" || g.fx.speeds[l]) { return this._hide.apply(this, arguments) } else { var k = d.apply(this, arguments); k[1].mode = "hide"; return this.effect.apply(this, k) } }, __toggle: g.fn.toggle, toggle: function (l) { if (!l || typeof l == "number" || g.fx.speeds[l] || typeof l == "boolean" || g.isFunction(l)) { return this.__toggle.apply(this, arguments) } else { var k = d.apply(this, arguments); k[1].mode = "toggle"; return this.effect.apply(this, k) } }, cssUnit: function (k) { var l = this.css(k), m = []; g.each(["em", "px", "%", "pt"], function (n, o) { if (l.indexOf(o) > 0) { m = [parseFloat(l), o] } }); return m } }); g.easing.jswing = g.easing.swing; g.extend(g.easing, { def: "easeOutQuad", swing: function (l, m, k, o, n) { return g.easing[g.easing.def](l, m, k, o, n) }, easeInQuad: function (l, m, k, o, n) { return o * (m /= n) * m + k }, easeOutQuad: function (l, m, k, o, n) { return -o * (m /= n) * (m - 2) + k }, easeInOutQuad: function (l, m, k, o, n) { if ((m /= n / 2) < 1) { return o / 2 * m * m + k } return -o / 2 * ((--m) * (m - 2) - 1) + k }, easeInCubic: function (l, m, k, o, n) { return o * (m /= n) * m * m + k }, easeOutCubic: function (l, m, k, o, n) { return o * ((m = m / n - 1) * m * m + 1) + k }, easeInOutCubic: function (l, m, k, o, n) { if ((m /= n / 2) < 1) { return o / 2 * m * m * m + k } return o / 2 * ((m -= 2) * m * m + 2) + k }, easeInQuart: function (l, m, k, o, n) { return o * (m /= n) * m * m * m + k }, easeOutQuart: function (l, m, k, o, n) { return -o * ((m = m / n - 1) * m * m * m - 1) + k }, easeInOutQuart: function (l, m, k, o, n) { if ((m /= n / 2) < 1) { return o / 2 * m * m * m * m + k } return -o / 2 * ((m -= 2) * m * m * m - 2) + k }, easeInQuint: function (l, m, k, o, n) { return o * (m /= n) * m * m * m * m + k }, easeOutQuint: function (l, m, k, o, n) { return o * ((m = m / n - 1) * m * m * m * m + 1) + k }, easeInOutQuint: function (l, m, k, o, n) { if ((m /= n / 2) < 1) { return o / 2 * m * m * m * m * m + k } return o / 2 * ((m -= 2) * m * m * m * m + 2) + k }, easeInSine: function (l, m, k, o, n) { return -o * Math.cos(m / n * (Math.PI / 2)) + o + k }, easeOutSine: function (l, m, k, o, n) { return o * Math.sin(m / n * (Math.PI / 2)) + k }, easeInOutSine: function (l, m, k, o, n) { return -o / 2 * (Math.cos(Math.PI * m / n) - 1) + k }, easeInExpo: function (l, m, k, o, n) { return (m == 0) ? k : o * Math.pow(2, 10 * (m / n - 1)) + k }, easeOutExpo: function (l, m, k, o, n) { return (m == n) ? k + o : o * (-Math.pow(2, -10 * m / n) + 1) + k }, easeInOutExpo: function (l, m, k, o, n) { if (m == 0) { return k } if (m == n) { return k + o } if ((m /= n / 2) < 1) { return o / 2 * Math.pow(2, 10 * (m - 1)) + k } return o / 2 * (-Math.pow(2, -10 * --m) + 2) + k }, easeInCirc: function (l, m, k, o, n) { return -o * (Math.sqrt(1 - (m /= n) * m) - 1) + k }, easeOutCirc: function (l, m, k, o, n) { return o * Math.sqrt(1 - (m = m / n - 1) * m) + k }, easeInOutCirc: function (l, m, k, o, n) { if ((m /= n / 2) < 1) { return -o / 2 * (Math.sqrt(1 - m * m) - 1) + k } return o / 2 * (Math.sqrt(1 - (m -= 2) * m) + 1) + k }, easeInElastic: function (l, n, k, u, r) { var o = 1.70158; var q = 0; var m = u; if (n == 0) { return k } if ((n /= r) == 1) { return k + u } if (!q) { q = r * 0.3 } if (m < Math.abs(u)) { m = u; var o = q / 4 } else { var o = q / (2 * Math.PI) * Math.asin(u / m) } return -(m * Math.pow(2, 10 * (n -= 1)) * Math.sin((n * r - o) * (2 * Math.PI) / q)) + k }, easeOutElastic: function (l, n, k, u, r) { var o = 1.70158; var q = 0; var m = u; if (n == 0) { return k } if ((n /= r) == 1) { return k + u } if (!q) { q = r * 0.3 } if (m < Math.abs(u)) { m = u; var o = q / 4 } else { var o = q / (2 * Math.PI) * Math.asin(u / m) } return m * Math.pow(2, -10 * n) * Math.sin((n * r - o) * (2 * Math.PI) / q) + u + k }, easeInOutElastic: function (l, n, k, u, r) { var o = 1.70158; var q = 0; var m = u; if (n == 0) { return k } if ((n /= r / 2) == 2) { return k + u } if (!q) { q = r * (0.3 * 1.5) } if (m < Math.abs(u)) { m = u; var o = q / 4 } else { var o = q / (2 * Math.PI) * Math.asin(u / m) } if (n < 1) { return -0.5 * (m * Math.pow(2, 10 * (n -= 1)) * Math.sin((n * r - o) * (2 * Math.PI) / q)) + k } return m * Math.pow(2, -10 * (n -= 1)) * Math.sin((n * r - o) * (2 * Math.PI) / q) * 0.5 + u + k }, easeInBack: function (l, m, k, p, o, n) { if (n == undefined) { n = 1.70158 } return p * (m /= o) * m * ((n + 1) * m - n) + k }, easeOutBack: function (l, m, k, p, o, n) { if (n == undefined) { n = 1.70158 } return p * ((m = m / o - 1) * m * ((n + 1) * m + n) + 1) + k }, easeInOutBack: function (l, m, k, p, o, n) { if (n == undefined) { n = 1.70158 } if ((m /= o / 2) < 1) { return p / 2 * (m * m * (((n *= (1.525)) + 1) * m - n)) + k } return p / 2 * ((m -= 2) * m * (((n *= (1.525)) + 1) * m + n) + 2) + k }, easeInBounce: function (l, m, k, o, n) { return o - g.easing.easeOutBounce(l, n - m, 0, o, n) + k }, easeOutBounce: function (l, m, k, o, n) { if ((m /= n) < (1 / 2.75)) { return o * (7.5625 * m * m) + k } else { if (m < (2 / 2.75)) { return o * (7.5625 * (m -= (1.5 / 2.75)) * m + 0.75) + k } else { if (m < (2.5 / 2.75)) { return o * (7.5625 * (m -= (2.25 / 2.75)) * m + 0.9375) + k } else { return o * (7.5625 * (m -= (2.625 / 2.75)) * m + 0.984375) + k } } } }, easeInOutBounce: function (l, m, k, o, n) { if (m < n / 2) { return g.easing.easeInBounce(l, m * 2, 0, o, n) * 0.5 + k } return g.easing.easeOutBounce(l, m * 2 - n, 0, o, n) * 0.5 + o * 0.5 + k } }) })(jQuery); ; /*
 * jQuery UI Effects Blind 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/Blind
 *
 * Depends:
 *	jquery.effects.core.js
 */
(function (a) { a.effects.blind = function (b) { return this.queue(function () { var d = a(this), c = ["position", "top", "left"]; var h = a.effects.setMode(d, b.options.mode || "hide"); var g = b.options.direction || "vertical"; a.effects.save(d, c); d.show(); var j = a.effects.createWrapper(d).css({ overflow: "hidden" }); var e = (g == "vertical") ? "height" : "width"; var i = (g == "vertical") ? j.height() : j.width(); if (h == "show") { j.css(e, 0) } var f = {}; f[e] = h == "show" ? i : 0; j.animate(f, b.duration, b.options.easing, function () { if (h == "hide") { d.hide() } a.effects.restore(d, c); a.effects.removeWrapper(d); if (b.callback) { b.callback.apply(d[0], arguments) } d.dequeue() }) }) } })(jQuery); ; /*
 * jQuery UI Effects Bounce 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/Bounce
 *
 * Depends:
 *	jquery.effects.core.js
 */
(function (a) { a.effects.bounce = function (b) { return this.queue(function () { var e = a(this), l = ["position", "top", "left"]; var k = a.effects.setMode(e, b.options.mode || "effect"); var n = b.options.direction || "up"; var c = b.options.distance || 20; var d = b.options.times || 5; var g = b.duration || 250; if (/show|hide/.test(k)) { l.push("opacity") } a.effects.save(e, l); e.show(); a.effects.createWrapper(e); var f = (n == "up" || n == "down") ? "top" : "left"; var p = (n == "up" || n == "left") ? "pos" : "neg"; var c = b.options.distance || (f == "top" ? e.outerHeight({ margin: true }) / 3 : e.outerWidth({ margin: true }) / 3); if (k == "show") { e.css("opacity", 0).css(f, p == "pos" ? -c : c) } if (k == "hide") { c = c / (d * 2) } if (k != "hide") { d-- } if (k == "show") { var h = { opacity: 1 }; h[f] = (p == "pos" ? "+=" : "-=") + c; e.animate(h, g / 2, b.options.easing); c = c / 2; d-- } for (var j = 0; j < d; j++) { var o = {}, m = {}; o[f] = (p == "pos" ? "-=" : "+=") + c; m[f] = (p == "pos" ? "+=" : "-=") + c; e.animate(o, g / 2, b.options.easing).animate(m, g / 2, b.options.easing); c = (k == "hide") ? c * 2 : c / 2 } if (k == "hide") { var h = { opacity: 0 }; h[f] = (p == "pos" ? "-=" : "+=") + c; e.animate(h, g / 2, b.options.easing, function () { e.hide(); a.effects.restore(e, l); a.effects.removeWrapper(e); if (b.callback) { b.callback.apply(this, arguments) } }) } else { var o = {}, m = {}; o[f] = (p == "pos" ? "-=" : "+=") + c; m[f] = (p == "pos" ? "+=" : "-=") + c; e.animate(o, g / 2, b.options.easing).animate(m, g / 2, b.options.easing, function () { a.effects.restore(e, l); a.effects.removeWrapper(e); if (b.callback) { b.callback.apply(this, arguments) } }) } e.queue("fx", function () { e.dequeue() }); e.dequeue() }) } })(jQuery); ; /*
 * jQuery UI Effects Clip 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/Clip
 *
 * Depends:
 *	jquery.effects.core.js
 */
(function (a) { a.effects.clip = function (b) { return this.queue(function () { var f = a(this), j = ["position", "top", "left", "height", "width"]; var i = a.effects.setMode(f, b.options.mode || "hide"); var k = b.options.direction || "vertical"; a.effects.save(f, j); f.show(); var c = a.effects.createWrapper(f).css({ overflow: "hidden" }); var e = f[0].tagName == "IMG" ? c : f; var g = { size: (k == "vertical") ? "height" : "width", position: (k == "vertical") ? "top" : "left" }; var d = (k == "vertical") ? e.height() : e.width(); if (i == "show") { e.css(g.size, 0); e.css(g.position, d / 2) } var h = {}; h[g.size] = i == "show" ? d : 0; h[g.position] = i == "show" ? 0 : d / 2; e.animate(h, { queue: false, duration: b.duration, easing: b.options.easing, complete: function () { if (i == "hide") { f.hide() } a.effects.restore(f, j); a.effects.removeWrapper(f); if (b.callback) { b.callback.apply(f[0], arguments) } f.dequeue() } }) }) } })(jQuery); ; /*
 * jQuery UI Effects Drop 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/Drop
 *
 * Depends:
 *	jquery.effects.core.js
 */
(function (a) { a.effects.drop = function (b) { return this.queue(function () { var e = a(this), d = ["position", "top", "left", "opacity"]; var i = a.effects.setMode(e, b.options.mode || "hide"); var h = b.options.direction || "left"; a.effects.save(e, d); e.show(); a.effects.createWrapper(e); var f = (h == "up" || h == "down") ? "top" : "left"; var c = (h == "up" || h == "left") ? "pos" : "neg"; var j = b.options.distance || (f == "top" ? e.outerHeight({ margin: true }) / 2 : e.outerWidth({ margin: true }) / 2); if (i == "show") { e.css("opacity", 0).css(f, c == "pos" ? -j : j) } var g = { opacity: i == "show" ? 1 : 0 }; g[f] = (i == "show" ? (c == "pos" ? "+=" : "-=") : (c == "pos" ? "-=" : "+=")) + j; e.animate(g, { queue: false, duration: b.duration, easing: b.options.easing, complete: function () { if (i == "hide") { e.hide() } a.effects.restore(e, d); a.effects.removeWrapper(e); if (b.callback) { b.callback.apply(this, arguments) } e.dequeue() } }) }) } })(jQuery); ; /*
 * jQuery UI Effects Explode 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/Explode
 *
 * Depends:
 *	jquery.effects.core.js
 */
(function (a) { a.effects.explode = function (b) { return this.queue(function () { var k = b.options.pieces ? Math.round(Math.sqrt(b.options.pieces)) : 3; var e = b.options.pieces ? Math.round(Math.sqrt(b.options.pieces)) : 3; b.options.mode = b.options.mode == "toggle" ? (a(this).is(":visible") ? "hide" : "show") : b.options.mode; var h = a(this).show().css("visibility", "hidden"); var l = h.offset(); l.top -= parseInt(h.css("marginTop"), 10) || 0; l.left -= parseInt(h.css("marginLeft"), 10) || 0; var g = h.outerWidth(true); var c = h.outerHeight(true); for (var f = 0; f < k; f++) { for (var d = 0; d < e; d++) { h.clone().appendTo("body").wrap("<div></div>").css({ position: "absolute", visibility: "visible", left: -d * (g / e), top: -f * (c / k) }).parent().addClass("ui-effects-explode").css({ position: "absolute", overflow: "hidden", width: g / e, height: c / k, left: l.left + d * (g / e) + (b.options.mode == "show" ? (d - Math.floor(e / 2)) * (g / e) : 0), top: l.top + f * (c / k) + (b.options.mode == "show" ? (f - Math.floor(k / 2)) * (c / k) : 0), opacity: b.options.mode == "show" ? 0 : 1 }).animate({ left: l.left + d * (g / e) + (b.options.mode == "show" ? 0 : (d - Math.floor(e / 2)) * (g / e)), top: l.top + f * (c / k) + (b.options.mode == "show" ? 0 : (f - Math.floor(k / 2)) * (c / k)), opacity: b.options.mode == "show" ? 1 : 0 }, b.duration || 500) } } setTimeout(function () { b.options.mode == "show" ? h.css({ visibility: "visible" }) : h.css({ visibility: "visible" }).hide(); if (b.callback) { b.callback.apply(h[0]) } h.dequeue(); a("div.ui-effects-explode").remove() }, b.duration || 500) }) } })(jQuery); ; /*
 * jQuery UI Effects Fold 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/Fold
 *
 * Depends:
 *	jquery.effects.core.js
 */
(function (a) { a.effects.fold = function (b) { return this.queue(function () { var e = a(this), k = ["position", "top", "left"]; var h = a.effects.setMode(e, b.options.mode || "hide"); var o = b.options.size || 15; var n = !(!b.options.horizFirst); var g = b.duration ? b.duration / 2 : a.fx.speeds._default / 2; a.effects.save(e, k); e.show(); var d = a.effects.createWrapper(e).css({ overflow: "hidden" }); var i = ((h == "show") != n); var f = i ? ["width", "height"] : ["height", "width"]; var c = i ? [d.width(), d.height()] : [d.height(), d.width()]; var j = /([0-9]+)%/.exec(o); if (j) { o = parseInt(j[1], 10) / 100 * c[h == "hide" ? 0 : 1] } if (h == "show") { d.css(n ? { height: 0, width: o} : { height: o, width: 0 }) } var m = {}, l = {}; m[f[0]] = h == "show" ? c[0] : o; l[f[1]] = h == "show" ? c[1] : 0; d.animate(m, g, b.options.easing).animate(l, g, b.options.easing, function () { if (h == "hide") { e.hide() } a.effects.restore(e, k); a.effects.removeWrapper(e); if (b.callback) { b.callback.apply(e[0], arguments) } e.dequeue() }) }) } })(jQuery); ; /*
 * jQuery UI Effects Highlight 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/Highlight
 *
 * Depends:
 *	jquery.effects.core.js
 */
(function (a) { a.effects.highlight = function (b) { return this.queue(function () { var d = a(this), c = ["backgroundImage", "backgroundColor", "opacity"], f = a.effects.setMode(d, b.options.mode || "show"), e = { backgroundColor: d.css("backgroundColor") }; if (f == "hide") { e.opacity = 0 } a.effects.save(d, c); d.show().css({ backgroundImage: "none", backgroundColor: b.options.color || "#ffff99" }).animate(e, { queue: false, duration: b.duration, easing: b.options.easing, complete: function () { (f == "hide" && d.hide()); a.effects.restore(d, c); (f == "show" && !a.support.opacity && this.style.removeAttribute("filter")); (b.callback && b.callback.apply(this, arguments)); d.dequeue() } }) }) } })(jQuery); ; /*
 * jQuery UI Effects Pulsate 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/Pulsate
 *
 * Depends:
 *	jquery.effects.core.js
 */
(function (a) { a.effects.pulsate = function (b) { return this.queue(function () { var d = a(this), e = a.effects.setMode(d, b.options.mode || "show"); times = ((b.options.times || 5) * 2) - 1; duration = b.duration ? b.duration / 2 : a.fx.speeds._default / 2, isVisible = d.is(":visible"), animateTo = 0; if (!isVisible) { d.css("opacity", 0).show(); animateTo = 1 } if ((e == "hide" && isVisible) || (e == "show" && !isVisible)) { times-- } for (var c = 0; c < times; c++) { d.animate({ opacity: animateTo }, duration, b.options.easing); animateTo = (animateTo + 1) % 2 } d.animate({ opacity: animateTo }, duration, b.options.easing, function () { if (animateTo == 0) { d.hide() } (b.callback && b.callback.apply(this, arguments)) }); d.queue("fx", function () { d.dequeue() }).dequeue() }) } })(jQuery); ; /*
 * jQuery UI Effects Scale 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/Scale
 *
 * Depends:
 *	jquery.effects.core.js
 */
(function (a) { a.effects.puff = function (b) { return this.queue(function () { var f = a(this), g = a.effects.setMode(f, b.options.mode || "hide"), e = parseInt(b.options.percent, 10) || 150, d = e / 100, c = { height: f.height(), width: f.width() }; a.extend(b.options, { fade: true, mode: g, percent: g == "hide" ? e : 100, from: g == "hide" ? c : { height: c.height * d, width: c.width * d} }); f.effect("scale", b.options, b.duration, b.callback); f.dequeue() }) }; a.effects.scale = function (b) { return this.queue(function () { var g = a(this); var d = a.extend(true, {}, b.options); var j = a.effects.setMode(g, b.options.mode || "effect"); var h = parseInt(b.options.percent, 10) || (parseInt(b.options.percent, 10) == 0 ? 0 : (j == "hide" ? 0 : 100)); var i = b.options.direction || "both"; var c = b.options.origin; if (j != "effect") { d.origin = c || ["middle", "center"]; d.restore = true } var f = { height: g.height(), width: g.width() }; g.from = b.options.from || (j == "show" ? { height: 0, width: 0} : f); var e = { y: i != "horizontal" ? (h / 100) : 1, x: i != "vertical" ? (h / 100) : 1 }; g.to = { height: f.height * e.y, width: f.width * e.x }; if (b.options.fade) { if (j == "show") { g.from.opacity = 0; g.to.opacity = 1 } if (j == "hide") { g.from.opacity = 1; g.to.opacity = 0 } } d.from = g.from; d.to = g.to; d.mode = j; g.effect("size", d, b.duration, b.callback); g.dequeue() }) }; a.effects.size = function (b) { return this.queue(function () { var c = a(this), n = ["position", "top", "left", "width", "height", "overflow", "opacity"]; var m = ["position", "top", "left", "overflow", "opacity"]; var j = ["width", "height", "overflow"]; var p = ["fontSize"]; var k = ["borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom"]; var f = ["borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight"]; var g = a.effects.setMode(c, b.options.mode || "effect"); var i = b.options.restore || false; var e = b.options.scale || "both"; var o = b.options.origin; var d = { height: c.height(), width: c.width() }; c.from = b.options.from || d; c.to = b.options.to || d; if (o) { var h = a.effects.getBaseline(o, d); c.from.top = (d.height - c.from.height) * h.y; c.from.left = (d.width - c.from.width) * h.x; c.to.top = (d.height - c.to.height) * h.y; c.to.left = (d.width - c.to.width) * h.x } var l = { from: { y: c.from.height / d.height, x: c.from.width / d.width }, to: { y: c.to.height / d.height, x: c.to.width / d.width} }; if (e == "box" || e == "both") { if (l.from.y != l.to.y) { n = n.concat(k); c.from = a.effects.setTransition(c, k, l.from.y, c.from); c.to = a.effects.setTransition(c, k, l.to.y, c.to) } if (l.from.x != l.to.x) { n = n.concat(f); c.from = a.effects.setTransition(c, f, l.from.x, c.from); c.to = a.effects.setTransition(c, f, l.to.x, c.to) } } if (e == "content" || e == "both") { if (l.from.y != l.to.y) { n = n.concat(p); c.from = a.effects.setTransition(c, p, l.from.y, c.from); c.to = a.effects.setTransition(c, p, l.to.y, c.to) } } a.effects.save(c, i ? n : m); c.show(); a.effects.createWrapper(c); c.css("overflow", "hidden").css(c.from); if (e == "content" || e == "both") { k = k.concat(["marginTop", "marginBottom"]).concat(p); f = f.concat(["marginLeft", "marginRight"]); j = n.concat(k).concat(f); c.find("*[width]").each(function () { child = a(this); if (i) { a.effects.save(child, j) } var q = { height: child.height(), width: child.width() }; child.from = { height: q.height * l.from.y, width: q.width * l.from.x }; child.to = { height: q.height * l.to.y, width: q.width * l.to.x }; if (l.from.y != l.to.y) { child.from = a.effects.setTransition(child, k, l.from.y, child.from); child.to = a.effects.setTransition(child, k, l.to.y, child.to) } if (l.from.x != l.to.x) { child.from = a.effects.setTransition(child, f, l.from.x, child.from); child.to = a.effects.setTransition(child, f, l.to.x, child.to) } child.css(child.from); child.animate(child.to, b.duration, b.options.easing, function () { if (i) { a.effects.restore(child, j) } }) }) } c.animate(c.to, { queue: false, duration: b.duration, easing: b.options.easing, complete: function () { if (c.to.opacity === 0) { c.css("opacity", c.from.opacity) } if (g == "hide") { c.hide() } a.effects.restore(c, i ? n : m); a.effects.removeWrapper(c); if (b.callback) { b.callback.apply(this, arguments) } c.dequeue() } }) }) } })(jQuery); ; /*
 * jQuery UI Effects Shake 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/Shake
 *
 * Depends:
 *	jquery.effects.core.js
 */
(function (a) { a.effects.shake = function (b) { return this.queue(function () { var e = a(this), l = ["position", "top", "left"]; var k = a.effects.setMode(e, b.options.mode || "effect"); var n = b.options.direction || "left"; var c = b.options.distance || 20; var d = b.options.times || 3; var g = b.duration || b.options.duration || 140; a.effects.save(e, l); e.show(); a.effects.createWrapper(e); var f = (n == "up" || n == "down") ? "top" : "left"; var p = (n == "up" || n == "left") ? "pos" : "neg"; var h = {}, o = {}, m = {}; h[f] = (p == "pos" ? "-=" : "+=") + c; o[f] = (p == "pos" ? "+=" : "-=") + c * 2; m[f] = (p == "pos" ? "-=" : "+=") + c * 2; e.animate(h, g, b.options.easing); for (var j = 1; j < d; j++) { e.animate(o, g, b.options.easing).animate(m, g, b.options.easing) } e.animate(o, g, b.options.easing).animate(h, g / 2, b.options.easing, function () { a.effects.restore(e, l); a.effects.removeWrapper(e); if (b.callback) { b.callback.apply(this, arguments) } }); e.queue("fx", function () { e.dequeue() }); e.dequeue() }) } })(jQuery); ; /*
 * jQuery UI Effects Slide 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/Slide
 *
 * Depends:
 *	jquery.effects.core.js
 */
(function (a) { a.effects.slide = function (b) { return this.queue(function () { var e = a(this), d = ["position", "top", "left"]; var i = a.effects.setMode(e, b.options.mode || "show"); var h = b.options.direction || "left"; a.effects.save(e, d); e.show(); a.effects.createWrapper(e).css({ overflow: "hidden" }); var f = (h == "up" || h == "down") ? "top" : "left"; var c = (h == "up" || h == "left") ? "pos" : "neg"; var j = b.options.distance || (f == "top" ? e.outerHeight({ margin: true }) : e.outerWidth({ margin: true })); if (i == "show") { e.css(f, c == "pos" ? -j : j) } var g = {}; g[f] = (i == "show" ? (c == "pos" ? "+=" : "-=") : (c == "pos" ? "-=" : "+=")) + j; e.animate(g, { queue: false, duration: b.duration, easing: b.options.easing, complete: function () { if (i == "hide") { e.hide() } a.effects.restore(e, d); a.effects.removeWrapper(e); if (b.callback) { b.callback.apply(this, arguments) } e.dequeue() } }) }) } })(jQuery); ; /*
 * jQuery UI Effects Transfer 1.8
 *
 * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/Transfer
 *
 * Depends:
 *	jquery.effects.core.js
 */
(function (a) { a.effects.transfer = function (b) { return this.queue(function () { var f = a(this), h = a(b.options.to), e = h.offset(), g = { top: e.top, left: e.left, height: h.innerHeight(), width: h.innerWidth() }, d = f.offset(), c = a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(b.options.className).css({ top: d.top, left: d.left, height: f.innerHeight(), width: f.innerWidth(), position: "absolute" }).animate(g, b.duration, b.options.easing, function () { c.remove(); (b.callback && b.callback.apply(f[0], arguments)); f.dequeue() }) }) } })(jQuery); ;
if(!this.JSON){JSON={};}(function(){function f(n){return n<10?"0"+n:n;}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z";};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key);}if(typeof rep==="function"){value=rep.call(holder,key,value);}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null";}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null";}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v;}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v;}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" ";}}else{if(typeof space==="string"){indent=space;}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify");}return str("",{"":value});};}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return reviver.call(holder,key,value);}cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);});}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j;}throw new SyntaxError("JSON.parse");};}}());
(function($){var defaultHandlers=["swfupload_loaded_handler","file_queued_handler","file_queue_error_handler","file_dialog_start_handler","file_dialog_complete_handler","upload_start_handler","upload_progress_handler","upload_error_handler","upload_success_handler","upload_complete_handler","queue_complete_handler"];var additionalHandlers=[];$.fn.swfupload=function(){var args=$.makeArray(arguments);return this.each(function(){var swfu;if(args.length==1&&typeof(args[0])=="object"){swfu=$(this).data("__swfu");if(!swfu){var settings=args[0];var $magicUploadControl=$(this);var handlers=[];$.merge(handlers,defaultHandlers);$.merge(handlers,additionalHandlers);$.each(handlers,function(i,v){var eventName=v.replace(/_handler$/,"").replace(/_([a-z])/g,function(){return arguments[1].toUpperCase();});settings[v]=function(){var event=$.Event(eventName);$magicUploadControl.trigger(event,$.makeArray(arguments));return !event.isDefaultPrevented();};});$(this).data("__swfu",new SWFUpload(settings));}}else{if(args.length>0&&typeof(args[0])=="string"){var methodName=args.shift();swfu=$(this).data("__swfu");if(swfu&&swfu[methodName]){swfu[methodName].apply(swfu,args);}}}});};$.swfupload={additionalHandlers:function(){if(arguments.length===0){return additionalHandlers.slice();}else{$(arguments).each(function(i,v){$.merge(additionalHandlers,$.makeArray(v));});}},defaultHandlers:function(){return defaultHandlers.slice();},getInstance:function(el){return $(el).data("__swfu");}};})(jQuery);
var jaaulde=window.jaaulde||{};jaaulde.utils=jaaulde.utils||{};jaaulde.utils.cookies=(function(){var resolveOptions,assembleOptionsString,parseCookies,constructor,defaultOptions={expiresAt:null,path:"/",domain:null,secure:false};resolveOptions=function(options){var returnValue,expireDate;if(typeof options!=="object"||options===null){returnValue=defaultOptions;}else{returnValue={expiresAt:defaultOptions.expiresAt,path:defaultOptions.path,domain:defaultOptions.domain,secure:defaultOptions.secure};if(typeof options.expiresAt==="object"&&options.expiresAt instanceof Date){returnValue.expiresAt=options.expiresAt;}else{if(typeof options.hoursToLive==="number"&&options.hoursToLive!==0){expireDate=new Date();expireDate.setTime(expireDate.getTime()+(options.hoursToLive*60*60*1000));returnValue.expiresAt=expireDate;}}if(typeof options.path==="string"&&options.path!==""){returnValue.path=options.path;}if(typeof options.domain==="string"&&options.domain!==""){returnValue.domain=options.domain;}if(options.secure===true){returnValue.secure=options.secure;}}return returnValue;};assembleOptionsString=function(options){options=resolveOptions(options);return((typeof options.expiresAt==="object"&&options.expiresAt instanceof Date?"; expires="+options.expiresAt.toGMTString():"")+"; path="+options.path+(typeof options.domain==="string"?"; domain="+options.domain:"")+(options.secure===true?"; secure":""));};parseCookies=function(){var cookies={},i,pair,name,value,separated=document.cookie.split(";"),unparsedValue;for(i=0;i<separated.length;i=i+1){pair=separated[i].split("=");name=pair[0].replace(/^\s*/,"").replace(/\s*$/,"");try{value=decodeURIComponent(pair[1]);}catch(e1){value=pair[1];}if(typeof JSON==="object"&&JSON!==null&&typeof JSON.parse==="function"){try{unparsedValue=value;value=JSON.parse(value);}catch(e2){value=unparsedValue;}}cookies[name]=value;}return cookies;};constructor=function(){};constructor.prototype.get=function(cookieName){var returnValue,item,cookies=parseCookies();if(typeof cookieName==="string"){returnValue=(typeof cookies[cookieName]!=="undefined")?cookies[cookieName]:null;}else{if(typeof cookieName==="object"&&cookieName!==null){returnValue={};for(item in cookieName){if(typeof cookies[cookieName[item]]!=="undefined"){returnValue[cookieName[item]]=cookies[cookieName[item]];}else{returnValue[cookieName[item]]=null;}}}else{returnValue=cookies;}}return returnValue;};constructor.prototype.filter=function(cookieNameRegExp){var cookieName,returnValue={},cookies=parseCookies();if(typeof cookieNameRegExp==="string"){cookieNameRegExp=new RegExp(cookieNameRegExp);}for(cookieName in cookies){if(cookieName.match(cookieNameRegExp)){returnValue[cookieName]=cookies[cookieName];}}return returnValue;};constructor.prototype.set=function(cookieName,value,options){if(typeof options!=="object"||options===null){options={};}if(typeof value==="undefined"||value===null){value="";options.hoursToLive=-8760;}else{if(typeof value!=="string"){if(typeof JSON==="object"&&JSON!==null&&typeof JSON.stringify==="function"){value=JSON.stringify(value);}else{throw new Error("cookies.set() received non-string value and could not serialize.");}}}var optionsString=assembleOptionsString(options);document.cookie=cookieName+"="+encodeURIComponent(value)+optionsString;};constructor.prototype.del=function(cookieName,options){var allCookies={},name;if(typeof options!=="object"||options===null){options={};}if(typeof cookieName==="boolean"&&cookieName===true){allCookies=this.get();}else{if(typeof cookieName==="string"){allCookies[cookieName]=true;}}for(name in allCookies){if(typeof name==="string"&&name!==""){this.set(name,null,options);}}};constructor.prototype.test=function(){var returnValue=false,testName="cT",testValue="data";this.set(testName,testValue);if(this.get(testName)===testValue){this.del(testName);returnValue=true;}return returnValue;};constructor.prototype.setOptions=function(options){if(typeof options!=="object"){options=null;}defaultOptions=resolveOptions(options);};return new constructor();})();(function(){if(window.jQuery){(function($){$.cookies=jaaulde.utils.cookies;var extensions={cookify:function(options){return this.each(function(){var i,nameAttrs=["name","id"],name,$this=$(this),value;for(i in nameAttrs){if(!isNaN(i)){name=$this.attr(nameAttrs[i]);if(typeof name==="string"&&name!==""){if($this.is(":checkbox, :radio")){if($this.attr("checked")){value=$this.val();}}else{if($this.is(":input")){value=$this.val();}else{value=$this.html();}}if(typeof value!=="string"||value===""){value=null;}$.cookies.set(name,value,options);break;}}}});},cookieFill:function(){return this.each(function(){var n,getN,nameAttrs=["name","id"],name,$this=$(this),value;getN=function(){n=nameAttrs.pop();return !!n;};while(getN()){name=$this.attr(n);if(typeof name==="string"&&name!==""){value=$.cookies.get(name);if(value!==null){if($this.is(":checkbox, :radio")){if($this.val()===value){$this.attr("checked","checked");}else{$this.removeAttr("checked");}}else{if($this.is(":input")){$this.val(value);}else{$this.html(value);}}}break;}}});},cookieBind:function(options){return this.each(function(){var $this=$(this);$this.cookieFill().change(function(){$this.cookify(options);});});}};$.each(extensions,function(i){$.fn[i]=this;});})(window.jQuery);}})();
(function($){$.fn.detectPlugin={Flash:function(){return this.TestPlugin("Shockwave","Flash")||this.TestActiveX("ShockwaveFlash.ShockwaveFlash");},QuickTime:function(){return this.TestPlugin("QuickTime");},TestActiveX:function(activeXObject){var object=null;try{object=new ActiveXObject(activeXObject);}catch(ex){return false;}return object!=null;},TestPlugin:function(){var pluginArgs=arguments;var pluginFound=false;if(navigator.plugins&&navigator.plugins.length>0){var pluginsArrayLength=navigator.plugins.length;for(pluginsArrayCounter=0;pluginsArrayCounter<pluginsArrayLength;pluginsArrayCounter++){var numFound=0;for(namesCounter=0;namesCounter<pluginArgs.length;namesCounter++){if((navigator.plugins[pluginsArrayCounter].name.indexOf(pluginArgs[namesCounter])>=0)||(navigator.plugins[pluginsArrayCounter].description.indexOf(pluginArgs[namesCounter])>=0)){numFound++;}}if(numFound==pluginArgs.length){pluginFound=true;break;}}}return pluginFound;}};})(jQuery);
(function(a){jQuery.browser.mobile=/android|avantgo|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(a.substr(0,4));})(navigator.userAgent||navigator.vendor||window.opera);
new function(settings){var $separator=settings.separator||"&";var $spaces=settings.spaces===false?false:true;var $suffix=settings.suffix===false?"":"[]";var $prefix=settings.prefix===false?false:true;var $hash=$prefix?settings.hash===true?"#":"?":"";var $numbers=settings.numbers===false?false:true;jQuery.query=new function(){var is=function(o,t){return o!=undefined&&o!==null&&(!!t?o.constructor==t:true);};var parse=function(path){var m,rx=/\[([^[]*)\]/g,match=/^([^[]+)(\[.*\])?$/.exec(path),base=match[1],tokens=[];while(m=rx.exec(match[2])){tokens.push(m[1]);}return[base,tokens];};var set=function(target,tokens,value){var o,token=tokens.shift();if(typeof target!="object"){target=null;}if(token===""){if(!target){target=[];}if(is(target,Array)){target.push(tokens.length==0?value:set(null,tokens.slice(0),value));}else{if(is(target,Object)){var i=0;while(target[i++]!=null){}target[--i]=tokens.length==0?value:set(target[i],tokens.slice(0),value);}else{target=[];target.push(tokens.length==0?value:set(null,tokens.slice(0),value));}}}else{if(token&&token.match(/^\s*[0-9]+\s*$/)){var index=parseInt(token,10);if(!target){target=[];}target[index]=tokens.length==0?value:set(target[index],tokens.slice(0),value);}else{if(token){var index=token.replace(/^\s*|\s*$/g,"");if(!target){target={};}if(is(target,Array)){var temp={};for(var i=0;i<target.length;++i){temp[i]=target[i];}target=temp;}target[index]=tokens.length==0?value:set(target[index],tokens.slice(0),value);}else{return value;}}}return target;};var queryObject=function(a){var self=this;self.keys={};if(a.queryObject){jQuery.each(a.get(),function(key,val){self.SET(key,val);});}else{jQuery.each(arguments,function(){var q=""+this;q=q.replace(/^[?#]/,"");q=q.replace(/[;&]$/,"");if($spaces){q=q.replace(/[+]/g," ");}jQuery.each(q.split(/[&;]/),function(){var key=decodeURIComponent(this.split("=")[0]||"");var val=decodeURIComponent(this.split("=")[1]||"");if(!key){return;}if($numbers){if(/^[+-]?[0-9]+\.[0-9]*$/.test(val)){val=parseFloat(val);}else{if(/^[+-]?[0-9]+$/.test(val)){val=parseInt(val,10);}}}val=(!val&&val!==0)?true:val;if(val!==false&&val!==true&&typeof val!="number"){val=val;}self.SET(key,val);});});}return self;};queryObject.prototype={queryObject:true,has:function(key,type){var value=this.get(key);return is(value,type);},GET:function(key){if(!is(key)){return this.keys;}var parsed=parse(key),base=parsed[0],tokens=parsed[1];var target=this.keys[base];while(target!=null&&tokens.length!=0){target=target[tokens.shift()];}return typeof target=="number"?target:target||"";},get:function(key){var target=this.GET(key);if(is(target,Object)){return jQuery.extend(true,{},target);}else{if(is(target,Array)){return target.slice(0);}}return target;},SET:function(key,val){var value=!is(val)?null:val;var parsed=parse(key),base=parsed[0],tokens=parsed[1];var target=this.keys[base];this.keys[base]=set(target,tokens.slice(0),value);return this;},set:function(key,val){return this.copy().SET(key,val);},REMOVE:function(key){return this.SET(key,null).COMPACT();},remove:function(key){return this.copy().REMOVE(key);},EMPTY:function(){var self=this;jQuery.each(self.keys,function(key,value){delete self.keys[key];});return self;},load:function(url){var hash=url.replace(/^.*?[#](.+?)(?:\?.+)?$/,"$1");var search=url.replace(/^.*?[?](.+?)(?:#.+)?$/,"$1");return new queryObject(url.length==search.length?"":search,url.length==hash.length?"":hash);},empty:function(){return this.copy().EMPTY();},copy:function(){return new queryObject(this);},COMPACT:function(){function build(orig){var obj=typeof orig=="object"?is(orig,Array)?[]:{}:orig;if(typeof orig=="object"){function add(o,key,value){if(is(o,Array)){o.push(value);}else{o[key]=value;}}jQuery.each(orig,function(key,value){if(!is(value)){return true;}add(obj,key,build(value));});}return obj;}this.keys=build(this.keys);return this;},compact:function(){return this.copy().COMPACT();},toString:function(){var i=0,queryString=[],chunks=[],self=this;var encode=function(str){str=str+"";if($spaces){str=str.replace(/ /g,"+");}return encodeURIComponent(str);};var addFields=function(arr,key,value){if(!is(value)||value===false){return;}var o=[encode(key)];if(value!==true){o.push("=");o.push(encode(value));}arr.push(o.join(""));};var build=function(obj,base){var newKey=function(key){return !base||base==""?[key].join(""):[base,"[",key,"]"].join("");};jQuery.each(obj,function(key,value){if(typeof value=="object"){build(value,newKey(key));}else{addFields(chunks,newKey(key),value);}});};build(this.keys);if(chunks.length>0){queryString.push($hash);}queryString.push(chunks.join($separator));return queryString.join("");}};return new queryObject(location.search,location.hash);};}(jQuery.query||{});
if(typeof jwplayer=="undefined"){var jwplayer=function(a){if(jwplayer.api){return jwplayer.api.selectPlayer(a);}};var $jw=jwplayer;jwplayer.version="5.6.1768";(function(b){b.utils=function(){};b.utils.typeOf=function(d){var c=typeof d;if(c==="object"){if(d){if(d instanceof Array){c="array";}}else{c="null";}}return c;};b.utils.extend=function(){var c=b.utils.extend["arguments"];if(c.length>1){for(var e=1;e<c.length;e++){for(var d in c[e]){c[0][d]=c[e][d];}}return c[0];}return null;};b.utils.clone=function(f){var c;var d=b.utils.clone["arguments"];if(d.length==1){switch(b.utils.typeOf(d[0])){case"object":c={};for(var e in d[0]){c[e]=b.utils.clone(d[0][e]);}break;case"array":c=[];for(var e in d[0]){c[e]=b.utils.clone(d[0][e]);}break;default:return d[0];break;}}return c;};b.utils.extension=function(c){c=c.substring(c.lastIndexOf("/")+1,c.length);c=c.split("?")[0];if(c.lastIndexOf(".")>-1){return c.substr(c.lastIndexOf(".")+1,c.length).toLowerCase();}return;};b.utils.html=function(c,d){c.innerHTML=d;};b.utils.wrap=function(c,d){c.parentNode.replaceChild(d,c);d.appendChild(c);};b.utils.ajax=function(g,f,c){var e;if(window.XMLHttpRequest){e=new XMLHttpRequest();}else{e=new ActiveXObject("Microsoft.XMLHTTP");}e.onreadystatechange=function(){if(e.readyState===4){if(e.status===200){if(f){f(e);}}else{if(c){c(g);}}}};try{e.open("GET",g,true);e.send(null);}catch(d){if(c){c(g);}}return e;};b.utils.load=function(d,e,c){d.onreadystatechange=function(){if(d.readyState===4){if(d.status===200){if(e){e();}}else{if(c){c();}}}};};b.utils.find=function(d,c){return d.getElementsByTagName(c);};b.utils.append=function(c,d){c.appendChild(d);};b.utils.isIE=function(){return((!+"\v1")||(typeof window.ActiveXObject!="undefined"));};b.utils.isLegacyAndroid=function(){var c=navigator.userAgent.toLowerCase();return(c.match(/android 2.[012]/i)!==null);};b.utils.isIOS=function(){var c=navigator.userAgent.toLowerCase();return(c.match(/iP(hone|ad)/i)!==null);};b.utils.getFirstPlaylistItemFromConfig=function(c){var d={};var e;if(c.playlist&&c.playlist.length){e=c.playlist[0];}else{e=c;}d.file=e.file;d.levels=e.levels;d.streamer=e.streamer;d.playlistfile=e.playlistfile;d.provider=e.provider;if(!d.provider){if(d.file&&(d.file.toLowerCase().indexOf("youtube.com")>-1||d.file.toLowerCase().indexOf("youtu.be")>-1)){d.provider="youtube";}if(d.streamer&&d.streamer.toLowerCase().indexOf("rtmp://")==0){d.provider="rtmp";}if(e.type){d.provider=e.type.toLowerCase();}}return d;};b.utils.getOuterHTML=function(d){if(d.outerHTML){return d.outerHTML;}else{var e=d.parentNode;var c=document.createElement(e.tagName);var g=document.createElement(d.tagName);e.replaceChild(g,d);c.appendChild(d);var f=c.innerHTML;e.replaceChild(d,g);return f;}};b.utils.setOuterHTML=function(f,e){if(f.outerHTML){f.outerHTML=e;}else{var g=document.createElement("div");g.innerHTML=e;var c=document.createRange();c.selectNodeContents(g);var d=c.extractContents();f.parentNode.insertBefore(d,f);f.parentNode.removeChild(f);}};b.utils.hasFlash=function(){if(typeof navigator.plugins!="undefined"&&typeof navigator.plugins["Shockwave Flash"]!="undefined"){return true;}if(typeof window.ActiveXObject!="undefined"){try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash");return true;}catch(c){}}return false;};b.utils.getPluginName=function(c){if(c.lastIndexOf("/")>=0){c=c.substring(c.lastIndexOf("/")+1,c.length);}if(c.lastIndexOf("-")>=0){c=c.substring(0,c.lastIndexOf("-"));}if(c.lastIndexOf(".swf")>=0){c=c.substring(0,c.lastIndexOf(".swf"));}if(c.lastIndexOf(".js")>=0){c=c.substring(0,c.lastIndexOf(".js"));}return c;};b.utils.getPluginVersion=function(c){if(c.lastIndexOf("-")>=0){if(c.lastIndexOf(".js")>=0){return c.substring(c.lastIndexOf("-")+1,c.lastIndexOf(".js"));}else{if(c.lastIndexOf(".swf")>=0){return c.substring(c.lastIndexOf("-")+1,c.lastIndexOf(".swf"));}else{return c.substring(c.lastIndexOf("-")+1);}}}return"";};b.utils.getAbsolutePath=function(j,h){if(h===undefined){h=document.location.href;}if(j===undefined){return undefined;}if(a(j)){return j;}var k=h.substring(0,h.indexOf("://")+3);var g=h.substring(k.length,h.indexOf("/",k.length+1));var d;if(j.indexOf("/")===0){d=j.split("/");}else{var e=h.split("?")[0];e=e.substring(k.length+g.length+1,e.lastIndexOf("/"));d=e.split("/").concat(j.split("/"));}var c=[];for(var f=0;f<d.length;f++){if(!d[f]||d[f]===undefined||d[f]=="."){continue;}else{if(d[f]==".."){c.pop();}else{c.push(d[f]);}}}return k+g+"/"+c.join("/");};function a(d){if(d===null){return;}var e=d.indexOf("://");var c=d.indexOf("?");return(e>0&&(c<0||(c>e)));}b.utils.pluginPathType={ABSOLUTE:"ABSOLUTE",RELATIVE:"RELATIVE",CDN:"CDN"};b.utils.getPluginPathType=function(d){if(typeof d!="string"){return;}d=d.split("?")[0];var e=d.indexOf("://");if(e>0){return b.utils.pluginPathType.ABSOLUTE;}var c=d.indexOf("/");var f=b.utils.extension(d);if(e<0&&c<0&&(!f||!isNaN(f))){return b.utils.pluginPathType.CDN;}return b.utils.pluginPathType.RELATIVE;};b.utils.mapEmpty=function(c){for(var d in c){return false;}return true;};b.utils.mapLength=function(d){var c=0;for(var e in d){c++;}return c;};b.utils.log=function(d,c){if(typeof console!="undefined"&&typeof console.log!="undefined"){if(c){console.log(d,c);}else{console.log(d);}}};b.utils.css=function(d,g,c){if(d!==undefined){for(var e in g){try{if(typeof g[e]==="undefined"){continue;}else{if(typeof g[e]=="number"&&!(e=="zIndex"||e=="opacity")){if(isNaN(g[e])){continue;}if(e.match(/color/i)){g[e]="#"+b.utils.strings.pad(g[e].toString(16),6);}else{g[e]=Math.ceil(g[e])+"px";}}}d.style[e]=g[e];}catch(f){}}}};b.utils.isYouTube=function(c){return(c.indexOf("youtube.com")>-1||c.indexOf("youtu.be")>-1);};b.utils.transform=function(c,d){c.style.webkitTransform=d;c.style.MozTransform=d;c.style.OTransform=d;};b.utils.stretch=function(h,m,l,f,k,g){if(typeof l=="undefined"||typeof f=="undefined"||typeof k=="undefined"||typeof g=="undefined"){return;}var d=l/k;var e=f/g;var j=0;var i=0;m.style.overflow="hidden";b.utils.transform(m,"");var c={};switch(h.toUpperCase()){case b.utils.stretching.NONE:c.width=k;c.height=g;break;case b.utils.stretching.UNIFORM:if(d>e){c.width=k*e;c.height=g*e;}else{c.width=k*d;c.height=g*d;}break;case b.utils.stretching.FILL:if(d>e){c.width=k*d;c.height=g*d;}else{c.width=k*e;c.height=g*e;}break;case b.utils.stretching.EXACTFIT:b.utils.transform(m,["scale(",d,",",e,")"," translate(0px,0px)"].join(""));c.width=k;c.height=g;break;default:break;}c.top=(f-c.height)/2;c.left=(l-c.width)/2;b.utils.css(m,c);};b.utils.stretching={NONE:"NONE",FILL:"FILL",UNIFORM:"UNIFORM",EXACTFIT:"EXACTFIT"};b.utils.deepReplaceKeyName=function(h,e,c){switch(b.utils.typeOf(h)){case"array":for(var g=0;g<h.length;g++){h[g]=b.utils.deepReplaceKeyName(h[g],e,c);}break;case"object":for(var f in h){var d=f.replace(new RegExp(e,"g"),c);h[d]=b.utils.deepReplaceKeyName(h[f],e,c);if(f!=d){delete h[f];}}break;}return h;};b.utils.isInArray=function(e,d){if(!(e)||!(e instanceof Array)){return false;}for(var c=0;c<e.length;c++){if(d===e[c]){return true;}}return false;};})(jwplayer);(function(a){a.events=function(){};a.events.COMPLETE="COMPLETE";a.events.ERROR="ERROR";})(jwplayer);(function(jwplayer){jwplayer.events.eventdispatcher=function(debug){var _debug=debug;var _listeners;var _globallisteners;this.resetEventListeners=function(){_listeners={};_globallisteners=[];};this.resetEventListeners();this.addEventListener=function(type,listener,count){try{if(_listeners[type]===undefined){_listeners[type]=[];}if(typeof(listener)=="string"){eval("listener = "+listener);}_listeners[type].push({listener:listener,count:count});}catch(err){jwplayer.utils.log("error",err);}return false;};this.removeEventListener=function(type,listener){try{for(var listenerIndex=0;listenerIndex<_listeners[type].length;listenerIndex++){if(_listeners[type][lisenterIndex].toString()==listener.toString()){_listeners[type].slice(lisenterIndex,lisenterIndex+1);break;}}}catch(err){jwplayer.utils.log("error",err);}return false;};this.addGlobalListener=function(listener,count){try{if(typeof(listener)=="string"){eval("listener = "+listener);}_globallisteners.push({listener:listener,count:count});}catch(err){jwplayer.utils.log("error",err);}return false;};this.removeGlobalListener=function(listener){try{for(var globalListenerIndex=0;globalListenerIndex<_globallisteners.length;globalListenerIndex++){if(_globallisteners[globalListenerIndex].toString()==listener.toString()){_globallisteners.slice(globalListenerIndex,globalListenerIndex+1);break;}}}catch(err){jwplayer.utils.log("error",err);}return false;};this.sendEvent=function(type,data){if(data===undefined){data={};}if(_debug){jwplayer.utils.log(type,data);}if(typeof _listeners[type]!="undefined"){for(var listenerIndex=0;listenerIndex<_listeners[type].length;listenerIndex++){try{_listeners[type][listenerIndex].listener(data);}catch(err){jwplayer.utils.log("There was an error while handling a listener: "+err.toString(),_listeners[type][listenerIndex].listener);}if(_listeners[type][listenerIndex]){if(_listeners[type][listenerIndex].count===1){delete _listeners[type][listenerIndex];}else{if(_listeners[type][listenerIndex].count>0){_listeners[type][listenerIndex].count=_listeners[type][listenerIndex].count-1;}}}}}for(var globalListenerIndex=0;globalListenerIndex<_globallisteners.length;globalListenerIndex++){try{_globallisteners[globalListenerIndex].listener(data);}catch(err){jwplayer.utils.log("There was an error while handling a listener: "+err.toString(),_globallisteners[globalListenerIndex].listener);}if(_globallisteners[globalListenerIndex]){if(_globallisteners[globalListenerIndex].count===1){delete _globallisteners[globalListenerIndex];}else{if(_globallisteners[globalListenerIndex].count>0){_globallisteners[globalListenerIndex].count=_globallisteners[globalListenerIndex].count-1;}}}}};};})(jwplayer);(function(a){var b={};a.utils.animations=function(){};a.utils.animations.transform=function(c,d){c.style.webkitTransform=d;c.style.MozTransform=d;c.style.OTransform=d;c.style.msTransform=d;};a.utils.animations.transformOrigin=function(c,d){c.style.webkitTransformOrigin=d;c.style.MozTransformOrigin=d;c.style.OTransformOrigin=d;c.style.msTransformOrigin=d;};a.utils.animations.rotate=function(c,d){a.utils.animations.transform(c,["rotate(",d,"deg)"].join(""));};a.utils.cancelAnimation=function(c){delete b[c.id];};a.utils.fadeTo=function(l,f,e,i,h,d){if(b[l.id]!=d&&d!==undefined){return;}var c=new Date().getTime();if(d>c){setTimeout(function(){a.utils.fadeTo(l,f,e,i,0,d);},d-c);}l.style.display="block";if(i===undefined){i=l.style.opacity===""?1:l.style.opacity;}if(l.style.opacity==f&&l.style.opacity!==""&&d!==undefined){if(f===0){l.style.display="none";}return;}if(d===undefined){d=c;b[l.id]=d;}if(h===undefined){h=0;}var j=(c-d)/(e*1000);j=j>1?1:j;var k=f-i;var g=i+(j*k);if(g>1){g=1;}else{if(g<0){g=0;}}l.style.opacity=g;if(h>0){b[l.id]=d+h*1000;a.utils.fadeTo(l,f,e,i,0,b[l.id]);return;}setTimeout(function(){a.utils.fadeTo(l,f,e,i,0,d);},10);};})(jwplayer);(function(a){a.utils.arrays=function(){};a.utils.arrays.indexOf=function(c,d){for(var b=0;b<c.length;b++){if(c[b]==d){return b;}}return -1;};a.utils.arrays.remove=function(c,d){var b=a.utils.arrays.indexOf(c,d);if(b>-1){c.splice(b,1);}};})(jwplayer);(function(a){a.utils.extensionmap={"3gp":{html5:"video/3gpp",flash:"video"},"3gpp":{html5:"video/3gpp"},"3g2":{html5:"video/3gpp2",flash:"video"},"3gpp2":{html5:"video/3gpp2"},flv:{flash:"video"},f4a:{html5:"audio/mp4"},f4b:{html5:"audio/mp4",flash:"video"},f4v:{html5:"video/mp4",flash:"video"},mov:{html5:"video/quicktime",flash:"video"},m4a:{html5:"audio/mp4",flash:"video"},m4b:{html5:"audio/mp4"},m4p:{html5:"audio/mp4"},m4v:{html5:"video/mp4",flash:"video"},mp4:{html5:"video/mp4",flash:"video"},rbs:{flash:"sound"},aac:{html5:"audio/aac",flash:"video"},mp3:{html5:"audio/mp3",flash:"sound"},ogg:{html5:"audio/ogg"},ogv:{html5:"video/ogg"},webm:{html5:"video/webm"},m3u8:{html5:"audio/x-mpegurl"},gif:{flash:"image"},jpeg:{flash:"image"},jpg:{flash:"image"},swf:{flash:"image"},png:{flash:"image"},wav:{html5:"audio/x-wav"}};})(jwplayer);(function(e){e.utils.mediaparser=function(){};var g={element:{width:"width",height:"height",id:"id","class":"className",name:"name"},media:{src:"file",preload:"preload",autoplay:"autostart",loop:"repeat",controls:"controls"},source:{src:"file",type:"type",media:"media","data-jw-width":"width","data-jw-bitrate":"bitrate"},video:{poster:"image"}};var f={};e.utils.mediaparser.parseMedia=function(i){return d(i);};function c(j,i){if(i===undefined){i=g[j];}else{e.utils.extend(i,g[j]);}return i;}function d(m,i){if(f[m.tagName.toLowerCase()]&&(i===undefined)){return f[m.tagName.toLowerCase()](m);}else{i=c("element",i);var n={};for(var j in i){if(j!="length"){var l=m.getAttribute(j);if(!(l===""||l===undefined||l===null)){n[i[j]]=m.getAttribute(j);}}}var k=m.style["#background-color"];if(k&&!(k=="transparent"||k=="rgba(0, 0, 0, 0)")){n.screencolor=k;}return n;}}function h(n,k){k=c("media",k);var l=[];var j=e.utils.selectors("source",n);for(var m in j){if(!isNaN(m)){l.push(a(j[m]));}}var o=d(n,k);if(o.file!==undefined){l[0]={file:o.file};}o.levels=l;return o;}function a(k,j){j=c("source",j);var i=d(k,j);i.width=i.width?i.width:0;i.bitrate=i.bitrate?i.bitrate:0;return i;}function b(k,j){j=c("video",j);var i=h(k,j);return i;}f.media=h;f.audio=h;f.source=a;f.video=b;})(jwplayer);(function(a){a.utils.loaderstatus={NEW:"NEW",LOADING:"LOADING",ERROR:"ERROR",COMPLETE:"COMPLETE"};a.utils.scriptloader=function(c){var d=a.utils.loaderstatus.NEW;var b=new a.events.eventdispatcher();a.utils.extend(this,b);this.load=function(){if(d==a.utils.loaderstatus.NEW){d=a.utils.loaderstatus.LOADING;var e=document.createElement("script");e.onload=function(f){d=a.utils.loaderstatus.COMPLETE;b.sendEvent(a.events.COMPLETE);};e.onerror=function(f){d=a.utils.loaderstatus.ERROR;b.sendEvent(a.events.ERROR);};e.onreadystatechange=function(){if(e.readyState=="loaded"||e.readyState=="complete"){d=a.utils.loaderstatus.COMPLETE;b.sendEvent(a.events.COMPLETE);}};document.getElementsByTagName("head")[0].appendChild(e);e.src=c;}};this.getStatus=function(){return d;};};})(jwplayer);(function(a){a.utils.selectors=function(b,d){if(d===undefined){d=document;}b=a.utils.strings.trim(b);var c=b.charAt(0);if(c=="#"){return d.getElementById(b.substr(1));}else{if(c=="."){if(d.getElementsByClassName){return d.getElementsByClassName(b.substr(1));}else{return a.utils.selectors.getElementsByTagAndClass("*",b.substr(1));}}else{if(b.indexOf(".")>0){selectors=b.split(".");return a.utils.selectors.getElementsByTagAndClass(selectors[0],selectors[1]);}else{return d.getElementsByTagName(b);}}}return null;};a.utils.selectors.getElementsByTagAndClass=function(e,h,g){elements=[];if(g===undefined){g=document;}var f=g.getElementsByTagName(e);for(var d=0;d<f.length;d++){if(f[d].className!==undefined){var c=f[d].className.split(" ");for(var b=0;b<c.length;b++){if(c[b]==h){elements.push(f[d]);}}}}return elements;};})(jwplayer);(function(a){a.utils.strings=function(){};a.utils.strings.trim=function(b){return b.replace(/^\s*/,"").replace(/\s*$/,"");};a.utils.strings.pad=function(c,d,b){if(!b){b="0";}while(c.length<d){c=b+c;}return c;};a.utils.strings.serialize=function(b){if(b==null){return null;}else{if(b=="true"){return true;}else{if(b=="false"){return false;}else{if(isNaN(Number(b))||b.length>5||b.length==0){return b;}else{return Number(b);}}}}};a.utils.strings.seconds=function(d){d=d.replace(",",".");var b=d.split(":");var c=0;if(d.substr(-1)=="s"){c=Number(d.substr(0,d.length-1));}else{if(d.substr(-1)=="m"){c=Number(d.substr(0,d.length-1))*60;}else{if(d.substr(-1)=="h"){c=Number(d.substr(0,d.length-1))*3600;}else{if(b.length>1){c=Number(b[b.length-1]);c+=Number(b[b.length-2])*60;if(b.length==3){c+=Number(b[b.length-3])*3600;}}else{c=Number(d);}}}}return c;};a.utils.strings.xmlAttribute=function(b,c){for(var d in b.attributes){if(b.attributes[d].name&&b.attributes[d].name.toLowerCase()==c.toLowerCase()){return b.attributes[d].value.toString();}}return"";};a.utils.strings.jsonToString=function(f){var h=h||{};if(h&&h.stringify){return h.stringify(f);}var c=typeof(f);if(c!="object"||f===null){if(c=="string"){f='"'+f+'"';}else{return String(f);}}else{var g=[],b=(f&&f.constructor==Array);for(var d in f){var e=f[d];switch(typeof(e)){case"string":e='"'+e+'"';break;case"object":if(e!==null){e=a.utils.strings.jsonToString(e);}break;}if(b){if(typeof(e)!="function"){g.push(String(e));}}else{if(typeof(e)!="function"){g.push('"'+d+'":'+String(e));}}}if(b){return"["+String(g)+"]";}else{return"{"+String(g)+"}";}}};})(jwplayer);(function(c){var d=new RegExp(/^(#|0x)[0-9a-fA-F]{3,6}/);c.utils.typechecker=function(g,f){f=f===null?b(g):f;return e(g,f);};function b(f){var g=["true","false","t","f"];if(g.toString().indexOf(f.toLowerCase().replace(" ",""))>=0){return"boolean";}else{if(d.test(f)){return"color";}else{if(!isNaN(parseInt(f,10))&&parseInt(f,10).toString().length==f.length){return"integer";}else{if(!isNaN(parseFloat(f))&&parseFloat(f).toString().length==f.length){return"float";}}}}return"string";}function e(g,f){if(f===null){return g;}switch(f){case"color":if(g.length>0){return a(g);}return null;case"integer":return parseInt(g,10);case"float":return parseFloat(g);case"boolean":if(g.toLowerCase()=="true"){return true;}else{if(g=="1"){return true;}}return false;}return g;}function a(f){switch(f.toLowerCase()){case"blue":return parseInt("0000FF",16);case"green":return parseInt("00FF00",16);case"red":return parseInt("FF0000",16);case"cyan":return parseInt("00FFFF",16);case"magenta":return parseInt("FF00FF",16);case"yellow":return parseInt("FFFF00",16);case"black":return parseInt("000000",16);case"white":return parseInt("FFFFFF",16);default:f=f.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2");if(f.length==3){f=f.charAt(0)+f.charAt(0)+f.charAt(1)+f.charAt(1)+f.charAt(2)+f.charAt(2);}return parseInt(f,16);}return parseInt("000000",16);}})(jwplayer);(function(a){var c={};var b={};a.plugins=function(){};a.plugins.loadPlugins=function(e,d){b[e]=new a.plugins.pluginloader(new a.plugins.model(c),d);return b[e];};a.plugins.registerPlugin=function(h,f,e){var d=a.utils.getPluginName(h);if(c[d]){c[d].registerPlugin(h,f,e);}else{a.utils.log("A plugin ("+h+") was registered with the player that was not loaded. Please check your configuration.");for(var g in b){b[g].pluginFailed();}}};})(jwplayer);(function(a){a.plugins.model=function(b){this.addPlugin=function(c){var d=a.utils.getPluginName(c);if(!b[d]){b[d]=new a.plugins.plugin(c);}return b[d];};};})(jwplayer);(function(a){a.plugins.pluginmodes={FLASH:"FLASH",JAVASCRIPT:"JAVASCRIPT",HYBRID:"HYBRID"};a.plugins.plugin=function(b){var d="http://plugins.longtailvideo.com";var i=a.utils.loaderstatus.NEW;var j;var h;var k;var c=new a.events.eventdispatcher();a.utils.extend(this,c);function e(){switch(a.utils.getPluginPathType(b)){case a.utils.pluginPathType.ABSOLUTE:return b;case a.utils.pluginPathType.RELATIVE:return a.utils.getAbsolutePath(b,window.location.href);case a.utils.pluginPathType.CDN:var m=a.utils.getPluginName(b);var l=a.utils.getPluginVersion(b);return d+"/"+a.version.split(".")[0]+"/"+m+"/"+m+(l!==""?("-"+l):"")+".js";}}function g(l){k=setTimeout(function(){i=a.utils.loaderstatus.COMPLETE;c.sendEvent(a.events.COMPLETE);},1000);}function f(l){i=a.utils.loaderstatus.ERROR;c.sendEvent(a.events.ERROR);}this.load=function(){if(i==a.utils.loaderstatus.NEW){if(b.lastIndexOf(".swf")>0){j=b;i=a.utils.loaderstatus.COMPLETE;c.sendEvent(a.events.COMPLETE);return;}i=a.utils.loaderstatus.LOADING;var l=new a.utils.scriptloader(e());l.addEventListener(a.events.COMPLETE,g);l.addEventListener(a.events.ERROR,f);l.load();}};this.registerPlugin=function(n,m,l){if(k){clearTimeout(k);k=undefined;}if(m&&l){j=l;h=m;}else{if(typeof m=="string"){j=m;}else{if(typeof m=="function"){h=m;}else{if(!m&&!l){j=n;}}}}i=a.utils.loaderstatus.COMPLETE;c.sendEvent(a.events.COMPLETE);};this.getStatus=function(){return i;};this.getPluginName=function(){return a.utils.getPluginName(b);};this.getFlashPath=function(){if(j){switch(a.utils.getPluginPathType(j)){case a.utils.pluginPathType.ABSOLUTE:return j;case a.utils.pluginPathType.RELATIVE:if(b.lastIndexOf(".swf")>0){return a.utils.getAbsolutePath(j,window.location.href);}return a.utils.getAbsolutePath(j,e());case a.utils.pluginPathType.CDN:if(j.indexOf("-")>-1){return j+"h";}return j+"-h";}}return null;};this.getJS=function(){return h;};this.getPluginmode=function(){if(typeof j!="undefined"&&typeof h!="undefined"){return a.plugins.pluginmodes.HYBRID;}else{if(typeof j!="undefined"){return a.plugins.pluginmodes.FLASH;}else{if(typeof h!="undefined"){return a.plugins.pluginmodes.JAVASCRIPT;}}}};this.getNewInstance=function(m,l,n){return new h(m,l,n);};this.getURL=function(){return b;};};})(jwplayer);(function(a){a.plugins.pluginloader=function(h,e){var g={};var j=a.utils.loaderstatus.NEW;var d=false;var b=false;var c=new a.events.eventdispatcher();a.utils.extend(this,c);function f(){if(!b){b=true;j=a.utils.loaderstatus.COMPLETE;c.sendEvent(a.events.COMPLETE);}}function i(){if(!b){var l=0;for(plugin in g){var k=g[plugin].getStatus();if(k==a.utils.loaderstatus.LOADING||k==a.utils.loaderstatus.NEW){l++;}}if(l==0){f();}}}this.setupPlugins=function(m,k,r){var l={length:0,plugins:{}};var o={length:0,plugins:{}};for(var n in g){var p=g[n].getPluginName();if(g[n].getFlashPath()){l.plugins[g[n].getFlashPath()]=k.plugins[n];l.plugins[g[n].getFlashPath()].pluginmode=g[n].getPluginmode();l.length++;}if(g[n].getJS()){var q=document.createElement("div");q.id=m.id+"_"+p;q.style.position="absolute";q.style.zIndex=o.length+10;o.plugins[p]=g[n].getNewInstance(m,k.plugins[n],q);o.length++;if(typeof o.plugins[p].resize!="undefined"){m.onReady(r(o.plugins[p],q,true));m.onResize(r(o.plugins[p],q));}}}m.plugins=o.plugins;return l;};this.load=function(){j=a.utils.loaderstatus.LOADING;d=true;for(var k in e){g[k]=h.addPlugin(k);g[k].addEventListener(a.events.COMPLETE,i);g[k].addEventListener(a.events.ERROR,i);}for(k in e){g[k].load();}d=false;i();};this.pluginFailed=function(){f();};this.getStatus=function(){return j;};};})(jwplayer);(function(b){var a=[];b.api=function(d){this.container=d;this.id=d.id;var l={};var p={};var c=[];var h=undefined;var k=false;var i=[];var n=b.utils.getOuterHTML(d);var o={};var j={};this.getBuffer=function(){return this.callInternal("jwGetBuffer");};this.getContainer=function(){return this.container;};function e(q){return function(v,r,s,t){var u;if(r){j[v]=r;u="jwplayer('"+q+"').callback('"+v+"')";}else{if(!r&&j[v]){delete j[v];}}h.jwDockSetButton(v,u,s,t);};}this.getPlugin=function(r){var q=this.callInternal;if(r=="dock"){return{setButton:e(this.id),show:function(){return q("jwShowDock");},hide:function(){return q("jwHideDock");}};}else{if(r=="controlbar"){return{show:function(){return q("jwShowControlbar");},hide:function(){return q("jwHideControlbar");}};}else{if(r=="display"){return{show:function(){return q("jwShowDisplay");},hide:function(){return q("jwHideDisplay");}};}}}return this.plugins[r];};this.callback=function(q){if(j[q]){return j[q]();}};this.getDuration=function(){return this.callInternal("jwGetDuration");};this.getFullscreen=function(){return this.callInternal("jwGetFullscreen");};this.getHeight=function(){return this.callInternal("jwGetHeight");};this.getLockState=function(){return this.callInternal("jwGetLockState");};this.getMeta=function(){return this.getItemMeta();};this.getMute=function(){return this.callInternal("jwGetMute");};this.getPlaylist=function(){var r=this.callInternal("jwGetPlaylist");if(this.renderingMode=="flash"){b.utils.deepReplaceKeyName(r,"__dot__",".");}for(var q=0;q<r.length;q++){if(r[q].index===undefined){r[q].index=q;}}return r;};this.getPlaylistItem=function(q){if(q===undefined){q=this.getCurrentItem();}return this.getPlaylist()[q];};this.getPosition=function(){return this.callInternal("jwGetPosition");};this.getRenderingMode=function(){return this.renderingMode;};this.getState=function(){return this.callInternal("jwGetState");};this.getVolume=function(){return this.callInternal("jwGetVolume");};this.getWidth=function(){return this.callInternal("jwGetWidth");};this.setFullscreen=function(q){if(q===undefined){this.callInternal("jwSetFullscreen",!this.callInternal("jwGetFullscreen"));}else{this.callInternal("jwSetFullscreen",q);}return this;};this.setMute=function(q){if(q===undefined){this.callInternal("jwSetMute",!this.callInternal("jwGetMute"));}else{this.callInternal("jwSetMute",q);}return this;};this.lock=function(){return this;};this.unlock=function(){return this;};this.load=function(q){this.callInternal("jwLoad",q);return this;};this.playlistItem=function(q){this.callInternal("jwPlaylistItem",q);return this;};this.playlistPrev=function(){this.callInternal("jwPlaylistPrev");return this;};this.playlistNext=function(){this.callInternal("jwPlaylistNext");return this;};this.resize=function(r,q){if(this.renderingMode=="html5"){h.jwResize(r,q);}else{this.container.width=r;this.container.height=q;}return this;};this.play=function(q){if(typeof q=="undefined"){q=this.getState();if(q==b.api.events.state.PLAYING||q==b.api.events.state.BUFFERING){this.callInternal("jwPause");}else{this.callInternal("jwPlay");}}else{this.callInternal("jwPlay",q);}return this;};this.pause=function(q){if(typeof q=="undefined"){q=this.getState();if(q==b.api.events.state.PLAYING||q==b.api.events.state.BUFFERING){this.callInternal("jwPause");}else{this.callInternal("jwPlay");}}else{this.callInternal("jwPause",q);}return this;};this.stop=function(){this.callInternal("jwStop");return this;};this.seek=function(q){this.callInternal("jwSeek",q);return this;};this.setVolume=function(q){this.callInternal("jwSetVolume",q);return this;};this.onBufferChange=function(q){return this.eventListener(b.api.events.JWPLAYER_MEDIA_BUFFER,q);};this.onBufferFull=function(q){return this.eventListener(b.api.events.JWPLAYER_MEDIA_BUFFER_FULL,q);};this.onError=function(q){return this.eventListener(b.api.events.JWPLAYER_ERROR,q);};this.onFullscreen=function(q){return this.eventListener(b.api.events.JWPLAYER_FULLSCREEN,q);};this.onMeta=function(q){return this.eventListener(b.api.events.JWPLAYER_MEDIA_META,q);};this.onMute=function(q){return this.eventListener(b.api.events.JWPLAYER_MEDIA_MUTE,q);};this.onPlaylist=function(q){return this.eventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED,q);};this.onPlaylistItem=function(q){return this.eventListener(b.api.events.JWPLAYER_PLAYLIST_ITEM,q);};this.onReady=function(q){return this.eventListener(b.api.events.API_READY,q);};this.onResize=function(q){return this.eventListener(b.api.events.JWPLAYER_RESIZE,q);};this.onComplete=function(q){return this.eventListener(b.api.events.JWPLAYER_MEDIA_COMPLETE,q);};this.onSeek=function(q){return this.eventListener(b.api.events.JWPLAYER_MEDIA_SEEK,q);};this.onTime=function(q){return this.eventListener(b.api.events.JWPLAYER_MEDIA_TIME,q);};this.onVolume=function(q){return this.eventListener(b.api.events.JWPLAYER_MEDIA_VOLUME,q);};this.onBuffer=function(q){return this.stateListener(b.api.events.state.BUFFERING,q);};this.onPause=function(q){return this.stateListener(b.api.events.state.PAUSED,q);};this.onPlay=function(q){return this.stateListener(b.api.events.state.PLAYING,q);};this.onIdle=function(q){return this.stateListener(b.api.events.state.IDLE,q);};this.remove=function(){l={};i=[];if(b.utils.getOuterHTML(this.container)!=n){b.api.destroyPlayer(this.id,n);}};this.setup=function(r){if(b.embed){var q=this.id;this.remove();var s=b(q);s.config=r;return new b.embed(s);}return this;};this.registerPlugin=function(s,r,q){b.plugins.registerPlugin(s,r,q);};this.setPlayer=function(q,r){h=q;this.renderingMode=r;};this.stateListener=function(q,r){if(!p[q]){p[q]=[];this.eventListener(b.api.events.JWPLAYER_PLAYER_STATE,g(q));}p[q].push(r);return this;};function g(q){return function(s){var r=s.newstate,u=s.oldstate;if(r==q){var t=p[r];if(t){for(var v=0;v<t.length;v++){if(typeof t[v]=="function"){t[v].call(this,{oldstate:u,newstate:r});}}}}};}this.addInternalListener=function(q,r){q.jwAddEventListener(r,'function(dat) { jwplayer("'+this.id+'").dispatchEvent("'+r+'", dat); }');};this.eventListener=function(q,r){if(!l[q]){l[q]=[];if(h&&k){this.addInternalListener(h,q);}}l[q].push(r);return this;};this.dispatchEvent=function(s){if(l[s]){var r=f(s,arguments[1]);for(var q=0;q<l[s].length;q++){if(typeof l[s][q]=="function"){l[s][q].call(this,r);}}}};function f(s,q){var u=b.utils.extend({},q);if(s==b.api.events.JWPLAYER_FULLSCREEN&&!u.fullscreen){u.fullscreen=u.message=="true"?true:false;delete u.message;}else{if(typeof u.data=="object"){u=b.utils.extend(u,u.data);delete u.data;}}var r=["position","duration","offset"];for(var t in r){if(u[r[t]]){u[r[t]]=Math.round(u[r[t]]*1000)/1000;}}return u;}this.callInternal=function(r,q){if(k){if(typeof h!="undefined"&&typeof h[r]=="function"){if(q!==undefined){return(h[r])(q);}else{return(h[r])();}}return null;}else{i.push({method:r,parameters:q});}};this.playerReady=function(s){k=true;if(!h){this.setPlayer(document.getElementById(s.id));}this.container=document.getElementById(this.id);for(var q in l){this.addInternalListener(h,q);}this.eventListener(b.api.events.JWPLAYER_PLAYLIST_ITEM,function(t){o={};});this.eventListener(b.api.events.JWPLAYER_MEDIA_META,function(t){b.utils.extend(o,t.metadata);});this.dispatchEvent(b.api.events.API_READY);while(i.length>0){var r=i.shift();this.callInternal(r.method,r.parameters);}};this.getItemMeta=function(){return o;};this.getCurrentItem=function(){return this.callInternal("jwGetPlaylistIndex");};function m(s,u,t){var q=[];if(!u){u=0;}if(!t){t=s.length-1;}for(var r=u;r<=t;r++){q.push(s[r]);}return q;}return this;};b.api.selectPlayer=function(d){var c;if(d===undefined){d=0;}if(d.nodeType){c=d;}else{if(typeof d=="string"){c=document.getElementById(d);}}if(c){var e=b.api.playerById(c.id);if(e){return e;}else{return b.api.addPlayer(new b.api(c));}}else{if(typeof d=="number"){return b.getPlayers()[d];}}return null;};b.api.events={API_READY:"jwplayerAPIReady",JWPLAYER_READY:"jwplayerReady",JWPLAYER_FULLSCREEN:"jwplayerFullscreen",JWPLAYER_RESIZE:"jwplayerResize",JWPLAYER_ERROR:"jwplayerError",JWPLAYER_MEDIA_BUFFER:"jwplayerMediaBuffer",JWPLAYER_MEDIA_BUFFER_FULL:"jwplayerMediaBufferFull",JWPLAYER_MEDIA_ERROR:"jwplayerMediaError",JWPLAYER_MEDIA_LOADED:"jwplayerMediaLoaded",JWPLAYER_MEDIA_COMPLETE:"jwplayerMediaComplete",JWPLAYER_MEDIA_SEEK:"jwplayerMediaSeek",JWPLAYER_MEDIA_TIME:"jwplayerMediaTime",JWPLAYER_MEDIA_VOLUME:"jwplayerMediaVolume",JWPLAYER_MEDIA_META:"jwplayerMediaMeta",JWPLAYER_MEDIA_MUTE:"jwplayerMediaMute",JWPLAYER_PLAYER_STATE:"jwplayerPlayerState",JWPLAYER_PLAYLIST_LOADED:"jwplayerPlaylistLoaded",JWPLAYER_PLAYLIST_ITEM:"jwplayerPlaylistItem"};b.api.events.state={BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"};b.api.playerById=function(d){for(var c=0;c<a.length;c++){if(a[c].id==d){return a[c];}}return null;};b.api.addPlayer=function(c){for(var d=0;d<a.length;d++){if(a[d]==c){return c;}}a.push(c);return c;};b.api.destroyPlayer=function(g,d){var f=-1;for(var i=0;i<a.length;i++){if(a[i].id==g){f=i;continue;}}if(f>=0){var c=document.getElementById(a[f].id);if(document.getElementById(a[f].id+"_wrapper")){c=document.getElementById(a[f].id+"_wrapper");}if(c){if(d){b.utils.setOuterHTML(c,d);}else{var h=document.createElement("div");var e=c.id;if(c.id.indexOf("_wrapper")==c.id.length-8){newID=c.id.substring(0,c.id.length-8);}h.setAttribute("id",e);c.parentNode.replaceChild(h,c);}}a.splice(f,1);}return null;};b.getPlayers=function(){return a.slice(0);};})(jwplayer);var _userPlayerReady=(typeof playerReady=="function")?playerReady:undefined;playerReady=function(b){var a=jwplayer.api.playerById(b.id);if(a){a.playerReady(b);}if(_userPlayerReady){_userPlayerReady.call(this,b);}};(function(a){a.embed=function(g){var i={width:400,height:300,components:{controlbar:{position:"over"}}};var f=a.utils.mediaparser.parseMedia(g.container);var e=new a.embed.config(a.utils.extend(i,f,g.config),this);var h=a.plugins.loadPlugins(g.id,e.plugins);function c(l,k){for(var j in k){if(typeof l[j]=="function"){(l[j]).call(l,k[j]);}}}function d(){if(h.getStatus()==a.utils.loaderstatus.COMPLETE){for(var l=0;l<e.modes.length;l++){if(e.modes[l].type&&a.embed[e.modes[l].type]){var j=e;if(e.modes[l].config){j=a.utils.extend(a.utils.clone(e),e.modes[l].config);}var k=new a.embed[e.modes[l].type](document.getElementById(g.id),e.modes[l],j,h,g);if(k.supportsConfig()){k.embed();c(g,e.events);return g;}}}a.utils.log("No suitable players found");new a.embed.logo(a.utils.extend({hide:true},e.components.logo),"none",g.id);}}h.addEventListener(a.events.COMPLETE,d);h.addEventListener(a.events.ERROR,d);h.load();return g;};function b(){if(!document.body){return setTimeout(b,15);}var c=a.utils.selectors.getElementsByTagAndClass("video","jwplayer");for(var d=0;d<c.length;d++){var e=c[d];a(e.id).setup({});}}b();})(jwplayer);(function(a){function c(){return[{type:"flash",src:"/jwplayer/player.swf"},{type:"html5"},{type:"download"}];}function e(l){var k=l.toLowerCase();var j=["left","right","top","bottom"];for(var i=0;i<j.length;i++){if(k==j[i]){return true;}}return false;}function d(j){var i=false;i=(j instanceof Array)||(typeof j=="object"&&!j.position&&!j.size);return i;}function h(i){if(typeof i=="string"){if(parseInt(i).toString()==i||i.toLowerCase().indexOf("px")>-1){return parseInt(i);}}return i;}var f=["playlist","dock","controlbar","logo"];function g(j){var m={};switch(a.utils.typeOf(j.plugins)){case"object":for(var l in j.plugins){m[a.utils.getPluginName(l)]=l;}break;case"string":var n=j.plugins.split(",");for(var k=0;k<n.length;k++){m[a.utils.getPluginName(n[k])]=n[k];}break;}return m;}function b(m,l,k,i){if(a.utils.typeOf(m[l])!="object"){m[l]={};}var j=m[l][k];if(a.utils.typeOf(j)!="object"){m[l][k]=j={};}if(l=="plugins"){var n=a.utils.getPluginName(k);j[i]=m[n+"."+i];delete m[n+"."+i];}else{j[i]=m[k+"."+i];delete m[k+"."+i];}}a.embed.deserialize=function(i){var j=g(i);for(var m in i){if(m.indexOf(".")>-1){var l=m.split(".");var k=l[0];var m=l[1];if(a.utils.isInArray(f,k)){b(i,"components",k,m);}else{if(j[k]){b(i,"plugins",j[k],m);}}}}return i;};a.embed.config=function(i,q){var p=a.utils.extend({},i);var n;if(d(p.playlist)){n=p.playlist;delete p.playlist;}p=a.embed.deserialize(p);p.height=h(p.height);p.width=h(p.width);if(typeof p.plugins=="string"){var j=p.plugins.split(",");if(typeof p.plugins!="object"){p.plugins={};}for(var l=0;l<j.length;l++){var m=a.utils.getPluginName(j[l]);if(typeof p[m]=="object"){p.plugins[j[l]]=p[m];delete p[m];}else{p.plugins[j[l]]={};}}}for(var o=0;o<f.length;o++){if(typeof p[f[o]]=="string"){if(!p.components[f[o]]){p.components[f[o]]={};}if(f[o]=="logo"){p.components[f[o]].file=p[f[o]];}else{p.components[f[o]].position=p[f[o]];}delete p[f[o]];}else{if(typeof p[f[o]]!="undefined"){if(!p.components[f[o]]){p.components[f[o]]={};}a.utils.extend(p.components[f[o]],p[f[o]]);delete p[f[o]];}}if(typeof p[f[o]+"size"]!="undefined"){if(!p.components[f[o]]){p.components[f[o]]={};}p.components[f[o]].size=p[f[o]+"size"];delete p[f[o]+"size"];}}if(typeof p.icons!="undefined"){if(!p.components.display){p.components.display={};}p.components.display.icons=p.icons;delete p.icons;}if(p.players){p.modes=p.players;delete p.players;}var k;if(p.flashplayer&&!p.modes){k=c();k[0].src=p.flashplayer;delete p.flashplayer;}else{if(p.modes){if(typeof p.modes=="string"){k=c();k[0].src=p.modes;}else{if(p.modes instanceof Array){k=p.modes;}else{if(typeof p.modes=="object"&&p.modes.type){k=[p.modes];}}}delete p.modes;}else{k=c();}}p.modes=k;if(n){p.playlist=n;}return p;};})(jwplayer);(function(a){a.embed.download=function(c,g,b,d,f){this.embed=function(){var j=a.utils.extend({},b);var p={};var i=b.width?b.width:480;if(typeof i!="number"){i=parseInt(i,10);}var l=b.height?b.height:320;if(typeof l!="number"){l=parseInt(l,10);}var t,n,m;var r={};if(b.playlist&&b.playlist.length){r.file=b.playlist[0].file;n=b.playlist[0].image;r.levels=b.playlist[0].levels;}else{r.file=b.file;n=b.image;r.levels=b.levels;}if(r.file){t=r.file;}else{if(r.levels&&r.levels.length){t=r.levels[0].file;}}m=t?"pointer":"auto";var k={display:{style:{cursor:m,width:i,height:l,backgroundColor:"#000",position:"relative",textDecoration:"none",border:"none",display:"block"}},display_icon:{style:{cursor:m,position:"absolute",display:t?"block":"none",top:0,left:0,border:0,margin:0,padding:0,zIndex:3,width:50,height:50,backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAALdJREFUeNrs18ENgjAYhmFouDOCcQJGcARHgE10BDcgTOIosAGwQOuPwaQeuFRi2p/3Sb6EC5L3QCxZBgAAAOCorLW1zMn65TrlkH4NcV7QNcUQt7Gn7KIhxA+qNIR81spOGkL8oFJDyLJRdosqKDDkK+iX5+d7huzwM40xptMQMkjIOeRGo+VkEVvIPfTGIpKASfYIfT9iCHkHrBEzf4gcUQ56aEzuGK/mw0rHpy4AAACAf3kJMACBxjAQNRckhwAAAABJRU5ErkJggg==)"}},display_iconBackground:{style:{cursor:m,position:"absolute",display:t?"block":"none",top:((l-50)/2),left:((i-50)/2),border:0,width:50,height:50,margin:0,padding:0,zIndex:2,backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEpJREFUeNrszwENADAIA7DhX8ENoBMZ5KR10EryckCJiIiIiIiIiIiIiIiIiIiIiIh8GmkRERERERERERERERERERERERGRHSPAAPlXH1phYpYaAAAAAElFTkSuQmCC)"}},display_image:{style:{width:i,height:l,display:n?"block":"none",position:"absolute",cursor:m,left:0,top:0,margin:0,padding:0,textDecoration:"none",zIndex:1,border:"none"}}};var h=function(u,w,x){var v=document.createElement(u);if(x){v.id=x;}else{v.id=c.id+"_jwplayer_"+w;}a.utils.css(v,k[w].style);return v;};p.display=h("a","display",c.id);if(t){p.display.setAttribute("href",a.utils.getAbsolutePath(t));}p.display_image=h("img","display_image");p.display_image.setAttribute("alt","Click to download...");if(n){p.display_image.setAttribute("src",a.utils.getAbsolutePath(n));}if(true){p.display_icon=h("div","display_icon");p.display_iconBackground=h("div","display_iconBackground");p.display.appendChild(p.display_image);p.display_iconBackground.appendChild(p.display_icon);p.display.appendChild(p.display_iconBackground);}_css=a.utils.css;_hide=function(u){_css(u,{display:"none"});};function q(u){_imageWidth=p.display_image.naturalWidth;_imageHeight=p.display_image.naturalHeight;s();}function s(){a.utils.stretch(a.utils.stretching.UNIFORM,p.display_image,i,l,_imageWidth,_imageHeight);}p.display_image.onerror=function(u){_hide(p.display_image);};p.display_image.onload=q;c.parentNode.replaceChild(p.display,c);var o=(b.plugins&&b.plugins.logo)?b.plugins.logo:{};p.display.appendChild(new a.embed.logo(b.components.logo,"download",c.id));f.container=document.getElementById(f.id);f.setPlayer(p.display,"download");};this.supportsConfig=function(){if(b){var j=a.utils.getFirstPlaylistItemFromConfig(b);if(typeof j.file=="undefined"&&typeof j.levels=="undefined"){return true;}else{if(j.file){return e(j.file,j.provider,j.playlistfile);}else{if(j.levels&&j.levels.length){for(var h=0;h<j.levels.length;h++){if(j.levels[h].file&&e(j.levels[h].file,j.provider,j.playlistfile)){return true;}}}}}}else{return true;}};function e(i,k,h){if(h){return false;}var j=["image","sound","youtube","http"];if(k&&(j.toString().indexOf(k)>-1)){return true;}if(!k||(k&&k=="video")){var l=a.utils.extension(i);if(l&&a.utils.extensionmap[l]){return true;}}return false;}};})(jwplayer);(function(a){a.embed.flash=function(f,g,k,e,i){function l(n,m,o){var p=document.createElement("param");p.setAttribute("name",m);p.setAttribute("value",o);n.appendChild(p);}function j(n,o,m){return function(p){if(m){document.getElementById(i.id+"_wrapper").appendChild(o);}var r=document.getElementById(i.id).getPluginConfig("display");n.resize(r.width,r.height);var q={left:r.x,top:r.y};a.utils.css(o,q);};}function d(o){if(!o){return{};}var q={};for(var n in o){var m=o[n];for(var p in m){q[n+"."+p]=m[p];}}return q;}function h(p,o){if(p[o]){var r=p[o];for(var n in r){var m=r[n];if(typeof m=="string"){if(!p[n]){p[n]=m;}}else{for(var q in m){if(!p[n+"."+q]){p[n+"."+q]=m[q];}}}}delete p[o];}}function b(p){if(!p){return{};}var s={},r=[];for(var m in p){var o=a.utils.getPluginName(m);var n=p[m];r.push(m);for(var q in n){s[o+"."+q]=n[q];}}s.plugins=r.join(",");return s;}function c(o){var m=o.netstreambasepath?"":"netstreambasepath="+encodeURIComponent(window.location.href)+"&";for(var n in o){if(typeof(o[n])=="object"){m+=n+"="+encodeURIComponent("[[JSON]]"+a.utils.strings.jsonToString(o[n]))+"&";}else{m+=n+"="+encodeURIComponent(o[n])+"&";}}return m.substring(0,m.length-1);}this.embed=function(){k.id=i.id;var x;var p=a.utils.extend({},k);var m=p.width;var v=p.height;if(f.id+"_wrapper"==f.parentNode.id){x=document.getElementById(f.id+"_wrapper");}else{x=document.createElement("div");x.id=f.id+"_wrapper";a.utils.wrap(f,x);a.utils.css(x,{position:"relative",width:m,height:v});}var n=e.setupPlugins(i,p,j);if(n.length>0){a.utils.extend(p,b(n.plugins));}else{delete p.plugins;}var q=["height","width","modes","events"];for(var t=0;t<q.length;t++){delete p[q[t]];}var o="opaque";if(p.wmode){o=p.wmode;}h(p,"components");h(p,"providers");if(typeof p["dock.position"]!="undefined"){if(p["dock.position"].toString().toLowerCase()=="false"){p.dock=p["dock.position"];delete p["dock.position"];}}var w="#000000";var s;if(a.utils.isIE()){var u='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" bgcolor="'+w+'" width="100%" height="100%" id="'+f.id+'" name="'+f.id+'" tabindex=0"">';u+='<param name="movie" value="'+g.src+'">';u+='<param name="allowfullscreen" value="true">';u+='<param name="allowscriptaccess" value="always">';u+='<param name="seamlesstabbing" value="true">';u+='<param name="wmode" value="'+o+'">';u+='<param name="flashvars" value="'+c(p)+'">';u+="</object>";a.utils.setOuterHTML(f,u);s=document.getElementById(f.id);}else{var r=document.createElement("object");r.setAttribute("type","application/x-shockwave-flash");r.setAttribute("data",g.src);r.setAttribute("width","100%");r.setAttribute("height","100%");r.setAttribute("bgcolor","#000000");r.setAttribute("id",f.id);r.setAttribute("name",f.id);r.setAttribute("tabindex",0);l(r,"allowfullscreen","true");l(r,"allowscriptaccess","always");l(r,"seamlesstabbing","true");l(r,"wmode",o);l(r,"flashvars",c(p));f.parentNode.replaceChild(r,f);s=r;}i.container=s;i.setPlayer(s,"flash");};this.supportsConfig=function(){if(a.utils.hasFlash()){if(k){var n=a.utils.getFirstPlaylistItemFromConfig(k);if(typeof n.file=="undefined"&&typeof n.levels=="undefined"){return true;}else{if(n.file){return flashCanPlay(n.file,n.provider);}else{if(n.levels&&n.levels.length){for(var m=0;m<n.levels.length;m++){if(n.levels[m].file&&flashCanPlay(n.levels[m].file,n.provider)){return true;}}}}}}else{return true;}}return false;};flashCanPlay=function(m,o){var n=["video","http","sound","image"];if(o&&(n.toString().indexOf(o<0))){return true;}var p=a.utils.extension(m);if(!p){return true;}if(a.utils.extensionmap[p]!==undefined&&a.utils.extensionmap[p].flash===undefined){return false;}return true;};};})(jwplayer);(function(a){a.embed.html5=function(c,g,b,d,f){function e(i,j,h){return function(k){var l=document.getElementById(c.id+"_displayarea");if(h){l.appendChild(j);}var m=l.style;i.resize(parseInt(m.width.replace("px","")),parseInt(m.height.replace("px","")));j.left=m.left;j.top=m.top;};}this.embed=function(){if(a.html5){d.setupPlugins(f,b,e);c.innerHTML="";var j=a.utils.extend({screencolor:"0x000000"},b);var h=["plugins","modes","events"];for(var k=0;k<h.length;k++){delete j[h[k]];}if(j.levels&&!j.sources){j.sources=b.levels;}if(j.skin&&j.skin.toLowerCase().indexOf(".zip")>0){j.skin=j.skin.replace(/\.zip/i,".xml");}var l=new (a.html5(c)).setup(j);f.container=document.getElementById(f.id);f.setPlayer(l,"html5");}else{return null;}};this.supportsConfig=function(){var h=document.createElement("video");if(!!h.canPlayType){if(b){var k=a.utils.getFirstPlaylistItemFromConfig(b);if(typeof k.file=="undefined"&&typeof k.levels=="undefined"){return true;}else{if(k.file){return html5CanPlay(h,k.file,k.provider,k.playlistfile);}else{if(k.levels&&k.levels.length){for(var j=0;j<k.levels.length;j++){if(k.levels[j].file&&html5CanPlay(h,k.levels[j].file,k.provider,k.playlistfile)){return true;}}}}}}else{return true;}}return false;};html5CanPlay=function(j,i,k,h){if(h){return false;}if(k&&k=="youtube"){return true;}if(k&&k!="video"&&k!="http"&&k!="sound"){return false;}var l=a.utils.extension(i);if(!l||a.utils.extensionmap[l]===undefined){return true;}if(a.utils.extensionmap[l].html5===undefined){return false;}if(a.utils.isLegacyAndroid()&&l.match(/m4v|mp4/)){return true;}return browserCanPlay(j,a.utils.extensionmap[l].html5);};browserCanPlay=function(i,h){if(!h){return true;}return i.canPlayType(h);};};})(jwplayer);(function(a){a.embed.logo=function(l,k,d){var i={prefix:"http://l.longtailvideo.com/"+k+"/",file:"logo.png",link:"http://www.longtailvideo.com/players/jw-flv-player/",margin:8,out:0.5,over:1,timeout:3,hide:false,position:"bottom-left"};_css=a.utils.css;var b;var h;j();function j(){n();c();f();}function n(){if(i.prefix){var p=a.version.split(/\W/).splice(0,2).join("/");if(i.prefix.indexOf(p)<0){i.prefix+=p+"/";}}h=a.utils.extend({},i);}function o(){var r={border:"none",textDecoration:"none",position:"absolute",cursor:"pointer",zIndex:10};r.display=h.hide?"none":"block";var q=h.position.toLowerCase().split("-");for(var p in q){r[q[p]]=h.margin;}return r;}function c(){b=document.createElement("img");b.id=d+"_jwplayer_logo";b.style.display="none";b.onload=function(p){_css(b,o());e();};if(!h.file){return;}if(h.file.indexOf("http://")===0){b.src=h.file;}else{b.src=h.prefix+h.file;}}if(!h.file){return;}function f(){if(h.link){b.onmouseover=g;b.onmouseout=e;b.onclick=m;}else{this.mouseEnabled=false;}}function m(p){if(typeof p!="undefined"){p.preventDefault();p.stopPropagation();}if(h.link){window.open(h.link,"_blank");}return;}function e(p){if(h.link){b.style.opacity=h.out;}return;}function g(p){if(h.hide){b.style.opacity=h.over;}return;}return b;};})(jwplayer);(function(a){a.html5=function(b){var c=b;this.setup=function(d){a.utils.extend(this,new a.html5.api(c,d));return this;};return this;};})(jwplayer);(function(b){var c=b.utils.css;b.html5.view=function(p,o,e){var s=p;var l=o;var v=e;var u;var f;var z;var q;var A;var n;function x(){u=document.createElement("div");u.id=l.id;u.className=l.className;_videowrapper=document.createElement("div");_videowrapper.id=u.id+"_video_wrapper";l.id=u.id+"_video";c(u,{position:"relative",height:v.height,width:v.width,padding:0,backgroundColor:B(),zIndex:0});function B(){if(s.skin.getComponentSettings("display")&&s.skin.getComponentSettings("display").backgroundcolor){return s.skin.getComponentSettings("display").backgroundcolor;}return parseInt("000000",16);}c(l,{width:v.width,height:v.height,top:0,left:0,zIndex:1,margin:"auto",display:"block"});c(_videowrapper,{overflow:"hidden",position:"absolute",top:0,left:0,bottom:0,right:0});b.utils.wrap(l,u);b.utils.wrap(l,_videowrapper);q=document.createElement("div");q.id=u.id+"_displayarea";u.appendChild(q);}function j(){for(var B=0;B<v.plugins.order.length;B++){var C=v.plugins.order[B];if(v.plugins.object[C].getDisplayElement!==undefined){v.plugins.object[C].height=h(v.plugins.object[C].getDisplayElement().style.height);v.plugins.object[C].width=h(v.plugins.object[C].getDisplayElement().style.width);v.plugins.config[C].currentPosition=v.plugins.config[C].position;}}t();}function t(C){if(v.getMedia()!==undefined){for(var B=0;B<v.plugins.order.length;B++){var D=v.plugins.order[B];if(v.plugins.object[D].getDisplayElement!==undefined){if(v.getMedia().hasChrome()){v.plugins.config[D].currentPosition=b.html5.view.positions.NONE;}else{v.plugins.config[D].currentPosition=v.plugins.config[D].position;}}}}i(v.width,v.height);}function h(B){if(typeof B=="string"){if(B===""){return 0;}else{if(B.lastIndexOf("%")>-1){return B;}else{return parseInt(B.replace("px",""),10);}}}return B;}this.setup=function(B){l=B;x();j();s.jwAddEventListener(b.api.events.JWPLAYER_MEDIA_LOADED,t);s.jwAddEventListener(b.api.events.JWPLAYER_MEDIA_META,function(){w();});var C;if(window.onresize!==null){C=window.onresize;}window.onresize=function(D){if(C!==undefined){try{C(D);}catch(F){}}if(s.jwGetFullscreen()){var E=document.body.getBoundingClientRect();v.width=Math.abs(E.left)+Math.abs(E.right);v.height=window.innerHeight;}i(v.width,v.height);};};function g(B){switch(B.keyCode){case 27:if(s.jwGetFullscreen()){s.jwSetFullscreen(false);}break;case 32:if(s.jwGetState()!=b.api.events.state.IDLE&&s.jwGetState()!=b.api.events.state.PAUSED){s.jwPause();}else{s.jwPlay();}break;}}function i(E,B){if(u.style.display=="none"){return;}var D=[].concat(v.plugins.order);D.reverse();A=D.length+2;if(!v.fullscreen){v.width=E;v.height=B;f=E;z=B;c(q,{top:0,bottom:0,left:0,right:0,width:E,height:B});c(u,{height:z,width:f});var C=m(r,D);if(C.length>0){A+=C.length;m(k,C,true);}}else{if(navigator.vendor.indexOf("Apple")!==0){m(y,D,true);}}w();}function m(G,D,E){var C=[];for(var B=0;B<D.length;B++){var H=D[B];if(v.plugins.object[H].getDisplayElement!==undefined){if(v.plugins.config[H].currentPosition!=b.html5.view.positions.NONE){var F=G(H,A--);if(!F){C.push(H);}else{v.plugins.object[H].resize(F.width,F.height);if(E){delete F.width;delete F.height;}c(v.plugins.object[H].getDisplayElement(),F);}}else{c(v.plugins.object[H].getDisplayElement(),{display:"none"});}}}return C;}function r(C,D){if(v.plugins.object[C].getDisplayElement!==undefined){if(v.plugins.config[C].position&&a(v.plugins.config[C].position)){if(v.plugins.object[C].getDisplayElement().parentNode===null){u.appendChild(v.plugins.object[C].getDisplayElement());}var B=d(C);B.zIndex=D;return B;}}return false;}function k(D,E){if(v.plugins.object[D].getDisplayElement().parentNode===null){q.appendChild(v.plugins.object[D].getDisplayElement());}var B=v.width,C=v.height;if(typeof v.width=="string"&&v.width.lastIndexOf("%")>-1){percentage=parseFloat(v.width.substring(0,v.width.lastIndexOf("%")))/100;B=Math.round(window.innerWidth*percentage);}if(typeof v.height=="string"&&v.height.lastIndexOf("%")>-1){percentage=parseFloat(v.height.substring(0,v.height.lastIndexOf("%")))/100;C=Math.round(window.innerHeight*percentage);}return{position:"absolute",width:(B-h(q.style.left)-h(q.style.right)),height:(C-h(q.style.top)-h(q.style.bottom)),zIndex:E};}function y(B,C){return{position:"fixed",width:v.width,height:v.height,zIndex:C};}function w(){q.style.position="absolute";v.getMedia().getDisplayElement().style.position="absolute";if(v.getMedia().getDisplayElement().videoWidth==0||v.getMedia().getDisplayElement().videoHeight==0){return;}var B,D;if(q.style.width.toString().lastIndexOf("%")>-1||q.style.width.toString().lastIndexOf("%")>-1){var C=q.getBoundingClientRect();B=Math.abs(C.left)+Math.abs(C.right);D=Math.abs(C.top)+Math.abs(C.bottom);}else{B=h(q.style.width);D=h(q.style.height);}b.utils.stretch(s.jwGetStretching(),v.getMedia().getDisplayElement(),B,D,v.getMedia().getDisplayElement().videoWidth,v.getMedia().getDisplayElement().videoHeight);}function d(C){var D={position:"absolute",margin:0,padding:0,top:null};var B=v.plugins.config[C].currentPosition.toLowerCase();switch(B.toUpperCase()){case b.html5.view.positions.TOP:D.top=h(q.style.top);D.left=h(q.style.left);D.width=f-h(q.style.left)-h(q.style.right);D.height=v.plugins.object[C].height;q.style[B]=h(q.style[B])+v.plugins.object[C].height+"px";q.style.height=h(q.style.height)-D.height+"px";break;case b.html5.view.positions.RIGHT:D.top=h(q.style.top);D.right=h(q.style.right);D.width=D.width=v.plugins.object[C].width;D.height=z-h(q.style.top)-h(q.style.bottom);q.style[B]=h(q.style[B])+v.plugins.object[C].width+"px";q.style.width=h(q.style.width)-D.width+"px";break;case b.html5.view.positions.BOTTOM:D.bottom=h(q.style.bottom);D.left=h(q.style.left);D.width=f-h(q.style.left)-h(q.style.right);D.height=v.plugins.object[C].height;q.style[B]=h(q.style[B])+v.plugins.object[C].height+"px";q.style.height=h(q.style.height)-D.height+"px";break;case b.html5.view.positions.LEFT:D.top=h(q.style.top);D.left=h(q.style.left);D.width=v.plugins.object[C].width;D.height=z-h(q.style.top)-h(q.style.bottom);q.style[B]=h(q.style[B])+v.plugins.object[C].width+"px";q.style.width=h(q.style.width)-D.width+"px";break;default:break;}return D;}this.resize=i;this.fullscreen=function(E){if(navigator.vendor.indexOf("Apple")===0){if(v.getMedia().getDisplayElement().webkitSupportsFullscreen){if(E){try{v.getMedia().getDisplayElement().webkitEnterFullscreen();}catch(D){}}else{try{v.getMedia().getDisplayElement().webkitExitFullscreen();}catch(D){}}}}else{if(E){document.onkeydown=g;clearInterval(n);var C=document.body.getBoundingClientRect();v.width=Math.abs(C.left)+Math.abs(C.right);v.height=window.innerHeight;var B={position:"fixed",width:"100%",height:"100%",top:0,left:0,zIndex:2147483000};c(u,B);B.zIndex=1;c(v.getMedia().getDisplayElement(),B);B.zIndex=2;c(q,B);}else{document.onkeydown="";v.width=f;v.height=z;c(u,{position:"relative",height:v.height,width:v.width,zIndex:0});}i(v.width,v.height);}};};function a(d){return([b.html5.view.positions.TOP,b.html5.view.positions.RIGHT,b.html5.view.positions.BOTTOM,b.html5.view.positions.LEFT].toString().indexOf(d.toUpperCase())>-1);}b.html5.view.positions={TOP:"TOP",RIGHT:"RIGHT",BOTTOM:"BOTTOM",LEFT:"LEFT",OVER:"OVER",NONE:"NONE"};})(jwplayer);(function(a){var b={backgroundcolor:"",margin:10,font:"Arial,sans-serif",fontsize:10,fontcolor:parseInt("000000",16),fontstyle:"normal",fontweight:"bold",buttoncolor:parseInt("ffffff",16),position:a.html5.view.positions.BOTTOM,idlehide:false,layout:{left:{position:"left",elements:[{name:"play",type:"button"},{name:"divider",type:"divider"},{name:"prev",type:"button"},{name:"divider",type:"divider"},{name:"next",type:"button"},{name:"divider",type:"divider"},{name:"elapsed",type:"text"}]},center:{position:"center",elements:[{name:"time",type:"slider"}]},right:{position:"right",elements:[{name:"duration",type:"text"},{name:"blank",type:"button"},{name:"divider",type:"divider"},{name:"mute",type:"button"},{name:"volume",type:"slider"},{name:"divider",type:"divider"},{name:"fullscreen",type:"button"}]}}};_css=a.utils.css;_hide=function(c){_css(c,{display:"none"});};_show=function(c){_css(c,{display:"block"});};a.html5.controlbar=function(k,M){var j=k;var A=a.utils.extend({},b,j.skin.getComponentSettings("controlbar"),M);if(A.position==a.html5.view.positions.NONE||typeof a.html5.view.positions[A.position]=="undefined"){return;}if(a.utils.mapLength(j.skin.getComponentLayout("controlbar"))>0){A.layout=j.skin.getComponentLayout("controlbar");}var R;var J;var Q;var B;var t="none";var f;var i;var S;var e;var d;var w;var K={};var o=false;var c={};var O;var h=false;function E(){if(!O){O=j.skin.getSkinElement("controlbar","background");if(!O){O={width:0,height:0,src:null};}}return O;}function I(){Q=0;B=0;J=0;if(!o){var Z={height:E().height,backgroundColor:A.backgroundcolor};R=document.createElement("div");R.id=j.id+"_jwplayer_controlbar";_css(R,Z);}var Y=(j.skin.getSkinElement("controlbar","capLeft"));var X=(j.skin.getSkinElement("controlbar","capRight"));if(Y){v("capLeft","left",false,R);}var aa={position:"absolute",height:E().height,left:(Y?Y.width:0),zIndex:0};P("background",R,aa,"img");if(E().src){K.background.src=E().src;}aa.zIndex=1;P("elements",R,aa);if(X){v("capRight","right",false,R);}}this.getDisplayElement=function(){return R;};this.resize=function(Z,X){a.utils.cancelAnimation(R);document.getElementById(j.id).onmousemove=x;d=Z;w=X;x();var Y=u();D({id:j.id,duration:S,position:i});s({id:j.id,bufferPercent:e});return Y;};this.show=function(){h=false;_show(R);};this.hide=function(){h=true;_hide(R);};function p(){var Y=["timeSlider","volumeSlider","timeSliderRail","volumeSliderRail"];for(var Z in Y){var X=Y[Z];if(typeof K[X]!="undefined"){c[X]=K[X].getBoundingClientRect();}}}function x(){if(h){return;}a.utils.cancelAnimation(R);if(g()){a.utils.fadeTo(R,1,0,1,0);}else{a.utils.fadeTo(R,0,0.1,1,2);}}function g(){if(h){return false;}if(j.jwGetState()==a.api.events.state.IDLE||j.jwGetState()==a.api.events.state.PAUSED){if(A.idlehide){return false;}return true;}if(j.jwGetFullscreen()){return false;}if(A.position==a.html5.view.positions.OVER){return false;}return true;}function P(ab,aa,Z,X){var Y;if(!o){if(!X){X="div";}Y=document.createElement(X);K[ab]=Y;Y.id=R.id+"_"+ab;aa.appendChild(Y);}else{Y=document.getElementById(R.id+"_"+ab);}if(Z!==undefined){_css(Y,Z);}return Y;}function H(){W(A.layout.left);W(A.layout.right,-1);W(A.layout.center);}function W(aa,X){var ab=aa.position=="right"?"right":"left";var Z=a.utils.extend([],aa.elements);if(X!==undefined){Z.reverse();}for(var Y=0;Y<Z.length;Y++){z(Z[Y],ab);}}function F(){return J++;}function z(ab,ad){var aa,Y,Z,X,af;if(ab.type=="divider"){v("divider"+F(),ad,true,undefined,undefined,ab.width,ab.element);return;}switch(ab.name){case"play":v("playButton",ad,false);v("pauseButton",ad,true);L("playButton","jwPlay");L("pauseButton","jwPause");break;case"prev":v("prevButton",ad,true);L("prevButton","jwPlaylistPrev");break;case"next":v("nextButton",ad,true);L("nextButton","jwPlaylistNext");break;case"elapsed":v("elapsedText",ad,true);break;case"time":Y=j.skin.getSkinElement("controlbar","timeSliderCapLeft")===undefined?0:j.skin.getSkinElement("controlbar","timeSliderCapLeft").width;Z=j.skin.getSkinElement("controlbar","timeSliderCapRight")===undefined?0:j.skin.getSkinElement("controlbar","timeSliderCapRight").width;aa=ad=="left"?Y:Z;X=j.skin.getSkinElement("controlbar","timeSliderRail").width+Y+Z;af={height:E().height,position:"absolute",top:0,width:X};af[ad]=ad=="left"?Q:B;var ac=P("timeSlider",K.elements,af);v("timeSliderCapLeft",ad,true,ac,ad=="left"?0:aa);v("timeSliderRail",ad,false,ac,aa);v("timeSliderBuffer",ad,false,ac,aa);v("timeSliderProgress",ad,false,ac,aa);v("timeSliderThumb",ad,false,ac,aa);v("timeSliderCapRight",ad,true,ac,ad=="right"?0:aa);N("time");break;case"fullscreen":v("fullscreenButton",ad,false);v("normalscreenButton",ad,true);L("fullscreenButton","jwSetFullscreen",true);L("normalscreenButton","jwSetFullscreen",false);break;case"volume":Y=j.skin.getSkinElement("controlbar","volumeSliderCapLeft")===undefined?0:j.skin.getSkinElement("controlbar","volumeSliderCapLeft").width;Z=j.skin.getSkinElement("controlbar","volumeSliderCapRight")===undefined?0:j.skin.getSkinElement("controlbar","volumeSliderCapRight").width;aa=ad=="left"?Y:Z;X=j.skin.getSkinElement("controlbar","volumeSliderRail").width+Y+Z;af={height:E().height,position:"absolute",top:0,width:X};af[ad]=ad=="left"?Q:B;var ae=P("volumeSlider",K.elements,af);v("volumeSliderCapLeft",ad,true,ae,ad=="left"?0:aa);v("volumeSliderRail",ad,true,ae,aa);v("volumeSliderProgress",ad,false,ae,aa);v("volumeSliderCapRight",ad,true,ae,ad=="right"?0:aa);N("volume");break;case"mute":v("muteButton",ad,false);v("unmuteButton",ad,true);L("muteButton","jwSetMute",true);L("unmuteButton","jwSetMute",false);break;case"duration":v("durationText",ad,true);break;}}function v(aa,ad,Y,ag,ab,X,Z){if(j.skin.getSkinElement("controlbar",aa)!==undefined||aa.indexOf("Text")>0||aa.indexOf("divider")===0){var ac={height:E().height,position:"absolute",display:"block",top:0};if((aa.indexOf("next")===0||aa.indexOf("prev")===0)&&j.jwGetPlaylist().length<2){Y=false;ac.display="none";}var ah;if(aa.indexOf("Text")>0){aa.innerhtml="00:00";ac.font=A.fontsize+"px/"+(E().height+1)+"px "+A.font;ac.color=A.fontcolor;ac.textAlign="center";ac.fontWeight=A.fontweight;ac.fontStyle=A.fontstyle;ac.cursor="default";ah=14+3*A.fontsize;}else{if(aa.indexOf("divider")===0){if(X){if(!isNaN(parseInt(X))){ah=parseInt(X);}}else{if(Z){var ae=j.skin.getSkinElement("controlbar",Z);if(ae){ac.background="url("+ae.src+") repeat-x center left";ah=ae.width;}}else{ac.background="url("+j.skin.getSkinElement("controlbar","divider").src+") repeat-x center left";ah=j.skin.getSkinElement("controlbar","divider").width;}}}else{ac.background="url("+j.skin.getSkinElement("controlbar",aa).src+") repeat-x center left";ah=j.skin.getSkinElement("controlbar",aa).width;}}if(ad=="left"){ac.left=isNaN(ab)?Q:ab;if(Y){Q+=ah;}}else{if(ad=="right"){ac.right=isNaN(ab)?B:ab;if(Y){B+=ah;}}}if(a.utils.typeOf(ag)=="undefined"){ag=K.elements;}ac.width=ah;if(o){_css(K[aa],ac);}else{var af=P(aa,ag,ac);if(j.skin.getSkinElement("controlbar",aa+"Over")!==undefined){af.onmouseover=function(ai){af.style.backgroundImage=["url(",j.skin.getSkinElement("controlbar",aa+"Over").src,")"].join("");};af.onmouseout=function(ai){af.style.backgroundImage=["url(",j.skin.getSkinElement("controlbar",aa).src,")"].join("");};}}}}function C(){j.jwAddEventListener(a.api.events.JWPLAYER_PLAYLIST_LOADED,y);j.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_BUFFER,s);j.jwAddEventListener(a.api.events.JWPLAYER_PLAYER_STATE,q);j.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_TIME,D);j.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_MUTE,V);j.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_VOLUME,l);j.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_COMPLETE,G);}function y(){I();H();u();T();}function T(){D({id:j.id,duration:j.jwGetDuration(),position:0});s({id:j.id,bufferProgress:0});V({id:j.id,mute:j.jwGetMute()});q({id:j.id,newstate:a.api.events.state.IDLE});l({id:j.id,volume:j.jwGetVolume()});}function L(Z,aa,Y){if(o){return;}if(j.skin.getSkinElement("controlbar",Z)!==undefined){var X=K[Z];if(X!==null){_css(X,{cursor:"pointer"});if(aa=="fullscreen"){X.onmouseup=function(ab){ab.stopPropagation();j.jwSetFullscreen(!j.jwGetFullscreen());};}else{X.onmouseup=function(ab){ab.stopPropagation();if(Y!==null){j[aa](Y);}else{j[aa]();}};}}}}function N(X){if(o){return;}var Y=K[X+"Slider"];_css(K.elements,{cursor:"pointer"});_css(Y,{cursor:"pointer"});Y.onmousedown=function(Z){t=X;};Y.onmouseup=function(Z){Z.stopPropagation();U(Z.pageX);};Y.onmousemove=function(Z){if(t=="time"){f=true;var aa=Z.pageX-c[X+"Slider"].left-window.pageXOffset;_css(K.timeSliderThumb,{left:aa});}};}function U(Y){f=false;var X;if(t=="time"){X=Y-c.timeSliderRail.left+window.pageXOffset;var aa=X/c.timeSliderRail.width*S;if(aa<0){aa=0;}else{if(aa>S){aa=S-3;}}if(j.jwGetState()==a.api.events.state.PAUSED||j.jwGetState()==a.api.events.state.IDLE){j.jwPlay();}j.jwSeek(aa);}else{if(t=="volume"){X=Y-c.volumeSliderRail.left-window.pageXOffset;var Z=Math.round(X/c.volumeSliderRail.width*100);if(Z<0){Z=0;}else{if(Z>100){Z=100;}}if(j.jwGetMute()){j.jwSetMute(false);}j.jwSetVolume(Z);}}t="none";}function s(Y){if(Y.bufferPercent!==null){e=Y.bufferPercent;}if(c.timeSliderRail){var Z=c.timeSliderRail.width;var X=isNaN(Math.round(Z*e/100))?0:Math.round(Z*e/100);_css(K.timeSliderBuffer,{width:X});}}function V(X){if(X.mute){_hide(K.muteButton);_show(K.unmuteButton);_hide(K.volumeSliderProgress);}else{_show(K.muteButton);_hide(K.unmuteButton);_show(K.volumeSliderProgress);}}function q(X){if(X.newstate==a.api.events.state.BUFFERING||X.newstate==a.api.events.state.PLAYING){_show(K.pauseButton);_hide(K.playButton);}else{_hide(K.pauseButton);_show(K.playButton);}x();if(X.newstate==a.api.events.state.IDLE){_hide(K.timeSliderBuffer);_hide(K.timeSliderProgress);_hide(K.timeSliderThumb);D({id:j.id,duration:j.jwGetDuration(),position:0});}else{_show(K.timeSliderBuffer);if(X.newstate!=a.api.events.state.BUFFERING){_show(K.timeSliderProgress);_show(K.timeSliderThumb);}}}function G(X){s({bufferPercent:0});D(a.utils.extend(X,{position:0,duration:S}));}function D(aa){if(aa.position!==null){i=aa.position;}if(aa.duration!==null){S=aa.duration;}var Y=(i===S===0)?0:i/S;var ab=c.timeSliderRail;if(ab){var X=isNaN(Math.round(ab.width*Y))?0:Math.round(ab.width*Y);var Z=X;if(K.timeSliderProgress){K.timeSliderProgress.style.width=X+"px";if(!f){if(K.timeSliderThumb){K.timeSliderThumb.style.left=Z+"px";}}}}if(K.durationText){K.durationText.innerHTML=n(S);}if(K.elapsedText){K.elapsedText.innerHTML=n(i);}}function n(X){str="00:00";if(X>0){str=Math.floor(X/60)<10?"0"+Math.floor(X/60)+":":Math.floor(X/60)+":";str+=Math.floor(X%60)<10?"0"+Math.floor(X%60):Math.floor(X%60);}return str;}function m(){var aa,Y;var Z=document.getElementById(R.id+"_elements").childNodes;for(var X in document.getElementById(R.id+"_elements").childNodes){if(isNaN(parseInt(X,10))){continue;}if(Z[X].id.indexOf(R.id+"_divider")===0&&Y&&Y.id.indexOf(R.id+"_divider")===0&&Z[X].style.backgroundImage==Y.style.backgroundImage){Z[X].style.display="none";}else{if(Z[X].id.indexOf(R.id+"_divider")===0&&aa&&aa.style.display!="none"){Z[X].style.display="block";}}if(Z[X].style.display!="none"){Y=Z[X];}aa=Z[X];}}function u(){m();if(j.jwGetFullscreen()){_show(K.normalscreenButton);_hide(K.fullscreenButton);}else{_hide(K.normalscreenButton);_show(K.fullscreenButton);}var Y={width:d};var X={};if(A.position==a.html5.view.positions.OVER||j.jwGetFullscreen()){Y.left=A.margin;Y.width-=2*A.margin;Y.top=w-E().height-A.margin;Y.height=E().height;}else{Y.left=0;}var aa=j.skin.getSkinElement("controlbar","capLeft");var Z=j.skin.getSkinElement("controlbar","capRight");X.left=aa?aa.width:0;X.width=Y.width-X.left-(Z?Z.width:0);var ab=j.skin.getSkinElement("controlbar","timeSliderCapLeft")===undefined?0:j.skin.getSkinElement("controlbar","timeSliderCapLeft").width;_css(K.timeSliderRail,{width:(X.width-Q-B),left:ab});if(K.timeSliderCapRight!==undefined){_css(K.timeSliderCapRight,{left:ab+(X.width-Q-B)});}_css(R,Y);_css(K.elements,X);_css(K.background,X);p();return Y;}function l(ab){if(K.volumeSliderRail!==undefined){var Z=isNaN(ab.volume/100)?1:ab.volume/100;var aa=parseInt(K.volumeSliderRail.style.width.replace("px",""),10);var X=isNaN(Math.round(aa*Z))?0:Math.round(aa*Z);var ac=parseInt(K.volumeSliderRail.style.right.replace("px",""),10);var Y=j.skin.getSkinElement("controlbar","volumeSliderCapLeft")===undefined?0:j.skin.getSkinElement("controlbar","volumeSliderCapLeft").width;_css(K.volumeSliderProgress,{width:X,left:Y});if(K.volumeSliderCapLeft!==undefined){_css(K.volumeSliderCapLeft,{left:0});}}}function r(){I();H();p();o=true;C();T();R.style.opacity=A.idlehide?0:1;}r();return this;};})(jwplayer);(function(b){var a=["width","height","state","playlist","item","position","buffer","duration","volume","mute","fullscreen"];b.html5.controller=function(t,r,e,q){var w=t;var y=e;var d=q;var k=r;var A=true;var c=-1;var u=(y.config.debug!==undefined)&&(y.config.debug.toString().toLowerCase()=="console");var i=new b.html5.eventdispatcher(k.id,u);b.utils.extend(this,i);function m(D){i.sendEvent(D.type,D);}y.addGlobalListener(m);function p(){try{if(y.playlist[y.item].levels[0].file.length>0){if(A||y.state==b.api.events.state.IDLE){y.addEventListener(b.api.events.JWPLAYER_MEDIA_BUFFER_FULL,function(){y.getMedia().play();});y.addEventListener(b.api.events.JWPLAYER_MEDIA_TIME,function(E){if(E.position>=y.playlist[y.item].start&&c>=0){y.playlist[y.item].start=c;c=-1;}});if(y.config.repeat){y.addEventListener(b.api.events.JWPLAYER_MEDIA_COMPLETE,function(E){setTimeout(n,25);});}y.getMedia().load(y.playlist[y.item]);A=false;}else{if(y.state==b.api.events.state.PAUSED){y.getMedia().play();}}}return true;}catch(D){i.sendEvent(b.api.events.JWPLAYER_ERROR,D);}return false;}function B(){try{if(y.playlist[y.item].levels[0].file.length>0){switch(y.state){case b.api.events.state.PLAYING:case b.api.events.state.BUFFERING:y.getMedia().pause();break;}}return true;}catch(D){i.sendEvent(b.api.events.JWPLAYER_ERROR,D);}return false;}function x(D){try{if(y.playlist[y.item].levels[0].file.length>0){if(typeof D!="number"){D=parseFloat(D);}switch(y.state){case b.api.events.state.IDLE:if(c<0){c=y.playlist[y.item].start;y.playlist[y.item].start=D;}p();break;case b.api.events.state.PLAYING:case b.api.events.state.PAUSED:case b.api.events.state.BUFFERING:y.seek(D);break;}}return true;}catch(E){i.sendEvent(b.api.events.JWPLAYER_ERROR,E);}return false;}function j(){try{if(y.playlist[y.item].levels[0].file.length>0&&y.state!=b.api.events.state.IDLE){y.getMedia().stop();}return true;}catch(D){i.sendEvent(b.api.events.JWPLAYER_ERROR,D);}return false;}function g(){try{if(y.playlist[y.item].levels[0].file.length>0){if(y.config.shuffle){o(s());}else{if(y.item+1==y.playlist.length){o(0);}else{o(y.item+1);}}}if(y.state!=b.api.events.state.PLAYING&&y.state!=b.api.events.state.BUFFERING){p();}return true;}catch(D){i.sendEvent(b.api.events.JWPLAYER_ERROR,D);}return false;}function f(){try{if(y.playlist[y.item].levels[0].file.length>0){if(y.config.shuffle){o(s());}else{if(y.item===0){o(y.playlist.length-1);}else{o(y.item-1);}}}if(y.state!=b.api.events.state.PLAYING&&y.state!=b.api.events.state.BUFFERING){p();}return true;}catch(D){i.sendEvent(b.api.events.JWPLAYER_ERROR,D);}return false;}function s(){var D=null;if(y.playlist.length>1){while(D===null){D=Math.floor(Math.random()*y.playlist.length);if(D==y.item){D=null;}}}else{D=0;}return D;}function o(E){y.resetEventListeners();y.addGlobalListener(m);try{if(y.playlist[E].levels[0].file.length>0){var F=y.state;if(F!==b.api.events.state.IDLE){j();}y.item=E;A=true;y.setActiveMediaProvider(y.playlist[y.item]);i.sendEvent(b.api.events.JWPLAYER_PLAYLIST_ITEM,{index:E});if(F==b.api.events.state.PLAYING||F==b.api.events.state.BUFFERING||y.config.chromeless||e.config.autostart===true){p();}}return true;}catch(D){i.sendEvent(b.api.events.JWPLAYER_ERROR,D);}return false;}function z(E){try{switch(typeof(E)){case"number":y.getMedia().volume(E);break;case"string":y.getMedia().volume(parseInt(E,10));break;}return true;}catch(D){i.sendEvent(b.api.events.JWPLAYER_ERROR,D);}return false;}function l(E){try{if(typeof E=="undefined"){y.getMedia().mute(!y.mute);}else{if(E.toString().toLowerCase()=="true"){y.getMedia().mute(true);}else{y.getMedia().mute(false);}}return true;}catch(D){i.sendEvent(b.api.events.JWPLAYER_ERROR,D);}return false;}function h(E,D){try{y.width=E;y.height=D;d.resize(E,D);i.sendEvent(b.api.events.JWPLAYER_RESIZE,{width:y.width,height:y.height});return true;}catch(F){i.sendEvent(b.api.events.JWPLAYER_ERROR,F);}return false;}function v(E){try{if(typeof E=="undefined"){y.fullscreen=!y.fullscreen;d.fullscreen(!y.fullscreen);}else{if(E.toString().toLowerCase()=="true"){y.fullscreen=true;d.fullscreen(true);}else{y.fullscreen=false;d.fullscreen(false);}}i.sendEvent(b.api.events.JWPLAYER_RESIZE,{width:y.width,height:y.height});i.sendEvent(b.api.events.JWPLAYER_FULLSCREEN,{fullscreen:E});return true;}catch(D){i.sendEvent(b.api.events.JWPLAYER_ERROR,D);}return false;}function C(D){try{j();y.loadPlaylist(D);o(y.item);return true;}catch(E){i.sendEvent(b.api.events.JWPLAYER_ERROR,E);}return false;}b.html5.controller.repeatoptions={LIST:"LIST",ALWAYS:"ALWAYS",SINGLE:"SINGLE",NONE:"NONE"};function n(){y.resetEventListeners();y.addGlobalListener(m);switch(y.config.repeat.toUpperCase()){case b.html5.controller.repeatoptions.SINGLE:p();break;case b.html5.controller.repeatoptions.ALWAYS:if(y.item==y.playlist.length-1&&!y.config.shuffle){o(0);p();}else{g();}break;case b.html5.controller.repeatoptions.LIST:if(y.item==y.playlist.length-1&&!y.config.shuffle){o(0);}else{g();}break;}}this.play=p;this.pause=B;this.seek=x;this.stop=j;this.next=g;this.prev=f;this.item=o;this.setVolume=z;this.setMute=l;this.resize=h;this.setFullscreen=v;this.load=C;};})(jwplayer);(function(a){a.html5.defaultSkin=function(){this.text='<?xml version="1.0" ?><skin author="LongTail Video" name="Five" version="1.0"><settings><setting name="backcolor" value="0xFFFFFF"/><setting name="frontcolor" value="0x000000"/><setting name="lightcolor" value="0x000000"/><setting name="screencolor" value="0x000000"/></settings><components><component name="controlbar"><settings><setting name="margin" value="20"/><setting name="fontsize" value="11"/></settings><elements><element name="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFJJREFUeNrslLENwAAIwxLU/09j5AiOgD5hVQzNAVY8JK4qEfHMIKBnd2+BQlBINaiRtL/aV2rdzYBsM6CIONbI1NZENTr3RwdB2PlnJgJ6BRgA4hwu5Qg5iswAAAAASUVORK5CYII="/><element name="capLeft" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAIAAAC0rgCNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAD5JREFUeNosi8ENACAMAgnuv14H0Z8asI19XEjhOiKCMmibVgJTUt7V6fe9KXOtSQCfctJHu2q3/ot79hNgANc2OTz9uTCCAAAAAElFTkSuQmCC"/><element name="capRight" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAIAAAC0rgCNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAD5JREFUeNosi8ENACAMAgnuv14H0Z8asI19XEjhOiKCMmibVgJTUt7V6fe9KXOtSQCfctJHu2q3/ot79hNgANc2OTz9uTCCAAAAAElFTkSuQmCC"/><element name="divider" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAIAAAC0rgCNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAD5JREFUeNosi8ENACAMAgnuv14H0Z8asI19XEjhOiKCMmibVgJTUt7V6fe9KXOtSQCfctJHu2q3/ot79hNgANc2OTz9uTCCAAAAAElFTkSuQmCC"/><element name="playButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEhJREFUeNpiYqABYBo1dNRQ+hr6H4jvA3E8NS39j4SpZvh/LJig4YxEGEqy3kET+w+AOGFQRhTJhrEQkGcczfujhg4CQwECDADpTRWU/B3wHQAAAABJRU5ErkJggg=="/><element name="pauseButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAChJREFUeNpiYBgFo2DwA0YC8v/R1P4nRu+ooaOGUtnQUTAKhgIACDAAFCwQCfAJ4gwAAAAASUVORK5CYII="/><element name="prevButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEtJREFUeNpiYBgFo2Dog/9QDAPyQHweTYwiQ/2B+D0Wi8g2tB+JTdBQRiIMJVkvEy0iglhDF9Aq9uOpHVEwoE+NJDUKRsFgAAABBgDe2hqZcNNL0AAAAABJRU5ErkJggg=="/><element name="nextButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAElJREFUeNpiYBgFo2Dog/9AfB6I5dHE/lNqKAi/B2J/ahsKw/3EGMpIhKEk66WJoaR6fz61IyqemhEFSlL61ExSo2AUDAYAEGAAiG4hj+5t7M8AAAAASUVORK5CYII="/><element name="timeSliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADxJREFUeNpiYBgFo2AU0Bwwzluw+D8tLWARFhKiqQ9YuLg4aWsBGxs7bS1gZ6e5BWyjSX0UjIKhDgACDABlYQOGh5pYywAAAABJRU5ErkJggg=="/><element name="timeSliderBuffer" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAD1JREFUeNpiYBgFo2AU0Bww1jc0/aelBSz8/Pw09QELOzs7bS1gY2OjrQWsrKy09gHraFIfBaNgqAOAAAMAvy0DChXHsZMAAAAASUVORK5CYII="/><element name="timeSliderProgress" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAClJREFUeNpiYBgFo2AU0BwwAvF/WlrARGsfjFow8BaMglEwCugAAAIMAOHfAQunR+XzAAAAAElFTkSuQmCC"/><element name="timeSliderThumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAICAYAAAA870V8AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABZJREFUeNpiZICA/yCCiQEJUJcDEGAAY0gBD1/m7Q0AAAAASUVORK5CYII="/><element name="muteButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADFJREFUeNpiYBgFIw3MB+L/5Gj8j6yRiRTFyICJXHfTXyMLAXlGati4YDRFDj8AEGAABk8GSqqS4CoAAAAASUVORK5CYII="/><element name="unmuteButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAD1JREFUeNpiYBgFgxz8p7bm+cQa+h8LHy7GhEcjIz4bmAjYykiun/8j0fakGPIfTfPgiSr6aB4FVAcAAQYAWdwR1G1Wd2gAAAAASUVORK5CYII="/><element name="volumeSliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAYCAYAAADkgu3FAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAGpJREFUeNpi/P//PwM9ABMDncCoRYPfIqqDZcuW1UPp/6AUDcNM1DQYKtRAlaAj1mCSLSLXYIIWUctgDItoZfDA5aOoqKhGEANIM9LVR7SymGDQUctikuOIXkFNdhHEOFrDjlpEd4sAAgwAriRMub95fu8AAAAASUVORK5CYII="/><element name="volumeSliderProgress" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAYCAYAAADkgu3FAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFtJREFUeNpi/P//PwM9ABMDncCoRYPfIlqAeij9H5SiYZiqBqPTlFqE02BKLSLaYFItIttgQhZRzWB8FjENiuRJ7aAbsMQwYMl7wDIsWUUQ42gNO2oR3S0CCDAAKhKq6MLLn8oAAAAASUVORK5CYII="/><element name="fullscreenButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAE5JREFUeNpiYBgFo2DQA0YC8v/xqP1PjDlMRDrEgUgxkgHIlfZoriVGjmzLsLFHAW2D6D8eA/9Tw7L/BAwgJE90PvhPpNgoGAVDEQAEGAAMdhTyXcPKcAAAAABJRU5ErkJggg=="/><element name="normalscreenButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEZJREFUeNpiYBgFo2DIg/9UUkOUAf8JiFFsyX88fJyAkcQgYMQjNkzBoAgiezyRbE+tFGSPxQJ7auYBmma0UTAKBhgABBgAJAEY6zON61sAAAAASUVORK5CYII="/></elements></component><component name="display"><elements><element name="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEpJREFUeNrszwENADAIA7DhX8ENoBMZ5KR10EryckCJiIiIiIiIiIiIiIiIiIiIiIh8GmkRERERERERERERERERERERERGRHSPAAPlXH1phYpYaAAAAAElFTkSuQmCC"/><element name="playIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAALdJREFUeNrs18ENgjAYhmFouDOCcQJGcARHgE10BDcgTOIosAGwQOuPwaQeuFRi2p/3Sb6EC5L3QCxZBgAAAOCorLW1zMn65TrlkH4NcV7QNcUQt7Gn7KIhxA+qNIR81spOGkL8oFJDyLJRdosqKDDkK+iX5+d7huzwM40xptMQMkjIOeRGo+VkEVvIPfTGIpKASfYIfT9iCHkHrBEzf4gcUQ56aEzuGK/mw0rHpy4AAACAf3kJMACBxjAQNRckhwAAAABJRU5ErkJggg=="/><element name="muteIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHJJREFUeNrs1jEOgCAMBVAg7t5/8qaoIy4uoobyXsLCxA+0NCUAAADGUWvdQoQ41x4ixNBB2hBvBskdD3w5ZCkl3+33VqI0kjBBlh9rp+uTcyOP33TnolfsU85XX3yIRpQph8ZQY3wTZtU5AACASA4BBgDHoVuY1/fvOQAAAABJRU5ErkJggg=="/><element name="errorIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAWlJREFUeNrsl+1twjAQhsHq/7BBYQLYIBmBDcoGMAIjtBPQTcII2SDtBDBBwrU6pGsUO7YbO470PtKJkz9iH++d4ywWAAAAAABgljRNsyWr2bZzDuJG1rLdZhcMbTjrBCGDyUKsqQLFciJb9bSvuG/WagRVRUVUI6gqy5HVeKWfSgRyJruKIU//TrZTSn2nmlaXThrloi/v9F2STC1W4+Aw5cBzkquRc09bofFNc6YLxEON0VUZS5FPTftO49vMjRsIF3RhOGr7/D/pJw+FKU+q0vDyq8W42jCunDqI3LC5XxNj2wHLU1XjaRnb0Lhykhqhhd8MtSF5J9tbjCv4mXGvKJz/65FF/qJryyaaIvzP2QRxZTX2nTuXjvV/VPFSwyLnW7mpH99yTh1FEVro6JBSd40/pMrRdV8vPtcKl28T2pT8TnFZ4yNosct3Q0io6JfBiz1FlGdqVQH3VHnepAEAAAAAADDzEGAAcTwB10jWgxcAAAAASUVORK5CYII="/><element name="bufferIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAuhJREFUeNrsWr9rU1EUznuNGqvFQh1ULOhiBx0KDtIuioO4pJuik3FxFfUPaAV1FTdx0Q5d2g4FFxehTnEpZHFoBy20tCIWtGq0TZP4HfkeHB5N8m6Sl/sa74XDybvv3vvOd8/Pe4lXrVZT3dD8VJc0B8QBcUAcEAfESktHGeR5XtMfqFQq/f92zPe/NbtGlKTdCY30kuxrpMGO94BlQCXs+rbh3ONgA6BlzP1p20d80gEI5hmA2A92Qua1Q2PtAFISM+bvjMG8U+Q7oA3rQGASwrYCU6WpNdLGYbA+Pq5jjXIiwi8EEa2UDbQSaKOIuV+SlkcCrfjY8XTI9EpKGwP0C2kru2hLtHqa4zoXtZRWyvi4CLwv9Opr6Hkn6A9HKgEANsQ1iqC3Ub/vRUk2JgmRkatK36kVrnt0qObunwUdUUMXMWYpakJsO5Am8tAw2GBIgwWA+G2S2dMpiw0gDioQRQJoKhRb1QiDwlHZUABYbaXWsm5ae6loTE4ZDxN4CZar8foVzOJ2iyZ2kWF3t7YIevffaMT5yJ70kQb2fQ1sE5SHr2wazs2wgMxgbsEKEAgxAvZUJbQLBGTSBMgNrncJbA6AljtS/eKDJ0Ez+DmrQEzXS2h1Ck25kAg0IZcUOaydCy4sYnN2fOA+2AP16gNoHALlQ+fwH7XO4CxLenUpgj4xr6ugY2roPMbMx+Xs18m/E8CVEIhxsNeg83XWOAN6grG3lGbk8uE5fr4B/WH3cJw+co/l9nTYsSGYCJ/lY5/qv0thn6nrIWmjeJcPSnWOeY++AkF8tpJHIMAUs/MaBBpj3znZfQo5psY+ZrG4gv5HickjEOymKjEeRpgyST6IuZcTcWbnjcgdPi5ghxciRKsl1lDSsgwA1i8fssonJgzmTSqfGUkCENndNdAL7PS6QQ7ZYISTo+1qq0LEWjTWcvY4isa4z+yfQB+7ooyHVg5RI7/i1Ijn/vnggDggDogD4oC00P4KMACd/juEHOrS4AAAAABJRU5ErkJggg=="/></elements></component><component name="dock"><elements><element name="button" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFBJREFUeNrs0cEJACAQA8Eofu0fu/W6EM5ZSAFDRpKTBs00CQQEBAQEBAQEBAQEBAQEBATkK8iqbY+AgICAgICAgICAgICAgICAgIC86QowAG5PAQzEJ0lKAAAAAElFTkSuQmCC"/></elements></component><component name="playlist"><elements><element name="item" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAIAAAC1nk4lAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHhJREFUeNrs2NEJwCAMBcBYuv/CFuIE9VN47WWCR7iocXR3pdWdGPqqwIoMjYfQeAiNh9B4JHc6MHQVHnjggQceeOCBBx77TifyeOY0iHi8DqIdEY8dD5cL094eePzINB5CO/LwcOTptNB4CP25L4TIbZzpU7UEGAA5wz1uF5rF9AAAAABJRU5ErkJggg=="/><element name="sliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAA8CAIAAADpFA0BAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADhJREFUeNrsy6ENACAMAMHClp2wYxZLAg5Fcu9e3OjuOKqqfTMzbs14CIZhGIZhGIZhGP4VLwEGAK/BBnVFpB0oAAAAAElFTkSuQmCC"/><element name="sliderThumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAA8CAIAAADpFA0BAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADRJREFUeNrsy7ENACAMBLE8++8caFFKKiRffU53112SGs3ttOohGIZhGIZhGIZh+Fe8BRgAiaUGde6NOSEAAAAASUVORK5CYII="/></elements></component></components></skin>';this.xml=null;if(window.DOMParser){parser=new DOMParser();this.xml=parser.parseFromString(this.text,"text/xml");}else{this.xml=new ActiveXObject("Microsoft.XMLDOM");this.xml.async="false";this.xml.loadXML(this.text);}return this;};})(jwplayer);(function(a){_css=a.utils.css;_hide=function(b){_css(b,{display:"none"});};_show=function(b){_css(b,{display:"block"});};a.html5.display=function(o,z){var r={icons:true};var j=a.utils.extend({},r,z);var w=o;var d={};var f;var A;var k;var x;var y;var p;var i;var n=w.skin.getComponentSettings("display").bufferrotation===undefined?15:parseInt(w.skin.getComponentSettings("display").bufferrotation,10);var e=w.skin.getComponentSettings("display").bufferinterval===undefined?100:parseInt(w.skin.getComponentSettings("display").bufferinterval,10);var c={display:{style:{cursor:"pointer",top:0,left:0,overflow:"hidden"},click:u},display_icon:{style:{cursor:"pointer",position:"absolute",top:((w.skin.getSkinElement("display","background").height-w.skin.getSkinElement("display","playIcon").height)/2),left:((w.skin.getSkinElement("display","background").width-w.skin.getSkinElement("display","playIcon").width)/2),border:0,margin:0,padding:0,zIndex:3}},display_iconBackground:{style:{cursor:"pointer",position:"absolute",top:((A-w.skin.getSkinElement("display","background").height)/2),left:((f-w.skin.getSkinElement("display","background").width)/2),border:0,backgroundImage:(["url(",w.skin.getSkinElement("display","background").src,")"]).join(""),width:w.skin.getSkinElement("display","background").width,height:w.skin.getSkinElement("display","background").height,margin:0,padding:0,zIndex:2}},display_image:{style:{display:"none",width:f,height:A,position:"absolute",cursor:"pointer",left:0,top:0,margin:0,padding:0,textDecoration:"none",zIndex:1}},display_text:{style:{zIndex:4,position:"relative",opacity:0.8,backgroundColor:parseInt("000000",16),color:parseInt("ffffff",16),textAlign:"center",fontFamily:"Arial,sans-serif",padding:"0 5px",fontSize:14}}};w.jwAddEventListener(a.api.events.JWPLAYER_PLAYER_STATE,l);w.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_MUTE,l);w.jwAddEventListener(a.api.events.JWPLAYER_PLAYLIST_ITEM,l);w.jwAddEventListener(a.api.events.JWPLAYER_ERROR,t);B();function B(){d.display=s("div","display");d.display_text=s("div","display_text");d.display.appendChild(d.display_text);d.display_image=s("img","display_image");d.display_image.onerror=function(C){_hide(d.display_image);};d.display_image.onload=m;d.display_icon=s("div","display_icon");d.display_iconBackground=s("div","display_iconBackground");d.display.appendChild(d.display_image);d.display_iconBackground.appendChild(d.display_icon);d.display.appendChild(d.display_iconBackground);b();}this.getDisplayElement=function(){return d.display;};this.resize=function(D,C){f=D;A=C;_css(d.display,{width:D,height:C});_css(d.display_text,{width:(D-10),top:((A-d.display_text.getBoundingClientRect().height)/2)});_css(d.display_iconBackground,{top:((A-w.skin.getSkinElement("display","background").height)/2),left:((f-w.skin.getSkinElement("display","background").width)/2)});h();l({});};this.show=function(){_show(d.display_icon);_show(d.display_iconBackground);};this.hide=function(){q();};function m(C){k=d.display_image.naturalWidth;x=d.display_image.naturalHeight;h();}function h(){a.utils.stretch(w.jwGetStretching(),d.display_image,f,A,k,x);}function s(C,E){var D=document.createElement(C);D.id=w.id+"_jwplayer_"+E;_css(D,c[E].style);return D;}function b(){for(var C in d){if(c[C].click!==undefined){d[C].onclick=c[C].click;}}}function u(C){if(typeof C.preventDefault!="undefined"){C.preventDefault();}else{C.returnValue=false;}if(w.jwGetState()!=a.api.events.state.PLAYING){w.jwPlay();}else{w.jwPause();}}function g(C){if(i||!j.icons){q();return;}_show(d.display_iconBackground);d.display_icon.style.backgroundImage=(["url(",w.skin.getSkinElement("display",C).src,")"]).join("");_css(d.display_icon,{display:"block",width:w.skin.getSkinElement("display",C).width,height:w.skin.getSkinElement("display",C).height,top:(w.skin.getSkinElement("display","background").height-w.skin.getSkinElement("display",C).height)/2,left:(w.skin.getSkinElement("display","background").width-w.skin.getSkinElement("display",C).width)/2});if(w.skin.getSkinElement("display",C+"Over")!==undefined){d.display_icon.onmouseover=function(D){d.display_icon.style.backgroundImage=["url(",w.skin.getSkinElement("display",C+"Over").src,")"].join("");};d.display_icon.onmouseout=function(D){d.display_icon.style.backgroundImage=["url(",w.skin.getSkinElement("display",C).src,")"].join("");};}else{d.display_icon.onmouseover=null;d.display_icon.onmouseout=null;}}function q(){_hide(d.display_icon);_hide(d.display_iconBackground);}function t(C){i=true;q();d.display_text.innerHTML=C.error;_show(d.display_text);d.display_text.style.top=((A-d.display_text.getBoundingClientRect().height)/2)+"px";}function v(){var C=d.display_image;d.display_image=s("img","display_image");d.display_image.onerror=function(D){_hide(d.display_image);};d.display_image.onload=m;d.display.replaceChild(d.display_image,C);}function l(C){if((C.type==a.api.events.JWPLAYER_PLAYER_STATE||C.type==a.api.events.JWPLAYER_PLAYLIST_ITEM)&&i){i=false;_hide(d.display_text);}if(p!==undefined){clearInterval(p);p=null;a.utils.animations.rotate(d.display_icon,0);}switch(w.jwGetState()){case a.api.events.state.BUFFERING:g("bufferIcon");y=0;p=setInterval(function(){y+=n;a.utils.animations.rotate(d.display_icon,y%360);},e);g("bufferIcon");break;case a.api.events.state.PAUSED:if(w.jwGetPlaylist()[w.jwGetItem()].provider!="sound"){_css(d.display_image,{background:"transparent no-repeat center center"});}g("playIcon");break;case a.api.events.state.IDLE:if(w.jwGetPlaylist()[w.jwGetItem()].image){_css(d.display_image,{display:"block"});d.display_image.src=a.utils.getAbsolutePath(w.jwGetPlaylist()[w.jwGetItem()].image);}else{v();}g("playIcon");break;default:if(w.jwGetMute()&&j.showmute){if(w.jwGetPlaylist()[w.jwGetItem()].provider!="sound"){v();}g("muteIcon");}else{if(w.jwGetPlaylist()[w.jwGetItem()].provider!="sound"){v();}_hide(d.display_iconBackground);_hide(d.display_icon);}break;}}return this;};})(jwplayer);(function(a){_css=a.utils.css;a.html5.dock=function(g,c){function f(){return{align:a.html5.view.positions.RIGHT};}var k=a.utils.extend({},f(),c);if(k.align=="FALSE"){return;}var h={};var b=[];var d;var e;var j=document.createElement("div");j.id=g.id+"_jwplayer_dock";this.getDisplayElement=function(){return j;};this.setButton=function(o,l,m,n){if(!l&&h[o]){a.utils.arrays.remove(b,o);j.removeChild(h[o].div);delete h[o];}else{if(l){if(!h[o]){h[o]={};}h[o].handler=l;h[o].outGraphic=m;h[o].overGraphic=n;if(!h[o].div){b.push(o);h[o].div=document.createElement("div");h[o].div.style.position="relative";j.appendChild(h[o].div);h[o].div.appendChild(document.createElement("img"));h[o].div.childNodes[0].style.position="absolute";h[o].div.childNodes[0].style.left=0;h[o].div.childNodes[0].style.top=0;h[o].div.childNodes[0].style.zIndex=10;h[o].div.childNodes[0].style.cursor="pointer";h[o].div.appendChild(document.createElement("img"));h[o].div.childNodes[1].style.position="absolute";h[o].div.childNodes[1].style.left=0;h[o].div.childNodes[1].style.top=0;if(g.skin.getSkinElement("dock","button")){h[o].div.childNodes[1].src=g.skin.getSkinElement("dock","button").src;}h[o].div.childNodes[1].style.zIndex=9;h[o].div.childNodes[1].style.cursor="pointer";h[o].div.onmouseover=function(){if(h[o].overGraphic){h[o].div.childNodes[0].src=h[o].overGraphic;}if(g.skin.getSkinElement("dock","buttonOver")){h[o].div.childNodes[1].src=g.skin.getSkinElement("dock","buttonOver").src;}};h[o].div.onmouseout=function(){if(h[o].outGraphic){h[o].div.childNodes[0].src=h[o].outGraphic;}if(g.skin.getSkinElement("dock","button")){h[o].div.childNodes[1].src=g.skin.getSkinElement("dock","button").src;}};if(h[o].overGraphic){h[o].div.childNodes[0].src=h[o].overGraphic;}if(h[o].outGraphic){h[o].div.childNodes[0].src=h[o].outGraphic;}if(g.skin.getSkinElement("dock","button")){h[o].div.childNodes[1].src=g.skin.getSkinElement("dock","button").src;}}if(l){h[o].div.onclick=function(p){p.preventDefault();a(g.id).callback(o);if(h[o].overGraphic){h[o].div.childNodes[0].src=h[o].overGraphic;}if(g.skin.getSkinElement("dock","button")){h[o].div.childNodes[1].src=g.skin.getSkinElement("dock","button").src;}};}}}i(d,e);};function i(n,l){d=n;e=l;if(b.length>0){var p=10;var r=n-g.skin.getSkinElement("dock","button").width-p;var o=p;var q=-1;if(k.align==a.html5.view.positions.LEFT){q=1;r=p;}for(var m=0;m<b.length;m++){var s=Math.floor(o/l);if((o+g.skin.getSkinElement("dock","button").height+p)>((s+1)*l)){o=((s+1)*l)+p;s=Math.floor(o/l);}h[b[m]].div.style.top=(o%l)+"px";h[b[m]].div.style.left=(r+(g.skin.getSkinElement("dock","button").width+p)*s*q)+"px";o+=g.skin.getSkinElement("dock","button").height+p;}}}this.resize=i;this.show=function(){_css(j,{display:"block"});};this.hide=function(){_css(j,{display:"none"});};return this;};})(jwplayer);(function(a){a.html5.eventdispatcher=function(d,b){var c=new a.events.eventdispatcher(b);a.utils.extend(this,c);this.sendEvent=function(e,f){if(f===undefined){f={};}a.utils.extend(f,{id:d,version:a.version,type:e});c.sendEvent(e,f);};};})(jwplayer);(function(a){var b={prefix:"http://l.longtailvideo.com/html5/",file:"logo.png",link:"http://www.longtailvideo.com/players/jw-flv-player/",margin:8,out:0.5,over:1,timeout:3,hide:true,position:"bottom-left"};_css=a.utils.css;a.html5.logo=function(l,m){var r=l;var n;var i;var c;j();function j(){p();d();f();}function p(){if(b.prefix){var t=l.version.split(/\W/).splice(0,2).join("/");if(b.prefix.indexOf(t)<0){b.prefix+=t+"/";}}if(m.position==a.html5.view.positions.OVER){m.position=b.position;}i=a.utils.extend({},b);}function d(){c=document.createElement("img");c.id=r.id+"_jwplayer_logo";c.style.display="none";c.onload=function(t){_css(c,q());r.jwAddEventListener(a.api.events.JWPLAYER_PLAYER_STATE,s);e();};if(!i.file){return;}if(i.file.indexOf("http://")===0){c.src=i.file;}else{c.src=i.prefix+i.file;}}if(!i.file){return;}this.resize=function(u,t){};this.getDisplayElement=function(){return c;};function f(){if(i.link){c.onmouseover=h;c.onmouseout=e;c.onclick=o;}else{this.mouseEnabled=false;}}function o(t){if(typeof t!="undefined"){t.stopPropagation();}r.jwPause();r.jwSetFullscreen(false);if(i.link){window.open(i.link,"_blank");}return;}function e(t){if(i.link){c.style.opacity=i.out;}return;}function h(t){if(i.hide){c.style.opacity=i.over;}return;}function q(){var v={textDecoration:"none",position:"absolute",cursor:"pointer"};v.display=i.hide?"none":"block";var u=i.position.toLowerCase().split("-");for(var t in u){v[u[t]]=i.margin;}return v;}function k(){if(i.hide){c.style.display="block";c.style.opacity=0;a.utils.fadeTo(c,i.out,0.1,parseFloat(c.style.opacity));n=setTimeout(function(){g();},i.timeout*1000);}}function g(){if(i.hide){a.utils.fadeTo(c,0,0.1,parseFloat(c.style.opacity));}}function s(t){if(t.newstate==a.api.events.state.BUFFERING){clearTimeout(n);k();}}return this;};})(jwplayer);(function(a){var c={ended:a.api.events.state.IDLE,playing:a.api.events.state.PLAYING,pause:a.api.events.state.PAUSED,buffering:a.api.events.state.BUFFERING};var b=a.utils.css;a.html5.mediavideo=function(f,F){var J={abort:t,canplay:m,canplaythrough:m,durationchange:q,emptied:t,ended:m,error:l,loadeddata:q,loadedmetadata:q,loadstart:m,pause:m,play:M,playing:m,progress:B,ratechange:t,seeked:m,seeking:m,stalled:m,suspend:m,timeupdate:M,volumechange:t,waiting:m,canshowcurrentframe:t,dataunavailable:t,empty:t,load:e,loadedfirstframe:t};var K=new a.html5.eventdispatcher();a.utils.extend(this,K);var h=f;var x=F;var G;var I;var d=a.api.events.state.IDLE;var C=null;var n;var g=0;var A=false;var r=false;var O;var N;var i=[];var P;var E=false;function v(){return d;}function e(Q){}function t(Q){}function m(Q){if(c[Q.type]){s(c[Q.type]);}}function s(Q){if(E){return;}if(n){Q=a.api.events.state.IDLE;}if(Q==a.api.events.state.PAUSED&&d==a.api.events.state.IDLE){return;}if(Q==a.api.events.state.PLAYING&&d==a.api.events.state.IDLE){s(a.api.events.state.BUFFERING);K.sendEvent(a.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:h.buffer});z();return;}if(d!=Q){var R=d;h.state=Q;d=Q;var S=false;if(Q==a.api.events.state.IDLE){p();if(h.position>=h.duration&&(h.position>0||h.duration>0)){S=true;}if(x.style.display!="none"&&!h.config.chromeless){x.style.display="none";}}K.sendEvent(a.api.events.JWPLAYER_PLAYER_STATE,{oldstate:R,newstate:Q});if(S){K.sendEvent(a.api.events.JWPLAYER_MEDIA_COMPLETE);}}n=false;}function q(Q){var R={height:Q.target.videoHeight,width:Q.target.videoWidth,duration:Math.round(Q.target.duration*10)/10};if(h.duration===0||isNaN(h.duration)){h.duration=Math.round(Q.target.duration*10)/10;}h.playlist[h.item]=a.utils.extend(h.playlist[h.item],R);K.sendEvent(a.api.events.JWPLAYER_MEDIA_META,{metadata:R});}function M(R){if(n){return;}if(R!==undefined&&R.target!==undefined){if(h.duration===0||isNaN(h.duration)){h.duration=Math.round(R.target.duration*10)/10;}if(!A&&x.readyState>0){s(a.api.events.state.PLAYING);}if(d==a.api.events.state.PLAYING){if(!A&&x.readyState>0){A=true;try{x.currentTime=h.playlist[h.item].start;}catch(Q){}x.volume=h.volume/100;x.muted=h.mute;}h.position=Math.round(R.target.currentTime*10)/10;K.sendEvent(a.api.events.JWPLAYER_MEDIA_TIME,{position:R.target.currentTime,duration:R.target.duration});}}B(R);}function z(){if(G===false&&d==a.api.events.state.BUFFERING){K.sendEvent(a.api.events.JWPLAYER_MEDIA_BUFFER_FULL);G=true;}}function H(){var Q=(i[i.length-1]-i[0])/i.length;P=setTimeout(function(){if(!I){B({lengthComputable:true,loaded:1,total:1});}},Q*10);}function B(S){var R,Q;if(S!==undefined&&S.lengthComputable&&S.total){o();R=S.loaded/S.total*100;Q=R/100*(h.duration-x.currentTime);if(50<R&&!I){clearTimeout(P);H();}}else{if((x.buffered!==undefined)&&(x.buffered.length>0)){maxBufferIndex=0;if(maxBufferIndex>=0){R=x.buffered.end(maxBufferIndex)/x.duration*100;Q=x.buffered.end(maxBufferIndex)-x.currentTime;}}}z();if(!I){if(R==100&&I===false){I=true;}if(R!==null&&(R>h.buffer)){h.buffer=Math.round(R);K.sendEvent(a.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:Math.round(R)});}}}function w(){if(C===null){C=setInterval(function(){M();},100);}}function p(){clearInterval(C);C=null;}function l(S){var R="There was an error: ";if((S.target.error&&S.target.tagName.toLowerCase()=="video")||S.target.parentNode.error&&S.target.parentNode.tagName.toLowerCase()=="video"){var Q=S.target.error===undefined?S.target.parentNode.error:S.target.error;switch(Q.code){case Q.MEDIA_ERR_ABORTED:R="You aborted the video playback: ";break;case Q.MEDIA_ERR_NETWORK:R="A network error caused the video download to fail part-way: ";break;case Q.MEDIA_ERR_DECODE:R="The video playback was aborted due to a corruption problem or because the video used features your browser did not support: ";break;case Q.MEDIA_ERR_SRC_NOT_SUPPORTED:R="The video could not be loaded, either because the server or network failed or because the format is not supported: ";break;default:R="An unknown error occurred: ";break;}}else{if(S.target.tagName.toLowerCase()=="source"){N--;if(N>0){return;}R="The video could not be loaded, either because the server or network failed or because the format is not supported: ";}else{a.utils.log("Erroneous error received. Continuing...");return;}}u();R+=j();E=true;K.sendEvent(a.api.events.JWPLAYER_ERROR,{error:R});return;}function j(){var S="";for(var R in O.levels){var Q=O.levels[R];var T=x.ownerDocument.createElement("source");S+=a.utils.getAbsolutePath(Q.file);if(R<(O.levels.length-1)){S+=", ";}}return S;}this.getDisplayElement=function(){return x;};this.play=function(){if(d!=a.api.events.state.PLAYING){if(x.style.display!="block"){x.style.display="block";}x.play();w();if(G){s(a.api.events.state.PLAYING);}}};this.pause=function(){x.pause();s(a.api.events.state.PAUSED);};this.seek=function(Q){if(!(h.duration===0||isNaN(h.duration))&&!(h.position===0||isNaN(h.position))){x.currentTime=Q;x.play();}};function u(){x.pause();x.removeAttribute("src");var Q=x.getElementsByTagName("source");for(var R=0;R<Q.length;R++){x.removeChild(Q[R]);}if(typeof x.load=="function"){x.load();}p();h.position=0;n=true;s(a.api.events.state.IDLE);}this.stop=u;this.volume=function(Q){x.volume=Q/100;h.volume=Q;K.sendEvent(a.api.events.JWPLAYER_MEDIA_VOLUME,{volume:Math.round(Q)});};this.mute=function(Q){x.muted=Q;h.mute=Q;K.sendEvent(a.api.events.JWPLAYER_MEDIA_MUTE,{mute:Q});};this.resize=function(R,Q){if(false){b(x,{width:R,height:Q});}K.sendEvent(a.api.events.JWPLAYER_MEDIA_RESIZE,{fullscreen:h.fullscreen,width:R,hieght:Q});};this.fullscreen=function(Q){if(Q===true){this.resize("100%","100%");}else{this.resize(h.config.width,h.config.height);}};this.load=function(Q){L(Q);K.sendEvent(a.api.events.JWPLAYER_MEDIA_LOADED);G=false;I=false;A=false;if(!h.config.chromeless&&!r){i=[];o();s(a.api.events.state.BUFFERING);setTimeout(function(){M();},25);}};function o(){var Q=new Date().getTime();i.push(Q);}this.hasChrome=function(){return r;};function L(Q){switch(Q.provider){case"youtube":k(Q);break;default:D(Q,document.createElement("video"));break;}}function D(X,V){h.duration=X.duration;r=false;O=X;V.preload="none";V.setAttribute("x-webkit-airplay","allow");E=false;N=0;for(var R=0;R<X.levels.length;R++){var Q=X.levels[R];var S;var W=a.utils.extension(Q.file);if(Q.type===undefined){if(a.utils.extensionmap[W]!==undefined&&a.utils.extensionmap[W].html5!==undefined){S=a.utils.extensionmap[W].html5;}}else{S=Q.type;}if(!S||V.canPlayType(S)||(a.utils.isLegacyAndroid()&&W.match(/m4v|mp4/))){var U=x.ownerDocument.createElement("source");U.src=a.utils.getAbsolutePath(Q.file);if(S&&!a.utils.isLegacyAndroid()){U.type=S;}N++;V.appendChild(U);}}if(N===0){E=true;K.sendEvent(a.api.events.JWPLAYER_ERROR,{error:"The media could not be loaded because the format is not supported by your browser: "+j()});}if(h.config.chromeless){V.poster=a.utils.getAbsolutePath(X.image);V.controls="controls";}V.style.top=x.style.top;V.style.left=x.style.left;V.style.width=x.style.width;V.style.height=x.style.height;V.style.zIndex=x.style.zIndex;V.onload=e;V.volume=0;x.parentNode.replaceChild(V,x);V.id=x.id;x=V;for(var T in J){x.addEventListener(T,function(Y){if(Y.target.parentNode!==null){J[Y.type](Y);}},true);}}function k(Q){var Y=Q.levels[0].file;var T=document.createElement("object");Y=["http://www.youtube.com/v/",y(Y),"&amp;hl=en_US&amp;fs=1&autoplay=1"].join("");var W={movie:Y,allowFullScreen:"true",allowscriptaccess:"always"};for(var S in W){var R=document.createElement("param");R.name=S;R.value=W[S];T.appendChild(R);}var X=document.createElement("embed");var U={src:Y,type:"application/x-shockwave-flash",allowscriptaccess:"always",allowfullscreen:"true",width:document.getElementById(f.id).style.width,height:document.getElementById(f.id).style.height};for(var V in U){X[V]=U[V];}T.appendChild(X);T.style.position=x.style.position;T.style.top=x.style.top;T.style.left=x.style.left;T.style.width=document.getElementById(f.id).style.width;T.style.height=document.getElementById(f.id).style.height;T.style.zIndex=2147483000;x.parentNode.replaceChild(T,x);T.id=x.id;x=T;r=true;}function y(R){var Q=R.split(/\?|\#\!/);var T="";for(var S=0;S<Q.length;S++){if(Q[S].substr(0,2)=="v="){T=Q[S].substr(2);}}if(T==""){if(R.indexOf("/v/")>=0){T=R.substr(R.indexOf("/v/")+3);}else{if(R.indexOf("youtu.be")>=0){T=R.substr(R.indexOf("youtu.be/")+9);}else{T=R;}}}if(T.indexOf("?")>-1){T=T.substr(0,T.indexOf("?"));}if(T.indexOf("&")>-1){T=T.substr(0,T.indexOf("&"));}return T;}this.embed=L;return this;};})(jwplayer);(function(jwplayer){var _configurableStateVariables=["width","height","start","duration","volume","mute","fullscreen","item","plugins","stretching"];jwplayer.html5.model=function(api,container,options){var _api=api;var _container=container;var _model={id:_container.id,playlist:[],state:jwplayer.api.events.state.IDLE,position:0,buffer:0,config:{width:480,height:320,item:-1,skin:undefined,file:undefined,image:undefined,start:0,duration:0,bufferlength:5,volume:90,mute:false,fullscreen:false,repeat:"none",stretching:jwplayer.utils.stretching.UNIFORM,autostart:false,debug:undefined,screencolor:undefined}};var _media;var _eventDispatcher=new jwplayer.html5.eventdispatcher();var _components=["display","logo","controlbar","dock"];jwplayer.utils.extend(_model,_eventDispatcher);for(var option in options){if(typeof options[option]=="string"){var type=/color$/.test(option)?"color":null;options[option]=jwplayer.utils.typechecker(options[option],type);}var config=_model.config;var path=option.split(".");for(var edge in path){if(edge==path.length-1){config[path[edge]]=options[option];}else{if(config[path[edge]]===undefined){config[path[edge]]={};}config=config[path[edge]];}}}for(var index in _configurableStateVariables){var configurableStateVariable=_configurableStateVariables[index];_model[configurableStateVariable]=_model.config[configurableStateVariable];}var pluginorder=_components.concat([]);if(_model.plugins!==undefined){if(typeof _model.plugins=="string"){var userplugins=_model.plugins.split(",");for(var userplugin in userplugins){if(typeof userplugins[userplugin]=="string"){pluginorder.push(userplugins[userplugin].replace(/^\s+|\s+$/g,""));}}}}if(typeof _model.config.chromeless=="undefined"&&jwplayer.utils.isIOS()){_model.config.chromeless=true;}if(_model.config.chromeless){pluginorder=["logo"];if(_model.config.repeat===undefined||_model.config.repeat=="none"){_model.config.repeat="list";}}_model.plugins={order:pluginorder,config:{},object:{}};if(typeof _model.config.components!="undefined"){for(var component in _model.config.components){_model.plugins.config[component]=_model.config.components[component];}}for(var pluginIndex in _model.plugins.order){var pluginName=_model.plugins.order[pluginIndex];var pluginConfig=_model.config[pluginName]===undefined?{}:_model.config[pluginName];_model.plugins.config[pluginName]=_model.plugins.config[pluginName]===undefined?pluginConfig:jwplayer.utils.extend(_model.plugins.config[pluginName],pluginConfig);if(typeof _model.plugins.config[pluginName].position=="undefined"){_model.plugins.config[pluginName].position=jwplayer.html5.view.positions.OVER;}else{_model.plugins.config[pluginName].position=_model.plugins.config[pluginName].position.toString().toUpperCase();}}if(typeof _model.plugins.config.dock!="undefined"){if(typeof _model.plugins.config.dock!="object"){var position=_model.plugins.config.dock.toString().toUpperCase();_model.plugins.config.dock={position:position};}if(typeof _model.plugins.config.dock.position!="undefined"){_model.plugins.config.dock.align=_model.plugins.config.dock.position;_model.plugins.config.dock.position=jwplayer.html5.view.positions.OVER;}}_model.loadPlaylist=function(arg,ready){var input;if(typeof arg=="string"){try{input=eval(arg);}catch(err){input=arg;}}else{input=arg;}var config;switch(jwplayer.utils.typeOf(input)){case"object":config=input;break;case"array":config={playlist:input};break;default:config={file:input};break;}_model.playlist=new jwplayer.html5.playlist(config);if(_model.config.shuffle){_model.item=_getShuffleItem();}else{if(_model.config.item>=_model.playlist.length){_model.config.item=_model.playlist.length-1;}else{if(_model.config.item<0){_model.config.item=0;}}_model.item=_model.config.item;}if(!ready){_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_PLAYLIST_LOADED,{playlist:_model.playlist});}_model.setActiveMediaProvider(_model.playlist[_model.item]);};function _getShuffleItem(){var result=null;if(_model.playlist.length>1){while(result===null){result=Math.floor(Math.random()*_model.playlist.length);if(result==_model.item){result=null;}}}else{result=0;}return result;}function forward(evt){if(evt.type==jwplayer.api.events.JWPLAYER_MEDIA_LOADED){_container=_media.getDisplayElement();}_eventDispatcher.sendEvent(evt.type,evt);}_model.setActiveMediaProvider=function(playlistItem){if(_media!==undefined){_media.resetEventListeners();}_media=new jwplayer.html5.mediavideo(_model,_container);_media.addGlobalListener(forward);if(_model.config.chromeless){_media.load(playlistItem);}return true;};_model.getMedia=function(){return _media;};_model.seek=function(pos){_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_MEDIA_SEEK,{position:_model.position,offset:pos});return _media.seek(pos);};_model.setupPlugins=function(){for(var plugin in _model.plugins.order){try{var pluginName=_model.plugins.order[plugin];if(jwplayer.html5[pluginName]!==undefined){_model.plugins.object[pluginName]=new jwplayer.html5[pluginName](_api,_model.plugins.config[pluginName]);}else{_model.plugins.order.splice(plugin,plugin+1);}}catch(err){jwplayer.utils.log("Could not setup "+pluginName);}}};return _model;};})(jwplayer);(function(a){a.html5.playlist=function(b){var d=[];if(b.playlist&&b.playlist instanceof Array&&b.playlist.length>0){for(var c in b.playlist){if(!isNaN(parseInt(c))){d.push(new a.html5.playlistitem(b.playlist[c]));}}}else{d.push(new a.html5.playlistitem(b));}return d;};})(jwplayer);(function(b){b.html5.playlistitem=function(d){var e={author:"",date:"",description:"",image:"",link:"",mediaid:"",tags:"",title:"",provider:"",file:"",streamer:"",duration:-1,start:0,currentLevel:-1,levels:[]};var c=b.utils.extend({},e,d);if(c.type){c.provider=c.type;delete c.type;}if(c.levels.length===0){c.levels[0]=new b.html5.playlistitemlevel(c);}if(!c.provider){c.provider=a(c.levels[0]);}else{c.provider=c.provider.toLowerCase();}return c;};function a(e){if(b.utils.isYouTube(e.file)){return"youtube";}else{var f=b.utils.extension(e.file);var c;if(f&&b.utils.extensionmap[f]){c=b.utils.extensionmap[f].html5;}else{if(e.type){c=e.type;}}if(c){var d=c.split("/")[0];if(d=="audio"){return"sound";}else{if(d=="video"){return d;}}}}return"";}})(jwplayer);(function(a){a.html5.playlistitemlevel=function(b){var d={file:"",streamer:"",bitrate:0,width:0};for(var c in d){if(b[c]!==undefined){d[c]=b[c];}}return d;};})(jwplayer);(function(a){a.html5.skin=function(){var b={};var c=false;this.load=function(d,e){new a.html5.skinloader(d,function(f){c=true;b=f;e();},function(){new a.html5.skinloader("",function(f){c=true;b=f;e();});});};this.getSkinElement=function(d,e){if(c){try{return b[d].elements[e];}catch(f){a.utils.log("No such skin component / element: ",[d,e]);}}return null;};this.getComponentSettings=function(d){if(c){return b[d].settings;}return null;};this.getComponentLayout=function(d){if(c){return b[d].layout;}return null;};};})(jwplayer);(function(a){a.html5.skinloader=function(f,n,i){var m={};var c=n;var j=i;var e=true;var h;var l=f;var q=false;function k(){if(typeof l!="string"||l===""){d(a.html5.defaultSkin().xml);}else{a.utils.ajax(a.utils.getAbsolutePath(l),function(r){try{if(r.responseXML!==null){d(r.responseXML);return;}}catch(s){}d(a.html5.defaultSkin().xml);},function(r){d(a.html5.defaultSkin().xml);});}}function d(w){var C=w.getElementsByTagName("component");if(C.length===0){return;}for(var F=0;F<C.length;F++){var A=C[F].getAttribute("name");var z={settings:{},elements:{},layout:{}};m[A]=z;var E=C[F].getElementsByTagName("elements")[0].getElementsByTagName("element");for(var D=0;D<E.length;D++){b(E[D],A);}var x=C[F].getElementsByTagName("settings")[0];if(x!==undefined&&x.childNodes.length>0){var I=x.getElementsByTagName("setting");for(var N=0;N<I.length;N++){var O=I[N].getAttribute("name");var G=I[N].getAttribute("value");var v=/color$/.test(O)?"color":null;m[A].settings[O]=a.utils.typechecker(G,v);}}var J=C[F].getElementsByTagName("layout")[0];if(J!==undefined&&J.childNodes.length>0){var K=J.getElementsByTagName("group");for(var u=0;u<K.length;u++){var y=K[u];m[A].layout[y.getAttribute("position")]={elements:[]};for(var M=0;M<y.attributes.length;M++){var B=y.attributes[M];m[A].layout[y.getAttribute("position")][B.name]=B.value;}var L=y.getElementsByTagName("*");for(var t=0;t<L.length;t++){var r=L[t];m[A].layout[y.getAttribute("position")].elements.push({type:r.tagName});for(var s=0;s<r.attributes.length;s++){var H=r.attributes[s];m[A].layout[y.getAttribute("position")].elements[t][H.name]=H.value;}if(m[A].layout[y.getAttribute("position")].elements[t].name===undefined){m[A].layout[y.getAttribute("position")].elements[t].name=r.tagName;}}}}e=false;p();}}function p(){clearInterval(h);if(!q){h=setInterval(function(){o();},100);}}function b(w,v){var u=new Image();var r=w.getAttribute("name");var t=w.getAttribute("src");var y;if(t.indexOf("data:image/png;base64,")===0){y=t;}else{var s=a.utils.getAbsolutePath(l);var x=s.substr(0,s.lastIndexOf("/"));y=[x,v,t].join("/");}m[v].elements[r]={height:0,width:0,src:"",ready:false};u.onload=function(z){g(u,r,v);};u.onerror=function(z){q=true;p();j();};u.src=y;}function o(){for(var r in m){if(r!="properties"){for(var s in m[r].elements){if(!m[r].elements[s].ready){return;}}}}if(e===false){clearInterval(h);c(m);}}function g(r,t,s){m[s].elements[t].height=r.height;m[s].elements[t].width=r.width;m[s].elements[t].src=r.src;m[s].elements[t].ready=true;p();}k();};})(jwplayer);(function(a){a.html5.api=function(b,l){var k={};var f=document.createElement("div");b.parentNode.replaceChild(f,b);f.id=b.id;k.version=a.version;k.id=f.id;var j=new a.html5.model(k,f,l);var h=new a.html5.view(k,f,j);var i=new a.html5.controller(k,f,j,h);k.skin=new a.html5.skin();k.jwPlay=function(m){if(typeof m=="undefined"){e();}else{if(m.toString().toLowerCase()=="true"){i.play();}else{i.pause();}}};k.jwPause=function(m){if(typeof m=="undefined"){e();}else{if(m.toString().toLowerCase()=="true"){i.pause();}else{i.play();}}};function e(){if(j.state==a.api.events.state.PLAYING||j.state==a.api.events.state.BUFFERING){i.pause();}else{i.play();}}k.jwStop=i.stop;k.jwSeek=i.seek;k.jwPlaylistItem=i.item;k.jwPlaylistNext=i.next;k.jwPlaylistPrev=i.prev;k.jwResize=i.resize;k.jwLoad=i.load;function g(m){return function(){return j[m];};}function d(m,o,n){return function(){var p=j.plugins.object[m];if(p&&p[o]&&typeof p[o]=="function"){p[o].apply(p,n);}};}k.jwGetItem=g("item");k.jwGetPosition=g("position");k.jwGetDuration=g("duration");k.jwGetBuffer=g("buffer");k.jwGetWidth=g("width");k.jwGetHeight=g("height");k.jwGetFullscreen=g("fullscreen");k.jwSetFullscreen=i.setFullscreen;k.jwGetVolume=g("volume");k.jwSetVolume=i.setVolume;k.jwGetMute=g("mute");k.jwSetMute=i.setMute;k.jwGetStretching=g("stretching");k.jwGetState=g("state");k.jwGetVersion=function(){return k.version;};k.jwGetPlaylist=function(){return j.playlist;};k.jwGetPlaylistIndex=k.jwGetItem;k.jwAddEventListener=i.addEventListener;k.jwRemoveEventListener=i.removeEventListener;k.jwSendEvent=i.sendEvent;k.jwDockSetButton=function(p,m,n,o){if(j.plugins.object.dock&&j.plugins.object.dock.setButton){j.plugins.object.dock.setButton(p,m,n,o);}};k.jwShowControlbar=d("controlbar","show");k.jwHideControlbar=d("controlbar","hide");k.jwShowDock=d("dock","show");k.jwHideDock=d("dock","hide");k.jwShowDisplay=d("display","show");k.jwHideDisplay=d("display","hide");k.jwGetLevel=function(){};k.jwGetBandwidth=function(){};k.jwGetLockState=function(){};k.jwLock=function(){};k.jwUnlock=function(){};function c(o,n,m){return function(){o.loadPlaylist(o.config,true);o.setupPlugins();n.setup(o.getMedia().getDisplayElement());var p={id:k.id,version:k.version};m.sendEvent(a.api.events.JWPLAYER_READY,p);if(playerReady!==undefined){playerReady(p);}if(window[o.config.playerReady]!==undefined){window[o.config.playerReady](p);}o.sendEvent(a.api.events.JWPLAYER_PLAYLIST_LOADED,{playlist:o.playlist});m.item(o.item);};}if(j.config.chromeless){setTimeout(c(j,h,i),25);}else{k.skin.load(j.config.skin,c(j,h,i));}return k;};})(jwplayer);}
(function($){$.fn.imagePreview=function(img,settings){var defaults={xOffset:10,yOffset:30,caption:""};settings=$.extend(defaults,settings);$(this).hover(function(e){var c=(settings.caption!="")?"<span>"+settings.caption+"</span>":"";$(this).after("<div id='imagePreview_preview' class='imagepreview' style=\"display:none;\"><img src='"+img+"' />"+c+"</div>");$("#imagePreview_preview").css("position","absolute").css("top",(e.pageY-settings.xOffset)+"px").css("left",(e.pageX+settings.yOffset)+"px").fadeIn("fast");},function(){$("#imagePreview_preview").remove();});$(this).mousemove(function(e){$("#imagePreview_preview").css("top",(e.pageY-settings.xOffset)+"px").css("left",(e.pageX+settings.yOffset)+"px");});};})(jQuery);$(document).ready(function(){$("a[imagepreview]").each(function(){var img=$(this).attr("imagepreview");$(this).removeAttr("imagepreview").imagePreview(img,{xOffset:100,yOffset:-55});});});
(function($){$.fn.hoverIntent=function(f,g){var cfg={sensitivity:7,interval:100,timeout:0};cfg=$.extend(cfg,g?{over:f,out:g}:f);var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY;};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if((Math.abs(pX-cX)+Math.abs(pY-cY))<cfg.sensitivity){$(ob).unbind("mousemove",track);ob.hoverIntent_s=1;return cfg.over.apply(ob,[ev]);}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=0;return cfg.out.apply(ob,[ev]);};var handleHover=function(e){var p=(e.type=="mouseover"?e.fromElement:e.toElement)||e.relatedTarget;while(p&&p!=this){try{p=p.parentNode;}catch(e){p=this;}}if(p==this){return false;}var ev=jQuery.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);}if(e.type=="mouseover"){pX=ev.pageX;pY=ev.pageY;$(ob).bind("mousemove",track);if(ob.hoverIntent_s!=1){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}}else{$(ob).unbind("mousemove",track);if(ob.hoverIntent_s==1){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob);},cfg.timeout);}}};return this.mouseover(handleHover).mouseout(handleHover);};})(jQuery);
(function($){$.tools=$.tools||{version:"1.2.5"};$.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,position:["top","center"],offset:[+3,0],relative:false,cancelDefault:true,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(name,loadFn,hideFn){effects[name]=[loadFn,hideFn];}};var effects={toggle:[function(done){var conf=this.getConf(),tip=this.getTip(),o=conf.opacity;if(o<1){tip.css({opacity:o});}tip.show();done.call();},function(done){this.getTip().hide();done.call();}],fade:[function(done){var conf=this.getConf();this.getTip().fadeTo(conf.fadeInSpeed,conf.opacity,done);},function(done){this.getTip().fadeOut(this.getConf().fadeOutSpeed,done);}]};function getPosition(trigger,tip,conf){var top=conf.relative?trigger.position().top:trigger.offset().top,left=conf.relative?trigger.position().left:trigger.offset().left,pos=conf.position[0];top-=tip.outerHeight()-conf.offset[0];left+=trigger.outerWidth()+conf.offset[1];if(/iPad/i.test(navigator.userAgent)){top-=$(window).scrollTop();}var height=tip.outerHeight()+trigger.outerHeight();if(pos=="center"){top+=height/2;}if(pos=="bottom"){top+=height;}pos=conf.position[1];var width=tip.outerWidth()+trigger.outerWidth();if(pos=="center"){left-=width/2;}if(pos=="left"){left-=width;}return{top:top,left:left};}function Tooltip(trigger,conf){var self=this,fire=trigger.add(self),tip,timer=0,pretimer=0,title=trigger.attr("title"),tipAttr=trigger.attr("data-tooltip"),effect=effects[conf.effect],shown,isInput=trigger.is(":input"),isWidget=isInput&&trigger.is(":checkbox, :radio, select, :button, :submit"),type=trigger.attr("type"),evt=conf.events[type]||conf.events[isInput?(isWidget?"widget":"input"):"def"];if(!effect){throw'Nonexistent effect "'+conf.effect+'"';}evt=evt.split(/,\s*/);if(evt.length!=2){throw"Tooltip: bad events configuration for "+type;}trigger.bind(evt[0],function(e){clearTimeout(timer);if(conf.predelay){pretimer=setTimeout(function(){self.show(e);},conf.predelay);}else{self.show(e);}}).bind(evt[1],function(e){clearTimeout(pretimer);if(conf.delay){timer=setTimeout(function(){self.hide(e);},conf.delay);}else{self.hide(e);}});if(title&&conf.cancelDefault){trigger.removeAttr("title");trigger.data("title",title);}$.extend(self,{show:function(e){if(!tip){if(tipAttr){tip=$(tipAttr);}else{if(conf.tip){tip=$(conf.tip).eq(0);}else{if(title){tip=$(conf.layout).addClass(conf.tipClass).appendTo(document.body).hide().append(title);}else{tip=trigger.next();if(!tip.length){tip=trigger.parent().next();}}}}if(!tip.length){throw"Cannot find tooltip for "+trigger;}}if(self.isShown()){return self;}tip.stop(true,true);var pos=getPosition(trigger,tip,conf);if(conf.tip){tip.html(trigger.data("title"));}e=e||$.Event();e.type="onBeforeShow";fire.trigger(e,[pos]);if(e.isDefaultPrevented()){return self;}pos=getPosition(trigger,tip,conf);tip.css({position:"absolute",top:pos.top,left:pos.left});shown=true;effect[0].call(self,function(){e.type="onShow";shown="full";fire.trigger(e);});var event=conf.events.tooltip.split(/,\s*/);if(!tip.data("__set")){tip.bind(event[0],function(){clearTimeout(timer);clearTimeout(pretimer);});if(event[1]&&!trigger.is("input:not(:checkbox, :radio), textarea")){tip.bind(event[1],function(e){if(e.relatedTarget!=trigger[0]){trigger.trigger(evt[1].split(" ")[0]);}});}tip.data("__set",true);}return self;},hide:function(e){if(!tip||!self.isShown()){return self;}e=e||$.Event();e.type="onBeforeHide";fire.trigger(e);if(e.isDefaultPrevented()){return;}shown=false;effects[conf.effect][1].call(self,function(){e.type="onHide";fire.trigger(e);});return self;},isShown:function(fully){return fully?shown=="full":shown;},getConf:function(){return conf;},getTip:function(){return tip;},getTrigger:function(){return trigger;}});$.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(i,name){if($.isFunction(conf[name])){$(self).bind(name,conf[name]);}self[name]=function(fn){if(fn){$(self).bind(name,fn);}return self;};});}$.fn.tooltip=function(conf){var api=this.data("tooltip");if(api){return api;}conf=$.extend(true,{},$.tools.tooltip.conf,conf);if(typeof conf.position=="string"){conf.position=conf.position.split(/,?\s/);}this.each(function(){api=new Tooltip($(this),conf);$(this).data("tooltip",api);});return conf.api?api:this;};})(jQuery);
/**
 * jQuery.ScrollTo - Easy element scrolling using jQuery.
 * Copyright (c) 2007-2009 Ariel Flesler - aflesler(at)gmail(dot)com | http://flesler.blogspot.com
 * Dual licensed under MIT and GPL.
 * Date: 5/25/2009
 * @author Ariel Flesler
 * @version 1.4.2
 *
 * http://flesler.blogspot.com/2007/10/jqueryscrollto.html
 */
;(function(d){var k=d.scrollTo=function(a,i,e){d(window).scrollTo(a,i,e)};k.defaults={axis:'xy',duration:parseFloat(d.fn.jquery)>=1.3?0:1};k.window=function(a){return d(window)._scrollable()};d.fn._scrollable=function(){return this.map(function(){var a=this,i=!a.nodeName||d.inArray(a.nodeName.toLowerCase(),['iframe','#document','html','body'])!=-1;if(!i)return a;var e=(a.contentWindow||a).document||a.ownerDocument||a;return d.browser.safari||e.compatMode=='BackCompat'?e.body:e.documentElement})};d.fn.scrollTo=function(n,j,b){if(typeof j=='object'){b=j;j=0}if(typeof b=='function')b={onAfter:b};if(n=='max')n=9e9;b=d.extend({},k.defaults,b);j=j||b.speed||b.duration;b.queue=b.queue&&b.axis.length>1;if(b.queue)j/=2;b.offset=p(b.offset);b.over=p(b.over);return this._scrollable().each(function(){var q=this,r=d(q),f=n,s,g={},u=r.is('html,body');switch(typeof f){case'number':case'string':if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(f)){f=p(f);break}f=d(f,this);case'object':if(f.is||f.style)s=(f=d(f)).offset()}d.each(b.axis.split(''),function(a,i){var e=i=='x'?'Left':'Top',h=e.toLowerCase(),c='scroll'+e,l=q[c],m=k.max(q,i);if(s){g[c]=s[h]+(u?0:l-r.offset()[h]);if(b.margin){g[c]-=parseInt(f.css('margin'+e))||0;g[c]-=parseInt(f.css('border'+e+'Width'))||0}g[c]+=b.offset[h]||0;if(b.over[h])g[c]+=f[i=='x'?'width':'height']()*b.over[h]}else{var o=f[h];g[c]=o.slice&&o.slice(-1)=='%'?parseFloat(o)/100*m:o}if(/^\d+$/.test(g[c]))g[c]=g[c]<=0?0:Math.min(g[c],m);if(!a&&b.queue){if(l!=g[c])t(b.onAfterFirst);delete g[c]}});t(b.onAfter);function t(a){r.animate(g,j,b.easing,a&&function(){a.call(this,n,b)})}}).end()};k.max=function(a,i){var e=i=='x'?'Width':'Height',h='scroll'+e;if(!d(a).is('html,body'))return a[h]-d(a)[e.toLowerCase()]();var c='client'+e,l=a.ownerDocument.documentElement,m=a.ownerDocument.body;return Math.max(l[h],m[h])-Math.min(l[c],m[c])};function p(a){return typeof a=='object'?a:{top:a,left:a}}})(jQuery);
/*
 * jQuery.SerialScroll - Animated scrolling of series
 * Copyright (c) 2007-2009 Ariel Flesler - aflesler(at)gmail(dot)com | http://flesler.blogspot.com
 * Dual licensed under MIT and GPL.
 * Date: 06/14/2009
 * @author Ariel Flesler
 * @version 1.2.2
 * http://flesler.blogspot.com/2008/02/jqueryserialscroll.html
 */
;(function(a){var b=a.serialScroll=function(c){return a(window).serialScroll(c)};b.defaults={duration:1e3,axis:"x",event:"click",start:0,step:1,lock:!0,cycle:!0,constant:!0};a.fn.serialScroll=function(c){return this.each(function(){var t=a.extend({},b.defaults,c),s=t.event,i=t.step,r=t.lazy,e=t.target?this:document,u=a(t.target||this,e),p=u[0],m=t.items,h=t.start,g=t.interval,k=t.navigation,l;if(!r){m=d()}if(t.force){f({},h)}a(t.prev||[],e).bind(s,-i,q);a(t.next||[],e).bind(s,i,q);if(!p.ssbound){u.bind("prev.serialScroll",-i,q).bind("next.serialScroll",i,q).bind("goto.serialScroll",f)}if(g){u.bind("start.serialScroll",function(v){if(!g){o();g=!0;n()}}).bind("stop.serialScroll",function(){o();g=!1})}u.bind("notify.serialScroll",function(x,w){var v=j(w);if(v>-1){h=v}});p.ssbound=!0;if(t.jump){(r?u:d()).bind(s,function(v){f(v,j(v.target))})}if(k){k=a(k,e).bind(s,function(v){v.data=Math.round(d().length/k.length)*k.index(this);f(v,this)})}function q(v){v.data+=h;f(v,this)}function f(B,z){if(!isNaN(z)){B.data=z;z=p}var C=B.data,v,D=B.type,A=t.exclude?d().slice(0,-t.exclude):d(),y=A.length,w=A[C],x=t.duration;if(D){B.preventDefault()}if(g){o();l=setTimeout(n,t.interval)}if(!w){v=C<0?0:y-1;if(h!=v){C=v}else{if(!t.cycle){return}else{C=y-v-1}}w=A[C]}if(!w||t.lock&&u.is(":animated")||D&&t.onBefore&&t.onBefore(B,w,u,d(),C)===!1){return}if(t.stop){u.queue("fx",[]).stop()}if(t.constant){x=Math.abs(x/i*(h-C))}u.scrollTo(w,x,t).trigger("notify.serialScroll",[C])}function n(){u.trigger("next.serialScroll")}function o(){clearTimeout(l)}function d(){return a(m,p)}function j(w){if(!isNaN(w)){return w}var x=d(),v;while((v=x.index(w))==-1&&w!=p){w=w.parentNode}return v}})}})(jQuery);
(function($){$.extend($.fn,{validate:function(options){if(!this.length){options&&options.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return;}var validator=$.data(this[0],"validator");if(validator){return validator;}validator=new $.validator(options,this[0]);$.data(this[0],"validator",validator);if(validator.settings.onsubmit){this.find("input, button").filter(".cancel").click(function(){validator.cancelSubmit=true;});if(validator.settings.submitHandler){this.find("input, button").filter(":submit").click(function(){validator.submitButton=this;});}this.submit(function(event){if(validator.settings.debug){event.preventDefault();}function handle(){if(validator.settings.submitHandler){if(validator.submitButton){var hidden=$("<input type='hidden'/>").attr("name",validator.submitButton.name).val(validator.submitButton.value).appendTo(validator.currentForm);}validator.settings.submitHandler.call(validator,validator.currentForm);if(validator.submitButton){hidden.remove();}return false;}return true;}if(validator.cancelSubmit){validator.cancelSubmit=false;return handle();}if(validator.form()){if(validator.pendingRequest){validator.formSubmitted=true;return false;}return handle();}else{validator.focusInvalid();return false;}});}return validator;},valid:function(){if($(this[0]).is("form")){return this.validate().form();}else{var valid=true;var validator=$(this[0].form).validate();this.each(function(){valid&=validator.element(this);});return valid;}},removeAttrs:function(attributes){var result={},$element=this;$.each(attributes.split(/\s/),function(index,value){result[value]=$element.attr(value);$element.removeAttr(value);});return result;},rules:function(command,argument){var element=this[0];if(command){var settings=$.data(element.form,"validator").settings;var staticRules=settings.rules;var existingRules=$.validator.staticRules(element);switch(command){case"add":$.extend(existingRules,$.validator.normalizeRule(argument));staticRules[element.name]=existingRules;if(argument.messages){settings.messages[element.name]=$.extend(settings.messages[element.name],argument.messages);}break;case"remove":if(!argument){delete staticRules[element.name];return existingRules;}var filtered={};$.each(argument.split(/\s/),function(index,method){filtered[method]=existingRules[method];delete existingRules[method];});return filtered;}}var data=$.validator.normalizeRules($.extend({},$.validator.metadataRules(element),$.validator.classRules(element),$.validator.attributeRules(element),$.validator.staticRules(element)),element);if(data.required){var param=data.required;delete data.required;data=$.extend({required:param},data);}return data;}});$.extend($.expr[":"],{blank:function(a){return !$.trim(""+a.value);},filled:function(a){return !!$.trim(""+a.value);},unchecked:function(a){return !a.checked;}});$.validator=function(options,form){this.settings=$.extend(true,{},$.validator.defaults,options);this.currentForm=form;this.init();};$.validator.format=function(source,params){if(arguments.length==1){return function(){var args=$.makeArray(arguments);args.unshift(source);return $.validator.format.apply(this,args);};}if(arguments.length>2&&params.constructor!=Array){params=$.makeArray(arguments).slice(1);}if(params.constructor!=Array){params=[params];}$.each(params,function(i,n){source=source.replace(new RegExp("\\{"+i+"\\}","g"),n);});return source;};$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"inputerror",validClass:"inputvalid",errorElement:"span",focusInvalid:true,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:true,ignore:[],ignoreTitle:false,onfocusin:function(element){this.lastActive=element;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,element,this.settings.errorClass,this.settings.validClass);this.errorsFor(element).hide();}},onfocusout:function(element){if(!this.checkable(element)&&(element.name in this.submitted||!this.optional(element))){this.element(element);}},onkeyup:function(element){if(element.name in this.submitted||element==this.lastElement){this.element(element);}},onclick:function(element){if(element.name in this.submitted){this.element(element);}else{if(element.parentNode.name in this.submitted){this.element(element.parentNode);}}},highlight:function(element,errorClass,validClass){$(element).addClass(errorClass).removeClass(validClass);},unhighlight:function(element,errorClass,validClass){$(element).removeClass(errorClass).addClass(validClass);}},setDefaults:function(settings){$.extend($.validator.defaults,settings);},messages:{required:"*",remote:"Please fix this field.",email:"Invalid email address.",url:"Please enter a valid URL.",date:"Invalid date.",pastdate:"Date must be in the past.",dateISO:"Please enter a valid date (ISO).",number:"Numberic only.",digits:"Digits only.",creditcard:"Invalid credit card number.",equalTo:"Please enter the same value again.",accept:"Invalid extension/file type.",maxlength:$.validator.format("Max {0} characters."),minlength:$.validator.format("Min {0} characters."),rangelength:$.validator.format("Value must be between {0} and {1} characters."),range:$.validator.format("Value must be between {0} and {1}."),max:$.validator.format("Value must be less than or equal to {0}."),min:$.validator.format("Value must be greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=$(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm);this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var groups=(this.groups={});$.each(this.settings.groups,function(key,value){$.each(value.split(/\s/),function(index,name){groups[name]=key;});});var rules=this.settings.rules;$.each(rules,function(key,value){rules[key]=$.validator.normalizeRule(value);});function delegate(event){var validator=$.data(this[0].form,"validator"),eventType="on"+event.type.replace(/^validate/,"");validator.settings[eventType]&&validator.settings[eventType].call(validator,this[0]);}$(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",delegate).validateDelegate(":radio, :checkbox, select, option","click",delegate);if(this.settings.invalidHandler){$(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler);}},form:function(){this.checkForm();$.extend(this.submitted,this.errorMap);this.invalid=$.extend({},this.errorMap);if(!this.valid()){$(this.currentForm).triggerHandler("invalid-form",[this]);}this.showErrors();return this.valid();},checkForm:function(){this.prepareForm();for(var i=0,elements=(this.currentElements=this.elements());elements[i];i++){this.check(elements[i]);}return this.valid();},element:function(element){element=this.clean(element);this.lastElement=element;this.prepareElement(element);this.currentElements=$(element);var result=this.check(element);if(result){delete this.invalid[element.name];}else{this.invalid[element.name]=true;}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers);}this.showErrors();return result;},showErrors:function(errors){if(errors){$.extend(this.errorMap,errors);this.errorList=[];for(var name in errors){this.errorList.push({message:errors[name],element:this.findByName(name)[0]});}this.successList=$.grep(this.successList,function(element){return !(element.name in errors);});}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors();},resetForm:function(){if($.fn.resetForm){$(this.currentForm).resetForm();}this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass);},numberOfInvalids:function(){return this.objectLength(this.invalid);},objectLength:function(obj){var count=0;for(var i in obj){count++;}return count;},hideErrors:function(){this.addWrapper(this.toHide).hide();},valid:function(){return this.size()==0;},size:function(){return this.errorList.length;},focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin");}catch(e){}}},findLastActive:function(){var lastActive=this.lastActive;return lastActive&&$.grep(this.errorList,function(n){return n.element.name==lastActive.name;}).length==1&&lastActive;},elements:function(){var validator=this,rulesCache={};return $([]).add(this.currentForm.elements).filter(":input").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&validator.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in rulesCache||!validator.objectLength($(this).rules())){return false;}rulesCache[this.name]=true;return true;});},clean:function(selector){return $(selector)[0];},errors:function(){return $(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext);},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=$([]);this.toHide=$([]);this.currentElements=$([]);},prepareForm:function(){if(typeof CKEDITOR!=="undefined"){for(instance in CKEDITOR.instances){CKEDITOR.instances[instance].updateElement();}}this.reset();this.toHide=this.errors().add(this.containers);},prepareElement:function(element){this.reset();this.toHide=this.errorsFor(element);},check:function(element){element=this.clean(element);if(this.checkable(element)){element=this.findByName(element.name)[0];}var rules=$(element).rules();var dependencyMismatch=false;for(method in rules){var rule={method:method,parameters:rules[method]};try{var result=$.validator.methods[method].call(this,element.value.replace(/\r/g,""),element,rule.parameters);if(result=="dependency-mismatch"){dependencyMismatch=true;continue;}dependencyMismatch=false;if(result=="pending"){this.toHide=this.toHide.not(this.errorsFor(element));return;}if(!result){this.formatAndAdd(element,rule);return false;}}catch(e){this.settings.debug&&window.console&&console.log("exception occured when checking element "+element.id+", check the '"+rule.method+"' method",e);throw e;}}if(dependencyMismatch){return;}if(this.objectLength(rules)){this.successList.push(element);}return true;},customMetaMessage:function(element,method){if(!$.metadata){return;}var meta=this.settings.meta?$(element).metadata()[this.settings.meta]:$(element).metadata();return meta&&meta.messages&&meta.messages[method];},customMessage:function(name,method){var m=this.settings.messages[name];return m&&(m.constructor==String?m:m[method]);},findDefined:function(){for(var i=0;i<arguments.length;i++){if(arguments[i]!==undefined){return arguments[i];}}return undefined;},defaultMessage:function(element,method){return this.findDefined(this.customMessage(element.name,method),this.customMetaMessage(element,method),!this.settings.ignoreTitle&&element.title||undefined,$.validator.messages[method],"<strong>Warning: No message defined for "+element.name+"</strong>");},formatAndAdd:function(element,rule){var message=this.defaultMessage(element,rule.method),theregex=/\$?\{(\d+)\}/g;if(typeof message=="function"){message=message.call(this,rule.parameters,element);}else{if(theregex.test(message)){message=jQuery.format(message.replace(theregex,"{$1}"),rule.parameters);}}this.errorList.push({message:message,element:element});this.errorMap[element.name]=message;this.submitted[element.name]=message;},addWrapper:function(toToggle){if(this.settings.wrapper){toToggle=toToggle.add(toToggle.parent(this.settings.wrapper));}return toToggle;},defaultShowErrors:function(){for(var i=0;this.errorList[i];i++){var error=this.errorList[i];this.settings.highlight&&this.settings.highlight.call(this,error.element,this.settings.errorClass,this.settings.validClass);this.showLabel(error.element,error.message);}if(this.errorList.length){this.toShow=this.toShow.add(this.containers);}if(this.settings.success){for(var i=0;this.successList[i];i++){this.showLabel(this.successList[i]);}}if(this.settings.unhighlight){for(var i=0,elements=this.validElements();elements[i];i++){this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,this.settings.validClass);}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show();},validElements:function(){return this.currentElements.not(this.invalidElements());},invalidElements:function(){return $(this.errorList).map(function(){return this.element;});},showLabel:function(element,message){var label=this.errorsFor(element);if(label.length){label.removeClass().addClass(this.settings.errorClass);label.attr("generated")&&label.html(message);}else{label=$("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(element),generated:true}).addClass(this.settings.errorClass).html(message||"");if(this.settings.wrapper){label=label.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();}if(!this.labelContainer.append(label).length){this.settings.errorPlacement?this.settings.errorPlacement(label,$(element)):label.insertAfter(element);}}if(!message&&this.settings.success){label.text("");typeof this.settings.success=="string"?label.addClass(this.settings.success):this.settings.success(label);}this.toShow=this.toShow.add(label);},errorsFor:function(element){var name=this.idOrName(element);return this.errors().filter(function(){return $(this).attr("for")==name;});},idOrName:function(element){return this.groups[element.name]||(this.checkable(element)?element.name:element.id||element.name);},checkable:function(element){return/radio|checkbox/i.test(element.type);},findByName:function(name){var form=this.currentForm;return $(document.getElementsByName(name)).map(function(index,element){return element.form==form&&element.name==name&&element||null;});},getLength:function(value,element){switch(element.nodeName.toLowerCase()){case"select":return $("option:selected",element).length;case"input":if(this.checkable(element)){return this.findByName(element.name).filter(":checked").length;}}return value.length;},depend:function(param,element){return this.dependTypes[typeof param]?this.dependTypes[typeof param](param,element):true;},dependTypes:{"boolean":function(param,element){return param;},string:function(param,element){return !!$(param,element.form).length;},"function":function(param,element){return param(element);}},optional:function(element){return !$.validator.methods.required.call(this,$.trim(element.value),element)&&"dependency-mismatch";},startRequest:function(element){if(!this.pending[element.name]){this.pendingRequest++;this.pending[element.name]=true;}},stopRequest:function(element,valid){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0;}delete this.pending[element.name];if(valid&&this.pendingRequest==0&&this.formSubmitted&&this.form()){$(this.currentForm).submit();this.formSubmitted=false;}else{if(!valid&&this.pendingRequest==0&&this.formSubmitted){$(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false;}}},previousValue:function(element){return $.data(element,"previousValue")||$.data(element,"previousValue",{old:null,valid:true,message:this.defaultMessage(element,"remote")});}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},pastdate:{pastdate:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(className,rules){className.constructor==String?this.classRuleSettings[className]=rules:$.extend(this.classRuleSettings,className);},classRules:function(element){var rules={};var classes=$(element).attr("class");classes&&$.each(classes.split(" "),function(){if(this in $.validator.classRuleSettings){$.extend(rules,$.validator.classRuleSettings[this]);}});return rules;},attributeRules:function(element){var rules={};var $element=$(element);for(method in $.validator.methods){var value=$element.attr(method);if(value){rules[method]=value;}}if(rules.maxlength&&/-1|2147483647|524288/.test(rules.maxlength)){delete rules.maxlength;}return rules;},metadataRules:function(element){if(!$.metadata){return{};}var meta=$.data(element.form,"validator").settings.meta;return meta?$(element).metadata()[meta]:$(element).metadata();},staticRules:function(element){var rules={};var validator=$.data(element.form,"validator");if(validator.settings.rules){rules=$.validator.normalizeRule(validator.settings.rules[element.name])||{};}return rules;},normalizeRules:function(rules,element){$.each(rules,function(prop,val){if(val===false){delete rules[prop];return;}if(val.param||val.depends){var keepRule=true;switch(typeof val.depends){case"string":keepRule=!!$(val.depends,element.form).length;break;case"function":keepRule=val.depends.call(element,element);break;}if(keepRule){rules[prop]=val.param!==undefined?val.param:true;}else{delete rules[prop];}}});$.each(rules,function(rule,parameter){rules[rule]=$.isFunction(parameter)?parameter(element):parameter;});$.each(["minlength","maxlength","min","max"],function(){if(rules[this]){rules[this]=Number(rules[this]);}});$.each(["rangelength","range"],function(){if(rules[this]){rules[this]=[Number(rules[this][0]),Number(rules[this][1])];}});if($.validator.autoCreateRanges){if(rules.min&&rules.max){rules.range=[rules.min,rules.max];delete rules.min;delete rules.max;}if(rules.minlength&&rules.maxlength){rules.rangelength=[rules.minlength,rules.maxlength];delete rules.minlength;delete rules.maxlength;}}if(rules.messages){delete rules.messages;}return rules;},normalizeRule:function(data){if(typeof data=="string"){var transformed={};$.each(data.split(/\s/),function(){transformed[this]=true;});data=transformed;}return data;},addMethod:function(name,method,message){$.validator.methods[name]=method;$.validator.messages[name]=message!=undefined?message:$.validator.messages[name];if(method.length<3){$.validator.addClassRules(name,$.validator.normalizeRule(name));}},methods:{required:function(value,element,param){if(!this.depend(param,element)){return"dependency-mismatch";}switch(element.nodeName.toLowerCase()){case"select":var val=$(element).val();return val&&val.length>0;case"input":if(this.checkable(element)){return this.getLength(value,element)>0;}default:if(element.tagName=="TEXTAREA"){value=$(element).val().replace(/(<([^>]+)>)/ig,"").replace(/(&([a-z]+);)/ig,"").replace(/([\n\r\s]*)/ig,"");}return $.trim(value).length>0;}},remote:function(value,element,param){if(this.optional(element)){return"dependency-mismatch";}var previous=this.previousValue(element);if(!this.settings.messages[element.name]){this.settings.messages[element.name]={};}previous.originalMessage=this.settings.messages[element.name].remote;this.settings.messages[element.name].remote=previous.message;param=typeof param=="string"&&{url:param}||param;if(previous.old!==value){previous.old=value;var validator=this;this.startRequest(element);var data={};data[element.name]=value;$.ajax($.extend(true,{url:param,mode:"abort",port:"validate"+element.name,dataType:"json",data:data,success:function(response){validator.settings.messages[element.name].remote=previous.originalMessage;var valid=response===true;if(valid){var submitted=validator.formSubmitted;validator.prepareElement(element);validator.formSubmitted=submitted;validator.successList.push(element);validator.showErrors();}else{var errors={};var message=(previous.message=response||validator.defaultMessage(element,"remote"));errors[element.name]=$.isFunction(message)?message(value):message;validator.showErrors(errors);}previous.valid=valid;validator.stopRequest(element,valid);}},param));return"pending";}else{if(this.pending[element.name]){return"pending";}}return previous.valid;},minlength:function(value,element,param){return this.optional(element)||this.getLength($.trim(value),element)>=param;},maxlength:function(value,element,param){return this.optional(element)||this.getLength($.trim(value),element)<=param;},rangelength:function(value,element,param){var length=this.getLength($.trim(value),element);return this.optional(element)||(length>=param[0]&&length<=param[1]);},min:function(value,element,param){return this.optional(element)||value>=param;},max:function(value,element,param){return this.optional(element)||value<=param;},range:function(value,element,param){return this.optional(element)||(value>=param[0]&&value<=param[1]);},email:function(value,element){return this.optional(element)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(value);},url:function(value,element){return this.optional(element)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(value);},date:function(value,element){return this.optional(element)||!/Invalid|NaN/.test(new Date(value));},pastdate:function(value,element){var yesterday=new Date();yesterday.setDate(yesterday.getDate()-1);return this.optional(element)||(!/Invalid|NaN/.test(new Date(value))&&new Date(value)<yesterday);},dateISO:function(value,element){return this.optional(element)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(value);},number:function(value,element){return this.optional(element)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(value);},digits:function(value,element){return this.optional(element)||/^\d+$/.test(value);},creditcard:function(value,element){if(this.optional(element)){return"dependency-mismatch";}if(/[^0-9-]+/.test(value)){return false;}var nCheck=0,nDigit=0,bEven=false;value=value.replace(/\D/g,"");for(var n=value.length-1;n>=0;n--){var cDigit=value.charAt(n);var nDigit=parseInt(cDigit,10);if(bEven){if((nDigit*=2)>9){nDigit-=9;}}nCheck+=nDigit;bEven=!bEven;}return(nCheck%10)==0;},accept:function(value,element,param){param=typeof param=="string"?param.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(element)||value.match(new RegExp(".("+param+")$","i"));},equalTo:function(value,element,param){var target=$(param).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){$(element).valid();});return value==target.val();}}});$.format=$.validator.format;})(jQuery);(function($){var ajax=$.ajax;var pendingRequests={};$.ajax=function(settings){settings=$.extend(settings,$.extend({},$.ajaxSettings,settings));var port=settings.port;if(settings.mode=="abort"){if(pendingRequests[port]){pendingRequests[port].abort();}return(pendingRequests[port]=ajax.apply(this,arguments));}return ajax.apply(this,arguments);};})(jQuery);(function($){if(!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener){$.each({focus:"focusin",blur:"focusout"},function(original,fix){$.event.special[fix]={setup:function(){this.addEventListener(original,handler,true);},teardown:function(){this.removeEventListener(original,handler,true);},handler:function(e){arguments[0]=$.event.fix(e);arguments[0].type=fix;return $.event.handle.apply(this,arguments);}};function handler(e){e=$.event.fix(e);e.type=fix;return $.event.handle.call(this,e);}});}$.extend($.fn,{validateDelegate:function(delegate,type,handler){return this.bind(type,function(event){var target=$(event.target);if(target.is(delegate)){return handler.apply(target,arguments);}});}});})(jQuery);
/**
* Copyright (c) 2009 Sergiy Kovalchuk (serg472@gmail.com)
* 
* Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
* and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
*  
* Following code is based on Element.mask() implementation from ExtJS framework (http://extjs.com/)
*
*/
(function (a) { a.fn.mask = function (c) { this.unmask(); if (this.css("position") == "static") { this.addClass("masked-relative") } this.addClass("masked"); var d = a('<div class="loadmask"></div>'); if (navigator.userAgent.toLowerCase().indexOf("msie") > -1) { d.height(this.height() + parseInt(this.css("padding-top")) + parseInt(this.css("padding-bottom"))); d.width(this.width() + parseInt(this.css("padding-left")) + parseInt(this.css("padding-right"))) } if (navigator.userAgent.toLowerCase().indexOf("msie 6") > -1) { this.find("select").addClass("masked-hidden") } this.append(d); var b = a('<div class="loadmask-msg" style="display:none;"></div>'); if (typeof c != "string") { c = "&nbsp;" } b.append("<div>" + c + "</div>"); this.append(b); b.css("top", Math.round(this.height() / 2 - (b.height() - parseInt(b.css("padding-top")) - parseInt(b.css("padding-bottom"))) / 2) + "px"); b.css("left", Math.round(this.width() / 2 - (b.width() - parseInt(b.css("padding-left")) - parseInt(b.css("padding-right"))) / 2) + "px"); b.show() }; a.fn.unmask = function () { this.find(".loadmask-msg,.loadmask").remove(); this.removeClass("masked"); this.removeClass("masked-relative"); this.find("select").removeClass("masked-hidden") } })(jQuery);
var swfobject=function(){var D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,X=!+"\v1",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10);ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0;}}else{if(typeof O.ActiveXObject!=D){try{var ad=new ActiveXObject(W);if(ad){ab=ad.GetVariable("$version");if(ab){X=true;ab=ab.split(" ")[1].split(",");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)];}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac};}(),k=function(){if(!M.w3){return;}if((typeof j.readyState!=D&&j.readyState=="complete")||(typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body))){f();}if(!J){if(typeof j.addEventListener!=D){j.addEventListener("DOMContentLoaded",f,false);}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState=="complete"){j.detachEvent(x,arguments.callee);f();}});if(O==top){(function(){if(J){return;}try{j.documentElement.doScroll("left");}catch(X){setTimeout(arguments.callee,0);return;}f();})();}}if(M.wk){(function(){if(J){return;}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return;}f();})();}s(f);}}();function f(){if(J){return;}try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z);}catch(aa){return;}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]();}}function K(X){if(J){X();}else{U[U.length]=X;}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener("load",Y,false);}else{if(typeof j.addEventListener!=D){j.addEventListener("load",Y,false);}else{if(typeof O.attachEvent!=D){i(O,"onload",Y);}else{if(typeof O.onload=="function"){var X=O.onload;O.onload=function(){X();Y();};}else{O.onload=Y;}}}}}function h(){if(T){V();}else{H();}}function V(){var X=j.getElementsByTagName("body")[0];var aa=C(r);aa.setAttribute("type",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");if(ab){ab=ab.split(" ")[1].split(",");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)];}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return;}}X.removeChild(aa);Z=null;H();})();}else{H();}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa);}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute("width")||"0";ai.height=ae.getAttribute("height")||"0";if(ae.getAttribute("class")){ai.styleclass=ae.getAttribute("class");}if(ae.getAttribute("align")){ai.align=ae.getAttribute("align");}var ah={};var X=ae.getElementsByTagName("param");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute("name").toLowerCase()!="movie"){ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value");}}P(ai,ah,Y,ab);}else{p(ae);if(ab){ab(aa);}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z;}ab(aa);}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName=="OBJECT"){if(typeof Y.SetVariable!=D){X=Y;}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z;}}}return X;}function A(){return !a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312);}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName=="OBJECT"){l=g(ae);Q=null;}else{l=ae;Q=X;}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width="310";}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height="137";}j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?"ActiveX":"PlugIn",ac="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D){ab.flashvars+="&"+ac;}else{ab.flashvars=ac;}if(M.ie&&M.win&&ae.readyState!=4){var Y=C("div");X+="SWFObjectNew";Y.setAttribute("id",X);ae.parentNode.insertBefore(Y,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae);}else{setTimeout(arguments.callee,10);}})();}u(aa,ab,X);}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y);}else{setTimeout(arguments.callee,10);}})();}else{Y.parentNode.replaceChild(g(Y),Y);}}function g(ab){var aa=C("div");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML;}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName=="PARAM")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true));}}}}}return aa;}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X;}if(aa){if(typeof ai.id==D){ai.id=Y;}if(M.ie&&M.win){var ah="";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){ag.movie=ai[ae];}else{if(ae.toLowerCase()=="styleclass"){ah+=' class="'+ai[ae]+'"';}else{if(ae.toLowerCase()!="classid"){ah+=" "+ae+'="'+ai[ae]+'"';}}}}}var af="";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name="'+ad+'" value="'+ag[ad]+'" />';}}aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>";N[N.length]=ai.id;X=c(ai.id);}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()=="styleclass"){Z.setAttribute("class",ai[ac]);}else{if(ac.toLowerCase()!="classid"){Z.setAttribute(ac,ai[ac]);}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!="movie"){e(Z,ab,ag[ab]);}}aa.parentNode.replaceChild(Z,aa);X=Z;}}return X;}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa);}function y(Y){var X=c(Y);if(X&&X.nodeName=="OBJECT"){if(M.ie&&M.win){X.style.display="none";(function(){if(X.readyState==4){b(Y);}else{setTimeout(arguments.callee,10);}})();}else{X.parentNode.removeChild(X);}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]=="function"){Y[X]=null;}}Y.parentNode.removeChild(Y);}}function c(Z){var X=null;try{X=j.getElementById(Z);}catch(Y){}return X;}function C(X){return j.createElement(X);}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y];}function F(Z){var Y=M.pv,X=Z.split(".");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false;}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return;}var aa=j.getElementsByTagName("head")[0];if(!aa){return;}var X=(ad&&typeof ad=="string")?ad:"screen";if(ab){n=null;G=null;}if(!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css");Z.setAttribute("media",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1];}G=X;}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y);}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+" {"+Y+"}"));}}}function w(Z,X){if(!m){return;}var Y=X?"visible":"hidden";if(J&&c(Z)){c(Z).style.visibility=Y;}else{v("#"+Z,"visibility:"+Y);}}function L(Y){var Z=/[\\\"<>\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y;}var d=function(){if(M.ie&&M.win){window.attachEvent("onunload",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2]);}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa]);}for(var Y in M){M[Y]=null;}M=null;for(var X in swfobject){swfobject[X]=null;}swfobject=null;});}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false);}else{if(Z){Z({success:false,id:ab});}}},getObjectById:function(X){if(M.w3){return z(X);}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+="";ag+="";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al];}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak];}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+="&"+ai+"="+Z[ai];}else{am.flashvars=ai+"="+Z[ai];}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true);}X.success=true;X.ref=an;}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return;}else{w(ah,true);}}if(ac){ac(X);}});}else{if(ac){ac(X);}}},switchOffAutoHideShow:function(){m=false;},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]};},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X);}else{return undefined;}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y);}},removeSWF:function(X){if(M.w3){y(X);}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X);}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)){Z=Z.split("?")[1];}if(aa==null){return L(Z);}var Y=Z.split("&");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf("="))==aa){return L(Y[X].substring((Y[X].indexOf("=")+1)));}}}return"";},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display="block";}}if(E){E(B);}}a=false;}}};}();
if(jQuery){(function(jQuery){jQuery.extend(jQuery.fn,{uploadify:function(options){jQuery(this).each(function(){var settings=jQuery.extend({id:jQuery(this).attr("id"),uploader:"uploadify.swf",script:"uploadify.php",expressInstall:null,folder:"",height:30,width:120,cancelImg:"cancel.png",wmode:"opaque",scriptAccess:"sameDomain",fileDataName:"Filedata",method:"POST",queueSizeLimit:999,simUploadLimit:1,queueID:false,displayData:"percentage",removeCompleted:true,onInit:function(){},onSelect:function(){},onSelectOnce:function(){},onQueueFull:function(){},onCheck:function(){},onCancel:function(){},onClearQueue:function(){},onError:function(){},onProgress:function(){},onComplete:function(){},onAllComplete:function(){}},options);jQuery(this).data("settings",settings);var pagePath=location.pathname;pagePath=pagePath.split("/");pagePath.pop();pagePath=pagePath.join("/")+"/";var data={};data.uploadifyID=settings.id;data.pagepath=pagePath;if(settings.buttonImg){data.buttonImg=escape(settings.buttonImg);}if(settings.buttonText){data.buttonText=escape(settings.buttonText);}if(settings.rollover){data.rollover=true;}data.script=settings.script;data.folder=escape(settings.folder);if(settings.scriptData){var scriptDataString="";for(var name in settings.scriptData){scriptDataString+="&"+name+"="+settings.scriptData[name];}data.scriptData=escape(scriptDataString.substr(1));}data.width=settings.width;data.height=settings.height;data.wmode=settings.wmode;data.method=settings.method;data.queueSizeLimit=settings.queueSizeLimit;data.simUploadLimit=settings.simUploadLimit;if(settings.hideButton){data.hideButton=true;}if(settings.fileDesc){data.fileDesc=settings.fileDesc;}if(settings.fileExt){data.fileExt=settings.fileExt;}if(settings.multi){data.multi=true;}if(settings.auto){data.auto=true;}if(settings.sizeLimit){data.sizeLimit=settings.sizeLimit;}if(settings.checkScript){data.checkScript=settings.checkScript;}if(settings.fileDataName){data.fileDataName=settings.fileDataName;}if(settings.queueID){data.queueID=settings.queueID;}if(settings.onInit()!==false){jQuery(this).after('<div id="'+jQuery(this).attr("id")+'Uploader"></div>');swfobject.embedSWF(settings.uploader,settings.id+"Uploader",settings.width,settings.height,"9.0.24",settings.expressInstall,data,{quality:"high",wmode:settings.wmode,allowScriptAccess:settings.scriptAccess},{},function(event){if(typeof(settings.onSWFReady)=="function"&&event.success){settings.onSWFReady();}});if(settings.queueID==false){jQuery("#"+jQuery(this).attr("id")+"Uploader").after('<div id="'+jQuery(this).attr("id")+'Queue" class="uploadifyQueue"></div>');}else{jQuery("#"+settings.queueID).addClass("uploadifyQueue");}}if(typeof(settings.onOpen)=="function"){jQuery(this).bind("uploadifyOpen",settings.onOpen);}jQuery(this).bind("uploadifySelect",{action:settings.onSelect,queueID:settings.queueID},function(event,ID,fileObj){if(event.data.action(event,ID,fileObj)!==false){var byteSize=Math.round(fileObj.size/1024*100)*0.01;var suffix="KB";if(byteSize>1000){byteSize=Math.round(byteSize*0.001*100)*0.01;suffix="MB";}var sizeParts=byteSize.toString().split(".");if(sizeParts.length>1){byteSize=sizeParts[0]+"."+sizeParts[1].substr(0,2);}else{byteSize=sizeParts[0];}if(fileObj.name.length>20){fileName=fileObj.name.substr(0,20)+"...";}else{fileName=fileObj.name;}queue="#"+jQuery(this).attr("id")+"Queue";if(event.data.queueID){queue="#"+event.data.queueID;}jQuery(queue).append('<div id="'+jQuery(this).attr("id")+ID+'" class="uploadifyQueueItem">								<div class="cancel">									<a href="javascript:jQuery(\'#'+jQuery(this).attr("id")+"').uploadifyCancel('"+ID+'\')"><img src="'+settings.cancelImg+'" border="0" /></a>								</div>								<span class="fileName">'+fileName+" ("+byteSize+suffix+')</span><span class="percentage"></span>								<div class="uploadifyProgress">									<div id="'+jQuery(this).attr("id")+ID+'ProgressBar" class="uploadifyProgressBar"><!--Progress Bar--></div>								</div>							</div>');}});jQuery(this).bind("uploadifySelectOnce",{action:settings.onSelectOnce},function(event,data){event.data.action(event,data);if(settings.auto){if(settings.checkScript){jQuery(this).uploadifyUpload(null,false);}else{jQuery(this).uploadifyUpload(null,true);}}});jQuery(this).bind("uploadifyQueueFull",{action:settings.onQueueFull},function(event,queueSizeLimit){if(event.data.action(event,queueSizeLimit)!==false){alert("The queue is full.  The max size is "+queueSizeLimit+".");}});jQuery(this).bind("uploadifyCheckExist",{action:settings.onCheck},function(event,checkScript,fileQueueObj,folder,single){var postData=new Object();postData=fileQueueObj;postData.folder=(folder.substr(0,1)=="/")?folder:pagePath+folder;if(single){for(var ID in fileQueueObj){var singleFileID=ID;}}jQuery.post(checkScript,postData,function(data){for(var key in data){if(event.data.action(event,data,key)!==false){var replaceFile=confirm("Do you want to replace the file "+data[key]+"?");if(!replaceFile){document.getElementById(jQuery(event.target).attr("id")+"Uploader").cancelFileUpload(key,true,true);}}}if(single){document.getElementById(jQuery(event.target).attr("id")+"Uploader").startFileUpload(singleFileID,true);}else{document.getElementById(jQuery(event.target).attr("id")+"Uploader").startFileUpload(null,true);}},"json");});jQuery(this).bind("uploadifyCancel",{action:settings.onCancel},function(event,ID,fileObj,data,remove,clearFast){if(event.data.action(event,ID,fileObj,data,clearFast)!==false){if(remove){var fadeSpeed=(clearFast==true)?0:250;jQuery("#"+jQuery(this).attr("id")+ID).fadeOut(fadeSpeed,function(){jQuery(this).remove();});}}});jQuery(this).bind("uploadifyClearQueue",{action:settings.onClearQueue},function(event,clearFast){var queueID=(settings.queueID)?settings.queueID:jQuery(this).attr("id")+"Queue";if(clearFast){jQuery("#"+queueID).find(".uploadifyQueueItem").remove();}if(event.data.action(event,clearFast)!==false){jQuery("#"+queueID).find(".uploadifyQueueItem").each(function(){var index=jQuery(".uploadifyQueueItem").index(this);jQuery(this).delay(index*100).fadeOut(250,function(){jQuery(this).remove();});});}});var errorArray=[];jQuery(this).bind("uploadifyError",{action:settings.onError},function(event,ID,fileObj,errorObj){if(event.data.action(event,ID,fileObj,errorObj)!==false){var fileArray=new Array(ID,fileObj,errorObj);errorArray.push(fileArray);jQuery("#"+jQuery(this).attr("id")+ID).find(".percentage").text(" - "+errorObj.type+" Error");jQuery("#"+jQuery(this).attr("id")+ID).find(".uploadifyProgress").hide();jQuery("#"+jQuery(this).attr("id")+ID).addClass("uploadifyError");}});if(typeof(settings.onUpload)=="function"){jQuery(this).bind("uploadifyUpload",settings.onUpload);}jQuery(this).bind("uploadifyProgress",{action:settings.onProgress,toDisplay:settings.displayData},function(event,ID,fileObj,data){if(event.data.action(event,ID,fileObj,data)!==false){jQuery("#"+jQuery(this).attr("id")+ID+"ProgressBar").animate({width:data.percentage+"%"},250,function(){if(data.percentage==100){jQuery(this).closest(".uploadifyProgress").fadeOut(250,function(){jQuery(this).remove();});}});if(event.data.toDisplay=="percentage"){displayData=" - "+data.percentage+"%";}if(event.data.toDisplay=="speed"){displayData=" - "+data.speed+"KB/s";}if(event.data.toDisplay==null){displayData=" ";}jQuery("#"+jQuery(this).attr("id")+ID).find(".percentage").text(displayData);}});jQuery(this).bind("uploadifyComplete",{action:settings.onComplete},function(event,ID,fileObj,response,data){if(event.data.action(event,ID,fileObj,unescape(response),data)!==false){jQuery("#"+jQuery(this).attr("id")+ID).find(".percentage").text(" - Completed");if(settings.removeCompleted){jQuery("#"+jQuery(event.target).attr("id")+ID).fadeOut(250,function(){jQuery(this).remove();});}jQuery("#"+jQuery(event.target).attr("id")+ID).addClass("completed");}});if(typeof(settings.onAllComplete)=="function"){jQuery(this).bind("uploadifyAllComplete",{action:settings.onAllComplete},function(event,data){if(event.data.action(event,data)!==false){errorArray=[];}});}});},uploadifySettings:function(settingName,settingValue,resetObject){var returnValue=false;jQuery(this).each(function(){if(settingName=="scriptData"&&settingValue!=null){if(resetObject){var scriptData=settingValue;}else{var scriptData=jQuery.extend(jQuery(this).data("settings").scriptData,settingValue);}var scriptDataString="";for(var name in scriptData){scriptDataString+="&"+name+"="+scriptData[name];}settingValue=escape(scriptDataString.substr(1));}returnValue=document.getElementById(jQuery(this).attr("id")+"Uploader").updateSettings(settingName,settingValue);});if(settingValue==null){if(settingName=="scriptData"){var returnSplit=unescape(returnValue).split("&");var returnObj=new Object();for(var i=0;i<returnSplit.length;i++){var iSplit=returnSplit[i].split("=");returnObj[iSplit[0]]=iSplit[1];}returnValue=returnObj;}}return returnValue;},uploadifyUpload:function(ID,checkComplete){jQuery(this).each(function(){if(!checkComplete){checkComplete=false;}document.getElementById(jQuery(this).attr("id")+"Uploader").startFileUpload(ID,checkComplete);});},uploadifyCancel:function(ID){jQuery(this).each(function(){document.getElementById(jQuery(this).attr("id")+"Uploader").cancelFileUpload(ID,true,true,false);});},uploadifyClearQueue:function(){jQuery(this).each(function(){document.getElementById(jQuery(this).attr("id")+"Uploader").clearFileUploadQueue(false);});}});})(jQuery);}
if(window.jQuery){(function($){if($.browser.msie){try{document.execCommand("BackgroundImageCache",false,true);}catch(e){}}$.fn.rating=function(options){if(this.length==0){return this;}if(typeof arguments[0]=="string"){if(this.length>1){var args=arguments;return this.each(function(){$.fn.rating.apply($(this),args);});}$.fn.rating[arguments[0]].apply(this,$.makeArray(arguments).slice(1)||[]);return this;}var options=$.extend({},$.fn.rating.options,options||{});$.fn.rating.calls++;this.not(".star-rating-applied").addClass("star-rating-applied").each(function(){var control,input=$(this);var eid=(this.name||"unnamed-rating").replace(/\[|\]/g,"_").replace(/^\_+|\_+$/g,"");var context=$(this.form||document.body);var raters=context.data("rating");if(!raters||raters.call!=$.fn.rating.calls){raters={count:0,call:$.fn.rating.calls};}var rater=raters[eid];if(rater){control=rater.data("rating");}if(rater&&control){control.count++;}else{control=$.extend({},options||{},($.metadata?input.metadata():($.meta?input.data():null))||{},{count:0,stars:[],inputs:[]});control.serial=raters.count++;rater=$('<span class="star-rating-control"/>');input.before(rater);rater.addClass("rating-to-be-drawn");if(input.attr("disabled")){control.readOnly=true;}rater.append(control.cancel=$('<div class="rating-cancel"><a title="'+control.cancel+'">'+control.cancelValue+"</a></div>").mouseover(function(){$(this).rating("drain");$(this).addClass("star-rating-hover");}).mouseout(function(){$(this).rating("draw");$(this).removeClass("star-rating-hover");}).click(function(){$(this).rating("select");}).data("rating",control));}var star=$('<div class="star-rating rater-'+control.serial+'"><a title="'+(this.title||this.value)+'">'+this.value+"</a></div>");rater.append(star);if(this.id){star.attr("id",this.id);}if(this.className){star.addClass(this.className);}if(control.half){control.split=2;}if(typeof control.split=="number"&&control.split>0){var stw=($.fn.width?star.width():0)||control.starWidth;var spi=(control.count%control.split),spw=Math.floor(stw/control.split);star.width(spw).find("a").css({"margin-left":"-"+(spi*spw)+"px"});}if(control.readOnly){star.addClass("star-rating-readonly");}else{star.addClass("star-rating-live").mouseover(function(){$(this).rating("fill");$(this).rating("focus");}).mouseout(function(){$(this).rating("draw");$(this).rating("blur");}).click(function(){$(this).rating("select");});}if(this.checked){control.current=star;}input.hide();input.change(function(){$(this).rating("select");});star.data("rating.input",input.data("rating.star",star));control.stars[control.stars.length]=star[0];control.inputs[control.inputs.length]=input[0];control.rater=raters[eid]=rater;control.context=context;input.data("rating",control);rater.data("rating",control);star.data("rating",control);context.data("rating",raters);});$(".rating-to-be-drawn").rating("draw").removeClass("rating-to-be-drawn");return this;};$.extend($.fn.rating,{calls:0,focus:function(){var control=this.data("rating");if(!control){return this;}if(!control.focus){return this;}var input=$(this).data("rating.input")||$(this.tagName=="INPUT"?this:null);if(control.focus){control.focus.apply(input[0],[input.val(),$("a",input.data("rating.star"))[0]]);}},blur:function(){var control=this.data("rating");if(!control){return this;}if(!control.blur){return this;}var input=$(this).data("rating.input")||$(this.tagName=="INPUT"?this:null);if(control.blur){control.blur.apply(input[0],[input.val(),$("a",input.data("rating.star"))[0]]);}},fill:function(){var control=this.data("rating");if(!control){return this;}if(control.readOnly){return;}this.rating("drain");this.prevAll().andSelf().filter(".rater-"+control.serial).addClass("star-rating-hover");},drain:function(){var control=this.data("rating");if(!control){return this;}if(control.readOnly){return;}control.rater.children().filter(".rater-"+control.serial).removeClass("star-rating-on").removeClass("star-rating-hover");},draw:function(){var control=this.data("rating");if(!control){return this;}this.rating("drain");if(control.current){control.current.data("rating.input").attr("checked","checked");control.current.prevAll().andSelf().filter(".rater-"+control.serial).addClass("star-rating-on");}else{$(control.inputs).removeAttr("checked");}control.cancel[control.readOnly||control.required?"hide":"show"]();this.siblings()[control.readOnly?"addClass":"removeClass"]("star-rating-readonly");},select:function(value,wantCallBack){var control=this.data("rating");if(!control){return this;}if(control.readOnly){return;}control.current=null;if(typeof value!="undefined"){if(typeof value=="number"){return $(control.stars[value]).rating("select",undefined,wantCallBack);}if(typeof value=="string"){$.each(control.stars,function(){if($(this).data("rating.input").val()==value){$(this).rating("select",undefined,wantCallBack);}});}}else{control.current=this[0].tagName=="INPUT"?this.data("rating.star"):(this.is(".rater-"+control.serial)?this:null);}this.data("rating",control);this.rating("draw");var input=$(control.current?control.current.data("rating.input"):null);if((wantCallBack||wantCallBack==undefined)&&control.callback){control.callback.apply(input[0],[input.val(),$("a",control.current)[0]]);}},readOnly:function(toggle,disable){var control=this.data("rating");if(!control){return this;}control.readOnly=toggle||toggle==undefined?true:false;if(disable){$(control.inputs).attr("disabled","disabled");}else{$(control.inputs).removeAttr("disabled");}this.data("rating",control);this.rating("draw");},disable:function(){this.rating("readOnly",true,true);},enable:function(){this.rating("readOnly",false,false);}});$.fn.rating.options={cancel:"Cancel Rating",cancelValue:"",split:0,starWidth:16};})(jQuery);}
(function($){$.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/({.*})/,single:"metadata"},setType:function(type,name){this.defaults.type=type;this.defaults.name=name;},get:function(elem,opts){var settings=$.extend({},this.defaults,opts);if(!settings.single.length){settings.single="metadata";}var data=$.data(elem,settings.single);if(data){return data;}data="{}";if(settings.type=="class"){var m=settings.cre.exec(elem.className);if(m){data=m[1];}}else{if(settings.type=="elem"){if(!elem.getElementsByTagName){return;}var e=elem.getElementsByTagName(settings.name);if(e.length){data=$.trim(e[0].innerHTML);}}else{if(elem.getAttribute!=undefined){var attr=elem.getAttribute(settings.name);if(attr){data=attr;}}}}if(data.indexOf("{")<0){data="{"+data+"}";}data=eval("("+data+")");$.data(elem,settings.single,data);return data;}}});$.fn.metadata=function(opts){return $.metadata.get(this[0],opts);};})(jQuery);
if(typeof f=="undefined"||!Salem){var Salem={};}Salem.RegisterNamespace=function(){var a=arguments,o=null,i,j,d;for(i=0;i<a.length;i++){d=a[i].split(".");o=Salem;for(j=(d[0]=="Salem")?1:0;j<d.length;j++){o[d[j]]=o[d[j]]||{};o=o[d[j]];}}return o;};Salem.Bind=function(obj,fun,args){return function(){if(obj===true){obj=this;}var f=typeof fun==="string"?obj[fun]:fun;return f.apply(obj,Array.prototype.slice.call(args||[]).concat(Array.prototype.slice.call(arguments)));};};Salem.QueryString={};(function(){var e,d=function(s){return decodeURIComponent(s.replace(/\+/g," "));},q=window.location.search.substring(1),r=/([^&=]+)=?([^&]*)/g;while(e=r.exec(q)){Salem.QueryString[d(e[1])]=d(e[2]);}})();Salem.RegisterNamespace("Search.Cookie");Salem.Search.Cookie=function(value){var cookieName="Search.Cookie";if(typeof value!="undefined"){$.cookies.set(cookieName,value);}else{var ret="";if($.cookies.get(cookieName)!=null){ret=$.cookies.get(cookieName);}return ret;}};Salem.RegisterNamespace("Ajax.Service");Salem.Ajax.Service=function AjaxService(serviceUrl){var Instance=this;this.serviceUrl=serviceUrl;this.JsonGet=function(method,data,callback,error){this.Invoke("GET",method,data,callback,error,false);};this.JsonPost=function(method,data,callback,error){this.Invoke("POST",method,data,callback,error,false);};this.Invoke=function(action,method,data,callback,error,bare){var url=Instance.serviceUrl+method;$.ajax({url:url,data:data,type:action,processData:true,contentType:"application/json",timeout:5000,dataType:"json",success:function(response){if(!bare){for(var property in response){response=response[property];break;}}response=JSON.parse(response);callback(response);},error:error});};};Salem.RegisterNamespace("String");Salem.String={IsNullOrEmpty:function(){var ret=false;for(var i=0;i<arguments.length;i++){if(ret==false&&(arguments[i]==null||Salem.String.Trim(arguments[i].toString()).length==0)){ret=true;}}return ret;},Format:function(str){for(var i=1;i<arguments.length;i++){var re=new RegExp("\\{"+(i-1)+"\\}","gm");var val=(Salem.String.IsNullOrEmpty(arguments[i]))?"":arguments[i];str=str.replace(re,val);}return str;},Trim:function(str){return str.replace(/^\s+|\s+$/g,"");},StripHtml:function(str){return str.replace(/(<([^>]+)>)/ig,"");},HtmlEncode:function(str){return $("<div/>").text(str).html();},HtmlDecode:function(str){return $("<div/>").html(str).text();},ReplaceLineBreaks:function(str){return str.replace(/(\r\n|\n|\r)/gm,"<br />");}};Salem.RegisterNamespace("Validation");Salem.Validation={IsValidEmail:function(email){var reg=new RegExp("^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,4}$");return reg.test(email);}};Salem.RegisterNamespace("Sound");Salem.Sound={Play:function(sound,debug){var embed=document.getElementById("__SoundFrame");if(embed!=null){embed.parentNode.removeChild(embed);}embed=document.createElement("embed");embed.setAttribute("id","__SoundFrame");embed.setAttribute("src",sound);embed.setAttribute("loop","false");embed.setAttribute("volume","200");embed.setAttribute("autostart","true");if(debug==null||debug==false){embed.setAttribute("hidden","true");}document.body.appendChild(embed);}};
Salem.RegisterNamespace("GodTube.Com.Facebook");Salem.GodTube.Com.Facebook={LoadScript:function(url,callback){var script=document.createElement("script");script.type="text/javascript";if(script.readyState){script.onreadystatechange=function(){if(script.readyState=="loaded"||script.readyState=="complete"){script.onreadystatechange=null;if(typeof(callback)=="function"){callback.call();}}};}else{script.onload=function(){if(typeof(callback)=="function"){callback.call();}};}script.src=url;document.getElementsByTagName("head")[0].appendChild(script);},Init:function(){$(".facebookComment").find("div.comments").remove();$(".fbtooltip").each(function(){if($.browser.msie){$(this).tooltip({position:"top right",offset:[0,195],tipClass:"fbtooltiptext"});}else{$(this).tooltip({position:"top center",offset:[0,-35],tipClass:"fbtooltiptext"});}});}};$(document).ready(function(){Salem.GodTube.Com.Facebook.Init();});
Salem.RegisterNamespace("GodTube.Com.Login");Salem.GodTube.Com.Login={DialogForm:null,Callback:null,ShowDialog:function(callbackMethod){Salem.GodTube.Com.Login.Callback=callbackMethod;if(Salem.GodTube.Com.Login.DialogForm==null){$.ajax({type:"GET",async:false,url:SiteSettings.SiteRoot+"user/ajax/login.html",data:{},success:function(response){if(response.Success){Salem.GodTube.Com.Login.DialogForm=$("<div/>").html(response.Html);Salem.GodTube.Com.Login.DialogForm.dialog({title:SiteSettings.TextResource.LoginRequired,autoOpen:false,resizable:false,width:440,height:230,modal:true});var form=$(Salem.GodTube.Com.Login.DialogForm).find("form.validate");form.addClass("loginbox");form.unbind();form.submit(function(e){e.preventDefault();var form=$(this);Salem.GodTube.Com.Login.DialogForm.find("div.feedback span").html("");if(form.valid()){form.mask();$.ajax({type:"POST",async:false,data:form.serialize(),url:SiteSettings.SiteRoot+"user/ajax/login.html",success:function(resp){form.unmask();if(resp.Success){Salem.GodTube.Com.Login.DialogForm.find("span.success").html(resp.Feedback);$("ul.accountoptions").replaceWith(resp.Html);Salem.GodTube.Com.Login.DialogForm.dialog("close");if(typeof(Salem.GodTube.Com.Login.Callback)=="function"){Salem.GodTube.Com.Login.Callback.call();}Salem.GodTube.Com.Login.Callback=null;return;}Salem.GodTube.Com.Login.DialogForm.find("span.error").html(resp.Feedback);},error:function(resp){form.unmask();alert(SiteSettings.TextResource.UnknownError);}});}});form.validate();form.keypress(function(e){if(e.keyCode==13){$(this).submit();}});form.find("a.externalLink").click(function(e){e.preventDefault();var href=$(this).attr("href");var confirm=$("<div/>");confirm.html(SiteSettings.TextResource.LeavePageConfirmation);confirm.dialog({title:SiteSettings.TextResource.Notice,resizable:false,modal:false,buttons:{Confirm:function(){document.location.href=href;$(this).dialog("close");},Cancel:function(){$(this).dialog("close");}}});});}},error:function(response){alert(SiteSettings.TextResource.UnknownError);}});}Salem.GodTube.Com.Login.DialogForm.dialog("open");}};
(function($){$.timeago=function(timestamp){if(timestamp instanceof Date){return inWords(timestamp);}else{if(typeof timestamp=="string"){return inWords($.timeago.parse(timestamp));}else{return inWords($.timeago.datetime(timestamp));}}};var $t=$.timeago;$.extend($.timeago,{settings:{refreshMillis:60000,allowFuture:false,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",numbers:[]}},inWords:function(distanceMillis){var $l=this.settings.strings;var prefix=$l.prefixAgo;var suffix=$l.suffixAgo;if(this.settings.allowFuture){if(distanceMillis<0){prefix=$l.prefixFromNow;suffix=$l.suffixFromNow;}distanceMillis=Math.abs(distanceMillis);}var seconds=distanceMillis/1000;var minutes=seconds/60;var hours=minutes/60;var days=hours/24;var years=days/365;function substitute(stringOrFunction,number){var string=$.isFunction(stringOrFunction)?stringOrFunction(number):stringOrFunction;var value=($l.numbers&&$l.numbers[number])||number;return string.replace(/%d/i,value);}var words=seconds<45&&substitute($l.seconds,Math.round(seconds))||seconds<90&&substitute($l.minute,1)||minutes<45&&substitute($l.minutes,Math.round(minutes))||minutes<90&&substitute($l.hour,1)||hours<24&&substitute($l.hours,Math.round(hours))||hours<48&&substitute($l.day,1)||days<30&&substitute($l.days,Math.floor(days))||days<60&&substitute($l.month,1)||days<365&&substitute($l.months,Math.floor(days/30))||years<2&&substitute($l.year,1)||substitute($l.years,Math.floor(years));return $.trim([prefix,words,suffix].join(" "));},parse:function(iso8601){var s=$.trim(iso8601);s=s.replace(/\.\d\d\d/,"");s=s.replace(/-/,"/").replace(/-/,"/");s=s.replace(/T/," ").replace(/Z/," UTC");s=s.replace(/([\+-]\d\d)\:?(\d\d)/," $1$2");return new Date(s);},datetime:function(elem){var isTime=$(elem).get(0).tagName.toLowerCase()=="time";var iso8601=isTime?$(elem).attr("datetime"):$.trim($(elem).attr("title"))==""?$(elem).text():$(elem).attr("title");return $t.parse(iso8601);}});$.fn.timeago=function(){var self=this;self.each(refresh);var $s=$t.settings;if($s.refreshMillis>0){setInterval(function(){self.each(refresh);},$s.refreshMillis);}return self;};function refresh(){var data=prepareData(this);if(!isNaN(data.datetime)){$(this).text(inWords(data.datetime));}return this;}function prepareData(element){element=$(element);if(!element.data("timeago")){element.data("timeago",{datetime:$t.datetime(element)});var text=$.trim(element.text());if(text.length>0){element.attr("title",text);}}return element.data("timeago");}function inWords(date){return $t.inWords(distance(date));}function distance(date){return(new Date().getTime()-date.getTime());}document.createElement("abbr");document.createElement("time");})(jQuery);
Salem.RegisterNamespace("GodTube.Com.PageLinks");Salem.GodTube.Com.PageLinks={Init:function(){$("div.pagelinks").each(function(){var ActivePage=$("div.pagelinks").find("a.link.active").attr("pagenumber");var PageCount=$("div.pagelinks").find("a.link").length;$("div.pagecontainer").serialScroll({items:"a",lazy:false,cycle:false,constant:false,duration:200,offset:-302,jump:false,step:1,axis:"x"});if(PageCount>12){var scrollPage=(ActivePage>(PageCount-5))?(PageCount-5):ActivePage;$("div.pagecontainer").trigger("goto",[scrollPage]);}});}};$(document).ready(function(){Salem.GodTube.Com.PageLinks.Init();});
Salem.RegisterNamespace("GodTube.Com.AjaxLinks");Salem.GodTube.Com.AjaxLinks={Init:function(rootJqueryElement,callbackMethod){$(rootJqueryElement).find(".ajaxlinks[useajax='true']").find("a.ajaxLink").unbind("click").attr("href","#").click(function(){var link=$(this);if($.trim(link.attr("ajaxurl"))!=""&&$.trim(link.attr("ajaxmethod"))!=null){var type=link.attr("ajaxmethod");var url=link.attr("ajaxurl");var target=link.parents(".ajaxlinks").parent();var ajaxurl=url.split("?")[0];try{target.mask();}catch(ex){}$.ajax({type:type,url:url,data:{url:SiteSettings.BaseUrl,ajaxurl:ajaxurl},success:function(response){if(response.Success){try{target.unmask();}catch(ex){}if($(window).scrollTop()>target.position().top){$(document).scrollTo(target,200);}target.replaceWith(response.Html);Salem.GodTube.Com.AjaxLinks.Init(rootJqueryElement,callbackMethod);Salem.GodTube.Com.PageLinks.Init();Salem.GodTube.Com.AuditLink.Init();Salem.GodTube.Com.DeleteLink.Init();Salem.GodTube.Com.Playlist.CheckBinding();if(typeof(callbackMethod)=="function"){callbackMethod.call();}}},error:function(response){if(response.status==401){window.location=SiteSettings.SiteRoot+"user/login.html?returnurl="+window.location;return;}alert(SiteSettings.TextResource.UnknownError);}});}return false;});}};
Salem.RegisterNamespace("GodTube.Com.SiteActions");Salem.GodTube.Com.SiteActions={ExpandableElement:function(){$(".expandable[maxheight]").each(function(){var obj=$(this);var height=obj.height();var maxheight=parseInt(obj.attr("maxheight"));if(height>maxheight+20){obj.css("overflow","hidden").height(maxheight);var link=$('<a href="" class="whitelink moreless" />').html("<span>"+SiteSettings.TextResource.MoreText+"</span>").css("marginTop",5);link.toggle(function(){obj.animate({height:height},200);link.find("span").text(SiteSettings.TextResource.LessText);link.blur();},function(){obj.animate({height:maxheight},200);link.find("span").text(SiteSettings.TextResource.MoreText);link.blur();});obj.after(link);}});$(".expandableV[maxheight]").each(function(){var obj=$(this);var height=obj.height();var maxheight=parseInt(obj.attr("maxheight"));if(height>maxheight+20){obj.css("overflow","hidden").height(maxheight);var link=$('<div class="link"></div>').html('<a href="" class="whitelinkV moreless"> <span>'+SiteSettings.TextResource.MoreText+"</span> </a>").css("marginTop",5);link.toggle(function(){obj.animate({height:height},200);link.find("span").text(SiteSettings.TextResource.LessText);link.blur();},function(){obj.animate({height:maxheight},200);link.find("span").text(SiteSettings.TextResource.MoreText);link.blur();});obj.after(link);}});$(".expandabletext[maxheight]").each(function(){var obj=$(this);var height=obj.height();var maxheight=parseInt(obj.attr("maxheight"));if(height>maxheight+20){obj.css("overflow","hidden").height(maxheight);var link=$('<a href="" class="moreless" />').html(SiteSettings.TextResource.ReadMore).css("marginTop",5);link.toggle(function(){obj.animate({height:height},200);link.text(SiteSettings.TextResource.ReadLess);link.blur();},function(){obj.animate({height:maxheight},200);link.text(SiteSettings.TextResource.ReadMore);link.blur();});obj.after(link);}});},ProcessRedirects:function(){var json=$("#RedirectJsonInput").val();if($.trim(json)!=""){var redirect=JSON.parse(json);if(redirect.Url!=null){var counter=function(){if(redirect.Timeout!=null&&parseInt(redirect.Timeout)!="NaN"&&redirect.Timeout>0&&redirect.UpdateSelector!=null&&$(redirect.UpdateSelector).length>0){$(redirect.UpdateSelector).text(redirect.Timeout);redirect.Timeout--;setTimeout(counter,1000);return;}document.location.href=redirect.Url;};counter();}}},FileUploadComplete:function(file){alert(file);},WireFormValidation:function(){var conversionScript=function(){var script="<!-- Google Code for Newsletter Signup Conversion Page -->";script+="<script type='text/javascript'>";script+="/* <![CDATA[ */";script+="var google_conversion_id = 1015594263;";script+="var google_conversion_language = 'en';";script+="var google_conversion_format = '2';";script+="var google_conversion_color = 'ffffff';";script+="var google_conversion_label = 'QD7dCImL0gEQl_qi5AM';";script+="var google_conversion_value = 0;";script+="/* ]]> */";script+="<\/script>";script+="<script type='text/javascript' src='http://www.googleadservices.com/pagead/conversion.js'><\/script>";script+="<noscript>";script+="<div style='display:inline;'>";script+="<img height='1' width='1' style='border-style:none;' alt='' src='http://www.googleadservices.com/pagead/conversion/1015594263/?label=QD7dCImL0gEQl_qi5AM&guid=ON&script=0'/>";script+="</div>";script+="</noscript>";$("body").append(script);};$("form.validate").each(function(){var clearMe=function(e,elm){if(e.keyCode==8){e.preventDefault();$(elm).val("");}};$(this).find("input.pastdate").datepicker({maxDate:0,changeMonth:true,changeYear:true,yearRange:"-80:+0",showMonthAfterYear:true});$(this).find("input.futuredate").datepicker({minDate:0,changeMonth:true,changeYear:true,yearRange:"-0:+20"});$(this).find("input.date").datepicker({changeMonth:true,changeYear:true,yearRange:"-80:+80"});var form=$(this);$(this).find("a.submit").click(function(){form.submit();var selectedNewsletters=$(".newsletterscontainer").find("input[type='checkbox']:checked");if(selectedNewsletters.length>0){$.cookies.set("ShowConversionCode","1");}return false;});$(this).find("input").keydown(function(event){if(event.keyCode=="13"){event.preventDefault();form.submit();}});var state=$(this).find(".state");var statedd=$(this).find(".statedropdown");var country=$(this).find(".country");if(state!=null&&state.length==1&&statedd!=null&&statedd.length==1&&country!=null&&country.length==1){var countrychange=function(){if(country.val()=="US"){state.attr("disabled","disabled").hide();statedd.removeAttr("disabled").show();var selState=state.val().toUpperCase();statedd.find("option").each(function(){if($(this).val()==selState){option=this;option.selected=true;return;}});}else{statedd.attr("disabled","disabled").hide();state.removeAttr("disabled").show();}};countrychange();country.change(countrychange);var stateChange=function(){state.val(statedd.val());};stateChange();statedd.change(stateChange);}$(this).find('input[type="file"]').each(function(){if($(this).hasClass("nomask")){return true;}var spanWrap=$('<span id="fileUpload" class="filewrapper"/>');$(this).wrap(spanWrap);var filemask=$('<input id="fileuploadname" name="fileuploadname" type="text" class="required" readonly="readonly" />');$(this).after(filemask);$(this).after($('<a class="whitelink"/>').append($("<span/>").text(SiteSettings.TextResource.Browse)));$(this).attr("title",SiteSettings.TextResource.DoubleClickMayBeRequired).change(function(){filemask.val($(this).val());});filemask.val($(this).val());});$(this).validate({rules:{NewPassword:{required:true,minlength:6,maxlength:128},NewPasswordAgain:{required:true,equalTo:"#NewPassword"},recaptcha_response_field:{required:true},captchaValid:{required:true}},messages:{NewPasswordAgain:{equalTo:"Passwords do not match."}}});});},WireFormValidationProfile:function(){$("form.manageProfile").each(function(){var applyPassword=false;var clearMe=function(e,elm){if(e.keyCode==8){e.preventDefault();$(elm).val("");}};$(this).find("input.pastdate").datepicker({maxDate:0,changeMonth:true,changeYear:true,yearRange:"-80:+0",showMonthAfterYear:true});$(this).find("input.futuredate").datepicker({minDate:0,changeMonth:true,changeYear:true,yearRange:"-0:+20"});$(this).find("input.date").datepicker({changeMonth:true,changeYear:true,yearRange:"-80:+80"});var form=$(this);$(this).find("a.submit").click(function(){form.submit();return false;});$(this).find("input").keydown(function(event){if(event.keyCode=="13"){event.preventDefault();form.submit();}});var state=$(this).find(".state");var statedd=$(this).find(".statedropdown");var country=$(this).find(".country");if(state!=null&&state.length==1&&statedd!=null&&statedd.length==1&&country!=null&&country.length==1){var countrychange=function(){if(country.val()=="US"){state.attr("disabled","disabled").hide();statedd.removeAttr("disabled").show();var selState=state.val().toUpperCase();statedd.find("option").each(function(){if($(this).val()==selState){option=this;option.selected=true;return;}});}else{statedd.attr("disabled","disabled").hide();state.removeAttr("disabled").show();}};countrychange();country.change(countrychange);var stateChange=function(){state.val(statedd.val());};stateChange();statedd.change(stateChange);}$(this).find('input[type="file"]').each(function(){if($(this).hasClass("nomask")){return true;}var spanWrap=$('<span id="fileUpload" class="filewrapper"/>');$(this).wrap(spanWrap);var filemask=$('<input id="fileuploadname" name="fileuploadname" type="text" class="required" readonly="readonly" />');$(this).after(filemask);$(this).after($('<a class="whitelink"/>').append($("<span/>").text(SiteSettings.TextResource.Browse)));$(this).attr("title",SiteSettings.TextResource.DoubleClickMayBeRequired).change(function(){filemask.val($(this).val());});filemask.val($(this).val());});$("input[name$='change']").click(function(){if($("#File1").is(":visible")){$("#File1").hide();}else{$("#File1").show();}});$("input[name$='edit']").click(function(){if($("#Pass").is(":visible")){applyPassword=false;$("#Pass").hide();$("#OldPassword").val("********");$("input[name$='edit']").val("Edit");$("#NewPassword").removeClass("required");$("#NewPasswordAgain").removeClass("required");$(this).show();}else{applyPassword=true;$("#Pass").show();$("#OldPassword").val("");$("input[name$='edit']").val("Cancel");$("#NewPassword").addClass("required");$("#NewPasswordAgain").addClass("required");}});$(this).validate({rules:{NewPassword:{required:applyPassword,minlength:6,maxlength:128},NewPasswordAgain:{required:applyPassword,equalTo:"#NewPassword"},recaptcha_response_field:{required:true},captchaValid:{required:true}},messages:{NewPasswordAgain:{equalTo:"Passwords do not match."}}});});},WireFormReadWrite:function(){$("form.readWrite").each(function(){var form=$(this);if($.trim($("span.error").html())!=""&&document.location.href==form.attr("action")){form.removeClass("readWrite");return true;}form.find(":input, .submitButton").each(function(){var elem=$(this);if(!elem.hasClass("editOnly")){var value=(elem.attr("type")=="password")?"********":elem.val();elem.after($('<span class="readWrite"/>').html(value.replace(/\n/g,"<br/>")));}});form.HideFields=function(){form.find("input, select, textarea, span.inputerror").hide();form.addClass("readWrite");form.find(".readOnly").show();};form.ShowFields=function(){form.find("input, select, textarea").css("display","");form.find(":disabled").hide();form.removeClass("readWrite");form.find(".readOnly").hide();};var href=$('<a href="#" class="readWriteEditControl GlobalRedLink"/>').html($("<span/>").html(SiteSettings.TextResource.Edit));href.click(function(){form.ShowFields();return false;});form.prepend(href);form.find(".cancel").click(function(e){e.preventDefault();form[0].reset();form.HideFields();});form.HideFields();});},WireJavaScriptCaptcha:function(){$(".certifyInfo").each(function(){$(this).append('<input id="captchaValid" name="captchaValid" type="checkbox" value="true" /> '+SiteSettings.TextResource.CertifyUserInfo);});},WireMediaDownload:function(){$("div.mediaDownload").each(function(){downloadWidget=$(this);downloadLink=downloadWidget.find("a.downloadlink:first");downloadLink.bind("click",function(e){if(!downloadWidget.find('input[type="checkbox"]:checked').length){Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.MediaDownloadTermsOfUseDisclosure);return false;}url=SiteSettings.SiteRoot+"media/ajax/downloadrequest/";mediakey=$(this).attr("mediakey");downloadWidget.mask();$.ajax({type:"POST",data:({mediakey:mediakey}),url:url.toLowerCase(),dataType:"json",success:function(response){if(response.Success){$("#mediaDownloadIFrame").attr("src",SiteSettings.SiteRoot+"media/ajax/download/?mediaId="+response.MediaId+"&mediaDownloadId="+response.MediaDownloadId);downloadWidget.unmask();}else{Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.ActionNotAllowed);downloadWidget.unmask();}},error:function(response){if(response.status==401){Salem.GodTube.Com.Login.ShowDialog(function(){downloadLink.click();});downloadWidget.unmask();}if(response.status==405||response.status==404){Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.ActionNotAllowed);downloadWidget.unmask();}}});});downloadWidget.find("a.terms:first").bind("click",function(e){e.preventDefault();Salem.GodTube.Com.MessageBox.OkMessageBox(downloadWidget.find(".disclosure").html());});});},WireRelativeDates:function(){$(".relativeTimespan").timeago();},WireTooltips:function(){$("a.toolTip").tooltip();},DefaultTextTextBox:function(){$(".defaultText").each(function(){var defaultText=$(this).val();$(this).focus(function(){if($(this).val()==defaultText){$(this).val("");}else{$(this).select();}});$(this).blur(function(){if($.trim($(this).val())==""){$(this).val(defaultText);}});});},EmailPage:function(){$(".emailAction").each(function(){var emailElem=$(this);emailElem.click(function(){var url=window.location.href;if(emailElem.attr("href")!="#"){url=emailElem.attr("href");}var body=escape(window.document.title+String.fromCharCode(13)+url);var subject=SiteSettings.TextResource.EmailPageSubject;window.location.href="mailto:?body="+body+"&subject="+subject;return false;});});},PrintPage:function(){$(".printAction").each(function(){$(this).click(function(){var body=$("<div />").append($(".printMe").clone());body.append($("<div/>").css("font-size",12).append($("<h5/>").css("margin-bottom",5).css("font-size",14).html(function(){try{return SiteSettings.TextResource.PrintSource;}catch(ex){}return"";})).append(document.location.href));body.find(".donotprintMe").remove();body.find("a").removeAttr("href");var html="<html><head><title>"+document.title+"</title></head><body>"+body.html()+"</body></html>";var printWindow=window.open("","PrintWindow","width=600,height=800,scrollbars=yes,toolbars=no,location=yes,status=no,copyhistory=no,menubar=no");printWindow.document.open();printWindow.document.write(html);printWindow.document.close();printWindow.print();return false;});});},SelectablePreview:function(){$(".selectablePreview li").each(function(){$(this).click(function(){$(this).addClass("ui-selected").siblings().removeClass("ui-selected");$(this).children("input[type=radio]").attr("checked","checked");});});},ChangeTabs:function(){$("a.albums").click(function(){$("div.artistTabAlbum").show();$("div.artistTabReview").hide();$("div#artistTabHeader").removeClass("artistTabHeader2");$("li#albumsLi").addClass("active");$("li#reviewsLi").removeClass("active");});$("a.reviews").click(function(){$("div.artistTabReview").show();$("div.artistTabAlbum").hide();$("div#artistTabHeader").addClass("artistTabHeader2");$("li#albumsLi").removeClass("active");$("li#reviewsLi").addClass("active");});},Init:function(){Salem.GodTube.Com.SiteActions.ProcessRedirects();Salem.GodTube.Com.SiteActions.WireTooltips();Salem.GodTube.Com.SiteActions.DefaultTextTextBox();Salem.GodTube.Com.SiteActions.WireFormValidation();Salem.GodTube.Com.SiteActions.WireFormValidationProfile();Salem.GodTube.Com.SiteActions.WireFormReadWrite();Salem.GodTube.Com.SiteActions.EmailPage();Salem.GodTube.Com.SiteActions.PrintPage();Salem.GodTube.Com.SiteActions.WireRelativeDates();Salem.GodTube.Com.SiteActions.ExpandableElement();Salem.GodTube.Com.SiteActions.SelectablePreview();Salem.GodTube.Com.SiteActions.WireJavaScriptCaptcha();Salem.GodTube.Com.SiteActions.WireMediaDownload();Salem.GodTube.Com.SiteActions.ChangeTabs();}};$(document).ready(function(){Salem.GodTube.Com.SiteActions.Init();});
Salem.RegisterNamespace("GodTube.Com.Search");Salem.GodTube.Com.Search={Init:function(){$("#q").each(function(){var defaultText=$(this).val();$(this).parents("form").submit(function(){var val=$(this).find("#q").val();return(val!=defaultText)&&($.trim(val)!="");});$("#devoSerch").submit(function(){var val=$(this).find("#q").val();return(val!="search devotionals")&&($.trim(val)!="");});$("#searchArtistName").submit(function(){var val=$(this).find("#q").val();$(this).find("#n").val(val);return(val!="search artist name")&&($.trim(val)!="");});});}};$(document).ready(function(){Salem.GodTube.Com.Search.Init();});
Salem.RegisterNamespace("GodTube.Com.MediaPlayer");Salem.GodTube.Com.MediaPlayer={SetMediaPlayer:function(jQueryElm,width,height,autoPlay,advertise,showLogo,noEmbed,showRelated,isVideo,isEmbedded,showTitle,shareLinks,displayPrerolls){var jwplayerVersion="5.8";var siteroot=SiteSettings.SiteRoot;var resourceroot=SiteSettings.ResourceRoot;var pluginroot=resourceroot+"mediaplayer/plugins/";var player=resourceroot+"mediaplayer/"+jwplayerVersion+"/player.swf";var skin=resourceroot+"mediaplayer/skin/default/videoskin.swf";var plugins=pluginroot+"ovashare20120522/ovashare.swf";var dxmlpath=null;var ext=$(jQueryElm).attr("ext");var filetype=$(jQueryElm).attr("type");var isStream=(filetype=="RtmpVideo");var mediaKey=$(jQueryElm).attr("mediakey").toLowerCase();var overlaySize="normal";var videoUrl=$(jQueryElm).attr("videoUrl");var thumbUrl=$(jQueryElm).attr("thumbUrl");if(parseInt(width,10)<=400){overlaySize="small";}var config=siteroot+"resource/mediaplayer/"+mediaKey+".xml?autoplay="+autoPlay+"&showLogo="+showLogo+"&noEmbed="+noEmbed+"&overlaySize="+overlaySize+"&isEmbedded="+isEmbedded;if(isEmbedded){config+="&width="+width+"&height="+height+"&showTitle="+showTitle+"&shareLinks="+shareLinks+"&displayPrerolls="+displayPrerolls;}if(typeof(oasSitePage)!="undefined"){config+="&adZone="+encodeURIComponent(oasSitePage);}if(typeof(oasRandom)!="undefined"){config+="&random=1"+encodeURIComponent(oasRandom);}var type="";if(isVideo){if(isStream){type="rtmp";plugins="captions-2,"+plugins;}else{type="video";}}var id=$(jQueryElm).attr("id");if($.trim(id)==""){$(jQueryElm).attr("id","videoPlayer");id="videoPlayer";}var watched=false;if(!Salem.GodTube.Com.MediaPlayer.DetectPlugin("Shockwave","Flash")&&screen.width<=320&&(ext=="mp4")){var preview=$('<img width="'+width+'" height="'+height+'" src="'+siteroot+"resource/mediaplayer/"+mediaKey+'.jpg" />');var buttonOverlay=$('<a href="#" class="playButtonLink"></a>').css("position","absolute").css("top",(height/2)-75).css("left",(width/2)-75);buttonOverlay.click(function(e){e.preventDefault();var file=siteroot+"resource/mediaplayer/"+$(jQueryElm).attr("mediakey").toLowerCase()+".mp4";document.location.href=file;});$("#"+id).parent().html("").append(preview).append(buttonOverlay);return;}if(!Salem.GodTube.Com.MediaPlayer.DetectPlugin("Shockwave","Flash")&&Salem.GodTube.Com.MediaPlayer.DetectPlugin("QuickTime")&&(ext=="mp4")){var file=siteroot+"resource/mediaplayer/"+$(jQueryElm).attr("mediakey").toLowerCase()+".mp4";$(jQueryElm).html(unescape('<OBJECT%20CLASSID="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B"%20CODEBASE="http://www.apple.com/qtactivex/qtplugin.cab"%20WIDTH="'+width+'" HEIGHT="'+height+'"><PARAM%20NAME="src"%20VALUE="'+file+'"><PARAM%20NAME="scale"%20VALUE="ASPECT"><PARAM%20NAME="autoplay"%20VALUE="true"><EMBED%20SRC="'+file+'"%20SCALE="ASPECT"%20TYPE="image/x-macpaint"PLUGINSPAGE="http://www.apple.com/quicktime/download"%20WIDTH="'+width+'"%20HEIGHT="'+height+'"%20AUTOPLAY="true"></EMBED></OBJECT>'));return;}var fbCTA=$('<div id="FBCTA" class="fb_like" style="display:none;"><iframe src="//www.facebook.com/plugins/like.php?href='+SiteSettings.SiteRoot+"watch/?v="+mediaKey.toUpperCase()+'&amp;send=false&amp;layout=button_count&amp;width=80&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:80px; height:21px;" allowTransparency="true"></iframe></div>');$("#videoContainer").append(fbCTA);if(typeof(FB)!="undefined"){FB.XFBML.parse(document.getElementById("videoContainer"));}var container=$("#videoContainer");jwplayer(id).setup({flashplayer:player,plugins:plugins,config:config,height:height,width:width,screencolor:"000000",controlbar:"over",autostart:autoPlay,playonce:true,skin:skin,wmode:"opaque",events:{onPause:function(stateInfo){var playlist=jwplayer(id).getPlaylist();if(playlist[0].author!="OVA"){Salem.GodTube.Com.Playlist.ContinuousPlaylist();}},onPlay:function(stateInfo){var playlist=jwplayer(id).getPlaylist();if(playlist[0].author!="OVA"){if(!watched){watched=true;jQuery.ajax({type:"POST",data:{mediaKey:mediaKey},url:SiteSettings.SiteRoot+"media/increment/",error:function(XMLHttpRequest,textStatus,errorThrown){},success:function(response,textStatus,XMLHttpRequest){}});}jwplayer(id).onComplete(function(){var playlist=jwplayer(id).getPlaylist();if(playlist[0].author!="OVA"){Salem.GodTube.Com.Playlist.ContinuousPlaylist();}});}}}});},DetectPlugin:function(){var daPlugins=Salem.GodTube.Com.MediaPlayer.DetectPlugin.arguments;var pluginFound=false;if(navigator.plugins&&navigator.plugins.length>0){var pluginsArrayLength=navigator.plugins.length;for(pluginsArrayCounter=0;pluginsArrayCounter<pluginsArrayLength;pluginsArrayCounter++){var numFound=0;for(namesCounter=0;namesCounter<daPlugins.length;namesCounter++){if((navigator.plugins[pluginsArrayCounter].name.indexOf(daPlugins[namesCounter])>=0)||(navigator.plugins[pluginsArrayCounter].description.indexOf(daPlugins[namesCounter])>=0)){numFound++;}}if(numFound==daPlugins.length){pluginFound=true;break;}}}return pluginFound;},ClickEmbedButton:function(){$("a.embedlink").click();},ShowSharePlatter:function(){$("a.facebookShare").click();},jsLiked:function(){$(".FBlike").click();},jsShare:function(){alert("Share");},jsPrivacy:function(){window.location=SiteSettings.SiteRoot+"privacy-policy.html";},jsTerm:function(){window.location=SiteSettings.SiteRoot+"terms-of-use.html";},jsGetVideo:function(email){Salem.GodTube.Newsletter.NewsletterSignupPlayer(email);},jsTwitter:function(){var videoUrl=$("#videoContainer").attr("videoUrl");var titlevideo="Currently viewing "+$("#videoContainer").attr("titleVideo")+" "+videoUrl;var href="https://twitter.com/home?status="+titlevideo;window.open(href);},jsGoogle:function(){var videoUrl=$("#videoContainer").attr("videoUrl");var href="https://plus.google.com/share?url="+videoUrl;window.open(href);},jsPInterest:function(){var videoUrl=$("#videoContainer").attr("videoUrl");var thumbUrl=$("#videoContainer").attr("thumbUrl");var href="http://pinterest.com/pin/create/button/?url="+videoUrl+"&media="+thumbUrl;window.open(href);},jsFBLike:function(state){var width=$("#videoPlayer_wrapper").outerWidth();var height=$("#videoPlayer_wrapper").outerHeight();if(width==null){width=$("#mediaUrl_wrapper").outerWidth();height=$("#mediaUrl_wrapper").outerHeight();}if(state=="none"){$("#FBCTA").removeAttr("style");$("#FBCTA").hide();}else{if(state=="state1"){if(width==640){width=85;}else{width=(width*85/640)-3;}if(height==390){height=70;}else{height=(height*70/390)-3;}$("#FBCTA").css({top:width,left:height}).show();}else{if(state=="state2"){if(width==640){width=58;}else{width=(width*58/640)-3;}if(height==390){height=25;}else{height=(height*25/390)-3;}$("#FBCTA").css({top:width,left:height}).show();}else{$("#FBCTA").removeAttr("style");$("#FBCTA").hide();}}}},Init:function(){$("div.audioPlayer").each(function(){Salem.GodTube.Com.MediaPlayer.SetMediaPlayer(this,400,29,false);});$("div.videoPlayer[size][mediakey]").each(function(){var size=$(this).attr("size").split(",");var autoPlay=($(this).attr("autoplay")=="true"||$(this).attr("autoplay")==undefined);var advertise=($(this).attr("advertise")=="True"||$(this).attr("advertise")==undefined);var noEmbed=$(this).attr("noEmbed")=="true";var showLogo=$(this).attr("showlogo")=="true";var showRelated=($(this).attr("showrelated")=="true"||$(this).attr("showrelated")==undefined);var isEmbedded=($(this).attr("isembedded")=="true"||$(this).attr("isembedded")!=undefined);var showTitle=$(this).attr("showtitle")=="true";var shareLinks=$(this).attr("sharelinks")=="true";var displayPrerolls=$(this).attr("displayprerolls")=="true";Salem.GodTube.Com.MediaPlayer.SetMediaPlayer(this,size[0],size[1],autoPlay,advertise,showLogo,noEmbed,showRelated,true,isEmbedded,showTitle,shareLinks,displayPrerolls);});}};$(document).ready(function(){Salem.GodTube.Com.MediaPlayer.Init();});
Salem.RegisterNamespace("GodTube.Com.Media");Salem.GodTube.Com.Media={MediaDetails:function(mediaId,successCallback,failureCallback){url=SiteSettings.SiteRoot+"media/details/"+mediaId;$.ajax({type:"POST",url:url,data:{cachekey:new Date().getTime()},dataType:"json",success:function(response){try{if(successCallback&&response.PreviewThumb!=""){successCallback(response);return;}}catch(e){}if(failureCallback){failureCallback(response);}},error:function(response){if(failureCallback){failureCallback(response);}}});},SetDuration:function(){var durationPattern=new RegExp(/^00:\d+:\d+/);$("span.duration").each(function(){if(durationPattern.test($(this).text())){$(this).text($(this).text().replace(/^00:/,""));}});},SetEmbedAction:function(){$("a.embedvideolink").each(function(){var link=$(this);var form=$('<form id="embedMediaForm" class="embedform"/>').dialog({resizable:false,title:SiteSettings.TextResource.EmbedTitle,width:470,autoOpen:false,dialogClass:"videoEmbedDialog"});var notice=$('<div class="title"/>').html(SiteSettings.TextResource.EmbedNotice);var wlabel=$('<label class="width" for="embedW"/>').text(SiteSettings.TextResource.Width);var winput=$('<input class="width required digits" id="embedW"/>').val(400);var hlabel=$('<label class="height" for="embedH"/>').text(SiteSettings.TextResource.Height);var hinput=$('<input class="height required digits" id="embedH"/>').val(255);var autoplay=$('<div class="autoplay"/>');var autoplayinput=$('<input type="checkbox" value="true" checked="checked"/>');var autoplaytext=$('<span class="autoplaynotice"/>').text(SiteSettings.TextResource.AutoPlayNotice);autoplay.append(autoplayinput);autoplay.append(autoplaytext);var showsharelinks=$('<div class="sharelinks"/>');var showsharelinksinput=$('<input type="checkbox" value="true" checked="checked"/>');var showsharelinkstext=$('<span class="autoplaynotice"/>').text(SiteSettings.TextResource.ShowShareLinksNotice);showsharelinks.append(showsharelinksinput);showsharelinks.append(showsharelinkstext);var showtitle=$('<div class="sharetitle"/>');var showtitleinput=$('<input type="checkbox" value="true" checked="checked"/>');var showtitletext=$('<span class="autoplaynotice"/>').text(SiteSettings.TextResource.ShowEmbedTitleNotice);showtitle.append(showtitleinput);showtitle.append(showtitletext);var showOldEmbed=$('<div class="useoldembed">');var showOldEmbedinput=$('<input type="checkbox" value="true"/>').change(function(){if($(this).is(":checked")){$("#scripttextarea").hide();$("#embedtextarea").show();}else{$("#scripttextarea").show();$("#embedtextarea").hide();}});var showOldEmbedtext=$('<span class="autoplaynotice"/>').text(SiteSettings.TextResource.ShowEmbedOldNotice);showOldEmbed.append(showOldEmbedinput);showOldEmbed.append(showOldEmbedtext);var script=$('<textarea id="scripttextarea" class="script" readonly="readonly"/>').focus(function(){$(this).select();}).click(function(){$(this).select();});var embed=$('<textarea id="embedtextarea" class="script" readonly="readonly" style="display:none;" />').focus(function(){$(this).select();}).click(function(){$(this).select();});var generateScript=function(){var root=SiteSettings.SiteRoot;var resource=SiteSettings.ResourceRoot;var siteName=SiteSettings.SiteName;var themeRoot=SiteSettings.ThemeRoot;var w=winput.val();var h=hinput.val();var ap=autoplayinput.is(":checked");var sl=showsharelinksinput.is(":checked");var st=showtitleinput.is(":checked");var mkey=link.attr("mediakey");var title=link.attr("medianame");var uname=link.attr("mediauser");var query="?";query+="w="+w;query+="&h="+h;query+="&ap="+ap;query+="&sl="+sl;query+="&title="+st;var vlink='<p><a href="'+root+"watch/?v="+mkey+'">'+title+'</a> from <a href="'+root+uname+'">'+uname+'</a> on <a href="'+root+'">'+siteName+"</a>.</p>";var s='<script type="text/javascript" src="'+root+"embed/source/"+mkey+".js"+query+'"><\/script>';script.val(s.toLowerCase()+vlink);var e='<object height="'+h+'" width="'+w+'" type="application/x-shockwave-flash" data="'+resource+'mediaplayer/5.6/player.swf"><param name="movie" value="'+resource+'mediaplayer/5.6/player.swf"><param name="allowfullscreen" value="true"><param name="allowscriptaccess" value="always">';e+='<param name="wmode" value="opaque">';e+='<param name="flashvars" value="file='+root+"resource/mediaplayer/"+mkey+".file&image="+root+"resource/mediaplayer/"+mkey+".jpg&screencolor=000000&type=video&autostart="+ap+"&playonce=true&skin="+resource+"mediaplayer/skin/default/videoskin.swf&logo.file="+themeRoot+"/media/embed-logo.png&logo.link="+root+"watch/?v="+mkey+'&logo.position=top-left&logo.hide=false&controlbar.position=over">';e+="</object>"+vlink;embed.val(e);};var IsValid=function(obj){$(obj).removeClass("inputerror");var regx=new RegExp(/^[0-9]+$/);var valid=regx.test($(obj).val());if(!valid){$(obj).addClass("inputerror");}return valid;};winput.keyup(function(){if(IsValid(this)){generateScript();}});hinput.keyup(function(){if(IsValid(this)){generateScript();}else{if($(this).val()=="old"){$(".useoldembed").show();}}});autoplayinput.change(function(){generateScript();});showsharelinksinput.change(function(){generateScript();});showtitleinput.change(function(){generateScript();});generateScript();form.append(notice);form.append(wlabel);form.append(winput);form.append(hlabel);form.append(hinput);form.append(autoplay);form.append(showsharelinks);form.append(showtitle);form.append(showOldEmbed);form.append(script);if(link.attr("type")!="RtmpVideo"){form.append(embed);}link.click(function(e){e.preventDefault();form.dialog("open");});});},SetMediaListHover:function(){$(".VerticalMediaList").each(function(){var UL=$(this);var originalHeight=UL.outerHeight();var ulheight=0;UL.find("li").each(function(){ulheight+=$(this).outerHeight(true);});var shrinkMediaList=function(){UL.stop().animate({height:originalHeight},600,function(){});};var growMediaList=function(){UL.stop().animate({height:ulheight},600,function(){$(this).show();});};shrinkMediaList();UL.css({maxHeight:ulheight});UL.hoverIntent({over:function(){growMediaList();UL.unbind();}});});},AddFeatureVideo:function(refElem,videokey){var elem=$(refElem);elem.mask();$.ajax({url:SiteSettings.SiteRoot+"user/feature/"+encodeURIComponent(videokey)+"/",type:"POST",dataType:"json",success:function(resp){elem.unmask();elem.html('<span class="colored">'+SiteSettings.TextResource.Featured+"</span>");},error:function(response){if(response.status==405||response.status==404){Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.ActionNotAllowed);}else{Salem.GodTube.Com.Login.ShowDialog(function(){Salem.GodTube.Com.Media.AddFeatureVideo(refElem,videokey);});}elem.unmask();}});},Init:function(){$("a.featurevideo").click(function(){var subElem=$(this);var mediaKey=subElem.attr("mediakey");Salem.GodTube.Com.Media.AddFeatureVideo(this,mediaKey);return false;});$("div.medialist").each(function(){Salem.GodTube.Com.AjaxLinks.Init($(this),function(){Salem.GodTube.Com.Media.Init();});});Salem.GodTube.Com.Media.SetDuration();Salem.GodTube.Com.Media.SetEmbedAction();Salem.GodTube.Com.Media.SetMediaListHover();$("div.horzMediaPaging").each(function(){Salem.GodTube.Com.AjaxLinks.Init($(this),function(){Salem.GodTube.Com.Media.Init();});});$(".themewrapper").mouseover(function(e){if(typeof(backgroundUrl)!="undefined"&&backgroundUrl!=""){$(this).css("cursor","pointer");}});$(".mainbody").mouseover(function(e){var offset=$(this).offset();var y=e.pageY-offset.top;var child=$(this).children("div:first");var maxy=parseInt(child.css("padding-top").replace("px",""));if(y<=maxy-15){$(this).css("cursor","pointer");}else{$(this).css("cursor","auto");}});$(".themewrapper").click(function(e){if(typeof(backgroundUrl)!="undefined"&&backgroundUrl!=""){if(backgroundUrl.indexOf("http://")==-1&&backgroundUrl.indexOf("https://")==-1){backgroundUrl="http://"+backgroundUrl;}window.open(backgroundUrl,"_blank","");}});$(".mainbody").click(function(e){if(typeof(e.pageY)!="undefined"){var offset=$(this).offset();var y=e.pageY-offset.top;var child=$(this).children("div:first");var maxy=parseInt(child.css("padding-top").replace("px",""));if(y>maxy-15){e.stopPropagation();}}else{e.stopPropagation();}});}};$(document).ready(function(){Salem.GodTube.Com.Media.Init();});
Salem.RegisterNamespace("GodTube.Com.Comments");Salem.GodTube.Com.Comments={SetCommentDisplay:function(html){$("div.comments").replaceWith(html);$("div.commentbox").hide().find("textarea").val("");var div=$(html).filter(function(){return $(this).is("div[count]");});$("span.commentcount").html(div.attr("count"));Salem.GodTube.Com.Comments.Init();Salem.GodTube.Com.AuditLink.Init();Salem.GodTube.Com.DeleteLink.Init();},AddComment:function(objectid,objecttype,commenttext){url=SiteSettings.SiteRoot+"comment/add/"+encodeURIComponent(objecttype)+"/"+encodeURIComponent(objectid)+"/";$("div.commentbox").mask();$.ajax({type:"POST",url:url.toLowerCase(),data:({v:objectid,type:objecttype,commentText:commenttext,url:SiteSettings.BaseUrl}),dataType:"json",success:function(response){if(response.Success){Salem.GodTube.Com.Comments.SetCommentDisplay(response.Html);dialog=Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.PostCommentSuccess);setTimeout(function(){dialog.dialog("close");},3000);}$("div.commentbox").unmask();},error:function(response){if(response.status==401){Salem.GodTube.Com.Login.ShowDialog(function(){Salem.GodTube.Com.Comments.AddComment(objectid,objecttype,commenttext);});}if(response.status==405||response.status==404){Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.ActionNotAllowed);}$("div.commentbox").unmask();}});},CancelComment:function(){var commentBox=$("div.commentbox").find("textarea");commentBox.val("");commentBox.removeClass("expanded").addClass("DefaultText").val(SiteSettings.TextResource.CommentDefaultText);commentBox.blur();},CharacterCounter:function(){$("div.commentbox").find("textarea").each(function(){commentArea=$(this).parent("div.commentbox");$(this).bind("keyup keydown change focus",function(e){input=$(this);totalCharacters=input.val().length;if(commentArea.children("span.characterCounter").length==0){commentArea.append('<span class="characterCounter"></span>');}counter=commentArea.children("span.characterCounter");if(totalCharacters>500){input.addClass("inputerror");counter.html("Too many characters!");}else{if(input.hasClass("inputerror")){input.removeClass("inputerror");}if(e.keyCode!=9&&e.keyCoade!=13){counter.html("("+(500-totalCharacters)+" characters remaining)");}}});$(this).bind("blur",function(e){counter=commentArea.children("span.characterCounter");if(counter.length){counter.remove();}});});},Init:function(){this.CharacterCounter();var objId=$("div.commentbox").attr("objkey");var objType=$("div.commentbox").attr("objtype");if($.trim(objId)==""){$("a.commentlink").remove();$("a.flagComment").remove();return;}var commentBox=$("div.commentbox").find("textarea");commentBox.focus(function(){if(!commentBox.hasClass("expanded")){commentBox.addClass("expanded");}});commentBox.keyup(function(e){if(e.keyCode==27){Salem.GodTube.Com.Comments.CancelComment();}});$("a.commentlink").unbind().click(function(e){e.preventDefault();$("div.replynotice").remove();$("div.commentbox").removeAttr("reply");if($(this).hasClass("reply")){var replyText="@"+$(this).attr("username")+": ";var label=$('<div class="replynotice"/>').html(SiteSettings.TextResource.ReplyTo+": "+replyText+$(this).parents("span.comment").find("div.commentcontent p").text());$("div.commentbox").prepend(label).find("textarea").attr("reply",replyText);}$("div.commentbox").slideDown("slow");var scrollToElem=$("#videoPlayer");if($("div.commentbox").hasClass("commentboxmini")){scrollToElem=$("div.commentbox").parents(".contentSection").first();}$(document).scrollTo(scrollToElem,200,{onAfter:function(){$("div.commentbox").find("textarea").focus();}});});$("a.expandComment").unbind().toggle(function(e){e.preventDefault();var comment=$("#comment"+$(this).attr("commentid"));comment.stop().animate({height:(comment.find("p:first").height())});$(this).blur().find("span").text(SiteSettings.TextResource.LessText);},function(e){e.preventDefault();$("#comment"+$(this).attr("commentid")).stop().animate({height:30});$(this).blur().find("span").text(SiteSettings.TextResource.MoreText);});$("a.commentCancel").unbind().click(function(e){e.preventDefault();Salem.GodTube.Com.Comments.CancelComment();if(!$("div.commentbox").hasClass("commentboxmini")){$("div.commentbox").slideUp("slow").find("textarea").stop().css("backgroundColor","#fffff").removeAttr("reply").val("").blur();}$("div.replynotice").remove();if(!$("div.commentbox").hasClass("commentboxmini")){$(document).scrollTo($("div.leftcolumn"),200);}else{$(document).scrollTo($(this).parents(".contentSection").first(),200);}return false;});$("a.postComment").unbind().click(function(e){e.preventDefault();var textarea=$(this).parents("div.commentbox").children("textarea");var validate=function(input){input.unbind("change").removeClass("inputerror");input.change(function(){validate($(this));});if($.trim(input.val())==""||input.val().length>500){input.addClass("inputerror");input.focus();return false;}return true;};if(validate(textarea)){var comment=Salem.String.HtmlDecode(textarea.val());comment=Salem.String.StripHtml(comment);comment=$.trim(comment);if($.trim(textarea.attr("reply"))!=""){comment=textarea.attr("reply")+comment;}Salem.GodTube.Com.Comments.AddComment(objId,objType,comment);}});$("span.relativeTimespan").timeago();$("div.comments").each(function(){Salem.GodTube.Com.AjaxLinks.Init($(this),function(){Salem.GodTube.Com.Comments.Init();});});}};$(document).ready(function(){Salem.GodTube.Com.Comments.Init();});
Salem.RegisterNamespace("GodTube.Com.NewsletterSubscribe");Salem.GodTube.Com.NewsletterSubscribe=function(){$("div.newsletter").each(function(){var newsletterBox=$(this);this.FormElem=$(this).find("form.newsletterSignup");this.DialogElem=this.FormElem.find(".dialogMessage");this.DialogElemBody=this.DialogElem.children("p");this.Dialog=this.DialogElem.dialog({modal:true,autoOpen:false});this.SubmitButton=this.FormElem.find(".newsletterSubmit");this.EmailElem=this.FormElem.find("input[name='email']");this.CheckBoxes=this.FormElem.find("input[type='checkbox']");this.IsSubmitting=false;this.defaultText=this.EmailElem.val();var me=this;this.Submit=function(){if(!this.IsSubmitting){this.IsSubmitting=true;me.FormElem.mask();$.ajax({url:this.FormElem.attr("action"),type:"POST",data:this.FormElem.serialize(),success:function(resp){me.FormElem.unmask();me.IsSubmitting=false;if(resp.Success){$(me.CheckBoxes).each(function(){$(this).attr("checked",false);});me.EmailElem.val(me.defaultText);if(newsletterBox.hasClass("redirect")&&$.trim(resp.RedirectUrl)!=""){document.location.href=resp.RedirectUrl;return;}}me.ShowDialog();me.DialogElemBody.html(resp.Message);}});}};this.ShowDialog=function(message){this.DialogElemBody.html(message);this.Dialog.dialog("open");};this.SubmitButton.click(function(e){e.preventDefault();var val=me.EmailElem.val();if(val!=me.defaultText&&$.trim(val)!=""&&me.FormElem.find("input[type='checkbox']:checked").length>0){me.Submit();}return false;});this.EmailElem.keydown(function(event){if(event.keyCode=="13"){me.Submit();return false;}});});};Salem.RegisterNamespace("GodTube.Com.NewsletterReminder");Salem.GodTube.Com.NewsletterReminder=function(){var cookie=$.cookies.get("VideosWatched");if(cookie==null||typeof cookie=="undefined"||cookie==""){}else{cookie=intParse(cookie);if(cookie==3){}}};$(document).ready(function(){new Salem.GodTube.Com.NewsletterSubscribe();});
Salem.RegisterNamespace("GodTube.Newsletter");Salem.GodTube.Newsletter={NewsletterSignupPlayer:function(email){var newsletters=[];var message="";if(!Salem.Validation.IsValidEmail(email)){if(message!=""){message+="\r\n";}message+="Please enter a valid email address.";}if(message!=""){alert(message);}newsletters.push("godtube_must_-_see_video");if(email!=""&&newsletters.length>0){var q="email="+email+"&newsletters="+newsletters.toString()+"&source="+encodeURI(window.location.href);if(q!==""){var submitScript=document.createElement("script");submitScript.src="http://www.salememail.com/newsletters/TakeoverSubmitter.ashx?"+q;document.body.appendChild(submitScript);}}return false;},BindNewsletterSignupForms:function(){$("div.initialnewsletter").each(function(){this.SubscribeButton=$(this).find(".SubscribeButton");this.SubscribeButton.click(function(e){e.preventDefault();$(this).closest("div.initialnewsletter").hide();$("div.newsletterscontainer").show();$("div.newsletterbottom").show();return false;});});$("div.newsletterthankyou").each(function(){this.CloseButton=$(this).find(".closenewsletter");this.CloseButton.click(function(e){e.preventDefault();$("div.initialnewsletter").show();$("div.newsletterthankyou").hide();$("div.newsletterbottom").hide();return false;});});$("div.newsletterscontainer").each(function(){this.FormElem=$(this).find("form.newsletterSignup");this.CloseButton=$(this).find(".closenewsletter");this.SubmitButton=this.FormElem.find(".NewsletterSignUpButton");this.EmailElem=this.FormElem.find("input[name='email']");this.CheckBoxList=this.FormElem.find("input[type='checkbox']");this.IsSubmitting=false;this.defaultText=this.EmailElem.val();var me=this;this.SubmitButton.click(function(e){e.preventDefault();var val=me.EmailElem.val();var emailAddress=$(this).closest(".newsletterscontainer").find(".NewsletterSignupTextbox").val();var newsletters=[];var message="";if(!emailAddress){emailAddress=val;}if(val!=me.defaultText&&$.trim(val)!=""){if(typeof($(this).closest(".newsletterscontainer").find(".NewsletterCheckbox").attr("id"))!="undefined"){var selectedNewsletters=$(this).closest(".newsletterscontainer").find("input[type='checkbox']:checked");for(var i=0;i<selectedNewsletters.length;i++){newsletters.push(selectedNewsletters[i].name);}if(newsletters.length==0){message+="Please select at least one newsletter. ";}}else{if(me.FormElem.find("input[name='email']")){var stormPostTag=$(this).closest(".newsletterscontainer").find(".stormposttag").val();if(stormPostTag!=""){newsletters.push(stormPostTag);}}}if(message!=""){alert(message);}if(!Salem.Validation.IsValidEmail(emailAddress)){if(message!=""){message+="\r\n";}message+="Please enter a valid email address.";}if(emailAddress!=""&&newsletters.length>0){var q="email="+emailAddress+"&newsletters="+newsletters.toString()+"&source="+encodeURI(window.location.href);if(q!==""){var submitScript=document.createElement("script");submitScript.src="http://www.salememail.com/newsletters/TakeoverSubmitter.ashx?"+q;document.body.appendChild(submitScript);}}}else{alert("Please enter an email address.");}});this.EmailElem.keydown(function(e){if(e.keyCode=="13"){$(this).closest(".newsletterscontainer").find(".NewsletterSignUpButton").trigger("click");return false;}});this.CloseButton.click(function(e){e.preventDefault();$("div.initialnewsletter").show();$("div.newsletterscontainer").hide();$("div.newslettershow").show();$("div.newsletterbottom").hide();return false;});});},Init:function(){Salem.GodTube.Newsletter.BindNewsletterSignupForms();}};function HandleResponse(success){var customHandlingCookieName="GodTube.Newsletter.CustomHandling";var customHandleResponse=($.cookies.get(customHandlingCookieName)!=null);var thankYou=SiteSettings.SiteRoot+"newsletter-thank-you.html";if(success){$("div.newsletterscontainer").each(function(){var me=this;this.FormElem=$(this).find("form.newsletterSignup");this.EmailElem=this.FormElem.find("input[name='email']");this.CheckBoxes=this.FormElem.find("input[type='checkbox']");$(me.CheckBoxes).each(function(){$(this).attr("checked",false);});me.EmailElem.val(me.defaultText);});if(customHandleResponse){if(Salem.GodTube.Login.UserIsOnRadioPage()){var iframe=document.createElement("iframe");iframe.src=SiteSettings.SiteRoot+"GodTube-radio-registration.html";document.body.appendChild(iframe);}Salem.GodTube.Login.DialogForm.find("div.inlineFeedback span").remove();var createAccountForm=Salem.GodTube.Login.DialogForm.find("form.inlineCreateAccount");if(Salem.GodTube.Login.UserIsOnRadioPage()){var radioLink=SiteSettings.TextResource.RadioLink;var feedback=SiteSettings.TextResource.CreateAccountAndNewsletterSuccess+radioLink;createAccountForm.html(feedback);}else{createAccountForm.html(SiteSettings.TextResource.CreateAccountAndNewsletterSuccess);}createAccountForm.find(".closeButton").click(function(e){e.preventDefault();Salem.GodTube.Login.DialogForm.dialog("close");});$(".ui-dialog-content").css("height","475.267px");$(".ui-dialog").css("top","200px");$.cookie(customHandlingCookieName,null);}else{if(thankYou!==""){window.location.href=thankYou;}else{alert("Thank you for your submission.");}}}else{alert("Your subscription request was unable to be processed by the system. If you continue to receive this message, please let us know at mailsupport@GodTube.com.");}}$(document).ready(function(){Salem.GodTube.Newsletter.Init();});
Salem.RegisterNamespace("GodTube.Com.MediaPreview");Salem.GodTube.Com.MediaPreview={Init:function(){$("img[mediakey]").mouseover(function(){var img=$(this);var container=img.parent();var offsetLeft=0;if(!img.hasClass("loaded")){var mediakey=$(this).attr("mediakey");if(mediakey==null||mediakey.length<3){return;}container.css("cursor","wait");$.ajax({type:"GET",url:SiteSettings.SiteRoot+"media/mediapreview/"+mediakey.toLowerCase()+"/",data:{},success:function(resp){img.addClass("loaded");container.css("cursor","pointer");container.css("zIndex",1);if(resp.Success){container.css("position","relative");img.hide();var newImg=img.clone();newImg.addClass("rotator").show();img.after(newImg);for(var i=0;i<resp.Previews.length;i++){offsetLeft=(140/resp.Previews.length)*i;var div=$("<div/>");div.attr("img",resp.Previews[i].Url);div.addClass("previewsegment");div.css("position","absolute");div.css("top",0);div.css("left",offsetLeft);div.css("zIndex",2);div.height(80);div.width(140/resp.Previews.length);div.mouseover(function(){container.find("img.rotator").attr("src",$(this).attr("img")).show();});img.before(div);}container.mouseout(function(){$(this).find("img").hide();img.show();});container.mouseover(function(){$(this).find("img").show();img.hide();});}},error:function(response){}});}});}};$(document).ready(function(){Salem.GodTube.Com.MediaPreview.Init();});
Salem.RegisterNamespace("GodTube.Com.AuditLink");Salem.GodTube.Com.AuditLink={AuditDialog:null,Submit:function(auditid,audittype,comment,removeItem){url=SiteSettings.SiteRoot+"audit/submit/";Salem.GodTube.Com.AuditLink.AuditDialog.mask();$.ajax({type:"POST",url:url,data:({auditId:auditid,audittype:audittype,comment:comment}),dataType:"json",success:function(response){Salem.GodTube.Com.AuditLink.AuditDialog.unmask();if(response.Success){if(response.RemoveItem){removeItem.remove();}Salem.GodTube.Com.AuditLink.AuditDialog.dialog("close");}else{var dialog=$("<div/>").html(SiteSettings.TextResource.AuditSubmitFailure);dialog.dialog({title:SiteSettings.TextResource.Notice,resizable:false,height:100,modal:false});}},error:function(response){Salem.GodTube.Com.AuditLink.AuditDialog.unmask();if(response.status==401){Salem.GodTube.Com.Login.ShowDialog(function(){Salem.GodTube.Com.AuditLink.Submit(auditid,audittype,comment,removeItem);});}if(response.status==405||response.status==404){Salem.GodTube.Com.AuditLink.AuditDialog.dialog("close");Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.ActionNotAllowed);}}});},LoadDialog:function(){$.ajax({type:"GET",async:false,url:SiteSettings.SiteRoot+"ajax/getpartialview/",data:{view:"AuditForm"},dataType:"json",success:function(response){if(response.Success){Salem.GodTube.Com.AuditLink.AuditDialog=$(response.Html).dialog({title:SiteSettings.TextResource.AuditFormTitle,autoOpen:false,resizable:false,draggable:false,width:350});Salem.GodTube.Com.AuditLink.AuditDialog.validate();Salem.GodTube.Com.AuditLink.AuditDialog.find("a.GlobalRedLink").click(function(e){e.preventDefault();if(Salem.GodTube.Com.AuditLink.AuditDialog.valid()){Salem.GodTube.Com.AuditLink.Submit(Salem.GodTube.Com.AuditLink.AuditDialog.find("#auditid").val(),Salem.GodTube.Com.AuditLink.AuditDialog.find("#audittype").val(),Salem.GodTube.Com.AuditLink.AuditDialog.find("textarea").val(),$(Salem.GodTube.Com.AuditLink.AuditDialog.find("#auditremoveitem").val()));}});Salem.GodTube.Com.AuditLink.AuditDialog.find("a.cancel").click(function(e){e.preventDefault();Salem.GodTube.Com.AuditLink.AuditDialog.dialog("close");});}else{Salem.GodTube.Com.AuditLink.AuditDialog=$("<div/>").dialog({title:SiteSettings.TextResource.AuditFormTitle,autoOpen:false,resizable:false,draggable:false,width:350});}},error:function(response){Salem.GodTube.Com.AuditLink.AuditDialog=$("<div/>").dialog({title:SiteSettings.TextResource.AuditFormTitle,autoOpen:false,resizable:false,draggable:false,width:350});}});},Init:function(){$("a.auditlink, a.auditlinkText").each(function(){var link=$(this);link.unbind();if(!link.is("[auditid]")||!link.is("[audittype]")||!link.is("[auditremoveitem]")){link.remove();return true;}var auditid=link.attr("auditid");var audittype=link.attr("audittype");var auditRemoveItem=link.attr("auditremoveitem");link.click(function(e){e.preventDefault();if(Salem.GodTube.Com.AuditLink.AuditDialog==null){Salem.GodTube.Com.AuditLink.LoadDialog();}var p=$(this).offset();Salem.GodTube.Com.AuditLink.AuditDialog.find("#auditid").val(auditid);Salem.GodTube.Com.AuditLink.AuditDialog.find("#audittype").val(audittype);Salem.GodTube.Com.AuditLink.AuditDialog.find("#auditremoveitem").val(auditRemoveItem);Salem.GodTube.Com.AuditLink.AuditDialog.find("textarea").val("");Salem.GodTube.Com.AuditLink.AuditDialog.dialog("option","position",[p.left+25,p.top-$(window).scrollTop()-2]);Salem.GodTube.Com.AuditLink.AuditDialog.dialog("open");$(this).blur();Salem.GodTube.Com.AuditLink.AuditDialog.find("textarea").focus();});link.tooltip();});}};$(document).ready(function(){Salem.GodTube.Com.AuditLink.Init();});
Salem.RegisterNamespace("GodTube.Com.DeleteLink");Salem.GodTube.Com.DeleteLink={Submit:function(deleteid,deletetype,removeItem){url=SiteSettings.SiteRoot+"delete/submit/";$.ajax({type:"POST",url:url,data:({deleteId:deleteid,deleteType:deletetype}),dataType:"json",success:function(response){if(response.Success){if(response.RemoveItem){if(removeItem!=null){$(removeItem).remove();}}else{document.location.href=document.location.href;}var msg=Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.DeleteSubmitSuccess);setTimeout(function(){msg.dialog("close");},10000);}else{Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.DeleteSubmitFailure);}},error:function(response){if(response.status==401){Salem.GodTube.Com.Login.ShowDialog(function(){Salem.GodTube.Com.DeleteLink.Submit(Deleteid,Deletetype,comment,removeItem);});}if(response.status==405||response.status==404){Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.ActionNotAllowed);}}});},Init:function(){$("a.deletelink, a.deletelinkText").each(function(){var link=$(this);link.unbind();if(!link.is("[deleteid]")||!link.is("[deletetype]")||!link.is("[deleteremoveitem]")){link.remove();return true;}var deleteid=link.attr("deleteid");var deletetype=link.attr("deletetype");var deleteRemoveItem=link.attr("deleteremoveitem");link.click(function(e){e.preventDefault();Salem.GodTube.Com.MessageBox.OkCancelMessageBox(SiteSettings.TextResource.ConfirmDelete,function(){Salem.GodTube.Com.DeleteLink.Submit(deleteid,deletetype,deleteRemoveItem);});});link.tooltip();});}};$(document).ready(function(){Salem.GodTube.Com.DeleteLink.Init();});
Salem.RegisterNamespace("GodTube.Com.MessageBox");Salem.GodTube.Com.MessageBox={OkMessageBox:function(message){var dialog=$('<div class="okmessagebox"/>').dialog({title:SiteSettings.TextResource.Notice,autoOpen:false,resizable:false,buttons:{Ok:function(){$(this).dialog("destroy");}}});dialog.html(message);dialog.dialog("open");return dialog;},OkCancelMessageBox:function(message,okfunc){var dialog=$('<div class="okcancelmessagebox"/>').dialog({title:SiteSettings.TextResource.Notice,autoOpen:false,resizable:false,buttons:{Ok:function(){if(typeof(okfunc)=="function"){okfunc.call();}$(this).dialog("destroy");},Cancel:function(){$(this).dialog("destroy");}}});dialog.html(message);dialog.dialog("open");return dialog;}};
Salem.RegisterNamespace("GodTube.Com.Subscribe");Salem.GodTube.Com.Subscribe={SubscribeToUserChannel:function(refElem,username,isAdd){var elem=$(refElem);elem.mask();$.ajax({url:SiteSettings.SiteRoot+"user/"+(isAdd?"subscribe":"unsubscribe")+"/"+encodeURIComponent(username)+"/",type:"POST",dataType:"json",success:function(resp){elem.unmask();elem.parent().html((isAdd?SiteSettings.TextResource.Subscribed:SiteSettings.TextResource.Unsubscribed));},error:function(response){if(response.status==405||response.status==404){Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.ActionNotAllowed);}else{Salem.GodTube.Com.Login.ShowDialog(function(){Salem.GodTube.Com.Subscribe.SubscribeToUserChannel(refElem,username,isAdd);});}elem.unmask();}});},SubscribeToUserChannelU:function(refElem,username,isAdd){var elem=$(refElem);elem.mask();$.ajax({url:SiteSettings.SiteRoot+"user/"+(isAdd?"subscribe":"unsubscribe")+"/"+encodeURIComponent(username)+"/",type:"POST",dataType:"json",success:function(resp){elem.unmask();elem.html((isAdd?SiteSettings.TextResource.Subscribed:SiteSettings.TextResource.Unsubscribed));},error:function(response){if(response.status==405||response.status==404){Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.ActionNotAllowed);}else{Salem.GodTube.Com.Login.ShowDialog(function(){Salem.GodTube.Com.Subscribe.SubscribeToUserChannel(refElem,username,isAdd);});}elem.unmask();}});},Init:function(){$(".subscribe").each(function(){var subElem=$(this);var isSubscribed=subElem.attr("title").toLowerCase()=="true";subElem.attr("title","");var userName=subElem.find("input").val();subElem.html('<button class="'+((isSubscribed)?"actnUnsubscribe":"actnSubscribe")+'" onclick="Salem.GodTube.Com.Subscribe.SubscribeToUserChannel(this, \''+userName+"', "+!isSubscribed+');return false;">'+((isSubscribed)?SiteSettings.TextResource.Unsubscribe:SiteSettings.TextResource.Subscribe)+"</button>");});$(".deleteSubscriptions").click(function(){Salem.GodTube.Com.MessageBox.OkCancelMessageBox(SiteSettings.TextResource.ConfirmDelete,function(){Salem.GodTube.Com.DeleteLink.Submit(0,7,"");});});}};$(document).ready(function(){Salem.GodTube.Com.Subscribe.Init();});
Salem.RegisterNamespace("GodTube.Com.Favorite");Salem.GodTube.Com.Favorite={AddFavorite:function(jQueryElem,mediaKey){url=SiteSettings.SiteRoot+"media/favorite/?v="+encodeURIComponent(mediaKey);jQueryElem.mask();$.ajax({type:"POST",url:url,dataType:"json",success:function(response){if(response.Success){Salem.GodTube.Com.Favorite.Init();dialog=Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.AddFavoriteSuccess);setTimeout(function(){dialog.dialog("close");},3000);}jQueryElem.unmask();jQueryElem.hide();jQueryElem.tooltip().hide();},error:function(response){if(response.status==401){Salem.GodTube.Com.Login.ShowDialog(function(){Salem.GodTube.Com.Favorite.AddFavorite(jQueryElem,mediaKey);});}if(response.status==405||response.status==404){Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.ActionNotAllowed);}jQueryElem.unmask();}});},Init:function(){$("a.favoritelink").each(function(){var linkElem=$(this);var mediaKey=linkElem.attr("mediakey");if($.inArray(mediaKey,Salem.GodTube.Com.User.Data.Favorites)>=0){linkElem.hide();}else{linkElem.show();linkElem.unbind().click(function(e){e.preventDefault();Salem.GodTube.Com.Favorite.AddFavorite(linkElem,mediaKey);});$(this).tooltip();}});}};
Salem.RegisterNamespace("GodTube.Com.User");Salem.GodTube.Com.User.Data=null;Salem.GodTube.Com.User={RemoveAccount:function(deletetype){url=SiteSettings.SiteRoot+"delete/submit/";$.ajax({type:"POST",url:url,data:({deleteId:0,deleteType:deletetype}),dataType:"json",success:function(response){if(response.Success){document.location.href=SiteSettings.SiteRoot+"user/logout.html";}else{Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.DeleteSubmitFailure);}},error:function(response){if(response.status==401){Salem.GodTube.Com.Login.ShowDialog(function(){Salem.GodTube.Com.User.RemoveAccount(deletetype);});}if(response.status==405||response.status==404){Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.ActionNotAllowed);}}});},ValidateUsername:function(jqTextField){jqTextField.siblings(".userNameCheck").remove();if($.trim(jqTextField.val())!=""&&jqTextField.val().length>=3&&jqTextField.val().length<=20){jqTextField.after('<span htmlfor="'+jqTextField.attr("id")+'" generated="true" class="inputerror userNameCheck">'+SiteSettings.TextResource.ValidateUsernameWaitMessage+"</span>");url=SiteSettings.SiteRoot+"user/verify/"+encodeURIComponent(jqTextField.val()).toLowerCase()+"/";$.ajax({type:"POST",url:url,dataType:"json",success:function(response){if(response.Success){jqTextField.siblings(".userNameCheck").remove();}else{jqTextField.siblings(".userNameCheck").html(response.Message);}}});}},ShowSelectableProfileVideos:function(jqStorElem){var hasLoaded=false;var selectedProfileIdElem=jqStorElem;var getSelectedMediaId=function(){return selectedProfileIdElem.val();};var selectedValue=getSelectedMediaId();selectedProfileIdElem.after('<div class="selectMediaDialog" title="'+SiteSettings.TextResource.SelectProfileVideo+'"><div class="selectMediaDialogContent"></div></div>');selectedProfileIdElem.after('<span id="profileVideoReadonlyPreview" class="nomask readWrite readOnly"></span>');selectedProfileIdElem.after('<div class="editOnly group"><div><input type="radio" id="profileVideoSelectLatest" name="profileVideoSelect" value="0" '+((selectedValue=="")?'checked="checked"':"")+" /> "+SiteSettings.TextResource.SelectLatestVideo+'</div><div><input type="radio" id="profileVideoSelectCustom" name="profileVideoSelect" value="1" '+((selectedValue!="")?'checked="checked"':"")+" /> "+SiteSettings.TextResource.SelectSpecificVideo+'</div><div id="profileVideoCustomPreview" style="margin-left:30px;"><span style="float:left;margin-right:10px;" id="profileVideoPreview"></span><a id="selectNewProfileVideo" class="GlobalRedLink editOnly" href="#">'+SiteSettings.TextResource.ChangeProfileVideo+"</a></div></div>");var jqButtonElem=selectedProfileIdElem.parent().find("#selectNewProfileVideo");var dialogElem=selectedProfileIdElem.siblings(".selectMediaDialog");var readonlyPreviewElem=selectedProfileIdElem.parent().find("#profileVideoReadonlyPreview");var selectedPreviewElem=selectedProfileIdElem.parent().find("#profileVideoPreview");var dialogContentElem=dialogElem.find(".selectMediaDialogContent");dialogElem.dialog({height:550,width:500,modal:true,autoOpen:false});dialogElem.hide();var displayPreview=function(mediaId){if(mediaId==""){selectedPreviewElem.html(SiteSettings.TextResource.UsingLastestMyChannelVideoText);readonlyPreviewElem.html(SiteSettings.TextResource.UsingLastestMyChannelVideoText);customPreviewContainer.hide();return;}customPreviewContainer.show();selectedPreviewElem.mask();readonlyPreviewElem.mask();Salem.GodTube.Com.Media.MediaDetails(mediaId,function(response){selectedPreviewElem.html(response.Name);selectedPreviewElem.unmask();readonlyPreviewElem.html(response.Name);readonlyPreviewElem.unmask();},function(response){selectedPreviewElem.html(SiteSettings.TextResource.ErrorSelectingMyChannelVideo);selectedPreviewElem.unmask();readonlyPreviewElem.html(SiteSettings.TextResource.ErrorSelectingMyChannelVideo);readonlyPreviewElem.unmask();});};var customPreviewContainer=$("#profileVideoCustomPreview");var radioSelectLatest=selectedProfileIdElem.parent().find("#profileVideoSelectLatest");radioSelectLatest.bind("change click",function(){selectMedia("");customPreviewContainer.hide();});var radioSelectCustom=selectedProfileIdElem.parent().find("#profileVideoSelectCustom");radioSelectCustom.bind("change click",function(){customPreviewContainer.show();});var selectMedia=function(selectedId){selectedProfileIdElem.val(selectedId);dialogElem.dialog("close");displayPreview(selectedId);};var onPostAjaxLoad=function(){Salem.GodTube.Com.SiteActions.SelectablePreview();dialogContentElem.click(function(){var selectedElem=dialogContentElem.find('[type="radio"]:checked');if(selectedElem.length!=0){selectMedia(selectedElem.val());}});};jqButtonElem.click(function(){dialogElem.dialog("open");if(!hasLoaded){hasLoaded=true;dialogContentElem.mask();$.ajax({type:"POST",data:{cachekey:new Date().getTime()},url:SiteSettings.SiteRoot+"user/paging.json",success:function(response){dialogContentElem.unmask();if(response.Success){dialogContentElem.html(response.Html);onPostAjaxLoad();Salem.GodTube.Com.AjaxLinks.Init(dialogContentElem,function(){onPostAjaxLoad();});}else{Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.ActionNotAllowed);}},error:function(response){if(response.status==401){Salem.GodTube.Com.Login.ShowDialog(function(){Salem.GodTube.Com.Comments.AddComment(objectid,objecttype,commenttext);});}if(response.status==405||response.status==404){Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.ActionNotAllowed);}dialogContentElem.unmask();}});}return false;});selectMedia(selectedValue);selectedProfileIdElem.parents("form").find(".cancel").mouseup(function(){selectMedia(selectedValue);});},Init:function(){if(Salem.GodTube.Com.User.Data==null){$.ajax({type:"POST",data:{cachekey:new Date().getTime()},url:SiteSettings.SiteRoot+"user/mydata.json",success:function(response){if(response.Success){Salem.GodTube.Com.User.Data=response;Salem.GodTube.Com.Favorite.Init();}},error:function(response){}});}$("a.deleteUserAccount").each(function(){var link=$(this);link.unbind();if(!link.is("[deletetype]")){link.remove();return true;}var deletetype=link.attr("deletetype");link.click(function(e){e.preventDefault();Salem.GodTube.Com.MessageBox.OkCancelMessageBox(SiteSettings.TextResource.ConfirmAccountDelete,function(){Salem.GodTube.Com.User.RemoveAccount(deletetype);});});link.tooltip();});$("input.ValidateUsername").each(function(){var inpt=$(this);$(this).blur(function(){Salem.GodTube.Com.User.ValidateUsername(inpt);});});$("#OfficialArtist").click(function(){if($(this).is(":checked")){$("select#ArtistId").show();}else{$("select#ArtistId").hide();}});$(".closeSettings").click(function(){$(".userMenuArea").hide();$.cookies.set("HideUserSettings",true);});$(".welcome").click(function(){$(".userMenuArea").show();$.cookies.del("HideUserSettings");});}};$(document).ready(function(){Salem.GodTube.Com.User.Init();});
Salem.RegisterNamespace("GodTube.Com.AlertBar");Salem.GodTube.Com.AlertBar={Init:function(rootJqueryElement,callbackMethod){regx=new RegExp(/#alertbar/);if(!regx.test(document.location.href)){return;}var alertBar=$('<div id="alertBar"/>');var anchor=$("<a/>");anchor.attr("href","http://godtube.zendesk.com/forums/224729-tangle-transition-to-godtube-com");anchor.html("Tangle user?  Find out about our new home on GodTube.com.");alertBar.append(anchor);$(document.body).prepend(alertBar);}};$(document).ready(function(){Salem.GodTube.Com.AlertBar.Init();});
Salem.RegisterNamespace("GodTube.Com.Tag");Salem.GodTube.Com.Tag={Add:function(inputElem,newId,categorySelect){var inptVal=inputElem.val();if(inptVal==""){inptVal=newId;}else{if($.inArray(newId.toString(),inptVal.split(","))<0){inptVal+=","+newId;}else{return;}}inputElem.val(inptVal);Salem.GodTube.Com.Tag.UpdateDisplay(inputElem,categorySelect);},Delete:function(inputElem,delId,categorySelect){var inptVal=inputElem.val();if(inptVal==""){return;}else{var curVals=inptVal.split(",");var curValIndex=$.inArray(delId.toString(),curVals);if(curValIndex>=0){curVals.splice(curValIndex,1);inptVal=curVals.join(",");}else{return;}}inputElem.val(inptVal);Salem.GodTube.Com.Tag.UpdateDisplay(inputElem,categorySelect);},UpdateDisplay:function(inputElem,categorySelect){var displayContainer=inputElem.siblings(".inputTagSelect");var selectTagContainer=displayContainer.children(".selectedTags");var selectedCategory=categorySelect.children("option:selected").val();var tagSelect=inputElem.siblings(".inputTagSelect").children("select");displayContainer.mask();var tagIds=inputElem.val().split(",");url=SiteSettings.SiteRoot+"category/tags/"+selectedCategory+".json";$.ajax({type:"GET",url:url,cache:true,dataType:"json",success:function(response){displayContainer.unmask();selectTagContainer.html("");tagSelect.html("").hide();tagSelect.append('<option value="">'+SiteSettings.TextResource.SelectTag+"</option>");var displayTagSelection=false;for(var r in response){var exists=($.inArray(response[r].TagId.toString(),tagIds)>=0);if(!exists){tagSelect.append('<option value="'+response[r].TagId+'">'+response[r].Tag+"</option>");displayTagSelection=true;}if(exists){var dispElem=$('<span><a href="#" class="deletelink edit"></a>'+response[r].Tag+"</span>");selectTagContainer.append(dispElem);dispElem.children("a").data("tagid",response[r].TagId).click(function(e){e.preventDefault();Salem.GodTube.Com.Tag.Delete(inputElem,$(this).data("tagid"),categorySelect);});}}if(displayTagSelection){tagSelect.show();}else{tagSelect.hide();}},error:function(response){if(response.status==401){Salem.GodTube.Com.Login.ShowDialog(function(){Salem.GodTube.Com.Tag.UpdateDisplay(inputElem,categorySelect);});}if(response.status==405||response.status==404){Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.ActionNotAllowed);}}});},Init:function(){$("input.inputTags").each(function(){var inputElem=$(this);var categorySelect=inputElem.siblings("#CategoryId");if($(this).siblings("div.inputTagSelect").length!=1){inputElem.after('<div class="inputTagSelect"><select></select><div class="selectedTags"></div></div>');var selectField=inputElem.siblings(".inputTagSelect").children("select");selectField.change(function(){var val=$(this).children("option:selected").val();if(val!=""){Salem.GodTube.Com.Tag.Add(inputElem,val,categorySelect);}});categorySelect.change(function(){Salem.GodTube.Com.Tag.UpdateDisplay(inputElem,categorySelect);});}Salem.GodTube.Com.Tag.UpdateDisplay(inputElem,categorySelect);});}};$(document).ready(function(){Salem.GodTube.Com.Tag.Init();});
Salem.RegisterNamespace("GodTube.Com.Rating");Salem.GodTube.Com.Rating={Init:function(){$("span.rating[objectid]").each(function(){Salem.GodTube.Com.Rating.GetRating($(this));});},SubmitRating:function(jQueryElement,value,link){var objectId=jQueryElement.attr("objectid");var objectType=jQueryElement.attr("objecttype");$.ajax({type:"GET",url:SiteSettings.SiteRoot+"rating/update/"+objectType+"/"+objectId+"/"+value+"/",success:function(resp){if(resp.Success==true){ratingControl=$(jQueryElement).parents(".rating");$(ratingControl).children("input").rating("readOnly",true);Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.RatingSuccess);}else{}},error:function(response){if(response.status==401){Salem.GodTube.Com.Login.ShowDialog(function(){Salem.GodTube.Com.Rating.SubmitRating(jQueryElement,objectId,objectType);});}if(response.status==405||response.status==404){Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.ActionNotAllowed);}}});},WireRating:function(jQueryElement){jQueryElement.find("input.star").rating({required:"hide",callback:function(value,link){Salem.GodTube.Com.Rating.SubmitRating($(this),value,link);}});},GetRating:function(jQueryElement){var objectId=jQueryElement.attr("objectid");var objectType=jQueryElement.attr("objecttype");$.ajax({type:"GET",url:SiteSettings.SiteRoot+"rating/html/"+objectType+"/"+objectId+"/",success:function(resp){if(resp.Success==0){$(jQueryElement).html(resp.Html);setTimeout(function(){Salem.GodTube.Com.Rating.WireRating(jQueryElement);jQueryElement.show();},300);}else{}},error:function(err){}});}};$(document).ready(function(){Salem.GodTube.Com.Rating.Init();});
Salem.RegisterNamespace("GodTube.Com.Playlist");

Salem.GodTube.Com.Playlist = {
    //################## Region: Queue Methods ##################//
    Queue: function (mediakey, imgUrl, mediaName) {
        var queue = this.GetSetCookie("Playlist");
        if (typeof queue.Playlist != 'undefined' && Salem.GodTube.Com.Playlist.IsDuplicate(queue, mediakey)) { //Check for duplicate media to prevent abuse
            Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.PlaylistDuplicate);
        } else if (queue.Count >= 15) { //Limit playlist to 15
            Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.PlaylistQueueLimit);
        } else {
            queue.Playlist.push(jQuery.parseJSON("{\"" + mediakey + "\": { \"MediaKey\": \"" + mediakey + "\", \"ImgUrl\": \"" + imgUrl + "\", \"Name\": \"" + mediaName + "\" }}"));
            //Increment the count
            queue.Count = queue.Count + 1;

            this.SaveCookie("Playlist", queue);
        }
    },

    SortQueue: function () {
        //Base on drag and drop functionality. When a item is dropped, take the current order and save it to the cookie
        var queue = this.GetSetCookie("Playlist");
        var id = queue.PlaylistId;
        var userId = queue.UserId;
        var name = queue.Name;
        var description = queue.Description;
        var public = queue.Public;

        Salem.GodTube.Com.Playlist.DeleteCookie("Playlist");
        queue = this.GetSetCookie("Playlist");
        $('.sortablePlaylist img.playlistThumb').each(function (index) {
            var media = jQuery.parseJSON("{\"" + $(this).attr('mediakey') + "\": { \"MediaKey\": \"" + $(this).attr('mediakey') + "\", \"ImgUrl\": \"" + $(this).attr('src') + "\", \"Name\": \"" + $(this).attr('alt') + "\" }}");
            queue.Playlist.push(media);
            queue.Count = queue.Count + 1;
        });

        queue.PlaylistId = id;
        queue.UserId = userId;
        queue.Name = name;
        queue.Description = description;
        queue.Public = public;
        this.SaveCookie("Playlist", queue);

        Salem.GodTube.Com.Playlist.SavePlaylist(queue);
    },

    //Remove media from the queue
    DeQueue: function (queueNum) {
        var queue = this.GetSetCookie("Playlist");
        queue.Playlist.splice(queueNum, 1);
        queue.Count = queue.Count - 1;
        this.SaveCookie("Playlist", queue);
    },

    IsDuplicate: function (queue, mediakey) {
        for (var key in queue.Playlist) {
            var media = queue.Playlist[key];
            for (var property in media) {
                if (mediakey == property) {
                    return true;
                }
            }
        }
        return false;
    },

    Iterator: function () {
        var controls = {};
        var next, prev;
        var queue = this.GetSetCookie("Playlist");
        if ($('.wrap').hasClass('current')) {
            var currentItemNum = parseInt($('.current > a').children('.playlistThumb').attr('queueNumber'));
            next = (queue.Playlist[currentItemNum + 1] != undefined) ? $('.playlistThumb[queueNumber="' + (currentItemNum + 1) + '"]') : $('.playlistThumb:first');
            prev = (currentItemNum > 0 && queue.Playlist[currentItemNum - 1] != undefined) ? $('.playlistThumb[queueNumber="' + (currentItemNum - 1) + '"]') : $('.playlistThumb:last');
        } else {
            next = $('.playlistThumb:first');
            prev = $('.playlistThumb:last');
        }

        controls.NextMedia = {
            Url: SiteSettings.SiteRoot + "watch/?v=" + next.attr('mediakey'),
            ImgUrl: next.attr('src'),
            Name: next.attr('alt')
        }
        controls.PreviousMedia = {
            Url: SiteSettings.SiteRoot + "watch/?v=" + prev.attr('mediakey'),
            ImgUrl: prev.attr('src'),
            Name: prev.attr('alt')
        }
        $(".playlistIterator").html("<a id=\"playlistPrevious\" class=\"playlistButton\" title=\"" + controls.PreviousMedia.Name + "\" href=\"" + controls.PreviousMedia.Url + "\"><img src=\"" + SiteSettings.SiteRoot + "resource/theme/default/buttons/playlist-prev.png\" alt=\"" + controls.PreviousMedia.Name + "\" /></a>");
        $(".playlistIterator").append("<a id=\"playlistNext\" class=\"playlistButton\" title=\"" + controls.NextMedia.Name + "\" href=\"" + controls.NextMedia.Url + "\"><img src=\"" + SiteSettings.SiteRoot + "resource/theme/default/buttons/playlist-next.png\" alt=\"" + controls.NextMedia.Name + "\" /></a>");

        return controls;
    },

    MediaListHtml: function () {
        var queue = this.GetSetCookie("Playlist");
        var highlight = "";
        var html = "<ul><li><a href=\"javascript:void(0)\" id=\"playlistScrollLeft\"><img src=\"" + SiteSettings.SiteRoot + "resource/theme/default/buttons/playlist-scroll-left.png\" /></a></li><li><ul class=\"sortablePlaylist\">";
        for (var key in queue.Playlist) {
            var media = queue.Playlist[key];
            for (var property in media) {
                current = (Salem.QueryString.v == property) ? "current" : "";
                html += "<li><a href=\"" + SiteSettings.SiteRoot + "watch/?v=" + media[property].MediaKey + "\" title=\"" + media[property].Name + "\">";
                html += "<div class=\"wrap " + current + "\">";
                html += "<img mediakey=\"" + media[property].MediaKey + "\" queueNumber=\"" + key + "\" class=\"playlistThumb\" style=\" max-width: 120px; max-height: 70px;\" src=\"" + media[property].ImgUrl + "\" alt=\"" + media[property].Name + "\" />"; //+ media[property].Name;
                html += "</a>";
                if (queue.IsCurrentUser) {
                    html += "<a style=\"clear: right;\" href=\"javascript:void(0)\" queueNumber=\"" + key + "\" class=\"comment dequeue\"><img id=\"toggleImg\" src=\"" + SiteSettings.SiteRoot + "resource/theme/default/buttons/delete-icon-hover.gif\" alt=\"" + SiteSettings.TextResource.PlaylistHide + "\" /></a>";
                }
                html += "</div></li>";
            }
        }

        html += "</ul></li><li><a href=\"javascript:void(0)\" id=\"playlistScrollRight\"><img src=\"" + SiteSettings.SiteRoot + "resource/theme/default/buttons/playlist-scroll-right.png\" /></a></li></ul>";

        if (queue.Name != "") {
            if (queue.IsCurrentUser) {
                $(".playlistName").html((queue.Name.Length > 50) ? queue.Name.substring(0, 50) + "..." : queue.Name + " (<a id=\"savePlaylist\" href='javascript:void(0)'>" + SiteSettings.TextResource.PlaylistSaveTo + "</a>)");
            }
            else {
                $(".playlistName").html((queue.Name.Length > 50) ? queue.Name.substring(0, 50) + "..." : queue.Name);
            }
        } else {
            $(".playlistName").html("<a id=\"savePlaylist\" href='javascript:void(0)'>" + SiteSettings.TextResource.PlaylistCreate + "</a>");
        }

        return html;
    },

    //Need the keys to send back when saving a playlist
    GetPlaylistMediaKeys: function (queue) {
        var mediaKeys = jQuery.parseJSON("[]");
        for (var key in queue.Playlist) {
            var media = queue.Playlist[key];
            for (var property in media) {
                mediaKeys.push(media[property].MediaKey);
            }
        }
        return mediaKeys;
    },

    //When the media comes back from an AJAX load it needs to be formated
    ParsePlaylistMedia: function (queue, playlistMedia) {
        for (var key in playlistMedia) {
            var media = playlistMedia[key];

            queue.Playlist.push(jQuery.parseJSON("{\"" + media.Mediakey + "\": { \"MediaKey\": \"" + media.Mediakey + "\", \"ImgUrl\": \"" + media.PreviewImageUrl + "\", \"Name\": \"" + media.MediaName + "\" }}"));
            //Increment the count
            queue.Count = queue.Count + 1;
        }
        return queue;
    },

    DisplayQueue: function () {
        var html = this.MediaListHtml();

        $("#playlist").html(html);
        if ($('.wrap').hasClass('current')) {
            var shortName = ($('.current > a').children('.playlistThumb').attr('alt').length > 150) ? $('.current > a').children('.playlistThumb').attr('alt').substring(0, 150) + "..." : $('.current > a').children('.playlistThumb').attr('alt');
            $(".playlistInfo").html("<span class=\"currentlyPlaying\">" + SiteSettings.TextResource.PlaylistCurrentlyPlaying + ": </span>" + shortName + "");
        } else {
            $(".playlistInfo").html("<span class=\"currentlyPlaying\"></span>");
        }

        var queue = Salem.GodTube.Com.Playlist.GetSetCookie("Playlist");

        $('#savePlaylist').click(function () {

            if (queue.Name == "" || queue.Description == "") {
                Salem.GodTube.Com.Playlist.SetNameDescriptionDialog(queue, function () { Salem.GodTube.Com.Playlist.SavePlaylist(queue); });
            } else {
                Salem.GodTube.Com.Playlist.SavePlaylist(queue);
            }
        });

        if (queue.IsCurrentUser) {
            //Allows for drag and drop of media reordering
            $(".sortablePlaylist").sortable({
                update: function (e, ui) {
                    Salem.GodTube.Com.Playlist.SortQueue();
                }
            });

            $(".sortablePlaylist").disableSelection();
        };

        //Returns the prev/next media; but also sets the iterator controls.
        var controls = this.Iterator();

        $('.playlistToggle').html("<img id=\"toggleImg\" src=\"" + SiteSettings.SiteRoot + "resource/theme/default/buttons/playlist-hide.png\" alt=\"" + SiteSettings.TextResource.PlaylistHide + "\" />");

        $("#playlistContainer").show();
        $("#playlistHeader").fadeIn();
        $("#playlist").fadeIn();
        $(".fbrecommendations").hide();

        if ($('.wrap').hasClass('current')) {
            $('#playlist ul li').scrollTo($('.current'), 1500);
        }

        //Delete from queue hover effect
        $('.wrap').hover(function () {
            $(this).children('.comment').stop().css("top", "0px");
        }
        , function () {
            $(this).children('.comment').stop().css("top", "400px");
        });

    },

    HideQueue: function () {
        $("#playlistContainer").hide();
        $("#playlistHeader").fadeOut();
        $("#playlist").fadeOut();
        $(".fbrecommendations").show();
    },

    //################## Region: Cookie Methods ##################//
    GetSetCookie: function (cookieName) {
        var cookie = $.cookies.get("Playlist");

        if (cookie == null || typeof cookie == 'undefined' || cookie == '') {
            // setter
            var playlist = jQuery.parseJSON('{"PlaylistId": 0, "Name": "", "Continuous": true, "Count": 0, "Open": true, "Public": false, "Playlist" : []}');
            $.cookies.set(cookieName, playlist);
        }
        return $.cookies.get(cookieName);
    },

    SaveCookie: function (cookieName, json) {
        this.DeleteCookie(cookieName);
        $.cookies.set(cookieName, json);

        //Returns the prev/next media; but also sets the iterator controls.
        var controls = this.Iterator();

        if (json.Count <= 0) {
            this.HideQueue();
        } else {
            this.DisplayQueue();
        }
    },

    DeleteCookie: function (cookieName) {
        $.cookies.del(cookieName);
    },

    SelectPlaylist: function () {
    },

    SetNameDescriptionDialog: function (queue, callback) {
        Salem.GodTube.Com.MessageBox.OkCancelMessageBox($('.playlistDialog').html(), function () {
            var name = $('.okcancelmessagebox').find('.Name').last().val();
            var description = $('.okcancelmessagebox').find('.Description').last().val();
            var public = $('.okcancelmessagebox').find('.Public:checked').last().val();
            queue.Name = (name.length > 50) ? name.substring(0, 50) : name;
            queue.Description = (description.length > 250) ? description.substring(0, 250) : description;
            queue.Public = public == undefined ? false : true;

            if (queue.Name == "" || queue.Description == "") {
                Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.PlaylistNameDescriptionEmpty);
            } else {
                Salem.GodTube.Com.Playlist.SaveCookie("Playlist", queue);
                callback.call();
            }
        });
    },

    //################## Region: Playlist Ajax CRUD ##################//

    //Save the playlist
    SavePlaylist: function (queue) {
        var keys = Salem.GodTube.Com.Playlist.GetPlaylistMediaKeys(queue);
        $("div#playlist").mask();
        url = SiteSettings.SiteRoot + 'user/ajax/playlist/save/';

        $.ajax({
            type: "POST",
            url: url.toLowerCase(),
            data: ({ PlaylistId: queue.PlaylistId, Name: queue.Name, Description: queue.Description, IsPublic: queue.Public, MediaKeys: keys }),
            dataType: "json",
            traditional: true,
            success: function (response) {
                if (response.Success) {
                    dialog = Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.PlaylistSaveSuccess);
                    setTimeout(function () {
                        dialog.dialog("close");
                    }, 3000);

                    queue.PlaylistId = response.PlaylistId;
                    queue.UserId = response.UserId;
                    Salem.GodTube.Com.Playlist.SaveCookie("Playlist", queue);
                }
                $("div#playlist").unmask();
            },
            error: function (response) {
                if (response.status == 401) {
                    Salem.GodTube.Com.Login.ShowDialog(function () { Salem.GodTube.Com.Playlist.SavePlaylist(); });
                }
                if (response.status == 405 || response.status == 404) {
                    Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.ActionNotAllowed);
                }

                $("div#playlist").unmask();
            }
        });
    },

    SaveOrder: function () {
        var Ids = new Array();

        $('.myplaylists li.playlistItem').each(function (index) {
            var id = $(this).attr('orderId');
            Ids.push(id);
        });

        url = SiteSettings.SiteRoot + 'user/ajax/playlist/ordersave/';

        $.ajax({
            type: "POST",
            url: url.toLowerCase(),
            data: ({ playlistIds: Ids }),
            dataType: "json",
            traditional: true,
            success: function (response) {
                if (response.Success) {
                    dialog = Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.PlaylistOrderSuccess);
                    setTimeout(function () {
                        dialog.dialog("close");
                    }, 3000);
                }
            },
            error: function (response) {
                if (response.status == 401) {
                    Salem.GodTube.Com.Login.ShowDialog(function () { Salem.GodTube.Com.Playlist.SaveOrder(); });
                }
                if (response.status == 405 || response.status == 404) {
                    Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.ActionNotAllowed);
                }
            }
        });
    },

    //Load a certain playlist
    LoadPlaylist: function (playlistId) {
        $("div#playlist").mask();
        url = SiteSettings.SiteRoot + 'user/ajax/playlist/load/';

        $.ajax({
            type: "POST",
            url: url.toLowerCase(),
            data: ({ playlistId: playlistId }),
            dataType: "json",
            success: function (response) {
                if (response.Success) {
                    //save new media to a cookie, display queue.
                    Salem.GodTube.Com.Playlist.DeleteCookie("Playlist");
                    var queue = Salem.GodTube.Com.Playlist.GetSetCookie("Playlist");

                    queue.PlaylistId = response.PlaylistId;
                    queue.UserId = response.UserId;
                    queue.Name = response.Name;
                    queue.Description = response.Description;
                    queue.Public = response.IsPublic;
                    queue.IsCurrentUser = response.IsCurrentUser;

                    queue = Salem.GodTube.Com.Playlist.ParsePlaylistMedia(queue, response.PlaylistMedia);

                    Salem.GodTube.Com.Playlist.SaveCookie("Playlist", queue);

                    dialog = Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.PlaylistLoadSuccess);

                    setTimeout(function () {
                        dialog.dialog("close");
                    }, 3000);
                }
                $("div#playlist").unmask();
            },
            error: function (response) {
                if (response.status == 401) {
                    Salem.GodTube.Com.Login.ShowDialog(function () { Salem.GodTube.Com.Playlist.GetPlaylist(playlistId); });
                }
                if (response.status == 405 || response.status == 404) {
                    Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.ActionNotAllowed);
                }
                $("div#playlist").unmask();
                Salem.GodTube.Com.Playlist.DisplayQueue();
            }
        });
    },


    //Get a a list of the current playlists
    //Load a certain playlist
    GetPlaylists: function () {
        $("div#playlist").mask();
        url = SiteSettings.SiteRoot + 'user/ajax/playlist/get/';

        $.ajax({
            type: "POST",
            url: url.toLowerCase(),
            dataType: "json",
            success: function (response) {
                if (response.Success) {
                    $('.playlistSelect').replaceWith(response.Html);

                    Salem.GodTube.Com.MessageBox.OkCancelMessageBox($('.playlistSelect').html(), function () {
                        var playlistId = $('.okcancelmessagebox:last').find('.playlistId option:selected').val();
                        Salem.GodTube.Com.Playlist.LoadPlaylist(playlistId);
                    });
                }
                $("div#playlist").unmask();
            },
            error: function (response) {
                if (response.status == 401) {
                    Salem.GodTube.Com.Login.ShowDialog(function () { Salem.GodTube.Com.Playlist.GetPlaylists(); });
                }
                if (response.status == 405 || response.status == 404) {
                    Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.ActionNotAllowed);
                }
                $("div#playlist").unmask();
                Salem.GodTube.Com.Playlist.DisplayQueue();
            }
        });
    },

    //Remove a playlist
    DeletePlaylist: function (playlistId) {
        $("div#playlist").mask();
        url = SiteSettings.SiteRoot + 'user/ajax/playlist/delete/';

        $.ajax({
            type: "POST",
            data: ({ playlistId: playlistId }),
            url: url.toLowerCase(),
            dataType: "json",
            success: function (response) {
                if (response.Success) {
                    Salem.GodTube.Com.Playlist.HideQueue();
                    Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.PlaylistClose);
                }
                $("div#playlist").unmask();
            },
            error: function (response) {
                if (response.status == 401) {
                    Salem.GodTube.Com.Login.ShowDialog(function () { Salem.GodTube.Com.Playlist.GetPlaylists(); });
                }
                if (response.status == 405 || response.status == 404) {
                    Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.ActionNotAllowed);
                }
                $("div#playlist").unmask();
                Salem.GodTube.Com.Playlist.DisplayQueue();
            }
        });
    },

    //################## Region: jwPlayer Interaction ##################//

    ContinuousPlaylist: function () {
        jwplayer().onComplete(function () {
            var cookie = $.cookies.get("Playlist");
            if (cookie.Count > 0) {
                var controls = Salem.GodTube.Com.Playlist.Iterator();
                window.location = controls.NextMedia.Url;
            }
        });
    },

    //################## Region: Bind Events ##################//

    AddToPlaylistHoverLink: function () {
        $('.appendplaylist > a').unbind('mouseenter').bind('mouseenter', function () {
            $(this).parent('.appendplaylist').find('.playlistbutton').show();
        })

        $('.appendplaylist > a').unbind('mouseleave').bind('mouseleave', function () {
            $(this).parent('.appendplaylist').find('.playlistbutton').hide();
        });

    },

    CheckBinding: function () {
        Salem.GodTube.Com.Playlist.AddToPlaylistHoverLink();
    },

    Events: function () {
        $('.queue').click(function () {
            //Add the media key, image url, and media name to the cookie
            Salem.GodTube.Com.Playlist.Queue($(this).attr("mediakey"), $(this).attr("imgUrl"), $(this).attr("mediaName"));
        });
        $('.dequeue').click(function () {
            //Remove a media from the queue based on it's array index once it becomes a json object
            Salem.GodTube.Com.Playlist.DeQueue($(this).attr("queueNumber"));
        });

        $('.playlistThumb').hover(function () {
            $(".playlistInfo").html("<span class=\"jumpTo\">" + SiteSettings.TextResource.PlaylistJumpTo + ": </span>" + $(this).attr("alt"));
        });

        $('#playlistNext,#playlistPrevious').hover(function () {
            $(".playlistInfo").html("<span class=\"jumpTo\">" + SiteSettings.TextResource.PlaylistJumpTo + ": </span>" + $(this).attr("title"));
        });

        $('.playlistThumb,#playlistNext,#playlistPrevious').mouseleave(function () {
            $(".playlistInfo").text("");
            if ($('.wrap').hasClass('current')) {
                var shortName = ($('.current > a').children('.playlistThumb').attr('alt').length > 50) ? $('.current > a').children('.playlistThumb').attr('alt').substring(0, 50) + "..." : $('.current > a').children('.playlistThumb').attr('alt');
                $(".playlistInfo").html("<span class=\"currentlyPlaying\">" + SiteSettings.TextResource.PlaylistCurrentlyPlaying + ": </span>" + shortName);
            }
        });

        $('.playlistToggle').click(function () {
            var cookie = Salem.GodTube.Com.Playlist.GetSetCookie("Playlist");
            if ($('#toggleImg').attr('alt') == SiteSettings.TextResource.PlaylistHide) {
                $("#playlist").slideUp();
                $('#toggleImg').attr('src', SiteSettings.SiteRoot + 'resource/theme/default/buttons/playlist-show.png').attr('alt', SiteSettings.TextResource.PlaylistShow);
                cookie.Open = false;
            } else {
                $("#playlist").slideDown();
                $('#toggleImg').attr('src', SiteSettings.SiteRoot + 'resource/theme/default/buttons/playlist-hide.png').attr('alt', SiteSettings.TextResource.PlaylistHide);
                cookie.Open = true;

            }
            Salem.GodTube.Com.Playlist.DeleteCookie("Playlist");
            $.cookies.set("Playlist", cookie);
        });

        $('#playlistScrollLeft').click(function () {
            $('#playlist ul li').scrollTo("-=120px", 200);
        });

        $('#playlistScrollRight').click(function () {
            //The last element position will get closer to zero as it approaches the left side of the screen.
            if ($('#playlist ul li ul li:last').position().left > 100) {
                $('#playlist ul li').scrollTo("+=120px", 200);
            }
        });

        $('#deletePlaylist').click(function () {
            Salem.GodTube.Com.Playlist.DeletePlaylist($(this).attr('playlistid'));
        });

        $('#loadPlaylist').click(function () {
            Salem.GodTube.Com.Playlist.GetPlaylists();
        });

        $('#closePlaylist').click(function () {
            Salem.GodTube.Com.Playlist.DeleteCookie("Playlist");
            Salem.GodTube.Com.Playlist.HideQueue();
            Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.PlaylistClose);
        });

        //If someone tries to delete a playlist while it's still open we need to close it so they can't try to save afterwards with an orphaned playlist
        $('a.deletelink[deletetype="UserPlaylist"], a.deletelinkText[deletetype="UserPlaylist"]').click(function () {
            Salem.GodTube.Com.Playlist.DeleteCookie("Playlist");
            Salem.GodTube.Com.Playlist.HideQueue();
        });

        $('.playlistOptions li.menu a').hover(function () {
            $("#playlist").slideDown();
            $('#toggleImg').attr('src', SiteSettings.SiteRoot + 'resource/theme/default/buttons/playlist-hide.png').attr('alt', SiteSettings.TextResource.PlaylistHide);
        });

        $('a.savePlaylistOrder').click(function () {
            Salem.GodTube.Com.Playlist.SaveOrder();
            Salem.GodTube.Com.MessageBox.OkMessageBox(SiteSettings.TextResource.PlaylistOrderSuccess);
        });
    },

    //################## Region: Initialize ##################//
    Init: function () {
        //Grab the cookie
        var cookie = Salem.GodTube.Com.Playlist.GetSetCookie("Playlist");
        //On page load if a playlist is present show it.
        if (cookie.Count > 0) {
            Salem.GodTube.Com.Playlist.DisplayQueue();

            if (!cookie.Open) {
                $("#playlist").slideUp();
                $('#toggleImg').attr('src', SiteSettings.SiteRoot + 'resource/theme/default/buttons/playlist-show.png').attr('alt', SiteSettings.TextResource.PlaylistShow);
            }

        } else {
            Salem.GodTube.Com.Playlist.HideQueue();
        }

        $(".myplaylists").sortable();

        Salem.GodTube.Com.Playlist.Events();
        Salem.GodTube.Com.Playlist.CheckBinding();
    }
};

$(document).ready(function () {
    Salem.GodTube.Com.Playlist.Init();    
});

