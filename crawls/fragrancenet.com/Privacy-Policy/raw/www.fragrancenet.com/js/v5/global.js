$(document).ready(function(){$('input[name=search]').each(function(){$(this).autocomplete({serviceUrl:document.location.protocol+'//'+document.location.hostname+':'+document.location.port+'/f/net/autocomplete_suggestions.html',minChars:3,width:190,deferRequestBy:20,onSelect:function(value,data,input,query){if(value=='See all results')
input.val(query);input.parent().parent().parent().submit();},fnFormatResult:formatACResult,zIndex:999,maxHeight:1000});});var id;$('div.trigCurrency').mouseenter(function(){id=$(this).attr('id');id=id.replace('currency','');kickOut('navCurrency'+id);}).mouseleave(function(){kickIn('navCurrency'+id);});$('#language').mouseenter(function(){kickOut('navLanguage');}).mouseleave(function(){kickIn('navLanguage');});var genericTrigs=[['.discountCollectPop','#discountEmailCollect'],['#trig_glamourPopUp','#glamourPopUp'],['a.shoppingSpree','#shoppingSpree'],['#trig_sizeConverter','#sizeConverter'],['#trig_forgotPassword','#forgotPassword'],['#trig_giftGivingService','#giftGivingService'],['#trig_shipCalc','#shipCalc'],['.joinCoupList','#joinCoupList'],['.trig_qcPopup','#qc_popup'],['.trig_quickGift','#quickGift'],['.trig_deepDiscount','#deepDiscount'],['.trig_bestValue','#bestValue'],['.trig_dealPrice','#dealPrice'],['.trig_breastCancerAwareness','#breastCancerAwareness'],['#trig_sampleCert','#gcSamplePop']];$.each(genericTrigs,function(i){var i=genericTrigs[i];createPopUp(i[0],i[1]);delete genericTrigs[i];});initUnboxedTesterPopup('.trigger_unboxed');initUnboxedTesterPopup('.trigger_tester');initProductPop();initPromisePopup();initReviewConfirm();loginPop();$('.column').mouseenter(function(){$(this).find('.quickview').css({display:'block'});}).mouseleave(function(){$(this).find('.quickview').css({display:'none'});});});jQuery.fn.createTabs=function(opt){return this.each(function(){var container=$(this);var active=0;if(container.attr('id')=='fragFinderTabs'){var togglers=container.find('ul.togglersFF li');var tabs=container.find('.tabContentFF');}
else{var togglers=container.find('ul.togglers li');var tabs=container.find('.tabContent');}
function changeTab(i){if(!togglers.eq(i).hasClass('active')){togglers.eq(active).removeClass('active');togglers.eq(i).addClass('active');if(tabs.length==togglers.length){tabs.eq(active).removeClass('active');tabs.eq(i).addClass('active');}
active=i;}}
togglers.each(function(i){$(this).bind('click',{i:i},function(event){changeTab(event.data.i);return false;});});togglers.eq(active).addClass('active');tabs.eq(active).addClass('active');});};function browser(url){window.open(url);}
function kickOut(ele_id){$('#'+ele_id).css({display:'block','z-index':9999});$('#'+ele_id).addClass('active');}
function kickIn(ele_id){$('#'+ele_id).hide();$('#'+ele_id).removeClass('active');}
function formatACResult(value,data,currentValue){var pattern='('+data.join(' ').replace(new RegExp('(\\'+['/','.','*','+','?','|','(',')','[',']','{','}','\\'].join('|\\')+')','g'),'\\$1')+')';var terms=pattern.split(' ');terms.push('See all results');return value.replace(new RegExp('('+terms.join('|')+')','gi'),'<strong>$1<\/strong>');}
jQuery.fn.startSlideShow=function(opt){return this.each(function(){settings=jQuery.extend({speed:2000,interval:6000},opt);var slideshow=$(this);var numSlides=slideshow.find('img').length;var curSlide=0;var playing=false;function autoplay(){playing=setInterval(function(){changeSlide((curSlide+1)%numSlides);},settings.interval);}
function changeSlide(nextSlide){if(curSlide!=nextSlide){clearInterval(playing);playing=false;slideshow.find('img').eq(curSlide).fadeOut(settings.speed);slideshow.find('td').eq(curSlide).removeClass('active');slideshow.find('img').eq(nextSlide).fadeIn(settings.speed);slideshow.find('td').eq(nextSlide).addClass('active');curSlide=nextSlide;autoplay();}}
for(i=1;i<numSlides;i++){slideshow.find('img').eq(i).hide();}
for(i=0;i<numSlides;i++){slideshow.find('td').eq(i).bind('click',{slide:i},function(event){changeSlide(event.data.slide);});}
slideshow.find('td').eq(0).addClass('first active');slideshow.find('td').eq(-1).addClass('last');if(numSlides>1){autoplay();}});};function createPopUp(triggerSelector,popupSelector,autoTrigger){if(!$(triggerSelector).length)
return;$(triggerSelector).click(function(){;if(triggerSelector=='.joinCoupList'){var offer=$(this).hasClass('offer')?$(this).attr('data'):checkOffer();popupSelector='#offerPopup_'+offer;}
if(!$(popupSelector).data('init')){$(popupSelector+' .popBorder').append('<span class="side top"></span><span class="side right"></span>');$(popupSelector+' .popBorder').append('<span class="side bottom"></span><span class="side left"></span>');$(popupSelector+' .popBorder').append('<span class="corner topleft"></span><span class="corner topright"></span>');$(popupSelector+' .popBorder').append('<span class="corner bottomleft"></span><span class="corner bottomright"></span>');$(popupSelector).draggable({handle:'.t-bar'});$(popupSelector).click(function(e){e.stopPropagation();});$(popupSelector+' .t-bar .close').click(function(){$(popupSelector).hide();return false;});$(popupSelector).data('init',1);}
$(popupSelector).css("top",(($(window).height()-$(popupSelector).outerHeight())/2));$(popupSelector).css("left",(($(window).width()-$(popupSelector).outerWidth())/2));$(popupSelector).show();return false;});if(autoTrigger=='auto')
$(triggerSelector).click();}
$(document).click(function(e){$('.popup').hide();});function checkOffer(){return $('#leftBar a.offer').attr('data')||$('#rightBar a.offer').attr('data')||'';}
function initPromisePopup(){$('#promiseTabs').createTabs();if($('a.fnetPromise').length>0){createPopUp('a.fnetPromise','#fnetPromise');$('a.fnetPromise').click(function(){if($(this).hasClass('tab1'))
$('#tabPromise1').click();if($(this).hasClass('tab2'))
$('#tabPromise2').click();if($(this).hasClass('tab3'))
$('#tabPromise3').click();if($(this).hasClass('tab4'))
$('#tabPromise4').click();if($(this).hasClass('tab5'))
$('#tabPromise5').click();if($(this).hasClass('dot_restricted'))
$('#promise5').scrollTop($('#dot_restricted').position().top);});}}
function initUnboxedTesterPopup(trigger){$('#ubtTabs').createTabs();if($(trigger).length>0){createPopUp(trigger,'#unboxed_tester');$(trigger).click(function(){if($(this).hasClass('tabunboxed'))
$('#tabUbt1').click();if($(this).hasClass('tabtester'))
$('#tabUbt2').click();});}}
function submitShoppingSpree(host){if(validateEmail($('#spree_email').val())&&$('#spree_name').val()){$.ajax({type:'POST',data:$('#spree').serialize()+'&enter_contest=1',url:window.location.protocol+'//'+host+'/f/net/contest.html',success:function(){$('#shoppingSpreeName').css('color','#000');$('#shoppingSpreeEmail').css('color','#000');$('#shopping_spree_close').click();$('#shoppingSpree').hide();}});}
else{if(!$('#spree_name').val()){$('#shoppingSpreeName').css('color','#f00');}
$('#shoppingSpreeEmail').css('color','#f00');}}
function validateEmail(elementValue){var emailPattern=/^\s*[\w\.\+-]+@[a-zA-Z0-9\.-]+\.[a-zA-Z]{2,4}\s*$/;return emailPattern.test(elementValue);}
function updateShipCalc(){$.ajax({type:'GET',url:'/f/net/ship_calc_pop.html?calc_country='+$('#country').val(),dataType:'html',beforeSend:function(){$('#shipCalc_options').html('<li>Loading...</li><li><img src="/images/loading.gif" height="16" width="16" /></li>');},success:function(data){$('#shipCalc_options').html(data);},error:function(){$('#shipCalc_options').html("<li>An unexpected error has occured. Please try again later.</li>");}});return false;}
function g_openWindow(page,height,width,win,scrollbars,resizable,toolbar,menubar,top,left){width="width="+(width.toString()||'560');height="height="+(height.toString()||'400');scrollbars=",scrollbars="+((scrollbars)?"yes":"no");resizable=",resizable="+((resizable)?"yes":"no");toolbar=",toolbar="+((toolbar)?"yes":"no");menubar=",menubar="+((menubar)?"yes":"no");top=",top="+((top)?top.toString():"0");left=",left="+((left)?left.toString():"0");popupWin=window.open(page,(win||'_new'),(width+","+height+scrollbars+resizable+toolbar+menubar+top+left));try{popupWin.focus();}catch(ex){}
return false;}
function initProductPop(){createPopUp('.productPop','#productPop');if($('.productPop').length>0)
$('.productPop').click(function(){productPopRender($(this).attr('id'));});}
function initReviewConfirm(){if($('.reviewConfirmed').length>0){createPopUp('.reviewConfirmed','#brandReview','auto');}}
function productPopRender(elId){var product=elId.split('_');$.ajax({type:'GET',url:window.location.protocol+'//'+window.location.host+'/f/net/product_popup.html?sku='+product[1]+'&cat_code='+product[2]+'&wholesale='+product[3],success:function(data){var text=data.split('#::#');$('#product_pop_content').html(text[1]);$('#product_pop_title').html(text[0]);}});return false;}
function runSlideSubmission(code,coupon,token){if(!code)
code='';if(validateEmail($('#offerPopup_'+code+' input[name=email]').val())){$.ajax({type:'POST',url:window.location.protocol+'//'+window.location.host+'/f/net/slider_request.html',data:$('#offerPopup_'+code+' form').serialize()+'&data='+escape(coupon),success:function(){if(code)
window.location=window.location.protocol+'//'+window.location.host+'/f/net/coupon.html?coupon_id='+code+'&coupon_token='+token;else{$('#offerPopup_'+code+' form')[0].reset();$('#offerPopup_'+code+' .couponPopEmailLabel').css('color','#333');$('#offerPopup_'+code+' span.errorSpan').hide();$('#offerPopup_'+code).hide();}}});}
else{$('#offerPopup_'+code+' .couponPopEmailLabel').css('color','#f00');$('#offerPopup_'+code+' span.errorSpan').show();}}
function addToCart(sku,tooltipSelector,tipPos,arrowPos,postfix){if(postfix==null){postfix='';}
var oc=$('#productButton'+sku+postfix).attr('onclick');$('#productButton'+sku+postfix).attr('onclick','return false;');var tooltip=createTooltip('Loading&hellip;',tooltipSelector);var opt={fadeIn:200,fadeOut:1200,delay:2000,offsetY:-20,offsetX:0,arrowPos:arrowPos};positionTooltip('#'+tooltip.attr('id'),'#trigger'+sku+postfix,tipPos,opt);$.ajax({type:'POST',url:window.location.protocol+'//'+window.location.host+'/f/net/add_to_cart.html',dataType:'html',data:'mv_order_item='+sku+'&mv_action=process&mv_todo=refresh&sku='+sku,beforeSend:function(){tooltip.fadeIn(100);},success:function(data){if(data!=1){destroyTooltip('#'+tooltip.attr('id'));tooltip=createTooltip(data,tooltipSelector);positionTooltip('#'+tooltip.attr('id'),'#trigger'+sku+postfix,tipPos,opt);tooltip.fadeIn(200).delay(2000).fadeOut(1200,function(){destroyTooltip('#'+tooltip.attr('id'));$('#productButton'+sku+postfix).attr('onclick',oc);});}else{destroyTooltip('#'+tooltip.attr('id'));tooltip=createTooltip('You\'ve successfully added this item to your shopping bag!',tooltipSelector);positionTooltip('#'+tooltip.attr('id'),'#trigger'+sku+postfix,tipPos,opt);tooltip.fadeIn(200).delay(2000).fadeOut(1200,function(){destroyTooltip('#'+tooltip.attr('id'));$('#productButton'+sku+postfix).attr('onclick',oc);});try{var suffix;var string=$('#shoppingBagIcon span.btnTextExtraShopBag').html();string=string.replace(/\sitem(s?)/,'');var numItems=parseInt(string)+1;if(numItems.toString()=='NaN')
numItems='1';suffix=(numItems==1)?'item':'items';$('#shoppingBagIcon span.btnTextExtraShopBag').html(numItems.toString()+' '+suffix);}catch(ex){}}},error:function(){$('#productButton'+sku+postfix).attr('onclick',oc);destroyTooltip('#'+tooltip.attr('id'));}});return false;}
var search_selectors={};function scrollLetter(container,id){try{$('#'+container).scrollTop(0);$('#'+container).scrollTop($('#'+id).position().top);$('#key'+container+id).addClass('selected');$('#key'+container+search_selectors[container]).removeClass('selected');search_selectors[container]=id;}
catch(e){}
return false;}
function searchUrl(id){try{document.forms[id].action=document.location.protocol+'//'+document.location.hostname+':'+document.location.port+'/search/'+escape(document.forms[id]["search"].value);document.forms[id]["search"].parentNode.removeChild(document.forms[id]["search"]);}
catch(e){}}
function showHamacherContent(id){var divs=['ingredients','description','instructions'];for(var i=0;i<divs.length;i++){div_el=document.getElementById(divs[i]);tab_el=document.getElementById(divs[i]+"_tab");tab_el.className="popupTab roundedCornersTab";if(divs[i]==id){div_el.style.display='block';tab_el.className+=" tabSelected";}else{div_el.style.display='none';tab_el.className+=" tabNotSelected";}}}